{
  "metadata": {
    "timestamp": 1736710047779,
    "page": 664,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjY3MA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "armink/FlashDB",
      "stars": 1977,
      "defaultBranch": "master",
      "files": [
        {
          "name": ".gitattributes",
          "type": "blob",
          "size": 0.4189453125,
          "content": "* text=auto\n\n*.S text\n*.asm text\n*.c text\n*.cc text\n*.cpp text\n*.cxx text\n*.h text\n*.htm text\n*.html text\n*.in text\n*.ld text\n*.m4 text\n*.mak text\n*.mk text\n*.py text\n*.rb text\n*.s text\n*.sct text\n*.sh text\n*.txt text\n*.xml text\nMakefile text\nAUTHORS text\nCOPYING text\n\n*.LZO -text\n*.Opt -text\n*.Uv2 -text\n*.ewp -text\n*.eww -text\n*.vcproj -text\n*.bat -text\n*.dos -text\n*.icf -text\n*.inf -text\n*.ini -text\n*.sct -text\n*.xsd -text\n"
        },
        {
          "name": ".github",
          "type": "tree",
          "content": null
        },
        {
          "name": "LICENSE",
          "type": "blob",
          "size": 11.0908203125,
          "content": "                                 Apache License\n                           Version 2.0, January 2004\n                        http://www.apache.org/licenses/\n\n   TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION\n\n   1. Definitions.\n\n      \"License\" shall mean the terms and conditions for use, reproduction,\n      and distribution as defined by Sections 1 through 9 of this document.\n\n      \"Licensor\" shall mean the copyright owner or entity authorized by\n      the copyright owner that is granting the License.\n\n      \"Legal Entity\" shall mean the union of the acting entity and all\n      other entities that control, are controlled by, or are under common\n      control with that entity. For the purposes of this definition,\n      \"control\" means (i) the power, direct or indirect, to cause the\n      direction or management of such entity, whether by contract or\n      otherwise, or (ii) ownership of fifty percent (50%) or more of the\n      outstanding shares, or (iii) beneficial ownership of such entity.\n\n      \"You\" (or \"Your\") shall mean an individual or Legal Entity\n      exercising permissions granted by this License.\n\n      \"Source\" form shall mean the preferred form for making modifications,\n      including but not limited to software source code, documentation\n      source, and configuration files.\n\n      \"Object\" form shall mean any form resulting from mechanical\n      transformation or translation of a Source form, including but\n      not limited to compiled object code, generated documentation,\n      and conversions to other media types.\n\n      \"Work\" shall mean the work of authorship, whether in Source or\n      Object form, made available under the License, as indicated by a\n      copyright notice that is included in or attached to the work\n      (an example is provided in the Appendix below).\n\n      \"Derivative Works\" shall mean any work, whether in Source or Object\n      form, that is based on (or derived from) the Work and for which the\n      editorial revisions, annotations, elaborations, or other modifications\n      represent, as a whole, an original work of authorship. For the purposes\n      of this License, Derivative Works shall not include works that remain\n      separable from, or merely link (or bind by name) to the interfaces of,\n      the Work and Derivative Works thereof.\n\n      \"Contribution\" shall mean any work of authorship, including\n      the original version of the Work and any modifications or additions\n      to that Work or Derivative Works thereof, that is intentionally\n      submitted to Licensor for inclusion in the Work by the copyright owner\n      or by an individual or Legal Entity authorized to submit on behalf of\n      the copyright owner. For the purposes of this definition, \"submitted\"\n      means any form of electronic, verbal, or written communication sent\n      to the Licensor or its representatives, including but not limited to\n      communication on electronic mailing lists, source code control systems,\n      and issue tracking systems that are managed by, or on behalf of, the\n      Licensor for the purpose of discussing and improving the Work, but\n      excluding communication that is conspicuously marked or otherwise\n      designated in writing by the copyright owner as \"Not a Contribution.\"\n\n      \"Contributor\" shall mean Licensor and any individual or Legal Entity\n      on behalf of whom a Contribution has been received by Licensor and\n      subsequently incorporated within the Work.\n\n   2. Grant of Copyright License. Subject to the terms and conditions of\n      this License, each Contributor hereby grants to You a perpetual,\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n      copyright license to reproduce, prepare Derivative Works of,\n      publicly display, publicly perform, sublicense, and distribute the\n      Work and such Derivative Works in Source or Object form.\n\n   3. Grant of Patent License. Subject to the terms and conditions of\n      this License, each Contributor hereby grants to You a perpetual,\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n      (except as stated in this section) patent license to make, have made,\n      use, offer to sell, sell, import, and otherwise transfer the Work,\n      where such license applies only to those patent claims licensable\n      by such Contributor that are necessarily infringed by their\n      Contribution(s) alone or by combination of their Contribution(s)\n      with the Work to which such Contribution(s) was submitted. If You\n      institute patent litigation against any entity (including a\n      cross-claim or counterclaim in a lawsuit) alleging that the Work\n      or a Contribution incorporated within the Work constitutes direct\n      or contributory patent infringement, then any patent licenses\n      granted to You under this License for that Work shall terminate\n      as of the date such litigation is filed.\n\n   4. Redistribution. You may reproduce and distribute copies of the\n      Work or Derivative Works thereof in any medium, with or without\n      modifications, and in Source or Object form, provided that You\n      meet the following conditions:\n\n      (a) You must give any other recipients of the Work or\n          Derivative Works a copy of this License; and\n\n      (b) You must cause any modified files to carry prominent notices\n          stating that You changed the files; and\n\n      (c) You must retain, in the Source form of any Derivative Works\n          that You distribute, all copyright, patent, trademark, and\n          attribution notices from the Source form of the Work,\n          excluding those notices that do not pertain to any part of\n          the Derivative Works; and\n\n      (d) If the Work includes a \"NOTICE\" text file as part of its\n          distribution, then any Derivative Works that You distribute must\n          include a readable copy of the attribution notices contained\n          within such NOTICE file, excluding those notices that do not\n          pertain to any part of the Derivative Works, in at least one\n          of the following places: within a NOTICE text file distributed\n          as part of the Derivative Works; within the Source form or\n          documentation, if provided along with the Derivative Works; or,\n          within a display generated by the Derivative Works, if and\n          wherever such third-party notices normally appear. The contents\n          of the NOTICE file are for informational purposes only and\n          do not modify the License. You may add Your own attribution\n          notices within Derivative Works that You distribute, alongside\n          or as an addendum to the NOTICE text from the Work, provided\n          that such additional attribution notices cannot be construed\n          as modifying the License.\n\n      You may add Your own copyright statement to Your modifications and\n      may provide additional or different license terms and conditions\n      for use, reproduction, or distribution of Your modifications, or\n      for any such Derivative Works as a whole, provided Your use,\n      reproduction, and distribution of the Work otherwise complies with\n      the conditions stated in this License.\n\n   5. Submission of Contributions. Unless You explicitly state otherwise,\n      any Contribution intentionally submitted for inclusion in the Work\n      by You to the Licensor shall be under the terms and conditions of\n      this License, without any additional terms or conditions.\n      Notwithstanding the above, nothing herein shall supersede or modify\n      the terms of any separate license agreement you may have executed\n      with Licensor regarding such Contributions.\n\n   6. Trademarks. This License does not grant permission to use the trade\n      names, trademarks, service marks, or product names of the Licensor,\n      except as required for reasonable and customary use in describing the\n      origin of the Work and reproducing the content of the NOTICE file.\n\n   7. Disclaimer of Warranty. Unless required by applicable law or\n      agreed to in writing, Licensor provides the Work (and each\n      Contributor provides its Contributions) on an \"AS IS\" BASIS,\n      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or\n      implied, including, without limitation, any warranties or conditions\n      of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A\n      PARTICULAR PURPOSE. You are solely responsible for determining the\n      appropriateness of using or redistributing the Work and assume any\n      risks associated with Your exercise of permissions under this License.\n\n   8. Limitation of Liability. In no event and under no legal theory,\n      whether in tort (including negligence), contract, or otherwise,\n      unless required by applicable law (such as deliberate and grossly\n      negligent acts) or agreed to in writing, shall any Contributor be\n      liable to You for damages, including any direct, indirect, special,\n      incidental, or consequential damages of any character arising as a\n      result of this License or out of the use or inability to use the\n      Work (including but not limited to damages for loss of goodwill,\n      work stoppage, computer failure or malfunction, or any and all\n      other commercial damages or losses), even if such Contributor\n      has been advised of the possibility of such damages.\n\n   9. Accepting Warranty or Additional Liability. While redistributing\n      the Work or Derivative Works thereof, You may choose to offer,\n      and charge a fee for, acceptance of support, warranty, indemnity,\n      or other liability obligations and/or rights consistent with this\n      License. However, in accepting such obligations, You may act only\n      on Your own behalf and on Your sole responsibility, not on behalf\n      of any other Contributor, and only if You agree to indemnify,\n      defend, and hold each Contributor harmless for any liability\n      incurred by, or claims asserted against, such Contributor by reason\n      of your accepting any such warranty or additional liability.\n\n   END OF TERMS AND CONDITIONS\n\n   APPENDIX: How to apply the Apache License to your work.\n\n      To apply the Apache License to your work, attach the following\n      boilerplate notice, with the fields enclosed by brackets \"[]\"\n      replaced with your own identifying information. (Don't include\n      the brackets!)  The text should be enclosed in the appropriate\n      comment syntax for the file format. We also recommend that a\n      file or class name and description of purpose be included on the\n      same \"printed page\" as the copyright notice for easier\n      identification within third-party archives.\n\n   Copyright [yyyy] [name of copyright owner]\n\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 4.2548828125,
          "content": "![](docs/_media/flashdb.png)\n\n![GitHub Action](https://github.com/armink/FlashDB/workflows/AutoTestCI/badge.svg) [![license](https://img.shields.io/github/license/armink/FlashDB)](https://raw.githubusercontent.com/armink/FlashDB/master/LICENSE) [![docs](https://img.shields.io/badge/docs-perfect-blue)](https://armink.github.io/FlashDB/#/)\n\nEN | [中文](README_zh.md)\n\n## Introduction\n\n[FlashDB](https://github.com/armink/FlashDB) is an ultra-lightweight embedded database that focuses on providing data storage solutions for embedded products. Different from traditional database based on file system, [FlashDB](https://github.com/armink/FlashDB) combines the features of Flash and has strong performance and reliability. And under the premise of ensuring extremely low resource occupation, the service life of Flash should be extended as much as possible.\n\n[FlashDB](https://github.com/armink/FlashDB) provides two database modes:\n\n- **Key-value database**: It is a non-relational database that stores data as a collection of key-value pairs, where the key is used as a unique identifier. KVDB has simple operation and strong scalability.\n- **Time Series Database**: Time Series Database (TSDB), which stores data in **time sequence**. TSDB data has a timestamp, a large amount of data storage, and high insertion and query performance.\n\n## Usage scenario\n\nNowadays, there are more and more types of IoT products, and the types and total amount of data generated during operation are also increasing. FlashDB provides a variety of data storage solutions, not only has a small resource footprint, but also has a large storage capacity, which is very suitable for IoT products. The following are the main application scenarios:\n\n- **Key-value database**:\n  - Product parameter storage\n  - User configuration information storage\n  - Small file management\n- **Time Series Database**: \n  - Store dynamically generated structured data: such as environmental monitoring information collected by temperature and humidity sensors, human health information recorded in real time by smart bracelets, etc.\n  - Record operation log: store operation log of product history, record of abnormal alarm, etc.\n\n## Key Features\n\n- Very small footprint, ram usage is almost **0**;\n- Support multiple partitions, **multiple instances**. When the amount of data is large, the partition can be refined to reduce the retrieval time;\n- Support **wear balance** to extend Flash life;\n- Support **Power-off protection** function, high reliability;\n- Supports two KV types, string and blob, which is convenient for users to operate;\n- Support KV **incremental upgrade**, after product firmware upgrade, KVDB content also supports automatic upgrade;\n- Support to modify the status of each TSDB record to facilitate user management;\n\n## Performance and footprint\n\n### TSDB performance test 1 (nor flash W25Q64)\n\n```shell\nmsh />tsl bench\nAppend 1250 TSL in 5 seconds, average: 250.00 tsl/S, 4.00 ms/per\nQuery total spent 2218 (ms) for 1251 TSL, min 1, max 2, average: 1.77 ms/per\n```\n\nInsert average: 4 ms, query average: 1.8 ms\n\n### TSDB performance test 2 (stm32f2 onchip flash)\n\n```shell\nmsh />tsl bench\nAppend 13421 TSL in 5 seconds, average: 2684.20 tsl/S, 0.37 ms/per\nQuery total spent 1475 (ms) for 13422 TSL, min 0, max 1, average: 0.11 ms/per\n```\n\nInsert average: 0.37 ms, query average: 0.12 ms\n\n### Footprint (stm32f4 IAR8.20)\n\n```shell\n    Module                  ro code  ro data  rw data\n    ------                  -------  -------  -------\n    fdb.o                     276      232        1\n    fdb_kvdb.o              4 584      356        1\n    fdb_tsdb.o              1 160      236\n    fdb_utils.o               418    1 024\n```\n\nThe above is the map file information of IAR. It can be seen that the footprint of FlashDB is very small.\n\n## How to use\n\nFlashDB provides comprehensive documentation, see: https://armink.github.io/FlashDB/#/\n\nQuick access:\n\n- [Quick Start Document](http://armink.github.io/FlashDB/#/quick-started)\n- [Porting Document](http://armink.github.io/FlashDB/#/porting)\n- [Configuration Document](http://armink.github.io/FlashDB/#/configuration)\n- [API Document](http://armink.github.io/FlashDB/#/api)\n\n## License\n\nThe project uses the Apache-2.0 open source protocol. For details, please read the contents of the LICENSE file in the project."
        },
        {
          "name": "README_zh.md",
          "type": "blob",
          "size": 4.0166015625,
          "content": "![](docs/_media/flashdb.png)\n\n![GitHub Action](https://github.com/armink/FlashDB/workflows/AutoTestCI/badge.svg) [![license](https://img.shields.io/github/license/armink/FlashDB)](https://raw.githubusercontent.com/armink/FlashDB/master/LICENSE) [![docs](https://img.shields.io/badge/docs-perfect-blue)](https://www.bookstack.cn/read/flashdb-2.1-zh/README.md )\n\n[EN](README.md) | 中文\n\n## 简介\n\n[FlashDB](http://armink.gitee.io/flashdb/#/zh-cn/) 是一款超轻量级的嵌入式数据库，专注于提供嵌入式产品的数据存储方案。FlashDB 不仅支持传统的基于文件系统的数据库模式，而且结合了 Flash 的特性，具有较强的性能及可靠性。并在保证极低的资源占用前提下，尽可能延长 Flash 使用寿命。\n\nFlashDB 提供两种数据库模式：\n\n- **键值数据库** ：是一种非关系数据库，它将数据存储为键值（Key-Value）对集合，其中键作为唯一标识符。KVDB 操作简洁，可扩展性强。\n- **时序数据库** ：时间序列数据库 （Time Series Database , 简称 TSDB），它将数据按照 **时间顺序存储** 。TSDB 数据具有时间戳，数据存储量大，插入及查询性能高。\n\n> 欢迎 Star&Fork ：https://gitee.com/armink/FlashDB\n\n## 使用场景\n\n如今，物联网产品种类越来越多，运行时产生的数据种类及总量及也在不断变大。FlashDB 提供了多样化的数据存储方案，不仅资源占用小，并且存储容量大，非常适合用于物联网产品。下面是主要应用场景：\n\n- **键值数据库** ：\n  - 产品参数存储\n  - 用户配置信息存储\n  - 小文件管理\n- **时序数据库** ：\n  - 存储动态产生的结构化数据：如 温湿度传感器采集的环境监测信息，智能手环实时记录的人体健康信息等\n  - 记录运行日志：存储产品历史的运行日志，异常告警的记录等\n\n## 主要特性\n\n- 资源占用极低，内存占用几乎为 **0** ;\n- 支持 多分区，**多实例** 。数据量大时，可细化分区，降低检索时间；\n- 支持 **磨损平衡** ，延长 Flash 寿命；\n- 支持 **掉电保护** 功能，可靠性高；\n- 支持 字符串及 blob 两种 KV 类型，方便用户操作；\n- 支持 KV **增量升级** ，产品固件升级后， KVDB 内容也支持自动升级；\n- 支持 修改每条 TSDB 记录的状态，方便用户进行管理；\n\n## 性能及资源占用\n\n### TSDB 性能测试1 （nor flash W25Q64）\n\n```shell\nmsh />tsl bench\nAppend 1250 TSL in 5 seconds, average: 250.00 tsl/S, 4.00 ms/per\nQuery total spent 2218 (ms) for 1251 TSL, min 1, max 2, average: 1.77 ms/per\n```\n\n插入平均：4 ms，查询平均：1.8 ms\n\n### TSDB 性能测试2 （stm32f2 onchip flash）\n\n```shell\nmsh />tsl bench\nAppend 13421 TSL in 5 seconds, average: 2684.20 tsl/S, 0.37 ms/per\nQuery total spent 1475 (ms) for 13422 TSL, min 0, max 1, average: 0.11 ms/per\n```\n\n插入平均：0.37 ms，查询平均：0.12 ms\n\n### 资源占用 (stm32f4 IAR8.20)\n\n```shell\n    Module                  ro code  ro data  rw data\n    ------                  -------  -------  -------\n    fdb.o                     276      232        1\n    fdb_kvdb.o              4 584      356        1\n    fdb_tsdb.o              1 160      236\n    fdb_utils.o               418    1 024\n```\n\n上面是 IAR 的 map 文件信息，可见 FlashDB 的资源占用非常低\n\n## 如何使用\n\nFlashDB 提供了全面的文档说明，详见：https://www.bookstack.cn/read/flashdb-2.1-zh/README.md \n\n快速访问：\n\n- [快速上手文档](https://www.bookstack.cn/read/flashdb-2.1-zh/quick-started.md)\n- [移植文档](https://www.bookstack.cn/read/flashdb-2.1-zh/porting.md)\n- [配置文档](https://www.bookstack.cn/read/flashdb-2.1-zh/configuration.md)\n- [API 文档](https://www.bookstack.cn/read/flashdb-2.1-zh/configuration.md)\n\n## 支持\n\n ![support](docs/zh-cn/_media/wechat_support.png)\n\n如果 FlashDB 解决了你的问题，不妨扫描上面二维码请我 **喝杯咖啡**~ \n\n## 许可\n\n采用 Apache-2.0 开源协议，细节请阅读项目中的 LICENSE 文件内容。\n"
        },
        {
          "name": "demos",
          "type": "tree",
          "content": null
        },
        {
          "name": "docs",
          "type": "tree",
          "content": null
        },
        {
          "name": "inc",
          "type": "tree",
          "content": null
        },
        {
          "name": "port",
          "type": "tree",
          "content": null
        },
        {
          "name": "samples",
          "type": "tree",
          "content": null
        },
        {
          "name": "src",
          "type": "tree",
          "content": null
        },
        {
          "name": "tests",
          "type": "tree",
          "content": null
        },
        {
          "name": "zephyr",
          "type": "tree",
          "content": null
        }
      ]
    }
  ]
}