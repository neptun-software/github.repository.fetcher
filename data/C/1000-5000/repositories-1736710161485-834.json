{
  "metadata": {
    "timestamp": 1736710161485,
    "page": 834,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjg0MA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "cgsecurity/testdisk",
      "stars": 1727,
      "defaultBranch": "master",
      "files": [
        {
          "name": ".gitattributes",
          "type": "blob",
          "size": 0.0478515625,
          "content": "win/*.conf text eol=crlf\nwin/*.txt text eol=crlf\n"
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.3681640625,
          "content": "# Generated files\n*.o\n*.in\n*.8\nconfig/\nconfig.*\nMakefile\n.deps/\n\n/autom4te.cache\n/autoscan.log\n/autoscan-*.log\n/aclocal.m4\n/compile\n/configure\n/configure.scan\n/depcomp\n/install-sh\n/missing\n/stamp-h1\n\n/linux/testdisk.spec\n/src/fidentify\n/src/moc_qphotorec.cpp\n/src/photorec\n/src/photorec.ses\n/src/qphotorec\n/src/rcc_qphotorec.cpp\n/src/testdisk\n\n# OS specific files\n*~\n.DS_Store\n"
        },
        {
          "name": ".gitmodules",
          "type": "blob",
          "size": 0.091796875,
          "content": "[submodule \"doc\"]\n\tpath = doc\n\turl = https://github.com/cgsecurity/testdisk_documentation.git\n"
        },
        {
          "name": ".travis.yml",
          "type": "blob",
          "size": 1.34765625,
          "content": "dist: xenial\n\nnode_js:\n  - \"10\"\n\naddons:\n  apt:\n    packages:\n      - build-essential\n      - dh-autoreconf\n      - e2fslibs-dev\n      - libewf-dev\n      - libjpeg-dev\n      - libncurses5-dev\n      - libncursesw5-dev\n      - ntfs-3g-dev\n      - pkg-config\n      - qtbase5-dev\n      - qttools5-dev-tools\n      - uuid-dev\n      - zlib1g-dev\n  sonarcloud:\n    organization: \"cgsecurity-github\"\n    token:\n      secure: \"HGnOsSSghmeMHCbigtEAgkV6oaJZ1xFUhvZun0oPOv7Y2XCpIPw376G5wTppgzZUZdcSsNcu63FAnWmZZDBH29mAd6K4tIw6MDqAe9UyLzWHMEMWrMQjqSMOaqetLCw4e1Zqa0kSYyZAdg4Fp7NrNjPLho1fVUJBCCrBtU1AxaPmMNkGpSZ1d9YK6rz58jNBnm7dKp0LSUFfcas88aXKuGhGYdttdPmD4/E6XQprFGMzBMk7XXV2guKgziAprhaIAF7QOs24FhAq6IKSu00JH5UAqtgeQ9+K7srv4lHeHz/N2SzLJldrei3+WNo72T8g10enJpcerZ/lS0Tl/J+5YPsC0TAXRqZmWlbSs7CR/N6CTMlckox8tUTeDyptIYhh50xZYwR+WB4ODW5vROz7EKXVfd7YHprnMZuGMw8eJaenTZ8wm/erms38rmZNsRKqoHWXxP4QwjOJumMFJVKyq1/5MkT18lA2Ajy57WcS6SjWGyRhdirV/IGbsFdS8A21PQ0ASDA7UjJrDYclmiEfy7G1OItMv739llM2z23mN/UnKO9ijPPfi3quCSEeozQiOLQpwsdmGUhAkPfBN6dAutqIrgXl/rFV3y2KNhDprWd0GBrtNhcTLWr3/5+0rrh8ntkF904QCBvR1XwOUH4z8nmGq35WXVs4Y2aafrRw1dM=\"\n\nos: linux\nlanguage: c\ncompiler:\n  - gcc\nbefore_script:\n  - autoreconf -i\nscript:\n  - ./configure\n  - make clean\n  - build-wrapper-linux-x86-64 --out-dir bw-output make all\n  - sonar-scanner\nafter_success:\n  - sudo make install\ncache:\n  directories:\n    - '$HOME/.sonar/cache'\n"
        },
        {
          "name": ".whitesource",
          "type": "blob",
          "size": 0.181640625,
          "content": "{\n  \"scanSettings\": {\n    \"baseBranches\": []\n  },\n  \"checkRunSettings\": {\n    \"vulnerableCheckRunConclusionLevel\": \"failure\"\n  },\n  \"issueSettings\": {\n    \"minSeverityLevel\": \"LOW\"\n  }\n}"
        },
        {
          "name": "AUTHORS",
          "type": "blob",
          "size": 0.2109375,
          "content": "\nTestDisk and PhotoRec are written and maintained by Christophe GRENIER <grenier@cgsecurity.org>\nTestDisk logos has been created by Simone Brandt and by Dmitri Zdorov in 2001,\nPhotoRec logo by Marcel Bruins in 2006.\n"
        },
        {
          "name": "Android.mk",
          "type": "blob",
          "size": 2.0009765625,
          "content": "LOCAL_PATH := $(call my-dir)\ninclude $(CLEAR_VARS)\n\ntestdisk_TOP := $(abspath $(LOCAL_PATH))/..\nNDK_PROJECT_PATH = $(testdisk_TOP)\n\nCONFIGURE_CC := $(TARGET_CC)\nCONFIGURE_INCLUDES := -I$(TOPMOST)/include\nCONFIGURE_LDFLAGS := -lc -ldl\n\nCONFIGURE_CFLAGS := \\\n    -nostdlib -Bdynamic \\\n    -Wl,-dynamic-linker,/system/bin/linker \\\n    -Wl,--gc-sections \\\n    -Wl,-z,nocopyreloc \\\n    $(call host-path,\\\n        $(TARGET_CRTBEGIN_DYNAMIC_O) \\\n        $(PRIVATE_OBJECTS)) \\\n    $(call link-whole-archives,$(PRIVATE_WHOLE_STATIC_LIBRARIES))\\\n    $(call host-path,\\\n        $(PRIVATE_STATIC_LIBRARIES) \\\n        $(TARGET_LIBGCC) \\\n        $(PRIVATE_SHARED_LIBRARIES)) \\\n    $(PRIVATE_LDFLAGS) \\\n    $(PRIVATE_LDLIBS) \\\n    $(call host-path,\\\n        $(TARGET_CRTEND_O)) \\\n\t$(CONFIGURE_INCLUDES)\nCONFIGURE_LDFLAGS += -L$(SYSROOT)/usr/lib -L$(TARGET_OUT)\nCONFIGURE_INCLUDES += -I$(SYSROOT)/usr/include\nCONFIGURE_CPP := $(TOOLCHAIN_PREFIX)cpp\nLIB := $(SYSROOT)/usr/lib\n\nCONFIGURE_CPPFLAGS := \\\n\t$(CONFIGURE_INCLUDES)\n\nCONFIGURE := configure\n\nTD_BUILT_MAKEFILES := $(testdisk_TOP)/src/Android.mk\n\n.PHONY: testdisk-configure testdisk-configure-real\ntestdisk-configure-real:\n\techo $(TD_BUILT_MAKEFILES)\n\tcd $(testdisk_TOP) ; \\\n\tCC=\"$(CONFIGURE_CC)\" \\\n\tCFLAGS=\"$(CONFIGURE_CFLAGS)\" \\\n\tLD=$(TARGET_LD) \\\n\tLDFLAGS=\"$(CONFIGURE_LDFLAGS)\" \\\n\tCPP=$(CONFIGURE_CPP) \\\n\tCPPFLAGS=\"$(CONFIGURE_CPPFLAGS)\" \\\n\tPKG_CONFIG_LIBDIR=$(CONFIGURE_PKG_CONFIG_LIBDIR) \\\n\tPKG_CONFIG_TOP_BUILD_DIR=/ \\\n\t$(abspath $(testdisk_TOP))/configure --host=arm-linux-androideabi \\\n\t--prefix=/system \\\n\t--libexec /system/bin \\\n\t--datarootdir /system/usr/share \\\n\t--without-ncurses --without-ext2fs --without-jpeg \\\n\t--without-ntfs --without-ntfs3g --without-ewf \\\n\t--enable-missing-uuid-ok\n\trm -f $(TD_BUILT_MAKEFILES)\n\tfor file in $(TD_BUILT_MAKEFILES); do \\\n\t\techo \"make -C $$(dirname $$file) $$(basename $$file)\" ; \\\n\t\tmake -C $$(dirname $$file) $$(basename $$file) ; \\\n\tdone\n\ntestdisk-configure: testdisk-configure-real\n\nCONFIGURE_TARGETS += testdisk-configure\n\n-include $(TD_BUILT_MAKEFILES)\n"
        },
        {
          "name": "COPYING",
          "type": "blob",
          "size": 17.5654296875,
          "content": "\t\t    GNU GENERAL PUBLIC LICENSE\n\t\t       Version 2, June 1991\n\n Copyright (C) 1989, 1991 Free Software Foundation, Inc.,\n 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA\n Everyone is permitted to copy and distribute verbatim copies\n of this license document, but changing it is not allowed.\n\n\t\t\t    Preamble\n\n  The licenses for most software are designed to take away your\nfreedom to share and change it.  By contrast, the GNU General Public\nLicense is intended to guarantee your freedom to share and change free\nsoftware--to make sure the software is free for all its users.  This\nGeneral Public License applies to most of the Free Software\nFoundation's software and to any other program whose authors commit to\nusing it.  (Some other Free Software Foundation software is covered by\nthe GNU Lesser General Public License instead.)  You can apply it to\nyour programs, too.\n\n  When we speak of free software, we are referring to freedom, not\nprice.  Our General Public Licenses are designed to make sure that you\nhave the freedom to distribute copies of free software (and charge for\nthis service if you wish), that you receive source code or can get it\nif you want it, that you can change the software or use pieces of it\nin new free programs; and that you know you can do these things.\n\n  To protect your rights, we need to make restrictions that forbid\nanyone to deny you these rights or to ask you to surrender the rights.\nThese restrictions translate to certain responsibilities for you if you\ndistribute copies of the software, or if you modify it.\n\n  For example, if you distribute copies of such a program, whether\ngratis or for a fee, you must give the recipients all the rights that\nyou have.  You must make sure that they, too, receive or can get the\nsource code.  And you must show them these terms so they know their\nrights.\n\n  We protect your rights with two steps: (1) copyright the software, and\n(2) offer you this license which gives you legal permission to copy,\ndistribute and/or modify the software.\n\n  Also, for each author's protection and ours, we want to make certain\nthat everyone understands that there is no warranty for this free\nsoftware.  If the software is modified by someone else and passed on, we\nwant its recipients to know that what they have is not the original, so\nthat any problems introduced by others will not reflect on the original\nauthors' reputations.\n\n  Finally, any free program is threatened constantly by software\npatents.  We wish to avoid the danger that redistributors of a free\nprogram will individually obtain patent licenses, in effect making the\nprogram proprietary.  To prevent this, we have made it clear that any\npatent must be licensed for everyone's free use or not licensed at all.\n\n  The precise terms and conditions for copying, distribution and\nmodification follow.\n\n\t\t    GNU GENERAL PUBLIC LICENSE\n   TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION\n\n  0. This License applies to any program or other work which contains\na notice placed by the copyright holder saying it may be distributed\nunder the terms of this General Public License.  The \"Program\", below,\nrefers to any such program or work, and a \"work based on the Program\"\nmeans either the Program or any derivative work under copyright law:\nthat is to say, a work containing the Program or a portion of it,\neither verbatim or with modifications and/or translated into another\nlanguage.  (Hereinafter, translation is included without limitation in\nthe term \"modification\".)  Each licensee is addressed as \"you\".\n\nActivities other than copying, distribution and modification are not\ncovered by this License; they are outside its scope.  The act of\nrunning the Program is not restricted, and the output from the Program\nis covered only if its contents constitute a work based on the\nProgram (independent of having been made by running the Program).\nWhether that is true depends on what the Program does.\n\n  1. You may copy and distribute verbatim copies of the Program's\nsource code as you receive it, in any medium, provided that you\nconspicuously and appropriately publish on each copy an appropriate\ncopyright notice and disclaimer of warranty; keep intact all the\nnotices that refer to this License and to the absence of any warranty;\nand give any other recipients of the Program a copy of this License\nalong with the Program.\n\nYou may charge a fee for the physical act of transferring a copy, and\nyou may at your option offer warranty protection in exchange for a fee.\n\n  2. You may modify your copy or copies of the Program or any portion\nof it, thus forming a work based on the Program, and copy and\ndistribute such modifications or work under the terms of Section 1\nabove, provided that you also meet all of these conditions:\n\n    a) You must cause the modified files to carry prominent notices\n    stating that you changed the files and the date of any change.\n\n    b) You must cause any work that you distribute or publish, that in\n    whole or in part contains or is derived from the Program or any\n    part thereof, to be licensed as a whole at no charge to all third\n    parties under the terms of this License.\n\n    c) If the modified program normally reads commands interactively\n    when run, you must cause it, when started running for such\n    interactive use in the most ordinary way, to print or display an\n    announcement including an appropriate copyright notice and a\n    notice that there is no warranty (or else, saying that you provide\n    a warranty) and that users may redistribute the program under\n    these conditions, and telling the user how to view a copy of this\n    License.  (Exception: if the Program itself is interactive but\n    does not normally print such an announcement, your work based on\n    the Program is not required to print an announcement.)\n\nThese requirements apply to the modified work as a whole.  If\nidentifiable sections of that work are not derived from the Program,\nand can be reasonably considered independent and separate works in\nthemselves, then this License, and its terms, do not apply to those\nsections when you distribute them as separate works.  But when you\ndistribute the same sections as part of a whole which is a work based\non the Program, the distribution of the whole must be on the terms of\nthis License, whose permissions for other licensees extend to the\nentire whole, and thus to each and every part regardless of who wrote it.\n\nThus, it is not the intent of this section to claim rights or contest\nyour rights to work written entirely by you; rather, the intent is to\nexercise the right to control the distribution of derivative or\ncollective works based on the Program.\n\nIn addition, mere aggregation of another work not based on the Program\nwith the Program (or with a work based on the Program) on a volume of\na storage or distribution medium does not bring the other work under\nthe scope of this License.\n\n  3. You may copy and distribute the Program (or a work based on it,\nunder Section 2) in object code or executable form under the terms of\nSections 1 and 2 above provided that you also do one of the following:\n\n    a) Accompany it with the complete corresponding machine-readable\n    source code, which must be distributed under the terms of Sections\n    1 and 2 above on a medium customarily used for software interchange; or,\n\n    b) Accompany it with a written offer, valid for at least three\n    years, to give any third party, for a charge no more than your\n    cost of physically performing source distribution, a complete\n    machine-readable copy of the corresponding source code, to be\n    distributed under the terms of Sections 1 and 2 above on a medium\n    customarily used for software interchange; or,\n\n    c) Accompany it with the information you received as to the offer\n    to distribute corresponding source code.  (This alternative is\n    allowed only for noncommercial distribution and only if you\n    received the program in object code or executable form with such\n    an offer, in accord with Subsection b above.)\n\nThe source code for a work means the preferred form of the work for\nmaking modifications to it.  For an executable work, complete source\ncode means all the source code for all modules it contains, plus any\nassociated interface definition files, plus the scripts used to\ncontrol compilation and installation of the executable.  However, as a\nspecial exception, the source code distributed need not include\nanything that is normally distributed (in either source or binary\nform) with the major components (compiler, kernel, and so on) of the\noperating system on which the executable runs, unless that component\nitself accompanies the executable.\n\nIf distribution of executable or object code is made by offering\naccess to copy from a designated place, then offering equivalent\naccess to copy the source code from the same place counts as\ndistribution of the source code, even though third parties are not\ncompelled to copy the source along with the object code.\n\n  4. You may not copy, modify, sublicense, or distribute the Program\nexcept as expressly provided under this License.  Any attempt\notherwise to copy, modify, sublicense or distribute the Program is\nvoid, and will automatically terminate your rights under this License.\nHowever, parties who have received copies, or rights, from you under\nthis License will not have their licenses terminated so long as such\nparties remain in full compliance.\n\n  5. You are not required to accept this License, since you have not\nsigned it.  However, nothing else grants you permission to modify or\ndistribute the Program or its derivative works.  These actions are\nprohibited by law if you do not accept this License.  Therefore, by\nmodifying or distributing the Program (or any work based on the\nProgram), you indicate your acceptance of this License to do so, and\nall its terms and conditions for copying, distributing or modifying\nthe Program or works based on it.\n\n  6. Each time you redistribute the Program (or any work based on the\nProgram), the recipient automatically receives a license from the\noriginal licensor to copy, distribute or modify the Program subject to\nthese terms and conditions.  You may not impose any further\nrestrictions on the recipients' exercise of the rights granted herein.\nYou are not responsible for enforcing compliance by third parties to\nthis License.\n\n  7. If, as a consequence of a court judgment or allegation of patent\ninfringement or for any other reason (not limited to patent issues),\nconditions are imposed on you (whether by court order, agreement or\notherwise) that contradict the conditions of this License, they do not\nexcuse you from the conditions of this License.  If you cannot\ndistribute so as to satisfy simultaneously your obligations under this\nLicense and any other pertinent obligations, then as a consequence you\nmay not distribute the Program at all.  For example, if a patent\nlicense would not permit royalty-free redistribution of the Program by\nall those who receive copies directly or indirectly through you, then\nthe only way you could satisfy both it and this License would be to\nrefrain entirely from distribution of the Program.\n\nIf any portion of this section is held invalid or unenforceable under\nany particular circumstance, the balance of the section is intended to\napply and the section as a whole is intended to apply in other\ncircumstances.\n\nIt is not the purpose of this section to induce you to infringe any\npatents or other property right claims or to contest validity of any\nsuch claims; this section has the sole purpose of protecting the\nintegrity of the free software distribution system, which is\nimplemented by public license practices.  Many people have made\ngenerous contributions to the wide range of software distributed\nthrough that system in reliance on consistent application of that\nsystem; it is up to the author/donor to decide if he or she is willing\nto distribute software through any other system and a licensee cannot\nimpose that choice.\n\nThis section is intended to make thoroughly clear what is believed to\nbe a consequence of the rest of this License.\n\n  8. If the distribution and/or use of the Program is restricted in\ncertain countries either by patents or by copyrighted interfaces, the\noriginal copyright holder who places the Program under this License\nmay add an explicit geographical distribution limitation excluding\nthose countries, so that distribution is permitted only in or among\ncountries not thus excluded.  In such case, this License incorporates\nthe limitation as if written in the body of this License.\n\n  9. The Free Software Foundation may publish revised and/or new versions\nof the General Public License from time to time.  Such new versions will\nbe similar in spirit to the present version, but may differ in detail to\naddress new problems or concerns.\n\nEach version is given a distinguishing version number.  If the Program\nspecifies a version number of this License which applies to it and \"any\nlater version\", you have the option of following the terms and conditions\neither of that version or of any later version published by the Free\nSoftware Foundation.  If the Program does not specify a version number of\nthis License, you may choose any version ever published by the Free Software\nFoundation.\n\n  10. If you wish to incorporate parts of the Program into other free\nprograms whose distribution conditions are different, write to the author\nto ask for permission.  For software which is copyrighted by the Free\nSoftware Foundation, write to the Free Software Foundation; we sometimes\nmake exceptions for this.  Our decision will be guided by the two goals\nof preserving the free status of all derivatives of our free software and\nof promoting the sharing and reuse of software generally.\n\n\t\t\t    NO WARRANTY\n\n  11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY\nFOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW.  EXCEPT WHEN\nOTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES\nPROVIDE THE PROGRAM \"AS IS\" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED\nOR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\nMERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK AS\nTO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE\nPROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING,\nREPAIR OR CORRECTION.\n\n  12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING\nWILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR\nREDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES,\nINCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING\nOUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED\nTO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY\nYOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER\nPROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE\nPOSSIBILITY OF SUCH DAMAGES.\n\n\t\t     END OF TERMS AND CONDITIONS\n\n\t    How to Apply These Terms to Your New Programs\n\n  If you develop a new program, and you want it to be of the greatest\npossible use to the public, the best way to achieve this is to make it\nfree software which everyone can redistribute and change under these terms.\n\n  To do so, attach the following notices to the program.  It is safest\nto attach them to the start of each source file to most effectively\nconvey the exclusion of warranty; and each file should have at least\nthe \"copyright\" line and a pointer to where the full notice is found.\n\n    <one line to give the program's name and a brief idea of what it does.>\n    Copyright (C) <year>  <name of author>\n\n    This program is free software; you can redistribute it and/or modify\n    it under the terms of the GNU General Public License as published by\n    the Free Software Foundation; either version 2 of the License, or\n    (at your option) any later version.\n\n    This program is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU General Public License for more details.\n\n    You should have received a copy of the GNU General Public License along\n    with this program; if not, write to the Free Software Foundation, Inc.,\n    51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n\nAlso add information on how to contact you by electronic and paper mail.\n\nIf the program is interactive, make it output a short notice like this\nwhen it starts in an interactive mode:\n\n    Gnomovision version 69, Copyright (C) year name of author\n    Gnomovision comes with ABSOLUTELY NO WARRANTY; for details type `show w'.\n    This is free software, and you are welcome to redistribute it\n    under certain conditions; type `show c' for details.\n\nThe hypothetical commands `show w' and `show c' should show the appropriate\nparts of the General Public License.  Of course, the commands you use may\nbe called something other than `show w' and `show c'; they could even be\nmouse-clicks or menu items--whatever suits your program.\n\nYou should also get your employer (if you work as a programmer) or your\nschool, if any, to sign a \"copyright disclaimer\" for the program, if\nnecessary.  Here is a sample; alter the names:\n\n  Yoyodyne, Inc., hereby disclaims all copyright interest in the program\n  `Gnomovision' (which makes passes at compilers) written by James Hacker.\n\n  <signature of Ty Coon>, 1 April 1989\n  Ty Coon, President of Vice\n\nThis General Public License does not permit incorporating your program into\nproprietary programs.  If your program is a subroutine library, you may\nconsider it more useful to permit linking proprietary applications with the\nlibrary.  If this is what you want to do, use the GNU Lesser General\nPublic License instead of this License.\n"
        },
        {
          "name": "ChangeLog",
          "type": "blob",
          "size": 0.064453125,
          "content": "Use \"git log\" or consult http://git.cgsecurity.org/cgit/testdisk/\n"
        },
        {
          "name": "INFO",
          "type": "blob",
          "size": 0.1142578125,
          "content": "TestDisk & PhotoRec , https://www.cgsecurity.org\nCopyright (C) 1998-2024 Christophe GRENIER <grenier@cgsecurity.org>\n"
        },
        {
          "name": "INSTALL",
          "type": "blob",
          "size": 17.7373046875,
          "content": "Installation Instructions\n*************************\n\nCopyright (C) 1994-1996, 1999-2002, 2004-2013 Free Software Foundation,\nInc.\n\n   Copying and distribution of this file, with or without modification,\nare permitted in any medium without royalty provided the copyright\nnotice and this notice are preserved.  This file is offered as-is,\nwithout warranty of any kind.\n\nCompilation environnement\n=========================\ntestdisk uses several libraries if available:\n\n * libncurses - Required, TestDisk and PhotoRec use a text user interface, Ncurses library and development files must be available.\n * Ext2fs library - Optional, used by TestDisk to list files from ext2/ext3/ext4 partition and by PhotoRec to be able to carve the free space from an ext2/ext3 partition instead of the whole partition\n * EWF library - Optional, TestDisk and PhotoRec use it to access Expert Witness Compression Format files (ie Encase files)\n * Iconv - Optional, used to handle unicode filenames\n * Jpeg library - Optional, used by PhotoRec to improved JPEG recovery rate\n * NTFS library - Optional, used by TestDisk to list files from NTFS partition\n * Reiserfs library - Optional, used by TestDisk to list files from reiserfs partition\n * zlib library - Optional, used by PhotoRec to decompress gzipped content\n * Qt5 library - Optional, required for QPhotoRec and to update the configure script.\n\nLinux\n-----\n\n * Debian/Ubuntu: `apt-get install build-essential e2fslibs-dev libncurses5-dev libncursesw5-dev ntfs-3g-dev libjpeg-dev uuid-dev zlib1g-dev qtbase5-dev qttools5-dev-tools pkg-config dh-autoreconf git'\n * RHEL/CentOS 5: `yum install buildsys-build e2fsprogs-devel libjpeg-devel ncurses-devel ntfs-3g-devel zlib-devel'\n * RHEL/CentOS 6 or later: `yum install @buildsys-build desktop-file-utils e2fsprogs-devel libewf-devel libjpeg-devel libuuid-devel ncurses-devel ntfs-3g-devel qt-devel zlib-devel'\n * Fedora: `dnf install @buildsys-build desktop-file-utils e2fsprogs-devel libewf-devel libjpeg-devel libuuid-devel ncurses-devel ntfs-3g-devel qt-devel zlib-devel'\n\nMac OS X\n--------\n\nInstall Xcode\n\nWindows\n-------\n\ncygwin\n^^^^^^\n\nCygwin https://cygwin.com/ is a large collection of GNU and Open Source tools which provide functionality similar to a Linux distribution on Windows, it includes the gcc compiler.\nA DLL (cygwin1.dll) provides substantial POSIX API functionality, such functions may be required by some libraries that TestDisk or PhotoRec can use.\n\nMinGW-w64\n^^^^^^^^^\n\nMinGW-w64 https://mingw-w64.org/ is a free and open source software development environment for creating Microsoft Windows applications. It provides GCC for Windows 64 & 32 bits.\n\nGenerating configure script\n===========================\n\n      mkdir config\n      autoreconf --install -W all -I config\n\nBasic Installation\n==================\n\n   Briefly, the shell command `./configure && make && make install'\nshould configure, build, and install this package.  The following\nmore-detailed instructions are generic; see the `README' file for\ninstructions specific to this package.  Some packages provide this\n`INSTALL' file but do not implement all of the features documented\nbelow.  The lack of an optional feature in a given package is not\nnecessarily a bug.  More recommendations for GNU packages can be found\nin *note Makefile Conventions: (standards)Makefile Conventions.\n\n   The `configure' shell script attempts to guess correct values for\nvarious system-dependent variables used during compilation.  It uses\nthose values to create a `Makefile' in each directory of the package.\nIt may also create one or more `.h' files containing system-dependent\ndefinitions.  Finally, it creates a shell script `config.status' that\nyou can run in the future to recreate the current configuration, and a\nfile `config.log' containing compiler output (useful mainly for\ndebugging `configure').\n\n   It can also use an optional file (typically called `config.cache'\nand enabled with `--cache-file=config.cache' or simply `-C') that saves\nthe results of its tests to speed up reconfiguring.  Caching is\ndisabled by default to prevent problems with accidental use of stale\ncache files.\n\n   If you need to do unusual things to compile the package, please try\nto figure out how `configure' could check whether to do them, and mail\ndiffs or instructions to the address given in the `README' so they can\nbe considered for the next release.  If you are using the cache, and at\nsome point `config.cache' contains results you don't want to keep, you\nmay remove or edit it.\n\n   The file `configure.ac' (or `configure.in') is used to create\n`configure' by a program called `autoconf'.  You need `configure.ac' if\nyou want to change it or regenerate `configure' using a newer version\nof `autoconf'.\n\n   The simplest way to compile this package is:\n\n  1. `cd' to the directory containing the package's source code and type\n     `./configure' to configure the package for your system.\n\n     Running `configure' might take a while.  While running, it prints\n     some messages telling which features it is checking for.\n\n  2. Type `make' to compile the package.\n\n  3. Optionally, type `make check' to run any self-tests that come with\n     the package, generally using the just-built uninstalled binaries.\n\n  4. Type `make install' to install the programs and any data files and\n     documentation.  When installing into a prefix owned by root, it is\n     recommended that the package be configured and built as a regular\n     user, and only the `make install' phase executed with root\n     privileges.\n\n  5. Optionally, type `make installcheck' to repeat any self-tests, but\n     this time using the binaries in their final installed location.\n     This target does not install anything.  Running this target as a\n     regular user, particularly if the prior `make install' required\n     root privileges, verifies that the installation completed\n     correctly.\n\n  6. You can remove the program binaries and object files from the\n     source code directory by typing `make clean'.  To also remove the\n     files that `configure' created (so you can compile the package for\n     a different kind of computer), type `make distclean'.  There is\n     also a `make maintainer-clean' target, but that is intended mainly\n     for the package's developers.  If you use it, you may have to get\n     all sorts of other programs in order to regenerate files that came\n     with the distribution.\n\n  7. Often, you can also type `make uninstall' to remove the installed\n     files again.  In practice, not all packages have tested that\n     uninstallation works correctly, even though it is required by the\n     GNU Coding Standards.\n\n  8. Some packages, particularly those that use Automake, provide `make\n     distcheck', which can by used by developers to test that all other\n     targets like `make install' and `make uninstall' work correctly.\n     This target is generally not run by end users.\n\nCompilers and Options\n=====================\n\n   Some systems require unusual options for compilation or linking that\nthe `configure' script does not know about.  Run `./configure --help'\nfor details on some of the pertinent environment variables.\n\n   You can give `configure' initial values for configuration parameters\nby setting variables in the command line or in the environment.  Here\nis an example:\n\n     ./configure CC=c99 CFLAGS=-g LIBS=-lposix\n\n   *Note Defining Variables::, for more details.\n\nCompiling For Multiple Architectures\n====================================\n\n   You can compile the package for more than one kind of computer at the\nsame time, by placing the object files for each architecture in their\nown directory.  To do this, you can use GNU `make'.  `cd' to the\ndirectory where you want the object files and executables to go and run\nthe `configure' script.  `configure' automatically checks for the\nsource code in the directory that `configure' is in and in `..'.  This\nis known as a \"VPATH\" build.\n\n   With a non-GNU `make', it is safer to compile the package for one\narchitecture at a time in the source code directory.  After you have\ninstalled the package for one architecture, use `make distclean' before\nreconfiguring for another architecture.\n\n   On MacOS X 10.5 and later systems, you can create libraries and\nexecutables that work on multiple system types--known as \"fat\" or\n\"universal\" binaries--by specifying multiple `-arch' options to the\ncompiler but only a single `-arch' option to the preprocessor.  Like\nthis:\n\n     ./configure CC=\"gcc -arch i386 -arch x86_64 -arch ppc -arch ppc64\" \\\n                 CXX=\"g++ -arch i386 -arch x86_64 -arch ppc -arch ppc64\" \\\n                 CPP=\"gcc -E\" CXXCPP=\"g++ -E\"\n\n   This is not guaranteed to produce working output in all cases, you\nmay have to build one architecture at a time and combine the results\nusing the `lipo' tool if you have problems.\n\nInstallation Names\n==================\n\n   By default, `make install' installs the package's commands under\n`/usr/local/bin', include files under `/usr/local/include', etc.  You\ncan specify an installation prefix other than `/usr/local' by giving\n`configure' the option `--prefix=PREFIX', where PREFIX must be an\nabsolute file name.\n\n   You can specify separate installation prefixes for\narchitecture-specific files and architecture-independent files.  If you\npass the option `--exec-prefix=PREFIX' to `configure', the package uses\nPREFIX as the prefix for installing programs and libraries.\nDocumentation and other data files still use the regular prefix.\n\n   In addition, if you use an unusual directory layout you can give\noptions like `--bindir=DIR' to specify different values for particular\nkinds of files.  Run `configure --help' for a list of the directories\nyou can set and what kinds of files go in them.  In general, the\ndefault for these options is expressed in terms of `${prefix}', so that\nspecifying just `--prefix' will affect all of the other directory\nspecifications that were not explicitly provided.\n\n   The most portable way to affect installation locations is to pass the\ncorrect locations to `configure'; however, many packages provide one or\nboth of the following shortcuts of passing variable assignments to the\n`make install' command line to change installation locations without\nhaving to reconfigure or recompile.\n\n   The first method involves providing an override variable for each\naffected directory.  For example, `make install\nprefix=/alternate/directory' will choose an alternate location for all\ndirectory configuration variables that were expressed in terms of\n`${prefix}'.  Any directories that were specified during `configure',\nbut not in terms of `${prefix}', must each be overridden at install\ntime for the entire installation to be relocated.  The approach of\nmakefile variable overrides for each directory variable is required by\nthe GNU Coding Standards, and ideally causes no recompilation.\nHowever, some platforms have known limitations with the semantics of\nshared libraries that end up requiring recompilation when using this\nmethod, particularly noticeable in packages that use GNU Libtool.\n\n   The second method involves providing the `DESTDIR' variable.  For\nexample, `make install DESTDIR=/alternate/directory' will prepend\n`/alternate/directory' before all installation names.  The approach of\n`DESTDIR' overrides is not required by the GNU Coding Standards, and\ndoes not work on platforms that have drive letters.  On the other hand,\nit does better at avoiding recompilation issues, and works well even\nwhen some directory options were not specified in terms of `${prefix}'\nat `configure' time.\n\nOptional Features\n=================\n\n   If the package supports it, you can cause programs to be installed\nwith an extra prefix or suffix on their names by giving `configure' the\noption `--program-prefix=PREFIX' or `--program-suffix=SUFFIX'.\n\n   Some packages pay attention to `--enable-FEATURE' options to\n`configure', where FEATURE indicates an optional part of the package.\nThey may also pay attention to `--with-PACKAGE' options, where PACKAGE\nis something like `gnu-as' or `x' (for the X Window System).  The\n`README' should mention any `--enable-' and `--with-' options that the\npackage recognizes.\n\n   For packages that use the X Window System, `configure' can usually\nfind the X include and library files automatically, but if it doesn't,\nyou can use the `configure' options `--x-includes=DIR' and\n`--x-libraries=DIR' to specify their locations.\n\n   Some packages offer the ability to configure how verbose the\nexecution of `make' will be.  For these packages, running `./configure\n--enable-silent-rules' sets the default to minimal output, which can be\noverridden with `make V=1'; while running `./configure\n--disable-silent-rules' sets the default to verbose, which can be\noverridden with `make V=0'.\n\nParticular systems\n==================\n\n   On HP-UX, the default C compiler is not ANSI C compatible.  If GNU\nCC is not installed, it is recommended to use the following options in\norder to use an ANSI C compiler:\n\n     ./configure CC=\"cc -Ae -D_XOPEN_SOURCE=500\"\n\nand if that doesn't work, install pre-built binaries of GCC for HP-UX.\n\n   HP-UX `make' updates targets which have the same time stamps as\ntheir prerequisites, which makes it generally unusable when shipped\ngenerated files such as `configure' are involved.  Use GNU `make'\ninstead.\n\n   On OSF/1 a.k.a. Tru64, some versions of the default C compiler cannot\nparse its `<wchar.h>' header file.  The option `-nodtk' can be used as\na workaround.  If GNU CC is not installed, it is therefore recommended\nto try\n\n     ./configure CC=\"cc\"\n\nand if that doesn't work, try\n\n     ./configure CC=\"cc -nodtk\"\n\n   On Solaris, don't put `/usr/ucb' early in your `PATH'.  This\ndirectory contains several dysfunctional programs; working variants of\nthese programs are available in `/usr/bin'.  So, if you need `/usr/ucb'\nin your `PATH', put it _after_ `/usr/bin'.\n\n   On Haiku, software installed for all users goes in `/boot/common',\nnot `/usr/local'.  It is recommended to use the following options:\n\n     ./configure --prefix=/boot/common\n\nSpecifying the System Type\n==========================\n\n   There may be some features `configure' cannot figure out\nautomatically, but needs to determine by the type of machine the package\nwill run on.  Usually, assuming the package is built to be run on the\n_same_ architectures, `configure' can figure that out, but if it prints\na message saying it cannot guess the machine type, give it the\n`--build=TYPE' option.  TYPE can either be a short name for the system\ntype, such as `sun4', or a canonical name which has the form:\n\n     CPU-COMPANY-SYSTEM\n\nwhere SYSTEM can have one of these forms:\n\n     OS\n     KERNEL-OS\n\n   See the file `config.sub' for the possible values of each field.  If\n`config.sub' isn't included in this package, then this package doesn't\nneed to know the machine type.\n\n   If you are _building_ compiler tools for cross-compiling, you should\nuse the option `--target=TYPE' to select the type of system they will\nproduce code for.\n\n   If you want to _use_ a cross compiler, that generates code for a\nplatform different from the build platform, you should specify the\n\"host\" platform (i.e., that on which the generated programs will\neventually be run) with `--host=TYPE'.\n\nSharing Defaults\n================\n\n   If you want to set default values for `configure' scripts to share,\nyou can create a site shell script called `config.site' that gives\ndefault values for variables like `CC', `cache_file', and `prefix'.\n`configure' looks for `PREFIX/share/config.site' if it exists, then\n`PREFIX/etc/config.site' if it exists.  Or, you can set the\n`CONFIG_SITE' environment variable to the location of the site script.\nA warning: not all `configure' scripts look for a site script.\n\nDefining Variables\n==================\n\n   Variables not defined in a site shell script can be set in the\nenvironment passed to `configure'.  However, some packages may run\nconfigure again during the build, and the customized values of these\nvariables may be lost.  In order to avoid this problem, you should set\nthem in the `configure' command line, using `VAR=value'.  For example:\n\n     ./configure CC=/usr/local2/bin/gcc\n\ncauses the specified `gcc' to be used as the C compiler (unless it is\noverridden in the site shell script).\n\nUnfortunately, this technique does not work for `CONFIG_SHELL' due to\nan Autoconf limitation.  Until the limitation is lifted, you can use\nthis workaround:\n\n     CONFIG_SHELL=/bin/bash ./configure CONFIG_SHELL=/bin/bash\n\n`configure' Invocation\n======================\n\n   `configure' recognizes the following options to control how it\noperates.\n\n`--help'\n`-h'\n     Print a summary of all of the options to `configure', and exit.\n\n`--help=short'\n`--help=recursive'\n     Print a summary of the options unique to this package's\n     `configure', and exit.  The `short' variant lists options used\n     only in the top level, while the `recursive' variant lists options\n     also present in any nested packages.\n\n`--version'\n`-V'\n     Print the version of Autoconf used to generate the `configure'\n     script, and exit.\n\n`--cache-file=FILE'\n     Enable the cache: use and save the results of the tests in FILE,\n     traditionally `config.cache'.  FILE defaults to `/dev/null' to\n     disable caching.\n\n`--config-cache'\n`-C'\n     Alias for `--cache-file=config.cache'.\n\n`--quiet'\n`--silent'\n`-q'\n     Do not print messages saying which checks are being made.  To\n     suppress all normal output, redirect it to `/dev/null' (any error\n     messages will still be shown).\n\n`--srcdir=DIR'\n     Look for the package's source code in directory DIR.  Usually\n     `configure' can determine that directory automatically.\n\n`--prefix=DIR'\n     Use DIR as the installation prefix.  *note Installation Names::\n     for more details, including other options available for fine-tuning\n     the installation locations.\n\n`--no-create'\n`-n'\n     Run the configure checks, but stop before creating any output\n     files.\n\n`configure' also accepts some other, not widely useful, options.  Run\n`configure --help' for more details.\n"
        },
        {
          "name": "Makefile.am",
          "type": "blob",
          "size": 2.578125,
          "content": "SUBDIRS = icons man src\ndocdir ?= $(datadir)/doc/$(PACKAGE)\n\nEXTRA_DIST = AUTHORS COPYING ChangeLog INFO INSTALL NEWS README.md README_dev_photorec.txt THANKS compile.sh \\\n\tprogsreiserfs-journal.patch progsreiserfs-file-read.patch \\\n\tdarwin/readme_mac_powerpc.txt darwin/readme_mac_intel.txt \\\n\tdocumentation.html \\\n\tdos/readme.txt \\\n\tlinux/testdisk.spec.in \\\n\tlinux/qphotorec.desktop \\\n\tsrc/icon_ph.rc src/icon_qph.rc src/icon_tst.rc \\\n\tsrc/photorec_64x64.png \\\n\tsrc/gnome/README \\\n\tsrc/gnome/application-exit.png  \\\n\tsrc/gnome/application-x-cd-image.png \\\n\tsrc/gnome/drive-harddisk.png \\\n\tsrc/gnome/folder.png \\\n\tsrc/gnome/go-next.png \\\n\tsrc/gnome/go-previous.png \\\n\tsrc/gnome/help-about.png \\\n\tsrc/gnome/image-x-generic.png \\\n\tsrc/lang/qphotorec.ca.ts \\\n\tsrc/lang/qphotorec.cs.ts \\\n\tsrc/lang/qphotorec.el.ts \\\n\tsrc/lang/qphotorec.es.ts \\\n\tsrc/lang/qphotorec.fi.ts \\\n\tsrc/lang/qphotorec.fr.ts \\\n\tsrc/lang/qphotorec.it.ts \\\n\tsrc/lang/qphotorec.ja.ts \\\n\tsrc/lang/qphotorec.pl.ts \\\n\tsrc/lang/qphotorec.pt.ts \\\n\tsrc/lang/qphotorec.ru.ts \\\n\tsrc/lang/qphotorec.sv_SE.ts \\\n\tsrc/lang/qphotorec.tr.ts \\\n\tsrc/lang/qphotorec.zh_CN.ts \\\n\tsrc/lang/qphotorec.zh_TW.ts \\\n\twin/qt.conf \\\n\twin/readme.txt win/photorec_win.exe.manifest win/qphotorec_win.exe.manifest \\\n\twin/testdisk_win.exe.manifest \\\n\tAndroid.mk jni/Android.mk \\\n\t.travis.yml\n\ninstall-data-hook:\n\t$(mkinstalldirs) $(DESTDIR)$(docdir)\n\t$(INSTALL_DATA) $(top_srcdir)/AUTHORS $(top_srcdir)/ChangeLog $(top_srcdir)/NEWS $(top_srcdir)/README.md $(top_srcdir)/THANKS $(top_srcdir)/documentation.html $(DESTDIR)$(docdir)\nif USEQT\n\t$(mkinstalldirs) $(DESTDIR)$(datadir)/applications\n\t$(INSTALL_DATA) $(top_srcdir)/linux/qphotorec.desktop $(DESTDIR)$(datadir)/applications\nendif\n\nuninstall-hook:\n\trm -rf $(DESTDIR)$(docdir)\nif USEQT\n\trm -f $(DESTDIR)$(datadir)/applications/qphotorec.desktop\nendif\n\nstatic:\n\trm -f src/testdisk src/testdisk.exe src/photorec src/photorec.exe src/fidentify src/fidentify.exe src/qphotorec src/qphotorec.exe\n\t$(MAKE) LDFLAGS=\"$(LDFLAGS) -static\" LIBS=\"$(PTHREAD_LIBS) $(LIBS)\" CFLAGS=\"$(PTHREAD_CFLAGS) $(CFLAGS)\" CXXFLAGS=\"$(PTHREAD_CFLAGS) $(CXXFLAGS)\"\n\nsmallstatic:\n\t$(MAKE) static\n\t(cd src && $(MAKE) small) || exit 1;\n\nextras:\n\t(cd src && $(MAKE) extras) || exit 1;\n\nextrasstatic:\n\t$(MAKE) LDFLAGS=\"$(LDFLAGS) -static\" LIBS=\"$(PTHREAD_LIBS) $(LIBS)\" CFLAGS=\"$(PTHREAD_CFLAGS) $(CFLAGS)\" CXXFLAGS=\"$(PTHREAD_CFLAGS) $(CXXFLAGS)\" extras\n\nsession_%.framac:\n\t(cd src && $(MAKE) $@) || exit 1;\n\nframa-c-%:\n\t(cd src && $(MAKE) $@) || exit 1;\n\ncppcheck:\n\tcppcheck --quiet --enable=all -DHAVE_CONFIG_H -I$(builddir) -I/usr/include $(srcdir)/src\n\nDISTCLEANFILES = *~ core\n"
        },
        {
          "name": "NEWS",
          "type": "blob",
          "size": 19.986328125,
          "content": "Current news\n== 7.2 ==\n== General Improvements ==\n- Display disk serial number when selecting source disk\n- Add support for BeFS for EFI GPT and Mac partition table\n\n== TestDisk ==\n- When searching for partition, press '+' key to skip 5% of the disk.\n- exfat: Better utf-8 support when iconv is missing\n- APFS: Detect APFS partition\n\n== PhotoRec & QPhotoRec ==\n- Huge work to formally verify (Frama-C WP) the code using by the various parsers\nNew file formats\n- bbdoc\n- clip - Clip Studio Paint\n- drw - micrografx designer format\n- exr - OpenEXR v2\n- fbx: Kaydara 3D file\n- FCStd\n- hdf: Hierarchical Data Format 5\n- lz: lzip compressed file\n- Microsoft Jet DB / Sage Simply Accounting database\n- mtcx - Mathcad\n- rvt - Revit\n- shp/shx - Shaefile support\n- wad - Doom\n\nNew translations for QPhotoRec: Finnish, Polish, Greek (el), sv_SE and zh_CN\n\n== 7.1 ==\n== General Improvements ==\n* It should be possible to reproduce, byte for byte, every build of testdisk package in Debian https://wiki.debian.org/ReproducibleBuilds\n* Windows: Identify again the device model (Regression present in 7.0 version)\n\n== TestDisk ==\n=== Improvements ===\n* Ask confirmation when user quits the list of partitions found by TestDisk\n=== Bug fixes ===\n* Various fix for Scripted run\n\n== PhotoRec & QPhotoRec ==\n=== Improvements ===\n* Log the correct filenames in photorec.log file\n* Reduced false positives for tar\n* Fix recovery of mobius camera videos.\n* Fix recovery of progressive jpeg\n* Extract the filesize from sqlite header when available\n* Recover more fragmented files\n\nExtract of the new file formats recovered by PhotoRec:\n* .aes: Synology AES key files\n* .axp: Pinnacle Studio\n* .bdm: AVHCD index\n* .cpi: AVCHD Clip Information\n* .DS_Store: Apple Desktop Services Store\n* .dvr: RT60\n* .gi: Roxio Creator\n* .gpx: Guitar Pro 6\n* .gp4: Guitar Pro 4\n* .iam/.ipt Autodesk Inventor part\n* .icns: Apple Icon Image\n* .jsonlz4: Mozilla bookmarks\n* .lyx LyX 2.X\n* .mpl: AVHCD playlist\n* .tg Tux Guitar 1.2\n* .vdj: VirtualDJ\n* .wee: weecast\n* .xar: XAR Archive\n\n== 7.0 ==\n\n=== General Improvements ===\nVarious fix including security fix, thanks to\n* Coverity scan (Static Analysis of source code)\n* afl-fuzz (security-oriented fuzzer).\n* Denis Andzakovic from Security Assessment for reporting an exploitable Stack Buffer Overflow\n\n=== TestDisk ===\n==== Improvements ====\n* exFAT: better support\n* ext4: handle 64 bit blocks or 64 KiB blocksize. Fix detection and file listing\n\n==== Bug fixes ====\n* Avoid erroneous error when writing 512 bytes on hard disk using 4k sector\n* FAT, NTFS: avoid NULL pointer dereference if localtime() returns NULL. Thanks to Graham Sutherland for reporting this bug.\n\n=== PhotoRec & QPhotoRec ===\nQPhotoRec is a Graphical User Interface (Qt based GUI) version of PhotoRec. More user friendly, it recognizes the same file formats.\n\nPhotoRec remains recommended for advanced users, it can stop a recovery and resume it later, it recovers more fragmented files when brute-force technology is enabled and expert mode is available.\n\n==== Improvements ====\n* Reduced false positives for more than 80 file formats.\n* .gif: fix filesize detection\n* .flv: add Flash filesize detection\n* .mpg: detect filesize for MPEG\n* .ra: detect filesize for RealAudio3\n* Improved algorithm to deal with data fragmentation resulting in a general speed increased\n* Speedup brute-force mode. Brute-force mode can recover more fragmented files, but it's still slow and not 100% reliable. You can enable it in PhotoRec Options menu.\n\nNew file formats recovered by PhotoRec:\n* .3dm: Rhino / openNURBS\n* .ari: ARRI Raw Video\n* .camrec: Camtasia Studio\n* .dad: Micae DVR\n* .dcm: Digital Imaging and Communications in Medicine (DICOM)\n* .fp12: File Maker Pro 12\n* .kra: Krita\n* .mlv: Magic Lantern Video\n* .notebook: SMART notebook\n* .ora: Mypaint\n* .red: RED2 video format\n* .rlv: Revelation password\n* .vbm: Veeam Backup Metadata\n* .woff: Web Open Font Format\n\n\n\n== 6.14 ==\n* The log file generated by the Windows version (cygwin) reports bad sectors in a more readable fashion, example\n<code>ReadFile Data error (cyclic redundancy check)</code>.\n* As openssl isn't used, don't link with this cryptographic library (Debian tries to avoid mixing GPL code and openssl)\n\n=== TestDisk ===\n==== Improvements ====\n* <code>testdisk /list</code> now displays the disk model, serial number, firmware version and hpa or dco presence if detected\n* Recover WBFS (Wii Backup File System) partition\n* Make FAT RebuildBS works when there is a single FAT table\n* Interface: Display the partition table type if autodetected\n* Interface: modified warning about mismatching geometry between FAT or NTFS boot sector and HD geometry information ([http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=651756 Debian #651756])\n* Interface: Remove \"Allow partial last cylinder\" option\n\n==== Bug fixes ====\n* Fix crc in EFI backup GPT\n* Rewrote how TestDisk aligns partition on cylinder or 1MB boundary. It avoids to create partition entry where the partition ends after the end of the disk.\n\n=== PhotoRec ===\n==== Improvements ====\n* Improve Olympus .orf recovery\n* Improve WP Mac/WP5/WP6 Corel Documents .wpd files recovery\n* Fix thumbs.db recovery, avoid some false positive with .doc\n* Interface: if less than 10 file families are enabled, display the results even if zero has been found yet\n\nNew file formats:\n* .aep After Effects\n* .axx AxCrypt\n* .dp Designer, a Photobook Designer Software\n* .lzh archive\n* .mmap MindManager\n* .plt Gerber Graphix Advantage\n* .prproj Adobe Premiere project\n* .psb Adobe Photoshop Image\n* .pts PTGui,  panoramic stitching software\n* .qcp The QCP File Format and Media Types for Speech Data (RFC3625)\n* .shn Shorten audio file\n* .snt Windows Sticky Notes\n* .ttd TinyTag Data\n* .wallet Armory bitcoin wallet\n* .wim Windows imaging (WIM) image\n\n==== Bug fixes ====\n* Fix an endless loop during .caf file recovery\n* Fix tiff recovery including some raw file formats, 64-bit version wasn't affected\n\n\n== 6.13 ==\nFix UAC manifests for Windows, so users don't need to use right-click \"Run As Administrator\"\n\nTestDisk\n- Fix image creation, image.dd file wasn't created (Regression introduced in 6.12)\n- Detect Vmware VMFS partition\n- Locate lost GFS2 partition but not yet the size\n- Log HDD serial number and firmware revision\n- List NTFS Alternate Data Streams (ADS)\n\nPhotoRec\n- Session recovery restarts at the previous location\n- Better MPEG recovery, there should be less concatenated videos.\n- Better JPG recovery, there should be less cases where thumbnails were recovered instead of the picture itself.\n- Handle large avi files using \"AVIX\" or mov files using 64-bit chunk size.\n- Rename recovered pdf using the title (not perfect)\n- Major cleanup of PhotoRec core code\n\n6.12\nfidentify, a little utility sharing PhotoRec signature database, is now build by default. It identifies the type of data contained in a file and reports the extension as seen by PhotoRec. It is similar to the Unix file command. Add compatibility with\n- libewf 20110312\n- ncurses 5.8\n- ntfs-3g\nFix detection of Encase 6 .ewf files\n\nTestDisk\n- Convert the directory name when it can't be created (Fix for Windows/Cygwin version)\n- Better HPA/DCO detection: handle the case where native_max is null.\n- Image Creation is now faster than previous version when there are bad sectors\n- List and copy (experimental) files from exFAT filesystem\n- Improved NTFS undelete interface\n\nPhotoRec\n- PhotoRec checks for EFBIG (file too large) error when writing files. It's usefull to avoid erronous message about \"no free space available\" when recovering to a FAT filesystem.\n- Recover files from exFAT unallocated space\n- Use doc/xls/ppt title to name recovered Office document, use first filename in zip archive...\n- Possibility to add your own extension/custom signature to PhotoRec\n- Generated a report.xml file using Digital Forensics XML\n\n6.11\nTestDisk & PhotoRec 6.11 should use less CPU.\nThis new TestDisk version can undelete files for NTFS filesystem and recover deleted exFAT and ext4.\nPhotoRec\n- Performance improvement when scanning for numerous file type\n- Fix several bugs including an endless loop, several memory leaks and several out-of-bound memory access\n- 50 file formats have been added\n\n6.10\nTestDisk & PhotoRec 6.10 comes with severals improvements:\n- Report disk manufacturer and model under Windows and Linux (Only Linux was\n  supported in 6.9)\n- Under Linux, /dev/mapper/* and /dev/md? are now listed with the harddisks.\n- Now both OS and compiler versions are recorded in the log file.\n\nThis new TestDisk version can\n- undelete files and directories for FAT filesystem,\n- undelete files for ext2 filesystem,\n- copy files from ext2/ext3 partitions. These feature was already available\n  for FAT and NTFS.\n\nPhotoRec\n- Load and save FileOpts settings: remember which file types to recover\n- For JPEG files, extract the time/date from Exif header and set the\n  file time. It's now easier to sort the recovered jpg.\n- PhotoRec can now identify and recover 38 additional file formats.\n\n6.9\nTestDisk & PhotoRec 6.9 comes with numerous improvements:\n- They are compatible with ntfsprogs 2.0, the latest library version for\naccessing NTFS partitions, e2fsprogs 1.40.6, the latest library for accessing\n ext2/ext3 partitions.\n- EFI GUID Partition Table is now supported. EFI GPT is mainly used on Itanium,\nMacBook and Mac Pro.\n- Both utilities can use sudo if the user is not root, this functionnality will\nbe enabled for at least MacOSX, so users won't have to go into a command line.\n- Improved Windows disk support, most internal USB card reader should now work.\n- Disk model (ie. ATA ST3120026AS, _NEC DVD_RW ND-4550A...) are now reported\nunder Linux.\n\nTestDisk\n- New file system support has been added: encrypted LUKS, Mac HFSX, Linux Raid\nmd 1.0/1.1/1.2 (0.9 was already supported).\n- It displays unicode filenames correctly, and can handle unicode filesnames\n while copying files from an NTFS partition when supported by the underlying\n libraries.\n- It's now possible to copy files from a lost FAT partition found by TestDisk\n (Already possible for NTFS).\n- In the Advanced menu, TestDisk can create a raw/dd-like image of a partition.\n\nPhotoRec\n- For ext2/ext3 file systems, PhotoRec 6.9 can search in the whole space or in\nunallocated space only. This feature was already available for FAT and NTFS\nfilesystem.\n- It has better session support which allows a recovery to be stopped and\nrestarted later.\n- New file formats are supported: Acronis True Image .TIB, AutoCAD's .DWG and\nPowerTab .PTB, Cineon image file/SMTPE DPX .DPX, Comic Life .comicdoc, HP\nPhotosmart Photo Printing Album .albm, KeepAssX .KDB, Maya .MB and .MP,\nMicrosoft OneNOte .one file, Microsoft Visual Studio Resource file .RES,\nMicrosoft VB's .CLS, Outlook .MSG, QuickBook .FST, SketchUp .SKP, Vmware .vmdk,\nWinSpec .SPE, Windows Enhanced MetaFile .emf, MS Windows Link .lnk, Internet\nExplorer index.dat, Macintosh Picture .pct, SunPCI Disk Image,XBOX GTA San\nAndreas Save File, Final Cut Pro .fcp and Digital Speech Standard .dss.\n\n6.8\nVersion 6.8 is mainly a bugfix but some small improvements has been made to\nboth TestDisk and PhotoRec:\n- Partition type is now autodetected.\n- TestDisk and PhotoRec can now be used under screen, the screen manager with\nVT100/ANSI terminal emulation.\n\nTestDisk\nHFS detection has been improved to avoid false positive.\nTestDisk logs potential NTFS partition location from MFT & MFTMirr location\nwhile rebuilding NTFS boot sector.\n\nPhotoRec\nSome important bugfixes (false positive problem, implementation bugs) have been\nmade in PhotoRec 6.8. JPG bruteforce recovery has been improved a little bit,\nyou can use it to recover more fragmented jpeg but it's very time consuming and\nnot 100% reliable, so it's still disabled by default.\n.7z, .cab, .rar and .tar recovery have been improved, .dta and .spss file\nformats have been added.\n\n6.7\nBoth utilities are faster than previous versions: a better disk caching is\nused in PhotoRec, a better way to handle the sector to scan is used in\nTestDisk. Windows version of TestDisk and PhotoRec doesn't use\npread()/pwrite() cygwin implementation (A bug seems present).\n\nTestDisk\nTestDisk 6.7 handles partition created under Microsoft Vista.\nTraditionally partitions were created on cylinder boundaries. Under Vista,\nthey are now independent of the disk geometry: partitions are aligned to 1\nMB boundary, TestDisk now handles that. It also fixes how the advanced\nmenu works.\n\nPhotoRec\nPhotoRec 6.7 uses less CPU. It also adds support for 3ds max, Archive\n.ace, CD Audio .cda, FastTrackerII Extended Module .xm, Linux archive .a,\nLinux/Unix ELF binary, Mac OS .emlx mail format, Macomedia Compressed\nFlash .swc, Macromedia .flv, Macromedia Freehand 5 (.fh5) & 10 (.fh10) and\nInDesign .indd, Matroska .mkv, MP3 with ID3 header, MS cabinet archive\n.cab, MSOffice \"Open\" XML .docx, .pptx, .xlsx, MS executable (PE), MS\nWindows Metafile .wmf, NJStar .njx, Quickbooks .qbb and .qbw, Real Audio\n.rm, registry config file .reg, RPM package .rpm, Windows registry header\ndetection and Event Log .evt\n\n6.6\nGeneral Improvements\n- Encase Expert Witness Compression Format is now supported, so Computer\nForensic Experts can use TestDisk and PhotoRec more easily.\n- Under new Vista OS, harddisks are now being reported again.\nTestDisk\n- If LBA48 support seems missing (HD bigger than 130 GB not supported by\nthe OS), TestDisk will warn the user. This problem is common when a user\nreinstalls his OS and forgets to install the latest service patches.\n- NTFS: TestDisk should be able to list files from NTFS partitions even if\nsome filesystem corruption has occurred; more importantly, it will allow\nthe user to copy whatever file data it can as well.\n- FAT: Improved heuristics to find the first FAT area during boot sector\nrebuild.\nPhotoRec\n- A new method for handling fragmented data is now used, making recovery\nmore reliable and faster.\n- PhotoRec can be set to search for files in FAT16/FAT32 unallocated space\nonly; which avoids wasting time recovering files that are still\naccessible, making the recovery of 'lost files' much faster and more\nefficient.\n- New file formats have been added: .3g2 (Mov video family), .aif Apple\nAudio, .all .cpr Cubase Song, .blend Blender, .cam Casio QV Digital Camera\nImage, .flac Free Lossless Audio Codec, .mdf Microsoft SQL, .swf\nMacromedia Flash and .vcf VCard (not confused with .txt anymore)\n\n6.5\nTestDisk\n- A screen has been added to control the log file creation.\n- It's now possible from TestDisk file listing to copy files from NTFS\npartition to a selected directory.\n- NTFS MFT can also be repaired in more cases.\n- A compilation problem has been fixed with old version of libntfs.\n- Documentation has been fixed, it now displays correctly with IE.\nPhotoRec\n- New file formats have been added: AppleWorks .cwk, DIF Digital Video .dv,\nDjVu .djv, Finale .mus, Incredimail .imm, .imb, iTunes mhbd, MIDI .mid,\nMS Backup, Real Media .rm & .ram, Reason .rns, ruby .rb, .xml\n- File size detection for .bmp, .pdf, .gif, Office document has been improved.\n- A endless loop bug and a memory leak have been fixed.\n- The I/O cache engine now caches read failure, it will speedup some recovery.\n\n6.4\nSupport for ReiserFS 4 has been added in TestDisk\nPhotoRec detects new files formats and better recovery of jpeg, txt/html, zip...\nFixes numerous bugs.\n\n6.3\nFix for 64 bits architecture and improved interface.\nPhotorec adds support for Quicken, OpenDocument, mp3, ogg,\nStarOffice, Encapsulated PostScript, PostScript, gif, gz, mov file format\nor better detection.\n\n6.2\nNew User Interface\nDisk cache and read ahead to improve performance\nEndianess portability fix\n\n6.1\nTestDisk\nFix for Mac version\nRemove an erroneous message after writing a partition without logical partition\n\n6.0\nTestDisk\nFix for Dos version and some cosmetic change\n\n5.9\nTestDisk\n- User Interface has been improved\n- Mac partition map is now supported\n- FAT: better check for directory attribut\n- FAT: fix a bug in expert mode\n- FAT: fix directory listing time using timezone\n- Linux Raid: fix regression from 5.8, Raid 1 is again detected.\n- NTFS boot sector: copy boot sector over backup boot sector now works\nPhotorec\n- Photorec now works on ext2/ext3 filesystem (Check Options)\n- add support for Papyrus, 7zip, text file, OGG audio files, RAR archive recovery\n- add a default file size limit of 2GB\n- add support for ZIP files starting with PK00 (packed to removable disk)\n\n5.8\nTestDisk\n- Add support for HFS+, UFS2 filesystem and Intel Solaris superblock\n- Linux Raid: Add some code to detect Raid 5 earlier\n- FAT: Update the cleaning FAT function to repair FAT table (Expert mode only)\n- EXT2: e2fsprogs-1.36 parses the device name given in ext2fs_open, give a string instead of the io_channel.\n- NTFS: Fix a bug in NTFS rebuilding introduced in 5.7\n- Fix a memory freed problem when detecting if a partition can be Primary, Logical...\nPhotorec\n- Recognize php header\n- MPG format is using streaming\n\n5.7\nTestDisk\n- Replace standard MBR i386 boot sector code by a GPL one\n- HFS detection has been improved to avoid false positive\n- FAT: add support for one FAT only (instead of usual 2) in directory listing\n  and boot sector rebuilding (need expert mode)\n- FAT: Support for FAT without FAT12 (ie DOS 3.30), FAT16 or FAT32 mark.\n- FAT12/16: Add the possibility to initialize FAT root directory (Delete everything,\n  Expert mode only)\n- FAT: fix for directory listing in boot sector rebuilding.\n- FAT32: Fix for last FAT sector while cleaning the FAT (Expert mode only)\n- EXT2/EXT3: while listing filename permit to list file where inode information is unavaible.\n- Doesn't halt if TestDisk can't create the log file\n- configure.ac, compile.sh: remove --enable-debug option\n- Modify Linux RPM spec file to get non-empty debug-info rpm\n- Directory listing: little UI modification\n- Dos version: fix read/write error message\nPhotorec 5.7\n- add support for a bunch of other file format\n- incremental directory name for recovery\n- a lot of code cleaning\n\n5.6\nTestDisk\nNew features:\n- Can list files from NTFS partition found using backup boot sector\n- Display a warning if TestDisk think the logical geometry (CHS) is wrong\n- Handle filesystem image (In Options, Partition type: None)\n- Filesystem: HFS (minimal testing) and LVM2 support\n- NetBSD and FreeBSD support\n\nImprovements:\n- Win32: Windows version is now as fast as other version.\n  Using FileRead() instead of read() is about 10 times faster.\n\nFixs:\n- HD Geometry: the number of cylinders can be bigger than 65535\n- BSD slice: display content even if crc is wrong\n- FAT boot sector rebuilding: better support for FAT16 converted to FAT32\n- NTFS boot sector rebuilding: better handle copy of MFT\n- Win32: Windows version always creates a log file (was introduced in 5.3 but\n  boggus since 5.4)\n\nPhotorec 5.6\n- Use libjpeg for a better recovery of lost jpeg files.\n- Konica/Minolta raw (MRW) pictures recovery\n- Canon raw (CRW) pictures recovery\n- Minimal support for Sigma/Foveon: .X3F, Rollei (RDC), Fuji (RAF)\n\n5.5\nFix FAT32 recovery using backup boot sector\nRemove some debugging code\nUpgrade to libntfs 1.9.4\nFix RPM spec file to get a working reiserfs support\n\n5.4\nNew features:\n- Option to backup unknown partition header.\n- Save/Load current partition list\n- handle sector size != 512\n- XFS and CramFS support\n\nImprovements:\n- Interface has been improved.\n- log libreiserfs errors in the log file\n- can choose to minimize or maximize the extended partition before writing\n- FAT32 root cluster rebuild improved (use first free cluster, mark it as used or/and EOC)\n\nFixs:\n- ReiserFS and EXT2/EXT3 directory listing fix\n- fix a bug with BeFS partition recovery\n\n5.3\nNew features:\n- When rebuilding FAT boot sector in expert mode, lets the user choose FAT locations.\n\nImprovements:\n- Exit if TestDisk can't create log file.\n- Windows version always create log file.\n\nBug corrections:\n- Fix superblock number displayed when telling the user to use e2fsck.\n- Fix extended partition creation.\n\n\n5.2\nTestDisk now compiles and run under NT 4 and Windows 2000.\nNew features:\n- can rebuild NTFS boot sector\n- can recover JFS partition\n- some advanced FAT32 functions have been added (Expert mode only)\n\nImprovements:\n- Can align partition to cylinder boundary or to head boundary.\n- Doesn't abort while writing partitions if read failed.\n- Doesn't let the user write an empty partition table.\n\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 1.4970703125,
          "content": "**TestDisk** checks the partition and boot sectors of your disks.\nIt is very useful in recovering lost partitions.\n\nIt works with:\n\n- DOS/Windows FAT12, FAT16 and FAT32\n- NTFS (Windows NT/2K/XP)\n- Linux Ext2 and Ext3\n- BeFS (BeOS)\n- BSD disklabel (FreeBSD/OpenBSD/NetBSD)\n- CramFS (Compressed File System)\n- HFS and HFS+, Hierarchical File System\n- JFS, IBM's Journaled File System\n- Linux Raid\n- Linux Swap (versions 1 and 2)\n- LVM and LVM2, Linux Logical Volume Manager\n- Netware NSS\n- ReiserFS 3.5, 3.6 and 4\n- Sun Solaris i386 disklabel\n- UFS and UFS2 (Sun/BSD/...)\n- XFS, SGI's Journaled File System\n\n**PhotoRec** is file data recovery software designed to recover\nlost pictures from digital camera memory or even hard disks.\nIt has been extended to search also for non audio/video headers.\n\nThe whole list of file formats recovered by PhotoRec contains\n[more than 480 file extensions](https://www.cgsecurity.org/wiki/File_Formats_Recovered_By_PhotoRec) (about 300 file families).\n\nTestDisk and PhotoRec run on:\n\n- DOS, Win 9x\n- Windows\n- Linux\n- FreeBSD, NetBSD, OpenBSD\n- SunOS\n\nBoth are licensed under the GNU General Public License.\n\nSee the [latest documentation](https://github.com/cgsecurity/testdisk_documentation)\nTo build from source, read [INSTALL](INSTALL).\n\nChristophe GRENIER\n[grenier@cgsecurity.org](mailto:grenier@cgsecurity.org)\n[https://www.cgsecurity.org/](https://www.cgsecurity.org/)\n\n[![Build Status](https://travis-ci.org/cgsecurity/testdisk.svg?branch=master)](https://travis-ci.org/cgsecurity/testdisk)\n"
        },
        {
          "name": "README_dev_photorec.txt",
          "type": "blob",
          "size": 2.2041015625,
          "content": "PhotoRec - Theory of operation:\n\nCarvers are plugable. Each carver consists of:\n\nstruct file_hint_t - describes extension, name, max size, enable by default, etc.\nfile_enable_t array_file_enable[] - array with all file hints and whether enabled or not.\n\n\nphmain.c - Contains the main() and driver logic for photorec.\n \nmain():\n - reads parameters\n - scans for available devices\n - parses the HD (or image)\n - resets the list of which file carvers are enabled\n - Initializes ncurses\n - Calls do_curses_photorec() (in pdisksel.c)\n - shuts down ncurses\n\n\npdiskseln.c - \n int do_curses_photorec(struct ph_param *params, struct ph_options *options, const list_disk_t *list_disk)\n - Implements Disk selection\n - May call photorec_disk_selection_ncurses()\n - Eventually call menu_photorec() in ppartseln.c\n\nppartseln.c -\n  void menu_photorec(struct ph_param *params, struct ph_options *options, alloc_data_t*list_search_space)\n - Implements Partition selection and Search/Options/File Opt/Geometry/Quit menu\n - Search Option call photorec()\n\nphrecn.c -\n int photorec(struct ph_param *params, const struct ph_options *options, alloc_data_t *list_search_space)\n - runs multiple passes until status==STATUS_QUIT\n - calls photorec_mkdir() to actually make the output directory\n - calls photorec_find_blocksize() to find the block size\n - calls photorec_aux() to do the recovery\n - may call photorec_bf() to recover more files by brute-force method\n\nsrc/psearchn.c - \n  pstatus_t photorec_aux(struct ph_param *params, const struct ph_options *options, alloc_data_t *list_search_space)\n  - calls file_finish2() when recovery of a file is finished (ie. a new file has been found)\n  - calls file_recovery_aborted() if the user stops the recovery or there is not enough space on the destination\n\nphotorec.c: -\n int file_finish_bf(file_recovery_t *file_recovery, struct ph_param *params, alloc_data_t *list_search_space)\n - called when recovery of a file is done by\n   - photorec_bf()\n   - photorec_bf_pad()\n   - photorec_bf_frag()\n   - photorec_bf_aux()\n\nphotorec.c\n pfstatus_t file_finish2(file_recovery_t *file_recovery, struct ph_param *params, const int paranoid, alloc_data_t *list_search_space)\n - called when a file is done by\n - photorec_aux() (in three places)\n \n\n"
        },
        {
          "name": "THANKS",
          "type": "blob",
          "size": 0.3359375,
          "content": "TestDisk & PhotoRec are mainly written by Christophe GRENIER.\nMany people further contributed to TestDisk, directly or indirectly, by\nreporting problems, helping with the documentation, suggesting various\nimprovements, sending me gifts using my Amazon whish-list...\n\nThanks to the thousands of people who have provided support for the project!\n"
        },
        {
          "name": "acx_pthread.m4",
          "type": "blob",
          "size": 7.2431640625,
          "content": "AC_DEFUN([ACX_PTHREAD], [\nAC_REQUIRE([AC_CANONICAL_HOST])\nAC_LANG_PUSH([C])\nacx_pthread_ok=no\n\n# We used to check for pthread.h first, but this fails if pthread.h\n# requires special compiler flags (e.g. on True64 or Sequent).\n# It gets checked for in the link test anyway.\n\n# First of all, check if the user has set any of the PTHREAD_LIBS,\n# etcetera environment variables, and if threads linking works using\n# them:\nif test x\"$PTHREAD_LIBS$PTHREAD_CFLAGS\" != x; then\n        save_CFLAGS=\"$CFLAGS\"\n        CFLAGS=\"$CFLAGS $PTHREAD_CFLAGS\"\n        save_LIBS=\"$LIBS\"\n        LIBS=\"$PTHREAD_LIBS $LIBS\"\n        AC_MSG_CHECKING([for pthread_join in LIBS=$PTHREAD_LIBS with CFLAGS=$PTHREAD_CFLAGS])\n        AC_TRY_LINK_FUNC(pthread_join, acx_pthread_ok=yes)\n        AC_MSG_RESULT($acx_pthread_ok)\n        if test x\"$acx_pthread_ok\" = xno; then\n                PTHREAD_LIBS=\"\"\n                PTHREAD_CFLAGS=\"\"\n        fi\n        LIBS=\"$save_LIBS\"\n        CFLAGS=\"$save_CFLAGS\"\nfi\n\n# We must check for the threads library under a number of different\n# names; the ordering is very important because some systems\n# (e.g. DEC) have both -lpthread and -lpthreads, where one of the\n# libraries is broken (non-POSIX).\n\n# Create a list of thread flags to try.  Items starting with a \"-\" are\n# C compiler flags, and other items are library names, except for \"none\"\n# which indicates that we try without any flags at all, and \"pthread-config\"\n# which is a program returning the flags for the Pth emulation library.\n\nacx_pthread_flags=\"pthreads none -Kthread -kthread lthread -pthread -pthreads -mthreads pthread --thread-safe -mt pthread-config\"\n\n# The ordering *is* (sometimes) important.  Some notes on the\n# individual items follow:\n\n# pthreads: AIX (must check this before -lpthread)\n# none: in case threads are in libc; should be tried before -Kthread and\n#       other compiler flags to prevent continual compiler warnings\n# -Kthread: Sequent (threads in libc, but -Kthread needed for pthread.h)\n# -kthread: FreeBSD kernel threads (preferred to -pthread since SMP-able)\n# lthread: LinuxThreads port on FreeBSD (also preferred to -pthread)\n# -pthread: Linux/gcc (kernel threads), BSD/gcc (userland threads)\n# -pthreads: Solaris/gcc\n# -mthreads: Mingw32/gcc, Lynx/gcc\n# -mt: Sun Workshop C (may only link SunOS threads [-lthread], but it\n#      doesn't hurt to check since this sometimes defines pthreads too;\n#      also defines -D_REENTRANT)\n#      ... -mt is also the pthreads flag for HP/aCC\n# pthread: Linux, etcetera\n# --thread-safe: KAI C++\n# pthread-config: use pthread-config program (for GNU Pth library)\n\ncase \"${host_cpu}-${host_os}\" in\n        *solaris*)\n\n        # On Solaris (at least, for some versions), libc contains stubbed\n        # (non-functional) versions of the pthreads routines, so link-based\n        # tests will erroneously succeed.  (We need to link with -pthreads/-mt/\n        # -lpthread.)  (The stubs are missing pthread_cleanup_push, or rather\n        # a function called by this macro, so we could check for that, but\n        # who knows whether they'll stub that too in a future libc.)  So,\n        # we'll just look for -pthreads and -lpthread first:\n\n        acx_pthread_flags=\"-pthreads pthread -mt -pthread $acx_pthread_flags\"\n        ;;\nesac\n\nif test x\"$acx_pthread_ok\" = xno; then\nfor flag in $acx_pthread_flags; do\n\n        case $flag in\n                none)\n                AC_MSG_CHECKING([whether pthreads work without any flags])\n                ;;\n\n                -*)\n                AC_MSG_CHECKING([whether pthreads work with $flag])\n                PTHREAD_CFLAGS=\"$flag\"\n                ;;\n\n                pthread-config)\n                AC_CHECK_PROG(acx_pthread_config, pthread-config, yes, no)\n                if test x\"$acx_pthread_config\" = xno; then continue; fi\n                PTHREAD_CFLAGS=\"`pthread-config --cflags`\"\n                PTHREAD_LIBS=\"`pthread-config --ldflags` `pthread-config --libs`\"\n                ;;\n\n                *)\n                AC_MSG_CHECKING([for the pthreads library -l$flag])\n                PTHREAD_LIBS=\"-l$flag\"\n                ;;\n        esac\n\n        save_LIBS=\"$LIBS\"\n        save_CFLAGS=\"$CFLAGS\"\n        LIBS=\"$PTHREAD_LIBS $LIBS\"\n        CFLAGS=\"$CFLAGS $PTHREAD_CFLAGS\"\n\n        # Check for various functions.  We must include pthread.h,\n        # since some functions may be macros.  (On the Sequent, we\n        # need a special flag -Kthread to make this header compile.)\n        # We check for pthread_join because it is in -lpthread on IRIX\n        # while pthread_create is in libc.  We check for pthread_attr_init\n        # due to DEC craziness with -lpthreads.  We check for\n        # pthread_cleanup_push because it is one of the few pthread\n        # functions on Solaris that doesn't have a non-functional libc stub.\n        # We try pthread_create on general principles.\n        AC_LINK_IFELSE([AC_LANG_PROGRAM([[#include <pthread.h>]],\n                    [[pthread_t th; pthread_join(th, 0);\n                     pthread_attr_init(0); pthread_cleanup_push(0, 0);\n                     pthread_create(0,0,0,0); pthread_cleanup_pop(0); ]])],\n                    [acx_pthread_ok=yes],[])\n\n        LIBS=\"$save_LIBS\"\n        CFLAGS=\"$save_CFLAGS\"\n\n        AC_MSG_RESULT($acx_pthread_ok)\n        if test \"x$acx_pthread_ok\" = xyes; then\n                break;\n        fi\n\n        PTHREAD_LIBS=\"\"\n        PTHREAD_CFLAGS=\"\"\ndone\nfi\n\n# Various other checks:\nif test \"x$acx_pthread_ok\" = xyes; then\n        save_LIBS=\"$LIBS\"\n        LIBS=\"$PTHREAD_LIBS $LIBS\"\n        save_CFLAGS=\"$CFLAGS\"\n        CFLAGS=\"$CFLAGS $PTHREAD_CFLAGS\"\n\n        # Detect AIX lossage: JOINABLE attribute is called UNDETACHED.\n        AC_MSG_CHECKING([for joinable pthread attribute])\n        attr_name=unknown\n        for attr in PTHREAD_CREATE_JOINABLE PTHREAD_CREATE_UNDETACHED; do\n            AC_LINK_IFELSE([AC_LANG_PROGRAM([[#include <pthread.h>]],\n\t\t  [[int attr=$attr; return attr;]])],\n\t\t  [attr_name=$attr; break],[])\n        done\n        AC_MSG_RESULT($attr_name)\n        if test \"$attr_name\" != PTHREAD_CREATE_JOINABLE; then\n            AC_DEFINE_UNQUOTED(PTHREAD_CREATE_JOINABLE, $attr_name,\n                               [Define to necessary symbol if this constant\n                                uses a non-standard name on your system.])\n        fi\n\n        AC_MSG_CHECKING([if more special flags are required for pthreads])\n        flag=no\n        case \"${host_cpu}-${host_os}\" in\n            *-aix* | *-freebsd* | *-darwin*) flag=\"-D_THREAD_SAFE\";;\n            *solaris* | *-osf* | *-hpux*) flag=\"-D_REENTRANT\";;\n        esac\n        AC_MSG_RESULT(${flag})\n        if test \"x$flag\" != xno; then\n            PTHREAD_CFLAGS=\"$flag $PTHREAD_CFLAGS\"\n        fi\n\n        LIBS=\"$save_LIBS\"\n        CFLAGS=\"$save_CFLAGS\"\n\n        # More AIX lossage: must compile with xlc_r or cc_r\n        if test x\"$GCC\" != xyes; then\n          AC_CHECK_PROGS(PTHREAD_CC, xlc_r cc_r, ${CC})\n        else\n          PTHREAD_CC=$CC\n        fi\nelse\n        PTHREAD_CC=\"$CC\"\nfi\n\nAC_SUBST(PTHREAD_LIBS)\nAC_SUBST(PTHREAD_CFLAGS)\nAC_SUBST(PTHREAD_CC)\n\n# Finally, execute ACTION-IF-FOUND/ACTION-IF-NOT-FOUND:\nif test x\"$acx_pthread_ok\" = xyes; then\n        ifelse([$1],,AC_DEFINE(HAVE_PTHREAD,1,[Define if you have POSIX threads libraries and header files.]),[$1])\n        :\nelse\n        acx_pthread_ok=no\n        $2\nfi\nAC_LANG_POP([C])\n])dnl ACX_PTHREAD\n\n"
        },
        {
          "name": "autogen.sh",
          "type": "blob",
          "size": 0.0595703125,
          "content": "#!/bin/sh\nmkdir config\nautoreconf --install -W all -I config\n"
        },
        {
          "name": "blacklist_cfi.txt",
          "type": "blob",
          "size": 0.2939453125,
          "content": "# https://clang.llvm.org/docs/ControlFlowIntegrity.html\n# export CC=\"clang -flto -fsanitize=cfi -fvisibility=default -fsanitize-blacklist=blacklist_cfi.txt\"\n# export CXX=\"clang++ -flto -fsanitize=cfi -fvisibility=default -fsanitize-blacklist=blacklist_cfi.txt\"\n[cfi-icall]\nfun:jpeg_testdisk_alloc_src\n"
        },
        {
          "name": "compile.sh",
          "type": "blob",
          "size": 11.7197265625,
          "content": "#!/bin/sh\n# default, host is empty, no cross compilation\n# ./compile.sh [ i586-pc-msdosdjgpp | i686-pc-cygwin | i386-pc-mingw32 | powerpc-mac-darwin ]\n# Comment the version definition to not compile the library\nVER_E2FSPROGS=\n#VER_PROGSREISERFS=\"0.3.1-rc8\"\nVER_PROGSREISERFS=\nVER_LIBEWF=20140608\nsmp_mflags=\"-j 2\"\ncrosscompile_target=\nprefix=/usr/\nif [ -z \"$1\" ];\nthen\n  compiledir=.\nelse\n  compiledir=$1\n  if [ \"$1\" != \"$CC\" ];\n  then\n    crosscompile_target=$1\n    TESTDISKCC=\"$crosscompile_target\"-gcc\n    PKG_CONFIG_PATH=/usr/$crosscompile_target/lib/pkgconfig\n    if [ ! -d \"$PKG_CONFIG_PATH\" ];\n    then\n      PKG_CONFIG_PATH=/usr/$crosscompile_target/sys-root/mingw/lib/pkgconfig\n    fi\n    if [ ! -d \"$PKG_CONFIG_PATH\" ];\n    then\n      PKG_CONFIG_PATH=/usr/$crosscompile_target/sys-root/usr/lib/pkgconfig\n    fi\n    if [ ! -d \"$PKG_CONFIG_PATH\" ];\n    then\n      unset PKG_CONFIG_PATH\n    fi\n    export PKG_CONFIG_PATH\n  fi\nfi\ncase \"$crosscompile_target\" in\n  \"\")\n\tVER_LIBEWF=\n  ;;\n  *-msdosdjgpp)\n\tVER_LIBNTFS3G=\"2022.5.17\"\n\tVER_NTFSPROGS=\n\tVER_E2FSPROGS=\"1.42.8\"\n  ;;\n  *-cygwin)\n\tVER_LIBNTFS3G=\n\tVER_NTFSPROGS=\"2.0.0\"\n\tVER_E2FSPROGS=\"1.42.8\"\n  ;;\n  *-mingw32)\n\tVER_LIBNTFS3G=\n\tVER_NTFSPROGS=\"2.0.0\"\n\tVER_E2FSPROGS=\n  ;;\n  i686-apple-darwin9|powerpc-apple-darwin)\n\tVER_LIBNTFS3G=\"2014.2.15\"\n\tVER_NTFSPROGS=\n\tVER_E2FSPROGS=\"1.42.8\"\n  ;;\n  arm-none-linux-gnueabi|powerpc-linux-gnuspe|aarch64-QNAP-linux-gnu)\n\tVER_LIBNTFS3G=\"2014.2.15\"\n\tVER_NTFSPROGS=\n\tVER_E2FSPROGS=\"1.42.8\"\n  ;;\n  *)\n\tVER_LIBNTFS3G=\"2014.2.15\"\n\tVER_NTFSPROGS=\n\tVER_E2FSPROGS=\"1.42.8\"\n\tVER_LIBEWF=\n  ;;\nesac\nprefix=/usr/$crosscompile_target\nLYNX=links\nWGET=\"wget -N\"\nLIBEXT=$compiledir/e2fsprogs-$VER_E2FSPROGS/lib/ext2fs/libext2fs.a\nLIBNTFS=$compiledir/ntfsprogs-\"$VER_NTFSPROGS\"/libntfs/.libs/libntfs.a\nLIBNTFS3G=$compiledir/ntfs-3g_ntfsprogs-$VER_LIBNTFS3G/libntfs-3g/.libs/libntfs-3g.a\nLIBREISER=$compiledir/progsreiserfs-\"$VER_PROGSREISERFS\"/libreiserfs/.libs/libreiserfs.a\nLIBEWF=$compiledir/ewf-\"$VER_LIBEWF\"/libewf/.libs/libewf.a\npwd_saved=$(pwd)\nconfdir=$(dirname \"$0\" 2>/dev/null)\ncd \"$confdir\" || exit 1\nconfdir=$(pwd)\ncd \"$pwd_saved\" || exit 1\n\nPWDSRC=$(pwd|sed 's#^\\w:/#/#')/$compiledir\n\nCONFIGUREOPT=\nmkdir -p \"$compiledir\"\necho \"This script will try to compile e2fsprogs progsreiserfs ntfsprogs libraries\"\nif [ \"$VER_E2FSPROGS\" != \"\" ];\nthen\nCONFIGUREOPT=\"$CONFIGUREOPT --with-ext2fs-lib=${PWDSRC}/e2fsprogs-${VER_E2FSPROGS}/lib --with-ext2fs-includes=${PWDSRC}/e2fsprogs-${VER_E2FSPROGS}/lib\"\n\nif [ ! -e \"$compiledir\"/e2fsprogs-$VER_E2FSPROGS/configure ];\nthen\n  if [ ! -e e2fsprogs-$VER_E2FSPROGS.tar.gz ];\n  then\n        $LYNX http://prdownloads.sourceforge.net/e2fsprogs/e2fsprogs-$VER_E2FSPROGS.tar.gz\n  fi\n  if [ -e e2fsprogs-$VER_E2FSPROGS.tar.gz ];\n  then\n        tar xzf e2fsprogs-$VER_E2FSPROGS.tar.gz -C \"$compiledir\"\n  fi\nfi\n\nif [ ! -e \"$compiledir\"/e2fsprogs-$VER_E2FSPROGS/Makefile ];\nthen\n  if [ -e \"$compiledir\"/e2fsprogs-$VER_E2FSPROGS/configure ];\n  then\n        rm -f \"$compiledir\"/Makefile\n        cd \"$compiledir\"/e2fsprogs-$VER_E2FSPROGS || exit 1\n        case \"$crosscompile_target\" in\n\t  arm-marvell-linux-gnu)\n                CC=$TESTDISKCC CFLAGS=\"$CFLAGS -g -O2 -DOMIT_COM_ERR\" ./configure --host=\"$crosscompile_target\" --prefix=\"$prefix\" --disable-tls\n                ;;\n          *)\n\t\tCC=$TESTDISKCC CFLAGS=\"$CFLAGS -g -O2 -DOMIT_COM_ERR\" ./configure --host=\"$crosscompile_target\" --prefix=\"$prefix\"\n                ;;\n\tesac\n\tcd \"$pwd_saved\" || exit 1\n  fi\nfi\n\nif [ ! -e \"$LIBEXT\" ];\nthen\n  if [ -e \"$compiledir\"/e2fsprogs-$VER_E2FSPROGS/Makefile ];\n  then\n\tcd \"$compiledir\"/e2fsprogs-$VER_E2FSPROGS || exit 1\n\tmake $smp_mflags libs\n\tcd \"$pwd_saved\" || exit 1\n  fi\nfi\nfi\n\nif [ \"$VER_PROGSREISERFS\" != \"\" ];\nthen\nCONFIGUREOPT=\"$CONFIGUREOPT --with-reiserfs-lib=${PWDSRC}/progsreiserfs-${VER_PROGSREISERFS}/libreiserfs/.libs/ --with-reiserfs-includes=${PWDSRC}/progsreiserfs-${VER_PROGSREISERFS}/include/ --with-dal-lib=${PWDSRC}/progsreiserfs-${VER_PROGSREISERFS}/libdal/.libs/\"\nif [ ! -e \"$compiledir\"/progsreiserfs-\"$VER_PROGSREISERFS\"/configure ];\nthen\n  if [ ! -e progsreiserfs-\"$VER_PROGSREISERFS\".tar.gz ];\n  then\n        $LYNX http://reiserfs.osdn.org.ua/snapshots/progsreiserfs-\"$VER_PROGSREISERFS\".tar.gz\n  fi\n  if [ -e progsreiserfs-\"$VER_PROGSREISERFS\".tar.gz ];\n  then\n        tar xzf progsreiserfs-\"$VER_PROGSREISERFS\".tar.gz -C \"$compiledir\"\n        cd \"$compiledir\"/progsreiserfs-\"$VER_PROGSREISERFS\" || exit 1\n\tpatch -p1 < \"$pwd_saved\"/progsreiserfs-journal.patch\n\tpatch -p1 < \"$pwd_saved\"/progsreiserfs-file-read.patch\n        cd \"$pwd_saved\" || exit 1\n  fi\nfi\n\nif [ ! -e \"$compiledir\"/progsreiserfs-\"$VER_PROGSREISERFS\"/Makefile ];\nthen\n  if [ -e \"$compiledir\"/progsreiserfs-\"$VER_PROGSREISERFS\"/configure ];\n  then\n#        rm -f \"$compiledir\"/Makefile\n        cd \"$compiledir\"/progsreiserfs-\"$VER_PROGSREISERFS\" || exit 1\n        ./configure --host=\"$crosscompile_target\" --prefix=\"$prefix\" --disable-nls --disable-Werror\n        cd \"$pwd_saved\" || exit 1\n  fi\nfi\n\n#vim /home/kmaster/src/testdisk/powerpc-apple-darwin/progsreiserfs-0.3.1-rc8/libtool\n#%s/AR=\"ar\"/AR=\"powerpc-apple-darwin-ar\"/\nif [ ! -e \"$LIBREISER\" ];\nthen\n  if [ -e \"$compiledir\"/progsreiserfs-\"$VER_PROGSREISERFS\"/Makefile ];\n  then\n\tcd \"$compiledir\"/progsreiserfs-\"$VER_PROGSREISERFS\" || exit 1\n\tmake $smp_mflags\n\tcd \"$pwd_saved\" || exit 1\n  fi\nfi\nfi\n\nif [ \"$VER_LIBNTFS3G\" != \"\" ];\nthen\nCONFIGUREOPT=\"$CONFIGUREOPT --with-ntfs3g-lib=${PWDSRC}/ntfs-3g_ntfsprogs-${VER_LIBNTFS3G}/libntfs-3g/.libs/ --with-ntfs3g-includes=${PWDSRC}/ntfs-3g_ntfsprogs-${VER_LIBNTFS3G}/include/\"\nif [ ! -e \"$compiledir\"/ntfsprogs-$VER_LIBNTFS3G/configure ];\nthen\n  if [ ! -e ntfs-3g_ntfsprogs-$VER_LIBNTFS3G.tgz ];\n  then\n\t$WGET https://tuxera.com/opensource/ntfs-3g_ntfsprogs-$VER_LIBNTFS3G.tgz\n  fi\n  if [ -e ntfs-3g_ntfsprogs-$VER_LIBNTFS3G.tgz ];\n  then\n\ttar xzf ntfs-3g_ntfsprogs-$VER_LIBNTFS3G.tgz -C \"$compiledir\"\n  fi\nfi\n\nif [ ! -e \"$compiledir\"/ntfs-3g_ntfsprogs-$VER_LIBNTFS3G/Makefile ];\nthen\n  if [ -e \"$compiledir\"/ntfs-3g_ntfsprogs-$VER_LIBNTFS3G/configure ];\n  then\n#        rm -f \"$compiledir\"/Makefile\n        cd \"$compiledir\"/ntfs-3g_ntfsprogs-$VER_LIBNTFS3G || exit 1\n        case \"$crosscompile_target\" in\n          powerpc-apple-darwin|i686-apple-darwin9)\n\t\tCC=$TESTDISKCC ./configure --host=\"$crosscompile_target\" --prefix=\"$prefix\" --disable-device-default-io-ops --disable-crypto --disable-ntfs-3g --disable-nfconv\n\t\t;;\n\t*)\n\t\tCC=$TESTDISKCC ./configure --host=\"$crosscompile_target\" --prefix=\"$prefix\" --disable-device-default-io-ops --disable-crypto --disable-ntfs-3g\n\t\t;;\n\tesac\n# --disable-default-device-io-ops is need for NT 4\n        cd \"$pwd_saved\" || exit 1\n  fi\nfi\n\nif [ ! -e $LIBNTFS3G ];\nthen\n  if [ -e \"$compiledir\"/ntfs-3g_ntfsprogs-$VER_LIBNTFS3G/Makefile ];\n  then\n\tcd \"$compiledir\"/ntfs-3g_ntfsprogs-$VER_LIBNTFS3G || exit 1\n#\tmake $smp_mflags libs\n\tmake $smp_mflags\n\tcd \"$pwd_saved\" || exit 1\n  fi\nfi\nfi\n\nif [ \"$VER_NTFSPROGS\" != \"\" ];\nthen\nCONFIGUREOPT=\"$CONFIGUREOPT --with-ntfs-lib=${PWDSRC}/ntfsprogs-${VER_NTFSPROGS}/libntfs/.libs/ --with-ntfs-includes=${PWDSRC}/ntfsprogs-${VER_NTFSPROGS}/include/\"\nif [ ! -e \"$compiledir\"/ntfsprogs-\"$VER_NTFSPROGS\"/configure ];\nthen\n  if [ ! -e ntfsprogs-\"$VER_NTFSPROGS\".tar.gz ];\n  then\n\t$LYNX http://prdownloads.sourceforge.net/linux-ntfs/ntfsprogs-\"$VER_NTFSPROGS\".tar.gz\n  fi\n  if [ -e ntfsprogs-\"$VER_NTFSPROGS\".tar.gz ];\n  then\n\ttar xzf ntfsprogs-\"$VER_NTFSPROGS\".tar.gz -C \"$compiledir\"\n  fi\nfi\n\nif [ ! -e \"$compiledir\"/ntfsprogs-\"$VER_NTFSPROGS\"/Makefile ];\nthen\n  if [ -e \"$compiledir\"/ntfsprogs-\"$VER_NTFSPROGS\"/configure ];\n  then\n#        rm -f \"$compiledir\"/Makefile\n        cd \"$compiledir\"/ntfsprogs-\"$VER_NTFSPROGS\" || exit 1\n# --disable-default-device-io-ops is need for NT 4\n        ./configure --host=\"$crosscompile_target\" --prefix=\"$prefix\" --disable-default-device-io-ops --disable-crypto\n        cd \"$pwd_saved\" || exit 1\n  fi\nfi\n\nif [ ! -e \"$LIBNTFS\" ];\nthen\n  if [ -e \"$compiledir\"/ntfsprogs-\"$VER_NTFSPROGS\"/Makefile ];\n  then\n\tcd \"$compiledir\"/ntfsprogs-\"$VER_NTFSPROGS\" || exit 1\n\tmake $smp_mflags libs\n\tcd \"$pwd_saved\" || exit 1\n  fi\nfi\nfi\n\nif [ \"$VER_LIBEWF\" != \"\" ];\nthen\nCONFIGUREOPT=\"$CONFIGUREOPT --with-ewf-lib=${PWDSRC}/libewf-${VER_LIBEWF}/libewf/.libs/ --with-ewf-includes=${PWDSRC}/libewf-${VER_LIBEWF}/include/\"\n\nif [ ! -e \"$compiledir\"/libewf-\"$VER_LIBEWF\"/configure ];\nthen\n  if [ ! -e libewf-\"$VER_LIBEWF\".tar.gz ] && [ ! -e libewf-alpha-\"$VER_LIBEWF\".tar.gz ] && [ ! -e libewf-beta-\"$VER_LIBEWF\".tar.gz ];\n    then\n  \t$LYNX \"http://sourceforge.net/project/platformdownload.php?group_id=167783\"\n  fi\n  if [ -e libewf-\"$VER_LIBEWF\".tar.gz ];\n  then\n\ttar xzf libewf-\"$VER_LIBEWF\".tar.gz -C \"$compiledir\"\n  fi\n  if [ -e libewf-alpha-\"$VER_LIBEWF\".tar.gz ];\n  then\n\ttar xzf libewf-alpha-\"$VER_LIBEWF\".tar.gz -C \"$compiledir\"\n  fi\n  if [ -e libewf-beta-\"$VER_LIBEWF\".tar.gz ];\n  then\n\ttar xzf libewf-beta-\"$VER_LIBEWF\".tar.gz -C \"$compiledir\"\n  fi\nfi\n\nif [ ! -e \"$compiledir\"/libewf-\"$VER_LIBEWF\"/Makefile ];\nthen\n  if [ -e \"$compiledir\"/libewf-\"$VER_LIBEWF\"/configure ];\n  then\n#        rm -f \"$compiledir\"/Makefile\n\tcd \"$compiledir\"/libewf-\"$VER_LIBEWF\" || exit 1\n\tCC=$TESTDISKCC ./configure --host=\"$crosscompile_target\" --prefix=\"$prefix\"\n\tcd \"$pwd_saved\" || exit 1\n  fi\nfi\n\nif [ ! -e \"$LIBEWF\" ];\nthen\n  if [ -e \"$compiledir\"/libewf-\"$VER_LIBEWF\"/Makefile ];\n  then\n\tcd \"$compiledir\"/libewf-\"$VER_LIBEWF\" || exit 1\n\tmake $smp_mflags lib\n\tcd \"$pwd_saved\" || exit 1\n  fi\nfi\nfi\n\necho \"Try to compile TestDisk\"\nCC=$TESTDISKCC\nexport CC\n\nif [ -d \"$compiledir\" ];\nthen\n  if [ ! -e \"$compiledir\"/Makefile ];\n  then\n        cd \"$compiledir\" || exit 1\n        case \"$crosscompile_target\" in\n          powerpc-apple-darwin)\n# libewf should work under MacOSX but it hasn't been tested\n# use  --with-ncurses-lib=\"$prefix\"/usr/lib to get binaries that don't need libncurses\n# but users may be unable to navigate...\n\t\t\"$confdir\"/configure --host=\"$crosscompile_target\" --prefix=\"$prefix\" $CONFIGUREOPT --without-ewf --enable-sudo --with-sudo-bin=/usr/bin/sudo  --disable-qt --disable-assert --enable-record-compilation-date\n                ;;\n\t  i686-apple-darwin9)\n\t\t\"$confdir\"/configure --host=\"$crosscompile_target\" --prefix=\"$prefix\" $CONFIGUREOPT --enable-sudo --with-sudo-bin=/usr/bin/sudo --disable-qt --disable-stack-protector --enable-record-compilation-date\n                ;;\n          i586-pc-msdosdjgpp)\n\t\t\"$confdir\"/configure --host=\"$crosscompile_target\" --prefix=\"$prefix\" $CONFIGUREOPT --without-ewf --without-iconv --disable-qt --enable-record-compilation-date\n                ;;\n          i386-mingw32)\n\t\t\"$confdir\"/configure --host=\"$crosscompile_target\" --prefix=\"$prefix\" $CONFIGUREOPT --without-iconv --enable-missing-uuid-ok --enable-record-compilation-date\n                ;;\n\t  i686-pc-mingw32|x86_64-pc-mingw32|i686-w64-mingw32|x86_64-w64-mingw32)\n\t\t\"$confdir\"/configure --host=\"$crosscompile_target\" --prefix=\"$prefix\" $CONFIGUREOPT --enable-missing-uuid-ok --enable-qt --enable-record-compilation-date\n                ;;\n\t  arm-marvell-linux-gnu)\n\t\t\"$confdir\"/configure --host=\"$crosscompile_target\" --prefix=\"$prefix\" $CONFIGUREOPT --without-ewf --without-ntfs --disable-qt --enable-record-compilation-date\n                ;;\n\t  arm-none-linux-gnueabi|powerpc-linux-gnuspe|aarch64-QNAP-linux-gnu)\n\t\t\"$confdir\"/configure --host=\"$crosscompile_target\" --prefix=\"$prefix\" $CONFIGUREOPT --without-ntfs --disable-qt --enable-record-compilation-date\n                ;;\n          *cygwin*)\n\t\t\"$confdir\"/configure --host=\"$crosscompile_target\" --prefix=\"$prefix\" $CONFIGUREOPT --enable-missing-uuid-ok --enable-record-compilation-date\n                ;;\n          *)\n\t\t\"$confdir\"/configure --host=\"$crosscompile_target\" --prefix=\"$prefix\" $CONFIGUREOPT --enable-record-compilation-date\n                ;;\n\tesac\n\tcd \"$pwd_saved\" || exit 1\n  fi\n  if [ -e \"$compiledir\"/Makefile ];\n  then\n        cd \"$compiledir\" || exit 1\n        make $smp_mflags\n\tcd \"$pwd_saved\" || exit 1\n  fi\nfi\n"
        },
        {
          "name": "configure.ac",
          "type": "blob",
          "size": 35.3232421875,
          "content": "#                                               -*- Autoconf -*-\n# Process this file with autoconf to produce a configure script.\n\nAC_PREREQ([2.59])\nAC_INIT([testdisk],[7.2],[grenier@cgsecurity.org])\nAC_LANG(C)\nsinclude(acx_pthread.m4)\nsinclude(mkdir.m4)\nTESTDISKDATE=\"February 2024\"\nAC_SUBST(TESTDISKDATE)\nAC_DEFINE_UNQUOTED([TESTDISKDATE],\"$TESTDISKDATE\",[Date of release])\nAC_CONFIG_AUX_DIR(config)\nAC_CANONICAL_HOST([])\nAC_CANONICAL_TARGET([])\nAC_CONFIG_SRCDIR([config.h.in])\nAC_CONFIG_HEADERS([config.h])\nAM_INIT_AUTOMAKE([-Wall foreign])\nm4_ifdef([AM_SILENT_RULES], [AM_SILENT_RULES([yes])])\n\nAC_DEFINE([_GNU_SOURCE], 1, [Enable GNU extensions])\nAH_TEMPLATE([TARGET_LINUX], [Define for LINUX target])\nAH_TEMPLATE([TARGET_BSD], [Define for BSD target])\nAH_TEMPLATE([TARGET_SOLARIS], [Define for SOLARIS target])\n\n# This is required to get past a stupid configure bug when making the rpm.\n# Basically it is broken to specify the host as a command line argument to\n# configure on its own, i.e. without giving --host=. It is supposed to work\n# but doesn't. So this sets host and erases nonopt effectively moving the\n# standalone command line option into the --host= form.\nif test \"x$nonopt\" != \"xNONE\"; then\n    host=\"$nonopt\"\n    nonopt=\"NONE\"\nfi\n\n# Command-line options.\nAC_ARG_WITH([ncurses],\n    AS_HELP_STRING([--without-ncurses],[disabled use of the curses/ncurses/pdcurses/curses library (default is NO)]))\n\nAC_ARG_WITH(ncurses-lib,\n    AS_HELP_STRING([--with-ncurses-lib=DIR],[location of the ncurses library]),\n    [ ncurses_lib_dir=\"${withval}\"\n    LDFLAGS=\"${LDFLAGS} -L${withval}\" ])\n\nAC_ARG_WITH(ncurses-includes,\n    AS_HELP_STRING([--with-ncurses-includes=DIR],[location of the ncurses includes files]),\n    [CPPFLAGS=\"${CPPFLAGS} -I${withval}\"])\n\nAC_ARG_WITH([ext2fs],\n    AS_HELP_STRING([--without-ext2fs],[disabled use of the ext2fs library (default is NO)]))\n\nAC_ARG_WITH(ext2fs-lib,\n    AS_HELP_STRING([--with-ext2fs-lib=DIR],[location of the ext2fs library]),\n    [ ext2fs_lib_a=\"${withval}/libext2fs.a\"\n    LDFLAGS=\"${LDFLAGS} -L${withval}\" ])\n\nAC_ARG_WITH(ext2fs-includes,\n    AS_HELP_STRING([--with-ext2fs-includes=DIR],[location of the ext2fs includes files]),\n    [CPPFLAGS=\"${CPPFLAGS} -I${withval}\"])\n\nAC_ARG_WITH(com_err-lib,\n    AS_HELP_STRING([--with-com_err-lib=DIR],[location of the com_err library]),\n    [ com_err_lib_a=\"${withval}/libcom_err.a\"\n    LDFLAGS=\"${LDFLAGS} -L${withval}\" ])\n\nAC_ARG_WITH(com_err-includes,\n    AS_HELP_STRING([--with-com_err-includes=DIR],[location of the com_err includes files]),\n    [CPPFLAGS=\"${CPPFLAGS} -I${withval}\"])\n\nAC_ARG_WITH([jpeg],\n    AS_HELP_STRING([--without-jpeg],[disabled use of the jpeg library (default is NO)]))\n\nAC_ARG_WITH(jpeg-lib,\n    AS_HELP_STRING([--with-jpeg-lib=DIR],[location of the jpeg library]),\n    [ jpeg_lib_a=\"${withval}/libjpeg.a\"\n    LDFLAGS=\"${LDFLAGS} -L${withval}\" ])\n\nAC_ARG_WITH(jpeg-includes,\n    AS_HELP_STRING([--with-jpeg-includes=DIR],[location of the jpeg includes files]),\n    [CPPFLAGS=\"${CPPFLAGS} -I${withval}\"])\n\nAC_ARG_WITH([ntfs],\n    AS_HELP_STRING([--without-ntfs],[disabled use of the ntfs library (default is NO)]))\n\nAC_ARG_WITH([coverity-fix],\n    AS_HELP_STRING([--with-coverity-fix],[Enable a coverity bug workaround]),\n    [CFLAGS=\"${CFLAGS} -D_Float128=__uint128_t -D_Float32x=int -D_Float32=int -D_Float64x=long -D_Float64=long\"])\n\nAC_ARG_WITH(ntfs-lib,\n    AS_HELP_STRING([--with-ntfs-lib=DIR],[location of the ntfs library]),\n    [ ntfs_lib_a=\"${withval}/libntfs.a\"\n      LDFLAGS=\"${LDFLAGS} -L${withval}\"\n    ])\n\nAC_ARG_WITH(ntfs-includes,\n    AS_HELP_STRING([--with-ntfs-includes=DIR],[location of the ntfs includes files]),\n    [CPPFLAGS=\"${CPPFLAGS} -I${withval}\"])\n\nAC_ARG_WITH([ntfs3g],\n    AS_HELP_STRING([--without-ntfs3g],[disabled use of the ntfs3g library (default is NO)]))\n\nAC_ARG_WITH(ntfs3g-lib,\n    AS_HELP_STRING([--with-ntfs3g-lib=DIR],[location of the ntfs3g library]),\n    [ ntfs3g_lib_a=\"${withval}/libntfs-3g.a\"\n      LDFLAGS=\"${LDFLAGS} -L${withval}\"\n    ])\n\nAC_ARG_WITH(ntfs3g-includes,\n    AS_HELP_STRING([--with-ntfs3g-includes=DIR],[location of the ntfs3g includes files]),\n    [CPPFLAGS=\"${CPPFLAGS} -I${withval}\"])\n\nAC_ARG_WITH(dal-lib,\n    AS_HELP_STRING([--with-dal-lib=DIR],[location of the dal library]),\n    [ LDFLAGS=\"${LDFLAGS} -L${withval}\" ])\n\nAC_ARG_WITH([reiserfs],\n    AS_HELP_STRING([--without-reiserfs],[disabled use of the reiserfs library (default is NO)]))\n\nAC_ARG_WITH(reiserfs-lib,\n    AS_HELP_STRING([--with-reiserfs-lib=DIR],[location of the reiserfs library]),\n    [ reiserfs_lib_a=\"${withval}/libreiserfs.a\"\n    LDFLAGS=\"${LDFLAGS} -L${withval}\" ])\n\nAC_ARG_WITH(reiserfs-includes,\n    AS_HELP_STRING([--with-reiserfs-includes=DIR],[location of the reiserfs includes files]),\n    [CPPFLAGS=\"${CPPFLAGS} -I${withval}\"])\n\nAC_ARG_WITH([ewf],\n    AS_HELP_STRING([--without-ewf],[disabled use of the ewf library (default is NO)]))\n\nAC_ARG_WITH(ewf-lib,\n    AS_HELP_STRING([--with-ewf-lib=DIR],[location of the ewf library]),\n    [ ewf_lib_a=\"${withval}/libewf.a\"\n    LDFLAGS=\"${LDFLAGS} -L${withval}\" ])\n\nAC_ARG_WITH(ewf-includes,\n    AS_HELP_STRING([--with-ewf-includes=DIR],[location of the ewf includes files]),\n    [CPPFLAGS=\"${CPPFLAGS} -I${withval}\"])\n\nAC_ARG_WITH([iconv],\n    AS_HELP_STRING([--without-iconv],[disabled use of the iconv library (default is NO)]))\n\nAC_ARG_WITH(iconv-lib,\n    AS_HELP_STRING([--with-iconv-lib=DIR],[location of the iconv library]),\n    [ iconv_lib_a=\"${withval}/libiconv.a\"\n    LDFLAGS=\"${LDFLAGS} -L${withval}\" ])\n\nAC_ARG_WITH(iconv-includes,\n    AS_HELP_STRING([--with-iconv-includes=DIR],[location of the iconv includes files]),\n    [CPPFLAGS=\"${CPPFLAGS} -I${withval}\"])\n\nAC_ARG_WITH(giconv-lib,\n    AS_HELP_STRING([--with-giconv-lib=DIR],[location of the giconv library]),\n    [ iconv_lib_a=\"${withval}/libgiconv.a\"\n    LDFLAGS=\"${LDFLAGS} -L${withval}\" ])\n\nAC_ARG_WITH(giconv-includes,\n    AS_HELP_STRING([--with-giconv-includes=DIR],[location of the giconv includes files]),\n    [CPPFLAGS=\"${CPPFLAGS} -I${withval}\"])\n\nAC_ARG_WITH([zlib],\n    AS_HELP_STRING([--without-zlib],[disabled use of the zlib library (default is NO)]))\n\nAC_ARG_WITH([uuid],\n    AS_HELP_STRING([--without-uuid],[disabled use of the uuid library]))\n\nAC_ARG_ENABLE([assert],\n    AS_HELP_STRING([--enable-assert],[enable compilation of assert code (default is YES)]),\n    [case \"${enableval}\" in\n       yes) use_assert=true ;;\n       no)  use_assert=false ;;\n       *) AC_MSG_ERROR([bad value ${enableval} for --enable-assert]) ;;\n     esac],\n     [use_assert=true])\n\nAC_ARG_ENABLE([sudo],\n    AS_HELP_STRING([--enable-sudo],[enable use of sudo (default is NO)]),\n    [case \"${enableval}\" in\n       yes) use_sudo=true ;;\n       no)  use_sudo=false ;;\n       *) AC_MSG_ERROR([bad value ${enableval} for --enable-sudo]) ;;\n     esac],\n     [use_sudo=false])\n\nAC_ARG_WITH(sudo-bin,\n    AS_HELP_STRING([--with-sudo-bin=PROG],[location of the sudo binary]),\n    [SUDO_BIN=\"${withval}\"])\n\nAC_ARG_WITH(uuid-lib,\n    AS_HELP_STRING([--with-uuid-lib=DIR],[location of the uuid library]),\n    [ uuid_lib_a=\"${withval}/libuuid.a\"\n    LDFLAGS=\"${LDFLAGS} -L${withval}\" ])\n\nAC_ARG_WITH(uuid-includes,\n    AS_HELP_STRING([--with-uuid-includes=DIR],[location of the uuid includes files]),\n    [CPPFLAGS=\"${CPPFLAGS} -I${withval}\"])\n\n\nAC_ARG_ENABLE([missing-uuid-ok],\n    AS_HELP_STRING([--enable-missing-uuid-ok], [force compilation even if both uuidgen and uuid_generate are missing, for developpement only (default is NO)]),\n    [case \"${enableval}\" in\n       yes) missing_uuid_ok=true ;;\n       no)  missing_uuid_ok=false ;;\n       *) AC_MSG_ERROR([bad value ${enableval} for --enable-missing_uuid_ok]) ;;\n     esac],\n     [missing_uuid_ok=false])\n\nAC_ARG_ENABLE([qt],\n    AS_HELP_STRING([--enable-qt],[enable use of qt (default is YES)]),\n    [case \"${enableval}\" in\n       yes) use_qt=true ;;\n       no)  use_qt=false ;;\n       *) AC_MSG_ERROR([bad value ${enableval} for --enable-qt]) ;;\n     esac],\n     [use_qt=true])\n\nAC_ARG_ENABLE([dfxml],\n    AS_HELP_STRING([--disable-dfxml]),\n    [case \"${enableval}\" in\n      yes) AC_DEFINE([ENABLE_DFXML],1,[Define to 1 if DFXML log is enabled]) ;;\n      no) ;;\n      *) AC_MSG_ERROR([bad value ${enableval} for --enable-dfxml]) ;;\n     esac],\n    [AC_DEFINE([ENABLE_DFXML],1,[Define to 1 if DFXML log is enabled])])\n\n# Enable code coverage collection\nAC_ARG_ENABLE(coverage,\n[  --enable-coverage[=LEVEL]\n\t\t\t  enable compiler's code coverage collection.\n\t\t\t  Use to measure compiler performance and locate\n\t\t\t  unused parts of the compiler. With LEVEL, specify\n\t\t\t  optimization. Values are opt, noopt,\n\t\t\t  default is noopt],\n[case \"${enableval}\" in\n  yes|noopt)\n    coverage_flags=\"--coverage -frandom-seed=\\$@ -O0\"\n    ;;\n  opt)\n    coverage_flags=\"--coverage -frandom-seed=\\$@ -O2\"\n    ;;\n  no)\n    # a.k.a. --disable-coverage\n    coverage_flags=\"\"\n    ;;\n  *)\n    AC_MSG_ERROR(unknown coverage setting $enableval)\n    ;;\nesac],\n[coverage_flags=\"\"])\n\nAC_ARG_ENABLE(gprof,\n    AS_HELP_STRING([--enable-gprof],\n      [Produce gprof profiling data in 'gmon.out' (GCC only).]),\n[if test \"$enableval\" = \"yes\" ; then\n  coverage_flags=\"$coverage_flags -pg\"\nfi])\n\n# Determine if stack protection is disabled\nAC_ARG_ENABLE([stack-protector],\n    AS_HELP_STRING([--disable-stack-protector],\n      [Disable the use of -fstack-protector-strong]))\nAS_IF([test \"x$enable_stack_protector\" = \"xno\"],\n    [stackProtector=0],\n    [stackProtector=1]\n    )\n\nAC_ARG_ENABLE([record-compilation-date],\n    AS_HELP_STRING([--enable-record-compilation-date],[record compilation date (default is NO)]),\n    [case \"${enableval}\" in\n       yes) AC_DEFINE([RECORD_COMPILATION_DATE],1,[Define to 1 to record compilation date]) ;;\n       no)  ;;\n       *) AC_MSG_ERROR([bad value ${enableval} for --enable-record-compilation-date]) ;;\n     esac]\n     )\n\nuse_icon=no\n\ncase \"$target\" in\n*-*-*cygwin*)\n  use_icon=yes\n  win_target=yes\n;;\n*-*-*mingw*)\n  use_icon=yes\n  win_target=yes\n;;\n*-*-*djgpp)\n  if test -z \"$CC\" ; then CC=gcc; fi\n  stackProtector=0\n;;\n*-*-*bsd*)\n  AC_DEFINE([TARGET_BSD], 1)\n;;\n*-*-linux*)\n  AC_DEFINE([TARGET_LINUX], 1)\n;;\n*-*-solaris*)\n  AC_DEFINE([TARGET_SOLARIS], 1)\n;;\nesac\n# freebsd 4.X doesn't have stdint.h\n# progsreiserfs header check for this variable to avoid this file inclusion\n# IMOO progsreiserfs need to check for headers file presence instead\ncase \"$target\" in\n    *freebsd4)\n\tAC_DEFINE([__freebsd__], 1,[Define for freebsd4 target and progsreiserfs compatibility])\n    ;;\nesac\n\nAM_CONDITIONAL(USEICON, test \"$use_icon\" = yes)\n\n# Checks for programs.\nAC_PROG_CC\nAC_PROG_CXX\nAC_PROG_INSTALL\nAC_PROG_LN_S\nAC_PROG_MAKE_SET\nAC_PROG_MKDIR_P\nPKG_PROG_PKG_CONFIG\nAC_ARG_VAR(WINDRES, [Windows Resource compiler tool path])\nAC_PATH_TOOL(WINDRES,windres,)\nAC_SUBST(WINDRES)\nif test -z \"$WINDRES\"; then\n  AC_MSG_WARN(Could not find a windres tool in your PATH.)\nfi\n\n# Enable large file support.\nAC_SYS_LARGEFILE\n\n# Checks for header files.\nAC_HEADER_STDC\n#AC_CHECK_HEADERS([sys/types.h sys/stat.h stdlib.h stdint.h unistd.h])\nAC_HEADER_SYS_WAIT\nAC_CHECK_HEADERS([byteswap.h curses.h cygwin/fs.h cygwin/version.h dal/file_dal.h dal/file.h ddk/ntddstor.h dirent.h endian.h errno.h fcntl.h features.h giconv.h glob.h iconv.h io.h libgen.h limits.h linux/fs.h linux/hdreg.h linux/types.h locale.h machine/endian.h malloc.h ncurses.h ncurses/curses.h ncurses/ncurses.h ncursesw/curses.h ncursesw/ncurses.h ntfs/version.h pwd.h scsi/scsi.h scsi/scsi_ioctl.h scsi/sg.h setjmp.h signal.h stdarg.h sys/cygwin.h sys/disk.h sys/disklabel.h sys/dkio.h sys/endian.h sys/ioctl.h sys/sysmacros.h sys/param.h sys/select.h sys/time.h sys/utsname.h sys/vtoc.h time.h utime.h w32api/ddk/ntdddisk.h windef.h windows.h zlib.h])\n\n#--------------------------------------------------------------------\n# Check for iconv support (for Unicode conversion).\n#--------------------------------------------------------------------\n#\n# We need to find an iconv library that matches the installed iconv.h header\n# (if any). It is important to check header/library compatibility. It's\n# fairly common to have iconv support both in libc and from libiconv. In that\n# case, a naive check that iconv() is in libc will succeed, but if we use\n# libiconv's iconv.h, it will redefine iconv() to functions that exist\n# only in libiconv, and we'll get link errors.\n#\n# First, check if there's a working iconv in libc (ie. if the test program\n# compiles and links without any extra flags).\nif test \"x$with_iconv\" != \"xno\"; then\nAC_MSG_CHECKING(iconv support)\nAC_LINK_IFELSE([AC_LANG_SOURCE([#include <iconv.h>\nint main(int argc,char **argv) { iconv_open(\"foo\",\"bar\"); }])]\n,\n  # libc has a working iconv.\n  AC_DEFINE(HAVE_ICONV,1, [Define if you have this function])\n  AC_MSG_RESULT([[yes, in libc]])\n  have_iconv=yes\n)\n\nif test \"x$have_iconv\" != \"xyes\" ; then\n  # libc doesn't have a working iconv. Try adding -liconv and any user\n  # supplied directory.\n\n  old_LIBS=\"$LIBS\"\n  if test \"${iconv_lib_a}\" = \"\"; then\n    LIBS=\"-liconv $LIBS\"\n  else\n    LIBS=\"${iconv_lib_a} $LIBS\"\n  fi\n  AC_LINK_IFELSE([AC_LANG_SOURCE([#include <iconv.h>\n  int main(int argc,char **argv) { iconv_open(\"foo\",\"bar\"); }])]\n  ,\n    # -liconv works.\n    AC_DEFINE(HAVE_ICONV,1, [Define if you have this function])\n    AC_MSG_RESULT([[yes, -liconv]])\n    have_iconv=yes\n  ,\n    LIBS=\"$old_LIBS\"\n  )\nfi\n\nif test \"x$have_iconv\" != \"xyes\" ; then\n  # -liconv didn't work. Try giconv.h and -lgiconv.\n  # BSDs install this lib as libgiconv.\n  old_LIBS=\"$LIBS\"\n  if test \"${giconv_lib_a}\" = \"\"; then\n    LIBS=\"-lgiconv $LIBS\"\n  else\n    LIBS=\"${giconv_lib_a} $LIBS\"\n  fi\n  AC_LINK_IFELSE([AC_LANG_SOURCE([#include <giconv.h>\n  int main(int argc,char **argv) { iconv_open(\"foo\",\"bar\"); }])]\n  ,\n    AC_DEFINE(HAVE_ICONV,1, [Define if you have this function])\n    AC_DEFINE(HAVE_GICONV,1, [Define if you have this function])\n    AC_MSG_RESULT([[yes, -lgiconv]])\n  ,\n    AC_MSG_RESULT([[no]])\n    LIBS=\"$old_LIBS\"\n  )\nfi\nelse\n  AC_MSG_WARN(Use of iconv function disabled)\nfi\n\nif test \"x$have_iconv\" != \"xyes\"; then\n  if test \"x$with_iconv\" = \"xyes\"; then\n    AC_MSG_ERROR([iconv requested but not found])\n  fi\nfi\n\nAC_CHECK_HEADERS(sys/mount.h,,,\n[[\n#if HAVE_SYS_PARAM_H\n# include <sys/param.h>\n#endif\n]])\n\nAC_CHECK_HEADERS([winbase.h],,,\n[[\n#ifdef HAVE_WINDEF_H\n#include <windef.h>\n#endif\n#include <stdarg.h>\n]])\nAC_CHECK_HEADERS([winioctl.h],,,\n[[\n#ifdef HAVE_WINDEF_H\n#include <windef.h>\n#endif\n]])\nAC_CHECK_HEADERS([w32api/winioctl.h],,,\n[[\n#ifdef HAVE_WINDEF_H\n#include <windef.h>\n#endif\n]])\n\nAC_CHECK_HEADERS([ext2fs/ext2_fs.h],,,\n[[\n#if HAVE_SYS_TYPES_H\n# include <sys/types.h>\n#endif\n]])\nAC_CHECK_HEADERS([ext2fs/ext2fs.h],,\n              use_ext2fs=no\n              AC_MSG_WARN(Disable use of ext2fs library),\n[[\n#if HAVE_SYS_TYPES_H\n# include <sys/types.h>\n#endif\n]])\n\n# libewf checks HAVE_OFF64_T, so defines it\nAC_CHECK_TYPE(\n [off64_t],\n [AC_DEFINE( [HAVE_OFF64_T], [1], [Define to 1 if off64_t is available])],\n [AC_DEFINE( [HAVE_OFF64_T], [0], [Define to 0 if off64_t is not available])])\n\nAC_CHECK_HEADERS([libewf.h],,\n              use_ewf=no\n              AC_MSG_WARN(Disable use of ewf library))\n\nAC_CHECK_HEADERS([jpeglib.h], use_jpeg_header=ok)\nif test -z \"${use_jpeg_header}\"; then\n\tuse_jpeg=no\n\tAC_MSG_WARN(Disable use of jpeg library)\nfi\n\nAC_CHECK_HEADERS([ntfs/attrib.h ntfs/volume.h],,\n              use_ntfs=no\n              AC_MSG_WARN(Disable use of ntfs library))\n\nAC_CHECK_HEADERS([ntfs-3g/attrib.h ntfs-3g/volume.h],,\n              use_ntfs3g=no\n              AC_MSG_WARN(Disable use of ntfs3g library))\n\n# Checks for typedefs, structures, and compiler characteristics.\nAC_C_CONST\nAC_C_BIGENDIAN(,\n    [AC_DEFINE([TESTDISK_LSB], 1,\n      [Define to 1 if your processor stores words with the least significant\n      byte first (like Intel and VAX, unlike Motorola and SPARC).])]\n    ,)\nAC_C_INLINE\nAC_TYPE_OFF_T\nAC_TYPE_SIZE_T\nAC_STRUCT_ST_BLOCKS\nAC_STRUCT_TM\nAC_CHECK_TYPE(\n [paddr_t],\n [AC_DEFINE( [HAVE_PADDR_T], [1], [Define to 1 if paddr_t is available])],\n [AC_DEFINE( [HAVE_PADDR_T], [0], [Define to 0 if paddr_t is not available])])\n\nAC_CHECK_MEMBERS([struct stat.st_blksize])\nAC_CHECK_MEMBERS([struct stat.st_rdev])\nAC_CHECK_MEMBERS([dal_t.block_size],,,[#include <dal/dal.h>])\nAC_CHECK_MEMBERS([dal_t.error],,,[#include <dal/dal.h>])\nAC_CHECK_MEMBERS([dal_t.entity],,,[#include <dal/dal.h>])\nAC_CHECK_MEMBERS([dal_t.name],,,[#include <dal/dal.h>])\nAC_CHECK_MEMBERS([struct dal_ops.dev],,,[#include <dal/dal.h>])\nAC_CHECK_MEMBERS([struct struct_io_manager.set_option,\nstruct struct_io_manager.read_blk64,\nstruct struct_io_manager.write_blk64],,,[\n#ifdef HAVE_SYS_TYPES_H\n#include <sys/types.h>\n#endif\n#ifdef HAVE_EXT2FS_EXT2_FS_H\n#include <ext2fs/ext2_fs.h>\n#endif\n#ifdef HAVE_EXT2FS_EXT2FS_H\n#include <ext2fs/ext2fs.h>\n#endif\n])\nAC_CHECK_MEMBERS([struct tm.tm_gmtoff])\n\n# Checks for library functions.\nAC_PROG_GCC_TRADITIONAL\n# As no alternate function is provided,\n# these checks should not be used if we want to cross-compile the programs\n#AC_FUNC_MEMCMP\n#AC_FUNC_STAT\n#AC_FUNC_VPRINTF\n#AC_FUNC_MALLOC\n\n# Checks for libraries.\nif test \"x$with_ncurses\" != \"xno\"; then\n  AC_CHECK_LIB(ncursesw, initscr, [ ncurses_lib=\"ncursesw\" ])\n if test -z \"${ncurses_lib}\"; then\n  AC_CHECK_LIB( ncurses, initscr, [ ncurses_lib=\"ncurses\" ])\n fi\n if test -z \"${ncurses_lib}\"; then\n  AC_CHECK_LIB(pdcurses, initscr, [ ncurses_lib=\"pdcurses\" ])\n fi\n if test -z \"${ncurses_lib}\"; then\n  AC_CHECK_LIB(curses, initscr,   [ ncurses_lib=\"curses\" ])\n fi\n if test -z \"${ncurses_lib}\"; then\n   AC_MSG_ERROR(At least one of ncursesw/ncurses/pdcurses/curses library must be present)\n fi\n AC_DEFINE([HAVE_NCURSES],1,[Define to 1 if you have one of the ncursesw/ncurses/pdcurses/curses library.])\n if test \"${ncurses_lib_dir}\" != \"\" -a -e \"${ncurses_lib_dir}/lib${ncurses_lib}.a\"; then\n   testdisk_LDADD=\"$testdisk_LDADD ${ncurses_lib_dir}/lib${ncurses_lib}.a\"\n   photorec_LDADD=\"$photorec_LDADD ${ncurses_lib_dir}/lib${ncurses_lib}.a\"\n else\n   testdisk_LDADD=\"$testdisk_LDADD -l${ncurses_lib}\"\n   photorec_LDADD=\"$photorec_LDADD -l${ncurses_lib}\"\n fi\n\n if test \"${ncurses_lib}\" = \"ncursesw\"; then\n  AC_CHECK_LIB(tinfow,keypad, [ tinfo_lib=\"tinfow\" ])\n fi\n if test -z \"${tinfo_lib}\"; then\n  AC_CHECK_LIB(tinfo,keypad, [ tinfo_lib=\"tinfo\" ])\n fi\n if test \"${tinfo_lib}\" != \"\"; then\n      AC_DEFINE([HAVE_TINFO],1,[Define to 1 if you have the tinfo library (-ltinfo).])\n   # if lib${ncurses_lib}.a is present, try to use libtinfo.a\n   if test \"${ncurses_lib_dir}\" != \"\" -a -e \"${ncurses_lib_dir}/lib${ncurses_lib}.a\";\n   then\n     if test -e \"${ncurses_lib_dir}/lib${tinfo_lib}.a\"; then\n       testdisk_LDADD=\"$testdisk_LDADD ${ncurses_lib_dir}/lib${tinfo_lib}.a\"\n       photorec_LDADD=\"$photorec_LDADD ${ncurses_lib_dir}/lib${tinfo_lib}.a\"\n     fi\n   else\n     testdisk_LDADD=\"$testdisk_LDADD -l${tinfo_lib}\"\n     photorec_LDADD=\"$photorec_LDADD -l${tinfo_lib}\"\n   fi\n fi\n  ac_save_LIBS=\"$LIBS\"\n  LIBS=\"$LIBS $photorec_LDADD\"\n  AC_CHECK_FUNCS([assume_default_colors])\n  LIBS=\"$ac_save_LIBS\"\nelse\n  AC_MSG_WARN(Use of ncurses library disabled)\nfi\n\nif test \"x$use_ext2fs\" != \"xno\"; then\nif test \"x$with_ext2fs\" != \"xno\"; then\n  ac_save_LIBS=\"$LIBS\"\n  AC_CHECK_LIB(com_err,com_err,[\n      AC_DEFINE([HAVE_LIBCOMM_ERR],1,[Define to 1 if you have the com_err library (-lcom_err).])\n      if test \"${com_err_lib_a}\" = \"\"; then\n\tLIBS=\"-lcom_err $LIBS\"\n        photorec_LDADD=\"-lcom_err $photorec_LDADD\"\n        qphotorec_LDADD=\"-lcom_err $qphotorec_LDADD\"\n        testdisk_LDADD=\"-lcom_err $testdisk_LDADD\"\n      else\n\tLIBS=\"${com_err_lib_a} $LIBS\"\n        photorec_LDADD=\"${com_err_lib_a} $photorec_LDADD\"\n        qphotorec_LDADD=\"${com_err_lib_a} $qphotorec_LDADD\"\n        testdisk_LDADD=\"${com_err_lib_a} $testdisk_LDADD\"\n      fi\n      have_com_err=yes\n      ], AC_MSG_WARN(No com_err library detected))\n\n  AC_CHECK_LIB(ext2fs,ext2fs_open,[\n      AC_DEFINE([HAVE_LIBEXT2FS],1,[Define to 1 if you have the ext2fs library (-lext2fs).])\n      if test \"${ext2fs_lib_a}\" = \"\"; then\n\tLIBS=\"-lext2fs $LIBS\"\n        photorec_LDADD=\"-lext2fs $photorec_LDADD\"\n        qphotorec_LDADD=\"-lext2fs $qphotorec_LDADD\"\n        testdisk_LDADD=\"-lext2fs $testdisk_LDADD\"\n      else\n\tLIBS=\"${ext2fs_lib_a} $LIBS\"\n        photorec_LDADD=\"${ext2fs_lib_a} $photorec_LDADD\"\n        qphotorec_LDADD=\"${ext2fs_lib_a} $qphotorec_LDADD\"\n        testdisk_LDADD=\"${ext2fs_lib_a} $testdisk_LDADD\"\n      fi\n      have_ext2fs=yes\n      ],AC_MSG_WARN(No ext2fs library detected))\n  AC_CHECK_FUNCS([ext2fs_get_generic_bitmap_start])\n  LIBS=\"$ac_save_LIBS\"\nelse\n  AC_MSG_WARN(Use of ext2fs library disabled)\nfi\nfi\n\nif test \"x$have_ext2fs\" != \"xyes\"; then\n  if test \"x$with_ext2fs\" = \"xyes\"; then\n    AC_MSG_ERROR([ext2fs requested but not found])\n  fi\nfi\n\n\nif test \"x$use_jpeg\" != \"xno\"; then\nif test \"x$with_jpeg\" != \"xno\"; then\n  AC_CHECK_LIB(jpeg,jpeg_std_error,[\n      AC_DEFINE([HAVE_LIBJPEG],1,[Define to 1 if you have the jpeg library (-ljpeg).])\n      if test \"${jpeg_lib_a}\" = \"\"; then\n        photorec_LDADD=\"$photorec_LDADD -ljpeg\"\n        qphotorec_LDADD=\"$qphotorec_LDADD -ljpeg\"\n        fidentify_LDADD=\"$fidentify_LDADD -ljpeg\"\n      else\n        photorec_LDADD=\"$photorec_LDADD ${jpeg_lib_a}\"\n        qphotorec_LDADD=\"$qphotorec_LDADD ${jpeg_lib_a}\"\n        fidentify_LDADD=\"$fidentify_LDADD ${jpeg_lib_a}\"\n      fi\n      have_jpeg=yes\n      ],AC_MSG_WARN(No jpeg library detected))\n#  )\nelse\n  AC_MSG_WARN(Use of jpeg library disabled)\nfi\nfi\n\nif test \"x$have_jpeg\" != \"xyes\"; then\n  if test \"x$with_jpeg\" = \"xyes\"; then\n    AC_MSG_ERROR([jpeg requested but not found])\n  fi\nfi\n\nif test \"x$use_ntfs3g\" != \"xno\"; then\nif test \"x$with_ntfs3g\" != \"xno\"; then\n  AC_CHECK_LIB(ntfs-3g,ntfs_device_mount,\n  [\n    AC_DEFINE([HAVE_LIBNTFS3G],1,[Define to 1 if you have the ntfs3g library (-lntfs3g).])\n    if test \"${ntfs3g_lib_a}\" = \"\"; then\n      photorec_LDADD=\"-lntfs-3g $photorec_LDADD\"\n      qphotorec_LDADD=\"-lntfs-3g $qphotorec_LDADD\"\n      testdisk_LDADD=\"-lntfs-3g $testdisk_LDADD\"\n    else\n      photorec_LDADD=\"${ntfs3g_lib_a} $photorec_LDADD\"\n      qphotorec_LDADD=\"${ntfs3g_lib_a} $qphotorec_LDADD\"\n      testdisk_LDADD=\"${ntfs3g_lib_a} $testdisk_LDADD\"\n    fi\n    have_ntfs3g=yes\n    use_ntfs=no\n  ],\n  AC_MSG_WARN(No ntfs-3g library detected)\n  )\nelse\n  AC_MSG_WARN(Use of ntfs3g library disabled)\nfi\nfi\n\nif test \"x$have_ntfs-3g\" != \"xyes\"; then\n  if test \"x$with_ntfs-3g\" = \"xyes\"; then\n    AC_MSG_ERROR([ntfs-3g requested but not found])\n  fi\nfi\n\nif test \"x$use_ntfs\" != \"xno\"; then\nif test \"x$with_ntfs\" != \"xno\"; then\n  AC_CHECK_LIB(ntfs,ntfs_device_mount,\n  [\n    AC_DEFINE([HAVE_LIBNTFS],1,[Define to 1 if you have the ntfs library (-lntfs).])\n    if test \"${ntfs_lib_a}\" = \"\"; then\n      photorec_LDADD=\"-lntfs $photorec_LDADD\"\n      qphotorec_LDADD=\"-lntfs $qphotorec_LDADD\"\n      testdisk_LDADD=\"-lntfs $testdisk_LDADD\"\n    else\n      photorec_LDADD=\"${ntfs_lib_a} $photorec_LDADD\"\n      qphotorec_LDADD=\"${ntfs_lib_a} $qphotorec_LDADD\"\n      testdisk_LDADD=\"${ntfs_lib_a} $testdisk_LDADD\"\n    fi\n    have_ntfs=yes\n  ],\n    AC_CHECK_LIB(ntfs,ntfs_libntfs_version,\n    [\n      AC_DEFINE([HAVE_LIBNTFS],1,[Define to 1 if you have the ntfs library (-lntfs).])\n      if test \"${ntfs_lib_a}\" = \"\"; then\n\tphotorec_LDADD=\"-lntfs $photorec_LDADD\"\n\tqphotorec_LDADD=\"-lntfs $qphotorec_LDADD\"\n\ttestdisk_LDADD=\"-lntfs $testdisk_LDADD\"\n      else\n\tphotorec_LDADD=\"${ntfs_lib_a} $photorec_LDADD\"\n\tqphotorec_LDADD=\"${ntfs_lib_a} $qphotorec_LDADD\"\n\ttestdisk_LDADD=\"${ntfs_lib_a} $testdisk_LDADD\"\n      fi\n      have_ntfs=yes\n    ],AC_MSG_WARN(No ntfs library detected))\n  )\nelse\n  AC_MSG_WARN(Use of ntfs library disabled)\nfi\nfi\n\nif test \"x$have_ntfs\" != \"xyes\"; then\n  if test \"x$with_ntfs\" = \"xyes\"; then\n    AC_MSG_ERROR([ntfs requested but not found])\n  fi\nfi\n\nAC_COMPILE_IFELSE([AC_LANG_PROGRAM([[\n#ifdef HAVE_LIBNTFS\n#include <ntfs/volume.h>\n#include <ntfs/attrib.h>\n#endif\n#ifdef HAVE_LIBNTFS3G\n#include <ntfs-3g/volume.h>\n#include <ntfs-3g/attrib.h>\n#endif\n]],\n[[ ntfs_mbstoucs(NULL,NULL); ]])],\n    [ac_cv_c_ntfs_mbstoucs_have_two_arguments=yes],\n    [ac_cv_c_ntfs_mbstoucs_have_two_arguments=no])\nif test \"${ac_cv_c_ntfs_mbstoucs_have_two_arguments}\" != \"no\"; then\n  AC_DEFINE([NTFS_MBSTOUCS_HAVE_TWO_ARGUMENTS], 1, [Define if ntfs_mbstoucs takes two parameters.])\nfi\n\nif test \"x$use_reiserfs\" != \"xno\"; then\nif test \"x$with_reiserfs\" != \"xno\"; then\n  AC_CHECK_LIB(reiserfs,libreiserfs_get_version,[\n  AC_DEFINE([HAVE_LIBREISERFS],1,[Define to 1 if you have the reiserfs library (-lreiserfs).])\n  if test \"${reiserfs_lib_a}\" = \"\"; then\n    testdisk_LDADD=\"$testdisk_LDADD -lreiserfs\"\n  else\n    testdisk_LDADD=\"$testdisk_LDADD ${reiserfs_lib_a}\"\n  fi\n  have_reiserfs=yes\n  ],AC_MSG_WARN(No reiserfs library detected),[-ldal])\nelse\n  AC_MSG_WARN(Use of reiserfs library disabled)\nfi\nfi\n\nif test \"x$have_reiserfs\" != \"xyes\"; then\n  if test \"x$with_reiserfs\" = \"xyes\"; then\n    AC_MSG_ERROR([reiserfs requested but not found])\n  fi\nfi\n\n# Check for UUID functions\nAC_CHECK_HEADERS([sys/uuid.h uuid/uuid.h uuid.h])\nfound_uuid_function=yes\nAC_CHECK_FUNCS([uuidgen],,[found_uuid_function=no])\nif test \"x$with_uuid\" != \"xno\"; then\n  if test \"x${found_uuid_function}\" != \"xyes\";\n  then\n    AC_CHECK_LIB(uuid_generate, uuid, [\n      AC_DEFINE([HAVE_LIBUUID],1,[Define to 1 if you have the uuid library (-luuid).])\n      testdisk_LDADD=\"-luuid $testdisk_LDADD\"\n      have_uuid=yes\n      found_uuid_function=yes\n    ])\n  fi\n  if test \"x$found_uuid_function\" != \"xyes\";\n  then\n    found_uuid_function=yes\n    AC_CHECK_LIB(uuid_create, uuid, [\n      AC_DEFINE([HAVE_LIBUUID],1,[Define to 1 if you have the uuid library (-luuid).])\n      testdisk_LDADD=\"-luuid $testdisk_LDADD\"\n      have_uuid=yes\n      found_uuid_function=yes\n    ])\n  fi\nfi\n\nif test \"${found_uuid_function}\" = \"yes\";\nthen\n  OLDLIBS=\"$LIBS\"\n  LIBS=\"$OLDLIBS $testdisk_LDADD\"\n  AC_CHECK_FUNCS([uuid_create])\n  AC_CHECK_FUNCS([uuid_generate])\n  LIBS=\"$OLDLIBS\"\nfi\n\nif test \"${found_uuid_function}\" = \"no\";\nthen\n  if test \"${missing_uuid_ok}\" = \"true\";\n  then\n    AC_MSG_WARN(No uuid_create or uuid_generate function in library libuuid or uuidgen function present)\n  else\n    AC_MSG_ERROR(No uuid_create or uuid_generate function in library libuuid or uuidgen function present. Either fix it or use \"--enable-missing-uuid-ok\")\n  fi\nfi\n\nif test \"x$use_zlib\" != \"xno\"; then\nif test \"x$with_zlib\" != \"xno\"; then\n  AC_CHECK_LIB(z, compress2, [\n      AC_DEFINE([HAVE_LIBZ],1,[Define to 1 if you have the z library (-lz).])\n      have_zlib=yes\n      LIBS=\"-lz $LIBS\"\n  ], AC_MSG_WARN(Missing function: compress2 in library zlib))\nfi\nfi\n\nif test \"x$have_zlib\" != \"xyes\"; then\n  if test \"x$with_zlib\" = \"xyes\"; then\n    AC_MSG_ERROR([zlib requested but not found])\n  fi\nfi\n#\nif test \"x$use_ewf\" != \"xno\"; then\nif test \"x$with_ewf\" != \"xno\"; then\n  AC_CHECK_LIB(ewf,libewf_check_file_signature,[\n  AC_DEFINE([HAVE_LIBEWF],1,[Define to 1 if you have the ewf library (-lewf).])\n  if test \"${ewf_lib_a}\" = \"\"; then\n    photorec_LDADD=\"-lewf $photorec_LDADD\"\n    qphotorec_LDADD=\"-lewf $qphotorec_LDADD\"\n    testdisk_LDADD=\"-lewf $testdisk_LDADD\"\n  else\n    photorec_LDADD=\"${ewf_lib_a} $photorec_LDADD\"\n    qphotorec_LDADD=\"${ewf_lib_a} $qphotorec_LDADD\"\n    testdisk_LDADD=\"${ewf_lib_a} $testdisk_LDADD\"\n  fi\n  have_ewf=yes\n  OLDLIBS=\"$LIBS\"\n  LIBS=\"$OLDLIBS $photorec_LDADD\"\n  AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[#include <libewf.h>]],\n      [[ libewf_get_bytes_per_sector(NULL,NULL); ]])],\n    [ac_cv_c_libewf_get_bytes_per_sector_have_two_arguments=yes],\n    [ac_cv_c_libewf_get_bytes_per_sector_have_two_arguments=no])\n  if test \"${ac_cv_c_libewf_get_bytes_per_sector_have_two_arguments}\" != \"no\"; then\n        AC_DEFINE([LIBEWF_GET_BYTES_PER_SECTOR_HAVE_TWO_ARGUMENTS], 1, [Define if libewf_get_bytes_per_sector takes two parameters.])\n  fi\n  AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[#include <libewf.h>]],\n      [[ libewf_get_media_size(NULL,NULL); ]])],\n    [ac_cv_c_libewf_get_media_size_have_two_arguments=yes],\n    [ac_cv_c_libewf_get_media_size_have_two_arguments=no])\n  if test \"${ac_cv_c_libewf_get_media_size_have_two_arguments}\" != \"no\"; then\n        AC_DEFINE([LIBEWF_GET_MEDIA_SIZE_HAVE_TWO_ARGUMENTS], 1, [Define if libewf_get_media_size takes two parameters.])\n  fi\n  AC_CHECK_TYPE(\n  [libewf_handle_t],\n  [AC_DEFINE( [HAVE_LIBEWF_HANDLE_T], [1], [Define to 1 if libewf_handle_t is available])],,\n  [#include <libewf.h>])\n  ],[\n  AC_MSG_WARN(No ewf library detected)\n  ],[])\n  LIBS=\"$OLDLIBS\"\nelse\n  AC_MSG_WARN(Use of ewf library disabled)\nfi\nfi\n\nif test \"x$have_ewf\" != \"xyes\"; then\n  if test \"x$with_ewf\" = \"xyes\"; then\n    AC_MSG_ERROR([ewf requested but not found])\n  fi\nfi\n#-Wconversion -Wmissing-noreturn -ffunction-sections -Wl,--gc-sections -Wl,--print-gc-sections\nfor option in -Wdeclaration-after-statement -Wall -Wextra -MD -Wpointer-arith -Wmissing-declarations -Wmissing-prototypes -Wstrict-prototypes -Wshadow -Wwrite-strings -W -Wcast-align -Waggregate-return -Wbad-function-cast -Wcast-qual -Wundef -Wredundant-decls -Wsign-compare -Wnested-externs -Winline -Wdisabled-optimization -Wfloat-equal -Wmissing-format-attribute -Wmultichar -Wc++-compat -Wformat=2 -Wtrampolines -Wunreachable-code -Wvla\ndo\n  SAVE_CFLAGS=\"$CFLAGS\"\n  CFLAGS=\"$CFLAGS $option\"\n  AC_MSG_CHECKING([whether gcc understands $option])\n  AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[]], [[]])],\n      [has_option=yes],\n      [has_option=no; CFLAGS=\"$SAVE_CFLAGS\"])\n  AC_MSG_RESULT($has_option)\n  unset has_option\n  unset SAVE_CFLAGS\ndone\nunset option\n\nAC_LANG_PUSH([C++])\nfor option in -Wall -MD -Wpointer-arith -Wmissing-declarations -Wshadow -Wwrite-strings -W -Wcast-align -Wcast-qual -Wundef -Wredundant-decls -Wsign-compare -Wdisabled-optimization -Wmissing-format-attribute -Wmultichar -Wformat=2 -fvisibility=hidden -fvisibility-inlines-hidden -fPIC -Wtrampolines -Wvla\ndo\n  SAVE_CXXFLAGS=\"$CXXFLAGS\"\n  CXXFLAGS=\"$CXXFLAGS $option\"\n  AC_MSG_CHECKING([whether g++ understands $option])\n  AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[]], [[]])],\n      [has_option=yes],\n      [has_option=no; CXXFLAGS=\"$SAVE_CXXFLAGS\"])\n  AC_MSG_RESULT($has_option)\n  unset has_option\n  unset SAVE_CXXFLAGS\ndone\nunset option\nAC_LANG_POP([C++])\n\n#if defined __GNUC__ && !defined _FORTIFY_SOURCE\nAC_DEFINE([_FORTIFY_SOURCE], 2, [enable compile-time and run-time bounds-checking, and some warnings])\n#endif\n\ncase \"$target\" in\n  *hpux*)\n\t;;\n  *)\n\tAC_CHECK_FUNCS(pread)\n  ;;\nesac\n\nAC_CHECK_FUNCS([ atexit atoll chdir chmod delscreen dirname dup2 execv fdatasync fseeko fsync ftello ftruncate getcwd geteuid getpwuid libewf_handle_read_buffer_at_offset libewf_handle_write_buffer_at_offset localtime_r lstat memalign memchr memset mkdir posix_fadvise posix_memalign pwrite readlink setenv setlocale sigaction signal sleep snprintf strcasecmp strcasestr strchr strdup strerror strncasecmp strptime strrchr strstr strtol strtoul strtoull touchwin uname utime vsnprintf wctomb ])\nif test \"$ac_cv_func_mkdir\" = \"no\"; then\n  AC_MSG_ERROR(No mkdir function detected)\nfi\n\nif test \"$ac_cv_func_execv\" = \"yes\" -a \"$use_sudo\" = \"true\";\nthen\n    if test -z \"$SUDO_BIN\"; then\n        AC_PATH_PROG([SUDO], [sudo], [AC_MSG_ERROR([sudo requested but not found])])\n\tSUDO_BIN=\"$SUDO\"\n    fi\n    AC_DEFINE_UNQUOTED([SUDO_BIN], \"$SUDO_BIN\", [Path to sudo for privileged operations])\nfi\n\nif test \"$use_assert\" = \"false\";\nthen\n  AC_DEFINE(NDEBUG, 1, [Disable the assert error checking])\nfi\n\n#reiserfs_fs_open_fast may not been detected because of lack of -ldal\nOLDLIBS=\"$LIBS\"\nLIBS=\"$OLDLIBS $testdisk_LDADD -ldal\"\nAC_CHECK_FUNCS([reiserfs_fs_open_fast])\nLIBS=\"$OLDLIBS\"\nAC_CHECK_FUNCS([ntfs_libntfs_version ntfs_volume_startup])\n\nexport QT_SELECT=qt5\nif test \"$use_qt\" = \"true\";\nthen\n  PKG_CHECK_MODULES(QT5GUI, [Qt5Gui  >= 5.0.0],,use_qt=false)\n  PKG_CHECK_MODULES(QT5WIDGETS, [Qt5Widgets  >= 5.0.0],,use_qt=false)\n  AC_MSG_CHECKING([whether Qt5 is using --std=c++14])\n  qt_config=`$PKG_CONFIG --variable=qt_config Qt5Core | grep \"c++14\"`\n  if test \"x$qt_config\" != \"x\" ;\n  then\n    AC_MSG_RESULT([[yes]])\n    AC_LANG_PUSH([C++])\n    option=\"--std=c++14\"\n    SAVE_CXXFLAGS=\"$CXXFLAGS\"\n    CXXFLAGS=\"$CXXFLAGS $option\"\n    AC_MSG_CHECKING([whether g++ understands $option])\n    AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[]], [[]])],\n\t[has_option=yes],\n\t[has_option=no; CXXFLAGS=\"$SAVE_CXXFLAGS\"])\n    AC_MSG_RESULT($has_option)\n    unset has_option\n    unset SAVE_CXXFLAGS\n    unset option\n    AC_LANG_POP([C++])\n  else\n    AC_MSG_RESULT([[no]])\n    AC_MSG_CHECKING([whether Qt5 is using --std=c++11])\n    qt_config=`$PKG_CONFIG --variable=qt_config Qt5Core | grep \"c++11\"`\n    if test \"x$qt_config\" != \"x\" ;\n    then\n      AC_MSG_RESULT([[yes]])\n      AC_LANG_PUSH([C++])\n      option=\"--std=c++11\"\n      SAVE_CXXFLAGS=\"$CXXFLAGS\"\n      CXXFLAGS=\"$CXXFLAGS $option\"\n      AC_MSG_CHECKING([whether g++ understands $option])\n      AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[]], [[]])],\n\t  [has_option=yes],\n\t  [has_option=no; CXXFLAGS=\"$SAVE_CXXFLAGS\"])\n      AC_MSG_RESULT($has_option)\n      unset has_option\n      unset SAVE_CXXFLAGS\n      unset option\n      AC_LANG_POP([C++])\n    else\n      AC_MSG_RESULT([[no]])\n    fi\n  fi\n\n  AC_CHECK_TOOLS(MOC,[moc-qt5 moc],)\n  if test x$MOC = x ; then\n\tAC_MSG_WARN(Could not find a moc-qt5 or moc tool in your PATH.)\n\tuse_qt=false\n  fi\n  AC_CHECK_TOOLS(RCC,[rcc-qt5 rcc],)\n  if test x$RCC = x ; then\n\tAC_MSG_WARN(Could not find a rcc-qt5 or rcc tool in your PATH.)\n\tuse_qt=false\n  fi\n  AC_CHECK_TOOLS(LRELEASE,[lrelease-qt5 lrelease],)\n  if test x$LRELEASE = x ; then\n\tAC_MSG_WARN(Could not find a lrelease-qt5 or lrelease tool in your PATH.)\n\tuse_qt=false\n  fi\n  qphotorec_LDADD=\"$qphotorec_LDADD $QT5GUI_LIBS $QT5WIDGETS_LIBS\"\n  qphotorec_CXXFLAGS=\"$qphotorec_CXXFLAGS $QT5GUI_CFLAGS $QT5WIDGETS_CFLAGS\"\nfi\nAM_CONDITIONAL(USEQT, test \"$use_qt\" = true)\nif test \"$win_target\" = yes;\nthen\n  qphotorec_LDADD=\"$qphotorec_LDADD -mwindows\"\nfi\n\n# e2fsprogs may be using pthread\n# checks for pthreads\nSAVE_CFLAGS=\"$CFLAGS\"\nCFLAGS=\"$CFLAGS -static\"\nACX_PTHREAD([enable_threads=\"pthread\"],[enable_threads=\"no\"])\nCFLAGS=\"$SAVE_CFLAGS\"\n\n# If using stack protection, try -fstack-protector-strong, if not try to fallback to -fstack-protector-all\nif test $stackProtector = 1;\nthen\n      AC_MSG_CHECKING([whether stack protection works with gcc])\n      SAVE_CFLAGS=\"$CFLAGS\"\n      CFLAGS=\"$SAVE_CFLAGS -fstack-protector-strong\"\n      AC_COMPILE_IFELSE(\n\t[AC_LANG_PROGRAM([])],\n\t[has_option=yes],\n\t[CFLAGS=\"$SAVE_CFLAGS -fstack-protector-all\"]\n\t[AC_COMPILE_IFELSE(\n\t  [AC_LANG_PROGRAM([])],\n\t  [has_option=yes],\n\t  [has_option=no; CFLAGS=\"$SAVE_CFLAGS\"]\n\t  [AC_MSG_WARN([Cannot configure with stack protection])]\n\t  )]\n\t)\n      AC_MSG_RESULT($has_option)\n      unset has_option\n      unset SAVE_CFLAGS\nfi\nif test $stackProtector = 1;\nthen\n      AC_MSG_CHECKING([whether stack protection works with g++])\n      AC_LANG_PUSH([C++])\n      SAVE_CXXFLAGS=\"$CXXFLAGS\"\n      CXXFLAGS=\"$SAVE_CXXFLAGS -fstack-protector-strong\"\n      AC_COMPILE_IFELSE(\n\t[AC_LANG_PROGRAM([])],\n\t[has_option=yes],\n\t[CXXFLAGS=\"$SAVE_CXXFLAGS -fstack-protector-all\"]\n\t[AC_COMPILE_IFELSE(\n\t  [AC_LANG_PROGRAM([])],\n\t  [has_option=yes],\n\t  [has_option=no]\n\t  [CXXFLAGS=\"$SAVE_CXXFLAGS\"]\n\t  [AC_MSG_WARN([Cannot configure with stack protection])]\n\t  )]\n\t)\n      AC_MSG_RESULT($has_option)\n      unset has_option\n      unset SAVE_CXXFLAGS\n      AC_LANG_POP([C++])\nfi\n\nphotorecf_LDADD=$photorec_LDADD\nfuzzerfidentify_LDADD=\"-fsanitize=fuzzer $fidentify_LDADD\"\nCFLAGS=\"$CFLAGS $coverage_flags\"\nCXXFLAGS=\"$CXXFLAGS $coverage_flags\"\nCPPFLAGS=\"$CPPFLAGS $coverage_flags\"\nAC_SUBST(CFLAGS)\nAC_SUBST(CXXFLAGS)\nAC_SUBST(CPPFLAGS)\nAC_SUBST(LDFLAGS)\nAC_SUBST(MOC)\nAC_SUBST(LRELEASE)\nAC_SUBST(QT_SELECT)\nAC_SUBST(fidentify_LDADD)\nAC_SUBST(fuzzerfidentify_LDADD)\nAC_SUBST(testdisk_LDADD)\nAC_SUBST(photorec_LDADD)\nAC_SUBST(photorecf_LDADD)\nAC_SUBST(qphotorec_LDADD)\nAC_SUBST(qphotorec_CXXFLAGS)\nAC_CONFIG_FILES([\n\tMakefile\n\ticons/Makefile\n\tsrc/Makefile\n\tman/Makefile\n\tman/testdisk.8 man/photorec.8 man/qphotorec.8 man/fidentify.8\n\tman/zh_CN/Makefile\n\tman/zh_CN/testdisk.8 man/zh_CN/photorec.8 man/zh_CN/qphotorec.8 man/zh_CN/fidentify.8\n\tlinux/testdisk.spec\n])\nAC_OUTPUT\n"
        },
        {
          "name": "cygwin-testdisk-copr.spec",
          "type": "blob",
          "size": 6.4970703125,
          "content": "%{?cygwin_package_header}\n\nName:\t\t{{{ git_name name=cygwin-testdisk }}}\nVersion:\t{{{ git_dir_version }}}\nRelease:\t0%{?dist}\nSummary:\tTestDisk checks and undeletes partitions, PhotoRec recovers lost files\nSummary(pl.UTF8):\tNarzędzie sprawdzające i odzyskujące partycje\nSummary(fr.UTF8):\tOutil pour vérifier et restaurer des partitions\nSummary(ru_RU.UTF8): Программа для проверки и восстановления разделов диска\nLicense:\tGPLv2+\nGroup:\t\tApplications/System\nURL:\t\thttps://www.cgsecurity.org/wiki/TestDisk\nVCS:\t\t{{{ git_dir_vcs }}}\nSource0:\t{{{ git_dir_pack }}}\n\nBuildArch:\tnoarch\nBuildRequires:\tlibtool autoconf automake\nBuildRequires:\tmake\n\nBuildRequires:\tcygwin32-filesystem >= 9\nBuildRequires:\tcygwin32-binutils\nBuildRequires:\tcygwin32-e2fsprogs\nBuildRequires:\tcygwin32-gcc\nBuildRequires:\tcygwin32-libiconv\nBuildRequires:\tcygwin32-libewf\nBuildRequires:\tcygwin32-libjpeg-turbo\nBuildRequires:\tcygwin32-ntfsprogs\nBuildRequires:\tcygwin32-ncurses\nBuildRequires:\tcygwin32-zlib\nBuildRequires:\tcygwin32-pkg-config\n\nBuildRequires:\tcygwin64-binutils\nBuildRequires:\tcygwin64-filesystem >= 9\nBuildRequires:\tcygwin64-e2fsprogs\nBuildRequires:\tcygwin64-gcc\nBuildRequires:\tcygwin64-libewf\nBuildRequires:\tcygwin64-libjpeg-turbo\nBuildRequires:\tcygwin64-ntfsprogs\nBuildRequires:\tcygwin64-ncurses\nBuildRequires:\tcygwin64-libiconv\nBuildRequires:\tcygwin64-zlib\nBuildRequires:\tcygwin64-pkg-config\n\n%description\nCygwin compiled testdisk.\n\n%package -n cygwin32-testdisk\nSummary:       Cygwin compiled testdisk for the Win32 target.\n\n%description -n cygwin32-testdisk\nTool to check and undelete partition. Works with FAT12, FAT16, FAT32,\nNTFS, ext2, ext3, ext4, BeFS, CramFS, HFS, JFS, Linux Raid, Linux Swap,\nLVM, LVM2, NSS, ReiserFS, UFS, XFS\nPhotoRec is a signature based file recovery utility. It handles more than\n200 file formats including JPG, MSOffice, OpenOffice documents.\n\n%description -n cygwin32-testdisk -l pl.UTF8\nNarzędzie sprawdzające i odzyskujące partycje. Pracuje z partycjami:\nFAT12, FAT16, FAT32, NTFS, ext2, ext3, ext4, BeFS, CramFS, HFS, JFS,\nLinux Raid, Linux Swap, LVM, LVM2, NSS, ReiserFS, UFS, XFS\nPhotoRec is a signature based file recovery utility. It handles more than\n200 file formats including JPG, MSOffice, OpenOffice documents.\n\n%description -n cygwin32-testdisk -l fr.UTF8\nTestDisk vérifie et récupère les partitions. Fonctionne avec\nFAT12, FAT16, FAT32, NTFS, ext2, ext3, ext4, BeFS, CramFS, HFS, JFS,\nLinux Raid, Linux Swap, LVM, LVM2, NSS, ReiserFS, UFS, XFS\nPhotoRec utilise un mécanisme de signature pour récupérer des fichiers perdus.\nIl gère plus d'une centaine de formats de fichiers dont les JPEG,\nles documents MSOffice ou OpenOffice.\n\n%description -n cygwin32-testdisk -l ru_RU.UTF8\nПрограмма для проверки и восстановления разделов диска.\nПоддерживает следующие типы разделов:\nFAT12, FAT16, FAT32, NTFS, ext2, ext3, ext4, BeFS, CramFS, HFS, JFS,\nLinux Raid, Linux Swap, LVM, LVM2, NSS, ReiserFS, UFS, XFS\nPhotoRec is a signature based file recovery utility. It handles more than\n200 file formats including JPG, MSOffice, OpenOffice documents.\n\n%package -n cygwin64-testdisk\nSummary:       Cygwin compiled testdisk for the Win64 target.\n\n%description -n cygwin64-testdisk\nTool to check and undelete partition. Works with FAT12, FAT16, FAT32,\nNTFS, ext2, ext3, ext4, BeFS, CramFS, HFS, JFS, Linux Raid, Linux Swap,\nLVM, LVM2, NSS, ReiserFS, UFS, XFS\nPhotoRec is a signature based file recovery utility. It handles more than\n200 file formats including JPG, MSOffice, OpenOffice documents.\n\n%description -n cygwin64-testdisk -l pl.UTF8\nNarzędzie sprawdzające i odzyskujące partycje. Pracuje z partycjami:\nFAT12, FAT16, FAT32, NTFS, ext2, ext3, ext4, BeFS, CramFS, HFS, JFS,\nLinux Raid, Linux Swap, LVM, LVM2, NSS, ReiserFS, UFS, XFS\nPhotoRec is a signature based file recovery utility. It handles more than\n200 file formats including JPG, MSOffice, OpenOffice documents.\n\n%description -n cygwin64-testdisk -l fr.UTF8\nTestDisk vérifie et récupère les partitions. Fonctionne avec\nFAT12, FAT16, FAT32, NTFS, ext2, ext3, ext4, BeFS, CramFS, HFS, JFS,\nLinux Raid, Linux Swap, LVM, LVM2, NSS, ReiserFS, UFS, XFS\nPhotoRec utilise un mécanisme de signature pour récupérer des fichiers perdus.\nIl gère plus d'une centaine de formats de fichiers dont les JPEG,\nles documents MSOffice ou OpenOffice.\n\n%description -n cygwin64-testdisk -l ru_RU.UTF8\nПрограмма для проверки и восстановления разделов диска.\nПоддерживает следующие типы разделов:\nFAT12, FAT16, FAT32, NTFS, ext2, ext3, ext4, BeFS, CramFS, HFS, JFS,\nLinux Raid, Linux Swap, LVM, LVM2, NSS, ReiserFS, UFS, XFS\nPhotoRec is a signature based file recovery utility. It handles more than\n200 file formats including JPG, MSOffice, OpenOffice documents.\n\n%{?cygwin_debug_package}\n\n%prep\n{{{ git_dir_setup_macro }}}\n\n%build\nautoreconf -vif -I config -W all\n%cygwin_configure --enable-missing-uuid-ok\n%cygwin_make %{?_smp_mflags}\n%install\nrm -rf $RPM_BUILD_ROOT\n%cygwin_make install DESTDIR=$RPM_BUILD_ROOT\n\n%files -n cygwin32-testdisk\n%{cygwin32_docdir}/testdisk/AUTHORS\n%{cygwin32_docdir}/testdisk/ChangeLog\n%{cygwin32_docdir}/testdisk/NEWS\n%{cygwin32_docdir}/testdisk/README.md\n%{cygwin32_docdir}/testdisk/THANKS\n%{cygwin32_docdir}/testdisk/documentation.html\n%{cygwin32_mandir}/man8/*-fidentify.8*\n%{cygwin32_mandir}/man8/*-photorec.8*\n%{cygwin32_mandir}/man8/*-testdisk.8*\n%{cygwin32_mandir}/zh_CN/man8/*-fidentify.8*\n%{cygwin32_mandir}/zh_CN/man8/*-photorec.8*\n%{cygwin32_mandir}/zh_CN/man8/*-testdisk.8*\n%attr(755,root,root) %{cygwin32_bindir}/*-fidentify.exe\n%attr(755,root,root) %{cygwin32_bindir}/*-photorec.exe\n%attr(755,root,root) %{cygwin32_bindir}/*-testdisk.exe\n\n%files -n cygwin64-testdisk\n%{cygwin64_docdir}/testdisk/AUTHORS\n%{cygwin64_docdir}/testdisk/ChangeLog\n%{cygwin64_docdir}/testdisk/NEWS\n%{cygwin64_docdir}/testdisk/README.md\n%{cygwin64_docdir}/testdisk/THANKS\n%{cygwin64_docdir}/testdisk/documentation.html\n%{cygwin64_mandir}/man8/*-fidentify.8*\n%{cygwin64_mandir}/man8/*-photorec.8*\n%{cygwin64_mandir}/man8/*-testdisk.8*\n%{cygwin64_mandir}/zh_CN/man8/*-fidentify.8*\n%{cygwin64_mandir}/zh_CN/man8/*-photorec.8*\n%{cygwin64_mandir}/zh_CN/man8/*-testdisk.8*\n%attr(755,root,root) %{cygwin64_bindir}/*-fidentify.exe\n%attr(755,root,root) %{cygwin64_bindir}/*-photorec.exe\n%attr(755,root,root) %{cygwin64_bindir}/*-testdisk.exe\n\n%changelog\n* Mon Aug 15 2016 Christophe GRENIER <grenier@cgsecurity.org> - 7.1-0\n- First spec file under cygwin\n"
        },
        {
          "name": "darwin",
          "type": "tree",
          "content": null
        },
        {
          "name": "doc",
          "type": "commit",
          "content": null
        },
        {
          "name": "documentation.html",
          "type": "blob",
          "size": 0.4921875,
          "content": "<!DOCTYPE html>\n<html>\n<head>\n<title>TestDisk &amp; PhotoRec documentation</title>\n<link rel=\"shortcut icon\" href=\"https://www.cgsecurity.org/favicon.ico\" />\n<meta charset=\"UTF-8\">\n</head>\n<body>\nTestDisk &amp; PhotoRec documentation can be found online:\n<ul>\n<li><a href=\"https://www.cgsecurity.org/wiki/TestDisk\">TestDisk</a></li>\n<li><a href=\"https://www.cgsecurity.org/wiki/PhotoRec\">PhotoRec</a></li>\n<li><a href=\"https://www.cgsecurity.org/testdisk.pdf\">testdisk.pdf</a></li>\n</ul>\n</body>\n</html>\n"
        },
        {
          "name": "dos",
          "type": "tree",
          "content": null
        },
        {
          "name": "icons",
          "type": "tree",
          "content": null
        },
        {
          "name": "jni",
          "type": "tree",
          "content": null
        },
        {
          "name": "linux",
          "type": "tree",
          "content": null
        },
        {
          "name": "man",
          "type": "tree",
          "content": null
        },
        {
          "name": "mingw-testdisk-copr.spec",
          "type": "blob",
          "size": 7.9208984375,
          "content": "%{?mingw_package_header}\n\nName:\t\tmingw-testdisk\nVersion:\t{{{ git_dir_version }}}\nRelease:\t0%{?dist}\nSummary:\tTestDisk checks and undeletes partitions, PhotoRec recovers lost files\nSummary(pl.UTF8):\tNarzędzie sprawdzające i odzyskujące partycje\nSummary(fr.UTF8):\tOutil pour vérifier et restaurer des partitions\nSummary(ru_RU.UTF8): Программа для проверки и восстановления разделов диска\nLicense:\tGPLv2+\nGroup:\t\tApplications/System\nURL:\t\thttps://www.cgsecurity.org/wiki/TestDisk\nVCS:\t\t{{{ git_dir_vcs }}}\nSource0:\t{{{ git_dir_pack name=mingw-testdisk }}}\n\nBuildArch:\tnoarch\nBuildRequires:\tlibtool autoconf automake\nBuildRequires:\tmake\n\nBuildRequires:\tmingw32-filesystem >= 95\nBuildRequires:\tmingw32-binutils\nBuildRequires:\tmingw32-gcc\nBuildRequires:\tmingw32-gcc-c++\nBuildRequires:\tmingw32-gettext\nBuildRequires:\tmingw32-libewf\nBuildRequires:\tmingw32-libjpeg-turbo\nBuildRequires:\tmingw32-libjpeg-turbo-static\nBuildRequires:\tmingw32-ntfsprogs\nBuildRequires:\tmingw32-openssl\nBuildRequires:\tmingw32-pdcurses\nBuildRequires:\tmingw32-qt5-qtbase-devel\nBuildRequires:\tmingw32-qt5-qttools-tools\nBuildRequires:\tmingw32-win-iconv\nBuildRequires:\tmingw32-zlib\n\nBuildRequires:\tmingw64-binutils\nBuildRequires:\tmingw64-filesystem >= 95\nBuildRequires:\tmingw64-gcc\nBuildRequires:\tmingw64-gcc-c++\nBuildRequires:\tmingw64-gettext\nBuildRequires:\tmingw64-libewf\nBuildRequires:\tmingw64-libjpeg-turbo\nBuildRequires:\tmingw64-ntfsprogs\nBuildRequires:\tmingw64-openssl\nBuildRequires:\tmingw64-pdcurses\nBuildRequires:\tmingw64-qt5-qtbase-devel\nBuildRequires:\tmingw64-qt5-qttools-tools\nBuildRequires:\tmingw64-win-iconv\nBuildRequires:\tmingw64-zlib\n\n%description\nMinGW compiled testdisk.\n\n%package -n mingw32-testdisk\nSummary:       MinGW compiled testdisk for the Win32 target.\n\n%description -n mingw32-testdisk\nTool to check and undelete partition. Works with FAT12, FAT16, FAT32,\nNTFS, ext2, ext3, ext4, BeFS, CramFS, HFS, JFS, Linux Raid, Linux Swap,\nLVM, LVM2, NSS, ReiserFS, UFS, XFS\nPhotoRec is a signature based file recovery utility. It handles more than\n200 file formats including JPG, MSOffice, OpenOffice documents.\n\n%description -n mingw32-testdisk -l pl.UTF8\nNarzędzie sprawdzające i odzyskujące partycje. Pracuje z partycjami:\nFAT12, FAT16, FAT32, NTFS, ext2, ext3, ext4, BeFS, CramFS, HFS, JFS,\nLinux Raid, Linux Swap, LVM, LVM2, NSS, ReiserFS, UFS, XFS\nPhotoRec is a signature based file recovery utility. It handles more than\n200 file formats including JPG, MSOffice, OpenOffice documents.\n\n%description -n mingw32-testdisk -l fr.UTF8\nTestDisk vérifie et récupère les partitions. Fonctionne avec\nFAT12, FAT16, FAT32, NTFS, ext2, ext3, ext4, BeFS, CramFS, HFS, JFS,\nLinux Raid, Linux Swap, LVM, LVM2, NSS, ReiserFS, UFS, XFS\nPhotoRec utilise un mécanisme de signature pour récupérer des fichiers perdus.\nIl gère plus d'une centaine de formats de fichiers dont les JPEG,\nles documents MSOffice ou OpenOffice.\n\n%description -n mingw32-testdisk -l ru_RU.UTF8\nПрограмма для проверки и восстановления разделов диска.\nПоддерживает следующие типы разделов:\nFAT12, FAT16, FAT32, NTFS, ext2, ext3, ext4, BeFS, CramFS, HFS, JFS,\nLinux Raid, Linux Swap, LVM, LVM2, NSS, ReiserFS, UFS, XFS\nPhotoRec is a signature based file recovery utility. It handles more than\n200 file formats including JPG, MSOffice, OpenOffice documents.\n\n%package -n mingw64-testdisk\nSummary:       MinGW compiled testdisk for the Win64 target.\n\n%description -n mingw64-testdisk\nTool to check and undelete partition. Works with FAT12, FAT16, FAT32,\nNTFS, ext2, ext3, ext4, BeFS, CramFS, HFS, JFS, Linux Raid, Linux Swap,\nLVM, LVM2, NSS, ReiserFS, UFS, XFS\nPhotoRec is a signature based file recovery utility. It handles more than\n200 file formats including JPG, MSOffice, OpenOffice documents.\n\n%description -n mingw64-testdisk -l pl.UTF8\nNarzędzie sprawdzające i odzyskujące partycje. Pracuje z partycjami:\nFAT12, FAT16, FAT32, NTFS, ext2, ext3, ext4, BeFS, CramFS, HFS, JFS,\nLinux Raid, Linux Swap, LVM, LVM2, NSS, ReiserFS, UFS, XFS\nPhotoRec is a signature based file recovery utility. It handles more than\n200 file formats including JPG, MSOffice, OpenOffice documents.\n\n%description -n mingw64-testdisk -l fr.UTF8\nTestDisk vérifie et récupère les partitions. Fonctionne avec\nFAT12, FAT16, FAT32, NTFS, ext2, ext3, ext4, BeFS, CramFS, HFS, JFS,\nLinux Raid, Linux Swap, LVM, LVM2, NSS, ReiserFS, UFS, XFS\nPhotoRec utilise un mécanisme de signature pour récupérer des fichiers perdus.\nIl gère plus d'une centaine de formats de fichiers dont les JPEG,\nles documents MSOffice ou OpenOffice.\n\n%description -n mingw64-testdisk -l ru_RU.UTF8\nПрограмма для проверки и восстановления разделов диска.\nПоддерживает следующие типы разделов:\nFAT12, FAT16, FAT32, NTFS, ext2, ext3, ext4, BeFS, CramFS, HFS, JFS,\nLinux Raid, Linux Swap, LVM, LVM2, NSS, ReiserFS, UFS, XFS\nPhotoRec is a signature based file recovery utility. It handles more than\n200 file formats including JPG, MSOffice, OpenOffice documents.\n\n%{?mingw_debug_package}\n\n%prep\n{{{ git_dir_setup_macro }}}\n\n%build\nautoreconf -vif -I config -W all\n%mingw_configure --enable-missing-uuid-ok\n%mingw_make %{?_smp_mflags}\n%install\nrm -rf $RPM_BUILD_ROOT\n%mingw_make install DESTDIR=$RPM_BUILD_ROOT\n\n%files -n mingw32-testdisk\n%{mingw32_docdir}/testdisk/AUTHORS\n%{mingw32_docdir}/testdisk/ChangeLog\n%{mingw32_docdir}/testdisk/NEWS\n%{mingw32_docdir}/testdisk/README.md\n%{mingw32_docdir}/testdisk/THANKS\n%{mingw32_docdir}/testdisk/documentation.html\n%{mingw32_mandir}/man8/*-fidentify.8*\n%{mingw32_mandir}/man8/*-photorec.8*\n%{mingw32_mandir}/man8/*-qphotorec.8*\n%{mingw32_mandir}/man8/*-testdisk.8*\n%{mingw32_mandir}/zh_CN/man8/*-fidentify.8*\n%{mingw32_mandir}/zh_CN/man8/*-photorec.8*\n%{mingw32_mandir}/zh_CN/man8/*-qphotorec.8*\n%{mingw32_mandir}/zh_CN/man8/*-testdisk.8*\n%{mingw32_datadir}/applications/qphotorec.desktop\n%{mingw32_datadir}/icons/hicolor/48x48/apps/qphotorec.png\n%{mingw32_datadir}/icons/hicolor/scalable/apps/qphotorec.svg\n%attr(755,root,root) %{mingw32_bindir}/*-fidentify.exe\n%attr(755,root,root) %{mingw32_bindir}/*-photorec.exe\n%attr(755,root,root) %{mingw32_bindir}/*-qphotorec.exe\n%attr(755,root,root) %{mingw32_bindir}/*-testdisk.exe\n\n%files -n mingw64-testdisk\n%{mingw64_docdir}/testdisk/AUTHORS\n%{mingw64_docdir}/testdisk/ChangeLog\n%{mingw64_docdir}/testdisk/NEWS\n%{mingw64_docdir}/testdisk/README.md\n%{mingw64_docdir}/testdisk/THANKS\n%{mingw64_docdir}/testdisk/documentation.html\n%{mingw64_mandir}/man8/*-fidentify.8*\n%{mingw64_mandir}/man8/*-photorec.8*\n%{mingw64_mandir}/man8/*-qphotorec.8*\n%{mingw64_mandir}/man8/*-testdisk.8*\n%{mingw64_mandir}/zh_CN/man8/*-fidentify.8*\n%{mingw64_mandir}/zh_CN/man8/*-photorec.8*\n%{mingw64_mandir}/zh_CN/man8/*-qphotorec.8*\n%{mingw64_mandir}/zh_CN/man8/*-testdisk.8*\n%{mingw64_datadir}/applications/qphotorec.desktop\n%{mingw64_datadir}/icons/hicolor/48x48/apps/qphotorec.png\n%{mingw64_datadir}/icons/hicolor/scalable/apps/qphotorec.svg\n%attr(755,root,root) %{mingw64_bindir}/*-fidentify.exe\n%attr(755,root,root) %{mingw64_bindir}/*-photorec.exe\n%attr(755,root,root) %{mingw64_bindir}/*-qphotorec.exe\n%attr(755,root,root) %{mingw64_bindir}/*-testdisk.exe\n\n%changelog\n* Thu Jul 17 2008 Christophe Grenier <grenier@cgsecurity.org> 6.10-1\n- 6.10\n\n* Sun Jan 4 2004 Christophe Grenier <grenier@cgsecurity.org> 5.0\n- 5.0\n\n* Wed Oct 1 2003 Christophe Grenier <grenier@cgsecurity.org> 4.5\n- 4.5\n\n* Wed Apr 23 2003 Christophe Grenier <grenier@cgsecurity.org> 4.4-2\n\n* Sat Mar 29 2003 Pascal Terjan <CMoi@tuxfamily.org> 4.4-1mdk\n- 4.4\n\n* Fri Dec 27 2002 Olivier Thauvin <thauvin@aerov.jussieu.fr> 4.2-2mdk\n- rebuild for rpm and glibc\n\n* Sun Oct 06 2002 Olivier Thauvin <thauvin@aerov.jussieu.fr> 4.2-1mdk\n- 4.2\n\n* Mon Sep 02 2002 Olivier Thauvin <thauvin@aerov.jussieu.fr> 4.1-1mdk\n- By Pascal Terjan <pascal.terjan@free.fr>\n\t- first mdk release, adapted from PLD.\n\t- gz to bz2 compression.\n- fix %%tmppath\n- %%make instead %%{__make}\n"
        },
        {
          "name": "mkdir.m4",
          "type": "blob",
          "size": 0.986328125,
          "content": "dnl Copyright (C) 2007-2015 Free Software Foundation, Inc.\ndnl This file is free software; the Free Software Foundation\ndnl gives unlimited permission to copy and/or distribute it,\ndnl with or without modifications, as long as this notice is preserved.\n\n# AC_PROG_MKDIR_P\n# is a backport of autoconf-2.60's AC_PROG_MKDIR_P, with a fix\n# for interoperability with automake-1.9.6 from autoconf-2.62.\n# Remove this macro when we can assume autoconf >= 2.62 or\n# autoconf >= 2.60 && automake >= 1.10.\n# AC_AUTOCONF_VERSION was introduced in 2.62, so use that as the witness.\nm4_ifndef([AC_AUTOCONF_VERSION],[\nm4_ifdef([AC_PROG_MKDIR_P], [\n  dnl For automake-1.9.6 && autoconf < 2.62: Ensure MKDIR_P is AC_SUBSTed.\n  m4_define([AC_PROG_MKDIR_P],\n    m4_defn([AC_PROG_MKDIR_P])[\n    AC_SUBST([MKDIR_P])])], [\n  dnl For autoconf < 2.60: Backport of AC_PROG_MKDIR_P.\n  AC_DEFUN_ONCE([AC_PROG_MKDIR_P],\n    [AC_REQUIRE([AM_PROG_MKDIR_P])dnl defined by automake\n     MKDIR_P='$(mkdir_p)'\n     AC_SUBST([MKDIR_P])])])\n])\n"
        },
        {
          "name": "progsreiserfs-file-read.patch",
          "type": "blob",
          "size": 0.54296875,
          "content": "diff -ru progsreiserfs-0.3.1-rc8.org/libreiserfs/file.c progsreiserfs-0.3.1-rc8/libreiserfs/file.c\n--- progsreiserfs-0.3.1-rc8.org/libreiserfs/file.c\t2002-12-12 13:32:35.000000000 +0100\n+++ progsreiserfs-0.3.1-rc8/libreiserfs/file.c\t2011-03-30 08:00:37.000000000 +0200\n@@ -172,7 +172,7 @@\n \treturn readed;\n \t\n     offset = file->offset;\n-    while (reiserfs_file_seek(file, file->offset)) {\n+    while (readed < size && reiserfs_file_seek(file, file->offset)) {\n \t\n \tif (!reiserfs_file_read_item(file, buffer + readed, size - readed))\n \t    return readed;\n"
        },
        {
          "name": "progsreiserfs-journal.patch",
          "type": "blob",
          "size": 0.494140625,
          "content": "--- progsreiserfs-0.3.1-rc8/libreiserfs/journal.c\t2002-12-12 13:32:35.000000000 +0100\n+++ progsreiserfs-0.3.1-rc8/libreiserfs/journal.c\t2003-03-29 02:24:01.000000000 +0100\n@@ -482,7 +482,7 @@\n blk_t reiserfs_journal_boundary_transactions(reiserfs_journal_t *journal,\n     reiserfs_journal_trans_t *oldest, reiserfs_journal_trans_t *newest)\n {\n-    reiserfs_gauge_t *gauge;\n+    reiserfs_gauge_t *gauge=NULL;\n     struct reiserfs_replay_desc desc;\n \t\n     desc.oldest_id = 0xffffffff; desc.newest_id = 0x0;\n"
        },
        {
          "name": "sonar-project.properties",
          "type": "blob",
          "size": 1.1015625,
          "content": "# must be unique in a given SonarQube instance\nsonar.projectKey=testdisk\n# this is the name and version displayed in the SonarQube UI. Was mandatory prior to SonarQube 6.1.\nsonar.projectName=testdisk\nsonar.projectVersion=7.2\n\n# =====================================================\n#   Meta-data for the project\n# =====================================================\n\nsonar.links.homepage=https://github.com/cgsecurity/testdisk\nsonar.links.ci=https://travis-ci.org/cgsecurity/testdisk\nsonar.links.scm=https://github.com/cgsecurity/testdisk\nsonar.links.issue=https://github.com/cgsecurity/testdisk/issues\n\n\n# Path is relative to the sonar-project.properties file. Replace \"\\\" by \"/\" on Windows.\n# Since SonarQube 4.2, this property is optional if sonar.modules is set. \n# If not set, SonarQube starts looking for source code from the directory containing \n# the sonar-project.properties file.\nsonar.sources=.\n \n# Encoding of the source code. Default is default system encoding\nsonar.sourceEncoding=UTF-8\n\n# Properties specific to the C/C++ analyzer:\nsonar.cfamily.build-wrapper-output=bw-output\nsonar.cfamily.gcov.reportsPath=.\n"
        },
        {
          "name": "src",
          "type": "tree",
          "content": null
        },
        {
          "name": "testdisk-copr.spec",
          "type": "blob",
          "size": 4.7529296875,
          "content": "Summary:\tTool to check and undelete partition, PhotoRec recovers lost files\nSummary(pl.UTF8):\tNarzędzie sprawdzające i odzyskujące partycje\nSummary(fr.UTF8):\tOutil pour vérifier et restaurer des partitions\nSummary(ru_RU.UTF8): Программа для проверки и восстановления разделов диска\nName:\t\ttestdisk\nVersion:\t{{{ git_dir_version }}}\nRelease:\t0%{?dist}\nLicense:\tGPLv2+\nGroup:\t\tApplications/System\nSource0:\t{{{ git_dir_pack name=testdisk }}}\nURL:\t\thttps://www.cgsecurity.org/wiki/TestDisk\nVCS:\t\t{{{ git_dir_vcs }}}\nBuildRequires:\tlibtool autoconf automake\nBuildRequires:\tmake\nBuildRequires:\tdesktop-file-utils\nBuildRequires:\te2fsprogs-devel\n%if  0%{?rhel} < 8\nBuildRequires:\tlibewf-devel\n%endif\nBuildRequires:\tlibjpeg-devel\nBuildRequires:\tncurses-devel >= 5.2\nBuildRequires:\tntfs-3g-devel\nBuildRequires:\tzlib-devel\n%if  0%{?rhel} != 5\nBuildRequires:\tlibuuid-devel\nBuildRequires:\tqt5-linguist\nBuildRequires:\tqt5-qtbase-devel\n%endif\nBuildRoot:\t%{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)\n%{!?_pkgdocdir: %global _pkgdocdir %{_docdir}/%{name}-%{version}}\n\n%description\nTool to check and undelete partition. Works with FAT12, FAT16, FAT32,\nNTFS, ext2, ext3, ext4, btrfs, BeFS, CramFS, HFS, JFS, Linux Raid, Linux\nSwap, LVM, LVM2, NSS, ReiserFS, UFS, XFS.\nPhotoRec is a signature based file recovery utility. It handles more than\n440 file formats including JPG, MSOffice, OpenOffice documents.\n\n%description -l pl.UTF8\nNarzędzie sprawdzające i odzyskujące partycje. Pracuje z partycjami:\nFAT12, FAT16, FAT32, NTFS, ext2, ext3, ext4, btrfs, BeFS, CramFS, HFS, JFS,\nLinux Raid, Linux Swap, LVM, LVM2, NSS, ReiserFS, UFS, XFS.\nPhotoRec is a signature based file recovery utility. It handles more than\n440 file formats including JPG, MSOffice, OpenOffice documents.\n\n%description -l fr.UTF8\nTestDisk vérifie et récupère les partitions. Fonctionne avec\nFAT12, FAT16, FAT32, NTFS, ext2, ext3, ext4, btrfs, BeFS, CramFS, HFS, JFS,\nLinux Raid, Linux Swap, LVM, LVM2, NSS, ReiserFS, UFS, XFS.\nPhotoRec utilise un mécanisme de signature pour récupérer des fichiers\nperdus. Il reconnait plus de 440 formats de fichiers dont les JPEG, les\ndocuments MSOffice ou OpenOffice.\n\n%description -l ru_RU.UTF8\nПрограмма для проверки и восстановления разделов диска.\nПоддерживает следующие типы разделов:\nFAT12, FAT16, FAT32, NTFS, ext2, ext3, ext4, btrfs, BeFS, CramFS, HFS, JFS,\nLinux Raid, Linux Swap, LVM, LVM2, NSS, ReiserFS, UFS, XFS.\nPhotoRec is a signature based file recovery utility. It handles more than\n440 file formats including JPG, MSOffice, OpenOffice documents.\n\n%if  0%{?rhel} != 5\n%package -n qphotorec\nSummary:\tSignature based file carver. Recover lost files\nGroup:\t\tApplications/System\n\n%description -n qphotorec\nQPhotoRec is a Qt version of PhotoRec. It is a signature based file recovery\nutility. It handles more than 440 file formats including JPG, MSOffice,\nOpenOffice documents.\n\n%endif\n\n%prep\n{{{ git_dir_setup_macro }}}\n\n%build\nautoreconf -vif -I config -W all\n%if  0%{?rhel} == 5\n%configure\n%else\n%configure --docdir=%{_pkgdocdir}\n%endif\nmake %{?_smp_mflags}\n%install\nrm -rf %{buildroot}\nmake DESTDIR=\"%{buildroot}\" install\n\n%if  0%{?rhel} != 5\n%check\ndesktop-file-validate %{buildroot}/%{_datadir}/applications/qphotorec.desktop\n\n%post -n qphotorec\n/bin/touch --no-create %{_datadir}/icons/hicolor &>/dev/null || :\n\n%postun -n qphotorec\nif [ $1 -eq 0 ] ; then\n    /bin/touch --no-create %{_datadir}/icons/hicolor &>/dev/null\n    /usr/bin/gtk-update-icon-cache %{_datadir}/icons/hicolor &>/dev/null || :\nfi\n\n%posttrans -n qphotorec\n/usr/bin/gtk-update-icon-cache %{_datadir}/icons/hicolor &>/dev/null || :\n\n%endif\n\n%files\n%if  0%{?rhel} == 5\n%doc /usr/share/doc/testdisk/AUTHORS\n%doc /usr/share/doc/testdisk/ChangeLog\n%doc /usr/share/doc/testdisk/NEWS\n%doc /usr/share/doc/testdisk/README.md\n%doc /usr/share/doc/testdisk/THANKS\n%doc /usr/share/doc/testdisk/documentation.html\n%else\n%license COPYING\n%doc AUTHORS ChangeLog NEWS README.md THANKS\n%doc documentation.html\n%endif\n%attr(755,root,root) %{_bindir}/fidentify\n%attr(755,root,root) %{_bindir}/photorec\n%attr(755,root,root) %{_bindir}/testdisk\n%{_mandir}/man8/fidentify.8*\n%{_mandir}/man8/photorec.8*\n%{_mandir}/man8/testdisk.8*\n%{_mandir}/zh_CN/man8/fidentify.8*\n%{_mandir}/zh_CN/man8/photorec.8*\n%{_mandir}/zh_CN/man8/testdisk.8*\n\n%if  0%{?rhel} != 5\n%files -n qphotorec\n%attr(755,root,root) %{_bindir}/qphotorec\n%{_mandir}/man8/qphotorec.8*\n%{_mandir}/zh_CN/man8/qphotorec.8*\n%{_datadir}/applications/qphotorec.desktop\n%{_datadir}/icons/hicolor/48x48/apps/qphotorec.png\n%{_datadir}/icons/hicolor/scalable/apps/qphotorec.svg\n%endif\n\n%changelog\n* Sun Jan 24 2016 Christophe Grenier <grenier@cgsecurity.org> 7.1-0\n- spec file for fedora copr integration\n"
        },
        {
          "name": "win",
          "type": "tree",
          "content": null
        }
      ]
    }
  ]
}