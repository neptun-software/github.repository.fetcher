{
  "metadata": {
    "timestamp": 1736710005162,
    "page": 592,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjYwMA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "php-ds/ext-ds",
      "stars": 2116,
      "defaultBranch": "master",
      "files": [
        {
          "name": ".editorconfig",
          "type": "blob",
          "size": 0.23828125,
          "content": "# This file is for unifying the coding style for different editors and IDEs.\n# More information at http://editorconfig.org\n\nroot = true\n\n[*]\nend_of_line = lf\n\n[*.{php, c, h}]\nindent_style = space\nindent_size = 4\ntrim_trailing_whitespace = true\n"
        },
        {
          "name": ".github",
          "type": "tree",
          "content": null
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.462890625,
          "content": "*.\n*.dep\n*.ac\n*.gcda\n*.gcno\n*.la\n*.lo\n*.loT\n*.mem\n*.mk\n*.o\n*.slo\n*.tgz\n*~\n.#*\n.deps\n.idea\n.libs\n.phpunit.result.cache\n/include\nacinclude.m4\naclocal.m4\nautom4te.cache\nbuild\nclean\ncomposer.lock\nconfig.cache\nconfig.guess\nconfig.h\nconfig.h.in\nconfig.log\nconfig.nice\nconfig.status\nconfig.sub\nconfigure\nconfigure.in\ninstall\ninstall-sh\nlibs\nlibtool\nltmain.sh\nMakefile\nMakefile.fragments\nMakefile.global\nMakefile.objects\nmissing\nmkinstalldirs\nmodules\nrun-tests.php\ntest\nvendor\n~.tgz"
        },
        {
          "name": ".valgrindrc",
          "type": "blob",
          "size": 0.08203125,
          "content": "--memcheck:leak-check=full\n--memcheck:track-origins=yes\n--memcheck:error-exitcode=1\n"
        },
        {
          "name": "CHANGELOG.md",
          "type": "blob",
          "size": 2.986328125,
          "content": "# Change Log\nAll notable changes to this project will be documented in this file.\nThis project follows [Semantic Versioning](http://semver.org/).\n\n## [Unreleased] - Future\n### Changed\n- Min PHP version is 7.3\n\n## [1.3.0] - 2020-10-13\n### Fixed\n- ArrayAccess implemented consistently\n- IteratorAggregate implemented consistently\n- A few incorrect return types\n\n## [1.2.9] - 2019-05-11\n### Fixed\n- Segfault when iterating an implicit instance of Stack, Queue or PriorityQueue\n\n## [1.2.8] - 2019-01-24\n### Fixed\n- Fixed buffer outflow during deserialization of map objects. #132 @rado-h\n\n## [1.2.7] - 2018-11-18\n### Fixed\n- Fixed pair reflection bugs. #119\n\n## [1.2.6] - 2018-05-24\n### Fixed\n- Fixed not clearing memory after buffer reallocation. #114\n\n## [1.2.5] - 2018-03-13\n### Fixed\n- Buffer outflow during deserialization of objects. #111\n\n## [1.2.4] - 2017-11-29\n### Fixed\n- Empty `PriorityQueue` causing segfault on `gc_collect_cycles`. #106\n\n## [1.2.3] - 2017-08-16\n### Fixed\n- Memory allocation bug on ppc64. @remicollet #88\n\n## [1.2.2] - 2017-08-08\n### Fixed\n- Segfault in ds_htable_lookup_bucket_by_hash. @gnoddep #86\n\n## [1.2.1] - 2017-08-03\n### Changed\n- Minor capacity adjustments.\n\n## [1.2.0] - 2017-07-22\n### Changed\n- Vector's minimum and default capacity down from 10 to 8.\n- Map and Set's minimum and default capacity down from 16 to 8.\n- Hash function of arrays is now the length of the array, so O(1).\n\n## [1.1.10] - 2017-06-22\n### Fixed\n- Using a key as reference not working correctly with array access. #86\n\n## [1.1.9] - 2017-04-26\n### Fixed\n- Iterating over an implicit iterator (not variable). #82\n\n## [1.1.8] - 2017-03-24\n### Fixed\n- PriorityQueue automatic truncate bug. #78\n- Bugs related to unserialization. #77\n\n## [1.1.7] - 2017-02-11\n### Fixed\n- Preliminary support for PHP 7.2\n\n## [1.1.6] - 2016-09-03\n### Fixed\n- `Map` truncating to capacity less than the minimum.\n\n## [1.1.5] - 2016-09-01\n### Fixed\n- `phpinfo` header\n- `ds_htable_put_distinct` wasn't rehashing the correct bucket pointer (Fixes #53)\n- Memory leaks.\n\n## [1.1.4] - 2016-08-09\n### Fixed\n- `Vector` and `Deque` rotate crashing when empty (mod zero).\n\n## [1.1.3] - 2016-08-08\n### Fixed\n- Memory leaks during map when callback throws an exception.\n- Memory leaks when structures contain themselves.\n- Module dependencies.\n\n## Added\n- Version info in `phpinfo()`\n\n### Improved\n- `Map::map` and `Map::filter` are now slightly faster.\n\n## [1.1.2] - 2016-08-05\n### Fixed\n- Many, many memory leaks.\n- Added memory checks to CI.\n- Performance improvements.\n- JSON dependency now handled correctly (thanks @nikic).\n\n## [1.1.1] - 2016-08-04\n### Fixed\n- Multiple memory leaks where objects were not free'd correctly.\n\n## [1.1.0] - 2016-08-04\n### Added\n- `Pair::copy`\n\n## [1.0.4] - 2016-08-01\n### Fixed\n- `unserialize` memory leak when failed to unserialize.\n- `htable` bucket copy macro didn't copy the bucket's \"next\".\n\n## [1.0.3] - 2016-08-01\n### Added\n- `Set::merge`\n\n### Fixed\n- ds_htable_put_next bucket rehash fix\n-\n## [1.0.2] - 2016-07-31\n### Added\n- `Map::putAll`\n"
        },
        {
          "name": "CONTRIBUTING.md",
          "type": "blob",
          "size": 1.099609375,
          "content": "# Contributing\n\nContributions are accepted via [pull requests](https://github.com/php-ds/ext/pulls). If you would like to report a bug, please create an [issue](https://github.com/php-ds/ext/issues) instead.\n\n## Issues\n\n- **How to reproduce** - Provide an easy way to reproduce the bug. This makes it easier for others to debug.\n\n- **Platform details** - Specify your platform and your PHP version, eg. \"PHP 7.0.2 on Ubuntu 14.04 64x\".\n\n## Pull Requests\n\n- **Add tests** - Your patch won't be accepted if it doesn't have tests where appropriate.\n\n- **Document any change in behaviour** - Make sure the README and any other relevant documentation updated.\n\n- **One pull request per feature** - If you want to do more than one thing, send multiple pull requests.\n\n- **Send coherent history** - Make sure each individual commit in your pull request is meaningful. If you had to make multiple intermediate commits while developing, please squash them before submitting.\n\n- **Coding style** - Try to match the style of the rest of the source wherever possible. Your patch won't be accepted if the style is significantly different.\n"
        },
        {
          "name": "Dockerfile",
          "type": "blob",
          "size": 0.1337890625,
          "content": "FROM php:8.4-alpine\n\nRUN apk add --no-cache $PHPIZE_DEPS valgrind\n\nCOPY --from=composer:latest /usr/bin/composer /usr/local/bin/composer\n"
        },
        {
          "name": "LICENSE",
          "type": "blob",
          "size": 1.056640625,
          "content": "The MIT License (MIT)\nCopyright (c) 2016 Rudi Theunissen\n\nPermission is hereby granted, free of charge, to any person obtaining a\ncopy of this software and associated documentation files (the \"Software\"),\nto deal in the Software without restriction, including  without limitation\nthe rights to use, copy, modify, merge, publish, distribute, sublicense,\nand/or sell copies of the Software, and to permit persons to whom the\nSoftware is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\nOF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\nIN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\nDAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\nTORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH\nTHE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 2.6025390625,
          "content": "# Native Data Structures for PHP\n\n[![Build Status](https://github.com/php-ds/ext-ds/workflows/CI/badge.svg)](https://github.com/php-ds/ext-ds/actions?query=workflow%3A%22CI%22+branch%3Amaster)\n[![Build status](https://ci.appveyor.com/api/projects/status/9w0xitp3q04hdu1d?svg=true)](https://ci.appveyor.com/project/rtheunissen/ext-ds)\n[![PECL](https://img.shields.io/badge/PECL-1.5.0-blue.svg)](https://pecl.php.net/package/ds)\n\nA PHP language extension that provides specialized data structures as efficient alternatives to the PHP array.\nYou can read about it in more detail [in this blog post](https://medium.com/p/9dda7af674cd) which highlights the API, performance (relative to PHP 7) and other benefits of using the extension.\n\n## Documentation\n\nDocumentation is available on [php.net](https://www.php.net/manual/en/book.ds.php). You should also include the [polyfill](https://github.com/php-ds/polyfill) in your project for IDE integration.\n\n## Installation\n\nThe easiest way to install the extension is to use PECL:\n\n```\npecl install ds\n```\n\nIf you're on Windows, you can download a compiled `.dll` on [PECL](https://pecl.php.net/package/ds) or under [releases](https://github.com/php-ds/extension/releases).\n\n## Enabling the extension\n\nYou'll need to add `extension=ds.so` to your primary `php.ini` file.\n\nIf you encounter an \"undefined symbol\" error, see [#2](https://github.com/php-ds/extension/issues/2#issuecomment-181855047).\n\n```bash\n# To see where .ini files are located\nphp -i | grep \"\\.ini\"\n```\n\n---\n\nYou can also enable the extension temporarily using the command line:\n\n```bash\nphp -d extension=ds.so\n```\n\n**Note**: Windows would use `php_ds.dll` instead.\n\n## Testing\n\nThere is a suite of PHPUnit tests that can be installed using [**Composer**](https://getcomposer.org/doc/00-intro.md#installation-linux-unix-osx).\n\n``` bash\ncomposer install   # Install the test suite\ncomposer test      # Run the tests\ncomposer memtest   # Run the tests checking for memory leaks\n```\n\n## Compatibility\n\nYou may include the [polyfill](https://github.com/php-ds/polyfill) as a dependency in your project. This allows your codebase to still function in an environment where the extension is not installed.\n\n## Contributing\n\nFor local development, I'm using Docker:\n\n```\n./dev.sh  # opens a shell into a development environment\n\nphpize\n./configure\nmake\nmake install\n\ncomposer install\ncomposer test\n```\n\nPlease see [CONTRIBUTING](CONTRIBUTING.md) for more information.\n\n## Credits\n\n- [Rudi Theunissen](https://github.com/rtheunissen)\n- [Joe Watkins](https://github.com/krakjoe)\n\n## License\n\nThe MIT License (MIT). Please see [LICENSE](LICENSE) for more information.\n"
        },
        {
          "name": "appveyor.yml",
          "type": "blob",
          "size": 3.025390625,
          "content": "version: '{branch}.{build}'\n\nbranches:\n  only:\n  - master\n\nimage: Visual Studio 2017\n\nclone_folder: c:\\projects\\php-ds\n\nenvironment:\n  PHP_SDK_BINARY_TOOLS_VER: php-sdk-2.1.1\n\n  matrix:\n    - ARCH: x86\n      INT_SIZE: 32\n      PHP_VER: 8.4\n      VC_VER: vc15\n      ZTS: --enable-zts\n    - ARCH: x64\n      INT_SIZE: 64\n      PHP_VER: 8.4\n      VC_VER: vc15\n      ZTS: --enable-zts\n    - ARCH: x86\n      INT_SIZE: 32\n      PHP_VER: 8.4\n      VC_VER: vc15\n      ZTS: --disable-zts\n    - ARCH: x64\n      INT_SIZE: 64\n      PHP_VER: 8.4\n      VC_VER: vc15\n      ZTS: --disable-zts\n\ninstall:\n- cmd: choco feature enable -n=allowGlobalConfirmation\n- cmd: cinst wget\n- cmd: mkdir C:\\projects\\php-ds\\bin\n- cmd: cd C:\\projects\\php-ds\\bin && appveyor DownloadFile https://getcomposer.org/composer.phar\n\nbuild_script:\n- cmd: >-\n    \"C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Community\\VC\\Auxiliary\\Build\\vcvarsall.bat\" %ARCH%\n\n    wget https://github.com/OSTC/php-sdk-binary-tools/archive/%PHP_SDK_BINARY_TOOLS_VER%.zip --no-check-certificate -q -O php-sdk-binary-tools-%PHP_SDK_BINARY_TOOLS_VER%.zip\n\n    7z x -y php-sdk-binary-tools-%PHP_SDK_BINARY_TOOLS_VER%.zip -oC:\\projects\n\n    move C:\\projects\\php-sdk-binary-tools-%PHP_SDK_BINARY_TOOLS_VER% C:\\projects\\php-sdk\n\n    C:\\projects\\php-sdk\\bin\\phpsdk_setvars.bat\n\n    git clone https://github.com/php/php-src C:\\projects\\php-src -b PHP-%PHP_VER% --depth=1\n\n    mkdir C:\\projects\\php-src\\ext\\ds\n\n    xcopy C:\\projects\\php-ds C:\\projects\\php-src\\ext\\ds /s /e /y /q\n\n    phpsdk_deps -u -t %VC_VER% -b %PHP_VER% -a %ARCH% -f -d C:\\projects\\php-src\\deps\n\n    cd C:\\projects\\php-src\n\n    buildconf.bat\n\n    cscript /nologo configure.js --disable-all --enable-cli --enable-cgi %ZTS% --with-openssl --enable-ds=shared --enable-phar --with-prefix=C:\\projects\\php-ds\\bin --with-php-build=deps --with-config-file-scan-dir=C:\\projects\\php-ds\\bin\\modules.d --enable-bcmath --enable-calendar --enable-ctype --enable-filter --enable-hash --with-mhash --with-iconv --enable-json --enable-mbstring --with-readline --enable-session --enable-soap=shared --enable-tokenizer --enable-zip --enable-zlib --with-libxml --with-dom --with-simplexml --with-xml --with-wddx --enable-xmlreader --enable-xmlwriter\n\n    nmake\n\n    nmake install\n\n    copy php.ini-development C:\\projects\\php-ds\\bin\\php.ini\n\n    mkdir C:\\projects\\php-ds\\bin\\modules.d\n\n    echo extension=php_ds.dll >> C:\\projects\\php-ds\\bin\\modules.d\\php.ini\n\n    echo extension=php_openssl.dll >> C:\\projects\\php-ds\\bin\\modules.d\\php.ini\n\n    echo extension=php_soap.dll >> C:\\projects\\php-ds\\bin\\modules.d\\php.ini\n\n    cd C:\\projects\\php-ds\\bin\n\n    set TEST_PHP_EXECUTABLE=%cd%\\php.exe\n\n    php -v\n\n    php -m\n\ntest_script:\n- cmd: cd C:\\projects\\php-ds\n- cmd: C:\\projects\\php-ds\\bin\\php.exe C:\\projects\\php-ds\\bin\\composer.phar update --prefer-source\n- cmd: C:\\projects\\php-ds\\bin\\php.exe test.php > test.txt\n- cmd: type test.txt\n- cmd: cd C:\\projects\\php-ds\\bin\n- cmd: php.exe /projects/php-src/run-tests.php /projects/php-src/ext/ds -q --show-diff\n\nartifacts:\n  - path: bin\n    name: master\n    type: zip\n"
        },
        {
          "name": "composer.json",
          "type": "blob",
          "size": 0.439453125,
          "content": "{\n    \"name\": \"php-ds/extension\",\n    \"license\": \"MIT\",\n    \"keywords\": [],\n    \"authors\": [\n        {\n            \"name\": \"Rudi Theunissen\",\n            \"email\": \"rudolf.theunissen@gmail.com\"\n        }\n    ],\n    \"minimum-stability\": \"dev\",\n    \"require-dev\": {\n        \"php-ds/tests\": \"^1.5.0\"\n    },\n    \"scripts\": {\n        \"test\"   : \"php test.php\",\n        \"memtest\": \"USE_ZEND_ALLOC=0 ZEND_DONT_UNLOAD_MODULES=1 valgrind php test.php\"\n    }\n}\n"
        },
        {
          "name": "config.m4",
          "type": "blob",
          "size": 3.400390625,
          "content": "PHP_ARG_ENABLE(ds, whether to enable ds support,\n[  --enable-ds           Enable ds support])\n\nif test \"$PHP_DS\" != \"no\"; then\n  PHP_NEW_EXTENSION(ds,                       \\\n                                              \\\n  src/common.c                                \\\n                                              \\\ndnl Internal\n  src/ds/ds_vector.c                   \\\n  src/ds/ds_deque.c                    \\\n  src/ds/ds_htable.c                   \\\n  src/ds/ds_set.c                      \\\n  src/ds/ds_map.c                      \\\n  src/ds/ds_stack.c                    \\\n  src/ds/ds_priority_queue.c           \\\n  src/ds/ds_queue.c                    \\\n                                                  \\\n  src/php/objects/php_vector.c                    \\\n  src/php/objects/php_deque.c                     \\\n  src/php/objects/php_map.c                       \\\n  src/php/objects/php_pair.c                      \\\n  src/php/objects/php_priority_queue.c            \\\n  src/php/objects/php_queue.c                     \\\n  src/php/objects/php_set.c                       \\\n  src/php/objects/php_stack.c                     \\\n                                                  \\\ndnl Iterators\n  src/php/iterators/php_vector_iterator.c         \\\n  src/php/iterators/php_deque_iterator.c          \\\n  src/php/iterators/php_set_iterator.c            \\\n  src/php/iterators/php_map_iterator.c            \\\n  src/php/iterators/php_stack_iterator.c          \\\n  src/php/iterators/php_htable_iterator.c         \\\n  src/php/iterators/php_priority_queue_iterator.c \\\n  src/php/iterators/php_queue_iterator.c          \\\n                                                  \\\ndnl Handlers\n  src/php/handlers/php_common_handlers.c          \\\n  src/php/handlers/php_vector_handlers.c          \\\n  src/php/handlers/php_deque_handlers.c           \\\n  src/php/handlers/php_set_handlers.c             \\\n  src/php/handlers/php_map_handlers.c             \\\n  src/php/handlers/php_stack_handlers.c           \\\n  src/php/handlers/php_pair_handlers.c            \\\n  src/php/handlers/php_priority_queue_handlers.c  \\\n  src/php/handlers/php_queue_handlers.c           \\\n                                                  \\\ndnl Interfaces\n  src/php/classes/php_hashable_ce.c               \\\n  src/php/classes/php_collection_ce.c             \\\n  src/php/classes/php_sequence_ce.c               \\\n                                                  \\\ndnl Classes\n  src/php/classes/php_vector_ce.c                 \\\n  src/php/classes/php_deque_ce.c                  \\\n  src/php/classes/php_set_ce.c                    \\\n  src/php/classes/php_map_ce.c                    \\\n  src/php/classes/php_stack_ce.c                  \\\n  src/php/classes/php_pair_ce.c                   \\\n  src/php/classes/php_priority_queue_ce.c         \\\n  src/php/classes/php_queue_ce.c                  \\\n                                                  \\\n  php_ds.c                                        \\\n                                                  \\\n  , $ext_shared, -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1)\n\n  PHP_ADD_BUILD_DIR($ext_builddir/src, 1)\n  PHP_ADD_BUILD_DIR($ext_builddir/src/ds, 1)\n  PHP_ADD_BUILD_DIR($ext_builddir/src/php, 1)\n  PHP_ADD_BUILD_DIR($ext_builddir/src/php/objects, 1)\n  PHP_ADD_BUILD_DIR($ext_builddir/src/php/classes, 1)\n  PHP_ADD_BUILD_DIR($ext_builddir/src/php/iterators, 1)\n  PHP_ADD_BUILD_DIR($ext_builddir/src/php/handlers, 1)\n\n  PHP_ADD_EXTENSION_DEP(ds, spl)\n  PHP_ADD_EXTENSION_DEP(ds, json)\nfi\n\n\n"
        },
        {
          "name": "config.w32",
          "type": "blob",
          "size": 2.279296875,
          "content": "// vim:ft=javascript\n\nvar DS_EXT_NAME=\"ds\";\nvar DS_EXT_DIR=configure_module_dirname + \"/src\";\nvar DS_EXT_API=\"php_ds.c\";\nvar DS_EXT_FLAGS=\"/DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 /I\" + configure_module_dirname;\n\nfunction ds_src(dir, files) {\n    return ADD_SOURCES(\n        DS_EXT_DIR + dir,\n        files.join(\" \"),\n        DS_EXT_NAME\n    );\n}\n\n////////////////////////////////////\nARG_ENABLE(\"ds\", \"for extended data structure support\", \"no\");\n\nif (PHP_DS != \"no\") {\n    EXTENSION(DS_EXT_NAME, DS_EXT_API, PHP_DS_SHARED, DS_EXT_FLAGS);\n\n    ds_src(\"/\",\n    [\n        \"common.c\"\n    ]);\n\n    ds_src(\"/ds\",\n    [\n        \"ds_deque.c\",\n        \"ds_vector.c\",\n        \"ds_htable.c\",\n        \"ds_set.c\",\n        \"ds_map.c\",\n        \"ds_stack.c\",\n        \"ds_priority_queue.c\",\n        \"ds_queue.c\",\n    ]);\n\n    ds_src(\"/php/objects\",\n    [\n        \"php_deque.c\",\n        \"php_vector.c\",\n        \"php_map.c\",\n        \"php_pair.c\",\n        \"php_priority_queue.c\",\n        \"php_set.c\",\n        \"php_stack.c\",\n        \"php_queue.c\",\n    ]);\n\n    ds_src(\"/php/iterators\",\n    [\n        \"php_vector_iterator.c\",\n        \"php_deque_iterator.c\",\n        \"php_set_iterator.c\",\n        \"php_map_iterator.c\",\n        \"php_stack_iterator.c\",\n        \"php_htable_iterator.c\",\n        \"php_priority_queue_iterator.c\",\n        \"php_queue_iterator.c\",\n    ]);\n\n    ds_src(\"/php/handlers\",\n    [\n        \"php_common_handlers.c\",\n        \"php_vector_handlers.c\",\n        \"php_deque_handlers.c\",\n        \"php_set_handlers.c\",\n        \"php_map_handlers.c\",\n        \"php_stack_handlers.c\",\n        \"php_pair_handlers.c\",\n        \"php_priority_queue_handlers.c\",\n        \"php_queue_handlers.c\",\n    ]);\n\n    ds_src(\"/php/classes\",\n    [\n        \"php_hashable_ce.c\",\n        \"php_collection_ce.c\",\n        \"php_sequence_ce.c\",\n        \"php_vector_ce.c\",\n        \"php_deque_ce.c\",\n        \"php_set_ce.c\",\n        \"php_map_ce.c\",\n        \"php_stack_ce.c\",\n        \"php_pair_ce.c\",\n        \"php_priority_queue_ce.c\",\n        \"php_queue_ce.c\",\n    ]);\n\n    ADD_EXTENSION_DEP('ds', 'spl');\n    var dll = get_define('PHPDLL');\n    if (null != dll.match(/^php7/)) {\n        // only require dynamic json extension for PHP 7\n        // json is built statically in PHP 8\n        // https://github.com/php/php-src/pull/5495\n        ADD_EXTENSION_DEP('ds', 'json');\n    }\n}\n"
        },
        {
          "name": "dev.sh",
          "type": "blob",
          "size": 0.08203125,
          "content": "#!/usr/bin/env bash\n\ndocker-compose run --rm --build --interactive --tty dev /bin/sh"
        },
        {
          "name": "docker-compose.yml",
          "type": "blob",
          "size": 0.162109375,
          "content": "services:\n  dev:\n    build:\n      context: \".\"\n    volumes:\n      - \".:/ext-ds\"\n      - \"./ext-ds.ini:/usr/local/etc/php/conf.d/ext-ds.ini\"\n    working_dir: \"/ext-ds\""
        },
        {
          "name": "ext-ds.ini",
          "type": "blob",
          "size": 0.0146484375,
          "content": "extension=ds.so"
        },
        {
          "name": "package.xml",
          "type": "blob",
          "size": 8.2099609375,
          "content": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<package packagerversion=\"1.9.4\" version=\"2.0\" xmlns=\"http://pear.php.net/dtd/package-2.0\" xmlns:tasks=\"http://pear.php.net/dtd/tasks-1.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://pear.php.net/dtd/tasks-1.0 http://pear.php.net/dtd/tasks-1.0.xsd http://pear.php.net/dtd/package-2.0 http://pear.php.net/dtd/package-2.0.xsd\">\n    <name>ds</name>\n    <channel>pecl.php.net</channel>\n    <summary>Data Structures</summary>\n    <description>Data Structures for PHP 7</description>\n    <lead>\n        <name>Rudi Theunissen</name>\n        <user>rtheunissen</user>\n        <email>rtheunissen@php.net</email>\n        <active>yes</active>\n    </lead>\n    <lead>\n        <name>Joe Watkins</name>\n        <user>krakjoe</user>\n        <email>krakjoe@php.net</email>\n        <active>yes</active>\n    </lead>\n    <date>2023-12-19</date>\n    <time>17:53:14</time>\n    <version>\n        <release>1.5.0</release>\n        <api>1.5.0</api>\n    </version>\n    <stability>\n        <release>stable</release>\n        <api>stable</api>\n    </stability>\n    <license uri=\"https://opensource.org/licenses/MIT\">MIT License</license>\n    <notes>\n        - Support for PHP 8.3\n        - Fix #194 @nielsdos\n        - Fix #200 @nielsdos\n    </notes>\n    <contents>\n        <dir name=\"/\">\n            <file role=\"doc\" name=\"LICENSE\"/>\n\n            <file role=\"src\" name=\"config.m4\"/>\n            <file role=\"src\" name=\"config.w32\"/>\n\n            <file role=\"src\" name=\"php_ds.c\"/>\n            <file role=\"src\" name=\"php_ds.h\"/>\n\n            <dir name=\"src\">\n                <file role=\"src\" name=\"common.c\"/>\n                <file role=\"src\" name=\"common.h\"/>\n\n                <dir name=\"ds\">\n                    <file role=\"src\" name=\"ds_deque.c\"/>\n                    <file role=\"src\" name=\"ds_deque.h\"/>\n                    <file role=\"src\" name=\"ds_htable.c\"/>\n                    <file role=\"src\" name=\"ds_htable.h\"/>\n                    <file role=\"src\" name=\"ds_map.c\"/>\n                    <file role=\"src\" name=\"ds_map.h\"/>\n                    <file role=\"src\" name=\"ds_priority_queue.c\"/>\n                    <file role=\"src\" name=\"ds_priority_queue.h\"/>\n                    <file role=\"src\" name=\"ds_queue.c\"/>\n                    <file role=\"src\" name=\"ds_queue.h\"/>\n                    <file role=\"src\" name=\"ds_set.c\"/>\n                    <file role=\"src\" name=\"ds_set.h\"/>\n                    <file role=\"src\" name=\"ds_stack.c\"/>\n                    <file role=\"src\" name=\"ds_stack.h\"/>\n                    <file role=\"src\" name=\"ds_vector.c\"/>\n                    <file role=\"src\" name=\"ds_vector.h\"/>\n                </dir>\n                <dir name=\"php\">\n                    <file role=\"src\" name=\"arginfo.h\"/>\n                    <file role=\"src\" name=\"parameters.h\"/>\n\n                    <dir name=\"classes\">\n                        <file role=\"src\" name=\"php_collection_ce.c\"/>\n                        <file role=\"src\" name=\"php_collection_ce.h\"/>\n                        <file role=\"src\" name=\"php_deque_ce.c\"/>\n                        <file role=\"src\" name=\"php_deque_ce.h\"/>\n                        <file role=\"src\" name=\"php_hashable_ce.c\"/>\n                        <file role=\"src\" name=\"php_hashable_ce.h\"/>\n                        <file role=\"src\" name=\"php_map_ce.c\"/>\n                        <file role=\"src\" name=\"php_map_ce.h\"/>\n                        <file role=\"src\" name=\"php_pair_ce.c\"/>\n                        <file role=\"src\" name=\"php_pair_ce.h\"/>\n                        <file role=\"src\" name=\"php_priority_queue_ce.c\"/>\n                        <file role=\"src\" name=\"php_priority_queue_ce.h\"/>\n                        <file role=\"src\" name=\"php_queue_ce.c\"/>\n                        <file role=\"src\" name=\"php_queue_ce.h\"/>\n                        <file role=\"src\" name=\"php_sequence_ce.c\"/>\n                        <file role=\"src\" name=\"php_sequence_ce.h\"/>\n                        <file role=\"src\" name=\"php_set_ce.c\"/>\n                        <file role=\"src\" name=\"php_set_ce.h\"/>\n                        <file role=\"src\" name=\"php_stack_ce.c\"/>\n                        <file role=\"src\" name=\"php_stack_ce.h\"/>\n                        <file role=\"src\" name=\"php_vector_ce.c\"/>\n                        <file role=\"src\" name=\"php_vector_ce.h\"/>\n                    </dir>\n                    <dir name=\"handlers\">\n                        <file role=\"src\" name=\"php_common_handlers.c\"/>\n                        <file role=\"src\" name=\"php_common_handlers.h\"/>\n                        <file role=\"src\" name=\"php_deque_handlers.c\"/>\n                        <file role=\"src\" name=\"php_deque_handlers.h\"/>\n                        <file role=\"src\" name=\"php_map_handlers.c\"/>\n                        <file role=\"src\" name=\"php_map_handlers.h\"/>\n                        <file role=\"src\" name=\"php_pair_handlers.c\"/>\n                        <file role=\"src\" name=\"php_pair_handlers.h\"/>\n                        <file role=\"src\" name=\"php_priority_queue_handlers.c\"/>\n                        <file role=\"src\" name=\"php_priority_queue_handlers.h\"/>\n                        <file role=\"src\" name=\"php_queue_handlers.c\"/>\n                        <file role=\"src\" name=\"php_queue_handlers.h\"/>\n                        <file role=\"src\" name=\"php_set_handlers.c\"/>\n                        <file role=\"src\" name=\"php_set_handlers.h\"/>\n                        <file role=\"src\" name=\"php_stack_handlers.c\"/>\n                        <file role=\"src\" name=\"php_stack_handlers.h\"/>\n                        <file role=\"src\" name=\"php_vector_handlers.c\"/>\n                        <file role=\"src\" name=\"php_vector_handlers.h\"/>\n                    </dir>\n                    <dir name=\"iterators\">\n                        <file role=\"src\" name=\"php_deque_iterator.c\"/>\n                        <file role=\"src\" name=\"php_deque_iterator.h\"/>\n                        <file role=\"src\" name=\"php_htable_iterator.c\"/>\n                        <file role=\"src\" name=\"php_htable_iterator.h\"/>\n                        <file role=\"src\" name=\"php_map_iterator.c\"/>\n                        <file role=\"src\" name=\"php_map_iterator.h\"/>\n                        <file role=\"src\" name=\"php_priority_queue_iterator.c\"/>\n                        <file role=\"src\" name=\"php_priority_queue_iterator.h\"/>\n                        <file role=\"src\" name=\"php_queue_iterator.c\"/>\n                        <file role=\"src\" name=\"php_queue_iterator.h\"/>\n                        <file role=\"src\" name=\"php_set_iterator.c\"/>\n                        <file role=\"src\" name=\"php_set_iterator.h\"/>\n                        <file role=\"src\" name=\"php_stack_iterator.c\"/>\n                        <file role=\"src\" name=\"php_stack_iterator.h\"/>\n                        <file role=\"src\" name=\"php_vector_iterator.c\"/>\n                        <file role=\"src\" name=\"php_vector_iterator.h\"/>\n                    </dir>\n                    <dir name=\"objects\">\n                        <file role=\"src\" name=\"php_deque.c\"/>\n                        <file role=\"src\" name=\"php_deque.h\"/>\n                        <file role=\"src\" name=\"php_map.c\"/>\n                        <file role=\"src\" name=\"php_map.h\"/>\n                        <file role=\"src\" name=\"php_pair.c\"/>\n                        <file role=\"src\" name=\"php_pair.h\"/>\n                        <file role=\"src\" name=\"php_priority_queue.c\"/>\n                        <file role=\"src\" name=\"php_priority_queue.h\"/>\n                        <file role=\"src\" name=\"php_queue.c\"/>\n                        <file role=\"src\" name=\"php_queue.h\"/>\n                        <file role=\"src\" name=\"php_set.c\"/>\n                        <file role=\"src\" name=\"php_set.h\"/>\n                        <file role=\"src\" name=\"php_stack.c\"/>\n                        <file role=\"src\" name=\"php_stack.h\"/>\n                        <file role=\"src\" name=\"php_vector.c\"/>\n                        <file role=\"src\" name=\"php_vector.h\"/>\n                    </dir>\n                </dir>\n            </dir>\n        </dir>\n    </contents>\n    <dependencies>\n        <required>\n            <php>\n                <min>7.4.0</min>\n            </php>\n            <pearinstaller>\n                <min>1.4.0b1</min>\n            </pearinstaller>\n        </required>\n    </dependencies>\n    <providesextension>ds</providesextension>\n    <extsrcrelease />\n</package>\n"
        },
        {
          "name": "php_ds.c",
          "type": "blob",
          "size": 2.09375,
          "content": "#ifdef HAVE_CONFIG_H\n#include \"config.h\"\n#endif\n\n#include \"php.h\"\n#include \"main/php.h\"\n#include \"ext/standard/info.h\"\n#include \"ext/standard/php_var.h\"\n#include \"php_ds.h\"\n\n#include \"src/php/classes/php_hashable_ce.h\"\n#include \"src/php/classes/php_collection_ce.h\"\n#include \"src/php/classes/php_sequence_ce.h\"\n#include \"src/php/classes/php_vector_ce.h\"\n#include \"src/php/classes/php_deque_ce.h\"\n#include \"src/php/classes/php_set_ce.h\"\n#include \"src/php/classes/php_map_ce.h\"\n#include \"src/php/classes/php_stack_ce.h\"\n#include \"src/php/classes/php_pair_ce.h\"\n#include \"src/php/classes/php_priority_queue_ce.h\"\n#include \"src/php/classes/php_queue_ce.h\"\n\nZEND_DECLARE_MODULE_GLOBALS(ds);\n\nstatic inline void php_ds_init_globals(zend_ds_globals *dsg) {\n\tmemset(dsg, 0, sizeof(zend_ds_globals));\n}\n\nPHP_MINIT_FUNCTION(ds)\n{\n\tZEND_INIT_MODULE_GLOBALS(ds, php_ds_init_globals, NULL);\n\n    // Interfaces\n    php_ds_register_hashable();\n    php_ds_register_collection();\n    php_ds_register_sequence();\n\n    // Classes\n    php_ds_register_vector();\n    php_ds_register_deque();\n    php_ds_register_stack();\n    php_ds_register_queue();\n    php_ds_register_map();\n    php_ds_register_set();\n    php_ds_register_priority_queue();\n    php_ds_register_pair();\n\n    return SUCCESS;\n}\n\nPHP_RINIT_FUNCTION(ds)\n{\n#if defined(COMPILE_DL_DS) && defined(ZTS)\n    ZEND_TSRMLS_CACHE_UPDATE();\n#endif\n\n    return SUCCESS;\n}\n\nPHP_RSHUTDOWN_FUNCTION(ds)\n{\n    return SUCCESS;\n}\n\nPHP_MINFO_FUNCTION(ds)\n{\n    php_info_print_table_start();\n    php_info_print_table_row(2, \"ds support\", \"enabled\");\n    php_info_print_table_row(2, \"ds version\", PHP_DS_VERSION);\n    php_info_print_table_end();\n}\n\nstatic const zend_module_dep ds_deps[] = {\n    ZEND_MOD_REQUIRED(\"json\")\n    ZEND_MOD_REQUIRED(\"spl\")\n    ZEND_MOD_END\n};\n\nzend_module_entry ds_module_entry = {\n    STANDARD_MODULE_HEADER_EX,\n    NULL,\n    ds_deps,\n    \"ds\",\n    NULL,\n    PHP_MINIT(ds),\n    NULL,\n    PHP_RINIT(ds),\n    PHP_RSHUTDOWN(ds),\n    PHP_MINFO(ds),\n    PHP_DS_VERSION,\n    STANDARD_MODULE_PROPERTIES\n};\n\n#ifdef COMPILE_DL_DS\n#ifdef ZTS\nZEND_TSRMLS_CACHE_DEFINE();\n#endif\nZEND_GET_MODULE(ds)\n#endif\n"
        },
        {
          "name": "php_ds.h",
          "type": "blob",
          "size": 1.123046875,
          "content": "#ifndef PHP_DS_H\n#define PHP_DS_H\n\n#include <stdbool.h>\n\n#include \"php.h\"\n#include \"main/php.h\"\n#include \"zend_exceptions.h\"\n#include \"zend_interfaces.h\"\n#include \"zend_operators.h\"\n#include \"ext/standard/info.h\"\n#include \"ext/standard/php_var.h\"\n#include \"ext/spl/spl_iterators.h\"\n#include \"ext/spl/spl_exceptions.h\"\n#include \"zend_smart_str.h\"\n#include \"ext/json/php_json.h\"\n\nextern zend_module_entry ds_module_entry;\n\n#define phpext_ds_ptr &ds_module_entry\n\n/* Replace with version number for your extension */\n#define PHP_DS_VERSION \"1.5.0\"\n\n#ifdef PHP_WIN32\n#  define PHP_API __declspec(dllexport)\n#elif defined(__GNUC__) && __GNUC__ >= 4\n#  define PHP_API __attribute__ ((visibility(\"default\")))\n#else\n#  define PHP_API\n#endif\n\n#ifdef ZTS\n#include \"TSRM.h\"\n#endif\n\nZEND_BEGIN_MODULE_GLOBALS(ds)\nzend_fcall_info        user_compare_fci;\nzend_fcall_info_cache  user_compare_fci_cache;\nZEND_END_MODULE_GLOBALS(ds)\n\n#ifdef ZTS\n#define DSG(v) TSRMG(ds_globals_id, zend_ds_globals *, v)\n#else\n#define DSG(v) (ds_globals.v)\n#endif\n\nZEND_EXTERN_MODULE_GLOBALS(ds);\n\n#if defined(ZTS) && defined(COMPILE_DL_DS)\nZEND_TSRMLS_CACHE_EXTERN();\n#endif\n\n#endif\n"
        },
        {
          "name": "phpunit.xml",
          "type": "blob",
          "size": 0.244140625,
          "content": "<phpunit\n    backupGlobals           = \"false\"\n    backupStaticAttributes  = \"false\"\n    >\n    <testsuites>\n        <testsuite name=\"all\">\n            <directory>vendor/php-ds/tests/tests</directory>\n        </testsuite>\n    </testsuites>\n</phpunit>\n"
        },
        {
          "name": "sandbox.php",
          "type": "blob",
          "size": 0.9833984375,
          "content": "<?php\n\n$vector = new \\Ds\\Vector();\n$vector->push(new DateTime());\n\n$sequence = $vector->map(function (DateTime $_dateTime) { return $_dateTime->format(DateTime::ISO8601);});\n\n$sequence->push(new DateTime());\n$sequence->push(new DateTime());\n\t\n$sequence->push(new DateTime());\n$sequence->push(new DateTime());\n\n$sequence->push(new DateTime());\n$sequence->push(new DateTime());\n\t\n$sequence->push(new DateTime());\n$sequence->push(new DateTime());\n$sequence->push(new DateTime());\n$sequence->push(new DateTime());\n$sequence->push(new DateTime());\n$sequence->push(new DateTime());\n$sequence->push(new DateTime());\n$sequence->push(new DateTime());\n$sequence->push(new DateTime());\n$sequence->push(new DateTime());\n$sequence->push(new DateTime());\n$sequence->push(new DateTime());\n$sequence->push(new DateTime());\n$sequence->push(new DateTime());\n$sequence->push(new DateTime());\n$sequence->push(new DateTime());\n$sequence->push(new DateTime());\n$sequence->push(new DateTime());\n\nvar_dump($sequence);\n\necho 'done';"
        },
        {
          "name": "src",
          "type": "tree",
          "content": null
        },
        {
          "name": "test.php",
          "type": "blob",
          "size": 0.58984375,
          "content": "<?php\n\nrequire __DIR__ . '/vendor/autoload.php';\n\n// Check that the extension is loaded.\nif ( ! extension_loaded('ds')) {\n    echo \"ds extension is not enabled\\n\";\n    exit(1);\n}\n\n// Check that opcache is enabled correctly.\nif (getenv('ENABLE_OPCACHE')) {\n    if (!function_exists('opcache_get_status') || ! opcache_get_status(false)['opcache_enabled']) {\n        echo \"opcache is not enabled\\n\";\n        exit(1);\n    }\n}\n\n// So that PHPUnit doesn't use \"exit\"\n$status = \\PHPUnit\\TextUI\\Command::main(false);\n\n// Attempt to collect anything left over from the tests.\ngc_collect_cycles();\n\nexit($status);\n"
        }
      ]
    }
  ]
}