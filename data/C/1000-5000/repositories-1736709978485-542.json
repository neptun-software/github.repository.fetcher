{
  "metadata": {
    "timestamp": 1736709978485,
    "page": 542,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjU1MA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "retroplasma/earth-reverse-engineering",
      "stars": 2251,
      "defaultBranch": "master",
      "files": [
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.9892578125,
          "content": "# Logs\nlogs\n*.log\nnpm-debug.log*\nyarn-debug.log*\nyarn-error.log*\n\n# Runtime data\npids\n*.pid\n*.seed\n*.pid.lock\n\n# Directory for instrumented libs generated by jscoverage/JSCover\nlib-cov\n\n# Coverage directory used by tools like istanbul\ncoverage\n\n# nyc test coverage\n.nyc_output\n\n# Grunt intermediate storage (http://gruntjs.com/creating-plugins#storing-task-files)\n.grunt\n\n# Bower dependency directory (https://bower.io/)\nbower_components\n\n# node-waf configuration\n.lock-wscript\n\n# Compiled binary addons (https://nodejs.org/api/addons.html)\nbuild/Release\n\n# Dependency directories\nnode_modules/\njspm_packages/\n\n# TypeScript v1 declaration files\ntypings/\n\n# Optional npm cache directory\n.npm\n\n# Optional eslint cache\n.eslintcache\n\n# Optional REPL history\n.node_repl_history\n\n# Output of 'npm pack'\n*.tgz\n\n# Yarn Integrity file\n.yarn-integrity\n\n# dotenv environment variables file\n.env\n\n# next.js build output\n.next\n\n# other\ndownloaded_files/\n\nclient/main\n*.exe\n*.dll\n*.idb\n*.pdb\n*.dSYM\n*.pb.h\n*.pb.cc\nclient/cache\n"
        },
        {
          "name": ".gitmodules",
          "type": "blob",
          "size": 0.0986328125,
          "content": "[submodule \"client/eigen\"]\n\tpath = client/eigen\n\turl = https://github.com/eigenteam/eigen-git-mirror\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 2.8466796875,
          "content": "![header](header.png \"Header image: 37.793647, -122.398938\")\n\nReverse-engineering undocumented parts of Google Earth. Similar work is done for Apple Maps [here](https://github.com/retroplasma/flyover-reverse-engineering).\n\n#### Status\nThe focus has been on the 3D satellite mode, which required digging into:\n- URL structures\n- octrees and conversion from geo coordinates\n- Protobuf formats of assets and metadata\n- postprocessing steps (e.g. unpacking of meshes and textures)\n\nCode was written and tested with various regions and cities:\n- [Flycam client](./client/) (C++, native + WebAssembly)\n- [Model exporter](./exporter/) (JS, works without photogrammetry or graphics debuggers)\n\n#### Info\n\nURL structure:\n```\n\"https://kh.google.com/rt/üÖê/üÖë\"\n - üÖê: planet\n       - \"earth\"\n       - \"mars\"\n       - ...\n - üÖë: resource\n       - \"PlanetoidMetadata\"\n       - \"BulkMetadata/pb=!1m2!1s‚ù∂!2u‚ù∑\"\n          - ‚ù∂: octant path\n          - ‚ù∑: epoch\n       - \"NodeData/pb=!1m2!1s‚ù∏!2u‚ùπ!2e‚ù∫(!3u‚ùª)!4b0\"\n          - ‚ù∏: octant path\n          - ‚ùπ: epoch\n          - ‚ù∫: texture format\n          - ‚ùª: imagery epoch (sometimes)\n```\n\nMisc:\n```\nGeneral info:\n - Everything is stored in an octree.\n\nRoles of resources:\n - PlanetoidMetadata points to first BulkMetaData.\n - BulkMetaData points to other BulkMetaData and to NodeData.\n - NodeData contains actual meshes and textures.\n\nVersioning:\n - BulkMetaData and NodeData are versioned using epoch numbers.\n - PlanetoidMetadata provides epoch of first BulkMetaData.\n - BulkMetaData provides epochs of underlying resources.\n - Current version of a resource can be determined recursively.\n\nNodeData:\n - Mesh: packed XYZ, UV, octant mask, normals\n - Texture: JPG, CRN-DXT1\n - Raw format: see rocktree.proto and rocktree_decoder.h\n - Other optimizations: BVH\nBulkMetaData:\n - Oriented Bounding Box\n    - Dump OBB to obj: https://gist.github.com/retroplasma/5698808bfaa63ffd03f751a84fa6ce14\n    - Latlong to octant using OBB (unstable): https://github.com/retroplasma/earth-reverse-engineering/blob/443a3622ce9cb12cd4460cc6dc7999cc703ae67f/experimental_latlong_to_octant.js\n```\n\nRelated ideas: [Racing game](https://www.reddit.com/r/Showerthoughts/comments/aex25s/race_car_video_games_could_be_amazing_if_they/) , [Minimal client](https://github.com/kaylathedev/google-maps-3d-client). WebGL + CORS should work ([test](https://retroplasma.github.io/get_planetoid_metadata.html)).\n\n#### Important\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n"
        },
        {
          "name": "client",
          "type": "tree",
          "content": null
        },
        {
          "name": "exporter",
          "type": "tree",
          "content": null
        },
        {
          "name": "header.png",
          "type": "blob",
          "size": 506.28515625,
          "content": null
        },
        {
          "name": "proto",
          "type": "tree",
          "content": null
        }
      ]
    }
  ]
}