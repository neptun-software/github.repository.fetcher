{
  "metadata": {
    "timestamp": 1736710137826,
    "page": 790,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjc5MA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "bytedance/android-inline-hook",
      "stars": 1781,
      "defaultBranch": "main",
      "files": [
        {
          "name": ".clang-format",
          "type": "blob",
          "size": 0.1796875,
          "content": "---\nBasedOnStyle: Google\n---\n\nLanguage: Cpp\n\nAlignConsecutiveMacros: true\nAllowShortFunctionsOnASingleLine: Empty\nColumnLimit: 110\nIndentExternBlock: NoIndent\nTypenameMacros: ['ElfW']\n"
        },
        {
          "name": ".github",
          "type": "tree",
          "content": null
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.080078125,
          "content": ".DS_Store\n\nbuild/\n.cxx/\n.gradle/\n.idea/\n*.iml\n*.log\n*.so\nwrap.sh\nlocal.properties\n"
        },
        {
          "name": "CODE_OF_CONDUCT.md",
          "type": "blob",
          "size": 5.34765625,
          "content": "# Contributor Covenant Code of Conduct\n\n## Our Pledge\n\nWe as members, contributors, and leaders pledge to make participation in our\ncommunity a harassment-free experience for everyone, regardless of age, body\nsize, visible or invisible disability, ethnicity, sex characteristics, gender\nidentity and expression, level of experience, education, socio-economic status,\nnationality, personal appearance, race, religion, or sexual identity\nand orientation.\n\nWe pledge to act and interact in ways that contribute to an open, welcoming,\ndiverse, inclusive, and healthy community.\n\n## Our Standards\n\nExamples of behavior that contributes to a positive environment for our\ncommunity include:\n\n* Demonstrating empathy and kindness toward other people\n* Being respectful of differing opinions, viewpoints, and experiences\n* Giving and gracefully accepting constructive feedback\n* Accepting responsibility and apologizing to those affected by our mistakes,\n  and learning from the experience\n* Focusing on what is best not just for us as individuals, but for the\n  overall community\n\nExamples of unacceptable behavior include:\n\n* The use of sexualized language or imagery, and sexual attention or\n  advances of any kind\n* Trolling, insulting or derogatory comments, and personal or political attacks\n* Public or private harassment\n* Publishing others' private information, such as a physical or email\n  address, without their explicit permission\n* Other conduct which could reasonably be considered inappropriate in a\n  professional setting\n\n## Enforcement Responsibilities\n\nCommunity leaders are responsible for clarifying and enforcing our standards of\nacceptable behavior and will take appropriate and fair corrective action in\nresponse to any behavior that they deem inappropriate, threatening, offensive,\nor harmful.\n\nCommunity leaders have the right and responsibility to remove, edit, or reject\ncomments, commits, code, wiki edits, issues, and other contributions that are\nnot aligned to this Code of Conduct, and will communicate reasons for moderation\ndecisions when appropriate.\n\n## Scope\n\nThis Code of Conduct applies within all community spaces, and also applies when\nan individual is officially representing the community in public spaces.\nExamples of representing our community include using an official e-mail address,\nposting via an official social media account, or acting as an appointed\nrepresentative at an online or offline event.\n\n## Enforcement\n\nInstances of abusive, harassing, or otherwise unacceptable behavior may be\nreported to the community leaders responsible for enforcement at\n<caikelun@bytedance.com>.\nAll complaints will be reviewed and investigated promptly and fairly.\n\nAll community leaders are obligated to respect the privacy and security of the\nreporter of any incident.\n\n## Enforcement Guidelines\n\nCommunity leaders will follow these Community Impact Guidelines in determining\nthe consequences for any action they deem in violation of this Code of Conduct:\n\n### 1. Correction\n\n**Community Impact**: Use of inappropriate language or other behavior deemed\nunprofessional or unwelcome in the community.\n\n**Consequence**: A private, written warning from community leaders, providing\nclarity around the nature of the violation and an explanation of why the\nbehavior was inappropriate. A public apology may be requested.\n\n### 2. Warning\n\n**Community Impact**: A violation through a single incident or series\nof actions.\n\n**Consequence**: A warning with consequences for continued behavior. No\ninteraction with the people involved, including unsolicited interaction with\nthose enforcing the Code of Conduct, for a specified period of time. This\nincludes avoiding interactions in community spaces as well as external channels\nlike social media. Violating these terms may lead to a temporary or\npermanent ban.\n\n### 3. Temporary Ban\n\n**Community Impact**: A serious violation of community standards, including\nsustained inappropriate behavior.\n\n**Consequence**: A temporary ban from any sort of interaction or public\ncommunication with the community for a specified period of time. No public or\nprivate interaction with the people involved, including unsolicited interaction\nwith those enforcing the Code of Conduct, is allowed during this period.\nViolating these terms may lead to a permanent ban.\n\n### 4. Permanent Ban\n\n**Community Impact**: Demonstrating a pattern of violation of community\nstandards, including sustained inappropriate behavior,  harassment of an\nindividual, or aggression toward or disparagement of classes of individuals.\n\n**Consequence**: A permanent ban from any sort of public interaction within\nthe community.\n\n## Attribution\n\nThis Code of Conduct is adapted from the [Contributor Covenant][homepage],\nversion 2.0, available at\n[https://www.contributor-covenant.org/version/2/0/code_of_conduct.html][v2.0].\n\nCommunity Impact Guidelines were inspired by\n[Mozilla's code of conduct enforcement ladder][Mozilla CoC].\n\nFor answers to common questions about this code of conduct, see the FAQ at\n[https://www.contributor-covenant.org/faq][FAQ]. Translations are available\nat [https://www.contributor-covenant.org/translations][translations].\n\n[homepage]: https://www.contributor-covenant.org\n[v2.0]: https://www.contributor-covenant.org/version/2/0/code_of_conduct.html\n[Mozilla CoC]: https://github.com/mozilla/diversity\n[FAQ]: https://www.contributor-covenant.org/faq\n[translations]: https://www.contributor-covenant.org/translations\n"
        },
        {
          "name": "CONTRIBUTING.md",
          "type": "blob",
          "size": 1.646484375,
          "content": "# Contributing to ShadowHook\n\nWelcome to the ShadowHook project. Read on to learn more about our development process and how to propose bug fixes and improvements.\n\n## Issues\n\nWe use GitHub issues to track public bugs and feature requests. Before creating an issue, please note the following:\n\n1. Please search existing issues before creating a new one.\n2. Please ensure your description is clear and has sufficient instructions to be able to reproduce the issue. The more information the better.\n\n\n## Branch Management\n\nThere are 2 main branches:\n\n1. `main` branch\n\n    * It's the latest (pre-)release branch. We use `main` for tags.\n    * **Please do NOT submit any PR on `main` branch.**\n\n2. `dev` branch\n\n    * It's our stable developing branch.\n    * Once `dev` has passed our internal tests, it will be merged to `main` branch for the next release.\n    * **Please always submit PR on `dev` branch.**\n\n\n## Pull Requests\n\n**If possible, always create an issue first where you can describe your problem or feature request. We can also communicate in this issue. Then you can link to that issue in the pull request.**\n\nPlease make sure the following is done when submitting a pull request:\n\n1. Fork the repo and create your branch from `main`.\n2. Add the copyright notice to the top of any new files you've added.\n3. Try your best to test your code.\n4. Squash all of your commits into one meaningful commit.\n\n\n## Code Style Guide\n\n1. Follow the [.clang-format](.clang-format) for C/Cpp code.\n2. Follow the [checkstyle.xml](checkstyle.xml) for Java code.\n\n\n## License\n\nBy contributing to ShadowHook, you agree that your contributions will be licensed under its [MIT LICENSE](LICENSE).\n"
        },
        {
          "name": "LICENSE",
          "type": "blob",
          "size": 1.05078125,
          "content": "MIT License\n\nCopyright (c) 2021-2024 ByteDance Inc.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 7.7880859375,
          "content": "# ShadowHook\n\n![](https://img.shields.io/badge/license-MIT-brightgreen.svg?style=flat)\n![](https://img.shields.io/badge/release-1.1.1-red.svg?style=flat)\n![](https://img.shields.io/badge/Android-4.1%20--%2015-blue.svg?style=flat)\n![](https://img.shields.io/badge/arch-armeabi--v7a%20%7C%20arm64--v8a-blue.svg?style=flat)\n\n[**简体中文**](README.zh-CN.md)\n\n**ShadowHook** is an Android inline hook library which supports thumb, arm32 and arm64.\n\nShadowHook is now used in TikTok, Douyin, Toutiao, Xigua Video, Lark.\n\nIf you need an Android PLT hook library, please move to [ByteHook](https://github.com/bytedance/bhook).\n\n\n## Features\n\n* Support Android 4.1 - 15 (API level 16 - 35).\n* Support armeabi-v7a and arm64-v8a.\n* Support hook for the whole function, but does not support hook for the middle position of the function.\n* Support to specify the hook location by \"function address\" or \"library name + function name\".\n* Automatically complete the hook of \"newly loaded dynamic library\" (only \"library name + function name\"), and call the optional callback function after the hook is completed.\n* Multiple hooks and unhooks can be executed concurrently on the same hook point without interfering with each other (only in shared mode).\n* Automatically avoid possible recursive calls and circular calls between proxy functions (only in shared mode).\n* The proxy function supports unwinding backtrace in a normal way (CFI, EH, FP).\n* Integrated symbol address search function.\n* MIT licensed.\n\n\n## Documentation\n\n[ShadowHook Manual](doc/manual.md)\n\n\n## Quick Start\n\nYou can refer to the sample app in [app module](app), or refer to the hook/unhook examples of commonly used system functions in [systest module](systest).\n\n### 1. Add dependency in build.gradle\n\nShadowHook is published on [Maven Central](https://search.maven.org/), and uses [Prefab](https://google.github.io/prefab/) package format for [native dependencies](https://developer.android.com/studio/build/native-dependencies), which is supported by [Android Gradle Plugin 4.0+](https://developer.android.com/studio/releases/gradle-plugin?buildsystem=cmake#native-dependencies).\n\n```Gradle\nandroid {\n    buildFeatures {\n        prefab true\n    }\n}\n\ndependencies {\n    implementation 'com.bytedance.android:shadowhook:1.1.1'\n}\n```\n\n**Note**: ShadowHook uses the [prefab package schema v2](https://github.com/google/prefab/releases/tag/v2.0.0), which is configured by default since [Android Gradle Plugin 7.1.0](https://developer.android.com/studio/releases/gradle-plugin?buildsystem=cmake#7-1-0). If you are using Android Gradle Plugin earlier than 7.1.0, please add the following configuration to `gradle.properties`:\n\n```\nandroid.prefabVersion=2.0.0\n```\n\n### 2. Add dependency in CMakeLists.txt or Android.mk\n\n> CMakeLists.txt\n\n```CMake\nfind_package(shadowhook REQUIRED CONFIG)\n\nadd_library(mylib SHARED mylib.c)\ntarget_link_libraries(mylib shadowhook::shadowhook)\n```\n\n> Android.mk\n\n```\ninclude $(CLEAR_VARS)\nLOCAL_MODULE           := mylib\nLOCAL_SRC_FILES        := mylib.c\nLOCAL_SHARED_LIBRARIES += shadowhook\ninclude $(BUILD_SHARED_LIBRARY)\n\n$(call import-module,prefab/shadowhook)\n```\n\n### 3. Specify one or more ABI(s) you need\n\n```Gradle\nandroid {\n    defaultConfig {\n        ndk {\n            abiFilters 'armeabi-v7a', 'arm64-v8a'\n        }\n    }\n}\n```\n\n### 4. Add packaging options\n\nIf you are using ShadowHook in an SDK project, you may need to avoid packaging libshadowhook.so into your AAR, so as not to encounter duplicate libshadowhook.so file when packaging the app project.\n\n```Gradle\nandroid {\n    packagingOptions {\n        exclude '**/libshadowhook.so'\n        exclude '**/libshadowhook_nothing.so'\n    }\n}\n```\n\nOn the other hand, if you are using ShadowHook in an APP project, you may need to add some options to deal with conflicts caused by duplicate libshadowhook.so file.\n\n```Gradle\nandroid {\n    packagingOptions {\n        pickFirst '**/libshadowhook.so'\n        pickFirst '**/libshadowhook_nothing.so'\n    }\n}\n```\n\n### 5. Initialize\n\nShadowHook supports two modes (shared mode and unique mode). The proxy function in the two modes is written slightly differently. You can try the unique mode first. \n\n```Java\nimport com.bytedance.shadowhook.ShadowHook;\n\npublic class MySdk {\n    public static void init() {\n        ShadowHook.init(new ShadowHook.ConfigBuilder()\n            .setMode(ShadowHook.Mode.UNIQUE)\n            .build());\n    }\n}\n```\n\n### 6. Hook and Unhook\n\n```C\n#include \"shadowhook.h\"\n\nvoid *shadowhook_hook_func_addr(\n    void *func_addr,\n    void *new_addr,\n    void **orig_addr);\n\nvoid *shadowhook_hook_sym_addr(\n    void *sym_addr,\n    void *new_addr,\n    void **orig_addr);\n\nvoid *shadowhook_hook_sym_name(\n    const char *lib_name,\n    const char *sym_name,\n    void *new_addr,\n    void **orig_addr);\n\ntypedef void (*shadowhook_hooked_t)(\n    int error_number,\n    const char *lib_name,\n    const char *sym_name,\n    void *sym_addr,\n    void *new_addr,\n    void *orig_addr,\n    void *arg);\n\nvoid *shadowhook_hook_sym_name_callback(\n    const char *lib_name,\n    const char *sym_name,\n    void *new_addr,\n    void **orig_addr,\n    shadowhook_hooked_t hooked,\n    void *hooked_arg);\n\nint shadowhook_unhook(void *stub);\n```\n\n* `shadowhook_hook_func_addr`: hook a function (which has no symbol info in ELF) by absolute address.\n* `shadowhook_hook_sym_addr`: hook a function (which has symbol info in ELF) by absolute address.\n* `shadowhook_hook_sym_name`: hook a function by symbol name and ELF file name or path name.\n* `shadowhook_hook_sym_name_callback`: Similar to `shadowhook_hook_sym_name`, but the specified callback function will be called after the hook is completed.\n* `shadowhook_unhook`: unhook.\n\nFor example, let's try to hook `art::ArtMethod::Invoke`:\n\n```C\nvoid *orig = NULL;\nvoid *stub = NULL;\n\ntypedef void (*type_t)(void *, void *, uint32_t *, uint32_t, void *, const char *);\n\nvoid proxy(void *thiz, void *thread, uint32_t *args, uint32_t args_size, void *result, const char *shorty)\n{\n    // do something\n    ((type_t)orig)(thiz, thread, args, args_size, result, shorty);\n    // do something\n}\n\nvoid do_hook()\n{\n    stub = shadowhook_hook_sym_name(\n               \"libart.so\",\n               \"_ZN3art9ArtMethod6InvokeEPNS_6ThreadEPjjPNS_6JValueEPKc\",\n               (void *)proxy,\n               (void **)&orig);\n    \n    if(stub == NULL)\n    {\n        int err_num = shadowhook_get_errno();\n        const char *err_msg = shadowhook_to_errmsg(err_num);\n        LOG(\"hook error %d - %s\", err_num, err_msg);\n    }\n}\n\nvoid do_unhook()\n{\n    shadowhook_unhook(stub);\n    stub = NULL;\n}\n```\n\n* `_ZN3art9ArtMethod6InvokeEPNS_6ThreadEPjjPNS_6JValueEPKc` is the function symbol name of `art::ArtMethod::Invoke` processed by C++ Name Mangler in libart.so. You can use readelf to view it. The C function does not have the concept of Name Mangler.\n* The symbol name of `art::ArtMethod::Invoke` is different in previous versions of Android M. This example is only applicable to Android M and later versions. If you want to achieve better Android version compatibility, you need to handle the difference in function symbol names yourself.\n\n\n## Contributing\n\n* [Code of Conduct](CODE_OF_CONDUCT.md)\n* [Contributing Guide](CONTRIBUTING.md)\n* [Reporting Security vulnerabilities](SECURITY.md)\n\n\n## License\n\nShadowHook is licensed by [MIT License](LICENSE).\n\nShadowHook uses the following third-party source code or libraries:\n\n* [queue.h](shadowhook/src/main/cpp/third_party/bsd/queue.h)  \nBSD 3-Clause License  \nCopyright (c) 1991, 1993 The Regents of the University of California.\n* [tree.h](shadowhook/src/main/cpp/third_party/bsd/tree.h)  \nBSD 2-Clause License  \nCopyright (c) 2002 Niels Provos <provos@citi.umich.edu>\n* [linux-syscall-support](https://chromium.googlesource.com/linux-syscall-support/)  \nBSD 3-Clause License  \nCopyright (c) 2005-2011 Google Inc.\n* [xDL](https://github.com/hexhacking/xDL)  \nMIT License  \nCopyright (c) 2020-2024 HexHacking Team\n"
        },
        {
          "name": "README.zh-CN.md",
          "type": "blob",
          "size": 7.6181640625,
          "content": "# ShadowHook\n\n![](https://img.shields.io/badge/license-MIT-brightgreen.svg?style=flat)\n![](https://img.shields.io/badge/release-1.1.1-red.svg?style=flat)\n![](https://img.shields.io/badge/Android-4.1%20--%2015-blue.svg?style=flat)\n![](https://img.shields.io/badge/arch-armeabi--v7a%20%7C%20arm64--v8a-blue.svg?style=flat)\n\n[**English**](README.md)\n\n**ShadowHook** 是一个 Android inline hook 库，它支持 thumb、arm32 和 arm64。\n\nShadowHook 现在被用于 TikTok，抖音，今日头条，西瓜视频，飞书中。\n\n如果你需要的是 Android PLT hook 库，请移步到 [ByteHook](https://github.com/bytedance/bhook)。\n\n\n## 特征\n\n* 支持 Android 4.1 - 15 (API level 16 - 35)。\n* 支持 armeabi-v7a 和 arm64-v8a。\n* 支持针对函数整体的 hook，不支持对函数中间位置的 hook。\n* 支持通过“函数地址”或“库名 + 函数名”的方式指定 hook 位置。\n* 自动完成“新加载动态库”的 hook（仅限“库名 + 函数名”方式），hook 完成后调用可选的回调函数。\n* 可对同一个 hook 点并发执行多个 hook 和 unhook，彼此互不干扰（仅限 shared 模式）。\n* 自动避免代理函数之间可能形成的递归调用和环形调用（仅限 shared 模式）。\n* 代理函数中支持以正常的方式（CFI，EH，FP）回溯调用栈。\n* 集成符号地址查找功能。\n* 使用 MIT 许可证授权。\n\n\n## 文档\n\n[ShadowHook 手册](doc/manual.zh-CN.md)\n\n\n## 快速开始\n\n你可以参考 [app module](app) 中的示例 app，也可以参考  [systest module](systest) 中对常用系统函数的 hook / unhook 示例。\n\n### 1. 在 build.gradle 中增加依赖\n\nShadowHook 发布在 [Maven Central](https://search.maven.org/) 上。为了使用 [native 依赖项](https://developer.android.com/studio/build/native-dependencies)，ShadowHook 使用了从 [Android Gradle Plugin 4.0+](https://developer.android.com/studio/releases/gradle-plugin?buildsystem=cmake#native-dependencies) 开始支持的 [Prefab](https://google.github.io/prefab/) 包格式。\n\n```Gradle\nandroid {\n    buildFeatures {\n        prefab true\n    }\n}\n\ndependencies {\n    implementation 'com.bytedance.android:shadowhook:1.1.1'\n}\n```\n\n**注意**：ShadowHook 使用 [prefab package schema v2](https://github.com/google/prefab/releases/tag/v2.0.0)，它是从 [Android Gradle Plugin 7.1.0](https://developer.android.com/studio/releases/gradle-plugin?buildsystem=cmake#7-1-0) 开始作为默认配置的。如果你使用的是 Android Gradle Plugin 7.1.0 之前的版本，请在 `gradle.properties` 中加入以下配置：\n\n```\nandroid.prefabVersion=2.0.0\n```\n\n### 2. 在 CMakeLists.txt 或 Android.mk 中增加依赖\n\n> CMakeLists.txt\n\n```CMake\nfind_package(shadowhook REQUIRED CONFIG)\n\nadd_library(mylib SHARED mylib.c)\ntarget_link_libraries(mylib shadowhook::shadowhook)\n```\n\n> Android.mk\n\n```\ninclude $(CLEAR_VARS)\nLOCAL_MODULE           := mylib\nLOCAL_SRC_FILES        := mylib.c\nLOCAL_SHARED_LIBRARIES += shadowhook\ninclude $(BUILD_SHARED_LIBRARY)\n\n$(call import-module,prefab/shadowhook)\n```\n\n### 3. 指定一个或多个你需要的 ABI\n\n```Gradle\nandroid {\n    defaultConfig {\n        ndk {\n            abiFilters 'armeabi-v7a', 'arm64-v8a'\n        }\n    }\n}\n```\n\n### 4. 增加打包选项\n\n如果你是在一个 SDK 工程里使用 ShadowHook，你可能需要避免把 libshadowhook.so 打包到你的 AAR 里，以免 app 工程打包时遇到重复的 libshadowhook.so 文件。\n\n```Gradle\nandroid {\n    packagingOptions {\n        exclude '**/libshadowhook.so'\n        exclude '**/libshadowhook_nothing.so'\n    }\n}\n```\n\n另一方面, 如果你是在一个 APP 工程里使用 ShadowHook，你可以需要增加一些选项，用来处理重复的 libshadowhook.so 文件引起的冲突。\n\n```Gradle\nandroid {\n    packagingOptions {\n        pickFirst '**/libshadowhook.so'\n        pickFirst '**/libshadowhook_nothing.so'\n    }\n}\n```\n\n### 5. 初始化\n\nShadowHook 支持两种模式（shared 模式和 unique 模式），两种模式下的 proxy 函数写法稍有不同，你可以先尝试一下 unique 模式。\n\n```Java\nimport com.bytedance.shadowhook.ShadowHook;\n\npublic class MySdk {\n    public static void init() {\n        ShadowHook.init(new ShadowHook.ConfigBuilder()\n            .setMode(ShadowHook.Mode.UNIQUE)\n            .build());\n    }\n}\n```\n\n### 6. Hook 和 Unhook\n\n```C\n#include \"shadowhook.h\"\n\nvoid *shadowhook_hook_func_addr(\n    void *func_addr,\n    void *new_addr,\n    void **orig_addr);\n\nvoid *shadowhook_hook_sym_addr(\n    void *sym_addr,\n    void *new_addr,\n    void **orig_addr);\n\nvoid *shadowhook_hook_sym_name(\n    const char *lib_name,\n    const char *sym_name,\n    void *new_addr,\n    void **orig_addr);\n\ntypedef void (*shadowhook_hooked_t)(\n    int error_number,\n    const char *lib_name,\n    const char *sym_name,\n    void *sym_addr,\n    void *new_addr,\n    void *orig_addr,\n    void *arg);\n\nvoid *shadowhook_hook_sym_name_callback(\n    const char *lib_name,\n    const char *sym_name,\n    void *new_addr,\n    void **orig_addr,\n    shadowhook_hooked_t hooked,\n    void *hooked_arg);\n\nint shadowhook_unhook(void *stub);\n```\n\n* `shadowhook_hook_func_addr`: 通过绝对地址 hook 一个在 ELF 中没有符号信息的函数。\n* `shadowhook_hook_sym_addr`：通过绝对地址 hook 一个在 ELF 中有符号信息的函数。\n* `shadowhook_hook_sym_name`：通过符号名和 ELF 的文件名或路径名 hook 一个函数。\n* `shadowhook_hook_sym_name_callback`：和 `shadowhook_hook_sym_name` 类似，但是会在 hook 完成后调用指定的回调函数。\n* `shadowhook_unhook`：unhook。\n\n举个例子，我们尝试 hook 一下 `art::ArtMethod::Invoke`：\n\n```C\nvoid *orig = NULL;\nvoid *stub = NULL;\n\ntypedef void (*type_t)(void *, void *, uint32_t *, uint32_t, void *, const char *);\n\nvoid proxy(void *thiz, void *thread, uint32_t *args, uint32_t args_size, void *result, const char *shorty)\n{\n    // do something\n    ((type_t)orig)(thiz, thread, args, args_size, result, shorty);\n    // do something\n}\n\nvoid do_hook()\n{\n    stub = shadowhook_hook_sym_name(\n               \"libart.so\",\n               \"_ZN3art9ArtMethod6InvokeEPNS_6ThreadEPjjPNS_6JValueEPKc\",\n               (void *)proxy,\n               (void **)&orig);\n    \n    if(stub == NULL)\n    {\n        int err_num = shadowhook_get_errno();\n        const char *err_msg = shadowhook_to_errmsg(err_num);\n        LOG(\"hook error %d - %s\", err_num, err_msg);\n    }\n}\n\nvoid do_unhook()\n{\n    shadowhook_unhook(stub);\n    stub = NULL;\n}\n```\n\n* `_ZN3art9ArtMethod6InvokeEPNS_6ThreadEPjjPNS_6JValueEPKc` 是 `art::ArtMethod::Invoke` 在 libart.so 中经过 C++ Name Mangler 处理后的函数符号名，可以使用 readelf 查看。C 函数没有 Name Mangler 的概念。\n* `art::ArtMethod::Invoke` 在 Android M 之前版本中的符号名有所不同，这个例子仅适用于 Android M 及之后的版本。如果要实现更好的 Android 版本兼容性，你需要自己处理函数符号名的差异。\n\n\n## 贡献\n\n* [Code of Conduct](CODE_OF_CONDUCT.md)\n* [Contributing Guide](CONTRIBUTING.md)\n* [Reporting Security vulnerabilities](SECURITY.md)\n\n\n## 许可证\n\nShadowHook 使用 [MIT 许可证](LICENSE) 授权。\n\nShadowHook 使用了以下第三方源码或库：\n\n* [queue.h](shadowhook/src/main/cpp/third_party/bsd/queue.h)  \nBSD 3-Clause License  \nCopyright (c) 1991, 1993 The Regents of the University of California.\n* [tree.h](shadowhook/src/main/cpp/third_party/bsd/tree.h)  \nBSD 2-Clause License  \nCopyright (c) 2002 Niels Provos <provos@citi.umich.edu>\n* [linux-syscall-support](https://chromium.googlesource.com/linux-syscall-support/)  \nBSD 3-Clause License  \nCopyright (c) 2005-2011 Google Inc.\n* [xDL](https://github.com/hexhacking/xDL)  \nMIT License  \nCopyright (c) 2020-2024 HexHacking Team\n"
        },
        {
          "name": "SECURITY.md",
          "type": "blob",
          "size": 0.8955078125,
          "content": "# Reporting Security vulnerabilities\n\nThe ShadowHook team and community take security bugs in ShadowHook seriously. We appreciate your efforts to responsibly disclose your findings, and will make every effort to acknowledge your contributions.\n\n**Please do not report security vulnerabilities through GitHub issues, discussions or pull requests. This makes the problem immediately visible to everyone, including malicious actors.**\n\nInstead, please send email to <caikelun@bytedance.com>. If possible, encrypt your message with [this PGP key](https://raw.githubusercontent.com/caikelun/caikelun.github.io/master/site/pgp-public-key.txt).\n\nThe ShadowHook team will send a response indicating the next steps in handling your report. After the initial reply to your report, the security team will keep you informed of the progress towards a fix and full announcement, and may ask for additional information or guidance.\n"
        },
        {
          "name": "app",
          "type": "tree",
          "content": null
        },
        {
          "name": "build.gradle",
          "type": "blob",
          "size": 1.27734375,
          "content": "plugins {\n    id 'com.android.application' version '8.7.1' apply false\n    id 'com.android.library' version '8.7.1' apply false\n}\n\ntasks.register('clean', Delete) {\n    delete getBuildDir()\n}\n\next {\n    minSdkVersion = 16\n    compileSdkVersion = 35\n    targetSdkVersion = 35\n    buildToolsVersion = '35.0.0'\n    javaVersion = JavaVersion.VERSION_1_7\n    ndkVersion = \"23.2.8568313\"\n    cmakeVersion = \"3.30.5\"\n    abiFilters = \"armeabi-v7a,arm64-v8a\"\n    useASAN = false\n    dependencyOnLocalLibrary = true\n    shadowhookVersion = \"1.1.1\"\n\n    POM_GROUP_ID = \"com.bytedance.android\"\n    POM_ARTIFACT_ID = \"shadowhook\"\n    POM_VERSION_NAME = \"1.1.1\"\n\n    POM_NAME = \"shadowhook\"\n    POM_DESCRIPTION = \"ShadowHook is an Android inline hook library which supports thumb, arm32 and arm64.\"\n    POM_URL = \"https://github.com/bytedance/android-inline-hook\"\n    POM_INCEPTION_YEAR = \"2021\"\n    POM_PACKAGING = \"aar\"\n\n    POM_SCM_CONNECTION = \"https://github.com/bytedance/android-inline-hook.git\"\n\n    POM_ISSUE_SYSTEM = \"github\"\n    POM_ISSUE_URL = \"https://github.com/bytedance/android-inline-hook/issues\"\n\n    POM_LICENCE_NAME = \"The MIT License\"\n    POM_LICENCE_URL = \"https://opensource.org/licenses/MIT\"\n    POM_LICENCE_DIST = \"repo\"\n\n    POM_DEVELOPER_ID = \"bytedance\"\n    POM_DEVELOPER_NAME = \"bytedance\"\n}\n"
        },
        {
          "name": "checkstyle.xml",
          "type": "blob",
          "size": 3.40234375,
          "content": "<?xml version=\"1.0\"?>\n<!DOCTYPE module PUBLIC\n    \"-//Checkstyle//DTD Checkstyle Configuration 1.3//EN\"\n    \"https://checkstyle.org/dtds/configuration_1_3.dtd\">\n\n<module name=\"Checker\">\n\n    <property name=\"charset\" value=\"UTF-8\"/>\n\n    <module name=\"FileLength\"/>\n    <module name=\"NewlineAtEndOfFile\"/>\n    <module name=\"SuppressWarningsFilter\"/>\n    <module name=\"FileTabCharacter\">\n        <property name=\"eachLine\" value=\"true\"/>\n    </module>\n\n    <module name=\"RegexpSingleline\">\n        <property name=\"format\" value=\"\\s+$\"/>\n        <property name=\"message\" value=\"Line has trailing spaces.\"/>\n    </module>\n\n    <module name=\"RegexpSingleline\">\n        <property name=\"format\" value=\"^\\s*(for|if)[^ ]\\(\"/>\n        <property name=\"message\" value=\"Space needed before opening parenthesis.\"/>\n    </module>\n\n    <module name=\"RegexpSingleline\">\n        <property name=\"format\" value=\"^\\s*for \\(.*?([^ ]:|:[^ ])\"/>\n        <property name=\"message\" value=\"Space needed around ':' character.\"/>\n    </module>\n\n    <module name=\"TreeWalker\">\n\n        <!-- http://checkstyle.sf.net/config_import.html -->\n        <module name=\"AvoidStarImport\"/>\n        <module name=\"IllegalImport\"/>\n        <module name=\"RedundantImport\"/>\n        <module name=\"UnusedImports\"/>\n\n        <!-- http://checkstyle.sf.net/config_naming.html -->\n        <module name=\"LocalFinalVariableName\"/>\n        <module name=\"LocalVariableName\"/>\n        <module name=\"MemberName\"/>\n        <module name=\"MethodName\"/>\n        <module name=\"PackageName\"/>\n        <module name=\"ParameterName\"/>\n        <module name=\"StaticVariableName\"/>\n        <module name=\"TypeName\"/>\n\n        <!-- http://checkstyle.sf.net/config_whitespace.html -->\n        <module name=\"GenericWhitespace\"/>\n        <module name=\"EmptyForIteratorPad\"/>\n        <module name=\"MethodParamPad\"/>\n        <module name=\"NoWhitespaceAfter\"/>\n        <module name=\"NoWhitespaceBefore\"/>\n        <module name=\"OperatorWrap\"/>\n        <module name=\"ParenPad\"/>\n        <module name=\"TypecastParenPad\"/>\n        <module name=\"WhitespaceAfter\"/>\n        <module name=\"WhitespaceAround\"/>\n\n        <!-- http://checkstyle.sf.net/config_blocks.html -->\n        <module name=\"LeftCurly\"/>\n        <module name=\"RightCurly\"/>\n        <module name=\"NeedBraces\">\n            <property name=\"allowSingleLineStatement\" value=\"true\"/>\n        </module>\n\n        <!-- http://checkstyle.sf.net/config_modifier.html -->\n        <module name=\"RedundantModifier\"/>\n\n        <!-- http://checkstyle.sf.net/config_coding.html -->\n        <module name=\"CovariantEquals\"/>\n        <module name=\"EmptyStatement\"/>\n        <module name=\"IllegalInstantiation\"/>\n        <module name=\"MissingSwitchDefault\"/>\n        <module name=\"SimplifyBooleanExpression\"/>\n        <module name=\"SimplifyBooleanReturn\"/>\n\n        <!-- http://checkstyle.sf.net/config_misc.html -->\n        <module name=\"ArrayTypeStyle\"/>\n        <module name=\"UpperEll\"/>\n        <module name=\"SuppressWarningsHolder\"/>\n        <module name=\"Indentation\">\n            <property name=\"basicOffset\" value=\"4\"/>\n            <property name=\"braceAdjustment\" value=\"0\"/>\n            <property name=\"caseIndent\" value=\"4\"/>\n            <property name=\"throwsIndent\" value=\"4\"/>\n            <property name=\"lineWrappingIndentation\" value=\"4\"/>\n            <property name=\"arrayInitIndent\" value=\"4\"/>\n            <property name=\"forceStrictCondition\" value=\"false\"/>\n        </module>\n\n    </module>\n\n</module>"
        },
        {
          "name": "clang-format.py",
          "type": "blob",
          "size": 1.3955078125,
          "content": "#!/usr/bin/env python3\nimport os\nimport sys\nimport argparse\nimport subprocess\n\npath_list = ['shadowhook/src/main/cpp/include',\n             'shadowhook/src/main/cpp',\n             'shadowhook/src/main/cpp/arch/arm',\n             'shadowhook/src/main/cpp/arch/arm64',\n             'shadowhook/src/main/cpp/common',\n             'app/src/main/cpp/unittest',\n             'app/src/main/cpp/hookee',\n             'app/src/main/cpp/hookee2',\n             'systest/src/main/cpp']\nsuffix_tuple = ('.h', '.c')\n\ndef main():\n    parser = argparse.ArgumentParser(description='clang-format runner')\n    parser.add_argument('-n', '--dry-run', action='store_true', help='If set, do not actually make the formatting changes')\n    options = parser.parse_args()\n    dry_run = '-n ' if options.dry_run else ''\n\n    for path in path_list:\n        for filename in sorted(os.listdir(path)):\n            f = os.path.join(path, filename)\n            if os.path.isfile(f) and f.endswith(suffix_tuple):\n                cmd = 'clang-format ' + dry_run + '--Werror -i -style=file ' + f\n                ret = subprocess.run(cmd, shell=True, universal_newlines=True, stdout=subprocess.PIPE, stderr=subprocess.STDOUT)\n                retcode = ('' if ret.returncode == 0 else (' >>> return code: ' + str(ret.returncode)))\n                print('>>> ' + cmd + retcode)\n                print(ret.stdout, end='')\n\nif __name__ == '__main__':\n    sys.exit(main())\n"
        },
        {
          "name": "doc",
          "type": "tree",
          "content": null
        },
        {
          "name": "gradle.properties",
          "type": "blob",
          "size": 1.294921875,
          "content": "# Project-wide Gradle settings.\n# IDE (e.g. Android Studio) users:\n# Gradle settings configured through the IDE *will override*\n# any settings specified in this file.\n# For more details on how to configure your build environment visit\n# http://www.gradle.org/docs/current/userguide/build_environment.html\n# Specifies the JVM arguments used for the daemon process.\n# The setting is particularly useful for tweaking memory settings.\norg.gradle.jvmargs=-Xmx2048m -Dfile.encoding=UTF-8\n# When configured, Gradle will run in incubating parallel mode.\n# This option should only be used with decoupled projects. More details, visit\n# http://www.gradle.org/docs/current/userguide/multi_project_builds.html#sec:decoupled_projects\n# org.gradle.parallel=true\n# AndroidX package structure to make it clearer which packages are bundled with the\n# Android operating system, and which are packaged with your app\"s APK\n# https://developer.android.com/topic/libraries/support-library/androidx-rn\nandroid.useAndroidX=true\n# Enables namespacing of each library's R class so that its R class includes only the\n# resources declared in the library itself and none from the library's dependencies,\n# thereby reducing the size of the R class for that library\nandroid.nonTransitiveRClass=true\n#android.prefabVersion=2.0.0\nandroid.nonFinalResIds=false\n"
        },
        {
          "name": "gradle",
          "type": "tree",
          "content": null
        },
        {
          "name": "gradlew",
          "type": "blob",
          "size": 5.630859375,
          "content": "#!/usr/bin/env sh\n\n#\n# Copyright 2015 the original author or authors.\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#      https://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n#\n\n##############################################################################\n##\n##  Gradle start up script for UN*X\n##\n##############################################################################\n\n# Attempt to set APP_HOME\n# Resolve links: $0 may be a link\nPRG=\"$0\"\n# Need this for relative symlinks.\nwhile [ -h \"$PRG\" ] ; do\n    ls=`ls -ld \"$PRG\"`\n    link=`expr \"$ls\" : '.*-> \\(.*\\)$'`\n    if expr \"$link\" : '/.*' > /dev/null; then\n        PRG=\"$link\"\n    else\n        PRG=`dirname \"$PRG\"`\"/$link\"\n    fi\ndone\nSAVED=\"`pwd`\"\ncd \"`dirname \\\"$PRG\\\"`/\" >/dev/null\nAPP_HOME=\"`pwd -P`\"\ncd \"$SAVED\" >/dev/null\n\nAPP_NAME=\"Gradle\"\nAPP_BASE_NAME=`basename \"$0\"`\n\n# Add default JVM options here. You can also use JAVA_OPTS and GRADLE_OPTS to pass JVM options to this script.\nDEFAULT_JVM_OPTS='\"-Xmx64m\" \"-Xms64m\"'\n\n# Use the maximum available, or set MAX_FD != -1 to use that value.\nMAX_FD=\"maximum\"\n\nwarn () {\n    echo \"$*\"\n}\n\ndie () {\n    echo\n    echo \"$*\"\n    echo\n    exit 1\n}\n\n# OS specific support (must be 'true' or 'false').\ncygwin=false\nmsys=false\ndarwin=false\nnonstop=false\ncase \"`uname`\" in\n  CYGWIN* )\n    cygwin=true\n    ;;\n  Darwin* )\n    darwin=true\n    ;;\n  MINGW* )\n    msys=true\n    ;;\n  NONSTOP* )\n    nonstop=true\n    ;;\nesac\n\nCLASSPATH=$APP_HOME/gradle/wrapper/gradle-wrapper.jar\n\n\n# Determine the Java command to use to start the JVM.\nif [ -n \"$JAVA_HOME\" ] ; then\n    if [ -x \"$JAVA_HOME/jre/sh/java\" ] ; then\n        # IBM's JDK on AIX uses strange locations for the executables\n        JAVACMD=\"$JAVA_HOME/jre/sh/java\"\n    else\n        JAVACMD=\"$JAVA_HOME/bin/java\"\n    fi\n    if [ ! -x \"$JAVACMD\" ] ; then\n        die \"ERROR: JAVA_HOME is set to an invalid directory: $JAVA_HOME\n\nPlease set the JAVA_HOME variable in your environment to match the\nlocation of your Java installation.\"\n    fi\nelse\n    JAVACMD=\"java\"\n    which java >/dev/null 2>&1 || die \"ERROR: JAVA_HOME is not set and no 'java' command could be found in your PATH.\n\nPlease set the JAVA_HOME variable in your environment to match the\nlocation of your Java installation.\"\nfi\n\n# Increase the maximum file descriptors if we can.\nif [ \"$cygwin\" = \"false\" -a \"$darwin\" = \"false\" -a \"$nonstop\" = \"false\" ] ; then\n    MAX_FD_LIMIT=`ulimit -H -n`\n    if [ $? -eq 0 ] ; then\n        if [ \"$MAX_FD\" = \"maximum\" -o \"$MAX_FD\" = \"max\" ] ; then\n            MAX_FD=\"$MAX_FD_LIMIT\"\n        fi\n        ulimit -n $MAX_FD\n        if [ $? -ne 0 ] ; then\n            warn \"Could not set maximum file descriptor limit: $MAX_FD\"\n        fi\n    else\n        warn \"Could not query maximum file descriptor limit: $MAX_FD_LIMIT\"\n    fi\nfi\n\n# For Darwin, add options to specify how the application appears in the dock\nif $darwin; then\n    GRADLE_OPTS=\"$GRADLE_OPTS \\\"-Xdock:name=$APP_NAME\\\" \\\"-Xdock:icon=$APP_HOME/media/gradle.icns\\\"\"\nfi\n\n# For Cygwin or MSYS, switch paths to Windows format before running java\nif [ \"$cygwin\" = \"true\" -o \"$msys\" = \"true\" ] ; then\n    APP_HOME=`cygpath --path --mixed \"$APP_HOME\"`\n    CLASSPATH=`cygpath --path --mixed \"$CLASSPATH\"`\n\n    JAVACMD=`cygpath --unix \"$JAVACMD\"`\n\n    # We build the pattern for arguments to be converted via cygpath\n    ROOTDIRSRAW=`find -L / -maxdepth 1 -mindepth 1 -type d 2>/dev/null`\n    SEP=\"\"\n    for dir in $ROOTDIRSRAW ; do\n        ROOTDIRS=\"$ROOTDIRS$SEP$dir\"\n        SEP=\"|\"\n    done\n    OURCYGPATTERN=\"(^($ROOTDIRS))\"\n    # Add a user-defined pattern to the cygpath arguments\n    if [ \"$GRADLE_CYGPATTERN\" != \"\" ] ; then\n        OURCYGPATTERN=\"$OURCYGPATTERN|($GRADLE_CYGPATTERN)\"\n    fi\n    # Now convert the arguments - kludge to limit ourselves to /bin/sh\n    i=0\n    for arg in \"$@\" ; do\n        CHECK=`echo \"$arg\"|egrep -c \"$OURCYGPATTERN\" -`\n        CHECK2=`echo \"$arg\"|egrep -c \"^-\"`                                 ### Determine if an option\n\n        if [ $CHECK -ne 0 ] && [ $CHECK2 -eq 0 ] ; then                    ### Added a condition\n            eval `echo args$i`=`cygpath --path --ignore --mixed \"$arg\"`\n        else\n            eval `echo args$i`=\"\\\"$arg\\\"\"\n        fi\n        i=`expr $i + 1`\n    done\n    case $i in\n        0) set -- ;;\n        1) set -- \"$args0\" ;;\n        2) set -- \"$args0\" \"$args1\" ;;\n        3) set -- \"$args0\" \"$args1\" \"$args2\" ;;\n        4) set -- \"$args0\" \"$args1\" \"$args2\" \"$args3\" ;;\n        5) set -- \"$args0\" \"$args1\" \"$args2\" \"$args3\" \"$args4\" ;;\n        6) set -- \"$args0\" \"$args1\" \"$args2\" \"$args3\" \"$args4\" \"$args5\" ;;\n        7) set -- \"$args0\" \"$args1\" \"$args2\" \"$args3\" \"$args4\" \"$args5\" \"$args6\" ;;\n        8) set -- \"$args0\" \"$args1\" \"$args2\" \"$args3\" \"$args4\" \"$args5\" \"$args6\" \"$args7\" ;;\n        9) set -- \"$args0\" \"$args1\" \"$args2\" \"$args3\" \"$args4\" \"$args5\" \"$args6\" \"$args7\" \"$args8\" ;;\n    esac\nfi\n\n# Escape application args\nsave () {\n    for i do printf %s\\\\n \"$i\" | sed \"s/'/'\\\\\\\\''/g;1s/^/'/;\\$s/\\$/' \\\\\\\\/\" ; done\n    echo \" \"\n}\nAPP_ARGS=`save \"$@\"`\n\n# Collect all arguments for the java command, following the shell quoting and substitution rules\neval set -- $DEFAULT_JVM_OPTS $JAVA_OPTS $GRADLE_OPTS \"\\\"-Dorg.gradle.appname=$APP_BASE_NAME\\\"\" -classpath \"\\\"$CLASSPATH\\\"\" org.gradle.wrapper.GradleWrapperMain \"$APP_ARGS\"\n\nexec \"$JAVACMD\" \"$@\"\n"
        },
        {
          "name": "gradlew.bat",
          "type": "blob",
          "size": 2.6982421875,
          "content": "@rem\r\n@rem Copyright 2015 the original author or authors.\r\n@rem\r\n@rem Licensed under the Apache License, Version 2.0 (the \"License\");\r\n@rem you may not use this file except in compliance with the License.\r\n@rem You may obtain a copy of the License at\r\n@rem\r\n@rem      https://www.apache.org/licenses/LICENSE-2.0\r\n@rem\r\n@rem Unless required by applicable law or agreed to in writing, software\r\n@rem distributed under the License is distributed on an \"AS IS\" BASIS,\r\n@rem WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n@rem See the License for the specific language governing permissions and\r\n@rem limitations under the License.\r\n@rem\r\n\r\n@if \"%DEBUG%\" == \"\" @echo off\r\n@rem ##########################################################################\r\n@rem\r\n@rem  Gradle startup script for Windows\r\n@rem\r\n@rem ##########################################################################\r\n\r\n@rem Set local scope for the variables with windows NT shell\r\nif \"%OS%\"==\"Windows_NT\" setlocal\r\n\r\nset DIRNAME=%~dp0\r\nif \"%DIRNAME%\" == \"\" set DIRNAME=.\r\nset APP_BASE_NAME=%~n0\r\nset APP_HOME=%DIRNAME%\r\n\r\n@rem Resolve any \".\" and \"..\" in APP_HOME to make it shorter.\r\nfor %%i in (\"%APP_HOME%\") do set APP_HOME=%%~fi\r\n\r\n@rem Add default JVM options here. You can also use JAVA_OPTS and GRADLE_OPTS to pass JVM options to this script.\r\nset DEFAULT_JVM_OPTS=\"-Xmx64m\" \"-Xms64m\"\r\n\r\n@rem Find java.exe\r\nif defined JAVA_HOME goto findJavaFromJavaHome\r\n\r\nset JAVA_EXE=java.exe\r\n%JAVA_EXE% -version >NUL 2>&1\r\nif \"%ERRORLEVEL%\" == \"0\" goto execute\r\n\r\necho.\r\necho ERROR: JAVA_HOME is not set and no 'java' command could be found in your PATH.\r\necho.\r\necho Please set the JAVA_HOME variable in your environment to match the\r\necho location of your Java installation.\r\n\r\ngoto fail\r\n\r\n:findJavaFromJavaHome\r\nset JAVA_HOME=%JAVA_HOME:\"=%\r\nset JAVA_EXE=%JAVA_HOME%/bin/java.exe\r\n\r\nif exist \"%JAVA_EXE%\" goto execute\r\n\r\necho.\r\necho ERROR: JAVA_HOME is set to an invalid directory: %JAVA_HOME%\r\necho.\r\necho Please set the JAVA_HOME variable in your environment to match the\r\necho location of your Java installation.\r\n\r\ngoto fail\r\n\r\n:execute\r\n@rem Setup the command line\r\n\r\nset CLASSPATH=%APP_HOME%\\gradle\\wrapper\\gradle-wrapper.jar\r\n\r\n\r\n@rem Execute Gradle\r\n\"%JAVA_EXE%\" %DEFAULT_JVM_OPTS% %JAVA_OPTS% %GRADLE_OPTS% \"-Dorg.gradle.appname=%APP_BASE_NAME%\" -classpath \"%CLASSPATH%\" org.gradle.wrapper.GradleWrapperMain %*\r\n\r\n:end\r\n@rem End local scope for the variables with windows NT shell\r\nif \"%ERRORLEVEL%\"==\"0\" goto mainEnd\r\n\r\n:fail\r\nrem Set variable GRADLE_EXIT_CONSOLE if you need the _script_ return code instead of\r\nrem the _cmd.exe /c_ return code!\r\nif  not \"\" == \"%GRADLE_EXIT_CONSOLE%\" exit 1\r\nexit /b 1\r\n\r\n:mainEnd\r\nif \"%OS%\"==\"Windows_NT\" endlocal\r\n\r\n:omega\r\n"
        },
        {
          "name": "settings.gradle",
          "type": "blob",
          "size": 0.359375,
          "content": "pluginManagement {\n    repositories {\n        gradlePluginPortal()\n        google()\n        mavenCentral()\n    }\n}\ndependencyResolutionManagement {\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\nrootProject.name = \"shadowhook\"\ninclude ':app'\ninclude ':shadowhook'\ninclude ':systest'\n"
        },
        {
          "name": "shadowhook",
          "type": "tree",
          "content": null
        },
        {
          "name": "systest",
          "type": "tree",
          "content": null
        }
      ]
    }
  ]
}