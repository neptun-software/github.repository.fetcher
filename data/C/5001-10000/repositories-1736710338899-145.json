{
  "metadata": {
    "timestamp": 1736710338899,
    "page": 145,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjE1MA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "neutrinolabs/xrdp",
      "stars": 5868,
      "defaultBranch": "devel",
      "files": [
        {
          "name": ".cirrus.yml",
          "type": "blob",
          "size": 0.9091796875,
          "content": "FreeBSD_task:\n  matrix:\n    env:\n      SSL: libressl\n  matrix:\n    freebsd_instance:\n      image_family: freebsd-13-3\n  prepare_script:\n    - pkg install -y $SSL git autoconf automake libtool pkgconf opus jpeg-turbo fdk-aac pixman libX11 libXfixes libXrandr libxkbfile nasm fusefs-libs3 check imlib2 freetype2 cmocka ibus\n    - git submodule update --init --recursive\n  configure_script:\n    - ./bootstrap\n    - env CPPFLAGS=-I/usr/local/include LDFLAGS=-L/usr/local/lib ./configure --localstatedir=/var --enable-strict-locations --with-pkgconfigdir=/usr/local/libdata/pkgconfig --enable-strict-locations --enable-ibus --enable-ipv6 --enable-opus --enable-jpeg --enable-fdkaac --enable-painter --enable-pixman --enable-fuse --with-imlib2 --with-freetype2\n  build_script:\n    - make -j $(sysctl -n hw.ncpu || echo 4)\n  check_script:\n    - make check\n  install_script:\n    - make install\n  test_script:\n    - /usr/local/sbin/xrdp -v\n"
        },
        {
          "name": ".github",
          "type": "tree",
          "content": null
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.984375,
          "content": "*~\n*.a\naclocal.m4\nAUTHORS\nautom4te.cache/\nChangeLog\ncompile\nconfig_ac.h\nconfig_ac-h.in\nconfig.guess\nconfig.log\nconfig.status\nconfig.sub\nconfigure\ndepcomp\n.deps/\nfontutils/xrdp-dumpfv1\nfontutils/xrdp-mkfv1\ngenkeymap/xrdp-genkeymap\ninstall-sh\ninstfiles/pam.d/xrdp-sesman\ninstfiles/*.service\nkeygen/xrdp-keygen\n*.la\n.libs\nlibtool\n*.lo\n*.log\nltmain.sh\nMakefile\nMakefile.in\nmissing\nmkinstalldirs\nNEWS\n*.o\nREADME\nsesman/chansrv/xrdp-chansrv\nsesman/sesexec/xrdp-sesexec\nsesman/tools/xrdp-authtest\nsesman/tools/xrdp-dis\nsesman/tools/xrdp-sesadmin\nsesman/tools/xrdp-sesrun\nsesman/tools/xrdp-sestest\nsesman/tools/xrdp-xcon\nsesman/xrdp-sesman\nsesman/sesman.ini\n*.so\nstamp-h1\ntap-driver.sh\ntest-driver\ntests/common/test_common\ntests/libipm/test_libipm\ntests/libxrdp/test_libxrdp\ntests/memtest/memtest\ntests/xrdp/test_xrdp\ntools/devel/tcp_proxy/tcp_proxy\ntools/chkpriv/xrdp-chkpriv\ntools/chkpriv/xrdp-droppriv\n*.trs\nwaitforx/waitforx\nxrdp/xrdp\nxrdp/xrdp.ini\nxrdp_configure_options.h\nxrdpapi/xrdp-xrdpapi-simple\n.vscode/*\n"
        },
        {
          "name": ".gitmodules",
          "type": "blob",
          "size": 0.3486328125,
          "content": "[submodule \"librfxcodec\"]\n\tpath = librfxcodec\n\turl = https://github.com/neutrinolabs/librfxcodec.git\n\tbranch = .\n\tignore = untracked\n[submodule \"libpainter\"]\n\tpath = libpainter\n\turl = https://github.com/neutrinolabs/libpainter.git\n\tbranch = .\n\tignore = untracked\n[submodule \"ulalaca\"]\n\tpath = ulalaca\n\turl = https://github.com/neutrinolabs/ulalaca-xrdp.git\n"
        },
        {
          "name": "COPYING",
          "type": "blob",
          "size": 10.14453125,
          "content": "Apache License, Version 2.0\n\nVersion 2.0, January 2004\n\nhttp://www.apache.org/licenses/\n\nTERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION\n\n1. Definitions.\n\n\"License\" shall mean the terms and conditions for use, reproduction, and \ndistribution as defined by Sections 1 through 9 of this document.\n\n\"Licensor\" shall mean the copyright owner or entity authorized by the \ncopyright owner that is granting the License.\n\n\"Legal Entity\" shall mean the union of the acting entity and all other \nentities that control, are controlled by, or are under common control \nwith that entity. For the purposes of this definition, \"control\" means \n(i) the power, direct or indirect, to cause the direction or management \nof such entity, whether by contract or otherwise, or (ii) ownership of \nfifty percent (50%) or more of the outstanding shares, or \n(iii) beneficial ownership of such entity.\n\n\"You\" (or \"Your\") shall mean an individual or Legal Entity exercising \npermissions granted by this License.\n\n\"Source\" form shall mean the preferred form for making modifications, \nincluding but not limited to software source code, documentation source, \nand configuration files.\n\n\"Object\" form shall mean any form resulting from mechanical transformation \nor translation of a Source form, including but not limited to compiled \nobject code, generated documentation, and conversions to other media types.\n\n\"Work\" shall mean the work of authorship, whether in Source or Object form, \nmade available under the License, as indicated by a copyright notice that is \nincluded in or attached to the work (an example is provided in the Appendix below).\n\n\"Derivative Works\" shall mean any work, whether in Source or Object form, \nthat is based on (or derived from) the Work and for which the editorial \nrevisions, annotations, elaborations, or other modifications represent, as a \nwhole, an original work of authorship. For the purposes of this License, \nDerivative Works shall not include works that remain separable from, or \nmerely link (or bind by name) to the interfaces of, the Work and \nDerivative Works thereof.\n\n\"Contribution\" shall mean any work of authorship, including the original \nversion of the Work and any modifications or additions to that Work or Derivative \nWorks thereof, that is intentionally submitted to Licensor for inclusion in the \nWork by the copyright owner or by an individual or Legal Entity authorized to \nsubmit on behalf of the copyright owner. For the purposes of this definition, \n\"submitted\" means any form of electronic, verbal, or written communication sent \nto the Licensor or its representatives, including but not limited to \ncommunication on electronic mailing lists, source code control systems, and \nissue tracking systems that are managed by, or on behalf of, the Licensor for \nthe purpose of discussing and improving the Work, but excluding communication \nthat is conspicuously marked or otherwise designated in writing by the copyright \nowner as \"Not a Contribution.\"\n\n\"Contributor\" shall mean Licensor and any individual or Legal Entity on behalf \nof whom a Contribution has been received by Licensor and subsequently incorporated \nwithin the Work.\n\n2. Grant of Copyright License. Subject to the terms and conditions of this License, \neach Contributor hereby grants to You a perpetual, worldwide, non-exclusive, \nno-charge, royalty-free, irrevocable copyright license to reproduce, prepare \nDerivative Works of, publicly display, publicly perform, sublicense, and distribute \nthe Work and such Derivative Works in Source or Object form.\n\n3. Grant of Patent License. Subject to the terms and conditions of this License, \neach Contributor hereby grants to You a perpetual, worldwide, non-exclusive, \nno-charge, royalty-free, irrevocable (except as stated in this section) patent \nlicense to make, have made, use, offer to sell, sell, import, and otherwise transfer \nthe Work, where such license applies only to those patent claims licensable by such \nContributor that are necessarily infringed by their Contribution(s) alone or by \ncombination of their Contribution(s) with the Work to which such Contribution(s) was \nsubmitted. If You institute patent litigation against any entity (including a \ncross-claim or counterclaim in a lawsuit) alleging that the Work or a Contribution \nincorporated within the Work constitutes direct or contributory patent infringement, \nthen any patent licenses granted to You under this License for that Work shall \nterminate as of the date such litigation is filed.\n\n4. Redistribution. You may reproduce and distribute copies of the Work or Derivative \nWorks thereof in any medium, with or without modifications, and in Source or Object \nform, provided that You meet the following conditions:\n\nYou must give any other recipients of the Work or Derivative Works a copy of this \nLicense; and\n\nYou must cause any modified files to carry prominent notices stating that You changed \nthe files; and\n\nYou must retain, in the Source form of any Derivative Works that You distribute, \nall copyright, patent, trademark, and attribution notices from the Source form of the Work, \nexcluding those notices that do not pertain to any part of the Derivative Works; and\n\nIf the Work includes a \"NOTICE\" text file as part of its distribution, then any \nDerivative Works that You distribute must include a readable copy of the attribution \nnotices contained within such NOTICE file, excluding those notices that do not pertain \nto any part of the Derivative Works, in at least one of the following places: within a \nNOTICE text file distributed as part of the Derivative Works; within the Source form or \ndocumentation, if provided along with the Derivative Works; or, within a display \ngenerated by the Derivative Works, if and wherever such third-party notices normally \nappear. The contents of the NOTICE file are for informational purposes only and do not \nmodify the License. You may add Your own attribution notices within Derivative Works \nthat You distribute, alongside or as an addendum to the NOTICE text from the Work, \nprovided that such additional attribution notices cannot be construed as modifying \nthe License. You may add Your own copyright statement to Your modifications and may \nprovide additional or different license terms and conditions for use, reproduction, \nor distribution of Your modifications, or for any such Derivative Works as a whole, \nprovided Your use, reproduction, and distribution of the Work otherwise complies \nwith the conditions stated in this License.\n\n5. Submission of Contributions. Unless You explicitly state otherwise, any Contribution \nintentionally submitted for inclusion in the Work by You to the Licensor shall be under \nthe terms and conditions of this License, without any additional terms or conditions. \nNotwithstanding the above, nothing herein shall supersede or modify the terms of any \nseparate license agreement you may have executed with Licensor regarding such Contributions.\n\n6. Trademarks. This License does not grant permission to use the trade names, trademarks, \nservice marks, or product names of the Licensor, except as required for reasonable and \ncustomary use in describing the origin of the Work and reproducing the content of \nthe NOTICE file.\n\n7. Disclaimer of Warranty. Unless required by applicable law or agreed to in writing, \nLicensor provides the Work (and each Contributor provides its Contributions) on an \n\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied, \nincluding, without limitation, any warranties or conditions of TITLE, NON-INFRINGEMENT, \nMERCHANTABILITY, or FITNESS FOR A PARTICULAR PURPOSE. You are solely responsible for \ndetermining the appropriateness of using or redistributing the Work and assume any \nrisks associated with Your exercise of permissions under this License.\n\n8. Limitation of Liability. In no event and under no legal theory, whether in tort \n(including negligence), contract, or otherwise, unless required by applicable law \n(such as deliberate and grossly negligent acts) or agreed to in writing, shall any \nContributor be liable to You for damages, including any direct, indirect, special, \nincidental, or consequential damages of any character arising as a result of this \nLicense or out of the use or inability to use the Work (including but not limited to \ndamages for loss of goodwill, work stoppage, computer failure or malfunction, or any \nand all other commercial damages or losses), even if such Contributor has been advised \nof the possibility of such damages.\n\n9. Accepting Warranty or Additional Liability. While redistributing the Work or \nDerivative Works thereof, You may choose to offer, and charge a fee for, acceptance \nof support, warranty, indemnity, or other liability obligations and/or rights consistent \nwith this License. However, in accepting such obligations, You may act only on Your \nown behalf and on Your sole responsibility, not on behalf of any other Contributor, \nand only if You agree to indemnify, defend, and hold each Contributor harmless for any \nliability incurred by, or claims asserted against, such Contributor by reason of your \naccepting any such warranty or additional liability.\n\nEND OF TERMS AND CONDITIONS\n\nAPPENDIX: How to apply the Apache License to your work\nTo apply the Apache License to your work, attach the following boilerplate notice, \nwith the fields enclosed by brackets \"[]\" replaced with your own identifying \ninformation. (Don't include the brackets!) The text should be enclosed in the \nappropriate comment syntax for the file format. We also recommend that a file or class \nname and description of purpose be included on the same \"printed page\" as the \ncopyright notice for easier identification within third-party archives.\n\n   Copyright [yyyy] [name of copyright owner]\n\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n\n"
        },
        {
          "name": "Makefile.am",
          "type": "blob",
          "size": 1.021484375,
          "content": "ACLOCAL_AMFLAGS = -I m4\nAM_DISTCHECK_CONFIGURE_FLAGS = \\\n  --without-systemdsystemunitdir \\\n  --enable-strict-locations \\\n  --enable-tests\n\nEXTRA_DIST = \\\n  COPYING \\\n  README.md \\\n  NEWS.md \\\n  astyle_config.as \\\n  bootstrap \\\n  coding_style.md \\\n  m4 \\\n  vrplayer\n\nif XRDP_NEUTRINORDP\nNEUTRINORDPDIR = neutrinordp\nelse\nNEUTRINORDPDIR =\nendif\n\nif XRDP_XRDPVR\nXRDPVRDIR = xrdpvr\nelse\nXRDPVRDIR =\nendif\n\nif XRDP_PAINTER\nPAINTERDIR = libpainter\nelse\nPAINTERDIR =\nendif\n\nif XRDP_RFXCODEC\nRFXCODECDIR = librfxcodec\nelse\nRFXCODECDIR =\nendif\n\nif XRDP_ULALACA\nULALACADIR = ulalaca\nelse\nULALACADIR =\nendif\n\n# This should not be dictionary order but build order\nSUBDIRS = \\\n  third_party \\\n  third_party/tomlc99 \\\n  common \\\n  vnc \\\n  xup \\\n  mc \\\n  $(NEUTRINORDPDIR) \\\n  libipm \\\n  libxrdp \\\n  $(PAINTERDIR) \\\n  $(RFXCODECDIR) \\\n  sesman \\\n  xrdp \\\n  fontutils \\\n  keygen \\\n  waitforx \\\n  docs \\\n  instfiles \\\n  genkeymap \\\n  xrdpapi \\\n  pkgconfig \\\n  $(XRDPVRDIR) \\\n  $(ULALACADIR) \\\n  tests \\\n  tools\n\ndistclean-local:\n\t-rm -f xrdp_configure_options.h\n"
        },
        {
          "name": "NEWS.md",
          "type": "blob",
          "size": 29.6962890625,
          "content": "# Release notes for xrdp v0.9.19 (2022/03/17)\n\n## General announcements\n* Running xrdp and xrdp-sesman on separate hosts is still supported by this release, but is now deprecated. This is not secure. A future release will replace the TCP socket used between these processes with a Unix Domain Socket, and then cross-host running will not be possible.\n\n## New features\n* Both inbound and outbound clipboards can now be restricted for text, files or images [Sponsored by @CyberTrust @clear-code and @kenhys] (#2087)\n\n## Bug fixes\n* [CVE-2022-23613](https://www.cve.org/CVERecord?id=CVE-2022-23613): Privilege escalation on xrdp-sesman (This fix is also in the out-of-band v0.9.18.1 release)\n* The versions of imlib2 used on RHEL 7 and 8 are now detected correctly (#2118)\n* Some situations where zombie processes could exist have been resolved (#2146, #2151, #2168)\n* Some null-pointer exceptions which can happen in the logging module have been addressed (#2149)\n* Some minor logging errors have been corrected (#2152)\n* The signal handling in sesman has been reworked to prevent race conditions when a child exits. This has also made it possible to reliably reload the sesman configuration with SIGHUP (#1729, #2168)\n\n## Internal changes\n* Versions 0.13 and later of checklib can undefine the pre-processor symbol `HAVE_STDINT_H`. The xrdp tests now build successfully against these versions (#2124)\n* OpenSSL packaging changes (#2130):-\n   - The OpenSSL 3 EVP interface is now fully supported\n   - When building against OpenSSL 3, an internal implementation of the RC4 cipher is used instead of the implementation from the OpenSSL legacy provider\n   - The wrapping of the OpenSSL library has been improved which should make it simpler to provide an alternative cryptographic provider in the future, if required\n   - The logging of TLS/non-TLS security negotiation has been improved\n* cppcheck version used for CI bumped to 2.7 (#2140)\n* The `s_check()` macro which is easily mis-used has been removed (#2144)\n* Status values for the DRDYNVC channel are now available in `libxrdp/xrdp_channel.h`\n\n## Changes for packagers or developers\n* On OpenSSL 3 systems, there is now no need to build with the `-Wno-error=deprecated-declarations` flag\n\n## Known issues\n\n* On-the-fly resolution change requires the Microsoft Store version of Remote Desktop client but sometimes crashes on connect (#1869)\n* xrdp's login dialog is not relocated at the center of the new resolution after on-the-fly resolution change happens (#1867)\n\n-----------------------\n\n# Release notes for xrdp v0.9.18.1 (2022/02/08)\n\nThis is a security fix release that includes fixes for the following privilege escalation vulnerability.\n\n* [CVE-2022-23613: Privilege escalation on xrdp-sesman](https://www.cve.org/CVERecord?id=CVE-2022-23613)\n\nUsers who uses xrdp v0.9.17 or v0.9.18 are recommended to update to this version.\n\n## Special thanks\n\nThanks to [Gilad Kleinman](https://github.com/giladkl) reporting the vulnerability and reviewing fix.\n\n-----------------------\n\n# Release notes for xrdp v0.9.18 (2022/01/10)\n\n## General announcements\n* Running xrdp and xrdp-sesman on separate hosts is still supported by this release, but is now deprecated. This is not secure. A future release will replace the TCP socket used between these processes with a Unix Domain Socket, and then cross-host running will not be possible.\n* Special thanks for @trishume for contributing code to the RFX codec\n\n## New features\n* Backgrounds and logos on the login screen can now be zoomed and scaled (#1962)\n* Small change for Alpine Linux support (#2005)\n* loongarch support (#2057)\n* Improved Fail2ban support (#1976)\n\n## Bug fixes\n* Logging is improved for security protocol level decisions (#1974, #1975)\n* An unnecessary log error message which is always generated when running neutrinordp has been removed (#2016)\n* An incorrect development log message has been fixed (#2074)\n* Some informational and error messages written to the console on stdout have been removed or replaced with log messages (#2078 #2080)\n* Failure to attach to the memory area shared with xorgxrdp is now logged (#2065)\n* A regression in the VNC module logging which might cause a connection to drop out has been identified and fixed (#1989)\n* Remote drive redirection now works if printer redirection is also requested by the client (#327)\n* Some file names could not be copied from the client to the server over the clipboard. This is now fixed (#1992, #1995)\n* A config value has been added which allows copy-pasting of files to work with Nautilus for GNOME 3 versions >= 3.29.92 (#1994, #1996)\n* Clipboard now works properly when files can't be read (#1997 #2001)\n* (xorgxrdp v0.2.18) The screen is fully refreshed after initialising shared memory which should fix black screen problems like #1964\n* An incorrect initialisation reported by @qarmin has been fixed (#1909)\n* Some minor memory leaks have been fixed (#2014 #2028)\n* A hard hang in chansrv when copying files from the remote system has been addressed (#2032)\n* Users can now capitalise username and password on the login screen if required (#2061)\n* Some failed size checks in the fastpath code with `--enable-devel-streamcheck` have been addressed (#2066,#2070)\n* Log level for clipboard restriction has been promoted from DEVEL DEBUG to INFO  (#2088)\n* A buffer overflow in the RFX codec associated with large screens has been fixed (#2087)\n\n## Internal changes\n* Some 64-bit packages are removed during the 32-bit CI build process in an attempt to make this more robust (#1985)\n* Minor improvements to error checking and logging for file copy-paste (#1996)\n* Now uses cppcheck 2.6 for CI builds (#2008)\n* Generated systemd unit files now ignored by git (#2006)\n* More internal tests (#2015)\n* Some unnecessary files have been removed from the distribution (#2030)\n* The `which` command in shell scripts has been replaced with `command -v` (#2067)\n* Additional unit tests added for `g_file_get_size()` (#1988)\n* A compiler warning with -O3 on gcc 11.1 has been addressed (#2105)\n* An unused declaration for xrdp_wm_drdynvc_up has been removed (#2098)\n* The SCP V0 code has been unified, which will make it easier to update and replace (#2011)\n* Monitor processing unit tests for existing xrdp_sec function have been added (#1932)\n* The librfxcodec has been updated as part of #2087, and also to add stack frames to assemble code to assist debugging\n\n## Changes for packagers or developers\n* The `--with-imlib2` option has been added. If xrdp is built with imlib2, the login screen supports more image formats for the background and logo, and better quality zooming and scaling (#1962)\n\n## Known issues\n\n* On-the-fly resolution change requires the Microsoft Store version of Remote Desktop client but sometimes crashes on connect (#1869)\n* xrdp's login dialog is not relocated at the center of the new resolution after on-the-fly resolution change happens (#1867)\n\n-----------------------\n\n# Release notes for xrdp v0.9.17 (2021/08/31)\n\n## General announcements\n* Running xrdp and xrdp-sesman on separate hosts is still supported by this release, but is now deprecated. This is not secure. A future release will replace the TCP socket used between these processes with a Unix Domain Socket, and then cross-host running will not be possible.\n\n## New features\n* The IP address, port, and user name of NeutrinoRDP Proxy connection are logged in xrdp.log - these connections may not have a sesman log to use (#1873)\n* The performance settings for NeutrinoRDP can be now configured (#1903)\n* Support for Alpine Linux in startwm.sh (#1965)\n* clipboard: log file transfer for the purpose of audit (#1954)\n* Client's Keyboard layout now can be overridden by xrdp configuration for debugging purposes (#1952)\n\n## Bug fixes\n* PAM_USER environment variable is not set when using pam_exec module (#1882)\n* Allow common channel settings to be overridden for modules as well as chansrv (#1899)\n* The text only-copy/paste interface for the VNC module (used only when chansrv is not active) has been improved (#1900)\n* The unsupported `tcutils` utility has been removed (#1943)\n* The quality of TLS logging has been improved (#1926)\n* Keyboard information is now passed correctly through NeuutrinoRDP, and can be overridden if required (#1934)\n* A message is now logged in the sesman log for unsuccessful login attempts detailing the user used (#1947)\n\n\n## Internal changes\n* astyle formatting is now checked during CI builds (#1879)\n* Generalise development build options, and add --enable-devel-streamcheck (#1887)\n* Now uses cppcheck 2.5 for CI builds (#1938)\n* The SCP protocol is now using a standard `struct trans` for messaging rather than its own thing (#1925)\n\n## Changes for packagers or developers\n* The `--enable-xrdpdebug` developer option has been replaced with finer-grained `--enable-devel-*` options. Consequently, specifying `--enable-xrdpdebug` is now an error (#1913)\n\n## Known issues\n\n* On-the-fly resolution change requires the Microsoft Store version of Remote Desktop client but sometimes crashes on connect (#1869)\n* xrdp's login dialog is not relocated at the center of the new resolution after on-the-fly resolution change happens (#1867)\n\n-----------------------\n\n# Release notes for xrdp v0.9.16 (2021/04/30)\n\n## New features\n* On-the-fly resolution change now supported for Xvnc and Xorg (#448, #1820) - thanks to @Nexarian for this significant first contribution. See the following YouTube video for a demo.\n    * [Windows] https://youtu.be/cZ0ebieZHeA\n    * [Mac] https://youtu.be/6kfAkyLUgFY\n* xrdp can now use key algorithms other than RSA for TLS (#1776)\n* Do not spit on the console 2nd stage (inspired by Debian) #1762\n* Unified and improved logging (#1742, #1767, #1802, #1806, #1807, #1826, #1843) - thanks to @aquesnel for this detailed work.\n* Other logging level fixes (#1864)\n* chansrv can now work on `DISPLAY=:0` so it can be used with x11vnc/Vino/etc sessions (#1849)\n\n## Bug fixes\n* Fix some regressions in sesman auth modules (#1769)\n* Minor manpage fixes (#1787)\n* Fix TS_PLAY_SOUND_PDU_DATA to set the correct frequency and duration (#1793)\n* Fix password leakage to logs in NeutrinoRDP module (#1872) - thanks to @TOMATO-ONE for reporting.\n\n## Internal changes\n* cppcheck version for CI bumped to 2.4 (#1771, #1836)\n* FreeBSD version for CI bumped to 12-2 (#1804)\n* Support for check unit test framework added (#1843, #1860)\n* FreeBSD FUSE module now compiles under CI but needs additional work (#1856)\n* Compilation support added for additional Debian platforms (#1818)\n* Refactoring:-\n   * Confusing preprocessor macro USE_NOPAM replaced with USE_PAM (#1800)\n   * Window manager states in xrdp executable now use symbolic constants instead of numbers (#1803)\n* Documentation improvements\n   * KRDC added to client list (#1817)\n   * Platform support tier added (#1822)\n   * README file revised (#1863)\n* Don't install test+development executables by default (#1858)\n\n## Changes for packagers\nThese changes are likely to impact operating system package builders and those building xrdp from source.\n* (#1843, #1860) This release introduces an additional optional compile-time dependency on the `check` unit test framework. The dependency is recommended when packaging for compile-time tests.\n* (#1858) The executables `memtest` and `tcp_proxy` are no longer copied to the sbin directory on a package install.\n\n## Known issues\n\n* On-the-fly resolution change requires the Microsoft Store version of Remote Desktop client but sometimes crashes on connect (#1869)\n* xrdp's login dialog is not relocated at the center of the new resolution after on-the-fly resolution change happens (#1867)\n\n-----------------------\n\n# Release notes for xrdp v0.9.15 (2020/12/28)\n\n## New features\n* Allow token sign in without autologon for SSO (#1667 #1668)\n* Norwegian keyboard support (#1675)\n* Improved config support for chansrv (#1635)\n* Unified chansrv, sesman and libxrdp logging (#1633 #1708 #1738) - thanks to @aquesnel\n* Support SUSE move to /usr/etc (#1702)\n* Parameters may now be specified for user-specified shell (#1270 #1695)\n* xrdp executables now allow alternative config files to be specified with -c (#1588 #1650 #1651)\n* sesrun improvements (#1741)\n* Drive redirection location can now be specified (#1048)\n* Now compiles on RISC-V (#1761)\n\n## Bug fixes\n* Additional buffer overflow checks (#1662)\n* FUSE support now builds on 32-bit platforms (#1682)\n* genkeymap array size conflict fixed (#1691)\n* Buffering issue with neutrinordp over a slow link fixed (#1608 1634)\n* Various documentation fixes (#1704 #1741 #1755 #1759)\n* Prevent PAM info message from causing authentication failure (#1727)\n* Cosmetic fixes for minor issues (#1751 #1755 #1749)\n* Try harder to clean up socket files on session exit (#1740 #1756)\n* xrdp-chansrv become defunct in docker while file copy (#1658)\n\n## Internal changes\n* Compilation warnings with newer compilers (#1659 #1680)\n* Continuation Integration checks on 32-bit platforms now include FUSE support (#1682)\n* Continuation Integration builds now default to the Ubuntu Focal platform (#1666)\n* FUSE type tidy-ups (#1686)\n* Switch from Travis CI to GitHub Actions (#1728 #1732)\n* Easier to set up console logging for utilities (#1711)\n\n-----------------------\n\n# Release notes for xrdp v0.9.14 (2020/08/31)\n\n## New features\n* VNC multi-monitor support if you are using a suitable Xvnc server #1343\n* VNC sessions now resize by default on reconnection if you are using a suitable Xvnc server #1343\n* Support Slackware for PAM #1558 #1560\n* Support Programmer Dvorak Keyboard #1663\n\n**[HEADS UP]** The VNC changes are significant. They described in more detail on the following wiki page.\n* [Xvnc backend : Multi monitor and resize support](https://github.com/neutrinolabs/xrdp/wiki/Xvnc-backend-:-Multi-monitor-and-resize-support)\n\n## Bug fixes\n* Fix odd shift key behavior (workaround) #397 #1522\n* Fix Xorg path in the document for Arch Linux #1448 #1529\n* Fix Xorg path in the document for CentOS 8 #1646 #1647\n* Fix internal username/password buffer is smaller than RDP protocol specification #1648 #1653\n* Fix possible memory out-of-bounds accesses #1549\n* Fix memory allocation overflow #1557\n* Prevent chansrv input channels being scanned during a server reset #1595\n* Ignore TS_MULTIFRAGMENTUPDATE_CAPABILITYSET from client if fp disabled #1593\n* Minor manpage fixes #1611\n\n## Other changes\n* CI error fixes \n* Introduce cppcheck\n\n## Known issues\n* FreeRDP 2.0.0-rc4 or later might not able to connect to xrdp due to\n  xrdp's bad-mannered behaviour, add `+glyph-cache` option to FreeRDP to connect #1266\n* Audio redirection by MP3 codec doesn't sound with some client, use AAC instead #965\n\n# Release notes for xrdp v0.9.13.1 (2020/06/30)\n\nThis is a security fix release that includes fixes for the following local buffer overflow vulnerability.\n\n* [CVE-2020-4044: Local users can perform a buffer overflow attack against the xrdp-sesman service and then impersonate it](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-4044)\n\nThis update is recommended for all xrdp users.\n\n## Special thanks\n\nThanks to [Ashley Newson](https://github.com/ashleynewson) reporting the vulnerability and reviewing fix.\n\n-----------------------\n\n# Release notes for xrdp v0.9.13 (2020/03/11)\n\nThis release is an intermediate bugfix release. The previous version v0.9.12 has some regressions on drive redirection.\n\n## Bug fixes (drive redirection related)\n* Fix chansrv crashes with segmentation fault (regression in #1449) #1487\n* Drive redirection now supports Guacamole client #1505 #1507\n* Prevent a coredump in the event of a corrupted file system #1507\n* Resolve double-free in `chansrv_fuse` #1469\n\n## Bug fixes (other)\n* Fix the issue `xrdp --version | less` will show empty output #1471 #1472\n* Fix some warnings found by cppcheck #1479 #1481 #1484 #1485\n\n## Other changes\n* Add FreeBSD CI test #1466\n* Move Microsoft-defined constants into separate includes #1470\n* Perform cppcheck during CI test #1493\n* Support mousex button 8/9 #1478\n\n## Known issues\n* FreeRDP 2.0.0-rc4 or later might not able to connect to xrdp due to\n  xrdp's bad-mannered behaviour, add `+glyph-cache` option to FreeRDP to connect #1266\n* Audio redirection by MP3 codec doesn't sound with some client, use AAC instead #965\n\n-----------------------\n\n# Release notes for xrdp v0.9.12 (2019/12/28)\n\n## Bug fixes\n* Fix \"The log reference is NULL\" error when sesman startup #1425\n* Fix behavior when shmem_id changes #1439\n* Make vsock config accept -1 for cid and port #1441\n* Cleanup refresh rect and check stream bounds #1437\n* Significant improvements in drive redirection #1449\n* Fix build on macOS Catalina #1462\n\n## Other changes\n* Proprietary microphone redirection via rdpsnd is now default off\n  RDP compatible microphone redirection is on instead #1427\n* Skip connecting to chansrv when no channels enabled #1393\n* Add openSUSE's pam rules #1442\n* Do not terminate xrdp daemon when caught SIGHUP #1319\n\n## Known issues\n* FreeRDP 2.0.0-rc4 or later might not able to connect to xrdp due to\n  xrdp's bad-mannered behaviour, add `+glyph-cache` option to FreeRDP to connect #1266\n* Audio redirection by MP3 codec doesn't sound with some client, use AAC instead #965\n\n# Release notes for xrdp v0.9.11 (2019/08/19)\n\n## New features\n* Suppress output (do not draw screen when client window is minimized) #1330\n* Audio input (microphone) redirection compatible with [MS-RDPEAI](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-rdpeai/d04ffa42-5a0f-4f80-abb1-cc26f71c9452) #1369\n* Now xrdp can listen on more than one port #1124 #1366\n\n## Bug fixes\n* Fix the issue audio redirection sometimes sounds with long delay  #1363\n* Check term event for more responsive shutdown #1372\n\n## Known issues\n* FreeRDP 2.0.0-rc4 or later might not able to connect to xrdp due to\n  xrdp's bad-mannered behaviour, add `+glyph-cache` option to FreeRDP to connect #1266\n* Audio redirection by MP3 codec doesn't sound with some client, use AAC instead #965\n\n-----------------------\n\n# Release notes for xrdp v0.9.11 (2019/08/19)\n\n## New features\n* Suppress output (do not draw screen when client window is minimized) #1330\n* Audio input (microphone) redirection compatible with [MS-RDPEAI](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-rdpeai/d04ffa42-5a0f-4f80-abb1-cc26f71c9452) #1369\n* Now xrdp can listen on more than one port #1124 #1366\n\n## Bug fixes\n* Fix the issue audio redirection sometimes sounds with long delay  #1363\n* Check term event for more responsive shutdown #1372\n\n## Known issues\n* FreeRDP 2.0.0-rc4 or later might not able to connect to xrdp due to\n  xrdp's bad-mannered behaviour, add `+glyph-cache` option to FreeRDP to connect #1266\n* Audio redirection by MP3 codec doesn't sound with some client, use AAC instead #965\n\n-----------------------\n\n# Release notes for xrdp v0.9.10 (2019/04/18)\n\n## Special thanks\nThank you for matt335672 contributing to lots of improvements in drive redirection!\n\n## New features\n* Restrict outbound (server->client) clipboard transfer, configured in `sesman.ini` #1298\n\n## Bug fixes\n* Fix the issue libscp v1 not setting width but height twice #1293\n* Fix the issue reconnecting to session causes duplicate drive entries in fuse fs #1299\n* Fix default_wm and reconnect_sh refer wrong path after sesman caught SIGUP #1315 #1331\n* Shutdown xrdp more responsively #1325\n* Improve remote file lookup in drive redirection #996 #1327\n* Overwriting & appending to existing files is are now supported #1327\n\n## Other changes\n* Add Danish Keyboard #1290\n* Put xrdp- prefix to some executables appear in man page #1313\n* Replace some URLs from SF.net to xrdp.org #1313\n\n## Known issues\n* FreeRDP 2.0.0-rc4 or later might not able to connect to xrdp due to\n  xrdp's bad-mannered behaviour, add `+glyph-cache` option to FreeRDP to connect #1266\n* Audio redirection by MP3 codec doesn't sound with some client, use AAC instead #965\n\n-----------------------\n\n# Release notes for xrdp v0.9.9 (2018/12/25)\n\n## Release cycle\nFrom the next release, release cycle will be changed from quarterly to every\n4 months. xrdp will be released in April, August, December.\n\n## New features\n* Disconnection by idle timeout (requires xorgxrdp v0.2.9 or later) #1227\n* Glyph cache v2 (fixes no font issue on iOS/macOS/Android client) #367 #1235\n\n## Bug fixes\n* Fix xrdp-chansrv crashes caused in drive redirection #1202 #1225\n* Fix build with FDK AAC v2 #1257\n* Do not enable RemoteApp if the INFO_RAIL flag is not set (RDP-RDP proxy) #1253\n\n## Other changes\n* Add Spanish Latin Amarican keyboard #1237 #1240 #1244\n* Dynamic channel improvements #1222 #1224\n* Remove some deprecated sesman session types #1232\n* Refactoring and cleanups\n\n## Known issues\n* FreeRDP 2.0.0-rc4 or later might not able to connect to xrdp due to\n  xrdp's bad-mannered behaviour, add `+glyph-cache` option to FreeRDP to connect #1266\n* Audio redirection by MP3 codec doesn't sound with some client, use AAC instead #965\n\n-----------------------\n\n# Release notes for xrdp v0.9.8 (2018/09/25)\n\n## Deprecation notice\nWe removed TLSv1 and TLSv1.1 from the default config. The current default is TLSv1.2\nand TLSv1.3. Users can whenever re-enable these early TLS versions by editing xrdp.\nTo use TLSv1.3, OpenSSL or LibreSSL must support TLSv1.3. You can know the OpenSSL\nor LibreSSL version by `xrdp --version` command that compiled with xrdp.\n\n## Other topics\n\nPulseaudio modules has been removed from xrdp source tree since it is actually\nindependent and not part of xrdp. The repository has been moved to:\nhttps://github.com/neutrinolabs/pulseaudio-module-xrdp\n\nIf you want to use audio redirection, make sure install the module separately.\n\n## New features\n* Add TLSv1.3 support #1193\n\n## Bug fixes\n* Ensure unmount redirected drive on fatal X error #1140\n\n## Other changes\n* Show more helpful message if xrdp-dis failed #1206\n* Pass pulse socket name via environment variable #1198\n* Fix xrdp's log path in man page #1168\n\n# Release notes for xrdp v0.9.7 (2018/06/29)\n\n## Deprecation notice\nx11rdp has been removed from xrdp reposiory and stored in the separate repository.\nCheckout [x11rdp repository](https://github.com/neutrionlabs/x11rdp) if you still need x11rdp.\nIn most cases, [xorgxrdp](https://github.com/neutrinolabs/xorgxrdp) can replace x11rdp.\n\n## Bug fixes\n* Fix endianness detection on ppc64el #1082\n* Fix a bug xrdp file copy slow #1112 #1132\n* Copy the PAM session environment for the reconnect script #1120\n* Accept fullpath for DefaultWindowManager, ReconnectScript #1147\n\n## Other changes\n* Add PAM support for Arch Linux #1078\n* Show OpenSSL version to '--version' CLI option #1096\n* Separate x11rdp from xrdp repository #1104\n* Support sesrun start xorgxrdp sessions #1108\n* Show configure summary when configure is done #1126 #1134 #1137\n* Less spit on the console when sesman starts #1142\n* Fix memory leaks #1146\n* Separate rc script for FreeBSD into xrdp and xrdp-sesman #1153\n* Improve documents and helps\n\n## Known issues\n* Audio redirection by MP3 codec doesn't sound with some client, use AAC instead #965\n\n-----------------------\n\n# Release notes for xrdp v0.9.6 (2018/03/26)\n\n## Compatibility notice\nExclamation mark (`!`) has been removed from comment out symbol of config files.\nUse number sign (`#`) or semicolon (`;`) instead. As a result of this change, now\nyou can use exclamation mark as config value such as in `tls_ciphers`.\n\n```\ntls_ciphers=HIGH:!aNULL:!eNULL:!EXPORT:!RC4\n```\n\nSee also: #1033\n\n## macOS supports\nPlease note that xrdp still doesn't support macOS officially so far.\nHowever, a volunteer is working on macOS compatibility.\n\n* Generate dylibs for macOS #1015\n* Add PAM support for macOS #1021\n\n## Bug fixes\n* Make listen check before daemon fork #988\n* Fix xrdp sometimes become zombie processes #1000\n* Include hostname in sesman password file name #1006 #1007 #1076\n* Fix default startwm.sh to use bash explicitly #1009 #1049\n* Fix the issue FreeBSD doesn't acknowledge terminated sessions #1016 #1030\n\n## Other changes\n* Add Swiss French keyboard #1053\n* Improve perfect forward secrecy, explicitly enable ECDHE/DHE #1024 #1052 #1063\n* Lots of leak fixes, cleanups and refactoring\n\n## Known issues\n* Audio redirection by MP3 codec doesn't sound with some client, use AAC instead #965\n\n-----------------------\n\n# Release notes for xrdp v0.9.5 (2017/12/27)\n\n## Security fixes\n* Fix local denial of service [CVE-2017-16927](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-16927) #958 #979\n\n## New features\n* Add a new log level TRACE more verbose than DEBUG #835 #944\n* SSH agent forwarding via RDP #867 #868 FreeRDP/FreeRDP#4122\n* Support horizontal wheel properly #928\n\n## Bug fixes\n\n* Avoid use of hard-coded sesman port #895\n* Workaround for corrupted display with Windows Server 2008 using NeutrinoRDP #869\n* Fix glitch in audio redirection by AAC #910 #936\n* Implement vsock support #930 #935 #948\n* Avoid 100% CPU usage on SSL accept #956\n\n## Other changes\n* Add US Dvorak keyboard #929\n* Suppress some misleading logs #964\n* Add Finnish keyboard #972\n* Add more user-friendlier description about Xorg config #974\n* Renew pulseaudio document #984 #985\n* Lots of cleanups and refactoring\n\n## Known issues\n* Audio redirection by MP3 codec doesn't sound with some client, use AAC instead #965\n\n-----------------------\n\n# Release notes for xrdp v0.9.4 (2017/09/28)\n\n## New features\n  * Accept prefill credentials in base64 form #153 #811\n  * Indroduce AAC encoder to audio redirection (requires Windows 10 client)\n\n## Bugfixes\n  * Fix ocasional SEGV in drive redirection #838\n  * Fix client's IP addresses in xrdp-sesman.log are always logged as `0.0.0.0` #878 #882\n  * Fix `ls_background_image` didn't accept full path #776 #853\n  * Fix misuse of hidelogwindow #414 #876\n  * Fix WTSVirtualChannelWrite return code #859\n  * Fix no longer needed socket files remained in the socket dir #812 #831\n  * Make creating socket path a bit more robust #823\n\n## Other changes\n  * Add Belgian keyboard #858\n  * Add a PAM file for FreeBSD #824\n  * Several refactorings and cosmetic changes\n\n## Known issues\n  * Windows 10 (1703) shows black blank screen in RemoteFX mode\n   * This issue is already fixed at Insider Preview build 16273\n\n-----------------------\n\n# Release notes for xrdp v0.9.3.1 (2017/08/16)\n\nThis release fixes a trivial packaging issue #848 occurred in v0.9.3.  The issue only affects systemd systems.  This release is principally for distro packagers or users who compile & install xrdp from source.\n\nUsers who running xrdp on these systems don't need to upgrade from v0.9.3 to v0.9.3.1.\n\n* Linux systems without systemd\n* non-Linux systems such as BSD operating systems\n\n-----------------------\n\n# Release notes for xrdp v0.9.3 (2017/07/15)\n\n## New features\n  * Log user-friendly messages when certificate/privkey is inaccessible\n\n## Bugfixes\n  * Now sesman sets mandatory LOGNAME environment variable #725\n  * Now sesman ensures socket directory present #801\n  * Exit with failure status if port already in use #644\n  * Eliminate some hard coded paths\n  * Fix glitches with IPv4 struct initialization #803\n  * Fix some keyboard layout integration (UK, Spanish)\n  * Fix handle OS when IPv6 disabled #714\n  * Fix issues around systemd session #778\n  * Fix protocol error when 32 bit color and non RemoteFX session #737 #804\n  * Fix sesadmin shows error when no sessions #797\n  * Fix TLS spins 100% CPU #728\n  * Fix Xvnc backend disconnects when some data copied to clipboard #755\n  * Pick up the first section if given section(domain) doesn't match anything #750\n\n## Other changes\n  * Change xrdp-chansrv log path to include display number\n  * Optimize startwm.sh for SUSE\n  * Several cleanups and optimizations\n\n## Known issues\n  * Windows 10 (1703) shows black blank screen in RemoteFX mode\n\n-----------------------\n\n# Release notes for xrdp v0.9.2 (2017/03/30)\n## New features\n  * RemoteFX codec support is now enabled by default.\n  * Bitmap updates support is now enabled by default.\n  * TLS ciphers suites and version is now logged.\n  * Connected computer name is now logged.\n  * Switched to Xorg (xorgxrdp) as the default backend now.\n  * Miscellaneous RemoteFX codec mode improvements.\n  * Socket directory is configurable at the compile time.\n\n## Bugfixes\n  * Parallels client for MacOS / iOS can now connect (audio redirection must be disabled on client or xrdp server though).\n  * MS RDP client for iOS can now connect using TLS security layer.\n  * MS RDP client for Android can now connect to xrdp.\n  * Large resolutions (4K) can be used with RemoteFX graphics.\n  * Multiple RemoteApps can be opened throguh NeutrinoRDP proxy.\n  * tls_ciphers in xrdp.ini is not limited to 63 chars anymore, it's variable-length.\n  * Fixed an issue where tls_ciphers were ignored and rdp security layer could be used instead.\n  * Kill disconnected sessions feature is working with Xorg (xorgxrdp) backend.\n  * Miscellaneous code cleanup and memory issues fixes.\n\n-----------------------\n\n# Release notes for xrdp v0.9.1 (2016/12/21)\n## New features\n  * New xorgxrdp backend using existing Xorg with additional modules\n  * Improvements to X11rdp backend\n  * Support for IPv6 (disabled by default)\n  * Initial support for RemoteFX Codec (disabled by default)\n  * Support for TLS security layer (preferred over RDP layer if supported by the client)\n  * Support for disabling deprecated SSLv3 protocol and for selecting custom cipher suites in xrdp.ini\n  * Support for bidirectional fastpath (enabled in both directions by default)\n  * Support clients that don't support drawing orders, such as MS RDP client for Android, ChromeRDP (disabled by default)\n  * More configurable login screen\n  * Support for new virtual channels:\n      * rdpdr: device redirection\n      * rdpsnd: audio output\n      * cliprdr: clipboard\n      * xrdpvr: xrdp video redirection channel (can be used along with NeutrinoRDP client)\n  * Support for disabling virtual channels globally or by session type\n  * Allow to specify the path for backends (Xorg, X11rdp, Xvnc)\n  * Added files for systemd support\n  * Multi-monitor support\n  * xrdp-chansrv stroes logs in `${XDG_DATA_HOME}/xrdp` now\n\n## Security fixes\n  * User's password could be recovered from the Xvnc password file\n  * X11 authentication was not used\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 5.76953125,
          "content": "[![Build Status](https://github.com/neutrinolabs/xrdp/actions/workflows/build.yml/badge.svg)](https://github.com/neutrinolabs/xrdp/actions)\n[![Gitter](https://badges.gitter.im/Join%20Chat.svg)](https://gitter.im/neutrinolabs/xrdp-questions)\n![Apache-License](https://img.shields.io/badge/License-Apache%202.0-blue.svg)\n\n[![Latest Version](https://img.shields.io/github/v/release/neutrinolabs/xrdp.svg?label=Latest%20Version)](https://github.com/neutrinolabs/xrdp/releases)\n\n# xrdp - an open source RDP server\n\n## Overview\n\n**xrdp** provides a graphical login to remote machines using Microsoft\nRemote Desktop Protocol (RDP). xrdp accepts connections from a variety of RDP clients:\n  * FreeRDP\n  * rdesktop\n  * KRDC\n  * NeutrinoRDP\n  * Windows MSTSC (Microsoft Terminal Services Client, aka `mstsc.exe`)\n  * Microsoft Remote Desktop (found on Microsoft Store, which is distinct from MSTSC)\n\nMany of these work on some or all of Windows, Mac OS, iOS, and/or Android.\n\nRDP transport is encrypted using TLS by default.\n\n![demo](https://github.com/neutrinolabs/xrdp/raw/gh-pages/xrdp_demo.gif)\n\n## Features\n\n### Remote Desktop Access\n\n * Connect to a Linux desktop using RDP from anywhere (requires\n   [xorgxrdp](https://github.com/neutrinolabs/xorgxrdp) Xorg module)\n * Reconnect to an existing session\n * Session resizing (both on-connect and on-the-fly)\n * RDP/VNC proxy (connect to another RDP/VNC server via xrdp)\n\n### Access to Remote Resources\n * Two-way clipboard transfer (text, bitmap, file)\n * Audio redirection ([requires to build additional modules](https://github.com/neutrinolabs/xrdp/wiki/How-to-set-up-audio-redirection))\n * Microphone redirection ([requires to build additional modules](https://github.com/neutrinolabs/xrdp/wiki/How-to-set-up-audio-redirection))\n * Drive redirection (mount local client drives on remote machine)\n\n## Supported Platforms\n\n**xrdp** primarily targets GNU/Linux operating system. x86 (including x86-64)\nand ARM processors are most mature architecture to run xrdp on.\nSee also [Platform Support Tier](https://github.com/neutrinolabs/xrdp/wiki/Platform-Support-Tier).\n\nSome components such as xorgxrdp and RemoteFX codec have special optimization\nfor x86 using SIMD instructions. So running xrdp on x86 processors will get\nfully accelerated experience.\n\n## Quick Start\n\nMost Linux distributions should distribute the latest release of xrdp in their\nrepository. You would need xrdp and xorgxrdp packages for the best\nexperience. It is recommended that xrdp depends on xorgxrdp, so it should\nbe sufficient to install xrdp. If xorgxrdp is not provided, use Xvnc\nserver.\n\nxrdp listens on 3389/tcp. Make sure your firewall accepts connection to\n3389/tcp from where you want to access.\n\n### Ubuntu / Debian\n```bash\napt install xrdp\n```\n\n### Fedora, RHEL and derivatives\n\nIf you're not running Fedora, make sure to enable EPEL packages first.\n\n```bash\ndnf install epel-release\n```\n\n(All systems) Install xrdp with:-\n\n```bash\ndnf install xrdp\n```\n\n## Compiling\n\nSee also https://github.com/neutrinolabs/xrdp/wiki#building-from-sources\n\n### Prerequisites\n\nTo compile xrdp from the packaged sources, you need basic build tools - a\ncompiler (**gcc** or **clang**) and the **make** program.  Additionally,\nyou would need **openssl-devel**, **pam-devel**, **libX11-devel**,\n**libXfixes-devel**, **libXrandr-devel**. More additional software would\nbe needed depending on your configuration.\n\nTo compile xrdp from a checked out git repository, you would additionally\nneed **autoconf**, **automake**, **libtool** and **pkg-config**.\n\n### Get the source and build it\n\nIf compiling from the packaged source, unpack the tarball and change to the\nresulting directory.\n\nIf compiling from a checked out repository, please make sure you've got the submodules\ncloned too (use `git clone --recursive https://github.com/neutrinolabs/xrdp`)\n\nThen run following commands to compile and install xrdp:\n```bash\n./bootstrap\n./configure\nmake\nsudo make install\n```\n\nIf you want to use audio redirection, you need to build and install additional\npulseaudio modules. The build instructions can be found at wiki.\n\n* [How to set up audio redirection](https://github.com/neutrinolabs/xrdp/wiki/How-to-set-up-audio-redirection)\n\n## Directory Structure\n\n```\nxrdp\n├── common ······ common code\n├── docs ········ documentation\n├── fontutils ··· font handling utilities\n├── genkeymap ··· keymap generator\n├── instfiles ··· installable data file\n├── keygen ······ xrdp RSA key pair generator\n├── libpainter ·· painter library\n├── librfxcodec · RFX codec library\n├── libxrdp ····· core RDP protocol implementation\n├── m4 ·········· Autoconf macros\n├── mc ·········· media center module\n├── neutrinordp · RDP client module for proxying RDP connections using NeutrinoRDP\n├── pkgconfig ··· pkg-config configuration\n├── scripts ····· build scripts\n├┬─ sesman ······ session manager for xrdp\n|├── chansrv ···· channel server for xrdp\n|├── libsesman ·· Code common to sesman and its related executables\n|└── tools ······ session management tools for sys admins\n├── tests ······· tests for the code\n├┬─ tools ······· tools\n|└┬─ devel ······ development tools\n| ├── gtcp_proxy  GTK app that forwards TCP connections to a remote host\n| └── tcp_proxy · CLI app that forwards TCP connections to a remote host\n├── vnc ········· VNC client module for xrdp\n├── vrplayer ···· QT player redirecting video/audio to clients over xrdpvr channel\n├── xrdp ········ main server code\n├── xrdpapi ····· virtual channel API\n├── xrdpvr ······ API for playing media over RDP\n└── xup ········· xorgxrdp client module\n```\n"
        },
        {
          "name": "SECURITY.md",
          "type": "blob",
          "size": 0.59375,
          "content": "# Security Policy\n\n## Reporting a Vulnerability\n\nPlease DO NOT report any security issues to public GitHub issue.\n\nIf you find a security vulnerability please kindly inform us via [Report Form](https://github.com/neutrinolabs/xrdp/security/advisories/new) so that we can fix the security problem to protect a lot of users around the world as soon as possible.\n\nIf you have anything else you want to report privately to developers, send us an email to the following email address. This is a private mailing list not open for public viewing.\n\n* [xrdp-core@googlegroups.com](mailto:xrdp-core@googlegroups.com)\n\n"
        },
        {
          "name": "astyle_config.as",
          "type": "blob",
          "size": 1.49609375,
          "content": "\n# detached brackets\n--style=allman\n\n# 4 spaces, no tabs\n--indent=spaces=4\n\n# for C++ files only\n--indent-classes\n\n# Indent 'switch' blocks so that the 'case X:' statements are indented in the switch block.\n# The entire case block is indented.\n--indent-switches\n\n# Add extra indentation to namespace blocks. This option has no effect on Java files.\n--indent-namespaces\n\n# Converts tabs into spaces in the non-indentation part of the line.\n--convert-tabs\n\n# requires --convert-tabs to work properly\n--indent-preproc-define\n\n--indent-col1-comments\n\n--min-conditional-indent=2\n\n--max-continuation-indent=40\n\n# Insert space padding around operators.\n--pad-oper\n\n# Insert space padding after paren headers only (e.g. 'if', 'for', 'while'...).\n--pad-header\n\n\n# Add brackets to unbracketed one line conditional statements (e.g. 'if', 'for', 'while'...).\n--add-braces\n\n--align-pointer=name\n\n# Do not retain a backup of the original file. The original file is purged after it is formatted.\n--suffix=none\n\n# For each directory in the command line, process all subdirectories recursively.\n--recursive\n\n# Exclude git submodule directories and generated files.\n--exclude=libpainter\n--exclude=librfxcodec\n--exclude=xrdp_configure_options.h\n\n# ignore errors from generated files that do not exist\n--ignore-exclude-errors\n\n# Preserve the original file's date and time modified.\n--preserve-date\n\n# Formatted files display mode. Display only the files that have been formatted.\n# Do not display files that are unchanged.\n--formatted\n\n--lineend=linux\n"
        },
        {
          "name": "bootstrap",
          "type": "blob",
          "size": 0.654296875,
          "content": "#!/bin/sh\n\ncommand -v autoconf\nif ! test $? -eq 0\nthen\n  echo \"error, install autoconf\"\n  exit 1\nfi\n\ncommand -v automake\nif ! test $? -eq 0\nthen\n  echo \"error, install automake\"\n  exit 1\nfi\n\ncommand -v libtool || command -v libtoolize\nif ! test $? -eq 0\nthen\n  echo \"error, install libtool\"\n  exit 1\nfi\n\ncommand -v pkg-config\nif ! test $? -eq 0\nthen\n  echo \"error, install pkg-config\"\n  exit 1\nfi\n\nif ! test -f libpainter/configure.ac\nthen\n  git submodule update --init libpainter\nfi\n\nif ! test -f librfxcodec/configure.ac\nthen\n  git submodule update --init librfxcodec\nfi\n\nif ! test -f ulalaca/Makefile.am\nthen\n  git submodule update --init ulalaca\nfi\n\nautoreconf -fvi\n"
        },
        {
          "name": "coding_style.md",
          "type": "blob",
          "size": 3.1025390625,
          "content": "XRdp Coding Style\n=================\n\nThe coding style used by XRdp is described below.\n\nThe XRdp project uses astyle (artistic style) to format the code. Astyle\nrequires a configuration file that describes how you want your code\nformatted. This file is present in the XRdp root directory and is named\n`astyle_config.as`.\n\nHere is how we run the astyle command:\n\n    astyle --options=/path/to/file/astyle_config.as \"*.c\"\n\nThis coding style is a work in progress and is still evolving.\n\n\nLanguage Standard\n-----------------\n\nTry to make all code compile with both C and C++ compiler. C++ is more\nstrict, which makes the code safer.\n\n\nIndentation\n-----------\n\n* 4 spaces per indent\n* No tabs for any indents\n\n☞\n\n    if (fd < 0)\n    {\n        return -1;\n    }\n\n\nLine wrapping\n-------------\n\n* Keep lines not longer than 80 chars\n* Align wrapped argument to the first argument\n\n☞\n\n    log_message(\"connection aborted: error %d\",\n                ret);\n\n\nVariable names\n--------------\n\n* Use lowercase with underscores as needed\n* Don't use camelCase\n* Preprocessor constants should be uppercase\n\n☞\n\n    #define BUF_SIZE 1024\n    int fd;\n    int bytes_in_stream;\n\n\nVariable declaration\n--------------------\n\n* Each variable is declared on a separate line\n\n☞\n\n    int i;\n    int j;\n\n\nWhitespace\n----------\n\n* Use blank lines to group statements\n* Use at most one empty line between statements\n* For pointers and references, use a single space before * or & but not after\n* Use one space after a cast\n* No space before square brackets\n\n☞\n\n    char *cptr;\n    int *iptr;\n    cptr = (char *) malloc(1024);\n\n    write(fd, &buf[12], 16);\n\n\nFunction declarations\n---------------------\n\n* Use newline before function name\n\n☞\n\n    static int\n    value_ok(int val)\n    {\n        return (val >= 0);\n    }\n\n\nBraces\n------\n\n* Opening brace is always on a separate line\n* Align braces with the line preceding the opening brace\n\n☞\n\n    struct stream\n    {\n        int flags;\n        char *data;\n    };\n\n    void\n    process_data(struct stream *s)\n    {\n        if (stream == NULL)\n        {\n            return;\n        }\n    }\n\n\n`if` statements\n---------------\n\n* Always use braces\n* Put both braces on separate lines\n\n☞\n\n    if (val <= 0xff)\n    {\n        out_uint8(s, val);\n    }\n    else if (val <= 0xffff)\n    {\n        out_uint16_le(s, val);\n    }\n    else\n    {\n        out_uint32_le(s, val);\n    }\n\n\n`for` statements\n----------------\n\n* Always use braces\n* Put both braces on separate lines\n\n☞\n\n    for (i = 0; i < 10; i++)\n    {\n        printf(\"i = %d\\n\", i);\n    }\n\n\n`while` and `do while` statements\n---------------------------------\n\n* Always use braces\n* `while` after the closing brace is on the same line\n\n☞\n\n    while (cptr)\n    {\n        cptr—;\n    }\n\n    do\n    {\n        cptr--;\n    } while (cptr);\n\n\n`switch` statements\n-------------------\n\n* Indent `case` once\n* Indent statements under `case` one more time\n* Put both braces on separate lines\n\n☞\n\n    switch (cmd)\n    {\n        case READ:\n            read(fd, buf, 1024);\n            break;\n\n        default:\n            printf(\"bad cmd\\n\");\n    }\n\nComments\n--------\n\nUse /* */ for comments\nDon't use //\n"
        },
        {
          "name": "common",
          "type": "tree",
          "content": null
        },
        {
          "name": "configure.ac",
          "type": "blob",
          "size": 24.5546875,
          "content": "# Process this file with autoconf to produce a configure script\n\nAC_PREREQ([2.69])\nAC_INIT([xrdp], [0.10.80], [xrdp-devel@googlegroups.com])\nAC_DEFINE([VERSION_YEAR], 2025, [Copyright year])\nAC_CONFIG_HEADERS(config_ac.h:config_ac-h.in)\nAM_INIT_AUTOMAKE([1.7.2 foreign])\nAC_CONFIG_MACRO_DIR([m4])\nAC_USE_SYSTEM_EXTENSIONS\nAC_PROG_CC\nAC_PROG_CXX\nLT_INIT\n\nPKG_PROG_PKG_CONFIG\nif test \"x$PKG_CONFIG\" = \"x\"; then\n  AC_MSG_ERROR([please install pkg-config])\nfi\n\nAC_CONFIG_SUBDIRS([libpainter librfxcodec])\n\n# Use silent rules by default if supported by Automake\nm4_ifdef([AM_SILENT_RULES], [AM_SILENT_RULES([yes])])\n\ncase $host_os in\n\t*linux*)\n\t\tlinux=yes\n\t\t;;\n\t*kfreebsd*)\n\t\tlinux=yes # only used in instfiles/ so that’s ok for us for now\n\t\t;;\n\t*freebsd*)\n\t\tfreebsd=yes\n\t\t;;\n\t*netbsd*)\n\t\tnetbsd=yes\n\t\t;;\n\t*openbsd*)\n\t\topenbsd=yes\n\t\t;;\n\t*darwin*)\n\t\tmacos=yes\n\t\t;;\nesac\n\nAM_CONDITIONAL(LINUX, [test \"x$linux\" = xyes])\nAM_CONDITIONAL(FREEBSD, [test \"x$freebsd\" = xyes])\nAM_CONDITIONAL(OPENBSD, [test \"x$openbsd\" = xyes])\nAM_CONDITIONAL(NETBSD, [test \"x$netbsd\" = xyes])\nAM_CONDITIONAL(MACOS, [test \"x$macos\" = xyes])\n\nAC_CHECK_SIZEOF([int])\nAC_CHECK_SIZEOF([long])\nAC_CHECK_SIZEOF([void *])\n\n# runstatedir not available for autoconf <= 2.69\nif test \"x$runstatedir\" = \"x\" ; then\n    runstatedir='${localstatedir}/run'\nfi\n\nAC_ARG_WITH([socketdir],\n  [AS_HELP_STRING([--with-socketdir=DIR],\n                  [Use directory for UNIX sockets for XRDP sessions (default: RUNSTATEDIR/xrdp)])],\n                  [], [with_socketdir=\"$runstatedir/xrdp\"])\nAC_SUBST([socketdir], [$with_socketdir])\n\nAC_ARG_WITH([systemdsystemunitdir],\n        AS_HELP_STRING([--with-systemdsystemunitdir=DIR], [Directory for systemd service files, no to disable]),\n        [], [\nif test \"x$linux\" = xyes; then\n  with_systemdsystemunitdir=$($PKG_CONFIG --variable=systemdsystemunitdir systemd)\nfi\n])\n\nif test \"x$with_systemdsystemunitdir\" != xno; then\n        AC_SUBST([systemdsystemunitdir], [$with_systemdsystemunitdir])\nfi\nAM_CONDITIONAL(HAVE_SYSTEMD, [test -n \"$with_systemdsystemunitdir\" -a \"x$with_systemdsystemunitdir\" != xno ])\n\nAC_ARG_ENABLE(tests,\n              AS_HELP_STRING([--enable-tests],\n              [Ensure dependencies for the tests are installed]),\n              [ensure_tests_deps=yes], [])\nAC_ARG_ENABLE(pam, AS_HELP_STRING([--enable-pam],\n              [Build PAM support (default: yes)]),\n              [], [enable_pam=yes])\nAM_CONDITIONAL(SESMAN_NOPAM, [test x$enable_pam != xyes])\nAC_ARG_ENABLE(vsock, AS_HELP_STRING([--enable-vsock],\n              [Build AF_VSOCK support (default: no)]),\n              [], [enable_vsock=no])\nAC_ARG_ENABLE(ipv6, AS_HELP_STRING([--enable-ipv6],\n              [Build IPv6 support (default: no, experimental)]),\n              [], [enable_ipv6=no])\nAC_ARG_ENABLE(ipv6only, AS_HELP_STRING([--enable-ipv6only],\n              [Build IPv6-only (default: no)]),\n              [], [enable_ipv6only=no])\nAC_ARG_ENABLE(kerberos, AS_HELP_STRING([--enable-kerberos],\n              [Build kerberos support (prefer --enable-pam if available) (default: no)]),\n              [], [enable_kerberos=no])\nAC_ARG_ENABLE(bsd, AS_HELP_STRING([--enable-bsd],\n              [Build BSD auth support (default: no)]),\n              [bsd=true], [bsd=false])\nAM_CONDITIONAL(SESMAN_BSD, [test x$bsd = xtrue])\nAM_CONDITIONAL(SESMAN_KERBEROS, [test x$enable_kerberos = xyes])\nAC_ARG_ENABLE(pamuserpass, AS_HELP_STRING([--enable-pamuserpass],\n              [Build PAM userpass support (default: no)]),\n              [], [enable_pamuserpass=no])\nAM_CONDITIONAL(SESMAN_PAMUSERPASS, [test x$enable_pamuserpass = xyes])\nAC_ARG_ENABLE(pam-config, AS_HELP_STRING([--enable-pam-config=CONF],\n              [Select PAM config to install: arch, debian, redhat, suse, freebsd, macos, unix\n               (default: autodetect)]))\n\n# Development options. devel_all is first as this provides a default for\n# the others\nAC_ARG_ENABLE(devel_all, AS_HELP_STRING([--enable-devel-all],\n              [Enable all development options (default: no)]),\n              [devel_all=$enableval], [devel_all=no])\nAC_ARG_ENABLE(devel_debug, AS_HELP_STRING([--enable-devel-debug],\n              [Build exes with no optimisation and debugging symbols (default: no)]),\n              [devel_debug=$enableval], [devel_debug=$devel_all])\nAM_CONDITIONAL(DEVEL_DEBUG, [test x$devel_debug = xyes ])\nAC_ARG_ENABLE(devel_logging, AS_HELP_STRING([--enable-devel-logging],\n              [Enable development logging (default: no)]),\n              [devel_logging=$enableval], [devel_logging=$devel_all])\nAC_ARG_ENABLE(devel_streamcheck, AS_HELP_STRING([--enable-devel-streamcheck],\n              [Add range-check/abort to stream primitives (default: no)]),\n              [devel_streamcheck=$enableval], [devel_streamcheck=$devel_all])\n\nAC_ARG_ENABLE(neutrinordp, AS_HELP_STRING([--enable-neutrinordp],\n              [Build neutrinordp module (default: no)]),\n              [], [enable_neutrinordp=no])\nAM_CONDITIONAL(XRDP_NEUTRINORDP, [test x$enable_neutrinordp = xyes])\n\nAC_ARG_ENABLE(ulalaca, AS_HELP_STRING([--enable-ulalaca],\n              [Build ulalaca module (experimental) (default: no)]),\n              [], [enable_ulalaca=no])\nAM_CONDITIONAL(XRDP_ULALACA, [test x$enable_ulalaca = xyes])\n\nAC_ARG_ENABLE(jpeg, AS_HELP_STRING([--enable-jpeg],\n              [Build jpeg module (default: no)]),\n              [], [enable_jpeg=no])\nAM_CONDITIONAL(XRDP_JPEG, [test x$enable_jpeg = xyes])\nAC_ARG_ENABLE(tjpeg, AS_HELP_STRING([--enable-tjpeg],\n              [Build turbo jpeg module (default: no)]),\n              [], [enable_tjpeg=no])\nAM_CONDITIONAL(XRDP_TJPEG, [test x$enable_tjpeg = xyes])\nAC_ARG_ENABLE(fuse, AS_HELP_STRING([--enable-fuse],\n              [Build fuse(clipboard file / drive redir) (default: no)]),\n              [], [enable_fuse=no])\nAM_CONDITIONAL(XRDP_FUSE, [test x$enable_fuse = xyes])\nAC_ARG_ENABLE(xrdpvr, AS_HELP_STRING([--enable-xrdpvr],\n              [Build xrdpvr module (default: no)]),\n              [], [enable_xrdpvr=no])\nAM_CONDITIONAL(XRDP_XRDPVR, [test x$enable_xrdpvr = xyes])\nAC_ARG_ENABLE(fdkaac, AS_HELP_STRING([--enable-fdkaac],\n              [Build aac(audio codec) (default: no)]),\n              [], [enable_fdkaac=no])\nAM_CONDITIONAL(XRDP_FDK_AAC, [test x$enable_fdkaac = xyes])\nAC_ARG_ENABLE(opus, AS_HELP_STRING([--enable-opus],\n              [Build opus(audio codec) (default: no)]),\n              [], [enable_opus=no])\nAM_CONDITIONAL(XRDP_OPUS, [test x$enable_opus = xyes])\nAC_ARG_ENABLE(mp3lame, AS_HELP_STRING([--enable-mp3lame],\n              [Build lame mp3(audio codec) (default: no)]),\n              [], [enable_mp3lame=no])\nAM_CONDITIONAL(XRDP_MP3LAME, [test x$enable_mp3lame = xyes])\nAC_ARG_ENABLE(ibus, AS_HELP_STRING([--enable-ibus],\n              [Allow unicode input via IBus) (default: no)]),\n              [], [enable_ibus=no])\nAM_CONDITIONAL(XRDP_IBUS, [test x$enable_ibus = xyes])\nAC_ARG_ENABLE(pixman, AS_HELP_STRING([--enable-pixman],\n              [Use pixman library (default: no)]),\n              [], [enable_pixman=no])\nAM_CONDITIONAL(XRDP_PIXMAN, [test x$enable_pixman = xyes])\nAC_ARG_ENABLE(x264, AS_HELP_STRING([--enable-x264],\n              [Use x264 library (default: no)]),\n              [], [enable_x264=no])\nAM_CONDITIONAL(XRDP_X264, [test x$enable_x264 = xyes])\nAC_ARG_ENABLE(openh264, AS_HELP_STRING([--enable-openh264],\n              [Use Cisco OpenH264 library (default: no)]),\n              [], [enable_openh264=no])\nAM_CONDITIONAL(XRDP_OPENH264, [test x$enable_openh264 = xyes])\nAC_ARG_ENABLE(painter, AS_HELP_STRING([--disable-painter],\n              [Do not use included painter library (default: no)]),\n              [], [enable_painter=yes])\nAM_CONDITIONAL(XRDP_PAINTER, [test x$enable_painter = xyes])\n\nAC_ARG_ENABLE(rfxcodec, AS_HELP_STRING([--disable-rfxcodec],\n              [Do not use included librfxcodec library (default: no)]),\n              [], [enable_rfxcodec=yes])\nAM_CONDITIONAL(XRDP_RFXCODEC, [test x$enable_rfxcodec = xyes])\n\nAC_ARG_ENABLE(rdpsndaudin, AS_HELP_STRING([--enable-rdpsndaudin],\n              [Use rdpsnd audio in (default: no)]),\n              [], [enable_rdpsndaudin=no])\nAM_CONDITIONAL(XRDP_RDPSNDAUDIN, [test x$enable_rdpsndaudin = xyes])\n\nAC_ARG_ENABLE(utmp, AS_HELP_STRING([--enable-utmp],\n              [Update utmp (default: no)]),\n              [], [enable_utmp=no])\nAM_CONDITIONAL(XRDP_UTMP, [test x$enable_utmp = xyes])\n\nAC_ARG_WITH(imlib2, AS_HELP_STRING([--with-imlib2=ARG], [imlib2 library to use for non-BMP backgrounds (ARG=yes/no/<abs-path>)]),,)\n\nAC_ARG_WITH(freetype2, AS_HELP_STRING([--with-freetype2=ARG], [freetype2 library to use for rendering fonts (ARG=yes/no/<abs-path>)]),,)\n\n# Obsolete options\nAC_ARG_ENABLE(xrdpdebug, AS_HELP_STRING([--enable-xrdpdebug],\n              [This option is no longer supported - use --enable-devel-all]))\n\nif test \"x$enable_xrdpdebug\" != x; then\n  AC_MSG_ERROR([--enable-xrdpdebug must be replaced with one or more --enable-devel-* options])\nfi\n\n# configure compiler options and CFLAGS\nAX_GCC_FUNC_ATTRIBUTE([format])\nAX_TYPE_SOCKLEN_T\nAX_CFLAGS_WARN_ALL\nAX_APPEND_COMPILE_FLAGS([-Wwrite-strings])\nAX_APPEND_COMPILE_FLAGS([-Wmissing-prototypes], ,[-Werror])\n\nAM_COND_IF([LINUX],\n  [AX_APPEND_COMPILE_FLAGS([-Werror])]) # bsd has warnings that have not been fixed yet\n\nAM_COND_IF([DEVEL_DEBUG],\n  [AX_APPEND_COMPILE_FLAGS([-g -O0])],\n  [AX_APPEND_COMPILE_FLAGS([-O2])])\n\n# Function setusercontext() is in BSD -lutil but N/A on Solaris or GNU systems\nAC_SEARCH_LIBS([setusercontext], [util])\n\n# Define HAVE_XXXXX macros for some system functions\nAC_CHECK_FUNCS([setusercontext getgrouplist clearenv])\n\n# The type used by getgrouplist() is the same type used by getgroups()\nAC_TYPE_GETGROUPS\n\n# Don't fail without working nasm if rfxcodec is not enabled\nif test \"x$enable_rfxcodec\" != xyes; then\n  with_simd=no\n  export with_simd\nfi\n\n# Check if -ldl is needed to use dlopen()\nDLOPEN_LIBS=\nAC_CHECK_FUNC(dlopen, [],\n              [AC_CHECK_LIB(dl, dlopen, [DLOPEN_LIBS=-ldl])])\nAC_SUBST(DLOPEN_LIBS)\n\n# checking for openssl\nPKG_CHECK_MODULES([OPENSSL], [openssl >= 0.9.8], [],\n  [AC_MSG_ERROR([please install libssl-dev or openssl-devel])])\n\n# look for openssl binary\nOPENSSL_BIN=`$PKG_CONFIG --variable=exec_prefix openssl`/bin\nAC_PATH_PROGS([OPENSSL], [openssl], [:], [$OPENSSL_BIN:$PATH])\n\n# checking for PAM variation\n# Linux-PAM is used in Linux systems\n# OpenPAM is used by FreeBSD, NetBSD, DragonFly BSD and OS X\n# OpenBSD uses BSD Authentication rather than both PAMs\nAC_CHECK_HEADER([security/_pam_types.h],\n                [AC_DEFINE([HAVE__PAM_TYPES_H], 1, [Using Linux-PAM], [])])\nAC_CHECK_HEADER([security/pam_constants.h],\n                [AC_DEFINE([HAVE_PAM_CONSTANTS_H], 1, [Using OpenPAM], [])])\n\n# Find imlib2\ncase \"$with_imlib2\" in\n    '' | no) AC_MSG_NOTICE([imlib2 will not be supported])\n        use_imlib2=no\n        ;;\n    yes)\n        PKG_CHECK_MODULES([IMLIB2], [imlib2 >= 1.4.5],\n            [use_imlib2=yes],\n            [AC_MSG_ERROR([please install libimlib2-dev or imlib2-devel])])\n        ;;\n    /*) AC_MSG_CHECKING([for imlib2 in $with_imlib2])\n        if test -d $with_imlib2/lib; then\n            IMLIB2_LIBS=\"-L$with_imlib2/lib -lImlib2\"\n        elif test -d $with_imlib2/lib64; then\n            IMLIB2_LIBS=\"-L$with_imlib2/lib64 -lImlib2\"\n        else\n            AC_MSG_RESULT([no])\n            AC_MSG_ERROR([Can't find libImlib2 in $with_imlib2])\n        fi\n\n        if test -f $with_imlib2/include/Imlib2.h; then\n            IMLIB2_CFLAGS=\"-I $with_imlib2/include\"\n        else\n            AC_MSG_RESULT([no])\n            AC_MSG_ERROR([Can't find $with_imlib2/include/Imlib2.h])\n        fi\n        AC_MSG_RESULT([yes])\n        AC_SUBST([IMLIB2_LIBS])\n        AC_SUBST([IMLIB2_CFLAGS])\n        use_imlib2=yes\n        ;;\n    *)  AC_MSG_ERROR([--with-imlib2 needs yes/no or absolute path])\nesac\n\nif test x$use_imlib2 = xyes; then\n    AC_DEFINE([USE_IMLIB2],1, [Compile with imlib2 support])\nfi\n\n# Find freetype2\n#\n# The modversion used by pkgcheck does not correspond to the\n# freetype2 release. See docs/VERSIONS.TXT in the freetype2\n# source for a table of correspondences. If you change one\n# of the below defines, change both.\nm4_define([FT2_REQUIRED_VERSION], [2_8_0])\nm4_define([FT2_REQUIRED_MODVERSION], [20.0.14])\ncase \"$with_freetype2\" in\n    '' | no) AC_MSG_NOTICE([freetype2 will not be supported])\n        use_freetype2=no\n        ;;\n    yes)\n        PKG_CHECK_MODULES([FREETYPE2], [freetype2 >= FT2_REQUIRED_MODVERSION],\n            [use_freetype2=yes],\n            [AC_MSG_ERROR([please install version FT2_REQUIRED_VERSION or later of libfreetype6-dev or freetype-devel])])\n        ;;\n    /*) AC_MSG_CHECKING([for freetype2 in $with_freetype2])\n        if test -d $with_freetype2/lib; then\n            FREETYPE2_LIBS=\"-L$with_freetype2/lib -llibfreetype\"\n        elif test -d $with_freetype2/lib64; then\n            FREETYPE2_LIBS=\"-L$with_freetype2/lib64 -llibfreetype\"\n        else\n            AC_MSG_RESULT([no])\n            AC_MSG_ERROR([Can't find libfreetype in $with_freetype2])\n        fi\n\n        if test -f $with_freetype2/include/freetype2/ft2build.h; then\n            FREETYPE2_CFLAGS=\"-I $with_freetype2/include/freetype2\"\n        else\n            AC_MSG_RESULT([no])\n            AC_MSG_ERROR([Can't find $with_freetype2/include/freetype2/ft2build.h])\n        fi\n        AC_MSG_RESULT([yes])\n        AC_SUBST([FREETYPE2_LIBS])\n        AC_SUBST([FREETYPE2_CFLAGS])\n        use_freetype2=yes\n        ;;\n    *)  AC_MSG_ERROR([--with-freetype2 needs yes/no or absolute path])\nesac\nAM_CONDITIONAL([USE_FREETYPE2], [test \"x$use_freetype2\" = xyes])\n\n# Check only one auth mechanism is specified, and give it a name\nauth_cnt=0\nauth_mech=\"Builtin\"\nAUTHMOD_OBJ=verify_user.lo\nAUTHMOD_LIB=-lcrypt\nif test x$enable_pam = xyes\nthen\n  auth_cnt=`expr $auth_cnt + 1`\n  auth_mech=\"PAM\"\n  AUTHMOD_OBJ=verify_user_pam.lo\n  AUTHMOD_LIB=-lpam\nfi\nif test x$bsd = xtrue\nthen\n  auth_cnt=`expr $auth_cnt + 1`\n  auth_mech=\"BSD\"\n  AUTHMOD_OBJ=verify_user_bsd.lo\n  AUTHMOD_LIB=\nfi\nif test x$enable_kerberos = xyes\nthen\n  auth_cnt=`expr $auth_cnt + 1`\n  auth_mech=\"Kerberos\"\n  AUTHMOD_OBJ=verify_user_kerberos.lo\n  AUTHMOD_LIB=-lkrb5\nfi\nif test x$enable_pamuserpass = xyes\nthen\n  auth_cnt=`expr $auth_cnt + 1`\n  auth_mech=\"PAM userpass\"\n  AUTHMOD_OBJ=verify_user_pam_userpass.lo\n  AUTHMOD_LIB=\"-lpam -lpam_userpass\"\nfi\n\nif test $auth_cnt -gt 1\nthen\n  AC_MSG_ERROR([--enable-pam, --enable-bsd, --enable-pamuserpass and --enable-kerberos are mutually exclusive])\nfi\n\nAC_SUBST([AUTHMOD_OBJ])\nAC_SUBST([AUTHMOD_LIB])\n\n# checking if pam should be autodetected.\nif test \"x$enable_pam\" = \"xyes\"\nthen\n  if test -z \"$enable_bsd\"\n  then\n    AC_CHECK_HEADER([security/pam_appl.h], [],\n      [AC_MSG_ERROR([please install libpam0g-dev or pam-devel])])\n  fi\n  if test \"x$enable_pam_config\" = \"x\"; then\n    PAM_RULES=\"auto\"\n  else\n    pam_config_file=\"$srcdir/instfiles/pam.d/xrdp-sesman.$enable_pam_config\"\n    if test -f \"$pam_config_file\"; then\n      PAM_RULES=\"$enable_pam_config\"\n    else\n      AC_MSG_ERROR([PAM file \"$pam_config_file\" is not available])\n    fi\n  fi\nfi\n\nAC_SUBST(PAM_RULES)\n\n# Add define for development options to config_ac.h\nAC_DEFINE([CONFIG_AC_H],1, [Allow sources to check config_ac.h is included])\nif test x$devel_logging = xyes\nthen\n  AC_DEFINE([USE_DEVEL_LOGGING],1,[Enable development logging])\nfi\n\nif test x$devel_streamcheck = xyes\nthen\n  AC_DEFINE([USE_DEVEL_STREAMCHECK],1,[Enable development stream checking])\nfi\n\nif test \"x$enable_vsock\" = \"xyes\"\nthen\n  enable_vsock=yes\n  if test \"x$freebsd\" = \"xyes\"\n  then\n    # Determine if we have AF_HYPERV defined (FreeBSD 13+)\n    AC_CHECK_DECL([AF_HYPERV], [AC_DEFINE([XRDP_ENABLE_VSOCK], 1, [Enable AF_HYPERV])], [], [#include <sys/socket.h>])\n  else\n    AC_CHECK_HEADERS([linux/socket.h linux/vm_sockets.h],\n                    [AC_DEFINE([XRDP_ENABLE_VSOCK], 1, [Enable AF_VSOCK])],\n                    [],\n                    [#include <sys/socket.h>])\n  fi\nfi\n\nif test \"x$enable_ipv6only\" = \"xyes\"\nthen\n  enable_ipv6=yes\n  AC_DEFINE([XRDP_ENABLE_IPV6ONLY],1,[Enable IPv6 only])\nfi\n\nif test \"x$enable_ipv6\" = \"xyes\"\nthen\n  AC_DEFINE([XRDP_ENABLE_IPV6],1,[Enable IPv6])\nfi\n\nAS_IF( [test \"x$enable_neutrinordp\" = \"xyes\"] , [PKG_CHECK_MODULES(FREERDP, freerdp >= 1.0.0)] )\n\n# checking for libjpeg\nif test \"x$enable_jpeg\" = \"xyes\"\nthen\n  AC_CHECK_HEADER([jpeglib.h], [],\n    [AC_MSG_ERROR([please install libjpeg-dev or libjpeg-devel])])\nfi\n\n# checking for fuse\nif test \"x$enable_fuse\" = \"xyes\"\nthen\n  PKG_CHECK_MODULES([FUSE], [fuse3 >= 3.1.0], [],\n    [AC_MSG_ERROR([please install libfuse3-dev or fuse3-devel])])\nfi\n\n# checking for fdk aac\nif test \"x$enable_fdkaac\" = \"xyes\"\nthen\n  PKG_CHECK_MODULES([FDKAAC], [fdk-aac >= 0.1.0], [],\n    [AC_MSG_ERROR([please install libfdk-aac-dev or fdk-aac-devel])])\nfi\n\n# checking for opus\nif test \"x$enable_opus\" = \"xyes\"\nthen\n  AC_CHECK_HEADER([opus/opus.h], [],\n    [AC_MSG_ERROR([please install libopus-dev or opus-devel])])\nfi\n\n# checking for lame mp3\nif test \"x$enable_mp3lame\" = \"xyes\"\nthen\n  AC_CHECK_HEADER([lame/lame.h], [],\n    [AC_MSG_ERROR([please install libmp3lame-dev or lamemp3-devel])])\nfi\n\n# checking for ibus includes\nif test \"x$enable_ibus\" = \"xyes\"\nthen\n  PKG_CHECK_MODULES([IBUS], [ibus-1.0 >= 1.5], [],\n    [AC_MSG_ERROR([please install libibus-1.0-dev or ibus-devel])])\n\n  # ibus uses dbus which depends on glib\n  PKG_CHECK_MODULES([GLIB2], [glib-2.0 >= 2.56], [],\n    [AC_MSG_ERROR([please install libglib2.0-dev or glib2.0-devel])])\nfi\n\nAS_IF( [test \"x$enable_pixman\" = \"xyes\"] , [PKG_CHECK_MODULES(PIXMAN, pixman-1 >= 0.1.0)] )\n\nAS_IF( [test \"x$enable_x264\" = \"xyes\"] , [PKG_CHECK_MODULES(XRDP_X264, x264 >= 0.3.0)] )\n\nAS_IF( [test \"x$enable_openh264\" = \"xyes\"] , [PKG_CHECK_MODULES(XRDP_OPENH264, openh264 >= 2.0.0)] )\n\n# checking for TurboJPEG\nif test \"x$enable_tjpeg\" = \"xyes\"\nthen\nif test ! -z \"$TURBOJPEG_PATH\"\nthen\n  # env var TURBOJPEG_PATH has been defined, use that\n  AC_CHECK_HEADER([$TURBOJPEG_PATH/include/turbojpeg.h], [],\n    [AC_MSG_ERROR([could not find TurboJPEG in dir specified by env variable TURBOJPEG_PATH ($TURBOJPEG_PATH)])])\n\n   AC_SUBST(TurboJpegIncDir, [\"-I$TURBOJPEG_PATH/include\"])\n   AC_SUBST(TurboJpegLibDir, [\"-L$TURBOJPEG_PATH/lib -Wl,-rpath -Wl,$TURBOJPEG_PATH/lib\"])\nelif test -e /opt/libjpeg-turbo/lib64\nthen\n  # TurboJPEG has been installed to /opt on a 64 bit m/c\n  AC_SUBST(TurboJpegIncDir, [\"-I/opt/libjpeg-turbo/include\"])\n  AC_SUBST(TurboJpegLibDir, [\"-L/opt/libjpeg-turbo/lib64 -Wl,-rpath -Wl,/opt/libjpeg-turbo/lib64\"])\nelif test -e /opt/libjpeg-turbo/lib32\nthen\n  # TurboJPEG has been installed to /opt on a 32 bit m/c\n  AC_SUBST(TurboJpegIncDir, [\"-I/opt/libjpeg-turbo/include\"])\n  AC_SUBST(TurboJpegLibDir, [\"-L/opt/libjpeg-turbo/lib32 -Wl,-rpath -Wl,/opt/libjpeg-turbo/lib32\"])\nelse\n  # check in default location\n  AC_CHECK_HEADER([/usr/include/turbojpeg.h], [],\n    [AC_MSG_ERROR([please install TurboJPEG ])])\n  AC_SUBST(TurboJpegIncDir, [\"\"])\n  AC_SUBST(TurboJpegLibDir, [\"\"])\nfi\nfi\n\nAC_PATH_XTRA\nif test \"x$no_x\" == \"xyes\"; then\n  AC_MSG_ERROR([please install libx11-dev or libX11-devel])\nfi\n\nsave_CFLAGS=\"$CFLAGS\"\nCFLAGS=\"$CFLAGS $X_CFLAGS\"\n\n# checking for Xfixes\nAC_CHECK_HEADER([X11/extensions/Xfixes.h], [],\n  [AC_MSG_ERROR([please install libxfixes-dev or libXfixes-devel])],\n  [#include <X11/Xlib.h>])\n\n# checking for Xrandr\nAC_CHECK_HEADER([X11/extensions/Xrandr.h], [],\n  [AC_MSG_ERROR([please install libxrandr-dev or libXrandr-devel])],\n  [#include <X11/Xlib.h>])\n\n# checking for XKB\nAC_CHECK_HEADER([X11/extensions/XKBrules.h], [],\n  [AC_MSG_ERROR([please install libxkbfile-dev or libxkbfile-devel])],\n  [#include <X11/Xlib.h>\n#include <X11/XKBlib.h>\n#include <stdio.h>])\n\nif test \"x$enable_utmp\" = \"xyes\"\nthen\n    AC_CHECK_HEADERS(utmp.h utmpx.h)\n\n    # Test for non-standard extensions in struct utmpx\n    AXRDP_CHECK_UTMPX_MEMBER_EXISTS([ut_host], [HAVE_UTMPX_UT_HOST])\n    AXRDP_CHECK_UTMPX_MEMBER_EXISTS([ut_exit], [HAVE_UTMPX_UT_EXIT])\nfi\n\nCFLAGS=\"$save_CFLAGS\"\n\n# perform unit tests if libcheck and libmocka found\nperform_unit_tests=yes; # Assume packages will be found\nif test \"x$ensure_tests_deps\" == \"xyes\"; then\n    PKG_CHECK_MODULES([CHECK], [check >= 0.10.0],\n        [],\n        [AC_MSG_ERROR([please install check, the unit test framework])])\n    # Check if cmocka is available - needed for unit testing\n    PKG_CHECK_MODULES([CMOCKA], [cmocka],\n        [],\n        [AC_MSG_ERROR([please install cmocka, the mocking framework])])\nelse\n    PKG_CHECK_MODULES([CHECK], [check >= 0.10.0],\n        [],\n        [perform_unit_tests=no])\n    PKG_CHECK_MODULES([CMOCKA], [cmocka],\n        [],\n        [perform_unit_tests=no])\nfi\n\nif test \"x$perform_unit_tests\" == \"xyes\"; then\n    AC_MSG_NOTICE([libcheck found, unit tests will be performed])\nelse\n    AC_MSG_NOTICE([libcheck not found, unit tests will be skipped])\nfi\n# -- end perform unit tests\n\nAC_SUBST([moduledir], '${libdir}/xrdp')\n\nAC_ARG_ENABLE([strict-locations],\n  [AS_HELP_STRING([--enable-strict-locations],\n                  [Use standard Autoconf install directories unless overridden\n                   (default: use /etc and /var)])],\n                  [], [enable_strict_locations=no])\n\nif test \"x$enable_strict_locations\" != \"xyes\"; then\n  sysconfdir=\"/etc\";\n  localstatedir=\"/var\";\nfi\n\nAC_ARG_WITH([pamconfdir],\n  [AS_HELP_STRING([--with-pamconfdir=DIR],\n                  [Use directory for pam.d config (default: /etc/pam.d)])],\n                  [], [with_pamconfdir=\"$sysconfdir/pam.d\"])\nAC_SUBST([pamconfdir], [$with_pamconfdir])\n\nAC_ARG_WITH([sysconfsubdir],\n  [AS_HELP_STRING([--with-sysconfsubdir=DIR],\n                  [Use subdirectory for config files (default: xrdp)]))],\n                  [], [with_sysconfsubdir=\"xrdp\"])\nAC_SUBST([sysconfsubdir], [$with_sysconfsubdir])\n\nPKG_INSTALLDIR\n\nAC_CHECK_HEADERS([sys/prctl.h uchar.h])\n\nAC_CONFIG_FILES([\n  common/Makefile\n  docs/Makefile\n  docs/man/Makefile\n  fontutils/Makefile\n  genkeymap/Makefile\n  instfiles/default/Makefile\n  instfiles/init.d/Makefile\n  instfiles/Makefile\n  instfiles/pam.d/Makefile\n  instfiles/pulse/Makefile\n  instfiles/rc.d/Makefile\n  keygen/Makefile\n  waitforx/Makefile\n  libipm/Makefile\n  libxrdp/Makefile\n  Makefile\n  mc/Makefile\n  neutrinordp/Makefile\n  ulalaca/Makefile\n  pkgconfig/Makefile\n  pkgconfig/xrdp.pc\n  pkgconfig/xrdp-uninstalled.pc\n  sesman/libsesman/Makefile\n  sesman/chansrv/Makefile\n  sesman/Makefile\n  sesman/sesexec/Makefile\n  sesman/tools/Makefile\n  tests/Makefile\n  tests/common/Makefile\n  tests/libipm/Makefile\n  tests/libxrdp/Makefile\n  tests/memtest/Makefile\n  tests/xrdp/Makefile\n  tools/Makefile\n  tools/devel/Makefile\n  tools/devel/tcp_proxy/Makefile\n  tools/chkpriv/Makefile\n  vnc/Makefile\n  xrdpapi/Makefile\n  xrdp/Makefile\n  xrdpvr/Makefile\n  xup/Makefile\n  third_party/Makefile\n  third_party/tomlc99/Makefile\n])\n\nAC_REQUIRE_AUX_FILE([tap-driver.sh])\nAC_OUTPUT\n\necho \"\"\necho \"xrdp will be compiled with:\"\necho \"\"\necho \"  mp3lame                 $enable_mp3lame\"\necho \"  opus                    $enable_opus\"\necho \"  fdkaac                  $enable_fdkaac\"\necho \"  jpeg                    $enable_jpeg\"\necho \"  turbo jpeg              $enable_tjpeg\"\necho \"  rfxcodec                $enable_rfxcodec\"\necho \"  x264                    $enable_x264\"\necho \"  openh264                $enable_openh264\"\necho \"  painter                 $enable_painter\"\necho \"  pixman                  $enable_pixman\"\necho \"  fuse                    $enable_fuse\"\necho \"  ipv6                    $enable_ipv6\"\necho \"  ipv6only                $enable_ipv6only\"\necho \"  vsock                   $enable_vsock\"\necho \"  ibus                    $enable_ibus\"\necho \"  auth mechanism          $auth_mech\"\necho \"  rdpsndaudin             $enable_rdpsndaudin\"\necho \"  utmp support            $enable_utmp\"\nif test x$enable_utmp = xyes; then\n    echo \"    utmpx.ut_host         $ac_cv_utmpx_has_ut_host\"\n    echo \"    utmpx.ut_exit         $ac_cv_utmpx_has_ut_exit\"\nfi\n\necho\necho \"  with imlib2             $use_imlib2\"\necho \"  with freetype2          $use_freetype2\"\n\necho\necho \"  development logging     $devel_logging\"\necho \"  development streamcheck $devel_streamcheck\"\necho \"\"\necho \"  strict_locations        $enable_strict_locations\"\necho \"  prefix                  $prefix\"\necho \"  exec_prefix             $exec_prefix\"\necho \"  libdir                  $libdir\"\necho \"  bindir                  $bindir\"\necho \"  sysconfdir              $sysconfdir\"\necho \"  sysconfdir+subdir       $sysconfdir/$sysconfsubdir\"\necho \"  pamconfdir              $pamconfdir\"\necho \"  localstatedir           $localstatedir\"\necho \"  runstatedir             $runstatedir\"\necho \"  socketdir               $socketdir\"\necho \"\"\necho \"  unit tests performable  $perform_unit_tests\"\necho \"\"\necho \"  CFLAGS = $CFLAGS\"\necho \"  LDFLAGS = $LDFLAGS\"\n\n# xrdp_configure_options.h will be written to the build directory, not the source directory\necho '#define XRDP_CONFIGURE_OPTIONS \\' > ./xrdp_configure_options.h\n./config.status --config | xargs -n 1 | sed -e 's/^/\"      /' -e 's/$/\\\\n\" \\\\/' >> ./xrdp_configure_options.h\necho '\"\"' >> ./xrdp_configure_options.h\n"
        },
        {
          "name": "docs",
          "type": "tree",
          "content": null
        },
        {
          "name": "fontutils",
          "type": "tree",
          "content": null
        },
        {
          "name": "genkeymap",
          "type": "tree",
          "content": null
        },
        {
          "name": "instfiles",
          "type": "tree",
          "content": null
        },
        {
          "name": "keygen",
          "type": "tree",
          "content": null
        },
        {
          "name": "libipm",
          "type": "tree",
          "content": null
        },
        {
          "name": "libpainter",
          "type": "commit",
          "content": null
        },
        {
          "name": "librfxcodec",
          "type": "commit",
          "content": null
        },
        {
          "name": "libxrdp",
          "type": "tree",
          "content": null
        },
        {
          "name": "m4",
          "type": "tree",
          "content": null
        },
        {
          "name": "mc",
          "type": "tree",
          "content": null
        },
        {
          "name": "neutrinordp",
          "type": "tree",
          "content": null
        },
        {
          "name": "pkgconfig",
          "type": "tree",
          "content": null
        },
        {
          "name": "scripts",
          "type": "tree",
          "content": null
        },
        {
          "name": "sesman",
          "type": "tree",
          "content": null
        },
        {
          "name": "tests",
          "type": "tree",
          "content": null
        },
        {
          "name": "third_party",
          "type": "tree",
          "content": null
        },
        {
          "name": "tools",
          "type": "tree",
          "content": null
        },
        {
          "name": "ulalaca",
          "type": "commit",
          "content": null
        },
        {
          "name": "vnc",
          "type": "tree",
          "content": null
        },
        {
          "name": "vrplayer",
          "type": "tree",
          "content": null
        },
        {
          "name": "waitforx",
          "type": "tree",
          "content": null
        },
        {
          "name": "xrdp",
          "type": "tree",
          "content": null
        },
        {
          "name": "xrdpapi",
          "type": "tree",
          "content": null
        },
        {
          "name": "xrdpvr",
          "type": "tree",
          "content": null
        },
        {
          "name": "xup",
          "type": "tree",
          "content": null
        }
      ]
    }
  ]
}