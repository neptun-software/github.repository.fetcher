{
  "metadata": {
    "timestamp": 1736710420280,
    "page": 51,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjYw",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "cloudwu/skynet",
      "stars": 13416,
      "defaultBranch": "master",
      "files": [
        {
          "name": ".github",
          "type": "tree",
          "content": null
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.1103515625,
          "content": "*.o\n*.a\n/skynet\n/skynet.pid\n3rd/lua/lua\n3rd/lua/luac\n3rd/lua/all\n/cservice\n/luaclib\n*.so\n*.dSYM\n.DS_Store\n.vscode"
        },
        {
          "name": ".gitmodules",
          "type": "blob",
          "size": 0.09375,
          "content": "[submodule \"3rd/jemalloc\"]\n\tpath = 3rd/jemalloc\n\turl = https://github.com/jemalloc/jemalloc.git\n"
        },
        {
          "name": "3rd",
          "type": "tree",
          "content": null
        },
        {
          "name": "HISTORY.md",
          "type": "blob",
          "size": 13.408203125,
          "content": "v1.7.0 (2023-11-13)\n-----------\n* Update Lua to 5.4.6\n* Update lpeg to 1.1.0\n* Improve mongo driver\n* Fix service session rewind issue\n* Add websocket.is_closed\n\nv1.6.0 (2022-11-16)\n-----------\n* Update Lua to 5.4.4 (github Nov 8, 2022)\n* Update jemalloc to 5.3.0\n* Update lpeg to 1.0.2 (For sproto)\n* Update mongo driver to support the newest wire protocol\n* socket.listen()/cluster.open() returns ip address and port\n* Add service.close()\n\nv1.5.0 (2021-11-9)\n-----------\n* Update Lua to 5.4.3\n* Fix socket half close issues\n* Fix TLS issues\n* Improve websocket support\n* Improve redis support\n* Rework skynet.init/skynet.require\n* Add socket.onclose\n* Add httpc.request_stream\n\nv1.4.0 (2020-11-16)\n-----------\n* Update Lua to 5.4.2\n* Add skynet.select\n* Improve mysql driver (@zero-rp @xiaojin @yxt945)\n* Improve websocket and ssl (@lvzixun)\n* Improve sproto (double @lvzixun map @t0350)\n* Add padding mode PKCS7 for DES\n* Add jmem in debug console\n* Add skynet_socket_pause for net traffic control\n* Add timestamp to default logger\n\nv1.3.0 (2019-11-19)\n-----------\n* Improve mysql driver (@yxt945)\n* Improve cluster\n* Improve lua shared proto (@hongling0)\n* Improve socket.write\n* Add lua sharetable\n* Add https support (@lvzixun)\n* Add websocket support (@lvzixun)\n* Fix bug in dns\n* Fix some memory leaks\n* jemalloc update to 5.2.1\n\nv1.2.0 (2018-11-6)\n-----------\n* Improve cluster support\n* Improve mongodb driver\n* Improve redis driver\n* Improve socket concurrent write\n* Improve socket channel\n* Improve service gate\n* Improve udp support\n* Add skynet.ignoreret\n* Add skynet.trace\n* Add skynet.context\n* Improve skynet.wait/wakeup\n* Add socket.netstat\n* Add socketchannel.overload\n* Fix memory leak for dead service\n* lua update to 5.3.5\n* jemalloc update to 5.1.0\n\nv1.1.0 (2017-10-31)\n-----------\n* add socket.disconnected()\n* fix bugs : see comments for detail\n\nv1.1.0-rc (2017-7-18)\n-----------\n* config file : support include\n* debug console : User config binding IP\n* debug console : Add call command\n* debug console : Report error message of inject code\n* debug console : Change response message\n* sharedata : Add sharedata.flush\n* sharedata : Add sharedata.deepcopy\n* cluster : Add cluster.send\n* cluster : Add API to update config table\n* skynet : Add skynet.state\n* skynet : Keep the order of skynet.wakeup\n* skynet : Add a MEMORY_CHECK macro for debugging\n* httpc : Add httpc.timeout\n* mongo driver : sort support multi-key\n* bson : Check utf8 string\n* bson : No longer support numeric key \n* daemon mode: Can output the error messages\n* sproto : Support decimal number\n* sproto: Support binary type\n* sproto: Support response nil\n* crypt: Add crypt.hmac64_md5\n* redis: Add redis-cluster support\n* socket server : Optimize socket write (Try direct write from worker thread first)\n* Add prefix skynet to all skynet lua modules\n* datasheet : New module for replacement of sharedata\n* jemalloc : Update to 5.0.1\n* lua : Update to 5.3.4\n* lpeg : Update to 1.0.1\n\nv1.0.0 (2016-7-11)\n-----------\n* Version 1.0.0 Released\n\nv1.0.0-rc5 (2016-7-4)\n-----------\n* MongoDB : Support auth_scram_sha1\n* MongoDB : Auto determine primary host\n* Bugfix : memory leak in multicast\n* Bugfix : Lua 5.3.3\n* Bson : support meta array\n\nv1.0.0-rc4 (2016-6-13)\n-----------\n* Update lua to 5.3.3\n* Update jemalloc to 4.2.1\n* Add debug console command ping\n* Lua bson support __pairs\n* Add mongo.createIndexes and fix bug in old mongo.createIndex\n* Handle signal HUP to reopen log file (for logrotate)\n\nv1.0.0-rc3 (2016-5-9)\n-----------\n* Update jemalloc 4.1.1\n* Update lua 5.3.3 rc1\n* Update sproto to support encoding empty table\n* Make skynet.init stable (keep order)\n* skynet.getenv can return empty string\n* Add lua VM memory warning\n* lua VM support memory limit\n* skynet.pcall support varargs\n* Bugfix : Global name query\n* Bugfix : snax.queryglobal\n\nv1.0.0-rc2 (2016-3-7)\n-----------\n* Fix a bug in lua 5.3.2\n* Update sproto (fix bugs and add ud for package)\n* Fix a bug in http\n* Fix a bug in harbor\n* Fix a bug in socket channel\n* Enhance remote debugger\n\nv1.0.0-rc (2015-12-28)\n-----------\n* Update to lua 5.3.2\n* Add skynet.coroutine lib\n* Add new debug api to show c memory used\n* httpc can use async dns query\n* Redis driver support pipeline\n* socket.send support string table, and rewrite redis driver\n* socket.shutdown would abandon unsend buffer\n* Improve some sproto api\n* c memory doesn't count the memory allocated by lua vm\n* some other bugfix (In multicast, socketchannel, etc)\n\nv1.0.0-beta (2015-11-10)\n-----------\n* Improve and fix bug for sproto\n* Add global short string pool for lua vm\n* Add code cache mode\n* Add a callback for mysql auth\n* Add hmac_md5\n* Sharedata support filename as a string\n* Fix a bug in socket.httpc\n* Fix a lua stack overflow bug in lua bson\n* Fix a socketchannel bug may block the data steam\n* Avoid dead loop when sending message to the service exiting\n* Fix memory leak in netpack\n* Improve DH key exchange implement\n* Minor fix for socket\n* Minor fix for multicast\n* Update jemalloc to 4.0.4\n* Update lpeg to 1.0.0\n\nv1.0.0-alpha10 (2015-8-17)\n-----------\n* Remove the size limit of cluster RPC message.\n* Remove the size limit of local message.\n* Add cluster.query and clsuter.register.\n* Add an option of pthread mutex lock.\n* Add skynet.core.intcommand to optimize skynet.sleep etc.\n* Fix a memory leak bug in lua shared proto.\n* snax.msgserver use string instead of lightuserdata/size.\n* Remove some unused api in netpack.\n* Raise error when skynet.send to 0.\n\nv1.0.0-alpha9 (2015-8-10)\n-----------\n* Improve lua serialization , support pairs metamethod.\n* Bugfix : sproto (See commits log of sproto)\n* Add user log service support (In config)\n* Other minor bugfix (See commits log)\n\nv1.0.0-alpha8 (2015-6-29)\n-----------\n* Update lua 5.3.1\n* Bugfix: skynet exit issue\n* Bugfix: timer race condition\n* Use atom increment in bson object id\n* remove assert when write to a listen fd\n* sproto encode doesn't use raw table api\n\nv1.0.0-alpha7 (2015-6-8)\n-----------\n* console support launch snax service\n* Add cluster.snax\n* Add nodelay in clusterd\n* Merge sproto bugfix patch\n* Move some skynet api into skynet.manager\n* DNS support underscore\n* Add logservice in config file for user defined log service\n* skynet.fork returns coroutine\n* Fix a few of bugs , see the commits log\n\nv1.0.0-alpha6 (2015-5-18)\n-----------\n* bugfix: httpc.get\n* bugfix: seri lib stack overflow\n* bugfix: udp send\n* bugfix: udp address\n* bugfix: sproto dump\n* add: sproto default\n* improve: skynet.wakeup (can wakeup skynet.call by raise an error)\n* improve: skynet.exit (raise error when uncall response)\n* remove: task overload warning\n* move: some skynet api move into skynet.manager\n\nv1.0.0-alpha5 (2015-4-27)\n-----------\n* merge lua 5.3 official bugfix \n* improve sproto rpc api\n* fix a deadlock bug when service retire\n* improve cluster config reload\n* add skynet.pcall for calling a function with `require`\n* better error log in loginserver\n\nv1.0.0-alpha4 (2015-4-13)\n-----------\n* sproto can share c struct between states\n* udp api changed (use lua string now)\n* fix memory leak in dns module\n\nv1.0.0-alpha3 (2015-3-30)\n-----------\n* Update sproto (bugfix)\n* Add async dns query\n* improve httpc\n\nv1.0.0-alpha2 (2015-3-16)\n-----------\n* Update examples client to lua 5.3\n* Patch lua 5.3 to interrupt the dead loop (for debug)\n* Update sproto (fix some bugs and support unordered map)\n\nv1.0.0-alpha (2015-3-9)\n-----------\n* Update lua from 5.2 to 5.3\n* Add an online lua debugger\n* Add sharemap as an example use case of stm\n* Improve sproto for multi-state\n* Improve mongodb driver\n* Fix known bugs\n\nv0.9.3 (2015-1-5)\n-----------\n* Add : mongo createIndex\n* Update : sproto\n* bugfix : sharedata check dirty flag when len/pairs metamethod\n* bugfix : multicast\n\nv0.9.2 (2014-12-8)\n-----------\n* Simplify the message queue\n* Add create_index in mongo driver\n* Fix a bug in big-endian architecture (sproto)\n\nv0.9.0 / v0.9.1 (2014-11-17)\n-----------\n* Add UDP support\n* Add IPv6 support\n* socket send package can define a release method\n* dispatch read before write in epoll\n* remove snax queue mode\n* Fix a bug in big-endian architecture\n\nv0.8.1 (2014-11-3)\n-----------\n* Send to an invalid remote service will raise an error\n* Bugifx: socket open address string\n* Remove sha1 from mysqlaux\n* merge lua and sproto bugfix , use crypt lib instead\n* Fix a memory leak in socket\n* minor bugfix in http module\n\nv0.8.0 (2014-10-27)\n-----------\n* Add mysql client driver\n* Bugfix : skynet.queue\n\nv0.7.4 (2014-10-13)\n-----------\n* Bugfix : clear coroutine pool when GC\n* hotfix : A bug introduce by 0.7.3 \n\nv0.7.3 (2014-10-13)\n-----------\n* Add some logs (warning) when overload\n* Bugfix: crash on exit\n\nv0.7.2 (2014-9-29)\n-----------\n* Bugfix : datacenter.wait\n* Bugfix : error in forker coroutine\n* Add skynet.term\n* Accept socket report port\n* sharedata can be update more than once\n\nv0.7.1 (2014-9-22)\n-----------\n* bugfix: wakeup sleep should return BREAK\n* bugfix: sharedatad load string\n* bugfix: dataserver forward error msg\n\nv0.7.0 (2014-9-8)\n-----------\n* Use sproto instead of cjson\n* Add message logger\n* Add hmac-sha1\n* Some minor bugfix\n\nv0.6.2 (2014-9-1)\n-----------\n* bugfix: only skynet.call response PTYPE_ERROR\n\nv0.6.1 (2014-8-25)\n-----------\n* bugfix: datacenter.wakeup\n* change struct msg name to avoid conflict in mac\n* improve seri library\n\nv0.6.0 (2014-8-18)\n-----------\n* add sharedata\n* bugfix: service exit before init would not report back\n* add skynet.response and check multicall skynet.ret\n* skynet.newservice throw error when lanuch failed\n* Don't check imported function in snax.hotfix\n* snax service add change SERVICE_PATH and add it to package.path\n* skynet.redirect support string address\n* bugfix: skynet.harbor.link may block\n* add skynet.harbor.queryname to query globalname\n* add cluster.proxy \n* add DEBUG command exit (send a message to lua service by DEBUG)\n* add DEBUG command run (debug_console command inject)\n* bugfix : socketchannel connect once\n* bugfix : mongo driver\n\nv0.5.2 (2014-8-11)\n-----------\n* Bugfix : httpd request\n* Bugifx : http chunked mode\n* Add : httpc\n* timer support more than 497 days\n\nv0.5.1 (2014-8-4)\n-----------\n* Bugfix : http module\n* Bugfix : multicast local channel delete\n* Bugfix : socket.read(fd)\n\nv0.5.0 (2014-7-28)\n-----------\n* skynet.exit will quit service immediately.\n* Add snax.gateserver, snax.loginserver, snax.msgserver\n* Simplify clientsocket lib\n* mongo driver support replica set\n* config file support read from ENV\n* add simple httpd (see examples/simpleweb.lua)\n\nv0.4.2 (2014-7-14)\n-----------\n* Bugfix : invalid negative socket id \n* Add optional TCP_NODELAY support\n* Add worker thread weight\n* Add skynet.queue\n* Bugfix: socketchannel\n* cluster can throw error\n* Add readline and writeline to clientsocket lib\n* Add cluster.reload to reload config file\n* Add datacenter.wait\n\nv0.4.1 (2014-7-7)\n-----------\n* Add SERVICE_NAME in loader\n* Throw error back when skynet.error\n* Add skynet.task\n* Bugfix for last version (harbor service bugs)\n\nv0.4.0 (2014-6-30)\n-----------\n* Optimize redis driver `compose_message`.\n* Add module skynet.harbor for monitor harbor connect/disconnect, see test/testharborlink.lua .\n* cluster.open support cluster name.\n* Add new api skynet.packstring , and skynet.unpack support lua string\n* socket.listen support put port into address. (address:port)\n* Redesign harbor/master/dummy, remove lots of C code and rewrite in lua.\n* Remove block connect api, queue sending message during connecting now.\n* Add skynet.time()\n\nv0.3.2 (2014-6-23)\n----------\n* Bugfix : cluster (double free).\n* Add socket.header() to decode big-endian package header (and fix the bug in cluster).\n\nv0.3.1 (2014-6-16)\n-----------\n* Bugfix: lua mongo driver . Hold reply string before decode bson data.\n* More check in bson decoding.\n* Use big-endian for encoding bson objectid.\n\nv0.3.0 (2014-6-2)\n-----------\n* Add cluster support\n* Add single node mode\n* Add daemon mode\n* Bugfix: update lua-bson (signed 32bit int bug / check string length)\n* Optimize timer\n* Simplify message queue and optimize message dispatch\n* Use jemalloc release 3.6.0\n\nv0.2.1 (2014-5-19)\n-----------\n* Bugfix: check all the events already read after socket close\n* Bugfix: socket data in gate service \n* Bugfix: boundary problem in harbor service\n* Bugfix: stdin handle is 0\n\nv0.2.0 (2014-5-12)\n-----------\n\n* Rewrite malloc hook , use `pthread_getspecific` instead of `__thread` to get current service handle.\n* Optimize global unique service query, rewrite `service_mgr` .\n* Add some snax api, snax.uniqueservice (etc.) , use independent protocol `PTYPE_SNAX` .\n* Add bootstrap lua script , remove some code in C .\n* Use a lua loader to load lua service code (and set the lua environment), remove some code in C.\n* Support preload a file before each lua service start.\n* Add datacenter service.\n* Add multicast api.\n* Remove skynet.blockcall , simplify the implement of message queue.\n* When dropping message queue (at service exit) , dispatcher will post an error back to the source of each message.\n* Remove skynet.watch , monitor is not necessary for watching skynet.call . so simplemonitor.lua is move to examples.\n* Remove the limit of global queue size (64K actived service limit before).\n* Refactoring `skynet_command`.\n\nv0.1.1 (2014-4-28)\n------------------\n\n* Socket channel should clear request queue when reconnect.\n* Fix the issue that socket close may block the coroutine.\n* Fix the issue that jemalloc api may crash on macosx (disable jemalloc on macosx).\n\nv0.1.0 (2014-4-23)\n------------------\n\n* First release version.\n\nFirst public version (2012-8-1)\n------------------\n\n* Make skynet from a private project to public.\n"
        },
        {
          "name": "LICENSE",
          "type": "blob",
          "size": 1.0595703125,
          "content": "The MIT License (MIT)\n\nCopyright (c) 2012-2025 codingnow.com\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of\nthis software and associated documentation files (the \"Software\"), to deal in\nthe Software without restriction, including without limitation the rights to\nuse, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\nthe Software, and to permit persons to whom the Software is furnished to do so,\nsubject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\nFOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\nCOPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\nIN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\nCONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n"
        },
        {
          "name": "Makefile",
          "type": "blob",
          "size": 3.7158203125,
          "content": "include platform.mk\n\nLUA_CLIB_PATH ?= luaclib\nCSERVICE_PATH ?= cservice\n\nSKYNET_BUILD_PATH ?= .\n\nCFLAGS = -g -O2 -Wall -I$(LUA_INC) $(MYCFLAGS)\n# CFLAGS += -DUSE_PTHREAD_LOCK\n\n# lua\n\nLUA_STATICLIB := 3rd/lua/liblua.a\nLUA_LIB ?= $(LUA_STATICLIB)\nLUA_INC ?= 3rd/lua\n\n$(LUA_STATICLIB) :\n\tcd 3rd/lua && $(MAKE) CC='$(CC) -std=gnu99' $(PLAT)\n\n# https : turn on TLS_MODULE to add https support\n\n# TLS_MODULE=ltls\nTLS_LIB=\nTLS_INC=\n\n# jemalloc\n\nJEMALLOC_STATICLIB := 3rd/jemalloc/lib/libjemalloc_pic.a\nJEMALLOC_INC := 3rd/jemalloc/include/jemalloc\n\nall : jemalloc\n\t\n.PHONY : jemalloc update3rd\n\nMALLOC_STATICLIB := $(JEMALLOC_STATICLIB)\n\n$(JEMALLOC_STATICLIB) : 3rd/jemalloc/Makefile\n\tcd 3rd/jemalloc && $(MAKE) CC=$(CC) \n\n3rd/jemalloc/autogen.sh :\n\tgit submodule update --init\n\n3rd/jemalloc/Makefile : | 3rd/jemalloc/autogen.sh\n\tcd 3rd/jemalloc && ./autogen.sh --with-jemalloc-prefix=je_ --enable-prof\n\njemalloc : $(MALLOC_STATICLIB)\n\nupdate3rd :\n\trm -rf 3rd/jemalloc && git submodule update --init\n\n# skynet\n\nCSERVICE = snlua logger gate harbor\nLUA_CLIB = skynet \\\n  client \\\n  bson md5 sproto lpeg $(TLS_MODULE)\n\nLUA_CLIB_SKYNET = \\\n  lua-skynet.c lua-seri.c \\\n  lua-socket.c \\\n  lua-mongo.c \\\n  lua-netpack.c \\\n  lua-memory.c \\\n  lua-multicast.c \\\n  lua-cluster.c \\\n  lua-crypt.c lsha1.c \\\n  lua-sharedata.c \\\n  lua-stm.c \\\n  lua-debugchannel.c \\\n  lua-datasheet.c \\\n  lua-sharetable.c \\\n  \\\n\nSKYNET_SRC = skynet_main.c skynet_handle.c skynet_module.c skynet_mq.c \\\n  skynet_server.c skynet_start.c skynet_timer.c skynet_error.c \\\n  skynet_harbor.c skynet_env.c skynet_monitor.c skynet_socket.c socket_server.c \\\n  malloc_hook.c skynet_daemon.c skynet_log.c\n\nall : \\\n  $(SKYNET_BUILD_PATH)/skynet \\\n  $(foreach v, $(CSERVICE), $(CSERVICE_PATH)/$(v).so) \\\n  $(foreach v, $(LUA_CLIB), $(LUA_CLIB_PATH)/$(v).so) \n\n$(SKYNET_BUILD_PATH)/skynet : $(foreach v, $(SKYNET_SRC), skynet-src/$(v)) $(LUA_LIB) $(MALLOC_STATICLIB)\n\t$(CC) $(CFLAGS) -o $@ $^ -Iskynet-src -I$(JEMALLOC_INC) $(LDFLAGS) $(EXPORT) $(SKYNET_LIBS) $(SKYNET_DEFINES)\n\n$(LUA_CLIB_PATH) :\n\tmkdir $(LUA_CLIB_PATH)\n\n$(CSERVICE_PATH) :\n\tmkdir $(CSERVICE_PATH)\n\ndefine CSERVICE_TEMP\n  $$(CSERVICE_PATH)/$(1).so : service-src/service_$(1).c | $$(CSERVICE_PATH)\n\t$$(CC) $$(CFLAGS) $$(SHARED) $$< -o $$@ -Iskynet-src\nendef\n\n$(foreach v, $(CSERVICE), $(eval $(call CSERVICE_TEMP,$(v))))\n\n$(LUA_CLIB_PATH)/skynet.so : $(addprefix lualib-src/,$(LUA_CLIB_SKYNET)) | $(LUA_CLIB_PATH)\n\t$(CC) $(CFLAGS) $(SHARED) $^ -o $@ -Iskynet-src -Iservice-src -Ilualib-src\n\n$(LUA_CLIB_PATH)/bson.so : lualib-src/lua-bson.c | $(LUA_CLIB_PATH)\n\t$(CC) $(CFLAGS) $(SHARED) -Iskynet-src $^ -o $@\n\n$(LUA_CLIB_PATH)/md5.so : 3rd/lua-md5/md5.c 3rd/lua-md5/md5lib.c 3rd/lua-md5/compat-5.2.c | $(LUA_CLIB_PATH)\n\t$(CC) $(CFLAGS) $(SHARED) -I3rd/lua-md5 $^ -o $@ \n\n$(LUA_CLIB_PATH)/client.so : lualib-src/lua-clientsocket.c lualib-src/lua-crypt.c lualib-src/lsha1.c | $(LUA_CLIB_PATH)\n\t$(CC) $(CFLAGS) $(SHARED) $^ -o $@ -lpthread\n\n$(LUA_CLIB_PATH)/sproto.so : lualib-src/sproto/sproto.c lualib-src/sproto/lsproto.c | $(LUA_CLIB_PATH)\n\t$(CC) $(CFLAGS) $(SHARED) -Ilualib-src/sproto $^ -o $@ \n\n$(LUA_CLIB_PATH)/ltls.so : lualib-src/ltls.c | $(LUA_CLIB_PATH)\n\t$(CC) $(CFLAGS) $(SHARED) -Iskynet-src -L$(TLS_LIB) -I$(TLS_INC) $^ -o $@ -lssl\n\n$(LUA_CLIB_PATH)/lpeg.so : 3rd/lpeg/lpcap.c 3rd/lpeg/lpcode.c 3rd/lpeg/lpprint.c 3rd/lpeg/lptree.c 3rd/lpeg/lpvm.c 3rd/lpeg/lpcset.c | $(LUA_CLIB_PATH)\n\t$(CC) $(CFLAGS) $(SHARED) -I3rd/lpeg $^ -o $@ \n\nclean :\n\trm -f $(SKYNET_BUILD_PATH)/skynet $(CSERVICE_PATH)/*.so $(LUA_CLIB_PATH)/*.so && \\\n  rm -rf $(SKYNET_BUILD_PATH)/*.dSYM $(CSERVICE_PATH)/*.dSYM $(LUA_CLIB_PATH)/*.dSYM\n\ncleanall: clean\nifneq (,$(wildcard 3rd/jemalloc/Makefile))\n\tcd 3rd/jemalloc && $(MAKE) clean && rm Makefile\nendif\n\tcd 3rd/lua && $(MAKE) clean\n\trm -f $(LUA_STATICLIB)\n\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 1.62109375,
          "content": "## ![skynet logo](https://github.com/cloudwu/skynet/wiki/image/skynet_metro.jpg)\n\nSkynet is a multi-user Lua framework supporting the actor model, often used in games.\n\n[It is heavily used in the Chinese game industry](https://github.com/cloudwu/skynet/wiki/Uses), but is also now spreading to other industries, and to English-centric developers. To visit related sites, visit the Chinese pages using something like Google or Deepl translate.\n\nThe community is friendly and almost all contributors can speak English, so English speakers are welcome to ask questions in [Discussion](https://github.com/cloudwu/skynet/discussions), or submit issues in English.\n\n## Build\n\nFor Linux, install autoconf first for jemalloc:\n\n```\ngit clone https://github.com/cloudwu/skynet.git\ncd skynet\nmake 'PLATFORM'  # PLATFORM can be linux, macosx, freebsd now\n```\n\nOr:\n\n```\nexport PLAT=linux\nmake\n```\n\nFor FreeBSD , use gmake instead of make.\n\n## Test\n\nRun these in different consoles:\n\n```\n./skynet examples/config\t# Launch first skynet node  (Gate server) and a skynet-master (see config for standalone option)\n./3rd/lua/lua examples/client.lua \t# Launch a client, and try to input hello.\n```\n\n## About Lua version\n\nSkynet now uses a modified version of lua 5.4.6 ( https://github.com/ejoy/lua/tree/skynet54 ) for multiple lua states.\n\nOfficial Lua versions can also be used as long as the Makefile is edited.\n\n## How To Use\n\n* Read Wiki for documents https://github.com/cloudwu/skynet/wiki (Written in both English and Chinese)\n* The FAQ in wiki https://github.com/cloudwu/skynet/wiki/FAQ (In Chinese, but you can visit them using something like Google or Deepl translate.)\n"
        },
        {
          "name": "examples",
          "type": "tree",
          "content": null
        },
        {
          "name": "lualib-src",
          "type": "tree",
          "content": null
        },
        {
          "name": "lualib",
          "type": "tree",
          "content": null
        },
        {
          "name": "platform.mk",
          "type": "blob",
          "size": 0.85546875,
          "content": "PLAT ?= none\nPLATS = linux freebsd macosx\n\nCC ?= gcc\n\n.PHONY : none $(PLATS) clean all cleanall\n\n#ifneq ($(PLAT), none)\n\n.PHONY : default\n\ndefault :\n\t$(MAKE) $(PLAT)\n\n#endif\n\nnone :\n\t@echo \"Please do 'make PLATFORM' where PLATFORM is one of these:\"\n\t@echo \"   $(PLATS)\"\n\nSKYNET_LIBS := -lpthread -lm\nSHARED := -fPIC --shared\nEXPORT := -Wl,-E\n\nlinux : PLAT = linux\nmacosx : PLAT = macosx\nfreebsd : PLAT = freebsd\n\nmacosx : SHARED := -fPIC -dynamiclib -Wl,-undefined,dynamic_lookup\nmacosx : EXPORT :=\nmacosx linux : SKYNET_LIBS += -ldl\nlinux freebsd : SKYNET_LIBS += -lrt\n\n# Turn off jemalloc and malloc hook on macosx\n\nmacosx : MALLOC_STATICLIB :=\nmacosx : SKYNET_DEFINES :=-DNOUSE_JEMALLOC\n\nlinux macosx freebsd :\n\t$(MAKE) all PLAT=$@ SKYNET_LIBS=\"$(SKYNET_LIBS)\" SHARED=\"$(SHARED)\" EXPORT=\"$(EXPORT)\" MALLOC_STATICLIB=\"$(MALLOC_STATICLIB)\" SKYNET_DEFINES=\"$(SKYNET_DEFINES)\"\n"
        },
        {
          "name": "service-src",
          "type": "tree",
          "content": null
        },
        {
          "name": "service",
          "type": "tree",
          "content": null
        },
        {
          "name": "skynet-src",
          "type": "tree",
          "content": null
        },
        {
          "name": "test",
          "type": "tree",
          "content": null
        }
      ]
    }
  ]
}