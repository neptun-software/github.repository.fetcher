{
  "metadata": {
    "timestamp": 1736560778408,
    "page": 466,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjQ3MA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "pwr-Solaar/Solaar",
      "stars": 6553,
      "defaultBranch": "master",
      "files": [
        {
          "name": ".coveragerc",
          "type": "blob",
          "size": 0.2724609375,
          "content": "[run]\nbranch = True\n\nsource =\n    hid_parser\n    hidapi\n    keysyms\n    logitech_receiver\n    solaar\n\nomit =\n    */tests/*\n    */setup.py\n    */__main__.py\n\n[report]\nexclude_lines =\n    pragma: no cover\n    if __name__ == '__main__':\n    if typing.TYPE_CHECKING\n\nfail_under = 40\n"
        },
        {
          "name": ".git-blame-ignore-revs",
          "type": "blob",
          "size": 0.302734375,
          "content": "# yapf bulk change\n72a8d311bce64b1536c08e754d22bb91efb66460\n# isort bulk change\ne6369e0c3c240715a0a2daede6c3b225ed63cf60\n# pre-commit bulk change\n33521558ed7007c24b24127f1448c2c23ecbfb35\n# flake8 bulk change\n627185079f65c9cc471194b7927c833682e4a7a3\n# yapf style update\n27c90fa736d8a7a1ef6acda4345d3599862e185c\n"
        },
        {
          "name": ".github",
          "type": "tree",
          "content": null
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.2705078125,
          "content": "*.pyc\n*.pyo\n__pycache__/\n*.log\n*.mo\n\n/lib/Solaar.egg-info/\n/lib/solaar.egg-info/\n/lib/solaar/commit\n/build/\n/sdist/\n/dist/\n/deb_dist/\n/MANIFEST\n\n.coverage\n/htmlcov/\n\n/docs/captures/\n/share/logitech_icons/\n/share/locale/\n\n/po/*.po~\n\n/.idea/\n\n.DS_Store\n._*\n\nPipfile\nPipfile.lock\n"
        },
        {
          "name": ".pre-commit-config.yaml",
          "type": "blob",
          "size": 0.4619140625,
          "content": "repos:\n- repo: https://github.com/pre-commit/pre-commit-hooks\n  rev: v4.3.0\n  hooks:\n  - id: check-ast\n  - id: check-builtin-literals\n  - id: check-merge-conflict\n  - id: check-yaml\n  - id: check-toml\n  - id: debug-statements\n  - id: end-of-file-fixer\n  - id: trailing-whitespace\n- repo: https://github.com/astral-sh/ruff-pre-commit\n  rev: v0.2.2\n  hooks:\n  - id: ruff\n    name: ruff lint\n    args: [--fix, --exit-non-zero-on-fix]\n  - id: ruff-format\n    name: ruff format\n"
        },
        {
          "name": ".python-version",
          "type": "blob",
          "size": 0.0048828125,
          "content": "3.11\n"
        },
        {
          "name": "CHANGELOG.md",
          "type": "blob",
          "size": 38.306640625,
          "content": "# 1.1.14\n\n* Handle fake feature enums in show\n* Fix battery entries in config.yaml\n* Add ratchet setting for smart shift enhanced devices\n* Refactor Gesture into enum\n* Replace ERROR NamedInts by IntEnum (#2645)\n* Refactor hidpp20 to use enum\n* Update Polish, Swedish, Norwegian Nynorsk (nn), and Norwegian Bokm√•l (nb) translations\n* Use IntEnum for firmware and cidgroup constances\n* Change pairing error values to intenums\n* Fix initialization bug for PackedRangeControl\n* Add tests for feature class, process_notification, and key_is_down\n* Check all bits for extended report rate\n* Add type hints\n* Improve about dialog\n* Reduce dependencies\n* Refactor code\n* Improve testing\n* Allow unknown keys in Key rule conditions\n* Improve documentation for cli actions\n* Cycle sw_id to better guard against duplication of messages\n* Handle error return on root feature\n* Clean up documentation\n* Improve github interactions\n* Add information about Onboard Profiles overriding some settings\n* Add wording to README.md that Solaar is not a device driver\n* Clean up imports\n* Handle unknown device kinds\n* Fix broken links to Solaar logo\n* Use mkdocs for public documentation\n* Clean up setup.py\n* Remove Dead links in the AppStream file\n* Update about.py\n* Remove check on driver\n* Improve base module\n* Remove unnecessary receiver info 'hid_driver'\n* Convert HIDPPNotification to dataclass\n* Be defensive when converting battery status to string\n* Automatically detect packages in /lib\n* Clean up locale code\n* Improve rules documentation\n* Refactor creation of devices\n* Add headings to structure rules.md\n* Unify imports in logitech package\n* Don't ping device when getting name or codename\n* Use dataclasses and enums where useful\n* Introduce Device protocol and type hints\n* Add typing_extensions dependency\n* Move hidpp10 independent functions to module level\n* Fix macOS compatibility and reenable CI tests\n* Unify imports in hidapi package\n* Move screenshots into dedicated folder and add high-level graph of components\n* Update French and Chinese translations\n* Drop support for end-of-life Python 3.7\n\n# 1.1.13\n\n* Update Polish and Russian translations.\n* Fix bug in suspend and resume callback\n* Add choices universe for backlight setting\n* Add simplify diversion.py and add unit tests\n* Get and use current host number for K375sFnSwap because of bug in firmware of MX Keys S\n* Fix bug with logo in about window\n* Don't ping device just to get logging information\n* Optimize write for per-key lighting\n* Add and initialize per-key lighting to a special no-change value\n* Remove some Python 2 compatibility code\n* Update French translation\n* Refactor rule loading for testability\n\n# 1.1.12\n\n* Check for existence of keys file before opening\n* Perform translation for all translatable strings.\n* Add included hid_parser to packages installed\n* Improve label and description for LED zone settings\n* Add message about Onboard Profiles to LED Zone settings\n* Initialize device registers to empty list\n* Use bluez dbus signals to disconnect and connect bluetooth devices\n* Handle a different signal for onboard profiles directory in ROM\n* Introduce small delay in getting pairing information to let receiver settle after pairing\n* Improve testing for settings_templates, settings, hidpp20, and device and fix small bugs found\n* Add extended adjustable DPI setting\n* Improve and extend infrastructure for testing setting_templates\n* Update Greek, Polish, Russian, and Traditional Chinese translations\n* Implement and test per-key lighting\n* Refactor and test pair_window in GUI\n* Handle situation when read of a setting fails in GUI\n* Permit continuing when a read during pushing fails\n* Fix bug in LEDZoneSetting when effect is not implemented\n* Add tests for LEDEffect structures in hidpp20\n* Handle BRIGHTNESS_CONTROL notifications\n* Add settings for BRIGHTNESS_CONTROL and RGB_EFFECTS features\n* Fix small bugs found from testing in settings\n* Use f-strings for more exceptions and log message\n* Tests for setting_templates\n* Simple change in settings to improve testability\n* Use feature_request from the device everywhere in hidpp20\n* Fix bug in backlight 2 durations\n* Replace deprecated code constructs\n* Set up test data and classes to help test HID++ interactions\n* Use pytest to test code for logitech_receiver modules\n* Align init methods for all receiver classes\n* Start refactoring of code base\n* Allow sub-second delays in Later\n* Fix bug in setting configuration cookie due to bad documentation\n* Use ruff for code styling and linting\n* Upgrade string formating to f-string\n* Document battery-icons=solaar option\n* Tell devices to delay device sending first messages until configuration is done\n* Optimize some functions in FeaturesArray\n* Fix bug in creating features array\n* Fix bug in building battery line in show\n* Refactor diversion_rules\n* Fix bug in determining tray icon\n* Fix bug in getting friendly name\n* Move status information to Device and Receiver objects\n* Add tests for get_kind_from_index and base product information\n* Update EX100 documentation\n* Use object attributes instead of dictionary in status objects\n* Create subclasses of receiver for different variants\n* Add requirement for CONFIG_HIDRAW to documentation\n* Add some low-level tests for some hidpp20 functions, profiles, and lighting and some hidpp10 tests\n* Fix app name casing in UI\n* Add missing receiver type for Lightspeed receivers\n* Add new device types\n* Refactor device and receiver instantiation\n* Simplify naming of distribution files\n* Clean up some logging code\n* Remove duplicated code to read register\n* Introduce Hidpp20 and Hidpp10 class\n* Remove unnecessary calls of del\n* Fix bug when reading BACKLIGHT setting from device\n* Replace invalid hidpp10 and hidpp20 usages\n* Use only timer thread to save config.yaml\n* Improve README\n* Copy newer version of hid_parser\n* Reorder code in settings\n* Update installation documentation\n* Add missing license blocks\n* Clean up listener and notifications code\n* Add locks to prevent multiple persisters for device\n* Clean up configuration, device, and receiver code\n* Move battery constants common to HID++ 1.0 and 2.0 to common\n* Move mapping of device kind into hidpp20\n* Move pairing information gathering to receiver\n* update contributors\n* Expand allowable profile numbers\n* Clean up __init__ in logitech_receiver\n* Modify pre-commit args to make ruff change files\n* Fix bug in hidpp20 get host names\n* Use ruff for formatting and linting\n* Fix bug in rule Set action\n* Add notify module to logitech_receiver\n* Implement setting_changed callback and pass in to new devices and receivers\n* Add callback to call when changing a setting\n* Move exceptions, hidpp20 and hidpp10 constants into new modules\n* Streamline status code\n* Upgrade debugging in udev\n* Fix deprecated GitHub actions\n* Extend makefile and tests\n* Improve features array\n* Move ui_async to common.py\n* Improve module imports\n* Add tests of common module\n\n# 1.1.11\n\n* Rename light icons and install them in correct place\n* Setup macOS tests using GitHub action (#2284)\n* Better checking for setting in record_setting\n* Fix invalid func name set logo name\n* Simplify installation of udev rules\n* Add document on implementation\n* Tidy up scrolling appearance in configuration panel\n* Correctly handle profile button with no action\n* Don't unlock setting when changed by external means\n* Refactor code to record change to setting\n* Add GitHub action for tests\n* Introduce tests with pytest\n* Simplify logger instantiation\n* Update label and tooltip for divert-gkeys setting\n* Don't lock setting when an error occurs\n* Catch assertion errors when reading setting values from devices\n* Support LED Zone control feature\n* Dump and load device profiles\n* Select among profiles.\n* Support backlight levels and duration\n* Use \"Report Rate\" instead of \"Polling\" for movement report rate\n* Support extended report rate setting\n* Add stable branch to release.sh (#2236)\n* Fix changelog parsing in release.sh\n* Update installation.md with new udev rules location\n* Downgrade assertion on missing notification flag to warning\n* Write empty file if there are no rules to save\n* Be defensive in device error messages\n* Add descriptions of M650, PRO X 2, G915, MX Anywhere 2S, G305, and MX Keys S\n* Report hidraw node in debugging messages\n* Add names for new Logitech features\n* Update Spanish, French, and Polish translations\n* Defend against lightspeed receivers that contact devices for basic information\n* Remove incorrect feature for M325 mice\n* Add K845 keyboard\n* Add partial support for macOS and minimal support for Windows\n* Correctly enumerate devices on receiver\n* Add wording in documentation about Logitech reusing model numbers\n* Better handling and installation of icons\n* Catch errors when pinging to try to put device online\n* Be more cautious when creating log messages to avoid exceptions\n* Correctly handle NoSuchDevice exception when pinging device\n* Fix test in rules for device equality\n* Add installation instructions for pipx and add not about other GTK system packages\n* Fix bug in NamedInt\n* Add support for MK550\n* Install udev rule files to correct placces\n* Expand expected ping responses\n* Update codename when device status changes\n\n# 1.1.10\n\n* Add information about NixOS flake package\n* Permit bluetooth devices in hidconsole\n* Add descriptor for Logitech MX Revolution Mouse M-RCL 124\n* Improve determination for short and long messages\n* Add descriptor for G500s\n* Fix bug in scan-registers\n* Add single depress and release options for rule mouse click action\n* Add rule condition for hostname\n* Update keysym generation to current list of keysyms\n* Allow device 0 in hidconsole\n* Upgrade messages when no supported device found\n* Documentation update for the gnome extension for better Solaar rule support\n* Remove udev-acl tag from udev rules\n* Add support for process condition in Wayland\n* Update French, Chinese, and German translations\n* Add G733 Headset\n* Restore tools/clean.sh\n* Add Bluetooth Keyboard C714\n* Update several device descriptions\n* Update scan-registers.sh\n* Remove assertion on last byte of ping responses\n* Add symbolic version of solaar icon\n* Fix bug when finding name or codename\n* Update documentation\n* Put version in initial INFO logging message\n\n# 1.1.9\n\n* Add descriptors for G535 wireless gaming headset and wireless keyboard EX110\n* Update Greek translation\n* Fix minor issues in documentation\n* Remove some deprecated GTK code\n* Use zero exit code for kill interrupts\n* Add rule Test condition for battery charging\n* Get wpid for 28Mz devices from udev when enumerating\n* Add Device condition to rules\n* Don't show wireless link or battery information when unknown or not present\n* Add desccriptor for G9x and LX7 mice\n* Fix bug in determining kind of devices for 27Mz receivers\n* Set initial lock status of smooth scrolling features to ignore\n* Fix glitch in configuration file update when changing versions\n* Add more debugging output for rules\n* Clean up pinging code\n* Put initial ping of direct-connected devices inside listener thread\n* Read and check before write of range settings\n* Improve pairing determination\n* Cut off determination of receiver devices when all have been found\n* Remove derived configuration fields when Solaar version changes\n* Allow device descriptors without name and codename\n* Filter and escape technical detail fields\n* Add setting for ADC power managemen\n* Correctly determine whether to ping with a long HID++ message\n* Add description for K470 keyboard from the MK470 combo (#1945)\n* Add setting value for mouse gestures\n* Update German and French translations\n* Remove old clean.sh and monitor.py tools\n* Retry opening device if permissions error encountered\n* Better handlling of IO errors at device creation\n* Add KeyIsDown rule condition to check whether a diverted key is down\n* Clean up device and receiver creation\n\n# 1.1.8\n\n* Add parameter to thumb wheel rule conditions\n* Rename Serbian translation file\n* Update Polish translation\n* Improve handling of wheel notifications\n* Only record changes of scroll wheel ratchet\n* Don't mark setting as absent if there are device errors\n* More robust access to keyword exception fields\n* Add support for config change feature\n* Clean up GTK code\n* Update documentation on mouse gestures and known issues\n* Get commit information from git describe and dpkg-parsechangelog\n* Update pre-commit tools to current versions\n* Update installation instructions\n* Add 8-character commit hash to version information\n* Update solaar.desktop (#1857)\n* Get release in setup.py by reading lib/solaar/__init__.py\n* Remove version number from docs/_config.yml\n* Update solaar.desktop\n* Update es.po\n* Clarify status of C542 receiver\n* Update devices directory\n* Add description of several devices\n* Show name of disconnecting receiver or device in disconnect warning\n* Reduce standard size of rule editor window\n* Remove unnecessary dependency on typing_extensions\n\n# 1.1.7\n\n* Add dependency on typing_extension to setup.py\n* Don't defer saves in CLI and don't require Gtk in CLI\n* Be more permissive in recognizing HID++ report descriptors\n* Update Polish and Croatian translations\n* Switch scroll ratcheting in response to scroll ratchet button notification\n* Add setting to turn scroll ratchet on and off\n* Eliminate visual glitch when updating range setting\n* Make hid-parser an optional dependency\n\n# 1.1.6\n\n* Only update remaining pairings after successful pairing\n* Check for presence of status attribute when resuming\n* Update Polish and Croation translations\n* Don't add non-existant key in raw xy processing\n* Add special keys from MX Mechanical Mini\n* Fix processing of HID++ 1.0 battery reports\n* Use report descriptors to determine suitable devices\n* Handle exceptions when processing configuration file\n* Add Logitech PRO Gaming Keyboard\n* Fix bad entries in divert-keys when found\n* Correctly convert old-style diversions to new style and remove old ones\n* Add optional save argument to write_key_value methods\n* Use device name in configuration entries if device modelId is zeroes\n* Don't show normal DJ messages in debug log\n* Add Later rule action\n* Correctly record battery feature when ADC produces error\n* Print feature call errors in solaar show instead of terminating\n* Use ADC notifications to set device inactive and active\n* Add one to feature count to count ROOT feature\n* Don't check modifiers for KeyPress actions that are not clicks\n* Augment comments on what Solaar cannot do\n* Fix bug in printing closed handle\n* Use only product records to determine which receivers unpair\n* Add conditional delay to get around race with Linux HID++ driver\n\n# 1.1.5\n\n* Add G213 Prodigy Gaming Keyboard\n* Update Turkish, Croation, and zh_CN translations\n* Move old device descriptions to new locations and clean up\n* Increase minimum stopped time between mouse movements\n* Fix bug with non-recognized empty mouse movement\n* Allow config panel to scroll\n* Add descriptions for K360 4004, MX Master 4017, Lightspeed C541, and G915 407D\n* Change security tooltip for unencrypted wireless connections\n* Add Norwegian Bokmal translation\n* Update documentation on continuously running GUI, diverted keys, and changing hosts\n* Solaar config no longer applies settings\n* Add description of rule components to rule editor\n* Ignore first movement for mouse gestures when reprog controls version is 5 or more\n* Add Active rule condition to test whether a device is active\n* Terminate iteration over receiver devices when all have been found\n* Downgrade Set prolem messages from error to warning\n* Log informational messages and above to a temporary file\n* Don't produce warnings when editing rules in rule editor\n* Fix bug that didn't save rules file if there were no rules\n* Allow devices with connection number larger than max_devices\n* Show more registers in solaar probe\n* Show feature versions in solaar show\n* Fix problems with deleting devices on exit\n* Update German translation\n* Update device documentation directory\n* Add descriptors for G502 Proteus Spectrum Optical Mouse and G935 headset\n* Record feature versions\n* Add Serbian translation\n* Fix circular import in rules\n* Keep track of devices and use in rules\n* Update zh_CN and zh_TW translations\n* Convert old-style mouse gestures and sliding dpi settings to new style\n* Allow multiple keys for mouse gestures and sliding dpi\n* Defer saving configuration file for a while to cut down on the number if times it is saved\n* Use correct functions for unified battery and battery voltage features.\n* Add defensive check for missing keys array in mouse gestures setting\n* Better presentation of battery information\n* Add support for ADC MEASUREMENT battery feature\n* Add information on how to find divertable key names in solaar show output\n* Better warnings for feature call errors with reprogrammable key and gesture settings\n* Increase entry size for ChoiceControlBig\n\n# 1.1.4\n\n* Update Croatian translation\n* Handle unanticipated values for persistent remappable action as default\n* Improve system tray interface documentation\n* Remove blank lines from system tray popup\n* Update Polish translation\n* Add depress and release options to KeyPress rule action\n* Only close existing devices for receiver\n* Differentiate debug messages for different setting types\n* Implement packed range setting in config panel\n* Only produce warning for unimplemented display of setting\n* Add sidetone and equalizer settings for headsets\n* Add packed ranges setting\n* Use built-ins for conversions between int and byte string\n* Don't add HI_RES wheel ecodes to evdev device codes\n* Handle null key in persistent remappable actions when device does not respond\n* Consult polling rate feature for polling rate\n* Eliminate extra file handles\n* Close file handles for receiver-connected devices\n* Access to more keys in KeyPress rule action when in other keyboard groups\n* Update Turkish translation\n* Put battery levels in tray menu labels\n* Reduce warnings for inaccessible keys in KeyPress rule action\n* Better determination of keycodes and insert needed shifts in KeyPress actions.\n* Be careful when processing notifications for partly set up devices.\n* Clear out fields for empty persistent remappable action.\n* Fix message generation when device is offline.\n* Fix bug in feature lookup.\n* Add support for G533 Headset and G502 Gaming Mouse\n* Improve device features handling.\n* Keep trying settings that have worked in the past.\n* Store None in persisters for non-persisting settings.\n* Only create configuration entries for off-line devices if they have a serial number.\n\n# 1.1.3\n\n* Update documentation files\n* Lower remove python 3.7 constructs and lower python dependency to 3.6\n* Fix bug in xtest mouse scrolling\n* Allow mouse gesture setting for non-mice, e.g., trackballs\n* Print message when there is another Solaar process running\n* Fix determination of whether to force read before writing boolean setting\n* Add recent diversion features to default list in rules UI\n* Add setting to divert hires scroll wheel\n* Don't use device kind to determine how to handle notifications\n* Update Polish, Russian, and zh_CN translations\n* Remove pggettext so as to not require Python 3.8\n* Remove Python 2 unicode support\n* Store keys in configuration file as int instead of str\n* Use yaml for configuration file instead of json.\n* Remove process-dependent rules from built-in rules.\n* Handle situation where GTK application cannot be set up in CLI.\n* Remove obsolete upower signals.\n* Appinfo/metadata fixes including using correct APP_ID.\n* Fix bugs in solaar config.\n* Add full set of mouse buttons in persistent remappable actions setting.\n* Improve rule behaviour under Wayland and when Xtest or X11 not available.\n* Fix up and document dependencies (evdev, Python, ...).\n\n# 1.1.2\n\n* Update documentation on supported devices and translations\n* Include evdev as a dependency\n* Try to use uinput for fake input if XTest extension not available\n* Add Nano receiver C542 for M190 mice\n* Broaden range of HID++ Bluetooth devices\n* Add setting to divert gestures\n* Rule editor can edit all rule components\n* Configuration via solaar config takes effect in Solaar UI if it is running\n* Add setting to disable Onboard Profiles and decouple from Polling Rate setting\n* Add setting for PERSISTENT_REMAPPABLE_ACTION, common keyboard and mouse cases only\n* Split Test rule condition into Test and TestBytes and support in rule editor\n* Fix bug in speed-change setting\n* Support Backlight3 feature\n* Ensure that settings are pushed in resume\n* Update German, Polish,  and zh_CN translations\n* Determine device number for direct-connected devices from protocol\n* fix bug in add and delete button actions in rule editor\n* dispose of no-op notifications quickly\n* add rule condition for checking device settings\n* use local file for conversion from key names to keysyms\n* get keyboard group and use to get correct keycodes (X11 only)\n* improve how rules work under Wayland\n* add settings for M-Key LEDs and MR-Key LED\n* fix bug in unpacking M and MR key notification\n* add G815 keyboard and MX518 mouse\n* add new special keys for recent keyboards\n* track M and MR keys for use in rules\n* make sure that device is online when searching for devices in solaar show\n* don't check for device kind in dpi sliding setting\n* fix problem with devices that report 0 DPI\n* handle missing divert-setting in action RW for settings\n* add id property (unitId or serial) and don't use ? for unknown serial\n* fix contains for NamedInts and eliminate use of has_element\n* check for xtest and disable modifier checking if not available\n* improve determination of gesture information\n* add Set rules to rule GUI\n* add gesture params to Set rules\n* hide system tray when there are no devices to control\n* add G733 headset, G9 mouse, G502 Hero mouse\n* Use greyscale solaar icon in tray when using symbolic icons\n* Fix bugs in solaar config\n* Use classes for settings to hep with modularity\n* Accept '~' and Toggle for toggling boolean settings in cli and rules\n* handle errors when writing to devices\n* refactor config_panel.py to use classes for widgets\n* add rules action to set Solaar settings\n* decrease amount of logging at each debug level\n* don't stretch toggles in settings\n* use key structure for key remapping setting\n* optimize ReprogrammableKey implementation\n* keep track of settings that are absent from device\n* add G512 keyboard and G402 mouse\n* reformat descriptors.py\n* use feature numbers for reprogrammable key versions\n* don't use new_from_icon_set in menu as it is deprecated\n\n# 1.1.1\n\n* Keep left pane in Solaar main window the same size\n* Fix crash when checking a process condition when X11 not running\n* Add version number to output of solaar show\n* Fix crash when pinging a device with unknown protocol\n* Display battery percentage estimates from battery voltage\n* Add minimal support for Logitech PRO X Wireless Gaming Headset\n* Push settings when device requests software reconfiguration\n* Fix read for key/button diversion setting\n* Add modalias information to Solaar metainfo\n* Don't do on-screen notifications when devices are powered on\n* Add setting to switch crown between smooth and ratchet scrolling\n* Add write_prefix_bytes argument to Boolean validator\n* Update Russian and Spanish translations\n* New shell script tools to help determine capabilities of receivers\n* Add special keys for MX Keys for Business and MX Keys Mini\n* Improve tray menu ordering\n* Add --tray-icon-size option to get around bugs in some tray implementations\n\n# 1.1.0\n\n* Fix bug when adding receiver to tray menu\n* Add Catalan translation.\n* Add toggle command to solaar config to toggle boolean settings\n* Don't select windows with no PID when looking for focus window\n* Catch errors when applying settings so that other settings are not affected\n* Add support for Bolt receivers and devices, including pairing\n* Revise method for creating system tray menu\n* Remove obsolete code (mostly Python 2 compatibility code)\n* Add support for PRO X Wireless Mouse, G914 TKL keyboard\n* Ignore more notifications that come to a device listener\n* Handle more device connection protocols\n* Update usage and rules documentation\n* Change emojis to text in documentation\n* Pare down device documentation so as not to require frequent updates\n* Add information about M500S mouse\n* Reimplement MOUSE GESTURE and DPI SLIDING settings\n* Add setting for DPI CHANGE button to switch sensitivity\n* Use file name instead of icon name for tray to avoid XFCE bug\n* Update documentation on implemented features and mouse gestures\n* Update Polish, Japanese, and Spanish translations\n* Make Quit and About strings more translatable\n\n# 1.0.7\n\n* Don't use time_ns so as not to require Python 3.7\n* Correctly determine setting box in change_click method\n* Handle fake Nano connection notifications\n* Lock on actual handle, not just on handle number\n* Mark Nano receiver C52F as not unpairing\n* Upgrade pairing/unpairing documentation\n* Don't signal status change when battery changes from None to None.\n* Add Japanese translation\n* Use first word of name for code name if no other code name available.\n* Better determination of when to add SW ID.\n* Check for more HID++ feature request failing.\n* Fix bug with new_fn_inversion setting.\n* Use correct device number for directly connected devices\n* Add debug message when candidate device found\n* Update Polish, Taiwanese, and Brazilian Portuguese translations\n* Add MouseProcess a rule condition like Process but for the window under the mouse\n* Add parameters for binary settings to support prefixes\n* Add locks to serialize requests to devices\n* Fix bug when reprog key requests returns None\n* Fix bug for empty process name and class\n* Rules can now trigger on both pressing and releasing a diverted key\n* Upgrade mouse gestures to allow sequences of movements\n* Fix gkeys diversion faked read\n* Add support for Logitech g pro x superlight receiver\n* Convert HID++ 2.0 device kinds to enhanced HID++ 1.0 device kinds\n* Update about window, bug report templates, and supported kernels.\n\n# 1.0.6\n\n* Update sliding DPI to look for suitable keys\n* Add mouse gestures that can trigger rules\n* Complain if receivers do not support connection notification\n* In polling rate setting, only modify onboard profiles when actually writing polling rate\n* Add ability to ignore settings.\n* Use symbols for receiver sub-registers\n* Add support for wired G700\n* Do not set attention icon\n* Replace deprecated GTK stock menu icons\n* Better handling of icons in tray and tray menus\n* Receiver c52e does not unpair\n* Match active WM_CLASS as well as active process name in rules\n* Correctly set icon theme value when regular battery icons are not available\n* Handle exception when device is not available when device is being added\n* Perform initial activation of devices in listener threads\n* Keep track of serial numbers in the configuration file\n* Don't update settings for non-active devices\n* Set the current host name if not stored on the device\n* Add setting for SMART SHIFT ENHANCED feature\n* Don't unnecessarily use long messages for HID++ 1.0 commands\n* Correctly select choices in solaar config and use 1-origin addressing\n* Add quirk for G915 TKL keyboard because its host mode interferes with its Fn keys\n* Show command outputs both saved and on-device settings\n* Update documentation\n* Fix bug in hidconsole\n* Update French translation\n\n# 1.0.5\n\n* Update documentation on devices forgetting settings.\n* Improve help messages\n* Fix bug in finding receiver to pair\n* Solaar config command can set keyed settings.\n* Add setting for polling rate\n* Use long HID++ messages for all 2.0 requests\n* Update German, Italian, and Polish translations\n* Solaar config command no longer selects paired but unconnected devices\n* Show HID++ 1.0 remaining pairings value in solaar show for devices that support it\n* Add option to not use battery icons in system tray.\n* Update Polish and Dutch translation.\n* Add Czech translation.\n* Remove information on SUSE package as it is very old.\n* Turn GKEY notifications into Gn key keypresses that can trigger rules.\n* Push device settings to devices after suspend when device is immediately active.\n* Reduce unnecessary saving of configuration file.\n* Better handling of disconnected devices.\n* Implement GUI to edit rules.\n* Implement rule-base processing of HID++ feature notifications (depends on X11).\n* Add settings for diversion of crown and remappable keys.\n* Access widgets by name instead of by index.\n* Implement UNIFIED_BATTERY feature and use in battery reports.\n* Add a clickable lock icon that determines where each setting can be changed.\n\n# 1.0.4\n\n* Update pt_BR translation\n* Support USB and BT connected devices that are not in descriptors.py\n* Use FRIENDLY NAME for codename if needed and available.\n* Extract manufacturer and product ID from Udev HID information.\n* Add Bluetooth and USB product IDs to device descriptors records.\n* Support Bluetooth-connected devices.\n* Add model ID and unit ID to device identification.\n* Support changing DPI by pressing DPI Switch button and sliding horizontally\n* Add device-specific notification handlers.\n* Add MX Vertical USB information.\n* Udev rule adds seat permissions for all Logitech devices.\n* Support USB-connected devices in GUI.\n* Make probe and config work for USB-connected devices.\n* Improve strings and display for settings.\n* Correctly handle non-unifying connection notifications.\n* Update GUI strings for several settings.\n* Better support for EX100 and devices that connect to it.\n* Partial support for feature GESTURE_2.\n* Simplify interface for settings.\n* Use DJ connection notifications to set device active status\n* Udev rule sets seat write permissions for hidraw nodes for device as well as receivers.\n* Handle USB devices that use HID++ protocol in CLI.\n* Use device hidraw nodes where possible.\n* Handle receivers with serial numbers that don't provide number of pairings.\n* Ignore exceptions when setting locale.\n* Correctly discover settings that share a name.\n* Don't show pop-up notifications at startup.\n* Keep battery voltage updated in GUI.\n* Add Portuguese translation.\n* Update several translations.\n* Add Lightspeed receivers c545 and c541.\n* Reimplement REPROG_CONTROLS data structure.\n\n# 1.0.3\n\n* Clean up documentation files.\n* Update documentation on installation.\n* Update Swedish and French translations.\n* Add Norwegian Nynorsk and Danish translations.\n* Fix bug handling DJ pairing notifications.\n* Add Norwegian Bokm√•l translation.\n* Remove deprecated solaar-cli application.\n* Don't install udev or autostart files from python (or pip).\n* Solaar needs Python 3.6+ and probably needs kernel 5.2+\n* Handle exceptions on dynamic settings when device is not connected.\n* Fix infinite loop on some low-level write errors\n* Add support for EX100 keyboard/mouse and receiver (046d:c517)\n* Add two settings for THUMB_WHEEL feature - inversion and reporting via HID++\n* Update German translation\n* Use REPORT RATE feature when available to determine polling rate.\n* Improve config command speed when not printing all settings\n* Improve config command handling and checking of arguments\n* Add setting for CHANGE_HOST feature\n* Add argument to settings for values that are not to persist\n* Add argument to settings to not wait for reply when writing a value to device\n* Add argument to not wait for reply from request to device\n* Add settings for MULTIPLATFORM and DUALPLATFORM features\n* Remove Logitech documents from documentation directory\n* Change config command to not read all settings when only printing or showing one\n* Display hosts info in 'solaar show' if device supports it\n* Remove non-working smooth-scroll from M510 v1\n* Add yapf and flake8 code style checks\n* Fix feature k375s Fn inversion\n* Update controls (keys and buttons) and tasks (actions)\n* Improved way to specify feature settings.\n* Don't abort on device notifications with unexpected device numbers, just warn.\n* Keep track of non-features so as not to ask device multiple times.\n* Implement KEYBOARD DISABLE KEYS feature.\n* Don't create notifications for DJ device activity reports.\n* Update a few special keys and actions.\n* Add keyed choice settings in configuration panel.\n* Support remappable keys from reprogrammable keys v4 feature.\n* Add setting class for keyed choice.\n* Only check for features once per device.\n* Use settings interface to show feature values in `solaar show` if no special code for feature.\n* Remove maximum window size.\n* Process battery voltage notifications.\n* Display battery voltage information in main window if regular battery information not available.\n* Show next battery level where available.\n* Update list of implemented features and provide information on how to implement features.\n* Add c53d as a Lightspeed receiver.\n\n# 1.0.2\n\n* Add usage document\n* Don't produce error dialog for inaccessible receivers with access control lists.\n* Add option --battery-icons=symbolic to use symbolic icons if available.\n* Update French translation\n* Update installation documentation\n* Remove packaging directory tree as it is not maintained\n* Pip installs udev rule and solaar autostart when doing install without --user flag\n* Use Solaar icon instead of a missing battery icon\n* Use only standard icons for battery levels.  Symbolic icons do not change to white in dark themes because of problems external to Solaar.\n* Better reporting of battery levels when charging for some devices.\n* Add information on K600 TV, M350 WIPD 4080, and MX Keys\n* Remove assertion requiring receivers to still be in window when they are updated.\n* Augment long description of Solaar showing up in repositories.\n* Update installation directions.\n* Install udev rule as well as autostart file when doing system install.\n* Add support for Ayatana AppIndicator.\n* Use setuptools icon directory on system installs when not using pip.\n* Add receiver C517 and several older devices.\n* Improved translations for polish.\n* Bypass bug in appindicator when solaar is file in current directory.\n* Don't check that device kind matches feature kind.\n* Better determination of icons for battery levels.\n* Use Ayatana AppIndicator if available.\n* Improve error reporting when required system packages are not install.\n* Better tooltip description\n* Add release script to help when creating releases\n* Look up tray icon filenames to get around a bug in libappindicator.\n* Make the default behavior be to show the main window at startup.\n* Support c537 nano receiver\n* Add logind signals for suspend/resume.\n* Remove solaar-gnome3 package\n* Ignore features for devices that don't follow feature specification\n* Add probe command to command-line interface to dump receiver registers\n* Don't terminate on malformed or unknown messages\n* Create fewer internal notifications for messages from devices\n* Add a button to the main window to terminate (quit) Solaar\n* Set up nano receivers as receivers with no unpairing and with re-pairing\n* Set up c534 as receiver with max 2 pairings, no unpairing, re-pairing\n* Better support receivers that do not unpair or when pairing replace existing pairings\n* Add information about receiver pairing to receiver data structure\n* Better support devices that only allow a limited number of total re-pairings\n* Add --window option to control main window visibility and tray usage\n* Ignore receiver if USB id is not retrieved\n* Fix bug with double deleting when devices are disconnected\n* Determine some receiver information from data structure for USB ids\n* Treat battery level of 0 as unknown\n* Fix bug on devices with no serial number\n* Drop support for python2, and use python3 throughout\n* Fix bug in remembering features discovered from device reports\n* Show icons in main window device list\n* Count offline devices when determining whether pairing is possible\n* Update French, Dutch, German, and Croatian translations\n* Better icons for battery levels\n* Support DPI, Backlight 2, Battery Voltage features\n* Support M585, M590, M330, MX Master 2s and 3, new M310, new K800, craft keyboard\n* Documentation improvements\n* Clean up directory structure and remove unused files\n\n# 1.0.1\n\n* Updated the repo url.\n* Fixed typo which was crashing the application.\n* Improved the HID write routine which was causing issues on some devices.\n* Fix non-unifying receivers in Linux 5.2.\n* Add new Lightspeed receiver (used in the G305)\n\n# 1.0.0\n\n* Too many to track...\n\n# 0.9.3\n\n* Merged solaar-cli functionality into main solaar.\n* Scrolling over the systray icon switches between multiple peripherals.\n* Swedish translation courtesy of Daniel Zippert and Emelie Snecker\n* French translation courtesy of Papoteur, David Geiger and Damien Lallement.\n* Fixed some untranslated strings.\n\n# 0.9.2\n\n* Added support for hand detection on the K800.\n* Added support for V550 and V450 Nano.\n* Fixed side-scrolling with the M705 Marathon.\n* Fixed identification of the T650 Touchpad.\n* Added internationalization support and romanian translation.\n* Polish translation courtesy of Adrian Piotrowicz.\n\n# 0.9.1\n\n* When devices report a battery alert, only show the alert once.\n* Make sure devices in the window tree are sorted by registration index.\n* Added an autostart .desktop file.\n* Replaced single-instance code with GtkApplication.\n* Fixed identification of the M505 mouse.\n* Fixed an occasional windowing layout bug with the C52F Nano Receiver.\n\n# 0.9.0\n\n* New single-window UI.\n* Performance MX leds show the current battery charge.\n* Support the VX Nano mouse.\n* Faster and more accurate detection of devices.\n* If upower is accessible through DBus, handle suspend/resume.\n* Replaced Solaar icons with SVGs.\n* Running solaar-cli in parallel with solaar is now less likely to cause issues.\n* Bugfixes to saving and applying device settings.\n* Properly handle ^C when running in console.\n\n# 0.8.9\n\n* Improved support for gnome-shell/Unity.\n* Persist devices settings between runs.\n* Fixed reading of MK700 keyboard battery status.\n* Use battery icons from the current theme instead of custom ones.\n* Debian/Ubuntu packages now depend on an icon theme, to make sure\n  no missing icons appear in the application window.\n* Fixed missing icons under Kubuntu.\n* Many more bug-fixes and reliability improvements.\n\n# 0.8.8\n\n* Partial support for some Nano receivers.\n* Improved support for some devices: M510, K800, Performance MX.\n* Improved battery support for some HID++ 1.0 devices.\n* Properly handle device loss on computer sleep/wake.\n* Better handling of receiver adding and removal at runtime.\n* Removed a few more unhelpful notifications.\n* Incipient support for multiple connected receivers.\n* More Python 3 fixes.\n\n# 0.8.7\n\n* Don't show the \"device disconnected\" notification, it can be annoying and\n  not very useful.\n* More robust detection of systray icon visibility.\n\n# 0.8.6\n\n* Ensure the Gtk application is single-instance.\n* Fix identifying available dpi values.\n* Fixed locating application icons when installed in a custom prefix.\n* Fixed some icon names for the oxygen theme.\n* Python 3 fixes.\n"
        },
        {
          "name": "COPYRIGHT",
          "type": "blob",
          "size": 0.6328125,
          "content": "Copyright 2012, 2013\nDaniel Pavel <daniel.pavel@gmail.com>\n\n    This program is free software: you can redistribute it and/or modify\n    it under the terms of the GNU General Public License as published by\n    the Free Software Foundation, version 2.\n\n    This program is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU General Public License for more details.\n\n    You should have received a copy of the GNU General Public License\n    along with this program.  If not, see <https://www.gnu.org/licenses/>.\n"
        },
        {
          "name": "LICENSE.txt",
          "type": "blob",
          "size": 17.66796875,
          "content": "                    GNU GENERAL PUBLIC LICENSE\n                       Version 2, June 1991\n\n Copyright (C) 1989, 1991 Free Software Foundation, Inc.,\n 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA\n Everyone is permitted to copy and distribute verbatim copies\n of this license document, but changing it is not allowed.\n\n                            Preamble\n\n  The licenses for most software are designed to take away your\nfreedom to share and change it.  By contrast, the GNU General Public\nLicense is intended to guarantee your freedom to share and change free\nsoftware--to make sure the software is free for all its users.  This\nGeneral Public License applies to most of the Free Software\nFoundation's software and to any other program whose authors commit to\nusing it.  (Some other Free Software Foundation software is covered by\nthe GNU Lesser General Public License instead.)  You can apply it to\nyour programs, too.\n\n  When we speak of free software, we are referring to freedom, not\nprice.  Our General Public Licenses are designed to make sure that you\nhave the freedom to distribute copies of free software (and charge for\nthis service if you wish), that you receive source code or can get it\nif you want it, that you can change the software or use pieces of it\nin new free programs; and that you know you can do these things.\n\n  To protect your rights, we need to make restrictions that forbid\nanyone to deny you these rights or to ask you to surrender the rights.\nThese restrictions translate to certain responsibilities for you if you\ndistribute copies of the software, or if you modify it.\n\n  For example, if you distribute copies of such a program, whether\ngratis or for a fee, you must give the recipients all the rights that\nyou have.  You must make sure that they, too, receive or can get the\nsource code.  And you must show them these terms so they know their\nrights.\n\n  We protect your rights with two steps: (1) copyright the software, and\n(2) offer you this license which gives you legal permission to copy,\ndistribute and/or modify the software.\n\n  Also, for each author's protection and ours, we want to make certain\nthat everyone understands that there is no warranty for this free\nsoftware.  If the software is modified by someone else and passed on, we\nwant its recipients to know that what they have is not the original, so\nthat any problems introduced by others will not reflect on the original\nauthors' reputations.\n\n  Finally, any free program is threatened constantly by software\npatents.  We wish to avoid the danger that redistributors of a free\nprogram will individually obtain patent licenses, in effect making the\nprogram proprietary.  To prevent this, we have made it clear that any\npatent must be licensed for everyone's free use or not licensed at all.\n\n  The precise terms and conditions for copying, distribution and\nmodification follow.\n\n                    GNU GENERAL PUBLIC LICENSE\n   TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION\n\n  0. This License applies to any program or other work which contains\na notice placed by the copyright holder saying it may be distributed\nunder the terms of this General Public License.  The \"Program\", below,\nrefers to any such program or work, and a \"work based on the Program\"\nmeans either the Program or any derivative work under copyright law:\nthat is to say, a work containing the Program or a portion of it,\neither verbatim or with modifications and/or translated into another\nlanguage.  (Hereinafter, translation is included without limitation in\nthe term \"modification\".)  Each licensee is addressed as \"you\".\n\nActivities other than copying, distribution and modification are not\ncovered by this License; they are outside its scope.  The act of\nrunning the Program is not restricted, and the output from the Program\nis covered only if its contents constitute a work based on the\nProgram (independent of having been made by running the Program).\nWhether that is true depends on what the Program does.\n\n  1. You may copy and distribute verbatim copies of the Program's\nsource code as you receive it, in any medium, provided that you\nconspicuously and appropriately publish on each copy an appropriate\ncopyright notice and disclaimer of warranty; keep intact all the\nnotices that refer to this License and to the absence of any warranty;\nand give any other recipients of the Program a copy of this License\nalong with the Program.\n\nYou may charge a fee for the physical act of transferring a copy, and\nyou may at your option offer warranty protection in exchange for a fee.\n\n  2. You may modify your copy or copies of the Program or any portion\nof it, thus forming a work based on the Program, and copy and\ndistribute such modifications or work under the terms of Section 1\nabove, provided that you also meet all of these conditions:\n\n    a) You must cause the modified files to carry prominent notices\n    stating that you changed the files and the date of any change.\n\n    b) You must cause any work that you distribute or publish, that in\n    whole or in part contains or is derived from the Program or any\n    part thereof, to be licensed as a whole at no charge to all third\n    parties under the terms of this License.\n\n    c) If the modified program normally reads commands interactively\n    when run, you must cause it, when started running for such\n    interactive use in the most ordinary way, to print or display an\n    announcement including an appropriate copyright notice and a\n    notice that there is no warranty (or else, saying that you provide\n    a warranty) and that users may redistribute the program under\n    these conditions, and telling the user how to view a copy of this\n    License.  (Exception: if the Program itself is interactive but\n    does not normally print such an announcement, your work based on\n    the Program is not required to print an announcement.)\n\nThese requirements apply to the modified work as a whole.  If\nidentifiable sections of that work are not derived from the Program,\nand can be reasonably considered independent and separate works in\nthemselves, then this License, and its terms, do not apply to those\nsections when you distribute them as separate works.  But when you\ndistribute the same sections as part of a whole which is a work based\non the Program, the distribution of the whole must be on the terms of\nthis License, whose permissions for other licensees extend to the\nentire whole, and thus to each and every part regardless of who wrote it.\n\nThus, it is not the intent of this section to claim rights or contest\nyour rights to work written entirely by you; rather, the intent is to\nexercise the right to control the distribution of derivative or\ncollective works based on the Program.\n\nIn addition, mere aggregation of another work not based on the Program\nwith the Program (or with a work based on the Program) on a volume of\na storage or distribution medium does not bring the other work under\nthe scope of this License.\n\n  3. You may copy and distribute the Program (or a work based on it,\nunder Section 2) in object code or executable form under the terms of\nSections 1 and 2 above provided that you also do one of the following:\n\n    a) Accompany it with the complete corresponding machine-readable\n    source code, which must be distributed under the terms of Sections\n    1 and 2 above on a medium customarily used for software interchange; or,\n\n    b) Accompany it with a written offer, valid for at least three\n    years, to give any third party, for a charge no more than your\n    cost of physically performing source distribution, a complete\n    machine-readable copy of the corresponding source code, to be\n    distributed under the terms of Sections 1 and 2 above on a medium\n    customarily used for software interchange; or,\n\n    c) Accompany it with the information you received as to the offer\n    to distribute corresponding source code.  (This alternative is\n    allowed only for noncommercial distribution and only if you\n    received the program in object code or executable form with such\n    an offer, in accord with Subsection b above.)\n\nThe source code for a work means the preferred form of the work for\nmaking modifications to it.  For an executable work, complete source\ncode means all the source code for all modules it contains, plus any\nassociated interface definition files, plus the scripts used to\ncontrol compilation and installation of the executable.  However, as a\nspecial exception, the source code distributed need not include\nanything that is normally distributed (in either source or binary\nform) with the major components (compiler, kernel, and so on) of the\noperating system on which the executable runs, unless that component\nitself accompanies the executable.\n\nIf distribution of executable or object code is made by offering\naccess to copy from a designated place, then offering equivalent\naccess to copy the source code from the same place counts as\ndistribution of the source code, even though third parties are not\ncompelled to copy the source along with the object code.\n\n  4. You may not copy, modify, sublicense, or distribute the Program\nexcept as expressly provided under this License.  Any attempt\notherwise to copy, modify, sublicense or distribute the Program is\nvoid, and will automatically terminate your rights under this License.\nHowever, parties who have received copies, or rights, from you under\nthis License will not have their licenses terminated so long as such\nparties remain in full compliance.\n\n  5. You are not required to accept this License, since you have not\nsigned it.  However, nothing else grants you permission to modify or\ndistribute the Program or its derivative works.  These actions are\nprohibited by law if you do not accept this License.  Therefore, by\nmodifying or distributing the Program (or any work based on the\nProgram), you indicate your acceptance of this License to do so, and\nall its terms and conditions for copying, distributing or modifying\nthe Program or works based on it.\n\n  6. Each time you redistribute the Program (or any work based on the\nProgram), the recipient automatically receives a license from the\noriginal licensor to copy, distribute or modify the Program subject to\nthese terms and conditions.  You may not impose any further\nrestrictions on the recipients' exercise of the rights granted herein.\nYou are not responsible for enforcing compliance by third parties to\nthis License.\n\n  7. If, as a consequence of a court judgment or allegation of patent\ninfringement or for any other reason (not limited to patent issues),\nconditions are imposed on you (whether by court order, agreement or\notherwise) that contradict the conditions of this License, they do not\nexcuse you from the conditions of this License.  If you cannot\ndistribute so as to satisfy simultaneously your obligations under this\nLicense and any other pertinent obligations, then as a consequence you\nmay not distribute the Program at all.  For example, if a patent\nlicense would not permit royalty-free redistribution of the Program by\nall those who receive copies directly or indirectly through you, then\nthe only way you could satisfy both it and this License would be to\nrefrain entirely from distribution of the Program.\n\nIf any portion of this section is held invalid or unenforceable under\nany particular circumstance, the balance of the section is intended to\napply and the section as a whole is intended to apply in other\ncircumstances.\n\nIt is not the purpose of this section to induce you to infringe any\npatents or other property right claims or to contest validity of any\nsuch claims; this section has the sole purpose of protecting the\nintegrity of the free software distribution system, which is\nimplemented by public license practices.  Many people have made\ngenerous contributions to the wide range of software distributed\nthrough that system in reliance on consistent application of that\nsystem; it is up to the author/donor to decide if he or she is willing\nto distribute software through any other system and a licensee cannot\nimpose that choice.\n\nThis section is intended to make thoroughly clear what is believed to\nbe a consequence of the rest of this License.\n\n  8. If the distribution and/or use of the Program is restricted in\ncertain countries either by patents or by copyrighted interfaces, the\noriginal copyright holder who places the Program under this License\nmay add an explicit geographical distribution limitation excluding\nthose countries, so that distribution is permitted only in or among\ncountries not thus excluded.  In such case, this License incorporates\nthe limitation as if written in the body of this License.\n\n  9. The Free Software Foundation may publish revised and/or new versions\nof the General Public License from time to time.  Such new versions will\nbe similar in spirit to the present version, but may differ in detail to\naddress new problems or concerns.\n\nEach version is given a distinguishing version number.  If the Program\nspecifies a version number of this License which applies to it and \"any\nlater version\", you have the option of following the terms and conditions\neither of that version or of any later version published by the Free\nSoftware Foundation.  If the Program does not specify a version number of\nthis License, you may choose any version ever published by the Free Software\nFoundation.\n\n  10. If you wish to incorporate parts of the Program into other free\nprograms whose distribution conditions are different, write to the author\nto ask for permission.  For software which is copyrighted by the Free\nSoftware Foundation, write to the Free Software Foundation; we sometimes\nmake exceptions for this.  Our decision will be guided by the two goals\nof preserving the free status of all derivatives of our free software and\nof promoting the sharing and reuse of software generally.\n\n                            NO WARRANTY\n\n  11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY\nFOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW.  EXCEPT WHEN\nOTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES\nPROVIDE THE PROGRAM \"AS IS\" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED\nOR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\nMERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK AS\nTO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE\nPROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING,\nREPAIR OR CORRECTION.\n\n  12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING\nWILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR\nREDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES,\nINCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING\nOUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED\nTO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY\nYOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER\nPROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE\nPOSSIBILITY OF SUCH DAMAGES.\n\n                     END OF TERMS AND CONDITIONS\n\n            How to Apply These Terms to Your New Programs\n\n  If you develop a new program, and you want it to be of the greatest\npossible use to the public, the best way to achieve this is to make it\nfree software which everyone can redistribute and change under these terms.\n\n  To do so, attach the following notices to the program.  It is safest\nto attach them to the start of each source file to most effectively\nconvey the exclusion of warranty; and each file should have at least\nthe \"copyright\" line and a pointer to where the full notice is found.\n\n    <one line to give the program's name and a brief idea of what it does.>\n    Copyright (C) <year>  <name of author>\n\n    This program is free software; you can redistribute it and/or modify\n    it under the terms of the GNU General Public License as published by\n    the Free Software Foundation; either version 2 of the License, or\n    (at your option) any later version.\n\n    This program is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU General Public License for more details.\n\n    You should have received a copy of the GNU General Public License along\n    with this program; if not, write to the Free Software Foundation, Inc.,\n    51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n\nAlso add information on how to contact you by electronic and paper mail.\n\nIf the program is interactive, make it output a short notice like this\nwhen it starts in an interactive mode:\n\n    Gnomovision version 69, Copyright (C) year name of author\n    Gnomovision comes with ABSOLUTELY NO WARRANTY; for details type `show w'.\n    This is free software, and you are welcome to redistribute it\n    under certain conditions; type `show c' for details.\n\nThe hypothetical commands `show w' and `show c' should show the appropriate\nparts of the General Public License.  Of course, the commands you use may\nbe called something other than `show w' and `show c'; they could even be\nmouse-clicks or menu items--whatever suits your program.\n\nYou should also get your employer (if you work as a programmer) or your\nschool, if any, to sign a \"copyright disclaimer\" for the program, if\nnecessary.  Here is a sample; alter the names:\n\n  Yoyodyne, Inc., hereby disclaims all copyright interest in the program\n  `Gnomovision' (which makes passes at compilers) written by James Hacker.\n\n  <signature of Ty Coon>, 1 April 1989\n  Ty Coon, President of Vice\n\nThis General Public License does not permit incorporating your program into\nproprietary programs.  If your program is a subroutine library, you may\nconsider it more useful to permit linking proprietary applications with the\nlibrary.  If this is what you want to do, use the GNU Lesser General\nPublic License instead of this License.\n"
        },
        {
          "name": "MANIFEST.in",
          "type": "blob",
          "size": 0.1474609375,
          "content": "include COPYRIGHT LICENSE.txt README.md CHANGELOG.md lib/solaar/version lib/solaar/commit\nrecursive-include rules.d *\nrecursive-include share/locale *\n"
        },
        {
          "name": "Makefile",
          "type": "blob",
          "size": 1.8310546875,
          "content": "UDEV_RULE_FILE = 42-logitech-unify-permissions.rules\nUDEV_RULES_SOURCE := rules.d/$(UDEV_RULE_FILE)\nUDEV_RULES_SOURCE_UINPUT := rules.d-uinput/$(UDEV_RULE_FILE)\nUDEV_RULES_DEST := /etc/udev/rules.d/\n\nPIP_ARGS ?= .\n\n.PHONY: install_ubuntu install_macos\n.PHONY: install_apt install_brew install_pip\n.PHONY: install_udev install_udev_uinput reload_udev uninstall_udev\n.PHONY: format lint test\n\ninstall_ubuntu: install_apt install_udev_uinput install_pip\n\ninstall_macos: install_brew install_pip\n\ninstall_apt:\n\t@echo \"Installing Solaar dependencies via apt\"\n\tsudo apt update\n\tsudo apt install libdbus-1-dev libglib2.0-dev libgtk-3-dev libgirepository1.0-dev\n\ninstall_dnf:\n\t@echo \"Installing Solaar dependencies via dn\"\n\tsudo dnf install gtk3 python3-gobject python3-dbus python3-pyudev python3-psutil python3-xlib python3-yaml\n\ninstall_brew:\n\t@echo \"Installing Solaar dependencies via brew\"\n\tbrew update\n\tbrew install hidapi gtk+3 pygobject3 gobject-introspection\n\ninstall_pip:\n\t@echo \"Installing Solaar via pip\"\n\tpython -m pip install --upgrade pip\n\tpip install $(PIP_ARGS)\n\ninstall_pipx:\n\t@echo \"Installing Solaar via pipx\"\n\tpipx install --system-site-packages $(PIP_ARGS)\n\ninstall_udev:\n\t@echo \"Copying Solaar udev rule to $(UDEV_RULES_DEST)\"\n\tsudo cp $(UDEV_RULES_SOURCE) $(UDEV_RULES_DEST)\n\tmake reload_udev\n\ninstall_udev_uinput:\n\t@echo \"Copying Solaar udev rule (uinput) to $(UDEV_RULES_DEST)\"\n\tsudo cp $(UDEV_RULES_SOURCE_UINPUT) $(UDEV_RULES_DEST)\n\tmake reload_udev\n\nreload_udev:\n\t@echo \"Reloading udev rules\"\n\tsudo udevadm control --reload-rules\n\nuninstall_udev:\n\t@echo \"Removing Solaar udev rules from $(UDEV_RULES_DEST)\"\n\tsudo rm -f $(UDEV_RULES_DEST)/$(UDEV_RULE_FILE)\n\tmake reload_udev\n\nformat:\n\t@echo \"Formatting Solaar code\"\n\truff format .\n\nlint:\n\t@echo \"Linting Solaar code\"\n\truff check . --fix\n\ntest:\n\t@echo \"Running Solaar tests\"\n\tpytest --cov --cov-report=xml\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 3.1357421875,
          "content": "# <img src=\"https://pwr-solaar.github.io/Solaar/img/solaar.svg\" width=\"60px\"/> Solaar\n\nSolaar is a Linux manager for many Logitech keyboards, mice, and other devices\nthat connect wirelessly to a Unifying, Bolt, Lightspeed or Nano receiver\nas well as many Logitech devices that connect via a USB cable or Bluetooth.\nSolaar is not a device driver and responds only to special messages from devices\nthat are otherwise ignored by the Linux input system.\n\n<a href=\"https://pwr-solaar.github.io/Solaar/index\">More Information</a> -\n<a href=\"https://pwr-solaar.github.io/Solaar/usage\">Usage</a> -\n<a href=\"https://pwr-solaar.github.io/Solaar/capabilities\">Capabilities</a> -\n<a href=\"https://pwr-solaar.github.io/Solaar/rules\">Rules</a> -\n<a href=\"https://pwr-solaar.github.io/Solaar/installation\">Manual Installation</a>\n\n\n[![codecov](https://codecov.io/gh/pwr-Solaar/Solaar/graph/badge.svg?token=D7YWFEWID6)](https://codecov.io/gh/pwr-Solaar/Solaar)\n[![License: GPL v2](https://img.shields.io/badge/License-GPL%20v2+-blue.svg)](../LICENSE.txt)\n\n<p align=\"center\">\n<img src=\"https://pwr-solaar.github.io/Solaar/screenshots/Solaar-main-window-multiple.png\" width=\"54%\"/>\n  &#160;\n<img src=\"https://pwr-solaar.github.io/Solaar/screenshots/Solaar-main-window-receiver.png\" width=\"43%\"/>\n</p>\n\n<p align=\"center\">\n<img src=\"https://pwr-solaar.github.io/Solaar/screenshots/Solaar-main-window-back-divert.png\" width=\"49%\"/>\n  &#160;\n<img src=\"https://pwr-solaar.github.io/Solaar/screenshots/Solaar-rule-editor.png\" width=\"48%\"/>\n</p>\n\nSolaar supports:\n- pairing/unpairing of devices with receivers\n- configuring device settings\n- custom button configuration\n- running rules in response to special messages from devices\n\nFor more information see\n    <a href=\"https://pwr-solaar.github.io/Solaar/index\">the main Solaar documentation page.</a> -\n\n\n## Installation Packages\n\nUp-to-date prebuilt packages are available for some Linux distros\n(e.g., Fedora) in their standard repositories.\nIf a recent version of Solaar is not\navailable from the standard repositories for your distribution, you can try\none of these packages:\n\n- Arch solaar package in the [extra repository][arch]\n- Ubuntu/Kubuntu package in [Solaar stable ppa][ppa stable]\n- NixOS Flake package in [Svenum/Solaar-Flake][nix flake]\n\nSolaar is available from some other repositories\nbut may be several versions behind the current version:\n\n- a [Debian package][debian], courtesy of Stephen Kitt\n- a Ubuntu package is available from [universe repository][ubuntu universe repository]\n- a [Gentoo package][gentoo], courtesy of Carlos Silva and Tim Harder\n- a [Mageia package][mageia], courtesy of David Geiger\n\n[ppa stable]: https://launchpad.net/~solaar-unifying/+archive/ubuntu/stable\n[arch]: https://www.archlinux.org/packages/extra/any/solaar/\n[gentoo]: https://packages.gentoo.org/packages/app-misc/solaar\n[mageia]: http://mageia.madb.org/package/show/release/cauldron/application/0/name/solaar\n[ubuntu universe repository]: http://packages.ubuntu.com/search?keywords=solaar&searchon=names&suite=all&section=all\n[nix flake]: https://github.com/Svenum/Solaar-Flake\n[debian]: https://packages.debian.org/search?keywords=solaar&searchon=names&suite=all&section=all\n"
        },
        {
          "name": "RELEASE.md",
          "type": "blob",
          "size": 0.63671875,
          "content": "# Solaar releases\n\n## Please read before making a release\n\nWe support two type of releases: normal releases (ex. `1.0.0`) and release\ncandidates (ex. `1.0.0rc1`). Release candidates must have a `rcX` suffix.\n\nRelease routine:\n\n- Update version in `lib/solaar/version`\n- Add release changes to `CHANGELOG.md`\n- Add release information to `share/solaar/io.github.pwr_solaar.solaar.metainfo.xml`\n- Create a commit that starts with `release VERSION`\n- Push commit to Solaar repository\n- Invoke `./release.sh`\n  - Git tags are signed so you must have GPG set up\n  - You are required to have a github token with `public_repo` access\n    in `~/.github-token`\n"
        },
        {
          "name": "Release_Notes.md",
          "type": "blob",
          "size": 10.271484375,
          "content": "# Notes on Major Changes in Releases\n\n## Version 1.1.15\n\n* Solaar supports configuration of Bluetooth devices on macOS.\n\n## Version 1.1.13\n\n* Solaar will drop support for Python 3.7 immediately after version 1.1.13.\n\n* Version 1.1.12 does not push settings to many devices after a resume resulting in the device reverting to its default behaviour.  This is fixed in 1.1.13.\n\n## Version 1.1.12\n\n* Solaar now processes DBus disconnection and connection messages from Bluez and re-initializes devices when they reconnect, to handle to a change introduced in Bluez 5.73. The HID++ driver does not re-initialize devices, which causes problems with smooth scrolling. Until the issue is resolved having Scroll Wheel Resolution set to true (and not ignored) may be helpful.\n\n* The credits for translations have not been kept up to date.  Translators who are not listed can update docs/i18n.ml and lib/solaar/ui/about.py.\n\n* Solaar now has settings for features BRIGHTNESS_CONTROL, RGB_EFFECTS, and PER_KEY_LIGHTING features.  The names of keys in the Per-key Lighting setting are for the standard US keyboard.  Users who wish to modify these names should look at the section Keyboard Key Names and Locations in `https://pwr-solaar.github.io/Solaar/capabilities`\n\n* A unit test test suite is being constructed using pytest.\n\n* The Solaar code for communicating with receivers and devices has been significantly modified to improve testability and organization.  Errors may have been introduced for uncommon hardware.\n\n* The Later rule action uses precision timing for delays of less than one second.\n\n* Solaar now indentifies supported devices by whether they support the HID protocols that Solaar needs.  If a device does not show up at all when running Solaar, it almost certainly cannot be supported by Solaar.\n\n## Version 1.1.11\n\n* Solaar can dump device profiles in YAMLfor devices that support profiles and load profiles back from an edited file.  See [the capabilities page](https://pwr-solaar.github.io/Solaar/capabilities) for more information.\n\n* Solaar has settings for each LED Zone that a device supports under feature Color LED Effects.\n\n* Solaar has settings for extended report rate, backlight levels, durations, and profile selection.\n\n* Solaar now partly works in MacOS.  Please open new issues for problems.  Solaar may work in Windows.   Please open new issues for problems.  See https://github.com/pwr-Solaar/Solaar/pull/1971 for more information.  Fixing problems in MacOS or Windows may take considerable time.\n\n* Solaar works better when the Python package hid-parser is available.   Distriubtions should try have this package installed.\n\n## Version 1.1.10\n\n* The mouse click rule action can now just simulate depressing or releasing the button.\n\n* There is a new rule condition to check the hostname.\n\n## Version 1.1.9\n\n* Solaar now exits with at 0 exit code when killed.\n\n* Two Solaar settings can interfere with the implementation of smooth scrolling in modern Linux HID++ drivers.  These settings are initially set to ignore so that this interference does not happen.\n\n* The Device rule condition checks for the device that produced a notification.\n\n* The KeyIsDown rule condition checks whether a *diverted* rule key is down.\n\n## Version 1.1.8\n\n* The thumb wheel rule conditions take an optional parameter that checks for total signed thumb wheel movement.\n\n## Version 1.1.7\n\n* Solaar responds to scroll wheel ratchet notifications by changing its scroll wheel ratcheting.\n\n* Solaar processing of report descriptors is optional, depending on whether the package hid-parser is available.\n\n## Version 1.1.6\n\n* Solaar requires Python version 3.7.\n\n* Solaar uses report descriptors to recognize unknown devices that use HID++.\n\n* The Later rule action takes an integer delay in seconds and one or more rule components.  The action immediately completes while also scheduling the rule components for later exection.\n\n## Version 1.1.5\n\n* The Active rule condition takes the serial number or unitID of a device and checks whether the device is active.  A device is active if it is connected (via a receiver, USB or Bluetooth), not turned off, and not in a power-saving state.  This condition can be used to check whether changing a setting on the device will have any effect, as devices respond to messages only when active.\n\n* Solaar logs warnings and errors to a file in the user's temporary file directory.  This file is deleted when Solaar exists normally.  If Solaar is run with `-dd` or `-ddd` informational messages are also logged in the file.\n\n* If the first element of a Mouse Gesture rule condition is a key or button name then that name must be the same as the name of the key or button that initiated the mouse gesture.\n\n* The Sliding DPI and Mouse Gestures are now set up using the Key/Button Diversion setting.   Changing a key or button to Sliding DPI makes it initiate the sliding DPI changing.  Changing a key or button to Mouse Gestures makes it initiate a mouse gesture.  There can be multiple keys or buttons for sliding DPI and multiple keys or buttons for mouse gestures.\n\n* Solaar waits a few seconds to save settings changes to its configuration file.  If you interrupt Solaar soon after changing a setting the change might not be saved.\n\n\n## Version 1.1.4\n\n* There are settings for sidetone and equalizer gains for headsets.\n\n* The KeyPress action can now either deppress, release, or click (default) keys.\n\n* The KeyPress action now inserts shift and level 3 keypresses if simulating a key symbol requires one or both of them.  So producing a \"B\" no longer requires adding a shift keysymbol.\n\n## Version 1.1.3\n\n* Solaar uses yaml for configuration files, converting the json configuration file to yaml if necessary.\n\n* Solaar rules work better under Wayland but still cannot access the current process nor the current keyboard modifiers.\n\n* Solaar uses uinput for simulating input in Wayland.  See https://pwr-solaar.github.io/Solaar/rules for instructions on setting up uinput correctly.\n\n## Version 1.1.2\n\n* Solaar now depends on Python evdev.  It can be installed if needed via `pip install --user evdev` or, in most distributions, by installing the python3-evdev package.\n\n* Solaar rules partly work under Wayland.  There is no access to the current process in Wayland.  Simulated input uses uinput if XTest extension not available, requiring read and write permissions on /dev/uinput.\n\n* There is a setting to divert gestures so that they can trigger rules.\n\n* There is a setting to disable Onboard Profiles, which can interfere with the Polling Rate and M-Key LEDs settings.  The Polling Rate setting no longer disables onboard profiles.\n\n* There is a setting for the Persistent Remappable Keys feature.\n\n* There is a new rule condition that tests device settings.\n\n* There are new settings to set M-Key LEDs and MR-Key LED.\n\n* There is a new kind of Solaar rule action to change settings for devices.\n\n## Version 1.1.1\n\n* There is a new setting to switch keyboard crowns between smooth and ratchet scrolling.\n\n## Version 1.1.0\n\n* Solaar now supports Bolt receivers and devices that connect to them, including authentication of devices when pairing.\n\n* A setting has been added for the DPI CHANGE button to switch movement sensitivity.\n\n## Version 1.0.7\n\n* Solaar rules can now trigger on both pressing and releasing a diverted key.\n\n* The new rule condition MouseProcess is like the Process condition except for the process of the window under the mouse.\n\n* Mouse gestures have been upgraded.  A mouse gesture is now a sequence of movements separated by no movement periods while the mouse gesture button is held down.  The MouseGesture rule condition matches mouse gesture sequences.  The old mouse-up, etc., tests are converted to MouseGesture conditions.\n\n## Version 1.0.6\n\n* The sliding DPI setting now looks for suitable keys to use to trigger its effects.\n\n* If a mouse has a suitable button it can generate mouse gestures, which trigger rule processing.  Mouse gestures need to be turned on and the button diverted to produce mouse gestures.\n\n* Settings can now be ignored by clicking on the icon at the right-hand edge of a setting until the dialog error icon (usually a red icon) appears.   Solaar will not try to restore the value for an ignored setting.\n\n* Icon handling in the tray and the tray menu has been updated to work better with some system tray implementations.\n\n* The process rule condition also matches against the current X11 WM_CLASS.\n\n* The SMART SHIFT ENHANCED feature is supported.\n\n## Version 1.0.5\n\n* Solaar has rules that can perform actions such as pressing keys or scrolling when certain HID++ feature notifications happen.  Users can change these rules either by editing ~/.config/solaar/rules.yaml or via a GUI.  Rules depend on X11 and so are only available under X11.  This is an experimental feature for Solaar and may undergo changes in the future.\n\n* Each setting has a clickable lock icon that determines whether the setting can be changed.\n\n## Version 1.0.4\n\n* Devices that connect directly via Bluetooth or USB are now supported.  These devices show up in the GUI as separate lines, not under a receiver.  A device that is directly connected and also paired to a receiver will show up twice, but the entry under the receiver will not be active.  With this change identifying devices becomes more difficult so occasionally check your Solaar configuration file (at ~/.config/solaar/config.json) to see that there is only one entry for each of your devices.\n\n* There are new settings for gestures, thumb wheels,  adjusting the wheel ratchet behavior, and changing DPI using a DPI Switch button.\n\n* Solaar's Udev rule now adds seat permissions for all Logitech devices.  Users who install Solaar themselves will have to install the new Udev rule and activate the rule.  One way to do this is to restart the user's computer.\n\n## Version 1.0.3\n\n* The separate deprecated solaar-cli command has been removed.\n\n* Devices can be switched between hosts using the Change Host setting.  The device will try to connect to the other host.  Some devices will detect that there is no active host on the other connections and reconnect back.\n\n## Version 1.0.2\n\n* The separate unneeded solaar-gnome3 command has been removed.  The packaging directories have been removed.\n\n* Non-unifying receivers are modelled better.  Many of them cannot unpair but instead new pairings replace existing pairings.\n\n* Battery icon selection has been simplified.\n"
        },
        {
          "name": "bin",
          "type": "tree",
          "content": null
        },
        {
          "name": "docs",
          "type": "tree",
          "content": null
        },
        {
          "name": "lib",
          "type": "tree",
          "content": null
        },
        {
          "name": "mkdocs.yml",
          "type": "blob",
          "size": 0.71484375,
          "content": "site_name: Solaar Documentation\nsite_description: Linux Device Manager for Logitech Unifying Receivers and Devices.\nsite_author: pwr-Solaar\nrepo_url: https://github.com/pwr-Solaar/Solaar\nrepo_name: Solaar\nlogo: img/favicon.png\ntheme:\n  name: readthedocs\ndocs_dir: docs\nnav:\n  - Solaar: index.md\n  - Capabilities: capabilities.md\n  - Debian: debian.md\n  - Devices: devices.md\n  - Features: features.md\n  - Translation: i18n.md\n  - Implementation: implementation.md\n  - Installation: installation.md\n  - Rules: rules.md\n  - Usage: usage.md\n\nplugins:\n  - search\n  - mkdocstrings:\n      handlers:\n        python:\n          setup_commands:\n            - python -m pip install .\n  - mermaid2\nmarkdown_extensions:\n  - pymdownx.superfences\n"
        },
        {
          "name": "po",
          "type": "tree",
          "content": null
        },
        {
          "name": "pyproject.toml",
          "type": "blob",
          "size": 0.2607421875,
          "content": "[tool.ruff]\nline-length = 127\ntarget-version = \"py37\"\n\n[tool.ruff.lint]\nselect = [\n    \"F\", # Pyflakes\n    \"E\", # pycodestyle\n    \"W\", # pycodestyle\n    \"B\", # flake8-bugbear\n    \"I\", # isort\n]\n\n[tool.ruff.lint.isort]\nforce-single-line = true\nlines-between-types = 1\n"
        },
        {
          "name": "release.sh",
          "type": "blob",
          "size": 5.0634765625,
          "content": "#!/bin/bash\n\nrepo=pwr-Solaar/Solaar\n\nusage() {\n    basename=\"$(basename $0)\"\n    cat <<HELP\nUsage: $basename [options]\nOptions:\n  --dry-run           Does everything except tagging\n  --help              Display this help and exit successfully\nHELP\n}\n\nwhile [ $# != 0 ]\ndo\n    case $1 in\n    --dry-run)\n        DRY_RUN=yes\n        ;;\n    --*)\n        echo \"\"\n        echo \"Error: unknown option: $1\"\n        echo \"\"\n        usage\n        exit 1\n        ;;\n    -*)\n        echo \"\"\n        echo \"Error: unknown option: $1\"\n        echo \"\"\n        usage\n        exit 1\n        ;;\n    esac\n\n    shift\ndone\n\nversion=$(cat lib/solaar/version)\n\nprerelease=false\necho $version | grep '.*rc.*' >/dev/null\n[ $? -eq 0 ] && prerelease=true\n\nstable_branch=stable\n\nref=$(git symbolic-ref HEAD)\n[ $? -ne 0 ] && echo 'Error: Failed current branch' && exit 1\nbranch=${ref##*/}\n\ncommit=$(git rev-list --max-count=1 HEAD)\n[ $? -ne 0 ] && echo 'Error: Failed to get HEAD' && exit 1\n\nremote=$(git config --get branch.$branch.remote)\n[ $? -ne 0 ] && echo 'Error: Failed to get remote' && exit 1\n\nremote_ref=$(git config --get branch.$branch.merge)\n[ $? -ne 0 ] && echo 'Error: Failed to get remote HEAD' && exit 1\nremote_branch=${remote_ref##*/}\n\ngithub_token=$(cat ~/.github-token)\n[ $? -ne 0 ] && echo 'Error: Failed to get github token (check ~/.github_token)' && exit 1\n\njq -V >/dev/null\n[ $? -ne 0 ] && echo 'Error: jq is not installed' && exit 1\n\necho -e \"\\n\\t** You are tagging a release for version $version **\\n\"\necho \"Version: $version\"\necho \"Commit: $commit\"\necho \"Pre-release: $prerelease\"\necho \"Remote: $remote\"\nif [ \"$branch\" == \"$remote_branch\" ]; then\n    echo \"Branch: $branch\"\nelse\n    echo \"Local branch: $branch\"\n    echo \"Remote branch: $remote_branch\"\nfi\n\necho -e '\\nPlease read RELEASE.md before continuing.\\n'\n\nread -p 'Are you sure you want to proceed? (y/n) ' -n 1 -r < /dev/tty\necho\n[[ ! $REPLY =~ ^[Yy]$ ]] && echo 'Release aborted.' && exit 1\n\nread -p 'Are you *really* sure you want to proceed? (y/n) ' -n 1 -r < /dev/tty\necho\n[[ ! $REPLY =~ ^[Yy]$ ]] && echo 'Release aborted.' && exit 1\n\n# Check if version is in the changelog\ngrep '^# '\"$version\" CHANGELOG.md >/dev/null\n[ $? -ne 0 ] && echo 'Error: Version is not present in the changelog' && exit 1\n\n# Check for uncommitted changes\ngit diff --quiet HEAD >/dev/null\n[ $? -ne 0 ] && echo -e '\\nError: Uncommitted changes found' && exit 1\n\n# Check if commit is a version bump\ngit show -s --format=%B HEAD | grep \"^release $version\">/dev/null\n#[ $? -ne 0 ] && echo -e '\\nError: Commit does not look like a version bump' && exit 1\n\n# Check if commit has been pushed to remote\nremote_commit=$(git rev-list --max-count=1 $remote/$branch)\n[ $? -ne 0 ] && echo -e '\\nError: Failed to get remote HEAD' && exit 1\n[ \"$commit\" != \"$remote_commit\" ] && echo -e '\\nError: Commit has not been pushed to the remote' && exit 1\n\n# Check if tag already exists\ngit rev-list --max-count=1 $version >/dev/null 2>/dev/null\n[ $? -eq 0 ] && echo -e '\\nError: Tag already exists' && exit 1\n\n# Check if tag already exists on remote\ngit ls-remote $remote | grep \"refs/tags/$version$\" >/dev/null\n[ $? -eq 0 ] && echo -e '\\nError: Tag already exists on remote' && exit 1\n\necho\n\n# Create tag\necho 'Creating tag...'\n{\n    echo \"release $version\"\n    echo\n    found=no\n    while read -r line; do\n        if [[ \"$line\" == \"# \"* ]]; then\n            [ \"$line\" == \"# $version\" ] && found=yes || found=no\n        fi\n        [ \"$found\" == 'yes' ] && [ \"${line:0:1}\" == '*' ] && echo \"$line\"\n    done < CHANGELOG.md\n} > /tmp/solaar-changelog\n[ -z \"$DRY_RUN\" ] && git tag -s $version -F /tmp/solaar-changelog >/dev/null || true\n[ $? -ne 0 ] && echo -e '\\nError: Failed to create tag' && exit 1\n\n# Push tag\necho 'Pushing tag...'\n[ -z \"$DRY_RUN\" ] && git push $remote $version >/dev/null || true\n[ $? -ne 0 ] && echo -e '\\nError: Failed to push tag' && exit 1\n\n# Point stable branch to latest version tag\necho 'Updating stable branch...'\nif [[ -z \"$DRY_RUN\" && $prerelease == \"false\" ]]\nthen\n    # Check if stable branch does not exist\n    git rev-list --max-count=1 $stable_branch >/dev/null 2>/dev/null\n    [ $? -ne 0 ] && echo -e '\\nWarning: Creating stable branch for a first time' && git branch $stable_branch\n    # Fast forward and push stable branch\n    git checkout $stable_branch\n    git merge --ff $version\n    git push $remote $stable_branch >/dev/null || true\n    git checkout $branch\nfi\n\n# Create github release\nbody() {\n    cat <<EOF\n{\n  \"tag_name\": \"$version\",\n  \"name\": \"$version\",\n  \"body\": \"$(awk '{printf \"%s\\\\n\", $0}' /tmp/solaar-changelog)\",\n  \"prerelease\": $prerelease,\n  \"draft\": false\n}\nEOF\n}\necho 'Creating github release...'\n##[ -z \"$DRY_RUN\" ] && url=$(curl -X POST --data \"$(body)\" \"https://api.github.com/repos/$repo/releases?access_token=$github_token\" 2>/dev/null | jq -r .html_url)\n[ -z \"$DRY_RUN\" ] && url=$(curl -H 'Authorization: $github_token' -X POST --data \"$(body)\" \"https://api.github.com/repos/$repo/releases\" 2>/dev/null | jq -r .html_url)\n\n[ -z \"$DRY_RUN\" ] && [ -z \"$url\" ] && echo -e '\\nError: Failed to create a github release' && exit 1\n\n[ -z \"$DRY_RUN\" ] && echo -e \"\\nRelease created: $url\"\n\nrm /tmp/solaar-changelog\n"
        },
        {
          "name": "rules.d-uinput",
          "type": "tree",
          "content": null
        },
        {
          "name": "rules.d",
          "type": "tree",
          "content": null
        },
        {
          "name": "setup.py",
          "type": "blob",
          "size": 3.2919921875,
          "content": "import subprocess\nimport textwrap\n\nfrom glob import glob\nfrom os.path import dirname\nfrom pathlib import Path\n\nfrom setuptools import find_packages\nfrom setuptools import setup\n\nNAME = \"Solaar\"\nversion = Path(\"lib/solaar/version\").read_text().strip()\n\ntry:  # get commit from git describe\n    commit = subprocess.check_output([\"git\", \"describe\", \"--always\"], stderr=subprocess.DEVNULL).strip().decode()\n    Path(\"lib/solaar/commit\").write_text(f\"{commit}\\n\")\nexcept Exception:  # get commit from Ubuntu dpkg-parsechangelog\n    try:\n        commit = (\n            subprocess.check_output([\"dpkg-parsechangelog\", \"--show-field\", \"Version\"], stderr=subprocess.DEVNULL)\n            .strip()\n            .decode()\n        )\n        commit = commit.split(\"~\")\n        Path(\"lib/solaar/commit\").write_text(f\"{commit[0]}\\n\")\n    except Exception as e:\n        print(\"Exception using dpkg-parsechangelog\", e)\n\n\ndef _data_files():\n    yield \"share/icons/hicolor/scalable/apps\", glob(\"share/solaar/icons/solaar*.svg\")\n    yield \"share/icons/hicolor/32x32/apps\", glob(\"share/solaar/icons/solaar-light_*.png\")\n\n    for mo in glob(\"share/locale/*/LC_MESSAGES/solaar.mo\"):\n        yield dirname(mo), [mo]\n\n    yield \"share/applications\", [\"share/applications/solaar.desktop\"]\n    yield \"lib/udev/rules.d\", [\"rules.d/42-logitech-unify-permissions.rules\"]\n    yield \"share/metainfo\", [\"share/solaar/io.github.pwr_solaar.solaar.metainfo.xml\"]\n\n\nsetup(\n    name=NAME.lower(),\n    version=version,\n    description=\"Linux device manager for Logitech receivers, keyboards, mice, and tablets.\",\n    long_description=textwrap.dedent(\n        \"\"\"\n        Solaar is a Linux device manager for many Logitech peripherals that connect through\n        Unifying and other receivers or via USB or Bluetooth.\n        Solaar is able to pair/unpair devices with receivers and show and modify some of the\n        modifiable features of devices.\n        For instructions on installing Solaar see https://pwr-solaar.github.io/Solaar/installation\"\"\"\n    ),\n    author=\"Daniel Pavel\",\n    license=\"GPLv2\",\n    url=\"http://pwr-solaar.github.io/Solaar/\",\n    classifiers=[\n        \"Development Status :: 4 - Beta\",\n        \"Environment :: X11 Applications :: GTK\",\n        \"Environment :: Console\",\n        \"Intended Audience :: End Users/Desktop\",\n        \"License :: DFSG approved\",\n        \"License :: OSI Approved :: GNU General Public License v2 (GPLv2)\",\n        \"Natural Language :: English\",\n        \"Programming Language :: Python :: 3 :: Only\",\n        \"Operating System :: POSIX :: Linux\",\n        \"Topic :: Utilities\",\n    ],\n    platforms=[\"linux\"],\n    python_requires=\">=3.8\",\n    install_requires=[\n        'evdev (>= 1.1.2) ; platform_system==\"Linux\"',\n        \"pyudev (>= 0.13)\",\n        \"PyYAML (>= 3.12)\",\n        \"python-xlib (>= 0.27)\",\n        \"psutil (>= 5.4.3)\",\n        'dbus-python ; platform_system==\"Linux\"',\n        \"PyGObject\",\n        \"typing_extensions\",\n    ],\n    extras_require={\n        \"report-descriptor\": [\"hid-parser\"],\n        \"desktop-notifications\": [\"Notify (>= 0.7)\"],\n        \"git-commit\": [\"python-git-info\"],\n        \"test\": [\"pytest\", \"pytest-mock\", \"pytest-cov\"],\n        \"dev\": [\"ruff\"],\n    },\n    package_dir={\"\": \"lib\"},\n    packages=find_packages(where=\"lib\"),\n    data_files=list(_data_files()),\n    include_package_data=True,\n    scripts=glob(\"bin/*\"),\n)\n"
        },
        {
          "name": "share",
          "type": "tree",
          "content": null
        },
        {
          "name": "tests",
          "type": "tree",
          "content": null
        },
        {
          "name": "tools",
          "type": "tree",
          "content": null
        }
      ]
    }
  ]
}