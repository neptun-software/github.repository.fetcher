{
  "metadata": {
    "timestamp": 1736560876702,
    "page": 592,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjYwMA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "open-mmlab/mmcv",
      "stars": 5968,
      "defaultBranch": "main",
      "files": [
        {
          "name": ".circleci",
          "type": "tree",
          "content": null
        },
        {
          "name": ".dev_scripts",
          "type": "tree",
          "content": null
        },
        {
          "name": ".dockerignore",
          "type": "blob",
          "size": 0.0634765625,
          "content": ".git\n.gitignore\n*.egg-info\n.eggs/\n.mypy-cache\npip-wheel-metadata\n"
        },
        {
          "name": ".github",
          "type": "tree",
          "content": null
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 1.40234375,
          "content": "# Byte-compiled / optimized / DLL files\n__pycache__/\n*.py[cod]\n*$py.class\n\n# C extensions\n*.so\n\n# PyTorch checkpoint\n*.pth\n\n# Distribution / packaging\n.Python\nbuild/\ndevelop-eggs/\ndist/\ndownloads/\neggs/\n.eggs/\nlib/\nlib64/\nparts/\nsdist/\nvar/\nwheels/\n*.egg-info/\n.installed.cfg\n*.egg\nMANIFEST\nmlu-ops/\nmlu-ops.*\n\n# PyInstaller\n#  Usually these files are written by a python script from a template\n#  before PyInstaller builds the exe, so as to inject date/other infos into it.\n*.manifest\n*.spec\n\n# Installer logs\npip-log.txt\npip-delete-this-directory.txt\n\n# Unit test / coverage reports\nhtmlcov/\n.tox/\n.coverage\n.coverage.*\n.cache\nnosetests.xml\ncoverage.xml\n*.cover\n.hypothesis/\n.pytest_cache/\n\n# Translations\n*.mo\n*.pot\n\n# Django stuff:\n*.log\nlocal_settings.py\ndb.sqlite3\n\n# Flask stuff:\ninstance/\n.webassets-cache\n\n# Scrapy stuff:\n.scrapy\n\n# Sphinx documentation\ndocs/en/_build/\ndocs/en/api/generated/\ndocs/zh_cn/_build/\ndocs/zh_cn/api/generated/\n\n# PyBuilder\ntarget/\n\n# Jupyter Notebook\n.ipynb_checkpoints\n\n# pyenv\n.python-version\n\n# celery beat schedule file\ncelerybeat-schedule\n\n# SageMath parsed files\n*.sage.py\n\n# Environments\n.env\n.venv\nenv/\nvenv/\nENV/\nenv.bak/\nvenv.bak/\n\n# Spyder project settings\n.spyderproject\n.spyproject\n\n# Rope project settings\n.ropeproject\n\n# mkdocs documentation\n/site\n\n# mypy\n.mypy_cache/\n\n# editors and IDEs\n.idea/\n.vscode/\n\n# custom\n.DS_Store\n\n# datasets and logs and checkpoints\ndata/\nwork_dir/\n\nsrc/\n"
        },
        {
          "name": ".pre-commit-config-zh-cn.yaml",
          "type": "blob",
          "size": 2.208984375,
          "content": "exclude: ^tests/data/\nrepos:\n  - repo: https://github.com/pre-commit/pre-commit\n    rev: v4.0.0\n    hooks:\n      - id: validate_manifest\n  - repo: https://github.com/PyCQA/flake8\n    rev: 7.1.1\n    hooks:\n      - id: flake8\n  - repo: https://gitee.com/openmmlab/mirrors-isort\n    rev: 5.11.5\n    hooks:\n      - id: isort\n  - repo: https://gitee.com/openmmlab/mirrors-yapf\n    rev: v0.32.0\n    hooks:\n      - id: yapf\n  - repo: https://gitee.com/openmmlab/mirrors-pre-commit-hooks\n    rev: v5.0.0\n    hooks:\n      - id: trailing-whitespace\n      - id: check-yaml\n      - id: end-of-file-fixer\n      - id: requirements-txt-fixer\n      - id: double-quote-string-fixer\n      - id: check-merge-conflict\n      - id: fix-encoding-pragma\n        args: [\"--remove\"]\n      - id: mixed-line-ending\n        args: [\"--fix=lf\"]\n  - repo: https://gitee.com/openmmlab/mirrors-codespell\n    rev: v2.2.1\n    hooks:\n      - id: codespell\n  - repo: https://gitee.com/openmmlab/mirrors-mdformat\n    rev: 0.7.9\n    hooks:\n      - id: mdformat\n        args: [\"--number\"]\n        additional_dependencies:\n          - mdformat-openmmlab\n          - mdformat_frontmatter\n          - linkify-it-py\n  - repo: https://gitee.com/openmmlab/mirrors-docformatter\n    # TODO:https://github.com/PyCQA/docformatter/issues/289\n    rev: v1.3.1\n    hooks:\n      - id: docformatter\n        args: [\"--in-place\", \"--wrap-descriptions\", \"79\"]\n  - repo: https://github.com/asottile/pyupgrade\n    rev: v3.0.0\n    hooks:\n      - id: pyupgrade\n        args: [\"--py36-plus\"]\n  - repo: https://gitee.com/openmmlab/pre-commit-hooks\n    rev: v0.2.0  # Use the ref you want to point at\n    hooks:\n      - id: check-copyright\n        args: [\"mmcv\", \"tests\", \"--excludes\", \"mmcv/ops\"]\n  - repo: https://github.com/pre-commit/mirrors-mypy\n    rev: v1.2.0\n    hooks:\n      - id: mypy\n        exclude: |-\n          (?x)(\n              ^test\n              | ^docs\n          )\n        additional_dependencies: [\"types-setuptools\", \"types-requests\"]\n  # - repo: local\n  #   hooks:\n  #     - id: clang-format\n  #       name: clang-format\n  #       description: Format files with ClangFormat\n  #       entry: clang-format -style=google -i\n  #       language: system\n  #       files: \\.(c|cc|cxx|cpp|cu|h|hpp|hxx|cuh|proto)$\n"
        },
        {
          "name": ".pre-commit-config.yaml",
          "type": "blob",
          "size": 2.1279296875,
          "content": "exclude: ^tests/data/\nrepos:\n  - repo: https://github.com/pre-commit/pre-commit\n    rev: v4.0.0\n    hooks:\n      - id: validate_manifest\n  - repo: https://github.com/PyCQA/flake8\n    rev: 7.1.1\n    hooks:\n      - id: flake8\n  - repo: https://github.com/PyCQA/isort\n    rev: 5.11.5\n    hooks:\n      - id: isort\n  - repo: https://github.com/pre-commit/mirrors-yapf\n    rev: v0.32.0\n    hooks:\n      - id: yapf\n  - repo: https://github.com/pre-commit/pre-commit-hooks\n    rev: v5.0.0\n    hooks:\n      - id: trailing-whitespace\n      - id: check-yaml\n      - id: end-of-file-fixer\n      - id: requirements-txt-fixer\n      - id: double-quote-string-fixer\n      - id: check-merge-conflict\n      - id: fix-encoding-pragma\n        args: [\"--remove\"]\n      - id: mixed-line-ending\n        args: [\"--fix=lf\"]\n  - repo: https://github.com/codespell-project/codespell\n    rev: v2.2.1\n    hooks:\n      - id: codespell\n  - repo: https://github.com/executablebooks/mdformat\n    rev: 0.7.9\n    hooks:\n      - id: mdformat\n        args: [\"--number\"]\n        additional_dependencies:\n          - mdformat-openmmlab\n          - mdformat_frontmatter\n          - linkify-it-py\n  - repo: https://github.com/myint/docformatter\n    rev: 06907d0\n    hooks:\n      - id: docformatter\n        args: [\"--in-place\", \"--wrap-descriptions\", \"79\"]\n  - repo: https://github.com/asottile/pyupgrade\n    rev: v3.0.0\n    hooks:\n      - id: pyupgrade\n        args: [\"--py36-plus\"]\n  - repo: https://github.com/open-mmlab/pre-commit-hooks\n    rev: v0.2.0  # Use the ref you want to point at\n    hooks:\n      - id: check-copyright\n        args: [\"mmcv\", \"tests\", \"--excludes\", \"mmcv/ops\"]\n  - repo: https://github.com/pre-commit/mirrors-mypy\n    rev: v1.2.0\n    hooks:\n      - id: mypy\n        exclude: |-\n          (?x)(\n              ^test\n              | ^docs\n          )\n        additional_dependencies: [\"types-setuptools\", \"types-requests\"]\n  # - repo: local\n  #   hooks:\n  #     - id: clang-format\n  #       name: clang-format\n  #       description: Format files with ClangFormat\n  #       entry: clang-format -style=google -i\n  #       language: system\n  #       files: \\.(c|cc|cxx|cpp|cu|h|hpp|hxx|cuh|proto)$\n"
        },
        {
          "name": ".readthedocs.yml",
          "type": "blob",
          "size": 0.181640625,
          "content": "version: 2\n\nformats: all\n\nbuild:\n  os: ubuntu-22.04\n  tools:\n    python: \"3.7\"\n\npython:\n  install:\n    - requirements: requirements/runtime.txt\n    - requirements: requirements/docs.txt\n"
        },
        {
          "name": "CITATION.cff",
          "type": "blob",
          "size": 0.248046875,
          "content": "cff-version: 1.2.0\nmessage: \"If you use this software, please cite it as below.\"\nauthors:\n  - name: \"MMCV Contributors\"\ntitle: \"OpenMMLab Computer Vision Foundation\"\ndate-released: 2018-08-22\nurl: \"https://github.com/open-mmlab/mmcv\"\nlicense: Apache-2.0\n"
        },
        {
          "name": "CONTRIBUTING.md",
          "type": "blob",
          "size": 11.509765625,
          "content": "## Contributing to OpenMMLab\n\nWelcome to the MMCV community, we are committed to building a cutting-edge computer vision foundational library and all kinds of contributions are welcomed, including but not limited to\n\n**Fix bug**\n\nYou can directly post a Pull Request to fix typo in code or documents\n\nThe steps to fix the bug of code implementation are as follows.\n\n1. If the modification involve significant changes, you should create an issue first and describe the error information and how to trigger the bug. Other developers will discuss with you and propose an proper solution.\n\n2. Posting a pull request after fixing the bug and adding corresponding unit test.\n\n**New Feature or Enhancement**\n\n1. If the modification involve significant changes, you should create an issue to discuss with our developers to propose an proper design.\n2. Post a Pull Request after implementing the new feature or enhancement and add corresponding unit test.\n\n**Document**\n\nYou can directly post a pull request to fix documents. If you want to add a document, you should first create an issue to check if it is reasonable.\n\n### Pull Request Workflow\n\nIf you're not familiar with Pull Request, don't worry! The following guidance will tell you how to create a Pull Request step by step. If you want to dive into the develop mode of Pull Request, you can refer to the [official documents](https://docs.github.com/en/github/collaborating-with-issues-and-pull-requests/about-pull-requests)\n\n#### 1. Fork and clone\n\nIf you are posting a pull request for the first time, you should fork the OpenMMLab repositories by clicking the **Fork** button in the top right corner of the GitHub page, and the forked repositories will appear under your GitHub profile.\n\n<img src=\"https://user-images.githubusercontent.com/57566630/167305749-43c7f4e9-449b-4e98-ade5-0c9276d5c9ce.png\" width=\"1200\">\n\nThen, you can clone the repositories to local:\n\n```shell\ngit clone git@github.com:{username}/mmcv.git\n```\n\nAfter that, you should ddd official repository as the upstream repository\n\n```bash\ngit remote add upstream git@github.com:open-mmlab/mmcv\n```\n\nCheck whether remote repository has been added successfully by `git remote -v`\n\n```bash\norigin\tgit@github.com:{username}/mmcv.git (fetch)\norigin\tgit@github.com:{username}/mmcv.git (push)\nupstream\tgit@github.com:open-mmlab/mmcv (fetch)\nupstream\tgit@github.com:open-mmlab/mmcv (push)\n```\n\n> Here's a brief introduction to origin and upstream. When we use \"git clone\", we create an \"origin\" remote by default, which points to the repository cloned from. As for \"upstream\", we add it ourselves to point to the target repository. Of course, if you don't like the name \"upstream\", you could name it as you wish. Usually, we'll push the code to \"origin\". If the pushed code conflicts with the latest code in official(\"upstream\"), we should pull the latest code from upstream to resolve the conflicts, and then push to \"origin\" again. The posted Pull Request will be updated automatically.\n\n#### 2. Configure pre-commit\n\nYou should configure [pre-commit](https://pre-commit.com/#intro) in the local development environment to make sure the code style matches that of OpenMMLab. **Note**: The following code should be executed under the MMCV directory.\n\n```shell\npip install -U pre-commit\npre-commit install\n```\n\nCheck that pre-commit is configured successfully, and install the hooks defined in `.pre-commit-config.yaml`.\n\n```shell\npre-commit run --all-files\n```\n\n<img src=\"https://user-images.githubusercontent.com/57566630/173660750-3df20a63-cb66-4d33-a986-1f643f1d8aaf.png\" width=\"1200\">\n\n<img src=\"https://user-images.githubusercontent.com/57566630/202368856-0465a90d-8fce-4345-918e-67b8b9c82614.png\" width=\"1200\">\n\nIf the installation process is interrupted, you can repeatedly run `pre-commit run ... ` to continue the installation.\n\nIf the code does not conform to the code style specification, pre-commit will raise a warning and  fixes some of the errors automatically.\n\n<img src=\"https://user-images.githubusercontent.com/57566630/202369176-67642454-0025-4023-a095-263529107aa3.png\" width=\"1200\">\n\nIf we want to commit our code bypassing the pre-commit hook, we can use the `--no-verify` option(**only for temporarily commit**).\n\n```shell\ngit commit -m \"xxx\" --no-verify\n```\n\n#### 3. Create a development branch\n\nAfter configuring the pre-commit, we should create a branch based on the master branch to develop the new feature or fix the bug. The proposed branch name is `username/pr_name`\n\n```shell\ngit checkout -b yhc/refactor_contributing_doc\n```\n\nIn subsequent development, if the master branch of the local repository is behind the master branch of \"upstream\", we need to pull the upstream for synchronization, and then execute the above command:\n\n```shell\ngit pull upstream master\n```\n\n#### 4. Commit the code and pass the unit test\n\n- MMCV introduces mypy to do static type checking to increase the robustness of the code. Therefore, we need to add Type Hints to our code and pass the mypy check. If you are not familiar with Type Hints, you can refer to [this tutorial](https://docs.python.org/3/library/typing.html).\n\n- The committed code should pass through the unit test\n\n  ```shell\n  # Pass all unit tests\n  pytest tests\n\n  # Pass the unit test of runner\n  pytest tests/test_runner/test_runner.py\n  ```\n\n  If the unit test fails for lack of dependencies, you can install the dependencies referring to the [guidance](#unit-test)\n\n- If the documents are modified/added, we should check the rendering result referring to [guidance](#document-rendering)\n\n#### 5. Push the code to remote\n\nWe could push the local commits to remote after passing through the check of unit test and pre-commit. You can associate the local branch with remote branch by adding `-u` option.\n\n```shell\ngit push -u origin {branch_name}\n```\n\nThis will allow you to use the `git push` command to push code directly next time, without having to specify a branch or the remote repository.\n\n#### 6. Create a Pull Request\n\n(1) Create a pull request in GitHub's Pull request interface\n\n<img src=\"https://user-images.githubusercontent.com/57566630/201533288-516f7ac4-0b14-4dc8-afbd-912475c368b5.png\" width=\"1200\">\n\n(2) Modify the PR description according to the guidelines so that other developers can better understand your changes\n\n<img src=\"https://user-images.githubusercontent.com/57566630/202242953-c91a18ff-e388-4ff9-8591-5fae0ead6c1e.png\" width=\"1200\">\n\nFind more details about Pull Request description in [pull request guidelines](#pr-specs).\n\n**note**\n\n(a) The Pull Request description should contain the reason for the change, the content of the change, and the impact of the change, and be associated with the relevant Issue (see [documentation](https://docs.github.com/en/issues/tracking-your-work-with-issues/linking-a-pull-request-to-an-issue)\n\n(b) If it is your first contribution, please sign the CLA\n\n<img src=\"https://user-images.githubusercontent.com/57566630/167307569-a794b967-6e28-4eac-a942-00deb657815f.png\" width=\"1200\">\n\n(c) Check whether the Pull Request pass through the CI\n\n<img src=\"https://user-images.githubusercontent.com/57566630/167307490-f9ebf9fa-63c0-4d83-8ba1-081ea169eb3a.png\" width=\"1200\">\n\nMMCV will run unit test for the posted Pull Request on different platforms (Linux, Window, Mac), based on different versions of Python, PyTorch, CUDA to make sure the code is correct. We can see the specific test information by clicking `Details` in the above image so that we can modify the code.\n\n(3) If the Pull Request passes the CI, then you can wait for the review from other developers. You'll modify the code based on the reviewer's comments, and repeat the steps [4](#4-commit-the-code-and-pass-the-unit-test)-[5](#5-push-the-code-to-remote) until all reviewers approve it. Then, we will merge it ASAP.\n\n<img src=\"https://user-images.githubusercontent.com/57566630/202145400-cc2cd8c4-10b0-472f-ba37-07e6f50acc67.png\" width=\"1200\">\n\n#### 7. Resolve conflicts\n\nIf your local branch conflicts with the latest master branch of \"upstream\", you'll need to resolove them. There are two ways to do this:\n\n```shell\ngit fetch --all --prune\ngit rebase upstream/master\n```\n\nor\n\n```shell\ngit fetch --all --prune\ngit merge upstream/master\n```\n\nIf you are very good at handling conflicts, then you can use rebase to resolve conflicts, as this will keep your commit logs tidy. If you are not familiar with `rebase`, then you can use `merge` to resolve conflicts.\n\n### Guidance\n\n#### Unit test\n\nIf you cannot run the unit test of some modules for lacking of some dependencies, such as [video](https://github.com/open-mmlab/mmcv/tree/master/mmcv/video) module, you can try to install the following dependencies:\n\n```shell\n# Linux\nsudo apt-get update -y\nsudo apt-get install -y libturbojpeg\nsudo apt-get install -y ffmpeg\n\n# Windows\nconda install ffmpeg\n```\n\nWe should also make sure the committed code will not decrease the coverage of unit test, we could run the following command to check the coverage of unit test:\n\n```shell\npython -m coverage run -m pytest /path/to/test_file\npython -m coverage html\n# check file in htmlcov/index.html\n```\n\n#### Document rendering\n\nIf the documents are modified/added, we should check the rendering result. We could install the dependencies and run the following command to render the documents and check the results:\n\n```shell\npip install -r requirements/docs.txt\ncd docs/zh_cn/\n# or docs/en\nmake html\n# check file in ./docs/zh_cn/_build/html/index.html\n```\n\n### Code style\n\n#### Python\n\nWe adopt [PEP8](https://www.python.org/dev/peps/pep-0008/) as the preferred code style.\n\nWe use the following tools for linting and formatting:\n\n- [flake8](https://github.com/PyCQA/flake8): A wrapper around some linter tools.\n- [isort](https://github.com/timothycrosley/isort): A Python utility to sort imports.\n- [yapf](https://github.com/google/yapf): A formatter for Python files.\n- [codespell](https://github.com/codespell-project/codespell): A Python utility to fix common misspellings in text files.\n- [mdformat](https://github.com/executablebooks/mdformat): Mdformat is an opinionated Markdown formatter that can be used to enforce a consistent style in Markdown files.\n- [docformatter](https://github.com/myint/docformatter): A formatter to format docstring.\n\nStyle configurations of yapf and isort can be found in [setup.cfg](./setup.cfg).\n\nWe use [pre-commit hook](https://pre-commit.com/) that checks and formats for `flake8`, `yapf`, `isort`, `trailing whitespaces`, `markdown files`,\nfixes `end-of-files`, `double-quoted-strings`, `python-encoding-pragma`, `mixed-line-ending`, sorts `requirments.txt` automatically on every commit.\nThe config for a pre-commit hook is stored in [.pre-commit-config](./.pre-commit-config.yaml).\n\n#### C++ and CUDA\n\nWe follow the [Google C++ Style Guide](https://google.github.io/styleguide/cppguide.html).\n\n### PR Specs\n\n1. Use [pre-commit](https://pre-commit.com) hook to avoid issues of code style\n\n2. One short-time branch should be matched with only one PR\n\n3. Accomplish a detailed change in one PR. Avoid large PR\n\n   - Bad: Support Faster R-CNN\n   - Acceptable: Add a box head to Faster R-CNN\n   - Good: Add a parameter to box head to support custom conv-layer number\n\n4. Provide clear and significant commit message\n\n5. Provide clear and meaningful PR description\n\n   - Task name should be clarified in title. The general format is: \\[Prefix\\] Short description of the PR (Suffix)\n   - Prefix: add new feature \\[Feature\\], fix bug \\[Fix\\], related to documents \\[Docs\\], in developing \\[WIP\\] (which will not be reviewed temporarily)\n   - Introduce main changes, results and influences on other modules in short description\n   - Associate related issues and pull requests with a milestone\n"
        },
        {
          "name": "CONTRIBUTING_zh-CN.md",
          "type": "blob",
          "size": 11.6298828125,
          "content": "## è´¡çŒ®ä»£ç \n\næ¬¢è¿åŠ å…¥ MMCV ç¤¾åŒºï¼Œæˆ‘ä»¬è‡´åŠ›äºæ‰“é€ æœ€å‰æ²¿çš„è®¡ç®—æœºè§†è§‰åŸºç¡€åº“ï¼Œæˆ‘ä»¬æ¬¢è¿ä»»ä½•ç±»å‹çš„è´¡çŒ®ï¼ŒåŒ…æ‹¬ä½†ä¸é™äº\n\n**ä¿®å¤é”™è¯¯**\n\nä¿®å¤ä»£ç å®ç°é”™è¯¯çš„æ­¥éª¤å¦‚ä¸‹ï¼š\n\n1. å¦‚æœæäº¤çš„ä»£ç æ”¹åŠ¨è¾ƒå¤§ï¼Œå»ºè®®å…ˆæäº¤ issueï¼Œå¹¶æ­£ç¡®æè¿° issue çš„ç°è±¡ã€åŸå› å’Œå¤ç°æ–¹å¼ï¼Œè®¨è®ºåç¡®è®¤ä¿®å¤æ–¹æ¡ˆã€‚\n2. ä¿®å¤é”™è¯¯å¹¶è¡¥å……ç›¸åº”çš„å•å…ƒæµ‹è¯•ï¼Œæäº¤æ‹‰å–è¯·æ±‚ã€‚\n\n**æ–°å¢åŠŸèƒ½æˆ–ç»„ä»¶**\n\n1. å¦‚æœæ–°åŠŸèƒ½æˆ–æ¨¡å—æ¶‰åŠè¾ƒå¤§çš„ä»£ç æ”¹åŠ¨ï¼Œå»ºè®®å…ˆæäº¤ issueï¼Œç¡®è®¤åŠŸèƒ½çš„å¿…è¦æ€§ã€‚\n2. å®ç°æ–°å¢åŠŸèƒ½å¹¶æ·»å•å…ƒæµ‹è¯•ï¼Œæäº¤æ‹‰å–è¯·æ±‚ã€‚\n\n**æ–‡æ¡£è¡¥å……**\n\nä¿®å¤æ–‡æ¡£å¯ä»¥ç›´æ¥æäº¤æ‹‰å–è¯·æ±‚\n\næ·»åŠ æ–‡æ¡£æˆ–å°†æ–‡æ¡£ç¿»è¯‘æˆå…¶ä»–è¯­è¨€æ­¥éª¤å¦‚ä¸‹\n\n1. æäº¤ issueï¼Œç¡®è®¤æ·»åŠ æ–‡æ¡£çš„å¿…è¦æ€§ã€‚\n2. æ·»åŠ æ–‡æ¡£ï¼Œæäº¤æ‹‰å–è¯·æ±‚ã€‚\n\n### æ‹‰å–è¯·æ±‚å·¥ä½œæµ\n\nå¦‚æœä½ å¯¹æ‹‰å–è¯·æ±‚ä¸äº†è§£ï¼Œæ²¡å…³ç³»ï¼Œæ¥ä¸‹æ¥çš„å†…å®¹å°†ä¼šä»é›¶å¼€å§‹ï¼Œä¸€æ­¥ä¸€æ­¥åœ°æŒ‡å¼•ä½ å¦‚ä½•åˆ›å»ºä¸€ä¸ªæ‹‰å–è¯·æ±‚ã€‚å¦‚æœä½ æƒ³æ·±å…¥äº†è§£æ‹‰å–è¯·æ±‚çš„å¼€å‘æ¨¡å¼ï¼Œå¯ä»¥å‚è€ƒ github [å®˜æ–¹æ–‡æ¡£](https://docs.github.com/en/github/collaborating-with-issues-and-pull-requests/about-pull-requests)\n\n#### 1. å¤åˆ»ä»“åº“\n\nå½“ä½ ç¬¬ä¸€æ¬¡æäº¤æ‹‰å–è¯·æ±‚æ—¶ï¼Œå…ˆå¤åˆ» OpenMMLab åŸä»£ç åº“ï¼Œç‚¹å‡» GitHub é¡µé¢å³ä¸Šè§’çš„ **Fork** æŒ‰é’®ï¼Œå¤åˆ»åçš„ä»£ç åº“å°†ä¼šå‡ºç°åœ¨ä½ çš„ GitHub ä¸ªäººä¸»é¡µä¸‹ã€‚\n\n<img src=\"https://user-images.githubusercontent.com/57566630/167305749-43c7f4e9-449b-4e98-ade5-0c9276d5c9ce.png\" width=\"1200\">\n\nå°†ä»£ç å…‹éš†åˆ°æœ¬åœ°\n\n```shell\ngit clone git@github.com:{username}/mmcv.git\n```\n\næ·»åŠ åŸä»£ç åº“ä¸ºä¸Šæ¸¸ä»£ç åº“\n\n```bash\ngit remote add upstream git@github.com:open-mmlab/mmcv\n```\n\næ£€æŸ¥ remote æ˜¯å¦æ·»åŠ æˆåŠŸï¼Œåœ¨ç»ˆç«¯è¾“å…¥ `git remote -v`\n\n```bash\norigin\tgit@github.com:{username}/mmcv.git (fetch)\norigin\tgit@github.com:{username}/mmcv.git (push)\nupstream\tgit@github.com:open-mmlab/mmcv (fetch)\nupstream\tgit@github.com:open-mmlab/mmcv (push)\n```\n\n> è¿™é‡Œå¯¹ origin å’Œ upstream è¿›è¡Œä¸€ä¸ªç®€å•çš„ä»‹ç»ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨ git clone æ¥å…‹éš†ä»£ç æ—¶ï¼Œä¼šé»˜è®¤åˆ›å»ºä¸€ä¸ª origin çš„ remoteï¼Œå®ƒæŒ‡å‘æˆ‘ä»¬å…‹éš†çš„ä»£ç åº“åœ°å€ï¼Œè€Œ upstream åˆ™æ˜¯æˆ‘ä»¬è‡ªå·±æ·»åŠ çš„ï¼Œç”¨æ¥æŒ‡å‘åŸå§‹ä»£ç åº“åœ°å€ã€‚å½“ç„¶å¦‚æœä½ ä¸å–œæ¬¢ä»–å« upstreamï¼Œä¹Ÿå¯ä»¥è‡ªå·±ä¿®æ”¹ï¼Œæ¯”å¦‚å« open-mmlabã€‚æˆ‘ä»¬é€šå¸¸å‘ origin æäº¤ä»£ç ï¼ˆå³ fork ä¸‹æ¥çš„è¿œç¨‹ä»“åº“ï¼‰ï¼Œç„¶åå‘ upstream æäº¤ä¸€ä¸ª pull requestã€‚å¦‚æœæäº¤çš„ä»£ç å’Œæœ€æ–°çš„ä»£ç å‘ç”Ÿå†²çªï¼Œå†ä» upstream æ‹‰å–æœ€æ–°çš„ä»£ç ï¼Œå’Œæœ¬åœ°åˆ†æ”¯è§£å†³å†²çªï¼Œå†æäº¤åˆ° originã€‚\n\n#### 2. é…ç½® pre-commit\n\nåœ¨æœ¬åœ°å¼€å‘ç¯å¢ƒä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ [pre-commit](https://pre-commit.com/#intro) æ¥æ£€æŸ¥ä»£ç é£æ ¼ï¼Œä»¥ç¡®ä¿ä»£ç é£æ ¼çš„ç»Ÿä¸€ã€‚åœ¨æäº¤ä»£ç ï¼Œéœ€è¦å…ˆå®‰è£… pre-commitï¼ˆéœ€è¦åœ¨ MMCV ç›®å½•ä¸‹æ‰§è¡Œï¼‰:\n\n```shell\npip install -U pre-commit\npre-commit install\n```\n\næ£€æŸ¥ pre-commit æ˜¯å¦é…ç½®æˆåŠŸï¼Œå¹¶å®‰è£… `.pre-commit-config.yaml` ä¸­çš„é’©å­ï¼š\n\n```shell\npre-commit run --all-files\n```\n\n<img src=\"https://user-images.githubusercontent.com/57566630/173660750-3df20a63-cb66-4d33-a986-1f643f1d8aaf.png\" width=\"1200\">\n\n<img src=\"https://user-images.githubusercontent.com/57566630/202368856-0465a90d-8fce-4345-918e-67b8b9c82614.png\" width=\"1200\">\n\n> å¦‚æœä½ æ˜¯ä¸­å›½ç”¨æˆ·ï¼Œç”±äºç½‘ç»œåŸå› ï¼Œå¯èƒ½ä¼šå‡ºç°å®‰è£…å¤±è´¥çš„æƒ…å†µï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨å›½å†…æº\n\n> pre-commit install -c .pre-commit-config-zh-cn.yaml\n\n> pre-commit run --all-files -c .pre-commit-config-zh-cn.yaml\n\nå¦‚æœå®‰è£…è¿‡ç¨‹è¢«ä¸­æ–­ï¼Œå¯ä»¥é‡å¤æ‰§è¡Œ `pre-commit run ...` ç»§ç»­å®‰è£…ã€‚\n\nå¦‚æœæäº¤çš„ä»£ç ä¸ç¬¦åˆä»£ç é£æ ¼è§„èŒƒï¼Œpre-commit ä¼šå‘å‡ºè­¦å‘Šï¼Œå¹¶è‡ªåŠ¨ä¿®å¤éƒ¨åˆ†é”™è¯¯ã€‚\n\n<img src=\"https://user-images.githubusercontent.com/57566630/202369176-67642454-0025-4023-a095-263529107aa3.png\" width=\"1200\">\n\nå¦‚æœæˆ‘ä»¬æƒ³ä¸´æ—¶ç»•å¼€ pre-commit çš„æ£€æŸ¥æäº¤ä¸€æ¬¡ä»£ç ï¼Œå¯ä»¥åœ¨ `git commit` æ—¶åŠ ä¸Š `--no-verify`ï¼ˆéœ€è¦ä¿è¯æœ€åæ¨é€è‡³è¿œç¨‹ä»“åº“çš„ä»£ç èƒ½å¤Ÿé€šè¿‡ pre-commit æ£€æŸ¥ï¼‰ã€‚\n\n```shell\ngit commit -m \"xxx\" --no-verify\n```\n\n#### 3. åˆ›å»ºå¼€å‘åˆ†æ”¯\n\nå®‰è£…å®Œ pre-commit ä¹‹åï¼Œæˆ‘ä»¬éœ€è¦åŸºäº master åˆ›å»ºå¼€å‘åˆ†æ”¯ï¼Œå»ºè®®çš„åˆ†æ”¯å‘½åè§„åˆ™ä¸º `username/pr_name`ã€‚\n\n```shell\ngit checkout -b yhc/refactor_contributing_doc\n```\n\nåœ¨åç»­çš„å¼€å‘ä¸­ï¼Œå¦‚æœæœ¬åœ°ä»“åº“çš„ master åˆ†æ”¯è½åäº upstream çš„ master åˆ†æ”¯ï¼Œæˆ‘ä»¬éœ€è¦å…ˆæ‹‰å– upstream çš„ä»£ç è¿›è¡ŒåŒæ­¥ï¼Œå†æ‰§è¡Œä¸Šé¢çš„å‘½ä»¤\n\n```shell\ngit pull upstream master\n```\n\n#### 4. æäº¤ä»£ç å¹¶åœ¨æœ¬åœ°é€šè¿‡å•å…ƒæµ‹è¯•\n\n- MMCV å¼•å…¥äº† mypy æ¥åšé™æ€ç±»å‹æ£€æŸ¥ï¼Œä»¥å¢åŠ ä»£ç çš„é²æ£’æ€§ã€‚å› æ­¤æˆ‘ä»¬åœ¨æäº¤ä»£ç æ—¶ï¼Œéœ€è¦è¡¥å…… Type Hintsã€‚å…·ä½“è§„åˆ™å¯ä»¥å‚è€ƒ[æ•™ç¨‹](https://zhuanlan.zhihu.com/p/519335398)ã€‚\n\n- æäº¤çš„ä»£ç åŒæ ·éœ€è¦é€šè¿‡å•å…ƒæµ‹è¯•\n\n  ```shell\n  # é€šè¿‡å…¨é‡å•å…ƒæµ‹è¯•\n  pytest tests\n\n  # æˆ‘ä»¬éœ€è¦ä¿è¯æäº¤çš„ä»£ç èƒ½å¤Ÿé€šè¿‡ä¿®æ”¹æ¨¡å—çš„å•å…ƒæµ‹è¯•ï¼Œä»¥ runner ä¸ºä¾‹\n  pytest tests/test_runner/test_runner.py\n  ```\n\n  å¦‚æœä½ ç”±äºç¼ºå°‘ä¾èµ–æ— æ³•è¿è¡Œä¿®æ”¹æ¨¡å—çš„å•å…ƒæµ‹è¯•ï¼Œå¯ä»¥å‚è€ƒ[æŒ‡å¼•-å•å…ƒæµ‹è¯•](#å•å…ƒæµ‹è¯•)\n\n- å¦‚æœä¿®æ”¹/æ·»åŠ äº†æ–‡æ¡£ï¼Œå‚è€ƒ[æŒ‡å¼•](#æ–‡æ¡£æ¸²æŸ“)ç¡®è®¤æ–‡æ¡£æ¸²æŸ“æ­£å¸¸ã€‚\n\n#### 5. æ¨é€ä»£ç åˆ°è¿œç¨‹\n\nä»£ç é€šè¿‡å•å…ƒæµ‹è¯•å’Œ pre-commit æ£€æŸ¥åï¼Œå°†ä»£ç æ¨é€åˆ°è¿œç¨‹ä»“åº“ï¼Œå¦‚æœæ˜¯ç¬¬ä¸€æ¬¡æ¨é€ï¼Œå¯ä»¥åœ¨ `git push` ååŠ ä¸Š `-u` å‚æ•°ä»¥å…³è”è¿œç¨‹åˆ†æ”¯\n\n```shell\ngit push -u origin {branch_name}\n```\n\nè¿™æ ·ä¸‹æ¬¡å°±å¯ä»¥ç›´æ¥ä½¿ç”¨ `git push` å‘½ä»¤æ¨é€ä»£ç äº†ï¼Œè€Œæ— éœ€æŒ‡å®šåˆ†æ”¯å’Œè¿œç¨‹ä»“åº“ã€‚\n\n#### 6. æäº¤æ‹‰å–è¯·æ±‚ï¼ˆPRï¼‰\n\n(1) åœ¨ GitHub çš„ Pull request ç•Œé¢åˆ›å»ºæ‹‰å–è¯·æ±‚\n<img src=\"https://user-images.githubusercontent.com/57566630/201533288-516f7ac4-0b14-4dc8-afbd-912475c368b5.png\" width=\"1200\">\n\n(2) æ ¹æ®æŒ‡å¼•ä¿®æ”¹ PR æè¿°ï¼Œä»¥ä¾¿äºå…¶ä»–å¼€å‘è€…æ›´å¥½åœ°ç†è§£ä½ çš„ä¿®æ”¹\n\n<img src=\"https://user-images.githubusercontent.com/57566630/202242953-c91a18ff-e388-4ff9-8591-5fae0ead6c1e.png\" width=\"1200\">\n\næè¿°è§„èŒƒè¯¦è§[æ‹‰å–è¯·æ±‚è§„èŒƒ](#æ‹‰å–è¯·æ±‚è§„èŒƒ)\n\n&#160;\n\n**æ³¨æ„äº‹é¡¹**\n\n(a) PR æè¿°åº”è¯¥åŒ…å«ä¿®æ”¹ç†ç”±ã€ä¿®æ”¹å†…å®¹ä»¥åŠä¿®æ”¹åå¸¦æ¥çš„å½±å“ï¼Œå¹¶å…³è”ç›¸å…³ Issueï¼ˆå…·ä½“æ–¹å¼è§[æ–‡æ¡£](https://docs.github.com/en/issues/tracking-your-work-with-issues/linking-a-pull-request-to-an-issue)ï¼‰\n\n(b) å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡ä¸º OpenMMLab åšè´¡çŒ®ï¼Œéœ€è¦ç­¾ç½² CLA\n\n<img src=\"https://user-images.githubusercontent.com/57566630/167307569-a794b967-6e28-4eac-a942-00deb657815f.png\" width=\"1200\">\n\n(c) æ£€æŸ¥æäº¤çš„ PR æ˜¯å¦é€šè¿‡ CIï¼ˆé›†æˆæµ‹è¯•ï¼‰\n\n<img src=\"https://user-images.githubusercontent.com/57566630/167307490-f9ebf9fa-63c0-4d83-8ba1-081ea169eb3a.png\" width=\"1200\">\n\nMMCV ä¼šåœ¨ä¸åŒçš„å¹³å°ï¼ˆLinuxã€Windowã€Macï¼‰ï¼ŒåŸºäºä¸åŒç‰ˆæœ¬çš„ Pythonã€PyTorchã€CUDA å¯¹æäº¤çš„ä»£ç è¿›è¡Œå•å…ƒæµ‹è¯•ï¼Œä»¥ä¿è¯ä»£ç çš„æ­£ç¡®æ€§ï¼Œå¦‚æœæœ‰ä»»ä½•ä¸€ä¸ªæ²¡æœ‰é€šè¿‡ï¼Œæˆ‘ä»¬å¯ç‚¹å‡»ä¸Šå›¾ä¸­çš„ `Details` æ¥æŸ¥çœ‹å…·ä½“çš„æµ‹è¯•ä¿¡æ¯ï¼Œä»¥ä¾¿äºæˆ‘ä»¬ä¿®æ”¹ä»£ç ã€‚\n\n(3) å¦‚æœ PR é€šè¿‡äº† CIï¼Œé‚£ä¹ˆå°±å¯ä»¥ç­‰å¾…å…¶ä»–å¼€å‘è€…çš„ reviewï¼Œå¹¶æ ¹æ® reviewer çš„æ„è§ï¼Œä¿®æ”¹ä»£ç ï¼Œå¹¶é‡å¤ [4](#4-æäº¤ä»£ç å¹¶æœ¬åœ°é€šè¿‡å•å…ƒæµ‹è¯•)-[5](#5-æ¨é€ä»£ç åˆ°è¿œç¨‹) æ­¥éª¤ï¼Œç›´åˆ° reviewer åŒæ„åˆå…¥ PRã€‚\n\n<img src=\"https://user-images.githubusercontent.com/57566630/202145400-cc2cd8c4-10b0-472f-ba37-07e6f50acc67.png\" width=\"1200\">\n\næ‰€æœ‰ reviewer åŒæ„åˆå…¥ PR åï¼Œæˆ‘ä»¬ä¼šå°½å¿«å°† PR åˆå¹¶åˆ°ä¸»åˆ†æ”¯ã€‚\n\n#### 7. è§£å†³å†²çª\n\néšç€æ—¶é—´çš„æ¨ç§»ï¼Œæˆ‘ä»¬çš„ä»£ç åº“ä¼šä¸æ–­æ›´æ–°ï¼Œè¿™æ—¶å€™ï¼Œå¦‚æœä½ çš„ PR ä¸ä¸»åˆ†æ”¯å­˜åœ¨å†²çªï¼Œä½ éœ€è¦è§£å†³å†²çªï¼Œè§£å†³å†²çªçš„æ–¹å¼æœ‰ä¸¤ç§ï¼š\n\n```shell\ngit fetch --all --prune\ngit rebase upstream/master\n```\n\næˆ–è€…\n\n```shell\ngit fetch --all --prune\ngit merge upstream/master\n```\n\nå¦‚æœä½ éå¸¸å–„äºå¤„ç†å†²çªï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ rebase çš„æ–¹å¼æ¥è§£å†³å†²çªï¼Œå› ä¸ºè¿™èƒ½å¤Ÿä¿è¯ä½ çš„ commit log çš„æ•´æ´ã€‚å¦‚æœä½ ä¸å¤ªç†Ÿæ‚‰ `rebase` çš„ä½¿ç”¨ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ `merge` çš„æ–¹å¼æ¥è§£å†³å†²çªã€‚\n\n### æŒ‡å¼•\n\n#### å•å…ƒæµ‹è¯•\n\nå¦‚æœä½ æ— æ³•æ­£å¸¸æ‰§è¡Œéƒ¨åˆ†æ¨¡å—çš„å•å…ƒæµ‹è¯•ï¼Œä¾‹å¦‚ [video](https://github.com/open-mmlab/mmcv/tree/master/mmcv/video) æ¨¡å—ï¼Œå¯èƒ½æ˜¯ä½ çš„å½“å‰ç¯å¢ƒæ²¡æœ‰å®‰è£…ä»¥ä¸‹ä¾èµ–\n\n```shell\n# Linux\nsudo apt-get update -y\nsudo apt-get install -y libturbojpeg\nsudo apt-get install -y ffmpeg\n\n# Windows\nconda install ffmpeg\n```\n\nåœ¨æäº¤ä¿®å¤ä»£ç é”™è¯¯æˆ–æ–°å¢ç‰¹æ€§çš„æ‹‰å–è¯·æ±‚æ—¶ï¼Œæˆ‘ä»¬åº”è¯¥å°½å¯èƒ½çš„è®©å•å…ƒæµ‹è¯•è¦†ç›–æ‰€æœ‰æäº¤çš„ä»£ç ï¼Œè®¡ç®—å•å…ƒæµ‹è¯•è¦†ç›–ç‡çš„æ–¹æ³•å¦‚ä¸‹\n\n```shell\npython -m coverage run -m pytest /path/to/test_file\npython -m coverage html\n# check file in htmlcov/index.html\n```\n\n#### æ–‡æ¡£æ¸²æŸ“\n\nåœ¨æäº¤ä¿®å¤ä»£ç é”™è¯¯æˆ–æ–°å¢ç‰¹æ€§çš„æ‹‰å–è¯·æ±‚æ—¶ï¼Œå¯èƒ½ä¼šéœ€è¦ä¿®æ”¹/æ–°å¢æ¨¡å—çš„ docstringã€‚æˆ‘ä»¬éœ€è¦ç¡®è®¤æ¸²æŸ“åçš„æ–‡æ¡£æ ·å¼æ˜¯æ­£ç¡®çš„ã€‚\næœ¬åœ°ç”Ÿæˆæ¸²æŸ“åçš„æ–‡æ¡£çš„æ–¹æ³•å¦‚ä¸‹\n\n```shell\npip install -r requirements/docs.txt\ncd docs/zh_cn/\n# or docs/en\nmake html\n# check file in ./docs/zh_cn/_build/html/index.html\n```\n\n### ä»£ç é£æ ¼\n\n#### Python\n\n[PEP8](https://www.python.org/dev/peps/pep-0008/) ä½œä¸º OpenMMLab ç®—æ³•åº“é¦–é€‰çš„ä»£ç è§„èŒƒï¼Œæˆ‘ä»¬ä½¿ç”¨ä»¥ä¸‹å·¥å…·æ£€æŸ¥å’Œæ ¼å¼åŒ–ä»£ç \n\n- [flake8](https://github.com/PyCQA/flake8): Python å®˜æ–¹å‘å¸ƒçš„ä»£ç è§„èŒƒæ£€æŸ¥å·¥å…·ï¼Œæ˜¯å¤šä¸ªæ£€æŸ¥å·¥å…·çš„å°è£…\n- [isort](https://github.com/timothycrosley/isort): è‡ªåŠ¨è°ƒæ•´æ¨¡å—å¯¼å…¥é¡ºåºçš„å·¥å…·\n- [yapf](https://github.com/google/yapf): Google å‘å¸ƒçš„ä»£ç è§„èŒƒæ£€æŸ¥å·¥å…·\n- [codespell](https://github.com/codespell-project/codespell): æ£€æŸ¥å•è¯æ‹¼å†™æ˜¯å¦æœ‰è¯¯\n- [mdformat](https://github.com/executablebooks/mdformat): æ£€æŸ¥ markdown æ–‡ä»¶çš„å·¥å…·\n- [docformatter](https://github.com/myint/docformatter): æ ¼å¼åŒ– docstring çš„å·¥å…·\n\nyapf å’Œ isort çš„é…ç½®å¯ä»¥åœ¨ [setup.cfg](./setup.cfg) æ‰¾åˆ°\n\né€šè¿‡é…ç½® [pre-commit hook](https://pre-commit.com/) ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æäº¤ä»£ç æ—¶è‡ªåŠ¨æ£€æŸ¥å’Œæ ¼å¼åŒ– `flake8`ã€`yapf`ã€`isort`ã€`trailing whitespaces`ã€`markdown files`ï¼Œ\nä¿®å¤ `end-of-files`ã€`double-quoted-strings`ã€`python-encoding-pragma`ã€`mixed-line-ending`ï¼Œè°ƒæ•´ `requirments.txt` çš„åŒ…é¡ºåºã€‚\npre-commit é’©å­çš„é…ç½®å¯ä»¥åœ¨ [.pre-commit-config](./.pre-commit-config.yaml) æ‰¾åˆ°ã€‚\n\npre-commit å…·ä½“çš„å®‰è£…ä½¿ç”¨æ–¹å¼è§[æ‹‰å–è¯·æ±‚](#2-é…ç½®-pre-commit)ã€‚\n\næ›´å…·ä½“çš„è§„èŒƒè¯·å‚è€ƒ [OpenMMLab ä»£ç è§„èŒƒ](code_style.md)ã€‚\n\n#### C++ and CUDA\n\nC++ å’Œ CUDA çš„ä»£ç è§„èŒƒéµä» [Google C++ Style Guide](https://google.github.io/styleguide/cppguide.html)\n\n### æ‹‰å–è¯·æ±‚è§„èŒƒ\n\n1. ä½¿ç”¨ [pre-commit hook](https://pre-commit.com)ï¼Œå°½é‡å‡å°‘ä»£ç é£æ ¼ç›¸å…³é—®é¢˜\n\n2. ä¸€ä¸ª`æ‹‰å–è¯·æ±‚`å¯¹åº”ä¸€ä¸ªçŸ­æœŸåˆ†æ”¯\n\n3. ç²’åº¦è¦ç»†ï¼Œä¸€ä¸ª`æ‹‰å–è¯·æ±‚`åªåšä¸€ä»¶äº‹æƒ…ï¼Œé¿å…è¶…å¤§çš„`æ‹‰å–è¯·æ±‚`\n\n   - Badï¼šå®ç° Faster R-CNN\n   - Acceptableï¼šç»™ Faster R-CNN æ·»åŠ ä¸€ä¸ª box head\n   - Goodï¼šç»™ box head å¢åŠ ä¸€ä¸ªå‚æ•°æ¥æ”¯æŒè‡ªå®šä¹‰çš„ conv å±‚æ•°\n\n4. æ¯æ¬¡ Commit æ—¶éœ€è¦æä¾›æ¸…æ™°ä¸”æœ‰æ„ä¹‰ commit ä¿¡æ¯\n\n5. æä¾›æ¸…æ™°ä¸”æœ‰æ„ä¹‰çš„`æ‹‰å–è¯·æ±‚`æè¿°\n\n   - æ ‡é¢˜å†™æ˜ç™½ä»»åŠ¡åç§°ï¼Œä¸€èˆ¬æ ¼å¼:\\[Prefix\\] Short description of the pull request (Suffix)\n   - prefix: æ–°å¢åŠŸèƒ½ \\[Feature\\], ä¿® bug \\[Fix\\], æ–‡æ¡£ç›¸å…³ \\[Docs\\], å¼€å‘ä¸­ \\[WIP\\] (æš‚æ—¶ä¸ä¼šè¢«review)\n   - æè¿°é‡Œä»‹ç»`æ‹‰å–è¯·æ±‚`çš„ä¸»è¦ä¿®æ”¹å†…å®¹ï¼Œç»“æœï¼Œä»¥åŠå¯¹å…¶ä»–éƒ¨åˆ†çš„å½±å“, å‚è€ƒ`æ‹‰å–è¯·æ±‚`æ¨¡æ¿\n   - å…³è”ç›¸å…³çš„`è®®é¢˜` (issue) å’Œå…¶ä»–`æ‹‰å–è¯·æ±‚`\n\n6. å¦‚æœå¼•å…¥äº†å…¶ä»–ä¸‰æ–¹åº“ï¼Œæˆ–å€Ÿé‰´äº†ä¸‰æ–¹åº“çš„ä»£ç ï¼Œè¯·ç¡®è®¤ä»–ä»¬çš„è®¸å¯è¯å’Œ mmcv å…¼å®¹ï¼Œå¹¶åœ¨å€Ÿé‰´çš„ä»£ç ä¸Šè¡¥å…… `This code is inspired from http://`\n"
        },
        {
          "name": "LICENSE",
          "type": "blob",
          "size": 11.1455078125,
          "content": "Copyright (c) OpenMMLab. All rights reserved\n\n                                 Apache License\n                           Version 2.0, January 2004\n                        http://www.apache.org/licenses/\n\n   TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION\n\n   1. Definitions.\n\n      \"License\" shall mean the terms and conditions for use, reproduction,\n      and distribution as defined by Sections 1 through 9 of this document.\n\n      \"Licensor\" shall mean the copyright owner or entity authorized by\n      the copyright owner that is granting the License.\n\n      \"Legal Entity\" shall mean the union of the acting entity and all\n      other entities that control, are controlled by, or are under common\n      control with that entity. For the purposes of this definition,\n      \"control\" means (i) the power, direct or indirect, to cause the\n      direction or management of such entity, whether by contract or\n      otherwise, or (ii) ownership of fifty percent (50%) or more of the\n      outstanding shares, or (iii) beneficial ownership of such entity.\n\n      \"You\" (or \"Your\") shall mean an individual or Legal Entity\n      exercising permissions granted by this License.\n\n      \"Source\" form shall mean the preferred form for making modifications,\n      including but not limited to software source code, documentation\n      source, and configuration files.\n\n      \"Object\" form shall mean any form resulting from mechanical\n      transformation or translation of a Source form, including but\n      not limited to compiled object code, generated documentation,\n      and conversions to other media types.\n\n      \"Work\" shall mean the work of authorship, whether in Source or\n      Object form, made available under the License, as indicated by a\n      copyright notice that is included in or attached to the work\n      (an example is provided in the Appendix below).\n\n      \"Derivative Works\" shall mean any work, whether in Source or Object\n      form, that is based on (or derived from) the Work and for which the\n      editorial revisions, annotations, elaborations, or other modifications\n      represent, as a whole, an original work of authorship. For the purposes\n      of this License, Derivative Works shall not include works that remain\n      separable from, or merely link (or bind by name) to the interfaces of,\n      the Work and Derivative Works thereof.\n\n      \"Contribution\" shall mean any work of authorship, including\n      the original version of the Work and any modifications or additions\n      to that Work or Derivative Works thereof, that is intentionally\n      submitted to Licensor for inclusion in the Work by the copyright owner\n      or by an individual or Legal Entity authorized to submit on behalf of\n      the copyright owner. For the purposes of this definition, \"submitted\"\n      means any form of electronic, verbal, or written communication sent\n      to the Licensor or its representatives, including but not limited to\n      communication on electronic mailing lists, source code control systems,\n      and issue tracking systems that are managed by, or on behalf of, the\n      Licensor for the purpose of discussing and improving the Work, but\n      excluding communication that is conspicuously marked or otherwise\n      designated in writing by the copyright owner as \"Not a Contribution.\"\n\n      \"Contributor\" shall mean Licensor and any individual or Legal Entity\n      on behalf of whom a Contribution has been received by Licensor and\n      subsequently incorporated within the Work.\n\n   2. Grant of Copyright License. Subject to the terms and conditions of\n      this License, each Contributor hereby grants to You a perpetual,\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n      copyright license to reproduce, prepare Derivative Works of,\n      publicly display, publicly perform, sublicense, and distribute the\n      Work and such Derivative Works in Source or Object form.\n\n   3. Grant of Patent License. Subject to the terms and conditions of\n      this License, each Contributor hereby grants to You a perpetual,\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n      (except as stated in this section) patent license to make, have made,\n      use, offer to sell, sell, import, and otherwise transfer the Work,\n      where such license applies only to those patent claims licensable\n      by such Contributor that are necessarily infringed by their\n      Contribution(s) alone or by combination of their Contribution(s)\n      with the Work to which such Contribution(s) was submitted. If You\n      institute patent litigation against any entity (including a\n      cross-claim or counterclaim in a lawsuit) alleging that the Work\n      or a Contribution incorporated within the Work constitutes direct\n      or contributory patent infringement, then any patent licenses\n      granted to You under this License for that Work shall terminate\n      as of the date such litigation is filed.\n\n   4. Redistribution. You may reproduce and distribute copies of the\n      Work or Derivative Works thereof in any medium, with or without\n      modifications, and in Source or Object form, provided that You\n      meet the following conditions:\n\n      (a) You must give any other recipients of the Work or\n          Derivative Works a copy of this License; and\n\n      (b) You must cause any modified files to carry prominent notices\n          stating that You changed the files; and\n\n      (c) You must retain, in the Source form of any Derivative Works\n          that You distribute, all copyright, patent, trademark, and\n          attribution notices from the Source form of the Work,\n          excluding those notices that do not pertain to any part of\n          the Derivative Works; and\n\n      (d) If the Work includes a \"NOTICE\" text file as part of its\n          distribution, then any Derivative Works that You distribute must\n          include a readable copy of the attribution notices contained\n          within such NOTICE file, excluding those notices that do not\n          pertain to any part of the Derivative Works, in at least one\n          of the following places: within a NOTICE text file distributed\n          as part of the Derivative Works; within the Source form or\n          documentation, if provided along with the Derivative Works; or,\n          within a display generated by the Derivative Works, if and\n          wherever such third-party notices normally appear. The contents\n          of the NOTICE file are for informational purposes only and\n          do not modify the License. You may add Your own attribution\n          notices within Derivative Works that You distribute, alongside\n          or as an addendum to the NOTICE text from the Work, provided\n          that such additional attribution notices cannot be construed\n          as modifying the License.\n\n      You may add Your own copyright statement to Your modifications and\n      may provide additional or different license terms and conditions\n      for use, reproduction, or distribution of Your modifications, or\n      for any such Derivative Works as a whole, provided Your use,\n      reproduction, and distribution of the Work otherwise complies with\n      the conditions stated in this License.\n\n   5. Submission of Contributions. Unless You explicitly state otherwise,\n      any Contribution intentionally submitted for inclusion in the Work\n      by You to the Licensor shall be under the terms and conditions of\n      this License, without any additional terms or conditions.\n      Notwithstanding the above, nothing herein shall supersede or modify\n      the terms of any separate license agreement you may have executed\n      with Licensor regarding such Contributions.\n\n   6. Trademarks. This License does not grant permission to use the trade\n      names, trademarks, service marks, or product names of the Licensor,\n      except as required for reasonable and customary use in describing the\n      origin of the Work and reproducing the content of the NOTICE file.\n\n   7. Disclaimer of Warranty. Unless required by applicable law or\n      agreed to in writing, Licensor provides the Work (and each\n      Contributor provides its Contributions) on an \"AS IS\" BASIS,\n      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or\n      implied, including, without limitation, any warranties or conditions\n      of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A\n      PARTICULAR PURPOSE. You are solely responsible for determining the\n      appropriateness of using or redistributing the Work and assume any\n      risks associated with Your exercise of permissions under this License.\n\n   8. Limitation of Liability. In no event and under no legal theory,\n      whether in tort (including negligence), contract, or otherwise,\n      unless required by applicable law (such as deliberate and grossly\n      negligent acts) or agreed to in writing, shall any Contributor be\n      liable to You for damages, including any direct, indirect, special,\n      incidental, or consequential damages of any character arising as a\n      result of this License or out of the use or inability to use the\n      Work (including but not limited to damages for loss of goodwill,\n      work stoppage, computer failure or malfunction, or any and all\n      other commercial damages or losses), even if such Contributor\n      has been advised of the possibility of such damages.\n\n   9. Accepting Warranty or Additional Liability. While redistributing\n      the Work or Derivative Works thereof, You may choose to offer,\n      and charge a fee for, acceptance of support, warranty, indemnity,\n      or other liability obligations and/or rights consistent with this\n      License. However, in accepting such obligations, You may act only\n      on Your own behalf and on Your sole responsibility, not on behalf\n      of any other Contributor, and only if You agree to indemnify,\n      defend, and hold each Contributor harmless for any liability\n      incurred by, or claims asserted against, such Contributor by reason\n      of your accepting any such warranty or additional liability.\n\n   END OF TERMS AND CONDITIONS\n\n   APPENDIX: How to apply the Apache License to your work.\n\n      To apply the Apache License to your work, attach the following\n      boilerplate notice, with the fields enclosed by brackets \"[]\"\n      replaced with your own identifying information. (Don't include\n      the brackets!)  The text should be enclosed in the appropriate\n      comment syntax for the file format. We also recommend that a\n      file or class name and description of purpose be included on the\n      same \"printed page\" as the copyright notice for easier\n      identification within third-party archives.\n\n   Copyright 2018-2020 Open-MMLab. All rights reserved.\n\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n"
        },
        {
          "name": "LICENSES.md",
          "type": "blob",
          "size": 1.5546875,
          "content": "# Licenses for special operations\n\nIn this file, we list the operations with other licenses instead of Apache 2.0. Users should be careful about adopting these operations in any commercial matters.\n\n|    Operation     |                                                                             Files                                                                              |    License     |\n| :--------------: | :------------------------------------------------------------------------------------------------------------------------------------------------------------: | :------------: |\n|    upfirdn2d     |          [mmcv/ops/csrc/pytorch/cuda/upfirdn2d_kernel.cu](https://github.com/open-mmlab/mmcv/tree/2.x/mmcv/ops/csrc/pytorch/cuda/upfirdn2d_kernel.cu)          | NVIDIA License |\n| fused_leaky_relu | [mmcv/ops/csrc/pytorch/cuda/fused_bias_leakyrelu_cuda.cu](https://github.com/open-mmlab/mmcv/tree/2.x/mmcv/ops/csrc/pytorch/cuda/fused_bias_leakyrelu_cuda.cu) | NVIDIA License |\n|     bias_act     |             [mmcv/ops/csrc/pytorch/cuda/bias_act_cuda.cu](https://github.com/open-mmlab/mmcv/tree/2.x/mmcv/ops/csrc/pytorch/cuda/bias_act_cuda.cu)             | NVIDIA License |\n|  filtered_lrelu  |            [mmcv/ops/csrc/pytorch/cuda/filtered_lrelu.cu](https://github.com/open-mmlab/mmcv/tree/2.x/mmcv/ops/csrc/pytorch/cuda/filtered_lrelu.cu)            | NVIDIA License |\n|  conv2d_gradfix  |                              [mmcv/ops/conv2d_gradfix.py](https://github.com/open-mmlab/mmcv/tree/2.x/mmcv/ops/conv2d_gradfix.py)                              | NVIDIA License |\n"
        },
        {
          "name": "MANIFEST.in",
          "type": "blob",
          "size": 0.478515625,
          "content": "include requirements/runtime.txt\ninclude mmcv/ops/csrc/common/cuda/*.cuh mmcv/ops/csrc/common/cuda/*.hpp mmcv/ops/csrc/common/*.hpp\ninclude mmcv/ops/csrc/pytorch/*.cpp mmcv/ops/csrc/pytorch/cuda/*.cu mmcv/ops/csrc/pytorch/cuda/*.cpp mmcv/ops/csrc/pytorch/cpu/*.cpp\ninclude mmcv/ops/csrc/parrots/*.h mmcv/ops/csrc/parrots/*.cpp\ninclude mmcv/ops/csrc/pytorch/mps/*.mm mmcv/ops/csrc/common/mps/*.h mmcv/ops/csrc/common/mps/*.mm\nrecursive-include mmcv/ops/csrc/ *.h *.hpp *.cpp *.cuh *.cu *.mm\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 11.328125,
          "content": "<div align=\"center\">\n  <img src=\"https://raw.githubusercontent.com/open-mmlab/mmcv/main/docs/en/mmcv-logo.png\" width=\"300\"/>\n  <div>&nbsp;</div>\n  <div align=\"center\">\n    <b><font size=\"5\">OpenMMLab website</font></b>\n    <sup>\n      <a href=\"https://openmmlab.com\">\n        <i><font size=\"4\">HOT</font></i>\n      </a>\n    </sup>\n    &nbsp;&nbsp;&nbsp;&nbsp;\n    <b><font size=\"5\">OpenMMLab platform</font></b>\n    <sup>\n      <a href=\"https://platform.openmmlab.com\">\n        <i><font size=\"4\">TRY IT OUT</font></i>\n      </a>\n    </sup>\n  </div>\n  <div>&nbsp;</div>\n\n[![platform](https://img.shields.io/badge/platform-Linux%7CWindows%7CmacOS-blue)](https://mmcv.readthedocs.io/en/latest/get_started/installation.html)\n[![PyPI - Python Version](https://img.shields.io/pypi/pyversions/mmcv)](https://pypi.org/project/mmcv/)\n[![pytorch](https://img.shields.io/badge/pytorch-1.8~2.0-orange)](https://pytorch.org/get-started/previous-versions/)\n[![cuda](https://img.shields.io/badge/cuda-10.1~11.8-green)](https://developer.nvidia.com/cuda-downloads)\n[![PyPI](https://img.shields.io/pypi/v/mmcv)](https://pypi.org/project/mmcv)\n[![badge](https://github.com/open-mmlab/mmcv/workflows/build/badge.svg)](https://github.com/open-mmlab/mmcv/actions)\n[![codecov](https://codecov.io/gh/open-mmlab/mmcv/branch/master/graph/badge.svg)](https://codecov.io/gh/open-mmlab/mmcv)\n[![license](https://img.shields.io/github/license/open-mmlab/mmcv.svg)](https://github.com/open-mmlab/mmcv/blob/master/LICENSE)\n\n[ğŸ“˜Documentation](https://mmcv.readthedocs.io/en/latest/) |\n[ğŸ› ï¸Installation](https://mmcv.readthedocs.io/en/latest/get_started/installation.html) |\n[ğŸ¤”Reporting Issues](https://github.com/open-mmlab/mmcv/issues/new/choose)\n\n</div>\n\n<div align=\"center\">\n\nEnglish | [ç®€ä½“ä¸­æ–‡](README_zh-CN.md)\n\n</div>\n\n## Highlights\n\nThe OpenMMLab team released a new generation of training engine [MMEngine](https://github.com/open-mmlab/mmengine) at the World Artificial Intelligence Conference on September 1, 2022. It is a foundational library for training deep learning models. Compared with MMCV, it provides a universal and powerful runner, an open architecture with a more unified interface, and a more customizable training process.\n\nMMCV v2.0.0 official version was released on April 6, 2023. In version 2.x, it removed components related to the training process and added a data transformation module. Also, starting from 2.x, it renamed the package names **mmcv** to **mmcv-lite** and **mmcv-full** to **mmcv**. For details, see [Compatibility Documentation](docs/en/compatibility.md).\n\nMMCV will maintain both [1.x](https://github.com/open-mmlab/mmcv/tree/1.x) (corresponding to the original [master](https://github.com/open-mmlab/mmcv/tree/master) branch) and **2.x** (corresponding to the **main** branch, now the default branch) versions simultaneously. For details, see [Branch Maintenance Plan](README.md#branch-maintenance-plan).\n\n## Introduction\n\nMMCV is a foundational library for computer vision research and it provides the following functionalities:\n\n- [Image/Video processing](https://mmcv.readthedocs.io/en/latest/understand_mmcv/data_process.html)\n- [Image and annotation visualization](https://mmcv.readthedocs.io/en/latest/understand_mmcv/visualization.html)\n- [Image transformation](https://mmcv.readthedocs.io/en/latest/understand_mmcv/data_transform.html)\n- [Various CNN architectures](https://mmcv.readthedocs.io/en/latest/understand_mmcv/cnn.html)\n- [High-quality implementation of common CPU and CUDA ops](https://mmcv.readthedocs.io/en/latest/understand_mmcv/ops.html)\n\nIt supports the following systems:\n\n- Linux\n- Windows\n- macOS\n\nSee the [documentation](http://mmcv.readthedocs.io/en/latest) for more features and usage.\n\nNote: MMCV requires Python 3.7+.\n\n## Installation\n\nThere are two versions of MMCV:\n\n- **mmcv**: comprehensive, with full features and various CUDA ops out of the box. It takes longer time to build.\n- **mmcv-lite**: lite, without CUDA ops but all other features, similar to mmcv\\<1.0.0. It is useful when you do not need those CUDA ops.\n\n**Note**: Do not install both versions in the same environment, otherwise you may encounter errors like `ModuleNotFound`. You need to uninstall one before installing the other. `Installing the full version is highly recommended if CUDA is available`.\n\n### Install mmcv\n\nBefore installing mmcv, make sure that PyTorch has been successfully installed following the [PyTorch official installation guide](https://github.com/pytorch/pytorch#installation). For apple silicon users, please use PyTorch 1.13+.\n\nThe command to install mmcv:\n\n```bash\npip install -U openmim\nmim install mmcv\n```\n\nIf you need to specify the version of mmcv, you can use the following command:\n\n```bash\nmim install mmcv==2.0.0\n```\n\nIf you find that the above installation command does not use a pre-built package ending with `.whl` but a source package ending with `.tar.gz`, you may not have a pre-build package corresponding to the PyTorch or CUDA or mmcv version, in which case you can [build mmcv from source](https://mmcv.readthedocs.io/en/latest/get_started/build.html).\n\n<details>\n<summary>Installation log using pre-built packages</summary>\n\nLooking in links: https://download.openmmlab.com/mmcv/dist/cu102/torch1.8.0/index.html<br />\nCollecting mmcv<br />\n<b>Downloading https://download.openmmlab.com/mmcv/dist/cu102/torch1.8.0/mmcv-2.0.0-cp38-cp38-manylinux1_x86_64.whl</b>\n\n</details>\n\n<details>\n<summary>Installation log using source packages</summary>\n\nLooking in links: https://download.openmmlab.com/mmcv/dist/cu102/torch1.8.0/index.html<br />\nCollecting mmcv==2.0.0<br />\n<b>Downloading mmcv-2.0.0.tar.gz</b>\n\n</details>\n\nFor more installation methods, please refer to the [Installation documentation](https://mmcv.readthedocs.io/en/latest/get_started/installation.html).\n\n### Install mmcv-lite\n\nIf you need to use PyTorch-related modules, make sure PyTorch has been successfully installed in your environment by referring to the [PyTorch official installation guide](https://github.com/pytorch/pytorch#installation).\n\n```bash\npip install -U openmim\nmim install mmcv-lite\n```\n\n## FAQ\n\nIf you face some installation issues, CUDA related issues or RuntimeErrors,\nyou may first refer to this [Frequently Asked Questions](https://mmcv.readthedocs.io/en/latest/faq.html).\n\nIf you face installation problems or runtime issues, you may first refer to this [Frequently Asked Questions](https://mmcv.readthedocs.io/en/latest/faq.html) to see if there is a solution. If the problem is still not solved, feel free to open an [issue](https://github.com/open-mmlab/mmcv/issues).\n\n## Citation\n\nIf you find this project useful in your research, please consider cite:\n\n```latex\n@misc{mmcv,\n    title={{MMCV: OpenMMLab} Computer Vision Foundation},\n    author={MMCV Contributors},\n    howpublished = {\\url{https://github.com/open-mmlab/mmcv}},\n    year={2018}\n}\n```\n\n## Contributing\n\nWe appreciate all contributions to improve MMCV. Please refer to [CONTRIBUTING.md](CONTRIBUTING.md) for the contributing guideline.\n\n## License\n\nMMCV is released under the Apache 2.0 license, while some specific operations in this library are with other licenses. Please refer to [LICENSES.md](LICENSES.md) for the careful check, if you are using our code for commercial matters.\n\n## Branch Maintenance Plan\n\nMMCV currently has four branches, namely main, 1.x, master, and 2.x, where 2.x is an alias for the main branch, and master is an alias for the 1.x branch. The 2.x and master branches will be deleted in the future. MMCV's branches go through the following three stages:\n\n| Phase                | Time                  | Branch                                                                                                                              | description                                                                                                                                            |\n| -------------------- | --------------------- | ----------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------ |\n| RC Period            | 2022.9.1 - 2023.4.5   | Release candidate code (2.x version) will be released on 2.x branch. Default master branch is still 1.x version                     | Master and 2.x branches iterate normally                                                                                                               |\n| Compatibility Period | 2023.4.6 - 2023.12.31 | **The 2.x branch has been renamed to the main branch and set as the default branch**, and 1.x branch will correspond to 1.x version | We still maintain the old version 1.x, respond to user needs, but try not to introduce changes that break compatibility; main branch iterates normally |\n| Maintenance Period   | From 2024/1/1         | Default main branch corresponds to 2.x version and 1.x branch is 1.x version                                                        | 1.x branch is in maintenance phase, no more new feature support; main branch is iterating normally                                                     |\n\n## Projects in OpenMMLab\n\n- [MMEngine](https://github.com/open-mmlab/mmengine): OpenMMLab foundational library for training deep learning models.\n- [MMCV](https://github.com/open-mmlab/mmcv): OpenMMLab foundational library for computer vision.\n- [MIM](https://github.com/open-mmlab/mim): MIM installs OpenMMLab packages.\n- [MMClassification](https://github.com/open-mmlab/mmclassification): OpenMMLab image classification toolbox and benchmark.\n- [MMDetection](https://github.com/open-mmlab/mmdetection): OpenMMLab detection toolbox and benchmark.\n- [MMDetection3D](https://github.com/open-mmlab/mmdetection3d): OpenMMLab's next-generation platform for general 3D object detection.\n- [MMRotate](https://github.com/open-mmlab/mmrotate): OpenMMLab rotated object detection toolbox and benchmark.\n- [MMYOLO](https://github.com/open-mmlab/mmyolo): OpenMMLab YOLO series toolbox and benchmark.\n- [MMSegmentation](https://github.com/open-mmlab/mmsegmentation): OpenMMLab semantic segmentation toolbox and benchmark.\n- [MMOCR](https://github.com/open-mmlab/mmocr): OpenMMLab text detection, recognition, and understanding toolbox.\n- [MMPose](https://github.com/open-mmlab/mmpose): OpenMMLab pose estimation toolbox and benchmark.\n- [MMHuman3D](https://github.com/open-mmlab/mmhuman3d): OpenMMLab 3D human parametric model toolbox and benchmark.\n- [MMSelfSup](https://github.com/open-mmlab/mmselfsup): OpenMMLab self-supervised learning toolbox and benchmark.\n- [MMRazor](https://github.com/open-mmlab/mmrazor): OpenMMLab model compression toolbox and benchmark.\n- [MMFewShot](https://github.com/open-mmlab/mmfewshot): OpenMMLab fewshot learning toolbox and benchmark.\n- [MMAction2](https://github.com/open-mmlab/mmaction2): OpenMMLab's next-generation action understanding toolbox and benchmark.\n- [MMTracking](https://github.com/open-mmlab/mmtracking): OpenMMLab video perception toolbox and benchmark.\n- [MMFlow](https://github.com/open-mmlab/mmflow): OpenMMLab optical flow toolbox and benchmark.\n- [MMEditing](https://github.com/open-mmlab/mmediting): OpenMMLab image and video editing toolbox.\n- [MMGeneration](https://github.com/open-mmlab/mmgeneration): OpenMMLab image and video generative models toolbox.\n- [MMDeploy](https://github.com/open-mmlab/mmdeploy): OpenMMLab model deployment framework.\n"
        },
        {
          "name": "README_zh-CN.md",
          "type": "blob",
          "size": 13.158203125,
          "content": "<div align=\"center\">\n  <img src=\"https://raw.githubusercontent.com/open-mmlab/mmcv/main/docs/en/mmcv-logo.png\" width=\"300\"/>\n  <div>&nbsp;</div>\n  <div align=\"center\">\n    <b><font size=\"5\">OpenMMLab å®˜ç½‘</font></b>\n    <sup>\n      <a href=\"https://openmmlab.com\">\n        <i><font size=\"4\">HOT</font></i>\n      </a>\n    </sup>\n    &nbsp;&nbsp;&nbsp;&nbsp;\n    <b><font size=\"5\">OpenMMLab å¼€æ”¾å¹³å°</font></b>\n    <sup>\n      <a href=\"https://platform.openmmlab.com\">\n        <i><font size=\"4\">TRY IT OUT</font></i>\n      </a>\n    </sup>\n  </div>\n  <div>&nbsp;</div>\n\n[![platform](https://img.shields.io/badge/platform-Linux%7CWindows%7CmacOS-blue)](https://mmcv.readthedocs.io/zh_CN/latest/get_started/installation.html)\n[![PyPI - Python Version](https://img.shields.io/pypi/pyversions/mmcv)](https://pypi.org/project/mmcv/)\n[![pytorch](https://img.shields.io/badge/pytorch-1.8~2.0-orange)](https://pytorch.org/get-started/previous-versions/)\n[![cuda](https://img.shields.io/badge/cuda-10.1~11.8-green)](https://developer.nvidia.com/cuda-downloads)\n[![PyPI](https://img.shields.io/pypi/v/mmcv)](https://pypi.org/project/mmcv)\n[![badge](https://github.com/open-mmlab/mmcv/workflows/build/badge.svg)](https://github.com/open-mmlab/mmcv/actions)\n[![codecov](https://codecov.io/gh/open-mmlab/mmcv/branch/master/graph/badge.svg)](https://codecov.io/gh/open-mmlab/mmcv)\n[![license](https://img.shields.io/github/license/open-mmlab/mmcv.svg)](https://github.com/open-mmlab/mmcv/blob/master/LICENSE)\n\n[ğŸ“˜ä½¿ç”¨æ–‡æ¡£](https://mmcv.readthedocs.io/zh_CN/latest/) |\n[ğŸ› ï¸å®‰è£…æ•™ç¨‹](https://mmcv.readthedocs.io/zh_CN/latest/get_started/installation.html) |\n[ğŸ¤”æŠ¥å‘Šé—®é¢˜](https://github.com/open-mmlab/mmcv/issues/new/choose)\n\n</div>\n\n<div align=\"center\">\n\n[English](README.md) | ç®€ä½“ä¸­æ–‡\n\n</div>\n\n<div align=\"center\">\n  <a href=\"https://openmmlab.medium.com/\" style=\"text-decoration:none;\">\n    <img src=\"https://user-images.githubusercontent.com/25839884/219255827-67c1a27f-f8c5-46a9-811d-5e57448c61d1.png\" width=\"3%\" alt=\"\" /></a>\n  <img src=\"https://user-images.githubusercontent.com/25839884/218346358-56cc8e2f-a2b8-487f-9088-32480cceabcf.png\" width=\"3%\" alt=\"\" />\n  <a href=\"https://discord.gg/raweFPmdzG\" style=\"text-decoration:none;\">\n    <img src=\"https://user-images.githubusercontent.com/25839884/218347213-c080267f-cbb6-443e-8532-8e1ed9a58ea9.png\" width=\"3%\" alt=\"\" /></a>\n  <img src=\"https://user-images.githubusercontent.com/25839884/218346358-56cc8e2f-a2b8-487f-9088-32480cceabcf.png\" width=\"3%\" alt=\"\" />\n  <a href=\"https://twitter.com/OpenMMLab\" style=\"text-decoration:none;\">\n    <img src=\"https://user-images.githubusercontent.com/25839884/218346637-d30c8a0f-3eba-4699-8131-512fb06d46db.png\" width=\"3%\" alt=\"\" /></a>\n  <img src=\"https://user-images.githubusercontent.com/25839884/218346358-56cc8e2f-a2b8-487f-9088-32480cceabcf.png\" width=\"3%\" alt=\"\" />\n  <a href=\"https://www.youtube.com/openmmlab\" style=\"text-decoration:none;\">\n    <img src=\"https://user-images.githubusercontent.com/25839884/218346691-ceb2116a-465a-40af-8424-9f30d2348ca9.png\" width=\"3%\" alt=\"\" /></a>\n  <img src=\"https://user-images.githubusercontent.com/25839884/218346358-56cc8e2f-a2b8-487f-9088-32480cceabcf.png\" width=\"3%\" alt=\"\" />\n  <a href=\"https://space.bilibili.com/1293512903\" style=\"text-decoration:none;\">\n    <img src=\"https://user-images.githubusercontent.com/25839884/219026751-d7d14cce-a7c9-4e82-9942-8375fca65b99.png\" width=\"3%\" alt=\"\" /></a>\n  <img src=\"https://user-images.githubusercontent.com/25839884/218346358-56cc8e2f-a2b8-487f-9088-32480cceabcf.png\" width=\"3%\" alt=\"\" />\n  <a href=\"https://www.zhihu.com/people/openmmlab\" style=\"text-decoration:none;\">\n    <img src=\"https://user-images.githubusercontent.com/25839884/219026120-ba71e48b-6e94-4bd4-b4e9-b7d175b5e362.png\" width=\"3%\" alt=\"\" /></a>\n</div>\n\n## Highlights\n\nOpenMMLab å›¢é˜Ÿäº 2022 å¹´ 9 æœˆ 1 æ—¥åœ¨ä¸–ç•Œäººå·¥æ™ºèƒ½å¤§ä¼šå‘å¸ƒäº†æ–°ä¸€ä»£è®­ç»ƒå¼•æ“ [MMEngine](https://github.com/open-mmlab/mmengine)ï¼Œå®ƒæ˜¯ä¸€ä¸ªç”¨äºè®­ç»ƒæ·±åº¦å­¦ä¹ æ¨¡å‹çš„åŸºç¡€åº“ã€‚ç›¸æ¯”äº MMCVï¼Œå®ƒæä¾›äº†æ›´é«˜çº§ä¸”é€šç”¨çš„è®­ç»ƒå™¨ã€æ¥å£æ›´åŠ ç»Ÿä¸€çš„å¼€æ”¾æ¶æ„ä»¥åŠå¯å®šåˆ¶åŒ–ç¨‹åº¦æ›´é«˜çš„è®­ç»ƒæµç¨‹ã€‚\n\nMMCV v2.0.0 æ­£å¼ç‰ˆæœ¬äº 2023 å¹´ 4 æœˆ 6 æ—¥å‘å¸ƒã€‚åœ¨ 2.x ç‰ˆæœ¬ä¸­ï¼Œå®ƒåˆ é™¤äº†å’Œè®­ç»ƒæµç¨‹ç›¸å…³çš„ç»„ä»¶ï¼Œå¹¶æ–°å¢äº†æ•°æ®å˜æ¢æ¨¡å—ã€‚å¦å¤–ï¼Œä» 2.x ç‰ˆæœ¬å¼€å§‹ï¼Œé‡å‘½ååŒ…å **mmcv** ä¸º **mmcv-lite** ä»¥åŠ **mmcv-full** ä¸º **mmcv**ã€‚è¯¦æƒ…è§[å…¼å®¹æ€§æ–‡æ¡£](docs/zh_cn/compatibility.md)ã€‚\n\nMMCV ä¼šåŒæ—¶ç»´æŠ¤ [1.x](https://github.com/open-mmlab/mmcv/tree/1.x) (å¯¹åº”åŸ [master](https://github.com/open-mmlab/mmcv/tree/master) åˆ†æ”¯) å’Œ **2.x**ï¼ˆå¯¹åº” **main** åˆ†æ”¯ï¼Œç°ä¸ºé»˜è®¤åˆ†æ”¯ï¼‰ç‰ˆæœ¬ï¼Œè¯¦æƒ…è§[åˆ†æ”¯ç»´æŠ¤è®¡åˆ’](README_zh-CN.md#åˆ†æ”¯ç»´æŠ¤è®¡åˆ’)ã€‚\n\n## ç®€ä»‹\n\nMMCV æ˜¯ä¸€ä¸ªé¢å‘è®¡ç®—æœºè§†è§‰çš„åŸºç¡€åº“ï¼Œå®ƒæä¾›äº†ä»¥ä¸‹åŠŸèƒ½ï¼š\n\n- [å›¾åƒå’Œè§†é¢‘å¤„ç†](https://mmcv.readthedocs.io/zh_CN/latest/understand_mmcv/data_process.html)\n- [å›¾åƒå’Œæ ‡æ³¨ç»“æœå¯è§†åŒ–](https://mmcv.readthedocs.io/zh_CN/latest/understand_mmcv/visualization.html)\n- [å›¾åƒå˜æ¢](https://mmcv.readthedocs.io/zh_CN/latest/understand_mmcv/data_transform.html)\n- [å¤šç§ CNN ç½‘ç»œç»“æ„](https://mmcv.readthedocs.io/zh_CN/latest/understand_mmcv/cnn.html)\n- [é«˜è´¨é‡å®ç°çš„å¸¸è§ CUDA ç®—å­](https://mmcv.readthedocs.io/zh_CN/latest/understand_mmcv/ops.html)\n\nMMCV æ”¯æŒå¤šç§å¹³å°ï¼ŒåŒ…æ‹¬ï¼š\n\n- Linux\n- Windows\n- macOS\n\nå¦‚æƒ³äº†è§£æ›´å¤šç‰¹æ€§å’Œä½¿ç”¨ï¼Œè¯·å‚è€ƒ[æ–‡æ¡£](http://mmcv.readthedocs.io/zh_CN/latest)ã€‚\n\næç¤º: MMCV éœ€è¦ Python 3.7 ä»¥ä¸Šç‰ˆæœ¬ã€‚\n\n## å®‰è£…\n\nMMCV æœ‰ä¸¤ä¸ªç‰ˆæœ¬ï¼š\n\n- **mmcv**: å®Œæ•´ç‰ˆï¼ŒåŒ…å«æ‰€æœ‰çš„ç‰¹æ€§ä»¥åŠä¸°å¯Œçš„å¼€ç®±å³ç”¨çš„ CUDA ç®—å­ã€‚æ³¨æ„å®Œæ•´ç‰ˆæœ¬å¯èƒ½éœ€è¦æ›´é•¿æ—¶é—´æ¥ç¼–è¯‘ã€‚\n- **mmcv-lite**: ç²¾ç®€ç‰ˆï¼Œä¸åŒ…å« CUDA ç®—å­ä½†åŒ…å«å…¶ä½™æ‰€æœ‰ç‰¹æ€§å’ŒåŠŸèƒ½ï¼Œç±»ä¼¼ MMCV 1.0 ä¹‹å‰çš„ç‰ˆæœ¬ã€‚å¦‚æœä½ ä¸éœ€è¦ä½¿ç”¨ CUDA ç®—å­çš„è¯ï¼Œç²¾ç®€ç‰ˆå¯ä»¥ä½œä¸ºä¸€ä¸ªè€ƒè™‘é€‰é¡¹ã€‚\n\n**æ³¨æ„**: è¯·ä¸è¦åœ¨åŒä¸€ä¸ªç¯å¢ƒä¸­å®‰è£…ä¸¤ä¸ªç‰ˆæœ¬ï¼Œå¦åˆ™å¯èƒ½ä¼šé‡åˆ°ç±»ä¼¼ `ModuleNotFound` çš„é”™è¯¯ã€‚åœ¨å®‰è£…ä¸€ä¸ªç‰ˆæœ¬ä¹‹å‰ï¼Œéœ€è¦å…ˆå¸è½½å¦ä¸€ä¸ªã€‚`å¦‚æœ CUDA å¯ç”¨ï¼Œå¼ºçƒˆæ¨èå®‰è£… mmcv`ã€‚\n\n### å®‰è£… mmcv\n\nåœ¨å®‰è£… mmcv ä¹‹å‰ï¼Œè¯·ç¡®ä¿ PyTorch å·²ç»æˆåŠŸå®‰è£…åœ¨ç¯å¢ƒä¸­ï¼Œå¯ä»¥å‚è€ƒ [PyTorch å®˜æ–¹å®‰è£…æ–‡æ¡£](https://github.com/pytorch/pytorch#installation)ã€‚å¦‚æœä½ ä½¿ç”¨çš„æ˜¯æ­è½½ apple silicon çš„ mac è®¾å¤‡ï¼Œè¯·å®‰è£… PyTorch 1.13+ çš„ç‰ˆæœ¬ã€‚\n\nå®‰è£… mmcv çš„å‘½ä»¤å¦‚ä¸‹ï¼š\n\n```bash\npip install -U openmim\nmim install mmcv\n```\n\nå¦‚æœéœ€è¦æŒ‡å®š mmcv çš„ç‰ˆæœ¬ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤\n\n```bash\nmim install mmcv==2.0.0\n```\n\nå¦‚æœå‘ç°ä¸Šè¿°çš„å®‰è£…å‘½ä»¤æ²¡æœ‰ä½¿ç”¨é¢„ç¼–è¯‘åŒ…ï¼ˆä»¥ `.whl` ç»“å°¾ï¼‰è€Œæ˜¯ä½¿ç”¨æºç åŒ…ï¼ˆä»¥ `.tar.gz` ç»“å°¾ï¼‰å®‰è£…ï¼Œåˆ™æœ‰å¯èƒ½æ˜¯æˆ‘ä»¬æ²¡æœ‰æä¾›å’Œå½“å‰ç¯å¢ƒçš„ PyTorch ç‰ˆæœ¬ã€CUDA ç‰ˆæœ¬ç›¸åŒ¹é…çš„ mmcv é¢„ç¼–è¯‘åŒ…ï¼Œæ­¤æ—¶ï¼Œä½ å¯ä»¥[æºç å®‰è£… mmcv](https://mmcv.readthedocs.io/zh_CN/latest/get_started/build.html)ã€‚\n\n<details>\n<summary>ä½¿ç”¨é¢„ç¼–è¯‘åŒ…çš„å®‰è£…æ—¥å¿—</summary>\n\nLooking in links: https://download.openmmlab.com/mmcv/dist/cu102/torch1.8.0/index.html<br />\nCollecting mmcv<br />\n<b>Downloading https://download.openmmlab.com/mmcv/dist/cu102/torch1.8.0/mmcv-2.0.0-cp38-cp38-manylinux1_x86_64.whl</b>\n\n</details>\n\n<details>\n<summary>ä½¿ç”¨æºç åŒ…çš„å®‰è£…æ—¥å¿—</summary>\n\nLooking in links: https://download.openmmlab.com/mmcv/dist/cu102/torch1.8.0/index.html<br />\nCollecting mmcv==2.0.0<br />\n<b>Downloading mmcv-2.0.0.tar.gz</b>\n\n</details>\n\næ›´å¤šå®‰è£…æ–¹å¼è¯·å‚è€ƒ[å®‰è£…æ–‡æ¡£](https://mmcv.readthedocs.io/zh_CN/latest/get_started/installation.html)ã€‚\n\n### å®‰è£… mmcv-lite\n\nå¦‚æœä½ éœ€è¦ä½¿ç”¨å’Œ PyTorch ç›¸å…³çš„æ¨¡å—ï¼Œè¯·ç¡®ä¿ PyTorch å·²ç»æˆåŠŸå®‰è£…åœ¨ç¯å¢ƒä¸­ï¼Œå¯ä»¥å‚è€ƒ [PyTorch å®˜æ–¹å®‰è£…æ–‡æ¡£](https://github.com/pytorch/pytorch#installation)ã€‚\n\n```bash\npip install -U openmim\nmim install mmcv-lite\n```\n\n## FAQ\n\nå¦‚æœä½ é‡åˆ°äº†å®‰è£…é—®é¢˜æˆ–è€…è¿è¡Œæ—¶é—®é¢˜ï¼Œè¯·æŸ¥çœ‹[é—®é¢˜è§£å†³é¡µé¢](https://mmcv.readthedocs.io/zh_CN/latest/faq.html)æ˜¯å¦å·²æœ‰è§£å†³æ–¹æ¡ˆã€‚å¦‚æœé—®é¢˜ä»ç„¶æ²¡æœ‰è§£å†³ï¼Œæ¬¢è¿æ [issue](https://github.com/open-mmlab/mmcv/issues)ã€‚\n\n## è´¡çŒ®æŒ‡å—\n\næˆ‘ä»¬æ„Ÿè°¢æ‰€æœ‰çš„è´¡çŒ®è€…ä¸ºæ”¹è¿›å’Œæå‡ MMCV æ‰€ä½œå‡ºçš„åŠªåŠ›ã€‚è¯·å‚è€ƒ[è´¡çŒ®æŒ‡å—](CONTRIBUTING.md)æ¥äº†è§£å‚ä¸é¡¹ç›®è´¡çŒ®çš„ç›¸å…³æŒ‡å¼•ã€‚\n\n## è®¸å¯è¯\n\n`MMCV` ç›®å‰ä»¥ Apache 2.0 çš„è®¸å¯è¯å‘å¸ƒï¼Œä½†æ˜¯å…¶ä¸­æœ‰ä¸€éƒ¨åˆ†åŠŸèƒ½å¹¶ä¸æ˜¯ä½¿ç”¨çš„ Apache2.0 è®¸å¯è¯ï¼Œæˆ‘ä»¬åœ¨ [è®¸å¯è¯](LICENSES.md) ä¸­è¯¦ç»†åœ°åˆ—å‡ºäº†è¿™äº›åŠŸèƒ½ä»¥åŠä»–ä»¬å¯¹åº”çš„è®¸å¯è¯ï¼Œå¦‚æœæ‚¨æ­£åœ¨ä»äº‹ç›ˆåˆ©æ€§æ´»åŠ¨ï¼Œè¯·è°¨æ…å‚è€ƒæ­¤æ–‡æ¡£ã€‚\n\n## åˆ†æ”¯ç»´æŠ¤è®¡åˆ’\n\nMMCV ç›®å‰æœ‰å››ä¸ªåˆ†æ”¯ï¼Œåˆ†åˆ«æ˜¯ mainã€1.xã€master å’Œ 2.xï¼Œå…¶ä¸­ 2.x ä¸º main åˆ†æ”¯çš„åˆ«åï¼Œmaster ä¸º 1.x åˆ†æ”¯çš„åˆ«åï¼Œ2.x å’Œ master è¿™ä¸¤ä¸ªåˆ†æ”¯åœ¨å°†æ¥ä¼šè¢«åˆ é™¤ã€‚MMCV çš„åˆ†æ”¯ç»å†ä»¥ä¸‹ä¸‰ä¸ªé˜¶æ®µï¼š\n\n| é˜¶æ®µ   | æ—¶é—´                  | åˆ†æ”¯                                                                  | è¯´æ˜                                                                                                   |\n| ------ | --------------------- | --------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------ |\n| å…¬æµ‹æœŸ | 2022.9.1 - 2023.4.5   | å…¬æµ‹ç‰ˆä»£ç å‘å¸ƒåœ¨ 2.x åˆ†æ”¯ï¼›é»˜è®¤ä¸»åˆ†æ”¯ master ä»å¯¹åº” 1.x ç‰ˆæœ¬          | master å’Œ 2.x åˆ†æ”¯æ­£å¸¸è¿›è¡Œè¿­ä»£                                                                         |\n| å…¼å®¹æœŸ | 2023.4.6 - 2023.12.31 | **2.x åˆ†æ”¯é‡å‘½åä¸º main åˆ†æ”¯å¹¶è®¾ç½®ä¸ºé»˜è®¤åˆ†æ”¯**ï¼›1.x åˆ†æ”¯å¯¹åº” 1.x ç‰ˆæœ¬ | ä¿æŒå¯¹æ—§ç‰ˆæœ¬ 1.x çš„ç»´æŠ¤å’Œå¼€å‘ï¼Œå“åº”ç”¨æˆ·éœ€æ±‚ï¼Œä½†å°½é‡ä¸å¼•è¿›ç ´åæ—§ç‰ˆæœ¬å…¼å®¹æ€§çš„æ”¹åŠ¨ï¼›main åˆ†æ”¯æ­£å¸¸è¿›è¡Œè¿­ä»£ |\n| ç»´æŠ¤æœŸ | 2024.1.1 - å¾…å®š       | é»˜è®¤ä¸»åˆ†æ”¯ main ä¸º 2.x ç‰ˆæœ¬ï¼›1.x åˆ†æ”¯å¯¹åº” 1.x ç‰ˆæœ¬                    | 1.x åˆ†æ”¯è¿›å…¥ç»´æŠ¤é˜¶æ®µï¼Œä¸å†è¿›è¡Œæ–°åŠŸèƒ½æ”¯æŒï¼›main åˆ†æ”¯æ­£å¸¸è¿›è¡Œè¿­ä»£                                        |\n\n## OpenMMLab çš„å…¶ä»–é¡¹ç›®\n\n- [MMEngine](https://github.com/open-mmlab/mmengine): OpenMMLab æ·±åº¦å­¦ä¹ æ¨¡å‹è®­ç»ƒåŸºç¡€åº“\n- [MMCV](https://github.com/open-mmlab/mmcv): OpenMMLab è®¡ç®—æœºè§†è§‰åŸºç¡€åº“\n- [MIM](https://github.com/open-mmlab/mim): MIM æ˜¯ OpenMMlab é¡¹ç›®ã€ç®—æ³•ã€æ¨¡å‹çš„ç»Ÿä¸€å…¥å£\n- [MMClassification](https://github.com/open-mmlab/mmclassification): OpenMMLab å›¾åƒåˆ†ç±»å·¥å…·ç®±\n- [MMDetection](https://github.com/open-mmlab/mmdetection): OpenMMLab ç›®æ ‡æ£€æµ‹å·¥å…·ç®±\n- [MMDetection3D](https://github.com/open-mmlab/mmdetection3d): OpenMMLab æ–°ä¸€ä»£é€šç”¨ 3D ç›®æ ‡æ£€æµ‹å¹³å°\n- [MMRotate](https://github.com/open-mmlab/mmrotate): OpenMMLab æ—‹è½¬æ¡†æ£€æµ‹å·¥å…·ç®±ä¸æµ‹è¯•åŸºå‡†\n- [MMYOLO](https://github.com/open-mmlab/mmyolo): OpenMMLab YOLO ç³»åˆ—å·¥å…·ç®±ä¸æµ‹è¯•åŸºå‡†\n- [MMSegmentation](https://github.com/open-mmlab/mmsegmentation): OpenMMLab è¯­ä¹‰åˆ†å‰²å·¥å…·ç®±\n- [MMOCR](https://github.com/open-mmlab/mmocr): OpenMMLab å…¨æµç¨‹æ–‡å­—æ£€æµ‹è¯†åˆ«ç†è§£å·¥å…·ç®±\n- [MMPose](https://github.com/open-mmlab/mmpose): OpenMMLab å§¿æ€ä¼°è®¡å·¥å…·ç®±\n- [MMHuman3D](https://github.com/open-mmlab/mmhuman3d): OpenMMLab äººä½“å‚æ•°åŒ–æ¨¡å‹å·¥å…·ç®±ä¸æµ‹è¯•åŸºå‡†\n- [MMSelfSup](https://github.com/open-mmlab/mmselfsup): OpenMMLab è‡ªç›‘ç£å­¦ä¹ å·¥å…·ç®±ä¸æµ‹è¯•åŸºå‡†\n- [MMRazor](https://github.com/open-mmlab/mmrazor): OpenMMLab æ¨¡å‹å‹ç¼©å·¥å…·ç®±ä¸æµ‹è¯•åŸºå‡†\n- [MMFewShot](https://github.com/open-mmlab/mmfewshot): OpenMMLab å°‘æ ·æœ¬å­¦ä¹ å·¥å…·ç®±ä¸æµ‹è¯•åŸºå‡†\n- [MMAction2](https://github.com/open-mmlab/mmaction2): OpenMMLab æ–°ä¸€ä»£è§†é¢‘ç†è§£å·¥å…·ç®±\n- [MMTracking](https://github.com/open-mmlab/mmtracking): OpenMMLab ä¸€ä½“åŒ–è§†é¢‘ç›®æ ‡æ„ŸçŸ¥å¹³å°\n- [MMFlow](https://github.com/open-mmlab/mmflow): OpenMMLab å…‰æµä¼°è®¡å·¥å…·ç®±ä¸æµ‹è¯•åŸºå‡†\n- [MMEditing](https://github.com/open-mmlab/mmediting): OpenMMLab å›¾åƒè§†é¢‘ç¼–è¾‘å·¥å…·ç®±\n- [MMGeneration](https://github.com/open-mmlab/mmgeneration): OpenMMLab å›¾ç‰‡è§†é¢‘ç”Ÿæˆæ¨¡å‹å·¥å…·ç®±\n- [MMDeploy](https://github.com/open-mmlab/mmdeploy): OpenMMLab æ¨¡å‹éƒ¨ç½²æ¡†æ¶\n\n## æ¬¢è¿åŠ å…¥ OpenMMLab ç¤¾åŒº\n\næ‰«æä¸‹æ–¹çš„äºŒç»´ç å¯å…³æ³¨ OpenMMLab å›¢é˜Ÿçš„ [çŸ¥ä¹å®˜æ–¹è´¦å·](https://www.zhihu.com/people/openmmlab)ï¼ŒåŠ å…¥ OpenMMLab å›¢é˜Ÿçš„ [å®˜æ–¹äº¤æµ QQ ç¾¤](https://jq.qq.com/?_wv=1027&k=K0QI8ByU)ï¼Œæˆ–æ·»åŠ å¾®ä¿¡å°åŠ©æ‰‹â€OpenMMLabwxâ€œåŠ å…¥å®˜æ–¹äº¤æµå¾®ä¿¡ç¾¤ã€‚\n\n<div align=\"center\">\n<img src=\"https://user-images.githubusercontent.com/25839884/205870927-39f4946d-8751-4219-a4c0-740117558fd7.jpg\" height=\"400\" />  <img src=\"https://user-images.githubusercontent.com/25839884/203904835-62392033-02d4-4c73-a68c-c9e4c1e2b07f.jpg\" height=\"400\" /> <img src=\"https://user-images.githubusercontent.com/25839884/205872898-e2e6009d-c6bb-4d27-8d07-117e697a3da8.jpg\" height=\"400\" />\n</div>\n\næˆ‘ä»¬ä¼šåœ¨ OpenMMLab ç¤¾åŒºä¸ºå¤§å®¶\n\n- ğŸ“¢ åˆ†äº« AI æ¡†æ¶çš„å‰æ²¿æ ¸å¿ƒæŠ€æœ¯\n- ğŸ’» è§£è¯» PyTorch å¸¸ç”¨æ¨¡å—æºç \n- ğŸ“° å‘å¸ƒ OpenMMLab çš„ç›¸å…³æ–°é—»\n- ğŸš€ ä»‹ç» OpenMMLab å¼€å‘çš„å‰æ²¿ç®—æ³•\n- ğŸƒ è·å–æ›´é«˜æ•ˆçš„é—®é¢˜ç­”ç–‘å’Œæ„è§åé¦ˆ\n- ğŸ”¥ æä¾›ä¸å„è¡Œå„ä¸šå¼€å‘è€…å……åˆ†äº¤æµçš„å¹³å°\n\nå¹²è´§æ»¡æ»¡ ğŸ“˜ï¼Œç­‰ä½ æ¥æ’© ğŸ’—ï¼ŒOpenMMLab ç¤¾åŒºæœŸå¾…æ‚¨çš„åŠ å…¥ ğŸ‘¬\n"
        },
        {
          "name": "TERMINOLOGY.md",
          "type": "blob",
          "size": 1.125,
          "content": "# English-Chinese terminology comparison (è‹±æ±‰æœ¯è¯­å¯¹ç…§)\n\nThis document is used as a reference for English-Chinese terminology translation.\n\nè¯¥æ–‡æ¡£ç”¨ä½œä¸­è‹±æ–‡ç¿»è¯‘å¯¹ç…§å‚è€ƒã€‚\n\n|      English      |     ä¸­æ–‡     |\n| :---------------: | :----------: |\n|    annotation     |     æ ‡æ³¨     |\n|     backbone      |   ä¸»å¹²ç½‘ç»œ   |\n|     benchmark     |   åŸºå‡†æµ‹è¯•   |\n|    checkpoint     | æ¨¡å‹æƒé‡æ–‡ä»¶ |\n|    classifier     |    åˆ†ç±»å™¨    |\n|     cls_head      |    åˆ†ç±»å¤´    |\n|      decoder      |    è§£ç å™¨    |\n|     detector      |    æ£€æµ‹å™¨    |\n|      encoder      |    ç¼–ç å™¨    |\n|     finetune      |     å¾®è°ƒ     |\n|   ground truth    |   çœŸå®æ ‡ç­¾   |\n|       hook        |     é’©å­     |\n|     localizer     |    å®šä½å™¨    |\n|       neck        |   æ¨¡å‹é¢ˆéƒ¨   |\n|     pipeline      |    æµæ°´çº¿    |\n|    recognizer     |    è¯†åˆ«å™¨    |\n|     register      |    æ³¨å†Œå™¨    |\n|     schedule      |     è°ƒæ•´     |\n|     scheduler     |    è°ƒåº¦å™¨    |\n|     segmentor     |    åˆ†å‰²å™¨    |\n|      tensor       |     å¼ é‡     |\n| training schedule |   è®­ç»ƒç­–ç•¥   |\n"
        },
        {
          "name": "docker",
          "type": "tree",
          "content": null
        },
        {
          "name": "docs",
          "type": "tree",
          "content": null
        },
        {
          "name": "mmcv",
          "type": "tree",
          "content": null
        },
        {
          "name": "requirements.txt",
          "type": "blob",
          "size": 0.10546875,
          "content": "-r requirements/build.txt\n-r requirements/optional.txt\n-r requirements/runtime.txt\n-r requirements/test.txt\n"
        },
        {
          "name": "requirements",
          "type": "tree",
          "content": null
        },
        {
          "name": "setup.cfg",
          "type": "blob",
          "size": 0.7373046875,
          "content": "[bdist_wheel]\nuniversal=1\n\n[aliases]\ntest=pytest\n\n[yapf]\nbased_on_style = pep8\nblank_line_before_nested_class_or_def = true\nsplit_before_expression_after_opening_paren = true\n\n[isort]\nline_length = 79\nmulti_line_output = 0\nextra_standard_library = pkg_resources,setuptools,logging,os,warnings,abc\nknown_first_party = mmcv\nknown_third_party = addict,cv2,matplotlib,numpy,onnx,packaging,pytest,pytorch_sphinx_theme,scipy,sphinx,torch,torchvision,yaml,yapf\nno_lines_before = STDLIB,LOCALFOLDER\ndefault_section = THIRDPARTY\n\n# ignore-words-list needs to be lowercase format. For example, if we want to\n# ignore word \"BA\", then we need to append \"ba\" to ignore-words-list rather\n# than \"BA\"\n[codespell]\nquiet-level = 3\nignore-words-list = inout,hist,ba,ro,inh\n"
        },
        {
          "name": "setup.py",
          "type": "blob",
          "size": 21.212890625,
          "content": "import glob\nimport os\nimport platform\nimport re\nfrom pkg_resources import DistributionNotFound, get_distribution, parse_version\nfrom setuptools import find_packages, setup\n\nEXT_TYPE = ''\ntry:\n    import torch\n    if torch.__version__ == 'parrots':\n        from parrots.utils.build_extension import BuildExtension\n        EXT_TYPE = 'parrots'\n    elif (hasattr(torch, 'is_mlu_available') and torch.is_mlu_available()) or \\\n            os.getenv('FORCE_MLU', '0') == '1':\n        from torch_mlu.utils.cpp_extension import BuildExtension\n        EXT_TYPE = 'pytorch'\n    else:\n        from torch.utils.cpp_extension import BuildExtension\n        EXT_TYPE = 'pytorch'\n    cmd_class = {'build_ext': BuildExtension}\nexcept ModuleNotFoundError:\n    cmd_class = {}\n    print('Skip building ext ops due to the absence of torch.')\n\n\ndef choose_requirement(primary, secondary):\n    \"\"\"If some version of primary requirement installed, return primary, else\n    return secondary.\"\"\"\n    try:\n        name = re.split(r'[!<>=]', primary)[0]\n        get_distribution(name)\n    except DistributionNotFound:\n        return secondary\n\n    return str(primary)\n\n\ndef get_version():\n    version_file = 'mmcv/version.py'\n    with open(version_file, encoding='utf-8') as f:\n        exec(compile(f.read(), version_file, 'exec'))\n    return locals()['__version__']\n\n\ndef parse_requirements(fname='requirements/runtime.txt', with_version=True):\n    \"\"\"Parse the package dependencies listed in a requirements file but strips\n    specific versioning information.\n\n    Args:\n        fname (str): path to requirements file\n        with_version (bool, default=False): if True include version specs\n\n    Returns:\n        List[str]: list of requirements items\n\n    CommandLine:\n        python -c \"import setup; print(setup.parse_requirements())\"\n    \"\"\"\n    import sys\n    from os.path import exists\n    require_fpath = fname\n\n    def parse_line(line):\n        \"\"\"Parse information from a line in a requirements text file.\"\"\"\n        if line.startswith('-r '):\n            # Allow specifying requirements in other files\n            target = line.split(' ')[1]\n            for info in parse_require_file(target):\n                yield info\n        else:\n            info = {'line': line}\n            if line.startswith('-e '):\n                info['package'] = line.split('#egg=')[1]\n            else:\n                # Remove versioning from the package\n                pat = '(' + '|'.join(['>=', '==', '>']) + ')'\n                parts = re.split(pat, line, maxsplit=1)\n                parts = [p.strip() for p in parts]\n\n                info['package'] = parts[0]\n                if len(parts) > 1:\n                    op, rest = parts[1:]\n                    if ';' in rest:\n                        # Handle platform specific dependencies\n                        # http://setuptools.readthedocs.io/en/latest/setuptools.html#declaring-platform-specific-dependencies\n                        version, platform_deps = map(str.strip,\n                                                     rest.split(';'))\n                        info['platform_deps'] = platform_deps\n                    else:\n                        version = rest  # NOQA\n                    info['version'] = (op, version)\n            yield info\n\n    def parse_require_file(fpath):\n        with open(fpath) as f:\n            for line in f.readlines():\n                line = line.strip()\n                if line and not line.startswith('#'):\n                    yield from parse_line(line)\n\n    def gen_packages_items():\n        if exists(require_fpath):\n            for info in parse_require_file(require_fpath):\n                parts = [info['package']]\n                if with_version and 'version' in info:\n                    parts.extend(info['version'])\n                if not sys.version.startswith('3.4'):\n                    # apparently package_deps are broken in 3.4\n                    platform_deps = info.get('platform_deps')\n                    if platform_deps is not None:\n                        parts.append(';' + platform_deps)\n                item = ''.join(parts)\n                yield item\n\n    packages = list(gen_packages_items())\n    return packages\n\n\ninstall_requires = parse_requirements()\n\ntry:\n    # OpenCV installed via conda.\n    import cv2  # NOQA: F401\n    major, minor, *rest = cv2.__version__.split('.')\n    if int(major) < 3:\n        raise RuntimeError(\n            f'OpenCV >=3 is required but {cv2.__version__} is installed')\nexcept ImportError:\n    # If first not installed install second package\n    CHOOSE_INSTALL_REQUIRES = [('opencv-python-headless>=3',\n                                'opencv-python>=3')]\n    for main, secondary in CHOOSE_INSTALL_REQUIRES:\n        install_requires.append(choose_requirement(main, secondary))\n\n\ndef get_extensions():\n    extensions = []\n\n    if os.getenv('MMCV_WITH_OPS', '1') == '0':\n        return extensions\n\n    if EXT_TYPE == 'parrots':\n        ext_name = 'mmcv._ext'\n        from parrots.utils.build_extension import Extension\n\n        # new parrots op impl do not use MMCV_USE_PARROTS\n        # define_macros = [('MMCV_USE_PARROTS', None)]\n        define_macros = []\n        include_dirs = []\n        op_files = glob.glob('./mmcv/ops/csrc/pytorch/cuda/*.cu') +\\\n            glob.glob('./mmcv/ops/csrc/pytorch/cpu/*.cpp') +\\\n            glob.glob('./mmcv/ops/csrc/parrots/*.cpp')\n        include_dirs.append(os.path.abspath('./mmcv/ops/csrc/common'))\n        include_dirs.append(os.path.abspath('./mmcv/ops/csrc/common/cuda'))\n        op_files.remove('./mmcv/ops/csrc/pytorch/cuda/iou3d_cuda.cu')\n        op_files.remove('./mmcv/ops/csrc/pytorch/cpu/bbox_overlaps_cpu.cpp')\n        op_files.remove('./mmcv/ops/csrc/pytorch/cuda/bias_act_cuda.cu')\n        cuda_args = os.getenv('MMCV_CUDA_ARGS')\n        extra_compile_args = {\n            'nvcc': [cuda_args, '-std=c++14'] if cuda_args else ['-std=c++14'],\n            'cxx': ['-std=c++14'],\n        }\n        if torch.cuda.is_available() or os.getenv('FORCE_CUDA', '0') == '1':\n            define_macros += [('MMCV_WITH_CUDA', None)]\n            extra_compile_args['nvcc'] += [\n                '-D__CUDA_NO_HALF_OPERATORS__',\n                '-D__CUDA_NO_HALF_CONVERSIONS__',\n                '-D__CUDA_NO_HALF2_OPERATORS__',\n            ]\n        ext_ops = Extension(\n            name=ext_name,\n            sources=op_files,\n            include_dirs=include_dirs,\n            define_macros=define_macros,\n            extra_compile_args=extra_compile_args,\n            cuda=True,\n            pytorch=True)\n        extensions.append(ext_ops)\n    elif EXT_TYPE == 'pytorch':\n        ext_name = 'mmcv._ext'\n        from torch.utils.cpp_extension import CppExtension, CUDAExtension\n\n        # prevent ninja from using too many resources\n        try:\n            import psutil\n            num_cpu = len(psutil.Process().cpu_affinity())\n            cpu_use = max(4, num_cpu - 1)\n        except (ModuleNotFoundError, AttributeError):\n            cpu_use = 4\n\n        os.environ.setdefault('MAX_JOBS', str(cpu_use))\n        define_macros = []\n\n        # Before PyTorch1.8.0, when compiling CUDA code, `cxx` is a\n        # required key passed to PyTorch. Even if there is no flag passed\n        # to cxx, users also need to pass an empty list to PyTorch.\n        # Since PyTorch1.8.0, it has a default value so users do not need\n        # to pass an empty list anymore.\n        # More details at https://github.com/pytorch/pytorch/pull/45956\n        extra_compile_args = {'cxx': []}\n\n        if platform.system() != 'Windows':\n            if parse_version(torch.__version__) <= parse_version('1.12.1'):\n                extra_compile_args['cxx'] = ['-std=c++14']\n            else:\n                extra_compile_args['cxx'] = ['-std=c++17']\n        else:\n            if parse_version(torch.__version__) <= parse_version('1.12.1'):\n                extra_compile_args['cxx'] = ['/std:c++14']\n            else:\n                extra_compile_args['cxx'] = ['/std:c++17']\n\n        include_dirs = []\n        library_dirs = []\n        libraries = []\n\n        extra_objects = []\n        extra_link_args = []\n        is_rocm_pytorch = False\n        try:\n            from torch.utils.cpp_extension import ROCM_HOME\n            is_rocm_pytorch = True if ((torch.version.hip is not None) and\n                                       (ROCM_HOME is not None)) else False\n        except ImportError:\n            pass\n\n        if os.getenv('MMCV_WITH_DIOPI', '0') == '1':\n            import mmengine  # NOQA: F401\n            from mmengine.utils.version_utils import digit_version\n            assert digit_version(mmengine.__version__) >= digit_version(\n                '0.7.4'), f'mmengine >= 0.7.4 is required \\\n                but {mmengine.__version__} is installed'\n\n            print(f'Compiling {ext_name} with CPU and DIPU')\n            define_macros += [('MMCV_WITH_DIOPI', None)]\n            define_macros += [('DIOPI_ATTR_WEAK', None)]\n            op_files = glob.glob('./mmcv/ops/csrc/pytorch/*.cpp') + \\\n                glob.glob('./mmcv/ops/csrc/pytorch/cpu/*.cpp')\n            extension = CppExtension\n            include_dirs.append(os.path.abspath('./mmcv/ops/csrc/common'))\n            dipu_root = os.getenv('DIPU_ROOT')\n            diopi_path = os.getenv('DIOPI_PATH')\n            dipu_path = os.getenv('DIPU_PATH')\n            vendor_include_dirs = os.getenv('VENDOR_INCLUDE_DIRS')\n            nccl_include_dirs = os.getenv('NCCL_INCLUDE_DIRS')\n            pytorch_dir = os.getenv('PYTORCH_DIR')\n            include_dirs.append(dipu_root)\n            include_dirs.append(diopi_path + '/include')\n            include_dirs.append(dipu_path + '/dist/include')\n            include_dirs.append(vendor_include_dirs)\n            include_dirs.append(pytorch_dir + 'torch/include')\n            if nccl_include_dirs:\n                include_dirs.append(nccl_include_dirs)\n            library_dirs += [dipu_root]\n            libraries += ['torch_dipu']\n        elif is_rocm_pytorch or torch.cuda.is_available() or os.getenv(\n                'FORCE_CUDA', '0') == '1':\n            if is_rocm_pytorch:\n                define_macros += [('MMCV_WITH_HIP', None)]\n            define_macros += [('MMCV_WITH_CUDA', None)]\n            cuda_args = os.getenv('MMCV_CUDA_ARGS')\n            extra_compile_args['nvcc'] = [cuda_args] if cuda_args else []\n            op_files = glob.glob('./mmcv/ops/csrc/pytorch/*.cpp') + \\\n                glob.glob('./mmcv/ops/csrc/pytorch/cpu/*.cpp') + \\\n                glob.glob('./mmcv/ops/csrc/pytorch/cuda/*.cu') + \\\n                glob.glob('./mmcv/ops/csrc/pytorch/cuda/*.cpp')\n            extension = CUDAExtension\n            include_dirs.append(os.path.abspath('./mmcv/ops/csrc/pytorch'))\n            include_dirs.append(os.path.abspath('./mmcv/ops/csrc/common'))\n            include_dirs.append(os.path.abspath('./mmcv/ops/csrc/common/cuda'))\n        elif (hasattr(torch, 'is_mlu_available') and\n                torch.is_mlu_available()) or \\\n                os.getenv('FORCE_MLU', '0') == '1':\n            from torch_mlu.utils.cpp_extension import MLUExtension\n\n            def get_mluops_version(file_path):\n                with open(file_path) as f:\n                    for line in f:\n                        if re.search('MLUOP_MAJOR', line):\n                            major = line.strip().split(' ')[2]\n                        if re.search('MLUOP_MINOR', line):\n                            minor = line.strip().split(' ')[2]\n                        if re.search('MLUOP_PATCHLEVEL', line):\n                            patchlevel = line.strip().split(' ')[2]\n                mluops_version = f'v{major}.{minor}.{patchlevel}'\n                return mluops_version\n\n            mmcv_mluops_version = get_mluops_version(\n                './mmcv/ops/csrc/pytorch/mlu/mlu_common_helper.h')\n            mlu_ops_path = os.getenv('MMCV_MLU_OPS_PATH')\n            if mlu_ops_path:\n                exists_mluops_version = get_mluops_version(\n                    mlu_ops_path + '/bangc-ops/mlu_op.h')\n                if exists_mluops_version != mmcv_mluops_version:\n                    print('the version of mlu-ops provided is %s,'\n                          ' while %s is needed.' %\n                          (exists_mluops_version, mmcv_mluops_version))\n                    exit()\n                try:\n                    if os.path.exists('mlu-ops'):\n                        if os.path.islink('mlu-ops'):\n                            os.remove('mlu-ops')\n                            os.symlink(mlu_ops_path, 'mlu-ops')\n                        elif os.path.abspath('mlu-ops') != mlu_ops_path:\n                            os.symlink(mlu_ops_path, 'mlu-ops')\n                    else:\n                        os.symlink(mlu_ops_path, 'mlu-ops')\n                except Exception:\n                    raise FileExistsError(\n                        'mlu-ops already exists, please move it out,'\n                        'or rename or remove it.')\n            else:\n                if not os.path.exists('mlu-ops'):\n                    import requests\n                    mluops_url = 'https://github.com/Cambricon/mlu-ops/' + \\\n                        'archive/refs/tags/' + mmcv_mluops_version + '.zip'\n                    req = requests.get(mluops_url)\n                    with open('./mlu-ops.zip', 'wb') as f:\n                        try:\n                            f.write(req.content)\n                        except Exception:\n                            raise ImportError('failed to download mlu-ops')\n\n                    from zipfile import BadZipFile, ZipFile\n                    with ZipFile('./mlu-ops.zip', 'r') as archive:\n                        try:\n                            archive.extractall()\n                            dir_name = archive.namelist()[0].split('/')[0]\n                            os.rename(dir_name, 'mlu-ops')\n                        except BadZipFile:\n                            print('invalid mlu-ops.zip file')\n                else:\n                    exists_mluops_version = get_mluops_version(\n                        './mlu-ops/bangc-ops/mlu_op.h')\n                    if exists_mluops_version != mmcv_mluops_version:\n                        print('the version of provided mlu-ops is %s,'\n                              ' while %s is needed.' %\n                              (exists_mluops_version, mmcv_mluops_version))\n                        exit()\n\n            define_macros += [('MMCV_WITH_MLU', None)]\n            mlu_args = os.getenv('MMCV_MLU_ARGS', '-DNDEBUG ')\n            mluops_includes = []\n            mluops_includes.append('-I' +\n                                   os.path.abspath('./mlu-ops/bangc-ops'))\n            mluops_includes.append(\n                '-I' + os.path.abspath('./mlu-ops/bangc-ops/kernels'))\n            extra_compile_args['cncc'] = [mlu_args] + \\\n                mluops_includes if mlu_args else mluops_includes\n            extra_compile_args['cxx'] += ['-fno-gnu-unique']\n            op_files = glob.glob('./mmcv/ops/csrc/pytorch/*.cpp') + \\\n                glob.glob('./mmcv/ops/csrc/pytorch/cpu/*.cpp') + \\\n                glob.glob('./mmcv/ops/csrc/pytorch/mlu/*.cpp') + \\\n                glob.glob('./mmcv/ops/csrc/common/mlu/*.mlu') + \\\n                glob.glob(\n                    './mlu-ops/bangc-ops/core/**/*.cpp', recursive=True) + \\\n                glob.glob(\n                    './mlu-ops/bangc-ops/kernels/**/*.cpp', recursive=True) + \\\n                glob.glob(\n                    './mlu-ops/bangc-ops/kernels/**/*.mlu', recursive=True)\n            extra_link_args = [\n                '-Wl,--whole-archive',\n                './mlu-ops/bangc-ops/kernels/kernel_wrapper/lib/libextops.a',\n                '-Wl,--no-whole-archive'\n            ]\n            extension = MLUExtension\n            include_dirs.append(os.path.abspath('./mmcv/ops/csrc/common'))\n            include_dirs.append(os.path.abspath('./mmcv/ops/csrc/common/mlu'))\n            include_dirs.append(os.path.abspath('./mlu-ops/bangc-ops'))\n        elif (hasattr(torch.backends, 'mps')\n              and torch.backends.mps.is_available()) or os.getenv(\n                  'FORCE_MPS', '0') == '1':\n            # objc compiler support\n            from distutils.unixccompiler import UnixCCompiler\n            if '.mm' not in UnixCCompiler.src_extensions:\n                UnixCCompiler.src_extensions.append('.mm')\n                UnixCCompiler.language_map['.mm'] = 'objc'\n\n            define_macros += [('MMCV_WITH_MPS', None)]\n            extra_compile_args = {}\n            extra_compile_args['cxx'] = ['-Wall', '-std=c++17']\n            extra_compile_args['cxx'] += [\n                '-framework', 'Metal', '-framework', 'Foundation'\n            ]\n            extra_compile_args['cxx'] += ['-ObjC++']\n            # src\n            op_files = glob.glob('./mmcv/ops/csrc/pytorch/*.cpp') + \\\n                glob.glob('./mmcv/ops/csrc/pytorch/cpu/*.cpp')\n            # TODO: support mps ops on torch>=2.1.0\n            if parse_version(torch.__version__) < parse_version('2.1.0'):\n                op_files += glob.glob('./mmcv/ops/csrc/common/mps/*.mm') + \\\n                    glob.glob('./mmcv/ops/csrc/pytorch/mps/*.mm')\n            extension = CppExtension\n            include_dirs.append(os.path.abspath('./mmcv/ops/csrc/common'))\n            include_dirs.append(os.path.abspath('./mmcv/ops/csrc/common/mps'))\n        elif (os.getenv('FORCE_NPU', '0') == '1'):\n            print(f'Compiling {ext_name} only with CPU and NPU')\n            try:\n                import importlib\n\n                from torch_npu.utils.cpp_extension import NpuExtension\n                extra_compile_args['cxx'] += [\n                    '-D__FILENAME__=\\\"$$(notdir $$(abspath $$<))\\\"'\n                ]\n                extra_compile_args['cxx'] += [\n                    '-I' + importlib.util.find_spec(\n                        'torch_npu').submodule_search_locations[0] +\n                    '/include/third_party/acl/inc'\n                ]\n                define_macros += [('MMCV_WITH_NPU', None)]\n                extension = NpuExtension\n                if parse_version(torch.__version__) < parse_version('2.1.0'):\n                    define_macros += [('MMCV_WITH_XLA', None)]\n                if parse_version(torch.__version__) >= parse_version('2.1.0'):\n                    define_macros += [('MMCV_WITH_KPRIVATE', None)]\n            except Exception:\n                raise ImportError('can not find any torch_npu')\n            # src\n            op_files = glob.glob('./mmcv/ops/csrc/pytorch/*.cpp') + \\\n                glob.glob('./mmcv/ops/csrc/pytorch/cpu/*.cpp') + \\\n                glob.glob('./mmcv/ops/csrc/common/npu/*.cpp') + \\\n                glob.glob('./mmcv/ops/csrc/pytorch/npu/*.cpp')\n            include_dirs.append(os.path.abspath('./mmcv/ops/csrc/common'))\n            include_dirs.append(os.path.abspath('./mmcv/ops/csrc/common/npu'))\n        else:\n            print(f'Compiling {ext_name} only with CPU')\n            op_files = glob.glob('./mmcv/ops/csrc/pytorch/*.cpp') + \\\n                glob.glob('./mmcv/ops/csrc/pytorch/cpu/*.cpp')\n            extension = CppExtension\n            include_dirs.append(os.path.abspath('./mmcv/ops/csrc/common'))\n\n        # Since the PR (https://github.com/open-mmlab/mmcv/pull/1463) uses\n        # c++14 features, the argument ['std=c++14'] must be added here.\n        # However, in the windows environment, some standard libraries\n        # will depend on c++17 or higher. In fact, for the windows\n        # environment, the compiler will choose the appropriate compiler\n        # to compile those cpp files, so there is no need to add the\n        # argument\n        if 'nvcc' in extra_compile_args and platform.system() != 'Windows':\n            if parse_version(torch.__version__) <= parse_version('1.12.1'):\n                extra_compile_args['nvcc'] += ['-std=c++14']\n            else:\n                extra_compile_args['nvcc'] += ['-std=c++17']\n\n        ext_ops = extension(\n            name=ext_name,\n            sources=op_files,\n            include_dirs=include_dirs,\n            define_macros=define_macros,\n            extra_objects=extra_objects,\n            extra_compile_args=extra_compile_args,\n            library_dirs=library_dirs,\n            libraries=libraries,\n            extra_link_args=extra_link_args)\n        extensions.append(ext_ops)\n    return extensions\n\n\nsetup(\n    name='mmcv' if os.getenv('MMCV_WITH_OPS', '1') == '1' else 'mmcv-lite',\n    version=get_version(),\n    description='OpenMMLab Computer Vision Foundation',\n    keywords='computer vision',\n    packages=find_packages(),\n    include_package_data=True,\n    classifiers=[\n        'Development Status :: 4 - Beta',\n        'License :: OSI Approved :: Apache Software License',\n        'Operating System :: OS Independent',\n        'Programming Language :: Python :: 3',\n        'Programming Language :: Python :: 3.7',\n        'Programming Language :: Python :: 3.8',\n        'Programming Language :: Python :: 3.9',\n        'Programming Language :: Python :: 3.10',\n        'Topic :: Utilities',\n    ],\n    url='https://github.com/open-mmlab/mmcv',\n    author='MMCV Contributors',\n    author_email='openmmlab@gmail.com',\n    install_requires=install_requires,\n    extras_require={\n        'all': parse_requirements('requirements.txt'),\n        'tests': parse_requirements('requirements/test.txt'),\n        'build': parse_requirements('requirements/build.txt'),\n        'optional': parse_requirements('requirements/optional.txt'),\n    },\n    python_requires='>=3.7',\n    ext_modules=get_extensions(),\n    cmdclass=cmd_class,\n    zip_safe=False)\n"
        },
        {
          "name": "tests",
          "type": "tree",
          "content": null
        }
      ]
    }
  ]
}