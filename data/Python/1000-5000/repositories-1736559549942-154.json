{
  "metadata": {
    "timestamp": 1736559549942,
    "page": 154,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjE2MA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "togethercomputer/RedPajama-Data",
      "stars": 4614,
      "defaultBranch": "main",
      "files": [
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.2919921875,
          "content": "# Byte-compiled / optimized / DLL files\n__pycache__/\n*.py[cod]\n*$py.class\n*.pyc\n*.DS_Store\n\n# data folders\ndata/*\n!data/.gitkeep\n\n# notebooks\nnotebooks/*\n.ipynb_checkpoints\n\n# Environments\n.env\n.venv\nenv/\nvenv/\nENV/\nenv.bak/\nvenv.bak/\n\n# ides\n.idea/\n.vscode/\n\n# distribution\n*.egg-info/\ndist/\nbuild/"
        },
        {
          "name": "LICENSE",
          "type": "blob",
          "size": 11.0908203125,
          "content": "                                 Apache License\n                           Version 2.0, January 2004\n                        http://www.apache.org/licenses/\n\n   TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION\n\n   1. Definitions.\n\n      \"License\" shall mean the terms and conditions for use, reproduction,\n      and distribution as defined by Sections 1 through 9 of this document.\n\n      \"Licensor\" shall mean the copyright owner or entity authorized by\n      the copyright owner that is granting the License.\n\n      \"Legal Entity\" shall mean the union of the acting entity and all\n      other entities that control, are controlled by, or are under common\n      control with that entity. For the purposes of this definition,\n      \"control\" means (i) the power, direct or indirect, to cause the\n      direction or management of such entity, whether by contract or\n      otherwise, or (ii) ownership of fifty percent (50%) or more of the\n      outstanding shares, or (iii) beneficial ownership of such entity.\n\n      \"You\" (or \"Your\") shall mean an individual or Legal Entity\n      exercising permissions granted by this License.\n\n      \"Source\" form shall mean the preferred form for making modifications,\n      including but not limited to software source code, documentation\n      source, and configuration files.\n\n      \"Object\" form shall mean any form resulting from mechanical\n      transformation or translation of a Source form, including but\n      not limited to compiled object code, generated documentation,\n      and conversions to other media types.\n\n      \"Work\" shall mean the work of authorship, whether in Source or\n      Object form, made available under the License, as indicated by a\n      copyright notice that is included in or attached to the work\n      (an example is provided in the Appendix below).\n\n      \"Derivative Works\" shall mean any work, whether in Source or Object\n      form, that is based on (or derived from) the Work and for which the\n      editorial revisions, annotations, elaborations, or other modifications\n      represent, as a whole, an original work of authorship. For the purposes\n      of this License, Derivative Works shall not include works that remain\n      separable from, or merely link (or bind by name) to the interfaces of,\n      the Work and Derivative Works thereof.\n\n      \"Contribution\" shall mean any work of authorship, including\n      the original version of the Work and any modifications or additions\n      to that Work or Derivative Works thereof, that is intentionally\n      submitted to Licensor for inclusion in the Work by the copyright owner\n      or by an individual or Legal Entity authorized to submit on behalf of\n      the copyright owner. For the purposes of this definition, \"submitted\"\n      means any form of electronic, verbal, or written communication sent\n      to the Licensor or its representatives, including but not limited to\n      communication on electronic mailing lists, source code control systems,\n      and issue tracking systems that are managed by, or on behalf of, the\n      Licensor for the purpose of discussing and improving the Work, but\n      excluding communication that is conspicuously marked or otherwise\n      designated in writing by the copyright owner as \"Not a Contribution.\"\n\n      \"Contributor\" shall mean Licensor and any individual or Legal Entity\n      on behalf of whom a Contribution has been received by Licensor and\n      subsequently incorporated within the Work.\n\n   2. Grant of Copyright License. Subject to the terms and conditions of\n      this License, each Contributor hereby grants to You a perpetual,\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n      copyright license to reproduce, prepare Derivative Works of,\n      publicly display, publicly perform, sublicense, and distribute the\n      Work and such Derivative Works in Source or Object form.\n\n   3. Grant of Patent License. Subject to the terms and conditions of\n      this License, each Contributor hereby grants to You a perpetual,\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n      (except as stated in this section) patent license to make, have made,\n      use, offer to sell, sell, import, and otherwise transfer the Work,\n      where such license applies only to those patent claims licensable\n      by such Contributor that are necessarily infringed by their\n      Contribution(s) alone or by combination of their Contribution(s)\n      with the Work to which such Contribution(s) was submitted. If You\n      institute patent litigation against any entity (including a\n      cross-claim or counterclaim in a lawsuit) alleging that the Work\n      or a Contribution incorporated within the Work constitutes direct\n      or contributory patent infringement, then any patent licenses\n      granted to You under this License for that Work shall terminate\n      as of the date such litigation is filed.\n\n   4. Redistribution. You may reproduce and distribute copies of the\n      Work or Derivative Works thereof in any medium, with or without\n      modifications, and in Source or Object form, provided that You\n      meet the following conditions:\n\n      (a) You must give any other recipients of the Work or\n          Derivative Works a copy of this License; and\n\n      (b) You must cause any modified files to carry prominent notices\n          stating that You changed the files; and\n\n      (c) You must retain, in the Source form of any Derivative Works\n          that You distribute, all copyright, patent, trademark, and\n          attribution notices from the Source form of the Work,\n          excluding those notices that do not pertain to any part of\n          the Derivative Works; and\n\n      (d) If the Work includes a \"NOTICE\" text file as part of its\n          distribution, then any Derivative Works that You distribute must\n          include a readable copy of the attribution notices contained\n          within such NOTICE file, excluding those notices that do not\n          pertain to any part of the Derivative Works, in at least one\n          of the following places: within a NOTICE text file distributed\n          as part of the Derivative Works; within the Source form or\n          documentation, if provided along with the Derivative Works; or,\n          within a display generated by the Derivative Works, if and\n          wherever such third-party notices normally appear. The contents\n          of the NOTICE file are for informational purposes only and\n          do not modify the License. You may add Your own attribution\n          notices within Derivative Works that You distribute, alongside\n          or as an addendum to the NOTICE text from the Work, provided\n          that such additional attribution notices cannot be construed\n          as modifying the License.\n\n      You may add Your own copyright statement to Your modifications and\n      may provide additional or different license terms and conditions\n      for use, reproduction, or distribution of Your modifications, or\n      for any such Derivative Works as a whole, provided Your use,\n      reproduction, and distribution of the Work otherwise complies with\n      the conditions stated in this License.\n\n   5. Submission of Contributions. Unless You explicitly state otherwise,\n      any Contribution intentionally submitted for inclusion in the Work\n      by You to the Licensor shall be under the terms and conditions of\n      this License, without any additional terms or conditions.\n      Notwithstanding the above, nothing herein shall supersede or modify\n      the terms of any separate license agreement you may have executed\n      with Licensor regarding such Contributions.\n\n   6. Trademarks. This License does not grant permission to use the trade\n      names, trademarks, service marks, or product names of the Licensor,\n      except as required for reasonable and customary use in describing the\n      origin of the Work and reproducing the content of the NOTICE file.\n\n   7. Disclaimer of Warranty. Unless required by applicable law or\n      agreed to in writing, Licensor provides the Work (and each\n      Contributor provides its Contributions) on an \"AS IS\" BASIS,\n      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or\n      implied, including, without limitation, any warranties or conditions\n      of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A\n      PARTICULAR PURPOSE. You are solely responsible for determining the\n      appropriateness of using or redistributing the Work and assume any\n      risks associated with Your exercise of permissions under this License.\n\n   8. Limitation of Liability. In no event and under no legal theory,\n      whether in tort (including negligence), contract, or otherwise,\n      unless required by applicable law (such as deliberate and grossly\n      negligent acts) or agreed to in writing, shall any Contributor be\n      liable to You for damages, including any direct, indirect, special,\n      incidental, or consequential damages of any character arising as a\n      result of this License or out of the use or inability to use the\n      Work (including but not limited to damages for loss of goodwill,\n      work stoppage, computer failure or malfunction, or any and all\n      other commercial damages or losses), even if such Contributor\n      has been advised of the possibility of such damages.\n\n   9. Accepting Warranty or Additional Liability. While redistributing\n      the Work or Derivative Works thereof, You may choose to offer,\n      and charge a fee for, acceptance of support, warranty, indemnity,\n      or other liability obligations and/or rights consistent with this\n      License. However, in accepting such obligations, You may act only\n      on Your own behalf and on Your sole responsibility, not on behalf\n      of any other Contributor, and only if You agree to indemnify,\n      defend, and hold each Contributor harmless for any liability\n      incurred by, or claims asserted against, such Contributor by reason\n      of your accepting any such warranty or additional liability.\n\n   END OF TERMS AND CONDITIONS\n\n   APPENDIX: How to apply the Apache License to your work.\n\n      To apply the Apache License to your work, attach the following\n      boilerplate notice, with the fields enclosed by brackets \"[]\"\n      replaced with your own identifying information. (Don't include\n      the brackets!)  The text should be enclosed in the appropriate\n      comment syntax for the file format. We also recommend that a\n      file or class name and description of purpose be included on the\n      same \"printed page\" as the copyright notice for easier\n      identification within third-party archives.\n\n   Copyright [yyyy] [name of copyright owner]\n\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 36.7138671875,
          "content": "# RedPajama-Data-v2: an Open Dataset with 30 Trillion Tokens for Training Large Language Models\n\n<img width=\"500\" src=\"docs/rpv2.png\" />\n\nThis repository contains the code for the RedPajama-V2 dataset. For more information on the dataset, check out our\n[blog post](https://together.ai/blog/redpajama-data-v2). The dataset is also available on\n[HuggingFace](https://huggingface.co/datasets/togethercomputer/RedPajama-Data-V2). For the code used for the\nRedPajama-1T dataset, please refer to the `rp_v1` branch in this repo.\n\n## Dataset\n\nRedPajama-V2 is an open dataset for training large language models. The dataset includes over 100B text\ndocuments coming from 84 CommonCrawl snapshots and processed using\nthe [CCNet](https://github.com/facebookresearch/cc_net) pipeline. Out of these, there are 30B documents in the corpus\nthat additionally come with quality signals, and 20B documents that are deduplicated.\n\n### Document and Token Counts for the Annotated and deduplicated `head_middle` part of the dataset\n\nThe number of documents and tokens for the annotated and deduplicated `head_middle` part of the dataset is shown in the\ntable below.\n\n|       | # Documents | Estimated Token count (deduped) |\n|-------|-------------|---------------------------------|\n| en    | 14.5B       | 20.5T                           |\n| de    | 1.9B        | 3.0T                            |\n| fr    | 1.6B        | 2.7T                            |  \n| es    | 1.8B        | 2.8T                            |\n| it    | 0.9B        | 1.5T                            |\n| Total | 20.8B       | 30.4T                           |\n\n### Languages\n\nEnglish, German, French, Italian, Spanish\n\n## Setup\n\n### Configuration\n\nCopy the file `configs/rp_v2.0.conf` to e.g. `configs/default.conf` and configure the environment variables.\nThese will be used throughout the pipeline.\n\n### Buid Docker image\n\nTo run with docker, build the docker image using\n\n```bash\n. configs/default.conf\ncd app\ndocker build -t \"${DOCKER_REPO}:\" .\n\n```\n\nAlso, make sure you have `s5cmd` installed and your S3 profile configured so that you can pull data from an S3 bucket.\n\nYou can run the steps of the pipeline without any containerized environment. However, the running scripts assume you\nhave a docker and apptainer installation.\n\n## Running the Pipeline\n\nThe pipeline is composed of three steps, namely 1) preparing artifacts, 2) computing quality signals, and 3)\ndeduplication.\n\n**Important:** In case you are not running steps (1) and (2) with the provided scripts (i.e., docker containers built with the provided Dockerfile), make sure to set the `PYTHONHASHSEED` environment variable to a consistent value (e.g., 42) using\n```bash\nexport PYTHONHASHSEED=42\n```\nThis is to ensure consistency of hash functions used in the computation of DSIR weights.\n\n### 1. Create Artifacts\n\nThis part of the pipeline creates the artifacts that are used in the subsequent steps. This includes building quality\nclassifiers, training bag-of-ngram generative models for importance weight computation, fetching the list of bad words\nfrom the [LDNOOBW repo](https://github.com/LDNOOBW/List-of-Dirty-Naughty-Obscene-and-Otherwise-Bad-Words), and fetching\nthe most recent list of blacklisted urls from the [UT1 blacklist](https://dsi.ut-capitole.fr/blacklists/).\n\nAs a first step, download the english wikipedia reference classifier\nfrom [here](https://data.together.xyz/redpajama-data-v2/v1.0.0/artifacts/wikiref.model.bin) and place it\nin `${DATA_ROOT}/wikiref-model/en/en-model.bin`. This is the same fasttext classifier that was used in RedPajama-V1.\n\nTo create the remaining artifacts, make sure that the environment variables are set in the config file. Then, from\nthe root directory of the repository, run\n\n```bash\nbash scripts/run_prep_artifacts.sh \\\n  --config configs/rp_v2.0.conf \\\n  --listings /path/to/listings/file.txt\\\n  --max_workers 32\n```\n\nwhere `/path/to/listings/file.txt` is a file that contains the keys to the ccnet data that you want to process\n(e.g., `2023-06/0000/en_head.json.gz`).\n\nYou can set the `max_workers` flag to the number of parallel processes you want to use.\n\nThis step will generate an id which you can store in the environment variable `ARTIFACTS_ID` for the next step.\n\n### 2. Compute Quality Signals\n\nThe second step of the pipeline compute the quality signals, including the minhash signatures to run fuzzy deduplication\nin the subsequent step. To run this step, make sure the environment variables are set in the config file. Then, from\nthe root directory of the repository, run\n\n```bash\nbash scripts/apptainer_run_quality_signals.sh \\\n  --config configs/rp_v2.0.conf \\\n  --dump_id \"2022-49\" \\\n  --input_base_uri \"file:///path/to/data/root\" \\\n  --output_base_uri \"file:///path/to/outout/data/root\" \\\n  --max_docs -1\n```\n\n### 3. Deduplication\n\nThe third component of the pipeline consists of deduplication steps. Here we provide code to run exact and fuzzy\ndeduplication.\n\n#### Exact Deduplication using a Bloomfilter\n\nContent based deduplication is implemented in `app/src/bloomfilter.py`. It can be run independently of the\nprevious step, but the data needs to stored in an S3 bucket. For this step, from the `app` directory, run:\n\n```bash\npython3 app/src/bloomfilter.py \\\n  --listings /path/to/listings/file.txt \\\n  --input_base_uri \"s3://path/to/ccnet/data\" \\\n  --output_dir \"/path/to/output\" \\\n  --s3_profile \"...\" \\\n  --endpoint_url \"...\" \\\n  --parallel_readers 32 \\\n  --batch_size 10 \\\n  --capacity \"...\" \\\n  --error_rate \"...\"\n```\n\nIt is important to choose the correct capacity (i.e., > #documents), since otherwise the `error_rate` will not be\nguaranteed and more false positives will appear. The implementation is based on the\n[pybloomfiltermmap3](https://github.com/prashnts/pybloomfiltermmap3) library.\n\n#### Fuzzy Deduplication with Locality Sensitive Hashing\n\nIn the third step of the pipeline, we run locality sensitive hashing on the minhash signatures generated in the first\nstep. To run this step, make sure that you use the same configuration as in the quality signals step. Then, from\nthe root directory of the repository, run\n\n```bash\nbash scripts/apptainer_run_lsh.sh \\\n  --config configs/rp_v2.0.conf \\\n  --dump_id \"2022-49\" \\\n  --input_base_uri \"file:///path/to/data/root\" \\\n  --output_dir \"/path/to/output\" \\\n  --similarity \"<similarity_threshold>\" \\\n  --listings \"/minhash/listings/file.txt\" \\\n  --max_docs -1\n```\n\nThe implementation is based on polars and was tested with 200M documents on a 64 core machine with 500G of RAM.\n\n## Summary of Quality Signals\n\nThe second step of this pipeline computes the following set of quality signals. We hope to grow this list further over\ntime as more signals are developed.\n\n#### Quality Annotations\n\n| Annotation Tag                                 | Description                                                                                                                                                                                                                                                                                                                                                                                                          | Category         | Reference                                                                                                                     |\n|------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------|-------------------------------------------------------------------------------------------------------------------------------|\n| ccnet_bucket                                   | head, middle or tail bucket of the perplexity score                                                                                                                                                                                                                                                                                                                                                                  | CCNet            | [CCNet](https://github.com/facebookresearch/cc_net)                                                                           |\n| ccnet_language_score                           | score of the language identification model                                                                                                                                                                                                                                                                                                                                                                           | CCNet            | [CCNet](https://github.com/facebookresearch/cc_net)                                                                           |\n| ccnet_length                                   | number of characters                                                                                                                                                                                                                                                                                                                                                                                                 | CCNet            | [CCNet](https://github.com/facebookresearch/cc_net)                                                                           |\n| ccnet_nlines                                   | number of lines                                                                                                                                                                                                                                                                                                                                                                                                      | CCNet            | [CCNet](https://github.com/facebookresearch/cc_net)                                                                           |\n| ccnet_original_length                          | number of characters before in-document line deduplication                                                                                                                                                                                                                                                                                                                                                           | CCNet            | [CCNet](https://github.com/facebookresearch/cc_net)                                                                           |\n| ccnet_original_nlines                          | number of lines before in-document line deduplication                                                                                                                                                                                                                                                                                                                                                                | CCNet            | [CCNet](https://github.com/facebookresearch/cc_net)                                                                           |\n| ccnet_perplexity                               | perplexity of an LM trained on Wikipedia                                                                                                                                                                                                                                                                                                                                                                             | CCNet            | [CCNet](https://github.com/facebookresearch/cc_net)                                                                           |\n| rps_doc_books_importance                       | Given a bag of {1,2}-wordgram model trained on Books p, and a model trained on the source domain q, This is the logarithm of the ratio p(doc)/q(doc).                                                                                                                                                                                                                                                                | ML Heuristics    | [Importance Resampling (Xie et al.)](https://arxiv.org/abs/2302.03169)                                                        |\n| rps_doc_openwebtext_importance                 | Given a bag of {1,2}-wordgram model trained on OpenWebText p, and a model trained on the source domain q, this is the logarithm of the ratio p(doc)/q(doc).                                                                                                                                                                                                                                                          | ML Heuristics    | [Importance Resampling (Xie et al.)](https://arxiv.org/abs/2302.03169)                                                        |\n| rps_doc_wikipedia_importance                   | Given a bag of {1,2}-wordgram model trained on Wikipedia articles p, and a model trained on the source domain q, this is the logarithm of the ratio p(doc)/q(doc).                                                                                                                                                                                                                                                   | ML Heuristics    | [Importance Resampling (Xie et al.)](https://arxiv.org/abs/2302.03169)                                                        |\n| rps_doc_ml_wikiref_score                       | Fasttext classifier prediction for the document being a Wikipedia reference. This is the same fasttext model used in the RedPajama-1T dataset. Only applies to English data..                                                                                                                                                                                                                                        | ML Heuristics    | [LLaMA](https://arxiv.org/abs/2302.13971), [RedPajama-1T](https://huggingface.co/datasets/togethercomputer/RedPajama-Data-1T) |\n| rps_doc_ml_palm_score                          | Fasttext classifier prediction for the document being a Wikipedia article, OpenWebText sample or a RedPajama-V1 book. Only for English data.                                                                                                                                                                                                                                                                         | ML Heuristics    | [PALM](https://arxiv.org/abs/2204.02311), [GLaM](https://arxiv.org/abs/2112.06905)                                            |\n| rps_doc_ml_wikipedia_score                     | Fasttext classifier prediction for the document being a Wikipedia article. This is used for non-English data                                                                                                                                                                                                                                                                                                         | ML Heuristics    | -                                                                                                                             |\n| rps_doc_curly_bracket                          | The ratio between the number of occurrences of '{' or '}' and the number of characters in the raw text.                                                                                                                                                                                                                                                                                                              | Natural Language | [C4](https://arxiv.org/abs/1910.10683)                                                                                        |\n| rps_doc_frac_all_caps_words                    | The fraction of words in the content that only consist of uppercase letters. This is based on the raw content.                                                                                                                                                                                                                                                                                                       | Natural Language | [Pretrainer’s Guide](https://arxiv.org/abs/2305.13169)                                                                        |\n| rps_doc_frac_lines_end_with_ellipsis           | The fraction of lines that end with an ellipsis, where an ellipsis is defined as either \"...\" or \"…\".                                                                                                                                                                                                                                                                                                                | Natural Language | [RefinedWeb](https://arxiv.org/abs/2306.01116), [Gopher](https://arxiv.org/abs/2112.11446)                                    |\n| rps_doc_frac_no_alph_words                     | The fraction of words that contain no alphabetical character.                                                                                                                                                                                                                                                                                                                                                        | Natural Language | [RefinedWeb](https://arxiv.org/abs/2306.01116), [Gopher](https://arxiv.org/abs/2112.11446)                                    |\n| rps_doc_lorem_ipsum                            | The ratio between the number of occurrences of 'lorem ipsum' and the number of characters in the content after normalisation.                                                                                                                                                                                                                                                                                        | Natural Language | [C4](https://arxiv.org/abs/1910.10683)                                                                                        |\n| rps_doc_mean_word_length                       | The mean length of words in the content after normalisation.                                                                                                                                                                                                                                                                                                                                                         | Natural Language | [RefinedWeb](https://arxiv.org/abs/2306.01116), [Gopher](https://arxiv.org/abs/2112.11446)                                    |\n| rps_doc_stop_word_fraction                     | The ratio between the number of stop words and the number of words in the document. Stop words are obtained from the [stopwords-json](https://github.com/6/stopwords-json) repo.                                                                                                                                                                                                                                     | Natural Language | [RefinedWeb](https://arxiv.org/abs/2306.01116), [Gopher](https://arxiv.org/abs/2112.11446)                                    |\n| rps_doc_symbol_to_word_ratio                   | The ratio of symbols to words in the content.. Symbols are defined \"#\", \"...\", and \"…\".                                                                                                                                                                                                                                                                                                                              | Natural Language | [RefinedWeb](https://arxiv.org/abs/2306.01116), [Gopher](https://arxiv.org/abs/2112.11446)                                    |\n| rps_doc_frac_unique_words                      | The fraction of unique words in the content. This is also known as the degeneracy of a text sample. Calculated based on the normalised content.                                                                                                                                                                                                                                                                      | Natural Language | [Pretrainer’s Guide](https://arxiv.org/abs/2305.13169)                                                                        |\n| rps_doc_unigram_entropy                        | The entropy of the unigram distribution of the content. This measures the diversity of the content and is computed using sum(-x / total * log(x / total)) where the sum is taken over counts of unique words in the normalised content.                                                                                                                                                                              | Natural Language | -                                                                                                                             |\n| rps_doc_word_count                             | The number of words in the content after normalisation.                                                                                                                                                                                                                                                                                                                                                              | Natural Language | [RefinedWeb](https://arxiv.org/abs/2306.01116), [Gopher](https://arxiv.org/abs/2112.11446)                                    |\n| rps_lines_ending_with_terminal_punctution_mark | Indicates whether a line ends with a terminal punctuation mark. A terminal punctation mark is defined as one of: \".\", \"!\", \"?\", \"”\".                                                                                                                                                                                                                                                                                 | Natural Language | [C4](https://arxiv.org/abs/1910.10683)                                                                                        |\n| rps_lines_javascript_counts                    | The number of occurrences of the word \"javascript\" in each line.                                                                                                                                                                                                                                                                                                                                                     | Natural Language | [C4](https://arxiv.org/abs/1910.10683)                                                                                        |\n| rps_lines_num_words                            | The number of words in each line. This is computed based on the normalised text.                                                                                                                                                                                                                                                                                                                                     | Natural Language | [C4](https://arxiv.org/abs/1910.10683) , [RefinedWeb](https://arxiv.org/abs/2306.01116)                                       |\n| rps_lines_numerical_chars_fraction             | The ratio between the number of numerical characters and total number of characters in each line. This is based on the normalised content.                                                                                                                                                                                                                                                                           | Natural Language | [RefinedWeb](https://arxiv.org/abs/2306.01116)                                                                                |\n| rps_lines_start_with_bulletpoint               | Whether the lines that start with a bullet point symbol. The following set of unicodes are considered a bullet point: \\u2022 (bullet point), \\u2023 (triangular bullet point), \\u25B6 (black right pointing triangle), \\u25C0 (black left pointing triangle), \\u25E6 (white bullet point), \\u25A0 (black square), \\u25A1 (white square), \\u25AA (black small square), \\u25AB (white small square), \\u2013 (en dash). | Natural Language | [RefinedWeb](https://arxiv.org/abs/2306.01116), [Gopher](https://arxiv.org/abs/2112.11446)                                    |\n| rps_lines_uppercase_letter_fraction            | The ratio between the number of uppercase letters and total number of characters in each line. This is based on the raw text.                                                                                                                                                                                                                                                                                        | Natural Language | [RefinedWeb](https://arxiv.org/abs/2306.01116)                                                                                |\n| rps_doc_num_sentences                          | The number of sentences in the content. This is calculated using the regular expression `r'\\b[^.!?]+[.!?]*'`.                                                                                                                                                                                                                                                                                                        | Natural Language | [C4](https://arxiv.org/abs/1910.10683)                                                                                        |\n| rps_doc_frac_chars_dupe_10grams                | The fraction of characters in duplicate word 10grams. This operates on the lower-cased, punctuation removed content. It is also ensured that characters in overlapping ngrams are only counted once.                                                                                                                                                                                                                 | Repetitiveness   | [RefinedWeb](https://arxiv.org/abs/2306.01116), [Gopher](https://arxiv.org/abs/2112.11446)                                    |\n| rps_doc_frac_chars_dupe_5grams                 | The fraction of characters in duplicate word 5grams.                                                                                                                                                                                                                                                                                                                                                                 | Repetitiveness   | [RefinedWeb](https://arxiv.org/abs/2306.01116), [Gopher](https://arxiv.org/abs/2112.11446)                                    |\n| rps_doc_frac_chars_dupe_6grams                 | The fraction of characters in duplicate word 6grams.                                                                                                                                                                                                                                                                                                                                                                 | Repetitiveness   | [RefinedWeb](https://arxiv.org/abs/2306.01116), [Gopher](https://arxiv.org/abs/2112.11446)                                    |\n| rps_doc_frac_chars_dupe_7grams                 | The fraction of characters in duplicate word 7grams.                                                                                                                                                                                                                                                                                                                                                                 | Repetitiveness   | [RefinedWeb](https://arxiv.org/abs/2306.01116), [Gopher](https://arxiv.org/abs/2112.11446)                                    |\n| rps_doc_frac_chars_dupe_8grams                 | The fraction of characters in duplicate word 8grams.                                                                                                                                                                                                                                                                                                                                                                 | Repetitiveness   | [RefinedWeb](https://arxiv.org/abs/2306.01116), [Gopher](https://arxiv.org/abs/2112.11446)                                    |\n| rps_doc_frac_chars_dupe_9grams                 | The fraction of characters in duplicate word 9grams.                                                                                                                                                                                                                                                                                                                                                                 | Repetitiveness   | [RefinedWeb](https://arxiv.org/abs/2306.01116), [Gopher](https://arxiv.org/abs/2112.11446)                                    |\n| rps_doc_frac_chars_top_2gram                   | The fraction of characters in the top word 2gram.                                                                                                                                                                                                                                                                                                                                                                    | Repetitiveness   | [RefinedWeb](https://arxiv.org/abs/2306.01116), [Gopher](https://arxiv.org/abs/2112.11446)                                    |\n| rps_doc_frac_chars_top_3gram                   | The fraction of characters in the top word 3gram.                                                                                                                                                                                                                                                                                                                                                                    | Repetitiveness   | [RefinedWeb](https://arxiv.org/abs/2306.01116), [Gopher](https://arxiv.org/abs/2112.11446)                                    |\n| rps_doc_frac_chars_top_4gram                   | The fraction of characters in the top word 4gram.                                                                                                                                                                                                                                                                                                                                                                    | Repetitiveness   | [RefinedWeb](https://arxiv.org/abs/2306.01116), [Gopher](https://arxiv.org/abs/2112.11446)                                    |\n| rps_doc_ldnoobw_words                          | The number of sequences of words that are contained in the List-of-Dirty-Naughty-Obscene-and-Otherwise-Bad-Words blocklist. The blocklist is obtained from the [LDNOOBW](https://github.com/LDNOOBW/List-of-Dirty-Naughty-Obscene-and-Otherwise-Bad-Words) repo.                                                                                                                                                     | toxicity         | [C4](https://arxiv.org/abs/1910.10683)                                                                                        |\n| rps_doc_ut1_blacklist                          | A categorical id corresponding to the list of categories of the domain of the document. Categories are obtained from the UT1 blacklist. The list is obtained from [UT-Capitole](https://dsi.ut-capitole.fr/blacklists/).                                                                                                                                                                                             | toxicictiy       | [RefinedWeb](https://arxiv.org/abs/2306.01116)                                                                                |\n| minhash_signature_0.7                          | Banded minhash signature of the document, for fuzzy deduplication at Jaccard similarity 0.7. The signature is based on 128 hash functions and grouped into 14 bands and 9 rows for LSH.                                                                                                                                                                                                                              | Deduplication    |\n| minhash_signature_0.8                          | Banded minhash signature of the document, for fuzzy deduplication at Jaccard similarity 0.8. The signature is based on 128 hash functions and grouped into 9 bands and 13 rows for LSH.                                                                                                                                                                                                                              | Deduplication    |\n| minhash_signature_0.9                          | Banded minhash signature of the document, for fuzzy deduplication at Jaccard similarity 0.9. The signature is based on 128 hash functions and grouped into 5 bands and 25 rows for LSH..                                                                                                                                                                                                                             | Deduplication    |\n| minhash_signature_1.0                          | Banded minhash signature of the document, for fuzzy deduplication at Jaccard similarity 1.0. The signature is based on 128 hash functions and grouped into 1 band and 128 rows for LSH.                                                                                                                                                                                                                              | Deduplication    |\n\n## Acknowledgements\n\nWe are appreciative to so many partners and collaborators that together are pushing forward the frontier of open LLM\nmodels.\n\n- Thank you to the OLMo team at AI2 and friends at OpenGPT-X for the insightful discussions about datasets and data\n  quality! Also for everyone who builds on the RedPajama dataset, including Cerebras for their SlimPajama efforts, and\n  the over 500 models built on RedPajam to date by the open-source AI community.\n- We are grateful to the great team at EleutherAI for paving the path on open training datasets with The Pile and for\n  open-sourcing code we use in training some of the RedPajama models.\n- Thank you to our partners of RedPajama-v1, including Ontocord.ai, MILA Québec AI Institute, ETH DS3Lab, Université de\n  Montréal, Stanford Center for Research on Foundation Models (CRFM), Stanford Hazy Research research group and LAION.\n\n## License\n\n```\nCopyright 2023 Together Computer\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n```\n\nFor full terms, see the LICENSE file. If you have any questions, comments, or concerns about licensing\nplease [contact us](https://www.together.ai/contact).\n\nFor the dataset itself, please refer to\nthe [Common Crawl Foundation Terms of Use](https://commoncrawl.org/terms-of-use).\n\nTo cite RedPajama, please use:\n\n```\n@article{weber2024redpajama,\n\ttitle   = {RedPajama: an Open Dataset for Training Large Language Models},\n\tauthor  = {Maurice Weber and Daniel Y. Fu and Quentin Anthony and Yonatan Oren and Shane Adams and Anton Alexandrov and Xiaozhong Lyu and Huu Nguyen and Xiaozhe Yao and Virginia Adams and Ben Athiwaratkun and Rahul Chalamala and Kezhen Chen and Max Ryabinin and Tri Dao and Percy Liang and Christopher Ré and Irina Rish and Ce Zhang},\n\tjournal = {NeurIPS Datasets and Benchmarks Track},\n\tyear    = 2024,\n}\n```\n\n"
        },
        {
          "name": "app",
          "type": "tree",
          "content": null
        },
        {
          "name": "configs",
          "type": "tree",
          "content": null
        },
        {
          "name": "docs",
          "type": "tree",
          "content": null
        },
        {
          "name": "scripts",
          "type": "tree",
          "content": null
        }
      ]
    }
  ]
}