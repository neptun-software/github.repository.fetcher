{
  "metadata": {
    "timestamp": 1736559477741,
    "page": 42,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjUw",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "Cog-Creators/Red-DiscordBot",
      "stars": 4886,
      "defaultBranch": "V3/develop",
      "files": [
        {
          "name": ".bandit.yml",
          "type": "blob",
          "size": 8.025390625,
          "content": "\n### Bandit config file generated\n\n### This config may optionally select a subset of tests to run or skip by\n### filling out the 'tests' and 'skips' lists given below. If no tests are\n### specified for inclusion then it is assumed all tests are desired. The skips\n### set will remove specific tests from the include set. This can be controlled\n### using the -t/-s CLI options. Note that the same test ID should not appear\n### in both 'tests' and 'skips', this would be nonsensical and is detected by\n### Bandit at runtime.\n\n# Available tests:\n# B101 : assert_used\n# B102 : exec_used\n# B103 : set_bad_file_permissions\n# B104 : hardcoded_bind_all_interfaces\n# B105 : hardcoded_password_string\n# B106 : hardcoded_password_funcarg\n# B107 : hardcoded_password_default\n# B108 : hardcoded_tmp_directory\n# B110 : try_except_pass\n# B112 : try_except_continue\n# B201 : flask_debug_true\n# B301 : pickle\n# B302 : marshal\n# B303 : md5\n# B304 : ciphers\n# B305 : cipher_modes\n# B306 : mktemp_q\n# B307 : eval\n# B308 : mark_safe\n# B309 : httpsconnection\n# B310 : urllib_urlopen\n# B311 : random\n# B312 : telnetlib\n# B313 : xml_bad_cElementTree\n# B314 : xml_bad_ElementTree\n# B315 : xml_bad_expatreader\n# B316 : xml_bad_expatbuilder\n# B317 : xml_bad_sax\n# B318 : xml_bad_minidom\n# B319 : xml_bad_pulldom\n# B320 : xml_bad_etree\n# B321 : ftplib\n# B322 : input\n# B323 : unverified_context\n# B324 : hashlib_new_insecure_functions\n# B325 : tempnam\n# B401 : import_telnetlib\n# B402 : import_ftplib\n# B403 : import_pickle\n# B404 : import_subprocess\n# B405 : import_xml_etree\n# B406 : import_xml_sax\n# B407 : import_xml_expat\n# B408 : import_xml_minidom\n# B409 : import_xml_pulldom\n# B410 : import_lxml\n# B411 : import_xmlrpclib\n# B412 : import_httpoxy\n# B413 : import_pycrypto\n# B501 : request_with_no_cert_validation\n# B502 : ssl_with_bad_version\n# B503 : ssl_with_bad_defaults\n# B504 : ssl_with_no_version\n# B505 : weak_cryptographic_key\n# B506 : yaml_load\n# B507 : ssh_no_host_key_verification\n# B601 : paramiko_calls\n# B602 : subprocess_popen_with_shell_equals_true\n# B603 : subprocess_without_shell_equals_true\n# B604 : any_other_function_with_shell_equals_true\n# B605 : start_process_with_a_shell\n# B606 : start_process_with_no_shell\n# B607 : start_process_with_partial_path\n# B608 : hardcoded_sql_expressions\n# B609 : linux_commands_wildcard_injection\n# B610 : django_extra_used\n# B611 : django_rawsql_used\n# B701 : jinja2_autoescape_false\n# B702 : use_of_mako_templates\n# B703 : django_mark_safe\n\n# (optional) list included test IDs here, eg '[B101, B406]':\ntests:\n\n# (optional) list skipped test IDs here, eg '[B101, B406]':\nskips:  ['B322']\n\n### (optional) plugin settings - some test plugins require configuration data\n### that may be given here, per-plugin. All bandit test plugins have a built in\n### set of sensible defaults and these will be used if no configuration is\n### provided. It is not necessary to provide settings for every (or any) plugin\n### if the defaults are acceptable.\n\nany_other_function_with_shell_equals_true:\n  no_shell:\n  - os.execl\n  - os.execle\n  - os.execlp\n  - os.execlpe\n  - os.execv\n  - os.execve\n  - os.execvp\n  - os.execvpe\n  - os.spawnl\n  - os.spawnle\n  - os.spawnlp\n  - os.spawnlpe\n  - os.spawnv\n  - os.spawnve\n  - os.spawnvp\n  - os.spawnvpe\n  - os.startfile\n  shell:\n  - os.system\n  - os.popen\n  - os.popen2\n  - os.popen3\n  - os.popen4\n  - popen2.popen2\n  - popen2.popen3\n  - popen2.popen4\n  - popen2.Popen3\n  - popen2.Popen4\n  - commands.getoutput\n  - commands.getstatusoutput\n  subprocess:\n  - subprocess.Popen\n  - subprocess.call\n  - subprocess.check_call\n  - subprocess.check_output\n  - subprocess.run\nhardcoded_tmp_directory:\n  tmp_dirs:\n  - /tmp\n  - /var/tmp\n  - /dev/shm\nlinux_commands_wildcard_injection:\n  no_shell:\n  - os.execl\n  - os.execle\n  - os.execlp\n  - os.execlpe\n  - os.execv\n  - os.execve\n  - os.execvp\n  - os.execvpe\n  - os.spawnl\n  - os.spawnle\n  - os.spawnlp\n  - os.spawnlpe\n  - os.spawnv\n  - os.spawnve\n  - os.spawnvp\n  - os.spawnvpe\n  - os.startfile\n  shell:\n  - os.system\n  - os.popen\n  - os.popen2\n  - os.popen3\n  - os.popen4\n  - popen2.popen2\n  - popen2.popen3\n  - popen2.popen4\n  - popen2.Popen3\n  - popen2.Popen4\n  - commands.getoutput\n  - commands.getstatusoutput\n  subprocess:\n  - subprocess.Popen\n  - subprocess.call\n  - subprocess.check_call\n  - subprocess.check_output\n  - subprocess.run\nssl_with_bad_defaults:\n  bad_protocol_versions:\n  - PROTOCOL_SSLv2\n  - SSLv2_METHOD\n  - SSLv23_METHOD\n  - PROTOCOL_SSLv3\n  - PROTOCOL_TLSv1\n  - SSLv3_METHOD\n  - TLSv1_METHOD\nssl_with_bad_version:\n  bad_protocol_versions:\n  - PROTOCOL_SSLv2\n  - SSLv2_METHOD\n  - SSLv23_METHOD\n  - PROTOCOL_SSLv3\n  - PROTOCOL_TLSv1\n  - SSLv3_METHOD\n  - TLSv1_METHOD\nstart_process_with_a_shell:\n  no_shell:\n  - os.execl\n  - os.execle\n  - os.execlp\n  - os.execlpe\n  - os.execv\n  - os.execve\n  - os.execvp\n  - os.execvpe\n  - os.spawnl\n  - os.spawnle\n  - os.spawnlp\n  - os.spawnlpe\n  - os.spawnv\n  - os.spawnve\n  - os.spawnvp\n  - os.spawnvpe\n  - os.startfile\n  shell:\n  - os.system\n  - os.popen\n  - os.popen2\n  - os.popen3\n  - os.popen4\n  - popen2.popen2\n  - popen2.popen3\n  - popen2.popen4\n  - popen2.Popen3\n  - popen2.Popen4\n  - commands.getoutput\n  - commands.getstatusoutput\n  subprocess:\n  - subprocess.Popen\n  - subprocess.call\n  - subprocess.check_call\n  - subprocess.check_output\n  - subprocess.run\nstart_process_with_no_shell:\n  no_shell:\n  - os.execl\n  - os.execle\n  - os.execlp\n  - os.execlpe\n  - os.execv\n  - os.execve\n  - os.execvp\n  - os.execvpe\n  - os.spawnl\n  - os.spawnle\n  - os.spawnlp\n  - os.spawnlpe\n  - os.spawnv\n  - os.spawnve\n  - os.spawnvp\n  - os.spawnvpe\n  - os.startfile\n  shell:\n  - os.system\n  - os.popen\n  - os.popen2\n  - os.popen3\n  - os.popen4\n  - popen2.popen2\n  - popen2.popen3\n  - popen2.popen4\n  - popen2.Popen3\n  - popen2.Popen4\n  - commands.getoutput\n  - commands.getstatusoutput\n  subprocess:\n  - subprocess.Popen\n  - subprocess.call\n  - subprocess.check_call\n  - subprocess.check_output\n  - subprocess.run\nstart_process_with_partial_path:\n  no_shell:\n  - os.execl\n  - os.execle\n  - os.execlp\n  - os.execlpe\n  - os.execv\n  - os.execve\n  - os.execvp\n  - os.execvpe\n  - os.spawnl\n  - os.spawnle\n  - os.spawnlp\n  - os.spawnlpe\n  - os.spawnv\n  - os.spawnve\n  - os.spawnvp\n  - os.spawnvpe\n  - os.startfile\n  shell:\n  - os.system\n  - os.popen\n  - os.popen2\n  - os.popen3\n  - os.popen4\n  - popen2.popen2\n  - popen2.popen3\n  - popen2.popen4\n  - popen2.Popen3\n  - popen2.Popen4\n  - commands.getoutput\n  - commands.getstatusoutput\n  subprocess:\n  - subprocess.Popen\n  - subprocess.call\n  - subprocess.check_call\n  - subprocess.check_output\n  - subprocess.run\nsubprocess_popen_with_shell_equals_true:\n  no_shell:\n  - os.execl\n  - os.execle\n  - os.execlp\n  - os.execlpe\n  - os.execv\n  - os.execve\n  - os.execvp\n  - os.execvpe\n  - os.spawnl\n  - os.spawnle\n  - os.spawnlp\n  - os.spawnlpe\n  - os.spawnv\n  - os.spawnve\n  - os.spawnvp\n  - os.spawnvpe\n  - os.startfile\n  shell:\n  - os.system\n  - os.popen\n  - os.popen2\n  - os.popen3\n  - os.popen4\n  - popen2.popen2\n  - popen2.popen3\n  - popen2.popen4\n  - popen2.Popen3\n  - popen2.Popen4\n  - commands.getoutput\n  - commands.getstatusoutput\n  subprocess:\n  - subprocess.Popen\n  - subprocess.call\n  - subprocess.check_call\n  - subprocess.check_output\n  - subprocess.run\nsubprocess_without_shell_equals_true:\n  no_shell:\n  - os.execl\n  - os.execle\n  - os.execlp\n  - os.execlpe\n  - os.execv\n  - os.execve\n  - os.execvp\n  - os.execvpe\n  - os.spawnl\n  - os.spawnle\n  - os.spawnlp\n  - os.spawnlpe\n  - os.spawnv\n  - os.spawnve\n  - os.spawnvp\n  - os.spawnvpe\n  - os.startfile\n  shell:\n  - os.system\n  - os.popen\n  - os.popen2\n  - os.popen3\n  - os.popen4\n  - popen2.popen2\n  - popen2.popen3\n  - popen2.popen4\n  - popen2.Popen3\n  - popen2.Popen4\n  - commands.getoutput\n  - commands.getstatusoutput\n  subprocess:\n  - subprocess.Popen\n  - subprocess.call\n  - subprocess.check_call\n  - subprocess.check_output\n  - subprocess.run\ntry_except_continue:\n  check_typed_exception: false\ntry_except_pass:\n  check_typed_exception: false\nweak_cryptographic_key:\n  weak_key_size_dsa_high: 1024\n  weak_key_size_dsa_medium: 2048\n  weak_key_size_ec_high: 160\n  weak_key_size_ec_medium: 224\n  weak_key_size_rsa_high: 1024\n  weak_key_size_rsa_medium: 2048\n\n"
        },
        {
          "name": ".cherry_picker.toml",
          "type": "blob",
          "size": 0.150390625,
          "content": "team = \"Cog-Creators\"\nrepo = \"Red-DiscordBot\"\ncheck_sha = \"6251c585e4ec0a53813a9993ede3ab5309024579\"\nfix_commit_msg = false\ndefault_branch = \"V3/develop\"\n"
        },
        {
          "name": ".codeclimate.yml",
          "type": "blob",
          "size": 1.357421875,
          "content": "version: \"2\"  # required to adjust maintainability checks\nchecks:\n  argument-count:\n    config:\n      threshold: 8  # work on this later\n  complex-logic:\n    enabled: false  # Disabled in favor of using Radon for this\n    config:\n      threshold: 4\n  file-lines:\n    enabled: false  # enable after audio stuff...\n    config:\n      threshold: 2000  # I would set this lower if not for cogs as command containers.\n  method-complexity:\n    enabled: false  # Disabled in favor of using Radon for this\n    config:\n      threshold: 5\n  method-count:\n    enabled: false  # I would set this lower if not for cogs as command containers.\n    config:\n      threshold: 20\n  method-lines:\n    enabled: false\n    config:\n      threshold: 25  # I'm fine with long methods, cautious about the complexity of a single method.\n  nested-control-flow:\n    config:\n      threshold: 6\n  return-statements:\n    config:\n      threshold: 6\n  similar-code:\n    enabled: false\n    config:\n      threshold: # language-specific defaults. an override will affect all languages.\n  identical-code:\n    enabled: false\n    config:\n      threshold: # language-specific defaults. an override will affect all languages.\nplugins:\n  bandit:\n    enabled: false\n  radon: \n    enabled: false\n    config: \n      threshold: \"D\"\n  duplication:\n    enabled: false\n    config:\n      languages:\n        python:\n          python_version: 3\n"
        },
        {
          "name": ".git-blame-ignore-revs",
          "type": "blob",
          "size": 1.3583984375,
          "content": "# Since version 2.23 (released in August 2019), git-blame has a feature\n# to ignore or bypass certain commits.\n#\n# This file contains a list of commits that are not likely what you\n# are looking for in a blame, such as mass reformatting or renaming.\n# You can set this file as a default ignore file for blame by running\n# the following command.\n#\n# $ git config blame.ignoreRevsFile .git-blame-ignore-revs\n\n# [V3] Update code standards (black code format pass) (#1650)\nb88b5a2601f56bda985729352d24842f087a8ade\n\n# Black tests and setup.py (#1657)\ne01cdbb0912387749d9459e1d934f9ed393a9b51\n\n# Black formatting for generate_strings.py and docs/conf.py (#1658)\n1ecaf6f8d5f2af731bec3eb6ad3a9721ab7a2812\n\n# [V3 Travis] Update travis to not skip pipfile lock... (#1678)\n# additional black formatting pass to conform to black 18.5b\nd3f406a34a5cae6ea63664e76e8e74be43f9949f\n\n# [V3] Update black version and reformat (#1745)\n14cc701b25cea385fd0d537cdb6475d341c017c5\n\n# [V3] Clean up some ugly auto-formatted strings (#1753)\n622382f42588ac1d8a52bd3e39bf171c89ff0224\n\n# [CI] Improve automated checks (#2702)\n16443c8cc0c24cbc5b3dc7de858edb71b9ca6cd3\n\n# Bump black to 20.8b1 (and reformat) (#4371)\n85afe19455f91af21a0f603705eeb5d9599b45cc\n\n# Reformat with Black 22.1.0 (#5633)\nc69e8d31fdadbe10230ec0ea2ef35402e5c4cf43\n\n# Reformat with Black 2023 formatting changes\n226d8d734de43e1d5ea96a528a8e480641604db1\n"
        },
        {
          "name": ".git_archive_info.txt",
          "type": "blob",
          "size": 0.0419921875,
          "content": "$Format:%h$\n$Format:%(describe:tags=true)$\n"
        },
        {
          "name": ".gitattributes",
          "type": "blob",
          "size": 0.357421875,
          "content": "* text eol=lf\n\n# binary file excludsions\n*.png binary\n\n# include commit/tag information in `.git_archive_info.txt` when packing with git-archive\n.git_archive_info.txt export-subst\n\n# hide diffs for .po files by default\n# https://docs.github.com/en/repositories/working-with-files/managing-files/customizing-how-changed-files-appear-on-github\n*.po linguist-generated\n"
        },
        {
          "name": ".github",
          "type": "tree",
          "content": null
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 3.2958984375,
          "content": "*.exe\n*.dll\n*.pot\n.data\n!/tests/cogs/dataconverter/data/**/*.json\nPipfile\nPipfile.lock\n.directory\n\n### JetBrains template\n# Covers JetBrains IDEs: IntelliJ, RubyMine, PhpStorm, AppCode, PyCharm, CLion, Android Studio and Webstorm\n# Reference: https://intellij-support.jetbrains.com/hc/en-us/articles/206544839\n\n# User-specific stuff:\n.idea/\n*.iws\n.vscode/\n*.sublime-project\n*.sublime-workspace\n\n## Plugin-specific files:\n\n# IntelliJ\nout/\n\n# mpeltonen/sbt-idea plugin\n.idea_modules/\n\n# JIRA plugin\natlassian-ide-plugin.xml\n\n# Cursive Clojure plugin\n.idea/replstate.xml\n\n# Crashlytics plugin (for Android Studio and IntelliJ)\ncom_crashlytics_export_strings.xml\ncrashlytics.properties\ncrashlytics-build.properties\nfabric.properties\n### Python template\n# Byte-compiled / optimized / DLL files\n__pycache__/\n*.py[cod]\n*$py.class\n\n# C extensions\n*.so\n\n# Distribution / packaging\n.Python\nbuild/\ndevelop-eggs/\ndist/\ndownloads/\neggs/\n.eggs/\nlib/\nlib64/\nparts/\nsdist/\nvar/\nwheels/\npip-wheel-metadata/\n*.egg-info/\n.installed.cfg\n*.egg\n\n# PyInstaller\n#  Usually these files are written by a python script from a template\n#  before PyInstaller builds the exe, so as to inject date/other infos into it.\n*.manifest\n*.spec\n\n# Installer logs\npip-log.txt\npip-delete-this-directory.txt\n\n# Unit test / coverage reports\nhtmlcov/\n.tox/\n.coverage\n.coverage.*\n.cache\nnosetests.xml\ncoverage.xml\n*.cover\n.hypothesis/\n\n# Translations\n*.mo\n\n# Django stuff:\n*.log\nlocal_settings.py\n\n# Flask stuff:\ninstance/\n.webassets-cache\n\n# Scrapy stuff:\n.scrapy\n\n# Sphinx documentation\ndocs/_build/\n\n# PyBuilder\ntarget/\n\n# Jupyter Notebook\n.ipynb_checkpoints\n\n# pyenv\n.python-version\n\n# celery beat schedule file\ncelerybeat-schedule\n\n# SageMath parsed files\n*.sage.py\n\n# Environments\n.env\n.venv\nenv/\nvenv/\nENV/\n\n# Spyder project settings\n.spyderproject\n.spyproject\n\n# Rope project settings\n.ropeproject\n\n# mkdocs documentation\n/site\n\n# mypy\n.mypy_cache/\n\n# pytest\n.pytest_cache/\n\n# Pre-commit hooks\n/.pre-commit-config.yaml\n\n### macOS template\n# General\n.DS_Store\n.AppleDouble\n.LSOverride\n\n# Icon must end with two \\r\nIcon\n\n# Thumbnails\n._*\n\n# Files that might appear in the root of a volume\n.DocumentRevisions-V100\n.fseventsd\n.Spotlight-V100\n.TemporaryItems\n.Trashes\n.VolumeIcon.icns\n.com.apple.timemachine.donotpresent\n\n# Directories potentially created on remote AFP share\n.AppleDB\n.AppleDesktop\nNetwork Trash Folder\nTemporary Items\n.apdisk\n\n### Windows template\n# Windows thumbnail cache files\nThumbs.db\nThumbs.db:encryptable\nehthumbs.db\nehthumbs_vista.db\n\n# Dump file\n*.stackdump\n\n# Folder config file\n[Dd]esktop.ini\n\n# Recycle Bin used on file shares\n$RECYCLE.BIN/\n\n# Windows Installer files\n*.cab\n*.msi\n*.msix\n*.msm\n*.msp\n\n# Windows shortcuts\n*.lnk\n\n### SublimeText template\n# Cache files for Sublime Text\n*.tmlanguage.cache\n*.tmPreferences.cache\n*.stTheme.cache\n\n# Workspace files are user-specific\n\n# SFTP configuration file\nsftp-config.json\nsftp-config-alt*.json\n\n# Package control specific files\nPackage Control.last-run\nPackage Control.ca-list\nPackage Control.ca-bundle\nPackage Control.system-ca-bundle\nPackage Control.cache/\nPackage Control.ca-certs/\nPackage Control.merged-ca-bundle\nPackage Control.user-ca-bundle\noscrypto-ca-bundle.crt\nbh_unicode_properties.cache\n\n# Sublime-github package stores a github token in this file\n# https://packagecontrol.io/packages/sublime-github\nGitHub.sublime-settings\n\n"
        },
        {
          "name": ".pylintrc",
          "type": "blob",
          "size": 4.00390625,
          "content": "[MASTER]\n\n# Specify a configuration file.\n#rcfile=\n\n# Add files or directories to the blacklist. They should be base names, not\n# paths.\nignore=pytest\n\n# Pickle collected data for later comparisons.\npersistent=no\n\n# List of plugins (as comma separated values of python modules names) to load,\n# usually to register additional checkers.\nload-plugins=\n\n# DO NOT CHANGE THIS VALUE # Use multiple processes to speed up Pylint.\njobs=1\n\n# Allow loading of arbitrary C extensions. Extensions are imported into the\n# active Python interpreter and may run arbitrary code.\nunsafe-load-any-extension=no\n\n# A comma-separated list of package or module names from where C extensions may\n# be loaded. Extensions are loading into the active Python interpreter and may\n# run arbitrary code\nextension-pkg-whitelist=\n\n\n[MESSAGES CONTROL]\n\n# Only show warnings with the listed confidence levels. Leave empty to show\n# all. Valid levels: HIGH, INFERENCE, INFERENCE_FAILURE, UNDEFINED\nconfidence=\n\n# Enable the message, report, category or checker with the given id(s). You can\n# either give multiple identifier separated by comma (,) or put this option\n# multiple time. See also the \"--disable\" option for examples.\n\n\nenable=all\n\ndisable=C, # black is enforcing this for us already, incompatibly\n    W, # unbroaden this to the below specifics later on.\n    W0107, # uneccessary pass is stylisitc in most places\n    W0212, # Should likely refactor around protected access warnings later\n    W1203, # fstrings are too fast to care about enforcing this.\n    W0612, # unused vars can sometimes indicate an issue, but ...\n    W1401, # Should probably fix the reason this is disabled (start up screen)\n    W0511, # Nope, todos are fine for future people to see things to do.\n    W0613, # Too many places where we need to take unused args do to d.py ... also menus\n    W0221, # Overriden converters.\n    W0223, # abstractmethod not defined in mixins is expected\n    I, # ...\n    R # While some of these have merit, It's too large a burden to enable this right now.\n\n\n[REPORTS]\n\noutput-format=parseable\nreports=no\n\n\n[LOGGING]\n\n# Logging modules to check that the string format arguments are in logging\n# function parameter format\nlogging-modules=logging\n\n\n[TYPECHECK]\n\n# Tells whether missing members accessed in mixin class should be ignored. A\n# mixin class is detected if its name ends with \"mixin\" (case insensitive).\nignore-mixin-members=yes\n\n# TODO: Write a plyint plugin to allow this with these mixin classes\n# To use the abstractmethod we know will be defined in the final class.\nignored-classes=redbot.cogs.mod.movetocore.MoveToCore,\n    redbot.cogs.mod.kickban.KickBanMixin,\n    redbot.cogs.mod.mutes.MuteMixin,\n    redbot.cogs.mod.names.ModInfo,\n    redbot.cogs.mod.settings.ModSettings,\n    redbot.cogs.mod.events.Events\n\nignored-modules=distutils  # https://github.com/PyCQA/pylint/issues/73\n\n\n[VARIABLES]\n\n# Tells whether we should check for unused import in __init__ files.\ninit-import=no\n\n# A regular expression matching the name of dummy variables (i.e. expectedly\n# not used).\ndummy-variables-rgx=_$|dummy\n\n\n[SIMILARITIES]\n\n# Minimum lines number of a similarity.\nmin-similarity-lines=4\n\n# Ignore comments when computing similarities.\nignore-comments=yes\n\n# Ignore docstrings when computing similarities.\nignore-docstrings=yes\n\n# Ignore imports when computing similarities.\nignore-imports=no\n\n\n[MISCELLANEOUS]\n\n# List of note tags to take in consideration, separated by a comma.\nnotes=FIXME,XXX,TODO\n\n\n[CLASSES]\n\n# List of method names used to declare (i.e. assign) instance attributes.\ndefining-attr-methods=__init__,__new__,__call__\n\n# List of valid names for the first argument in a class method.\nvalid-classmethod-first-arg=cls\n\n# List of valid names for the first argument in a metaclass class method.\nvalid-metaclass-classmethod-first-arg=mcs\n\n# List of member names, which should be excluded from the protected access\n# warning.\nexclude-protected=\n\n[EXCEPTIONS]\n\n# Exceptions that will emit a warning when being caught. Defaults to\n# \"Exception\"\novergeneral-exceptions=Exception,discord.DiscordException"
        },
        {
          "name": ".readthedocs.yml",
          "type": "blob",
          "size": 0.1552734375,
          "content": "version: 2\n\nbuild:\n  os: \"ubuntu-22.04\"\n  tools:\n    python: \"3.8\"\n\npython:\n  install:\n    - method: pip\n      path: .\n      extra_requirements:\n        - doc\n"
        },
        {
          "name": "CHANGES.rst",
          "type": "blob",
          "size": 254.458984375,
          "content": ".. Red changelogs\n\nRedbot 3.5.14 (2024-12-25)\n==========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`aikaterna`, :ghuser:`Ascensionn`, :ghuser:`cswimr`, :ghuser:`Chovin`, :ghuser:`cdaman3141`, :ghuser:`DJTOMATO`, :ghuser:`Flame442`, :ghuser:`japandotorg`, :ghuser:`Jackenmen`, :ghuser:`karlsbjorn`, :ghuser:`Kowlin`, :ghuser:`kpopdev`, :ghuser:`kevin1015wang`, :ghuser:`Kreusada`, :ghuser:`mellow-org`, :ghuser:`palmtree5`, :ghuser:`sravan1946`, :ghuser:`TrustyJAID`\n\nRead before updating\n--------------------\n\n#. Following operating systems are no longer supported as they have already reached their end of life:\n\n    - Debian 11 (excluding Raspberry Pi OS 11)\n    - Fedora 39\n    - macOS 12 (Monterey)\n\n#. Information for Audio users that are using an external Lavalink instance (if you don't know what that is, you should skip this point):\n\n    We've updated our default application.yml file and you should update your instance's ``application.yml`` accordingly.\n    More specifically, we bumped the version of YT source plugin.\n    `Download Red 3.5.14's default application.yml file <https://github.com/Cog-Creators/Red-DiscordBot/releases/download/3.5.14/Red-DiscordBot-3.5.14-default-lavalink-application.yml>`__\n\nEnd-user changelog\n------------------\n\nAdditions\n*********\n\n- |cool| **Cogs - Mod** - Added new setting (``[p]modset requirereason``) for enforcing reason to be filled in cog's commands (:issue:`6477`)\n\nChanges\n*******\n\n- |cool| **Core** - Updated the output from help command to enable use of the new copy to clipboard feature on Discord code blocks to copy the command input (:issue:`6244`)\n- **Core** - Updated ID parser used by some (core and 3rd-party) commands to reject IDs that are larger than a Discord ID (snowflake) can be (:issue:`6431`, :issue:`6486`)\n- |cool| **Core - Bot Commands** - The ``[p]slash disablecog`` and ``[p]slash enablecog`` commands can now be passed multiple cog names to disable/enable app commands from many cogs at the same time (:issue:`6001`)\n- **Core - Dependencies** - Red's dependencies have been bumped (:issue:`6492`)\n- **Core - OS Support** - Debian 11, Fedora 39, and macOS 12 (Monterey) are no longer supported as they have already reached end of life (:issue:`6492`)\n- **Core - OS Support** - Ubuntu non-LTS version is currently considered unsupported due to lack of support for Python 3.12 from Red (:issue:`6492`)\n- **Cogs - Audio** - The ``[p]play`` command will now mention how the URL restrictions can be disabled, if they're currently enabled (:issue:`6348`)\n- **Cogs - Audio** - The Lavalink download process now has a separate, larger, timeout than the timeout for startup of the Lavalink process (:issue:`6460`, :issue:`6461`)\n- **Cogs - Downloader** - Changed the format of the ``[p]repo list`` command's output to include repo links (:issue:`6284`)\n- |cool| **Cogs - Warnings** -  The ``[p]warn`` command will now prompt whether to ban the user, if that user has already left the server by the time the command was called (:issue:`6445`, :issue:`6481`)\n- **Cogs - Trivia - Lists** - Added variants of the answers without punctuation to the ``harrypotter`` trivia list (:issue:`5889`)\n\nFixes\n*****\n\n- **Core** - Fixed issues with permission handling for user-installable app commands (:issue:`6457`)\n- **Core - Bot Commands** - Fixed uncaught error when running ``[p]load locales`` command (:issue:`4623`)\n- |cool| **Cogs - Audio** - Fixed various issues with YT playback resulting in \"Something broke when playing the track\" error (:issue:`6488`, :issue:`6490`)\n- **Cogs - Trivia - Lists** - Fixed typos in Golden Glove questions in the ``worldcup`` trivia list (:issue:`6441`)\n\nDeveloper changelog\n-------------------\n\nAdditions\n*********\n\n- |cool| **Core - Bot Class** - Added `Red.get_app_command_id()` and `Red.get_app_command_mention()` methods for getting app command IDs/mentions from Red's cache (:issue:`5976`, :issue:`6278`)\n- **Core - Utils Package** - Added `hyperlink()`, `header()`, and `subtext()` chat formatting functions (:issue:`6102`, :issue:`6444`)\n- |cool| **Core - Utils Package** - Added `redbot.core.utils.chat_formatting.rich_markup()` function for generating Discord-compatible code blocks with ANSI formatting using a limited set of `Rich markup <https://rich.readthedocs.io/en/stable/markup.html>`__ (:issue:`5538`)\n- **Cogs - Downloader** - Downloader will now replace ``[botname]`` in the install messages with the bot's name, same as is done for command help messages (:issue:`6443`)\n\nChanges\n*******\n\n- **Core - Utils Package** - Added support for `SimpleMenu` to customize the select options before sending (:issue:`6455`, :issue:`6480`)\n\nDeprecations\n************\n\n- **Core - Utils Package** - Deprecated `SimpleMenu.select_menu` attribute (:issue:`6480`)\n\nFixes\n*****\n\n- **Core** - Fixed the cooldown bypass (enabled by ``[p]bypasscooldowns`` command) not being respected by the ``[p]slash sync`` command (:issue:`6465`)\n- **Core - Commands Package** - Updated `RawUserIdConverter` to reject IDs that are larger than a Discord ID (snowflake) can be (:issue:`6431`, :issue:`6486`)\n\n----\n\nRedbot 3.5.13 (2024-08-27)\n==========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`aikaterna`, :ghuser:`Guyonsteroids`, :ghuser:`Jackenmen`, :ghuser:`Kowlin`\n\nRead before updating\n--------------------\n\n#. Information for Audio users that are using an external Lavalink instance (if you don't know what that is, you should skip this point):\n\n    We've updated our default application.yml file and you should update your instance's ``application.yml`` accordingly.\n    More specifically, we bumped the version of YT source plugin.\n    `Download Red 3.5.13's default application.yml file <https://github.com/Cog-Creators/Red-DiscordBot/releases/download/3.5.13/Red-DiscordBot-3.5.13-default-lavalink-application.yml>`__\n\nEnd-user changelog\n------------------\n\nChanges\n*******\n\n- **Core - Dependencies** - Red's dependencies have been bumped (:issue:`6436`)\n\nFixes\n*****\n\n- **Cogs - Audio** - Updated Audio to support planned changes to Discord API scheduled for November (:issue:`6435`)\n- **Cogs - Audio** - Fixed YT live stream detection (:issue:`6435`)\n- **Cogs - Audio** - Fixed Red erroneously trying to send a message to a notification channel when one is not set (:issue:`6429`)\n- **Cogs - Trivia - Lists** - Fixed spelling of Steven Spielberg's first name in the ``entertainment`` trivia list (:issue:`6434`)\n\n----\n\nRedbot 3.5.12 (2024-08-08)\n==========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`aikaterna`, :ghuser:`Jackenmen`\n\nRead before updating\n--------------------\n\n#. Information for Audio users that are using an external Lavalink instance (if you don't know what that is, you should skip this point):\n\n    We've updated our default application.yml file and you should update your instance's ``application.yml`` accordingly.\n    More specifically, we bumped the version of YT source plugin.\n    `Download Red 3.5.12's default application.yml file <https://github.com/Cog-Creators/Red-DiscordBot/releases/download/3.5.12/Red-DiscordBot-3.5.12-default-lavalink-application.yml>`__\n\nEnd-user changelog\n------------------\n\nFixes\n*****\n\n- **Cogs - Audio** - Fixed the ``[p]llset secured`` command failing to send the response message (:issue:`6423`)\n- **Cogs - Audio** - Fixed some age-restricted YT tracks not playing (:issue:`6424`)\n\n----\n\nRedbot 3.5.11 (2024-08-04)\n==========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`aikaterna`, :ghuser:`anopem`, :ghuser:`Flame442`, :ghuser:`japandotorg`, :ghuser:`Jackenmen`, :ghuser:`Kowlin`, :ghuser:`palmtree5`, :ghuser:`yamikaitou`\n\nRead before updating\n--------------------\n\n#. Information for Audio users that are using an external Lavalink instance (if you don't know what that is, you should skip this point):\n\n    We've updated our default application.yml file and you should update your instance's ``application.yml`` accordingly.\n    More specifically, we bumped the version of YT source plugin and added new plugin configuration.\n    `Download Red 3.5.11's default application.yml file <https://github.com/Cog-Creators/Red-DiscordBot/releases/download/3.5.11/Red-DiscordBot-3.5.11-default-lavalink-application.yml>`__\n\nEnd-user changelog\n------------------\n\nChanges\n*******\n\n- **Core** - Menus sent in ephemeral messages will now be deleted the same way menus in normal messages do (:issue:`6304`)\n- **Core - Dependencies** - Red's dependencies have been bumped (:issue:`6417`)\n\nFixes\n*****\n\n- **Core - RPC** - RPC is now forcefully shut down after 2 minutes, if it cannot shutdown gracefully (:issue:`6391`, :issue:`6412`)\n- |cool| **Cogs - Audio** - Fixed some of the recent YT playback issues (:issue:`6414`, :issue:`6415`)\n- **Cogs - Mutes** - Fixed the cog failing to unmute a user, if they were muted by someone who no longer has permissions to mute that user (:issue:`6376`, :issue:`6411`)\n- **Cogs - Streams** - Fixed the viewer count for Twitch streams (:issue:`6413`)\n\nDeveloper changelog\n-------------------\n\nAdditions\n*********\n\n- **Core - App Commands Package** - Added `app_commands.UserFeedbackCheckFailure` exception allowing the cog creators to return non-default error message when the check fails (:issue:`6397`)\n\nDocumentation changes\n---------------------\n\nChanges\n*******\n\n- Updated instructions for installing the development version of Red in `guide_cog_creation` (:issue:`6408`)\n- Updated the contents of the ``red.plist`` file in the `autostart_mac` document to use no resource limitations, same as regular applications (:issue:`6416`)\n\n----\n\nRedbot 3.5.10 (2024-07-10)\n==========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`aikaterna`, :ghuser:`Flame442`, :ghuser:`Jackenmen`, :ghuser:`Kowlin`, :ghuser:`SeaswimmerTheFsh`, :ghuser:`TrustyJAID`, :ghuser:`yamikaitou`\n\nRead before updating\n--------------------\n\n#. This release fixes a security issue in one of the APIs we provide for 3rd-party cog creators. See `Security changelog below <important-3510-1>` for more information.\n#. Following operating systems are no longer supported as they have already reached their end of life:\n\n    - CentOS 7\n    - CentOS Stream 8\n    - Fedora 38\n    - versions of RHEL/Alma Linux/Oracle Linux/Rocky Linux 8 older than 8.8\n    - versions of RHEL/Alma Linux/Oracle Linux/Rocky Linux 9 older than 9.2\n\n#. Information for Audio users that are using an external Lavalink instance (if you don't know what that is, you should skip this point):\n\n    We've updated our default application.yml file and you should update your instance's ``application.yml`` accordingly.\n    More specifically, we switched from using the built-in YT source to YT source plugin.\n    `Download Red 3.5.10's default application.yml file <https://github.com/Cog-Creators/Red-DiscordBot/releases/download/3.5.10/Red-DiscordBot-3.5.10-default-lavalink-application.yml>`__\n\nEnd-user changelog\n------------------\n\n.. _important-3510-1:\n\nSecurity\n********\n\n- **Core** - Fixed incorrect authorization in one of the utilities provided to 3rd-party cog creators (`commands.can_manage_channel()`) resulting in anyone being authorized to run a command using it, if the command has no other permission controls. None of the core commands or core cogs are affected. The maintainers of the project are not aware of any public 3rd-party cog utilizing this API at the time of writing this changelog. `Full security advisory can be found on our GitHub <https://github.com/Cog-Creators/Red-DiscordBot/security/advisories/GHSA-5jq8-q6rj-9gq4>`__.\n\nAdditions\n*********\n\n- **Core - Bot Commands** - Added ``[p]set bot banner`` command for setting the bot's banner (:issue:`6321`, :issue:`6401`)\n\nChanges\n*******\n\n- **Core** - Red's ``--team-members-are-owners`` flag now only considers Team Owner, Admins, and Developers as bot owners (:issue:`6401`)\n- **Core - Dependencies** - Red's dependencies have been bumped (:issue:`6402`)\n- **Cogs - Audio** - Updated the cog to configure managed Lavalink node to use YT source plugin instead of the built-in, no longer supported, implementation (:issue:`6373`)\n- **Cogs - Filter** - The cog now checks poll contents and attachment alt text for filtered words (:issue:`6401`)\n\nFixes\n*****\n\n- **Core** - Fixed command autocompletion not showing any proper result (error message) when bot's global checks (channel/server ignores, allowlist/blocklist) do not pass (:issue:`6374`, :issue:`6375`)\n- **Cogs - Audio** - Fixed one of the recent YT playback issues (:issue:`6373`)\n\nDeveloper changelog\n-------------------\n\nChanges\n*******\n\n- |cool| **Core - Dependencies** - Bumped ``discord.py`` to version 2.4.0 (:issue:`6401`)\n\nDocumentation changes\n---------------------\n\nAdditions\n*********\n\n- Added Ubuntu 24.04 install guide (:issue:`6364`)\n\nChanges\n*******\n\n- Bumped Python version used by Arch Linux, RHEL 8, and RHEL 9 install guides to 3.11 (:issue:`6386`)\n- Removed a mention of the Atom editor from the list of the recommended editor now that it's discontinued (:issue:`6388`)\n\nRemovals\n********\n\n- Removed all mentions of pyenv now that the last OS using it (CentOS 7) is no longer supported (:issue:`6386`)\n\nFixes\n*****\n\n- Fixed Java instructions in macOS install guide (:issue:`6368`)\n- Fixed list of required ``info.json`` keys from the `guide_cog_creators` document (:issue:`6382`)\n\n----\n\nRedbot 3.5.9 (2024-04-21)\n=========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`aikaterna`, :ghuser:`giplgwm`, :ghuser:`Jackenmen`, :ghuser:`Kuro-Rui`, :ghuser:`Kowlin`, :ghuser:`palmtree5`, :ghuser:`TrustyJAID`, :ghuser:`Zephyrkul`\n\nRead before updating\n--------------------\n\n#. Information for Audio users that are using an external Lavalink instance (if you don't know what that is, you should skip this point):\n\n    Red 3.5.9 uses a new Lavalink jar that you will need to manually update from `our GitHub <https://github.com/Cog-Creators/Lavalink-Jars/releases/tag/3.7.11%2Bred.3>`__.\n\nEnd-user changelog\n------------------\n\nFixes\n*****\n\n- **Core** - Fixed inaccuracies in error messages shown when the user passes a time duration outside accepted range (:issue:`6357`)\n- **Core** - Commands that ask the user to \"Type ``more`` to continue\" when they return long output will now typically wait for 60 seconds rather than just 15 (:issue:`6346`, :issue:`6352`)\n- |cool| **Cogs - Audio** - Resolved recent issues where the player would be stuck at 0:00 on some tracks (:issue:`6358`)\n- **Cogs - Mutes** - The Mutes cog will no longer erroneously accept very large values (i.e. hundreds of years) for mute durations (:issue:`6353`)\n- **Cogs - Mutes** - To avoid ambiguity, the Mutes cog will now parse the time only when it's placed at the beginning, the end, or directly after ``t=``/``time=`` prefix in the mute command arguments (:issue:`6274`, :issue:`6349`)\n- **Cogs - Streams** - The schedule announcements for YT streams will now use relative Discord timestamps (:issue:`6257`, :issue:`6264`)\n\nDeveloper changelog\n-------------------\n\nChanges\n*******\n\n- **Core - Commands Package** - Functions and converters for parsing text into `datetime.timedelta` or `dateutil.relativedelta.relativedelta` in the `redbot.core.commands.converter` package now support negative values when ``minimum`` parameter is set accordingly (:issue:`6349`)\n- **Core - Utils Package** - The `redbot.core.utils.chat_formatting.humanize_timedelta()` function now allows specifying the maximum number of different units that will be present in the final string with the ``maximum_units`` parameter (:issue:`6350`)\n- **Core - Utils Package** - The `redbot.core.utils.chat_formatting.humanize_timedelta()` function now supports formatting negative `datetime.timedelta` instances. New ``negative_format`` parameter was added to allow specifying a different way of formatting negative `datetime.timedelta` instances (:issue:`6350`)\n\nDocumentation changes\n---------------------\n\nFixes\n*****\n\n- Updated links to the Lavalink repository (:issue:`6356`)\n\n----\n\nRedbot 3.5.8 (2024-04-01)\n=========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`aikaterna`, :ghuser:`Flame442`, :ghuser:`Jackenmen`, :ghuser:`Kreusada`, :ghuser:`TrustyJAID`\n\nRead before updating\n--------------------\n\n#. Server-wide mutes in the Mutes cog can no longer be performed using channel permissions (overrides). Instead, the cog will now use Discord's native server timeout functionality when a mute role is not set. Role mutes and channel-specific mutes are not affected.\n\n    Red 3.5.7 and lower allowed usage of channel permissions (overrides) for server-wide mutes when ``[p]muteset forcerole`` setting was explicitly disabled and no mute role was set for the server. This behavior is no longer available and now, when mute role is not set, server-wide mutes will be performed using Discord's native server timeouts.\n\n    If you were one of the few users that chose to use channel permissions (overrides) for server-wide mutes, please note that the existing server mutes will now be considered channel-specific mutes and can only be removed with ``[p]channelunmute`` (and will be automatically removed after timeout elapses, if they have one set). If you want to quickly remove all channel-specific mutes (that were previously server-wide mutes) for a user, you can use the hidden ``[p]forceunmute <user>`` command that has been provided to ease the migration.\n\n#. Information for Audio users that are using an external Lavalink instance (if you don't know what that is, you should skip this point):\n\n    Red 3.5.8 uses a new Lavalink jar that you will need to manually update from `our GitHub <https://github.com/Cog-Creators/Lavalink-Jars/releases/tag/3.7.11%2Bred.2>`__.\n\nEnd-user changelog\n------------------\n\nAdditions\n*********\n\n- |cool| **Cogs - Mutes** - Added support for Discord's native server timeouts. The cog will now use those when a mute role is not set or, when the new ``[p]timeout`` command is used (:issue:`5604`)\n- **Cogs - Trivia** - Trivia lists can now have a description as documented in :ref:`guide_trivia_list_creation` (:issue:`5897`)\n- |cool| **Cogs - Trivia** - Added ``[p]trivia info`` command for getting information about the specified Trivia list, including its setting overrides (:issue:`3978`, :issue:`5897`)\n\nChanges\n*******\n\n- **Core - Bot Commands** - The ``[p]addpath`` command will now detect potentially incorrect paths and prompt for confirmation (:issue:`6330`)\n- **Core - Bot Commands** - The ``[p]addpath`` command will now error out when the user tries adding a path that's part of the core path or instance's data path (:issue:`6330`)\n- **Core - Dependencies** - Red's dependencies have been bumped (:issue:`6333`)\n- **Cogs - Audio** - The cog will now log the reason for Lavalink.jar being re-downloaded (:issue:`6334`)\n- |cool| **Cogs - Mutes** - The ``[p]activemutes`` command will now use menus for pagination (:issue:`6266`)\n\nRemovals\n********\n\n- **Cogs - Mutes** - Server-wide mutes can no longer be performed using channel permissions (overrides). Server timeouts or mute role can be used instead (:issue:`5604`)\n- **Cogs - Mutes** - The ``[p]muteset forcerole`` command and the setting it adjusted has been removed. Server timeouts will now be used for a server, if it has no mute role set (:issue:`5604`)\n\nFixes\n*****\n\n- |cool| **Cogs - Audio** - Resolves recent issues where the wrong video was served for YT playback (:issue:`6337`, :issue:`6340`)\n- **Cogs - Audio** - Fixed Lavalink.jar downloading for RC and Red-specific versions (:issue:`6334`)\n\nDocumentation changes\n---------------------\n\nAdditions\n*********\n\n- |cool| Added install instructions for Amazon Linux 2023 (:issue:`6331`)\n\n----\n\nRedbot 3.5.7 (2024-03-24)\n=========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`aikaterna`, :ghuser:`Flame442`, :ghuser:`karlsbjorn`, :ghuser:`Jackenmen`\n\nThis is a hotfix release fixing a bug with Red's reaction-based menus introduced in the previous release.\n\nEnd-user changelog\n------------------\n\nFixes\n*****\n\n- **Core** - Fixed an issue with Red's reaction-based menus *with custom controls* not working properly (:issue:`6324`)\n- **Core - Bot Commands** - Updated supported image formats in ``[p]set bot avatar``'s error messages to include GIFs (:issue:`6323`)\n\n----\n\nRedbot 3.5.6 (2024-03-22)\n=========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`aikaterna`, :ghuser:`BlizzardTheWolf`, :ghuser:`DJTOMATO`, :ghuser:`Dav-Git`, :ghuser:`Flame442`, :ghuser:`goettner`, :ghuser:`Jackenmen`, :ghuser:`Jan200101`, :ghuser:`japandotorg`, :ghuser:`Kowlin`, :ghuser:`Kreusada`, :ghuser:`laggron42`, :ghuser:`madebylydia`, :ghuser:`michael-is-qcde`, :ghuser:`scarecr0w12`, :ghuser:`yeetbruises`, :ghuser:`Zephyrkul`\n\nRead before updating\n--------------------\n\n#. macOS 11 (Big Sur), Fedora 37, Ubuntu 22.10 (Kinetic Kudu), 23.04 (Lunar Lobster), openSUSE Leap 15.4, and Raspberry Pi OS (Legacy) 10 Buster are no longer supported as they have already reached their end of life.\n#. Information for Audio users that are using an external Lavalink instance (if you don't know what that is, you should skip this point):\n\n    Red 3.5.6 uses a new Lavalink jar that you will need to manually update from `our GitHub <https://github.com/Cog-Creators/Lavalink-Jars/releases/tag/3.7.11>`__.\n\nEnd-user changelog\n------------------\n\nAdditions\n*********\n\n- **Cogs - Trivia - Lists** - Added a ``doom`` trivia about the whole Doom video game franchise (:issue:`4803`)\n- **Cogs - Trivia - Lists** - Added a trivia about Star Trek (:issue:`2946`)\n\nChanges\n*******\n\n- Improved handling of very large numbers in various areas of the bot (:issue:`4619`, :issue:`6283`)\n- **Core** - Empty (server) prefixes are now disallowed (:issue:`6013`)\n- |cool| **Core** - Menu-based help will now be sent to DMs when max number of pages (``[p]helpset maxpages``) is set to 0, similarly to non-menu help (:issue:`5093`, :issue:`5375`)\n- |cool| **Core** - Prefix can now be automatically inserted into help tagline by putting ``[p]`` at the position that the prefix should appear at (:issue:`4669`, :issue:`4972`)\n- **Core - Command-line Interfaces** - Improved first-time user experience when setting up new instance by asking for confirmation after user enters the prefix (:issue:`6287`)\n- **Core - Dependencies** - Red's dependencies have been bumped (:issue:`6312`)\n- **Core - Modlog** - Case auto-creation for bans and unbans now relies directly on recently introduced audit log events which should make it work more reliably (:issue:`5970`)\n- |cool| **Cogs - Alias** - Fixed a long-known issue with aliases not retaining new lines from the arguments they are passed (:issue:`2704`, :issue:`4656`)\n- **Cogs - Downloader** - Downloader commands will now try to detect potential Git authentication failures and report them more clearly (:issue:`5420`)\n- **Cogs - Modlog** - The cog help now mentions how the user can change the modlog settings (:issue:`6300`)\n- **Cogs - Trivia - Lists** - Updated FIFA World Cup list to include outcomes of the 2022 tournament (:issue:`5931`)\n\nRemovals\n********\n\n- **Core - OS Support** - macOS 11 (Big Sur), Fedora 37, Ubuntu 22.10 (Kinetic Kudu), 23.04 (Lunar Lobster), openSUSE Leap 15.4, and Raspberry Pi OS (Legacy) 10 Buster are no longer supported as they have already reached end of life (:issue:`6309`)\n\nFixes\n*****\n\n- **Cogs - Admin** - Fixed the ``[p]editrole colour`` command erroring out whenever it's ran (:issue:`6270`)\n- |cool| **Cogs - Audio** - Fixed YT playback (:issue:`6305`)\n- **Cogs - Audio** - Fixed not being able to seek when player is paused (:issue:`6305`)\n- **Cogs - Audio** - Fixed handling of file name suffixes in ``[p]playlist upload`` caused by changes in Discord API (:issue:`6279`, :issue:`6280`)\n- |cool| **Cogs - General** - Fixed issues with ``[p]lmgtfy`` command once and for all by deploying an equivalent service as part of Cog-Creators' infrastructure (:issue:`6255`, :issue:`6268`, :issue:`6269`)\n- **Cogs - Streams** - Fixed markdown formatting in the ``[p]streamalert list`` command to be compliant with newer Discord markdown renderer (:issue:`6292`)\n\nDeveloper changelog\n-------------------\n\nChanges\n*******\n\n- **Core - Utils Package** - Added `SimpleMenu.start_dm()` method for sending the menu to the given user rather than `Context` (:issue:`6286`)\n- **Core - Utils Package** - The `menu()` utility function received a new `provisional <developer-guarantees-exclusions>` ``user`` parameter for defining who can interact with the menu (instead of the default ``ctx.author``) (:issue:`4913`)\n\n    If no issues arise, we plan on including this parameter under developer guarantees\n    in the first release made after 2024-05-24.\n\n- **Core - Utils Package** - The `SimpleMenu.start()` method received a new `provisional <developer-guarantees-exclusions>` ``user`` parameter for defining who can interact with the menu (instead of the default ``ctx.author``) (:issue:`4913`)\n\n    If no issues arise, we plan on including this parameter under developer guarantees\n    in the first release made after 2024-05-24.\n\nFixes\n*****\n\n- **Core - Commands Package** - Fixed an edge case where the permission names passed as keyword arguments were not validated in Red's custom decorators (:issue:`6291`)\n- **Core - Utils Package** - Tracebacks from custom control functions are no longer suppressed by ``menu()`` when ``[p]set usebuttons`` option is enabled (:issue:`6310`)\n\nDocumentation changes\n---------------------\n\nAdditions\n*********\n\n- |cool| Added install guide for Raspberry Pi OS 12 Bookworm (:issue:`6309`)\n- Added a tip in `guide_slash_and_interactions` about forcing the client to see the new commands after syncing (:issue:`6298`)\n\nChanges\n*******\n\n- Install guide for Raspberry Pi OS Legacy now describes installation for Raspberry Pi OS (Legacy) 11 (:issue:`6309`)\n- Updated Python versions used in Arch Linux and openSUSE Leap instructions to 3.10 and 3.11 respectively (:issue:`6309`)\n- Clarified the meaning of the word `\"provisional\" <developer-guarantees-exclusions>` that is used across the documentation to refer to APIs excluded from version guarantees (:issue:`6311`)\n- Added ``force_registration=True`` to all `Config.get_conf()` usage examples in `framework_config` documentation to reflect our current recommendations (:issue:`6259`)\n\nFixes\n*****\n\n- Fixed the \"Edit on GitHub\" links in Red's online documentation (:issue:`6258`)\n\n----\n\nRedbot 3.5.5 (2023-09-14)\n=========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`Flame442`, :ghuser:`Jackenmen`, :ghuser:`karlsbjorn`, :ghuser:`Kreusada`, :ghuser:`ltzmax`, :ghuser:`palmtree5`\n\nEnd-user changelog\n------------------\n\nChanges\n*******\n\n- **Core - Dependencies** - Red's dependencies have been bumped (:issue:`6248`)\n- **Cogs - Downloader** - Cogs in the ``[p]cog list`` command are now listed alphabetically (:issue:`6214`, :issue:`6215`)\n\nFixes\n*****\n\n- **Core - Bot Commands** - Fixed handling of an edge case in the ``[p]diagnoseissues`` command that involved commands without a cog (:issue:`6237`)\n- **Core - Bot Commands** - Fixed the formatting of nested result lists in the ``[p]diagnoseissues`` command (:issue:`6238`)\n- **Cogs - Mod** - Fixed the formatting of the help description for the ``[p]ban``, ``[p]kick``, and ``[p]tempban`` commands (:issue:`6245`)\n- |cool| **Cogs - Streams** - Updated the implementation of Twitch streams to no longer use the \"Get Users Follows\" endpoint that was deprecated in February 2023 (:issue:`6246`, :issue:`6247`)\n\nDocumentation changes\n---------------------\n\nChanges\n*******\n\n- Updated Python version in ``pyenv`` instructions (:issue:`6241`)\n\n----\n\nRedbot 3.5.4 (2023-08-12)\n=========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`aikaterna`, :ghuser:`Jackenmen`, :ghuser:`laggron42`, :ghuser:`Leo40Git`, :ghuser:`PredaaA`, :ghuser:`TrustyJAID`\n\nRead before updating\n--------------------\n\n#. Information for Audio users that are using an external Lavalink instance (if you don't know what that is, you should skip this point):\n\n    Red 3.5.4 uses a new Lavalink jar that you will need to manually update from `our GitHub <https://github.com/Cog-Creators/Lavalink-Jars/releases/tag/3.7.8>`__.\n\nEnd-user changelog\n------------------\n\nAdditions\n*********\n\n- |cool| **Core - Bot Commands** - Added ``[p]set status custom`` command allowing the bot owner to change the bot's custom status (:issue:`6226`)\n\nChanges\n*******\n\n- **Core - Dependencies** - Red's dependencies have been bumped (:issue:`6225`)\n\nFixes\n*****\n\n- **Core** - Fixed errors showing in logs when the button menu timed out and the original message no longer existed (:issue:`6228`, :issue:`6229`)\n- |cool| **Cogs - Audio** - Fixed YT playback (:issue:`6221`)\n- **Cogs - Audio** - Fixed poor quality of ``[p]local/queue search``'s results when case sensitive matching was involved (:issue:`6129`, :issue:`6224`)\n- **Cogs - Audio** - Fixed ``[p]local search`` resorting to YT playback when file name involved certain characters such as ``-`` (:issue:`6223`)\n- **Cogs - CustomCommands** - Fixed poor quality of ``[p]customcom search``'s results when case sensitive matching was involved (:issue:`6224`)\n- **Cogs - Streams** - Fixed Picarto channels showing without the channel avatar (:issue:`6230`)\n\n----\n\nRedbot 3.5.3 (2023-07-24)\n=========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`AAA3A-AAA3A`, :ghuser:`aikaterna`, :ghuser:`Drapersniper`, :ghuser:`Flame442`, :ghuser:`flaree`, :ghuser:`Jackenmen`, :ghuser:`Kowlin`, :ghuser:`Kreusada`, :ghuser:`Om1609`, :ghuser:`PredaaA`, :ghuser:`TrustyJAID`, :ghuser:`Zephyrkul`\n\nRead before updating\n--------------------\n\n#. Fedora 36, Ubuntu 18.04 LTS and versions of RHEL/Alma Linux/Oracle Linux/Rocky Linux older than 8.6 are no longer supported as they have already reached their end of life.\n\nEnd-user changelog\n------------------\n\nChanges\n*******\n\n- |cool| Red has been updated to support `Discord's new username system <https://discord.com/blog/usernames>`__ (:issue:`6130`)\n\n  This means that we now support passing the new usernames as arguments\n  and properly display usernames/global display names in core commands and cogs where applicable.\n\n- **Core** - All bots are are now considered to be immune to auto-moderation (:issue:`6130`)\n- **Core** - Added list of command-line arguments to ``redbot --debuginfo <instance_name>`` and ``[p]debuginfo`` (:issue:`6164`)\n- **Core - Bot Commands** - The ``[p]set api`` command will now hide the button once the time to open the modal to set API keys elapses (:issue:`6166`)\n- **Core - Command-line Interfaces** - Multiple arguments to ``--co-owner``, ``--load-cogs``, and ``--unload-cogs`` flags can now be specified both by passing multiple arguments right after the flag and by repeating the flag multiple times with different arguments (:issue:`6200`)\n- **Core - Dependencies** - Red's dependencies have been bumped (:issue:`6185`)\n- |cool| **Cogs - Audio** - The managed Lavalink server can now be run with either Java 11 or Java 17 (:issue:`6190`)\n- **Cogs - Audio** - Added an option to auto-use default HTTP/HTTPS port for unmanaged Lavalink server (:issue:`5629`)\n- **Cogs - Mod** - The cog now tracks both the usernames *and* global display names (:issue:`6130`)\n\nRemovals\n********\n\n- **Core - OS Support** - Fedora 36, Ubuntu 18.04 LTS and versions of RHEL/Alma Linux/Oracle Linux/Rocky Linux older than 8.6 are no longer supported as they have already reached end of life (:issue:`6189`)\n\nFixes\n*****\n\n- **Core** - Red's menu timeout is now consistent between reaction and button menus (:issue:`6173`)\n- **Core - Bot Commands** - Fixed message too long error in the ``[p]slash list`` command (:issue:`6167`)\n- **Core - Command-line Interfaces** - Red will now properly exit with code ``1`` (``CRITICAL``) when the bot fails after connecting to Discord but before becoming ready instead of indefinitely hanging in non-working condition (:issue:`6202`)\n- **Cogs - Audio** - Fixed playlist selection in the picker used by the playlist-related commands (:issue:`6169`, :issue:`6170`)\n- **Cogs - Cleanup** - Fixed an issue with ``[p]cleanup self`` not working in DMs (:issue:`6196`, :issue:`6197`)\n- **Cogs - Downloader** - Fixed ``CancelledError`` tracebacks showing up in logs when the bot is shut down quickly after the cog is loaded (:issue:`6203`)\n- **Cogs - Mutes** - Fixed ``CancelledError`` tracebacks showing up in logs when the bot is shut down quickly after the cog is loaded (:issue:`6203`)\n\nDeveloper changelog\n-------------------\n\nAdditions\n*********\n\n- |cool| **Core - Utils Package** - Added new view (`ConfirmView`) that can be used to ask for confirmation (:issue:`6174`, :issue:`6176`)\n- **Core - Commands Package** - Added `Command.is_enabled()` method allowing to check whether the command is disabled in a guild/globally (:issue:`4130`, :issue:`5552`, :issue:`6209`)\n\nFixes\n*****\n\n- **Core - Commands Package** - Fixed handling of cases where the string returned by `Cog.format_help_for_context()`/`Command.format_help_for_context()` starts with ``\"\\n\\n\"`` (:issue:`5941`)\n- **Cogs - Dev** - Fixed issues with exception formatting in ``[p]eval/repl/debug`` commands not including the code for chained/grouped exceptions (:issue:`6178`)\n\nDocumentation changes\n---------------------\n\nAdditions\n*********\n\n- Added usage example to `get_end_user_data_statement_or_raise()` (:issue:`6171`)\n\nChanges\n*******\n\n- |cool| Added install instructions for Debian 12 Bookworm (:issue:`6190`)\n- |cool| The install guides have been updated to install Java 17 when possible (:issue:`6190`)\n\n\n----\n\nRedbot 3.5.2 (2023-05-14)\n=========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`aikaterna`, :ghuser:`flaree`, :ghuser:`Flame442`, :ghuser:`Jackenmen`, :ghuser:`karlsbjorn`, :ghuser:`rramboer`, :ghuser:`synrg`, :ghuser:`TrustyJAID`, :ghuser:`Vexed01`\n\nEnd-user changelog\n------------------\n\nChanges\n*******\n\n- **Core** - Added list of global prefixes to ``redbot --debuginfo <instance_name>`` and ``[p]debuginfo`` (:issue:`6153`)\n- **Core - Dependencies** - Red's dependencies have been bumped (:issue:`6155`)\n- **Cogs - Downloader** - Updated the code block style in ``[p]repo list`` and ``[p]cog list`` to account for Discord client changes (:issue:`6003`, :issue:`6152`)\n- **Cogs - Trivia** - Updated the code block style in the scoreboard to account for Discord client changes (:issue:`6152`)\n\nFixes\n*****\n\n- Fixed visual issues with numbered and unnumbered lists caused by Discord's new Markdown support (:issue:`6101`)\n- **Core** - Fixed handling of cooldown errors for application commands (:issue:`6159`)\n- **Core - Bot Commands** - Added missing backtick to the help of ``[p]set serverprefix`` (:issue:`6004`)\n- **Core - Command-line Interfaces** - Fixed ``redbot --debuginfo`` trying to start/starting the bot (:issue:`6131`)\n- **Cogs - Audio** - Fixed Audio's managed node trying to allocate 4 GB of memory on 32-bit platforms regardless of how much is actually available (:issue:`6137`, :issue:`6150`)\n- **Cogs - Audio** - Fixed song selection in ``[p]search`` always picking the first option when buttons are used (:issue:`6136`, :issue:`6143`)\n- **Cogs - CustomCommands** - Fixed parameter handling (:issue:`6138`, :issue:`6149`)\n- **Cogs - Mutes** - Fixed ``[p]channelmute`` returning \"That user is already muted\" error when the user is not actually muted (:issue:`6144`)\n- **Cogs - Mutes** - Fixed unexpected error in automatic channel unmuting when the relevant channel is not available (:issue:`6140`, :issue:`6144`)\n- **Cogs - Reports** - Fixed ``[p]report`` command not working in DMs (:issue:`6148`)\n- **Vendored Packages** - Fixed menus breaking in DMs (:issue:`6139`)\n\n\nDeveloper changelog\n-------------------\n\nAdditions\n*********\n\n- **Core - Data Manager** - Added a new `data_manager.instance_name()` public function (:issue:`6146`)\n\nFixes\n*****\n\n- **Core - Utils Package** - Fixed ``menu()`` passing an instance of `discord.PartialEmoji` instead of `str` when a button with a unicode emoji is used (:issue:`6143`)\n- **Cogs - Dev** - Fixed issues with exception formatting in ``[p]eval/repl/debug`` commands failing when code from a previous invocation of any of those commands was used (:issue:`6135`)\n\n\nDocumentation changes\n---------------------\n\nFixes\n*****\n\n- Fixed the search box on the documentation page returning no results (:issue:`6185`)\n- Fixed command choices example in `Slash Commands and Interactions guide <guide_slash_and_interactions>` (:issue:`6154`)\n- Updated `the 3.5.0 changelog <redbot-3-5-0-2023-05-04>`, `incompatible-changes-3.5`, and `end-user-guarantees` documents to mention the new ``x86-64-v2`` instruction set requirement (:issue:`6141`, :issue:`6147`)\n\n\n----\n\nRedbot 3.5.1 (2023-05-04)\n=========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`Flame442`, :ghuser:`Jackenmen`\n\nThis is a hotfix release fixing documentation issues and a bug with the update notification logic\nthat caused Red to crash.\n\nEnd-user changelog\n------------------\n\nFixes\n*****\n\n- **Core** - Fixed a crash in the Red update notification logic (:issue:`6124`)\n\n\nDocumentation changes\n---------------------\n\nFixes\n*****\n\n- Fix the instructions for updating Red (:issue:`6123`)\n\n----\n\n.. _redbot-3-5-0-2023-05-04:\n\nRedbot 3.5.0 (2023-05-04)\n=========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`AAA3A-AAA3A`, :ghuser:`aikaterna`, :ghuser:`alexratman`, :ghuser:`AntonioNarra`, :ghuser:`Arman0334`, :ghuser:`Dav-Git`, :ghuser:`Drapersniper`, :ghuser:`Flame442`, :ghuser:`Honkertonken`, :ghuser:`i-am-zaidali`, :ghuser:`Jackenmen`, :ghuser:`japandotorg`, :ghuser:`karlsbjorn`, :ghuser:`keqking`, :ghuser:`Kowlin`, :ghuser:`Kreusada`, :ghuser:`Kuro-Rui`, :ghuser:`leetfin`, :ghuser:`npc203`, :ghuser:`palmtree5`, :ghuser:`PredaaA`, :ghuser:`Predeactor`, :ghuser:`TrustyJAID`, :ghuser:`Vexed01`, :ghuser:`yuansheng1549`\n\nRead before updating\n--------------------\n\n#. ``[p]bankset`` is now a core command and as a consequence, the bank cog has been removed. This means that when you start the bot for the first time after the update, you'll see a \"Failed to load package bank\" message. That is perfectly normal and this message can be ignored.\n#. Red 3.5 comes with breaking changes for users. Look at `Backward incompatible changes in Red 3.5 document <incompatible-changes-3.5>` and `End-user changelog <important-350-1>` for full details.\n\n    Note that because this release also comes with breaking changes for developers,\n    the cogs you're currently using will likely not work with the new release\n    until you update (and that's *if* they have been updated).\n\n    `Our update instructions <update_red>` include instructions on how you can safely update\n    your bot and cogs from versions before 3.5. **Make sure** that you look at the instructions\n    for **the version you currently have**, not the version you're updating to.\n\n    Note that any cogs that have not yet been updated will likely not work\n    until their author releases an update.\n\n#. Red 3.5 comes with breaking changes for cog developers. Look at `Backward incompatible changes in Red 3.5 document <incompatible-changes-3.5>` and `Developer changelog <important-350-2>` for full details.\n#. Fedora 35 and Debian 10 (Buster) are no longer supported as they have already reached their end of life.\n#. On x86-64 systems, we now require that the CPU supports x86-64-v2 instruction set. This roughly translates to us dropping support for Intel CPUs that have been released before 2009 and AMD CPUs that have been released before 2012.\n\n.. _important-350-1:\n\nEnd-user changelog\n------------------\n\nBreaking Changes\n****************\n\n- **Core** - The bot will no longer launch without an owner set (:issue:`4926`)\n- **Core - OS support** - On x86-64 systems, we now require that the CPU supports x86-64-v2 instruction set. This roughly translates to us dropping support for Intel CPUs that have been released before 2009 and AMD CPUs that have been released before 2012 (:issue:`6100`)\n\nAdditions\n*********\n\n- |cool| **Core** - Preference for button menus over reaction menus can now be set with ``[p]set usebuttons``. While this depends on the cog, this should allow users to replace most existing reaction menus with button menus (:issue:`5683`, :issue:`5885`)\n- **Core** - The error message for uncaught bot errors is now configurable. See help of ``[p]set errormsg`` for more details (:issue:`5622`, :issue:`5894`)\n- |cool| **Core - Bot Commands** - Added ``[p]slash`` command for managing application commands (:issue:`5672`, :issue:`5992`, :issue:`6015`)\n- **Core - Command-line Interfaces** - Added new launch flag ``--unload-cogs`` (:issue:`5796`, :issue:`5802`)\n- **Cogs - Streams** - Added ``[p]streamset livebutton`` to add a link button under stream alerts (:issue:`5646`, :issue:`5856`)\n\nChanges\n*******\n\n- **Core** - The home directory is now always preferred for the metadata file on Linux, even for system users (:issue:`5022`)\n- **Core** - Bot prefixes can no longer start with ``/`` (:issue:`5693`)\n- **Core** - Cooldown messages now use relative discord timestamps (:issue:`5893`)\n- |cool| **Core** - Added the option to request a ``file`` containing all content remaining in interactive prompts (:issue:`5901`, :issue:`5902`)\n- **Core** - Parsing errors for integer and number arguments are now more user-friendly (:issue:`5600`)\n- |cool| **Core** - Reaction menus now trigger both when adding and removing the reaction (:issue:`4517`)\n- **Core** - Threads will now inherit parent channel's embed settings (:issue:`5600`)\n- |cool| **Core** - Commands can now be used in threads, voice channels, and stage channels (:issue:`5600`, :issue:`5709`)\n- **Core** - Voice and stage channels can now be a destination for owner notifications (``[p]set ownernotifications adddestination``) (:issue:`5709`)\n- **Core** - Channel embed settings can now be applied to forum, voice, and stage channels (:issue:`5709`)\n- **Core** - Command invocations in specific threads can now be ignored with ``[p]ignore channel``. See `incompatible-changes-3.5` for details (:issue:`5600`)\n- **Core - Bot Commands** - ``[p]modlogset`` and ``[p]bankset`` are now core commands (:issue:`4128`, :issue:`4486`)\n- **Core - Bot Commands** - Moved ``[p]set`` subcommands: ``username``, ``nickname``, ``avatar``, ``description``, and ``custominfo`` to ``[p]set bot`` subgroup (:issue:`4612`, :issue:`5432`)\n- **Core - Bot Commands** - Moved activity related ``[p]set`` subcommands to ``[p]set status`` (:issue:`4612`, :issue:`5432`)\n- **Core - Bot Commands** - Moved status related ``[p]set`` subcommands to ``[p]set status`` (:issue:`4612`, :issue:`5432`)\n- **Core - Bot Commands** - Moved ``[p]set globallocale`` to ``[p]set locale global`` (:issue:`4612`, :issue:`5432`)\n- **Core - Bot Commands** - ``[p]set locale`` can now also be used through ``[p]set locale server`` (:issue:`4612`, :issue:`5432`)\n- **Core - Bot Commands** - Moved ``[p]set globalregionalformat`` to ``[p]set regionalformat global`` (:issue:`4612`, :issue:`5432`)\n- **Core - Bot Commands** - ``[p]set regionalformat`` can now also be used through ``[p]set regionalformat server`` (:issue:`4612`, :issue:`5432`)\n- |cool| **Core - Bot Commands** - Help can now use buttons and/or select menus instead of reaction menus. See the help of ``[p]helpset usemenus`` command for more information (:issue:`5634`, :issue:`5886`)\n- **Core - Bot Commands** - ``[p]set api`` now sends a modal to securely set api tokens when no arguments are passed (:issue:`5637`)\n- **Core - Bot Commands** - ``[p]traceback`` now prompts to continue if the output requires multiple messages (:issue:`5621`, :issue:`5851`)\n- **Core - Bot Commands** - ``[p]removepath`` now allows passing more than one path at once (:issue:`5820`, :issue:`5859`)\n- **Core - Bot Commands** - Always available commands such as ``[p]licenseinfo`` now always accept a mention prefix (:issue:`5460`, :issue:`5865`)\n- **Core - Bot Commands** - Added an optional ``server`` parameter to ``[p]set showsettings`` and ``[p]set serverprefix`` to prevent lock outs in servers after forgetting a prefix (:issue:`5891`, :issue:`5918`)\n- **Core - Command-line Interfaces** - ``-v`` and ``--verbose`` are now aliased to ``--debug``, and the flag can be passed up to 3 times to increase the verbosity of the debugging logs (:issue:`5613`)\n- **Core - Command-line Interfaces** - Updated the output of ``--debuginfo`` to be consistent with ``[p]debuginfo`` and allow passing the instance name for additional information (:issue:`5662`)\n- **Core - Command-line Interfaces** - Added new exit codes ``2`` (invalid CLI usage) and ``78`` (configuration error) (:issue:`5069`, :issue:`5674`)\n- **Core - Command-line Interfaces** - Instance names must now start and end with a letter or number (:issue:`5680`)\n- **Core - Command-line Interfaces** - Instance names can no longer consecutive underscores (_) and periods (.) (:issue:`5680`)\n- **Core - Command-line Interfaces** - Added descriptions for the ``--overwrite-existing-instance`` and ``--debug`` flags in ``redbot-setup --help`` (:issue:`5808`, :issue:`5818`)\n- **Core - Command-line Interfaces** - Modified the console messages for shutting down the bot to be more consistent (:issue:`6095`)\n- |cool| **Core - Dependencies** - Bumped ``discord.py`` to version 2.2.3 (:issue:`5600`, :issue:`5709`, :issue:`5920`, :issue:`5998`, :issue:`6100`, :issue:`6109`)\n- **Core - Dependencies** - Added support for Python versions 3.10 and 3.11 (:issue:`5611`)\n- **Core - Dependencies** - Red's other dependencies have been bumped (:issue:`5611`, :issue:`5631`, :issue:`6100`)\n- **Core - Modlog** - Modlog channel can now be set to a voice or stage channel with the ``[p]modlogset channel`` command (:issue:`5709`)\n- **Cogs - Admin** - Announcement channel can now be set to a voice or stage channel with the ``[p]announceset channel`` command (:issue:`5709`)\n- **Cogs - Audio** - Expanded ``[p]llset`` to allow configuring the backend options of the internal/managed node (Lavalink) (:issue:`5593`)\n- **Cogs - Audio** - The cog now uses verbose and trace level logging to improve readability of the debug logs (:issue:`5618`)\n- **Cogs - Audio** - Swapped references from \"internal\"/\"external\" to \"managed\"/\"unmanaged\" (:issue:`5944`, :issue:`5952`)\n- **Cogs - Cleanup** - Cleanups now include a message in the audit log detailing who triggered the deletion (:issue:`5861`, :issue:`5863`)\n- **Cogs - CustomCommands** - ``{channel}`` substitution parameter may now be a thread, voice channel, or stage channel (:issue:`5600`)\n- **Cogs - Downloader** - Added an argument allowing to automatically reload cogs after updating with ``[p]cog update`` (:issue:`3539`, :issue:`5623`)\n- **Cogs - Economy** - Moved ``[p]economyset registeramount`` to ``[p]bankset registeramount`` (:issue:`4128`, :issue:`4486`)\n- **Cogs - Economy** - Moved ``[p]bank reset`` to ``[p]bankset reset`` (:issue:`4128`, :issue:`4486`)\n- **Cogs - Economy** - Moved ``[p]bank prune`` to ``[p]bankset prune`` (:issue:`4128`, :issue:`4486`)\n- **Cogs - Filter** - Messages in threads will now be checked for the filtered words of thread's parent channel and server (:issue:`5600`)\n- **Cogs - Filter** - Messages in voice or stage channels will now be checked for the filtered words and have their own channel word list (:issue:`5709`)\n- **Cogs - General** - Added stage channel information to the extended output of ``[p]serverinfo`` (:issue:`5785`)\n- **Cogs - Mutes** - Usage of ``[p]channelmute`` and ``[p]channelunmute`` commands in a thread will now mute the user in thread's parent channel (:issue:`5600`)\n- **Cogs - Mutes** - The cog will now deny Send Messages in Threads, Create Public Threads, Create Private Threads, and Use Application Commands permissions in the generated mute role and channel overrides (:issue:`5600`, :issue:`5709`)\n- **Cogs - Mutes** - Notification channel can now be set to a voice or stage channel with the ``[p]muteset notification`` command (:issue:`5709`)\n- **Cogs - Mutes** - Channel/voice mutes will now behave differently for voice/stage channels: voice mute will only deny the Speak permission while channel mute will deny message permissions as well (:issue:`5709`)\n- **Cogs - Permissions** - Red's command permission system will now use thread's parent channel for resolving rules (:issue:`5600`)\n- **Cogs - Reports** - Reports channel can now be set to a voice or stage channel with the ``[p]reportset output`` command (:issue:`5709`)\n- **Cogs - Streams** - ``[p]streamalert list`` now shows the platform of each channel (:issue:`3866`, :issue:`5160`)\n- **Cogs - Streams** - ``[p]streamalert`` subcommands now accept an additional argument to toggle alerts in a particular channel (:issue:`3866`, :issue:`5160`)\n- **Cogs - Streams** - Stream alerts can now be sent to a voice or stage channel (:issue:`5709`)\n- **Cogs - Warnings** - Warn channel can now be set to a voice or stage channel with the ``[p]warningset warnchannel`` command (:issue:`5709`)\n\nRemovals\n********\n\n- **Core** - Removed ``redbot-launcher`` (:issue:`5999`)\n- **Core - OS Support** - Fedora 35 and Debian 10 (Buster) are no longer supported as they have already reached end of life (:issue:`5974`, :issue:`6110`)\n- **Cogs - Audio** - Removed the ``[p]llsetup`` alias of ``[p]llset`` (:issue:`5953`)\n- **Cogs - Bank** - Removed the bank cog as its only command - ``[p]bankset`` - is now a core command (:issue:`4128`, :issue:`4486`)\n\nFixes\n*****\n\n- **Core** - Duration parsing in command arguments no longer matches on certain kinds of invalid data (:issue:`5385`, :issue:`5393`)\n- **Core** - Optimized how disabled commands are checked when cogs are loaded (:issue:`5550`)\n- **Core - Bot Commands** - The core path is now always an absolute path in ``[p]paths`` (:issue:`5142`)\n- **Core - Command-line Interfaces** - Fixed an unintended suppression of exceptions in Red's shutdown logic (:issue:`5661`, :issue:`5673`)\n- |cool| **Core - Modlog** - Fixed enormous performance issues with commands that have to gather a lot of cases such as ``[p]casesfor`` and ``[p]listcases`` (:issue:`4977`)\n- **Core - Modlog** - Case messages are no longer edited immediately after being sent (:issue:`5577`)\n- **Cogs - Audio** - Fixed a RAM allocation warning happening in unintended cases (:issue:`5643`)\n- **Cogs - Audio** - Fixed the Audio's managed node becoming unresponsive after it's been used for a while (:issue:`5903`)\n- **Cogs - Downloader** - Fixed a missing space to an output of ``[p]cog install`` (:issue:`5531`)\n- **Cogs - Trivia - Lists** - Fixed some inaccuracies in the ``worldflags`` list (:issue:`5684`)\n- **Cogs - Trivia - Lists** - Fixed some inaccuracies in the ``geography`` list (:issue:`5743`)\n- **Cogs - Trivia - Lists** - Fixed some inaccuracies in the ``clashroyale`` list (:issue:`5771`)\n\n.. _important-350-2:\n\nDeveloper changelog\n-------------------\n\nBreaking Changes\n****************\n\n- **Core** - Fixed edge cases in the ordering logic of ``VersionInfo`` (:issue:`5932`)\n- **Core** - Removed ``is_mod_or_superior()``, ``is_admin_or_superior()``, and ``check_permissions()`` from ``redbot.core.checks`` (:issue:`6016`)\n- **Core - Bot Class** - Merged ``RedBase`` with the `Red` class (:issue:`5159`)\n- **Core - Bot Class** - Removed the ``guild_id`` parameter from `Red.allowed_by_whitelist_blacklist()`. Use the ``guild`` parameter instead (:issue:`4905`, :issue:`4914`, :issue:`5433`)\n- **Core - Bot Class** - Removed the ``user`` parameter from `Red.embed_requested()` (:issue:`5576`)\n- **Core - Bot Class** - The ``command`` parameter of `Red.embed_requested()` is now keyword-only (:issue:`5576`)\n- **Core - Bot Class** - The ``check_permissions`` parameter of `Red.embed_requested()` now defaults to ``True`` (:issue:`5576`)\n- **Core - Bot Class** - `Red.add_cog()` will now raise `discord.ClientException` rather than `RuntimeError` when a cog with the same name is already loaded (:issue:`5600`)\n- **Core - Bot Class** - Some of the method arguments in the `Red` class have been made positional-only. See `incompatible-changes-3.5` for more information (:issue:`5600`)\n- **Core - Bot Class** - `Red.add_cog()` and `Red.remove_cog()` are now asynchronous methods (:issue:`5600`)\n- **Core - Bot Class** - ``setup()`` and ``teardown()`` functions in cog packages are now required to be asynchronous (:issue:`5600`)\n- **Core - Bot Class** - The list returned by `Red.get_owner_notification_destinations()` may now contain instances of `discord.VoiceChannel` and `discord.StageChannel` (:issue:`5709`)\n- **Core - Commands Package** - `Context.maybe_send_embed()` now raises a `ValueError` if the message's length is not between 1 and 2000 characters (:issue:`4383`, :issue:`4465`)\n- **Core - Commands Package** - Removed ``GuildConverter`` from the `redbot.core.commands.converter` namespace. Use ``discord.Guild`` or ``commands.GuildConverter`` as the converter instead (:issue:`4928`, :issue:`5433`)\n- **Core - Commands Package** - :class:`~discord.ext.commands.BadArgument` is no longer wrapped with a ``ConversionFailure`` class (:issue:`5600`)\n- **Core - Commands Package** - Some of the method arguments in the `commands.Command` and ``commands.CogMixin`` class have been made positional-only. See `incompatible-changes-3.5` for more information (:issue:`5600`)\n- **Core - Commands Package** - Removed ``commands.requires.DM_PERMS`` (:issue:`5709`)\n- **Core - Commands Package** - ``ctx.channel`` can now be a `discord.PartialMessageable` if it represents a DM channel (:issue:`5995`, :issue:`6005`)\n- **Core - Config** - Unserializable values can no longer be registered as config defaults (:issue:`5557`)\n- **Core - Config** - ``_from_id`` methods now raise a `TypeError` if the provided value is not an ``int`` (:issue:`5459`, :issue:`5564`)\n- **Core - Modlog** - `Case.message` is now a `discord.PartialMessage` unless the case object is created with `modlog.create_case()` (:issue:`4977`)\n- **Core - Modlog** - `modlog.get_modlog_channel()` may now return an instance of `discord.VoiceChannel` or `discord.StageChannel` (:issue:`5709`)\n- **Core - Modlog** - `modlog.create_case()` now raises a `ValueError` when an invalid casetype is passed (:issue:`3346`, :issue:`5386`)\n- **Core - Modlog** - `modlog.create_case()` now raises a `RuntimeError` when a bot user is passed as the ``user`` argument (:issue:`5386`)\n- **Core - Utils Package** - `redbot.core.utils.menus.menu()` now listens to both reaction add and remove events (:issue:`4517`)\n- **Core - Utils Package** - Removed ``redbot.core.utils.mod.is_allowed_by_hierarchy()`` (:issue:`4435`, :issue:`5433`)\n- **Core - Utils Package** - Removed the ``caching`` and ``safety`` modules (:issue:`5653`)\n- **Core - Utils Package** - `DEFAULT_CONTROLS`, `ALPHABET_EMOJIS`, and `NUMBER_EMOJIS` are now immutable (:issue:`5586`, :issue:`5666`)\n\nAdditions\n*********\n\n- **Core** - Added an ``on_cog_remove`` event which is dispatched when cogs are unloaded (:issue:`5570`)\n- **Core** - Added `RedTree` and general app command support (:issue:`5672`, :issue:`5992`, :issue:`6015`)\n- **Core** - Added ``redbot.core.app_commands`` package shadowing ``discord.app_commands``. We expect developers to use it instead of ``discord.app_commands`` when working with Red (:issue:`6006`)\n- **Core - App Commands Package** - Allowed setting ``red_force_enable`` in ``extras`` to ``True`` in an app command to bypass ``[p]slash enable`` (:issue:`6018`)\n- **Core - Bot Class** - Added `Red.send_interactive()` - a port of `Context.send_interactive()` that can be used with any `discord.abc.Messageable` (:issue:`5851`)\n- **Core - Bot Class** - Added `Red.enable_app_command()`, `Red.disable_app_command()`, and `Red.list_enabled_app_commands()` (:issue:`5992`)\n- **Core - Bank** - Added `redbot.core.bank.is_owner_if_bank_global()` (:issue:`3709`, :issue:`4486`)\n- **Core - Commands Package** - Added `RawUserIdConverter` (:issue:`4486`)\n- |cool| **Core - Commands Package** - Added support for hybrid commands (:issue:`5681`)\n- **Core - Commands Package** - Added `positive_int` and `finite_float` converters (:issue:`5939`, :issue:`5969`)\n- **Core - Commands Package** - Added new checks for proper permission resolution in both channels and threads: `bot_can_manage_channel()`, `bot_can_react()`, `can_manage_channel()`, `guildowner_or_can_manage_channel()`, `admin_or_can_manage_channel()`, `mod_or_can_manage_channel()` (:issue:`5600`)\n- **Core - Dependencies** - Added ``red_commons`` as a dependency (:issue:`5624`)\n- **Core - Modlog** - Added `Case.parent_channel` and `Case.parent_channel_id` (support for threads) (:issue:`5600`)\n- **Core - Utils Package** - Added `SimpleMenu`, a template view subclass (:issue:`5634`)\n- **Core - Utils Package** - Added `SetApiModal` and `SetApiView` (:issue:`5637`)\n- **Core - Utils Package** - Added new utilities for proper permissions resolution in both channels and threads: `can_user_send_messages_in()`, `can_user_manage_channel()`, `can_user_react_in()` (:issue:`5600`)\n\nChanges\n*******\n\n- |cool| **Core** - :func:`logging.getLogger()` now returns a custom logger subclass with support for ``verbose`` and ``trace`` level logging (:issue:`5613`)\n- **Core** - Added extra information to version info for dev versions of Red (:issue:`5664`)\n- **Core** - Modernized packaging-related things (:issue:`5924`)\n- **Core** - Modified `developer-guarantees`, privatizing many APIs that were not intended to be public. See `incompatible-changes-3.5` for more details (:issue:`6021`)\n- **Core - Bot Class** - `Red.ignored_channel_or_guild()` now accepts `discord.Interaction` objects (:issue:`6015`)\n- **Core - Bot Class** - The ``channel`` parameter of `Red.embed_requested()` now accepts any messageable guild channel (:issue:`5576`)\n- **Core - Bot Class** - The bot's color is now set earlier in the launch process (:issue:`5627`)\n- **Core - Bot Class** - `Red.remove_cog()` returns a `commands.Cog` instance now (:issue:`5600`)\n- **Core - Commands Package** - The `provisional <developer-guarantees-exclusions>` ``Literal`` converter has been replaced with discord.py's own `typing.Literal` implementation (:issue:`5600`)\n- **Core - Commands Package** - Added a ``join_character`` parameter to `Red.send_interactive()` and `Context.send_interactive()` to allow choosing the character messages are joined with (:issue:`5901`, :issue:`5902`)\n- **Core - Modlog** - `modlog.set_modlog_channel()` can now accept `discord.VoiceChannel` and `discord.StageChannel` (:issue:`5709`)\n- **Core - Utils Package** - `menu()` now defaults to `DEFAULT_CONTROLS` if the ``controls`` argument is not passed (:issue:`5678`)\n- **Core - Utils Package** - Removed ``bordered()`` (:issue:`5692`)\n- **Core - Utils Package** - Optimized the performance of `pagify()` to better handle large inputs (:issue:`5698`)\n- **Core - Utils Package** - ``channel`` parameter in `MessagePredicate`'s methods now accepts any `discord.abc.Messageable` (:issue:`5942`)\n- |cool| **Cogs - Dev** - Tracebacks for code ran with ``[p]eval``, ``[p]debug``, and ``[p]repl`` commands now include source lines (:issue:`5843`)\n\nFixes\n*****\n\n- **Core - Commands Package** - Fixed decorator order inconsistencies in permissions checks (:issue:`5625`)\n- **Core - Modlog** - Fixed `modlog.get_case()` and `modlog.get_all_cases()` raising a runtime error when no modlog channel is configured (:issue:`5644`, :issue:`5866`)\n- **Core - Utils Package** - Fixed an unintended `IndexError` in menus when page number is below 0 or above last page number (:issue:`5430`)\n- **Cogs - Dev** - Fixed line numbers in tracebacks (:issue:`5843`)\n- **Cogs - Dev** - ``[p]mock`` only works in servers now (:issue:`5923`, :issue:`5926`)\n\n\nDocumentation changes\n---------------------\n\nAdditions\n*********\n\n- Added `end-user-guarantees` codifying our support policy for different operating system versions (:issue:`5437`, :issue:`5677`)\n- Added a list of currently supported operating system versions and architectures (:issue:`5437`, :issue:`5677`, :issue:`5803`, :issue:`5974`, :issue:`6110`)\n- Added documentation for the `redbot.core.utils.antispam` module (:issue:`5641`)\n- |cool| Added a cog guide for the Audio cog (:issue:`5871`, :issue:`5895`)\n- Added documentation for creating app commands with Red (:issue:`6008`)\n- Added documentation listing past and future breaking changes (:issue:`5603`)\n\nChanges\n*******\n\n- Linux install guides have been updated to, if possible, use the Python versions already distributed through the official repositories (:issue:`5611`)\n\nFixes\n*****\n\n- Removed references to the ``master`` discord.py docs (:issue:`5713`)\n- Removed some duplicated references (:issue:`5782`, :issue:`5778`)\n- Fixed an inaccurate typehint in the documentation for `Config.user()` (:issue:`5790`, :issue:`5791`)\n\n----\n\nRedbot 3.4.19 (2023-04-20)\n==========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`aikaterna`, :ghuser:`Ankur391`, :ghuser:`BigPeep0doo`, :ghuser:`chasehult`, :ghuser:`Flame442`, :ghuser:`Honkertonken`, :ghuser:`Jackenmen`, :ghuser:`japandotorg`, :ghuser:`Kowlin`, :ghuser:`Kreusada`, :ghuser:`leetfin`, :ghuser:`Lioness100`, :ghuser:`ltzmax`, :ghuser:`MHLoppy`, :ghuser:`OofChair`, :ghuser:`Ryan5453`, :ghuser:`SnappyDragon64`, :ghuser:`sravan1946`, :ghuser:`TheThomanski`, :ghuser:`TrustyJAID`, :ghuser:`vertyco`, :ghuser:`Vexed01`, :ghuser:`Visne`\n\nRead before updating\n--------------------\n\n#. Information for Audio users that are using an external Lavalink instance (if you don't know what that is, you should skip this point):\n\n    Red 3.4.19 uses a new Lavalink jar that you will need to manually update from `our GitHub <https://github.com/Cog-Creators/Lavalink-Jars/releases/tag/3.7.5>`__.\n\n\nEnd-user changelog\n------------------\n\nAdditions\n*********\n\n- **Cogs - Trivia - Lists** - Added a new Music Trivia List (:issue:`5687`)\n- **Cogs - Trivia - Lists** - Added ``whosthatpokemon7`` trivia list containing Pokmon from the 7th generation (:issue:`5890`)\n- **Cogs - Trivia - Lists** - Added ``whosthatpokemon8`` trivia list containing Pokmon from the 8th generation (:issue:`5890`)\n\nChanges\n*******\n\n- **Core** - Updated the PostgreSQL driver to not depend on the execution of purposefully erroneous SQL queries (:issue:`3983`, :issue:`5855`)\n- **Core - Bot Commands** - Updated ``[p]info`` command to link to the full contributor list instead of linking to the org (:issue:`6079`)\n- **Core - Bot Commands** - Updated ``[p]invite`` command to warn the user if the bot is serverlocked (:issue:`5898`)\n- **Core - Bot Commands** - ``[p]dm`` command now uses the bot's configured embed color (:issue:`5868`)\n- |cool| **Cogs - Admin** - Role names are no longer case sensitive in ``[p]selfrole`` and its ``add`` and ``remove`` subcommands (:issue:`3853`, :issue:`3865`)\n- **Cogs - Admin** - ``[p]addrole`` and ``[p]removerole`` commands will now add an audit log reason to when applying/removing roles (:issue:`5927`)\n- **Cogs - Audio** - Updated enqueued track message to show track's album or playlist if present (:issue:`5569`)\n- **Cogs - Downloader** - Updated ``[p]findcog`` command to show both the cog and cog package name (:issue:`5443`, :issue:`5772`)\n- **Cogs - General** - Changed ``[p]serverinfo`` command to not require an update whenever a new server feature is added (:issue:`5830`, :issue:`5919`)\n- **Cogs - Mod** - Hid ``[p]movedeletedelay`` and ``[p]moveignoredchannels`` commands to prevent accidental use (:issue:`5870`)\n- **Cogs - Mod** - Updated mention spam handling to count role mentions. Such mentions are counted as a single mention (:issue:`4471`, :issue:`5388`)\n- **Cogs - Modlog** - Improved clarity of the help of the ``[p]modlogset cases`` command (:issue:`5352`)\n- **Cogs - Trivia** - Changed the validation of custom trivia lists to match the restrictions from ``[p]triviaset`` commands (:issue:`5947`, :issue:`5949`)\n- **Cogs - Trivia** - Improved error messages for schema errors in custom lists (:issue:`5947`)\n- **Cogs - Trivia** - Added JSON schema for Trivia's custom list format and allowed the usage of ``$schema`` key (:issue:`5565`)\n- **Cogs - Trivia - Lists** - Added over 30 new questions to the ``harrypotter`` trivia list (:issue:`5887`)\n- **Cogs - Trivia - Lists** - Renamed the country of Turkey to Trkiye as per the United Nations' name change (:issue:`5795`)\n- **Cogs - Trivia - Lists** - Improved the topography trivia by adding/removing correct/incorrect answers and fixing inconsistencies (:issue:`5572`)\n\nFixes\n*****\n\n- Fixed various typos across Red's codebase (:issue:`5867`, :issue:`5888`, :issue:`5977`, :issue:`5989`)\n- **Core** - Resolved an edge case in the PostgreSQL driver that made it fail to clear an entire Config scope when it had no data (:issue:`5855`)\n- **Cogs - Admin** - Fixed ``[p]selfroleset add/remove`` commands not showing the help when they're invoked with no arguments (:issue:`6084`)\n- |cool| **Cogs - Audio** - Fixed Twitch playback (:issue:`6033`)\n- |cool| **Cogs - Audio** - Fixed plain word search queries (:issue:`6033`)\n- **Cogs - Audio** - Prevented formatting from being escaped on Playlist Enqueued message (:issue:`6025`)\n- **Cogs - Audio** - Fixed command usage help for the ``[p]audioset autoplay playlist`` command (:issue:`5592`)\n- **Cogs - CustomCommands** - Fixed the documentation of ``[p]cc cooldown``'s arguments (:issue:`5914`)\n- **Cogs - Downloader** - Fixed handling of repo names containing dots (:issue:`5937`, :issue:`5938`)\n- **Cogs - General** - Fixed the URL generated by ``[p]lmgtfy`` command (:issue:`5908`, :issue:`5909`)\n- **Cogs - Mutes** - Fixed a bug where muting a member in one voice channel would unintentionally move them between other voice channels (:issue:`4993`, :issue:`5854`)\n- **Cogs - Trivia** - Fixed error handling for long file names in ``[p]triviaset custom upload`` (:issue:`5948`, :issue:`5950`)\n\n\nDeveloper changelog\n-------------------\n\nChanges\n*******\n\n- **Core** - Improved asyncio loop's exception handling to allow it to show resource warnings (:issue:`5813`)\n\nFixes\n*****\n\n- **Core - Utils Package** - Fixed `Tunnel.message_forwarder`'s handling of strings larger than 2000 characters (:issue:`5844`)\n- **Cogs - Dev** - Fixed ``__repr__()`` errors in ``[p]repl`` when referencing an instance of a class with a faulty ``__repr__()`` (:issue:`5794`)\n\n\nDocumentation changes\n---------------------\n\nAdditions\n*********\n\n- |cool| Added `a guide for making auto-restart script on Windows <autostart_windows>` using the Startup folder (:issue:`5996`)\n- |cool| Added `cog guide for Dev cog <cog_guides/dev>` (:issue:`1734`, :issue:`5869`)\n- Added ``brew shellenv`` call to shell profile in macOS install guide to ensure proper ``PATH`` setup on Apple Silicon (:issue:`5993`)\n\nChanges\n*******\n\n- |cool| Improved the format and consistency of the changelogs A LOT! (:issue:`5602`)\n- |cool| Highlights of a release are now prepended in the changelog with |cool| emoji (:issue:`5602`)\n- Merged all changelogs into a single page (:issue:`5602`)\n- Added changelogs for 3.0.1-3.1.9 releases to the documentation (:issue:`5602`)\n- Documented the ``CONFIG`` key in the Trivia List Creation Guide (:issue:`3977`, :issue:`5390`)\n- Updated Python version in ``pyenv`` instructions (:issue:`5960`)\n- Changed Windows install instructions to use python39 package rather than python3 package with a version pin (:issue:`5960`)\n- Updated the screenshot showing what intents need to be selected (:issue:`5935`, :issue:`5936`)\n- Updated bot hosting list with the new location for Contabo and addition of AlphaVPS (:issue:`5928`)\n- Updated installation URLs for Homebrew and Chocolatey (:issue:`5776`)\n- Updated the auto-restart script for Linux to only restart when there's a critical error (crash) or the restart command is ran (:issue:`5069`, :issue:`5674`)\n\n----\n\nRedbot 3.4.18 (2022-08-15)\n==========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`aikaterna`, :ghuser:`Flame442`, :ghuser:`jack1142`, :ghuser:`Kowlin`, :ghuser:`RheingoldRiver`\n\nRead before updating\n--------------------\n\n#. openSUSE Leap 15.2 is no longer supported as it has already reached its end of life.\n#. Information for Audio users that are using an external Lavalink instance (if you don't know what that is, you should skip this point):\n\n    - Red 3.4.18 uses a new Lavalink jar that you will need to manually update from `our GitHub <https://github.com/Cog-Creators/Lavalink-Jars/releases/tag/3.4.0_1350>`__.\n    - We've updated our `application.yml file <https://github.com/Cog-Creators/Red-DiscordBot/blob/3.4.18/redbot/cogs/audio/data/application.yml>`__ and you should update your instance's ``application.yml`` appropriately.\n\n\nEnd-user changelog\n------------------\n\nRemovals\n********\n\n- **Core - OS Support** - openSUSE Leap 15.2 is no longer supported as it has already reached its end of life (:issue:`5777`)\n\nFixes\n*****\n\n- |cool| **Cogs - Audio** - Addressed a cipher change that made it impossible to find tracks (:issue:`5822`)\n- **Cogs - Audio** - Fixed an issue with ``[p]llset external`` making the bot completely unresponsive when switching to an external Lavalink server (:issue:`5804`, :issue:`5828`)\n\n\nDocumentation changes\n---------------------\n\nChanges\n*******\n\n- Updated the screenshot in `bot_application_guide` to include the message content intent (:issue:`5798`)\n- Unpinned Temurin version on Windows as a fixed version is now available (:issue:`5815`)\n\n----\n\nRedbot 3.4.17 (2022-06-07)\n==========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`aikaterna`, :ghuser:`Drapersniper`, :ghuser:`Flame442`, :ghuser:`jack1142`, :ghuser:`Kowlin`, :ghuser:`Kreusada`, :ghuser:`ltzmax`, :ghuser:`matcha19`, :ghuser:`mina9999`, :ghuser:`ponte-vecchio`, :ghuser:`PredaaA`, :ghuser:`TrustyJAID`, :ghuser:`untir-l`, :ghuser:`Vexed01`\n\nRead before updating\n--------------------\n\n#. Fedora 34 is no longer supported as it has already reached its end of life.\n#. Information for Audio users that are using an external Lavalink instance (if you don't know what that is, you should skip this point):\n\n    Red 3.4.17 uses a new Lavalink jar that you will need to manually update from `our GitHub <https://github.com/Cog-Creators/Lavalink-Jars/releases/tag/3.4.0_1347>`__.\n\n\nEnd-user changelog\n------------------\n\nAdditions\n*********\n\n- **Cogs - Trivia - Lists** - Added a trivia list for the FIFA World Cup with questions based on hosts, placements, venues, continental confederations, number of participants, top goal scorers, qualification shocks, and more (:issue:`5639`)\n\nChanges\n*******\n\n- **Core - Bot Commands** - Added instructions on how to respond to the message received from ``[p]contact`` in the embed footer of the message sent to the bot owner (:issue:`5528`, :issue:`5529`)\n- **Core - Bot Commands** - Updated ``[p]servers`` command to escape Discord markdown in server names (:issue:`5696`, :issue:`5744`)\n- **Cogs - Audio** - Added timestamps to all embeds sent by Audio cog (:issue:`5632`)\n- **Cogs - Audio** - Improved handling of voice connection close codes received from Discord (:issue:`5712`)\n- |cool| **Cogs - Downloader** - Added information about the commit hash at which the cog is pinned in the output of ``[p]cog listpinned`` command (:issue:`5551`, :issue:`5563`)\n- **Cogs - General** - Updated features list in ``[p]serverinfo`` with the latest changes from Discord (:issue:`5655`)\n- **Cogs - Mod** - Updated Red's ban commands to address the breaking change that Discord made in their ban list API endpoint (:issue:`5656`)\n- **Cogs - Mutes** - Added proper error handling for VERY long durations in mute commands (:issue:`5605`)\n- **Cogs - Permissions** - Updated ``[p]permissions acl setglobal`` and ``[p]permissions acl setserver`` to allow sending the file in a follow-up message (:issue:`5473`, :issue:`5685`)\n- **Cogs - Permissions** - ``[p]permissions canrun`` now prepends an emoji to the response to better differentiate between the positive and negative results (:issue:`5711`)\n- **Cogs - Trivia** - Allowed passing ``use_spoilers`` setting in the CONFIG section of the trivia list file (:issue:`5566`)\n- **Cogs - Trivia - Lists** - Updated ``geography`` trivia list with up-to-date answers and removed questions that lack sources for their claimed answers (:issue:`5638`)\n- **Cogs - Trivia - Lists** - Updated Kazakhstan's capital city in the ``worldcapitals`` trivia list (:issue:`5598`, :issue:`5599`)\n\nRemovals\n********\n\n- **Core - OS Support** - Fedora 34 is no longer supported as it has already reached its end of life (:issue:`5701`)\n\nFixes\n*****\n\n- **Core - Bot Commands** - Fixed grammar in the ``[p]uptime`` command (:issue:`5596`)\n- **Core - Command-line Interfaces** - Fixed a bug that prevented users from changing the name and data location with ``redbot --edit`` command (:issue:`5545`, :issue:`5540`, :issue:`5541`)\n- **Core - Modlog** - Modlog's automated case creation for bans now properly checks that the guild is available before further processing (:issue:`5647`)\n- |cool| **Cogs - Audio** - Fixed plain word YT searching with ``[p]play`` and ``[p]search`` commands (:issue:`5712`)\n- |cool| **Cogs - Audio** - Fixed YT age-restricted track playback (:issue:`5712`)\n- **Cogs - Audio** - Fixed the cog not sending any Track Error message on track decoding errors (:issue:`5716`)\n- **Cogs - Audio** - Fixed the ``UnboundLocalError`` exception happening when using ``[p]playlist list`` with an empty playlist (:issue:`5378`, :issue:`5394`)\n- **Cogs - Filter** - Fixed a potential memory leak in Filter cog (:issue:`5578`)\n- **Cogs - Trivia - Lists** - Fixed spelling error in the answer to one of the questions in ``computers`` trivia list (:issue:`5587`, :issue:`5588`)\n\n\nDeveloper changelog\n-------------------\n\nChanges\n*******\n\n- **Vendored Packages** - Updated ``discord.ext.menus`` vendor (:issue:`5579`)\n\n\nDocumentation changes\n---------------------\n\nAdditions\n*********\n\n- Added CentOS Stream 9, RHEL 9, Alma Linux 9, Oracle Linux 9, and Rocky Linux 9 install guides (:issue:`5537`, :issue:`5721`)\n- Added Ubuntu 22.04 install guide (:issue:`5720`)\n\nChanges\n*******\n\n- Changed the recommended operating system for hosting Red from Ubuntu 20.04 LTS to Ubuntu 22.04 LTS (:issue:`5720`)\n- Updated Python version in ``pyenv`` and Windows instructions (:issue:`5719`)\n- Replaced install instructions for discontinued AdoptOpenJDK package with Temurin 11 package in the macOS install guide (:issue:`5718`)\n- Updated Visual Studio Build Tools version in Windows install guide (:issue:`5702`)\n- Updated systemd guide to use the absolute path to ``which`` command to avoid triggering shell aliases on some OSes (:issue:`5547`)\n- Emphasized lines that contain text that needs to be replaced by the user (:issue:`5548`)\n- Prevented Google and other search engines from indexing versioned documentation (:issue:`5549`)\n\nFixes\n*****\n\n- Pinned Temurin version on Windows until a fixed version becomes available (:issue:`5717`)\n- Fixed git installation instructions in CentOS 7 install guide (:issue:`5700`)\n\n----\n\nRedbot 3.4.16 (2021-12-31)\n==========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`jack1142`, :ghuser:`PredaaA`\n\nThis is a hotfix release fixing issues with invite URL API that caused\n``[p]invite`` command and ``CORE__INVITE_URL`` RPC method to not work.\n\nEnd-user changelog\n------------------\n\nFixes\n*****\n\n- **Core - Bot Commands** - Fixed ``[p]invite`` command (:issue:`5517`)\n\n\nDeveloper changelog\n-------------------\n\nFixes\n*****\n\n- **RPC methods** - Fixed ``CORE__INVITE_URL`` RPC method (:issue:`5517`)\n\n\nDocumentation changes\n---------------------\n\nChanges\n*******\n\n- Changed Arch install guide to temporarily use ``python39`` AUR package instead of ``python`` package as Red does not currently support Python 3.10 (:issue:`5518`)\n\n----\n\nRedbot 3.4.15 (2021-12-31)\n==========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`aikaterna`, :ghuser:`aleclol`, :ghuser:`Arman0334`, :ghuser:`Crossedfall`, :ghuser:`Dav-Git`, :ghuser:`fixator10`, :ghuser:`Flame442`, :ghuser:`jack1142`, :ghuser:`Jan200101`, :ghuser:`Just-Jojo`, :ghuser:`Kowlin`, :ghuser:`Kreusada`, :ghuser:`laggron42`, :ghuser:`ltzmax`, :ghuser:`Parnassius`, :ghuser:`PredaaA`, :ghuser:`Predeactor`, :ghuser:`RasmusWL`, :ghuser:`sravan1946`, :ghuser:`Stonedestroyer`, :ghuser:`the-krak3n`, :ghuser:`Tobotimus`, :ghuser:`vertyco`, :ghuser:`Vexed01`, :ghuser:`WreckRox`, :ghuser:`yamikaitou`\n\nRead before updating\n--------------------\n\n#. Fedora 33 and CentOS 8 are no longer supported as they have already reached end of life.\n#. Information for Audio users that are using an external Lavalink instance (if you don't know what that is, you should skip this point):\n\n    Red 3.4.15 uses a new Lavalink jar that you MUST manually update from `our GitHub <https://github.com/Cog-Creators/Lavalink-Jars/releases/tag/3.4.0_1275>`__ to be able to continue using Audio.\n\n\nEnd-user changelog\n------------------\n\nAdditions\n*********\n\n- |cool| **Core - Command-line Interfaces** - Added new CLI options for non-interactive usage of ``redbot-setup`` (:issue:`2396`, :issue:`5448`)\n\n    See output of ``redbot-setup --help`` for more information.\n\n- **Cogs - Admin** - Added ``[p]selfroleset clear`` command which can be used to clear the list of available selfroles in the server (:issue:`5387`)\n- **Cogs - Audio** - Added native Mac M1 support for Java runtimes supporting Mac M1 (:issue:`5474`)\n\nChanges\n*******\n\n- **Core - Bot Commands** - Updated prefix length limit to ``25`` to allow setting bot mention as a prefix (:issue:`5476`)\n- **Core - Bot Commands** - Improved ``[p]helpset showaliases`` responses (:issue:`5376`)\n- **Core - Bot Commands** - Added plural forms to the responses of ``[p]leave`` command (:issue:`5391`)\n- **Core - Bot Commands** - The embed setting for ``[p]help`` command set with ``[p]embedset command`` will now affect all help messages, not just the ones sent when invoking ``[p]help`` command directly (:issue:`5452`)\n- **Core - Bot Commands** - ``[p]traceback`` command now indicates that it DMed the command caller with a tick reaction (:issue:`5353`)\n- **Core - Command-line Interfaces** - JSON is now more strongly recommended and is used by default for new instances in ``redbot-setup`` (:issue:`5448`)\n- **Cogs - Audio** - Enabled JDA-NAS on all system architectures which should limit stuttering/buffering issues on some machines (:issue:`5474`)\n- **Cogs - Audio** - The bot will now disconnect from the voice channel when all members are bots if the auto-disconnect setting is enabled (:issue:`5421`)\n- **Cogs - CustomCommands** - Added 2000 character limit for custom command responses to prevent Nitro users from adding longer responses than a Discord bot can send (:issue:`5499`)\n- **Cogs - Downloader** - Added repo name to the response of ``[p]findcog`` command (:issue:`5382`, :issue:`5383`)\n- **Cogs - Mod** - ``[p]voicekick`` now sends a response when the action succeeds (:issue:`5367`)\n- |cool| **Cogs - Modlog** - Added the new native Discord timestamps in ``[p]case``, ``[p]casesfor``, and ``[p]listcases`` commands (:issue:`5395`)\n\nRemovals\n********\n\n- **Core - OS Support** - Fedora 33 and CentOS 8 are no longer supported as they have already reached end of life (:issue:`5440`)\n- **Cogs - General** - Removed voice region field from ``[p]serverinfo`` command as Discord no longer provides this setting for servers (:issue:`5449`)\n\nFixes\n*****\n\n- Fixed short help for some of the commands in Core Red (:issue:`5502`)\n- Confirmation prompts (accepting \"yes/no\" or \"I agree\" as the answer) no longer wrongfully translate the answer that needs to be sent when only English answers are accepted by the bot (:issue:`5363`, :issue:`5364`, :issue:`5404`)\n- **Core - Bot Commands** - Corrected usage examples in help of ``[p]set api`` and ``[p]set api remove`` (:issue:`5444`)\n- **Core - Bot Commands** - ``[p]command enable guild`` and ``[p]command disable guild`` commands no longer error out for commands that *only* check for user permissions, not caller's roles (:issue:`5477`)\n- **Core - Command-line Interfaces** - Fixed an issue with instance backup failing for non-JSON storage backends (:issue:`5315`)\n- **Core - Command-line Interfaces** - Running Red with ``--no-instance`` CLI flag no longer fails when no instance was ever created by the user (:issue:`5415`, :issue:`5416`)\n- **Core - Modlog** - Fixed issues with rendering of modlog cases with usernames written in a right-to-left language (:issue:`5422`)\n- |cool| **Cogs - Audio** - Fixed an issue with resuming playback after changing voice channels (:issue:`5170`)\n- |cool| **Cogs - Audio** - Fixed issues with Soundcloud private playlists and mobile links (:issue:`5474`)\n- |cool| **Cogs - Audio** - Fixed searching music with some of the queries containing quotes or backslashes (:issue:`5474`)\n- |cool| **Cogs - Audio** - Fixed an exception caused by unavailable YT tracks in Mix playlists (:issue:`5474`)\n- **Cogs - Audio** - Fixed ``IndexError`` in ``[p]queue`` command which occurred when the user provides negative integer as the page number (:issue:`5429`)\n- **Cogs - Cleanup** - Restricted ``[p]cleanupset notify`` to only be invokable in server channels (:issue:`5466`)\n- **Cogs - Economy** - ``[p]economyset showsettings`` now includes configured role payday amounts (:issue:`5455`, :issue:`5457`)\n- **Cogs - Mod** - Fixed an error with ``[p]tempban`` failing to send an invite link when a server has an unset vanity URL (:issue:`5472`)\n- **Cogs - Mod** - Fixed explanations of example usage for ``[p]ban``, ``[p]kick``, and ``[p]tempban`` commands (:issue:`5372`)\n- **Cogs - Mod** - Fixed a typo in one of ``[p]unban``'s error messages (:issue:`5470`)\n- **Cogs - Warnings** - Warning actions no longer error out when the action is set to use a command that *only* checks for user permissions, not caller's roles (:issue:`5477`)\n\n\nDeveloper changelog\n-------------------\n\nAdditions\n*********\n\n- **Core - Bot Class** - Added optional ``check_permissions`` keyword-only argument to `Red.embed_requested()` which, if ``True``, will make the method also check whether the bot can send embeds in the given channel (:issue:`5452`)\n- |cool| **Core - Bot Class** - Added `Red.get_invite_url()` and `Red.is_invite_url_public()` that expose the functionality of ``[p]invite`` programmatically (:issue:`5152`, :issue:`5424`)\n- |cool| **Core - Commands Package** - Added optional ``message`` argument to `Context.tick()` and `Context.react_quietly()` which is used if adding the reaction doesn't succeed (:issue:`3359`, :issue:`4092`)\n\nChanges\n*******\n\n- **Cogs - Dev** - ``[p]mockmsg`` now allows mocking attachment-only messages (:issue:`5446`)\n- **RPC methods** - Changed the output of ``CORE__LOAD``, ``CORE__RELOAD``, and ``CORE__UNLOAD`` RPC methods to a dictionary (:issue:`5451`, :issue:`5453`)\n\n\nDocumentation changes\n---------------------\n\nAdditions\n*********\n\n- |cool| Added install guide for Alma Linux 8.4-8.x and Raspberry Pi OS 11 Bullseye (:issue:`5440`)\n- Specified that Red currently requires Python 3.8.1 - 3.9.x (:issue:`5403`)\n\nChanges\n*******\n\n- Updated the Java distribution used in the Windows install guide to Temurin - rebranded AdoptOpenJDK (:issue:`5403`)\n- Improved Mac and pyenv instructions to address common issues with load path configuration (:issue:`5356`)\n- Updated the server locations for Hetzner and Contabo in :ref:`host-list` document (:issue:`5475`)\n- Updated Python version in ``pyenv`` and Windows instructions (:issue:`5447`)\n- Removed LXC from unsupported hosting platforms as many VPS providers utilize that technology (:issue:`5351`)\n\nFixes\n*****\n\n- Removed inaccurate note from Unix install guides about install commands also being used for updating Red (:issue:`5439`)\n\n----\n\nRedbot 3.4.14 (2021-09-23)\n==========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`aikaterna`, :ghuser:`jack1142`, :ghuser:`Kowlin`, :ghuser:`L33Tech`, :ghuser:`maxbooiii`, :ghuser:`RheingoldRiver`\n\nRead before updating\n--------------------\n\n#. Versions of RHEL older than 8.4 (including 7) and versions of CentOS older than 8.4 (excluding 7) are no longer supported.\n#. Information for Audio users that are using an external Lavalink instance (if you don't know what that is, you should skip this point):\n\n    Red 3.4.14 uses a new Lavalink jar that you will need to manually update from `our GitHub <https://github.com/Cog-Creators/Lavalink-Jars/releases/tag/3.3.2.3_1239>`__.\n\n\nEnd-user changelog\n------------------\n\nAdditions\n*********\n\n- |cool| **Core - Bot Commands** - Added the new native Discord timestamp in the ``[p]uptime`` command (:issue:`5323`)\n\nChanges\n*******\n\n- **Core - Command-line Interfaces** - ``redbot-setup delete`` command no longer requires database connection if the data deletion was not requested (:issue:`5312`, :issue:`5313`)\n\nFixes\n*****\n\n- |cool| **Cogs - Audio** - Fixed intermittent 403 Forbidden errors (:issue:`5329`)\n- **Cogs - Modlog** - Fixed formatting of **Last modified at** field in Modlog cases (:issue:`5317`)\n\n\nDocumentation changes\n---------------------\n\nAdditions\n*********\n\n- |cool| Added install guide for CentOS Stream 8, Oracle Linux 8.4-8.x, and Rocky Linux 8 (:issue:`5328`)\n\nChanges\n*******\n\n- |cool| Each operating system now has a dedicated install guide (:issue:`5328`)\n- Install guides for RHEL derivatives no longer require the use of pyenv (:issue:`5328`)\n\nFixes\n*****\n\n- Fixed Raspberry Pi OS install guide (:issue:`5314`, :issue:`5328`)\n\n----\n\nRedbot 3.4.13 (2021-09-09)\n==========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`aikaterna`, :ghuser:`Arman0334`, :ghuser:`Flame442`, :ghuser:`flaree`, :ghuser:`fredster33`, :ghuser:`Injabie3`, :ghuser:`jack1142`, :ghuser:`Just-Jojo`, :ghuser:`Kowlin`, :ghuser:`Kreusada`, :ghuser:`leblancg`, :ghuser:`maxbooiii`, :ghuser:`npc203`, :ghuser:`palmtree5`, :ghuser:`phenom4n4n`, :ghuser:`PredaaA`, :ghuser:`qenu`, :ghuser:`TheDataLeek`, :ghuser:`Twentysix26`, :ghuser:`TwinDragon`, :ghuser:`Vexed01`\n\nRead before updating\n--------------------\n\n#. If you're hosting a public/big bot (>75 servers) or strive to scale your bot at that level, you should read :doc:`our stance on (privileged) intents and public bots <intents>`.\n#. Fedora 32 is no longer supported as it has already reached end of life.\n#. Information for Audio users that are using an external Lavalink instance (if you don't know what that is, you should skip this point):\n\n    Red 3.4.13 uses a new Lavalink jar that you will need to manually update from `our GitHub <https://github.com/Cog-Creators/Lavalink-Jars/releases/tag/3.3.2.3_1238>`__.\n\n\nEnd-user changelog\n------------------\n\nAdditions\n*********\n\n- |cool| **Core** - Red 3.4.13 is the first release to (finally) support Python 3.9! (:issue:`4655`, :issue:`5121`)\n- |cool| **Core - Bot Commands** - Added a new ``[p]diagnoseissues`` command to allow the bot owners to diagnose issues with various command checks with ease (:issue:`4717`, :issue:`5243`)\n\n    Since some of us are pretty excited about this feature, here's a very small teaser showing a part of what it can do:\n\n    .. figure:: https://user-images.githubusercontent.com/6032823/132610057-d6c65d67-c244-4f0b-9458-adfbe0c68cab.png\n- **Core - Bot Commands** - Added a setting for ``[p]help``'s reaction timeout (:issue:`5205`)\n\n    This can be changed with ``[p]helpset reacttimeout`` command\n- **Cogs - Alias** - Added commands for editing existing aliases (:issue:`5108`)\n- **Cogs - Audio** - Added a per-guild max volume setting (:issue:`5165`)\n\n    This can be changed with the ``[p]audioset maxvolume`` command\n- |cool| **Cogs - Cleanup** - All ``[p]cleanup`` commands will now send a notification with the number of deleted messages. The notification is deleted automatically after 5 seconds (:issue:`5218`)\n\n    This can be disabled with the ``[p]cleanupset notify`` command\n- **Cogs - Filter** - Added ``[p]filter clear`` and ``[p]filter channel clear`` commands for clearing the server's/channel's filter list (:issue:`4841`, :issue:`4981`)\n\nChanges\n*******\n\n- **Core - Bot Commands** - Revamped the ``[p]debuginfo`` to make it more useful for... You guessed it, debugging! (:issue:`4997`, :issue:`5156`)\n\n    More specifically, added information about CPU and RAM, bot's instance name and owners\n- |cool| **Core - Bot Commands** - Added the new native Discord timestamps in Modlog cases, ``[p]userinfo``, ``[p]serverinfo``, and ``[p]tempban`` (:issue:`5155`, :issue:`5241`)\n- **Core - Bot Commands** - The ``[p]invite`` command will now add a tick reaction after it DMs an invite link to the user (:issue:`5184`)\n- |cool| **Core - Command-line Interfaces** - The formatting of Red's console logs has been updated to make it more copy-paste friendly (:issue:`4868`, :issue:`5181`)\n- **Core - Command-line Interfaces** - The console error about missing Privileged Intents stands out more now (:issue:`5184`)\n- **Core - Dependencies** - Upgraded all Red's dependencies (:issue:`5121`)\n- **Cogs - Admin** - The ``[p]selfroleset add`` and ``[p]selfroleset remove`` commands can now be used to add multiple selfroles at once (:issue:`5237`, :issue:`5238`)\n- **Cogs - Audio** - ``[p]summon`` will now indicate that it has succeeded or failed to summon the bot (:issue:`5186`)\n- |cool| **Cogs - Cleanup** - The ``[p]cleanup user`` command can now be used to clean messages of a user that is no longer in the server (:issue:`5169`)\n- **Cogs - Downloader** - The dot character (``.``) can now be used in repo names. No more issues with adding repositories using the commands provided by the Cog Index! (:issue:`5214`)\n- |cool| **Cogs - Mod** - The DM message from the ``[p]tempban`` command will now include the ban reason if ``[p]modset dm`` setting is enabled (:issue:`4836`, :issue:`4837`)\n- **Cogs - Streams** - Made small optimizations in regards to stream alerts (:issue:`4968`)\n- **Cogs - Trivia** - Added schema validation of the custom trivia files (:issue:`4571`, :issue:`4659`)\n\nRemovals\n********\n\n- **Core - OS Support** - Fedora 32 is no longer supported as it has already reached end of life (:issue:`5121`)\n\nFixes\n*****\n\n- **Core - Bot Commands** - Fixed a bunch of errors related to the missing permissions and channels/messages no longer existing (:issue:`5109`, :issue:`5163`, :issue:`5172`, :issue:`5191`)\n- **Cogs - Audio** - Fixed an issue with short clips being cutoff when auto-disconnect on queue end is enabled (:issue:`5158`, :issue:`5188`)\n- |cool| **Cogs - Audio** - Fixed fetching of age-restricted tracks (:issue:`5233`)\n- |cool| **Cogs - Audio** - Fixed searching of YT Music (:issue:`5233`)\n- |cool| **Cogs - Audio** - Fixed playback from SoundCloud (:issue:`5233`)\n- **Cogs - Downloader** - Added a few missing line breaks (:issue:`5185`, :issue:`5187`)\n- **Cogs - Mod** - Fixed an error with handling of temporary ban expirations while the guild is unavailable due to Discord outage (:issue:`5173`)\n- **Cogs - Mod** - The ``[p]rename`` command will no longer permit changing nicknames of members that are not lower in the role hierarchy than the command caller (:issue:`5187`, :issue:`5211`)\n- **Cogs - Streams** - Fixed an issue with some YouTube streamers getting removed from stream alerts after a while (:issue:`5195`, :issue:`5223`)\n- |cool| **Cogs - Warnings** - 0 point warnings are, once again, allowed. (:issue:`5177`, :issue:`5178`)\n\n\nDeveloper changelog\n-------------------\n\nAdditions\n*********\n\n- |cool| **Core - Bot Class** - Added more APIs for allowlists and blocklists (:issue:`5206`)\n\n    Here's the list of the methods that were added to the ``bot`` object:\n\n        - `Red.add_to_blacklist()`\n        - `Red.remove_from_blacklist()`\n        - `Red.get_blacklist()`\n        - `Red.clear_blacklist()`\n        - `Red.add_to_whitelist()`\n        - `Red.remove_from_whitelist()`\n        - `Red.get_whitelist()`\n        - `Red.clear_whitelist()`\n- |cool| **Core - Commands Package** - Added `RelativedeltaConverter` and `parse_relativedelta` to the ``redbot.core.commands`` package (:issue:`5000`)\n\n    This converter and function return `dateutil.relativedelta.relativedelta` object that represents a relative delta.\n    In addition to regular timedelta arguments, it also accepts months and years!\n- **Core - Commands Package** - Added `CommandConverter` and `CogConverter` to the ``redbot.core.commands`` package (:issue:`5037`)\n\n\nDocumentation changes\n---------------------\n\nAdditions\n*********\n\n- Added a document about (privileged) intents and our stance regarding \"public bots\" (:issue:`5216`, :issue:`5221`)\n- |cool| Added install instructions for Debian 11 Bullseye (:issue:`5213`, :issue:`5217`)\n- Added Oracle Cloud's Always Free offering to the :ref:`host-list` (:issue:`5225`)\n\nChanges\n*******\n\n- |cool| Updated the commands in the install guide for Mac OS to work properly on Apple Silicon devices (:issue:`5234`)\n\nFixes\n*****\n\n- Fixed the examples of commands that are only available to people with the mod role (:issue:`5180`)\n- Fixed few other small issues with the documentation :) (:issue:`5048`, :issue:`5092`, :issue:`5149`, :issue:`5207`, :issue:`5209`, :issue:`5215`, :issue:`5219`, :issue:`5220`)\n\n----\n\nRedbot 3.4.12 (2021-06-17)\n==========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`aikaterna`, :ghuser:`Flame442`, :ghuser:`jack1142`, :ghuser:`Just-Jojo`, :ghuser:`Kowlin`, :ghuser:`Kreusada`, :ghuser:`npc203`, :ghuser:`PredaaA`, :ghuser:`retke`, :ghuser:`Stonedestroyer`\n\nThis is a hotfix release related to Red ceasing to use the Audio Global API service.\n\nEnd-user changelog\n------------------\n\nAdditions\n*********\n\n- **Core - Bot Commands** - ``applications.commands`` scope can now be included in the invite URL returned from ``[p]invite`` by enabling it with``[p]inviteset commandscope``\n\nChanges\n*******\n\n- **Core - Bot Commands** - ``[p]set serverprefix`` command will now prevent the user from setting a prefix with length greater than 20 characters (:issue:`5091`, :issue:`5117`)\n- **Core - Bot Commands** - ``[p]set prefix`` command will now warn the user when trying to set a prefix with length greater than 20 characters (:issue:`5091`, :issue:`5117`)\n- |cool| **Cogs - Audio** - All local caches are now enabled by default (:issue:`5140`)\n\nRemovals\n********\n\n- **Cogs - Audio** - Global API service will no longer be used in Audio and as such support for it has been removed from the cog (:issue:`5143`)\n\nFixes\n*****\n\n- **Cogs - Audio** - Updated URL of the curated playlist (:issue:`5135`)\n- **Cogs - Filter** - Fixed an edge case that caused the cog to sometimes check contents of DM messages (:issue:`5125`)\n- **Cogs - Warnings** - Prevented users from applying 0 or less points in custom warning reasons (:issue:`5119`, :issue:`5120`)\n\nDeveloper changelog\n-------------------\n\nChanges\n*******\n\n- **Cogs - Dev** - ``[p]debug`` command will now confirm the code finished running with a tick reaction (:issue:`5107`)\n\n----\n\nRedbot 3.4.11 (2021-06-12)\n==========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`jack1142`, :ghuser:`Kowlin`, :ghuser:`Onii-Chan-Discord`\n\nThis is a hotfix release fixing a crash involving guild uploaded stickers.\n\nEnd-user changelog\n------------------\n\nChanges\n*******\n\n- **Core - Dependencies** - discord.py version has been bumped to 1.7.3 (:issue:`5129`)\n\n\nDocumentation changes\n---------------------\n\nFixes\n*****\n\n- Links to the CogBoard in Red's documentation have been updated to use the new domain (:issue:`5124`)\n\n----\n\nRedbot 3.4.10 (2021-05-28)\n==========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`aikaterna`, :ghuser:`aleclol`, :ghuser:`benno1237`, :ghuser:`bobloy`, :ghuser:`BoyDownTown`, :ghuser:`Danstr5544`, :ghuser:`DeltaXWizard`, :ghuser:`Drapersniper`, :ghuser:`Fabian-Evolved`, :ghuser:`fixator10`, :ghuser:`Flame442`, :ghuser:`flaree`, :ghuser:`jack1142`, :ghuser:`Kowlin`, :ghuser:`Kreusada`, :ghuser:`Lifeismana`, :ghuser:`Obi-Wan3`, :ghuser:`OofChair`, :ghuser:`palmtree5`, :ghuser:`plofts`, :ghuser:`PredaaA`, :ghuser:`Predeactor`, :ghuser:`TrustyJAID`, :ghuser:`Vexed01`\n\nRead before updating\n--------------------\n\n#. PM2 process manager is no longer supported as it is not a viable solution due to certain parts of its behavior.\n\n    We highly recommend you to switch to one of the other supported solutions:\n        - `autostart_systemd`\n        - `autostart_mac`\n\n    If you experience any issues when trying to configure it, you can join `our discord server <https://discord.gg/red>`__ and ask in the **support** channel for help.\n#. Information for Audio users that are using an external Lavalink instance (if you don't know what that is, you should skip this point):\n\n    - Red 3.4.10 uses a new Lavalink jar that you will need to manually update from `our GitHub <https://github.com/Cog-Creators/Lavalink-Jars/releases/tag/3.3.2.3_1233>`__.\n    - We've updated our `application.yml file <https://github.com/Cog-Creators/Red-DiscordBot/blob/3.4.10/redbot/cogs/audio/data/application.yml>`__ and you should update your instance's ``application.yml`` appropriately.\n\n\nEnd-user changelog\n------------------\n\nAdditions\n*********\n\n- **Cogs - Streams** - In message template, ``{stream.display_name}`` can now be used to refer to streamer's display name (:issue:`5050`, :issue:`5066`)\n\n    - This is not always the same as ``{stream}`` which refers to the streamer's channel or username\n\nChanges\n*******\n\n- Rephrased a few strings and fixed maaaaany grammar issues and typos (:issue:`4793`, :issue:`4832`, :issue:`4955`, :issue:`4966`, :issue:`5015`, :issue:`5019`, :issue:`5029`, :issue:`5038`, :issue:`5055`, :issue:`5080`, :issue:`5081`)\n- **Cogs - Admin** - The cog will now log when it leaves a guild due to the serverlock (:issue:`5008`, :issue:`5073`)\n- **Cogs - Audio** - The ``[p]audiostats`` command can now only be used by bot owners (:issue:`5017`)\n- **Cogs - Audio** - The cog will now check whether it has speak permissions in the channel before performing any actions (:issue:`5012`)\n- **Cogs - Audio** - Improved logging in Audio cog (:issue:`5044`)\n- **Cogs - Cleanup** - Clarified that ``[p]cleanup`` commands only delete the messages from the current channel (:issue:`5070`)\n- **Cogs - Downloader** - ``[p]repo remove`` can now remove multiple repos at the same time (:issue:`4765`, :issue:`5082`)\n- **Cogs - General** - The ``[p]urban`` command will now use the default embed color of the bot (:issue:`5014`)\n- **Cogs - Modlog** - Modlog will no longer try editing the case's Discord message once it knows that it no longer exists (:issue:`4975`)\n- **Cogs - Modlog** - ``[p]modlogset resetcases`` will now ask for confirmation before proceeding (:issue:`4976`)\n- **Cogs - Streams** - - Improved logging of API errors in Streams cog (:issue:`4995`)\n\nRemovals\n********\n\n- **Cogs - Streams** - Smashcast service has been closed and for that reason we have removed support for it from the cog (:issue:`5039`, :issue:`5040`)\n\nFixes\n*****\n\n- **Core - Bot Commands** - Added missing information about the ``showaliases`` setting in ``[p]helpset showsettings`` (:issue:`4971`)\n- **Core - Bot Commands** - The help command no longer errors when it doesn't have permission to read message history and menus are enabled (:issue:`4959`, :issue:`5030`)\n- **Core - Bot Commands** - Fixed a bug in ``[p]embedset user`` that made it impossible to reset the user's embed setting (:issue:`4962`)\n- **Core - Bot Commands** - ``[p]embedset command`` and its subcommands now properly check whether any of the passed command's parents require Embed Links permission (:issue:`4962`)\n- **Core - Bot Commands** - Fixed an issue with Red reloading unrelated modules when using ``[p]load`` and ``[p]reload`` (:issue:`4956`, :issue:`4958`)\n- |cool| **Core - Command-line Interfaces** - Fixed terminal colors on Windows (:issue:`5063`)\n- **Core - Command-line Interfaces** - Fixed the ``--rich-traceback-extra-lines`` flag (:issue:`5028`)\n- **Cogs - Audio** - Fixed an issue that made it possible to remove Aikaterna's curated tracks playlist (:issue:`5018`)\n- |cool| **Cogs - Audio** - Fixed auto-resume of auto play after Lavalink restart (:issue:`5051`)\n- **Cogs - Audio** - Fixed an error with ``[p]audiostats`` caused by players not always having their connection time stored (:issue:`5046`)\n- **Cogs - Audio** - Fixed track resuming in a certain edge case (:issue:`4996`)\n- **Cogs - Audio** - Fixed an error in ``[p]audioset restart`` (:issue:`4987`)\n- **Cogs - Audio** - Fixed an issue with Audio failing when it's missing permissions to send a message in the notification channel (:issue:`4960`)\n- |cool| **Cogs - Audio** - Fixed fetching of age-restricted tracks (:issue:`5085`)\n- **Cogs - Audio** - Fixed an issue with SoundCloud URLs that ended with a slash (``/``) character (:issue:`5085`)\n- **Cogs - CustomCommands** - ``[p]customcom create simple`` no longer errors for a few specific names (:issue:`5026`, :issue:`5027`)\n- **Cogs - Downloader** - ``[p]cog install`` now properly shows the repo name rather than ``{repo.name}`` (:issue:`4954`)\n- **Cogs - Mod** - ``[p]mute`` no longer errors on muting a bot user if the ``senddm`` option is enabled (:issue:`5071`)\n- **Cogs - Mutes** - Forbidden errors during the channel mute are now handled properly in a rare edge case (:issue:`4994`)\n- |cool| **Cogs - Streams** - Fixed Picarto support (:issue:`4969`, :issue:`4970`)\n- **Cogs - Streams** - ``[p]twitchstream``, ``[p]youtubestream``, and ``[p]picarto`` commands can no longer be run in DMs (:issue:`5036`, :issue:`5035`)\n- |cool| **Cogs - Streams** - Fixed Twitch stream alerts for streams that use localized display names (:issue:`5050`, :issue:`5066`)\n- **Cogs - Streams** - The cog no longer errors when trying to delete a cached message from a channel that no longer exists (:issue:`5032`, :issue:`5031`)\n- **Cogs - Warnings** - The warn action is now taken *after* sending the warn message to the member (:issue:`4713`, :issue:`5004`)\n\n\nDeveloper changelog\n-------------------\n\nChanges\n*******\n\n- **Core - Dependencies** - Bumped discord.py to 1.7.2 (:issue:`5066`)\n- **Cogs - Dev** - ``[p]eval``, ``[p]repl``, and ``[p]debug`` commands now, in addition to ``py``, support code blocks with ``python`` syntax (:issue:`5083`)\n\nFixes\n*****\n\n- **Core - Command-line Interfaces** - The log messages shown by the global error handler will now show the trace properly for task done callbacks (:issue:`4980`)\n- **Cogs - Dev** - ``[p]eval``, ``[p]repl``, and ``[p]debug`` commands no longer fail to send very long syntax errors (:issue:`5041`)\n\n\nDocumentation changes\n---------------------\n\nAdditions\n*********\n\n- |cool| Added `a guide for making auto-restart service on Mac <autostart_mac>` (:issue:`4082`, :issue:`5020`)\n- |cool| Added `cog guide for core commands <cog_guides/core>` (:issue:`1734`, :issue:`4597`)\n- |cool| Added `cog guide for Mod cog <cog_guides/mod>` (:issue:`1734`, :issue:`4886`)\n- |cool| Added `cog guide for Modlog cog <cog_guides/modlog>` (:issue:`1734`, :issue:`4919`)\n- |cool| Added `cog guide for Mutes cog <cog_guides/mutes>` (:issue:`1734`, :issue:`4875`)\n- |cool| Added `cog guide for Permissions cog <cog_guides/permissions>` (:issue:`1734`, :issue:`4985`)\n- |cool| Added `cog guide for Reports cog <cog_guides/reports>` (:issue:`1734`, :issue:`4882`)\n- |cool| Added `cog guide for Warnings cog <cog_guides/warnings>` (:issue:`1734`, :issue:`4920`)\n- |cool| Added :ref:`a guide about Trivia list creation <guide_trivia_list_creation>` (:issue:`4595`, :issue:`5023`)\n- Added the documentation for `redbot.core.modlog.Case` (:issue:`4979`)\n- Added information on how to set the bot not to start on boot anymore to auto-restart docs (:issue:`5020`)\n\nChanges\n*******\n\n- Updated Python version in ``pyenv`` and Windows instructions (:issue:`5025`)\n- Cog creation guide now includes the ``bot`` as an argument to the cog class (:issue:`4988`)\n\nRemovals\n********\n\n- Removed PM2 guide (:issue:`4991`)\n\n----\n\nRedbot 3.4.9 (2021-04-06)\n=========================\n\nThis is a hotfix release fixing an issue with command error handling.\n\ndiscord.py version has been bumped to 1.7.1.\n\nThanks again to :ghuser:`Rapptz` for quick response on this issue.\n\n----\n\nRedbot 3.4.8 (2021-04-06)\n=========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`6days9weeks`, :ghuser:`aikaterna`, :ghuser:`Drapersniper`, :ghuser:`fixator10`, :ghuser:`Flame442`, :ghuser:`flaree`, :ghuser:`jack1142`, :ghuser:`kingslayer268`, :ghuser:`Kowlin`, :ghuser:`Kreusada`, :ghuser:`Obi-Wan3`, :ghuser:`OofChair`, :ghuser:`palmtree5`, :ghuser:`phenom4n4n`, :ghuser:`PredaaA`, :ghuser:`Predeactor`, :ghuser:`rijusougata13`, :ghuser:`TheDiscordHistorian`, :ghuser:`Tobotimus`, :ghuser:`TrustyJAID`, :ghuser:`Twentysix26`, :ghuser:`Vexed01`\n\nRead before updating\n--------------------\n\n#. Information for Audio users that are using an external Lavalink instance (if you don't know what that is, you should skip this point):\n\n    Red 3.4.8 uses a new Lavalink jar that you will need to manually update from `our GitHub <https://github.com/Cog-Creators/Lavalink-Jars/releases/tag/3.3.2.3_1212>`__.\n\n#. Fedora 31 and OpenSUSE Leap 15.1 are no longer supported as they have already reached end of life.\n\n\nEnd-user changelog\n------------------\n\nAdditions\n*********\n\n- |cool| **Core** - Added per-command embed settings (:issue:`4049`)\n\n    - See help of ``[p]embedset`` and ``[p]embedset command`` command group for more information\n- **Core** - An error message will now be shown when a command that is only available in NSFW channels is used in a non-NSFW channel (:issue:`4933`)\n- |cool| **Core - Bot Commands** - ``[p]leave`` accepts server IDs now (:issue:`4831`)\n- |cool| **Cogs - Trivia** - Added a new option for hiding the answer to the Trivia answer in a spoiler (:issue:`4700`, :issue:`4877`)\n\n    - ``[p]triviaset usespoilers`` command can be used to enable/disable this option\n\nChanges\n*******\n\n- |cool| **Core - Bot Commands** - The ``[p]servers`` command uses menus now (:issue:`4720`, :issue:`4831`)\n- |cool| **Core - Bot Commands** - Commands for listing global and local allowlists and blocklists will now, in addition to IDs, contain user/role names (:issue:`4839`)\n- **Core - Bot Commands** - Added more singular and plural forms in a bunch of commands in the bot (:issue:`4004`, :issue:`4898`)\n- |cool| **Core - Command-line Interfaces** - Added a progress bar to ``redbot-setup convert`` (:issue:`2952`)\n- **Cogs - Audio** - Improved playlist extraction (:issue:`4932`)\n- |cool| **Cogs - Cleanup** - ``[p]cleanup before`` and ``[p]cleanup after`` commands can now be used without a message ID if the invocation message replies to some message (:issue:`4790`)\n- **Cogs - Filter** - Added meaningful error messages for incorrect arguments in the ``[p]bank set`` command (:issue:`4789`, :issue:`4801`)\n- **Cogs - Mod** - Improved performance of checking tempban expirations (:issue:`4907`)\n- **Cogs - Mutes** - Vastly improved performance of automatic unmute handling (:issue:`4906`)\n- **Cogs - Streams** - Streams cog should now load faster on bots that have many stream alerts set up (:issue:`4731`, :issue:`4742`)\n- **Cogs - Streams** - Checking Twitch streams will now make less API calls (:issue:`4938`)\n- **Cogs - Streams** - Ratelimits from Twitch API are now properly handled (:issue:`4808`, :issue:`4883`)\n- **Cogs - Warnings** - Embeds now use the default embed color of the bot (:issue:`4878`)\n\nRemovals\n********\n\n- **Core - Command-line Interfaces** - Removed the option to drop the entire PostgreSQL database in ``redbot-setup delete`` due to limitations of PostgreSQL (:issue:`3699`, :issue:`3833`)\n\nFixes\n*****\n\n- |cool| **Core** - Messages sent interactively in DM channels no longer fail (:issue:`4876`)\n- **Core - Help** - Fixed how the command signature is shown in help for subcommands that have group args (:issue:`4928`)\n- **Cogs - Alias** - Fixed issues with command aliases for commands that take an arbitrary, but non-zero, number of arguments (e.g. ``[p]load``) (:issue:`4766`, :issue:`4871`)\n- |cool| **Cogs - Audio** - Fixed stuttering (:issue:`4565`)\n- |cool| **Cogs - Audio** - Fixed random disconnects (:issue:`4565`)\n- |cool| **Cogs - Audio** - Fixed the issues causing the player to be stuck on 00:00 (:issue:`4565`)\n- |cool| **Cogs - Audio** - Fixed ghost players (:issue:`4565`)\n- |cool| **Cogs - Audio** - Audio will no longer stop playing after a while (:issue:`4565`)\n- **Cogs - Audio** - Fixed playlist loading for playlists with over 100 songs (:issue:`4932`)\n- **Cogs - Audio** - Fixed an issue with alerts causing errors in playlists being loaded (:issue:`4932`)\n- **Cogs - Audio** - Fixed an issue with consent pages appearing while trying to load songs or playlists (:issue:`4932`)\n- **Cogs - Downloader** - Improved compatibility with Git 2.31 and newer (:issue:`4897`)\n- **Cogs - Mod** - Fixed tracking of nicknames that were set just before nick reset (:issue:`4830`)\n- **Cogs - Streams** - Fixed possible memory leak related to automatic message deletion (:issue:`4731`, :issue:`4742`)\n- **Cogs - Streams** - Streamer accounts that no longer exist are now properly handled (:issue:`4735`, :issue:`4746`)\n- **Cogs - Streams** - Fixed stream alerts being sent even after unloading Streams cog (:issue:`4940`)\n- **Cogs - Warnings** - Fixed output of ``[p]warnings`` command for members that are no longer in the server (:issue:`4900`, :issue:`4904`)\n\n\nDeveloper changelog\n-------------------\n\nChanges\n*******\n\n- **Core - Dependencies** - Bumped discord.py version to 1.7.0 (:issue:`4928`)\n\nDeprecations\n************\n\n- **Core - Bot Class** - Added ``guild`` parameter to `bot.allowed_by_whitelist_blacklist() <Red.allowed_by_whitelist_blacklist()>` which is meant to replace the deprecated ``guild_id`` parameter (:issue:`4905`, :issue:`4914`)\n\n    - Read the method's documentation for more information\n- **Core - Commands Package** - Deprecated importing ``GuildConverter`` from ``redbot.core.commands.converter`` namespace (:issue:`4928`)\n\n    - ``discord.Guild`` or ``GuildConverter`` from ``redbot.core.commands`` should be used instead\n\nFixes\n*****\n\n- **Core - Bot Class** - Fixed ``on_red_api_tokens_update`` not being dispatched when the tokens were removed with ``[p]set api remove`` (:issue:`4916`, :issue:`4917`)\n\n\nDocumentation changes\n---------------------\n\nAdditions\n*********\n\n- |cool| Added `cog guide for Image cog <cog_guides/image>` (:issue:`4821`)\n\nChanges\n*******\n\n- Added a note about updating cogs in update message and documentation (:issue:`4910`)\n- `getting-started` now contains an explanation of parameters that can take an arbitrary number of arguments (:issue:`4888`, :issue:`4889`)\n- All shell commands in the documentation are now prefixed with an unselectable prompt (:issue:`4908`)\n- `systemd-service-guide` now asks the user to create the new service file using ``nano`` text editor (:issue:`4869`, :issue:`4870`)\n\n    - Instructions for all Linux-based operating systems now recommend to install ``nano``\n- Updated Python version in ``pyenv`` and Windows instructions (:issue:`4864`, :issue:`4942`)\n- Added a warning to Arch Linux install guide about the instructions being out-of-date (:issue:`4866`)\n\nFixes\n*****\n\n- Updated Mac install guide with new ``brew`` commands (:issue:`4865`)\n\n----\n\nRedbot 3.4.7 (2021-02-26)\n=========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`elijabesu`, :ghuser:`Flame442`, :ghuser:`flaree`, :ghuser:`jack1142`, :ghuser:`Kowlin`, :ghuser:`kreusada`, :ghuser:`palmtree5`, :ghuser:`TrustyJAID`\n\nEnd-user changelog\n------------------\n\nSecurity\n********\n\n- **Cogs - Mutes** - Added proper permission checks to ``[p]muteset senddm`` and ``[p]muteset showmoderator`` (:issue:`4849`)\n\nChanges\n*******\n\n- **Core - Bot Commands** - Updated the ``[p]info`` command to more clearly indicate that the instance is owned by a team (:issue:`4851`)\n\nFixes\n*****\n\n- **Cogs - General** - Updated the ``[p]lmgtfy`` command to use the new domain (:issue:`4840`)\n- **Cogs - Mutes** - Fixed minor issues with error messages in Mutes cog (:issue:`4847`, :issue:`4850`, :issue:`4853`)\n\n\nDocumentation changes\n---------------------\n\nAdditions\n*********\n\n- |cool| Added `cog guide for General cog <cog_guides/general>` (:issue:`4797`)\n- |cool| Added `cog guide for Trivia cog <cog_guides/trivia>` (:issue:`4566`)\n\n----\n\nRedbot 3.4.6 (2021-02-16)\n=========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`aikaterna`, :ghuser:`aleclol`, :ghuser:`Andeeeee`, :ghuser:`bobloy`, :ghuser:`BreezeQS`, :ghuser:`Danstr5544`, :ghuser:`Dav-Git`, :ghuser:`Elysweyr`, :ghuser:`Fabian-Evolved`, :ghuser:`fixator10`, :ghuser:`Flame442`, :ghuser:`Injabie3`, :ghuser:`jack1142`, :ghuser:`Kowlin`, :ghuser:`kreusada`, :ghuser:`leblancg`, :ghuser:`maxbooiii`, :ghuser:`NeuroAssassin`, :ghuser:`phenom4n4n`, :ghuser:`PredaaA`, :ghuser:`Predeactor`, :ghuser:`retke`, :ghuser:`siu3334`, :ghuser:`Strafee`, :ghuser:`TheWyn`, :ghuser:`TrustyJAID`, :ghuser:`Vexed01`, :ghuser:`yamikaitou`\n\nRead before updating\n--------------------\n\n#. Information for Audio users that are using an external Lavalink instance (if you don't know what that is, you should skip this point):\n\n    Red 3.4.6 uses a new Lavalink jar that you will need to manually update from `our GitHub <https://github.com/Cog-Creators/Lavalink-Jars/releases/tag/3.3.2.3_1199>`__.\n\n\nEnd-user changelog\n------------------\n\nSecurity\n********\n\n- **Cogs - Mutes** - Added more role hierarchy checks to ensure permission escalations cannot occur on servers with a careless configuration (:issue:`4741`)\n\nAdditions\n*********\n\n- |cool| **Core - Help** - Help now includes command aliases in the command help (:issue:`3040`)\n\n    - This can be disabled with ``[p]helpset showaliases`` command\n- **Cogs - Mod** - Added two new settings for disabling username and nickname tracking (:issue:`4799`)\n\n    - Added a command ``[p]modset trackallnames`` that disables username tracking and overrides the nickname tracking setting for all guilds\n    - Added a command ``[p]modset tracknicknames`` that disables nickname tracking in a specific guild\n- **Cogs - Mod** - Added a command ``[p]modset deletenames`` that deletes all stored usernames and nicknames (:issue:`4827`)\n- **Cogs - Modlog** - Added a command ``[p]listcases`` that allows you to see multiple cases for a user at once (:issue:`4426`)\n- |cool| **Cogs - Mutes** - A DM can now be sent to the (un)muted user on mute and unmute (:issue:`3752`, :issue:`4563`)\n\n    - Added ``[p]muteset senddm`` to set whether the DM should be sent (function disabled by default)\n    - Added ``[p]muteset showmoderator`` to set whether the DM sent to the user should include the name of the moderator that muted the user (function disabled by default)\n- **Cogs - Trivia - Lists** - Added new Who's That Pokmon - Gen. VI trivia list (:issue:`4785`)\n\nChanges\n*******\n\n- **Core - Bot Commands** - Added a friendly error message to ``[p]load`` that is shown when trying to load a cog with a command name that is already taken by a different cog (:issue:`3870`)\n- |cool| **Core - Command-line Interfaces** - Improvements and fixes for our new (colorful) logging (:issue:`4702`, :issue:`4726`)\n\n    - The colors used have been adjusted to be readable on many more terminal applications\n    - The ``NO_COLOR`` environment variable can now be set to forcefully disable all colors in the console output\n    - Tracebacks will now use the full width of the terminal again\n    - Tracebacks no longer contain multiple lines per stack level (this can now be changed with the flag ``--rich-traceback-extra-lines``)\n    - Disabled syntax highlighting on the log messages\n    - Dev cog no longer captures logging output\n    - Added some cool features for developers\n\n        - Added the flag ``--rich-traceback-extra-lines`` which can be used to set the number of additional lines in tracebacks\n        - Added the flag ``--rich-traceback-show-locals`` which enables showing local variables in tracebacks\n\n    - Improved and fixed a few other minor things\n- **Core - Dependencies** - Red's dependencies have been bumped (:issue:`4572`)\n- **Cogs - Admin** - ``[p]selfrole`` can now be used without a subcommand and passed with a selfrole directly to add/remove it from the user running the command (:issue:`4826`)\n- **Cogs - Audio** - Improved detection of embed players for fallback on age-restricted YT tracks (:issue:`4818`, :issue:`4819`)\n- **Cogs - Audio** - Improved MP4/AAC decoding (:issue:`4818`, :issue:`4819`)\n- **Cogs - Audio** - Requests for YT tracks are now retried if the initial request causes a connection reset (:issue:`4818`, :issue:`4819`)\n- **Cogs - Cleanup** - Renamed the ``[p]cleanup spam`` command to ``[p]cleanup duplicates``, with the old name kept as an alias for the time being (:issue:`4814`)\n- **Cogs - Economy** - ``[p]economyset rolepaydayamount`` can now remove the previously set payday amount (:issue:`4661`, :issue:`4758`)\n- **Cogs - Filter** - Added a case type ``filterhit`` which is used to log filter hits (:issue:`4676`, :issue:`4739`)\n- **Cogs - Mod** - Added usage examples to ``[p]kick``, ``[p]ban``, ``[p]massban``, and ``[p]tempban`` (:issue:`4712`, :issue:`4715`)\n- **Cogs - Mod** - Updated DM on kick/ban to use bot's default embed color (:issue:`4822`)\n- **Cogs - Modlog** - Added typing indicator to ``[p]casesfor`` command (:issue:`4426`)\n- **Cogs - Reports** - Reports now use the default embed color of the bot (:issue:`4800`)\n- **Cogs - Trivia** - Payout for trivia sessions ending in a tie now gets split between all the players with the highest score (:issue:`3931`, :issue:`4649`)\n- **Cogs - Trivia - Lists** - Updated answers regarding some of the hero's health and abilities in the ``overwatch`` trivia list (:issue:`4805`)\n\nFixes\n*****\n\n- Various grammar fixes (:issue:`4705`, :issue:`4748`, :issue:`4750`, :issue:`4763`, :issue:`4788`, :issue:`4792`, :issue:`4810`)\n- **Core - Bot Commands** - Fixed command usage in the help messages for few commands in Red (:issue:`4599`, :issue:`4733`)\n- **Core - Bot Commands** - Fixed errors in ``[p]command defaultdisablecog`` and ``[p]command defaultenablecog`` commands (:issue:`4767`, :issue:`4768`)\n- **Core - Bot Commands** - ``[p]command listdisabled guild`` can no longer be run in DMs (:issue:`4771`, :issue:`4772`)\n- |cool| **Core - Command-line Interfaces** - Fixed the rotation of Red's logs that could before result in big disk usage (:issue:`4405`, :issue:`4738`)\n- **Core - Command-line Interfaces** - Fixed errors appearing when using Ctrl+C to interrupt ``redbot --edit`` (:issue:`3777`, :issue:`4572`)\n- **Cogs - Cleanup** - Fixed an error from passing an overly large integer as a message ID to ``[p]cleanup after`` and ``[p]cleanup before`` (:issue:`4791`)\n- **Cogs - Mod** - The ``[p]tempban`` command no longer errors out when trying to ban a user in a guild with the vanity url feature that doesn't have a vanity url set (:issue:`4714`)\n- **Cogs - Mod** - Fixed an edge case in role hierarchy checks (:issue:`4740`)\n- **Cogs - Mutes** - Fixed an edge case in role hierarchy checks (:issue:`4740`)\n- **Cogs - Mutes** - The modlog reason no longer contains leading whitespace when it's passed *after* the mute time (:issue:`4749`)\n- **Cogs - Mutes** - Help descriptions of the cog and its commands now get translated properly (:issue:`4815`)\n- **Cogs - Streams** - Fixed incorrect timezone offsets for some YouTube stream schedules (:issue:`4693`, :issue:`4694`)\n- **Cogs - Streams** - Fixed meaningless errors happening when the YouTube API key becomes invalid or when the YouTube quota is exceeded (:issue:`4745`)\n\n\nDeveloper changelog\n-------------------\n\nAdditions\n*********\n\n- **Core - Bot Class** - Added an event ``on_red_before_identify`` that is dispatched before IDENTIFYing a session (:issue:`4647`)\n- **Core - Utils Package** - Added a function `redbot.core.utils.chat_formatting.spoiler()` that wraps the given text in a spoiler (:issue:`4754`)\n- |cool| **Cogs - Dev** - Cogs can now add their own variables to the environment of ``[p]debug``, ``[p]eval``, and ``[p]repl`` commands (:issue:`4667`)\n\n    - Variables can be added and removed from the environment of Dev cog using two new methods:\n\n        - `bot.add_dev_env_value() <Red.add_dev_env_value()>`\n        - `bot.remove_dev_env_value() <Red.remove_dev_env_value()>`\n\nChanges\n*******\n\n- **Core - Dependencies** - Updated versions of the libraries used in Red: discord.py to 1.6.0, aiohttp to 3.7.3 (:issue:`4728`)\n\nFixes\n*****\n\n- **Cogs - Dev** - Help descriptions of the cog and its commands now get translated properly (:issue:`4815`)\n\nDocumentation changes\n---------------------\n\nAdditions\n*********\n\n- |cool| Added `cog guide for Filter cog <cog_guides/filter>` (:issue:`4579`)\n\nChanges\n*******\n\n- Added information about the Red Index to `guide_publish_cogs` (:issue:`4778`)\n- Restructured the host list (:issue:`4710`)\n- Clarified how to use pm2 with ``pyenv virtualenv`` (:issue:`4709`)\n- Updated Python version in ``pyenv`` and Windows instructions (:issue:`4770`)\n\nFixes\n*****\n\n- Updated the pip command for Red with the postgres extra in Linux/macOS install guide to work on zsh shell (:issue:`4697`)\n\n----\n\nRedbot 3.4.5 (2020-12-24)\n=========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`Injabie3`, :ghuser:`NeuroAssassin`\n\nThis is a hotfix release fixing an issue with Streams cog failing to load.\n\nEnd-user changelog\n------------------\n\nFixes\n*****\n\n- **Cogs - Streams** - Fixed Streams failing to load and work properly (:issue:`4687`, :issue:`4688`)\n\n----\n\nRedbot 3.4.4 (2020-12-24)\n=========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`aikaterna`, :ghuser:`bobloy`, :ghuser:`Flame442`, :ghuser:`flaree`, :ghuser:`jack1142`, :ghuser:`Kowlin`, :ghuser:`kreus7`, :ghuser:`NeuroAssassin`, :ghuser:`npc203`, :ghuser:`palmtree5`, :ghuser:`phenom4n4n`, :ghuser:`Predeactor`, :ghuser:`retke`, :ghuser:`siu3334`, :ghuser:`Vexed01`, :ghuser:`yamikaitou`\n\nRead before updating\n--------------------\n\n#. Information for Audio users that are using an external Lavalink instance (if you don't know what that is, you should skip this point):\n\n    Red 3.4.4 uses a new Lavalink jar that you will need to manually update from `our GitHub <https://github.com/Cog-Creators/Lavalink-Jars/releases/tag/3.3.2.2_1170>`__.\n\n#. Ubuntu 16.04 is no longer supported as it will soon reach its end of life and it is no longer viable for us to maintain support for it.\n\n    While you might still be able to run Red on it, we will no longer put any resources into supporting it. If you're using Ubuntu 16.04, we highly recommend that you upgrade to the latest LTS version of Ubuntu.\n\n\nEnd-user changelog\n------------------\n\nAdditions\n*********\n\n- |cool| **Core - Command-line Interfaces** - Red's logging will now shine in your terminal more than ever (:issue:`4577`)\n- |cool| **Cogs - Streams** - YouTube stream schedules are now announced before the stream (:issue:`4615`)\n\n    - Alerts about YouTube stream schedules can be disabled with a new ``[p]streamset ignoreschedule`` command (:issue:`4615`)\n- **Cogs - Trivia - Lists** - Added ``whosthatpokemon5`` trivia list containing Pokmon from the 5th generation (:issue:`4646`)\n- **Cogs - Trivia - Lists** - Added ``geography`` trivia list (:issue:`4618`)\n\nChanges\n*******\n\n- **Core** - Added a friendly error when the duration provided to commands that use the ``commands.TimedeltaConverter`` converter is out of the maximum bounds allowed by Python interpreter (:issue:`4019`, :issue:`4628`, :issue:`4630`)\n- **Core - Bot Commands** - Improved consistency of command usage in the help messages within all commands in Core Red (:issue:`4589`)\n- **Cogs - Audio** - Added more friendly messages for 429 errors to let users know they have been temporarily banned from accessing the service instead of a generic Lavalink error (:issue:`4683`)\n- **Cogs - Audio** - Environment information will now be appended to Lavalink tracebacks in the spring.log (:issue:`4683`)\n- **Cogs - Cleanup** - ``[p]cleanup self`` will now delete the command message when the bot has permissions to do so (:issue:`4640`)\n- **Cogs - Economy** - ``[p]economyset slotmin`` and ``[p]economyset slotmax`` now warn when the new value will cause the slots command to not work (:issue:`4583`)\n- **Cogs - General** - Updated features list in ``[p]serverinfo`` with the latest changes from Discord (:issue:`4678`)\n- **Cogs - Streams** - Improved error logging (:issue:`4680`)\n\nFixes\n*****\n\n- **Core - Bot Commands** - Fixed an error when removing path from a different operating system than the bot is currently running on with ``[p]removepath`` (:issue:`2609`, :issue:`4662`, :issue:`4466`)\n- **Cogs - Audio** - Fixed ``[p]llset java`` failing to set the Java executable path (:issue:`4621`, :issue:`4624`)\n- |cool| **Cogs - Audio** - Fixed SoundCloud playback (:issue:`4683`)\n- |cool| **Cogs - Audio** - Fixed YouTube age-restricted track playback (:issue:`4683`)\n- **Cogs - Mod** - ``[p]ban`` command will no longer error out when the given reason is too long (:issue:`4187`, :issue:`4189`)\n- |cool| **Cogs - Streams** - Scheduled YouTube streams now work properly with the cog (:issue:`3691`, :issue:`4615`)\n\n\nDeveloper changelog\n-------------------\n\nAdditions\n*********\n\n- **Core - Utils Package** - `get_audit_reason()` can now be passed a ``shorten`` keyword argument which will automatically shorten the returned audit reason to fit the max length allowed by Discord audit logs (:issue:`4189`)\n- |cool| **Cogs - Dev** - Added new ``[p]bypasscooldown`` command that allows owners to bypass command cooldowns (:issue:`4440`)\n\nChanges\n*******\n\n- **Core - Bot Class** - ``bot.remove_command()`` now returns the command object of the removed command as does the equivalent method from `discord.ext.commands.Bot` class (:issue:`4636`)\n\n\nDocumentation changes\n---------------------\n\nAdditions\n*********\n\n- |cool| Added `cog guide for Downloader cog <cog_guides/downloader>` (:issue:`4511`)\n- |cool| Added `cog guide for Economy cog <cog_guides/economy>` (:issue:`4519`)\n- |cool| Added `cog guide for Streams cog <cog_guides/streams>` (:issue:`4521`)\n- Added `guide_cog_creators` document (:issue:`4637`)\n\nRemovals\n********\n\n- Removed install instructions for Ubuntu 16.04 (:issue:`4650`)\n\n----\n\nRedbot 3.4.3 (2020-11-16)\n=========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`aikaterna`, :ghuser:`bobloy`, :ghuser:`Flame442`, :ghuser:`jack1142`, :ghuser:`KianBral`, :ghuser:`maxbooiii`, :ghuser:`phenom4n4n`, :ghuser:`Predeactor`, :ghuser:`retke`\n\nRead before updating\n--------------------\n\n#. Information for Audio users that are using an external Lavalink instance (if you don't know what that is, you should skip this point):\n\n    Red 3.4.3 uses a new Lavalink jar that you will need to manually update from `our GitHub <https://github.com/Cog-Creators/Lavalink-Jars/releases/tag/3.3.1.4_1132>`__.\n\nEnd-user changelog\n------------------\n\nAdditions\n*********\n\n- **Core - Bot Commands** - Added ``[p]set competing`` command that allows users to set the bot's competing status (:issue:`4607`, :issue:`4609`)\n- |cool| **Cogs - Audio** - Added support for SoundCloud HLS streams (:issue:`4608`)\n\nChanges\n*******\n\n- **Cogs - Audio** - Improved AAC audio handling (:issue:`4608`)\n- **Cogs - Trivia** - ``[p]triviaset custom upload`` now ensures that the filename is lowercase when uploading (:issue:`4594`)\n\nFixes\n*****\n\n- **Cogs - Audio** - Volume changes on ARM systems running a 64 bit OS will now work again (:issue:`4608`)\n- |cool| **Cogs - Audio** - Fixed only 100 results being returned on a Youtube playlist (:issue:`4608`)\n- |cool| **Cogs - Audio** - Fixed YouTube VOD duration being set to unknown (:issue:`3885`, :issue:`4608`)\n- |cool| **Cogs - Audio** - Fixed some YouTube livestreams getting stuck (:issue:`4608`)\n- **Cogs - Audio** - Fixed internal Lavalink manager failing for Java with untypical version formats (:issue:`4608`)\n- **Cogs - Economy** - The ``[p]leaderboard`` command no longer fails in DMs when a global bank is used (:issue:`4569`)\n- **Cogs - Mod** - The ban reason is now properly set in the audit log and modlog when using the ``[p]massban`` command (:issue:`4575`)\n- **Cogs - Mod** - The ``[p]userinfo`` command now shows the new Competing activity (:issue:`4610`, :issue:`4611`)\n- **Cogs - Modlog** - The ``[p]case`` and ``[p]casesfor`` commands no longer fail when the bot doesn't have Read Message History permission in the modlog channel (:issue:`4587`, :issue:`4588`)\n- **Cogs - Mutes** - Fixed automatic remuting on member join for indefinite mutes (:issue:`4568`)\n\n\nDeveloper changelog\n-------------------\n\nFixes\n*****\n\n- **Core - Modlog** - ``modlog.get_case()`` and methods using it no longer raise when the bot doesn't have Read Message History permission in the modlog channel (:issue:`4587`, :issue:`4588`)\n\n\nDocumentation changes\n---------------------\n\nAdditions\n*********\n\n- |cool| Added `guide for Cog Manager UI <cogmanagerui>` (:issue:`4152`)\n- |cool| Added `cog guide for CustomCommands cog <customcommands>` (:issue:`4490`)\n\n----\n\nRedbot 3.4.2 (2020-10-28)\n=========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`aikaterna`, :ghuser:`Drapersniper`, :ghuser:`jack1142`, :ghuser:`Kowlin`, :ghuser:`PredaaA`, :ghuser:`Stonedestroyer`\n\nRead before updating\n--------------------\n\n#. Information for Audio users that are using an external Lavalink instance (if you don't know what that is, you should skip this point):\n\n    Red 3.4.2 uses a new Lavalink jar that you will need to manually update from `our GitHub <https://github.com/Cog-Creators/Lavalink-Jars/releases/tag/3.3.1.4_1128>`__.\n\nEnd-user changelog\n------------------\n\nChanges\n*******\n\n- **Core - Command-line Interfaces** - Added info about the metadata file to ``redbot --debuginfo`` (:issue:`4557`)\n- **Cogs - Audio** - Commands in ``[p]llset`` group can now be used in DMs (:issue:`4562`)\n- **Cogs - Streams** - Added error messages when exceeding the YouTube quota in the Streams cog (:issue:`4552`)\n- **Cogs - Streams** - Improved logging for unexpected errors in the Streams cog (:issue:`4552`)\n\nFixes\n*****\n\n- **Cogs - Audio** - Fixed the ``[p]local search`` command (:issue:`4553`)\n- |cool| **Cogs - Audio** - Fixed random \"Something broke when playing the track.\" errors for YouTube tracks (:issue:`4559`)\n- **Cogs - Mod** - Fixed ``[p]massban`` not working for banning members that are in the server (:issue:`4556`, :issue:`4555`)\n\n\nDocumentation changes\n---------------------\n\nAdditions\n*********\n\n- |cool| Added `cog guide for Cleanup cog <cleanup>` (:issue:`4488`)\n\nChanges\n*******\n\n- Removed multi-line commands from Linux install guides to avoid confusing readers (:issue:`4550`)\n\n----\n\nRedbot 3.4.1 (2020-10-27)\n=========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`absj30`, :ghuser:`aikaterna`, :ghuser:`bobloy`, :ghuser:`chloecormier`, :ghuser:`Dav-Git`, :ghuser:`Drapersniper`, :ghuser:`fixator10`, :ghuser:`Flame442`, :ghuser:`flaree`, :ghuser:`Generaleoley`, :ghuser:`hisztendahl`, :ghuser:`jack1142`, :ghuser:`KaiGucci`, :ghuser:`Kowlin`, :ghuser:`maxbooiii`, :ghuser:`MeatyChunks`, :ghuser:`NeuroAssassin`, :ghuser:`nfitzen`, :ghuser:`palmtree5`, :ghuser:`phenom4n4n`, :ghuser:`PredaaA`, :ghuser:`Predeactor`, :ghuser:`PythonTryHard`, :ghuser:`SharkyTheKing`, :ghuser:`Stonedestroyer`, :ghuser:`thisisjvgrace`, :ghuser:`TrustyJAID`, :ghuser:`TurnrDev`, :ghuser:`Vexed01`, :ghuser:`Vuks69`, :ghuser:`xBlynd`, :ghuser:`zephyrkul`\n\nRead before updating\n--------------------\n\n#. This release fixes a security issue in Mod cog. See `Security changelog below <important-341-2>` for more information.\n#. This Red update bumps discord.py to version 1.5.1, which explicitly requests Discord intents. Red requires all Privileged Intents to be enabled. More information can be found at :ref:`enabling-privileged-intents`.\n#. Mutes functionality has been moved from the Mod cog to a new separate cog (Mutes) featuring timed and role-based mutes. If you were using it (or want to start now), you can load the new cog with ``[p]load mutes``. You can see the full `Removals changelog below <important-341-1>`.\n#. Information for Audio users that are using an external Lavalink instance (if you don't know what that is, you should skip this point):\n\n   We've updated our `application.yml file <https://github.com/Cog-Creators/Red-DiscordBot/blob/3.4.1/redbot/cogs/audio/data/application.yml>`__ and you should update your instance's ``application.yml`` appropriately.\n   Please ensure that the WS port in Audio's settings (``[p]llset wsport``) is set to the port from the ``application.yml``.\n\nEnd-user changelog\n------------------\n\n.. _important-341-2:\n\nSecurity\n********\n\n**NOTE:** If you can't update immediately, we recommend globally disabling the affected command until you can.\n\n- **Cogs - Mod** - Fixed unauthorized privilege escalation exploit in ``[p]massban`` (also called ``[p]hackban``) command. Full security advisory `can be found on our GitHub <https://github.com/Cog-Creators/Red-DiscordBot/security/advisories/GHSA-mp9m-g7qj-6vqr>`__.\n\nAdditions\n*********\n\n- **Core - Bot Commands** - Added ``[p]set api list`` to list all currently set API services, without tokens (:issue:`4370`)\n- **Core - Bot Commands** - Added ``[p]set api remove`` to remove API services, including tokens (:issue:`4370`)\n- **Core - Bot Commands** - Added ``[p]helpset usetick``, toggling command message being ticked when help is sent to DM (:issue:`4467`, :issue:`4075`)\n- |cool| **Core - i18n** - Locales and regional formats can now be set in individual guilds using ``[p]set locale`` and ``[p]set regionalformat`` (:issue:`3896`, :issue:`1970`)\n\n    - Global locale and regional format setters have been renamed to ``[p]set globallocale`` and ``[p]set globalregionalformat``\n- **Cogs - Audio** - Added the Global Audio API, to cut down on Youtube 429 errors and allow Spotify playback past user's quota. (:issue:`4446`)\n- |cool| **Cogs - Audio** - Added persistent queues, allowing for queues to be restored on a bot restart or cog reload (:issue:`4446`)\n- **Cogs - Audio** - Added ``[p]audioset restart``, allowing for Lavalink connection to be restarted (:issue:`4446`)\n- |cool| **Cogs - Audio** - Added ``[p]audioset autodeafen``, allowing for bot to auto-deafen itself when entering voice channel (:issue:`4446`)\n- **Cogs - Audio** - Added ``[p]audioset mycountrycode``, allowing Spotify search locale per user (:issue:`4446`)\n- **Cogs - Audio** - Added ``[p]llset java``, allowing for a custom Java executable path (:issue:`4446`)\n- **Cogs - Audio** - Added ``[p]llset info`` to show Lavalink settings (:issue:`4527`)\n- **Cogs - Audio** - Added ``[p]audioset logs`` to download Lavalink logs if the Lavalink server is set to internal (:issue:`4527`)\n- **Cogs - Mod** - Added ``[p]modset mentionspam strict`` allowing for duplicated mentions to count towards the mention spam cap (:issue:`4359`)\n- |cool| **Cogs - Mod** - Added a default tempban duration for ``[p]tempban`` (:issue:`4473`, :issue:`3992`)\n- |cool| **Cogs - Mutes** - Added ``[p]muteset forcerole`` to make mutes role based, instead of permission based (:issue:`3634`)\n- |cool| **Cogs - Mutes** - Added an optional time argument to all mutes, to specify when the user should be unmuted (:issue:`3634`)\n- **Cogs - Trivia - Lists** - Added new MLB trivia list (:issue:`4455`)\n- **Cogs - Trivia - Lists** - Added new Who's That Pokmon - Gen. IV trivia list (:issue:`4434`)\n- **Cogs - Trivia - Lists** - Added new Hockey trivia list (:issue:`4384`)\n\nChanges\n*******\n\n- Replaced a few instances of Red with the bot name in command docstrings (:issue:`4470`)\n- **Core - Bot Commands** - Added a default color field to ``[p]set showsettings`` (:issue:`4498`, :issue:`4497`)\n- **Core - Bot Commands** - Added the datapath and metadata file to ``[p]debuginfo`` (:issue:`4524`)\n- **Core - Bot Commands** - Added a list of disabled intents to ``[p]debuginfo`` (:issue:`4423`)\n- **Core - Dependencies** - Bumped discord.py dependency to version 1.5.1 (:issue:`4423`)\n- **Cogs - Audio** - Removed lavalink logs from being added to backup (:issue:`4453`, :issue:`4452`)\n- **Cogs - Audio** - Removed stream durations from being in queue duration (:issue:`4513`)\n- **Cogs - Cleanup** - Allowed ``[p]cleanup self`` to work in DMs for all users (:issue:`4481`)\n- **Cogs - Economy** - Added an embed option for ``[p]leaderboard`` (:issue:`4184`, :issue:`4104`)\n- |cool| **Cogs - Mod** - Added an option to ban users not in the guild to ``[p]ban`` (:issue:`4422`, :issue:`4419`)\n- **Cogs - Mod** - Renamed ``[p]hackban`` to ``[p]massban``, keeping ``[p]hackban`` as an alias, allowing for multiple users to be banned at once (:issue:`4422`, :issue:`4419`)\n- **Cogs - Mutes** - Changed ``[p]mute`` to only handle serverwide muting, ``[p]mute voice`` and ``[p]mute channel`` have been moved to separate commands called ``[p]mutechannel`` and ``[p]mutevoice`` (:issue:`3634`)\n- |cool| **Cogs - Mutes** - Mute commands can now take multiple user arguments, to mute multiple users at a time (:issue:`3634`)\n- **Cogs - Warnings** - Added bool arguments to toggle commands to improve consistency (:issue:`4409`)\n\n.. _important-341-1:\n\nRemovals\n********\n\n- **Cogs - Mod** - Moved mutes to a separate, individual cog (:issue:`3634`)\n\nFixes\n*****\n\n- Fixed grammar in places scattered throughout bot (:issue:`4500`)\n- **Core** - Fixed an ungraceful error being raised when a bot left a guild while a menu was open (:issue:`3902`)\n- **Core - Bot Commands** - Fixed an incorrect error being reported on ``[p]set name`` when the passed name was longer than 32 characters (:issue:`4364`, :issue:`4363`)\n- **Core - Bot Commands** - Fixed ``[p]set nickname`` erroring when the passed name was longer than 32 characters (:issue:`4364`, :issue:`4363`)\n- **Core - Bot Commands** - Fixed an ungraceful error being raised when running ``[p]traceback`` with closed DMs (:issue:`4329`)\n- **Core - Bot Commands** - Fixed errors that could arise from invalid URLs in ``[p]set avatar`` (:issue:`4437`)\n- **Core - Bot Commands** - Fixed an error being raised with ``[p]set nickname`` when no nickname was provided (:issue:`4451`)\n- **Core - Bot Commands** - Fixed and clarified errors being raised with ``[p]set username`` (:issue:`4463`)\n- **Core - Bot Commands** - Fixed an ungraceful error being raised when the output of ``[p]unload`` is larger than 2k characters (:issue:`4469`)\n- **Core - Bot Commands** - Fixed an ungraceful error being raised when running ``[p]choose`` with empty options (:issue:`4499`)\n- **Core - Bot Commands** - Fixed info missing on the non-embed version of ``[p]debuginfo`` (:issue:`4524`)\n- **Core - Dependencies** - Properly define supported Python versions to be lower than 3.9 (:issue:`4538`)\n- **Cogs - Audio** - Scattered grammar and typo fixes (:issue:`4446`)\n- |cool| **Cogs - Audio** - Fixed Bandcamp playback (:issue:`4504`)\n- |cool| **Cogs - Audio** - Fixed YouTube playlist playback (:issue:`4504`)\n- |cool| **Cogs - Audio** - Fixed YouTube searching issues (:issue:`4504`)\n- |cool| **Cogs - Audio** - Fixed YouTube age restricted track playback (:issue:`4504`)\n- **Cogs - Audio** - Fixed the Audio cog not being translated when setting locale (:issue:`4492`, :issue:`4495`)\n- |cool| **Cogs - Audio** - Fixed tracks getting stuck at 0:00 after long player sessions (:issue:`4529`)\n- **Cogs - CustomCommands** - Fixed an ungraceful error being thrown on ``[p]cc edit`` (:issue:`4325`)\n- **Cogs - General** - Fixed issues with text not being properly URL encoded (:issue:`4024`)\n- **Cogs - General** - Fixed an ungraceful error occurring when a title is longer than 256 characters in ``[p]urban`` (:issue:`4474`)\n- **Cogs - General** - Changed \"boosters\" to \"boosts\" in ``[p]serverinfo`` to clarify what the number represents (:issue:`4507`)\n- **Cogs - Mod** - Fixed nicknames not being properly stored and logged (:issue:`4131`)\n- **Cogs - Mod** - Fixed plural typos in ``[p]userinfo`` (:issue:`4397`, :issue:`4379`)\n- **Cogs - Modlog** - Fixed an error being raised when running ``[p]casesfor`` and ``[p]case`` (:issue:`4415`)\n- **Cogs - Modlog** - Long reasons in Modlog are now properly shortened in message content (:issue:`4541`)\n- **Cogs - Trivia - Lists** - Fixed incorrect order of Machamp and Machoke questions (:issue:`4424`)\n- **Cogs - Warnings** - Fixed users being able to warn users above them in hierarchy (:issue:`4100`)\n\n\nDeveloper changelog\n-------------------\n\n| **Important:**\n| 1. Red now allows users to set locale per guild, which requires 3rd-party cogs to set contextual locale manually in code ran outside of command's context. See the `Additions changelog below <important-dev-341-1>` for more information.\n\n.. _important-dev-341-1:\n\nAdditions\n*********\n\n- **Core - Bot Class** - Added `bot.get_or_fetch_user() <Red.get_or_fetch_user()>` and `bot.get_or_fetch_member() <Red.get_or_fetch_member()>` methods (:issue:`4403`, :issue:`4402`)\n- **Core - Bot Class** - Added `bot.remove_shared_api_services() <Red.remove_shared_api_services()>` to remove all keys and tokens associated with an API service (:issue:`4370`)\n- **Core - Bot Class** - Added an option to return all tokens for an API service if ``service_name`` is not specified in `bot.get_shared_api_tokens() <Red.get_shared_api_tokens()>` (:issue:`4370`)\n- **Core - Dependencies** - Added ``[all]`` and ``[dev]`` extras to the ``Red-DiscordBot`` package (:issue:`4443`)\n- |cool| **Core - i18n** - Added API for setting contextual locales (:issue:`3896`, :issue:`1970`)\n\n    - New function added: `redbot.core.i18n.set_contextual_locales_from_guild()`\n    - Contextual locale is automatically set for commands and only needs to be done manually for things like event listeners; see `recommendations-for-cog-creators` for more information\n- **Core - Modlog** - Added ``last_known_username`` parameter to `modlog.create_case()` function (:issue:`4326`)\n- |cool| **Core - Utils Package** - Added `redbot.core.utils.get_end_user_data_statement()` and `redbot.core.utils.get_end_user_data_statement_or_raise()` to attempt to fetch a cog's End User Data Statement (:issue:`4404`)\n- **Core - Utils Package** - Added `redbot.core.utils.chat_formatting.quote()` to quote text in a message (:issue:`4425`)\n- |cool| **Cogs - Dev** - Added ``[p]repl pause`` to pause/resume the REPL session in the current channel (:issue:`4366`)\n- |cool| **Cogs - Downloader** - Added JSON schema files for ``info.json`` files (:issue:`4375`)\n\nChanges\n*******\n\n- **Core - Bank** - Bank API methods now consistently throw TypeError if a non-integer amount is supplied (:issue:`4376`)\n- **Core - Commands Package** - Moved ``redbot.core.checks.bot_in_a_guild()`` to `redbot.core.commands.bot_in_a_guild()` (old name has been left as an alias) (:issue:`4515`, :issue:`4510`)\n- |cool| **Core - Modlog** - Added an option to accept a ``discord.Object`` in `modlog.create_case()` (:issue:`4326`)\n\nDeprecations\n************\n\n- **Core - Utils Package** - Deprecated ``redbot.core.utils.mod.is_allowed_by_hierarchy()`` (:issue:`4435`)\n\nFixes\n*****\n\n- **Core - Modlog** - Fixed an error being raised with a deleted channel in `Case.message_content()` (:issue:`4415`)\n\n\nDocumentation changes\n---------------------\n\nAdditions\n*********\n\n- Added custom group documentation and tutorial (:issue:`4416`, :issue:`2896`)\n- Added guide to creating a Bot Application in Discord Developer Portal, with enabling intents (:issue:`4502`)\n\nChanges\n*******\n\n- Clarified that naive ``datetime`` objects will be treated as local times for parameters ``created_at`` and ``until`` in `modlog.create_case()` (:issue:`4389`)\n- Replaced the link to the approved repository list on CogBoard and references to ``cogs.red`` with a link to new Red Index (:issue:`4439`)\n- Improved documentation about arguments in command syntax (:issue:`4058`)\n\n----\n\nRedbot 3.4.0 (2020-08-17)\n=========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`Dav-Git`, :ghuser:`DevilXD`, :ghuser:`douglas-cpp`, :ghuser:`Drapersniper`, :ghuser:`flaree`, :ghuser:`jack1142`, :ghuser:`kablekompany`, :ghuser:`Kowlin`, :ghuser:`maxbooiii`, :ghuser:`MeatyChunks`, :ghuser:`mikeshardmind`, :ghuser:`NeuroAssassin`, :ghuser:`PredaaA`, :ghuser:`Predeactor`, :ghuser:`retke`, :ghuser:`SharkyTheKing`, :ghuser:`thisisjvgrace`, :ghuser:`Tinonb`, :ghuser:`TrustyJAID`, :ghuser:`Twentysix26`, :ghuser:`Vexed01`, :ghuser:`zephyrkul`\n\nRead before updating\n--------------------\n\n#. Red 3.4 comes with support for data deletion requests. Bot owners should read `red_core_data_statement` to ensure they know what information about their users is stored by the bot.\n#. Debian Stretch, Fedora 30 and lower, and OpenSUSE Leap 15.0 and lower are no longer supported as they have already reached end of life.\n#. There's been a change in behavior of ``[p]tempban``. Look at `Changes changelog for Mod cog <important-340-1>` for full details.\n#. There's been a change in behavior of announcements in Admin cog. Look at `Changes changelog for Admin cog <important-340-1>` for full details.\n#. Red 3.4 comes with breaking changes for cog developers. Look at `Developer changelog <important-340-3>` for full details.\n\nEnd-user changelog\n------------------\n\nSecurity\n********\n\n- **Cogs - Streams** - Fixed critical vulnerability that could allow remote code execution (CVE-2020-15147), see `security advisory GHSA-7257-96vg-qf6x <https://github.com/Cog-Creators/Red-DiscordBot/security/advisories/GHSA-7257-96vg-qf6x>`__ for more information (:issue:`4183`)\n\nAdditions\n*********\n\n- |cool| **Core** - Added per-guild cog disabling (:issue:`4043`, :issue:`3945`)\n\n    - Bot owners can set the default state for a cog using ``[p]command defaultdisablecog`` and ``[p]command defaultenablecog`` commands\n    - Guild owners can enable/disable cogs for their guild using ``[p]command disablecog`` and ``[p]command enablecog`` commands\n    - Cogs disabled in the guild can be listed with ``[p]command listdisabledcogs``\n- |cool| **Core** - Added support for data deletion requests; see `red_core_data_statement` for more information (:issue:`4045`)\n- **Core - Bot Commands** - Added ``[p]helpset showsettings`` command (:issue:`4013`, :issue:`4022`)\n- |cool| **Cogs - Mod** - Users can now set mention spam triggers which will warn or kick the user. See ``[p]modset mentionspam`` for more information (:issue:`3786`, :issue:`4038`)\n- **Cogs - Trivia - Lists** - Added ``whosthatpokemon2`` trivia containing Pokmons from 2nd generation (:issue:`4102`)\n- **Cogs - Trivia - Lists** - Added ``whosthatpokemon3`` trivia containing Pokmons from 3rd generation (:issue:`4141`)\n\n.. _important-340-1:\n\nChanges\n*******\n\n- ``[p]set nickname``, ``[p]set serverprefix``, ``[p]streamalert``, and ``[p]streamset`` commands now can be run by users with permissions related to the actions they're making (:issue:`4109`)\n- Updated Red's emoji usage to ensure consistent rendering accross different devices (:issue:`4106`, :issue:`4105`, :issue:`4127`)\n- **Core - Bot Commands** - ``[p]licenseinfo`` now has a 3 minute cooldown to prevent a single user from spamming channel by using it (:issue:`4110`)\n- **Core - Bot Commands** - Whitelist and blacklist are now called allowlist and blocklist. Old names have been left as aliases (:issue:`4138`)\n- **Core - Command-line Interfaces** - Red now logs clearer error if it can't find package to load in any cog path during bot startup (:issue:`4079`)\n- |cool| **Cogs - Admin** - ``[p]announce`` will now only send announcements to guilds that have explicitly configured text channel to send announcements to using ``[p]announceset channel`` command (:issue:`4088`, :issue:`4089`)\n- |cool| **Cogs - Downloader** - ``[p]cog info`` command now shows end user data statement made by the cog creator (:issue:`4169`)\n- |cool| **Cogs - Downloader** - ``[p]cog update`` command will now notify the user if cog's end user data statement has changed since last update (:issue:`4169`)\n- **Cogs - General** - Updated features list in ``[p]serverinfo`` with the latest changes from Discord (:issue:`4116`)\n- **Cogs - General** - Simple version of ``[p]serverinfo`` now shows info about more detailed ``[p]serverinfo 1`` (:issue:`4121`)\n- **Cogs - Mod** - ``[p]tempban`` now respects default days setting (``[p]modset defaultdays``) (:issue:`3993`)\n- |cool| **Cogs - Mod** - ``[p]mute voice`` and ``[p]unmute voice`` now take action instantly if bot has Move Members permission (:issue:`4064`)\n- **Cogs - Mod** - Added typing to ``[p](un)mute guild`` to indicate that mute is being processed (:issue:`4066`, :issue:`4172`)\n- **Cogs - Modlog** - Added timestamp to text version of ``[p]casesfor`` and ``[p]case`` commands (:issue:`4118`, :issue:`4137`)\n- **Cogs - Streams** - Stream alerts will no longer make roles temporarily mentionable if bot has \"Mention @everyone, @here, and All Roles\" permission in the channel (:issue:`4182`)\n- **Cogs - Streams** - Hitbox commands have been renamed to smashcast (:issue:`4161`)\n- **Cogs - Streams** - Improve error messages for invalid channel names/IDs (:issue:`4147`, :issue:`4148`)\n\nRemovals\n********\n\n- **Cogs - Streams** - Mixer service has been closed and for that reason we've removed support for it from the cog (:issue:`4072`)\n\nFixes\n*****\n\n- Fixed timestamp storage in few places in Red (:issue:`4017`)\n\n\n.. _important-340-3:\n\nDeveloper changelog\n-------------------\n\n| **Important:**\n| 1. Red now offers cog disabling API, which should be respected by 3rd-party cogs in guild-related actions happening outside of command's context. See the `Additions changelog below <important-dev-340-1>` for more information.\n| 2. Red now provides data request API, which should be supported by all 3rd-party cogs. See the changelog entries in the `Additions changelog below <important-dev-340-1>` for more information.\n\nBreaking Changes\n****************\n\n- |cool| By default, none of the ``.send()`` methods mention roles or ``@everyone/@here`` (:issue:`3845`)\n\n    - see `discord.AllowedMentions` and ``allowed_mentions`` kwarg of ``.send()`` methods, if your cog requires to mention roles or ``@everyone/@here``\n- Method/attribute names starting with ``red_`` or being in the form of ``__red_*__`` are now reserved. See `version_guarantees` for more information (:issue:`4085`)\n- Removed things past deprecation time: (:issue:`4163`)\n\n    - ``redbot.core.commands.APIToken``\n    - ``loop`` kwarg from `bounded_gather_iter()`, `bounded_gather()`, and `start_adding_reactions()`\n- **Core** - Cog package names (i.e. name of the folder the cog is in and the name used when loading the cog) now have to be `valid Python identifiers <https://docs.python.org/3/reference/lexical_analysis.html#identifiers>`__ (:issue:`3605`, :issue:`3679`)\n- **Core - Commands Package** - `Context.maybe_send_embed()` now supresses all mentions, including user mentions (:issue:`4192`)\n- **Core - Commands Package** - The default value of the ``filter`` keyword argument in `Context.send()` has been changed to ``None`` (:issue:`3845`)\n- **Core - Utils Package** - `humanize_list()` no longer raises `IndexError` for empty sequences (:issue:`2982`)\n\n.. _important-dev-340-1:\n\nAdditions\n*********\n\n- |cool| **Core** - Added cog disabling API (:issue:`4043`, :issue:`3945`)\n\n    - New methods added: `bot.cog_disabled_in_guild() <Red.cog_disabled_in_guild()>`, `bot.cog_disabled_in_guild_raw() <Red.cog_disabled_in_guild_raw()>`\n    - Cog disabling is automatically applied for commands and only needs to be done manually for things like event listeners; see `recommendations-for-cog-creators` for more information\n- |cool| **Core** - Added data request API (:issue:`4045`,  :issue:`4169`)\n\n    - New special methods added to `redbot.core.commands.Cog`: `red_get_data_for_user()` (documented `provisionally <developer-guarantees-exclusions>`), `red_delete_data_for_user()`\n    - New special module level variable added: ``__red_end_user_data_statement__``\n    - These methods and variables should be added by all cogs according to their documentation; see `recommendations-for-cog-creators` for more information\n    - New ``info.json`` key added: ``end_user_data_statement``; see `Info.json format documentation <info-json-format>` for more information\n- **Core - Bot Class** - Added `bot.message_eligible_as_command() <Red.message_eligible_as_command()>` utility method which can be used to determine if a message may be responded to as a command (:issue:`4077`)\n- |cool| **Core - Commands Package** - Added a `provisional API <developer-guarantees-exclusions>` for replacing the help formatter. See `documentation <framework-commands-help>` for more details (:issue:`4011`)\n- **Core - Commands Package** - `commands.NoParseOptional <NoParseOptional>` is no longer `provisional <developer-guarantees-exclusions>` and is now fully supported part of API (:issue:`4142`)\n\nChanges\n*******\n\n- **Core - Bot Class** - `bot.ignored_channel_or_guild() <Red.ignored_channel_or_guild()>` now accepts `discord.Message` objects (:issue:`4077`)\n- |cool| **Core - Commands Package** - Autohelp in group commands is now sent *after* invoking the group, which allows before invoke hooks to prevent autohelp from getting triggered (:issue:`4129`)\n- **Core - Utils Package** - `humanize_list()` now accepts ``locale`` and ``style`` keyword arguments. See its documentation for more information (:issue:`2982`)\n- |cool| **Core - Utils Package** - `humanize_list()` is now properly localized (:issue:`2906`, :issue:`2982`)\n- **Core - Utils Package** - `humanize_list()` now accepts empty sequences (:issue:`2982`)\n- **Core - Utils Package** - ``bordered()`` now uses ``+`` for corners if keyword argument ``ascii_border`` is set to `True` (:issue:`4097`)\n- **Vendored Packages** - Updated ``discord.ext.menus`` vendor (:issue:`4167`)\n\nFixes\n*****\n\n- **Core - Commands Package** - Red no longer fails to run subcommands of a command group allowed or denied by permission hook (:issue:`3956`)\n- **Core - RPC** - RPC functionality no longer makes Red hang for a minute on shutdown (:issue:`4134`, :issue:`4143`)\n\n\nDocumentation changes\n---------------------\n\nAdditions\n*********\n\n- |cool| Added admin user guide (:issue:`3081`)\n- |cool| Added alias user guide (:issue:`3084`)\n- |cool| Added bank user guide (:issue:`4149`)\n\nRemovals\n********\n\n- Removed install instructions for Debian Stretch (:issue:`4099`)\n\n----\n\nRedbot 3.3.12 (2020-08-18)\n==========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`Dav-Git`, :ghuser:`douglas-cpp`, :ghuser:`flaree`, :ghuser:`jack1142`, :ghuser:`Kowlin`, :ghuser:`MeatyChunks`, :ghuser:`PredaaA`, :ghuser:`Predeactor`, :ghuser:`thisisjvgrace`, :ghuser:`Vexed01`, :ghuser:`zephyrkul`\n\nEnd-user changelog\n------------------\n\nSecurity\n********\n\n- **Cogs - Streams** - Fixed critical vulnerability that could allow remote code execution (CVE-2020-15147), see `security advisory GHSA-7257-96vg-qf6x <https://github.com/Cog-Creators/Red-DiscordBot/security/advisories/GHSA-7257-96vg-qf6x>`__ for more information (:issue:`4183`)\n\nAdditions\n*********\n\n- **Cogs - Trivia - Lists** - Added ``whosthatpokemon2`` trivia containing Pokmons from 2nd generation (:issue:`4102`)\n- **Cogs - Trivia - Lists** - Added ``whosthatpokemon3`` trivia containing Pokmons from 3rd generation (:issue:`4141`)\n\nChanges\n*******\n\n- **Core - Command-line Interfaces** - Red now logs clearer error if it can't find package to load in any cog path during bot startup (:issue:`4079`)\n- **Cogs - General** - Updated features list in ``[p]serverinfo`` with the latest changes from Discord (:issue:`4116`)\n- **Cogs - General** - Simple version of ``[p]serverinfo`` now shows info about more detailed ``[p]serverinfo 1`` (:issue:`4121`)\n- **Cogs - Mod** - ``[p]mute voice`` and ``[p]unmute voice`` now take action instantly if bot has Move Members permission (:issue:`4064`)\n- **Cogs - Mod** - Added typing to ``[p](un)mute guild`` to indicate that mute is being processed (:issue:`4066`, :issue:`4172`)\n- **Cogs - Streams** - Improve error messages for invalid channel names/IDs (:issue:`4147`, :issue:`4148`)\n\n----\n\nRedbot 3.3.11 (2020-08-10)\n==========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`douglas-cpp`, :ghuser:`Drapersniper`, :ghuser:`Flame`, :ghuser:`jack1142`, :ghuser:`MeatyChunks`, :ghuser:`Vexed01`, :ghuser:`yamikaitou`\n\nEnd-user changelog\n------------------\n\nSecurity\n********\n\n- **Cogs - Trivia** - Fixed critical vulnerability that could allow remote code execution (CVE-2020-15140), see `security advisory GHSA-7257-96vg-qf6x <https://github.com/Cog-Creators/Red-DiscordBot/security/advisories/GHSA-55j9-849x-26h4>`__ for more information (:issue:`4175`)\n\nFixes\n*****\n\n- **Cogs - Audio** - Audio should now work again on all voice regions (:issue:`4162`, :issue:`4168`)\n- **Cogs - Audio** - Removed an edge case where an unfriendly error message was sent in Audio cog (:issue:`3879`)\n- **Cogs - Cleanup** - Fixed a bug causing ``[p]cleanup`` commands to clear all messages within last 2 weeks when ``0`` is passed as the amount of messages to delete (:issue:`4114`, :issue:`4115`)\n- **Cogs - CustomCommands** - ``[p]cc show`` now sends an error message when command with the provided name couldn't be found (:issue:`4108`)\n- **Cogs - Downloader** - ``[p]findcog`` no longer fails for 3rd-party cogs without any author (:issue:`4032`, :issue:`4042`)\n- **Cogs - Downloader** - Update commands no longer crash when a different repo is added under a repo name that was once used (:issue:`4086`)\n- **Cogs - Permissions** - ``[p]permissions removeserverrule`` and ``[p]permissions removeglobalrule`` no longer error when trying to remove a rule that doesn't exist (:issue:`4028`, :issue:`4036`)\n- **Cogs - Warnings** - ``[p]warn`` now sends an error message (instead of no feedback) when an unregistered reason is used by someone who doesn't have Administrator permission (:issue:`3839`, :issue:`3840`)\n\n----\n\nRedbot 3.3.10 (2020-07-09)\n==========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`aikaterna`, :ghuser:`bobloy`, :ghuser:`Dav-Git`, :ghuser:`Drapersniper`, :ghuser:`Flame442`, :ghuser:`flaree`, :ghuser:`Injabie3`, :ghuser:`jack1142`, :ghuser:`mikeshardmind`, :ghuser:`MiniJennJenn`, :ghuser:`NeuroAssassin`, :ghuser:`thisisjvgrace`, :ghuser:`Vexed01`\n\nEnd-user changelog\n------------------\n\nAdditions\n*********\n\n- **Cogs - Downloader** - Added ``[p]cog listpinned`` subcommand to see currently pinned cogs (:issue:`3974`)\n- **Cogs - Filter** - Added ``[p]filter list`` to show filtered words, and removed DMs when no subcommand was passed (:issue:`3973`)\n- **Cogs - Trivia - Lists** - Added new ``lotr`` trivia list (:issue:`3980`)\n- **Cogs - Trivia - Lists** - Added new ``r6seige`` trivia list (:issue:`4026`)\n\nChanges\n*******\n\n- **Core - Bot Commands** - Added settings view commands for nearly all cogs. (:issue:`4041`)\n- **Core - Bot Commands** - Added more strings to be fully translatable by i18n. (:issue:`4044`)\n- **Core - Bot Commands** - Clarified that ``[p]embedset user`` only affects commands executed in DMs (:issue:`3972`, :issue:`3953`)\n- **Core - Command-line Interfaces** - Red now prints a link to Getting Started guide if the bot isn't in any server (:issue:`3906`)\n- **Core - Command-line Interfaces** - Added the option of using dots in the instance name when creating your instances (:issue:`3920`)\n- **Core - Command-line Interfaces** - Added a confirmation when using hyphens in instance names to discourage the use of them (:issue:`3920`)\n- **Core - Dependencies** - Bumped the Discord.py requirement from 1.3.3 to 1.3.4 (:issue:`4053`)\n- **Cogs - Audio** - Added information about internally managed jar to ``[p]audioset info`` (:issue:`3915`)\n- **Cogs - Downloader** - Added embed version of ``[p]findcog`` (:issue:`3965`, :issue:`3944`)\n- **Cogs - Mod** - Added option to delete messages within the passed amount of days with ``[p]tempban`` (:issue:`3958`)\n- **Cogs - Mod** - Reduced the number of API calls made to the storage APIs (:issue:`3910`)\n- **Cogs - Mod** - Prevented an issue whereby the author may lock themself out of using the bot via whitelists (:issue:`3903`)\n- **Cogs - Mod** - Improved error response in ``[p]modset banmentionspam`` (:issue:`3951`, :issue:`3949`)\n- **Cogs - Modlog** - Improved error response in ``[p]modlogset modlog`` (:issue:`3951`, :issue:`3949`)\n- **Cogs - Permissions** - Uploaded YAML files now accept integer commands without quotes (:issue:`3987`, :issue:`3185`)\n- **Cogs - Permissions** - Uploaded YAML files now accept command rules with empty dictionaries (:issue:`3987`, :issue:`3961`)\n- **Cogs - Trivia - Lists** - Updated ``greekmyth`` to include more answer variations (:issue:`3970`)\n\nFixes\n*****\n\n- **Core - Bot Commands** - Fixed delayed help when ``[p]set deletedelay`` is enabled (:issue:`3884`, :issue:`3883`)\n- **Core - Bot Commands** - Fixed grammar errors and added full stops in various core commands (:issue:`4023`)\n- **Cogs - Audio** - Twitch playback and YouTube searching should be functioning again. (:issue:`4055`)\n- **Cogs - Downloader** - Fixed unnecessary typing when running downloader commands (:issue:`3964`, :issue:`3948`)\n- **Cogs - Downloader** - Fixed ``[p]findcog`` not differentiating between core cogs and local cogs(:issue:`3969`, :issue:`3966`)\n- **Cogs - Image** - Updated instructions for obtaining and setting the GIPHY API key (:issue:`3994`)\n- **Cogs - Mod** - Added the ability to permanently ban a temporarily banned user with ``[p]hackban`` (:issue:`4025`)\n- **Cogs - Mod** - Fixed the passed reason not being used when using ``[p]tempban`` (:issue:`3958`)\n- **Cogs - Mod** - Fixed invite being sent with ``[p]tempban`` even when no invite was set (:issue:`3991`)\n- **Cogs - Mod** - Fixed exceptions being ignored or not sent to log files in special cases (:issue:`3895`)\n- **Cogs - Mod** - Fixed migration owner notifications being sent even when migration was not necessary (:issue:`3911`. :issue:`3909`)\n- **Cogs - Streams** - Fixed Streams cog sending multiple owner notifications about twitch secret not set (:issue:`3901`, :issue:`3587`)\n- **Cogs - Streams** - Fixed old bearer tokens not being invalidated when the API key is updated (:issue:`3990`, :issue:`3917`)\n- **Cogs - Streams** - Fixed commands being translated where they should not be (:issue:`3938`, :issue:`3919`)\n- **Cogs - Trivia - Lists** - Fixed URLs in ``whosthatpokemon`` (:issue:`3975`, :issue:`3023`)\n- **Cogs - Trivia - Lists** - Fixed trivia files ``leagueults`` and ``sports`` (:issue:`4026`)\n\n\nDeveloper changelog\n-------------------\n\nAdditions\n*********\n\n- **Core - Utils Package** - Added the methods `map() <AsyncIter.map()>`, `find() <AsyncIter.find()>`, and `next() <AsyncIter.next()>` to `AsyncIter` (:issue:`3921`, :issue:`3887`)\n- **Vendored Packages** - Vendored the ``discord.ext.menus`` module (:issue:`4039`)\n\nChanges\n*******\n\n- **Core - Utils Package** - Added new ``discord.com`` domain to ``INVITE_URL_RE`` common filter (:issue:`4012`)\n\nDeprecations\n************\n\n- **Core - Commands Package** - Updated deprecation times for ``APIToken``, and loops being passed to various functions to the first minor release (represented by ``X`` in ``3.X.0``) after 2020-08-05 (:issue:`3608`)\n- **Cogs - Downloader** - Updated deprecation warnings for shared libs to reflect that they have been moved for an undefined time (:issue:`3608`)\n\nFixes\n*****\n\n- **Core - Utils Package** - Fixed incorrect role mention regex in `MessagePredicate` (:issue:`4030`)\n\n----\n\nRedbot 3.3.9 (2020-06-12)\n=========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`aikaterna`, :ghuser:`Dav-Git`, :ghuser:`Drapersniper`, :ghuser:`Flame442`, :ghuser:`mikeshardmind`, :ghuser:`NeuroAssassin`, :ghuser:`Predeactor`, :ghuser:`Vexed01`\n\nRead before updating\n--------------------\n\n#. Bot owners can no longer restrict access to some commands in Permissions cog using global permissions rules. Look at `Security changelog <important-339-2>` for full details.\n#. There's been a change in behavior of warning messages. Look at `Additions changelog <important-339-1>` for full details.\n\n\nEnd-user changelog\n------------------\n\n.. _important-339-2:\n\nSecurity\n********\n\n- **Cogs - Mod** - ``[p]tempban`` now properly respects Discord's hierarchy rules (:issue:`3957`)\n\n    **NOTE**: If you can't update immediately, we recommend disabling the affected command until you can.\n- **Cogs - Permissions** - **Both global and server rules** can no longer prevent guild owners from accessing commands for changing server rules. Bot owners can still use ``[p]command disable`` if they wish to completely disable any command in Permissions cog (:issue:`3955`, :issue:`3107`)\n\n  Full list of affected commands:\n\n  - ``[p]permissions acl getserver``\n  - ``[p]permissions acl setserver``\n  - ``[p]permissions acl updateserver``\n  - ``[p]permissions addserverrule``\n  - ``[p]permissions removeserverrule``\n  - ``[p]permissions setdefaultserverrule``\n  - ``[p]permissions clearserverrules``\n  - ``[p]permissions canrun``\n  - ``[p]permissions explain``\n\n.. _important-339-1:\n\nAdditions\n*********\n\n- **Cogs - Warnings** - Warnings sent to users don't show the moderator who warned the user by default now. Newly added ``[p]warningset showmoderators`` command can be used to switch this behaviour (:issue:`3781`)\n\nChanges\n*******\n\n- **Core - Bot Commands** - ``[p]info`` command can now be used when bot doesn't have Embed Links permission (:issue:`3907`, :issue:`3102`)\n- **Core - Bot Commands** - Improved instructions on obtaining user ID in help of ``[p]dm`` command (:issue:`3946`)\n- **Core - Command-line Interfaces** - Red's start up message now shows storage type (:issue:`3935`)\n- **Cogs - Alias** - ``[p]alias global`` group, ``[p]alias help``, and ``[p]alias show`` commands can now be used in DMs (:issue:`3941`, :issue:`3940`)\n- **Cogs - Bank** - ``[p]bankset`` now displays bank's scope (:issue:`3954`)\n\nFixes\n*****\n\n- Added missing help message for Downloader, Reports and Streams cogs (:issue:`3892`)\n- **Core - Bot Commands** - Fixed ungraceful error that happened in ``[p]set custominfo`` when provided text was too long (:issue:`3923`)\n- **Core - Bot Commands** - Cooldown in ``[p]contact`` no longer applies when it's used without any arguments (:issue:`3942`)\n- **Cogs - Audio** - Audio now properly ignores streams when max length is enabled (:issue:`3878`, :issue:`3877`)\n- **Cogs - Audio** - Commands that should work in DMs no longer error (:issue:`3880`)\n- **Cogs - Audio** - Fixed ``[p]audioset autoplay`` being available in DMs (:issue:`3899`)\n- **Cogs - Audio** - Typo fix (:issue:`3889`, :issue:`3900`)\n- **Cogs - Filter** - Fixed behavior of detecting quotes in commands for adding/removing filtered words (:issue:`3925`)\n- **Cogs - Mod** - Preemptive fix for d.py 1.4 (:issue:`3891`)\n- **Cogs - Warnings** - Warn channel functionality has been fixed (:issue:`3781`)\n\n\nDeveloper changelog\n-------------------\n\nAdditions\n*********\n\n- **Core - Bot Class** - Added `bot.set_prefixes() <Red.set_prefixes()>` method that allows developers to set global/server prefixes (:issue:`3890`)\n\n\nDocumentation changes\n---------------------\n\nChanges\n*******\n\n- Added Oracle Cloud to free hosting section in :ref:`host-list` (:issue:`3916`)\n\n----\n\nRedbot 3.3.8 (2020-05-29)\n=========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`aikaterna`, :ghuser:`Bakersbakebread`, :ghuser:`DariusStClair`, :ghuser:`Dav-Git`, :ghuser:`Drapersniper`, :ghuser:`Flame442`, :ghuser:`jack1142`, :ghuser:`mikeshardmind`, :ghuser:`NeuroAssassin`, :ghuser:`PredaaA`, :ghuser:`Predeactor`, :ghuser:`qaisjp`, :ghuser:`Tobotimus`\n\nEnd-user changelog\n------------------\n\nAdditions\n*********\n\n- **Cogs - Audio** - Added new option (settable with ``[p]audioset lyrics``) that makes Audio cog prefer (prioritize) tracks with lyrics (:issue:`3519`)\n- **Cogs - Audio** - Added global daily (historical) queues (:issue:`3518`)\n- **Cogs - Audio** - Added ``[p]audioset countrycode`` that allows to set the country code for spotify searches (:issue:`3528`)\n\nChanges\n*******\n\n- Few clarifications and typo fixes in few command help docstrings (:issue:`3817`, :issue:`3823`, :issue:`3837`, :issue:`3851`, :issue:`3861`)\n- **Core** - Red now includes information on how to update when sending information about being out of date (:issue:`3744`)\n- **Cogs - Alias** - ``[p]alias help`` should now work more reliably (:issue:`3864`)\n- **Cogs - Audio** - ``[p]local play`` no longer enqueues tracks from nested folders (:issue:`3528`)\n- **Cogs - Audio** - ``[p]disconnect`` now allows to disconnect if both DJ mode and voteskip aren't enabled (:issue:`3502`, :issue:`3485`)\n- **Cogs - Audio** - Many UX improvements and fixes, including, among other things:\n\n  - Creating playlists without explicitly passing ``-scope`` no longer causes errors (:issue:`3500`)\n  - ``[p]playlist list`` now shows all accessible playlists if ``--scope`` flag isn't used (:issue:`3518`)\n  - ``[p]remove`` now also accepts a track URL in addition to queue index (:issue:`3201`)\n  - ``[p]playlist upload`` now accepts a playlist file uploaded in the message with a command (:issue:`3251`)\n  - Commands now send friendly error messages for common errors like lost Lavalink connection or bot not connected to voice channel (:issue:`3503`, :issue:`3528`, :issue:`3353`, :issue:`3712`)\n- **Cogs - Mod** - ``[p]userinfo`` now shows default avatar when no avatar is set (:issue:`3819`)\n\nFixes\n*****\n\n- **Core** - Made important fixes to how PostgreSQL data backend saves data in bulks (:issue:`3829`)\n- **Core** - Using backslashes in bot's username/nickname no longer causes issues (:issue:`3826`, :issue:`3825`)\n- **Core - Bot Commands** - Fixed ``[p]localwhitelist`` and ``[p]localblacklist`` commands (:issue:`3857`)\n- **Cogs - Admin** - Fixed server lock (:issue:`3815`, :issue:`3814`)\n- **Cogs - Alias** - Added pagination to ``[p]alias list`` and ``[p]alias global list`` to avoid errors for users with a lot of aliases (:issue:`3844`, :issue:`3834`)\n- **Cogs - Audio** - Twitch playback is functional once again (:issue:`3873`)\n- **Cogs - Audio** - Recent errors with YouTube playback should be resolved (:issue:`3873`)\n- **Cogs - Audio** - Fixed ``[p]local search`` (:issue:`3528`, :issue:`3501`)\n- **Cogs - Audio** - Local folders with special characters should work properly now (:issue:`3528`, :issue:`3467`)\n- **Cogs - Audio** - Audio no longer fails to take the last spot in the voice channel with user limit (:issue:`3528`)\n- **Cogs - Audio** - Fixed ``[p]playlist dedupe`` not removing tracks (:issue:`3518`)\n- **Cogs - CustomCommands** - ``[p]customcom create`` no longer allows spaces in custom command names (:issue:`3816`)\n- **Cogs - Modlog** - Fixed (again) ``AttributeError`` for cases whose moderator doesn't share the server with the bot (:issue:`3805`, :issue:`3784`, :issue:`3778`)\n- **Cogs - Permissions** - Commands for settings ACL using yaml files now properly works on PostgreSQL data backend (:issue:`3829`, :issue:`3796`)\n- **Cogs - Warnings** - Warnings cog no longer allows to warn bot users (:issue:`3855`, :issue:`3854`)\n\n\nDeveloper changelog\n-------------------\n\n| **Important:**\n| If you're using RPC, please see the full annoucement about current state of RPC in main Red server\n  `by clicking here <https://discord.com/channels/133049272517001216/411381123101491200/714560168465137694>`__.\n\nChanges\n*******\n\n- **Core - Bot Class** - Red now inherits from `discord.ext.commands.AutoShardedBot` for better compatibility with code expecting d.py bot (:issue:`3822`)\n- **Core - Bot Class** - All bot owner IDs can now be found under ``bot.owner_ids`` attribute (:issue:`3793`)\n\n  -  Note: If you want to use this on bot startup (e.g. in cog's initialisation), you need to await ``bot.wait_until_red_ready()`` first\n\nFixes\n*****\n\n- Libraries using ``pkg_resources`` (like ``humanize`` or ``google-api-python-client``) that were installed through Downloader should now work properly (:issue:`3843`)\n- **Cogs - Downloader** - Downloader no longer removes the repo when it fails to load it (:issue:`3867`)\n\n\nDocumentation changes\n---------------------\n\nChanges\n*******\n\n- Added information about `provisional <developer-guarantees-exclusions>` status of RPC (:issue:`3862`)\n- Revised install instructions (:issue:`3847`)\n- Improved navigation in `document about updating Red <update_red>` (:issue:`3856`, :issue:`3849`)\n\n----\n\nRedbot 3.3.7 (2020-04-28)\n=========================\n\nThis is a hotfix release fixing issue with generating messages for new cases in Modlog.\n\n----\n\nRedbot 3.3.6 (2020-04-27)\n=========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`aikaterna`, :ghuser:`Drapersniper`, :ghuser:`jack1142`, :ghuser:`Kowlin`, :ghuser:`MiniJennJenn`, :ghuser:`NeuroAssassin`, :ghuser:`PredaaA`, :ghuser:`TrustyJAID`, :ghuser:`yamikaitou`\n\nEnd-user changelog\n------------------\n\nAdditions\n*********\n\n- **Core - Bot Commands** - Added ``[p]set avatar remove`` subcommand for removing bot's avatar (:issue:`3757`)\n- **Cogs - CustomCommands** - Added ``[p]cc raw`` command that gives you the raw response of a custom command for ease of copy pasting (:issue:`3795`)\n\nChanges\n*******\n\n- **Core** - Various optimizations\n\n  - Reduced calls to data backend when loading bot's commands (:issue:`3764`)\n  - Reduced calls to data backend when showing help for cogs/commands (:issue:`3766`)\n  - Improved performance for bots with big amount of guilds (:issue:`3767`)\n  - Mod cog no longer fetches guild's bans every 60 seconds when handling unbanning for tempbans (:issue:`3783`)\n  - Reduced the bot load for messages starting with a prefix when fuzzy search is disabled (:issue:`3718`)\n  - Aliases in Alias cog are now cached for better performance (:issue:`3788`)\n- **Core - Bot Commands** - ``[p]set avatar`` now supports setting avatar using attachment (:issue:`3747`)\n- **Core - Bot Commands** - ``[p]debuginfo`` now shows used storage type (:issue:`3794`)\n- **Cogs - Trivia - Lists** - Updated ``leagueoflegends`` list with new changes to League of Legends (`b8ac70e <https://github.com/Cog-Creators/Red-DiscordBot/commit/b8ac70e59aa1328f246784f14f992d6ffe00d778>`__)\n\nFixes\n*****\n\n- **Core** - Fixed big delays in commands that happened when the bot was owner-less (or if it only used co-owners feature) and command caller wasn't the owner (:issue:`3782`)\n- **Core - Bot Commands** - Fixed list of ignored channels that is shown in ``[p]ignore``/``[p]unignore`` (:issue:`3746`)\n- **Core - Command-line Interfaces** - Converting from and to Postgres driver with ``redbot-setup convert`` have been fixed (:issue:`3714`, :issue:`3115`)\n- **Cogs - Audio** - Age-restricted tracks, live streams, and mix playlists from YouTube should work in Audio again (:issue:`3791`)\n- **Cogs - Audio** - SoundCloud sets and playlists with more than 50 tracks should work in Audio again (:issue:`3791`)\n- **Cogs - Modlog** - Fixed ``AttributeError`` for cases whose moderator doesn't share the server with the bot (:issue:`3784`, :issue:`3778`)\n- **Cogs - Streams** - Fixed incorrect stream URLs for Twitch channels that have localised display name (:issue:`3773`, :issue:`3772`)\n- **Cogs - Trivia** - Fixed the error in ``[p]trivia stop`` that happened when there was no ongoing trivia session in the channel (:issue:`3774`)\n- **Cogs - Trivia - Lists** - Corrected spelling of Compact Disc in ``games`` list (:issue:`3759`, :issue:`3758`)\n\n\nDeveloper changelog\n-------------------\n\nAdditions\n*********\n\n- **Core - Utils Package** - Added `redbot.core.utils.AsyncIter` utility class which allows you to wrap regular iterable into async iterator yielding items and sleeping for ``delay`` seconds every ``steps`` items (:issue:`3767`, :issue:`3776`)\n\nChanges\n*******\n\n- **Core - Utils Package** - `bold()`, `italics()`, `strikethrough()`, and `underline()` now accept ``escape_formatting`` argument that can be used to disable escaping of markdown formatting in passed text (:issue:`3742`)\n\nFixes\n*****\n\n- **Core - Config** - JSON driver will now properly have only one lock per cog name (:issue:`3780`)\n\n\nDocumentation changes\n---------------------\n\nAdditions\n*********\n\n- Added `document about updating Red <update_red>` (:issue:`3790`)\n- Updated install docs to include Ubuntu 20.04 (:issue:`3792`)\n\nChanges\n*******\n\n- ``pyenv`` instructions will now update ``pyenv`` if it's already installed (:issue:`3740`)\n- Updated Python version in ``pyenv`` instructions (:issue:`3740`)\n\n----\n\nRedbot 3.3.5 (2020-04-09)\n=========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`jack1142`, :ghuser:`Kowlin`\n\nEnd-user changelog\n------------------\n\nChanges\n*******\n\n- **Core - Bot Commands** - \"Outdated\" field no longer shows in ``[p]info`` when Red is up-to-date (:issue:`3730`)\n\nFixes\n*****\n\n- **Cogs - Alias** - Fixed regression in ``[p]alias add`` that caused it to reject commands containing arguments (:issue:`3734`)\n\n----\n\nRedbot 3.3.4 (2020-04-05)\n=========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`jack1142`, :ghuser:`kennnyshiwa`\n\nEnd-user changelog\n------------------\n\nChanges\n*******\n\n- **Cogs - Alias** - ``[p]alias add`` now sends an error when command user tries to alias doesn't exist (:issue:`3710`, :issue:`3545`)\n\nFixes\n*****\n\n- **Core - Bot Commands** - Fixed checks related to bank's global state that were used in commands in Bank, Economy and Trivia cogs (:issue:`3707`)\n\n\nDeveloper changelog\n-------------------\n\nChanges\n*******\n\n- **Core - Dependencies** - Bump dependencies, including update to discord.py 1.3.3 (:issue:`3723`)\n- **Core - Utils Package** - `redbot.core.utils.common_filters.filter_invites` now filters ``discord.io/discord.li`` invites links (:issue:`3717`)\n\nFixes\n*****\n\n- **Core - Utils Package** - Fixed false-positives in `redbot.core.utils.common_filters.filter_invites` (:issue:`3717`)\n\n\nDocumentation changes\n---------------------\n\nChanges\n*******\n\n- Versions of pre-requirements are now included in Windows install guide (:issue:`3708`)\n\n----\n\nRedbot 3.3.3 (2020-03-28)\n=========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`AnonGuy`, :ghuser:`Dav-Git`, :ghuser:`FancyJesse`, :ghuser:`Ianardo-DiCaprio`, :ghuser:`jack1142`, :ghuser:`kennnyshiwa`, :ghuser:`Kowlin`, :ghuser:`NeuroAssassin`, :ghuser:`PredaaA`, :ghuser:`Stonedestroyer`, :ghuser:`TrustyJAID`\n\nEnd-user changelog\n------------------\n\nSecurity\n********\n\n- **Cogs - Cleanup** - Removed regex support in ``[p]cleanup self`` (:issue:`3704`)\n\nAdditions\n*********\n\n- **Core - i18n** - Added ``[p]set regionalformat`` command that allows users to set regional formatting that is different from bot's locale (:issue:`3677`, :issue:`3588`)\n- **Cogs - Cleanup** - Added ``[p]cleanup spam`` command that deletes duplicate messages from the last X messages and keeps only one copy (:issue:`3688`)\n- **Cogs - CustomCommands** - Added ``[p]cc search`` command that allows users to search through created custom commands (:issue:`2573`)\n- **Cogs - Trivia** - Added ``[p]triviaset custom upload/delete/list`` commands for managing custom trivia lists from Discord (:issue:`3420`, :issue:`3307`)\n- **Cogs - Warnings** - Sending warnings to warned user can now be disabled with ``[p]warnset toggledm`` command (:issue:`2929`, :issue:`2800`)\n- **Cogs - Warnings** - Added ``[p]warnset warnchannel`` command that allows to set a channel where warnings should be sent to instead of the channel command was called in (:issue:`2929`, :issue:`2800`)\n- **Cogs - Warnings** - Added ``[p]warnset togglechannel`` command that allows to disable sending warn message in guild channel (:issue:`2929`, :issue:`2800`)\n\nChanges\n*******\n\n- **Core** - Delete delay for command messages has been moved from Mod cog to Core (:issue:`3638`, :issue:`3636`)\n- **Core** - Command errors (i.e. command on cooldown, dm-only and guild-only commands, etc) can now be translated (:issue:`3665`, :issue:`2988`)\n- **Core - Bot Commands** - ``[p]set locale`` allows any valid locale now, not just locales for which Red has translations (:issue:`3676`, :issue:`3596`)\n- **Core - Bot Commands** - Permissions for commands in Bank, Economy and Trivia cogs can now be overridden by Permissions cog (:issue:`3672`, :issue:`3233`)\n- **Core - Bot Commands** - Added ``[p]set playing`` and ``[p]set streaming`` aliases for respectively ``[p]set game`` and ``[p]set stream`` (:issue:`3646`, :issue:`3590`)\n- **Core - Command-line Interfaces** - ``redbot-setup`` now prints link to Getting started guide at the end of the setup (:issue:`3027`)\n- **Cogs - Downloader** - ``[p]cog checkforupdates`` now includes information about cogs that can't be installed due to Red/Python version requirements (:issue:`3678`, :issue:`3448`)\n- **Cogs - Downloader** - Improved error messages for unexpected errors in ``[p]repo add`` (:issue:`3656`)\n- **Cogs - General** - Added more detailed mode to ``[p]serverinfo`` command that can be accessed with ``[p]serverinfo 1`` (:issue:`2382`, :issue:`3659`)\n- **Cogs - Image** - Users can now specify how many images should be returned in ``[p]imgur search`` and ``[p]imgur subreddit`` using ``[count]`` argument (:issue:`3667`, :issue:`3044`)\n- **Cogs - Image** - ``[p]imgur search`` and ``[p]imgur subreddit`` now return one image by default (:issue:`3667`, :issue:`3044`)\n- **Cogs - Mod** - ``[p]userinfo`` now shows user's activities (:issue:`3669`)\n- **Cogs - Mod** - ``[p]userinfo`` now shows status icon near the username (:issue:`3669`)\n- **Cogs - Modlog** - Modlog's cases now keep last known username to prevent losing that information from case's message on edit (:issue:`3674`, :issue:`3443`)\n- **Cogs - Permissions** - Commands for setting default rules now error when user tries to deny access to command designated as being always available (:issue:`3504`, :issue:`3465`)\n- **Cogs - Streams** - Preview picture for YouTube stream alerts is now bigger (:issue:`3689`, :issue:`3685`)\n- **Cogs - Streams** - Failures in Twitch API authentication are now logged (:issue:`3657`)\n- **Cogs - Warnings** - ``[p]warn`` now tells the moderator when bot wasn't able to send the warning to the user (:issue:`3653`, :issue:`3633`)\n\nFixes\n*****\n\n- All owner notifications in core cogs now use proper prefixes in messages (:issue:`3632`)\n- **Core** - Fixed various bugs with blacklist and whitelist (:issue:`3643`, :issue:`3642`)\n- **Core** - Outages of ``pypi.org`` no longer prevent the bot from starting (:issue:`3663`)\n- **Core** - Fixed formatting of help strings in fuzzy search results (:issue:`3673`, :issue:`3507`)\n- **Core** - Fixed few deprecation warnings related to menus and uvloop (:issue:`3644`, :issue:`3700`)\n- **Core - Bot Commands** - ``[p]set game`` no longer errors when trying to clear the status (:issue:`3630`, :issue:`3628`)\n- **Core - Bot Commands** - Whitelist and blacklist commands now properly require passing at least one user (or role in case of local whitelist/blacklist) (:issue:`3652`, :issue:`3645`)\n- **Cogs - Downloader** - Fix misleading error appearing when repo name is already taken in ``[p]repo add`` (:issue:`3695`)\n- **Cogs - Downloader** - Prevent encoding errors from crashing ``[p]cog update`` (:issue:`3639`, :issue:`3637`)\n- **Cogs - Mod** - Muting no longer fails if user leaves while applying overwrite (:issue:`3627`)\n- **Cogs - Mod** - Fixed error that happened when Mod cog was loaded for the first time during bot startup (:issue:`3632`, :issue:`3626`)\n- **Cogs - Streams** - Fixed an error that happened when no game was set on Twitch stream (:issue:`3631`)\n- **Cogs - Streams** - YouTube channels with a livestream that doesn't have any current viewer are now properly showing as streaming (:issue:`3690`)\n- **Cogs - Trivia** - Trivia sessions no longer error on payout when winner's balance would exceed max balance (:issue:`3666`, :issue:`3584`)\n- **Cogs - Trivia** - Non-finite numbers can no longer be passed to ``[p]triviaset timelimit``, ``[p]triviaset stopafter`` and ``[p]triviaset payout`` (:issue:`3668`, :issue:`3583`)\n\n\nDeveloper changelog\n-------------------\n\nFixes\n*****\n\n- Deprecation warnings issued by Red now use correct stack level so that the cog developers can find the cause of them (:issue:`3644`)\n- **Core - Utils Package** - `redbot.core.utils.menus.menu()` now checks permissions *before* trying to clear reactions (:issue:`3589`, :issue:`3145`)\n- **Cogs - Dev** - Added ``__name__`` to environment's globals (:issue:`3649`, :issue:`3648`)\n\n\nDocumentation changes\n---------------------\n\nChanges\n*******\n\n- Windows install instructions now use ``choco upgrade`` commands instead of ``choco install`` to ensure up-to-date packages (:issue:`3684`)\n\nFixes\n*****\n\n- Fixed install instructions for Mac (:issue:`3675`, :issue:`3436`)\n\n----\n\nRedbot 3.3.2 (2020-02-28)\n=========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`aikaterna`, :ghuser:`chasehult`, :ghuser:`Dav-Git`, :ghuser:`DiscordLiz`, :ghuser:`Drapersniper`, :ghuser:`fixator10`, :ghuser:`Flame442`, :ghuser:`Hedlund01`, :ghuser:`jack1142`, :ghuser:`Kowlin`, :ghuser:`mikeshardmind`, :ghuser:`PredaaA`, :ghuser:`Stonedestroyer`, :ghuser:`trundler-dev`, :ghuser:`TrustyJAID`, :ghuser:`zephyrkul`\n\nEnd-user changelog\n------------------\n\nAdditions\n*********\n\n- **Cogs - Streams** - Added ``[p]streamset timer`` command which can be used to control how often the cog checks for live streams (:issue:`3237`)\n\nChanges\n*******\n\n- **Core** - Ignored guilds/channels and whitelist/blacklist are now cached for performance (:issue:`3472`)\n- **Core** - Ignored guilds/channels have been moved from Mod cog to Core (:issue:`3472`)\n- **Core - Bot Commands** - ``[p]ignore channel`` command can now also ignore channel categories (:issue:`3472`)\n- **Core - Bot Commands** - Improved user experience of ``[p]set game/listening/watching/`` commands (:issue:`3562`)\n- **Core - Bot Commands** - Added ``[p]licenceinfo`` alias for ``[p]licenseinfo`` command to conform with non-American English (:issue:`3460`)\n- **Cogs - Downloader** - Added better logging of errors when Downloader fails to add a repo (:issue:`3558`)\n- **Cogs - Mod** - ``[p]hackban`` and ``[p]unban`` commands support user mentions now (:issue:`3524`)\n- **Cogs - Streams** - Significantly reduce the quota usage for YouTube stream alerts (:issue:`3237`)\n- **Cogs - Warnings** - Users can now pass a reason to ``[p]unwarn`` command (:issue:`3490`, :issue:`3093`)\n- **Cogs - Warnings** - Use more reliant way of checking if command is bot owner only in ``[p]warnaction`` (Warnings cog) (:issue:`3516`, :issue:`3515`)\n\nFixes\n*****\n\n- Core cogs will now send bot mention prefix properly in places where discord doesn't render mentions (:issue:`3579`, :issue:`3591`, :issue:`3499`)\n- **Core** - Stop using deprecated code in Core (:issue:`3610`)\n- **Core - Bot Commands** - Fixed a bug with ``[p]blacklist add`` that made it impossible to blacklist users that bot doesn't share a server with (:issue:`3472`, :issue:`3220`)\n- **Core - Bot Commands** - Update PyPI domain in ``[p]info`` and update checker (:issue:`3607`)\n- **Cogs - Admin** - ``[p]announce`` will now only send error message if an actual errors occurs (:issue:`3514`, :issue:`3513`)\n- **Cogs - Alias** - ``[p]alias help`` will now properly work in non-English locales (:issue:`3546`)\n- **Cogs - Audio** - Users should be able to play age-restricted tracks from YouTube again (:issue:`3620`)\n- **Cogs - Downloader** - Downloader will no longer fail because of invalid ``info.json`` files (:issue:`3533`, :issue:`3456`)\n- **Cogs - Economy** - Next payday time will now be adjusted for users when payday time is changed (:issue:`3496`, :issue:`3438`)\n- **Cogs - Image** - Fixed load error for users that updated Red from version lower than 3.1 to version 3.2 or newer (:issue:`3617`)\n- **Cogs - Streams** - Fixed stream alerts for Twitch (:issue:`3487`)\n- **Cogs - Trivia** - Added better handling for errors in trivia session (:issue:`3606`)\n- **Cogs - Trivia - Lists** - Removed empty answers in trivia lists (:issue:`3581`)\n\n\nDeveloper changelog\n-------------------\n\nSecurity\n********\n\n- **Core - Commands Package** - Subcommands of command group with ``invoke_without_command=True`` will again inherit this group's checks (:issue:`3614`)\n\nAdditions\n*********\n\n- **Cogs - Dev** - Allow for top-level `await`, `async for` and `async with` in ``[p]debug`` and ``[p]repl`` commands (:issue:`3508`)\n\nChanges\n*******\n\n- **Core - Command-line Interfaces** - Added traceback logging to task exception handling (:issue:`3517`)\n- **Core - Command-line Interfaces** - Bot will now show deprecation warnings in logs (:issue:`3527`, :issue:`3615`)\n- **Core - Commands Package** - Developers can now create a command from an async function wrapped in `functools.partial` (:issue:`3542`)\n- **Core - Dependencies** - Updated all our dependencies - we're using discord.py 1.3.2 now (:issue:`3609`)\n- **Core - Utils Package** - Added clearer error when page is of a wrong type in `redbot.core.utils.menus.menu()` (:issue:`3571`)\n- **Cogs - Downloader** - Downloader will now replace ``[p]`` with clean prefix same as it does in help command (:issue:`3592`)\n- **Cogs - Downloader** - Added schema validation to ``info.json`` file processing - it should now be easier to notice any issues with those files (:issue:`3533`, :issue:`3442`)\n\nFixes\n*****\n\n- **Core - Config** - Fixed Config's singletons (:issue:`3137`, :issue:`3136`)\n\n\nDocumentation changes\n---------------------\n\nAdditions\n*********\n\n- Added guidelines for Cog Creators in `guide_cog_creation` document (:issue:`3568`)\n\nChanges\n*******\n\n- Restructured virtual environment instructions to improve user experience (:issue:`3495`, :issue:`3411`, :issue:`3412`)\n- Getting started guide now explains use of quotes for arguments with spaces (:issue:`3555`, :issue:`3111`)\n- ``latest`` version of docs now displays a warning about possible differences from current stable release (:issue:`3570`)\n- Made systemd guide clearer on obtaining username and python path (:issue:`3537`, :issue:`3462`)\n- Improved indication of instructions for different venv types in systemd guide (:issue:`3538`)\n- Service file in `autostart_systemd` now also waits for network connection to be ready (:issue:`3549`)\n- Hid alias of ``randomize_colour`` in docs (:issue:`3491`)\n- Added separate headers for each event predicate class for better navigation (:issue:`3595`, :issue:`3164`)\n- Improved wording of explanation for ``required_cogs`` key in `guide_publish_cogs` (:issue:`3520`)\n\n----\n\nRedbot 3.3.1 (2020-02-05)\n=========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`aikaterna`, :ghuser:`Flame442`, :ghuser:`flyingmongoose`, :ghuser:`jack1142`, :ghuser:`Kowlin`, :ghuser:`mikeshardmind`, :ghuser:`palmtree5`, :ghuser:`PredaaA`\n\nEnd-user changelog\n------------------\n\nAdditions\n*********\n\n- **Core - Command-line Interfaces** - Added a cli flag (``--message-cache-size``) for setting a max size of message cache (:issue:`3473`, :issue:`3474`)\n\nChanges\n*******\n\n- Some functions have been changed to no longer use deprecated asyncio functions (:issue:`3509`)\n- **Core - Command-line Interfaces** - Prefix can now be edited from command line using ``redbot --edit`` (:issue:`3481`, :issue:`3486`)\n- **Cogs - Mod** - The short help text for ``[p]modset dm`` has been made more useful (:issue:`3488`)\n\nFixes\n*****\n\n- **Core - Bot Commands** - ``[p]dm`` no longer allows owners to have the bot attempt to DM itself (:issue:`3477`, :issue:`3478`)\n- **Cogs - Mod** - Hackban now works properly without being provided a number of days (:issue:`3476`, :issue:`3475`)\n\n\nDeveloper changelog\n-------------------\n\nDeprecations\n************\n\n- **Core - Utils Package** - Passing the event loop explicitly in `bounded_gather()`, `bounded_gather_iter()`, and `start_adding_reactions()` is deprecated and will be removed in 3.4 (:issue:`3509`)\n\n\nDocumentation changes\n---------------------\n\nAdditions\n*********\n\n- Added section to install docs for CentOS 8 (:issue:`3461`, :issue:`3463`)\n\nChanges\n*******\n\n- Added ``-e`` flag to ``journalctl`` command in systemd guide so that it takes the user to the end of logs automatically (:issue:`3483`)\n- Improved usage of apt update in docs (:issue:`3464`)\n\n----\n\nRedbot 3.3.0 (2020-01-26)\n=========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`DevilXD`, :ghuser:`Drapersniper`, :ghuser:`Flame442`, :ghuser:`Ianardo-DiCaprio`, :ghuser:`jack1142`, :ghuser:`Kowlin`, :ghuser:`mikeshardmind`, :ghuser:`Stonedestroyer`, :ghuser:`zephyrkul`\n\nEnd-user changelog\n------------------\n\nAdditions\n*********\n\n- **Core** - Team applications are now supported (:issue:`2781`, :issue:`3445`)\n\n    - Added new ``--team-members-are-owners`` flag that will make Red treat owners of the team application as bot owners\n- **Core - Bot Commands** - Embed use can now be configured per channel with new ``[p]embedset channel`` command (:issue:`3152`, :issue:`3418`)\n- **Cogs - Mod** - You can set a default amount of days to clean up when banning with ``[p]ban`` and ``[p]tempban`` (:issue:`2441`, :issue:`2930`, :issue:`3437`)\n- **Cogs - Mod** - Users can now optionally be DMed their ban reason (:issue:`2649`, :issue:2990`)\n\nChanges\n*******\n\n- **Core - Help** - Help is now self consistent in the extra formatting used (:issue:`3451`)\n- **Cogs - Admin** - Role granting/removing commands will now notify when the user already has/doesn't have a role when attempting to add/remove it (:issue:`3010`, :issue:`3408`)\n- **Cogs - Audio** - Playlist searching is now more intuitive (:issue:`3430`)\n- **Cogs - Downloader** - Some user facing messages were improved (:issue:`3409`)\n- **Cogs - Mod** - ``[p]slowmode`` should no longer error on nonsensical time quantities (:issue:`3453`)\n\nFixes\n*****\n\n- **Cogs - Audio** - ``[p]audioset dc`` and ``[p]repeat`` commands no longer interfere with each other (:issue:`3425`, :issue:`3426`)\n- **Cogs - Cleanup** - Fixed a rare edge case involving messages that were deleted during cleanup (:issue:`3414`)\n- **Cogs - CustomCommands** - ``[p]cc create random`` no longer errors when exiting an interactive menu (:issue:`3416`, :issue:`3417`)\n- **Cogs - Downloader** - Downloader's initialization can no longer time out at startup (:issue:`3415`, :issue:`3440`, :issue:`3444`)\n- **Cogs - General** - ``[p]roll`` command will no longer attempt to roll obscenely large amounts (:issue:`3284`, :issue:`3395`)\n- **Cogs - Permissions** - Now has stronger enforcement of prioritizing botwide settings\n\n\nDeveloper changelog\n-------------------\n\nBreaking Changes\n****************\n\n- **Core - Commands Package** - Importing submodules of ``discord.ext.commands`` from ``redbot.core.commands`` will no longer work (:issue:`3410`)\n- **Core - Commands Package** - ``PermState.ALLOWED_STATES`` from ``redbot.core.commands.requires`` has been moved to a global variable called ``PermStateAllowedStates`` in the same module (:issue:`3410`)\n- **Core - Commands Package** - ``PermState.TRANSITIONS`` from ``redbot.core.commands.requires`` has been moved to a global variable called ``PermStateAllowedStates`` in the same module (:issue:`3410`)\n- **Core - Commands Package** - Use of ``@asyncio.coroutine`` is no longer supported. Use ``async def`` instead (:issue:`3410`)\n\nChanges\n*******\n\n- **Core - Commands Package** - The commands module has been slightly restructured to provide more useful data to developers (:issue:`3410`)\n- **Core - Dependencies** - We now use discord.py 1.3.1 (:issue:`3445`)\n\nDeprecations\n************\n\n- **Cogs - Downloader** - Updated deprecation warnings for shared libs to reflect that they will instead be removed in 3.4 (:issue:`3449`)\n\nFixes\n*****\n\n- **Core - Commands Package** - Fixed an issue with default units in `TimedeltaConverter` (:issue:`3453`)\n\n\nDocumentation changes\n---------------------\n\nFixes\n*****\n\n- We've made some small fixes to inaccurate instructions about installing with pyenv (:issue:`3434`)\n\n----\n\nRedbot 3.2.3 (2020-01-17)\n=========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`Dav-Git`, :ghuser:`Drapersniper`, :ghuser:`Flame442`, :ghuser:`flaree`, :ghuser:`jack1142`, :ghuser:`Kowlin`, :ghuser:`mikeshardmind`, :ghuser:`Redjumpman`, :ghuser:`Stonedestroyer`, :ghuser:`TrustyJAID`\n\nEnd-user changelog\n------------------\n\nAdditions\n*********\n\n- **Core** - The bot's description is now configurable through ``[p]set description`` (:issue:`3340`)\n\nChanges\n*******\n\n- **Core** - Further improvements have been made to bot startup and shutdown (:issue:`3358`, :issue:`3392`)\n- **Core** - Prefixes are now cached for performance (:issue:`3148`, :issue:`3150`)\n- **Core** - The bot now ensures it has at least the bare neccessary permissions before running commands (:issue:`3304`, :issue:`3305`, :issue:`3361`)\n- **Core - Bot Commands** - The ``[p]servers`` command now also shows the ids (:issue:`3224`, :issue:`3393`)\n- **Cogs - Audio** - Reduced cooldowns for some of the playlist commands (:issue:`3342`)\n- **Cogs - Downloader** - Improved a few user facing messages (:issue:`3343`)\n- **Cogs - Downloader** - Added logging of failures (:issue:`3372`)\n\nFixes\n*****\n\n- **Core** - Embed settings (``[p]embedset``) for ``[p]help`` now work the same as for other commands (:issue:`3382`)\n- **Core - Command-line Interfaces** - Deleting instances works as intended again (:issue:`3338`, :issue:`3384`)\n- **Cogs - Admin** - The selfrole command now has reasonable expectations about hierarchy  (:issue:`3331`)\n- **Cogs - Audio** - Audio now properly disconnects the bot when ``[p]audioset dc`` is turned on, even if ``[p]audioset notify`` is being used (:issue:`3349`, :issue:`3350`)\n- **Cogs - Audio** - Symbolic links now work as intended for local tracks (:issue:`3332`, :issue:`3376`)\n- **Cogs - Audio** - ``[p]bumpplay`` now shows the correct remaining time until the bumped track is played (:issue:`3373`, :issue:`3375`)\n- **Cogs - Audio** - Multiple user facing messages have been made more correct (:issue:`3347`, :issue:`3348`, :issue:`3374`)\n- **Cogs - Downloader** - Added pagination of output on cog update when it's too long for single message (:issue:`3385`, :issue:`3388`)\n\n\nDeveloper changelog\n-------------------\n\nAdditions\n*********\n\n- **Core** - Added the means for cog creators to use a global preinvoke hook (:issue:`3369`)\n- **Core - Commands Package** - New features added for cog creators to further customize help behavior (:issue:`3339`)\n  \n  - Check out our command reference for details on new ``format_help_for_context`` method\n- **Core - Commands Package** - ``[botname]`` is now replaced with the bot's display name in help text (:issue:`3339`)\n\n\nDocumentation changes\n---------------------\n\nAdditions\n*********\n\n- Added proper support for Ubuntu non-LTS (:issue:`3330`, :issue:`3336`)\n- Added link to our GitHub in the documentation (:issue:`3306`)\n\nChanges\n*******\n\n- Added a note about how to update Red to the install guides (:issue:`3400`)\n- Clarified some information about breaking changes in Red 3.2.0 changelog (:issue:`3367`)\n- Improved the structure of the Linux/Mac install guide to make it more clear to the user which sections they should be following (:issue:`3365`)\n- Added more details to the API key reference (:issue:`3400`)\n- Updated the documentation to **require** the usage of virtual environment for installing and running Red (:issue:`3351`)\n- Updated auto-restart guides to use Python's ``-O`` flag to enable assert optimizations (:issue:`3354`)\n\nFixes\n*****\n\n- Updated the documentation with the minimum supported git version (:issue:`3371`)\n- Fixed install instructions for Debian to also work with Debian Stretch (:issue:`3352`)\n\n----\n\nRedbot 3.2.2 (2020-01-10)\n=========================\n\nEnd-user changelog\n------------------\n\nFixes\n*****\n\n- **Core - Bot Commands** - Fixed pagination issue in ``[p]help`` command (:issue:`3323`, :issue:`3324`)\n\n\nDocumentation changes\n---------------------\n\nFixes\n*****\n\n- Corrected venv docs to use the actually supported Python version (:issue:`3325`, :issue:`3324`)\n\n----\n\nRedbot 3.2.1 (2020-01-10)\n=========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`mikeshardmind`, :ghuser:`palmtree5`\n\nEnd-user changelog\n------------------\n\nChanges\n*******\n\n- **Cogs - Modlog** - Modlog will now log an error with unexpected case type key (and any other keys) rather than crash (:issue:`3318`)\n\nFixes\n*****\n\n- **Core - Command-line Interfaces** - Fixed Mongo conversion from being incorrectly blocked (:issue:`3316`, :issue:`3319`)\n- **Cogs - Admin** - Fixed announcer not creating a message for success feedback (:issue:`3320`)\n\n----\n\nRedbot 3.2.0 (2020-01-09)\n=========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`aikaterna`, :ghuser:`Aurorum`, :ghuser:`Bakersbakebread`, :ghuser:`DevilXD`, :ghuser:`DiscordLiz`, :ghuser:`DJtheRedstoner`, :ghuser:`Drapersniper`, :ghuser:`Flame442`, :ghuser:`flaree`, :ghuser:`Ianardo-DiCaprio`, :ghuser:`jack1142`, :ghuser:`jerbob`, :ghuser:`jonasbohmann`, :ghuser:`kennnyshiwa`, :ghuser:`Kowlin`, :ghuser:`mikeshardmind`, :ghuser:`palmtree5`, :ghuser:`PredaaA`, :ghuser:`RealFriesi`, :ghuser:`retke`, :ghuser:`Tobotimus`, :ghuser:`Vexed01`, :ghuser:`wereii`, :ghuser:`yamikaitou`, :ghuser:`ZeLarpMaster`, :ghuser:`zephyrkul`\n\nRead before updating\n--------------------\n\n#. Red 3.2 dropped support for the MongoDB driver. When updating your instance from an older version, be sure to use instructions for **your current version** from the `document about updating Red <update_red>` to be able to still start your instance after the update.\n#. Red 3.2 requires Python 3.8.1 or newer. In order to be able to update, you'll first have to install appropriate versions of your dependencies so be sure to use instructions for **your current version** from the `document about updating Red <update_red>`.\n\n   .. note::\n\n      You may get a notification from the downloader cog about needing to refetch dependencies.\n      This is expected and it will walk you through everything and do as much as it can for you.\n\n#. Red 3.2 comes with improvements which required breaking changes for 3rd party cogs. When you update to 3.2, your cogs may not be compatible if the author has not handled\n   the changes yet. If you're a cog creator, you can look at `Developer changelog <important-320-1>` for full details.\n\n\nEnd-user changelog\n------------------\n\nBreaking Changes\n****************\n\n- **Core** - Removed the mongo driver (:issue:`3099`, :issue:`3108`)\n- **Core - Dependencies** - Updated the required minimum Python version to 3.8.1, and the required minimum JRE version to Java 11 (:issue:`3245`)\n\nAdditions\n*********\n\n- **Core** - Added a config driver for PostgreSQL (:issue:`2723`)\n- **Core - Bot Commands** - Added ``[p]licenseinfo`` (:issue:`3090`)\n- **Core - Bot Commands** - Added a command to list disabled commands globally or per guild (:issue:`3118`)\n- **Core - Command-line Interfaces** - Added the cli flag ``redbot --edit`` which is used to edit the instance name, token, owner, and datapath (:issue:`3060`)\n- **Core - Command-line Interfaces** - Added ``redbot-setup backup`` (:issue:`3235`)\n- **Core - Command-line Interfaces** - Added ``redbot --debuginfo`` flag which shows useful information for debugging (:issue:`3183`)\n- **Cogs - Audio** - Added support for nested folders in the localtrack folder (:issue:`270`)\n- **Cogs - Audio** - Audio now auto pauses the queue when the voice channel is empty (:issue:`721`)\n- **Cogs - Audio** - All playlist commands now accept optional arguments, use ``[p]help playlist <subcommand>`` for more details (:issue:`2861`)\n- **Cogs - Audio** - ``[p]playlist rename`` will now allow users to rename existing playlists (:issue:`2861`)\n- **Cogs - Audio** - ``[p]playlist update`` will now allow users to update non-custom Playlists to the latest available tracks (:issue:`2861`)\n- **Cogs - Audio** - There are now 3 different scopes of playlist. To define them, use the ``--scope`` argument\n\n      ``Global Playlist``\n\n      - These playlists will be available in all servers the bot is in.\n      - These can be managed by the Bot Owner only.\n\n      ``Server Playlist``\n\n      - These playlists will only be available in the server they were created in.\n      - These can be managed by the Bot Owner, Guild Owner, Mods, Admins, DJs, and the Creator (if the DJ role is disabled).\n\n      ``User Playlist``\n\n      - These playlists will be available in all servers both the bot and the creator are in.\n      - These can be managed by the Bot Owner and Creator only. (:issue:`2861`)\n- **Cogs - Audio** - ``[p]audioset cache`` can now be used to set the cache level. **It's off by default** (:issue:`2904`)\n- **Cogs - Audio** - ``[p]genre`` can now be used to play spotify playlists (:issue:`2904`)\n- **Cogs - Audio** - ``[p]audioset cacheage`` can now be used to set the maximum age of an entry in the cache. **Default is 365 days** (:issue:`2904`)\n- **Cogs - Audio** - ``[p]audioset autoplay`` can now be used to enable auto play once the queue runs out (:issue:`2904`)\n- **Cogs - Audio** - ``[p]queue shuffle`` can now be used to shuffle the queue manually (:issue:`2904`)\n- **Cogs - Audio** - ``[p]queue clean self`` can now be used to remove all songs you requested from the queue (:issue:`2904`)\n- **Cogs - Audio** - ``[p]audioset restrictions`` can now be used to add or remove keywords which songs must have or are not allowed to have (:issue:`2904`)\n- **Cogs - Audio** - ``[p]playlist dedupe`` can now be used to remove duplicated tracks from a playlist (:issue:`2904`)\n- **Cogs - Audio** - ``[p]autoplay`` can now be used to play a random song (:issue:`2904`)\n- **Cogs - Audio** - ``[p]bumpplay`` can now be used to add a song to the front of the queue (:issue:`2940`)\n- **Cogs - Audio** - ``[p]shuffle`` now has an additional argument to tell the bot whether it should shuffle bumped tracks (:issue:`2940`)\n- **Cogs - Audio** - Added global whitelist/blacklist commands (:issue:`3047`)\n- **Cogs - Audio** - Added self-managed daily playlists in the GUILD scope, these are called \"Daily playlist - YYYY-MM-DD\" and auto delete after 7 days (:issue:`3199`)\n- **Cogs - Bank** - Added ``[p]bankset maxbal`` to set the maximum bank balance (:issue:`2926`)\n- **Cogs - Economy** - Added new commands for pruning bank accounts (:issue:`2845`)\n\n  - ``[p]bank prune user`` - This will delete a user's bank account.\n  - ``[p]bank prune local`` - This will prune the bank of accounts for users who are no longer in the server.\n  - ``[p]bank prune global`` - This will prune the global bank of accounts for users who do not share any servers with the bot.\n- **Cogs - Downloader** - Added ``[p]repo update [repos]`` which updates repos without updating the cogs from them (:issue:`2527`)\n- **Cogs - Downloader** - Added ``[p]cog installversion <repo_name> <revision> <cogs>`` which installs cogs from a specified revision (commit, tag) of the given repo. When using this command, the cog will automatically be pinned (:issue:`2527`)\n- **Cogs - Downloader** - Added ``[p]cog pin <cogs>`` and ``[p]cog unpin <cogs>`` for pinning cogs. Cogs that are pinned will not be updated when using update commands (:issue:`2527`)\n- **Cogs - Downloader** - Added ``[p]cog checkforupdates`` that lists which cogs can be updated (including pinned cog) without updating them (:issue:`2527`)\n- **Cogs - Downloader** - Added ``[p]cog updateallfromrepos <repos>`` that updates all cogs from the given repos (:issue:`2527`)\n- **Cogs - Downloader** - Added ``[p]cog updatetoversion <repo_name> <revision> [cogs]`` that updates all cogs or ones of user's choosing to chosen revision of the given repo (:issue:`2527`)\n- **Cogs - Downloader** - Added ``[p]cog reinstallreqs`` that reinstalls cog requirements and shared libraries for all installed cogs (:issue:`3167`)\n- **Cogs - Trivia - Lists** - Added trivia lists for Prince and Michael Jackson lyrics (:issue:`12`)\n\nChanges\n*******\n\n- Red now takes less time to fetch cases, unban members, and list warnings (:issue:`2964`)\n- **Core** - JSON config files are now stored without indentation, this is to reduce the file size and increase the performance of write operations (:issue:`2921`)\n- **Core** - Red now handles more things prior to connecting to discord to reduce issues during the initial load (:issue:`3045`)\n- **Core** - Red will now send a message when the invoked command is DM-only (:issue:`3057`)\n- **Core** - The lib folder is now cleared on minor Python version changes. ``[p]cog reinstallreqs`` in Downloader can be used to regenerate the lib folder for a new Python version (:issue:`3274`)\n- **Core** - If Red detects operating system or architecture change, it will now warn the owner about possible problems with the lib folder (:issue:`3274`)\n- **Core - Bot Commands** - Changed ``[p]info`` to say \"This bot is an...\" instead of \"This is an...\" for clarity (:issue:`3121`)\n- **Core - Bot Commands** - Added the Python executable field to ``[p]debuginfo`` (:issue:`3184`)\n- **Core - Command-line Interfaces** - Added the option to modify the RPC port with the ``--rpc-port`` flag (:issue:`2429`)\n- **Core - Command-line Interfaces** - ``--[no-]backup``, ``--[no-]drop-db`` and ``--[no-]remove-datapath`` in the ``redbot-setup delete`` command are now on/off flags (:issue:`2958`)\n- **Core - Command-line Interfaces** - The confirmation prompts in ``redbot-setup`` now have default values for user convenience (:issue:`2958`)\n- **Core - Command-line Interfaces** - ``redbot-setup delete`` now has the option to leave Red's data untouched on database backends (:issue:`2962`)\n- **Core - Command-line Interfaces** - All ``y/n`` confirmations in cli commands are now unified (:issue:`3060`)\n- **Core - Command-line Interfaces** - ``redbot-setup`` will now use the instance name in default data paths to avoid creating a second instance with the same data path (:issue:`3171`)\n- **Core - Command-line Interfaces** - Instance names can now only include characters A-z, numbers, underscores, and hyphens. Old instances are unaffected by this change (:issue:`3171`)\n- **Core - Command-line Interfaces** - When Red prompts for a token, it will now print a link to the guide explaining how to obtain a token (:issue:`3204`)\n- **Core - Command-line Interfaces** - ``redbot-setup`` will no longer log to disk (:issue:`3269`)\n- **Core - Dependencies** - Bumped dependency versions (:issue:`3288`)\n- **Core - Dependencies** - Bumped Red-Lavalink version (:issue:`3290`)\n- **Core - Modlog** - Modlog no longer generates cases without being told to for actions the bot did (:issue:`2897`)\n- **Core - Modlog** - Modlog is now much faster at creating cases, especially in large servers (:issue:`2908`)\n- **Cogs - Admin** - Changed ``[p]announce ignore`` and ``[p]announce channel`` to ``[p]announceset ignore`` and ``[p]announceset channel`` (:issue:`3250`)\n- **Cogs - Admin** - Changed ``[p]selfrole <role>`` to ``[p]selfrole add <role>``, changed ``[p]selfrole add`` to ``[p]selfroleset add`` , and changed ``[p]selfrole delete`` to ``[p]selfroleset remove`` (:issue:`3250`)\n- **Cogs - Admin** - Added custom issue messages for adding and removing roles, this makes it easier to create translations (:issue:`3016`)\n- **Cogs - Audio** - ``[p]playlist download`` will now compress playlists larger than the server attachment limit and attempt to send that (:issue:`3279`)\n- **Cogs - Audio** - ``[p]playlist upload`` will now load playlists generated via ``[p]playlist download`` much faster if the playlist uses the new scheme (:issue:`2861`)\n- **Cogs - Audio** - ``[p]playlist`` commands now can be used by everyone regardless of DJ settings, however it will respect DJ settings when creating/modifying playlists in the server scope (:issue:`2861`)\n- **Cogs - Audio** - Spotify, Youtube Data, and Lavalink API calls can now be cached to avoid repeated calls in the future, see ``[p]audioset cache`` (:issue:`2890`)\n- **Cogs - Audio** - Playlists will now start playing as soon as first track is loaded (:issue:`2890`)\n- **Cogs - Audio** - ``[p]audioset localpath`` can set a path anywhere in your machine now. Note: This path needs to be visible by ``Lavalink.jar`` (:issue:`2904`)\n- **Cogs - Audio** - ``[p]queue`` now works when there are no tracks in the queue, showing the track currently playing (:issue:`2904`)\n- **Cogs - Audio** - ``[p]audioset settings`` now reports Red Lavalink version (:issue:`2904`)\n- **Cogs - Audio** - Adding and removing reactions in Audio is no longer a blocking action (:issue:`2904`)\n- **Cogs - Audio** - When shuffle is on, queue now shows the correct play order (:issue:`2904`)\n- **Cogs - Audio** - ``[p]seek`` and ``[p]skip`` can now be used by user if they are the song requester while DJ mode is enabled and votes are disabled (:issue:`2904`)\n- **Cogs - Audio** - Adding a playlist and an album to a saved playlist now skips tracks already in the playlist (:issue:`2904`)\n- **Cogs - Audio** - DJ mode is now turned off if the DJ role is deleted (:issue:`2904`)\n- **Cogs - Audio** - When playing a localtrack, ``[p]play`` and ``[p]bumpplay`` no longer require the use of the prefix \"localtracks\\\\\" (:issue:`2904`)\n\n  Before: ``[p]bumpplay localtracks\\ENM\\501 - Inside The Machine.mp3``\n  Now: ``[p]bumpplay ENM\\501 - Inside The Machine.mp3``\n  Now nested folders: ``[p]bumpplay Parent Folder\\Nested Folder\\track.mp3``\n- **Cogs - Audio** - Removed commas in explanations about how to set API keys (:issue:`2905`)\n- **Cogs - Audio** - Expanded local track support to all file formats (m3u, m4a, mp4, etc) (:issue:`2940`)\n- **Cogs - Audio** - Cooldowns are now reset upon failure of commands that have a cooldown timer (:issue:`2940`)\n- **Cogs - Audio** - Improved the explanation in the help string for ``[p]audioset emptydisconnect`` (:issue:`3051`)\n- **Cogs - Audio** - Added a typing indicator to playlist dedupe (:issue:`3058`)\n- **Cogs - Audio** - Exposed clearer errors to users in the play commands (:issue:`3085`)\n- **Cogs - Audio** - Improved error handling when the player is unable to play multiple tracks in the sequence (:issue:`3165`)\n- **Cogs - CustomCommands** - The group command ``[p]cc create`` can now be used to create simple CCs without specifying \"simple\" (:issue:`1767`)\n- **Cogs - CustomCommands** - Added a query option for CC typehints for URL-based CCs (:issue:`3228`)\n- **Cogs - CustomCommands** - Now uses the ``humanize_list()`` utility for iterable parameter results, e.g. ``{#:Role.members}`` (:issue:`3277`)\n- **Cogs - Downloader** - During cog update, Downloader will now check if the Python and bot versions match requirements provided by the cog author(s) in ``info.json`` (:issue:`1866`)\n- **Cogs - Downloader** - ``[p]cog install`` now accepts multiple cog names (:issue:`2527`)\n- **Cogs - Downloader** - When passing cogs to ``[p]cog update``, it will now only update those cogs, not all cogs from the repo those cogs are from (:issue:`2527`)\n- **Cogs - Downloader** - Added error messages for failures when installing/reinstalling requirements and copying cogs and shared libraries (:issue:`2571`)\n- **Cogs - Downloader** - ``[p]findcog`` now uses sanitized urls (without HTTP Basic Auth fragments) (:issue:`3129`)\n- **Cogs - Downloader** - ``[p]repo info`` will now show the repo's url, branch, and authors (:issue:`3225`)\n- **Cogs - Downloader** - ``[p]cog info`` will now show cog authors (:issue:`3225`)\n- **Cogs - Downloader** - ``[p]findcog`` will now show the repo's branch (:issue:`3225`)\n- **Cogs - Economy** - Slots now has a 62.5% expected payout and will not inflate economy when spammed (:issue:`2875`)\n- **Cogs - Image** - Updated the ``[p]giphycreds`` command to match the formatting of the other API commands (:issue:`2905`)\n- **Cogs - Image** - Removed commas from explanations about how to set API keys (:issue:`2905`)\n- **Cogs - Mod** - ``[p]slowmode`` now accepts integer-only inputs as seconds (:issue:`2884`)\n- **Cogs - Permissions** - Better explained the usage of commands with the ``<who_or_what>`` argument (:issue:`2991`)\n- **Cogs - Streams** - Removed commas from explanations about how to set API keys (:issue:`2905`)\n\nRemovals\n********\n\n- **Core - Bot Commands** - ``[p]set owner`` and ``[p]set token`` have been removed in favor of ``redbot --edit`` (:issue:`2928`)\n- **Core - Bot Commands** - Removed ``[p]backup``. Use the cli command ``redbot-setup backup`` instead (:issue:`3235`)\n- **Core - Command-line Interfaces** - Removed a lot of the functionality of ``redbot-launcher`` and deprecated what's left (:issue:`3289`)\n- **Cogs - Downloader** - Shared libraries are marked for removal in Red 3.4 (:issue:`3106`)\n\nFixes\n*****\n\n- **Core** - Red no longer types infinitely when a command with a cooldown is called within the last second of a cooldown. (:issue:`2985`)\n- **Core** - Added a 3rd-party lib folder to ``sys.path`` before loading cogs. This prevents issues with 3rd-party cogs failing to load when Downloader is not loaded to install requirements (:issue:`3036`)\n- **Core** - Red will now properly send an error message when the invoked command is guild-only (:issue:`3057`)\n- **Core** - Red now always appends the 3rd-party lib folder to the end of ``sys.path`` to avoid shadowing Red's dependencies (:issue:`3062`)\n- **Core** - Guild owners are no longer affected by the local whitelist and blacklist (:issue:`3221`)\n- **Core - Bot Commands** - The ``[p]invite`` command no longer errors when a user has the bot blocked or DMs disabled in the server (:issue:`2948`)\n- **Core - Bot Commands** - Cleaned up the ``[p]inviteset public`` and ``[p]inviteset perms`` help strings (:issue:`2963`)\n- **Core - Bot Commands** - ```[p]embedset user`` now only affects DM's (:issue:`2966`)\n- **Core - Bot Commands** - Fixed the help text and response of ``[p]set usebotcolor`` to accurately reflect what the command is doing (:issue:`2974`)\n- **Core - Bot Commands** - Fixed an error in ``[p]uptime`` when the uptime is under a second (:issue:`3009`)\n- **Core - Bot Commands** - Added quotation marks to the response of ``[p]helpset tagline`` so that two consecutive full stops do not appear (:issue:`3010`)\n- **Core - Bot Commands** - Red will now prevent users from locking themselves out with ``[p]localblacklist`` (:issue:`3207`)\n- **Core - Bot Commands** - Fixed formatting issues in commands that list whitelisted/blacklisted users/roles when the list is empty (:issue:`3219`)\n- **Core - Bot Commands** - Red will now prevent users from locking the guild owner out with ``[p]localblacklist`` (unless the command caller is bot owner) (:issue:`3221`)\n- **Core - Command-line Interfaces** - Stopped using the ``:`` character in backup's filename - Windows doesn't accept it (:issue:`2954`)\n- **Core - Command-line Interfaces** - ``redbot-setup delete`` no longer errors with \"unexpected keyword argument\" (:issue:`2955`)\n- **Core - Command-line Interfaces** - ``redbot-setup delete`` no longer prompts about backup when the user passes the option ``--no-prompt`` (:issue:`2956`)\n- **Core - Command-line Interfaces** - Fixed an unfriendly error when the provided instance name doesn't exist (:issue:`2968`)\n- **Core - Command-line Interfaces** - Removed f-string usage in the launcher to prevent our error handling from causing an error (:issue:`3002`)\n- **Core - Command-line Interfaces** - Arguments ``--co-owner`` and ``--load-cogs`` now properly require at least one argument to be passed (:issue:`3060`)\n- **Core - Command-line Interfaces** - Fixed the generation of the ``repos.json`` file in the backup process (:issue:`3114`)\n- **Core - Command-line Interfaces** - Added handling for invalid folder names in the data path gracefully in ``redbot-setup`` and ``redbot --edit`` (:issue:`3171`)\n- **Core - Command-line Interfaces** - ``--owner`` and ``-p`` cli flags now work when added from launcher (:issue:`3174`)\n- **Core - Help** - Help now properly hides disabled commands (:issue:`2863`)\n- **Core - Help** - Fixed help ending up a little too large for Discord embed limits (:issue:`3208`)\n- **Core - Modlog** - Modlog entries now show up properly without the mod cog loaded (:issue:`2897`)\n- **Core - Modlog** - Removed potential for additional bad API calls per ban/unban (:issue:`2945`)\n- **Cogs - Admin** - Fixed ``[p]announce`` failing after encountering an error attempting to message the bot owner (:issue:`3166`)\n- **Cogs - Admin** - Improved the clarity of user facing messages when the user is not allowed to do something due to Discord hierarchy rules (:issue:`3250`)\n- **Cogs - Admin** - Fixed some role managing commands not properly checking if Red had Manage Roles permission before attempting to manage roles (:issue:`3250`)\n- **Cogs - Admin** - Fixed commands from ``[p]editrole`` command group not checking if roles to be edited are higher than Red's highest role before trying to edit them (:issue:`3250`)\n- **Cogs - Admin** - Fixed ``[p]announce ignore`` and ``[p]announce channel`` not being able to be used by guild owners and administrators (:issue:`3250`)\n- **Cogs - Audio** - ``[p]playlist remove`` now removes the playlist url if the playlist was created through ``[p]playlist save`` (:issue:`2861`)\n- **Cogs - Audio** - Users are no longer able to accidentally overwrite existing playlist if a new one with the same name is created/renamed (:issue:`2861`)\n- **Cogs - Audio** - ``[p]audioset settings`` no longer shows lavalink JAR version (:issue:`2904`)\n- **Cogs - Audio** - Fixed a ``KeyError: loadType`` when trying to play tracks (:issue:`2904`)\n- **Cogs - Audio** - ``[p]audioset settings`` now properly considers co-owners as owners (:issue:`2904`)\n- **Cogs - Audio** - Fixed track indexes being off by 1 in ``[p]search`` (:issue:`2940`)\n- **Cogs - Audio** - Fixed an issue where updating your Spotify and YouTube Data API tokens did not refresh them (:issue:`3047`)\n- **Cogs - Audio** - Fixed an issue where the blacklist was not being applied correctly (:issue:`3047`)\n- **Cogs - Audio** - Fixed an issue in ``[p]audioset restrictions blacklist list`` where it would call the list a ``Whitelist`` (:issue:`3047`)\n- **Cogs - Audio** - Red's status is now properly cleared on emptydisconnect (:issue:`3050`)\n- **Cogs - Audio** - Fixed a console spam caused sometimes when auto disconnect and auto pause are used (:issue:`3123`)\n- **Cogs - Audio** - Fixed an error that was thrown when running ``[p]audioset dj`` (:issue:`3165`)\n- **Cogs - Audio** - Fixed a crash that could happen when the bot can't connect to the Lavalink node (:issue:`3238`)\n- **Cogs - Audio** - Restricted the number of songs shown in the queue to first 500 to avoid heartbeats (:issue:`3279`)\n- **Cogs - Audio** - Added more cooldowns to playlist commands and restricted the queue and playlists to 10k songs to avoid bot errors (:issue:`3286`)\n- **Cogs - Audio** - Lavalink will now be restarted after an unexpected shutdown (:issue:`3033`)\n- **Cogs - Audio** - Track descriptions are now escaped so that they do not break markdown (:issue:`3047`)\n- **Cogs - Audio** - Fixed an issue where calling Audio commands when not in a voice channel could result in a crash (:issue:`3120`)\n- **Cogs - Audio** - Fixed an issue where some YouTube playlists were being recognised as single tracks (:issue:`3104`)\n- **Cogs - Downloader** - Made the regex for repo names use raw strings to stop causing a ``DeprecationWarning`` for invalid escape sequences (:issue:`2571`)\n- **Cogs - Downloader** - Downloader will no longer attempt to install cogs that are already installed (:issue:`2571`)\n- **Cogs - Downloader** - Repo names can now only contain the characters listed in the help text (A-Z, 0-9, underscores, and hyphens) (:issue:`2827`)\n- **Cogs - Downloader** - ``[p]findcog`` no longer attempts to find a cog for commands without a cog (:issue:`2902`)\n- **Cogs - Downloader** - Downloader will no longer attempt to install a cog with same name as another cog that is already installed (:issue:`2927`)\n- **Cogs - Downloader** - Added error handling for when a remote repository or branch is deleted; now it notifies which repository failed and continues to update the others (:issue:`2936`)\n- **Cogs - Downloader** - ``[p]cog install`` will no longer error if a cog has an empty install message (:issue:`3024`)\n- **Cogs - Downloader** - Fixed an error on ``[p]repo add`` from empty string values for the ``install_msg`` info.json field (:issue:`3153`)\n- **Cogs - Downloader** - Disabled all git auth prompts when adding/updating a repo with Downloader (:issue:`3159`)\n- **Cogs - Downloader** - ``[p]findcog`` now properly works for cogs with less typical folder structure (:issue:`3177`)\n- **Cogs - Downloader** - ``[p]cog uninstall`` now fully unloads cog - the bot will not try to load it on next startup (:issue:`3179`)\n- **Cogs - Economy** - Fixed a crash seen when calling economy commands in DM with a global bank (:issue:`2997`)\n- **Cogs - Mod** - ``[p]userinfo`` no longer breaks when a user has an absurd number of roles (:issue:`2910`)\n- **Cogs - Mod** - Fixed Mod cog not recording username changes for ``[p]names`` and ``[p]userinfo`` commands (:issue:`2918`)\n- **Cogs - Mod** - Fixed ``[p]modset deletedelay`` deleting non-command messages (:issue:`2924`)\n- **Cogs - Mod** - Fixed an error when reloading Mod (:issue:`2932`)\n- **Cogs - Modlog** - Fixed an error in ``[p]reason`` when setting the reason for a case without a moderator (:issue:`2908`)\n- **Cogs - Permissions** - Defaults are now cleared properly when clearing all rules (:issue:`3037`)\n- **Cogs - Permissions** - Fixed an issue with clearing rules in permissions (:issue:`3014`)\n- **Cogs - Streams** - Fixed a ``TypeError`` in the ``TwitchStream`` class when calling Twitch client_id from Red shared APIs tokens (:issue:`3042`)\n- **Cogs - Streams** - Changed the ``stream_alert`` function for Twitch alerts to make it work with how the ``TwitchStream`` class works now (:issue:`3042`)\n- **Cogs - Trivia** - Fixed a bug where ``[p]trivia leaderboard`` failed to run (:issue:`2911`)\n- **Cogs - Trivia - Lists** - Fixed a typo in Ahsoka Tano's name in the Starwars trivia list (:issue:`2909`)\n- **Cogs - Trivia - Lists** - Fixed a typo in the Greek mythology trivia list regarding Hermes' staff (:issue:`2994`)\n- **Cogs - Trivia - Lists** - Fixed a question in the Overwatch trivia list that accepted blank responses (:issue:`2996`)\n- **Cogs - Trivia - Lists** - Fixed questions and answers that were incorrect in the Clash Royale trivia list (:issue:`3236`)\n\n\n.. _important-320-1:\n\nDeveloper changelog\n-------------------\n\nBreaking Changes\n****************\n\n- **Core** - Extension's ``setup()`` function should no longer assume that we are, or even will be connected to Discord (:issue:`3073`)\n\n    This also means that cog creators should no longer use ``bot.wait_until_ready()`` inside it\n- **Core - Bank** - Removed ``bank.MAX_BALANCE``, use `redbot.core.bank.get_max_balance()` from now on (:issue:`2926`)\n- **Core - Commands Package** - Reserved some command names for internal Red use. These are available programatically as ``redbot.core.commands.RESERVED_COMMAND_NAMES`` (:issue:`2973`)\n- **Core - Commands Package** - Qualified command names are limited to a maximum of 60 characters (:issue:`3223`)\n- **Core - Bot Class** - The main bot config is no longer directly accessible to cogs. New methods have been added for use where this is concerned (:issue:`2967`)\n\n  New methods for this include:\n\n    - `Red.get_shared_api_tokens()`\n    - `Red.set_shared_api_tokens()`\n    - `Red.get_embed_colour()` (and its alias - ``get_embed_color()``)\n    - `Red.get_admin_roles()`\n    - `Red.get_admin_role_ids()`\n    - `Red.get_mod_roles()`\n    - `Red.get_mod_role_ids()`\n- **Core - Bot Class** - Removed ``bot._counter``, Made a few more attributes private (``cog_mgr``, ``main_dir``) (:issue:`2976`)\n- **Core - Modlog** - Modlog casetypes no longer have an attribute for auditlog action type (:issue:`2897`)\n- **Core - Modlog** - Removed ``redbot.core.modlog.get_next_case_number()`` (:issue:`2908`)\n\nAdditions\n*********\n\n- Added a few methods and classes replacing direct config access (which is no longer supported) (:issue:`2976`)\n\n   - `Red.allowed_by_whitelist_blacklist()`\n   - `Red.get_valid_prefixes()`\n   - `Red.remove_shared_api_tokens()`\n   - `redbot.core.commands.help.HelpSettings`\n- **Core - Bot Class** - Added the method `Red.wait_until_red_ready()` that waits until Red's post connection startup is done (:issue:`3273`)\n- **Core - Bot Class** - New event ``on_red_api_tokens_update`` is now dispatched when shared api keys for a service are updated (:issue:`3134`)\n- **Core - Config** - Added functions to acquire locks on Config groups and values. These locks are acquired by default when calling a value as a context manager. See `Value.get_lock()` for details (:issue:`2654`)\n- **Core - Config** - Added methods to Config for accessing things by id without mocked objects (:issue:`2804`)\n\n    - `Config.guild_from_id()`\n    - `Config.user_from_id()`\n    - `Config.role_from_id()`\n    - `Config.channel_from_id()`\n    - `Config.member_from_ids()`\n      - This one requires multiple ids, one for the guild, one for the user\n      - Consequence of discord's object model\n- **Core - Modlog** - Added ``redbot.core.modlog.get_latest_case()`` to fetch the case object for the most recent Modlog case (:issue:`2908`)\n- **Core - Utils Package** - Added `redbot.core.utils.chat_formatting.humanize_number()` function to convert numbers into text that respects the current locale (:issue:`2836`)\n- **Core - Utils Package** - Added the function `redbot.core.utils.chat_formatting.text_to_file()` to prepare a long text to be sent as a file (:issue:`2849`)\n- **Core - Utils Package** - Added ``use_cached`` and ``images_only`` kwargs to `redbot.core.utils.tunnel.Tunnel.files_from_attach()` (:issue:`2885`)\n- **Cogs - Audio** - New events dispatched by Audio (:issue:`2904`)\n\n   - ``on_red_audio_track_start(guild: discord.Guild, track: lavalink.Track, requester: discord.Member)``\n   - ``on_red_audio_track_end(guild: discord.Guild, track: lavalink.Track, requester: discord.Member)``\n   - ``on_red_audio_track_enqueue(guild: discord.Guild, track: lavalink.Track, requester: discord.Member)``\n   - ``on_red_audio_track_auto_play(guild: discord.Guild, track: lavalink.Track, requester: discord.Member)``\n   - ``on_red_audio_queue_end(guild: discord.Guild, track: lavalink.Track, requester: discord.Member)``\n   - ``on_red_audio_audio_disconnect(guild: discord.Guild)``\n   - ``on_red_audio_skip_track(guild: discord.Guild, track: lavalink.Track, requester: discord.Member)``\n\nChanges\n*******\n\n- **Core - Bot Class** - `Red.send_filtered()` now returns the message that is sent (:issue:`3052`)\n- **Core - Bot Class** - `Red.send_to_owners()` and `Red.get_owner_notification_destinations()` now log when they are not able to find the owner notification destination (:issue:`3273`)\n- **Core - Commands Package** - Allowed passing ``cls`` in the `redbot.core.commands.group()` decorator (:issue:`2881`)\n- **Core - Modlog** - Some generic modlog casetypes are now pre-registered for cog creator use (:issue:`2897`)\n\nRemovals\n********\n\n- **Core - Utils Package** - Removed the functions ``safe_delete``, ``fuzzy_command_search``, ``format_fuzzy_results`` and ``create_backup`` from ``redbot.core.utils`` (:issue:`3240`)\n\nFixes\n*****\n\n- **Core - Bank** - Bank functions now check the recipient balance before transferring and stop the transfer if the recipient's balance will go above the maximum allowed balance (:issue:`2923`)\n- **Core - Bot Class** - Fixed `Red.remove_command()` throwing an error when trying to remove a non-existent command (:issue:`2888`)\n- **Core - Bot Class** - Fixed ``is_automod_immune``'s handling of the guild check and added support for checking webhooks (:issue:`3100`)\n- **Core - Bot Class** - ``Red.owner_id`` is now set in the post connection startup (:issue:`3273`)\n- **Core - Bot Class** - `Red.send_to_owners()` and `Red.get_owner_notification_destinations()` now wait until Red is done with post connection startup to ensure owner ID is available (:issue:`3273`)\n- **Core - Commands Package** - `Command.can_see()` now works as intended for disabled commands (:issue:`2892`)\n- **Core - Commands Package** - Fixed ``Context.clean_prefix`` issues resulting from undocumented changes from discord (:issue:`3249`)\n- **Core - Utils Package** - Fixed `MessagePredicate.greater()` and `MessagePredicate.less()` allowing any valid int instead of only valid ints/floats that are greater/less than the given value (:issue:`3004`)\n- **Core - Utils Package** - Fixed an attribute error that can be raised in `redbot.core.utils.chat_formatting.humanize_timedelta()` if ``seconds = 0`` (:issue:`3231`)\n\n\nDocumentation changes\n---------------------\n\nAdditions\n*********\n\n- Started the user guides covering cogs and the user interface of the bot. This includes, for now, a \"Getting started\" guide (:issue:`1734`)\n- Added documentation for PM2 support (:issue:`2105`)\n- Updated linux install docs, adding sections for Fedora Linux, Debian/Raspbian Buster, and openSUSE (:issue:`2558`)\n- Created documentation covering what we consider a developer facing breaking change and the guarantees regarding them (:issue:`2882`)\n- Added notes explaining the best practices with config (:issue:`3149`)\n- Added a \"Publishing cogs for V3\" document explaining how to make user's cogs work with Downloader (:issue:`3234`)\n\nChanges\n*******\n\n- Reworded the virtual environment guide to make it sound less scary (:issue:`2920`)\n- Added more information about `redbot.core.utils.chat_formatting.humanize_timedelta()` into the docs (:issue:`2986`)\n- Added a direct link to the \"Installing Red\" section in \"Installing using powershell and chocolatey\" (:issue:`2995`)\n- Updated Git PATH install (Windows), capitalized some words, stopped mentioning the launcher (:issue:`2998`)\n- Added autostart documentation for Red users who installed Red inside of a virtual environment (:issue:`3005`)\n- Updated the Cog Creation guide with a note regarding the Develop version as well as the folder layout for local cogs (:issue:`3021`)\n- Added links to the getting started guide at the end of installation guides (:issue:`3025`)\n- Added proper docstrings to enums that show in drivers docs (:issue:`3035`)\n- Discord.py doc links will now always use the docs for the currently used version of discord.py (:issue:`3053`)\n- Added ``|DPY_VERSION|`` substitution that will automatically get replaced by the current discord.py version (:issue:`3053`, :issue:`3082`)\n- Added MS Azure to the host list (:issue:`3083`)\n- Added information about ``info.json``'s ``min_python_version`` key in Downloader Framework docs (:issue:`3124`)\n- Documented additional attributes in Context (:issue:`3151`)\n- Updated Windows docs with up to date dependency instructions (:issue:`3188`)\n- Added a line about setuptools and wheel (:issue:`3262`)\n- Ensured development builds are not advertised to the wrong audience (:issue:`3292`)\n- Clarified the usage intent of some of the chat formatting functions (:issue:`3292`)\n\nRemovals\n********\n\n- Removed API References for Downloader (:issue:`3234`)\n\nFixes\n*****\n\n- Fixed the user parameter being labeled as ``discord.TextChannel`` instead of ``discord.abc.User`` in ``redbot.core.utils.predicates`` (:issue:`2914`)\n- Driver docs no longer show twice (:issue:`2972`)\n- Added missing descriptions for function returns (:issue:`3054`)\n- Fixed broken docs for ``redbot.core.commands.Context.react_quietly`` (:issue:`3257`)\n- Updated the docs footer copyright to 2018-2019 (:issue:`3105`)\n- Updated copyright notices on License and RTD config to 2020 (:issue:`3259`)\n\n----\n\nRedbot 3.1.9 (2020-01-08)\n=========================\n\nThis is a maintenance release patching a denial of service issue with Audio.\n\n----\n\nRedbot 3.1.8 (2019-11-19)\n=========================\n\nThis is a hotfix release updating discord.py to fix a full bot crash when emoji reaction is added/removed.\nThis was caused by Discord API changes.\n\n----\n\nRedbot 3.1.7 (2019-11-05)\n=========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`aikaterna`, :ghuser:`mikeshardmind`\n\nEnd-user changelog\n------------------\n\nChanges\n*******\n\n- **Cogs - Audio** - Improved handling of user facing errors (`989e16b <https://github.com/Cog-Creators/Red-DiscordBot/commit/989e16b20b814971e01a8657dedf4d9b45c23ed1>`__)\n\nFixes\n*****\n\n- **Core - Dependencies** - Added partial mitigation for issues with running Red on Python 3.8 (`1c64abe <https://github.com/Cog-Creators/Red-DiscordBot/commit/1c648abea21c28cd3b912d1cb2fee6cf2960e352>`__)\n- **Cogs - Audio** - Fixed issues with SoundCloud playback (`989e16b <https://github.com/Cog-Creators/Red-DiscordBot/commit/989e16b20b814971e01a8657dedf4d9b45c23ed1>`__)\n\n----\n\nRedbot 3.1.6 (2019-10-18)\n=========================\n\nThis is a hotfix release updating discord.py for a critical issue related to voice connections.\n\n----\n\nRedbot 3.1.5 (2019-07-31)\n=========================\n\nThis is a maintenance release fixing issues with playback of YouTube tracks.\n\n----\n\nRedbot 3.1.4 (2019-07-16)\n=========================\n\nThis is a hotfix release fixing issues with broken custom commands and modlog cases.\n\n----\n\nRedbot 3.1.3 (2019-07-14)\n=========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`aikaterna`, :ghuser:`Bakersbakebread`, :ghuser:`DevilXD`, :ghuser:`DiscordLiz`, :ghuser:`Drapersniper`, :ghuser:`Flame442`, :ghuser:`jack1142`, :ghuser:`kennnyshiwa`, :ghuser:`Kowlin`, :ghuser:`lizzyd710`, :ghuser:`MeatyChunks`, :ghuser:`mikeshardmind`, :ghuser:`NeuroAssassin`, :ghuser:`PredaaA`, :ghuser:`retke`, :ghuser:`Tobotimus`, :ghuser:`yamikaitou`\n\nEnd-user changelog\n------------------\n\nAdditions\n*********\n\n- **Core - Bot Commands** - Added new settings for the invite returned by ``[p]invite`` command (:issue:`1847`)\n    \n    - ``[p]inviteset public`` - Defines if the command should be accessible for users that aren't bot owners.\n    - ``[p]inviteset perms`` - Sets permissions for bot's managed role that can get created automatically when bot is invited.\n\n    For more information, see help of each of the listed commands.\n- **Cogs - Audio** - Added a ``[p]eq`` command group that allows to manage the Audio equalizer (:issue:`2787`, :issue:`2813`)\n- **Cogs - Audio** - Added a ``[p]summon`` command that summons the bot to the voice channel (:issue:`2786`)\n\nChanges\n*******\n\n- **Core** - A server can now have multiple admin and mod roles (:issue:`2783`)\n- **Core - Dependencies** - Improved overall performance on Linux and Mac systems by swapping asyncio loop implementation to uvloop (:issue:`2819`)\n- **Cogs - Audio** - Added support for armv6l, aarch32, and aarch64 architectures (:issue:`2755`)\n- **Cogs - Audio** - Improved error handling and added retrying to jar download and Lavalink connection (:issue:`2764`)\n- **Cogs - Audio** - Internal Lavalink manager now accepts any jar with a build number greater than or equal to our release build (:issue:`2656`, :issue:`2785`)\n- **Cogs - Audio** - Increased Lavalink connection timeout to 50 seconds to ensure Lavalink manages to start before the time runs out on lower-end devices (:issue:`2784`)\n- **Cogs - Filter** - Updated name filtering to be consistent with message content filtering (:issue:`2740`, :issue:`2794`)\n- **Cogs - Mod** - ``[p]userinfo`` command now mentions the roles the user has (:issue:`2759`)\n- **Cogs - Modlog** - Improved efficiency of case storage (:issue:`2766`)\n\nFixes\n*****\n\n- **Core** - Fixed broken fuzzy help (:issue:`2768`)\n- **Core** - Fixed a race condition that could allow a user to run commands they are denied to run by Permissions cog for a short moment before the cog is loaded (:issue:`2857`)\n- **Core - Bot Commands** - ``[p]command disable`` and its subcommands now ensure that the command to disable is not ``[p]command`` or any of its subcommands to prevent lockout (:issue:`2770`)\n- **Core - Bot Commands** - Fixed an issue with error message being sent multiple times when help command was unable to DM the user (:issue:`2790`)\n- **Core - Bot Commands** - Fixed broken link in help of ``[p]set color`` (:issue:`2715`, :issue:`2803`)\n- **Core - Bot Commands** - Fixed user output and exception handling on cog load/reload (:issue:`2767`)\n- **Core - Help** - Fixed substitution of ``[p]`` in command descriptions in non-embedded help output (:issue:`2846`)\n- **Cogs - Audio** - Added missing bot permission checks to commands in Audio cog (:issue:`2756`)\n- **Cogs - Audio** - Fixed an issue with jar downloading on mixed-filesystem environments (:issue:`2682`, :issue:`2765`)\n- **Cogs - Audio** - Fixed an issue with ``[p]playlist copy`` and ``[p]playlist queue`` failing when the prefix contains certain characters (:issue:`2788`, :issue:`2789`)\n- **Cogs - Audio** - Fixed an issue that caused ``[p]shuffle`` and ``[p]repeat`` to send an error message when the user is not in the voice channel (:issue:`2811`, :issue:`2812`, :issue:`2842`)\n- **Cogs - Filter** - Fixed caching issue that caused filter to use an old list of words to filter (:issue:`2810`)\n- **Cogs - Permissions** - Commands for adding/removing rules in ``[p]permissions`` command group now no longer ignore invalid arguments (:issue:`2851`, :issue:`2865`)\n- **Cogs - Trivia - Lists** - Fixed answers for Beethoven-related questions in ``entertainment`` trivia list (:issue:`2318`, :issue:`2823`)\n\n\nDeveloper changelog\n-------------------\n\nAdditions\n*********\n\n- **Core** - Added ``UserFeedbackCheckFailure`` (:issue:`2761`)\n- **Core - Bank** - Added `redbot.core.bank.cost()` (:issue:`2761`)\n- **Core - Commands Package** - Added (optional) ``default_unit`` keyword argument to `TimedeltaConverter` (:issue:`2753`)\n- **Core - Commands Package** - Added `Context.react_quietly()` (:issue:`2834`)\n\nFixes\n*****\n\n- **Core - Config** - Fixed cache issues with Config when the developer accidentally tries to set an object that isn't JSON serializable (:issue:`2793`, :issue:`2796`)\n- **Core - Config** - Fixed an issue with identifiers that contain ``$`` or ``.`` which has caused a KeyError exception regardless of whether such key existed in the data (:issue:`2832`)\n\n\nDocumentation changes\n---------------------\n\nChanges\n*******\n\n- Added a warning about the PATH changes to Windows install guide (:issue:`2791`)\n\nFixes\n*****\n\n- Fixed code examples in Bank, Config, and ModLog API documentation (:issue:`2775`, :issue:`2780`, :issue:`2860`)\n- Fixed the code example for the documentation of `Command.error` decorator and added a note with clarifications (:issue:`2760`)\n\n----\n\nRedbot 3.1.2 (2019-05-31)\n=========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`bren0xa`, :ghuser:`DevilXD`, :ghuser:`DiscordLiz`, :ghuser:`fixator10`, :ghuser:`Flame442`, :ghuser:`jack1142`, :ghuser:`Kowlin`, :ghuser:`mikeshardmind`, :ghuser:`NeuroAssassin`, :ghuser:`palmtree5`, :ghuser:`PredaaA`, :ghuser:`retke`, :ghuser:`Stonedestroyer`, :ghuser:`Tobotimus`, :ghuser:`yamikaitou`, :ghuser:`zephyrkul`\n\nEnd-user changelog\n------------------\n\nAdditions\n*********\n\n- **Core** - Added a generic system that can be used by cog creators to send notifications meant for bot owners (:issue:`2665`, :issue:`2738`, :issue:`2745`)\n- **Core - Bot Commands** - Added ``[p]debuginfo`` command (:issue:`2728`)\n\n    This comes with some commands that allow to manage the destinations for the owner notifications.\n    See the help of commands in ``[p]set ownernotifications`` command group for more information.\n- **Core - Help** - Added a few new settings for bot's help (:issue:`2667`, :issue:`2681`, :issue:`2676`)\n\n    - ``[p]helpset usemenus`` - Allows the help command to be sent as a paginated menu.\n    - ``[p]helpset showhidden`` - Allows the help command to show hidden commands.\n    - ``[p]helpset verifychecks``  - Sets if commands which can't be run in the current context should be filtered from help.\n    - ``[p]helpset verifyexists`` - Allows the bot to respond indicating the existence of a specific help topic even if the user can't use it.\n\n    For more information, see help of each of the listed commands.\n- **Cogs - Mod** - Added ``[p]slowmode`` command (:issue:`2734`)\n\nChanges\n*******\n\n- **Core - Bot Commands** - ``[p]load``, ``[p]unload``, and ``[p]reload`` commands now strip commas from the passed cogs to aid with copy-pasting (:issue:`2693`)\n- **Core - Bot Commands** - Improved naming consistency of subcommands that *delete* something (:issue:`2731`)\n- **Core - Bot Commands** - ``[p]set api`` command now allows the user to separate their keys and values with space in addition to commas and semicolons (:issue:`2692`)\n- **Cogs - Downloader** - ``[p]pipinstall`` now indicates that it's doing something (:issue:`2700`)\n- **Cogs - Mod** - ``[p]names`` command no longer requires quoting usernames that contain spaces (:issue:`2675`)\n- **Cogs - Mod** - ``[p]userinfo`` command now mentions the voice channel the user is in (:issue:`2680`)\n\nFixes\n*****\n\n- **Core** - Fixed update notification for bots that have co-owners (:issue:`2677`)\n- **Core** - Fixed an issue where bad user input didn't result in the bot sending help for the command (:issue:`2707`)\n- **Core - Help** - Fixed an issue with incorrect subcommand descriptions being shown in non-embed help (:issue:`2678`)\n- **Core - Help** - Fixed help for commands with no docstring (:issue:`2415`, :issue:`2722`)\n- **Core - Help** - Help menu no longer blocks settings preview in command groups like ``[p]set`` (:issue:`2712`, :issue:`2725`)\n- **Core - Bot Commands** - Fixed few more issues with help command (:issue:`2676`)\n- **Core - Bot Commands** - Fixed error handling in ``[p]load`` command (:issue:`2686`, :issue:`2688`)\n- **Core - Bot Commands** - Fixed an issue with long cog descriptions in help command (:issue:`2730`)\n- **Core - Command-line Interfaces** - Fixed ``redbot-setup delete`` command failing to delete data path (:issue:`2709`)\n- **Cogs - Downloader** - Fixed problems with installing a cog again after uninstalling (:issue:`2685`, :issue:`2690`)\n- **Cogs - General** - Fixed ``[p]urban`` command failure for very long phrase definitions (:issue:`2683`, :issue:`2684`)\n- **Cogs - General** - Fixed issues with ``[p]gif`` and ``[p]gifr`` commands. The bot owner now needs to provide an API key in order to use these commands (:issue:`2653`)\n- **Cogs - Streams** - Fixed an issue with stream commands not properly dealing with stream reruns (:issue:`2679`)\n- **Cogs - Streams** - Fixed a regression that caused stream alerts for non-Twitch users to not work anymore (:issue:`2724`, :issue:`2699`)\n\n\nDeveloper changelog\n-------------------\n\nAdditions\n*********\n\n- **Core - Bot Class** - Added `Red.send_to_owners()` and `Red.get_owner_notification_destinations()` (:issue:`2665`, :issue:`2738`)\n- **Core - Commands Package** - Added `DictConverter` (:issue:`2692`)\n- **Core - Commands Package** - Added `TimedeltaConverter` and `parse_timedelta()` (:issue:`2736`)\n- **Core - Commands Package** - Added ``assume_yes`` attribute to `redbot.core.commands.Context` (:issue:`2746`)\n\nChanges\n*******\n\n- **Core - Utils Package** - `menu()` now accepts `functools.partial` (:issue:`2718`, :issue:`2720`)\n\n----\n\nRedbot 3.1.1 (2019-05-15)\n=========================\n\nThis is a hotfix release fixing issues related to fuzzy command search that were happening with the new help formatter.\n\n----\n\nRedbot 3.1.0 (2019-05-15)\n=========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`aikaterna`, :ghuser:`bobloy`, :ghuser:`calebj`, :ghuser:`DiscordLiz`, :ghuser:`EgonSpengler`, :ghuser:`entchen66`, :ghuser:`FixedThink`, :ghuser:`Flame442`, :ghuser:`jack1142`, :ghuser:`kennnyshiwa`, :ghuser:`Kowlin`, :ghuser:`lionirdeadman`, :ghuser:`mikeshardmind`, :ghuser:`NeuroAssassin`, :ghuser:`NIXC`, :ghuser:`palmtree5`, :ghuser:`PredaaA`, :ghuser:`retke`, :ghuser:`Seputaes`, :ghuser:`Sitryk`, :ghuser:`tekulvw`, :ghuser:`Tobotimus`, :ghuser:`TrustyJAID`, :ghuser:`Twentysix26`, :ghuser:`zephyrkul`\n\nEnd-user changelog\n------------------\n\nKnown Issues\n************\n\n- **Core - Bot Commands** - Backup support for Mongo is currently broken (:issue:`2579`)\n\nAdditions\n*********\n\n- **Core - Bot Commands** - Added new ``[p]datapath`` command that prints the bot's data path (:issue:`2652`)\n- **Core - Command-line Interfaces** - Added ``redbot-setup convert`` command which can be used to convert between data backends (:issue:`2579`)\n- **Cogs - Audio** - Added Spotify support (:issue:`2328`)\n- **Cogs - Audio** - ``[p]local folder`` now accepts folder name as (optional) argument (:issue:`2457`)\n- **Cogs - Audio** - Added track length restriction (:issue:`2465`)\n- **Cogs - Audio** - Added option for disconnection at queue end, see ``[p]audioset dc`` (:issue:`2472`)\n- **Cogs - Audio** - Added ``[p]queue clean`` and ``[p]queue clear`` (:issue:`2476`)\n- **Cogs - Audio** - Added ``[p]playlist download`` (:issue:`2482`)\n- **Cogs - Mod** - Added the command ``[p]voicekick`` to kick members from a voice channel with optional modlog case (:issue:`2639`)\n- **Cogs - Streams** - Added support for setting custom stream alert messages per server (:issue:`2600`)\n- **Cogs - Streams** - Added ability to exclude Twitch stream reruns (:issue:`2620`)\n\nChanges\n*******\n\n- **Core** - Error messages about cooldowns will now show more friendly representation of cooldown's expiration time (:issue:`2412`)\n- **Core** - Cooldown messages are now auto-deleted after cooldown expiration expired (:issue:`2469`)\n- **Core** - Updated Mongo driver to support large guilds (:issue:`2536`)\n- **Core - Command-line Interfaces** - ``redbot --version`` will now give you current version of Red (:issue:`2567`)\n- **Core - Help** - Redesigned help and its formatter (:issue:`2628`)\n- **Cogs - Audio** - Changed ``[p]pause`` to a toggle (:issue:`2461`)\n- **Cogs - Audio** - Removed command aliases (``dc``, ``np``, ``n``, ``song``, ``track``, ``q``, ``forceskip``, ``fs``, ``s``) (:issue:`2462`)\n- **Cogs - Audio** - ``[p]seek`` command can now seek to position (:issue:`2470`)\n- **Cogs - Audio** - Audio now matches Red V2 behavior for changing voice channels (:issue:`2521`)\n- **Cogs - Downloader** - The ``[p]cog install`` command will not allow to install cogs which aren't suitable for installed version of Red anymore (:issue:`2605`)\n- **Cogs - Downloader** - The ``[p]cog install`` command will now tell the user that cog has to be loaded after the install (:issue:`2523`)\n- **Cogs - Downloader** - The ``[p]cog uninstall`` command allows to uninstall multiple cogs now (:issue:`2592`)\n- **Cogs - Filter** - Significantly improved performance of Filter cog on large servers (:issue:`2509`)\n- **Cogs - Mod** - Admins can now decide how many times message has to be repeated before cog's ``deleterepeats`` functionality removes it (:issue:`2437`)\n- **Cogs - Permissions** - Removed ``[p]p`` alias for ``[p]permissions`` command (:issue:`2467`)\n- **Cogs - Streams** - Twitch stream reruns are now marked as reruns in embed title (:issue:`2620`)\n\nRemovals\n********\n\n- **Cogs - DataConverter** - DataConverter has been completely removed from Red (:issue:`2554`)\n\nFixes\n*****\n\n- **Core - Bot Commands** - Fixed local blacklist/whitelist management commands (:issue:`2531`)\n- **Core - Bot Commands** - ``[p]set locale`` now only accepts actual locales (:issue:`2553`)\n- **Core - Bot Commands** - ``[p]listlocales`` now includes ``en-US`` locale (:issue:`2553`)\n- **Core - Command-line Interfaces** - Fixed the list of available extras in the ``redbot-launcher`` (:issue:`2588`)\n- **Core - i18n** - Changed default locale from ``en`` to ``en-US`` (:issue:`2642`)\n- **Cogs - Audio** - Fixed ``[p]audioset status`` (:issue:`2481`)\n- **Cogs - Audio** - Fixed an issue where queuing song from ``[p]search`` command did not do anything (:issue:`2513`)\n- **Cogs - Audio** - Bot will no longer complain about permissions when trying to connect to user-limited channel, if it has \"Move Members\" permission (:issue:`2525`)\n- **Cogs - Audio** - Fixed an issue on ``[p]audiostats`` command that occurred when there were more than 20 servers to display (:issue:`2533`)\n- **Cogs - Audio** - Fixed the link shown by ``[p]prev`` command (:issue:`2556`)\n- **Cogs - Audio** - Fixed an issue with ``[p]playlist queue`` that occurred when the bot was connected but wasn't playing anything (:issue:`2586`)\n- **Cogs - Audio** - Fixed an issue with setting DJ role in ``[p]audioset dj`` command (:issue:`2606`)\n- **Cogs - Downloader** - Fixed a bug that caused Downloader to include submodules on cog list (:issue:`2590`)\n- **Cogs - Downloader** - The error message sent by ``[p]cog install`` when required libraries fail to install is now properly formatted (:issue:`2576`)\n- **Cogs - Downloader** - The ``[p]cog uninstall`` command will now remove cog from installed cogs list even if it can't find the cog in install path anymore (:issue:`2595`)\n- **Cogs - Mod** - Fixed ``[p]ban`` not allowing to omit ``days`` argument (:issue:`2602`)\n- **Cogs - Trivia - Lists** - Fixed dead image link for Sao Tome and Principe flag in ``worldflags`` trivia (:issue:`2540`)\n\n\nDeveloper changelog\n-------------------\n\nBreaking Changes\n****************\n\n- **Core - Config** - We now record custom group primary key lengths in the core config object (:issue:`2550`)\n- **Cogs - Downloader** - Cog Developers now have to use ``min_bot_version`` key instead of ``bot_version`` to specify minimum version of Red supported by the cog in ``info.json``, see more information in :ref:`info-json-format` (:issue:`2605`)\n\nAdditions\n*********\n\n- **Core** - Added a ``on_message_without_command`` event that is dispatched when bot gets an event for a message that doesn't contain a command (:issue:`2338`)\n- **Core - Config** - Introduced `Config.init_custom()` method (:issue:`2545`)\n- **Core - Utils Package** - Added `chat_formatting.humanize_timedelta()` (:issue:`2412`)\n- **Cogs - Downloader** - Added ``max_bot_version`` key to ``info.json`` that allows to specify maximum supported version of Red supported by the cog in ``info.json``, see more information in :ref:`info-json-format`. (:issue:`2605`)\n\nChanges\n*******\n\n- **Core** - Usage of ``yaml.load`` will now warn about its security issues (:issue:`2326`)\n- **Core - Config** - Migrated internal UUIDs to maintain cross platform consistency (:issue:`2604`)\n- **Core - Utils Package** - Improved error handling of empty lists in `chat_formatting.humanize_list()` (:issue:`2597`)\n- **Core - Dependencies** - Red is now no longer vendoring discord.py and installs it from PyPI (:issue:`2587`)\n- **Core - Dependencies** - Upgraded discord.py dependency to version 1.0.1 (:issue:`2587`)\n\nFixes\n*****\n\n- **Core - Utils Package** - Fixed spelling of the `Tunnel`'s method from ``files_from_attatch()`` to `files_from_attach() <Tunnel.files_from_attach()>`; old name was left for backwards compatibility (:issue:`2496`)\n- **Core - Utils Package** - Fixed behavior of ``Tunnel.react_close()`` - now when tunnel closes, the message will be sent to the other end (:issue:`2507`)\n\n----\n\nRedbot 3.0.2 (2019-02-24)\n=========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`Tobotimus`, :ghuser:`ZeLarpMaster`\n\nEnd-user changelog\n------------------\n\nFixes\n*****\n\n- **Cogs - Permissions** - Fixed rules loading for cogs (`431cdf1 <https://github.com/Cog-Creators/Red-DiscordBot/commit/431cdf1ad4247fbe40f940e39bac4c919b470937>`__)\n- **Cogs - Trivia - Lists** - Fixed a typo in ``cars`` trivia (:issue:`2475`)\n\n----\n\nRedbot 3.0.1 (2019-02-17)\n=========================\n\n| Thanks to all these amazing people that contributed to this release:\n| :ghuser:`calebj`, :ghuser:`DiscordLiz`, :ghuser:`mikeshardmind`, :ghuser:`PredaaA`, :ghuser:`Redjumpman`, :ghuser:`Tobotimus`, :ghuser:`Twentysix26`, :ghuser:`ZeLarpMaster`, :ghuser:`zephyrkul`\n\nEnd-user changelog\n------------------\n\nChanges\n*******\n\n- **Core - Bot Commands** - Improve some of the core commands to not require double quotes for arguments with spaces, if they're the last argument required by the command (:issue:`2407`)\n- **Core - Bot Commands** - Using ``[p]load`` command now sends help message when it's used without arguments (:issue:`2432`)\n- **Cogs - Downloader** - The ``[p]pipinstall`` command now sends help message when it's used without arguments (`eebed27 <https://github.com/Cog-Creators/Red-DiscordBot/commit/eebed27fe76aa5b51cfa38ac9a35bd182d881352>`__)\n- **Cogs - Mod** - Usernames and nicknames listed in ``[p]names`` and ``[p]userinfo`` commands now have the spoiler markdown escaped (:issue:`2401`)\n- **Cogs - Modlog** - Usernames listed in modlog cases now have the spoiler markdown escaped (:issue:`2401`)\n- **Cogs - Warnings** - Members can now also be passed with username, nickname, or user mention to ``[p]warnings`` and ``[p]unwarn`` commands (:issue:`2403`, :issue:`2404`)\n\nFixes\n*****\n\n- **Core** - Messages sent interactively (i.e. prompting user whether they would like to view the next message) now no longer cause errors if bot's prompt message gets removed by other means (:issue:`2380`, :issue:`2447`)\n- **Core - Bot Commands** - Fixed error in ``[p]servers`` command that was happening when bot's prompt message was deleted before the prompt time was over (:issue:`2400`)\n- **Core - Command-line Interfaces** - Fixed behavior of CLI arguments in ``redbot-launcher`` (:issue:`2432`)\n- **Cogs - Audio** - Fixed issues with setting external Lavalink (:issue:`2306`, :issue:`2460`)\n- **Cogs - Audio** - Audio now cleans up zombie players from guilds it's no longer in (:issue:`2414`)\n- **Cogs - Downloader** - Fixed issues with cloning that happened if instance's data path had spaces (:issue:`2421`)\n- **Cogs - Mod** - ``[p]userinfo`` now accounts for guild's lurkers (:issue:`2406`, :issue:`2426`)\n- **Cogs - Permissions** - Fixed rule precedence issues for default rules (:issue:`2313`, :issue:`2422`)\n\n\nDeveloper changelog\n-------------------\n\nAdditions\n*********\n\n- **Core - Utils Package** - Added `escape_spoilers()` and `escape_spoilers_and_mass_mentions()` methods for escaping strings with spoiler markdown (:issue:`2401`)\n\nFixes\n*****\n\n- **Core - Utils Package** - ``MessagePredicate.lower_contained_in()`` now actually lowers the message content before trying to match (:issue:`2399`)\n\n----\n\nRedbot 3.0.0 (2019-01-28)\n=========================\n\nFirst stable release of Red V3.\nChangelogs for this and previous versions can be found on `our GitHub releases page <https://github.com/Cog-Creators/Red-DiscordBot/releases?after=3.0.1>`__.\n"
        },
        {
          "name": "CONTRIBUTING.md",
          "type": "blob",
          "size": 11.625,
          "content": "# Contents\n* [1. Introduction](#1-introduction)\n  * [1.1 Why do these guidelines exist?](#11-why-do-these-guidelines-exist)\n  * [1.2 What kinds of contributions are we looking for?](#12-what-kinds-of-contributions-are-we-looking-for)\n* [2. Ground Rules](#2-ground-rules)\n* [3. Your First Contribution](#3-your-first-contribution)\n* [4. Getting Started](#4-getting-started)\n  * [4.1 Setting up your development environment](#41-setting-up-your-development-environment)\n  * [4.2 Testing](#42-testing)\n  * [4.3 Style](#43-style)\n  * [4.4 Make](#44-make)\n  * [4.5 Keeping your dependencies up to date](#45-keeping-your-dependencies-up-to-date)\n  * [4.6 To contribute changes](#46-to-contribute-changes)\n  * [4.7 How To Report A Bug](#47-how-to-report-a-bug)\n  * [4.8 How To Suggest A Feature Or Enhancement](#48-how-to-suggest-a-feature-or-enhancement)\n* [5. Code Review Process](#5-code-review-process)\n  * [5.1 Issues](#51-issues)\n  * [5.2 Pull Requests](#52-pull-requests)\n  * [5.3 Differences between \"new features\" and \"improvements\"](#53-differences-between-new-features-and-improvements)\n* [6. Community](#6-community)\n\n# 1. Introduction\n**Welcome!** First off, thank you for contributing to the further development of Red. We're always looking for new ways to improve our project and we appreciate any help you can give us.\n\n### 1.1 Why do these guidelines exist?\nRed is an open source project. This means that each and every one of the developers and contributors who have helped make Red what it is today have done so by volunteering their time and effort. It takes a lot of time to coordinate and organize issues and new features and to review and test pull requests. By following these guidelines you will help the developers streamline the contribution process and save them time. In doing so we hope to get back to each and every issue and pull request in a timely manner.\n\n### 1.2 What kinds of contributions are we looking for?\nWe love receiving contributions from our community. Any assistance you can provide with regards to bug fixes, feature enhancements, and documentation is more than welcome.\n\n# 2. Ground Rules\n1. Ensure cross compatibility for Windows, Mac OS and Linux.\n2. Ensure all Python features used in contributions exist and work in Python 3.8.1 and above.\n3. Create new tests for code you add or bugs you fix. It helps us help you by making sure we don't accidentally break anything :grinning:\n4. Create any issues for new features you'd like to implement and explain why this feature is useful to everyone and not just you personally.\n5. Don't add new cogs unless specifically given approval in an issue discussing said cog idea.\n6. Be welcoming to newcomers and encourage diverse new contributors from all backgrounds. See [Python Community Code of Conduct](https://www.python.org/psf/codeofconduct/).\n\n# 3. Your First Contribution\nUnsure of how to get started contributing to Red? Please take a look at the Issues section of this repo and sort by the following labels:\n\n* beginner - issues that can normally be fixed in just a few lines of code and maybe a test or two.\n* help-wanted - issues that are currently unassigned to anyone and may be a bit more involved/complex than issues tagged with beginner.\n\n**Working on your first Pull Request?** You can learn how from this *free* series [How to Contribute to an Open Source Project on GitHub](https://app.egghead.io/playlists/how-to-contribute-to-an-open-source-project-on-github)\n\nAt this point you're ready to start making changes. Feel free to ask for help; everyone was a beginner at some point!\n\n# 4. Getting Started\n\nRed's repository is configured to follow a particular development workflow, using various reputable tools. We kindly ask that you stick to this workflow when contributing to Red, by following the guides below. This will help you to easily produce quality code, identify errors early, and streamline the code review process.\n\n### 4.1 Setting up your development environment\nThe following requirements must be installed prior to setting up:\n - Python 3.8.1 or greater\n - git\n - pip\n \nIf you're not on Windows, you should also have GNU make installed, and you can optionally install [pyenv](https://github.com/pyenv/pyenv), which can help you run tests for different python versions.\n\n1. Fork and clone the repository to a directory on your local machine.\n2. Open a command line in that directory and execute the following command:\n    ```bash\n    make newenv\n    ```\n    Red, its dependencies, and all required development tools, are now installed to a virtual environment located in the `.venv` subdirectory. Red is installed in editable mode, meaning that edits you make to the source code in the repository will be reflected when you run Red.\n3. Activate the new virtual environment with one of the following commands:\n    - Posix:\n        ```bash\n        source .venv/bin/activate\n        ```\n    - Windows:\n        ```powershell\n        .venv\\Scripts\\activate\n        ```\n    Each time you open a new command line, you should execute this command first. From here onwards, we will assume you are executing commands from within this activated virtual environment.\n \n**Note:** If you're comfortable with setting up virtual environments yourself and would rather do it manually, just run `pip install -Ur tools/dev-requirements.txt` after setting it up.\n\n### 4.2 Testing\nWe're using [tox](https://github.com/tox-dev/tox) to run all of our tests. It's extremely simple to use, and if you followed the previous section correctly, it is already installed to your virtual environment.\n\nCurrently, tox does the following, creating its own virtual environments for each stage:\n- Runs all of our unit tests with [pytest](https://github.com/pytest-dev/pytest) on python 3.8 (test environment `py38`)\n- Ensures documentation builds without warnings, and all hyperlinks have a valid destination (test environment `docs`)\n- Ensures that the code meets our style guide with [black](https://github.com/psf/black) (test environment `style`)\n\nTo run all of these tests, just run the command `tox` in the project directory.\n\nTo run a subset of these tests, use the command `tox -e <env>`, where `<env>` is the test environment you want tox to run. The test environments are noted in the dot points above.\n\nYour PR will not be merged until all of these tests pass.\n\n### 4.3 Style\nOur style checker of choice, [black](https://github.com/psf/black), actually happens to be an auto-formatter. The checking functionality simply detects whether or not it would try to reformat something in your code, should you run the formatter on it. For this reason, we recommend using this tool as a formatter, regardless of any disagreements you might have with the style it enforces.\n\nUse the command `black --help` to see how to use this tool. The full style guide is explained in detail on [black's GitHub repository](https://github.com/psf/black). **There is one exception to this**, however, which is that we set the line length to 99, instead of black's default 88. This is already set in `pyproject.toml` configuration file in the repo so you can simply format code with Black like so: `black <src>`.\n\n### 4.4 Make\nYou may have noticed we have a `Makefile` and a `make.bat` in the top-level directory. For now, you can do a few things with them:\n1. `make reformat`: Reformat all python files in the project with Black\n2. `make stylecheck`: Check if any `.py` files in the project need reformatting\n3. `make newenv`: Set up a new virtual environment in the `.venv` subdirectory, and install Red and its dependencies. If one already exists, it is cleared out and replaced.\n4. `make syncenv`: Sync your environment with Red's latest dependencies.\n\nThe other make recipes are most likely for project maintainers rather than contributors.\n\nYou can specify the Python executable used in the make recipes with the `PYTHON` environment variable, e.g. `make PYTHON=/usr/bin/python3.8 newenv`.\n\n### 4.5 Keeping your dependencies up to date\nWhenever you pull from upstream (V3/develop on the main repository) and you notice either of the files `setup.cfg` or `tools/dev-requirements.txt` have been changed, it can often mean some package dependencies have been updated, added or removed. To make sure you're testing and formatting with the most up-to-date versions of our dependencies, run `make syncenv`. You could also simply do `make newenv` to install them to a clean new virtual environment.\n\n### 4.6 To contribute changes\n\n1. Create a new branch on your fork\n2. Make the changes\n3. If you like the changes and think the main Red project could use it:\n    * Run tests with `tox` to ensure your code is up to scratch\n    * Create a Pull Request on GitHub with your changes\n      - If you are contributing a behavior change, please keep in mind that behavior changes\n        are conditional on them being appropriate for the project's current goals.\n        If you would like to reduce the risk of putting in effort for something we aren't\n        going to use, open an issue discussing it first.\n\n### 4.7 How To Report A Bug\nPlease see our **ISSUES.MD** for more information.\n\n### 4.8 How To Suggest A Feature Or Enhancement\nThe goal of Red is to be as useful to as many people as possible, this means that all features must be useful to anyone and any server that uses Red.\n\nIf you find yourself wanting a feature that Red does not already have, you're probably not alone. There's bound to be a great number of users out there needing the same thing and a lot of the features that Red has today have been added because of the needs of our users. Open an issue on our issues list and describe the feature you would like to see, how you would use it, how it should work, and why it would be useful to the Red community as a whole.\n\n# 5. Code Review Process\n\nWe have a core team working tirelessly to implement new features and fix bugs for the Red community. This core team looks at and evaluates new issues and PRs on a daily basis.\n\nThe decisions we make are based on a simple majority of that team or by decree of the project owner.\n\n### 5.1 Issues\nAny new issues will be looked at and evaluated for validity of a bug or for the usefulness of a suggested feature. If we have questions about your issue we will get back as soon as we can (usually in a day or two) and will try to make a decision within a week.\n\n### 5.2 Pull Requests\nPull requests are evaluated by their quality and how effectively they solve their corresponding issue. The process for reviewing pull requests is as follows:\n\n1. A pull request is submitted\n2. Core team members will review and test the pull request (usually within a week)\n3. After a member of the core team approves your pull request:\n    * If your pull request is considered an improvement or enhancement the project owner will have 1 day to veto or approve your pull request.\n    * If your pull request is considered a new feature the project owner will have 1 week to veto or approve your pull request.\n4. If any feedback is given we expect a response within 1 week or we may decide to close the PR.\n5. If your pull request is not vetoed and no core member requests changes then it will be approved and merged into the project.\n\n### 5.3 Differences between \"new features\" and \"improvements\"\nThe difference between a new feature and improvement can be quite fuzzy and the project owner reserves all rights to decide under which category your PR falls.\n\nAt a very basic level a PR is a new feature if it changes the intended way any part of the Red project currently works or if it modifies the user experience (UX) in any significant way. Otherwise, it is likely to be considered an improvement.\n\n# 6. Community\nYou can chat with the core team and other community members about issues or pull requests in the #coding channel of the Red support server located [here](https://discord.gg/red).\n"
        },
        {
          "name": "LICENSE",
          "type": "blob",
          "size": 36.1259765625,
          "content": "                    GNU GENERAL PUBLIC LICENSE\n                       Version 3, 29 June 2007\n\n Copyright (C) 2007 Free Software Foundation, Inc. <http://fsf.org/>\n Everyone is permitted to copy and distribute verbatim copies\n of this license document, but changing it is not allowed.\n\n                            Preamble\n\n  The GNU General Public License is a free, copyleft license for\nsoftware and other kinds of works.\n\n  The licenses for most software and other practical works are designed\nto take away your freedom to share and change the works.  By contrast,\nthe GNU General Public License is intended to guarantee your freedom to\nshare and change all versions of a program--to make sure it remains free\nsoftware for all its users.  We, the Free Software Foundation, use the\nGNU General Public License for most of our software; it applies also to\nany other work released this way by its authors.  You can apply it to\nyour programs, too.\n\n  When we speak of free software, we are referring to freedom, not\nprice.  Our General Public Licenses are designed to make sure that you\nhave the freedom to distribute copies of free software (and charge for\nthem if you wish), that you receive source code or can get it if you\nwant it, that you can change the software or use pieces of it in new\nfree programs, and that you know you can do these things.\n\n  To protect your rights, we need to prevent others from denying you\nthese rights or asking you to surrender the rights.  Therefore, you have\ncertain responsibilities if you distribute copies of the software, or if\nyou modify it: responsibilities to respect the freedom of others.\n\n  For example, if you distribute copies of such a program, whether\ngratis or for a fee, you must pass on to the recipients the same\nfreedoms that you received.  You must make sure that they, too, receive\nor can get the source code.  And you must show them these terms so they\nknow their rights.\n\n  Developers that use the GNU GPL protect your rights with two steps:\n(1) assert copyright on the software, and (2) offer you this License\ngiving you legal permission to copy, distribute and/or modify it.\n\n  For the developers' and authors' protection, the GPL clearly explains\nthat there is no warranty for this free software.  For both users' and\nauthors' sake, the GPL requires that modified versions be marked as\nchanged, so that their problems will not be attributed erroneously to\nauthors of previous versions.\n\n  Some devices are designed to deny users access to install or run\nmodified versions of the software inside them, although the manufacturer\ncan do so.  This is fundamentally incompatible with the aim of\nprotecting users' freedom to change the software.  The systematic\npattern of such abuse occurs in the area of products for individuals to\nuse, which is precisely where it is most unacceptable.  Therefore, we\nhave designed this version of the GPL to prohibit the practice for those\nproducts.  If such problems arise substantially in other domains, we\nstand ready to extend this provision to those domains in future versions\nof the GPL, as needed to protect the freedom of users.\n\n  Finally, every program is threatened constantly by software patents.\nStates should not allow patents to restrict development and use of\nsoftware on general-purpose computers, but in those that do, we wish to\navoid the special danger that patents applied to a free program could\nmake it effectively proprietary.  To prevent this, the GPL assures that\npatents cannot be used to render the program non-free.\n\n  The precise terms and conditions for copying, distribution and\nmodification follow.\n\n                       TERMS AND CONDITIONS\n\n  0. Definitions.\n\n  \"This License\" refers to version 3 of the GNU General Public License.\n\n  \"Copyright\" also means copyright-like laws that apply to other kinds of\nworks, such as semiconductor masks.\n\n  \"The Program\" refers to any copyrightable work licensed under this\nLicense.  Each licensee is addressed as \"you\".  \"Licensees\" and\n\"recipients\" may be individuals or organizations.\n\n  To \"modify\" a work means to copy from or adapt all or part of the work\nin a fashion requiring copyright permission, other than the making of an\nexact copy.  The resulting work is called a \"modified version\" of the\nearlier work or a work \"based on\" the earlier work.\n\n  A \"covered work\" means either the unmodified Program or a work based\non the Program.\n\n  To \"propagate\" a work means to do anything with it that, without\npermission, would make you directly or secondarily liable for\ninfringement under applicable copyright law, except executing it on a\ncomputer or modifying a private copy.  Propagation includes copying,\ndistribution (with or without modification), making available to the\npublic, and in some countries other activities as well.\n\n  To \"convey\" a work means any kind of propagation that enables other\nparties to make or receive copies.  Mere interaction with a user through\na computer network, with no transfer of a copy, is not conveying.\n\n  An interactive user interface displays \"Appropriate Legal Notices\"\nto the extent that it includes a convenient and prominently visible\nfeature that (1) displays an appropriate copyright notice, and (2)\ntells the user that there is no warranty for the work (except to the\nextent that warranties are provided), that licensees may convey the\nwork under this License, and how to view a copy of this License.  If\nthe interface presents a list of user commands or options, such as a\nmenu, a prominent item in the list meets this criterion.\n\n  1. Source Code.\n\n  The \"source code\" for a work means the preferred form of the work\nfor making modifications to it.  \"Object code\" means any non-source\nform of a work.\n\n  A \"Standard Interface\" means an interface that either is an official\nstandard defined by a recognized standards body, or, in the case of\ninterfaces specified for a particular programming language, one that\nis widely used among developers working in that language.\n\n  The \"System Libraries\" of an executable work include anything, other\nthan the work as a whole, that (a) is included in the normal form of\npackaging a Major Component, but which is not part of that Major\nComponent, and (b) serves only to enable use of the work with that\nMajor Component, or to implement a Standard Interface for which an\nimplementation is available to the public in source code form.  A\n\"Major Component\", in this context, means a major essential component\n(kernel, window system, and so on) of the specific operating system\n(if any) on which the executable work runs, or a compiler used to\nproduce the work, or an object code interpreter used to run it.\n\n  The \"Corresponding Source\" for a work in object code form means all\nthe source code needed to generate, install, and (for an executable\nwork) run the object code and to modify the work, including scripts to\ncontrol those activities.  However, it does not include the work's\nSystem Libraries, or general-purpose tools or generally available free\nprograms which are used unmodified in performing those activities but\nwhich are not part of the work.  For example, Corresponding Source\nincludes interface definition files associated with source files for\nthe work, and the source code for shared libraries and dynamically\nlinked subprograms that the work is specifically designed to require,\nsuch as by intimate data communication or control flow between those\nsubprograms and other parts of the work.\n\n  The Corresponding Source need not include anything that users\ncan regenerate automatically from other parts of the Corresponding\nSource.\n\n  The Corresponding Source for a work in source code form is that\nsame work.\n\n  2. Basic Permissions.\n\n  All rights granted under this License are granted for the term of\ncopyright on the Program, and are irrevocable provided the stated\nconditions are met.  This License explicitly affirms your unlimited\npermission to run the unmodified Program.  The output from running a\ncovered work is covered by this License only if the output, given its\ncontent, constitutes a covered work.  This License acknowledges your\nrights of fair use or other equivalent, as provided by copyright law.\n\n  You may make, run and propagate covered works that you do not\nconvey, without conditions so long as your license otherwise remains\nin force.  You may convey covered works to others for the sole purpose\nof having them make modifications exclusively for you, or provide you\nwith facilities for running those works, provided that you comply with\nthe terms of this License in conveying all material for which you do\nnot control copyright.  Those thus making or running the covered works\nfor you must do so exclusively on your behalf, under your direction\nand control, on terms that prohibit them from making any copies of\nyour copyrighted material outside their relationship with you.\n\n  Conveying under any other circumstances is permitted solely under\nthe conditions stated below.  Sublicensing is not allowed; section 10\nmakes it unnecessary.\n\n  3. Protecting Users' Legal Rights From Anti-Circumvention Law.\n\n  No covered work shall be deemed part of an effective technological\nmeasure under any applicable law fulfilling obligations under article\n11 of the WIPO copyright treaty adopted on 20 December 1996, or\nsimilar laws prohibiting or restricting circumvention of such\nmeasures.\n\n  When you convey a covered work, you waive any legal power to forbid\ncircumvention of technological measures to the extent such circumvention\nis effected by exercising rights under this License with respect to\nthe covered work, and you disclaim any intention to limit operation or\nmodification of the work as a means of enforcing, against the work's\nusers, your or third parties' legal rights to forbid circumvention of\ntechnological measures.\n\n  4. Conveying Verbatim Copies.\n\n  You may convey verbatim copies of the Program's source code as you\nreceive it, in any medium, provided that you conspicuously and\nappropriately publish on each copy an appropriate copyright notice;\nkeep intact all notices stating that this License and any\nnon-permissive terms added in accord with section 7 apply to the code;\nkeep intact all notices of the absence of any warranty; and give all\nrecipients a copy of this License along with the Program.\n\n  You may charge any price or no price for each copy that you convey,\nand you may offer support or warranty protection for a fee.\n\n  5. Conveying Modified Source Versions.\n\n  You may convey a work based on the Program, or the modifications to\nproduce it from the Program, in the form of source code under the\nterms of section 4, provided that you also meet all of these conditions:\n\n    a) The work must carry prominent notices stating that you modified\n    it, and giving a relevant date.\n\n    b) The work must carry prominent notices stating that it is\n    released under this License and any conditions added under section\n    7.  This requirement modifies the requirement in section 4 to\n    \"keep intact all notices\".\n\n    c) You must license the entire work, as a whole, under this\n    License to anyone who comes into possession of a copy.  This\n    License will therefore apply, along with any applicable section 7\n    additional terms, to the whole of the work, and all its parts,\n    regardless of how they are packaged.  This License gives no\n    permission to license the work in any other way, but it does not\n    invalidate such permission if you have separately received it.\n\n    d) If the work has interactive user interfaces, each must display\n    Appropriate Legal Notices; however, if the Program has interactive\n    interfaces that do not display Appropriate Legal Notices, your\n    work need not make them do so.\n\n  A compilation of a covered work with other separate and independent\nworks, which are not by their nature extensions of the covered work,\nand which are not combined with it such as to form a larger program,\nin or on a volume of a storage or distribution medium, is called an\n\"aggregate\" if the compilation and its resulting copyright are not\nused to limit the access or legal rights of the compilation's users\nbeyond what the individual works permit.  Inclusion of a covered work\nin an aggregate does not cause this License to apply to the other\nparts of the aggregate.\n\n  6. Conveying Non-Source Forms.\n\n  You may convey a covered work in object code form under the terms\nof sections 4 and 5, provided that you also convey the\nmachine-readable Corresponding Source under the terms of this License,\nin one of these ways:\n\n    a) Convey the object code in, or embodied in, a physical product\n    (including a physical distribution medium), accompanied by the\n    Corresponding Source fixed on a durable physical medium\n    customarily used for software interchange.\n\n    b) Convey the object code in, or embodied in, a physical product\n    (including a physical distribution medium), accompanied by a\n    written offer, valid for at least three years and valid for as\n    long as you offer spare parts or customer support for that product\n    model, to give anyone who possesses the object code either (1) a\n    copy of the Corresponding Source for all the software in the\n    product that is covered by this License, on a durable physical\n    medium customarily used for software interchange, for a price no\n    more than your reasonable cost of physically performing this\n    conveying of source, or (2) access to copy the\n    Corresponding Source from a network server at no charge.\n\n    c) Convey individual copies of the object code with a copy of the\n    written offer to provide the Corresponding Source.  This\n    alternative is allowed only occasionally and noncommercially, and\n    only if you received the object code with such an offer, in accord\n    with subsection 6b.\n\n    d) Convey the object code by offering access from a designated\n    place (gratis or for a charge), and offer equivalent access to the\n    Corresponding Source in the same way through the same place at no\n    further charge.  You need not require recipients to copy the\n    Corresponding Source along with the object code.  If the place to\n    copy the object code is a network server, the Corresponding Source\n    may be on a different server (operated by you or a third party)\n    that supports equivalent copying facilities, provided you maintain\n    clear directions next to the object code saying where to find the\n    Corresponding Source.  Regardless of what server hosts the\n    Corresponding Source, you remain obligated to ensure that it is\n    available for as long as needed to satisfy these requirements.\n\n    e) Convey the object code using peer-to-peer transmission, provided\n    you inform other peers where the object code and Corresponding\n    Source of the work are being offered to the general public at no\n    charge under subsection 6d.\n\n  A separable portion of the object code, whose source code is excluded\nfrom the Corresponding Source as a System Library, need not be\nincluded in conveying the object code work.\n\n  A \"User Product\" is either (1) a \"consumer product\", which means any\ntangible personal property which is normally used for personal, family,\nor household purposes, or (2) anything designed or sold for incorporation\ninto a dwelling.  In determining whether a product is a consumer product,\ndoubtful cases shall be resolved in favor of coverage.  For a particular\nproduct received by a particular user, \"normally used\" refers to a\ntypical or common use of that class of product, regardless of the status\nof the particular user or of the way in which the particular user\nactually uses, or expects or is expected to use, the product.  A product\nis a consumer product regardless of whether the product has substantial\ncommercial, industrial or non-consumer uses, unless such uses represent\nthe only significant mode of use of the product.\n\n  \"Installation Information\" for a User Product means any methods,\nprocedures, authorization keys, or other information required to install\nand execute modified versions of a covered work in that User Product from\na modified version of its Corresponding Source.  The information must\nsuffice to ensure that the continued functioning of the modified object\ncode is in no case prevented or interfered with solely because\nmodification has been made.\n\n  If you convey an object code work under this section in, or with, or\nspecifically for use in, a User Product, and the conveying occurs as\npart of a transaction in which the right of possession and use of the\nUser Product is transferred to the recipient in perpetuity or for a\nfixed term (regardless of how the transaction is characterized), the\nCorresponding Source conveyed under this section must be accompanied\nby the Installation Information.  But this requirement does not apply\nif neither you nor any third party retains the ability to install\nmodified object code on the User Product (for example, the work has\nbeen installed in ROM).\n\n  The requirement to provide Installation Information does not include a\nrequirement to continue to provide support service, warranty, or updates\nfor a work that has been modified or installed by the recipient, or for\nthe User Product in which it has been modified or installed.  Access to a\nnetwork may be denied when the modification itself materially and\nadversely affects the operation of the network or violates the rules and\nprotocols for communication across the network.\n\n  Corresponding Source conveyed, and Installation Information provided,\nin accord with this section must be in a format that is publicly\ndocumented (and with an implementation available to the public in\nsource code form), and must require no special password or key for\nunpacking, reading or copying.\n\n  7. Additional Terms.\n\n  \"Additional permissions\" are terms that supplement the terms of this\nLicense by making exceptions from one or more of its conditions.\nAdditional permissions that are applicable to the entire Program shall\nbe treated as though they were included in this License, to the extent\nthat they are valid under applicable law.  If additional permissions\napply only to part of the Program, that part may be used separately\nunder those permissions, but the entire Program remains governed by\nthis License without regard to the additional permissions.\n\n  When you convey a copy of a covered work, you may at your option\nremove any additional permissions from that copy, or from any part of\nit.  (Additional permissions may be written to require their own\nremoval in certain cases when you modify the work.)  You may place\nadditional permissions on material, added by you to a covered work,\nfor which you have or can give appropriate copyright permission.\n\n  Notwithstanding any other provision of this License, for material you\nadd to a covered work, you may (if authorized by the copyright holders of\nthat material) supplement the terms of this License with terms:\n\n    a) Disclaiming warranty or limiting liability differently from the\n    terms of sections 15 and 16 of this License; or\n\n    b) Requiring preservation of specified reasonable legal notices or\n    author attributions in that material or in the Appropriate Legal\n    Notices displayed by works containing it; or\n\n    c) Prohibiting misrepresentation of the origin of that material, or\n    requiring that modified versions of such material be marked in\n    reasonable ways as different from the original version; or\n\n    d) Limiting the use for publicity purposes of names of licensors or\n    authors of the material; or\n\n    e) Declining to grant rights under trademark law for use of some\n    trade names, trademarks, or service marks; or\n\n    f) Requiring indemnification of licensors and authors of that\n    material by anyone who conveys the material (or modified versions of\n    it) with contractual assumptions of liability to the recipient, for\n    any liability that these contractual assumptions directly impose on\n    those licensors and authors.\n\n  All other non-permissive additional terms are considered \"further\nrestrictions\" within the meaning of section 10.  If the Program as you\nreceived it, or any part of it, contains a notice stating that it is\ngoverned by this License along with a term that is a further\nrestriction, you may remove that term.  If a license document contains\na further restriction but permits relicensing or conveying under this\nLicense, you may add to a covered work material governed by the terms\nof that license document, provided that the further restriction does\nnot survive such relicensing or conveying.\n\n  If you add terms to a covered work in accord with this section, you\nmust place, in the relevant source files, a statement of the\nadditional terms that apply to those files, or a notice indicating\nwhere to find the applicable terms.\n\n  Additional terms, permissive or non-permissive, may be stated in the\nform of a separately written license, or stated as exceptions;\nthe above requirements apply either way.\n\n  8. Termination.\n\n  You may not propagate or modify a covered work except as expressly\nprovided under this License.  Any attempt otherwise to propagate or\nmodify it is void, and will automatically terminate your rights under\nthis License (including any patent licenses granted under the third\nparagraph of section 11).\n\n  However, if you cease all violation of this License, then your\nlicense from a particular copyright holder is reinstated (a)\nprovisionally, unless and until the copyright holder explicitly and\nfinally terminates your license, and (b) permanently, if the copyright\nholder fails to notify you of the violation by some reasonable means\nprior to 60 days after the cessation.\n\n  Moreover, your license from a particular copyright holder is\nreinstated permanently if the copyright holder notifies you of the\nviolation by some reasonable means, this is the first time you have\nreceived notice of violation of this License (for any work) from that\ncopyright holder, and you cure the violation prior to 30 days after\nyour receipt of the notice.\n\n  Termination of your rights under this section does not terminate the\nlicenses of parties who have received copies or rights from you under\nthis License.  If your rights have been terminated and not permanently\nreinstated, you do not qualify to receive new licenses for the same\nmaterial under section 10.\n\n  9. Acceptance Not Required for Having Copies.\n\n  You are not required to accept this License in order to receive or\nrun a copy of the Program.  Ancillary propagation of a covered work\noccurring solely as a consequence of using peer-to-peer transmission\nto receive a copy likewise does not require acceptance.  However,\nnothing other than this License grants you permission to propagate or\nmodify any covered work.  These actions infringe copyright if you do\nnot accept this License.  Therefore, by modifying or propagating a\ncovered work, you indicate your acceptance of this License to do so.\n\n  10. Automatic Licensing of Downstream Recipients.\n\n  Each time you convey a covered work, the recipient automatically\nreceives a license from the original licensors, to run, modify and\npropagate that work, subject to this License.  You are not responsible\nfor enforcing compliance by third parties with this License.\n\n  An \"entity transaction\" is a transaction transferring control of an\norganization, or substantially all assets of one, or subdividing an\norganization, or merging organizations.  If propagation of a covered\nwork results from an entity transaction, each party to that\ntransaction who receives a copy of the work also receives whatever\nlicenses to the work the party's predecessor in interest had or could\ngive under the previous paragraph, plus a right to possession of the\nCorresponding Source of the work from the predecessor in interest, if\nthe predecessor has it or can get it with reasonable efforts.\n\n  You may not impose any further restrictions on the exercise of the\nrights granted or affirmed under this License.  For example, you may\nnot impose a license fee, royalty, or other charge for exercise of\nrights granted under this License, and you may not initiate litigation\n(including a cross-claim or counterclaim in a lawsuit) alleging that\nany patent claim is infringed by making, using, selling, offering for\nsale, or importing the Program or any portion of it.\n\n  11. Patents.\n\n  A \"contributor\" is a copyright holder who authorizes use under this\nLicense of the Program or a work on which the Program is based.  The\nwork thus licensed is called the contributor's \"contributor version\".\n\n  A contributor's \"essential patent claims\" are all patent claims\nowned or controlled by the contributor, whether already acquired or\nhereafter acquired, that would be infringed by some manner, permitted\nby this License, of making, using, or selling its contributor version,\nbut do not include claims that would be infringed only as a\nconsequence of further modification of the contributor version.  For\npurposes of this definition, \"control\" includes the right to grant\npatent sublicenses in a manner consistent with the requirements of\nthis License.\n\n  Each contributor grants you a non-exclusive, worldwide, royalty-free\npatent license under the contributor's essential patent claims, to\nmake, use, sell, offer for sale, import and otherwise run, modify and\npropagate the contents of its contributor version.\n\n  In the following three paragraphs, a \"patent license\" is any express\nagreement or commitment, however denominated, not to enforce a patent\n(such as an express permission to practice a patent or covenant not to\nsue for patent infringement).  To \"grant\" such a patent license to a\nparty means to make such an agreement or commitment not to enforce a\npatent against the party.\n\n  If you convey a covered work, knowingly relying on a patent license,\nand the Corresponding Source of the work is not available for anyone\nto copy, free of charge and under the terms of this License, through a\npublicly available network server or other readily accessible means,\nthen you must either (1) cause the Corresponding Source to be so\navailable, or (2) arrange to deprive yourself of the benefit of the\npatent license for this particular work, or (3) arrange, in a manner\nconsistent with the requirements of this License, to extend the patent\nlicense to downstream recipients.  \"Knowingly relying\" means you have\nactual knowledge that, but for the patent license, your conveying the\ncovered work in a country, or your recipient's use of the covered work\nin a country, would infringe one or more identifiable patents in that\ncountry that you have reason to believe are valid.\n\n  If, pursuant to or in connection with a single transaction or\narrangement, you convey, or propagate by procuring conveyance of, a\ncovered work, and grant a patent license to some of the parties\nreceiving the covered work authorizing them to use, propagate, modify\nor convey a specific copy of the covered work, then the patent license\nyou grant is automatically extended to all recipients of the covered\nwork and works based on it.\n\n  A patent license is \"discriminatory\" if it does not include within\nthe scope of its coverage, prohibits the exercise of, or is\nconditioned on the non-exercise of one or more of the rights that are\nspecifically granted under this License.  You may not convey a covered\nwork if you are a party to an arrangement with a third party that is\nin the business of distributing software, under which you make payment\nto the third party based on the extent of your activity of conveying\nthe work, and under which the third party grants, to any of the\nparties who would receive the covered work from you, a discriminatory\npatent license (a) in connection with copies of the covered work\nconveyed by you (or copies made from those copies), or (b) primarily\nfor and in connection with specific products or compilations that\ncontain the covered work, unless you entered into that arrangement,\nor that patent license was granted, prior to 28 March 2007.\n\n  Nothing in this License shall be construed as excluding or limiting\nany implied license or other defenses to infringement that may\notherwise be available to you under applicable patent law.\n\n  12. No Surrender of Others' Freedom.\n\n  If conditions are imposed on you (whether by court order, agreement or\notherwise) that contradict the conditions of this License, they do not\nexcuse you from the conditions of this License.  If you cannot convey a\ncovered work so as to satisfy simultaneously your obligations under this\nLicense and any other pertinent obligations, then as a consequence you may\nnot convey it at all.  For example, if you agree to terms that obligate you\nto collect a royalty for further conveying from those to whom you convey\nthe Program, the only way you could satisfy both those terms and this\nLicense would be to refrain entirely from conveying the Program.\n\n  13. Use with the GNU Affero General Public License.\n\n  Notwithstanding any other provision of this License, you have\npermission to link or combine any covered work with a work licensed\nunder version 3 of the GNU Affero General Public License into a single\ncombined work, and to convey the resulting work.  The terms of this\nLicense will continue to apply to the part which is the covered work,\nbut the special requirements of the GNU Affero General Public License,\nsection 13, concerning interaction through a network will apply to the\ncombination as such.\n\n  14. Revised Versions of this License.\n\n  The Free Software Foundation may publish revised and/or new versions of\nthe GNU General Public License from time to time.  Such new versions will\nbe similar in spirit to the present version, but may differ in detail to\naddress new problems or concerns.\n\n  Each version is given a distinguishing version number.  If the\nProgram specifies that a certain numbered version of the GNU General\nPublic License \"or any later version\" applies to it, you have the\noption of following the terms and conditions either of that numbered\nversion or of any later version published by the Free Software\nFoundation.  If the Program does not specify a version number of the\nGNU General Public License, you may choose any version ever published\nby the Free Software Foundation.\n\n  If the Program specifies that a proxy can decide which future\nversions of the GNU General Public License can be used, that proxy's\npublic statement of acceptance of a version permanently authorizes you\nto choose that version for the Program.\n\n  Later license versions may give you additional or different\npermissions.  However, no additional obligations are imposed on any\nauthor or copyright holder as a result of your choosing to follow a\nlater version.\n\n  15. Disclaimer of Warranty.\n\n  THERE IS NO WARRANTY FOR THE PROGRAM, TO THE EXTENT PERMITTED BY\nAPPLICABLE LAW.  EXCEPT WHEN OTHERWISE STATED IN WRITING THE COPYRIGHT\nHOLDERS AND/OR OTHER PARTIES PROVIDE THE PROGRAM \"AS IS\" WITHOUT WARRANTY\nOF ANY KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO,\nTHE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\nPURPOSE.  THE ENTIRE RISK AS TO THE QUALITY AND PERFORMANCE OF THE PROGRAM\nIS WITH YOU.  SHOULD THE PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF\nALL NECESSARY SERVICING, REPAIR OR CORRECTION.\n\n  16. Limitation of Liability.\n\n  IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING\nWILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MODIFIES AND/OR CONVEYS\nTHE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES, INCLUDING ANY\nGENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING OUT OF THE\nUSE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED TO LOSS OF\nDATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY YOU OR THIRD\nPARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER PROGRAMS),\nEVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF\nSUCH DAMAGES.\n\n  17. Interpretation of Sections 15 and 16.\n\n  If the disclaimer of warranty and limitation of liability provided\nabove cannot be given local legal effect according to their terms,\nreviewing courts shall apply local law that most closely approximates\nan absolute waiver of all civil liability in connection with the\nProgram, unless a warranty or assumption of liability accompanies a\ncopy of the Program in return for a fee.\n\n                     END OF TERMS AND CONDITIONS\n\n            How to Apply These Terms to Your New Programs\n\n  If you develop a new program, and you want it to be of the greatest\npossible use to the public, the best way to achieve this is to make it\nfree software which everyone can redistribute and change under these terms.\n\n  To do so, attach the following notices to the program.  It is safest\nto attach them to the start of each source file to most effectively\nstate the exclusion of warranty; and each file should have at least\nthe \"copyright\" line and a pointer to where the full notice is found.\n\n    Red - A fully customizable Discord bot\n    Copyright (C) 2017-present  Cog Creators\n    Copyright (C) 2015-2017  Twentysix\n\n    This program is free software: you can redistribute it and/or modify\n    it under the terms of the GNU General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    This program is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU General Public License for more details.\n\n    You should have received a copy of the GNU General Public License\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nAlso add information on how to contact you by electronic and paper mail.\n\n  If the program does terminal interaction, make it output a short\nnotice like this when it starts in an interactive mode:\n\n    Red-DiscordBot  Copyright (C) 2017-present  Cog Creators\n    Red-DiscordBot  Copyright (C) 2015-2017  Twentysix\n    This program comes with ABSOLUTELY NO WARRANTY; for details type `show w'.\n    This is free software, and you are welcome to redistribute it\n    under certain conditions; type `show c' for details.\n\nThe hypothetical commands `show w' and `show c' should show the appropriate\nparts of the General Public License.  Of course, your program's commands\nmight be different; for a GUI interface, you would use an \"about box\".\n\n  You should also get your employer (if you work as a programmer) or school,\nif any, to sign a \"copyright disclaimer\" for the program, if necessary.\nFor more information on this, and how to apply and follow the GNU GPL, see\n<http://www.gnu.org/licenses/>.\n\n  The GNU General Public License does not permit incorporating your program\ninto proprietary programs.  If your program is a subroutine library, you\nmay consider it more useful to permit linking proprietary applications with\nthe library.  If this is what you want to do, use the GNU Lesser General\nPublic License instead of this License.  But first, please read\n<http://www.gnu.org/philosophy/why-not-lgpl.html>.\n\nThe Red-DiscordBot project contains subcomponents in the Audio module that \nhave a separate copyright notice and license terms. Your use of the source \ncode for these subcomponents is subject to the terms and conditions of the \nfollowing licenses.\n\nThis product bundles methods from https://github.com/Just-Some-Bots/MusicBot/\nblob/master/musicbot/spotify.py which are available under an MIT license.\n\nCopyright (c) 2015-2018 Just-Some-Bots (https://github.com/Just-Some-Bots)\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n\nThis project vendors discord.ext.menus package (https://github.com/Rapptz/discord-ext-menus) made by Danny Y. (Rapptz) which is distributed under MIT License.\nCopy of this license can be found in discord-ext-menus.LICENSE file in redbot/vendored folder of this repository.\n"
        },
        {
          "name": "MANIFEST.in",
          "type": "blob",
          "size": 0.771484375,
          "content": "# include license files\ninclude LICENSE\nrecursive-include redbot *.LICENSE\n\n# include requirements files\ninclude requirements/base.in\ninclude requirements/base.txt\ninclude requirements/extra-*.in\ninclude requirements/extra-*.txt\n\n# include locale files\nrecursive-include redbot locales/*.po\n\n# include data folders for cogs\nrecursive-include redbot/**/data *\n\n# include *.export files from the test fixtures\nrecursive-include redbot *.export\n\n# include the py.typed file informing about Red being typed\nrecursive-include redbot py.typed\n\n# include *.sql files from postgres driver\nrecursive-include redbot/core/_drivers/postgres *.sql\n\n# include tests\ngraft tests\n\n# include tox configuration\ninclude tox.ini\n\n# exclude files containing byte-code and compiled libs\nglobal-exclude *.py[cod]\n"
        },
        {
          "name": "Makefile",
          "type": "blob",
          "size": 1.689453125,
          "content": ".DEFAULT_GOAL := help\n\nPYTHON ?= python3.8\n\nROOT_DIR:=$(shell dirname $(realpath $(firstword $(MAKEFILE_LIST))))\n\nifneq ($(wildcard $(ROOT_DIR)/.venv/.),)\n\tVENV_PYTHON = $(ROOT_DIR)/.venv/bin/python\nelse\n\tVENV_PYTHON = $(PYTHON)\nendif\n\ndefine HELP_BODY\nUsage:\n  make <command>\n\nCommands:\n  reformat                   Reformat all .py files being tracked by git.\n  stylecheck                 Check which tracked .py files need reformatting.\n  stylediff                  Show the post-reformat diff of the tracked .py files\n                             without modifying them.\n  gettext                    Generate pot files.\n  upload_translations        Upload pot files to Crowdin.\n  download_translations      Download translations from Crowdin.\n  bumpdeps                   Run script bumping dependencies.\n  newenv                     Create or replace this project's virtual environment.\n  syncenv                    Sync this project's virtual environment to Red's latest\n                             dependencies.\nendef\nexport HELP_BODY\n\n# Python Code Style\nreformat:\n\t$(VENV_PYTHON) -m black $(ROOT_DIR)\nstylecheck:\n\t$(VENV_PYTHON) -m black --check $(ROOT_DIR)\nstylediff:\n\t$(VENV_PYTHON) -m black --check --diff $(ROOT_DIR)\n\n# Translations\ngettext:\n\t$(PYTHON) -m redgettext --command-docstrings --verbose --recursive redbot --exclude-files \"redbot/pytest/**/*\"\nupload_translations:\n\tcrowdin upload sources\ndownload_translations:\n\tcrowdin download\n\n# Dependencies\nbumpdeps:\n\t$(PYTHON) tools/bumpdeps.py\n\n# Development environment\nnewenv:\n\t$(PYTHON) -m venv --clear .venv\n\t.venv/bin/pip install -U pip wheel\n\t$(MAKE) syncenv\nsyncenv:\n\t.venv/bin/pip install -Ur ./tools/dev-requirements.txt\n\n# Help\nhelp:\n\t@echo \"$$HELP_BODY\"\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 5.369140625,
          "content": "<h1 align=\"center\">\n  <br>\n  <a href=\"https://github.com/Cog-Creators/Red-DiscordBot/tree/V3/develop\"><img src=\"https://imgur.com/pY1WUFX.png\" alt=\"Red - Discord Bot\"></a>\n  <br>\n  Red Discord Bot\n  <br>\n</h1>\n\n<h4 align=\"center\">Music, Moderation, Trivia, Stream Alerts and Fully Modular.</h4>\n\n<p align=\"center\">\n  <a href=\"https://discord.gg/red\">\n    <img src=\"https://discordapp.com/api/guilds/133049272517001216/widget.png?style=shield\" alt=\"Discord Server\">\n  </a>\n  <a href=\"https://pypi.org/project/Red-DiscordBot/\">\n     <img alt=\"PyPI\" src=\"https://img.shields.io/pypi/v/Red-Discordbot\">\n  </a>\n  <a href=\"https://www.python.org/downloads/\">\n    <img alt=\"PyPI - Python Version\" src=\"https://img.shields.io/pypi/pyversions/Red-Discordbot\">\n  </a>\n  <a href=\"https://github.com/Rapptz/discord.py/\">\n     <img src=\"https://img.shields.io/badge/discord-py-blue.svg\" alt=\"discord.py\">\n  </a>\n  <a href=\"https://www.patreon.com/Red_Devs\">\n    <img src=\"https://img.shields.io/badge/Support-Red!-red.svg\" alt=\"Support Red on Patreon!\">\n  </a>\n</p>\n<p align=\"center\">\n  <a href=\"https://github.com/Cog-Creators/Red-DiscordBot/actions\">\n    <img src=\"https://img.shields.io/github/actions/workflow/status/Cog-Creators/Red-Discordbot/tests.yml?label=tests\" alt=\"GitHub Actions\">\n  </a>\n  <a href=\"http://docs.discord.red/en/stable/?badge=stable\">\n    <img src=\"https://readthedocs.org/projects/red-discordbot/badge/?version=stable\" alt=\"Red on readthedocs.org\">\n  </a>\n  <a href=\"https://github.com/psf/black\">\n    <img src=\"https://img.shields.io/badge/code%20style-black-000000.svg\" alt=\"Code Style: Black\">\n  </a>\n  <a href=\"http://makeapullrequest.com\">\n    <img src=\"https://img.shields.io/badge/PRs-welcome-brightgreen.svg\">\n  </a>\n  <a href=\"https://crowdin.com/project/red-discordbot\">\n    <img src=\"https://d322cqt584bo4o.cloudfront.net/red-discordbot/localized.svg\" alt=\"Localized with Crowdin\">\n  </a>\n</p>\n\n<p align=\"center\">\n  <a href=\"#overview\">Overview</a>\n  \n  <a href=\"#installation\">Installation</a>\n  \n  <a href=\"http://docs.discord.red/en/stable/index.html\">Documentation</a>\n  \n  <a href=\"#plugins\">Plugins</a>\n  \n  <a href=\"#join-the-community\">Community</a>\n  \n  <a href=\"#license\">License</a>\n</p>\n\n# Overview\n\nRed is a fully modular bot  meaning all features and commands can be enabled/disabled to your\nliking, making it completely customizable. This is a *self-hosted bot*  meaning you will need\nto host and maintain your own instance. You can turn Red into an admin bot, music bot, trivia bot,\nnew best friend or all of these together!  \n\n[Installation](#installation) is easy, and you do **NOT** need to know anything about coding! Aside\nfrom installing and updating, every part of the bot can be controlled from within Discord.\n\n**The default set of modules includes and is not limited to:**\n\n- Moderation features (kick/ban/softban/hackban, mod-log, filter, chat cleanup)\n- Trivia (lists are included and can be easily added)\n- Music features (YouTube, SoundCloud, local files, playlists, queues)\n- Stream alerts (Twitch, Youtube, Picarto)\n- Bank (slot machine, user credits)\n- Custom commands\n- Imgur/gif search\n- Admin automation (self-role assignment, cross-server announcements, mod-mail reports)\n- Customisable command permissions\n\n**Additionally, other [plugins](#plugins) (cogs) can be easily found and added from our growing\ncommunity of cog repositories.**\n\n# Installation\n\n**The following platforms are officially supported:** \n\n- [Windows](https://docs.discord.red/en/stable/install_guides/windows.html)\n- [MacOS](https://docs.discord.red/en/stable/install_guides/mac.html)\n- [Most major linux distributions](https://docs.discord.red/en/stable/install_guides/index.html)\n\nIf after reading the guide you are still experiencing issues, feel free to join the\n[Official Discord Server](https://discord.gg/red) and ask in the **#support** channel for help.\n\n# Plugins\n\nRed is fully modular, allowing you to load and unload plugins of your choice, and install 3rd party\nplugins directly from Discord! A few examples are:\n\n- Cleverbot integration (talk to Red and she talks back)\n- Ban sync\n- Welcome messages\n- Casino\n- Reaction roles\n- Slow Mode\n- AniList\n- And much, much more!\n\nFeel free to take a [peek](https://index.discord.red) at a list of\navailable 3rd party cogs!\n\n# Join the community!\n\n**Red** is in continuous development, and its supported by an active community which produces new\ncontent (cogs/plugins) for everyone to enjoy. New features are constantly added. If you cant\n[find](https://index.discord.red) the cog youre looking for,\nconsult our [guide](https://docs.discord.red/en/stable/guide_cog_creation.html) on\nbuilding your own cogs!\n\nJoin us on our [Official Discord Server](https://discord.gg/red)!\n\n# License\n\nReleased under the [GNU GPL v3](https://www.gnu.org/licenses/gpl-3.0.en.html) license.\n\nRed is named after the main character of \"Transistor\", a video game by\n[Super Giant Games](https://www.supergiantgames.com/games/transistor/).\n\nArtwork created by [Sinlaire](https://sinlaire.deviantart.com/) on Deviant Art for the Red Discord\nBot Project.\n\nThis project vendors [discord.ext.menus](https://github.com/Rapptz/discord-ext-menus) package made by Danny Y. (Rapptz) which is distributed under MIT License.\nA copy of this license can be found in the [discord-ext-menus.LICENSE](redbot/vendored/discord-ext-menus.LICENSE) file in the [redbot/vendored](redbot/vendored) folder of this repository.\n"
        },
        {
          "name": "SECURITY.md",
          "type": "blob",
          "size": 1.8974609375,
          "content": "# Security Policy\n\n## Supported Versions\n\nThe table below explains the current state of our versions. Currently, only version\n3.5 and higher are supported and receive security updates. Versions lower than 3.5\nare considered End of Life and will not receive any security updates.\n\n| Version       | Branch     | Security Updates   | End of Life        |\n|---------------|------------|--------------------|--------------------|\n| < 2.0         | master     | :x:                | :white_check_mark: |\n| >= 2.0, < 3.0 | develop    | :x:                | :white_check_mark: |\n| >= 3.0, < 3.5 | V3/develop | :x:                | :white_check_mark: |\n| >= 3.5        | V3/develop | :white_check_mark: | :x:                |\n\n\n## Reporting a Vulnerability\n\nFor reporting vulnerabilities within Red-DiscordBot we make use of GitHub's\nprivate vulnerability reporting feature (More information can be found\n[here](https://docs.github.com/en/code-security/security-advisories/guidance-on-reporting-and-writing/privately-reporting-a-security-vulnerability)).\nThis ensures that all maintainers and key members have access to the reported\nvulnerability.\n\n### Opening a Vulnerability Report\n\nTo open a vulnerability report please fill out [this form](https://github.com/Cog-Creators/Red-DiscordBot/security/advisories/new)\n\nYou will be asked to provide a summary, details and proof of concept for your vulnerability report.\nWe ask that you fill out this form to the best of your ability, with as many details as possible.\nFurthermore, you'll be asked to provide affected products and severity.\nThese fields are optional and will be filled appropriately by the maintainers if not provided.\n\n### Timeline\n\nWe will try to answer your report within 7 days. If you haven't received an answer by then, we suggest you reach\nout to us privately. This can best be done via our [Discord server](https://discord.gg/red), and contacting\na member who has the Staff role.\n"
        },
        {
          "name": "crowdin.yml",
          "type": "blob",
          "size": 0.27734375,
          "content": "project_id_env: CROWDIN_PROJECT_ID\napi_token_env: CROWDIN_PERSONAL_TOKEN\nbase_path: ./redbot/\npreserve_hierarchy: true\nfiles:\n  - source: cogs/**/messages.pot\n    translation: /%original_path%/%locale%.po\n  - source: core/**/messages.pot\n    translation: /%original_path%/%locale%.po\n"
        },
        {
          "name": "docs",
          "type": "tree",
          "content": null
        },
        {
          "name": "make.bat",
          "type": "blob",
          "size": 1.2509765625,
          "content": "@echo off\n\nif [%1] == [] goto help\n\nif exist \"%~dp0.venv\\\" (\n    set \"VENV_PYTHON=%~dp0.venv\\Scripts\\python\"\n) else (\n    set VENV_PYTHON=python\n)\n\ngoto %1\n\n:reformat\n\"%VENV_PYTHON%\" -m black \"%~dp0.\"\ngoto:eof\n\n:stylecheck\n\"%VENV_PYTHON%\" -m black --check \"%~dp0.\"\ngoto:eof\n\n:stylediff\n\"%VENV_PYTHON%\" -m black --check --diff \"%~dp0.\"\ngoto:eof\n\n:newenv\npy -3.8 -m venv --clear .venv\n\"%~dp0.venv\\Scripts\\python\" -m pip install -U pip wheel\ngoto syncenv\n\n:syncenv\n\"%~dp0.venv\\Scripts\\python\" -m pip install -Ur .\\tools\\dev-requirements.txt\ngoto:eof\n\n:activateenv\nCALL \"%~dp0.venv\\Scripts\\activate.bat\"\ngoto:eof\n\n:help\necho Usage:\necho   make ^<command^>\necho.\necho Commands:\necho   reformat                   Reformat all .py files being tracked by git.\necho   stylecheck                 Check which tracked .py files need reformatting.\necho   stylediff                  Show the post-reformat diff of the tracked .py files\necho                              without modifying them.\necho   newenv                     Create or replace this project's virtual environment.\necho   syncenv                    Sync this project's virtual environment to Red's latest\necho                              dependencies.\necho   activateenv                Activates project's virtual environment.\n"
        },
        {
          "name": "make.ps1",
          "type": "blob",
          "size": 2.673828125,
          "content": "<#\n.Synopsis\nMakefile script in PowerShell that contains commands useful during development for Red.\n\n.Description\nAvailable commands:\n   reformat                   Reformat all .py files being tracked by git.\n   stylecheck                 Check which tracked .py files need reformatting.\n   stylediff                  Show the post-reformat diff of the tracked .py files\n                              without modifying them.\n   newenv                     Create or replace this project's virtual environment.\n   syncenv                    Sync this project's virtual environment to Red's latest\n                              dependencies.\n   activateenv                Activates project's virtual environment.\n\n.Parameter Command\nCommand to execute. See Cmdlet's description for more information.\n\n#>\n\n# I'm too dumb for PowerShell, so $script:availableCommands needs to be defined in 2 places // Jack\n\n[CmdletBinding()]\nparam (\n    [Parameter(Mandatory=$false)]\n    [ArgumentCompleter({\n        param (\n            $commandName,\n            $parameterName,\n            $wordToComplete,\n            $commandAst,\n            $fakeBoundParameters\n        )\n        $script:availableCommands = @(\"reformat\", \"stylecheck\", \"stylediff\", \"newenv\", \"syncenv\", \"activateenv\")\n        return $script:availableCommands | Where-Object { $_ -like \"$wordToComplete*\" }\n    })]\n    [String]\n    $command,\n    [switch]\n    $help = $false\n)\n\nfunction reformat() {\n    & $script:venvPython -m black $PSScriptRoot\n}\n\nfunction stylecheck() {\n    & $script:venvPython -m black --check $PSScriptRoot\n    Exit $LASTEXITCODE\n}\n\nfunction stylediff() {\n    & $script:venvPython -m black --check --diff $PSScriptRoot\n    Exit $LASTEXITCODE\n}\n\nfunction newenv() {\n    py -3.8 -m venv --clear .venv\n    & $PSScriptRoot\\.venv\\Scripts\\python.exe -m pip install -U pip wheel\n    syncenv\n}\n\nfunction syncenv() {\n    & $PSScriptRoot\\.venv\\Scripts\\python.exe -m pip install -Ur .\\tools\\dev-requirements.txt\n}\n\nfunction activateenv() {\n    & $PSScriptRoot\\.venv\\Scripts\\Activate.ps1\n}\n\n$script:availableCommands = @(\"reformat\", \"stylecheck\", \"stylediff\", \"newenv\", \"syncenv\", \"activateenv\")\n\nif (Test-Path -LiteralPath \"$PSScriptRoot\\.venv\" -PathType Container) {\n    $script:venvPython = \"$PSScriptRoot\\.venv\\Scripts\\python.exe\"\n} else {\n    $script:venvPython = \"python\"\n}\n\nif ($help -or !$command) {\n    Get-Help $MyInvocation.InvocationName\n    exit\n}\n\nswitch ($command) {\n    {$script:availableCommands -contains $_} {\n        & $command\n        break\n    }\n    default {\n        Write-Host (\n            \"\"\"$command\"\" is not a valid command.\",\n            \"To see available commands, type: \"\"$($MyInvocation.InvocationName) -help\"\"\"\n        )\n        break\n    }\n}\n\n"
        },
        {
          "name": "pyproject.toml",
          "type": "blob",
          "size": 1.755859375,
          "content": "[build-system]\nrequires = [\"setuptools>=64\", \"wheel\"]\nbuild-backend = \"setuptools.build_meta\"\n\n[project]\nname = \"Red-DiscordBot\"\ndescription = \"A highly customisable Discord bot\"\nreadme = \"README.md\"\nauthors = [{ name = \"Cog Creators\" }]\nclassifiers = [\n    \"Development Status :: 5 - Production/Stable\",\n    \"Framework :: AsyncIO\",\n    \"Intended Audience :: Developers\",\n    \"Intended Audience :: End Users/Desktop\",\n    \"License :: OSI Approved :: GNU General Public License v3 (GPLv3)\",\n    \"Natural Language :: English\",\n    \"Operating System :: MacOS :: MacOS X\",\n    \"Operating System :: Microsoft :: Windows\",\n    \"Operating System :: POSIX :: Linux\",\n    \"Programming Language :: Python :: 3 :: Only\",\n    \"Programming Language :: Python :: 3.8\",\n    \"Programming Language :: Python :: 3.9\",\n    \"Programming Language :: Python :: 3.10\",\n    \"Programming Language :: Python :: 3.11\",\n    \"Topic :: Communications :: Chat\",\n]\ndynamic = [\"version\", \"requires-python\", \"dependencies\", \"optional-dependencies\"]\n\n[project.urls]\n\"Homepage\" = \"https://github.com/Cog-Creators/Red-DiscordBot\"\n\"Discord Server\" = \"https://discord.gg/red\"\n\"Documentation\" = \"https://docs.discord.red\"\n\"Donate on Patreon\" = \"https://www.patreon.com/Red_Devs\"\n\"Issue Tracker\" = \"https://github.com/Cog-Creators/Red-DiscordBot/issues\"\n\"Source Code\" = \"https://github.com/Cog-Creators/Red-DiscordBot\"\n\"Changelog\" = \"https://docs.discord.red/en/stable/changelog.html\"\n\n[project.scripts]\nredbot = \"redbot.__main__:main\"\nredbot-setup = \"redbot.setup:run_cli\"\n\n[project.entry-points.pytest11]\nred-discordbot = \"redbot.pytest\"\n\n[tool.black]\nline-length = 99\nrequired-version = '23'\ntarget-version = ['py38']\ninclude = '\\.py$'\nforce-exclude = '''\n/(\n    redbot\\/vendored\n)/\n'''\n\n[tool.pytest.ini_options]\nasyncio_mode = 'auto'\n"
        },
        {
          "name": "redbot",
          "type": "tree",
          "content": null
        },
        {
          "name": "requirements",
          "type": "tree",
          "content": null
        },
        {
          "name": "schema",
          "type": "tree",
          "content": null
        },
        {
          "name": "setup.py",
          "type": "blob",
          "size": 1.8681640625,
          "content": "import os\nimport sys\nfrom pathlib import Path\n\nfrom setuptools import find_namespace_packages, setup\n\nROOT_FOLDER = Path(__file__).parent.absolute()\nREQUIREMENTS_FOLDER = ROOT_FOLDER / \"requirements\"\n\n# Since we're importing `redbot` package, we have to ensure that it's in sys.path.\nsys.path.insert(0, str(ROOT_FOLDER))\n\nfrom redbot import VersionInfo\n\nversion, _ = VersionInfo._get_version(ignore_installed=True)\n\n\ndef get_requirements(fp):\n    return [\n        line.strip()\n        for line in fp.read().splitlines()\n        if line.strip() and not line.strip().startswith(\"#\")\n    ]\n\n\ndef extras_combined(*extra_names):\n    return list(\n        {\n            req\n            for extra_name, extra_reqs in extras_require.items()\n            if not extra_names or extra_name in extra_names\n            for req in extra_reqs\n        }\n    )\n\n\nwith open(REQUIREMENTS_FOLDER / \"base.txt\", encoding=\"utf-8\") as fp:\n    install_requires = get_requirements(fp)\n\nextras_require = {}\nfor file in REQUIREMENTS_FOLDER.glob(\"extra-*.txt\"):\n    with file.open(encoding=\"utf-8\") as fp:\n        extras_require[file.stem[len(\"extra-\") :]] = get_requirements(fp)\n\nextras_require[\"dev\"] = extras_combined()\nextras_require[\"all\"] = extras_combined(\"postgres\")\n\n\npython_requires = \">=3.8.1\"\nif not os.getenv(\"TOX_RED\", False) or sys.version_info < (3, 12):\n    python_requires += \",<3.12\"\n\n# Metadata and options defined in pyproject.toml\nsetup(\n    version=version,\n    python_requires=python_requires,\n    # TODO: use [tool.setuptools.dynamic] table once this feature gets out of beta\n    install_requires=install_requires,\n    extras_require=extras_require,\n    # TODO: use [project] table once PEP 639 gets accepted\n    license_files=[\"LICENSE\", \"redbot/**/*.LICENSE\"],\n    # TODO: use [tool.setuptools.packages] table once this feature gets out of beta\n    packages=find_namespace_packages(include=[\"redbot\", \"redbot.*\"]),\n)\n"
        },
        {
          "name": "tests",
          "type": "tree",
          "content": null
        },
        {
          "name": "tools",
          "type": "tree",
          "content": null
        },
        {
          "name": "tox.ini",
          "type": "blob",
          "size": 1.841796875,
          "content": "# tox (https://tox.readthedocs.io/) is a tool for running tests\n# in multiple virtualenvs. This configuration file will run the\n# test suite on all supported python versions. To use it, \"pip install tox\"\n# and then run \"tox\" from this directory.\n\n[tox]\nenvlist =\n    py38\n    py39\n    py310\n    py311\n    docs\n    style\nskip_missing_interpreters = True\n\n[testenv]\ndescription = Run tests and basic automatic issue checking.\nallowlist_externals =\n    pytest\n    pylint\nextras = test\nsetenv =\n    TOX_RED = 1\ncommands =\n    python -m compileall ./redbot/cogs\n    pytest\n#    pylint ./redbot\n\n[testenv:postgres]\ndescription = Run pytest with PostgreSQL backend\nallowlist_externals =\n    pytest\nextras = test, postgres\nsetenv =\n    TOX_RED = 1\n    RED_STORAGE_TYPE=postgres\npassenv =\n    # Use the following env vars for connection options, or other default options described here:\n    # https://magicstack.github.io/asyncpg/current/index.html#asyncpg.connection.connect\n    PGHOST\n    PGPORT\n    PGUSER\n    PGPASSWORD\n    PGDATABASE\ncommands =\n    pytest\n\n[testenv:docs]\ndescription = Attempt to build docs with sphinx-build\nallowlist_externals =\n    sphinx-build\n    make\nsetenv =\n    # This is just for Windows\n    # Prioritise make.bat over any make.exe which might be on PATH\n    PATHEXT=.BAT;.EXE\nbasepython = python3.8\nextras = doc\ncommands =\n    sphinx-build -d \"{toxworkdir}/docs_doctree\" docs \"{toxworkdir}/docs_out/html\" -W --keep-going -bhtml\n    sphinx-build -d \"{toxworkdir}/docs_doctree\" docs \"{toxworkdir}/docs_out/doctest\" -W --keep-going -bdoctest\n\n[testenv:style]\ndescription = Stylecheck the code with black to see if anything needs changes.\nallowlist_externals =\n    make\nsetenv =\n    # This is just for Windows\n    # Prioritise make.bat over any make.exe which might be on PATH\n    PATHEXT=.BAT;.EXE\nbasepython = python3.8\nextras = style\ncommands =\n    make stylediff\n"
        }
      ]
    }
  ]
}