{
  "metadata": {
    "timestamp": 1736559790267,
    "page": 514,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjUyMA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "floydhub/dl-docker",
      "stars": 3863,
      "defaultBranch": "master",
      "files": [
        {
          "name": "Dockerfile.cpu",
          "type": "blob",
          "size": 5.95703125,
          "content": "FROM ubuntu:14.04\n\nMAINTAINER Sai Soundararaj <saip@outlook.com>\n\nARG THEANO_VERSION=rel-0.8.2\nARG TENSORFLOW_VERSION=0.12.1 \nARG TENSORFLOW_ARCH=cpu\nARG KERAS_VERSION=1.2.0\nARG LASAGNE_VERSION=v0.1\nARG TORCH_VERSION=latest\nARG CAFFE_VERSION=master\n\n# Install some dependencies\nRUN apt-get update && apt-get install -y \\\n\t\tbc \\\n\t\tbuild-essential \\\n\t\tcmake \\\n\t\tcurl \\\n\t\tg++ \\\n\t\tgfortran \\\n\t\tgit \\\n\t\tlibffi-dev \\\n\t\tlibfreetype6-dev \\\n\t\tlibhdf5-dev \\\n\t\tlibjpeg-dev \\\n\t\tliblcms2-dev \\\n\t\tlibopenblas-dev \\\n\t\tliblapack-dev \\\n\t\tlibopenjpeg2 \\\n\t\tlibpng12-dev \\\n\t\tlibssl-dev \\\n\t\tlibtiff5-dev \\\n\t\tlibwebp-dev \\\n\t\tlibzmq3-dev \\\n\t\tnano \\\n\t\tpkg-config \\\n\t\tpython-dev \\\n\t\tsoftware-properties-common \\\n\t\tunzip \\\n\t\tvim \\\n\t\twget \\\n\t\tzlib1g-dev \\\n\t\tqt5-default \\\n\t\tlibvtk6-dev \\\n\t\tzlib1g-dev \\\n\t\tlibjpeg-dev \\\n\t\tlibwebp-dev \\\n\t\tlibpng-dev \\\n\t\tlibtiff5-dev \\\n\t\tlibjasper-dev \\\n\t\tlibopenexr-dev \\\n\t\tlibgdal-dev \\\n\t\tlibdc1394-22-dev \\\n\t\tlibavcodec-dev \\\n\t\tlibavformat-dev \\\n\t\tlibswscale-dev \\\n\t\tlibtheora-dev \\\n\t\tlibvorbis-dev \\\n\t\tlibxvidcore-dev \\\n\t\tlibx264-dev \\\n\t\tyasm \\\n\t\tlibopencore-amrnb-dev \\\n\t\tlibopencore-amrwb-dev \\\n\t\tlibv4l-dev \\\n\t\tlibxine2-dev \\\n\t\tlibtbb-dev \\\n\t\tlibeigen3-dev \\\n\t\tpython-dev \\\n\t\tpython-tk \\\n\t\tpython-numpy \\\n\t\tpython3-dev \\\n\t\tpython3-tk \\\n\t\tpython3-numpy \\\n\t\tant \\\n\t\tdefault-jdk \\\n\t\tdoxygen \\\n\t\t&& \\\n\tapt-get clean && \\\n\tapt-get autoremove && \\\n\trm -rf /var/lib/apt/lists/* && \\\n# Link BLAS library to use OpenBLAS using the alternatives mechanism (https://www.scipy.org/scipylib/building/linux.html#debian-ubuntu)\n\tupdate-alternatives --set libblas.so.3 /usr/lib/openblas-base/libblas.so.3\n\n# Install pip\nRUN curl -O https://bootstrap.pypa.io/get-pip.py && \\\n\tpython get-pip.py && \\\n\trm get-pip.py\n\n# Add SNI support to Python\nRUN pip --no-cache-dir install \\\n\t\tpyopenssl \\\n\t\tndg-httpsclient \\\n\t\tpyasn1\n\n# Install useful Python packages using apt-get to avoid version incompatibilities with Tensorflow binary\n# especially numpy, scipy, skimage and sklearn (see https://github.com/tensorflow/tensorflow/issues/2034)\nRUN apt-get update && apt-get install -y \\\n\t\tpython-numpy \\\n\t\tpython-scipy \\\n\t\tpython-nose \\\n\t\tpython-h5py \\\n\t\tpython-skimage \\\n\t\tpython-matplotlib \\\n\t\tpython-pandas \\\n\t\tpython-sklearn \\\n\t\tpython-sympy \\\n\t\t&& \\\n\tapt-get clean && \\\n\tapt-get autoremove && \\\n\trm -rf /var/lib/apt/lists/*\n\n# Install other useful Python packages using pip\nRUN pip --no-cache-dir install --upgrade ipython && \\\n\tpip --no-cache-dir install \\\n\t\tCython \\\n\t\tipykernel \\\n\t\tjupyter \\\n\t\tpath.py \\\n\t\tPillow \\\n\t\tpygments \\\n\t\tsix \\\n\t\tsphinx \\\n\t\twheel \\\n\t\tzmq \\\n\t\t&& \\\n\tpython -m ipykernel.kernelspec\n\n\n# Install TensorFlow\nRUN pip --no-cache-dir install \\\n\thttps://storage.googleapis.com/tensorflow/linux/${TENSORFLOW_ARCH}/tensorflow-${TENSORFLOW_VERSION}-cp27-none-linux_x86_64.whl\n\n\n# Install dependencies for Caffe\nRUN apt-get update && apt-get install -y \\\n\t\tlibboost-all-dev \\\n\t\tlibgflags-dev \\\n\t\tlibgoogle-glog-dev \\\n\t\tlibhdf5-serial-dev \\\n\t\tlibleveldb-dev \\\n\t\tliblmdb-dev \\\n\t\tlibopencv-dev \\\n\t\tlibprotobuf-dev \\\n\t\tlibsnappy-dev \\\n\t\tprotobuf-compiler \\\n\t\t&& \\\n\tapt-get clean && \\\n\tapt-get autoremove && \\\n\trm -rf /var/lib/apt/lists/*\n\n# Install Caffe\nRUN git clone -b ${CAFFE_VERSION} --depth 1 https://github.com/BVLC/caffe.git /root/caffe && \\\n\tcd /root/caffe && \\\n\tcat python/requirements.txt | xargs -n1 pip install && \\\n\tmkdir build && cd build && \\\n\tcmake -DCPU_ONLY=1 -DBLAS=Open .. && \\\n\tmake -j\"$(nproc)\" all && \\\n\tmake install\n\n# Set up Caffe environment variables\nENV CAFFE_ROOT=/root/caffe\nENV PYCAFFE_ROOT=$CAFFE_ROOT/python\nENV PYTHONPATH=$PYCAFFE_ROOT:$PYTHONPATH \\\n\tPATH=$CAFFE_ROOT/build/tools:$PYCAFFE_ROOT:$PATH\n\nRUN echo \"$CAFFE_ROOT/build/lib\" >> /etc/ld.so.conf.d/caffe.conf && ldconfig\n\n\n# Install Theano and set up Theano config (.theanorc) OpenBLAS\nRUN pip --no-cache-dir install git+git://github.com/Theano/Theano.git@${THEANO_VERSION} && \\\n\t\\\n\techo \"[global]\\ndevice=cpu\\nfloatX=float32\\nmode=FAST_RUN \\\n\t\t\\n[lib]\\ncnmem=0.95 \\\n\t\t\\n[nvcc]\\nfastmath=True \\\n\t\t\\n[blas]\\nldflag = -L/usr/lib/openblas-base -lopenblas \\\n\t\t\\n[DebugMode]\\ncheck_finite=1\" \\\n\t> /root/.theanorc\n\n\n# Install Keras\nRUN pip --no-cache-dir install git+git://github.com/fchollet/keras.git@${KERAS_VERSION}\n\n\n# Install Lasagne\nRUN pip --no-cache-dir install git+git://github.com/Lasagne/Lasagne.git@${LASAGNE_VERSION}\n\n\n# Install Torch\nRUN git clone https://github.com/torch/distro.git /root/torch --recursive && \\\n\tcd /root/torch && \\\n\tbash install-deps && \\\n\tyes no | ./install.sh\n\n# Export the LUA evironment variables manually\nENV LUA_PATH='/root/.luarocks/share/lua/5.1/?.lua;/root/.luarocks/share/lua/5.1/?/init.lua;/root/torch/install/share/lua/5.1/?.lua;/root/torch/install/share/lua/5.1/?/init.lua;./?.lua;/root/torch/install/share/luajit-2.1.0-beta1/?.lua;/usr/local/share/lua/5.1/?.lua;/usr/local/share/lua/5.1/?/init.lua' \\\n\tLUA_CPATH='/root/.luarocks/lib/lua/5.1/?.so;/root/torch/install/lib/lua/5.1/?.so;./?.so;/usr/local/lib/lua/5.1/?.so;/usr/local/lib/lua/5.1/loadall.so' \\\n\tPATH=/root/torch/install/bin:$PATH \\\n\tLD_LIBRARY_PATH=/root/torch/install/lib:$LD_LIBRARY_PATH \\\n\tDYLD_LIBRARY_PATH=/root/torch/install/lib:$DYLD_LIBRARY_PATH\nENV LUA_CPATH='/root/torch/install/lib/?.so;'$LUA_CPATH\n\n# Install the latest versions of nn, and iTorch\nRUN luarocks install nn && \\\n    luarocks install loadcaffe && \\\n\t\\\n\tcd /root && git clone https://github.com/facebook/iTorch.git && \\\n\tcd iTorch && \\\n\tluarocks make\n\n# Install OpenCV\nRUN git clone --depth 1 https://github.com/opencv/opencv.git /root/opencv && \\\n\tcd /root/opencv && \\\n\tmkdir build && \\\n\tcd build && \\\n\tcmake -DWITH_QT=ON -DWITH_OPENGL=ON -DFORCE_VTK=ON -DWITH_TBB=ON -DWITH_GDAL=ON -DWITH_XINE=ON -DBUILD_EXAMPLES=ON .. && \\\n\tmake -j\"$(nproc)\"  && \\\n\tmake install && \\\n\tldconfig && \\\n\techo 'ln /dev/null /dev/raw1394' >> ~/.bashrc\n\n\n# Set up notebook config\nCOPY jupyter_notebook_config.py /root/.jupyter/\n\n# Jupyter has issues with being run directly: https://github.com/ipython/ipython/issues/7062\nCOPY run_jupyter.sh /root/\n\n# Expose Ports for TensorBoard (6006), Ipython (8888)\nEXPOSE 6006 8888\n\nWORKDIR \"/root\"\nCMD [\"/bin/bash\"]\n"
        },
        {
          "name": "Dockerfile.gpu",
          "type": "blob",
          "size": 6.544921875,
          "content": "FROM nvidia/cuda:8.0-cudnn5-devel-ubuntu14.04\n\nMAINTAINER Sai Soundararaj <saip@outlook.com>\n\nARG THEANO_VERSION=rel-0.8.2\nARG TENSORFLOW_VERSION=0.12.1\nARG TENSORFLOW_ARCH=gpu\nARG KERAS_VERSION=1.2.0\nARG LASAGNE_VERSION=v0.1\nARG TORCH_VERSION=latest\nARG CAFFE_VERSION=master\n\n#RUN echo -e \"\\n**********************\\nNVIDIA Driver Version\\n**********************\\n\" && \\\n#\tcat /proc/driver/nvidia/version && \\\n#\techo -e \"\\n**********************\\nCUDA Version\\n**********************\\n\" && \\\n#\tnvcc -V && \\\n#\techo -e \"\\n\\nBuilding your Deep Learning Docker Image...\\n\"\n\n# Install some dependencies\nRUN apt-get update && apt-get install -y \\\n\t\tbc \\\n\t\tbuild-essential \\\n\t\tcmake \\\n\t\tcurl \\\n\t\tg++ \\\n\t\tgfortran \\\n\t\tgit \\\n\t\tlibffi-dev \\\n\t\tlibfreetype6-dev \\\n\t\tlibhdf5-dev \\\n\t\tlibjpeg-dev \\\n\t\tliblcms2-dev \\\n\t\tlibopenblas-dev \\\n\t\tliblapack-dev \\\n\t\tlibopenjpeg2 \\\n\t\tlibpng12-dev \\\n\t\tlibssl-dev \\\n\t\tlibtiff5-dev \\\n\t\tlibwebp-dev \\\n\t\tlibzmq3-dev \\\n\t\tnano \\\n\t\tpkg-config \\\n\t\tpython-dev \\\n\t\tsoftware-properties-common \\\n\t\tunzip \\\n\t\tvim \\\n\t\twget \\\n\t\tzlib1g-dev \\\n\t\tqt5-default \\\n\t\tlibvtk6-dev \\\n\t\tzlib1g-dev \\\n\t\tlibjpeg-dev \\\n\t\tlibwebp-dev \\\n\t\tlibpng-dev \\\n\t\tlibtiff5-dev \\\n\t\tlibjasper-dev \\\n\t\tlibopenexr-dev \\\n\t\tlibgdal-dev \\\n\t\tlibdc1394-22-dev \\\n\t\tlibavcodec-dev \\\n\t\tlibavformat-dev \\\n\t\tlibswscale-dev \\\n\t\tlibtheora-dev \\\n\t\tlibvorbis-dev \\\n\t\tlibxvidcore-dev \\\n\t\tlibx264-dev \\\n\t\tyasm \\\n\t\tlibopencore-amrnb-dev \\\n\t\tlibopencore-amrwb-dev \\\n\t\tlibv4l-dev \\\n\t\tlibxine2-dev \\\n\t\tlibtbb-dev \\\n\t\tlibeigen3-dev \\\n\t\tpython-dev \\\n\t\tpython-tk \\\n\t\tpython-numpy \\\n\t\tpython3-dev \\\n\t\tpython3-tk \\\n\t\tpython3-numpy \\\n\t\tant \\\n\t\tdefault-jdk \\\n\t\tdoxygen \\\n\t\t&& \\\n\tapt-get clean && \\\n\tapt-get autoremove && \\\n\trm -rf /var/lib/apt/lists/* && \\\n# Link BLAS library to use OpenBLAS using the alternatives mechanism (https://www.scipy.org/scipylib/building/linux.html#debian-ubuntu)\n\tupdate-alternatives --set libblas.so.3 /usr/lib/openblas-base/libblas.so.3\n\n# Install pip\nRUN curl -O https://bootstrap.pypa.io/get-pip.py && \\\n\tpython get-pip.py && \\\n\trm get-pip.py\n\n# Add SNI support to Python\nRUN pip --no-cache-dir install \\\n\t\tpyopenssl \\\n\t\tndg-httpsclient \\\n\t\tpyasn1\n\n# Install useful Python packages using apt-get to avoid version incompatibilities with Tensorflow binary\n# especially numpy, scipy, skimage and sklearn (see https://github.com/tensorflow/tensorflow/issues/2034)\nRUN apt-get update && apt-get install -y \\\n\t\tpython-numpy \\\n\t\tpython-scipy \\\n\t\tpython-nose \\\n\t\tpython-h5py \\\n\t\tpython-skimage \\\n\t\tpython-matplotlib \\\n\t\tpython-pandas \\\n\t\tpython-sklearn \\\n\t\tpython-sympy \\\n\t\t&& \\\n\tapt-get clean && \\\n\tapt-get autoremove && \\\n\trm -rf /var/lib/apt/lists/*\n\n# Install other useful Python packages using pip\nRUN pip --no-cache-dir install --upgrade ipython && \\\n\tpip --no-cache-dir install \\\n\t\tCython \\\n\t\tipykernel \\\n\t\tjupyter \\\n\t\tpath.py \\\n\t\tPillow \\\n\t\tpygments \\\n\t\tsix \\\n\t\tsphinx \\\n\t\twheel \\\n\t\tzmq \\\n\t\t&& \\\n\tpython -m ipykernel.kernelspec\n\n\n# Install TensorFlow\nRUN pip --no-cache-dir install \\\n\thttps://storage.googleapis.com/tensorflow/linux/${TENSORFLOW_ARCH}/tensorflow_${TENSORFLOW_ARCH}-${TENSORFLOW_VERSION}-cp27-none-linux_x86_64.whl\n\n\n# Install dependencies for Caffe\nRUN apt-get update && apt-get install -y \\\n\t\tlibboost-all-dev \\\n\t\tlibgflags-dev \\\n\t\tlibgoogle-glog-dev \\\n\t\tlibhdf5-serial-dev \\\n\t\tlibleveldb-dev \\\n\t\tliblmdb-dev \\\n\t\tlibopencv-dev \\\n\t\tlibprotobuf-dev \\\n\t\tlibsnappy-dev \\\n\t\tprotobuf-compiler \\\n\t\t&& \\\n\tapt-get clean && \\\n\tapt-get autoremove && \\\n\trm -rf /var/lib/apt/lists/*\n\n# Install Caffe\nRUN git clone -b ${CAFFE_VERSION} --depth 1 https://github.com/BVLC/caffe.git /root/caffe && \\\n\tcd /root/caffe && \\\n\tcat python/requirements.txt | xargs -n1 pip install && \\\n\tmkdir build && cd build && \\\n\tcmake -DUSE_CUDNN=1 -DBLAS=Open .. && \\\n\tmake -j\"$(nproc)\" all && \\\n\tmake install\n\n# Set up Caffe environment variables\nENV CAFFE_ROOT=/root/caffe\nENV PYCAFFE_ROOT=$CAFFE_ROOT/python\nENV PYTHONPATH=$PYCAFFE_ROOT:$PYTHONPATH \\\n\tPATH=$CAFFE_ROOT/build/tools:$PYCAFFE_ROOT:$PATH\n\nRUN echo \"$CAFFE_ROOT/build/lib\" >> /etc/ld.so.conf.d/caffe.conf && ldconfig\n\n\n# Install Theano and set up Theano config (.theanorc) for CUDA and OpenBLAS\nRUN pip --no-cache-dir install git+git://github.com/Theano/Theano.git@${THEANO_VERSION} && \\\n\t\\\n\techo \"[global]\\ndevice=gpu\\nfloatX=float32\\noptimizer_including=cudnn\\nmode=FAST_RUN \\\n\t\t\\n[lib]\\ncnmem=0.95 \\\n\t\t\\n[nvcc]\\nfastmath=True \\\n\t\t\\n[blas]\\nldflag = -L/usr/lib/openblas-base -lopenblas \\\n\t\t\\n[DebugMode]\\ncheck_finite=1\" \\\n\t> /root/.theanorc\n\n\n# Install Keras\nRUN pip --no-cache-dir install git+git://github.com/fchollet/keras.git@${KERAS_VERSION}\n\n\n# Install Lasagne\nRUN pip --no-cache-dir install git+git://github.com/Lasagne/Lasagne.git@${LASAGNE_VERSION}\n\n\n# Install Torch\nRUN git clone https://github.com/torch/distro.git /root/torch --recursive && \\\n\tcd /root/torch && \\\n\tbash install-deps && \\\n\tyes no | ./install.sh\n\n# Export the LUA evironment variables manually\nENV LUA_PATH='/root/.luarocks/share/lua/5.1/?.lua;/root/.luarocks/share/lua/5.1/?/init.lua;/root/torch/install/share/lua/5.1/?.lua;/root/torch/install/share/lua/5.1/?/init.lua;./?.lua;/root/torch/install/share/luajit-2.1.0-beta1/?.lua;/usr/local/share/lua/5.1/?.lua;/usr/local/share/lua/5.1/?/init.lua' \\\n\tLUA_CPATH='/root/.luarocks/lib/lua/5.1/?.so;/root/torch/install/lib/lua/5.1/?.so;./?.so;/usr/local/lib/lua/5.1/?.so;/usr/local/lib/lua/5.1/loadall.so' \\\n\tPATH=/root/torch/install/bin:$PATH \\\n\tLD_LIBRARY_PATH=/root/torch/install/lib:$LD_LIBRARY_PATH \\\n\tDYLD_LIBRARY_PATH=/root/torch/install/lib:$DYLD_LIBRARY_PATH\nENV LUA_CPATH='/root/torch/install/lib/?.so;'$LUA_CPATH\n\n# Install the latest versions of nn, cutorch, cunn, cuDNN bindings and iTorch\nRUN luarocks install nn && \\\n\tluarocks install cutorch && \\\n\tluarocks install cunn && \\\n    luarocks install loadcaffe && \\\n\t\\\n\tcd /root && git clone https://github.com/soumith/cudnn.torch.git && cd cudnn.torch && \\\n\tgit checkout R4 && \\\n\tluarocks make && \\\n\t\\\n\tcd /root && git clone https://github.com/facebook/iTorch.git && \\\n\tcd iTorch && \\\n\tluarocks make\n\n# Install OpenCV\nRUN git clone --depth 1 https://github.com/opencv/opencv.git /root/opencv && \\\n\tcd /root/opencv && \\\n\tmkdir build && \\\n\tcd build && \\\n\tcmake -DWITH_QT=ON -DWITH_OPENGL=ON -DFORCE_VTK=ON -DWITH_TBB=ON -DWITH_GDAL=ON -DWITH_XINE=ON -DBUILD_EXAMPLES=ON .. && \\\n\tmake -j\"$(nproc)\"  && \\\n\tmake install && \\\n\tldconfig && \\\n\techo 'ln /dev/null /dev/raw1394' >> ~/.bashrc\n\n# Set up notebook config\nCOPY jupyter_notebook_config.py /root/.jupyter/\n\n# Jupyter has issues with being run directly: https://github.com/ipython/ipython/issues/7062\nCOPY run_jupyter.sh /root/\n\n# Expose Ports for TensorBoard (6006), Ipython (8888)\nEXPOSE 6006 8888\n\nWORKDIR \"/root\"\nCMD [\"/bin/bash\"]\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 14.9697265625,
          "content": "[Website](https://www.floydhub.com) • [Docs](https://docs.floydhub.com) • [Forum](https://forum.floydhub.com) • [Twitter](https://twitter.com/floydhub_) • [We're Hiring](https://angel.co/floydhub)\n\n[![FloydHub Logo](https://github.com/floydhub/static/blob/master/Group.png)](https://www.floydhub.com)\n\n## All-in-one Docker image for Deep Learning\nHere are Dockerfiles to get you up and running with a fully functional deep learning machine. It contains all the popular deep learning frameworks with CPU and GPU support (CUDA and cuDNN included). The CPU version should work on Linux, Windows and OS X. The GPU version will, however, only work on Linux machines. See [OS support](#what-operating-systems-are-supported) for details\n\nIf you are not familiar with Docker, but would still like an all-in-one solution, start here: [What is Docker?](#what-is-docker). If you know what Docker is, but are wondering why we need one for deep learning, [see this](#why-do-i-need-a-docker)\n\n## Update: I've built a quick tool, based on dl-docker, to run your DL project on the cloud with zero setup. You can start running your Tensorflow project on AWS in <30seconds using Floyd. See [www.floydhub.com](https://www.floydhub.com). It's free to try out. \n### Happy to take feature requests/feedback and answer questions - mail me sai@floydhub.com.\n\n## Specs\nThis is what you get out of the box when you create a container with the provided image/Dockerfile:\n* Ubuntu 14.04\n* [CUDA 8.0](https://developer.nvidia.com/cuda-toolkit) (GPU version only)\n* [cuDNN v5](https://developer.nvidia.com/cudnn) (GPU version only)\n* [Tensorflow](https://www.tensorflow.org/)\n* [Caffe](http://caffe.berkeleyvision.org/)\n* [Theano](http://deeplearning.net/software/theano/)\n* [Keras](http://keras.io/)\n* [Lasagne](http://lasagne.readthedocs.io/en/latest/)\n* [Torch](http://torch.ch/) (includes nn, cutorch, cunn and cuDNN bindings)\n* [iPython/Jupyter Notebook](http://jupyter.org/) (including iTorch kernel)\n* [Numpy](http://www.numpy.org/), [SciPy](https://www.scipy.org/), [Pandas](http://pandas.pydata.org/), [Scikit Learn](http://scikit-learn.org/), [Matplotlib](http://matplotlib.org/)\n* [OpenCV](http://opencv.org/)\n* A few common libraries used for deep learning\n\n## Setup\n### Prerequisites\n1. Install Docker following the installation guide for your platform: [https://docs.docker.com/engine/installation/](https://docs.docker.com/engine/installation/)\n\n2. **GPU Version Only**: Install Nvidia drivers on your machine either from [Nvidia](http://www.nvidia.com/Download/index.aspx?lang=en-us) directly or follow the instructions [here](https://github.com/saiprashanths/dl-setup#nvidia-drivers). Note that you _don't_ have to install CUDA or cuDNN. These are included in the Docker container.\n\n3. **GPU Version Only**: Install nvidia-docker: [https://github.com/NVIDIA/nvidia-docker](https://github.com/NVIDIA/nvidia-docker), following the instructions [here](https://github.com/NVIDIA/nvidia-docker/wiki/Installation). This will install a replacement for the docker CLI. It takes care of setting up the Nvidia host driver environment inside the Docker containers and a few other things.\n\n### Obtaining the Docker image\nYou have 2 options to obtain the Docker image\n#### Option 1: Download the Docker image from Docker Hub\nDocker Hub is a cloud based repository of pre-built images. You can download the image directly from here, which should be _much faster_ than building it locally (a few minutes, based on your internet speed). Here is the automated build page for `dl-docker`: [https://hub.docker.com/r/floydhub/dl-docker/](https://hub.docker.com/r/floydhub/dl-docker/). The image is automatically built based on the `Dockerfile` in the Github repo.\n\n**CPU Version**\n```bash\ndocker pull floydhub/dl-docker:cpu\n```\n\n**GPU Version**\nAn automated build for the GPU image is not available currently due to timeout restrictions in Docker's automated build process. I'll look into solving this in the future, but for now you'll have to build the GPU version locally using Option 2 below.\n\n#### Option 2: Build the Docker image locally\nAlternatively, you can build the images locally. Also, since the GPU version is not available in Docker Hub at the moment, you'll have to follow this if you want to GPU version. Note that this will take an hour or two depending on your machine since it compiles a few libraries from scratch.\n\n```bash\ngit clone https://github.com/saiprashanths/dl-docker.git\ncd dl-docker\n```\t\n\n**CPU Version**\n```bash\ndocker build -t floydhub/dl-docker:cpu -f Dockerfile.cpu .\n```\n\n**GPU Version**\n```bash\ndocker build -t floydhub/dl-docker:gpu -f Dockerfile.gpu .\n```\nThis will build a Docker image named `dl-docker` and tagged either `cpu` or `gpu` depending on the tag your specify. Also note that the appropriate `Dockerfile.<architecture>` has to be used.\n\n## Running the Docker image as a Container\nOnce we've built the image, we have all the frameworks we need installed in it. We can now spin up one or more containers using this image, and you should be ready to [go deeper](http://imgur.com/gallery/BvuWRxq)\n\n**CPU Version**\n```bash\ndocker run -it -p 8888:8888 -p 6006:6006 -v /sharedfolder:/root/sharedfolder floydhub/dl-docker:cpu bash\n```\n\t\n**GPU Version**\n```bash\nnvidia-docker run -it -p 8888:8888 -p 6006:6006 -v /sharedfolder:/root/sharedfolder floydhub/dl-docker:gpu bash\n```\nNote the use of `nvidia-docker` rather than just `docker`\n\n| Parameter      | Explanation |\n|----------------|-------------|\n|`-it`             | This creates an interactive terminal you can use to iteract with your container |\n|`-p 8888:8888 -p 6006:6006`    | This exposes the ports inside the container so they can be accessed from the host. The format is `-p <host-port>:<container-port>`. The default iPython Notebook runs on port 8888 and Tensorboard on 6006 |\n|`-v /sharedfolder:/root/sharedfolder/` | This shares the folder `/sharedfolder` on your host machine to `/root/sharedfolder/` inside your container. Any data written to this folder by the container will be persistent. You can modify this to anything of the format `-v /local/shared/folder:/shared/folder/in/container/`. See [Docker container persistence](#docker-container-persistence)\n|`floydhub/dl-docker:cpu`   | This the image that you want to run. The format is `image:tag`. In our case, we use the image `dl-docker` and tag `gpu` or `cpu` to spin up the appropriate image |\n|`bash`       | This provides the default command when the container is started. Even if this was not provided, bash is the default command and just starts a Bash session. You can modify this to be whatever you'd like to be executed when your container starts. For example, you can execute `docker run -it -p 8888:8888 -p 6006:6006 floydhub/dl-docker:cpu jupyter notebook`. This will execute the command `jupyter notebook` and starts your Jupyter Notebook for you when the container starts\n\n## Some common scenarios\n### Jupyter Notebooks\nThe container comes pre-installed with iPython and iTorch Notebooks, and you can use these to work with the deep learning frameworks. If you spin up the docker container with `docker-run -p <host-port>:<container-port>` (as shown above in the [instructions](#running-the-docker-image-as-a-container)), you will have access to these ports on your host and can access them at `http://127.0.0.1:<host-port>`. The default iPython notebook uses port 8888 and Tensorboard uses port 6006. Since we expose both these ports when we run the container, we can access them both from the localhost.\n\nHowever, you still need to start the Notebook inside the container to be able to access it from the host. You can either do this from the container terminal by executing `jupyter notebook` or you can pass this command in directly while spinning up your container using the `docker run -it -p 8888:8888 -p 6006:6006 floydhub/dl-docker:cpu jupyter notebook` CLI. The Jupyter Notebook has both Python (for TensorFlow, Caffe, Theano, Keras, Lasagne) and iTorch (for Torch) kernels.\n\nNote: If you are setting the notebook on Windows, you will need to first determine the IP address of your Docker container. This command on the Docker command-line provides the IP address\n```bash\ndocker-machine ip default\n> <IP-address>\n```\n```default``` is the name of the container provided by default to the container you will spin. \nOn obtaining the IP-address, run the docker as per the [instructions](#running-the-docker-image-as-a-container) provided and start the Jupyter notebook as [described above](#jupyter-notebooks). Then accessing ```http://<IP-address>:<host-port>``` on your host's browser should show you the notebook.\n\n### Data Sharing\nSee [Docker container persistence](#docker-container-persistence). \nConsider this: You have a script that you've written on your host machine. You want to run this in the container and get the output data (say, a trained model) back into your host. The way to do this is using a [Shared Volume](#docker-container-persistence). By passing in the `-v /sharedfolder/:/root/sharedfolder` to the CLI, we are sharing the folder between the host and the container, with persistence. You could copy your script into `/sharedfolder` folder on the host, execute your script from inside the container (located at `/root/sharedfolder`) and write the results data back to the same folder. This data will be accessible even after you kill the container.\n\n## What is Docker?\n[Docker](https://www.docker.com/what-docker) itself has a great answer to this question.\n\nDocker is based on the idea that one can package code along with its dependencies into a self-contained unit. In this case, we start with a base Ubuntu 14.04 image, a bare minimum OS. When we build our initial Docker image using `docker build`, we install all the deep learning frameworks and its dependencies on the base, as defined by the `Dockerfile`. This gives us an image which has all the packages we need installed in it. We can now spin up as many instances of this image as we like, using the `docker run` command. Each instance is called a _container_. Each of these containers can be thought of as a fully functional and isolated OS with all the deep learning libraries installed in it. \n\n## Why do I need a Docker?\nInstalling all the deep learning frameworks to coexist and function correctly is an exercise in dependency hell. Unfortunately, given the current state of DL development and research, it is almost impossible to rely on just one framework. This Docker is intended to provide a solution for this use case.\n\nIf you would rather install all the frameworks yourself manually, take a look at this guide: [Setting up a deep learning machine from scratch](https://github.com/saiprashanths/dl-setup)\n\n### Do I really need an all-in-one container?\nNo. The provided all-in-one solution is useful if you have dependencies on multiple frameworks (say, load a pre-trained Caffe model, finetune it, convert it to Tensorflow and continue developing there) or if you just want to play around with the various frameworks.\n\nThe Docker philosophy is to build a container for each logical task/framework. If we followed this, we should have one container for each of the deep learning frameworks. This minimizes clashes between frameworks and is easier to maintain as things evolve. In fact, if you only intend to use one of the frameworks, or at least use only one framework at a time, follow this approach. You can find Dockerfiles for individual frameworks here:\n* [Tensorflow Docker](https://github.com/tensorflow/tensorflow/tree/master/tensorflow/tools/docker)\n* [Caffe Docker](https://github.com/BVLC/caffe/tree/master/docker)\n* [Theano Docker](https://github.com/Kaixhin/dockerfiles/tree/master/cuda-theano)\n* [Keras Docker](https://github.com/Kaixhin/dockerfiles/tree/master/cuda-keras/cuda_v7.5)\n* [Lasagne Docker](https://github.com/Kaixhin/dockerfiles/tree/master/cuda-lasagne/cuda_v7.5)\n* [Torch Docker](https://github.com/Kaixhin/dockerfiles/tree/master/cuda-torch)\n\n## FAQs\n### Performance\nRunning the DL frameworks as Docker containers should have no performance impact during runtime. Spinning up a Docker container itself is very fast and should take only a couple of seconds or less\n\n### Docker container persistence\nKeep in mind that the changes made inside Docker container are not persistent. Lets say you spun up a Docker container, added and deleted a few files and then kill the container. The next time you spin up a container using the same image, all your previous changes will be lost and you will be presented with a fresh instance of the image. This is great, because if you mess up your container, you can always kill it and start afresh again. It's bad if you don't know/understand this and forget to save your work before killing the container. There are a couple of ways to work around this:\n\n1. **Commit**: If you make changes to the image itself (say, install a few new libraries), you can commit the changes and settings into a new image. Note that this will create a new image, which will take a few GBs space on your disk. In your next session, you can create a container from this new image. For details on commit, see [Docker's documentaion](https://docs.docker.com/engine/reference/commandline/commit/).\n\n2. **Shared volume**: If you don't make changes to the image itself, but only create data (say, train a new Caffe model), then commiting the image each time is an overkill. In this case, it is easier to persist the data changes to a folder on your host OS using shared volumes. Simple put, the way this works is you share a folder from your host into the container. Any changes made to the contents of this folder from inside the container will persist, even after the container is killed. For more details, see Docker's docs on [Managing data in containers](https://docs.docker.com/engine/userguide/containers/dockervolumes/)\n \n### How do I update/install new libraries?\nYou can do one of:\n\n1. Modify the `Dockerfile` directly to install new or update your existing libraries. You will need to do a `docker build` after you do this. If you just want to update to a newer version of the DL framework(s), you can pass them as CLI parameter using the --build-arg tag ([see](-v /sharedfolder:/root/sharedfolder) for details). The framework versions are defined at the top of the `Dockerfile`. For example, `docker build -t floydhub/dl-docker:cpu -f Dockerfile.cpu --build-arg TENSORFLOW_VERSION=0.9.0rc0 .`\n\n2. You can log in to a container and install the frameworks interactively using the terminal. After you've made sure everything looks good, you can commit the new contains and store it as an image\n\n### What operating systems are supported?\nDocker is supported on all the OSes mentioned here: [Install Docker Engine](https://docs.docker.com/engine/installation/) (i.e. different flavors of Linux, Windows and OS X). The CPU version (Dockerfile.cpu) will run on all the above operating systems. However, the GPU version (Dockerfile.gpu) will only run on Linux OS. This is because Docker runs inside a virtual machine on Windows and OS X. Virtual machines don't have direct access to the GPU on the host. Unless PCI passthrough is implemented for these hosts, GPU support isn't available on non-Linux OSes at the moment.\n"
        },
        {
          "name": "automated_build",
          "type": "tree",
          "content": null
        },
        {
          "name": "jupyter_notebook_config.py",
          "type": "blob",
          "size": 1.0205078125,
          "content": "# Copyright 2015 The TensorFlow Authors. All Rights Reserved.\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#     http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n# ==============================================================================\nimport os\nfrom IPython.lib import passwd\n\nc.NotebookApp.ip = '*'\nc.NotebookApp.port = 8888\nc.NotebookApp.open_browser = False\nc.MultiKernelManager.default_kernel_name = 'python2'\n\n# sets a password if PASSWORD is set in the environment\nif 'PASSWORD' in os.environ:\n    c.NotebookApp.password = passwd(os.environ['PASSWORD'])\n    del os.environ['PASSWORD']\n"
        },
        {
          "name": "run_jupyter.sh",
          "type": "blob",
          "size": 0.7158203125,
          "content": "#!/usr/bin/env bash\n# Copyright 2015 The TensorFlow Authors. All Rights Reserved.\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#     http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n# ==============================================================================\n\n\njupyter notebook \"$@\"\n"
        }
      ]
    }
  ]
}