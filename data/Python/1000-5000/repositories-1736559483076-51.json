{
  "metadata": {
    "timestamp": 1736559483076,
    "page": 51,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjYw",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "aiogram/aiogram",
      "stars": 4865,
      "defaultBranch": "dev-3.x",
      "files": [
        {
          "name": ".apiversion",
          "type": "blob",
          "size": 0.00390625,
          "content": "8.2\n"
        },
        {
          "name": ".butcher",
          "type": "tree",
          "content": null
        },
        {
          "name": ".editorconfig",
          "type": "blob",
          "size": 0.30859375,
          "content": "root = true\n\n[**]\ncharset = utf-8\nend_of_line = lf\nindent_size = 4\nindent_style = space\ninsert_final_newline = true\ntrim_trailing_whitespace = true\nmax_line_length = 99\n\n[**.{yml,yaml,json}]\nindent_size = 2\n\n[**.{md,txt,rst}]\ntrim_trailing_whitespace = false\n\n[**.rst]\nindent_size = 2\n\n[Makefile]\nindent_style = tab\n"
        },
        {
          "name": ".github",
          "type": "tree",
          "content": null
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.1630859375,
          "content": ".idea/\n.vscode/\n\n__pycache__/\n*.py[cod]\n\n*.mo\n\nenv/\nbuild/\n_build/\ndist/\nsite/\n*.egg-info/\n*.egg\n.ruff_cache\n\n.mypy_cache\n.pytest_cache\n.coverage\nreports\n\ndev/\n.venv/\n"
        },
        {
          "name": ".pre-commit-config.yaml",
          "type": "blob",
          "size": 0.619140625,
          "content": "repos:\n  - repo: https://github.com/pre-commit/pre-commit-hooks\n    rev: v4.6.0\n    hooks:\n      - id: \"trailing-whitespace\"\n      - id: \"check-case-conflict\"\n      - id: \"check-merge-conflict\"\n      - id: \"debug-statements\"\n      - id: \"end-of-file-fixer\"\n      - id: \"mixed-line-ending\"\n      - id: \"detect-private-key\"\n      - id: \"check-yaml\"\n      - id: \"check-toml\"\n      - id: \"check-json\"\n\n  - repo: https://github.com/psf/black\n    rev: 24.4.2\n    hooks:\n      - id: black\n        files: &files '^(aiogram|tests|examples)'\n\n  - repo: https://github.com/astral-sh/ruff-pre-commit\n    rev: 'v0.5.1'\n    hooks:\n      - id: ruff\n"
        },
        {
          "name": ".readthedocs.yml",
          "type": "blob",
          "size": 0.1806640625,
          "content": "version: 2\n\nbuild:\n  os: ubuntu-22.04\n  tools:\n    python: \"3.11\"\n  jobs:\n    post_install:\n      - pip install .[docs,redis,mongo]\n\nsphinx:\n  configuration: docs/conf.py\n\nformats: all\n"
        },
        {
          "name": "CHANGES.rst",
          "type": "blob",
          "size": 64.638671875,
          "content": "=========\nChangelog\n=========\n\n..\n    You should *NOT* be adding new change log entries to this file, this\n    file is managed by towncrier. You *may* edit previous change logs to\n    fix problems like typo corrections or such.\n    To add a new change log entry, please see\n    https://pip.pypa.io/en/latest/development/#adding-a-news-entry\n    we named the news folder \"CHANGES\".\n\n    WARNING: Don't drop the next directive!\n\n.. towncrier-draft-entries:: [UPCOMING UPDATE]\n\n.. towncrier release notes start\n\n3.17.0 (2025-01-02)\n====================\n\nFeatures\n--------\n\n- Added full support of the `Bot API 8.2 <https://core.telegram.org/bots/api-changelog#january-1-2025>`_\n\n  - Added the methods :class:`aiogram.methods.verify_user.VerifyUser`, :class:`aiogram.methods.verify_chat.VerifyChat`, :class:`aiogram.methods.remove_user_verification.RemoveUserVerification` and :class:`aiogram.methods.remove_chat_verification.RemoveChatVerification`, allowing bots to manage verifications on behalf of an organization.\n  - Added the field :code:`upgrade_star_count` to the class :class:`aiogram.types.gift.Gift`.\n  - Added the parameter :code:`pay_for_upgrade` to the method :class:`aiogram.methods.send_gift.SendGift`.\n  - Removed the field :code:`hide_url` from the class :class:`aiogram.types.inline_query_result_article.InlineQueryResultArticle`. Pass an empty string as :code:`url` instead.\n  `#1623 <https://github.com/aiogram/aiogram/issues/1623>`_\n\n\n3.16.0 (2024-12-21)\n====================\n\nFeatures\n--------\n\n- Added full support of `Bot API 8.1 <https://core.telegram.org/bots/api-changelog#december-4-2024>`_:\n\n  - Added the field :code:`nanostar_amount` to the class :class:`aiogram.types.star_transaction.StarTransaction`.\n  - Added the class :class:`aiogram.types.transaction_partner_affiliate_program.TransactionPartnerAffiliateProgram` for transactions pertaining to incoming affiliate commissions.\n  - Added the class :class:`aiogram.types.affiliate_info.AffiliateInfo` and the field :code:`affiliate` to the class :class:`aiogram.types.transaction_partner_user.TransactionPartnerUser`, allowing bots to identify the relevant affiliate in transactions with an affiliate commission.\n  `#1617 <https://github.com/aiogram/aiogram/issues/1617>`_\n\n\nBugfixes\n--------\n\n- Corrected the exception text of `aiogram.methods.base.TelegramMethod.__await__` method.\n  `#1616 <https://github.com/aiogram/aiogram/issues/1616>`_\n\n\nMisc\n----\n\n- Increased max :code:`pydantic` version support from â€œ<2.10â€ to â€œ<2.11â€\n  `#1607 <https://github.com/aiogram/aiogram/issues/1607>`_\n- Fixed closing tag for :code:`tg-emoji` in the :class:`aiogram.utils.text_decoration.HtmlDecoration`: use the same constant as for tag opening\n  `#1608 <https://github.com/aiogram/aiogram/issues/1608>`_\n- Increased max :code:`aiohttp` version support from â€œ<3.11â€ to â€œ<3.12â€\n  `#1615 <https://github.com/aiogram/aiogram/issues/1615>`_\n\n\n3.15.0 (2024-11-17)\n====================\n\nFeatures\n--------\n\n- Added full support for `Bot API 8.0 <https://core.telegram.org/bots/api-changelog#november-17-2024>`_\n\n  - Added the parameter :code:`subscription_period` to the method\n    :class:`aiogram.methods.create_invoice_link.CreateInvoiceLink`\n    to support the creation of links that are billed periodically.\n  - Added the parameter :code:`business_connection_id` to the method\n    :class:`aiogram.methods.create_invoice_link.CreateInvoiceLink`\n    to support the creation of invoice links on behalf of business accounts.\n  - Added the fields :code:`subscription_expiration_date`,\n    :code:`is_recurring` and :code:`is_first_recurring` to the class\n    :class:`aiogram.types.successful_payment.SuccessfulPayment`.\n  - Added the method :class:`aiogram.methods.edit_user_star_subscription.EditUserStarSubscription`.\n  - Added the field :code:`subscription_period` to the class\n    :class:`aiogram.types.transaction_partner_user.TransactionPartnerUser`.\n  - Added the method :class:`aiogram.methods.set_user_emoji_status.SetUserEmojiStatus`.\n    The user must allow the bot to manage their emoji status.\n  - Added the class :class:`aiogram.types.prepared_inline_message.PreparedInlineMessage`\n    and the method :class:`aiogram.methods.save_prepared_inline_message.SavePreparedInlineMessage`,\n    allowing bots to suggest users send a specific message from a Mini App via the method\n    :class:`aiogram.methods.share_message.ShareMessage`.\n  - Added the classes :class:`aiogram.types.gift.Gift` and :class:`aiogram.types.gifts.Gifts`\n    and the method :class:`aiogram.methods.get_available_gifts.GetAvailableGifts`,\n    allowing bots to get all gifts available for sending.\n  - Added the field :code:`gift` to the class\n    :class:`aiogram.types.transaction_partner_user.TransactionPartnerUser`.\n  `#1606 <https://github.com/aiogram/aiogram/issues/1606>`_\n\n\n3.14.0 (2024-11-02)\n====================\n\nMisc\n----\n\n- Checked compatibility with Python 3.13 (added to the CI/CD processes),\n  so now aiogram is totally compatible with it.\n\n  Dropped compatibility with Python 3.8 due to this version being `EOL <https://devguide.python.org/versions/>`_.\n\n  .. warning::\n\n    In some cases you will need to have the installed compiler (Rust or C++)\n    to install some of the dependencies to compile packages from source on `pip install` command.\n\n    - If you are using Windows, you will need to have the `Visual Studio <https://visualstudio.microsoft.com/visual-cpp-build-tools/>`_ installed.\n    - If you are using Linux, you will need to have the `build-essential` package installed.\n    - If you are using macOS, you will need to have the `Xcode <https://developer.apple.com/xcode/>`_ installed.\n\n    When developers of this dependencies will release new versions with precompiled wheels for Windows, Linux and macOS,\n    this action will not be necessary anymore until the next version of the Python interpreter.\n  `#1589 <https://github.com/aiogram/aiogram/issues/1589>`_\n- Added business_connection_id to the :class:`aiogram.types.message.Message` API methods shortcuts.\n\n  Integrated the :code:`business_connection_id` attribute into various message manipulation methods,\n  ensuring consistent data handling. This update eliminates the need to pass the\n  :code:`business_connection_id` as a parameter,\n  instead directly accessing it from the instance attributes.\n  `#1586 <https://github.com/aiogram/aiogram/issues/1586>`_\n\nFeatures\n--------\n\n- Add function ``get_value`` to all built-in storage implementations, ``FSMContext`` and ``SceneWizard``\n  `#1431 <https://github.com/aiogram/aiogram/issues/1431>`_\n- Enhanced the inheritance of handlers and actions in :ref:`Scenes <Scenes>`.\n  Refactored to eliminate the copying of previously connected handlers and actions from parent scenes.\n  Now, handlers are dynamically rebuilt based on the current class, properly utilizing class inheritance and enabling handler overrides.\n\n  That's mean that you can now override handlers and actions in the child scene, instead of copying and duplicating them.\n  `#1583 <https://github.com/aiogram/aiogram/issues/1583>`_\n- Added full support of `Bot API 7.11 <https://core.telegram.org/bots/api-changelog#october-31-2024>`_\n\n  - Added the class :class:`aiogram.types.copy_text_button.CopyTextButton`\n    and the field :code:`copy_text` in the class\n    :class:`aiogram.types.inline_keyboard_button.InlineKeyboardButton`,\n    allowing bots to send and receive inline buttons that copy arbitrary text.\n  - Added the parameter :code:`allow_paid_broadcast` to the methods\n    :class:`aiogram.methods.send_message.SendMessage`,\n    :class:`aiogram.methods.send_photo.SendPhoto`,\n    :class:`aiogram.methods.send_video.SendVideo`,\n    :class:`aiogram.methods.send_animation.SendAnimation`,\n    :class:`aiogram.methods.send_audio.SendAudio`,\n    :class:`aiogram.methods.send_document.SendDocument`,\n    :class:`aiogram.methods.send_paid_media.SendPaidMedia`,\n    :class:`aiogram.methods.send_sticker.SendSticker`,\n    :class:`aiogram.methods.send_video_note.SendVideoNote`,\n    :class:`aiogram.methods.send_voice.SendVoice`,\n    :class:`aiogram.methods.send_location.SendLocation`,\n    :class:`aiogram.methods.send_venue.SendVenue`,\n    :class:`aiogram.methods.send_contact.SendContact`,\n    :class:`aiogram.methods.send_poll.SendPoll`,\n    :class:`aiogram.methods.send_dice.SendDice`,\n    :class:`aiogram.methods.send_invoice.SendInvoice`,\n    :class:`aiogram.methods.send_game.SendGame`,\n    :class:`aiogram.methods.send_media_group.SendMediaGroup`\n    and :class:`aiogram.methods.copy_message.CopyMessage`.\n  - Added the class\n    :class:`aiogram.types.transaction_partner_telegram_api.TransactionPartnerTelegramApi`\n    for transactions related to paid broadcasted messages.\n  - Introduced the ability to add media to existing text messages using the method\n    :class:`aiogram.methods.edit_message_media.EditMessageMedia`.\n  - Added support for hashtag and cashtag entities with a specified chat username\n    that opens a search for the relevant tag within the specified chat.\n  `#1601 <https://github.com/aiogram/aiogram/issues/1601>`_\n\n\nBugfixes\n--------\n\n- Fix PytestDeprecationWarning thrown by pytest-asyncio when running the tests\n  `#1584 <https://github.com/aiogram/aiogram/issues/1584>`_\n- Fixed customized serialization in the :class:`aiogram.filters.callback_data.CallbackData` factory.\n\n  From now UUID will have 32 bytes length instead of 36 bytes (with no `-` separators) in the callback data representation.\n  `#1602 <https://github.com/aiogram/aiogram/issues/1602>`_\n\n\nImproved Documentation\n----------------------\n\n- Add missing closing tag for bold.\n  `#1599 <https://github.com/aiogram/aiogram/issues/1599>`_\n\n\n3.13.1 (2024-09-18)\n====================\n\n.. warning::\n\n    **Python 3.8 End of Life**: Python 3.8 will reach its end of life (EOL) soon and will no longer\n    be supported by aiogram in the next releases (1-2 months ETA).\n\n    Please upgrade to a newer version of Python to ensure compatibility and receive future updates.\n\nMisc\n----\n\n- Increase max pydantic version support \"<2.9\" -> \"<2.10\" (only For Python >=3.9)\n  `#1576 <https://github.com/aiogram/aiogram/issues/1576>`_\n- Bump aiofiles version upper bound to <24.2\n  `#1577 <https://github.com/aiogram/aiogram/issues/1577>`_\n\n\nBugfixes\n--------\n\n- Fixed `Default` object annotation resolution using `pydantic`\n  `#1579 <https://github.com/aiogram/aiogram/issues/1579>`_\n\n\n3.13.0 (2024-09-08)\n====================\n\nFeatures\n--------\n\n- - Added updates about purchased paid media, represented by the class\n    :class:`aiogram.types.paid_media_purchased.PaidMediaPurchased`\n    and the field :code:`purchased_paid_media` in the class\n    :class:`aiogram.types.update.Update`.\n  - Added the ability to specify a payload in\n    :class:`aiogram.methods.send_paid_media.SendPaidMedia` that is received back by the bot in\n    :class:`aiogram.types.transaction_partner_user.TransactionPartnerUser`\n    and :code:`purchased_paid_media` updates.\n  - Added the field :code:`prize_star_count` to the classes\n    :class:`aiogram.types.giveaway_created.GiveawayCreated`,\n    :class:`aiogram.types.giveaway.Giveaway`,\n    :class:`aiogram.types.giveaway_winners.GiveawayWinners`\n    and :class:`aiogram.types.chat_boost_source_giveaway.ChatBoostSourceGiveaway`.\n  - Added the field :code:`is_star_giveaway` to the class\n    :class:`aiogram.types.giveaway_completed.GiveawayCompleted`.\n  `#1510 <https://github.com/aiogram/aiogram/issues/1510>`_\n- Added missing method aliases such as `.answer()`, `.reply()`, and others to `InaccessibleMessage`.\n  This change ensures consistency and improves usability by aligning the functionality of `InaccessibleMessage` with the `Message` type.\n  `#1574 <https://github.com/aiogram/aiogram/issues/1574>`_\n\n\nBugfixes\n--------\n\n- Fixed link preview options to use global defaults in various types and methods\n  to use global defaults for `link_preview_options`.\n  This change ensures consistency and enhances flexibility in handling link preview options\n  across different components.\n  `#1543 <https://github.com/aiogram/aiogram/issues/1543>`_\n\n\n3.12.0 (2024-08-16)\n====================\n\nFeatures\n--------\n\n- Added **message_thread_id** parameter to **message.get_url()**.\n  `#1451 <https://github.com/aiogram/aiogram/issues/1451>`_\n- Added getting user from `chat_boost` with source `ChatBoostSourcePremium` in `UserContextMiddleware` for `EventContext`\n  `#1474 <https://github.com/aiogram/aiogram/issues/1474>`_\n- Added full support of `Bot API 7.8 <https://core.telegram.org/bots/api-changelog#august-14-2024>`_\n\n  - Added the ability to send paid media to any chat.\n  - Added the parameter :code:`business_connection_id` to the method\n    :class:`aiogram.methods.send_paid_media.SendPaidMedia`,\n    allowing bots to send paid media on behalf of a business account.\n  - Added the field :code:`paid_media` to the class\n    :class:`aiogram.types.transaction_partner_user.TransactionPartnerUser`\n    for transactions involving paid media.\n  - Added the method\n    :class:`aiogram.methods.create_chat_subscription_invite_link.CreateChatSubscriptionInviteLink`,\n    allowing bots to create subscription invite links.\n  - Added the method\n    :class:`aiogram.methods.edit_chat_subscription_invite_link.EditChatSubscriptionInviteLink`,\n    allowing bots to edit the name of subscription invite links.\n  - Added the field :code:`until_date` to the class\n    :class:`aiogram.types.chat_member_member.ChatMemberMember` for members with an active subscription.\n  - Added support for paid reactions and the class\n    :class:`aiogram.types.reaction_type_paid.ReactionTypePaid`.\n  `#1560 <https://github.com/aiogram/aiogram/issues/1560>`_\n\n\nMisc\n----\n\n- Improved performance of StatesGroup\n  `#1507 <https://github.com/aiogram/aiogram/issues/1507>`_\n\n\n3.11.0 (2024-08-09)\n====================\n\nFeatures\n--------\n\n- Added full support of `Bot API 7.8 <https://core.telegram.org/bots/api-changelog#july-31-2024>`_\n\n  - Added the field :code:`has_main_web_app` to the class :class:`aiogram.types.user.User`,\n    which is returned in the response to :class:`aiogram.methods.get_me.GetMe`.\n  - Added the parameter :code:`business_connection_id` to the methods\n    :class:`aiogram.methods.pin_chat_message.PinChatMessage`\n    and :class:`aiogram.methods.unpin_chat_message.UnpinChatMessage`,\n    allowing bots to manage pinned messages on behalf of a business account.\n  `#1551 <https://github.com/aiogram/aiogram/issues/1551>`_\n\n\nBugfixes\n--------\n\n- Fixed URL path in the \"Open\" button at the \"demo/sendMessage\" endpoint in the web_app example.\n  `#1546 <https://github.com/aiogram/aiogram/issues/1546>`_\n\n\nMisc\n----\n\n- Added method :func:`aiogram.types.message.Message.as_reply_parameters`.\n  Replaced usage of the argument :code:`reply_to_message_id` with :code:`reply_parameters`\n  in all Message reply methods.\n  `#1538 <https://github.com/aiogram/aiogram/issues/1538>`_\n- Added `aiohttp v3.10 <https://github.com/aio-libs/aiohttp/releases/tag/v3.10.0>`_ ` support.\n  `#1548 <https://github.com/aiogram/aiogram/issues/1548>`_\n\n\n3.10.0 (2024-07-07)\n====================\n\nFeatures\n--------\n\n- Added full support of `Bot API 7.7 <https://core.telegram.org/bots/api-changelog#july-7-2024>`_\n\n  - Added the class :class:`aiogram.types.refunded_payment.RefundedPayment`,\n    containing information about a refunded payment.\n  - Added the field :code:`refunded_payment` to the class\n    :class:`aiogram.types.message.Message`,\n    describing a service message about a refunded payment.\n  `#1536 <https://github.com/aiogram/aiogram/issues/1536>`_\n\n\n3.9.0 (2024-07-06)\n===================\n\nFeatures\n--------\n\n- Added ChatMember resolution tool and updated 2.x migration guide.\n  `#1525 <https://github.com/aiogram/aiogram/issues/1525>`_\n- Added full support of `Bot API 7.6 <https://core.telegram.org/bots/api-changelog#july-1-2024>`_\n\n  - Added the classes :class:`aiogram.types.paid_media.PaidMedia`,\n      :class:`aiogram.types.paid_media_info.PaidMediaInfo`,\n      :class:`aiogram.types.paid_media_preview.PaidMediaPreview`,\n      :class:`aiogram.types.paid_media_photo.PaidMediaPhoto`\n      and :class:`aiogram.types.paid_media_video.PaidMediaVideo`,\n      containing information about paid media.\n  - Added the method :class:`aiogram.methods.send_paid_media.SendPaidMedia`\n      and the classes :class:`aiogram.types.input_paid_media.InputPaidMedia`,\n      :class:`aiogram.types.input_paid_media_photo.InputPaidMediaPhoto`\n      and :class:`aiogram.types.input_paid_media_video.InputPaidMediaVideo`,\n      to support sending paid media.\n  - Documented that the methods :class:`aiogram.methods.copy_message.CopyMessage`\n      and :class:`aiogram.methods.copy_messages.CopyMessages` cannot be used to copy paid media.\n  - Added the field :code:`can_send_paid_media` to the class\n      :class:`aiogram.types.chat_full_info.ChatFullInfo`.\n  - Added the field :code:`paid_media` to the classes\n      :class:`aiogram.types.message.Message` and\n      :class:`aiogram.types.external_reply_info.ExternalReplyInfo`.\n  - Added the class\n      :class:`aiogram.types.transaction_partner_telegram_ads.TransactionPartnerTelegramAds`,\n      containing information about Telegram Star transactions involving the Telegram Ads Platform.\n  - Added the field :code:`invoice_payload` to the class\n      :class:`aiogram.types.transaction_partner_user.TransactionPartnerUser`,\n      containing the bot-specified invoice payload.\n  - Changed the default opening mode for Direct Link Mini Apps.\n  - Added support for launching Web Apps via t.me link in the class\n      :class:`aiogram.types.menu_button_web_app.MenuButtonWebApp`.\n  - Added the field :code:`section_separator_color` to the class :code:`ThemeParams`.\n  `#1533 <https://github.com/aiogram/aiogram/issues/1533>`_\n\n\nBugfixes\n--------\n\n- Fixed event context resolving for the callback query that is coming from the business account\n  `#1520 <https://github.com/aiogram/aiogram/issues/1520>`_\n\n\n3.8.0 (2024-06-19)\n===================\n\nFeatures\n--------\n\n- Added utility to safely deserialize any Telegram object or method to a JSON-compatible object (dict).\n  (:ref:`>> Read more <serialization-tool>`)\n  `#1450 <https://github.com/aiogram/aiogram/issues/1450>`_\n- Added full support of `Bot API 7.5 <https://core.telegram.org/bots/api-changelog#june-18-2024>`_\n\n  - Added the classes :class:`aiogram.types.star_transactions.StarTransactions`,\n      :class:`aiogram.types.star_transaction.StarTransaction`,\n      :class:`aiogram.types.transaction_partner.TransactionPartner`\n      and :class:`aiogram.types.revenue_withdrawal_state.RevenueWithdrawalState`,\n      containing information about Telegram Star transactions involving the bot.\n  - Added the method :class:`aiogram.methods.get_star_transactions.GetStarTransactions`\n      that can be used to get the list of all Telegram Star transactions for the bot.\n  - Added support for callback buttons in\n      :class:`aiogram.types.inline_keyboard_markup.InlineKeyboardMarkup`\n      for messages sent on behalf of a business account.\n  - Added support for callback queries originating from a message sent\n      on behalf of a business account.\n  - Added the parameter :code:`business_connection_id` to the methods\n      :class:`aiogram.methods.edit_message_text.EditMessageText`,\n      :class:`aiogram.methods.edit_message_media.EditMessageMedia`,\n      :class:`aiogram.methods.edit_message_caption.EditMessageCaption`,\n      :class:`aiogram.methods.edit_message_live_location.EditMessageLiveLocation`,\n      :class:`aiogram.methods.stop_message_live_location.StopMessageLiveLocation`\n      and :class:`aiogram.methods.edit_message_reply_markup.EditMessageReplyMarkup`,\n      allowing the bot to edit business messages.\n  - Added the parameter :code:`business_connection_id` to the method\n      :class:`aiogram.methods.stop_poll.StopPoll`,\n      allowing the bot to stop polls it sent on behalf of a business account.\n  `#1518 <https://github.com/aiogram/aiogram/issues/1518>`_\n\n\nBugfixes\n--------\n\n- Increased DNS cache ttl setting to aiohttp session as a workaround for DNS resolution issues in aiohttp.\n  `#1500 <https://github.com/aiogram/aiogram/issues/1500>`_\n\n\nImproved Documentation\n----------------------\n\n- Fixed MongoStorage section in the documentation by adding extra dependency to ReadTheDocs configuration.\n  `#1501 <https://github.com/aiogram/aiogram/issues/1501>`_\n- Added information about dependency changes to the :code:`2.x --> 3.x` migration guide.\n  `#1504 <https://github.com/aiogram/aiogram/issues/1504>`_\n\n\nMisc\n----\n\n- [Only for contributors] Fail redis and mongo tests if incorrect URI provided + some storages tests refactoring\n\n  If incorrect URIs provided to \"--redis\" and/or \"--mongo\" options tests should fail with errors instead of skipping.\n  Otherwise the next scenario is possible:\n    1) developer breaks RedisStorage and/or MongoStorage code\n    2) tests are run with incorrect redis and/or mongo URIsprovided by \"--redis\" and \"--mongo\" options (for example, wrong port specified)\n    3) tests pass because skipping doesn't fail tests run\n    4) developer or reviewer doesn't notice that redis and/or mongo tests were skipped\n    5) broken code gets in codebase\n\n  Also some refactorings done (related with storages and storages tests).\n  `#1510 <https://github.com/aiogram/aiogram/issues/1510>`_\n\n\n3.7.0 (2024-05-31)\n===================\n\nFeatures\n--------\n\n- Added new storage :code:`aiogram.fsm.storage.MongoStorage` for Finite State Machine based on Mongo DB (using :code:`motor` library)\n  `#1434 <https://github.com/aiogram/aiogram/issues/1434>`_\n- Added full support of `Bot API 7.4 <https://core.telegram.org/bots/api-changelog#may-28-2024>`_\n  `#1498 <https://github.com/aiogram/aiogram/issues/1498>`_\n\n\nBugfixes\n--------\n\n- Fixed wrong :code:`MarkdownV2` custom emoji parsing in :code:`aiogram.utils.text_decorations`\n  `#1496 <https://github.com/aiogram/aiogram/issues/1496>`_\n\n\nDeprecations and Removals\n-------------------------\n\n- Removed deprecated arguments from Bot class\n  :code:`parse_mode`, :code:`disable_web_page_preview`, :code:`protect_content` as previously announced in v3.4.0.\n  `#1494 <https://github.com/aiogram/aiogram/issues/1494>`_\n\n\nMisc\n----\n\n- Improved code consistency and readability in code examples by refactoring imports, adjusting the base webhook URL, modifying bot instance initialization to utilize DefaultBotProperties, and updating router message handlers.\n  `#1482 <https://github.com/aiogram/aiogram/issues/1482>`_\n\n\n3.6.0 (2024-05-06)\n===================\n\nFeatures\n--------\n\n- Added full support of `Bot API 7.3 <https://core.telegram.org/bots/api-changelog#may-6-2024>`_\n  `#1480 <https://github.com/aiogram/aiogram/issues/1480>`_\n\n\nImproved Documentation\n----------------------\n\n- Added telegram objects transformation block in 2.x -> 3.x migration guide\n  `#1412 <https://github.com/aiogram/aiogram/issues/1412>`_\n\n\n3.5.0 (2024-04-23)\n===================\n\nFeatures\n--------\n\n- Added **message_thread_id** parameter to **ChatActionSender** class methods.\n  `#1437 <https://github.com/aiogram/aiogram/issues/1437>`_\n- Added context manager interface to Bot instance, from now you can use:\n\n  .. code-block:: python\n\n      async with Bot(...) as bot:\n          ...\n\n  instead of\n\n  .. code-block:: python\n\n      async with Bot(...).context() as bot:\n          ...\n  `#1468 <https://github.com/aiogram/aiogram/issues/1468>`_\n\n\nBugfixes\n--------\n\n- - **WebAppUser Class Fields**: Added missing `is_premium`, `added_to_attachment_menu`, and `allows_write_to_pm` fields to `WebAppUser` class to align with the Telegram API.\n\n  - **WebAppChat Class Implementation**: Introduced the `WebAppChat` class with all its fields (`id`, `type`, `title`, `username`, and `photo_url`) as specified in the Telegram API, which was previously missing from the library.\n\n  - **WebAppInitData Class Fields**: Included previously omitted fields in the `WebAppInitData` class: `chat`, `chat_type`, `chat_instance`, to match the official documentation for a complete Telegram Web Apps support.\n  `#1424 <https://github.com/aiogram/aiogram/issues/1424>`_\n- Fixed poll answer FSM context by handling :code:`voter_chat` for :code:`poll_answer` event\n  `#1436 <https://github.com/aiogram/aiogram/issues/1436>`_\n- Added missing error handling to :code:`_background_feed_update` (when in :code:`handle_in_background=True` webhook mode)\n  `#1458 <https://github.com/aiogram/aiogram/issues/1458>`_\n\n\nImproved Documentation\n----------------------\n\n- Added WebAppChat class to WebApp docs, updated uk_UA localisation of WebApp docs.\n  `#1433 <https://github.com/aiogram/aiogram/issues/1433>`_\n\n\nMisc\n----\n\n- Added full support of `Bot API 7.2 <https://core.telegram.org/bots/api-changelog#march-31-2024>`_\n  `#1444 <https://github.com/aiogram/aiogram/issues/1444>`_\n- Loosened pydantic version upper restriction from ``<2.7`` to ``<2.8``\n  `#1460 <https://github.com/aiogram/aiogram/issues/1460>`_\n\n\n3.4.1 (2024-02-17)\n===================\n\nBugfixes\n--------\n\n- Fixed JSON serialization of the :code:`LinkPreviewOptions` class while it is passed\n  as bot-wide default options.\n  `#1418 <https://github.com/aiogram/aiogram/issues/1418>`_\n\n\n3.4.0 (2024-02-16)\n===================\n\nFeatures\n--------\n\n- Reworked bot-wide globals like :code:`parse_mode`, :code:`disable_web_page_preview`, and others to be more flexible.\n\n  .. warning::\n\n      Note that the old way of setting these global bot properties is now deprecated and will be removed in the next major release.\n  `#1392 <https://github.com/aiogram/aiogram/issues/1392>`_\n- A new enum :code:`KeyboardButtonPollTypeType` for :code:`KeyboardButtonPollTypeType.type` field has bed added.\n  `#1398 <https://github.com/aiogram/aiogram/issues/1398>`_\n- Added full support of `Bot API 7.1 <https://core.telegram.org/bots/api-changelog#february-16-2024>`_\n\n  - Added support for the administrator rights :code:`can_post_stories`, :code:`can_edit_stories`, :code:`can_delete_stories` in supergroups.\n  - Added the class :code:`ChatBoostAdded` and the field :code:`boost_added` to the class :code:`Message` for service messages about a user boosting a chat.\n  - Added the field :code:`sender_boost_count` to the class :code:`Message`.\n  - Added the field :code:`reply_to_story` to the class :code:`Message`.\n  - Added the fields :code:`chat` and :code:`id` to the class :code:`Story`.\n  - Added the field :code:`unrestrict_boost_count` to the class :code:`Chat`.\n  - Added the field :code:`custom_emoji_sticker_set_name` to the class :code:`Chat`.\n  `#1417 <https://github.com/aiogram/aiogram/issues/1417>`_\n\n\nBugfixes\n--------\n\n- Update KeyboardBuilder utility, fixed type-hints for button method, adjusted limits of the different markup types to real world values.\n  `#1399 <https://github.com/aiogram/aiogram/issues/1399>`_\n- Added new :code:`reply_parameters` param to :code:`message.send_copy` because it hasn't been added there\n  `#1403 <https://github.com/aiogram/aiogram/issues/1403>`_\n\n\nImproved Documentation\n----------------------\n\n- Add notion \"Working with plural forms\" in documentation Utils -> Translation\n  `#1395 <https://github.com/aiogram/aiogram/issues/1395>`_\n\n\n3.3.0 (2023-12-31)\n===================\n\nFeatures\n--------\n\n- Added full support of `Bot API 7.0 <https://core.telegram.org/bots/api-changelog#december-29-2023>`_\n\n  - Reactions\n  - Replies 2.0\n  - Link Preview Customization\n  - Block Quotation\n  - Multiple Message Actions\n  - Requests for multiple users\n  - Chat Boosts\n  - Giveaway\n  - Other changes\n  `#1387 <https://github.com/aiogram/aiogram/issues/1387>`_\n\n\n3.2.0 (2023-11-24)\n===================\n\nFeatures\n--------\n\n- Introduced Scenes feature that helps you to simplify user interactions using Finite State Machine.\n  Read more about ðŸ‘‰ :ref:`Scenes <Scenes>`.\n  `#1280 <https://github.com/aiogram/aiogram/issues/1280>`_\n- Added the new FSM strategy :code:`CHAT_TOPIC`, which sets the state for the entire topic in the chat, also works in private messages and regular groups without topics.\n  `#1343 <https://github.com/aiogram/aiogram/issues/1343>`_\n\n\nBugfixes\n--------\n\n- Fixed :code:`parse_mode` argument in the in :code:`Message.send_copy` shortcut. Disable by default.\n  `#1332 <https://github.com/aiogram/aiogram/issues/1332>`_\n- Added ability to get handler flags from filters.\n  `#1360 <https://github.com/aiogram/aiogram/issues/1360>`_\n- Fixed a situation where a :code:`CallbackData` could not be parsed without a default value.\n  `#1368 <https://github.com/aiogram/aiogram/issues/1368>`_\n\n\nImproved Documentation\n----------------------\n\n- Corrected grammatical errors, improved sentence structures, translation for migration 2.x-3.x\n  `#1302 <https://github.com/aiogram/aiogram/issues/1302>`_\n- Minor typo correction, specifically in module naming + some grammar.\n  `#1340 <https://github.com/aiogram/aiogram/issues/1340>`_\n- Added `CITATION.cff` file for automatic academic citation generation.\n  Now you can copy citation from the GitHub page and paste it into your paper.\n  `#1351 <https://github.com/aiogram/aiogram/issues/1351>`_\n- Minor typo correction in middleware docs.\n  `#1353 <https://github.com/aiogram/aiogram/issues/1353>`_\n\n\nMisc\n----\n\n- Fixed ResourceWarning in the tests, reworked :code:`RedisEventsIsolation` fixture to use Redis connection from :code:`RedisStorage`\n  `#1320 <https://github.com/aiogram/aiogram/issues/1320>`_\n- Updated dependencies, bumped minimum required version:\n\n  - :code:`magic-filter` - fixed `.resolve` operation\n  - :code:`pydantic` - fixed compatibility (broken in 2.4)\n  - :code:`aiodns` - added new dependency to the :code:`fast` extras (:code:`pip install aiogram[fast]`)\n  - *others...*\n  `#1327 <https://github.com/aiogram/aiogram/issues/1327>`_\n- Prevent update handling task pointers from being garbage collected, backport from 2.x\n  `#1331 <https://github.com/aiogram/aiogram/issues/1331>`_\n- Updated :code:`typing-extensions` package version range in dependencies to fix compatibility with :code:`FastAPI`\n  `#1347 <https://github.com/aiogram/aiogram/issues/1347>`_\n- Introduce Python 3.12 support\n  `#1354 <https://github.com/aiogram/aiogram/issues/1354>`_\n- Speeded up CallableMixin processing by caching references to nested objects and simplifying kwargs assembly.\n  `#1357 <https://github.com/aiogram/aiogram/issues/1357>`_\n- Added :code:`pydantic` v2.5 support.\n  `#1361 <https://github.com/aiogram/aiogram/issues/1361>`_\n- Updated :code:`thumbnail` fields type to :code:`InputFile` only\n  `#1372 <https://github.com/aiogram/aiogram/issues/1372>`_\n\n\n3.1.1 (2023-09-25)\n===================\n\nBugfixes\n--------\n\n- Fixed `pydantic` version <2.4, since 2.4 has breaking changes.\n  `#1322 <https://github.com/aiogram/aiogram/issues/1322>`_\n\n\n3.1.0 (2023-09-22)\n===================\n\nFeatures\n--------\n\n- Added support for custom encoders/decoders for payload (and also for deep-linking).\n  `#1262 <https://github.com/aiogram/aiogram/issues/1262>`_\n- Added :class:`aiogram.utils.input_media.MediaGroupBuilder` for media group construction.\n  `#1293 <https://github.com/aiogram/aiogram/issues/1293>`_\n- Added full support of `Bot API 6.9 <https://core.telegram.org/bots/api-changelog#september-22-2023>`_\n  `#1319 <https://github.com/aiogram/aiogram/issues/1319>`_\n\n\nBugfixes\n--------\n\n- Added actual param hints for `InlineKeyboardBuilder` and `ReplyKeyboardBuilder`.\n  `#1303 <https://github.com/aiogram/aiogram/issues/1303>`_\n- Fixed priority of events isolation, now user state will be loaded only after lock is acquired\n  `#1317 <https://github.com/aiogram/aiogram/issues/1317>`_\n\n\n3.0.0 (2023-09-01)\n===================\n\nBugfixes\n--------\n\n- Replaced :code:`datetime.datetime` with `DateTime` type wrapper across types to make dumped JSONs object\n  more compatible with data that is sent by Telegram.\n  `#1277 <https://github.com/aiogram/aiogram/issues/1277>`_\n- Fixed magic :code:`.as_(...)` operation for values that can be interpreted as `False` (e.g. `0`).\n  `#1281 <https://github.com/aiogram/aiogram/issues/1281>`_\n- Italic markdown from utils now uses correct decorators\n  `#1282 <https://github.com/aiogram/aiogram/issues/1282>`_\n- Fixed method :code:`Message.send_copy` for stickers.\n  `#1284 <https://github.com/aiogram/aiogram/issues/1284>`_\n- Fixed :code:`Message.send_copy` method, which was not working properly with stories, so not you can copy stories too (forwards messages).\n  `#1286 <https://github.com/aiogram/aiogram/issues/1286>`_\n- Fixed error overlapping when validation error is caused by remove_unset root validator in base types and methods.\n  `#1290 <https://github.com/aiogram/aiogram/issues/1290>`_\n\n\n3.0.0rc2 (2023-08-18)\n======================\n\nBugfixes\n--------\n\n- Fixed missing message content types (:code:`ContentType.USER_SHARED`, :code:`ContentType.CHAT_SHARED`)\n  `#1252 <https://github.com/aiogram/aiogram/issues/1252>`_\n- Fixed nested hashtag, cashtag and email message entities not being parsed correctly when these entities are inside another entity.\n  `#1259 <https://github.com/aiogram/aiogram/issues/1259>`_\n- Moved global filters check placement into router to add chance to pass context from global filters\n  into handlers in the same way as it possible in other places\n  `#1266 <https://github.com/aiogram/aiogram/issues/1266>`_\n\n\nImproved Documentation\n----------------------\n\n- Added error handling example `examples/error_handling.py`\n  `#1099 <https://github.com/aiogram/aiogram/issues/1099>`_\n- Added a few words about skipping pending updates\n  `#1251 <https://github.com/aiogram/aiogram/issues/1251>`_\n- Added a section on Dependency Injection technology\n  `#1253 <https://github.com/aiogram/aiogram/issues/1253>`_\n- This update includes the addition of a multi-file bot example to the repository.\n  `#1254 <https://github.com/aiogram/aiogram/issues/1254>`_\n- Refactored examples code to use aiogram enumerations and enhanced chat messages with markdown\n  beautification's for a more user-friendly display.\n  `#1256 <https://github.com/aiogram/aiogram/issues/1256>`_\n- Supplemented \"Finite State Machine\" section in Migration FAQ\n  `#1264 <https://github.com/aiogram/aiogram/issues/1264>`_\n- Removed extra param in docstring of TelegramEventObserver's filter method\n  and fixed typo in I18n documentation.\n  `#1268 <https://github.com/aiogram/aiogram/issues/1268>`_\n\n\nMisc\n----\n\n- Enhanced the warning message in dispatcher to include a JSON dump of the update when update type is not known.\n  `#1269 <https://github.com/aiogram/aiogram/issues/1269>`_\n- Added support for `Bot API 6.8 <https://core.telegram.org/bots/api-changelog#august-18-2023>`_\n  `#1275 <https://github.com/aiogram/aiogram/issues/1275>`_\n\n\n3.0.0rc1 (2023-08-06)\n======================\n\nFeatures\n--------\n\n- Added Currency enum.\n  You can use it like this:\n\n  .. code-block:: python\n\n      from aiogram.enums import Currency\n\n      await bot.send_invoice(\n          ...,\n          currency=Currency.USD,\n          ...\n      )\n  `#1194 <https://github.com/aiogram/aiogram/issues/1194>`_\n- Updated keyboard builders with new methods for integrating buttons and keyboard creation more seamlessly.\n  Added functionality to create buttons from existing markup and attach another builder.\n  This improvement aims to make the keyboard building process more user-friendly and flexible.\n  `#1236 <https://github.com/aiogram/aiogram/issues/1236>`_\n- Added support for message_thread_id in ChatActionSender\n  `#1249 <https://github.com/aiogram/aiogram/issues/1249>`_\n\n\nBugfixes\n--------\n\n- Fixed polling startup when \"bot\" key is passed manually into dispatcher workflow data\n  `#1242 <https://github.com/aiogram/aiogram/issues/1242>`_\n- Added codegen configuration for lost shortcuts:\n\n  - ShippingQuery.answer\n  - PreCheckoutQuery.answer\n  - Message.delete_reply_markup\n  `#1244 <https://github.com/aiogram/aiogram/issues/1244>`_\n\n\nImproved Documentation\n----------------------\n\n- Added documentation for webhook and polling modes.\n  `#1241 <https://github.com/aiogram/aiogram/issues/1241>`_\n\n\nMisc\n----\n\n- Reworked InputFile reading, removed :code:`__aiter__` method, added `bot: Bot` argument to\n  the :code:`.read(...)` method, so, from now URLInputFile can be used without specifying\n  bot instance.\n  `#1238 <https://github.com/aiogram/aiogram/issues/1238>`_\n- Code-generated :code:`__init__` typehints in types and methods to make IDE happy without additional pydantic plugin\n  `#1245 <https://github.com/aiogram/aiogram/issues/1245>`_\n\n\n3.0.0b9 (2023-07-30)\n=====================\n\nFeatures\n--------\n\n- Added new shortcuts for :class:`aiogram.types.chat_member_updated.ChatMemberUpdated`\n  to send message to chat that member joined/left.\n  `#1234 <https://github.com/aiogram/aiogram/issues/1234>`_\n- Added new shortcuts for :class:`aiogram.types.chat_join_request.ChatJoinRequest`\n  to make easier access to sending messages to users who wants to join to chat.\n  `#1235 <https://github.com/aiogram/aiogram/issues/1235>`_\n\n\nBugfixes\n--------\n\n- Fixed bot assignment in the :code:`Message.send_copy` shortcut\n  `#1232 <https://github.com/aiogram/aiogram/issues/1232>`_\n- Added model validation to remove UNSET before field validation.\n  This change was necessary to correctly handle parse_mode where 'UNSET' is used as a sentinel value.\n  Without the removal of 'UNSET', it would create issues when passed to model initialization from Bot.method_name.\n  'UNSET' was also added to typing.\n  `#1233 <https://github.com/aiogram/aiogram/issues/1233>`_\n- Updated pydantic to 2.1 with few bugfixes\n\n\nImproved Documentation\n----------------------\n\n- Improved docs, added basic migration guide (will be expanded later)\n  `#1143 <https://github.com/aiogram/aiogram/issues/1143>`_\n\n\nDeprecations and Removals\n-------------------------\n\n- Removed the use of the context instance (Bot.get_current) from all placements that were used previously.\n  This is to avoid the use of the context instance in the wrong place.\n  `#1230 <https://github.com/aiogram/aiogram/issues/1230>`_\n\n\n3.0.0b8 (2023-07-17)\n=====================\n\nFeatures\n--------\n\n- Added possibility to use custom events in routers (If router does not support custom event it does not break and passes it to included routers).\n  `#1147 <https://github.com/aiogram/aiogram/issues/1147>`_\n- Added support for FSM in Forum topics.\n\n  The strategy can be changed in dispatcher:\n\n  .. code-block:: python\n\n      from aiogram.fsm.strategy import FSMStrategy\n      ...\n      dispatcher = Dispatcher(\n          fsm_strategy=FSMStrategy.USER_IN_TOPIC,\n          storage=...,  # Any persistent storage\n      )\n\n  .. note::\n\n      If you have implemented you own storages you should extend record key generation\n      with new one attribute - :code:`thread_id`\n  `#1161 <https://github.com/aiogram/aiogram/issues/1161>`_\n- Improved CallbackData serialization.\n\n  - Minimized UUID (hex without dashes)\n  - Replaced bool values with int (true=1, false=0)\n  `#1163 <https://github.com/aiogram/aiogram/issues/1163>`_\n- Added a tool to make text formatting flexible and easy.\n  More details on the :ref:`corresponding documentation page <formatting-tool>`\n  `#1172 <https://github.com/aiogram/aiogram/issues/1172>`_\n- Added :code:`X-Telegram-Bot-Api-Secret-Token` header check\n  `#1173 <https://github.com/aiogram/aiogram/issues/1173>`_\n- Made :code:`allowed_updates` list to revolve automatically in start_polling method if not set explicitly.\n  `#1178 <https://github.com/aiogram/aiogram/issues/1178>`_\n- Added possibility to pass custom headers to :class:`URLInputFile` object\n  `#1191 <https://github.com/aiogram/aiogram/issues/1191>`_\n\n\nBugfixes\n--------\n\n- Change type of result in InlineQueryResult enum for :code:`InlineQueryResultCachedMpeg4Gif`\n  and :code:`InlineQueryResultMpeg4Gif` to more correct according to documentation.\n\n  Change regexp for entities parsing to more correct (:code:`InlineQueryResultType.yml`).\n  `#1146 <https://github.com/aiogram/aiogram/issues/1146>`_\n- Fixed signature of startup/shutdown events to include the :code:`**dispatcher.workflow_data` as the handler arguments.\n  `#1155 <https://github.com/aiogram/aiogram/issues/1155>`_\n- Added missing :code:`FORUM_TOPIC_EDITED` value to content_type property\n  `#1160 <https://github.com/aiogram/aiogram/issues/1160>`_\n- Fixed compatibility with Python 3.8-3.9 (from previous release)\n  `#1162 <https://github.com/aiogram/aiogram/issues/1162>`_\n- Fixed the markdown spoiler parser.\n  `#1176 <https://github.com/aiogram/aiogram/issues/1176>`_\n- Fixed workflow data propagation\n  `#1196 <https://github.com/aiogram/aiogram/issues/1196>`_\n- Fixed the serialization error associated with nested subtypes\n  like InputMedia, ChatMember, etc.\n\n  The previously generated code resulted in an invalid schema under pydantic v2,\n  which has stricter type parsing.\n  Hence, subtypes without the specification of all subtype unions were generating\n  an empty object. This has been rectified now.\n  `#1213 <https://github.com/aiogram/aiogram/issues/1213>`_\n\n\nImproved Documentation\n----------------------\n\n- Changed small grammar typos for :code:`upload_file`\n  `#1133 <https://github.com/aiogram/aiogram/issues/1133>`_\n\n\nDeprecations and Removals\n-------------------------\n\n- Removed text filter in due to is planned to remove this filter few versions ago.\n\n  Use :code:`F.text` instead\n  `#1170 <https://github.com/aiogram/aiogram/issues/1170>`_\n\n\nMisc\n----\n\n- Added full support of `Bot API 6.6 <https://core.telegram.org/bots/api-changelog#march-9-2023>`_\n\n  .. danger::\n\n      Note that this issue has breaking changes described in the Bot API changelog,\n      this changes is not breaking in the API but breaking inside aiogram because\n      Beta stage is not finished.\n  `#1139 <https://github.com/aiogram/aiogram/issues/1139>`_\n- Added full support of `Bot API 6.7 <https://core.telegram.org/bots/api-changelog#april-21-2023>`_\n\n  .. warning::\n\n      Note that arguments *switch_pm_parameter* and *switch_pm_text* was deprecated\n      and should be changed to *button* argument as described in API docs.\n  `#1168 <https://github.com/aiogram/aiogram/issues/1168>`_\n- Updated `Pydantic to V2 <https://docs.pydantic.dev/2.0/migration/>`_\n\n  .. warning::\n\n      Be careful, not all libraries is already updated to using V2\n  `#1202 <https://github.com/aiogram/aiogram/issues/1202>`_\n- Added global defaults :code:`disable_web_page_preview` and :code:`protect_content` in addition to :code:`parse_mode` to the Bot instance,\n  reworked internal request builder mechanism.\n  `#1142 <https://github.com/aiogram/aiogram/issues/1142>`_\n- Removed bot parameters from storages\n  `#1144 <https://github.com/aiogram/aiogram/issues/1144>`_\n\n- Replaced ContextVar's with a new feature called `Validation Context <https://docs.pydantic.dev/latest/usage/validators/#validation-context>`_\n  in Pydantic to improve the clarity, usability, and versatility of handling the Bot instance within method shortcuts.\n\n  .. danger::\n\n    **Breaking**: The 'bot' argument now is required in `URLInputFile`\n  `#1210 <https://github.com/aiogram/aiogram/issues/1210>`_\n- Updated magic-filter with new features\n\n  - Added hint for :code:`len(F)` error\n  - Added not in operation\n  `#1221 <https://github.com/aiogram/aiogram/issues/1221>`_\n\n\n3.0.0b7 (2023-02-18)\n=====================\n\n.. warning::\n\n    Note that this version has incompatibility with Python 3.8-3.9 in case when you create an instance of Dispatcher outside of the any coroutine.\n\n    Sorry for the inconvenience, it will be fixed in the next version.\n\n    This code will not work:\n\n    .. code-block:: python\n\n        dp = Dispatcher()\n\n        def main():\n            ...\n            dp.run_polling(...)\n\n        main()\n\n    But if you change it like this it should works as well:\n\n    .. code-block:: python\n\n        router = Router()\n\n        async def main():\n            dp = Dispatcher()\n            dp.include_router(router)\n            ...\n            dp.start_polling(...)\n\n        asyncio.run(main())\n\n\nFeatures\n--------\n\n- Added missing shortcuts, new enums, reworked old stuff\n\n  **Breaking**\n  All previously added enums is re-generated in new place - `aiogram.enums` instead of `aiogram.types`\n\n  **Added enums:** :class:`aiogram.enums.bot_command_scope_type.BotCommandScopeType`,\n      :class:`aiogram.enums.chat_action.ChatAction`,\n      :class:`aiogram.enums.chat_member_status.ChatMemberStatus`,\n      :class:`aiogram.enums.chat_type.ChatType`,\n      :class:`aiogram.enums.content_type.ContentType`,\n      :class:`aiogram.enums.dice_emoji.DiceEmoji`,\n      :class:`aiogram.enums.inline_query_result_type.InlineQueryResultType`,\n      :class:`aiogram.enums.input_media_type.InputMediaType`,\n      :class:`aiogram.enums.mask_position_point.MaskPositionPoint`,\n      :class:`aiogram.enums.menu_button_type.MenuButtonType`,\n      :class:`aiogram.enums.message_entity_type.MessageEntityType`,\n      :class:`aiogram.enums.parse_mode.ParseMode`,\n      :class:`aiogram.enums.poll_type.PollType`,\n      :class:`aiogram.enums.sticker_type.StickerType`,\n      :class:`aiogram.enums.topic_icon_color.TopicIconColor`,\n      :class:`aiogram.enums.update_type.UpdateType`,\n\n  **Added shortcuts**:\n\n  - *Chat* :meth:`aiogram.types.chat.Chat.get_administrators`,\n      :meth:`aiogram.types.chat.Chat.delete_message`,\n      :meth:`aiogram.types.chat.Chat.revoke_invite_link`,\n      :meth:`aiogram.types.chat.Chat.edit_invite_link`,\n      :meth:`aiogram.types.chat.Chat.create_invite_link`,\n      :meth:`aiogram.types.chat.Chat.export_invite_link`,\n      :meth:`aiogram.types.chat.Chat.do`,\n      :meth:`aiogram.types.chat.Chat.delete_sticker_set`,\n      :meth:`aiogram.types.chat.Chat.set_sticker_set`,\n      :meth:`aiogram.types.chat.Chat.get_member`,\n      :meth:`aiogram.types.chat.Chat.get_member_count`,\n      :meth:`aiogram.types.chat.Chat.leave`,\n      :meth:`aiogram.types.chat.Chat.unpin_all_messages`,\n      :meth:`aiogram.types.chat.Chat.unpin_message`,\n      :meth:`aiogram.types.chat.Chat.pin_message`,\n      :meth:`aiogram.types.chat.Chat.set_administrator_custom_title`,\n      :meth:`aiogram.types.chat.Chat.set_permissions`,\n      :meth:`aiogram.types.chat.Chat.promote`,\n      :meth:`aiogram.types.chat.Chat.restrict`,\n      :meth:`aiogram.types.chat.Chat.unban`,\n      :meth:`aiogram.types.chat.Chat.ban`,\n      :meth:`aiogram.types.chat.Chat.set_description`,\n      :meth:`aiogram.types.chat.Chat.set_title`,\n      :meth:`aiogram.types.chat.Chat.delete_photo`,\n      :meth:`aiogram.types.chat.Chat.set_photo`,\n  - *Sticker*: :meth:`aiogram.types.sticker.Sticker.set_position_in_set`,\n      :meth:`aiogram.types.sticker.Sticker.delete_from_set`,\n  - *User*: :meth:`aiogram.types.user.User.get_profile_photos`\n  `#952 <https://github.com/aiogram/aiogram/issues/952>`_\n- Added :ref:`callback answer <callback-answer-util>` feature\n  `#1091 <https://github.com/aiogram/aiogram/issues/1091>`_\n- Added a method that allows you to compactly register routers\n  `#1117 <https://github.com/aiogram/aiogram/issues/1117>`_\n\n\nBugfixes\n--------\n\n- Check status code when downloading file\n  `#816 <https://github.com/aiogram/aiogram/issues/816>`_\n- Fixed `ignore_case` parameter in :obj:`aiogram.filters.command.Command` filter\n  `#1106 <https://github.com/aiogram/aiogram/issues/1106>`_\n\n\nMisc\n----\n\n- Added integration with new code-generator named `Butcher <https://github.com/aiogram/butcher>`_\n  `#1069 <https://github.com/aiogram/aiogram/issues/1069>`_\n- Added full support of `Bot API 6.4 <https://core.telegram.org/bots/api-changelog#december-30-2022>`_\n  `#1088 <https://github.com/aiogram/aiogram/issues/1088>`_\n- Updated package metadata, moved build internals from Poetry to Hatch, added contributing guides.\n  `#1095 <https://github.com/aiogram/aiogram/issues/1095>`_\n- Added full support of `Bot API 6.5 <https://core.telegram.org/bots/api-changelog#february-3-2023>`_\n\n  .. danger::\n\n      Note that :obj:`aiogram.types.chat_permissions.ChatPermissions` is updated without\n      backward compatibility, so now this object has no :code:`can_send_media_messages` attribute\n  `#1112 <https://github.com/aiogram/aiogram/issues/1112>`_\n- Replaced error :code:`TypeError: TelegramEventObserver.__call__() got an unexpected keyword argument '<name>'`\n  with a more understandable one for developers and with a link to the documentation.\n  `#1114 <https://github.com/aiogram/aiogram/issues/1114>`_\n- Added possibility to reply into webhook with files\n  `#1120 <https://github.com/aiogram/aiogram/issues/1120>`_\n- Reworked graceful shutdown. Added method to stop polling.\n  Now polling started from dispatcher can be stopped by signals gracefully without errors (on Linux and Mac).\n  `#1124 <https://github.com/aiogram/aiogram/issues/1124>`_\n\n\n3.0.0b6 (2022-11-18)\n=====================\n\nFeatures\n--------\n\n- (again) Added possibility to combine filters with an *and*/*or* operations.\n\n  Read more in \":ref:`Combining filters <combining-filters>`\" documentation section\n  `#1018 <https://github.com/aiogram/aiogram/issues/1018>`_\n- Added following methods to ``Message`` class:\n\n  - :code:`Message.forward(...)`\n  - :code:`Message.edit_media(...)`\n  - :code:`Message.edit_live_location(...)`\n  - :code:`Message.stop_live_location(...)`\n  - :code:`Message.pin(...)`\n  - :code:`Message.unpin()`\n  `#1030 <https://github.com/aiogram/aiogram/issues/1030>`_\n- Added following methods to :code:`User` class:\n\n  - :code:`User.mention_markdown(...)`\n  - :code:`User.mention_html(...)`\n  `#1049 <https://github.com/aiogram/aiogram/issues/1049>`_\n- Added full support of `Bot API 6.3 <https://core.telegram.org/bots/api-changelog#november-5-2022>`_\n  `#1057 <https://github.com/aiogram/aiogram/issues/1057>`_\n\n\nBugfixes\n--------\n\n- Fixed :code:`Message.send_invoice` and :code:`Message.reply_invoice`, added missing arguments\n  `#1047 <https://github.com/aiogram/aiogram/issues/1047>`_\n- Fixed copy and forward in:\n\n  - :code:`Message.answer(...)`\n  - :code:`Message.copy_to(...)`\n  `#1064 <https://github.com/aiogram/aiogram/issues/1064>`_\n\n\nImproved Documentation\n----------------------\n\n- Fixed UA translations in index.po\n  `#1017 <https://github.com/aiogram/aiogram/issues/1017>`_\n- Fix typehints for :code:`Message`, :code:`reply_media_group` and :code:`answer_media_group` methods\n  `#1029 <https://github.com/aiogram/aiogram/issues/1029>`_\n- Removed an old now non-working feature\n  `#1060 <https://github.com/aiogram/aiogram/issues/1060>`_\n\n\nMisc\n----\n\n- Enabled testing on Python 3.11\n  `#1044 <https://github.com/aiogram/aiogram/issues/1044>`_\n- Added a mandatory dependency :code:`certifi` in due to in some cases on systems that doesn't have updated ca-certificates the requests to Bot API fails with reason :code:`[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate in certificate chain`\n  `#1066 <https://github.com/aiogram/aiogram/issues/1066>`_\n\n\n3.0.0b5 (2022-10-02)\n=====================\n\nFeatures\n--------\n\n- Add PyPy support and run tests under PyPy\n  `#985 <https://github.com/aiogram/aiogram/issues/985>`_\n- Added message text to aiogram exceptions representation\n  `#988 <https://github.com/aiogram/aiogram/issues/988>`_\n- Added warning about using magic filter from `magic_filter` instead of `aiogram`'s ones.\n  Is recommended to use `from aiogram import F` instead of `from magic_filter import F`\n  `#990 <https://github.com/aiogram/aiogram/issues/990>`_\n- Added more detailed error when server response can't be deserialized. This feature will help to debug unexpected responses from the Server\n  `#1014 <https://github.com/aiogram/aiogram/issues/1014>`_\n\n\nBugfixes\n--------\n\n- Reworked error event, introduced :class:`aiogram.types.error_event.ErrorEvent` object.\n  `#898 <https://github.com/aiogram/aiogram/issues/898>`_\n- Fixed escaping markdown in `aiogram.utils.markdown` module\n  `#903 <https://github.com/aiogram/aiogram/issues/903>`_\n- Fixed polling crash when Telegram Bot API raises HTTP 429 status-code.\n  `#995 <https://github.com/aiogram/aiogram/issues/995>`_\n- Fixed empty mention in command parsing, now it will be None instead of an empty string\n  `#1013 <https://github.com/aiogram/aiogram/issues/1013>`_\n\n\nImproved Documentation\n----------------------\n\n- Initialized Docs translation (added Ukrainian language)\n  `#925 <https://github.com/aiogram/aiogram/issues/925>`_\n\n\nDeprecations and Removals\n-------------------------\n\n- Removed filters factory as described in corresponding issue.\n  `#942 <https://github.com/aiogram/aiogram/issues/942>`_\n\n\nMisc\n----\n\n- Now Router/Dispatcher accepts only keyword arguments.\n  `#982 <https://github.com/aiogram/aiogram/issues/982>`_\n\n\n3.0.0b4 (2022-08-14)\n=====================\n\nFeatures\n--------\n\n- Add class helper ChatAction for constants that Telegram BotAPI uses in sendChatAction request.\n  In my opinion, this will help users and will also improve compatibility with 2.x version\n  where similar class was called \"ChatActions\".\n  `#803 <https://github.com/aiogram/aiogram/issues/803>`_\n- Added possibility to combine filters or invert result\n\n  Example:\n\n  .. code-block:: python\n\n      Text(text=\"demo\") | Command(commands=[\"demo\"])\n      MyFilter() & AnotherFilter()\n      ~StateFilter(state='my-state')\n\n  `#894 <https://github.com/aiogram/aiogram/issues/894>`_\n- Fixed type hints for redis TTL params.\n  `#922 <https://github.com/aiogram/aiogram/issues/922>`_\n- Added `full_name` shortcut for `Chat` object\n  `#929 <https://github.com/aiogram/aiogram/issues/929>`_\n\n\nBugfixes\n--------\n\n- Fixed false-positive coercing of Union types in API methods\n  `#901 <https://github.com/aiogram/aiogram/issues/901>`_\n- Added 3 missing content types:\n\n  * proximity_alert_triggered\n  * supergroup_chat_created\n  * channel_chat_created\n  `#906 <https://github.com/aiogram/aiogram/issues/906>`_\n- Fixed the ability to compare the state, now comparison to copy of the state will return `True`.\n  `#927 <https://github.com/aiogram/aiogram/issues/927>`_\n- Fixed default lock kwargs in RedisEventIsolation.\n  `#972 <https://github.com/aiogram/aiogram/issues/972>`_\n\n\nMisc\n----\n\n- Restrict including routers with strings\n  `#896 <https://github.com/aiogram/aiogram/issues/896>`_\n- Changed CommandPatterType to CommandPatternType in `aiogram/dispatcher/filters/command.py`\n  `#907 <https://github.com/aiogram/aiogram/issues/907>`_\n- Added full support of `Bot API 6.1 <https://core.telegram.org/bots/api-changelog#june-20-2022>`_\n  `#936 <https://github.com/aiogram/aiogram/issues/936>`_\n- **Breaking!** More flat project structure\n\n  These packages was moved, imports in your code should be fixed:\n\n  - :code:`aiogram.dispatcher.filters` -> :code:`aiogram.filters`\n  - :code:`aiogram.dispatcher.fsm` -> :code:`aiogram.fsm`\n  - :code:`aiogram.dispatcher.handler` -> :code:`aiogram.handler`\n  - :code:`aiogram.dispatcher.webhook` -> :code:`aiogram.webhook`\n  - :code:`aiogram.dispatcher.flags/*` -> :code:`aiogram.dispatcher.flags` (single module instead of package)\n  `#938 <https://github.com/aiogram/aiogram/issues/938>`_\n- Removed deprecated :code:`router.<event>_handler` and :code:`router.register_<event>_handler` methods.\n  `#941 <https://github.com/aiogram/aiogram/issues/941>`_\n- Deprecated filters factory. It will be removed in next Beta (3.0b5)\n  `#942 <https://github.com/aiogram/aiogram/issues/942>`_\n- `MessageEntity` method `get_text` was removed and `extract` was renamed to `extract_from`\n  `#944 <https://github.com/aiogram/aiogram/issues/944>`_\n- Added full support of `Bot API 6.2 <https://core.telegram.org/bots/api-changelog#august-12-2022>`_\n  `#975 <https://github.com/aiogram/aiogram/issues/975>`_\n\n\n3.0.0b3 (2022-04-19)\n=====================\n\nFeatures\n--------\n\n- Added possibility to get command magic result as handler argument\n  `#889 <https://github.com/aiogram/aiogram/issues/889>`_\n- Added full support of `Telegram Bot API 6.0 <https://core.telegram.org/bots/api-changelog#april-16-2022>`_\n  `#890 <https://github.com/aiogram/aiogram/issues/890>`_\n\n\nBugfixes\n--------\n\n- Fixed I18n lazy-proxy. Disabled caching.\n  `#839 <https://github.com/aiogram/aiogram/issues/839>`_\n- Added parsing of spoiler message entity\n  `#865 <https://github.com/aiogram/aiogram/issues/865>`_\n- Fixed default `parse_mode` for `Message.copy_to()` method.\n  `#876 <https://github.com/aiogram/aiogram/issues/876>`_\n- Fixed CallbackData factory parsing IntEnum's\n  `#885 <https://github.com/aiogram/aiogram/issues/885>`_\n\n\nMisc\n----\n\n- Added automated check that pull-request adds a changes description to **CHANGES** directory\n  `#873 <https://github.com/aiogram/aiogram/issues/873>`_\n- Changed :code:`Message.html_text` and :code:`Message.md_text` attributes behaviour when message has no text.\n  The empty string will be used instead of raising error.\n  `#874 <https://github.com/aiogram/aiogram/issues/874>`_\n- Used `redis-py` instead of `aioredis` package in due to this packages was merged into single one\n  `#882 <https://github.com/aiogram/aiogram/issues/882>`_\n- Solved common naming problem with middlewares that confusing too much developers\n  - now you can't see the `middleware` and `middlewares` attributes at the same point\n  because this functionality encapsulated to special interface.\n  `#883 <https://github.com/aiogram/aiogram/issues/883>`_\n\n\n3.0.0b2 (2022-02-19)\n=====================\n\nFeatures\n--------\n\n- Added possibility to pass additional arguments into the aiohttp webhook handler to use this\n  arguments inside handlers as the same as it possible in polling mode.\n  `#785 <https://github.com/aiogram/aiogram/issues/785>`_\n- Added possibility to add handler flags via decorator (like `pytest.mark` decorator but `aiogram.flags`)\n  `#836 <https://github.com/aiogram/aiogram/issues/836>`_\n- Added :code:`ChatActionSender` utility to automatically sends chat action while long process is running.\n\n  It also can be used as message middleware and can be customized via :code:`chat_action` flag.\n  `#837 <https://github.com/aiogram/aiogram/issues/837>`_\n\n\nBugfixes\n--------\n\n- Fixed unexpected behavior of sequences in the StateFilter.\n  `#791 <https://github.com/aiogram/aiogram/issues/791>`_\n- Fixed exceptions filters\n  `#827 <https://github.com/aiogram/aiogram/issues/827>`_\n\n\nMisc\n----\n\n- Logger name for processing events is changed to :code:`aiogram.events`.\n  `#830 <https://github.com/aiogram/aiogram/issues/830>`_\n- Added full support of Telegram Bot API 5.6 and 5.7\n  `#835 <https://github.com/aiogram/aiogram/issues/835>`_\n- **BREAKING**\n  Events isolation mechanism is moved from FSM storages to standalone managers\n  `#838 <https://github.com/aiogram/aiogram/issues/838>`_\n\n\n3.0.0b1 (2021-12-12)\n=====================\n\nFeatures\n--------\n\n- Added new custom operation for MagicFilter named :code:`as_`\n\n  Now you can use it to get magic filter result as handler argument\n\n  .. code-block:: python\n\n      from aiogram import F\n\n      ...\n\n      @router.message(F.text.regexp(r\"^(\\d+)$\").as_(\"digits\"))\n      async def any_digits_handler(message: Message, digits: Match[str]):\n          await message.answer(html.quote(str(digits)))\n\n\n      @router.message(F.photo[-1].as_(\"photo\"))\n      async def download_photos_handler(message: Message, photo: PhotoSize, bot: Bot):\n          content = await bot.download(photo)\n  `#759 <https://github.com/aiogram/aiogram/issues/759>`_\n\n\nBugfixes\n--------\n\n- Fixed: Missing :code:`ChatMemberHandler` import in :code:`aiogram/dispatcher/handler`\n  `#751 <https://github.com/aiogram/aiogram/issues/751>`_\n\n\nMisc\n----\n\n- Check :code:`destiny` in case of no :code:`with_destiny` enabled in RedisStorage key builder\n  `#776 <https://github.com/aiogram/aiogram/issues/776>`_\n- Added full support of `Bot API 5.5 <https://core.telegram.org/bots/api-changelog#december-7-2021>`_\n  `#777 <https://github.com/aiogram/aiogram/issues/777>`_\n- Stop using feature from #336. From now settings of client-session should be placed as initializer arguments instead of changing instance attributes.\n  `#778 <https://github.com/aiogram/aiogram/issues/778>`_\n- Make TelegramAPIServer files wrapper in local mode bi-directional (server-client, client-server)\n  Now you can convert local path to server path and server path to local path.\n  `#779 <https://github.com/aiogram/aiogram/issues/779>`_\n\n\n3.0.0a18 (2021-11-10)\n======================\n\nFeatures\n--------\n\n- Breaking: Changed the signature of the session middlewares\n  Breaking: Renamed AiohttpSession.make_request method parameter from call to method to match the naming in the base class\n  Added middleware for logging outgoing requests\n  `#716 <https://github.com/aiogram/aiogram/issues/716>`_\n- Improved description of filters resolving error.\n  For example when you try to pass wrong type of argument to the filter but don't know why filter is not resolved now you can get error like this:\n\n  .. code-block:: python3\n\n      aiogram.exceptions.FiltersResolveError: Unknown keyword filters: {'content_types'}\n        Possible cases:\n        - 1 validation error for ContentTypesFilter\n          content_types\n            Invalid content types {'42'} is not allowed here (type=value_error)\n  `#717 <https://github.com/aiogram/aiogram/issues/717>`_\n- **Breaking internal API change**\n  Reworked FSM Storage record keys propagation\n  `#723 <https://github.com/aiogram/aiogram/issues/723>`_\n- Implemented new filter named :code:`MagicData(magic_data)` that helps to filter event by data from middlewares or other filters\n\n  For example your bot is running with argument named :code:`config` that contains the application config then you can filter event by value from this config:\n\n  .. code-block:: python3\n\n      @router.message(magic_data=F.event.from_user.id == F.config.admin_id)\n      ...\n  `#724 <https://github.com/aiogram/aiogram/issues/724>`_\n\n\nBugfixes\n--------\n\n- Fixed I18n context inside error handlers\n  `#726 <https://github.com/aiogram/aiogram/issues/726>`_\n- Fixed bot session closing before emit shutdown\n  `#734 <https://github.com/aiogram/aiogram/issues/734>`_\n- Fixed: bound filter resolving does not require children routers\n  `#736 <https://github.com/aiogram/aiogram/issues/736>`_\n\n\nMisc\n----\n\n- Enabled testing on Python 3.10\n  Removed `async_lru` dependency (is incompatible with Python 3.10) and replaced usage with protected property\n  `#719 <https://github.com/aiogram/aiogram/issues/719>`_\n- Converted README.md to README.rst and use it as base file for docs\n  `#725 <https://github.com/aiogram/aiogram/issues/725>`_\n- Rework filters resolving:\n\n  - Automatically apply Bound Filters with default values to handlers\n  - Fix data transfer from parent to included routers filters\n  `#727 <https://github.com/aiogram/aiogram/issues/727>`_\n- Added full support of Bot API 5.4\n  https://core.telegram.org/bots/api-changelog#november-5-2021\n  `#744 <https://github.com/aiogram/aiogram/issues/744>`_\n\n\n3.0.0a17 (2021-09-24)\n======================\n\nMisc\n----\n\n- Added :code:`html_text` and :code:`md_text` to Message object\n  `#708 <https://github.com/aiogram/aiogram/issues/708>`_\n- Refactored I18n, added context managers for I18n engine and current locale\n  `#709 <https://github.com/aiogram/aiogram/issues/709>`_\n\n\n3.0.0a16 (2021-09-22)\n======================\n\nFeatures\n--------\n\n- Added support of local Bot API server files downloading\n\n  When Local API is enabled files can be downloaded via `bot.download`/`bot.download_file` methods.\n  `#698 <https://github.com/aiogram/aiogram/issues/698>`_\n- Implemented I18n & L10n support\n  `#701 <https://github.com/aiogram/aiogram/issues/701>`_\n\n\nMisc\n----\n\n- Covered by tests and docs KeyboardBuilder util\n  `#699 <https://github.com/aiogram/aiogram/issues/699>`_\n- **Breaking!!!**. Refactored and renamed exceptions.\n\n  - Exceptions module was moved from :code:`aiogram.utils.exceptions` to :code:`aiogram.exceptions`\n  - Added prefix `Telegram` for all error classes\n  `#700 <https://github.com/aiogram/aiogram/issues/700>`_\n- Replaced all :code:`pragma: no cover` marks via global :code:`.coveragerc` config\n  `#702 <https://github.com/aiogram/aiogram/issues/702>`_\n- Updated dependencies.\n\n  **Breaking for framework developers**\n  Now all optional dependencies should be installed as extra: `poetry install -E fast -E redis -E proxy -E i18n -E docs`\n  `#703 <https://github.com/aiogram/aiogram/issues/703>`_\n\n\n3.0.0a15 (2021-09-10)\n======================\n\nFeatures\n--------\n\n- Ability to iterate over all states in StatesGroup.\n  Aiogram already had in check for states group so this is relative feature.\n  `#666 <https://github.com/aiogram/aiogram/issues/666>`_\n\n\nBugfixes\n--------\n\n- Fixed incorrect type checking in the :class:`aiogram.utils.keyboard.KeyboardBuilder`\n  `#674 <https://github.com/aiogram/aiogram/issues/674>`_\n\n\nMisc\n----\n\n- Disable ContentType filter by default\n  `#668 <https://github.com/aiogram/aiogram/issues/668>`_\n- Moved update type detection from Dispatcher to Update object\n  `#669 <https://github.com/aiogram/aiogram/issues/669>`_\n- Updated **pre-commit** config\n  `#681 <https://github.com/aiogram/aiogram/issues/681>`_\n- Reworked **handlers_in_use** util. Function moved to Router as method **.resolve_used_update_types()**\n  `#682 <https://github.com/aiogram/aiogram/issues/682>`_\n\n\n3.0.0a14 (2021-08-17)\n======================\n\nFeatures\n--------\n\n- add aliases for edit/delete reply markup to Message\n  `#662 <https://github.com/aiogram/aiogram/issues/662>`_\n- Reworked outer middleware chain. Prevent to call many times the outer middleware for each nested router\n  `#664 <https://github.com/aiogram/aiogram/issues/664>`_\n\n\nBugfixes\n--------\n\n- Prepare parse mode for InputMessageContent in AnswerInlineQuery method\n  `#660 <https://github.com/aiogram/aiogram/issues/660>`_\n\n\nImproved Documentation\n----------------------\n\n- Added integration with :code:`towncrier`\n  `#602 <https://github.com/aiogram/aiogram/issues/602>`_\n\n\nMisc\n----\n\n- Added `.editorconfig`\n  `#650 <https://github.com/aiogram/aiogram/issues/650>`_\n- Redis storage speedup globals\n  `#651 <https://github.com/aiogram/aiogram/issues/651>`_\n- add allow_sending_without_reply param to Message reply aliases\n  `#663 <https://github.com/aiogram/aiogram/issues/663>`_\n"
        },
        {
          "name": "CHANGES",
          "type": "tree",
          "content": null
        },
        {
          "name": "CITATION.cff",
          "type": "blob",
          "size": 0.5888671875,
          "content": "# This CITATION.cff file was generated with cffinit.\n# Visit https://bit.ly/cffinit to generate yours today!\n\ncff-version: 1.2.0\ntitle: aiogram\nmessage: >-\n  If you use this software, please cite it using the\n  metadata from this file.\ntype: software\nauthors:\n  - given-names: Oleksandr\n    family-names: Onufriichuk\n    email: im@aiogram.dev\nrepository-code: 'https://github.com/aiogram/aiogram'\nurl: 'https://aiogram.dev'\nabstract: >-\n  aiogram is a modern and fully asynchronous framework for\n  Telegram Bot API written in Python using asyncio\nkeywords:\n  - aiogram\n  - telegram\n  - bot\nlicense: MIT\n"
        },
        {
          "name": "CONTRIBUTING.md",
          "type": "blob",
          "size": 0.12109375,
          "content": "Please read the [Contributing](https://docs.aiogram.dev/en/dev-3.x/contributing.html) guidelines in the documentation site.\n"
        },
        {
          "name": "HISTORY.rst",
          "type": "blob",
          "size": 25.6767578125,
          "content": "\n..\n    Copy-pasted and reformatted from GitHub releases page\n\n\n2.14.3 (2021-07-21)\n===================\n\n- Fixed :code:`ChatMember` type detection via adding customizable object serialization mechanism (`#624 <https://github.com/aiogram/aiogram/issues/624>`_, `#623 <https://github.com/aiogram/aiogram/issues/623>`_)\n\n\n2.14.2 (2021-07-26)\n===================\n\n- Fixed :code:`MemoryStorage` cleaner (`#619 <https://github.com/aiogram/aiogram/issues/619>`_)\n- Fixed unused default locale in :code:`I18nMiddleware` (`#562 <https://github.com/aiogram/aiogram/issues/562>`_, `#563 <https://github.com/aiogram/aiogram/issues/563>`_)\n\n\n2.14 (2021-07-27)\n=================\n\n- Full support of Bot API 5.3 (`#610 <https://github.com/aiogram/aiogram/issues/610>`_, `#614 <https://github.com/aiogram/aiogram/issues/614>`_)\n- Fixed :code:`Message.send_copy` method for polls (`#603 <https://github.com/aiogram/aiogram/issues/603>`_)\n- Updated pattern for :code:`GroupDeactivated` exception (`#549 <https://github.com/aiogram/aiogram/issues/549>`_\n- Added :code:`caption_entities` field in :code:`InputMedia` base class (`#583 <https://github.com/aiogram/aiogram/issues/583>`_)\n- Fixed HTML text decorations for tag :code:`pre` (`#597 <https://github.com/aiogram/aiogram/issues/597>`_ fixes issues `#596 <https://github.com/aiogram/aiogram/issues/596>`_ and `#481 <https://github.com/aiogram/aiogram/issues/481>`_)\n- Fixed :code:`Message.get_full_command` method for messages with caption (`#576 <https://github.com/aiogram/aiogram/issues/576>`_)\n- Improved :code:`MongoStorage`: remove documents with empty data from :code:`aiogram_data` collection to save memory. (`#609 <https://github.com/aiogram/aiogram/issues/609>`_)\n\n\n2.13 (2021-04-28)\n=================\n\n- Added full support of Bot API 5.2 (`#572 <https://github.com/aiogram/aiogram/issues/572>`_)\n- Fixed usage of :code:`provider_data` argument in :code:`sendInvoice` method call\n- Fixed builtin command filter args (`#556 <https://github.com/aiogram/aiogram/issues/556>`_) (`#558 <https://github.com/aiogram/aiogram/issues/558>`_)\n- Allowed to use State instances FSM storage directly (`#542 <https://github.com/aiogram/aiogram/issues/542>`_)\n- Added possibility to get i18n locale without User instance (`#546 <https://github.com/aiogram/aiogram/issues/546>`_)\n- Fixed returning type of :code:`Bot.*_chat_invite_link()` methods `#548 <https://github.com/aiogram/aiogram/issues/548>`_ (`#549 <https://github.com/aiogram/aiogram/issues/549>`_)\n- Fixed deep-linking util (`#569 <https://github.com/aiogram/aiogram/issues/569>`_)\n- Small changes in documentation - describe limits in docstrings corresponding to the current limit. (`#565 <https://github.com/aiogram/aiogram/issues/565>`_)\n- Fixed internal call to deprecated 'is_private' method (`#553 <https://github.com/aiogram/aiogram/issues/553>`_)\n- Added possibility to use :code:`allowed_updates` argument in Polling mode (`#564 <https://github.com/aiogram/aiogram/issues/564>`_)\n\n\n2.12.1 (2021-03-22)\n===================\n\n- Fixed :code:`TypeError: Value should be instance of 'User' not 'NoneType'` (`#527 <https://github.com/aiogram/aiogram/issues/527>`_)\n- Added missing :code:`Chat.message_auto_delete_time` field (`#535 <https://github.com/aiogram/aiogram/issues/535>`_)\n- Added :code:`MediaGroup` filter (`#528 <https://github.com/aiogram/aiogram/issues/528>`_)\n- Added :code:`Chat.delete_message` shortcut (`#526 <https://github.com/aiogram/aiogram/issues/526>`_)\n- Added mime types parsing for :code:`aiogram.types.Document` (`#431 <https://github.com/aiogram/aiogram/issues/431>`_)\n- Added warning in :code:`TelegramObject.__setitem__` when Telegram adds a new field (`#532 <https://github.com/aiogram/aiogram/issues/532>`_)\n- Fixed :code:`examples/chat_type_filter.py` (`#533 <https://github.com/aiogram/aiogram/issues/533>`_)\n- Removed redundant definitions in framework code (`#531 <https://github.com/aiogram/aiogram/issues/531>`_)\n\n\n2.12 (2021-03-14)\n=================\n\n- Full support for Telegram Bot API 5.1 (`#519 <https://github.com/aiogram/aiogram/issues/519>`_)\n- Fixed sending playlist of audio files and documents (`#465 <https://github.com/aiogram/aiogram/issues/465>`_, `#468 <https://github.com/aiogram/aiogram/issues/468>`_)\n- Fixed :code:`FSMContextProxy.setdefault` method (`#491 <https://github.com/aiogram/aiogram/issues/491>`_)\n- Fixed :code:`Message.answer_location` and :code:`Message.reply_location` unable to send live location (`#497 <https://github.com/aiogram/aiogram/issues/497>`_)\n- Fixed :code:`user_id` and :code:`chat_id` getters from the context at Dispatcher :code:`check_key`, :code:`release_key` and :code:`throttle` methods (`#520 <https://github.com/aiogram/aiogram/issues/520>`_)\n- Fixed :code:`Chat.update_chat` method and all similar situations (`#516 <https://github.com/aiogram/aiogram/issues/516>`_)\n- Fixed :code:`MediaGroup` attach methods (`#514 <https://github.com/aiogram/aiogram/issues/514>`_)\n- Fixed state filter for inline keyboard query callback in groups (`#508 <https://github.com/aiogram/aiogram/issues/508>`_, `#510 <https://github.com/aiogram/aiogram/issues/510>`_)\n- Added missing :code:`ContentTypes.DICE` (`#466 <https://github.com/aiogram/aiogram/issues/466>`_)\n- Added missing vcard argument to :code:`InputContactMessageContent` constructor (`#473 <https://github.com/aiogram/aiogram/issues/473>`_)\n- Add missing exceptions: :code:`MessageIdInvalid`, :code:`CantRestrictChatOwner` and :code:`UserIsAnAdministratorOfTheChat` (`#474 <https://github.com/aiogram/aiogram/issues/474>`_, `#512 <https://github.com/aiogram/aiogram/issues/512>`_)\n- Added :code:`answer_chat_action` to the :code:`Message` object (`#501 <https://github.com/aiogram/aiogram/issues/501>`_)\n- Added dice to :code:`message.send_copy` method (`#511 <https://github.com/aiogram/aiogram/issues/511>`_)\n- Removed deprecation warning from :code:`Message.send_copy`\n- Added an example of integration between externally created aiohttp Application and aiogram (`#433 <https://github.com/aiogram/aiogram/issues/433>`_)\n- Added :code:`split_separator` argument to :code:`safe_split_text` (`#515 <https://github.com/aiogram/aiogram/issues/515>`_)\n- Fixed some typos in docs and examples (`#489 <https://github.com/aiogram/aiogram/issues/489>`_, `#490 <https://github.com/aiogram/aiogram/issues/490>`_, `#498 <https://github.com/aiogram/aiogram/issues/498>`_, `#504 <https://github.com/aiogram/aiogram/issues/504>`_, `#514 <https://github.com/aiogram/aiogram/issues/514>`_)\n\n\n2.11.2 (2021-11-10)\n===================\n\n- Fixed default parse mode\n- Added missing \"supports_streaming\" argument to answer_video method `#462 <https://github.com/aiogram/aiogram/issues/462>`_\n\n\n2.11.1 (2021-11-10)\n===================\n\n- Fixed files URL template\n- Fix MessageEntity serialization for API calls `#457 <https://github.com/aiogram/aiogram/issues/457>`_\n- When entities are set, default parse_mode become disabled (`#461 <https://github.com/aiogram/aiogram/issues/461>`_)\n- Added parameter supports_streaming to reply_video, remove redundant docstrings (`#459 <https://github.com/aiogram/aiogram/issues/459>`_)\n- Added missing parameter to promoteChatMember alias (`#458 <https://github.com/aiogram/aiogram/issues/458>`_)\n\n\n2.11 (2021-11-08)\n=================\n\n- Added full support of Telegram Bot API 5.0 (`#454 <https://github.com/aiogram/aiogram/issues/454>`_)\n- Added possibility to more easy specify custom API Server (example)\n    - WARNING: API method :code:`close` was named in Bot class as close_bot in due to Bot instance already has method with the same name. It will be changed in :code:`aiogram 3.0`\n- Added alias to Message object :code:`Message.copy_to` with deprecation of :code:`Message.send_copy`\n- :code:`ChatType.SUPER_GROUP` renamed to :code:`ChatType.SUPERGROUP` (`#438 <https://github.com/aiogram/aiogram/issues/438>`_)\n\n\n2.10.1 (2021-09-14)\n===================\n\n- Fixed critical bug with getting asyncio event loop in executor. (`#424 <https://github.com/aiogram/aiogram/issues/424>`_) :code:`AttributeError: 'NoneType' object has no attribute 'run_until_complete'`\n\n\n2.10 (2021-09-13)\n==================\n\n- Breaking change: Stop using _MainThread event loop in bot/dispatcher instances (`#397 <https://github.com/aiogram/aiogram/issues/397>`_)\n- Breaking change: Replaced aiomongo with motor (`#368 <https://github.com/aiogram/aiogram/issues/368>`_, `#380 <https://github.com/aiogram/aiogram/issues/380>`_)\n- Fixed: TelegramObject's aren't destroyed after update handling `#307 <https://github.com/aiogram/aiogram/issues/307>`_ (`#371 <https://github.com/aiogram/aiogram/issues/371>`_)\n- Add setting current context of Telegram types (`#369 <https://github.com/aiogram/aiogram/issues/369>`_)\n- Fixed markdown escaping issues (`#363 <https://github.com/aiogram/aiogram/issues/363>`_)\n- Fixed HTML characters escaping (`#409 <https://github.com/aiogram/aiogram/issues/409>`_)\n- Fixed italic and underline decorations when parse entities to Markdown\n- Fixed `#413 <https://github.com/aiogram/aiogram/issues/413>`_: parse entities positioning (`#414 <https://github.com/aiogram/aiogram/issues/414>`_)\n- Added missing thumb parameter (`#362 <https://github.com/aiogram/aiogram/issues/362>`_)\n- Added public methods to register filters and middlewares (`#370 <https://github.com/aiogram/aiogram/issues/370>`_)\n- Added ChatType builtin filter (`#356 <https://github.com/aiogram/aiogram/issues/356>`_)\n- Fixed IDFilter checking message from channel (`#376 <https://github.com/aiogram/aiogram/issues/376>`_)\n- Added missed answer_poll and reply_poll (`#384 <https://github.com/aiogram/aiogram/issues/384>`_)\n- Added possibility to ignore message caption in commands filter (`#383 <https://github.com/aiogram/aiogram/issues/383>`_)\n- Fixed addStickerToSet method\n- Added preparing thumb in send_document method (`#391 <https://github.com/aiogram/aiogram/issues/391>`_)\n- Added exception MessageToPinNotFound (`#404 <https://github.com/aiogram/aiogram/issues/404>`_)\n- Fixed handlers parameter-spec solving (`#408 <https://github.com/aiogram/aiogram/issues/408>`_)\n- Fixed CallbackQuery.answer() returns nothing (`#420 <https://github.com/aiogram/aiogram/issues/420>`_)\n- CHOSEN_INLINE_RESULT is a correct API-term (`#415 <https://github.com/aiogram/aiogram/issues/415>`_)\n- Fixed missing attributes for Animation class (`#422 <https://github.com/aiogram/aiogram/issues/422>`_)\n- Added missed emoji argument to reply_dice (`#395 <https://github.com/aiogram/aiogram/issues/395>`_)\n- Added is_chat_creator method to ChatMemberStatus (`#394 <https://github.com/aiogram/aiogram/issues/394>`_)\n- Added missed ChatPermissions to __all__ (`#393 <https://github.com/aiogram/aiogram/issues/393>`_)\n- Added is_forward method to Message (`#390 <https://github.com/aiogram/aiogram/issues/390>`_)\n- Fixed usage of deprecated is_private function (`#421 <https://github.com/aiogram/aiogram/issues/421>`_)\n\nand many others documentation and examples changes:\n\n- Updated docstring of RedisStorage2 (`#423 <https://github.com/aiogram/aiogram/issues/423>`_)\n- Updated I18n example (added docs and fixed typos) (`#419 <https://github.com/aiogram/aiogram/issues/419>`_)\n- A little documentation revision (`#381 <https://github.com/aiogram/aiogram/issues/381>`_)\n- Added comments about correct errors_handlers usage (`#398 <https://github.com/aiogram/aiogram/issues/398>`_)\n- Fixed typo rexex -> regex (`#386 <https://github.com/aiogram/aiogram/issues/386>`_)\n- Fixed docs Quick start page code blocks (`#417 <https://github.com/aiogram/aiogram/issues/417>`_)\n- fixed type hints of callback_data (`#400 <https://github.com/aiogram/aiogram/issues/400>`_)\n- Prettify readme, update downloads stats badge (`#406 <https://github.com/aiogram/aiogram/issues/406>`_)\n\n\n2.9.2 (2021-06-13)\n==================\n\n- Fixed :code:`Message.get_full_command()` `#352 <https://github.com/aiogram/aiogram/issues/352>`_\n- Fixed markdown util `#353 <https://github.com/aiogram/aiogram/issues/353>`_\n\n\n2.9 (2021-06-08)\n================\n\n- Added full support of Telegram Bot API 4.9\n- Fixed user context at poll_answer update (`#322 <https://github.com/aiogram/aiogram/issues/322>`_)\n- Fix Chat.set_description (`#325 <https://github.com/aiogram/aiogram/issues/325>`_)\n- Add lazy session generator (`#326 <https://github.com/aiogram/aiogram/issues/326>`_)\n- Fix text decorations (`#315 <https://github.com/aiogram/aiogram/issues/315>`_, `#316 <https://github.com/aiogram/aiogram/issues/316>`_, `#328 <https://github.com/aiogram/aiogram/issues/328>`_)\n- Fix missing :code:`InlineQueryResultPhoto` :code:`parse_mode` field (`#331 <https://github.com/aiogram/aiogram/issues/331>`_)\n- Fix fields from parent object in :code:`KeyboardButton` (`#344 <https://github.com/aiogram/aiogram/issues/344>`_ fixes `#343 <https://github.com/aiogram/aiogram/issues/343>`_)\n- Add possibility to get bot id without calling :code:`get_me` (`#296 <https://github.com/aiogram/aiogram/issues/296>`_)\n\n\n2.8 (2021-04-26)\n================\n\n- Added full support of Bot API 4.8\n- Added :code:`Message.answer_dice` and :code:`Message.reply_dice` methods (`#306 <https://github.com/aiogram/aiogram/issues/306>`_)\n\n\n2.7 (2021-04-07)\n================\n\n- Added full support of Bot API 4.7 (`#294 <https://github.com/aiogram/aiogram/issues/294>`_ `#289 <https://github.com/aiogram/aiogram/issues/289>`_)\n- Added default parse mode for send_animation method (`#293 <https://github.com/aiogram/aiogram/issues/293>`_ `#292 <https://github.com/aiogram/aiogram/issues/292>`_)\n- Added new API exception when poll requested in public chats (`#270 <https://github.com/aiogram/aiogram/issues/270>`_)\n- Make correct User and Chat get_mention methods (`#277 <https://github.com/aiogram/aiogram/issues/277>`_)\n- Small changes and other minor improvements\n\n\n2.6.1 (2021-01-25)\n==================\n\n- Fixed reply :code:`KeyboardButton` initializer with :code:`request_poll` argument (`#266 <https://github.com/aiogram/aiogram/issues/266>`_)\n- Added helper for poll types (:code:`aiogram.types.PollType`)\n- Changed behavior of Telegram_object :code:`.as_*` and :code:`.to_*` methods. It will no more mutate the object. (`#247 <https://github.com/aiogram/aiogram/issues/247>`_)\n\n\n2.6 (2021-01-23)\n================\n\n- Full support of Telegram Bot API v4.6 (Polls 2.0) `#265 <https://github.com/aiogram/aiogram/issues/265>`_\n- Aded new filter - IsContactSender (commit)\n- Fixed proxy extra dependencies version `#262 <https://github.com/aiogram/aiogram/issues/262>`_\n\n\n2.5.3 (2021-01-05)\n==================\n\n- `#255 <https://github.com/aiogram/aiogram/issues/255>`_ Updated CallbackData factory validity check. More correct for non-latin symbols\n- `#256 <https://github.com/aiogram/aiogram/issues/256>`_ Fixed :code:`renamed_argument` decorator error\n- `#257 <https://github.com/aiogram/aiogram/issues/257>`_ One more fix of CommandStart filter\n\n\n2.5.2 (2021-01-01)\n==================\n\n- Get back :code:`quote_html` and :code:`escape_md` functions\n\n\n2.5.1 (2021-01-01)\n==================\n\n- Hot-fix of :code:`CommandStart` filter\n\n\n2.5 (2021-01-01)\n================\n\n- Added full support of Telegram Bot API 4.5 (`#250 <https://github.com/aiogram/aiogram/issues/250>`_, `#251 <https://github.com/aiogram/aiogram/issues/251>`_)\n- `#239 <https://github.com/aiogram/aiogram/issues/239>`_ Fixed :code:`check_token` method\n- `#238 <https://github.com/aiogram/aiogram/issues/238>`_, `#241 <https://github.com/aiogram/aiogram/issues/241>`_: Added deep-linking utils\n- `#248 <https://github.com/aiogram/aiogram/issues/248>`_ Fixed support of aiohttp-socks\n- Updated setup.py. No more use of internal pip API\n- Updated links to documentations (https://docs.aiogram.dev)\n- Other small changes and minor improvements (`#223 <https://github.com/aiogram/aiogram/issues/223>`_ and others...)\n\n\n2.4 (2021-10-29)\n================\n\n- Added Message.send_copy method (forward message without forwarding)\n- Safe close of aiohttp client session (no more exception when application is shutdown)\n- No more \"adWanced\" words in project `#209 <https://github.com/aiogram/aiogram/issues/209>`_\n- Arguments user and chat is renamed to user_id and chat_id in Dispatcher.throttle method `#196 <https://github.com/aiogram/aiogram/issues/196>`_\n- Fixed set_chat_permissions `#198 <https://github.com/aiogram/aiogram/issues/198>`_\n- Fixed Dispatcher polling task does not process cancellation `#199 <https://github.com/aiogram/aiogram/issues/199>`_, `#201 <https://github.com/aiogram/aiogram/issues/201>`_\n- Fixed compatibility with latest asyncio version `#200 <https://github.com/aiogram/aiogram/issues/200>`_\n- Disabled caching by default for lazy_gettext method of I18nMiddleware `#203 <https://github.com/aiogram/aiogram/issues/203>`_\n- Fixed HTML user mention parser `#205 <https://github.com/aiogram/aiogram/issues/205>`_\n- Added IsReplyFilter `#210 <https://github.com/aiogram/aiogram/issues/210>`_\n- Fixed send_poll method arguments `#211 <https://github.com/aiogram/aiogram/issues/211>`_\n- Added OrderedHelper `#215 <https://github.com/aiogram/aiogram/issues/215>`_\n- Fix incorrect completion order. `#217 <https://github.com/aiogram/aiogram/issues/217>`_\n\n\n2.3 (2021-08-16)\n================\n\n- Full support of Telegram Bot API 4.4\n- Fixed `#143 <https://github.com/aiogram/aiogram/issues/143>`_\n- Added new filters from issue `#151 <https://github.com/aiogram/aiogram/issues/151>`_: `#172 <https://github.com/aiogram/aiogram/issues/172>`_, `#176 <https://github.com/aiogram/aiogram/issues/176>`_, `#182 <https://github.com/aiogram/aiogram/issues/182>`_\n- Added expire argument to RedisStorage2 and other storage fixes `#145 <https://github.com/aiogram/aiogram/issues/145>`_\n- Fixed JSON and Pickle storages `#138 <https://github.com/aiogram/aiogram/issues/138>`_\n- Implemented MongoStorage `#153 <https://github.com/aiogram/aiogram/issues/153>`_ based on aiomongo (soon motor will be also added)\n- Improved tests\n- Updated examples\n- Warning: Updated auth widget util. `#190 <https://github.com/aiogram/aiogram/issues/190>`_\n- Implemented throttle decorator `#181 <https://github.com/aiogram/aiogram/issues/181>`_\n\n\n2.2 (2021-06-09)\n================\n\n- Provides latest Telegram Bot API (4.3)\n- Updated docs for filters\n- Added opportunity to use different bot tokens from single bot instance (via context manager, `#100 <https://github.com/aiogram/aiogram/issues/100>`_)\n- IMPORTANT: Fixed Typo: :code:`data` -> :code:`bucket` in :code:`update_bucket` for RedisStorage2 (`#132 <https://github.com/aiogram/aiogram/issues/132>`_)\n\n\n2.1 (2021-04-18)\n================\n\n- Implemented all new features from Telegram Bot API 4.2\n- :code:`is_member` and :code:`is_admin` methods of :code:`ChatMember` and :code:`ChatMemberStatus` was renamed to :code:`is_chat_member` and :code:`is_chat_admin`\n- Remover func filter\n- Added some useful Message edit functions (:code:`Message.edit_caption`, :code:`Message.edit_media`, :code:`Message.edit_reply_markup`) (`#121 <https://github.com/aiogram/aiogram/issues/121>`_, `#103 <https://github.com/aiogram/aiogram/issues/103>`_, `#104 <https://github.com/aiogram/aiogram/issues/104>`_, `#112 <https://github.com/aiogram/aiogram/issues/112>`_)\n- Added requests timeout for all methods (`#110 <https://github.com/aiogram/aiogram/issues/110>`_)\n- Added :code:`answer*` methods to :code:`Message` object (`#112 <https://github.com/aiogram/aiogram/issues/112>`_)\n- Maked some improvements of :code:`CallbackData` factory\n- Added deep-linking parameter filter to :code:`CommandStart` filter\n- Implemented opportunity to use DNS over socks (`#97 <https://github.com/aiogram/aiogram/issues/97>`_ -> `#98 <https://github.com/aiogram/aiogram/issues/98>`_)\n- Implemented logging filter for extending LogRecord attributes (Will be usefull with external logs collector utils like GrayLog, Kibana and etc.)\n- Updated :code:`requirements.txt` and :code:`dev_requirements.txt` files\n- Other small changes and minor improvements\n\n\n2.0.1 (2021-12-31)\n==================\n\n- Implemented CallbackData factory (`example <https://github.com/aiogram/aiogram/blob/master/examples/callback_data_factory.py>`_)\n- Implemented methods for answering to inline query from context and reply with animation to the messages. `#85 <https://github.com/aiogram/aiogram/issues/85>`_\n- Fixed installation from tar.gz `#84 <https://github.com/aiogram/aiogram/issues/84>`_\n- More exceptions (:code:`ChatIdIsEmpty` and :code:`NotEnoughRightsToRestrict`)\n\n\n2.0 (2021-10-28)\n================\n\nThis update will break backward compability with Python 3.6 and works only with Python 3.7+:\n- contextvars (PEP-567);\n- New syntax for annotations (PEP-563).\n\nChanges:\n- Used contextvars instead of :code:`aiogram.utils.context`;\n- Implemented filters factory;\n- Implemented new filters mechanism;\n- Allowed to customize command prefix in CommandsFilter;\n- Implemented mechanism of passing results from filters (as dicts) as kwargs in handlers (like fixtures in pytest);\n- Implemented states group feature;\n- Implemented FSM storage's proxy;\n- Changed files uploading mechanism;\n- Implemented pipe for uploading files from URL;\n- Implemented I18n Middleware;\n- Errors handlers now should accept only two arguments (current update and exception);\n- Used :code:`aiohttp_socks` instead of :code:`aiosocksy` for Socks4/5 proxy;\n- types.ContentType was divided to :code:`types.ContentType` and :code:`types.ContentTypes`;\n- Allowed to use rapidjson instead of ujson/json;\n- :code:`.current()` method in bot and dispatcher objects was renamed to :code:`get_current()`;\n\nFull changelog\n- You can read more details about this release in migration FAQ: `<https://aiogram.readthedocs.io/en/latest/migration_1_to_2.html>`_\n\n\n1.4 (2021-08-03)\n================\n\n- Bot API 4.0 (`#57 <https://github.com/aiogram/aiogram/issues/57>`_)\n\n\n1.3.3 (2021-07-16)\n==================\n\n- Fixed markup-entities parsing;\n- Added more API exceptions;\n- Now InlineQueryResultLocation has live_period;\n- Added more message content types;\n- Other small changes and minor improvements.\n\n\n1.3.2 (2021-05-27)\n==================\n\n- Fixed crashing of polling process. (i think)\n- Added parse_mode field into input query results according to Bot API Docs.\n- Added new methods for Chat object. (`#42 <https://github.com/aiogram/aiogram/issues/42>`_, `#43 <https://github.com/aiogram/aiogram/issues/43>`_)\n- **Warning**: disabled connections limit for bot aiohttp session.\n- **Warning**: Destroyed \"temp sessions\" mechanism.\n- Added new error types.\n- Refactored detection of error type.\n- Small fixes of executor util.\n- Fixed RethinkDBStorage\n\n1.3.1 (2018-05-27)\n==================\n\n\n1.3 (2021-04-22)\n================\n\n- Allow to use Socks5 proxy (need manually install :code:`aiosocksy`).\n- Refactored :code:`aiogram.utils.executor` module.\n- **[Warning]** Updated requirements list.\n\n\n1.2.3 (2018-04-14)\n==================\n\n- Fixed API errors detection\n- Fixed compability of :code:`setup.py` with pip 10.0.0\n\n\n1.2.2 (2018-04-08)\n==================\n\n- Added more error types.\n- Implemented method :code:`InputFile.from_url(url: str)` for downloading files.\n- Implemented big part of API method tests.\n- Other small changes and mminor improvements.\n\n\n1.2.1 (2018-03-25)\n==================\n\n- Fixed handling Venue's [`#27 <https://github.com/aiogram/aiogram/issues/27>`_, `#26 <https://github.com/aiogram/aiogram/issues/26>`_]\n- Added parse_mode to all medias (Bot API 3.6 support) [`#23 <https://github.com/aiogram/aiogram/issues/23>`_]\n- Now regexp filter can be used with callback query data [`#19 <https://github.com/aiogram/aiogram/issues/19>`_]\n- Improvements in :code:`InlineKeyboardMarkup` & :code:`ReplyKeyboardMarkup` objects [`#21 <https://github.com/aiogram/aiogram/issues/21>`_]\n- Other bug & typo fixes and minor improvements.\n\n\n1.2 (2018-02-23)\n================\n\n- Full provide Telegram Bot API 3.6\n- Fixed critical error: :code:`Fatal Python error: PyImport_GetModuleDict: no module dictionary!`\n- Implemented connection pool in RethinkDB driver\n- Typo fixes of documentstion\n- Other bug fixes and minor improvements.\n\n\n1.1 (2018-01-27)\n================\n\n- Added more methods for data types (like :code:`message.reply_sticker(...)` or :code:`file.download(...)`\n- Typo fixes of documentstion\n- Allow to set default parse mode for messages (:code:`Bot( ... , parse_mode='HTML')`)\n- Allowed to cancel event from the :code:`Middleware.on_pre_process_<event type>`\n- Fixed sending files with correct names.\n- Fixed MediaGroup\n- Added RethinkDB storage for FSM (:code:`aiogram.contrib.fsm_storage.rethinkdb`)\n\n\n1.0.4 (2018-01-10)\n==================\n\n\n1.0.3 (2018-01-07)\n==================\n\n- Added middlewares mechanism.\n- Added example for middlewares and throttling manager.\n- Added logging middleware (:code:`aiogram.contrib.middlewares.logging.LoggingMiddleware`)\n- Fixed handling errors in async tasks (marked as 'async_task')\n- Small fixes and other minor improvements.\n\n\n1.0.2 (2017-11-29)\n==================\n\n\n1.0.1 (2017-11-21)\n==================\n\n- Implemented :code:`types.InputFile` for more easy sending local files\n- **Danger!** Fixed typo in word pooling. Now whatever all methods with that word marked as deprecated and original methods is renamed to polling. Check it in you'r code before updating!\n- Fixed helper for chat actions (:code:`types.ChatActions`)\n- Added `example <https://github.com/aiogram/aiogram/blob/master/examples/media_group.py>`_ for media group.\n\n\n1.0 (2017-11-19)\n================\n\n- Remaked data types serialozation/deserialization mechanism (Speed up).\n- Fully rewrited all Telegram data types.\n- Bot object was fully rewritted (regenerated).\n- Full provide Telegram Bot API 3.4+ (with sendMediaGroup)\n- Warning: Now :code:`BaseStorage.close()` is awaitable! (FSM)\n- Fixed compability with uvloop.\n- More employments for :code:`aiogram.utils.context`.\n- Allowed to disable :code:`ujson`.\n- Other bug fixes and minor improvements.\n- Migrated from Bitbucket to Github.\n\n\n0.4.1 (2017-08-03)\n==================\n\n\n0.4 (2017-08-05)\n================\n\n\n0.3.4 (2017-08-04)\n==================\n\n\n0.3.3 (2017-07-05)\n==================\n\n\n0.3.2 (2017-07-04)\n==================\n\n\n0.3.1 (2017-07-04)\n==================\n\n\n0.2b1 (2017-06-00)\n==================\n\n\n0.1 (2017-06-03)\n================\n"
        },
        {
          "name": "LICENSE",
          "type": "blob",
          "size": 1.044921875,
          "content": "Copyright (c) 2017 - present Alex Root Junior\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this\nsoftware and associated documentation files (the \"Software\"), to deal in the Software\nwithout restriction, including without limitation the rights to use, copy, modify,\nmerge, publish, distribute, sublicense, and/or sell copies of the Software,\nand to permit persons to whom the Software is furnished to do so, subject to the\nfollowing conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies\nor substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\nINCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR\nPURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS\nBE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\nTORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE\nOR OTHER DEALINGS IN THE SOFTWARE.\n"
        },
        {
          "name": "Makefile",
          "type": "blob",
          "size": 3.9443359375,
          "content": ".DEFAULT_GOAL := lint\n\npackage_dir := aiogram\ntests_dir := tests\nscripts_dir := scripts\nexamples_dir := examples\ncode_dir := $(package_dir) $(tests_dir) $(scripts_dir) $(examples_dir)\nreports_dir := reports\n\nredis_connection := redis://localhost:6379\nmongo_connection := mongodb://mongo:mongo@localhost:27017\n\n# =================================================================================================\n# Environment\n# =================================================================================================\n\n.PHONY: clean\nclean:\n\trm -rf `find . -name __pycache__`\n\trm -f `find . -type f -name '*.py[co]' `\n\trm -f `find . -type f -name '*~' `\n\trm -f `find . -type f -name '.*~' `\n\trm -rf `find . -name .pytest_cache`\n\trm -rf *.egg-info\n\trm -f report.html\n\trm -f .coverage\n\trm -rf {build,dist,site,.cache,.mypy_cache,.ruff_cache,reports}\n\n.PHONY: install\ninstall: clean\n\tpip install -e .\"[dev,test,docs]\" -U --upgrade-strategy=eager\n\tpre-commit install\n\n# =================================================================================================\n# Code quality\n# =================================================================================================\n\n.PHONY: lint\nlint:\n\tisort --check-only $(code_dir)\n\tblack --check --diff $(code_dir)\n\truff check $(package_dir) $(examples_dir)\n\tmypy $(package_dir)\n\n.PHONY: reformat\nreformat:\n\tblack $(code_dir)\n\tisort $(code_dir)\n\n# =================================================================================================\n# Tests\n# =================================================================================================\n.PHONY: test-run-services\ntest-run-services:\n\t@#docker-compose -f tests/docker-compose.yml -p aiogram3-dev up -d\n\n.PHONY: test\ntest: test-run-services\n\tpytest --cov=aiogram --cov-config .coveragerc tests/ --redis $(redis_connection) --mongo $(mongo_connection)\n\n.PHONY: test-coverage\ntest-coverage: test-run-services\n\tmkdir -p $(reports_dir)/tests/\n\tpytest --cov=aiogram --cov-config .coveragerc --html=$(reports_dir)/tests/index.html tests/ --redis $(redis_connection) --mongo $(mongo_connection)\n\tcoverage html -d $(reports_dir)/coverage\n\n.PHONY: test-coverage-view\ntest-coverage-view:\n\tcoverage html -d $(reports_dir)/coverage\n\tpython -c \"import webbrowser; webbrowser.open('file://$(shell pwd)/reports/coverage/index.html')\"\n\n# =================================================================================================\n# Docs\n# =================================================================================================\n\nlocales := uk_UA\nlocale_targets := $(addprefix docs-serve-, $(locales))\nlocales_pot := _build/gettext\ndocs_dir := docs\n\ndocs-gettext:\n\thatch run docs:bash -c 'cd $(docs_dir) && make gettext'\n\thatch run docs:bash -c 'cd $(docs_dir) && sphinx-intl update -p $(locales_pot) $(addprefix -l , $(locales))'\n.PHONY: docs-gettext\n\ndocs-serve:\n\thatch run docs:sphinx-autobuild --watch aiogram/ --watch CHANGES.rst --watch README.rst docs/ docs/_build/ $(OPTS)\n.PHONY: docs-serve\n\n$(locale_targets): docs-serve-%:\n\t$(MAKE) docs-serve OPTS=\"-D language=$(subst docs-serve-,,$@)\"\n.PHONY: $(locale_targets)\n\n# =================================================================================================\n# Project\n# =================================================================================================\n\n.PHONY: build\nbuild: clean\n\thatch build\n\n.PHONY: bump\nbump:\n\thatch version $(args)\n\tpython scripts/bump_versions.py\n\nupdate-api:\n\tbutcher parse\n\tbutcher refresh\n\tbutcher apply all\n\t@$(MAKE) bump\n\n.PHONY: towncrier-build\ntowncrier-build:\n\thatch run docs:towncrier build --yes\n\n.PHONY: towncrier-draft\ntowncrier-draft:\n\thatch run docs:towncrier build --draft\n\n.PHONY: towncrier-draft-github\ntowncrier-draft-github:\n\tmkdir -p dist\n\thatch run docs:towncrier build --draft | pandoc - -o dist/release.md\n\n.PHONY: prepare-release\nprepare-release: bump towncrier-build\n\n.PHONY: release\nrelease:\n\tgit add .\n\tgit commit -m \"Release $(shell poetry version -s)\"\n\tgit tag v$(shell hatch version -s)\n"
        },
        {
          "name": "README.rst",
          "type": "blob",
          "size": 3.4697265625,
          "content": "#######\naiogram\n#######\n\n.. image:: https://img.shields.io/pypi/l/aiogram.svg?style=flat-square\n    :target: https://opensource.org/licenses/MIT\n    :alt: MIT License\n\n.. image:: https://img.shields.io/pypi/status/aiogram.svg?style=flat-square\n    :target: https://pypi.python.org/pypi/aiogram\n    :alt: PyPi status\n\n.. image:: https://img.shields.io/pypi/v/aiogram.svg?style=flat-square\n    :target: https://pypi.python.org/pypi/aiogram\n    :alt: PyPi Package Version\n\n.. image:: https://img.shields.io/pypi/dm/aiogram.svg?style=flat-square\n    :target: https://pypi.python.org/pypi/aiogram\n    :alt: Downloads\n\n.. image:: https://img.shields.io/pypi/pyversions/aiogram.svg?style=flat-square\n    :target: https://pypi.python.org/pypi/aiogram\n    :alt: Supported python versions\n\n.. image:: https://img.shields.io/badge/dynamic/json?color=blue&logo=telegram&label=Telegram%20Bot%20API&query=%24.api.version&url=https%3A%2F%2Fraw.githubusercontent.com%2Faiogram%2Faiogram%2Fdev-3.x%2F.butcher%2Fschema%2Fschema.json&style=flat-square\n    :target: https://core.telegram.org/bots/api\n    :alt: Telegram Bot API\n\n.. image:: https://img.shields.io/github/actions/workflow/status/aiogram/aiogram/tests.yml?branch=dev-3.x&style=flat-square\n    :target: https://github.com/aiogram/aiogram/actions\n    :alt: Tests\n\n.. image:: https://img.shields.io/codecov/c/github/aiogram/aiogram?style=flat-square\n    :target: https://app.codecov.io/gh/aiogram/aiogram\n    :alt: Codecov\n\n**aiogram** is a modern and fully asynchronous framework for\n`Telegram Bot API <https://core.telegram.org/bots/api>`_ written in Python 3.8+ using\n`asyncio <https://docs.python.org/3/library/asyncio.html>`_ and\n`aiohttp <https://github.com/aio-libs/aiohttp>`_.\n\nMake your bots faster and more powerful!\n\nDocumentation:\n - ðŸ‡ºðŸ‡¸ `English <https://docs.aiogram.dev/en/dev-3.x/>`_\n - ðŸ‡ºðŸ‡¦ `Ukrainian <https://docs.aiogram.dev/uk_UA/dev-3.x/>`_\n\n\nFeatures\n========\n\n- Asynchronous (`asyncio docs <https://docs.python.org/3/library/asyncio.html>`_, :pep:`492`)\n- Has type hints (:pep:`484`) and can be used with `mypy <http://mypy-lang.org/>`_\n- Supports `PyPy <https://www.pypy.org/>`_\n- Supports `Telegram Bot API 8.2 <https://core.telegram.org/bots/api>`_ and gets fast updates to the latest versions of the Bot API\n- Telegram Bot API integration code was `autogenerated <https://github.com/aiogram/tg-codegen>`_ and can be easily re-generated when API gets updated\n- Updates router (Blueprints)\n- Has Finite State Machine\n- Uses powerful `magic filters <https://docs.aiogram.dev/en/latest/dispatcher/filters/magic_filters.html#magic-filters>`_\n- Middlewares (incoming updates and API calls)\n- Provides `Replies into Webhook <https://core.telegram.org/bots/faq#how-can-i-make-requests-in-response-to-updates>`_\n- Integrated I18n/L10n support with GNU Gettext (or Fluent)\n\n\n.. warning::\n\n    It is strongly advised that you have prior experience working\n    with `asyncio <https://docs.python.org/3/library/asyncio.html>`_\n    before beginning to use **aiogram**.\n\n    If you have any questions, you can visit our community chats on Telegram:\n\n    - ðŸ‡ºðŸ‡¸ `@aiogram <https://t.me/aiogram>`_\n    - ðŸ‡ºðŸ‡¦ `@aiogramua <https://t.me/aiogramua>`_\n    - ðŸ‡ºðŸ‡¿ `@aiogram_uz <https://t.me/aiogram_uz>`_\n    - ðŸ‡°ðŸ‡¿ `@aiogram_kz <https://t.me/aiogram_kz>`_\n    - ðŸ‡·ðŸ‡º `@aiogram_ru <https://t.me/aiogram_ru>`_\n    - ðŸ‡®ðŸ‡· `@aiogram_fa <https://t.me/aiogram_fa>`_\n    - ðŸ‡®ðŸ‡¹ `@aiogram_it <https://t.me/aiogram_it>`_\n    - ðŸ‡§ðŸ‡· `@aiogram_br <https://t.me/aiogram_br>`_\n"
        },
        {
          "name": "aiogram",
          "type": "tree",
          "content": null
        },
        {
          "name": "codecov.yaml",
          "type": "blob",
          "size": 0.3486328125,
          "content": "codecov:\n  require_ci_to_pass: yes\n  branch: dev-3.x\n\ncoverage:\n  precision: 2\n  round: down\n  range: \"70...100\"\n\nparsers:\n  gcov:\n    branch_detection:\n      conditional: yes\n      loop: yes\n      method: no\n      macro: no\n\ncomment:\n  layout: \"reach,diff,flags,tree\"\n  behavior: default\n  require_changes: no\n  branches:\n    - dev-3.x\n  after_n_builds: 6\n"
        },
        {
          "name": "docs",
          "type": "tree",
          "content": null
        },
        {
          "name": "examples",
          "type": "tree",
          "content": null
        },
        {
          "name": "pyproject.toml",
          "type": "blob",
          "size": 7.5810546875,
          "content": "[build-system]\nrequires = [\"hatchling\"]\nbuild-backend = \"hatchling.build\"\n\n[project]\nname = \"aiogram\"\ndescription = 'Modern and fully asynchronous framework for Telegram Bot API'\nreadme = \"README.rst\"\nrequires-python = \">=3.9\"\nlicense = \"MIT\"\nauthors = [\n    { name = \"Alex Root Junior\", email = \"jroot.junior@gmail.com\" },\n]\nmaintainers = [\n    { name = \"Alex Root Junior\", email = \"jroot.junior@gmail.com\" },\n]\nkeywords = [\n    \"telegram\",\n    \"bot\",\n    \"api\",\n    \"framework\",\n    \"wrapper\",\n    \"asyncio\",\n]\nclassifiers = [\n    \"License :: OSI Approved :: MIT License\",\n    \"Development Status :: 5 - Production/Stable\",\n    \"Environment :: Console\",\n    \"Framework :: AsyncIO\",\n    \"Typing :: Typed\",\n    \"Intended Audience :: Developers\",\n    \"Intended Audience :: System Administrators\",\n    \"Programming Language :: Python :: 3.9\",\n    \"Programming Language :: Python :: 3.10\",\n    \"Programming Language :: Python :: 3.11\",\n    \"Programming Language :: Python :: 3.12\",\n    \"Programming Language :: Python :: 3.13\",\n    \"Programming Language :: Python :: Implementation :: PyPy\",\n    \"Topic :: Software Development :: Libraries :: Application Frameworks\",\n    \"Topic :: Software Development :: Libraries :: Python Modules\",\n    \"Topic :: Communications :: Chat\",\n]\ndependencies = [\n    \"magic-filter>=1.0.12,<1.1\",\n    \"aiohttp>=3.9.0,<3.12\",\n    \"pydantic>=2.4.1,<2.11\",\n    \"aiofiles>=23.2.1,<24.2\",\n    \"certifi>=2023.7.22\",\n    \"typing-extensions>=4.7.0,<=5.0\",\n]\ndynamic = [\"version\"]\n\n[tool.hatch.version]\npath = \"aiogram/__meta__.py\"\n\n[project.optional-dependencies]\nfast = [\n    \"uvloop>=0.17.0; (sys_platform == 'darwin' or sys_platform == 'linux') and platform_python_implementation != 'PyPy' and python_version < '3.13'\",\n    \"uvloop>=0.21.0; (sys_platform == 'darwin' or sys_platform == 'linux') and platform_python_implementation != 'PyPy' and python_version >= '3.13'\",\n    \"aiodns>=3.0.0\",\n]\nredis = [\n    \"redis[hiredis]>=5.0.1,<5.1.0\",\n]\nmongo = [\n    \"motor>=3.3.2,<3.7.0\",\n]\nproxy = [\n    \"aiohttp-socks~=0.8.3\",\n]\ni18n = [\n    \"Babel~=2.13.0\",\n]\ncli = [\n    \"aiogram-cli>=1.1.0,<2.0.0\",\n]\ntest = [\n    \"pytest~=7.4.2\",\n    \"pytest-html~=4.0.2\",\n    \"pytest-asyncio~=0.21.1\",\n    \"pytest-lazy-fixture~=0.6.3\",\n    \"pytest-mock~=3.12.0\",\n    \"pytest-mypy~=0.10.3\",\n    \"pytest-cov~=4.1.0\",\n    \"pytest-aiohttp~=1.0.5\",\n    \"aresponses~=2.1.6\",\n    \"pytz~=2023.3\",\n    \"pycryptodomex~=3.19.0\",\n]\ndocs = [\n    \"Sphinx~=8.0.2\",\n    \"sphinx-intl~=2.2.0\",\n    \"sphinx-autobuild~=2024.9.3\",\n    \"sphinx-copybutton~=0.5.2\",\n    \"furo~=2024.8.6\",\n    \"Sphinx-Substitution-Extensions~=2024.8.6\",\n    \"towncrier~=24.8.0\",\n    \"pygments~=2.18.0\",\n    \"pymdown-extensions~=10.3\",\n    \"markdown-include~=0.8.1\",\n    \"sphinxcontrib-towncrier~=0.4.0a0\",\n]\ndev = [\n    \"black~=24.4.2\",\n    \"isort~=5.13.2\",\n    \"ruff~=0.5.1\",\n    \"mypy~=1.10.0\",\n    \"toml~=0.10.2\",\n    \"pre-commit~=3.5\",\n    \"packaging~=24.1\",\n    \"motor-types~=1.0.0b4\",\n]\n\n[project.urls]\nHomepage = \"https://aiogram.dev/\"\nDocumentation = \"https://docs.aiogram.dev/\"\nRepository = \"https://github.com/aiogram/aiogram/\"\n\n[tool.hatch.envs.default]\nfeatures = [\n    \"dev\",\n    \"fast\",\n    \"redis\",\n    \"mongo\",\n    \"proxy\",\n    \"i18n\",\n    \"cli\",\n]\npost-install-commands = [\n    \"pre-commit install\",\n]\n\n[tool.hatch.envs.default.scripts]\nreformat = [\n    \"black aiogram tests examples\",\n    \"isort aiogram tests examples\",\n]\nlint = \"ruff check aiogram tests examples\"\n\n[tool.hatch.envs.docs]\nfeatures = [\n    \"fast\",\n    \"redis\",\n    \"mongo\",\n    \"proxy\",\n    \"i18n\",\n    \"docs\",\n    \"cli\",\n]\n[tool.hatch.envs.docs.scripts]\nserve = \"sphinx-autobuild --watch aiogram/ --watch CHANGES.rst --watch README.rst docs/ docs/_build/ {args}\"\n\n[tool.hatch.envs.dev]\npython = \"3.12\"\nfeatures = [\n    \"dev\",\n    \"fast\",\n    \"redis\",\n    \"mongo\",\n    \"proxy\",\n    \"i18n\",\n    \"test\",\n    \"cli\",\n]\n\n[tool.hatch.envs.dev.scripts]\nupdate = [\n    \"butcher parse\",\n    \"butcher refresh\",\n    \"butcher apply all\",\n]\n\n[tool.hatch.envs.test]\nfeatures = [\n    \"fast\",\n    \"redis\",\n    \"mongo\",\n    \"proxy\",\n    \"i18n\",\n    \"test\",\n    \"cli\",\n]\n\n[tool.hatch.envs.test.scripts]\ncov = [\n    \"pytest --cov-config pyproject.toml --cov=aiogram --html=reports/py{matrix:python}/tests/index.html {args}\",\n    \"coverage html -d reports/py{matrix:python}/coverage\",\n]\ncov-redis = [\n    \"pytest --cov-config pyproject.toml --cov=aiogram --html=reports/py{matrix:python}/tests/index.html --redis {env:REDIS_DNS:'redis://localhost:6379'} {args}\",\n    \"coverage html -d reports/py{matrix:python}/coverage\",\n]\ncov-mongo = [\n    \"pytest --cov-config pyproject.toml --cov=aiogram --html=reports/py{matrix:python}/tests/index.html --mongo {env:MONGO_DNS:'mongodb://mongo:mongo@localhost:27017'} {args}\",\n    \"coverage html -d reports/py{matrix:python}/coverage\",\n]\nview-cov = \"google-chrome-stable reports/py{matrix:python}/coverage/index.html\"\n\n\n[[tool.hatch.envs.test.matrix]]\npython = [\"39\", \"310\", \"311\", \"312\", \"313\"]\n\n[tool.ruff]\nline-length = 99\nsrc = [\"aiogram\", \"tests\"]\nexclude = [\n    \".git\",\n    \"build\",\n    \"dist\",\n    \"venv\",\n    \".venv\",\n    \"docs\",\n    \"tests\",\n    \"dev\",\n    \"scripts\",\n    \"*.egg-info\",\n]\ntarget-version = \"py39\"\n\n[tool.ruff.lint]\nselect = [\n    # \"C\", # TODO: mccabe - code complecity\n    \"C4\",\n    \"E\",\n    \"F\",\n    \"T10\",\n    \"T20\",\n    \"Q\",\n    \"RET\",\n]\nignore = [\n    \"F401\"\n]\n\n[tool.ruff.lint.isort]\nknown-first-party = [\n    \"aiogram\",\n    \"finite_state_machine\",\n    \"handlers\",\n    \"routes\",\n]\n\n[tool.ruff.lint.per-file-ignores]\n\"aiogram/client/bot.py\" = [\"E501\"]\n\"aiogram/types/*\" = [\"E501\"]\n\"aiogram/methods/*\" = [\"E501\"]\n\"aiogram/enums/*\" = [\"E501\"]\n\n\n[tool.pytest.ini_options]\nasyncio_mode = \"auto\"\ntestpaths = [\n    \"tests\",\n]\nfilterwarnings = [\n    \"error\",\n    \"ignore::pytest.PytestUnraisableExceptionWarning\",\n]\n\n[tool.coverage.run]\nbranch = false\nparallel = true\nomit = [\n    \"aiogram/__about__.py\",\n]\n\n[tool.coverage.report]\nexclude_lines = [\n    \"if __name__ == .__main__.:\",\n    \"pragma: no cover\",\n    \"if TYPE_CHECKING:\",\n    \"@abstractmethod\",\n    \"@overload\",\n]\n\n[tool.mypy]\nplugins = \"pydantic.mypy\"\npython_version = \"3.9\"\nshow_error_codes = true\nshow_error_context = true\npretty = true\nignore_missing_imports = false\nwarn_unused_configs = true\ndisallow_subclassing_any = true\ndisallow_any_generics = true\ndisallow_untyped_calls = true\ndisallow_untyped_defs = true\ndisallow_incomplete_defs = true\ncheck_untyped_defs = true\ndisallow_untyped_decorators = true\nno_implicit_optional = true\nwarn_redundant_casts = true\nwarn_unused_ignores = true\nwarn_return_any = true\nfollow_imports_for_stubs = true\nnamespace_packages = true\nshow_absolute_path = true\n\n[[tool.mypy.overrides]]\nmodule = [\n    \"aiofiles\",\n    \"async_lru\",\n    \"uvloop\",\n    \"redis.*\",\n    \"babel.*\",\n]\nignore_missing_imports = true\ndisallow_untyped_defs = true\n\n[tool.black]\nline-length = 99\ntarget-version = ['py39', 'py310', 'py311', 'py312', 'py313']\nexclude = '''\n(\n    \\.eggs\n  | \\.git\n  | \\.tox\n  | build\n  | dist\n  | venv\n  | docs\n)\n'''\n\n[tool.isort]\nprofile = \"black\"\n\n[tool.towncrier]\npackage = \"aiogram\"\nfilename = \"CHANGES.rst\"\ndirectory = \"CHANGES/\"\ntemplate = \"CHANGES/.template.rst.jinja2\"\nissue_format = \"`#{issue} <https://github.com/aiogram/aiogram/issues/{issue}>`_\"\nignore = [\n    \".template.rst.jinja2\",\n]\n\n[[tool.towncrier.section]]\npath = \"\"\n\n[[tool.towncrier.type]]\ndirectory = \"feature\"\nname = \"Features\"\nshowcontent = true\n\n[[tool.towncrier.type]]\ndirectory = \"bugfix\"\nname = \"Bugfixes\"\nshowcontent = true\n\n[[tool.towncrier.type]]\ndirectory = \"doc\"\nname = \"Improved Documentation\"\nshowcontent = true\n\n[[tool.towncrier.type]]\ndirectory = \"removal\"\nname = \"Deprecations and Removals\"\nshowcontent = true\n\n[[tool.towncrier.type]]\ndirectory = \"misc\"\nname = \"Misc\"\nshowcontent = true\n"
        },
        {
          "name": "scripts",
          "type": "tree",
          "content": null
        },
        {
          "name": "tests",
          "type": "tree",
          "content": null
        }
      ]
    }
  ]
}