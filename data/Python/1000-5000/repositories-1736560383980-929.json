{
  "metadata": {
    "timestamp": 1736560383980,
    "page": 929,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjk0MA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "linyqh/NarratoAI",
      "stars": 3276,
      "defaultBranch": "main",
      "files": [
        {
          "name": ".dockerignore",
          "type": "blob",
          "size": 0.25390625,
          "content": "# Exclude common Python files and directories\nvenv/\n__pycache__/\n*.pyc\n*.pyo\n*.pyd\n*.pyz\n*.pyw\n*.pyi\n*.egg-info/\n\n# Exclude development and local files\n.env\n.env.*\n*.log\n*.db\n\n# Exclude version control system files\n.git/\n.gitignore\n.svn/\n\nstorage/\nconfig.toml\n"
        },
        {
          "name": ".github",
          "type": "tree",
          "content": null
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.6767578125,
          "content": ".DS_Store\n/config.toml\n/storage/\n/.idea/\n/app/services/__pycache__\n/app/__pycache__/\n/app/config/__pycache__/\n/app/models/__pycache__/\n/app/utils/__pycache__/\n/*/__pycache__/*\n.vscode\n/**/.streamlit\n__pycache__\nlogs/\n\nnode_modules\n# VuePress é»˜è®¤ä¸´æ—¶æ–‡ä»¶ç›®å½•\n/sites/docs/.vuepress/.temp\n# VuePress é»˜è®¤ç¼“å­˜ç›®å½•\n/sites/docs/.vuepress/.cache\n# VuePress é»˜è®¤æ„å»ºç”Ÿæˆçš„é™æ€æ–‡ä»¶ç›®å½•\n/sites/docs/.vuepress/dist\n# æ¨¡å‹ç›®å½•\n/models/\n./models/*\nresource/scripts/*.json\nresource/videos/*.mp4\nresource/songs/*.mp3\nresource/songs/*.flac\nresource/fonts/*.ttc\nresource/fonts/*.ttf\nresource/fonts/*.otf\nresource/srt/*.srt\napp/models/faster-whisper-large-v2/*\napp/models/bert/*\n"
        },
        {
          "name": "Dockerfile",
          "type": "blob",
          "size": 1.357421875,
          "content": "# æ„å»ºé˜¶æ®µ\nFROM python:3.10-slim-bullseye as builder\n\n# è®¾ç½®å·¥ä½œç›®å½•\nWORKDIR /build\n\n# å®‰è£…æ„å»ºä¾èµ–\nRUN apt-get update && apt-get install -y \\\n    git \\\n    git-lfs \\\n    && rm -rf /var/lib/apt/lists/*\n\n# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ\nRUN python -m venv /opt/venv\nENV PATH=\"/opt/venv/bin:$PATH\"\n\n# é¦–å…ˆå®‰è£… PyTorchï¼ˆå› ä¸ºå®ƒæ˜¯æœ€å¤§çš„ä¾èµ–ï¼‰\nRUN pip install --no-cache-dir torch torchvision torchaudio\n\n# ç„¶åå®‰è£…å…¶ä»–ä¾èµ–\nCOPY requirements.txt .\nRUN pip install --no-cache-dir -r requirements.txt\n\n# è¿è¡Œé˜¶æ®µ\nFROM python:3.10-slim-bullseye\n\n# è®¾ç½®å·¥ä½œç›®å½•\nWORKDIR /NarratoAI\n\n# ä»builderé˜¶æ®µå¤åˆ¶è™šæ‹Ÿç¯å¢ƒ\nCOPY --from=builder /opt/venv /opt/venv\nENV PATH=\"/opt/venv/bin:$PATH\"\n\n# å®‰è£…è¿è¡Œæ—¶ä¾èµ–\nRUN apt-get update && apt-get install -y \\\n    imagemagick \\\n    ffmpeg \\\n    wget \\\n    git-lfs \\\n    && rm -rf /var/lib/apt/lists/* \\\n    && sed -i '/<policy domain=\"path\" rights=\"none\" pattern=\"@\\*\"/d' /etc/ImageMagick-6/policy.xml\n\n# è®¾ç½®ç¯å¢ƒå˜é‡\nENV PYTHONPATH=\"/NarratoAI\" \\\n    PYTHONUNBUFFERED=1 \\\n    PYTHONDONTWRITEBYTECODE=1\n\n# è®¾ç½®ç›®å½•æƒé™\nRUN chmod 777 /NarratoAI\n\n# å®‰è£…git lfs\nRUN git lfs install\n\n# å¤åˆ¶åº”ç”¨ä»£ç \nCOPY . .\n\n# æš´éœ²ç«¯å£\nEXPOSE 8501 8080\n\n# ä½¿ç”¨è„šæœ¬ä½œä¸ºå…¥å£ç‚¹\nCOPY docker-entrypoint.sh /usr/local/bin/\nRUN chmod +x /usr/local/bin/docker-entrypoint.sh\nENTRYPOINT [\"docker-entrypoint.sh\"]\n"
        },
        {
          "name": "LICENSE",
          "type": "blob",
          "size": 1.037109375,
          "content": "MIT License\n\nCopyright (c) 2024 linyq\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n"
        },
        {
          "name": "README-cn.md",
          "type": "blob",
          "size": 7.400390625,
          "content": "\n<div align=\"center\">\n<h1 align=\"center\" style=\"font-size: 2cm;\"> NarratoAI ğŸ˜ğŸ“½ï¸ </h1>\n<h3 align=\"center\">An all-in-one AI-powered tool for film commentary and automated video editing.ğŸ¬ğŸï¸ </h3>\n\n\n<h3>ğŸ“– English | <a href=\"README.md\">ç®€ä½“ä¸­æ–‡</a> | <a href=\"README-ja.md\">æ—¥æœ¬èª</a> </h3>\n<div align=\"center\">\n\n[//]: # (  <a href=\"https://trendshift.io/repositories/8731\" target=\"_blank\"><img src=\"https://trendshift.io/api/badge/repositories/8731\" alt=\"harry0703%2FNarratoAI | Trendshift\" style=\"width: 250px; height: 55px;\" width=\"250\" height=\"55\"/></a>)\n</div>\n<br>\nNarratoAI is an automated video narration tool that provides an all-in-one solution for script writing, automated video editing, voice-over, and subtitle generation, powered by LLM to enhance efficient content creation.\n<br>\n\n[![madewithlove](https://img.shields.io/badge/made_with-%E2%9D%A4-red?style=for-the-badge&labelColor=orange)](https://github.com/linyqh/NarratoAI)\n[![GitHub license](https://img.shields.io/github/license/linyqh/NarratoAI?style=for-the-badge)](https://github.com/linyqh/NarratoAI/blob/main/LICENSE)\n[![GitHub issues](https://img.shields.io/github/issues/linyqh/NarratoAI?style=for-the-badge)](https://github.com/linyqh/NarratoAI/issues)\n[![GitHub stars](https://img.shields.io/github/stars/linyqh/NarratoAI?style=for-the-badge)](https://github.com/linyqh/NarratoAI/stargazers)\n\n<a href=\"https://github.com/linyqh/NarratoAI/wiki\" target=\"_blank\">ğŸ’¬ Join the open source community to get project updates and the latest news.</a>\n\n<h3>Home</h3>\n\n![](docs/index-en.png)\n\n<h3>Video Review Interface</h3>\n\n![](docs/check-en.png)\n\n</div>\n\n## Future Plans ğŸ¥³ \n- [x] Windows Integration Pack Release\n- [ ] Optimized the story generation process and improved the generation effect \n- [ ] Support local large model MiniCPM-V \n- [ ] Support local large model Qwen2-VL \n- [ ] ...\n\n## System Requirements ğŸ“¦\n\n- Recommended minimum: CPU with 4 cores or more, 8GB RAM or more, GPU is not required\n- Windows 10 or MacOS 11.0 or above\n\n## Quick Start ğŸš€\n### 1. Apply for Google AI Studio Account\n1. Visit https://aistudio.google.com/app/prompts/new_chat to apply for an account.\n2. Click `Get API Key` to request an API Key.\n3. Enter the obtained API Key into the `gemini_api_key` setting in the `config.example.toml` file.\n\n### 2. Configure Proxy VPN\n> The method to configure VPN is not restricted, as long as you can access Google's network. Here, `clash` is used as an example.\n1. Note the port of the clash service, usually `http://127.0.0.1:7890`.\n2. If the port is not `7890`, modify the `VPN_PROXY_URL` in the `docker-compose.yml` file to your proxy address.\n   ```yaml\n   environment:\n     - \"VPN_PROXY_URL=http://host.docker.internal:7890\" # Change to your proxy port; host.docker.internal represents the IP of the physical machine.\n    ```\n\n3. (Optional) Or modify the `proxy` settings in the `config.example.toml` file.\n   ```toml\n   [proxy]\n    ### Use a proxy to access the Pexels API\n    ### Format: \"http://<username>:<password>@<proxy>:<port>\"\n    ### Example: \"http://user:pass@proxy:1234\"\n    ### Doc: https://requests.readthedocs.io/en/latest/user/advanced/#proxies\n\n    http = \"http://xx.xx.xx.xx:7890\"\n    https = \"http://xx.xx.xx.xx:7890\"\n   ```\n\n\n### 3. Get Started ğŸ“¥ with the Modpack (for Windows users)\nNarratoAI Modpack v0.1.2 is released ğŸš€ \n\nHurry up and follow the WeChat public account [NarratoAIåŠ©æ‰‹] and reply to the keyword [æ•´åˆåŒ…] to get the latest download link! Give it a try! \n\nNote: \n- Currently only available for Windows, Mac version is in development, Linux version will be available in a future release.\n\n\n\n### 4. Get started ğŸ³ with docker (for Mac and Linux users)\n#### â‘  clone project, Start Docker\n```shell\ngit clone https://github.com/linyqh/NarratoAI.git\ncd NarratoAI\ndocker-compose up\n```\n#### â‘¡ Access the Web Interface\n\nOpen your browser and go to http://127.0.0.1:8501\n\n#### â‘¢ Access the API Documentation\n\nOpen your browser and go to http://127.0.0.1:8080/docs or http://127.0.0.1:8080/redoc\n\n## Usage\n#### 1. Basic Configuration, Select Model, Enter API Key, and Choose Model\n> Currently, only the `Gemini` model is supported. Other modes will be added in future updates. Contributions are welcome via [PR](https://github.com/linyqh/NarratoAI/pulls) to join in the development ğŸ‰ğŸ‰ğŸ‰\n<div align=\"center\">\n  <img src=\"docs/img001-en.png\" alt=\"001\" width=\"1000\"/>\n</div>\n\n#### 2. Select the Video for Narration and Click to Generate Video Script\n> A demo video is included in the platform. To use your own video, place the mp4 file in the `resource/videos` directory and refresh your browser.\n> Note: The filename can be anything, but it must not contain Chinese characters, special characters, spaces, backslashes, etc.\n<div align=\"center\">\n  <img src=\"docs/img002-en.png\" alt=\"002\" width=\"400\"/>\n</div>\n\n#### 3. Save the Script and Start Editing\n> After saving the script, refresh the browser, and the newly generated `.json` script file will appear in the script file dropdown. Select the json file and video to start editing.\n<div align=\"center\">\n  <img src=\"docs/img003-en.png\" alt=\"003\" width=\"400\"/>\n</div>\n\n#### 4. Review the Video; if there are segments that don't meet the rules, click to regenerate or manually edit them.\n<div align=\"center\">\n  <img src=\"docs/img004-en.png\" alt=\"003\" width=\"1000\"/>\n</div>\n\n#### 5. Configure Basic Video Parameters\n<div align=\"center\">\n  <img src=\"docs/img005-en.png\" alt=\"003\" width=\"700\"/>\n</div>\n\n#### 6. Start Generating\n<div align=\"center\">\n  <img src=\"docs/img006-en.png\" alt=\"003\" width=\"1000\"/>\n</div>\n\n#### 7. Video Generation Complete\n<div align=\"center\">\n  <img src=\"docs/img007-en.png\" alt=\"003\" width=\"1000\"/>\n</div>\n\n## Development ğŸ’»\n1. Install Dependencies\n```shell\nconda create -n narratoai python=3.10\nconda activate narratoai\ncd narratoai\npip install -r requirements.txt\n```\n2. Install ImageMagick\n###### Windows:\n\n- Download https://imagemagick.org/archive/binaries/ImageMagick-7.1.1-38-Q16-x64-static.exe\n- Install the downloaded ImageMagick, ensuring you do not change the installation path\n- Update `imagemagick_path` in the `config.toml` file to your actual installation path (typically `C:\\Program Files\\ImageMagick-7.1.1-Q16\\magick.exe`)\n\n###### MacOS:\n\n```shell\nbrew install imagemagick\n````\n\n###### Ubuntu\n\n```shell\nsudo apt-get install imagemagick\n```\n\n###### CentOS\n\n```shell\nsudo yum install ImageMagick\n```\n\n3. initiate webui\n```shell\nstreamlit run ./webui/Main.py --browser.serverAddress=127.0.0.1 --server.enableCORS=True --browser.gatherUsageStats=False\n```\n4. Access http://127.0.0.1:8501\n\n## Feedback & Suggestions ğŸ“¢\n\n### ğŸ‘ 1. You can submit [issues](https://github.com/linyqh/NarratoAI/issues) or [pull requests](https://github.com/linyqh/NarratoAI/pulls) \n\n### ğŸ’¬ 2. [Join the open source community exchange group]((https://github.com/linyqh/NarratoAI/wiki))\n\n### ğŸ‘‰ 3. [frequently asked questions](https://thread-marsupial-df8.notion.site/105866888dab80988650fa063b1df4eb)\n\n## Reference Projects ğŸ“š\n- https://github.com/FujiwaraChoki/MoneyPrinter\n- https://github.com/harry0703/MoneyPrinterTurbo\n\nThis project was refactored based on the above projects with the addition of video narration features. Thanks to the original authors for their open-source spirit ğŸ¥³ğŸ¥³ğŸ¥³ \n\n## License ğŸ“\n\nClick to view the [`LICENSE`](LICENSE) file\n\n## Star History\n\n[![Star History Chart](https://api.star-history.com/svg?repos=linyqh/NarratoAI&type=Date)](https://star-history.com/#linyqh/NarratoAI&Date)\n"
        },
        {
          "name": "README-ja.md",
          "type": "blob",
          "size": 4.1748046875,
          "content": "<div align=\"center\">\n<h1 align=\"center\" style=\"font-size: 2cm;\"> NarratoAI ğŸ˜ğŸ“½ï¸ </h1>\n<h3 align=\"center\">ä¸€ä½“å‹AIæ˜ ç”»è§£èª¬ãŠã‚ˆã³è‡ªå‹•ãƒ“ãƒ‡ã‚ªç·¨é›†ãƒ„ãƒ¼ãƒ«ğŸ¬ğŸï¸ </h3>\n\n<h3>ğŸ“– <a href=\"README-cn.md\">ç®€ä½“ä¸­æ–‡</a> | <a href=\"README.md\">English</a> | æ—¥æœ¬èª </h3>\n<div align=\"center\">\n\n[//]: # (  <a href=\"https://trendshift.io/repositories/8731\" target=\"_blank\"><img src=\"https://trendshift.io/api/badge/repositories/8731\" alt=\"harry0703%2FNarratoAI | Trendshift\" style=\"width: 250px; height: 55px;\" width=\"250\" height=\"55\"/></a>)\n</div>\n<br>\nNarratoAIã¯ã€LLMã‚’æ´»ç”¨ã—ã¦ã‚¹ã‚¯ãƒªãƒ—ãƒˆä½œæˆã€è‡ªå‹•ãƒ“ãƒ‡ã‚ªç·¨é›†ã€ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã€å­—å¹•ç”Ÿæˆã®ä¸€ä½“å‹ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æä¾›ã™ã‚‹è‡ªå‹•åŒ–ãƒ“ãƒ‡ã‚ªãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚\n<br>\n\n[![madewithlove](https://img.shields.io/badge/made_with-%E2%9D%A4-red?style=for-the-badge&labelColor=orange)](https://github.com/linyqh/NarratoAI)\n[![GitHub license](https://img.shields.io/github/license/linyqh/NarratoAI?style=for-the-badge)](https://github.com/linyqh/NarratoAI/blob/main/LICENSE)\n[![GitHub issues](https://img.shields.io/github/issues/linyqh/NarratoAI?style=for-the-badge)](https://github.com/linyqh/NarratoAI/issues)\n[![GitHub stars](https://img.shields.io/github/stars/linyqh/NarratoAI?style=for-the-badge)](https://github.com/linyqh/NarratoAI/stargazers)\n\n<a href=\"https://discord.gg/uVAJftcm\" target=\"_blank\">ğŸ’¬ Discordã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã«å‚åŠ ã—ã¦ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æœ€æ–°æƒ…å ±ã‚’å…¥æ‰‹ã—ã¾ã—ã‚‡ã†ã€‚</a>\n\n<h2><a href=\"https://p9mf6rjv3c.feishu.cn/wiki/SP8swLLZki5WRWkhuFvc2CyInDg?from=from_copylink\" target=\"_blank\">ğŸ‰ğŸ‰ğŸ‰ å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ ğŸ‰ğŸ‰ğŸ‰</a> </h2>\n<h3>ãƒ›ãƒ¼ãƒ </h3>\n\n![](docs/index-zh.png)\n\n<h3>ãƒ“ãƒ‡ã‚ªãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹</h3>\n\n![](docs/check-zh.png)\n\n</div>\n\n## æœ€æ–°æƒ…å ±\n- 2024.11.24 Discordã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£é–‹è¨­ï¼šhttps://discord.gg/uVAJftcm\n- 2024.11.11 ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã«ç§»è¡Œã€å‚åŠ ã‚’æ­“è¿ã—ã¾ã™ï¼ [å…¬å¼ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã«å‚åŠ ](https://github.com/linyqh/NarratoAI/wiki)\n- 2024.11.10 å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå…¬é–‹ã€è©³ç´°ã¯ [å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://p9mf6rjv3c.feishu.cn/wiki/SP8swLLZki5WRWkhuFvc2CyInDg) ã‚’å‚ç…§\n- 2024.11.10 æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³v0.3.5ãƒªãƒªãƒ¼ã‚¹ï¼›ãƒ“ãƒ‡ã‚ªç·¨é›†ãƒ—ãƒ­ã‚»ã‚¹ã®æœ€é©åŒ–\n\n## ä»Šå¾Œã®è¨ˆç”» ğŸ¥³\n- [x] Windowsçµ±åˆãƒ‘ãƒƒã‚¯ãƒªãƒªãƒ¼ã‚¹\n- [x] ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ç”Ÿæˆãƒ—ãƒ­ã‚»ã‚¹ã®æœ€é©åŒ–ã€ç”ŸæˆåŠ¹æœã®å‘ä¸Š\n- [x] ãƒãƒ¼ã‚¸ãƒ§ãƒ³0.3.5çµ±åˆãƒ‘ãƒƒã‚¯ãƒªãƒªãƒ¼ã‚¹\n- [ ] ã‚¢ãƒªãƒãƒQwen2-VLå¤§è¦æ¨¡ãƒ¢ãƒ‡ãƒ«ã®ãƒ“ãƒ‡ã‚ªç†è§£ã‚µãƒãƒ¼ãƒˆ\n- [ ] çŸ­ç·¨ãƒ‰ãƒ©ãƒã®è§£èª¬ã‚µãƒãƒ¼ãƒˆ\n- [ ] ...\n\n## ã‚·ã‚¹ãƒ†ãƒ è¦ä»¶ ğŸ“¦\n\n- æ¨å¥¨æœ€ä½ï¼šCPU 4ã‚³ã‚¢ä»¥ä¸Šã€ãƒ¡ãƒ¢ãƒª8GBä»¥ä¸Šã€GPUã¯å¿…é ˆã§ã¯ã‚ã‚Šã¾ã›ã‚“\n- Windows 10ã¾ãŸã¯MacOS 11.0ä»¥ä¸Š\n\n## ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã¨ææ¡ˆ ğŸ“¢\n\nğŸ‘ 1. [issue](https://github.com/linyqh/NarratoAI/issues)ã¾ãŸã¯[pull request](https://github.com/linyqh/NarratoAI/pulls)ã‚’æå‡ºã§ãã¾ã™\n\nğŸ’¬ 2. [ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£äº¤æµã‚°ãƒ«ãƒ¼ãƒ—ã«å‚åŠ ](https://github.com/linyqh/NarratoAI/wiki)\n\nğŸ“· 3. å…¬å¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã€NarratoAIåŠ©æ‰‹ã€‘ã‚’ãƒ•ã‚©ãƒ­ãƒ¼ã—ã¦æœ€æ–°æƒ…å ±ã‚’å…¥æ‰‹\n\n## å‚è€ƒãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ ğŸ“š\n- https://github.com/FujiwaraChoki/MoneyPrinter\n- https://github.com/harry0703/MoneyPrinterTurbo\n\nã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ä¸Šè¨˜ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’åŸºã«ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã•ã‚Œã€æ˜ ç”»è§£èª¬æ©Ÿèƒ½ãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚ã‚ªãƒªã‚¸ãƒŠãƒ«ã®ä½œè€…ã«æ„Ÿè¬ã—ã¾ã™ ğŸ¥³ğŸ¥³ğŸ¥³ \n\n## ä½œè€…ã«ã‚³ãƒ¼ãƒ’ãƒ¼ã‚’ä¸€æ¯ãŠã”ã‚‹ â˜•ï¸\n<div style=\"display: flex; justify-content: space-between;\">\n  <img src=\"https://github.com/user-attachments/assets/5038ccfb-addf-4db1-9966-99415989fd0c\" alt=\"Image 1\" style=\"width: 350px; height: 350px; margin: auto;\"/>\n  <img src=\"https://github.com/user-attachments/assets/07d4fd58-02f0-425c-8b59-2ab94b4f09f8\" alt=\"Image 2\" style=\"width: 350px; height: 350px; margin: auto;\"/>\n</div>\n\n## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ ğŸ“\n\n[`LICENSE`](LICENSE) ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦è¡¨ç¤º\n\n## Star History\n\n[![Star History Chart](https://api.star-history.com/svg?repos=linyqh/NarratoAI&type=Date)](https://star-history.com/#linyqh/NarratoAI&Date)\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 4.33984375,
          "content": "\n<div align=\"center\">\n<h1 align=\"center\" style=\"font-size: 2cm;\"> NarratoAI ğŸ˜ğŸ“½ï¸ </h1>\n<h3 align=\"center\">ä¸€ç«™å¼ AI å½±è§†è§£è¯´+è‡ªåŠ¨åŒ–å‰ªè¾‘å·¥å…·ğŸ¬ğŸï¸ </h3>\n\n\n<h3>ğŸ“– <a href=\"README-cn.md\">English</a> | ç®€ä½“ä¸­æ–‡ | <a href=\"README-ja.md\">æ—¥æœ¬èª</a> </h3>\n<div align=\"center\">\n\n[//]: # (  <a href=\"https://trendshift.io/repositories/8731\" target=\"_blank\"><img src=\"https://trendshift.io/api/badge/repositories/8731\" alt=\"harry0703%2FNarratoAI | Trendshift\" style=\"width: 250px; height: 55px;\" width=\"250\" height=\"55\"/></a>)\n</div>\n<br>\nNarratoAI æ˜¯ä¸€ä¸ªè‡ªåŠ¨åŒ–å½±è§†è§£è¯´å·¥å…·ï¼ŒåŸºäºLLMå®ç°æ–‡æ¡ˆæ’°å†™ã€è‡ªåŠ¨åŒ–è§†é¢‘å‰ªè¾‘ã€é…éŸ³å’Œå­—å¹•ç”Ÿæˆçš„ä¸€ç«™å¼æµç¨‹ï¼ŒåŠ©åŠ›é«˜æ•ˆå†…å®¹åˆ›ä½œã€‚\n<br>\n\n[![madewithlove](https://img.shields.io/badge/made_with-%E2%9D%A4-red?style=for-the-badge&labelColor=orange)](https://github.com/linyqh/NarratoAI)\n[![GitHub license](https://img.shields.io/github/license/linyqh/NarratoAI?style=for-the-badge)](https://github.com/linyqh/NarratoAI/blob/main/LICENSE)\n[![GitHub issues](https://img.shields.io/github/issues/linyqh/NarratoAI?style=for-the-badge)](https://github.com/linyqh/NarratoAI/issues)\n[![GitHub stars](https://img.shields.io/github/stars/linyqh/NarratoAI?style=for-the-badge)](https://github.com/linyqh/NarratoAI/stargazers)\n\n<a href=\"https://discord.com/invite/V2pbAqqQNb\" target=\"_blank\">ğŸ’¬ åŠ å…¥ discord å¼€æºç¤¾åŒºï¼Œè·å–é¡¹ç›®åŠ¨æ€å’Œæœ€æ–°èµ„è®¯ã€‚</a>\n\n<h2><a href=\"https://p9mf6rjv3c.feishu.cn/wiki/SP8swLLZki5WRWkhuFvc2CyInDg?from=from_copylink\" target=\"_blank\">ğŸ‰ğŸ‰ğŸ‰ å®˜æ–¹æ–‡æ¡£ ğŸ‰ğŸ‰ğŸ‰</a> </h2>\n<h3>é¦–é¡µ</h3>\n\n![](docs/index-zh.png)\n\n<h3>è§†é¢‘å®¡æŸ¥ç•Œé¢</h3>\n\n![](docs/check-zh.png)\n\n</div>\n\n## æœ€æ–°èµ„è®¯\n- 2024.12.16 å‘å¸ƒæ–°ç‰ˆæœ¬ 0.3.9ï¼Œ æ”¯æŒé˜¿é‡Œ Qwen2-VL æ¨¡å‹ç†è§£è§†é¢‘ï¼›æ”¯æŒçŸ­å‰§æ··å‰ª\n- 2024.11.24 å¼€é€š discord ç¤¾ç¾¤ï¼šhttps://discord.com/invite/V2pbAqqQNb\n- 2024.11.11 è¿ç§»å¼€æºç¤¾ç¾¤ï¼Œæ¬¢è¿åŠ å…¥ï¼ [åŠ å…¥å®˜æ–¹ç¤¾ç¾¤](https://github.com/linyqh/NarratoAI/wiki)\n- 2024.11.10 å‘å¸ƒå®˜æ–¹æ–‡æ¡£ï¼Œè¯¦æƒ…å‚è§ [å®˜æ–¹æ–‡æ¡£](https://p9mf6rjv3c.feishu.cn/wiki/SP8swLLZki5WRWkhuFvc2CyInDg)\n- 2024.11.10 å‘å¸ƒæ–°ç‰ˆæœ¬ v0.3.5ï¼›ä¼˜åŒ–è§†é¢‘å‰ªè¾‘æµç¨‹ï¼Œ\n\n## å…¬å‘Š ğŸ“¢\n_**æ³¨æ„âš ï¸ï¼šè¿‘æœŸåœ¨ x (æ¨ç‰¹) ä¸Šå‘ç°æœ‰äººå†’å……ä½œè€…åœ¨ pump.fun å¹³å°ä¸Šå‘è¡Œä»£å¸ï¼ è¿™æ˜¯éª—å­ï¼ï¼ï¼ ä¸è¦è¢«å‰²äº†éŸ­èœ\nï¼ï¼ï¼ç›®å‰ NarratoAI æ²¡æœ‰åœ¨ x(æ¨ç‰¹) ä¸Šåšä»»ä½•å®˜æ–¹å®£ä¼ ï¼Œæ³¨æ„ç”„åˆ«**_\n\nä¸‹é¢æ˜¯æ­¤äºº x(æ¨ç‰¹) é¦–é¡µæˆªå›¾\n\n<img src=\"https://github.com/user-attachments/assets/c492ab99-52cd-4ba2-8695-1bd2073ecf12\" alt=\"Screenshot_20250109_114131_Samsung Internet\" style=\"width:30%; height:auto;\">\n\n## æœªæ¥è®¡åˆ’ ğŸ¥³\n- [x] windows æ•´åˆåŒ…å‘å¸ƒ\n- [x] ä¼˜åŒ–å‰§æƒ…ç”Ÿæˆæµç¨‹ï¼Œæå‡ç”Ÿæˆæ•ˆæœ\n- [x] å‘å¸ƒ 0.3.5 æ•´åˆåŒ…\n- [x] æ”¯æŒé˜¿é‡Œ Qwen2-VL å¤§æ¨¡å‹ç†è§£è§†é¢‘\n- [x] æ”¯æŒçŸ­å‰§æ··å‰ª\n  - [x] ä¸€é”®åˆå¹¶ç´ æ\n  - [x] ä¸€é”®è½¬å½•\n  - [x] ä¸€é”®æ¸…ç†ç¼“å­˜\n- [ ] æ”¯æŒå¯¼å‡ºå‰ªæ˜ è‰ç¨¿\n- [ ] æ”¯æŒçŸ­å‰§è§£è¯´\n- [ ] ä¸»è§’äººè„¸åŒ¹é…\n- [ ] æ”¯æŒæ ¹æ®å£æ’­ï¼Œæ–‡æ¡ˆï¼Œè§†é¢‘ç´ æè‡ªåŠ¨åŒ¹é…\n- [ ] ...\n\n## é…ç½®è¦æ±‚ ğŸ“¦\n\n- å»ºè®®æœ€ä½ CPU 4æ ¸æˆ–ä»¥ä¸Šï¼Œå†…å­˜ 8G æˆ–ä»¥ä¸Šï¼Œæ˜¾å¡éå¿…é¡»\n- Windows 10 æˆ– MacOS 11.0 ä»¥ä¸Šç³»ç»Ÿ\n\n## åé¦ˆå»ºè®® ğŸ“¢\n\nğŸ‘ 1. å¯ä»¥æäº¤ [issue](https://github.com/linyqh/NarratoAI/issues)æˆ–è€… [pull request](https://github.com/linyqh/NarratoAI/pulls)\n\nğŸ’¬ 2. [åŠ å…¥å¼€æºç¤¾åŒºäº¤æµç¾¤](https://github.com/linyqh/NarratoAI/wiki)\n\nğŸ“· 3. å…³æ³¨å…¬ä¼—å·ã€NarratoAIåŠ©æ‰‹ã€‘ï¼ŒæŒæ¡æœ€æ–°èµ„è®¯\n\n## å‚è€ƒé¡¹ç›® ğŸ“š\n- https://github.com/FujiwaraChoki/MoneyPrinter\n- https://github.com/harry0703/MoneyPrinterTurbo\n\nè¯¥é¡¹ç›®åŸºäºä»¥ä¸Šé¡¹ç›®é‡æ„è€Œæ¥ï¼Œå¢åŠ äº†å½±è§†è§£è¯´åŠŸèƒ½ï¼Œæ„Ÿè°¢å¤§ä½¬çš„å¼€æºç²¾ç¥ ğŸ¥³ğŸ¥³ğŸ¥³ \n\n## è¯·ä½œè€…å–ä¸€æ¯å’–å•¡ â˜•ï¸\n<div style=\"display: flex; justify-content: space-between;\">\n  <img src=\"https://github.com/user-attachments/assets/5038ccfb-addf-4db1-9966-99415989fd0c\" alt=\"Image 1\" style=\"width: 350px; height: 350px; margin: auto;\"/>\n  <img src=\"https://github.com/user-attachments/assets/07d4fd58-02f0-425c-8b59-2ab94b4f09f8\" alt=\"Image 2\" style=\"width: 350px; height: 350px; margin: auto;\"/>\n</div>\n\n## è®¸å¯è¯ ğŸ“\n\nç‚¹å‡»æŸ¥çœ‹ [`LICENSE`](LICENSE) æ–‡ä»¶\n\n## Star History\n\n[![Star History Chart](https://api.star-history.com/svg?repos=linyqh/NarratoAI&type=Date)](https://star-history.com/#linyqh/NarratoAI&Date)\n\n"
        },
        {
          "name": "app",
          "type": "tree",
          "content": null
        },
        {
          "name": "changelog.py",
          "type": "blob",
          "size": 0.4248046875,
          "content": "from git_changelog.cli import build_and_render\n\n# è¿è¡Œè¿™æ®µè„šæœ¬è‡ªåŠ¨ç”ŸæˆCHANGELOG.mdæ–‡ä»¶\n\nbuild_and_render(\n    repository=\".\",\n    output=\"CHANGELOG.md\",\n    convention=\"angular\",\n    provider=\"github\",\n    template=\"keepachangelog\",\n    parse_trailers=True,\n    parse_refs=False,\n    sections=[\"build\", \"deps\", \"feat\", \"fix\", \"refactor\"],\n    versioning=\"pep440\",\n    bump=\"1.1.2\",  # æŒ‡å®šbumpç‰ˆæœ¬\n    in_place=True,\n)\n"
        },
        {
          "name": "config.example.toml",
          "type": "blob",
          "size": 8.1513671875,
          "content": "[app]\n    project_version=\"0.3.9\"\n    # æ”¯æŒè§†é¢‘ç†è§£çš„å¤§æ¨¡å‹æä¾›å•†\n    #   gemini\n    #   NarratoAPI\n    #   qwen2-vl (å¾…å¢åŠ )\n    vision_llm_provider=\"gemini\"\n    vision_analysis_prompt = \"ä½ æ˜¯èµ„æ·±è§†é¢‘å†…å®¹åˆ†æä¸“å®¶ï¼Œæ“…é•¿åˆ†æè§†é¢‘ç”»é¢ä¿¡æ¯ï¼Œåˆ†æä¸‹é¢è§†é¢‘ç”»é¢å†…å®¹ï¼Œåªè¾“å‡ºå®¢è§‚çš„ç”»é¢æè¿°ä¸è¦ç»™ä»»ä½•æ€»ç»“æˆ–è¯„ä»·\"\n\n    ########## Vision Gemini API Key\n    vision_gemini_api_key = \"\"\n    vision_gemini_model_name = \"gemini-1.5-flash\"\n\n    ########## Vision Qwen API Key\n    vision_qwenvl_api_key = \"\"\n    vision_qwenvl_model_name = \"qwen-vl-max-latest\"\n    vision_qwenvl_base_url = \"https://dashscope.aliyuncs.com/compatible-mode/v1\"\n\n    ########### Vision NarratoAPI Key\n    narrato_api_key = \"0N0iEjU77aTqPW4d9YHCmTW2mPrfgWjDmaWAz1lTVTM\"\n    narrato_api_url = \"https://narratoinsight.scsmtech.cn/api/v1\"\n    narrato_vision_model = \"gemini-1.5-flash\"\n    narrato_vision_key = \"\"\n    narrato_llm_model = \"gpt-4o\"\n    narrato_llm_key = \"\"\n\n    # ç”¨äºç”Ÿæˆæ–‡æ¡ˆçš„å¤§æ¨¡å‹æ”¯æŒçš„æä¾›å•† (Supported providers):\n    #   openai (é»˜è®¤)\n    #   moonshot (æœˆä¹‹æš—é¢)\n    #   oneapi\n    #   g4f\n    #   azure\n    #   qwen (é€šä¹‰åƒé—®)\n    #   gemini\n    text_llm_provider=\"openai\"\n\n    ########## OpenAI API Key\n    # Get your API key at https://platform.openai.com/api-keys\n    text_openai_api_key = \"\"\n    text_openai_base_url = \"https://api.openai.com/v1\"\n    text_openai_model_name = \"gpt-4o-mini\"\n\n    ########## Moonshot API Key\n    # Visit https://platform.moonshot.cn/console/api-keys to get your API key.\n    text_moonshot_api_key=\"\"\n    text_moonshot_base_url = \"https://api.moonshot.cn/v1\"\n    text_moonshot_model_name = \"moonshot-v1-8k\"\n\n    ########## G4F\n    # Visit https://github.com/xtekky/gpt4free to get more details\n    # Supported model list: https://github.com/xtekky/gpt4free/blob/main/g4f/models.py\n    text_g4f_model_name = \"gpt-3.5-turbo\"\n\n    ########## Azure API Key\n    # Visit https://learn.microsoft.com/zh-cn/azure/ai-services/openai/ to get more details\n    # API documentation: https://learn.microsoft.com/zh-cn/azure/ai-services/openai/reference\n    text_azure_api_key = \"\"\n    text_azure_base_url=\"\"\n    text_azure_model_name=\"gpt-35-turbo\" # replace with your model deployment name\n    text_azure_api_version = \"2024-02-15-preview\"\n\n    ########## Gemini API Key\n    text_gemini_api_key=\"\"\n    text_gemini_model_name = \"gemini-1.5-flash\"\n\n    ########## Qwen API Key\n    # Visit https://dashscope.console.aliyun.com/apiKey to get your API key\n    # Visit below links to get more details\n    # https://tongyi.aliyun.com/qianwen/\n    # https://help.aliyun.com/zh/dashscope/developer-reference/model-introduction\n    text_qwen_api_key = \"\"\n    text_qwen_model_name = \"qwen-plus-1127\"\n    text_qwen_base_url = \"https://dashscope.aliyuncs.com/compatible-mode/v1\"\n\n    ########## DeepSeek API Key\n    # Visit https://platform.deepseek.com/api_keys to get your API key\n    text_deepseek_api_key = \"\"\n    text_deepseek_base_url = \"https://api.deepseek.com\"\n    text_deepseek_model_name = \"deepseek-chat\"\n\n    # å­—å¹•æä¾›å•†ã€å¯é€‰ï¼Œæ”¯æŒ whisper å’Œ faster-whisper-large-v2\"whisper\"\n    # é»˜è®¤ä¸º faster-whisper-large-v2 æ¨¡å‹åœ°å€ï¼šhttps://huggingface.co/guillaumekln/faster-whisper-large-v2\n    subtitle_provider = \"faster-whisper-large-v2\"\n    subtitle_enabled = true\n\n    # ImageMagick\n    # å®‰è£…åï¼Œå°†è‡ªåŠ¨æ£€æµ‹åˆ° ImageMagickï¼ŒWindows é™¤å¤–ï¼\n    # ä¾‹å¦‚ï¼Œåœ¨ Windows ä¸Š \"C:\\Program Files (x86)\\ImageMagick-7.1.1-Q16-HDRI\\magick.exe\"\n    # ä¸‹è½½ä½ç½® https://imagemagick.org/archive/binaries/ImageMagick-7.1.1-29-Q16-x64-static.exe\n    # imagemagick_path = \"C:\\\\Program Files (x86)\\\\ImageMagick-7.1.1-Q16\\\\magick.exe\"\n\n    # FFMPEG\n    #\n    # é€šå¸¸æƒ…å†µä¸‹ï¼Œffmpeg ä¼šè¢«è‡ªåŠ¨ä¸‹è½½ï¼Œå¹¶ä¸”ä¼šè¢«è‡ªåŠ¨æ£€æµ‹åˆ°ã€‚\n    # ä½†æ˜¯å¦‚æœä½ çš„ç¯å¢ƒæœ‰é—®é¢˜ï¼Œæ— æ³•è‡ªåŠ¨ä¸‹è½½ï¼Œå¯èƒ½ä¼šé‡åˆ°å¦‚ä¸‹é”™è¯¯ï¼š\n    #   RuntimeError: No ffmpeg exe could be found.\n    #   Install ffmpeg on your system, or set the IMAGEIO_FFMPEG_EXE environment variable.\n    # æ­¤æ—¶ä½ å¯ä»¥æ‰‹åŠ¨ä¸‹è½½ ffmpeg å¹¶è®¾ç½® ffmpeg_pathï¼Œä¸‹è½½åœ°å€ï¼šhttps://www.gyan.dev/ffmpeg/builds/\n\n    # ffmpeg_path = \"C:\\\\Users\\\\harry\\\\Downloads\\\\ffmpeg.exe\"\n    #########################################################################################\n\n    # å½“è§†é¢‘ç”ŸæˆæˆåŠŸåï¼ŒAPIæœåŠ¡æä¾›çš„è§†é¢‘ä¸‹è½½æ¥å…¥ç‚¹ï¼Œé»˜è®¤ä¸ºå½“å‰æœåŠ¡çš„åœ°å€å’Œç›‘å¬ç«¯å£\n    # æ¯”å¦‚ http://127.0.0.1:8080/tasks/6357f542-a4e1-46a1-b4c9-bf3bd0df5285/final-1.mp4\n    # å¦‚æœä½ éœ€è¦ä½¿ç”¨åŸŸåå¯¹å¤–æä¾›æœåŠ¡ï¼ˆä¸€èˆ¬ä¼šç”¨nginxåšä»£ç†ï¼‰ï¼Œåˆ™å¯ä»¥è®¾ç½®ä¸ºä½ çš„åŸŸå\n    # æ¯”å¦‚ https://xxxx.com/tasks/6357f542-a4e1-46a1-b4c9-bf3bd0df5285/final-1.mp4\n    # endpoint=\"https://xxxx.com\"\n\n    # When the video is successfully generated, the API service provides a download endpoint for the video, defaulting to the service's current address and listening port.\n    # For example, http://127.0.0.1:8080/tasks/6357f542-a4e1-46a1-b4c9-bf3bd0df5285/final-1.mp4\n    # If you need to provide the service externally using a domain name (usually done with nginx as a proxy), you can set it to your domain name.\n    # For example, https://xxxx.com/tasks/6357f542-a4e1-46a1-b4c9-bf3bd0df5285/final-1.mp4\n    # endpoint=\"https://xxxx.com\"\n    endpoint=\"\"\n\n\n    # Video material storage location\n    # material_directory = \"\"                    # Indicates that video materials will be downloaded to the default folder, the default folder is ./storage/cache_videos under the current project\n    # material_directory = \"/user/harry/videos\"  # Indicates that video materials will be downloaded to a specified folder\n    # material_directory = \"task\"                # Indicates that video materials will be downloaded to the current task's folder, this method does not allow sharing of already downloaded video materials\n\n    # è§†é¢‘ç´ æå­˜æ”¾ä½ç½®\n    # material_directory = \"\"                    #è¡¨ç¤ºå°†è§†é¢‘ç´ æä¸‹è½½åˆ°é»˜è®¤çš„æ–‡ä»¶å¤¹ï¼Œé»˜è®¤æ–‡ä»¶å¤¹ä¸ºå½“å‰é¡¹ç›®ä¸‹çš„ ./storage/cache_videos\n    # material_directory = \"/user/harry/videos\"  #è¡¨ç¤ºå°†è§†é¢‘ç´ æä¸‹è½½åˆ°æŒ‡å®šçš„æ–‡ä»¶å¤¹ä¸­\n    # material_directory = \"task\"                #è¡¨ç¤ºå°†è§†é¢‘ç´ æä¸‹è½½åˆ°å½“å‰ä»»åŠ¡çš„æ–‡ä»¶å¤¹ä¸­ï¼Œè¿™ç§æ–¹å¼æ— æ³•å…±äº«å·²ç»ä¸‹è½½çš„è§†é¢‘ç´ æ\n\n    material_directory = \"\"\n\n    # ç”¨äºä»»åŠ¡çš„çŠ¶æ€ç®¡ç†\n    enable_redis = false\n    redis_host = \"localhost\"\n    redis_port = 6379\n    redis_db = 0\n    redis_password = \"\"\n\n    # æ–‡ç”Ÿè§†é¢‘æ—¶çš„æœ€å¤§å¹¶å‘ä»»åŠ¡æ•°\n    max_concurrent_tasks = 5\n\n    # webuiç•Œé¢æ˜¯å¦æ˜¾ç¤ºé…ç½®é¡¹\n    hide_config = false\n\n\n[whisper]\n    # Only effective when subtitle_provider is \"whisper\"\n\n    # Run on GPU with FP16\n    # model = WhisperModel(model_size, device=\"cuda\", compute_type=\"float16\")\n\n    # Run on GPU with INT8\n    # model = WhisperModel(model_size, device=\"cuda\", compute_type=\"int8_float16\")\n\n    # Run on CPU with INT8\n    # model = WhisperModel(model_size, device=\"cpu\", compute_type=\"int8\")\n\n    # recommended model_size: \"large-v3\"\n    model_size=\"faster-whisper-large-v2\"\n    # å¦‚æœè¦ä½¿ç”¨ GPUï¼Œè¯·è®¾ç½® device=â€œcudaâ€\n    device=\"CPU\"\n    compute_type=\"int8\"\n\n\n[proxy]\n    ### Use a proxy to access the Pexels API\n    ### Format: \"http://<username>:<password>@<proxy>:<port>\"\n    ### Example: \"http://user:pass@proxy:1234\"\n    ### Doc: https://requests.readthedocs.io/en/latest/user/advanced/#proxies\n\n    http = \"http://127.0.0.1:7890\"\n    https = \"http://127.0.0.1:7890\"\n\n[azure]\n    # Azure Speech API Key\n    # Get your API key at https://portal.azure.com/#view/Microsoft_Azure_ProjectOxford/CognitiveServicesHub/~/SpeechServices\n    speech_key=\"\"\n    speech_region=\"\"\n\n[frames]\n    skip_seconds = 0\n    # thresholdï¼ˆå·®å¼‚é˜ˆå€¼ï¼‰ç”¨äºåˆ¤æ–­ä¸¤ä¸ªè¿ç»­å¸§ä¹‹é—´æ˜¯å¦å‘ç”Ÿäº†åœºæ™¯åˆ‡æ¢\n    # è¾ƒå°çš„é˜ˆå€¼ï¼ˆå¦‚ 20ï¼‰ï¼šæ›´æ•æ„Ÿï¼Œèƒ½æ•æ‰åˆ°ç»†å¾®çš„åœºæ™¯å˜åŒ–ï¼Œä½†å¯èƒ½ä¼šè¯¯åˆ¤ï¼Œå…³é”®å¸§å›¾ç‰‡æ›´å¤š\n    # è¾ƒå¤§çš„é˜ˆå€¼ï¼ˆå¦‚ 40ï¼‰ï¼šæ›´ä¿å®ˆï¼Œåªæ•æ‰æ˜æ˜¾çš„åœºæ™¯åˆ‡æ¢ï¼Œä½†å¯èƒ½ä¼šæ¼æ‰æ¸å˜åœºæ™¯ï¼Œå…³é”®å¸§å›¾ç‰‡æ›´å°‘\n    # é»˜è®¤å€¼ 30ï¼šåœ¨å®è·µä¸­æ˜¯ä¸€ä¸ªæ¯”è¾ƒå¹³è¡¡çš„é€‰æ‹©\n    threshold = 30\n    version = \"v2\"\n    # å¤§æ¨¡å‹å•æ¬¡å¤„ç†çš„å…³é”®å¸§æ•°é‡\n    vision_batch_size = 5\n"
        },
        {
          "name": "docker-compose.yml",
          "type": "blob",
          "size": 0.7216796875,
          "content": "x-common: &common\n  build:\n    context: .\n    dockerfile: Dockerfile\n  image: linyq1/narratoai:latest\n  volumes:\n    - ./:/NarratoAI\n  environment:\n    - VPN_PROXY_URL=http://host.docker.internal:7890\n    - PYTHONUNBUFFERED=1\n    - PYTHONMALLOC=malloc\n    - OPENCV_OPENCL_RUNTIME=disabled\n    - OPENCV_CPU_DISABLE=0\n  restart: always\n  mem_limit: 4g\n  mem_reservation: 2g\n  memswap_limit: 6g\n  cpus: 2.0\n  cpu_shares: 1024\n\nservices:\n  webui:\n    <<: *common\n    container_name: webui\n    ports:\n      - \"8501:8501\"\n    command: [\"webui\"]\n    logging:\n      driver: \"json-file\"\n      options:\n        max-size: \"200m\"\n        max-file: \"3\"\n    tmpfs:\n      - /tmp:size=1G\n    ulimits:\n      nofile:\n        soft: 65536\n        hard: 65536\n"
        },
        {
          "name": "docker-entrypoint.sh",
          "type": "blob",
          "size": 0.189453125,
          "content": "#!/bin/bash\nset -e\n\nif [ \"$1\" = \"webui\" ]; then\n    exec streamlit run webui.py --browser.serverAddress=127.0.0.1 --server.enableCORS=True --browser.gatherUsageStats=False\nelse\n    exec \"$@\"\nfi "
        },
        {
          "name": "docker",
          "type": "tree",
          "content": null
        },
        {
          "name": "docs",
          "type": "tree",
          "content": null
        },
        {
          "name": "main.py",
          "type": "blob",
          "size": 0.5009765625,
          "content": "import os\nimport uvicorn\nfrom loguru import logger\n\nfrom app.config import config\n\nif __name__ == \"__main__\":\n    logger.info(\n        \"start server, docs: http://127.0.0.1:\" + str(config.listen_port) + \"/docs\"\n    )\n    os.environ[\"HTTP_PROXY\"] = config.proxy.get(\"http\")\n    os.environ[\"HTTPS_PROXY\"] = config.proxy.get(\"https\")\n    uvicorn.run(\n        app=\"app.asgi:app\",\n        host=config.listen_host,\n        port=config.listen_port,\n        reload=config.reload_debug,\n        log_level=\"warning\",\n    )\n"
        },
        {
          "name": "release-notes.md",
          "type": "blob",
          "size": 1.166015625,
          "content": "# Release Notes\n\n## Latest Changes\n\n* Dev-0.3.9. PR [#73](https://github.com/linyqh/NarratoAI/pull/73) by [@linyqh](https://github.com/linyqh).\n* 0.3.9 ç‰ˆæœ¬å‘å¸ƒ. PR [#71](https://github.com/linyqh/NarratoAI/pull/71) by [@linyqh](https://github.com/linyqh).\n* docs: add Japanese README. PR [#66](https://github.com/linyqh/NarratoAI/pull/66) by [@eltociear](https://github.com/eltociear).\n* docs: æµ‹è¯• release 2. PR [#62](https://github.com/linyqh/NarratoAI/pull/62) by [@linyqh](https://github.com/linyqh).\n* docs: æµ‹è¯• release. PR [#61](https://github.com/linyqh/NarratoAI/pull/61) by [@linyqh](https://github.com/linyqh).\n* docs: æµ‹è¯•commit. PR [#60](https://github.com/linyqh/NarratoAI/pull/60) by [@linyqh](https://github.com/linyqh).\n* Dev. PR [#59](https://github.com/linyqh/NarratoAI/pull/59) by [@linyqh](https://github.com/linyqh).\n* 0.2.0æ–°ç‰ˆé¢„å‘å¸ƒ. PR [#37](https://github.com/linyqh/NarratoAI/pull/37) by [@linyqh](https://github.com/linyqh).\n* v0.3.6. PR [#58](https://github.com/linyqh/NarratoAI/pull/58) by [@linyqh](https://github.com/linyqh).\n* 0.3.4 ä¿®æ”¹å„ç§bug. PR [#49](https://github.com/linyqh/NarratoAI/pull/49) by [@linyqh](https://github.com/linyqh).\n"
        },
        {
          "name": "requirements.txt",
          "type": "blob",
          "size": 0.7998046875,
          "content": "requests~=2.31.0\nmoviepy==2.0.0.dev2\nfaster-whisper~=1.0.1\nuvicorn~=0.27.1\nfastapi~=0.115.4\ntomli~=2.0.1\nstreamlit~=1.40.0\nloguru~=0.7.2\naiohttp~=3.10.10\nurllib3~=2.2.1\npydantic~=2.6.3\ng4f~=0.3.0.4\ndashscope~=1.15.0\ngoogle.generativeai>=0.8.3\npython-multipart~=0.0.9\nredis==5.0.3\nopencv-python~=4.10.0.84\n# for azure speech\n# https://techcommunity.microsoft.com/t5/ai-azure-ai-services-blog/9-more-realistic-ai-voices-for-conversations-now-generally/ba-p/4099471\nazure-cognitiveservices-speech~=1.37.0\ngit-changelog~=2.5.2\nwatchdog==5.0.2\npydub==0.25.1\npsutil>=5.9.0\nopencv-python~=4.10.0.84\nscikit-learn~=1.5.2\ngoogle-generativeai~=0.8.3\npillow==10.3.0\npython-dotenv~=1.0.1\nopenai~=1.53.0\ntqdm>=4.66.6\ntenacity>=9.0.0\ntiktoken==0.8.0\nyt-dlp==2024.11.18\npysrt==1.1.2\nhttpx==0.27.2\ntransformers==4.47.0\nedge-tts==6.1.19\n"
        },
        {
          "name": "resource",
          "type": "tree",
          "content": null
        },
        {
          "name": "video_pipeline.py",
          "type": "blob",
          "size": 6.9462890625,
          "content": "import requests\nimport json\nimport os\nimport time\nfrom typing import Dict, Any\n\nclass VideoPipeline:\n    def __init__(self, base_url: str = \"http://127.0.0.1:8080\"):\n        self.base_url = base_url\n        \n    def download_video(self, url: str, resolution: str = \"1080p\", \n                      output_format: str = \"mp4\", rename: str = None) -> Dict[str, Any]:\n        \"\"\"ä¸‹è½½è§†é¢‘çš„ç¬¬ä¸€æ­¥\"\"\"\n        endpoint = f\"{self.base_url}/api/v2/youtube/download\"\n        payload = {\n            \"url\": url,\n            \"resolution\": resolution,\n            \"output_format\": output_format,\n            \"rename\": rename or time.strftime(\"%Y-%m-%d\")\n        }\n        \n        response = requests.post(endpoint, json=payload)\n        response.raise_for_status()\n        return response.json()\n    \n    def generate_script(self, video_path: str, skip_seconds: int = 0,\n                       threshold: int = 30, vision_batch_size: int = 10,\n                       vision_llm_provider: str = \"gemini\") -> Dict[str, Any]:\n        \"\"\"ç”Ÿæˆè„šæœ¬çš„ç¬¬äºŒæ­¥\"\"\"\n        endpoint = f\"{self.base_url}/api/v2/scripts/generate\"\n        payload = {\n            \"video_path\": video_path,\n            \"skip_seconds\": skip_seconds,\n            \"threshold\": threshold,\n            \"vision_batch_size\": vision_batch_size,\n            \"vision_llm_provider\": vision_llm_provider\n        }\n        \n        response = requests.post(endpoint, json=payload)\n        response.raise_for_status()\n        return response.json()\n    \n    def crop_video(self, video_path: str, script: list) -> Dict[str, Any]:\n        \"\"\"å‰ªè¾‘è§†é¢‘çš„ç¬¬ä¸‰æ­¥\"\"\"\n        endpoint = f\"{self.base_url}/api/v2/scripts/crop\"\n        payload = {\n            \"video_origin_path\": video_path,\n            \"video_script\": script\n        }\n        \n        response = requests.post(endpoint, json=payload)\n        response.raise_for_status()\n        return response.json()\n    \n    def generate_final_video(self, task_id: str, video_path: str, \n                           script_path: str, script: list, subclip_videos: Dict[str, str], voice_name: str) -> Dict[str, Any]:\n        \"\"\"ç”Ÿæˆæœ€ç»ˆè§†é¢‘çš„ç¬¬å››æ­¥\"\"\"\n        endpoint = f\"{self.base_url}/api/v2/scripts/start-subclip\"\n        \n        request_data = {\n            \"video_clip_json\": script,\n            \"video_clip_json_path\": script_path,\n            \"video_origin_path\": video_path,\n            \"video_aspect\": \"16:9\",\n            \"video_language\": \"zh-CN\",\n            \"voice_name\": voice_name,\n            \"voice_volume\": 1,\n            \"voice_rate\": 1.2,\n            \"voice_pitch\": 1,\n            \"bgm_name\": \"random\",\n            \"bgm_type\": \"random\",\n            \"bgm_file\": \"\",\n            \"bgm_volume\": 0.3,\n            \"subtitle_enabled\": True,\n            \"subtitle_position\": \"bottom\",\n            \"font_name\": \"STHeitiMedium.ttc\",\n            \"text_fore_color\": \"#FFFFFF\",\n            \"text_background_color\": \"transparent\",\n            \"font_size\": 75,\n            \"stroke_color\": \"#000000\",\n            \"stroke_width\": 1.5,\n            \"custom_position\": 70,\n            \"n_threads\": 8\n        }\n        \n        payload = {\n            \"request\": request_data,\n            \"subclip_videos\": subclip_videos\n        }\n        \n        params = {\"task_id\": task_id}\n        response = requests.post(endpoint, params=params, json=payload)\n        response.raise_for_status()\n        return response.json()\n    \n    def save_script_to_json(self, script: list, script_path: str) -> str:\n        \"\"\"ä¿å­˜è„šæœ¬åˆ°jsonæ–‡ä»¶\"\"\"        \n        try:\n            with open(script_path, 'w', encoding='utf-8') as f:\n                json.dump(script, f, ensure_ascii=False, indent=2)\n            print(f\"è„šæœ¬å·²ä¿å­˜åˆ°: {script_path}\")\n            return script_path\n        except Exception as e:\n            print(f\"ä¿å­˜è„šæœ¬å¤±è´¥: {str(e)}\")\n            raise\n    \n    def run_pipeline(self, task_id: str, script_name: str, youtube_url: str, video_name: str=\"null\", skip_seconds: int = 0, threshold: int = 30, vision_batch_size: int = 10, vision_llm_provider: str = \"gemini\", voice_name: str = \"zh-CN-YunjianNeural\") -> Dict[str, Any]:\n        \"\"\"è¿è¡Œå®Œæ•´çš„pipeline\"\"\"\n        try:\n            current_path = os.path.dirname(os.path.abspath(__file__))\n            video_path = os.path.join(current_path, \"resource\", \"videos\", f\"{video_name}.mp4\")\n            # åˆ¤æ–­è§†é¢‘æ˜¯å¦å­˜åœ¨\n            if not os.path.exists(video_path):\n                # 1. ä¸‹è½½è§†é¢‘\n                print(f\"è§†é¢‘ä¸å­˜åœ¨, å¼€å§‹ä¸‹è½½è§†é¢‘: {video_path}\")\n                download_result = self.download_video(url=youtube_url, resolution=\"1080p\", output_format=\"mp4\", rename=video_name)\n                video_path = download_result[\"output_path\"]\n            else:\n                print(f\"è§†é¢‘å·²å­˜åœ¨: {video_path}\")\n            \n            # 2. åˆ¤æ–­script_nameæ˜¯å¦å­˜åœ¨\n            # 2.1.1 æ‹¼æ¥è„šæœ¬è·¯å¾„ NarratoAI/resource/scripts\n            script_path = os.path.join(current_path, \"resource\", \"scripts\", script_name)\n            if os.path.exists(script_path):\n                script = json.load(open(script_path, \"r\", encoding=\"utf-8\"))\n            else:\n                # 2.1.2 ç”Ÿæˆè„šæœ¬\n                print(\"å¼€å§‹ç”Ÿæˆè„šæœ¬...\")\n                script_result = self.generate_script(video_path=video_path, skip_seconds=skip_seconds, threshold=threshold, vision_batch_size=vision_batch_size, vision_llm_provider=vision_llm_provider)\n                script = script_result[\"script\"]\n            \n            # 2.2 ä¿å­˜è„šæœ¬åˆ°jsonæ–‡ä»¶\n            print(\"ä¿å­˜è„šæœ¬åˆ°jsonæ–‡ä»¶...\")\n            self.save_script_to_json(script=script, script_path=script_path)\n            \n            # 3. å‰ªè¾‘è§†é¢‘\n            print(\"å¼€å§‹å‰ªè¾‘è§†é¢‘...\")\n            crop_result = self.crop_video(video_path=video_path, script=script)\n            subclip_videos = crop_result[\"subclip_videos\"]\n            \n            # 4. ç”Ÿæˆæœ€ç»ˆè§†é¢‘\n            print(\"å¼€å§‹ç”Ÿæˆæœ€ç»ˆè§†é¢‘...\")\n            self.generate_final_video(\n                task_id=task_id,\n                video_path=video_path,\n                script_path=script_path,\n                script=script,\n                subclip_videos=subclip_videos,\n                voice_name=voice_name\n            )\n            \n            return {\n                \"status\": \"ç­‰å¾…å¼‚æ­¥ç”Ÿæˆè§†é¢‘\",\n                \"path\": os.path.join(current_path, \"storage\", \"tasks\", task_id)\n            }\n            \n        except Exception as e:\n            return {\n                \"status\": \"error\",\n                \"error\": str(e)\n            }\n\n\n# ä½¿ç”¨ç¤ºä¾‹\nif __name__ == \"__main__\":\n    pipeline = VideoPipeline()\n    result = pipeline.run_pipeline(\n        task_id=\"test_111901\",\n        script_name=\"test.json\",\n        youtube_url=\"https://www.youtube.com/watch?v=vLJ7Yed6FQ4\",\n        video_name=\"2024-11-19-01\",\n        skip_seconds=50,\n        threshold=35,\n        vision_batch_size=10,\n        vision_llm_provider=\"gemini\",\n        voice_name=\"zh-CN-YunjianNeural\",\n    )\n    print(result)\n"
        },
        {
          "name": "webui.py",
          "type": "blob",
          "size": 6.6865234375,
          "content": "import streamlit as st\nimport os\nimport sys\nfrom uuid import uuid4\nfrom app.config import config\nfrom webui.components import basic_settings, video_settings, audio_settings, subtitle_settings, script_settings, review_settings, merge_settings, system_settings\nfrom webui.utils import cache, file_utils\nfrom app.utils import utils\nfrom app.models.schema import VideoClipParams, VideoAspect\nfrom webui.utils.performance import PerformanceMonitor\n\n# åˆå§‹åŒ–é…ç½® - å¿…é¡»æ˜¯ç¬¬ä¸€ä¸ª Streamlit å‘½ä»¤\nst.set_page_config(\n    page_title=\"NarratoAI\",\n    page_icon=\"ğŸ“½ï¸\",\n    layout=\"wide\",\n    initial_sidebar_state=\"auto\",\n    menu_items={\n        \"Report a bug\": \"https://github.com/linyqh/NarratoAI/issues\",\n        'About': f\"# NarratoAI:sunglasses: ğŸ“½ï¸ \\n #### Version: v{config.project_version} \\n \"\n                 f\"è‡ªåŠ¨åŒ–å½±è§†è§£è¯´è§†é¢‘è¯¦æƒ…è¯·ç§»æ­¥ï¼šhttps://github.com/linyqh/NarratoAI\"\n    },\n)\n\n# è®¾ç½®é¡µé¢æ ·å¼\nhide_streamlit_style = \"\"\"\n<style>#root > div:nth-child(1) > div > div > div > div > section > div {padding-top: 6px; padding-bottom: 10px; padding-left: 20px; padding-right: 20px;}</style>\n\"\"\"\nst.markdown(hide_streamlit_style, unsafe_allow_html=True)\n\ndef init_log():\n    \"\"\"åˆå§‹åŒ–æ—¥å¿—é…ç½®\"\"\"\n    from loguru import logger\n    logger.remove()\n    _lvl = \"DEBUG\"\n\n    def format_record(record):\n        # å¢åŠ æ›´å¤šéœ€è¦è¿‡æ»¤çš„è­¦å‘Šæ¶ˆæ¯\n        ignore_messages = [\n            \"Examining the path of torch.classes raised\",\n            \"torch.cuda.is_available()\",\n            \"CUDA initialization\"\n        ]\n        \n        for msg in ignore_messages:\n            if msg in record[\"message\"]:\n                return \"\"\n            \n        file_path = record[\"file\"].path\n        relative_path = os.path.relpath(file_path, config.root_dir)\n        record[\"file\"].path = f\"./{relative_path}\"\n        record['message'] = record['message'].replace(config.root_dir, \".\")\n\n        _format = '<green>{time:%Y-%m-%d %H:%M:%S}</> | ' + \\\n                  '<level>{level}</> | ' + \\\n                  '\"{file.path}:{line}\":<blue> {function}</> ' + \\\n                  '- <level>{message}</>' + \"\\n\"\n        return _format\n\n    # ä¼˜åŒ–æ—¥å¿—è¿‡æ»¤å™¨\n    def log_filter(record):\n        ignore_messages = [\n            \"Examining the path of torch.classes raised\",\n            \"torch.cuda.is_available()\",\n            \"CUDA initialization\"\n        ]\n        return not any(msg in record[\"message\"] for msg in ignore_messages)\n\n    logger.add(\n        sys.stdout,\n        level=_lvl,\n        format=format_record,\n        colorize=True,\n        filter=log_filter\n    )\n\ndef init_global_state():\n    \"\"\"åˆå§‹åŒ–å…¨å±€çŠ¶æ€\"\"\"\n    if 'video_clip_json' not in st.session_state:\n        st.session_state['video_clip_json'] = []\n    if 'video_plot' not in st.session_state:\n        st.session_state['video_plot'] = ''\n    if 'ui_language' not in st.session_state:\n        st.session_state['ui_language'] = config.ui.get(\"language\", utils.get_system_locale())\n    if 'subclip_videos' not in st.session_state:\n        st.session_state['subclip_videos'] = {}\n\ndef tr(key):\n    \"\"\"ç¿»è¯‘å‡½æ•°\"\"\"\n    i18n_dir = os.path.join(os.path.dirname(__file__), \"webui\", \"i18n\")\n    locales = utils.load_locales(i18n_dir)\n    loc = locales.get(st.session_state['ui_language'], {})\n    return loc.get(\"Translation\", {}).get(key, key)\n\ndef render_generate_button():\n    \"\"\"æ¸²æŸ“ç”ŸæˆæŒ‰é’®å’Œå¤„ç†é€»è¾‘\"\"\"\n    if st.button(tr(\"Generate Video\"), use_container_width=True, type=\"primary\"):\n        try:\n            from app.services import task as tm\n            import torch\n            \n            # é‡ç½®æ—¥å¿—å®¹å™¨å’Œè®°å½•\n            log_container = st.empty()\n            log_records = []\n\n            def log_received(msg):\n                with log_container:\n                    log_records.append(msg)\n                    st.code(\"\\n\".join(log_records))\n\n            from loguru import logger\n            logger.add(log_received)\n\n            config.save_config()\n            task_id = st.session_state.get('task_id')\n\n            if not task_id:\n                st.error(tr(\"è¯·å…ˆè£å‰ªè§†é¢‘\"))\n                return\n            if not st.session_state.get('video_clip_json_path'):\n                st.error(tr(\"è„šæœ¬æ–‡ä»¶ä¸èƒ½ä¸ºç©º\"))\n                return\n            if not st.session_state.get('video_origin_path'):\n                st.error(tr(\"è§†é¢‘æ–‡ä»¶ä¸èƒ½ä¸ºç©º\"))\n                return\n\n            st.toast(tr(\"ç”Ÿæˆè§†é¢‘\"))\n            logger.info(tr(\"å¼€å§‹ç”Ÿæˆè§†é¢‘\"))\n\n            # è·å–æ‰€æœ‰å‚æ•°\n            script_params = script_settings.get_script_params()\n            video_params = video_settings.get_video_params()\n            audio_params = audio_settings.get_audio_params()\n            subtitle_params = subtitle_settings.get_subtitle_params()\n\n            # åˆå¹¶æ‰€æœ‰å‚æ•°\n            all_params = {\n                **script_params,\n                **video_params,\n                **audio_params,\n                **subtitle_params\n            }\n\n            # åˆ›å»ºå‚æ•°å¯¹è±¡\n            params = VideoClipParams(**all_params)\n\n            result = tm.start_subclip(\n                task_id=task_id,\n                params=params,\n                subclip_path_videos=st.session_state['subclip_videos']\n            )\n\n            video_files = result.get(\"videos\", [])\n            st.success(tr(\"è§†ç”Ÿæˆå®Œæˆ\"))\n            \n            try:\n                if video_files:\n                    player_cols = st.columns(len(video_files) * 2 + 1)\n                    for i, url in enumerate(video_files):\n                        player_cols[i * 2 + 1].video(url)\n            except Exception as e:\n                logger.error(f\"æ’­æ”¾è§†é¢‘å¤±è´¥: {e}\")\n\n            file_utils.open_task_folder(config.root_dir, task_id)\n            logger.info(tr(\"è§†é¢‘ç”Ÿæˆå®Œæˆ\"))\n\n        finally:\n            PerformanceMonitor.cleanup_resources()\n\ndef main():\n    \"\"\"ä¸»å‡½æ•°\"\"\"\n    init_log()\n    init_global_state()\n    utils.init_resources()\n    \n    st.title(f\"NarratoAI :sunglasses:ğŸ“½ï¸\")\n    st.write(tr(\"Get Help\"))\n    \n    # æ¸²æŸ“åŸºç¡€è®¾ç½®é¢æ¿\n    basic_settings.render_basic_settings(tr)\n    # æ¸²æŸ“åˆå¹¶è®¾ç½®\n    merge_settings.render_merge_settings(tr)\n\n    # æ¸²æŸ“ä¸»é¢æ¿\n    panel = st.columns(3)\n    with panel[0]:\n        script_settings.render_script_panel(tr)\n    with panel[1]:\n        video_settings.render_video_panel(tr)\n        audio_settings.render_audio_panel(tr)\n    with panel[2]:\n        subtitle_settings.render_subtitle_panel(tr)\n        # æ¸²æŸ“ç³»ç»Ÿè®¾ç½®é¢æ¿\n        system_settings.render_system_panel(tr)\n    \n    # æ¸²æŸ“è§†é¢‘å®¡æŸ¥é¢æ¿\n    review_settings.render_review_panel(tr)\n    \n    # æ¸²æŸ“ç”ŸæˆæŒ‰é’®å’Œå¤„ç†é€»è¾‘\n    render_generate_button()\n\nif __name__ == \"__main__\":\n    main()\n"
        },
        {
          "name": "webui.txt",
          "type": "blob",
          "size": 30.255859375,
          "content": "@echo off\nset CURRENT_DIR=%CD%\necho ***** Current directory: %CURRENT_DIR% *****\nset PYTHONPATH=%CURRENT_DIR%\n\nset \"vpn_proxy_url=%http://127.0.0.1:7890%\"\n\n:: ä½¿ç”¨VPNä»£ç†è¿›è¡Œä¸€äº›æ“ä½œï¼Œä¾‹å¦‚é€šè¿‡ä»£ç†ä¸‹è½½æ–‡ä»¶\nset \"http_proxy=%vpn_proxy_url%\"\nset \"https_proxy=%vpn_proxy_url%\"\n\n@echo off\nsetlocal enabledelayedexpansion\n\nrem åˆ›å»ºé“¾æ¥å’Œè·¯å¾„çš„æ•°ç»„\nset \"urls_paths[0]=https://zenodo.org/records/13293144/files/MicrosoftYaHeiBold.ttc|.\\resource\\fonts\"\nset \"urls_paths[1]=https://zenodo.org/records/13293144/files/MicrosoftYaHeiNormal.ttc|.\\resource\\fonts\"\nset \"urls_paths[2]=https://zenodo.org/records/13293144/files/STHeitiLight.ttc|.\\resource\\fonts\"\nset \"urls_paths[3]=https://zenodo.org/records/13293144/files/STHeitiMedium.ttc|.\\resource\\fonts\"\nset \"urls_paths[4]=https://zenodo.org/records/13293144/files/UTM%20Kabel%20KT.ttf|.\\resource\\fonts\"\nset \"urls_paths[5]=https://zenodo.org/records/14167125/files/test.mp4|.\\resource\\videos\"\nset \"urls_paths[6]=https://zenodo.org/records/13293150/files/output000.mp3|.\\resource\\songs\"\nset \"urls_paths[7]=https://zenodo.org/records/13293150/files/output001.mp3|.\\resource\\songs\"\nset \"urls_paths[8]=https://zenodo.org/records/13293150/files/output002.mp3|.\\resource\\songs\"\nset \"urls_paths[9]=https://zenodo.org/records/13293150/files/output003.mp3|.\\resource\\songs\"\nset \"urls_paths[10]=https://zenodo.org/records/13293150/files/output004.mp3|.\\resource\\songs\"\nset \"urls_paths[11]=https://zenodo.org/records/13293150/files/output005.mp3|.\\resource\\songs\"\nset \"urls_paths[12]=https://zenodo.org/records/13293150/files/output006.mp3|.\\resource\\songs\"\nset \"urls_paths[13]=https://zenodo.org/records/13293150/files/output007.mp3|.\\resource\\songs\"\nset \"urls_paths[14]=https://zenodo.org/records/13293150/files/output008.mp3|.\\resource\\songs\"\nset \"urls_paths[15]=https://zenodo.org/records/13293150/files/output009.mp3|.\\resource\\songs\"\nset \"urls_paths[16]=https://zenodo.org/records/13293150/files/output010.mp3|.\\resource\\songs\"\n\nrem å¾ªç¯ä¸‹è½½æ‰€æœ‰æ–‡ä»¶å¹¶ä¿å­˜åˆ°æŒ‡å®šè·¯å¾„\nfor /L %%i in (0,1,16) do (\n    for /f \"tokens=1,2 delims=|\" %%a in (\"!urls_paths[%%i]!\") do (\n        if not exist \"%%b\" mkdir \"%%b\"\n        echo æ­£åœ¨ä¸‹è½½ %%a åˆ° %%b\n        curl -o \"%%b\\%%~nxa\" %%a\n    )\n)\n\necho æ‰€æœ‰æ–‡ä»¶å·²æˆåŠŸä¸‹è½½åˆ°æŒ‡å®šç›®å½•\nendlocal\npause\n\n\nrem set HF_ENDPOINT=https://hf-mirror.com\nstreamlit run webui.py --browser.serverAddress=\"127.0.0.1\" --server.enableCORS=True  --server.maxUploadSize=2048 --browser.gatherUsageStats=False\n\nè¯·æ±‚0ï¼š\ncurl -X 'POST' \\\n  'http://127.0.0.1:8080/api/v2/youtube/download' \\\n  -H 'accept: application/json' \\\n  -H 'Content-Type: application/json' \\\n  -d '{\n  \"url\": \"https://www.youtube.com/watch?v=Kenm35gdqtk\",\n  \"resolution\": \"1080p\",\n  \"output_format\": \"mp4\",\n  \"rename\": \"2024-11-19\"\n}'\n{\n  \"url\": \"https://www.youtube.com/watch?v=Kenm35gdqtk\",\n  \"resolution\": \"1080p\",\n  \"output_format\": \"mp4\",\n  \"rename\": \"2024-11-19\"\n}\n\nè¯·æ±‚1ï¼š\ncurl -X 'POST' \\\n  'http://127.0.0.1:8080/api/v2/scripts/generate' \\\n  -H 'accept: application/json' \\\n  -H 'Content-Type: application/json' \\\n  -d '{\n  \"video_path\": \"E:\\\\projects\\\\NarratoAI\\\\resource\\\\videos\\\\test.mp4\",\n  \"skip_seconds\": 0,\n  \"threshold\": 30,\n  \"vision_batch_size\": 10,\n  \"vision_llm_provider\": \"gemini\"\n}'\n{\n  \"video_path\": \"E:\\\\projects\\\\NarratoAI\\\\resource\\\\videos\\\\test.mp4\",\n  \"skip_seconds\": 0,\n  \"threshold\": 30,\n  \"vision_batch_size\": 10,\n  \"vision_llm_provider\": \"gemini\"\n}\n\nè¯·æ±‚2ï¼š\ncurl -X 'POST' \\\n  'http://127.0.0.1:8080/api/v2/scripts/crop' \\\n  -H 'accept: application/json' \\\n  -H 'Content-Type: application/json' \\\n  -d '{\n  \"video_origin_path\": \"E:\\\\projects\\\\NarratoAI\\\\resource\\\\videos\\\\test.mp4\",\n  \"video_script\": [\n    {\n      \"timestamp\": \"00:10-01:01\",\n      \"picture\": \"å¥½çš„ï¼Œä»¥ä¸‹æ˜¯è§†é¢‘ç”»é¢çš„å®¢è§‚æè¿°ï¼š\\n\\nè§†é¢‘å±•ç°ä¸€åç•™ç€èƒ¡é¡»çš„ç”·å­åœ¨æ£®æ—é‡ŒæŒ–æ˜ã€‚\\n\\nç”»é¢é¦–å…ˆå±•ç°ç”·å­ä»åæ–¹è§†è§’ï¼ŒèƒŒç€å†›ç»¿è‰²èƒŒåŒ…ï¼Œç©¿ç€å¡å…¶è‰²é•¿è£¤å’Œæ·±è‰²Tæ¤ï¼Œèµ°å‘ä¸€ä¸ªæ³¥åœŸæ–œå¡ã€‚èƒŒåŒ…ä¸Šä¼¼ä¹æœ‰ä¸€ä¸ªé•å¤´ã€‚\\n\\nä¸‹ä¸€ä¸ªé•œå¤´ç‰¹å†™å±•ç°äº†è¯¥èƒŒåŒ…ï¼Œä¸€ä¸ªé•å¤´ä»èƒŒåŒ…é‡Œä¼¸å‡ºæ¥ï¼ŒåŒ…é‡Œè¿˜æœ‰ä¸€äº›å…¶ä»–å·¥å…·ã€‚\\n\\nç„¶åï¼Œè§†é¢‘æ˜¾ç¤ºè¯¥ç”·å­ç”¨é•å¤´æŒ–æ˜æ³¥åœŸæ–œå¡ã€‚\\n\\næ¥ä¸‹æ¥æ˜¯ä¸€äº›è¿‘æ™¯é•œå¤´ï¼Œå±•ç°ç”·å­çš„é´å­åœ¨æ³¥åœŸä¸­è¡Œèµ°ï¼Œä»¥åŠç”·å­ç”¨æ‰‹æ¸…ç†æ³¥åœŸã€‚\\n\\nå…¶ä»–é•œå¤´ä»ä¸åŒè§’åº¦å±•ç°è¯¥ç”·å­åœ¨æŒ–æ˜ï¼ŒåŒ…æ‹¬ä»ä¾§é¢å’Œä¸Šæ–¹ã€‚\\n\\nå¯ä»¥çœ‹åˆ°ä»–ç”¨å·¥å…·æŒ–æ˜ï¼Œæ¸…ç†æ³¥åœŸï¼Œå¹¶æ£€æŸ¥æŒ–å‡ºçš„åœŸå£¤ã€‚\\n\\næœ€åï¼Œä¸€ä¸ªé•œå¤´å±•ç°äº†æŒ–å‡ºçš„åœŸå£¤çš„è´¨åœ°å’Œé¢œè‰²ã€‚\",\n      \"narration\": \"å¥½çš„ï¼Œæ¥ä¸‹æ¥å°±æ˜¯æˆ‘ä»¬è¿™ä½â€œèƒ¡é¡»å¤§ä¾ â€çš„ç²¾å½©å†’é™©äº†ï¼åªè§ä»–èƒŒç€å†›ç»¿è‰²çš„èƒŒåŒ…ï¼Œè¿ˆç€æ¯”æˆ‘ä¸Šç­è¿˜ä¸æƒ…æ„¿çš„æ­¥ä¼èµ°å‘é‚£æ³¥åœŸæ–œå¡ã€‚å“å‘€ï¼Œè¿™ä¸ªèƒŒåŒ…å¯çœŸæ˜¯ä¸ªå®è´ï¼Œé‡Œé¢è—ç€ä¸€æŠŠé•å¤´å’Œä¸€äº›å·¥å…·ï¼Œç®€ç›´åƒæ˜¯ä¸ªéšèº«æºå¸¦çš„â€œå»ºç­‘å·¥å…·ç®±â€ï¼ \\n\\nçœ‹ä»–æŒ¥èˆç€é•å¤´ï¼ŒæŒ–æ˜æ³¥åœŸçš„å§¿åŠ¿ï¼Œä»¿ä½›åœ¨è¿›è¡Œä¸€åœºâ€œæŒ–åœŸå¤§èµ›â€ï¼Œç»“æœå´æ¯”æˆ‘åšé¥­è¿˜è¦ç³Ÿç³•ã€‚æ³¥åœŸé£æ‰¬ä¸­ï¼Œä»–çš„é´å­ä¹Ÿæˆäº†â€œæ³¥å·´è‰ºæœ¯å®¶â€ã€‚æœ€åï¼Œé‚£å †è‰²æ³½å„å¼‚çš„åœŸå£¤å°±åƒä»–å¿ƒæƒ…çš„å†™ç…§â€”â€”äº”å½©æ–‘æ–“åˆç•¥æ˜¾æ··ä¹±ï¼çœŸæ˜¯ä¸€æ¬¡è®©äººæ§è…¹çš„å»ºé€ ä¹‹æ—…ï¼\",\n      \"OST\": 2,\n      \"new_timestamp\": \"00:00-00:51\"\n    },\n    {\n      \"timestamp\": \"01:07-01:53\",\n      \"picture\": \"å¥½çš„ï¼Œä»¥ä¸‹æ˜¯è§†é¢‘ç”»é¢çš„å®¢è§‚æè¿°ï¼š\\n\\nè§†é¢‘ä»¥ä¸€ç³»åˆ—æ£®æ—ç¯å¢ƒçš„é•œå¤´å¼€å¤´ã€‚\\n\\nç¬¬ä¸€ä¸ªé•œå¤´æ˜¯ä¸€ä¸ªç‰¹å†™é•œå¤´ï¼Œé•œå¤´ä¸­æ˜¾ç¤ºçš„æ˜¯ä¸€äº›å¸¦æœ‰æ°´æ»´çš„ç»¿è‰²å¶å­ã€‚\\n\\nç¬¬äºŒä¸ªé•œå¤´æ˜¾ç¤ºä¸€ä¸ªç•™ç€èƒ¡é¡»çš„ç”·å­åœ¨æ£®æ—ä¸­æŒ–æ˜ä¸€ä¸ªæ´ã€‚ ä»–è·ªåœ¨åœ°ä¸Šï¼Œç”¨å·¥å…·æŒ–åœŸã€‚\\n\\nç¬¬ä¸‰ä¸ªé•œå¤´æ˜¯ä¸€ä¸ªä¸­ç­‰é•œå¤´ï¼Œæ˜¾ç¤ºåŒä¸€ä¸ªäººååœ¨ä»–æŒ–å¥½çš„æ´è¾¹ä¼‘æ¯ã€‚\\n\\nç¬¬å››ä¸ªé•œå¤´æ˜¾ç¤ºè¯¥æ´çš„å†…éƒ¨ç»“æ„ï¼Œè¯¥æ´åœ¨æ ‘æ ¹å’Œåœ°é¢ä¹‹é—´ã€‚\\n\\nç¬¬äº”ä¸ªé•œå¤´æ˜¾ç¤ºè¯¥ç”·å­ç”¨æ–§å¤´ç æ ‘æã€‚\\n\\nç¬¬å…­ä¸ªé•œå¤´æ˜¾ç¤ºä¸€å †æ ‘ææ¨ªè·¨ä¸€ä¸ªæ³¥æ³çš„å°æ°´å‘ã€‚\\n\\nç¬¬ä¸ƒä¸ªé•œå¤´æ˜¾ç¤ºæ›´å¤šèŒ‚ç››çš„æ ‘å¶å’Œæ ‘æåœ¨é˜³å…‰ä¸‹ã€‚\\n\\nç¬¬å…«ä¸ªé•œå¤´æ˜¾ç¤ºæ›´å¤šèŒ‚ç››çš„æ ‘å¶å’Œæ ‘æã€‚\\n\\n\\n\",\n      \"narration\": \"æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬çš„â€œæŒ–åœŸå¤§å¸ˆâ€åˆå¼€å§‹äº†ä»–çš„æ£®æ—æ¢é™©ã€‚çœ‹è¿™é•œå¤´ï¼Œæ°´æ»´åœ¨å¶å­ä¸Šé—ªçƒï¼Œä»¿ä½›åœ¨è¯´ï¼šâ€œå¿«æ¥ï¼Œå¿«æ¥ï¼Œè¿™é‡Œæœ‰æ•…äº‹ï¼â€ä»–ä¸€è¾¹æŒ–æ´ï¼Œä¸€è¾¹åƒä¸ªæ–°æ‰‹å¨å¸ˆè¯•å›¾åˆ‡æ´‹è‘±â€”â€”æ¯ä¸€ä¸‹éƒ½å°å¿ƒç¿¼ç¿¼ï¼Œç”Ÿæ€•è‡ªå·±ä¸å°å¿ƒæŒ–å‡ºä¸ªâ€œå†å²é—å€â€ã€‚åä¸‹ä¼‘æ¯çš„æ—¶å€™ï¼Œè„¸ä¸Šçš„è¡¨æƒ…å°±åƒå‘ç°æ–°å¤§é™†ä¸€æ ·ï¼ç„¶åï¼Œä»–æ‹¿èµ·æ–§å¤´ç æ ‘æï¼Œç®€ç›´æ˜¯ç°ä»£ç‰ˆçš„â€œç¥é›•ä¾ ä¾£â€ï¼Œåªä¸è¿‡å¯¹è±¡æ˜¯æ ‘æœ¨ã€‚æœ€åï¼Œé‚£å †æ ‘ææ¶è¿‡æ³¥æ³çš„å°æ°´å‘ï¼Œä»¿ä½›åœ¨è¯´ï¼šâ€œæˆ‘å°±æ˜¯ä¸æ€•æ¹¿è„šçš„å‹‡å£«ï¼â€è¿™å°±æ˜¯æˆ‘ä»¬çš„å»ºé€ ä¹‹æ—…ï¼\",\n      \"OST\": 2,\n      \"new_timestamp\": \"00:51-01:37\"\n    }\n  ]\n}'\n{\n  \"video_origin_path\": \"E:\\\\projects\\\\NarratoAI\\\\resource\\\\videos\\\\test.mp4\",\n  \"video_script\": [\n    {\n      \"timestamp\": \"00:10-01:01\",\n      \"picture\": \"å¥½çš„ï¼Œä»¥ä¸‹æ˜¯è§†é¢‘ç”»é¢çš„å®¢è§‚æè¿°ï¼š\\n\\nè§†é¢‘å±•ç°ä¸€åç•™ç€èƒ¡é¡»çš„ç”·å­åœ¨æ£®æ—é‡ŒæŒ–æ˜ã€‚\\n\\nç”»é¢é¦–å…ˆå±•ç°ç”·å­ä»åæ–¹è§†è§’ï¼ŒèƒŒç€å†›ç»¿è‰²èƒŒåŒ…ï¼Œç©¿ç€å¡å…¶è‰²é•¿è£¤å’Œæ·±è‰²Tæ¤ï¼Œèµ°å‘ä¸€ä¸ªæ³¥åœŸæ–œå¡ã€‚èƒŒåŒ…ä¸Šä¼¼ä¹æœ‰ä¸€ä¸ªé•å¤´ã€‚\\n\\nä¸‹ä¸€ä¸ªé•œå¤´ç‰¹å†™å±•ç°äº†è¯¥èƒŒåŒ…ï¼Œä¸€ä¸ªé•å¤´ä»èƒŒåŒ…é‡Œä¼¸å‡ºæ¥ï¼ŒåŒ…é‡Œè¿˜æœ‰ä¸€äº›å…¶ä»–å·¥å…·ã€‚\\n\\nç„¶åï¼Œè§†é¢‘æ˜¾ç¤ºè¯¥ç”·å­ç”¨é•å¤´æŒ–æ˜æ³¥åœŸæ–œå¡ã€‚\\n\\næ¥ä¸‹æ¥æ˜¯ä¸€äº›è¿‘æ™¯é•œå¤´ï¼Œå±•ç°ç”·å­çš„é´å­åœ¨æ³¥åœŸä¸­è¡Œèµ°ï¼Œä»¥åŠç”·å­ç”¨æ‰‹æ¸…ç†æ³¥åœŸã€‚\\n\\nå…¶ä»–é•œå¤´ä»ä¸åŒè§’åº¦å±•ç°è¯¥ç”·å­åœ¨æŒ–æ˜ï¼ŒåŒ…æ‹¬ä»ä¾§é¢å’Œä¸Šæ–¹ã€‚\\n\\nå¯ä»¥çœ‹åˆ°ä»–ç”¨å·¥å…·æŒ–æ˜ï¼Œæ¸…ç†æ³¥åœŸï¼Œå¹¶æ£€æŸ¥æŒ–å‡ºçš„åœŸå£¤ã€‚\\n\\næœ€åï¼Œä¸€ä¸ªé•œå¤´å±•ç°äº†æŒ–å‡ºçš„åœŸå£¤çš„è´¨åœ°å’Œé¢œè‰²ã€‚\",\n      \"narration\": \"å¥½çš„ï¼Œæ¥ä¸‹æ¥å°±æ˜¯æˆ‘ä»¬è¿™ä½â€œèƒ¡é¡»å¤§ä¾ â€çš„ç²¾å½©å†’é™©äº†ï¼åªè§ä»–èƒŒç€å†›ç»¿è‰²çš„èƒŒåŒ…ï¼Œè¿ˆç€æ¯”æˆ‘ä¸Šç­è¿˜ä¸æƒ…æ„¿çš„æ­¥ä¼èµ°å‘é‚£æ³¥åœŸæ–œå¡ã€‚å“å‘€ï¼Œè¿™ä¸ªèƒŒåŒ…å¯çœŸæ˜¯ä¸ªå®è´ï¼Œé‡Œé¢è—ç€ä¸€æŠŠé•å¤´å’Œä¸€äº›å·¥å…·ï¼Œç®€ç›´åƒæ˜¯ä¸ªéšèº«æºå¸¦çš„â€œå»ºç­‘å·¥å…·ç®±â€ï¼ \\n\\nçœ‹ä»–æŒ¥èˆç€é•å¤´ï¼ŒæŒ–æ˜æ³¥åœŸçš„å§¿åŠ¿ï¼Œä»¿ä½›åœ¨è¿›è¡Œä¸€åœºâ€œæŒ–åœŸå¤§èµ›â€ï¼Œç»“æœå´æ¯”æˆ‘åšé¥­è¿˜è¦ç³Ÿç³•ã€‚æ³¥åœŸé£æ‰¬ä¸­ï¼Œä»–çš„é´å­ä¹Ÿæˆäº†â€œæ³¥å·´è‰ºæœ¯å®¶â€ã€‚æœ€åï¼Œé‚£å †è‰²æ³½å„å¼‚çš„åœŸå£¤å°±åƒä»–å¿ƒæƒ…çš„å†™ç…§â€”â€”äº”å½©æ–‘æ–“åˆç•¥æ˜¾æ··ä¹±ï¼çœŸæ˜¯ä¸€æ¬¡è®©äººæ§è…¹çš„å»ºé€ ä¹‹æ—…ï¼\",\n      \"OST\": 2,\n      \"new_timestamp\": \"00:00-00:51\"\n    },\n    {\n      \"timestamp\": \"01:07-01:53\",\n      \"picture\": \"å¥½çš„ï¼Œä»¥ä¸‹æ˜¯è§†é¢‘ç”»é¢çš„å®¢è§‚æè¿°ï¼š\\n\\nè§†é¢‘ä»¥ä¸€ç³»åˆ—æ£®æ—ç¯å¢ƒçš„é•œå¤´å¼€å¤´ã€‚\\n\\nç¬¬ä¸€ä¸ªé•œå¤´æ˜¯ä¸€ä¸ªç‰¹å†™é•œå¤´ï¼Œé•œå¤´ä¸­æ˜¾ç¤ºçš„æ˜¯ä¸€äº›å¸¦æœ‰æ°´æ»´çš„ç»¿è‰²å¶å­ã€‚\\n\\nç¬¬äºŒä¸ªé•œå¤´æ˜¾ç¤ºä¸€ä¸ªç•™ç€èƒ¡é¡»çš„ç”·å­åœ¨æ£®æ—ä¸­æŒ–æ˜ä¸€ä¸ªæ´ã€‚ ä»–è·ªåœ¨åœ°ä¸Šï¼Œç”¨å·¥å…·æŒ–åœŸã€‚\\n\\nç¬¬ä¸‰ä¸ªé•œå¤´æ˜¯ä¸€ä¸ªä¸­ç­‰é•œå¤´ï¼Œæ˜¾ç¤ºåŒä¸€ä¸ªäººååœ¨ä»–æŒ–å¥½çš„æ´è¾¹ä¼‘æ¯ã€‚\\n\\nç¬¬å››ä¸ªé•œå¤´æ˜¾ç¤ºè¯¥æ´çš„å†…éƒ¨ç»“æ„ï¼Œè¯¥æ´åœ¨æ ‘æ ¹å’Œåœ°é¢ä¹‹é—´ã€‚\\n\\nç¬¬äº”ä¸ªé•œå¤´æ˜¾ç¤ºè¯¥ç”·å­ç”¨æ–§å¤´ç æ ‘æã€‚\\n\\nç¬¬å…­ä¸ªé•œå¤´æ˜¾ç¤ºä¸€å †æ ‘ææ¨ªè·¨ä¸€ä¸ªæ³¥æ³çš„å°æ°´å‘ã€‚\\n\\nç¬¬ä¸ƒä¸ªé•œå¤´æ˜¾ç¤ºæ›´å¤šèŒ‚ç››çš„æ ‘å¶å’Œæ ‘æåœ¨é˜³å…‰ä¸‹ã€‚\\n\\nç¬¬å…«ä¸ªé•œå¤´æ˜¾ç¤ºæ›´å¤šèŒ‚ç››çš„æ ‘å¶å’Œæ ‘æã€‚\\n\\n\\n\",\n      \"narration\": \"æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬çš„â€œæŒ–åœŸå¤§å¸ˆâ€åˆå¼€å§‹äº†ä»–çš„æ£®æ—æ¢é™©ã€‚çœ‹è¿™é•œå¤´ï¼Œæ°´æ»´åœ¨å¶å­ä¸Šé—ªçƒï¼Œä»¿ä½›åœ¨è¯´ï¼šâ€œå¿«æ¥ï¼Œå¿«æ¥ï¼Œè¿™é‡Œæœ‰æ•…äº‹ï¼â€ä»–ä¸€è¾¹æŒ–æ´ï¼Œä¸€è¾¹åƒä¸ªæ–°æ‰‹å¨å¸ˆè¯•å›¾åˆ‡æ´‹è‘±â€”â€”æ¯ä¸€ä¸‹éƒ½å°å¿ƒç¿¼ç¿¼ï¼Œç”Ÿæ€•è‡ªå·±ä¸å°å¿ƒæŒ–å‡ºä¸ªâ€œå†å²é—å€â€ã€‚åä¸‹ä¼‘æ¯çš„æ—¶å€™ï¼Œè„¸ä¸Šçš„è¡¨æƒ…å°±åƒå‘ç°æ–°å¤§é™†ä¸€æ ·ï¼ç„¶åï¼Œä»–æ‹¿èµ·æ–§å¤´ç æ ‘æï¼Œç®€ç›´æ˜¯ç°ä»£ç‰ˆçš„â€œç¥é›•ä¾ ä¾£â€ï¼Œåªä¸è¿‡å¯¹è±¡æ˜¯æ ‘æœ¨ã€‚æœ€åï¼Œé‚£å †æ ‘ææ¶è¿‡æ³¥æ³çš„å°æ°´å‘ï¼Œä»¿ä½›åœ¨è¯´ï¼šâ€œæˆ‘å°±æ˜¯ä¸æ€•æ¹¿è„šçš„å‹‡å£«ï¼â€è¿™å°±æ˜¯æˆ‘ä»¬çš„å»ºé€ ä¹‹æ—…ï¼\",\n      \"OST\": 2,\n      \"new_timestamp\": \"00:51-01:37\"\n    }\n  ]\n}\n\nè¯·æ±‚3ï¼š\ncurl -X 'POST' \\\n  'http://127.0.0.1:8080/api/v2/scripts/start-subclip?task_id=12121' \\\n  -H 'accept: application/json' \\\n  -H 'Content-Type: application/json' \\\n  -d '{\n  \"request\": {\n  \"video_clip_json\": [\n    {\n      \"timestamp\": \"00:10-01:01\",\n      \"picture\": \"å¥½çš„ï¼Œä»¥ä¸‹æ˜¯è§†é¢‘ç”»é¢çš„å®¢è§‚æè¿°ï¼š\\n\\nè§†é¢‘å±•ç°ä¸€åç•™ç€èƒ¡é¡»çš„ç”·å­åœ¨æ£®æ—é‡ŒæŒ–æ˜ã€‚\\n\\nç”»é¢é¦–å…ˆå±•ç°ç”·å­ä»åæ–¹è§†è§’ï¼ŒèƒŒç€å†›ç»¿è‰²èƒŒåŒ…ï¼Œç©¿ç€å¡å…¶è‰²é•¿è£¤å’Œæ·±è‰²Tæ¤ï¼Œèµ°å‘ä¸€ä¸ªæ³¥åœŸæ–œå¡ã€‚èƒŒåŒ…ä¸Šä¼¼ä¹æœ‰ä¸€ä¸ªé•å¤´ã€‚\\n\\nä¸‹ä¸€ä¸ªé•œå¤´ç‰¹å†™å±•ç°äº†è¯¥èƒŒåŒ…ï¼Œä¸€ä¸ªé•å¤´ä»èƒŒåŒ…é‡Œä¼¸å‡ºæ¥ï¼ŒåŒ…é‡Œè¿˜æœ‰ä¸€äº›å…¶ä»–å·¥å…·ã€‚\\n\\nç„¶åï¼Œè§†é¢‘æ˜¾ç¤ºè¯¥ç”·å­ç”¨é•å¤´æŒ–æ˜æ³¥åœŸæ–œå¡ã€‚\\n\\næ¥ä¸‹æ¥æ˜¯ä¸€äº›è¿‘æ™¯é•œå¤´ï¼Œå±•ç°ç”·å­çš„é´å­åœ¨æ³¥åœŸä¸­è¡Œèµ°ï¼Œä»¥åŠç”·å­ç”¨æ‰‹æ¸…ç†æ³¥åœŸã€‚\\n\\nå…¶ä»–é•œå¤´ä»ä¸åŒè§’åº¦å±•ç°è¯¥ç”·å­åœ¨æŒ–æ˜ï¼ŒåŒ…æ‹¬ä»ä¾§é¢å’Œä¸Šæ–¹ã€‚\\n\\nå¯ä»¥çœ‹åˆ°ä»–ç”¨å·¥å…·æŒ–æ˜ï¼Œæ¸…ç†æ³¥åœŸï¼Œå¹¶æ£€æŸ¥æŒ–å‡ºçš„åœŸå£¤ã€‚\\n\\næœ€åï¼Œä¸€ä¸ªé•œå¤´å±•ç°äº†æŒ–å‡ºçš„åœŸå£¤çš„è´¨åœ°å’Œé¢œè‰²ã€‚\",\n      \"narration\": \"å¥½çš„ï¼Œæ¥ä¸‹æ¥å°±æ˜¯æˆ‘ä»¬è¿™ä½â€œèƒ¡é¡»å¤§ä¾ â€çš„ç²¾å½©å†’é™©äº†ï¼åªè§ä»–èƒŒç€å†›ç»¿è‰²çš„èƒŒåŒ…ï¼Œè¿ˆç€æ¯”æˆ‘ä¸Šç­è¿˜ä¸æƒ…æ„¿çš„æ­¥ä¼èµ°å‘é‚£æ³¥åœŸæ–œå¡ã€‚å“å‘€ï¼Œè¿™ä¸ªèƒŒåŒ…å¯çœŸæ˜¯ä¸ªå®è´ï¼Œé‡Œé¢è—ç€ä¸€æŠŠé•å¤´å’Œä¸€äº›å·¥å…·ï¼Œç®€ç›´åƒæ˜¯ä¸ªéšèº«æºå¸¦çš„â€œå»ºç­‘å·¥å…·ç®±â€ï¼ \\n\\nçœ‹ä»–æŒ¥èˆç€é•å¤´ï¼ŒæŒ–æ˜æ³¥åœŸçš„å§¿åŠ¿ï¼Œä»¿ä½›åœ¨è¿›è¡Œä¸€åœºâ€œæŒ–åœŸå¤§èµ›â€ï¼Œç»“æœå´æ¯”æˆ‘åšé¥­è¿˜è¦ç³Ÿç³•ã€‚æ³¥åœŸé£æ‰¬ä¸­ï¼Œä»–çš„é´å­ä¹Ÿæˆäº†â€œæ³¥å·´è‰ºæœ¯å®¶â€ã€‚æœ€åï¼Œé‚£å †è‰²æ³½å„å¼‚çš„åœŸå£¤å°±åƒä»–å¿ƒæƒ…çš„å†™ç…§â€”â€”äº”å½©æ–‘æ–“åˆç•¥æ˜¾æ··ä¹±ï¼çœŸæ˜¯ä¸€æ¬¡è®©äººæ§è…¹çš„å»ºé€ ä¹‹æ—…ï¼\",\n      \"OST\": 2,\n      \"new_timestamp\": \"00:00-00:51\"\n    },\n    {\n      \"timestamp\": \"01:07-01:53\",\n      \"picture\": \"å¥½çš„ï¼Œä»¥ä¸‹æ˜¯è§†é¢‘ç”»é¢çš„å®¢è§‚æè¿°ï¼š\\n\\nè§†é¢‘ä»¥ä¸€ç³»åˆ—æ£®æ—ç¯å¢ƒçš„é•œå¤´å¼€å¤´ã€‚\\n\\nç¬¬ä¸€ä¸ªé•œå¤´æ˜¯ä¸€ä¸ªç‰¹å†™é•œå¤´ï¼Œé•œå¤´ä¸­æ˜¾ç¤ºçš„æ˜¯ä¸€äº›å¸¦æœ‰æ°´æ»´çš„ç»¿è‰²å¶å­ã€‚\\n\\nç¬¬äºŒä¸ªé•œå¤´æ˜¾ç¤ºä¸€ä¸ªç•™ç€èƒ¡é¡»çš„ç”·å­åœ¨æ£®æ—ä¸­æŒ–æ˜ä¸€ä¸ªæ´ã€‚ ä»–è·ªåœ¨åœ°ä¸Šï¼Œç”¨å·¥å…·æŒ–åœŸã€‚\\n\\nç¬¬ä¸‰ä¸ªé•œå¤´æ˜¯ä¸€ä¸ªä¸­ç­‰é•œå¤´ï¼Œæ˜¾ç¤ºåŒä¸€ä¸ªäººååœ¨ä»–æŒ–å¥½çš„æ´è¾¹ä¼‘æ¯ã€‚\\n\\nç¬¬å››ä¸ªé•œå¤´æ˜¾ç¤ºè¯¥æ´çš„å†…éƒ¨ç»“æ„ï¼Œè¯¥æ´åœ¨æ ‘æ ¹å’Œåœ°é¢ä¹‹é—´ã€‚\\n\\nç¬¬äº”ä¸ªé•œå¤´æ˜¾ç¤ºè¯¥ç”·å­ç”¨æ–§å¤´ç æ ‘æã€‚\\n\\nç¬¬å…­ä¸ªé•œå¤´æ˜¾ç¤ºä¸€å †æ ‘ææ¨ªè·¨ä¸€ä¸ªæ³¥æ³çš„å°æ°´å‘ã€‚\\n\\nç¬¬ä¸ƒä¸ªé•œå¤´æ˜¾ç¤ºæ›´å¤šèŒ‚ç››çš„æ ‘å¶å’Œæ ‘æåœ¨é˜³å…‰ä¸‹ã€‚\\n\\nç¬¬å…«ä¸ªé•œå¤´æ˜¾ç¤ºæ›´å¤šèŒ‚ç››çš„æ ‘å¶å’Œæ ‘æã€‚\\n\\n\\n\",\n      \"narration\": \"æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬çš„â€œæŒ–åœŸå¤§å¸ˆâ€åˆå¼€å§‹äº†ä»–çš„æ£®æ—æ¢é™©ã€‚çœ‹è¿™é•œå¤´ï¼Œæ°´æ»´åœ¨å¶å­ä¸Šé—ªçƒï¼Œä»¿ä½›åœ¨è¯´ï¼šâ€œå¿«æ¥ï¼Œå¿«æ¥ï¼Œè¿™é‡Œæœ‰æ•…äº‹ï¼â€ä»–ä¸€è¾¹æŒ–æ´ï¼Œä¸€è¾¹åƒä¸ªæ–°æ‰‹å¨å¸ˆè¯•å›¾åˆ‡æ´‹è‘±â€”â€”æ¯ä¸€ä¸‹éƒ½å°å¿ƒç¿¼ç¿¼ï¼Œç”Ÿæ€•è‡ªå·±ä¸å°å¿ƒæŒ–å‡ºä¸ªâ€œå†å²é—å€â€ã€‚åä¸‹ä¼‘æ¯çš„æ—¶å€™ï¼Œè„¸ä¸Šçš„è¡¨æƒ…å°±åƒå‘ç°æ–°å¤§é™†ä¸€æ ·ï¼ç„¶åï¼Œä»–æ‹¿èµ·æ–§å¤´ç æ ‘æï¼Œç®€ç›´æ˜¯ç°ä»£ç‰ˆçš„â€œç¥é›•ä¾ ä¾£â€ï¼Œåªä¸è¿‡å¯¹è±¡æ˜¯æ ‘æœ¨ã€‚æœ€åï¼Œé‚£å †æ ‘ææ¶è¿‡æ³¥æ³çš„å°æ°´å‘ï¼Œä»¿ä½›åœ¨è¯´ï¼šâ€œæˆ‘å°±æ˜¯ä¸æ€•æ¹¿è„šçš„å‹‡å£«ï¼â€è¿™å°±æ˜¯æˆ‘ä»¬çš„å»ºé€ ä¹‹æ—…ï¼\",\n      \"OST\": 2,\n      \"new_timestamp\": \"00:51-01:37\"\n    }\n  ],\n  \"video_clip_json_path\": \"E:\\\\projects\\\\NarratoAI\\\\resource\\\\scripts\\\\2024-1118-230421.json\",\n  \"video_origin_path\": \"E:\\\\projects\\\\NarratoAI\\\\resource\\\\videos\\\\test.mp4\",\n  \"video_aspect\": \"16:9\",\n  \"video_language\": \"zh-CN\",\n  \"voice_name\": \"zh-CN-YunjianNeural\",\n  \"voice_volume\": 1,\n  \"voice_rate\": 1.2,\n  \"voice_pitch\": 1,\n  \"bgm_name\": \"random\",\n  \"bgm_type\": \"random\",\n  \"bgm_file\": \"\",\n  \"bgm_volume\": 0.3,\n  \"subtitle_enabled\": true,\n  \"subtitle_position\": \"bottom\",\n  \"font_name\": \"STHeitiMedium.ttc\",\n  \"text_fore_color\": \"#FFFFFF\",\n  \"text_background_color\": \"transparent\",\n  \"font_size\": 75,\n  \"stroke_color\": \"#000000\",\n  \"stroke_width\": 1.5,\n  \"custom_position\": 70,\n  \"n_threads\": 8\n  },\n  \"subclip_videos\": {\n    \"00:10-01:01\": \"E:\\\\projects\\\\NarratoAI\\\\storage\\\\cache_videos/vid-00_10-01_01.mp4\",\n    \"01:07-01:53\": \"E:\\\\projects\\\\NarratoAI\\\\storage\\\\cache_videos/vid-01_07-01_53.mp4\"\n  }\n}'\n{\n  \"request\": {\n  \"video_clip_json\": [\n    {\n      \"timestamp\": \"00:10-01:01\",\n      \"picture\": \"å¥½çš„ï¼Œä»¥ä¸‹æ˜¯è§†é¢‘ç”»é¢çš„å®¢è§‚æè¿°ï¼š\\n\\nè§†é¢‘å±•ç°ä¸€åç•™ç€èƒ¡é¡»çš„ç”·å­åœ¨æ£®æ—é‡ŒæŒ–æ˜ã€‚\\n\\nç”»é¢é¦–å…ˆå±•ç°ç”·å­ä»åæ–¹è§†è§’ï¼ŒèƒŒç€å†›ç»¿è‰²èƒŒåŒ…ï¼Œç©¿ç€å¡å…¶è‰²é•¿è£¤å’Œæ·±è‰²Tæ¤ï¼Œèµ°å‘ä¸€ä¸ªæ³¥åœŸæ–œå¡ã€‚èƒŒåŒ…ä¸Šä¼¼ä¹æœ‰ä¸€ä¸ªé•å¤´ã€‚\\n\\nä¸‹ä¸€ä¸ªé•œå¤´ç‰¹å†™å±•ç°äº†è¯¥èƒŒåŒ…ï¼Œä¸€ä¸ªé•å¤´ä»èƒŒåŒ…é‡Œä¼¸å‡ºæ¥ï¼ŒåŒ…é‡Œè¿˜æœ‰ä¸€äº›å…¶ä»–å·¥å…·ã€‚\\n\\nç„¶åï¼Œè§†é¢‘æ˜¾ç¤ºè¯¥ç”·å­ç”¨é•å¤´æŒ–æ˜æ³¥åœŸæ–œå¡ã€‚\\n\\næ¥ä¸‹æ¥æ˜¯ä¸€äº›è¿‘æ™¯é•œå¤´ï¼Œå±•ç°ç”·å­çš„é´å­åœ¨æ³¥åœŸä¸­è¡Œèµ°ï¼Œä»¥åŠç”·å­ç”¨æ‰‹æ¸…ç†æ³¥åœŸã€‚\\n\\nå…¶ä»–é•œå¤´ä»ä¸åŒè§’åº¦å±•ç°è¯¥ç”·å­åœ¨æŒ–æ˜ï¼ŒåŒ…æ‹¬ä»ä¾§é¢å’Œä¸Šæ–¹ã€‚\\n\\nå¯ä»¥çœ‹åˆ°ä»–ç”¨å·¥å…·æŒ–æ˜ï¼Œæ¸…ç†æ³¥åœŸï¼Œå¹¶æ£€æŸ¥æŒ–å‡ºçš„åœŸå£¤ã€‚\\n\\næœ€åï¼Œä¸€ä¸ªé•œå¤´å±•ç°äº†æŒ–å‡ºçš„åœŸå£¤çš„è´¨åœ°å’Œé¢œè‰²ã€‚\",\n      \"narration\": \"å¥½çš„ï¼Œæ¥ä¸‹æ¥å°±æ˜¯æˆ‘ä»¬è¿™ä½â€œèƒ¡é¡»å¤§ä¾ â€çš„ç²¾å½©å†’é™©äº†ï¼åªè§ä»–èƒŒç€å†›ç»¿è‰²çš„èƒŒåŒ…ï¼Œè¿ˆç€æ¯”æˆ‘ä¸Šç­è¿˜ä¸æƒ…æ„¿çš„æ­¥ä¼èµ°å‘é‚£æ³¥åœŸæ–œå¡ã€‚å“å‘€ï¼Œè¿™ä¸ªèƒŒåŒ…å¯çœŸæ˜¯ä¸ªå®è´ï¼Œé‡Œé¢è—ç€ä¸€æŠŠé•å¤´å’Œä¸€äº›å·¥å…·ï¼Œç®€ç›´åƒæ˜¯ä¸ªéšèº«æºå¸¦çš„â€œå»ºç­‘å·¥å…·ç®±â€ï¼ \\n\\nçœ‹ä»–æŒ¥èˆç€é•å¤´ï¼ŒæŒ–æ˜æ³¥åœŸçš„å§¿åŠ¿ï¼Œä»¿ä½›åœ¨è¿›è¡Œä¸€åœºâ€œæŒ–åœŸå¤§èµ›â€ï¼Œç»“æœå´æ¯”æˆ‘åšé¥­è¿˜è¦ç³Ÿç³•ã€‚æ³¥åœŸé£æ‰¬ä¸­ï¼Œä»–çš„é´å­ä¹Ÿæˆäº†â€œæ³¥å·´è‰ºæœ¯å®¶â€ã€‚æœ€åï¼Œé‚£å †è‰²æ³½å„å¼‚çš„åœŸå£¤å°±åƒä»–å¿ƒæƒ…çš„å†™ç…§â€”â€”äº”å½©æ–‘æ–“åˆç•¥æ˜¾æ··ä¹±ï¼çœŸæ˜¯ä¸€æ¬¡è®©äººæ§è…¹çš„å»ºé€ ä¹‹æ—…ï¼\",\n      \"OST\": 2,\n      \"new_timestamp\": \"00:00-00:51\"\n    },\n    {\n      \"timestamp\": \"01:07-01:53\",\n      \"picture\": \"å¥½çš„ï¼Œä»¥ä¸‹æ˜¯è§†é¢‘ç”»é¢çš„å®¢è§‚æè¿°ï¼š\\n\\nè§†é¢‘ä»¥ä¸€ç³»åˆ—æ£®æ—ç¯å¢ƒçš„é•œå¤´å¼€å¤´ã€‚\\n\\nç¬¬ä¸€ä¸ªé•œå¤´æ˜¯ä¸€ä¸ªç‰¹å†™é•œå¤´ï¼Œé•œå¤´ä¸­æ˜¾ç¤ºçš„æ˜¯ä¸€äº›å¸¦æœ‰æ°´æ»´çš„ç»¿è‰²å¶å­ã€‚\\n\\nç¬¬äºŒä¸ªé•œå¤´æ˜¾ç¤ºä¸€ä¸ªç•™ç€èƒ¡é¡»çš„ç”·å­åœ¨æ£®æ—ä¸­æŒ–æ˜ä¸€ä¸ªæ´ã€‚ ä»–è·ªåœ¨åœ°ä¸Šï¼Œç”¨å·¥å…·æŒ–åœŸã€‚\\n\\nç¬¬ä¸‰ä¸ªé•œå¤´æ˜¯ä¸€ä¸ªä¸­ç­‰é•œå¤´ï¼Œæ˜¾ç¤ºåŒä¸€ä¸ªäººååœ¨ä»–æŒ–å¥½çš„æ´è¾¹ä¼‘æ¯ã€‚\\n\\nç¬¬å››ä¸ªé•œå¤´æ˜¾ç¤ºè¯¥æ´çš„å†…éƒ¨ç»“æ„ï¼Œè¯¥æ´åœ¨æ ‘æ ¹å’Œåœ°é¢ä¹‹é—´ã€‚\\n\\nç¬¬äº”ä¸ªé•œå¤´æ˜¾ç¤ºè¯¥ç”·å­ç”¨æ–§å¤´ç æ ‘æã€‚\\n\\nç¬¬å…­ä¸ªé•œå¤´æ˜¾ç¤ºä¸€å †æ ‘ææ¨ªè·¨ä¸€ä¸ªæ³¥æ³çš„å°æ°´å‘ã€‚\\n\\nç¬¬ä¸ƒä¸ªé•œå¤´æ˜¾ç¤ºæ›´å¤šèŒ‚ç››çš„æ ‘å¶å’Œæ ‘æåœ¨é˜³å…‰ä¸‹ã€‚\\n\\nç¬¬å…«ä¸ªé•œå¤´æ˜¾ç¤ºæ›´å¤šèŒ‚ç››çš„æ ‘å¶å’Œæ ‘æã€‚\\n\\n\\n\",\n      \"narration\": \"æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬çš„â€œæŒ–åœŸå¤§å¸ˆâ€åˆå¼€å§‹äº†ä»–çš„æ£®æ—æ¢é™©ã€‚çœ‹è¿™é•œå¤´ï¼Œæ°´æ»´åœ¨å¶å­ä¸Šé—ªçƒï¼Œä»¿ä½›åœ¨è¯´ï¼šâ€œå¿«æ¥ï¼Œå¿«æ¥ï¼Œè¿™é‡Œæœ‰æ•…äº‹ï¼â€ä»–ä¸€è¾¹æŒ–æ´ï¼Œä¸€è¾¹åƒä¸ªæ–°æ‰‹å¨å¸ˆè¯•å›¾åˆ‡æ´‹è‘±â€”â€”æ¯ä¸€ä¸‹éƒ½å°å¿ƒç¿¼ç¿¼ï¼Œç”Ÿæ€•è‡ªå·±ä¸å°å¿ƒæŒ–å‡ºä¸ªâ€œå†å²é—å€â€ã€‚åä¸‹ä¼‘æ¯çš„æ—¶å€™ï¼Œè„¸ä¸Šçš„è¡¨æƒ…å°±åƒå‘ç°æ–°å¤§é™†ä¸€æ ·ï¼ç„¶åï¼Œä»–æ‹¿èµ·æ–§å¤´ç æ ‘æï¼Œç®€ç›´æ˜¯ç°ä»£ç‰ˆçš„â€œç¥é›•ä¾ ä¾£â€ï¼Œåªä¸è¿‡å¯¹è±¡æ˜¯æ ‘æœ¨ã€‚æœ€åï¼Œé‚£å †æ ‘ææ¶è¿‡æ³¥æ³çš„å°æ°´å‘ï¼Œä»¿ä½›åœ¨è¯´ï¼šâ€œæˆ‘å°±æ˜¯ä¸æ€•æ¹¿è„šçš„å‹‡å£«ï¼â€è¿™å°±æ˜¯æˆ‘ä»¬çš„å»ºé€ ä¹‹æ—…ï¼\",\n      \"OST\": 2,\n      \"new_timestamp\": \"00:51-01:37\"\n    }\n  ],\n  \"video_clip_json_path\": \"E:\\\\projects\\\\NarratoAI\\\\resource\\\\scripts\\\\2024-1118-230421.json\",\n  \"video_origin_path\": \"E:\\\\projects\\\\NarratoAI\\\\resource\\\\videos\\\\test.mp4\",\n  \"video_aspect\": \"16:9\",\n  \"video_language\": \"zh-CN\",\n  \"voice_name\": \"zh-CN-YunjianNeural\",\n  \"voice_volume\": 1,\n  \"voice_rate\": 1.2,\n  \"voice_pitch\": 1,\n  \"bgm_name\": \"random\",\n  \"bgm_type\": \"random\",\n  \"bgm_file\": \"\",\n  \"bgm_volume\": 0.3,\n  \"subtitle_enabled\": true,\n  \"subtitle_position\": \"bottom\",\n  \"font_name\": \"STHeitiMedium.ttc\",\n  \"text_fore_color\": \"#FFFFFF\",\n  \"text_background_color\": \"transparent\",\n  \"font_size\": 75,\n  \"stroke_color\": \"#000000\",\n  \"stroke_width\": 1.5,\n  \"custom_position\": 70,\n  \"n_threads\": 8\n  },\n  \"subclip_videos\": {\n    \"00:10-01:01\": \"E:\\\\projects\\\\NarratoAI\\\\storage\\\\cache_videos/vid-00_10-01_01.mp4\",\n    \"01:07-01:53\": \"E:\\\\projects\\\\NarratoAI\\\\storage\\\\cache_videos/vid-01_07-01_53.mp4\"\n  }\n}\n\n\nè¯·åœ¨æœ€å¤–å±‚æ–°å»ºä¸€ä¸ªpipeline å·¥ä½œæµæ‰§è¡Œé€»è¾‘çš„ä»£ç ï¼›\nä»–ä¼šæŒ‰ç…§ä¸‹é¢çš„é¡ºåºè¯·æ±‚æ¥å£\n1.ä¸‹è½½è§†é¢‘\ncurl -X 'POST' \\\n  'http://127.0.0.1:8080/api/v2/youtube/download' \\\n  -H 'accept: application/json' \\\n  -H 'Content-Type: application/json' \\\n  -d '{\n  \"url\": \"https://www.youtube.com/watch?v=Kenm35gdqtk\",\n  \"resolution\": \"1080p\",\n  \"output_format\": \"mp4\",\n  \"rename\": \"2024-11-19\"\n}'\n2.ç”Ÿæˆè„šæœ¬\ncurl -X 'POST' \\\n  'http://127.0.0.1:8080/api/v2/scripts/generate' \\\n  -H 'accept: application/json' \\\n  -H 'Content-Type: application/json' \\\n  -d '{\n  \"video_path\": \"E:\\\\projects\\\\NarratoAI\\\\resource\\\\videos\\\\test.mp4\",\n  \"skip_seconds\": 0,\n  \"threshold\": 30,\n  \"vision_batch_size\": 10,\n  \"vision_llm_provider\": \"gemini\"\n}'\n3. å‰ªè¾‘è§†é¢‘\ncurl -X 'POST' \\\n  'http://127.0.0.1:8080/api/v2/scripts/crop' \\\n  -H 'accept: application/json' \\\n  -H 'Content-Type: application/json' \\\n  -d '{\n  \"video_origin_path\": \"E:\\\\projects\\\\NarratoAI\\\\resource\\\\videos\\\\test.mp4\",\n  \"video_script\": [\n    {\n      \"timestamp\": \"00:10-01:01\",\n      \"picture\": \"å¥½çš„ï¼Œä»¥ä¸‹æ˜¯è§†é¢‘ç”»é¢çš„å®¢è§‚æè¿°ï¼š\\n\\nè§†é¢‘å±•ç°ä¸€åç•™ç€èƒ¡é¡»çš„ç”·å­åœ¨æ£®æ—é‡ŒæŒ–æ˜ã€‚\\n\\nç”»é¢é¦–å…ˆå±•ç°ç”·å­ä»åæ–¹è§†è§’ï¼ŒèƒŒç€å†›ç»¿è‰²èƒŒåŒ…ï¼Œç©¿ç€å¡å…¶è‰²é•¿è£¤å’Œæ·±è‰²Tæ¤ï¼Œèµ°å‘ä¸€ä¸ªæ³¥åœŸæ–œå¡ã€‚èƒŒåŒ…ä¸Šä¼¼ä¹æœ‰ä¸€ä¸ªé•å¤´ã€‚\\n\\nä¸‹ä¸€ä¸ªé•œå¤´ç‰¹å†™å±•ç°äº†è¯¥èƒŒåŒ…ï¼Œä¸€ä¸ªé•å¤´ä»èƒŒåŒ…é‡Œä¼¸å‡ºæ¥ï¼ŒåŒ…é‡Œè¿˜æœ‰ä¸€äº›å…¶ä»–å·¥å…·ã€‚\\n\\nç„¶åï¼Œè§†é¢‘æ˜¾ç¤ºè¯¥ç”·å­ç”¨é•å¤´æŒ–æ˜æ³¥åœŸæ–œå¡ã€‚\\n\\næ¥ä¸‹æ¥æ˜¯ä¸€äº›è¿‘æ™¯é•œå¤´ï¼Œå±•ç°ç”·å­çš„é´å­åœ¨æ³¥åœŸä¸­è¡Œèµ°ï¼Œä»¥åŠç”·å­ç”¨æ‰‹æ¸…ç†æ³¥åœŸã€‚\\n\\nå…¶ä»–é•œå¤´ä»ä¸åŒè§’åº¦å±•ç°è¯¥ç”·å­åœ¨æŒ–æ˜ï¼ŒåŒ…æ‹¬ä»ä¾§é¢å’Œä¸Šæ–¹ã€‚\\n\\nå¯ä»¥çœ‹åˆ°ä»–ç”¨å·¥å…·æŒ–æ˜ï¼Œæ¸…ç†æ³¥åœŸï¼Œå¹¶æ£€æŸ¥æŒ–å‡ºçš„åœŸå£¤ã€‚\\n\\næœ€åï¼Œä¸€ä¸ªé•œå¤´å±•ç°äº†æŒ–å‡ºçš„åœŸå£¤çš„è´¨åœ°å’Œé¢œè‰²ã€‚\",\n      \"narration\": \"å¥½çš„ï¼Œæ¥ä¸‹æ¥å°±æ˜¯æˆ‘ä»¬è¿™ä½â€œèƒ¡é¡»å¤§ä¾ â€çš„ç²¾å½©å†’é™©äº†ï¼åªè§ä»–èƒŒç€å†›ç»¿è‰²çš„èƒŒåŒ…ï¼Œè¿ˆç€æ¯”æˆ‘ä¸Šç­è¿˜ä¸æƒ…æ„¿çš„æ­¥ä¼èµ°å‘é‚£æ³¥åœŸæ–œå¡ã€‚å“å‘€ï¼Œè¿™ä¸ªèƒŒåŒ…å¯çœŸæ˜¯ä¸ªå®è´ï¼Œé‡Œé¢è—ç€ä¸€æŠŠé•å¤´å’Œä¸€äº›å·¥å…·ï¼Œç®€ç›´åƒæ˜¯ä¸ªéšèº«æºå¸¦çš„â€œå»ºç­‘å·¥å…·ç®±â€ï¼ \\n\\nçœ‹ä»–æŒ¥èˆç€é•å¤´ï¼ŒæŒ–æ˜æ³¥åœŸçš„å§¿åŠ¿ï¼Œä»¿ä½›åœ¨è¿›è¡Œä¸€åœºâ€œæŒ–åœŸå¤§èµ›â€ï¼Œç»“æœå´æ¯”æˆ‘åšé¥­è¿˜è¦ç³Ÿç³•ã€‚æ³¥åœŸé£æ‰¬ä¸­ï¼Œä»–çš„é´å­ä¹Ÿæˆäº†â€œæ³¥å·´è‰ºæœ¯å®¶â€ã€‚æœ€åï¼Œé‚£å †è‰²æ³½å„å¼‚çš„åœŸå£¤å°±åƒä»–å¿ƒæƒ…çš„å†™ç…§â€”â€”äº”å½©æ–‘æ–“åˆç•¥æ˜¾æ··ä¹±ï¼çœŸæ˜¯ä¸€æ¬¡è®©äººæ§è…¹çš„å»ºé€ ä¹‹æ—…ï¼\",\n      \"OST\": 2,\n      \"new_timestamp\": \"00:00-00:51\"\n    },\n    {\n      \"timestamp\": \"01:07-01:53\",\n      \"picture\": \"å¥½çš„ï¼Œä»¥ä¸‹æ˜¯è§†é¢‘ç”»é¢çš„å®¢è§‚æè¿°ï¼š\\n\\nè§†é¢‘ä»¥ä¸€ç³»åˆ—æ£®æ—ç¯å¢ƒçš„é•œå¤´å¼€å¤´ã€‚\\n\\nç¬¬ä¸€ä¸ªé•œå¤´æ˜¯ä¸€ä¸ªç‰¹å†™é•œå¤´ï¼Œé•œå¤´ä¸­æ˜¾ç¤ºçš„æ˜¯ä¸€äº›å¸¦æœ‰æ°´æ»´çš„ç»¿è‰²å¶å­ã€‚\\n\\nç¬¬äºŒä¸ªé•œå¤´æ˜¾ç¤ºä¸€ä¸ªç•™ç€èƒ¡é¡»çš„ç”·å­åœ¨æ£®æ—ä¸­æŒ–æ˜ä¸€ä¸ªæ´ã€‚ ä»–è·ªåœ¨åœ°ä¸Šï¼Œç”¨å·¥å…·æŒ–åœŸã€‚\\n\\nç¬¬ä¸‰ä¸ªé•œå¤´æ˜¯ä¸€ä¸ªä¸­ç­‰é•œå¤´ï¼Œæ˜¾ç¤ºåŒä¸€ä¸ªäººååœ¨ä»–æŒ–å¥½çš„æ´è¾¹ä¼‘æ¯ã€‚\\n\\nç¬¬å››ä¸ªé•œå¤´æ˜¾ç¤ºè¯¥æ´çš„å†…éƒ¨ç»“æ„ï¼Œè¯¥æ´åœ¨æ ‘æ ¹å’Œåœ°é¢ä¹‹é—´ã€‚\\n\\nç¬¬äº”ä¸ªé•œå¤´æ˜¾ç¤ºè¯¥ç”·å­ç”¨æ–§å¤´ç æ ‘æã€‚\\n\\nç¬¬å…­ä¸ªé•œå¤´æ˜¾ç¤ºä¸€å †æ ‘ææ¨ªè·¨ä¸€ä¸ªæ³¥æ³çš„å°æ°´å‘ã€‚\\n\\nç¬¬ä¸ƒä¸ªé•œå¤´æ˜¾ç¤ºæ›´å¤šèŒ‚ç››çš„æ ‘å¶å’Œæ ‘æåœ¨é˜³å…‰ä¸‹ã€‚\\n\\nç¬¬å…«ä¸ªé•œå¤´æ˜¾ç¤ºæ›´å¤šèŒ‚ç››çš„æ ‘å¶å’Œæ ‘æã€‚\\n\\n\\n\",\n      \"narration\": \"æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬çš„â€œæŒ–åœŸå¤§å¸ˆâ€åˆå¼€å§‹äº†ä»–çš„æ£®æ—æ¢é™©ã€‚çœ‹è¿™é•œå¤´ï¼Œæ°´æ»´åœ¨å¶å­ä¸Šé—ªçƒï¼Œä»¿ä½›åœ¨è¯´ï¼šâ€œå¿«æ¥ï¼Œå¿«æ¥ï¼Œè¿™é‡Œæœ‰æ•…äº‹ï¼â€ä»–ä¸€è¾¹æŒ–æ´ï¼Œä¸€è¾¹åƒä¸ªæ–°æ‰‹å¨å¸ˆè¯•å›¾åˆ‡æ´‹è‘±â€”â€”æ¯ä¸€ä¸‹éƒ½å°å¿ƒç¿¼ç¿¼ï¼Œç”Ÿæ€•è‡ªå·±ä¸å°å¿ƒæŒ–å‡ºä¸ªâ€œå†å²é—å€â€ã€‚åä¸‹ä¼‘æ¯çš„æ—¶å€™ï¼Œè„¸ä¸Šçš„è¡¨æƒ…å°±åƒå‘ç°æ–°å¤§é™†ä¸€æ ·ï¼ç„¶åï¼Œä»–æ‹¿èµ·æ–§å¤´ç æ ‘æï¼Œç®€ç›´æ˜¯ç°ä»£ç‰ˆçš„â€œç¥é›•ä¾ ä¾£â€ï¼Œåªä¸è¿‡å¯¹è±¡æ˜¯æ ‘æœ¨ã€‚æœ€åï¼Œé‚£å †æ ‘ææ¶è¿‡æ³¥æ³çš„å°æ°´å‘ï¼Œä»¿ä½›åœ¨è¯´ï¼šâ€œæˆ‘å°±æ˜¯ä¸æ€•æ¹¿è„šçš„å‹‡å£«ï¼â€è¿™å°±æ˜¯æˆ‘ä»¬çš„å»ºé€ ä¹‹æ—…ï¼\",\n      \"OST\": 2,\n      \"new_timestamp\": \"00:51-01:37\"\n    }\n  ]\n}'\n4.ç”Ÿæˆè§†é¢‘\ncurl -X 'POST' \\\n  'http://127.0.0.1:8080/api/v2/scripts/start-subclip?task_id=12121' \\\n  -H 'accept: application/json' \\\n  -H 'Content-Type: application/json' \\\n  -d '{\n  \"request\": {\n  \"video_clip_json\": [\n    {\n      \"timestamp\": \"00:10-01:01\",\n      \"picture\": \"å¥½çš„ï¼Œä»¥ä¸‹æ˜¯è§†é¢‘ç”»é¢çš„å®¢è§‚æè¿°ï¼š\\n\\nè§†é¢‘å±•ç°ä¸€åç•™ç€èƒ¡é¡»çš„ç”·å­åœ¨æ£®æ—é‡ŒæŒ–æ˜ã€‚\\n\\nç”»é¢é¦–å…ˆå±•ç°ç”·å­ä»åæ–¹è§†è§’ï¼ŒèƒŒç€å†›ç»¿è‰²èƒŒåŒ…ï¼Œç©¿ç€å¡å…¶è‰²é•¿è£¤å’Œæ·±è‰²Tæ¤ï¼Œèµ°å‘ä¸€ä¸ªæ³¥åœŸæ–œå¡ã€‚èƒŒåŒ…ä¸Šä¼¼ä¹æœ‰ä¸€ä¸ªé•å¤´ã€‚\\n\\nä¸‹ä¸€ä¸ªé•œå¤´ç‰¹å†™å±•ç°äº†è¯¥èƒŒåŒ…ï¼Œä¸€ä¸ªé•å¤´ä»èƒŒåŒ…é‡Œä¼¸å‡ºæ¥ï¼ŒåŒ…é‡Œè¿˜æœ‰ä¸€äº›å…¶ä»–å·¥å…·ã€‚\\n\\nç„¶åï¼Œè§†é¢‘æ˜¾ç¤ºè¯¥ç”·å­ç”¨é•å¤´æŒ–æ˜æ³¥åœŸæ–œå¡ã€‚\\n\\næ¥ä¸‹æ¥æ˜¯ä¸€äº›è¿‘æ™¯é•œå¤´ï¼Œå±•ç°ç”·å­çš„é´å­åœ¨æ³¥åœŸä¸­è¡Œèµ°ï¼Œä»¥åŠç”·å­ç”¨æ‰‹æ¸…ç†æ³¥åœŸã€‚\\n\\nå…¶ä»–é•œå¤´ä»ä¸åŒè§’åº¦å±•ç°è¯¥ç”·å­åœ¨æŒ–æ˜ï¼ŒåŒ…æ‹¬ä»ä¾§é¢å’Œä¸Šæ–¹ã€‚\\n\\nå¯ä»¥çœ‹åˆ°ä»–ç”¨å·¥å…·æŒ–æ˜ï¼Œæ¸…ç†æ³¥åœŸï¼Œå¹¶æ£€æŸ¥æŒ–å‡ºçš„åœŸå£¤ã€‚\\n\\næœ€åï¼Œä¸€ä¸ªé•œå¤´å±•ç°äº†æŒ–å‡ºçš„åœŸå£¤çš„è´¨åœ°å’Œé¢œè‰²ã€‚\",\n      \"narration\": \"å¥½çš„ï¼Œæ¥ä¸‹æ¥å°±æ˜¯æˆ‘ä»¬è¿™ä½â€œèƒ¡é¡»å¤§ä¾ â€çš„ç²¾å½©å†’é™©äº†ï¼åªè§ä»–èƒŒç€å†›ç»¿è‰²çš„èƒŒåŒ…ï¼Œè¿ˆç€æ¯”æˆ‘ä¸Šç­è¿˜ä¸æƒ…æ„¿çš„æ­¥ä¼èµ°å‘é‚£æ³¥åœŸæ–œå¡ã€‚å“å‘€ï¼Œè¿™ä¸ªèƒŒåŒ…å¯çœŸæ˜¯ä¸ªå®è´ï¼Œé‡Œé¢è—ç€ä¸€æŠŠé•å¤´å’Œä¸€äº›å·¥å…·ï¼Œç®€ç›´åƒæ˜¯ä¸ªéšèº«æºå¸¦çš„â€œå»ºç­‘å·¥å…·ç®±â€ï¼ \\n\\nçœ‹ä»–æŒ¥èˆç€é•å¤´ï¼ŒæŒ–æ˜æ³¥åœŸçš„å§¿åŠ¿ï¼Œä»¿ä½›åœ¨è¿›è¡Œä¸€åœºâ€œæŒ–åœŸå¤§èµ›â€ï¼Œç»“æœå´æ¯”æˆ‘åšé¥­è¿˜è¦ç³Ÿç³•ã€‚æ³¥åœŸé£æ‰¬ä¸­ï¼Œä»–çš„é´å­ä¹Ÿæˆäº†â€œæ³¥å·´è‰ºæœ¯å®¶â€ã€‚æœ€åï¼Œé‚£å †è‰²æ³½å„å¼‚çš„åœŸå£¤å°±åƒä»–å¿ƒæƒ…çš„å†™ç…§â€”â€”äº”å½©æ–‘æ–“åˆç•¥æ˜¾æ··ä¹±ï¼çœŸæ˜¯ä¸€æ¬¡è®©äººæ§è…¹çš„å»ºé€ ä¹‹æ—…ï¼\",\n      \"OST\": 2,\n      \"new_timestamp\": \"00:00-00:51\"\n    },\n    {\n      \"timestamp\": \"01:07-01:53\",\n      \"picture\": \"å¥½çš„ï¼Œä»¥ä¸‹æ˜¯è§†é¢‘ç”»é¢çš„å®¢è§‚æè¿°ï¼š\\n\\nè§†é¢‘ä»¥ä¸€ç³»åˆ—æ£®æ—ç¯å¢ƒçš„é•œå¤´å¼€å¤´ã€‚\\n\\nç¬¬ä¸€ä¸ªé•œå¤´æ˜¯ä¸€ä¸ªç‰¹å†™é•œå¤´ï¼Œé•œå¤´ä¸­æ˜¾ç¤ºçš„æ˜¯ä¸€äº›å¸¦æœ‰æ°´æ»´çš„ç»¿è‰²å¶å­ã€‚\\n\\nç¬¬äºŒä¸ªé•œå¤´æ˜¾ç¤ºä¸€ä¸ªç•™ç€èƒ¡é¡»çš„ç”·å­åœ¨æ£®æ—ä¸­æŒ–æ˜ä¸€ä¸ªæ´ã€‚ ä»–è·ªåœ¨åœ°ä¸Šï¼Œç”¨å·¥å…·æŒ–åœŸã€‚\\n\\nç¬¬ä¸‰ä¸ªé•œå¤´æ˜¯ä¸€ä¸ªä¸­ç­‰é•œå¤´ï¼Œæ˜¾ç¤ºåŒä¸€ä¸ªäººååœ¨ä»–æŒ–å¥½çš„æ´è¾¹ä¼‘æ¯ã€‚\\n\\nç¬¬å››ä¸ªé•œå¤´æ˜¾ç¤ºè¯¥æ´çš„å†…éƒ¨ç»“æ„ï¼Œè¯¥æ´åœ¨æ ‘æ ¹å’Œåœ°é¢ä¹‹é—´ã€‚\\n\\nç¬¬äº”ä¸ªé•œå¤´æ˜¾ç¤ºè¯¥ç”·å­ç”¨æ–§å¤´ç æ ‘æã€‚\\n\\nç¬¬å…­ä¸ªé•œå¤´æ˜¾ç¤ºä¸€å †æ ‘ææ¨ªè·¨ä¸€ä¸ªæ³¥æ³çš„å°æ°´å‘ã€‚\\n\\nç¬¬ä¸ƒä¸ªé•œå¤´æ˜¾ç¤ºæ›´å¤šèŒ‚ç››çš„æ ‘å¶å’Œæ ‘æåœ¨é˜³å…‰ä¸‹ã€‚\\n\\nç¬¬å…«ä¸ªé•œå¤´æ˜¾ç¤ºæ›´å¤šèŒ‚ç››çš„æ ‘å¶å’Œæ ‘æã€‚\\n\\n\\n\",\n      \"narration\": \"æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬çš„â€œæŒ–åœŸå¤§å¸ˆâ€åˆå¼€å§‹äº†ä»–çš„æ£®æ—æ¢é™©ã€‚çœ‹è¿™é•œå¤´ï¼Œæ°´æ»´åœ¨å¶å­ä¸Šé—ªçƒï¼Œä»¿ä½›åœ¨è¯´ï¼šâ€œå¿«æ¥ï¼Œå¿«æ¥ï¼Œè¿™é‡Œæœ‰æ•…äº‹ï¼â€ä»–ä¸€è¾¹æŒ–æ´ï¼Œä¸€è¾¹åƒä¸ªæ–°æ‰‹å¨å¸ˆè¯•å›¾åˆ‡æ´‹è‘±â€”â€”æ¯ä¸€ä¸‹éƒ½å°å¿ƒç¿¼ç¿¼ï¼Œç”Ÿæ€•è‡ªå·±ä¸å°å¿ƒæŒ–å‡ºä¸ªâ€œå†å²é—å€â€ã€‚åä¸‹ä¼‘æ¯çš„æ—¶å€™ï¼Œè„¸ä¸Šçš„è¡¨æƒ…å°±åƒå‘ç°æ–°å¤§é™†ä¸€æ ·ï¼ç„¶åï¼Œä»–æ‹¿èµ·æ–§å¤´ç æ ‘æï¼Œç®€ç›´æ˜¯ç°ä»£ç‰ˆçš„â€œç¥é›•ä¾ ä¾£â€ï¼Œåªä¸è¿‡å¯¹è±¡æ˜¯æ ‘æœ¨ã€‚æœ€åï¼Œé‚£å †æ ‘ææ¶è¿‡æ³¥æ³çš„å°æ°´å‘ï¼Œä»¿ä½›åœ¨è¯´ï¼šâ€œæˆ‘å°±æ˜¯ä¸æ€•æ¹¿è„šçš„å‹‡å£«ï¼â€è¿™å°±æ˜¯æˆ‘ä»¬çš„å»ºé€ ä¹‹æ—…ï¼\",\n      \"OST\": 2,\n      \"new_timestamp\": \"00:51-01:37\"\n    }\n  ],\n  \"video_clip_json_path\": \"E:\\\\projects\\\\NarratoAI\\\\resource\\\\scripts\\\\2024-1118-230421.json\",\n  \"video_origin_path\": \"E:\\\\projects\\\\NarratoAI\\\\resource\\\\videos\\\\test.mp4\",\n  \"video_aspect\": \"16:9\",\n  \"video_language\": \"zh-CN\",\n  \"voice_name\": \"zh-CN-YunjianNeural\",\n  \"voice_volume\": 1,\n  \"voice_rate\": 1.2,\n  \"voice_pitch\": 1,\n  \"bgm_name\": \"random\",\n  \"bgm_type\": \"random\",\n  \"bgm_file\": \"\",\n  \"bgm_volume\": 0.3,\n  \"subtitle_enabled\": true,\n  \"subtitle_position\": \"bottom\",\n  \"font_name\": \"STHeitiMedium.ttc\",\n  \"text_fore_color\": \"#FFFFFF\",\n  \"text_background_color\": \"transparent\",\n  \"font_size\": 75,\n  \"stroke_color\": \"#000000\",\n  \"stroke_width\": 1.5,\n  \"custom_position\": 70,\n  \"n_threads\": 8\n  },\n  \"subclip_videos\": {\n    \"00:10-01:01\": \"E:\\\\projects\\\\NarratoAI\\\\storage\\\\cache_videos/vid-00_10-01_01.mp4\",\n    \"01:07-01:53\": \"E:\\\\projects\\\\NarratoAI\\\\storage\\\\cache_videos/vid-01_07-01_53.mp4\"\n  }\n}'\n\nè¯·æ±‚1ï¼Œè¿”å›çš„å‚æ•°æ˜¯ï¼š\n{\n  \"task_id\": \"4e9b575f-68c0-4ae1-b218-db42b67993d0\",\n  \"output_path\": \"E:\\\\projects\\\\NarratoAI\\\\resource\\\\videos\\\\2024-11-19.mp4\",\n  \"resolution\": \"1080p\",\n  \"format\": \"mp4\",\n  \"filename\": \"2024-11-19.mp4\"\n}\noutput_pathéœ€è¦ä¼ é€’ç»™è¯·æ±‚2\nè¯·æ±‚2ï¼Œè¿”å›æ•°æ®ä¸ºï¼š\n{\n  \"task_id\": \"04497017-953c-44b4-bf1d-9d8ed3ebbbce\",\n  \"script\": [\n    {\n      \"timestamp\": \"00:10-01:01\",\n      \"picture\": \"å¥½çš„ï¼Œä»¥ä¸‹æ˜¯å°å½±ç‰‡ç•«é¢çš„å®¢è§€æè¿°ï¼š\\n\\nå½±ç‰‡é¡¯ç¤ºä¸€åç•™è‘—é¬é¬šçš„ç”·å­åœ¨ä¸€è™•æ¨¹æ—èŒ‚å¯†çš„æ–œå¡ä¸ŠæŒ–æ˜ã€‚\\n\\nç•«é¢ä¸€ï¼šç”·å­å¾å¾Œæ–¹å‡ºç¾ï¼ŒèƒŒè‘—ä¸€å€‹è»ç¶ è‰²çš„èƒŒåŒ…ï¼ŒèƒŒåŒ…è£¡ä¼¼ä¹è£æœ‰å·¥å…·ã€‚ä»–ç©¿è‘—å¡å…¶è‰²çš„é•·è¤²å’Œæ·±è‰²çš„ç™»å±±é‹ã€‚\\n\\nç•«é¢äºŒï¼šç‰¹å¯«é¡é ­é¡¯ç¤ºç”·å­çš„èƒŒåŒ…ï¼Œä¸€å€‹èˆŠçš„é¬é ­å¾åŒ…è£¡éœ²å‡ºä¾†ï¼ŒåŒ…è£¡é‚„æœ‰å…¶ä»–å·¥å…·ï¼ŒåŒ…æ‹¬ä¸€å€‹éŸå­ã€‚\\n\\nç•«é¢ä¸‰ï¼šç”·å­ç”¨é¬é ­åœ¨æ–œå¡ä¸ŠæŒ–åœŸï¼ŒèƒŒåŒ…æ”¾åœ¨ä»–æ—é‚Šã€‚\\n\\nç•«é¢å››ï¼šç‰¹å¯«é¡é ­é¡¯ç¤ºç”·å­çš„ç™»å±±é‹åœ¨æ³¥åœŸä¸­ã€‚\\n\\nç•«é¢äº”ï¼šç”·å­ååœ¨æ–œå¡ä¸Šï¼Œç”¨æ‰‹æ¸…ç†æ¨¹æ ¹å’Œæ³¥åœŸã€‚\\n\\nç•«é¢å…­ï¼šåœ°ä¸Šæœ‰ä¸€äº›é¬†å‹•çš„æ³¥åœŸå’Œè½è‘‰ã€‚\\n\\nç•«é¢ä¸ƒï¼šç”·å­çš„èƒŒåŒ…è¿‘æ™¯é¡é ­ï¼Œä»–æ­£åœ¨æŒ–æ˜ã€‚\\n\\nç•«é¢å…«ï¼šç”·å­åœ¨æ–œå¡ä¸ŠæŒ–æ˜ï¼Œæšèµ·ä¸€é™£å¡µåœŸã€‚\\n\\nç•«é¢ä¹ï¼šç‰¹å¯«é¡é ­é¡¯ç¤ºç”·å­ç”¨æ‰‹æ¸…ç†æ³¥åœŸã€‚\\n\\nç•«é¢åï¼šç‰¹å¯«é¡é ­é¡¯ç¤ºæŒ–å‡ºçš„æ³¥åœŸå‰–é¢ï¼Œå¯ä»¥çœ‹åˆ°åœŸå£¤çš„å±¤æ¬¡ã€‚\",\n      \"narration\": \"ä¸Šä¸€ä¸ªç”»é¢æ˜¯æˆ‘åœ¨ç»ç¾çš„è‡ªç„¶ä¸­ï¼Œå‡†å¤‡å¼€å¯æˆ‘çš„â€œåœŸè±ªâ€æŒ–æ˜ä¹‹æ—…ã€‚ç°åœ¨ï¼Œä½ ä»¬çœ‹åˆ°è¿™ä½ç•™ç€èƒ¡å­çš„â€œå¤§å“¥â€ï¼Œä»–èƒŒç€ä¸ªå†›ç»¿è‰²çš„åŒ…ï¼Œé‡Œé¢è£…çš„å¯ä¸ä»…ä»…æ˜¯å·¥å…·ï¼Œè¿˜æœ‰æˆ‘å¯¹ç”Ÿæ´»çš„æ— é™çƒ­çˆ±ï¼ˆä»¥åŠä¸€ä¸ä¸å®‰ï¼‰ã€‚çœ‹ï¼è¿™æŠŠæ—§é•å¤´å°±åƒæˆ‘çš„å‰ä»»â€”â€”ç”¨èµ·æ¥è´¹åŠ²ï¼Œä½†åˆèˆä¸å¾—æ‰”æ‰ã€‚\\n\\nä»–åœ¨æ–œå¡ä¸ŠæŒ–åœŸï¼Œæ³¥åœŸé£æ‰¬ï¼Œä»¿ä½›åœ¨è·Ÿå¤§åœ°è¿›è¡Œä¸€åœºâ€œæ³¥å·´å¤§æˆ˜â€ã€‚æ¯ä¸€é“²ä¸‹å»ï¼Œéƒ½èƒ½å¬åˆ°å¤§åœ°å¾®å¾®çš„å‘»åŸï¼šå“å‘€ï¼Œæˆ‘è¿™é¢—å°æ ‘æ ¹å¯æ¯”æˆ‘å½“å¹´çš„æƒ…æ„Ÿçº è‘›è¿˜éš¾å¤„ç†å‘¢ï¼åˆ«æ‹…å¿ƒï¼Œè¿™äº›æ³¥åœŸå±‚æ¬¡åˆ†æ˜ï¼Œç®€ç›´å¯ä»¥å¼€ä¸ªâ€œæ³¥åœŸåšç‰©é¦†â€ã€‚æ‰€ä»¥ï¼Œæœ‹å‹ä»¬ï¼Œè·Ÿç€æˆ‘ä¸€èµ·äº«å—è¿™åœºæ³¥æ³ä¸­çš„ä¹è¶£å§ï¼\",\n      \"OST\": 2,\n      \"new_timestamp\": \"00:00-00:51\"\n    },\n    {\n      \"timestamp\": \"01:07-01:53\",\n      \"picture\": \"å¥½çš„ï¼Œä»¥ä¸‹æ˜¯å°å½±ç‰‡ç•«é¢å…§å®¹çš„å®¢è§€æè¿°ï¼š\\n\\nå½±ç‰‡ä»¥ä¸€ç³»åˆ—æ£®æ—ç’°å¢ƒçš„é¡é ­é–‹å§‹ã€‚ç¬¬ä¸€å€‹é¡é ­å±•ç¤ºäº†ç¶ è‘‰æ¤ç‰©çš„ç‰¹å¯«é¡é ­ï¼Œè‘‰å­ä¸Šæœ‰ä¸€äº›æ°´ç ã€‚æ¥ä¸‹ä¾†çš„é¡é ­æ˜¯ä¸€å€‹ç”·äººåœ¨æ£®æ—è£¡æŒ–æ˜ä¸€å€‹å°å‘ï¼Œä»–è·ªåœ¨åœ°ä¸Šï¼Œç”¨éŸå­æŒ–åœŸã€‚\\n\\næ¥ä¸‹ä¾†çš„é¡é ­æ˜¯åŒä¸€å€‹ç”·äººååœ¨ä»–æŒ–çš„å‘æ—é‚Šï¼Œæœ›è‘—å‰æ–¹ã€‚ç„¶å¾Œï¼Œé¡é ­é¡¯ç¤ºè©²å‘çš„å»£è§’é¡é ­ï¼Œé¡¯ç¤ºå…¶çµæ§‹å’Œå¤§å°ã€‚\\n\\nä¹‹å¾Œçš„é¡é ­ï¼ŒåŒä¸€å€‹ç”·äººåœ¨æ¨¹æ—è£¡åŠˆæŸ´ã€‚é¡é ­æœ€å¾Œå‘ˆç¾å‡ºä¸€æ½­æ¸¾æ¿çš„æ°´ï¼Œå‘¨åœç’°ç¹è‘—æ¨¹æã€‚ç„¶å¾Œé¡é ­åˆå›åˆ°äº†æ£®æ—è£¡ç”Ÿé•·èŒ‚ç››çš„æ¤ç‰©ç‰¹å¯«é¡é ­ã€‚\",\n      \"narration\": \"å¥½å˜ï¼Œæœ‹å‹ä»¬ï¼Œæˆ‘ä»¬å·²ç»åœ¨æ³¥åœŸåšç‰©é¦†é‡Œæ£é¼“äº†ä¸€é˜µå­ï¼Œç°åœ¨æ˜¯æ—¶å€™è·Ÿå¤§è‡ªç„¶äº²å¯†æ¥è§¦äº†ï¼çœ‹çœ‹è¿™ç‰‡æ£®æ—ï¼Œç»¿å¶ä¸Šæ°´ç é—ªé—ªå‘å…‰ï¼Œå°±åƒæˆ‘æ›¾ç»çš„çˆ±æƒ…ï¼Œè™½ç„¶çŸ­æš‚ï¼Œå´ç¾å¾—è®©äººå¿ƒç¢ã€‚\\n\\nç°åœ¨ï¼Œæˆ‘åœ¨è¿™é‡ŒæŒ–ä¸ªå°å‘ï¼Œæ„Ÿè§‰è‡ªå·±å°±åƒæ˜¯ä¸€ä½æ–°æ™‹â€œæŒ–åœŸå¤§ç‹â€ï¼Œä¸è¿‡è¯´å®è¯ï¼Œè¿™æ‰‹è‰ºçœŸä¸æ•¢æ­ç»´ï¼Œè¿é“²å­éƒ½å¿«å¯¹æˆ‘å´©æºƒäº†ã€‚å†è¯´åŠˆæŸ´ï¼Œè¿™åŠ¨ä½œç®€ç›´æ¯”æˆ‘å‰ä»»çš„æƒ…ç»ªæ³¢åŠ¨è¿˜è¦æ¿€çƒˆï¼æœ€åè¿™ä¸€æ½­æµ‘æµŠçš„æ°´ï¼Œåˆ«æ‹…å¿ƒï¼Œå®ƒåªæ˜¯å‘Šè¯‰æˆ‘ï¼šç”Ÿæ´»å°±åƒè¿™æ°´ï¼Œæ€»æœ‰äº›æ‚è´¨ï¼Œä½†ä¹Ÿåˆ«å¿˜äº†ï¼Œè¦å‹‡æ•¢é¢å¯¹å“¦ï¼\",\n      \"OST\": 2,\n      \"new_timestamp\": \"00:51-01:37\"\n    }\n  ]\n}\noutput_pathå’Œscriptå‚æ•°éœ€è¦ä¼ é€’ç»™è¯·æ±‚3\nè¯·æ±‚3è¿”å›å‚æ•°æ˜¯\n{\n  \"task_id\": \"b6f5a98a-b2e0-4e3d-89c5-64fb90db2ec1\",\n  \"subclip_videos\": {\n    \"00:10-01:01\": \"E:\\\\projects\\\\NarratoAI\\\\storage\\\\cache_videos/vid-00_10-01_01.mp4\",\n    \"01:07-01:53\": \"E:\\\\projects\\\\NarratoAI\\\\storage\\\\cache_videos/vid-01_07-01_53.mp4\"\n  }\n}\nsubclip_videoså’Œ output_pathå’Œscriptå‚æ•°éœ€è¦ä¼ é€’ç»™è¯·æ±‚4\næœ€åå®Œæˆå·¥ä½œæµ\n\n0ä»£è¡¨åªæ’­æ”¾æ–‡æ¡ˆéŸ³é¢‘ï¼Œç¦ç”¨è§†é¢‘åŸå£°ï¼›1ä»£è¡¨åªæ’­æ”¾è§†é¢‘åŸå£°ï¼Œä¸éœ€è¦æ’­æ”¾æ–‡æ¡ˆéŸ³é¢‘å’Œå­—å¹•ï¼›2ä»£è¡¨å³æ’­æ”¾æ–‡æ¡ˆéŸ³é¢‘ä¹Ÿè¦æ’­æ”¾è§†é¢‘åŸå£°ï¼›"
        },
        {
          "name": "webui",
          "type": "tree",
          "content": null
        }
      ]
    }
  ]
}