{
  "metadata": {
    "timestamp": 1736561399008,
    "page": 30,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjMw",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "mitmproxy/mitmproxy",
      "stars": 37497,
      "defaultBranch": "main",
      "files": [
        {
          "name": ".gitattributes",
          "type": "blob",
          "size": 0.1103515625,
          "content": "mitmproxy/tools/web/static/**/* -diff linguist-vendored\nweb/src/js/filt/filt.js -diff\n*.bin binary\n*.mitm binary\n"
        },
        {
          "name": ".github",
          "type": "tree",
          "content": null
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.34765625,
          "content": ".DS_Store\nMANIFEST\n**/tmp\n/venv*\n/.venv*\n*.py[cdo]\n*.swp\n*.swo\n*.sqlite\n*.egg-info/\n.coverage*\n.idea\n.vscode\n.cache/\n.tox*/\nbuild/\ndist/\nmitmproxy/contrib/kaitaistruct/**/*.ksy\n.pytest_cache\n__pycache__\n.hypothesis/\n.hugo_build.lock\n\n# UI\n\nnode_modules\nbower_components\n*.map\nsslkeylogfile.log\n.tox/\n.python-version\ncoverage.xml\nweb/coverage/\n.mypy_cache/\n"
        },
        {
          "name": "CHANGELOG.md",
          "type": "blob",
          "size": 82.46484375,
          "content": "# Release History\n\n<!--\n✨ Please add a bullet point describing your change.                                                             ✨\n✨ You do not need to add a pull request reference or author information, this will be done automatically by CI. ✨\n-->\n\n## Unreleased: mitmproxy next\n\n- **Local Capture Mode** is now available on Linux as well.\n  ([#7440](https://github.com/mitmproxy/mitmproxy/pull/7440), @mhils)\n- mitmproxy now requires Python 3.12 or above.\n  ([#7440](https://github.com/mitmproxy/mitmproxy/pull/7440), @mhils)\n- Add cache-busting for mitmweb's front end code.\n  ([#7386](https://github.com/mitmproxy/mitmproxy/pull/7386), @mhils)\n- Clicking the URL in mitmweb now places the cursor at the current position instead of selecting the entire URL.\n  ([#7385](https://github.com/mitmproxy/mitmproxy/pull/7385), @lups2000)\n- Add missing status codes\n  ([#7455](https://github.com/mitmproxy/mitmproxy/pull/7455), @jwadolowski)\n- Remove filter expression lowercasing in block_list addon\n  ([#7456](https://github.com/mitmproxy/mitmproxy/pull/7456), @jwadolowski)\n- Remove check for status codes in the blocklist add-on.\n  ([#7453](https://github.com/mitmproxy/mitmproxy/pull/7453), @lups2000, @AdityaPatadiya)\n- Prompt user before clearing screen\n  ([#7445](https://github.com/mitmproxy/mitmproxy/pull/7445), @errorxyz)\n\n## 05 December 2024: mitmproxy 11.0.2\n\n- Stop sorting keys in JSON contentview\n  ([#7346](https://github.com/mitmproxy/mitmproxy/pull/7346), @injust)\n- Fix a bug where a custom CA would raise an error.\n  ([#7355](https://github.com/mitmproxy/mitmproxy/pull/7355), @nneonneo)\n- Fix a bug where the mitmproxy UI would crash on negative durations.\n  ([#7358](https://github.com/mitmproxy/mitmproxy/pull/7358), @mhils)\n- Allow technically invalid HTTP transfer encodings in requests if `validate_inbound_headers` is disabled.\n  ([#7361](https://github.com/mitmproxy/mitmproxy/pull/7361), [#7373](https://github.com/mitmproxy/mitmproxy/pull/7373), @mhils)\n- Fix a bug in windows management in mitmproxy TUI whereby the help window does not appear if \"?\" is pressed within the overlay\n  ([#6500](https://github.com/mitmproxy/mitmproxy/pull/6500), @emanuele-em)\n\n## 24 November 2024: mitmproxy 11.0.1\n\n- Tighten HTTP detection heuristic to better support custom TCP-based protocols.\n  ([#7228](https://github.com/mitmproxy/mitmproxy/pull/7228), @fatanugraha)\n- Implement stricter validation of HTTP headers to harden against request smuggling attacks.\n  ([#7345](https://github.com/mitmproxy/mitmproxy/issues/7345), @mhils)\n- Increase HTTP/2 default flow control window size, fixing performance issues.\n  ([#7317](https://github.com/mitmproxy/mitmproxy/pull/7317), @sujaldev)\n- Fix a bug where mitmproxy would incorrectly report that TLS 1.0 and 1.1 are not supported\n  with the current OpenSSL build.\n  ([#7241](https://github.com/mitmproxy/mitmproxy/pull/7241), @mhils)\n- Docker: Update image to Python 3.13 on Debian Bookworm.\n  ([#7242](https://github.com/mitmproxy/mitmproxy/pull/7242), @mhils)\n- Add a `tun` proxy mode that creates a virtual network device on Linux for transparent proxying.\n  ([#7278](https://github.com/mitmproxy/mitmproxy/pull/7278), @mhils)\n- `browser.start` command now supports Firefox.\n  ([#7239](https://github.com/mitmproxy/mitmproxy/pull/7239), @sujaldev)\n- Fix interaction of the `modify_headers` and `stream_large_bodies` options.\n  This may break users of `modify_headers` that rely on filters referencing the message body.\n  We expect this to be uncommon, but please make yourself heard if that's not the case.\n  ([#7286](https://github.com/mitmproxy/mitmproxy/pull/7286), @lukant)\n- Fix a crash when handling corrupted compressed body in savehar addon and its tests.\n  ([#7320](https://github.com/mitmproxy/mitmproxy/pull/7320), @8192bytes)\n- Remove dependency on `protobuf` library as it was no longer being used.\n  ([#7327](https://github.com/mitmproxy/mitmproxy/pull/7327), @matthew16550)\n\n## 02 October 2024: mitmproxy 11.0.0\n\n- mitmproxy now supports transparent HTTP/3 proxying.\n  ([#7202](https://github.com/mitmproxy/mitmproxy/pull/7202), @errorxyz, @meitinger, @mhils)\n- Add HTTP3 support in HTTPS reverse-proxy mode.\n  ([#7114](https://github.com/mitmproxy/mitmproxy/pull/7114), @errorxyz)\n- mitmproxy now officially supports Python 3.13.\n  ([#6934](https://github.com/mitmproxy/mitmproxy/pull/6934), @mhils)\n- Tighten HTTP detection heuristic to better support custom TCP-based protocols.\n  ([#7087](https://github.com/mitmproxy/mitmproxy/pull/7087))\n- Add `show_ignored_hosts` option to display ignored flows in the UI.\n  This option is implemented as a temporary workaround and will be removed in the future.\n  ([#6720](https://github.com/mitmproxy/mitmproxy/pull/6720), @NicolaiSoeborg)\n- Fix slow tnetstring parsing in case of very large tnetstring.\n  ([#7121](https://github.com/mitmproxy/mitmproxy/pull/7121), @mik1904)\n- Add `getaddrinfo`-based fallback for DNS resolution if we are unable to\n  determine the operating system's name servers.\n  ([#7122](https://github.com/mitmproxy/mitmproxy/pull/7122), @mhils)\n- Improve the error message when users specify the `certs` option without a matching private key.\n  ([#7073](https://github.com/mitmproxy/mitmproxy/pull/7073), @mhils)\n- Fix a bug where intermediate certificates would not be transmitted when using QUIC.\n  ([#7073](https://github.com/mitmproxy/mitmproxy/pull/7073), @mhils)\n- Fix a bug where fragmented QUIC client hellos were not handled properly.\n  ([#7067](https://github.com/mitmproxy/mitmproxy/pull/7067), @errorxyz)\n- Emit a warning when users configure a TLS version that is not supported by the\n  current OpenSSL build.\n  ([#7139](https://github.com/mitmproxy/mitmproxy/pull/7139), @mhils)\n- Fix a bug where mitmproxy would crash when receiving `STOP_SENDING` QUIC frames.\n  ([#7119](https://github.com/mitmproxy/mitmproxy/pull/7119), @mhils)\n- Fix error when unmarking all flows.\n  ([#7192](https://github.com/mitmproxy/mitmproxy/pull/7192), @bburky)\n- Add addon to update the alt-svc header in reverse mode.\n  ([#7093](https://github.com/mitmproxy/mitmproxy/pull/7093), @errorxyz)\n- Do not send unnecessary empty data frames when streaming HTTP/2.\n  ([#7196](https://github.com/mitmproxy/mitmproxy/pull/7196), @rubu)\n- Fix a bug where mitmproxy would ignore Ctrl+C/SIGTERM on OpenBSD.\n  ([#7130](https://github.com/mitmproxy/mitmproxy/pull/7130), @catap)\n- Fix of measurement unit in HAR import, duration is in milliseconds.\n  ([#7179](https://github.com/mitmproxy/mitmproxy/pull/7179), @dstd)\n- `Connection.tls_version` now is `QUICv1` instead of `QUIC` for QUIC.\n  ([#7201](https://github.com/mitmproxy/mitmproxy/pull/7201), @mhils)\n- Add support for full mTLS with client certs between client and mitmproxy.\n  ([#7175](https://github.com/mitmproxy/mitmproxy/pull/7175), @Kriechi)\n- Update documentation adding a list of all possibile web_columns.\n  ([#7205](https://github.com/mitmproxy/mitmproxy/pull/7205), @lups2000, @Abhishek-Bohora)\n\n## 02 August 2024: mitmproxy 10.4.2\n\n- Fix a crash on startup when mitmproxy is unable to determine the OS' DNS servers\n  ([#7066](https://github.com/mitmproxy/mitmproxy/pull/7066), @errorxyz)\n\n## 29 July 2024: mitmproxy 10.4.1\n\n- Fix a bug where macOS local mode would not start up on macOS.\n  ([#7045](https://github.com/mitmproxy/mitmproxy/pull/7045), @mhils)\n- Fix UDP error handling when we learn that the remote has disconnected.\n  ([#7045](https://github.com/mitmproxy/mitmproxy/pull/7045), @mhils)\n- Container images are now published to both Docker Hub and GitHub Container Registry.\n  ([#7061](https://github.com/mitmproxy/mitmproxy/pull/7061), @mhils)\n\n## 25 July 2024: mitmproxy 10.4.0\n\n* Add support for DNS over TCP.\n  ([#6935](https://github.com/mitmproxy/mitmproxy/pull/6935), @errorxyz)\n* Add first MVP new Capture Tab in mitmweb\n  ([#6999](https://github.com/mitmproxy/mitmproxy/pull/6999), @lups2000)\n* Add `HttpConnectedHook` and `HttpConnectErrorHook`.\n  ([#6930](https://github.com/mitmproxy/mitmproxy/pull/6930), @errorxyz)\n* Fix non-linear growth in processing time for large HTTP bodies.\n  ([#6952](https://github.com/mitmproxy/mitmproxy/pull/6952), @jackfromeast)\n* Fix a bug where connections would be incorrectly ignored with `allow_hosts`.\n  ([#7002](https://github.com/mitmproxy/mitmproxy/pull/7002), @JarLob, @mhils)\n* Fix zstd decompression to read across frames.\n  ([#6921](https://github.com/mitmproxy/mitmproxy/pull/6921), @zendai)\n* Handle certificates we cannot parse more gracefully.\n  ([#6994](https://github.com/mitmproxy/mitmproxy/pull/6994), @mhils)\n* Parse compressed domain names in ResourceRecord data.\n  ([#6954](https://github.com/mitmproxy/mitmproxy/pull/6954), @errorxyz)\n* Fix a bug where mitmweb's flow list would not stay at the bottom.\n  ([#7008](https://github.com/mitmproxy/mitmproxy/pull/7008), @mhils)\n* Fix a bug where SSH connections would be incorrectly handled as HTTP.\n  ([#7041](https://github.com/mitmproxy/mitmproxy/pull/7041), @mhils)\n* Skip UTF-8 byte-order marks (BOM) when loading HAR files.\n  ([#6897](https://github.com/mitmproxy/mitmproxy/pull/6897), @dstd)\n* Allow `typing.Sequence[str]` to be an editable option.\n  ([#7001](https://github.com/mitmproxy/mitmproxy/pull/7001), @errorxyz)\n* Add Host header to CONNECT requests.\n  ([#7021](https://github.com/mitmproxy/mitmproxy/pull/7021), @petsneakers)\n* Support all query types in DNS mode.\n  ([#6975](https://github.com/mitmproxy/mitmproxy/pull/6975), @errorxyz)\n* Fix a bug where mitmproxy would crash for pipelined HTTP flows.\n  ([#7031](https://github.com/mitmproxy/mitmproxy/pull/7031), @gdiepen, @mhils)\n* Add an optional \"index\" column for mitmweb.\n  ([#7039](https://github.com/mitmproxy/mitmproxy/pull/7039), @mhils)\n\n## 12 June 2024: mitmproxy 10.3.1\n\n* Release tags are now prefixed with `v` again.\n  ([#6810](https://github.com/mitmproxy/mitmproxy/pull/6810), @mhils)\n* Fix a bug where mitmproxy would not exit when `-n` is passed.\n  ([#6819](https://github.com/mitmproxy/mitmproxy/pull/6819), @mhils)\n* Set the `unbuffered` (stdout/stderr) flag for the `mitmdump` PyInstaller build.\n  ([#6821](https://github.com/mitmproxy/mitmproxy/pull/6821), @Prinzhorn)\n* Fix a bug where client replay would not work with proxyauth.\n  ([#6866](https://github.com/mitmproxy/mitmproxy/pull/6866), @mhils)\n* Fix slowdown when sending large amounts of data over HTTP/2.\n  ([#6875](https://github.com/mitmproxy/mitmproxy/pull/6875), @aib)\n* Add an option to strip HTTPS records from DNS responses to block encrypted ClientHellos.\n  ([#6876](https://github.com/mitmproxy/mitmproxy/pull/6876), @errorxyz)\n* Add an API to parse HTTPS records from DNS RDATA.\n  ([#6884](https://github.com/mitmproxy/mitmproxy/pull/6884), @errorxyz)\n* Fix flow export in mitmweb for Safari\n  ([#6917](https://github.com/mitmproxy/mitmproxy/pull/6917), @mhils, @canyesilyurt)\n* Releases now come with a Sigstore attestations file to demonstrate build provenance.\n  ([f05c050](https://github.com/mitmproxy/mitmproxy/commit/f05c050f615b9ab9963707944c893bc94e738525), @mhils)\n\n## 17 April 2024: mitmproxy 10.3.0\n\n* Add support for editing non text files in a hex editor\n  ([#6768](https://github.com/mitmproxy/mitmproxy/pull/6768), @wnyyyy)\n* Add `server_connect_error` hook that is triggered when connection establishment fails.\n  ([#6806](https://github.com/mitmproxy/mitmproxy/pull/6806), @haanhvu, @spacewasp, @mhils)\n* Add section in mitmweb for rendering, adding and removing a comment\n  ([#6709](https://github.com/mitmproxy/mitmproxy/pull/6709), @lups2000)\n* Fix multipart form content view being unusable.\n  ([#6653](https://github.com/mitmproxy/mitmproxy/pull/6653), @DaniElectra)\n* Documentation Improvements on CA Certificate Generation\n  ([#5370](https://github.com/mitmproxy/mitmproxy/pull/5370), @zioalex)\n* Make it possible to read flows from stdin with mitmweb.\n  ([#6732](https://github.com/mitmproxy/mitmproxy/pull/6732), @jaywor1)\n* Update aioquic dependency to >= 1.0.0, < 2.0.0.\n  ([#6747](https://github.com/mitmproxy/mitmproxy/pull/6747), @jlaine)\n* Fix a bug where async `client_connected` handlers would crash mitmproxy.\n  ([#6749](https://github.com/mitmproxy/mitmproxy/pull/6749), @mhils)\n* Add button to close flow details panel\n  ([#6734](https://github.com/mitmproxy/mitmproxy/pull/6734), @lups2000)\n* Ignore SIGPIPE signals when there is lots of traffic.\n  Socket errors are handled directly and do not require extra signals\n  that generate noise.\n  ([#6764](https://github.com/mitmproxy/mitmproxy/pull/6764), @changsin)\n* Add primitive websocket interception and modification\n  ([#6766](https://github.com/mitmproxy/mitmproxy/pull/6766), @errorxyz)\n* Add support for exporting websocket messages when using \"raw\" export.\n  ([#6767](https://github.com/mitmproxy/mitmproxy/pull/6767), @txrp0x9)\n* The \"save body\" feature now also includes WebSocket messages.\n  ([#6767](https://github.com/mitmproxy/mitmproxy/pull/6767), @txrp0x9)\n* Fix compatibility with older cryptography versions and silence a DeprecationWarning on Python <3.11.\n  ([#6790](https://github.com/mitmproxy/mitmproxy/pull/6790), @mhils)\n* Fix a bug when proxying unicode domains.\n  ([#6796](https://github.com/mitmproxy/mitmproxy/pull/6796), @mhils)\n\n\n## 07 March 2024: mitmproxy 10.2.4\n\n* Fix a bug where errors during startup would not be displayed when running mitmproxy.\n  ([#6719](https://github.com/mitmproxy/mitmproxy/pull/6719), @mhils)\n* Use newer cryptography APIs to avoid CryptographyDeprecationWarnings.\n  This bumps the minimum required version to cryptography 42.0.\n  ([#6718](https://github.com/mitmproxy/mitmproxy/pull/6718), @mhils)\n\n\n## 06 March 2024: mitmproxy 10.2.3\n\n* Fix a regression where `allow_hosts`/`ignore_hosts` would break with IPv6 connections.\n  ([#6614](https://github.com/mitmproxy/mitmproxy/pull/6614), @dqxpb)\n* Fix bug where failed CONNECT request URLs are saved to HAR files incorrectly.\n  ([#6599](https://github.com/mitmproxy/mitmproxy/pull/6599), @basedBaba)\n* Add an arm64 variant for the precompiled macOS app.\n  ([#6633](https://github.com/mitmproxy/mitmproxy/pull/6633), @mhils)\n* Fix duplicate answers being returned in DNS queries.\n  ([#6648](https://github.com/mitmproxymitmproxy/pull/6648), @sujaldev)\n* Fix bug where wireguard config is generated with incorrect endpoint when two or more NICs are active.\n  ([#6659](https://github.com/mitmproxy/mitmproxy/pull/6659), @basedBaba)\n* Fix a regression when leaf cert creation would fail with intermediate CAs in `ca_file`.\n  ([#6666](https://github.com/mitmproxy/mitmproxy/pull/6666), @manselmi)\n* Add `content_view_lines_cutoff` option to mitmdump\n  ([#6692](https://github.com/mitmproxy/mitmproxy/pull/6692), @errorxyz)\n* Allow runtime modifications of HTTP flow filters for server replays\n  ([#6695](https://github.com/mitmproxy/mitmproxy/pull/6695), @errorxyz)\n* Fix bug view options menu in case of overflow\n  ([#6697](https://github.com/mitmproxy/mitmproxy/pull/6697), @lups2000)\n* Allow --allow-hosts and --ignore-hosts to work together\n  ([#6711](https://github.com/mitmproxy/mitmproxy/pull/6711), @dstd)\n\n\n## 21 January 2024: mitmproxy 10.2.2\n\n* Fix a regression where clientplayback would break due to eager task execution.\n  ([#6605](https://github.com/mitmproxy/mitmproxy/pull/6605), @mhils)\n* Fix a regression where WebSocket connections would break due to eager task execution.\n  ([#6609](https://github.com/mitmproxy/mitmproxy/pull/6609), @mhils)\n* Fix bug where insecure HTTP requests are saved incorrectly when exporting to HAR files.\n  ([#6578](https://github.com/mitmproxy/mitmproxy/pull/6578), @DaniElectra)\n* `allow_hosts`/`ignore_hosts` option now matches against the full `host:port` string.\n  ([#6594](https://github.com/mitmproxy/mitmproxy/pull/6594), @LouisAsanaka)\n\n\n## 06 January 2024: mitmproxy 10.2.1\n\n* Fix a regression introduced in mitmproxy 10.2.0: WireGuard servers\n  now bind to all interfaces again.\n  ([#6587](https://github.com/mitmproxy/mitmproxy/pull/6587), @mhils)\n* Remove stale reference to `ctx.log` in addon documentation.\n  ([#6552](https://github.com/mitmproxy/mitmproxy/pull/6552), @brojonat)\n* Fix a bug where a traceback is shown during shutdown.\n  ([#6581](https://github.com/mitmproxy/mitmproxy/pull/6581), @mhils)\n\n\n## 04 January 2024: mitmproxy 10.2.0\n\n* *Local Redirect Mode* is now officially available on\n  [macOS](https://mitmproxy.org/posts/local-redirect/macos/)\n  and [Windows](https://mitmproxy.org/posts/local-redirect/windows/).\n  See the linked blog posts for details. (@emanuele-em, @mhils)\n* UDP streams are now backed by a new implementation in `mitmproxy_rs`.\n  This represents a major API change as UDP traffic is now exposed as streams\n  instead of a callback for each packet. (@mhils)\n* Fix a regression from mitmproxy 10.1.6 where `ignore_hosts` would terminate requests\n  instead of forwarding them.\n  ([#6559](https://github.com/mitmproxy/mitmproxy/pull/6559), @mhils)\n* `ignore_hosts` now waits for the entire HTTP headers if it suspects the connection to be HTTP.\n  ([#6559](https://github.com/mitmproxy/mitmproxy/pull/6559), @mhils)\n\n\n## 14 December 2023: mitmproxy 10.1.6\n\n* Fix compatibility with Windows Schannel clients, which previously got\n  confused by CA and leaf certificate sharing the same Subject Key Identifier.\n  ([#6549](https://github.com/mitmproxy/mitmproxy/pull/6549), @driuba and @mhils)\n* Change keybinding for exporting flow from \"e\" to \"x\" to avoid conflict with \"edit\" keybinding.\n  ([#6225](https://github.com/mitmproxy/mitmproxy/issues/6225), @Llama1412)\n* Fix bug where response flows from HAR files had incorrect `content-length` headers\n  ([#6548](https://github.com/mitmproxy/mitmproxy/pull/6548), @zanieb)\n* Improved handling for `allow_hosts`/`ignore_hosts` options in WireGuard mode (#5930).\n  ([#6513](https://github.com/mitmproxy/mitmproxy/pull/6513), @dsphper)\n* Fix a bug where TCP connections were not closed properly.\n  ([#6543](https://github.com/mitmproxy/mitmproxy/pull/6543), @mhils)\n* DNS resolution is now exempted from `ignore_hosts` in WireGuard Mode.\n  ([#6513](https://github.com/mitmproxy/mitmproxy/pull/6513), @dsphper)\n* Fix case sensitivity of URL added to blocklist\n  ([#6493](https://github.com/mitmproxy/mitmproxy/pull/6493), @emanuele-em)\n* Fix a bug where logging was stopped prematurely during shutdown.\n  ([#6541](https://github.com/mitmproxy/mitmproxy/pull/6541), @mhils)\n* For plaintext traffic, `ignore_hosts` now also takes HTTP/1 host headers into account.\n  ([#6513](https://github.com/mitmproxy/mitmproxy/pull/6513), @dsphper)\n* Fix empty cookie attributes being set to `Key=` instead of `Key`\n  ([#5084](https://github.com/mitmproxy/mitmproxy/pull/5084), @Speedlulu)\n* Scripts with relative paths are now loaded relative to the config file and not where the command is ran\n  ([#4860](https://github.com/mitmproxy/mitmproxy/pull/4860), @Speedlulu)\n* Fix `mitmweb` splitter becoming drag and drop.\n  ([#6492](https://github.com/mitmproxy/mitmproxy/pull/6492), @xBZZZZ)\n* Enhance documentation and add alert log messages when stream_large_bodies and modify_body are set\n  ([#6514](https://github.com/mitmproxy/mitmproxy/pull/6514), @rosydawn6)\n\n### Breaking Changes\n\n* Subject Alternative Names are now represented as `cryptography.x509.GeneralNames` instead of `list[str]`\n  across the codebase. This fixes a regression introduced in mitmproxy 10.1.1 related to punycode domain encoding.\n  ([#6537](https://github.com/mitmproxy/mitmproxy/pull/6537), @mhils)\n\n\n## 14 November 2023: mitmproxy 10.1.5\n\n* Remove stray `replay-extra` from CLI status bar.\n  ([37d62ce](https://github.com/mitmproxy/mitmproxy/commit/37d62ce73ebd57780cff5ecf8b2ee57ec7d8ab30), @mhils)\n\n\n## 13 November 2023: mitmproxy 10.1.4\n\n* Fix a hang/freeze in the macOS distributions when doing TLS negotiation.\n  ([#6480](https://github.com/mitmproxy/mitmproxy/pull/6480), @mhils)\n* Update savehar addon to fix creating corrupt har files caused by empty response content\n  ([#6459](https://github.com/mitmproxy/mitmproxy/pull/6459), @lain3d)\n* Update savehar addon to handle scenarios where \"path\" key in cookie\n  attrs dict is missing.\n  ([#6458](https://github.com/mitmproxy/mitmproxy/pull/6458), @pogzyb)\n* Add `server_replay_extra` option to serverplayback to define behaviour\n  when replayable response is missing.\n  ([#6465](https://github.com/mitmproxy/mitmproxy/pull/6465), @dkarandikar)\n\n\n## 04 November 2023: mitmproxy 10.1.3\n\n* Fix a bug introduced in mitmproxy 10.1.2 where mitmweb would fail to establish\n  a WebSocket connection. Affected users may need to clear their browser cache\n  or hard-reload mitmweb (Ctrl+Shift+R).\n  ([#6454](https://github.com/mitmproxy/mitmproxy/pull/6454), @mhils)\n\n\n## 03 November 2023: mitmproxy 10.1.2\n\n* Add a raw hex stream contentview.\n  ([#6389](https://github.com/mitmproxy/mitmproxy/pull/6389), @mhils)\n* Add a contentview for DNS-over-HTTPS.\n  ([#6389](https://github.com/mitmproxy/mitmproxy/pull/6389), @mhils)\n* Replaced standalone mitmproxy binaries on macOS with an app bundle\n  that contains the mitmproxy/mitmweb/mitmdump CLI tools.\n  This change was necessary to support macOS code signing requirements.\n  Homebrew remains the recommended installation method.\n  ([#6447](https://github.com/mitmproxy/mitmproxy/pull/6447), @mhils)\n* Fix certificate generation to work with strict mode OpenSSL 3.x clients\n  ([#6410](https://github.com/mitmproxy/mitmproxy/pull/6410), @mmaxim)\n* Fix path() documentation that the return value might include the query string\n  ([#6412](https://github.com/mitmproxy/mitmproxy/pull/6412), @tddschn)\n* mitmproxy now officially supports Python 3.12.\n  ([#6434](https://github.com/mitmproxy/mitmproxy/pull/6434), @mhils)\n* Fix root-relative URLs so that mitmweb can run in subdirectories.\n  ([#6411](https://github.com/mitmproxy/mitmproxy/pull/6411), @davet2001)\n* Add an optional parameter(ldap search filter key) to ProxyAuth-LDAP.\n  ([#6428](https://github.com/mitmproxy/mitmproxy/pull/6428), @outlaws-bai)\n* Fix a regression when using the proxyauth addon with clients that (rightfully) reuse connections.\n  ([#6432](https://github.com/mitmproxy/mitmproxy/pull/6432), @mhils)\n\n\n## 27 September 2023: mitmproxy 10.1.1\n\n* Fix certificate generation for punycode domains.\n  ([#6382](https://github.com/mitmproxy/mitmproxy/pull/6382), @mhils)\n* Fix a bug that would crash mitmweb when opening options.\n  ([#6386](https://github.com/mitmproxy/mitmproxy/pull/6386), @mhils)\n\n\n## 24 September 2023: mitmproxy 10.1.0\n\n* Add support for reading HAR files using the existing flow loading APIs, e.g. `mitmproxy -r example.har`.\n  ([#6335](https://github.com/mitmproxy/mitmproxy/pull/6335), @stanleygvi)\n* Add support for writing HAR files using the `save.har` command and the `hardump` option for mitmdump.\n  ([#6368](https://github.com/mitmproxy/mitmproxy/pull/6368), @stanleygvi)\n* Packaging changes:\n  - `mitmproxy-rs` does not depend on a protobuf compiler being available anymore,\n    we're now also providing a working source distribution for all platforms.\n  - On macOS, `mitmproxy-rs` now depends on `mitmproxy-macos`. We only provide binary wheels for this package because\n    it contains a code-signed system extension. Building from source requires a valid Apple Developer Id, see CI for\n    details.\n  - On Windows, `mitmproxy-rs` now depends on `mitmproxy-windows`. We only provide binary wheels for this package to\n    simplify our deployment process, see CI for how to build from source.\n\n  ([#6303](https://github.com/mitmproxy/mitmproxy/issues/6303), @mhils)\n* Increase maximum dump file size accepted by mitmweb\n  ([#6373](https://github.com/mitmproxy/mitmproxy/pull/6373), @t-wy)\n\n\n## 04 August 2023: mitmproxy 10.0.0\n\n* Add experimental support for HTTP/3 and QUIC.\n  ([#5435](https://github.com/mitmproxy/mitmproxy/issues/5435), @meitinger)\n* ASGI/WSGI apps can now listen on all ports for a specific hostname.\n  This makes it simpler to accept both HTTP and HTTPS.\n  ([#5725](https://github.com/mitmproxy/mitmproxy/pull/5725), @mhils)\n* Add `replay.server.add` command for adding flows to server replay buffer\n  ([#5851](https://github.com/mitmproxy/mitmproxy/pull/5851), @italankin)\n* Remove string escaping in raw view.\n  ([#5470](https://github.com/mitmproxy/mitmproxy/issues/5470), @stephenspol)\n* Updating `Request.port` now also updates the Host header if present.\n  This aligns with `Request.host`, which already does this.\n  ([#5908](https://github.com/mitmproxy/mitmproxy/pull/5908), @sujaldev)\n* Fix editing of multipart HTTP requests from the CLI.\n  ([#5148](https://github.com/mitmproxy/mitmproxy/issues/5148), @mhils)\n* Add documentation on using Magisk module for intercepting traffic in Android production builds.\n  ([#5924](https://github.com/mitmproxy/mitmproxy/pull/5924), @Jurrie)\n* Fix a bug where the direction indicator in the message stream view would be in the wrong direction.\n  ([#5921](https://github.com/mitmproxy/mitmproxy/issues/5921), @konradh)\n* Fix a bug where peername would be None in tls_passthrough script, which would make it not working.\n  ([#5904](https://github.com/mitmproxy/mitmproxy/pull/5904), @truebit)\n* the `esc` key can now be used to exit the current view\n  ([#6087](https://github.com/mitmproxy/mitmproxy/pull/6087), @sujaldev)\n* focus-follow shortcut will now work in flow view context too.\n  ([#6088](https://github.com/mitmproxy/mitmproxy/pull/6088), @sujaldev)\n* Fix a bug where a server connection timeout would cause requests to be issued with a wrong SNI in reverse proxy mode.\n  ([#6148](https://github.com/mitmproxy/mitmproxy/pull/6148), @mhils)\n* The `server_replay_nopop` option has been renamed to `server_replay_reuse` to avoid confusing double-negation.\n  ([#6084](https://github.com/mitmproxy/mitmproxy/issues/6084), @prady0t, @Semnodime)\n* Add zstd to valid gRPC encoding schemes.\n  ([#6188](https://github.com/mitmproxy/mitmproxy/pull/6188), @tsaaristo)\n* For reverse proxy directly accessed via IP address, the IP address is now included\n  as a subject in the generated certificate.\n  ([#6202](https://github.com/mitmproxy/mitmproxy/pull/6202), @mhils)\n* Enable legacy SSL connect when connecting to server if the `ssl_insecure` flag is set.\n  ([#6281](https://github.com/mitmproxy/mitmproxy/pull/6281), @DurandA)\n* Change wording in the [http-reply-from-proxy.py example](https://github.com/mitmproxy/mitmproxy/blob/main/examples/addons/http-reply-from-proxy.py).\n  ([#6117](https://github.com/mitmproxy/mitmproxy/pull/6117), @Semnodime)\n* Added option to specify an elliptic curve for key exchange between mitmproxy <-> server\n  ([#6170](https://github.com/mitmproxy/mitmproxy/pull/6170), @Mike-Ki-ASD)\n* Add \"Prettier\" code linting tool to mitmweb.\n  ([#5985](https://github.com/mitmproxy/mitmproxy/pull/5985), @alexgershberg)\n* When logging exceptions, provide the entire exception object to log handlers\n  ([#6295](https://github.com/mitmproxy/mitmproxy/pull/6295), @mhils)\n* mitmproxy now requires Python 3.10 or above.\n  ([#5954](https://github.com/mitmproxy/mitmproxy/pull/5954), @mhils)\n\n### Breaking Changes\n\n* The `onboarding_port` option has been removed. The onboarding app now responds\n  to all requests for the hostname specified in `onboarding_host`.\n* `connection.Client` and `connection.Server` now accept keyword arguments only.\n  This is a breaking change for custom addons that use these classes directly.\n\n## 02 November 2022: mitmproxy 9.0.1\n\n* The precompiled binaries now ship with OpenSSL 3.0.7, which resolves CVE-2022-3602 and CVE-2022-3786.\n* Performance and stability improvements for WireGuard mode.\n  ([#5694](https://github.com/mitmproxy/mitmproxy/issues/5694), @mhils, @decathorpe)\n* Fix a bug where the standalone Linux binaries would require libffi to be installed.\n  ([#5699](https://github.com/mitmproxy/mitmproxy/issues/5699), @mhils)\n* Hard exit when mitmproxy cannot write logs, fixes endless loop when parent process exits.\n  ([#4669](https://github.com/mitmproxy/mitmproxy/issues/4669), @Prinzhorn)\n* Fix a permission error affecting the Docker images.\n  ([#5700](https://github.com/mitmproxy/mitmproxy/issues/5700), @mhils)\n\n\n## 28 October 2022: mitmproxy 9.0.0\n\n### Major Features\n\n* Add Raw UDP support.\n  ([#5414](https://github.com/mitmproxy/mitmproxy/pull/5414), @meitinger)\n* Add WireGuard mode to enable transparent proxying via WireGuard.\n  ([#5562](https://github.com/mitmproxy/mitmproxy/pull/5562), @decathorpe, @mhils)\n* Add DTLS support.\n  ([#5397](https://github.com/mitmproxy/mitmproxy/pull/5397), @kckeiks).\n* Add a quick help bar to mitmproxy.\n  ([#5381](https://github.com/mitmproxy/mitmproxy/pull/5381/), [#5652](https://github.com/mitmproxy/mitmproxy/pull/5652), @kckeiks, @mhils).\n\n### Deprecations\n\n* Deprecate `add_log` event hook. Users should use the builtin `logging` module instead.\n  See [the docs](https://docs.mitmproxy.org/dev/addons-api-changelog/) for details and upgrade instructions.\n  ([#5590](https://github.com/mitmproxy/mitmproxy/pull/5590), @mhils)\n* Deprecate `mitmproxy.ctx.log` in favor of Python's builtin `logging` module.\n  See [the docs](https://docs.mitmproxy.org/dev/addons-api-changelog/) for details and upgrade instructions.\n  ([#5590](https://github.com/mitmproxy/mitmproxy/pull/5590), @mhils)\n\n### Breaking Changes\n\n * The `mode` option is now a list of server specs instead of a single spec.\n   The CLI interface is unaffected, but users may need to update their `config.yaml`.\n   ([#5393](https://github.com/mitmproxy/mitmproxy/pull/5393), @mhils)\n\n### Full Changelog\n\n* Mitmproxy binaries now ship with Python 3.11.\n  ([#5678](https://github.com/mitmproxy/mitmproxy/issues/5678), @mhils)\n* One mitmproxy instance can now spawn multiple proxy servers.\n  ([#5393](https://github.com/mitmproxy/mitmproxy/pull/5393), @mhils)\n* Add syntax highlighting to JSON and msgpack content view.\n  ([#5623](https://github.com/mitmproxy/mitmproxy/issues/5623), @SapiensAnatis)\n* Add MQTT content view.\n  ([#5588](https://github.com/mitmproxy/mitmproxy/pull/5588), @nikitastupin, @abbbe)\n* Setting `connection_strategy` to `lazy` now also disables early\n  upstream connections to fetch TLS certificate details.\n  ([#5487](https://github.com/mitmproxy/mitmproxy/pull/5487), @mhils)\n* Fix order of event hooks on startup.\n  ([#5376](https://github.com/mitmproxy/mitmproxy/issues/5376), @meitinger)\n* Include server information in bind/listen errors.\n  ([#5495](https://github.com/mitmproxy/mitmproxy/pull/5495), @meitinger)\n* Include information about lazy connection_strategy in related errors.\n  ([#5465](https://github.com/mitmproxy/mitmproxy/pull/5465), @meitinger, @mhils)\n* Fix `tls_version_server_min` and `tls_version_server_max` options.\n  ([#5546](https://github.com/mitmproxy/mitmproxy/issues/5546), @mhils)\n* Added Magisk module generation for Android onboarding.\n  ([#5547](https://github.com/mitmproxy/mitmproxy/pull/5547), @jorants)\n* Update Linux binary builder to Ubuntu 20.04, bumping the minimum glibc version to 2.31.\n  ([#5547](https://github.com/mitmproxy/mitmproxy/pull/5547), @jorants)\n* Add \"Save filtered\" button in mitmweb.\n  ([#5531](https://github.com/mitmproxy/mitmproxy/pull/5531), @rnbwdsh, @mhils)\n* Render application/prpc content as gRPC/Protocol Buffers\n  ([#5568](https://github.com/mitmproxy/mitmproxy/pull/5568), @selfisekai)\n* Mitmweb now supports `content_view_lines_cutoff`.\n  ([#5548](https://github.com/mitmproxy/mitmproxy/pull/5548), @sanlengjingvv)\n* Fix a mitmweb crash when scrolling down the flow list.\n  ([#5507](https://github.com/mitmproxy/mitmproxy/pull/5507), @LIU-shuyi)\n* Add HTTP/3 binary frame content view.\n  ([#5582](https://github.com/mitmproxy/mitmproxy/pull/5582), @mhils)\n* Fix mitmweb not properly opening a browser and being stuck on some Linux.\n  ([#5522](https://github.com/mitmproxy/mitmproxy/issues/5522), @Prinzhorn)\n* Fix race condition when updating mitmweb WebSocket connections that are closing.\n  ([#5405](https://github.com/mitmproxy/mitmproxy/issues/5405), [#5686](https://github.com/mitmproxy/mitmproxy/issues/5686), @mhils)\n* Fix mitmweb crash when using filters.\n  ([#5658](https://github.com/mitmproxy/mitmproxy/issues/5658), [#5661](https://github.com/mitmproxy/mitmproxy/issues/5661), @LIU-shuyi, @mhils)\n* Fix missing default port when starting a browser.\n  ([#5687](https://github.com/mitmproxy/mitmproxy/issues/5687), @rbdixon)\n* Add docs for transparent mode on Windows.\n  ([#5402](https://github.com/mitmproxy/mitmproxy/issues/5402), @stephenspol)\n\n## 28 June 2022: mitmproxy 8.1.1\n\n* Support specifying the local address for outgoing connections\n  ([#5364](https://github.com/mitmproxy/mitmproxy/discussions/5364), @meitinger)\n* Fix a bug where an excess empty chunk has been sent for chunked HEAD request.\n  ([#5372](https://github.com/mitmproxy/mitmproxy/discussions/5372), @jixunmoe)\n* Drop pkg_resources dependency.\n  ([#5401](https://github.com/mitmproxy/mitmproxy/issues/5401), @PavelICS)\n* Fix huge (>65kb) http2 responses corrupted.\n  ([#5428](https://github.com/mitmproxy/mitmproxy/issues/5428), @dhabensky)\n* Remove overambitious assertions in the HTTP state machine,\n  fix some error handling.\n  ([#5383](https://github.com/mitmproxy/mitmproxy/issues/5383), @mhils)\n* Use default_factory for parser_options.\n  ([#5474](https://github.com/mitmproxy/mitmproxy/issues/5474), @rathann)\n\n## 15 May 2022: mitmproxy 8.1.0\n\n* DNS support\n  ([#5232](https://github.com/mitmproxy/mitmproxy/pull/5232), @meitinger)\n* Mitmproxy now requires Python 3.9 or above.\n  ([#5233](https://github.com/mitmproxy/mitmproxy/issues/5233), @mhils)\n* Fix a memory leak in mitmdump where flows were kept in memory.\n  ([#4786](https://github.com/mitmproxy/mitmproxy/issues/4786), @mhils)\n* Replayed flows retain their current position in the flow list.\n  ([#5227](https://github.com/mitmproxy/mitmproxy/issues/5227), @mhils)\n* Periodically send HTTP/2 ping frames to keep connections alive.\n  ([#5046](https://github.com/mitmproxy/mitmproxy/issues/5046), @EndUser509)\n* Console Performance Improvements\n  ([#3427](https://github.com/mitmproxy/mitmproxy/issues/3427), @BkPHcgQL3V)\n* Warn users if server side event responses are received without streaming.\n  ([#4469](https://github.com/mitmproxy/mitmproxy/issues/4469), @mhils)\n* Add flatpak support to the browser addon\n  ([#5200](https://github.com/mitmproxy/mitmproxy/issues/5200), @pauloromeira)\n* Add example addon to dump contents to files based on a filter expression\n  ([#5190](https://github.com/mitmproxy/mitmproxy/issues/5190), @redraw)\n* Fix a bug where the wrong SNI is sent to an upstream HTTPS proxy\n  ([#5109](https://github.com/mitmproxy/mitmproxy/issues/5109), @mhils)\n* Make sure that mitmproxy displays error messages on startup.\n  ([#5225](https://github.com/mitmproxy/mitmproxy/issues/5225), @mhils)\n* Add example addon for domain fronting.\n  ([#5217](https://github.com/mitmproxy/mitmproxy/issues/5217), @randomstuff)\n* Improve cut addon to better handle binary contents\n  ([#3965](https://github.com/mitmproxy/mitmproxy/issues/3965), @mhils)\n* Fix text truncation for full-width characters\n  ([#4278](https://github.com/mitmproxy/mitmproxy/issues/4278), @kjy00302)\n* Fix mitmweb export copy failed in non-secure domain.\n  ([#5264](https://github.com/mitmproxy/mitmproxy/issues/5264), @Pactortester)\n* Add example script for manipulating cookies.\n  ([#5278](https://github.com/mitmproxy/mitmproxy/issues/5278), @WillahScott)\n* When opening an external viewer for message contents, mailcap files are not considered anymore.\n  This preempts the upcoming deprecation of Python's `mailcap` module.\n  ([#5297](https://github.com/mitmproxy/mitmproxy/issues/5297), @KORraNpl)\n* Fix hostname encoding for IDNA domains in upstream mode.\n  ([#5316](https://github.com/mitmproxy/mitmproxy/issues/5316), @nneonneo)\n* Fix hot reloading of contentviews.\n  ([#5319](https://github.com/mitmproxy/mitmproxy/issues/5319), @nneonneo)\n* Ignore HTTP/2 information responses instead of raising an error.\n  ([#5332](https://github.com/mitmproxy/mitmproxy/issues/5332), @mhils)\n* Improve performance and memory usage by reusing OpenSSL contexts.\n  ([#5339](https://github.com/mitmproxy/mitmproxy/issues/5339), @mhils)\n* Fix handling of multiple Cookie headers when proxying HTTP/2 to HTTP/1\n  ([#5337](https://github.com/mitmproxy/mitmproxy/issues/5337), @rinsuki)\n* Improve http_manipulate_cookies.py example.\n  ([#5578](https://github.com/mitmproxy/mitmproxy/issues/5578), @insilications)\n\n## 19 March 2022: mitmproxy 8.0.0\n\n### Major Changes\n\n* Major improvements to the web interface (@gorogoroumaru)\n* Event hooks can now be async (@nneonneo, [#5106](https://github.com/mitmproxy/mitmproxy/issues/5106))\n* New [`tls_{established,failed}_{client,server}` event hooks](https://docs.mitmproxy.org/dev/api/events.html#TLSEvents)\n  to record negotiation success/failure (@mhils, [#4790](https://github.com/mitmproxy/mitmproxy/pull/4790))\n\n### Security Fixes\n\n* [CVE-2022-24766](https://github.com/mitmproxy/mitmproxy/security/advisories/GHSA-gcx2-gvj7-pxv3):\n  Fix request smuggling vulnerability reported by @zeyu2001 (@mhils)\n\n### Full Changelog\n\n* Support proxy authentication for SOCKS v5 mode (@starplanet)\n* Make it possible to ignore connections in the tls_clienthello event hook (@mhils)\n* fix some responses not being decoded properly if the encoding was uppercase (#4735, @Mattwmaster58)\n* Trigger event hooks for flows with semantically invalid requests, for example invalid content-length headers (@mhils)\n* Improve error message on TLS version mismatch (@mhils)\n* Windows: Switch to Python's default asyncio event loop, which increases the number of sockets\n  that can be processed simultaneously (@mhils)\n* Add `client_replay_concurrency` option, which allows more than one client replay request to be in-flight at a time. (@rbdixon)\n* New content view which handles gRPC/protobuf. Allows to apply custom definitions to visualize different field decodings.\n  Includes example addon which applies custom definitions for selected gRPC traffic (@mame82)\n* Fix a crash caused when editing string option (#4852, @rbdixon)\n* Base container image bumped to Debian 11 Bullseye (@Kriechi)\n* Upstream replays don't do CONNECT on plaintext HTTP requests (#4876, @HoffmannP)\n* Remove workarounds for old pyOpenSSL versions (#4831, @KarlParkinson)\n* Add fonts to asset filter (~a) (#4928, @elespike)\n* Fix bug that crashed when using `view.flows.resolve` (#4916, @rbdixon)\n* Fix a bug where `running()` is invoked twice on startup (#3584, @mhils)\n* Correct documentation example for User-Agent header modification (#4997, @jamesyale)\n* Fix random connection stalls (#5040, @EndUser509)\n* Add `n` new flow keybind to mitmweb (#5061, @ianklatzco)\n* Fix compatibility with BoringSSL (@pmoulton)\n* Added `WebSocketMessage.injected` flag (@Prinzhorn)\n* Add example addon for saving streamed data to individual files (@EndUser509)\n* Change connection event hooks to be blocking.\n  Processing will only resume once the event hook has finished. (@Prinzhorn)\n* Reintroduce `Flow.live`, which signals if a flow belongs to a currently active connection. (#4207, @mhils)\n* Speculative fix for some rare HTTP/2 connection stalls (#5158, @EndUser509)\n* Add ability to specify custom ports with LDAP authentication (#5068, @demonoidvk)\n* Add support for rotating saved streams every hour or day (@EndUser509)\n* Console Improvements on Windows (@mhils)\n* Fix processing of `--set` options (#5067, @marwinxxii)\n* Lowercase user-added header names and emit a log message to notify the user when using HTTP/2 (#4746, @mhils)\n* Exit early if there are errors on startup (#4544, @mhils)\n* Fixed encoding guessing: only search for meta tags in HTML bodies (##4566, @Prinzhorn)\n* Binaries are now built with Python 3.10 (@mhils)\n\n## 28 September 2021: mitmproxy 7.0.4\n\n* Do not add a Content-Length header for chunked HTTP/1 messages (@matthewhughes934)\n\n## 16 September 2021: mitmproxy 7.0.3\n\n* [CVE-2021-39214](https://github.com/mitmproxy/mitmproxy/security/advisories/GHSA-22gh-3r9q-xf38):\n  Fix request smuggling vulnerabilities reported by @chinchila (@mhils)\n* Expose TLS 1.0 as possible minimum version on older pyOpenSSL releases (@mhils)\n* Fix compatibility with Python 3.10 (@mhils)\n\n## 4 August 2021: mitmproxy 7.0.2\n\n* Fix a WebSocket crash introduced in 7.0.1 (@mhils)\n\n## 3 August 2021: mitmproxy 7.0.1\n\n* Performance: Re-use OpenSSL contexts to enable TLS session resumption (@mhils)\n* Disable HTTP/2 CONNECT for Secure Web Proxies to fix compatibility with Firefox (@mhils)\n* Use local IP address as certificate subject if no other info is available (@mhils)\n* Make it possible to return multiple chunks for HTTP stream modification (@mhils)\n* Don't send WebSocket CONTINUATION frames when the peer does not send any (@Pilphe)\n* Fix HTTP stream modify example. (@mhils)\n* Fix a crash caused by no-op assignments to `Server.address` (@SaladDais)\n* Fix a crash when encountering invalid certificates (@mhils)\n* Fix a crash when pressing the Home/End keys in some screens (@rbdixon)\n* Fix a crash when reading corrupted flow dumps (@mhils)\n* Fix multiple crashes on flow export (@mhils)\n* Fix a bug where ASGI apps did not see the request body (@mhils)\n* Minor documentation improvements (@mhils)\n\n## 16 July 2021: mitmproxy 7.0\n\n### New Proxy Core (@mhils, [blog post](https://www.mitmproxy.org/posts/releases/mitmproxy7/))\n\nMitmproxy has a completely new proxy core, fixing many longstanding issues:\n\n* **Secure Web Proxy:** Mitmproxy now supports TLS-over-TLS to already encrypt the connection to the proxy.\n* **Server-Side Greetings:** Mitmproxy now supports proxying raw TCP connections, including ones that start\n  with a server-side greeting (e.g. SMTP).\n* **HTTP/1 – HTTP/2 Interoperability:** mitmproxy can now accept an HTTP/2 connection from the client,\n  and forward it to an HTTP/1 server.\n* **HTTP/2 Redirects:** The request destination can now be changed on HTTP/2 flows.\n* **Connection Strategy:** Users can now specify if they want mitmproxy to eagerly connect upstream\n  or wait as long as possible. Eager connections are required to detect protocols with server-side\n  greetings, lazy connections enable the replay of responses without connecting to an upstream server.\n* **Timeout Handling:** Mitmproxy will now clean up idle connections and also abort requests if the client disconnects\n  in the meantime.\n* **Host Header-based Proxying:** If the request destination is unknown, mitmproxy now falls back to proxying\n  based on the Host header. This means that requests can often be redirected to mitmproxy using\n  DNS spoofing only.\n* **Internals:** All protocol logic is now separated from I/O ([\"sans-io\"](https://sans-io.readthedocs.io/)).\n  This greatly improves testing capabilities, prevents a wide array of race conditions, and increases\n  proper isolation between layers.\n\n### Additional Changes\n\n* mitmproxy's command line interface now supports Windows (@mhils)\n* The `clientconnect`, `clientdisconnect`, `serverconnect`, `serverdisconnect`, and `log`\n  events have been replaced with new events, see addon documentation for details (@mhils)\n* Contentviews now implement `render_priority` instead of `should_render`, allowing more specialization (@mhils)\n* Addition of block_list option to block requests with a set status code (@ericbeland)\n* Make mitmweb columns configurable and customizable (@gorogoroumaru)\n* Automatic JSON view mode when `+json` suffix in content type (@kam800)\n* Use pyca/cryptography to generate certificates, not pyOpenSSL (@mhils)\n* Remove the legacy protocol stack (@Kriechi)\n* Remove all deprecated pathod and pathoc tools and modules (@Kriechi)\n* In reverse proxy mode, mitmproxy now does not assume TLS if no scheme\n  is given but a custom port is provided (@mhils)\n* Remove the following options: `http2_priority`, `relax_http_form_validation`, `upstream_bind_address`,\n  `spoof_source_address`, and `stream_websockets`. If you depended on one of them please let us know.\n  mitmproxy never phones home, which means we don't know how prominently these options were used. (@mhils)\n* Fix IDNA host 'Bad HTTP request line' error (@grahamrobbins)\n* Pressing `?` now exits console help view (@abitrolly)\n* `--modify-headers` now works correctly when modifying a header that is also part of the filter expression (@Prinzhorn)\n* Fix SNI-related reproducibility issues when exporting to curl/httpie commands. (@dkasak)\n* Add option `export_preserve_original_ip` to force exported command to connect to IP from original request.\n  Only supports curl at the moment. (@dkasak)\n* Major proxy protocol testing (@r00t-)\n* Switch Docker image release to be based on Debian (@PeterDaveHello)\n* Multiple Browsers: The `browser.start` command may be executed more than once to start additional\n  browser sessions. (@rbdixon)\n* Improve readability of SHA256 fingerprint. (@wrekone)\n* Metadata and Replay Flow Filters: Flows may be filtered based on metadata and replay status. (@rbdixon)\n* Flow control: don't read connection data faster than it can be forwarded. (@hazcod)\n* Docker images for ARM64 architecture (@hazcod, @mhils)\n* Fix parsing of certificate issuer/subject with escaped special characters (@Prinzhorn)\n* Customize markers with emoji, and filters: The `flow.mark` command may be used to mark a flow with either the default\n  \"red ball\" marker, a single character, or an emoji like `:grapes:`. Use the `~marker` filter to filter on marker\n  characters. (@rbdixon)\n* New `flow.comment` command to add a comment to the flow. Add `~comment <regex>` filter syntax to search flow comments.\n  (@rbdixon)\n* Fix multipart forms losing `boundary` values on edit. (@roytu)\n* `Transfer-Encoding: chunked` HTTP message bodies are now retained if they are below the stream_large_bodies limit.\n  (@mhils)\n* `json()` method for HTTP Request and Response instances will return decoded JSON body. (@rbdixon)\n* Support for HTTP/2 Push Promises has been dropped. (@mhils)\n* Make it possible to set sequence options from the command line. (@Yopi)\n\n## 15 December 2020: mitmproxy 6.0.2\n\n* Fix reading of saved flows in mitmweb.\n\n## 13 December 2020: mitmproxy 6.0.1\n\n* Fix flow serialization in mitmweb.\n\n## 13 December 2020: mitmproxy 6.0\n\n* Mitmproxy now requires Python 3.8 or above.\n* Deprecation of pathod and pathoc tools and modules. Future releases will not contain them! (@Kriechi)\n* SSLKEYLOGFILE now supports TLS 1.3 secrets (@mhils)\n* Fix query parameters in asgiapp addon (@jpstotz)\n* Fix command history failing on file I/O errors (@Kriechi)\n* Add example addon to suppress unwanted error messages sent by mitmproxy. (@anneborcherding)\n* Updated imports and styles for web scanner helper addons. (@anneborcherding)\n* Inform when underscore-formatted options are used in client arg. (@jrblixt)\n* ASGIApp now ignores loaded HTTP flows from somewhere. (@linw1995)\n* Binaries are now built with Python 3.9 (@mhils)\n* Fixed the web UI showing blank page on clicking details tab when server address is missing (@samhita-sopho)\n* Tests: Replace asynctest with stdlib mock (@felixonmars)\n* MapLocal now keeps its configuration when other options are set. (@mhils)\n* Host headers with non-standard ports are now properly updated in reverse proxy mode. (@mhils)\n* Fix missing host header when replaying HTTP/2 flows (@Granitosaurus)\n\n## 01 November 2020: mitmproxy 5.3\n\n### Full Changelog\n\n* Support for Python 3.9 (@mhils)\n* Add MsgPack content viewer (@tasn)\n* Use `@charset` to decode CSS files if available (@Prinzhorn)\n* Fix links to anticache docs in mitmweb and use HTTPS for links to documentation (@rugk)\n* Updated typing for WebsocketMessage.content (@Prinzhorn)\n* Add option `console_strip_trailing_newlines`, and no longer strip trailing newlines by default (@capt8bit)\n* Prevent transparent mode from connecting to itself in the basic cases (@Prinzhorn)\n* Display HTTP trailers in mitmweb (@sanlengjingvv)\n* Revamp onboarding app (@mhils)\n* Add ASGI support for embedded apps (@mhils)\n* Updated raw exports to not remove headers (@wchasekelley)\n* Fix file unlinking before external viewer finishes loading (@wchasekelley)\n* Add --cert-passphrase command line argument (@mirosyn)\n* Add interactive tutorials to the documentation (@mplattner)\n* Support `deflateRaw` for `Content-Encoding`'s (@kjoconnor)\n* Fix broken requests without body on HTTP/2 (@Kriechi)\n* Add support for sending (but not parsing) HTTP Trailers to the HTTP/1.1 protocol (@bburky)\n* Add support to echo http trailers in dumper addon (@shiv6146)\n* Fix OpenSSL requiring different CN for root and leaf certificates (@mhils)\n* ... and various other fixes, documentation improvements, dependency version bumps, etc.\n\n## 18 July 2020: mitmproxy 5.2\n\n* Add Filter message to mitmdump (@sarthak212)\n* Display TCP flows at flow list (@Jessonsotoventura, @nikitastupin, @mhils)\n* Colorize JSON Contentview (@sarthak212)\n* Fix console crash when entering regex escape character in half-open string (@sarthak212)\n* Integrate contentviews to TCP flow details (@nikitastupin)\n* Added add-ons that enhance the performance of web application scanners (@anneborcherding)\n* Increase WebSocket message timestamp precision (@JustAnotherArchivist)\n* Fix HTTP reason value on HTTP/2 reponses (@rbdixon)\n* mitmweb: support wslview to open a web browser (@G-Rath)\n* Fix dev version detection with parent git repo (@JustAnotherArchivist)\n* Restructure examples and supported addons (@mhils)\n* Certificate generation: mark SAN as critical if no CN is set (@mhils)\n* Simplify Replacements with new ModifyBody addon (@mplattner)\n* Rename SetHeaders addon to ModifyHeaders (@mplattner)\n* mitmweb: \"New -> File\" menu option has been renamed to \"Clear All\" (@yogeshojha)\n* Add new MapRemote addon to rewrite URLs of requests (@mplattner)\n* Add support for HTTP Trailers to the HTTP/2 protocol (@sanlengjingvv and @Kriechi)\n* Fix certificate runtime error during expire cleanup (@gorogoroumaru)\n* Fixed the DNS Rebind Protection for secure support of IPv6 addresses (@tunnelpr0)\n* WebSockets: match the HTTP-WebSocket flow for the ~websocket filter (@Kriechi)\n* Fix deadlock caused by the \"replay.client.stop\" command (@gorogoroumaru)\n* Add new MapLocal addon to serve local files instead of remote resources (@mplattner and @mhils)\n* Add minimal TCP interception and modification (@nikitastupin)\n* Add new CheckSSLPinning addon to check SSL-Pinning on client (@su-vikas)\n* Add a JSON dump script: write data into a file or send to an endpoint as JSON (@emedvedev)\n* Fix console output formatting (@sarthak212)\n* Add example for proxy authentication using selenium (@anneborcherding and @weichweich)\n\n## 13 April 2020: mitmproxy 5.1.1\n\n* Fixed Docker images not starting due to missing shell\n\n## 13 April 2020: mitmproxy 5.1\n\n### Major Changes\n\n* Initial Support for TLS 1.3\n\n### Full Changelog\n\n* Reduce leaf certificate validity to one year due to upcoming browser changes (@mhils)\n* Rename mitmweb's `web_iface` option to `web_host` for consistency (@oxr463)\n* Sending a SIGTERM now exits mitmproxy without prompt, SIGINT still asks (@ThinkChaos)\n* Don't force host header on outgoing requests (@mhils)\n* Additional documentation and examples for WebSockets (@Kriechi)\n* Gracefully handle hyphens in domain names (@matosconsulting)\n* Fix header replacement count (@naivekun)\n* Emit serverconnect event only after a connection has been established (@Prinzhorn)\n* Fix ValueError in table mode of server replay flow (@ylmrx)\n* HTTP/2: send all stream reset types to other connection (@rohfle)\n* HTTP/2: fix WINDOW_UPDATE swallowed on closed streams (@Kriechi)\n* Fix wrong behavior of --allow-hosts options (@BlownSnail)\n* Additional and updated documentation for examples, WebSockets, Getting Started (@Kriechi)\n\n## 27 December 2019: mitmproxy 5.0.1\n\n* Fixed precompiled Linux binaries to not crash in table mode\n* Display webp images in mitmweb (@cixtor)\n\n## 16 December 2019: mitmproxy 5.0\n\n### Major Changes\n\n* Added new Table UI (@Jessonsotoventura)\n* Added EKU extension to certificates. This fixes support for macOS Catalina (@vin01)\n\n### Security Fixes\n\n* Fixed command injection vulnerabilities when exporting flows as curl/httpie commands (@cript0nauta)\n* Do not echo unsanitized user input in HTTP error responses (@fimad)\n\n### Full Changelog\n\n* Moved to GitHub CI for Continuous Integration, dropping support for old Linux and macOS releases. (#3728)\n* Vastly improved command parsing, in particular for setting flow filters (@typoon)\n* Added a new flow export for raw responses (@mckeimic)\n* URLs are now edited in an external editor (@Jessonsotoventura)\n* mitmproxy now has a command history (@typoon)\n* Added terminal like keyboard shortcuts for the command bar (ctrl+w, ctrl+a, ctrl+f, ...) (@typoon)\n* Fixed issue with improper handling of non-ascii characters in URLs (@rjt-gupta)\n* Filtering can now use unicode characters (@rjt-gupta)\n* Fixed issue with user keybindings not being able to override default keybindings\n* Improved installation instructions\n* Added support for IPV6-only environments (@sethb157)\n* Fixed bug with server replay (@rjt-gupta)\n* Fixed issue with duplicate error responses (@ccssrryy)\n* Users can now set a specific external editor using $MITMPROXY_EDITOR (@rjt-gupta)\n* Config file can now be called `config.yml` or `config.yaml` (@ylmrx)\n* Fixed crash on `view.focus.[next|prev]` (@ylmrx)\n* Updated documentation to help using mitmproxy certificate on Android (@jannst)\n* Added support to parse IPv6 entries from `pfctl` on MacOS. (@tomlabaude)\n* Fixed instructions on how to build the documentation (@jannst)\n* Added a new `--allow-hosts` option (@pierlon)\n* Added support for zstd content-encoding (@tsaaristo)\n* Fixed issue where the replay server would corrupt the Date header (@tonyb486)\n* Improve speed for WebSocket interception (@MathieuBordere)\n* Fixed issue with parsing JPEG files. (@lusceu)\n* Improve example code style (@BoboTiG)\n* Fixed issue converting void responses to HAR (@worldmind)\n* Color coded http status codes in mitmweb (@arun-94)\n* Added organization to generated certificates (@Abcdefghijklmnopqrstuvwxyzxyz)\n* Errors are now displayed on sys.stderr (@JessicaFavin)\n* Fixed issue with replay timestamps (@rjt-gupta)\n* Fixed copying in mitmweb on macOS (@XZzYassin)\n\n## 31 July 2018: mitmproxy 4.0.4\n\n* Security: Protect mitmweb against DNS rebinding. (CVE-2018-14505, @atx)\n* Reduce certificate lifetime to two years to be conformant with\n  the current CA/Browser Forum Baseline Requirements. (@muffl0n)\n  (https://cabforum.org/2017/03/17/ballot-193-825-day-certificate-lifetimes/)\n* Update cryptography to version 2.3.\n\n## 15 June 2018: mitmproxy 4.0.3\n\n* Add support for IPv6 transparent mode on Windows (#3174)\n* Add Docker images for ARMv7 - Raspberry Pi (#3190)\n* Major overhaul of our release workflow - you probably won't notice it, but for us it's a big thing!\n* Fix the Python version detection on Python 3.5, we now show a more intuitive error message (#3188)\n* Fix application shutdown on Windows (#3172)\n* Fix IPv6 scope suffixes in block addon (#3164)\n* Fix options update when added (#3157)\n* Fix \"Edit Flow\" button in mitmweb (#3136)\n\n## 15 June 2018: mitmproxy 4.0.2\n\n* Skipped!\n\n## 17 May 2018: mitmproxy 4.0.1\n\n### Bugfixes\n\n* The previous release had a packaging issue, so we bumped it to v4.0.1 and re-released it.\n* This contains no actual bugfixes or new features.\n\n## 17 May 2018: mitmproxy 4.0\n\n### Features\n\n* mitmproxy now requires Python 3.6!\n* Moved the core to asyncio - which gives us a very significant performance boost!\n* Reduce memory consumption by using `SO_KEEPALIVE` (#3076)\n* Export request as httpie command (#3031)\n* Configure mitmproxy console keybindings with the keys.yaml file. See docs for more.\n\n### Breaking Changes\n\n* The --conf command-line flag is now --confdir, and specifies the mitmproxy configuration\n    directory, instead of the options yaml file (which is at `config.yaml` under the configuration directory).\n* `allow_remote` got replaced by `block_global` and `block_private` (#3100)\n* No more custom events (#3093)\n* The `cadir` option has been renamed to `confdir`\n* We no longer magically capture print statements in addons and translate\n    them to logs. Please use `ctx.log.info` explicitly.\n\n### Bugfixes\n\n* Correctly block connections from remote clients with IPv4-mapped IPv6 client addresses (#3099)\n* Expand `~` in paths during the `cut` command (#3078)\n* Remove socket listen backlog constraint\n* Improve handling of user script exceptions (#3050, #2837)\n* Ignore signal errors on windows\n* Fix traceback for commands with un-terminated escape characters (#2810)\n* Fix request replay when proxy is bound to local interface (#2647)\n* Fix traceback when running scripts on a flow twice (#2838)\n* Fix traceback when killing intercepted flow (#2879)\n* And lots of typos, docs improvements, revamped examples, and general fixes!\n\n## 05 April 2018: mitmproxy 3.0.4\n\n* Fix an issue that caused mitmproxy to not retry HTTP requests on timeout.\n* Various other fixes (@kira0204, @fenilgandhi, @tran-tien-dat, @smonami,\n  @luzpaz, @fristonio, @kajojify, @Oliver-Fish, @hcbarry, @jplochocki, @MikeShi42,\n  @ghillu, @emilstahl)\n\n## 25 February 2018: mitmproxy 3.0.3\n\n* Fix an issue that caused mitmproxy to lose keyboard control after spawning an external editor.\n\n## 23 February 2018: mitmproxy 3.0.1\n\n* Fix a quote-related issue affecting the mitmproxy console command prompt.\n\n## 22 February 2018: mitmproxy 3.0\n\n### Major Changes\n\n* Commands: A consistent, typed mechanism that allows addons to expose actions\n  to users.\n* Options: A typed settings store for use by mitmproxy and addons.\n* Shift most of mitmproxy's own functionality into addons.\n* Major improvements to mitmproxy console, including an almost complete\n  rewrite of the user interface, integration of commands, key bindings, and\n  multi-pane layouts.\n* Major Improvements to mitmproxy’s web interface, mitmweb. (Matthew Shao,\n  Google Summer of Code 2017)\n* Major Improvements to mitmproxy’s content views and protocol layers (Ujjwal\n  Verma, Google Summer of Code 2017)\n* Faster JavaScript and CSS beautifiers. (Ujjwal Verma)\n\n### Minor Changes\n\n* Vastly improved JavaScript test coverage (Matthew Shao)\n* Options editor for mitmweb (Matthew Shao)\n* Static web-based flow viewer (Matthew Shao)\n* Request streaming for HTTP/1.x and HTTP/2 (Ujjwal Verma)\n* Implement more robust content views using Kaitai Struct (Ujjwal Verma)\n* Protobuf decoding now works without protoc being installed on the host\n  system (Ujjwal Verma)\n* PNG, GIF, and JPEG can now be parsed without Pillow, which simplifies\n  mitmproxy installation and moves parsing from unsafe C to pure Python (Ujjwal Verma)\n* Add parser for ICO files (Ujjwal Verma)\n* Migrate WebSockets implementation to wsproto. This reduces code size and\n  adds WebSocket compression support. (Ujjwal Verma)\n* Add “split view” to split mitmproxy’s UI into two separate panes.\n* Add key binding viewer and editor\n* Add a command to spawn a preconfigured Chrome browser instance from\n  mitmproxy\n* Fully support mitmproxy under the Windows Subsystem for Linux (WSL), work\n  around display errors\n* Add XSS scanner addon (@ddworken)\n* Add ability to toggle interception (@mattweidner)\n* Numerous documentation improvements (@pauloromeira, @rst0git, @rgerganov,\n  @fulldecent, @zhigang1992, @F1ashhimself, @vinaydargar, @jonathanrfisher1,\n  @BasThomas, @LuD1161, @ayamamori, @TomTasche)\n* Add filters for websocket flows (@s4chin)\n* Make it possible to create a response to CONNECT requests in http_connect\n  (@mengbiping)\n* Redirect stdout in scripts to ctx.log.warn (@nikofil)\n* Fix a crash when clearing the event log (@krsoninikhil)\n* Store the generated certificate for each flow (@dlenski)\n* Add --keep-host-header to retain the host header in reverse proxy mode\n  (@krsoninikhil)\n* Fix setting palette options (@JordanLoehr)\n* Fix a crash with brotli encoding (@whackashoe)\n* Provide certificate installation instructions on mitm.it (@ritiek)\n* Fix a bug where we did not properly fall back to IPv4 when IPv6 is unavailable (@titeuf87)\n* Fix transparent mode on IPv6-enabled macOS systems (@Ga-ryo)\n* Fix handling of HTTP messages with multiple Content-Length headers (@surajt97)\n* Fix IPv6 authority form parsing in CONNECT requests (@r1b)\n* Fix event log display in mitmweb (@syahn)\n* Remove private key from PKCS12 file in ~/.mitmproxy (@ograff).\n* Add LDAP as a proxy authentication backend (@charlesdhdt)\n* Use mypy to check the whole codebase (@iharsh234)\n* Fix a crash when duplicating flows (@iharsh234)\n* Fix testsuite when the path contains a “.” (@felixonmars)\n* Store proxy authentication with flows (@lymanZerga11)\n* Match ~d and ~u filters against pretty_host (@dequis)\n* Update WBXML content view (@davidpshaw)\n* Handle HEAD requests for mitm.it to support Chrome in transparent mode on\n  iOS (@tomlabaude)\n* Update dns spoofing example to use --keep-host-header (@krsoninikhil)\n* Call error handler on HTTPException (@tarnacious)\n* Make it possible to remove TLS from upstream HTTP connections\n* Update to pyOpenSSL 17.5, cryptography 2.1.4, and OpenSSL 1.1.0g\n* Make it possible to retroactively increase log verbosity.\n* Make logging from addons thread-safe\n* Tolerate imports in user scripts that match hook names\n  (`from mitmproxy import log`)\n* Update mitmweb to React 16, which brings performance improvements\n* Fix a bug where reverting duplicated flows crashes mitmproxy\n* Fix a bug where successive requests are sent to the wrong host after a\n  request has been redirected.\n* Fix a bug that binds outgoing connections to the wrong interface\n* Fix a bug where custom certificates are ignored in reverse proxy mode\n* Fix import of flows that have been created with mitmproxy 0.17\n* Fix formatting of (IPv6) IP addresses in a number of places\n* Fix replay for HTTP/2 flows\n* Decouple mitmproxy version and flow file format version\n* Fix a bug where “mitmdump -nr” does not exit automatically\n* Fix a crash when exporting flows to curl\n* Fix formatting of sticky cookies\n* Improve script reloading reliability by polling the filesystem instead of using watchdog\n* Fix a crash when refreshing Set-Cookie headers\n* Add connection indicator to mitmweb to alert users when the proxy server stops running\n* Add support for certificates with cyrillic domains\n* Simplify output of mitmproxy --version\n* Add Request.make to simplify request creation in scripts\n* Pathoc: Include a host header on CONNECT requests\n* Remove HTML outline contentview (#2572)\n* Remove Python and Locust export (#2465)\n* Remove emojis from tox.ini because flake8 cannot parse that. :(\n\n## 28 April 2017: mitmproxy 2.0.2\n\n* Fix mitmweb's Content-Security-Policy to work with Chrome 58+\n* HTTP/2: actually use header normalization from hyper-h2\n\n## 15 March 2017: mitmproxy 2.0.1\n\n* bump cryptography dependency\n* bump pyparsing dependency\n* HTTP/2: use header normalization from hyper-h2\n\n## 21 February 2017: mitmproxy 2.0\n\n* HTTP/2 is now enabled by default.\n* Image ContentView: Parse images with Kaitai Struct (kaitai.io) instead of Pillow.\n  This simplifies installation, reduces binary size, and allows parsing in pure Python.\n* Web: Add missing flow filters.\n* Add transparent proxy support for OpenBSD.\n* Check the mitmproxy CA for expiration and warn the user to regenerate it if necessary.\n* Testing: Tremendous improvements, enforced 100% coverage for large parts of the\n  codebase, increased overall coverage.\n* Enforce individual coverage: one source file -> one test file with 100% coverage.\n* A myriad of other small improvements throughout the project.\n* Numerous bugfixes.\n\n## 26 December 2016: mitmproxy 1.0\n\n* All mitmproxy tools are now Python 3 only! We plan to support Python 3.5 and higher.\n* Web-Based User Interface: Mitmproxy now officially has a web-based user interface\n  called mitmweb. We consider it stable for all features currently exposed\n  in the UI, but it still misses a lot of mitmproxy’s options.\n* Windows Compatibility: With mitmweb, mitmproxy is now usable on Windows.\n  We are also introducing an installer (kindly sponsored by BitRock) that\n  simplifies setup.\n* Configuration: The config file format is now a single YAML file. In most cases,\n  converting to the new format should be trivial - please see the docs for\n  more information.\n* Console: Significant UI improvements - including sorting of flows by\n  size, type and url, status bar improvements, much faster indentation for\n  HTTP views, and more.\n* HTTP/2: Significant improvements, but is temporarily disabled by default\n  due to wide-spread protocol implementation errors on some large website\n* WebSocket: The protocol implementation is now mature, and is enabled by\n  default. Complete UI support is coming in the next release. Hooks for\n  message interception and manipulation are available.\n* A myriad of other small improvements throughout the project.\n\n## 16 October 2016: mitmproxy 0.18\n\n* Python 3 Compatibility for mitmproxy and pathod (Shadab Zafar, GSoC 2016)\n* Major improvements to mitmweb (Clemens Brunner & Jason Hao, GSoC 2016)\n* Internal Core Refactor: Separation of most features into isolated Addons\n* Initial Support for WebSockets\n* Improved HTTP/2 Support\n* Reverse Proxy Mode now automatically adjusts host headers and TLS Server Name Indication\n* Improved HAR export\n* Improved export functionality for curl, python code, raw http etc.\n* Flow URLs are now truncated in the console for better visibility\n* New filters for TCP, HTTP and marked flows.\n* Mitmproxy now handles comma-separated Cookie headers\n* Merge mitmproxy and pathod documentation\n* Mitmdump now sanitizes its console output to not include control characters\n* Improved message body handling for HTTP messages:\n  `.raw_content` provides the message body as seen on the wire\n  `.content` provides the decompressed body (e.g. un-gzipped)\n  `.text` provides the body decompressed and decoded body\n* New HTTP Message getters/setters for cookies and form contents.\n* Add ability to view only marked flows in mitmproxy\n* Improved Script Reloader (Always use polling, watch for whole directory)\n* Use tox for testing\n* Unicode support for tnetstrings\n* Add dumpfile converters for mitmproxy versions 0.11 and 0.12\n* Numerous bugfixes\n\n## 9 April 2016: mitmproxy 0.17\n\n* Simplify repository and release structure. mitmproxy now comes as a single package, including netlib and pathod.\n* Rename the Python package from libmproxy to mitmproxy.\n* New option to add server certs to client chain (CVE-2016-2402, John Kozyrakis)\n* Enable HTTP/2 by default (Thomas Kriechbaumer)\n* Improved HAR extractor (Shadab Zafar)\n* Add icon for OSX and Windows binaries\n* Add content view for query parameters (Will Coster)\n* Initial work on Python 3 compatibility\n* locust.io export (Zohar Lorberbaum)\n* Fix XSS vulnerability in HTTP errors (Will Coster)\n* Numerous bugfixes and minor improvements\n\n## 15 February 2016: mitmproxy 0.16\n\n* Completely revised HTTP2 implementation based on hyper-h2 (Thomas Kriechbaumer)\n* Export flows as cURL command, Python code or raw HTTP (Shadab Zafar)\n* Fixed compatibility with the Android Emulator (Will Coster)\n* Script Reloader: Inline scripts are reloaded automatically if modified (Matthew Shao)\n* Inline script hooks for TCP mode (Michael J. Bazzinotti)\n* Add default ciphers to support iOS9 App Transport Security (Jorge Villacorta)\n* Basic Authentication for mitmweb (Guillem Anguera)\n* Exempt connections from interception based on TLS Server Name Indication (David Weinstein)\n* Provide Python Wheels for faster installation\n* Numerous bugfixes and minor improvements\n\n## 4 December 2015: mitmproxy 0.15\n\n* Support for loading and converting older dumpfile formats (0.13 and up)\n* Content views for inline script (@chrisczub)\n* Better handling of empty header values (Benjamin Lee/@bltb)\n* Fix a gnarly memory leak in mitmdump\n* A number of bugfixes and small improvements\n\n## 6 November 2015: mitmproxy 0.14\n\n* Statistics: 399 commits, 13 contributors, 79 closed issues, 37 closed\n  PRs, 103 days\n* Docs: Greatly updated docs now hosted on ReadTheDocs!\n  http://docs.mitmproxy.org\n* Docs: Fixed Typos, updated URLs etc. (Nick Badger, Ben Lerner, Choongwoo\n  Han, onlywade, Jurriaan Bremer)\n* mitmdump: Colorized TTY output\n* mitmdump: Use mitmproxy's content views for human-readable output (Chris\n  Czub)\n* mitmproxy and mitmdump: Support for displaying UTF8 contents\n* mitmproxy: add command line switch to disable mouse interaction (Timothy\n  Elliott)\n* mitmproxy: bug fixes (Choongwoo Han, sethp-jive, FreeArtMan)\n* mitmweb: bug fixes (Colin Bendell)\n* libmproxy: Add ability to fall back to TCP passthrough for non-HTTP\n  connections.\n* libmproxy: Avoid double-connect in case of TLS Server Name Indication.\n  This yields a massive speedup for TLS handshakes.\n* libmproxy: Prevent unnecessary upstream connections (macmantrl)\n* Inline Scripts: New API for HTTP Headers:\n  http://docs.mitmproxy.org/en/latest/dev/models.html#netlib.http.Headers\n* Inline Scripts: Properly handle exceptions in `done` hook\n* Inline Scripts: Allow relative imports, provide `__file__`\n* Examples: Add probabilistic TLS passthrough as an inline script\n* netlib: Refactored HTTP protocol handling code\n* netlib: ALPN support\n* netlib: fixed a bug in the optional certificate verification.\n* netlib: Initial Python 3.5 support (this is the first prerequisite for\n  3.x support in mitmproxy)\n\n## 24 July 2015: mitmproxy 0.13\n\n* Upstream certificate validation. See the --verify-upstream-cert,\n  --upstream-trusted-confdir and --upstream-trusted-ca parameters. Thanks to\n  Kyle Morton (github.com/kyle-m) for his work on this.\n* Add HTTP transparent proxy mode. This uses the host headers from HTTP\n  traffic (rather than SNI and IP address information from the OS) to\n  implement perform transparent proxying. Thanks to github.com/ijiro123 for\n  this feature.\n* Add ~src and ~dst REGEX filters, allowing matching on source and\n  destination addresses in the form of <IP>:<Port>\n* mitmproxy console: change g/G keyboard shortcuts to match less. Thanks to\n  Jose Luis Honorato (github.com/jlhonora).\n* mitmproxy console: Flow marking and unmarking. Marked flows are not\n  deleted when the flow list is cleared. Thanks to Jake Drahos\n  (github.com/drahosj).\n* mitmproxy console: add marking of flows\n* Remove the certforward feature. It was added to allow exploitation of\n  #gotofail, which is no longer a common vulnerability. Permitting this\n  hugely increased the complexity of packaging and distributing mitmproxy.\n\n## 3 June 2015: mitmproxy 0.12.1\n\n* mitmproxy console: mouse interaction - scroll in the flow list, click on\n  flow to view, click to switch between tabs.\n* Update our crypto defaults: SHA256, 2048 bit RSA, 4096 bit DH parameters.\n* BUGFIX: crash under some circumstances when copying to clipboard.\n* BUGFIX: occasional crash when deleting flows.\n\n## 18 May 2015: mitmproxy 0.12\n\n* mitmproxy console: Significant revamp of the UI. The major changes are\n  listed below, and in addition almost every aspect of the UI has\n  been tweaked, and performance has improved significantly.\n* mitmproxy console: A new options screen has been created (\"o\" shortcut),\n  and many options that were previously manipulated directly via a\n  keybinding have been moved there.\n* mitmproxy console: Big improvement in palettes. This includes improvements\n  to all colour schemes. Palettes now set the terminal background colour by\n  default, and a new --palette-transparent option has been added to disable\n  this.\n* mitmproxy console: g/G shortcuts throughout mitmproxy console to jump\n  to the beginning/end of the current view.\n* mitmproxy console: switch  palettes on the fly from the options screen.\n* mitmproxy console: A cookie editor has been added for mitmproxy console\n  at long last.\n* mitmproxy console: Various components of requests and responses can be\n  copied to the clipboard from mitmproxy - thanks to @marceloglezer.\n* Support for creating new requests from scratch in mitmproxy console (@marceloglezer).\n* SSLKEYLOGFILE environment variable to specify a logging location for TLS\n  master keys. This can be used with tools like Wireshark to allow TLS\n  decoding.\n* Server facing SSL cipher suite specification (thanks to Jim Shaver).\n* Official support for transparent proxying on FreeBSD - thanks to Mike C\n  (http://github.com/mike-pt).\n* Many other small bugfixes and improvemenets throughout the project.\n\n## 29 Dec 2014: mitmproxy 0.11.2\n\n* Configuration files - mitmproxy.conf, mitmdump.conf, common.conf in the\n  .mitmproxy directory.\n* Better handling of servers that reject connections that are not SNI.\n* Many other small bugfixes and improvements.\n\n## 15 November 2014: mitmproxy 0.11.1\n\n* Bug fixes: connection leaks some crashes\n\n## 7 November 2014: mitmproxy 0.11\n\n* Performance improvements for mitmproxy console\n* SOCKS5 proxy mode allows mitmproxy to act as a SOCKS5 proxy server\n* Data streaming for response bodies exceeding a threshold\n  (bradpeabody@gmail.com)\n* Ignore hosts or IP addresses, forwarding both HTTP and HTTPS traffic\n  untouched\n* Finer-grained control of traffic replay, including options to ignore\n  contents or parameters when matching flows (marcelo.glezer@gmail.com)\n* Pass arguments to inline scripts\n* Configurable size limit on HTTP request and response bodies\n* Per-domain specification of interception certificates and keys (see\n  --cert option)\n* Certificate forwarding, relaying upstream SSL certificates verbatim (see\n  --cert-forward)\n* Search and highlighting for HTTP request and response bodies in\n  mitmproxy console (pedro@worcel.com)\n* Transparent proxy support on Windows\n* Improved error messages and logging\n* Support for FreeBSD in transparent mode, using pf (zbrdge@gmail.com)\n* Content view mode for WBXML (davidshaw835@air-watch.com)\n* Better documentation, with a new section on proxy modes\n* Generic TCP proxy mode\n* Countless bugfixes and other small improvements\n* pathod: Hugely improved SSL support, including dynamic generation of certificates\n  using the mitproxy cacert\n\n## 7 November 2014: pathod 0.11\n\n* Hugely improved SSL support, including dynamic generation of certificates\n  using the mitproxy cacert\n* pathoc -S dumps information on the remote SSL certificate chain\n* Big improvements to fuzzing, including random spec selection and memoization to avoid repeating randomly generated patterns\n* Reflected patterns, allowing you to embed a pathod server response specification in a pathoc request, resolving both on client side. This makes fuzzing proxies and other intermediate systems much better.\n\n## 28 January 2014: mitmproxy 0.10\n\n* Support for multiple scripts and multiple script arguments\n* Easy certificate install through the in-proxy web app, which is now\n  enabled by default\n* Forward proxy mode, that forwards proxy requests to an upstream HTTP server\n* Reverse proxy now works with SSL\n* Search within a request/response using the \"/\" and \"n\" shortcut keys\n* A view that beatifies CSS files if cssutils is available\n* Bug fix, documentation improvements, and more.\n\n## 25 August 2013: mitmproxy 0.9.2\n\n* Improvements to the mitmproxywrapper.py helper script for OSX.\n* Don't take minor version into account when checking for serialized file\n  compatibility.\n* Fix a bug causing resource exhaustion under some circumstances for SSL\n  connections.\n* Revamp the way we store interception certificates. We used to store these\n  on disk, they're now in-memory. This fixes a race condition related to\n  cert handling, and improves compatibility with Windows, where the rules\n  governing permitted file names are weird, resulting in errors for some\n  valid IDNA-encoded names.\n* Display transfer rates for responses in the flow list.\n* Many other small bugfixes and improvements.\n\n## 25 August 2013: pathod 0.9.2\n\n* Adapt to interface changes in netlib\n\n## 16 June 2013: mitmproxy 0.9.1\n\n* Use \"correct\" case for Content-Type headers added by mitmproxy.\n* Make UTF environment detection more robust.\n* Improved MIME-type detection for viewers.\n* Always read files in binary mode (Windows compatibility fix).\n* Some developer documentation.\n\n## 15 May 2013: mitmproxy 0.9\n\n* Upstream certs mode is now the default.\n* Add a WSGI container that lets you host in-proxy web applications.\n* Full transparent proxy support for Linux and OSX.\n* Introduce netlib, a common codebase for mitmproxy and pathod\n  (http://github.com/cortesi/netlib).\n* Full support for SNI.\n* Color palettes for mitmproxy, tailored for light and dark terminal\n  backgrounds.\n* Stream flows to file as responses arrive with the \"W\" shortcut in\n  mitmproxy.\n* Extend the filter language, including ~d domain match operator, ~a to\n  match asset flows (js, images, css).\n* Follow mode in mitmproxy (\"F\" shortcut) to \"tail\" flows as they arrive.\n* --dummy-certs option to specify and preserve the dummy certificate\n  directory.\n* Server replay from the current captured buffer.\n* Huge improvements in content views. We now have viewers for AMF, HTML,\n  JSON, Javascript, images, XML, URL-encoded forms, as well as hexadecimal\n  and raw views.\n* Add Set Headers, analogous to replacement hooks. Defines headers that are set\n  on flows, based on a matching pattern.\n* A graphical editor for path components in mitmproxy.\n* A small set of standard user-agent strings, which can be used easily in\n  the header editor.\n* Proxy authentication to limit access to mitmproxy\n* pathod: Proxy mode. You can now configure clients to use pathod as an\n  HTTP/S proxy.\n* pathoc: Proxy support, including using CONNECT to tunnel directly to\n  targets.\n* pathoc: client certificate support.\n* pathod: API improvements, bugfixes.\n\n## 15 May 2013: pathod 0.9 (version synced with mitmproxy)\n\n* Pathod proxy mode. You can now configure clients to use pathod as an\n  HTTP/S proxy.\n* Pathoc proxy support, including using CONNECT to tunnel directly to\n  targets.\n* Pathoc client certificate support.\n* API improvements, bugfixes.\n\n## 16 November 2012: pathod 0.3\n\nA release focusing on shoring up our fuzzing capabilities, especially with\npathoc.\n\n* pathoc -q and -r options, output full request and response text.\n* pathod -q and -r options, add full request and response text to pathod's\n  log buffer.\n* pathoc and pathod -x option, makes -q and -r options log in hex dump\n  format.\n* pathoc -C option, specify response codes to ignore.\n* pathoc -T option, instructs pathoc to ignore timeouts.\n* pathoc -o option, a one-shot mode that exits after the first non-ignored\n  response.\n* pathoc and pathod -e option, which explains the resulting message by\n  expanding random and generated portions, and logging a reproducible\n  specification.\n* Streamline the specification language. HTTP response message is now\n  specified using the \"r\" mnemonic.\n* Add a \"u\" mnemonic for specifying User-Agent strings. Add a set of\n  standard user-agent strings accessible through shortcuts.\n* Major internal refactoring and cleanup.\n* Many bugfixes.\n\n## 22 August 2012: pathod 0.2\n\n* Add pathoc, a pathological HTTP client.\n* Add libpathod.test, a truss for using pathod in unit tests.\n* Add an injection operator to the specification language.\n* Allow Python escape sequences in value literals.\n* Allow execution of requests and responses from file, using the new + operator.\n* Add daemonization to Pathod, and make it more robust for public-facing use.\n* Let pathod pick an arbitrary open port if -p 0 is specified.\n* Move from Tornado to netlib, the network library written for mitmproxy.\n* Move the web application to Flask.\n* Massively expand the documentation.\n\n## 5 April 2012: mitmproxy 0.8\n\n* Detailed tutorial for Android interception. Some features that land in\n  this release have finally made reliable Android interception possible.\n* Upstream-cert mode, which uses information from the upstream server to\n  generate interception certificates.\n* Replacement patterns that let you easily do global replacements in flows\n  matching filter patterns. Can be specified on the command-line, or edited\n  interactively.\n* Much more sophisticated and usable pretty printing of request bodies.\n  Support for auto-indentation of Javascript, inspection of image EXIF\n  data, and more.\n* Details view for flows, showing connection and SSL cert information (X\n  keyboard shortcut).\n* Server certificates are now stored and serialized in saved traffic for\n  later analysis. This means that the 0.8 serialization format is NOT\n  compatible with 0.7.\n* Many other improvements, including bugfixes, and expanded scripting API,\n  and more sophisticated certificate handling.\n\n## 20 February 2012: mitmproxy 0.7\n\n* New built-in key/value editor. This lets you interactively edit URL query\n  strings, headers and URL-encoded form data.\n* Extend script API to allow duplication and replay of flows.\n* API for easy manipulation of URL-encoded forms and query strings.\n* Add \"D\" shortcut in mitmproxy to duplicate a flow.\n* Reverse proxy mode. In this mode mitmproxy acts as an HTTP server,\n  forwarding all traffic to a specified upstream server.\n* UI improvements - use unicode characters to make GUI more compact,\n  improve spacing and layout throughout.\n* Add support for filtering by HTTP method.\n* Add the ability to specify an HTTP body size limit.\n* Move to typed netstrings for serialization format - this makes 0.7\n  backwards-incompatible with serialized data from 0.6!\n\n* Significant improvements in speed and responsiveness of UI.\n* Many minor bugfixes and improvements.\n\n## 7 August 2011: mitmproxy 0.6\n\n* New scripting API that allows much more flexible and fine-grained\n  rewriting of traffic. See the docs for more info.\n* Support for gzip and deflate content encodings. A new \"z\"\n  keybinding in mitmproxy to let us quickly encode and decode content, plus\n  automatic decoding for the \"pretty\" view mode.\n* An event log, viewable with the \"v\" shortcut in mitmproxy, and the\n  \"-e\" command-line flag in mitmdump.\n* Huge performance improvements: mitmproxy interface, loading\n  large numbers of flows from file.\n* A new \"replace\" convenience method for all flow objects, that does a\n  universal regex-based string replacement.\n* Header management has been rewritten to maintain both case and order.\n* Improved stability for SSL interception.\n* Default expiry time on generated SSL certs has been dropped to avoid an\n  OpenSSL overflow bug that caused certificates to expire in the distant\n  past on some systems.\n* A \"pretty\" view mode for JSON and form submission data.\n* Expanded documentation and examples.\n* Countless other small improvements and bugfixes.\n\n## 27 June 2011: mitmproxy 0.5\n\n* An -n option to start the tools without binding to a proxy port.\n* Allow scripts, hooks, sticky cookies etc. to run on flows loaded from\n  save files.\n* Regularize command-line options for mitmproxy and mitmdump.\n* Add an \"SSL exception\" to mitmproxy's license to remove possible\n  distribution issues.\n* Add a --cert-wait-time option to make mitmproxy pause after a new SSL\n  certificate is generated. This can pave over small discrepancies in\n  system time between the client and server.\n* Handle viewing big request and response bodies more elegantly. Only\n  render the first 100k of large documents, and try to avoid running the\n  XML indenter on non-XML data.\n* BUGFIX: Make the \"revert\" keyboard shortcut in mitmproxy work after a\n  flow has been replayed.\n* BUGFIX: Repair a problem that sometimes caused SSL connections to consume\n  100% of CPU.\n\n## 30 March 2011: mitmproxy 0.4\n\n* Full serialization of HTTP conversations\n* Client and server replay\n* On-the-fly generation of dummy SSL certificates\n* mitmdump has \"grown up\" into a powerful tcpdump-like tool for HTTP/S\n* Dozens of improvements to the mitmproxy console interface\n* Python scripting hooks for programmatic modification of traffic\n\n## 01 March 2010: mitmproxy 0.2\n\n* Big speed and responsiveness improvements, thanks to Thomas Roth\n* Support urwid 0.9.9\n* Terminal beeping based on filter expressions\n* Filter expressions for terminal beeps, limits, interceptions and sticky\n  cookies can now be passed on the command line.\n* Save requests and responses to file\n* Split off non-interactive dump functionality into a new tool called\n  mitmdump\n* \"A\" will now accept all intercepted connections\n* Lots of bugfixes\n"
        },
        {
          "name": "CONTRIBUTING.md",
          "type": "blob",
          "size": 3.3564453125,
          "content": "# Contributing\n\nAs an open source project, mitmproxy welcomes contributions of all forms. If you would like to bring the project\nforward, please consider contributing in the following areas:\n\n- **Maintenance:** We are *incredibly* thankful for individuals who are stepping up and helping with maintenance. This\n  includes (but is not limited to) triaging issues, reviewing pull requests and picking up stale ones, helping out other\n  users on [GitHub Discussions](https://github.com/mitmproxy/mitmproxy/discussions), creating minimal, complete and\n  verifiable examples or test cases for existing bug reports, updating documentation, or fixing minor bugs that have\n  recently been reported.\n- **Code Contributions:** We actively mark issues that we consider are [good first contributions](\n  https://github.com/mitmproxy/mitmproxy/issues?q=is%3Aissue+is%3Aopen+label%3A%22help+wanted%22). If you intend to work\n  on a larger contribution to the project, please come talk to us first.\n\n## Development Setup\n\nTo get started hacking on mitmproxy, please install the latest version of Python and do the following:\n\n##### Linux / macOS\n\n```shell\n# 1) Verify that these commands work:\npython3 --version\npython3 -m pip --help\npython3 -m venv --help\n# 2) Install:\ngit clone https://github.com/mitmproxy/mitmproxy.git\ncd mitmproxy\npython3 -m venv venv\nvenv/bin/pip install -e \".[dev]\"\n```\n\n##### Windows\n\n```shell\n# 1) Verify that this command works:\npython --version\n# 2) Install:\ngit clone https://github.com/mitmproxy/mitmproxy.git\ncd mitmproxy\npython -m venv venv\nvenv\\Scripts\\pip install -e .[dev]\n```\n\nThis will clone mitmproxy's source code into a directory with the same name,\nand then create an isolated Python environment (a [virtualenv](https://virtualenv.pypa.io/)) into which all dependencies are installed.\nMitmproxy itself is installed as \"editable\", so any changes to the source in the repository will be reflected live in the virtualenv.\n\nThe main executables for the project – `mitmdump`, `mitmproxy`, and `mitmweb` – are all created within the virtualenv.\nAfter activating the virtualenv, they will be on your $PATH, and you can run them like any other command:\n\n##### Linux / macOS\n\n```shell\nsource venv/bin/activate\nmitmdump --version\n```\n\n##### Windows\n\n```shell\nvenv\\Scripts\\activate\nmitmdump --version\n```\n\n## Testing\n\nIf you've followed the procedure above, you already have all the development requirements installed, and you can run the\nbasic test suite with [tox](https://tox.readthedocs.io/):\n\n```shell\ntox -e py      # runs Python tests\n```\n\nOur CI system has additional tox environments that are run on every pull request (see [tox.ini](./tox.ini)).\n\nFor speedier testing, you can also run [pytest](http://pytest.org/) directly on individual test files or folders:\n\n```shell\ncd test/mitmproxy/addons\npytest --looponfail test_anticache.py\n```\n\nPlease ensure that all patches are accompanied by matching changes in the test suite. The project tries to maintain 100%\ntest coverage and enforces this strictly for some parts of the codebase.\n\n### Code Style\n\nKeeping to a consistent code style throughout the project makes it easier to contribute and collaborate.\n\nWe enforce the following check for all PRs:\n\n```shell\ntox -e lint\n```\n\nIf a linting error is detected, the automated pull request checks will fail and block merging.\n\n## Documentation\n\nPlease check [docs/README.md](./docs/README.md) for instructions.\n"
        },
        {
          "name": "LICENSE",
          "type": "blob",
          "size": 1.0537109375,
          "content": "Copyright (c) 2013, Aldo Cortesi. All rights reserved.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n"
        },
        {
          "name": "MANIFEST.in",
          "type": "blob",
          "size": 0.064453125,
          "content": "graft mitmproxy\nrecursive-exclude * *.pyc *.pyo *.swo *.swp *.map\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 4.0556640625,
          "content": "# mitmproxy\n\n[![Continuous Integration Status](https://github.com/mitmproxy/mitmproxy/workflows/CI/badge.svg?branch=main)](https://github.com/mitmproxy/mitmproxy/actions?query=branch%3Amain)\n[![Codacy Badge](https://app.codacy.com/project/badge/Grade/a38b0325dfb944839c0c8da354f70b1b)](https://app.codacy.com/gh/mitmproxy/mitmproxy/dashboard)\n[![autofix.ci: enabled](https://shields.mitmproxy.org/badge/autofix.ci-yes-success?logo=data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjZmZmIiB2aWV3Qm94PSIwIDAgMTI4IDEyOCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCB0cmFuc2Zvcm09InNjYWxlKDAuMDYxLC0wLjA2MSkgdHJhbnNsYXRlKC0yNTAsLTE3NTApIiBkPSJNMTMyNSAtMzQwcS0xMTUgMCAtMTY0LjUgMzIuNXQtNDkuNSAxMTQuNXEwIDMyIDUgNzAuNXQxMC41IDcyLjV0NS41IDU0djIyMHEtMzQgLTkgLTY5LjUgLTE0dC03MS41IC01cS0xMzYgMCAtMjUxLjUgNjJ0LTE5MSAxNjl0LTkyLjUgMjQxcS05MCAxMjAgLTkwIDI2NnEwIDEwOCA0OC41IDIwMC41dDEzMiAxNTUuNXQxODguNSA4MXExNSA5OSAxMDAuNSAxODAuNXQyMTcgMTMwLjV0MjgyLjUgNDlxMTM2IDAgMjU2LjUgLTQ2IHQyMDkgLTEyNy41dDEyOC41IC0xODkuNXExNDkgLTgyIDIyNyAtMjEzLjV0NzggLTI5OS41cTAgLTEzNiAtNTggLTI0NnQtMTY1LjUgLTE4NC41dC0yNTYuNSAtMTAzLjVsLTI0MyAtMzAwdi01MnEwIC0yNyAzLjUgLTU2LjV0Ni41IC01Ny41dDMgLTUycTAgLTg1IC00MS41IC0xMTguNXQtMTU3LjUgLTMzLjV6TTEzMjUgLTI2MHE3NyAwIDk4IDE0LjV0MjEgNTcuNXEwIDI5IC0zIDY4dC02LjUgNzN0LTMuNSA0OHY2NGwyMDcgMjQ5IHEtMzEgMCAtNjAgNS41dC01NCAxMi41bC0xMDQgLTEyM3EtMSAzNCAtMiA2My41dC0xIDU0LjVxMCA2OSA5IDEyM2wzMSAyMDBsLTExNSAtMjhsLTQ2IC0yNzFsLTIwNSAyMjZxLTE5IC0xNSAtNDMgLTI4LjV0LTU1IC0yNi41bDIxOSAtMjQydi0yNzZxMCAtMjAgLTUuNSAtNjB0LTEwLjUgLTc5dC01IC01OHEwIC00MCAzMCAtNTMuNXQxMDQgLTEzLjV6TTEyNjIgNjE2cS0xMTkgMCAtMjI5LjUgMzQuNXQtMTkzLjUgOTYuNWw0OCA2NCBxNzMgLTU1IDE3MC41IC04NXQyMDQuNSAtMzBxMTM3IDAgMjQ5IDQ1LjV0MTc5IDEyMXQ2NyAxNjUuNWg4MHEwIC0xMTQgLTc3LjUgLTIwNy41dC0yMDggLTE0OXQtMjg5LjUgLTU1LjV6TTgwMyA1OTVxODAgMCAxNDkgMjkuNXQxMDggNzIuNWwyMjEgLTY3bDMwOSA4NnE0NyAtMzIgMTA0LjUgLTUwdDExNy41IC0xOHE5MSAwIDE2NSAzOHQxMTguNSAxMDMuNXQ0NC41IDE0Ni41cTAgNzYgLTM0LjUgMTQ5dC05NS41IDEzNHQtMTQzIDk5IHEtMzcgMTA3IC0xMTUuNSAxODMuNXQtMTg2IDExNy41dC0yMzAuNSA0MXEtMTAzIDAgLTE5Ny41IC0yNnQtMTY5IC03Mi41dC0xMTcuNSAtMTA4dC00MyAtMTMxLjVxMCAtMzQgMTQuNSAtNjIuNXQ0MC41IC01MC41bC01NSAtNTlxLTM0IDI5IC01NCA2NS41dC0yNSA4MS41cS04MSAtMTggLTE0NSAtNzB0LTEwMSAtMTI1LjV0LTM3IC0xNTguNXEwIC0xMDIgNDguNSAtMTgwLjV0MTI5LjUgLTEyM3QxNzkgLTQ0LjV6Ii8+PC9zdmc+)](https://autofix.ci)\n[![Coverage Status](https://shields.mitmproxy.org/codecov/c/github/mitmproxy/mitmproxy/main.svg?label=codecov)](https://codecov.io/gh/mitmproxy/mitmproxy)\n[![Latest Version](https://shields.mitmproxy.org/pypi/v/mitmproxy.svg)](https://pypi.python.org/pypi/mitmproxy)\n[![Supported Python versions](https://shields.mitmproxy.org/pypi/pyversions/mitmproxy.svg)](https://pypi.python.org/pypi/mitmproxy)\n\n``mitmproxy`` is an interactive, SSL/TLS-capable intercepting proxy with a console\ninterface for HTTP/1, HTTP/2, and WebSockets.\n\n``mitmdump`` is the command-line version of mitmproxy. Think tcpdump for HTTP.\n\n``mitmweb`` is a web-based interface for mitmproxy.\n\n## Installation\n\nThe installation instructions are [here](https://docs.mitmproxy.org/stable/overview-installation).\nIf you want to install from source, see [CONTRIBUTING.md](./CONTRIBUTING.md).\n\n## Documentation & Help\n\nGeneral information, tutorials, and precompiled binaries can be found on the mitmproxy website.\n\n[![mitmproxy.org](https://shields.mitmproxy.org/badge/https%3A%2F%2F-mitmproxy.org-blue.svg)](https://mitmproxy.org/)\n\nThe documentation for mitmproxy is available on our website:\n\n[![mitmproxy documentation stable](https://shields.mitmproxy.org/badge/docs-stable-brightgreen.svg)](https://docs.mitmproxy.org/stable/)\n[![mitmproxy documentation dev](https://shields.mitmproxy.org/badge/docs-dev-brightgreen.svg)](https://docs.mitmproxy.org/dev/)\n\nIf you have questions on how to use mitmproxy, please\nuse GitHub Discussions!\n\n[![mitmproxy discussions](https://shields.mitmproxy.org/badge/help-github%20discussions-orange.svg)](https://github.com/mitmproxy/mitmproxy/discussions)\n\n## Contributing\n\nAs an open source project, mitmproxy welcomes contributions of all forms.\n\n[![Dev Guide](https://shields.mitmproxy.org/badge/dev_docs-CONTRIBUTING.md-blue)](./CONTRIBUTING.md)\n"
        },
        {
          "name": "SECURITY.md",
          "type": "blob",
          "size": 0.80859375,
          "content": "# Security Policy\n\n## Supported Versions\n\n| Version             | Supported          |\n| ------------------- | ------------------ |\n| main branch         | :white_check_mark: |\n| most recent release | :white_check_mark: |\n| older releases      | :x:                |\n\n## Reporting a Vulnerability\n\nWe ask that you do not report security issues to our normal GitHub issue tracker.\n\nIf you believe you've identified a security issue with mitmproxy,\nplease report it to [@mhils](https://github.com/mhils), [@Kriechi](https://github.com/Kriechi), and/or [@cortesi](https://github.com/cortesi) \nvia the email addresses listed on their GitHub profiles.\n\nOnce you've submitted an issue via email, \nyou should receive an acknowledgment within 48 hours, and depending on the action to be taken, you may receive further follow-up emails.\n"
        },
        {
          "name": "codecov.yml",
          "type": "blob",
          "size": 0.337890625,
          "content": "comment: off\ncoverage:\n  status:\n    project:\n      default: false  # disable the default status that measures entire project\n      python:\n        target: auto\n        threshold: 0.1%\n        paths:\n          - \"mitmproxy/\"\n          - \"examples/addons/\"\n      web:\n        target: auto\n        threshold: 0.1%\n        paths:\n          - \"web/\"\n"
        },
        {
          "name": "docs",
          "type": "tree",
          "content": null
        },
        {
          "name": "examples",
          "type": "tree",
          "content": null
        },
        {
          "name": "mitmproxy",
          "type": "tree",
          "content": null
        },
        {
          "name": "pyproject.toml",
          "type": "blob",
          "size": 9.248046875,
          "content": "[project]\nname = \"mitmproxy\"\ndescription = \"An interactive, SSL/TLS-capable intercepting proxy for HTTP/1, HTTP/2, and WebSockets.\"\nreadme = \"README.md\"\nrequires-python = \">=3.12\"\nlicense = {file=\"LICENSE\"}\nauthors = [{name = \"Aldo Cortesi\", email = \"aldo@corte.si\"}]\nmaintainers = [{name = \"Maximilian Hils\", email = \"mitmproxy@maximilianhils.com\"}]\ndynamic = [\"version\"]\n\nclassifiers = [\n    \"License :: OSI Approved :: MIT License\",\n    \"Development Status :: 5 - Production/Stable\",\n    \"Environment :: Console :: Curses\",\n    \"Operating System :: MacOS\",\n    \"Operating System :: POSIX\",\n    \"Operating System :: Microsoft :: Windows\",\n    \"Programming Language :: Python :: 3 :: Only\",\n    \"Programming Language :: Python :: 3.12\",\n    \"Programming Language :: Python :: 3.13\",\n    \"Programming Language :: Python :: Implementation :: CPython\",\n    \"Topic :: Security\",\n    \"Topic :: Internet :: WWW/HTTP\",\n    \"Topic :: Internet :: Proxy Servers\",\n    \"Topic :: System :: Networking :: Monitoring\",\n    \"Topic :: Software Development :: Testing\",\n    \"Typing :: Typed\",\n]\n\n# https://packaging.python.org/en/latest/discussions/install-requires-vs-requirements/#install-requires\n# It is not considered best practice to use install_requires to pin dependencies to specific versions.\ndependencies = [\n    \"aioquic>=1.1.0,<=1.2.0\",\n    \"asgiref>=3.2.10,<=3.8.1\",\n    \"Brotli>=1.0,<=1.1.0\",\n    \"certifi>=2019.9.11\",  # no upper bound here to get latest CA bundle\n    \"cryptography>=42.0,<44.1\",  # relaxed upper bound here to get security fixes\n    \"flask>=3.0,<=3.1.0\",\n    \"h11>=0.11,<=0.14.0\",\n    \"h2>=4.1,<=4.1.0\",\n    \"hyperframe>=6.0,<=6.0.1\",\n    \"kaitaistruct>=0.10,<=0.10\",\n    \"ldap3>=2.8,<=2.9.1\",\n    \"mitmproxy_rs>=0.11.2,<0.12\",  # relaxed upper bound here: we control this\n    \"msgpack>=1.0.0,<=1.1.0\",\n    \"passlib>=1.6.5,<=1.7.4\",\n    \"pydivert>=2.0.3,<=2.1.0; sys_platform == 'win32'\",\n    \"pyOpenSSL>=22.1,<=24.3.0\",\n    \"pyparsing>=2.4.2,<=3.2.1\",\n    \"pyperclip<=1.9.0,>=1.9.0\",\n    \"ruamel.yaml>=0.16,<=0.18.10\",\n    \"sortedcontainers>=2.3,<=2.4.0\",\n    \"tornado>=6.4.1,<=6.4.2\",\n    \"urwid>=2.6.14,<=2.6.16\",\n    \"wsproto>=1.0,<=1.2.0\",\n    \"publicsuffix2>=2.20190812,<=2.20191221\",\n    \"zstandard>=0.15,<=0.23.0\",\n]\n\n[project.optional-dependencies]\ndev = [\n    \"click>=7.0,<=8.1.8\",\n    \"hypothesis>=6.104.2,<=6.123.4\",\n    \"pdoc>=14.5.1,<=15.0.1\",\n    \"pyinstaller==6.11.1\",\n    \"pyinstaller-hooks-contrib==2024.11\",\n    \"pytest-asyncio>=0.23.6,<=0.25.1\",\n    \"pytest-cov>=5.0.0,<=6.0.0\",\n    \"pytest-timeout>=2.3.1,<=2.3.1\",\n    \"pytest-xdist>=3.5.0,<=3.6.1\",\n    \"pytest>=8.2.2,<=8.3.4\",\n    \"requests>=2.9.1,<=2.32.3\",\n    \"tox>=4.15.1,<=4.23.2\",\n    \"wheel>=0.36.2,<=0.45.1\",\n    \"build>=0.10.0,<=1.2.2.post1\",\n    \"mypy>=1.10.1,<=1.14.1\",\n    \"ruff>=0.5.0,<=0.8.6\",\n    \"types-certifi>=2021.10.8.3,<=2021.10.8.3\",\n    \"types-Flask>=1.1.6,<=1.1.6\",\n    \"types-Werkzeug>=1.0.9,<=1.0.9\",\n    \"types-requests>=2.32.0.20240622,<=2.32.0.20241016\",\n    \"types-cryptography>=3.3.23.2,<=3.3.23.2\",\n    \"types-pyOpenSSL>=23.3.0.0,<=24.1.0.20240722\",\n]\n\n[project.urls]\nHomepage = \"https://mitmproxy.org\"\nSource = \"https://github.com/mitmproxy/mitmproxy/\"\nDocumentation = \"https://docs.mitmproxy.org/stable/\"\nIssues = \"https://github.com/mitmproxy/mitmproxy/issues\"\n\n[project.scripts]\nmitmproxy = \"mitmproxy.tools.main:mitmproxy\"\nmitmdump = \"mitmproxy.tools.main:mitmdump\"\nmitmweb = \"mitmproxy.tools.main:mitmweb\"\n\n[project.entry-points.pyinstaller40]\nhook-dirs = \"mitmproxy.utils.pyinstaller:hook_dirs\"\n\n[build-system]\nrequires = [\"setuptools\"]\nbuild-backend = \"setuptools.build_meta\"\n\n[tool.setuptools.dynamic]\nversion = {attr = \"mitmproxy.version.VERSION\"}\n\n[tool.setuptools.packages.find]\ninclude = [\"mitmproxy*\"]\n\n[tool.coverage.run]\nbranch = false\nomit = [\n    \"*contrib*\",\n    \"*tnetstring*\",\n    \"*platform*\",\n    \"*main.py\",\n]\n\n[tool.coverage.report]\nshow_missing = true\nexclude_lines = [\n    \"pragma: no cover\",\n    \"raise NotImplementedError\",\n    \"raise AssertionError\",\n    \"if typing.TYPE_CHECKING:\",\n    \"if TYPE_CHECKING:\",\n    \"@overload\",\n    \"@abstractmethod\",\n    \"assert_never\",\n    \"\\\\.\\\\.\\\\.\",\n]\n\n[tool.pytest.ini_options]\nasyncio_mode = \"auto\"\nasyncio_default_fixture_loop_scope = \"function\"\ntestpaths = \"test\"\naddopts = \"--capture=no --color=yes\"\nfilterwarnings = [\n    \"ignore::DeprecationWarning:tornado.*:\",\n    \"ignore:datetime.datetime.utcnow:DeprecationWarning:aioquic.*:\",\n    \"error::RuntimeWarning\",\n    \"error::pytest.PytestUnraisableExceptionWarning\",\n]\n\n[tool.pytest.individual_coverage]\nexclude = [\n  \"mitmproxy/addons/__init__.py\",\n  \"mitmproxy/addons/onboarding.py\",\n  \"mitmproxy/addons/onboardingapp/__init__.py\",\n  \"mitmproxy/contentviews/__init__.py\",\n  \"mitmproxy/contentviews/base.py\",\n  \"mitmproxy/contentviews/grpc.py\",\n  \"mitmproxy/contrib/*\",\n  \"mitmproxy/ctx.py\",\n  \"mitmproxy/exceptions.py\",\n  \"mitmproxy/flow.py\",\n  \"mitmproxy/io/io.py\",\n  \"mitmproxy/io/tnetstring.py\",\n  \"mitmproxy/log.py\",\n  \"mitmproxy/master.py\",\n  \"mitmproxy/net/check.py\",\n  \"mitmproxy/net/http/cookies.py\",\n  \"mitmproxy/net/http/multipart.py\",\n  \"mitmproxy/net/tls.py\",\n  \"mitmproxy/platform/__init__.py\",\n  \"mitmproxy/platform/linux.py\",\n  \"mitmproxy/platform/openbsd.py\",\n  \"mitmproxy/platform/osx.py\",\n  \"mitmproxy/platform/pf.py\",\n  \"mitmproxy/platform/windows.py\",\n  \"mitmproxy/proxy/__init__.py\",\n  \"mitmproxy/proxy/layers/http/__init__.py\",\n  \"mitmproxy/proxy/layers/http/_base.py\",\n  \"mitmproxy/proxy/layers/http/_events.py\",\n  \"mitmproxy/proxy/layers/http/_hooks.py\",\n  \"mitmproxy/proxy/layers/http/_http1.py\",\n  \"mitmproxy/proxy/layers/http/_http2.py\",\n  \"mitmproxy/proxy/layers/http/_http3.py\",\n  \"mitmproxy/proxy/layers/http/_http_h2.py\",\n  \"mitmproxy/proxy/layers/http/_http_h3.py\",\n  \"mitmproxy/proxy/layers/http/_upstream_proxy.py\",\n  \"mitmproxy/proxy/layers/tls.py\",\n  \"mitmproxy/proxy/server.py\",\n  \"mitmproxy/test/taddons.py\",\n  \"mitmproxy/test/tflow.py\",\n  \"mitmproxy/test/tutils.py\",\n  \"mitmproxy/tools/console/commander/commander.py\",\n  \"mitmproxy/tools/console/commandexecutor.py\",\n  \"mitmproxy/tools/console/commands.py\",\n  \"mitmproxy/tools/console/common.py\",\n  \"mitmproxy/tools/console/consoleaddons.py\",\n  \"mitmproxy/tools/console/eventlog.py\",\n  \"mitmproxy/tools/console/flowdetailview.py\",\n  \"mitmproxy/tools/console/flowlist.py\",\n  \"mitmproxy/tools/console/flowview.py\",\n  \"mitmproxy/tools/console/grideditor/base.py\",\n  \"mitmproxy/tools/console/grideditor/col_bytes.py\",\n  \"mitmproxy/tools/console/grideditor/col_subgrid.py\",\n  \"mitmproxy/tools/console/grideditor/col_text.py\",\n  \"mitmproxy/tools/console/grideditor/col_viewany.py\",\n  \"mitmproxy/tools/console/grideditor/editors.py\",\n  \"mitmproxy/tools/console/help.py\",\n  \"mitmproxy/tools/console/keybindings.py\",\n  \"mitmproxy/tools/console/keymap.py\",\n  \"mitmproxy/tools/console/layoutwidget.py\",\n  \"mitmproxy/tools/console/master.py\",\n  \"mitmproxy/tools/console/options.py\",\n  \"mitmproxy/tools/console/overlay.py\",\n  \"mitmproxy/tools/console/quickhelp.py\",\n  \"mitmproxy/tools/console/searchable.py\",\n  \"mitmproxy/tools/console/signals.py\",\n  \"mitmproxy/tools/console/statusbar.py\",\n  \"mitmproxy/tools/console/tabs.py\",\n  \"mitmproxy/tools/console/window.py\",\n  \"mitmproxy/tools/main.py\",\n  \"mitmproxy/tools/web/app.py\",\n  \"mitmproxy/tools/web/master.py\",\n  \"mitmproxy/tools/web/webaddons.py\",\n  \"mitmproxy/utils/bits.py\",\n  \"mitmproxy/utils/pyinstaller/*\",\n  \"mitmproxy/utils/vt_codes.py\",\n]\n\n[tool.mypy]\ncheck_untyped_defs = true\nignore_missing_imports = true\nfiles = [\n    \"mitmproxy\",\n    \"examples/addons\",\n    \"release/*.py\",\n]\nexclude = [\n    \"^docs/\",\n    \"^release/build/\",\n    \"^examples/contrib/\",\n]\n\n[[tool.mypy.overrides]]\nmodule = \"mitmproxy.contrib.*\"\nignore_errors = true\n\n[[tool.mypy.overrides]]\nmodule = \"tornado.*\"\nignore_errors = true\n\n[[tool.mypy.overrides]]\nmodule = \"test.*\"\nignore_errors = true\n\n[tool.ruff]\nextend-exclude = [\"mitmproxy/contrib/\"]\n\n[tool.ruff.lint]\nselect = [\"E\", \"F\", \"I\", \"TID251\"]\nignore = [\"F541\", \"E501\"]\n\n[tool.ruff.lint.per-file-ignores]\n\"examples/**\" = [\"TID251\"]\n\"test/**\" = [\"TID251\"]\n\n[tool.ruff.lint.flake8-tidy-imports.banned-api]\n\"asyncio.create_task\".msg = \"Use mitmproxy.utils.asyncio_utils.create_task instead to avoid GC footgun.\"\n\n\n[tool.ruff.lint.isort]\n# these rules are a bit weird, but they mimic our existing reorder_python_imports style.\n# if we break compatibility here, consider removing all customization + enforce absolute imports.\nforce-single-line = true\norder-by-type = false\nsection-order = [\"future\", \"standard-library\", \"third-party\", \"local-folder\",\"first-party\"]\nno-lines-before = [\"first-party\"]\nknown-first-party = [\"test\", \"mitmproxy\", \"mitmproxy_rs\"]\n\n[tool.tox]\nlegacy_tox_ini = \"\"\"\n[tox]\nenvlist = py, lint, mypy\nskipsdist = True\ntoxworkdir={env:TOX_WORK_DIR:.tox}\n\n[testenv]\ndeps =\n  -e .[dev]\nsetenv = HOME = {envtmpdir}\ncommands =\n  mitmdump --version\n  pytest --timeout 60 -vv \\\n    --cov-report xml \\\n    --continue-on-collection-errors \\\n    --cov=mitmproxy --cov=release \\\n    {posargs}\n\n[testenv:old-dependencies]\nuv_resolution = lowest-direct\n\n[testenv:lint]\ncommands =\n  ruff check .\n\n[testenv:filename_matching]\ndeps =\ncommands =\n  python ./test/filename_matching.py\n\n[testenv:mypy]\ncommands =\n  mypy {posargs}\n\n[testenv:individual_coverage]\ncommands =\n  python ./test/individual_coverage.py {posargs}\n\n[testenv:wheeltest]\nrecreate = True\ndeps =\ncommands =\n  pip install {posargs}\n  mitmproxy --version\n  mitmdump --version\n  mitmweb --version\n\"\"\"\n"
        },
        {
          "name": "release",
          "type": "tree",
          "content": null
        },
        {
          "name": "test",
          "type": "tree",
          "content": null
        },
        {
          "name": "web",
          "type": "tree",
          "content": null
        }
      ]
    }
  ]
}