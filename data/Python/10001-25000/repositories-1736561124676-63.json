{
  "metadata": {
    "timestamp": 1736561124676,
    "page": 63,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjcw",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "kovidgoyal/calibre",
      "stars": 20293,
      "defaultBranch": "master",
      "files": [
        {
          "name": ".gitattributes",
          "type": "blob",
          "size": 1.4560546875,
          "content": "# Tell git what files are txt\n*.py  text diff=python\n*.pyj  text diff=python linguist-language=python\n*.recipe  text diff=python linguist-language=python\n*.coffee  text\n*.js      text\n*.pot     text\n*.po      text\n*.html    text\n*.xhtml   text\n*.htm     text\n*.css     text\n*.rst     text\n*.md      text\n*.txt     text\n*.session text\n*.cfg     text\n*.yaml    text\n*.svg     text\n*.xml     text\n*.xsl     text\n*.tmpl    text\n*.qrc     text\n*.sh      text\n*.fb2     text\n*.bat     text eol=crlf\n\n# Tell git what files are binary\n*.zip     binary\n*.epub    binary\n*.docx    binary\n*.jpg     binary\n*.jpeg    binary\n*.png     binary\n*.gif     binary\n*.pickle  binary\n*.pdf     binary\n\n# Prevent certain files from being exported:\n.gitattributes  export-ignore\n.gitignore      export-ignore\n\n# Mark vendored files\nresources/mathjax/* linguist-vendored=true\nresources/coffee-script.js linguist-vendored=true\nresources/csscolorparser.js linguist-vendored=true\nresources/viewer/hyphen* linguist-vendored=true\nresources/viewer/jquery* linguist-vendored=true\nresources/stylelint-bundle.min.js linguist-vendored=true\nsrc/hunspell linguist-vendored=true\nsrc/calibre/utils/windows/wintoastlib* linguist-vendored=true\n\n# Mark generated files\nresources/content-server/index-generated.html linguist-generated=true\nresources/editor.js linguist-generated=true\nresources/viewer.js linguist-generated=true\nresources/viewer.html linguist-generated=true\nsrc/calibre/ebooks/html_entities.h linguist-generated=true\n"
        },
        {
          "name": ".github",
          "type": "tree",
          "content": null
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 1.0947265625,
          "content": "*_ui.py\n*.pyc\n*.pyo\n*.pyj-cached\n.bzr\n.bzrignore\n.build-cache\n.cache\n/src/calibre/plugins\n/resources/images.qrc\n/resources/icons.rcc\n/manual/generated\n/manual/locale\n/manual/.doctrees\n/build\n/dist\n/docs\n/resources/localization\n/resources/hyphenation\n/resources/scripts.calibre_msgpack\n/resources/changelog.json\n/resources/ebook-convert-complete.calibre_msgpack\n/resources/builtin_recipes.xml\n/resources/builtin_recipes.zip\n/resources/template-functions.json\n/resources/editor-functions.json\n/resources/user-manual-translation-stats.json\n/resources/editor.js\n/resources/viewer.js\n/resources/viewer.html\n/resources/content-server/index-generated.html\n/resources/content-server/locales.zip\n/resources/mathjax\n/resources/fonts/liberation\n/resources/mozilla-ca-certs.pem\n/resources/user-agent-data.json\n/resources/piper-voices.json\n/icons/icns/*.iconset\n/setup/installer/windows/calibre/build.log\n/setup/pyqt_enums\n/tags\n/nbproject/\n/translations/\n*.mdproj\n*.pidb\n*.sln\n*.userprefs\n/.project\n/.pydevproject\n/.settings/\n*.DS_Store\n/calibre_plugins/\n/.metadata/\n/.idea\n/*env*/\n/cmake-build-*\n/bypy/b\n/bypy/virtual-machines.conf\n"
        },
        {
          "name": "COPYRIGHT",
          "type": "blob",
          "size": 33.1318359375,
          "content": "Files: *\nCopyright: Copyright (C) 2008-2025 Kovid Goyal <kovid@kovidgoyal.net>\nLicense: GPL-3\n The full text of the GPL is distributed as in\n /usr/share/common-licenses/GPL-3 on Debian systems.\n\nFiles: resources/content-server/font-awesome/*\nCopyright: Various\nLicense: MIT and SIL OFL\n\nFiles: resources/rapydscript/*\nCopyright: Various\nLicense: BSD\n\nFiles: src/templite/*\nCopyright: Copyright (c) 2009 joonis new media, Thimo Kraemer\nLicense: GPL-2+\n The full text of the GPL is distributed as in\n /usr/share/common-licenses/GPL-2 on Debian systems.\n\nFiles: src/calibre/devices/bambook/*\nCopyright: 2010, Li Fanxi\nLicense: GPL-3\n The full text of the GPL is distributed as in\n /usr/share/common-licenses/GPL-3 on Debian systems.\n\nFiles: src/calibre/devices/binatone/*\nCopyright: 2009, John Schember <john at nachtimwald.com>\nLicense: GPL-3\n The full text of the GPL is distributed as in\n /usr/share/common-licenses/GPL-3 on Debian systems.\n\nFiles: src/calibre/devices/boeye/*\nCopyright: 2011,  Ken <ken at szboeye.com>\nLicense: GPL-3\n The full text of the GPL is distributed as in\n /usr/share/common-licenses/GPL-3 on Debian systems.\n\nFiles: src/calibre/devices/cybook/*\nCopyright: 2009, John Schember <john at nachtimwald.com>\nLicense: GPL-3\n The full text of the GPL is distributed as in\n /usr/share/common-licenses/GPL-3 on Debian systems.\n\nFiles: src/calibre/devices/hanlin/*\nCopyright: 2009, Tijmen Ruizendaal <tijmen at mybebook.com>\nLicense: GPL-3\n The full text of the GPL is distributed as in\n /usr/share/common-licenses/GPL-3 on Debian systems.\n\nFiles: src/calibre/devices/hanvon/*\nCopyright: 2009, John Schember <john at nachtimwald.com>\nLicense: GPL-3\n The full text of the GPL is distributed as in\n /usr/share/common-licenses/GPL-3 on Debian systems.\n\nFiles: src/calibre/devices/iliad/*\nCopyright: 2009, John Schember <john at nachtimwald.com>\nLicense: GPL-3\n The full text of the GPL is distributed as in\n /usr/share/common-licenses/GPL-3 on Debian systems.\n\nFiles: src/calibre/devices/irex/*\nCopyright: 2009, John Schember <john at nachtimwald.com>\nLicense: GPL-3\n The full text of the GPL is distributed as in\n /usr/share/common-licenses/GPL-3 on Debian systems.\n\nFiles: src/calibre/devices/jetbook/*\nCopyright: 2009, James Ralston <jralston at mindspring.com>\nLicense: GPL-3\n The full text of the GPL is distributed as in\n /usr/share/common-licenses/GPL-3 on Debian systems.\n\nFiles: src/calibre/devices/kindle/*\nCopyright: 2009, John Schember <john at nachtimwald.com>\nLicense: GPL-3\n The full text of the GPL is distributed as in\n /usr/share/common-licenses/GPL-3 on Debian systems.\n\nFiles: src/calibre/devices/kobo/*\nCopyright: 2010-2012, Timothy Legge <timlegge@gmail.com>, Kovid Goyal <kovid@kovidgoyal.net> and David Forrester <davidfor@internode.on.net>\nLicense: GPL-3\n The full text of the GPL is distributed as in\n /usr/share/common-licenses/GPL-3 on Debian systems.\n\nFiles: src/calibre/devices/nokia/*\nCopyright: 2009-2014, John Schember <john at nachtimwald.com>\nLicense: GPL-3\n The full text of the GPL is distributed as in\n /usr/share/common-licenses/GPL-3 on Debian systems.\n\nFiles: src/calibre/devices/nook/*\nCopyright: 2009, John Schember <john at nachtimwald.com>\nLicense: GPL-3\n The full text of the GPL is distributed as in\n /usr/share/common-licenses/GPL-3 on Debian systems.\n\nFiles: src/calibre/devices/sne/*\nCopyright: 2009, John Schember <john at nachtimwald.com>\nLicense: GPL-3\n The full text of the GPL is distributed as in\n /usr/share/common-licenses/GPL-3 on Debian systems.\n\nFiles: src/calibre/devices/usbms/*\nCopyright: 2009, John Schember <john at nachtimwald.com>\nLicense: GPL-3\n The full text of the GPL is distributed as in\n /usr/share/common-licenses/GPL-3 on Debian systems.\n\nFiles: src/calibre/ebooks/azw4/*\nCopyright: 2011, John Schember <john@nachtimwald.com>\nLicense: GPL-3\n The full text of the GPL is distributed as in\n /usr/share/common-licenses/GPL-3 on Debian systems.\n\nFiles: src/calibre/ebooks/chem/*\nCopyright: 2008, Kovid Goyal <kovid at kovidgoyal.net>, Alex Bramley <a.bramley at gmail.com>\nLicense: GPL-3\n The full text of the GPL is distributed as in\n /usr/share/common-licenses/GPL-3 on Debian systems.\n\nFiles: src/calibre/ebooks/compression/*\nCopyright: 2009, John Schember <john@nachtimwald.com>\nLicense: GPL-3\n The full text of the GPL is distributed as in\n /usr/share/common-licenses/GPL-3 on Debian systems.\n\nFiles: src/calibre/ebooks/djvu/*\nCopyright: 2011, Anthon van der Neut <anthon@mnt.org>\nLicense: GPL-3\n The full text of the GPL is distributed as in\n /usr/share/common-licenses/GPL-3 on Debian systems.\n\nFiles: src/calibre/ebooks/htmlz/*\nCopyright: 2011, John Schember <john@nachtimwald.com>\nLicense: GPL-3\n The full text of the GPL is distributed as in\n /usr/share/common-licenses/GPL-3 on Debian systems.\n\nFiles: src/calibre/ebooks/markdown/*\nCopyright: 2007-2013 The Python Markdown Project (v. 1.7 and later)\nLicense: BSD\n The full text of the BSD license is distributed as in\n /usr/share/common-licenses/BSD on Debian systems.\n\nFiles: src/calibre/ebooks/oeb/*\nCopyright: 2008, Marshall T. Vandegrift <llasram@gmail.com>\nLicense: GPL-3\n The full text of the GPL is distributed as in\n /usr/share/common-licenses/GPL-3 on Debian systems.\n\nFiles: src/calibre/ebooks/pdb/*\nCopyright: 2009, John Schember <john@nachtimwald.com>\nLicense: GPL-3\n The full text of the GPL is distributed as in\n /usr/share/common-licenses/GPL-3 on Debian systems.\n\nFiles: src/calibre/ebooks/pml/*\nCopyright: 2009, John Schember <john@nachtimwald.com>\nLicense: GPL-3\n The full text of the GPL is distributed as in\n /usr/share/common-licenses/GPL-3 on Debian systems.\n\nFiles: src/calibre/ebooks/rb/*\nCopyright: 2009, John Schember <john@nachtimwald.com>\nLicense: GPL-3\n The full text of the GPL is distributed as in\n /usr/share/common-licenses/GPL-3 on Debian systems.\n\nFiles: src/calibre/ebooks/snb/*\nCopyright: 2010, Li Fanxi <lifanxi@freemindworld.com>\nLicense: GPL-3\n The full text of the GPL is distributed as in\n /usr/share/common-licenses/GPL-3 on Debian systems.\n\nFiles: src/calibre/ebooks/tcr/*\nCopyright: 2009, John Schember <john@nachtimwald.com>\nLicense: GPL-3\n The full text of the GPL is distributed as in\n /usr/share/common-licenses/GPL-3 on Debian systems.\n\nFiles: src/calibre/ebooks/textile/unsmarten.py\nCopyright: 2011, Leigh Parry <leighparry@blueyonder.co.uk>\nLicense: GPL-3\n The full text of the GPL is distributed as in\n /usr/share/common-licenses/GPL-3 on Debian systems.\n\nFiles: src/calibre/ebooks/textile/functions.py\nCopyright: 2011, Leigh Parry <leighparry@blueyonder.co.uk>\nLicense: BSD-3-clause-like\n\nFiles: src/calibre/ebooks/txt/*\nCopyright: 2008, John Schember <john@nachtimwald.com>\nLicense: GPL-3\n The full text of the GPL is distributed as in\n /usr/share/common-licenses/GPL-3 on Debian systems.\n\nFiles: src/calibre/gui2/store/*\nCopyright: 2011, John Schember <john@nachtimwald.com>\nLicense: GPL-3\n The full text of the GPL is distributed as in\n /usr/share/common-licenses/GPL-3 on Debian systems.\n\nFiles: src/calibre/headless/fontconfig_database.cpp\nCopyright: Copyright (C) 2014 Digia Plc and/or its subsidiary(-ies)\nLicense: LGPL-2.1, LGPL-3\n\nFiles: src/calibre/utils/open_search/description.py\nCopyright: 2011, John Schember <john@nachtimwald.com>, 2006, Ed Summers <ehs@pobox.com>\nLicense: GPL-3\n The full text of the GPL is distributed as in\n /usr/share/common-licenses/GPL-3 on Debian systems.\n\nFiles: src/calibre/utils/open_search/{query.py, url.py}\nCopyright: 2006, Ed Summers <ehs@pobox.com>\nLicense: GPL-3\n The full text of the GPL is distributed as in\n /usr/share/common-licenses/GPL-3 on Debian systems.\n\nFiles: setup/iso*\nCopyright: Various\nLicense: LGPL 2.1\n The full text of the LGPL is distributed as in\n /usr/share/common-licenses/LGPL-2.1 on Debian systems.\n\nFiles: src/calibre/gui2/tweak_book/diff/_patiencediff_c.c\nCopyright: Canonical\nLicense: GPL-2+\n\nFiles: src/calibre/ebooks/hyphenate.py\nCopyright: Ned Batchelder\nLicense: Other\n  This Python code is in the public domain.\n\nFiles: src/tinycss/*\nCopyright: Simon Sapin\nLicense: BSD\n\nFiles: src/calibre/ebooks/readability/*\nCopyright: Unknown\nLicense: Apache 2.0\n  The full text of the Apache 2.0 license is available at:\n  http://www.apache.org/licenses/LICENSE-2.0\n\nFiles: src/odf/*\nCopyright: Copyright (C) 2006-2008 Søren Roug, European Environment Agency\nLicense: LGPL2.1+\n The full text of the LGPL is distributed as in\n /usr/share/common-licenses/LGPL-2.1 on Debian systems.\n\nFiles: src/odf/teletype.py\nFiles: src/odf/easyliststyle.py\nCopyright: Copyright (C) 2008, J. David Eisenberg\nLicense: GPL2+\n The full text of the GPL is distributed as in\n /usr/share/common-licenses/GPL-2 on Debian systems.\n\nFiles: src/calibre/utils/lzx/*\nCopyright: Copyright (C) 2002, Matthew T. Russotto\nCopyright: Copyright (C) 2008, Marshall T. Vandegrift <llasram@gmail.com>\nCopyright: Copyright (C) 2006-2008, Alexander Chemeris\nLicense: LGPL-2.1\n The full text of the LGPL is distributed as in\n /usr/share/common-licenses/LGPL-2.1 on Debian systems.\n\nFiles: src/calibre/utils/msdes/d3des.h:\nFiles: src/calibre/utils/msdes/des.c:\nCopyright: Copyright (C) 1988,1989,1990,1991,1992, Richard Outerbridge\nLicense: Other\n THIS SOFTWARE PLACED IN THE PUBLIC DOMAIN BY THE AUTHOUR\n\nFiles: src/calibre/utils/msdes/msdesmodule.c\nCopyright: Copyright (C) 2008, Marshall T. Vandegrift <llasram@gmail.com>\nLicense: GPL-3\n The full text of the GPL is distributed as in\n /usr/share/common-licenses/GPL-3 on Debian systems.\n\nFiles: src/calibre/utils/msdes/spr.h\nCopyright: Copyright (C) 2002, Dan A. Jackson\nLicense: GPL2+\n The full text of the GPL is distributed as in\n /usr/share/common-licenses/GPL-2 on Debian systems.\n\nFiles: src/calibre/gui2/pictureflow/*\nCopyright: (C) Copyright 2007 Trolltech ASA\nLicense: BSD\n The full text of the BSD license is distributed as in\n /usr/share/common-licenses/BSD on Debian systems.\n\nFiles: src/calibre/ebooks/lit/*\nCopyright: 2008, Marshall T. Vandegrift <llasram@gmail.com>\nLicense: GPL-3\n The full text of the GPL is distributed as in\n /usr/share/common-licenses/GPL-3 on Debian systems.\n\nFiles: src/calibre/ebooks/lrf/*\nCopyright: 2008, Anatoly Shipitsin <norguhtar at gmail.com>\nCopyright: copyright 2002 Paul Henry Tremblay\nCopyright: Copyright (C) 2008 B.Scott Wxby [bswxby]\nCopyright: Copyright (C) 2007 David Chen SonyReader<at>DaveChen<dot>org\nCopyright: Copyright (c) 2007 Mike Higgins (Falstaff)\nLicense: GPL-3\n The full text of the GPL is distributed as in\n /usr/share/common-licenses/GPL-3 on Debian systems.\n\nFiles: src/calibre/ebooks/rtf2xml/*\nCopyright: copyright 2002 Paul Henry Tremblay\nLicense: GPL\n The full text of the GPL is distributed as in\n /usr/share/common-licenses/GPL on Debian systems.\n\nFiles: src/calibre/web/feeds/feedparser.py\nCopyright: Copyright (c) 2002-2006, Mark Pilgrim\nLicense: BSD\n The full text of the BSD license is distributed as in\n /usr/share/common-licenses/BSD on Debian systems.\n\nFiles: src/calibre/ebooks/metadata/*\nCopyright: 2008, Ashish Kulkarni <kulkarni.ashish@gmail.com>\nCopyright: Copyright (C) 2006 Søren Roug, European Environment Agency\nLicense: GPL-3\n The full text of the GPL is distributed as in\n /usr/share/common-licenses/GPL-3 on Debian systems.\n\nFiles: src/calibre/ebooks/unihandecode/*\nCopyright: 2010-2011, Hiroshi Miura <miurahr@linux.com>\nCopyright: 2009, John Schember\nCopyright: 2007, Russell Norris\nCopyright: 2001, Sean M. Burke\nLicense: GPL-3, Perl\n The full text of the GPL is distributed as in\n /usr/share/common-licenses/GPL-3 on Debian systems.\n\nFiles: src/calibre/translations/dynamic.py\nCopyright: Copyright (C) 2008, Marshall T. Vandegrift\nLicense: GPL-3\n The full text of the GPL is distributed as in\n /usr/share/common-licenses/GPL-3 on Debian systems.\n\nFiles: src/calibre/translations/msgfmt.py\nCopyright: Martin v. Loewis\nLicense: Python Software Foundation License\n\nFiles: src/calibre/utils/imageops/ordered_dither.cpp\nCopyright: Copyright 1999-2019 ImageMagick Studio LLC\nLicense: ImageMagick License\n\nBSD License (for all the BSD licensed code indicated above)\n-----------------------------------------------------------\nCopyright (c) <YEAR>, <OWNER>\nAll rights reserved.\n\nRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n\n    * Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n    * Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n    * Neither the name of the <ORGANIZATION> nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\nLGPL License (for all the LGPL licensed code indicated above)\n-------------------------------------------------------------\n\n\t\t   GNU LESSER GENERAL PUBLIC LICENSE\n                       Version 3, 29 June 2007\n\n Copyright (C) 2007 Free Software Foundation, Inc. <http://fsf.org/>\n Everyone is permitted to copy and distribute verbatim copies\n of this license document, but changing it is not allowed.\n\n\n  This version of the GNU Lesser General Public License incorporates\nthe terms and conditions of version 3 of the GNU General Public\nLicense, supplemented by the additional permissions listed below.\n\n  0. Additional Definitions.\n\n  As used herein, \"this License\" refers to version 3 of the GNU Lesser\nGeneral Public License, and the \"GNU GPL\" refers to version 3 of the GNU\nGeneral Public License.\n\n  \"The Library\" refers to a covered work governed by this License,\nother than an Application or a Combined Work as defined below.\n\n  An \"Application\" is any work that makes use of an interface provided\nby the Library, but which is not otherwise based on the Library.\nDefining a subclass of a class defined by the Library is deemed a mode\nof using an interface provided by the Library.\n\n  A \"Combined Work\" is a work produced by combining or linking an\nApplication with the Library.  The particular version of the Library\nwith which the Combined Work was made is also called the \"Linked\nVersion\".\n\n  The \"Minimal Corresponding Source\" for a Combined Work means the\nCorresponding Source for the Combined Work, excluding any source code\nfor portions of the Combined Work that, considered in isolation, are\nbased on the Application, and not on the Linked Version.\n\n  The \"Corresponding Application Code\" for a Combined Work means the\nobject code and/or source code for the Application, including any data\nand utility programs needed for reproducing the Combined Work from the\nApplication, but excluding the System Libraries of the Combined Work.\n\n  1. Exception to Section 3 of the GNU GPL.\n\n  You may convey a covered work under sections 3 and 4 of this License\nwithout being bound by section 3 of the GNU GPL.\n\n  2. Conveying Modified Versions.\n\n  If you modify a copy of the Library, and, in your modifications, a\nfacility refers to a function or data to be supplied by an Application\nthat uses the facility (other than as an argument passed when the\nfacility is invoked), then you may convey a copy of the modified\nversion:\n\n   a) under this License, provided that you make a good faith effort to\n   ensure that, in the event an Application does not supply the\n   function or data, the facility still operates, and performs\n   whatever part of its purpose remains meaningful, or\n\n   b) under the GNU GPL, with none of the additional permissions of\n   this License applicable to that copy.\n\n  3. Object Code Incorporating Material from Library Header Files.\n\n  The object code form of an Application may incorporate material from\na header file that is part of the Library.  You may convey such object\ncode under terms of your choice, provided that, if the incorporated\nmaterial is not limited to numerical parameters, data structure\nlayouts and accessors, or small macros, inline functions and templates\n(ten or fewer lines in length), you do both of the following:\n\n   a) Give prominent notice with each copy of the object code that the\n   Library is used in it and that the Library and its use are\n   covered by this License.\n\n   b) Accompany the object code with a copy of the GNU GPL and this license\n   document.\n\n  4. Combined Works.\n\n  You may convey a Combined Work under terms of your choice that,\ntaken together, effectively do not restrict modification of the\nportions of the Library contained in the Combined Work and reverse\nengineering for debugging such modifications, if you also do each of\nthe following:\n\n   a) Give prominent notice with each copy of the Combined Work that\n   the Library is used in it and that the Library and its use are\n   covered by this License.\n\n   b) Accompany the Combined Work with a copy of the GNU GPL and this license\n   document.\n\n   c) For a Combined Work that displays copyright notices during\n   execution, include the copyright notice for the Library among\n   these notices, as well as a reference directing the user to the\n   copies of the GNU GPL and this license document.\n\n   d) Do one of the following:\n\n       0) Convey the Minimal Corresponding Source under the terms of this\n       License, and the Corresponding Application Code in a form\n       suitable for, and under terms that permit, the user to\n       recombine or relink the Application with a modified version of\n       the Linked Version to produce a modified Combined Work, in the\n       manner specified by section 6 of the GNU GPL for conveying\n       Corresponding Source.\n\n       1) Use a suitable shared library mechanism for linking with the\n       Library.  A suitable mechanism is one that (a) uses at run time\n       a copy of the Library already present on the user's computer\n       system, and (b) will operate properly with a modified version\n       of the Library that is interface-compatible with the Linked\n       Version.\n\n   e) Provide Installation Information, but only if you would otherwise\n   be required to provide such information under section 6 of the\n   GNU GPL, and only to the extent that such information is\n   necessary to install and execute a modified version of the\n   Combined Work produced by recombining or relinking the\n   Application with a modified version of the Linked Version. (If\n   you use option 4d0, the Installation Information must accompany\n   the Minimal Corresponding Source and Corresponding Application\n   Code. If you use option 4d1, you must provide the Installation\n   Information in the manner specified by section 6 of the GNU GPL\n   for conveying Corresponding Source.)\n\n  5. Combined Libraries.\n\n  You may place library facilities that are a work based on the\nLibrary side by side in a single library together with other library\nfacilities that are not Applications and are not covered by this\nLicense, and convey such a combined library under terms of your\nchoice, if you do both of the following:\n\n   a) Accompany the combined library with a copy of the same work based\n   on the Library, uncombined with any other library facilities,\n   conveyed under the terms of this License.\n\n   b) Give prominent notice with the combined library that part of it\n   is a work based on the Library, and explaining where to find the\n   accompanying uncombined form of the same work.\n\n  6. Revised Versions of the GNU Lesser General Public License.\n\n  The Free Software Foundation may publish revised and/or new versions\nof the GNU Lesser General Public License from time to time. Such new\nversions will be similar in spirit to the present version, but may\ndiffer in detail to address new problems or concerns.\n\n  Each version is given a distinguishing version number. If the\nLibrary as you received it specifies that a certain numbered version\nof the GNU Lesser General Public License \"or any later version\"\napplies to it, you have the option of following the terms and\nconditions either of that published version or of any later version\npublished by the Free Software Foundation. If the Library as you\nreceived it does not specify a version number of the GNU Lesser\nGeneral Public License, you may choose any version of the GNU Lesser\nGeneral Public License ever published by the Free Software Foundation.\n\n  If the Library as you received it specifies that a proxy can decide\nwhether future versions of the GNU Lesser General Public License shall\napply, that proxy's public statement of acceptance of any version is\npermanent authorization for you to choose that version for the\nLibrary.\n\nImageMagick License (for all the ImageMagick licensed code indicated above)\n-----------------------------------------------------------\n\nBefore we get to the text of the license, lets just review what the license says in simple terms:\n\nIt allows you to:\n\n  * freely download and use ImageMagick software, in whole or in part, for personal, company internal, or commercial purposes;\n  * use ImageMagick software in packages or distributions that you create;\n  * link against a library under a different license;\n  * link code under a different license against a library under this license;\n  * merge code into a work under a different license;\n  * extend patent grants to any code using code under this license;\n  * and extend patent protection.\n\nIt forbids you to:\n\n  * redistribute any piece of ImageMagick-originated software without proper attribution;\n  * use any marks owned by ImageMagick Studio LLC in any way that might state or imply that ImageMagick Studio LLC endorses your distribution;\n  * use any marks owned by ImageMagick Studio LLC in any way that might state or imply that you created the ImageMagick software in question.\n\nIt requires you to:\n\n  * include a copy of the license in any redistribution you may make that includes ImageMagick software;\n  * provide clear attribution to ImageMagick Studio LLC for any distributions that include ImageMagick software.\n\nIt does not require you to:\n\n  * include the source of the ImageMagick software itself, or of any modifications you may have made to it, in any redistribution you may assemble that includes it;\n  * submit changes that you make to the software back to the ImageMagick Studio LLC (though such feedback is encouraged).\n\nA few other clarifications include:\n\n  * ImageMagick is freely available without charge;\n  * you may include ImageMagick on a DVD as long as you comply with the terms of the license;\n  * you can give modified code away for free or sell it under the terms of the ImageMagick license or distribute the result under a different license, but you need to acknowledge the use of the ImageMagick software;\n  * the license is compatible with the GPL V3.\n  * when exporting the ImageMagick software, review its export classification.\n\nTerms and Conditions for Use, Reproduction, and Distribution\n\nThe legally binding and authoritative terms and conditions for use, reproduction, and distribution of ImageMagick follow:\n\nCopyright 1999-2019 ImageMagick Studio LLC, a non-profit organization dedicated to making software imaging solutions freely available.\n\n1. Definitions.\n\nLicense shall mean the terms and conditions for use, reproduction, and distribution as defined by Sections 1 through 9 of this document.\n\nLicensor shall mean the copyright owner or entity authorized by the copyright owner that is granting the License.\n\nLegal Entity shall mean the union of the acting entity and all other entities that control, are controlled by, or are under common control with that entity. For the purposes of this definition, control means (i) the power, direct or indirect, to cause the direction or management of such entity, whether by contract or otherwise, or (ii) ownership of fifty percent (50%) or more of the outstanding shares, or (iii) beneficial ownership of such entity.\n\nYou (or Your) shall mean an individual or Legal Entity exercising permissions granted by this License.\n\nSource form shall mean the preferred form for making modifications, including but not limited to software source code, documentation source, and configuration files.\n\nObject form shall mean any form resulting from mechanical transformation or translation of a Source form, including but not limited to compiled object code, generated documentation, and conversions to other media types.\n\nWork shall mean the work of authorship, whether in Source or Object form, made available under the License, as indicated by a copyright notice that is included in or attached to the work (an example is provided in the Appendix below).\n\nDerivative Works shall mean any work, whether in Source or Object form, that is based on (or derived from) the Work and for which the editorial revisions, annotations, elaborations, or other modifications represent, as a whole, an original work of authorship. For the purposes of this License, Derivative Works shall not include works that remain separable from, or merely link (or bind by name) to the interfaces of, the Work and Derivative Works thereof.\n\nContribution shall mean any work of authorship, including the original version of the Work and any modifications or additions to that Work or Derivative Works thereof, that is intentionally submitted to Licensor for inclusion in the Work by the copyright owner or by an individual or Legal Entity authorized to submit on behalf of the copyright owner. For the purposes of this definition, \"submitted\" means any form of electronic, verbal, or written communication sent to the Licensor or its representatives, including but not limited to communication on electronic mailing lists, source code control systems, and issue tracking systems that are managed by, or on behalf of, the Licensor for the purpose of discussing and improving the Work, but excluding communication that is conspicuously marked or otherwise designated in writing by the copyright owner as Not a Contribution.\n\nContributor shall mean Licensor and any individual or Legal Entity on behalf of whom a Contribution has been received by Licensor and subsequently incorporated within the Work.\n\n2. Grant of Copyright License. Subject to the terms and conditions of this License, each Contributor hereby grants to You a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare Derivative Works of, publicly display, publicly perform, sublicense, and distribute the Work and such Derivative Works in Source or Object form.\n\n3. Grant of Patent License. Subject to the terms and conditions of this License, each Contributor hereby grants to You a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable patent license to make, have made, use, offer to sell, sell, import, and otherwise transfer the Work, where such license applies only to those patent claims licensable by such Contributor that are necessarily infringed by their Contribution(s) alone or by combination of their Contribution(s) with the Work to which such Contribution(s) was submitted. If You institute patent litigation against any entity (including a cross-claim or counterclaim in a lawsuit) alleging that the Work or a Contribution incorporated within the Work constitutes direct or contributory patent infringement, then any patent licenses granted to You under this License for that Work shall terminate as of the date such litigation is filed.\n\n4. Redistribution. You may reproduce and distribute copies of the Work or Derivative Works thereof in any medium, with or without modifications, and in Source or Object form, provided that You meet the following conditions:\n\n  * You must give any other recipients of the Work or Derivative Works a copy of this License; and\n  * You must cause any modified files to carry prominent notices stating that You changed the files; and\n  * You must retain, in the Source form of any Derivative Works that You distribute, all copyright, patent, trademark, and attribution notices from the Source form of the Work, excluding those notices that do not pertain to any part of the Derivative Works; and\n  * If the Work includes a \"NOTICE\" text file as part of its distribution, then any Derivative Works that You distribute must include a readable copy of the attribution notices contained within such NOTICE file, excluding those notices that do not pertain to any part of the Derivative Works, in at least one of the following places: within a NOTICE text file distributed as part of the Derivative Works; within the Source form or documentation, if provided along with the Derivative Works; or, within a display generated by the Derivative Works, if and wherever such third-party notices normally appear. The contents of the NOTICE file are for informational purposes only and do not modify the License. You may add Your own attribution notices within Derivative Works that You distribute, alongside or as an addendum to the NOTICE text from the Work, provided that such additional attribution notices cannot be construed as modifying the License.\nYou may add Your own copyright statement to Your modifications and may provide additional or different license terms and conditions for use, reproduction, or distribution of Your modifications, or for any such Derivative Works as a whole, provided Your use, reproduction, and distribution of the Work otherwise complies with the conditions stated in this License.\n\n5. Submission of Contributions. Unless You explicitly state otherwise, any Contribution intentionally submitted for inclusion in the Work by You to the Licensor shall be under the terms and conditions of this License, without any additional terms or conditions. Notwithstanding the above, nothing herein shall supersede or modify the terms of any separate license agreement you may have executed with Licensor regarding such Contributions.\n\n6. Trademarks. This License does not grant permission to use the trade names, trademarks, service marks, or product names of the Licensor, except as required for reasonable and customary use in describing the origin of the Work and reproducing the content of the NOTICE file.\n\n7. Disclaimer of Warranty. Unless required by applicable law or agreed to in writing, Licensor provides the Work (and each Contributor provides its Contributions) on an AS IS BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied, including, without limitation, any warranties or conditions of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A PARTICULAR PURPOSE. You are solely responsible for determining the appropriateness of using or redistributing the Work and assume any risks associated with Your exercise of permissions under this License.\n\n8. Limitation of Liability. In no event and under no legal theory, whether in tort (including negligence), contract, or otherwise, unless required by applicable law (such as deliberate and grossly negligent acts) or agreed to in writing, shall any Contributor be liable to You for damages, including any direct, indirect, special, incidental, or consequential damages of any character arising as a result of this License or out of the use or inability to use the Work (including but not limited to damages for loss of goodwill, work stoppage, computer failure or malfunction, or any and all other commercial damages or losses), even if such Contributor has been advised of the possibility of such damages.\n\n9. Accepting Warranty or Additional Liability. While redistributing the Work or Derivative Works thereof, You may choose to offer, and charge a fee for, acceptance of support, warranty, indemnity, or other liability obligations and/or rights consistent with this License. However, in accepting such obligations, You may act only on Your own behalf and on Your sole responsibility, not on behalf of any other Contributor, and only if You agree to indemnify, defend, and hold each Contributor harmless for any liability incurred by, or claims asserted against, such Contributor by reason of your accepting any such warranty or additional liability.\n\nHow to Apply the License to your Work\n\nTo apply the ImageMagick License to your work, attach the following boilerplate notice, with the fields enclosed by brackets \"[]\" replaced with your own identifying information (don't include the brackets). The text should be enclosed in the appropriate comment syntax for the file format. We also recommend that a file or class name and description of purpose be included on the same \"printed page\" as the copyright notice for easier identification within third-party archives.\n\n   Copyright [yyyy] [name of copyright owner]\n\n   Licensed under the ImageMagick License (the \"License\"); you may not use\n   this file except in compliance with the License.  You may obtain a copy\n   of the License at\n\n     https://imagemagick.org/script/license.php\n\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n   WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the\n   License for the specific language governing permissions and limitations\n   under the License.\n"
        },
        {
          "name": "Changelog.old.txt",
          "type": "blob",
          "size": 813.1884765625,
          "content": "\n{{{ 5.43.0 2022-05-27\n\n:: new features\n\n- Kobo driver: Allow using templates to generate collections\n\n- [1975406] Book details popup: Double clicking on the cover now uses calibre's internal image viewer. Right click on the cover to open it with another program.\n\n:: bug fixes\n\n- [1971461] Fix Book details blank when switching from device view to library view\n\n- [1973591] TXT Input: Fix a regression in 5.39 that caused the option to remove indents also removing blank lines\n\n- [1972069] E-book viewer: Fix incorrect sorting of highlights from the first internal file of a book\n\n:: improved recipes\n- Outlook Magazine\n- India Today\n- The New Yorker\n- Foreign Affairs\n\n:: new recipes\n- Asahi Shimbun by Albert Aparicio Isarn\n- Business Today Magazine by unkn0wn\n- Outlook Business Magazine by unkn0wn\n- Donga by Minsik Cho\n- Le Monde (English) by Darko Miletic\n- Hinduism Today by Vishwas Vasuki\n- The MIT Press Reader by yodha8\n- Live Science by yodha8\n- Financial Times Print Edition by Kovid Goyal\n- Various Catalan language news sources by santboia\n\n}}}\n\n{{{ 5.42.0 2022-05-03\n\n:: new features\n\n- E-book viewer: Ignore accents when doing a search\n\n- [1969926] Book list searching: Ignore punctuation when searching. So that, for example, Gravitys will match Gravity's\n\n- [1970045] Show the text used for marking books in the tooltip\n\n:: bug fixes\n\n- [1971150] Edit book: Reduce memory consumption by the checkpoint system when doing operations that involve parsing all book files\n\n- [1971015] Amazon metadata download: Fix titles starting with [ being ignored\n\n- [1970497] Edit metadata dialog: Undo not working correctly in identifiers field\n\n- [1970391] Fix viewing LRF files not working\n\n- [1969981] PDF Output: Fix an error on some invalid CSS in the input document\n\n- Linux binary: Workaround for Qt WebEngine not working on systems with glibc > 2.33\n\n:: improved recipes\n- New Yorker\n- OMG! Ubuntu!\n- ACM Queue\n- CACM\n- Science News\n- Quanta Magazine\n- Outlook Magazine\n- Indian Express\n\n:: new recipes\n- Caravan Magazine (Hindi) by Areet Mahadevan\n- LWN (Free) by yodha8\n- IEEE Spectrum Magazine by yodha8\n- Financial Times by Kovid Goyal\n- Cosmos Magazine by yodha8\n}}}\n\n{{{ 5.41.0 2022-04-22\n\n:: new features\n\n- [1968810] Allow creating multiple types of temporary marks (pins) by right clicking the mark books button (which can be added to the calibre toolbar via Preferences->Toolbars & menus)\n\n- Kobo driver: Support updated firmware\n\n- [1967149] Show a popup message when a Kindle is connected mentioning the Amazon cover bug and how to workaround it\n\n- Edit book: Table of Contents tool: Allow using the title attribute on headings tags to get the text for table of contents entries\n\n- When creating a custom column to display real (floating point) numbers allow specifying the number of decimal digits when editing values\n\n- Amazon metadata download: Add support for amazon.in country website\n\n:: bug fixes\n\n- [1969302] Edit book: Fix AltGr+{ not working on some keyboard layouts\n\n- [1967828] TXT Input: Fix rare failure to convert some large TXT files with non-ASCII text\n\n- Get books: Update English language Amazon plugins for website changes\n\n:: improved recipes\n- The Economic Times India\n- Business Standard\n- scmp.com\n- Wired Magazine Monthly Edition\n- Reason Magazine\n- The Skeptical Inquirer\n- Times of India\n- LiveMint\n- The Week\n- Indian Express\n- Hindustan Times\n\n:: new recipes\n- Eenadu by unkn0wn\n- Harvard Business Review by unkn0wn\n- Hindustan by unkn0wn\n- Dainik Bhaskar by unkn0wn\n- Free Inquiry by Howard Cornett\n- Sportstar by unkn0wn\n- Digit Magazine by unkn0wn\n- The Diplomat by unkn0wn\n}}}\n\n{{{ 5.40.0 2022-04-01\n\n:: new features\n\n- [1966872] Content server viewer: Allow editing bookmarks\n\n- [1967028] Read covers from CBC comic files\n\n- [1966537] Allow filtering authors/tags when creating virtual library based on them\n\n- [1966851] Add a copy button to the image view popup\n\n- Template language: Support for nested functions and a string concatenation operator\n\n:: bug fixes\n\n- DOCX Output: Fix a comment immediately after a <li> tag breaking the conversion\n\n- Standalone ToC editor: Fix spurious error message if left open for more than two minutes\n\n- [1965693] Fix search-as-you-type triggers extra search after manual confirmation\n\n:: improved recipes\n- Courrier International\n\n:: new recipes\n- Reason Magazine by Howard Cornett\n- Seminar Magazine by unkn0wn\n- Frontline by unkn0wn\n}}}\n\n{{{ 5.39.1 2022-03-18\n\n:: new features\n\n- [1963875] E-book viewer: Allow scrolling of the ToC, highlights, bookmarks, etc. with touch gestures\n\n- [1963822] Edit metadata dialog: When using the change case operations if some text is selected, only operate on the selected text\n\n- [1964123] Use atomic writes for the config files ensures no partial data is written in case of crash/powerloss\n\n:: bug fixes\n\n- 5.39.1 fixes a couple of regressions that broke case change in the Bulk metadata edit dialog and remembering column widths in the book list on some systems.\n\n- [1964742] Content server: Fix reading of books with thousands of internal files not working in the Chrome browser\n\n- [1965182] Catalog generation: Fix a rare crash when generating very large catalogs\n\n- Edit/Polish book: Fix hardcoded Unicode ligatures not being preserved in AZW3 format books\n\n- [1963868] Fix automatic searches causing search box to lose focus when search as you type is enabled in Preferences->Searching\n\n- [1963748] Edit book: Check book: Auto fix package identifier being empty\n\n- [1963856] Amazon metadata download: Fix getting series info from amazon.jp\n\n- Edit book: Insert hyperlinks: When sorting anchors on elements without any text content, use the anchor itself\n\n- Edit book: Make the saved search panel freely resizable\n\n- Edit book: When dragging to select a region or adjust the selection fix mouse moving outside the image causing the region to no longer be adjusted\n\n:: improved recipes\n- India Legal Magazine\n- The Smithsonian\n- The Federalist\n\n:: new recipes\n- Swarajya Magazine by unkn0wn\n- Open Magazine by unkn0wn\n}}}\n\n{{{ 5.38.0 2022-03-04\n\n:: new features\n\n- [1852929] E-book viewer: When displaying estimated time to completion for reading a book, remember the reading rate the next time the book is opened\n\n- [1961500] Dark theme: Highlight the current cell in the book list with a lighter background and different foreground to make it more obvious\n\n- [1961639] An option to disable editing composite columns in the main book list when Tabbing through them (Preferences->Look & feel->Edit metadata)\n\n:: bug fixes\n\n- Tag editor: Fix regression in previous release that caused double clicking on tags to not work on non Linux platforms\n\n- [1962365] Copy to library: Fix annotations not being copied\n\n- [1962213] Edit book: Spell check: Fix words after a comment not being checked\n\n- [1960554] PDF Output: Fix conversion failing if there are ToC entries pointing to removed content\n\n- [1961775] E-book viewer: Fix an error when opening books with MathML for the second time if the last read position was at a MathML element\n\n- Edit book: Fix double clicking to select a word also selecting smart quotes surrounding the word\n\n- EPUB 3 metadata: Fix non-integer series index being sometimes represented using exponential notation\n\n:: improved recipes\n- Lenta.ru and aif.ru\n- Indian Express\n- Live Mint\n- Mainichi\n- Japan Times\n\n:: new recipes\n- Hindustan Times by unkn0wn\n- India Legal Magazine by unkn0wn\n- RT на русском by Vuizur\n}}}\n\n{{{ 5.37.0 2022-02-18\n\n:: new features\n\n- [1961129] Book details: Add actions to trim the cover to the right-click menu\n\n- [1960586] Allow removing multiple email addresses at once in Preferences->Sharing by email\n\n- Book details: Use a better mono-spaced font on Windows by default\n\n- Add a tweak in Preferences->Tweaks to change the behavior of the Tab key when completing entries\n\n- [1959928] Edit metadata: In \"All in one\" mode add an adjustable splitter between the cover and formats boxes\n\n:: bug fixes\n\n- [1960686] Textile output: Don't fail if input document has invalid padding or margin specifications\n\n- [1960446] E-book viewer: Fix image display window not remembering its size and settings when run from within calibre\n\n- E-book viewer: Fix setting to use roman numerals for series not being respected\n\n- Edit book: When saving a copy do not fail if the original file has no write permissions\n\n- [1960180] Embed fonts tool: Create <head> when missing\n\n- Tag editor: Improve performance when very large number of tags present\n\n:: improved recipes\n- Live Mint\n- The Hindu\n- Reuters\n- MMC RTV Slovenija\n- Down To Earth\n- Publico.PT\n}}}\n\n{{{ 5.36.0 2022-02-04\n\n:: new features\n\n- Edit metadata dialog: Allow controlling which custom columns are present in this dialog via Preferences->Look & feel->Edit metadata\n\n- Edit metadata dialog: Allow manually sizing the various sections of the dialog in \"All on 1 tab\" mode\n\n- Edit book: Spell checking: Update the bundled English and Spanish dictionaries\n\n- [1958773] BibTeX catalogs: Support tags like custom columns\n\n:: bug fixes\n\n- [1959659] Amazon metadata download: Fix paragraphs in the comments being merged\n\n- [1958979] Amazon.de metadata download: Fix published date and series information not being fetched for some books\n\n- Email delivery: Fix sending email via Hotmail not working since this week because Microsoft changed the SMTP server name\n\n- [1959220] Do not remove articles for titles in the Polish language\n\n- [1959207] E-book viewer: When using Read aloud do not automatically lookup the highlighted word until read aloud is paused or stopped\n\n- E-book viewer: Fix Ctrl+P shortcut for printing not working\n\n- [1958882] Show an error when viewing a specific format and the file is missing\n\n- Edit book: Fix renaming of classes that start/end with non word characters not working\n\n- [1958730] Edit book: Preview panel: Fix hyphenation at end of line being rendered as boxes on macOS\n\n- [1959893] Fix incorrect selection size displayed in Trim image dialog when image is scaled down to fit\n\n- [1959782] Edit book: Fix pasting files from another editor instance failing if a file with the same name already exists\n\n- [1959981] When reviewing metadata if the newly downloaded metadata has no language but there is an existing language, ensure it is preserved\n\n:: improved recipes\n- India Today\n- Indian Express\n- Live Mint\n- Al Jazeera in English\n- The Financial Express\n- The Straits Times\n\n:: new recipes\n- title by author\n}}}\n\n{{{ 5.35.0 2022-01-21\n\n:: new features\n\n- [1956006] Coloring/icon rules: Allow creating a rule for date columns that matches *today*\n\n- Kobo driver: Add support for new firmware\n\n- [1954890] Content server: Show total number of results when searching for books\n\n:: bug fixes\n\n- [1958028] E-book viewer: Fix searching for text near the end of a chapter sometimes not working\n\n- [1954714] E-book viewer: Fix auto hyphenation on macOS not rendering the hyphens correctly\n\n- Edit book: Reports: Fix thumbnails of SVG images not rendered\n\n- ODT metadata: Support reading tags from multiple <keyword> elements\n\n- [1958115] LRF Input: Fix a regression in calibre 5 that broke parsing of some LRF files\n\n- [1956097] MOBI output: Don't fail if input document contains invalid % based lengths\n\n- [1955308] AZW3 Input: Handle AZW3 files with incorrect TAGX Offset INDX header fields\n\n- [1956932] Comic conversion: Fix conversion of comic images that are stored as grayscale images in JPEG format not working when converting to PDF with image processing turned off\n\n- [1955967] calibredb catalog: Fix --ids and --search options not working for CSV/XML catalogs\n\n- [1958490] Tag browser: Fix the find box not using all available width\n\n- [1956192] E-book viewer: Remove books that do not exist from the recently opened book list\n\n- Completion popups: Fix display of items containing line breaks\n\n- [1956129] Fix line breaks in custom column descriptions not being rendered in their tooltips\n\n- [1956088] Fix Preferences->Searching->Clear search histories not taking effect till a restart for some search boxes\n\n- [1955732] Hierarchical entries in user category may not merge correctly in tag browser\n\n:: improved recipes\n- Foreign Affairs\n- MIT Technology Review\n- Reuters\n- Clarin\n- General Knowledge Today\n- Popular Science\n\n:: new recipes\n- Dw.de by xav\n- Equestria Daily by Timothee Andres\n}}}\n\n{{{ 5.34.0 2021-12-17\n\n:: new features\n\n- Happy holidays to everyone!\n\n- Driver for the new Nook Glowlight 4\n\n- Edit book: Spell check tool: Add an exclude files button to exclude some files from being checked\n\n- EPUB/MOBI Catalogs: Increase the maximum thumbnail size to 3 inches from 2 inches\n\n- [1953739] Allow creating a shortcut in Preferences->Shortcuts->Edit metadata to paste metadata ignoring the value of the exclude_fields tweak\n\n- [1954715] E-book viewer: Displays links marked up as glossary and bibliography links as popups\n\n- [1954572] Add a tweak in Preferences->Tweaks to provide the sort value for undefined numbers\n\n:: bug fixes\n\n- Edit book: Fix pressing F8 to jump to next misspelled word not working after last word in current file\n\n- [1954889] Fix PDB E-reader output broken in calibre 5\n\n- [1954839] Edit book: Reports: Include descendant selectors that use classes when counting class usage\n\n- [1954726] E-book viewer: Fix an error when opening some books with highlights that span in-line text formatting\n\n- [1954460] MTP driver: Do not send the calibre device db files to the root folder on the Supernote A5 x as it fails\n\n- ToC Editor: Workaround an occasional error when closing on Windows if the file being edited is in a DropBox/antivirus prone folder\n\n- Fix a regression in the previous release that broke creating new keyboard shortcuts\n\n- Comments editor: When flowing the tool bar onto multiple lines do not split up groups of buttons\n\n- Various compatibility fixes for Python 3.10 used by some Linux distributions\n\n:: improved recipes\n- Pocket\n- El Pais\n- American Prospect\n- Mediapart\n\n}}}\n\n{{{ 5.33.2 2021-12-03\n\n:: new features\n\n- Allow changing the icon used for calibre libraries. Right click the library icon in calibre and choose \"Change the icon for this library\"\n\n- Comments editor: Use a single line for all three toolbars if they fit\n\n- Edit book: Allow merging HTML files by drag and drop of the files onto another HTML file\n\n- Kobo driver: Add support for listing purchased audiobooks\n\n- Edit metadata all-in-one mode: The cover and formats column now gives as much vertical space as possible to the cover image\n\n- [1952562] Add books dialog: When a non-book file type is added the next time the dialog is used, preselect the \"All files\" filter\n\n- [1952764] calibre-server --manage-users: Allow managing users while the server is running and also add actions to automate changing user account restrictions\n\n- [1950762] EPUB 3 metadata: If the book contains a \"subtitle\" append it to the main title when reading metadata\n\n:: bug fixes\n\n- [1950673] E-book viewer: Fix an occasional hang on startup at \"Loading section\"\n\n- [1952142] Get books: Update the Kobo plugin for website changes\n\n- [1951673] Bulk edit metadata dialog: Fix changing the search mode resetting other fields\n\n- [1951507] E-book viewer: Fix sorting of highlights incorrect in books that use HTML ids with a hyphen in them\n\n- [1951467] PDF Output: Fix the option to break long words at the ends of lines causing boxes to be rendered at the end of the line on macOS with some fonts\n\n- Google metadata plugin: When searching by ISBN if no results are found retry using an alternate query syntax\n\n- 5.33.2 fixes a couple of regressions that broke the toolbar in the popup comments editor dialog and rendering of the download\n  metadata button in the edit metadata dialog on Windows, as well as reading files from MTP devices on Windows\n\n:: improved recipes\n- Smithsonian Magazine\n\n:: new recipes\n- The Epoch Times by Kovid Goyal\n- Mens Day Out by Vishwas Vasuki\n}}}\n\n{{{ 5.32.0 2021-11-12\n\n:: new features\n\n- [major] Edit book: Add a tool to transform HTML tags based on rules (Tools->Transform HTML)\n\n  Allows for making transformations such as changing one html tag to another, deleting tags, wrapping\n  them in another tag, etc. Also available during conversions via the Look & feel->Transform HTML\n  section of the conversion dialog.\n\n- [1949908] Driver for the new Tolino Vision 6\n\n- Kobo driver: Add support for the latest firmware released last week\n\n- [1948889] When picking a random book ensure recently chosen books are not re-selected\n\n- Icon theme chooser dialog: Allow right clicking on a theme to visit its homepage\n\n:: bug fixes\n\n- Amazon metadata download: Add support for more markup variations in amazon's sites that could prevent the fetching of\n  ratings, comments and series metadata for some books\n\n- Google search: Add support for new beta search results page markup that was preventing using cached Google pages\n  to search for Amazon metadata\n\n- PDF Output: Fix the option to preserve cover aspect ratio being ignored when converting comics\n\n- [1950412] DOCX Input: Sanitize image filenames more strictly to workaround broken EPUB software\n\n- [1950206] Linux binary: Fix file dialogs not working on Fedora 35 under KDE\n\n- [1949604] When sending email to the Kindle and PocketBook sync services use ASCII filenames as there have been some\n  reports of issues with non-ASCII filenames with these services.\n\n- [1950033] Book Details: Fix missing copy options on composite columns\n\n- Ask for confirmation when deleting covers from books\n\n:: improved recipes\n- New York Post\n- Liberation\n- Boston Globe\n- The Globe and Mail\n- LeMonde\n\n:: new recipes\n- India speaks reddit feed by Vishwas Vasuki\n}}}\n\n{{{ 5.31.1 2021-10-29\n\n:: new features\n\n- [1948883] Kindle driver: Support the new Kindle PaperWhite 2021\n\n- Add an option under Preferences->Behavior to have calibre recognize numbers when sorting (this was previously under Preferences->Tweaks)\n\n- E-book viewer: Add a button to directly open the viewer help section in the calibre user manual to the viewer controls\n\n- E-book viewer: Prevent the display from sleeping when using auto-scroll or read aloud modes (Implemented only on Windows and macOS)\n\n- Edit book: Set semantics tool: Add support for EPUB 3 landmarks\n\n- [1948493] Add an entry to the Connect/share menu to open the content server in a local browser when it is running\n\n:: bug fixes\n\n- [1947879] Content server: Fix some OPDS feeds failing with non-ASCII content\n\n- [1948560] Tag browser: Fix incorrect first letter partitioning when enabling numeric collation of items that start with a number\n\n- [1949167] 5.31.1 fixes a bug in an HTML serialization library calibre uses that broke a few things, such as the comments editor\n  tool in the metadata dialog\n\n}}}\n\n{{{ 5.30.0 2021-10-22\n\n:: new features\n\n- Add support for the new Kobo Sage and Libra 2 e-book reader devices\n\n- [1946439] E-book viewer: Read aloud: Allow right clicking to play/pause reading\n\n- Sending books by e-mail: Preserve non-English characters in attached filenames\n\n- [1946560] Tag browser: Allow searching for sub-categories by right clicking on them\n\n:: bug fixes\n\n- E-book viewer: Fix cover and full screen images not centered in paged mode when more than one page is displayed per screen\n\n- ToC Editor: Ignore in succession clicks on the OK and Cancel buttons to avoid accidentally closing the window when finishing creating a new entry\n\n- [1905479] Comments editor: Fix the formatting buttons not showing the current state correctly and fix some keyboard shortcuts not working when more than one comments editor is present in a single window\n\n- [1946417] Tag browser: Fix renaming of User categories in Virtual libraries\n\n- [1947948] Make removing large numbers of custom column icons easier\n\n:: improved recipes\n- Private Eye\n- Foreign Policy\n- Le Monde Diplomatique - cono sur\n\n}}}\n\n{{{ 5.29.0 2021-10-08\n\n:: new features\n\n- [1945890] Allow drag and drop of books onto formats in the Tag browser to convert them to that format\n\n- [1945891] Allow creating sorts based on multiple columns (Add the Sort action to the toolbar via Preferences->Toolbars & menus)\n\n- Edit book: When changing a paragraph to a heading if the cursor is adjacent to a paragraph tag but not inside any tags other than body, use the adjacent tag\n\n:: bug fixes\n\n- [1945889] Auto adding: Run relevant plugins before reading metadata from the book. Matches behavior of manual adding\n\n- [1945882] Content server: Fix category collapse by partition not working\n\n- Prevent Tab from causing focus to leave the Tag browser\n\n- Edit book: See what changed: Fix non-BMP unicode characters causing highlighting of changed words to be slightly misplaced\n\n- PDF Output: Fix a regression that broke conversion of comics that contain 1-bit images\n\n- Edit book: Fix pressing Ctrl+Tab inserting a tab at the start of a line instead of switching tabs\n\n- [1945098] Fix a regression in the previous release that caused identifiers set by some plugins to not be saved in the database\n\n- [1946342] Template language: Fix nesting composite columns sometimes failing\n\n:: improved recipes\n- Entrepreneur Magazine\n- Dawn\n- New York Review of Books\n\n:: new recipes\n- Various Indian news sources by Vishvas Vasuki\n\n}}}\n\n{{{ 5.28.0 2021-09-24\n\n:: new features\n\n- Edit metadata dialog: Customize cover generation: Allow saving and loading cover generation settings as \"themes\"\n\n- [1944614] E-book viewer: Allow pressing the 0-9 keys to apply a quick highlight style\n\n- [1943521] Book details panel: While clicking tags/authors/etc. holding down the Ctrl+Shift modifier keys now add the tag to the current search with \"AND\" instead of \"OR\" when using only Ctrl\n\n- [1944057] Add an option to the preferences drop down menu to restart calibre without third party plugins\n\n:: bug fixes\n\n- [1944562] Edit book: When renaming classes in style sheets only recognize class names preceded by a period\n\n- E-book viewer: Fix lookup in Google partially hidden due to change in Google results page markup\n\n- Conversion dialog: Search replace expression builder: Fix incorrect search result highlighting when non-BMP unicode characters are present in the text\n\n- [1943270] E-book viewer: Fix popup footnote blank when the footnote link points to a <body> tag\n\n- [1944433] E-book viewer: Fix jumping to highlights in text that occurs after a line break and newline character not working in paged mode\n\n- [1943495] Kindle Output: Strip EXIF metadata from JPEG images as the Kindle renderer has issues with it\n\n:: improved recipes\n- Аргументы и Факты\n- India Today\n\n}}}\n\n{{{ 5.27.0 2021-09-10\n\n:: new features\n\n- When adding Markdown (.md) or Textile (.textile) files that contain references to images, automatically add them as TXTZ with the images\n\n:: bug fixes\n\n- DOCX Output: Correctly convert soft hyphens in the input document to DOCX soft hyphens\n\n- [1942805] DOCX Input: Fix a bookmark at the end of a paragraph causing the bookmark at the start of the paragraph to be skipped\n\n- [1942773] Edit book: Spell check: Fix EPUB 3 nav document not being spell checked when not in the spine\n\n- [1942012] PDF Output: Fix a rare failure when the input document has a ToC item pointing to the last page\n\n- [1942129] Windows: Fix a regression in calibre 5 that caused drag and drop from WinZip to not work\n\n- [1941992] TXT Output: Fix a regression in calibre 5 that caused the max line length option to not work\n\n- When auto converting added TXT files with image references to TXTZ use a full Markdown parser to detect Markdown images\n\n:: improved recipes\n- BBC News\n- Foreign Affairs\n\n:: new recipes\n- The Week by Kovid Goyal\n}}}\n\n{{{ 5.26.0 2021-08-27\n\n:: new features\n\n- [1941013] Dark color scheme: Use a darker blue for highlighted items\n\n:: bug fixes\n\n- Content server book viewer: Show a message when a search finds no matches\n\n- MOBI Output: Fix JPEG images without any JFIF metadata not being rendered on the Kindle\n\n- [1939908] Comic input: Fix single color images having their colors changed by normalization\n\n- [1940005] E-book viewer: Fix creating multiple highlights in a single paragraph that also contains some extra text formatting at the start causing the second and subsequent highlights to malfunction\n\n- [1939912] Edit book: Fix a regression in the previous release that broke the options in the Remove unused CSS dialog\n\n:: improved recipes\n- Boston Globe\n\n:: new recipes\n- NYTimes Cooking by gourav\n}}}\n\n{{{ 5.25.0 2021-08-13\n\n:: new features\n\n- [1939469] Edit/Polish book: Remove unused CSS now also removes unreferenced stylesheets\n\n- E-book viewer: Add some CSS variables and classes that allow writing calibre specific CSS in ebooks. See https://manual.calibre-ebook.com/viewer.html#designing-your-book-to-work-well-with-the-calibre-viewer\n\n- A new framework plugins can use to be notified about changes to calibre libraries\n\n- [1938752] Edit metadata dialog: When pasting into the identifiers field if the clipboard contains a URL paste it directly as a URL identifier\n\n:: bug fixes\n\n- [1938448] E-book viewer: When displaying popup footnotes use the same writing direction as the main text for the footnote popups size and header\n\n- E-book viewer: Improve the text layout when looking up words in Google\n\n- Content server viewer: Fix read aloud not working on mobile browsers\n\n\n:: improved recipes\n- The Guardian and The Observer\n- Wall Street Journal\n- The Atlantic\n\n}}}\n\n{{{ 5.24.0 2021-07-30\n\n:: new features\n\n- Conversion: Insert metadata as jacket: Allow adding timestamp and publisher fields. Also allow controlling the formatting of date/time fields\n\n- [1937025] Cover browser: Add an option to view the central book by double clicking instead of single clicking (Preferences->Look & feel->Cover browser)\n\n- [1936891] Tag browser: Add actions to the configure menu to toggle the display of counts and average rating\n\n- [1936472] Tag browser: Allow plugins to add entries to the context menu\n\n\n:: bug fixes\n\n- [1938189] fetch-ebook-metadata: Fix an error when using the --cover option and no cover is found\n\n- [1936792] HTML Input: Fix the presence of BookDesigner markup causing conversion to fail\n\n- [1936184] TXT Input: Do not fail if the txt file references a directory as a resource\n\n:: improved recipes\n- MSNBC\n- Nature News\n- Boston Globe\n- Foreign Policy\n- Le Monde\n\n}}}\n\n{{{ 5.23.0 2021-07-09\n\n:: new features\n\n- [1934204] Annotations browser: Show highlight color in the preview panel\n\n- TXTZ format: Store type of text formatting in the metadata and use it automatically when converting from TXTZ\n\n- [1934043] Edit metadata dialog: Allow holding Ctrl and clicking the item editor buttons to instead open the manage dialog\n\n:: bug fixes\n\n- [1929325] Annotations browser: Fix searching for words in languages such as Chinese that do not have word delimiters not working\n\n- News download: Fix URLs with spaces in them not being downloaded since calibre 5.0\n\n- [1933989] When searching for books by an author from the Manage authors dialog, use exact matches\n\n- [1933797] MOBI Output: Fix invalid color specification as plain numbers causing conversion to fail\n\n- [1933684] MOBI Output: Fix invalid text indent specification causing conversion to fail\n\n- Linux: Drop the unmaintained dbus-python in favor of jeepney for DBUS\n\n- Edit book: Workaround for Qt bug that caused the panel sizes in the editor to not be remembered across sessions\n\n:: improved recipes\n- The Guardian and the Observer\n- National Geographic\n- Handelsblatt\n- Huffington Post\n\n}}}\n\n{{{ 5.22.1 2021-06-25\n\n:: new features\n\n- [1931646] E-book viewer: Allow clicking links in popup footnotes\n\n- Main book list: Scroll per pixel rather than per item by default. Can be returned to previous behavior via Preferences->Tweaks->Control behavior of book list\n\n- Linux: Drop support for the global menu bar\n\n:: bug fixes\n\n- [1932152] E-book viewer: Fix font sizes specified in absolute units not being honored in locales where the decimal separator is not the period\n\n- [1931566] E-book viewer: Fix searching for short strings in text with lots of similar entries displaying incorrect matches\n\n- [1932392] MOBI Output: Fix using percentage units for margins resulting in too large margins when using the tablet output profile\n\n- [1931599] E-book viewer: Fix back button not working after jumping to a bookmark\n\n- [1932992] Content server: OPDS feed: Fix incorrect up URL in category group feeds\n\n- [1933559] Content server: Fix a regression in the previous release that broke editing of series metadata\n\n- E-book viewer: Fix scrolling backwards by screen-fulls not working with very large page margins.\n\n- MOBI Input: Fix a regression in calibre 5 that broke processing of Haodoo format files\n\n- Conversion: Fix the smarten punctuation option not applying to inserted jacket page\n\n- 5.22.1 fixes a typo in the previous release that broke device detection on Linux\n\n:: improved recipes\n- TheAtlantic.com\n- Hindu\n- People Daily\n\n}}}\n\n{{{ 5.21.0 2021-06-11\n\n:: new features\n\n- Driver for the new Kobo Ellipsa\n\n- [1930958] Content server: When editing metadata for fields that take multiple values, make it easier to remove individual values by simply tapping a button\n\n- [1930900] Browser viewer: Make current color scheme setting propagate to all devices automatically when using user accounts\n\n- E-book viewer: Image popup: Show the image resolution in the popup window's titlebar\n\n:: bug fixes\n\n- [1930922] HTML Input: Fix handling of @import rules in stylesheets nested more than one level deep\n\n- [1930912] Fix viewer search context menu to clear searches not clearing search settings\n\n- E-book viewer image popup: Fix full screen button in incorrect state when starting in full screen\n\n:: improved recipes\n- Associated Press\n- The Hindu\n\n}}}\n\n{{{ 5.20.0 2021-06-04\n\n:: new features\n\n- E-book viewer: Highlights: Make URLs in the notes for highlights clickable\n\n- [1930136] Book details: Ctrl-clicking on tags now adds them to the existing search instead of replacing it\n\n- E-book viewer: Allow using the back button to return from jumping to a search result\n\n:: bug fixes\n\n- Get books: Fix the Kobo store plugin for changes to the website\n\n- [1929827] Edit book: Fix non breaking spaces in snippets being converted to normal spaces\n\n- [1930466] ToC Editor: Fix a regression that caused changes to not be saved on machines where running a worker process takes more than ten seconds\n\n- Fix error when changing the \"Search the net\" URLs for the Content server\n\n:: improved recipes\n- Jerusalem Post\n- Popular Science\n- Ambito Financiero\n- Ambito.com\n- Infobae\n\n}}}\n\n{{{ 5.19.0 2021-05-28\n\n:: new features\n\n- E-book viewer: Add a preference under Scrolling behavior to reverse the tap zones used to turn pages. So tapping on the left goes forward and the right backward\n\n\n:: bug fixes\n\n- [1929862] E-book viewer: Fix regression in 5.15 that caused incorrect display of font sizes that contain a period and use absolute units\n\n- [1929240] PDF Output: Fix font kerning issues with some TrueType fonts\n\n- [1929267] Edit book: Fix a regression in 5.18 that broke editing/creating saved searches\n\n- [1919025] Windows: Fix for standalone ToC Editor not working on systems where Qt WebEngine causes a crash at exit\n\n- Windows MTP driver: When scanning an MTP device such as an Android phone ignore folders that Windows fails to enumerate instead of failing with an error\n\n- ToC Editor: Fix a regression that broke choosing split points in some XHTML files\n\n- [1929465] PDB Input: Fix a regression in calibre 5 that broke processing some plucker format PDB files\n\n- Edit book: Fix sorting in spell check dialog on language broken for books that have unknown languages\n\n- Annotations browser: Fix a typo that broke sorting for highlights\n\n- [1909730] Annotations browser: When showing a highlight preserve paragraph boundaries for multi-paragraph highlights\n\n- Viewer highlights panel: Fix the \"Edit notes\" link not saving the changes\n\n- [1929164] E-book viewer: When using a right click/shift-click to adjust the selection, move the section boundary that is closer to the click point\n\n}}}\n\n{{{ 5.18.0 2021-05-21\n\n:: new features\n\n- Content server viewer: Improved search functionality\n\nSearching can now be done for whole words and regular expressions. And all search results are\nlisted at once with some context for easy navigation.\n\n- [1928596] E-book viewer: Allow making the image popup full screen\n\n- E-book viewer: Allow expanding/collapsing all items in the Table of Contents at a particular level by right clicking on one item of that level and choosing the option to expand/collapse\n\n- E-book viewer: Add shortcuts shift+home and shift+end to extend current selection to start/end of line\n\n- [1927520] Book details: When creating rules to convert identifiers to URLs allow using {id_unquoted} to avoid quoting the identifier value\n\n- [1927062] Review downloaded metadata: Allow double clicking on a cover to see it at a larger size\n\n- [1927012] Annotations browser: Add a Refresh button\n\n\n:: bug fixes\n\n- Edit book: Fix ctrl-clicking on a class name jumping to the wrong CSS rule if the stylesheet contains top level comments\n\n- [1928579] Fix search and replace on identifiers not working if the replaced value has colons\n\n- [1922691] Annotations browser: Sort the entries in order of position in book\n\n- ToC editor: Dark mode: Fix colors in location selection panel not dark\n\n- [1926793] E-book viewer: Fix right or shift-clicking to extend selection not shrinking selection when the click is inside the selection\n- [1927546] Avoid spurious errors on multiple simultaneous calibre launches\n\n- [1925961] E-book viewer: Ignore mouse scroll events that would turn pages when editing notes\n\n- E-book viewer: Fix sorting bookmarks by title not working\n\n- Windows WPD driver: Fix an error reading the filesystem on some MTP based devices\n\n:: improved recipes\n- IEEE Spectrum\n\n}}}\n\n{{{ 5.17.0 2021-04-30\n\n:: new features\n\n- [1926484] E-book viewer: Image popup: Allow dragging with the mouse to pan the image\n\n- [1923724] Sort button: Allow selecting which columns are in the popup sort menu\n\n- [1851908] E-book viewer: When suggesting a default bookmark title, use the name of the current chapter\n\n- [1925038] E-book viewer: When searching the Table of Contents allow holding the Shift key to search backwards\n\n- [1925294] E-book viewer: Add a shortcut Ctrl+0 to restore default font size\n\n:: bug fixes\n\n- Windows MTP driver: Rewrite parts of the driver in the hope of fixing some rare and hard to reproduce crashes\n\n- Windows MTP driver: Set modified and created times when putting files/folders on device. Also read modified time correctly.\n\n- [1918591] Windows: E-book viewer: Fix switching away from viewer while in full screen and switching back causing some corruption until the page is scrolled\n\n- [1925378] Fix a regression in the previous release that caused errors when editing empty date values\n\n- Get books: Update Gutenberg plugin for website changes\n\n- [1926518] E-book viewer: The quick highlight button should replace the style of an existing highlight, when one is selected\n\n- [1925247] Elide long items in the middle when showing the completion popup for tags, to make it easier to use with hierarchical tags\n\n- [1925988] E-book viewer: Read aloud: Fix soft hyphens causing read aloud words to be broken up\n\n- [1925390] E-book viewer: Right clicking when text is selected should extend the selection instead of doing nothing\n\n- Fix settings in the ToC Editor tool being forgotten when calibre is closed\n\n- [1926025] DOCX Output: Fix conversion failing if the input document has missing images\n\n- [1925961] Content server viewer: Fix mouse wheel scrolling not working on the box used to edit notes for highlights\n\n- E-book viewer: Fix read aloud word tracking in flow mode not very reliable\n\n- E-book viewer: Fix navigation shortcuts not working in Read aloud mode\n\n:: improved recipes\n- Barrons\n- Krebs On Security\n\n}}}\n\n{{{ 5.16.1 2021-04-17\n\n:: new features\n\n:: bug fixes\n\n- [1924703] CHM Input: Fix handling of some CHM files that use non-ASCII internal filenames and don't specify a character encoding in their metadata\n\n- [1924824] Fix a regression in the previous release that prevented calibre from starting if there was a failure in a third party plugin\n\n- Content server viewer: Fix a regression in the previous that broke handling of URLs in stylesheets\n\n- [1924767] Fix a regression in the previous release that broke changing sections in the convert single book dialog after changing the input or output formats\n\n- [1924675] Fix using 'is set' rules not working for column rules with rating values\n\n- E-book viewer: Fix a regression in 5.15 that causes the viewer to ignore page-break CSS properties (in 5.16.1)\n\n- Fix a regression that broke using stored templates (in 5.16.1)\n\n- [1924875] Fix auto scroll books shortcut not working in standalone cover browser window (in 5.16.1)\n\n- [1924890] E-book viewer: Fix jumping to previous section sometimes not working in flow mode (in 5.16.1)\n\n- [1924853] E-book viewer: Fix a regression in 5.15 that broke changing keyboard shortcuts in the viewer preferences (in 5.16.1)\n\n- E-book viewer: Fix a regression in 5.15 that broke using the delete key to delete highlights (in 5.16.1)\n\n:: improved recipes\n- Granta\n- New Scientist\n\n:: new recipes\n- The Saturday paper by Alistair Francis\n- Crikey by Alistair Francis\n\n}}}\n\n{{{ 5.15.0 2021-04-16\n\n:: new features\n\n- [1917634] Allow auto scrolling through the list of books by pressing the X key or right clicking on the cover browser\n\nUseful to have a \"slideshow\" of book covers. The speed of scrolling can be controlled in Preferences->Look & feel->Cover browser\n\n- E-book viewer: Speed up first time open for EPUB files with lots of styling\n\n- E-book viewer preferences: Allow searching for keyboard shortcuts\n\n- Edit book: Allow editing WEBP images\n\n- Various improvements to the template language, see https://www.mobileread.com/forums/showthread.php?t=337573\n\n- [1921610] E-book viewer: Show the current progress percentage in the bottom bar of the viewer controls. This can be customized in the viewer preferences under Headers and footers\n\n- [1921689] E-book viewer: Add an option under Preferences->Miscellaneous to not restore open panels such as Search, Table of Contents etc on restart\n\n- When exporting highlights as text or Markdown also output top level chapter titles\n\n- [1922327] Allow downloading metadata from amazon.se\n\n- [1922591] Preferences->Tweaks: Allow specifying that calibre should open the book details window when double clicking on a book\n\n- [1922341] MOBI Output: Convert WebP images to PNG so they work with Amazon's software\n\n- [1921793] DOCX Input: When converting embedded fonts, replace spaces in the filename with underscores to keep the execrable epubcheck happy\n\n- E-book viewer: Selection bar: Add keyboard shortcuts for all buttons. Hover over a button in the bar to see the shortcut\n\n\n:: bug fixes\n\n- [1924232] FB2 Output: Fix a regression in calibre 5 that caused paragraphs containing only non-breaking spaces to be removed\n\n- [1924187] Metadata comments editor: Fix setting block alignment destroying other block level properties\n\n- E-book viewer: Fix margins not being adjusted immediately when preferences are changed\n\n- [1921604] Edit book: Upgrade book internals: Fix skipping the NCX removal dialog not remembering the chosen option\n\n- [1922570] Conversion: When specifying a line-height do not apply it to the <html> tag, as it is pointless and causes the execrable epubcheck to complain\n\n- E-book viewer: Improve scrolling behavior when extending the selection using keyboard shortcuts\n\n- E-book viewer: Fix read percent for HTML files that are rendered in a single screen being 0% rather than 100%\n\n- [1924598] E-book viewer: Highlights panel: Do not expand all sections when adding/deleting/modifying highlights\n\n- [1922503] CHM Input: Fix a regression in calibre 5.0 that broke opening of some files that don't specify a character encoding\n\n- EPUB2 metadata: Read ISBNs in identifier elements without schemes if they are valid ISBNs and no properly identified isbns are present\n\n- [1922309] Update Amazon metadata plugin for changes to amazon websites\n\n- Edit book: Fix detection of class names containing hyphens/underscores\n\n:: improved recipes\n- New Scientist\n- Irish Times\n- 1843\n- The Straits Times\n\n:: new recipes\n- Los Danieles – Columnas sin techo by CAVALENCIA\n}}}\n\n{{{ 5.14.0 2021-03-26\n\n:: new features\n\n- Edit book: When right clicking on a class in a HTML file, add an option to rename the class throughout the book\n\n- [1919103] Adding from ISBN: Add an option to check if there are existing books with the specified ISBNs already in the library\n\n- [1920576] Template tester: Instead of next/last, the template tester now shows the template values for selected books\n\n- [1918047] Content server: Allow swiping left and right to show next/previous book on the book details page\n\n- [1919072] E-book viewer: Make the commonly used Shift+Arrow key shortcuts for modifying selections using the keyboard work. Also add shortcuts for selecting by character, line and paragraph.\n\n:: bug fixes\n\n- [1920613] MOBI Output: Fix latest Kindle firmware not displaying select publisher font option for calibre produced AZW3 files\n\n- [1919033] E-book viewer: Fix errors when viewing books with mathematics that are split over multiple internal files\n\n- [1918436] Content server viewer: Fix highlights not sorted correctly in the highlights panel\n\n- [1918737] Get books: Fix Smashwords plugin not working because of website changes\n\n- [1920733] Improve the performance of QuickView especially when using composite columns\n\n- [1918428] Improve performance of the virtual_libraries() template function\n\n- [1920250] Browser viewer: Fix Go to Location not working for positions\n\n- [1905257] E-book viewer: Fix searching in the Table of Contents not working\n\n- [1918105] E-book viewer: In paged mode, fix scrolling not working correctly when margins are set to zero\n\n- [1918437] E-book viewer: Fix incorrect ToC navigation in books that link the entries to inline tags that wrap block tags that span multiple pages\n\n- [1920592] Category editor: Searching in library shouldn't automatically open Quickview\n\n- [1919260] Conversion: Fix a hang caused by long sequences of non-word characters when heuristics are enabled, either explicitly or for some input formats such as TXT\n\n- Fix a regression in calibre 5 that broke --explode-book and --implode-book actions for calibre-debug.exe\n\n- Fix a regression in calibre 5 that broke setting metadata in RTF files\n\n:: new recipes\n- ZackZack.at by Dirk Gomez\n}}}\n\n{{{ 5.13.0 2021-03-10\n\n:: new features\n\n- [1917967] E-book Viewer: Allow editing the current book by pressing Ctrl+D or adding a button for it to the viewer tool bar\n\n- Edit book: Add a command line flag to allow selecting the specified text when opening a book\n\n- [1917363] Edit metadata dialog: When trimming covers, show the size of the current trim region\n\n:: bug fixes\n\n- Fix a regression in the previous release that broke sending of emails with text longer than 900 characters\n\n- E-book viewer: Fix using keyboard to extend selection not turning pages\n\n- [1918030] Fix searching for items from the Manage dialog not working correctly\n\n- [1917386] PDF input: Replace paragraph separator characters with spaces\n\n:: improved recipes\n- The Conversation\n\n}}}\n\n{{{ 5.12.0 2021-02-26\n\n:: new features\n\n- [1915773] E-book viewer: When searching start the search from the current position, jumping to the first match at or after the current page\n\n- [1916411] E-book viewer: Have the Table of Contents view automatically scroll to keep the chapter being read currently visible\n\n- Various improvements to the calibre template language, see https://www.mobileread.com/forums/showthread.php?t=337573\n\n- Edit book: File browser: Show total size of items in category when hovering over category with mouse\n\n- Kobo driver: Add support for latest firmware and also an option to choose the color used for cover letterboxing\n\n:: bug fixes\n\n- [1915685] E-book viewer: Fix selection popup bar sometimes going off screen when dragging up to the top line of text\n\n- Get books: Update the Biblio and Chitanka stores for website changes\n\n- [1915770] Edit book: Fix editing of JavaScript files not working\n\n:: improved recipes\n- Slate\n- Harper's Magazine\n\n}}}\n\n{{{ 5.11.0 2021-02-12\n\n:: new features\n\n- [1912958] Edit book: Add a tool to split the tag at the current cursor position, creating a new tag with the same style and class attributes. To add the tool go to the Toolbars section in the editor preferences\n\n- [1911107] E-book viewer: Show the URL when hovering over external links\n\n- E-book viewer: Redesign the reference mode to also work on touch screens without a mouse. Now in reference mode paragraph numbers are displayed for all paragraphs\n\n- Edit book: Allow Ctrl-clicking on class names to jump to the first style rule that matches the tag and class\n\n- Content server: When browsing highlights for a book allow selecting multiple highlights to delete or export quickly\n\n- [1912954] Allow creating keyboard shortcuts to copy show and view URLs for selected books to clipboard\n\n- calibredb: Add a timeout option to control the timeout when connecting to the calibre server\n\n:: bug fixes\n\n- [1913854] Content server: Fix dragging selection handles not working in Safari\n\n- [1915303] E-book viewer: Fix links with a href of \"#\" not working\n\n- E-book viewer: Hide the controls when clicking the back or forward buttons\n\n- [1914921] E-book viewer: When jumping to a highlight using the highlights panel, the back button should return to position before jump\n\n- [1914157] E-book viewer: Fix incorrect tooltip when hovering over a section title in the search results list\n\n- HTMLZ Output: Fix a regression in calibre 5 that broke creating HTMLZ documents when using the option to place CSS inline\n\n:: improved recipes\n- Endgadget\n\n}}}\n\n{{{ 5.10.1 2021-01-22\n\n:: new features\n\n- [1911888] Bulk metadata edit: Add a new control to compress the cover image files for all selected books\n\n- [1912212] Add support for the CB7 comic file file format\n\n- [1912070] E-book viewer: Allow adding a button to the selection bar that copies the\n  currently selected text along with a calibre:// URL to show the text in the book\n\n- Conversion: Insert metadata: Allow showing identifiers such as ISBN in the jacket page template\n\n- Conversion: Insert metadata: Allow hiding entries in the jacket template when they are not present in the metadata\n\n- [1912337] calibre-server --manage-users: Add a scriptable interface: calibre-server --manage-users -- help\n\n- [1912070] E-book viewer: Add keyboard shortcuts to copy the current location to the clipboard\n\n- [1912003] E-book viewer: Highlight all currently visible Table of Contents entries, not just the first\n\n- Add a new tweak under Preferences->Tweaks->Author sort name algorithm to optionally recognize\n  common surname prefixes such as von, van, de, etc. when generating sort names.\n\n:: bug fixes\n\n- [1911470] E-book viewer: Move read aloud pop-up bar to the bottom of the screen in flow mode\n\n- [1911218] E-book viewer: Fix scrolling with two fingers on touch pad on macOS not smooth\n\n- [1911466] PDF Output: When converting fixed layout input documents fix anchors inserted for navigation sometimes being rendered as blue boxes\n\n- [1904350] Edit book: Remove unused CSS: Fix selectors that don't match from CSS rules containing multiple selectors not being removed\n\n- Bulk metadata download: Fix series number not being changes if the series is the same as the existing series\n\n- E-book viewer: Fix a regression that caused non-HTML descriptions to not be displayed in the metadata page\n\n- E-book viewer: Fix clock being displayed in 24 hr format on some systems even though system locale is set to use 12 hr format.\n\n- Bulk metadata edit: Fix regression that inverted the meaning of the case sensitivity setting in the Search & replace tab\n\n- calibredb list: Fix incorrect output when redirecting to file\n\n- 5.10.1 fixes a regression in 5.10.0 that broke conversion when including metadata as a jacket page and using long text custom columns\n\n:: improved recipes\n- Jacobin\n- Japan Times\n- The Wall Street Journal\n- Mediapart\n\n}}}\n\n{{{ 5.9.0 2021-01-08\n\n:: new features\n\n- Annotations: Allow exporting highlights and bookmarks in Markdown format, with a link to open the book at the highlight location\n\n- [1909529] Content server viewer: Allow exporting all highlights\n\n- [1909339] Icon rules editor: Add a button to open the icons folder\n\n- [1909258] Quickview: Dropdown menu for all selectable columns\n\n:: bug fixes\n\n- [1909880 1906152] Fix a regression that caused the Content server to crash if a client closed a connection during a file transfer on macOS and Linux.\n\n- [1909224] LRF Output: Fix conversion broken in calibre 5 when font size rescaling is active\n\n- E-book viewer: Cancel any speech in progress when hiding the selection popup bar after triggering the speak aloud action on it\n\n- [1909332] Color/icon rules editor: Fix duplicate rule button not working correctly\n\n- [1909291] Fix dropping files onto Book details causing an error if the confirmation dialog is disabled\n\n:: improved recipes\n- General Knowledge Today\n- El Pais\n- USA Today\n- WirtchaftsWoche Online\n- The Guardian\n- Arcamax\n- Miami Herald\n- The Seattle Times\n\n:: new recipes\n\n- Mallorca Zeitung by VoHegg\n- T-Online by VoHegg\n- El Diario by Dirk Gómez\n\n}}}\n\n{{{ 5.8.1 2020-12-24\n\n:: new features\n\n- Happy holidays to all calibre users!\n\n- E-book viewer: Add a mode to follow links with only the keyboard (triggered by Alt+F)\n\n- [1908929] Edit book: A new option to show a configurable number lines above the current line when syncing the position of the preview panel to the current position in the code editor (under Preview settings in the Editor preferences).\n\n- [1907410] Windows: Automatically resolve shortcuts (.lnk files) when adding books to calibre.\n\n- Content server viewer: Don't enter full screen mode automatically when reading on desktop like devices (this can be controlled via a setting in the viewer preferences under Page layout)\n\n- E-book viewer tool bar: Add a select all action and a Read aloud action (can be added by right clicking the tool bar and configuring it)\n\n- Template/formatter enhancements: Add a 'for' statement and add the ability for a developer to pass extra information to a template.\n\n- [1907919 1907918] Rules editors for icon/coloring rules: Add a button to duplicate rules and to convert a rule to advanced template mode\n\n:: bug fixes\n\n- Content server viewer: Fix regression in 5.0 that broke scrolling on iOS\n\n- [1908000] E-book viewer: Fix error when scrolling to some search results in flow mode\n\n- [1898394] AZW3 Input: Fix rare AID based links not working.\n\n- [1907907] E-book viewer: Fix clock in header/footer not using system time format\n\n- Windows: Fix Read aloud not working with books that have a single large internal text file, such as MOBI or DOCX books\n\n- PDF Output: Fix a regression causing conversion to fail when typesetting Chinese text\n\n- Amazon metadata download: Fix no results being found when using the automatic or Google servers because of a change in the markup of the Google search results page.\n\n- [1909217 1909197] Version 5.8.1 fixes a couple of regressions that broke the Save to disk function and changing Page layout settings in the viewer.\n\n:: improved recipes\n\n- The Australian\n- The Atlantic\n- Zerohedge\n- New York Times Book Review\n\n:: new recipes\n\n- SchwarzerPfeil by tastytea\n- Substack by topynate\n}}}\n\n{{{ 5.7.2 2020-12-12\n\n:: new features\n\n- [major] E-book viewer: Add a \"Read aloud\" function that works via the operating system's Text-to-speech engine.\n\n  Click the \"Read aloud\" button in the viewer controls to start reading the book text aloud from the current page.\n\n- A new busy spinner for waiting animations\n\n- [1907140] Edit metadata: Add buttons to easily set yes/no fields also shortcut to clear the field.\n\n:: bug fixes\n\n- [1905967] PDF Output: Fix a regression in the previous release that broke text rendering for some fonts due to a bug in Qt WebEngine (full fix is in 5.7.2).\n\n- [1905736] PDF Output: Fix conversion failing when adding header/footer and the input document defines margins/padding on the <html> tag.\n\n- [1907159] Windows: Fix the case of library names in copied calibre:// links sometimes incorrect.\n\n- [1906459] AZW3 Input: Fix a regression in calibre 5 that broke processing of files with inline flow replacements.\n\n- [1906149] Fix hiding and showing Book details panel changes its size by a pixel or two.\n\n- [1907067] Get books: Fix amazon.fr not working because of website changes.\n\n- Bulk metadata search/replace: Fix text transform function not being applied to the test result in character mode\n\n- [1906464] Book list: Improve rendering of column headers when they don't fit, by eliding them instead of just cutting off rendering.\n\n- [1906063] Fix template function \"first_non_empty\" fails if no argument evaluates non-empty\n\n- [1907773] Fix regression in 5.7.0 causing failure to start if one of the previously used libraries had a stored path ending in a slash.\n\n:: improved recipes\n- The Guardian\n- The Atlantic\n\n}}}\n\n{{{ 5.6.0 2020-11-27\n\n:: new features\n\n- Edit book: Show a non-modal popup for a few seconds to allow undoing file delete operations\n\n- [1903418] Device books view: Add an action to the context menu to easily jump to the matching book in the calibre library view\n\n- [1903270] Add ability to undo Generate cover in the Edit metadata screen, by long clicking the Generate cover button\n\n- Edit book: Allow adding tags to the list of tags for the insert tag button\n\n- calibredb add: New option --automerge to automatically merge duplicates\n\n- [1905646] Add an edit notes action to the context menu in the viewer highlights panel\n\n- [1903333] Content server viewer: Allow viewing images in a new window by right clicking them, matches the calibre builtin viewer behavior\n\n- [1903403] Book details window: Allow opening the edit metadata window using either the keyboard shortcut or the context menu\n\n- Allow copying the current search as a calibre:// URL by right clicking the search box\n\n- Book details panel: Add entries to copy calibre:// links for the current book to the context menu\n\n- Edit book: Upgrade book: Ask whether to keep the NCX based Table of Contents\n\n:: bug fixes\n\n- [1904310] Windows: Fix calibre portable launcher not working correctly from root folder in calibre 5.5\n\n- [1904505] macOS: Fix rendering of space after punctuation incorrect in Big Sur\n\n- [1905319] DOCX Input: When converting images placed using the obsolete VML markup default them to being inline rather than block images\n\n- [1905479] Metadata edit dialog: Fix keyboard shortcuts for bold/italic/underline not working when more than one comments editor widget is present on a single tab\n\n- [1905113] When using calibre://show-book URLs and the book is not found, clear any Virtual library or search restriction and then show the book\n\n- macOS: Fix calibre:// URLs not working from other documents\n\n- Fix calibre:// URL search action not changing library if needed\n\n- [1904305] annotation_count() template function displaying value for deleted annotations\n\n- [1905806] Edit book: Fix syntax highlighting not recognizing ends-with selector\n\n:: improved recipes\n- The BBC\n- Folha de Sao Paolo\n- Netzpolitik\n\n}}}\n\n{{{ 5.5.0 2020-11-13\n\n:: new features\n\n- [major] Support the calibre:// URL scheme\n\n  Clicking on calibre:// URLs can be used to have calibre perform various actions.\n  For details, see: https://manual.calibre-ebook.com/url_scheme.html\n\n- Viewer: Show calibre:// URL for current book in the Goto->Location panel\n\n- [1902518] Edit book: Add an action to the right click menu for tabs to close tabs to the right of the current tab.\n\n- [1902413] Add ability to copy tag, publisher and author in Book details panel by right-clicking\n\n- [1902326] Annotations browser: Add a context menu for common actions.\n\n- [1899839] Annotations browser: Show a dot for highlights with notes.\n\n- [1902227] Edit book: Saved searches panel: Allow copying the current saved search to the regular search panel by clicking the Export button.\n\n- Windows: Fix command line arguments not working for the portable.exe launchers\n\n- Viewer: back and forward buttons on the mouse now trigger the back and forward actions\n\n- [1902313] Option to mark all books with annotations/bookmarks\n\n- Various minor improvements to how keyboard focus is handled in the Tag browser\n\n:: bug fixes\n\n- [1903294] Edit book: Fix regression in calibre 5 that caused an error when managing user dictionaries.\n\n- [1903831] Viewer: Fix previous/next buttons iterating over removed bookmarks\n\n- [1903825] Welcome wizard: Fix changing the language causing a empty folder to be created.\n\n- [1903699] Viewer: Fix regression causing custom shortcuts with Shift key pressed not working\n\n- [1903423] Viewer: In dark mode when showing images with transparency in the popup use a light background color as most images are designed with a light background color in mind.\n\n- [1903428] Fix a regression in the previous release that broke conversion of DJVU files\n\n- [1903363] Metadata edit: \"Set to Undefined\" button missing on integer columns.\n\n- [1903086] Entry remains underlined in Tag browser after clearing filter\n\n- [1902126] XML Catalogs: Fix languages field missing\n\n- Fix a regression that broke loading of third party plugins that are encoded in an encoding other than UTF-8\n\n- macOS: Fix viewer not responding to cmd+c to copy text by default\n\n- Windows: Fix sending email on computers with non-ASCII computer names\n\n:: improved recipes\n- Spectator Magazine\n\n}}}\n\n{{{ 5.4.2 2020-10-30\n\n:: new features\n\n- [1900761] Windows: Allow adding of books to calibre from folders whose path length is larger than 260 characters\n\n- Tag browser: Add an option in Preferences->Look & feel->Tag browser to allow the tag browser to get keyboard focus\n\n- Tag browser: Allow editing the set of permissible values and colors for a custom column with fixed values, by right clicking on it.\n\n- Edit metadata dialog: Make most custom metadata controls use only a single line.\n\n  Elide the names of custom columns that are longer than a fixed width, instead of using multiple lines.\n  Configurable via Preferences->Tweaks->Edit metadata custom column label length\n\n- Edit book: Remove unused CSS: Add an option to merge CSS rules that have identical properties\n\n- [1901379] Book details window: Double clicking on the cover now shows it in the default system image viewer.\n\n- [1900874] News download: Allow passing username/password in feed URLs.\n\n- [1900890] Open with: Allow renaming Open with applications.\n\n:: bug fixes\n\n- [1900868] Viewer: Fix jumping to search result not always working in flow mode.\n\n- Get Books: Update Google and Gutenberg plugins for website changes\n\n- [1900946] Viewer: Fix keyboard shortcuts using Ctrl+Alt+letter key not working on Windows.\n\n- [1900942] Viewer: Fix keyboard shortcuts to shrink/grow selection not working.\n\n- [1900938] Viewer: Fix keyboard shortcut to toggle highlights panel not working when the highlights panel is itself focused.\n\n- [1900358] Viewer: handle editing of missing highlights more gracefully\n\n\n- [1901289] Drivers: Fix regression in calibre 5 that broke connecting to SONY devices\n\n- [1901276] Open with: On Linux when reading names from .desktop files, use the first matching language\n\n- [1901593] Conversion: Fix a regression in calibre 5 that broke conversion of some malformed CSS stylesheets.\n\n- [1901957] Conversion: Fix a regression in calibre 5 that broke processing of some PDB files with images.\n\n- [1901278] Conversion: Fix regression in calibre 5 in the handling of @import() rules in stylesheets that import from folders above themselves.\n\n- [1901232 1901230] Content server: Fix various controls on the book details page not working when viewing a random book.\n\n- [1901273] Tag browser: Fix a crash when renaming a saved search to a value that already exists.\n\n- [1900921] Tag browser: Fix renaming of custom column with fixed set of values not working.\n\n- [1901630] Fix a regression in calibre 5 that broke auto-sync of generated catalogs to devices.\n\n- [1901113] Fix setting rating via ebook-meta command line tool broken in calibre 5.\n\n- [1900099] When boolean columns are set to bistate, checking \"show checkmarks\" results in all non-boolean values being shown as false\n\n- Spell check: Fix using non UTF-8 dictionaries broken in calibre 5\n\n- Fix a rare issue where restarting calibre from within the program would fail.\n\n- Version 5.4.2 fixes bugs in 5.4.0 that prevented calibre from starting on macOS and from choosing save file names on Windows.\n\n:: improved recipes\n\n- Psychology Today\n- Washington Post\n- LifeHacker\n- The Atlantic\n- New York Review of Books\n\n}}}\n\n{{{ 5.3.0 2020-10-16\n:: new features\n\n- Tag browser: When grouping items by first letter if adjacent letters have few entries combine them into a single group.\n\nCan be controlled via an option in Preferences->Look & feel->Tag browser to combine 'first letters' together if there are a small number of items under adjacent letters\n\n- [1899163] Viewer: Allow displaying the current page / total pages in the header/footer. Useful in paged mode to see exactly how many pages are left.\n\n- [1899834] Viewer search panel: Show more result context in a tooltip when hovering over a search result.\n\n- DOCX Input: Add support for Word controls used to rotate or flip images\n\nOnly works with output formats such as EPUB that support CSS transforms\n\n- [1899762] Viewer image pop-up: Allow maximizing/minimizing the window.\n\n- Edit metadata dialog: Use only a single line for custom column date fields\n\n- [1899341] Add an item to search for categories to the Category editor context menu.\n\n- [1899316] Category editor: Add a right click menu to change case of the selected entries.\n\n\n:: bug fixes\n\n- [1898221] Fix a regression in 5.0 that caused performance of dialogs that contain title/series/tags edit fields to be very poor with large libraries.\n\n- Fix a regression in 5.0 that caused some pop-up menus to appear on the wrong monitor in multi-monitor setups\n\n- macOS: Fix a long standing bug that prevented drag and drop of multiple items\n\n- Windows: Fix a regression that broke scanning for default programs for the Open with action\n\n- [1898894] Windows: Fix a regression in 5.0 causing some MOBI files with non-BMP characters not being processed correctly.\n\n- E-book viewer: Fix scrolling past the end of chapter boundaries not working in books that have negative margins\n\n- [1899466] Edit metadata dialog: fix incorrect rendering of custom column names that start with emoji.\n\n- [1899318] Quickview: Fix nothing shown after clearing the search.\n\n- [1900022] Dark mode: Fix radio buttons having no outline.\n\n- [1900066] Annotations browser: When showing a book in the calibre library that is not currently visible, display an error.\n\n\n:: new recipes\n\n- Deutsche Welle by VoHe\n\n:: improved recipes\n\n- Reuters\n\n\n}}}\n\n{{{ 5.2.0 2020-10-07\n:: new features\n\n- [1897354] Browse annotations: Add a check box to restrict the displayed annotations to only the books currently selected in the calibre library.\n\n- Allow storing and calling functions in the calibre template language (Preferences->Template functions)\n\n- [1897336] Add a shortcut (Shift+V) to open the last read book.\n\n\n:: bug fixes\n\n- Fix import errors with some third party plugin on Windows\n\n- [1898598] Viewer: Fix toolbar show controls button not working when no book is open.\n\n- [1898577] Viewer: Fix incorrect positioning of context menu for viewer toolbar.\n\n- MOBI Input: Fix regression that broke reading of some documents\n\n- Bulk metadata search and replace: Fix some regular expression causing errors with the new regex engine\n\n- Fix a regression that broke application of plugboards when sending by e-mail\n\n- [1898441] ODT Input: Fix a regression that broke conversion of ODT files with footnotes.\n\n- [1898413] Viewer: Fix mouse wheel not working while selection bar is visible\n\n- Viewer: Fix selection popup bar not always close to mouse when ending select-to-drag\n\n- Fix calibre-server not exiting on Ctrl+C on Windows\n\n- [1897410] Content server OPDS feeds: Fix error if the metadata for a book contains particular Unicode characters.\n\n- [1898167] Edit book: Reports tool: Fix a regression that broke sorting.\n\n- HTMLZ Output: Fix an error when converting a document that has SVG images\n\n\n\n}}}\n\n{{{ 5.1.0 2020-10-02\n:: new features\n\n- Enhancement: allow using templates in search expressions\n\n- [1897435] Viewer lookup panel: Add a checkbox to disable automatic update of lookup when the selected text changes.\n\n- [1897415] Viewer: Allow skipping the confirmation when using the remove highlight button in the popup bar.\n\n\n:: bug fixes\n\n- [1897618] ToC Editor: Fix bulk rename of entries not working\n\n- [1897571] Linux: Fix right clicking on system tray icon not working\n\n- [1897356] Fix User category based searches unreliable dues to caching issues\n\n- PDF Output: Don't fail if the input document has an html file identified as the cover\n\n- [1897467] Catalog generation: Fix a regression that broke generating catalogs if books with no comments are present.\n\n- [1897314] Windows: Fix error on first run of calibre after install/upgrade\n\n- Viewer: Fix copy to clipboard button in toolbar not working\n\n- [1897297] Viewer: Fix copy to clipboard not copying text as HTML to clipboard in addition to plain text\n\n- [1897409] macOS: Fix some drop down menus such as in the ToC editor and cover generation in the Edit metadata dialog not working\n\n\n\n}}}\n\n{{{ 5.0.1 2020-09-25\n:: new features\n\n- [major] For details on the major changes in calibre between 4.0 and 5.0, see https://calibre-ebook.com/new-in/fourteen\n\n- [major] E-book viewer: Add support for highlighting\n\nhttps://manual.calibre-ebook.com/viewer.html#highlighting-text\n\n- [major] E-book viewer: Add support for right-to-left and vertical text\n\n- [major] Switch calibre to Python 3. This means that some no longer maintained third party plugins will not work. See https://www.mobileread.com/forums/showthread.php?t=326405\n\n- Dark mode support for the Content server and E-book viewer user interfaces\n\n- Content server's in-browser viewer now supports bookmarking. Bookmarks and highlights are auto-synced across devices.\n\n- Regular expression engine used for searching the book list and reading metadata from filenames has been made more powerful.\n\n\n:: bug fixes\n\n- Version 5.0.1 fixes a bug in 5.0.0 that broke connecting to devices on macOS\n\n\n\n}}}\n\n{{{ 4.23.0 2020-08-21\n:: new features\n\n- Kobo driver: Add support for new firmware. Also add recognition of 'Kobo Plus' subscription books\n\n- [1889925] Edit book: Allow customizing the base background/foreground and link colors for the preview window.\n\n- [1891765] Quickview panel: Add actions to the context menu to search for book in library, open in E-book viewer, etc.\n\n- Allow forcing calibre to remember the column width for the On device column by right clicking the header of the column\n\n- Template language: Add functions to perform math operations to convert fractional numbers to integers\n\n\n:: bug fixes\n\n- [1849958] Content server: Fix Esc key not working in several views.\n\n- [1889973] Fix unable to delete default value for custom columns of boolean type, once set\n\n- EPUB Output: When splitting don't consider files with only a single character empty\n\n- Comments editor: Fix syntax coloring for HTML view in dark mode\n\n- Book list: When a series column is not wide enough, elide text in the middle so that the series number is visible\n\n\n:: new recipes\n\n- linuxnews.de and t3n.de by Volker Heggemann\n\n:: improved recipes\n\n- El Diplo\n- calibre Blog\n- ESPN\n- LA Times\n- Winnipeg Free Press\n- Popular Science\n- Science News Recent Issues\n\n\n}}}\n\n{{{ 4.22.0 2020-07-31\n:: new features\n\n- [1888071] Edit book: In dark mode, make the preview panel also dark.\n\n- [1889000] PDF Output: Headers/footers: Allow displaying the current page number and total number of pages in the top level section/chapter.\n\n- Edit book: Show EPUB version in window title\n\n- [1888456] Allow testing if a number column is set or not set in coloring/icon/emblem rules.\n\n- Viewer: Add a setting to control how many pixels a scroll wheel should generate before triggering a page turn\n\n\n:: bug fixes\n\n- [1889047] Edit book: Fix a regression in the previous release that caused poor performance when editing large files.\n\n- [1888897] DOCX Input: Leave undefined text colors in the input document as undefined\n\n- [1888609] Viewer: Fix using a very small font step size not working.\n\n- [1888798] Font scanner: Also scan the new win 10 local font paths\n\n- Viewer: Fix typing values in font size adjust control not working\n\n\n:: improved recipes\n\n- Respekt\n- The Atlantic\n\n\n}}}\n\n{{{ 4.21.0 2020-07-16\n:: new features\n\n- Kobo driver: Add support for the new Kobo Nia\n\n- [1886731] Cover grid: Vertically center covers that are smaller than the available space.\n\n- [1886347] Quickview panel: Add a checkbox to easily toggle if Virtual libraries are respected.\n\n- [1886079] When creating custom columns allow specifying a default value to be applied to new books for that column\n\n\n:: bug fixes\n\n- Edit book: Fix initial sync of preview panel to cursor position sometimes not working when a new HTML file is opened for editing\n\n- [1886492] Fix changed author sort name not being used when adding another book by the author to the library.\n\n- [1886239] Cover browser: improve rendering of text with heavily hinted fonts.\n\n- [1886307] Viewer: Fix CBC comic files not being viewed correctly. Note that you have to reload the book via the viewer controls to apply the fix.\n\n- Viewer: Fix Table of Contents not correct for comics.\n\n- Viewer: Ignore the zero width non-joiner character in searches\n\n- [1886192] Viewer: Fix a regression in the previous release that broke reading of books with mathematics and also <a> tags without href attributes.\n\n- [1886139] Cover grid: When using a background image do not scroll it with the covers.\n\n\n:: improved recipes\n\n- 1843 magazine\n- Caravan Magazine\n\n\n}}}\n\n{{{ 4.20.0 2020-07-03\n:: new features\n\n- Edit book: Preview: Support displaying mathematics\n\n- Kobo driver: Add support for the latest firmware version\n\n- [1885004] Allow copy/pasting dates from columns having different date display formats.\n\n- [1884343] Book details panel: When right clicking on tags/authors/etc. allow finding them in the Tag browser easily.\n\n- [1884402] Allow selecting individual items to delete in the Check library dialog.\n\n- Add an option to the wireless device driver to ignore device free space when sending books.\n\n\n:: bug fixes\n\n- Viewer: Fix turning pages in paged mode with a high precision touchpad to generate scroll events too fast\n\n- [1885455] Edit book: Fix pasting files from another editor instance causing unsaved changes in open editors to be lost.\n\n- Tag browser: Do not show counts for searches as they are always zero\n\n- [1884544] Check library: Do not abort if there are folders in the library that calibre does not have permission to access.\n\n- [1884400] Amazon metadata download: Fix download of ratings not working from amazon.co.jp\n\n\n:: new recipes\n\n- The Print by Kovid Goyal\n\n:: improved recipes\n\n- Popular Science\n- Caravan Magazine\n- Sports Illustrated\n- Gazetta Prawna\n\n\n}}}\n\n{{{ 4.19.0 2020-06-19\n:: new features\n\n- Manage authors dialog: Improve performance in very large libraries\n\n\n:: bug fixes\n\n- [1883768] Book details panel: Fix a regression that caused right clicking on an author name to manage it not opening with that name selected.\n\n- [1883433] calibredb set_metadata: When converting a string into a date and time if the string is a full ISO 8601 date with timezone do not adjust the date to make it timezone neutral.\n\n- [1882436] Edit book: Fix Check book spuriously reporting incorrect mime type warnings for fonts after upgrading a book from EPUB 2 to EPUB 3.\n\n- [1882469] Book details panel: Don't show sizes less than 0.01MB as zero.\n\n- Viewer: Fix jump to previous section not working when viewer is on last section\n\n\n:: improved recipes\n\n- Journal of Accountancy\n- Bangkok Post\n- 20 minutes\n\n\n}}}\n\n{{{ 4.18.0 2020-06-05\n:: new features\n\n- [1879889] Viewer: Search panel: Add a button to return to the position the book was at before doing a search.\n\n- [1880264] Tag browser: Improve handling of hierarchical tags\n\nRenaming a tag now renames it and all its children. Drag and drop of hierarchical tags alters their hierarchy. Deleting a tag now deletes all its children.\n\n- [1880707] Viewer: In flow mode, implement drag scrolling.\n\n- [1880175] Tag browser: Allow Manage Tags to open to a selected letter when clicking on a letter.\n\n- [1881792] Viewer: Show number of search results in title of search panel.\n\n- [1881384] Content server: In the book list hovering over the library name now shows the total number of books in the library.\n\n\n:: bug fixes\n\n- [1880395] Fix a regression in the previous release that broke the copy and recalculate author sort buttons.\n\n- [1881488] Book details: Fix extra margin to the right of the metadata fields.\n\n- [1880558] Cover grid: Show text under books that have no cover as well.\n\n- [1881796] When merging metadata, if a custom column has type multiple in the new data and some other type in the old data, ignore the old data instead of failing\n\n- [1881375] macOS: When using the single instance option of the viewer, crashes should not require a restart of the computer to use the viewer again.\n\n- Windows: Fix an error when changing title/author for books in a library whose name contains characters not encodeable in the current code page\n\n- [1880300] Windows: Fix amazon metadata download failing when accented characters in search query\n\n- Comments editor: Fix shortcuts for bold/italic not working when toolbars are hidden\n\n\n:: improved recipes\n\n- The Hindu\n- Wired Daily Edition\n- The Economist\n\n\n}}}\n\n\n{{{ 4.17.0 2020-05-23\n:: new features\n\n- Add a workaround for Amazon destroying cover thumbnails on e-ink Kindles.\n\nFor books sent with this release of calibre, reconnecting the Kindle to calibre after the cover has been destroyed will restore it automatically\n\n- Viewer: Group search results by section\n\n- Viewer: When the search results panel is expanded, show more context\n\n- Tag browser: Add options in Preferences->Look & feel->Tag browser to hide empty categories and also to have the Find in the Tag browser show all matches instead of jumping from match to match.\n\n- Tag browser: The Find function for searching for items in the Tag browser can now do exact matching by using = as a prefix.\n\n- [1879134] Manage tags/authors/etc dialogs: Allow searching and filtering the list of items.\n\n- [1878768] Book details panel context menu: Add an action to open the Book details window.\n\n- [1878691] Viewer: Add Next and Previous buttons in the bookmarks panel.\n\n- Conversion: Change the default white-space CSS for <pre> tags to pre-wrap as this suits ebooks better\n\n\n:: bug fixes\n\n- [1879618] Edit Book: Fix default CSS template not quoting the charset, causing Check book to complain about the CSS.\n\n- [1879313] Fix a regression in the previous release that broke the losslessly compress images tool when the image filenames had upper case characters on Windows.\n\n- [1879120] Fix a regression that broke drag and drop of images from browsers to the book details panel on some platforms.\n\n- FB2 metadata: Fix setting dates before 1900 failing\n\n- [1877965] Fix Bookeen Diva HD not being detected.\n\n\n:: new recipes\n\n- Independent Australia by Pat Stapelton\n\n:: improved recipes\n\n- How To Geek\n- Tagespost by Pat Stapleton\n- ABC News\n\n\n}}}\n\n\n{{{ 4.16.0 2020-05-15\n:: new features\n\n- [1878046] Viewer/Edit book fuzzy search: Ignore soft hyphens and zero-width joiner characters when searching for text.\n\n- [1878308] Tag browser: Allow adding/removing tags/authors/etc. to the currently selected book by right clicking on that tag and choosing \"Apply to selected books\".\n\n- Kobo driver: Add support for updated firmware\n\n- Manage categories dialog: When editing a value with multiple values selected, change them all\n\n- [1878450] Book list column header context menu: Add an entry to resize the column to fit its current contents.\n\n- [1878302] Show completions when editing tags/authors/series etc in the Tag browser and Manage tags dialog.\n\n- [1878393] Quickview: Double clicking an item now searches for it\n\n- [1876381] Comments editor: Add an action to the context menu to smarten punctuation.\n\n- FB2 metadata: Add support for setting publisher and publish year\n\n\n:: bug fixes\n\n- [1877066] Edit book: Fix compress images losslessly failing for a few images on Windows when there are a lot of images in the book.\n\n- [1877101] Fix a regression in 4.13 that broke the User category editor for all custom columns.\n\n- [1876580] Viewer: Fix font size changes not applying to monospaced fonts.\n\n\n:: improved recipes\n\n- Ars Technica\n- Washington Post\n\n\n}}}\n\n\n{{{ 4.15.0 2020-05-02\n:: new features\n\n- Viewer: Improve the interface for changing font sizes\n\n- Viewer: Add a keyboard shortcut (Ctrl+Alt+B) for adding a bookmark\n\n\n:: bug fixes\n\n- [1875090] Bulk metadata edit: Fix a regression causing scrollbars to not appear in Custom metadata tab.\n\n- [1874877] Viewer: Fix a regression that broke searching in flow mode.\n\n- [1876302] BibTeX Catalog: Don't output comment describing the catalog as Zotero fails to process it.\n\n- [1876164] Linux: Fix uninstaller not working on Linux distros that have no python symlink.\n\n- [1875840] Viewer: Fix zoom step size setting ignored.\n\n- [1875021] Viewer: Fix text that has font sizes specified using keywords not being scaleable by the viewer's font size controls.\n\n- Viewer: Fix LRF files not opening\n\n- MOBI metadata: When reading author sort from MOBI files, construct the final value from all author fields\n\n- macOS: hide accelerator key underlines since they don't work anyway as Apple does not believe in them\n\n- [1874499] macOS: Fix keyboard shortcuts for select all, copy and paste not working in file dialogs.\n\n\n:: improved recipes\n\n- The Nation\n- Animal Politico\n\n\n}}}\n\n\n{{{ 4.14.0 2020-04-23\n:: new features\n\n- Viewer: Add an option to have taps turn by screen fulls instead of pages, under Scrolling behavior\n\n- [1872759] Viewer: Allow double clicking or long tapping on images to view then in a new window.\n\n- Edit Book: Add a new fuzzy search mode in which typographical quotes and various space types are matched by the plain equivalents\n\n- Content server: Add a new setting to allow un-authenticated users from specific IP addresses to make changes to the calibre library\n\n- Quick view: Double click in a column to show that column in the main book list\n\n\n:: bug fixes\n\n- Book details panel: Fix copy path to file not copying full path to file when right clicking on a format entry\n\n- [1873949] Windows: Fix error when applying hyphenation in bulk with Polish books.\n\n- [1873972] macOS: Fix selecting applications that use binary plist files such as Kindle.app with Open With not working.\n\n- [1873571] DOCX Output: Fix images that use URL unsafe characters in their filenames being dropped during conversion.\n\n- DOCX Output: Fix internal links not working when converted files contain URL unsafe characters in their filenames\n\n- Viewer: Fix view image popup not remembering its geometry\n\n- Viewer: Allow leading and trailing whitespace in search expressions\n\n- [1869856] HTMLZ Output: Fix SVG images that use xlink:href not working.\n\n- [1869471] Windows: Fix drag and drop from SMB shares to the edit metadata dialog formats list not working.\n\n- Comments editor: Don't insert blank lines between list elements\n\n- [1869550] Allow using Quick view from the Book grid view.\n\n- [1873106] Fix tri-state booleans not working with color/icon rules and undefined values\n\n\n:: new recipes\n\n- Heise ct and iX by Ralf Hein\n- Saechsische Zeitung by by epubli\n\n:: improved recipes\n\n- London Review of Books\n- Seattle Times\n- MIT Technology Review\n- Zeit Online\n- Handelsblatt\n- Spectator Magazine\n- Spektrum der Wissenschaft\n\n\n}}}\n\n\n{{{ 4.13.0 2020-03-27\n:: new features\n\n- [1868847] Edit book: When searching in normal mode, have spaces in the search expression match multiple spaces and line breaks in the text.\n\n- [1866739] When running calibre-portable.exe popup a more useful error message if it is placed in a location with a too long path.\n\n- Edit book: Allow skipping confirmation dialog when marking non-first file as cover page\n\n- [1866742] Add a shortcut [Ctrl+Alt+P] to switch to the previously opened library.\n\n\n:: bug fixes\n\n- [1866519] Viewer: Fix searching in flow mode not scrolling to display the search results.\n\n- [1868633] Viewer search: Fix jumping to next match sometimes selecting previous match if the searched for expression occurs with identical context in multiple places.\n\n- Viewer: Ensure there is no bleed between pages when using single page per screen\n\n- Fix Shift click not working reliably in the book list\n\n- Fix edit open with applications not working from files browser in editor\n\n- MOBI Input: Upshift non-animated GIF to PNG as it is a more widely supported format\n\n- MOBI Input: Don't auto-convert images in PNG/GIF formats to JPEG\n\n- MOBI Output: Improve conversion of PNG images with transparency to GIF\n\n- [1866701] Check Book: Do not fail if non-UTF-8 stylesheets are present in the book.\n\n- Viewer: Maximum font size for margin text should be the body font size not hardcoded to 12px\n\n- [1866364] PDF Output: Ignore glyph size mismatches when merging fonts for TTF.\n\n\n:: new recipes\n\n- Istorias and Sardinia Post by tzium\n\n:: improved recipes\n\n- Forbes\n- LA Times\n- Glasgow Herald\n- Spectator Magazine\n- Newsweek\n\n\n}}}\n\n\n{{{ 4.12.0 2020-03-06\n:: new features\n\n- Kobo driver: Add support for new firmware with the series list on the device\n\n- Automatically extract the source DOCX file from Kindle Create KPF files when adding them to calibre. If you prefer to preserve the KPF file you can disable the KPF Extract plugin in Preferences->Plugins\n\n- [1864305] Content server: Add a button to delete all locally cached books.\n\n- Edit Book: Allow selecting the contents of a tag with Ctrl+Alt+T\n\n- Viewer: Save current position after 3 seconds of last position change. Useful if the viewer crashes on resume from sleep.\n\n- [1864356] Viewer: Add a keyboard shortcut (Ctrl+W) to toggle the scrollbar.\n\n- Viewer: Keyboard shortcuts to change number of columns (Ctrl+[ and Ctrl+])\n\n\n:: bug fixes\n\n- [1853091] Fix the Douban metadata download plugin\n\n- Viewer: Fix searching in Regex and Whole words mode not working well.\n\n- [1863464] Viewer: Fix searching for multiple words in fixed layout books not working.\n\n- [1864719] RTF Input: Fix handling of RTF files with invalid encoded text.\n\n- [1865380] PDF Output: Add a hangcheck for loading HTML if there is no progress for sixty seconds abort\n\n- [1864343] Viewer: When starting without a book allowing quitting the viewer by clicking the Close button on the \"Open book\" page\n\n\n:: new recipes\n\n- Spectator Australia by James Cridland\n\n:: improved recipes\n\n- Wired\n- ABC News Australia\n\n\n}}}\n\n\n{{{ 4.11.2 2020-02-21\n:: new features\n\n- Viewer: Allow right clicking on the scrollbar to easily access commonly used scrolling shortcuts\n\n- Edit book: Preview panel: Allow right clicking on images to edit them\n\n- Add a new Quick select action to quickly select a Virtual library with a few keystrokes. Activated by Ctrl+T or the Virtual library menu\n\n- Viewer: Calculate default column widths based on current font size\n\n- [1862441] Viewer: Add a control to quit the viewer useful on touchscreens.\n\n- [1862432] Viewer: Add shortcut for showing metadata (Ctrl+N)\n\n\n:: bug fixes\n\n- 4.11.2 fixes a couple of regressions that broke the New bookmark button in the viewer and scrolling in the content server library view. Also fixes calculation of default column widths in viewer not changing when font size is changed.\n\n- Viewer: Fix a regression that broke detection of pop-up footnotes using EPUB 3 markup\n\n- [1863438] Viewer: Fix current reading position not preserved when changing preferences and auto scroll is active.\n\n- [1863487] Viewer: Fix stopping auto scroll at end of chapter not stopping next chapter jump.\n\n- Fix for viewer window going off screen even when not restoring window geometry\n\n- [1863020] Edit book: Fix syntax highlighting for break-(before|after)\n\n- [1862440] Fix drag and drop of some image files onto edit metadata dialog not working\n\n- [1862401] Conversion pipeline: Fix styles applied via selectors to the <html> element being ignored\n\n- Bulk metadata edit: Fix clear series not resetting series index\n\n- Fix clicking on author name in Book details panel to search in Goodreads not working if author has more than two parts in his name\n\n\n:: improved recipes\n\n- New York Times\n\n\n}}}\n\n\n{{{ 4.10.0 2020-02-07\n:: new features\n\n- [1861715] Viewer: When searching have single and double quotes match their curly variants as well.\n\n\n:: bug fixes\n\n- Fix a regression that caused the edit metadata individually and convert individually actions to use the bulk actions when multiple books are selected.\n\n- [1861741] Linux: Fix a crash caused by broken/incompatible CUPS Qt system plugin.\n\n- Viewer: Fix Search shortcut button not focusing search input if the search panel is placed in a tab or a floating window\n\n- [1862034] Update Google Images cover download plugin for website markup changes\n\n- Catalog generation: Ignore invalid pubdates\n\n- [1861621] Viewer: Stop auto scroll when changing page layout mode.\n\n- [1860889] zipfile: Fix regression that broke handling of zipfiles with internal filenames not encoded in UTF-8.\n\n- Check Book: Turn off unique headings CSS warning\n\n- DOCX Output: When a list item contains a nested list but no text, it should be output as an empty list item.\n\n\n:: improved recipes\n\n- The New Yorker\n- Financiele Dagblad\n\n\n}}}\n\n\n{{{ 4.9.1 2020-01-23\n:: new features\n\n- [major 1834247] Viewer: Much improved search functionality\n\nNow all matches are displayed when searching in a side bar with a few words of context. Also supports searching using regular expressions.\n\n- Edit book: The Check book function has a new, improved CSS checker with support for CSS 3\n\n- [1860462] Edit book: Add an \"Open with\" action to the context menu of the files browser to easily open files with external programs.\n\n- [1859547] Viewer toolbar: Add button to easily change color schemes\n\n\n:: bug fixes\n\n- version 4.9.1 fixes a couple of regressions in 4.9.0 with Check Book reporting false positives and an error when using the source editing view in the comments editor\n\n- Comments editor: Fix inserted blank paragraph being rendered as two lines.\n\n- [1859040] PDF Output: Fix conversion of files containing <canvas> elements failing.\n\n- [1858836] Viewer: Fix failure to open some books that contain unparseable URLs.\n\n- [1858263] Viewer: Fix data displayed in side margins getting moved out of position when mouse hovers over side margin.\n\n- Book details panel: When right clicking to save the cover, replace invalid characters in the suggested filename\n\n- [1858198] Fix harmless error popup when adding SSL key/certificate in server settings\n\n- Dark mode: Fix colors in remove all formats except dialog\n\n\n:: improved recipes\n\n- Liberty Times\n\n\n}}}\n\n\n{{{ 4.8.0 2020-01-03\n:: new features\n\n- Viewer in flow mode: Add auto-scrolling which can be triggered from the viewer controls and also make smooth scrolling by pressing down the arrow keys configurable\n\n- [1855121] Viewer: Allow showing data in left and right margins in addition to headers/footers.\n\n- [1857989] Viewer: Allow right clicking in the lookup panel to zoom in/out.\n\n- Viewer: Allow setting colors for the margins when creating new color schemes in Preferences->Colors\n\n- Viewer: Ctrl+, to show preferences\n\n\n:: bug fixes\n\n- [1857886] PDF Output: Fix extracting text from generated PDFs not working if more than 100 characters per font are used in the text.\n\n- macOS: Fix viewer controls not using system UI font\n\n- [1857803] Viewer: Fix images not being rendered at certain sizes when they are the only content on the page in paged mode with single page per screen.\n\n- [1857812] Viewer: Fix svg links not working.\n\n- [1857800] Viewer: Fix a bug that could allow maliciously crafted EPUB files to read data from files on the computer. Thanks to dozernz for discovering this attack vector.\n\n- macOS: Fix regression in previous release that caused link color to be light blue even when not using dark color themes\n\n- [1857732] RTF Output: Fix a regression that slowed down conversion of images.\n\n- [1857677] Server viewer: Make the Exit full screen action available in viewer controls.\n\n- [1858117] Viewer: Fix error when trying to change more than a single keyboard shortcut at once\n\n- Fix typo causing a harmless error message when downloading covers and only a single cover is found\n\n\n:: improved recipes\n\n- London Review of Books\n\n\n}}}\n\n\n{{{ 4.7.0 2019-12-26\n:: new features\n\n- macOS: Use transient scrollbars unless they are disabled in system preferences\n\n- Viewer toolbar: Add actions for next and previous section. They are not added to the toolbar by default, customize it to add them.\n\n- Viewer: Add an option to keep the toolbar visible in full screen mode (Viewer Preferences->Miscellaneous)\n\n- [1855942] Viewer: Allow modifying the current selection using Ctrl+Shift+Arrow.\n\n- [1855942] Book details: Add an option in Preferences->Look & feel->Book details to show a heading for the comments in the Book details panel\n\n- Edit book: Spell check: Ignore soft hyphens in words\n\n- [1856472] Viewer: In multiple pages per screen mode, When paging back to a chapter we have just paged forward from return to the exact position we left from in terms of number of blank trailing pages displayed.\n\n- Viewer: Add a setting under Preferences->Colors to control when the viewer will override all book colors or not.\n\n\n:: bug fixes\n\n- [1856398] Viewer: Fix flick scrolling in flow mode jumping to next chapter.\n\n- [1857651] Windows: Possible fix for some windows appearing off screen on multi-monitor setups\n\n- [1857377] macOS: Fix PDF Output not working when running ebook-convert via symlink on the command line.\n\n- [1857268] PDF Output: Ignore upto 8 byte glyph data size mismatches when merging identical glyphs.\n\n- Edit Book: Spell Check: Fix words surrounded by narrow non-breaking spaces being incorrectly detected as mis-spelled\n\n- Get books: Update various Polish language stores\n\n- macOS: Fix drag and drop to re-arrange items in the viewer toolbar not working\n\n- PDF Output: When an inline image is placed alone inside a block tag, ensure that it is not split over two pages.\n\n- [1856395] ToC editor: Fix generate from links not working correctly when links have no fragments.\n\n- [1856564] PDF Output: Don't dedup images that cannot be uncompressed\n\n- Advanced search dialog: Fix an error when closing dialog if on the second tab and no field is focused\n\n\n:: improved recipes\n\n- Global Times\n- London Review of Books\n- The Telegraph (UK)\n- The Economist\n\n\n}}}\n\n\n{{{ 4.6.0 2019-12-13\n:: new features\n\n- [major] Windows 10: Add support for dark mode.\n\nIf you turn on dark mode under the Windows Settings->Personalisation->Colors and restart calibre it will use dark colors. Can also be enabled by setting the CALIBRE_USE_DARK_PALETTE environment variable.\n\n- Polish books tool: Add a setting to add or remove soft hyphens from the book text\n\n- Viewer: Re-enable the old reference mode from calibre 3.x\n\n- Kobo driver: Support for new firmware\n\n\n:: bug fixes\n\n- [1854349] PDF Output: Fix the option to break long words at the end of lines not working since calibre 4.\n\n- [1855403] DOCX Input: Fix incorrect font sizes for footnote references in paragraphs that have text with multiple font sizes.\n\n- DOCX Input: Avoid nested <sup> tags for footnote references\n\n- [1854211] Viewer: Fix max text width/height settings not being applied correctly on window resize.\n\n- Viewer: Auto-expand entries in the Table of Contents when viewing the corresponding location in the book.\n\n- [1854611] Viewer: When creating a new bookmark, if there is selected text use it as the default bookmark title.\n\n\n\n}}}\n\n\n{{{ 4.5.0 2019-11-29\n:: new features\n\n- [1854335] Driver for the new PocketBook Inkpad X\n\n- [1854063] Driver for the new Bookeen Diva HD\n\n- [1853155] PDF Output: Add an option to shift text horizontally on odd/even pages.\n\n- [1853671] Image viewing popup dialog: Add a checkbox to fit image to window.\n\n- Edit book: Create @font-face rules when importing multiple font files into book automatically, similar to how it is done when importing a single font file.\n\n\n:: bug fixes\n\n- [1854345] PDF Output: Fix incorrect rendering if the input document has too many anchors.\n\n- Fix a regression that could cause window layout settings to sometimes not be saved during shutdown\n\n\n:: improved recipes\n\n- L'express\n- The Toronto Star\n\n\n}}}\n\n\n{{{ 4.4.0 2019-11-21\n:: new features\n\n- [1852017] Viewer: Allow customizing what actions appear on the toolbar (Preferences->Miscellaneous->Customize toolbar).\n\n- Viewer: The --open-at command line argument now allows matching on ToC hrefs as well as titles\n\n- [1853184] Book details window: Show path to book in cover tooltip.\n\n- [1852626] Book details popup window: Add Open with actions to context menu when right clicking the cover image.\n\n- [1852318] Edit book: Check book: Mark empty id attributes in the OPF as errors.\n\n- Viewer: Add a shortcut (Ctrl+F11) to toggle the toolbar\n\n- Bulk metadata download review dialog: When clicking cancel ask for confirmation if some books have already been reviewed\n\n\n:: bug fixes\n\n- [1852036] PDF Output: Fix an error when using fonts with vertical metrics.\n\n- Viewer: Fix flickering when scrollbar is enabled and the header/footer is too wide for the screen.\n\n- [1852205] PDF Output: Improve handling of images that do not fit on a page.\n\n- [1852192] Viewer: In paged mode break long text without spaces at arbitrary points instead of overflowing to the next page.\n\n- [1656573] Viewer: Fix hang when using --open-at with single instance viewer and the specified location is already open.\n\n- [1853232] Viewer: Fix opening .txt files in the standalone viewer leaving behind a temporary index.html file in the folder of the txt file.\n\n- Linux: Make some cache removal code robust against un-decodeable filenames in the cache folders\n\n- [1851933] Viewer: Fix scrolling of panels in preferences causing artifacts.\n\n- [1851921] Viewer: improve appearance of controls on small screens.\n\n- [1851937] Move Close button in viewer preferences to left to match the rest of the Content server UI.\n\n- Viewer: Fix restoring user stylesheet to default not being applied until a viewer restart\n\n- [1851814] Viewer: Do not wait for loading of <link> tags that are not stylesheets.\n\n- [1852990] Viewer: When using the system color theme only override link colors in the book if the theme is dark.\n\n\n:: improved recipes\n\n- The Atlantic\n- LifeHacker\n\n\n}}}\n\n\n{{{ 4.3.0 2019-11-08\n:: new features\n\n- Viewer: Halve the time taken to prepare large EPUB files for first open\n\n- Viewer: Add an optional toolbar with common actions turn it on under Preferences->Miscellaneous\n\n- Viewer: Change the default color scheme to \"System\" which matches the colors used by the rest of calibre/the operating system. Also means the colors change automatically when the system color theme changes.\n\n- Viewer: Add a keyboard shortcut ; to go to a book location or position\n\n- Viewer: Add a control to easily reset the interface to defaults\n\n- Viewer: Allow also using --open-at with book positions\n\n- Viewer: Add command line option to force reloading of books\n\n\n:: bug fixes\n\n- [1847017] Content server: Fix conversion of comics not working.\n\n- Book details: Allow right click to copy author links and identifiers\n\n- Book details: Fix removal of identifiers via right click not working\n\n- Book details: Fix clicking on tags etc not generating exact match searches\n\n- [1847507] Viewer: When resizing and then resizing back to the old size ensure we return to the same page in paged mode.\n\n- [1851386] Duplicates dialog: Sort sub-list of matching books already in calibre by author for easier inspection.\n\n- [1849529] PDF Output: Fix links that go to destinations in the same file not working.\n\n- [1851045] Viewer: Fix changes to keyboard shortcuts not being applied until viewer is restarted.\n\n- [1847365] DOCX Input: Fix AlternateContent blocks rendering both choice and fallback sections.\n\n- [1850918] macOS: Fix unable to re-arrange entries in the CSV catalog list.\n\n- Windows: fix UTF-16/truncated output when reporting unhandled exceptions\n\n- [1850845] Viewer: Fix mouse wheel not working when mouse is over page margins.\n\n- Linux: Install bash completions as individual files for each calibre binary\n\n- [1850078] Content server: Fix download button not working with non-ebook formats.\n\n- Fix a crash in popup completion lists if the mouse is over the list and list is scrolled with the keyboard\n\n- [1849775] Viewer: Fix rare exception when navigating to a CFI.\n\n- [1849612] Viewer: Ignore failures printing console message when the viewer is launched with broken stderr.\n\n- [1849400] Amazon metadata: Fix failure to get published date from audible book pages.\n\n- Viewer: Fix shortcuts preferences not being translated\n\n- Tag browser: Fix incorrect text color when using dark theme for hovered item\n\n- Fix crash if canceling the icon theme download while covers are downloading\n\n- [1848858] Viewer: Fix non-ASCII content in stylesheets not being interpreted correctly.\n\n- [1847976] Viewer/Content server: Fix history for completion popups such as search bars not being stored correctly.\n\n- PDF Output: When a link with a fragment points to a non-existent anchor link to the top of the file instead of not linking at all\n\n- PDF Output: Fix standard SVG fullscreen image markup not working\n\n- [1848701] PDF Output: Fix some books with full screen images failing to convert.\n\n\n:: improved recipes\n\n- Clarin\n- Various Polish news sources\n\n\n}}}\n\n\n{{{ 4.2.0 2019-10-18\n:: new features\n\n- [1847571] macOS: Various improvements to dark mode support\n\n- Viewer: Don't generate covers for books that don't have a cover. Note that because of this all previously opened books will again be prepared for first time reading.\n\n- Viewer: Restore print to PDF functionality\n\n- Viewer: Allow also jumping to book positions in Goto->Location\n\n- Content server: When adding books and a duplicate is suspected provide more information about what books match the duplicate\n\n- FB2 Output: Speed up conversion of images and handle external links\n\n- [1847277] Viewer: If the book has no ToC try to generate one from headings, if any.\n\n- Viewer: Improve rendering of comics. No blank pages after large images or after every image in multi-page mode.\n\n- [1847423] Viewer: Make it easier to use the bookmarks panel with only keyboard.\n\n- [1847427] Viewer: Set the classes calibre-viewer-paginated and calibre-viewer-scrolling on the <body> tag in Paged and Flow modes. This allows the User styles to target these modes, if needed.\n\n- Viewer: Use the same loading spinner as is used by the rest of calibre\n\n\n:: bug fixes\n\n- [1846760] Edit book: Fix a crash when editing CSS files caused by a behavior change in Qt 5.13.\n\n- [1847567] Fix a regression in 4.0 that broke rendering of PDF covers for PDF files that used JPEG2000 compression.\n\n- [1847407] Viewer: Fix a regression in 4.1 that broke creating new color schemes\n\n- [1847977] Viewer: Fix error while viewing books with a comment after a <meta> tag.\n\n- [1848320] Viewer: Fix an error when processing a CFI with an invalid text offset.\n\n- [1847818] Viewer: Fix scrolling backwards to previous chapter not always scrolling to the end of the chapter, if the chapter loads external resources.\n\n- [1846886] Viewer: Fix hang on books with namespaced attributes on <html> that do not belong to a known ebook namespace.\n\n- [1847976] Viewer: Fix search history not persisting between viewer restarts.\n\n- [1847323] Viewer: Fix scrollbar showing up on initial book open even if disabled in preferences.\n\n- Viewer: Fix rendering of books with mathematics failing\n\n- Viewer: When changing between individual sections/chapters in the book, only render the new chapter after loading is complete\n\n- Viewer: Fix scrolling by screenfuls not working correctly in flow mode\n\n- [1847890] EPUB 2 metadata: Fix obfuscated fonts being broken when updating metadata if the file uses Adobe font obfuscation and the identifier with the key has an uppercase UUID scheme name.\n\n- Viewer: Fix right clicking on margins not showing controls\n\n- [1847677] Viewer: Preselect text in search box when showing it.\n\n- [1847181] Viewer: Fix SVG images that use xlink:href to refer to paths not being displayed.\n\n- Content server: Fix detection of iOS on iPAD with iOS 13 which defaults to desktop mode\n\n- [1848327] Metadata jacket: Fix <br> tags in the comments not being rendered correctly when inserting the comments into the jacket page.\n\n- [1847468] Viewer: Show nicer error message for DRMed books\n\n- Viewer: Fix preferences under Scrolling behavior not being saved correctly\n\n- [1847322] Viewer: Fix remembered position sometimes off by one page in paged mode.\n\n- Viewer: restrict max size of margin page turn indicators to 25px rather than 75px\n\n- Viewer: Don't flash the home page before loading a book if a book has been specified\n\n- Viewer: Fix Ctrl+M shortcut not working on Windows\n\n- Content server: Fix regression that caused series name in book details view not not be blue to indicate it is clickable\n\n\n:: improved recipes\n\n- Various Polish news sources\n- Il Sole 24 Ore\n\n\n}}}\n\n\n{{{ 4.1.0 2019-10-07\n:: new features\n\n- Viewer: Add an option to have a scrollbar (under Scrolling in the viewer preferences)\n\n- [1846700] Viewer: Allow showing the 'position in book', as was displayed in the top left of the viewer in calibre 3, in the header or footer of the viewer.\n\n- [1846800] Viewer: Add options to control scrolling using the mouse in paged mode.\n\n- [1846903] Viewer: Allow copying images by right clicking on them.\n\n- Viewer: Add a preference under Miscellaneous to allow only a single instance of the viewer\n\n- Viewer: Add keyboard shortcuts to toggle between paged mode and flow mode and to quit\n\n- [1846839] Content server: Make the book size useable in custom book list templates.\n\n- [1846967] Edit metadata: Use a border rather than background color to indicate correct title and author sort values. Works better with dark themes.\n\n- Kobo driver: Support for new firmware\n\n\n:: bug fixes\n\n- Viewer: Fix a couple of bugs in flow mode. Scrolling to anchors was not working and remembering last read position was not working\n\n- [1846875] Viewer: Fix text after comments not being rendered. Note that the book has to be reloaded if already viewed for the fix to apply.\n\n- [1846751] Viewer: Fix loading progress screen sometimes getting stuck if changing pages rapidly.\n\n- [1846834] Viewer: Fix failing to open books if path to cache contains symbolic links.\n\n- [1846753] Viewer: When restoring from fullscreen go back to maximized state if window was maximized when entering full screen.\n\n- [1846765] Viewer: Fix shortcut changes not being applied after pressing OK if shortcut list is closed by pressing Esc.\n\n- [1846828] Fix a regression that broke reading metadata from ODT files that do not have keywords.\n\n- PDF Output: Fix a bug that prevented the first style property in the header or footer template from being applied\n\n- [1846982] PDF Output: Fix error with a few embedded TTF fonts.\n\n- [1847052] Edit book: Font manager: Fix removing embedded font failing if @font-face rule has no src.\n\n- [1846922] Viewer: Hide the browser provided scrollbar that flashes momentarily on page load.\n\n- Viewer: Fix clicking on margins causing keyboard shortcuts to not work until the main text is clicked on again\n\n- Comments editor: Workaround for Qt converting ids into anchors\n\n- Possible workaround for some Windows machines where the viewer is getting access denied errors while renaming a folder\n\n- Viewer: When there is empty text for an header footer section render it as blank instead of moving the remaining sections to the left\n\n\n:: improved recipes\n\n- Fortune Magazine\n\n\n}}}\n\n\n{{{ 4.0.0 2019-10-04\n:: new features\n\n- [major] For details on the major changes in calibre between 3.0 and 4.0, see https://calibre-ebook.com/new-in/thirteen\n\n- [major] A completely re-written E-book viewer with an emphasis on presenting the book text, distraction free\n\n- Note that the system requirements needed for calibre have been increased, details are present on the calibre download pages for each operating system\n}}}\n\n\n{{{ 3.48.0 2019-09-13\n:: new features\n\n- Driver for Kobo Libra H2O\n\n\n:: bug fixes\n\n- Kobo driver: Fix some annotations getting missed for kepubs\n\n\n:: improved recipes\n\n- Boston Globe\n- Scientific American\n\n\n}}}\n\n\n{{{ 3.47.1 2019-08-30\n:: new features\n\n- HTML metadata: Support reading identifiers from HTML files\n\n- Preferences->Ignored devices: Add a button to reset the list of devices that calibre is allowed to manage\n\n\n:: bug fixes\n\n- [1839044] macOS: Fix a regression that could cause a crash on exit if any books were deleted while calibre was running.\n\n- [1841464] Content server OPDS: Handle form encoded search queries.\n\n- Fix an error when adding files from clipboard and file is of unknown type\n\n- [1839733] Speed up restoring original format by doing a rename rather than a copy and re-add.\n\n- EPUB 3: Fix setting metadata in EPUB 3 files without a title not working\n\n- [1839689] PML Input: Modernize the generated HTML a bit.\n\n- [1839522] HTMLZ Output: Fix svg content from HTML files that contain only SVG being removed.\n\n- [1839173] Content server: Fix OPDS feed for category based browsing listing restricted books, even though these books cannot be actually downloaded.\n\n- Preserve tag order when reading metadata from MOBI files\n\n- Add missing 'language' field to ComicBookInfo metadata for .CBR files.\n\n- [1837561] LIT Output: Fix regression in 3.41 caused by py3 porting that broke conversion of some files to LIT.\n\n- [1842158 1842183 1842090 1842201] Version 3.47.1 fixes an error when using internet lookup from the book details panel and the E-book viewer, and also the tweak to control number of columns in the edit metadata dialog not working\n\n\n:: improved recipes\n\n- Esquire\n- Foreign Affairs\n- derStandaard\n- Globe and Mail\n- CNET News\n- National Geographic\n- New Yorker\n- Chicago Tribune\n\n\n}}}\n\n\n{{{ 3.46.0 2019-07-19\n:: bug fixes\n\n- [1836813] Manage tags dialog: When searching for a tag also search the \"Was\" column to see if the original tag name matches.\n\n- Windows: Fix calibre-server --manage-users not working correctly\n\n- [1836548] MOBI Input: Fix conversion of MOBI files with malformed markup and embedded <guide> tags not working.\n\n- [1836559] Edit book: Allow the search expression history to remember very short terms and also preserve leading and trailing whitespace.\n\n- [1836463] Fix a regression in 3.45 that broke conversion of SVG images when converting to formats such as MOBI that do not support SVG.\n\n- Fix a regression in 3.45 that broke parsing of old-style .py config files\n\n\n\n}}}\n\n\n{{{ 3.45.2 2019-07-12\n:: new features\n\n- [1831304] Content server: Allow adding or removing formats to a book via the edit metadata page.\n\n- ToC Editor: Allow user to control whether duplicate headings are included or not when generating ToC from headings\n\n- Advanced search dialog: Remember the last focused field in the search by title/authors tab\n\n- Conversion: Performance improvement for books that have many HTML files that all include the same CSS stylesheets\n\n- Kobo driver: Add options to more precisely control the generation of cover images, to reduce size and enhance quality\n\n- Support subtitle in Douban metadata plugin\n\n\n:: bug fixes\n\n- [1836294] Fix a Windows-specific regression in 3.45.0 that caused various errors in the viewer and editor\n\n- [1836360] Fix a Windows-specific regression in 3.45.0 that prevented calibre from starting on non UTF-8 locales with non-ASCII usernames\n\n- [1834641] Linux: Workaround for bug in recent Linux kernels that causes the Kindle to eject after calibre connects to it.\n\n- [1834661] DOCX Input: When autodetecting the Table of Contents from headings, work even if the headings use numbering.\n\n- [1835560] EPUB Output: If there are no guide elements do not output an empty guide tag. Makes epubcheck happy.\n\n- [1834989] Workaround for sortByColumn being partially broken in Qt 5.13.0\n\n- [1834329] Fix a regression that broke the per_lang_title_sort_articles tweak.\n\n- Sending email: Fix an error on some Windows machines with non-ASCII hostnames\n\n- [1832660] EPUB Output: When generating EPUB 3 preserve the old style meta tag to identify the cover as Google Play Books does not recognize EPUB 3 cover markup.\n\n- [1832726] Create catalog: Fix handling of the tilde character in BiBTeX catalogs.\n\n- [1832628] News downloads: Fix incorrect font sizes for some text in the index pages.\n\n- [1831487] Comic Input: Fix incorrect processing of comics with pages that have the same file names in different folders when using the \"No process\" option.\n\n- [1831511] CHM Input: Fix a regression that broke processing of some CHM files.\n\n- Edit book: When auto-closing tags on typing </, fix occasionally incorrect tag being closed in large files because syntax highlighting has not completed\n\n- Kobo driver: Fix for ContentType not being defined error for extension-less non kepub files on a Kobo\n\n- Content server: Book details page: Do not display empty rows for undefined dates\n\n- Get books: Update Google books and amazon plugins for markup changes\n\n- Edit book: Text search: Fix searching for a single character backwards not working\n\n\n:: new recipes\n\n- Aviation International News by Jose Ortiz\n\n:: improved recipes\n\n- Art and Letters Daily\n- The Wall Street Journal\n- Barrons\n- Newsweek\n\n\n}}}\n\n\n{{{ 3.44.0 2019-05-31\n:: new features\n\n- Driver for the new NOOK Glowlight Plus\n\n- Driver for updated Kobo firmware\n\n\n:: bug fixes\n\n- Amazon metadata plugin: Fix searching the Amazon servers directly not working because of changed markup\n\n\n\n}}}\n\n\n{{{ 3.43.0 2019-05-28\n:: new features\n\n- Kobo driver: Support for new Kobo firmware\n\n- [1828291] Edit metadata dialog: Remember relative sizes of the cover and comments editors.\n\n\n:: bug fixes\n\n- PDF Output: Fix hang when converting some documents.\n\n- [1827198] Handle newlines when serializing to csr files\n\n- [1828986] Fix searching in manage tags throws away all changes\n\n- Fix a regression in the previous release that broke using the wireless device driver with the device_for_template option\n\n- Fix metadata download from Amazon stripping accents from comments text in the binary builds\n\n- [1827027] Amazon metadata download: Fix some downloads failing when a mobile user agent is randomnly selected.\n\n- [1826970] LRF Input: Fix a regression that broke parsing LRF files.\n\n- [1830568] PDF Input: Workaround for pdftohtml not always producing valid UTF-8.\n\n\n:: new recipes\n\n- The Baffler by Jose Ortiz\n\n:: improved recipes\n\n- The Toronto Star\n- The Financial Express\n- London Review of Books\n- Boston Globe Subscription\n\n\n}}}\n\n\n{{{ 3.42.0 2019-04-30\n:: bug fixes\n\n- [1825764] Conversion: Transform styles: When using regular expressions fix substitution groups not working.\n\n- [1826654] Fix a regression in the previous release that caused the conversion of HTML to text in comments when output to catalogs or converting downloaded metadata to behave slightly differently.\n\n- [1826631] Edit book: Fix beautify not handling <colgroup> and <th> tags correctly.\n\n- DOCX Input: Fix cross-references using the 'fldSimple' markup not being recognized by calibre.\n\n- [1826127] EPUB/MOBI Catalogs: Fix a regression in the previous release that caused ampersands and middle-dots to appear as HTML entities in the output.\n\n- Prevent a malformed tweaks.json file from stopping calibre startup\n\n- Fix a regression that broke completion for ebook-convert\n\n- News fetching: Fix a regression that broke removal of attributes/JavaScript/srcset because of bugs in the new BeautifulSoup\n\n- [1825770] TXT Output: Fix Vietnamese Â character being stripped from output.\n\n- E-book viewer: Fix specifying a non-existent location via --open-at causing viewer to hang\n\n\n:: new recipes\n\n- Magyar Nemzet by pofa\n\n:: improved recipes\n\n- Global Times\n- Corriere della Serra\n\n\n}}}\n\n\n{{{ 3.41.3 2019-04-19\n:: new features\n\n- Kobo driver: Support for new firmware\n\n- Content server: Add an option to control which book list mode is used by default for new users (Preferences->Sharing over the net->Choose book list mode)\n\n- [1819058] Content server: Allow clicking on book cover in details page to read the book.\n\n- [1823520] Amazon metadata plugin: Add a option to use the mobi-asin to find books.\n\n- [1656573] E-book viewer: Allow specifying ToC hrefs via the --open-at command line parameter.\n\n- [1823097] Tag Mapper: Allow Title-casing of tags.\n\n- [1821992] Manage authors dialog: Add an entry to the right click menu to show books by the current author in the main book list.\n\n- Lots of internal changes to calibre's codebase to prepare it for Python 3 support.\n\n\n:: bug fixes\n\n- Content server: Fix links to external resources in book details and the viewer not working\n\n- [1819025] Content server: Fix using a bookmark to load the book list not working if server is password protected.\n\n- [1819060] Content server: Book details page: Fix Close button not going back to book list after using Next/previous buttons.\n\n- Kobo driver: Fix update device metadata setting not being saved. Also fix book language not being set correctly on newer firmware.\n\n- [1821923] PDF Output: Fix 'stroke-dasharray' lines in SVG images in the input document not being rendered correctly.\n\n- [1822532] Fix searching for authors on amazon not working because of a change in the amazon URL structure.\n\n- [1723972] Cover grid: Check for cover size change due to screen scale change on every paint event and invalidate cache if there is a change.\n\n- [1823040] Edit book: Fix Option key + ; not working in the editor.\n\n- [1817405] Edit book: Fix pasting images into a book with no Images folder not working correctly.\n\n- [1823204] Confirm cancel on library restore dialog\n\n- [1821968] EPUB/MOBI Catalogs: Fix presets not being applied for some options.\n\n- Fix using --insert-metadata with ebook-convert not inserting the title and author metadata from the source document\n\n- [1822018] Adding books: When adding with auto-merge and auto-convert enabled, also run conversions for books into which the added files are merged.\n\n- [1825472 1825494 1825542] Versions 3.41.1, 3.41.2, 3.41.3 fix various regressions in the previous release that affect a few people.\n\n\n:: new recipes\n\n- The New Criterion by Darko Miletic\n\n:: improved recipes\n\n- Il Post\n- Le Monde Edition Abonnes Papier\n- Le Temps\n- NASA\n- 1843\n- derStandard\n- LA Times\n\n\n}}}\n\n\n{{{ 3.40.1 2019-03-08\n:: new features\n\n- TXT Input: Use markdown 3.0 with support for new extensions such as code highlighting and smarten punctuation.\n\n- [1815005] Book details panel: Allow editing the identifiers for the book by right clicking on the existing Ids.\n\n- [1810923] Content server: Allow specifying custom URLs for the 'Search the internet' feature via Preferences->Sharing over the net->Search the internet.\n\n- Tag browser: Category editor: Add a checkbox to restrict the entries shown to only those present in the current Virtual library\n\n- [1815419] Allow adding files to selected book records from the clipboard. To use copy a file from Windows Explorer, right click the Add books button and choose: Add files to selected book records from clipboard\n\n- [1816274] Tag browser: When right clicking on a Saved search add a menu option to search using the raw search expression.\n\n- [1816276] Tag browser: Have pressing the Enter key find the next match.\n\n- Windows: Add a button to Preferences->Sharing over the net to set calibre to run when the computer starts\n\n\n:: bug fixes\n\n- [1816224] Fix a regression in the previous release that broke Copy to library and delete after when copying a duplicated book.\n\n- Edit book: Fix pasting of image from clipboard using (Ctrl-V) not working\n\n- [1818308] Content server: Fix {id} not working in the custom list template\n\n- [1818838] EPUB/MOBI Catalogs: Fix presets not saving title and format information.\n\n- macOS: Respect the system setting for text insertion cursor blink time\n\n- [1815357] FB2 Output: Fix comments from the input document not present in the output.\n\n- calibredb: Fix adding books with an OPF file to a remote server not picking up the cover specified in the OPF file\n\n- [1814989] TXT Input: Fix option to remove indents at the start of lines breaking conversion of markdown documents.\n\n- [1814458] EPUB/MOBI Catalog generation: Allow matching empty fields in exclusion rules.\n\n- [1415990] EPUB/MOBI Catalogs: Fix multiple books with the same title but different authors in a genre not being listed.\n\n- Update the Get Books and metadata Amazon.com plugins to handle changes to the markup on the Amazon results page\n\n- Version 3.40.1 fixes a bug in 3.40 that could prevent calibre starting when using a custom date column\n\n\n:: new recipes\n\n- Quanta Magazine by lui1\n- El Periodico Mediterraneo by benages\n\n:: improved recipes\n\n- Scientific American\n- Taipei Times\n- Harpers Magazine\n- General Knowledge Today\n- Granma\n- South China Morning Post\n- New York Times (Web)\n- China Daily\n- 1843\n- Pro Physik\n- Caravan Magazine\n- Spektrum der Wissenchaft\n\n\n}}}\n\n\n{{{ 3.39.1 2019-02-01\n:: new features\n\n- [1810486] Content server: Implement the \"Copy to library\" function. To use it click the three dots in the top right corner of a book's page and choose \"Copy to library\"\n\n- Content server: Add Next/Previous buttons to the book details page\n\n\n:: bug fixes\n\n- [1812781] Content server: Fix editing metadata that affects multiple books causing all the metadata for all the books to become the same.\n\n- [1811045] Open with: Fix using .bat files as the program not working.\n\n- [1813905] ZIP Output: Fix an error when building the ToC on macOS for some books with non-ASCII ToC entries\n\n- Edit book: Check book: Follow recent releases of epubcheck in expecting .ttf files to have the MIME type application/vnd.ms-opentype in EPUB 3 books\n\n- Fix font MIME types not being auto-corrected when upgrading EPUBs from 2 to 3\n\n- Content server: Try to detect if a book file has been edited outside of calibre and serve the updated copy\n\n- Fix merging books not updating author if the source book has no title\n\n- Content server: Fix heading for custom comments columns being duplicated in the book details page\n\n- [1812560] Fix editing of dates not working if the date format is set to iso.\n\n- [1814279] Version 3.39.1 fixes a bug in 3.39.0 that broke copy to library for books that have saved conversion options\n\n\n:: new recipes\n\n- BSI News by Volker Heggemann\n- Science Advances by Jose Ortiz\n\n:: improved recipes\n\n- Spiegel Online\n- Il Post\n\n\n}}}\n\n\n{{{ 3.38.1 2019-01-18\n:: new features\n\n- Tag browser: When using the Find function have unaccented characters match their accented equivalents, if the setting for it is set in Preferences->Searching\n\n- [1811611] DOCX Input: When converting indices, put each sub-entry on its own line.\n\n- Edit book: Insert hyperlink: Add history for the template\n\n- Edit book: Insert hyperlink: Add a few more variables for the link template: _SOURCE_FILENAME_, _DEST_FILENAME_ and _ANCHOR_\n\n\n:: bug fixes\n\n- [1810936] Catalogs: Set the language of created catalogs to the calibre interface language instead of English\n\n- [1811611] DOCX Input: Do not display section breaks that have a numbering style applied to them.\n\n- Content server: Fix listening on :: not also listening on IPv4 interfaces on Windows\n\n- [1811616] DOCX Output: Fix heading styles that have the same font size as body text getting incorrect font sizes after conversion.\n\n- EPUB/MOBI Catalogs: Fix prefix rules not working when calibre UI language is something other than English\n\n- EPUB/MOBI Catalogs: Fix exclusion by tag not working for tags that have spaces in them\n\n- [1811224] Subset fonts: Fix error when trying to subset unicode characters that require two UTF-16 code points on Windows.\n\n- Content server: Fix option to restrict displayed user field not working in the /opds view\n\n- [1810217] Tag browser: Fix incorrect icon for user categories.\n\n- [1812218] PDF Output: Fix conversion failing when fonts with non-English names are used.\n\n- 3.38.1 fixes a typo in 3.38.0 that caused the Polish books function to not work when polishing small numbers of books\n\n\n:: new recipes\n\n- Nature by Jose Ortiz\n\n:: improved recipes\n\n- Chicago Tribune\n- New York Times Book Review\n\n\n}}}\n\n\n{{{ 3.37.0 2019-01-04\n:: bug fixes\n\n- Switch from cssutils to css_parser for parsing CSS. Fixes various minor, long standing bugs\n\n- calibredb: Fix adding books from directories to a remote server running on Windows not working\n\n- [1810193] Edit Book: Fix style attribute on <html> tags not being preserved when editing AZW3 files.\n\n- [1810205] Get Books: Use an external browser for Google Books\n\n- [1807525] Saving to disk: Fix errors on Linux/macOS if the title/authors are long enough to make individual path components larger than 255 characters.\n\n- PDF Input: Fix non-breaking spaces represented as entities in the output of pdftohtml, which breaks some search/replace expressions\n\n- [1805521] Edit book: Fix a crash when mousing over links in an instance of the editor launched standalone on macOS Mojave\n\n- [1809671] Conversion: When converting with font size rescaling disabled, convert font size names to rem unit rather than pt units.\n\n- Windows: When registering calibre programs as possible handlers for various file types, dont set the AllowSilentDefaultTakeOver registry key\n\n- [1799750] macOS: PDF Output: Fix bold fonts not working on Mojave.\n\n- Content server: Fix strings with double quotes not being translated.\n\n\n:: improved recipes\n\n- Il Post\n\n\n}}}\n\n\n{{{ 3.36.0 2018-12-21\n:: new features\n\n- Happy Holidays to everyone!\n\n- Kobo driver: Add supported for newly released firmware update\n\n\n:: bug fixes\n\n- [1807914] Kobo driver: Fix a regression in the last release that caused book title to appear as Unknown if metadata management was set to manual in calibre.\n\n- PDF Output: Do not fail if one of the fonts from the source document has no name metadata\n\n\n:: improved recipes\n\n- Wall Street Journal\n- ESPN\n- Al Jazeera (English)\n\n\n}}}\n\n\n{{{ 3.35.0 2018-12-07\n:: new features\n\n- [1804250] Edit book: Insert hyperlink: Allow specifying a template to control the markup that is inserted for the hyperlink.\n\n- [1802293] Metadata download: Add an option (in Preferences->Metadata download) to keep multiple results from individual metadata sources, useful if you prefer to pick the best result by hand and use only one or two metadata sources.\n\n- KoboTouch driver: Extend the metadata updated in the Kobo device database to all metadata displayed on the device. The update is only done for books already on the device. Needs to be enabled via Preferences->Plugins->Customize the KoboTouch device plugin.\n\n\n:: bug fixes\n\n- [1691976] E-book viewer: Fix a regression that broke viewing of HTMLZ files\n\n- [1803985] Edit book: Fix suggestions in completion popup not being sorted.\n\n- [1803034] Windows: Fix restarting calibre with system tray icon enabled causing duplicate defunct icons in the tray.\n\n\n:: new recipes\n\n- Macrobusinness by 2018robert\n- Sports Illustrated by Kovid Goyal\n- Le Peuple Breton by Lionel Plais\n- Mandiner by pofa\n\n:: improved recipes\n\n- Wired Magazine\n- Wall Street Journal\n- Telepolis\n- Yahoo News\n- Associated Press\n- Mother Jones\n\n\n}}}\n\n\n{{{ 3.34.0 2018-11-08\n:: new features\n\n- [1802088] Support for the new Kindle Paperwhite 2018\n\n- Metadata plugboards: Allow defining plugboards that modify comments metadata as well\n\n- E-book viewer: Add a keyboard shortcut (Ctrl+M) for toggling between paged and flow mode\n\n\n:: bug fixes\n\n- [1796497] EPUB Input: Handle invalid EPUB files that have their NCX documents in the spine.\n\n- EPUB3 Input: Handle EPUB 3 files that incorrectly use EPUB 2 markup to identify cover images.\n\n- Content server: Fix --url-prefix feature not working with book conversion\n\n\n:: new recipes\n\n- Arts and Letters Daily by pjpaulpj\n- Magyar Idok by pofa\n\n:: improved recipes\n\n- Business Standard\n- Washington Post\n- General Knowledge Today\n- How To Geek\n\n\n}}}\n\n\n{{{ 3.33.1 2018-10-19\n:: new features\n\n- Driver for the new Kobo Forma\n\n- [1796902] PDF Output: Add a new 'page number map' setting to easily modify page numbers as needed in headers/fotters and the generated inline table of contents.\n\n- [1795845] Edit book: Insert image: remember size of displayed thumbnails.\n\n- [1796950] Edit book: Compress images losslessly: Remember the last used compression quality for JPEG compression.\n\n\n:: bug fixes\n\n- [1796889] CHM Input: Fix a regression in the previous release that broke processing of CHM files.\n\n- Fix clearing of metadata download author and tag map rules not working\n\n- Fix notifications from calibre being displayed as \"Others\" on the GNOME desktop\n\n\n:: improved recipes\n\n- Ambito Financiero\n- Pagina 12\n- stuff.co.nz\n- The New Zealand Herald\n- Various Polish news sources\n\n\n}}}\n\n\n{{{ 3.32.0 2018-09-28\n:: new features\n\n- [1791428] Edit book: Insert image dialog: Add buttons to change the image thumbnail size.\n\n- Book details panel: Allow right clicking on a format to open it in the calibre E-book editor\n\n- Edit metadata dialog: Allow viewing or editing specific formats by right clicking the format in the formats list\n\n- When creating a metadata jacket allow HTML in custom long text columns\n\n- [1794123] Content server: When editing metadata add a button to remove the existing cover. Note that after removing the cover a auto-generated cover is displayed instead. You might need to hit refresh in your browser to see the change.\n\n- Content server: Date edit: Add buttons to clear the date or set it to today's date\n\n\n:: bug fixes\n\n- When showing books on the device, disable keyboard shortcuts for actions that operate on library books\n\n- Content server: Custom List: Fix a zero series index being displayed as one\n\n- [1699932] Content server: Fix covers not being updated in downloaded copies of some books.\n\n- [1792616] PDF Output: Fix an error that could occur in rare circumstances when using the option to read page margins from the input document\n\n- Edit book: Check book: Fix an error if a filename contains a % character\n\n- [1792048] PDF Output: Fix CSS opacity property causing text to not be rendered.  Now opacity is ignored, as it is unsupported by Qt WebKit.\n\n- Create custom column dialog: Ensure that the format numbers field is always visible\n\n\n:: improved recipes\n\n- Washington Post\n\n\n}}}\n\n\n{{{ 3.31.0 2018-09-07\n:: new features\n\n- [1758434] Book list: Allow changing the font used for any column to bold and/or italic by right clicking on the column header and choosing 'Change font style'.\n\nNote that this setting is per-library so it has to be done once for the book list in every calibre library.\n\n- fetch-ebook-metadata.exe: Allow specifying identifiers other than just ISBN\n\n- Amazon metadata download: Add support for Amazon Australia (can be configured via Preferences->Metadata download->customize the amazon metadata source)\n\n- [1790761] Table of Contents Edit tool: When generating from XPath's add a checkbox to control if duplicate entries at the same level are added or not.\n\n- [1789540] Edit book: Allow disabling the popup to show changes after running the Fix HTML and Beautify all files tools.\n\n\n:: bug fixes\n\n- [1789238] DOCX Input: Fix figures in newer Word documents being duplicated.\n\n- [1737642] Content server: Disable offline access if application cache is not available, rather than failing.\n\n- [1786410] DOCX Output: Workaround for broken CSS that uses -o-pre-wrap for the white-space property\n\n- Metadata download: Remove the option to lookup first edition dates as the service used to get the data no longer exists\n\n\n:: improved recipes\n\n- Howto Geek\n- Welt der Physik\n- Neue Osnabrucker Zeitung\n- Fortune Magazine\n\n\n}}}\n\n\n{{{ 3.30.0 2018-08-24\n:: new features\n\n- [1735799] ToC Editor: When generating ToCs using headings/XPath ignore duplicate entries at the same level that have the same text.\n\n- [1787488] Windows: The default calibre library location is now not in My Documents but instead in the user home folder, to avoid issues with OneDrive auto-syncing calibre libraries\n\n- Kobo driver: Support for new firmware version\n\n- Add a tweak (in Preferences->Tweaks) to allow skipping network check on news download\n\n- [1786544] Edit metadata dialog: Show a confirmation dialog on cancel if some changes have been made.\n\n\n:: bug fixes\n\n- Downloaded metadata review dialog: Fix a regression in the last release that broke the revert buttons\n\n- [1786577] E-book viewer: Fix clicking links in the footnote popup ignoring the anchor part of the link.\n\n- ToC editor: Fix generating toc entries from links not working for links that start with #\n\n- [1788187] HTML Input: Collapse multiple spaces in filenames when sanitizing them.\n\n- Edit book: Remove matching tag: Fix incorrect removal if the remove matching function is triggered in rapid succession\n\n- [1787892] Edit book: Fix some links in the file being split not being adjusted when splitting HTML files.\n\n- [1787700] Fix a crash when using some third party plugins and enabling the \"two lines for text under icons\" option\n\n- [1787523] Make the create catalog dialog freely resizable\n\n- [1786414] DOCX Input: Fix an error when converting some DOCX files with inherited fonts.\n\n\n\n}}}\n\n\n{{{ 3.29.0 2018-08-10\n:: new features\n\n- Add a option to draw a grid in the main book list (Preferences->Look & feel)\n\n- Edit book: Allow removing the currently highlighted tag (while keeping its contents) by pressing Ctrl+>. You can also add a tool to do it via Preferences->Toolbars\n\n- [1735904] Content server: When defining a color scheme for the in browser viewer allow specifying the link color as well as the foreground and background.\n\n- [1785482] Edit book: Show a popup after a fix all HTML/Beautify all files so the user can easily see what was changed, if needed.\n\n- Kindle driver: Create cover thumbnails on the device when transferring KFX format books\n\n- [1782981] Edit Book: Recognize numbers in image names in the 'Insert image' dialog\n\n\n:: bug fixes\n\n- Content server: Display custom comments field on the book details page in the same order as in the calibre GUI\n\n- Edit book: Fix open image editors not being updated when image file is replaced\n\n- Fix keyboard shortcuts for Edit book tools created from plugins not working\n\n- [1783563] PDF Output: Fix error when trying to convert books that do not specify a language in their metadata.\n\n- Browser viewer: Fix inability to open books that contain zero-byte stylesheets/images\n\n\n:: improved recipes\n\n- Boston Globe\n- Newsweek\n- Ambito and Ambito Financiero\n- New York Times\n- New England Journal of Medicine\n- The Hindu Business Line\n- Private Eye\n- Le Temps\n\n\n}}}\n\n\n{{{ 3.28.0 2018-07-20\n:: new features\n\n- [1780152] Allow creating rules to transform author names when adding books to calibre. Accessible via Preferences->Adding books->Adding actions\n\n- Add a similar author mapper tool to manipulate author names in the existing library. Accessible via Preferences->Toolbars\n\n- Add a similar author mapper tool for metadata downloading, accessible via Preferences->Metadata download\n\n- [1780469] Comments Editor: Add options to change the case of the selected text to the right click menu\n\n- [1781721] Edit book: When sorting non text files in the File list recognize numbers in the file names\n\n\n:: bug fixes\n\n- calibredb catalog: Recognize file extensions even when they are not lowercase\n\n\n:: new recipes\n\n- Il Post by frafra\n- Bloomberg Columnists by Dale Furrow\n\n:: improved recipes\n\n- Sunday Times Magazine UK\n- The Economist\n- The Houston Chronicle\n- El cohete a la luna\n- CBC Canada\n\n\n}}}\n\n\n{{{ 3.27.1 2018-07-06\n:: new features\n\n- [major] Content server: Allow conversion of books\n\nClick the convert icon in the top bar of the book details page to convert a book. Note that conversion only works for logged in users who have permission to make changes to the calibre library.\n\n- Kobo driver: Add support for new firmware\n\n- [1779299] Bulk metadata edit dialog: Add an \"Edit tags\" button for tags like custom columns.\n\n- Add an option in Preferences->Look & feel to disable the new 'drag and drop to merge books feature'\n\n- [1780097] E-book viewer: Add a shortcut (Ctrl+Alt+B) to toggle the bookmarks panel.\n\n- Edit book: Add a copy to clipboard button on the various report dialogs\n\n- [1779616] Edit book: Add a shortcut (Ctrl+Alt+Down) to edit the next file in the book spine.\n\n- calibre-smtp: Verify relay server TLS certificates by default. New option --dont-verify-server-certificate to restore old behavior.\n\n\n:: bug fixes\n\n- Version 3.27.1 fixes a build error in 3.27.0 that caused calibre not to start on macOS older than High Sierra\n\n- [1779518] Conversion: Fix a regression in the previous release that caused conversion of EPUB 3 to EPUB 3 to fail.\n\n- [1780302] Fix detection of the Bookeen NolimbookXL on macOS and Linux\n\n- Fix a regression that broke the fetching of annotations from Kobo and Kindle devices.\n\n- [1777390] DOCX Input: Fix failure to convert some DOCX files that use Symbol fonts.\n\n- [1779664] When exporting very large libraries fix failures due to busy errors.\n\n- [1779602] Fix commas not working in identifiers that are transformed to URLs via rules.\n\n- [1779576] Review downloaded metadata: Fix cancel button on the confirm reject all dialog not working.\n\n- Kindle Fire driver: Send books by default to the \"kindle\" folder instead of the \"Books\" folder to workaround a change in the Fire firmware that causes the Kindle to not recognize files in the Books folder.\n\n- Linux installer: Also fix the execute bits in the umask if the user runs the installer with a umask that prevents files from being world executable.\n\n- [1778155] Sort the entries in the show column menu alphabetically.\n\n\n:: improved recipes\n\n- Gosc Niedzielny\n- Cracked.com\n- Psychology Today\n- The Atlantic\n- LA Times\n- Handelsblatt\n- Newsweek\n\n\n}}}\n\n\n{{{ 3.26.1 2018-06-15\n:: new features\n\n- [1775123] Book list: Allow drag and drop of books onto other books to merge the book records.\n\n- Check Book: External link checker: Also check HTML anchors (the part after the # in the link). Can be turned off via a checkbox at the bottom of the link checker window.\n\n- Edit Book: Preview panel: Show previews when editing SVG files\n\n- [1774945] Edit book: When downloading external resources, also convert data URLs into files.\n\n- [1776710] E-book viewer: When the controls are hidden show the progress in the window title.\n\n- [1775888] Library Quick switch menu: Highlight the previously switched from library in bold.\n\n\n:: bug fixes\n\n- [1775984] PDF Input: Fix a regression in 3.24 that caused conversion of PDF to be significantly worse.\n\n- [1774884] E-book viewer: Fix very slow loading for HTML files with very many images on Linux.\n\n- [1776294] Content server: Fix a regression in 3.14 that removed the separator between books in the detailed list view mode.\n\n- Edit book: Fix SVG files not being beautified by the Beautify all files tool\n\n- Edit book: Fix searching in selected files not searching SVG files\n\n- Fix Tweaks help string not being displayed translated\n\n- [1766762] Edit metadata dialog: Fix distorted rendering of some labels in the Custom metadata tab in rare circumstances.\n\n- [1777054] version 3.26.1 prevents dropping of a book onto itself from triggering the merge dialog, which should reduce accidental triggers\n\n\n:: new recipes\n\n- El Cronista by Darko Miletic\n\n:: improved recipes\n\n- Slate\n- New York Times Book Review\n- The Independent UK\n- NYTimes Tech Beat\n- New York Times\n- Cracked.com\n\n\n}}}\n\n\n{{{ 3.25.0 2018-06-01\n:: new features\n\n- Kobo driver: Support the new Clara HD\n\n- [1773319] PDF Output: Add an option to use page margins from the input document, specified via @page CSS rules.\n\nAllows individual HTML files in the input document to have different page margins in the output PDF.\n\n\n:: bug fixes\n\n- [1773426] Fix option to \"show text under buttons only if there is enough space\" not working well with the option to use \"two lines for the text under the buttons\".\n\n- [1774059] Update notification: When both calibre and plugin updates are available and the user updates only the plugins, fix the restart calibre button not working.\n\n- [1774163] E-book viewer: Fix printing of comics (cbz/cbr files) not working.\n\n- [1773627] EPUB3 Input: Fix Table of Contents not being recognized for some EPUB 3 books that placed their nav document in-side a sub-folder.\n\n\n:: improved recipes\n\n- Associated Press\n\n\n}}}\n\n\n{{{ 3.24.2 2018-05-25\n:: new features\n\n- [major] Conversion: EPUB Output: Add an option to output EPUB 3 files.\n\n- [1773111] PDF Output: Add an option to break long words at the ends of lines.\n\n- PDF Output: Allow using images in the header/footer templates\n\n- Add an option to use two lines for the text under the toolbar button in Preferences->Look & feel\n\n- [1772276] Edit book: Spell check: Update the number of misspelled words/total words displayed when correcting/ignoring words.\n\n- [1772157] Edit book: Fix HTML: Automatically resolve private entities\n\n- Improve formatting of help in Preferences->Tweaks\n\n- [1769442] ToC Editor: Allow undo for renaming single items as well.\n\n\n:: bug fixes\n\n- Version 3.24.2 fixes a bug in the new EPUB 3 output functionality that prevented conversion of non-EPUB 3 books to EPUB 3\n\n- Version 3.24.1 fixes a regression in the 3.24 in the editor that caused syncing between the editor and the Preview panel/Live CSS panel to not work correctly\n\n- PDF Output: Strip zero-width space characters from the text as their presence prevents searching from working\n\n- [1772219] DOCX Output: Fix <pre> tags not being converted correctly.\n\n- [1771279] DOCX Input: Fix incorrect conversion of a framed block that contains a list.\n\n- [1772157] Conversion: Fix private entities that use the same name as an HTML entity not being handled correctly\n\n- [1772157] Viewer: Fix HTML files with private entities displaying an artifact at the top\n\n- [1772157] Edit book: Check book: Show an error for HTML files with private entities\n\n- EPUB3 Input: Fix titlepage being referred to in the nav causing two titlepage entries in the final book.\n\n- Fix throbber buttons not being perfectly aligned inside toolbars\n\n- [1772151] Quickview: Fix sizes not being displayed.\n\n- Edit book: Compress images tool: Do not mark the book as changed if no images could be further compressed.\n\n- Book list split-view: Fix horizontal scroll position of split view can change when changing the current column in one view.\n\n- [1769681] Fix Bookeen Saga not being recognized on macOS/Linux.\n\n- [1769606] Edit metadata dialog: Fix undo last trim not working for automatic trims.\n\n- Content server: Fix series field blank in Italian translation\n\n- [1769481] BeautifulSoup: Port fix from upstream for outputting bare ampersands in strings.\n\n- calibredb add: Run the input plugins before reading metadata instead of after.\n\n\n:: new recipes\n\n- The Federalist by Kovid Goyal\n\n:: improved recipes\n\n- The New York Times Book Review\n- New York Times\n- Le Devoir\n\n\n}}}\n\n\n{{{ 3.23.0 2018-05-04\n:: new features\n\n- [1767589] Kobo driver: Add support for new firmware\n\n- Book polishing: Add an option to upgrade EPUB 2 to EPUB 3\n\n- DOCX Input: Convert text written with dingbat fonts such as Wingding or Symbol correctly.\n\n- When choosing the page to use as a cover from a PDF file, add a button to render more pages, if needed\n\n- TXT Input: Add support for embedded images that use relative URLs when converting markdown or textile. Note that this will only work if you are converting using the ebook-convert command line tool as the main calibre program moves files around, so relative references will not be valid.\n\n- Edit book: Insert special character: Add an option to select if searching should match all words or any of the words\n\n- Edit book: Insert special character: When searching by name match prefixes in addition to whole words. So you can now type \"horiz\" to match \"horizontal\".\n\n- Linux installer: Simplify the command used to install calibre and add support for Ubuntu 18.04 which is missing a default python executable\n\n- [1765944] When upgrading EPUB 2 to EPUB 3 add the 'epub' namespace to all HTML files, for convenience.\n\n- Kobo driver: Add an option to not maintain bookmarks/read status/etc. when resending a book already on the device.\n\n\n:: bug fixes\n\n- Edit Book: Fix an error caused by a landmark entry in EPUB 3 files that has an <a> tag without an href attribute.\n\n- Edit Book: Fix names for some control characters not being displayed in the status bar\n\n- Searching: Fix A (B) not being treated as A AND (B)\n\n- [1766650] DOCX Input: Ignore complex script font styles. Fixes conversion of documents that specify only complex script styles and no simple script styles.\n\n- When updating EPUB 2 to EPUB 3 ensure only a single dc:date element is present in the OPF\n\n\n\n}}}\n\n\n{{{ 3.22.1 2018-04-19\n:: new features\n\n- [major] Edit book: Add a tool to upgrade books from EPUB 2 to EPUB 3 (Tools->Upgrade book internals)\n\nAutomatically upgrades metadata, converts the NCX table of contents and adds required manifest annotations\n\n- [1762634] Add support for the FBZ format (zipped FB2)\n\n- Kindle driver: Change the height of generated thumbnails to 500px, needed for the Oasis 2017\n\n- Edit book: When bulk renaming files add an option to rename by the order in which the files appear in the book.\n\n- Polishing: Recognize titlepages that are marked as covers in the EPUB 3 landmarks section\n\n- Edit Book: Automatically updated the modified timestamp in the OPF when saving EPUB 3 books.\n\n- [1761906] Remove the ISBNDB metadata plugin as ISBNDB no longer allows free lookups.\n\n\n:: bug fixes\n\n- EPUB 3 metadata: If the book defines more than one author sort value for an author use the first instead of the last\n\n- Check Book: Dont warn for nav document not in spine in EPUB 3 books\n\n- Linux installer: Fix umask question not working with the recommended install command because stdin is a pipe\n\n- Browser viewer: Show an error message when trying to use the Sync function without being logged in\n\n- When setting cover from a PDF file and the user clicks cancel, do not delete the existing cover\n\n\n:: new recipes\n\n- Le Monde: subscriber paper edition by Remi Vanicat\n\n:: improved recipes\n\n- Globe & Mail\n- National Geographic\n- Slate\n- GoComics\n- Oregonian\n\n\n}}}\n\n\n{{{ 3.21.0 2018-04-06\n:: new features\n\n- Browser viewer: Allow showing the time left in the current chapter/book in the header and footer areas of the book.\n\nTo use go to the preferences of the browser viewer and customize the headers and footers to display the time left. Note that time left in chapter only works correctly if chapters are in separate HTML files in the book.\n\n- [1743896] Manage tags dialog: Searching now shows all matching tags and there is an Undo button to undo changes.\n\n- [1759434] Add an output profile for the Kindle Oasis 2017\n\n\n:: bug fixes\n\n- [1761017] Content server: Fix adding/deleting books and editing metadata not updating the main calibre book list automatically.\n\n- [1760292] Viewer: When doing a dictionary lookup, remove soft hyphens from the word, if any are present.\n\n- Edit metadata dialog: Fix tab order for buttons to the left of the title and author\n\n- [1759671] Trim cover dialog: Remove the redundant Trim & OK button, instead have the OK button trim automatically if there is a selection.\n\n- Update Amazon metadata plugin for a website change\n\n- Content server: Fix translations not being updated without clearing the browser cache\n\n- Content server: Fix switching from translations to no translations not working\n\n- Content server: When updating interface data do not transmit translations if they have not been changed. Saves ~30-60KB bandwidth when using non-English interface language.\n\n\n:: improved recipes\n\n- The Atlantic\n- Fortune Magazine\n- Telegraph UK\n- Hot Air\n- Reader's Digest\n- The Economist\n\n\n}}}\n\n\n{{{ 3.20.0 2018-03-23\n:: new features\n\n- [major] Content server: Allow editing the metadata of books from the book details page\n\nOn the book details page, you can now edit any metadata and change covers by clicking the Edit metadata icon in the right area of the top bar. Note that only users that have write permissions for the library can edit metadata.\n\n- Kobo driver: Recognize Kobo Aura 2 with new firmware (4.6.10188)\n\n\n:: bug fixes\n\n- When reading metadata from HTML also recognize <meta name=\"dc.description\"> as being comments\n\n\n:: improved recipes\n\n- Danas\n- Al monitor\n- Folha de Sao Paolo\n- New York Times\n- Wirtschaft's Woche\n\n\n}}}\n\n\n{{{ 3.19.0 2018-03-09\n:: new features\n\n- Driver for the new PocketBook 740\n\n- Allow using relative URLs in comments type metadata. The relative URLs are interpreted relative to the book folder in the calibre library\n\n- [1753788] Edit book: Reports: Do not show characters from the HTML markup in the characters report.\n\n- Allow adding the Virtual library button to any toolbar/menu via Preferences->Toolbars & menus\n\n\n:: bug fixes\n\n- Server: Fix server becoming unresponsive if a client sends invalid SSL data at exactly the right moment\n\n- [1753533] Conversion heuristics: Make unwrapping recognize Georgian letters as well.\n\n- [1753870] Make de-serialization of stored conversion options safe against maliciously crafted input\n\n- [1753870] E-book viewer: Change the file format used to import/export bookmarks to use JSON. This prevents malicious bookmarks files from causing code execution.\n\n- [1752447] Make the history completion for the search and replace edit box case-sensitive.\n\n- [1752825] PDF Output: When the input document contains multiple anchors with the same value, use the first anchor rather than the last. This follows browser behavior.\n\n- [1752141] FB2 Input: Add <div> to <blockquote> content to silence the useless epubcheck\n\n\n:: new recipes\n\n- Granta by Gary Arnold\n\n:: improved recipes\n\n- WirtschaftsWoche Online\n- Spektrum der Wissenschaft\n\n\n}}}\n\n\n{{{ 3.18.0 2018-02-23\n:: new features\n\n- [1738995] Browser viewer: Allow long tapping a word to look it up in a dictionary or search the internet for it.\n\n\n:: bug fixes\n\n- [1751148] Conversion: Handle the deprecated type attribute on <ol> tags.\n\n- Fix metadata download from amazon stopped working because of a website change\n\n- Fix re-ordering of columns causing split book splitter state not being restored on restart\n\n- [1749219] Fix errors when using strftime with unicode strings on non-UTF-8 Windows systems.\n\n- [1748739] Split book view: Fix vertical scroll position of the two views getting out of sync after doing some searches.\n\n- [1748713] Fix some edit widget appearing in the wrong place when editing in the right hand panel of the new split book list.\n\n- [1747887] Portable build: Fix cache directory not always being auto-created\n\n- Workaround for Qt 5.10 on Linux resetting the global font, preventing custom interface font settings from working\n\n\n:: improved recipes\n\n- New York Times\n- The Economist\n- Gosc\n- Various Uruguayan recipes\n\n\n}}}\n\n\n{{{ 3.17.0 2018-02-09\n:: new features\n\n- [major] Allow splitting the book list, by right clicking on the column headers and choosing 'Split the book list'\n\nThis is useful to 'lock' one or more columns in place so that they are always visible even when scrolling through other columns. Also, the split list has a separate right click menu which you can configure via Preferences->Toolbars and menus\n\n- Store temporary files used by the editor and viewer in the cache directory to try to prevent errors caused by 'file cleaner' programs deleting temporary files still in use\n\n\n:: bug fixes\n\n- [1746794] EPUB3 Input: Fix HTML covers and titlepages that are marked using the deprecated <guide> element not being recognized.\n\n- Bulk metadata edit: Fix regression in 3.13 that made it impossible to use the Force numbering checkbox for custom series\n\n- Conversion: Fix the valign attribute on <td> tags not being honored\n\n- [1477696] E-book viewer: Fix the 'Copy' keyboard shortcut/context menu action not working on some Windows systems\n\n- [1745812] E-book viewer: Make the semi-transparent background for viewing metadata a little more opaque.\n\n\n:: new recipes\n\n- Computing by Darko Miletic\n\n:: improved recipes\n\n- New York Times\n- Le Devoir\n- New Statesman\n- London Review of Books\n- New York Post\n- LWN Weekly\n- Associated Press\n\n\n}}}\n\n\n{{{ 3.16.0 2018-01-26\n:: new features\n\n- [major] Content server: Allow adding and deleting of books using the web interface\n\nUse the + icon in the top bar of the book list to add new books and the trash icon in the top bar of the book details page to a delete a book. Note that only authenticated users are allowed to perform these actions, so you have to setup user accounts for the server to use these features.\n\n- Allow removing the Close button from tabs in the Virtual library tab bar. Right click the tab bar and choose 'Lock tabs' to do that.\n\n- calibredb export: Add --progress option\n\n- Bulk metadata editing: Show progress bars to track progress of the operation\n\n- Content server: When downloading books from the server send both the ASCII and full Unicode file names. Browsers that support RFC 6266 can make use of the unicode file name.\n\n- Content server: Show a warning popup on Apple devices when the user tries to search with an expression containing smart quotes, since Apple devices now automatically replace quotes with smart quotes when typing.\n\n\n:: bug fixes\n\n- [1741098] DOCX Output: Fix links without anchors in the input document not being converted correctly.\n\n- calibredb: Fix a regression that broke reading of passwords from stdin\n\n- Edit book: Fix an error when saving files with filenames that cannot be encoded using the system codepage on Windows\n\n- Pasting metadata: Fix excluding title and authors not working\n\n\n:: new recipes\n\n- Revista Veintitres by Darko Miletic\n- Cronica by Darko Miletic\n\n:: improved recipes\n\n- The Galaxy's Edge\n- Orange County Register\n- Danas\n\n\n}}}\n\n\n{{{ 3.15.0 2018-01-05\n:: new features\n\n- Browser viewer: Allow customizing what information is displayed in the header and footer areas. Access Preferences from the viewer controls to change.\n\n- Add support for MTP devices on FreeBSD\n\n- ToC editor: Add more case changing operations to the right click menu\n\n- Content server: Redirect pre 2.x book URLs to new 3.x URLs via a JavaScript redirect\n\n- Content server: Allow opening entries in the book list in a new tab via middle click/right click\n\n- Add a tweak in Preferences->Tweaks to exclude some fields when using the Edit metadata->Copy/paste actions\n\n- [1738518] Linux: Allow using calibre-tray.png in the calibre resources folder to override the system tray icon.\n\n\n:: bug fixes\n\n- [1740333] Browser viewer: Fix goto next/previous section actions not working when the sections are in different individual HTML files.\n\n- [1741063] Edit book/Book polishing: When compressing images and the compressed image is larger thant he original, use the original image.\n\n- [1738385] PDF input: Fix conversion of multi-level PDF Outline causing duplicate entries in the Table of Contents.\n\n- Edit book: Fix incorrect EPUB 3 declarations being added to the OPF file when adding covers to an EPUB 2 book\n\n- Edit book: Fix backspace key un-indenting instead of deleting even when text is selected if the cursor is at the start of the line\n\n- [1740387] Tag browser: Fix position not being preserved when deleting books.\n\n- [1740460] Edit Book: Use the cache directory rather than the temp directory to store working files. Hopefully prevents temp file cleaners from destroying books.\n\n- EPUB input: Handle books that erroneously set the MIME type for font files to text/plain\n\n- [1740140] AZW3 input: Do not fail to process files with invalid internal flow references.\n\n- When updating plugins, do not show the dialog asking which toolbar to put the plugin, even if the user has removed the plugin for all toolbars.\n\n- [1738433] Content server: Fix using the Clear logs button preventing the server from restarting until calibre itself is restarted.\n\n\n:: improved recipes\n\n- LA Times\n- Popular Science\n- Nikkei News\n\n\n}}}\n\n\n{{{ 3.14.0 2017-12-15\n:: new features\n\n- User manual: A new quick reference primer for regular expression syntax https://manual.calibre-ebook.com/regexp_quick_reference.html\n\n- [1736312] Content server: Allow viewing the book metadata while reading a book. In the viewer controls, tap Goto and then Metadata to see the metadata.\n\n- Kobo driver: Add support for new firmware\n\n- Bulk metadata edit: Allow choosing the algorithm used for changing the case of titles\n\n- Get books: The koobe.pl store plugin has now become the Swiat Ebookow store plugin\n\n- Allow Copy/paste of book metadata from the main book list. Right click the Edit metadata button to access these actions.\n\n- [1735862] Allow disabling the confirmation popup when opening the containing folder of many books at once.\n\n\n:: bug fixes\n\n- Nook driver: Fix books sent via calibre not appearing under My Files on the Glowlight 3 Plus\n\n- Get Books: Update Mills & Boon, publio, empik, legimi, woblink and beam-ebooks.de plugins for website changes\n\n- [1737400] Book polishing: Do not scan book for font usage when subsetting if no embedded fonts are available.\n\n- [1737644] Content server: Open links in the comments section from the book details page in new windows.\n\n- Choose English as the user interface language when a locale related environment variable is set to the C locale\n\n- Linux installer: A nicer error message if the user tries to run the installer on an ARM machine\n\n\n:: new recipes\n\n- El Cohete a la luna by Darko Miletic\n\n:: improved recipes\n\n- Boston Globe\n- The Times\n- Economist\n\n\n}}}\n\n\n{{{ 3.13.0 2017-12-01\n:: new features\n\n- Driver for the new Bq Cervantes 4\n\n- [1733845] Edit book: Auto-generate links to existing stylesheets when adding a new HTML file.\n\n- [1730046] Add a button to easily clear server logs in Preferences->Sharing over the net->Show server logs.\n\n- [1730500] Catalog generation: Store the list of fields to be used in generating CSV/XML catalogs per library.\n\n- Bulk metadata edit: Make the custom series controls similar to the builtin series ones, with the same set of features\n\n- Edit book: Pre-select existing cover image (if any) in add cover dialog\n\n- [1733163] Make the Manage Saved searches dialog a little easier for new users.\n\n- Add a tweak to control behavior of Enter on the book list\n\n- [1732493] Content server: Fix random book button on book details page multiplying.\n\n- Edit Book: Bulk file rename dialog: Remember last used prefix for renaming files\n\n\n:: bug fixes\n\n- [1730245] Tag browser: Fix use of the tweak to control order of items in the Tag browser causing unexpected expansion of items after editing metadata.\n\n- [1734119] Content server: Improve rendering of tags/categories with long words on small screens.\n\n- [1733151] Fix first added Saved search not appearing in Tag browser until calibre restart.\n\n- When checking added books for duplicates, also check on the language field. So books with the same title/authors but different languages are not considered duplicates.\n\n- Edit Book: Spell check should not fail if there are non-HTML files in the spine\n\n- Conversion: Fix an error when using the embed_all_fonts option with certain books\n\n- Save to disk: Dont error out if the user deletes all formats to be saved.\n\n- Linux binary: Fix calibre not starting on systems where QT_QPA_PLATFORM is set to use wayland\n\n\n:: new recipes\n\n- Various Russian news source by bugmen00t\n\n:: improved recipes\n\n- The Economist\n- The Walrun Magazine\n- China Daily\n- Telepolis\n\n\n}}}\n\n\n{{{ 3.12.0 2017-11-09\n:: new features\n\n- [1731024] Driver for the new Nook Glowlight 3\n\n- Allow configuring the metadata fields displayed in the pop-up Book details window. To configure, simply click the 'Configure' link at the bottom of the window.\n\n- Wireless driver: Allow specifying extra file formats (unknown to calibre) to send\n\n\n:: bug fixes\n\n- Fix a regression that caused clicking the Clear button in the main search bar to not unapply the current search until the Enter key is pressed.\n\n- Linux: Fix a regression causing calibre to fail to start on systems with no DBUS session bus\n\n- Browser viewer: Fix body font being forced to sans-serif, overriding in book and user stylesheet settings\n\n- [1730166] Fix sending email failing of the computer's FQDN is set to a single period.\n\n\n:: improved recipes\n\n- New Yorker\n- Geopolityka\n\n\n}}}\n\n\n{{{ 3.11.1 2017-11-02\n:: new features\n\n- Kindle driver: Add support for the new Kindle Oasis\n\n- Browser viewer: Allow the user to specify a CSS style sheet to control the look and feel of the text\n\n- [1727827] Edit book spell check: In the list of suggestions show the original word in italics.\n\n- [1728601] Edit Book: When adding a new HTML file, add it after the file being currently edited instead of at the end.\n\n- [1728464] Column coloring: Add a contains rule type.\n\n- [1728251] Book details panel: Allow saving the displayed cover to disk via the right click context menu.\n\n\n:: bug fixes\n\n- Browser viewer: Fix font size and color scheme settings not being respected in the footnote popup\n\n- [1727599] DOCX Output: Fix comments/XML processing instructions in the middle of text causing text to be skipped.\n\n- Book details panel: Fix metadata field titles not being top aligned\n\n- Linux: Fix long startup delay on systems that do not have a desktop notification service running\n\n- 3.11.1 fixes a couple of regression in 3.11.0 that broke configuring Get books and creating catalogs\n\n\n:: improved recipes\n\n- Financial Times\n- computerworld.pl\n- Tulsa World\n- Science Daily\n- El Mundo\n\n\n}}}\n\n\n{{{ 3.10.0 2017-10-20\n:: new features\n\n- [major] Browser viewer: Show footnotes in a popup window. Similar to the popup footnote functionality in the calibre viewer.\n\n- [1722016] Content server: Add an option to control the timeout for making AJAX queries to the server.\n\n\n:: bug fixes\n\n- Fix regression that broke Preferences->Conversion->Common options in version 3.9\n\n- [1724405] Server: Fix adding expressions to the search always using AND instead of respecting the setting to use OR or AND.\n\n- Browser viewer: Fix a regression that caused loading more than one book in the same session or using the Back/forward browser buttons to require refreshing the browser.\n\n- Jobs list: Fix killing of job killing the wrong job if other jobs are completed while waiting for kill confirmation.\n\n- [1721864] DOCX Output: Fix preserve cover aspect ratio option still distorting the aspect ratio slightly.\n\n\n:: improved recipes\n\n- Lomza\n- Go Comics\n- Various Polish news sources\n\n\n}}}\n\n\n{{{ 3.9.0 2017-10-06\n:: new features\n\n- Remove the Connect to iTunes function since Apple has removed that functionality from iTunes\n\nNow you have to use one of the wireless connection methods to connect to an iPad/iPhone, as described at: https://manual.calibre-ebook.com/faq.html#how-do-i-use-calibre-with-my-ipad-iphone-ipod-touch\n\n- Kobo driver: Support for new firmware\n\n- [1721374] Allow changing the icons in yes/no columns via column icon rules.\n\n- Quickview panel: Add a context menu with a \"View\" action to the book table.\n\n- [1719059] Make the elapsed time display in the jobs dialog more human friendly.\n\n\n:: bug fixes\n\n- [1720715] EPUB Input: Fix styles in existing titlepage not being flattened when the titlepage is preserved during conversion.\n\n- [1720638] Fix conversion of grayscale JPEG-XR images not working\n\n- Update the douban metadata download plugin to match changes to the website\n\n- [1719026] DOCX Output: Fix the preserve cover aspect ratio option not visible\n\n\n:: improved recipes\n\n- Respekt Magazine\n- Associated Press\n- Heraldo de Aragon\n- El Correo\n- El Periodico de Aragon\n- A List Apart\n\n\n}}}\n\n\n{{{ 3.8.0 2017-09-22\n:: new features\n\n- [1717755] Bulk metadata edit dialog: Add an action to set metadata from e-book files.\n\n- [1715283] Server: Add an option to control the number of books displayed per page in the browser (Preferences->Sharing over the net->Advanced).\n\n- [1715800] DOCX Output: Add an option to preserve the cover aspect ratio in the output document.\n\n- [1714613] Book details panel: An option to control the layout of the panel in 'Narrow' mode (Preferences->Look & feel->Book details)\n\n- If the --start-in-tray option is specified, create a tray icon even if the configuration option to enable tray icons is off.\n\n\n:: bug fixes\n\n- Possible fix for issue with pinning calibre to taskbar on Windows. Note that as an unfortunate side-effect, you will have to unpin and re-pin calibre to the taskbar after updating.\n\n- [1717403] DOCX Output: Fix text immediately after a hidden tag not being included.\n\n- Fix a regression that broke fetching of metadata from Douban\n\n- [1717828] Cover grid: Fix Shift+arrow keys to manipulate selection not working.\n\n- [1713244] Editor snippets: Dont lose the last selected word when the user triggers a non-existent snippet.\n\n- [1716520] Book details popup window: Show the cover size in the bottom right corner if the option to show cover size in the Book details panel is set.\n\n- Linux: Fix regression that broke using calibre on some older VNC servers\n\n- [1715781] Browser viewer: Do not fail if the book contains JavaScript that has errors.\n\n- [1715648] Linux: Fix file open dialog on older KDE desktops not working correctly.\n\n- [1715347] Update Ozon.ru metadata plugin for website changes.\n\n- [1713716] LIT Input: Fix a buffer overflow caused by malformed LIT files.\n\n- [1713509] Conversion: Expand -epub-writing-mode to -webkit-writing-mode and writing-mode properties for maximum compatibility.\n\n- Linux: Fix SONY PRS-650 not being detected\n\n\n:: new recipes\n\n- Dunya Halleri by Sukru Alatas\n\n:: improved recipes\n\n- The Hindu\n- Le Monde\n- Wired Monthly\n- Cracked.com\n- Carta\n- FAZ.NET\n- Newsweek\n- Financial Times\n\n\n}}}\n\n\n{{{ 3.7.0 2017-08-25\n:: new features\n\n- Allow searching for books in a virtual library using a new 'vl:' prefix\n\n- [1708762] Server: Show file sizes in the tooltips for the Download buttons.\n\n- Server: Reduce the grid view minimum cover thumbnail size from 150px to 105px\n\n- Narrow layout: Fix wasted space to the left of the comments in the Book details panel\n\n\n:: bug fixes\n\n- Server: Fix downloading files via the list of formats not working when launching calibre from the home screen on iOS\n\n- Browser viewer: Fix controls help overlay not being displayed the first time the viewer is used\n\n- [1711776] MOBI Output: Fix a regression causing a crash for some input documents that specify text-transform or font-variant CSS properties.\n\n- [1709569] DOCX Input: Fix framed lists being rendered with the frame inside the bullets instead of outside it.\n\n- [1711224] Fix a regression that could cause conversion to crash when using the first-letter CSS pseudo selector and outputting to MOBI or DOCX.\n\n- [1709150] Conversion: Fix remove first image option not working for comic input with the disable comic processing option.\n\n- [1708760] Server: Fix tooltip not working in the cover grid view.\n\n- Workaround for Qt bug that prevented using the shift and ctrl keys with the touchscreen\n\n- Linux: fix native KDE file dialog not working on older systems\n\n- Linux: Fix KDE dialogs not supporting multiple file name filter groups\n\n- Fix libraries being sorted alphabetically by full path rather than just library name\n\n- Server: Allow hyphens in user names\n\n- calibredb.exe: Fix misleading error message when connecting to a server with incorrect username or password\n\n\n:: new recipes\n\n- Paris Review and Public Domain Review by fenuks by fenuks\n- IDPixel and The Insider by bugmen00t\n\n:: improved recipes\n\n- Asian review of Books\n- Financial Times\n- National Post\n- Go Comics\n\n\n}}}\n\n\n{{{ 3.6.0 2017-08-04\n:: new features\n\n- Linux: Use native file dialogs via zenity or kdialog, if available\n\n- [1706198] Copy to library: Add an action to show a dialog that allows for easy selection of libraries for copy/move. Useful when there are a large number of libraries to choose from.\n\n- Server: Allow deleting a downloaded book from the \"Browse all downloaded books\" screen\n\n\n:: bug fixes\n\n- Hopefully fix an issue with the book list jumping around when using the mouse on some computers\n\n- [1706491] E-book viewer: Change the default fonts on Windows to the Liberation font family. This matches the other platforms and avoids rendering issues with Times New Roman.\n\n- [1707430] DOCX Output: Convert images placed by themselves inside block tags as block images rather than inline images.\n\n- Fix a typo that broke the download of a few news sources\n\n- ebook-viewer.exe: Fix --continue-reading not working\n\n- [1707545] Fix non XML safe characters in feed descriptions causing news download to fail.\n\n- [1704498] Browser viewer: Fix books that contain broken links with unicode characters in their paths not working.\n\n- Quickview: Fix regression in previous release that broke the 'Lock quickview' control\n\n\n:: new recipes\n\n- Various Sardinian news by tzium\n\n:: improved recipes\n\n- Navy Times\n\n\n}}}\n\n\n{{{ 3.5.0 2017-07-28\n:: new features\n\n- Server: Add a new 'custom' mode for the book list, where you can specify exactly what metadata fields are displayed, via a template (see Preferences->Sharing over the net->Book list template)\n\n- Speed up HTML parsing by an order of magnitude, by switching from html5lib to html5-parser\n\n- Add support for touch screens to the main calibre book list. You can now flick to scroll, tap to select and double-tap to view books.\n\n- Server: Add an option to ban IP addresses if there are too many failed login attempts\n\n- calibre-debug: Change the --explode-book action to only create the exploded directory and not rebuild the file. Add a new --implode-book action to rebuild the file, separately.\n\n- Book details panel: Add Manage authors/series/tags/etc. to the menu when right clicking on the item\n\n- Kobo driver: Update for new firmware\n\n\n:: bug fixes\n\n- [1706814] PDF Output: Fix a regression in 2.82 that caused conversion of comics to PDF files to have successive images become smaller and smaller in some circumstances.\n\n- [1706484] PDF Output: Fix a regression in 2.83 that caused occasional blank pages at the end of chapters when using headers/footers.\n\n- Get books: Update store plugins for ebook.nl and the various amazon websites\n\n- [1706343] Edit book: Hide editor toolbars if they are empty.\n\n- Server: Fix failed login attempts using digest auth not being logged to the main log\n\n- Quickview: for non-text fields, sort on native values instead of text.\n\n- [1705916] Fix hidden search bar state not being restored on calibre restart.\n\n- [1704925] Fix option to not save cover separately when using Save to disk not working.\n\n- [1704912] Server: Fix an error on browsers that do not support blob storage in IndexedDB.\n\n- [1704778] Comic input: Fix a bug in the normalize image filter that caused a crash when converting comics that contain a page with only a single color.\n\n- [1704225] Edit Book: Handle non-normalized unicode characters in file names better\n\n\n:: improved recipes\n\n- Mediapart\n- New Yorker\n- Boston Globe\n- Private Eye\n\n\n}}}\n\n\n{{{ 3.4.0 2017-07-14\n:: new features\n\n- Edit book: Allow exporting all selected files to the computer from the 'File browser' by right clicking and choosing 'Export selected files'\n\n- Server: When returning to the search page, remember the last used state of the Tag browser\n\n- Template language: Allow the in_list() functions to return different values depending on what is found\n\n- Add a configurable shortcut to move the focus from Quickview to the book list\n\n\n:: bug fixes\n\n- [1703439] Conversion: When inserting the publication year in the metadata jacket, do so in the local time zone, so it matches what is displayed in the main calibre program.\n\n- [1703251] Server OPDS feeds: Fix incorrect counts in letter categories when there are lowercase names.\n\n- Edit book: Fix 'Show details' button not visible when doing 'Replace all' rather than 'Count all'\n\n- [1703284] Nook driver: Remove the % character from filenames sent to the Nook.\n\n- Fix calibre startup crash caused by Quickview when the applied virtual library is empty (has no books).\n\n\n:: improved recipes\n\n- FOX News\n- Private Eye\n\n\n}}}\n\n\n{{{ 3.3.0 2017-07-07\n:: new features\n\n- [1701833] Quickview panel: Allow opening and closing the panel via the Layout button in the bottom right corner.\n\n- [1702446] Book details panel: Allow right clicking on author names to search for books by the author on Amazon.\n\n- Edit book: When doing a Replace/Count all with multiple searches add a 'Show details' button on the result dialog that shows the individual counts for each search.\n\n- Comments editor: Add a button to easily insert separators (i.e. <hr> tags) when editing comments\n\n\n:: bug fixes\n\n- [1700004] Browser viewer: Fix back/forward buttons not working correctly when clicking on links that lead to different internal files in the book.\n\n- Server: Fix using 'Show more books' button and then changing list mode setting causing resulting book list to be incomplete\n\n- [1701704] Server: Fix changing sort/search in the /mobile view only working with the default library.\n\n- DOCX Input: Fix alt and title attributes for some images not being preserved\n\n- Amazon metadata download: Change the default source from Bing to Google as the Bing cache seems to be having trouble at the moment\n\n- ISBNDB metadata download: Ignore SSL errors when contacting isbndb.com as they seem to have no intention of fixing their broken SSL certificate\n\n- [1205637] Conversion: Fix heuristics processing incorrectly removing some <br> tags.\n\n- [1701138] Handle non-ASCII binary strings in the author_name_prefix/suffix tweaks.\n\n\n:: improved recipes\n\n- Politico\n- The Times\n- The Sunday Times Magazine\n\n\n}}}\n\n\n{{{ 3.2.1 2017-06-29\n:: new features\n\n- [1700631] Server: Allow logged in users to change their passwords by clicking the user icon in the top right corner of the home screen.\n\n- macOS: Add headless support: calibre command-line utilities can now run on macOS machines without a screen\n\n\n:: bug fixes\n\n- 3.2.1 has a fix for an issue that broke mouse wheel scrolling in the cover grid view\n\n- [1700109] Viewer: Fix incorrect display of pages in paged mode for books that override the box-sizing CSS property on the <body> element.\n\n- Server: Fix timeout errors when using SSL (particularly common when running the server on Windows)\n\n- Linux: Fix slow mouse wheel scrolling in Cover grid because of Qt bug\n\n- Blacklist the iOS Reader applications and Marvin XD plugins as they were preventing calibre from starting up and they have not worked in a long time anyway, since Apple restricted USB access to their iOS devices\n\n- Fix for in-program restart not working on some Windows 10 Home machines\n\n- [1699918] EPUB3 metadata: Fix handling of <dc:creator> elements with multiple roles.\n\n- Server: Disallow client initiated SSL renegotiation\n\n- [1701399] Windows: Try to prevent Windows from showing the annoying 'no disk in drive' error messages at calibre startup if one of the calibre libraries is on a removable disk that is missing from the system\n\n\n:: new recipes\n\n- Kitekinto by pofa\n\n:: improved recipes\n\n- The Australian\n- Wired Daily\n\n\n}}}\n\n\n{{{ 3.1.0 2017-06-23\n:: new features\n\n- [1698543] Edit metadata dialog: Allow right clicking the Paste ISBN button to instead paste an identifier with a different prefix.\n\n- Tag browser: Add an option to control the spacing between items\n\n- Add an option in Preferences->Look & feel to show individual layout buttons in the status bar, as was the case in calibre 2.x\n\n- [1698331] Edit metadata dialog: Add buttons to easily set/clear Yes/no columns\n\n- Support for RAR 5.0 format RAR and CBR files\n\n\n:: bug fixes\n\n- Version 3.1.1 fixes a regression in 3.1.0 that prevented the standalone calibre-server.exe from working on Windows and macOS\n\n- Content server: Fix various bugs in the SSL implementation causing aborted transfers when enabling SSL in the server\n\n- Content server: Fix connections not being closed after errors/timeouts on the server side\n\n- [1699435] Fix an error during startup on Windows systems where the home directory is in a character encoding different from the system encoding\n\n- Edit book: Fix escaping of text for regular expression searches unnecessarily escaping spaces\n\n- [1698943] Get Books: Search the entire catalog, including restricted books\n\n- Fix regression in previous release that caused the Tag browser view to jump around when renaming items\n\n- Splash screen: Fix text vertical overlap for some systems/font sizes\n\n- Server: --daemonize option should not be present on Windows and macOS as it does not work on those platforms\n\n- [1698545] macOS: Fix some keyboard shortcuts not working in calibre 3.0\n\n- Server interface: Fix error in the Browse all downloaded page when the book list mode is set to detailed list\n\n- Get books: Update amazon.fr and ebooks.com plugins for website changes\n\n- [1698489] Content server: Fix for home screen being empty if the path to the calibre library has a trailing slash.\n\n- [1698406] Content server: Fix the new server interface not working with the --url-prefix option when the trailing slash is omitted on the URL used in the browser.\n\n- Google images metadata download plugin: Fix for change in website causing no covers to be downloaded\n\n\n:: improved recipes\n\n- The Times\n- Wall Street Journal\n- New Yorker\n- BBC News\n\n\n}}}\n\n\n{{{ 3.0.0 2017-06-16\n:: new features\n\n- [major] For details on the major changes in calibre between 2.0 and 3.0, see https://calibre-ebook.com/new-in/twelve\n\n- [major] A completely re-written Content server with support for reading books in-browser on your phone/tablet. Also works in offline mode.\n\n- [major] Support for high resolution (Retina screens)\n\n- A new splash screen to celebrate the release of calibre 3\n\n- Minor tweaking of the main user interface to emphasize the core features\n\n\n:: bug fixes\n\n- Kobo driver: Fix for detection of some devices, with SD card not working on macOS\n\n- [1696596] Tag browser: Fix preservation of state when recounting and the visible categories have changed.\n\n- [1697764] CHM Input: Handle CHM files that have missing or empty root files.\n\n- Fix Page flips options box in viewer preferences bot being laid out properly\n\n- Fix initial down arrow in search box jumping two places\n\n- Fix editing the authors via the book list not respecting the tweak to control author name splitting\n\n- E-book viewer: Fix external links not working in the footnote popup panel\n\n- Fix a regression that broke command line completion in bash\n\n\n:: new recipes\n\n- RussiaFeed by Darko Miletic\n\n:: improved recipes\n\n- Economist\n- New York Times\n- Private Eye\n- The Hindu\n- Harper's Magazine\n- Lifehacker\n- The Daily Mail\n\n\n}}}\n\n\n{{{ 2.85.1 2017-05-12\n:: new features\n\n- Book details panel: Allow right click to search the internet for the current book\n\n- Book details panel: Allow right clicking on an author name to search the internet for works by that author\n\n- Book details panel: Clicking an author name now searches Goodreads by default instead of Wikipedia. Can be changed in Preferences->Interface->Look & feel->Book details\n\n- Kobo driver: Add support for the Kobo Aura H2O Edition 2\n\n\n:: bug fixes\n\n- [1689192] PDF output: Fix a regression in the previous release that broke conversion to PDF for some files\n\n- [1688690] DOCX output: Fix lengths specified in percentage of page size not being converted correctly\n\n- [1688690] DOCX output: Fix some hyperlinks not working in word because the bookmark name is longer than forty characters\n\n- [1688690] DOCX output: Prevent images from being larger than the page size\n\n- Comic input: Fix the number of colors control not allowing values less than 8\n\n- Kobo driver: Fix main memory and Card A being swapped on some systems\n\n- Kobo driver: Fix the ignore collections option being accidentally case-insensitive\n\n- [1689022] Preferences->Toolbars: Show an error message when the user tries to remove either the Preferences or Location Manager buttons instead of just silently adding them back\n\n- version 2.85.1 contains a fix for a regression that cause the Open with action to go missing from the right click menu of the Book details panel\n\n\n:: new recipes\n\n- Balkanist by Darko Miletic\n\n:: improved recipes\n\n- Private Eye\n\n\n}}}\n\n\n{{{ 2.84.0 2017-05-05\n:: new features\n\n- Kindle driver: Also delete book thumbnails from the system directory when deleting books\n\n- Conversion: Use the same regular expression engine as is used by the Edit book tool. The new engine has much better support for Unicode characters/character classes\n\n- Edit book: Add keyboard shortcuts to jump to opening and closing tags (Ctrl+{ and Ctrl+})\n\n- Add API to pre-process image data in recipes easily\n\n- fetch-ebook-metadata.exe: add option to use only a single metadata plugin\n\n\n:: bug fixes\n\n- E-book viewer: Fix a regression in the previous release that broke printing from inside the viewer\n\n- [1683188] DOCX output: When the input document contains paragraphs inside a block with a background color preserve the background color in the resulting paragraphs in the DOCX document\n\n- [1683188] DOCX output: Fix links to empty inline tags not working\n\n- [1683017] DOCX input: Fix links that point to anchors placed in empty paragraphs not working\n\n- [1687914] PDF output: Do not crash when unable to find page for link destination, instead use previous page\n\n- Edit book: Fix sorting by language in Report->Words not working\n\n- Edit book: Fix drag and drop of multiple items in the File Browser causing item order to be reversed\n\n- Get books: Update Baen store plugin for website changes\n\n- [1685819] Linux: When adding books from directories ignore files that have undecodable names\n\n- AZW3: Preserve the primary-writing-mode EXTH header field when round-tripping AZW3 files. Should fix editing/conversion of RTL AZW3 files causing page turning to become left-to-right on the Kindle\n\n- AZW3 output: Set the primary-writing-mode EXTH header when the input document has page-progression-direction set to RTL as this is apparently required on newer Kindle firmware for right-to-left page turning\n\n- [1676522] Fix a misbehaving wireless device connection can cause calibre to hang when opening the Connect/share menu\n\n\n:: new recipes\n\n- First Things by John Hutson\n\n:: improved recipes\n\n- Private Eye\n- Die Zeit\n- NYTimes Tech Beat\n\n\n}}}\n\n\n{{{ 2.83.0 2017-04-15\n:: new features\n\n- PDF output: Default to generating PDFs with a page size of letter instead of taking the page size from the output profile\n\nThis avoids user confusion/bug reports about PDF output having \"too large fonts\". There is a new option \"Use profile size\" to have the conversion use the output profile page size instead\n\n- PDF/DOCX output: Add separate, PDF/DOCX specific, page margin settings that override the common settings\n\nUseful because page margin settings for page oriented formats, such as PDF and DOCX are usually different than those for reflowable formats such as EPUB\n\n- Table of Contents tool: Add an undo button\n\n- Metadata jacket: Show custom rating columns using stars\n\n- Metadata jacket: Change formatting of series to match that used by the book details panel. Also allow access to the raw series name and number when customizing the jacket template\n\n- calibredb check_library: Vacuum database when running the check\n\n- Check Book: Add a check for empty identifier elements\n\n\n:: bug fixes\n\n- Edit book/Book polishing: When adding a cover to an EPUB 3.0 file set the SVG property if a SVG cover wrapper is used\n\n- [1675535] Refresh the book list when a User category is added/edited\n\n- [1677383] EPUB metadata: Fix deleting ISBN from EPUB file could result in an EPUB file without a package identifier if the ISBN was used as the package identifier\n\n- [1674088] Amazon metadata download: Fix title and author names being bold in the downloaded comments when using bing to get Amazon metadata\n\n- [1673983] PDF output: Fix a regression that broke PDF output for documents containing mathematics\n\n- E-book viewer: Fix a regression that broke the \"Clear recently read books\" action in the viewer\n\n\n:: new recipes\n\n- Jacobin magazine by Darko Miletic\n\n:: improved recipes\n\n- Go Comics\n- Die Zeit (subscription)\n- Pagina12\n- New York Magazine\n\n\n}}}\n\n\n{{{ 2.82.0 2017-03-18\n:: new features\n\n- Edit book: Saved searches: Add keyboard shortcut (Alt+Up/Down Arrow) to move selected searches\n\n\n:: bug fixes\n\n- [1673884] Fix a typo in the previous release that caused dynamically updated metadata source plugins to stop working\n\n- Catalog generation: Ignore tags with commas in them when generating genres\n\n- News download: Do not use Microsoft user agents as more and more websites are serving JPEG XR images to these browsers\n\n- Amazon metadata download: Fix spurious results when searching for books that are not present on Amazon using a search engine\n\n- [1672500] Get books: Fix free samples being detected as independent books when searching OPDS based stores such as Feedbooks\n\n- Edit book: Saved searches: Preserve selection when using arrows to move multiple items\n\n- Fix template formatter functions not being reloaded after a check library operation\n\n- Fix an error during shutdown caused by some library closed plugins\n\n\n:: new recipes\n\n- The Morning Paper by Darko Miletic\n\n:: improved recipes\n\n- The Economist\n- Telegraph UK\n\n\n}}}\n\n\n{{{ 2.81.0 2017-03-10\n:: new features\n\n- Amazon metadata download: Allow downloading Amazon metadata from multiple sources. You can now configure the Amazon plugin via Preferences->Metadata download to use either the Amazon servers, or various search engine caches to get the metadata. Should help with the recent CAPTCHA problems when downloading metadata from Amazon\n\n- Kobo driver: Add support for new firmware\n\n- [1667914] Edit book: Spell check dialog: Always add the original word as one of the spelling corrections, so that small edits to the word can be made easily\n\n- [1669514] Edit book: Saved searched Dialog: Allow re-arranging the Saved searches using drag and drop\n\n- Implement auto update of built-in metadata download plugins, just as for recipes and Get books plugins. Needed as the websites they get data from often change\n\n- Edit book: When inserting full screen images, use the actual image dimensions in the generated SVG code, when available\n\n- Linux installer: Check that the umask is suitable before running the installer. Should fix breakage on systems where users have changed the user umask but neglected to also alter it for sudo\n\n- Bulk metadata edit: Remove the control to delete specific formats as it is redundant. This functionality is already present by right clicking the Remove books button\n\n\n:: bug fixes\n\n- [1668246] TXT input: When detecting the encoding of txt files only use the first four kilobytes of text. Fixes excessively slow conversion of very large text files\n\n- Get books: Fix price not being displayed for books from Amazon dues to website changes\n\n- Get books: Update Google Books plugin for website changes\n\n- [1669497] E-book viewer: Fix slow startup when recently opened files are on a slow/malfunctioning networked filesystem\n\n- Google metadata download: Fix metadata not being found when the title of the book includes a sub-title\n\n- Improve downloading of covers from the Google Books metadata source\n\n- [1669530] News download: Fix a bug that could cause a crash when downloading an SVG image\n\n- Edit book: Fix a regression that caused pasting copied text from programs that generate both HTML and plain text when copying to paste the HTML in preference to the plain text\n\n\n:: improved recipes\n\n- tyzden\n- The Economist\n- Kansas City Star\n- NYTimes\n- The Spectator\n\n\n}}}\n\n\n{{{ 2.80.0 2017-02-24\n:: new features\n\n- [1666040] Add support for sideloading of KFX files created with the third-party KFX calibre plugin\n\n- Edit book: Allow drag and drop of image files, stylesheets and HTML files into the editor to insert the appropriate <img> and <link> tags and add the files to the book automatically\n\n- Kobo driver: Add support for updated firmware\n\n- [1664284] Edit book: Spell check: If there are no suggestions fill the suggested word box with the original word\n\n- [1664077] Viewer: add a shortcut (Ctrl+F11) to show/hide toolbars\n\n\n:: bug fixes\n\n- [1665835] PDF output: Fix courier font not being rendered when converting on Windows\n\n- E-mail delivery: Add a Message-ID header when sending emails. Reduces probability of mails sent from calibre being marked as spam\n\n- [1665964] Save to disk: Fix path shortening being applied to entire save template even when saving to singe directory\n\n- Get books: Update the Virualo and Publi store plugins for website changes\n\n- Viewer: Fix regression that caused slow opening of some books with missing font/CSS/image files\n\n- [1664076] Viewer: Pressing Ctrl+F in fullscreen mode should show the controls\n\n- [1664027] Edit book: Do not allow creating multiple new files whose names differ only by case\n\n- [1667357] Viewer: Use heuristics to try to detect comics encoded as fixed layout EPUBs to ensure they are displayed as intended\n\n\n:: new recipes\n\n- Various new and improved Belgian news sources by erkfuizfeuadjfjzefzfuzeff\n\n:: improved recipes\n\n- The Atlantic\n- The Financial Times\n\n\n}}}\n\n\n{{{ 2.79.1 2017-02-10\n:: new features\n\n- Windows: Make recently opened books show up in the jump lists for the standalone viewer and editor programs\n\n- macOS/Linux: Show an informational popup message when an Android device is plugged in that needs the user to tap Allow for the connection to work\n\n- Conversion: Log options that are different from the defaults separately, for easy reference\n\n\n:: bug fixes\n\n- 2.79.1 fixes a regression in 2.79.0 that broke the file open dialogs on Windows Vista\n\n- [1660699] Conversion: Fix regression that broke conversion of some EPUB files when using the 'Remove first image' option\n\n- Get books: Update Kobo plugin for website changes\n\n- Windows MTP driver: Fix error when enumerating device storage not being reported during debug device detection\n\n- [1661588] Tag browser: When dragging and dropping a book onto a series increment the series number\n\n- Fix crash when generating covers with Qt 5.8 on Linux\n\n- Fix Get books result list and jobs list not being populated on Qt 5.8\n\n- Fix importing rules in the coloring/icon rules dialog not enabling the Apply button\n\n\n:: improved recipes\n\n- Strange Horizons\n- Wall Street Journal\n- Bangkok Post\n- The Atlantic\n- NYTimes\n- LA Times\n- New Yorker\n- The Straits Times\n\n\n}}}\n\n\n{{{ 2.78.0 2017-01-27\n:: new features\n\n- View button: Add an action to the right click menu that always opens the book with the calibre viewer, regardless of the preferences\n\n- Kobo driver: Update to support the newest firmware from Kobo\n\n- [1656573] E-book viewer: Allow opening a specific item from the Table of Contents via the --open-at command line parameter\n\n- Amazon metadata download: Add support for downloading from Amazon.ca\n\n\n:: bug fixes\n\n- Edit book: Do not condense CSS rules when saving AZW3 files regardless of the value of Preferences->Common options->Look & feel->Expand CSS\n\n- [1658744] EPUB output: Fix a duplicate id created in rare circumstances when splitting on page breaks\n\n- [1659142] DOCX input: Fix error when converting documents that have images pointing to web resources\n\n- [1658578] E-book viewer: Fix a regression that caused an increase in load times when loading the individual HTML files inside an EPUB book\n\n- [1658386] Fix setting a similar books search to use the formats field in Preferences->Searching resulting in an error\n\n- Kobo driver: Fix incorrect cover size being uploaded to the Glo HD\n\n- [1657717] E-book viewer: Fix 'View image' right click menu action not available for SVG files included via <img> tags\n\n- [1656833] HTML input: Remove the # character from input filenames, for maximum compatibility\n\n- [1656319] Edit book: Fix Spell check treating the unicode hyphen (U+2010) differently from the normal hyphen (U+002d)\n\n\n:: new recipes\n\n- The Sunday Times Magazine by Bobby Steel\n\n:: improved recipes\n\n- FOX News\n- Oriental Daily\n- AM730\n- The Times\n- NYTimes\n- Mediapart\n- Echo Online\n- kath.net\n- GoComics\n- The Hindu\n\n\n}}}\n\n\n{{{ 2.77.0 2017-01-13\n:: bug fixes\n\n- [1655309] Conversion: Fix changing the cover image not updating references to the old cover image inside SVG wrappers\n\n- E-book viewer: Fix a regression that caused clicking links in the footnote popup window to stop working\n\n- Edit book: Fix importing DOCX file as new book not setting the version attribute in the OPF\n\n- Kindle driver: Fix some newer KFX books not being recognized on e-ink Kindle devices, because of a change in how metadata is stored in the KFX format\n\n- [1654463] DOCX output: Fix missing <td> tag causing conversion to fail\n\n- Edit book: Fix group references causing errors when used in replace string in the normal mode search and replace\n\n- [1653977] Edit book: Fix Check Book reporting a spurious mime/type mismatch error after replacing a file with a file having a different mime type\n\n- Amazon metadata download: Fix detection of series not working for some books due to changes in the Amazon website\n\n- Fix Nook HD+ not being detected on Windows\n\n- [1653311] Edit book: Ensure keyboard focus stays with Files Browser when renaming files\n\n\n:: improved recipes\n\n- kath.net\n- publico.pt\n- Telepolis\n- The Times\n- Helsingin Sanomat\n\n\n}}}\n\n\n{{{ 2.76.0 2016-12-30\n:: bug fixes\n\n- E-book viewer: Fix a regression in the previous release that broke the viewer on systems where the temporary directory is a symlink (common on macOS)\n\n- EPUB input: Fix EPUB2 files that specify a cover image via a <meta> tag but not in the <guide> not getting a cover when converted to PDF\n\n- [1652825] PDF output: Fix conversion failure when input document contains first page with no renderable content\n\n- [1652621] Editor: Fix incorrect handling of some regular expressions in the Search tool\n\n- [1652694] macOS: Fix dynamically generated context menus, such as the sort by menu not working\n\n- [1652685] Fix a crash when running with assertions turned on in Qt\n\n- [1652960] Edit book: Reports tool: Fix an error when right clicking on items in the Links view\n\n\n:: improved recipes\n\n- Clarin\n- La Prensa\n- Telam\n- iProfesional\n- Buenos Aires Economico\n\n\n}}}\n\n\n{{{ 2.75.1 2016-12-23\n:: new features\n\n- Happy Holidays everyone!\n\n- Add support for new Kobo firmware version 4.2\n\n- [1649371] Allow using amazon_in, amazon_au, amazon_com identifiers in the Book details panel\n\n\n:: bug fixes\n\n- Version 2.75.1 has fixes for a regression in 2.75.0 that broke the Live CSS feature in the editor and caused some minor problems in the viewer\n\n- Kobo driver: Fix incorrectly sized covers being sent to some Kobo devices\n\n- [1651728] E-book viewer: Prevent javascript in the book from accessing files on the computer using XMLHttpRequest\n\n- [1651160] Edit book: Fix the 'Search ignoring markup tool' not ignoring comments/processing instructions, etc\n\n- [1650930] CSS Transforms: Fix 'is'/'is not' rules not matching 'currentColor'\n\n- [1651034] E-book viewer: Make the swipe up gesture move to next section instead of previous section\n\n- [1650932] Edit book: Allow the Spell check dialog and the search panel to be made much narrower than before\n\n- [1650924] Edit book: Fix customize template window not freely resizable on Windows\n\n- [1649383] Edit book: Fix newlines not being matched by the 'Search ignoring markup' tool\n\n- [1649357] EPUB input: Fix incorrect handling of HTML files that are in a folder above the OPF file\n\n\n:: improved recipes\n\n- Ambito Financiero\n- Die Zeit (subscription)\n- Irish Times\n- Guardian\n- Independent\n- Ambito.com\n\n\n}}}\n\n\n{{{ 2.74.0 2016-12-09\n:: new features\n\n- Amazon metadata download: Allow downloading from Amazon.cn as well. To use go to Preferences->Metadata download and customize the Amazon plugin to download from Amazon.cn\n\n- Edit book: Allow disabling the 'Files already arranged into folders' message popup\n\n\n:: bug fixes\n\n- [1647448] Edit book: Fix selected text not being fully highlighted when using the solarized color schemes\n\n- calibredb: Fix CSV output for the check_library command not being properly escaped\n\n- Fix subsetting of fonts whose names start with 'and' not working\n\n- [1644876] Fix a regression in 2.72 that broke the --start-in-tray command line option\n\n- Fix third party plugins that create dynamic context menus not working in Linux\n\n- [1646086] DOCX input: Fix images wider than 50% of the page width being incorrectly right aligned even when anchored to the center of the page\n\n- [1646239] Catalog generation: Ensure all citation keys in BiBTeX catalogs have only ASCII characters\n\n- Get books: Update ebookpoint and legimi plugins for website changes\n\n- [1644702] EPUB3 metadata: Ensure updating metadata never produces empty dc:contributor elements\n\n- [1644912] DOCX output: Fix an error when converting tables with spanning cells\n\n- Nicer error message if the user tries to import data while the Content server is running\n\n\n:: improved recipes\n\n- Frontline\n- Korea Herald\n- Pagina 12\n- Edge Conversations\n- Kitsapun\n- Mobile Nations\n- NME\n- Security Watch\n- Sign on SD\n- Star Advertiser\n- tyzden\n\n\n}}}\n\n\n{{{ 2.73.0 2016-11-25\n:: new features\n\n- [1643313] Add a preference in Preferences->Look & feel to hide the row numbers in the main book list\n\n- [1643314] Allow Export/import of column coloring and icon rules\n\n- [1643232] Edit book: Allow bulk changing of file extension for selected files by right clicking on the selected files in the file browser\n\n- Edit book: Check Book: Add a check for new documents that contain no ToC in EPUB 3 books\n\n- Edit book: Check Book: Add a test to check if the embedded fonts in the book have their embedding permissions enabled\n\n\n:: bug fixes\n\n- Pressing the up arrow in an date edit with undefined value should jump to the current date rather than Feb 101\n\n- [1643247] EPUB input: When an invalid nav based ToC is used in an EPUB 3.0 document that also has a fallback NCX ToC, use the fallback ToC\n\n- [1643228] Fix a regression that broke the icon theme creation tool in the previous release\n\n- Fix insert character dialog not reflowing characters on resize. Also only allow the Search bar in the dialog to get input focus\n\n\n:: improved recipes\n\n- Dilbert\n- The Hindu\n\n\n}}}\n\n\n{{{ 2.72.0 2016-11-18\n:: new features\n\n- Font embedding: Implement automatic embedding for fonts with non-normal stretch and weight values such as Condensed/Light/Extra Bold fonts\n\n- [1641458] Allow aborting an in-progress Copy-to-library action\n\n- Edit book: When adding a font file via File->New automatically generate the appropriate @font-face rule and copy it to the clipboard so that it can be easily inserted into the appropriate CSS files\n\n- Edit book: Check Book: Add a warning for links with the : character in them on Windows\n\n- Conversion: When converting Markdown documents recognize basic metadata in the Markdown document formatted as per the Markdown metadata extension\n\n- Edit book: Spell check dialog: Various small usability enhancements -- preserve position in word list on refresh, ensure that new current word is highlighted after changing a word, etc\n\n- [1639024] Edit book: Flash the taskbar icon after beautify all files completes\n\n\n:: bug fixes\n\n- [1641278] Fix creating an empty library with the same structure as current library not creating custom columns on the first restart after creating the new custom columns\n\n- [1641202] Edit book: Don't fail to rename files on Windows if there is a link containing the colon character\n\n- PDF output: Don't fail if one of the embedded fonts has no names\n\n- [1639448] Edit book: When downloading external resources, ensure the generated filenames are valid\n\n- [1637353] Windows: Fix file extension not being added automatically when missing in save dialogs\n\n- [1638158] Fix calibre not opening full-screen on Windows tablet mode\n\n- Edit book: Fix check external links tool not detecting changes that have not yet been saved\n\n- [1638759] Generate covers: Fix & in the series causing incorrect formatting of series number\n\n- Edit book: Fix a regression in the last release that broke the Arrange into folders tool when arranging into sub-folders of a folder that does not exist\n\n\n:: improved recipes\n\n- Mediapart\n\n\n}}}\n\n\n{{{ 2.71.0 2016-10-31\n:: new features\n\n- [major] calibre's tenth birthday edition!\n\ncalibre was first released (as libprs500) ten years ago today. A big thank you to the entire calibre community -- users, contributors and developers -- for keeping it humming for so long\n\n- [major] A new set of icons for calibre\n\nTo celebrate calibre turning ten, calibre now has a brand new set of icons designed from scratch. Note that you can choose between many different icon sets for calibre, including the original icons, from Preferences->Interface->Look & feel->Choose icon theme\n\n- A short video commemorating the occasion: https://youtu.be/Q95NfFKc0v8\n\n- [1633477] Book details panel: Add a copy all action to the right click menu\n\n\n:: bug fixes\n\n- Get books: Update e-bookpoint and woblink store plugins for website changes\n\n- Edit book: When un-marking text auto-change the 'search where' location to what it was before text was marked rather than 'current file'\n\n- [1637021] Automatic adding: Show an error if the user specifies a folder whose name starts with a dot or underscore\n\n- [1635999] macOS: Fix a regression that caused incorrect display of the icon in pop-up message boxes when using a retina display\n\n- [1635909] Kobo driver: Fix an error when migrating very old settings\n\n- Kobo driver: Fix a regression that broke handling of reading status for devices running old 1.9x versions of the Kobo firmware\n\n- [1633875] Edit book: When using the arrange into folders tool do not change the case of already existing folders in the book\n\n\n:: improved recipes\n\n- LWN Weekly\n- Financial Times\n- MIT Technology Review\n- The Hindu\n\n\n}}}\n\n\n{{{ 2.70.0 2016-10-14\n:: new features\n\n- [1620058] Edit book: Add a tool to download external resources (images/stylesheets/etc.) that are not included in the book\n\n- Make custom columns available in the Alter Tag browser->Manage categories sub menu\n\n\n:: bug fixes\n\n- Conversion: Fix incorrect resolution of references to resources in HTML files that exist in a folder level above the OPF file. This could lead to styles being incorrectly processed in such HTML files\n\n- Get books: Update the Amazon store plugins for website changes\n\n- Update Ozon.ru metadata download plugin to fix searching for books by ISBN\n\n- [1629294] Edit book: Fix a regression in the previous release that broke the preferences dialog for changing color schemes\n\n- [1632897] Edit book: Better error message when user tries to open a Check Book item that refers to a file that has been deleted since the last time Check Book was run\n\n\n:: new recipes\n\n- Various Danish news sources by Allan Simonsen\n\n:: improved recipes\n\n- Wired\n- Ambito\n- InfoWorld\n- Instapaper\n- San Jose Mercury News\n- South China Morning Post\n- Journal Gazette\n- JPost\n- Las Vegas Review\n- Marietta Daily Journal\n- DziennikBaltycki\n- biweekly\n- dwutygodnik\n- GRY Online\n- ESO\n- TVN24\n- And many more, see commit logs for details\n\n\n}}}\n\n\n{{{ 2.69.0 2016-09-30\n:: new features\n\n- Kobo driver: Support for firmware version 4.1 and Overdrive books on the device\n\n- Edit book: Highlight class names inside HTML tags\n\n- Bulk metadata edit dialog: Allow Search & replace to work for ratings columns as well\n\n\n:: bug fixes\n\n- Fix downloading of metadata from Ozon.ru, which broke due to website changes\n\n- Kobo driver: Fix delete of empty collections\n\n- Kobo driver: Fix book previews being sometimes detected as actual books\n\n- Cover Browser: Fix setting an empty template for the title causes an error\n\n- [1627487] Edit book: On Windows do not trigger shortcuts when using the right Alt (AltGr) key. This allows it to be used for entering special characters instead\n\n- [1627482] Edit book: Auto-add file extension when using the Save a copy dialog if it is missing\n\n- Linux: Fix calibre not launching when used with some old VNC server implementations\n\n- Windows: Run library restore in a separate process as on some Windows machines, running it in the main process causes something in the system to lock the db file\n\n- Fix some news downloads in east asian languages not working because the truncation of article descriptions could cause invalid UTF-16 bytes in the string\n\n- Fix incorrect timezone when editing custom date columns directly in the book list\n\n\n:: new recipes\n\n- Various Danish news sources by Allan Simonsen\n\n:: improved recipes\n\n- New York Times\n- Independent\n- El tribuno de Salta\n\n\n}}}\n\n\n{{{ 2.68.0 2016-09-16\n:: new features\n\n- Add a tweak to Preferences->Tweaks to control the list of servers calibre considers public email servers\n\n\n:: bug fixes\n\n- [1621642] Content server: Fix a regression in the previous release that broke the OPDS feeds for libraries with no custom columns\n\n- [1623593] Edit metadata dialog: Fix auto-generation/validation of author sort values not working when only changing case of the author name\n\n- [1622131] A nicer error message when calibre fails to create the temporary directory\n\n- Fix dates being set to empty in bulk search/replace not becoming UNDEFINED\n\n- [1622757] Edit metadata dialog: Make pressing up on an undefined numeric field set the value to zero instead of -99999\n\n- [1622416] Conversion: Handle corrupted JPEG files that have valid headers but invalid data\n\n- [1622261] Conversion: Improve detection of input documents that use uppercase tag/attribute names\n\n- Fix regression in previous release that caused incorrect display of ratings in the side panel of the metadata download dialog\n\n- Get books: Update publio and virtualo store plugins for website changes\n\n- Fix reading metadata from PDF files broken by poppler >= 0.47.0\n\n- [1623397] Change the application name set in Qt to calibre from libprs500\n\n\n:: improved recipes\n\n- Respekt Magazine\n- Punto Informatico\n- El universal\n\n\n}}}\n\n\n{{{ 2.67.0 2016-09-08\n:: new features\n\n- Allow creating custom rating columns that support half-stars via Preferences->Add your own columns\n\n- Tag browser: Add an option in Preferences->Interface->Look & feel->Tag browser to turn off the display of counts in the Tag browser\n\n- Tag browser: Show the book counts on the right edge of the Tag browser\n\n- Cover Browser: Allow any metadata field to be used as the sub-title, not just the rating\n\n- Edit book: A new tool to sort the rules in a CSS stylesheet. To use it add it to the toolbar for CSS editors\n\n- Edit book: The Remove Unused CSS tool now has an option to also merge CSS rules that have identical selectors\n\n- [1620198] Add a tweak in Preferences->Tweaks to exclude some images types from being treated a covers when dropped onto the Book details panel\n\n- [1619993] Allow reading more image formats as covers (All images will be converted to JPEG when stored)\n\n- Content server: OPDS feeds: Change the value of <updated> for entries in the acquisition feed to be the last modified date for the book. Also make the size and last modified timestamp available as attributes in the acquisition links. Useful for integration with third party applications\n\n- Kobo driver: Add support for firmware version 4 available on the new Kobo Aura One\n\n\n:: bug fixes\n\n- [1620581] ODT input: Add support for continued lists\n\n- Edit book: Fix high-dpi rendering of emblems in the File browser\n\n- Fix regression in previous release that caused wide column icons to be scaled incorrectly\n\n- Metadata download dialog: Fix HTTPS links in the download summary not working\n\n- [1619662] DOCX output: Handle nested display:table tags with no rows\n\n- PDF output: Fix OpenType fonts with CFF font data not embeddable on Windows\n\n\n:: improved recipes\n\n- Ars Technica\n\n\n}}}\n\n\n{{{ 2.66.0 2016-09-02\n:: new features\n\n- A simplified calibre logo\n\n- Edit book: Allow restricting a search to the files currently open for editing\n\n- [1618962] Driver for the PocketBook Touch HD\n\n- Kobo driver: Add support for firmware version 3.20\n\n\n:: bug fixes\n\n- [1617254] DOCX input: Fix right-to-left alignment not working for footnotes\n\n- [1618528] Sending email: Allow setting up a mail relay that uses encryption without a username and password\n\n- [1619056] Linux: Fix calibre not working when the username is non-ASCII\n\n- [1618869] DOCX output: Ignore invalid text-indent values in the input document instead of erroring out\n\n- Portable installer: Auto-create the installation folder specified on the command line if it does not exist\n\n- Kobo driver: Fix the ignore collections in option not working\n\n- More user interface fixes for high DPI screens\n\n- DOCX input: Fix a regression in the previous release that could cause invalid values to be output for the text-align CSS property\n\n\n:: new recipes\n\n- Contropiano by michele\n\n\n}}}\n\n\n{{{ 2.65.1 2016-08-26\n:: new features\n\n- Driver for Kobo Aura One and Aura Edition 2\n\n- Kobo driver: Add an option to ignore some collections on the device. The specified collections will not be touched by the driver\n\n- Add an option in Preferences->Searching to make searching case-sensitive\n\n- [1569771] DOCX input: Add support for right-to-left text/tables\n\n\n:: bug fixes\n\n- Fix some icons/images in the user interface looking blurred in environments with High DPI scaling enabled, such as macOS retina screens\n\n- [1616482] DOCX input: Fix images that have the # character in their filenames not being converted correctly\n\n- ToC wizard: Fix generating ToC from headings/xpath yielding unexpected results when tags are present out of sequence\n\n- Edit book: Fix drag and drop of text replacing non-breaking spaces with normal spaces\n\n- [1615040] E-book viewer: Fix duplicate names in hyphenation dictionary chooser\n\n- [1612640] Fix a regression in the previous release that caused the completion popups for some custom column types in the book list to stop working\n\n- Version 2.65.1 contains a quick-fix for a typo in 2.65.0 that caused calibre to crash when a device is connected and the cover grid is enabled\n\n\n:: improved recipes\n\n- Le Scienze\n- New Yorker\n\n\n}}}\n\n\n{{{ 2.64.0 2016-08-12\n:: new features\n\n- Custom columns: Add a new 'Short text' column type that behaves like the builtin title column\n\nMore generally, you can now customize Comments-like columns, controlling how their headings are displayed in the Book details panel and also specifying what kind of data they contain (plain text, HTML or even Markdown)\n\n- Edit book: Function mode: Allow appending text to the end of the marked text when running function mode Search/replace on marked text\n\n- PDF output: Add a new variable _TOP_LEVEL_SECTION_ for use in header/footer templates that resolves to the current top-most section in the Table of Contents\n\n- Linux/macOS: Shutdown gracefully on receiving the interrupt or terminate Unix signals\n\n\n:: bug fixes\n\n- PDF output: Fix a regression that caused the last page of a chapter to sometimes be dropped from the output\n\n- [1610539] Do not show an error if the user tries to quit calibre while editing a cell in the book list. Instead, just silently abort the edit\n\n- [1608458] E-book viewer: Fix 0px margins and percentage margins not being respected when the option to override book margins is turned off\n\n- [1605594] Book details: Do not show the 'Copy link' context menu item unless there is an actual link at the cursor location\n\n- Get books: Update store plugin for nexto\n\n\n:: new recipes\n\n- Data News by oCkz7bJ_\n\n:: improved recipes\n\n- Private Eye\n- Prospect Magazine\n- De Standaard\n- Jot Down\n- Weblogs SL\n- Hola\n- El Correo\n\n\n}}}\n\n\n{{{ 2.63.0 2016-07-22\n:: new features\n\n- News download: Allow controlling which periodicals are automatically sent to a specific email in Preferences->Sharing by email\n\n- Edit book: Update regex engine to support Unicode 9.0\n\n\n:: bug fixes\n\n- [1604956] Edit metadata dialog: Fix pasting ISBN from clipboard not stripping garbage characters after a valid ISBN\n\n- Edit book: Also refresh the Preview and Live CSS panels after performing any action that changes files other than the currently displayed file\n\n- E-book viewer: Fix the show metadata button not reading EPUB 3 metadata\n\n- MOBI output: Fix <hr> not being rendered as full-width in old MOBI files\n\n- [1602908] CSV catalog output: Fix incorrect formatting of is_multiple custom columns\n\n- CSV catalog output: Separate multiple authors with & instead of comma. Fixes problems when the author name contains commas\n\n- [1602227] EPUB 3 metadata: Fix updating metadata in EPUB 3 files not overwriting existing authors\n\n- Fix duplicate detection when adding books not working when the book title has leading or trailing whitespace\n\n- Book details panel: Pick the color used for links from the current system color theme\n\n- Windows: Fix file selection dialogs blurry on HiDPI monitors\n\n\n:: improved recipes\n\n- Gosc Niedzielny\n- Nikkei Free\n- Financial Times (UK)\n- Foreign Affairs\n- Berlin Policy Journal\n- Gazet van Antwerpen\n- Hurriyet\n\n\n}}}\n\n\n{{{ 2.62.0 2016-07-08\n:: new features\n\n- EPUB metadata: Support for reading and writing EPUB 3 specific metadata. Now when processing EPUB 3 files, calibre will generate/use EPUB 3 specific metadata constructs when available, for example for series\n\n- [1599970] Recognize the newest Kindle model, that started shipping today\n\n\n:: bug fixes\n\n- Tag mapper: Allow specifying a space as the split character when creating a split tags rule\n\n- Tag mapper: Fix upper case characters not working in 'contains' rules\n\n- [1598465] Smarten punctuation: Fix double dashes and triple dots being smartened even inside attribute values\n\n- [1598719] HTML input: Sanitize semi-colons from HTML filenames as they can cause problems with other EPUB consuming software\n\n- EPUB input: Speed up reading of the book spine from the OPF file for books with a very large number of entries in the spine\n\n- [1598518] Edit book: Reports: Characters: Fix sorting by count and name not working\n\n- [1598017] Fix Kobo Touch configuration migration not working for older settings\n\n\n:: new recipes\n\n- Various Russian news sources by bugmen00t\n\n:: improved recipes\n\n- The Skeptic\n\n\n}}}\n\n\n{{{ 2.61.0 2016-07-01\n:: new features\n\n- [1596952 1595924] Driver for FNAC (re-branded Bq) with new firmware\n\n- [1596048] Edit book: Check Book: Add an auto fix action to remove all links to a missing resource (such as a deleted stylesheet) automatically\n\n\n:: bug fixes\n\n- [1596053] Edit book: Check Book: Fix incorrect handling of font family names with spaces in them that are not quoted\n\n- E-book viewer: Fix Qt 5.7 breaking mouse wheel scrolling\n\n- [1596801] Kobo driver: Fix a regression in the last release that broke connecting to older devices\n\n- Get books: Fix detection of book formats broken for the Legimi plugin by a website change\n\n- Update builtin metadata source Ozon.ru to handle website changes\n\n- Font subsetting: Fix incorrect handling of fonts whose names are included in font rules without quotes\n\n- Fix E-book viewer broken when running the binary calibre release on systems with very old versions of glibc\n\n\n:: improved recipes\n\n- derStandard\n- Kurier\n- Kliene Zeitung\n\n\n}}}\n\n\n{{{ 2.60.0 2016-06-24\n:: new features\n\n- [1594089] Edit metadata: In the drop down list for languages, show the five most recently used languages first\n\n- Edit book: Check Book: Add a check for missing navigation documents in EPUB 3 books\n\n- Kobo driver: Improved configuration dialog for the Kobo Touch device driver\n\n- [1594100] Copy to Library: Do not abort the copy process if only some books fail to copy, instead report which books failed and copy the rest\n\n- News download: Make all relative links (those starting with /) absolute. Useful when reading on a device that supports web browsing\n\n- EPUB metadata: Add an option to disable adding of cover images to EPUB files that declare no cover image in their metadata (Preferences->Plugins->Customize the Set EPUB metadata plugin)\n\n\n:: bug fixes\n\n- ToC Editor: Fix ToC detection in EPUB 3 files with only an NCX and no nav not working\n\n- [1595307] E-book viewer: In paged mode, when the window is toggled between full screen and window, repeatedly, preserve the position more accurately\n\n- [1594657] E-book viewer: Fix incorrect page turning when multiple pages are displayed on screen for books that wrap all their content in a single 100% height tag\n\n- Fix a regression that broke scheduling a new news download in timezones west of GMT\n\n- Edit book: Fix undocked Windows not resizable on macOS\n\n- [1594098] Fix a regression in 2.57 that broke rescaling of images to fit the output profile screen size during conversion\n\n- Fix for file dialogs not working on Windows when non-ASCII environment variables are present\n\n- [1593632] HTML input: Fix error when converting HTML file with URL encoded filename\n\n\n:: improved recipes\n\n- Handelsblatt\n- New York Times Book Review\n- Antyweb\n\n\n}}}\n\n\n{{{ 2.59.0 2016-06-17\n:: new features\n\n- Amazon metadata download: Download the series information when available from Amazon.com\n\n- Amazon metadata download: Recognize common patterns of embedding the series name after the title and remove it automatically\n\n- Edit book: Add support for EPUB 3 to the Table of Contents tool. Now when editing EPUB 3 files using the tool will automatically generate both the EPUB 3 navigation document and the NCX Table of Contents for backwards compatibility\n\n- EPUB input: Implement reading of Table of Contents from EPUB 3 files that do not specify a fallback NCX ToC\n\n- EPUB metadata: When setting a cover image for an EPUB file that has no metadata cover image defined, add the new cover image as a pure metadata cover instead of aborting\n\n\n:: bug fixes\n\n- [1592414] Fix crash on exit if any plugins have loaded code that raises exceptions during shutdown\n\n- [1593027] Copy to library: Speed up checking for duplicates when copying multiple books to a large library\n\n- [1590653] Get books: Update Smashwords plugin for website changes\n\n- [1588778] Edit book: Fix a bug in the new text search facility that could cause searches to fail when searching from the current cursor position instead of the top of the file\n\n- Bulk conversion dialog: Fix page margin settings being ignored when converting to DOCX\n\n- Make the default shortcut for remove books Backspace on macOS since many mac keyboards have no delete key and the backspace key is labeled as delete\n\n- Edit book: Check Book: Do not warn if a cover image is not referenced in the text\n\n- E-book viewer: Fix a bug that could cause incorrect rendering of chapter titles in some rare circumstances\n\n- Windows console output: Handle consoles with non black and white color scheme correctly\n\n- Fix a regression in 2.57 that caused auto-removal of borders from covers to become much less proficient at detecting borders\n\n- Fix a regression in 2.57 that broke gray scaling of images\n\n\n:: improved recipes\n\n- Technology Review (DE)\n\n\n}}}\n\n\n{{{ 2.58.0 2016-06-02\n:: new features\n\n- Edit book: A text search tool to conveniently search for text even if it crosses multiple HTML tags (Search->Search ignoring HTML markup)\n\n- macOS: Allow drag and drop of file onto viewer dock icon to view file\n\n\n:: bug fixes\n\n- [1534936] Workaround for incompatibility between Qt 5.5+ and Ubuntu that caused the context menu for the book list to flicker\n\n- Windows: Workaround for explorer shell extensions on windows that write to stdout\n\n- Edit book: When jumping to next occurrence of a word, take language into account\n\n- Edit book: Fix import of words into user dictionary not working\n\n- [1584470] Fix use of non-ASCII characters in identifiers causing an error when identifier rules are used\n\n- Fix a regression that caused the paste from clipboard button to paste two times in the Add books from ISBN dialog\n\n- Fix for incompatibility with PyQt 5.6\n\n\n:: improved recipes\n\n- Denver Post\n- Financial Times\n- bild.de\n\n\n}}}\n\n\n{{{ 2.57.1 2016-05-20\n:: new features\n\n- Driver for the Bq Cervantes 3\n\n- A new \"Ornamental\" cover design for the \"Generate cover\" feature\n\n- Windows: Use a helper process that does not load any calibre DLLs to display file open/save dialogs. This should fix most crashes caused by poorly designed Windows shell extensions\n\n- [1578692] Allow pressing Alt+O as a shortcut for click the OK button in the Add from ISBN dialog\n\n- Remove the calibre dependency on ImageMagick -- reduces calibre install size by ~ 15MB\n\n- Edit book: Add a new image filter: Normalize -- to improve the contrast in images\n\n- Edit book: Add a filter to make images look like oil paintings\n\n- Use 'Not rated' for zero stars in all rating spin boxes\n\n\n:: bug fixes\n\n- [1580928] Edit book: Fix a crash in the Insert link tool if one of the HTML files contains an empty id\n\n- [1578688] Fix tag like custom columns not sorted when displayed in the Book details panel\n\n- Fix transient window shown during Edit book startup\n\n- [1579637] Preserve booklist horizontal scroll position when merging books\n\n- [1577036] Google Images metadata download plugin: Fix error when searching for books with non-English characters in the title or author names\n\n- [1576742] Template language: Fix an error formatting dates when the underlying date does not have a day\n\n- [1576721] Preferences->Keyboard: Fix unable to use Alt+A and Alt+S as custom shortcuts\n\n- Version 2.57.1 is a hotfix to fix a regression that broke conversion of ODT files in 2.57.0\n\n\n:: improved recipes\n\n- Folha de Sao Paolo\n- Barrons\n- Economist\n- Deutsche Welle (English and Spanish editions)\n- Die Presse\n- MIT Technology Review\n- Financial Times UK\n- Telegraph UK\n- The Guardian\n- Spiegel Online\n- Brand Eins\n- Focus.de\n- The Toronto Star\n- The Atlantic\n- Capital.de\n- The Times of India\n- The Economic Times India\n\n\n}}}\n\n\n{{{ 2.56.0 2016-04-29\n:: new features\n\n- Edit book: Add an option to show full file paths in the Files Browser instead of just the file name (in Preferences->Interface->Main window)\n\n- [1573775] Allow creating a keyboard shortcut to minimize the calibre window (Preferences->Keyboard->Miscellaneous)\n\n\n:: bug fixes\n\n- Fix the Google Images based cover download plugin not working because of changes to Google's image search service\n\n- [1571304] E-book viewer: Prevent the TAB key from causing partial scrolling in paged mode\n\n- Book details panel: Fix regression in previous release that broke URL:http|... style identifiers\n\n- macOS: Redirect stdout/stderr to /dev/null instead of ASL since ASL is flaky on some macOS machines. This should prevent errors in third party plugins that print a lot of debug messages even when not in debug mode\n\n- Fix for macOS upgrade 10.11.4 breaking detection of Kobo devices on some systems\n\n- Edit book: Fix filename being duplicated in the Files browser when multiple files with the same name are present\n\n- PDF output: Make fix for blank page at end of HTML file also work when headers/footers are specified\n\n\n:: new recipes\n\n- 1843 by Kovid Goyal\n- Berlin Policy Journal by Aimylios\n\n:: improved recipes\n\n- Forbes\n- Wall Street Journal\n- Berliner Zeitung\n- Tagesspiegel\n- TIME\n- Foreign Affairs\n- New Yorker\n\n\n}}}\n\n\n{{{ 2.55.0 2016-04-15\n:: new features\n\n- Allow creation of rules to convert arbitrary identifiers into clickable links in the book details panel (Preferences->Interface->Look & feel->Book details)\n\n- Tag mapper: A new rule type 'split' allows you to easily split tags on a character\n\n- Make the shutting down message an overlay so it is less disruptive\n\n- [1568306] Allow right clicking on Virtual library tabs to edit/delete the Virtual library\n\n- [1568376] Tag mapper: Add a button to edit the list of tags in a Tag mapper rule using the Tag editor dialog\n\n\n:: bug fixes\n\n- [1569583] Conversion: Fix the obsolete HTML align=center markup (produced by Microsoft Word) not working for tables\n\n- [1568555] Font subsetting: When font-variant: small-caps is used include the capital letters as well, in case either the font or the renderer do not support OpenType SMCP\n\n- [1568555] Font subsetting: Implement support for text-transform\n\n- [1568091] Fix the target book entry in the book list not being refreshed after merging books. Only matters if you have a column based on book formats\n\n- E-book viewer: Fix a link that has some text along with a superscript/subscript being incorrectly detected as a footnote link\n\n- [1567569] Fix device detection on Windows failing if the registry entries for the device contain a very long item\n\n- Edit book: Fix an extra colon being added when setting the 'notes' semantic\n\n- Ensure that author folder names are never Windows reserved names\n\n- E-book viewer: When displaying an EPUB 3 document that uses EPUB:switch to provide a fallback for MathML content, prevent both the MathML and fallback from being shown together\n\n- PDF output: When displaying an EPUB 3 document that uses EPUB:switch to provide a fallback for MathML content, prevent both the MathML and fallback from being rendered together\n\n- Fix exception in custom column preferences when the column lookup key is changed\n\n- [1565242] Catalog generation: Do not crash is a book in the library has no uuid\n\n\n:: new recipes\n\n- Kitekinto by pofa\n\n:: improved recipes\n\n- Brand Eins\n- Handelsblatt\n- tyzden\n- Newsweek\n\n\n}}}\n\n\n{{{ 2.54.0 2016-04-01\n:: new features\n\n- [1559257] Edit metadata in bulk dialog: Allow configuring the types of generated covers\n\n- E-book viewer: Make the detection of note boundaries for popup footnotes a little more robust\n\n- E-book viewer: Add options to control the amount the mouse wheel and arrow keys scroll by in flow mode\n\n- When running the Content server do not hide the main calibre window during shutdown until the Content server has stopped. Show a shutting down message in the window so that the user knows what is happening\n\n- Edit book: Check Book: Add a check for empty links\n\n- [1556983] DOCX input: When the document has a Table of Contents created using the Word Table of Contents tool, keep a reference to it in the metadata.  This is useful when converting to old style MOBI and you want to precisely control placement of the ToC\n\n\n:: bug fixes\n\n- Fix auto-mounting of some types of devices not working on FreeBSD\n\n- [1562507] calibredb add: Fix the --cover option not working if the book being added has its own cover\n\n- E-book viewer: Fix mathematics being typeset at too small a font size on Windows\n\n- [1559855] PDF output: Fix occasional blank pages erroneously inserted in the text (at the end of an internal HTML file)\n\n- Book details panel: Fix URL:file:// identifiers not becoming links\n\n- Fix fetch news dialog not rendering properly on HiDPI screens\n\n- [1557147] Fix a hard to trigger crash introduced in the previous release when using the conversion dialog\n\n\n:: new recipes\n\n- Magyar Nemzet and Mult Kor by pofa\n\n:: improved recipes\n\n- Nature News\n- TIME Magazine\n- Folha de Sao Paolo\n- Endgadget\n- MSNBC\n- The New York Times Book Review\n\n\n}}}\n\n\n{{{ 2.53.0 2016-03-11\n:: new features\n\n- [major] Edit book: A new tool to transform book styling using easy to create rules\n\nFor example, you can create rules to change colors in the book or to double the font size of all text in the book, etc. For details, see https://manual.calibre-ebook.com/edit.html#transforming-css-properties\n\n- Conversion: Allow creating rules to transform styles during conversion, as above. Available in the conversion dialog at 'Preferences->Common options->Look & feel->Transform styles'\n\n- Edit metadata dialog: Make the hide toolbars right click menu action persistent. Also fix very large number of custom fields causing the basic metadata tab to not be aligned properly\n\n- Portable installer: Do not ask to launch calibre when running an automated install. Automated installs will now never launch calibre\n\n\n:: bug fixes\n\n- E-book viewer: Hide list numbers for popup footnotes when the footnotes are use <ol> as the number are likely to be incorrect\n\n- [1552972] DOCX input: Ignore the hidden bookmark Word 2010 inserts to enable the go to last edit feature\n\n- [1550520] Fix keyboard focus lost after merging book records\n\n- [1550966] E-book viewer: Handle <![CDATA[ escapes correctly\n\n- Edit book: Fix spelling correction suggestions not being shown when using the context menu key with the cursor at the end of the word\n\n\n:: improved recipes\n\n- Mediapart\n\n\n}}}\n\n\n{{{ 2.52.0 2016-02-26\n:: new features\n\n- Allow creating rules to ignore files when adding books based on the filename\n\nUseful when using the auto-add feature or when adding in bulk. Preferences->Adding Books->Rules to filter added files\n\n- calibredb add: Allow specifying filters to control adding of books from directories\n\n- [1548791] E-book viewer: Allow copying the Table of Contents to the clipboard by right clicking on it\n\n\n:: bug fixes\n\n- [1548417] FB2 metadata: Ignore invalid (unidentifiable) cover images\n\n- [1548405] FB2 metadata: Fix error when adding books with non-numeric series numbers\n\n- [1548187] DOCX input: Fix handling of toggle properties such as bold/italic/strikethrough/etc. when specified as document defaults\n\n- Conversion pipeline: Add support for the q CSS length unit\n\n\n:: new recipes\n\n- Al-Masry Alyoum by Hassan Williamson\n\n:: improved recipes\n\n- AsiaOne\n- Today Online - Singapore\n- Foreign Policy\n- Outlook India\n- Economic and Political Weekly\n- Foreign Affairs\n- El Pais\n- LA Times\n- Al-Ahram\n- New York Times Book Review\n\n\n}}}\n\n\n{{{ 2.51.0 2016-02-12\n:: new features\n\n- [1541286] Add an action to the context menu for the Search bar to paste and instantly execute the search\n\n- When adding multiple books from a single directory, added the books in order of the last modified time of the book files\n\n\n:: bug fixes\n\n- Fix a regression in 2.50 that prevented a small number of devices from being detected on Windows\n\n- [1541981] PDF metadata: Workaround for PDF files with corrupted XMP metadata packets, generated by Nitro PDF\n\n- Edit book Beautify: Do not beautify the insides of heading/p tags even when they are the only child of body\n\n- Amazon metadata download: Fix published date not being downloaded from Amazon.it\n\n- Fix a regression in 2.50 that broke the user created device driver feature on Windows\n\n- [1540496] EPUB input: Fix error when processing EPUB files that uses non-ASCII characters for their unique ids\n\n- [1539414] When reading the cover from comic files, ignore any image files inside __MACOSX/ directories\n\n- Fix calibre on macOS unable to connect to sites that support only TLS >= 1.1. Also update the version of Qt bundled on macOS to 5.5.1\n\n\n:: improved recipes\n\n- Endgadget\n- The Economic Times India\n- Discover Magazine\n\n\n}}}\n\n\n{{{ 2.50.1 2016-01-29\n:: new features\n\n- Change the way that devices are detected on Windows. This fixes device detection problems on some Windows 10 computers\n\n- Edit book: When inserting images, add an option to insert the image as a full page image\n\n- [1526663] DOCX input: Add support for framed text created by setting the same border style on neighboring paragraphs\n\n- [1535801] Update PocketBook 650 driver for latest firmware revision\n\n\n:: bug fixes\n\n- DOCX input: Fix empty paragraphs with borders being rendered with an empty line inside the borders\n\n- ODT input: Fix fallback PNG images generated by LibreOffice 4.x for SVG images not being ignored\n\n- Fix Restore library failing on some Windows systems with non-ASCII library paths\n\n- [1535427] Edit book: Fix error when merging an empty HTML document or one that contains only text and no tags\n\n- [1535007] Fix failure to add FB2 files that contain published dates\n\n- Use a private certificate when downloading plugins via HTTPS. This fixes errors on some windows machines that have missing root certificates\n\n- Fix Tag editor not working correctly for comma-separated custom columns\n\n- [1534597] Fix existing rating not being removed when using Polish books or Embed metadata tools on EPUB files\n\n\n:: improved recipes\n\n- New Scientist\n- FAZ.net\n- Scientific American\n- Business World Magazine\n- Houston Chronicle\n\n\n}}}\n\n\n{{{ 2.49.0 2016-01-15\n:: new features\n\n- [1526504] E-book viewer: Add an option to allow only a single book to be viewed at a time. Trying to view a second book will cause it to replace the currently viewed book\n\n- Kobo driver: Add support for the new firmware 3.19.5761\n\n- Linux build: Update bundled version of Qt to 5.5.1\n\n\n:: bug fixes\n\n- Fix splash screen getting stuck on macOS when restarting calibre in debug mode\n\n- Get books: Update plugins for various Polish language book stores to handle changes to the website\n\n- Amazon metadata download: Handle a change in the Amazon website that prevented review metadata from being downloaded\n\n- Better algorithm for guessing the 'external' network interface that is displayed to the user\n\n- Tag mapper: Do not allow the user to create rules with invalid regular expressions\n\n- E-book viewer: Disallow hyphenation in documents that use mathematical typesetting as the hyphenation breaks that typesetting\n\n- [1532323] E-book viewer: Fix some non-ASCII characters not display in embedded MathML\n\n- Download calibre plugins securely using HTTPS\n\n- [1531738] MOBI output: Try to autofix corrupted PNG images in the input document\n\n- [1531394] Nook Glowlight Plus: Send files by default to the NOOK/My Files folder\n\n- [1530517] E-book viewer: Fix failure to view comic files that contain non-ASCII characters int heir internal filenames\n\n\n:: new recipes\n\n- LaRed21 by Carlos Alves\n\n:: improved recipes\n\n- Echo Online\n- Various Uruguayan news sources\n- Economic and Political Weekly\n- Tagesanzeiger\n\n\n}}}\n\n\n{{{ 2.48.0 2016-01-01\n:: new features\n\n- [1529108] Driver for Energy Ereader Screenlight\n\n- [1528055] DOCX input: Add option to have superscripts/subscripts converted so that they do not affect the line height of the line containing them\n\n- New option to hide empty categories in Tag browser (Preferences->Interface->Look & feel->Tag browser)\n\n\n:: bug fixes\n\n- Image compression: Fix spurious zero byte .bak files being created when compressing PNG images inside EPUB files\n\n- Image compression: Fix bug that could cause zero byte images files/or file in use errors when compressing images\n\n- [1529501] Fix some icons not being themeable\n\n- E-book viewer: When using heuristics to detect footnote links check for vertical-align set to top and bottom as well as sub and super\n\n- Book details panel: Display data in right-to-left format when the calibre interface language is set to a right-to-left language such as Hebrew or Arabic\n\n\n:: improved recipes\n\n- Rzeczpospolita\n- New York Times Book Review\n- der Standard\n- More Intelligent Life\n- Reader's Digest\n- Financial Times\n- New Scientist\n\n\n}}}\n\n\n{{{ 2.47.0 2015-12-21\n:: new features\n\n- [major] A new tool to easily export and import all calibre data -- books, settings and plugins\n\nRight click the calibre icon in the main calibre toolbar and choose \"Export/import all calibre data\" to run this tool. It is useful if you want to move to a new computer or duplicate your calibre setup on a second computer, with minimal effort. This tool is very new, so if you run into problems, please report bugs. You can always use the old manual method of copying library folders as a fallback\n\n- [1526089] Get books: Add plugins for Amazon Australia and Amazon India. Also restore the Amazon EU plugins\n\n\n:: bug fixes\n\n- [1527697] PDF input: Fix conversion of PDF documents that contain ASCII control codes in their outlines not working\n\n- Edit book: Fix image compression utilities opening a new console per invocation on Windows\n\n- Image compression: If the compression tools return a zero byte image ignore it and use the original image\n\n- Fix a regression that caused book titles in the Book details panel to become clickable\n\n\n:: improved recipes\n\n- Fox News\n- Le Devoir\n- Le Monde diplomatique.fr\n\n\n}}}\n\n\n{{{ 2.46.0 2015-12-11\n:: new features\n\n- [1524522] PDF input: Add support for PDF outlines (bookmarks), if present, they are used as the metadata Table of Contents\n\n- Book polishing: Add tool to losslessly compress images in the book in order to reduce its filesize, without affecting image quality\n\n- Edit book: Add a new tool to compress images in the book losslessly, accessed from the Tools menu\n\n- [1524742] Kobo driver: Add support for new Kobo firmware\n\n- [1523253] Bulk metadata edit dialog: Allow entering fractional numbers into the series number start with control\n\n- Speed up moving libraries by using hardlinks instead of file copies when moving to a location on the same filesystem\n\n- Get books: Disable the Amazon EU stores, at Amazon's request\n\n\n:: bug fixes\n\n- Fix moving libraries via calibre leaving behind a copy of the metadata_db_prefs_backup.json file in the original library folder\n\n- [1521830] MOBI input: Warn about corrupted trailing data entries, instead of aborting. Getting some, even partially corrupted text is better than no text\n\n- [1521004] Book details: Fix single value custom text column not clickable\n\n- [1520895] Saving to disk: Fix custom date column being rendered in GMT instead of the local time zone when used in a save to disk template\n\n\n:: improved recipes\n\n- New York Review of Books\n- Caravan Magazine\n- heise\n\n\n}}}\n\n\n{{{ 2.45.0 2015-11-27\n:: new features\n\n- Cover browser: Allow customizing the text that appears under the covers with a template in Preferences->Interface->Look & feel->Cover browser\n\n- When sending books without a cover to the device, generate a cover with book metadata instead of using the blank book icon\n\n- Preferences->Add your own columns: Show more information about existing columns\n\n\n:: bug fixes\n\n- [1518678] PDF output: Handle input documents with fonts that do not have either postscript or full name information\n\n- [1519962] DOCX input: Handle numbering styles that use non-decimal number formats and custom templates\n\n- [1519855] Allow restoring of corrupted library to work even if the metadata.db file is missing from the library folder\n\n- [1519599] Bulk metadata dialog: Fix renaming a custom series via search and replace causing the series index to be reset to 1\n\n- [1516890] Bulk metadata dialog: Fix search and replace not working for text like custom columns if the column contains only a single value\n\n- [1519606] Content server: Fix next and previous links not working in the mobile view when using a search query that includes URL unsafe characters\n\n- Update Amazon metadata download plugin to handle Amazon.com website change that was preventing any metadata from being downloaded\n\n- [1517928] Edit book: Fix error when trying to add words to user dictionary for a book with a language that has no dictionary available\n\n- Tag browser: Fix various bugs in how grouped search terms are displayed. Also fix counts and average rating for items in user categories\n\n- [1516880] When using copy to library also create missing composite columns in the destination library\n\n\n:: improved recipes\n\n- The Guardian and The Observer\n\n\n}}}\n\n\n{{{ 2.44.1 2015-11-15\n:: bug fixes\n\n- Update the version of libpng bundled with calibre to fix a security vulnerability in libpng\n\nSee https://web.nvd.nist.gov/view/vuln/detail?vulnId=CVE-2015-8126 for details on the vulnerability\n\n\n\n}}}\n\n\n{{{ 2.44.0 2015-11-13\n:: new features\n\n- [1515411] Allow setting the cover for a book from one of the book's formats by right clicking on the format in the Book details panel\n\n- [1515407] Allow drag and drop of all file types onto the book details panel and the format list in the edit metadata dialog\n\n- Edit book: When inserting an image into the current document, add a button to paste the image from the clipboard\n\n- [1514468] Edit book: Change the suggested prefix for bulk renaming of files depending on the type of files being renamed\n\n- On Linux, use the system tray icon from the system theme, if available\n\n\n:: bug fixes\n\n- Fix for error when connecting to some Android phones/tablets that have an SD card on macOS and Linux\n\n- Linux build: Fix problem with pointing hand mouse cursor not using the system theme on some Linux systems\n\n- Fix the device view state not being saved when a connected device is ejected/disconnected\n\n- [1513849] Edit book: Fix saving fails if the original file is deleted during editing session\n\n- E-book viewer: When doing a search do not match text in comments, attributes and inappropriate tags, such as <script> and <style>\n\n\n:: improved recipes\n\n- Gamasutra\n\n\n}}}\n\n\n{{{ 2.43.0 2015-11-06\n:: new features\n\n- Edit book: Add a 'Smart Comment' tool to easily comment/uncomment text\n\nPress Ctrl+` to trigger the tool, or add the tool to your toolbar via Preferences->Toolbar->Tools for all editors. It will either insert comments around the selected text or uncomment an existing comment if the cursor is inside one\n\n- Tag mapper: Add new rule types to upper-case, lower-case or capitalize tags\n\n- [1512461] Markdown input: Allow the 'extra' convenience extension as a shortcut for enabling multiple other extensions. Also add the Attribute list and Admonition extensions. Finally, update the Markdown library used by calibre\n\n\n:: bug fixes\n\n- [1513318] Amazon metadata download: Fix for website change at Amazon.com that prevented ratings from being downloaded\n\n- [1513330] Tag mapper: Prevent cycles in the replacement rules from causing the Tag mapper to hang\n\n- Do not fail on Windows systems where the system function to get the users home folder fails\n\n- E-book viewer: Set the foreground color as well as the background color for the reference mode popup. Makes it legible even when the user specifies a different color theme for the viewer\n\n\n:: new recipes\n\n- La Politica Online by Darko Miletic\n\n\n}}}\n\n\n{{{ 2.42.0 2015-10-30\n:: new features\n\n- Driver for the new NookGlowlight Plus. This device only allows sending of files inside the NOOK folder, so calibre now follows that limitation\n\n- When converting AZW4 files to PDF, skip the conversion and simply unwrap the PDF file already embedded inside the AZW4 file\n\n- [1507198] Metadata download review dialog: Add an option to mark rejected books in the main book list after the review is completed\n\n- Edit book: Spell check dialog: Add a button to undo the last spelling change\n\n\n:: bug fixes\n\n- [1510335] Edit metadata dialog: When downloading metadata with download of authors turned off, do not regenerate the author sort field after the download\n\n- [1509642] Fix a regression that broke the heuristic used to detect cover images in some EPUB files that do not specify their cover metadata\n\n- Edit book File List: Fix pre-selection of filename when renaming a file in the root\n\n- Tag mapper: Fix bug when replacement tag has comma in it and the replacement rule is not the last rule\n\n\n:: improved recipes\n\n- Sueddeutsche.de\n- NRC\n- Various Polish news sources\n- Pocket\n\n\n}}}\n\n\n{{{ 2.41.0 2015-10-16\n:: new features\n\n- Edit book: Allow editing an unzipped EPUB (a folder) as a book\n\nUseful if you wish to store your e-book in a version control system and edit it directly with the calibre e-book editor (File->Open folder as book)\n\n- Edit book: Allow easily removing items from the popup menu for the 'Insert tag' button\n\n- Make Tag browser more usable with keyboard shortcuts. Configure the keyboard shortcuts in Preferences->Keyboard->Tag browser\n\n- ToC editor: Add context menu item to change selected entries to upper case\n\n\n:: bug fixes\n\n- Edit book: Preview panel: Render in XHTML mode. Fixes SVG elements using a global SVG namespace not rendering\n\n- Tag browser: Fix clicking on first-letter groups for series not working\n\n- DOCX output: Ignore corrupted images in the input instead of erroring out on them\n\n- [1503910] E-book viewer: Fix keyboard shortcut to toggle table of contents not working when ToC window is made floating\n\n- [1504345] Allow ebook-metadata.exe to work with read-only files when no options are specified to change metadata\n\n- [1503526] Tag mapper: When the replacement tag contains commas, create multiple tags instead of replacing the comma with a semi-colon\n\n- [1502592] HTMLZ output: Set the HTML <title> to the book title\n\n\n:: improved recipes\n\n- Boston Globe\n- Wall Street Journal\n- Komputerra\n- Spectator Magazine\n- The Independent\n\n\n}}}\n\n\n{{{ 2.40.0 2015-10-02\n:: new features\n\n- A new tool to apply Tag mapper rules to existing books in the library. To use it, go to Preferences->Toolbars and add the tool to the toolbar\n\n- [1496206] Kindle driver: Detect books in Amazon's new KFX format present on e-ink Kindle devices\n\nNote that this only detects KFX books and allows you to delete them. You cannot copy them to your calibre library. Doing so would be pointless anyway, as KFX books are specialised for individual devices. Instead go to your 'Manage my content' page on Amazon.com and download them from there -- this will give you a regular AZW3 file you can add to calibre\n\n\n:: bug fixes\n\n- TXT output: Do not fail when input contains HTML comments with double hyphens in the comment text\n\n- E-book polishing: Show a confirmation if the user selects both the add and remove jacket actions\n\n- Edit book: Fix order of checkboxes in filter style information tool is random\n\n- [1499878] PDB input: Ignore malformed metadata records\n\n- [1500226] Revert change in previous release to workaround broken xdg-open on Linux. Apparently xdg-open is so badly broken that working around it is not possible\n\n- [1499514] ZIP output: Fix system encoding being used instead of UTF-8 for HTML files\n\n\n:: improved recipes\n\n- The Philosopher's Magazine\n- Harper's Magazine\n- Ambito\n- Perfil\n- Telam\n- Infobae.com\n- La Nacion\n- Clarin\n\n\n}}}\n\n\n{{{ 2.39.0 2015-09-25\n:: new features\n\n- [major] Implement tag mapping to automatically filter/transform tags when adding books or downloading metadata\n\nNow you can create simple rules that will filter/transform the tags when adding new books or downloading metadata for books. To setup the rules, go to Preferences->Adding books and Preferences->Downloading metadata\n\n- [1499340] Kobo driver: Support for newly firmware version 3.18\n\n- Edit book: Add a setting to control icon size for the toolbars (Preferences->Toolbars)\n\n\n:: bug fixes\n\n- [1498207] Edit book: Check Book: Fix automatic correction of missing unique id sometimes not working\n\n- Edit book: Fix (hopefully) View->Browse images in books sometimes not showing changed images\n\n- [1495651] CBZ metadata: Do not fail to read metadata if the volume is not a valid number\n\n- [1491082] Content server: Fix error in /mobile page if one of the books has metadata with ASCII control codes in it\n\n- Linux: Workaround for systems with broken xdg-open implementations that do not unquote URLs before passing them to applications\n\n- Get books: Update cdp.pl store for website changes\n\n- [1499514] HTMLZ output: Fix HTML files being created with system encoding instead of UTF-8\n\n\n:: new recipes\n\n- Various Korean news sources by Hoje Lee\n- Presseportal DE by Volker Heggemann\n\n:: improved recipes\n\n- TIME Magazine\n- The Atlantic\n- Instapaper\n- Trouw\n\n\n}}}\n\n\n{{{ 2.38.0 2015-09-11\n:: new features\n\n- Add support for Kobo Touch 2\n\n- Edit book: Add a tool to check external links (links pointing to websites). Can be accessed via Tools->Check external links\n\n- Edit book: Add an option to turn off drag and drop editing of text (Preferences->Editor)\n\n- Two new icon themes: Primo+ and Black Edition (Preferences->Interface->Look & feel->Change icon theme)\n\n\n:: bug fixes\n\n- [1492685] Copy to library: Fix author sort/link values not being copied when copying a book with an author not present in the destination library\n\n- When inserting metadata jackets do not set media for the stylesheet. This prevented the stylesheet from working with some reader devices\n\n- Copy to library: Fix conversion options not being copied when copying books between libraries\n\n\n:: new recipes\n\n- Karsi Gazete by Voltran\n\n:: improved recipes\n\n- Strategy+Business\n- Ars Technica\n- National Geographic\n- New York Times Technology Beat\n\n\n}}}\n\n\n{{{ 2.37.1 2015-09-04\n:: new features\n\n- Driver for the Lark Freebook reader device\n\n- A redesigned busy spinner -- why should icons get all the love?\n\n- [1490343] When merging book records, show more information about the target book record\n\n- A new icon theme 'Dark Blue' (Preferences->Interface->Look & feel->Change icon theme)\n\n- Add a check box to control copying e-book files when duplicating book records via the Add Empty Book dialog\n\n\n:: bug fixes\n\n- [1491728] Edit book: Check Book: Fix automatic fixing of unsafe ids not working if the file containing the unsafe also needs to be fixed for an unsafe filename\n\n- E-book viewer: Informative error message for themes button when no themes have been created\n\n- [1490096] Fix a regression that caused the library switch entries at the bottom of the library menu to not work when there are many libraries\n\n- Get books: Update Amazon EU store plugins for website changes\n\n\n\n}}}\n\n\n{{{ 2.36.0 2015-08-28\n:: new features\n\n- [major] Icon themes: Change the calibre icons easily via icon themes\n\nYou can now change the icons calibre uses easily via Preferences->Interface->Look & feel->Change icon theme. Several icon themes are already available for calibre\n\n- [1488398] When adding empty books to the library also allow creating duplicates of the current book, with all metadata copied. To use right click the Add books button and select 'Add empty books'\n\n- [1486531 1484585] Driver for the Unusual Sapiens V2 and Adlibris Letto readers\n\n- Kobo driver: Add support for firmware 3.17.3\n\n- [1483313] E-book viewer: Add a command line option to open the previously read book when starting up\n\n- [1485237] Edit book: Live CSS: Allow copying of CSS rules by right clicking on the Live CSS panel\n\n- [1489654] Linux installer: Install application and mimetype icons in multiple sizes\n\n\n:: bug fixes\n\n- Amazon metadata download: Support for yet another variant of Amazon cover image markup\n\n- E-book viewer: Fix --open-at sometimes giving inaccurate results (depends on speed of book loading)\n\n- [1488113] EPUB metadata: Add workaround for bug in PocketBook firmware which causes it to fail to read series metadata if the series number is declared before the series\n\n- [1487949] Fix user defined template functions leaking from one library to another when switching libraries/using copy to library\n\n- [1486398] Fix a regression in the previous release that could cause the marked books icon to be incorrectly rendered next to the row number\n\n- [1485670] Edit book: Check book: Fix incorrect links that consist only of an anchor and no filename not being detected\n\n- [1489495] AZW3 output: Fix large tables (with many columns) not rendering correctly on Kindle devices\n\n\n:: improved recipes\n\n- .tyzden\n- Forbes\n- Clarin\n\n\n}}}\n\n\n{{{ 2.35.0 2015-08-14\n:: new features\n\n- [1484516] Kobo driver: Add support for the new firmware version 3.17\n\n- [1483313] E-book viewer: Allow setting the number of pages per screen separately for portrait and landscape modes\n\n\n:: bug fixes\n\n- DOCX input: Fix a regression in the previous release that broke conversion of some documents that specify vertical alignment in absolute units\n\n- [1482993] Book list: Fix the current row number being partially cutoff on some windows 10 machines\n\n- Fix 'stopping Content server' message popping up repeatedly even when it is closed while the Content server has not fully stopped\n\n- [1482983] Conversion: Fix error when converting a file that uses media queries with comments in the media selector\n\n\n:: new recipes\n\n- 3D News and iXBT.com by bugmen00t\n\n:: improved recipes\n\n- American Spectator\n- South China Morning Post\n\n\n}}}\n\n\n{{{ 2.34.0 2015-08-07\n:: new features\n\n- Amazon metadata download: Add support for Amazon.nl. To use it go to Preferences->Metadata download and configure the Amazon plugin to use Netherlands as the source\n\n- [1481529] Catalogs: Add an option to not add the generated catalog to the library\n\n- E-book viewer: Improve performance of hyphenation (by updating the version of the hyphenation library it uses)\n\n\n:: bug fixes\n\n- DOCX input: Add support for text whose vertical position is adjusted by offsets from the baseline\n\n- [1480300] DOCX output: Handle length and percentage values for vertical-align in the input document\n\n- [1479462] Edit book: Check Book: Fix automatic correction of invalid ids not updating the idrefs in the spine for ids in the manifest of the OPF file\n\n- [1478515] E-book viewer: Fix printing to PDF could result in filenames with characters not supported by Windows\n\n- [1478292] E-book viewer: Also fix a bug in the hyphenation algorithm that could cause the word 'undefined' to be mangled during hyphenation\n\n- [1478346] ODT input: Fix custom styles with a dot in their name not being inherited\n\n\n:: improved recipes\n\n- Daily Express\n- The New Yorker\n- XKCD\n- Wired Magazine\n- Wired UK\n\n\n}}}\n\n\n{{{ 2.33.0 2015-07-24\n:: new features\n\n- [1476093] Driver for SONY DPT-S1\n\n- Edit book: When showing suggestions for mis-spelled words, also show suggestions from user created word lists\n\n- Edit book: Check Book: Add a check for \"invalid\" ids\n\n\n:: bug fixes\n\n- [1476089] Conversion: Ignore stylesheets linked via media queries that use device specific features\n\n- [1475984] Fix covers not being read from some TXTZ files\n\n- [1475846] ODT input: Add support for numbered lists that do not start numbering at 1\n\n\n:: improved recipes\n\n- msnbc.com\n- Houston Chronicle\n\n\n}}}\n\n\n{{{ 2.32.1 2015-07-17\n:: new features\n\n- [1473737] E-book viewer: Automatically save the current reading position every ten seconds. Prevents loss of reading position on crash/forced shutdown\n\n- [1468649] Edit book: Check Book: Add checks for missing OPF version and ToC references and for text placed directly inside the <body> tag\n\n- calibredb: Add a new search sub-command that can be used to generate a list of book ids from a search expression\n\n- [1473140] Tag editor: Place the keyboard focus on the last edited field\n\n- [1467129] Edit metadata dialog: When clicking Next and Previous preserve the current tab of the edit comments widget\n\n- [1471083] Linux: Various fixes to make calibre work when compiled against the latest versions of Qt and PyQt\n\n- Edit book: Allow drag and drop of files onto dock icon on macOS\n\n\n:: bug fixes\n\n- There was a regression in 2.32.0 that caused conversion to PDF to fail, the fix for this was released in 2.32.1\n\n- [1467164] E-book viewer: Fix a regression in the previous release that caused the maximum text width setting in full screen mode to be ignored when switching from normal to full screen\n\n- [1474513] Fix error in template dialog when using {id} in send to device preferences\n\n- [1471419] Edit book/Book polishing: Fix EPUB books with OPF files that use a non-default namespace for the OPF namespace being corrupted\n\n- [1473017] macOS: Workaround for Qt 5 regression that causes any errors during startup to be hidden behind the splash screen\n\n- [1474287] Conversion: Fix incorrect relative URLs being generated when an HTML or CSS file is placed higher in the folder hierarchy than the OPF file\n\n- [1471125] FB2 output: Fix error when using the sectionize with ToC option and the input documents Table of Contents contains multiple items pointing to the same HTML file\n\n- [1472291] Conversion: Fix error when input document contains a font size exactly one point away from the base size\n\n- [1467433] Device drivers: Handle devices with undecodeable filenames in their filesystem. Simply ignore those files\n\n- [1469554] Fix Cmd+Left/Right keyboard shortcut not working when editing items in the book list on macOS\n\n- [1469549] Fix corrupted text in the jobs list on some non-English Windows installs\n\n- [1466732] Edit book: Workaround for a Qt regression that caused 'See what changed' after a search and replace on macOS causing the application to become unresponsive\n\n- Edit book: Fix smarten punctuation not working for books with non-ASCII characters in internal file names on macOS\n\n\n:: new recipes\n\n- Slate Star Codex by Ned Letcher\n- Hurriyet by Adrian Tennessee\n\n:: improved recipes\n\n- Harvard Business Review\n- Psychology Today\n- NRC Handelsblad\n- Entrepeneur Magazine\n- 20 minutes\n- Economia\n- Accountancy Age\n- Jakarta Post\n- Foreign Affairs\n- Spectator Magazine\n- Daily Express\n- The Onion AV Club\n- Metro UK\n\n\n}}}\n\n\n{{{ 2.31.0 2015-06-19\n:: new features\n\n- E-book viewer: Make the search engine used for searching for selected text configurable (in the Miscellaneous section of the viewer preferences)\n\n\n:: bug fixes\n\n- [1464862] E-book viewer: Fix dragging to select text with the mouse causing the page to slide sideways in paged mode, if the mouse leaves the text area\n\n- [1466082] E-book viewer: Fix transitioning between full screen mode and normal mode sometimes causing current position to not be preserved\n\n- [1465769] AZW3 input: Ignore incorrect text encoding (incorrectly encoded bytes are now replaced by placeholders) instead of erroring out\n\n- Get books: Update Legimi and CDP store plugins for website changes\n\n- [1464382] Fix Cybook Nolimbook not being detected in Linux and macOS\n\n- [1464086] DOCX output: Fix internal hyperlinks being ignored when they point to a HTML file whose <body> element has an id\n\n- Edit book: Fix groups in replace template being interpreted backwards when search direction is up\n\n- [1463042] Searching: When search as you type is active, do not change automatically change focus to the book list when searching, unless the user presses Enter\n\n- Font subsetting: Fix subsetting removing some needed ligatures when subsetting some Arabic fonts\n\n- Prevent errors when testing email sending even if stderr on the host machine is broken\n\n\n:: new recipes\n\n- Various Ukranian news sources by rpalyvoda\n\n:: improved recipes\n\n- Baltimore Sun\n- El Mercurio Chile\n- Sydney Morning Herald\n\n\n}}}\n\n\n{{{ 2.30.0 2015-06-05\n:: new features\n\n- [1460477] An option to auto-convert a book on adding even if it is already in the output format (Preferences->Adding Books)\n\n- [1460093] E-book viewer: If there are entries in the Table of Contents that are long enough to be truncated, display the full text in a popup menu when the mouse hovers over the item\n\n- News download: Add support for turning off SSL certificate verification in individual recipes\n\n- [1461964] Kobo driver: Support for upcoming firmware version 3.16\n\n\n:: bug fixes\n\n- [1455502] DOCX output: Fix aspect ratio of images being distorted when the input document specifies image width but not height or vice-versa\n\n- [1455502] DOCX output: Fix extra page breaks being inserted in some situations\n\n- [1460998] LIT input: Fix smarten punctuation not working for text (as opposed to HTML) based LIT files\n\n- [1461321] EPUB metadata: Fix extraction of cover image from EPUB 3 files that do not use EPUB 2 backward compatible markup and that have incorrect cover page markup as well\n\n- Book details panel: On Windows use only \\ as a path separator when copying file paths\n\n- Edit book: Fix Saved searches panel not working well with very long search/replace expressions\n\n- [1460089] macOS: Fix changing preferences causing 'Email to selected recipients...' appearing multiple times in the Connect/share menu\n\n\n\n}}}\n\n\n{{{ 2.29.0 2015-05-29\n:: new features\n\n- Allow opening the full Tag editor dialog directly from the book list by holding down the Shift key while starting an edit of a tag-like field. For example, click on the tags field for a book and press Shift-F2\n\n- Tag browser: Allow undoing the deletion of items in the Manage categories window\n\n- [1458620] calibredb add: Allow setting arbitrary identifiers, not just ISBN\n\n- [1458076] Add a 'Retry' button to the news download failed error message\n\n\n:: bug fixes\n\n- [1455502] DOCX output: Detect the common idiom of placing centered images as inline images inside a containing centered block and render the resulting image as a floating centered image in the DOCX file\n\n- DOCX output: Fix incorrect handling of bold/italic in paragraphs where the majority of text is either bold or italic instead of normal\n\n- Table of Contents editor: Fix save/load of settings in the XPath wizard not working across restarts\n\n- Get books: Update the Kobo Store plugin for website changes\n\n\n:: improved recipes\n\n- Popular Science\n- General Knowledge Today\n- Scientific American\n- Wired Magazine\n\n\n}}}\n\n\n{{{ 2.28.0 2015-05-15\n:: new features\n\n- [major] Conversion of all e-book formats to Microsoft Word (DOCX) files\n\nSupports conversion of text styles, images, lists, tables, embedded fonts, etc. Produces DOCX files compatible with Microsoft Word 2007 or newer. Note that this code is very new, so there will likely still be kinks that will be worked out in the coming weeks\n\n- [1453497] Add keyboard shortcuts (Ctrl+Right, Ctrl+Left) to switch between virtual library tabs\n\n- When sending email using GMX pause for five minutes between books, to prevent GMX from blocking the account. The delay can be configured via Preferences->Tweaks\n\n\n:: bug fixes\n\n- Open with: Fix application icons in XDG_DATA_HOME on Linux not being found and fix unhandled error when choosing non-executable files as applications\n\n- [1454199] AZW3 output: Remove duplicate anchors to workaround some Kindle renderers using the last occurrence of an anchor as the target instead of the first\n\n- Fix language definition on body tag being ignored during conversion\n\n- Edit book: When importing multiple files into the book, import them in the order sorted by their filenames instead of in random order\n\n- E-book viewer: Fix print to pdf not working on some Windows systems with non-ASCII usernames and non-UTF-8 system locales. Also make the print to pdf dialog a little easier to use\n\n- Edit book: Fix ToC editor window not remembering its last used size\n\n\n:: improved recipes\n\n- Field and Stream\n- Linux Magazine\n- Brand Eins\n- Courrier International\n- Wired Magazine\n- The Onion\n\n\n}}}\n\n\n{{{ 2.27.0 2015-05-01\n:: new features\n\n- [1449105] Edit metadata dialog: Add a clear button for the publisher\n\n- [1448433] DOCX input: Add option to not insert page breaks between endnotes\n\n- [1445853] calibredb list: Allow outputting the book languages as well\n\n- Italian translation of Quick Start Guide\n\n- [1449076] Embed metadata: When embedding metadata fails for some books, add an option to show the failed books in the book list\n\n- Animate the main toolbar when a device is connected/disconnected, to indicate that the contents of the toolbar have changed\n\n\n:: bug fixes\n\n- [1448330] E-book viewer: When printing, print to a PDF file instead of directly to the printer. This fixes printing not working on some systems\n\n- AZW3 input: Handle KindleGen produced AZW3 files that do not use normal HTML anchors for linking\n\n- Fix too many open files errors that could occur in a few places on macOS\n\n- Do not allow user to hide all columns in book list via the context menu, as restoring them becomes difficult\n\n\n\n}}}\n\n\n{{{ 2.26.0 2015-04-24\n:: new features\n\n- Driver for the soon to be released Kobo Glo HD\n\n\n:: bug fixes\n\n- Do not use a separate process to draw the splash screen. This might fix the issue of calibre randomly freezing on startup on a few Windows systems\n\n- MOBI ouput: Fix: First-letter applied to elements containing a comment causing conversion to fail\n\n- [1447188] Properly display names of libraries containing the ampersand character\n\n- When sorting filenames in comics treat the file extension as a secondary sort key. Fixes xyz.jpg sorting after xyz_1.jpg\n\n- Fix a regression in 2.25 that broke the search & replace wizard in the conversion dialog when converting a book with multiple formats\n\n- [1446282] Content server: Fix errors when library contains enough virtual libraries to cause grouping\n\n- [1446318] Manage tags dialog: Fix setting a tag to empty causes an unhandled error\n\n- E-book viewer: Fix a regression that caused the viewer to occasionally skip the last page in a chapter when displaying more than one pages per screen and scrolling by screen\n\n- [1445634] Edit book: Fix open OPF file not being refreshed when deleting items from the file browser\n\n\n:: new recipes\n\n- Discover Magazine Monthly by Michael Marotta\n\n:: improved recipes\n\n- WirtschaftsWoche Online\n- Wired\n- CNN\n\n\n}}}\n\n\n{{{ 2.25.0 2015-04-17\n:: new features\n\n- Edit book: Make embedding fonts using the manage fonts dialog easier. You can now double click on a font family to see what faces for that family area available on your computer and install new fonts directly from the dialog\n\n- [1442925] Book details panel: Allow deleting tags/series/publisher/etc. by right clicking on the link in the book details panel\n\n- E-book viewer: Allow expanding/collapsing all items in the Table of Contents view by right clicking\n\n- When using the View specific format action add an 'Open with' button to choose a specific program to view the specified format\n\n- Fetch news: Add API to allow recipe writers to easily resolve internal links to point to the downloaded versions of articles\n\n- DOCX input: Add support for DOCX files created by Word 2013 in 'Strict' mode\n\n- When getting cover from comic files, use smart filename sorting to find the first filename, recognizing numbers inside the filenames\n\n\n:: bug fixes\n\n- E-book viewer: When displaying multiple pages per screen fix whole screen scrolling so that it works as expected even at the end of the file, when their might be fewer pages left than would fill the screen\n\n- DOCX input: Automatically resize large images used as bullets in lists, to compensate for the fact that HTML renderers do not do this\n\n- Book list: Prevent Yes/No columns from making the minimum row height too large\n\n- Template language: Fix raw_field() function returning incorrect values for lists\n\n- Edit book: Fix book locale changing when OPF edited if OPF contains a country code in addition to a language code\n\n- [1441925] Edit book: Fix escaped HTML tags in the comments metadata being reported as mis-spelled words\n\n- Edit book: Fix regression that caused copying of non-breaking spaces to not work when using the keyboard shortcuts\n\n- Open with: Fix open with not working for programs from the Microsoft Office suite\n\n\n:: new recipes\n\n- MIT Technology Review Magazine by Michael Marotta\n- The Codeless Code by April King\n\n:: improved recipes\n\n- Die Zeit\n- NZZ Webpaper\n- Arcamax\n\n\n}}}\n\n\n{{{ 2.24.0 2015-04-10\n:: new features\n\n- E-book viewer: Add an option to not save the bookmarks inside EPUB files, under the Miscellaneous section of the viewer preferences\n\n- Manage User categories: Allow restricting the visible items to only those present in the current Virtual Library (if any)\n\n- [1437756] Book details panel: Allow copying full path to e-book files by right clicking on the format link\n\n\n:: bug fixes\n\n- [1440398] Edit book: Fix GIF format images being corrupted when using the builtin image editor to make changes to them\n\n- [1440598] Edit book: When dragging and dropping files to re-order them in the file browser, fix the final order being dependent on the order the files were selected in\n\n- [1440278] Conversion: Fix error when converting a document that contains an invalid function based CSS selector without parentheses\n\n- Edit book: Fix regression that caused pressing Alt+X to type unicode characters to not work\n\n- Device view: Preserve position in list of books when deleting books from the device view\n\n- Make the context menu for the book details popup window work the same way as for the book details panel\n\n- Get books: Update Amazon store plugin for website changes\n\n- [1440304] PDF metadata: When choosing between reading metadata from the Info dict and the XMP block, consider both the MetadataData and the ModifyDate in the XMP block, since there exist PDF metadata writing tools that update one and not the other\n\n- [1440444] Fix a regression that caused e-book viewer to remember the state of the Table of Contents panel when quitting on macOS\n\n- [1440146] Prevent Enter key on Manage authors/tags/etc. dialogs from closing the dialog\n\n\n:: improved recipes\n\n- Le Temps\n- United Daily\n- Liberty Times\n- Apple Daily\n- China Times\n- House News\n- Providence Journal\n- Harvard Business Review\n\n\n}}}\n\n\n{{{ 2.23.0 2015-04-03\n:: new features\n\n- Allow adding an empty e-book in various formats to existing book records by right clicking the Add books button\n\n- Add ability to create additional empty formats to the 'Add empty book' command\n\n- News download: Add API to cleanly abort the download of an article during the preprocess stage based on the article's contents\n\n- Update the version of Qt bundled with calibre to 5.4.1. This fixes various minor bugs, most notably, improving text rendering on Linux\n\n\n:: bug fixes\n\n- [1439450] MOBI input: Fix links not working in viewer for MOBI files that contain anchors placed on linebreak elements\n\n- [1437756] Book details panel: Fix copying path link by right clicking on it not working\n\n- Fix a regression that caused importing of a single book from a directory to fail if the directory has no e-book files in it\n\n- [1436690] Column icons: Fix apostrophes in icon filenames causing errors\n\n- Edit book: Fix a regression that caused Remove unused CSS to fail on invalid CSS selectors, instead of ignoring them\n\n- [1434990] Open with: Fix open with failing to get list of default programs on Windows if the registry contains missing ProgIDs\n\n\n:: improved recipes\n\n- Esquire\n- Courrier International\n- CNET\n- Tagesschau\n\n\n}}}\n\n\n{{{ 2.22.0 2015-03-20\n:: new features\n\n- Book list: When editing data in the book list directly, expand the editor widget to use all available width if the data does not fit inside the current column width\n\n- Edit book: When re-opening a previously edited book, restore all open files and the cursor position. Can be disabled in Preferences->Main window\n\n- [1431695] Advanced search builder: Allow using days/weeks/months/years when building a date based search with number of days ago\n\n- Amazon metadata download: Speed-up metadata download from Amazon.com when an ASIN is specified by trying the product page directly first instead of running a search\n\n- Implement updating metadata in DOCX files\n\n\n:: bug fixes\n\n- [1429271] ODT input: Add support for intra-document cross-references\n\n- [1433848] PDF output: Fix incorrect encoding of ASCII control characters and some Chines characters in metadata and Table of Contents strings\n\n- [1433125] Amazon metadata download: Work around Amazon server problems where it does not return Kindle Editions in search results when not logged in\n\n- [1432324] Fix Manage authors dialog causing current search in the book list to be cleared\n\n- [1432267] Conversion: Fix a regression in 2.21 that caused conversion to fail for books with invalid pseudo-class CSS selectors\n\n- Content server: Fix OPDS categories not showing books for composite column categories if the column contains a colon\n\n- Single convert dialog: Only write metadata updates if metadata actually changed. Also show a nicer error message when a file is locked by another process\n\n- Open with: Fix error when scanning for default programs on Windows for some file types\n\n- Edit book: Fix Preview panel sometimes not working when opening multiple HTML files one after the other very quickly\n\n\n:: improved recipes\n\n- Wired Daily\n\n\n}}}\n\n\n{{{ 2.21.0 2015-03-13\n:: new features\n\n- [major] Allow opening e-book files and covers in external applications by simply right clicking on them in the Book details panel\n\nNow, you can right click on an e-book format or the cover in the Book details panel, and open it with any application installed on your computer. calibre will automatically present you with a list of application capable of opening the file. Simply choose one, or if your particular application is not auto-detected, you can browse for it manually\n\n- Tag browser: Make rename and delete for items in the Tag browser restrict themselves to the current Virtual library (if any). There is also an additional menu entry you can use to rename and delete across all books while in a Virtual library\n\n- Conversion: Use a new (written from scratch) implementation of CSS Level 3 selectors that fixes various bugs in handling of the more advanced/uncommon CSS selectors such as nth-last-child()\n\n- Edit book: Allow restoring of disabled confirmation prompts in preferences and add a confirmation when removing Saved searches\n\n- Edit ToC button: Remember the last used e-book formats\n\n\n:: bug fixes\n\n- [1428018] E-book viewer: Fix regression that prevented pasting of text with formatting from the viewer\n\n- [1428212] Table of Contents editor: Fix selecting a location inside a file and then clicking on another file causes the previous location to be used in the new file\n\n- [1430831] DOCX input: Fix incorrect bold font weight being used for heading styles even if the style definition does not specify bold\n\n- [1426220] AZW3 input: Fix a bug that prevented conversion of AZW3 files that contained an empty CSS media block\n\n- [1425094] PDF output: Fix incorrect rendering of text in elements that use font-variant:small-caps and also have children\n\n- Get books: Update Amazon Europe, Empik and CDP store plugins\n\n- [1429292] PDF output: Fix incorrect conversion of source document that specify dir='rtl' on the root element\n\n- [1429282] PDF output: Ignore unparseable links instead of aborting the conversion on them\n\n- [1424607] Fix reading metadata from filenames tester not working for dates before 1900\n\n- Linux binary install: Fix SSL CA certificates not being detected on Fedora based distributions\n\n- Books list: Fix column alignment incorrectly propagating when changing libraries\n\n- FB2 input: Do not put a border around images\n\n- Fixes for various incompatibilities with (Py)Qt 5.4.1 which is used by some calibre distro packages on Linux\n\n- Fix error when running calibredb backup_metadata on a library that contains book records with no path information\n\n- Edit book: Fix extra search being hidden when removing a Saved search\n\n- Fix a regression in 2.20 that prevented some changes to per-library preferences from being saved\n\n- Linux installer: Do not register application/octet-stream as one of the mimetypes calibre can handle\n\n\n:: new recipes\n\n- Pando Daily by Darko Miletic\n\n:: improved recipes\n\n- Spektrum der Wissenschaft\n- New Musical Express\n- The Daily Mirror\n\n\n}}}\n\n\n{{{ 2.20.0 2015-02-20\n:: new features\n\n- [1421056] ODT input: Add backlinks for footnotes/endnotes and improve their formatting\n\n- [1422248] Windows: When running on Windows 8 and newer register with default programs so that users can more easily select calibre or its viewer/editor as the default program to launch e-book files\n\n- [1419313] Make publishers in the book details panel clickable\n\n- [1422133] Edit book Spell check: For mis-spelled words of the form one:two offer one: two as a suggested correction\n\n\n:: bug fixes\n\n- [1423390] Fix a regression that caused incorrect results when searching on numeric or date fields with relational operators\n\n- [1422844] DOCX input: Fix regression in 2.19 that broke handling of text with leading or trailing non-breaking spaces/en-spaces/quad-spaces\n\n- [1420629] Amazon metadata download: Update plugin for website changes to Amazon Brazil\n\n- E-book viewer: Fix footnote popup window not displaying entire footnote if footnote contains element with page-break-after set\n\n- Edit book: Reports tool: Fix double clicking on an unused image causing an error\n\n- [1422116] Tag browser: Fix incorrect grouping of words starting with graphemes, such as ash\n\n- [1421996] Conversion: Ignore incorrectly URL encoded links instead of erroring out on them\n\n- E-book viewer: Remove soft-hyphens when copying text to clipboard\n\n\n:: improved recipes\n\n- aktualne.cz\n\n\n}}}\n\n\n{{{ 2.19.0 2015-02-06\n:: new features\n\n- [1415714] Quick view window: Allow the Quickview window to be docked into the main calibre window\n\n- Add empty book: Allow setting the title as well as the author and series for the added empty book records\n\n- [1418207] Windows driver for Grammata Papyre 602\n\n- Edit book: Add an option to turn off auto-completion of closing tags\n\n- [1417219] Allow adding a description for custom columns\n\n- Book details panel: Allow any identifier of the form URL+number to become a clickable link. For example: URL1:http://example.com\n\n\n:: bug fixes\n\n- [1417327] Conversion: Convert entities that reference non-BMP unicode codepoints on Windows and macOS correctly. Linux was not affected by this bug\n\n- [1417700] Edit book: Do not auto-complete the closing tag when typing the / key inside an existing tag\n\n- [1417325] Fix Booken Lev e-book reader not being detected in macOS and Linux\n\n- DOCX input: Change handling of sequences of space characters to more closely follow Microsoft Word\n\n- Edit book: Fix Table of Contents editor not remembering its saved state across calibre sessions\n\n- [1416752] Edit book: Disallow drag and drop of documents onto the preview panel to workaround crashing bug in Qt\n\n- [1416526] E-book viewer: Fix current page not being preserved when opening and then immediately closing the footnote window\n\n- [1416222] PDF output: Fix incorrect encoding for some Chinese characters in the PDF Outline (Table of Contents)\n\n\n:: improved recipes\n\n- FAZ.net\n- Indian Express\n- CNN\n\n\n}}}\n\n\n{{{ 2.18.0 2015-01-30\n:: new features\n\n- Edit book: Add 'Style classes' and 'Links' report pages to the Reports tool\n\n- [1414315] Tag browser: Allow expanding all children of a node by right clicking and choosing 'Expand all'\n\n- Preferences: Re-arrange the controls to avoid needing to move the mouse from the top to the bottom of the dialog when closing the dialog after making some changes\n\n\n:: bug fixes\n\n- Save to Disk: Fix a bug where when multiple books are being saved to disk, if the save to disk template results in identical filenames, the filenames were not being properly disambiguated\n\n- [1414497] Preferences: Use a dialog instead of a main window to workaround Qt's poor handling of full screen mode on macOS Yosemite\n\n\n:: improved recipes\n\n- Al Jazeera in English\n\n\n}}}\n\n\n{{{ 2.17.0 2015-01-23\n:: new features\n\n- [major] Edit book: A new reports tool that shows a summary of files, images, words, characters and styles used in the book\n\nThe reports tool is a great way to get an overview of the different parts of your book. Every line in the report is hot-linked, double clicking it jumps to the places in the book where that item is used\n\n- Edit book: Allow adding the 'Manage Snippets' action to the toolbar, for easy access\n\n\n:: bug fixes\n\n- [1407265] Update Ozon.ru metadata download plugin for website changes\n\n- [1409916] E-book viewer: Fix regression in 'flow' mode that caused horizontal scrollbar to be rendered as vertical\n\n- [1411240] Fix a regression that prevented adding of books from sub-folders if the folder contained only an OPF file and no actual e-book files\n\n\n:: new recipes\n\n- TheAtlantic.com by ebrandon\n- The Conversation by Krittika Goyal\n- Apple Daily (TW) by Yulun Shih\n\n:: improved recipes\n\n- Salon.com\n- The Onion\n- Haaretz\n- Jot Down\n- Le Monde Diplomatique\n- tyzden\n- The AJC\n\n\n}}}\n\n\n{{{ 2.16.0 2015-01-10\n:: new features\n\n- [major] Edit book: Add support for snippets -- small pieces of text that are often re-used\n\nYou can now create your own snippets and insert them into the text with only a few keystrokes. The snippets include support for placeholders that you can jump between. See https://manual.calibre-ebook.com/snippets.html for details\n\n\n:: bug fixes\n\n- [1407860] Edit book: When importing files and the book has an orphaned entry in the manifest for that file, but the file itself is not present, rename the file instead of erroring out\n\n- [1408174] Book details panel: Fix author links with URL schemes other than http or file preventing context menu from working\n\n- PDF output: Make the minimum height for headers and footers scale with the base font size\n\n- [1407435] Fix a typo that prevented the Cybook Muse from being detected on some computers\n\n- [1407102] Fix regression in 2.15 that broke calibre on macOS 10.7 and 10.8\n\n\n:: new recipes\n\n- Ajans Firat and Edebiyat Haber by asalet_r\n\n:: improved recipes\n\n- Various updated Turkish news sources\n- tyzden\n- Sueddeutsche Zeitung\n\n\n}}}\n\n\n{{{ 2.15.0 2015-01-02\n:: new features\n\n- [major] Edit book: Add auto-completion for links\n\nNow as you type the filename in href or src attributes, a popup with possible completions is displayed. See https://manual.calibre-ebook.com/edit.html#auto-complete for details\n\n- Edit book Function mode: Add builtin functions to change case of text, ignoring HTML tags in the matched text\n\n- Edit book - Check Book: Allow auto-fixing of file not in spine errors\n\n- [1405901] Driver for Papyre 624 ml\n\n- [1405803] Conversion: Convert images encoded as data URIs in the input document into normal images, as some e-book reader software cannot handle data URIs\n\n\n:: bug fixes\n\n- [1406708] AZW3 input: Handle AZW3 files that contain Amazon specific CSS media queries\n\n- Fix regression that broke the markdown-calibre command\n\n- [1406056] Edit book - Show what changed: Fix scrollbar sometimes not visible if the differences contain a few, very long lines. Also fix the line numbers being partially obscured on some systems (depending on the font used)\n\n- Edit book: Fix a regression that caused the Home key to not move to the start of the line on lines containing un-indented tags\n\n- [1406040] Get books: Update the Amazon (US) plugin for website changes\n\n- [1405858] MOBI input: Fix incorrect conversion of MOBI files that wrap their content inside <a> anchor tags\n\n\n\n}}}\n\n\n{{{ 2.14.0 2014-12-26\n:: new features\n\n- [1404692] Metadata review dialog: Automatically insert series number when selecting a series from the completion dropdown. Also if the user does not specify a series number, use 1 as the default, instead of not setting the series\n\n\n:: bug fixes\n\n- [1405674] Fix regression that broke error reporting for save to disk for books that contain no formats\n\n- [1403677] Metadata download: Fix metadata download not working for titles that contain a apostrophes in languages other than English\n\n- [1404629] Fix deleting a book from both the library and the device causing the next selected book to be incorrect, when the library is sorted by the On device column\n\n- [1393514] FB2 output: Fix generation of FB2 sections based on a multi-level Table of Contents in the input document\n\n- [1404793] Tolino Shine driver: Fix option to swap main memory and SD card not working on macOS\n\n- [1404701] FB2 input: Workaround for broken FB2 files produced by convertonlinefree.com\n\n- macOS: Workaround for macOS installs that have incorrect permissions set on their home directories. calibre will now no longer refuse to start on such machines\n\n- [1404590] MOBI input: Don't crash on corrupted JPG images\n\n- [1404234] Fix column icons not displaying for custom comments type columns\n\n- [1404386] Metadata review dialog: Show a confirmation for the 'Reject all remaining' button\n\n\n:: new recipes\n\n- OSEL.cz by spacekpe\n- Courier Mail by Krittika Goyal\n\n:: improved recipes\n\n- Nikkei News\n\n\n}}}\n\n\n{{{ 2.13.0 2014-12-19\n:: new features\n\n- [1398672] Driver for the new CYBOOK MUSE e-book reader\n\n- [1400925] Edit metadata dialog: Allow editing identifiers in a dedicated window by right clicking on the identifiers edit box\n\n- [1401972] Allow generating a cover from metadata by right clicking the cover are in the book details panel also\n\n- Content server: Serve KEPUB files with the extension .kepub.epub when connecting to the browser on Kobo devices\n\n- Kobo driver: Add support for new firmware version 3.12\n\n- [1397701] Edit metadata dialog: Add a keyboard shortcut to swap title and author [Alt+Down]\n\n\n:: bug fixes\n\n- Save to disk: Fix a regression that prevented saving of files into the root of a drive on Windows\n\n- [1401915] FB2 input: Add support for FB2 books that incorrectly use the FictionBook 2.1 XML schema\n\n- [1401991] Fix command line arguments not being ignored on Windows and Linux when restarting calibre\n\n- [1402152] E-book viewer: Fix sorting of bookmarks by position in book not working on Windows and macOS\n\n- [1401502] Kobo driver: Fix bookmarks not being deleted from device when deleting books on the device\n\n- Edit book: Fix auto-complete of closing tag not working when typing the closing tag at just before a word (the word would become the closing tag name)\n\n- [1401085] calibredb: Fix list --for-machine ignoring custom columns\n\n- Edit book/Book polishing: Fix subsetting of fonts whose @font-face rules use the local() or format() CSS functions not working\n\n- Edit book: Fix regression that broke typing of XML entities for ampersand, less-than and greater-than\n\n- Edit book: Do not change the current selected text when right clicking on a mis-spelled word\n\n\n:: improved recipes\n\n- The Australian\n- The New Yorker\n- The Guardian\n- Ars Technica\n\n\n}}}\n\n\n{{{ 2.12.0 2014-11-28\n:: new features\n\n- Edit book: Automatically complete the closing tag in HTML/XML files when typing </\n\n- Edit book: Implement auto-indent, now when pressing the Enter key to start a new line, the new line's indentation is automatically created\n\n- [1395289] Driver for the Verso E71b e-book reader\n\n- Redesigned the 'Add a custom news source' dialog to make it easier to use, with a more powerful python editor\n\n- Make translations of the User Manual available in many different languages (fully or partially translated). Click the 'Change language' link in the sidebar of the manual to change the language\n\n- Edit book: Search & replace function mode: Add a new function annotation (replace.file_order) to control what order multiple files are processed in, when doing Replace all. See the User Manual for details\n\n\n:: bug fixes\n\n- Get books: Update Woblink store plugin for website changes\n\n- [1395694] Book polishing: Ignore zero byte font files in the e-book instead of erroring out on them when subsetting fonts\n\n- E-book viewer: Tighten heuristic used to detect footnote links. Do not consider a link that is the only content inside a block level tag as an endnote link, even if it is linked back to from its destination\n\n- Update the version of libimobiledevice shipped in the Linux and macOS builds to 1.1.7, should help with some connection issues to Apple devices\n\n- [1395176] PDF output: Add support for font-family aliasing in @font-face rules\n\n\n:: improved recipes\n\n- Wall Street Journal\n- New Yorker\n- Le Monde\n- Defense News\n- Digital Journal\n- Cracked.com\n- Boston Globe\n- RealClear Politics\n- EcoGeek\n- The Friday Times\n\n\n}}}\n\n\n{{{ 2.11.0 2014-11-21\n:: new features\n\n- [major] Edit book: Add a new 'function mode' for the Search and replace tool\n\nThe function mode allows you to create python functions that run on the results of Search and Replace. This allows you to do arbitrarily powerful text processing. For example, you can automatically fix the case of text, automatically add section number to headings, and so on. For examples and documentation, see: https://manual.calibre-ebook.com/function_mode.html\n\n\n:: bug fixes\n\n- [1394428] DOCX input: Add support for multilingual documents\n\n- [1393166] Edit metadata dialog: Fix date fields being displayed in the UTC timezone instead of the local timezone, causing the day to be off by one in some timezones\n\n- [1393230] Conversion/Book polishing: Fix ampersands in title/series/publisher/author not being properly escaped\n\n- Update the bundled version of libimobiledevice on Windows, so that the iOS Reader plugin can connect to iOS 8 devices again\n\n- [1392864] Fix a regression in 2.10 that causes Adding books from sub-folders, one book per folder to incorrectly add OPF files present in the sub-folders as an extra format\n\n- Fix a regression in 2.10 that caused changes in Preferences->Adding books to not work for the next immediate add\n\n- Fix Ctrl-R while in debug mode not restarting in debug mode properly\n\n- Fix regression in evaluating composite columns that use other composite columns\n\n\n:: improved recipes\n\n- Nikkei News\n\n\n}}}\n\n\n{{{ 2.10.0 2014-11-14\n:: new features\n\n- [1390720] Driver for the PocketBook Lux 2 with latest firmware\n\n- [1390887] Review downloaded metadata: Add suggestions for the tags, authors, publishers and series fields. Suggestions will pop-up as you type\n\n- Add books: Improve performance when adding large numbers of books at once\n\n- Add books: Allow adding books from multiple ZIP/RAR archives, each containing many books, by right clicking on the Add books and choosing 'Add from archive'\n\n- Metadata download: Prioritize results that have the same language as the current calibre user interface language\n\n- Edit book: Make the CSS used for styling the generated HTML Table of Contents user customizable via https://manual.calibre-ebook.com/customize.html#overriding-icons-templates-et-cetera\n\n\n:: bug fixes\n\n- E-book viewer: Fix popup footnotes not working on Windows\n\n- [1392052] Fix saving of searches that use the backslash to escape special characters not working\n\n- [863472] Save to disk: When multiple books end up with the same file name because they have the same metadata, automatically adjust the filename to make it unique\n\n- Fix e-book editor global menu not working on Unity when started from inside calibre\n\n- Get books: Update the Amazon European store plugins for website changes\n\n- Edit book: Fix handling of XML unsafe characters (like <, > and &) inside <style> tags\n\n- [1390901] Linux: Fix regression on Unity that prevented some keyboard shortcuts from working because of the global menu bar\n\n- Amazon metadata download: Do not prefer results with an ISBN, since Amazon now lists a large number of ISBN less titles\n\n- Amazon metadata download: Fix cover not being found for some books because of a website change at Amazon.com\n\n- [1390527] Conversion: Fix incorrect conversion of east-asian characters in CSS class names\n\n\n:: new recipes\n\n- Various German news sources by Bernd Boehm\n- The Daily WTF by Jelle van der Waa\n\n:: improved recipes\n\n- LWN Weekly\n- Scinexx\n- Ming Pao\n\n\n}}}\n\n\n{{{ 2.9.0 2014-11-07\n:: new features\n\n- [major] E-book viewer: Show footnotes in a separate popup window\n\nNow when you click on a link to a footnote/endnote, the corresponding note is shown in a separate popup window, for convenient reference. Footnote links are recognized using the EPUB 3 footnote markup as well as some heuristics. Any superscript or subscript links are assumed to be footnote links. Any link that links to another file which in turn links back to the original link, is assumed to be an endnote\n\n- Cover grid: Improve scroll wheel based scrolling\n\nOn Windows and Linux a single \"tick\" of the wheel now scrolls by about half a row instead of a full screen. On macOS, scrolling is pixel based, so as you scroll faster, more content is scrolled\n\n- Get books: Add the Bubok Portugal store\n\n- Performance improvement for large libraries that using custom columns built with templates\n\n- Review downloaded metadata dialog: Allow merging tags by long clicking the revert button\n\n\n:: bug fixes\n\n- [1388061] Fix a regression in 2.8 that caused the clear button next to date fields to set the date to Jan 101 instead of undefined\n\n- [1389404] Linux: Fix Unity global menu bar stops working after minimizing calibre to the dock or the system tray\n\n- [1389449] Sanitize the ImageMagick environment variables before launching external utilities\n\n- Prevent stale 'On device' info (from the previous connection) from showing during subsequent device connections\n\n- [1389188] Conversion: Add workaround for converting EPUB files with syntactically invalid (probably hand edited) OPF files\n\n- [1388595] Fix e-book viewer not displaying cover from HTMLZ files\n\n- Conversion: Handle input documents with crazy font sizes (1000pt +)\n\n\n:: improved recipes\n\n- Boston Globe\n- Brand Eins\n\n\n}}}\n\n\n{{{ 2.8.0 2014-10-31\n:: new features\n\n- Linux: Add support for the global menubar in Ubuntu Unity (The menu that is displayed in the top most on screen bar). It now works both with the main calibre program and the e-book editor. You can customize what appears in the menubar via Preferences->Toolbars\n\n- Get books: Add a new store, Bubok (bubok.es)\n\n- [1385904] Driver for Tolino Vision 2\n\n- [1387619] Review downloaded metadata: Allow merging downloaded and current identifiers by long-clicking the revert button\n\n- Template language: New function user_categories() to return the list of User categories for a given book (only works in the GUI)\n\n- E-book viewer: Add an option to prevent tapping on the page from turning pages\n\n\n:: bug fixes\n\n- Re-enable the system tray icon on Linux. System tray icons now work in any desktop environment that supports the StatusNotifier spec, such as Ubuntu Unity, KDE 4+, GNOME 3, etc\n\n- [1387596] System tray icon: On Windows if the calibre window is minimized, fix clicking on the system tray icon not restoring the window\n\n- E-book viewer: Clear history when reloading the book, to avoid errors, since the locations pointed to by the history may no longer be valid anyway\n\n- Linux: Force use of GNOME button layout for dialogs when running under the GNOME, UNITY or MATE desktop environments\n\n- Check book: Silence incorrect warning about guide references to cover image in AZW3 format\n\n- [1385586] Fix text entry widgets' popup completion window not working well with windows on-screen keyboard\n\n- Edit book: Fix links that are absolute paths causing crashes on Windows\n\n- [1385237] Fix the read metadata from format button in the edit metadata dialog not working for FB2 files\n\n\n:: new recipes\n\n- Planet Python and Krebs on security recipe by Jelle van der Waa\n\n:: improved recipes\n\n- Tyzden\n- Countryfile.com\n- FAZ net\n- The New Yorker\n\n\n}}}\n\n\n{{{ 2.7.0 2014-10-24\n:: new features\n\n- Support for the new Kindle Voyage\n\n- [1382795] The notification for the completion of background jobs, such as bulk metadata download, has been redesigned to not interrupt your work. It now waits in the lower right corner of the main window until you are ready to deal with it\n\n- Insert metadata as jacket page: Make the invisible tags used for searching across books format better, by giving them their own table row\n\n- Book details panel: Show custom column values for numeric columns even when the value is zero\n\n- Allow clearing of date and number type fields by right clicking and choosing clear when editing the fields in the book list or edit metadata dialog\n\n\n:: bug fixes\n\n- [1384375] MOBI/AZW3 output: When converting an EPUB document that specifies an SVG image as its cover image, convert the cover to JPEG as the Kindle cannot handle SVG cover images\n\n- [1384375] AZW3 input: Fix crash when processing AZW3 files that contain certain SVG images dies to a bug in ImageMagick\n\n- [1383365] Conversion: Ignore un-parseable links when trying to generate ToC from links, instead of aborting the conversion\n\n- [1383014] Edit metadata dialog: Fix window title not changing when using the Next/previous buttons if the books being edited have the same title\n\n- [1382633] Fix regression in previous release that prevented arrow keys/tab key from working in completion popups on macOS\n\n\n:: improved recipes\n\n- Folha de Sao Paolo\n- LWN Weekly\n\n\n}}}\n\n\n{{{ 2.6.0 2014-10-17\n:: new features\n\n- [1379048] Catalogs: CSV output: Allow changing the order of fields in the generated CSV catalog by using drag and drop to re-arrange the fields in the create catalog dialog\n\n- [1378072] Edit metadata dialog: When editing metadata individually for multiple books, popup a confirmation if the user clicks OK before finishing the editing of all the books\n\n- [1380528] Allow configuring a keyboard shortcut to toggle highlighting of search results via Preferences->Keyboard (under Miscellaneous)\n\n- Edit book: Saved searches window: Remember the last used values for where to search and search direction\n\n- [1380359] E-book viewer: Allow right clicking on the toolbar buttons to popup the optional menus, useful when using the viewer on a touch screen\n\n- E-book viewer: Add a keyboard shortcut to toggle the Table of Contents [Ctrl+T]\n\n- Performance improvement when renaming/deleting large numbers of items via the Manage Tags/Series/Publishers/etc dialogs\n\n- Kobo driver: Update to support soon to be released firmware update from Kobo\n\n\n:: bug fixes\n\n- [1379305] Amazon metadata download: Update the Amazon metadata download plugin to handle changes to the Amazon.com website\n\n- AZW3 output: Ignore invalid attribute names in the input document rather than aborting the conversion on them\n\n- [1381323] Book details panel: Fix custom columns built from other columns with tag like values not clickable in the book details panel\n\n- Edit book: Fix changing the editor undo/redo keyboard shortcuts not preventing the old shortcuts from working\n\n- CSV catalogs: Output all custom date time columns in the local timezone to match the format for builtin columns\n\n- E-book viewer: When looking up words in the dictionary for a book that has no language set, use the current calibre interface language\n\n- Fix comments editor widget in the edit metadata dialog swallowing Tab key presses, preventing the use of the keyboard to move between widgets. You can use Ctrl+Tab to insert literal tabs\n\n- macOS: Workaround for regression in Qt 5 that causes pressing the Esc key to close the entire window instead of the current completion popup\n\n- [1378045] Fix Advanced search dialog not being sized correctly if the user selects a larger than normal interface font\n\n- E-book viewer: Fix page turning by clicking in the margins in full screen mode (when displaying more than one page per screen) not working because of a Qt 5 behavior change\n\n\n:: improved recipes\n\n- nrcnext\n- Wall Street Journal\n- Smithsonian Magazine\n- Sueddeutsche Zeitung mobil\n\n\n}}}\n\n\n{{{ 2.5.0 2014-10-03\n:: new features\n\n- E-book viewer: Allow changing the website that is used as a dictionary for looking up words in the viewer. Click the Preferences button in the viewer and choose the dictionaries tab to customize the website\n\n- [1373649] Edit book/Book polishing: When embedding fonts or subsetting embedded fonts, handle the :first-letter and :first-line pseudo-element style rules\n\n- [1376018] Windows driver for Trekstor Pyrus 2 LED\n\n\n:: bug fixes\n\n- Fix a typo preventing calibre from recognizing the new Kobo Aura H2O\n\n- Edit book: Spell check: Fix replaced words coming back into the list when toggling the Show only misspelled words setting\n\n- [1370294] Edit book: Spell check: Fix replacing a word with multiple words causing the replacements to show up erroneously in the list of misspelled words\n\n- [1370288] Edit book: Fix leading or trailing hyphens on words being ignored when Spell checking\n\n- E-book viewer: Fix a regression, caused by a Qt 5 behavior change, that caused incorrect colors to be shown when viewing MOBI files that use CSS 3 color specifications internally\n\n- MOBI output: Handle input documents that use CSS 3 syntax for colors by converting the color to the #RRGGBB format required for MOBI\n\n- [1373504] Tag browser: Fix drag and drop of books onto a language not setting the language\n\n- [1374624] Tag browser: When renaming an item that is currently being searched for, remove the search indicator, as the search will no longer match the renamed item\n\n- [1374243] Bulk metadata edit: Fix getting cover from EPUB files that have no cover image by rendering the first page as the cover not working\n\n- [1374337] Custom cover generation: Fix disabled color schemes not being saved\n\n- Wireless device driver: Fix a regression in 2.4 that caused book matching to run slowly when connecting to Calibre Companion\n\n\n:: improved recipes\n\n- Sueddeutsche Zeitung\n- The Hindu\n- Carta\n\n\n}}}\n\n\n{{{ 2.4.0 2014-09-25\n:: new features\n\n- [major] An all new random cover generation algorithm, which generates covers using many different color schemes and cover styles\n\nNow when you click the Generate cover button in the Edit Metadata dialog a cover based on the book metadata is generated using random colors and styles. You can customize the random cover generation by long clicking the Generate Cover button, which will popup a dialog where you can create new color schemes and customize other aspects of the generated cover as well\n\n- Edit book: Redesign the Saved searches pop-up as a dockable window. Editing Saved searches now happens inline and the global search/replace keyboard shortcuts work in the Saved searches window\n\n- Edit book: Change the text of the 'Mark selected text' menu entry depending on whether it will mark or unmark the text\n\n- Edit metadata dialog: Allow undoing a metadata download by long-clicking the Download metadata button and choosing \"Undo last metadata download\"\n\n- [1223367] Edit metadata dialog: Allow undoing the changes to individual fields by right clicking on the field and selecting Undo after a metadata download\n\n- [1369178] Download metadata dialog: Allow using Enter key to select cover and left/right keys to move between metadata results\n\n- [1369152] Fix the row numbers in the book list remaining wide when switching libraries if some books were marked before the switch\n\n- [1369160] Fix keyboard focus not going to cover grid after doing a search\n\n- DOCX input: Support for the keepNext paragraph property to keep successive paragraphs on the same page\n\n- Template language: New template functions: raw_list() to return the items in a list such as tags without any sorting/formatting applied to them; author_sorts() to return the author sort strings from the authors table for the authors in the book\n\n\n:: bug fixes\n\n- [1371976] Fix a regression in 2.3 that broke creation of collections on the device when metadata management was set to manual\n\n- [1372066] E-book viewer: Fix displaying multiple pages per screen not working in calibre 2.x with some books, due to a change in Qt 5\n\n- [1367992] E-book viewer: Fix unintuitive behavior of back and forward buttons when going all the way back to the first item in the history\n\n- [1369753] Conversion: Do not allow default (user-agent) style rules to ever override style rules defined in the input document, regardless of CSS selector specificity\n\n- Workaround for Qt 5 regression that broke selecting multiple icons in Preferences->Column icon rules\n\n- Fix tags with angle brackets not being displayed in the Book details panel\n\n\n:: new recipes\n\n- Hurriyet Daily News and Al Monitor by spswerling\n- VICE News by Adrian Tennessee\n- Jagran Josh by Krittika Goyal\n\n:: improved recipes\n\n- Today's Zaman\n- Wall Street Journal\n- High Country News\n\n\n}}}\n\n\n{{{ 2.3.0 2014-09-11\n:: new features\n\n- [1367211] Cover grid: Dynamically adjust the size of the in memory cover thumbnail cache based on the window size to ensure flicker free rendering even on very large screens\n\n- Template tester: Remember last used template\n\n- Get books: When downloading books show a popup message telling the user that the books will be added to the calibre library automatically, to help new users understand what is happening. The popup message can be disabled\n\n- [1366074] E-book viewer: Try to detect when a chapter has a page break before the start of the chapter's text resulting in a leading blank page and override the page break\n\n\n:: bug fixes\n\n- [1367943] Edit metadata dialog: Fix the author sort field not being marked red initially when the author sort does not match the author due to a Qt 5 behavior change\n\n- macOS: Fix restarting of calibre not working if calibre.app is placed in a location with spaces in the path\n\n- Fix regression that caused calibre running in debug mode on macOS to not have a menubar or dock icon\n\n- [1366240] Get books: Fix downloading e-books from Project Gutenberg via the builtin browser not working because of changes to the Project Gutenberg website\n\n- [1366245] Get books: Update Gutenberg plugin for changes to the Project Gutenberg website\n\n\n:: improved recipes\n\n- Strategy+Business\n- Dawn\n- American Thinker\n- Anchorage Daily News\n- Financial Times\n\n\n}}}\n\n\n{{{ 2.2.0 2014-09-05\n:: new features\n\n- Kindle driver: Add option to not overwrite existing page number (apnx) files on the device when sending books to the device\n\n- Kindle driver: Add option to allow customization of the page number (apnx) generation algorithm based on values in a custom column\n\n- Metadata jacket: Allow customizing the jacket template to show the tags in alphabetical order\n\n- [1363416] View specific format window: If a conversion finishes in the background making a new format available, update the window\n\n- E-book viewer: Automatically hide the mouse cursor if the mouse has not been used for a few seconds. This prevents the mouse cursor from obscuring text underneath it. The cursor will reappear automatically when you move the mouse\n\n- [1363025] Driver for SurfPad 3\n\n\n:: bug fixes\n\n- [1328552] Conversion: Fix incorrect conversion of CSS when the input document uses the same CSS class name in both upper and lower case\n\n- Workaround for Qt 5 behavior change on macOS which prevented error handling during startup on macOS to not work\n\n- DOCX input: Fix non-breaking hyphens being ignored\n\n- Workaround for Qt 5 bug that causes text copied to the clipboard to be lost when quitting the viewer on Windows\n\n- [1364961] When detecting the encoding of HTML documents, if the document contains multiple charset declarations, prefer the HTML 5 syntax to the HTML 4 syntax\n\n- E-book viewer: Fix text not being reflowed when resizing the viewer window and only the height changes\n\n- Fix merging of book records not working correctly for custom columns of type text with fixed set of permitted values. Null values were incorrectly overwriting non-null values\n\n- [1363666] Creation of custom news sources failing on a computer on which no custom news sources have been previously created\n\n- [1363420] Workaround for Qt 5 on Windows bug that makes the selected indication for items in any list/table disappear when the widget loses focus\n\n- [1363470] Fix regression in 2.1 that prevented the saved column layout from being applied\n\n- Edit book: Fix the Check Book tool leaking threads\n\n- [1363122] Edit book: Fix editor hanging when quitting during a background save operation and the save operation completes before the warning dialog is dismissed\n\n- [1363076] Fix a regression in calibre 2.0 that caused setting the value of a custom number column to zero via the book list to clear the field instead\n\n- [1363028] Check Book: Fix an error caused by empty style tags when auto-renaming mismatched font names\n\n- When using the Embed metadata or Polish books tools to update metadata, fix custom columns values not being cleared in the book file even if they have been cleared in calibre\n\n\n:: new recipes\n\n- The Hollywood Reporter by Darko Miletic\n\n:: improved recipes\n\n- Common Dreams\n- LA Times\n- Spektrum der Wissenschaft\n- cracked.com\n\n\n}}}\n\n\n{{{ 2.1.0 2014-08-29\n:: new features\n\n- Prevent calibre from installing or running on Windows XP as there have been many reports of Qt 5 crashing on Windows XP and Windows XP is now no longer supported by Microsoft. If you are on Windows XP, please stay with calibre 1.48 until you are ready to upgrade your Windows. Apologies for the inconvenience\n\n- Kobo driver: Add support for new Kobo Aura H2O and firmware 3.8.0\n\n- [1360678] Driver for HTC C\n\n- [1360550] Add a new tool to easily test templates. Go to Preferences->Toolbars to add the tool to one of the calibre toolbars\n\n- EPUB and MOBI catalog generation: Allow using the full template language including all custom columns\n\n\n:: bug fixes\n\n- E-book viewer: Fix soft-hyphens causing rendering artifacts with some fonts due to a bug in Qt 5\n\n- [1362338] macOS: Workaround for Qt 5 bug that causes the popup menu on the author to author sort button in the edit metadata dialog to not respond if the mouse button if not released once before clicking menu entries\n\n- Book list: Fix Ctrl+Home/End not selecting the first/last book\n\n- [1361483] PDF output: Fix header and footer templates not working in calibre 2.0\n\n- macOS: Workaround for Qt 5 bug that caused many keyboard shortcuts to not work in macOS\n\n- Workaround for Qt 5 regression causing custom colors in color chooser dialogs to not be remembered between calibre sessions\n\n- [1360842] Conversion: Fix error when converting EPUB/HTML files that contain invalid margin or padding declarations\n\n- Fix for calibre 2.0 crashing on startup on some Linux systems when used with --detach\n\n- E-book viewer: When right clicking on an image to view it in its own popup window, fix the rotate button not working correctly with the zoom buttons\n\n- [1360693] Workaround for Qt 5 bug causing crash when running jobs (conversion to PDF or MOBI; reading metadata from an EPUB without a cover) that require Qt WebKit on Ubuntu\n\n- macOS: Fix background jobs stealing input focus if they require the use of Qt WebKit\n\n- [1360766] Preferences->Metadata plugboards: Show plugboards for disabled devices and formats whose metadata writer plugins have been disabled\n\n- Fix calibre 2.0 not using system color scheme on Windows and macOS\n\n- Fix regression in calibre 2.0 that caused crashes when using drag and drop to re-order virtual library tabs\n\n- [1360652] Linux: Disable the optional system tray icon because of bugs in the system tray icon implementation in Qt 5 on Linux\n\n- [1360621] E-book viewer: Fix navigating to a bookmark not updating the displayed page number\n\n- Fix the 'unified title and toolbar on macOS' tweak causing calibre to fail to work because of a bug in PyQt5\n\n- E-book viewer: Fix a regression in 2.0 that changed the speed of scrolling with the mouse wheel in flow mode\n\n- Edit book: Workaround for regression in Qt 5 that causes typing the Cmd+some letter to generate text in the editor instead of being ignored\n\n- [1360385] Book polishing: Fix EPUB files with corrupted ZIP central directories not working and leaving behind detritus in the current working directory\n\n- Edit book: Workaround for Qt 5 regression that caused the 'See what changed' tool to freeze the editor when closing the window showing the changes\n\n- [1360332] Fix regression in 2.0 that broke viewing of LRF format e-books\n\n- [1360069] Fix for a Qt 5 regression that caused the Copy to library right click menu to be empty on macOS\n\n\n\n}}}\n\n\n{{{ 2.0.0 2014-08-21\n:: new features\n\n- [major] For a summary of the major changes in calibre between 1.0 and 2.0, see https://calibre-ebook.com/new-in/eleven\n\n- Add support for MTP devices (Android phones/tablets) on macOS\n\n- Update the version of Qt used by calibre to Qt 5. This fixes various longstanding bugs in calibre that were caused by bugs in Qt 4\n\n- [1354785] Edit book: Make the edit saved search/add saved search popup window non-modal\n\n- Tag browser: Show format specific icons for the format entries in the Tag browser\n\n- [1353954] Library check: Add buttons to conveniently mark all fixable/deletable items\n\n\n:: bug fixes\n\n- E-book viewer: Reloading the book now re-opens it at the current position even if the option to remember position when quitting is turned off\n\n- E-book viewer: Remove extra spacing between document and scrollbars.  This is particularly noticeable when using a dark theme for the viewer\n\n- [1358443] PDF output: Fix balanced parentheses in the text of items in the Table of Contents not being rendered properly by some PDF viewers\n\n- Edit book: Abort terminal save on save error instead of quitting editor\n\n- Get books: Update the Project Gutenberg plugin for website changes\n\n- Plugin loading: When multiple plugin classes are present in the __init__.py namespace, use the one with the qualified name that has the least components\n\n- Edit book: Prevent long saved searches from making the Saved search dialog too wide\n\n- Comic input: Sort pages placed in sub-folders correctly (as long as all pages have the same number of parent folders)\n\n- Conversion: Fix the word @page in a comment inside a stylesheet with no following {} causing the rest of the stylesheet to be ignored\n\n- [1354624] Fix comparing AZW3 to ORIGINAL_AZW3 from the book details panel not working\n\n\n:: new recipes\n\n- General Knowledge Today by Kanika G\n- BBC Arabic by logophile777\n\n:: improved recipes\n\n- TIME Magazine\n- The Atlantic\n- Down to Earth\n- Heraldo de Aragon\n- Radikal (Turkey)\n- Wired Daily Edition\n- Orange County Register\n\n\n}}}\n\n\n{{{ 1.48.0 2014-08-08\n:: new features\n\n- E-book viewer: Make the list of bookmarks a dockable window that can be kept open while reading the book\n\n- E-book viewer: Make the Table of Contents panel a dockable window so it can be moved around and even made into a separate floating window\n\n- [1354059] E-book viewer: Allow reloading the current book by pressing F5 or Ctrl+R\n\n- [1353263] Edit Book: Allow changing the case of selected text by right clicking and choosing the appropriate change case action.\n\n- [1353893] Driver for Kiano Booky Light.\n\n- calibredb list: Have --for-machine dump the output in JSON instead of using ASCII separators, as most scripting languages have JSON parsers builtin\n\n- zsh completion: Complete filenames inside epub files for ebook-edit\n\n- ebook-edit: Allow specifying multiple internal files to open and get rid of the no longer needed --edit-file option\n\n\n:: bug fixes\n\n- [1352005] Fix over-aggressive caching causing multiple cover grid emblem rules to not work.\n\n- Edit Book: Fix position syncing and Live CSS not working if the opening tag is split over multiple lines\n\n- EPUB metadata: When updating the language in an EPUB file, preserve the country code, if the new language is the same as the original language in the EPUB file.\n\n- Edit Book: Fix choosing default dictionary based on language tag in the OPF ignoring the country code\n\n- Edit Book: Fix a regression that caused clicking on links in the preview panel that lead to destinations in the same HTML file popping up a spurious error message.\n\n- [1351622] Fix regression that caused tags to not be sorted when displayed in the book details panel.\n\n- Edit Book: More robust implementation of current tag detection for Live CSS. Now uses the same logic as matching tag highlighting.\n\n- Edit Book: When highlighting the tag the cursor is currently inside, if the cursor is inside the definition of an opening tag, highlight that tag rather than its parent.\n\n- Edit Book: Check Book: Do not run the rest of the checks if parsing errors are found, to prevent the checkers from raising unhandled errors\n\n\n:: improved recipes\n\n- Maximum PC\n- El Correo\n\n\n}}}\n\n\n{{{ 1.47.0 2014-08-01\n:: new features\n\n- [major] Cover Grid: Allow user defined emblems (icons) to be displayed next to covers\n\nNow you can have your own custom icons displayed next to covers in the cover grid, based on simple rules you create. For example, you can display a heart icon next to books with a rating of more than four stars or a tick mark next to books you read and so on. To create these rules go to Preferences->Cover Grid and click the Emblems tab on the left.\n\n- [1349548] E-book Viewer: Use wiktionary.org and wordnik.com as dictionary providers instead of dict.org\n\nWhen looking up words, the word definition is now opened in a separate browser window.  The language of the dictionary to lookup is automatically selected based on the language of the current book. To lookup a word in the viewer simply select the word with your mouse and right click, then choose 'Lookup in dictionary'\n\n- [1348986] Edit Book: Allow customizing the templates used when creating new, blank HTML/CSS files via Preferences->Editor settings.\n\n- Comic Input: When sorting the pages inside a comic, recognize numbers, so that page2 sorts before page10\n\n- Conversion: When inserting a metadata jacket, format the series number using roman numerals. This behavior can be disabled by using a custom jacket template, as described here: https://manual.calibre-ebook.com/customize.html#overriding-icons-templates-et-cetera\n\n- Template language: New function author_links: for each author of a book returns the author link value entered in Manage Authors.\n\n\n:: bug fixes\n\n- [1348941] Edit Book: Fix incorrect results when running replace all on marked text and more than one replacement is made.\n\n- [1350495] Edit Book: Live CSS: Improve detection of which tag the cursor is inside when there are multiple tags on the same line.\n\n- Edit Book: Clear the Check Book panel when opening a new book\n\n- Edit Book: Allow the import files into book action to be added to the toolbar\n\n- [1349856] Edit Book: Fix subsetting of fonts not working if the text contains non-BMP unicode characters.\n\n- [1349536] News download: Fix HTML parser used in the news download subsystem not preserving whitespace inside <pre> tags\n\n- [1349442] Conversion: Do not strip underscores from classnames.\n\n- Edit Book: Fix cursor positioning not working when creating a new file from a template\n\n- [1348937] Fix a rare error that could happen when using series columns inside a custom column template\n\n- E-book viewer: Handle quoted URLs inside @font-face rules\n\n\n:: new recipes\n\n\n:: improved recipes\n\n- New Yorker\n\n\n}}}\n\n\n{{{ 1.46.0 2014-07-25\n:: new features\n\n- [major] Edit Book: Add support for third party plugins to extend the editors functionality.\n\nThe editor now supports plugins that can be used to extend its functionality. Documentation of the plugin API and an example plugin are at: https://manual.calibre-ebook.com/creating_plugins.html#edit-book-plugins\n\n- calibredb list: Add a --for-machine option that causes the output to be made in a form more easily parsed programmatically (it uses ASCII field and record separators)\n\n- Book details panel: Automatically convert ISSN identifiers into links to the periodicals page on worldcat.org\n\n- [1346913] Edit Book: When re-arranging the toolbars inside an individual file editor, save the new toolbar layout so that it is re-used in the future.  Also apply the changed layout to all open editors of the same type.\n\n- [1346913] Edit Book: Make the undo/redo/cut/copy/paste buttons on the editor toolbar also configurable, so they can be removed via Preferences->Toolbars, if needed.\n\n- [1346543] Edit Book: Allow editing xpgt (Adobe Page Template) files as XML.\n\n- Edit Book: Allow the action to launch the saved searches dialog to be added to the global toolbars\n\n- [1344799] Book details panel: Add an option to make clicking on the author name search the calibre library for the author instead of opening the wikipedia page for the author. To use it got to Preferences->Look & Feel->Book Details.\n\n\n:: bug fixes\n\n- Fix published date not being merged when merging book records\n\n- [1348054] Embed metadata tool: Fix error when trying to embed metadata in corrupted MOBI files or files of other types that are marked as MOBI in the library\n\n- [1347171] Edit Book: Make the warning dialog that pops up when you try to quit while the editor is saving changes in the background a little more clear.\n\n- [1344259] When generating covers, do not render soft-hyphens in the text as hyphens.\n\n- [1348173] Conversion: Fix a bug processing the CSS font shorthand property when the line-height is specified in em or percentage units\n\n- calibre-customize: When building plugins from a directory, exclude known version control subdirectories\n\n\n:: improved recipes\n\n- Grandes corresponsales\n- Times of India\n- Economic Times of India\n\n\n}}}\n\n\n{{{ 1.45.0 2014-07-18\n:: new features\n\n- Edit Book: Add in-context help for HTML and CSS\n\nNow, you can right click on any HTML/OPF/NCX tag name or CSS property and the editor will open some help for that item in your browser.\n\n- [1341297] Book details panel: Make series and tags clickable. Clicking on them will search the calibre library for all books in the same series/ having the same tag\n\n- Edit metadata dialog: Improve performance by only writing changed fields to the database when clicking OK or Next\n\n- AZW3 Input: When converting from AZW3 files, use the high quality version of the image if the source AZW3 file contains both low and high quality images. These dual azw3 files are produced by kindlegen 2.9\n\n- Edit Book: When right clicking on a link in the editor add a menu entry to open the link\n\n- Edit Book: Search and replace panel: Add arrows to open the list of recently used search and replace expressions\n\n- [1343704] Driver for Motorola Milestone X2.\n\n\n:: bug fixes\n\n- AZW3: Preserve the page-progression-direction property when converting/editing/polishing AZW3 files\n\n- [1341306] AZW3 Input: Workaround broken AZW3 files produced by kindlegen that use uppercase attribute names.\n\n- [1341549] PDF metadata: When updating the XMP metadata in PDF files, compress the XMP block written to the PDF. This is particularly useful when the PDF file has an existing XMP metadata block with very large amounts of data in it.\n\n- Fix searches on Yes/No columns using the terms ('blank', 'checked', 'unchecked') not working on non-English calibre installs\n\n- Edit metadata dialog: Do not auto change the title sort field when clicking OK if the title was changed. Instead the title sort field must be changed explicitly.\n\n- [1341240] Linux binary installer: Fix regression that caused ZSH completion to not be installed\n\n- Edit Book: Spell check: When suggesting alternative for a hyphenated word, ensure the first suggestion is the word formed by removing the hyphen, if that is a valid word\n\n- Get Books: Update the Woblink plugin to handle changes to the woblink website\n\n- Edit Book: Fix replacement of hyphenated words in the spell checker not working\n\n- Edit Book: Fix live syntax highlighting of links not being updated correctly after renaming an open file\n\n- Edit Book: Fix regression that caused crash while syntax highlighting CSS stylesheets that contain url() tokens without enclosing quotes\n\n- [1343444] Linux binary: Do not fail on system with invalid locale info. Instead default to using the UTF-8 encoding on these systems.\n\n\n:: improved recipes\n\n- The Economic Times India\n- EPW\n- Carta\n- The Hindu\n- F-Secure\n- NOAA Online\n\n\n}}}\n\n\n{{{ 1.44.0 2014-07-11\n:: new features\n\n- Edit Book: Syntax highlight links, images, stylesheet includes, etc. Links that point to missing files are marked as errors. You can Ctrl + click on a highlighted link to jump to the file it points to directly.\n\n- [1339766] Edit Book: Check Book: Add a check for manifest items missing href attributes.\n\n- [1338862] When clicking in the search box, select all existing text, for easy replacement.\n\n- Edit Book: Add buttons to change the text alignment of the current paragraph. If you do not see them, go to Preferences->Toolbars and add them to the Text formatting actions toolbar.\n\n- Improve performance of rendering the book list when lots of column coloring rules are used\n\n- Kobo driver: Support for new firmware version 3.5\n\n\n:: bug fixes\n\n- Edit Book/Book polishing: Do not auto-resolve @import rules in AZW3 files. Also do not add a @namespace rule to all stylesheets that contain tag selectors.\n\n- [1339055] Edit book/Book polishing: Preserve the class attribute on the <html> tag in AZW3 format files.\n\n- Edit Book: Fix inline spell check context menu not working when triggered by context menu key or a right clicking at the right edge of the word.\n\n- [1339257] Fix some font directories from fonts.conf being ignored on linux when scanning the system for installed fonts.\n\n- Edit book: Spell checker: Treat hyphenated words as single words for spell checking\n\n- Edit Book: When using the spell check dialog to change words, detect any changes made to open files outside the spell check dialog and automatically integrate them, to prevent those changes from being lost.\n\n- [1338219] Update driver for Tolino Shine to handle new firmware\n\n- Book polishing: When changing the cover in an EPUB file, place the newly created cover image in the same folder as other images in the book, rather than the root\n\n- [1340023] Linux installer: Use pkg-config to get the location for installing the calibre bash completion scripts. pkg-config is used only when installing to /usr.\n\n\n:: improved recipes\n\n- Science Daily\n\n\n}}}\n\n\n{{{ 1.43.0 2014-07-04\n:: new features\n\n- Add a wizard for easily searching date fields in your library. To use it click the advanced search button to the left of the search field. Allows you to search for books whose date is older/newer than a specified date or less/more than a number of days from today and so on.\n\n- [1336868] Driver for Onyx T68.\n\n- [1332582] When reading metadata from file names, allow setting the comments field as well, in addition to title/authros/publisher/series/etc.\n\n\n:: bug fixes\n\n- Fix a regression in the previous release that broke changing Save to Disk preferences\n\n- [1336639] Recognize leading articles for the Esperanto language when auto-generating title sorts. \n\n- Edit Book: Fix a regression that caused syncing of the preview panel to the editor cursor position to not work when the cursor is positioned on a blank line in between two tag definitions\n\n- [1335696] Metadata download: Round the downloaded ratings so that, for example, 3.6 stars becomes 4 stars instead of 3 stars.\n\n- Edit Book: Fix a crash when performing some image editing operations on 64 bit calibre builds\n\n- [1332837] Recognize additional leading articles in the titles of Italian language books\n\n- Edit Book: Fix an occasional spurious error message when using the Live CSS feature\n\n\n:: new recipes\n\n- Dark Reading by Brandon Allberry\n\n\n}}}\n\n\n{{{ 1.42.0 2014-06-27\n:: new features\n\n- Edit Book: new tool to easily add a cover to the book. It automatically generates the HTML wrapper and takes care of marking the covers files as covers in the OPF.\n\n- Edit Book: Improve the performance of inline spell checking, especially noticeable when editing large HTML files (over 100KB in size).\n\n- Edit Book: Run syntax highlighting in the background, reducing user interface latency when editing large files\n\n- Template language: Add a new function (group_re) to use grouping regular expressions with groups, where you can replace the matched groups with result of another template.\n\n- Edit Book: Check Book: Add a check for HTML files with non UTF-8 encoding declarations\n\n- Edit Book: Spell check dialog: Add an option to make filtering the word list case sensitive\n\n\n:: bug fixes\n\n- Get Books: Fix integration with ebook.de broken by website changes\n\n- [1333468] MOBI Input: Preserve the dc:rights metadata during conversion.\n\n- Edit Book: Fix non-BMP unicode characters causing matching tag highlighting to be slightly off on linux\n\n- Edit Book: When editing HTML files that have charset encoding declarations, automatically change the declared encoding (if any) to UTF-8 on save, since the editor always saves files in the UTF-8 encoding.\n\n- [1317883] Edit Book: Fix various problems when editing EPUB files with non-ascii internal filenames on OS X.\n\n- Edit Book: Remove unused CSS: Fix an error if an HTML file links to a missing stylesheet\n\n\n:: new recipes\n\n- Economic and Political Weekly by Krittika Goyal\n\n:: improved recipes\n\n- Deadspin\n\n\n}}}\n\n\n{{{ 1.41.0 2014-06-21\n:: new features\n\n- [major] New tool to set metadata in the actual book files in the calibre library from the updated metadata in the calibre database.\n\nTo use it go to Preferences->Toolbars and add the 'Embed metadata' tool to the main toolbar. Then simply select the books whose files you want to update and click the Embed metadata button. Normally, calibre updates metadata in the book files whenever a file is exported from calibre. This tool is useful for people who want the files in the calibre library to have updated metadata as well.\n\n- calibredb: Add a new 'embed_metadata' command to update metadata in the actual book files in the calibre library from the calibre database.\n\n- Edit Book: Allow customization of toolbars\n\n- Add empty book: When adding empty book records to the library, add an option to also create empty EPUB files. Useful if you intend to subsequently edit these files with the calibre editor. You can access the add empty books feature by right clicking the Add Books button.\n\n- Edit book: Remove unused CSS: Add an option to also remove unused class attributes from the HTML\n\n- [1329971] Edit book: Check Book: Add checks for empty HTML/XML/CSS/image files in the book.\n\n- Edit Book: Check Book: Add checks for links whose fragment (the part after the #) points to a location that does not exist\n\n\n:: bug fixes\n\n- RTF metadata: Add proper support for unicode characters when reading and writing metadata to RTF files\n\n- RTF metadata: Fix failure to write metadata to RTF files that do not already have an \\info block\n\n- Edit Book: Remove unused CSS: Handle @import rules when checking for unused CSS\n\n- Edit Book: Remove unused css: Prevent failure when book has invalid items marked as stylesheets\n\n- [1329724] calibredb: Fix set_metadata not working for the series_index field.\n\n\n\n}}}\n\n\n{{{ 1.40.0 2014-06-12\n:: new features\n\n- Edit Book: Add a new tool to manage fonts. Allows easily changing/removing/embedding fonts in the entire book. To use it go to Tools->Manage Fonts\n\n- [1326897] Edit Book: Allow the color of the links in the Live CSS panel to be themed.\n\n- [1326198] E-book viewer: Add a keyboard shortcut to bookmark current location.\n\n\n:: bug fixes\n\n- Edit Book: Check book: When auto-changing font name to match actual name in font file, also change the font name in shorthand font declarations\n\n- Edit Book/Book polishing: Fix embedding all referenced fonts not catching fonts that are only specified via style attributes and not in any stylesheets.\n\n- Conversion: Fix normalization of CSS shorthand font property not working when multiple font families are specified in the same shorthand property\n\n- Edit Book: Live CSS: Fix clicking on link to go to style definition not working if the stylesheet contains CSS 3 @media queries or @font-face rules\n\n- Edit Book: When importing DOCX files, set the media type for html files correctly\n\n- [1327522] Edit Book: Fix import of DOCX files that contain no Table of Contents not working.\n\n- [1324575] Portable installer: Fix a crash if the user selects a destination for the portable install that does not have enough disk space.\n\n- Fix date column not showing date added when adding zip/rar files that contain an OPF with a calibre timestamp in its metadata\n\n- Sony driver: Fix SONY annotation app not working with files sent to the device by calibre\n\n- [1326453] Linux build: Fix regression that caused opening PDF files (or any externally viewed files) preventing calibre from being restarted as long as the external viewer is not shutdown.\n\n- Edit book: Fix changing underline style to none when creating a custom color scheme causes error.\n\n- [1326073] Check Book: Fix empty (zero byte) XML files causing check book to fail.\n\n- [1325070] Check Book: Fix combination of mismatching font family names and a font-family declaration with an invalid value (such as a dimension) causing auto fixing of errors to fail.\n\n\n:: improved recipes\n\n- Respekt\n- Newsweek\n- Jerusalem Post\n- Outlook India\n- PC Magazine\n- Instapaper\n\n\n}}}\n\n\n{{{ 1.39.0 2014-05-29\n:: new features\n\n- Edit Book: Allow creation of custom color schemes for the editor (Preferences->Editor settings)\n\n- [1323362] Check Book: When reporting unmanifested file warnings, allow auto fixing by adding the file to the manifest if it is referenced elsewhere or removing the file if it is not.\n\n- Edit book: Preview panel: Allow syncing of position more accurately when there are multiple tags on the same source code line\n\n- Edit book: Live CSS: Indicate which CSS properties are overridden by higher priority rules\n\n- [1321761] Kindle driver: When generating page numbers automatically, add an additional method to detect page boundaries, using the presence of <mbp:pagebreak> tags in the source of the book. You can use this setting by right clicking on the Kindle icon in calibre when the kindle is connected and choosing customize this device.\n\n\n:: bug fixes\n\n- [1322474] Virtual Libraries: If the user selects a virtual library whose tab has been closed via the Virtual Library button, re-open the tab instead of displaying the virtual library in the All Books tab.\n\n- [1322637] DOCX Input: Fix a regression that broke conversion of documents with an index that contains fields with special page text.\n\n- [1320829] Edit Book: When editing a book in a language for which no dictionary is installed, consider all words to be correctly spelt, rather than misspelt.\n\n\n\n}}}\n\n\n{{{ 1.38.0 2014-05-23\n:: new features\n\n- [major] Edit Book: A 'Live CSS' tool that shows all the style rules for the tag you are currently editing.\n\nYou can use it to easily jump to any style rules that affect the current tag. Enable it via View->Live CSS. See https://manual.calibre-ebook.com/edit.html#the-live-css-panel for details\n\n- [1319476] Add an option to hide the book rating in the cover browser (Preferences->Look & Feel->Cover Browser).\n\n- [1321346] DOCX Input: if no language is defined in the metadata, use the language specified in the document default style.\n\n\n:: bug fixes\n\n- [1321317] Edit book: Fix regression that sometimes caused incorrect syntax highlighting when non-breaking spaces/typographic hyphens are present in the text.\n\n- [1321975] Fix a regression that broke the compare books tool when used outside the book editor.\n\n- Get Books: Update the Woblink plugin to handle changes to the Woblink website\n\n- [1321343] DOCX Input: Workaround buggy version of Microsoft Word converting newlines in the document summary into _x000d_. They are now ignored when reading metadata from docx files.\n\n- [1320977] Edit book: Fix Check Book failing if a binary file such as an image or font is mislabelled in the OPF as being a text file.\n\n- [1320347] OS X Build: Fix a bug that was preventing multiple instances of calibre being used by different user accounts on the same computer.\n\n- Edit book: Dont show an error message when trying to use quick open with no book open\n\n- Content server: Add .ibooks (note the trailing s) as an allowed format as well.\n\n- [1320459] Edit Book: Fix an error when running the Check Book tool on files with empty <style> tags.\n\n- [1298071] Edit Book: A more complete fix for non ascii usernames on windows when using the export file dialog.\n\n\n:: improved recipes\n\n- Ars Technica\n- Slate\n- Instapaper\n- The Independent\n\n\n}}}\n\n\n{{{ 1.37.0 2014-05-16\n:: new features\n\n- Edit Book: Live spell checking in the code view. Now spelling errors are highlighted in the code view for convenient correction as you type. This can be turned off via Preferences->Editor.\n\n- [1318242] E-book viewer: When using the tap and hold gesture on a touchscreen, allow lookup  of the word currently under the finger in the dictionary or online.\n\n- Edit Book: Allow putting the editor into replace mode by pressing the Insert key\n\n- Content server: Add more descriptive titles to the OPDS feeds, where possible.\n\n- Edit Book: Update the Table of Contents view automatically when the ncx file is edited.\n\n- Edit book: Insert tag button: Allow entering attributes along with the tag name to make it easy to repeatedly insert, for example, <span class='special'></span>.\n\n- [1317892] Windows driver for Woxter Scriba 190.\n\n- Edit Book: Add an entry to the context menu of the preview panel to open external URLs when a link is right clicked on\n\n\n:: bug fixes\n\n- [1319378] Edit Book: Fix error in the Check Book tool when items in the opf have paths starting with a leading slash.\n\n- [1319732] Book polishing: Fix publisher field in epub not being cleared when updating metadata.\n\n- Kobo driver: Update to handle changes to annotation processing in newer Kobo firmware.\n\n- [1318670] DOCX Input: Handle docx files with index fields that have their field names incorrectly lower cased.\n\n- Edit book: Fix incorrect syntax highlighting on linux if the text contains non-BMP unicode characters.\n\n- [1318139] Edit book: Fix regression that caused an error when trying to edit files with no defined syntax, such as plain .txt files.\n\n\n:: improved recipes\n\n- Wall Street Journal\n\n\n}}}\n\n\n{{{ 1.36.0 2014-05-09\n:: new features\n\n- Edit Book: A new tool to filter style information (Tools->Filter style information). Useful to easily remove some CSS properties from the entire book.\n\n- DOCX Input: Add support for cross references. Cross references that are used to insert hyperlinks are now converted into hyperlinks in the output document. Features to insert paragraph/page numbers are not supported.\n\n- Add support for viewing kepub files in the calibre viewer, by treating them as plain epub files\n\n- Edit book: In the Insert Link tool show a few words of text alongside the location anchor name, to make it easier to know what a location is\n\n- [1315340] Manage user dictionaries: Allow copying all selected words by right clicking them and choosing 'Copy to clipboard'.\n\n- Content server: Make .ibook format files available in OPDS feeds\n\n- Edit book: Allow copying the list of errors from the Check Book tool to the clipboard by right clicking on the list of errors\n\n- [1316158] Book polishing: If the books being polished have an ORIGINAL_EPUB/AZW3 format, warn the user that polishing will use it as the source and ask for confirmation.\n\n\n:: bug fixes\n\n- [1300383] Fix metadata plugin to download metadata from OZON for website changes.\n\n- [1316533] Subsetting embedded fonts: Fix an error when subsetting embedded fonts on windows if the username contains quotes or apostrophes.\n\n- [1316170] Edit Book: Fix error when checking spelling if one of the files in the book declares an invalid (empty) language code.\n\n- [1315458] Linux install: Have the calibre GUI programs redirect stdout and stderr to null when launched via .desktop files to workaround systems where the GUI launchers are broken.\n\n- Edit Book: Fix inserting a < in text that contains a colon causing a hang.\n\n- [1317543] DOCX Input: Fix error when converting document with nested frames.\n\n\n:: improved recipes\n\n- Various Japanese news sources\n- National Geographic\n\n\n}}}\n\n\n{{{ 1.35.0 2014-05-02\n:: new features\n\n- [1314339] Edit Book: Redesign the syntax highlighter to improve performance for large documents and extended editing sessions.\n\n- Edit book: Make cursor movement smooth by not highlighting matching tags while the cursor is moving. Only match highlighting tags if the cursor stays still for a time.\n\n- Spellcheck dialog: Indicate whether a word is ignored in the Misspelled column\n\n- Spellcheck dialog: Pressing Ctrl+C on the words list copies only selected words, regardless of current cell\n\n- Add a copy to clipboard action to the context menu for the spell check dialog\n\n- [1313567] Edit book: Fix save button incorrectly disabled after a failed save\n\n\n:: bug fixes\n\n- Edit Book: Fix an error when merging CSS stylesheets that contain @charset rules\n\n- Edit book: Fix extra invalid entries being generated in the manifest when editing an AZW3 file that has no images.\n\n- [1314009] Edit book: Fix a hang when editing an HTML or XML file with text of the form <abc: (i.e. a tag name with a trailing colon).\n\n- [1315064] Fix regression that prevented the ebook editor from starting on linux systems with locale set to 'C'\n\n- DOCX Input: Fix formatting of the generated Index when the index is complex, i.e. with lots of references to the same item, multiple level of sub-items, etc.\n\n- [1286477] Smarten punctuation: Fix a double quote preceded by a hyphen at the end of a sentence (before the start of the next tag) being converted into an opening quote instead of closing quote.\n\n- [1313982] News download: Fix very long URLs for links to pages causing errors on windows because of max path length restrictions.\n\n- Edit book: Fix saved search dialog causing high CPU usage\n\n- [1313315] Edit book: Fix importing of Lithuanian dictionary from OpenOffice, that does not specify a country code.\n\n\n:: improved recipes\n\n- Ars Technica\n- Daily Mirror\n- Birmingham Evening Mail\n- NRC - Next\n- Private Eye\n- NZZ\n\n\n}}}\n\n\n{{{ 1.34.0 2014-04-25\n:: new features\n\n- E-book viewer: When in flow mode, handle swiping on the touchscreen differently. Swiping now scrolls line by line in flow mode instead of page by page. If you wish to scroll page by page in flow mode, tap instead of swiping.\n\n- Conversion: Preserve all guide entries that are of a type present in the EPUB 2.0 specification. These entries are used by newer Kindle readers to populate the Go To jump list\n\n- [1306748] When adding MOBI files if the author name is in LN, FN format, auto change it to FN LN format, as the MOBI format has no author sort field. This behavior can be disabled by setting Preferences->Tweaks->Author sort name algorithm to copy.\n\n- Spellcheck: When checking French text list all words that have the same stem as a single word. So j'aime and aime are listed as a single word.\n\n- [1309559] Spell check: Add a context (right click) menu that allows for quick operations on all selected words\n\n- Manage user dictionaries: Add a button to import a list of words in bulk into the user dictionary\n\n- Spell check dialog: Allow sorting words case sensitively\n\n\n:: bug fixes\n\n- [1311650] EPUB Input: Fix incorrect handling of obfuscated fonts using the IDPF obfuscation algorithm when the epub unique identifier starts with urn:uuid\n\n- [1311650] Edit book: Fix obfuscated fonts in EPUB files not being handled correctly when editing the book (obfuscated fonts would get corrupted when making changes).\n\n- Edit book: Fix a bug that caused spell checking to fail when using the builtin spanish dictionary\n\n- Spell check: Fix replacing a word and then replacing the new word again not working without doing a refresh in between\n\n- [1310000] Spell check: Fix language declarations not being respected for nested tags.\n\n- Spell check: Fix 'Show next occurrence' sometimes showing the word in an incorrect location, for example in an attribute where spell check is not performed.\n\n- Allow import of dictionaries that deviate from the spec in minor ways\n\n- Edit Book: Fix the Show next occurrence button in the spell check dialog sometimes failing to show next occurrence\n\n- OS X: Detect the users default interface language correctly. Also fix parsing of ambiguous dates in mm/dd vs dd/mm formats, based on the users locale settings in OS X.\n\n\n:: improved recipes\n\n- Hindustan Times\n\n\n}}}\n\n\n{{{ 1.33.0 2014-04-18\n:: new features\n\n- [major] Edit book: Add a tool to check spellings, access it via Tools->Check spelling\n\nThe calibre book editor now has builtin spellcheck. You can install new dictionaries via Preferences->Editor->Manage spelling dictionaries. It comes with builtin dictionaries for English and Spanish. You can add OpenOffice dictionaries (in .oxt format). The tool checks spellings in all HTML/OPF/NCX files in the book, taking into account any language declarations in the book, so that it will work correctly on multi-lingual books as well. The code is very new, so there may well be bugs. As you type spell checking is not yet implemented.\n\n- Kobo driver: Support firmware version 3.3\n\n- Device driver for Tolino Vision on windows\n\n\n:: bug fixes\n\n- Amazon metadata download: Fix Editorial Reviews not downloading into the comments section for some books\n\n- DOCX Input: Fix some text highlighting colors in the DOCX file not being correctly translated during conversion.\n\n- Wireless device driver: Fix incorrect syncing behavior when book matching is run for a second time while connected. This happens when the user changes the library or selects 'Update cached metadata on device'.\n\n- Searching: Fix searching by date not using the system locale to interpret dd/mm vs mm/dd dates on windows\n\n\n:: new recipes\n\n- Various new and updated Spanish news sources by Marc Busque\n\n:: improved recipes\n\n- Barrons\n- Creative Blog\n\n\n}}}\n\n\n{{{ 1.32.0 2014-04-11\n:: new features\n\n- Fetch news: Allow automatically creating custom news sources by importing OPML files. Many RSS news reader programs can export their list of RSS feeds in the OPML format.\n\n- Conversion: When inserting metadata as a jacket page, alter the font sizes in the jacket so that the sizes match the sizes used in the rest of the book. Also pretty print the generated jacket HTML.\n\n- Allow searching for books by id and uuid using the id: and uuid: prefixes\n\n- Allow specifying arbitrary colors for column coloring rules\n\n\n:: bug fixes\n\n- Update the version of openssl shipped in the binary builds (the version in the windows 64bit build was vulnerable to the Heartbleed bug)\n\n- Edit Book: Fix book being marked as modified even when no actual changes were done by various automated tools such as Smarten Punctuation, Subset Fonts, etc.\n\n- [1303181] Fix ebook-device cp -f failing when destination file already exists\n\n- Ensure that the rendered dates in the book list and edit metadata dialogs are always in the same language as the calibre interface, regardless of system language setting\n\n- Edit metadata dialog: Remember window size for the cover download window\n\n- [1303022] DOCX Input: Dont fail on DOCX files that contain pages with zero effective width.\n\n- Content server: Fix page not found error when clicking on a category that has only a single item in it\n\n- Send books to the Books folder for the Tolino Vision, as it cannot find books placed outside this folder\n\n- Edit book: Fix error when beautifying HTML files that contain un-indented <script> or <style> tags\n\n\n:: improved recipes\n\n- Ekantipur\n- NRC Handelsblad\n- Frontline\n\n\n}}}\n\n\n{{{ 1.31.0 2014-04-04\n:: new features\n\n- DOCX Input: Support for converting indexes created using the Word Index tool. The entries in the index are automatically converted into links pointing to the indexed locations.\n\n- [1250475] AZW3 Output: Add support for converting documents with very large table of contents (with more than 2000 entries).\n\n- Edit Book: Add a button to easily insert HTML tags. Useful if you want to quickly surround selected text with an arbitrary tag. You can right click the button to get a list of recently used tags.\n\n- [1301875] Driver for Tolino Vision (OS X/Linux only).\n\n- Edit book: Allow editing SVG files as raw XML\n\n\n:: bug fixes\n\n- [1301044] DOCX Input: Fix incorrect numbering being generated for numbered lists in some circumstances.\n\n- calibredb check_library: Do not create empty library if user specifies incorrect path\n\n- DOCX Input: Fix handling of hyperlinks in documents where the hyperlink is specified as a field internally (Microsoft Word does not use fields for hyperlinks)\n\n- Get Books: Update WH Smiths plugin for website changes and remove Diesel eBooks, as they are shutting down\n\n- [1293290] AZW3 Output: Fix a bug that caused popup footnotes in some AZW3 files to not work properly. The popup would show all remaining footnotes instead of only the current footnote.\n\n- AZW3 Output: Various tweaks to the internal structure and headers of the output file to make it closer to what kindlegen 2.9 generates\n\n- [1299097] Edit Book: When user is editing files belonging to another user account on linux/os x rather than erroring out when saving, change the ownership of the file to the editing user.\n\n- Edit Book: Fix insert Inline ToC creating non-linear jumps in class names\n\n- Fix regression that broke ebook-device cp\n\n\n:: new recipes\n\n\n:: improved recipes\n\n- CNET\n- El Pais Impreso\n- CNet News\n- Antyweb\n\n\n}}}\n\n\n{{{ 1.30.0 2014-03-28\n:: new features\n\n- [1295902] Cover Browser: Add an option to show covers with their original aspect ratio instead of resizing them all to have the same width and height.  Option is in Preferences->Look & Feel->Cover Browser.\n\n- PDF Output: Enable using javascript inside header and footer templates\n\n- Edit Book: When generating an inline ToC add a class attribute to all <ul> tags to make it easy to style a particular level of the ToC\n\n- Use abstract named sockets on linux for IPC, to avoid use of temp files for sockets\n\n- Drivers for the N800 and N950 Nokia MeeGo tablets\n\n- Edit Book Saved searches: Allow saving normal mode searches as well\n\n- Edit Book Saved searches: Add import/export functionality\n\n- [1295200] calibredb add: Add option to specify language when adding books\n\n\n:: bug fixes\n\n- [1297713] AZW3 Input: Handle files with garbage bytes in their table of contents.\n\n- [1296817] DOCX Input: Fix text from some paragraphs not being converted if the paragraph contains an inline forced page break and no formatted text or line breaks.\n\n- calibre-customize: Do not error out if one of the installed plugins has no customization help when listing all plugins\n\n- [1298071] Edit book: Fix error when exporting files on some windows systems with non UTF-8 filename encodings\n\n- [1297532] Edit Book: When beautifying treat <img> tags as block tags\n\n- Linux binary build: Fix worker processes not working on linux systems with bash >= 4.3\n\n- [1295236] PDF Output: Fix using __SECTION__ in header and footer templates resolving to the inscorrect section if a page with no sections follows a page with multiple sections.\n\n- Cover Browser: Fix visual 'pop' when scrolling the first time\n\n- [1295901] Grid View: Allow the left and right arrow keys to traverse over rows.\n\n\n:: improved recipes\n\n- The Atlantic\n- Courrier International\n- Der Tagesspiegel\n\n\n}}}\n\n\n{{{ 1.29.0 2014-03-21\n:: new features\n\n- Edit Book: Add support for saved searches. Click Search->Saved Searches to bring up a dialog where you can create and manage saved searches\n\n- [1287025] Edit Book: New tool to specify semantics in EPUB books (semantics are items in the guide such as preface, title-page, dedication, etc.). To use it, go to Tools->Set Semantics\n\n- Edit Book: Preview panel: Add a copy selected text action to the context menu\n\n- Edit Book: When inserting hyperlinks, allow specifying the text for the hyperlink in the insert hyperlink dialog\n\n\n:: bug fixes\n\n- [1294529] Fix a regression in the previous release that broke downloading metadata for authors with a double initial such as R. A. Salvatore.\n\n- [1287018] Edit book: When generating inline Table of Contents, mark it as such in the guide section of the OPF.\n\n- [1292822] E-book viewer: Fix right margin for last page in a chapter sometimes disappearing when changing font size.\n\n- Edit Book: Fix saving of empty files not working\n\n- Edit book: Fix a regression in the previous release that broke saving a copy of the current book on linux and OS X\n\n- Edit book: Fix syntax highlighting in HTML files breaks if the closing of a comment or processing instruction is at the start of a new line.\n\n- [1292841] Edit book: Fix check book failing in the presence of empty <style/> tags.\n\n- [1294983] Catalogs: Fix handling of tristate boolean custom columns when creating EPUB/MOBI catalogs.\n\n- [1295366] Linux build: Workaround for systems that have broken libc implementations that change the behavior of truncate() on file descriptors with O_APPEND set.\n\n\n:: new recipes\n\n- Applefobia by koliberek\n\n:: improved recipes\n\n- TIME\n- Wired Daily Edition\n\n\n}}}\n\n\n{{{ 1.28.0 2014-03-14\n:: new features\n\n- Edit Book: Add a tool to easily insert hyperlinks (click the insert hyperlink button on the toolbar)\n\n- Edit book: Add a tool to easily open a file inside the book for editing by just typing a few characters from the file name. To use it press Ctrl+T in the editor or go to Edit->Quick open a file to edit'\n\n- Edit book: Allow disabling the completion popups for the search and replace fields. Right click on the search/replace field to enable/disable the completion popup\n\n- E-book viewer: Add an option to control the maximum text height in full screen. Note that it only works if the viewer is in paged mode (which is the default mode).\n\n- [1291691] Show the search expression for the virtual library in a tooltip when hovering over the tab for the virtual library.\n\n- Book details panel: Show author URL in a tooltip when hovering over author names\n\n- Kobo driver: Update to handle updated Kobo firmware\n\n\n:: bug fixes\n\n- [1291142] Library backup: Avoid infinite retries if converting metadata to backup OPF for a book fails. Simply fail to backup the metadata for that book.\n\n- Edit book: Fix file permissions for the edited book being changed on Linux and OS X\n\n- Fix text entry cursor becoming invisible when completion popup is opened\n\n- Possible fix for crash on OS X Mavericks when adding duplicates\n\n- E-book viewer: Fix pressing the Esc key to leave full screen mode not changing the state of the full screen button\n\n- When reading metadata from filenames, do not apply the fallback regexp to read metadata if the user specified regexp puts the entire filename into the title. The fallback is only used if the user specified expression does not match the filename at all.\n\n- Linux binary install script: Fix error on linux systems where the system python has an encoding of None set on stdout. Assume encoding is utf-8 in this case.\n\n- Content server: Fix (maybe) an error on some windows computers with a non-standard default encoding\n\n\n:: improved recipes\n\n- Fleshbot\n\n\n}}}\n\n\n{{{ 1.27.0 2014-03-07\n:: new features\n\n- An option to add multiple books from inside a ZIP or RAR file. Right click the Add Books button and choose 'Add multiple books from archive'.\n\n- [1286522] Database backend: Make the database backend more robust when the calibre library is placed on flaky filesystems. Now when an I/O error occurs while writing to the database, the connection to the database is closed and re-opened and the operation is retried.\n\n- DJVU Input: Speedup extraction of text from DJVU files by implementing the BZZ decoder algorithm in C\n\n\n:: bug fixes\n\n- [1288430] MOBI Input: Fix empty <a> tags not being handled correctly in rare cases when the markup is bad enough to be parsed only using the fallback HTML parser.\n\n- Edit book: Fix column number of cursor shown in the bottom right being one less than it should be.\n\n- Edit book: Fix names for non-BMP unicode character (Such as emoticons) not being displayed in the lower right corner. Also allow these characters to be searched for by name in the Insert special character tool.\n\n- Do not show system tray notification popups while analyzing books on device, as they can be slow on systems that display multiple messages serially instead of replacing the last message\n\n- Linux installer script: Do not use the filesystem to pass the downloaded tarball to tar as it is possible for malicious code running on the users computer to alter the download file between signature verification and calling tar to extract the files.\n\n- [1286771] DJVU Input: When extracting embedded txt from TXTz sections in DJVU files, fix incorrect extraction of txt when the djvutxt external program is not present.\n\n- Edit Book: Fix import HTML file as new book not working on OS X\n\n- Wireless device driver: Fix a regression that prevented it form working with the Calibre Sync Android app.\n\n- Fix a regression in 1.26 that caused width and height attributes on <img> tags to generate CSS width and height properties without a 'px' suffix\n\n- [1286274] Linux binary installer: Fix an error when using proxies and python 3 with the new installer script\n\n- Edit book: When exporting files, fill the choose filename popup with the name of the file being exported as the default name\n\n- [1286011] Make the new Linux installer script compatible with python 2.6.\n\n\n:: improved recipes\n\n- American Thinker\n- HNA\n- Heise\n- Arguments and Facts\n- Financial Times\n\n\n}}}\n\n\n{{{ 1.26.0 2014-02-28\n:: new features\n\n- Edit Book: Allow direct importing of HTML or DOCX files as new books without doing a full conversion. Use File->Import HTML or DOCX to import a file as a new EPUB book with minimal changes from the original.\n\n- [1283154] Linux binary installer: Various improvements to the binary installer. It now creates an un-installer (calibre-uninstall) that will remove all files created by the installer. It also no longer asks for the installation directory. If you wish to change that, you need to specify it in the installation command itself. Also the installer is now downloaded securely via HTTPS from github and verifies the signature of the installed files. Finally, it can be used to create an isolated install, that only makes changes to files in the installation directory and does not require root privileges.\n\n- [1285319] Metadata download: Add an option to merge the downloaded comments into existing comments, instead of overwriting (Preferences->Metadata download).\n\n- Edit book: Add an option to automatically beautify individual files whenever they are opened for editing. Look under 'Editor Settings' in the Edit Book Preferences.\n\n- [1283251] Bulk metadata download: When reviewing downloaded metadata allow hiding the controls on the comments box by right clicking in the comments area. Useful on smaller screens.\n\n- E-book viewer: When displaying metadata for the book, also display custom column metadata\n\n\n:: bug fixes\n\n- [1285351] Smarten punctuation: Correct handling for decade abbreviations like '60s and measurements in feet and inches like 1' 2\".\n\n- EPUB Output: If the output profile is set to one of the Nook profiles, do not use shorthand CSS properties as the Nook cannot handle them.\n\n- [1283108] Conversion: Fix incorrect CSS being generated when converting files that have <img> tags with width or height attributes that contain fractional numbers.\n\n- [1283015] Edit Book: When editing EPUB files, and a file is added in META-INF/ do not automatically add it to the manifest. Also do not warn about unmanifested files inside META-INF/ since a few vendors (Apple) require non standard files in that location.\n\n- Fix Book details popup window not being updated when editing metadata in the main window\n\n- Edit book: Fix editor not marking the book as modified when doing a Replace All that does not affect any currently open files.\n\n- Windows: Use a separate worker process to move files to the recycle bin. Fixes the problem of the recycle bin icon not being updated when deleting books into an empty recycle bin. Also avoids the overhead of launching a new, short-lived worker process for every delete.\n\n- calibredb: When deleting books/formats wait for deleted files to be moved to recycle bin, before quitting\n\n- [1268118] RTF Output: Fix invalid RTF being produced when the text contains a double backslash.\n\n- Edit book: Fix option to disable showing the character before cursor not working\n\n- Get Books: Update various store plugins to account for changes to the store websites\n\n- Fix virtual library names with ampersands in them not being displayed correctly in the virtual library menu and tab bar\n\n\n:: new recipes\n\n- Various Russian news sources by bug_me_not\n\n:: improved recipes\n\n- AnandTech\n- Zeit Online\n- Spektrum\n- Le Temps\n\n\n}}}\n\n\n{{{ 1.25.0 2014-02-21\n:: new features\n\n- [major] PDF: Add support for reading and writing extended (XMP) metadata\n\ncalibre can now read and write XMP metadata from PDF files. This means that all metadata that you can create in calibre, including custom columns, can be stored in the PDF files. It is also useful when importing PDF files created by some academic publishers, that sometimes have good XMP metadata, such as DOI identifiers, tags and so on.\n\n- Updated Quick Start guide. Available from: https://github.com/kovidgoyal/calibre/raw/master/resources/quick_start.epub\n\n- [1280868] Edit Book: Allow typing arbitrary unicode characters with the keyboard in the editor To use this feature, just type the unicode code number and press Alt+X.  For example, to get the character ÿ type ff and press Alt+X\n\n- Edit book: Some performance improvements for the syntax highlighter that should make the editor noticeably more responsive while typing inside large HTML files.\n\n\n:: bug fixes\n\n- [1282583] Edit book: Fix an error that occurs if more than 100 checkpoints are created.\n\n- Edit book: Fix splitting of HTML file occurring at the wrong location if the HTML contains invalid constructs like nested <p> tags\n\n- Edit book: If the book being edited is deleted outside the editor, instead of showing an error message on save, ask the user to choose a new file location before saving.\n\n- [1282357] Bulk metadata edit search and replace: Do not allow the user to perform the search and replace until she enters a search expression.\n\n- Conversion: When converting SVG images for formats that do not support SVG and the SVG has an invalid viewBox, ignore the viewBox instead of aborting conversion\n\n- Conversion: Fix parsing of HTML 5 documents that are also valid XML but use non-namespaced inline svg\n\n- [1281296] Catalogs: Fix multiple exclusion rules causing entries to be duplicated.\n\n- [1281099] HTML Input: Fix incorrect parsing of file names in href/src attributes that contain percent encoded non-ascii characters.\n\n- Edit book: Workaround bug in Qt causing crash on deleting bottom most file in the Files Browser on linux\n\n- Edit book: Workaround for bug in Qt that caused extra null bytes to be appended to the end of the file when saving if the file contains non-BMP unicode characters.\n\n- Edit book: When autofixing file extensions <-> mimetype mismatch, if the file in question is in the spine, change the file extension rather than the mimetype, as that is more likely to be the correct fix.\n\n- [1280606] Fix the Similar Books menu items failing to find similar books if the target book has a quote in its metadata\n\n- Edit book: Fix regression that caused program to stop responding when quitting via File->Quit\n\n\n:: new recipes\n\n\n:: improved recipes\n\n- Various Polish news sources\n- Mac World UK\n\n\n}}}\n\n\n{{{ 1.24.0 2014-02-14\n:: new features\n\n- [major] E-book viewer: Add support for touchscreens when running on Windows tablets.\n\nThe builtin viewer in calibre now supports touch screens on Windows tablets. You can tap or swipe to turn pages. Swipe up or down to jump between sections. Swipe and hold to flip through pages rapidly and pinch to zoom in and out.\n\n- Sending by email: Add an option to insert the comments from the book metadata as text into the email. Useful to allow the recipient to see a summary of the book before opening it. The option is in Preferences->Sharing by email\n\n- Edit book: new tool to automatically generate an inline (HTML) Table of Contents based on the current NCX Table of Contents. Accessed via Tools->Table of Contents->Insert inline Table of Contents.\n\n- Edit Book: Add a check for internal links in the book that do not point to HTML documents\n\n- Kobo driver: Add support for the soon to be released firmware version 3.2\n\n- Completion popups: Allow pressing Tab (in addition to Enter) to accept the current completion\n\n- Edit book: When auto-fixing named entities, fix in all files not just current file.\n\n\n:: bug fixes\n\n- [1278670] EPUB Output: Do not override any declared text-decoration CSS for <u> tags when auto-converting them to <span> (auto-conversion is needed to comply with the epub spec).\n\n- Windows: Improve handling of non-ascii characters when the command line utilities are outputting to the windows console\n\n- PDF Output: Fix incorrect rendering of html files with only a single large image and very little text. In some rare circumstances, the full html file would not be rendered.\n\n- [1278305] Add a copy to clipboard button for the duplicates message when copying to another library.\n\n- Catalogs: Fix an error when generating catalogs via calibredb from the command line on non-English installs\n\n- Catalogs: Fix an error creating catalogs in ebook format when one of the books contains HTML entities in its title\n\n- Preferences: When using the Restore to defaults button for the Tweaks, remove all plugin tweaks as well. This allows the user to recover the tweaks file if one of the plugins insert invalid code into the plugin tweaks\n\n- Edit book: Fix previously used locations for file open dialogs not being remembered when edit book is launched from within the main calibre program\n\n- [1280040] Edit book: Fix a couple of temporary files occasionally not being cleaned up on program exit in windows\n\n\n:: improved recipes\n\n- Associated Press\n- NRC Handelsblad\n- Cumhuriyet Yazarlar\n- ABC (es)\n\n\n}}}\n\n\n{{{ 1.23.0 2014-02-07\n:: new features\n\n- Edit Book: Highlight the closest surrounding tag when editing HTML/XML\n\n- Edit Book: Add a tool to easily change the current paragraph (the paragraph containing the cursor) to a heading. Simply click the button with 'H1' on it and choose the heading level you want the current paragraph changed to.\n\n- Edit Book: When running Replace All add a button to the replaced message to show exactly what changes were done and allow them to be undone\n\n- Edit book: When checking book, detect case mismatches between links and the filenames of the files they point to and offer to auto-correct the links\n\n- [1276918] Adding books: Implement a copy to clipboard button for when duplicates are found during the adding process. Useful if you wish to review the list of duplicates later.\n\n- [1271974] Linux installer: Install appdata files for integration with software stores.\n\n- Edit book: Auto add a checkpoint when the book is first opened for editing\n\n\n:: bug fixes\n\n- [1276726] Edit Book: Fix a bug in AZW3 support that could cause images/fonts to get mixed up when saving and re-opening the book multiple times.\n\n- Edit Book: Fix individual find and replace not working in regex mode if the search expression uses lookbehind/lookahead operators\n\n- Compare books: Fix unchanged lines at the start of a change block being sometimes marked with a blue background, even though they contain no changes\n\n- Compare books: Fix incorrect scrolling when viewing all text and a large amount of text is present after the final change.\n\n- [1277102] PDF Output: Fix a zero division error when the transformation matrix has a zero diagonal\n\n- calibredb add_custom_column: Fix a spurious error message when adding custom columns caused by the new db backend\n\n- calibredb list: Fix error if one of the requested fields is empty for all requested books\n\n- calibredb set_metadata: Fix setting series_index with the -f argument not working\n\n- [1212330] Markdown input: Fix handling of very large files.\n\n- Edit book: Do not create savepoints when no changes are performed by automated tools such as smarten punctuation, remove unused css etc.\n\n- [1275366] Edit Book: Fix a bug that would cause an error when a global operation like find/replace or polishing fails.\n\n- Metadata download: Workaround edelweiss.com no longer being able to search by author name.  Search only by titles and filter the results returned by edelweiss to only include matching authors.\n\n- HTML 5 parser: Preserve non-core namespace declarations on the <html> tag\n\n- [1275125] Workaround broken file chooser dialog on Ubuntu that does not auto-insert the specified extension.\n\n- Compare books: Fix error when previously different files become identical after beautifying\n\n- Edit Book: Fix subsetting embedded fonts not processing fonts included in a stylesheet that is itself referenced only by an @import rule\n\n- Edit Book: Fix the remove unused css tool changing the namespace prefix used for the XHTML namespace in the CSS sheet, if any\n\n- Conversion: Fix CSS selectors using the epub namespace being ignored\n\n- Compare books: Fix double clicking in the right panel not opening the correct file in the editor\n\n\n:: new recipes\n\n- Disinformatico by isspro\n- Les Echos by Krittika Goyal\n\n:: improved recipes\n\n- Kathimerini\n- Cosmopolitan UK\n- wired.it\n- Gosc Niedzielny\n- New York Times Book Review\n\n\n}}}\n\n\n{{{ 1.22.0 2014-01-31\n:: new features\n\n- [major] A new tool to compare ebook files, showing the differences in their underlying text, styles and images side by side\n\nThe new compare tool is very useful in combination with the book editor. It allows you to see what changes have been made between checkpoints and what changes were made by automated tools. You can also compare different versions of the same ebook file. How to use each of these features is described below. Screenshots and help for using the new compare tool are at https://manual.calibre-ebook.com/diff.html\n\n- Edit book: Add a tool to view the list of checkpoints and compare the current state of the book to the state at the specified checkpoint. To use it click View->Checkpoints\n\n- Edit book: Add a tool to compare the book being currently edited with another file. To use it go to File->Compare to other book\n\n- Allow comparing the ORIGINAL_EPUB version of a book to the EPUB version by right clicking on the ORIGINAL_EPUB format in the book details panel. And the same for ORIGINAL_AZW3 and AZW3 formats.\n\n- Edit Book: Add a button to show the changes after various automated tools are run such as: remove unused CSS, subset embedded fonts, smarten punctuation, etc.\n\n- Edit Book: Add check for spine items with incorrect media-type specified in the manifest\n\n- Edit Book: Enable editing of page map XML files\n\n- [1273130] DOCX Input: Improve handling of text boxes. Text boxes are still not supported, but they no longer cause errors or duplicate content when embedded inside paragraphs.\n\n- [1272769] Edit Book: Add check for links that point to directories in the book instead of files.\n\n- [1272543] Edit Book: Show the filename of the currently edited file in the title bar.\n\n\n:: bug fixes\n\n- Edit Book: Fix unused CSS removal tool inserting namespace declaration at the top of the stylesheet\n\n- [1272730] Edit book: Fix cover not being updated from the current cover in the calibre library when using Edit Book. Note that you can turn off metadata updating via Preferences->calibre Integration in the Edit Book Preferences.\n\n- [1274339] Conversion: Add support for <style> and <link> tags outside the <head> tag.\n\n- Edit book: Fix undo not working for subsetting fonts\n\n- [1273512] CHM Input: Handle CHM files with broken markup where all the content is placed inside the <head> tag.\n\n- DOCX Input: Fix padding-left of <ul>, <ol> being defaulted to 0 if no padding specified in the docx style, which breaks rendering for lists at the left margin of the document.\n\n- [1273559] MOBI Output: Handle the value attribute on <li> tags.\n\n- EPUB Output: Fix splitting of HTML files not updating links in the <pageList> section of the NCX file\n\n- [1273471] EPUB Input: Handle EPUB files with incorrect media types for the spine items when converting.\n\n- [1272588] RTF Output: Fix failure to convert documents that contain comments with the -- string inside the comment.\n\n- [1272410] Edit Book: Fix extra 1x1 unused GIF image being created when saving and re-opening AZW3 files.\n\n- [1272089] Fix editing of narrow yes/no columns in the book list not very convenient\n\n\n:: new recipes\n\n- Various Russian News sources by bug_me_not\n\n\n}}}\n\n\n{{{ 1.21.0 2014-01-24\n:: new features\n\n- Edit book: Add a tool to automatically remove all unused CSS rules.  Useful for books created from templates that can have large numbers of CSS rules that dont match any actual content. Available via Tools->Remove unused CSS.\n\n- Edit book: Add a tool to split HTML files at multiple locations automatically.  To use it, right click in the file and choose 'Split at multiple locations'.  Useful if you want to split at all heading tags or all tags having a certain class and so on.\n\n- Book polishing: Add an option to automatically remove all unused CSS rules, works the same as the tool for Edit book, above.\n\n- [1266079] Driver for ImCoSys imcoV6L\n\n- Edit book: Allow editing of .plist files as XML\n\n\n:: bug fixes\n\n- Metadata download: Fix downloading of metadata from Edelweiss not working because of website changes\n\n- Ebook viewer: Do not override the background color specified in the book if the user has not set a background color in the viewer preferences\n\n- Edit book: Handle EPUB files that erroneously list the OPF itself in the OPF manifest with an incorrect mime type\n\n- Edit book: Prevent arrange into folders tool from moving files inside the META-INF folder\n\n\n:: new recipes\n\n- Various Turkish news sources by asalet_r\n\n:: improved recipes\n\n- Indian Express\n- Daily Express\n- Business Week Magazine\n- New York Review of Books\n\n\n}}}\n\n\n{{{ 1.20.0 2014-01-17\n:: new features\n\n- Edit book: Add a new tool to automatically arrange all files in the book into folders based on their type. Access it via Tools->Arrange into folders.\n\n- Edit book: Add various validity checks for OPF files when running the Check Book tool.\n\nCheck for incorrect idrefs, missing required sections, non-linear items in the spine, incorrect meta cover tags, duplicated items in the manifest or spine and so on.\n\n- Edit book: Add checks for duplicate ids in HTML/OPF/NCX files\n\n- Edit book: Add checks for filenames containing URL unsafe characters to the Check Book tool\n\n- [1267837] Conversion: Allow getting text for entries in the Table of Contents from tag attributes.\n\n\n:: bug fixes\n\n- [1268657] AZW3 Output: When converting EPUB files that include an HTML titlepage and no external cover is specified, ensure that the Go to cover action on the Kindle goes to the cover image and not the HTML titlepage.\n\n- Prevent setting an incorrect value for compression quality in the wireless driver causing an error\n\n- Show a busy cursor while calibre is working on matching books on the device to books in the library, which can take a while if the user has a lot of books on the device.\n\n- [1268058] iTunes driver: Retry automatically a few times when failing to send multiple book to iTunes.\n\n- [1268262] HTML Input: Fix UTF-16/32 encoded files that are linked to from the parent file not being properly processed.\n\n- [1267327] EPUB Output: Fix splitting of large HTML files removing all child tags from inside <pre> tags.\n\n- [1267980] Edit book: Fix tab characters not being identified in the lower right corner.\n\n\n:: improved recipes\n\n- Various Polish news sources\n- Dilema Veche\n\n\n}}}\n\n\n{{{ 1.19.0 2014-01-10\n:: new features\n\n- Edit book: A new tool to insert special characters into the text, available via Edit->Insert special character. Supports all unicode characters (over 60,000 of them). See https://manual.calibre-ebook.com/edit.html#inserting-special-characters\n\n- Edit book: When searching for text in the editor, center the found text on screen\n\n- [1266030] Driver for teXet TB-146SE.\n\n- Edit book: Show tooltips in the File Browser for 'special' files, such as the cover, opf, ncx, etc.\n\n- Edit book: When checking book, check for entries in the OPF whose mimetype does not match the file extension.\n\n\n:: bug fixes\n\n- [1267643] Edit book: Fix marking a file as titlepage not working if the opf does not contain a <guide> section.\n\n- Edit book: Fix errors when working on HTML files that parse as valid XML, but do not have the correct XHTML namespace.\n\n- [1266795] Fix typing non-English characters using an input method (key composing) in the author/tags/etc fields in the metadata dialog not working.\n\n- Edit book: Fix error when merging html files that include a currently opened file and a non-html file is also open\n\n- [1262819] Fix unnecessary error popup during shutdown if the wireless device driver is running and mdns de-registration fails.\n\n- [1264172] Add L´ and D´ as recognized articles when automatically computing sort strings for French.\n\n- Edit book: Fix changing mimetypes in the opf file not being detected when closing the opf file or running any automated tool like Check Book\n\n\n:: improved recipes\n\n- New York Times\n- Zeit Online\n- Faz.net\n- OGlobo\n- Inc Magazine\n- New York Review of Books\n- Brand Eins\n\n\n}}}\n\n\n{{{ 1.18.0 2014-01-03\n:: new features\n\n- [1264304] Add an option to control how completion works when editing authors/tags/series/etc.\n\nBy default, when completing items, calibre will show you all the candidates that start with the text you have already typed. You can instead have it show all candidates that contain the text you have already typed. To do this, go to Preferences->Tweaks->Completion mode.  For example, if you type asi it will now match both Asimov and Quasimodo, whereas the default behavior would match only Asimov.\n\n- [1264680] Edit book: Add a check for too large HTML files when running the check book tool.\n\n- [1265175] Conversion: Sort the CSS rules in the output stylesheet using a 'natural' sort algorithm, so that calibre2 sorts before calibre10.\n\n- [1265225] Cybook Orizon driver: Upload cover thumbnails in the correct format and add an option to control what directory books are sent to on the SD card\n\n- Portable installer: Do not ask the user for confirmation when upgrading an existing installation during an automated install\n\n- Linux/OS X driver for Trekstor Pyrus LED\n\n- [1264355] Driver for Tagus Lux\n\n\n:: bug fixes\n\n- [1265226] MOBI Output: When text indent is specified as a percentage in the input document, prevent the generated MOBI from having too large an indent if the user chooses a large output profile like tablet.\n\n- [1265147] Edit book: Fix live replacement of entities not working on some non-US keyboard layouts.\n\n- [1265202] Fix titlecasing of words not capitalizing the first letter, if the first letter is not an English character.\n\n- Edit book: Ensure that multiple edit book windows are grouped in a separate group from viewer windows in the Windows 7 taskbar. Also change the icon color to blue to more easily distinguish it from the viewer icon\n\n- [1263461] Edit book: Fix a bug in the regex engine that calibre uses that could cause various incorrect results in some special circumstances.\n\n- Edit book: Replace buggy Qt supplied actions in the context menu for the editor widget with properly implemented ones\n\n- Book list: Fix sorting on fields that are not viewable as columns not being restored on calibre restart. Also fix sorting on the Title field via the right click menu not being restored.\n\n- [1264534] Windows 64bit build: Fix corrupted images in MOBI files causing crash.\n\n- [1264390] Edit book: Prettify html in newly created books.\n\n- AZW3 Input: Handle azw3 files that contain some empty individual HTML files\n\n- [1264133] Comic Input: Fix a regression to comic input in 1.15 that could cause some comics to be rendered as black or white pages.\n\n\n:: new recipes\n\n- Nan Feng Chuang by Chen Wei\n\n:: improved recipes\n\n- Chicago Tribune\n- Caijing\n- HBR\n- poche\n- Neue Osnabrucker Zeitung\n\n\n}}}\n\n\n{{{ 1.17.0 2013-12-25\n:: new features\n\n- Merry Christmas everyone! Early release this week, as I will be travelling.\n\n- Edit book: Allow drag and drop of images onto the image editor\n\n- Edit book: Allow import of multiple files at once, via File->Import files into book\n\n- Edit book: Show the name of the current character to the left of the cursor in the status bar. Can be turned off via Preferences.\n\n- Edit book: Automatically replace HTML entities as they are typed. This can be turned off in the Preferences.\n\n- ToC Editor: Allow bulk renaming of items. Simply select the items you want to rename, right click and choose bulk rename. Useful if, for instance, you want to rename all the items to be Chapter 1, Chapter 2 and so on.\n\n- Edit book: Allow linking of stylesheets into HTML files automatically.  Right click on the selected HTML files in the File browser and choose 'Link stylesheets' to have the <link> tags for the sheets automatically inserted.\n\n- Edit book: When deleting files, automatically remove all entries that refer to them from the ToC\n\n\n:: bug fixes\n\n- [1261099] ToC Editor: When auto-generating the table of contents from headings or XPath, if an element is at the top of the file, link only to the file instead of to the element.\n\n- Edit book: When splitting files, name the newly created file with a _split suffix.\n\n- Edit book: Fix position syncing incorrect when in HTML files that contain <meta> tags with charset encoding declarations over more than a single line\n\n- [1263448] Edit book: Automatic correction of font family names not quoting family names with spaces in them if the original, incorrect family name did not have a space.\n\n- Title casing: Fix presence of some non-English characters or smart punctuation causing all-caps text to not be properly titlecased\n\n- Edit book: Fix a bug preventing marking an image as cover in a book that previously had no cover\n\n- Edit book: Fix a typo causing the preferences for which windows occupy which corners to not work\n\n- [1263179] Edit book: Fix crash that happens sometimes when deleting multiple files.\n\n- Edit book: Handle EPUB files which contain opf files with no <metadata> tags\n\n- Edit book: Fix deleting a file that is currently open in an editor, not auto-closing the editor\n\n- [1263021] DOCX Input: Fix error when converting DOCX file that contains only image based links and no text based links.\n\n\n:: new recipes\n\n- Birmingham Evening Mail by Dave Asbury\n\n\n}}}\n\n\n{{{ 1.16.0 2013-12-20\n:: new features\n\n- Edit book: Add a tool to browse all images in the book with their thumbnails. Useful for visually locating an image. To launch it, use View->Browse images in book.\n\n- Edit book: Allow creation of new, empty books via File->Create new book\n\n- Edit book: Add buttons to easily create formatting such as bold/italic/colors/etc. when editing HTML files\n\n- Edit book: Add button to easily insert <img> tag while editing HTML\n\n- Edit book: Add options to change the default font families/sizes for the preview panel\n\n- Edit book: Allow customizing which dockable windows occupy the four dock corners via Edit->Preferences. You can now also choose to have more than one row of windows in a given dock area.\n\n\n:: bug fixes\n\n- Edit book: When editing AZW3 files with no images in them, do not incorrectly display a number of binary records from the AZW3 file as 'unknown' miscellaneous files\n\n- Edit book: Fix marking image as cover not working for AZW3 files if the file did not previously have a cover\n\n- AZW3 Output: Do not refuse to create the ToC if it has only a single entry\n\n- Edit book: Fix crashes when processing some books that contain malformed markup on OS X and windows 64bit machines\n\n- Edit book: Fix error when renaming the html file currently displayed in the preview panel and that file is not the file being currently edited\n\n- [1261337] Edit book: Fix crash when editing books that have links to absolute paths.\n\n- Edit book: Fix book not being marked as modified after editing the ToC\n\n- Edit book: When syncing the position of the preview panel to the cursor in the editor and the cursor is at or before the <body> tag set the position of the preview panel to the top of the file, so that the top margin of the body tag is seen easily.\n\n- Edit book: Fix trying to import an html file/css file via the add new file button always resulting in a blank file\n\n- [1260822] Edit book: Fix replacing a file with another file with exactly the same filename causing an error.\n\n- Edit book: Have the ToC view refresh itself after any major operation on the book\n\n- Edit book: Fix pasting in the image editor not working\n\n\n:: improved recipes\n\n- NZZ\n- Spiegel Online\n- Daily Mail\n- FAZ.net\n\n\n}}}\n\n\n{{{ 1.15.0 2013-12-13\n:: new features\n\n- [major] A new book editor, capable of editing files in the EPUB and AZW3 (Kindle) formats\n\nRight click on any book in calibre and choose 'Edit Book', to edit e-books in the EPUB and AZW3 formats. The new editor allows you to edit the HTML/CSS and images inside the ebooks in a seamless fashion, with live preview of your changes and many helpful automated tools for checking the book for errors, editing the table of contents, merging, splitting, bulk renaming and so on. See https://manual.calibre-ebook.com/edit.html for more details and help using the new editor. Note that the editor is a completely new codebase and is still being actively developed, so expect a few bugs and many new features in the near future. However, the editor as it stands is extremely useable and useful today. Note that it replaces the old 'Tweak Book' feature in calibre. If you want the old Tweak Book back, it has been renamed to 'Unpack Book', you can go to Preferences->Toolbars and add it back. Happy holidays!\n\n- Edit metadata dialog: In the tag editor, allow easy filtering of the lists of available and applied tags.\n\n- [1259914] Driver for Onyx Boox C65.\n\n\n:: bug fixes\n\n- [1260279] Kobo driver: Fix book covers not showing for sideloaded kepubs on the book details screen, with newer Kobo firmware.\n\n- [1260216] Content server: Popup a more useful error when clicking on the cover of a book that has no formats to view.\n\n- Cover grid: Fix text showing 'None' for rating fields for books with no rating\n\n- [1258754] Cover grid: Set text color based on the background color/image being used.\n\n- [1258975] Metadata editor: Fix removing formatting for comments not removing background colors.\n\n- EPUB Output: Remove name attribute from <a> tags (replacing with id) to keep the asinine epubcheck happy\n\n\n\n}}}\n\n\n{{{ 1.14.0 2013-12-06\n:: new features\n\n- [1256054] Edit metadata dialog: Add the ability to trim covers manually, if automatic trimming is not satisfactory.\n\n- You can now show any metadata field below the covers in the cover grid view, not just title. To change the displayed field go to Preferences->Look & Feel->Cover Grid.\n\n- Allow searching for plugins by name in the install new plugins dialog\n\n- [1257972 1257143] Kobo driver: Allow sending kepubs to older kobo devices as well, also add support for firmware 3.1\n\n- Allow viewer plugins to customize the viewer's user interface\n\n\n:: bug fixes\n\n- Table of Contents Editor: Handle generating ToC from headings if the first heading level in the document is not h1 or the document skips some intermediate heading levels\n\n- Update the metadata download and Get Books plugins for ozon.ru\n\n- [1256549] Fix sending by email not working on computers with non-ascii hostnames.\n\n- [1256198] Wireless driver: Fix launching programs from within calibre causing the wireless driver port to remain in use even after calibre is shutdown.\n\n\n:: improved recipes\n\n- Kommersant\n- Pocket\n- Heraldo de Aragon\n- National Geographic Magazine\n- Los Angeles Times\n- Boerse Online\n- Reuters\n\n\n}}}\n\n\n{{{ 1.13.0 2013-11-29\n:: new features\n\n- [1255288] Edit metadata dialog: Facilitate editing the authors for books that have a large number of authors, by using a dedicated 'Edit authors' tool, which you can launch by right clicking the authors in the edit metadata dialog and selecting 'Edit authors'.\n\n- Conversion: Fix specifying shorthand properties in filter css not working. Now all shorthand properties automatically filter out all the properties they are shorthand for.\n\n- Kobo driver: support new firmware version 3.0.1\n\n- Wireless device driver: Cache metadata on a per device basis.\n\nAllows for using different cover thumbnail sizes on different devices. Will force device to resend all metadata the first time it is connected after this upgrade.\n\n\n:: bug fixes\n\n- [1254973] Metadata download: Update code to get covers via google image search to handle changes to the google website.\n\n- Searching: When searching for identifiers, fix searching for values that contain colons not working. Also fix escaped parentheses not being parsed correctly.\n\n- [1255671] Match books on device: Fix parentheses in book titles not being escaped when searching for matches.\n\n- [1255676] Match books on device: Fix thumbnail in device metadata cache not being updated when matching books.\n\n- [1255216] File open dialogs; If the previously used initial directory, no longer exists, use a directory one level up.\n\n- [1256059] EPUB Output: Strip -- from inside comments, as some ebook reading apps cannot handle them.\n\n- Fix a regression in the previous release that broke the Kobo third party plugins\n\n- [1253922] Fix QuickView windows not staying on top on some linux systems\n\n- Fixes for website changes for various Get Books Polish language stores\n\n- Metadata download dialog: Fix current cover not copyable to clipboard\n\n- [1254161] Fix an incorrect translation of the language 'Polish'\n\n\n:: improved recipes\n\n- Economist\n- Various PostMedia news sources\n\n\n}}}\n\n\n{{{ 1.12.0 2013-11-22\n:: new features\n\n- [1252814] Auto adding: Option to add files of all types, not just ebooks. You can now tell calibre to auto add all file types, instead of just known ebooks via Preferences->Adding books->Automatic adding.\n\n- [1253022] Quick view: Show the title/author/series columns in the same order as in the main book list.\n\n- [1252688] Update Kobo driver to allow sending kepubs\n\n- [1251793] Allow right clicking on covers to copy them in the metadata cover download dialog.\n\n\n:: bug fixes\n\n- [1253692] Titlecase: Fix incorrect title casing for some non-English words.\n\n- [1253637] Kobo driver: Fix errors when using rating or numerical custom columns to create shelves.\n\n- E-book viewer: Allow searching to work with hyphenation enabled, provided you are searching for whole words. Searching for partial words may still not work. For robust searching, turn off hyphenation in the viewer preferences.\n\n- Get books: Update the B&N UK store plugin to handle changes to the B&N UK website\n\n- [1252758] Apply changes being edited when clicking apply in the email preferences list.\n\n- Fix crash on linux systems whose fontconfig configuration includes paths to in an undecodable encoding.\n\n- [1251768] Fix editing custom column values in the book list not allowing change of case.\n\n- [1251536] Kobo driver: Fix latest firmware update for Kobo Wifi causing calibre to not recognize it.\n\n- Content server: Fix virtual libraries with an ampersand in their names not working\n\n\n:: new recipes\n\n- Loksatta and Maharashtra Times by Krittika Goyal\n\n:: improved recipes\n\n- Le Monde (free version)\n- Pecat\n- Daily Express\n\n\n}}}\n\n\n{{{ 1.11.0 2013-11-15\n:: new features\n\n- Kobo driver: Support the new firmware version 3.0.0 for Kobo devices\n\n- [1251278] Content server: Show the name of the virtual library at the top when browsing books in a virtual library.\n\n- [1249773] Add a keyboard shortcut (Ctrl+*) to convert the current search into a temporary virtual library.\n\n- [1249562] Template language: Add a transliterate function, useful to convert metadata in other languages into its phonetic English representation, when exporting books from calibre.\n\n- Remove the button to toggle search result highlighting from next to the search bar, as too many people click it accidentally and then do not realize what they have done, despite the confirmation message that pops up. The button can be restored via Preferences->Searching\n\n- Wireless driver: Remove old non-streaming networking code. Apps that still use it must be updated. A message will popup notifying the user of the need to update if such an app is encountered.\n\n- Linux: Add an option to cause calibre to detach from its controlling terminal (--detach)\n\n\n:: bug fixes\n\n- [1249502] DOCX Input: Fix page-breaks created as a page break inside an otherwise empty paragraph not being rendered on conversion to PDF.\n\n- [1249698] Windows: When viewing books with an external viewer, check if windows will open the file with calibre itself, and if so, popup an error message telling the user to install some software capable of viewing the file.\n\n- Wireless driver: Fix a bug that could cause the wrong path information to be sent to the device in some circumstances.\n\n- Linux binary build: Return proper exit codes when raising SystemExit\n\n- [1249469] Transliterate the Arabic Alef into 'a'\n\n\n:: new recipes\n\n- ARG Noticias by Darko Miletic\n\n:: improved recipes\n\n- Radikal (tr)\n- Spiegel Online\n- El Mundo\n\n\n}}}\n\n\n{{{ 1.10.0 2013-11-08\n:: new features\n\n- [1247565] Conversion: Treat .docm the same as .docx files, ignoring any macros in the file.\n\n- [1246710] EPUB Output: Auto convert CMYK images to RGB. Works around the inability of Adobe Digital Editions to display CMYK images.\n\n- Quickview: Add a checkbox to lock the quickview window so that it does not change while moving around in the main book list\n\n\n:: bug fixes\n\n- [1248506] Fix number of marked books shown in the drop down menu of the Mark Books action not being updated when marked books are deleted (as opposed to being unmarked).\n\n- Book list: Preserve the current column when using Ctrl+Home or Ctrl+End shortcuts\n\n- [1248109] Booklist: Fix using Page Up/Down keys moving book list by one row too many.\n\n- Metadata download: Do not auto trim downloaded covers as trimming can sometimes have undesirable effects.\n\n- [1247348] Template language: Fix zero valued series indices not formatting correctly\n\n- Fix a regression in 1.9 that broke bibtex catalog creation\n\n- Quickview: Auto-close the quickview window when changing libraries. You have to open it again in the new library.\n\n- [1247315] Linux binary build: Update the bundled version of zlib to fix library compatibility on some newer linux distros that have libpng16 compiled to require newer zlib versions\n\n\n:: improved recipes\n\n- New York Review of Books\n- Various Polish news sources\n\n\n}}}\n\n\n{{{ 1.9.0 2013-11-01\n:: new features\n\n- [1244857 1246775] Drivers for the new Nook Glowlight, Lenovo IdeaPad and Kindle Fire HDX (linux)\n\n- [1245089] Add an option to check for duplicates (books with the same title/author) when copying between libraries. Option is under Preferences->Adding books.\n\n- [1246523] Content server: Display book title on details page. Also put the most important fields (authors/series/tags) at the top.\n\n- [1246061] When developing recipes using the command line, allow specifying the number of feeds and articles when using the --test parameter.\n\n- [1245076] PDF Output: Option to control title of generated Table of Contents\n\n- PDF metadata: If one of the keywords in the PDF is a valid ISBN, use it as the ISBN for the book\n\n\n:: bug fixes\n\n- [1245449] Amazon metadata download: Fix spurious ratings being returned for unrated books.\n\n- [1245058] Bulk metadata edit: Only clear series if the clear series checkbox is checked. Also add a clear checkbox for publishers, so that publishers can be removed.\n\n- [1245076] Use <h2> for the inserted Table of Contents title for the MOBI and PDF formats as well as the EPUB and AZW3 formats.\n\n- [1245275] Fix comments editor in review metadata becoming too small on small screens.\n\n- DOCX Input: Fix hyperlink showing as underlined even if the hyperlink style in word is set to not show underlines.\n\n- [1245068] E-book viewer: Remember the size of the 'Inspect' window used to examine the book's code.\n\n- Wireless driver: Fix bug that prevented different formats of the same book on the device from being recognized\n\n- [1238271] Bulk metadata download: When downloading only covers and some covers fail, do not show the failed books while reviewing downloaded metadata.\n\n- [1228905] BibTeX catalogs: Strip unmatched braces to prevent generation of invalid .bib file.\n\n\n:: improved recipes\n\n- Reuters (Japan)\n- MIT Technology Review\n- dotNet Magazine\n- Science Based News\n\n\n}}}\n\n\n{{{ 1.8.0 2013-10-25\n:: new features\n\n- [1243597] DOCX Input: Support linked (as opposed to embedded) images, if the linked image is found on the local computer.\n\n- [1243714] FB2 Input: Add support for note and cite back references. Link pairs of type=\"note\" and type=\"cite\" now automatically generate the correct back reference.\n\n- When automerging books during during an add, include the author as well as the title in the report of merged books.\n\n- OS X Mavericks (10.9) breaks connecting to iTunes and iBooks on iOS devices. For more details see: http://www.mobileread.com/forums/showthread.php?t=215624\n\n\n:: bug fixes\n\n- [1224491] OS X: Fix system tray notifications causing crashes on some OS X 10.9 (Mavericks) systems (those that had Growl installed at some point).\n\n- [1243761] OSX: Fix font size in completion popups too small on Mavericks (I hope)\n\n- [1243829] PDF Output: Fix rendering of some semi-transparent images. All semi-transparent images are now rendered using soft masks.\n\n- [1240235] MOBI Output: Fix text marked with white-space:pre-wrap causing the Kindle to break lines at arbitrary points inside words.\n\n- [1243709] FB2 Input: Fix a regression that broke conversion of FB2 files with paragraphs having both a style and an id attribute.\n\n- [1236923] TXT Input: Ensure that <title> in the generated HTML has a meaningful value.\n\n- [1243976] Book details panel: Fix HTML in author names and identifiers not being escaped\n\n- HTML 5 parsing: Fix handling of xml:lang attributes on all elements xml:lang is now mapped to a plain lang on all elements, not just <html>\n\n- Update HTML 5 parser used in calibre (html5lib-python) to fix a few corner cases\n\n- When bulk deleting formats, use a single temporary directory for the deleted files. This makes restoring them from the recycle bin a little cleaner. Also might fix the reported issue with the windows recycle bin choking on creating a large number of folders.\n\n- DOCX Input: Add support for hyperlink fields that have only anchors and not URLs\n\n- [1241451] DOCX Input: Fix handling of multiple block level bookmarks at the same location.\n\n- [1242261] HTMLZ Output: Fix Htmlz does not apply inline css from <body>.\n\n- Fix the restore database operation failing on windows installs with long usernames (this would cause the path to the temporary folder used to restore the database to become too long).\n\n- ODT Input: Various workarounds for broken ODT files generated my mk4ht\n\n- Fix a bug with non-ascii text in the create catalog dialog\n\n\n:: improved recipes\n\n- A List Apart\n\n\n}}}\n\n\n{{{ 1.7.0 2013-10-18\n:: new features\n\n- [1239194] Cover grid: Allow using images as the background for the cover grid. To choose an image, go to Preferences->Look & Feel->Cover Grid.\n\n- [1238609] An option to mark newly added books with a temporary mark. Option is in Preferences->Adding books.\n\n- Edit metadata dialog: Allow turning off the cover size displayed in the bottom right corner of the cover by right clicking the cover and choosing 'Hide cover size'. It can be restored the same way.\n\n\n:: bug fixes\n\n- Conversion: If both embed font family and the filter css option to remove fonts are set, do not remove the font specified by the embed font family option.\n\n- Fix a few remaining situations that could cause formats column to show an error message about SHLock\n\n- Make deleting books to recycle bin more robust. Ensure that the temporary directory created during the move to recycle bin process is not left behind in case of errors.\n\n- Windows: Check if the books' files are in use before deleting\n\n- [1240504] Fix custom device driver swap main and card option not working. Also fix swapping not happening for a few devices on linux\n\n- [1239597] Edit metadata dialog: The Edit metadata dialog currently limits its max size based on the geometry of the smallest attached screen. Change that to use the geometry of the screen on which it will be shown.\n\n- [1239530] HTMLZ Output: Fix <style> tag placed inside <body> instead of <head>.\n\n- [1239527] HTMLZ Output: Fix inline styles not escaping quotes properly.\n\n- [1239555] HTMLZ Output: Fix incorrect handling of some self closing tags like <br>.\n\n- [1238987] Content server: Fix single item categories not working with reverse proxy setup.\n\n- [1239210] Fix a bug that could cause calibre to crash when switching from a large library to a smaller library with marked books.\n\n- Get Books: Fix downloading of some books in formats that do not have metadata yielding nonsense titles\n\n- [1239163] Allow marked book button to be added to main toolbar when device is connected\n\n- [1239161] Fix error if a marked book is deleted/merged.\n\n- Template language: Fix formatter function days_between to compute the right value when the answer is negative.\n\n- [1240788 1240194] Windows: Fix spurious file in use by other process error if the book's folder contained multiple hard links pointing to the same file\n\n- Windows: Fix duplicate files being created in very special circumstances when changing title and/or author. (the title or author had to be between 31 and 35 characters long and the book entry had to have been created by a pre 1.x version of calibre). You can check if your library has any such duplicates and remove them, by using the Check Library tool (Right click the calibre button on the toolbar and select Library Maintenance->Check Library).\n\n\n:: improved recipes\n\n- Wall Street Journal\n- Newsweek Polska\n- Wired Magazine\n- cracked.com\n- Television Without Pity\n- Carta\n- Diagonales\n\n\n}}}\n\n\n{{{ 1.6.0 2013-10-11\n:: new features\n\n- [major] Temporary marking of books in the library\n\nThis allows you to select books from your calibre library manually and mark them. This 'mark' will remain until you restart calibre, or clear the marks. You can easily work with only the marked subset of books by right clicking the Mark Books button. To use this feature, go to Preferences->Toolbars and add the 'Mark Books' tool to the main toolbar.\n\n- Get Books: Add Wolne Lektury and Amazon (Canada) ebook stores\n\n- [1232790] DOCX Input: Handle hyperlinks in footnotes and endnotes\n\n- [1231590] Driver for Sunstech reader\n\n- Allow using both uri: and url: identifiers to create two different arbitrary links instead of just one in the Book details panel\n\n- [1232019] E-book viewer: Make all keyboard shortcuts configurable\n\n- [1233220] Conversion: Add an option to not condense CSS rules for margin, padding, border, etc. Option is under the Look & Feel section of the conversion dialog.\n\n- [1233711] calibredb: Allow setting of title sort field\n\n- ebook-meta: Add an --identifier option to set identifiers.\n\n\n:: bug fixes\n\n- [1233330] Fix a locking error when composite columns containing formats are used and formats are added/deleted.\n\n- [1236845] EPUB Output: Do not strip <object> tags with type application/svg+xml in addition to those that use image/svg+xml.\n\n- [1236348] Cover grid: Fix selecting all books with Ctrl+A causing subsequent deselects to not fully work.\n\n- [1235815] HTMLZ Output: Fix long titles causing error when converting on windows.\n\n- Content server: Fix OPDS category links to composite columns\n\n- [1231980] E-book viewer: Fix regression that broke import/export of bookmarks\n\n- [1232025] E-book viewer: Use the default font size setting for the dictionary view as well.\n\n- DOCX Input: Avoid using the value attribute for simple numbered lists, to silence the asinine epubcheck\n\n- HTML Input: Images linked by the poster attribute of the <video> tag are now recognized and processed.\n\n- [1232100] DOCX Input: Fix erorr when converting docx files that have numbering defined with no associated character style.\n\n- EPUB Metadata: Implementing updating identifiers other than isbn in the epub file from calibre when polishing or exporting the epub\n\n- [1238125] Amazon metadata download: Fix parsing of some dates on amazon.de\n\n\n:: new recipes\n\n- Various Uruguayan news sources by Carlos Alves\n\n:: improved recipes\n\n- National Geographic Magazine\n- New York Review of Books\n- Focus (PL)\n- Carta Capital\n- AM 730\n- Ming Pao (HK)\n- Neu Osnabrucker Zeitung\n\n\n}}}\n\n\n{{{ 1.5.0 2013-09-26\n:: new features\n\n- [1228690] Driver for Woxter Scriba\n\n- [1230040] Bulk metadata edit: Allow setting the comments for all selected books and also allow cloning the covers. Cloning covers means that the cover of the first selected book will be set for all other selected books.\n\n\n:: bug fixes\n\n- Windows: Improved device ejection code. Eject individual drives before trying to eject the device. This fixes incomplete ejection with the Nook devices.\n\n- [1228949] Catalogs: fix exclude tags rules not working in non-English locales when creating catalogs in EPUB/MOBI formats.\n\n- [1230018] Kobo driver: Fix reading status being cleared when connecting to a Kobo with older firmware and metadata management set to automatic.\n\n- [1229459] Content server: Sort virtual libraries by name\n\n- [1228893] DOCX Input: Convert tabs in the docx file into non-breaking spaces in the output document. Note that custom tab stops are not supported.\n\n- Conversion: Handle the style attribute on the <html> tag\n\n- [1228517] Handle databases with invalid ratings link tables\n\n- [1228669] DOCX Input: Handle DOCX files with missing referenced styles\n\n- Update amazon metadata download plugin for changes to the Amazon website\n\n\n:: new recipes\n\n\n:: improved recipes\n\n- Slate\n- El Universal (VE)\n- GoComics\n\n\n}}}\n\n\n{{{ 1.4.0 2013-09-20\n:: new features\n\n- Column icons: Allow the use of multiple icons with column icon rules.\n\nYou can now have column icon rules display multiple icons in a single column, side by side. There are two ways to do this, either specify multiple icons when creating the rule, or create multiple rules that match the same book and specify the icon type to be 'composed' for every rule. See Preferences->Look & Feel->Column icons for details.\n\n- Kobo driver: Add support for new cover handling in Kobo Aura with updated firmware\n\n- [1226304] Driver for Icarus Essence\n\n- [1225484] Show a warning when attempting to copy books between libraries that do not have the same set of custom columns.\n\n- EPUB/AZW3 Output: Use shorthand forms for margin, padding and border CSS properties, where possible\n\n- [1224885] Allow colons in identifier values, needed for using URIs as identifiers\n\n- Comments editor: Allow treating arbitrary URLs as images\n\n- [1224925] Show full path of library under mouse in status bar when switching/renaming/deleting libraries via the calibre library button.\n\n- [1224849] DOCX Input: Add support for embedded EMF images that are just wrappers around an actual raster image.\n\n\n:: bug fixes\n\n- Conversion: Fix font subsetting not working for large fonts with more than 4000 glyphs, such as CJK fonts\n\n- HTML Input: Fix a regression that broke processing of HTML files that contain meta tags with dc: namespaced attribute values.\n\n- Fix switching to an empty virtual library not blanking the book details panel\n\n- [1226093] Keep position when deleting tags in the tag editor\n\n- [1226350] Book details panel: Render custom comments fields the same as the builtin comments field. In particular this fixes problems caused by wide text and images in custom comments fields.\n\n- [1225357] Metadata jackets: Do not error out when using a custom template with some custom fields that are not present.\n\n- AZW3 Output: Dont choke on invalid (undecodable) links in the input document\n\n- Cover grid: Respect the double click on library view tweak\n\n- Fix covers set by drag and drop or pasting in the edit metadata dialog showing compression artifacts due to aggressive jpeg compression\n\n- Conversion: Fix a bug that could cause incorrect border values to be used when cascading, shorthand border CSS is present.\n\n- Fix regression in 1.3 that caused the book list to not track the current book when using Next/Previous in the edit metadata dialog.\n\n\n:: new recipes\n\n- Sage News by Brian Hahn\n- Il Cambiamento by ghib9\n\n:: improved recipes\n\n- Liberation\n- Politika\n\n\n}}}\n\n\n{{{ 1.3.0 2013-09-13\n:: new features\n\n- [1216713] When doing searches or switching between virtual libraries in the main book list, preserve the current book. The currently selected book will remain visible if it is present in the results of the search or the selected virtual library.\n\n- [1223853] Drivers for Oppo Find 5 and PocketBook Mini 515\n\n\n:: bug fixes\n\n- DOCX Input: Handle numbered paragraphs where the numbering is specified in the paragraph style, instead of on the paragraph directly. Also support the use of arbitrary, styled text for bullets.\n\n- DOCX Input: Fix a single line break at the end of a paragraph not being rendered as a blank line.\n\n- DOCX Input: Fix extra top/bottom margins around headings when the heading style in word does not specify any top/bottom margins.\n\n- [1221686] DOCX Input: Handle images in footnotes and endnotes.\n\n- [1224157] ODT Input: Only treat the first image as a cover if it is of suitable size, instead of any image in the document.\n\n- Book polishing: Do not leave behind the old comments when updating metadata if the comments have been deleted in calibre.\n\n- [1223862] PDF Output: Fix non-breaking space characters incorrectly rendered in PDF outline.\n\n- [1222108] Content server: Fix error in opds feed after using virtual libraries in the main server.\n\n- [1221552] Do not scroll the book list horizontally after editing metadata.\n\n- [1221545] New database backend: Handle databases that contain multiple tags/series/publishers/etc. that differ only in case.\n\n\n:: new recipes\n\n- Caravan Magazine by Kovid Goyal\n- Phys Org by Krittika Goyal\n\n:: improved recipes\n\n- Harvard Business Review\n- Jakarta Post\n- Jakarta Globe\n- Dilema Veche\n- Daily Express\n- Anandtech\n- High Country News\n\n\n}}}\n\n\n{{{ 1.2.0 2013-09-06\n:: new features\n\n- Conversion: Add support for the CSS3 rem font size unit\n\n- MTP devices, such as Android tablets/phones: Allow ignoring any folder on the device, not just top level folders. For newly connected devices, also scan /Android/data/com.amazon.kindle for books by default (newer versions of the Kindle app place downloaded files there).\n\n- [1217622] Speed up sorting when the book list is showing a restricted set of books, such as when the results of a search are displayed or a virtual library is used.\n\n- [1219227] Edit metadata dialog: Add an undo option for the Trim cover button.\n\n\n:: bug fixes\n\n- Amazon metadata download: Update to handle website changes at amazon.com\n\n- [1216354] PDF Output: Workaround a bug in the library calibre uses to render HTML to PDF that caused text in some documents that used small-caps fonts to not render correctly.\n\n- [1221035] Kobo driver: When a sideloaded kepub is added from a Kobo device to the calibre library, it is added as an epub, but the file copied is corrupt.\n\n- [1220767] Fix changing the user interface language in the welcome wizard causing some parts of the interface to remain in the old language until calibre is restarted.\n\n- [1220348] Fix regression in 1.0 that broke setting author names with the | character in them.\n\n- Content server: When running from inside the main calibre program, do not restrict the books shown based on the current virtual library in the main program. If you wish to restrict the books shown in the content server, use Preferences->Sharing over the net.\n\n- Output dates in the local timezone instead of UTC when generating CSV catalogs\n\n- [1217988] Library maintenance: When doing a check library instead of dumping the database to SQL and restoring it, run a VACUUM. This works around various bugs in the dump and restore capabilities of apsw.\n\n- Edit metadata dialog: Fix adding an image to an empty comments block not working\n\n- Conversion: Fix font declarations with invalid font-family values causing conversion to abort when subsetting is enabled.\n\n- [1218858] MOBI Output: Fix conversion of some super/sub scripts failling if they are the first or last element in a paragraph.\n\n- [1218465 1218783] New database backend: Various improvements to make the backend more robust against databases with invalid/corrupt data in them.\n\n\n:: improved recipes\n\n- Countryfile\n\n\n}}}\n\n\n{{{ 1.1.0 2013-08-30\n:: new features\n\n- [1217751] Rewrite the HTML metadata parser to make it faster and more robust.\n\n- [1216714] Book list: When sorting on a currently unsorted column, use the last applied sort for that column, instead of always sorting in ascending order.\n\n- PocketBook driver: Scan for books files in the entire device not just in the 'books' folder\n\n\n:: bug fixes\n\n- [1217096] Fix a regression in 1.0 that could cause the dates in custom date-type columns to change in some timezones when using the edit metadata dialog to make unrelated changes.\n\n- When replacing formats in a book with a very long title+authors on windows, calibre could leave behind the old format file, because the filename shortening algorithm has changed. Handle that case.\n\n- [1216838] Fix content server giving an error if you return to the top level page after using the virtual libraries.\n\n- [1218177] Fix calibredb not updating the running calibre instance properly in 1.0\n\n- [1216699] Fix a regression in 1.0 that broke splitting of multiple valued field like tags into many items during a rename.\n\n- [1216398] Fix a regression in 1.0 that caused an error when trying to set values for tags with the same item repeated, with different case.\n\n- Fix a regression that broke downloading news when output format is set to PDF\n\n- Creating a catalog with an already existing catalog in the library would cause a temporary duplicate entry in the book list. Also fix the author sort for catalogs generated in the AZW3 format not being correct.\n\n- [1211949] EPUB metadata: When changing the title in an EPUB 2.0 file that has multiple titles, remove the extra titles.\n\n- Fix a regression in 1.0 that caused Search and Replace in the bulk metadata edit dialog to be much slower than before\n\n- Fix a regression in 1.0 that caused incorrect sorting and searching on some composite columns (columns built from other columns).\n\n- [1216401] Fix a regression in 1.0 that prevented the moving of libraries inside calibre\n\n- [1216174] Virtual Library tabs: If the user activates a hidden tab via the Virtual Library button, change the name of the All Books tab to reflect the hidden virtual library.\n\n- [1215981] Ignore text records in the database that are damaged, instead of erroring out. Lets the rest of the data be used.\n\n- [1216090] Fix regression that broke calibredb catalog when sorting on the id field.\n\n- [1215924] HTML Input: Handle malformed OPF files when converting. \n\n- [1215885] Ensure that the Formats custom column (if present) is updated when a new format is created as a result of a conversion.\n\n- [1215819] Fix a bug in 1.0 that broke the Check Library function on computers with non-English locales.\n\n- [1215893] Content server: Fix blank username causing error on startup.\n\n- [1215820] Fix sorting of book list by multi-valued fields like tags not correct in the new backend.\n\n\n:: new recipes\n\n- VFR Magazine by Krittika Goyal\n\n:: improved recipes\n\n- Daily Mirror\n\n\n}}}\n\n\n{{{ 1.0.0 2013-08-23\n:: new features\n\n- [major] A new 'cover grid' view of the books in your calibre library\n\nExcellent for judging your books by their covers :) To use click the button with the icon of a grid in the bottom right corner of the main window. It can be configured via Preferences->Look & Feel->Cover Grid\n\n- [major] A new, faster database backend\n\nThe database backend in calibre has been re-written from scratch. The new code is smaller, more robust and much faster than the old code. The exact speedup will depend on the number of books and number and type of custom columns in your library. Users have reported calibre startup times decreasing by a factor of 2-3 times.\n\n- [major] For a summary of the major changes in calibre between 0.9 and 1.0, see http://calibre-ebook.com/new-in/ten\n\n- [1213599] RTF Input: Add option to ignore WMF images iinstead of replacing them with a placeholder.\n\n- Content server: Make virtual libraries available as searches from the start page. They work just like saved searches, clicking on a virtual library will show you all the books in that virtual library.\n\n\n:: bug fixes\n\n- Remove extra, useless 'language' entry in metadata download configuration dialog\n\n- [1214233] Kobo driver: Display device collections even if the driver is configured to not manage shelves on the device.\n\n- [1213664] Fix typo in calibre.desktop file on linux\n\n- [1213397] Edit metadata dialog: Disable OK button while results are being downloaded.\n\n- In OS X 10.8 Apple stopped redirecting stdout/stderr to Console.app for applications launched by launch services. Re-enable the redirection, useful for debugging.\n\n- Fix virtual library tabs not being updated when using VL button\n\n\n:: new recipes\n\n- News24 and Nuus24 by Nicki de Wet\n\n:: improved recipes\n\n- Consumerist\n- jeuxvideo\n- Metro UK\n- El Tribuno\n- High Country News\n- Daily Express\n- Providence Journal\n- mediapart\n\n\n}}}\n\n\n{{{ 0.9.44 2013-08-16\n:: new features\n\n- Add an option to display all virtual libraries as tabs above the book list.\n\nConvenient to quickly switch between virtual libraries. To enable, click the Virtual library button and select 'Show virtual libraries as tabs'.  You can re-arrange the tabs by drag and drop and close tabs you do not want. Right click on the tabs to restore closed tabs.\n\n- An improved cover trimming algorithm to automatically detect and remove borders and extra space from the edge of cover images. To try it use the 'Trim' button in the edit metadata dialog. This can sometimes remove too much so if you dont like the result, just click cancel. You can make the algorithm more or less aggressive via Preferences->Tweaks\n\n- [1211433] Allow customizing the comic metadata reader plugin via Preferences->Plugins to read the series index from either the volume or the issue number of the comic.\n\n- [1212458] Linux MTP driver: Add ids for some newer devices.\n\n- Add a trim cover option to the bulk metadata edit dialog\n\n- [1209057] Make the book information dialog user resizable, with a splitter between the cover and the info panel. Also change the background of the cover panel for books that have been marked using the Temp marker plugin.\n\n- [1212918] Driver for Samsung Galaxy Young Android phone\n\n\n:: bug fixes\n\n- PDF Output: Do not abort conversion if the document being converted has an HTML cover (found in some broken EPUB files).\n\n- [1163572] RTF Input: When converting RTF files with no codepage, use the input encoding setting as the codepage.\n\n\n:: new recipes\n\n- Daily Express by Dave Asbury\n\n:: improved recipes\n\n- The Independent\n- El Periodica de Aragon\n- El Correo\n\n\n}}}\n\n\n{{{ 0.9.43 2013-08-09\n:: new features\n\n- TXT Input: Allow using various markdown extensions for more features when converting markdown formatted txt files. See http://pythonhosted.org/Markdown/extensions/index.html for details.\n\n- [1207818] Sending by email: Allow sending by email to an arbitrary combination of email address. Access it via the 'Select recipients' menu entry in the Email To menu.\n\n- A new 'Sort By' action for the right click menu. This allows sorting on all columns in the library, not just the visible columns. To use it go to Preferences->Toolbars and add it to 'The context menu for books in the calibre library'\n\n- Allow adding images into the comments field, by clicking on the insert link button in the comments editor in the edit metadata dialog.\n\n- Allow skipping the confirm bulk reconvert dialog\n\n- EPUB Input: If the EPUB file identifies an actual cover image in addition to the titlepage html file, use the cover image instead of rendering the titlepage. This is faster and has the advantage that an EPUB to EPUB conversion preserves internal cover structure.\n\n- Get Books: Improve searching by removing punctuation from title/authors before matching.\n\n\n:: bug fixes\n\n- [1207735] Conversion: Fix empty inline tags that are the second child of a paragraph causing text change location.\n\n- Fix book count in tooltip of choose library button not updating\n\n- [1208159] Kobo driver: When deleting shelves that have been synced, the Activity entry for the shelf was not being deleted. This left a tile for the shelf on the home screen of the Glo and AuraHD.\n\n- [1208073] Comments editor: The Insert Link button has no effect until the user clicks inside the comments box, therefore disable it until it is ready, to prevent confusion.\n\n- Get Books: Update various Polish store plugins\n\n\n:: new recipes\n\n- Various French news sources by Malah\n- La Capital de Rosario by Darko Miletic\n- Jot Down by desUbiKado\n- Private Eye by Martyn Pritchard\n\n:: improved recipes\n\n- The Sunday Times UK and The Times Online\n- Telegraph UK\n- Le Monde: Edition abonnés\n- The Scotsman\n\n\n}}}\n\n\n{{{ 0.9.42 2013-08-02\n:: new features\n\n- [1206763] When downloading metadata from Amazon, convert the amazon categories into tags. You can turn this off by going to Preferences->Metadata download and configuring the Amazon source.\n\n- [1207151] Kobo driver: Add an option to modify the styling in books being sent to the device, based on a template on the device.\n\n- Get Books: Add support for two more Polish ebook stores: cdp.pl and ebooki.allegro.pl\n\n- calibredb: Add a new clone command to create clones of libraries with the same custom columns, virtual libraries, etc. as the current library.\n\n\n:: bug fixes\n\n- [1205757] MOBI metadata: Do not fail to set metadata in MOBI files if they have EXTH fields with NULL pointers to a cover or thumbnail.\n\n- [1191599] Fix editing of book metadata failing when its timestamp is out of range for the system.\n\n- [1207131] Fix renaming a user category to the same name it already has erases the user category.\n\n- Fix drag 'n drop of cover onto conversion dialog not working\n\n- Device drivers: Explicitly fsync() all files when writing to devices, to reduce chances of file corruption if the device is disconnected while jobs are running\n\n- [1207518] Fix calibre not appearing in Ubuntu's 'Open with..' menu\n\n\n:: improved recipes\n\n- PC World\n\n\n}}}\n\n\n{{{ 0.9.41 2013-07-27\n:: new features\n\n- Add a button to clear the current virtual library easily\n\n- [1204885] Driver for Surftab Ventos\n\n- Ebook-viewer: Allow re-ordering bookmarks in the bookmarks manager by drag and drop.\n\n\n:: bug fixes\n\n- DOCX Input: Fix conversion breaking for files that use heading style paragraphs to insert line rules\n\n- [1205385] Content server: Fix last search query not being fully sanitized in results page\n\n- Book polishing: Fix page margins being removed if an unused font was found during subsetting of embedded fonts.\n\n- [1203449] PDF Output: Do not error out when the input document uses a font that cannot be subset, such as the Symbol font. Instead print a warning and embed the full font.\n\n- [1188635] Conversion: Fix a regression in the last release that broke conversion of a few files with comments just before a chapter start.\n\n\n:: new recipes\n\n- Blindbuch and No names, No jackets by Armin Geller\n- El Tribuno Salta and Jujuy by Darko Miletic\n\n:: improved recipes\n\n- Something Awful\n- Spektrum der Wissenschaft\n- mediapart.fr\n- Dilbert\n- Antyweb\n- Scientific American\n- taz.de (RSS)\n\n\n}}}\n\n\n{{{ 0.9.40 2013-07-19\n:: new features\n\n- [1201006] EPUB Output: Add an option to insert an inline Table of Contents into the main text.\n\n- [1202013] Driver for LG Android phone\n\n- [1200826] When matching books in the library against the device manually, pre-fill the search field with the book title\n\n\n:: bug fixes\n\n- [1201083] PDF Input: Fix a regression that caused some images to be flipped when converting PDF files that use image rotation operators.\n\n- Fix regression that caused incorrect font size in dropcaps generated by the DOCX input plugin\n\n- [1200012] Get Books: Fix searching for title and author returning some extra matches, if the title starts with an article like the, a or an.\n\n- PDF Output: Fix extra blank page being inserted at the start of the chapter when converting some epub files from feedbooks\n\n- [1202390] PDF Output: Workaround bug in WebKit's getBoundingClientRect() method that could cause links to occasionally point to incorrect locations.\n\n- E-book viewer: Fix a bug that could cause the reported position to be incorrect immediately after opening a previously opened book. This also fixes the Back button not working if a link is clicked on the page immediately after opening the book.\n\n- Fix memory card not being detected for Elonex 621 on Windows\n\n- [1200864] Fix regression in last release that broke auto-conversion of ebooks when sending to device/sending by email.\n\n- Get Books: Update amazon plugins for website changes\n\n- [1202825] Allow using non-ascii chars in email passwords.\n\n\n:: new recipes\n\n- Il Foglio by faber1971\n- Le Monde Diplomatique and Acrimed by Gaetan Lehmann\n\n:: improved recipes\n\n- Galaxy's Edge\n\n\n}}}\n\n\n{{{ 0.9.39 2013-07-12\n:: new features\n\n- Bulk metadata edit: Add a checkbox to prevent the refreshing of the book list after the bulk edit. This means that the book list will not be resorted and any existing search/virtual library will not be refreshed.  Useful if you have a large library as the refresh can be slow.\n\n- Allow manually marking a book in the calibre library as being on the device. To do so click the device icon in calibre, then right click on the book you want marked and choose 'Match book to library'. Once you are done marking all the books, right click the device icon and choose 'Update cached metadata'\n\n- [1199410] Driver for Coby Kyros MID1126\n\n- When adding formats to an existing book, by right clicking the add books button, ask for confirmation if some formats will be overwritten.\n\n- Add a tweak to restrict the list of output formats available in the conversion dialog. Go to Preferences->Tweaks to change it.\n\n\n:: bug fixes\n\n- Amazon metadata download: Update plugin to deal with the new amazon.com website\n\n- Edelweiss metadata download plugin: Workaround for advanced search being broken at the Edelweiss website.\n\n- Invalid data in the device database on sony readers could cause errors when sorting device collections, ignore those errors.\n\n- [1198414] DOCX Input: Fix no page break being inserted before the last section.\n\n- [1198288] Metadata download dialog: Have the OK button enabled in the results screen as well.\n\n- Get Books: Update empik store plugin\n\n\n:: new recipes\n\n- Glenn Brenwald and Ludwig von Mises Institute by anywho\n\n:: improved recipes\n\n- Houston Chronicle\n- cracked.com\n- mediapart.fr\n\n\n}}}\n\n\n{{{ 0.9.38 2013-07-05\n:: new features\n\n- [1196038] Book polishing: Add option to embed all referenced fonts when polishing books using the 'Polish Books' tool.\n\n- [1196728] DOCX Input: Add support for clickable (hyperlinked) images\n\n- [1196728] DOCX Input: Insert page breaks at the start of every new section\n\n- [1196931 1182850] Drivers for Trekstor Pyrus Maxi and PocketBook Surfpad 2\n\n- DOCX Input: Add support for horizontal rules created by typing three hyphens and pressing enter.\n\n\n:: bug fixes\n\n- [1197970] Fix detection of SD Card in some PRS-T2N devices\n\n- MOBI Input: Fix a regression that broke parsing of MOBI files with malformed markup that also used entities for apostrophes.\n\n- Get Books: Update Woblink store plugin\n\n- Metadata download dialog: Prevent the buttons from being re-ordered when the Next button is clicked.\n\n- [1197006] PDF Output: Fix links that point to URLs with query parameters being mangled by the conversion process.\n\n- DOCX Input: Fix links pointing to locations in the same document that contain multiple, redundant bookmarks not working.\n\n- [1196728] EPUB/AZW3 Output: Fix splitting on page-break-after with plain text immediately following the split point causing the text to be added before rather than after the split point.\n\n- [1196728] DOCX Input: handle bookmarks defined at the paragraph level\n\n- [1196728] DOCX Input: Handle hyperlinks created as fields\n\n\n:: new recipes\n\n- Democracy Now by Antoine Beaupre\n\n:: improved recipes\n\n- iprofessional\n\n\n}}}\n\n\n{{{ 0.9.37 2013-06-28\n:: new features\n\n- [major] Conversion: Add option to embed all referenced fonts\n\nAdd an option to embed all fonts that are referenced in the input document but are not already embedded. This will search your system for the referenced font, and if found, the font will be embedded.  Only works if the output format supports font embedding (for example: EPUB or AZW3). The option is under the Look & Feel section of the conversion dialog.\n\n- ToC Editor: When generating a ToC from files, if the file has no text, do not skip it. Instead create an entry using the filename of the file.\n\n- [1194766] AZW3 Input: Add support for the page-progression-direction that is used to indicate page turns should happen from right to left. The attribute is passed into EPUB when converting.\n\n- ebook-convert: Add a --from-opf option to read metadata from OPF files directly, instead of having to run ebook-meta --from-opf after conversion\n\n\n:: bug fixes\n\n- [1194836] PDF Output: Fix Table of Contents being added to the end of the PDF even without the Add Table of Contents option being enabled.\n\n- When auto-merging books on add, also merge identifiers.\n\n- [1193763] Fix an error when using the Template Editor to create a template that uses custom columns.\n\n- LRF Output: Fix &quot; entities in attribute values causing problems\n\n- [1193912] News download: Apply the default page margin conversion settings. Also, when converting to PDF, apply the pdf conversion defaults.\n\n- [1192940] Fix a regression that broke scanning for books on all devices that used the Aluratek Color driver.\n\n- fetch-ebbok-metadata: Fix --opf argument erroneously requiring a value\n\n- [1195173] When waiting before sending email, log the wait.\n\n\n:: improved recipes\n\n- taz.de (RSS)\n- Miradas al sur\n- Frontline\n- La Nacion (Costa Rica)\n\n\n}}}\n\n\n{{{ 0.9.36 2013-06-21\n:: new features\n\n- DOCX Input: Support for Table of Contents created using the Word Table of Contents tool. calibre now first looks for such a Table of Contents and only if one is not found does it generate a ToC from headings.\n\n- DOCX Input: Add support for images used as bullets in lists\n\n- DOCX Input: If a large image that looks like a cover is present at the start of the document, remove it and use it as the cover of the output ebook. This can be turned off under the DOCX Input section of the conversion dialog.\n\n- When dropping files onto the Book Details panel, ask for confirmation before adding the files to the book. The confirmation can be disabled.\n\n- News download: Add the 'downloaded from' link at the bottom of every article when using a touchscreen output profile (like the Tablet profile).\n\n- E-book viewer: Change the bookmark button to always popup a menu when clicked, makes accessing existing bookmarks easier.\n\n- [1190931] After a bulk metadata download, focus the review button on the popup notification, instead of the OK button.\n\n\n:: bug fixes\n\n- DOCX Input: Hide text that has been marked as not being visible in the web view in Word.\n\n- [1191354] DOCX Input: When converting docx files with large numbers of unnamed images, do not crash on windows.\n\n- [119100] DOCX Input: Add support for the Word setting 'No space between paragraphs with the same style'.\n\n- [1191020] MOBI Output: Fix rendering of SVG images that embed large raster images in 64bit calibre installs.\n\n- [1192687] HTMLZ Output: Fix handling of images with URL unsafe filenames.\n\n- Fix unable to change the case of a previously used search because of the search history.\n\n- [1192785] When searching allow use of uppercase location names, such as AUTHOR instead of author, automatically lowercasing them.\n\n- DOCX metadata: When reading covers from DOCX files use the first image as specified in the actual markup instead of just the first image in the container.\n\n- [1192441] Kobo driver: Fix a regression when deleting empty shelves on Kobo devices with older firmware.\n\n- Do not show builtin plugins in the get new plugins dialog If a builtin plugin with the same name as a third party plugin exists, then the builtin plagin was displayed in the get new plugins dialog as installed (happened with the new DOCX Input plugin).\n\n- Apple driver: When in synchronous mode (direct to iBooks), disable PDF transfers, as we can't update metadata in iTunes. Not sure when this started, but as of iTunes 11.0.4 it's broken.\n\n- [1191199] Get Books: Fix error when using internal browser on some systems\n\n\n:: new recipes\n\n- Various Polish news sources by fenuks\n\n:: improved recipes\n\n- The Walrus Mag\n- Various Polish news sources\n\n\n}}}\n\n\n{{{ 0.9.35 2013-06-14\n:: new features\n\n- News download: Add a framework for scraping javascript heavy sites using a full WebKit browser. Used by the new recipe for time.com\n\n- DOCX Input: Add a markup analyzer that identifies and removes redundant markup generated by Word. This can result in much cleaner HTML and reductions in markup size of up to 50%\n\n- DOCX Input: Add support for theme fonts\n\n- calibredb list: Add an option to limit the number of results\n\n- Get Books: Allow stopping an in progress search. While doing a search, the Search button becomes a Stop button, and clicking on it stops the current search.\n\n- [1188906] When viewing the list of jobs in calibre, display the time at which the job was started.\n\n- Conversion settings: When selecting the input/output profiles, show the profile screen size along with its description.\n\n\n:: bug fixes\n\n- Get Books: Fix searching using the title/author being case-sensitive and therefore sometimes not returning results if uppercase characters were used in the query.\n\n- [1188768] EPUB/AZW3 Output: When splitting HTML on page breaks, preserve tag structure in the split files. This fixes splitting losing some styling information for HTML files that define page breaks on deeply nested tags.\n\n- DOCX Input: Fix some manual page breaks being ignored\n\n- DOCX Input: Fix empty paragraphs not being rendered\n\n- [1189311] DOCX Input: Fix some text being underlined incorrectly. The 'none' underline style was being translated incorrectly.\n\n- [1188843] E-book viewer: When viewing EPUB files, ignore any encoding declarations in the HTML and assume that the HTML is encoded in UTF-8, unless decoding with UTF-8 fails. This is what the EPUB specification specifies.\n\n- AZW3 Output: Fix a typo that could prevent conversion of some files\n\n- [1190476] calibredb list: When outputting data in columns, handle multibyte and east asian characters correctly.\n\n- Get Books: Fix unable to change case of words in the title/author/keywords boxes because of completion.\n\n- [1190463] Fix unable to clear custom date columns using the bulk metadata edit dialog\n\n- [1188635] MOBI Output: Fix regression that breaks conversion of some documents\n\n\n:: new recipes\n\n- Neu Osnabrucker Zeitung by Krittika Goyal\n\n:: improved recipes\n\n- La Nacion\n- Frontline\n- New York Time Sports Beat\n- Time\n- Times of India\n- Las Vegas Review Journal\n- Folha de Sao Paolo\n\n\n}}}\n\n\n{{{ 0.9.34 2013-06-07\n:: new features\n\n- [major] Conversion of Microsoft Word documents (.docx files generated by Word 2007 or newer)\n\nDOCX files created with Microsoft Word 2007 or newer can now be converted by calibre. The converter has support for lists, tables, images, all types of text formatting, footnotes, endnotes and even dropcaps. A sample docx file showing the capabilities of the converter is available: http://calibre-ebook.com/downloads/demos/demo.docx Note that this code is still very new, so there are more than likely a few bugs waiting to be squashed.\n\n- [1187791] Kobo driver: Support for the newly released firmware 2.6.1. Also remove empty shelves from the Aura HD home page when deleting books.\n\n- [1186928] E-book viewer: Add Keyboard shortcuts for Back and Forward (Alt+Left, Alt+Right)\n\n- [1186192] Allow right clicking on an author in Book Details to manage that author, i.e. change the author name, sort value or link.\n\n\n:: bug fixes\n\n- [1186213] Fix regression that broke FB2 input in the previous release.\n\n- [1066922] Catalog generation on OS X: Fix handling of some unicode characters\n\n- [1186899] HTML Input: Avoid spurious log warnings about unspecified language/creator when these are actually specified on the command line.\n\n- [1186533] MOBI Output: Fix regression in 0.9.31 that caused vertical margins specified on some block level elements to be ignored.\n\n- [1186298] ToC Editor: Handle ebooks that have <p> tags inside the <head> tags.  Instead of erroring out, the <p> tags are automatically moved into <body>.\n\n- [1186148] Linux build: Include the ffi libs from both gcc and libffi.\n\n- [1186142] When deleting custom recipes, use recycle bin.\n\n\n:: new recipes\n\n- Seventh Guard by koliberek\n\n:: improved recipes\n\n- Folha de Sao Paolo\n- Metro News NL\n\n\n}}}\n\n\n{{{ 0.9.33 2013-05-31\n:: new features\n\n- PDF Output: Add an option to generate a printable Table of Contents (that lists page numbers). Useful if you intend to print out the PDF.\n\n- Replace the book counts in the choose library button and next to the virtual library button with the names of the current library and virtual library. The count information is now displayed in the status bar at the bottom.\n\n- [1184546] When reviewing downloaded metadata, add a button to view the book being reviewed.\n\n- [1184524] Get Books: Add SONY Reader Store (Australia).\n\n- For users running calibre from source, note that calibre has moved to using git for source control. See http://www.mobileread.com/forums/showthread.php?t=214465 for details\n\n\n:: bug fixes\n\n- Windows build: Update the version of Qt calibre uses to fix crashes on some Windows 8 64 bit machines with touchscreens\n\n- [1185398] Fix error when using _daysago in search queries.\n\n- [1185294] Kobo driver: When deleting books from the Kobo Aura, do not leave empty entries on the home screen. Also show downloaded books stored in the SD card as on the card, not the main memory.\n\n- Get Books: Fix price information for Sony store incorrect, also fix libri.de store plugin\n\n- Fix error generated when changing libraries with the quickview window open\n\n- Fix regression that broke clicking on column headers in the device views\n\n\n:: new recipes\n\n- Various Polish News sources by Tomasz Dlugoz\n\n:: improved recipes\n\n- Folha de Sao Paolo\n- Various Polish news sources\n- Melbourne Herald Sun\n- Hindu Business Line\n- .net magazine\n- Pocket\n- Tagesschau.de\n\n\n}}}\n\n\n{{{ 0.9.32 2013-05-24\n:: new features\n\n- Show the number of currently selected books in the status bar at the bottom of the book list\n\n- [1182850 1181669] Driver for PocketBook Touch 623 and Yarvik tablet Xenta 13c\n\n- [1181449] When editing dates such as published, allow pressing the minus key to clear the date and the = key to set the date to today.\n\n\n:: bug fixes\n\n- [1181049] EPUB/AZW3 Output: Fix regression that caused erros when trying to convert documents that have URLs with invalid (non-utf-8) quoting.\n\n- When backing up metadata automatically remove XML invalid chars, instead of erroring out\n\n- ebook-viewer: Fix --debug-javascript option causing an error when running from a binary build on os x and linux\n\n- Fix switch library dialog and menu both popping up when clicking the library button in some window managers\n\n- Apple driver: Fix a regression in 0.9.31 that could cause sending books to the device to hang\n\n- [1182268] When setting metadata using the edit metadata dialog, convert newlines, tabs etc. to normal spaces\n\n- EPUB/AZW3 Output: Fix pages that contain only an svg image being regarded as empty and removed during splitting\n\n- [1182257] AZW3 Input: Handle files that use unnecessary svg: prefixes.\n\n- [1181546] EPUB Input: Handle EPUB files that have no <metadata> section in their OPF.\n\n- [1181494] Get Books: Fix Foyles UK store plugin.\n\n\n:: new recipes\n\n- WirtschaftsWoche Online by Hegi\n\n:: improved recipes\n\n- Wall Street Journal\n- Various Polish news sources\n- Handelsblatt\n- The Australian\n- Las Vegas Review\n- NME\n\n\n}}}\n\n\n{{{ 0.9.31 2013-05-17\n:: new features\n\n- Book list: Highlight the current cell in the book list, particularly convenient for usage with the keyboard.\n\n- Allow creation of advanced rules for column icons.\n\n- Driver for the limited edition SONY PRS-T2N\n\n- [1179144] MOBI Input: Add support for MOBI/KF8 files generated with the to be released kindlegen 2.9.\n\n\n:: bug fixes\n\n- ToC Editor: Fix incorrect playOrders in the generated toc.ncx when editing the toc in an epub file. This apparently affects FBReader.\n\n- PDF Input: Fix crashes on some malformed files, by updating the PDF library calibre uses (poppler 0.22.4)\n\n- [1179314] PDF Output: Ignore invalid links instead of erroring out on them.\n\n- [1179216] MOBI Output: Fix space errorneously being removed when the input document contains a tag with leading space and sub-tags.\n\n- Search and replace wizard: Fix generated html being slightly different from the actual html in the conversion pipeline for some input formats (mainly HTML, CHM, LIT).\n\n\n:: new recipes\n\n- nrc-next by Niels Giesen\n\n:: improved recipes\n\n- Weblogs SL\n- .net magazine\n\n\n}}}\n\n\n{{{ 0.9.30 2013-05-10\n:: new features\n\n- [1177677] Kobo driver: Add support for showing 'Archived' books on the device. Also up the supported firmware version to 2.5.3.\n\n- [1176607] Driver for Blackberry 9790\n\n- Add a tweak to turn off the highlighting of the book count when using a virtual library (Preferences->Tweaks)\n\n- Add a button to clear the viewer search history in the viewer Preferences, under Miscellaneous\n\n- Add keyboard shortcuts to clear the virtual Library and the additional restriction (Ctrl+Esc and Alt+Esc). Also use Shift+Esc to bring keyboard focus back tot he book list. Can be changed under Preferences->Keyboard\n\n- Docx metadata: Read the language of the file, if present\n\n\n:: bug fixes\n\n- [1174815] Kobo driver: Fix unable to read SD card on OS X/Linux\n\n- [1177158] Content server: Fix unable to download ORIGINAL_* formats\n\n- [1177114] Fix regression that broke searching for terms containing a quote mark\n\n- [1176622] Fix regression that broke conversion of txt files when no input encoding is specified\n\n- [1176296] When changing to a virtual library, refresh the Book Details panel.\n\n- [1176187] Fix regression that caused searching for user categories to break.\n\n- [1176253] Fix error when downloading only covers and reviewing downloaded metadata.\n\n- [1175965] MOBI metadata: Strip XML unsafe unicode codepoints when reading metadata from MOBI files.\n\n- [1175974] Txt Input: Use the gbk encoding for txt files with detected encoding of gb2312.\n\n- When pressing Ctrl+Home/End preserve the horizontal scroll position in the book list\n\n\n:: improved recipes\n\n- NSFW\n- Go Comics\n- Various Polish news sources\n- The Sun\n\n\n}}}\n\n\n{{{ 0.9.29 2013-05-03\n:: new features\n\n- Bulk metadata download: Allow reviewing of the downloaded metadata before it is applied\n\n- [1174047] FB2 Output: Write ISBN, pubdate, tags and publisher metadata when creating fb2 files\n\n\n:: bug fixes\n\n- [1175184] When reading metadata from EPUB 3 files, use the first <dc:title> element rather than the last.\n\n- [1174629] Fix regression causing the search query parser to not parse search string containing newlines/tabs instead of spaces correctly\n\n- [1174147 1174126] Kobo driver: Fix covers written to wrong place on OS X/linux when books sent to SD card. Fix covers not sent to SD card is images directory missing.\n\n- Fix 'Preferences->Behavior->Virtual library to use when this library is opened' being applied only on calibre startup and not when switching to the library\n\n- [1173795] PDF metadata: When rendering the first page as the cover, respect the PDF CropBox.\n\n- [1169795] PDF Output: Fix link generation broken on windows when converting epubs if the filenames contained uppercase letters.\n\n- [1173544] Tolino driver: Fix card and main memory swapped on windows\n\n- [1173351] FB2 Output: Fix images being ignored when converting a EPUB with image filenames that contain URL unsafe characters.\n\n- EPUB Input: Fix page margins specified in Adobe page template files with incorrect mime-types not being removed.\n\n\n:: new recipes\n\n- Diario Extra by Douglas Delgado\n\n:: improved recipes\n\n- The New Republic\n- io9\n- What if\n- Orlando Sentinel\n- Read It Later recipe\n- Smithsonian\n- Business Week Magazine\n\n\n}}}\n\n\n{{{ 0.9.28 2013-04-26\n:: new features\n\n- [major] Virtual Libraries: Easily partition your large calibre library into smaller 'virtual' libraries\n\nA virtual library is a way to tell calibre to open only a subset of a normal library. For example, you might want to only work with books by a certain author, or books having only a certain tag. To use this feature, click the button labeled 'Virtual Library' to the left of the search bar. For details, see https://manual.calibre-ebook.com/virtual_libraries.html. This feature used to be called 'Search restriction', the new virtual libraries are easier to use, but otherwise fulfil the same function.\n\n- [1171963] Book details panel: Allow copying of links in the book details panel by right clicking on them.\n\n- [1169571 1169968] Kobo driver: Add support for the new Kobo Aura HD and firmware version 2.5.0\n\n- [1170544] Metadata download: When showing downloaded covers, allow right clicking on a cover to view a full size version.\n\n- [1171633 1170763] Driver for Easy player cyber book e touch and Droid 4\n\n- Edit ToC: Allow the size of the panels in the location view to be adjusted\n\n- [1168231] When copying to a library by path, make it more efficient to choose between moving and copying\n\n- When checking if a zip/rar file is a comic or contains a single ebook to be auto-extracted, ignore thumbs.db files inside the archive\n\n\n:: bug fixes\n\n- [1171186] EPUB Input: Fix handling of EPUB files that contain images with non-ascii filenames.\n\n- [1171341] Device driver: Detect Laser EB720 with newer firmware.\n\n- Fix bug in Danish translation causing books with language Ingush being incorrectly translated as Engelsk\n\n- [1169795] PDF Output: Fix hyperlinks not working when converting an EPUB whose individual files have names with URL unsafe characters.\n\n- [1167941] Book polishing: Fix inserting cover into an epub with no cover could lead to incorrect guide entry if the opf is not at the root of the epub.\n\n- [1169910] ZIP Output: Fix links containing backslashes on windows\n\n- [1168789] Fix polishing of AZW3 files not working on OS X.\n\n- Polishing books: Fix polishing erroring out if the book being polished has no cover\n\n- [1167562] RTF Input: Add partial support for hyperlinks to web resources.\n\n- [1172839] Fix book details panel showing incorrect info after deleting books from a connected device\n\n\n:: new recipes\n\n- Voice of America by Krittika Goyal\n- Lightspeed Magazine by Jose Pinto\n- The Feature by Jose Pinto\n\n:: improved recipes\n\n- NZZ Online\n- Baltimore Sun\n- Metro NL\n- Financial Times\n- EcoGeek\n- comics.com\n- Psychology Today\n- Science News\n\n\n}}}\n\n\n{{{ 0.9.27 2013-04-12\n:: new features\n\n- [major] Metadata download: Add two new sources for covers: Google Image Search and bigbooksearch.com.\n\nTo enable them go to Preferences->Metadata download and enable the 'Google Image' and 'Big Book Search' sources. Google Images is useful for finding larger covers as well as alternate versions of the cover. Big Book Search searches for alternate covers from amazon.com. It can occasionally find nicer covers than the direct Amazon source. Note that both these sources download multiple covers for a single book. Some of these covers can be wrong (i.e. they may be of a different book or not covers at all, so you should inspect the results and manually pick the best match). When bulk downloading, these sources are only used if the other sources find no covers.\n\n- [1167951] Content server: Allow specifying a restriction to use for the server when embedding it as a WSGI app.\n\n- Get Books: Add a plugin for the Koobe Polish book store\n\n- calibredb add_format: Add an option to not replace existing formats. Also pep8 compliance.\n\n- Allow restoring of the ORIGINAL_XXX format by right-clicking it in the book details panel\n\n\n:: bug fixes\n\n- [1167985] AZW3 Input: Do not fail to identify JPEG images with 8BIM headers created with Adobe Photoshop.\n\n- Amazon metadata download: Ignore Spanish edition entries when searching for a book on amazon.com\n\n- TXT Input: When converting a txt file with a Byte Order Mark, remove the Byte Order Mark before further processing as it can cause the first line of the text to be mis-interpreted.\n\n- Get Books: Fix searching for current book/title/author by right clicking the get books icon\n\n- Get Books: Update nexto, gutenberg, and virtualo store plugins for website changes\n\n- [1165628] Amazon metadata download: When downloading from amazon.co.jp handle the 'Black curtain redirect' for adult titles.\n\n- When extracting zip files do not allow maliciously created zip files to overwrite other files on the system\n\n- [1021270] RTF Input: Handle RTF files with invalid border style specifications\n\n\n:: new recipes\n\n- Economia by Manish Bhattarai\n- Universe Today by seird\n- The Galaxy's Edge by Krittika Goyal\n\n:: improved recipes\n\n- The Escapist\n- San Francisco Chronicle\n- The Onion\n- Fronda\n- Tom's Hardware\n- New Yorker\n- Financial Times UK\n- Business Week Magazine\n- Victoria Times\n- tvxs\n- The Independent\n\n\n}}}\n\n\n{{{ 0.9.26 2013-04-05\n:: new features\n\n- PDF Output: Allow using templates to create arbitrary headers and footers. Look under PDF Output in the conversion dialog for this feature.\n\n- [1163520] ToC Editor: Allow generating the ToC directly from individual files inside the ebook. Useful for EPUBs that have individual chapters in single files.\n\n- ToC Editor: Add buttons to indent/unindent the current entry\n\n- ToC Editor: Right-click menu to perform various useful actions on entries in the ToC\n\n- Column icons: Allow use of wide images as column icons\n\n- [1162293 1163115] Add USB ids for the Palm Pre2 and Samsung Galaxy phone to the device drivers\n\n\n:: bug fixes\n\n- [1162573] PDF Output: Fix generating page numbers causing links to not work.\n\n- [1163659] Wrong filename output in error message when 'Guide reference not found'\n\n- Get Books: Update Amazon, Barnes & Noble, Waterstones and Gutenberg store plugins for website change\n\n- [1162054] PDF Output: Fix 1 pixel wide left and top margins on the cover page for some PDF conversions due to incorrect rounding.\n\n- [1161999] ToC Editor: Fix drag and drop of multiple items resulting in the dropped items being in random order sometimes.\n\n\n:: new recipes\n\n- AM730 by Eddie Lau\n- Arret sur images by Francois D\n- Diario de Noticias by Jose Pinto\n\n:: improved recipes\n\n- Financial Times UK\n- Sing Tao Daily\n- Apple Daily\n- A List Apart\n- Business Week\n- Harpers printed edition\n- Harvard Business Review\n\n\n}}}\n\n\n{{{ 0.9.25 2013-03-29\n:: new features\n\n- [1160914] Automatic adding: When checking for duplicates is enabled, use the same duplicates found dialog as is used during manual adding.\n\n- ToC Editor: Allow searching to find a location quickly when browsing through the book to select a location for a ToC item\n\n- ToC Editor: Add a button to quickly flatten the entire table of contents\n\n- Conversion: When converting a single book to EPUB or AZW3, add an option to automatically launch the Table of Contents editor after the conversion completes. Found under the Table of Contents section of the conversion dialog.\n\n\n:: bug fixes\n\n- [1160452 1160631] calibredb: Nicer error messages when user provides invalid input\n\n- News download: Always use the .jpg extension for jpeg images as apparently Moon+ Reader cannot handle .jpeg\n\n- [1159610] Fix Book Details popup keyboard navigation doesn't work on a Mac\n\n- Fix a regression that caused the case of the book files to not be changed when changing the case of the title/author on case insensitive filesystems\n\n\n:: new recipes\n\n- Fortune Magazine by Rick Shang\n- Eclipse Online by Jim DeVona\n\n:: improved recipes\n\n- RTE news\n- Various Polish news sources\n- Psychology Today\n- Foreign Affairs\n- History Today\n- Harpers Magazine (printed edition)\n- Business Week Magazine\n- The Hindu\n- Irish Times\n- Le Devoir\n\n\n}}}\n\n\n{{{ 0.9.24 2013-03-22\n:: new features\n\n- ToC Editor: Allow auto-generation of Table of Contents entries from headings and/or links in the book\n\n- [1155587] EPUB/MOBI Catalogs: Allow saving used settings as presets which can be loaded easily later.\n\n- [1158066] Indicate which columns are custom columns when selecting columns in the Preferences\n\n- News download: Add an option recipe authors can set to have calibre automatically reduce the size of downloaded images by lowering their quality\n\n\n:: bug fixes\n\n- News download: Fix a regression in 0.9.23 that prevented oldest_article from working with some RSS feeds.\n\n- Conversion: handle the :before and :after pseudo CSS selectors correctly\n\n- [1158413] AZW3 Output: Handle the case of the <guide> reference to a ToC containing an anchor correctly.\n\n- [1156432 1158127] BiBTeX catalogs: Fix ISBN not being output and the library_name field causing catalog generation to fail\n\n- [1157345] Conversion: Add support for CSS stylesheets that wrap their rules inside a @media rule.\n\n- [1153204] Cover browser: Fix scrolling not working for books after the 32678'th book in a large library.\n\n- Linux: Update bundled libmtp version\n\n- [1153026] Clear the Book details panel when the current search returns no matches.\n\n- [1156291] Fix a regression that broke creation of advanced column coloring rules\n\n- Amazon metadata download: Handle cover images loaded via javascript on the amazon.de site\n\n- [1155539] Nicer error message when exporting a generated csv catalog to a file open in another program on windows.\n\n- [1158499] Fix ebook-convert -h showing ANSI escape codes in the windows command prompt\n\n\n:: new recipes\n\n\n:: improved recipes\n\n- Various Polish news sources\n- kath.net\n- Il Giornale\n- Kellog Insight\n\n\n}}}\n\n\n{{{ 0.9.23 2013-03-15\n:: new features\n\n- [major] New tool: \"Edit ToC\" that allows you to edit or create a Table of Contents easily in EPUB or AZW3 ebooks.\n\nUsing the Edit ToC tool, you can easily re-arrange the entries in an existing Table of Contents, change their text and even change the location they point to by simply clicking the new location in the book. To use this tool, go to Preferences->Toolbar and add the Edit ToC tool to the main toolbar. Then simply select the books you want to be polished and click the Edit ToC button. This tool is based on a new codebase, so there may be bugs.\n\n- Content server: Enable use of plugboards for mobi and azw3 formats\n\n- [1153536] Windows driver for Tolino Shine\n\n- [1153407] When copying books to another library, show the name of the destination library in the copy dialog\n\n- Allow running plugins from the command line with calibre-debug easily\n\n\n:: bug fixes\n\n- PDF Output: Fix bug causing left and right margins to be applied to the cover page. Also fix the preserve cover aspect ratio option not working correctly\n\n- [1154948] PDF Output: Fix javascript dialog box popping up in the middle on converting very long documents.\n\n- [1154351] MOBI metadata: When setting the language in a MOBI file also update the language field in the EXTH header.\n\n- [1154353] MOBI metadata: Support writing of book producer field into MOBI files.\n\n- [1154137] Fix job progress and status not always updated\n\n- [1153859] Fix conversion of zip.rar archives with very long title/author on windows\n\n- [1152852] News download: Update the library used to parse RSS feeds.\n\n- [824713] Fix Irex Illiad not recognized on OS X computers\n\n- [1152870] Fix entering a very long search in the find item in tag browser box causes the tag browser to no longer be shrinkable.\n\n- Fix a bug in the zsh completion when converting for ebook-convert with PDF output\n\n\n:: new recipes\n\n- Deccan Herald by Muruli Shamanna\n- What If by kisnick\n- The Friday Times\n- Computer Woche by Maria Seliger\n- Lamebook by atordo\n\n:: improved recipes\n\n- Various Polish news sources\n- Harpers Full\n- kath.net\n- Smithsonian\n\n\n}}}\n\n\n{{{ 0.9.22 2013-03-08\n:: new features\n\n- [1151901] Linux driver for the Tolino ebook reader.\n\n- [1150852] Kobo driver: Add support for the new 'Archived' collections in Kobo firmware 2.4.0 and improve handling recommendations and previews.\n\n- Metadata search and replace: Allow replacing the entire set of identifiers instead of only a specific identifier when doing a search and replace. To do this, choose a source field other than identifiers and set the destination identifier type to: *\n\n- Show a brief description of every action when customizing toolbars in Preferences->Toolbars\n\n- Allow drag and drop of books from the calibre book list onto the button for Convert book, Edit metadata, Remove Book, Tweak Book, Polish books, etc.\n\n\n:: bug fixes\n\n- [1151721] CHM Input: Fix incorrect decoding for CHM files whose hhc file is also a content file.\n\n- [1152207] Conversion: Add the double low quote to list of characters that are converted to ascii.\n\n- Amazon metadata download: Update plugin to handle changes to Amazon site that could cause some covers to not be downloaded. Also fix finding metadata for books with + in their titles.\n\n- Content server: Fix a bug that prevented the cover being updated when files are downloaded from the content server\n\n- Conversion: Handle the use of @import CSS rules inside <style> tags in HTML files\n\n- Book polishing: Do not error out when polishing epub files that have XML comments in their OPF metadata section.\n\n- Book polishing: Do not error out when updating covers in EPUB files that have entries int heir manifest that point to missing files\n\n- Book polishing: Fix a bug that could cause updating covers to error out in some books\n\n- Fix updating the calibre application id in EPUBs that also use the application id as the package id.\n\n- [1141078] Apple driver: Fix bug preventing sending books to iBooks if no books have been previously added to iBooks.\n\n- EPUB/AZW3 Output: Fix splitting on page breaks ignored if the page breaks are inside an element which itself has a page-break-after style applied.\n\n- [1139317] EPUB/AZW3 Output: Fix incorrect splitting of html at page-break-after page breaks in certain circumstances (The split element being the first child of a parent that contains other split elements).\n\n\n:: new recipes\n\n- Various new Polish news sources\n\n:: improved recipes\n\n- Le Devoir\n- New York Times Book Review\n- Various Polish news sources\n\n\n}}}\n\n\n{{{ 0.9.21 2013-03-01\n:: new features\n\n- [1134958] Content server: When browsing random books, add a button to the book page to get another random book.\n\n- [1135649] Kobo driver: Update cover uploading for Kobo firmware 2.3.1 and later.\n\n- [1132025] Add a tweak under Preferences->Tweaks to try to recoginze numbers inside text fields like title when sorting. This will cause Book 2 to sort before Book 100. However, it is slower and can have trouble when the text starts with a number. If you want numeric sorting you should use the series field for it.\n\n- Get Books: Update the Amazon and Foyles store plugins\n\n- [1133691] Add a setting in Preferences->Tweaks that controls the sorting of the Copy to Library and Quick Switch menus. If the number of libraries is larger than the set value, the lists are sorted alphabetically instead of by frequency of use.\n\n- [1132583] Driver for Iriver Story EB12.\n\n- Edit metadata dialog: When pasting in copied text into the comments area, you can now choose to discard all formatting. Right click on the comments area and select 'Paste and Match style' which will paste the copied text as plain text formatted in the current style.\n\n- Book polishing: Make updating cover a separate option, so you can now update metadata without updating the cover.\n\n- Linux build: Install zsh completion for the calibre command line utilities\n\n\n:: bug fixes\n\n- Conversion: Do not rescale fonts sizes/adjust line heights for text based drop caps defined using a separate <span> tag (drop caps defined using :first-letter were already handled correctly)\n\n- [1132641] E-book viewer: Fix clicking links going to slightly incorrect locations in some books.\n\n- [1132626] E-book viewer: Fix rendering of pages for right-to-left text in paged mode is reversed.\n\n- E-book viewer: Fix bug in rendering prefixed svg tags in the cover pages of some EPUB files.\n\n- PDF Output: Do not error out when embedding a font that calibre cannot subset, instead embed the full font\n\n- Book polishing: Fix bug that caused the ORIGINAL_EPUB format to be replaced by the EPUB format when polishing a book with both ORIGINA_EPUB and EPUB\n\n- [1132085] Polishing books: Ignore unsupported fonts instead of erroring out on them.\n\n- Make bulk edit of custom columns respect the \"apply changes\" checkbox even if the value to set has not changed\n\n\n:: new recipes\n\n- Financial Times (US subscription version) and Nezavisne Novine by Darko Miletic\n- Geopolityka by chemik111\n- Democracy Journal by David Nye\n- HNOnline by Ladislav Lencucha\n- Various Colombian news sources by Ismael Mejia\n\n:: improved recipes\n\n- Science News\n- Die Zeit (subscription version)\n\n\n}}}\n\n\n{{{ 0.9.20 2013-02-22\n:: new features\n\n- Book polishing: Add an option to smarten punctuation in the book when polishing\n\n- Book polishing: Add an option to delete all saved settings to the load saved settings button\n\n- Book polishing: Remember the last used settings\n\n- Book polishing: Add a checkbox to enable/disable the detailed polishing report\n\n- Add a separate tweak in Preferences-Tweaks for saving backups of files when polishing. That way you can have calibre save backups while converting EPUB->EPUB and not while polishing, if you so desire.\n\n- Content server: Allow clicking on the book cover to download it. Useful on small screen devices where clicking the Get button may be difficult\n\n- [1127477] Driver for Energy Systems C4 Touch.\n\n\n:: bug fixes\n\n- E-book viewer: Fix a bug that could cause the back button in the viewer to skip a location\n\n- [1130729] When tweaking/polishing an azw3 file that does not have an identified content ToC, do not auto-generate one.\n\n- [1127273] Book polishing: Use the actual cover image dimensions when creating the svg wrapper for the cover image.\n\n- [1127308] Book polishing: Do not error out on epub files containing an iTunesMetadata.plist file.\n\n- Book polishing: Fix trying to polish more than 5 books at a time not working\n\n- [1130478] Content server: Add workaround for bug in latest release of Google Chrome that causes it to not work with book lists containing some utf-8 characters\n\n- E-book viewer: When viewing EPUB files, do not parse html as xhtml even if it has svg tags embedded. This allows malformed XHTML files to still be viewed.\n\n- Bulk metadata edit Search & recplace: Update the sample values when changing the type of identifier to search on\n\n- [1127666] Fix recipes with the / character in their names not useable from the command line\n\n- News download: Fix regression that broke downloading of images in gif format\n\n- EPUB/AZW3 Output: When splitting the output html on page breaks, handle page-break-after rules correctly, the pre split point html should contain the full element\n\n- Fix stdout/stderr redirection temp files not being deleted when restarting calibre from within calibre on windows\n\n- [1126030] E-book viewer: When viewing epub files that have their cover marked as non-linear, show the cover at the start of the book instead of the end.\n\n- EPUB Input: Fix handling of cover references with fragments in the urls\n\n\n:: new recipes\n\n- Pravda by Darko Miletic\n- PNN by n.kucklaender\n- Various Polish news sources by fenuks\n\n:: improved recipes\n\n- Fronda\n- Various Polish news sources\n\n\n}}}\n\n\n{{{ 0.9.19 2013-02-15\n:: new features\n\n- [major] New tool: \"Polish books\" that allows you to perform various automated cleanup actions on EPUB and AZW3 files without doing a full conversion.\n\nPolishing books is all about putting the shine of perfection on your ebook files. You can use it to subset embedded fonts, update the metadata in the book files from the metadata in the calibre library, manipulate the book jacket, etc. More features will be added in the future. To use this tool, go to Preferences->Toolbar and add the Polish books tool to the main toolbar. Then simply select the books you want to be polished and click the Polish books button. Polishing, unlike conversion, does not change the internal structure/markup of your book, it performs only the minimal set of actions needed to achieve its goals. Note that polish books is a completely new codebase, so there may well be bugs, polishing a book backs up the original as ORIGINAL_EPUB or ORIGINAL_AZW3, unless you have turned off this feature in Preferences->Tweaks, in which case you should backup your files manually. You can also use this tool from the command line with ebook-polish.exe.\n\n- [1124120] Driver for the Trekstor Pyrus Mini.\n\n- [1122333] E-book viewer: Add an option to change the minimum font size.\n\n- PDF Output: Add support for converting documents with math typesetting, as described here: https://manual.calibre-ebook.com/typesetting_math.html\n\n- Column coloring/icons: Add more conditions when using date based columns with reference to 'today'.\n\n\n:: bug fixes\n\n- Transforming to titlecase - handle typographic hyphens in all caps phrases\n\n- [1122713] Dont ignore file open events that occur before the GUI is initialized on OS X\n\n- News download: Handle feeds that have entries with empty ids\n\n- Fix a regression that broke using the template editor\n\n- Do not block startup while scanning the computer for available network interfaces. Speeds up startup time on some windows computers with lots of spurious network interfaces.\n\n\n:: new recipes\n\n- Navegalo by Douglas Delgado\n- El Guardian and More Intelligent Life by Darko Miletic\n\n:: improved recipes\n\n- New Yorker\n- Kommersant\n- Le Monde (Subscription version)\n- NZ Herald\n\n\n}}}\n\n\n{{{ 0.9.18 2013-02-08\n:: new features\n\n- [1091073] New metadata source: Edelweiss, a catalog of books that is updated directly by publishers. To enable it, go to Preferences->Metadata download and enable the Edelweiss plugin.\n\n- [1117907] Add an option to add extra spacing between rows in the book list. (Preferences->Look & Feel)\n\n- Column coloring/icons: Add a 'days ago' condition, useable with columns that store dates to set colors/icons based on the number of days before today\n\n- [1117524] E-book viewer: Add shortcuts Ctrl+= and Ctrl+- to increase/decrease text size.\n\n- When showing possible duplicates after adding books, also show the file formats.\n\n- Driver for Trekstor Ventos Tablet\n\n\n:: bug fixes\n\n- [1117270] Conversion: When transliterating unicode characters, handle « and » correctly.\n\n- Fix adding books from multiple directories with multiple books per directory treating opf files as an ebook\n\n- [1116849] Fix download metadata window not resizable on smaller screens\n\n- [1112934] Tweak Book: When rebuilding azw3 files handle <a> tags that have name but not id attribute, these are apparently produced by kindlegen.\n\n- [1118678] Fix regression in advanced column color rules.\n\n\n:: new recipes\n\n- VICE Magazine Deutschland by Alex\n- Libertad Digital by Darko Miletic\n\n:: improved recipes\n\n- El Mundo today\n- fluter.de\n- Birmingham Post\n- Japan Times\n- The Toronto Star\n- Le Monde (subscription version)\n- Globe and Mail\n\n\n}}}\n\n\n{{{ 0.9.17 2013-02-01\n:: new features\n\n- [major] Allow adding user specified icons to the main book list for books whose metadata matches specific criteria. Go to Preferences->Look & Feel->Column icons to setup these icons. They work in the same way as the column coloring rules.\n\n- [1110019] Allow choosing which page of a PDF to use as the cover.\n\nTo access this functionality add the PDF to calibre then click the edit metadata button. In the top right area of the edit metadata dialog there is a button to get the cover from the ebook file, this will now allow you to choose which page (from the first ten pages) of the pdf to use as the cover.\n\n- Add option to turn off reflections in the cover browser (Preferences->Look & Feel->Cover Browser)\n\n- PDF Output: Add an option to add page numbers to the bottom of every page in the generated PDF file (look in the PDF Output section of the conversion dialog)\n\n- [1106231] Add the full item name to the tool tip of a leaf item displayed in the tag browser.\n\n\n:: bug fixes\n\n- [1108017] Fix out-of-bounds data causing errors in the Tag Browser\n\n- [1107220] Conversion: Handle input documents that use multiple prefixes referring to the XHTML namespace correctly.\n\n- [1105294] PDF Output: Fix regression that caused some svg images to be rendered as black rectangles.\n\n- Metadata download: Only normalize title case if the result has no language set or its language is English\n\n\n:: new recipes\n\n- Dob NeviNosti by Darko Miletic\n- La Nacion (CR) by Douglas Delgado\n\n:: improved recipes\n\n- Baltimore Sun\n- Harvard Business Review\n- Victoria Times\n- South China Morning Post\n- Volksrant\n- Seattle Times\n\n\n}}}\n\n\n{{{ 0.9.16 2013-01-25\n:: new features\n\n- [1101809] News download: Add support for logging in to sites that require javascript for their logins.\n\n- News download: Do not convert all downloaded images to JPG format. This fixes the problem of PNG images with transparent backgrounds being rendered with black backgrounds\n\n- CHM Input: Support hierarchical table of contents. Do not generate an inline table of contents when a metadata table of contents is present. Also correctly decode the text in the table of contents\n\n- Get Books: Add the beam-ebooks.de store\n\n- Make custom yes/no columns using icons put text values under the icons.\n\n- [1103741 1104528] Driver for LG E400 and SayCoolA710\n\n- Speed up device connection when there are lots of books on the device by not generating cover thumbnails unless they are actually needed.\n\n- [1101150] Have the metadata download dialog remember its last used size.\n\n\n:: bug fixes\n\n- [1103504] Fix deleting a custom column that was used in a column coloring rule makes the column coloring preferences panel unusable\n\n- Store caches outside the config directory for non-portable calibre installs\n\n- [1102403] PDF Output: Dont crash if the user has a font on his system that is missing the OS/2 table\n\n- [1102647] Conversion: Do not error out because of an error in user supplied search replace rules.\n\n- [1102587] Conversion: Replace all non-ascii characters in CSS class names, as they cause problems with some broken EPUB renderers.\n\n- Do not choke when reading metadata from MOBI files with incorrectly encoded metadata fields\n\n- Conversion: Preserve ToC entries that point nowhere instead of causing them to point to a non-existent file\n\n- E-book viewer: Allow entries in the Table of Contents that do not point anywhere, instead of just ignoring them.\n\n- [1101124] Content server: Fix the 'Previous' link in the mobile version of the content server webpage skipping an entry\n\n\n:: new recipes\n\n- Contemporary Argentine Writers by Darko Miletic\n\n:: improved recipes\n\n- TSN\n- St. Louis Post Dispatch\n- Metro UK\n- Michelle Malkin\n- Barrons\n\n\n}}}\n\n\n{{{ 0.9.15 2013-01-18\n:: new features\n\n- Linux MTP driver: Detect devices that have MTP interfaces even if their USB ids are not known\n\n- Content server: Allow picking a random book by clicking the 'Random book' link on the start page. You can also refresh the random book page to get a new random book\n\n- E-book viewer: Add an option to hide the toolbars in the viewer window (Preferences->Miscellaneous->Show controls in the viewr preferences). You can unhide them by right clicking in the viewer window.\n\n- [1099190] Kobo driver: Speedup initial connect by avoiding unnecessary update of series metadata in some situations.\n\n- Get Books: Allow the store plugins to be dynamically loaded so that future website changes of a store dont require a calibre update to fix Get Books.\n\n- Wireless driver: Always replace file when resending a previously sent book to the device, even if the title/author have changed.\n\n- [1099571] Add PocketBook Pro 912 driver.\n\n- When creating/exporting epub and mobi files, add the calibre book identifier as a special field in the book's metadata. This allows third party tools to identify the book record in calibre to which the file belongs.\n\n- Wireless driver: Add support for using the book uuid as the filename\n\n- Remove the experimental tag from the subset fonts feature, since there has been only one reported problem (now fixed) with it in the two months since it was released\n\n\n:: bug fixes\n\n- Get Books: Update the amazon, waterstones and libri.de plugins to account for website changes\n\n- [1100601] MOBI Input: Do not choke on MOBI files with incorrectly encoded titles.\n\n- Font subsetting: Fix a bug in the parsing of the GSUB table that could cause some ligatures to not be included in the subset font\n\n- E-book-viewer: Fix TOC links without anchors not scrolling to the top of the current flow\n\n- [1099621] LIT Input: Handle lit files that set an incorrect XML mimetype for their text.\n\n- [1098325] Catalogs: Fix 'X' being droppen from isbns on export\n\n- [1098675] Fix an error when editing date in the main book list and all visible dates are blank.\n\n- [1098478] Fix calibre-smtp using incorrect escaping for non-ascii attachment filenames\n\n- Conversion: When subsetting fonts, handle multiple @font-face rules referring to the same physical font\n\n- Content server: Update metadata when serving azw3 files\n\n- [1100610] CHM Input: Handle chm files that contain files with url unsafe filenames.\n\n- [1095016] Content server: Fix custom icons for top level categories incorrect.\n\n- [1100607] Kobo driver: When resending a file to the device, update the filesize in the Kobo db to prevent the device from deleting the file.\n\n\n:: new recipes\n\n- Asco de Vida by Krittika Goyal\n- Schattenblick by ThB\n\n:: improved recipes\n\n- The Chronicle of Higher Education\n- Smithsonian Magazine\n- Philosophy Now\n- The Economist\n- Business Week Magazine\n\n\n}}}\n\n\n{{{ 0.9.14 2013-01-11\n:: new features\n\n- [1095256] When adding multiple books and duplicates are found, allow the user to select which of the duplicate books will be added anyway.\n\n- [1098049] Device drivers for Kobo Arc on linux, Polaroid Android tablet\n\n- When sorting by series, use the language of the book to decide what leading articles to remove, just as is done for sorting by title\n\n\n:: bug fixes\n\n- [1096428] PDF Output: Do not error out when the input document contains links with anchors not present in the document.\n\n- [1095617] Add support for upgraded db on newest Kobo firmware\n\n- [1097563] PDF Output: Fix typo that broke use of custom paper sizes.\n\n- PDF Output: Handle empty anchors present at the end of a page\n\n- [1096290] PDF Output: Fix side margins of last page in a flow being incorrect when large side margins are used.\n\n- Edit metadata dialog: Allow setting the series number for custom series type columns to zero\n\n- When bulk editing custom series-type columns and not provding a series number use 1 as the default, instead of None\n\n- [1091581] Catalogs: Fix issue with catalog generation using Hungarian UI and author_sort beginning with multiple letter groups.\n\n- [1096279] PDF Output: Dont error out on files that have invalid font-family declarations.\n\n- [1096170] Do not load QRawFont at global level, to allow calibre installation on systems with missing dependencies\n\n- [1096098] PDF Output: Fix cover not present in generated PDF files\n\n\n:: new recipes\n\n- Spectator Magazine, Oxford Mail and Outside Magazine by Krittika Goyal\n- Libartes by Darko Miletic\n- El Diplo by Tomas De Domenico\n\n:: improved recipes\n\n- Sueddeutsche Zeitung mobil\n- Boerse Online\n- TidBits\n- New York Review of Books\n- Fleshbot\n- Il Messaggero\n- Libero\n\n\n}}}\n\n\n{{{ 0.9.13 2013-01-04\n:: new features\n\n- [major] Complete rewrite of the PDF Output engine, to support links and fix various bugs\n\ncalibre now has a new PDF output engine that supports links in the text. It also fixes various bugs, detailed below. In order to implement support for links and fix these bugs, the engine had to be completely rewritten, so there may be some regressions.\n\n- Show disabled device plugins in Preferences->Ignored Devices\n\n- Get Books: Fix Smashwords, Google books and B&N stores. Add Nook UK store\n\n- [1094475] Allow series numbers lower than -100 for custom series columns.\n\n- [1087809] Add mass storage driver for rockhip based android smart phones\n\n- Add a clear ratings button to the edit metadata dialog\n\n\n:: bug fixes\n\n- PDF Output: Fix custom page sizes not working on OS X\n\n- PDF Output: Fix embedding of many fonts not supported (note that embedding of OpenType fonts with Postscript outlines is still not supported on windows, though it is supported on other operating systems)\n\n- [1087688] PDF Output: Fix crashes converting some books to PDF on OS X\n\n- [1094203] HTML Input: Handle entities inside href attributes when following the links in an HTML file.\n\n- [1095016] Content server: Fix custom icons not used for sub categories\n\n- Force use of non-unicode constants in compiled templates. Fixes a problem with regular expression character classes and probably other things.\n\n- [1094597] Kobo driver: Do not error out if there are invalid dates in the device database\n\n- [1094063] Content server: Fix for non-unicode hostnames when using mDNS\n\n\n:: improved recipes\n\n- Today's Zaman\n- The Economist\n- Foreign Affairs\n- New York Times\n- Alternet\n- Harper's Magazine\n- La Stampa\n\n\n}}}\n\n\n{{{ 0.9.12 2012-12-28\n:: new features\n\n- [1093570 1093732] Drivers for Kibano e-reader and Slick ER-700-2\n\n- [1092594] Add support for downloading metadata from Amazon Brazil.\n\n- [1093231] Copy to library: Allow specifying the destination library by path.\n\n- When adding empty books, allow setting of the series for the new books. Also select the newly added book records after adding.\n\n- PDF Output: Add a checkbox to override the page size defined by the output profile. This allows you to specify a custom page size even if the output profile is not set to default.\n\n- Add usb ids for newer kindle fire to the linux mtp driver\n\n\n:: bug fixes\n\n- Linux: Temporarily redirect stdout to get rid of the annoying and pointless message about mtpz during libmtp initialization\n\n- [1093574] Fix multiple 'All column' coloring rules not being applied\n\n- [1092098] Use custom icons in the content server as well.\n\n\n:: new recipes\n\n- Various Ukranian news sources by rpalyvoda\n\n:: improved recipes\n\n- La Voce\n- Harpers Magazine (printed edition)\n- Pajamas Media\n- NSFW corp\n- The Hindu\n- Nikkei News\n\n\n}}}\n\n\n{{{ 0.9.11 2012-12-21\n:: new features\n\n- Merry Christmas and Happy Holidays to all ☺\n\n- When connecting to MTP devices such as the Kindle Fire HD or the Nook HD, speed up the process by ignoring some folders.\n\ncalibre will now ignore folders for music, video, pictures, etc. when scanning the device. This can substantially speed up the connection process if you have thousands of non-ebook files on the device. The list of folders to be ignored can be customized by right clicking on the device icon in calibre and selecting 'Configure this device'.\n\n- [1092098] Allow changing the icons for categories in the Tag Browser. Right click on a category and choose 'Change category icon'.\n\n- Allow setting the color of all columns with a single rule in Preferences->Look & Feel->Column Coloring\n\n- [1090394] MOBI: When reading metadata from mobi files, put the contents of the ASIN field into an identifier named mobi-asin. Note that this value is not used when downloading metadata as it is not possible to know which (country specific) amazon website the ASIN comes from.\n\n\n:: bug fixes\n\n- Windows build: Fix a regression in 0.9.9 that caused calibre to not start on some windows system that were missing the VC.90 dlls (some older XP systems)\n\n- [1091932] Kobo driver: Workaround for invalid shelves created by bugs in the Kobo server\n\n- [1090765] Metadata download: Fix cover downloading from non-US amazon sites broken by a website change.\n\n\n:: new recipes\n\n- MobileBulgaria by Martin Tsanchev\n- Various Polish news sources by fenuks\n\n:: improved recipes\n\n- Le Devoir\n- Nin online\n- countryfile\n- Birmingham Post\n- The Independent\n- Various Polish news sources\n\n\n}}}\n\n\n{{{ 0.9.10 2012-12-14\n:: new features\n\n- [1088149 1088112 1087978] Drivers for Nextbook Premium 8 se, HTC Desire X and Emerson EM 543\n\n\n:: bug fixes\n\n- [1089011] Fix rich text delegate not working with Qt compiled in debug mode.\n\n- When deleting all books in the library, blank the book details panel\n\n- Conversion: Fix malformed values in the bgcolor attribute causing conversion to abort\n\n- [1066507] Conversion: Fix heuristics applying incorrect style in some circumstances\n\n- [1087816] Possible fix for 64bit calibre not starting up on some Windows systems\n\n\n:: new recipes\n\n- Titanic by Krittika Goyal\n\n:: improved recipes\n\n- Sivil Dusunce\n- Anchorage Daily News\n- Le Monde\n- Harpers\n\n\n}}}\n\n\n{{{ 0.9.9 2012-12-07\n:: new features\n\n- [major] 64 bit build for windows\n\ncalibre now has a 64 bit version for windows, available at: http://calibre-ebook.com/download_windows64 The 64bit build is not limited to using only 3GB of RAM when converting large/complex documents. It may also be slightly faster for some tasks. You can have both the 32 bit and the 64 bit build installed at the same time, they will use the same libraries, plugins and settings.\n\n- [1085726] Content server: Make the identifiers in each books metadata clickable.\n\n\n:: bug fixes\n\n- [1086917] EPUB Input: Fix an infinite loop while trying to recover a damaged EPUB file.\n\n- [1086705] KF8 Input: Fix handling of links in files that link to the obsolete <a name> tags instead of tags with an id attribute.\n\n- [1086054] Conversion: Fix a bug in removal of invalid entries from the spine, where not all invalid entries were removed, causing conversion to fail.\n\n- [1085306] KF8 Input: Ignore invalid flow references in the KF8 document instead of erroring out on them.\n\n- [1085103] Fix command line output on linux systems with incorrect LANG/LC_TYPE env vars.\n\n- KF8 Input: Fix page breaks specified using the data-AmznPageBreak attribute being ignored by calibre.\n\n- PDF Output: Fix custom size field not accepting fractional numbers as sizes\n\n- Get Books: Update libre.de and publio for website changes\n\n- Wireless driver: Increase timeout interval, and when allocating a random port try 9090 first\n\n\n:: improved recipes\n\n- New York Times\n- Weblogs SL\n- Zaman Gazetesi\n- Aksiyon Dergisi\n- Endgadget\n- Metro UK\n- Heise Online\n\n\n}}}\n\n\n{{{ 0.9.8 2012-11-30\n:: new features\n\n- Add an option to show the cover size in the book details panel on the right. Option is in Preferences->Look & Feel->Book Details\n\n- Kobo driver: Add support for firmware 2.2. Also add an option to send series information to the device.\n\nThe newest Kobo firmware can display series information. Unfortunately, the Kobo does not read this information from the ebook file itself. It has to be sent separately after the Kobo has finished processing the new files. So you might have to connect - send books - disconnect and then re-connect for the series infor to show up. Fixes #1084388 (Add support for series on Kobo devices)\n\n- Catalogs: Allow using custom columns as the source for Genres when generating catalogs\n\n- When the user asks calibre to convert a book, show a small animation to highlight that the convert job has been queued to run in the background\n\n- Add support for the notification center in OS X 10.8\n\n- [1083932] calibredb: Add an option to specify the cover to use when adding books with calibredb add.\n\n- EPUB Input: Add support for EPUB files with broken central directory records *and* data descriptors\n\n- [1082340] Comic metadata: Support reading metadata from cbr files. Also read the comments and published date info from the metadata.\n\n- Speed up processing of RAR and CBR files by avoiding an extra file copy\n\n- [1082563] Add driver for Nexus 10 on linux.\n\n\n:: bug fixes\n\n- [1082669] KF8 Input: Handle invalid KF8 files with links pointing to non-existent locations and incorrect values in the div table.\n\n- [1083278] Viewer: Fix handling of empty self closing tags.\n\n- Fix use of {formats} in save to disk templates. Fix some formatter functions causing plugboards to not validate.\n\n- [1082630] Fix calibre quitting when minimized to system tray and an update available message is shown and then closed.\n\n- [1082640] Viewer: Fix vertical margin at the top of the first page of a chapter incorrect in a certain rare circumstance (first child of body being an empty paragraph).\n\n- E-book viewer: Fix bug that caused the default language for hyphenation to be ignored for books that do not specify a language\n\n\n:: improved recipes\n\n- Pro Physik\n- Aachener Nachrichten\n- Science News\n\n\n}}}\n\n\n{{{ 0.9.7 2012-11-23\n:: new features\n\n- [1079781] Edit metadata dialog: Show the size of the current book cover in the edit metadata dialog.\n\n- Get Books: Allow easy searching by title and author in addition to any keyword, to prevent large numbers of spurious matches.\n\n- An option to automatically convert any added book to the current output format, found under Preferences->Adding books\n\n- [1080710] E-book viewer: Allow viewing tables in a separate popup window by right clicking on the table and selecting 'View table'. Useful for reference books that have lots of large tables.\n\n- [1078422] Catalogs: Add the current library name as an available field when generating catalogs in csv/xml format.\n\n- Enable colored text in the output from the command line tools on windows\n\n- E-book viewer: Add an option to hide the help message when entering full screen mode\n\n- E-book viewer: Add an option to always start the viewer in full screen mode\n\n- E-book viewer: Add many more controls to the context menu, particularly useful in full screen mode\n\n- E-book viewer: Allow easy searching of the selected word or phrase in google via the context menu\n\n- Add a new type of FileType plugin, postimport, that runs after a book has been added to the database.\n\n- Get Books: Remove Gandalf store, add Publio store. Update the Legimi store plugin for website changes\n\n\n:: bug fixes\n\n- [1081094] Conversion: Correctly handle values of left and right for the deprecated align attribute of images, mapping them to the CSS float property instead of to text-align.\n\n- MOBI Output: When generating joint MOBI6/KF8 files do not set incorrect display CSS values for tables in the KF8 part\n\n- [1081096] Connect to iTunes: Ignore AAC audio files.\n\n- E-book viewer: Fix restoring from fullscreen not respecting maximized window state\n\n- Fix rows in the device books view sometimes being too high\n\n- Catalogs: Fixed a problem occurring when merging comments with a custom field whose type is a list.\n\n- [1077884] Linux binary: Use exec in the wrapper shell scripts that are used to set env vars and launch calibre utilities.\n\n- E-book viewer: Fix blank pages after every page when viewing some comic files in paged mode\n\n- [1074220] E-book viewer: When printing, respect the specified page range.\n\n- Font subsetting: Parse the GSUB table for glyph substitution rules and do not remove any glyphs that could act as substitutes. Keep zero length glyphs like the glyphs for non printable characters when subsetting TrueType outlines.\n\n- Smarten punctuation: Fix self closing script tags causing smarten punctuation to fail\n\n\n:: new recipes\n\n- Various Czech and Hungarian news sources by bubak\n- Various Polish recipes by Artur Stachecki\n- Buchreport by a.peter\n- Red Voltaire by atordo\n- Autosport by Mr Stefan\n- House News by Eddie Lau\n\n:: improved recipes\n\n- Arguments and facts\n- Business Standard\n- The New Yorker\n\n\n}}}\n\n\n{{{ 0.9.6 2012-11-10\n:: new features\n\n- [major] Experimental support for subsetting fonts\n\nSubsetting a font means reducing the font to contain only the glyphs for the text actually present in the book. This can easily halve the size of the font. calibre can now do this for all embedded fonts during a conversion. Turn it on via the 'Subset all embedded fonts' option under the Look & Feel section of the conversion dialog. calibre can subset both TrueType and OpenType fonts. Note that this code is very new and likely has bugs, so please check the output if you turn on subsetting. The conversion log will have info about the subsetting operations.\n\n- EPUB Input: Try to workaround EPUBs that have missing or damaged ZIP central directories. calibre should now be able to read/convert such an EPUB file, provided it does not suffer from further corruption.\n\n- [1074623] Allow using identifiers in save to disk templates.\n\n- calibredb: Add an option to not notify the GUI\n\n- [1074931] Catalogs: Fix long tags causing catalog generation to fail on windows. Add the ability to cross-reference authors, i.e. to relist the authors for a book with multiple authors separately.\n\n- Edit metadata dialog: Add a clear tags button to remove all tags with a single click\n\n- Add search to the font family chooser dialog\n\n\n:: bug fixes\n\n- [1075782] Windows: Fix a long standing bug in the device eject code that for some reason only manifested in 0.9.5.\n\n- Get Books: Fix Amazon stores, Google Books store and libri.de\n\n- [1069617] Kobo driver: More fixes for on device book matching, and list books as being on device even if the Kobo has not yet indexed them. Also some performance improvements.\n\n- EPUB Output: Remove duplicate id and name attributes to eliminate pointless noise from the various epub check utilities\n\n- Ask for confirmation before removing plugins\n\n- [1076191] Fix bulk convert queueing dialog becoming very long if any of the books have a very long title.\n\n- [1075476] Fix deleting custom column tags like data from the Tag browser not updating the last modified timestamp for affected books\n\n- When updating a previously broken plugin, do not show an error message because the previous version of the plugin cannot be loaded\n\n- Fix regression that broke the Template Editor\n\n\n:: new recipes\n\n- Various Polish news sources by Artur Stachecki\n\n:: improved recipes\n\n- Various updated Polish recipes\n- London Review of Books\n- Yemen Times\n\n\n}}}\n\n\n{{{ 0.9.5 2012-11-02\n:: new features\n\n- Font embedding: Add support for the CSS 3 Fonts module, which means you can embed font families that have more that the usual four faces, with the full set of font-stretch and font-weight variations. Of course, whether the fonts actually show up on a reader will depend on the readers' support for CSS 3.\n\n- [1069076] Sharing by email: Allow specifying an 'alias' or friendly name by which to identify each email recipient.\n\n- Embedding fonts: Allow adding ttf/otf font files to calibre directly to be used for embedding. That way the fonts do not have to be installed system wide. You can add a font to calibre via the 'Add fonts' button in the font chooser dialog for embedding fonts.\n\n- [1073513] E-book viewer: Add the ability to rotate images to the popup image viewer.\n\n- Generate cover: Speedup searching the system for a font that can render special characters\n\n- A new custom font scanner to locate all fonts on the system. Faster and less crash prone that fontconfig/freetype\n\n- Font family chooser: Show the faces available for a family when clicking on the family\n\n\n:: bug fixes\n\n- [1072702] Get Books: Fix eHarlequin and Kobo stores.\n\n- [1072437] Kobo driver: Fix a bug that could cause the on device book matching to fail in certain circumstances.\n\n- [1073792] Kobo driver: When using a SD card do not delete shelves that contain on books on the card (there might be books in the shelf in the main memory).\n\n- Workaround for bug in the windows API CreateHardLink function that breaks using calibre libraries on some networked filesystems.\n\n- Template editor: Use dummy metadata instead of blank/unknown values\n\n- Windows: abort setting of title/author if any of the books' files are in use. Results in less surprising behavior than before, when the title/author would be changed, but the on disk location would not.\n\n\n:: new recipes\n\n- Pravda in english, italian and portuguese by Darko Miletic\n- Delco Times by Krittika Goyal\n\n:: improved recipes\n\n- Financial Times UK\n- Science AAAS\n- The Atlantic\n\n\n}}}\n\n\n{{{ 0.9.4 2012-10-26\n:: new features\n\n- [major] Conversion: Add an option to embed a font family into the book.\n\nThe embedded font is used as the base font for all text that does not specify its own font family in the input document. Works only with output formats that support font embedding, principally EPUB/AZW3. Option is found under Look & Feel in the conversion dialog. You can ensure that the font is used for all text, regardless of the input document's styles by filtering out font family styles via the Filter Style Information option in the Conversion dialog.\n\n- When changing the title/author of a book, use hard links instead of copying the books' files, for a large speedup. Only works on filesystems that support hardlinks.\n\n- Linux installer: Resume interrupted downloads and verify the SHA-512 signature of the downloaded file before installing it.\n\n\n:: bug fixes\n\n- Windows: Check if any of the files of a book are in use before changing the title/author, this prevents the creation of duplicate files if one of the files is open in another program\n\n- [1069403] Kobo driver: Fix the ondevice status for some books getting lost.\n\n- [1070086] Catalogs: Fix regression that broke use of prefix rules.\n\n- [1069835] Tag Browser: Fix sorting incorrect for accented letters\n\n- Make the bundled Liberation fonts available on all platforms for embedding\n\n- Use mimetype for fonts from the EPUB 3 specification\n\n- Get Books: Handle website change that broke the SONY Store plugin\n\n- Generate cover: If the default font cannot render characters in the metadata (for example for east asian languages) try to automatically find a font on the system that is capable of rendering the characters\n\n- [1068937] Fix regression that broke certain types of CSS selectors.\n\n- Use font-weight:bold instead of font-weight:bolder for the <b> and <strong> tags as ADE cant handle bolder when embedded fonts are used\n\n\n:: new recipes\n\n- Yazihane by A Erdogan\n\n:: improved recipes\n\n- New York Post\n- PC World\n- TIME Magazine\n- Associated Press\n\n\n}}}\n\n\n{{{ 0.9.3 2012-10-19\n:: new features\n\n- Conversion: Add support for CSS 3 selectors by switching to the new cssselect module\n\n- [1066083 1067105] Drivers for the WayteQ xBook and the Topwise Android tablet\n\n- Add an output profile for the Kindle PaperWhite\n\n- [1066633] Kobo driver: Improve performance when a large number of shelves are created on the device.\n\n- Catalogs: Put catalog sections at top level of ToC for EPUB/AZW3 catalogs.\n\n- Adding books: When duplicates are found, show the list of possible duplicates in calibre with title and author.\n\n\n:: bug fixes\n\n- [1067310] KF8 Input: Fix conversion/viewing of KF8 files generated with the unreleased? kindlegen 2.7.\n\n- Kindle driver: Increase the size of the cover thumbnails sent by calibre to the device. This fixes the problem of cover thumbnails not showing up on the PaperWhite\n\n- [1067562] MTP driver: Fix sorting on the title column of the device view.\n\n- Catalogs: Fix regression that caused authors and titles to be be incorrectly listed under symbols on OSX < 10.8.\n\n- [1065452] Catalogs: Fix error when generating catalog in non English locale and the user has specified a prefix rule using a Yes/no column.\n\n- [1065615] E-book viewer: Remove the reload entry from the context menu as it is not supported in paged mode.\n\n\n:: new recipes\n\n- Various Polish news sources by fenuks\n\n:: improved recipes\n\n- Richmond Times Dispatch\n- Various Polish news sources\n- Aksiyon dergisi\n- Spektrum der Wissenschaft\n- Zeit Online\n- Baltimore Sun\n- LWN Weekly\n- The Sun\n\n\n}}}\n\n\n{{{ 0.9.2 2012-10-11\n:: new features\n\n- Wireless driver: Speed up deleting of multiple books\n\n- [1047450] E-book viewer: Add options to hide the scrollbar and show reading position in full screen mode.\n\n- News download: Add a field to allow recipe authors to tell calibre to remove duplicate articles that a re present in more than one section from the download.\n\n- Metadata download: Turn off the use of the published date for the earliest edition a book as the published date. The earliest edition was identified via worldcat.org, which has rather poor data, leading to the occasional incorrect result. If you want this feature back, you can turn it on again via Preferences->Metadata download.\n\n\n:: bug fixes\n\n- [1063207] ODT Input: More workarounds for the image positioning markup produced by newer versions of LibreOffice.\n\n- Metadata download dialog: Fix selected cover being changed when covers are re-sorted after download completes\n\n- MTP driver: Ignore errors when getting the driveinfo.calibre file from the device and simply regenerate it\n\n- [1063209] E-book viewer: Use the system locale settings to display the 24/12 hour clock in full screen mode\n\n- Content Server: Make OPDS initial page respect the fields to display tweak\n\n- Fix regression that caused calibre to not use OPF files when adding books recursively from directories with multiple books per directory\n\n- [1062477] KF8 Output: Fix handling of input documents that have URL unsafe characters in the file names of their images.\n\n- [1061602] Fix enumeration type custom column not being merged.\n\n\n:: new recipes\n\n- PVP Online, Mobile Nations, The Verge and Television Without Pity by Krittika Goyal\n\n:: improved recipes\n\n- Pubblico Giornale\n- Der Spiegel\n- Shortlist\n- FHM UK\n- Countryfile\n- Cosmo UK\n- The Sun UK\n- NME\n\n\n}}}\n\n\n{{{ 0.9.1 2012-10-05\n:: new features\n\n- [1024983 1059585] New driver for the Kobo Touch version 2.0+ firmware and Kobo Glo and Mini. See http://www.mobileread.com/forums/showthread.php?t=192863 for details\n\n- [1061903] Driver for Motorola Defy XT\n\n- Wireless driver: Always use automatic metadata management, regardless of the setting in Preferences->Devices\n\n- [1052332] Sending books by email: Allow sending to multiple email addresses at once separated by commas.\n\n- [1052343] KF8 Output: Add the css passed in through the extra css conversion option to the generated inline ToC.\n\n- Windows: No longer use fontconfig to scan the system for available fonts. Instead use the Windows API. Should fix crashes/instability caused by fonts that fontconfig cannot handle\n\n- [1058531] When editing a blank (undefined) published date in the edit metadata dialog, have the calendar popup jump to the current date instead of the date 1-1-101\n\n- [1059351 1058591] FB2 Input: Add support for th, code and strikethrough tags and also rowspan, colspan and align attributes.\n\n\n:: bug fixes\n\n- Get Books: Update Woblink\n\n- [1051135] Position the next selected book better after deleting multiple books from the library view\n\n- [1060472] Allow using the Enter key to select the cover in the metadata download dialog\n\n- PDF Output: Handle embedded fonts better on linux\n\n- [1059349] HTML Input: Guess mimetype correctly for references to image files without file extensions.\n\n- [1057862] Catalog generation: Workaround for bug in the ICU library on older OS X systems that caused catalog generation to fail when certain non-ascii characters are present in the metadata.\n\n- Wireless driver: Do not abort if BonJour registration fails, as we can still use broadcast to connect\n\n- KF8 Output: Fix invalid output being generated for some files with very large blocks of contiguous non-ascii text\n\n\n:: new recipes\n\n- IOL News and The New Age by Darko Miletic\n\n:: improved recipes\n\n- FC Knudde\n- Stamgaten\n- Foreign Policy\n- Washington Post\n- Twitch Films\n- Nature News\n\n\n}}}\n\n\n{{{ 0.9.0 2012-09-28\n:: new features\n\n- [major] For a summary of the major changes in calibre between 0.8 and 0.9, see http://calibre-ebook.com/new-in/nine\n\n\n:: bug fixes\n\n- KF8 Output: Fix handling of &amp; &lt; and &gt; entities in the text. They were sometimes being incorrectly unescaped.\n\n- [1057042] Calibre portable: Add a manifest to the portable installer exe to prevent the application compatibility wizard from warning about a possible failed installation on windows 7. Also fixes installer requiring admin privileges on some computers\n\n- EPUB metadata: Fix book producer not being set when updating EPUB metadata\n\n- EPUB metadata: Fix incorrect namespace on the role attribute of <dc:creator> tags when updating the metadata in EPUB\n\n- [1055785] Get Books: Fix incorrect price retrieval from ebooks.com.\n\n- [1055129] MTP windows driver: Fix main memory and storage card sometimes swapped\n\n- [1053906] PDF Output: On windows, remove any embedded fonts before generating the PDF as on windows, Qt generates image based PDFs when embedded fonts are present.\n\n- [1054562] MTP windows driver: Do not try to connect to unsuitable devices such as the iPhone.\n\n- [1053751] KF8 Input: Handle files that use non ascii paths/anchor names in the guide entries.\n\n\n:: new recipes\n\n- Pubblico Giornale by iusvar\n\n:: improved recipes\n\n- Monitor Online\n- El Pais\n- Chronicle of Higher Education\n- Baltimore Sun\n- Mac World\n- Maximum PC\n- Financial Times UK\n\n\n}}}\n\n\n{{{ 0.8.70 2012-09-21\n:: new features\n\n- [major] Support for connecting MTP (non disk based) devices via USB, such as the Nexus 7 and the Kindle Fire HD (Windows Vista and newer and Linux only)\n\ncalibre can now detect and connect to devices that do not present themselves as USB disks to the operating system. Newer Android devices all use the 'MTP' protocol when connected via USB. calibre now supports devices using this protocol on both Windows (Vista and newer) and Linux.\n\n- Calibre Portable: Create a new installer that does not require manually unzipping the Calibre Portable folder. Instead just run the installer and point it to the location you want to install to.\n\n- Calibre Portable: Add support for multiple libraries created inside the 'Calibre Portable' folder.\n\n- In the main book list when editing a blank published date, use a default value of Jan 2000 so that changing the date it easier\n\n- Template language: Add function approximate_formats() to get list of formats saved in the db for a book as opposed to the formats that actually exist on disk\n\n- Template language: Add a couple of new functions to get the path to individual book formats and the calibre library as a whole\n\n- Drivers for HTC Flyer and Trekstor 4ink\n\n\n:: bug fixes\n\n- [1053583] Conversion: Do not error out when tags have unparseable color attributes.\n\n- [1052892] AZW3 Output: Do not error out if the input document contains embedded fonts of less than 1040 bytes.\n\n- Catalogs: Fix AZW3 output not properly indexed\n\n- Get Books: Remove Beam Books due to lack of response to issues with the store.\n\n- Windows: Ignore drives A: and B: when scanning for the drives belonging to a device\n\n- Kindle driver: Fix generation of apnx files for newer kindle firmware.\n\n- News download: If the output format is set to azw3, generate periodicals in mobi format as amazon does not support azw3 periodicals.\n\n\n:: new recipes\n\n- Various Hungarian recipes by laca\n- NSFW Corp by Darko Miletic.\n- FC Knudde and Stamgasten by drMerry\n\n:: improved recipes\n\n- Indian Express\n- Anadtech\n- London Review of Books (subscrption version)\n- Livemint\n- xkcd\n- Doghouse Diaries\n\n\n}}}\n\n\n{{{ 0.8.69 2012-09-14\n:: new features\n\n- [1047992] E-book viewer: Add a button to the toolbar to switch themes easily\n\n- When downloading metadata for many books, if some of them fail, add an option to the downloaded message to show the failed books in the main book list, so that they can be individually processed easily\n\n- [1049265] Remember last used window size of the conversion dialogs.\n\n- Kindle driver: Turn on sending of azw3 files to kindles by default, since the KK now has azw3 support\n\n- Conversion: Add support for CSS pseudo classes :hover, :link, :visited, :first-line, :focus, :active, :first-letter\n\n- Wireless device driver: Make the default save template not use folders\n\n\n:: bug fixes\n\n- [1047992] Fix a regression in th previous release that broke sending of books to the second SD card in SONY readers\n\n- Fix a memory leak when scanning for devices in windows\n\n- Ebook-viewer: When displaying mathematics, reflow equations that dont fit on a single line\n\n- Catalogs: Do not mark the AZW3 catalog as a periodical, as most Kindle devices cannot handle AZW3 periodicals\n\n- Content server: When using a custom IP address to listen on via Preferences->Tweaks advertise that IP address via BonJour.\n\n- [1048404] Fix ebook catalog generation on linux systems where the encoding is not UTF-8.\n\n\n:: new recipes\n\n- History Today by Rick Shang\n\n:: improved recipes\n\n- De Volksrant\n- Metro UK\n- Countryfile\n- Die Zeit (subscription)\n- Birmingham post\n\n\n}}}\n\n\n{{{ 0.8.68 2012-09-07\n:: new features\n\n- [1046794 1046544] Drivers for the Nokia N9, Viewsonic 7e, Prestigio PER3274B and Coby Kyros 7035 \n\n- Add a tutorial on creating catalogs to the User Manual and a link to it in the create catalogs dialog\n\n- Wireless device connections: Add an option to force calibre to listen on a particular IP address. Access it by customizing the plugin in Preferences->Plugins\n\n- [1045045] Android driver: Add an extra customization option to configure the directory to which ebooks are sent on the storage cards.\n\n- Add an option under Preferences->Look & Feel->Book Details to hide the cover in the book details panel\n\n- The Calibre Companion Android app that allows wireless connection of Android device to calibre is out of beta. See https://play.google.com/store/apps/details?id=com.multipie.calibreandroid\n\n\n:: bug fixes\n\n- [1044619] Fix sorting by author not working in the device view in calibre when connected to iTunes\n\n- Fix using the 'configure this device' menu action not validating settings\n\n- Device drivers: Ignore corrupted entries in metadata.calibre, instead of raising an error\n\n- [1044799] PDF Output: Do not error out when generating an outline which points to pages that have been removed.\n\n- PDF Output: Fix incorrect page numbers being generated in the outline when converting some books\n\n- PDF Output: Reduce memory consumption when writing out the PDF file, by using a stream\n\n- EPUB metadata: When there are multiple <dc:date> tags use the one with the earliest date as the published date\n\n\n:: improved recipes\n\n- Wall Street journal (subscription version)\n- Houston Chronicle\n- Various Romanian news sources\n- Business Week Magazine\n- Arcamax\n\n\n}}}\n\n\n{{{ 0.8.67 2012-08-31\n:: new features\n\n- PDF Output: Generate a PDF Outline based on the Table of Contents of the input document\n\n- [1043233] Conversion: Add an option under Structure Detection to set the 'Start reading at' metadata with an XPath expression.\n\n- Speed up changing the title and author of files with books larger than 3MB by avoiding an unnecessary extra copy.\n\n- Wireless device driver: Make detecting and connecting to devices easier on networks where mdns is disabled\n\n- PDF Output: Allow choosing the default font family and size when generating PDF files (under PDF Options) in the conversion dialog\n\n- [1042683] Metadata dialog: Comments editor: Allow specifying the name of a link when using the insert link button.\n\n- Remove the unmaintained pdfmanipulate command line utility. There are many other tools that provide similar functionality, for example, pdftk and podofo\n\n\n:: bug fixes\n\n- Catalogs: Fix regression that broke sorting of non series titles before series titles\n\n- PDF Output: Do not create duplicate embedded fonts in the PDF for every individual HTML file in the input document\n\n- Fix regression that broke DnD of files having a # character in their names to the book details panel\n\n- [1041614] PDF Output: Allow generating PDF files with more than 512 pages on windows.\n\n- Fix minor bug in handling of the completion popups when using the next/previous buttons in the edit metadata dialog\n\n\n:: new recipes\n\n- Cumhuriyet Yzarlar by Sethi Eksi\n- Arcadia by Masahiro Hasegawa\n- Business Week Magazine and Chronicle of Higher Education by Rick Shang\n- CIPER Chile by Darko Miletic\n\n:: improved recipes\n\n- Coding Horror\n- TIME Magazine\n\n\n}}}\n\n\n{{{ 0.8.66 2012-08-24\n:: new features\n\n- [major] E-book viewer: Support the display of mathematics in e-books. Supports both embedded TeX and MathML\n\nThe calibre ebook viewer can now display embedded mathematics (symbols, equations, fractions, matrices, etc.) in EPUB and HTML ebooks. For details, see: https://manual.calibre-ebook.com/typesetting_math.html\n\n- [1039103] Drivers for SONY PRS-T2, Freelander PD10 and Coolreader Tablet\n\n- Wireless device connections: Use a streamed mode for improved networking performance leading to much less time spent sending metadata to/from the device. Also make it easier to specify a fixed port directly in the dialog used to start the connection.\n\n- Get books: Add ebooksgratuitis.com\n\n\n:: bug fixes\n\n- [1040603] PDF Output: Handle input epub documents with filenames starting with a dot. Also do not hang if there is an unhandled error.\n\n- Get Books: Update B&N plugin to handle changes to the B&N website\n\n- [1037912] Content server: Fix regression that caused the port being advertised via BonJour to be incorrect if the user changed the port for the server.\n\n\n:: new recipes\n\n- Le Monde subscription version by Remi Vanicat\n- Brecha Digital by Darko Miletic\n\n:: improved recipes\n\n- Variety\n- The Times UK\n\n\n}}}\n\n\n{{{ 0.8.65 2012-08-17\n:: new features\n\n- [major] A new wireless device driver. This allows connecting wirelessly to a device running a 'smart' calibre client\n\nThe wireless connection functions just as if the device was plugged into the computer by USB cable. Currently, Android devices are supported. See https://play.google.com/store/apps/details?id=com.multipie.calibreandroid\n\n- MOBI Output: Add an option to control the type of MOBI file produced, to the MOBI Output conversion options. You can now generate an old MOBI6, a new KF8 or a joint MOBI6/KF8 file. By default, MOBI6 files are generated. This replaces the previous use of a tweak.\n\n- E-book viewer: Make paged mode the default. You can go back to the old flow mode by clicking the button with the yellow scroll in the top right corner of the viewer.\n\n- Driver for COBY kYROS MID7042 and Samsung Galaxy Ace S5839i\n\n\n:: bug fixes\n\n- Update version of poppler bundled with calibre to fix reading covers from some PDF files\n\n- Get Books: Fix clicking of results from Diesel books when there is only a single result not working\n\n- [1036354] Improve detection of system language on first run of calibre\n\n- When finding the next series index and the last series index is a fractional number, use the next largest integer, instead of just adding 1\n\n- [1036464] Fix exception when saving a search/replace when no saved search/replace had been opened previously in the bulk search/replace dialog\n\n- Fix restore database not restoring entries for the original_* formats\n\n- [1036358] Fix first run wizard not allowing empty email sending settings\n\n- [1035935] Do not error out when setting the cover for a book that has no folders in the library.\n\n- [1035633] Conversion pipeline: Ignore unparseable values in the color attribute of font tags, instead of erroring out on them.\n\n- Catalogs: Fix regression that broke creation of catalogs while a device is connected\n\n- Fix --with-library=/whatever not working for calibredb list\n\n\n:: improved recipes\n\n- Slashdot\n- Various Canadian newspapers\n- Business Spectator\n\n\n}}}\n\n\n{{{ 0.8.64 2012-08-09\n:: new features\n\n- E-book viewer: Allow viewing images in the book in a separate pop-up window by right clicking on the image. Useful if you want to keep some image, like a map to the side while reading the book.\n\n- Catalogs: Allow generation of catalogs in AZW3 format. Also add more powerful configuration options to exclude books and set prefixes. See http://www.mobileread.com/forums/showthread.php?t=187298 for details.\n\n- Generate a PDF version of the User Manual\n\n\n:: bug fixes\n\n- News download: Fix broken handling of nesting for HTML 5 tags when parsing with BeautifulSoup\n\n- [1033665] EPUB: Handle files in the EPUB that have semi-colons in their file names. This means in particular using URL escaping when creating the NCX as ADE cannot handle unescaped semi-colons in the NCX.\n\n- [1034074] Conversion pipeline: Ignore unparseable CSS instead of erroring out on it.\n\n- When setting up a column coloring rule based on the languages column, allow entry of localized language names instead of only ISO codes\n\n- Catalogs: Generate cover for mobi/azw3 catalogs\n\n- Update the last modified column record of a book, whenever a format is added to the book.\n\n- [1033430] E-book viewer: Fix line scrolling stops at breaks option not working in paged mode\n\n- [1033656] MOBI Output: Fix ToC at start option having no effect when converting some input documents that have an out-of-spine ToC.\n\n- Catalog Generation: When generating EPUB/MOBI catalogs add more flexible rules for excluding books. Also add rules to customize the prefix characters used.\n\n- Make setting published date using metadata search/replace more robust.\n\n- [1032746] Tag Browser: Flatten the display of sub-groups when sort by is not set to 'name'.\n\n- Fix isbn:false not matching if other identifiers are attached to the book.\n\n\n:: new recipes\n\n- eKundelek.pl by Artur Stachecki\n- Sueddeutsche Mobil by Andreas Zeiser\n\n:: improved recipes\n\n- The New Republic\n- ZDNet\n- Metro UK\n- FHM UK\n\n\n}}}\n\n\n{{{ 0.8.63 2012-08-02\n:: new features\n\n- [1024611] E-book viewer: Allow quick saving and loading of viewer settings as 'themes'.\n\n- Ebook-viewer: Add a restore defaults button to the viewer preferences dialog\n\n- E-book viewer: Add simple settings for text and background colors\n\n- Add an entry to save to disk when right clicking a format in the book details panel\n\n- ODT metadata: Read first image as the metadata cover from ODT files. Also allow ODT authors to set custom properties for extended metadata.\n\n- E-book viewer and PDF Output: Resize images that are longer than the page to fit onto a single page\n\n\n:: bug fixes\n\n- [1026421] KF8 Output: Fix bug where some calibre generated KF8 files would cause the Amazon KF8 viewer on the Touch to go to into an infinite loop when using the next page function\n\n- [1031553] News download: Add support for <img> tags that link to SVG images.\n\n- [1031086] Update podofo to 0.9.1 in all binary builds, to fix corruption of some PDFs when updating metadata.\n\n- Catalog generation: Handle authors whose last name is a number.\n\n- KF8 Input: Handle html entities in the NCX toc entries correctly\n\n- [1030234] Fix a calibre crash that affected some windows installs\n\n- [1029825] MOBI Output: Normalize unicode strings before writing to file, to workaround lack of support for non-normal unicode in Amazon's MOBI renderer.\n\n- EPUB Input: Handle files that have duplicate entries in the spine\n\n- Fix regression in Kobo driver that caused the on device column to not be updated after deleting books\n\n\n:: new recipes\n\n- Dziennik Polski by Gregorz Maj\n- High Country Blogs by Armin Geller\n- Philosophy Now by Rick Shang\n\n\n}}}\n\n\n{{{ 0.8.62 2012-07-27\n:: new features\n\n- Book details panel: Allow right clicking on a format to delete it.\n\n- [886904] When errors occur in lots of background jobs, add an option to the error message to temporarily suppress subsequent error messages.\n\n- [1024819] E-book viewer full screen mode: Allow clicking in the left and right page margins to turn pages.\n\n- [1028690 1027431] Drivers for various Android devices\n\n- [1029745] Advanced search dialog: When starting on the title/author/etc. tab, restore the previously used search kind as well.\n\n- When presenting the calibre must be restarted warning after installing a new plugin, add a restart now button so that the user can conveniently restart calibre. Currently only works when going vie Preferences->Plugins->Get new plugins\n\n\n:: bug fixes\n\n- Fix main window layout state being saved incorrectly if calibre is killed without a proper shutdown\n\n- Fix boolean and date searching in non english calibre installs.\n\n- Conversion: Ignore invalid chapter detection and level n"
        },
        {
          "name": "Changelog.txt",
          "type": "blob",
          "size": 85.3857421875,
          "content": "# vim: ft=yaml\n#\n# Each release can have new features and bug fixes. Each of which\n# can optionally have linked tickets and a description.\n# In addition they can be marked as major by adding the word major\n# to the ticket list.\n# Also, each release can have new and improved recipes.\n\n# {{{ 7.x.0 2025-xx-xx\n#\n# :: new features\n#\n# - title\n#\n# :: bug fixes\n#\n# - title\n#\n# :: improved recipes\n# - title\n#\n# :: new recipes\n# - title by author\n# }}}\n\n{{{ 7.24.0 2025-01-10\n\n:: new features\n\n- [2091268] Allow creating rules to transform series names in the Bulk metadata editor and Preferences->Metadata download\n\n- Conversion: Automatically set the page progression direction for books that do not have it set and have their primary language either Arabic or Hebrew\n\n- Content server: Book details view: Make calibre://show-book and calibre://view-book URLs in the comments work\n\n- [2092496] Edit book: Spell check: Add a button to export the currently displayed list of words as a CSV file\n\n- [2092483] Add from ISBN: Add a checkbox to automatically convert obsolete ISBN 10 to ISBN 13\n\n- [2092395] Save single format to disk: Allow choosing the book cover as the format to save\n\n- Option to show a button to access all available actions from the status bar in Preferences->Look & feel->Main interface\n\n:: bug fixes\n\n- [2092948] Read aloud: Fix no audio produced when text contains <3 and using the Windows legacy speech engine\n\n- [2092643] Fix Tabbing while editing cells in the book list not always working\n\n- Windows build: Also sign the portable launcher exes\n\n- [2092630] Fix viewing books via the Cover browser not working when in device view\n\n:: improved recipes\n- LWN Weekly\n- Outlook India\n- Livemint\n\n}}}\n\n{{{ 7.23.0 2024-12-20\n\n:: new features\n\n- 🎄 Happy holidays to everyone!\n\n- [2091646] Content server: Allow managing the data files associated with a book by clicking the three dots in the top right corner of the book's page and choosing \"Manage data files\"\n\n- [2091216] Edit metadata dialog: Allow right clicking on the cover to view it in a popup window at larger size\n\n- Add an option to expand the Tag browser tree to show the item that was current when the library was closed\n\n- Add import and export stored template to Preferences / template functions\n\n- Various Quality-of-Life improvements to the dialog used to edit columns with fixed sets of values\n\n- [2091152] Resolve doi.org links when pasting identifiers\n\n:: bug fixes\n\n- [2091451] Viewer: Fix some HTMLZ files not opening on some systems\n\n- [2091542] Amazon metadata plugin: Update for changed markup for some books on amazon search results page\n\n:: improved recipes\n- Economist\n- Irish Times\n- Popular Science\n- ACM Queue\n\n:: new recipes\n- Le Canard Enchaine by Kabonix\n\n}}}\n\n{{{ 7.22.0 2024-11-29\n\n:: new features\n\n- E-book viewer: Read Aloud: Add an option to control the position of the popup control bar. It can now be placed along the top or bottom edges so as to overlap less with text.\n\n- [2087754] System tray menu: Add action to restart calibre\n\n- Tolino driver: Support new firmware\n\n:: bug fixes\n\n- Windows: Enable popup OS notifications even when system tray icon is disabled to match behavior on other platforms. Notifications can be disabled via Preferences->Look & feel->Disable notifications on job completion\n\n- [2087850] Fix a regression that caused incorrect English transliteration of Japanese text even when the UI language is set to Japanese\n\n- [2088153] macOS: Dark mode: Fix a regression that caused the scrollbar to no longer be transient\n\n- [2089433] DOCX Input: When some text has multiple footnotes insert a space between the consecutive foot note numbers so that they are distinct\n\n- DOCX Input: Fix ToC nesting not working if the styles for the ToC levels do not use integer margins\n\n- E-book viewer: Fix spurious chapter transition after configuring Read aloud\n\n- [2089436] PDF Input: Fix reflow of lines in files with little text not working\n\n:: improved recipes\n- Economist\n- Indian Express\n- Economist World Ahead\n- Frontline\n- Infobae\n\n:: new recipes\n- Economist News by unkn0wn\n}}}\n\n{{{ 7.21.0 2024-11-08\n\n:: new features\n\n- [major] Edit book: A new tool to create an audio overlay in EPUB files for all text using the Read aloud facility\n\n  This allows readers of the book to listen to it with sentence tracking, even if they do not have a functioning text-to-speech system in the reading software. You can even assign different voices to different parts of the text for a more immersive experience. The tool is available from the Tools menu in the book editor.\n\n- Dark mode: make scrollbar more visible with higher contrast and rounded corners\n\n- E-book viewer: In flow mode when scrolling across internal file boundaries using the mouse wheel/touchpad have a short half second pause to ease the transition. Can be controlled via the Scrolling section of the Viewer preferences.\n\n- ebook-meta.exe: Add an option to disallow rendered cover of first page for EPUB\n\n- [2082075] Book details: Add an action to download the cover to the context menu when right clicking the cover\n\n- [2086609] Read aloud: Add a restore defaults button to the configuration dialog\n\n- [2086478] Auto adding: Allow excluding arbitrary file types not just known book file types\n\n- [2083583] Edit metadata dialog: Add an action to open the book's folder to the context menu of the formats list\n\n:: bug fixes\n\n- [2086571] Read aloud: Fix only first 32000 characters per chapter being read\n\n- [2086661] Content server: Read aloud: Fix clicking on a word to skip reading aloud to that word causing word highlighting to stop working\n\n- Linux: Handle speech dispatcher with dummy output module and no voices more gracefully\n\n- When renaming authors fix empty author folder not being removed if it contained file explorer metadata but was otherwise empty\n\n- [2086193] Edit metadata dialog: Fix keyboard shortcuts to edit prev/next raising an error when trying to go beyond the first/last book\n\n- [2085576] Linux: ToC Editor: Fix a regression in 7.17 that broke using the Create new entry button\n\n- [2085005] Content server: Fix changing the language of a book not working for non-English user interface language and for books that have no existing language\n\n- Linux: Read aloud with Piper: Fix audio not playing on some Linux systems\n\n- Notes browser: When searching books search over all currently selected categories not just the last selected one\n\n:: improved recipes\n- Substack\n- Live Mint\n- NYPost\n- Ars Technica\n- Indian Express\n- Reuters\n\n:: new recipes\n- Unz Review and Sonar21 by unkn0wn\n}}}\n\n{{{ 7.20.0 2024-10-18\n\n:: new features\n\n- [major] PDF Input: Automatic header/footer detection and removal\n\n  A new, dedicated PDF Input engine for calibre that implements\n  automatic detection of headers and footers based on document analysis.\n  The new engine is the default to go back to using the old engine, select\n  it in the PDF Input section of the Conversion dialog.\n\n- [2083058] Read Aloud: Allow configuring an extra pause at the end of every sentence when using the Piper TTS engine\n\n- PDF Output: Add _WIDTH_PIXELS_ and _HEIGHT_PIXELS_ variables to know the width and height of the header/footer area in templates\n\n- Windows: Use calibre's bundled SSL certificates instead of the system certificate store by default\n\n  Can be turned off via CALIBRE_USE_SYSTEM_CERTIFICATES=1 env var\n\n- Trim image tool: Add a control to adjust aspect ratio\n\n- Kobo driver: Add support for the new firmware used by the Tolino Shine 5\n\n:: bug fixes\n\n- Fix a regression in previous release that broke copying of book to another library if the books author does not exist in the destination database\n\n- Read aloud: Piper backend: Fix not working with voices whose names have non-ASCII characters on Windows.\n\n- Content server: Fix book with non-ASCII filenames not downloading in the Kindle browser when using the /mobile view\n\n- Content server: Fix embedding the server HTML inside a third party iframe causing an error\n\n:: improved recipes\n- The Wire\n- Nikkei Asia Magazine\n- Swarajya\n- Mainichi\n- Nautilus\n- National Geographic\n- Science Journal\n- Times Literary Supplement\n- Saechsische Zeitung\n- India Today\n- Scientific American\n\n:: new recipes\n- NYT Magazine by unkn0wn\n- RedaktionsNetzwerk Deutschland by epubli\n}}}\n\n{{{ 7.19.0 2024-09-27\n\n:: new features\n\n- [major] E-book viewer: Halve the time taken to open large EPUB format books for the first time\n\n  A four hundred thousand word EPUB book now opens in under a second on typical hardware.\n\n- PDF new engine: Improve header/footer detection\n\n- For column icons and grid view emblems, support icons for both light and dark themes\n\n- News downloads: Mark links to locally available articles with a middle-dot\n\n- [2079784] When saving a layout also save the main window geometry\n\n:: bug fixes\n\n- [2080705] Windows: Read Aloud: Fix an occasional crash when stopping read aloud when using the legacy windows TTS engine\n\n- [2080705] Windows: Read Aloud: Fix clicking in text to change what is being read causing tracking of currently read word to fail when using the legacy Windows TTS engine\n\n- [2080708] Read aloud: Fix reading large numeric words causing text synchronization to fail when using some legacy TTS engines\n\n- [2080701] EPUB3 metadata: Fix setting series number to zero not working\n\n- [2081982] Comic Input: Handle comics whose internal files have control codes in their filenames\n\n- [2071348] E-book viewer: Fix a regression that broke searching in Japanese books that use <ruby> text\n\n- [2080655] E-book viewer: Fix a regression in the previous release that broke Read aloud for selected text\n\n- Amazon metadata plugin: Workaround for downloads failing because Google discontinued its webcache\n\n- Cover grid: Suppress the 2px border Qt draws for the list view\n\n:: improved recipes\n- NY Times\n- NYT Book Review\n- Courrier International\n- Le Monde\n- TLS Magazine\n- Scientific American\n- Engadget\n\n:: new recipes\n- NYT News based on feeds by unkn0wn\n}}}\n\n{{{ 7.18.0 2024-09-13\n\n:: new features\n\n- [major] E-book viewer: Read aloud: A new Text-to-Speech engine (Piper) that uses a neural network for realistic sounding voices\n\n  To use it access the viewer controls and click the Read aloud button or press 'Ctrl+S'. The neural network\n  is run locally, no cloud services are used. Using the OS Text-to-Speech engine is still possible by clicking\n  the configure button on the Read aloud control bar. Note that the new engine highlights the currently read sentence rather than word.\n\n- [2076346] New experimental engine to convert PDF files with support for automatic header/footer removal\n\n  Turn it on via the PDF input section of the conversion dialog.\n\n- Content server: Viewer: Read Aloud: Implement word-by-word tracking when reading aloud if the browser and OS used support it, for example, Chromium on Windows, Firefox on Android and Safari on macOS\n\n- [2080315] Image popup: Add a context menu with an option to reset the current zoom\n\n- Edit metadata dialog: Show the number of data files on the data files button\n\n:: bug fixes\n\n- Fix a regression in the previous release that broke using Tab key to move around the book list while editing cells\n\n- [2077801] E-book viewer: Fix scrollbar position not updating during continuous scroll\n\n- [2077871] E-book viewer: Fix a harmless error when the book contains page list references whose targets do not exist\n\n- [2077794] Linux binary build: Fix missing libdeflate dependency\n\n:: improved recipes\n- Revista Muy Interesante\n- Ars Technica\n- South China Morning Post\n- Times Literary Supplement\n- Hackernews\n- Star Gazetesi\n- Hurriyet\n- Gorafi\n- Times Online\n\n:: new recipes\n- Muy Interesante México by unkn0wn\n- Salzburger Nachrichten by İlker Melik Sıtkı\n- Computer Weekly by İlker Melik Sıtkı\n\n}}}\n\n{{{ 7.17.0 2024-08-23\n\n:: new features\n\n- [major] E-book viewer: Support for jumping to and displaying paper edition page numbers\n\n  If an e-book contains embedded information about the pages from the paper edition of the book,\n  the calibre E-book viewer can now jump to a page number via the Go to button in the viewer controls.\n  You can also optionally have the current paper edition page number displayed in the header/footer\n  by adding \"Pages from paper edition\" to either the header or footer in the viewer settings.\n\n- [2076251] Edit book: When text is selected allow changing the indentation of all lines in the selection by pressing Tab to increase one level or Shift+Tab to decrease one level\n\n- Allow a plugboard to change the series_index as well as the series name.\n\n- News download: News recipes can now optionally use browser engines based on either Qt or Chromium network stacks instead of mechanize\n\n- Email delivery: When sending emails to Kindles do not convert filenames to English letters as Amazon appears to have finally fixed their email servers to handle non-English filenames\n\n- [2075565] Quickview: Add a tooltip displaying the full cell contents\n\n:: bug fixes\n\n- Update the version of the Qt toolkit bundled with calibre to the latest available, fixing some crashes on macOS related to accessibility tools\n\n- [2075970] Edit book: Fix searching marking incorrect text in the presence of non-BMP unicode characters\n\n- [2074002] Conversion: Do not embed a second copy of a font when using the option to embed font family if the font is already embedded in the book\n\n- [2076515] calibredb list: Fix a regression in the previous release that required setting --template-header to empty to use the list command\n\n- Tolino driver: Fix books from the Tolino cloud not being listed\n\n- Windows: Book details panel: Fix selection not visible when using the system default theme\n\n- [2073441] Hide the Virtual library tab bar in device view as it is non-functional\n\n:: improved recipes\n- Jot Down\n- Various Russian and Ukranian news sources\n- Nautilus Magazine\n- Süddeutsche Zeitung\n- The India Forum\n- WSJ\n- National Geographic\n- Washington Post\n- Mediapart\n- Bloomberg\n- Nautilus\n\n:: new recipes\n- GaGadget by bugmen00t\n- Süddeutsche Zeitung Magazin by unkn0wn\n- Science Journal by unkn0wn\n}}}\n\n{{{ 7.16.0 2024-07-31\n\n:: new features\n\n- Add a driver for the new 2024 Tolino devices. They use a modified version of the Kobo firmware, so they are detected as Kobo devices.\n\n- Various news recipes now have the ability to download past issues, accessible via the Advanced tab in the Schedule news dialog\n\n:: bug fixes\n\n- [major 2075128] ONLY if you use the calibre Content server, you should update calibre as soon as possible\n\n  If you do not know what the Content server is, you do not use it, and\n  these do not apply to you. If you have set a password to access the\n  Content server that you have not shared with anyone, these do not\n  affect you.\n\n  A remote code execution bug in the Content server introduced in\n  calibre version 6.9.0 (released on 2022-11-25) means that anyone with\n  access to the server also has access to the rest of the computer the\n  server is running on. If you are using a password to protect access to\n  the server only people that know the password can gain access via the\n  bug. Thanks to STAR Labs (https://starlabs.sg) for finding these\n  vulnerabilities.\n\n- [2075125] Content server: Fix path traversal vulnerability\n\n  A bug in a feature introduced in calibre version 6.16.0 (released\n  2023-04-20) means anyone with access to the server can also read non\n  calibre related files on the computer running the server.\n\n- [2075131] Content server: Fix SQL injection vulnerability\n\n  A bug in a feature introduced in calibre version 6.10.0 (released\n  2022-12-16) means anyone with access to the server can also read\n  non-calibre SQLITE database files on the computer running the server.\n\n- [2075130] Content server: Fix an XSS vulnerability in one endpoint\n\n  Only relevant if you embed the calibre server within a larger server, it means\n  attackers who can convince users to click on a specially crafted link, can run\n  JavaScript code with the same origin as the larger server calibre is embedded in.\n\n- [2073972] Content server: Fix an error when opening the downloaded books page directly via a link and using a custom book list template\n\n- macOS: Fix opening multiple books from Finder with the editor only opening one of the books\n\n- Fix the legacy LRF format viewer not starting\n\n- [2074147] Fix mouse wheel not transitioning from undefined date to current date in date entry controls\n\n:: improved recipes\n- Harvard Business Review\n- Live Mint\n- Business Standard\n- Pagina12\n- Bloomberg\n\n}}}\n\n{{{ 7.15.0 2024-07-19\n\n:: new features\n\n- Fetch news: Allow individual news sources to specify source specific options such as downloading of past editions\n\n:: bug fixes\n\n- [2073323] Windows: MTP driver: Fix a regression in the previous release that caused an error with some devices\n\n- Icon theme creation dialog: Fix various issues when creating an icon theme with many icons that have light/dark variants\n\n:: improved recipes\n- Bloomberg\n- Eenadu\n- Mediapart\n\n:: new recipes\n- WSJ News by unkn0wn\n}}}\n\n{{{ 7.14.0 2024-07-12\n\n:: new features\n\n- [2072442] Book details: When dropping files add an option to add them to the book as data files\n\n- Edit book: A new action to toggle line wrapping mode in all code editors. Can be assigned via Preferences->Keyboard shortcuts->Global actions or added to the toolbar via Preferences->Toolbars->Book wide actions\n\n- Kobo driver: Add an option to force the SeriesID for all books in a series to have the same value\n\n:: bug fixes\n\n- [2071458] Fix a regression in the previous release that broke merging of books when the confirmation for the merge was disabled\n\n- [2072412] E-book viewer: Allow some header and footer items such as progress to overflow instead of being truncated\n\n- [2072405] HTMLZ output: Make renaming of image files happen in filename order\n\n- [2072384] MTP driver: Fix infinite loop when connecting to some devices with more 65K objects in their filesystem\n\n- Fix shortcut editing widget when Qt is using a theme that inserts accelerators into push button labels automatically\n\n:: improved recipes\n- Instapaper\n- MIT Tech Review\n- Guardian\n- Liberation\n- The Times and Sunday Times\n- Bloomberg Businessweek\n- Times Literary Supplement\n\n:: new recipes\n- Ancient Egypt Magazine, Minerva Magazine, Military History Magazine and World Archaeology Magazine by unkn0wn\n\n}}}\n\n{{{ 7.13.0 2024-06-28\n\n:: new features\n\n- [2071033] When merging books add an option to store discarded or replaced covers as an alternate cover in the data folder of the target book\n\n- [2068070] Generate CSV catalog: Add a button to sort the fields by the order in which they appear in the book list\n\n:: bug fixes\n\n- [2067755] MTP driver: Preserve cover aspect ratio for thumbnail generation\n\n- [2071044] Fix identifiers not always being merged correctly when merging books\n\n- [2069541] DOCX Input: Fix extra left padding when converting lists\n\n- Amazon metadata download: Get title and comments for audiobook pages\n\n- Amazon metadata: When filtering search engine results by title ignore words of the title that are purely punctuation\n\n- When matching books on a device to book in the library assume a match if the title and any one author match, don't require all authors to match\n\n- [2069553] Update Google Images cover download plugin for website changes\n\n- [2069494] When adding new books if the timestamp is specified as undefined use the current timestamp\n\n- Content server: Fix systemd pre-activated socket not working\n\n- [2071390] Content server: Fix no KFX download link in OPDS acquisition feeds\n\n:: improved recipes\n- Harpers\n- Wall Street Journal\n- Liberation\n- How to Geek\n- Make Use Of\n- TechCrunch\n- LifeHacker\n- India Today\n- 1843\n- Reuters\n- The Week India\n- Slate\n\n:: new recipes\n- Times Literary Supplement by unkn0wn\n- Wall Street Journal Magazine by unkn0wn\n- Various Valnet Publishing Group recipes by Spicy Poison\n- VOX, The Good E-reder and The e-book Reader by SpicyPoison\n- Gates Notes, Greatist, Halthline and United Nations by SpicyPoison\n}}}\n\n{{{ 7.12.0 2024-05-30\n\n:: new features\n\n- [2067167] E-book polishing: Add option to download external resources (images/stylesheets/etc.)\n\n- Conversion: Add an option under Structure detection to automatically fill in blank alt attributes for images that have alt text in the image file metadata\n\n- [2067437] Content server: Use the book title as the filename for downloaded highlights\n\n- Review downloaded metadata dialog: Add a \"Previous\" button to go back to the last reviewed book\n\n:: bug fixes\n\n- Content server viewer: Fix the bottom of the text being cut off on mobile browsers when not in full screen mode. Unfortunately, this means the viewer now requires a browser no more than two years old.\n\n- [2067168] Kindle driver: Increase the size of the cover thumbnails sent to the Scribe\n\n- [1943495] Kindle output: Fix cover images that contain EXIF data without a rotation not displaying on the Kindle lockscreen\n\n- E-book viewer: Fix ruby tags not excluded when searching for text\n\n- [2067128] Content server viewer: Fix a regression in the previous release that broke searching\n\n:: improved recipes\n- Economist Espresso\n- Slate\n\n}}}\n\n{{{ 7.11.0 2024-05-24\n\n:: new features\n\n- Kindle driver: Add support for sending cover thumbnails to the Kindle Scribe\n\n- A new options under Preferences->Look & feel to draw covers with rounded corners\n\n- [2064674] Bulk metadata edit: Add a new tab where you can create rules to transform tags/authors/publishers for the selected books\n\n- [2065544] Tag browser context menu for Formats now has Open with menu items\n\n- [2064665] E-book viewer: When hovering over the top/bottom margin show a button indicating that a click will open the viewer controls. Can be configured via The Headers and footers section of the viewer Preferences.\n\n- Spell check dialog: Also show count of currently displayed words\n\n:: bug fixes\n\n- [2065249] E-book viewer: Fix searching not ignoring ruby text\n\n- Edit book: Save the state of the current book when opening a new book via File->Open book\n\n- [2064887] Edit book: Fix importing a list of words into a user dictionary not working\n\n- EPUB3 metadata: Do not fail to read metadata in the presence on invalid calibre user metadata in the OPF file with empty keys\n\n- Get books: Fix rules to map tags on adding books not being applied to books downloaded via Get books\n\n- [2064792] Spellcheck dialog: Move the checkbox to hide correctly spelled words with the rest of the checkboxes that filter the word list\n\n:: improved recipes\n- Slate\n- Wall Street Journal\n- London Review of Books\n- Economist\n- Bloomberg\n- Business Week\n- The World Ahead\n- National Geographic\n\n:: new recipes\n- Collider, Comic Book Archive, Make Use Of, MoviewWeb and ScreenRant by Spicy Poison\n- Lex Fridman Podcast by unkn0wn\n\n}}}\n\n{{{ 7.10.0 2024-05-03\n\n:: new features\n\n- Export of calibre data: Ensure individual part files in the exported data are no larger than one gigabyte even\n  if the library contains individual files larger than that size.\n\n  Note that this means that exports created by calibre from this version\n  on will not be importable by earlier versions. However, exports from\n  earlier versions should still be importable.\n\n- Edit book: Spell check: Add options to exclude words in ALL CAPS or with numbers or in camelCase/snake_case from the list of words\n\n- Allow easily inverting the current search via the right click menu on the search box\n\n:: bug fixes\n\n- [2064546] Kobo driver: Fix database unsupported error with newest firmware\n\n- [2063301] DOCX Input: Fix text elements containing only whitespace being incorrectly ignored\n\n- Bulk metadata dialog: Do not fail when setting covers from ebook files and some of the files have invalid covers\n\n:: improved recipes\n- Economist\n- The Week\n- Caravan Magazine\n- Financial Times\n\n}}}\n\n{{{ 7.9.0 2024-04-19\n\n:: new features\n\n- [2060886] Kobo driver: Add support for the new color Kobo devices\n\n- Edit book: Add a setting to control cursor width under Preferences->Editor settings\n\n- Edit book: Regex-function mode: Show a confirmation popup when closing the function editor when there are unsaved changes\n\n:: bug fixes\n\n- [2060314] Fix undocked Quickview dialog not being restored at startup\n\n- [2044118] Windows: Fix an issue where closing a maximized calibre window to the system tray and then reconnecting with remote desktop would cause a blank calibre window to be displayed\n\n:: improved recipes\n- El Correo\n- Eenadu\n- ORFonline\n- NatGeo\n- Harpers Magazine\n- New Yorker\n- Business Today\n- The Week\n- Asahi Shimbun\n- Outlook Magazine\n\n}}}\n\n{{{ 7.8.0 2024-04-05\n\n:: new features\n\n- [2057929] E-book viewer: Highlight panel: Allow filtering the shown highlights by type of highlight\n\n- Conversion: Add support for the CSS text-transform property when subsetting embedded fonts\n\n- [2060079] E-book viewer: Allow displaying the view mode paged/flow in the header/footer\n\n- [2059162] Book details popup window: Allow dropping of files to add formats/set the cover just as for the book details panel\n\n- [2058814] Book details: Context menu: Add a menu action to remove the associated link\n\n- DOCX Input: Add role=doc-noteref for links to footnotes/endnotes so that they popup in more e-book readers\n\n- Add a \"Mark all selected books\" to the Mark action.\n\n- [2059169] Add \"Hide Empty Categories\" to tag browser configuration menu\n\n- Supernote: Support for new device firmware\n\n- Sort by tool:  Add an action to re-apply the current sort\n\n:: bug fixes\n\n- Grid view cover cache: Fix covers not loading when cache entries are stale\n\n- [2058798] Conversion: Do not change viewport relative font sizes used for SVG text elements\n\n- [2058798] Conversion: Fix <style> tags inside <svg> tags not being processed\n\n- Get books: Update Kobo store plugin for website changes\n\n- EPUB Input: Use a translated name for the cover page\n\n\n:: improved recipes\n- Caravan\n- Global Times\n- New York Review of Books\n- Himal Southasian\n- The Week\n- CBC Canada\n\n:: new recipes\n- Bergfreunde Blog by VoHe\n- Live Law and Politico.eu by unkn0wn\n}}}\n\n{{{ 7.7.0 2024-03-14\n\n:: new features\n\n- [2056116] Trim image: Allow specifying the size of the trim rectangle using numbers\n\n- [2056664] Full text search: Allow pressing Ctrl+S to select the current book in the calibre book list\n\n- Speed up scrolling through the book list book-by-book by only redrawing the book details panel when scrolling pauses\n\n- Add a tweak under Preferences->Tweaks to set the first day of the week in popup calendars used to input dates\n\n:: bug fixes\n\n- [2056470] CHM Input: Handle CHM files with no HHC Table of Contents\n\n- E-book viewer: Fix a few settings such as pages per screen and header/footers not being saved in profiles\n\n- [2056614] Full text search: Ignore text inside <ruby> tags when indexing books\n\n- DOCX Output: Preserve spaces around soft hyphens\n\n- Book details popup: Copy the original cover image to the clipboard even when the image is rescaled to fit into view\n\n- Fix changing disabled colors in the UI color palette overriding non-disabled colors\n\n- Content server: Fix deletion of viewer profiles not working\n\n:: improved recipes\n- LiveMint\n- Bloomberg\n- National Geographic\n- MIT Technology Review\n- NY Review of Books\n- Scientific American\n\n}}}\n\n{{{ 7.6.0 2024-03-01\n\n:: new features\n\n- [major 1979022] E-book viewer: Allow saving current settings in \"profiles\" that can be quickly and easily swapped between\n\n  To create a profile or switch to a previously saved profile access \"Profiles\" from the viewer controls or press the `Alt+P` shortcut.\n\n- [2053144] Edit book: Add a shortcut `Ctrl+M` to merge selected files\n\n- Get books: Add support for Amazon Mexico\n\n- A new toolbar button to show all available actions in sub menus. Can be added via `Preferences->Toolbars & menus`\n\n- Edit book: Allow selecting multiple books to edit at once, opening all selected books in separate editor instances\n\n:: bug fixes\n\n- [2054617] Cover grid: Fix dragging the mouse while holding shift to extend the selection not working well\n\n- [2054934] E-book viewer: Fix doing a multi-page selections sometimes causing the start of the selection to move backwards\n\n- Edit book: Live CSS: Fix regression causing incorrect colors in calibre 7\n\n- Windows: Fix a regression in calibre 7 that caused images in long text columns to not be displayed in the tooltip for the column\n\n- Fix disabled items in menus having blurry text\n\n- Content server: Fix a regression in the previous release that caused an error when doing a search/sort on some browsers\n\n:: improved recipes\n- New Yorker\n- Moneycontrol\n- Swarajya Mag\n- nautil.us\n- Pro Physik\n\n:: new recipes\n- The Week UK by unkn0wn\n- Andhrajyothy by unkn0wn\n}}}\n\n{{{ 7.5.1 2024-02-09\n\n:: new features\n\n- Allow fine tuning the colors used in the calibre interface via Preference->Look & feel->Main interface->User interface colors\n\n  Note that calibre no longer follows system colors on Linux in light mode (the only place where it used to follow system colors). However,\n  there is a convenient button in the manage colors dialog to import the system colors.\n\n- [2052462] Full text search window: Add actions to the context menu to open the book at the clicked on result. Also allow using the view book shortcut to open the currently selected search result\n\n- [2052460] When showing the Full text search dialog, pre populate the search box with the contents of the main calibre search box if the main search box contains a simple search\n\n:: bug fixes\n\n- Windows: Fix a regression in 7.0 that caused images referring to files on the disk within comments columns to not display in some circumstances\n\n- E-book viewer: Fix clock showing hour as zero instead of 12 between 12 and 1 am/pm\n\n- [2050100] Edit book: When wrapping selected text in a tag, preserve the selection after wrapping\n\n- [2050075] Content server: Fix a periodic spurious error message when reading books in offline mode\n\n- Fix a regression in 7.0 caused by a regression in Qt that would result in calibre hanging rarely when using the cover browser view\n\n- [2049992] Fix custom template functions not useable in save to disk templates\n\n- Fix a regression in 7.2 that caused the popup used for editing fields in the book list to be mis-positioned on very wide monitors\n\n- [2052766] Version 7.5.1 fixes a bug in 7.5.0 where calibre would not start up using dark colors when the system was in dark mode on some windows installs and another bug that could cause errors when using cover grid mode with covers stored in CMYK colorspace\n\n:: improved recipes\n- El Diplo\n- Science News\n- Barrons\n- Financial Times\n- Business Today\n- Le Monde\n- Scientific American\n\n:: new recipes\n- ugeskriftet by morusn\n- Martin Fowler and Gitbug Blogs by Lucas Lois\n}}}\n\n{{{ 7.4.0 2024-01-19\n\n:: new features\n\n- Add support for the Supernote A6X2\n\n- Narrow layout: Place the cover browser above the book list when the window has a narrow aspect ratio. Can be controlled via Preferences->Look & feel->Cover browser\n\n- [2046825] Category notes browser: Add a button to search for books in the currently selected category\n\n- Keyboard shortcut to toggle main window layout (Alt+Shift+L)\n\n- Add the possibility to assign keyboard shortcuts to the tag browser sort functions\n\n:: bug fixes\n\n- Fix a regression in the previous release that caused the cover browser to not close when it is used as a separate window\n\n- Fix a regression in the previous release that caused comments in the Book details panel to be rendered below rather than at the side of the other information\n\n- Edit book: Fix highlighting of special character not changed immediately after it is edited, only after a subsequent action\n\n- Move Preferences to the left in the default toolbar, making it less likely to be hidden behind an expander button on small screens\n\n:: improved recipes\n- LiveMint\n- Foreign Policy\n- New Scientist\n\n}}}\n\n{{{ 7.3.0 2024-01-05\n\n:: new features\n\n- Tag browser: Allow displaying buttons next to items that have notes or links for easy access. To enable these use Preferences->Look & feel->Tag browser\n\n- Font subsetting: Preserve all OpenType layout features. This makes the subset font files larger but ensures there is no visual degradation when using the subsetted font files in different contexts.\n\n:: bug fixes\n\n- macOS: Fix main calibre window not remembering its size on restart\n\n- Edit book: Fix the \"Show changes\" window moving down by a few pixels every time it is opened\n\n- [2047257] Amazon metadata download: Fixes for various changes to amazon website markup\n\n- [2047181] E-book viewer: When looking up words via Google in Europe pre-approve the GDPR consent cookie\n\n- [2046673] Windows: Content server: Fix regression in previous release that broke testing for local connections\n\n- Windows: Fix a regression that caused selections in the Book details panel to be invisible\n\n:: improved recipes\n- Foreign Policy\n- Business Standard\n- Il Post\n- Indian Express\n- Washington Post\n\n:: new recipes\n- Hindustan Times Print Edition by unkn0wn\n}}}\n\n{{{ 7.2.0 2023-12-15\n\n:: new features\n\n- Content server: Also listen for all incoming IPv6 connections by default, not just IPv4\n\n- Book details: Allow deleting notes from the right click menu easily\n\n:: bug fixes\n\n- [2045133] Windows: Edit book: Fix a crash when using the check book tool with a book that contains malformed markup, in calibre 7\n\n- Windows: Improve flickering at startup due to a Qt regression in calibre 7\n\n- Windows: Fix moving the main window causing popup/floating windows to be resized in calibre 7 due to yet another Qt regression\n\n- [2044659] Fix detection of existing books on the Tolino Vision 6\n\n- Linux: Fix external applications not being launched under Wayland in calibre 7 because of a bug in Qt\n\n- Linux: Fix network requests failing under Fedora in calibre 7\n\n:: improved recipes\n- Reuters\n- Scientific American\n- New Yorker\n- Times of India\n- infzm\n- singtaohk\n\n}}}\n\n{{{ 7.1.0 2023-11-23\n\n:: new features\n\n- Notes editor: When pasting HTML with images offer to download remote images in the pasted content\n\n:: bug fixes\n\n- Fix regression in 7.0 that broke restore of db from backups\n\n- Content server: Fix newly added books on homepage not restricted to the books the logged in user is allowed to access\n\n- [2044118] When starting in system tray do not flash the main window briefly\n\n- Notes editor: Fix spurious error message when saving a note that contains pasted HTML that refers to an image\n\n- [2043998] Fix a regression that caused the unknown/unset date to incorrectly be displayed/edited as a date in the year AD 101 in some timezones\n\n- Comments editor: Fix data file links not working\n\n- Linux installer: Check that the user has libxcb-cursor.so.0 installed. If not quit early with an error message asking them to install it\n\n- [2044408] LRF Output: Fix a regression in 7.0 that broke conversion to LRF\n\n:: improved recipes\n- Substack\n\n:: new recipes\n- The World Ahead by unkn0wn\n\n}}}\n\n{{{ 7.0.0 2023-11-17\n\n:: new features\n\n- [major] For details on the major changes in calibre between 7.0 and 6.0, see https://calibre-ebook.com/new-in/sixteen\n\n- [major] The ability to add notes to any author, tag, series, etc. in calibre with links and images\n\n- [2040487] E-book viewer: Add support for HTML image maps\n\n- Content server home page: Show the three most recently added books in the default library\n\n- Content server: Add button to return to book details page at top level of controls\n\n- Content server: Book details: Open links in comments fields in the same window rather than a new window\n\n- Add a \"Show items in selected books\" choice to Manage tags and Manage authors\n\n- [2042804] Show the previously used language, if any, second in the language selection drop down\n\n:: bug fixes\n\n- [2043415] Metadata download: Fix downloads from Google not working in Europe because of the GDPR\n\n- [2042815] Fix editing dates with days sometimes off by one day\n\n- Edit book: Fix highlighting for special characters not visible when the cursor is on the line with the special character\n\n- [2043248] Fix embedding metadata showing infinite error dialogs on windows if a file is locked by another program\n\n- [2040074] PDF Output: Fix an error when trying to set header or footer with an input document that has invalid content after the main body\n\n- [2042791] E-book viewer: Read aloud: Fix clicking on empty spaces causing read aloud to restart from beginning of chapter\n\n- Book details: Fix Manage authors via context menu not working\n\n- [2041848] E-book viewer: Showing chrome should close an active footnote popup first and only show chrome if the user repeats the action\n\n- [2041745] Fix very slow metadata updates on some PDF files\n\n- [1262875] Catalogs: Do not erase any tags the user adds to a catalog book entry when the catalog is re-generated\n\n- [2042748] Linux installer: Fix downloading of signatures for older versions\n\n- [2041357] Fix editing non-active Virtual library changes sort of book list\n\n:: improved recipes\n- Financial Times\n- National Geographic\n- Hamilton Spectator\n- Times of India\n- MIT Tech Review\n- Bloomberg\n- Washington Post\n- Project Syndicate\n- Cumhuriyet\n- Foreign Affairs\n- Harvard Business Review\n- Wall Street Journal\n\n:: new recipes\n- Bookforum, Kirkus Reviews and Poetry Magazine by ping\n\n}}}\n\n{{{ 6.29.0 2023-10-20\n\n:: new features\n\n- [2038760] E-book viewer: Add a command line flag --new-instance to force the viewer to open a new window even if the option to always use a single viewer window is set\n\n- [2038862] E-book viewer: Image popup: Add a checkbox to remember the last used zoom level\n\n:: bug fixes\n\n- [2039336] Annotations browser: Fix exporting highlights in markdown not including all chapter titles for books with only a single highlight per chapter or a multi level ToC\n\n- [2038747] E-book viewer: Fix a regression that could cause the viewer to enter an infinite loop when displaying the result of a search that has only one match that is not found\n\n- [2038747] E-book viewer: Fix the occasional search result being marked as not found even though it is found\n\n- [2039474] TXTZ Output plugin: Only keep images if the text format is one that can reference images\n\n- [2038848] TXTZ Output: Fix cover not being properly identified in the generated TXTZ metadata\n\n- [2038575] FB2 Input: Fix the \"Annotations\" section not showing up in the Table of Contents\n\n- [2039395] Linux: Content server: Do not call listen on pre-activated sockets\n\n- Fix sort order of similarly-named hierarchical categories\n\n- [2038778] Fix a regression that broke reading of covers from HTMLZ and TXTZ files\n\n:: improved recipes\n- Wall Street Journal\n- Scientific American\n- 1843\n- Financial Times\n- Spectator Magazine\n- El Diplo\n- Wasshington Post\n- national Geographic\n\n:: new recipes\n- Project Syndicate, Scroll.in and Newslaundry by unkn0wn\n}}}\n\n{{{ 6.28.1 2023-10-07\n\n:: new features\n\n- Edit book: Show full path to book being edited in the status bar\n\n- Edit book: When adding dictionaries allow directly a LibreOffice adding the dictionary just by choosing the language\n\n- Edit book: When saving a copy add some convenience actions to edit the copy immediately either in the current editor window or a new window\n\n- E-book viewer: Highlights panel: Allow right clicking to export only selected highlights\n\n:: bug fixes\n\n- [2034900] Edit book: Fix a regression in the previous release that caused Text search to sometimes not select matches correctly\n\n- [2037198] Edit book: When copying files do it in order so that the files are pasted in the same order when pasting into another editor instance\n\n- Edit book: Fix smart tag insert not working correctly if the selected text starts with the closing angle bracket of a tag\n\n- [2038238] Save to disk: Do not limit the total path length to 240 characters on non-Windows platforms\n\n- [2037898] Fix incorrect cover for AZW3 version of calibre User Manual\n\n- [2029723] Content server: Change formatting of book details to match new de-emphasized titles based formatting in the main calibre program\n\n- PDF metadata: Fix a regression that broke updating metadata in PDF files without an /Info dictionary\n\n- NOOK driver: For the Glowlight 2023 write the calibre metadata files into the NOOK sub-folder as the firmware does not allow writing files into the root folder\n\n- NOOK driver: Fix Glowlight 2023 not being detected on Linux and macOS\n\n- [2037454] E-book viewer: Make CFI calculation more robust especially on pages with very little content\n\n- [2037543] E-book viewer: Workaround bug in Chromium where getBoundingClientRect() fails sometimes leading to incorrect calculation of anchor positions\n\n- [2037237] Fix errors caused by .DS_Store files inserted into the .caltrash directory on macOS if the user happens to open .caltrash in Finder\n\n- Version 6.28.1 fixes a regression in 6.28.0 that could cause errors when merging some book records in calibre\n\n:: improved recipes\n- National Geographic\n- Bloomberg\n- Endgadget\n- Times of India\n- Horizons\n\n:: new recipes\n- Business Standard Print Edition by unkn0wn\n\n}}}\n\n{{{ 6.27.0 2023-09-22\n\n:: new features\n\n- [2034954] Kobo driver: Support updated firmware\n\n- Nook driver: Add support for Nook Glowlight Plus 2023\n\n- Data files manager: Allow drag and drop of files onto the list of files to add new files\n\n- [2036266] Support 7z archives in addition to ZIP and RAR for automatic ebook extraction when adding to calibre\n\n- Linux/macOS: Fix detection of the Kindle Scribe with MTP firmware\n\n- [2034760] E-book viewer: Allow clearing list of recently opened books from the open button's popup menu itself\n\n- [2034905] E-book viewer: Add a link to show the currently viewed book in the calibre library (Go to->Metadata in the viewer controls to access it)\n\n:: bug fixes\n\n- [2034999] Book information dialog: Fix a regression that caused incorrect color for titles in dark mode\n\n- [2034977] E-book viewer: Fix searching does not jump to first match if all matches are before current position in book\n\n- [2035579] EPUB Output: Fix duplicated title page entry in spine for books that define a title page that ends up getting split\n\n- Allow for-light/dark-theme icon overrides to work for plugin icons placed by the user in the override folder\n\n- [2035338] PDF Output: Fix background image + text not rendering correctly if the same background image is used with different text multiple times\n\n- [2034968] E-book viewer: Fix section titles in highlights panel being incorrectly expanded to full titles when the section has multiple highlights\n\n- [2035039] Prevent Quickview window from opening in the background\n\n- [2034900] Edit book: Fix a regression in the previous release that caused an error when doing text based searches\n\n:: improved recipes\n- Ambito\n- Financial Times\n- USA Today\n\n:: new recipes\n- Times of India Print Edition by unkn0wn\n- Hindu Feeds based by unkn0wn\n- Australian Financial Review by unkn0wn\n}}}\n\n{{{ 6.26.0 2023-09-08\n\n:: new features\n\n- MTP driver: Support the new Kindle Scribe firmware that causes it to act as an MTP device instead of USB disk. Add \"Documents\" to the list of default folders to send books to\n\n- E-book viewer: Add a new option under scrolling behavior to control horizontal mouse wheel events jumping to next section\n\n- Allow full customization of Book details styling via Preferences->Look & feel->Book details\n\n:: bug fixes\n\n- [2023046] Get books: Update ebooks.com plugin for website changes\n\n- Edit book: Fix searching for non-BMP unicode characters highlighting only half the character\n\n- [2034075] E-book viewer: Fix displaying more than one page per screen causing page layout to be slightly wrong for some books\n\n- [2034404] E-book viewer: Fix clicking on links with empty destinations hanging the viewer\n\n- [2033981] E-book viewer: Fix modifying, then jumping to and then modifying the highlight again from the highlights panel causing the highlight to be deleted\n\n- [2033205] E-book viewer: Fix indication of current section in Table of Contents sometimes wrong after changing font size\n\n- [2033530] E-book viewer/Content server: Disallow browser native context menu when right clicking in sandboxed iframes\n\n- MTP driver: Ignore top level folders whose names start with a leading dot Also ignore AppleDouble files, top level system and fonts folders and sdr folders on Kindle devices\n\n- [2033074] FB2 Input: use the <p> tag for paragraphs that don't contain other block content\n\n- [2033118] E-book viewer: Fix clicking on the back/forward buttons not working in some situations\n\n- [2032974] E-book viewer: Fix scrolling to Table of Contents items that are within a single internal file not activating the back button\n\n- [2032694] E-book viewer: Fix changing the sans-serif font without also changing the monospaced font not working\n\n:: improved recipes\n- National Geographic\n- Sportstar\n- Bangkok Post\n- MIT Technology Review\n- Bloomberg\n- Economic Times India\n- Firstpost\n\n:: new recipes\n- Nikkei Asia (Magazine) and Espresso by unkn0w7n\n}}}\n\n{{{ 6.25.0 2023-08-18\n\n:: new features\n\n- [2029723] Book details panel: De-emphasize titles making the actual data stand out more\n\n- Allow using the new manage data files dialog from within the edit metadata dialog\n\n- [2030342] Trash dialog: Allow right clicking on an entry to save it to disk\n\n- [2027794] When merging books by drag-and-drop add an option to use the dragged cover instead of the cover in the target book\n\n- [2031571] Create catalog: Add buttons to easily select all/non/visible fields when creating CSV/XML catalogs\n\n- [2031570] Preferences->Add your own columns: Add buttons to show/hide all columns\n\n:: bug fixes\n\n- [2031341] Fix a regression in the previous release that broke parsing of some ISO-8601 timestamps\n\n- [2030671] E-book viewer: Mouse wheel horizontal events should jump sections not internal file boundaries\n\n- [2031569] Fix Preferences->Add your own columns changing check state on moving columns\n\n- Get books: update various Polish e-book stores for website changes\n\n- [2029521] E-book viewer: Fix CFI parsing of numbers with trailing zeros causing some bookmarks to not work\n\n- [2029521] E-book viewer: Show an error when creating a bookmark if the bookmark position is not found\n\n- [2031047] CBR Input: Fix comics with extremely long internal filenames not working on Windows\n\n- Edit book: Saved searches: Fix incorrect import in generated source code for some builtin functions\n\n- Data file manager: Fix errors on systems with larger font sizes\n\n:: improved recipes\n- Bloomberg\n- Focus\n- Epoch Times\n- Hindu\n- Business Today\n- NYTimes\n\n:: new recipes\n- The Oldie by Sophist\n- Various new Russian and Ukrainian news sources\n}}}\n\n{{{ 6.24.0 2023-08-04\n\n:: new features\n\n- [2023509] Easily manage the extra data files associated with a book by right clicking the edit metadata button and choose \"Manage data files\"\n\n- [2028216] Content server: Full text search: Allow searching a restricted subset of books\n\n- [2029014] E-book viewer: Allow clicking on calibre:// URLs\n\n- [2027727] Support fuzzier searching in the Tag browser find allowing unaccented characters to match accented ones\n\n:: bug fixes\n\n- [2028404] DOCX conversion: Preserve underline style and color\n\n- Fix incorrect sorting of device view after some operations\n\n- [2023737] Fix visit content server in browser not working when the content server is configured to listen on an IPv6 interface\n\n- [2028019] Fix one hour offset in some timezones on Windows for dates before 1970\n\n- [2027763] Windows: HTML Input: Fix error when trying to add HTML files with links to other files that are invalid pathnames\n\n- Get books: Update various Polish language book stores for website changes\n\n:: improved recipes\n- Epoch Times\n- Business Standard\n- Tagesspiegel\n- Bloomberg Business Week\n- MIT Technology Review\n- Live Mint\n- Private Eye\n\n:: new recipes\n- The New Republic Magazine by ping\n- Inc42 by unkn0w7n\n}}}\n\n{{{ 6.23.0 2023-07-14\n\n:: new features\n\n- [2025942] PDF Output: Add an option to discard the book cover instead of inserting it as the first page of the PDF\n\n- [2025333] Content server: Allow opening the Book details page for a matched book from the Full text search results page\n\n:: bug fixes\n\n- Windows: Fix empty data folder getting created in the directory calibre is launched from when changing title/author for a book with an existing data folder\n\n- [2026795] LIT Output: Fix error converting anything to LIT on Windows\n\n- Ignore failures to expire old trash during startup\n\n- [2025786] Amazon metadata download: Fix retrieval of publisher information from amazon.fr\n\n:: improved recipes\n- Guardian & Observer\n- Washington Post\n- Private Eye\n- Associated Press\n\n:: new recipes\n- ThePressProject by Sotiris Papatheodorou\n}}}\n\n{{{ 6.22.0 2023-06-30\n\n:: new features\n\n- Kobo driver: Add support for newest firmware\n\n- [2023604] Trash bin: Allow setting removed books to be permanently deleted on library close\n\n- Windows: Nicer error message when file/folder is locked in another program\n\n:: bug fixes\n\n- PDF Output: Fix regression that caused large slowdowns when converting books with lots of internal HTML files to PDF\n\n- [2024139] CHM Input: Fix ToC entries that use fragments not supported\n\n- E-book viewer: Fix searching for text next to hidden text not scrolling to the match\n\n- [2024375] E-book viewer: Fix selection popup not showing for some books on some platforms when the selection is in the top line\n\n- [2024433] DOCX Output: Fix multiple SVG images in the input document causing all the SVG images in the output to be just one of the input images\n\n- [2023943] MOBI Input: Ignore another form of corruption in trailing bytes\n\n:: improved recipes\n- Foreign Affairs\n- Nature\n- Bloomberg\n- LiveMint\n- Hindu and Hindu Business Line\n- Deautsche Welle\n- Horizons\n- Indian Express\n- Psych\n- Harper's Magazine\n\n:: new recipes\n- Radio Canada by quatorze\n- Deutschland Funk by Armin Geller\n}}}\n\n{{{ 6.21.0 2023-06-13\n\n:: new features\n\n- DOCX Output: Add support for SVG images\n\n  Now the generated DOCX will contain both the rasterized version of the SVG\n  image and the original SVG image as the preferred source, which is supported\n  by modern versions of Word.\n\n- [2023367] E-book viewer: Allow configuring the actions triggered by touch gestures\n\n- DOCX Input: Add support for SVG images\n\n:: bug fixes\n\n- Windows: Fix a regression in the previous release that could cause files to be deleted if one of the files/folders was open in another program while changing title/author in calibre\n\n- [2023395] macOS: Fix extra dock icons visible when doing a job using Qt WebEngine such as converting to PDF or searching in Get books\n\n- [2023476] macOS and Linux: Fix an error when changing metadata or deleting books whose files are owned by another user\n\n- [2023377] CHM Input: Yet another regression opening CHM files with missing internal files on windows\n\n- [2023431] CHM Input: Resolve absolute links to resource files from the root of the CHM file\n\n:: improved recipes\n- Guardian & Observer\n- Harper's Magazine Print recipe\n- Live Mint\n\n:: new recipes\n- The India Forum by unkn0wn\n\n}}}\n\n{{{ 6.20.0 2023-06-09\n\n:: bug fixes\n\n- [2021413] CHM Input: Fix a regression in the previous release that broke conversion of CHM files\n\n- Windows: Make moving files in the calibre library folder more robust, locking folders in addition to files, before the start of the move\n\n- [2023046] Get books: Update Barnes and Noble store plugin for website changes\n\n- [2023189] Kindle output: Only re-encode JPEG images with EXIF metadata if the metadata contains actual transpose operations\n\n- [2023041] PDF Output: Fix error when input document contains multiple instances of a font some with vertical metrics and some without\n\n- PDF Output: Fix using CSS Multicolumns for body causing conversion to fail when header/footer is specified\n\n- [2022035] MOBI Input: Fix a crash when converting some corrupted palmdoc compressed MOBI files\n\n- [2021554] E-book viewer: Ensure CSS stylesheets are interpreted as UTF-8\n\n:: improved recipes\n- Foreign Affairs\n\n:: new recipes\n- Prospect Magazine UK (Free) by ping\n}}}\n\n{{{ 6.19.1 2023-05-29\n\n:: new features\n\n- HTML Input: Restrict adding of resources like images to only files within the folder hierarchy starting at the parent folder of the root HTML file\n  Can be controlled by customizing the HTML to Zip plugin in Preferences->Plugins or the --allow-local-files-outside-root option to the\n  ebook-convert command\n\n:: bug fixes\n\n- PDF Output: Fix regression in previous release causing non-English entries to be incorrectly encoded into the PDF bookmarks\n\n- PDF Output: Fix regression in previous release that caused blank pages when generating headers or footers\n\n- [2021367] Book list: Fix editing-in-place not pre-selecting existing text for some column types\n\n- Amazon.de metadata download: Update for site changes\n\n- PDF Output: Set /Creator and /Producer in /Info\n\n- [2020906] Fix row height incorrect in Manage category dialog when blank\n\n- [2021452] 6.19.1 fixes a bug in 6.19.0 that broke the edit metadata dialog\n\n}}}\n\n{{{ 6.18.1 2023-05-26\n\n:: new features\n\n- [2020603] Cover download: Allowing saving alternate covers to disk or in the book's data folder by right clicking on the cover\n\n- [2020237] Content server: Allow disabling full text search via the web interface\n\n- [2020233] When sending books to the device confirm the overwrite if the book already exists on the device\n\n- E-book viewer: Handle horizontal wheel events as section jumps in paged mode\n\n- Comic Input: When grayscaling comic images use 16bit gray instead of 8bit for better fidelity\n\n  When using the PNG format for images this results in larger files but with better grayscaling fidelity.\n\n- Add a new option in Preferences->Searching to disable keyboard searching in book list (i.e. you can turn off the behavior that pressing a key will jump to the first book whose title starts with that letter)\n\n- [2018423] Manage categories dialog: Use alternating row colors and allow adjusting row height\n\n- Allow assigning a keyboard shortcut in Preferences->Shortcuts to open the data folder of a book\n\n- Various improvements to syntax highlighting for the Markdown long text editor\n\n:: bug fixes\n\n- [2018025] Fix a regression in 6.16 that broke restoring of the database\n\n- Tag browser: Fix using F2 to edit items not allowing completion\n\n- Book details: Fix formatting of text when copying all book details in narrow mode\n\n- Book details: Fix copy all not respecting line breaks in fields\n\n- [2018660] Fix a regression in previous release that broke scrolling when using the scroll_per_row tweak\n\n- [2018548] Fix a regression in the previous release that broke the category manager dialog in some situations\n\n- 6.18.1 fixes a regression that broke setting metadata and generating PDF files in the macOS and Linux binary builds\n\n\n:: improved recipes\n- NYTimes\n- Economist\n- Washington Post\n- Irish Independent and Irish Times\n- Live Mint\n- Psych\n- Hindu\n\n:: new recipes\n- Irish Times Free by unkn0wn\n- elEconomista.es and El Confidencial by Hugo Meza\n\n}}}\n\n{{{ 6.17.0 2023-04-26\n\n:: new features\n\n- Font subsetting: Add support for WOFF format fonts and CID keyed fonts. Also further reduce file sizes when subsetting\n\n- Book details: Show a link to open the data files folder when data files are present\n\n- Template language: Add various functions to query the extra files associated with a book\n\n- [2017195] Edit book: Compress images: Support compression of images in the WEBP format as well\n\n- Comments editor: Add buttons to create links to data files and also to folders easily when inserting a link\n\n- Allow displaying the id, formats and path builtin columns via Preferences->Add your own columns\n\n- [2017232] Trash bin: Add a button to clear the bin\n\n- Metadata editor: Use a dedicated editor with preview for custom columns that store Markdown formatted text\n\n:: bug fixes\n\n- Fix a regression in the previous release that could result in empty author folders remaining in the library when the author of a book is changed\n\n- [2017373] Fix the data files associated with a book not being handled when using the Merge books and Copy to library functions\n\n- Fix a regression in the previous release that broke some operations in the Manage tags/authors/etc. dialogs\n\n- [2017217] Ensure metadata.opf is always written when deleting book even if it is not sequenced for backup\n\n:: improved recipes\n- Scientific American\n\n}}}\n\n{{{ 6.16.0 2023-04-20\n\n:: new features\n\n- [major] Allow storing extra data files with a book\n\n  Right click the Add books button to add arbitrary files as \"data files\" to a book record.\n  These are managed by calibre along with the book files, but cannot be used for conversion/viewing.\n  Select a book and press the \"O\" key to view the data files in your file explorer.\n\n- Allow undoing the deletion of books from the calibre library\n\n  Now deleted books are stored in a calibre \"Trash bin\" from which they can be restored with\n  a single click. To view the trash bin, right click the \"Remove books\" button.\n\n- [2016070] Kobo driver: Add support for the new Kobo Elipsa 2E\n\n- Book details: if an item has an associated link then offer that link in the item's context menu\n\n\n:: bug fixes\n\n- [2015617] Content server viewer: Fix end of chapter content being occasionally skipped when scrolling by screen full with multiple pages\n\n- [2017130] E-book viewer: Fix a regression that caused notes from a different highlights to be shown in some situations\n\n- [2015795] E-book viewer: Show an error if the user tries to search for only punctuation or spaces in the search modes that ignore these\n\n- Fix custom columns not showing in Book details links from other libraries\n\n:: improved recipes\n- Frontline\n- Outlook Magazine\n\n:: new recipes\n- Bar and Bench by unkn0wn\n- The Washington Post Print Edition by unkn0wn\n}}}\n\n{{{ 6.15.1 2023-04-07\n\n:: new features\n\n- Allow adding external links to tags, series, publishers, etcetera in addition to authors\n\n  The links show up as click-able icons in the book details panel. They can be set by right clicking the\n  author/tag/etc. in the Tag browser and choosing \"Manage\"\n\n- calibre:// URL scheme: Add support for a new type of URL that pops up the metadata of the specified book in a new window\n\n  Works even with books not in the current library. See https://manual.calibre-ebook.com/url_scheme.html#open-a-book-details-window-on-a-book-in-some-library for details\n\n- EPUB Output: Do not shrink images to fit the screen size by default, as modern readers do this themselves well enough. Can be controlled via an option in the EPUB Output section of the conversion dialog\n\n- Edit metadata dialog: Add buttons to pop up the category editing windows easily\n\n- [2012304] Metadata download: Allow specifying rules to transform publisher names in addition to author and tag names\n\n- [2007764] Edit metadata dialog: Use both a colored border and an icon to indicate errors in line edits\n\n- A new tweak in Preferences->Tweaks to control what program is run when clicking on URLs in calibre\n\n:: bug fixes\n\n- [2009586] E-book viewer: Fix a regression that caused incorrect highlight collision detection in some books\n\n- E-book viewer: Fix images embedded inside SVG tags not available for viewing in a pop-up\n\n- [2013972] DOCX Input: Do not ignore images that are present as fallbacks for a word drawing object\n\n- Comic Input: When converting grayscaled PNG images to PNG ensure output images are stored as indexed PNG\n\n- [2012797] Fix active tab not easy to distinguish in dark mode\n\n- [2011755] Content server: Fix re-opening book from home page after making progress not opening to correct last read position when a user is logged in\n\n- [2012760] Comments editor: When copying to clipboard, copy clean HTML rather than the junk Qt produces\n\n- Version 6.15.1 fixes an issue with the new URL scheme popping up incorrect book details windows\n\n:: improved recipes\n- Saechsische Zeitung\n- LA Times\n- Mediapart\n- Live Mint\n- The Hindu\n\n:: new recipes\n- Tehelka by Areet Mahadevan\n- The Wire by unkn0wn\n\n}}}\n\n{{{ 6.14.1 2023-03-16\n\n:: new features\n\n- [2007765] Edit metadata: When setting a cover from comic files allow choosing which page to use as the cover\n\n- [2009304] Allow display of columns built from other columns as comments in Book details\n\n- Comments editor: Add a shortcut for \"Paste and match style\" (Ctrl+Shift+V)\n\n:: bug fixes\n\n- [2004639] macOS: ToC Editor: Fix mouse becoming unusable when trying to create a new entry\n\n- When computing title sorts strip leading and trailing quotes, not just leading quotes\n\n- [2009268] Content server viewer: Fix searching only showing results from the current chapter onwards\n\n- [2009735] Check book: Fix some incorrect line numbers reported in a few CSS error messages\n\n- Fix regression in 6.14.0 that caused some generated resources to be excluded from the calibre source bundle\n\n- [2011586] Fix regression in 6.14.0 that broke using paths with single quotes in them for the calibre library\n\n- Fix ToC Editor on macOS in 6.14.0 not working inside the Edit book tool only\n\n:: improved recipes\n- Strange Horizons\n- The Saturday Paper\n- New Scientist\n- The Mainichi\n- DR Nyheder\n- New York Magazine\n- Bloomberg\n- Deccan Herald\n}}}\n\n{{{ 6.13.0 2023-02-17\n\n:: new features\n\n- Content server: E-book viewer: Long tapping on an image now causes it to be displayed in an internal popup rather than a new window as some browsers block the creation of new windows\n\n:: bug fixes\n\n- E-book viewer: Fix some adjacent highlights with nothing in between them not being displayed.\n\n- [2006726] Content server: Workaround for Safari regression causing bookmarks to disappear on reload\n\n- [2007039] E-book viewer: Read aloud: Fix a regression in the previous release that caused the Read aloud controls to not reappear when Read aloud is canceled and restarted\n\n- [2006062] E-book viewer: Read aloud: Fix a regression in the previous release that caused an error when using Read aloud on a chapter with no text, such as the cover page\n\n- E-book viewer: Fix a regression that caused a spurious error on Windows when reading out selected text\n\n- [2007165] Fix a regression in calibre 5.0 that broke sorting the device view by title if one of the books has an empty title\n\n- Edit book: Spell Check dialog: Fix second word not getting selected when after first word is fixed\n\n- [2004621] Improve hover highlight color in tree views\n\n:: improved recipes\n- CNN\n- Bloomberg\n\n:: new recipes\n- The Economist Espresso by unkn0wn\n- Science X by unkn0wn\n- Horizons by unkn0wn\n- Deccan Herald by unkn0wn\n- The Monthly by unkn0wn\n}}}\n\n{{{ 6.12.0 2023-02-03\n\n:: new features\n\n- E-book viewer: Read aloud: On Windows switch to using the new Microsoft speech subsystem with access to more voices\n\n  Note that this means that old voice, speed and audio devices setting will not be used so a reconfiguration might be needed.\n\n- [2003712] calibre:// URL scheme: allow specifying a Virtual library for show_book URLs\n\n- [2003227] Add by ISBN: Allow adding using identifiers other than ISBN as well\n\n- Update bundled Qt to 6.4 this means calibre on macOS is now only supported on Big Sur and newer\n\n- Spell check dialog: Allow up and down arrow keys to work regardless of focus\n\n- [2002257] Allow multiple Template tester dialogs\n\n:: bug fixes\n\n- Windows MTP device driver: Ignore failure to enumerate objects inside non-root folders\n\n  There are apparently a lot of devices out there that fail in this way.\n  So rather than aborting the scan simply ignore the folder.\n\n- Book list: Fix a regression in the previous release that broke dragging to select multiple books\n\n- [2004197] Content server viewer: Fix reload book not actually reloading until the browser is also refreshed\n\n- [2003916] E-book viewer: Fix occasional false warning about highlight being overwritten\n\n- [2003908] E-book viewer: Fix detection of selected highlights when all text is selected\n\n- [2003729] Fix an error when embedding metadata into a large number of books\n\n- [2004522] When updating metadata in EPUB 2 files and no language is specified, do not remove the <dc:language> tag as this causes epubcheck to complain. Instead set the language to \"und\"\n\n- [2004083] Wireless device driver: Remove the timeout for initial connection\n\n- [2003652] Use an icon rather than a color to report errors in fields and the search box\n\n- Conversion dialog: Regex builder: Workaround bug in Qt that prevented searching for non breaking spaces in the wizard used to test search expressions\n\n- [2002864] Spell check dialog: move down after correcting word, not up\n\n- [2002534] Get books: Fix Mobileread store plugin not working\n\n:: improved recipes\n- Jerusalem Post\n- LiveMint\n- The Seattle Times\n- India Today\n- Outlook Magazine\n- Live Mint\n- Irish Independent\n- Irish Times\n\n:: new recipes\n- Boston Globe Print Edition by unkn0wn\n- Observer Reach Foundation by unkn0wn\n}}}\n\n{{{ 6.11.0 2023-01-06\n\n:: new features\n\n- Edit book: Check book: Allow automatic fixing of various simple CSS errors\n\n- E-book viewer: When Read aloud is speaking, make the control bar translucent so that words under the bar are visible\n\n- Edit book: Switch to a new library (stylelint) for find problems in CSS as the old library was no longer maintained.\n\n- Edit book: File browser: Allow using keyboard shortcuts to re-order the spine\n\n- [1982532] calibredb list: Allow specifying multiple fields for --sort-by\n\n- [2000037] Check library: Allow opening the book folder easily\n\n:: bug fixes\n\n- Fix windows not being moved onto the current monitor when they were previously visible on a removed monitor that was to the left of the current monitor\n\n- [1999995] Book list: Fix a regression in the previous release that broke drag and drop of multiple books\n\n- [2000877] Fix detection of Tolino Vision 6 on macOS/Linux\n\n- [2001880] Content server: Fix auto full screen not working when continuing to read books with user account enabled\n\n- Edit book: Set semantics: Fix error when setting the \"Notes\" semantic\n\n- [1999956] HTMLZ output: Fix images referred to in CSS stylesheets not being converted\n\n- [2000881] Book details panel: Fix HTML comment tags in the comments breaking display of book details\n\n- Content server home page: When showing recently read books from across devices hide the entries for which loading the cover fails\n\n- Windows Text-to-speech: Do not fail to configure if one of the voices has no defined language\n\n- Fix a regression in calibre 5 that broke using a file for the --extra-css option of ebook-convert\n\n- Content server FTS: Fix page header bar not visible\n\n- Content server: Fix identifiers from third party metadata download plugins not becoming clickable links on the book details page\n\n- Edit book: Warn when saving will overwrite a read-only file\n\n- Fix restoring geometry of maximized/fullscreen dialogs forcing them visible\n\n- [1999936] Fix a regression in the previous release that caused spurious error message when doing some out of band searches\n\n- Fix a regression in the previous release that broke choosing new programs for the Open with function\n\n:: improved recipes\n- PC World\n- HNA\n- Caravan Magazine\n- Harvard Business Review\n- Various Israeli news sources\n\n:: new recipes\n- NHK News - by Richard A. Steps\n- Globes in English by barakplasma\n}}}\n\n{{{ 6.10.0 2022-12-16\n\n:: new features\n\n- [major] Content server: Add support for searching the full text of books. Simply click the FTS link on the search page to start a full text search.\n\n- [1998557] Content server: When using user accounts, the homepage now shows recently read books from any device not just the current device\n\n- [1999685] Kobo driver: Bump the max supported firmware version\n\n- [1998780] Conversion: New Output profile for the Kindle Scribe\n\n- [1998705] Check library: Allow ignoring folder names as well as files names\n\n:: bug fixes\n\n- [1999349] Edit book: Fix various formatting operations not inserting the tags in the correct place in the presence of non-BMP characters\n\n- Edit book: Use <s> instead of <strike> for strikethrough\n\n- [1998899] Edit book: Fix export saved search to search panel not preserving the wrap checkbox state\n\n- [1998767] Content server: Redirect the index page to always have trailing slash when using URL prefixes\n\n- Book list: Workaround for change in Qt 6 behavior where clicking on an already selected row does not deselect other rows\n\n- [1998165] Windows: Fix a regression in calibre 6 causing Open with to not extract icons from EXE files\n\n:: improved recipes\n- Indian Express\n- Financial Times\n- TIME Magazine\n- Hindu Business Line Print Edition\n- Arts and Letters Daily\n- Frontline\n- Sportstar\n- New Yorker\n\n:: new recipes\n- Fokus by Henrik Holm\n- Press Information Bureau by unkn0wn\n- Himal Southasian by unkn0wn\n- Indian Express Print Edition by unkn0wn\n}}}\n\n{{{ 6.9.0 2022-11-25\n\n:: new features\n\n- E-book viewer: When exporting highlights as plain text include titles from chapters at all levels not just the first level\n\n- Edit book: Reports: Show the number of words per file in the Files section of the report\n\n- Windows builds: sign DLLs in addition to EXEs to make Microsoft's new \"Smart App Control\" tool happy\n\n- Sending by email: When adding comments also add series\n\n- [1990730] Nook driver: Put files in NOOK/Books instead of NOOK/My Files on recent nook devices so they are all listed in one place in the NOOK UI\n\n- calibredb list: Allow using a template as one of the returned fields\n\n- Tag browser: Add context menu action to turn on/off sub-categorization for a category\n\n:: bug fixes\n\n- [1996802] Merging books: Fix title sort not being updated when the title is updated\n\n- Content server viewer: Fix incorrect sorting of highlights in the same paragraph\n\n- Content server viewer: When exporting highlights as text include chapter titles\n\n- Improve rendering of the separator handle dots introduced in the previous release\n\n- Edit book: Fix regression in previous release causing applying any container update marking all open image editors as modified\n\n- Fix a regression in the previous release that caused copying book details to clipboard to use unix line endings on windows\n\n:: improved recipes\n- Bloomberg\n- The Globe and Mail\n- Spectator Magazine\n- The New York Times\n- The Hindu\n- MIT Technology Review\n\n}}}\n\n{{{ 6.8.0 2022-11-04\n\n:: new features\n\n- Allow customizing the buttons available to the right of the search bar in the main calibre window via Preferences->Toolbars & menus->The buttons on the searchbar\n\n- [1994065] Book details panel: Allow adjusting the space used by the cover with a splitter\n\n- Make splitter handles more visible in the calibre UI style\n\n- [1994136] When sending by email to Kindle do not include the author in the filename as Amazon is currently reading the author from the file metadata but not the title\n\n:: bug fixes\n\n- [1993051] Book list: Fix incorrect rendering of yes/no icons when they are configured to have only two values\n\n- [1990730] Nook driver: Send books to the NOOK folder for the 2021 Nook model as well\n\n- Improve performance in very large libraries of various UI operations such as right clicking, marking books, etc.\n\n- Fix edit metadata dialog not remembering its position and improve how calibre restores window position and size on multi-monitor systems\n\n- Conversion: Fix CSS styles applied to SVG elements being discarded\n\n- [1995551] EPUB Input: Fix empty Adobe page number template file causing conversion to fail\n\n- [1995214] E-book viewer: Fix rendering of comments in metadata display when using a dark color scheme\n\n- [1994988] AZW3 Input: Fix svg images that use a prefix for the SVG namespace not being recognized\n\n- Edit book: Fix double clicking in the see what changed dialog not opening the file in the editor since calibre 6.0\n\n- Edit book: Fix modified indicator on images not working correctly when replacing the image\n\n- Amazon metadata download: Adapt the plugin for website changes\n\n:: improved recipes\n- Army and Navy Times\n- eenadu_ap\n- Handelsblatt\n\n:: new recipes\n- Fifty Two by unkn0wn\n- Bloomberg and Bloomberg Business Week by unkn0wn\n}}}\n\n{{{ 6.7.0 2022-10-14\n\n:: new features\n\n- Template language: A new \"Python template mode\" which allows using arbitrary Python code in templates\n\n- [1992273] Tag browser: Allow removing format from selected books by right clicking on the format in the Tag browser\n\n- [1991597] E-book viewer: Ask for confirmation when creating a highlight that will overwrite existing highlights\n\n- Book list: Allow changing column widths via a dedicated dialog by right clicking on column headers\n\n:: bug fixes\n\n- [1992278] E-book viewer: Fix a regression that broke adding of new lookup sources\n\n- [1991504] E-book viewer: Fix copy to clipboard not ignoring text from elements that are marked as non user selectable\n\n- [1992244] Content server: When adding books, run all file type plugins before reading metadata\n\n- Edit book: Preview panel: In dark mode when all of the background/foreground/link colors are set to \"No change\" do not render the book using dark colors\n\n- Version 6.7.1 fixes a regression in the previous release that broke the delete specific format from book function\n\n:: improved recipes\n- The Athletic\n- der Standard\n- The Economic Times India Print Edition\n- Indian Express\n- India Today Magazine\n- Caravan Magazine\n}}}\n\n{{{ 6.6.1 2022-09-30\n\n:: new features\n\n- Book details: allow displaying multi-valued categories such as tags on separate lines via Preferences->Look & feel->Book details\n\n- [1989813] Tag browser: When searching the Tag browser allow also filtering the book list to show only books that match one of the categories currently shown in the Tag browser.\n\nTo use enable the two Preferences: \"Preferences->Look & feel->Tag browser->Hide empty categories\" and \"Find shows all items that match\".\nThen, when searching the Tag browser, press Ctrl+Alt+Shift+F to restrict the displayed books.\n\n- [1990507] Edit book: When right clicking on HTML files in EPUB 3 books, allow marking them as the Table of Contents (NAV document)\n\n:: bug fixes\n\n- [1990185] EPUB Output: Fix converting a document with obfuscated fonts to EPUB 3 not working\n\n- [1990660] Edit book: Fix an error when processing books that contain comments inside unknown CSS @ rules\n\n- [1989722] Content server: Fix jumping to locations such as bookmarks not working on iPhone/iPad running iOS >= 15\n\n- [1990766] Font subsetting: Fix :first-line and :first-letter pseudo classes not being handled correctly\n\n- Workaround for Amazon's email delivery service not reading metadata from inside ebook files\n\n- Edit book: File list: Fix pressing Tab key while renaming a file not starting the rename of the next file\n\n- Version 6.6.1 fixes a regression that caused the Edit metadata window to not remember its last used size.\n  Note that you will have to resize it once after updating to 6.6.1, after which the size will be remembered.\n\n:: improved recipes\n- SCMP\n- Spectator Magazine\n- Spiegel Online International\n- Engadget\n}}}\n\n{{{ 6.5.0 2022-09-16\n\n:: new features\n\n- Kobo driver: support the new Kobo Clara 2e\n\n- [1989631] When running calibre with the --with-library command line flag and calibre is already running, switch to the specified library in calibre\n\n- [1988443] E-book viewer: Ask for confirmation when deleting a custom highlight style\n\n- [1988609] Do not show the virtual libraries tab bar when no virtual libraries are present\n\n- Tag mapper: When specifying the replacement tag allow completion from the tags in the currently open library\n\n- Template language: New functions strcasecmp() and to_hex()\n\n:: bug fixes\n\n- [1989177] Comments editor: Workaround for Qt inserting invalid font-weight when converting a paragraph to a heading\n\n- [1988590] E-book viewer: When displaying highlights do not group highlights from different chapters when the chapter titles are identical\n\n- Tag browser: Fix error if a User category contains a reference to a deleted custom column\n\n- [1989282] When sending books by email to the Kindle and PocketBook email delivery services use random subject and filenames consisting of simple English letters to try to workaround various bugs in their email processing code\n\n:: improved recipes\n- The Wall Street Journal\n- Open Magazine\n- The Baffler\n- Dark Reading\n- New York Times\n- NYTimes Cooking\n- NYTimes Sports Beat\n- Outlook Magazine\n- Foreign Affairs\n\n}}}\n\n{{{ 6.4.0 2022-09-02\n\n:: new features\n\n- [1987011] Conversion pipeline: Add support for !important when flattening CSS rules\n\n- [1986786] Content server: Use the chapter title as the base bookmark name when creating new bookmarks\n\n- Allow changing the search order when clicking on items in the Tag browser (Preferences->Look & feel->Tag browser->Hierarchy and searching)\n\n- [1986500] Check library: Make vacuuming the full text database optional as it is very slow and memory intensive\n\n- [1987235] Tag browser: Move the preferences for controlling the order and display of categories in the Tag browser from Preferences->Tweaks to Preferences->Look & feel->Tag browser\n\n- [1984121] User category editor: Hide items not visible in the Tag browser\n\n- Allow adding a button to show the Manage categories window to the toolbars via Preferences->Toolbars & menus\n\n- Google metadata download: When excluding results from a web search because they don't match the specified title/author ignore diacritics, accents, etc.\n\n:: bug fixes\n\n- [1986963] E-book viewer: Lookup: Google dictionary: Add some padding at the left and right margins\n\n- [1985855] E-book viewer: Lookup word in Google dictionary: Fix meanings of some words not being shown in the user's preferred language\n\n- [1987390] Fix calibredb backup_metadata --all operating only on dirty books not all books\n\n- [1987557] Do not VACUUM FTS db when exporting library as it can be very slow\n\n- Windows: Nicer error message when attempting to run viewer/editor on machine without MediaPack installed\n\n- Edit book: Reports: Fix rendering of images in the images report table\n\n- [1986412] Content server: Fix formatting of dates for custom columns using ISO format\n\n:: improved recipes\n- Live Law and Live Mint\n- Financial Times and MIT Technology Review\n- Business Standard and Indian Express\n- Nautilus\n- High Country News\n- Outlook Business Magazine\n\n:: new recipes\n- Brhat by Vishwas Vasuki\n- Cachys Blog by Volker Heggemann\n- Various Russian and Ukranian news sources by bugmen00t\n}}}\n\n{{{ 6.3.0 2022-08-12\n\n:: new features\n\n- E-book viewer: Allow searching for nearby words using a new \"Nearby words\" search mode\n\n- calibredb: New fts_search and fts_index commands to perform full text searching from the command line\n\n- [1985021] Image viewing popup: Allow zooming using the standard shortcuts of Ctrl+plus/minus\n\n:: bug fixes\n\n- Fix a regression in calibre 6.0 that broke remembering the previous sort order for a column\n\n- [1983484] Fix a regression in calibre 6.0 that broke processing of very high resolution images\n\n- [1983230] Full text search: Fix error when using restrict searched books and more than 900 books are present in the searched list\n\n- E-book viewer: Fix parsing of CSS styles with @supports rules not working\n\n- E-book viewer: Speed up initial render of books with lots of CSS in <style> tags by not prettying the CSS\n\n- [1983126] Google books metadata download: Fix paragraphs not being recognized\n\n- Content server: Fix light background for comments editor in dark mode\n\n- [1985058] Content server: Fix margin and body background color mismatch when reading books with a non-white/black color scheme\n\n- [1983271] Content server: Fix long tapping in the notes edit area incorrectly changing the highlight extent\n\n- Google search engine: Fix for different URL encoding used by Google servers in Portugal\n\n- Check library: Fix vacuum not running on FTS db\n\n:: improved recipes\n- Wirtschaft Woche\n- Scientific American\n- Popular Science\n- Mediapart\n- MIT Technology Review\n- Indian Express\n- Eenadu\n\n:: new recipes\n- Various Russian and Ukranian news sources by bugmen00t\n}}}\n\n{{{ 6.2.1 2022-07-29\n\n:: new features\n\n- Full text search: Ignore soft hyphens when extracting searchable text from books. Note that you will have to re-index your library to take advantage of this.\n\n- Content server: Have the Read button open PDF files in the browsers builtin PDF viewer rather than the calibre viewer since the calibre viewer is not well suited to PDF\n\n- Kobo driver: Add support for new firmware\n\n- Create icon theme dialog: Add a checkbox to install the newly created theme into calibre\n\n- Allow re-indexing a book for FTS by right clicking the Book details panel\n\n:: bug fixes\n\n- [1982060] Content server: Workaround for Chrome bug causing multiple sign in prompts when connecting to the server after restarting Chrome\n\n- Fix a regression in 6.0 that broke rendering of first page of EPUB as cover when the EPUB has no actual cover\n\n- [1981886] Content server: Fix a regression in 6.0 that caused incorrect rendering of comments metadata in the book details panel in dark mode\n\n- [1982743] FB2 Input: Fix a regression in 6.0 that broke conversion of FB2 on macOS\n\n- [1982502] Metadata download from Google: Switch to making the queries via a Google web search as this finds some books that searching via the API does not\n\n- [1982651] Book details panel: Fix clicking on items from an enumerated column containing ampersands not searching correctly\n\n- Image editor: Do not allow initial mouse drag to create selection rect outside the image bounds\n\n- E-book viewer: Fix clicking on ToC entries moving keyboard focus to the ToC search box when the ToC window is floating\n\n- Fix a regression in 6.0 that caused the default cover to be rendered small in some contexts\n\n- [1981882] Various bug fixes related to the new dark/light icon theme switching. Make the icons more consistent even when using the system theme. Use calibre specific file type icons when using the non native file dialogs. Allow creating dark/light override icons manually in the configuration folder.\n\n- [1981909] Disable the color theme setting when using system style\n\n- When using a fixed color palette and the system colors are of different type enforce the color palette\n\n- [1982050] Ignore Qt generated application palette changes when using a fixed palette\n\n- In the icon theme chooser dialog show light and dark themes only in the light and dark tabs\n\n- [1982035] Welcome wizard: Fix device names not being translated correctly leading to the same name being repeated for some devices\n\n- Read aloud: Fix spurious error message on Linux about voices not being installed\n\n- Linux binaries: Bundle brotli and graphite2 as well as Qt links against them\n\n- FTS dialog: When keyboard navigation changes the current item ensure it stays visible\n\n- [1981887] Binary builds: Fix Qt TLS backends not included\n\n- Fix Qt WebEngine creating cache folders outside of the calibre cache directory\n\n- Version 6.2.1 fixes a regression in 6.2.0 that caused the Read button in the Content server to only work for PDF books\n\n:: improved recipes\n- Frontline\n- HBR\n- The Australian\n- India Today\n- Indian Express\n- India Today\n- Live Mint\n- The Atlantic\n\n:: new recipes\n- The Athletic by unkn0wn\n- Various Russian and Ukranian news sources by bugmen00t\n}}}\n\n{{{ 6.1.0 2022-07-16\n\n:: new features\n\n- Full text search: Add a button to re-index a book, useful if the book's contents have been changed outside calibre\n\n- Search queries now support quoting using \"docstrings\" for easier escaping\n\n- Linux installer: Check for libEGL as the QtGui module in Qt 6 links against it and many Linux servers don't have it installed\n\n:: bug fixes\n\n- macOS: Blacklist older versions of the DeDRM plugin as they caused crashes and failures to add books.\n\n- [1981453] Fix a regression in 6.0 that caused crashes in the Manage authors dialog\n\n- Fix a regression in 6.0 that broke touch screen interaction\n\n- [1981627] Fix a regression in 6.0 that caused a few checkboxes to stop working\n\n- [1981629] Linux: Fix a regression in 6.0 that broke handling of mouse clicks on some Wayland systems with a touchpad\n\n- ToC Editor: Fix a regression in 6.0 that broke styling/images in the preview panel\n\n- Windows: Fix window titlebars not dark in dark mode\n\n- Full text search: Show a warning when indexing/searching a library on an FAT drive\n\n- News download: Do not add aborted/failed article titles to the comments metadata\n\n- Full text search: Fix books edited with the Edit book tool not being automatically re-indexed\n\n- [1981438] HTML Input: Fix handling of deeply nested files on Windows\n\n- [1981188] Fix a regression preventing using a non-integer value for the tweak to change book details font size\n\n- Fix moving library not moving the full text search index\n\n- Fix some custom icons in the calibre config directory not overriding the theme/builtin icons\n\n- Linux installer: Fix glibc version check also being done when installing older versions\n\n- Windows installer: Refuse to install on Windows 8 as thanks to Qt 6 calibre 6 does not work on Windows 8\n\n- Update the BigBookSearch metadata plugin for website changes\n\n:: improved recipes\n- The Economic Times India\n}}}\n\n{{{ 6.0.0 2022-07-11\n:: new features\n\n- [major] For details on the major changes in calibre between 6.0 and 5.0, see https://calibre-ebook.com/new-in/fifteen\n\n- [major] Full text search: You can now search the entire text of all books in your calibre library\n\n- [major] Support for new CPU architectures: Apple Silicon and ARM64 on Linux. Support for 32bit CPUs has been dropped because Qt 6 does not support them\n\n- Dark mode in calibre is now controlled via a setting in Preferences->Look & feel rather than an environment variable\n\n- Allow choosing different icon themes for light and dark mode in Preferences->Look & feel\n\n- Upgrade calibre to use Qt 6. This means that some no longer maintained third party plugins may not work, though most plugins have already been ported\n\n}}}\n\n{{{ 5.44.0 2022-06-17\n\n:: new features\n\n- [1976105] Amazon metadata download: Add an option to prefer the Kindle edition when multiple book types are returned by the search (Preferences->Metadata download->Configure the Amazon plugin)\n\n- Kobo driver: Support for updated firmware\n\n- [1977681] Allow customizing how yes/no columns are displayed (Preferences->Add your own columns)\n\n- Manage tags dialog: If tags are present in the add tags input when OK is clicked, add them automatically, without needing to click the plus button first\n\n:: bug fixes\n\n- [1978500] Edit book: Live CSS: Fix @namespace rules causing jumping to rule definition to go to the wrong definition\n\n- Workaround for Apple bug in macOS 13 that prevents device detection\n\n- Don't use commas in filenames when sending to pbsync and kindle email addresses\n\n- Edit book: When quitting while a save is in progress and the save completes while the confirmation popup is visible, don't abort the quit.\n\n:: improved recipes\n- Harvard Business Review\n- Philosophy Now\n- Sydney Morning Herald\n- Haaretz\n- Indian Express\n- Hindi Business Line\n- The New York Times\n- Nature\n- Eenadu\n- Scientific American\n- Business Today\n- Irish Times\n- FAZ.net\n- Le Monde\n- Economist\n\n:: new recipes\n- Nautilus by unkn0wn\n- The Healthy from Reader's Digest by Stephen Genusa\n- Business Standard Print Edition by unkn0wn\n- The Economic Times India Print Edition by unkn0wn\n}}}\n"
        },
        {
          "name": "INSTALL.rst",
          "type": "blob",
          "size": 2.9892578125,
          "content": "**calibre** supports installation from source, only on Linux. If you want to\ncreate installers for Windows or macOS, instructions can be found at\nhttps://github.com/kovidgoyal/build-calibre\n\nNote that you *do not* need to install from source to hack on the calibre\nsource code. To get started with calibre development, use a normal calibre\ninstall and follow the instructions at\nhttps://manual.calibre-ebook.com/develop.html\n\nOn Linux, there are two kinds of installation from source possible. Note that\nboth kinds require lots of dependencies as well as a full development\nenvironment (compilers, headers files, etc.)\n\nAll installation related functions are accessed by the command::\n\n    python setup.py\n\nFor details on what functions are available, see::\n\n    python setup.py -h\n\nOr for help on any individual functions, see::\n\n    python setup.py <function> -h\n\nNote that many of these functions are only useful for creating official release\ncompilations.\n\nPrerequisites\n=============\n\nIn order to install calibre, you will need:\n\n  - The system dependencies listed at the bottom of\n    https://calibre-ebook.com/download_linux\n\n  - Either the raw source code available from git, or the release source code\n    available at https://download.calibre-ebook.com (preferred). There is a big\n    difference between the two, as the raw sources do not include several\n    pre-compiled resources, for example localizations and MathJax support.\n\n    For anyone familiar with autotools builds, this is somewhat similar to the\n    difference between configure.ac in git and the dist tarball after\n    autoreconf is run. i.e. users are generally expected to use the latter.\n\nBuild\n=====\n\nIn order to bootstrap the raw git sources to a release-ready state, run the\ncommand::\n\n    python setup.py bootstrap\n\nIn order to compile the C/C++ extensions etc. for a release-ready tarball\n(these functions are already included by the bootstrap function), run the\ncommands::\n\n    python setup.py build\n    python setup.py gui\n\nInstall\n==========\n\nThe first type of install will actually \"install\" calibre to your computer by\nputting its files into the system in the following locations:\n\n  - Binaries (actually python wrapper scripts) in <prefix>/bin\n  - Python and C modules in <prefix>/lib/calibre\n  - Resources like icons, etc. in <prefix>/share/calibre\n\nThis type of install can be run by the command::\n\n    sudo python setup.py install\n\n<prefix> is normally the installation prefix of python, usually /usr.  It can\nbe controlled by the --prefix option.\n\nFor distro packagers, DESTDIR support is implemented via the --staging-root\noption, usually ${DESTDIR}/usr.\n\nDevelop\n=============\n\nThis type of install is designed to let you run calibre from your home\ndirectory, making it easy to hack on it.\n\nIt will only install binaries into /usr/bin, but all the actual code and\nresource files will be read from the calibre source tree in your home directory\n(or wherever you choose to put it).\n\nThis type of install can be run with the command::\n\n    sudo python setup.py develop\n"
        },
        {
          "name": "LICENSE",
          "type": "blob",
          "size": 34.3251953125,
          "content": "                    GNU GENERAL PUBLIC LICENSE\n                       Version 3, 29 June 2007\n\n Copyright (C) 2007 Free Software Foundation, Inc. <https://fsf.org/>\n Everyone is permitted to copy and distribute verbatim copies\n of this license document, but changing it is not allowed.\n\n                            Preamble\n\n  The GNU General Public License is a free, copyleft license for\nsoftware and other kinds of works.\n\n  The licenses for most software and other practical works are designed\nto take away your freedom to share and change the works.  By contrast,\nthe GNU General Public License is intended to guarantee your freedom to\nshare and change all versions of a program--to make sure it remains free\nsoftware for all its users.  We, the Free Software Foundation, use the\nGNU General Public License for most of our software; it applies also to\nany other work released this way by its authors.  You can apply it to\nyour programs, too.\n\n  When we speak of free software, we are referring to freedom, not\nprice.  Our General Public Licenses are designed to make sure that you\nhave the freedom to distribute copies of free software (and charge for\nthem if you wish), that you receive source code or can get it if you\nwant it, that you can change the software or use pieces of it in new\nfree programs, and that you know you can do these things.\n\n  To protect your rights, we need to prevent others from denying you\nthese rights or asking you to surrender the rights.  Therefore, you have\ncertain responsibilities if you distribute copies of the software, or if\nyou modify it: responsibilities to respect the freedom of others.\n\n  For example, if you distribute copies of such a program, whether\ngratis or for a fee, you must pass on to the recipients the same\nfreedoms that you received.  You must make sure that they, too, receive\nor can get the source code.  And you must show them these terms so they\nknow their rights.\n\n  Developers that use the GNU GPL protect your rights with two steps:\n(1) assert copyright on the software, and (2) offer you this License\ngiving you legal permission to copy, distribute and/or modify it.\n\n  For the developers' and authors' protection, the GPL clearly explains\nthat there is no warranty for this free software.  For both users' and\nauthors' sake, the GPL requires that modified versions be marked as\nchanged, so that their problems will not be attributed erroneously to\nauthors of previous versions.\n\n  Some devices are designed to deny users access to install or run\nmodified versions of the software inside them, although the manufacturer\ncan do so.  This is fundamentally incompatible with the aim of\nprotecting users' freedom to change the software.  The systematic\npattern of such abuse occurs in the area of products for individuals to\nuse, which is precisely where it is most unacceptable.  Therefore, we\nhave designed this version of the GPL to prohibit the practice for those\nproducts.  If such problems arise substantially in other domains, we\nstand ready to extend this provision to those domains in future versions\nof the GPL, as needed to protect the freedom of users.\n\n  Finally, every program is threatened constantly by software patents.\nStates should not allow patents to restrict development and use of\nsoftware on general-purpose computers, but in those that do, we wish to\navoid the special danger that patents applied to a free program could\nmake it effectively proprietary.  To prevent this, the GPL assures that\npatents cannot be used to render the program non-free.\n\n  The precise terms and conditions for copying, distribution and\nmodification follow.\n\n                       TERMS AND CONDITIONS\n\n  0. Definitions.\n\n  \"This License\" refers to version 3 of the GNU General Public License.\n\n  \"Copyright\" also means copyright-like laws that apply to other kinds of\nworks, such as semiconductor masks.\n\n  \"The Program\" refers to any copyrightable work licensed under this\nLicense.  Each licensee is addressed as \"you\".  \"Licensees\" and\n\"recipients\" may be individuals or organizations.\n\n  To \"modify\" a work means to copy from or adapt all or part of the work\nin a fashion requiring copyright permission, other than the making of an\nexact copy.  The resulting work is called a \"modified version\" of the\nearlier work or a work \"based on\" the earlier work.\n\n  A \"covered work\" means either the unmodified Program or a work based\non the Program.\n\n  To \"propagate\" a work means to do anything with it that, without\npermission, would make you directly or secondarily liable for\ninfringement under applicable copyright law, except executing it on a\ncomputer or modifying a private copy.  Propagation includes copying,\ndistribution (with or without modification), making available to the\npublic, and in some countries other activities as well.\n\n  To \"convey\" a work means any kind of propagation that enables other\nparties to make or receive copies.  Mere interaction with a user through\na computer network, with no transfer of a copy, is not conveying.\n\n  An interactive user interface displays \"Appropriate Legal Notices\"\nto the extent that it includes a convenient and prominently visible\nfeature that (1) displays an appropriate copyright notice, and (2)\ntells the user that there is no warranty for the work (except to the\nextent that warranties are provided), that licensees may convey the\nwork under this License, and how to view a copy of this License.  If\nthe interface presents a list of user commands or options, such as a\nmenu, a prominent item in the list meets this criterion.\n\n  1. Source Code.\n\n  The \"source code\" for a work means the preferred form of the work\nfor making modifications to it.  \"Object code\" means any non-source\nform of a work.\n\n  A \"Standard Interface\" means an interface that either is an official\nstandard defined by a recognized standards body, or, in the case of\ninterfaces specified for a particular programming language, one that\nis widely used among developers working in that language.\n\n  The \"System Libraries\" of an executable work include anything, other\nthan the work as a whole, that (a) is included in the normal form of\npackaging a Major Component, but which is not part of that Major\nComponent, and (b) serves only to enable use of the work with that\nMajor Component, or to implement a Standard Interface for which an\nimplementation is available to the public in source code form.  A\n\"Major Component\", in this context, means a major essential component\n(kernel, window system, and so on) of the specific operating system\n(if any) on which the executable work runs, or a compiler used to\nproduce the work, or an object code interpreter used to run it.\n\n  The \"Corresponding Source\" for a work in object code form means all\nthe source code needed to generate, install, and (for an executable\nwork) run the object code and to modify the work, including scripts to\ncontrol those activities.  However, it does not include the work's\nSystem Libraries, or general-purpose tools or generally available free\nprograms which are used unmodified in performing those activities but\nwhich are not part of the work.  For example, Corresponding Source\nincludes interface definition files associated with source files for\nthe work, and the source code for shared libraries and dynamically\nlinked subprograms that the work is specifically designed to require,\nsuch as by intimate data communication or control flow between those\nsubprograms and other parts of the work.\n\n  The Corresponding Source need not include anything that users\ncan regenerate automatically from other parts of the Corresponding\nSource.\n\n  The Corresponding Source for a work in source code form is that\nsame work.\n\n  2. Basic Permissions.\n\n  All rights granted under this License are granted for the term of\ncopyright on the Program, and are irrevocable provided the stated\nconditions are met.  This License explicitly affirms your unlimited\npermission to run the unmodified Program.  The output from running a\ncovered work is covered by this License only if the output, given its\ncontent, constitutes a covered work.  This License acknowledges your\nrights of fair use or other equivalent, as provided by copyright law.\n\n  You may make, run and propagate covered works that you do not\nconvey, without conditions so long as your license otherwise remains\nin force.  You may convey covered works to others for the sole purpose\nof having them make modifications exclusively for you, or provide you\nwith facilities for running those works, provided that you comply with\nthe terms of this License in conveying all material for which you do\nnot control copyright.  Those thus making or running the covered works\nfor you must do so exclusively on your behalf, under your direction\nand control, on terms that prohibit them from making any copies of\nyour copyrighted material outside their relationship with you.\n\n  Conveying under any other circumstances is permitted solely under\nthe conditions stated below.  Sublicensing is not allowed; section 10\nmakes it unnecessary.\n\n  3. Protecting Users' Legal Rights From Anti-Circumvention Law.\n\n  No covered work shall be deemed part of an effective technological\nmeasure under any applicable law fulfilling obligations under article\n11 of the WIPO copyright treaty adopted on 20 December 1996, or\nsimilar laws prohibiting or restricting circumvention of such\nmeasures.\n\n  When you convey a covered work, you waive any legal power to forbid\ncircumvention of technological measures to the extent such circumvention\nis effected by exercising rights under this License with respect to\nthe covered work, and you disclaim any intention to limit operation or\nmodification of the work as a means of enforcing, against the work's\nusers, your or third parties' legal rights to forbid circumvention of\ntechnological measures.\n\n  4. Conveying Verbatim Copies.\n\n  You may convey verbatim copies of the Program's source code as you\nreceive it, in any medium, provided that you conspicuously and\nappropriately publish on each copy an appropriate copyright notice;\nkeep intact all notices stating that this License and any\nnon-permissive terms added in accord with section 7 apply to the code;\nkeep intact all notices of the absence of any warranty; and give all\nrecipients a copy of this License along with the Program.\n\n  You may charge any price or no price for each copy that you convey,\nand you may offer support or warranty protection for a fee.\n\n  5. Conveying Modified Source Versions.\n\n  You may convey a work based on the Program, or the modifications to\nproduce it from the Program, in the form of source code under the\nterms of section 4, provided that you also meet all of these conditions:\n\n    a) The work must carry prominent notices stating that you modified\n    it, and giving a relevant date.\n\n    b) The work must carry prominent notices stating that it is\n    released under this License and any conditions added under section\n    7.  This requirement modifies the requirement in section 4 to\n    \"keep intact all notices\".\n\n    c) You must license the entire work, as a whole, under this\n    License to anyone who comes into possession of a copy.  This\n    License will therefore apply, along with any applicable section 7\n    additional terms, to the whole of the work, and all its parts,\n    regardless of how they are packaged.  This License gives no\n    permission to license the work in any other way, but it does not\n    invalidate such permission if you have separately received it.\n\n    d) If the work has interactive user interfaces, each must display\n    Appropriate Legal Notices; however, if the Program has interactive\n    interfaces that do not display Appropriate Legal Notices, your\n    work need not make them do so.\n\n  A compilation of a covered work with other separate and independent\nworks, which are not by their nature extensions of the covered work,\nand which are not combined with it such as to form a larger program,\nin or on a volume of a storage or distribution medium, is called an\n\"aggregate\" if the compilation and its resulting copyright are not\nused to limit the access or legal rights of the compilation's users\nbeyond what the individual works permit.  Inclusion of a covered work\nin an aggregate does not cause this License to apply to the other\nparts of the aggregate.\n\n  6. Conveying Non-Source Forms.\n\n  You may convey a covered work in object code form under the terms\nof sections 4 and 5, provided that you also convey the\nmachine-readable Corresponding Source under the terms of this License,\nin one of these ways:\n\n    a) Convey the object code in, or embodied in, a physical product\n    (including a physical distribution medium), accompanied by the\n    Corresponding Source fixed on a durable physical medium\n    customarily used for software interchange.\n\n    b) Convey the object code in, or embodied in, a physical product\n    (including a physical distribution medium), accompanied by a\n    written offer, valid for at least three years and valid for as\n    long as you offer spare parts or customer support for that product\n    model, to give anyone who possesses the object code either (1) a\n    copy of the Corresponding Source for all the software in the\n    product that is covered by this License, on a durable physical\n    medium customarily used for software interchange, for a price no\n    more than your reasonable cost of physically performing this\n    conveying of source, or (2) access to copy the\n    Corresponding Source from a network server at no charge.\n\n    c) Convey individual copies of the object code with a copy of the\n    written offer to provide the Corresponding Source.  This\n    alternative is allowed only occasionally and noncommercially, and\n    only if you received the object code with such an offer, in accord\n    with subsection 6b.\n\n    d) Convey the object code by offering access from a designated\n    place (gratis or for a charge), and offer equivalent access to the\n    Corresponding Source in the same way through the same place at no\n    further charge.  You need not require recipients to copy the\n    Corresponding Source along with the object code.  If the place to\n    copy the object code is a network server, the Corresponding Source\n    may be on a different server (operated by you or a third party)\n    that supports equivalent copying facilities, provided you maintain\n    clear directions next to the object code saying where to find the\n    Corresponding Source.  Regardless of what server hosts the\n    Corresponding Source, you remain obligated to ensure that it is\n    available for as long as needed to satisfy these requirements.\n\n    e) Convey the object code using peer-to-peer transmission, provided\n    you inform other peers where the object code and Corresponding\n    Source of the work are being offered to the general public at no\n    charge under subsection 6d.\n\n  A separable portion of the object code, whose source code is excluded\nfrom the Corresponding Source as a System Library, need not be\nincluded in conveying the object code work.\n\n  A \"User Product\" is either (1) a \"consumer product\", which means any\ntangible personal property which is normally used for personal, family,\nor household purposes, or (2) anything designed or sold for incorporation\ninto a dwelling.  In determining whether a product is a consumer product,\ndoubtful cases shall be resolved in favor of coverage.  For a particular\nproduct received by a particular user, \"normally used\" refers to a\ntypical or common use of that class of product, regardless of the status\nof the particular user or of the way in which the particular user\nactually uses, or expects or is expected to use, the product.  A product\nis a consumer product regardless of whether the product has substantial\ncommercial, industrial or non-consumer uses, unless such uses represent\nthe only significant mode of use of the product.\n\n  \"Installation Information\" for a User Product means any methods,\nprocedures, authorization keys, or other information required to install\nand execute modified versions of a covered work in that User Product from\na modified version of its Corresponding Source.  The information must\nsuffice to ensure that the continued functioning of the modified object\ncode is in no case prevented or interfered with solely because\nmodification has been made.\n\n  If you convey an object code work under this section in, or with, or\nspecifically for use in, a User Product, and the conveying occurs as\npart of a transaction in which the right of possession and use of the\nUser Product is transferred to the recipient in perpetuity or for a\nfixed term (regardless of how the transaction is characterized), the\nCorresponding Source conveyed under this section must be accompanied\nby the Installation Information.  But this requirement does not apply\nif neither you nor any third party retains the ability to install\nmodified object code on the User Product (for example, the work has\nbeen installed in ROM).\n\n  The requirement to provide Installation Information does not include a\nrequirement to continue to provide support service, warranty, or updates\nfor a work that has been modified or installed by the recipient, or for\nthe User Product in which it has been modified or installed.  Access to a\nnetwork may be denied when the modification itself materially and\nadversely affects the operation of the network or violates the rules and\nprotocols for communication across the network.\n\n  Corresponding Source conveyed, and Installation Information provided,\nin accord with this section must be in a format that is publicly\ndocumented (and with an implementation available to the public in\nsource code form), and must require no special password or key for\nunpacking, reading or copying.\n\n  7. Additional Terms.\n\n  \"Additional permissions\" are terms that supplement the terms of this\nLicense by making exceptions from one or more of its conditions.\nAdditional permissions that are applicable to the entire Program shall\nbe treated as though they were included in this License, to the extent\nthat they are valid under applicable law.  If additional permissions\napply only to part of the Program, that part may be used separately\nunder those permissions, but the entire Program remains governed by\nthis License without regard to the additional permissions.\n\n  When you convey a copy of a covered work, you may at your option\nremove any additional permissions from that copy, or from any part of\nit.  (Additional permissions may be written to require their own\nremoval in certain cases when you modify the work.)  You may place\nadditional permissions on material, added by you to a covered work,\nfor which you have or can give appropriate copyright permission.\n\n  Notwithstanding any other provision of this License, for material you\nadd to a covered work, you may (if authorized by the copyright holders of\nthat material) supplement the terms of this License with terms:\n\n    a) Disclaiming warranty or limiting liability differently from the\n    terms of sections 15 and 16 of this License; or\n\n    b) Requiring preservation of specified reasonable legal notices or\n    author attributions in that material or in the Appropriate Legal\n    Notices displayed by works containing it; or\n\n    c) Prohibiting misrepresentation of the origin of that material, or\n    requiring that modified versions of such material be marked in\n    reasonable ways as different from the original version; or\n\n    d) Limiting the use for publicity purposes of names of licensors or\n    authors of the material; or\n\n    e) Declining to grant rights under trademark law for use of some\n    trade names, trademarks, or service marks; or\n\n    f) Requiring indemnification of licensors and authors of that\n    material by anyone who conveys the material (or modified versions of\n    it) with contractual assumptions of liability to the recipient, for\n    any liability that these contractual assumptions directly impose on\n    those licensors and authors.\n\n  All other non-permissive additional terms are considered \"further\nrestrictions\" within the meaning of section 10.  If the Program as you\nreceived it, or any part of it, contains a notice stating that it is\ngoverned by this License along with a term that is a further\nrestriction, you may remove that term.  If a license document contains\na further restriction but permits relicensing or conveying under this\nLicense, you may add to a covered work material governed by the terms\nof that license document, provided that the further restriction does\nnot survive such relicensing or conveying.\n\n  If you add terms to a covered work in accord with this section, you\nmust place, in the relevant source files, a statement of the\nadditional terms that apply to those files, or a notice indicating\nwhere to find the applicable terms.\n\n  Additional terms, permissive or non-permissive, may be stated in the\nform of a separately written license, or stated as exceptions;\nthe above requirements apply either way.\n\n  8. Termination.\n\n  You may not propagate or modify a covered work except as expressly\nprovided under this License.  Any attempt otherwise to propagate or\nmodify it is void, and will automatically terminate your rights under\nthis License (including any patent licenses granted under the third\nparagraph of section 11).\n\n  However, if you cease all violation of this License, then your\nlicense from a particular copyright holder is reinstated (a)\nprovisionally, unless and until the copyright holder explicitly and\nfinally terminates your license, and (b) permanently, if the copyright\nholder fails to notify you of the violation by some reasonable means\nprior to 60 days after the cessation.\n\n  Moreover, your license from a particular copyright holder is\nreinstated permanently if the copyright holder notifies you of the\nviolation by some reasonable means, this is the first time you have\nreceived notice of violation of this License (for any work) from that\ncopyright holder, and you cure the violation prior to 30 days after\nyour receipt of the notice.\n\n  Termination of your rights under this section does not terminate the\nlicenses of parties who have received copies or rights from you under\nthis License.  If your rights have been terminated and not permanently\nreinstated, you do not qualify to receive new licenses for the same\nmaterial under section 10.\n\n  9. Acceptance Not Required for Having Copies.\n\n  You are not required to accept this License in order to receive or\nrun a copy of the Program.  Ancillary propagation of a covered work\noccurring solely as a consequence of using peer-to-peer transmission\nto receive a copy likewise does not require acceptance.  However,\nnothing other than this License grants you permission to propagate or\nmodify any covered work.  These actions infringe copyright if you do\nnot accept this License.  Therefore, by modifying or propagating a\ncovered work, you indicate your acceptance of this License to do so.\n\n  10. Automatic Licensing of Downstream Recipients.\n\n  Each time you convey a covered work, the recipient automatically\nreceives a license from the original licensors, to run, modify and\npropagate that work, subject to this License.  You are not responsible\nfor enforcing compliance by third parties with this License.\n\n  An \"entity transaction\" is a transaction transferring control of an\norganization, or substantially all assets of one, or subdividing an\norganization, or merging organizations.  If propagation of a covered\nwork results from an entity transaction, each party to that\ntransaction who receives a copy of the work also receives whatever\nlicenses to the work the party's predecessor in interest had or could\ngive under the previous paragraph, plus a right to possession of the\nCorresponding Source of the work from the predecessor in interest, if\nthe predecessor has it or can get it with reasonable efforts.\n\n  You may not impose any further restrictions on the exercise of the\nrights granted or affirmed under this License.  For example, you may\nnot impose a license fee, royalty, or other charge for exercise of\nrights granted under this License, and you may not initiate litigation\n(including a cross-claim or counterclaim in a lawsuit) alleging that\nany patent claim is infringed by making, using, selling, offering for\nsale, or importing the Program or any portion of it.\n\n  11. Patents.\n\n  A \"contributor\" is a copyright holder who authorizes use under this\nLicense of the Program or a work on which the Program is based.  The\nwork thus licensed is called the contributor's \"contributor version\".\n\n  A contributor's \"essential patent claims\" are all patent claims\nowned or controlled by the contributor, whether already acquired or\nhereafter acquired, that would be infringed by some manner, permitted\nby this License, of making, using, or selling its contributor version,\nbut do not include claims that would be infringed only as a\nconsequence of further modification of the contributor version.  For\npurposes of this definition, \"control\" includes the right to grant\npatent sublicenses in a manner consistent with the requirements of\nthis License.\n\n  Each contributor grants you a non-exclusive, worldwide, royalty-free\npatent license under the contributor's essential patent claims, to\nmake, use, sell, offer for sale, import and otherwise run, modify and\npropagate the contents of its contributor version.\n\n  In the following three paragraphs, a \"patent license\" is any express\nagreement or commitment, however denominated, not to enforce a patent\n(such as an express permission to practice a patent or covenant not to\nsue for patent infringement).  To \"grant\" such a patent license to a\nparty means to make such an agreement or commitment not to enforce a\npatent against the party.\n\n  If you convey a covered work, knowingly relying on a patent license,\nand the Corresponding Source of the work is not available for anyone\nto copy, free of charge and under the terms of this License, through a\npublicly available network server or other readily accessible means,\nthen you must either (1) cause the Corresponding Source to be so\navailable, or (2) arrange to deprive yourself of the benefit of the\npatent license for this particular work, or (3) arrange, in a manner\nconsistent with the requirements of this License, to extend the patent\nlicense to downstream recipients.  \"Knowingly relying\" means you have\nactual knowledge that, but for the patent license, your conveying the\ncovered work in a country, or your recipient's use of the covered work\nin a country, would infringe one or more identifiable patents in that\ncountry that you have reason to believe are valid.\n\n  If, pursuant to or in connection with a single transaction or\narrangement, you convey, or propagate by procuring conveyance of, a\ncovered work, and grant a patent license to some of the parties\nreceiving the covered work authorizing them to use, propagate, modify\nor convey a specific copy of the covered work, then the patent license\nyou grant is automatically extended to all recipients of the covered\nwork and works based on it.\n\n  A patent license is \"discriminatory\" if it does not include within\nthe scope of its coverage, prohibits the exercise of, or is\nconditioned on the non-exercise of one or more of the rights that are\nspecifically granted under this License.  You may not convey a covered\nwork if you are a party to an arrangement with a third party that is\nin the business of distributing software, under which you make payment\nto the third party based on the extent of your activity of conveying\nthe work, and under which the third party grants, to any of the\nparties who would receive the covered work from you, a discriminatory\npatent license (a) in connection with copies of the covered work\nconveyed by you (or copies made from those copies), or (b) primarily\nfor and in connection with specific products or compilations that\ncontain the covered work, unless you entered into that arrangement,\nor that patent license was granted, prior to 28 March 2007.\n\n  Nothing in this License shall be construed as excluding or limiting\nany implied license or other defenses to infringement that may\notherwise be available to you under applicable patent law.\n\n  12. No Surrender of Others' Freedom.\n\n  If conditions are imposed on you (whether by court order, agreement or\notherwise) that contradict the conditions of this License, they do not\nexcuse you from the conditions of this License.  If you cannot convey a\ncovered work so as to satisfy simultaneously your obligations under this\nLicense and any other pertinent obligations, then as a consequence you may\nnot convey it at all.  For example, if you agree to terms that obligate you\nto collect a royalty for further conveying from those to whom you convey\nthe Program, the only way you could satisfy both those terms and this\nLicense would be to refrain entirely from conveying the Program.\n\n  13. Use with the GNU Affero General Public License.\n\n  Notwithstanding any other provision of this License, you have\npermission to link or combine any covered work with a work licensed\nunder version 3 of the GNU Affero General Public License into a single\ncombined work, and to convey the resulting work.  The terms of this\nLicense will continue to apply to the part which is the covered work,\nbut the special requirements of the GNU Affero General Public License,\nsection 13, concerning interaction through a network will apply to the\ncombination as such.\n\n  14. Revised Versions of this License.\n\n  The Free Software Foundation may publish revised and/or new versions of\nthe GNU General Public License from time to time.  Such new versions will\nbe similar in spirit to the present version, but may differ in detail to\naddress new problems or concerns.\n\n  Each version is given a distinguishing version number.  If the\nProgram specifies that a certain numbered version of the GNU General\nPublic License \"or any later version\" applies to it, you have the\noption of following the terms and conditions either of that numbered\nversion or of any later version published by the Free Software\nFoundation.  If the Program does not specify a version number of the\nGNU General Public License, you may choose any version ever published\nby the Free Software Foundation.\n\n  If the Program specifies that a proxy can decide which future\nversions of the GNU General Public License can be used, that proxy's\npublic statement of acceptance of a version permanently authorizes you\nto choose that version for the Program.\n\n  Later license versions may give you additional or different\npermissions.  However, no additional obligations are imposed on any\nauthor or copyright holder as a result of your choosing to follow a\nlater version.\n\n  15. Disclaimer of Warranty.\n\n  THERE IS NO WARRANTY FOR THE PROGRAM, TO THE EXTENT PERMITTED BY\nAPPLICABLE LAW.  EXCEPT WHEN OTHERWISE STATED IN WRITING THE COPYRIGHT\nHOLDERS AND/OR OTHER PARTIES PROVIDE THE PROGRAM \"AS IS\" WITHOUT WARRANTY\nOF ANY KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO,\nTHE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\nPURPOSE.  THE ENTIRE RISK AS TO THE QUALITY AND PERFORMANCE OF THE PROGRAM\nIS WITH YOU.  SHOULD THE PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF\nALL NECESSARY SERVICING, REPAIR OR CORRECTION.\n\n  16. Limitation of Liability.\n\n  IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING\nWILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MODIFIES AND/OR CONVEYS\nTHE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES, INCLUDING ANY\nGENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING OUT OF THE\nUSE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED TO LOSS OF\nDATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY YOU OR THIRD\nPARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER PROGRAMS),\nEVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF\nSUCH DAMAGES.\n\n  17. Interpretation of Sections 15 and 16.\n\n  If the disclaimer of warranty and limitation of liability provided\nabove cannot be given local legal effect according to their terms,\nreviewing courts shall apply local law that most closely approximates\nan absolute waiver of all civil liability in connection with the\nProgram, unless a warranty or assumption of liability accompanies a\ncopy of the Program in return for a fee.\n\n                     END OF TERMS AND CONDITIONS\n\n            How to Apply These Terms to Your New Programs\n\n  If you develop a new program, and you want it to be of the greatest\npossible use to the public, the best way to achieve this is to make it\nfree software which everyone can redistribute and change under these terms.\n\n  To do so, attach the following notices to the program.  It is safest\nto attach them to the start of each source file to most effectively\nstate the exclusion of warranty; and each file should have at least\nthe \"copyright\" line and a pointer to where the full notice is found.\n\n    <one line to give the program's name and a brief idea of what it does.>\n    Copyright (C) <year>  <name of author>\n\n    This program is free software: you can redistribute it and/or modify\n    it under the terms of the GNU General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    This program is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU General Public License for more details.\n\n    You should have received a copy of the GNU General Public License\n    along with this program.  If not, see <https://www.gnu.org/licenses/>.\n\nAlso add information on how to contact you by electronic and paper mail.\n\n  If the program does terminal interaction, make it output a short\nnotice like this when it starts in an interactive mode:\n\n    <program>  Copyright (C) <year>  <name of author>\n    This program comes with ABSOLUTELY NO WARRANTY; for details type `show w'.\n    This is free software, and you are welcome to redistribute it\n    under certain conditions; type `show c' for details.\n\nThe hypothetical commands `show w' and `show c' should show the appropriate\nparts of the General Public License.  Of course, your program's commands\nmight be different; for a GUI interface, you would use an \"about box\".\n\n  You should also get your employer (if you work as a programmer) or school,\nif any, to sign a \"copyright disclaimer\" for the program, if necessary.\nFor more information on this, and how to apply and follow the GNU GPL, see\n<https://www.gnu.org/licenses/>.\n\n  The GNU General Public License does not permit incorporating your program\ninto proprietary programs.  If your program is a subroutine library, you\nmay consider it more useful to permit linking proprietary applications with\nthe library.  If this is what you want to do, use the GNU Lesser General\nPublic License instead of this License.  But first, please read\n<https://www.gnu.org/licenses/why-not-lgpl.html>.\n"
        },
        {
          "name": "LICENSE.rtf",
          "type": "blob",
          "size": 39.412109375,
          "content": "{\\rtf1\\ansi\\deff0{\\fonttbl{\\f0 \\fswiss Helvetica;}{\\f1 Courier;}}\n{\\colortbl;\\red255\\green0\\blue0;\\red0\\green0\\blue255;}\n\\widowctrl\\hyphauto\n\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 \\b \\fs28 GNU GENERAL PUBLIC LICENSE\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 Version 3, 29 June 2007\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 Copyright \\u169? 2007 Free Software Foundation, Inc. <{\\field{\\*\\fldinst{HYPERLINK \"https://fsf.org/\"}}{\\fldrslt{\\ul\nhttps://fsf.org/\n}}}\n>\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 Everyone is permitted to copy and distribute verbatim copies of this license document, but changing it is not allowed.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 \\b \\fs28 Preamble\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 The GNU General Public License is a free, copyleft license for software and other kinds of works.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 The licenses for most software and other practical works are designed to take away your freedom to share and change the works. By contrast, the GNU General Public License is intended to guarantee your freedom to share and change all versions of a program--to make sure it remains free software for all its users. We, the Free Software Foundation, use the GNU General Public License for most of our software; it applies also to any other work released this way by its authors. You can apply it to your programs, too.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 When we speak of free software, we are referring to freedom, not price. Our General Public Licenses are designed to make sure that you have the freedom to distribute copies of free software (and charge for them if you wish), that you receive source code or can get it if you want it, that you can change the software or use pieces of it in new free programs, and that you know you can do these things.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 To protect your rights, we need to prevent others from denying you these rights or asking you to surrender the rights. Therefore, you have certain responsibilities if you distribute copies of the software, or if you modify it: responsibilities to respect the freedom of others.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 For example, if you distribute copies of such a program, whether gratis or for a fee, you must pass on to the recipients the same freedoms that you received. You must make sure that they, too, receive or can get the source code. And you must show them these terms so they know their rights.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 Developers that use the GNU GPL protect your rights with two steps: (1) assert copyright on the software, and (2) offer you this License giving you legal permission to copy, distribute and/or modify it.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 For the developers' and authors' protection, the GPL clearly explains that there is no warranty for this free software. For both users' and authors' sake, the GPL requires that modified versions be marked as changed, so that their problems will not be attributed erroneously to authors of previous versions.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 Some devices are designed to deny users access to install or run modified versions of the software inside them, although the manufacturer can do so. This is fundamentally incompatible with the aim of protecting users' freedom to change the software. The systematic pattern of such abuse occurs in the area of products for individuals to use, which is precisely where it is most unacceptable. Therefore, we have designed this version of the GPL to prohibit the practice for those products. If such problems arise substantially in other domains, we stand ready to extend this provision to those domains in future versions of the GPL, as needed to protect the freedom of users.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 Finally, every program is threatened constantly by software patents. States should not allow patents to restrict development and use of software on general-purpose computers, but in those that do, we wish to avoid the special danger that patents applied to a free program could make it effectively proprietary. To prevent this, the GPL assures that patents cannot be used to render the program non-free.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 The precise terms and conditions for copying, distribution and modification follow.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 \\b \\fs28 TERMS AND CONDITIONS\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 \\b \\fs24 0. Definitions.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 \\u8220\"This License\\u8221\" refers to version 3 of the GNU General Public License.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 \\u8220\"Copyright\\u8221\" also means copyright-like laws that apply to other kinds of works, such as semiconductor masks.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 \\u8220\"The Program\\u8221\" refers to any copyrightable work licensed under this License. Each licensee is addressed as \\u8220\"you\\u8221\". \\u8220\"Licensees\\u8221\" and \\u8220\"recipients\\u8221\" may be individuals or organizations.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 To \\u8220\"modify\\u8221\" a work means to copy from or adapt all or part of the work in a fashion requiring copyright permission, other than the making of an exact copy. The resulting work is called a \\u8220\"modified version\\u8221\" of the earlier work or a work \\u8220\"based on\\u8221\" the earlier work.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 A \\u8220\"covered work\\u8221\" means either the unmodified Program or a work based on the Program.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 To \\u8220\"propagate\\u8221\" a work means to do anything with it that, without permission, would make you directly or secondarily liable for infringement under applicable copyright law, except executing it on a computer or modifying a private copy. Propagation includes copying, distribution (with or without modification), making available to the public, and in some countries other activities as well.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 To \\u8220\"convey\\u8221\" a work means any kind of propagation that enables other parties to make or receive copies. Mere interaction with a user through a computer network, with no transfer of a copy, is not conveying.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 An interactive user interface displays \\u8220\"Appropriate Legal Notices\\u8221\" to the extent that it includes a convenient and prominently visible feature that (1) displays an appropriate copyright notice, and (2) tells the user that there is no warranty for the work (except to the extent that warranties are provided), that licensees may convey the work under this License, and how to view a copy of this License. If the interface presents a list of user commands or options, such as a menu, a prominent item in the list meets this criterion.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 \\b \\fs24 1. Source Code.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 The \\u8220\"source code\\u8221\" for a work means the preferred form of the work for making modifications to it. \\u8220\"Object code\\u8221\" means any non-source form of a work.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 A \\u8220\"Standard Interface\\u8221\" means an interface that either is an official standard defined by a recognized standards body, or, in the case of interfaces specified for a particular programming language, one that is widely used among developers working in that language.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 The \\u8220\"System Libraries\\u8221\" of an executable work include anything, other than the work as a whole, that (a) is included in the normal form of packaging a Major Component, but which is not part of that Major Component, and (b) serves only to enable use of the work with that Major Component, or to implement a Standard Interface for which an implementation is available to the public in source code form. A \\u8220\"Major Component\\u8221\", in this context, means a major essential component (kernel, window system, and so on) of the specific operating system (if any) on which the executable work runs, or a compiler used to produce the work, or an object code interpreter used to run it.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 The \\u8220\"Corresponding Source\\u8221\" for a work in object code form means all the source code needed to generate, install, and (for an executable work) run the object code and to modify the work, including scripts to control those activities. However, it does not include the work's System Libraries, or general-purpose tools or generally available free programs which are used unmodified in performing those activities but which are not part of the work. For example, Corresponding Source includes interface definition files associated with source files for the work, and the source code for shared libraries and dynamically linked subprograms that the work is specifically designed to require, such as by intimate data communication or control flow between those subprograms and other parts of the work.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 The Corresponding Source need not include anything that users can regenerate automatically from other parts of the Corresponding Source.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 The Corresponding Source for a work in source code form is that same work.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 \\b \\fs24 2. Basic Permissions.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 All rights granted under this License are granted for the term of copyright on the Program, and are irrevocable provided the stated conditions are met. This License explicitly affirms your unlimited permission to run the unmodified Program. The output from running a covered work is covered by this License only if the output, given its content, constitutes a covered work. This License acknowledges your rights of fair use or other equivalent, as provided by copyright law.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 You may make, run and propagate covered works that you do not convey, without conditions so long as your license otherwise remains in force. You may convey covered works to others for the sole purpose of having them make modifications exclusively for you, or provide you with facilities for running those works, provided that you comply with the terms of this License in conveying all material for which you do not control copyright. Those thus making or running the covered works for you must do so exclusively on your behalf, under your direction and control, on terms that prohibit them from making any copies of your copyrighted material outside their relationship with you.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 Conveying under any other circumstances is permitted solely under the conditions stated below. Sublicensing is not allowed; section 10 makes it unnecessary.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 \\b \\fs24 3. Protecting Users' Legal Rights From Anti-Circumvention Law.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 No covered work shall be deemed part of an effective technological measure under any applicable law fulfilling obligations under article 11 of the WIPO copyright treaty adopted on 20 December 1996, or similar laws prohibiting or restricting circumvention of such measures.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 When you convey a covered work, you waive any legal power to forbid circumvention of technological measures to the extent such circumvention is effected by exercising rights under this License with respect to the covered work, and you disclaim any intention to limit operation or modification of the work as a means of enforcing, against the work's users, your or third parties' legal rights to forbid circumvention of technological measures.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 \\b \\fs24 4. Conveying Verbatim Copies.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 You may convey verbatim copies of the Program's source code as you receive it, in any medium, provided that you conspicuously and appropriately publish on each copy an appropriate copyright notice; keep intact all notices stating that this License and any non-permissive terms added in accord with section 7 apply to the code; keep intact all notices of the absence of any warranty; and give all recipients a copy of this License along with the Program.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 You may charge any price or no price for each copy that you convey, and you may offer support or warranty protection for a fee.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 \\b \\fs24 5. Conveying Modified Source Versions.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 You may convey a work based on the Program, or the modifications to produce it from the Program, in the form of source code under the terms of section 4, provided that you also meet all of these conditions:\\par}\n{\\pard \\ql \\f0 \\sa0 \\li360 \\fi-360 \\bullet \\tx360\\tab a) The work must carry prominent notices stating that you modified it, and giving a relevant date.\\par}\n{\\pard \\ql \\f0 \\sa0 \\li360 \\fi-360 \\bullet \\tx360\\tab b) The work must carry prominent notices stating that it is released under this License and any conditions added under section 7. This requirement modifies the requirement in section 4 to \\u8220\"keep intact all notices\\u8221\".\\par}\n{\\pard \\ql \\f0 \\sa0 \\li360 \\fi-360 \\bullet \\tx360\\tab c) You must license the entire work, as a whole, under this License to anyone who comes into possession of a copy. This License will therefore apply, along with any applicable section 7 additional terms, to the whole of the work, and all its parts, regardless of how they are packaged. This License gives no permission to license the work in any other way, but it does not invalidate such permission if you have separately received it.\\par}\n{\\pard \\ql \\f0 \\sa0 \\li360 \\fi-360 \\bullet \\tx360\\tab d) If the work has interactive user interfaces, each must display Appropriate Legal Notices; however, if the Program has interactive interfaces that do not display Appropriate Legal Notices, your work need not make them do so.\\sa180\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 A compilation of a covered work with other separate and independent works, which are not by their nature extensions of the covered work, and which are not combined with it such as to form a larger program, in or on a volume of a storage or distribution medium, is called an \\u8220\"aggregate\\u8221\" if the compilation and its resulting copyright are not used to limit the access or legal rights of the compilation's users beyond what the individual works permit. Inclusion of a covered work in an aggregate does not cause this License to apply to the other parts of the aggregate.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 \\b \\fs24 6. Conveying Non-Source Forms.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 You may convey a covered work in object code form under the terms of sections 4 and 5, provided that you also convey the machine-readable Corresponding Source under the terms of this License, in one of these ways:\\par}\n{\\pard \\ql \\f0 \\sa0 \\li360 \\fi-360 \\bullet \\tx360\\tab a) Convey the object code in, or embodied in, a physical product (including a physical distribution medium), accompanied by the Corresponding Source fixed on a durable physical medium customarily used for software interchange.\\par}\n{\\pard \\ql \\f0 \\sa0 \\li360 \\fi-360 \\bullet \\tx360\\tab b) Convey the object code in, or embodied in, a physical product (including a physical distribution medium), accompanied by a written offer, valid for at least three years and valid for as long as you offer spare parts or customer support for that product model, to give anyone who possesses the object code either (1) a copy of the Corresponding Source for all the software in the product that is covered by this License, on a durable physical medium customarily used for software interchange, for a price no more than your reasonable cost of physically performing this conveying of source, or (2) access to copy the Corresponding Source from a network server at no charge.\\par}\n{\\pard \\ql \\f0 \\sa0 \\li360 \\fi-360 \\bullet \\tx360\\tab c) Convey individual copies of the object code with a copy of the written offer to provide the Corresponding Source. This alternative is allowed only occasionally and noncommercially, and only if you received the object code with such an offer, in accord with subsection 6b.\\par}\n{\\pard \\ql \\f0 \\sa0 \\li360 \\fi-360 \\bullet \\tx360\\tab d) Convey the object code by offering access from a designated place (gratis or for a charge), and offer equivalent access to the Corresponding Source in the same way through the same place at no further charge. You need not require recipients to copy the Corresponding Source along with the object code. If the place to copy the object code is a network server, the Corresponding Source may be on a different server (operated by you or a third party) that supports equivalent copying facilities, provided you maintain clear directions next to the object code saying where to find the Corresponding Source. Regardless of what server hosts the Corresponding Source, you remain obligated to ensure that it is available for as long as needed to satisfy these requirements.\\par}\n{\\pard \\ql \\f0 \\sa0 \\li360 \\fi-360 \\bullet \\tx360\\tab e) Convey the object code using peer-to-peer transmission, provided you inform other peers where the object code and Corresponding Source of the work are being offered to the general public at no charge under subsection 6d.\\sa180\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 A separable portion of the object code, whose source code is excluded from the Corresponding Source as a System Library, need not be included in conveying the object code work.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 A \\u8220\"User Product\\u8221\" is either (1) a \\u8220\"consumer product\\u8221\", which means any tangible personal property which is normally used for personal, family, or household purposes, or (2) anything designed or sold for incorporation into a dwelling. In determining whether a product is a consumer product, doubtful cases shall be resolved in favor of coverage. For a particular product received by a particular user, \\u8220\"normally used\\u8221\" refers to a typical or common use of that class of product, regardless of the status of the particular user or of the way in which the particular user actually uses, or expects or is expected to use, the product. A product is a consumer product regardless of whether the product has substantial commercial, industrial or non-consumer uses, unless such uses represent the only significant mode of use of the product.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 \\u8220\"Installation Information\\u8221\" for a User Product means any methods, procedures, authorization keys, or other information required to install and execute modified versions of a covered work in that User Product from a modified version of its Corresponding Source. The information must suffice to ensure that the continued functioning of the modified object code is in no case prevented or interfered with solely because modification has been made.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 If you convey an object code work under this section in, or with, or specifically for use in, a User Product, and the conveying occurs as part of a transaction in which the right of possession and use of the User Product is transferred to the recipient in perpetuity or for a fixed term (regardless of how the transaction is characterized), the Corresponding Source conveyed under this section must be accompanied by the Installation Information. But this requirement does not apply if neither you nor any third party retains the ability to install modified object code on the User Product (for example, the work has been installed in ROM).\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 The requirement to provide Installation Information does not include a requirement to continue to provide support service, warranty, or updates for a work that has been modified or installed by the recipient, or for the User Product in which it has been modified or installed. Access to a network may be denied when the modification itself materially and adversely affects the operation of the network or violates the rules and protocols for communication across the network.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 Corresponding Source conveyed, and Installation Information provided, in accord with this section must be in a format that is publicly documented (and with an implementation available to the public in source code form), and must require no special password or key for unpacking, reading or copying.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 \\b \\fs24 7. Additional Terms.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 \\u8220\"Additional permissions\\u8221\" are terms that supplement the terms of this License by making exceptions from one or more of its conditions. Additional permissions that are applicable to the entire Program shall be treated as though they were included in this License, to the extent that they are valid under applicable law. If additional permissions apply only to part of the Program, that part may be used separately under those permissions, but the entire Program remains governed by this License without regard to the additional permissions.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 When you convey a copy of a covered work, you may at your option remove any additional permissions from that copy, or from any part of it. (Additional permissions may be written to require their own removal in certain cases when you modify the work.) You may place additional permissions on material, added by you to a covered work, for which you have or can give appropriate copyright permission.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 Notwithstanding any other provision of this License, for material you add to a covered work, you may (if authorized by the copyright holders of that material) supplement the terms of this License with terms:\\par}\n{\\pard \\ql \\f0 \\sa0 \\li360 \\fi-360 \\bullet \\tx360\\tab a) Disclaiming warranty or limiting liability differently from the terms of sections 15 and 16 of this License; or\\par}\n{\\pard \\ql \\f0 \\sa0 \\li360 \\fi-360 \\bullet \\tx360\\tab b) Requiring preservation of specified reasonable legal notices or author attributions in that material or in the Appropriate Legal Notices displayed by works containing it; or\\par}\n{\\pard \\ql \\f0 \\sa0 \\li360 \\fi-360 \\bullet \\tx360\\tab c) Prohibiting misrepresentation of the origin of that material, or requiring that modified versions of such material be marked in reasonable ways as different from the original version; or\\par}\n{\\pard \\ql \\f0 \\sa0 \\li360 \\fi-360 \\bullet \\tx360\\tab d) Limiting the use for publicity purposes of names of licensors or authors of the material; or\\par}\n{\\pard \\ql \\f0 \\sa0 \\li360 \\fi-360 \\bullet \\tx360\\tab e) Declining to grant rights under trademark law for use of some trade names, trademarks, or service marks; or\\par}\n{\\pard \\ql \\f0 \\sa0 \\li360 \\fi-360 \\bullet \\tx360\\tab f) Requiring indemnification of licensors and authors of that material by anyone who conveys the material (or modified versions of it) with contractual assumptions of liability to the recipient, for any liability that these contractual assumptions directly impose on those licensors and authors.\\sa180\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 All other non-permissive additional terms are considered \\u8220\"further restrictions\\u8221\" within the meaning of section 10. If the Program as you received it, or any part of it, contains a notice stating that it is governed by this License along with a term that is a further restriction, you may remove that term. If a license document contains a further restriction but permits relicensing or conveying under this License, you may add to a covered work material governed by the terms of that license document, provided that the further restriction does not survive such relicensing or conveying.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 If you add terms to a covered work in accord with this section, you must place, in the relevant source files, a statement of the additional terms that apply to those files, or a notice indicating where to find the applicable terms.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 Additional terms, permissive or non-permissive, may be stated in the form of a separately written license, or stated as exceptions; the above requirements apply either way.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 \\b \\fs24 8. Termination.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 You may not propagate or modify a covered work except as expressly provided under this License. Any attempt otherwise to propagate or modify it is void, and will automatically terminate your rights under this License (including any patent licenses granted under the third paragraph of section 11).\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 However, if you cease all violation of this License, then your license from a particular copyright holder is reinstated (a) provisionally, unless and until the copyright holder explicitly and finally terminates your license, and (b) permanently, if the copyright holder fails to notify you of the violation by some reasonable means prior to 60 days after the cessation.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 Moreover, your license from a particular copyright holder is reinstated permanently if the copyright holder notifies you of the violation by some reasonable means, this is the first time you have received notice of violation of this License (for any work) from that copyright holder, and you cure the violation prior to 30 days after your receipt of the notice.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 Termination of your rights under this section does not terminate the licenses of parties who have received copies or rights from you under this License. If your rights have been terminated and not permanently reinstated, you do not qualify to receive new licenses for the same material under section 10.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 \\b \\fs24 9. Acceptance Not Required for Having Copies.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 You are not required to accept this License in order to receive or run a copy of the Program. Ancillary propagation of a covered work occurring solely as a consequence of using peer-to-peer transmission to receive a copy likewise does not require acceptance. However, nothing other than this License grants you permission to propagate or modify any covered work. These actions infringe copyright if you do not accept this License. Therefore, by modifying or propagating a covered work, you indicate your acceptance of this License to do so.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 \\b \\fs24 10. Automatic Licensing of Downstream Recipients.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 Each time you convey a covered work, the recipient automatically receives a license from the original licensors, to run, modify and propagate that work, subject to this License. You are not responsible for enforcing compliance by third parties with this License.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 An \\u8220\"entity transaction\\u8221\" is a transaction transferring control of an organization, or substantially all assets of one, or subdividing an organization, or merging organizations. If propagation of a covered work results from an entity transaction, each party to that transaction who receives a copy of the work also receives whatever licenses to the work the party's predecessor in interest had or could give under the previous paragraph, plus a right to possession of the Corresponding Source of the work from the predecessor in interest, if the predecessor has it or can get it with reasonable efforts.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 You may not impose any further restrictions on the exercise of the rights granted or affirmed under this License. For example, you may not impose a license fee, royalty, or other charge for exercise of rights granted under this License, and you may not initiate litigation (including a cross-claim or counterclaim in a lawsuit) alleging that any patent claim is infringed by making, using, selling, offering for sale, or importing the Program or any portion of it.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 \\b \\fs24 11. Patents.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 A \\u8220\"contributor\\u8221\" is a copyright holder who authorizes use under this License of the Program or a work on which the Program is based. The work thus licensed is called the contributor's \\u8220\"contributor version\\u8221\".\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 A contributor's \\u8220\"essential patent claims\\u8221\" are all patent claims owned or controlled by the contributor, whether already acquired or hereafter acquired, that would be infringed by some manner, permitted by this License, of making, using, or selling its contributor version, but do not include claims that would be infringed only as a consequence of further modification of the contributor version. For purposes of this definition, \\u8220\"control\\u8221\" includes the right to grant patent sublicenses in a manner consistent with the requirements of this License.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 Each contributor grants you a non-exclusive, worldwide, royalty-free patent license under the contributor's essential patent claims, to make, use, sell, offer for sale, import and otherwise run, modify and propagate the contents of its contributor version.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 In the following three paragraphs, a \\u8220\"patent license\\u8221\" is any express agreement or commitment, however denominated, not to enforce a patent (such as an express permission to practice a patent or covenant not to sue for patent infringement). To \\u8220\"grant\\u8221\" such a patent license to a party means to make such an agreement or commitment not to enforce a patent against the party.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 If you convey a covered work, knowingly relying on a patent license, and the Corresponding Source of the work is not available for anyone to copy, free of charge and under the terms of this License, through a publicly available network server or other readily accessible means, then you must either (1) cause the Corresponding Source to be so available, or (2) arrange to deprive yourself of the benefit of the patent license for this particular work, or (3) arrange, in a manner consistent with the requirements of this License, to extend the patent license to downstream recipients. \\u8220\"Knowingly relying\\u8221\" means you have actual knowledge that, but for the patent license, your conveying the covered work in a country, or your recipient's use of the covered work in a country, would infringe one or more identifiable patents in that country that you have reason to believe are valid.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 If, pursuant to or in connection with a single transaction or arrangement, you convey, or propagate by procuring conveyance of, a covered work, and grant a patent license to some of the parties receiving the covered work authorizing them to use, propagate, modify or convey a specific copy of the covered work, then the patent license you grant is automatically extended to all recipients of the covered work and works based on it.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 A patent license is \\u8220\"discriminatory\\u8221\" if it does not include within the scope of its coverage, prohibits the exercise of, or is conditioned on the non-exercise of one or more of the rights that are specifically granted under this License. You may not convey a covered work if you are a party to an arrangement with a third party that is in the business of distributing software, under which you make payment to the third party based on the extent of your activity of conveying the work, and under which the third party grants, to any of the parties who would receive the covered work from you, a discriminatory patent license (a) in connection with copies of the covered work conveyed by you (or copies made from those copies), or (b) primarily for and in connection with specific products or compilations that contain the covered work, unless you entered into that arrangement, or that patent license was granted, prior to 28 March 2007.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 Nothing in this License shall be construed as excluding or limiting any implied license or other defenses to infringement that may otherwise be available to you under applicable patent law.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 \\b \\fs24 12. No Surrender of Others' Freedom.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 If conditions are imposed on you (whether by court order, agreement or otherwise) that contradict the conditions of this License, they do not excuse you from the conditions of this License. If you cannot convey a covered work so as to satisfy simultaneously your obligations under this License and any other pertinent obligations, then as a consequence you may not convey it at all. For example, if you agree to terms that obligate you to collect a royalty for further conveying from those to whom you convey the Program, the only way you could satisfy both those terms and this License would be to refrain entirely from conveying the Program.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 \\b \\fs24 13. Use with the GNU Affero General Public License.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 Notwithstanding any other provision of this License, you have permission to link or combine any covered work with a work licensed under version 3 of the GNU Affero General Public License into a single combined work, and to convey the resulting work. The terms of this License will continue to apply to the part which is the covered work, but the special requirements of the GNU Affero General Public License, section 13, concerning interaction through a network will apply to the combination as such.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 \\b \\fs24 14. Revised Versions of this License.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 The Free Software Foundation may publish revised and/or new versions of the GNU General Public License from time to time. Such new versions will be similar in spirit to the present version, but may differ in detail to address new problems or concerns.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 Each version is given a distinguishing version number. If the Program specifies that a certain numbered version of the GNU General Public License \\u8220\"or any later version\\u8221\" applies to it, you have the option of following the terms and conditions either of that numbered version or of any later version published by the Free Software Foundation. If the Program does not specify a version number of the GNU General Public License, you may choose any version ever published by the Free Software Foundation.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 If the Program specifies that a proxy can decide which future versions of the GNU General Public License can be used, that proxy's public statement of acceptance of a version permanently authorizes you to choose that version for the Program.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 Later license versions may give you additional or different permissions. However, no additional obligations are imposed on any author or copyright holder as a result of your choosing to follow a later version.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 \\b \\fs24 15. Disclaimer of Warranty.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 THERE IS NO WARRANTY FOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW. EXCEPT WHEN OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES PROVIDE THE PROGRAM \\u8220\"AS IS\\u8221\" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE. THE ENTIRE RISK AS TO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU. SHOULD THE PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING, REPAIR OR CORRECTION.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 \\b \\fs24 16. Limitation of Liability.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MODIFIES AND/OR CONVEYS THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES, INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING OUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED TO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY YOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER PROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 \\b \\fs24 17. Interpretation of Sections 15 and 16.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 If the disclaimer of warranty and limitation of liability provided above cannot be given local legal effect according to their terms, reviewing courts shall apply local law that most closely approximates an absolute waiver of all civil liability in connection with the Program, unless a warranty or assumption of liability accompanies a copy of the Program in return for a fee.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 END OF TERMS AND CONDITIONS\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 \\b \\fs28 How to Apply These Terms to Your New Programs\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 If you develop a new program, and you want it to be of the greatest possible use to the public, the best way to achieve this is to make it free software which everyone can redistribute and change under these terms.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 To do so, attach the following notices to the program. It is safest to attach them to the start of each source file to most effectively state the exclusion of warranty; and each file should have at least the \\u8220\"copyright\\u8221\" line and a pointer to where the full notice is found.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 \\f1     <one line to give the program's name and a brief idea of what it does.>\\line\n    Copyright (C) <year>  <name of author>\\line\n\\line\n    This program is free software: you can redistribute it and/or modify\\line\n    it under the terms of the GNU General Public License as published by\\line\n    the Free Software Foundation, either version 3 of the License, or\\line\n    (at your option) any later version.\\line\n\\line\n    This program is distributed in the hope that it will be useful,\\line\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\\line\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\line\n    GNU General Public License for more details.\\line\n\\line\n    You should have received a copy of the GNU General Public License\\line\n    along with this program.  If not, see <https://www.gnu.org/licenses/>.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 Also add information on how to contact you by electronic and paper mail.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 If the program does terminal interaction, make it output a short notice like this when it starts in an interactive mode:\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 \\f1     <program>  Copyright (C) <year>  <name of author>\\line\n    This program comes with ABSOLUTELY NO WARRANTY; for details type `show w'.\\line\n    This is free software, and you are welcome to redistribute it\\line\n    under certain conditions; type `show c' for details.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 The hypothetical commands `show w' and `show c' should show the appropriate parts of the General Public License. Of course, your program's commands might be different; for a GUI interface, you would use an \\u8220\"about box\\u8221\".\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 You should also get your employer (if you work as a programmer) or school, if any, to sign a \\u8220\"copyright disclaimer\\u8221\" for the program, if necessary. For more information on this, and how to apply and follow the GNU GPL, see <{\\field{\\*\\fldinst{HYPERLINK \"https://www.gnu.org/licenses/\"}}{\\fldrslt{\\ul\nhttps://www.gnu.org/licenses/\n}}}\n>.\\par}\n{\\pard \\ql \\f0 \\sa180 \\li0 \\fi0 The GNU General Public License does not permit incorporating your program into proprietary programs. If your program is a subroutine library, you may consider it more useful to permit linking proprietary applications with the library. If this is what you want to do, use the GNU Lesser General Public License instead of this License. But first, please read <{\\field{\\*\\fldinst{HYPERLINK \"https://www.gnu.org/licenses/why-not-lgpl.html\"}}{\\fldrslt{\\ul\nhttps://www.gnu.org/licenses/why-not-lgpl.html\n}}}\n>.\\par}\n}\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 1.892578125,
          "content": "# calibre\n\n<img align=\"left\" src=\"https://raw.githubusercontent.com/kovidgoyal/calibre/master/resources/images/lt.png\" height=\"200\" width=\"200\"/>\n\ncalibre is an e-book manager. It can view, convert, edit and catalog e-books \nin all of the major e-book formats. It can also talk to e-book reader \ndevices. It can go out to the internet and fetch metadata for your books. \nIt can download newspapers and convert them into e-books for convenient \nreading. It is cross platform, running on Linux, Windows and macOS.\n\nFor more information, see the [calibre About page](https://calibre-ebook.com/about).\n\n[![Build Status](https://github.com/kovidgoyal/calibre/workflows/CI/badge.svg)](https://github.com/kovidgoyal/calibre/actions?query=workflow%3ACI)\n\n## Screenshots  \n\n[Screenshots page](https://calibre-ebook.com/demo)\n\n## Usage\n\nSee the [User Manual](https://manual.calibre-ebook.com).\n\n## Development\n\n[Setting up a development environment for calibre](https://manual.calibre-ebook.com/develop.html).\n\nA [tarball of the source code](https://calibre-ebook.com/dist/src) for the \ncurrent calibre release.\n\n## Bugs\n\nBug reports and feature requests should be made in the calibre bug tracker at [Launchpad](https://bugs.launchpad.net/calibre).\nGitHub is only used for code hosting and pull requests.\n\n## Support calibre\n\ncalibre is a result of the efforts of many volunteers from all over the world.\nIf you find it useful, please consider contributing to support its development.\n[Donate to support calibre development](https://calibre-ebook.com/donate).\n\n## Building calibre binaries\n\nSee [Build instructions](bypy/README.rst) for instructions on how to build the\ncalibre binaries and installers for all the platforms calibre supports.\n\n## calibre package versions in various repositories\n\n[![Packaging Status](https://repology.org/badge/vertical-allrepos/calibre.svg?columns=3&header=calibre)](https://repology.org/project/calibre/versions)\n"
        },
        {
          "name": "SECURITY.md",
          "type": "blob",
          "size": 0.1396484375,
          "content": "To report security vulnerabilities, open a normal bug report in the\n[calibre bug tracker](https://calibre-ebook.com/bugs) and mark it private.\n"
        },
        {
          "name": "bypy",
          "type": "tree",
          "content": null
        },
        {
          "name": "format_docs",
          "type": "tree",
          "content": null
        },
        {
          "name": "icons",
          "type": "tree",
          "content": null
        },
        {
          "name": "imgsrc",
          "type": "tree",
          "content": null
        },
        {
          "name": "manual",
          "type": "tree",
          "content": null
        },
        {
          "name": "pyproject.toml",
          "type": "blob",
          "size": 1.10546875,
          "content": "[project]\nrequires-python = \">=3.8\"\n\n[tool.ruff]\nline-length = 160\ntarget-version = 'py38'\nbuiltins = ['_', 'I', 'P']\ninclude = ['*.py', '*.recipe']\nexclude = [\n    \"*_ui.py\",\n    \"bypy/*\",\n    \"setup/*\",\n    \"src/css_selectors/*\",\n    \"src/polyglot/*\",\n    \"src/templite/*\",\n    \"src/tinycss/*\",\n]\n\n[tool.ruff.format]\nquote-style = 'single'\n\n[tool.ruff.lint]\nignore = ['E402', 'E722', 'E741', 'E401']\nselect = ['E', 'F', 'I', 'W', 'INT']\n\n[tool.ruff.lint.per-file-ignores]\n\"src/calibre/ebooks/unihandecode/*codepoints.py\" = ['E501', 'W191']\n\"src/qt/*.py\" = ['I']\n\"src/qt/*.pyi\" = ['I']\n\n[tool.ruff.lint.isort]\ndetect-same-package = true\nextra-standard-library = [\"aes\", \"elementmaker\", \"encodings\"]\nknown-first-party = [\"calibre_extensions\", \"calibre_plugins\", \"polyglot\"]\nknown-third-party = [\"odf\", \"qt\", \"templite\", \"tinycss\", \"css_selectors\"]\nrelative-imports-order = \"closest-to-furthest\"\nsplit-on-trailing-comma = false\nsection-order = ['__python__', \"future\", \"standard-library\", \"third-party\", \"first-party\", \"local-folder\"]\n\n[tool.ruff.lint.isort.sections]\n'__python__' = ['__python__']\n\n[tool.pylsp-mypy]\nenabled = false\n"
        },
        {
          "name": "recipes",
          "type": "tree",
          "content": null
        },
        {
          "name": "resources",
          "type": "tree",
          "content": null
        },
        {
          "name": "run-local",
          "type": "blob",
          "size": 0.759765625,
          "content": "#!/usr/bin/env python\nimport importlib\nimport os\nimport sys\n\n\nsys.run_local = os.path.abspath(__file__)\nbase = os.path.dirname(sys.run_local)\nsrc = os.path.join(base, 'src')\nif src not in sys.path:\n    sys.path.insert(0, src)\nsys.resources_location = os.path.join(base, 'resources')\nsys.extensions_location = os.path.join(src, 'calibre', 'plugins')\nentry_point = sys.argv[1]\ndel sys.argv[1]\ndel src\ndel base\n\nfor ep in importlib.import_module('calibre.linux').entry_points.values():\n    for line in ep:\n        q, spec = (x.strip() for x in line.split('='))\n        if q == entry_point:\n            mod, func = spec.split(':')\n            m = importlib.import_module(mod)\n            sys.exit(getattr(m, func)())\nraise SystemExit('No entry point named: {}'.format(entry_point))\n"
        },
        {
          "name": "session.vim",
          "type": "blob",
          "size": 0.83984375,
          "content": "\" Scan the following dirs (recursively for tags\nlet g:project_tags_dirs = ['src/calibre']\n\nset wildignore+=resources/mathjax/*\nset wildignore+=resources/rapydscript/lib/*\nset wildignore+=build/*\nset wildignore+=dist/*\nset wildignore+=manual/generated/*\nset wildignore+=manual/locale/*\nset wildignore+=imgsrc/*\n\nfun! CalibreLog()\n    \" Setup buffers to edit the calibre changelog and version info prior to\n    \" making a release.\n    enew\n    read ! git log  \"--pretty=\\%an:::\\%n\\%s\\%n\\%b\\%n\" -500\n    setl nomodifiable noswapfile buftype=nofile\n    hi def link au Keyword\n    syntax match au /^.*:::$/\n    nnoremap <silent> <buffer> n :call cursor(1+search('\\V:::\\$', 'n'), 0)<CR>\n    nnoremap <silent> <buffer> yb v/#<CR>t<Space>y:nohl<CR>\n    normal! gg2j\n    edit Changelog.txt\n    edit src/calibre/constants.py\nendfun\n\nnnoremap \\log :call CalibreLog()<CR>\n"
        },
        {
          "name": "setup.py",
          "type": "blob",
          "size": 3.4755859375,
          "content": "#!/usr/bin/env python\n# vim:fileencoding=UTF-8:ts=4:sw=4:sta:et:sts=4:ai\n\n\n__license__ = 'GPL v3'\n__copyright__ = '2009, Kovid Goyal <kovid@kovidgoyal.net>'\n__docformat__ = 'restructuredtext en'\n\nimport os\nimport re\nimport sys\n\nsrc_base = os.path.dirname(os.path.abspath(__file__))\n\n\ndef check_version_info():\n    with open(os.path.join(src_base, 'pyproject.toml')) as f:\n        raw = f.read()\n    m = re.search(r'''^requires-python\\s*=\\s*['\"](.+?)['\"]''', raw, flags=re.MULTILINE)\n    assert m is not None\n    minver = m.group(1)\n    m = re.match(r'(>=?)(\\d+)\\.(\\d+)', minver)\n    q = int(m.group(2)), int(m.group(3))\n    if m.group(1) == '>=':\n        is_ok = sys.version_info >= q\n    else:\n        is_ok = sys.version_info > q\n    if not is_ok:\n        exit(f'calibre requires Python {minver}. Current Python version: {\".\".join(map(str, sys.version_info[:3]))}')\n\n\n\ncheck_version_info()\n\nsys.path.insert(0, src_base)\n\nimport setup.commands as commands\nfrom setup import get_warnings, prints\n\n\ndef option_parser():\n    import optparse\n    parser = optparse.OptionParser()\n    parser.add_option(\n        '-c',\n        '--clean',\n        default=False,\n        action='store_true',\n        help=('Instead of running the command delete all files generated '\n              'by the command'))\n    parser.add_option(\n        '--clean-backups',\n        default=False,\n        action='store_true',\n        help='Delete all backup files from the source tree')\n    parser.add_option(\n        '--clean-all',\n        default=False,\n        action='store_true',\n        help='Delete all machine generated files from the source tree')\n    return parser\n\n\ndef clean_backups():\n    for root, _, files in os.walk('.'):\n        for name in files:\n            for t in ('.pyc', '.pyo', '~', '.swp', '.swo'):\n                if name.endswith(t):\n                    os.remove(os.path.join(root, name))\n\n\ndef main(args=sys.argv):\n    if len(args) == 1 or args[1] in ('-h', '--help'):\n        print('Usage: python', args[0], 'command', '[options]')\n        print('\\nWhere command is one of:')\n        print()\n        for x in sorted(commands.__all__):\n            print('{:20} -'.format(x), end=' ')\n            c = getattr(commands, x)\n            desc = getattr(c, 'short_description', c.description)\n            print(desc)\n\n        print('\\nTo get help on a particular command, run:')\n        print('\\tpython', args[0], 'command -h')\n        return 1\n\n    command = args[1]\n    if command not in commands.__all__:\n        print(command, 'is not a recognized command.')\n        print('Valid commands:', ', '.join(commands.__all__))\n        return 1\n\n    command = getattr(commands, command)\n\n    parser = option_parser()\n    command.add_all_options(parser)\n    parser.set_usage(\n        'Usage: python setup.py {} [options]\\n\\n'.format(args[1]) + command.description)\n\n    opts, args = parser.parse_args(args)\n    opts.cli_args = args[2:]\n\n    if opts.clean_backups:\n        clean_backups()\n\n    if opts.clean:\n        prints('Cleaning', args[1])\n        command.clean()\n        return 0\n\n    if opts.clean_all:\n        for cmd in commands.__all__:\n            prints('Cleaning', cmd)\n            getattr(commands, cmd).clean()\n        return 0\n\n    command.run_all(opts)\n\n    warnings = get_warnings()\n    if warnings:\n        print()\n        prints('There were', len(warnings), 'warning(s):')\n        print()\n        for args, kwargs in warnings:\n            prints('*', *args, **kwargs)\n            print()\n\n    return 0\n\n\nif __name__ == '__main__':\n    sys.exit(main())\n"
        },
        {
          "name": "setup",
          "type": "tree",
          "content": null
        },
        {
          "name": "src",
          "type": "tree",
          "content": null
        },
        {
          "name": "update-on-ox",
          "type": "blob",
          "size": 1.8466796875,
          "content": "#!/usr/bin/env python3\n# vim:fileencoding=utf-8\n# License: GPL v3 Copyright: 2017, Kovid Goyal <kovid at kovidgoyal.net>\n\nimport ast\nimport atexit\nimport glob\nimport os\nimport re\nimport shlex\nimport shutil\nimport subprocess\nimport sys\nimport tempfile\n\nif False:\n    dmg = sys.argv[-1]\n    mp = tempfile.mkdtemp()\n    atexit.register(os.rmdir, mp)\n    subprocess.check_call('hdiutil attach {} -mountpoint {}'.format(dmg, mp).split())\n    try:\n        os.chdir(mp)\n        for app in glob.glob('*.app'):\n            d = os.path.join('/Applications', app)\n            if os.path.exists(d):\n                shutil.rmtree(d)\n            subprocess.check_call('ditto -v {} {}'.format(app, os.path.join('/Applications', app)).split())\n    finally:\n        os.chdir('/')\n        subprocess.check_call('hdiutil detach {}'.format(mp).split())\n\n# EOF_REMOTE\n\nHOST = 'ox'\n\nbase = os.path.dirname(os.path.abspath(__file__))\nif True:\n    with open(os.path.join(base, 'src/calibre/constants.py')) as f:\n        raw = f.read()\n    v = re.search(r'numeric_version\\s*=\\s*(\\(.+?\\))', raw).group(1)\n    v = '.'.join(map(str, ast.literal_eval(v)))\n    dmg = f'calibre-{v}.dmg'\n\n\ndef run(what):\n    ret = subprocess.run(shlex.split(what))\n    if ret.returncode != 0:\n        raise SystemExit(ret.returncode)\n\n\nwith open(__file__, 'rb') as f:\n    script = f.read().decode('utf-8')\nscript = script[:script.find('# EOF_REMOTE')].replace('if False:', 'if True:', 1)\n\nwith tempfile.NamedTemporaryFile(prefix='install-dmg-', suffix='.py') as f:\n    cmd = './setup.py osx --dont-shutdown'\n    if 'develop' in sys.argv:\n        print('Disabling code-signing and notarization')\n        cmd += ' --dont-sign --dont-notarize --dont-strip'\n    run(cmd)\n    f.write(script.encode('utf-8'))\n    f.flush()\n    run(f'scp dist/{dmg} {f.name} {HOST}:/tmp')\n    run(f'ssh {HOST} python3 /tmp/{os.path.basename(f.name)} /tmp/{dmg}')\n"
        }
      ]
    }
  ]
}