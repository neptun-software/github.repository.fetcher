{
  "metadata": {
    "timestamp": 1736561256775,
    "page": 250,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjI1MA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "pre-commit/pre-commit",
      "stars": 13199,
      "defaultBranch": "main",
      "files": [
        {
          "name": ".github",
          "type": "tree",
          "content": null
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.05078125,
          "content": "*.egg-info\n*.py[co]\n/.coverage\n/.tox\n/dist\n.vscode/\n"
        },
        {
          "name": ".pre-commit-config.yaml",
          "type": "blob",
          "size": 1.2685546875,
          "content": "repos:\n-   repo: https://github.com/pre-commit/pre-commit-hooks\n    rev: v5.0.0\n    hooks:\n    -   id: trailing-whitespace\n    -   id: end-of-file-fixer\n    -   id: check-yaml\n    -   id: debug-statements\n    -   id: double-quote-string-fixer\n    -   id: name-tests-test\n    -   id: requirements-txt-fixer\n-   repo: https://github.com/asottile/setup-cfg-fmt\n    rev: v2.7.0\n    hooks:\n    -   id: setup-cfg-fmt\n-   repo: https://github.com/asottile/reorder-python-imports\n    rev: v3.14.0\n    hooks:\n    -   id: reorder-python-imports\n        exclude: ^(pre_commit/resources/|testing/resources/python3_hooks_repo/)\n        args: [--py39-plus, --add-import, 'from __future__ import annotations']\n-   repo: https://github.com/asottile/add-trailing-comma\n    rev: v3.1.0\n    hooks:\n    -   id: add-trailing-comma\n-   repo: https://github.com/asottile/pyupgrade\n    rev: v3.19.1\n    hooks:\n    -   id: pyupgrade\n        args: [--py39-plus]\n-   repo: https://github.com/hhatto/autopep8\n    rev: v2.3.1\n    hooks:\n    -   id: autopep8\n-   repo: https://github.com/PyCQA/flake8\n    rev: 7.1.1\n    hooks:\n    -   id: flake8\n-   repo: https://github.com/pre-commit/mirrors-mypy\n    rev: v1.14.1\n    hooks:\n    -   id: mypy\n        additional_dependencies: [types-pyyaml]\n        exclude: ^testing/resources/\n"
        },
        {
          "name": ".pre-commit-hooks.yaml",
          "type": "blob",
          "size": 0.2333984375,
          "content": "-   id: validate_manifest\n    name: validate pre-commit manifest\n    description: This validator validates a pre-commit hooks manifest file\n    entry: pre-commit validate-manifest\n    language: python\n    files: ^\\.pre-commit-hooks\\.yaml$\n"
        },
        {
          "name": "CHANGELOG.md",
          "type": "blob",
          "size": 67.8173828125,
          "content": "4.0.1 - 2024-10-08\n==================\n\n### Fixes\n- Fix `pre-commit migrate-config` for unquoted deprecated stages names with\n  purelib `pyyaml`.\n    - #3324 PR by @asottile.\n    - pre-commit-ci/issues#234 issue by @lorenzwalthert.\n\n4.0.0 - 2024-10-05\n==================\n\n### Features\n- Improve `pre-commit migrate-config` to handle more yaml formats.\n    - #3301 PR by @asottile.\n- Handle `stages` deprecation in `pre-commit migrate-config`.\n    - #3302 PR by @asottile.\n    - #2732 issue by @asottile.\n- Upgrade `ruby-build`.\n    - #3199 PR by @ThisGuyCodes.\n- Add \"sensible regex\" warnings to `repo: meta`.\n    - #3311 PR by @asottile.\n- Add warnings for deprecated `stages` (`commit` -> `pre-commit`, `push` ->\n  `pre-push`, `merge-commit` -> `pre-merge-commit`).\n    - #3312 PR by @asottile.\n    - #3313 PR by @asottile.\n    - #3315 PR by @asottile.\n    - #2732 issue by @asottile.\n\n### Migrating\n- `language: python_venv` has been removed -- use `language: python` instead.\n    - #3320 PR by @asottile.\n    - #2734 issue by @asottile.\n\n3.8.0 - 2024-07-28\n==================\n\n### Features\n- Implement health checks for `language: r` so environments are recreated if\n  the system version of R changes.\n    - #3206 issue by @lorenzwalthert.\n    - #3265 PR by @lorenzwalthert.\n\n3.7.1 - 2024-05-10\n==================\n\n### Fixes\n- Fix `language: rust` default language version check when `rust-toolchain.toml`\n  is present.\n    - issue by @gaborbernat.\n    - #3201 PR by @asottile.\n\n3.7.0 - 2024-03-24\n==================\n\n### Features\n- Use a tty for `docker` and `docker_image` hooks when `--color` is specified.\n    - #3122 PR by @glehmann.\n\n### Fixes\n- Fix `fail_fast` for individual hooks stopping when previous hooks had failed.\n    - #3167 issue by @tp832944.\n    - #3168 PR by @asottile.\n\n### Updating\n- The per-hook behaviour of `fail_fast` was fixed.  If you want the pre-3.7.0\n  behaviour, add `fail_fast: true` to all hooks before the last `fail_fast`\n  hook.\n\n3.6.2 - 2024-02-18\n==================\n\n### Fixes\n- Fix building golang hooks during `git commit --all`.\n    - #3130 PR by @asottile.\n    - #2722 issue by @pestanko and @matthewhughes934.\n\n3.6.1 - 2024-02-10\n==================\n\n### Fixes\n- Remove `PYTHONEXECUTABLE` from environment when running.\n    - #3110 PR by @untitaker.\n- Handle staged-files-only with only a crlf diff.\n    - #3126 PR by @asottile.\n    - issue by @tyyrok.\n\n3.6.0 - 2023-12-09\n==================\n\n### Features\n- Check `minimum_pre_commit_version` first when parsing configs.\n    - #3092 PR by @asottile.\n\n### Fixes\n- Fix deprecation warnings for `importlib.resources`.\n    - #3043 PR by @asottile.\n- Fix deprecation warnings for rmtree.\n    - #3079 PR by @edgarrmondragon.\n\n### Updating\n- Drop support for python<3.9.\n    - #3042 PR by @asottile.\n    - #3093 PR by @asottile.\n\n3.5.0 - 2023-10-13\n==================\n\n### Features\n- Improve performance of `check-hooks-apply` and `check-useless-excludes`.\n    - #2998 PR by @mxr.\n    - #2935 issue by @mxr.\n\n### Fixes\n- Use `time.monotonic()` for more accurate hook timing.\n    - #3024 PR by @adamchainz.\n\n### Migrating\n- Require npm 6.x+ for `language: node` hooks.\n    - #2996 PR by @RoelAdriaans.\n    - #1983 issue by @henryiii.\n\n3.4.0 - 2023-09-02\n==================\n\n### Features\n- Add `language: haskell`.\n    - #2932 by @alunduil.\n- Improve cpu count detection when run under cgroups.\n    - #2979 PR by @jdb8.\n    - #2978 issue by @jdb8.\n\n### Fixes\n- Handle negative exit codes from hooks receiving posix signals.\n    - #2971 PR by @chriskuehl.\n    - #2970 issue by @chriskuehl.\n\n3.3.3 - 2023-06-13\n==================\n\n### Fixes\n- Work around OS packagers setting `--install-dir` / `--bin-dir` in gem settings.\n    - #2905 PR by @jaysoffian.\n    - #2799 issue by @lmilbaum.\n\n3.3.2 - 2023-05-17\n==================\n\n### Fixes\n- Work around `r` on windows sometimes double-un-quoting arguments.\n    - #2885 PR by @lorenzwalthert.\n    - #2870 issue by @lorenzwalthert.\n\n3.3.1 - 2023-05-02\n==================\n\n### Fixes\n- Work around `git` partial clone bug for `autoupdate` on windows.\n    - #2866 PR by @asottile.\n    - #2865 issue by @adehad.\n\n3.3.0 - 2023-05-01\n==================\n\n### Features\n- Upgrade ruby-build.\n    - #2846 PR by @jalessio.\n- Use blobless clone for faster autoupdate.\n    - #2859 PR by @asottile.\n- Add `-j` / `--jobs` argument to `autoupdate` for parallel execution.\n    - #2863 PR by @asottile.\n    - issue by @gaborbernat.\n\n3.2.2 - 2023-04-03\n==================\n\n### Fixes\n- Fix support for swift >= 5.8.\n    - #2836 PR by @edelabar.\n    - #2835 issue by @kgrobelny-intive.\n\n3.2.1 - 2023-03-25\n==================\n\n### Fixes\n- Fix `language_version` for `language: rust` without global `rustup`.\n    - #2823 issue by @daschuer.\n    - #2827 PR by @asottile.\n\n3.2.0 - 2023-03-17\n==================\n\n### Features\n- Allow `pre-commit`, `pre-push`, and `pre-merge-commit` as `stages`.\n    - #2732 issue by @asottile.\n    - #2808 PR by @asottile.\n- Add `pre-rebase` hook support.\n    - #2582 issue by @BrutalSimplicity.\n    - #2725 PR by @mgaligniana.\n\n### Fixes\n- Remove bulky cargo cache from `language: rust` installs.\n    - #2820 PR by @asottile.\n\n3.1.1 - 2023-02-27\n==================\n\n### Fixes\n- Fix `rust` with `language_version` and a non-writable host `RUSTUP_HOME`.\n    - pre-commit-ci/issues#173 by @Swiftb0y.\n    - #2788 by @asottile.\n\n3.1.0 - 2023-02-22\n==================\n\n### Fixes\n- Fix `dotnet` for `.sln`-based hooks for dotnet>=7.0.200.\n    - #2763 PR by @m-rsha.\n- Prevent stashing when `diff` fails to execute.\n    - #2774 PR by @asottile.\n    - #2773 issue by @strubbly.\n- Dependencies are no longer sorted in repository key.\n    - #2776 PR by @asottile.\n\n### Updating\n- Deprecate `language: python_venv`.  Use `language: python` instead.\n    - #2746 PR by @asottile.\n    - #2734 issue by @asottile.\n\n\n3.0.4 - 2023-02-03\n==================\n\n### Fixes\n- Fix hook diff detection for files affected by `--textconv`.\n    - #2743 PR by @adamchainz.\n    - #2743 issue by @adamchainz.\n\n3.0.3 - 2023-02-01\n==================\n\n### Fixes\n- Revert \"Prevent local `Gemfile` from interfering with hook execution.\".\n    - #2739 issue by @Roguelazer.\n    - #2740 PR by @asottile.\n\n3.0.2 - 2023-01-29\n==================\n\n### Fixes\n- Prevent local `Gemfile` from interfering with hook execution.\n    - #2727 PR by @asottile.\n- Fix `language: r`, `repo: local` hooks\n    - pre-commit-ci/issues#107 by @lorenzwalthert.\n    - #2728 PR by @asottile.\n\n3.0.1 - 2023-01-26\n==================\n\n### Fixes\n- Ensure coursier hooks are available offline after install.\n    - #2723 PR by @asottile.\n\n3.0.0 - 2023-01-23\n==================\n\n### Features\n- Make `language: golang` bootstrap `go` if not present.\n    - #2651 PR by @taoufik07.\n    - #2649 issue by @taoufik07.\n- `language: coursier` now supports `additional_dependencies` and `repo: local`\n    - #2702 PR by @asottile.\n- Upgrade `ruby-build` to `20221225`.\n    - #2718 PR by @jalessio.\n\n### Fixes\n- Improve error message for invalid yaml for `pre-commit autoupdate`.\n    - #2686 PR by @asottile.\n    - #2685 issue by @CarstenGrohmann.\n- `repo: local` no longer provisions an empty `git` repo.\n    - #2699 PR by @asottile.\n\n### Updating\n- Drop support for python<3.8\n    - #2655 PR by @asottile.\n- Drop support for top-level list, use `pre-commit migrate-config` to update.\n    - #2656 PR by @asottile.\n- Drop support for `sha` to specify revision, use `pre-commit migrate-config`\n  to update.\n    - #2657 PR by @asottile.\n- Remove `pre-commit-validate-config` and `pre-commit-validate-manifest`, use\n  `pre-commit validate-config` and `pre-commit validate-manifest` instead.\n    - #2658 PR by @asottile.\n- `language: golang` hooks must use `go.mod` to specify dependencies\n    - #2672 PR by @taoufik07.\n\n\n2.21.0 - 2022-12-25\n===================\n\n### Features\n- Require new-enough virtualenv to prevent 3.10 breakage\n    - #2467 PR by @asottile.\n- Respect aliases with `SKIP` for environment install.\n    - #2480 PR by @kmARC.\n    - #2478 issue by @kmARC.\n- Allow `pre-commit run --files` against unmerged paths.\n    - #2484 PR by @asottile.\n- Also apply regex warnings to `repo: local` hooks.\n    - #2524 PR by @chrisRedwine.\n    - #2521 issue by @asottile.\n- `rust` is now a \"first class\" language -- supporting `language_version` and\n  installation when not present.\n    - #2534 PR by @Holzhaus.\n- `r` now uses more-reliable binary installation.\n    - #2460 PR by @lorenzwalthert.\n- `GIT_ALLOW_PROTOCOL` is now passed through for git operations.\n    - #2555 PR by @asottile.\n- `GIT_ASKPASS` is now passed through for git operations.\n    - #2564 PR by @mattp-.\n- Remove `toml` dependency by using `cargo add` directly.\n    - #2568 PR by @m-rsha.\n- Support `dotnet` hooks which have dotted prefixes.\n    - #2641 PR by @rkm.\n    - #2629 issue by @rkm.\n\n### Fixes\n- Properly adjust `--commit-msg-filename` if run from a sub directory.\n    - #2459 PR by @asottile.\n- Simplify `--intent-to-add` detection by using `git diff`.\n    - #2580 PR by @m-rsha.\n- Fix `R.exe` selection on windows.\n    - #2605 PR by @lorenzwalthert.\n    - #2599 issue by @SInginc.\n- Skip default `nuget` source when installing `dotnet` packages.\n    - #2642 PR by @rkm.\n\n2.20.0 - 2022-07-10\n===================\n\n### Features\n- Expose `source` and `object-name` (positional args) of `prepare-commit-msg`\n  hook as `PRE_COMMIT_COMIT_MSG_SOURCE` and `PRE_COMMIT_COMMIT_OBJECT_NAME`.\n    - #2407 PR by @M-Whitaker.\n    - #2406 issue by @M-Whitaker.\n\n### Fixes\n- Fix `language: ruby` installs when `--user-install` is set in gemrc.\n    - #2394 PR by @narpfel.\n    - #2393 issue by @narpfel.\n- Adjust pty setup for solaris.\n    - #2390 PR by @gaige.\n    - #2389 issue by @gaige.\n- Remove unused `--config` option from `gc`, `sample-config`,\n  `validate-config`, `validate-manifest` sub-commands.\n    - #2429 PR by @asottile.\n\n2.19.0 - 2022-05-05\n===================\n\n### Features\n- Allow multiple outputs from `language: dotnet` hooks.\n    - #2332 PR by @WallucePinkham.\n- Add more information to `healthy()` failure.\n    - #2348 PR by @asottile.\n- Upgrade ruby-build.\n    - #2342 PR by @jalessio.\n- Add `pre-commit validate-config` / `pre-commit validate-manifest` and\n  deprecate `pre-commit-validate-config` and `pre-commit-validate-manifest`.\n    - #2362 PR by @asottile.\n\n### Fixes\n- Fix `pre-push` when pushed ref contains spaces.\n    - #2345 PR by @wwade.\n    - #2344 issue by @wwade.\n\n### Updating\n- Change `pre-commit-validate-config` / `pre-commit-validate-manifest` to\n  `pre-commit validate-config` / `pre-commit validate-manifest`.\n    - #2362 PR by @asottile.\n\n2.18.1 - 2022-04-02\n===================\n\n### Fixes\n- Fix regression for `repo: local` hooks running `python<3.7`\n    - #2324 PR by @asottile.\n\n2.18.0 - 2022-04-02\n===================\n\n### Features\n- Keep `GIT_HTTP_PROXY_AUTHMETHOD` in git environ.\n    - #2272 PR by @VincentBerthier.\n    - #2271 issue by @VincentBerthier.\n- Support both `cs` and `coursier` executables for coursier hooks.\n    - #2293 PR by @Holzhaus.\n- Include more information in errors for `language_version` /\n  `additional_dependencies` for languages which do not support them.\n    -  #2315 PR by @asottile.\n- Have autoupdate preferentially pick tags which look like versions when\n  there are multiple equivalent tags.\n    - #2312 PR by @mblayman.\n    - #2311 issue by @mblayman.\n- Upgrade `ruby-build`.\n    - #2319 PR by @jalessio.\n- Add top level `default_install_hook_types` which will be installed when\n  `--hook-types` is not specified in `pre-commit install`.\n    - #2322 PR by @asottile.\n\n### Fixes\n- Fix typo in help message for `--from-ref` and `--to-ref`.\n    - #2266 PR by @leetrout.\n- Prioritize binary builds for R dependencies.\n    - #2277 PR by @lorenzwalthert.\n- Fix handling of git worktrees.\n    - #2252 PR by @daschuer.\n- Fix handling of `$R_HOME` for R hooks.\n    - #2301 PR by @jeff-m-sullivan.\n    - #2300 issue by @jeff-m-sullivan.\n- Fix a rare race condition in change stashing.\n    - #2323 PR by @asottile.\n    - #2287 issue by @ian-h-chamberlain.\n\n### Updating\n- Remove python3.6 support.  Note that pre-commit still supports running hooks\n  written in older versions, but pre-commit itself requires python 3.7+.\n    - #2215 PR by @asottile.\n- pre-commit has migrated from the `master` branch to `main`.\n    - #2302 PR by @asottile.\n\n2.17.0 - 2022-01-18\n===================\n\n### Features\n- add warnings for regexes containing `[\\\\/]`.\n    - #2151 issue by @sanjioh.\n    - #2154 PR by @kuviokelluja.\n- upgrade supported ruby versions.\n    - #2205 PR by @jalessio.\n- allow `language: conda` to use `mamba` or `micromamba` via\n  `PRE_COMMIT_USE_MAMBA=1` or `PRE_COMMIT_USE_MICROMAMBA=1` respectively.\n    - #2204 issue by @janjagusch.\n    - #2207 PR by @xhochy.\n- display `git --version` in error report.\n    - #2210 PR by @asottile.\n- add `language: lua` as a supported language.\n    - #2158 PR by @mblayman.\n\n### Fixes\n- temporarily add `setuptools` to the zipapp.\n    - #2122 issue by @andreoliwa.\n    - a737d5f commit by @asottile.\n- use `go install` instead of `go get` for go 1.18+ support.\n    - #2161 PR by @schmir.\n- fix `language: r` with a local renv and `RENV_PROJECT` set.\n    - #2170 PR by @lorenzwalthert.\n- forbid overriding `entry` in `language: meta` hooks which breaks them.\n    - #2180 issue by @DanKaplanSES.\n    - #2181 PR by @asottile.\n- always use `#!/bin/sh` on windows for hook script.\n    - #2182 issue by @hushigome-visco.\n    - #2187 PR by @asottile.\n\n2.16.0 - 2021-11-30\n===================\n\n### Features\n- add warning for regexes containing `[\\/]` or `[/\\\\]`.\n    - #2053 PR by @radek-sprta.\n    - #2043 issue by @asottile.\n- move hook template back to `bash` resolving shebang-portability issues.\n    - #2065 PR by @asottile.\n- add support for `fail_fast` at the individual hook level.\n    - #2097 PR by @colens3.\n    - #1143 issue by @potiuk.\n- allow passthrough of `GIT_CONFIG_KEY_*`, `GIT_CONFIG_VALUE_*`, and\n  `GIT_CONFIG_COUNT`.\n    - #2136 PR by @emzeat.\n\n### Fixes\n- fix pre-commit autoupdate for `core.useBuiltinFSMonitor=true` on windows.\n    - #2047 PR by @asottile.\n    - #2046 issue by @lcnittl.\n- fix temporary file stashing with for `submodule.recurse=1`.\n    - #2071 PR by @asottile.\n    - #2063 issue by @a666.\n- ban broken importlib-resources versions.\n    - #2098 PR by @asottile.\n- replace `exit(...)` with `raise SystemExit(...)` for portability.\n    - #2103 PR by @asottile.\n    - #2104 PR by @asottile.\n\n\n2.15.0 - 2021-09-02\n===================\n\n### Features\n- add support for hooks written in `dart`.\n    - #2027 PR by @asottile.\n- add support for `post-rewrite` hooks.\n    - #2036 PR by @uSpike.\n    - #2035 issue by @uSpike.\n\n### Fixes\n- fix `check-useless-excludes` with exclude matching broken symlink.\n    - #2029 PR by @asottile.\n    - #2019 issue by @pkoch.\n- eliminate duplicate mutable sha warning messages for `pre-commit autoupdate`.\n    - #2030 PR by @asottile.\n    - #2010 issue by @graingert.\n\n2.14.1 - 2021-08-28\n===================\n\n### Fixes\n- fix force-push of disparate histories using git>=2.28.\n    - #2005 PR by @asottile.\n    - #2002 issue by @bogusfocused.\n- fix `check-useless-excludes` and `check-hooks-apply` matching non-root\n  `.pre-commit-config.yaml`.\n    - #2026 PR by @asottile.\n    - pre-commit-ci/issues#84 issue by @billsioros.\n\n2.14.0 - 2021-08-06\n===================\n\n### Features\n- During `pre-push` hooks, expose local branch as `PRE_COMMIT_LOCAL_BRANCH`.\n    - #1947 PR by @FlorentClarret.\n    - #1410 issue by @MaicoTimmerman.\n- Improve container id detection for docker-beside-docker with custom hostname.\n    - #1919 PR by @adarnimrod.\n    - #1918 issue by @adarnimrod.\n\n### Fixes\n- Read legacy hooks in an encoding-agnostic way.\n    - #1943 PR by @asottile.\n    - #1942 issue by @sbienkow-ninja.\n- Fix execution of docker hooks for docker-in-docker.\n    - #1997 PR by @asottile.\n    - #1978 issue by @robin-moss.\n\n2.13.0 - 2021-05-21\n===================\n\n### Features\n- Setting `SKIP=...` skips installation as well.\n    - #1875 PR by @asottile.\n    - pre-commit-ci/issues#53 issue by @TylerYep.\n- Attempt to mount from host with docker-in-docker.\n    - #1888 PR by @okainov.\n    - #1387 issue by @okainov.\n- Enable `repo: local` for `r` hooks.\n    - #1878 PR by @lorenzwalthert.\n- Upgrade `ruby-build` and `rbenv`.\n    - #1913 PR by @jalessio.\n\n### Fixes\n- Better detect `r` packages.\n    - #1898 PR by @lorenzwalthert.\n- Avoid warnings with mismatched `renv` versions.\n    - #1841 PR by @lorenzwalthert.\n- Reproducibly produce ruby tar resources.\n    - #1915 PR by @asottile.\n\n2.12.1 - 2021-04-16\n===================\n\n### Fixes\n- Fix race condition when stashing files in multiple parallel invocations\n    - #1881 PR by @adamchainz.\n    - #1880 issue by @adamchainz.\n\n2.12.0 - 2021-04-06\n===================\n\n### Features\n- Upgrade rbenv.\n    - #1854 PR by @asottile.\n    - #1848 issue by @sirosen.\n\n### Fixes\n- Give command length a little more room when running batch files on windows\n  so underlying commands can expand further.\n    - #1864 PR by @asottile.\n    - pre-commit/mirrors-prettier#7 issue by @DeltaXWizard.\n- Fix permissions of root folder in ruby archives.\n    - #1868 PR by @asottile.\n\n2.11.1 - 2021-03-09\n===================\n\n### Fixes\n- Fix r hooks when hook repo is a package\n    - #1831 PR by @lorenzwalthert.\n\n2.11.0 - 2021-03-07\n===================\n\n### Features\n- Improve warning for mutable ref.\n    - #1809 PR by @JamMarHer.\n- Add support for `post-merge` hook.\n    - #1800 PR by @psacawa.\n    - #1762 issue by @psacawa.\n- Add `r` as a supported hook language.\n    - #1799 PR by @lorenzwalthert.\n\n### Fixes\n- Fix `pre-commit install` on `subst` / network drives on windows.\n    - #1814 PR by @asottile.\n    - #1802 issue by @goroderickgo.\n- Fix installation of `local` golang repositories for go 1.16.\n    - #1818 PR by @rafikdraoui.\n    - #1815 issue by @rafikdraoui.\n\n2.10.1 - 2021-02-06\n===================\n\n### Fixes\n- Fix `language: golang` repositories containing recursive submodules\n    - #1788 issue by @gaurav517.\n    - #1789 PR by @paulhfischer.\n\n2.10.0 - 2021-01-27\n===================\n\n### Features\n- Allow `ci` as a top-level map for configuration for https://pre-commit.ci\n    - #1735 PR by @asottile.\n- Add warning for mutable `rev` in configuration\n    - #1715 PR by @paulhfischer.\n    - #974 issue by @asottile.\n- Add warning for `/*` in top-level `files` / `exclude` regexes\n    - #1750 PR by @paulhfischer.\n    - #1702 issue by @asottile.\n- Expose `PRE_COMMIT_REMOTE_BRANCH` environment variable during `pre-push`\n  hooks\n    - #1770 PR by @surafelabebe.\n- Produce error message for `language` / `language_version` for non-installable\n  languages\n    - #1771 PR by @asottile.\n\n### Fixes\n- Fix execution in worktrees in subdirectories of bare repositories\n    - #1778 PR by @asottile.\n    - #1777 issue by @s0undt3ch.\n\n2.9.3 - 2020-12-07\n==================\n\n### Fixes\n- Fix crash on cygwin mismatch check outside of a git directory\n    - #1721 PR by @asottile.\n    - #1720 issue by @chronoB.\n- Fix cleanup code on docker volumes for go\n    - #1725 PR by @fsouza.\n- Fix working directory detection on SUBST drives on windows\n    - #1727 PR by @mrogaski.\n    - #1610 issue by @jcameron73.\n\n2.9.2 - 2020-11-25\n==================\n\n### Fixes\n- Fix default value for `types_or` so `symlink` and `directory` can be matched\n    - #1716 PR by @asottile.\n    - #1718 issue by @CodeBleu.\n\n2.9.1 - 2020-11-25\n==================\n\n### Fixes\n- Improve error message for \"hook goes missing\"\n    - #1709 PR by @paulhfischer.\n    - #1708 issue by @theod07.\n- Add warning for `/*` in `files` / `exclude` regexes\n    - #1707 PR by @paulhfischer.\n    - #1702 issue by @asottile.\n- Fix `healthy()` check for `language: python` on windows when the base\n  executable has non-ascii characters.\n    - #1713 PR by @asottile.\n    - #1711 issue by @Najiva.\n\n2.9.0 - 2020-11-21\n==================\n\n### Features\n- Add `types_or` which allows matching multiple disparate `types` in a hook\n    - #1677 by @MarcoGorelli.\n    - #607 by @asottile.\n- Add Github Sponsors / Open Collective links\n    - https://github.com/sponsors/asottile\n    - https://opencollective.com/pre-commit\n\n### Fixes\n- Improve cleanup for `language: dotnet`\n    - #1678 by @rkm.\n- Fix \"xargs\" when running windows batch files\n    - #1686 PR by @asottile.\n    - #1604 issue by @apietrzak.\n    - #1604 issue by @ufwtlsb.\n- Fix conflict with external `rbenv` and `language_version: default`\n    - #1700 PR by @asottile.\n    - #1699 issue by @abuxton.\n- Improve performance of `git status` / `git diff` commands by ignoring\n  submodules\n    - #1704 PR by @Vynce.\n    - #1701 issue by @Vynce.\n\n2.8.2 - 2020-10-30\n==================\n\n### Fixes\n- Fix installation of ruby hooks with `language_version: default`\n    - #1671 issue by @aerickson.\n    - #1672 PR by @asottile.\n\n2.8.1 - 2020-10-28\n==================\n\n### Fixes\n- Allow default `language_version` of `system` when the homedir is `/`\n    - #1669 PR by @asottile.\n\n2.8.0 - 2020-10-28\n==================\n\n### Features\n- Update `rbenv` / `ruby-build`\n    - #1612 issue by @tdeo.\n    - #1614 PR by @asottile.\n- Update `sample-config` versions\n    - #1611 PR by @mcsitter.\n- Add new language: `dotnet`\n    - #1598 by @rkm.\n- Add `--negate` option to `language: pygrep` hooks\n    - #1643 PR by @MarcoGorelli.\n- Add zipapp support\n    - #1616 PR by @asottile.\n- Run pre-commit through https://pre-commit.ci\n    - #1662 PR by @asottile.\n- Add new language: `coursier` (a jvm-based package manager)\n    - #1633 PR by @JosephMoniz.\n- Exit with distinct codes: 1 (user error), 3 (unexpected error), 130 (^C)\n    - #1601 PR by @int3l.\n\n### Fixes\n- Improve `healthy()` check for `language: node` + `language_version: system`\n  hooks when the system executable goes missing.\n    - pre-commit/action#45 issue by @KOliver94.\n    - #1589 issue by @asottile.\n    - #1590 PR by @asottile.\n- Fix excess whitespace in error log traceback\n    - #1592 PR by @asottile.\n- Fix posixlike shebang invocations with shim executables of the git hook\n  script on windows.\n    - #1593 issue by @Celeborn2BeAlive.\n    - #1595 PR by @Celeborn2BeAlive.\n- Remove hard-coded `C:\\PythonXX\\python.exe` path on windows as it caused\n  confusion (and `virtualenv` can sometimes do better)\n    - #1599 PR by @asottile.\n- Fix `language: ruby` hooks when `--format-executable` is present in a gemrc\n    - issue by `Rainbow Tux` (discord).\n    - #1603 PR by @asottile.\n- Move `cygwin` / `win32` mismatch error earlier to catch msys2 mismatches\n    - #1605 issue by @danyeaw.\n    - #1606 PR by @asottile.\n- Remove `-p` workaround for old `virtualenv`\n    - #1617 PR by @asottile.\n- Fix `language: node` installations to not symlink outside of the environment\n    - pre-commit-ci/issues#2 issue by @DanielJSottile.\n    - #1667 PR by @asottile.\n- Don't identify shim executables as valid `system` for defaulting\n  `language_version` for `language: node` / `language: ruby`\n    - #1658 issue by @adithyabsk.\n    - #1668 PR by @asottile.\n\n\n2.7.1 - 2020-08-23\n==================\n\n### Fixes\n- Improve performance of docker hooks by removing slow `ps` call\n    - #1572 PR by @rkm.\n    - #1569 issue by @asottile.\n- Fix un-`healthy()` invalidation followed by install being reported as\n  un-`healthy()`.\n    - #1576 PR by @asottile.\n    - #1575 issue by @jab.\n- Fix rare file race condition on windows with `os.replace()`\n    - #1577 PR by @asottile.\n\n2.7.0 - 2020-08-22\n==================\n\n### Features\n- Produce error message if an environment is immediately unhealthy\n    - #1535 PR by @asottile.\n- Add --no-allow-missing-config option to init-templatedir\n    - #1539 PR by @singergr.\n- Add warning for old list-style configuration\n    - #1544 PR by @asottile.\n- Allow pre-commit to succeed on a readonly store.\n    - #1570 PR by @asottile.\n    - #1536 issue by @asottile.\n\n### Fixes\n- Fix error messaging when the store directory is readonly\n    - #1546 PR by @asottile.\n    - #1536 issue by @asottile.\n- Improve `diff` performance with many hooks\n    - #1566 PR by @jhenkens.\n    - #1564 issue by @jhenkens.\n\n\n2.6.0 - 2020-07-01\n==================\n\n### Fixes\n- Fix node hooks when `NPM_CONFIG_USERCONFIG` is set\n    - #1521 PR by @asottile.\n    - #1516 issue by @rkm.\n\n### Features\n- Skip `rbenv` / `ruby-download` if system ruby is available\n    - #1509 PR by @asottile.\n- Partial support for ruby on windows (if system ruby is installed)\n    - #1509 PR by @asottile.\n    - #201 issue by @asottile.\n\n2.5.1 - 2020-06-09\n==================\n\n### Fixes\n- Prevent infinite recursion of post-checkout on clone\n    - #1497 PR by @asottile.\n    - #1496 issue by @admorgan.\n\n2.5.0 - 2020-06-08\n==================\n\n### Features\n- Expose a `PRE_COMMIT=1` environment variable when running hooks\n    - #1467 PR by @tech-chad.\n    - #1426 issue by @lorenzwalthert.\n\n### Fixes\n- Fix `UnicodeDecodeError` on windows when using the `py` launcher to detect\n  executables with non-ascii characters in the path\n    - #1474 PR by @asottile.\n    - #1472 issue by DrFobos.\n- Fix `DeprecationWarning` on python3.9 for `random.shuffle` method\n    - #1480 PR by @asottile.\n    - #1479 issue by @isidentical.\n- Normalize slashes earlier such that global `files` / `exclude` use forward\n  slashes on windows as well.\n    - #1494 PR by @asottile.\n    - #1476 issue by @harrybiddle.\n\n2.4.0 - 2020-05-11\n==================\n\n### Features\n- Add support for `post-commit` hooks\n    - #1415 PR by @ModischFabrications.\n    - #1411 issue by @ModischFabrications.\n- Silence pip version warning in python installation error\n    - #1412 PR by @asottile.\n- Improve python `healthy()` when upgrading operating systems.\n    - #1431 PR by @asottile.\n    - #1427 issue by @ahonnecke.\n- `language: python_venv` is now an alias to `language: python` (and will be\n  removed in a future version).\n    - #1431 PR by @asottile.\n- Speed up python `healthy()` check.\n    - #1431 PR by @asottile.\n- `pre-commit autoupdate` now tries to maintain quoting style of `rev`.\n    - #1435 PR by @marcjay.\n    - #1434 issue by @marcjay.\n\n### Fixes\n- Fix installation of go modules in `repo: local`.\n    - #1428 PR by @scop.\n- Fix committing with unstaged files and a failing `post-checkout` hook.\n    - #1422 PR by @domodwyer.\n    - #1418 issue by @domodwyer.\n- Fix installation of node hooks with system node installed on freebsd.\n    - #1443 PR by @asottile.\n    - #1440 issue by @jockej.\n- Fix ruby hooks when `GEM_PATH` is set globally.\n    - #1442 PR by @tdeo.\n- Improve error message when `pre-commit autoupdate` /\n  `pre-commit migrate-config` are run but the pre-commit configuration is not\n  valid yaml.\n    - #1448 PR by @asottile.\n    - #1447 issue by @rpdelaney.\n\n2.3.0 - 2020-04-22\n==================\n\n### Features\n- Calculate character width using `east_asian_width`\n    - #1378 PR by @sophgn.\n- Use `language_version: system` by default for `node` hooks if `node` / `npm`\n  are globally installed.\n    - #1388 PR by @asottile.\n\n### Fixes\n- No longer use a hard-coded user id for docker hooks on windows\n    - #1371 PR by @killuazhu.\n- Fix colors on windows during `git commit`\n    - #1381 issue by @Cielquan.\n    - #1382 PR by @asottile.\n- Produce readable error message for incorrect argument count to `hook-impl`\n    - #1394 issue by @pip9ball.\n    - #1395 PR by @asottile.\n- Fix installations which involve an upgrade of `pip` on windows\n    - #1398 issue by @xiaohuazi123.\n    - #1399 PR by @asottile.\n- Preserve line endings in `pre-commit autoupdate`\n    - #1402 PR by @utek.\n\n2.2.0 - 2020-03-12\n==================\n\n### Features\n- Add support for the `post-checkout` hook\n    - #1120 issue by @domenkozar.\n    - #1339 PR by @andrewhare.\n- Add more readable `--from-ref` / `--to-ref` aliases for `--source` /\n  `--origin`\n    - #1343 PR by @asottile.\n\n### Fixes\n- Make sure that `--commit-msg-filename` is passed for `commit-msg` /\n  `prepare-commit-msg`.\n    - #1336 PR by @particledecay.\n    - #1341 PR by @particledecay.\n- Fix crash when installation error is un-decodable bytes\n    - #1358 issue by @Guts.\n    - #1359 PR by @asottile.\n- Fix python `healthy()` check when `python` executable goes missing.\n    - #1363 PR by @asottile.\n- Fix crash when script executables are missing shebangs.\n    - #1350 issue by @chriselion.\n    - #1364 PR by @asottile.\n\n### Misc.\n- pre-commit now requires python>=3.6.1 (previously 3.6.0)\n    - #1346 PR by @asottile.\n\n2.1.1 - 2020-02-24\n==================\n\n### Fixes\n- Temporarily restore python 3.6.0 support (broken in 2.0.0)\n    - reported by @obestwalter.\n    - 081f3028 by @asottile.\n\n2.1.0 - 2020-02-18\n==================\n\n### Features\n- Replace `aspy.yaml` with `sort_keys=False`.\n    - #1306 PR by @asottile.\n- Add support for `perl`.\n    - #1303 PR by @scop.\n\n### Fixes\n- Improve `.git/hooks/*` shebang creation when pythons are in `/usr/local/bin`.\n    - #1312 issue by @kbsezginel.\n    - #1319 PR by @asottile.\n\n### Misc.\n- Add repository badge for pre-commit.\n    - [![pre-commit](https://img.shields.io/badge/pre--commit-enabled-brightgreen?logo=pre-commit&logoColor=white)](https://github.com/pre-commit/pre-commit)\n    - #1334 PR by @ddelange.\n\n2.0.1 - 2020-01-29\n==================\n\n### Fixes\n- Fix `ImportError` in python 3.6.0 / 3.6.1 for `typing.NoReturn`.\n    - #1302 PR by @asottile.\n\n2.0.0 - 2020-01-28\n==================\n\n### Features\n- Expose `PRE_COMMIT_REMOTE_NAME` and `PRE_COMMIT_REMOTE_URL` as environment\n  variables during `pre-push` hooks.\n    - #1274 issue by @dmbarreiro.\n    - #1288 PR by @dmbarreiro.\n\n### Fixes\n- Fix `python -m pre_commit --version` to mention `pre-commit` instead of\n  `__main__.py`.\n    - #1273 issue by @ssbarnea.\n    - #1276 PR by @orcutt989.\n- Don't filter `GIT_SSL_NO_VERIFY` from environment when cloning.\n    - #1293 PR by @schiermike.\n- Allow `pre-commit init-templatedir` to succeed even if `core.hooksPath` is\n  set.\n    - #1298 issue by @damienrj.\n    - #1299 PR by @asottile.\n\n### Misc\n- Fix changelog date for 1.21.0.\n    - #1275 PR by @flaudisio.\n\n### Updating\n- Removed `pcre` language, use `pygrep` instead.\n    - #1268 PR by @asottile.\n- Removed `--tags-only` argument to `pre-commit autoupdate` (it has done\n  nothing since 0.14.0).\n    - #1269 by @asottile.\n- Remove python2 / python3.5 support.  Note that pre-commit still supports\n  running hooks written in python2, but pre-commit itself requires python 3.6+.\n    - #1260 issue by @asottile.\n    - #1277 PR by @asottile.\n    - #1281 PR by @asottile.\n    - #1282 PR by @asottile.\n    - #1287 PR by @asottile.\n    - #1289 PR by @asottile.\n    - #1292 PR by @asottile.\n\n1.21.0 - 2020-01-02\n===================\n\n### Features\n- Add `conda` as a new `language`.\n    - #1204 issue by @xhochy.\n    - #1232 PR by @xhochy.\n- Add top-level configuration `files` for file selection.\n    - #1220 issue by @TheButlah.\n    - #1248 PR by @asottile.\n- Rework `--verbose` / `verbose` to be more consistent with normal runs.\n    - #1249 PR by @asottile.\n- Add support for the `pre-merge-commit` git hook.\n    - #1210 PR by @asottile.\n    - this requires git 2.24+.\n- Add `pre-commit autoupdate --freeze` which produces \"frozen\" revisions.\n    - #1068 issue by @SkypLabs.\n    - #1256 PR by @asottile.\n- Display hook runtime duration when run with `--verbose`.\n    - #1144 issue by @potiuk.\n    - #1257 PR by @asottile.\n\n### Fixes\n- Produce better error message when erroneously running inside of `.git`.\n    - #1219 issue by @Nusserdt.\n    - #1224 PR by @asottile.\n    - Note: `git` has since fixed this bug: git/git@36fd304d\n- Produce better error message when hook installation fails.\n    - #1250 issue by @asottile.\n    - #1251 PR by @asottile.\n- Fix cloning when `GIT_SSL_CAINFO` is necessary.\n    - #1253 issue by @igankevich.\n    - #1254 PR by @igankevich.\n- Fix `pre-commit try-repo` for bare, on-disk repositories.\n    - #1258 issue by @webknjaz.\n    - #1259 PR by @asottile.\n- Add some whitespace to `pre-commit autoupdate` to improve terminal autolink.\n    - #1261 issue by @yhoiseth.\n    - #1262 PR by @yhoiseth.\n\n### Misc.\n- Minor code documentation updates.\n    - #1200 PR by @ryanrhee.\n    - #1201 PR by @ryanrhee.\n\n1.20.0 - 2019-10-28\n===================\n\n### Features\n- Allow building newer versions of `ruby`.\n    - #1193 issue by @choffee.\n    - #1195 PR by @choffee.\n- Bump versions reported in `pre-commit sample-config`.\n    - #1197 PR by @asottile.\n\n### Fixes\n- Fix rare race condition with multiple concurrent first-time runs.\n    - #1192 issue by @raholler.\n    - #1196 PR by @asottile.\n\n1.19.0 - 2019-10-26\n===================\n\n### Features\n- Allow `--hook-type` to be specified multiple times.\n    - example: `pre-commit install --hook-type pre-commit --hook-type pre-push`\n    - #1139 issue by @MaxymVlasov.\n    - #1145 PR by @asottile.\n- Include more version information in crash logs.\n    - #1142 by @marqueewinq.\n- Hook colors are now passed through on platforms which support `pty`.\n    - #1169 by @asottile.\n- pre-commit now  uses `importlib.metadata` directly when running in python 3.8\n    - #1176 by @asottile.\n- Normalize paths to forward slash separators on windows.\n    - makes it easier to match paths with `files:` regex\n    - avoids some quoting bugs in shell-based hooks\n    - #1173 issue by @steigenTI.\n    - #1179 PR by @asottile.\n\n### Fixes\n- Remove some extra newlines from error messages.\n    - #1148 by @asottile.\n- When a hook is not executable it now reports `not executable` instead of\n  `not found`.\n    - #1159 issue by @nixjdm.\n    - #1161 PR by @WillKoehrsen.\n- Fix interleaving of stdout / stderr in hooks.\n    - #1168 by @asottile.\n- Fix python environment `healthy()` check when current working directory\n  contains modules which shadow standard library names.\n    - issue by @vwhsu92.\n    - #1185 PR by @asottile.\n\n### Updating\n- Regexes handling both backslashes and forward slashes for directory\n  separators now only need to handle forward slashes.\n\n1.18.3 - 2019-08-27\n===================\n\n### Fixes\n- Fix `node_modules` plugin installation on windows\n    - #1123 issue by @henryykt.\n    - #1122 PR by @henryykt.\n\n1.18.2 - 2019-08-15\n===================\n\n### Fixes\n- Make default python lookup more deterministic to avoid redundant installs\n    - #1117 PR by @scop.\n\n1.18.1 - 2019-08-11\n===================\n\n### Fixes\n- Fix installation of `rust` hooks with new `cargo`\n    - #1112 issue by @zimbatm.\n    - #1113 PR by @zimbatm.\n\n1.18.0 - 2019-08-03\n===================\n\n### Features\n- Use the current running executable if it matches the requested\n  `language_version`\n    - #1062 PR by @asottile.\n- Print the stage when a hook is not found\n    - #1078 issue by @madkinsz.\n    - #1079 PR by @madkinsz.\n- `pre-commit autoupdate` now supports non-`master` default branches\n    - #1089 PR by @asottile.\n- Add `pre-commit init-templatedir` which makes it easier to automatically\n  enable `pre-commit` in cloned repositories.\n    - #1084 issue by @ssbarnea.\n    - #1090 PR by @asottile.\n    - #1107 PR by @asottile.\n- pre-commit's color can be controlled using\n  `PRE_COMMIT_COLOR={auto,always,never}`\n    - #1073 issue by @saper.\n    - #1092 PR by @geieredgar.\n    - #1098 PR by @geieredgar.\n- pre-commit's color can now be disabled using `TERM=dumb`\n    - #1073 issue by @saper.\n    - #1103 PR by @asottile.\n- pre-commit now supports `docker` based hooks on windows\n    - #1072 by @cz-fish.\n    - #1093 PR by @geieredgar.\n\n### Fixes\n- Fix shallow clone\n    - #1077 PR by @asottile.\n- Fix autoupdate version flip flop when using shallow cloning\n    - #1076 issue by @mxr.\n    - #1088 PR by @asottile.\n- Fix autoupdate when the current revision is invalid\n    - #1088 PR by @asottile.\n\n### Misc.\n- Replace development instructions with `tox --devenv ...`\n    - #1032 issue by @yoavcaspi.\n    - #1067 PR by @asottile.\n\n\n1.17.0 - 2019-06-06\n===================\n\n### Features\n- Produce better output on `^C`\n    - #1030 PR by @asottile.\n- Warn on unknown keys at the top level and repo level\n    - #1028 PR by @yoavcaspi.\n    - #1048 PR by @asottile.\n\n### Fixes\n- Fix handling of `^C` in wrapper script in python 3.x\n    - #1027 PR by @asottile.\n- Fix `rmtree` for non-writable directories\n    - #1042 issue by @detailyang.\n    - #1043 PR by @asottile.\n- Pass `--color` option to `git diff` in `--show-diff-on-failure`\n    - #1007 issue by @chadrik.\n    - #1051 PR by @mandarvaze.\n\n### Misc.\n- Fix test when `pre-commit` is installed globally\n    - #1032 issue by @yoavcaspi.\n    - #1045 PR by @asottile.\n\n\n1.16.1 - 2019-05-08\n===================\n\n### Fixes\n- Don't `UnicodeDecodeError` on unexpected non-UTF8 output in python health\n  check on windows.\n    - #1021 issue by @nicoddemus.\n    - #1022 PR by @asottile.\n\n1.16.0 - 2019-05-04\n===================\n\n### Features\n- Add support for `prepare-commit-msg` hook\n    - #1004 PR by @marcjay.\n\n### Fixes\n- Fix repeated legacy `pre-commit install` on windows\n    - #1010 issue by @AbhimanyuHK.\n    - #1011 PR by @asottile.\n- Whitespace fixup\n    - #1014 PR by @mxr.\n- Fix CI check for working pcre support\n    - #1015 PR by @Myrheimb.\n\n### Misc.\n- Switch CI from travis / appveyor to azure pipelines\n    - #1012 PR by @asottile.\n\n1.15.2 - 2019-04-16\n===================\n\n### Fixes\n- Fix cloning non-branch tag while in the fallback slow-clone strategy.\n    - #997 issue by @jpinner.\n    - #998 PR by @asottile.\n\n1.15.1 - 2019-04-01\n===================\n\n### Fixes\n- Fix command length calculation on posix when `SC_ARG_MAX` is not defined.\n    - #691 issue by @ushuz.\n    - #987 PR by @asottile.\n\n1.15.0 - 2019-03-30\n===================\n\n### Features\n- No longer require being in a `git` repo to run `pre-commit` `clean` / `gc` /\n  `sample-config`.\n    - #959 PR by @asottile.\n- Improve command line length limit detection.\n    - #691 issue by @antonbabenko.\n    - #966 PR by @asottile.\n- Use shallow cloning when possible.\n    - #958 PR by @DanielChabrowski.\n- Add `minimum_pre_commit_version` top level key to require a new-enough\n  version of `pre-commit`.\n    - #977 PR by @asottile.\n- Add helpful CI-friendly message when running\n  `pre-commit run --all-files --show-diff-on-failure`.\n  - #982 PR by @bnorquist.\n\n### Fixes\n- Fix `try-repo` for staged untracked changes.\n    - #973 PR by @DanielChabrowski.\n- Fix rpm build by explicitly using `#!/usr/bin/env python3` in hook template.\n    - #985 issue by @tim77.\n    - #986 PR by @tim77.\n- Guard against infinite recursion when executing legacy hook script.\n    - #981 PR by @tristan0x.\n\n### Misc\n- Add test for `git.no_git_env()`\n    - #972 PR by @javabrett.\n\n1.14.4 - 2019-02-18\n===================\n\n### Fixes\n- Don't filter `GIT_SSH_COMMAND` env variable from `git` commands\n    - #947 issue by @firba1.\n    - #948 PR by @firba1.\n- Install npm packages as if they were installed from `git`\n    - #943 issue by @ssbarnea.\n    - #949 PR by @asottile.\n- Don't filter `GIT_EXEC_PREFIX` env variable from `git` commands\n    - #664 issue by @revolter.\n    - #944 PR by @minrk.\n\n1.14.3 - 2019-02-04\n===================\n\n### Fixes\n- Improve performance of filename classification by 45% - 55%.\n    - #921 PR by @asottile.\n- Fix installing `go` hooks while `GOBIN` environment variable is set.\n    - #924 PR by @ashanbrown.\n- Fix crash while running `pre-commit migrate-config` / `pre-commit autoupdate`\n  with an empty configuration file.\n    - #929 issue by @ardakuyumcu.\n    - #933 PR by @jessebona.\n- Require a newer virtualenv to fix metadata-based setup.cfg installs.\n    - #936 PR by @asottile.\n\n1.14.2 - 2019-01-10\n===================\n\n### Fixes\n- Make the hook shebang detection more timid (1.14.0 regression)\n    - Homebrew/homebrew-core#35825.\n    - #915 PR by @asottile.\n\n1.14.1 - 2019-01-10\n===================\n\n### Fixes\n- Fix python executable lookup on windows when using conda\n    - #913 issue by @dawelter2.\n    - #914 PR by @asottile.\n\n1.14.0 - 2019-01-08\n===================\n\n### Features\n- Add an `alias` configuration value to allow repeated hooks to be\n  differentiated\n    - #882 issue by @s0undt3ch.\n    - #886 PR by @s0undt3ch.\n- Add `identity` meta hook which just prints filenames\n    - #865 issue by @asottile.\n    - #898 PR by @asottile.\n- Factor out `cached-property` and improve startup performance by ~10%\n    - #899 PR by @asottile.\n- Add a warning on unexpected keys in configuration\n    - #899 PR by @asottile.\n- Teach `pre-commit try-repo` to clone uncommitted changes on disk.\n    - #589 issue by @sverhagen.\n    - #703 issue by @asottile.\n    - #904 PR by @asottile.\n- Implement `pre-commit gc` which will clean up no-longer-referenced cache\n  repos.\n    - #283 issue by @jtwang.\n    - #906 PR by @asottile.\n- Add top level config `default_language_version` to streamline overriding the\n  `language_version` configuration in many places\n    - #647 issue by @asottile.\n    - #908 PR by @asottile.\n- Add top level config `default_stages` to streamline overriding the `stages`\n  configuration in many places\n    - #768 issue by @mattlqx.\n    - #909 PR by @asottile.\n\n### Fixes\n- More intelligently pick hook shebang (`#!/usr/bin/env python3`)\n    - #878 issue by @fristedt.\n    - #893 PR by @asottile.\n- Several fixes related to `--files` / `--config`:\n    - `pre-commit run --files x` outside of a git dir no longer stacktraces\n    - `pre-commit run --config ./relative` while in a sub directory of the git\n      repo is now able to find the configuration\n    - `pre-commit run --files ...` no longer runs a subprocess per file\n      (performance)\n    - #895 PR by @asottile.\n- `pre-commit try-repo ./relative` while in a sub directory of the git repo is\n  now able to clone properly\n    - #903 PR by @asottile.\n- Ensure `meta` repos cannot have a language other than `system`\n    - #905 issue by @asottile.\n    - #907 PR by @asottile.\n- Fix committing with unstaged files that were `git add --intent-to-add` added\n    - #881 issue by @henniss.\n    - #912 PR by @asottile.\n\n### Misc.\n- Use `--no-gpg-sign` when running tests\n    - #894 PR by @s0undt3ch.\n\n\n1.13.0 - 2018-12-20\n===================\n\n### Features\n- Run hooks in parallel\n    - individual hooks may opt out of parallel execution with `require_serial: true`\n    - #510 issue by @chriskuehl.\n    - #851 PR by @chriskuehl.\n\n### Fixes\n- Improve platform-specific `xargs` command length detection\n    - #691 issue by @antonbabenko.\n    - #839 PR by @georgeyk.\n- Fix `pre-commit autoupdate` when updating to a latest tag missing a\n  `.pre-commit-hooks.yaml`\n    - #856 issue by @asottile.\n    - #857 PR by @runz0rd.\n- Upgrade the `pre-commit-hooks` version in `pre-commit sample-config`\n    - #870 by @asottile.\n- Improve balancing of multiprocessing by deterministic shuffling of args\n    - #861 issue by @Dunedan.\n    - #874 PR by @chriskuehl.\n- `ruby` hooks work with latest `gem` by removing `--no-ri` / `--no-rdoc` and\n  instead using `--no-document`.\n    - #889 PR by @asottile.\n\n### Misc.\n- Use `--no-gpg-sign` when running tests\n    - #885 PR by @s0undt3ch.\n\n### Updating\n- If a hook requires serial execution, set `require_serial: true` to avoid the new\n  parallel execution.\n- `ruby` hooks now require `gem>=2.0.0`.  If your platform doesn't support this\n  by default, select a newer version using\n  [`language_version`](https://pre-commit.com/#overriding-language-version).\n\n\n1.12.0 - 2018-10-23\n===================\n\n### Fixes\n- Install multi-hook repositories only once (performance)\n    - issue by @chriskuehl.\n    - #852 PR by @asottile.\n- Improve performance by factoring out pkg_resources (performance)\n    - #840 issue by @RonnyPfannschmidt.\n    - #846 PR by @asottile.\n\n1.11.2 - 2018-10-10\n===================\n\n### Fixes\n- `check-useless-exclude` now considers `types`\n    - #704 issue by @asottile.\n    - #837 PR by @georgeyk.\n- `pre-push` hook was not identifying all commits on push to new branch\n    - #843 issue by @prem-nuro.\n    - #844 PR by @asottile.\n\n1.11.1 - 2018-09-22\n===================\n\n### Fixes\n- Fix `.git` dir detection in `git<2.5` (regression introduced in\n  [1.10.5](#1105))\n    - #831 issue by @mmacpherson.\n    - #832 PR by @asottile.\n\n1.11.0 - 2018-09-02\n===================\n\n### Features\n- Add new `fail` language which always fails\n    - light-weight way to forbid files by name.\n    - #812 #821 PRs by @asottile.\n\n### Fixes\n- Fix `ResourceWarning`s for unclosed files\n    - #811 PR by @BoboTiG.\n- Don't write ANSI colors on windows when color enabling fails\n    - #819 PR by @jeffreyrack.\n\n1.10.5 - 2018-08-06\n===================\n\n### Fixes\n- Work around `PATH` issue with `brew` `python` on `macos`\n    - Homebrew/homebrew-core#30445 issue by @asottile.\n    - #805 PR by @asottile.\n- Support `pre-commit install` inside a worktree\n    - #808 issue by @s0undt3ch.\n    - #809 PR by @asottile.\n\n1.10.4 - 2018-07-22\n===================\n\n### Fixes\n- Replace `yaml.load` with safe alternative\n    - `yaml.load` can lead to arbitrary code execution, though not where it\n      was used\n    - issue by @tonybaloney.\n    - #779 PR by @asottile.\n- Improve not found error with script paths (`./exe`)\n    - #782 issue by @ssbarnea.\n    - #785 PR by @asottile.\n- Fix minor buffering issue during `--show-diff-on-failure`\n    - #796 PR by @asottile.\n- Default `language_version: python3` for `python_venv` when running in python2\n    - #794 issue by @ssbarnea.\n    - #797 PR by @asottile.\n- `pre-commit run X` only run `X` and not hooks with `stages: [...]`\n    - #772 issue by @asottile.\n    - #803 PR by @mblayman.\n\n### Misc.\n- Improve travis-ci build times by caching rust / swift artifacts\n    - #781 PR by @expobrain.\n- Test against python3.7\n    - #789 PR by @expobrain.\n\n1.10.3 - 2018-07-02\n===================\n\n### Fixes\n- Fix `pre-push` during a force push without a fetch\n    - #777 issue by @domenkozar.\n    - #778 PR by @asottile.\n\n1.10.2 - 2018-06-11\n===================\n\n### Fixes\n- pre-commit now invokes hooks with a consistent ordering of filenames\n    - issue by @mxr.\n    - #767 PR by @asottile.\n\n1.10.1 - 2018-05-28\n===================\n\n### Fixes\n- `python_venv` language would leak dependencies when pre-commit was installed\n  in a `-mvirtualenv` virtualenv\n    - #755 #756 issue and PR by @asottile.\n\n1.10.0 - 2018-05-26\n===================\n\n### Features\n- Add support for hooks written in `rust`\n    - #751 PR by @chriskuehl.\n\n1.9.0 - 2018-05-21\n==================\n\n### Features\n- Add new `python_venv` language which uses the `venv` module instead of\n  `virtualenv`\n    - #631 issue by @dongyuzheng.\n    - #739 PR by @ojii.\n- Include `LICENSE` in distribution\n    - #745 issue by @nicoddemus.\n    - #746 PR by @nicoddemus.\n\n### Fixes\n- Normalize relative paths for `pre-commit try-repo`\n    - #750 PR by @asottile.\n\n\n1.8.2 - 2018-03-17\n==================\n\n### Fixes\n- Fix cloning relative paths (regression in 1.7.0)\n    - #728 issue by @jdswensen.\n    - #729 PR by @asottile.\n\n\n1.8.1 - 2018-03-12\n==================\n\n### Fixes\n- Fix integration with go 1.10 and `pkg` directory\n    - #725 PR by @asottile\n- Restore support for `git<1.8.5` (inadvertently removed in 1.7.0)\n    - #723 issue by @JohnLyman.\n    - #724 PR by @asottile.\n\n\n1.8.0 - 2018-03-11\n==================\n\n### Features\n- Add a `manual` stage for cli-only interaction\n    - #719 issue by @hectorv.\n    - #720 PR by @asottile.\n- Add a `--multiline` option to `pygrep` hooks\n    - #716 PR by @tdeo.\n\n\n1.7.0 - 2018-03-03\n==================\n\n### Features\n- pre-commit config validation was split to a separate `cfgv` library\n    - #700 PR by @asottile.\n- Allow `--repo` to be specified multiple times to autoupdate\n    - #658 issue by @KevinHock.\n    - #713 PR by @asottile.\n- Enable `rev` as a preferred alternative to `sha` in `.pre-commit-config.yaml`\n    - #106 issue by @asottile.\n    - #715 PR by @asottile.\n- Use `--clean-src` option when invoking `nodeenv` to save ~70MB per node env\n    - #717 PR by @asottile.\n- Refuse to install with `core.hooksPath` set\n    - pre-commit/pre-commit-hooks#250 issue by @revolter.\n    - #663 issue by @asottile.\n    - #718 PR by @asottile.\n\n### Fixes\n- hooks with `additional_dependencies` now get isolated environments\n    - #590 issue by @coldnight.\n    - #711 PR by @asottile.\n\n### Misc.\n- test against swift 4.x\n    - #709 by @theresama.\n\n### Updating\n\n- Run `pre-commit migrate-config` to convert `sha` to `rev` in the\n  `.pre-commit-config.yaml` file.\n\n\n1.6.0 - 2018-02-04\n==================\n\n### Features\n- Hooks now may have a `verbose` option to produce output even without failure\n    - #689 issue by @bagerard.\n    - #695 PR by @bagerard.\n- Installed hook no longer requires `bash`\n    - #699 PR by @asottile.\n\n### Fixes\n- legacy pre-push / commit-msg hooks are now invoked as if `git` called them\n    - #693 issue by @samskiter.\n    - #694 PR by @asottile.\n    - #699 PR by @asottile.\n\n1.5.1 - 2018-01-24\n==================\n\n### Fixes\n- proper detection for root commit during pre-push\n    - #503 PR by @philipgian.\n    - #692 PR by @samskiter.\n\n1.5.0 - 2018-01-13\n==================\n\n### Features\n- pre-commit now supports node hooks on windows.\n    - for now, requires python3 due to https://bugs.python.org/issue32539\n    - huge thanks to @wenzowski for the tip!\n    - #200 issue by @asottile.\n    - #685 PR by @asottile.\n\n### Misc.\n- internal reorganization of `PrefixedCommandRunner` -> `Prefix`\n    - #684 PR by @asottile.\n- https-ify links.\n    - pre-commit.com is now served over https.\n    - #688 PR by @asottile.\n\n\n1.4.5 - 2018-01-09\n==================\n\n### Fixes\n- Fix `local` golang repositories with `additional_dependencies`.\n    - #679 #680 issue and PR by @asottile.\n\n### Misc.\n- Replace some string literals with constants\n    - #678 PR by @revolter.\n\n1.4.4 - 2018-01-07\n==================\n\n### Fixes\n- Invoke `git diff` without a pager during `--show-diff-on-failure`.\n    - #676 PR by @asottile.\n\n1.4.3 - 2018-01-02\n==================\n\n### Fixes\n- `pre-commit` on windows can find pythons at non-hardcoded paths.\n    - #674 PR by @asottile.\n\n1.4.2 - 2018-01-02\n==================\n\n### Fixes\n- `pre-commit` no longer clears `GIT_SSH` environment variable when cloning.\n    - #671 PR by @rp-tanium.\n\n1.4.1 - 2017-11-09\n==================\n\n### Fixes\n- `pre-commit autoupdate --repo ...` no longer deletes other repos.\n    - #660 issue by @KevinHock.\n    - #661 PR by @KevinHock.\n\n1.4.0 - 2017-11-08\n==================\n\n### Features\n- Lazily install repositories.\n    - When running `pre-commit run <hookid>`, pre-commit will only install\n      the necessary repositories.\n    - #637 issue by @webknjaz.\n    - #639 PR by @asottile.\n- Version defaulting now applies to local hooks as well.\n    - This extends #556 to apply to local hooks.\n    - #646 PR by @asottile.\n- Add new `repo: meta` hooks.\n    - `meta` hooks expose some linters of the pre-commit configuration itself.\n    - `id: check-useless-excludes`: ensures that `exclude` directives actually\n      apply to *any* file in the repository.\n    - `id: check-hooks-apply`: ensures that the configured hooks apply to\n      at least one file in the repository.\n    - pre-commit/pre-commit-hooks#63 issue by @asottile.\n    - #405 issue by @asottile.\n    - #643 PR by @hackedd.\n    - #653 PR by @asottile.\n    - #654 PR by @asottile.\n- Allow a specific repository to be autoupdated instead of all repositories.\n    - `pre-commit autoupdate --repo ...`\n    - #656 issue by @KevinHock.\n    - #657 PR by @KevinHock.\n\n### Fixes\n- Apply selinux labelling option to docker volumes\n    - #642 PR by @jimmidyson.\n\n\n1.3.0 - 2017-10-08\n==================\n\n### Features\n- Add `pre-commit try-repo` commands\n    - The new `try-repo` takes a repo and will run the hooks configured in\n      that hook repository.\n    - An example invocation:\n      `pre-commit try-repo https://github.com/pre-commit/pre-commit-hooks`\n    - `pre-commit try-repo` can also take all the same arguments as\n      `pre-commit run`.\n    - It can be used to try out a repository without needing to configure it.\n    - It can also be used to test a hook repository while developing it.\n    - #589 issue by @sverhagen.\n    - #633 PR by @asottile.\n\n1.2.0 - 2017-10-03\n==================\n\n### Features\n- Add `pygrep` language\n    - `pygrep` aims to be a more cross-platform alternative to `pcre` hooks.\n    - #630 PR by @asottile.\n\n### Fixes\n- Use `pipes.quote` for executable path in hook template\n    - Fixes bash syntax error when git dir contains spaces\n    - #626 PR by @asottile.\n- Clean up hook template\n    - Simplify code\n    - Fix `--config` not being respected in some situations\n    - #627 PR by @asottile.\n- Use `file://` protocol for cloning under test\n    - Fix `file://` clone paths being treated as urls for golang\n    - #629 PR by @asottile.\n- Add `ctypes` as an import for virtualenv healthchecks\n    - Fixes python3.6.2 <=> python3.6.3 virtualenv invalidation\n    - e70825ab by @asottile.\n\n1.1.2 - 2017-09-20\n==================\n\n### Fixes\n- pre-commit can successfully install commit-msg hooks\n    - Due to an oversight, the commit-msg-tmpl was missing from the packaging\n    - #623 issue by @sobolevn.\n    - #624 PR by @asottile.\n\n1.1.1 - 2017-09-17\n==================\n\n### Features\n- pre-commit also checks the `ssl` module for virtualenv health\n    - Suggestion by @merwok.\n    - #619 PR by @asottile.\n### Fixes\n- pre-commit no longer crashes with unstaged files when run for the first time\n    - #620 #621 issue by @Lucas-C.\n    - #622 PR by @asottile.\n\n1.1.0 - 2017-09-11\n==================\n\n### Features\n- pre-commit configuration gains a `fail_fast` option.\n    - You must be using the v2 configuration format introduced in 1.0.0.\n    - `fail_fast` defaults to `false`.\n    - #240 issue by @Lucas-C.\n    - #616 PR by @asottile.\n- pre-commit configuration gains a global `exclude` option.\n    - This option takes a python regular expression and can be used to exclude\n      files from _all_ hooks.\n    - You must be using the v2 configuration format introduced in 1.0.0.\n    - #281 issue by @asieira.\n    - #617 PR by @asottile.\n\n1.0.1 - 2017-09-07\n==================\n\n### Fixes\n- Fix a regression in the return code of `pre-commit autoupdate`\n    - `pre-commit migrate-config` and `pre-commit autoupdate` return 0 when\n      successful.\n    - #614 PR by @asottile.\n\n1.0.0 - 2017-09-07\n==================\npre-commit will now be following [semver](https://semver.org/).  Thanks to all\nof the [contributors](https://github.com/pre-commit/pre-commit/graphs/contributors)\nthat have helped us get this far!\n\n### Features\n\n- pre-commit's cache directory has moved from `~/.pre-commit` to\n  `$XDG_CACHE_HOME/pre-commit` (usually `~/.cache/pre-commit`).\n    - `pre-commit clean` now cleans up both the old and new directory.\n    - If you were caching this directory in CI, you'll want to adjust the\n      location.\n    - #562 issue by @nagromc.\n    - #602 PR by @asottile.\n- A new configuration format for `.pre-commit-config.yaml` is introduced which\n  will enable future development.\n    - The new format has a top-level map instead of a top-level list.  The\n      new format puts the hook repositories in a `repos` key.\n    - Old list-based configurations will continue to be supported.\n    - A command `pre-commit migrate-config` has been introduced to \"upgrade\"\n      the configuration format to the new map-based configuration.\n    - `pre-commit autoupdate` now automatically calls `migrate-config`.\n    - In a later release, list-based configurations will issue a deprecation\n      warning.\n    - An example diff for upgrading a configuration:\n\n    ```diff\n    +repos:\n     -   repo: https://github.com/pre-commit/pre-commit-hooks\n         sha: v0.9.2\n         hooks:\n    ```\n    - #414 issue by @asottile.\n    - #610 PR by @asottile.\n\n### Updating\n\n- Run `pre-commit migrate-config` to convert `.pre-commit-config.yaml` to the\n  new map format.\n- Update any references from `~/.pre-commit` to `~/.cache/pre-commit`.\n\n0.18.3 - 2017-09-06\n===================\n- Allow --config to affect `pre-commit install`\n- Tweak not found error message during `pre-push` / `commit-msg`\n- Improve node support when running under cygwin.\n\n0.18.2 - 2017-09-05\n===================\n- Fix `--all-files`, detection of staged files, detection of manually edited\n  files during merge conflict, and detection of files to push for non-ascii\n  filenames.\n\n0.18.1 - 2017-09-04\n===================\n- Only mention locking when waiting for a lock.\n- Fix `IOError` during locking in timeout situation on windows under python 2.\n\n0.18.0 - 2017-09-02\n===================\n- Add a new `docker_image` language type.  `docker_image` is intended to be a\n  lightweight hook type similar to `system` / `script` which allows one to use\n  an existing docker image that provides a hook.  `docker_image` hooks can\n  also be used as repository `local` hooks.\n\n0.17.0 - 2017-08-24\n===================\n- Fix typos in help\n- Allow `commit-msg` hook to be uninstalled\n- Upgrade the `sample-config`\n- Remove undocumented `--no-stash` and `--allow-unstaged-config`\n- Remove `validate_config` hook pre-commit hook.\n- Fix installation race condition when multiple `pre-commit` processes would\n  attempt to install the same repository.\n\n0.16.3 - 2017-08-10\n===================\n- autoupdate attempts to maintain config formatting.\n\n0.16.2 - 2017-08-06\n===================\n- Initialize submodules in hook repositories.\n\n0.16.1 - 2017-08-04\n===================\n- Improve node support when running under cygwin.\n\n0.16.0 - 2017-08-01\n===================\n- Remove backward compatibility with repositories providing metadata via\n  `hooks.yaml`.  New repositories should provide `.pre-commit-hooks.yaml`.\n  Run `pre-commit autoupdate` to upgrade to the latest repositories.\n- Improve golang support when running under cygwin.\n- Fix crash with unstaged trailing whitespace additions while git was\n  configured with `apply.whitespace = error`.\n- Fix crash with unstaged end-of-file crlf additions and the file's lines\n  ended with crlf while git was configured with `core-autocrlf = true`.\n\n0.15.4 - 2017-07-23\n===================\n- Add support for the `commit-msg` git hook\n\n0.15.3 - 2017-07-20\n===================\n- Recover from invalid python virtualenvs\n\n\n0.15.2 - 2017-07-09\n===================\n- Work around a windows-specific virtualenv bug pypa/virtualenv#1062\n  This failure mode was introduced in 0.15.1\n\n0.15.1 - 2017-07-09\n===================\n- Use a more intelligent default language version for python\n\n0.15.0 - 2017-07-02\n===================\n- Add `types` and `exclude_types` for filtering files.  These options take\n  an array of \"tags\" identified for each file.  The tags are sourced from\n  [identify](https://github.com/chriskuehl/identify).  One can list the tags\n  for a file by running `identify-cli filename`.\n- `files` is now optional (defaulting to `''`)\n- `always_run` + missing `files` also defaults to `files: ''` (previously it\n  defaulted to `'^$'` (this reverses e150921c).\n\n0.14.3 - 2017-06-28\n===================\n- Expose `--origin` and `--source` as `PRE_COMMIT_ORIGIN` and\n  `PRE_COMMIT_SOURCE` environment variables when running as `pre-push`.\n\n0.14.2 - 2017-06-09\n===================\n- Use `--no-ext-diff` when running `git diff`\n\n0.14.1 - 2017-06-02\n===================\n- Don't crash when `always_run` is `True` and `files` is not provided.\n- Set `VIRTUALENV_NO_DOWNLOAD` when making python virtualenvs.\n\n0.14.0 - 2017-05-16\n===================\n- Add a `pre-commit sample-config` command\n- Enable ansi color escapes on modern windows\n- `autoupdate` now defaults to `--tags-only`, use `--bleeding-edge` for the\n  old behavior\n- Add support for `log_file` in hook configuration to tee hook output to a\n  file for CI consumption, etc.\n- Fix crash with unicode commit messages during merges in python 2.\n- Add a `pass_filenames` option to allow disabling automatic filename\n  positional arguments to hooks.\n\n0.13.6 - 2017-03-27\n===================\n- Fix regression in 0.13.5: allow `always_run` and `files` together despite\n  doing nothing.\n\n0.13.5 - 2017-03-26\n===================\n- 0.13.4 contained incorrect files\n\n0.13.4 - 2017-03-26\n===================\n- Add `--show-diff-on-failure` option to `pre-commit run`\n- Replace `jsonschema` with better error messages\n\n0.13.3 - 2017-02-23\n===================\n- Add `--allow-missing-config` to install: allows `git commit` without a\n  configuration.\n\n0.13.2 - 2017-02-17\n===================\n- Version the local hooks repo\n- Allow `minimum_pre_commit_version` for local hooks\n\n0.13.1 - 2017-02-16\n===================\n- Fix placeholder gem for ruby local hooks\n\n0.13.0 - 2017-02-16\n===================\n- Autoupdate now works even when the current state is broken.\n- Improve pre-push fileset on new branches\n- Allow \"language local\" hooks, hooks which install dependencies using\n  `additional_dependencies` and `language` are now allowed in `repo: local`.\n\n0.12.2 - 2017-01-27\n===================\n- Fix docker hooks on older (<1.12) docker\n\n0.12.1 - 2017-01-25\n===================\n- golang hooks now support additional_dependencies\n- Added a --tags-only option to pre-commit autoupdate\n\n0.12.0 - 2017-01-24\n===================\n- The new default file for implementing hooks in remote repositories is now\n  .pre-commit-hooks.yaml to encourage repositories to add the metadata.  As\n  such, the previous hooks.yaml is now deprecated and generates a warning.\n- Fix bug with local configuration interfering with ruby hooks\n- Added support for hooks written in golang.\n\n0.11.0 - 2017-01-20\n===================\n- SwiftPM support.\n\n0.10.1 - 2017-01-05\n===================\n- shlex entry of docker based hooks.\n- Make shlex behaviour of entry more consistent.\n\n0.10.0 - 2017-01-04\n===================\n- Add an `install-hooks` command similar to `install --install-hooks` but\n  without the `install` side-effects.\n- Adds support for docker based hooks.\n\n0.9.4 - 2016-12-05\n==================\n- Warn when cygwin / python mismatch\n- Add --config for customizing configuration during run\n- Update rbenv + plugins to latest versions\n- pcre hooks now fail when grep / ggrep are not present\n\n0.9.3 - 2016-11-07\n==================\n- Fix python hook installation when a strange setup.cfg exists\n\n0.9.2 - 2016-10-25\n==================\n- Remove some python2.6 compatibility\n- UI is no longer sized to terminal width, instead 80 characters or longest\n  necessary width.\n- Fix inability to create python hook environments when using venv / pyvenv on\n  osx\n\n0.9.1 - 2016-09-10\n==================\n- Remove some python2.6 compatibility\n- Fix staged-files-only with external diff tools\n\n0.9.0 - 2016-08-31\n==================\n- Only consider forward diff in changed files\n- Don't run on staged deleted files that still exist\n- Autoupdate to tags when available\n- Stop supporting python2.6\n- Fix crash with staged files containing unstaged lines which have non-utf8\n  bytes and trailing whitespace\n\n0.8.2 - 2016-05-20\n==================\n- Fix a crash introduced in 0.8.0 when an executable was not found\n\n0.8.1 - 2016-05-17\n==================\n- Fix regression introduced in 0.8.0 when already using rbenv with no\n  configured ruby hook version\n\n0.8.0 - 2016-04-11\n==================\n- Fix --files when running in a subdir\n- Improve --help a bit\n- Switch to pyterminalsize for determining terminal size\n\n0.7.6 - 2016-01-19\n==================\n- Work under latest virtualenv\n- No longer create empty directories on windows with latest virtualenv\n\n0.7.5 - 2016-01-15\n==================\n- Consider dead symlinks as files when committing\n\n0.7.4 - 2016-01-12\n==================\n- Produce error message instead of crashing on non-utf8 installation failure\n\n0.7.3 - 2015-12-22\n==================\n- Fix regression introduced in 0.7.1 breaking `git commit -a`\n\n0.7.2 - 2015-12-22\n==================\n- Add `always_run` setting for hooks to run even without file changes.\n\n0.7.1 - 2015-12-19\n==================\n- Support running pre-commit inside submodules\n\n0.7.0 - 2015-12-13\n==================\n- Store state about additional_dependencies for rollforward/rollback compatibility\n\n0.6.8 - 2015-12-07\n==================\n- Build as a universal wheel\n- Allow '.format('-like strings in arguments\n- Add an option to require a minimum pre-commit version\n\n0.6.7 - 2015-12-02\n==================\n- Print a useful message when a hook id is not present\n- Fix printing of non-ascii with unexpected errors\n- Print a message when a hook modifies files but produces no output\n\n0.6.6 - 2015-11-25\n==================\n- Add `additional_dependencies` to hook configuration.\n- Fix pre-commit cloning under git 2.6\n- Small improvements for windows\n\n0.6.5 - 2015-11-19\n==================\n- Allow args for pcre hooks\n\n0.6.4 - 2015-11-13\n==================\n- Fix regression introduced in 0.6.3 regarding hooks which make non-utf8 diffs\n\n0.6.3 - 2015-11-12\n==================\n- Remove `expected_return_code`\n- Fail a hook if it makes modifications to the working directory\n\n0.6.2 - 2015-10-14\n==================\n- Use --no-ri --no-rdoc instead of --no-document for gem to fix old gem\n\n0.6.1 - 2015-10-08\n==================\n- Fix pre-push when pushing something that's already up to date\n\n0.6.0 - 2015-10-05\n==================\n- Filter hooks by stage (commit, push).\n\n0.5.5 - 2015-09-04\n==================\n- Change permissions a few files\n- Rename the validate entrypoints\n- Add --version to some entrypoints\n- Add --no-document to gem installations\n- Use expanduser when finding the python binary\n- Suppress complaint about $TERM when no tty is attached\n- Support pcre hooks on osx through ggrep\n\n0.5.4 - 2015-07-24\n==================\n- Allow hooks to produce outputs with arbitrary bytes\n- Fix pre-commit install when .git/hooks/pre-commit is a dead symlink\n- Allow an unstaged config when using --files or --all-files\n\n0.5.3 - 2015-06-15\n==================\n- Fix autoupdate with \"local\" hooks - don't purge local hooks.\n\n0.5.2 - 2015-06-02\n==================\n- Fix autoupdate with \"local\" hooks\n\n0.5.1 - 2015-05-23\n==================\n- Fix bug with unknown non-ascii hook-id\n- Avoid crash when .git/hooks is not present in some git clients\n\n0.5.0 - 2015-05-19\n==================\n- Add a new \"local\" hook type for running hooks without remote configuration.\n- Complain loudly when .pre-commit-config.yaml is unstaged.\n- Better support for multiple language versions when running hooks.\n- Allow exclude to be defaulted in repository configuration.\n\n0.4.4 - 2015-03-29\n==================\n- Use sys.executable when executing virtualenv\n\n0.4.3 - 2015-03-25\n==================\n- Use reset instead of checkout when checkout out hook repo\n\n0.4.2 - 2015-02-27\n==================\n- Limit length of xargs arguments to workaround windows xargs bug\n\n0.4.1 - 2015-02-27\n==================\n- Don't rename across devices when creating sqlite database\n\n0.4.0 - 2015-02-27\n==================\n- Make ^C^C During installation not cause all subsequent runs to fail\n- Print while installing (instead of while cloning)\n- Use sqlite to manage repositories (instead of symlinks)\n- MVP Windows support\n\n0.3.6 - 2015-02-05\n==================\n- `args` in venv'd languages are now property quoted.\n\n0.3.5 - 2015-01-15\n==================\n- Support running during `pre-push`.  See https://pre-commit.com/#advanced 'pre-commit during push'.\n\n0.3.4 - 2015-01-13\n==================\n- Allow hook providers to default `args` in `hooks.yaml`\n\n0.3.3 - 2015-01-06\n==================\n- Improve message for `CalledProcessError`\n\n0.3.2 - 2014-10-07\n==================\n- Fix for `staged_files_only` with color.diff = always #176.\n\n0.3.1 - 2014-10-03\n==================\n- Fix error clobbering #174.\n- Remove dependency on `plumbum`.\n- Allow pre-commit to be run from anywhere in a repository #175.\n\n0.3.0 - 2014-09-18\n==================\n- Add `--files` option to `pre-commit run`\n\n0.2.11 - 2014-09-05\n===================\n- Fix terminal width detection (broken in 0.2.10)\n\n0.2.10 - 2014-09-04\n===================\n- Bump version of nodeenv to fix bug with ~/.npmrc\n- Choose `python` more intelligently when running.\n\n0.2.9 - 2014-09-02\n==================\n- Fix bug where sys.stdout.write must take `bytes` in python 2.6\n\n0.2.8 - 2014-08-13\n==================\n- Allow a client to have duplicates of hooks.\n- Use --prebuilt instead of system for node.\n- Improve some fatal error messages\n\n0.2.7 - 2014-07-28\n==================\n- Produce output when running pre-commit install --install-hooks\n\n0.2.6 - 2014-07-28\n==================\n- Print hookid on failure\n- Use sys.executable for running nodeenv\n- Allow running as `python -m pre_commit`\n\n0.2.5 - 2014-07-17\n==================\n- Default columns to 80 (for non-terminal execution).\n\n0.2.4 - 2014-07-07\n==================\n- Support --install-hooks as an argument to `pre-commit install`\n- Install hooks before attempting to run anything\n- Use `python -m nodeenv` instead of `nodeenv`\n\n0.2.3 - 2014-06-25\n==================\n- Freeze ruby building infrastructure\n- Fix bug that assumed diffs were utf-8\n\n0.2.2 - 2014-06-22\n==================\n- Fix filenames with spaces\n\n0.2.1 - 2014-06-18\n==================\n- Use either `pre-commit` or `python -m pre_commit.main` depending on which is\n  available\n- Don't use readlink -f\n\n0.2.0 - 2014-06-17\n==================\n- Fix for merge-conflict during cherry-picking.\n- Add -V / --version\n- Add migration install mode / install -f / --overwrite\n- Add `pcre` \"language\" for perl compatible regexes\n- Reorganize packages.\n\n0.1.1 - 2014-06-11\n==================\n- Fixed bug with autoupdate setting defaults on un-updated repos.\n\n0.1.0 - 2014-06-07\n==================\n- Initial Release\n"
        },
        {
          "name": "CONTRIBUTING.md",
          "type": "blob",
          "size": 5.251953125,
          "content": "# Contributing\n\n## Local development\n\n- The complete test suite depends on having at least the following installed\n  (possibly not a complete list)\n  - git (Version 2.24.0 or above is required to run pre-merge-commit tests)\n  - python3 (Required by a test which checks different python versions)\n  - tox (or virtualenv)\n  - ruby + gem\n  - docker\n  - conda\n  - cargo (required by tests for rust dependencies)\n  - go (required by tests for go dependencies)\n  - swift\n\n### Setting up an environment\n\nThis is useful for running specific tests.  The easiest way to set this up\nis to run:\n\n1. `tox --devenv venv`  (note: requires tox>=3.13)\n2. `. venv/bin/activate` (or follow the [activation instructions] for your\n   platform)\n\nThis will create and put you into a virtualenv which has an editable\ninstallation of pre-commit.  Hack away!  Running `pre-commit` will reflect\nyour changes immediately.\n\n### Running a specific test\n\nRunning a specific test with the environment activated is as easy as:\n`pytest tests -k test_the_name_of_your_test`\n\n### Running all the tests\n\nRunning all the tests can be done by running `tox -e py37` (or your\ninterpreter version of choice).  These often take a long time and consume\nsignificant cpu while running the slower node / ruby integration tests.\n\nAlternatively, with the environment activated you can run all of the tests\nusing:\n`pytest tests`\n\n### Setting up the hooks\n\nWith the environment activated simply run `pre-commit install`.\n\n## Documentation\n\nDocumentation is hosted at https://pre-commit.com\n\nThis website is controlled through\nhttps://github.com/pre-commit/pre-commit.github.io\n\n## Adding support for a new hook language\n\npre-commit already supports many [programming languages](https://pre-commit.com/#supported-languages)\nto write hook executables with.\n\nWhen adding support for a language, you must first decide what level of support\nto implement.  The current implemented languages are at varying levels:\n\n- 0th class - pre-commit does not require any dependencies for these languages\n  as they're not actually languages (current examples: fail, pygrep)\n- 1st class - pre-commit will bootstrap a full interpreter requiring nothing to\n  be installed globally (current examples: go, node, ruby, rust)\n- 2nd class - pre-commit requires the user to install the language globally but\n  will install tools in an isolated fashion (current examples: python, swift,\n  docker).\n- 3rd class - pre-commit requires the user to install both the tool and the\n  language globally (current examples: script, system)\n\n\"second class\" is usually the easiest to implement first and is perfectly\nacceptable.\n\nIdeally the language works on the supported platforms for pre-commit (linux,\nwindows, macos) but it's ok to skip one or more platforms (for example, swift\ndoesn't run on windows).\n\nWhen writing your new language, it's often useful to look at other examples in\nthe `pre_commit/languages` directory.\n\nIt might also be useful to look at a recent pull request which added a\nlanguage, for example:\n\n- [rust](https://github.com/pre-commit/pre-commit/pull/751)\n- [fail](https://github.com/pre-commit/pre-commit/pull/812)\n- [swift](https://github.com/pre-commit/pre-commit/pull/467)\n\n### `language` api\n\nhere are the apis that should be implemented for a language\n\nNote that these are also documented in [`pre_commit/lang_base.py`](https://github.com/pre-commit/pre-commit/blob/main/pre_commit/lang_base.py)\n\n#### `ENVIRONMENT_DIR`\n\na short string which will be used for the prefix of where packages will be\ninstalled.  For example, python uses `py_env` and installs a `virtualenv` at\nthat location.\n\nthis will be `None` for 0th / 3rd class languages as they don't have an install\nstep.\n\n#### `get_default_version`\n\nThis is used to retrieve the default `language_version` for a language.  If\none cannot be determined, return `'default'`.\n\nYou generally don't need to implement this on a first pass and can just use:\n\n```python\nget_default_version = lang_base.basic_default_version\n```\n\n`python` is currently the only language which implements this api\n\n#### `health_check`\n\nThis is used to check whether the installed environment is considered healthy.\nThis function should return a detailed message if unhealthy or `None` if\nhealthy.\n\nYou generally don't need to implement this on a first pass and can just use:\n\n```python\nhealth_check = lang_base.basic_health_check\n```\n\n`python` is currently the only language which implements this api, for python\nit is checking whether some common dlls are still available.\n\n#### `install_environment`\n\nthis is the trickiest one to implement and where all the smart parts happen.\n\nthis api should do the following things\n\n- (0th / 3rd class): `install_environment = lang_base.no_install`\n- (1st class): install a language runtime into the hook's directory\n- (2nd class): install the package at `.` into the `ENVIRONMENT_DIR`\n- (2nd class, optional): install packages listed in `additional_dependencies`\n  into `ENVIRONMENT_DIR` (not a required feature for a first pass)\n\n#### `run_hook`\n\nThis is usually the easiest to implement, most of them look the same as the\n`node` hook implementation:\n\nhttps://github.com/pre-commit/pre-commit/blob/160238220f022035c8ef869c9a8642f622c02118/pre_commit/languages/node.py#L72-L74\n\n[activation instructions]: https://virtualenv.pypa.io/en/latest/user_guide.html#activators\n"
        },
        {
          "name": "LICENSE",
          "type": "blob",
          "size": 1.06640625,
          "content": "Copyright (c) 2014 pre-commit dev team: Anthony Sottile, Ken Struys\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 0.46875,
          "content": "[![build status](https://github.com/pre-commit/pre-commit/actions/workflows/main.yml/badge.svg)](https://github.com/pre-commit/pre-commit/actions/workflows/main.yml)\n[![pre-commit.ci status](https://results.pre-commit.ci/badge/github/pre-commit/pre-commit/main.svg)](https://results.pre-commit.ci/latest/github/pre-commit/pre-commit/main)\n\n## pre-commit\n\nA framework for managing and maintaining multi-language pre-commit hooks.\n\nFor more information see: https://pre-commit.com/\n"
        },
        {
          "name": "pre_commit",
          "type": "tree",
          "content": null
        },
        {
          "name": "requirements-dev.txt",
          "type": "blob",
          "size": 0.060546875,
          "content": "covdefaults>=2.2\ncoverage\ndistlib\npytest\npytest-env\nre-assert\n"
        },
        {
          "name": "setup.cfg",
          "type": "blob",
          "size": 1.369140625,
          "content": "[metadata]\nname = pre_commit\nversion = 4.0.1\ndescription = A framework for managing and maintaining multi-language pre-commit hooks.\nlong_description = file: README.md\nlong_description_content_type = text/markdown\nurl = https://github.com/pre-commit/pre-commit\nauthor = Anthony Sottile\nauthor_email = asottile@umich.edu\nlicense = MIT\nlicense_files = LICENSE\nclassifiers =\n    License :: OSI Approved :: MIT License\n    Programming Language :: Python :: 3\n    Programming Language :: Python :: 3 :: Only\n    Programming Language :: Python :: Implementation :: CPython\n    Programming Language :: Python :: Implementation :: PyPy\n\n[options]\npackages = find:\ninstall_requires =\n    cfgv>=2.0.0\n    identify>=1.0.0\n    nodeenv>=0.11.1\n    pyyaml>=5.1\n    virtualenv>=20.10.0\npython_requires = >=3.9\n\n[options.packages.find]\nexclude =\n    tests*\n    testing*\n\n[options.entry_points]\nconsole_scripts =\n    pre-commit = pre_commit.main:main\n\n[options.package_data]\npre_commit.resources =\n    *.tar.gz\n    empty_template_*\n    hook-tmpl\n\n[bdist_wheel]\nuniversal = True\n\n[coverage:run]\nplugins = covdefaults\nomit = pre_commit/resources/*\n\n[mypy]\ncheck_untyped_defs = true\ndisallow_any_generics = true\ndisallow_incomplete_defs = true\ndisallow_untyped_defs = true\nwarn_redundant_casts = true\nwarn_unused_ignores = true\n\n[mypy-testing.*]\ndisallow_untyped_defs = false\n\n[mypy-tests.*]\ndisallow_untyped_defs = false\n"
        },
        {
          "name": "setup.py",
          "type": "blob",
          "size": 0.0712890625,
          "content": "from __future__ import annotations\n\nfrom setuptools import setup\nsetup()\n"
        },
        {
          "name": "testing",
          "type": "tree",
          "content": null
        },
        {
          "name": "tests",
          "type": "tree",
          "content": null
        },
        {
          "name": "tox.ini",
          "type": "blob",
          "size": 0.64453125,
          "content": "[tox]\nenvlist = py,pypy3,pre-commit\n\n[testenv]\ndeps = -rrequirements-dev.txt\npassenv = *\ncommands =\n    coverage erase\n    coverage run -m pytest {posargs:tests} --ignore=tests/languages --durations=20\n    coverage report --omit=pre_commit/languages/*,tests/languages/*\n\n[testenv:pre-commit]\nskip_install = true\ndeps = pre-commit\ncommands = pre-commit run --all-files --show-diff-on-failure\n\n[pep8]\nignore = E265,E501,W504\n\n[pytest]\nenv =\n    GIT_AUTHOR_NAME=test\n    GIT_COMMITTER_NAME=test\n    GIT_AUTHOR_EMAIL=test@example.com\n    GIT_COMMITTER_EMAIL=test@example.com\n    GIT_ALLOW_PROTOCOL=file\n    VIRTUALENV_NO_DOWNLOAD=1\n    PRE_COMMIT_NO_CONCURRENCY=1\n"
        }
      ]
    }
  ]
}