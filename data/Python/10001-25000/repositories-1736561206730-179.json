{
  "metadata": {
    "timestamp": 1736561206730,
    "page": 179,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjE4MA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "tgbot-collection/YYeTsBot",
      "stars": 14877,
      "defaultBranch": "master",
      "files": [
        {
          "name": ".dockerignore",
          "type": "blob",
          "size": 0.1328125,
          "content": "mongo_data/*\ncerts/*\ndata/*\nlogs/*\nYYeTsFE/node_modules/*\n.github/*\nassets/*\nconf/*\ntests/*\nyyetsweb/yyets.sqlite\nyyetsweb/subtitle_data"
        },
        {
          "name": ".gitattributes",
          "type": "blob",
          "size": 0.6689453125,
          "content": "yyets/worker/public/css/** linguist-vendored\nyyets/worker/public/fonts/* linguist-vendored\nyyets/worker/public/img/* linguist-vendored\nyyets/worker/public/js/* linguist-vendored\nyyets/worker/public/js/search.js -linguist-vendored\nyyets/worker/public/404.html linguist-vendored\nyyets/worker/public/resource.html linguist-vendored\n\nyyetsweb/templates/css/** linguist-vendored\nyyetsweb/templates/fonts/* linguist-vendored\nyyetsweb/templates/img/* linguist-vendored\nyyetsweb/templates/js/* linguist-vendored\nyyetsweb/templates/404.html linguist-vendored\nyyetsweb/templates/resource.html linguist-vendored\n\nyyetsweb/templates/js/common.js -linguist-vendored\n\ntests/data/* linguist-vendored\n"
        },
        {
          "name": ".github",
          "type": "tree",
          "content": null
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 2.3896484375,
          "content": "# Byte-compiled / optimized / DLL files\r\n__pycache__/\r\n*.py[cod]\r\n*$py.class\r\n\r\n# C extensions\r\n*.so\r\n\r\n# Distribution / packaging\r\n.Python\r\nbuild/\r\ndevelop-eggs/\r\ndist/\r\ndownloads/\r\neggs/\r\n.eggs/\r\nlib/\r\nlib64/\r\nparts/\r\nsdist/\r\nvar/\r\nwheels/\r\n*.egg-info/\r\n.installed.cfg\r\n*.egg\r\nMANIFEST\r\n\r\n# PyInstaller\r\n#  Usually these files are written by a python script from a template\r\n#  before PyInstaller builds the exe, so as to inject date/other infos into it.\r\n*.manifest\r\n#*.spec\r\n\r\n# Installer logs\r\npip-log.txt\r\npip-delete-this-directory.txt\r\n\r\n# Unit test / coverage reports\r\nhtmlcov/\r\n.tox/\r\n.coverage\r\n.coverage.*\r\n.cache\r\nnosetests.xml\r\ncoverage.xml\r\n*.cover\r\n.hypothesis/\r\n.pytest_cache/\r\n\r\n# Translations\r\n*.mo\r\n*.pot\r\n*.dat\r\n*.dir\r\n\r\n# Django stuff:\r\n*.log\r\nlocal_settings.py\r\ndb.sqlite3\r\n\r\n# Flask stuff:\r\ninstance/\r\n.webassets-cache\r\n\r\n# Scrapy stuff:\r\n.scrapy\r\n\r\n# Sphinx documentation\r\ndocs/_build/\r\n\r\n# PyBuilder\r\ntarget/\r\n\r\n# Jupyter Notebook\r\n.ipynb_checkpoints\r\n\r\n# pyenv\r\n.python-version\r\n\r\n# celery beat schedule file\r\ncelerybeat-schedule\r\n\r\n# SageMath parsed files\r\n*.sage.py\r\n\r\n# Environments\r\n.env\r\n.venv\r\nenv/\r\nvenv/\r\nENV/\r\nenv.bak/\r\nvenv.bak/\r\n\r\n# Spyder project settings\r\n.spyderproject\r\n.spyproject\r\n\r\n# Rope project settings\r\n.ropeproject\r\n\r\n# mkdocs documentation\r\n/site\r\n\r\n# mypy\r\n.mypy_cache/\r\n/.idea/$CACHE_FILE$\r\n/.idea/.gitignore\r\n/.idea/misc.xml\r\n/.idea/modules.xml\r\n/.idea/vcs.xml\r\n.idea/\r\n/yyetsbot/data/cookies.dump\r\n/.idea/inspectionProfiles/profiles_settings.xml\r\nyyetsbot/data/\r\nhealth_check/client.session\r\n\r\n/tools/worker/.idea/\r\n/tools/worker/workers-site/node_modules/*\r\n/tools/worker/workers-site/worker/script.js\r\n/health_check/client-hc.session\r\nmongo_data/*\r\ncerts/*\r\ndata/*\r\nlogs/*\r\n**/.DS_Store\r\n/yyetsweb/yyets_sqlite.db\r\n/yyetsweb/yyetsweb\r\n/yyetsweb/assets.go\r\n/yyetsweb/templates/sponsor/*\r\n/yyetsweb/templates/svg/*\r\n/yyetsweb/templates/index.css\r\n/yyetsweb/templates/logo*\r\n/yyetsweb/templates/*.json\r\n\r\n/yyetsweb/templates/*\r\n/yyetsweb/templates/data/*\r\n/yyetsweb/builds/\r\n/builds/checksum-sha256sum.txt\r\n/yyetsweb/1.html\r\n!/env/\r\n!/mongo_data/\r\n/env/yyets.env\r\n!/docker-compose.override.yml\r\n/docker-compose.override.yml\r\n/yyetsweb/templates/dump/yyets_mongo.gz\r\n/yyetsweb/templates/dump/yyets_mysql.zip\r\n/yyetsweb/templates/dump/yyets_sqlite.zip\r\n/yyetsweb/subtitle_data/attachment/201001/17/758231_1263706947i2nW.rar\r\n/yyetsweb/subtitle_data/attachment/200912/4/212807_1259889699DJm8.rar\r\n"
        },
        {
          "name": "API.md",
          "type": "blob",
          "size": 29.8974609375,
          "content": "# 需求与待开发功能\n\n## FE\n\n- [x] group为admin特殊显示，评论接口已返回group信息\n- [x] 评论楼中楼\n- [x] 联合搜索，当本地数据库搜索不到数据时，会返回extra字段\n- [x] 最新评论\n- [x] 公告\n- [x] 最新更新资源\n- [x] API变更：登录时需要验证码\n- [x] API变更：like API变更 PATCH `/api/user/` --> PATCH `/api/like/`\n- [x] 删除评论（admin only）\n- [x] ME:搜索API返回变更：目前包含了评论的结果，使用 `type`区分\n- [ ] 搜索页面，通过评论ID，只显示该评论\n- [ ] **独立公告和最近更新到新的页面**\n- [ ] **对评论的反应**\n- [ ] **分类**\n- [ ] 添加下载地址到已有资源\n- [ ] 新增资源\n- [ ] 删除资源、删除已有资源的下载\n- [ ] 更改用户信息（添加邮箱）\n- [ ] 评论通知（浏览器通知，暂时隐藏了）\n\n# BE\n\n- [x] 联合搜索：字幕侠、new字幕组、追新番\n- [x] grafana面板\n- [x] 豆瓣接口\n- [x] 评论通知：站内通知\n- [x] 添加邮箱\n- [x] 邮件通知\n- [x] 添加下载地址到已有资源\n- [x] 删除资源\n- [x] 新建资源\n- [ ] 找回密码\n\n# 资源\n\n## 获取指定id的资源\n\n* GET `/api/resource?id=10004`\n  数据结构参考 [sample.json](yyetsweb/templates/js/sample.json)\n\n**对于非官方、由用户提交的下载，与 `files` `dateline` 同级会有一个 `creator` 用于标明是谁创建的**\n**对于非官方、由用户提交的资源，与 `cnname` `enname` 同级会有一个 `creator` 用于标明是谁创建的**\n\n如果没有，那么就是官方资源\n\n## 搜索\n\n同时搜索资源和评论，会以type字段区分，评论会额外返回 `comment_id`\n\n* GET `/api/resource?keyword=权力的游戏`\n\n```json\n{\n  \"data\": [\n    {\n      \"id\": 10733,\n      \"cnname\": \"权力的游戏\",\n      \"enname\": \"Game of Thrones\",\n      \"aliasname\": \"冰与火之歌 / 权力的游戏下载 / 权利的游戏 / 冰火\",\n      \"channel\": \"tv\",\n      \"channel_cn\": \"美剧\",\n      \"area\": \"美国\",\n      \"show_type\": \"\",\n      \"expire\": \"1610372082\",\n      \"views\": 8691,\n      \"year\": [\n        2011\n      ],\n      \"origin\": \"yyets\"\n    }\n  ],\n  \"extra\": [],\n  \"comment\": [\n    {\n      \"username\": \"Liyixin\",\n      \"date\": \"2021-10-30 10:06:44\",\n      \"comment\": \"我用阿里云盘分享了「权力的游戏.1-8季无删减版(1).1080P」，你可以不限速下载🚀\\n复制这段内容打开「阿里云盘」App 即可获取\\n链接：https://www.aliyundrive.com/s/hcUfFYnkhN5\",\n      \"commentID\": \"617ca8b470a52cc3ef2b0dff\",\n      \"resourceID\": 10733,\n      \"resourceName\": \"权力的游戏\",\n      \"origin\": \"comment\"\n    }\n  ]\n}\n```\n\n当数据库搜索不到资源时，会尝试从字幕侠、new字幕组和追新番搜索，返回如下\n\n```json\n{\n  \"data\": [],\n  \"extra\": [\n    {\n      \"url\": \"https://www.zimuxia.cn/portfolio/%e4%b8%9c%e5%9f%8e%e6%a2%a6%e9%ad%87\",\n      \"name\": \"东城梦魇\",\n      \"class\": \"ZimuxiaOnline\"\n    },\n    {\n      \"url\": \"https://www.zimuxia.cn/portfolio/%e9%bb%91%e8%89%b2%e6%ad%a2%e8%a1%80%e9%92%b3\",\n      \"name\": \"黑色止血钳\",\n      \"class\": \"ZimuxiaOnline\"\n    }\n  ]\n}\n```\n\n## 添加下载地址到已有资源\n\n比如更新S01E05\n\n* PATCH `http://127.0.0.1:8888/api/resource`\n\n```json\n{\n  \"resource_id\": 39894,\n  \"season_num\": \"1，对于电影纪录片等，应该是0或者101\",\n  \"items\": {\n    \"MP4\": [\n      {\n        \"episode\": \"12\",\n        \"name\": \"第五集.mp4\",\n        \"size\": \"9.43GB\",\n        \"dateline\": \"1628399290 单位秒\",\n        \"files\": [\n          {\n            \"way\": \"1\",\n            \"way_cn\": \"电驴\",\n            \"address\": \"ed2k://|filszpwzec5|/\",\n            \"passwd\": \"\"\n          },\n          {\n            \"way\": \"2\",\n            \"way_cn\": \"磁力\",\n            \"address\": \"magnet:37\",\n            \"passwd\": \"\"\n          }\n        ]\n      }\n    ]\n  },\n  \"formats\": [\n    \"MP4\"\n  ]\n}\n```\n\n返回201\n\n## 创建新资源\n\n仅登录用户可用，用于创建新的资源，不包括 `data.list`。\n\n* POST `http://127.0.0.1:8888/api/resource`\n\n```json\n{\n  \"status\": 1,\n  \"info\": \"OK\",\n  \"data\": {\n    \"info\": {\n      \"id\": \"设置成任意值即可\",\n      \"cnname\": \"中文名\",\n      \"enname\": \"英文名\",\n      \"aliasname\": \"别名\",\n      \"channel\": \"movie/tv\",\n      \"channel_cn\": \"电影/美剧\",\n      \"area\": \"法国\",\n      \"show_type\": \"\",\n      \"expire\": \"1610401225\",\n      \"views\": 0\n    },\n    \"list\": [\n    ]\n  }\n}\n```\n\n返回\n\n```json\n{\n  \"status\": true,\n  \"message\": \"success\",\n  \"id\": 50623\n}\n```\n\n## 删除资源\n\n仅管理员可用，分成两种情况，一种是删除某个id全部资源，如39894；另外一种是删除这个资源下的某集下载\n\n* POST `http://127.0.0.1:8888/api/resource`\n\n均返回 202\n\n### 删除全部\n\n```json\n{\n  \"resource_id\": 39894\n}\n```\n\n### 删除部分资源\n\n会尽可能的匹配并删除对应的行\n\n```json\n{\n  \"resource_id\": 39894,\n  \"meta\": {\n    \"episode\": \"1\",\n    \"name\": \"超235678-213.mp4\",\n    \"size\": \"1.43GB\",\n    \"dateline\": \"1628399290\"\n  }\n}\n```\n\n# Top\n\n获取top信息，每类返回15条访问量最高的数据\n\n* GET `/api/top`\n\n```json\n{\n  \"ALL\": [\n    {\n      \"data\": {\n        \"info\": {\n          \"id\": 39894,\n          \"cnname\": \"速度与激情9\",\n          \"enname\": \"F9: The Fast Saga\",\n          \"aliasname\": \"F9狂野时速(港)/玩命关头9(台)/狂野时速9/速激9/FF9/Fast & Furious 9\",\n          \"channel\": \"movie\",\n          \"channel_cn\": \"电影\",\n          \"area\": \"美国\",\n          \"show_type\": \"\",\n          \"expire\": \"1610401946\",\n          \"views\": 47466,\n          \"year\": [\n            2021\n          ]\n        }\n      }\n    },\n    {\n      \"data\": {\n        \"info\": {\n          \"id\": 38413,\n          \"cnname\": \"致命女人\",\n          \"enname\": \"Why Women Kill\",\n          \"aliasname\": \"女人为什么杀人/女人为何杀戮\",\n          \"channel\": \"tv\",\n          \"channel_cn\": \"美剧\",\n          \"area\": \"美国\",\n          \"show_type\": \"\",\n          \"expire\": \"1610401185\",\n          \"views\": 39040,\n          \"year\": [\n            2019\n          ]\n        }\n      }\n    }\n  ],\n  \"US\": [],\n  \"JP\": [],\n  \"KR\": [],\n  \"UK\": [],\n  \"class\": {\n    \"ALL\": \"全部\",\n    \"US\": \"美国\",\n    \"JP\": \"日本\",\n    \"KR\": \"韩国\",\n    \"UK\": \"英国\"\n  }\n}\n```\n\n# 个人中心\n\n获取个人收藏\n\n* GET `/api/like`\n\n```json\n{\n  \"LIKE\": [\n    {\n      \"data\": {\n        \"info\": {\n          \"id\": 39523,\n          \"cnname\": \"禁忌女孩\",\n          \"enname\": \"เด็กใหม่\",\n          \"aliasname\": \"来路不明的转校生/Girl from Nowhere\",\n          \"channel\": \"tv\",\n          \"channel_cn\": \"泰剧\",\n          \"area\": \"泰国\",\n          \"show_type\": \"\",\n          \"expire\": \"1610401752\",\n          \"views\": 979,\n          \"year\": [\n            2020\n          ]\n        }\n      }\n    }\n  ]\n}\n```\n\n# 用户\n\n## 登录或注册\n\n* POST `/api/user`，提交json，字段 `username`, `password`,`captcha_id` 和 `captcha`\n\n当验证码失效时，会返回303 See Other\n\n返回json\n\n## 获取当前登录用户信息\n\n登录用户可用，未登录会返回401\n\n* GET `/api/user`\n\n```json\n{\n  \"username\": \"Benny\",\n  \"date\": \"2021-06-12 13:55:50\",\n  \"ip\": \"172.70.122.84\",\n  \"browser\": \"Mozilla/5.0 (X11; Gentoo; rv:84.0) Gecko/20100101 Firefox/84.0\",\n  \"like\": [\n    31346,\n    39894,\n    41382\n  ],\n  \"group\": [\n    \"admin\"\n  ],\n  \"email\": {\n    \"verified\": false,\n    \"address\": \"123@qq.com\"\n  }\n}\n```\n\n## 更改用户信息\n\n* PATCH `http://127.0.0.1:8888/api/user`\n\n* 目前只支持修改email字段，会发送验证邮件，1800秒之内只能验证一次，有效期24小时\n\n暂不支持取消绑定\n\n```json\n{\n  \"email\": \"123@qq.com\"\n}\n```\n\nresponse\n\n```json\n{\n  \"status_code\": 429,\n  \"status\": false,\n  \"message\": \"try again in 1797s\"\n}\n```\n\n## 验证邮件\n\n* POST `http://127.0.0.1:8888/api/user/email`\n\n10次错误会被加到黑名单，账号注销\n\n```json\n{\n  \"code\": \"83216\"\n}\n```\n\nresponse\n\n```json\n{\n  \"status\": true,\n  \"status_code\": 201,\n  \"message\": \"success\"\n}\n```\n\n# 获取全部剧集名称\n\n* GET `/api/name`\n* GET `/api/name?human=1` 人类可读\n\n# 添加或删除收藏\n\n* PATCH `/api/like`，提交json，字段 `resource_id`\n\n# 评论\n\n评论的基本数据格式： `children` 字段为 array/list，可套娃另外一条评论，目前暂时只支持两层（也不打算支持更多的啦）。\n\n评论的 `resource_id` 必须相同\n\n## 普通评论\n\n```json\n{\n  \"username\": \"Benny\",\n  \"date\": \"2021-06-17 10:54:19\",\n  \"browser\": \"Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.13; rv:85.1) Gecko/20100101 Firefox/85.1\",\n  \"content\": \"test\",\n  \"resource_id\": 233,\n  \"id\": \"60cab95baa7f515ea291392b\",\n  \"children\": [\n  ],\n  \"childrenCount\": 0\n}\n\n```\n\n## 嵌套评论\n\n```json\n{\n  \"username\": \"Benny\",\n  \"date\": \"2021-06-17 10:54:19\",\n  \"browser\": \"Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.13; rv:85.1) Gecko/20100101 Firefox/85.1\",\n  \"content\": \"test\",\n  \"resource_id\": 233,\n  \"id\": \"60cab95baa7f515ea291392b\",\n  \"children\": [\n    {\n      \"username\": \"Alex\",\n      \"date\": \"2021-05-31 16:58:21\",\n      \"browser\": \"PostmanRuntime/7.28.0\",\n      \"content\": \"评论17\",\n      \"id\": \"60c838a12a5620b7e4ba5dfc\",\n      \"resource_id\": 233\n    },\n    {\n      \"username\": \"Paul\",\n      \"date\": \"2021-05-22 16:58:21\",\n      \"browser\": \"PostmanRuntime/7.28.0\",\n      \"content\": \"评论14\",\n      \"id\": \"60c838a12a5620b7e4ba1111\",\n      \"resource_id\": 233\n    }\n  ],\n  \"childrenCount\": 2\n}\n\n```\n\n## 获取评论\n\n* GET `/api/comment`\n\n分页，支持URL参数：\n\n* resource_id: 资源id，id为233是留言板，id为-1会返回最新评论\n* comment_id: 指定该参数，会只返回这条评论。如果是子评论，还会连带父评论一起返回\n* size: 每页评论数量，默认5\n* page: 当前页，默认1\n* inner_size: 内嵌评论数量，默认5\n* inner_page: 内嵌评论当前页，默认1\n  **注意：如上两个inner参数是对整个页面生效的，如要进行某个父评论的子评论分页，请参考下面的子评论分页接口 返回 楼中楼评论，group表示用户所属组，admin是管理员，user是普通用户\n\n```json\n{\n  \"data\": [\n    {\n      \"username\": \"Benny\",\n      \"date\": \"2021-06-22 18:26:42\",\n      \"browser\": \"PostmanRuntime/7.28.0\",\n      \"content\": \"父评论benny\",\n      \"resource_id\": 233,\n      \"type\": \"parent\",\n      \"id\": \"60d1bae2d87ce6e9a2934a0f\",\n      \"group\": [\n        \"admin\"\n      ]\n    },\n    {\n      \"username\": \"Benny\",\n      \"date\": \"2021-06-22 18:24:44\",\n      \"browser\": \"PostmanRuntime/7.28.0\",\n      \"content\": \"父评论benny\",\n      \"resource_id\": 233,\n      \"type\": \"parent\",\n      \"group\": [\n        \"admin\"\n      ],\n      \"childrenCount\": 22,\n      \"children\": [\n        {\n          \"username\": \"test\",\n          \"date\": \"2021-06-22 18:25:12\",\n          \"browser\": \"PostmanRuntime/7.28.0\",\n          \"content\": \"admin子评2论2\",\n          \"resource_id\": 233,\n          \"type\": \"child\",\n          \"id\": \"60d1ba88d87ce6e9a2934a0c\",\n          \"group\": [\n            \"user\"\n          ]\n        },\n        {\n          \"username\": \"admin\",\n          \"date\": \"2021-06-22 18:25:08\",\n          \"browser\": \"PostmanRuntime/7.28.0\",\n          \"content\": \"admin子评论2\",\n          \"resource_id\": 233,\n          \"type\": \"child\",\n          \"id\": \"60d1ba84d87ce6e9a2934a0a\",\n          \"group\": [\n            \"user\"\n          ]\n        }\n      ],\n      \"id\": \"60d1ba6cd87ce6e9a2934a08\"\n    }\n  ],\n  \"count\": 2,\n  \"resource_id\": 233\n}\n```\n\n## 搜索评论\n\n* GET `/api/comment/search`\n\n分页，支持URL参数：\n\n* size: 每页评论数量，默认5\n* page: 当前页，默认1\n* keyword: 关键字\n\n返回值与获取评论相同\n\n## 子评论分页\n\n* GET `/api/comment/child`\n  URL参数：\n* parent_id:父评论id\n* size: 每页评论数量，默认5\n* page: 当前页，默认1\n\n`/api/comment/child?parent_id=60dfc932802d2c69cf8774ce&size=2&page=2`\n\n返回子评论\n\n```json\n{\n  \"data\": [\n    {\n      \"username\": \"Benny\",\n      \"date\": \"2021-07-03 10:22:13\",\n      \"browser\": \"PostmanRuntime/7.28.1\",\n      \"content\": \"子15\",\n      \"resource_id\": 233,\n      \"type\": \"child\",\n      \"id\": \"60dfc9d5802d2c69cf877514\",\n      \"childrenCount\": 17,\n      \"group\": [\n        \"admin\"\n      ]\n    },\n    {\n      \"username\": \"Benny\",\n      \"date\": \"2021-07-03 10:22:11\",\n      \"browser\": \"PostmanRuntime/7.28.1\",\n      \"content\": \"子14\",\n      \"resource_id\": 233,\n      \"type\": \"child\",\n      \"id\": \"60dfc9d3802d2c69cf877512\",\n      \"group\": [\n        \"admin\"\n      ]\n    }\n  ],\n  \"count\": 17\n}\n```\n\n## 获取验证码\n\n* GET `/api/captcha?id=1234abc`，id是随机生成的字符串 API 返回字符串，形如 `data:image/png;base64,iVBORw0KGgoAAA....`\n\n## 提交评论\n\n* POST `/api/comment`\n  只有登录用户才可以发表评论，检查cookie `username` 是否为空来判断是否为登录用户；未登录用户提示“请登录后发表评论”\n\n`resource_id` 从URL中获取，id是上一步验证码的那个随机字符串id， `captcha` 是用户输入的验证码\n\n### 提交新评论\n\n只需要提供如下四项信息即可\n\n```json\n{\n  \"resource_id\": 39301,\n  \"content\": \"评论内容\",\n  \"id\": \"1234abc\",\n  \"captcha\": \"38op\"\n}\n```\n\n返回 HTTP 201添加评论成功，403/401遵循HTTP语义\n\n```json\n{\n  \"message\": \"评论成功/评论失败/etc\"\n}\n```\n\n### 提交楼中楼评论\n\n还需要额外提供一个 `comment_id`，也就是 UUID，如 `60c838a12a5620b7e4ba5dfc`\n\n```json\n{\n  \"resource_id\": 39301,\n  \"content\": \"评论内容\",\n  \"id\": \"1234abc\",\n  \"captcha\": \"38op\",\n  \"comment_id\": \"60c838a12a5620b7e4ba5dfc\"\n}\n```\n\n## 删除评论，软删除\n\n* DELETE `/api/comment`，提交json数据\n\n```json\n{\n  \"comment_id\": \"60cab935e9f929e09c91392a\"\n}\n```  \n\n不用关心comment_id是子评论还是父评论，会自动删除\n\n返回被删除的数量,HTTP 200表示删除成功，404表示未找到这条留言\n\n```json\n{\n  \"status_code\": 404,\n  \"message\": \"\",\n  \"count\": 0\n}\n```\n\n## 最新评论\n\n* GET `api/comment/newest`\n  page size参数同上\n\n```json\n{\n  \"data\": [\n    {\n      \"username\": \"111\",\n      \"date\": \"2021-07-11 10:22:59\",\n      \"browser\": \"Mozi0.31.0\",\n      \"content\": \"1111？\",\n      \"resource_id\": 233,\n      \"type\": \"parent\",\n      \"id\": \"60ea53113178773\",\n      \"group\": [\n        \"user\"\n      ],\n      \"cnname\": \"留言板\"\n    },\n    {\n      \"username\": \"11111222\",\n      \"date\": \"2021-07-10 23:54:43\",\n      \"browser\": \"Mozi3322.64\",\n      \"content\": \"<reply value=\\\"60e939be4ad7f20773865d7a\\\">@abcd</reply>怎么下载啊\\n\",\n      \"resource_id\": 37552,\n      \"type\": \"child\",\n      \"id\": \"60e9c2c222111397e\",\n      \"group\": [\n        \"user\"\n      ],\n      \"cnname\": \"黑寡妇\"\n    },\n    {\n      \"username\": \"1111\",\n      \"date\": \"2021-07-10 23:41:06\",\n      \"browser\": \"Moz) Chrom.864.67\",\n      \"content\": \"我是1精彩\",\n      \"resource_id\": 41382,\n      \"type\": \"parent\",\n      \"id\": \"60e9bf924ad7f2077381111\",\n      \"group\": [\n        \"user\"\n      ],\n      \"cnname\": \"洛基\"\n    }\n  ],\n  \"count\": 294\n}\n```\n\n## 对评论的反应\n\n仅对登录用户可用\n\n* POST `/api/comment/reaction` 添加反应 201\n* DELETE `/api/comment/reaction` 删除反应 202\n\nverb 为任意字符串，包括emoji\n\n```json\n{\n  \"comment_id\": \"60c46d6a6d7c5dd22d69fd3b，父评论子评论均可\",\n  \"verb\": \"😍👍\"\n}\n\n```\n\n返回：\n\n* 201 成功添加反应\n* 202 成功删除反应\n* 404 评论没找到\n\n用户添加的反应，在返回评论时可以看到，会额外多一个字段 `reactions`，子评论同理\n\n```json\n{\n  \"reactions\": [\n    {\n      \"verb\": \"😍\",\n      \"users\": [\n        \"user2\"\n      ]\n    },\n    {\n      \"verb\": \"🤔\",\n      \"users\": [\n        \"user3\",\n        \"da\"\n      ]\n    }\n  ]\n}\n```\n\n# metrics\n\n## 添加metrics\n\n* POST `/api/metrics`, json,字段 `type`\n\n## 获取metrics\n\n* GET `/api/metrics`，默认返回最近7天数据，可选URL参数 `from`, `to`，如 `from=2021-03-12&to=2021-03=18\n\n# Grafana\n\n* GET `/api/grafana/`\n* GET `/api/grafana/search`\n* GET `/api/grafana/query`\n\n# 黑名单\n\n* GET `/api/blacklist`\n\n# 获取备份数据库信息\n\n* GET `/api/db_dump`\n\n```json\n{\n  \"yyets_mongo.gz\": {\n    \"checksum\": \"b32e9d8e24c607a9f29889a926c15179d9179791\",\n    \"date\": \"2021-06-14 12:59:51\",\n    \"size\": \"6.0B\"\n  },\n  \"yyets_mysql.zip\": {\n    \"checksum\": \"6b24ae7cb7cef42951f7e2df183f0825512029e0\",\n    \"date\": \"2021-06-14 12:59:51\",\n    \"size\": \"11.0B\"\n  },\n  \"yyets_sqlite.zip\": {\n    \"checksum\": \"7e1659ab5cbc98b21155c3debce3015c39f1ec05\",\n    \"date\": \"2021-06-14 12:59:51\",\n    \"size\": \"15.0B\"\n  }\n}\n```\n\n# 公告\n\n## 添加公告\n\n* POST `/api/announcement`, json 字段 content\n\n## 获取公告\n\n* GET `/api/announcement`，接受URL参数 size、page\n\n```json\n{\n  \"data\": [\n    {\n      \"username\": \"Benny\",\n      \"date\": \"2021-06-15 16:28:16\",\n      \"browser\": \"PostmanRuntime/7.28.0\",\n      \"content\": \"hello\"\n    }\n  ],\n  \"count\": 1\n}\n```\n\n# 豆瓣\n\n## 获取简介等信息\n\n* GET `/api/douban?resource_id=34812`\n  第一次请求会比较慢\n\n```json\n{\n  \"name\": \"逃避可耻却有用\",\n  \"doubanId\": 26816519,\n  \"doubanLink\": \"https://movie.douban.com/subject/26816519/\",\n  \"posterLink\": \"https://img2.doubanio.com/view/photo/s_ratio_poster/public/p2400201631.jpg\",\n  \"resourceId\": 34812,\n  \"rating\": \"8.4\",\n  \"actors\": [\n    \"新垣结衣\",\n    \"星野源\",\n    \"大谷亮平\",\n    \"藤井隆\",\n    \"真野惠里菜\",\n    \"成田凌\",\n    \"山贺琴子\",\n    \"宇梶刚士\",\n    \"富田靖子\",\n    \"古田新太\",\n    \"石田百合子\",\n    \"细田善彦\",\n    \"古馆宽治\",\n    \"叶山奖之\"\n  ],\n  \"directors\": [\n    \"金子文纪\",\n    \"土井裕泰\",\n    \"石井康晴\"\n  ],\n  \"genre\": [\n    \"喜剧\"\n  ],\n  \"releaseDate\": \"2016-10-11(日本)\",\n  \"episodeCount\": \" 11\",\n  \"episodeDuration\": \" 45分钟\",\n  \"writers\": [\n    \"野木亚纪子\",\n    \"海野纲弥\"\n  ],\n  \"year\": \"2016\",\n  \"introduction\": \"森山实栗（新垣结衣饰）自研究生毕业之后就一直仕途不顺，最近更是惨遭解雇，处于“无业游民”的状态之下，日子过得十分凄惨。经由父亲的介绍，无处可去的实栗来到了名为津崎平匡（星野源饰）的单身男子家中，为其料理家事，就这样，二十五岁的实栗成为了一名家政妇。实栗心地善良手脚勤快，在她的安排和劳作下，平匡家中的一切被打理的井井有条，实栗因此获得了平匡的信赖，亦找到了生活的重心，重新振作了起来。然而好景不长，实栗的父母决定搬离此地，这也就意味着实栗必须“离职”。实在无法接受此事的实栗决定和平匡“契约结婚”，在外装做夫妻，在内依旧是雇主和职员。就这样，这对“孤男寡女”开始了他们的同居生活。\"\n}\n```\n\n## 获取海报\n\n* GET `api/douban?resource_id=34812&type=image`\n  会返回相应格式（jpeg、webp、png等）的图片，与上次数据中 `posterLink`所看到的内容相同\n\n# 验证码\n\n## 获取验证码\n\n* GET `/api/captcha?id=1234abc`，id是随机生成的字符串 API 返回字符串，形如 `data:image/png;base64,iVBORw0KGgoAAA....`\n\n## 校验验证码\n\n除去评论中的校验验证码，如有额外需求，也可以使用 POST 方法校验\n\n* POST `/api/captcha`\n\n```json\n{\n  \"id\": \"1234abc\",\n  \"captcha\": \"38op\"\n}\n```\n\n# 豆瓣报错\n\n## 提交\n\n* POST `/api/douban/report`\n\n```json\n{\n  \"captcha_id\": \"用户输入的验证码\",\n  \"id\": \"验证码id\",\n  \"content\": \"内容难过-咔咔\",\n  \"resource_id\": 23133312\n}\n```\n\n## 查询\n\n* GET `/api/douban/report`\n\n```json\n{\n  \"data\": [\n    {\n      \"resource_id\": 2333,\n      \"content\": [\n        \"dddd\",\n        \"1款大家咔咔\",\n        \"1款大家dadadada-咔咔\"\n      ]\n    },\n    {\n      \"resource_id\": 23133,\n      \"content\": [\n        \"1款大家dadadada-咔咔\"\n      ]\n    },\n    {\n      \"resource_id\": 23133312,\n      \"content\": [\n        \"1款大家dadadada-咔咔\"\n      ]\n    }\n  ]\n}\n```\n\n# 通知\n\n只有登录用户可以获取，只有楼主能够获取到通知，其他楼层的人获取不到。\n\n## 获取通知\n\n* GET `http://127.0.0.1:8888/api/notification`\n\n支持URL参数page和size，默认1和5，size是已读和未读共享的，优先返回未读数据\n\n```json\n{\n  \"username\": \"user1\",\n  \"unread_item\": [\n    {\n      \"username\": \"user3\",\n      \"date\": \"2021-08-14 20:23:02\",\n      \"browser\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.12; rv:86.1) Gecko/20100101 Firefox/86.1\",\n      \"content\": \"<reply value=\\\"6117b2a59195e6b1ab86eb30\\\">@user2</reply>u3 to u2\",\n      \"resource_id\": 233,\n      \"type\": \"child\",\n      \"id\": \"6117b5a6598f80ca3ebb13ed\",\n      \"reply_to_content\": \"<reply value=\\\"610135c9d1f873388feb5c78\\\">@user1</reply>ajnkwa\"\n    },\n    {\n      \"username\": \"user3\",\n      \"date\": \"2021-08-14 20:22:37\",\n      \"browser\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.12; rv:86.1) Gecko/20100101 Firefox/86.1\",\n      \"content\": \"<reply value=\\\"610135c9d1f873388feb5c78\\\">@user1</reply>u3\",\n      \"resource_id\": 233,\n      \"type\": \"child\",\n      \"id\": \"6117b58dce422260bcbb13ec\",\n      \"reply_to_content\": \"hello\"\n    }\n  ],\n  \"read_item\": [\n    {\n      \"username\": \"user2\",\n      \"date\": \"2021-08-14 20:10:13\",\n      \"browser\": \"Mozilla/5.0 (Windows NT 6.3; WOW64; rv:86.1) Gecko/20100101 Firefox/86.1\",\n      \"content\": \"<reply value=\\\"610135c9d1f873388feb5c78\\\">@user1</reply>ajnkwa\",\n      \"resource_id\": 233,\n      \"type\": \"child\",\n      \"id\": \"6117b2a59195e6b1ab86eb30\",\n      \"reply_to_content\": \"hello\"\n    }\n  ],\n  \"unread_count\": 2,\n  \"read_count\": 1\n}\n```\n\n# 已读、未读消息\n\n* PATCH `http://127.0.0.1:8888/api/notification`\n  json body\n\n```json\n{\n  \"comment_id\": \"61013c839633a80254ef2e38\",\n  \"verb\": \"unread\"\n}\n```\n\nverb只可以是 `read` 和 `unread`\ncomment_id 是评论的id\n\n# 分类\n\n最灵活的API！ 推荐组合方式： 国家、分类\n\n* GET `/api/category`\n\n参数 `douban=True` 会返回豆瓣信息，默认不返回 支持如下参数，均为可选参数，可自由组合，URL参数可以URL编码，也可以不编码：\n\n## 分页参数\n\n* page 默认1\n* size 默认15\n\n## channel\n\n大分类，电影、电视剧、公开课，详细分类可以使用 `channel_cn`\n\n```python\n[('movie', 12057), ('tv', 5428), ('openclass', 35), ('discuss', 1)]\n```\n\n## channel_cn\n\n推荐值：\n\n```python\n[('电影', 12057), ('美剧', 2119), ('日剧', 1215), ('英剧', 641), ('纪录片', 314), ('韩剧', 212), ('动画', 126),\n ('泰剧', 112),\n ('加剧', 82), ('西剧', 62), ('澳剧', 61)]\n\n```\n\n全部可选值：\n\n```python\n[('电影', 12057), ('美剧', 2119), ('日剧', 1215), ('英剧', 641), ('纪录片', 314), ('韩剧', 212), ('动画', 126),\n ('泰剧', 112),\n ('加剧', 82), ('西剧', 62), ('澳剧', 61), ('真人秀', 51), ('法剧', 50), ('德剧', 41), ('公开课', 35), ('其剧', 34),\n ('越剧', 23),\n ('巴剧', 21), ('俄剧', 21), ('意剧', 19), ('墨剧', 16), ('印剧', 16), ('土剧', 16), ('\\x00剧', 12), ('电视电影', 12),\n ('脱口秀', 10),\n ('挪威剧', 9), ('丹麦剧', 8), ('综艺', 7), ('葡萄牙剧', 6), ('颁奖礼', 5), ('以色列剧', 4), ('新剧', 4),\n ('菲律宾剧', 4), ('动漫', 4), ('瑞典剧', 4),\n ('新西兰剧', 4), ('神剧', 3), ('短视频', 3), ('舞台剧', 3), ('MV', 3), ('演讲', 3), ('颁奖典礼', 3), ('比利时剧', 3),\n ('南非剧', 3), ('电视剧', 3),\n ('晨间剧', 2), ('短片', 2), ('荷兰剧', 2), ('巴西电视剧', 2), ('爱尔兰剧', 2), ('汽车三贱客', 2), ('芬兰剧', 2),\n ('大剧', 2), ('美剧 律政', 1),\n ('美剧/英剧', 1), ('小镇疑云(美版)', 1), ('动画片', 1), ('埃剧', 1), ('探案', 1), ('纪录', 1), ('演唱会', 1),\n ('冰岛剧', 1), ('深夜剧', 1),\n ('萌剧', 1), ('律政/剧情', 1), ('2013年BBC历史记录片', 1), ('催眠剧', 1), ('波兰剧', 1), ('幼教', 1), ('约旦', 1),\n ('闹剧', 1), ('浪漫/喜剧', 1),\n ('悬疑/罪案', 1), ('BBC世界杯专题纪录片', 1), ('克罗地亚剧', 1), ('台剧', 1), ('墨西哥剧', 1), ('惊悚', 1),\n ('阿拉伯剧', 1), ('委内瑞拉电视剧', 1),\n ('音乐会', 1), ('巴西剧', 1), ('新闻', 1), ('土耳其剧', 1), ('约旦剧', 1), ('发布会', 1), ('丹麦瑞典合拍', 1),\n ('捷克剧', 1), ('越南剧', 1),\n ('剧情', 1), ('墨西哥电视剧', 1), ('韩综', 1), ('花絮', 1), ('', 1)]\n\n```\n\n## area\n\n**推荐使用**\n推荐值\n\n```python\n[('美国', 9057), ('日本', 2233), ('英国', 1637), ('法国', 902), ('韩国', 763), ('其他', 535), ('德国', 402),\n ('加拿大', 313),\n ('西班牙', 280), ('印度', 247), ('俄罗斯', 234), ('泰国', 191), ('澳大利亚', 182), ('意大利', 150), ('', 109),\n ('越南', 60), ('巴西', 54),\n ('大陆', 52), ('墨西哥', 40), ('土耳其', 35), ('新加坡', 23), ('香港', 20), ('埃及', 1), ('台湾', 1)]\n\n```\n\n## show_type\n\n不推荐使用！数据缺失非常严重\n\n```python\n[('', 16751), ('纪录片', 314), ('动画', 126), ('日剧', 110), ('真人秀', 51), ('电视电影', 12), ('脱口秀', 10),\n ('挪威剧', 9), ('美剧', 8),\n ('丹麦剧', 8), ('综艺', 7), ('葡萄牙剧', 6), ('颁奖礼', 5), ('以色列剧', 4), ('菲律宾剧', 4), ('动漫', 4),\n ('瑞典剧', 4), ('新西兰剧', 4),\n ('神剧', 3), ('英剧', 3), ('短视频', 3), ('舞台剧', 3), ('MV', 3), ('演讲', 3), ('颁奖典礼', 3), ('比利时剧', 3),\n ('南非剧', 3), ('晨间剧', 2),\n ('短片', 2), ('荷兰剧', 2), ('新剧', 2), ('巴西电视剧', 2), ('爱尔兰剧', 2), ('汽车三贱客', 2), ('芬兰剧', 2),\n ('泰剧', 1), ('美剧 律政', 1),\n ('美剧/英剧', 1), ('小镇疑云(美版)', 1), ('动画片', 1), ('探案', 1), ('纪录', 1), ('演唱会', 1), ('冰岛剧', 1),\n ('深夜剧', 1), ('萌剧', 1),\n ('律政/剧情', 1), ('2013年BBC历史记录片', 1), ('催眠剧', 1), ('波兰剧', 1), ('幼教', 1), ('约旦', 1), ('闹剧', 1),\n ('浪漫/喜剧', 1), ('韩剧', 1),\n ('悬疑/罪案', 1), ('西剧', 1), ('BBC世界杯专题纪录片', 1), ('克罗地亚剧', 1), ('墨西哥剧', 1), ('惊悚', 1),\n ('阿拉伯剧', 1), ('委内瑞拉电视剧', 1),\n ('音乐会', 1), ('巴西剧', 1), ('新闻', 1), ('土耳其剧', 1), ('约旦剧', 1), ('发布会', 1), ('丹麦瑞典合拍', 1),\n ('捷克剧', 1), ('越南剧', 1),\n ('剧情', 1), ('墨西哥电视剧', 1), ('韩综', 1), ('花絮', 1)]\n\n```\n\n## 请求范例\n\n全部使用 `size=1&douban=True`做为范例，响应结构如下\n\n注意，由于并不是所有的资源都有豆瓣信息，因此有些可能douban字段为 `{}`\n\n```json\n{\n  \"data\": [\n    {\n      \"id\": 30552,\n      \"cnname\": \"极限战队\",\n      \"enname\": \"Ultraforce\",\n      \"aliasname\": \"极端力量\",\n      \"channel\": \"tv\",\n      \"channel_cn\": \"美剧\",\n      \"area\": \"美国\",\n      \"show_type\": \"\",\n      \"expire\": \"1610397126\",\n      \"views\": 0,\n      \"year\": [\n        2013\n      ],\n      \"douban\": {\n        \"name\": \"极限战队\",\n        \"doubanId\": 1295384,\n        \"doubanLink\": \"https://movie.douban.com/subject/1295384/\",\n        \"posterLink\": \"https://img9.doubanio.com/view/photo/s_ratio_poster/public/p2512733819.jpg\",\n        \"posterData\": \"base64编码的图片\",\n        \"resourceId\": 30552,\n        \"rating\": \"7.9\",\n        \"actors\": [\n          \"卡斯帕·范·迪恩\",\n          \"迪娜·迈耶\",\n          \"丹妮丝·理查兹\",\n          \"杰克·布塞\",\n          \"尼尔·帕特里克·哈里斯\",\n          \"克兰西·布朗\",\n          \"塞斯·吉列姆\",\n          \"帕特里克·茂顿\",\n          \"迈克尔·艾恩塞德\",\n          \"露·麦克拉纳罕\",\n          \"马绍尔·贝尔\",\n          \"埃里克·布鲁斯科特尔\",\n          \"马特·莱文\",\n          \"布蕾克·林斯利\",\n          \"安东尼·瑞维瓦\",\n          \"布兰达·斯特朗\",\n          \"迪恩·诺里斯\",\n          \"克里斯托弗·柯里\",\n          \"莱诺尔·卡斯多夫\",\n          \"罗伯特·斯莫特\",\n          \"斯蒂芬·福特\",\n          \"罗伯特·大卫·豪尔\",\n          \"艾米·斯马特\",\n          \"蒂莫西·奥门德森\",\n          \"代尔·戴\"\n        ],\n        \"directors\": [\n          \"保罗·范霍文\"\n        ],\n        \"genre\": [\n          \"动作\",\n          \"科幻\",\n          \"惊悚\",\n          \"冒险\"\n        ],\n        \"releaseDate\": \"1997-11-07\",\n        \"episodeCount\": \"\",\n        \"episodeDuration\": \"129 分钟\",\n        \"writers\": [\n          \"爱德华·诺麦尔\",\n          \"罗伯特·A·海因莱因\"\n        ],\n        \"year\": \"1997\",\n        \"introduction\": \"高中生瑞科（卡斯帕•凡•迪恩CasperVanDien饰）毕业后，在女友卡门（丹妮丝•理查兹DeniseRichards饰）的鼓动下，违背了父亲的意志，加入了机械化步兵学院，卡门亦加入了海军学院。在他们参加训练不久后，地球遭到了来自外星球的昆虫袭击。瑞科的亲人均惨遭杀害，卡门将拍摄到的影像传送给了瑞科。悲愤交加的瑞科率领部下投入到了对抗外星昆虫的战斗中。然而，军队低估了这些昆虫的实力。在一次遭遇战中，10万军队惨遭杀戮，只剩瑞科、卡门等几人侥幸逃生。瑞科亲眼目睹了恐怖的杀戮场面，意外获知了这些昆虫变得如此聪明、强大的秘密。瑞科意识到必须制造更先进的武器才能对付这些昆虫，人类的反击开始了！\"\n      }\n    }\n  ],\n  \"count\": 9057\n}\n```\n\n* 日剧 `http://127.0.0.1:8888/api/category?channel_cn=日剧`\n* 国家为\"美国\"的资源 `http://127.0.0.1:8888/api/category?area=美国`\n* 美国的纪录片 `http://127.0.0.1:8888/api/category?&area=美国&channel_cn=纪录片`\n* 日本的电影 `http://127.0.0.1:8888/api/category?size=1&area=日本&channel=movie` 或 `channel_cn=电影`\n* 动漫 `http://127.0.0.1:8888/api/category?size=1&channel_cn=动漫`\n\n# 最新资源\n\n* GET `/api/resource/latest`\n\n可选URL参数 size，最大100，超过100无效。如 `http://127.0.0.1:8888/api/resource/latest?size=5` 即为获取最新5条数据\n\n```json\n{\n  \"data\": [\n    {\n      \"name\": \"速度与激情9-F9 (2021) (1080p) [BluRay] [HD FULL].avi 1.52 GB\",\n      \"timestamp\": \"1623415867\",\n      \"size\": \"1.52GB\",\n      \"resource_id\": 39894,\n      \"res_name\": \"速度与激情9\",\n      \"date\": \"2021-06-11 20:51:07\"\n    },\n    {\n      \"name\": \"洛基-E01\",\n      \"timestamp\": \"1623415867\",\n      \"size\": \"788.53MB\",\n      \"resource_id\": 41382,\n      \"res_name\": \"洛基\",\n      \"date\": \"2021-06-11 20:51:07\"\n    },\n    {\n      \"name\": \"致命女人-EP01\",\n      \"timestamp\": \"1623415867\",\n      \"size\": \"790MB\",\n      \"resource_id\": 38413,\n      \"res_name\": \"致命女人\",\n      \"date\": \"2021-06-11 20:51:07\"\n    }\n  ]\n}\n```\n"
        },
        {
          "name": "DEVELOPMENT.md",
          "type": "blob",
          "size": 3.9130859375,
          "content": "# 项目手册\n\n# 网站部署方式\n\n## 一键脚本\n\n**支持amd64/arm64，请先安装 docker、docker-compose和curl**\n\n**为了安全考虑，安装完成后程序将监听在 127.0.0.1 。如有需要请自行修改 `docker-compose.yml`的127.0.0.1为0.0.0.0**\n\n### Linux/macOS：\n\n```bash\nbash -c \"$(curl -fsSL https://raw.githubusercontent.com/tgbot-collection/YYeTsBot/master/scripts/install.sh)\"\n````\n\n### Windows\n\n请再安装一个 [git for windows](https://gitforwindows.org/)，然后桌面空白处右键，选择 `git bash here`\n再然后\n\n```bash\nbash -c \"$(curl -fsSL https://raw.githubusercontent.com/tgbot-collection/YYeTsBot/master/scripts/install.sh)\"\n````\n\n## docker-compose\n\n参考 `yyetsweb`目录下的 `README`\n\n# bot\n\n可以选择docker，也可以直接运行在机器上。\n\n## docker-compose\n\n* 参见 [这里](https://github.com/tgbot-collection/BotsRunner)\n* 本目录下的 `docker-compose.yml` 也可以作为参考\n* nginx reverse proxy可以[参考这里](https://github.com/BennyThink/WebsiteRunner)\n* [参考这里获取数据库](yyetsweb/README.md)\n\n```shell\n# 启动数据库\ndocker-compose up -d mongo\n# 导入数据库\ndocker yyets_mongo.gz 1234da:/tmp\n# 进入容器\ndocker-compose exec mongo bash\nmongorestore --gzip --archive=yyets_mongo.gz --nsFrom \"share.*\" --nsTo \"zimuzu.*\"\nexit\n# 开启服务\ndocker-compose up -d\n```\n\n## replica set 配置方式\n\n```shell\nln -s docker-compose-replica.yml docker-compose.override.yml\ndocker-compose up -d mongo\n# 进入shell\nrs.initiate({\n    _id: \"rs0\",\n    members: [{\n        _id: 0,\n        host: \"localhost:27017\"\n    },\n    {\n        _id: 1,\n        host: \"mongo2:27017\"\n    }]\n})\n\n# 调整优先级\ncfg = rs.conf()\ncfg.members[0].priority = 0.5\ncfg.members[1].priority = 0.5\ncfg.members[2].priority = 1 # 最高\nrs.reconfig(cfg)\n\n```\n\n## 常规方式\n\n### 1. 环境\n\n推荐使用Python 3.6+，环境要求\n\n* redis\n* 可选MongoDB\n\n```bash\npip install -r requirements.txt\n```\n\n### 2. 配置TOKEN\n\n修改`config.py`，根据需求修改如下配置项\n\n* TOKEN：bot token\n* USERNAME：人人影视的有效的用户名\n* PASSWORD ：人人影视的有效的密码\n* MAINTAINER：维护者的Telegram UserID\n* REDIS：redis的地址，一般为localhost\n* MONGODB: mongodb的地址\n\n### 3. 导入数据（可选）\n\n如果使用yyets，那么需要导入数据到MongoDB。可以在将数据导入到MySQL之后使用如下脚本导入数据到MongoDB\n\n```shell\npython3 web/prepare/convert_db.py\n```\n\n### 4. 运行\n\n```bash\npython /path/to/YYeTsBot/yyetsbot/bot.py\n```\n\n### 5. systemd 单元文件\n\n参考 `yyets.service`\n\n# 添加新的资源网站\n\n欢迎各位开发提交新的资源网站！方法非常简单，重写 `BaseFansub`，实现`search_preview`和`search_result`，按照约定的格式返回数据。\n\n然后把类名字添加到 `FANSUB_ORDER` 就可以了！是不是很简单！\n\n# 防爬\n\n## 1. referer\n\n网站使用referer验证请求\n\n## 2. rate limit\n\n404的访问会被计数，超过10次会被拉入黑名单，持续3600秒，再次访问会持续叠加。\n\n# 持续部署\n\n使用[Docker Hub Webhook](https://docs.docker.com/docker-hub/webhooks/)\n(顺便吐槽一句，这是个什么垃圾文档……自己实现validation吧)\n\n参考listener [Webhook listener](https://github.com/tgbot-collection/Webhook)\n\n# 归档资源下载\n\n## Telegram 频道分享\n\n*\n\n包含了2021年1月11日为止的人人影视最新资源，MySQL为主。有兴趣的盆友可以用这个数据进行二次开发[戳我查看详情](https://t.me/mikuri520/668)\n\n* 字幕侠离线数据库 [从这里下载](https://t.me/mikuri520/715)，这个数据比较粗糙，并且字幕侠网站还在，因此不建议使用这个\n\n## 本地下载\n\n如果无法访问Telegram，可以使用如下网址下载数据\n\n* [MongoDB](https://yyets.click/data/yyets_mongo.gz)\n* [MySQL](https://yyets.click/data/yyets_mysql.zip)\n* [SQLite](https://yyets.click/data/yyets_sqlite.zip)\n\n# API 文档\n\n参考 [API.md](API.md)\n"
        },
        {
          "name": "Dockerfile",
          "type": "blob",
          "size": 1.20703125,
          "content": "FROM python:3.12-alpine AS pybuilder\nRUN apk update && apk add  --no-cache tzdata ca-certificates alpine-sdk libressl-dev libffi-dev cargo && \\\n    apk add tiff-dev jpeg-dev openjpeg-dev zlib-dev freetype-dev lcms2-dev \\\n    libwebp-dev tcl-dev tk-dev harfbuzz-dev fribidi-dev libimagequant-dev libxcb-dev libpng-dev\n\nCOPY requirements.txt /requirements.txt\nRUN pip3 install  --user -r /requirements.txt && rm /requirements.txt\n\n\nFROM python:3.12-alpine AS runner\nRUN apk update && apk add --no-cache libressl jpeg-dev openjpeg-dev libimagequant-dev tiff-dev freetype-dev libxcb-dev\n\n\nFROM alpine AS nodebuilder\nRUN apk add curl jq\nRUN wget $(curl -s https://api.github.com/repos/tgbot-collection/YYeTsFE/releases/tags/burn-20240106 | jq -r '.assets[] | select(.name == \"build.zip\") | .browser_download_url')\nRUN unzip build.zip && rm build.zip\n\nFROM runner\nRUN apk add mongodb-tools mysql-client\nCOPY . /YYeTsBot\n\nCOPY --from=pybuilder /root/.local /usr/local\nCOPY --from=pybuilder /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/\nCOPY --from=pybuilder /usr/share/zoneinfo /usr/share/zoneinfo\nCOPY --from=nodebuilder /build /YYeTsBot/yyetsweb/templates/\n\nENV TZ=Asia/Shanghai\nWORKDIR /YYeTsBot/yyetsbot\nCMD [\"python\", \"yyetsbot.py\"]\n"
        },
        {
          "name": "LICENSE",
          "type": "blob",
          "size": 1.0576171875,
          "content": "MIT License\r\n\r\nCopyright (c) 2021 Benny\r\n\r\nPermission is hereby granted, free of charge, to any person obtaining a copy\r\nof this software and associated documentation files (the \"Software\"), to deal\r\nin the Software without restriction, including without limitation the rights\r\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\ncopies of the Software, and to permit persons to whom the Software is\r\nfurnished to do so, subject to the following conditions:\r\n\r\nThe above copyright notice and this permission notice shall be included in all\r\ncopies or substantial portions of the Software.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\r\nSOFTWARE.\r\n"
        },
        {
          "name": "Makefile",
          "type": "blob",
          "size": 2.5322265625,
          "content": "OS = darwin linux windows\nARCH = amd64 arm64\nWEB := $(shell cd yyetsweb;pwd)\nDATE:=$(shell date +\"%Y-%m-%d %H:%M:%S\")\nupdate:\n\tgit pull\n\tgit submodule update --remote\n\ndocker-dev:\n\tmake update\n\tdocker build --build-arg env=dev -t bennythink/yyetsbot .\n\tdocker-compose up -d\n\ndocker:\n\t# production configuration\n\tcp .env YYeTsFE/.env\n\t# docker buildx create --use --name mybuilder\n\tdocker buildx build --platform=linux/amd64,linux/arm64 -t bennythink/yyetsbot  . --push\n\n\nclean:\n\tdocker rmi bennythink/yyetsbot:latest || true\n\trm -rf YYeTsFE/build\n\trm -rf YYeTsFE/dist\n\n\t@rm -rf yyetsweb/builds\n\t@rm -f yyetsweb/assets.go\n\ncurrent:\n\techo \"Installing dependencies...\"\n\tcd $(WEB);go get -u github.com/go-bindata/go-bindata/...\n\techo \"Build static files...\"\n\tmake asset\n\techo \"Build current platform executable...\"\n\tcd $(WEB); go build .;\n\nasset:\n\tcd $(WEB);go get -u github.com/go-bindata/go-bindata/... ;go install github.com/go-bindata/go-bindata/...\n\tcd $(WEB)/templates;~/go/bin/go-bindata -o assets.go ./...\n\tmv yyetsweb/templates/assets.go yyetsweb/assets.go\n\nfrontend:\n\tcd YYeTsFE; yarn && yarn run release\n\tcp -R YYeTsFE/build/* yyetsweb/templates/\n\nall:\n\tmake clean\n\tmake frontend\n\tmake asset\n\t@echo \"Build all platform executables...\"\n\t@for o in $(OS) ; do            \\\n        \t\tfor a in $(ARCH) ; do     \\\n        \t\t  \techo \"Building $$o-$$a...\"; \\\n        \t\t  \tif [ \"$$o\" = \"windows\" ]; then \\\n                    \tcd $(WEB);CGO_ENABLED=0 GOOS=$$o GOARCH=$$a go build -ldflags=\"-s -w -X 'main.buildTime=$(DATE)'\" -o builds/yyetsweb-$$o-$$a.exe .;    \\\n                    else \\\n        \t\t\t\tcd $(WEB);CGO_ENABLED=0 GOOS=$$o GOARCH=$$a go build -ldflags=\"-s -w -X 'main.buildTime=$(DATE)'\" -o builds/yyetsweb-$$o-$$a .;    \\\n        \t\t\tfi; \\\n        \t\tdone   \\\n        \tdone\n\n\t@make universal\n\t@make checksum\n\n\nchecksum: yyetsweb/builds/*\n\t@echo \"Generating checksums...\"\n\tif [ \"$(shell uname)\" = \"Darwin\" ]; then \\\n\t\tshasum -a 256 $^ >>  $(WEB)/builds/checksum-sha256sum.txt ;\\\n\telse \\\n\t\tsha256sum  $^ >> $(WEB)/builds/checksum-sha256sum.txt; \\\n\tfi\n\n\nuniversal:\n\t@echo \"Building macOS universal binary...\"\n\tdocker run --rm -v $(WEB)/builds:/app/ bennythink/lipo-linux -create -output \\\n\t\tyyetsweb-darwin-universal \\\n\t\tyyetsweb-darwin-amd64    yyetsweb-darwin-arm64\n\n\tfile $(WEB)/builds/yyetsweb-darwin-universal\n\nrelease:\n\tgit tag $(shell git rev-parse --short HEAD)\n\tgit push --tags\n\n\nci-test:\n\tdocker run --rm bennythink/yyetsbot /bin/sh -c \"cd /YYeTsBot/yyetsweb/tests;python -m unittest discover -p '*_test.py'\"\n\ntest:\n\tcd $(WEB)/tests;python -m unittest discover -p '*_test.py'\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 5.181640625,
          "content": "# YYeTsBot\r\n\r\n[![build docker image](https://github.com/tgbot-collection/YYeTsBot/actions/workflows/docker.yaml/badge.svg)](https://github.com/tgbot-collection/YYeTsBot/actions/workflows/docker.yaml)\r\n[![Docker Pulls](https://img.shields.io/docker/pulls/bennythink/yyetsbot)](https://hub.docker.com/r/bennythink/yyetsbot)\r\n\r\n![](assets/index.png)\r\n\r\n👉 前端[在这里](https://github.com/tgbot-collection/YYeTsFE) 👈\r\n\r\n# 使用说明\r\n\r\n直接发送想要看的剧集名称就可以了，可选分享网页或者链接（ed2k和磁力链接）。\r\n\r\n\r\n搜索资源时，会按照我预定的优先级（人人影视离线、字幕侠）进行搜索，当然也可以使用命令强制某个字幕组，如 `/yyets_offline 逃避可耻`\r\n\r\n## 命令\r\n\r\n```\r\nstart - 开始使用\r\nhelp - 帮助\r\ncredits - 致谢\r\nping - 运行状态\r\nsettings - 获取公告\r\nzimuxia_online - 字幕侠在线数据  \r\nnewzmz_online - new字幕组在线数据 \r\nyyets_offline - 人人影视离线数据\r\n```\r\n\r\n# 截图\r\n\r\n## 常规搜索\r\n\r\n![](assets/1.png)\r\n\r\n## 资源分享站截图\r\n\r\n本网站永久免费，并且没有任何限制。\r\n![](assets/new_resource.png)\r\n\r\n![](assets/2.png)\r\n\r\n支持收藏功能，会跨设备同步\r\n![](assets/like.png)\r\n\r\n## 指定字幕组搜索\r\n\r\n目前只支持YYeTsOffline、ZimuxiaOnline和NewzmzOnline\r\n\r\n![](assets/3.png)\r\n\r\n# 如何下载磁力和电驴资源？迅雷提示资源敏感\r\n\r\n## 电驴资源\r\n\r\n请下载使用 [eMule](https://www.emule-project.net/home/perl/general.cgi?l=42) ，然后添加如下两个server list\r\n\r\n* [server.met](http://www.server-met.de/)\r\n* [server list for emule](https://www.emule-security.org/serverlist/)\r\n\r\n![](assets/emule.jpeg)\r\n速度还可以哦\r\n\r\n## 磁力\r\n\r\n使用百度网盘、115等离线，或使用utorrent等工具，记得更新下 [tracker list](https://raw.githubusercontent.com/ngosang/trackerslist/master/trackers_all.txt)\r\n哦\r\n\r\n# 小白使用\r\n\r\n想要自己留一份资源，但是又不懂编程？ 没关系！目前提供两种方式，请根据自己情况选择\r\n“离线使用” 意味着可以断网使用，但是不会自动更新资源，需要手动更新数据库；“在线应用” 意味着需要有互联网才可以使用。\r\n\r\n## 离线  完整运行包\r\n\r\n这个版本是新的UI，拥有全部的最新功能。运行在你本地的电脑上，不依赖外界环境。\r\n[参考文档](https://github.com/tgbot-collection/YYeTsBot/blob/master/DEVELOPMENT.md#%E4%B8%80%E9%94%AE%E8%84%9A%E6%9C%AC)\r\n\r\n## 离线  一键运行包\r\n\r\n一键运行包。拥有比较新的UI，只不过只有最基础的搜索、查看资源的功能。使用方法步骤如下\r\n\r\n1. 请到 [GitHub Release](https://github.com/tgbot-collection/YYeTsBot/releases) ，找最新的 `YYeTsBot 离线一键运行包`\r\n2. windows：双击第一步下载的exe文件； macos/Linux，cd到你的目录, `chmod +x yyetsweb ; ./yyetsweb`\r\n3. 程序会自动下载数据库并启动。等到出现启动提示时， 打开浏览器 http://127.0.0.1:8888 就可以看到熟悉的搜索界面啦！\r\n\r\n## 在线 原生应用程序\r\n\r\n使用tauri封装的网页。使用方法如下\r\n\r\n1. 请到 [GitHub Release](https://github.com/tgbot-collection/YYeTsBot/releases) ，找最新的 `YYeTsBot App`\r\n2. windows下载msi，macos下载dmg或tar.gz，Linux下载AppImage或deb（Debian based）\r\n3. 安装后，打开App，就可以看到熟悉的搜索界面啦！\r\n\r\n# 开发\r\n\r\n## 网站开发\r\n\r\n如何部署、参与开发、具体API接口，可以 [参考这个文档](DEVELOPMENT.md)\r\n\r\n## Python Library\r\n\r\n也可以作为Python Library去调用\r\n\r\n`pip3 install yyets`\r\n\r\n```\r\n>>> from yyets import YYeTs\r\n>>> yy=YYeTs(\"逃避\")\r\n[2021-09-21 19:22:32 __init__.py:54 I] Fetching 逃避可耻却有用...https://yyets.click/api/resource?id=34812\r\n[2021-09-21 19:22:33 __init__.py:54 I] Fetching 无法逃避...https://yyets.click/api/resource?id=29540\r\n[2021-09-21 19:22:35 __init__.py:54 I] Fetching 逃避者...https://yyets.click/api/resource?id=37089\r\n\r\n>>> yy.result\r\n[<yyets.Resource object at 0x10cc7b130>, <yyets.Resource object at 0x10ca0e880>, <yyets.Resource object at 0x10cc7b040>]\r\n\r\n>>> for y in yy.result:\r\n        print(y)\r\n    \r\n逃避可耻却有用 - NIGERUHA HAJIDAGA YAKUNITATSU\r\n无法逃避 - Inescapable\r\n逃避者 - Shirkers\r\n\r\n>>> yy.result[0].cnname\r\n'逃避可耻却有用'\r\n\r\n>>> yy.result[0].list\r\n[{'season_num': '101', 'season_cn': '单剧', 'items': {'APP': [{'ite\r\n```\r\n\r\n# Credits\r\n\r\n* [人人影视](http://www.zmz2019.com/)\r\n* [追新番](http://www.fanxinzhui.com/)\r\n* [FIX字幕侠](https://www.zimuxia.cn/)\r\n* [new字幕组](https://newzmz.com/)\r\n\r\n# 支持我\r\n\r\n觉得本项目对你有帮助？你可以通过以下方式表达你的感受：\r\n\r\n* 感谢字幕组\r\n* 点一个star🌟和fork🍴\r\n* 宣传，使用，提交问题报告\r\n* 收藏[我的博客](https://dmesg.app/)\r\n* [Telegram Channel](https://t.me/mikuri520)\r\n\r\n## 捐助\r\n\r\n* [给我买杯咖啡？](https://www.buymeacoffee.com/bennythink)\r\n* [爱发电？](https://afdian.net/@BennyThink)\r\n* [GitHub Sponsor](https://github.com/sponsors/BennyThink)\r\n* [Stripe](https://buy.stripe.com/dR67vU4p13Ox73a6oq)\r\n\r\n <img src=\"./assets/CNY.png\" width = 30%  alt=\"stripe\"  />\r\n\r\n\r\n# License\r\n\r\n[MIT](LICENSE)\r\n"
        },
        {
          "name": "assets",
          "type": "tree",
          "content": null
        },
        {
          "name": "conf",
          "type": "tree",
          "content": null
        },
        {
          "name": "docker-compose.yml",
          "type": "blob",
          "size": 1.267578125,
          "content": "version: '3.1'\n\nservices:\n  redis:\n    image: redis:7-alpine\n    restart: always\n    logging:\n      driver: none\n\n  mongo:\n    image: mongo:6\n    restart: always\n    volumes:\n      - ./mongo_data/mongodb:/data/db\n    command: --quiet\n    logging:\n      driver: none\n    ports:\n      - \"127.0.0.1:27017:27017\"\n\n  meili:\n    image: getmeili/meilisearch:v1.0.2\n    restart: always\n    environment:\n      - MEILI_HTTP_PAYLOAD_SIZE_LIMIT=1073741824 #1GiB\n    volumes:\n      - meilisearch_data:/meili_data\n\n  mysql:\n    image: ubuntu/mysql:8.0-22.04_beta\n    restart: unless-stopped\n    environment:\n      MYSQL_ROOT_PASSWORD: 'root'\n    logging:\n      driver: none\n    command: \"--skip-log-bin --default-authentication-plugin=mysql_native_password\"\n\n  bot:\n    image: bennythink/yyetsbot\n    depends_on:\n      - redis\n      - mongo\n    restart: always\n    env_file:\n      - env/yyets.env\n\n  web:\n    image: bennythink/yyetsbot\n    restart: always\n    env_file:\n      - env/yyets.env\n    depends_on:\n      - mongo\n      - redis\n      - mysql\n    working_dir: /YYeTsBot/yyetsweb/\n    volumes:\n      - ./subtitle_data:/YYeTsBot/yyetsweb/subtitle_data\n    command: [ \"python3\",\"server.py\",\"-h=0.0.0.0\" ]\n    ports:\n      - \"127.0.0.1:8888:8888\"\n      - \"172.17.0.1:8888:8888\"\n\n\nvolumes:\n  meilisearch_data:\n"
        },
        {
          "name": "requirements.txt",
          "type": "blob",
          "size": 0.4462890625,
          "content": "requests==2.32.3\r\npytelegrambotapi==4.26.0\r\nbeautifulsoup4==4.12.3\r\ntgbot-ping==1.0.7\r\nredis==5.2.1\r\napscheduler==3.11.0\r\npymongo==4.10.1\r\ntornado==6.4.2\r\ncaptcha==0.6.0\r\npasslib==1.7.4\r\nfakeredis==2.26.2\r\nfiletype==1.2.0\r\nrequests[socks]\r\ntqdm==4.67.1\r\nretry==0.9.2\r\npymysql==1.1.1\r\ngit+https://github.com/tgbot-collection/python-akismet\r\nopenpyxl==3.1.5\r\nzhconv==1.4.3\r\njinja2==3.1.5\r\ncoloredlogs==15.0.1\r\nmeilisearch==0.33.0\r\npillow==11.0.0\r\npytz==2024.2"
        },
        {
          "name": "scripts",
          "type": "tree",
          "content": null
        },
        {
          "name": "setup.py",
          "type": "blob",
          "size": 3.6494140625,
          "content": "#!/usr/bin/env python\n# -*- coding: utf-8 -*-\n\n# Note: To use the 'upload' functionality of this file, you must:\n#   $ pipenv install twine --dev\n\nimport io\nimport os\nimport sys\nfrom shutil import rmtree\n\nfrom setuptools import Command, setup\n\n# Package meta-data.\nNAME = \"yyets\"\nDESCRIPTION = \"https://yyets.click/ wrapper\"\nURL = \"https://github.com/tgbot-collection/YYeTsBot\"\nEMAIL = \"benny.think@gmail.com\"\nAUTHOR = \"BennyThink\"\nREQUIRES_PYTHON = \">=3.6.0\"\nVERSION = \"1.0.1\"\n\n# What packages are required for this module to be executed?\nREQUIRED = [\"requests\"]\n\n# What packages are optional?\nEXTRAS = {\n    # 'fancy feature': ['django'],\n}\n\n# The rest you shouldn't have to touch too much :)\n# ------------------------------------------------\n# Except, perhaps the License and Trove Classifiers!\n# If you do change the License, remember to change the Trove Classifier for that!\n\nhere = os.path.abspath(os.path.dirname(__file__))\n\n# Import the README and use it as the long-description.\n# Note: this will only work if 'README.md' is present in your MANIFEST.in file!\ntry:\n    with io.open(os.path.join(here, \"README.md\"), encoding=\"utf-8\") as f:\n        long_description = \"\\n\" + f.read()\nexcept FileNotFoundError:\n    long_description = DESCRIPTION\n\n# Load the package's __version__.py module as a dictionary.\nabout = {}\nif not VERSION:\n    project_slug = NAME.lower().replace(\"-\", \"_\").replace(\" \", \"_\")\n    with open(os.path.join(here, project_slug, \"__version__.py\")) as f:\n        exec(f.read(), about)\nelse:\n    about[\"__version__\"] = VERSION\n\n\nclass UploadCommand(Command):\n    \"\"\"Support setup.py upload.\"\"\"\n\n    description = \"Build and publish the package.\"\n    user_options = []\n\n    @staticmethod\n    def status(s):\n        \"\"\"Prints things in bold.\"\"\"\n        print(\"\\033[1m{0}\\033[0m\".format(s))\n\n    def initialize_options(self):\n        pass\n\n    def finalize_options(self):\n        pass\n\n    def run(self):\n        try:\n            self.status(\"Removing previous builds…\")\n            rmtree(os.path.join(here, \"dist\"))\n        except OSError:\n            pass\n\n        self.status(\"Building Source and Wheel (universal) distribution…\")\n        os.system(\"{0} setup.py sdist bdist_wheel --universal\".format(sys.executable))\n\n        self.status(\"Uploading the package to PyPI via Twine…\")\n        os.system(\"twine upload dist/*\")\n\n        self.status(\"Pushing git tags…\")\n        os.system(\"git tag v{0}\".format(about[\"__version__\"]))\n        os.system(\"git push --tags\")\n\n        sys.exit()\n\n\n# Where the magic happens:\nsetup(\n    name=NAME,\n    version=about[\"__version__\"],\n    description=DESCRIPTION,\n    long_description=long_description,\n    long_description_content_type=\"text/markdown\",\n    author=AUTHOR,\n    author_email=EMAIL,\n    python_requires=REQUIRES_PYTHON,\n    url=URL,\n    # packages=find_packages(exclude=[\"tests\", \"*.tests\", \"*.tests.*\", \"tests.*\"]),\n    # If your package is a single module, use this instead of 'packages':\n    packages=[\"yyets\"],\n    # entry_points={\n    #     'console_scripts': ['mycli=mymodule:cli'],\n    # },\n    install_requires=REQUIRED,\n    extras_require=EXTRAS,\n    include_package_data=True,\n    license=\"MIT\",\n    classifiers=[\n        # Trove classifiers\n        # Full list: https://pypi.python.org/pypi?%3Aaction=list_classifiers\n        \"License :: OSI Approved :: MIT License\",\n        \"Programming Language :: Python\",\n        \"Programming Language :: Python :: 3\",\n        \"Programming Language :: Python :: 3.6\",\n        \"Programming Language :: Python :: Implementation :: CPython\",\n        \"Programming Language :: Python :: Implementation :: PyPy\",\n    ],\n    # $ setup.py publish support.\n    cmdclass={\n        \"upload\": UploadCommand,\n    },\n)\n"
        },
        {
          "name": "tea.yaml",
          "type": "blob",
          "size": 0.1708984375,
          "content": "# https://tea.xyz/what-is-this-file\n---\nversion: 1.0.0\ncodeOwners:\n  - '0x2F119b4DdC0d33A1cAE392999513e8D253C9b4Db'\n  - '0x56E743FD305c6858A4baD2893F2b2498441dF0Ce'\nquorum: 1\n"
        },
        {
          "name": "yyets",
          "type": "tree",
          "content": null
        },
        {
          "name": "yyetsbot",
          "type": "tree",
          "content": null
        },
        {
          "name": "yyetsweb",
          "type": "tree",
          "content": null
        }
      ]
    }
  ]
}