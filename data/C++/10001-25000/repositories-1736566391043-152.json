{
  "metadata": {
    "timestamp": 1736566391043,
    "page": 152,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjE2MA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "taskflow/taskflow",
      "stars": 10480,
      "defaultBranch": "master",
      "files": [
        {
          "name": ".gitattributes",
          "type": "blob",
          "size": 0.349609375,
          "content": "# Mark non-source directories as vendored\n# Common directories in Taskflow might include external dependencies or other assets.\nbenchmark/* linguist-vendored\ndoc/* linguist-vendored\nimage/* linguist-vendored\n3rd-party/* linguist-vendored\n\n# Mark C++ source files for Taskflow\n*.cpp linguist-language=C++\n*.hpp linguist-language=C++\n*.h linguist-language=C++\n"
        },
        {
          "name": ".github",
          "type": "tree",
          "content": null
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.0068359375,
          "content": "/build\n"
        },
        {
          "name": ".vscode",
          "type": "tree",
          "content": null
        },
        {
          "name": "3rd-party",
          "type": "tree",
          "content": null
        },
        {
          "name": "CMakeLists.txt",
          "type": "blob",
          "size": 14.361328125,
          "content": "# -------------------------------------------------------------------\n# Taskflow CMake \n#\n# To enable thread sanitizer: \n# -DCMAKE_CXX_FLAGS=\"-fsanitize=thread -g\"\n#\n# To enable address and leak sanitizers\n# -DCMAKE_CXX_FLAGS=\"-fsanitize=address  -fsanitize=leak -g\"\n#\n# To enable different c++ standards\n# -DCMAKE_CXX_STANDARD=17\n# -DCMAKE_CXX_STANDARD=20\n# -DCMAKE_CXX_STANDARD=23\n# -------------------------------------------------------------------\n\n\n# CMake version\ncmake_minimum_required (VERSION 3.18)\nMESSAGE(STATUS \"CMAKE_ROOT: \" ${CMAKE_ROOT})\n\n# Project name\nproject(Taskflow VERSION 3.10.0 LANGUAGES CXX)\n\n# build options\noption(TF_BUILD_BENCHMARKS \"Enables builds of benchmarks\" OFF)\noption(TF_BUILD_PROFILER \"Enables builds of profiler\" OFF)\noption(TF_BUILD_CUDA \"Enables builds of cuda code\" OFF)\noption(TF_BUILD_SYCL \"Enables builds of sycl code\" OFF)\noption(TF_BUILD_TESTS \"Enables builds of tests\" ON)\noption(TF_BUILD_EXAMPLES \"Enables builds of examples\" ON)\n\n# project-specific variables\nset(TF_UTEST_DIR ${PROJECT_SOURCE_DIR}/unittests)\nset(TF_EXAMPLE_DIR ${PROJECT_SOURCE_DIR}/examples)\nset(TF_BENCHMARK_DIR ${PROJECT_SOURCE_DIR}/benchmarks)\nset(TF_3RD_PARTY_DIR ${PROJECT_SOURCE_DIR}/3rd-party)\nset(TF_CMAKE_DIR ${PROJECT_SOURCE_DIR}/cmake)\nset(TF_DEFAULT_BUILD_TYPE \"Release\")\n\n# Turn on the verbose\nset(CMAKE_VERBOSE_MAKEFILE ON)\n\n# Include additional language check\ninclude(CheckLanguage)\n\n# Adhere to GNU conventions\ninclude(GNUInstallDirs)\n\n# Check for correct settings for atomic library\ninclude(${CMAKE_CURRENT_SOURCE_DIR}/cmake/Atomic/CheckAtomic.cmake)\n\n# Compiler vendors\n## g++\nif (CMAKE_CXX_COMPILER_ID STREQUAL \"GNU\")\n  if(CMAKE_CXX_COMPILER_VERSION VERSION_LESS \"8.4\")\n    message(STATUS \"CMAKE_CXX_COMPILER_VERSION: ${CMAKE_CXX_COMPILER_VERSION}\")\n    message(FATAL_ERROR \"\\nTaskflow requires g++ at least v8.4\")\n  endif()\n## clang++\nelseif (CMAKE_CXX_COMPILER_ID STREQUAL \"Clang\")\n  if(CMAKE_CXX_COMPILER_VERSION VERSION_LESS \"6.0\")\n    message(STATUS \"CMAKE_CXX_COMPILER_VERSION: ${CMAKE_CXX_COMPILER_VERSION}\")\n    message(FATAL_ERROR \"\\nTaskflow requires clang++ at least v6.0\")\n  endif() \n## AppleClang\nelseif (CMAKE_CXX_COMPILER_ID STREQUAL \"AppleClang\")\n  if(CMAKE_CXX_COMPILER_VERSION VERSION_LESS \"12.0\")\n    message(FATAL_ERROR \"\\nTaskflow requires AppleClang at least v12.0\")\n  endif()\n## microsoft visual c++\nelseif (CMAKE_CXX_COMPILER_ID STREQUAL \"MSVC\")\n  add_definitions(/bigobj)\n  if(NOT MSVC_VERSION GREATER_EQUAL 1914)\n    message(STATUS \"CMAKE_CXX_COMPILER_VERSION: ${CMAKE_CXX_COMPILER_VERSION}\")\n    message(FATAL_ERROR \"\\nTaskflow requires MSVC++ at least v14.14\") \n  endif()\nelseif (CMAKE_CXX_COMPILER_ID STREQUAL \"Intel\")\n  if(CMAKE_CXX_COMPILER_VERSION VERSION_LESS \"19.0.1\")\n    message(STATUS \"CMAKE_CXX_COMPILER_VERSION: ${CMAKE_CXX_COMPILER_VERSION}\")\n    message(FATAL_ERROR \"\\nTaskflow requires icpc at least v19.0.1\")\n  endif()\nelse()\n  message(FATAL_ERROR \"\\n\\\nTaskflow currently supports the following compilers:\\n\\\n  - g++ v7.0 or above\\n\\\n  - clang++ v6.0 or above\\n\\\n  - MSVC++ v19.14 or above\\n\\\n  - AppleClang v8 or above\\n\\\n  - Intel v19.0.1 or above\\n\\\n\")\nendif()\n\n# -----------------------------------------------------------------------------\n# find nvcc\n# https://cliutils.gitlab.io/modern-cmake/chapters/packages/CUDA.html\n# -----------------------------------------------------------------------------\nif(TF_BUILD_CUDA)\n  message(STATUS \"Configuring CUDA ...\")\n  check_language(CUDA)\n  if(NOT CMAKE_CUDA_COMPILER)\n    message(FATAL_ERROR \"\\nNo CUDA compiler found\")\n  endif()\n  enable_language(CUDA)\n  if(CMAKE_CUDA_COMPILER_VERSION VERSION_LESS \"11\")\n    message(STATUS \"CMAKE_CUDA_COMPILER_VERSION: ${CMAKE_CUDA_COMPILER_VERSION}\")\n    message(FATAL_ERROR \"\\nTaskflow requires CUDA at least v11\")\n  endif()\n  \n  ## configure cuBLAS\n  #message(STATUS \"Configuring CUDA BLAS ...\")\n  #list(APPEND CMAKE_MODULE_PATH ${TF_CMAKE_DIR}/cuda/modules/)\n  #find_package(cuBLAS)\n  #message(STATUS \"CUBLAS_FOUND: ${CUBLAS_FOUND}\")\n  #message(STATUS \"CUBLAS_INCLUDE_DIRS: ${CUBLAS_INCLUDE_DIRS}\")\n  #message(STATUS \"CUBLAS_LIBRARIES: ${CUBLAS_LIBRARIES}\")\nendif()\n\n# -----------------------------------------------------------------------------\n# find ComputeCpp\n# https://developer.codeplay.com/products/computecpp/ce/guides/integration-guide\n# -----------------------------------------------------------------------------\n# Users can specify:\n# 1. -DComputeCpp_DIR=/path/to/ComputeCpp/\n# 2. -DCOMPUTECPP_BITCODE=ptx64 (default spir64)\n# For example:\n# cmake ../ -DTF_BUILD_SYCL=ON \n#           -DCOMPUTECPP_BITCODE=ptx64 \n#           -DComputeCpp_DIR=$COMPUTECPP_HOME\n#if(TF_BUILD_SYCL)\n#  message(STATUS \"Configuring ComputeCpp for SYCL ...\")\n#  message(STATUS \"You may specify '-DComputeCpp_DIR=/path/to/ComputeCpp/'\")\n#  message(STATUS \"You may specify '-DCOMPUTECPP_BITCODE=ptx64' for Nvidia devices\")\n#  list(APPEND CMAKE_MODULE_PATH ${TF_CMAKE_DIR}/ComputeCpp/Modules/)\n#  if(NOT ComputeCpp_DIR)\n#    message(FATAL_ERROR \"Please specify -DComputeCpp_DIR=/path/to/ComputeCpp/\")\n#  endif()\n#  find_package(ComputeCpp REQUIRED)\n#  message(STATUS \"ComputeCpp_DIR: \" ${ComputeCpp_DIR})\n#  message(STATUS \"ComputeCpp_INCLUDE_DIRS: \" ${ComputeCpp_INCLUDE_DIRS})\n#  include_directories(${ComputeCpp_INCLUDE_DIRS})\n#endif()\n\n# -----------------------------------------------------------------------------\n# default to release build, unless explicitly specified\n# -----------------------------------------------------------------------------\nif(NOT CMAKE_BUILD_TYPE AND NOT CMAKE_CONFIGURATION_TYPES)\n  message(STATUS \"Setting build type to '${TF_DEFAULT_BUILD_TYPE}'\")\n  set(\n    CMAKE_BUILD_TYPE \"${TF_DEFAULT_BUILD_TYPE}\" \n    CACHE\n    STRING \"Choose the type of build.\" \n    FORCE\n  )\n  # Set the possible values of build type for cmake-gui\n  set_property(\n    CACHE \n    CMAKE_BUILD_TYPE \n    PROPERTY STRINGS\n    \"Debug\" \"Release\" \"MinSizeRel\" \"RelWithDebInfo\"\n  )\nendif()\n\n\n# -----------------------------------------------------------------------------\n# tf::default_setting\n# -----------------------------------------------------------------------------\n\n# error setting\nadd_library(error_settings INTERFACE)\nadd_library(tf::error_settings ALIAS error_settings)\n\ntarget_compile_options(\n  error_settings\n  INTERFACE\n  $<$<CXX_COMPILER_ID:AppleClang>:-Wall -Wextra -Wfatal-errors -Wshadow>\n  $<$<AND:$<COMPILE_LANGUAGE:CXX>,$<CXX_COMPILER_ID:Clang>>:-Wall -Wextra -Wfatal-errors -Wshadow>\n  $<$<AND:$<COMPILE_LANGUAGE:CXX>,$<CXX_COMPILER_ID:GNU>>:-Wall -Wextra -Wfatal-errors -Wshadow>\n  $<$<AND:$<COMPILE_LANGUAGE:CXX>,$<CXX_COMPILER_ID:MSVC>>:/W3 /permissive->\n)\n\n# cuda compiler options\nif(TF_BUILD_CUDA)\n  message(STATUS \"Configuring CUDA compiler options ...\")\n  target_compile_options(\n    error_settings\n    BEFORE\n    INTERFACE\n    $<$<COMPILE_LANGUAGE:CUDA>:--extended-lambda -Xcompiler=-Wall,-Wextra,-Wfatal-errors,-Wshadow>\n  )\nendif(TF_BUILD_CUDA)\n\n# sycl compiler options (currently support only DPC++)\nif(TF_BUILD_SYCL)\n  message(STATUS \"Configuring SYCL compiler options ...\")\n  message(STATUS \"You may specify -DTF_BUILD_SYCL_BITCODE=ptx64 for CUDA devices\")\n  list(APPEND TF_SYCL_OPTIONS -fsycl -fsycl-unnamed-lambda)\n  if(TF_BUILD_SYCL_BITCODE STREQUAL \"ptx64\")\n    message(STATUS \"Configuring SYCL compiler options to CUDA ptx64 ...\")\n    list(APPEND TF_SYCL_OPTIONS -fsycl-targets=nvptx64-nvidia-cuda)\n  endif()\nendif()\n\n# additional features\n#add_library(features_settings INTERFACE)\n#add_library(tf::features_settings ALIAS features_settings)\n#target_compile_definitions(\n#  features_settings \n#  INTERFACE \n#  $<$<CXX_COMPILER_ID:MSVC>:_ENABLE_EXTENDED_ALIGNED_STORAGE>\n#)\n\n# optimization\n#\n##! Msvc flags info\n# /Zi - Produces a program database (PDB) that contains type information \n#       and symbolic debugging information for use with the debugger.\n# /FS - Allows multiple cl.exe processes to write to the same .pdb file\n# /DEBUG - Enable debug during linking\n# /Od - Disables optimization\n# /Ox - Full optimization\n# /Oy- do not suppress frame pointers (recommended for debugging)\n#\n#add_library(optimize_settings INTERFACE)\n#add_library(tf::optimize_settings ALIAS optimize_settings)\n#\n#target_compile_options(\n#  optimize_settings INTERFACE\n#  $<$<AND:$<CONFIG:Release>,$<CXX_COMPILER_ID:Clang>>:-O2 -march=native>\n#  #$<$<AND:$<CONFIG:Release>,$<CXX_COMPILER_ID:AppleClang>>:-O2 -march=native>\n#  $<$<AND:$<CONFIG:Release>,$<CXX_COMPILER_ID:GNU>>:-O2 -march=native>\n#  $<$<AND:$<CONFIG:Release>,$<CXX_COMPILER_ID:MSVC>>:/O2 -DNDEBUG /MP>\n#  $<$<AND:$<CONFIG:Debug>,$<CXX_COMPILER_ID:GNU>>:-O0 -g>\n#  $<$<AND:$<CONFIG:Debug>,$<CXX_COMPILER_ID:Clang>>:-O0 -g>\n#  #$<$<AND:$<CONFIG:Debug>,$<CXX_COMPILER_ID:AppleClang>>:-O0 -g>\n#  $<$<AND:$<CONFIG:Debug>,$<CXX_COMPILER_ID:MSVC>>:/Zi /FS /DEBUG /Od /MP /MDd /Oy->\n#)\n#\nadd_library(default_settings INTERFACE)\nadd_library(tf::default_settings ALIAS default_settings)\ntarget_link_libraries(\n  default_settings \n  INTERFACE \n  tf::error_settings \n  #tf::optimize_settings \n  #tf::features_settings\n)\n\n# -----------------------------------------------------------------------------\n# start build\n# -----------------------------------------------------------------------------\n\nmessage(STATUS \"PROJECT_NAME: \" ${PROJECT_NAME})\nmessage(STATUS \"CMAKE_HOST_SYSTEM: ${CMAKE_HOST_SYSTEM}\")\nmessage(STATUS \"CMAKE_BUILD_TYPE: \" ${CMAKE_BUILD_TYPE})\nmessage(STATUS \"CMAKE_SYSTEM: \" ${CMAKE_SYSTEM})\nmessage(STATUS \"CMAKE_SYSTEM_PROCESSOR: \" ${CMAKE_SYSTEM_PROCESSOR})\nmessage(STATUS \"CMAKE_CXX_COMPILER: \" ${CMAKE_CXX_COMPILER})\nmessage(STATUS \"CMAKE_CXX_COMPILER_ID: \" ${CMAKE_CXX_COMPILER_ID})\nmessage(STATUS \"CMAKE_CXX_COMPILER_VERSION: \" ${CMAKE_CXX_COMPILER_VERSION})\nmessage(STATUS \"CMAKE_CXX_FLAGS: \" ${CMAKE_CXX_FLAGS})\nmessage(STATUS \"CMAKE_CXX_STANDARD: \" ${CMAKE_CXX_STANDARD})\nmessage(STATUS \"CMAKE_CUDA_COMPILER: \" ${CMAKE_CUDA_COMPILER})\nmessage(STATUS \"CMAKE_CUDA_COMPILER_ID: \" ${CMAKE_CUDA_COMPILER_ID})\nmessage(STATUS \"CMAKE_CUDA_COMPILER_VERSION: \" ${CMAKE_CUDA_COMPILER_VERSION})\nmessage(STATUS \"CMAKE_CUDA_FLAGS: \" ${CMAKE_CUDA_FLAGS})\nmessage(STATUS \"CMAKE_CUDA_STANDARD: \" ${CMAKE_CUDA_STANDARD})\nmessage(STATUS \"CMAKE_MODULE_PATH: \" ${CMAKE_MODULE_PATH})\nmessage(STATUS \"CMAKE_CURRENT_SOURCE_DIR: \" ${CMAKE_CURRENT_SOURCE_DIR})\nmessage(STATUS \"CMAKE_CURRENT_BINARY_DIR: \" ${CMAKE_CURRENT_BINARY_DIR})\nmessage(STATUS \"CMAKE_CURRENT_LIST_DIR: \" ${CMAKE_CURRENT_LIST_DIR})\nmessage(STATUS \"CMAKE_EXE_LINKER_FLAGS: \" ${CMAKE_EXE_LINKER_FLAGS})\nmessage(STATUS \"CMAKE_INSTALL_PREFIX: \" ${CMAKE_INSTALL_PREFIX})\nmessage(STATUS \"CMAKE_INSTALL_FULL_INCLUDEDIR: \" ${CMAKE_INSTALL_FULL_INCLUDEDIR})\nmessage(STATUS \"CMAKE_INSTALL_FULL_LIBDIR: \" ${CMAKE_INSTALL_FULL_LIBDIR})\nmessage(STATUS \"CMAKE_MODULE_PATH: \" ${CMAKE_MODULE_PATH})\nmessage(STATUS \"CMAKE_PREFIX_PATH: \" ${CMAKE_PREFIX_PATH})\nmessage(STATUS \"TF_BUILD_BENCHMARKS: \" ${TF_BUILD_BENCHMARKS})\nmessage(STATUS \"TF_BUILD_PROFILER: \" ${TF_BUILD_PROFILER})\nmessage(STATUS \"TF_BUILD_CUDA: \" ${TF_BUILD_CUDA})\nmessage(STATUS \"TF_BUILD_SYCL: \" ${TF_BUILD_SYCL})\nmessage(STATUS \"TF_BUILD_SYCL_BITCODE: \" ${TF_BUILD_SYCL_BITCODE})\nmessage(STATUS \"TF_BUILD_TESTS: \" ${TF_BUILD_TESTS})\nmessage(STATUS \"TF_BUILD_EXAMPLES: \" ${TF_BUILD_EXAMPLES})\nmessage(STATUS \"TF_UTEST_DIR: \" ${TF_UTEST_DIR})\nmessage(STATUS \"TF_EXAMPLE_DIR: \" ${TF_EXAMPLE_DIR})\nmessage(STATUS \"TF_BENCHMARK_DIR: \" ${TF_BENCHMARK_DIR})\nmessage(STATUS \"TF_3RD_PARTY_DIR: \" ${TF_3RD_PARTY_DIR})\n\n# add the binary tree to the search path for include files\ninclude_directories(${PROJECT_SOURCE_DIR})\n\n# -----------------------------------------------------------------------------\n# must-have package include\n# -----------------------------------------------------------------------------\n\n# Find pthread package\nfind_package(Threads REQUIRED)\n\n# -----------------------------------------------------------------------------\n# Taskflow library interface\n# -----------------------------------------------------------------------------\n\nadd_library(${PROJECT_NAME} INTERFACE)\ntarget_compile_features(${PROJECT_NAME} INTERFACE cxx_std_17)\ntarget_link_libraries(${PROJECT_NAME} INTERFACE ${ATOMIC_LIBRARY} Threads::Threads)\ntarget_include_directories(${PROJECT_NAME} INTERFACE\n  $<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}>\n  $<INSTALL_INTERFACE:include/> \n)\n\n# -----------------------------------------------------------------------------\n# Example program \n# -----------------------------------------------------------------------------\nif(TF_BUILD_EXAMPLES)\n  add_subdirectory(examples)\nendif(TF_BUILD_EXAMPLES)\n\n# -----------------------------------------------------------------------------\n# Unittest\n# -----------------------------------------------------------------------------\nif(TF_BUILD_TESTS)\n  include(CTest)\n  add_subdirectory(unittests)\nendif(TF_BUILD_TESTS)\n\n# -----------------------------------------------------------------------------\n# Profiler\n# -----------------------------------------------------------------------------\n\nif(TF_BUILD_PROFILER)\n  add_subdirectory(tfprof/server)\nendif(TF_BUILD_PROFILER)\n\n# -----------------------------------------------------------------------------\n# Benchmarking\n# -----------------------------------------------------------------------------\n\nif(TF_BUILD_BENCHMARKS)\n  add_subdirectory(benchmarks)\nendif(TF_BUILD_BENCHMARKS)\n\n# -----------------------------------------------------------------------------\n# create find_package(Taskflow CONFIG)\n# -----------------------------------------------------------------------------\n\n# install header\ninstall(DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}/taskflow DESTINATION ${CMAKE_INSTALL_INCLUDEDIR})\n\n# export target\nset_target_properties(${PROJECT_NAME} PROPERTIES EXPORT_NAME ${PROJECT_NAME})\n\nexport(\n  TARGETS ${PROJECT_NAME} \n  NAMESPACE ${PROJECT_NAME}:: \n  FILE ${PROJECT_NAME}Targets.cmake\n)\nexport(PACKAGE ${PROJECT_NAME})\n\ninstall(TARGETS ${PROJECT_NAME} EXPORT ${PROJECT_NAME}Targets)\ninstall(\n  EXPORT ${PROJECT_NAME}Targets \n  NAMESPACE ${PROJECT_NAME}:: \n  DESTINATION ${CMAKE_INSTALL_LIBDIR}/cmake/${PROJECT_NAME}\n)\n\n# set up config\ninclude(CMakePackageConfigHelpers)\n\nconfigure_package_config_file(\n  ${PROJECT_NAME}Config.cmake.in\n  ${CMAKE_CURRENT_BINARY_DIR}/${PROJECT_NAME}Config.cmake\n  INSTALL_DESTINATION ${CMAKE_INSTALL_LIBDIR}/cmake/${PROJECT_NAME}\n  PATH_VARS CMAKE_INSTALL_FULL_INCLUDEDIR\n)\n\nwrite_basic_package_version_file(\n  ${PROJECT_NAME}ConfigVersion.cmake \n  COMPATIBILITY SameMinorVersion\n)\n\ninstall(\n  FILES ${CMAKE_CURRENT_BINARY_DIR}/${PROJECT_NAME}Config.cmake\n        ${CMAKE_CURRENT_BINARY_DIR}/${PROJECT_NAME}ConfigVersion.cmake\n  DESTINATION ${CMAKE_INSTALL_LIBDIR}/cmake/${PROJECT_NAME}\n)\n\n"
        },
        {
          "name": "LICENSE",
          "type": "blob",
          "size": 2.8779296875,
          "content": "TASKFLOW MIT LICENSE \n\nCopyright (c) 2018-2024 Dr. Tsung-Wei Huang\n\nThe University of Wisconsin at Madison\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n\n---------------------------------\nThe file cmake/CheckAtomic.cmake has the following license conditions.\n\nUniversity of Illinois/NCSA Open Source License\n\nCopyright (c) 2003-2018 University of Illinois at Urbana-Champaign. All rights\nreserved.\n\nDeveloped by:\n\nLLVM Team\n\nUniversity of Illinois at Urbana-Champaign\n\nhttp://llvm.org\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nwith the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\n* Redistributions of source code must retain the above copyright notice, this\n  list of conditions and the following disclaimers.\n\n* Redistributions in binary form must reproduce the above copyright notice,\n  this list of conditions and the following disclaimers in the documentation\n  and/or other materials provided with the distribution.\n\n* Neither the names of the LLVM Team, University of Illinois at\n  Urbana-Champaign, nor the names of its contributors may be used to endorse\n  or promote products derived from this Software without specific prior\n  written permission.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE\nCONTRIBUTORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS WITH\nTHE SOFTWARE.\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 17.326171875,
          "content": "# Taskflow <img align=\"right\" width=\"10%\" src=\"image/taskflow_logo.png\">\n\n<!--[![Linux Build Status](https://travis-ci.com/taskflow/taskflow.svg?branch=master)](https://travis-ci.com/taskflow/taskflow)-->\n[![Ubuntu](https://github.com/taskflow/taskflow/workflows/Ubuntu/badge.svg)](https://github.com/taskflow/taskflow/actions?query=workflow%3AUbuntu)\n[![macOS](https://github.com/taskflow/taskflow/workflows/macOS/badge.svg)](https://github.com/taskflow/taskflow/actions?query=workflow%3AmacOS)\n[![Windows](https://github.com/taskflow/taskflow/workflows/Windows/badge.svg)](https://github.com/taskflow/taskflow/actions?query=workflow%3AWindows)\n[![Wiki](image/api-doc.svg)][documentation]\n[![TFProf](image/tfprof.svg)](https://taskflow.github.io/tfprof/)\n[![Cite](image/cite-tpds.svg)][TPDS22]\n\nTaskflow helps you quickly write parallel and heterogeneous task programs in modern C++\n\n# Why Taskflow?\n\nTaskflow is faster, more expressive, and easier for drop-in integration\nthan many of existing task programming frameworks\nin handling complex parallel workloads.\n\n![](image/performance.png)\n\nTaskflow lets you quickly implement task decomposition strategies\nthat incorporate both regular and irregular compute patterns,\ntogether with an efficient *work-stealing* scheduler to optimize your multithreaded performance.\n\n| [Static Tasking](#start-your-first-taskflow-program) | [Subflow Tasking](#create-a-subflow-graph) |\n| :------------: | :-------------: |\n| ![](image/static_graph.svg) | <img align=\"right\" src=\"image/dynamic_graph.svg\" width=\"100%\"> |\n\nTaskflow supports conditional tasking for you to make rapid control-flow decisions\nacross dependent tasks to implement cycles and conditions that were otherwise difficult to do\nwith existing tools.\n\n| [Conditional Tasking](#integrate-control-flow-to-a-task-graph) |\n| :-----------------: |\n| ![](image/condition.svg) |\n\nTaskflow is composable. You can create large parallel graphs through\ncomposition of modular and reusable blocks that are easier to optimize\nat an individual scope.\n\n| [Taskflow Composition](#compose-task-graphs) |\n| :---------------: |\n|![](image/framework.svg)|\n\nTaskflow supports heterogeneous tasking for you to\naccelerate a wide range of scientific computing applications\nby harnessing the power of CPU-GPU collaborative computing.\n\n| [Concurrent CPU-GPU Tasking](#offload-a-task-to-a-gpu) |\n| :-----------------: |\n| ![](image/cudaflow.svg) |\n\n\nTaskflow provides visualization and tooling needed for profiling Taskflow programs.\n\n| [Taskflow Profiler](https://taskflow.github.io/tfprof) |\n| :-----------------: |\n| ![](image/tfprof.png) |\n\nWe are committed to support trustworthy developments for both academic and industrial research projects\nin parallel computing. Check out [Who is Using Taskflow](https://taskflow.github.io/#tag_users) and what our users say:\n\n+ *\"Taskflow is the cleanest Task API I've ever seen.\" [Damien Hocking @Corelium Inc](http://coreliuminc.com)*\n+ *\"Taskflow has a very simple and elegant tasking interface. The performance also scales very well.\" [Glen Fraser][totalgee]*\n+ *\"Taskflow lets me handle parallel processing in a smart way.\" [Hayabusa @Learning](https://cpp-learning.com/cpp-taskflow/)*\n+ *\"Taskflow improves the throughput of our graph engine in just a few hours of coding.\" [Jean-Michaël @KDAB](https://ossia.io/)*\n+ *\"Best poster award for open-source parallel programming library.\" [Cpp Conference 2018][Cpp Conference 2018]*\n+ *\"Second Prize of Open-source Software Competition.\" [ACM Multimedia Conference 2019](https://tsung-wei-huang.github.io/img/mm19-ossc-award.jpg)*\n\nSee a quick [presentation](https://taskflow.github.io/) and\nvisit the [documentation][documentation] to learn more about Taskflow.\nTechnical details can be referred to our [IEEE TPDS paper][TPDS21].\n\n# Start Your First Taskflow Program\n\nThe following program (`simple.cpp`) creates four tasks \n`A`, `B`, `C`, and `D`, where `A` runs before `B` and `C`, and `D`\nruns after `B` and `C`.\nWhen `A` finishes, `B` and `C` can run in parallel.\nTry it live on [Compiler Explorer (godbolt)](https://godbolt.org/z/j8hx3xnnx)!\n\n\n\n```cpp\n#include <taskflow/taskflow.hpp>  // Taskflow is header-only\n\nint main(){\n  \n  tf::Executor executor;\n  tf::Taskflow taskflow;\n\n  auto [A, B, C, D] = taskflow.emplace(  // create four tasks\n    [] () { std::cout << \"TaskA\\n\"; },\n    [] () { std::cout << \"TaskB\\n\"; },\n    [] () { std::cout << \"TaskC\\n\"; },\n    [] () { std::cout << \"TaskD\\n\"; } \n  );                                  \n                                      \n  A.precede(B, C);  // A runs before B and C\n  D.succeed(B, C);  // D runs after  B and C\n                                      \n  executor.run(taskflow).wait(); \n\n  return 0;\n}\n```\n\nTaskflow is *header-only* and there is no wrangle with installation.\nTo compile the program, clone the Taskflow project and \ntell the compiler to include the [headers](./taskflow/).\n\n```bash\n~$ git clone https://github.com/taskflow/taskflow.git  # clone it only once\n~$ g++ -std=c++20 examples/simple.cpp -I. -O2 -pthread -o simple\n~$ ./simple\nTaskA\nTaskC \nTaskB \nTaskD\n```\n\n# Visualize Your First Taskflow Program\n\nTaskflow comes with a built-in profiler, \n[TFProf](https://taskflow.github.io/tfprof/), \nfor you to profile and visualize taskflow programs\nin an easy-to-use web-based interface.\n\n![](doxygen/images/tfprof.png)\n\n```bash\n# run the program with the environment variable TF_ENABLE_PROFILER enabled\n~$ TF_ENABLE_PROFILER=simple.json ./simple\n~$ cat simple.json\n[\n{\"executor\":\"0\",\"data\":[{\"worker\":0,\"level\":0,\"data\":[{\"span\":[172,186],\"name\":\"0_0\",\"type\":\"static\"},{\"span\":[187,189],\"name\":\"0_1\",\"type\":\"static\"}]},{\"worker\":2,\"level\":0,\"data\":[{\"span\":[93,164],\"name\":\"2_0\",\"type\":\"static\"},{\"span\":[170,179],\"name\":\"2_1\",\"type\":\"static\"}]}]}\n]\n# paste the profiling json data to https://taskflow.github.io/tfprof/\n```\n\nIn addition to execution diagram, you can dump the graph to a DOT format \nand visualize it using a number of free [GraphViz][GraphViz] tools.\n\n```\n// dump the taskflow graph to a DOT format through std::cout\ntaskflow.dump(std::cout); \n```\n\n<p align=\"center\"><img src=\"doxygen/images/simple.svg\"></p>\n\n# Express Task Graph Parallelism\n\nTaskflow empowers users with both static and dynamic task graph constructions\nto express end-to-end parallelism in a task graph that\nembeds in-graph control flow.\n\n1. [Create a Subflow Graph](#create-a-subflow-graph)\n2. [Integrate Control Flow to a Task Graph](#integrate-control-flow-to-a-task-graph)\n3. [Offload a Task to a GPU](#offload-a-task-to-a-gpu)\n4. [Compose Task Graphs](#compose-task-graphs)\n5. [Launch Asynchronous Tasks](#launch-asynchronous-tasks)\n6. [Execute a Taskflow](#execute-a-taskflow)\n7. [Leverage Standard Parallel Algorithms](#leverage-standard-parallel-algorithms)\n\n## Create a Subflow Graph\n\nTaskflow supports *dynamic tasking* for you to create a subflow\ngraph from the execution of a task to perform dynamic parallelism.\nThe following program spawns a task dependency graph parented at task `B`.\n\n```cpp\ntf::Task A = taskflow.emplace([](){}).name(\"A\");  \ntf::Task C = taskflow.emplace([](){}).name(\"C\");  \ntf::Task D = taskflow.emplace([](){}).name(\"D\");  \n\ntf::Task B = taskflow.emplace([] (tf::Subflow& subflow) { \n  tf::Task B1 = subflow.emplace([](){}).name(\"B1\");  \n  tf::Task B2 = subflow.emplace([](){}).name(\"B2\");  \n  tf::Task B3 = subflow.emplace([](){}).name(\"B3\");  \n  B3.succeed(B1, B2);  // B3 runs after B1 and B2\n}).name(\"B\");\n\nA.precede(B, C);  // A runs before B and C\nD.succeed(B, C);  // D runs after  B and C\n```\n\n<p align=\"center\"><img src=\"doxygen/images/subflow_join.svg\"></p>\n\n## Integrate Control Flow to a Task Graph \n\nTaskflow supports *conditional tasking* for you to make rapid \ncontrol-flow decisions across dependent tasks to implement cycles \nand conditions in an *end-to-end* task graph.\n\n```cpp\ntf::Task init = taskflow.emplace([](){}).name(\"init\");\ntf::Task stop = taskflow.emplace([](){}).name(\"stop\");\n\n// creates a condition task that returns a random binary\ntf::Task cond = taskflow.emplace(\n  [](){ return std::rand() % 2; }\n).name(\"cond\");\n\ninit.precede(cond);\n\n// creates a feedback loop {0: cond, 1: stop}\ncond.precede(cond, stop);\n```\n\n<p align=\"center\"><img src=\"doxygen/images/conditional-tasking-1.svg\"></p>\n\n\n## Offload a Task to a GPU\n\nTaskflow supports GPU tasking for you to accelerate a wide range of scientific computing applications by harnessing the power of CPU-GPU collaborative computing using CUDA.\n\n```cpp\n__global__ void saxpy(size_t N, float alpha, float* dx, float* dy) {\n  int i = blockIdx.x*blockDim.x + threadIdx.x;\n  if (i < n) {\n    y[i] = a*x[i] + y[i];\n  }\n}\ntf::Task cudaflow = taskflow.emplace([&](tf::cudaFlow& cf) {\n\n  // data copy tasks\n  tf::cudaTask h2d_x = cf.copy(dx, hx.data(), N).name(\"h2d_x\");\n  tf::cudaTask h2d_y = cf.copy(dy, hy.data(), N).name(\"h2d_y\");\n  tf::cudaTask d2h_x = cf.copy(hx.data(), dx, N).name(\"d2h_x\");\n  tf::cudaTask d2h_y = cf.copy(hy.data(), dy, N).name(\"d2h_y\");\n  \n  // kernel task with parameters to launch the saxpy kernel\n  tf::cudaTask saxpy = cf.kernel(\n    (N+255)/256, 256, 0, saxpy, N, 2.0f, dx, dy\n  ).name(\"saxpy\");\n\n  saxpy.succeed(h2d_x, h2d_y)\n       .precede(d2h_x, d2h_y);\n}).name(\"cudaFlow\");\n```\n\n<p align=\"center\"><img src=\"doxygen/images/saxpy_1_cudaflow.svg\"></p>\n\n## Compose Task Graphs\n\nTaskflow is composable. \nYou can create large parallel graphs through composition of modular \nand reusable blocks that are easier to optimize at an individual scope.\n\n```cpp\ntf::Taskflow f1, f2;\n\n// create taskflow f1 of two tasks\ntf::Task f1A = f1.emplace([]() { std::cout << \"Task f1A\\n\"; })\n                 .name(\"f1A\");\ntf::Task f1B = f1.emplace([]() { std::cout << \"Task f1B\\n\"; })\n                 .name(\"f1B\");\n\n// create taskflow f2 with one module task composed of f1\ntf::Task f2A = f2.emplace([]() { std::cout << \"Task f2A\\n\"; })\n                 .name(\"f2A\");\ntf::Task f2B = f2.emplace([]() { std::cout << \"Task f2B\\n\"; })\n                 .name(\"f2B\");\ntf::Task f2C = f2.emplace([]() { std::cout << \"Task f2C\\n\"; })\n                 .name(\"f2C\");\n\ntf::Task f1_module_task = f2.composed_of(f1)\n                            .name(\"module\");\n\nf1_module_task.succeed(f2A, f2B)\n              .precede(f2C);\n```\n\n<p align=\"center\"><img src=\"doxygen/images/composition.svg\"></p>\n\n## Launch Asynchronous Tasks\n\nTaskflow supports *asynchronous* tasking.\nYou can launch tasks asynchronously to dynamically explore task graph parallelism.\n\n```cpp\ntf::Executor executor;\n\n// create asynchronous tasks directly from an executor\nstd::future<int> future = executor.async([](){ \n  std::cout << \"async task returns 1\\n\";\n  return 1;\n}); \nexecutor.silent_async([](){ std::cout << \"async task does not return\\n\"; });\n\n// create asynchronous tasks with dynamic dependencies\ntf::AsyncTask A = executor.silent_dependent_async([](){ printf(\"A\\n\"); });\ntf::AsyncTask B = executor.silent_dependent_async([](){ printf(\"B\\n\"); }, A);\ntf::AsyncTask C = executor.silent_dependent_async([](){ printf(\"C\\n\"); }, A);\ntf::AsyncTask D = executor.silent_dependent_async([](){ printf(\"D\\n\"); }, B, C);\n\nexecutor.wait_for_all();\n```\n\n## Execute a Taskflow\n\nThe executor provides several *thread-safe* methods to run a taskflow. \nYou can run a taskflow once, multiple times, or until a stopping criteria is met. \nThese methods are non-blocking with a `tf::Future<void>` return \nto let you query the execution status. \n\n```cpp\n// runs the taskflow once\ntf::Future<void> run_once = executor.run(taskflow); \n\n// wait on this run to finish\nrun_once.get();\n\n// run the taskflow four times\nexecutor.run_n(taskflow, 4);\n\n// runs the taskflow five times\nexecutor.run_until(taskflow, [counter=5](){ return --counter == 0; });\n\n// block the executor until all submitted taskflows complete\nexecutor.wait_for_all();\n```\n\n## Leverage Standard Parallel Algorithms\n\nTaskflow defines algorithms for you to quickly express common parallel\npatterns using standard C++ syntaxes, \nsuch as parallel iterations, parallel reductions, and parallel sort.\n\n```cpp\n// standard parallel CPU algorithms\ntf::Task task1 = taskflow.for_each( // assign each element to 100 in parallel\n  first, last, [] (auto& i) { i = 100; }    \n);\ntf::Task task2 = taskflow.reduce(   // reduce a range of items in parallel\n  first, last, init, [] (auto a, auto b) { return a + b; }\n);\ntf::Task task3 = taskflow.sort(     // sort a range of items in parallel\n  first, last, [] (auto a, auto b) { return a < b; }\n);\n\n// standard parallel GPU algorithms\ntf::cudaTask cuda1 = cudaflow.for_each( // assign each element to 100 on GPU\n  dfirst, dlast, [] __device__ (auto i) { i = 100; }\n);\ntf::cudaTask cuda2 = cudaflow.reduce(   // reduce a range of items on GPU\n  dfirst, dlast, init, [] __device__ (auto a, auto b) { return a + b; }\n);\ntf::cudaTask cuda3 = cudaflow.sort(     // sort a range of items on GPU\n  dfirst, dlast, [] __device__ (auto a, auto b) { return a < b; }\n);\n```\n\nAdditionally, Taskflow provides composable graph building blocks for you to \nefficiently implement common parallel algorithms, such as parallel pipeline.\n\n```cpp\n// create a pipeline to propagate five tokens through three serial stages\ntf::Pipeline pl(num_parallel_lines,\n  tf::Pipe{tf::PipeType::SERIAL, [](tf::Pipeflow& pf) {\n    if(pf.token() == 5) {\n      pf.stop();\n    }\n  }},\n  tf::Pipe{tf::PipeType::SERIAL, [](tf::Pipeflow& pf) {\n    printf(\"stage 2: input buffer[%zu] = %d\\n\", pf.line(), buffer[pf.line()]);\n  }},\n  tf::Pipe{tf::PipeType::SERIAL, [](tf::Pipeflow& pf) {\n    printf(\"stage 3: input buffer[%zu] = %d\\n\", pf.line(), buffer[pf.line()]);\n  }}\n);\ntaskflow.composed_of(pl)\nexecutor.run(taskflow).wait();\n```\n\n\n# Supported Compilers\n\nTo use Taskflow, you only need a compiler that supports C++17:\n\n+ GNU C++ Compiler at least v8.4 with -std=c++17\n+ Clang C++ Compiler at least v6.0 with -std=c++17\n+ Microsoft Visual Studio at least v19.27 with /std:c++17\n+ AppleClang Xcode Version at least v12.0 with -std=c++17\n+ Nvidia CUDA Toolkit and Compiler (nvcc) at least v11.1 with -std=c++17\n+ Intel C++ Compiler at least v19.0.1 with -std=c++17\n+ Intel DPC++ Clang Compiler at least v13.0.0 with -std=c++17 and SYCL20\n\nTaskflow works on Linux, Windows, and Mac OS X.\n\nAlthough %Taskflow supports primarily C++17, you can enable C++20 compilation\nthrough `-std=c++20` to achieve better performance due to new C++20 features.\n\n# Learn More about Taskflow\n\nVisit our [project website][Project Website] and [documentation][documentation]\nto learn more about Taskflow. To get involved:\n\n  + See [release notes][release notes] to stay up-to-date with newest versions\n  + Read the step-by-step tutorial at [cookbook][cookbook]\n  + Submit an issue at [GitHub issues][GitHub issues]\n  + Find out our technical details at [references][references]\n  + Watch our technical talks at YouTube\n\n| [CppCon20 Tech Talk][cppcon20 talk] | [MUC++ Tech Talk](https://www.youtube.com/watch?v=u8Mc_WgGwVY) |\n| :------------: | :-------------: |\n| ![](doxygen/images/cppcon20-thumbnail.jpg) | <img align=\"right\" src=\"doxygen/images/muc++20-thumbnail.jpg\" width=\"100%\"> |\n\nWe are committed to support trustworthy developments for \nboth academic and industrial research projects in parallel \nand heterogeneous computing. \nIf you are using Taskflow, please cite the following paper we published at 2021 IEEE TPDS:\n\n+ Tsung-Wei Huang, Dian-Lun Lin, Chun-Xun Lin, and Yibo Lin, &quot;[Taskflow: A Lightweight Parallel and Heterogeneous Task Graph Computing System](https://tsung-wei-huang.github.io/papers/tpds21-taskflow.pdf),&quot; <i>IEEE Transactions on Parallel and Distributed Systems (TPDS)</i>, vol. 33, no. 6, pp. 1303-1320, June 2022\n\nMore importantly, we appreciate all Taskflow [contributors][contributors] and \nthe following organizations for sponsoring the Taskflow project!\n\n| <!-- --> | <!-- --> | <!-- --> | <!-- --> |\n|:-------------------------:|:-------------------------:|:-------------------------:|:-------------------------:|\n|<img src=\"doxygen/images/utah-ece-logo.png\">|<img src=\"doxygen/images/nsf.png\"> | <img src=\"doxygen/images/darpa.png\"> | <img src=\"doxygen/images/NumFocus.png\">|\n|<img src=\"doxygen/images/nvidia-logo.png\"> | | | |\n\n# License\n\nTaskflow is licensed with the [MIT License](./LICENSE). \nYou are completely free to re-distribute your work derived from Taskflow.\n\n* * *\n\n[Tsung-Wei Huang]:       https://tsung-wei-huang.github.io/\n[GitHub releases]:       https://github.com/taskflow/taskflow/releases\n[GitHub issues]:         https://github.com/taskflow/taskflow/issues\n[GitHub insights]:       https://github.com/taskflow/taskflow/pulse\n[GitHub pull requests]:  https://github.com/taskflow/taskflow/pulls\n[GraphViz]:              https://www.graphviz.org/\n[Project Website]:       https://taskflow.github.io/\n[cppcon20 talk]:         https://www.youtube.com/watch?v=MX15huP5DsM\n[contributors]:          https://taskflow.github.io/taskflow/contributors.html\n[totalgee]:              https://github.com/totalgee\n[NSF]:                   https://www.nsf.gov/\n[UIUC]:                  https://illinois.edu/\n[CSL]:                   https://csl.illinois.edu/\n[UofU]:                  https://www.utah.edu/\n[documentation]:         https://taskflow.github.io/taskflow/index.html\n[release notes]:         https://taskflow.github.io/taskflow/Releases.html\n[cookbook]:              https://taskflow.github.io/taskflow/pages.html\n[references]:            https://taskflow.github.io/taskflow/References.html\n[PayMe]:                 https://www.paypal.me/twhuang/10\n[email me]:              mailto:twh760812@gmail.com\n[Cpp Conference 2018]:   https://github.com/CppCon/CppCon2018\n[TPDS22]:                https://tsung-wei-huang.github.io/papers/tpds21-taskflow.pdf\n\n"
        },
        {
          "name": "TaskflowConfig.cmake.in",
          "type": "blob",
          "size": 0.447265625,
          "content": "@PACKAGE_INIT@\n\ninclude(CMakeFindDependencyMacro)\nfind_dependency(Threads)\n\ninclude(\"${CMAKE_CURRENT_LIST_DIR}/@PROJECT_NAME@Targets.cmake\")\n\nget_filename_component(@PROJECT_NAME@_CMAKE_DIR \"${CMAKE_CURRENT_LIST_FILE}\" PATH)\nget_target_property(@PROJECT_NAME@_INCLUDE_DIR @PROJECT_NAME@::@PROJECT_NAME@ INTERFACE_INCLUDE_DIRECTORIES)\n\nmessage(STATUS \"@PROJECT_NAME@ found. Headers: ${@PROJECT_NAME@_INCLUDE_DIR}\")\n\ncheck_required_components(@PROJECT_NAME@) \n"
        },
        {
          "name": "benchmarks",
          "type": "tree",
          "content": null
        },
        {
          "name": "cmake",
          "type": "tree",
          "content": null
        },
        {
          "name": "docs",
          "type": "tree",
          "content": null
        },
        {
          "name": "doxygen",
          "type": "tree",
          "content": null
        },
        {
          "name": "examples",
          "type": "tree",
          "content": null
        },
        {
          "name": "image",
          "type": "tree",
          "content": null
        },
        {
          "name": "sandbox",
          "type": "tree",
          "content": null
        },
        {
          "name": "taskflow",
          "type": "tree",
          "content": null
        },
        {
          "name": "tfprof",
          "type": "tree",
          "content": null
        },
        {
          "name": "unittests",
          "type": "tree",
          "content": null
        }
      ]
    }
  ]
}