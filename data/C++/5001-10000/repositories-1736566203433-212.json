{
  "metadata": {
    "timestamp": 1736566203433,
    "page": 212,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjIyMA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "wesnoth/wesnoth",
      "stars": 5676,
      "defaultBranch": "master",
      "files": [
        {
          "name": ".clang-tidy",
          "type": "blob",
          "size": 0.1083984375,
          "content": "---\nChecks:          '-*,modernize-use-nullptr,performance-unnecessary-value-param'\nWarningsAsErrors: true\n...\n"
        },
        {
          "name": ".editorconfig",
          "type": "blob",
          "size": 0.2412109375,
          "content": "# top-most EditorConfig file\nroot = true\n\n[*]\nend_of_line = lf\ninsert_final_newline = true\ncharset = utf-8\n\n[*.cfg]\nindent_style = space\nindent_size = 4\n\n[*.{cpp,hpp}]\nindent_style = tab\nindent_size = 4\n\n[*.lua]\nindent_style = tab\nindent_size = 4\n"
        },
        {
          "name": ".gitattributes",
          "type": "blob",
          "size": 0.27734375,
          "content": "# Exclude project-internal files from releases\n/attic         export-ignore\n.gitattributes export-ignore\n.gitignore     export-ignore\n/.github       export-ignore\n/changelog_entries export-ignore\n\n# help github's language detection and syntax highlighting\n*.cfg linguist-language=INI\n"
        },
        {
          "name": ".github",
          "type": "tree",
          "content": null
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 3.3642578125,
          "content": "# stderr.txt output + copies\nstderr*.txt\nstdout*.txt\n\n# project files\n.*project\nProject.*\n\n# Makefiles\nMakefile\nMakefile.in\n\n# cmake\nCMakeFiles\nCMakeLists.txt.user*\ncmake_install.cmake\nCPack*Config.cmake\nuninstall.cmake\nCMakeCache.txt\ninstall_manifest.txt\nout/**/*\nCTestTestfile.cmake\nDartConfiguration.tcl\nTesting/*\ndoc/CTestTestfile.cmake\ndoc/design/CTestTestfile.cmake\ndoc/man/CTestTestfile.cmake\ndoc/manual/CTestTestfile.cmake\nsrc/CTestTestfile.cmake\nsrc/Testing/\n\n# scons\n.scons-option-cache\n*sconsign.dblite\n.sconf_temp\nbuildlog.txt\n\n# XCode\nprojectfiles/Xcode/**/build\nprojectfiles/Xcode/**/DerivedData\nprojectfiles/Xcode/**/Headers\nprojectfiles/Xcode/**/temp\nprojectfiles/Xcode/**/Index\nprojectfiles/Xcode/**/Wesnoth.dmgCanvas\nprojectfiles/Xcode/**/*.mode1v3\nprojectfiles/Xcode/**/*.pbxuser\nprojectfiles/Xcode/**/xcuserdata\nprojectfiles/Xcode/**/*.xcworkspace\n!projectfiles/Xcode/**/project.pbxproj\n\n# CodeBlocks\nprojectfiles/**/.clang\nprojectfiles/**/cb\nprojectfiles/**/wesnoth.tags\nprojectfiles/**/wesnoth.workspace.*\nprojectfiles/**/*.depend\nprojectfiles/**/*.layout\nprojectfiles/**/*_build_log.html\nprojectfiles/**/*objs*\n\n# Visual Studio\n.vscode\n/.vs\nvcpkg_installed/\n*.vcxproj\n*.vcxproj.filters\ndoc/**/*.vcxproj\ndoc/**/*.vcxproj.filters\nsrc/**/*.vcxproj\nsrc/**/*.vcxproj.filters\nvcpkg-manifest-install.log\n\n# CLion\n/.idea\ncmake-build-debug\ncmake-build-release\n\n# eclipse\n.settings\n!utils/umc_dev/org.wesnoth*/.settings/\n!utils/umc_dev/org.wesnoth*/.project\n\n# KDevelop caches (KDevelop 4.3.1, KDE Development Platform 4.8.4).\n*.kate-swp\n\n# autotools\nconfig.h\nconfig.h.in\nconfig.log\nconfig.status\nconfigure\nconfigure.lineno\naclocal.m4\nautom4te.cache\nstamp-h1\n\n# build directories\n/wesnoth*\n/wesnothd*\n/campaignd*\n/cutter*\ncutter/\n/exploder*\n/build/\nRelease\nDebug\nReleaseDEBUG\nTest_Debug\nTest_Release\nDebug (fast)\ntags\n/schema_generator*\n/schema_validator*\n/create_images*\n/wesmage*\npgo_data/\n\n# build results etc.\nwesnoth_zip\nwesnoth.exp\nwesnoth.ilk\nwesnoth.lib\nwesnoth.ncb\nwesnoth.suo\nwesnoth.opt\nwesnoth.plg\n*.exe\n*.dll\n*.so\ncompile_commands.json\n\n# library files\n.libs\n[Ll]ib\n!data/ai/formula/lib/\n!src/gui/lib/\n\n# release-only directories\ntranslations\nuserdata\n\n# testing\n/test*\n/boost_unit_tests*\n!/test_wrapper.sh\nsrc/test\nerror*.log\nboost_test_result.xml\n*build*.sh\nboost_tests.log\n\n# translations\nlocales\nmake_translation\nmerge_translations\n*.gmo\npo/wesnoth*/POTFILES*\npo/**/pot-update.sh\npo/**/stamp-po\npo/**/remove-potcdate.s*\npo/**/Makefile*\n!po/wesnoth-manpages/Makefile\n!po/wesnoth-manual/Makefile\n\n# tools\ndata/tools/unit_tree/**/files\ndata/tools/unit_tree/**/reports\ndata/tools/unit_tree/**/Locale\ndata/tools/macro_reference.html\nabout.wiki\n\n# doc\ndoc/doxygen/html\ndoc/manual/**/*.xml\n\n# keep src clean from tools\nsrc/**/wesnoth/\nsrc/**/exploder\nsrc/**/wesnoth_addon_manager\nsrc/**/wmllint\nsrc/**/wmlscope\nsrc/**/wmlindent\n\n# file for loading lua from within test scenario on-the-fly\ndata/lua/**/code.lua\n\n# previous .gitignore files\npo/**/.gitignore\nimages/**/.gitignore\ndata/core/images/**/.gitignore\ndata/campaigns/**/images/**/.gitignore\n\n# OS created files\n.DS_Store\n[Tt]humbs.db\n*Neuer Ordner*\n.directory\nfonts/.uuid\n\n# extensions\n*.pyc\n*.sw[po]\n*.pbl\n*.xhtml\n*.[ao]\n*.out\n*~\n.deps\n.dirstamp\n*.cfg-bak\n*.orig\n\n# might be good to have, but not in data\ndata/**/*.xcf\ndata/**/*.psd\n\n# uncategorized\nrevision*\nconfig.h\n6not\n.kdev*\ncallgrind.out.*\ndata/dist\nclean.sh\nwidgets_tested.log\n\n# clangd cache\n.cache/clangd\n"
        },
        {
          "name": ".gitmodules",
          "type": "blob",
          "size": 0.220703125,
          "content": "[submodule \"src/modules/mariadbpp\"]\n\tpath = src/modules/mariadbpp\n\turl = https://github.com/viaduck/mariadbpp.git\n\tignore = untracked\n[submodule \"src/modules/lua\"]\n\tpath = src/modules/lua\n\turl = https://github.com/lua/lua.git\n"
        },
        {
          "name": ".luacheckrc",
          "type": "blob",
          "size": 0.5078125,
          "content": "-- ignore line length warnings\nmax_line_length=false\nmax_code_line_length=false\nmax_string_line_length=false\nmax_comment_line_length=false\n-- show the warning/error codes as well\ncodes=true\n-- don't show files with no issues\nquiet=1\n-- don't show undefined variable usage\n-- there are thousands of warnings here because luacheck is unaware of Wesnoth's lua environment and has no way to check which have been loaded\nglobal=false\n-- don't show unused variables\nunused=false\nexclude_files={\"src/modules/lua/testes/*.lua\"}\n"
        },
        {
          "name": "CMakeLists.txt",
          "type": "blob",
          "size": 24.6708984375,
          "content": "# set minimum version\ncmake_minimum_required(VERSION 3.14)\n\nproject(wesnoth)\n\ninclude(CheckCXXCompilerFlag)\ninclude(CTest)\n\n# use our own version of FindBoost.cmake and other Find* scripts\nlist(APPEND CMAKE_MODULE_PATH \"${CMAKE_SOURCE_DIR}/cmake\")\n\n# function to remove a flag from a variable\nfunction(RemoveFlag VAR SCOPE FLAG DOCSTRING)\n\tif(NOT \"${${VAR}}\" STREQUAL \"\")\n\t\tMESSAGE(\"Removing ${FLAG} flag from ${VAR}\")\n\t\tseparate_arguments(${VAR})\n\t\tlist(REMOVE_ITEM ${VAR} ${FLAG})\n\t\tstring(REPLACE \";\" \" \" ${VAR} \"${${VAR}}\")\n\n\t\tif(\"${SCOPE}\" STREQUAL \"CACHE\")\n\t\t\tset(${VAR} \"${${VAR}}\" CACHE STRING \"${DOCSTRING}\" FORCE)\n\t\telseif(\"${SCOPE}\" STREQUAL \"SCRIPT\")\n\t\t\tset(${VAR} \"${${VAR}}\" PARENT_SCOPE)\n\t\tendif()\n\tendif()\nendfunction()\n\n#\n# Options\n#\n\n# Adhere to GNU filesystem layout conventions\ninclude(GNUInstallDirs)\n\n#Path options\nset(DATADIRNAME \"wesnoth\" CACHE STRING \"change the name of the directory for the read-only architecture-independent game data\")\nset(EXECUTABLE_OUTPUT_PATH \"${CMAKE_BINARY_DIR}\" CACHE STRING \"change the dir where binaries are placed right at compile time\")\nset(LOCALEDIR \"translations\" CACHE STRING \"change the name of the locale data directory to a non-default name\")\nset(PREFERENCES_DIR \"\" CACHE STRING \"Use a non-default preferences directory (.wesnoth on unix)\")\nset(DEFAULT_PREFS_FILE \"\" CACHE STRING \"Set system wide preferences file\")\n\n#server options\nset(SERVER_UID \"\" CACHE STRING \"User id of the user who runs wesnothd\")\nset(SERVER_GID \"\" CACHE STRING \"Group id of the user who runs wesnothd\")\nset(FIFO_DIR \"/var/run/wesnothd\" CACHE STRING \"Directory for the wesnothd fifo socket file\")\n\n#build options\noption(ENABLE_GAME \"Enable compilation of the game\" ON)\noption(ENABLE_CAMPAIGN_SERVER \"Enable compilation of campaign(add-ons) server\")\noption(ENABLE_SERVER \"Enable compilation of MP server\" ON)\noption(ENABLE_MYSQL \"Enable building MP/add-ons servers with mysql support\" OFF)\noption(ENABLE_TESTS \"Build unit tests\")\noption(ENABLE_NLS \"Enable building of translations\" ${ENABLE_GAME})\n\nset(BOOST_VERSION \"1.67\")\n\nif(NOT WIN32)\n\tset(Lua_FIND_VERSION_MAJOR 5)\n\tset(Lua_FIND_VERSION_MINOR 4)\n\toption(ENABLE_SYSTEM_LUA \"Enable use of system Lua ${Lua_FIND_VERSION_MAJOR}.${Lua_FIND_VERSION_MINOR} (compiled as C++)\" OFF)\nendif()\nif(ENABLE_SYSTEM_LUA)\n\tset(Lua_FIND_VERSION_EXACT ON)\n\tset(Lua_FIND_VERSION_COUNT 2)\n\tinclude(FindLua)\n\tif(NOT LUA_FOUND)\n\t\tmessage(FATAL_ERROR \"Lua ${Lua_FIND_VERSION_MAJOR}.${Lua_FIND_VERSION_MINOR} C++ not found. Try setting 'LUA_DIR'.\")\n\tendif()\nelse()\n\tif(NOT EXISTS \"${CMAKE_SOURCE_DIR}/src/modules/lua/.git\")\n\t\tmessage(FATAL_ERROR \"Lua submodule does not exist. You must run 'git submodule update --init --recursive' to initialize it.\")\n\telse()\n\t\tmessage(\"-- Lua submodule found.\")\n\tendif()\nendif()\n\n# set what std version to use\nif(NOT CXX_STD)\n\tset(CXX_STD \"17\")\nendif()\nset(CMAKE_CXX_STANDARD ${CXX_STD})\n# make sure to force using it\nset(CMAKE_CXX_STANDARD_REQUIRED ON)\n# forbid defaulting to gnu++NN instead of c++NN\nset(CMAKE_CXX_EXTENSIONS OFF)\n\nfind_package(OpenSSL 1.0 REQUIRED)\n\nif(APPLE)\n\tfind_library(APPKIT_LIBRARY AppKit REQUIRED)\n\tfind_library(FOUNDATION_LIBRARY Foundation REQUIRED)\n\tfind_library(IOKIT_LIBRARY IOKit REQUIRED)\n\tfind_library(SECURITY_LIBRARY Security REQUIRED)\nendif()\n\nfind_package(Boost ${BOOST_VERSION} REQUIRED COMPONENTS iostreams program_options regex system thread random coroutine locale filesystem graph)\nfind_package(ICU REQUIRED COMPONENTS data i18n uc)\n\n# no, gettext executables are not required when NLS is deactivated\nfind_package(Gettext)\nfind_package(Python)\n\nfind_package(X11)\n\nif(NOT WIN32 AND NOT ENABLE_SYSTEM_LUA)\n\t# Use the safer `mkstemp' instead of `tmpnam' on POSIX systems.\n\tadd_definitions(-DLUA_USE_POSIX)\nendif()\n\n#check for some compiler/arch specific things and export defines accordingly...\ninclude(SearchForStuff)\n\n# if no build type is specified, it can happen that the game is built without\n# optimization (c.f. bug #23445), work around this by enforcing \"release\" type\n# if nothing was selected\nif(NOT CMAKE_BUILD_TYPE)\n\tset(CMAKE_BUILD_TYPE Release CACHE STRING \"Choose the type of build, options are: None Debug Release RelWithDebInfo MinSizeRel.\" FORCE)\n\tmessage(\"No build type specified, defaulting to Release\")\nendif()\n\nif(NOT DEFINED ENABLE_DISPLAY_REVISION)\n\t# can't run the shell script on windows\n\tif(NOT WIN32)\n\t\t# Test whether the code is used in a repository if not autorevision will\n\t\t# fail and should be disabled by default. If inside a repository enable\n\t\t# the display of revision numbers by default.\n\t\texecute_process(\n\t\t\tCOMMAND ${CMAKE_SOURCE_DIR}/utils/autorevision.sh -t h > ${CMAKE_CURRENT_BINARY_DIR}/revision.dummy\n\t\t\tWORKING_DIRECTORY\n\t\t\t\t${CMAKE_SOURCE_DIR}\n\t\t\tOUTPUT_VARIABLE\n\t\t\t\tENABLE_DISPLAY_REVISION_TEST_OUTPUT\n\t\t\tERROR_VARIABLE\n\t\t\t\tENABLE_DISPLAY_REVISION_TEST_ERRNO\n\t\t)\n\n\t\tif(\"${ENABLE_DISPLAY_REVISION_TEST_ERRNO}\" STREQUAL \"\")\n\t\t\tset(DEFAULT_ENABLE_DISPLAY_REVISION true)\n\t\telse()\n\t\t\tset(DEFAULT_ENABLE_DISPLAY_REVISION false)\n\t\tendif()\n\n\t\tunset(ENABLE_DISPLAY_REVISION_TEST_OUTPUT)\n\t\tunset(ENABLE_DISPLAY_REVISION_TEST_ERRNO)\n\telse()\n\t\tset(DEFAULT_ENABLE_DISPLAY_REVISION false)\n\tendif()\nendif()\n\noption(\n\tENABLE_DISPLAY_REVISION\n\t\"Enable the display of the revision number in the game, only enable it when in a checkout\"\n\t${DEFAULT_ENABLE_DISPLAY_REVISION}\n)\n\nif(UNIX AND NOT APPLE AND NOT CYGWIN)\n\toption(ENABLE_DESKTOP_ENTRY \"enable installation of desktop entry files\" ON)\nendif()\n\nif(CMAKE_SYSTEM_NAME STREQUAL \"Linux\")\n\toption(ENABLE_APPDATA_FILE \"enable installation of an appdata file for appstream\" ON)\nendif()\n\noption(HARDEN \"Whether to enable options to harden the executables\" ON)\noption(ENABLE_STRICT_COMPILATION \"Sets the strict compilation mode\" OFF)\noption(ENABLE_PEDANTIC_COMPILATION \"Sets the pedantic compilation mode\" OFF)\noption(ENABLE_DEBUG_WINDOW_LAYOUT \"Add the debug option to allow the generation of debug layout files in dot format\" OFF)\noption(ENABLE_DESIGN_DOCUMENTS \"Enables the generation of design documents, and has additional dependencies\" OFF)\noption(ENABLE_LTO \"Sets Link Time Optimization for Release builds\" OFF)\noption(GLIBCXX_ASSERTIONS \"Whether to define _GLIBCXX_ASSERTIONS\" OFF)\noption(GLIBCXX_DEBUG \"Whether to define _GLIBCXX_DEBUG and _GLIBCXX_DEBUG_PEDANTIC. Requires a version of Boost's program_options that's compiled with __GLIBCXX_DEBUG too.\" OFF)\noption(ENABLE_POT_UPDATE_TARGET \"Enables the tools to update the pot files and manuals. This target has extra dependencies.\" OFF)\noption(FORCE_COLOR_OUTPUT \"Always produce ANSI-colored output (GNU/Clang only).\" FALSE)\noption(CLANG_TIDY \"Enable clang-tidy linter checks.\" OFF)\n\nif(UNIX AND NOT APPLE AND NOT CYGWIN)\n\toption(ENABLE_NOTIFICATIONS \"Enable Window manager notification messages\" ON)\nendif()\n\nset(BINARY_SUFFIX \"\" CACHE STRING \"Suffix behind all binaries\")\nset(BINARY_PREFIX \"\" CACHE STRING \"Prefix in front of all binaries\")\n\n#\n# Handle options (set paths/definitions/etc...)\n#\n\n### Set the environment compiler flags.\n\nif(NOT MSVC)\n\tif(NOT DEFINED CXX_FLAGS_USER)\n\n\t\tMESSAGE(STATUS \"Environment compiler flags set to »${CXX_FLAGS_USER}«\")\n\t\tset(CXX_FLAGS_USER\n\t\t\t\"$ENV{CXXFLAGS}\"\n\t\t\tCACHE\n\t\t\tSTRING\n\t\t\t\"The CXXFLAGS environment variable used for the initial generation.\"\n\t\t\tFORCE\n\t\t)\n\n\tendif()\n\n\tset(COMPILER_FLAGS \"-Wall -Wextra -Werror=non-virtual-dtor -Wno-unused-local-typedefs -Wno-maybe-uninitialized -Wold-style-cast -Wtrampolines\")\n\n\tif(CMAKE_CXX_COMPILER_ID MATCHES \"Clang\")\n\t\tset(COMPILER_FLAGS \"${COMPILER_FLAGS} -Qunused-arguments -Wno-unknown-warning-option -Wmismatched-tags -Wno-conditional-uninitialized -Wno-unused-lambda-capture\")\n\tendif()\n\n\tif(CMAKE_CXX_COMPILER_ID MATCHES \"GNU\"\n\t\t\tAND CMAKE_CXX_COMPILER_VERSION VERSION_GREATER_EQUAL 13\n\t\t\tAND CMAKE_CXX_COMPILER_VERSION VERSION_LESS 14)\n\t\t# GCC-13 added this new warning, and included it in -Wextra,\n\t\t# however in GCC-13 it has a lot of false positives.\n\t\t#\n\t\t# It's likely to generate false postives with GCC-14 too, but\n\t\t# I'm using a narrow version check as GCC-14 is still in dev.\n\t\t# See https://gcc.gnu.org/bugzilla/show_bug.cgi?id=110075\n\t\tset(COMPILER_FLAGS \"${COMPILER_FLAGS} -Wno-dangling-reference\")\n\tendif()\n\n### Set strict compiler flags.\n\n\tif(ENABLE_STRICT_COMPILATION)\n\t\tset(COMPILER_FLAGS \"${COMPILER_FLAGS} -Werror\")\n\tendif()\n\n### Set pedantic compiler flags.\n\n\tif(ENABLE_PEDANTIC_COMPILATION)\n\n\t\tset(CXX_FLAGS_PEDANTIC_COMPILATION \"-Wlogical-op -Wmissing-declarations -Wredundant-decls -Wctor-dtor-privacy -Wdouble-promotion -Wuseless-cast -Wnoexcept\")\n\n\t\tif(CMAKE_CXX_COMPILER_ID MATCHES \"Clang\")\n\t\t\tset(CXX_FLAGS_PEDANTIC_COMPILATION \"${CXX_FLAGS_PEDANTIC_COMPILATION} -Wdocumentation -Wno-documentation-deprecated-sync\")\n\t\tendif()\n\n\t\tset(COMPILER_FLAGS \"${COMPILER_FLAGS} ${CXX_FLAGS_PEDANTIC_COMPILATION}\")\n\n\tendif()\n\n# check for sanitizer options\n\tif(SANITIZE)\n\t\tset(COMPILER_FLAGS \"${COMPILER_FLAGS} -fsanitize=${SANITIZE}\")\n\t\tset(CMAKE_EXE_LINKER_FLAGS \"${CMAKE_EXE_LINKER_FLAGS} -fsanitize=${SANITIZE}\")\n\t\t# manually disable some optimizations to get better stacktraces if sanitizers are used\n\t\tset(COMPILER_FLAGS \"${COMPILER_FLAGS} -fno-omit-frame-pointer -fno-optimize-sibling-calls\")\n\tendif()\n\n### Force colour output (for example for Ninja, or piped CI)\n\n\tif(FORCE_COLOR_OUTPUT)\n\t\tif(CMAKE_CXX_COMPILER_ID MATCHES \"GNU\")\n\t\t\tset(COMPILER_FLAGS \"${COMPILER_FLAGS} -fdiagnostics-color=always\")\n\t\telseif(CMAKE_CXX_COMPILER_ID MATCHES \"Clang\")\n\t\t\tset(COMPILER_FLAGS \"${COMPILER_FLAGS} -fcolor-diagnostics\")\n\t\tendif()\n\tendif()\n\n### Enable clang-tidy linting\n\tif (CLANG_TIDY)\n\t\tset(CMAKE_CXX_CLANG_TIDY \"clang-tidy -Wno-unknown-warning-option\")\n\tendif()\n\n### Set the final compiler flags.\n\n\tset(COMPILER_FLAGS \"${COMPILER_FLAGS} ${CXX_FLAGS_USER}\")\n\n\tif(NOT \"${CMAKE_CXX_FLAGS}\" STREQUAL \"${COMPILER_FLAGS}\")\n\t\tMESSAGE(STATUS \"CMake compiler flags set to »${COMPILER_FLAGS}«\")\n\t\tset(CMAKE_CXX_FLAGS\n\t\t\t\"${COMPILER_FLAGS}\"\n\t\t\tCACHE\n\t\t\tSTRING\n\t\t\t\"Global flags used by the CXX compiler during all builds.\"\n\t\t\tFORCE\n\t\t)\n\tendif()\n\n# #\n# Determine optimization level\n# #\n\n\tif(NOT OPT)\n\t\tif(PROFILER STREQUAL \"perf\")\n\t\t\tset(CMAKE_CXX_FLAGS_RELEASE \"-Og\")\n\t\t\tset(CMAKE_C_FLAGS_RELEASE \"-Og\")\n\t\telse()\n\t\t\tset(CMAKE_CXX_FLAGS_RELEASE \"-O3\")\n\t\t\tset(CMAKE_C_FLAGS_RELEASE \"-O3\")\n\t\tendif()\n\telse()\n\t\tset(CMAKE_CXX_FLAGS_RELEASE \"${OPT}\")\n\t\tset(CMAKE_C_FLAGS_RELEASE \"${OPT}\")\n\n\t\tset(CMAKE_CXX_FLAGS_DEBUG \"${OPT}\")\n\t\tset(CMAKE_C_FLAGS_DEBUG \"${OPT}\")\n\tendif()\n\n# check for hardening options\n\tif(HARDEN)\n\t\tset(CMAKE_CXX_FLAGS \"${CMAKE_CXX_FLAGS} -fPIE -fstack-protector-strong\")\n\t\tset(CMAKE_C_FLAGS \"${CMAKE_C_FLAGS} -fPIE -fstack-protector-strong\")\n\n\t\tif(APPLE)\n\t\t\tset(CMAKE_EXE_LINKER_FLAGS \"${CMAKE_EXE_LINKER_FLAGS} -fPIE -Wl,-pie\")\n\t\telseif(WIN32 AND MINGW)\n\t\t\tset(CMAKE_EXE_LINKER_FLAGS \"${CMAKE_EXE_LINKER_FLAGS} -fPIE -pie\")\n\t\telse()\n\t\t\tset(CMAKE_EXE_LINKER_FLAGS \"${CMAKE_EXE_LINKER_FLAGS} -fPIE -pie -Wl,-z,relro,-z,now\")\n\t\tendif()\n\n\t\tif(NOT CMAKE_CXX_FLAGS_DEBUG STREQUAL \"-O0\")\n\t\t\tadd_definitions(-D_FORTIFY_SOURCE=2)\n\t\tendif()\n\tendif()\n\n\tif(CMAKE_CXX_COMPILER_ID MATCHES \"Clang\")\n\t\tset(CMAKE_EXE_LINKER_FLAGS \"-lstdc++ -lm ${CMAKE_EXE_LINKER_FLAGS}\")\n\tendif()\n\n\tadd_definitions(-DWESNOTH_PATH=\"${CMAKE_INSTALL_FULL_DATADIR}/${DATADIRNAME}\")\n\n\tif(X11_FOUND)\n\t\tadd_definitions(-D_X11)\n\tendif()\n\n\tadd_definitions(-DLOCALEDIR=\"${LOCALEDIR}\")\n\n# -rdynamic is automatically added, but we don't need it, and it increases the executable size\n\tRemoveFlag(CMAKE_SHARED_LIBRARY_LINK_CXX_FLAGS SCRIPT \"-rdynamic\" \"\")\n\tRemoveFlag(CMAKE_SHARED_LIBRARY_LINK_C_FLAGS SCRIPT \"-rdynamic\" \"\")\n\n# -DNDEBUG is automatically added to all release build types, so manually remove this define from the related variables\n\tRemoveFlag(CMAKE_CXX_FLAGS_RELWITHDEBINFO CACHE \"-DNDEBUG\" \"Default C++ flags for RelWithDebInfo\")\n\tRemoveFlag(CMAKE_C_FLAGS_RELWITHDEBINFO CACHE \"-DNDEBUG\" \"Default C flags for RelWithDebInfo\")\n\tRemoveFlag(CMAKE_CXX_FLAGS_MINSIZEREL CACHE \"-DNDEBUG\" \"Default C++ flags for MinSizeRel\")\n\tRemoveFlag(CMAKE_C_FLAGS_MINSIZEREL CACHE \"-DNDEBUG\" \"Default C flags for MinSizeRel\")\n\n# #\n# Start determining options for Release build\n# #\n\n# reset the base Release build option\n\tMESSAGE(\"Replacing default flags used for Release build with ${OPT} ${EXTRA_FLAGS_CONFIG} ${EXTRA_FLAGS_RELEASE}\")\n\tset(CMAKE_CXX_FLAGS_RELEASE \"${CMAKE_CXX_FLAGS_RELEASE} ${EXTRA_FLAGS_CONFIG} ${EXTRA_FLAGS_RELEASE}\" CACHE STRING \"Release build flags\" FORCE)\n\tset(CMAKE_C_FLAGS_RELEASE \"${CMAKE_C_FLAGS_RELEASE} ${EXTRA_FLAGS_CONFIG} ${EXTRA_FLAGS_RELEASE}\" CACHE STRING \"Release build flags\" FORCE)\n\tset(CMAKE_EXE_LINKER_FLAGS_RELEASE \"\" CACHE STRING \"\" FORCE)\n# set the arch to use for Release build if provided\n\tif(ARCH)\n\t\tMESSAGE(\"adding -march=${ARCH} to Release build\")\n\t\tset(CMAKE_CXX_FLAGS_RELEASE \"${CMAKE_CXX_FLAGS_RELEASE} -march=${ARCH}\" CACHE STRING \"Release build flags\" FORCE)\n\t\tset(CMAKE_C_FLAGS_RELEASE \"${CMAKE_C_FLAGS_RELEASE} -march=${ARCH}\" CACHE STRING \"Release build flags\" FORCE)\n\tendif()\n\n# PGO and LTO for GCC\n\tif(CMAKE_CXX_COMPILER_ID STREQUAL \"GNU\")\n\t\tif(PGO_DATA STREQUAL \"generate\")\n\t\t\tMESSAGE(\"Generating PGO data\")\n\t\t\tset(CMAKE_CXX_FLAGS_RELEASE \"${CMAKE_CXX_FLAGS_RELEASE} -fprofile-generate=${CMAKE_SOURCE_DIR}/pgo_data/\" CACHE STRING \"Release build flags generating PGO data\" FORCE)\n\t\t\tset(CMAKE_C_FLAGS_RELEASE \"${CMAKE_C_FLAGS_RELEASE} -fprofile-generate=${CMAKE_SOURCE_DIR}/pgo_data/\" CACHE STRING \"Release build flags generating PGO data\" FORCE)\n\t\tendif()\n\n\t\tif(PGO_DATA STREQUAL \"use\")\n\t\t\tMESSAGE(\"Using PGO data from previous runs\")\n\t\t\tset(CMAKE_CXX_FLAGS_RELEASE \"${CMAKE_CXX_FLAGS_RELEASE} -fprofile-correction -fprofile-use=${CMAKE_SOURCE_DIR}/pgo_data/\" CACHE STRING \"Release build flags for using PGO data\" FORCE)\n\t\t\tset(CMAKE_C_FLAGS_RELEASE \"${CMAKE_C_FLAGS_RELEASE} -fprofile-correction -fprofile-use=${CMAKE_SOURCE_DIR}/pgo_data/\" CACHE STRING \"Release build flags for using PGO data\" FORCE)\n\t\tendif()\n\n\t\tif(ENABLE_LTO)\n\t\t\tif(NOT LTO_JOBS)\n\t\t\t\tMESSAGE(\"LTO_JOBS not set, defaulting to 1\")\n\t\t\t\tset(LTO_JOBS \"1\" CACHE STRING \"Number of threads to use for LTO with gcc\" FORCE)\n\t\t\tendif()\n\n\t\t\tMESSAGE(\"added -flto=${LTO_JOBS} to Release build\")\n\t\t\tset(CMAKE_CXX_FLAGS_RELEASE \"${CMAKE_CXX_FLAGS_RELEASE} -flto=${LTO_JOBS}\" CACHE STRING \"Release build flags with LTO\" FORCE)\n\t\t\tset(CMAKE_C_FLAGS_RELEASE \"${CMAKE_C_FLAGS_RELEASE} -flto=${LTO_JOBS}\" CACHE STRING \"Release build flags with LTO\" FORCE)\n\n\t\t\tMESSAGE(\"Using GCC gold linker\")\n\t\t\tset(CMAKE_EXE_LINKER_FLAGS_RELEASE \"${CMAKE_EXE_LINKER_FLAGS_RELEASE} -fuse-ld=gold -Wno-stringop-overflow\" CACHE STRING \"\" FORCE)\n\t\tendif()\n\tendif()\n\n# PGO and LTO for Clang\n\tif(CMAKE_CXX_COMPILER_ID MATCHES \"Clang\")\n\t\tif(PGO_DATA STREQUAL \"generate\")\n\t\t\tMESSAGE(\"Generating PGO data\")\n\t\t\tset(CMAKE_CXX_FLAGS_RELEASE \"${CMAKE_CXX_FLAGS_RELEASE} -fprofile-instr-generate=${CMAKE_SOURCE_DIR}/pgo_data/wesnoth-%p.profraw\" CACHE STRING \"Release build flags generating PGO data\" FORCE)\n\t\t\tset(CMAKE_C_FLAGS_RELEASE \"${CMAKE_C_FLAGS_RELEASE} -fprofile-instr-generate=${CMAKE_SOURCE_DIR}/pgo_data/wesnoth-%p.profraw\" CACHE STRING \"Release build flags generating PGO data\" FORCE)\n\t\tendif()\n\n\t\tif(PGO_DATA STREQUAL \"use\")\n\t\t\tMESSAGE(\"Using PGO data from previous runs\")\n\t\t\tset(CMAKE_CXX_FLAGS_RELEASE \"${CMAKE_CXX_FLAGS_RELEASE} -fprofile-instr-use=${CMAKE_SOURCE_DIR}/pgo_data/wesnoth.profdata\" CACHE STRING \"Release build flags for using PGO data\" FORCE)\n\t\t\tset(CMAKE_C_FLAGS_RELEASE \"${CMAKE_C_FLAGS_RELEASE} -fprofile-instr-use=${CMAKE_SOURCE_DIR}/pgo_data/wesnoth.profdata\" CACHE STRING \"Release build flags for using PGO data\" FORCE)\n\t\tendif()\n\n\t\tif(ENABLE_LTO)\n\t\t\tMESSAGE(\"added -flto=thin to Release build\")\n\t\t\tset(CMAKE_CXX_FLAGS_RELEASE \"${CMAKE_CXX_FLAGS_RELEASE} -flto=thin\" CACHE STRING \"Release build flags with LTO\" FORCE)\n\t\t\tset(CMAKE_C_FLAGS_RELEASE \"${CMAKE_C_FLAGS_RELEASE} -flto=thin\" CACHE STRING \"Release build flags with LTO\" FORCE)\n\n\t\t\tMESSAGE(\"Using Clang LLD linker\")\n\t\t\tset(CMAKE_EXE_LINKER_FLAGS_RELEASE \"${CMAKE_EXE_LINKER_FLAGS_RELEASE} -fuse-ld=lld\" CACHE STRING \"Linker flag for building with LTO and clang\" FORCE)\n\t\tendif()\n\tendif()\n\n# set CMAKE_AR and CMAKE_RANLIB to use LTO-enabled variants if LTO is enabled\n\tif(ENABLE_LTO)\n\t\tMESSAGE(\"Using gcc-ar and gcc-ranlib\")\n\t\tfind_program(LTO_AR NAMES gcc-ar)\n\t\tfind_program(LTO_RANLIB NAMES gcc-ranlib)\n\t\tset(CMAKE_AR \"${LTO_AR}\" CACHE STRING \"Supports LTO\" FORCE)\n\t\tset(CMAKE_RANLIB \"${LTO_RANLIB}\" CACHE STRING \"Supports LTO\" FORCE)\n\tendif()\n\tMARK_AS_ADVANCED(LTO_AR LTO_RANLIB NON_LTO_AR NON_LTO_RANLIB)\n\n# add in extra flags\n\tset(CMAKE_EXE_LINKER_FLAGS_RELEASE \"${CMAKE_EXE_LINKER_FLAGS_RELEASE} ${LINK_EXTRA_FLAGS_CONFIG} ${LINK_EXTRA_FLAGS_RELEASE}\")\n\n# clean the pgo data\n\tset_directory_properties(PROPERTIES ADDITIONAL_MAKE_CLEAN_FILES \"${CMAKE_SOURCE_DIR}/pgo_data/\")\n\n# #\n# End determining options for Release build\n# Start setting options for Debug build\n# #\n\n\t# replace the default Debug flag of -g with -O0 -DDEBUG -ggdb3\n\t# this matches the flags of scons' debug build\n\tMESSAGE(\"Replacing flags used for Debug build ${OPT} -DDEBUG -ggdb3 ${EXTRA_FLAGS_CONFIG} ${EXTRA_FLAGS_DEBUG}\")\n\tset(CMAKE_CXX_FLAGS_DEBUG \"${CMAKE_CXX_FLAGS_DEBUG} -DDEBUG -ggdb3 ${EXTRA_FLAGS_CONFIG} ${EXTRA_FLAGS_DEBUG}\" CACHE STRING \"change cmake's Debug flags to match scons' flags\" FORCE)\n\tset(CMAKE_C_FLAGS_DEBUG \"${CMAKE_C_FLAGS_DEBUG} -DDEBUG -ggdb3 ${EXTRA_FLAGS_CONFIG} ${EXTRA_FLAGS_DEBUG}\" CACHE STRING \"change cmake's Debug flags to match scons' flags\" FORCE)\n\tset(CMAKE_EXE_LINKER_FLAGS_DEBUG \"${LINK_EXTRA_FLAGS_CONFIG} ${LINK_EXTRA_FLAGS_DEBUG}\" CACHE STRING \"\" FORCE)\n\n# Enabling GLIBCXX_ASSERTIONS puts bounds-checks on std::vector::operator[], etc\n\tif(GLIBCXX_ASSERTIONS)\n\t\tMESSAGE(\"Defining _GLIBCXX_ASSERTIONS\")\n\t\tadd_definitions(-D_GLIBCXX_ASSERTIONS)\n\tendif()\n\n# GLIBCXX_DEBUG enables more checks that GLIBCXX_ASSERTIONS, but changes the ABI of Boost's program_options library.\n# When _GLIBCXX_DEBUG is defined, _GLIBCXX_ASSERTIONS is automatically implied (Gnu's c++config.h will define it).\n\tif(GLIBCXX_DEBUG)\n\t\tMESSAGE(\"Defining _GLIBCXX_DEBUG and _GLIBCXX_DEBUG_PEDANTIC\")\n\t\tadd_definitions(-D_GLIBCXX_DEBUG)\n\t\tadd_definitions(-D_GLIBCXX_DEBUG_PEDANTIC)\n\tendif()\n\n# #\n# Setup profiler build options\n# #\n\tset(PROFILER \"\" CACHE STRING \"Enable performance-measuring tools (and choose which tool to use)\")\n\n\tif(PROFILER STREQUAL \"gprof\")\n\t\tMESSAGE(\"Profiler is gprof\")\n\t\tset(CMAKE_CXX_FLAGS_RELEASE \"${CMAKE_CXX_FLAGS_RELEASE} -pg ${EXTRA_FLAGS_CONFIG}\" CACHE STRING \"Flags for profiling with gprof\" FORCE)\n\t\tset(CMAKE_C_FLAGS_RELEASE \"${CMAKE_C_FLAGS_RELEASE} -pg ${EXTRA_FLAGS_CONFIG}\" CACHE STRING \"Flags for profiling with gprof\" FORCE)\n\tendif()\n\n\tif(PROFILER STREQUAL \"gcov\")\n\t\tMESSAGE(\"Profiler is gcov\")\n\t\tset(CMAKE_CXX_FLAGS_RELEASE \"${CMAKE_CXX_FLAGS_RELEASE} -fprofile-arcs -ftest-coverage ${EXTRA_FLAGS_CONFIG}\" CACHE STRING \"Flags for profiling with gcov\" FORCE)\n\t\tset(CMAKE_C_FLAGS_RELEASE \"${CMAKE_C_FLAGS_RELEASE} -fprofile-arcs -ftest-coverage ${EXTRA_FLAGS_CONFIG}\" CACHE STRING \"Flags for profiling with gcov\" FORCE)\n\tendif()\n\n\tif(PROFILER STREQUAL \"gperftools\")\n\t\tMESSAGE(\"Profiler is gperftools\")\n\t\tset(CMAKE_EXE_LINKER_FLAGS_RELEASE \"-Wl,--no-as-needed,-lprofiler ${LINK_EXTRA_FLAGS_CONFIG}\" CACHE STRING \"\" FORCE)\n\tendif()\n\n\tif(PROFILER STREQUAL \"perf\")\n\t\tMESSAGE(\"Profiler is perf\")\n\t\tset(CMAKE_CXX_FLAGS_RELEASE \"${CMAKE_CXX_FLAGS_RELEASE} -ggdb -fno-omit-frame-pointer ${EXTRA_FLAGS_CONFIG}\" CACHE STRING \"Flags for profiling with perf\" FORCE)\n\t\tset(CMAKE_C_FLAGS_RELEASE \"${CMAKE_C_FLAGS_RELEASE} -ggdb -fno-omit-frame-pointer ${EXTRA_FLAGS_CONFIG}\" CACHE STRING \"Flags for profiling with perf\" FORCE)\n\tendif()\n# #\n# End setting profiler build options\n# #\nelse()\n\tset(CMAKE_CXX_FLAGS \"/W3 /WX /wd4503 /wd4351 /wd4250 /wd4244 /wd4267 /we4239 /wd4275 /EHsc /utf-8 /Zc:__cplusplus\" CACHE STRING \"Global flags used by the CXX compiler during all builds.\" FORCE)\n\tset(CMAKE_C_FLAGS \"/WX\" CACHE STRING \"Global flags used by the C compiler during all builds.\" FORCE)\n\tadd_definitions(-D_WIN32_WINNT=0x0A00 -D_CRT_SECURE_NO_WARNINGS -D_WINSOCK_DEPRECATED_NO_WARNINGS -DNOMINMAX)\n\n\tset(CMAKE_CXX_FLAGS_DEBUG \"${CMAKE_CXX_FLAGS_DEBUG} -DDEBUG_LUA\")\n\tset(CMAKE_EXE_LINKER_FLAGS \"${CMAKE_EXE_LINKER_FLAGS} /MANIFEST:NO\")\n\tset(CMAKE_EXE_LINKER_FLAGS_DEBUG \"${CMAKE_EXE_LINKER_FLAGS_DEBUG} /NODEFAULTLIB:MSVCRT\")\n\n# -DNDEBUG is automatically added to all release build types, so manually remove this define from the related variables\n\tRemoveFlag(CMAKE_CXX_FLAGS_RELEASE CACHE \"/DNDEBUG\" \"Default C++ flags for RELEASE\")\n\tRemoveFlag(CMAKE_C_FLAGS_RELEASE CACHE \"/DNDEBUG\" \"Default C flags for RELEASE\")\n\tRemoveFlag(CMAKE_CXX_FLAGS_RELWITHDEBINFO CACHE \"/DNDEBUG\" \"Default C++ flags for RelWithDebInfo\")\n\tRemoveFlag(CMAKE_C_FLAGS_RELWITHDEBINFO CACHE \"/DNDEBUG\" \"Default C flags for RelWithDebInfo\")\n\tRemoveFlag(CMAKE_CXX_FLAGS_MINSIZEREL CACHE \"/DNDEBUG\" \"Default C++ flags for MinSizeRel\")\n\tRemoveFlag(CMAKE_C_FLAGS_MINSIZEREL CACHE \"/DNDEBUG\" \"Default C flags for MinSizeRel\")\nendif()\n\n# When the path starts with a / on a Unix system it's an absolute path.\n# This means that on Windows the path used is always relative.\nif(IS_ABSOLUTE \"${LOCALEDIR}\")\n\tadd_definitions(-DHAS_RELATIVE_LOCALEDIR=0)\n\tset(LOCALE_INSTALL ${LOCALEDIR})\nelse()\n\tadd_definitions(-DHAS_RELATIVE_LOCALEDIR=1)\n\tset(LOCALE_INSTALL ${CMAKE_INSTALL_DATADIR}/${DATADIRNAME}/${LOCALEDIR})\nendif()\n\nadd_definitions(-DFIFODIR=\"${FIFO_DIR}\")\n\nif(PREFERENCES_DIR)\n\tadd_definitions(-DPREFERENCES_DIR=\"${PREFERENCES_DIR}\")\nendif()\n\n\nif(DEFAULT_PREFS_FILE)\n\tadd_definitions(-DDEFAULT_PREFS_PATH=\"${DEFAULT_PREFS_FILE}\")\n\n\tif(NOT DEFAULT_PREFS_FILE MATCHES \"^/\")\n\t\tadd_definitions(-DHAS_RELATIVE_DEFPREF)\n\tendif()\nendif()\n\nif(ENABLE_DEBUG_WINDOW_LAYOUT)\n\tadd_definitions(-DDEBUG_WINDOW_LAYOUT_GRAPHS)\nendif()\n\n#\n# Libraries that are only required by some targets\n#\n\nif(ENABLE_GAME OR ENABLE_TESTS)\n\tfind_package(CURL REQUIRED)\n\tfind_package(VorbisFile REQUIRED)\n\tfind_package(PkgConfig REQUIRED)\n\tfind_package(Fontconfig REQUIRED)\n\tfind_package(SDL2 2.0.18 REQUIRED)\n\tif(NOT MSVC)\n\t\t# for everything else, use pkgconfig\n\t\t# SDL2_image and SDL2_mixer don't seem to have any cmake configuration available at all\n\t\tpkg_check_modules(SDL2IMAGE REQUIRED SDL2_image>=2.0.2)\n\t\tpkg_check_modules(SDL2MIXER REQUIRED SDL2_mixer>=2.0.0)\n\telse()\n\t\t# for MSVC, vcpkg builds and provides custom SDL2-related modules for cmake to use, so use those\n\t\t# this also fixes the issue with our previous FindSDL2* scripts incorrectly using the Release version of these libs instead of the Debug version\n\t\tfind_package(SDL2_image CONFIG REQUIRED)\n\t\tfind_package(SDL2_mixer CONFIG REQUIRED)\n\tendif()\n\tpkg_check_modules(CAIRO REQUIRED cairo>=1.10)\n\tpkg_check_modules(PANGOCAIRO REQUIRED pangocairo>=1.44.0)\n\tpkg_check_modules(PANGO REQUIRED pango>=1.44.0)\n\tpkg_check_modules(LIBREADLINE readline)\nendif()\n\nif(ENABLE_TESTS)\n\tfind_package( Boost ${BOOST_VERSION} REQUIRED COMPONENTS unit_test_framework )\nendif()\n\nif(ENABLE_GAME)\n\tif(ENABLE_NOTIFICATIONS)\n\t\tpkg_check_modules(LIBDBUS dbus-1)\n\t\tif(LIBDBUS_FOUND)\n\t\t\tadd_definitions(-DHAVE_LIBDBUS)\n\t\telse()\n\t\t\tmessage(\"Could not find dbus-1, Disabling notification support.\")\n\t\tendif()\n\telse()\n\t\tunset(LIBDBUS_FOUND CACHE)\n\tendif()\n\n\tfind_package(History)\n\tif(HISTORY_FOUND)\n\t\tadd_definitions(-DHAVE_HISTORY)\n\tendif()\nendif()\n\nif(ENABLE_POT_UPDATE_TARGET)\n\tfind_package(TranslationTools REQUIRED)\nendif()\n\n# get languages\nif(ENABLE_NLS)\n\tfile(READ po/LINGUAS LINGUAS)\n\tstring(REPLACE \"\\n\" \"\" LINGUAS ${LINGUAS})\n\tseparate_arguments(LINGUAS)\nendif()\n\n#\n# Include subdirectories\n#\n\nadd_subdirectory(doc)\n\nif(GETTEXT_FOUND AND Python_FOUND AND ENABLE_NLS)\n\tadd_subdirectory(po)\nendif()\n\nadd_subdirectory(src)\n\n#\n# Install files\n#\nif(ENABLE_GAME)\n\tinstall(DIRECTORY data fonts images sounds DESTINATION ${CMAKE_INSTALL_DATADIR}/${DATADIRNAME} USE_SOURCE_PERMISSIONS PATTERN \".git\" EXCLUDE )\nendif()\n\n# install file for add-ons server\nif(ENABLE_CAMPAIGN_SERVER AND NOT ENABLE_GAME)\n\tinstall(FILES data/COPYING.txt DESTINATION ${CMAKE_INSTALL_DATADIR}/${DATADIRNAME}/data)\nendif()\n\n#\n# Install desktop file so wesnoth appears in the application start menu with an icon\n#\nif(ENABLE_DESKTOP_ENTRY AND ENABLE_GAME)\n\tinstall(FILES packaging/org.wesnoth.Wesnoth.desktop DESTINATION ${CMAKE_INSTALL_DATAROOTDIR}/applications )\n\tinstall(DIRECTORY packaging/icons/hicolor packaging/icons/HighContrast DESTINATION ${CMAKE_INSTALL_DATAROOTDIR}/icons )\nendif()\n\nif(ENABLE_APPDATA_FILE AND ENABLE_GAME)\n\tinstall(FILES packaging/org.wesnoth.Wesnoth.appdata.xml DESTINATION ${CMAKE_INSTALL_DATAROOTDIR}/metainfo )\nendif()\n\nif(ENABLE_SERVER AND FIFO_DIR)\n\tinstall(CODE \"execute_process(COMMAND ${CMAKE_COMMAND} -E make_directory \\$ENV{DESTDIR}/${FIFO_DIR})\")\n\tif(SERVER_UID AND SERVER_GID)\n\t\tinstall(CODE \"execute_process(COMMAND chown ${SERVER_UID}:${SERVER_GID} \\$ENV{DESTDIR}/${FIFO_DIR})\")\n\tendif()\nendif()\n\n#\n# uninstall\n#\n\nconfigure_file(\n\t\"${CMAKE_SOURCE_DIR}/cmake/uninstall.cmake.in\"\n\t\"${CMAKE_CURRENT_BINARY_DIR}/uninstall.cmake\"\n\tIMMEDIATE @ONLY\n)\n\nadd_custom_target(uninstall\n\t\"${CMAKE_COMMAND}\" -P \"${CMAKE_CURRENT_BINARY_DIR}/uninstall.cmake\"\n)\n\n#\n# Packaging stuff\n#\n\ninclude(CPack)\nset(CPACK_GENERATOR \"TGZ\")\nset(CPACK_SOURCE_GENERATOR \"TGZ\")\n"
        },
        {
          "name": "CMakeSettings.json",
          "type": "blob",
          "size": 0.759765625,
          "content": "﻿{\n  \"configurations\": [\n    {\n      \"name\": \"x64-Debug\",\n      \"generator\": \"Ninja\",\n      \"configurationType\": \"Debug\",\n      \"inheritEnvironments\": [ \"msvc_x64_x64\" ],\n      \"buildRoot\": \"${projectDir}\\\\out\\\\build\\\\${name}\",\n      \"installRoot\": \"${projectDir}\\\\out\\\\install\\\\${name}\",\n      \"cmakeCommandArgs\": \"\",\n      \"buildCommandArgs\": \"\",\n      \"ctestCommandArgs\": \"\"\n    },\n    {\n      \"name\": \"x64-Release\",\n      \"generator\": \"Ninja\",\n      \"configurationType\": \"Release\",\n      \"buildRoot\": \"${projectDir}\\\\out\\\\build\\\\${name}\",\n      \"installRoot\": \"${projectDir}\\\\out\\\\install\\\\${name}\",\n      \"cmakeCommandArgs\": \"\",\n      \"buildCommandArgs\": \"\",\n      \"ctestCommandArgs\": \"\",\n      \"inheritEnvironments\": [ \"msvc_x64_x64\" ],\n      \"variables\": []\n    }\n  ]\n}"
        },
        {
          "name": "CODE_OF_CONDUCT.md",
          "type": "blob",
          "size": 0.12890625,
          "content": "The Battle for Wesnoth's Code of Conduct may be found in the following forum post:\nhttps://forums.wesnoth.org/viewtopic.php?t=24277\n"
        },
        {
          "name": "CONTRIBUTING.md",
          "type": "blob",
          "size": 8.15625,
          "content": "# Contributing to Wesnoth\n\nWesnoth was built with the hard work of volunteers all over the world! Everyone is welcome to come and contribute code, art, and music to improve the game for everyone who wants to play it.\n\n## Contacting Us\n\nThe best place to get in touch with the development team is on our [official Discord community server](https://discord.gg/battleforwesnoth) or on the [Wesnoth forums](https://forums.wesnoth.org/).\n\nThe Discord server is mirrored to [Libera.Chat IRC](https://libera.chat), channels: [`#wesnoth`](https://web.libera.chat/#wesnoth) (general discussions), [`#wesnoth-umc-dev`](https://web.libera.chat/#wesnoth-umc-dev) (questions about creating add-ons), [`#wesnoth-dev`](https://web.libera.chat/#wesnoth-dev) (development of wesnoth mainline).\n\n## Art and Music\n\nArt and music submissions are accepted usually to fill in missing or outdated assets. If you are interested in contributing, we recommend that you contact us first to determine the best resources for you to work on based on need and interest. We also commission larger projects such as character portraits, story art, and music tracks.\n\n## Engine\n\nWesnoth's engine conforms to the C++17 standard. We encourage the use of standard library APIs over third-party libraries whenever possible. However, third-party libraries are preferred over adding new, custom in-engine APIs, when appropriate.\n\n### Code Formatting\n\nAll C++, WML and Lua files are in UTF-8, as we use Gettext-style translations, and translatable strings use some punctuation that's outside of the ASCII subset. More details are in the [Typography Style Guide](https://wiki.wesnoth.org/Typography_Style_Guide) and the guide to [using Gettext strings](https://wiki.wesnoth.org/GettextForWesnothDevelopers).\n\nIf your pull request touches the engine's C++ source code, we recommend (but don't require) you run `clang-format` on your changes before submission (Visual Studio Code gives you a handy context menu option to do so). This ensures that your code remains formatted according to our conventions. Make a local commit before running `clang-format`, in case more code than expected gets changed.\n\nGenerally, we follow these conventions in our C++ code:\n\n```cpp\n// Use pragma once instead of an include guard. Those are clumsy.\n#pragma once\n\n// Includes for files from the src/... directories should use double-quotes.\n#include \"help/help.hpp\"\n#include \"gettext.hpp\"\n\n// Use angle brackets for system and external includes.\n// Includes should also be sorted alphabetically.\n#include <algorithm>\n#include <array>\n#include <iostream>\n#include <string>\n#include <vector>\n\n// Classes should have scope specifiers (public, protected, private), but structs can omit them.\nstruct my_struct\n{\n    // Public members do not need a trailing underscore.\n    // Inline initialization is acceptable over a constructor.\n    bool member = false;\n};\n\n// Class names are lower-case with underscores between words.\n// Put braces on new lines after class and struct declarations.\nclass my_class\n{\npublic:\n    // Use using directives over typedefs. They're easier to read.\n    using alias_t = std::vector<my_struct>;\n\n    // Use leading commas in the ctor list\n    // Use the T& foo or T* foo reference and pointer styles, not T &foo or T *foo.\n    // Use the \"explicit\" keyword for single-argument constructors.\n    explicit my_class(alias_t& ref)\n        : the_array_of_doom_()\n        , vec_ptr_(nullptr) // Use nullptr instead of NULL or 0\n    {\n        // Use C++ casts (static_cast and dynamic_cast) instead of C-style casts.\n        // Do try and avoid reinterpret_cast and const_cast if at all possible.\n        const float cast_test = static_cast<float>(how_far_to_destination_);\n\n        // Don't put a space after conditional keywords, and keep their opening brackets on the same line.\n        if(!ref.empty()) {\n            vec_ptr_ = &ref;\n\n            // Use lambdas for short functions like this.\n            // We also encourage the use of auto in lambdas and other places where\n            // type names are long and can be inferred.\n            std::sort(ref.begin(), ref.end(), [](const auto& a, const auto& b) {\n                return a.member && !b.member;\n            });\n        }\n    }\n\n    /**\n     * Keep class method brackets on their own line, and always utilize const for methods and\n     * variables when possible.\n     *\n     * For documenting functions, we loosely follow Doxygen conventions. You don't need to document\n     * every single function, but important ones should optimally have at least a one-line comment\n     * explaining what it does.\n     *\n     * This returns a translatable string, using gettext's _ function.\n     *\n     * @param speaker_id        The person speaking\n     */\n    t_string exclaim(const std::string& speaker_id) const\n    {\n        if(how_far_to_destination_ < 100) {\n            if(speaker_id == \"signboard\") {\n                return _(\"Oldwood — enter at own risk\");\n            } else {\n                // TRANSLATORS: The lake is the small underground one in S06 Temple in the Deep\n                return _(\"Hmm, someone has written underneath “Fire-carrying trespassers will be thrown in the lake.”\");\n            }\n        } else {\n            return _(\"Clearwater — just keep following the river\");\n        }\n    }\n\nprivate:\n    // End private class members with an underscore. Additionally, use C++ standard\n    // like std::array as opposed to C equivalents (such as int[])\n    std::array<int, 8> the_array_of_doom_;\n\n    alias_t* vec_ptr_;\n\n    // Use static or constexpr for constants. Don't use macros.\n    static const int how_far_to_destination_ = 1000;\n};\n```\n\n## Translations\nFor specific information on how to update and submit translations, see [here](https://wiki.wesnoth.org/WesnothTranslationsHowTo).\n\n## Bug Reports\n\nPlease report any bugs here on GitHub (preferred) or on the forums.\n\n### Bugs in User-Made Content\n\nIf you encounter an engine bug such as a crash, scripting error, etc., report it here. Otherwise, issues with user-made content should be reported to their respective creators on the forums. You can usually find a thread for the add-on in question in the [Scenario & Campaign Development](http://www.wesnoth.org/forum/viewforum.php?f=8), [Faction & Era Development](http://www.wesnoth.org/forum/viewforum.php?f=19) or [Multiplayer Development](http://www.wesnoth.org/forum/viewforum.php?f=15) sections.\n\n### Feature Requests\n\nWe accept suggestions for campaign improvements, WML or Lua API changes, and other game enhancements here on GitHub. We encourage you to attempt to implement your idea yourself and submit a pull request containing relevant information to your feature.\n\n### Information to Include\n\nWe have several issue templates to choose from when opening a bug report. Please choose the one that best fits the bug. You do not need to include everything (we don't need screenshots for a compiling issue, for example), but the more information you can provide, the better. We need at least enough information to replicate the bug before we can track down the root cause.\n\n## Pull Requests\n\nPull requests (PRs) can be created by forking the [wesnoth/wesnoth](https://github.com/wesnoth/wesnoth) repository on the github website, making your own changes to your forked repository, and then clicking the \"Pull request\" button.  All pull requests must follow the above guidelines in order to be merged and whenever possible should include additional unit tests in order to both prove the proposed fix or feature works as intended as well as to allow quickly detecting other bugs in that area of code the future.  WML and lua tests are run with the `run_wml_tests` python script (the tests themselves can be found [here](https://github.com/wesnoth/wesnoth/tree/master/data/test/test)) and C++ unit tests are run by the `boost_unit_tests` executable (current tests can be found [here](https://github.com/wesnoth/wesnoth/tree/master/src/tests)). Additionally, no new code can contain use of deprecated WML or lua API features.\n\nIt is also highly recommended to use an editor that at least support syntax highlighting (such as VSCode or Notepad++) regardless of what you're changing - just because you *can* edit files through the github website or with plain Notepad does not mean you *should*.\n"
        },
        {
          "name": "COPYING",
          "type": "blob",
          "size": 17.5888671875,
          "content": "\t\t    GNU GENERAL PUBLIC LICENSE\n\t\t       Version 2, June 1991\n\n Copyright (C) 1989, 1991 Free Software Foundation, Inc.\n                       51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\n Everyone is permitted to copy and distribute verbatim copies\n of this license document, but changing it is not allowed.\n\n\t\t\t    Preamble\n\n  The licenses for most software are designed to take away your\nfreedom to share and change it.  By contrast, the GNU General Public\nLicense is intended to guarantee your freedom to share and change free\nsoftware--to make sure the software is free for all its users.  This\nGeneral Public License applies to most of the Free Software\nFoundation's software and to any other program whose authors commit to\nusing it.  (Some other Free Software Foundation software is covered by\nthe GNU Library General Public License instead.)  You can apply it to\nyour programs, too.\n\n  When we speak of free software, we are referring to freedom, not\nprice.  Our General Public Licenses are designed to make sure that you\nhave the freedom to distribute copies of free software (and charge for\nthis service if you wish), that you receive source code or can get it\nif you want it, that you can change the software or use pieces of it\nin new free programs; and that you know you can do these things.\n\n  To protect your rights, we need to make restrictions that forbid\nanyone to deny you these rights or to ask you to surrender the rights.\nThese restrictions translate to certain responsibilities for you if you\ndistribute copies of the software, or if you modify it.\n\n  For example, if you distribute copies of such a program, whether\ngratis or for a fee, you must give the recipients all the rights that\nyou have.  You must make sure that they, too, receive or can get the\nsource code.  And you must show them these terms so they know their\nrights.\n\n  We protect your rights with two steps: (1) copyright the software, and\n(2) offer you this license which gives you legal permission to copy,\ndistribute and/or modify the software.\n\n  Also, for each author's protection and ours, we want to make certain\nthat everyone understands that there is no warranty for this free\nsoftware.  If the software is modified by someone else and passed on, we\nwant its recipients to know that what they have is not the original, so\nthat any problems introduced by others will not reflect on the original\nauthors' reputations.\n\n  Finally, any free program is threatened constantly by software\npatents.  We wish to avoid the danger that redistributors of a free\nprogram will individually obtain patent licenses, in effect making the\nprogram proprietary.  To prevent this, we have made it clear that any\npatent must be licensed for everyone's free use or not licensed at all.\n\n  The precise terms and conditions for copying, distribution and\nmodification follow.\n\f\n\t\t    GNU GENERAL PUBLIC LICENSE\n   TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION\n\n  0. This License applies to any program or other work which contains\na notice placed by the copyright holder saying it may be distributed\nunder the terms of this General Public License.  The \"Program\", below,\nrefers to any such program or work, and a \"work based on the Program\"\nmeans either the Program or any derivative work under copyright law:\nthat is to say, a work containing the Program or a portion of it,\neither verbatim or with modifications and/or translated into another\nlanguage.  (Hereinafter, translation is included without limitation in\nthe term \"modification\".)  Each licensee is addressed as \"you\".\n\nActivities other than copying, distribution and modification are not\ncovered by this License; they are outside its scope.  The act of\nrunning the Program is not restricted, and the output from the Program\nis covered only if its contents constitute a work based on the\nProgram (independent of having been made by running the Program).\nWhether that is true depends on what the Program does.\n\n  1. You may copy and distribute verbatim copies of the Program's\nsource code as you receive it, in any medium, provided that you\nconspicuously and appropriately publish on each copy an appropriate\ncopyright notice and disclaimer of warranty; keep intact all the\nnotices that refer to this License and to the absence of any warranty;\nand give any other recipients of the Program a copy of this License\nalong with the Program.\n\nYou may charge a fee for the physical act of transferring a copy, and\nyou may at your option offer warranty protection in exchange for a fee.\n\n  2. You may modify your copy or copies of the Program or any portion\nof it, thus forming a work based on the Program, and copy and\ndistribute such modifications or work under the terms of Section 1\nabove, provided that you also meet all of these conditions:\n\n    a) You must cause the modified files to carry prominent notices\n    stating that you changed the files and the date of any change.\n\n    b) You must cause any work that you distribute or publish, that in\n    whole or in part contains or is derived from the Program or any\n    part thereof, to be licensed as a whole at no charge to all third\n    parties under the terms of this License.\n\n    c) If the modified program normally reads commands interactively\n    when run, you must cause it, when started running for such\n    interactive use in the most ordinary way, to print or display an\n    announcement including an appropriate copyright notice and a\n    notice that there is no warranty (or else, saying that you provide\n    a warranty) and that users may redistribute the program under\n    these conditions, and telling the user how to view a copy of this\n    License.  (Exception: if the Program itself is interactive but\n    does not normally print such an announcement, your work based on\n    the Program is not required to print an announcement.)\n\f\nThese requirements apply to the modified work as a whole.  If\nidentifiable sections of that work are not derived from the Program,\nand can be reasonably considered independent and separate works in\nthemselves, then this License, and its terms, do not apply to those\nsections when you distribute them as separate works.  But when you\ndistribute the same sections as part of a whole which is a work based\non the Program, the distribution of the whole must be on the terms of\nthis License, whose permissions for other licensees extend to the\nentire whole, and thus to each and every part regardless of who wrote it.\n\nThus, it is not the intent of this section to claim rights or contest\nyour rights to work written entirely by you; rather, the intent is to\nexercise the right to control the distribution of derivative or\ncollective works based on the Program.\n\nIn addition, mere aggregation of another work not based on the Program\nwith the Program (or with a work based on the Program) on a volume of\na storage or distribution medium does not bring the other work under\nthe scope of this License.\n\n  3. You may copy and distribute the Program (or a work based on it,\nunder Section 2) in object code or executable form under the terms of\nSections 1 and 2 above provided that you also do one of the following:\n\n    a) Accompany it with the complete corresponding machine-readable\n    source code, which must be distributed under the terms of Sections\n    1 and 2 above on a medium customarily used for software interchange; or,\n\n    b) Accompany it with a written offer, valid for at least three\n    years, to give any third party, for a charge no more than your\n    cost of physically performing source distribution, a complete\n    machine-readable copy of the corresponding source code, to be\n    distributed under the terms of Sections 1 and 2 above on a medium\n    customarily used for software interchange; or,\n\n    c) Accompany it with the information you received as to the offer\n    to distribute corresponding source code.  (This alternative is\n    allowed only for noncommercial distribution and only if you\n    received the program in object code or executable form with such\n    an offer, in accord with Subsection b above.)\n\nThe source code for a work means the preferred form of the work for\nmaking modifications to it.  For an executable work, complete source\ncode means all the source code for all modules it contains, plus any\nassociated interface definition files, plus the scripts used to\ncontrol compilation and installation of the executable.  However, as a\nspecial exception, the source code distributed need not include\nanything that is normally distributed (in either source or binary\nform) with the major components (compiler, kernel, and so on) of the\noperating system on which the executable runs, unless that component\nitself accompanies the executable.\n\nIf distribution of executable or object code is made by offering\naccess to copy from a designated place, then offering equivalent\naccess to copy the source code from the same place counts as\ndistribution of the source code, even though third parties are not\ncompelled to copy the source along with the object code.\n\f\n  4. You may not copy, modify, sublicense, or distribute the Program\nexcept as expressly provided under this License.  Any attempt\notherwise to copy, modify, sublicense or distribute the Program is\nvoid, and will automatically terminate your rights under this License.\nHowever, parties who have received copies, or rights, from you under\nthis License will not have their licenses terminated so long as such\nparties remain in full compliance.\n\n  5. You are not required to accept this License, since you have not\nsigned it.  However, nothing else grants you permission to modify or\ndistribute the Program or its derivative works.  These actions are\nprohibited by law if you do not accept this License.  Therefore, by\nmodifying or distributing the Program (or any work based on the\nProgram), you indicate your acceptance of this License to do so, and\nall its terms and conditions for copying, distributing or modifying\nthe Program or works based on it.\n\n  6. Each time you redistribute the Program (or any work based on the\nProgram), the recipient automatically receives a license from the\noriginal licensor to copy, distribute or modify the Program subject to\nthese terms and conditions.  You may not impose any further\nrestrictions on the recipients' exercise of the rights granted herein.\nYou are not responsible for enforcing compliance by third parties to\nthis License.\n\n  7. If, as a consequence of a court judgment or allegation of patent\ninfringement or for any other reason (not limited to patent issues),\nconditions are imposed on you (whether by court order, agreement or\notherwise) that contradict the conditions of this License, they do not\nexcuse you from the conditions of this License.  If you cannot\ndistribute so as to satisfy simultaneously your obligations under this\nLicense and any other pertinent obligations, then as a consequence you\nmay not distribute the Program at all.  For example, if a patent\nlicense would not permit royalty-free redistribution of the Program by\nall those who receive copies directly or indirectly through you, then\nthe only way you could satisfy both it and this License would be to\nrefrain entirely from distribution of the Program.\n\nIf any portion of this section is held invalid or unenforceable under\nany particular circumstance, the balance of the section is intended to\napply and the section as a whole is intended to apply in other\ncircumstances.\n\nIt is not the purpose of this section to induce you to infringe any\npatents or other property right claims or to contest validity of any\nsuch claims; this section has the sole purpose of protecting the\nintegrity of the free software distribution system, which is\nimplemented by public license practices.  Many people have made\ngenerous contributions to the wide range of software distributed\nthrough that system in reliance on consistent application of that\nsystem; it is up to the author/donor to decide if he or she is willing\nto distribute software through any other system and a licensee cannot\nimpose that choice.\n\nThis section is intended to make thoroughly clear what is believed to\nbe a consequence of the rest of this License.\n\f\n  8. If the distribution and/or use of the Program is restricted in\ncertain countries either by patents or by copyrighted interfaces, the\noriginal copyright holder who places the Program under this License\nmay add an explicit geographical distribution limitation excluding\nthose countries, so that distribution is permitted only in or among\ncountries not thus excluded.  In such case, this License incorporates\nthe limitation as if written in the body of this License.\n\n  9. The Free Software Foundation may publish revised and/or new versions\nof the General Public License from time to time.  Such new versions will\nbe similar in spirit to the present version, but may differ in detail to\naddress new problems or concerns.\n\nEach version is given a distinguishing version number.  If the Program\nspecifies a version number of this License which applies to it and \"any\nlater version\", you have the option of following the terms and conditions\neither of that version or of any later version published by the Free\nSoftware Foundation.  If the Program does not specify a version number of\nthis License, you may choose any version ever published by the Free Software\nFoundation.\n\n  10. If you wish to incorporate parts of the Program into other free\nprograms whose distribution conditions are different, write to the author\nto ask for permission.  For software which is copyrighted by the Free\nSoftware Foundation, write to the Free Software Foundation; we sometimes\nmake exceptions for this.  Our decision will be guided by the two goals\nof preserving the free status of all derivatives of our free software and\nof promoting the sharing and reuse of software generally.\n\n\t\t\t    NO WARRANTY\n\n  11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY\nFOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW.  EXCEPT WHEN\nOTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES\nPROVIDE THE PROGRAM \"AS IS\" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED\nOR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\nMERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK AS\nTO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE\nPROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING,\nREPAIR OR CORRECTION.\n\n  12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING\nWILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR\nREDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES,\nINCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING\nOUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED\nTO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY\nYOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER\nPROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE\nPOSSIBILITY OF SUCH DAMAGES.\n\n\t\t     END OF TERMS AND CONDITIONS\n\f\n\t    How to Apply These Terms to Your New Programs\n\n  If you develop a new program, and you want it to be of the greatest\npossible use to the public, the best way to achieve this is to make it\nfree software which everyone can redistribute and change under these terms.\n\n  To do so, attach the following notices to the program.  It is safest\nto attach them to the start of each source file to most effectively\nconvey the exclusion of warranty; and each file should have at least\nthe \"copyright\" line and a pointer to where the full notice is found.\n\n    <one line to give the program's name and a brief idea of what it does.>\n    Copyright (C) <year>  <name of author>\n\n    This program is free software; you can redistribute it and/or modify\n    it under the terms of the GNU General Public License as published by\n    the Free Software Foundation; either version 2 of the License, or\n    (at your option) any later version.\n\n    This program is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU General Public License for more details.\n\n    You should have received a copy of the GNU General Public License\n    along with this program; if not, write to the Free Software\n    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\n\n\nAlso add information on how to contact you by electronic and paper mail.\n\nIf the program is interactive, make it output a short notice like this\nwhen it starts in an interactive mode:\n\n    Gnomovision version 69, Copyright (C) year name of author\n    Gnomovision comes with ABSOLUTELY NO WARRANTY; for details type `show w'.\n    This is free software, and you are welcome to redistribute it\n    under certain conditions; type `show c' for details.\n\nThe hypothetical commands `show w' and `show c' should show the appropriate\nparts of the General Public License.  Of course, the commands you use may\nbe called something other than `show w' and `show c'; they could even be\nmouse-clicks or menu items--whatever suits your program.\n\nYou should also get your employer (if you work as a programmer) or your\nschool, if any, to sign a \"copyright disclaimer\" for the program, if\nnecessary.  Here is a sample; alter the names:\n\n  Yoyodyne, Inc., hereby disclaims all copyright interest in the program\n  `Gnomovision' (which makes passes at compilers) written by James Hacker.\n\n  <signature of Ty Coon>, 1 April 1989\n  Ty Coon, President of Vice\n\nThis General Public License does not permit incorporating your program into\nproprietary programs.  If your program is a subroutine library, you may\nconsider it more useful to permit linking proprietary applications with the\nlibrary.  If this is what you want to do, use the GNU Library General\nPublic License instead of this License.\n"
        },
        {
          "name": "INSTALL.md",
          "type": "blob",
          "size": 12.552734375,
          "content": "# Building Wesnoth from Source\n\n## Prerequisites\n\nWesnoth requires a compiler with sufficient C++17 support such as GCC 11 and\nlater, or a version of Clang with equivalent support.\n\nYou'll need to have these libraries and their development headers installed in\norder to build Wesnoth:\n\n * Boost libraries             >= 1.66.0\n     Most headers plus the following binary libs:\n   * Filesystem\n   * Locale\n   * Iostreams\n   * Random\n   * Regex\n   * Program Options\n   * System\n   * Coroutine\n   * Graph\n   * Charconv (This requires boost 1.85 or higher and is optional but reccomended especially for clang builds)\n * SDL2 libraries:\n   * SDL2                      >= 2.0.18 (macOS: 2.0.22 due to needing https://github.com/libsdl-org/SDL/commit/3bebdaccb7bff8c40438856081d404a7ce3def30)\n   * SDL2_image                >= 2.0.2 (with PNG, JPEG, and WEBP support)\n   * SDL2_mixer                >= 2.0.0 (with Ogg Vorbis support)\n * Fontconfig                  >= 2.4.1\n * Cairo                       >= 1.10.0\n * Pango                       >= 1.44.0 (with Cairo backend)\n * Vorbisfile aka libvorbis\n * libbz2\n * libz\n * libssl\n * libcrypto (from OpenSSL)\n * libcurl4 (OpenSSL version)\n\nThe following libraries are optional dependencies that enable additional\nfeatures:\n\n * D-Bus (libdbus-1):\n   Desktop notifications on Linux, *BSD, etc.\n\n * GNU history (libreadline):\n   Command history and history expansion in the built-in Lua console.\n\n\n## Build Environment\n\nYou can obtain the source code tarball for the latest version from\n<https://www.wesnoth.org/downloads>.\n\nBefore building, make sure to untar the package and change into the newly\ncreated directory:\n\n    $ tar xvjf wesnoth-<version>.tar.bz2\n    $ cd wesnoth-<version>\n\nAlternatively, you can clone this git repository. Since Wesnoth uses submodules, when cloning you must add the `--recurse-submodules` option, or if you have already cloned the repository without using that option then you must run the command `git submodule update --init --recursive`.\n\nThe following build systems are fully supported for compiling Wesnoth on Linux,\n*BSD, and other Unix-like platforms:\n\n * SCons >= 0.98.3\n * CMake >= 3.14\n\nYou will also need to have a working installation of GNU gettext to build the\ntranslations.\n\nWhile Wesnoth may be easily installed system-wide using SCons or CMake, it is\nalso possible to run it directly from the source directory after building. This\nmay be useful in situations where you don't have root access or need to\nrebuild Wesnoth frequently (i.e. for development and testing).\n\n### macOS/OS X\nSee [here](https://github.com/wesnoth/wesnoth/blob/master/projectfiles/Xcode/README.md) for instructions on using Xcode.\n\n### Windows\nWesnoth uses CMake for project configuration and vcpkg for installing dependencies. See [here](https://docs.microsoft.com/en-us/cpp/build/cmake-projects-in-visual-studio) for information on using Visual Studio with cmake. The first time it's run, vcpkg will build all the required dependencies which may take over an hour, however it will only need to be done once.\n\nNOTE 1: You will need to run `vcpkg integrate install` on the command line to make Visual Studio aware of vcpkg. If Visual Studio is open when this is executed, then you will need to close and re-open Visual Studio.\n\n## SCons Build\n\nUnlike CMake or the classic \"autotools\" build-system (configure && make),\nconfiguration and building are done in the same step with SCons.\n\nSimply type `scons` in the top-level directory to build the game client and\nMP server:\n\n    $ scons\n\nIt is possible to select individual targets to build by naming them in the\ncommand line separated by spaces.\n\nTo build the game client only:\n\n    $ scons wesnoth\n\nBuilding the MP server only:\n\n    $ scons wesnothd\n\nThe `install` target will install any binaries that were previously compiled\n(use su or sudo if necessary to write files into the installation prefix):\n\n    $ scons install\n\nSCons takes a `prefix=` argument that specifies where to install the game and\nits resource files. The prefix defaults to `/usr/local`; for production builds,\nyou may wish to use `/usr` instead:\n\n    $ scons prefix=/usr\n\n\n## CMake Build\n\nUnlike SCons, CMake has separate configuration and build steps. Configuration\nis done using CMake itself, and the actual build is done using `make`.\n\nThere are two ways to build Wesnoth with CMake: inside the source tree or\noutside of it. Out-of-source builds have the advantage that you can have\nmultiple builds with different options from one source directory.\n\nTo build Wesnoth out of source:\n\n    $ mkdir build && cd build\n    $ cmake .. -DCMAKE_BUILD_TYPE=Release\n    $ make\n\nTo build Wesnoth in the source directory:\n\n    $ cmake . -DCMAKE_BUILD_TYPE=Release\n    $ make\n\nTo install Wesnoth after building (as root using su or sudo if necessary):\n\n    # make install\n\nTo change build options, you can either pass the options on the command line:\n\n    $ cmake .. -DOPTION_NAME=option_value\n\nOr use either the `ccmake` or `cmake-gui` front-ends, which display all options\nand their cached values on a console and graphical UI, respectively.\n\n    $ ccmake ..\n    $ cmake-gui ..\n\n\n## Build Options\n\nA full list of options supported by SCons along with their descriptions and\ndefaults is available by running `scons --help` from the Wesnoth source. For\nCMake, you may either run the `ccmake` or `cmake-gui` front-ends, or run\n`cmake` and open the generated CMakeCache.txt from the build directory in a\ntext editor.\n\n    $ scons option_name1=option_value1 [option_name2=option_value2 [...]]\n    $ cmake -DOPTION_NAME1=option_value1 [-DOPTION_NAME2=option_value2 [...]]\n\nWith SCons, boolean options take `yes` or `true` for a true value, and `no` or\n`false` for a false value. CMake uses `ON` for a true value, and `OFF` for a\nfalse value.\n\n### Some of the most important options follow.\n\n| SCons                                                                  | CMake                                                              | Description                                                                                                                                                                                                                                                                                        |\n|------------------------------------------------------------------------|--------------------------------------------------------------------| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| `build=<build type>`                                                   | `CMAKE_BUILD_TYPE=<build type>`                                    | Selects a specific build configuration when compiling. `release`  produces the default, optimized (-O3) build for regular use. `debug`  produces a slower and larger unoptimized (-O0) build with full debug symbols, which is often needed for obtaining detailed backtraces when reporting bugs. |\n| `wesnoth`                                                              | `ENABLE_GAME=<boolean>`                                            | Whether to build the game client binary. To disable just don't mention the target for SCons.                                                                                                                                                                                                       |\n| `wesnothd`                                                             | `ENABLE_SERVER=<boolean>`                                          | Whether to build the MP server binary. To disable just don't mention the target for SCons.                                                                                                                                                                                                         |\n| `prefix=<full path>`                                                   | `CMAKE_INSTALL_PREFIX=<full path>`                                 | Installation prefix for binaries, resources, and documentation files.                                                                                                                                                                                                                              |\n| `nls=<boolean>`                                                        | `ENABLE_NLS=<boolean>`                                             | Whether to compile and install translations.                                                                                                                                                                                                                                                       |\n| `strict=<boolean>`                                                     | `ENABLE_STRICT_COMPILATION=<boolean>`                              | Whether to treat compiler warnings as errors or not. Primarily intended for developers.                                                                                                                                                                                                            |\n| `prefsdir=<directory name>`                                            | `PREFERENCES_DIR=<directory name>`                                 | Hardcoded user preferences and user data directory. The default is to leave this unspecified so that Wesnoth will use separate XDG paths such as .config/wesnoth and .local/share/wesnoth/<version>  for its user preferences and data, respectively.                                              |\n| `cxxtool=<program>`                                                    | `CMAKE_CXX_COMPILER=<program>`                                     | Specifies which C++ compiler to use. By default, the system's default C++ compiler will be automatically selected during configuration.                                                                                                                                                            |\n| `ccache=<boolean>`                                                     | `CMAKE_CXX_COMPILER_LAUNCHER=ccache`                               | Whether to run the compiler through ccache first. Useful if the compiler executable is not a symbolic link to ccache. Requires ccache to be installed first.  If using CMake, use CMAKE_C_COMPILER and CMAKE_CXX_COMPILER instead.                                                                 |\n| `extra_flags_<buildtype>=<flags>` `extra_flags_config=<flags>`         | `CXX_FLAGS_USER=<flags>`                                           | Additional compiler flags to use when compiling a specific build type (SCons-only). To apply the same flags to all builds, use extra_flags_config (SCons) or CXX_FLAGS_USER (CMake) without a build type suffix.  Alternatively, you may specify your flags in the CXXFLAGS environment variable.  |\n| `fifodir=<full path>` `server_uid=<UID>` `server_gid=<GID>`            | `FIFO_DIR=<full path>` `SERVER_UID=<UID>` `SERVER_GID=<GID>`       | Directory and owner id for the wesnothd control FIFO file. This is relevant only if you wish to be able to communicate with a local wesnothd instance through a named pipe. You must run wesnothd with the same UID specified at build time for this to work.                                      |\n| `enable_lto=<boolean>`                                                 | `ENABLE_LTO=<boolean>`                                             | Controls using Link Time Optimization. Enabling will result in a smaller, faster executable at the cost of increased time to compile and link. For cmake, use LTO_JOBS=N tells how many threads to use during linking.                                                                             |\n| `--debug=time`                                                         | `VERBOSE=1` (make option)                                          | Enables some additional output while building.                                                                                                                                                                                                                                                     |\n| `jobs=N`                                                               | `-jN` (make option)                                                | Enables compiling with multiple threads, where N is the number of threads to use.                                                                                                                                                                                                                  |\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 5.06640625,
          "content": "[![License: GPL v2](https://img.shields.io/badge/License-GPL%20v2-blue.svg)](https://www.gnu.org/licenses/old-licenses/gpl-2.0.en.html)\n\n|Branch|CI status|\n|------|---------|\n|Master|[![CI](https://github.com/wesnoth/wesnoth/actions/workflows/ci-main.yml/badge.svg)](https://github.com/wesnoth/wesnoth/actions/workflows/ci-main.yml?query=branch%3Amaster)|\n|1.18|[![CI](https://github.com/wesnoth/wesnoth/actions/workflows/ci-main.yml/badge.svg?branch=1.18)](https://github.com/wesnoth/wesnoth/actions/workflows/ci-main.yml?query=branch%3A1.18)|\n\nAbout\n=====\n\n**The Battle for Wesnoth** is an Open Source, turn-based tactical strategy game with a high fantasy theme, featuring both singleplayer and online/hotseat multiplayer combat. Fight a desperate battle to reclaim the throne of Wesnoth, search for the key to immortality, or take part in any number of other adventures.\n\nCommunity\n---------\n\nThe official Battle for Wesnoth Forums:\n  <https://forums.wesnoth.org/>\n\nDiscord:\n  <https://discord.gg/battleforwesnoth>\n\nIRC:\n  <https://wiki.wesnoth.org/Support#IRC>\n\nMastodon:\n  <https://fosstodon.org/@wesnoth>\n\nSteam forums:\n  <https://steamcommunity.com/app/599390/discussions/>\n\nFeatures\n--------\n\n* A variety of different campaigns, each with their own tactical challenges, emotionally charged story, and multiple difficulty levels.\n* A detailed world and storytelling with hundreds of sprites, animations, and characters.\n* Many different unit skills and traits across several factions.\n* A map editor with multiple tools, hundreds types of terrain, and the ability for you to save and share maps with others. Create your own scenarios/battles for near infinite replayability.\n* Highly moddable, allowing a wide array of community created map packs, eras, and entire campaigns.\n* Online and local multiplayer gameplay to play with friends, strangers, or against the AI.\n* Changeable settings for base gameplay, with nearly limitless options for different hotkey configurations.\n* Beautifully composed playlist that captures the era and grandiosity of this lore-filled high-fantasy world.\n\nInstalling\n----------\n\nWesnoth can be played on Windows, macOS, and Linux, and can be installed using:\n* [Steam](https://store.steampowered.com/app/599390/Battle_for_Wesnoth/) (all)\n* [itch.io](https://wesnoth.itch.io/battle-for-wesnoth) (Windows and macOS)\n* The [macOS App Store](https://apps.apple.com/us/app/the-battle-for-wesnoth/id1450738104)\n* standalone installers on [SourceForge](https://sourceforge.net/projects/wesnoth/files/) (Windows and macOS)\n* [Flatpak](https://flathub.org/apps/details/org.wesnoth.Wesnoth) (Linux)\n\nAdditionally, Wesnoth is available for [iOS](https://apps.apple.com/us/app/battle-for-wesnoth/id575852062) and [Android](https://sourceforge.net/projects/wesnoth-on-android/files/).\n\nTo build the game from source, see [INSTALL](/INSTALL.md) for instructions.\n\nContributing\n------------\n\nWesnoth is most in need of skilled C++ developers (C++14 and later), however there are things that nearly anyone can help with:\n* Simple tasks in C++. \n* The Lua and WML used for content scripting. \n* Python used by various external tools.\n* Even play testing and giving feedback on updated campaigns! \n\nAdditionally, Wesnoth lacks art for a variety of unit animations - anyone who would be interested in lending a hand in updating existing unit sprites or creating animations should take a look at the [Art Contributions](https://forums.wesnoth.org/viewforum.php?f=9) forum as well as contact our current art director.\n\nSee also: [CONTRIBUTING](/CONTRIBUTING.md)\n\nFor any questions, the best place to start is to simply join Wesnoth's forums, Discord, or IRC and start asking!\n\n\nDonations\n---------\n\nDonations can be sent via [Software in the Public Interest](https://www.spi-inc.org/projects/wesnoth/), [Liberapay](https://liberapay.com/Wesnoth), as well as when downloading through itch.io. All money donated is used to pay for project expenses such as server rent and art commissions, and is very much appreciated.\n\n\nLicense\n-------\n\nAll source code is licensed under the GNU GPL v2+. Most art and music is also licensed under the GNU GPL v2+, however new contributions are now licensed under the Creative Commons BY-SA v4.0. For more detailed information on Wesnoth's licensing, see the wiki:\n\n  <https://wiki.wesnoth.org/Wesnoth:Copyrights>\n\n\nMore Information\n----------------\n\nFor extensive documentation about all aspects of the game, see the official Battle for Wesnoth web site:\n\n  <https://www.wesnoth.org/>\n  <https://wiki.wesnoth.org/>\n\nA (translated) description of how to play the game can be found in doc/manual/manual.*.html, or online at:\n\n  <https://wiki.wesnoth.org/WesnothManual>\n\nFor information on creating your own maps, scenarios, and other content, see:\n\n  <https://wiki.wesnoth.org/Create>\n\nGallery\n-------\n\n![screenshot_main_menu](https://www.wesnoth.org/images/sshots/wesnoth-1.16.0-1.jpg)\n![scrreenshot_isars_cross](https://www.wesnoth.org/images/sshots/wesnoth-1.16.0-2.jpg)\n![screenshot_campaign_menu](https://www.wesnoth.org/images/sshots/wesnoth-1.16.0-5.jpg)\n![screenshot_map](https://www.wesnoth.org/images/sshots/wesnoth-1.16.0-8.jpg)\n"
        },
        {
          "name": "SConstruct",
          "type": "blob",
          "size": 39.8291015625,
          "content": "# vi: syntax=python:et:ts=4\n#\n# SCons build description for the Wesnoth project\n#\n# Prerequisites are:\n# 1. autorevision for getting the repository revision level.\n# 2. msgfmt(1) for making builds with i18n support.\n# 3. graph-includes for making the project dependency graph.\n\nEnsureSConsVersion(0,98,3)\n\nlua_ver = \"5.4\"\n\nimport os, sys, shutil, re, subprocess\nfrom glob import glob\nfrom subprocess import Popen, PIPE, call, check_output\nfrom os import access, F_OK\n\n# Warn user of current set of build options.\nAddOption('--option-cache', dest='option_cache', nargs=1, type = 'string', action = 'store', metavar = 'FILE', help='file with cached construction variables', default = '.scons-option-cache')\nif GetOption(\"option_cache\") != \"\" and os.path.exists(GetOption(\"option_cache\")):\n    optfile = open(GetOption(\"option_cache\"))\n    print(\"Saved options: {}\".format(optfile.read().replace(\"\\n\", \", \")[:-2]))\n    optfile.close()\n\n#\n# Get the Wesnoth version number\n#\n\nconfig_h_re = re.compile(r\"^.*#define\\s*(\\S*)\\s*\\\"(\\S*)\\\".*$\", re.MULTILINE)\nbuild_config = dict( config_h_re.findall(File(\"src/wesconfig.h\").get_contents().decode(\"utf-8\")) )\ntry:\n    version = build_config[\"VERSION\"]\n    print(\"Building Wesnoth version %s\" % version)\nexcept KeyError:\n    print(\"Couldn't determine the Wesnoth version number, bailing out!\")\n    sys.exit(1)\n\n#\n# Build-control options\n#\n\nopts = Variables(GetOption(\"option_cache\"))\n\ndef OptionalPath(key, val, env):\n    if val:\n        PathVariable.PathIsDir(key, val, env)\n\nopts.AddVariables(\n    ListVariable('default_targets', 'Targets that will be built if no target is specified in command line.',\n        \"wesnoth,wesnothd\", Split(\"wesnoth wesnothd campaignd boost_unit_tests\")),\n    EnumVariable('build', 'Build variant: release, debug, or profile', \"release\", [\"release\", \"debug\"]),\n    PathVariable('build_dir', 'Build all intermediate files(objects, test programs, etc) under this dir', \"build\", PathVariable.PathAccept),\n    ('extra_flags_config', \"Extra compiler and linker flags to use for configuration and all builds. Whether they're compiler or linker is determined by env.ParseFlags. Unknown flags are compile flags by default. This applies to all extra_flags_* variables\", \"\"),\n    ('extra_flags_release', 'Extra compiler and linker flags to use for release builds', \"\"),\n    ('extra_flags_debug', 'Extra compiler and linker flags to use for debug builds', \"\"),\n    ('extra_flags_profile', 'Extra compiler and linker flags to use for profile builds', \"\"),\n    BoolVariable('enable_lto', 'Whether to enable Link Time Optimization for build=release', False),\n    ('arch', 'What -march option to use for build=release, will default to pentiumpro on Windows', \"\"),\n    ('opt', 'override for the build\\'s optimization level', \"\"),\n    BoolVariable('harden', 'Whether to enable options to harden the executables', True),\n    BoolVariable('glibcxx_assertions', 'Whether to define _GLIBCXX_ASSERTIONS for build=debug', False),\n    BoolVariable('glibcxx_debug', \"Whether to define _GLIBCXX_DEBUG and _GLIBCXX_DEBUG_PEDANTIC for build=debug. Requires a version of Boost's program_options that's compiled with __GLIBCXX_DEBUG too.\", False),\n    EnumVariable('profiler', 'profiler to be used', \"\", [\"\", \"gprof\", \"gcov\", \"gperftools\", \"perf\"]),\n    EnumVariable('pgo_data', 'whether to generate profiling data for PGO, or use existing profiling data', \"\", [\"\", \"generate\", \"use\"]),\n    BoolVariable('use_srcdir', 'Whether to place object files in src/ or not', False),\n    PathVariable('bindir', 'Where to install binaries', \"bin\", PathVariable.PathAccept),\n    ('cachedir', 'Directory that contains a cache of derived files.', ''),\n    PathVariable('datadir', 'read-only architecture-independent game data', \"$datarootdir/$datadirname\", PathVariable.PathAccept),\n    PathVariable('fifodir', 'directory for the wesnothd fifo socket file', \"/var/run/wesnothd\", PathVariable.PathAccept),\n    BoolVariable('desktop_entry','Clear to disable desktop-entry', True),\n    BoolVariable('appdata_file','Clear to not install appdata file', True),\n    BoolVariable('systemd','Install systemd unit file for wesnothd', bool(WhereIs(\"systemctl\"))),\n    PathVariable('datarootdir', 'sets the root of data directories to a non-default location', \"share\", PathVariable.PathAccept),\n    PathVariable('datadirname', 'sets the name of data directory', \"wesnoth$version_suffix\", PathVariable.PathAccept),\n    PathVariable('desktopdir', 'sets the desktop entry directory to a non-default location', \"$datarootdir/applications\", PathVariable.PathAccept),\n    PathVariable('icondir', 'sets the icons directory to a non-default location', \"$datarootdir/icons\", PathVariable.PathAccept),\n    PathVariable('appdatadir', 'sets the appdata directory to a non-default location', \"$datarootdir/metainfo\", PathVariable.PathAccept),\n    BoolVariable('internal_data', 'Set to put data in Mac OS X application fork', False),\n    PathVariable('localedirname', 'sets the locale data directory to a non-default location', \"translations\", PathVariable.PathAccept),\n    PathVariable('mandir', 'sets the man pages directory to a non-default location', \"$datarootdir/man\", PathVariable.PathAccept),\n    PathVariable('docdir', 'sets the doc directory to a non-default location', \"$datarootdir/doc/wesnoth\", PathVariable.PathAccept),\n    PathVariable('python_site_packages_dir', 'sets the directory where python modules are installed', \"lib/python/site-packages/wesnoth\", PathVariable.PathAccept),\n    BoolVariable('notifications', 'Enable support for desktop notifications', True),\n    BoolVariable('nls','enable compile/install of gettext message catalogs',True),\n    PathVariable('prefix', 'autotools-style installation prefix', \"/usr/local\", PathVariable.PathAccept),\n    PathVariable('prefsdir', 'user preferences directory', \"\", PathVariable.PathAccept),\n    PathVariable('default_prefs_file', 'default preferences file name', \"\", PathVariable.PathAccept),\n    PathVariable('destdir', 'prefix to add to all installation paths.', \"/\", PathVariable.PathAccept),\n    BoolVariable('prereqs','abort if prerequisites cannot be detected',True),\n    ('program_suffix', 'suffix to append to names of installed programs',\"$version_suffix\"),\n    ('version_suffix', 'suffix that will be added to default values of prefsdir, program_suffix and datadirname', \"\"),\n    BoolVariable('forum_user_handler', 'Enable forum user handler in wesnothd and campaignd', False),\n    ('server_gid', 'group id of the user who runs wesnothd', \"\"),\n    ('server_uid', 'user id of the user who runs wesnothd', \"\"),\n    BoolVariable('strict', 'Set to strict compilation', False),\n    BoolVariable('pedantic', 'Set to pedantic compilation', False),\n    BoolVariable('static_test', 'Staticaly build against boost test (Not supported yet)', False),\n    BoolVariable('verbose', 'Emit progress messages during data installation.', False),\n    PathVariable('sdldir', 'Directory of SDL installation.', \"\", OptionalPath),\n    PathVariable('boostdir', 'Directory of boost installation.', \"\", OptionalPath),\n    PathVariable('boostlibdir', 'Directory where boost libraries are installed.', \"\", OptionalPath),\n    ('boost_suffix', 'Suffix of boost libraries.'),\n    PathVariable('gettextdir', 'Root directory of Gettext\\'s installation.', \"\", OptionalPath),\n    PathVariable('gtkdir', 'Directory where GTK SDK is installed.', \"\", OptionalPath),\n    BoolVariable('system_lua', 'Enable use of system Lua ' + lua_ver + ' (compiled as C++, only for non-Windows systems).', False),\n    PathVariable('luadir', 'Directory where Lua binary package is unpacked.', \"\", OptionalPath),\n    ('host', 'Cross-compile host.', ''),\n    EnumVariable('multilib_arch', 'Address model for multilib compiler: 32-bit or 64-bit', \"\", [\"\", \"32\", \"64\"]),\n    ('jobs', 'Set the number of parallel compilations', \"1\", lambda key, value, env: int(value), int),\n    BoolVariable('distcc', 'Use distcc', False),\n    BoolVariable('ccache', \"Use ccache\", False),\n    ('ctool', 'Set c compiler command if not using standard compiler.'),\n    ('cxxtool', 'Set c++ compiler command if not using standard compiler.'),\n    EnumVariable('cxx_std', 'Target c++ std version', '17', ['17', '20']),\n    ('sanitize', 'Enable clang and GCC sanitizer functionality. A comma separated list of sanitize suboptions must be passed as value.', ''),\n    BoolVariable(\"fast\", \"Make scons faster at cost of less precise dependency tracking.\", False),\n    BoolVariable(\"autorevision\", 'Use autorevision tool to fetch current git revision that will be embedded in version string', True),\n    BoolVariable(\"lockfile\", \"Create a lockfile to prevent multiple instances of scons from being run at the same time on this working copy.\", False),\n    BoolVariable(\"OS_ENV\", \"Forward the entire OS environment to scons\", False),\n    BoolVariable(\"history\", \"Clear to disable GNU history support in lua console\", True),\n    BoolVariable('force_color', 'Always produce ANSI-colored output (GNU/Clang only).', False),\n    BoolVariable('compile_db', 'Produce a compile_commands.json file.', False),\n    )\n\n#\n# Setup\n#\n\ntoolpath = [\"scons\"]\nfor repo in Dir(\".\").repositories:\n  # SCons repositories are additional dirs to look for source and lib files.\n  # It is possible to make out of tree builds by running SCons outside of this\n  # source code root and supplying this path with -Y option.\n  toolpath.append(repo.abspath + \"/scons\")\nsys.path = toolpath + sys.path\nenv = Environment(tools=[\"tar\", \"gettext_tool\", \"install\", \"scanreplace\"], options = opts, toolpath = toolpath)\n\nif env[\"lockfile\"]:\n    print(\"Creating lockfile\")\n    lockfile = os.path.abspath(\"scons.lock\")\n    if sys.version_info.major >= 3:\n        create = \"x\"\n    else:\n        create = \"wx\"\n    open(lockfile, create).write(str(os.getpid()))\n    import atexit\n    atexit.register(os.remove, lockfile)\n\nif GetOption(\"option_cache\") != \"\":\n    opts.Save(GetOption(\"option_cache\"), env)\nenv.SConsignFile(\"$build_dir/sconsign.dblite\")\n\n# If OS_ENV was enabled, copy the entire OS environment.\nif env['OS_ENV']:\n    env['ENV'] = os.environ\n\n# Make sure the user's environment is always available\nenv['ENV']['PATH'] = os.environ.get(\"PATH\")\nterm = os.environ.get('TERM')\nif term is not None:\n    env['ENV']['TERM'] = term\n\nif env[\"PLATFORM\"] == \"win32\":\n    env.Tool(\"mingw\")\nelse:\n    from cross_compile import *\n    setup_cross_compile(env)\n\nif sys.platform != 'win32':\n    env.Tool(\"system_include\")\n\nif 'HOME' in os.environ:\n    env['ENV']['HOME'] = os.environ['HOME']\n\nif env.get('ctool',\"\"):\n    env['CC'] = env['ctool']\n    env['CXX'] = env['ctool'].rstrip(\"cc\") + \"++\"\n\nif env.get('cxxtool',\"\"):\n    env['CXX'] = env['cxxtool']\n\nif env['jobs'] > 1:\n    SetOption(\"num_jobs\", env['jobs'])\nelse:\n    env['jobs'] = 1\n\nif env['distcc']:\n    env.Tool('distcc')\n\nif env['ccache']: env.Tool('ccache')\n\nif env['compile_db']:\n    env.Tool('compilation_db')\n    cdb = env.CompilationDatabase()\n    Alias('cdb', cdb)\n\nboost_version = \"1.67\"\n\ndef SortHelpText(a, b):\n    return (a > b) - (a < b)\n\nHelp(\"\"\"Arguments may be a mixture of switches and targets in any order.\nSwitches apply to the entire build regardless of where they are in the order.\nImportant switches include:\n\n    prefix=/usr     probably what you want for production tools\n    use_srcdir=yes  build directly in the distribution root;\n                    you'll need this if you're trying to use Emacs compile mode.\n    build=release   build the release build variant with appropriate flags\n                        in build/release and copy resulting binaries\n                        into distribution/working copy root.\n    build=debug     same for debug build variant\n    build=profile   build with instrumentation for a supported profiler\n\nWith no arguments, the recipe builds wesnoth and wesnothd.  Available\nbuild targets include the individual binaries:\n\n    wesnoth wesnothd campaignd boost_unit_tests\n\nYou can make the following special build targets:\n\n    all = wesnoth wesnothd campaignd boost_unit_tests (*).\n    TAGS = build tags for Emacs (*).\n    wesnoth-deps.png = project dependency graph\n    install = install all executables that currently exist, and any data needed\n    install-wesnothd = install the Wesnoth multiplayer server.\n    install-campaignd = install the Wesnoth campaign server.\n    install-pytools = install all Python tools and modules\n    uninstall = uninstall all executables, tools, modules, and servers.\n    pot-update = generate gettext message catalog templates and merge them with localized message catalogs\n    update-po = merge message catalog templates with localized message catalogs for particular lingua\n    update-po4a = update translations of manual and manpages\n    af bg ca ... = linguas for update-po\n    translations = build all translations\n    dist = make distribution tarball as wesnoth.tar.bz2 (*).\n    data-dist = make data tarball as wesnoth-data.tar.bz2 (*).\n    binary-dist = make data tarball as wesnoth-binaries.tar.bz2 (*).\n    wesnoth-bundle = make Mac OS application bundle from game (*)\n    windows-installer = create Windows distribution with NSIS (*)\n    sanity-check = run a pre-release sanity check on the distribution.\n    manual = regenerate English-language manual and, possibly, localized manuals if appropriate xmls exist.\n\nFiles made by targets marked with '(*)' are cleaned by 'scons -c all'\n\nOptions are cached in a file named .scons-option-cache and persist to later\ninvocations.  The file is editable.  Delete it to start fresh. You can also use a different file by\nspecifying --option-cache=FILE command line argument. Current option values can be listed with 'scons -h'.\n\nIf you set CXXFLAGS and/or LDFLAGS in the environment, the values will\nbe appended to the appropriate variables within scons.\n\"\"\" + opts.GenerateHelpText(env, sort=SortHelpText))\n\nif GetOption(\"help\"):\n    Return()\n\nif env[\"cachedir\"] and not env['ccache']:\n    CacheDir(env[\"cachedir\"])\n\nif env[\"fast\"]:\n    env.Decider('MD5-timestamp')\n    SetOption('max_drift', 1)\n    SetOption('implicit_cache', 1)\n\nif not os.path.isabs(env[\"prefix\"]):\n    print(\"Warning: prefix is set to relative dir. destdir setting will be ignored.\")\n    env[\"destdir\"] = \"\"\n\n#\n# work around long command line problem on windows\n# see http://www.scons.org/wiki/LongCmdLinesOnWin32\n#\nif sys.platform == 'win32':\n    try:\n        import win32file\n        import win32event\n        import win32process\n        import win32security\n        import string\n\n        def my_spawn(sh, escape, cmd, args, spawnenv):\n            for var in spawnenv:\n                spawnenv[var] = spawnenv[var].encode('ascii', 'replace')\n\n            sAttrs = win32security.SECURITY_ATTRIBUTES()\n            StartupInfo = win32process.STARTUPINFO()\n            newargs = ' '.join(map(escape, args[1:]))\n            cmdline = cmd + \" \" + newargs\n\n            # check for any special operating system commands\n            if cmd == 'del':\n                for arg in args[1:]:\n                    win32file.DeleteFile(arg)\n                exit_code = 0\n            else:\n                # otherwise execute the command.\n                hProcess, hThread, dwPid, dwTid = win32process.CreateProcess(None, cmdline, None, None, 1, 0, spawnenv, None, StartupInfo)\n                win32event.WaitForSingleObject(hProcess, win32event.INFINITE)\n                exit_code = win32process.GetExitCodeProcess(hProcess)\n                win32file.CloseHandle(hProcess)\n                win32file.CloseHandle(hThread)\n            return exit_code\n\n        env['SPAWN'] = my_spawn\n    except ImportError:\n        def subprocess_spawn(sh, escape, cmd, args, env):\n            return call(' '.join(args))\n        env['SPAWN'] = subprocess_spawn\n\n#\n# Check some preconditions\n#\nprint(\"---[checking prerequisites]---\")\n\ndef Info(message):\n    print(\"INFO: \" + message)\n    return True\n\ndef Warning(message):\n    print(\"WARNING: \" + message)\n    return False\n\nfrom metasconf import init_metasconf\nconfigure_args = dict(\n    custom_tests = init_metasconf(env, [\"cplusplus\", \"sdl\", \"boost\", \"cairo\", \"pango\", \"pkgconfig\", \"gettext_tool\", \"lua\"]),\n    config_h = \"$build_dir/config.h\",\n    log_file=\"$build_dir/config.log\", conf_dir=\"$build_dir/sconf_temp\")\n\nenv.MergeFlags(env[\"extra_flags_config\"])\n\nif env[\"multilib_arch\"]:\n    multilib_flag = \"-m\" + env[\"multilib_arch\"]\n    env.AppendUnique(CCFLAGS = [multilib_flag], LINKFLAGS = [multilib_flag])\n\n# Some tests need to load parts of boost\nenv.PrependENVPath('LD_LIBRARY_PATH', env[\"boostlibdir\"])\n\n# Some tests require at least C++11\nif \"gcc\" in env[\"TOOLS\"]:\n    env.AppendUnique(CCFLAGS = Split(\"-Wall -Wextra\"))\n    env.AppendUnique(CXXFLAGS = Split(\"-Werror=non-virtual-dtor -std=c++\" + env[\"cxx_std\"]))\n\n    # GCC-13 added this new warning, and included it in -Wextra,\n    # however in GCC-13 it has a lot of false positives.\n    #\n    # It's likely to generate false postives with GCC-14 too, but\n    # I'm using a narrow version check as GCC-14 is still in dev.\n    # See https://gcc.gnu.org/bugzilla/show_bug.cgi?id=110075\n    if \"CXXVERSION\" in env and env[\"CXXVERSION\"].startswith(\"13.\"):\n      env.AppendUnique(CXXFLAGS = \"-Wno-dangling-reference\")\n\nif env[\"prereqs\"]:\n    conf = env.Configure(**configure_args)\n\n    if env[\"PLATFORM\"] == \"posix\":\n        if conf.CheckCHeader(\"sys/sendfile.h\", \"<>\"):\n            conf.CheckFunc(\"sendfile\")\n\n    def CheckAsio(conf):\n        if env[\"PLATFORM\"] == 'win32':\n            conf.env.Append(LIBS = [\"libws2_32\"])\n            have_libpthread = True\n        else:\n            have_libpthread = conf.CheckLib(\"pthread\")\n        return have_libpthread & \\\n            conf.CheckBoost(\"system\") & \\\n            conf.CheckBoost(\"asio\", header_only = True) & \\\n            conf.CheckBoost(\"context\") & \\\n            conf.CheckBoost(\"coroutine\")\n\n    def have_sdl_other():\n        return \\\n            conf.CheckSDL2('2.0.18') & \\\n            conf.CheckSDL2Mixer() & \\\n            conf.CheckSDL2Image()\n\n    if sys.platform == \"msys\":\n        env[\"PKG_CONFIG_FLAGS\"] = \"--dont-define-prefix\"\n\n    have_server_prereqs = (\\\n        conf.CheckCPlusPlus(gcc_version = \"8\") & \\\n        conf.CheckBoost(\"iostreams\", require_version = boost_version) & \\\n        conf.CheckBoostIostreamsGZip() & \\\n        conf.CheckBoostIostreamsBZip2() & \\\n        conf.CheckBoost(\"program_options\", require_version = boost_version) & \\\n        conf.CheckBoost(\"random\", require_version = boost_version) & \\\n        conf.CheckBoost(\"smart_ptr\", header_only = True) & \\\n        conf.CheckBoostCharconv() & \\\n\tCheckAsio(conf) & \\\n\tconf.CheckBoost(\"thread\") & \\\n        conf.CheckBoost(\"locale\") & \\\n        conf.CheckBoost(\"filesystem\") \\\n            and Info(\"Base prerequisites are met\")) \\\n            or Warning(\"Base prerequisites are not met\")\n    if(have_server_prereqs and not env[\"host\"]):\n        conf.CheckBoostLocaleBackends([\"icu\", \"winapi\"]) \\\n            or Warning(\"Only icu and winapi backends of Boost Locale are supported. Bugs/crashes are very likely with other backends\")\n\n    if env['harden']:\n        env[\"have_fortify\"] = conf.CheckFortifySource()\n\n    if(env[\"PLATFORM\"] != 'darwin'):\n        # Otherwise, use Security.framework\n        have_server_prereqs = have_server_prereqs & conf.CheckLib(\"libcrypto\") & conf.CheckLib(\"ssl\")\n\n    env = conf.Finish()\n\n    client_env = env.Clone()\n    conf = client_env.Configure(**configure_args)\n    have_client_prereqs = have_server_prereqs & have_sdl_other()\n    have_client_prereqs = have_client_prereqs & conf.CheckLib(\"vorbisfile\") & conf.CheckOgg()\n    have_client_prereqs = have_client_prereqs & conf.CheckPNG()\n    have_client_prereqs = have_client_prereqs & conf.CheckJPG()\n    have_client_prereqs = have_client_prereqs & conf.CheckWebP()\n    have_client_prereqs = have_client_prereqs & conf.CheckCairo(min_version = \"1.10\")\n    have_client_prereqs = have_client_prereqs & conf.CheckPango(\"cairo\", require_version = \"1.44.0\")\n    have_client_prereqs = have_client_prereqs & conf.CheckPKG(\"fontconfig\")\n    have_client_prereqs = have_client_prereqs & conf.CheckBoost(\"regex\")\n    have_client_prereqs = have_client_prereqs & conf.CheckLib(\"curl\")\n    have_client_prereqs = have_client_prereqs & conf.CheckBoost(\"graph\")\n\n    if env[\"system_lua\"]:\n        if env[\"PLATFORM\"] == 'win32':\n            Warning(\"System Lua cannot be used on Windows.\")\n        if not conf.CheckLua(lua_ver):\n            have_client_prereqs = False\n    else:\n        if not File(\"#/src/modules/lua/.git\").rfile().exists():\n            have_client_prereqs = False\n            Warning(\"Lua submodule does not exist. You must run 'git submodule update --init --recursive' to initialize it.\")\n        else:\n            print(\"Lua submodule found.\")\n\n    if not have_client_prereqs:\n        Warning(\"Client prerequisites are not met. wesnoth cannot be built.\")\n\n    have_X = False\n    if have_client_prereqs:\n        if env[\"PLATFORM\"] != \"win32\":\n            have_X = conf.CheckLib('X11')\n\n        env[\"notifications\"] = env[\"notifications\"] and conf.CheckPKG(\"dbus-1\")\n        env[\"history\"] = env[\"history\"] and (conf.CheckLib(\"history\") or Warning(\"Can't find GNU history, disabling history support.\"))\n\n    client_env = conf.Finish()\n\n# We set those outside of Configure() section because SCons doesn't merge CPPPATH var properly in conf.Finish()\n    if env[\"notifications\"]:\n        client_env.Append(CPPDEFINES = [\"HAVE_LIBDBUS\"])\n    if env[\"history\"]:\n        client_env.Append(CPPDEFINES = [\"HAVE_HISTORY\"])\n\n    env.Append(CPPDEFINES = [\"BOOST_COROUTINES_NO_DEPRECATION_WARNING\"])\n\n    if env[\"forum_user_handler\"]:\n        found_connector = False\n        for sql_config in [\"mariadb_config\", \"mysql_config\"]:\n            try:\n                mysql_config = check_output([sql_config, \"--libs\", \"--cflags\"]).decode(\"utf-8\").replace(\"\\n\", \" \").replace(\"-DNDEBUG\", \"\")\n                mysql_flags = env.ParseFlags(mysql_config+\"-I\"+Dir(\"#/src/modules/mariadbpp/include/\").rdir().abspath)\n                env.Append(CPPDEFINES = [\"HAVE_MYSQLPP\"])\n                env.MergeFlags(mysql_flags)\n                found_connector = True\n                break\n            except OSError:\n                print(\"Failed to run script '%s'\" % sql_config)\n\n        if not found_connector:\n            Exit(\"Failed to find sql connector library but forum user handler support is requested.\")\n            have_server_prereqs = False\n\n    test_env = client_env.Clone()\n    conf = test_env.Configure(**configure_args)\n\n    have_test_prereqs = have_client_prereqs and conf.CheckBoost('unit_test_framework') \\\n                            or Warning(\"Unit tests are disabled because their prerequisites are not met\")\n    test_env = conf.Finish()\n    if not have_test_prereqs and \"boost_unit_tests\" in env[\"default_targets\"]:\n        env[\"default_targets\"].remove(\"boost_unit_tests\")\n\n    print(\"  \" + env.subst(\"If any config checks fail, look in $build_dir/config.log for details\"))\n    print(\"  If a check fails spuriously due to caching, use --config=force to force its rerun\")\n\nelse:\n    have_client_prereqs = True\n    have_X = False\n    if env[\"PLATFORM\"] != \"win32\":\n        have_X = True\n    have_server_prereqs = True\n    have_test_prereqs = True\n    test_env = env.Clone()\n    client_env = env.Clone()\n\n\nif not env[\"MSGFMT\"]:\n     env[\"nls\"] = False\n     print(\"NLS tools are not present...\")\nif not env['nls']:\n     print(\"NLS catalogue installation is disabled.\")\n\n#\n# Implement configuration switches\n#\nprint(\"---[applying configuration]---\")\n\nfor env in [test_env, client_env, env]:\n    build_root=\"#/\"\n    if os.path.isabs(env[\"build_dir\"]):\n        build_root = \"\"\n    env.Prepend(CPPPATH = [build_root + \"$build_dir\", \"#/src\"])\n    if env[\"system_lua\"]:\n        env.Append(CPPDEFINES = [\"HAVE_SYSTEM_LUA\"])\n\n    env.Append(CPPDEFINES = [\"HAVE_CONFIG_H\"])\n\n    if \"clang\" in env[\"CXX\"]:\n# Silence warnings about unused -I options and unknown warning switches.\n        env.AppendUnique(CCFLAGS = Split(\"-Qunused-arguments -Wno-unknown-warning-option -Wmismatched-tags -Wno-conditional-uninitialized -Wno-unused-lambda-capture\"))\n\n        if env['pedantic']:\n            env.AppendUnique(CXXFLAGS = Split(\"-Wdocumentation -Wno-documentation-deprecated-sync\"))\n        if env['force_color']:\n            env.AppendUnique(CCFLAGS = [\"-fcolor-diagnostics\"])\n\n    if \"gcc\" in env[\"TOOLS\"]:\n        env.AppendUnique(CCFLAGS = Split(\"-Wno-unused-local-typedefs -Wno-maybe-uninitialized -Wtrampolines\"))\n        env.AppendUnique(CXXFLAGS = Split(\"-Wold-style-cast\"))\n\n        if env['strict']:\n            env.AppendUnique(CCFLAGS = Split(\"-Werror\"))\n        if env['pedantic']:\n            env.AppendUnique(CCFLAGS = Split(\"-Wlogical-op -Wmissing-declarations -Wredundant-decls -Wdouble-promotion\"))\n            env.AppendUnique(CXXFLAGS = Split(\"-Wctor-dtor-privacy -Wuseless-cast -Wnoexcept\"))\n        if env['sanitize']:\n            env.AppendUnique(CCFLAGS = [\"-fsanitize=\" + env[\"sanitize\"]], LINKFLAGS = [\"-fsanitize=\" + env[\"sanitize\"]])\n            env.AppendUnique(CCFLAGS = Split(\"-fno-omit-frame-pointer -fno-optimize-sibling-calls\"))\n        if env['force_color']:\n            env.AppendUnique(CCFLAGS = [\"-fdiagnostics-color=always\"])\n\n\n# #\n# Determine optimization level\n# #\n\n        if not env[\"opt\"]:\n            if env[\"build\"] == \"release\":\n                env[\"opt\"] = \"-O3 \"\n            elif env[\"profiler\"] == \"perf\":\n                env[\"opt\"] = \"-Og \"\n            else:\n                env[\"opt\"] = \"-O0 \"\n        else:\n            env[\"opt\"] = env[\"opt\"]+\" \"\n\n# #\n# Add options to provide more hardened executables\n# osx doesn't seem to support RELRO\n# windows' tdm-gcc doesn't seem to provide good support for the hardening options in general\n# #\n\n        if env['harden'] and env[\"PLATFORM\"] != 'win32':\n            env.AppendUnique(CCFLAGS = [\"-fPIE\", \"-fstack-protector-strong\"])\n            if not env.get(\"have_fortify\") and \"-O0\" not in env[\"opt\"]:\n                env.AppendUnique(CPPDEFINES = [\"_FORTIFY_SOURCE=2\"])\n\n            if env[\"enable_lto\"] == True:\n                env.AppendUnique(LINKFLAGS = [\"-fstack-protector-strong\"])\n\n            if env[\"PLATFORM\"] == 'darwin':\n                env.AppendUnique(LINKFLAGS = [\"-fPIE\", \"-Wl,-pie\"])\n            else:\n                env.AppendUnique(LINKFLAGS = [\"-fPIE\", \"-pie\", \"-Wl,-z,relro,-z,now\"])\n\n# #\n# Start determining options for debug build\n# #\n\n        debug_flags = env[\"opt\"]+\"-DDEBUG -ggdb3\"\n        if \"mingw\" in env[\"TOOLS\"]:\n            debug_flags += \" -Wa,-mbig-obj\"\n            debug_flags = Split(debug_flags)\n            debug_flags.append(\"${ '-O3' if TARGET.name == 'gettext.o' else '' }\") # workaround for \"File too big\" errors\n\n        glibcxx_debug_flags = \"\"\n        if env[\"glibcxx_assertions\"] == True:\n            glibcxx_debug_flags = \" \".join([glibcxx_debug_flags, \"_GLIBCXX_ASSERTIONS\"])\n        if env[\"glibcxx_debug\"] == True:\n            glibcxx_debug_flags = \" \".join([glibcxx_debug_flags, \"_GLIBCXX_DEBUG\", \"_GLIBCXX_DEBUG_PEDANTIC\"])\n\n# #\n# End determining options for debug build\n# Start setting options for release build\n# #\n\n# default compiler flags\n        rel_comp_flags = env[\"opt\"]\n        rel_link_flags = \"\"\n\n# #\n# Add flags if using profiling\n# #\n\n        if env[\"profiler\"] == \"gprof\":\n            rel_comp_flags += \" -pg\"\n            rel_link_flags += \" -pg\"\n\n        if env[\"profiler\"] == \"gcov\":\n            rel_comp_flags += \" --coverage\"\n            rel_link_flags += \" --coverage\"\n\n        if env[\"profiler\"] == \"gperftools\":\n            rel_comp_flags += \"\"\n            rel_link_flags += \" -Wl,--no-as-needed,-lprofiler\"\n\n        if env[\"profiler\"] == \"perf\":\n            rel_comp_flags += \" -ggdb -fno-omit-frame-pointer\"\n            rel_link_flags += \"\"\n\n# use the arch if provided, or if on Windows and no arch was passed in then default to pentiumpro\n# without setting to pentiumpro, compiling on Windows with 64-bit tdm-gcc and -O3 currently fails\n        if env[\"arch\"]:\n            env[\"arch\"] = \" -march=\" + env[\"arch\"]\n\n        if env[\"PLATFORM\"] == \"win32\" and not env[\"arch\"]:\n            env[\"arch\"] = \" -march=pentiumpro\"\n\n        rel_comp_flags += env[\"arch\"]\n\n# PGO and LTO setup\n        if \"gcc\" in env[\"CC\"]:\n            if env[\"pgo_data\"] == \"generate\":\n                rel_comp_flags += \" -fprofile-generate=pgo_data/\"\n                rel_link_flags += \" -fprofile-generate=pgo_data/\"\n\n            if env[\"pgo_data\"] == \"use\":\n                rel_comp_flags += \" -fprofile-correction -fprofile-use=pgo_data/\"\n                rel_link_flags += \" -fprofile-correction -fprofile-use=pgo_data/\"\n\n            if env[\"enable_lto\"] == True:\n                rel_comp_flags += \" -flto=\" + str(env[\"jobs\"])\n                rel_link_flags += rel_comp_flags + \" -fuse-ld=gold -Wno-stringop-overflow\"\n        elif \"clang\" in env[\"CXX\"]:\n            if env[\"pgo_data\"] == \"generate\":\n                rel_comp_flags += \" -fprofile-instr-generate=pgo_data/wesnoth-%p.profraw\"\n                rel_link_flags += \" -fprofile-instr-generate=pgo_data/wesnoth-%p.profraw\"\n\n            if env[\"pgo_data\"] == \"use\":\n                rel_comp_flags += \" -fprofile-instr-use=pgo_data/wesnoth.profdata\"\n                rel_link_flags += \" -fprofile-instr-use=pgo_data/wesnoth.profdata\"\n\n            if env[\"enable_lto\"] == True:\n                rel_comp_flags += \" -flto=thin\"\n                rel_link_flags += rel_comp_flags + \" -fuse-ld=lld\"\n\n# Enable ASLR and NX bit support on mingw\n        if \"mingw\" in env[\"TOOLS\"]:\n            rel_link_flags += \" -Wl,--dynamicbase -Wl,--nxcompat\"\n\n# #\n# End setting options for release build\n# #\n\n    if env['internal_data']:\n        env.Append(CPPDEFINES = \"USE_INTERNAL_DATA\")\n\n    if have_X:\n        env.Append(CPPDEFINES = \"_X11\")\n\n# Simulate autools-like behavior of prefix on various paths\n    installdirs = Split(\"bindir datadir fifodir icondir desktopdir appdatadir mandir docdir python_site_packages_dir\")\n    for d in installdirs:\n        env[d] = os.path.join(env[\"prefix\"], env[d])\n\n    if env[\"PLATFORM\"] == 'win32':\n        env.Append(LIBS = [\"wsock32\", \"crypt32\", \"iconv\", \"z\", \"shlwapi\", \"winmm\", \"ole32\", \"uuid\"], CCFLAGS = [\"-mthreads\"], LINKFLAGS = [\"-mthreads\"], CPPDEFINES = [\"_WIN32_WINNT=0x0A00\"])\n\n    if env[\"PLATFORM\"] == 'darwin':            # Mac OS X\n        env.Append(FRAMEWORKS = \"Cocoa\")            # Cocoa GUI\n        env.Append(FRAMEWORKS = \"Security\")         # commonCrypto (after OpenSSL replacement on Mac)\n        env.Append(FRAMEWORKS = \"IOKit\")            # IOKit\n        env.Append(FRAMEWORKS = \"CoreGraphics\")     # CoreGraphics\n\n    if env[\"PLATFORM\"] == 'sunos':\n        env.Append(LINKFLAGS = \"-lsocket\")\n\nif not env['static_test']:\n    test_env.Append(CPPDEFINES = \"BOOST_TEST_DYN_LINK\")\n\nif env['autorevision']:\n    try:\n        if call(env.subst(\"utils/autorevision.sh -t h > $build_dir/revision.h\"), shell=True) == 0:\n            env[\"have_autorevision\"] = True\n            if not call(env.subst(\"cmp -s $build_dir/revision.h src/revision.h\"), shell=True) == 0:\n                call(env.subst(\"cp $build_dir/revision.h src/revision.h\"), shell=True)\n    except:\n        pass\n\nExport(Split(\"env client_env test_env have_client_prereqs have_server_prereqs have_test_prereqs\"))\nSConscript(dirs = Split(\"po doc packaging/windows packaging/systemd\"))\n\nbinaries = Split(\"wesnoth wesnothd campaignd boost_unit_tests\")\nbuilds = {\n    \"release\" : dict(CCFLAGS = Split(rel_comp_flags) , LINKFLAGS  = Split(rel_link_flags)),\n    \"debug\"   : dict(CCFLAGS = Split(debug_flags)    , CPPDEFINES = Split(glibcxx_debug_flags))\n    }\nbuild = env[\"build\"]\n\nfor env in [test_env, client_env, env]:\n    env.AppendUnique(**builds[build])\n    env.Append(CXXFLAGS = Split(os.environ.get('CXXFLAGS', [])), LINKFLAGS = Split(os.environ.get('LDFLAGS', [])))\n    env.MergeFlags(env[\"extra_flags_\" + build])\n\nif env[\"use_srcdir\"] == True:\n    build_dir = \"\"\nelse:\n    build_dir = os.path.join(\"$build_dir\", build)\n\nenv.SConscript(\"src/SConscript\", variant_dir = build_dir, duplicate = False)\nImport(binaries + [\"sources\"])\nbinary_nodes = [eval(binary) for binary in binaries]\nall = env.Alias(\"all\", [Alias(binary) for binary in binaries])\nenv.Default([Alias(target) for target in env[\"default_targets\"]])\n\nif have_client_prereqs and env[\"nls\"]:\n    env.Requires(\"wesnoth\", Dir(\"translations\"))\n\n#\n# clean out any PGO-related files\n#\n\nenv.Clean(all, \"pgo_data/\")\n\n#\n# Utility productions (Unix-like systems only)\n#\n\n# Make a tags file for Emacs\n# Exuberant Ctags doesn't understand the -l c++ flag so if the etags fails try the ctags version\nenv.Command(\"TAGS\", sources, 'etags -l c++ $SOURCES.srcpath || (ctags --tag-relative=yes -f src/tags $SOURCES.srcpath)')\nenv.Clean(all, 'TAGS')\n\n#\n# Unix installation productions\n#\n# These will not be portable to Windows or Mac. They assume a Unix-like\n# directory structure and FreeDesktop standard locations for icon, app,\n# and doc files.\n#\n\nfor d in installdirs:\n    locals()[d] = os.path.join(env[\"destdir\"], env[d].lstrip(\"/\"))\ninstallable_subs = Split('data fonts images sounds')\nif os.path.isabs(env[\"localedirname\"]):\n    env[\"localedir\"] = env[\"localedirname\"]\nelse:\n    env[\"localedir\"] = \"$datadir/$localedirname\"\n\npythontools = Split(\"wmlscope wmllint wmlindent wesnoth_addon_manager\")\npythonmodules = Split(\"wmltools3.py wmlparser.py wmlparser3.py wmldata.py wmliterator3.py campaignserver_client.py __init__.py\")\n\ndef CopyFilter(fn):\n    \"Filter out data-tree things that shouldn't be installed.\"\n    return not \".git\" in str(fn) and not \"Makefile\" in str(fn)\n\nenv[\"copy_filter\"] = CopyFilter\n\ndef MoFileFilter(fn):\n    \"Don't install .mo files for manual and manpages. They're built only to catch broken po files\"\n    return not \"wesnoth-manual.mo\" in str(fn) and not \"wesnoth-manpages.mo\" in str(fn)\n\nlinguas = Split(File(\"po/LINGUAS\").get_contents().decode(\"utf-8\"))\n\ndef InstallManpages(env, component):\n    env.InstallData(\"mandir\", component, os.path.join(\"doc\", \"man\", component + \".6\"), \"man6\")\n    for lingua in linguas:\n        manpage = FindFile(os.path.join(lingua, component + \".6\"), \"doc/man\")\n        if manpage:\n            env.InstallData(\"mandir\", component, manpage, os.path.join(lingua, \"man6\"))\n\n# Now the actual installation productions\n\n# The game and associated resources\nenv.InstallBinary(wesnoth)\nenv.InstallData(\"datadir\", \"wesnoth\", [Dir(sub) for sub in installable_subs])\nenv.InstallData(\"docdir\",  \"wesnoth\", [Glob(\"doc/manual/*.html\"), Dir(\"doc/manual/styles\"), Dir(\"doc/manual/images\")])\nif env[\"nls\"]:\n    env.InstallData(\"localedir\", \"wesnoth\", Dir(\"translations\"), copy_filter = MoFileFilter)\nInstallManpages(env, \"wesnoth\")\nif have_client_prereqs and have_X and env[\"desktop_entry\"]:\n     env.InstallData(\"icondir\", \"wesnoth\", \"packaging/icons\")\n     env.InstallData(\"desktopdir\", \"wesnoth\", \"packaging/org.wesnoth.Wesnoth.desktop\")\nif have_client_prereqs and \"linux\" in sys.platform and env[\"appdata_file\"]:\n     env.InstallData(\"appdatadir\", \"wesnoth\", \"packaging/org.wesnoth.Wesnoth.appdata.xml\")\n\n# Python tools\nenv.InstallData(\"bindir\", \"pytools\", [os.path.join(\"data\", \"tools\", tool) for tool in pythontools])\nenv.InstallData(\"python_site_packages_dir\", \"pytools\", [os.path.join(\"data\", \"tools\", \"wesnoth\", module) for module in pythonmodules])\n\n# Wesnoth MP server install\nenv.InstallBinary(wesnothd)\nInstallManpages(env, \"wesnothd\")\nif not access(fifodir, F_OK):\n    fifodir = env.Command(fifodir, [], [\n        Mkdir(fifodir),\n        Chmod(fifodir, 0o700),\n        Action(\"chown %s:%s %s\" %\n               (env[\"server_uid\"], env[\"server_gid\"], fifodir)),\n        ])\n    AlwaysBuild(fifodir)\n    env.Alias(\"install-wesnothd\", fifodir)\nif env[\"systemd\"]:\n    env.InstallData(\"prefix\", \"wesnothd\", \"#packaging/systemd/wesnothd.service\", \"lib/systemd/system\")\n    env.InstallData(\"prefix\", \"wesnothd\", \"#packaging/systemd/wesnothd.tmpfiles.conf\", \"lib/tmpfiles.d\")\n    env.InstallData(\"prefix\", \"wesnothd\", \"#packaging/systemd/wesnothd.sysusers.conf\", \"lib/sysusers.d\")\n\n# Wesnoth campaign server\nenv.InstallBinary(campaignd)\n\n# Compute things for default install based on which targets have been created.\ninstall = env.Alias('install', [])\nfor installable in ('wesnoth',\n                    'wesnothd', 'campaignd'):\n    if os.path.exists(installable) or installable in COMMAND_LINE_TARGETS or \"all\" in COMMAND_LINE_TARGETS:\n        env.Alias('install', env.Alias('install-'+installable))\n\n#\n# Un-installation\n#\ndef Uninstall(nodes):\n    deletes = []\n    for node in nodes:\n        if node.__class__ == install[0].__class__:\n            deletes.append(Uninstall(node.sources))\n        else:\n            deletes.append(Delete(str(node)))\n    return deletes\nuninstall = env.Command('uninstall', '', Flatten(Uninstall(Alias(\"install\"))) or \"\")\nenv.AlwaysBuild(uninstall)\nenv.Precious(uninstall)\n\n#\n# Making a distribution tarball.\n#\nenv[\"version\"] = build_config.get(\"VERSION\")\nif 'dist' in COMMAND_LINE_TARGETS:    # Speedup, the manifest is expensive\n    def dist_manifest():\n        \"Get an argument list suitable for passing to a distribution archiver.\"\n        # Start by getting a list of all files under version control\n        lst = subprocess.check_output(\"git ls-files\", shell=True).splitlines()\n        lst = filter(os.path.isfile, lst)\n        return lst\n    dist_tarball = env.Tar('wesnoth-${version}.tar.bz2', [])\n    open(\"dist.manifest\", \"w\").write(\"\\n\".join(dist_manifest() + [\"src/revision.h\"]))\n    env.Append(TARFLAGS='-j -T dist.manifest --transform \"s,^,wesnoth-$version/,\"',\n               TARCOMSTR=\"Making distribution tarball...\")\n    env.AlwaysBuild(dist_tarball)\n    env.Clean(all, 'wesnoth.tar.bz2')\n    env.Alias('dist', dist_tarball)\n\n#\n# Make binary distribution (from installed client side)\n#\nbin_tar_env = env.Clone()\nbin_tarball = bin_tar_env.Tar('wesnoth-binary.tar.bz2',\n                              os.path.join(bindir,\"wesnoth\"))\nbin_tar_env.Append(TARFLAGS='-j', TARCOMSTR=\"Making binary tarball...\")\nenv.Clean(all, 'wesnoth-binary.tar.bz2')\nenv.Alias('binary-dist', bin_tarball)\n\n#\n# Make data distribution (from installed client side)\n#\ndata_tar_env = env.Clone()\ndata_tarball = data_tar_env.Tar('wesnoth-data.tar.bz2', datadir)\ndata_tar_env.Append(TARFLAGS='-j', TARCOMSTR=\"Making data tarball...\")\nenv.Clean(all, 'wesnoth-data.tar.bz2')\nenv.Alias('data-dist', data_tarball)\n\n#\n# Windows installer\n#\n\nenv.WindowsInstaller([\n    wesnoth, wesnothd,\n    Dir(installable_subs), env[\"nls\"] and Dir(\"translations\") or [],\n    glob(\"*.dll\")\n    ])\n\n#\n# Making Mac OS X application bundles\n#\nenv.Alias(\"wesnoth-bundle\",\n          env.Command(\"Wesnoth.app\", \"wesnoth\", [\n              Mkdir(\"${TARGET}/Contents\"),\n              Mkdir(\"${TARGET}/Contents/MacOS\"),\n              Mkdir(\"${TARGET}/Contents/Resources\"),\n              Action('echo \"APPL????\" > \"${TARGET}/Contents/PkgInfo\"'),\n              Copy(\"${TARGET}/Contents/MacOS/Wesnoth\", \"wesnoth\"),\n              Copy(\"${TARGET}/Contents/MacOS/wesnothd\", \"wesnothd\"),\n              Copy(\"${TARGET}/Contents/Info.plist\", \"projectfiles/Xcode/Info.plist\"),\n              Action(r\"\"\"sed -i '' 's/\\$[{].*[}]/Wesnoth/' \"${TARGET}/Contents/Info.plist\" \"\"\"),\n              Copy(\"${TARGET}/Contents/Resources/data\", \"data\"),\n              Copy(\"${TARGET}/Contents/Resources/English.lproj\", \"projectfiles/Xcode/English.lproj\"),\n              Copy(\"${TARGET}/Contents/Resources/fonts\", \"fonts\"),\n              Copy(\"${TARGET}/Contents/Resources/fonts.conf\", \"projectfiles/Xcode/Resources/fonts.conf\"),\n              Copy(\"${TARGET}/Contents/Resources/icon.icns\", \"projectfiles/Xcode/Resources/icon.icns\"),\n              Copy(\"${TARGET}/Contents/Resources/images\", \"images\"),\n              Copy(\"${TARGET}/Contents/Resources/SDLMain.nib\", \"projectfiles/Xcode/Resources/SDLMain.nib\"),\n              Copy(\"${TARGET}/Contents/Resources/sounds\", \"sounds\"),\n              Copy(\"${TARGET}/Contents/Resources/translations\", \"translations\"),\n              ]))\nenv.Clean(all, \"Wesnoth.app\")\n\n#\n# Sanity checking\n#\nsanity_check = env.Command('sanity-check', '', [\n    Action(\"cd utils; ./sanity_check\"),\n    Action(\"cd data/tools; make sanity-check\"),\n    ])\nenv.AlwaysBuild(sanity_check)\nenv.Precious(sanity_check)\n\n#\n# Make the project dependency graph (requires graph-includes).\n#\nenv.Command(\"wesnoth-deps.dot\", [],\n            \"graph-includes -verbose --class wesnoth \\\n            -sysI /usr/include/c++/4.0 -sysI /usr/include -sysI /usr/include/SDL \\\n            --prefixstrip src/ -I src src > ${TARGET}\")\nenv.Command(\"wesnoth-deps.png\", \"wesnoth-deps.dot\",\n            \"dot -Tpng -o ${TARGET} ${SOURCE}\")\nenv.Clean(all, [\"wesnoth-deps.dot\", \"wesnoth-deps.png\"])\n\n# Local variables:\n# mode: python\n# end:\n"
        },
        {
          "name": "add_source_file",
          "type": "blob",
          "size": 11.1640625,
          "content": "#!/usr/bin/env python3\n# encoding: utf-8\n\n# known issues:\n# xcode - if a file already exists in 'wesnoth' target, then it incorrectly thinks it also exists in the 'tests' target even though the tests build will fail\n\n\"\"\"\nAdd files to the specified build targets, supporting\nCMake, SCons, Xcode and the Code::Blocks projects.\n\nValid build targets are:\n * \"wesnoth\" - the main game (default if no target is specified)\n * \"wesnothd\" - the wesnoth server\n * \"campaignd\"\n * \"lua\"\n * \"tests\" - boost unit tests\n\nThe files will be added to:\n * the lists used by CMake and SCons in \"source_lists\"\n * the Xcode project\n * The Code::Blocks project\n\nThis only supports files inside the \"src\" directory.\n\"\"\"\n\nimport argparse\nimport sys\nimport inspect\nimport pathlib\n\ntry:\n    import pbxproj\nexcept:\n    print('\\n'.join((\n        'This script requires the \"pbxproj\" module.',\n        'Install it using \"pip install pbxproj\"',\n        'optionally setting up a python3-venv first.',\n    )))\n    exit(1)\n\n#=========#\n# Globals #\n#=========#\n\n# Either the executable directory or the current working directory\n# should be the wesnoth root directory\nrootdir = pathlib.Path(inspect.getsourcefile(lambda:0))\nif not rootdir.joinpath(\"projectfiles\").exists():\n    rootdir = pathlib.Path()\nif not rootdir.joinpath(\"projectfiles\").exists():\n    raise Exception(\"Could not find project file directory\")\n\n# the names of the targets in the Xcode project\nxcode_target_translations = {\n    \"wesnoth\": [\"The Battle for Wesnoth\", \"unit_tests\"],\n    \"wesnothd\": [\"wesnothd\"],\n    \"campaignd\": [\"campaignd\"],\n    \"lua\": [\"liblua\"],\n    \"tests\": [\"unit_tests\"],\n}\n\n# the names of the targets in source_lists\nsource_list_target_translations = {\n    \"wesnoth\": \"wesnoth\",\n    \"wesnothd\": \"wesnothd\",\n    \"campaignd\": \"campaignd\",\n    \"lua\": \"lua\",\n    \"tests\": \"boost_unit_tests\",\n}\n\n# the names of the targets in Code::Blocks\ncode_blocks_target_translations = {\n    \"wesnoth\": \"wesnoth\",\n    \"wesnothd\": \"wesnothd\",\n    \"campaignd\": \"campaignd\",\n    \"lua\": \"liblua\",\n    \"tests\": \"tests\",\n}\n\n#=======#\n# XCode #\n#=======#\n\ndef modify_xcode(filename, targets, remove):\n    \"\"\"Add the given file to the specified targets.\n    \"\"\"\n    projectfile = rootdir.joinpath(\n        \"projectfiles\",\n        \"Xcode\",\n        \"The Battle for Wesnoth.xcodeproj\",\n        \"project.pbxproj\",\n    )\n\n    project = pbxproj.XcodeProject.load(projectfile)\n\n    translated_targets = [item for t in targets for item in xcode_target_translations[t]]\n    translated_targets = list(set(translated_targets))\n    print(\" xcode targets:\", translated_targets)\n\n    for tname in translated_targets:\n        if not project.get_target_by_name(tname):\n            raise Exception(\n                f\"Could not find target '{tname}' in Xcode project file\")\n\n    # groups are organized by directory structure under \"src\"\n    # except for tests, which have a separate root, \"tests\"\n    if pathlib.Path(\"tests\") in filename.parents:\n        src_groups = project.get_groups_by_name(\"tests\")\n    else:\n        src_groups = project.get_groups_by_name(\"src\")\n    if len(src_groups) != 1:\n        raise Exception(\"problem finding 'src' group in xcode project\")\n    src_group = src_groups[0]\n    parent_group = src_group\n    for d in filename.parts[:-1]:\n        if d == \"tests\":\n            continue\n        found_groups = project.get_groups_by_name(d, parent=parent_group)\n        if len(found_groups) != 1:\n            groupname = parent_group.get_name()\n            raise Exception(f\"problem finding '{d}' group in '{groupname}'\")\n        parent_group = found_groups[0]\n\n    if remove :\n        # Remove from all targets if we want to remove\n        for file in project.get_files_by_name(filename.name, parent=parent_group):\n            project.remove_file_by_id(file.get_id())\n    else:\n        # if the group already has an entry with the same filename, loudly skip.\n        # note: this doesn't allow adding to targets one at a time.\n        # a new file should be added to all targets at once...\n        # or maybe targets could be checked somehow,\n        # or maybe the file could simply be completely removed and readded.\n        if project.get_files_by_name(filename.name, parent=parent_group):\n            print(\"  '\"+filename.name+\"' already found in Xcode project '\"+\",\".join(translated_targets)+\"', skipping\")\n            return\n\n        # force is True here because otherwise a duplicate filename in\n        # a different place will block addition of the new file.\n        # the rest is just to match existing project file structure.\n        project.add_file(filename.name,\n            force=True,\n            tree=\"<group>\",\n            parent=parent_group,\n            target_name=translated_targets,\n        )\n\n    # that's done, save the file\n    project.save()\n    return\n\n#==============#\n# source_lists #\n#==============#\n\ndef modify_source_list(filename, source_list, remove):\n    source_list_file = rootdir.joinpath(\"source_lists\", source_list)\n    sl_lines = open(source_list_file).readlines()\n    file_line = filename.as_posix() + '\\n'\n\n    # we only need source files in the source_lists, not header files\n    if filename.suffix != \".cpp\":\n        return\n\n    if remove:\n        if file_line in sl_lines: sl_lines.remove(file_line)\n    else:\n        # if the target already has an entry with the same filename, loudly skip\n        if file_line in sl_lines:\n            print(f\"  '{filename}' already found in '{source_list}', skipping\")\n            return\n\n        sl_lines.append(file_line)\n\n    sl_lines.sort()\n    open(source_list_file, 'w').writelines(sl_lines)\n\ndef add_to_source_lists(filename, targets):\n    translated_targets = [source_list_target_translations[t] for t in targets]\n    print(\" source_list targets:\", translated_targets)\n    for t in translated_targets:\n        modify_source_list(filename, t, False)\n\ndef remove_from_source_lists(filename):\n    # remove from all tagerts if -r was specified.\n    for t in source_list_target_translations.values():\n        modify_source_list(filename, t, True)\n\n#==============#\n# Code::Blocks #\n#==============#\n\ndef modify_code_blocks_target(filename, target, remove):\n    cbp_file = rootdir.joinpath(\n        \"projectfiles\",\n        \"CodeBlocks\",\n        f\"{target}.cbp\",\n    )\n    cbp_lines = open(cbp_file).readlines()\n\n    filename_for_cbp = pathlib.PurePath(\n        \"..\", \"..\", \"src\", filename\n    ).as_posix()\n\n    elem = f\"\\t\\t<Unit filename=\\\"{filename_for_cbp}\\\" />\\n\"\n\n    if remove:\n        if elem in cbp_lines: cbp_lines.remove(elem)\n    else:\n        # if the target already has an entry with the same filename, loudly skip\n        if elem in cbp_lines:\n            print(f\"  '{filename}' already found in '{target}.cbp', skipping\")\n            return\n\n        # find an appropriate line to add before/after\n        index = 0\n        for line in cbp_lines:\n            if line.startswith(\"\\t\\t<Unit \"):\n                if elem < line:\n                    break\n            elif line.startswith(\"\\t\\t<Extensions>\"):\n                # we must be the last entry, as this comes after the Unit section\n                break\n            index += 1\n        cbp_lines.insert(index, elem)\n\n    open(cbp_file, 'w').writelines(cbp_lines)\n\ndef modify_code_blocks(filename, targets, remove):\n    translated_targets = code_blocks_target_translations.values() if remove else [code_blocks_target_translations[t] for t in targets]\n    print(\" code::blocks targets:\", translated_targets)\n    for t in translated_targets:\n        modify_code_blocks_target(filename, t, remove)\n\ndef sanity_check_existing_cpp_hpp(filenames):\n    \"\"\"\n    If we're adding a .cpp file, check whether a .hpp should be added too, etc.\n    Only the files named on the command line are added, this exits if the check fails.\n    \"\"\"\n    any_check_failed = False\n    for filename in filenames:\n        if filenames.count(filename) > 1:\n            print(f\"ERROR: File '{filename}' given multiple times\")\n            any_check_failed = True\n\n        if not rootdir.joinpath(\"src\", filename).exists():\n            print(f\"WARN: File '{filename}' does not exist\")\n            any_check_failed = True\n\n        spouse = None\n        if filename.suffix == \".cpp\":\n            spouse = filename.with_suffix(\".hpp\")\n        elif filename.suffix == \".hpp\":\n            spouse = filename.with_suffix(\".cpp\")\n\n        if rootdir.joinpath(\"src\", spouse).exists() and not filenames.count(spouse):\n            print(f\"WARN: Requested to add '{filename}', should '{spouse}' be added too?\")\n            any_check_failed = True\n\n        if any_check_failed:\n            break\n\n    if any_check_failed:\n        print(\"ERROR: Not making changes, as checks failed and --no-checks option was not used.\")\n        exit(1)\n\ndef canonicalise_filenames(original_filenames):\n    \"\"\"\n    The script supports giving the filenames with or without the \"src/\" prefix.\n\n    Strip the \"src/\" if present, functions that need it will add it again later.\n    \"\"\"\n    filenames = []\n\n    # If src/src/ exists, the filenames become ambiguous. No need to support that.\n    if rootdir.joinpath(\"src\", \"src\").exists():\n        print(\"Please don't add a file or directory called src/src.\")\n        exit(1)\n\n    for filename in options.filename:\n        filename = pathlib.PurePath(filename)\n        parts = filename.parts\n        if parts[0] == \"src\":\n            filename = pathlib.PurePath(*parts[1:])\n        else:\n            filename = pathlib.PurePath(*parts)\n        filenames.append(filename)\n\n    return filenames\n\n#======#\n# main #\n#======#\n\nif __name__ == \"__main__\":\n    ap = argparse.ArgumentParser(description=__doc__, formatter_class=argparse.RawDescriptionHelpFormatter)\n    # a file argument is mandatory\n    ap.add_argument(\"filename\", action=\"store\", nargs=\"+\",\n        help=\"the .cpp and .hpp files to add\")\n    ap.add_argument(\"--target\", action=\"store\", nargs=1,\n        default=[\"wesnoth\"],\n        help=\"which build targets to add the file to\")\n    ap.add_argument(\"--no-checks\", action=\"store_true\",\n        help=\"do not check whether the files exist, etc\")\n    ap.add_argument(\"-r\", \"--remove\", action=\"store_true\",\n        help=\"remove the specified files from projectfiles instead of adding them, --target is then ignored\")\n    # By default, recognise --help too\n    options = ap.parse_args()\n\n    # Bail out if someone uses the old syntax of \"add_source_file src/foo.cpp campaignd\"\n    if not options.no_checks:\n        if len(options.filename) == 2 and not options.filename[1].count('.'):\n            print(\"The usage has changed, targets now need to be given using --target name\")\n            exit(1)\n\n    # Convert the names to pathlib.PurePath objects without leading \"src/\"\n    filenames = canonicalise_filenames(options.filename)\n\n    if not options.no_checks:\n        sanity_check_existing_cpp_hpp(filenames)\n\n    for filename in filenames:\n        if options.remove:\n            print(f\"removing '{filename}' from all targets\")\n            modify_xcode(filename, options.target, True)\n            remove_from_source_lists(filename)\n            modify_code_blocks(filename, options.target, True)\n        else:\n            print(f\"adding '{filename}' to targets: {options.target}\")\n            modify_xcode(filename, options.target, False)\n            add_to_source_lists(filename, options.target)\n            modify_code_blocks(filename, options.target, False)\n"
        },
        {
          "name": "attic",
          "type": "tree",
          "content": null
        },
        {
          "name": "boost_test_schedule",
          "type": "blob",
          "size": 11.638671875,
          "content": "test_fire_event\ntest_gui2_iterator\ntest_gui2/modal_dialog_test_achievements_dialog\ntest_gui2/modal_dialog_test_addon_auth\ntest_gui2/modal_dialog_test_addon_connect\ntest_gui2/modal_dialog_test_addon_license_prompt\ntest_gui2/modal_dialog_test_campaign_difficulty\ntest_gui2/modal_dialog_test_chat_log\ntest_gui2/modal_dialog_test_editor_choose_addon\ntest_gui2/modal_dialog_test_core_selection\ntest_gui2/modal_dialog_test_custom_tod\ntest_gui2/modal_dialog_test_depcheck_confirm_change\ntest_gui2/modal_dialog_test_depcheck_select_new\ntest_gui2/modal_dialog_test_edit_label\ntest_gui2/modal_dialog_test_edit_text\ntest_gui2/modal_dialog_test_editor_edit_label\ntest_gui2/modal_dialog_test_editor_edit_pbl\ntest_gui2/modal_dialog_test_editor_edit_pbl_translation\ntest_gui2/modal_dialog_test_editor_edit_side\ntest_gui2/modal_dialog_test_editor_edit_scenario\ntest_gui2/modal_dialog_test_editor_edit_unit\ntest_gui2/modal_dialog_test_editor_generate_map\ntest_gui2/modal_dialog_test_editor_new_map\ntest_gui2/modal_dialog_test_editor_resize_map\ntest_gui2/modal_dialog_test_faction_select\ntest_gui2/modal_dialog_test_file_dialog\ntest_gui2/modal_dialog_test_folder_create\ntest_gui2/modal_dialog_test_formula_debugger\ntest_gui2/modal_dialog_test_game_cache_options\ntest_gui2/modal_dialog_test_game_delete\ntest_gui2/modal_dialog_test_game_version\ntest_gui2/modal_dialog_test_game_save\ntest_gui2/modal_dialog_test_game_save_message\ntest_gui2/modal_dialog_test_game_save_oos\ntest_gui2/modal_dialog_test_generator_settings\ntest_gui2/modal_dialog_test_gui_test_dialog\ntest_gui2/modal_dialog_test_hotkey_bind\ntest_gui2/modal_dialog_test_install_dependencies\ntest_gui2/modal_dialog_test_language_selection\ntest_gui2/modal_dialog_test_mp_lobby\ntest_gui2/modal_dialog_test_mp_match_history_dialog\ntest_gui2/modal_dialog_test_mp_report\ntest_gui2/modal_dialog_test_lobby_player_info\ntest_gui2/modal_dialog_test_log_settings\ntest_gui2/modal_dialog_test_message\ntest_gui2/modal_dialog_test_mp_alerts_options\ntest_gui2/modal_dialog_test_mp_connect\ntest_gui2/modal_dialog_test_migrate_version_selection_dialog\ntest_gui2/modal_dialog_test_mp_join_game_password_prompt\ntest_gui2/modal_dialog_test_mp_login\ntest_gui2/modal_dialog_test_mp_method_selection\ntest_gui2/modal_dialog_test_prompt\ntest_gui2/modal_dialog_test_simple_item_selector\ntest_gui2/modal_dialog_test_screenshot_notification\ntest_gui2/modal_dialog_test_select_orb_colors\ntest_gui2/modal_dialog_test_statistics_dialog\ntest_gui2/modal_dialog_test_surrender_quit\ntest_gui2/modal_dialog_test_theme_list\ntest_gui2/modal_dialog_test_tod_new_schedule\ntest_gui2/modal_dialog_test_transient_message\ntest_gui2/modal_dialog_test_wml_error\ntest_gui2/modal_dialog_test_wml_message_left\ntest_gui2/modal_dialog_test_wml_message_right\ntest_gui2/modal_dialog_test_wml_message_double\ntest_gui2/modeless_dialog_test_debug_clock\ntest_gui2/tooltip_test_tooltip_large\ntest_gui2/tooltip_test_tooltip\ntest_gui2/test_last\ntest_gui2/test_make_test_fake\ntest_gui2_visitor\naddons/validation\naddons/encoding\ncmdline_opts/test_empty_options\ncmdline_opts/test_default_options\ncmdline_opts/test_full_options\ncmdline_opts/test_positional_options\ncmdline_opts/test_log_domain_severity_override_order\ntest_config/test_config_attribute_value\ntest_config/test_variable_info\ntest_config/add_child_EmptyThis_newKey_AppendAndReturnNewEmptyChild\ntest_config/add_child_NonEmptyThis_newOrExistingKey_lOrRValue_AppendAndReturnNewChild\ntest_preproc_defines\ntest_config_cache_defaults\nconfig_cache/test_load_config\nconfig_cache/test_non_clean_config_loading\nconfig_cache/test_macrosubstitution\nconfig_cache/test_transaction\nconfig_cache/test_define_loading\nconfig_cache/test_lead_spaces_loading\nconfig_filters/test_int_add_sub_filter\nconfig_filters/test_int_signed_filter\nconfig_filters/test_without_attribute_filter\nfilesystem/test_fs_game_path_reverse_engineering\nfilesystem/test_fs_base\nfilesystem/test_fs_enum\nfilesystem/test_fs_binary_path\nfilesystem/test_fs_wml_path\nfilesystem/test_fs_search\nfilesystem/test_fs_fluff\nformula_core/test_formula_basic_arithmetic\nformula_core/test_formula_basic_logic\nformula_core/test_formula_callable\nformula_core/test_formula_where_clause\nformula_core/test_formula_strings\nformula_core/test_formula_dice\nformula_core/test_formula_containers\nformula_core/test_formula_tokenizer\nformula_function/test_formula_function_substring\nformula_function/test_formula_function_length\nformula_function/test_formula_function_concatenate\nformula_function/test_formula_function_math\nformula_function/test_formula_function_trig\nformula_timespan/test_formula_timespan\nimage_modification_parsing/test_modificaiton_queue_order\nimage_modification_parsing/test_tc_modification_decoding\nimage_modification_parsing/test_tc_modification_decoding_invalid_args\nimage_modification_parsing/test_rc_modification_decoding\nimage_modification_parsing/test_rc_modification_decoding_invalid_args\nimage_modification_parsing/test_pal_modification_decoding\nimage_modification_parsing/test_pal_modification_decoding_invalid_args\nimage_modification_parsing/test_fl_modification_decoding_default\nimage_modification_parsing/test_fl_modification_decoding_horiz\nimage_modification_parsing/test_fl_modification_decoding_vert\nimage_modification_parsing/test_fl_modification_decoding_horiz_and_vert\nimage_modification_parsing/test_gs_modification_decoding\nimage_modification_parsing/test_crop_modification_decoding_no_args\nimage_modification_parsing/test_crop_modification_decoding_1_arg\nimage_modification_parsing/test_crop_modification_decoding_2_args\nimage_modification_parsing/test_crop_modification_decoding_3_args\nimage_modification_parsing/test_crop_modification_decoding_4_args\nimage_modification_parsing/test_blit_modification_decoding_1_arg\nimage_modification_parsing/test_blit_modification_decoding_3_args\nimage_modification_parsing/test_blit_modification_decoding_invalid_args\nimage_modification_parsing/test_mask_modification_decoding_1_arg\nimage_modification_parsing/test_mask_modification_decoding_3_args\nimage_modification_parsing/test_mask_modification_decoding_invalid_args\nimage_modification_parsing/test_l_modification_decoding_no_args\nimage_modification_parsing/test_l_modification_decoding_1_arg\nimage_modification_parsing/test_scale_modification_decoding_no_args\nimage_modification_parsing/test_scale_modification_decoding_1_arg\nimage_modification_parsing/test_scale_modification_decoding_2_args\nimage_modification_parsing/test_o_modification_decoding_percent_args\nimage_modification_parsing/test_o_modification_decoding_fraction_args\nimage_modification_parsing/test_bl_modification_decoding_no_args\nimage_modification_parsing/test_bl_modification_decoding\nimage_modification_parsing/test_rgb_modification_decoding_no_args\nimage_modification_parsing/test_r_modification_decoding\nimage_modification_parsing/test_g_modification_decoding\nimage_modification_parsing/test_b_modification_decoding\nimage_modification_parsing/test_bg_modification_decoding_no_args\nimage_modification_parsing/test_bg_modification_decoding_1_arg\nimage_modification_parsing/test_bg_modification_decoding_2_args\nimage_modification_parsing/test_bg_modification_decoding_3_args\nimage_modification_parsing/test_bg_modification_decoding_4_args\ntest_irdya_datetime/test_irdya_date_parse\ntest_irdya_datetime/test_irdya_date_equal\ntest_irdya_datetime/test_irdya_date_ordering\ntest_lexical_cast_throw<bool>\ntest_lexical_cast_throw<char>\ntest_lexical_cast_throw<signed char>\ntest_lexical_cast_throw<unsigned char>\ntest_lexical_cast_throw<short>\ntest_lexical_cast_throw<int>\ntest_lexical_cast_throw<long>\ntest_lexical_cast_throw<long long>\ntest_lexical_cast_throw<unsigned short>\ntest_lexical_cast_throw<unsigned int>\ntest_lexical_cast_throw<unsigned long>\ntest_lexical_cast_throw<unsigned long long>\ntest_lexical_cast_throw<float>\ntest_lexical_cast_throw<double>\ntest_lexical_cast_throw<long double>\ntest_lexical_arethmetic_signed<signed char>\ntest_lexical_arethmetic_signed<short>\ntest_lexical_arethmetic_signed<int>\ntest_lexical_arethmetic_signed<long>\ntest_lexical_arethmetic_signed<long long>\ntest_lexical_arethmetic_signed<unsigned char>\ntest_lexical_arethmetic_signed<unsigned short>\ntest_lexical_arethmetic_signed<unsigned int>\ntest_lexical_arethmetic_signed<unsigned long>\ntest_lexical_arethmetic_signed<unsigned long long>\ntest_lexical_arethmetic_signed<float>\ntest_lexical_arethmetic_signed<double>\ntest_lexical_arethmetic_signed<long double>\ntest_lexical_cast_bool\ntest_lexical_cast_result\ntest_map_location/map_location_characterization_test_radial_mode\ntest_map_location/reality_check_vector_negation\ntest_map_location/reality_check_get_direction\ntest_map_location/check_get_opposite_dir_refactor\ntest_map_location/check_rotate\ntest_map_location/check_rotate_around_center\nmp_connect/flg_map_settings2\nmp_connect/flg_map_settings3\nmp_connect/flg_map_settings4\nmp_connect/flg_map_settings5\nmp_connect/flg_map_settings6\nmp_connect/flg_map_settings7\nmp_connect/flg_map_settings8\nmp_connect/flg_map_settings9\nmp_connect/flg_map_settings10\nmp_connect/flg_map_settings11\nmp_connect/flg_map_settings12\nmp_connect/flg_map_settings13\nmp_connect/flg_map_settings14\nmp_connect/flg_map_settings15\nmp_connect/flg_map_settings16\nmp_connect/flg_map_settings17\nmp_connect/flg_map_settings18\nmp_connect/flg_map_settings19\nmp_connect/flg_map_settings20\nmp_connect/flg_map_settings21\nmp_connect/flg_map_settings22\nmp_connect/flg_map_settings23\nmp_connect/flg_map_settings24\nmp_connect/flg_map_settings25\nmp_connect/flg_map_settings26\nmp_connect/flg_map_settings27\nmp_connect/flg_map_settings28\nmp_connect/flg_map_settings29\nmp_connect/flg_no_map_settings1\nmp_connect/flg_no_map_settings2\nmp_connect/flg_no_map_settings3\nmp_connect/flg_no_map_settings4\nmp_connect/flg_no_map_settings5\nmp_connect/flg_no_map_settings6\nrecall_list_suite/test_1\nrng/validate_mt19937\nrng/test_mt_rng_seed_manip\nrng/test_mt_rng_config_seed_manip\nrng/test_mt_rng_reproducibility\nrng/test_mt_rng_reproducibility2\nrng/test_mt_rng_reproducibility3\nrng/test_mt_rng_reproducibility4\nrng/test_mt_rng_reproducibility5\nrng/test_mt_rng_reproducibility_coverage\nrng/validate_get_random_int\nrng/validate_get_random_int2\nsdl/test_scale_sharp_nullptr\nsdl/test_scale_sharp_zero\nsdl/test_scale_sharp_round\nsdl/test_scale_sharp_fractional\ntest_serialization_utils_and_unicode/utils_join_test\ntest_serialization_utils_and_unicode/utils_split_test\ntest_serialization_utils_and_unicode/utils_quoted_split_test\ntest_serialization_utils_and_unicode/utils_map_split_test\ntest_serialization_utils_and_unicode/utils_parenthetical_split_test\ntest_serialization_utils_and_unicode/utils_square_parenthetical_split\ntest_serialization_utils_and_unicode/utils_unicode_test\ntest_serialization_utils_and_unicode/test_lowercase\ntest_serialization_utils_and_unicode/test_wildcard_string_match\ntest_serialization_utils_and_unicode/test_base64_encodings\nsimple_wml/simple_wml_first_test\nteams/test_user_team_name\nunit_map_suite/test_1\nunit_map_suite/track_real_unit_by_underlying_id\nunit_map_suite/track_fake_unit_by_underlying_id\nunit_map_suite/track_real_unit_by_iterator\nunit_map_suite/track_fake_unit_by_iterator\nversion/test_version_info\nwhiteboard_side_actions_container/test_insertion\nwhiteboard_side_actions_container/test_removal\nfeature_test_WML_macro_define/macro_define_noArgument_ParseAsExpected\nfeature_test_WML_macro_define/macro_define_1Argument_ParseAsExpected\ntest_schema_self_validator/test_schema_super_self_reference\ntest_schema_self_validator/test_schema_super_cycle\ntest_schema_validator/test_super_cycle\ntest_schema_validator/test_super_cycle_only_if_used\ntest_schema_validator/test_super_cycle_crashes_on_unknown_key\ntest_schema_validator/test_super_missing\ntest_schema_validator/test_super_missing_only_if_used\ntest_schema_validator/test_super_mandatory\ntest_schema_validator/test_super_mandatory_missing\ntest_schema_validator/test_super_cycle_mandatory\ntest_schema_validator/test_schema_link_cycle\n"
        },
        {
          "name": "changelog.md",
          "type": "blob",
          "size": 942.38671875,
          "content": "## Version 1.19.7+dev\n### Add-ons client\n### Add-ons server\n### Campaigns\n### Editor\n### Multiplayer\n### Lua API\n   * New functions `gui.show_recruit_dialog()` and `gui.show_recall_dialog()` has been added which allow showing the recruit and recall dialogs in-game with a custom list of unit types or units respectively, along with some customizable features.\n### Packaging\n### Terrain\n### Translations\n   * Updated translations: Bengali, British English, Czech, Finnish, Hungarian\n### Units\n### User interface\n   * The Modern theme has been renamed to Celes and received design updates to the titlescreen and common UI controls. The Default theme has been renamed to Parchment.\n   * A preference to show/hide the tips panel on titlescreen has been added under Display preferences (id `show_tips`). In the Celes theme, it can also be hidden by clicking the cross button located at the top-right of the panel.\n### WML Engine\n   * [variables] in [side] no longer sets variables of the implicit leader unit (it now only sets the sides variables), to create a leader unit with variables, [leader] must be used instead. (issue #3742)\n### Miscellaneous and Bug Fixes\n\n## Version 1.19.7\n### Multiplayer\n   * Implemented an attempt to fix the multiplayer server crashing if someone requested game history and then disconnected before receiving the results\n### Translations\n   * Updated translations: Bengali, British English, Chinese (Simplified), Czech, Hungarian, Italian\n### Units\n   * Dawarf - Decreased Cost from 17 to 12, Decreased Level from 1 to 0, and Decreased XP from 50 to 25\n   * Elvish Champion: HP 72 -> 70, cost 61 -> 60, accuracy bonus is now explained via a weapon special\n### User interface\n   * The `screen_pitch_microns` variable is no longer available for UI formulas\n   * Added a red line to the bottom of chat window when entering lobby\n### WML Engine\n   * [stacked_widget] no longer accepts the long-deprecated [stack] tag\n   * The author attribute is now again a display only attribute. Instead the primary_authors attribute should be used, which supports specifying multiple primary authors.\n   * [side]'s `leader` attribute has been removed\n### Miscellaneous and Bug Fixes\n   * Fixed the game quitting at scenario end when loading a mp campaign game in singleplayer in debug mode\n   * Fixed map editor crashing when creating or opening scenario after having played a local scenario before opening the map editor\n\n## Version 1.19.6\n### Add-ons client\n   * The Add-ons client now supports UI Theme type add-ons (id 'theme').\n### Campaigns\n   * Son of the Black-Eye\n     * Allowed Saurian Skirmishers to advance into Saurian Spearthrower.\n   * The Hammer of Thursagan\n     * Added Achievements.\n### Multiplayer\n   * OOS-bugs have been fixed.\n### Translations\n   * Updated translations: Arabic, Bengali, British English, Chinese (Simplified), Czech, German, Hungarian, Norwegian, Turkish\n### Units\n   * Elvish Scout: XP 42 -> 32\n   * Elvish Rider: XP 75 -> 60, HP 49 -> 46, bow damage 11 -> 9, cost 28g -> 27g\n   * Elvish Outrider: MP 11 -> 10, HP 60 -> 57, bow damage 11 -> 9, sword damage 8 -> 7, cost 58g -> 50g\n   * Elvish Avenger: HP 59 -> 55, cost 60g -> 55g\n   * Elvish Marshal: HP 68 -> 60, MP 5 -> 6\n   * Huntsman: HP 57 -> 53, bow 9x4 marksman -> 10x4 marksman, cost 43g -> 47g, new ability: Swamp Lurk (invisibility in swamps)\n   * Ranger: HP 60 -> 64, bow 7x4 -> 8x4, cost 43g -> 50g, defense: castle 60% -> 50%, frozen 20% -> 30%, reef 30% -> 50%, sand 30% -> 40%\n   * Forest Lion: HP 42 -> 48, MP 9 -> 7, claws 5x4 -> 6x4, bite 15x2 -> 9x2 charge, arcane resistance 20% -> 10%, cost 21g -> 30g\n   * New ship units Derelict Hulk and Fireship\n   * Pirate Galleon and Transport Galleon moved to Ship race, sprite updated and animated\n   * Portraits for ships and their crew\n### User interface\n   * About Dialog's General tab now has a button to open the game manual for the currently selected language.\n   * An entry for accessing the Add-ons Manager has been added to the Campaign Selection dialog.\n   * Help Browser now has a checkbox for showing/hiding the contents list in low-resolution systems (800x600 or less).\n   * It is now possible to select text in MP Lobby chat and Gamestate Inspector via mouse drag.\n   * Switched default Pango/Cairo backend from CoreText to Fontconfig on macOS to fix issues with certain fonts such as Oldania ADF Std being unrecognized on current OS versions (issue #8488).\n   * More titlescreen images have been added.\n### WML Engine\n   * Add a [remove_specials] tag in [effect] to be able to remove specials with other criteria than the id (type of the special, active_on, apply_to or other attributes).\n   * Add [filter_special] to [has_attack/filter_weapon] in order to simultaneously check specials with id and type, and/or other attributes.\n   * [modify_unit_type] can add a list of AMLAs in the unit_type, if a list is already written, it will be replaced.\n   * [modify_unit_type] can modify [male/female] or [variation] subtags if already written in unit_type.\n### Miscellaneous and Bug Fixes\n   * Removed `--nodelay` launch flag\n\n## Version 1.19.5\n### Campaigns\n   * Eastern Invasion: \"Drowned Plains\" drastically shortened in length. Objective now involves gathering gold, not killing enemy leaders.\n### Editor\n   * Fixed a crash in some cases after setting which direction a unit is facing.\n### Terrain\n   * Improved handling of bluffs/gulch transitions with mountains and frozen terrain\n   * Bluffs/Gulches less intrusive in mini-map\n### Translations\n   * Updated translations: Bengali, British English, Chinese (Simplified), Czech, Finnish, Italian, Japanese, Turkish\n### Units\n   * Walking Corpse: arcane vulnerability reduced from 40% to 20%.\n   * Soulless: arcane vulnerability reduced from 40% to 20%.\n   * Skeletal Dragon stats were changed:\n     * hitpoints from 171 to 98\n     * cost from 288 to 160\n     * fire resistance from -20% to 20%\n     * jaw attack from 17x4 to 15x3\n     * claw attack from 24x3 to 27x2\n### User interface\n   * Hovering over units and selecting units now highlights reachable hexes instead of obscuring unreachable ones.\n   * Option key is now identified as such instead of Alt in the Hotkeys preferences section on macOS builds\n   * Search filter should now be case-insensitive for more than just ASCII characters (#9328)\n   * Added attack and defend animations for the Orcish Warrior, standing and attack animations for the Goblin Pillager, and an alternate attack animation for the Orcish Warlord.\n   * Fixed the displayed team name not always matching the actual teams that players are on.\n### WML Engine\n   * Removed properties `unit.side` and `terrain.owner`. Use `unit.side_number` and `terrain.owner_side` instead.\n   * rechange [experimental_filter_ability/active] and [experimental_filter_specials] to [filter_ability/active] and [filter_specials] and make \"experimental_\" deprecated.\n   * Add alignment in [attack] to specify the alignment of an attack independent of the unit's alignment.\n   * GUI2 themes can now be provided by add-ons.\n   * When using `sub` in a weapon special to decrease the number of attacks a unit has, going below zero is now treated as still being 0.\n### Miscellaneous and Bug Fixes\n   * A variety of issues have been fixed in the rewritten in-game Help browser.\n   * Fixed the editor saving plain maps in a different folder than the game creation screen expects.\n\n## Version 1.19.4\n### Lua API\n   * Added new function gui.switch_theme() to allow switching to another gui2 theme from inside a scenario.\n   * Updated to lua 5.4.7\n### Translations\n   * Updated translations: Arabic, Bengali, British English, Chinese (Simplified), Czech, Italian, Japanese, Turkish, Ukrainian\n### Units\n   * Walking Corpse: arcane vulnerability reduced from 40% to 20%.\n   * Soulless: arcane vulnerability reduced from 40% to 20%.\n### User interface\n   * GUI2 themes can be loaded from add-ons. Requires a `gui-theme.cfg` file in add-on root with a `[gui]` tag that acts as the entry point for the theme.\n   * Option key is now identified as such instead of Alt in the Hotkeys preferences section on macOS builds\n   * Search filter should now be case-insensitive for more than just ASCII characters (#9328)\n   * Whirlpools no longer get submerged in water.\n   * The in-game chat now properly redraws over water and other animated terrain.\n   * Fixed items not appearing properly when submerged.\n### WML Engine\n   * Removed properties `unit.side` and `terrain.owner` from WFL. Use `unit.side_number` and `terrain.owner_side` instead.\n   * Fixed events with negative priority not being stored in save files.\n   * Events can now be added to abilities and weapon specials.\n\n## Version 1.19.3\n### Campaigns\n   * Under the Burnings Suns\n    * S04: added sprite for the Cold Dagger item (PR #9189)\n### Editor\n   * Added Show Tool Information toggle option in the menus and toolbar to allow hiding the informational tooltip on the edge of the screen that shows the current editor tool's usage and palette information\n### Translations\n   * Updated translations: Bengali, British English, Chinese (Simplified), Czech, French\n### Units\n   * New cat units: Jumpcat, Forest Lion, and zombie/soulless cat\n### User interface\n   * Added a few more images that can be shown on the new titlescreen\n### WML Engine\n   * Fix crash when weapon specials' filters lead to infinite recursion (issue #8940)\n   * Updated xBRZ implementation to v1.8\n\n## Version 1.19.2\n### Campaigns\n   * Eastern Invasion\n    * fixed Gweddry having the wrong HP values\n    * fixed the king being neutral instead of lawful\n    * fixed \"Dark Shape\" from being neutral instead of chaotic\n    * the king can no longer wield the plague staff\n    * the king and generals can no longer recall undead veterans\n    * S04c: achievement now only triggers when escaping with all knights alive\n    * S11/S99: flying units can no longer enter prison cells via the river\n    * S12: fixed Dra-Nak (if present) having incorrect traits and portraits\n    * S17b: AI is now more forced to recruit only higher-level units when gold reserves get too high\n    * S99: prisoners now escape if their jailers are killed\n### Editor\n   * Rename Load Map to Load Map/Scenario (since it can load both), Edit Scenario to Edit Scenario Settings, Save Map to just Save.\n   * Rearrange menu order\n   * Add icon for the preferences menu item (used the preexisting settings.png icon)\n   * Open folder correctly at Add-on's scenario directory instead of editor/scenarios. (#8910)\n   * Show Save Scenario As only for Scenarios\n   * Use the settings.png icon for Preferences menu item\n   * Add functionality to \"Loyal\" checkbox (Unit tool -> Place unit -> Right click menu) (#8445)\n   * Show warning when maps are saved in scenarios folder or vice versa (#8911)\n   * Unit List moved to Units menu from File menu to reduce some pressure from the latter.\n   * Status Table menu item disabled since it does nothing. (Should be reenabled once the functionality has been added.)\n   * Improve reload functionality in Editor (F5). Reload happens directly from memory and no temp files are needed. Also, the undo/redo stacks will be preserved. (#9024)\n   * Time Schedule Editor\n    * Browse buttons now set wesnoth style paths instead of just pasting the absolute path returned by the file dialog\n    * Change text boxes from inactive to uneditable.\n    * Code generation improvements\n    * Add copyright notice to tod_new_schedule\n    * Confirmation messages\n    * Preview buttons for image and sound files and new icons for the preview button (2 sets : preview image and preview sound)\n   * Unit Type Editor\n    * Confirmation messages\n    * New icons for the preview button (2 sets : preview image and preview sound)\n   * Add-on menu\n    * Two new menu entries for (1) opening the Add-on selection dialog, (2) opening the folder corresponding to the Add-on. The open add-on folder option shows a GUI2 file dialog at the add-on's folder which can be used to open any file. If it is a loadable map/scenario it will be opened in the editor, otherwise the OS's default application for that file will be opened.\n   * File Dialog\n    * Redesigned with new icons\n    * New Open External button that opens selected file/folder in the platform's default application (independently of what pressing Open would do). This could be used to quickly open a folder or preview the file before actually selecting it.\n    * Extension checking and filename validation. (See #8911)\n### Translations\n   * Updated translations: Bengali, British English, Chinese (Simplified), Czech, Finnish, French, German, Ukrainian\n### User interface\n   * When a player types something into the Load Game filter box and then changes to a different version, apply the filter immediately instead of showing the full list of files.\n   * An updated design for the titlescreen has been added. This can be toggled in the Display preferences. (#8953)\n### WML Engine\n   * max_value and min_value can now be used with most abilities\n   * Added unit hits and unit misses events\n### Miscellaneous and Bug Fixes\n   * Server-side fix for the \"Something is wrong with the addon version check database supporting the multiplayer lobby.\" error (issue #8805)\n   * Fixed the Load Game dialog forgetting the filename filter when changing directory\n   * Removed the config-dir, userconfig-dir, config-path, and userconfig-path commandline options\n   * Moved the editor, WML persist, saves, lua command history, and most of the preferences to a separate subfolder for all data that should be synced between multiple computers\n   * Fixed Plan Unit Advance modification causing incorrect XP colour in the Advance Unit dialogue (#9047)\n   * Fixed Plan Unit Advance modification preventing undo of the first action of each turn (#9047)\n\n## Version 1.19.1\n### Translations\n   * Updated translations: Bengali, British English, Chinese (Simplified), Czech, French, Japanese, Ukrainian\n### Units\n   * Added a melee animation for the Dragoon and Cavalier.\n   * Added a wounded bob animation for the Cavalier.\n### WML Engine\n   * Modified 'apply_to' in [experimental_filter_ability(_active)] or [overwrite][experimental_filter_specials] to do an inclusion check for a comma-separated list of damage types in [resistance] abilities.\n   * Removed the deprecated 'controller=number' from [side]\n### Miscellaneous and Bug Fixes\n   * Fixed erroneous sidebar text caused by [damage_type] assuming that an alternate_type is always present.\n\n## Version 1.19.0\n### Add-ons client\n   * Show the server ID in the Add-ons Manager\n   * The add-ons server identifier (e.g. 1.18) is now displayed on the bottom left after the server address. If debug mode is enabled the server software version is also shown.\n### Campaigns\n   * Descent into Darkness\n    * S3: player now no longer gains any exp upon killing rats and crawlers, buffed puzzle exp to compensate\n   * Eastern Invasion\n    * Prevent Dacyn from picking up a different staff (issue #8885)\n    * Reduce Barrow/Pyre Wight vulnerability to arcane\n    * S14: indicate uncleared swamp hexes with \"swamp reed\" images\n    * Many minor bugfixes\n   * Liberty\n    * Custom unit and portrait for Lord Maddock\n   * Sceptre of Fire\n    * S7: fewer and slower enemies, to balance the buff to the Elvish Outrider unit type\n   * Tutorial\n    * Better timing for some of the hints\n   * Under the Burnings Suns\n    * S01: the luck involved in getting units from villages is now fairer\n   * Secrets of the Ancients\n    * S16: Keep Crelanu within his ring of protective holy waters (issue #8361)\n   * Winds of Fate\n    * Avoid a Lua error that only triggered on Windows in locales that use commas as the decimal separator\n    * Rebalanced enemies and enemy gold from S6 onwards\n    * S08: clarify the objectives\n   * World Conquest\n    Fix World Conquest's Help dialog showing double scrollbars due to the left tree having it's vertical scrollbar disabled. Changed both vertical and horizontal scrollbar modes to automatic. (issue #8576)\n### Editor\n   * Allow loading .mask files\n   * New UI in the Scenario Editor that allows to create custom unit types, accessible by Unit menu > New Unit Type.\n### Multiplayer\n   * The default settings for the timer are now 240 seconds turn bonus, with no action bonus\n   * The full map is no longer revealed in linger mode by default, so it behaves similarly to SP mode for campaigns\n   * Refactor the code which determines when actions can be undone, and when actions are sent to the server\n   * In the Aethermaw map, Sulla's title has been changed to Aether Mage and prose slightly rewritten to include this change.\n   * Fixed some old paths to unit images being used in Aethermaw (issue #8432)\n   * Moved the Dunefolk into Default era. The \"+Dunefolk\" eras have been removed.\n### Lua API\n   * Overhaul of the API to use named tuples instead of `data[1]`, `data[2]`, etc\n   * Locations returned by the API are now named tuples, so their data can be accessed as `location.x` and `location.y`\n   * Objects with `x` and `y` data members can generally be passed to APIs that expect a location\n### Packaging\n   * Fixed build with Boost 1.85\n   * Increased the minimum required SDL version from 2.0.10 to 2.0.18 for non-macOS platforms (macOS already requires 2.0.22)\n### Terrain\n   * Oasis is now a mixed terrain, adding shallow water to the base terrain, and defaulting to Sand as the base terrain\n   * The help browser now considers the default base of mixed terrains when adding them to the help tree\n### Translations\n   * Updated translations: Arabic, Bengali, British English, Bulgarian, Chinese (Traditional), Czech, Dutch, Finnish, French, German, Italian, Japanese, Norwegian, Polish, Russian, Slovak, Spanish, Ukrainian\n   * Added new font \"Lohit-Bengali.ttf\" to support Bengali translation\n### Units\n   * Elvish Avenger - decreased ranged attack from 11×4 to 10×4, decreased cost from 66 to 60\n   * Elvish Sharpshooter - decreased ranged attack from 12×5 to 10×5, decreased cost from 62 to 55\n   * Elvish Shyde - decreased ranged slow attack from 8×3 to 7×3, decreased ranged magical attack from 14×3 to 10×3, decreased cost from 69 to 58\n   * Elvish Enchantress - decreased ranged slow attack from 7×4 to 6×4, decreased ranged magical attack from 13×4 to 11×4, decreased cost from 70 to 62, decreased XP requirement from 198 to 180\n   * Elvish Sylph - decreased ranged magical attack from 16×5 to 13×5, decreased cost from 161 to 135\n   * Added new Fire Wisp unit\n   * Added portraits for Skeletal Rider, Wyvern, TSG’s Eyestalk, TRoW’s vampire lady, and an alternative portrait for bears\n   * Elvish Enchantress - description for 'entangle' changed to 'ethereal web', icon changed.\n   * Elvish Sylph - description for 'gossamer' changed to 'ethereal web'.\n   * Mudcrawler and Giant Mudcrawler - increased swamp defense from 40% to 60%, swamp movement penalty reduced from 2 to 1, castle and village defense reduced from 60% to 50%\n### User interface\n   * Added a button to the build info dialog to rerun the 1.16 to 1.18 migration tool (issue #7936)\n   * Use a gold completion laurel for campaigns with only one difficulty setting\n   * Refined the layout of the Load Game dialog\n   * New texture-based minimap rendering\n   * Added a \"Teleport Unit\" option to the debug menu\n   * The campaign list in New Campaign dialog now supports filtering campaigns by whether they have been completed and at which difficulty.\n   * Redesigned story screen layout with new graphics\n   * Game version dialog redesigned to act as an general purpose About dialog.\n   * Community dialog moved to About dialog as a new tab. Community button removed from title screen.\n   * Credits button moved from Title Screen into About dialog.\n   * Success indication mechanism on buttons. Currently used only for copy buttons.\n   * Slight reorganization of title screen buttons.\n   * Add a Community button to the title screen to link to the forums, discord, etc.\n   * Overhauled the Language selection dialog to make it more informative, including displaying translation progress and making it easier to select highly-incomplete translations.\n   * Made the Changelog option in the macOS app menu link to the changelog for the particular Wesnoth app version rather than the Git master branch changelog.\n   * Added unit type level as a filter criterion in the Recruit Unit dialog.\n   * Added unit race and alignment as additional filter criteria in the Recall Unit dialog.\n   * Fixed timing issue with the outro screen's text fading effect that made it so fast as to be unnoticeable on many hardware configurations.\n### WML Engine\n   * Fixed the Ambush ability not working in Bluff/Glutch Forest terrain\n   * Multiple fixes to replay handling\n   * Image Path Functions now accept percentages for scaling sizes\n   * The AMLAs that a unit has are now accessible via WFL\n   * new combobox and tab_container widgets\n   * editability in text box via the editable key\n   * add [filter_wml] to [experimental_filter_ability(_active)] or [overwrite][experimental_filter_specials]\n   * Added support for `value=\"default\"` to ability filters to match abilities using their default `value` (by explicit setting or absence)\n### Miscellaneous and Bug Fixes\n   * Remove special handling of config directory on Linux, use the userdata folder as on Windows and MacOS (#8848)\n   * Added new `color_range` palettes `yellow` and `pink`\n   * Added environment variable `WESNOTH_NO_LOG_FILE`, equivalent to the `--no-log-to-file` command line flag\n   * Fixed attack calculations when resistances counter `[damage_type]alternative_type=`\n   * Fixed replays marking achievements as complete (issue #8858)\n   * Fixed a crash in the recall dialog when turning off all sorting options (issue #8878)\n   * Fixed clicking on a trait in the sidebar sometimes opening the wrong trait’s help page\n   * Removed wesnothd’s unused threads command line options\n   * Fixed a bug causing excessive pixellation of scaled images\n   * General cleanup of unnecessary C++ header file includes\n   * Trying to load an image filename ending \".jpg\" will now automatically try \".webp\" if the \".jpg\" isn’t found.\n   * Fix: releasing a mouse button at the same time as a dialog pops up sometimes dismissed the dialog immediately (issue #8644)\n\n## Version 1.17.26\n### Campaigns\n   * Eastern Invasion\n    * Many minor bugfixes\n   * Heir to the Throne\n    * Fix S17 to ensure the starting castle always has 6 hexes for recruiting (PR #8314)\n    * Clarify S11's objectives by editing the map (no string changes) (PR #8326)\n    * Add decorations and map embellishments to S16, S19a and S22 (PR #8243)\n    * Use swamp terrain instead of sand for S19b (PR #8243)\n   * Under the Burning Suns\n    * Improve continuity between events that can be triggered in various orders.\n    * Adjust Fighter unit line for easier early leveling and more late game staying power.\n   * World Conquest\n    * Fix the Bezoar artifact (issue #6513)\n### Multiplayer\n   * Assume that all players need a copy of an add-on, by defaulting `require_modification`/`require_campaign` to `yes` (PR #8135)\n### Lua API\n   * Added documentation for linting and IDE support\n### Packaging\n   * Add CMake and SCons options to use an already installed copy of Lua 5.4 (PR #8234)\n    * The system copy of Lua must be compiled as C++ rather than C, as Wesnoth uses C++ exceptions.\n    * Windows requires a compile-time change to Lua, so must use the in-tree Lua submodule.\n### Translations\n   * New translation: Bengali\n   * Updated translations: Arabic, British English, Czech, Finnish, French\n### Units\n   * War Harbinger: +3 HP (29 -> 32), XP to 100, cost +2g (41 -> 43), removed forest and village dodge modifiers\n   * Dark Omen: removed forest and village dodge modifiers\n   * Raven: removed forest and village dodge modifiers\n### User interface\n   * New multiline textbox and numerical spinner widgets (PR #8199)\n### WML Engine\n   * Added a composite hero/leader ellipse, in case an author forgets to `UNMAKE_HERO` when converting to a leader (PR #8375)\n   * `[event]name=unit_placed` is now non-undoable by default (issue #7780)\n   * `[scroll]` now includes a delay, this was needed for visual effects such as the `QUAKE` macro\n### Miscellaneous and Bug Fixes\n   * Fix some logs not being included in the logfile (issue #8108)\n   * Multiple fixes to handling of Lua errors, some of which could cause a crash (PR #8234)\n   * When WML specifies a unit or unit type’s gender, automatically include that in the .po files as a translation hint\n   * Make sure `transform_unit` doesn't heal the unit when removing objects (PR #8147)\n   * Fixed bugs in the rushers recruit AI (issue #8297)\n   * Savefiles now include the ID of the core in use\n\n## Version 1.17.25\n### Campaigns\n   * Eastern Invasion\n    * Fix S04b’s time limit, which extends by 10 turns if a bonus objective is completed.\n    * Fix macros in translatable strings, because they prevent translation. (issue #8225)\n   * Winds of Fate\n    * Made the epilogue more vague about events on the Green Isle\n    * Removed part of epilogue suggesting a Drake-led war around 120YW\n### Translations\n   * Updated translations: Arabic, British English, Czech, Finnish, French, German, Italian, Slovak\n### Units\n   * New fish and bug zombie variations\n### User interface\n   * Added hotkeys for various menu items and ThemeWML buttons in Map Editor\n   * Added shortcut Ctrl+G for 'I'm Ready' button in mp_staging dialog (Addresses issue #8250)\n   * Fix the left pane of the help browser’s layout for right-to-left languages (Arabic and Hebrew) (issue #8205)\n### Miscellaneous and Bug Fixes\n   * wmllint now warns about `[kill]` tags containing `[filter]` tags\n   * Fix a regression from 1.13.11 that inverted horizontal scrolling with SDL versions 2.0.18+ on X11 and versions 2.0.20+ on Wayland (issues #3362 and #7404, PR #8137)\n   * Run wesnothd server as `_wesnoth:_wesnoth` instead of `nobody:users`, improving safety and fixing a warning message in systemd 246+\n\n## Version 1.17.24\n### Campaigns\n   * Winds of Fate\n    * Fix macro argument in translatable string\n   * Eastern Invasion\n    * Change S04b’s `scenario_id` to `en_US` spelling (issue #7994)\n    * S04b start-of-scenario saves since 1.17.21 will be broken\n    * S03 mid-scenario saves since 1.17.21 will show a warning, and players will only be able to go west\n    * Saves from earlier versions are already broken by the campaign rewrite\n    * Fix macro argument in translatable string\n### Editor\n   * Time Schedule Editor now saves custom time schedules to `utils/schedule.cfg` under the Add-on directory. (Cache needs to be manually reloaded with `F5` after exiting Map Editor.)\n   * Changing the color sliders and pressing the preview button shows a preview of the tint on the map.\n   * New dialog for entering custom schedule ID and name. The user is required to enter a non-empty schedule id and name. ID will be autogenerated if the user doesn't specify it or already exists.\n   * Textbox to enter Add-on ID after selecting `New Scenario > New Add-on`.\n### Multiplayer\n   * Fix Add-on version check error #4055\n### Lua API\n   * units.remove_modifications can now remove multiple types of modifications.\n### Translations\n   * Updated translations: British English, Bulgarian, Finnish, French, German, Polish, Slovak\n### Miscellaneous and Bug Fixes\n   * Fix various assertion failures on invalid input\n   * Fix end credits not showing when a scenario has no [side]s #8090\n   * The command line `--preprocess` utility now accepts any filename, not just those ending .cfg.\n\n## Version 1.17.23\n### Campaigns\n   * Under the Burning Suns\n    * All sand terrian now correctly applies the dehydrated effect\n### Translations\n   * Updated translations: British English, Czech, French, Italian, Polish, Slovak, Welsh\n### Units\n   * Drakes:\n    * Saurian Seer - modify the unit to fix reductions in power level between level 2 and level 3.\n### User interface\n   * If wesnoth is installed with most campaigns missing, an error message is shown in the campaign selection dialog\n   * The inspect dialog again is able to correctly paginate large amounts of text\n   * The credits now actually show up instead of crashing the game\n   * Significantly improve game history query performance, preventing the query from timing out\n   * The help browser, when looking at a unit type which uses the same image for male and female units, now only shows one image instead of showing a duplicate.\n### WML Engine\n   * [filter_ability], [filter_ability_active], and [filter_specials] are renamed to [experimental_filter_ability], [experimental_filter_ability_active], and [experimental_filter_specials]\n   * Add a [damage_type]'replacement_type' and 'alternative_type' attribute weapon special to change the type of attack under specific conditions (terrain, time of day, leadership etc...)\n### Miscellaneous and Bug Fixes\n   * Added basic support for the `ttkthemes` Python library to GUI.pyw on Linux\n   * Fixed the screen not redrawing on Windows after unlocking the computer\n   * Fixed occasional bad rendering for blurred/translucent areas\n   * Significantly reduced CPU usage when a dialog is open\n   * Avoid an assert in `replay::add_start_if_not_there_yet` with corrupt files (issue #7154)\n   * Fix Leaders sometimes being removed in controller=null sides in mp campaigns (#7886)\n   * fix [store_reachable_locations] when the player has shroud #7891\n\n\n## Version 1.17.22\n### Campaigns\n   * Under the Burning Suns\n    * More AMLAs for Kaleh and Nym.\n    * Balance changes.\n### Multiplayer server\n   * Record and replay chat messages when joining a game that has not started yet\n### Lua API\n   * New experimental Lua undo API\n   * New Lua mouse click callback\n### Terrain\n   * New embellishment for adding windows to impassible walls.\n### Translations\n   * Updated translations: Welsh\n   * Updated translations: British English, Chinese (Simplified), Czech, French, Slovak\n### Units\n   * Update graphics and stats of Roc\n   * New monster unit line - Ravens\n   * New Jumping Spider monster.\n   * Drakes:\n    * Saurian Oracle – xp changed from 66 to 74\n    * Saurian Soothsayer – xp changed from 100 to 66\n    * Saurian Prophet is added as an upgrade of the Saurian Oracle\n    * Saurian Seer is added as an upgrade of the Saurian Soothsayer\n### User interface\n   * Village ownership is shown with flag and side number in terrain info (issue #4334)\n### WML API\n   * New ability attributes `halo_image=` and `halo_image_self=`, to illustrate the effects of the illumination ability, HttT's initiative, etc.\n   * New ability attributes `overlay_image=` and `overlay_image_self=`.\n   * New ability tag and attribute `[overwrite]priority=`.\n   * Two new tags, `[filter_ability]` and `[filter_ability_active]`, which have a temporary exception from the API freeze.\n### WML Engine\n   * The implementation of `[allow_undo]` has changed, the behavior should be the same.\n### Miscellaneous and Bug Fixes\n   * Asset copyright tracking is now handled in a .csv file, and sanity checked during CI builds.\n   * Various fixes to World Conquest multiplayer campaign.\n\n## Version 1.17.21\n### Campaigns\n   * Eastern Invasion\n    * Revise entire campaign (Dalas version)\n   * Descent into Darkness\n    * Buff soul rend\n   * Liberty\n    * Make Harper a girl and revise some dialogue\n   * Legend of Wesmere\n    * Replace lingering instances of ‘old’ style gold carry over for S9, S11 and S14 (issue #7862)\n### Translations\n   * Updated translations: Arabic, British English, Czech, German, French\n### Units\n   * Updates to Troll sprites and animations (#7844)\n   * Giant Ant Queen, Fire Ant Queen, Ant Eggs, and Ant Zombies\n   * Rebels:\n    * Elvish Enchanterss – xp changed from 180 to 198.\n    * Elvish Sylph – cost changed from 148 to 161.\n   * Loyalists:\n    * Young Ogre – cost changed from 15 to 13, xp changed from 32 to 34, mountain defense changed from 60% to 50%, arcane resistance changed from 20% to 10%.\n    * Ogre – cost changed from 30 to 27, mountain defense changed from 60% to 50%, arcane resistance changed from 20% to 10%.\n   * Miscellaneous:\n    * Elder Falcon - cost changed from 18 to 20.\n    * Giant Ant – xp changed from 26 to 16.\n    * Soldier ant – cost changed from 16 to 12, hp changed from 35 to 36.\n    * Fire Ant - xp changed from 50 to 22.\n    * Firebomb Ant - hp changed from 38 to 45, cost changed from 14 to 19.\n    * Yeti - cost changed from 80 to 151.\n    * Piglet – xp changed from 26 to 20.\n    * Woodland Boar – cost changed from 15 to 16, hp changed from 35 to 34.\n    * Fire guardian – xp changed from 29 to 24, hp changed from 23 to 25.\n    * Fire Wraith – gold cost changed from 22 to 17.\n    * Bay Horse and Dark Horse – xp changed from 44 to 24.\n    * Mermaid Initiate – cost changed from 19 to 16, xp changed from 50 to 42.\n    * Mermaind Priestess – cost changed from 38 to 31, xp changed from 132 to 61.\n    * Mermaid Diviner – cost changed from 57 to 49.\n    * Mermaid Enchanterss – cost changed from 33 to 32, xp changed from 90 to 46.\n    * Mermaid Siren – cost changed from 52 to 42.\n    * Merman Brawler - cost changed from 19 to 17.\n    * Naga Guardian – xp changed from 35 to 36.\n    * Naga Warden – xp changed from 70 to 54.\n    * Troll Hero – cost changed from 30 to 42, xp changed from 52 to 90.\n    * Great Troll – cost changed from 48 to 78.\n    * Troll Shaman – cost changed from 32 to 35.\n    * Dwarvish Scout – xp changed from 30 to 33.\n    * Dwarvish Pathfinder – cost changed from 30 to 24, xp changed from 60 to 65.\n    * Dwarvish Explorer –cost changed from 45 to 51.\n    * Dwarvish Runesmith – cost changed from 30 to 27, xp changed from 86 to 71.\n    * Dwarvish Runemaster – cost changed from 50 to 55.\n    * Dwarvish Arcanister – cost changed form 80 to 98.\n    * Dwarvish Miner – cost changed from 19 to 5.\n    * Orcish Leader – cost changed from 20 to 21, xp changed from 60 to 54.\n    * Orcish Ruler – cost changed from 35 to 45, xp changed from 120 to 102.\n    * Orcish Sovereign – cost changed from 50 to 80.\n    * Skeleton Rider – xp changed from 44 to 33.\n    * Death Squire – xp changed from 144 to 91.\n    * Death Knight –cost changed from 45 to 80.\n    * Royal Warrior - cost changed from 40 to 47.\n    * Elvish Lord – cost changed from 36 to 42, xp changed from 120 to 97.\n    * Elvish Highlord\t- cost changed from 56 to 77.\n    * Nibbler – cost changed from 10 to 15, xp changed from 32 to 26.\n    * Caribe – cost changed from 16 to 25, xp changed from 40 to 43.\n    * Hunter Caribe – cost changed from 25 to 40.\n    * Dragonfly Naiad – cost changed from 8 to 11, xp changed from 23 to 16.\n    * Dragonfly – cost changed from 13 to 16, xp changed from 23 to 25.\n    * Grand Dragonfly – hp changed from 34 to 39, cost changed from 22 to 30.\n    * Ruffian - cost changed from 6 to 7.\n    * Thug - xp changed from 42 to 32.\n    * Bandit - cost changed from 23 to 22, xp changed from 70 to 61.\n    * Peasant and Woodsman - xp changed from 23 to 19.\n    * Elder Mage - cost changed from 65 to 90.\n\n## Version 1.17.20\n### Campaigns\n   * A Tale of Two Brothers\n    * Remove the magic communication amulets from the story.\n   * Under the Burning Suns\n    * S3: Ensure all of Garak’s attacks are changed to fire type (#7774).\n### Editor\n   * Added the ability to create a basic add-on - the _server.pbl, folder structure, and saving scenario files in a format which works with add-ons.\n### Multiplayer\n   * New game mechanics for 4p King of the Hill:\n    * A side with a leader holding the hill keep gets bonus gold each turn.\n    * A treasure chest which only a leader can unlock further rewards the first player to take the hill.\n    * Each side gets two leaders. If one dies then another can be \"recalled\" (recruited) from the recall list at its full unit cost.\n    * Computer players will try to take the hill with one of their two leaders.\n    * Revised map.\n### Translations\n   * Updated translations: British English, Czech, Italian, Japanese\n### Units\n   * Rebels:\n    * Elvish Outrider - movement changed from 10 to 11\n   * Drakes:\n    * Saurian Soothsayer - movement changed from 6 to 7\n   * Movement type changes:\n    * Smallfoot, armoredfoot, elusivefoot, mounted, fly, smallfly, lightfly, deepsea, mountainfoot, gurefoot, rodentfoot, lizard, dunefoot, duneelusivefoot, dunearmoredfoot, dunehorse, dunearmoredhorse - arcane resistance changed from 20% to 10%.\n    * Treefolk - arcane resistance changed from -30% to -20%.\n    * Undeadfoot - arcane resistance changed from -50% to -20%.\n    * Undeadfly - arcane resistance changed from -40% to -20%.\n    * Drakefly, drakeglide, drakeglide2, drakefoot - arcane resistance changed from -30% to -10%.\n   * Loyalists:\n    * Paladin - arcane resistance changed from 60% to 30%.\n    * White mage - arcane resistance changed from 40% to 30%.\n    * Mage of Light - arcane resistance changed from 60% to 50%.\n   * Undead:\n    * Lich - arcane resistance changed from -40% to -20%.\n### WML Engine\n   * Add support for filters to match negative values\n### Miscellaneous and Bug Fixes\n   * Fix a crash in the `:inspect` window when pagination is used (issue #7851).\n\n## Version 1.17.19\n### Campaigns\n   * Descent into Darkness\n    * S3: Resolved Darken Volk speaking from the darkness at the end of the scenario (#7758).\n   * Liberty\n    * S4: Resolved nameless enemies gaining names at day-break (#7748).\n    * S5: Make the loss of Hans a lose-condition (#7750).\n### Translations\n   * Updated translations: British English, Czech, Finnish, French, Portuguese (Brazil)\n### Units\n   * Rebels:\n    * Elvish Fighter - xp changed from 40 to 37, and new updated sprite and animations\n    * Merman Hunter - xp changed from 35 to 33.\n    * Elvish Scout - xp changed from 32 to 42.\n    * Elvish Hero - xp changed from 90 to 80.\n    * Elvish Captain - xp changed from 90 to 85.\n    * Elvish Marksman - cost changed from 31 to 34.\n    * Elvish Ranger - xp changed from 90 to 85.\n    * Elvish Rider - ranged damage changed from 9 to 11, hp changed from 46 to 49, cost changed from 28 to 35, xp changed from 53 to 75.\n    * Elvish Druid - cost changed from 27 to 25, xp changed from 80 to 85.\n    * Elvish Sorceress - cost changed from 32 to 34, xp changed from 100 to 90.\n    * Elder Wose - cost changed from 27 to 28, xp changed from 100 to 80.\n    * Merman Netcaster - cost changed from 27 to 26, xp changed from 85 to 54.\n    * Merman Spearman - cost changed from 27 to 22, xp changed from 85 to 54.\n    * Champion - melee damage changed from 9 to 8. added 10 melee accuracy, hp changed from 70 to 72, cost changed from 48 to 61.\n    * Elvish Marshal - hp changed from 62 to 68, cost changed from 54 to 67.\n    * Elvish Sharpshooter - ranged damage changed from 10 to 12. cost changed from 51 to 62.\n    * Elvish Avenger - ranged damage changed from 10 to 11, hp changed from 55 to 59, cost changed from 53 to 66.\n    * Elvish Outrider - ranged damage changed from 8 to 11, melee damage changed from 7 to 8, hp changed from 57 to 60, cost changed from 43 to 58.\n    * Elvish Shyde - hp changed from 46 to 51, melee damage changed from 6 to 7, ranged slow (entangle) damage changed from 6 to 8, ranged magical (thorns) damage changed from 8 to 14, cost changed from 52 to 69.\n    * Elvish Enchantress - cost changed from 55 to 70, ranged slow damage changed from 5 to 7, ranged magical damage changed from 9 to 13.\n    * Ancient Wose - cost changed from 48 to 50.\n    * Merman Entangler - cost changed from 46 to 42.\n    * Merman Javelineer - cost changed from 48 to 55.\n    * Elvish Sylph - hp changed from 60 to 68, ranged slow damage changed from 6 to 7, ranged magical damage changed from 10 to 16, cost changed from 67 to 148.\n   * Undead:\n    * Skeleton - xp changed from 35 to 39.\n    * Ghoul - xp changed from 35 to 30.\n    * Blood Bat - cost changed from 22 to 23, xp changed from 70 to 37.\n    * Revenant - cost changed from 31 to 28, xp changed from 85 to 78.\n    * Dark Sorcerer - cost changed from 33 to 34, xp changed from 90 to 110.\n    * Shadow - cost changed from 38 to 44, xp changed from 100 to 77.\n    * Wraith - xp changed from 100 to 90.\n    * Necrophage - melee damage changed from 7 to 9, cost changed from 27 to 23, xp changed from 120 to 61.\n    * Bone Shooter - cost changed from 26 to 24, xp changed from 80 to 60.\n    * Dread Bat - cost changed from 34 to 32.\n    * Draug - cost changed from 47 to 70.\n    * Lich - cost changed from 50 to 90.\n    * Necromancer - ranged cold damage changed from 17 to 19, ranged arcane damage changed from 12 to 16, hp changed from 70 to 76, impact resistance changed from 0% to 10%, cost changed from 50 to 90.\n    * Nightgaunt - cost changed from 52 to 71.\n    * Specter - cost changed from 52 to 78.\n    * Ghast - melee damage changed from 10 to 12, cost changed from 43 to 50.\n    * Banebow - cost changed from 41 to 52.\n    * Ancient lich cost changed from 100 to 214.\n   * Drakes:\n    * Drake Fighter - xp changed from 42 to 41.\n    * Drake Clasher - xp changed from 43 to 41.\n    * Drake Glider - xp changed from 35 to 39.\n    * Drake Warrior - xp changed from 70 to 81, cost changed from 32 to 31.\n    * Drake Arbiter - hp changed from 62 to 63, xp changed from 105 to 81.\n    * Drake Thrasher - xp changed from 95 to 77.\n    * Drake Flare - xp changed from 80 to 86.\n    * Fire Drake - xp changed from 80 to 84.\n    * Sky Drake - xp changed from 80 to 76, cost changed from 28 to 32.\n    * Saurian Ambusher - hp changed from 36 to 38, cost changed from 24 to 22.\n    * Saurian Soothsayer - melee attack strikes changed from 2 to 3, cost changed from 25 to 28.\n    * Saurian Spearthrower - melee damage changed from 6 to 5.\n    * Drake Blademaster - cost changed from 47 to 62.\n    * Drake Warden - cost changed from 46 to 62.\n    * Drake Enforcer - cost changed from 44 to 58.\n    * Drake Flameheart - cost changed from 51 to 66.\n    * Inferno Drake - cost changed from 51 to 64.\n    * Hurricane Drake - cost changed from 43 to 59.\n    * Saurian Flanker - hp changed from 47 to 52, cost changed from 46 to 42.\n    * Saurian Javelineer - ranged attack strikes changed from 5 to 4, cost changed from 52 to 42.\n    * Armageddon Drake - cost changed from 85 to 118.\n   * Dunefolk:\n    * Dune Burner - hp changed from 34 to 35, xp changed from 40 to 37.\n    * Dune Herbalist - cost changed from 14 to 13, xp changed from 39 to 36.\n    * Dune Rider - hp changed from 34 to 33, xp changed from 47 to 49.\n    * Dune Rover - hp changed from 32 to 33, xp changed from 43 to 40.\n    * Dune Soldier - cost changed from 18 to 17, xp changed from 43 to 39.\n    * Dune Skirmisher - xp changed from 34 to 39.\n    * Dune Explorer - xp changed from 80 to 73.\n    * Dune Swordsman - cost changed from 30 to 28, xp changed from 75 to 68.\n    * Dune Captain - cost changed from 30 to 29, xp changed from 75 to 74.\n    * Dune Spearguard - cost changed from 30 to 29, xp changed from 75 to 74.\n    * Dune Scorcher - ranged damage changed from 9 to 10, cost changed from 25 to 23, xp changed from 70 to 60.\n    * Dune Raider - cost changed from 34 to 35, xp changed from 70 to 77.\n    * Dune Swiftrider - xp changed from 65 to 62.\n    * Dune Sunderer - xp changed from 76 to 85.\n    * Dune Apothecary - cost changed from 27 to 23, xp changed from 65 to 50.\n    * Dune Falconer - hp changed from 38 to 39, cost changed from 23 to 29, xp changed from 78 to 70.\n    * Dune Strider - hp changed from 39 to 42, cost changed from 23 to 29, xp changed from 74 to 64.\n    * Naga Ophidian - hp changed from 43 to 44, cost changed from 22 to 24, xp changed from 76 to 62.\n    * Naga Ringcaster - hp changed from 40 to 41, cost changed from 22 to 24, ranged damage changed from 7 to 8, xp changed from 70 to 62.\n    * Dune Blademaster - hp changed from 69 to 76.\n    * Dune Spearmaster - hp changed from 67 to 68.\n    * Dune Cataphract - mace melee attack damage changed from 14 to 15, lance damage changed from 13 to 14, cost changed from 62 to 69.\n    * Dune Harrier - cost changed from 47 to 50.\n    * Dune Sky Hunter - cost changed from 50 to 54.\n   * Knalgan Alliance:\n    * Dwarvish Fighter - xp changed from 41 to 45.\n    * Dwarvish Thunderer - xp changed from 40 to 35.\n    * Dwarvish Guardsman - ranged damage increased from 5 to 6, xp changed from 47 to 40.\n    * Footpad - xp changed from 36 to 35.\n    * Thief - xp changed from 28 to 29.\n    * Poacher - xp changed from 29 to 28.\n    * Gryphon Rider - cost changed from 24 to 23, xp changed from 38 to 46.\n    * Dwarvish Steelclad - xp changed from 74 to 88.\n    * Dwarvish Thunderguard - cost changed from 27 to 24, xp changed from 95 to 65.\n    * Dwarvish Stalwart - hp changed from 54 to 59, ranged damage changed from 8 to 9, xp changed from 85 to 78.\n    * Outlaw - cost changed from 26 to 24, hp changed from 42 to 47, xp changed from 77 to 71.\n    * Rogue - xp changed from 70 to 80, cost changed from 24 to 25.\n    * Trapper - hp changed from 45 to 49, melee damage changed from 4 to 5, xp changed from 65 to 73.\n    * Gryphon Master - cost changed from 38 to 40.\n    * Dwarvish Lord - cost changed from 50 to 69.\n    * Dwarvish Sentinel - cost changed from 44 to 63.\n    * Dwarvish Dragonguard - cost changed from 46 to 61.\n    * Fugitive - hp changed from 62 to 68, cost changed from 53 to 55.\n    * Huntsman - cost changed from 50 to 43.\n    * Ranger - cost changed from 52 to 43.\n    * Assassin - cost changed from 44 to 46.\n   * Northerners:\n    * Orcish Archer - xp changed from 30 to 32.\n    * Naga Fighter - xp changed from 32 to 33.\n    * Wolf Rider - xp changed from 30 to 34.\n    * Orcish Warrior - cost changed from 26 to 23, xp changed from 60 to 67.\n    * Goblin Pillager - cost changed from 28 to 31.\n    * Troll - cost changed from 27 to 25, xp changed from 66 to 58.\n    * Troll Rocklobber - ranged damage changed from 17 to 19, hp changed from 51 to 53.\n    * Naga Warrior - cost changed from 24 to 22, xp changed from 66 to 56.\n    * Orcish Crossbowman - melee damage changed from 4 to 6, ranged pierce damage changed from 8 to 9, hp changed from 43 to 46, cost changed from 21 to 22, xp changed from 80 to 43.\n    * Orcish Slayer - cost changed from 26 to 21, xp changed from 64 to 62.\n    * Orcish Warlord - cost changed from 48 to 52.\n    * Direwolf Rider - cost changed from 44 to 52.\n    * Troll Warrior - cost changed from 44 to 49.\n    * Naga Myrmidon - cost changed from 48 to 47.\n    * Orcish Nightblade - cost changed from 43 to 53.\n    * Orcish Slurbow - cost changed from 43 to 37.\n   * Loyalists:\n    * Cavalryman - blade resistance changed from 30% to 20%, xp changed from 40 to 44.\n    * Bowman - xp changed from 39 to 35, melee damage changed from 4 to 5.\n    * Horseman - cost changed from 23 to 24, xp changed from 44 to 54.\n    * Merman Fighter - xp changed from 36 to 34.\n    * Mage - xp changed from 54 to 48.\n    * Javelineer - ranged damage increased from 11 to 13, cost changed from 25 to 24.\n    * Pikeman - cost changed from 25 to 24, xp changed from 65 to 69.\n    * Swordsman - xp changed from 60 to 80.\n    * Knight - cost changed from 38 to 50, xp changed from 120 to 100.\n    * Lancer - cost changed from 44 to 47.\n    * Shock Trooper - cost changed from 35 to 28, xp changed from 110 to 65.\n    * Red Mage - cost changed from 38 to 35, xp changed from 100 to 83.\n    * White Mage - cost changed from 38 to 31, xp changed from 136 to 75.\n    * Dragoon - cost changed from 28 to 29, xp changed from 95 to 80.\n    * Longbowman - cost changed from 26 to 23, xp changed from 68 to 65.\n    * Duelist - cost changed from 29 to 31, xp changed from 90 to 80.\n    * Merman Warrior - cost changed from 26 to 24, xp changed from 80 to 60.\n    * Lieutenant - cost changed from 34 to 31, xp changed from 80 to 85.\n    * Halberdier - cost changed from 44 to 52.\n    * Royal Guard - cost changed from 44 to 61.\n    * Grand Knight - hp changed from 78 to 84, lance damage changed from 17 to 19, cost changed from 58 to 86.\n    * Paladin - hp changed from 65 to 77, lance damage changed from 15 to 16, melee damage changed from 8 to 9, cost changed from 58 to 82.\n    * Iron Mauler - cost changed from 50 to 49.\n    * Arch Mage - cost changed from 59 to 63, xp changed from 220 to 150.\n    * Mage of Light - cost changed from 60 to 59.\n    * Cavalier - cost changed from 52 to 62.\n    * Master Bowman - cost changed from 46 to 50.\n    * Master at Arms - melee damage increased from 7 to 8, cost changed from 44 to 65.\n    * Merman Hoplite - cost changed from 43 to 45.\n    * Merman Triton - cost changed from 43 to 46.\n    * General - hp changed from 50 to 55, cost changed from 54 to 66, xp changed from 180 to 105.\n    * Great Mage - ranged damage changed from 16 to 17, cost changed from 72 to 110.\n    * Grand Marshal - hp changed from 60 to 68 cost changed from 66 to 101.\n### Miscellaneous and Bug Fixes\n   * Prevent duplicate advancements from being added to unit type. (issue #7009)\n   * When `[unit]` recalls a unit, remove it from the recall list before firing `[event]name=unit_placed`. (issue #7769)\n\n## Version 1.17.18\n### Campaigns\n   * Heir to the Throne\n    * S19c and S20b: Improve rewards by giving a Lieutenant instead of a Sergeant.\n   * Northern Rebirth\n    * Large grammar correction to the English text. (PRs #7643, #7663, #7676, #7680, #7682, #7683)\n   * UtBS\n    * Make the name of the dark assassin translatable again. (PR #7696)\n    * Added po hints (translation hints).\n   * World Conquest\n    * Fixed a bug that the epic trait raised XP requirements for advancements that cost less than 60 XP.\n### Multiplayer\n   * Add some search terms to the match history dialog. (PR #7571)\n### Terrain\n   * Added ruined walls terrain variations: Xur (damaged Xu); Xor (damaged Xos); and Exos (ruined Xos, is Flat/Cave alias). (PR #7629)\n### Translations\n   * Updated translations: British English, Czech, Finnish, French, Spanish\n   * Python files are now searched for translatable strings.\n   * Added the `wesnoth-tools` textdomain for WML-maintenance tools.\n### User interface\n   * Fix file dialogs (e.g. Save As dialog in the Map Editor) not listing /run/media/USER\n    as a possible file location on modern Linux distributions.\n   * Update the preferences window’s Display resolution list if the game window is resized.\n   * Better error handling if the data directory is not found. (issue #6883)\n   * The Log File button is now available in the game version info dialog on non-Windows platforms.\n   * Rearranged some elements in Display preferences.\n### Miscellaneous and Bug Fixes\n   * Move multiplayer macros to proper folder. (PR #7647)\n   * Fixed updating POT files with version 0.68-1 of the po4a toolsuite. (issue #7149)\n   * On platforms where logging used to go to stdout/stderr by default, it’s now copied there even when logging to a file. (PR #7672)\n   * `GUI.pyw` now has the i18n mechanics to be translatable, but please wait until the English has been revised.\n   * Refactored hotkey handling, so it no longer has two different codepaths for WML menu items.\n   * The old `utils/change_textdomain` script has been removed. (PR #7688)\n   * wmlxgettext now supports extracting all textdomains at once. (PR #7624)\n   * Fixed a crash in the autocorrect handling on the Wesnoth console. (issue #7412)\n\n## Version 1.17.17\n### Translations\n   * Updated translations: Arabic, British English, Czech, French, German, Italian, Spanish\n### User interface\n   * Fixed main menu Language button and Version label not being refreshed after\n    switching languages without relaunching the game (issue #7437).\n   * Fixed changing game resolution in Preferences not refreshing the user interface\n    as expected (issue #7436).\n### WML Engine\n   * Add support for distinct sub-achievements.\n   * Add [filter_ability] usable instead of [abilities][tag name] to filter attributes including the type of ability used.\n\n## Version 1.17.16\n### Translations\n   * Updated translations: British English, French, Italian\n### WML Engine\n   * Fixed a crash when encountering a scenario with missing sides (issues #7550,#7553,#7554)\n\n## Version 1.17.15\n### Multiplayer\n   * The game no longer crashes when using \"Back To Turn\" after the game has\n    ended in multiplayer #4236\n### Translations\n   * Updated translations: British English, Bulgarian, Czech, French, Spanish, Turkish\n### User interface\n   * The \"Back To Turn\" menu now replays the turn in singelplayer too. However,\n    the Continue button can be used to resume the game from any given position.\n### WML Engine\n   * Added support for `[effect] apply_to=level` (PR #7512)\n### Miscellaneous and Bug Fixes\n   * The replay viewer now also replays victory/defeat events properly #4667, #6180\n   * Fixes undo stack getting corrupted by reloading #7253\n   * Removed unused `--color` switch from wesnoth_addon_manager\n\n## Version 1.17.14\n### Campaigns\n   * Under the Burning Suns\n    * S05 Fixed the main cavern event not taking scouting into account. (issue #7394)\n### Packaging\n   * Curl is now a required dependency\n### Translations\n   * Updated translations: British English, Czech, French, Italian, Spanish\n### User interface\n   * The match history button in the multiplayer lobby is now enabled. This allows viewing the game history of the player you have selected in the righthand sidebar.\n### Miscellaneous and Bug Fixes\n   * wesnoth_addon_manager now supports SSL/TLS connection (using the `--secure` flag)\n   * wesnoth_addon_manager now supports IPv6 connection (using the `--ipv6` flag)\n   * Added new command line flag `--terms` to wesnoth_addon_manager (retrieves and prints the add-ons server upload terms)\n   * wesnoth_addon_manager now supports the `--version` flag (reports the current Wesnoth version)\n   * Linux SCons and CMake scripts now support enabling `_GLIBCXX_ASSERTIONS`.\n\n## Version 1.17.13\n### Add-ons client\n   * Added automatic schema-validation of `_server.pbl` files when uploading an add-on. (PR #7239)\n### Campaigns\n   * Legend of Wesmere\n    * Adjusted gold and carryover between S11, S14 and S17. (issue #7230)\n    * S03: Fixed an event trigger when Urudin retreats. (PR #7221)\n    * S16: Updated screen flash to use new macros.\n   * Secrets of the Ancients\n    * S17: Use the new `screen_fade` visual effect.\n   * Son of the Black Eye\n    * S14: Fixed Grüü’s dialogue not appearing during the intro. (issue #7280)\n   * The South Guard\n    * S04: Updated safeguard against AI leader stupidity to match map changes.\n   * Under the Burning Suns\n    * Quenoth Rework, including the major changes listed below. (PR #7349)\n    * Redesign of the Quenoth Fighter line, with multiple attacks instead of the formation ability.\n    * Redesign of the Quenoth Shaman line, with songs and the tailwind ability.\n    * Redesign of the Tauroch Rider line, giving both Tauroch and Rider one attack each.\n    * Hide XP bars for some enemies that are never expected to advance a level.\n   * World Conquest\n    * Fix mechanic when a commander replaces a dead leader. (issue #7284)\n### Editor\n   * Scrolling the map north or south can move the text that overlays the map, so it doesn’t always obscure the southmost hexes of the map. (issue #6422)\n### Multiplayer\n   * Allied units’ orbs no longer look like the player’s own units’ orbs. (issue #7108)\n    * By default, they are now two-color during the ally’s turn.\n    * Added an advanced setting to always show them as single-color (the ally color).\n   * Add waterfall animations to Isar’s Cross. (PR #7348)\n### Terrain\n   * Added Art Placeholder overlay (terrain code `^Xxxx`), used for Isar’s Cross’ new waterfalls. (PR #7348)\n### Translations\n   * Updated translations: British English, Chinese (Simplified), Czech, Dutch, Finnish, French, Polish, Portuguese (Brazil), Spanish\n   * wmlxgettext always uses Unix-style file paths in .pot files, to reduce changes when working on different platforms. (issue #7380)\n### Units\n   * Add Merman Brawler and Citizen to core.\n   * Add Dwarvish Miner to core.\n   * Add Sand Scamperer unit.\n   * Giant Ant now advances to Soldier Ant, requiring 26 XP.\n   * Soldier Ant now costs 16 gold, has 35 HP and needs 50 XP to advance.\n### User interface\n   * Added icons for invulnerable and unhealable states. (PR #7363)\n   * The help browser shows groups (`[race]help_taxonomy=`) in subfolders. For example Humans/Dunefolk and Elves/Quenoth. (PR #7228)\n### WML API\n   * New `attacks_used` key in `[attack]` causes the attack to deduct more than 1 from `attacks_left`. (PR #7351)\n   * Fixed `[foreach]` when nested loops used the same variable name for the inner and outer loop. (issue #6305)\n   * New `[trait]require_traits=` and `[trait]exclude_traits=` to control random trait generation. (PR #7109)\n### WML Engine\n   * Added basic achievements functionality.\n### Miscellaneous and Bug Fixes\n   * Fixed a regression in 1.17.x resulting in overlarge unit HP and XP bars in some cases. (issue #7171)\n   * Fixed the editor’s unit tool crashing when placing a unit. (issue #7296)\n   * Many command-line options that log to stdout/stderr now automatically imply `--no-log-to-file`. (issue #7310)\n   * General consolidation of code paths for logging between Windows and non-Windows platforms.\n   * Fixed crash and missing output in `--report`.\n   * Schema validation accepts variables in `[harm_unit]alignment`.\n   * Schema validation no longer accepts the unused `[unit]hp_bar_scaling` and `[unit]xp_bar_scaling`.\n   * Fix an issue with schema validator not reporting errors at top level.\n   * The `unit_tree` tool which generates https://units.wesnoth.org/ now ignores the `[advancefrom]` tag.\n   * Fix the search for the game data directory when doing a local Visual Studio build.\n   * Fixed warnings when compiling with Boost 1.81.\n\n## Version 1.17.12\n### Add-ons server\n   * Added support for allowing multiple people to upload updates to an add-on (PR#7268)\n### Campaigns\n   * Heir to the Throne\n    * S03: Rewrite intro text, including a hint about training troops (PR #7214)\n### Translations\n   * Updated translations: Arabic, British English, Czech, French, Italian, Japanese, Portuguese (Brazil), Turkish\n### Units\n   * Dunefolk Rover portrait added\n   * Update sprites for Loyalist General, Spearman, Cavalryman, and Grand Knight\n   * Add more ant types\n   * Fix and adjust Falcon and Elder Falcon attacks\n### User interface\n   * Improved the layout of the orb colors dialog, and added tooltips.\n### Miscellaneous and Bug Fixes\n   * wmllint now validates `rank=` values in `[campaign]` (issue #7224)\n   * Fixed a crash when checking if abilities are active during game initialisation after loading a saved game. (issues #5643, #7238)\n\n## Version 1.17.11\n### Campaigns\n   * Sceptre of Fire\n    * S9: Update for terrain codes introduced in 1.17.9 (issue #7210)\n   * Heir to the Throne:\n    * S05B: Delurin now has traits Loyal + resilient + intelligent\n   * Liberty:\n    * The non-loyal character Delurin now has traits resilient + intelligent\n### Translations\n   * Updated translations: Arabic, British English, Finnish, French\n### Units\n   * Moved Kraken from campaigns to core, updated sprite\n   * Added some dragonfly units to \"monsters\"\n### Miscellaneous and Bug Fixes\n   * Fixed a crash when moving certain walking corpse variations north due to missing animations. (issue #7190)\n   * Fixed special notes being duplicated when storing units (issue #7153).\n\n## Version 1.17.10\n### Terrain\n   * `^Qhhf` and `^Qhuf` terrain codes available to allow forest terrain on bluff/gulch hexes\n### Translations\n   * Updated translations: British English, Czech, French, Polish, Portuguese (Brazil)\n### Units\n   * Merkfolk units movement cost on forest and hills reduced from 5 to 4.\n   * Orcish Slayer can advance to the Orcish Nightblade by default.\n   * Orcish Slayer's xp required to level up reduced from 100 to 64.\n   * Dunefolk Falconer portrait added.\n### Miscellaneous and Bug Fixes\n   * Fixed not being able to undo moves (bug #6898)\n\n## Version 1.17.9\n### Terrain\n   * Change codes \"Irs, Ias, Icr, Ior, and Icn\" to \"Isr, Isa, Isc, Iwo, and Iwc\", respectively\n### Translations\n   * Updated translations: British English, Czech, French, Italian, Portuguese (Brazil)\n### User interface\n   * Bot hosted games are now show on a separate tab from player hosted games.\n### Miscellaneous and Bug Fixes\n   * Add disconnect check to alert users when they lose connection to the multiplayer server (issue #1336)\n\n## Version 1.17.8\n### Editor\n   * add \"elevation\" terrain group\n### Multiplayer\n   * The /report command now opens a dialog rather than simply allowing free-form text after the command.\n### Terrain\n   * Expansion of cosmetic \"lower terrain\" to \"higher terrain\" and more transition graphics.\n### Translations\n   * Updated translations: British English, Chinese (Simplified), Czech, French, Italian, Portuguese (Brazil), Russian, Turkish\n### Miscellaneous and Bug Fixes\n   * Fixed highlighted movement range when hovering over units after their owner ends turn. It now shows their max movement next turn, instead of the remaining moves from their previous turn. (issue #6716)\n   * Stopped wmllint adding `wesnoth-icon.png` to `[message]`s that don’t already have an image. (PR #6991)\n\n## Version 1.17.7\n### Terrain\n   * Generalized \"lower terrain\" similar to the mid-level in lava/chasm.  Cosmetic and unwalkable versions. (PR #6927)\n### Translations\n   * Updated translations: Arabic, British English, Bulgarian, Chinese (Traditional), Czech, Finnish, French, Italian, Portuguese (Brazil)\n### WML Engine\n   * Add the pre_attack event.\n### Miscellaneous and Bug Fixes\n   * Implemented logging to file for Linux and macOS, and enabled it be default for Steam Linux.\n   * Fixed drake flare leadership animation over water (issue #3996)\n   * Fixed animations not clearing properly when zoomed (issues #6589, #6891, #6892)\n   * Fixed inconsistent cropping of unusually-sized item images (issue #6118)\n   * Fixed the `{IS_HERO}` macro to avoid losing the hero ellipse when a unit levels up\n   * Stored credentials are now encrypted with AES rather than RC4. This will result in credentials needing to be re-entered the first time when logging in with this version.\n   * The cache directory is now configurable through a command-line option in the same way as data, user data and user config directories.\n\n## Version 1.17.6\n### Campaigns\n   * The South Guard\n    * S4: Fixed replay OOS on victory event (issue #6832)\n   * Under the Burning Suns\n    * S8: Fixed replay OOS on victory event (issue #6267)\n   * World Conquest\n    * Fixed Bezoar artifact being bugged and broken.\n### Lua API\n   * New `wesnoth.interface.screen_fade` function applies an overlay colour to the game display, fading over the given duration (PR #6864).\n   * New functions have been added to register game events from Lua: `wesnoth.game_events.add`, `wesnoth.game_events.add_menu`, `wesnoth.game_events.add_repeating`, `wesnoth.game_events.add_wml`.\n    * Both the action and the filter can now be a native Lua function, if needed.\n    * All features of the `[event]` tag are available.\n    * The primary API is `wesnoth.game_event.add` - the others are shortcuts for common use-cases.\n   * `wesnoth.game_events.fire` (renamed from `wesnoth.fire_event`) now supports passing unusual event-specific data such as damage in an attack event or previous owner in a village capture event.\n   * `wesnoth.fire_event_by_id` is renamed to `wesnoth.game_events.fire_by_id`.\n   * `wesnoth.current.event_context` now has an additional `data` attribute that contains the full event data, including the former owner in a village capture event (which was previously never exposed anywhere).\n   * `wesnoth.remove_event_handler` renamed to `wesnoth.game_events.remove` for consistency with other event functions.\n### Packaging\n   * Increased minimum required version of SDL to 2.0.10 for non-macOS platforms.\n   * Increased minimum required version of SDL to 2.0.22 and the minimum required OS version to 10.12 for macOS due to needing the fix https://github.com/libsdl-org/SDL/commit/3bebdaccb7bff8c40438856081d404a7ce3def30.\n### Rendering Engine\n   * Large changes have been made to Wesnoth's rendering engine, enabling hardware acceleration for the majority of components and resolving many long-standing issues. Performance should be greatly increased, and CPU and GPU usage greatly decreased in almost all situations. Issues confirmed resolved: #1291, #1350, #1605, #1755, #2059, #2458, #2618, #2865, #3238, #3255, #3421, #3592, #3798, #3937, #4210, #4460, #4877, #5115, #5420, #5494.\n### Translations\n   * Updated translations: Arabic, British English, Czech, Finnish, French, Italian, Japanese, Swedish\n### Units\n   * Fixed Warden’s and Arbiter’s animations popping on water tiles (issue #6508)\n   * Updated some Loyalist sprites: Sergeant, Lieutenant, Swordsman, Pikeman, Royal Guard, Halberdier\n   * Animations for Nightgaunt\n### WML Engine\n   * A new interface action `[screen_fade]` provides a smooth screen fade effect which also covers units (issue #6745).\n   * Events now support filter conditions using the Wesnoth Formula Language with a new `filter_formula` key.\n   * It is now possible for variable interpolation in an event name to expand to multiple event names - the name is split on commas both before and after variable interpolation.\n   * The `[fire_event]` tag now supports a `[data]` subtag that can be used to pass any arbitrary information to the event. In particular, it supports passing damage to an attack event and former owner to a village capture event.\n### Miscellaneous and Bug Fixes\n   * Fixed being unable to interact with units when Scroll Lock is active (issue #6759)\n   * Fixed the addon manager UI blanking incorrectly (issue #6787)\n   * Implemented a workaround for bad SDL rectangle drawing in some versions (issue #6799)\n\n## Version 1.17.5\n### Campaigns\n   * Eastern Invasion\n    * S1: Fixed campfire not having a sound (issue #5766)\n    * S07a:\n      * Better handling for side 2 (issue #4145)\n      * Fixed Grug upkeep, added dialogue about ogres joining (issue #4145)\n   * Northern Rebirth\n    * S1: Fixed Al'Tar confusing an orc for a slave (issue #6735)\n### Translations\n   * Updated translations: Arabic, Chinese (Traditional), Czech, Finnish, French, Japanese, Polish\n### User interface\n   * High-DPI font and image rendering is now enabled across the entire UI.\n   * Resolved broken layout in some low-resolution configurations (issue #5620, #6544)\n### Miscellaneous and Bug Fixes\n   * wmllint automatically removes the obsolete lines `{SOUND:SLOW}` and `{SOUND:POISON}`\n   * Fixed path finding visibility bug that sometimes caused OOS errors on maps with tunnels and at least three sides that do not share vision (PR #6744)\n   * Fixed transparency of submerged units when zoomed (issue #3746)\n   * Fixed mouse input mapping problems on MacOS (issue #6715)\n   * Removing the Protect Unit Micro AI no longer causes a Lua error\n   * Fixed chance of being unscathed in damage calculation for some fights in which both units can die (issue #6590)\n   * Fixed visibility bug in ai_helper.get_attackable_enemies() for some complex filters\n   * Fixed bug in Bottleneck Micro AI involving units without moves on terrain with multiple open passages (issue #6599)\n   * Fixed error in Castle Switch CA of the Experimental AI after a leader was killed (issue #6440)\n   * Fixed error in retreat-injured CA when regenerate ability code does not include a value= key\n   * Retreat-injured CA no longer takes villages from allies by default, but this can be allowed with new aspect allow_ally_villages\n   * Recruit Rushers Micro AI: new parameter reset_cache_each_turn\n   * Experimental AI no longer uses generic_recruit_engine: fixes a data leakage bug between Experimental AIs of different sides\n   * Experimental AI recruit rushers: include unit types from extra_recruit (issue #4924)\n   * Fix segfault when weapon is removed during attack (issues #4927 and #5914)\n   * Add no-unit error message for unit debug command (issue #6116)\n   * Significantly improve efficiency of move-to-any-enemy CA (issue #6504)\n   * Logger: do not show user name in paths\n\n## Version 1.17.4\n### Campaigns\n   * Sceptre of Fire\n    * S9: Allow Grypon Riders to complete the scenario (issue #6332)\n   * Under the Burning Suns\n    * S5: Enforce encounter with the Cloaked Figure (issue #6364)\n    * S8: Spawned units will now be unable to be blocked into walls (PR #6677)\n### Editor\n   * Added some missing terrain groupings (issue #6643)\n### Terrain\n   * new terrain variations\n    * `Rrd` for desert road/cobbles - just a recolor, but has some different transitions than the normal roads\n    * `^Bsa*` for snowy stone bridge\n### Translations\n   * Updated translations: British English, Chinese (Simplified), Czech, French, Italian\n### User interface\n   * Added integer scaling options for the entire UI.\n### Miscellaneous and Bug Fixes\n   * The `--stringfreeze` (`-Z`) command line flag has been removed from wmllint.\n   * The checks for the old special notes system have been removed from wmllint; the `notecheck off`, `notecheck on` and `match <ability> with <note>` magic comments no longer have any effect.\n   * Resolved title screen flashing during the loading screen (issue #2395)\n   * Added the {PASSABLE_HEX} macro to core and deleted it from TRoW S19 (PR #6677)\n   * Converted most portrait images to webp (PR #6611).\n   * Hardware accelerated rendering has been enabled in SDL.\n\n## Version 1.17.3\n### Add-ons client\n   * The `forum_auth` attribute now allows authenticating with your forum credentials, as well as no longer requiring the `passphrase` or `email` attributes be populated in the `_server.pbl`. (PR #5866)\n### Campaigns\n   * Descent into Darkness\n    * S08: Prevent Spectral Servant from picking up the book (issue #6576)\n   * Northern Rebirth\n    * S05a_01:\n      * Solve units getting stuck in the wall before the spider chamber (issue #6607)\n      * Enhance dialogue between Tallin and Abhai (issue #6608)\n   * Sceptre of Fire\n    * Fixed Thursagan's Arcanister advancement being \"lost\" after dismounting a minecart (PR #6484).\n    * Improvements and spelling corrections to the English prose text (PR #6177).\n### Lua API\n   * New `wesnoth.interface.add_overlay_text` function allows placing arbitrary floating text anywhere on the screen - like `[print]` but with more options (PR #5837).\n### Terrain\n   * New palisades terrain (^Eqp) and general fence terrain macros cleanup\n   * Rubble pile overlay terrain now connects with adjacent rubble piles\n   * Replace old-style terrain macros (PR #6606)\n### Translations\n   * Updated translations: British English, Czech, French, Italian\n### User interface\n   * Map labels are scaled by zoom (PR #6604).\n   * Revamped the Game Load dialog.\n### Miscellaneous and Bug Fixes\n   * Reduced the size of Isar's Cross map background images.\n   * Resolve crash on systems using musl implementation of libc (issue #6603).\n   * Refactoring of the C++ GUI2 event dispatcher.\n   * Refactoring of the `display` class' theme initialization.\n   * Fixed a crash with \"laststrike\" (firststrike given to the opponent) weapon specials (issue #6575).\n   * Added more unit tests for weapon specials.\n\n## Version 1.17.2\n### Add-ons client\n   * Add-on passwords that are not stored in the _server.pbl can now be stored in the same credentials file as multiplayer passwords. (PR #6543)\n### Packaging\n   * SDL2_image now requires webp support be enabled. (PR #6392)\n   * Lua is now a submodule. (PR #6549)\n### Translations\n   * Updated translations: British English, Bulgarian, Czech\n### Miscellaneous and Bug Fixes\n   * wmlscope can now report about calls to deprecated macros when using the `--unresolved` switch\n   * Webp images can now be used in mainline and in add-ons. (PR #6392)\n\n## Version 1.17.1\n### Add-ons client\n   * Fixed: using the up or down arrow keys in small-screen mode returned to the title screen (issue #6485)\n   * Set the right default port number for the 1.17.x add-ons server.\n### Campaigns\n   * Delfador’s Memoirs\n    * S11: Finding Chantal will now share her side’s vision with the player, as originally intended.\n    * S14: Smoother appearance of enemies and added dialogue (#6176)\n   * Sceptre of Fire\n    * Fixed Thursagan's Arcanister advancement being \"lost\" after dismounting a minecart.\n   * The Rise of Wesnoth\n    * S22: Fixed the possibility of a misplaced dialogue when a bridge was broken (issue #6376)\n   * Under the Burning Suns\n    * S08: Kromph and the Dust devil now trigger a critical event (issue #6211)\n   * World Conquest\n    * Fixed artifacts \"draining\" HP on pick-up.\n### Lua API\n   * Upgrade to Lua 5.4.4.\n### Translations\n   * Updated translations: Czech, Italian, Portuguese (Brazil), Russian\n\n## Version 1.17.0\n### Campaigns\n   * A Tale of Two Brothers\n    * The mercenary will now spawn in a less sudden way (issue #6183)\n   * Delfador’s Memoirs\n    * S07: Clarified objectives (issue #5608) and remove End Turn being required to trigger victory (issue #6173)\n   * Descent into Darkness\n    * S08: Prevent possibility of Darken Volk advancing to Lich (issue #6351)\n   * Heir to the Throne\n    * S05b: Temples given an aged appearance to match ‘ancient temples’ description (issue #5576)\n   * Liberty\n    * S06: Enforce failure condition for allied team (issue #6019)\n   * Northern Rebirth\n    * Give Eryssa’s side a consistent team color (issue #5375)\n   * Sceptre of Fire\n    * S04: Mining objectives are much clearer now (issue #6154)\n   * Secret of the Ancients\n    * S06: Ardonna should no longer mistake hostile bats as ‘my pet’\n   * The Rise of Wesnoth\n    * S08: The appearance of Naga is now smoother (issue #6140)\n    * S19: The troll’s gold is automatically collected upon victory if not already obtained (issue #6141)\n    * S19: Avoid units spawning over chasms\n    * Remove time-runs-out lose condition for final scenario (issue #6109)\n   * Under the Burning Suns\n    * Avoid a few possibilities where the Dust Devil could speak (issue #4892)\n    * Avoid dehydration status icon persisting into the next scenario (issue #5687)\n    * Correct Traveler’s Ring description (issue #6043) and add an icon overlay (issue #6126)\n    * S02: Pinnacle rock is now shown during dialogue (issue #6125)\n    * S05: Avoid village just taken by the player being re-assigned to the enemy (issue #6187)\n    * S06b:\n      * Account for non-elvish units encountering Dwarf Sergeant (issue #6196)\n      * Grog will not die as quick now (issue #6196 & #6197)\n      * Hermit dialogue cannot be accidentally skipped now (issue #6196)\n      * Fixed bug where tentacles would not spawn (issue #6196)\n      * Fast units cannot get stuck on the wall now (issue #6196)\n      * Camera now moves to where the charges are blown up (issue #6197)\n      * Fixed weird scout AI behaviour (issue #6196)\n    * S09: Rebels joining Kaleh’s side are now loyal (issue #6229 and #6365)\n    * The last unit killed to trigger certain events should no longer linger during those events (issue #6341)\n    * The Dark Assassin’s race is not revealed until uncloaked (issue #6213)\n    * The Dust Devil’s XP bar is now blue (issue #6212)\n   * Winds of Fate:\n    * New Drakes-centric Campaign added to mainline\n   * World Conquest:\n    * Fixed for Winged Scepter not giving the correct defence values\n    * Corrected the attack icon of ice bow from a lightning bolt to an iceball\n### Editor\n   * Avoid rare crash situation after editing scenarios (issue #5883)\n### Multiplayer\n### Lua API\n   * Fixed an error in `gui.get_user_choice()` and added support for the current DescriptionWML syntax (PR #6247)\n### Translations\n   * Added translations: Spanish (Latin American)\n   * Updated translations: British English, Bulgarian, Chinese (Simplified), Chinese (Traditional), Czech, Dutch, Finnish, French, Indonesian, Italian, Japanese, Polish, Portuguese (Brazil), Russian, Scottish Gaelic, Spanish, Turkish.\n   * gettext plural forms now have caret prefixes stripped as well (PR #6094).\n### Units\n   * Added attack image for the Bone Knight’s trample\n### User interface\n   * Added a VSync option (issue #5018). This defaults to enabled and is available in Preferences -> Display only with SDL 2.0.17 and later as older versions do not support VSync with the software renderer.\n   * The names of the abilities used as specials appear in the attack prediction window with specials weapons\n   * Added a prompt to allow migrating settings and redownloading add-ons used in a previous version of Wesnoth when starting a new versions for the first time.\n   * Ban expiry intervals in the MP UI now only mention the most significant time unit (e.g. \"3 minutes\" instead of \"3 minutes, and 20 seconds\") (PR #6097).\n   * Steam cloud file is no longer listed in the Load Game dialog.\n   * Redefine green text in dialogs and tool-tips so they are no longer ‘too dark’ with recent Pango versions (issue #4348)\n   * Gave the main menu's Language button a label again, now displaying the current language.\n   * Tweaked margins around the main menu's bottom row.\n   * Difficulty no longer displayed in the Load Game dialog when it is not relevant to a save file (issue #5321)\n### WML Engine\n   * `[heal_unit]` no longer sets the `heal_amount` variable.\n   * `[heal_unit]` now supports a `variable=` key.\n   * Added an `id` field to the items of the arrays generated by `[harm_unit]`.\n### Miscellaneous and Bug Fixes\n   * Fixed: keyboard input during the loading screen intermittently caused a crash (issue #4447)\n   * AI: fixed custom synced commands not changing the game state\n   * Messenger MAI: fixed bug of own units sometimes blocking the path to a waypoint for the messenger\n   * Correct unit display adjustments on certain tiles when at zoom level other than 100% (issue #5974)\n   * Fix the engine exiting immediately due to a corrupt .mo file (issue #6194)\n   * Removed support for writing BMP screenshots (PR #6206).\n   * Password storage was fixed to work with multiple accounts (PR #6290)\n   * wmllint now automatically removes {MAGENTA_IS_THE_TEAM_COLOR}.\n   * wmllint, wmlscope and wmlindent now support the command line `--version` flag, which reports the current version of Wesnoth (issue #6346).\n   * wmllint is now capable of handling unit levels and types when checking recruitment patterns.\n\n## Version 1.16.12\n### Security Fixes\n   * Run wesnothd server as `_wesnoth:_wesnoth` instead of `nobody:users`, improving safety and fixing a warning message in systemd 246+\n### Translations\n   * Updated translations: Czech, German, Italian\n### Miscellaneous and Bug Fixes\n   * Fix a regression from 1.13.11 that inverted horizontal scrolling with SDL versions 2.0.18+ on X11 and versions 2.0.20+ on Wayland (issues #3362 and #7404, PR #8158)\n\n## Version 1.16.11\n### Translations\n   * Updated translations: Arabic, British English, Bulgarian, Chinese (Simplified), Czech, French, Japanese, Polish, Slovak, Welsh\n### Miscellaneous and Bug Fixes\n   * Fix a crash in the `:inspect` window when pagination is used (issue #7851).\n   * Fix \"Something is wrong with the addon version check database supporting the multiplayer lobby\".\n    Note that It also required the host of the game to use wesnoth 1.16.11\n\n## Version 1.16.10\n### Campaigns\n   * Under the Burning Suns\n    * S03: Ensure all of Garak’s attacks are changed to fire type (issue #7774).\n    * Make the name of the dark assassin translatable again (PR #7675).\n    * Added po hints (translation hints).\n   * World Conquest\n    * Fix lua error at victory after promoting a replacement commander (issue #7823).\n### Translations\n   * Updated translations: Arabic, Czech, French, Italian, Spanish, Portuguese (Brazil)\n### User interface\n   * Fix file dialogs (e.g. Save As dialog in the Map Editor) not listing /run/media/USER\n    as a possible file location on modern Linux distributions.\n   * Update the preferences window’s Display resolution list if the game window is resized.\n   * Enable Whiteboard if the \"enable planning mode on start\" option is set (issue #7820).\n### Miscellaneous and Bug Fixes\n   * Fix compilation with Clang 16 (PR #7586).\n   * Fix crash in the Flatpak version when recruiting in Wayland (issue #7104).\n   * Fix the version dialog’s display on MacOS.\n   * Fixed updating POT files with version 0.68-1 of the po4a toolsuite (issue #7149).\n\n## Version 1.16.9\n### Campaigns\n   * Heir to the Throne\n    * S03: Rewrite intro text, including a hint about training troops (PR #7291)\n   * World Conquest\n    * Fixed rare lua error when a unit is killed.\n    * Fixed Bezoar Item.\n    * Fixed some items losing their effects in later scenarios.\n    * Fixed units losing hp when picking up an artifact\n    * Partially fixed \"Promote to commander\" (but required a further fix in 1.16.10)\n### Editor\n   * Scrolling the map north or south can move the text that overlays the map, so it doesn't always obscure the southmost hexes of the map. (issue #6422)\n### Multiplayer\n   * Allied units’ orbs no longer look like the player’s own units’ orbs (issue #7108).\n      * By default, they are now two-color during the ally’s turn.\n      * Added an advanced setting to always show them as single-color (the ally color).\n   * \"Back to Turn\" menu no longer crashes the game when used\n    After the game has ended. #4236\n### Translations\n   * Updated translations: British English, Bulgarian, Chinese (Simplified), Czech, Dutch, French, German, Italian, Polish, Portuguese (Brazil), Spanish, Turkish\n### User interface\n   * Improved the layout of the orb colors dialog, and added tooltips.\n### Miscellaneous and Bug Fixes\n   * Fixed Possible Crash when using planning mode #3768\n   * Fixed Possible OOS when using planning mode #7465\n   * Fixed game hanging when an enemy attacks a unit\n    with planned moves #5302\n   * Fixed custom effects implemented via wesnoth.effects\n    losing their effects in later scenarios.\n   * Fix Crash undo+redo error after reloading #7253\n   * Fix Crash when loading old replays #7253\n   * Fix Crash when a unit has bad animations replays #5032\n   * Postponed the removal of the `SPECIAL_NOTES` macro, which means there will be fewer log messages.\n   * `wesnoth_addon_manager` now supports SSL/TLS connection (using the `--secure` flag)\n   * `wesnoth_addon_manager` now supports IPv6 connection (using the `--ipv6` flag)\n   * Added new command line flag `--terms` to `wesnoth_addon_manager` (retrieves and prints the add-ons server upload terms)\n   * w`esnoth_addon_manager` now supports the `--version` flag (reports the current Wesnoth version)\n   * Removed unused `--color` switch from `wesnoth_addon_manager`\n\n## Version 1.16.8\n### Editor\n   * Fixed: the unit tool crashes when placing a unit (issue #7296).\n### Translations\n   * Updated translations: Finnish, Spanish\n### Miscellaneous and Bug Fixes\n   * Make the log messages about \"Skipping duplicate unit variation ID\" say which `[unit_type]` is causing the error.\n\n## Version 1.16.7\n### Translations\n   * Updated translations: Arabic, British English, Czech, Finnish, French, Italian, Japanese, Polish, Portuguese (Brazil), Turkish\n### Miscellaneous and Bug Fixes\n   * wmllint now validates `rank=` values in `[campaign]` (issue #7224)\n   * Add disconnect check to alert users when they lose connection to the multiplayer server (issue #1336)\n   * Fixed a crash when checking if abilities are active during game initialisation after loading a saved game. (issues #5643, #7238)\n   * Fix a crash when an out-of-bounds side number is used in Lua’s `sync.evaluate_multiple` (PR #7222)\n   * Fixed special notes being duplicated when storing units (issue #7153).\n\n## Version 1.16.6\n### Translations\n   * Updated translations: Arabic, British English, Bulgarian, Chinese (Simplified), Chinese (Traditional), Czech, French, Italian, Japanese, Portuguese (Brazil), Russian, Swedish, Turkish\n### Miscellaneous and Bug Fixes\n   * Fixed drake flare leadership animation over water (issue #3996)\n   * Fixed animations not clearing properly when zoomed (issue #6589)\n   * Fixed the `{IS_HERO}` macro to avoid losing the hero ellipse when a unit levels up\n   * Fixed highlighted movement range when hovering over units after their owner ends turn. It now shows their max movement next turn, instead of the remaining moves from their previous turn. (issue #6716)\n   * Fixed out of sync errors occurring when unused add-ons contain the [resistance_defaults] or [terrain_defaults] tags (issue #6650)\n\n## Version 1.16.5\n### Miscellaneous and Bug Fixes\n   * Fixed frequent crashes occurring in multiplayer matches (issue #6863).\n\n## Version 1.16.4\n### Campaigns\n   * Eastern Invasion\n    * S07a:\n      * Better handling for side 2 (issue #4145)\n      * Fixed Grug upkeep, added dialogue about ogres joining (issue #4145)\n   * Northern Rebirth\n    * S1: Fixed Al'Tar confusing an orc for a slave (issue #6735)\n   * Under the Burning Suns\n    * S5: Enforce encounter with the Cloaked Figure (issue #6364)\n### Translations\n   * Updated translations: Arabic, British English, Chinese (Traditional), Czech, Polish, Finnish, French\n### Units\n   * Fixed Warden’s and Arbiter’s animations popping on water tiles (issue #6508)\n### User interface\n   * Resolved broken layout in some low-resolution configurations (issue #5620, #6544)\n### Miscellaneous and Bug Fixes\n   * Fixed path finding visibility bug that sometimes caused OOS errors on maps with tunnels and at least three sides that do not share vision (PR #6744)\n   * Fixed being unable to interact with units when Scroll Lock is active (issue #6759)\n   * Removing the Protect Unit Micro AI no longer causes a Lua error\n   * Fixed chance of being unscathed in damage calculation for some fights in which both units can die (issue #6590)\n   * Fixed visibility bug in ai_helper.get_attackable_enemies() for some complex filters\n   * Fixed bug in Bottleneck Micro AI involving units without moves on terrain with multiple open passages (issue #6599)\n   * Fixed error in Castle Switch CA of the Experimental AI after a leader was killed (issue #6440)\n   * Fixed error in retreat-injured CA when regenerate ability code does not include a value= key\n   * Retreat-injured CA no longer takes villages from allies\n   * Experimental AI no longer uses generic_recruit_engine: fixes a data leakage bug between Experimental AIs of different sides\n   * Experimental AI recruit rushers: include unit types from extra_recruit (issue #4924)\n   * Fix segfault when weapon is removed during attack (issues #4927 and #5914)\n   * Add no-unit error message for unit debug command (issue #6116)\n   * Significantly improve efficiency of move-to-any-enemy CA\n\n## Version 1.16.3\n### Add-ons client\n   * Fixed: using the up or down arrow keys in small-screen mode returned to the title screen (issue #6485).\n   * Add-on passwords that are not stored in the `_server.pbl` can now be stored in the same credentials file as multiplayer passwords (PR #6543).\n### Campaigns\n   * Delfador’s Memoirs\n    * S11: Finding Chantal will now share her side’s vision with the player, as originally intended.\n    * S14: Smoother appearance of enemies and added dialogue (#6176).\n   * Descent into Darkness\n    * S08: Prevent Spectral Servant from picking up the book (issue #6576).\n   * Northern Rebirth\n    * S05a_01: Solve units getting stuck in the wall before the spider chamber (issue #6607).\n   * Sceptre of Fire\n    * Fixed Thursagan's Arcanister advancement being \"lost\" after dismounting a minecart.\n    * Improvements and spelling corrections to the English prose text (PR #6177).\n    * S9: Allow Grypon Riders to complete the scenario (issue #6332)\n   * Son of the Black Eye\n    * Improvements and spelling corrections to the English prose text (PR #6166).\n   * The Rise of Wesnoth\n    * S22: Fixed the possibility of a misplaced dialogue when a bridge was broken (issue #6376).\n   * Under the Burning Suns\n    * S08: Kromph and the Dust devil now trigger a critical event (issue #6211).\n   * World Conquest\n    * Updated the modding instructions, helping add-on authors add extra factions etc.\n### Editor\n   * Add documentation for the magenta D and special terrain overlays (PR #6460).\n   * Added some missing terrain groupings (issue #6643)\n### Multiplayer\n   * Fixed updating add-ons when joining a game that requires a new version (issue #6383).\n   * Add a `/clear` command for the lobby-chat window.\n### Packaging\n   * flatpak: update freedesktop runtime version to 21.08 (issue #6497).\n### Terrain\n   * Better transition for Swamp to Icy Cobbles (PR #6491).\n   * New graphics variations for icy and rocky terrains.\n   * The help browser adds special notes for castles and healing terrains (PR #6461).\n### Translations\n   * Updated translations: British English, Bulgarian, Chinese (Simplified), Czech, French, Italian, Japanese, Portuguese (Brazil), Russian\n   * Fixed the stats for Spanish being overwritten by the stats for Spanish (Latin American).\n### Units\n   * Saurian sprites cleanup (PR #6450).\n   * Various small sprite updates for sea serpents and swamp lizards (PR #6452).\n### User interface\n   * Mark the Plan Unit Advance mod as MP-only so it doesn't show up as available for campaigns.\n### Miscellaneous and Bug Fixes\n   * wmlscope can now report about calls to deprecated macros when using the `--unresolved` switch.\n   * wmlxgettext’s old behavior of processing files in the order they’re given on the command line can be selected with the `--no-sort-by-file` option (PR #6586).\n   * Fixed a crash with \"laststrike\" (firststrike given to the opponent) weapon specials (issue #6575).\n   * Fixed a crash with locally-edited add-ons that had neither `_server.pbl` nor `_info.cfg` (issue #6389).\n   * Added more unit tests for weapon specials.\n   * Resolve crash on systems using musl implementation of libc (issue #6603)\n   * The `--stringfreeze` (`-Z`) command line flag has been removed from wmllint.\n   * The checks for the old special notes system have been removed from wmllint; the `notecheck off`, `notecheck on` and `match <ability> with <note>` magic comments no longer have any effect.\n   * Resolved title screen flashing during the loading screen (issue #2395)\n   * Fixed erratic keyboard and mouse scroll speed (issue #3607)\n   * wmllint automatically removes the obsolete lines `{SOUND:SLOW}` and `{SOUND:POISON}\n\n## Version 1.16.2\n### Campaigns\n   * Delfador’s Memoirs\n    * S07: Clarified objectives (issue #5608) and remove End Turn being required to trigger victory (issue #6173)\n   * Descent into Darkness\n    * S08: Prevent possibility of Darken Volk advancing to Lich (issue #6351)\n   * Heir to the Throne\n    * S05b: Temples given an aged appearance to match ‘ancient temples’ description (issue #5576)\n   * Sceptre of Fire\n    * Added notes about Thursagan’s rune mechanics\n    * S04: Mining objectives are much clearer now (issue #6154)\n   * Secret of the Ancients\n    * S06: Ardonna should no longer mistake hostile bats as ‘my pet’\n    * S20: Directions “left” and “right” in character speech now use the character’s orientation, not the player’s\n    * Consistently capitalise the name of the Academy of Magic (issue #6310)\n   * The Rise of Wesnoth\n    * S08: The appearance of Naga is now smoother (issue #6140)\n    * S08: Refactored ship-boarding events (issue #6298)\n    * S19: The troll’s gold is automatically collected upon victory if not already obtained (issue #6141)\n    * S19: Avoid units spawning over chasms\n   * Under the Burning Suns\n    * Correct Traveler’s Ring description (issue #6043) and add an icon overlay (issue #6126)\n    * Remove the “formation” ability from the attack predictions dialog, as it was in a confusing location; its effect is still shown in the calculations and chance-to-hit percentage (PR #6326)\n    * S02: Pinnacle Rock is now shown during dialogue (issue #6125)\n    * S04: Improve dialogue about dark underground tunnels (PR #6345)\n    * S06b:\n      * Account for non-elvish units encountering Dwarf Sergeant (issue #6196)\n      * Grog will not die as quick now (issue #6196 & #6197)\n      * Hermit dialogue cannot be accidentally skipped now (issue #6196)\n      * Fixed bug where tentacles would not spawn (issue #6196)\n      * Fast units cannot get stuck on the wall now (issue #6196)\n      * Camera now moves to where the charges are blown up (issue #6197)\n      * Fixed weird scout AI behaviour (issue #6196)\n    * S09: Rebels joining Kaleh’s side are now loyal (issue #6229 and #6365)\n    * The last unit killed to trigger certain events should no longer linger during those events (issue #6341)\n    * The Dark Assassin’s race is not revealed until uncloaked (issue #6213)\n    * The Dust Devil’s XP bar is now blue (issue #6212)\n   * World Conquest:\n    * Fixed for Winged Scepter not giving the correct defence values\n    * Corrected the attack icon of ice bow from a lightning bolt to an iceball\n### Multiplayer\n   * Lobby joins are no longer displayed in chat even when that preference has been disabled (issue #6234)\n   * Added a specific prompt for moderators before joining password-protected games (issue #4101)\n   * Fixed add-ons not getting enabled for clients, leading to errors such as Unknown Terrain (issue #6285)\n   * Fixed an information leak where planned multi-turn moves could be visible to enemy players (issue #6292)\n   * Made planned moves visible to allies; this refers to trying to move more hexes than the unit can move this turn, it isn’t the whiteboard (issue #6292)\n### Lua API\n   * Fixed an error in `gui.get_user_choice()` and added support for the current DescriptionWML syntax (PR #6247)\n### Translations\n   * Added translations: Spanish (Latin American)\n   * Updated translations: British English, Chinese (Simplified), Czech, Finnish, Italian, Japanese, Portuguese (Brazil), Scottish Gaelic, Turkish.\n   * Lots of corrections of typos in `en_US` (untranslated text), which will require marking translations as `non-fuzzy` again\n   * Implemented delayed translation option for gettext plurals (issue #6036, PR #6097)\n   * Comments in .po files are now kept in order when the .pot is regenerated (issue #5989)\n### Units\n   * Added attack image for the Bone Knight’s trample\n   * Added attack image for the Nightblade’s kick\n### User interface\n   * Improved translatability of MP ban durations (issue #6036, PR #6097)\n   * Fixed missing sidebar tooltips in low resolutions such as 800x600 (issue #6264)\n### Miscellaneous and Bug Fixes\n   * Password storage was fixed to work with multiple accounts (PR #6290)\n   * wmllint now automatically removes `{MAGENTA_IS_THE_TEAM_COLOR}`\n   * Added workaround for connecting to the multiplayer server taking too long when Chinese or Japanese language is selected (issue #6291)\n   * Added `KeyboardInterrupt` handling to many Python WML tools\n   * Added `--simple-version` command line option\n   * wmllint, wmlscope and wmlindent now support the command line `--version` flag, which reports the current version of Wesnoth (issue #6346).\n   * wmllint is now capable of handling unit levels and types when checking recruitment patterns.\n   * Fixed units on a recall list sometimes being put on the map by `[modify_unit]` or `[store_unit]...[unstore_unit]` (issues #6295 and #6315)\n   * Fixed abilities that are shown as weapon specials in the attack prediction window being shown on the placeholder for units with no ranged attack, or dark adepts' melee response\n   * Fixed a glitch after a move is interrupted, paths to the hex where the move started were shown (issue #6292)\n\n## Version 1.16.1\n### Add-ons server\n   * Fixed `core=` attribute in `_server.pbl` being completely ignored (issue #5664).\n### Campaigns\n   * Tutorial\n    * Use a portrait on the Campaigns menu.\n   * Sceptre of Fire\n    * S02p5: Added defeat condition if Alanin dies.\n### Multiplayer\n   * Increased the limits of timer values (up to 10 minutes turn bonus, 50 minutes reservoir).\n   * Re-added HTML character escaping.\n### Lua API\n   * Fixed an error in `gui.get_user_choice()` (part of PR #6247).\n   * Fixed an error in handling `x,y` locations (issue #6231).\n### Packaging\n   * Fixed missing dependency on boost-math in the vcpkg config.\n   * Made `get_dlls.py` install libraries for `wesnothd` too.\n### Translations\n   * Updated translations: Dutch, Italian, Portuguese (Brazil).\n   * Added po hints for time format strings.\n### User interface\n   * Made the Add-ons Manager search box less unwieldy on very small resolutions.\n   * Made listbox header toggle buttons taller.\n### WML Engine\n   * Fixed `[item]x,y=` at scenario scope (issue #6231).\n### Miscellaneous and Bug Fixes\n   * Fixed missing tooltips on the side-bar (hover over the unit type to see a description, etc) (issues #6007 and #6096).\n   * Fixed several issues in the multiplayer server about TLS connections, error-handling and disconnections.\n   * Added `.DS_Store` and `Thumbs.db` to wmltool's list of files to ignore.\n\n## Version 1.16.0\n### Campaigns\n   * Sceptre of Fire\n    * S06: Fix some WML variable handling causing autodefeat in S06 or rune-equip bugs in a later scenario (issue #6146)\n   * Under the Burning Suns\n    * S05: Avoid village just taken by the player being re-assigned to the enemy (issue #6187)\n### Lua API\n   * Fixed `wesnoth.audio.volume = N` always setting volume to 0.\n### Translations\n   * Updated translations: British English, Czech, Finnish, Italian, Japanese, Portuguese (Brazil), Spanish.\n### User interface\n   * Don't display the locale API identifier on the Language button (issue #6205).\n### Miscellaneous and Bug Fixes\n   * Fix the engine exiting immediately due to a corrupt .mo file (issue #6194)\n   * When showing [message] with [options] but no default, highlight the first one (issue #6038)\n   * Ensure that [modify_unit] has some expected side-effects of unstoring a unit (issues #4978 and #5133)\n\n## Version 1.15.18\n### Campaigns\n   * Northern Rebirth\n    * Give Eryssa’s side a consistent team color (issue #5375)\n   * The Rise of Wesnoth\n    * Remove time-runs-out lose condition for final scenario (issue #6109)\n   * Under the Burning Suns\n    * Avoid a few possibilities where the Dust Devil could speak (issue #4892)\n    * Avoid dehydration status icon persisting into the next scenario (issue #5687)\n### Editor\n   * Avoid rare crash situation after editing scenarios (issue #5883)\n### Translations\n   * Updated translations: British English, Bulgarian, Czech, French, Italian, Portuguese (Brazil), Russian, Spanish.\n   * gettext plural forms now have caret prefixes stripped as well (PR #6094).\n### User interface\n   * Steam cloud file is no longer listed in the Load Game dialog.\n   * Redefine green text in dialogs and tool-tips so they are no longer ‘too dark’ with recent Pango versions (issue #4348)\n   * Gave the main menu's Language button a label again, now displaying the current language.\n   * Tweaked margins around the main menu's bottom row.\n   * Difficulty no longer displayed in the Load Game dialog when it is not relevant to a save file (issue #5321)\n### Miscellaneous and Bug Fixes\n   * Correct unit display adjustments on certain tiles when at zoom level other than 100% (issue #5974)\n\n## Version 1.15.17\n### Campaigns\n   * World Conquest is re-enabled.\n### Translations\n   * Updated translations: British English, Polish\n### Miscellaneous and Bug Fixes\n   * Messenger MAI: fixed bug of own units sometimes blocking the path to a waypoint for the messenger\n   * A bug that would corrupt WML sent to the multiplayer and add-ons server was fixed.\n\n## Version 1.15.16\n### Campaigns\n   * Liberty\n    * S06: Enforce failure condition for allied team (issue #6019)\n   * The South Guard\n    * S8b: Reduced difficulty\n   * Tutorial\n    * S01: Don't let the first Quintain chase the player to a village (PR #5968)\n    * S01: Synchronise the choice of character dialog, so that replays don't get OOS (issue #5926)\n    * S01: Fix some glitches on HDPI displays (PR #6005)\n   * Secrets of the Ancients\n    * Synchronise the walking corpse recruitment dialog, so that replays don't get OOS (issue #5334)\n   * Under the Burning Suns\n    * S09: Reveal the boss of the scenario at the end of part 1 (issue #5540)\n   * World Conquest\n    * Add campaign icons, campaign image and credits (PR #5958)\n    * Update to new mushroom terrain from the deprecated mushroom terrain (issue #5135, PR #5960)\n### Multiplayer\n   * If an add-on needs to be installed on all players' devices but doesn't specify a min version, assume it needs the latest (issue #5004)\n### Terrain\n   * Fix transition between snowy mountains and castles (issue #6016)\n### Translations\n   * Updated translations: British English, Chinese (Traditional), Czech, Finnish, French, Indonesian, Italian, Polish, Portuguese (Brazil), Russian, Turkish\n### Units\n   * Added and improved Naga animations (issue #5980, PR #6012)\n   * Added Troll defense animations (PR #5964)\n### User interface\n   * The names of the abilities used as specials appear in the attack prediction window with specials weapons\n   * In the Load Game dialog, list directories from previous versions in decending order\n   * Refined design of the Faction Select screen\n   * Made the campaign selection on bigger on HDPI screens (PR #6013)\n### Miscellaneous and Bug Fixes\n   * Added a timeout when connecting to the wesnothd server\n   * Improved logging of deprecation messages, fixing duplication and missing timestamps (issue #5942)\n   * Added `[era]` attributes to the schema\n   * Added to wmllint an automatic update of four terrain-graphics macros\n   * Removed wmllint's check for spaces in e-mail addresses\n   * Standardised the date line of copyright statements, and updated them to 2021\n\n## Version 1.15.15\n### Translations\n   * Updated translations: British English, Bulgarian, Chinese (Traditional), Czech, Italian, Portuguese (Brazil), Russian, Spanish, Turkish\n### User interface\n   * Added a prompt to allow migrating settings and redownloading add-ons used in a previous version of Wesnoth when starting a new versions for the first time.\n### Miscellaneous and Bug Fixes\n   * Fixed: keyboard input during the loading screen intermittently caused a crash (issue #4447)\n   * AI: fixed custom synced commands not changing the game state\n\n## Version 1.15.14\n### Add-ons client\n   * Fixed: using the versions drop-down in small-screen mode returned to the title screen (issue #5810)\n   * Fixed: keyboard input in small-screen mode returned to the title screen (part of issue #3059)\n### Campaigns\n   * A Tale of Two Brothers\n    * S02: Dialog revisions.\n   * Sceptre of Fire\n    * Revisions to the last two scenarios.\n   * Tutorial\n    * S02: Mention the acceleration factor preference.\n### Lua API\n   * Pathfinding functions are now in a new wesnoth.paths module.\n    * Pathfinding in map generation now takes an options table as the third argument.\n   * New sync module that contains functions for multiplayer synchronization\n    * In particular, wesnoth.synchronize_choice is now wesnoth.sync.evaluate_single\n   * allow_end_turn and end_turn moved to the wesnoth.interface module\n   * wesnoth.message is now wesnoth.interface.add_chat_message\n   * Shroud and fog control are now in the wesnoth.sides module\n    * Shroud data strings and the special string \"all\" are no longer supported by place_shroud -\n      only a list of locations is supported\n    * wesnoth.map.parse_bitmap transforms a shroud data string into a list of locations\n    * wesnoth.map.make_bitmap builds a shroud data string from a list of locations\n    * There are now two different ways of altering shroud: place_shroud merges with existing shroud,\n      while override_shroud replaces the entire shroud with the new value.\n   * New schedule module for working with schedules and time areas\n    * wesnoth.map.get_time_area now returns the area's schedule object\n    * The global scenario schedule is available as wesnoth.current.schedule\n    * wesnoth.get_time_of_day is split into wesnoth.schedule.get_time_of_day (ignoring illumination)\n      and wesnoth.get_illumination (which considers illumination). Both functions now take the location\n      as the first argument.\n    * wesnoth.get_max_liminal_bonus() is now wesnoth.current.schedule.liminal_bonus\n    * wesnoth.replace_schedule is now wesnoth.schedule.replace\n   * wesnoth.end_level() and wesnoth.get_end_level_data() are now removed - instead, there's\n    an end_level_data field in wesnoth.scenario.that serves both purposes.\n   * wesnoth.get_traits() is now wesnoth.game_config.global_traits\n   * wesnoth.teleport moved to the units module\n### Multiplayer\n   * Added Isle of Mists, a new single player or coop survival scenario.\n### Networking\n   * Added support for encrypting connection using TLS to multiplayer/addon client/server\n   * Moved password hashing code from client to server, relying on TLS to avoid sending cleartext passwords\n### Packaging\n### Terrain\n   * Added some great tree variations\n   * Added 'icy cobbles' (terrain code `Rra`) - mostly useful for the transitions\n### Translations\n   * Updated translations: British English, Chinese (Traditional), Czech, Indonesian, Italian, Japanese, Scottish Gaelic, Slovak, Spanish\n### Units\n   * Added missing Seahorse graphics\n   * Revised Jinn (unit config and graphics)\n   * Fire Wraith added\n   * added LordBob's Jinn, Fire Guardian, and Fire Wraith portraits\n   * Moved Naga guardian line from UtBS to core, and made some revisions\n   * Dune Apothecary experience needed to level up changed from 100 to 65\n   * Dune Captain experience needed to level up changed from 86 to 75\n   * Dune Herbalist cost changed from 15 to 14\n   * Dune Horse Archer experience needed to level up changed from 70 to 65\n   * Naga Sicarius hp changed from 55 to 53 and melee damage changed from 9 to 6, new special \"deflect\" added to melee attack\n   * Fire Guardian can now level into Fire Wraith, experience needed to level up for Fire Guardian changed from 50 to 29\n   * Revised statistics of all animal horses, Bay Horse can now level into Great Horse\n### Wesnoth Formula Language\n   * The use of \"side\" on units and \"owner\" on terrain objects is now deprecated.\n    Instead, you should use \"side_number\" or \"owner_side\", respectively.\n    The old key returns 0 for side 1 and so on, so the new key is preferred.\n   * A unit object now has a \"terrain\" key that returns the terrain object the unit is standing on.\n   * Add new functions tod_bonus() and base_tod_bonus() to get the bonus on a specific location\n### WML Engine\n   * add 'unslowable' and 'unpetrifiable' status to immune to slow or petrifies\n   * Schema validation now checks whether string values are translatable or not, according to what the\n    schema specifies.\n   * Fix schema validation rejecting Lua AI goals\n   * Unit special notes are now read directly from weapon specials, abilities, and a few other places, meaning\n    the `[special_note]` tag is usually not required in `[unit]` or `[unit_type]`.\n   * A warning is now displayed when the next scenario is unknown (issue #5530).\n   * Changed the default duration for `[print]` to 5000 milliseconds, and added support for `duration=unlimited` (PR #5868).\n### Miscellaneous and Bug Fixes\n   * The unit description tooltip in the sidebar now includes the text from `[special_note]`s.\n   * Added a collection of item images\n   * AI: fixed crash when using attacks aspect with invalidate_on_gamestate_change=no\n   * AI: fixed crash when using custom_synced_commands\n   * Micro AIs: fixed unit variables getting lost when continuing from replay\n   * Fixed AI state initialization problem after reloading\n\n## Version 1.15.13\n### Add-ons client\n   * The details panel now shows the list of tags in each add-on.\n   * Added a filter based on tags.\n### Lua API\n   * Added `pango_color` to the `wesnoth.colors` table, for easy use in formatted text.\n   * Add new function `filesystem.resolve_asset` to convert `[binary_path]` relative paths to data-relative paths.\n   * Add new function `filesystem.have_asset` which can determine if an image or sound exists.\n   * `wesnoth.have_file`, `wesnoth.read_file`, `wesnoth.image_size` moved to new `filesystem` library\n   * Add a more advanced way of manipulating version strings via `wesnoth.version` constructor function.\n   * Add a `wesnoth.scenario` data module that consolidates everything there is to know about the current scenario. Much of this information was previously available through `wesnoth.game_config`, but there are some new details too.\n   * Fixed a regression introduced in 1.15.5 causing GUI2 widgets set to a hidden state to remain visible but not able to be interacted with.\n   * Fixed a regression introduced in 1.15.5 causing GUI2 listboxes to break when cleared and re-filled under certain circumstances.\n### Packaging\n   * Increased minimum required version of SDL to 2.0.8 (PR #5736).\n### Translations\n   * Updated translations: British English, Czech, Dutch, Italian, Russian.\n### Units\n   * Horses added\n   * Seahorse added\n   * Zombie horse variation added\n   * Update piglet/boar graphics\n### User interface\n   * The multiplayer \"turns over\" dialog now uses each team's colors when showing teams' names.\n### WML Engine\n   * Modify implementation of overwrite_specials attribute for replace yes/no parameter by none/one_side/both_sides and select abilities used like weapons and specials who must be overwrited(owned by fighter where special applied or both)\n   * Add a `ability_id_active` attribute to `[filter]`\n   * `[terrain_mask]` now accepts `mask_file` as an alternative to an inline mask. The file is loaded from the same place as `map_file` in the `[scenario]` tag (ie, a maps/ subdirectory of your binary path). Anyone who prefers to keep masks separate from regular maps is free to make a subdirectory for their masks (or just keep all their masks inline).\n   * `[effect]apply_to=movement` now always affects vision too, except when given the `apply_to_vision=no` attribute\n### Miscellaneous and Bug Fixes\n   * More optimization in the UI drawing code, fixes the crash displaying the full credits (issue #5043).\n   * Made GUI.pyw compatible with Python 3.9 (issue #5719).\n   * Removed workarounds for bugs affecting older SDL 2.0 versions, including an extra copy of the game screen made during gamemap scrolling (PR #5736).\n   * FPS values calculated when the :fps or :benchmark are now written to a file which can then be used to track FPS values over time.\n   * Removed old image optimisation scripts, as there's a rewrite in Python.\n\n## Version 1.15.12\n### Add-ons client\n   * When uploading or deleting an add-on, the game will now prompt for the required password if it is not present in the `_server.pbl` file.\n### AI\n   * Improved AI decisions about whether an attack with poison is better than one with higher direct damage.\n   * Added options to the Patrol Micro AI on whether to notice invisible units, and on attack range.\n   * Added a `[filter]` option to the Swarm Micro AI.\n   * Replaced several uses of Formula AIs with Micro AIs, and removed Formula AIs from demo scenarios.\n   * Removed experimental MP dev Formula AIs.\n   * Fixed a crash in the Lurker Formula AI.\n### Campaigns\n   * Descent into Darkness\n    * Buffed Malin.\n   * Eastern Invasion\n    * Dialogue changes in S07b.\n   * Legend of Wesmere\n    * S16: Replaced the Patrol Formula AI with the Patrol Micro AI.\n   * Secrets of the Ancients\n    * Reimplemented the zombie recruitment UI.\n   * The Rise of Wesnoth\n    * Balance changes (issue #5603).\n   * The South Guard\n    * Fix the new ally's upkeep when choosing the bandit branch.\n   * Tutorial\n    * Reimplemented the character-choice UI.\n   * Under the Burning Suns\n    * In S01, fixed one of the mystics spawning in the lake.\n### Lua API\n   * Fix issues with the wesnoth.map module.\n### Multiplayer\n   * Dark Forecast\n    * Difficulty rebalanced so that two-player-mode is hard rather than impossible (PR #5673).\n    * The weather now changes on side 1's turn instead of side 3's turn (issue #5653).\n   * World Conquest\n    * Many bugs have been fixed, however WC is still hidden while more bugs are fixed.\n    * Converted GUI2 dialogs to WML.\n    * Fixed an error in the destruction mechanic.\n### Packaging\n   * Removed the obsolete FindSDL2_ttf cmake module.\n### Terrain\n   * Improved transition between human castle ruins and sunken ruins (issue #5611).\n### Translations\n   * Updated translations: Chinese (Traditional), Czech, Italian.\n### Units\n   * New rock scorpion monster and scorpion zombie variation.\n   * Rename tusker/gorer references to boars and piglets, to avoid stepping on existing UMC.\n   * Dune Blademaster gold cost changed from 52 to 57.\n   * Dune Captain alignment changed from liminal to lawful.\n   * Dune Cataphract gold cost changed from 61 to 62.\n   * Dune Firetrooper gold cost changed from 50 to 41.\n   * Dune Harrier gold cost changed from 46 to 47.\n   * Dune Luminary gold cost changed from 53 to 38.\n   * Dune Maruder gold cost changed from 52 to 60.\n   * Dune Sky Hunter gold cost changed from 47 to 51.\n   * Dune Spearmaster gold cost changed from 51 to 57.\n   * Dune Wayfarer gold cost changed from 52 to 55.\n   * Dune Windbolt gold cost changed from 50 to 49.\n   * Dune Warmaster gold cost changed from 56 to 57, hp changed from 57 to 59, alignment changed from liminal to lawful.\n   * Naga Ophidian gold cost changed from 24 to 22, melee damage changed from 7 to 6, ranged damage changed from 10 to 12.\n   * Naga Ringcaster gold cost changed from 24 to 22.\n   * Naga Sicarus gold cost changed from 48 to 46, melee damage changed from 10 to 9, ranged damage changed from 12 to 13.\n   * Naga Zephyr gold cost changed from 50 to 46.\n   * Wose Sapling gold cost changed from 10 to 11.\n   * Wose Shaman gold cost changed from 40 to 27, movement points changed from 3 to 4, melee damage changed from 9 to 12, ranged damage changed from 10 to 11, hp changed from 50 to 56.\n   * Horned Scarab gold cost changed from 12 to 11.\n   * Fixed the Walking Corpses of some river creatures having poor movement in deep water (issue #5701).\n   * New descriptions for the Fire Ant, Roc and Sand Scuttler.\n   * Fixed the Giant Scorpion having an empty variation name.\n### User interface\n   * Improved the attack dialog's recommendation about whether an attack with poison is better than one with higher direct damage.\n   * Added logs folder path to the Game Version dialog on Windows.\n   * Added built-in Lua engine version to the Game Version dialog and `--report`.\n   * Made Accelerated Speed toggle announcement not stackable over itself or other announcements.\n   * Minor adjustments to the sidebar's minimap area in the default game theme to reclaim empty and uneven space back. Note that this WILL break custom WML themes that use the same sidebar graphics as the default theme.\n   * Minor adjustment to the placement of numerals on the debug clock.\n   * Players now receive an error message when attempting to save games using illegal file names (issue #5679).\n   * Fixed text labels containing only a single link becoming empty (issue #5625).\n   * Separated floating labels' duration from the speed of their eventual fade-out.\n   * Fixed font family leakage from GUI2 canvases to GUI1 elements such as the in-game chat overlay (issue #5712).\n### WML Engine\n   * In development builds, deprecation warnings are now shown in-game by default.\n   * Conditional WML's `[variable]` tag now expects exactly one comparison, and will warn if given none or multiple tests.\n   * `[store_reachable_locations]range=vision` now calculates vision, instead of using movement costs and max movement points (issue #4179).\n### Miscellaneous and Bug Fixes\n   * Fixed units with max movement set to zero being given one max movement point by `[unstore_unit]` or when loading a saved game (issue #5638).\n   * Fixed an intermittent crash on the loading screen (issue #5629).\n   * wmlunits (units.wesnoth.org) no longer incorrectly assumes that units with movement costs equal to their maximum movement can't move into the affected terrains.\n   * Fixed a bug where log domains' severity could accidentally be reduced.\n   * Changed the verbosity and error-handling of the `run_wml_tests` script.\n   * Made `run_wml_tests` automatically skip tests which need strict mode when running without strict mode.\n   * Made optimizations in the UI drawing code, these shouldn't have visible effects (PR #5697).\n   * Optimized the command-line `wesnoth_addon_manager` tool.\n\n## Version 1.15.11\n### AI\n   * Improved the retreat_injured candidate action:\n    * Made the CA independent of the caution aspect, which could previously cause almost healthy units to retreat\n    * Added two new aspects for customizing the retreat behavior: retreat_factor and retreat_enemy_weight\n    * In the default setting, only healing locations are considered as retreat locations and enemy threats are not the dominant consideration any more, which means units will not retreat to the edge of the map\n    * Fixed a bug identifying hexes next to healers as healing locations\n    * Miscellaneous other improvements to the internal rating function\n   * Messenger Micro AI: added [avoid] tag functionality. In the process, two of the ai_helper functions also had this functionality added: move_unit_out_of_way() and get_closest_location()\n   * Goto Micro AI:\n    * Added optional remove_movement parameter (issue #5580)\n    * Fixed how the avoid_map and avoid_enemies parameters interact\n    * Fixed rare bug with blocked paths when ignoring enemies\n    * Fixed bug when the avoid_enemies parameter is set to very small values\n   * Protect Unit Micro AI: fixed bug when a unit is not on the AI side\n   * Multipack Wolves Micro AI: fixed error when a wolf is fully surrounded\n### Campaigns\n   * Delfador's Memoirs\n    * Adjust campaign difficulty\n   * Eastern Invasion\n    * Reveal shroud in S2 and S10, to be fairer the first time a player sees those scenarios\n    * Balance the carryover gold on the branching campaign paths between S06 and S09\n    * Various small fixes\n   * Liberty\n    * Revise dialogue\n    * Reduce difficulty\n   * Sceptre of Fire\n    * Adjust campaign difficulty\n   * Secrets of the Ancients\n    * Adjust campaign difficulty\n   * Son of the Black Eye\n    * Adjust campaign difficulty\n   * The South Guard\n    * Reduce campaign difficulty\n   * Tutorial:\n    * Disabled end credits (issue #5543).\n   * Under the Burning Suns:\n    * Adjust campaign difficulty\n### Translations\n   * Updated translations: British English, Chinese (Traditional), Czech, Italian\n### Units\n   * Beast-rider Walking Corpse variation (for UtBS Quenoth Tauroch line, but generally available)\n### User interface\n   * Fixed color fringing issues with ClearType on Windows.\n   * Improved the Load dialog when there are no saved games for the current version, and also when there are corrupted files.\n   * Re-added the pop-up when there are no saved games at all (issue #5517).\n   * Fixed resource leak in the Pango text rendering pipeline when using the characters_per_line constraint.\n   * Make the warning about loading saves from old versions much clearer.\n   * Made legacy GUI1 scrollbars match regular GUI2 scrollbars.\n   * Reduced font sizes for the unit HP/XP/MP/Vision/Defense displays on the sidebar at small resolutions to avoid overlaps (issue #5575).\n   * Rearranged the unit XP and vision displays on the sidebar to avoid running out of room for the XP display (issue #5575).\n   * Reduced font size for the ToD counter on the sidebar to avoid it being ellipsized too often.\n   * Gave the turn timer display the same icon as the system clock display.\n   * Anchored the Observers icon to the sidebar again in a way that does not allow it to overlap into it (issue #5575).\n   * Fixed the turn timer/system clock display on the top bar incorrectly using a larger font size at small resolutions.\n   * Made the Defense display label on the sidebar visible (a side-effect of replacing SDL_ttf) and rearranged it slightly.\n   * Set the correct default text color for in-game UI elements instead of #ffffff white for consistency with other UI elements.\n   * Increased font sizes in Help and some legacy UI elements.\n   * Minor clean-up of game menus display.\n   * Restyled dropdown menu buttons to look like buttons rather than textboxes.\n   * Fixed missing display resolution ratios in Preferences -> Display (regression introduced in 1.15.10).\n### WML Engine\n   * Standard Location Filters now support gives_income=yes|no to make it simpler to match villages regardless of owner\n   * Fixed ThemeWML `[label] font_rgb=` generating text elements with broken UTF-8 sequences.\n   * abilities used like weapon can call a [teaching_anim] instead of [leading_anim] now.\n   * The campaign end screen is no longer displayed when `[campaign]/[endlevel] end_credits=` is set to a false value.\n   * Fixed `end_credits=` in `[campaign]` not having any effect.\n### Miscellaneous and Bug Fixes\n   * Added support for 1.14’s tag names in `[terrain_defaults]` (issue #5308).\n   * Replaced legacy SDL_ttf/FriBidi-based font rendering used in old GUI1 code paths with Pango.\n   * Fixed an attack prediction assert that happened in rare combinations of the defender slowing and the attacker potentially leveling up, and a specific combination of standard and Monte Carlo attack evaluations (issues #5533 and #5002)\n   * Fixed test scenarios in add-ons not working\n\n## Version 1.15.10\n### Add-ons server\n   * Fixed undefined behavior when servicing requests to downgrade add-ons.\n### Campaigns\n   * Added custom campaign menu backgrounds for several mainline campaigns.\n   * The Rise of Wesnoth\n    * Adjust campaign difficulty\n### Multiplayer\n   * The Delay Advancements modification has been removed in favor of adding the Plan Unit Advance modification to mainline. Enabling this modification allows each player to choose what their units will level up into in case the advancement happens on an enemy player's turn in an online multiplayer game.\n   * Unit advancement that happens on an enemy's turn in online multiplayer games are no longer randomized. Instead, the first advancement listed for the unit is always used.\n   * Disabled World Conquest due to an increasing number of reported bugs and it currently lacking a maintainer. It may be removed entirely in a future release.\n### Lua API\n   * Upgrade to Lua 5.4.2.\n   * Added the wesnoth.as_text(...) function as a way to more easily view the contents of a lua table. This is intended as a debugging aid and nothing more.\n   * Deprecation warnings can now be viewed in the in-game Lua console, together with a stack trace to the first location that triggered them.\n   * There is now a --strict-lua command-line option that disables most deprecated Lua functions; this makes the use of deprecated APIs an error instead of a warning.\n### Translations\n   * Updated translations: British English, Catalan, Czech, French, Portuguese (Brazil),\n    Turkish\n### Units\n   * update footpad sprite\n   * north-facing frames for dunefolk skirmisher, loyalist bowman, and troll whelp\n### User interface\n   * Added a \"disengaged\" orb, shown instead of the partially-moved orb for units that can move but can't attack.\n   * Added information about the build's (not runtime) target CPU architecture to the game version info dialog and --report.\n   * Added terminal-style command history browsing with up-down keys for in-game consoles used by debug mode, ai and search floating textboxes.\n   * Made the preferences dialog larger on HDPI screens; this fixes a usability issue with HDPI font sizes (issue #5185).\n### WML Engine\n   * Extent 'special_id_active' and 'special_type_active' to abilities used like weapon and to [leadership] abilities.\n   * abilities used like weapon can call [leading_anim] now.\n### Miscellaneous and Bug Fixes\n   * Fixed display zoom not being taken into account when using the `x`, `y`, `directional_x` and `directional_y` attributes in unit animations (issue #5508).\n   * Fixed a warning message and the AI leader potentially not moving when it cannot reach a keep because it's occupied by an allied unit\n\n## Version 1.15.9\n### Add-ons server\n   * Fixed a regression from 1.15.8 that caused add-on downloads to never bump download counts (issue #5411).\n### Campaigns\n   * Dead Water\n    * Reduce campaign difficulty\n### Editor\n   * Added help topics for the scenario editor's tools\n   * Added documentation about the files written by the editor\n### Multiplayer\n   * Isar’s Cross got map background graphics, mainlined from the Visual Map Pack on 1.14\n### Packaging\n   * Boost 1.65 is now required (was 1.59).\n### Translations\n   * Updated translations: Catalan, Chinese (Traditional), French, Portuguese (Brazil),\n    Spanish\n### Units\n   * New Fauna/monster unit: Horned Scarab\n   * Some standing/bobbing animations now filtered for low HP (depicting exhaustion) (PR #5388)\n### User interface\n   * Major campaign menu overhaul including more accessible RNG options (including the experimental PRNG option previously found in Advanced Preferences), a difficulty dropdown replacing the difficulty dialog, and custom backgrounds set using `[campaign] background=` (issue #4543, PR #5358).\n   * The OS version displayed in the game version dialog and --report now includes the runtime CPU architecture.\n   * Improved sidebar area in the MP Lobby.\n   * Improved filter options in the MP Lobby. Labels are clearer and games with blocked players are excluded from the list by default (with an option to unhide said games).\n### WML Engine\n   * New `[set_variable]` options: reverse=yes, min=list, max=list\n### Miscellaneous and Bug Fixes\n   * Fixed `[terrain_defaults]` and `[resistance_defaults]` (issue #5308).\n   * Fixed being prompted multiple times to select campaign difficulty when loading a game (issue #5392)\n\n## Version 1.15.8\n### Add-ons client\n   * Fix potential crashes when working with installed add-ons that have a corrupted _info.cfg file.\n   * Improved license information prompt for uploads.\n### Add-ons server\n   * Fixed inability to write files (including the server configuration file) on Windows.\n   * Dropped plain text passphrase migration, unused in production since version 1.12.7 and 1.13.0 (issue #5080).\n   * Uploading add-ons with versions not greater than the latest uploaded version is no longer allowed (issue #5079).\n   * Implemented optional server information query used by connecting clients.\n### Campaigns\n   * Dead Water\n    * Reduce campaign difficulty\n   * Eastern Invasion:\n    * Tweak campaign difficulty\n    * S03: fix the initial keep being blocked at the start\n   * Heir to the Throne\n    * Tweak campaign difficulty\n   * The Hammer of Thursagan\n    * Reduce campaign difficulty\n   * The South Guard\n    * Reduce campaign difficulty\n### Multiplayer\n   * Added `/roll N` command to multiplayer games and game lobbies which produces a publicly visible random integer number ranged from 1 to N inclusively (issue #5221, PR #5326).\n### Packaging\n   * SDL_Image 2.0.2 or later is now required (was 2.0.0).\n### Terrain\n### Translations\n   * Updated translations: British English, Czech, Italian, Polish, Portuguese (Brazil),\n    Russian, Turkish\n### Units\n   * Undead variations for Falcon, Giant Rat, serpents, and Gorer/Tusklet\n### User interface\n   * Minor streamlining on the Game Version and Add-ons Manager dialogs.\n   * Text labels now use the hyperlink mouse cursor while hovering links.\n   * Link awareness is now configured on a per-instance basis for labels/scroll labels instead of globally in their definition.\n### WML Engine\n   * Add a overwrite_specials option for weapon special abilities to allow the effect of the ability to take precedence over the effect of any identical weapon special.\n### Miscellaneous and Bug Fixes\n   * Fixed several possible crashes in wmllint\n   * Screenshots now default to JPG instead of PNG\n   * Fixed screenshot popup sometimes using the wrong path when trying to open the screenshot after saving\n\n## Version 1.15.7\n### Add-ons server\n   * Added basic command line options.\n   * Add-on validation status responses can now be translated by the client.\n   * Fixed an issue where incremental downloads would always transmit a delta for updating from the very earliest available version of an add-on to the very latest, instead of using the current and target versions specified by the client.\n   * Incremental downloads are no longer allowed to cheat the download counts.\n### Add-ons client\n   * It is now possible to install previous versions of an add-on if present and not expired on the server.\n### Campaigns\n   * A Tale of Two Brothers:\n    * S02: Changed the antagonists' motive and dialogue to sound more believable\n   * Secrets of the Ancients:\n    * Revisions to Bone Captain\n    * Scenario 2 uses new Iron Fence terrain, in preparation for potential map revisions.\n    * While the two leaders are separated, only the currently active one learns new zombie types.\n   * Sceptre of Fire:\n    * Scenario 2p5: increased the turn limit by 1 and enhanced victory filter conditions\n    * Scenario 4: fixed a bug that prevented resources from spawning and added some small flavor adjustments\n    * Some revisions/bugfixes to Scenario 9 \"Caverns of Flame\"\n### Multiplayer\n   * During allies' turns, use orb colors to show which ones can still move (issue #1424). Also enabled for allied AI sides in singleplayer.\n### Terrain\n   * New barrier terrain:  Iron Fence (`^Eqf`) - similar layout to the existing wooden fence\n### Translations\n   * Updated translations: British English, Catalan, Polish, Portuguese (Brazil)\n### Units\n   * Decreased Icemonax's advancement XP requirement from 26 to 25 to match other dead-end L0 units.\n   * Portrait and animation graphics for some of the new Wesnoth Fauna\n   * Balancing:\n    * Dune Rider xp changed from 42 to 47.\n    * Sunderer line defense on hills changed from 60% to 50%.\n    * Scorcher gold cost changed from 23 to 25.\n    * Dragoon gold cost changed from 27 to 28.\n    * Elvish Rider gold cost changed from 32 to 28.\n### User interface\n   * Added the installable/upgradable version selection to the add-ons manager via a dropdown list\n   * Fixed formatting of hyperlinks when the same URL appears more than once in a block of text\n### Miscellaneous and Bug Fixes\n   * Fixed a rare issue on Windows that could result in wesnoth.exe sticking around waiting for console input after encountering an error despite not being launched with the `--wconsole` option.\n   * Fixed a potential crash when drawing many images on the story screens.\n   * Fixed the schema's list of attributes supported by IntroWML.\n   * Fixed and renamed IntroWML's `[image]resize_with_background=yes` to keep images proportional to the background.\n   * Fixed precise log timestamps missing a space between the timestamp and the log severity label.\n   * Improve the in-game help's topic about orbs, add crowns and ellipses.\n   * Removed documentation for network proxy-related command line options previously removed in version 1.13.1 along with libana.\n\n## Version 1.15.6\n### Add-ons client\n   * Implemented support for incremental add-on downloads and uploads (issue #5046, PR #5038).\n### Add-ons server\n   * The server configuration no longer contains the add-ons list/metadata (PR #5038):\n    * Metadata is now stored in individual `data/<addon_name>/addon.cfg` files (PR #5038).\n    * Full add-on packs are now stored as `data/<addon_name>/full_pack_<version_md5>.gz` files instead of `data/<addon_name>`.\n    * Hash indexes of full add-on packs are stored as `data/<addon_name>/full_pack_<version_md5>.hash.gz`.\n   * Implemented support for incremental add-on downloads and uploads (issue #5046, PR #5038):\n    * Incremental update packs are stored as `data/<addon_name>/<version_from_to_md5>.gz`files.\n    * Incremental update packs are allowed to be sent by clients in `[upload]` and may be asked from the server in `[request_campaign]`.\n    * The server can generate an incremental update pack while servicing `[upload]` if the client doesn't send one (e.g. old clients).\n   * Previous versions of add-ons are stored on the server for a limited amount of time alongside update packs for older versions (30 days by default) (PR #5038).\n### Language and i18n\n   * Updated translations: British English, Czech, French, Japanese, Polish,\n    Portuguese (Brazil)\n   * The font-handling now checks which glyphs are in each font, instead of using a list hardcoded in WML.\n    * A bug in the removed code treated the first font containing U+4E00 as having the whole CJK Unified Ideographs block.\n    * Fixes a bug where many Chinese characters were invisible if DroidSansJapanese was loaded before DroidSansFallbackFull (issue #5194).\n   * Changing the language immediately updates the order of the fonts, instead of waiting for the next restart (issue #5194).\n### Lua API\n   * Implement new GUI2 widget userdata for working with custom dialogs.\n   * Renamed wesnoth.show_dialog to gui.show_dialog. The preshow and postshow now take a single parameter - a widget userdata.\n   * All other dialog functions (such as wesnoth.get_dialog_value and wesnoth.set_dialog_value) are now deprecated.\n### Multiplayer\n   * Delay Advancements modification:\n    * The Delay Advancements modification allows changing how advancements are handled. With this enabled, units that previously would have advanced on another player's turn will instead not advance until it is again their side's turn. The benefit of this is that units will also not pick an advancement at random if they have multiple.\n### Packaging\n   * When building wesnothd with database support enabled, Boost 1.66 is now the minimum required version.\n### Terrain\n   * New wall variation: Overgrown stone walls ('Xof')\n### Units\n   * Added Tusker line - Gorer and Tusklet (by TSI 2009)\n   * Revised Falcon and Elder Falcon sprites\n   * New units:\n    * Swamp Lizard (crocodile)\n    * Cave Bear\n    * Icemonax\n    * Giant Stoat\n    * Fire Ant\n   * Balancing:\n    * Cost of Giant Rat changed from 6 to 5.\n    * Cost of Giant Scorpling changed from 13 to 12.\n    * Cost of Fire Guardian changed from 19 to 11.\n    * Cost of Giant Mudcrawler changed from 16 to 11.\n    * Cost of Giant Scorpion changed from 22 to 16.\n    * Cost of Wolf changed from 17 to 15.\n    * Cost of Chocobone changed from 38 to 28.\n    * Cost of Cuttle Fish changed from 40 to 36.\n    * Cost of Great Wolf changed from 30 to 21.\n    * Cost of Gryphon changed from 40 to 29.\n    * Cost of Water Serpent changed from 26 to 23.\n    * Cost of Direwolf changed from 36 to 33.\n    * Cost of Sea Serpent changed from 40 to 55.\n    * Cost of Wild Wyvern changed from 54 to 75.\n    * Cost of Wyvern Rider changed from 80 to 102.\n### WML Engine\n   * Fix a bug with [set_variables][join] failing on boolean (yes/no) values\n### Miscellaneous and Bug Fixes\n   * Removed font-analysis utils: codecomp codeextract codeglyphs codelist\n   * [harm_unit] now calculates liminal damage by using the 1.15 algorithm\n\n## Version 1.15.5\n### Add-ons client\n   * Fix: when using the \"system default language\", add-ons' titles and descriptions were always shown in English (PR #5109)\n### Campaigns\n   * Northern Rebirth:\n    * Removed the campaign's evil branch. Not a player-visible change, as there was no way to access this branch.\n   * Secrets of the Ancients:\n    * Use new gui2 widgets API in the custom zombie-recruitment dialog\n   * Under the Burning Suns:\n    * Quenoth Elves now appear as a separate group in the help pages\n    * Fixed ghost spawning code in S02 (this means more ghosts will spawn)\n   * World Conquest:\n    * Clean-up of spelling, grammar and other issues in translatable strings.\n    * use new lua gui2 api in WC mapgen settings\n   * Mass convert of `*^Uf` terrain for SP.\n    * Updates DW, DM, DiD, HttT, LoW, SotA, THoT and TSG\n### Language and i18n\n   * Updated translations: British English, Catalan, Chinese (Simplified), Esperanto,\n    French, Hungarian, Polish, Portuguese (Brazil), Russian, Spanish, Turkish\n### Multiplayer\n   * A New Land:\n    * Peasants can harvest mushrooms (a bug introduced in 1.15.4 was noticed and fixed in PR #5137)\n### Terrain\n   * Made single-hex mushrooms smaller (PR #5136)\n### User interface\n   * Help browser: fix inconsistent behavior for single-clicks opening and closing sections (PR #5110)\n   * Added `[race]help_taxonomy=`, creating links between the per-race topic pages.\n### Miscellaneous and bug fixes\n   * Minimum required version of OS X is now OS X 10.11 .\n   * The \"loyal\" trait is now displayed in the help browser, even though no normal unit has it.\n   * The player can recruit even if their recruit list includes an unknown unit type. This will now show an error dialog and then the recruitment dialog with the known units.\n   * Fix `[micro_ai]` when called from lua (issue #5134)\n   * Fix `[load_resource]` not marking an add-on as used for the \"ignore global tags set by add-ons that are not used\" feature.\n### Packaging\n   * macOS package distributed through SourceForge is now a UDIF lzfse-compressed image. The image size may be slightly larger but opening and copying from this image is much faster.\n   * Another fix if the credits (including all add-ons) are extremely long. There are still known issues with this.\n\n## Version 1.15.4\n### Add-ons client\n   * Ensure the client doesn't re-download dependencies that have just been updated during an Update All\n    run by re-reading add-on versions after each update batch (issue #3273).\n   * Added new syntax and UI support for providing localized add-on titles and descriptions (PR #4984).\n### Campaigns\n   * Delfador's Memoirs:\n    * S12: Fix a few case where dialog and events sound odd or fire out of order (issue #4614).\n   * Liberty:\n    * Revised dialogue and added miscellaneous new events to all scenarios.\n   * Northern Rebirth:\n    * S5a: Fixed a bug where enemies could trigger a hidden door.\n   * Sceptre of Fire:\n    * Fixed a bug where the new rune shop was not working as intended; added an event to tell players of the existance of the runeshop (S3).\n    * Tweaks to dialogue and victory conditions (S2p5, S3, S4, S5, epilogue).\n    * S8: Fixed a case where the dragon would suicide into pursuers offscreen.\n   * Under the Burning Suns:\n    * Rebalanced all Quenoth units and all scenarios\n    * Embellished all remaining maps (S1, S2, S6b, S8, S11).\n    * Finished Tauroch Rider line sprites, added riderless Tauroch standalone unit.\n   * World Conquest:\n    * Added to mainline (formerly World Conquest II).\n### Language and i18n\n   * Updated translations: British English, Chinese (Simplified), Chinese (Traditional),\n    Czech, Esperanto, French, Hungarian, Italian, Japanese, Polish, Portuguese (Brazil),\n    Russian, Spanish, Swedish, Turkish.\n   * Removed the l10n-track file, which was a mechanism for marking translated images as out-of-date.\n### Lua API\n   * New wesnoth.get_max_liminal_bonus function.\n   * New wesnoth.colors table to get information about colors.\n   * Support lua_function in side filters.\n   * add wesnoth.get_resource() function.\n### Terrain\n   * New ancient/weathered stone floor tile (code Ias).\n   * New ancient stone stone walls variation (code Xoa).\n   * New earthy rockbound cave variation (code Uhe).\n### Units\n   * New Dunefolk skirmisher branch (Falconer).\n   * Dune Spearmaster shield damage changed from 14 to 13.\n   * Burner line and Armageddon Drake cold resistance changed from -50% to -40%.\n   * Dragonguard HP increased from 59 to 63.\n   * Steelclad HP changed from 55 to 57.\n   * Poacher HP changed from 32 to 33.\n   * Heavy Infantryman cold resistance changed from -10% to 0.\n   * Troll Rocklobber HP changed from 49 to 51.\n   * Merman Hunter HP changed from 30 to 33.\n   * Wose cold resistance changed from 10% to 0.\n   * Shaman ranged damage changed from 3 to 4.\n   * Bone Shooter HP increased from 40 to 42.\n   * Banebow HP increased from 50 to 55.\n   * Ghost cost changed from 20 to 19.\n### User interface\n   * Improve appearance of the Logging Options dialog and add a search box.\n### WML engine\n   * [advancefrom] is now deprecated, use [modify_unit_type] instead.\n   * The .cfg files generated by the scenario editor can now be loaded with\n    `[scenario]map_file=`, previously they had to be loaded via preprocessor include.\n   * The student, attacker and defender variables can now be used in\n    formulas in abilities.\n   * Units no longer get healed when recalled (they still get healed\n    at the end of the scenario).\n   * The engine now ignores global tags set by add-ons that are not used in\n    the current game.\n### Miscellaneous and bug fixes\n   * Added missing side controllers to two Micro AI scenarios (fixes #4890).\n   * Fix broken callbacks for treeviews in wesnoth.show_dialog\n   * Fix floating label duration being measured in 'frames', it is now\n    measured in milliseconds.\n   * Added unit type variation selection to the debug mode Create Unit dialog (PR #4986).\n   * Removed the Python2 versions of tools with Python3 versions.\n   * Removed the rmtrans plugin for Gimp, as it was Python2 and seems to be unused.\n   * {HEAL_UNIT} does no longer set the variable heal_amount. If needed, [heal_unit] can be used instead.\n   * Added new modify_unit tags to schema validation.\n   * Fix rare oos errors caused by move_unit_fake\n   * Fix crash on invalid music files.\n   * Fix crash when reading .mo files with non-ascii characters on windows.\n   * Fix crash in the MP Create Game dialog when a map has an unknown tile.\n   * Improve the in-game help's topic about dealing with losses.\n   * Add a comment at the start of any .cfg file created by the scenario editor,\n    warning against manually editing such files.\n\n## Version 1.15.3\n### AI\n   * Merge Experimental AI candidate actions (CAs) into default AI\n    * CAs merged: retreat injured, spread poison, place healers, move to any enemy\n    * CAs not merged: grab villages and village hunt, as the respective default AI CAs\n      are better as general purpose CAs. Also not merged was castle switch, which can\n      cause undesired behavior in singleplayer scenarios, and recruit rushers, which is too different\n      from default recruiting (would change balance too much) and because it can currently not deal\n      with multiple leaders and all the recruitment aspects. An option to use this alternative\n      recruiting will be provided in the future.\n    * Previous default AI CA removed: retreat phase\n    * The previous default CA is still available by using `[ai]ai_algorithm=ai_default_rca_1_14` or\n      by selecting \"1.14 Default AI\" in the multiplayer computer player selection menu\n    * The Experimental AI is now only available in debug mode (in MP) as it is mostly identical to the new default AI\n    * Many improvement were made to the new default CAs, to make them work correctly and consistently\n      in general settings, such a taken AI aspects (aggression, attacks, [avoid], caution, ...) and unit guardian\n      status into account, improved attack ratings and multi-leader functionality, and bug fixes\n   * Bottleneck Defense Micro AI:\n    * New optional parameter [filter]\n    * Fix bug of units not participating if too far in front of the bottleneck\n   * Healer Support Micro AI: take unit guardian status and passive_leader aspect into account\n   * Forest Animals Micro AI: rabbit holes on the map border are now automatically excluded\n   * New ai_helper functionality: path finding, next_hop and get_attackable_enemies taking avoid into\n    account; next_hop with pre-calculated path and fanning out; new options to get_cheapest_recruit_cost\n   * Add [filter_own] optional tag to all default and Experimental AI candidate actions\n   * Allow comma-separated list of ids in addition to 'yes/no' for AI aspects leader_ignores_keep,\n    passive_leader and passive_leader_shares_keep\n   * Fix [leader_goal] for sides with multiple leaders\n   * Change E_NOT_REACHED_DESTINATION from error to warning\n   * The advancement aspect can now also use amlas.\n### Campaigns\n   * An Orcish Incursion:\n    * Moved to addons server\n   * Descent into Darkness:\n    * Add new portrait for Dela Keshar\n    * Remove dark adepts from recruit list\n    * Add special units and AMLA paths\n    * Revised dialogue\n    * Increased map interactability\n    * S3: reworked scenario\n    * S5: adjust enemy recruits and gold\n   * Legend of Wesmere:\n    * S3: fix scenario-breaking bug introduced in 1.15.2\n   * Liberty\n    * Revise gameplay in all scenarios and redraw all maps\n    * Merge S6 and S7 into a new scenario\n   * Sceptre of Fire:\n    * General prose/dialogue revision\n    * New scenario (now the third)\n    * Various map and scenario updates\n    * Make use of rails terrain\n    * Dwarves can purchase runes (temporary status boosts)\n   * Secrets of the Ancients:\n    * Prevent hero death from triggering new corpse recruitable dialog (issue #4503)\n    * Fix last breath dialog for bats firing multiple times in the campaign\n    * Fix bug of regular WC appearing in recruit list in S05 Blackwater\n    * Fix special plague attack making rats when spiders are called for\n    * Fix missing portraits for Shynal\n   * Tutorial:\n    * Redraw S2 and reduce difficulty\n   * Wings of Victory has been removed.\n### Editor\n### Language and i18n\n   * Updated translations: Ancient Greek, Chinese (Traditional), Czech, Dutch,\n    Esperanto, Finnish, French, Italian, Korean, Portuguese,\n    Portuguese (Brazil), Russian, Spanish, Turkish\n   * Fix Rename Unit dialog having untranslated text (issue #4569).\n   * Use <game dir>/translations instead of <process working dir>/translations to find core\n    translation catalogues on Windows.\n### Terrains\n   * Add Stone Walls variation Catacombs (Xot) including some overlays\n   * New dwarf castle variations: Non-cave (Cf), ruined (Cfr) and snow (Cfa)\n   * New elf castle variation: snow (Cva)\n   * Fixes and touchups to mushroom terrains Tb and Tf\n### Units\n   * Add a ranged attack and the cures ability to Elvish Lady\n   * Add mushroom defense cap to mounted and some flying units\n   * Decreased hitpoints of Dwarvish Lord from 79 to 74\n   * Decreased hitpoints of Dwarvish Steelclad from 59 to 55\n   * Increased hitpoints of Dwarvish Thunderguard from 44 to 47\n   * Increased hitpoints of Dwarvish Pathfinder from 42 to 45\n   * Increased melee damage of Dwarvish Stalwart from 7-3 to 8-3\n   * Increased melee damage of Dwarvish Sentinel from 9-3 to 10-3\n   * Dunefolk: rebalancing and renaming of various units\n   * Dunefolk: some graphics additions and updates\n   * Orcs: revise some unit descriptions\n   * Elves: revise all unit descriptions\n   * Cost of Drake Warrior changed from 30 to 32\n   * Cost of Drake Arbiter changed from 31 to 32\n   * Cost of Drake Trasher changed from 31 to 32\n   * Cost of Drake Flare changed from 35 to 33\n   * Cost of Sky Drake changed from 30 to 28\n   * Cost of Saurian Ambusher changed from 30 to 24\n   * Cost of Saurian Oracle changed from 27 to 28\n   * Cost of Saurian Soothsayer changed from 27 to 25\n   * Cost of Dwarvish Steelclad changed from 32 to 36\n   * Cost of Dwarvish Thunderguard changed from 30 to 27\n   * Cost of Dwarvish Stalwart changed from 32 to 30\n   * Cost of Dwarvish Berserker changed from 33 to 30\n   * Cost of Outlaw changed from 28 to 26\n   * Cost of Trapper changed from 27 to 21\n   * Cost of Gryphon Master changed from 37 to 38\n   * Cost of Swordsman changed from 25 to 29\n   * Cost of Knight changed from 40 to 38\n   * Cost of Lancer changed from 40 to 44\n   * Cost of Dragoon changed from 34 to 27\n   * Cost of Duelist changed from 32 to 29\n   * Cost of Lieutenant changed from 35 to 34\n   * Cost of Merman Warrior changed from 28 to 26\n   * Cost of Ogre changed from 33 to 30\n   * Cost of Goblin Knight changed from 32 to 28\n   * Cost of Goblin Pillager changed from 32 to 28\n   * Cost of Troll changed from 29 to 27\n   * Cost of Troll Rocklobber changed from 29 to 25\n   * Cost of Naga Warrior changed from 27 to 24\n   * Cost of Orcish Crossbowman changed from 26 to 21\n   * Cost of Orcish Slayer changed from 33 to 26\n   * Cost of Elvish Hero changed from 30 to 26\n   * Cost of Elvish Captain changed from 32 to 28\n   * Cost of Elvish Marksman changed from 37 to 31\n   * Cost of Elvish Ranger changed from 38 to 31\n   * Cost of Elvish Rider changed from 31 to 32\n   * Cost of Elvish Druid changed from 34 to 27\n   * Cost of Elvish Sorceress changed from 34 to 32\n   * Cost of Elder Wose changed from 31 to 27\n   * Cost of Revenant changed from 28 to 31\n   * Cost of Deathblade changed from 28 to 34\n   * Cost of Dark Sorcerer changed from 32 to 33\n   * Cost of Blood Bat changed from 21 to 22\n   * Cost of Red Mage changed from 40 to 38\n   * Cost of White Mage changed from 40 to 38\n   * MP of Merman Spearman changed from 6 to 7\n   * HP of Merman Spearman changed from 40 to 43\n   * MP of Merman Javelineer increased from 6 to 7\n   * HP of Merman Javelineer changed from 55 to 58\n### User interface\n   * Moved tutorial to campaigns menu\n   * Moved language button to icon\n   * \"Core\" type add-ons are now only accessible via hotkey.\n   * Removed \"Classic\" in-game theme.\n   * Textboxes now have a hover effect as well as an I-beam cursor.\n   * Added the Private Replay checkbox to the Multiplayer Create Game screen. This separates\n    whether observers are allowed from whether the replay will be publicly available.\n   * Reworked styling of progress bars and the network transfer progress dialog.\n   * Moved the MP server list from a separate dialog to the Connect to Server dialog proper\n    and added functionality for managing player-defined servers (issue #4564).\n   * The load-game dialog can now see the directories used by Wesnoth 1.14, 1.12, etc.\n   * The search box in the Campaigns menu now takes campaign abbreviations and descriptions\n    into account.\n   * The recruit and recall dialogs have a tooltip over the level number to show what the unit can advance to (issue #4135)\n### Lua API\n   * unit:transform() now takes an optional variation parameter\n   * Support side.variables for access to side variables, similar to unit.variables\n   * New read-write keys in unit userdata: ellipse, halo, description, renamable\n   * New functions for working with WML: wml.merge, wml.diff, wml.patch, wml.find_child, wml.attribute_count, wml.equal, wml.valid, wml.interpolate\n   * wesnoth.wml_matches_filter renamed to wml.matches_filter (the old name still works)\n   * Moved to units module: wesnoth.create_unit, wesnoth.get_unit, wesnoth.get_units, wesnoth.get_recall_units\n   * The wesnoth.units module now acts like a metatable for unit userdata.\n   * New wesnoth.units.find gets units on either the map or any side's recall list.\n   * Moved to interface module: wesnoth.scroll, wesnoth.zoom, wesnoth.get_mouseover_tile\n   * wesnoth.interface.get_displayed_unit aliased to wesnoth.unit.get_hovered\n   * unit portrait and recall_filter are now writable\n   * Moved to new sides module: wesnoth.get_sides, wesnoth.is_enemy, wesnoth.match_side, wesnoth.get_starting_location, wesnoth.set_side_id, all AI-related functions\n   * Functions that previously only took a side index as the first parameter now also accept the side proxy userdata.\n   * The wesnoth.sides module acts like a metatable for the side userdata.\n   * Added `__tostring` functions to a number of Wesnoth userdata types.\n   * Unit movetype functions renamed (defense_on, movement_on, vision_on, jamming_on, resistance_against).\n    The defense_on and resistance_against functions return the actual values, rather than the raw WML values.\n   * New function wesnoth.units.chance_to_be_hit is equivalent to deprecated wesonth.units.defense but conveys the meaning better.\n   * Unit movetype functions (excluding resistance) can take a location instead of a terrain code, for convenience\n   * Side proxy now has starting_location member\n   * Fix ai.aspects.grouping not returning the aspect's value\n   * New stringx module exposes various split/join functions used by the engine, as well as trim\n   * Wesnoth's format functions moved to stringx (format_conjunct_list, format_disjunct_list, vformat)\n   * location_set module extended to support set operators (& | ~ -) as well as a few additional functions\n   * new function wesnoth.create_side\n### WFL engine\n   * New functions resistance_on(), vision_cost(), jamming_cost() that work in gameplay contexts (eg filters)\n   * Unit object now has resistance, defense, movement_cost, vision_cost, jamming_cost, flying\n   * For FormulaAI, the game map object has an alternate access mode - `map.gamemap[loc(x,y)]`\n### WML engine\n   * Support upkeep in StandardUnitFilter\n   * [effect]apply_to=variation now supports heal_full\n   * Support [set/clear_variable] inside [modify_unit/side]\n   * Support [variables] in [modify_side], as in [modify_unit]\n   * [filter_weapon] implemented in abilities used as weapons specials to be the same as true weapons specials (implement filter_weapon in [filter_student] instead of [filter_self])\n   * All special weapons can be used in [abilities] now (this was not the case yet for [heal_on_hit], [plague] and [swarm])\n   * [time_area] can now be used without specifying a custom time schedule, this can in particular be used in the scenario editor if one just wants to mark an area to use in as [event]\n### Packaging\n   * The Wesnoth client now looks for the data/dist file when logging into the multiplayer server.\n    This file should contain one of the following values based on where the package is for:\n    Default, Steam, SourceForge, Flatpak, macOS App Store, Linux repository, iOS, Android, BSD repository\n### Miscellaneous and bug fixes\n   * New build-dependency: Python3 is required to run the WML unit tests (on non-Windows)\n   * 80% of WML unit tests now run in a batch using a single instance of Wesnoth (non-Windows only)\n   * Fix --userdata-dir deprecation warning being printed when starting wesnoth without arguments\n    when -DPREFERENCES_DIR=\"...\" was defined at compile time.\n   * Make wmllint recognize `[load_resource]` (issue #4538).\n   * Removed map scaling algorithm customization. Nearest-neighbor scaling will now\n    always be used.\n   * Make wmllint ignore race= keys if they are part of filters inside [unit_type] (issue #4105)\n   * Removed a few asserts from wmllint and postponed a few unit sanity checks to the closing of a [unit_type] tag (issue #4102)\n   * Added tool `tmx_trackplacer`, a file converter for editing map tracks with Tiled (PR #4464)\n   * Added tool trackviewer, which has the animation-preview functions of trackplacer (PR #4574)\n   * Removed the python2 trackplacer tool (issue #4365)\n   * Made wmlscope recognize and analyze optional macro arguments\n   * Made `map_file=Example.map` support looking in the `[binary_path]`'s \"maps/\" directory (issue #4633)\n   * Make wesnoth_addon_manager not generate packet.dump files any more (issue #4651)\n   * Improved handling of defense cap and {NOTE_DEFENSE_CAP} in wmllint (issue #4379)\n   * Removed the leftover Khalifate multiplayer faction files. (PR #4714)\n\n## Version 1.15.2\n### AI:\n   * Experimental AI:\n    * Fix guardians being used for village actions\n    * Fix poisoners ignoring `[avoid]` tag\n    * Recruitment: add optional parameter `high_level_fraction` to make the ExpAI\n      recruit units of level 2 or higher\n    * Recruitment: adopt optional `randomness` parameter from the Rush Recruitment Micro AI\n### Campaigns\n   * Delfador's Memoirs:\n    * S20: Improve leveling of units and give player a note about it (issue #4219)\n    * S21: Better indication that the book has gone missing (issue #4220)\n   * Descent into Darkness:\n    * Use set colors for each faction throughout the campaign\n   * Eastern Invasion:\n    * Updated to use the new mushroom terrains (PR #4335)\n   * Heir to the Throne:\n    * S04: Sea Orc uses now a portrait\n   * Northern Rebirth:\n    * Updated to use the new mushroom terrains\n   * The Rise of Wesnoth:\n    * Updated to use the new mushroom terrains\n   * Under the Burning Suns:\n    * Updated to use the new mushroom terrains (PR #4336)\n   * Wings of Victory:\n    * S01: Make easier on easy and improve flow of enemies\n    * Slight dialog improvements\n### Editor\n   * Added an editor-only overlay for deprecated terrains (PR #4347)\n   * Re-enabled and updated the editor topics in the help browser (PR #4414)\n### Language and i18n\n   * New translations: Ancient Greek\n   * Updated translations: British English, Czech, Chinese (Simplified), French,\n    Italian, Japanese, Korean, Portuguese (Brazil), Russian, Spanish\n   * Set up for translating the Wings of Victory campaign (PR #4265)\n   * Changed the :help command's output to split over multiple lines\n   * Added translatable explanations of :droid, :help and :idle's arguments\n   * Allow carets in translatable strings - 'hint^Tb^Tf' will show 'Tb^Tf' to the user\n   * Removed translations: Old English (`ang`), Friulian (`fur_IT`) and Asturian (`ast`)\n### Terrains\n   * Added new ^Tf mushroom terrain whose statistics are fungus+base terrain, as suggested by the existing graphics (PR #4299)\n   * Added Tb mushroom base terrain, which can be used alone or as Tb^Tf when a terrain with the fungus-only stats is wanted\n### User interface\n   * Draw ellipses during draw/sheath animations (issue #1527).\n   * In the combat dialog and elsewhere, clicking the \"Profile\" button opens\n    the help on the correct unit variation (e.g., Walking Corpse (Swimmer)) (issue #4142).\n   * The attack dialog now shows the correct name of an inactive weapon special (issue #4352).\n   * Tooltips of sidebar, top bar, and status table now show a side's color's name in words,\n    for the colorblind (issue #1217).\n   * In the recruit dialog and recall dialog, units that are too expensive to recruit/recall\n    are grayed out (PR #4362, PR #4444, part of issue #1282).\n   * Hide the \"Suppose Dead\" key from the hotkeys list (it does nothing since 1.9.12)\n   * Sidebar: In replays with \"View: Full Map\", show all enemy units in \"Damage versus:\" tooltip\n   * Multiplayer Create Game screen now shows map previews for scenarios that use map_file= (PR #4407).\n   * Remember zoom level between play sessions (issue #1518) and add zoom options to context menu (issue #1213)\n   * Sidebar shows number of attacks left, for units that can attack multiple times per turn (issue #2667)\n### Lua API\n   * Accessing wesnoth.theme_items.unit_status no longer prevents the unit\n    status (poisoned/slowed/etc) from being shown in the sidebar (issue #4079).\n   * side.flag is now writable. `wesnoth.set_side_id` remains supported (issue #4396).\n   * Units now have a `__tostring` method that shows their id and location.\n### WML engine\n   * Ranges can now have upper limit \"infinity\" instead of using a big number like \"99\" or \"99999\"\n   * Print a deprecation warning for `[terrain_type]`'s partly-implemented `vision_alias`\n   * Special notes for units now use a new system, with a `[special_note]note=` tag:\n    * This tag is supported both in `[unit]` and in `[unit_type]`. If used in `[unit]`, it will override the type's notes.\n    * Standard special notes should now be added with `{NOTE_*}` instead of `{SPECIAL_NOTES_*}`.\n    * In `[effect]apply_to=profile`, `[special_note]` is now supported to add/remove special notes.\n   * Support for the deprecated \"&image.png=text\" syntax has been removed in all contexts - use the DescriptionWML attributes instead.\n   * Fix infinite recursion in SUF with [hides] and [filter_vision] (issue #1389).\n   * The {TRAIT_LOYAL} trait now adds the loyal overlay.\n   * The ellipse, overlay & image_mods attributes of units are now reset when a unit advances. This means those\n    attributes should now by default changed via [effect].\n   * New tag [modify_unit_type] that goes into [campaign]/[era]/[modification] and can change some\n    unit type properties like advancement and recruit costs.\n   * New debug command :terrain for changing the terrain of the selected hex (PR #4405).\n   * New predefined macros `{LEFT_BRACE}` and `{RIGHT_BRACE}` (PR #4432).\n   * Weapon filtering `special=*` deprecated, replaced by new `special_id=*` and `special_type=*` (issue #3915).\n### Miscellaneous and bug fixes\n   * Fixed :droid's arguments not all being optional (issue #4308).\n   * Ported the expand-terrain-macros, wmlflip, wmlparser, umc-dev/build/update_version,\n    wiki_grabber, ai_test and unused_functions tools to Python 3\n   * It's now possible to chat with oneself in SP campaigns. Chat is shown in replays (issue #1111).\n   * Removed unused scoutDefault, journeylifter, wescamp_import and wmlvalidator Python tools\n   * Fixed wmlscope not correctly performing expansion of square braces in filenames in some conditions\n   * New help topic outlining common (and less common) reasons for losing a scenario (PR #4217).\n   * Add help text for some debug commands (part of issue #2500).\n   * Improve the terrain code's encapsulation and documentation (PR #4411).\n   * Fix duration=scenario objects expiry for units on the recall list at scenario end.\n   * Fix maps with scenario_generation= being unavailable in the editor.\n   * Passing relative paths to --user-data-dir is deprecated (part of PR #4449). However, on Windows relative paths\n    that start with `.\\` are not deprecated.\n   * Removed incomplete joystick support.\n   * Removed option to disable unit and item halos.\n   * Added support to wmlxgettext for double-quote characters in translatable raw strings\n\n## Version 1.15.1\n### Editor\n   * Fix buttons in the editor being inactive\n### Language and i18n\n   * Updated translations: German, Portuguese (Brazil)\n### Multiplayer server\n   * Add support for storing game information in wesnoth's mysql database (PR #4204)\n   * When the forum user handler is enabled, the Multiplayer Moderators group is now also used when determining if someone is a moderator (PR #4136)\n### Units\n   * Fix typo in the Dune Ranger's advancements\n   * Additional animations for the Wose Shaman (PR #4229)\n   * Move Wose Shaman from DM and WoV to core (PR #4226)\n   * Move Wose Sapling from TRoW to core (PR #4226)\n### WML engine\n   * Support for the deprecated \"&image.png=text\" syntax for [option]message= has been removed - use the DescriptionWML attributes instead.\n### Miscellaneous and bug fixes\n   * use the 1.15 add-ons server\n   * Fix a crash if the credits (including all add-ons) are very long (PR #4207)\n\n## Version 1.15.0\n### AI\n   * Micro AIs\n    * Add [avoid] tag functionality to Multipack Wolves, Wolves, Swarm and Goto Micro AIs\n    * Support named locations for [micro_ai] tag location keys\n    * Goto and Assassin: fix MAIs not working with tunnels when using custom path finding cost functions\n   * Experimental AI\n    * Deprecate EXPERIMENTAL_AI macro: use ai_algorithm=experimental_ai in the [ai] tag instead\n    * Convert to using external candidate actions\n    * Significantly speed up recruiting evaluation\n    * Recruiting: add optional 'enemy_types' parameter\n    * Adjustments to candidate action scores\n    * Variety of internal evaluation improvements\n   * All Lua AIs\n    * Fix bug crashing some AIs when units with chance-to-hit specials without id are on map\n      (same as what had already been done for the Fast Micro AI)\n    * Do not use hard-coded values for modifiable parameters in wesnoth.game_config\n    * Fix experience for killing level 0 units\n    * Distinguish between healing locations and villages\n    * Significant amount of internal cleanup, including some efficiency improvements\n   * ai_helper library\n    * New functions get_healing_locations(), get_reachmap(), get_avoid_map() and get_locations_no_borders()\n    * get_closest_enemy(): change return values (breaks backward compatibility)\n    * find_best_move(): return nil instead of {} if no move found (may break backward compatibility in rare cases)\n    * Deprecate filter(), choose() and xyoff()\n    * move_unit_out_of_way(): prevent potential for divide-by-zero\n   * Default AI\n    * Remove attack_depth aspect (had been non-functional for a long time already)\n    * [goal]name=protect_unit: do not protect units hidden from the AI\n    * General code clean-up, in particular of TODOs left over from 1.7 and 1.9\n### Campaigns\n   * A Tale of Two Brothers:\n    * S2 'Chase': improved behavior of undead side leader with custom AI\n   * Delfador's Memoirs:\n    * S08: Show carryover report to make it clear the scenario has ended\n    * S09 & 10: Increase difficulty\n    * S12: Allow respective recruits when the loyalists & mages join Delfador\n   * Secrets of the Ancients:\n    * Added ability to recruit different kinds of walking corpses during the campaign.\n    * Unit type naming convention cleanup.\n   * Son of the Black Eye:\n    * S03: remove unused objective note\n   * The Hammer of Thursagan:\n    * Removed scenarios 4 (Troll Bridge), 5 (Invaders), and 7 (Mages and Drakes)\n    * Reworked scenario 8 (Fear) and rebalanced other scenarios\n    * Added new character and updated some dialogue\n   * Under the Burning Suns:\n    * Refactor code in various scenarios to be more readable\n    * Various bugfixes (objectives, allied vision, unit spawns, event firing)\n    * S8: change water to rise based on timer, not player movement\n   * Wings of Victory:\n    * New campaign added to mainline (Intermediate level, 11 scenarios).\n   * Deprecate AI Controller and remove it from mainline campaign scenarios\n### Engine\n   * Windows 7 is now the minimum supported Windows version.\n   * Add command-line arguments for detecting invalid WML.\n   * Revise mechanics of the liminal alignment to match up with the intended meaning.\n   * Healing animation is shown when the patient is invisible. (PR #3643)\n### Language and i18n\n   * Updated translations: British English, Bulgarian, Chinese (Simplified),\n    Chinese (Traditional), Czech, Dutch, French, Galician, German, Hungarian,\n    Italian, Japanese, Lithuanian, Polish, Portuguese (Brazil), Russian,\n    Scottish Gaelic, Slovak, Spanish, Turkish, Ukrainian.\n### Lua API\n   * Allow specifying custom flags (in particular teleport) when using a custom cost function in wesnoth.find_path\n   * Add wml.load() and wml.parse() functions\n   * wml.tostring() now outputs a string that can be parsed back to WML without loss of data.\n   * Add wml.clone() function that performs a deep copy of a config or vconfig.\n   * Organize API functions into several new (sub)modules: gui, wesnoth.units, wesnoth.interface\n   * Allow WML tag names injected with wml.tag to start with underscores.\n   * Add a map helper object usable in lua map generators, that supports fast filters.\n    Similar to standard location filters.\n   * The lua map generators can now access (read, not write) game variables, from the end of the previous\n    scenario in campaigns\n   * The [lua] tag now supports a name= attribute, that is used a a name for the lua code in in stack traces\n   * Add wesnoth.generate_default_map to be usable in lua map generators which just invokes the default map generator.\n   * Add game_config.combat_experience\n### User Interface\n   * Don't show in the sidebar the time of day schedule of a shrouded hex. (issue #3638)\n   * Make unit_weapons report display weapon specials as active/inactive correctly. (issue #4071)\n   * macOS: Dark GUI on macOS Mojave and later when dark appearance is enabled.\n   * Observers are now required to enter a game's password as well, rather than just players needing to enter the password.\n### Packaging\n   * OpenMP support has been removed. It is no longer an optional build-time dependency.\n### Units\n   * Saurian warriors are now female. (issue #3392)\n   * Giant Scorpion now has 20% resistance to arcane and 0% to all other resists\n   * Added Sand Scuttler variation to the Giant Scorpion with same resists as original unit\n   * Move Fire Dragon portrait from TRoW and SoF to core\n   * Move Orcish Leader portraits to Orcish Ruler and use grunt variation portrait for Leader\n   * Increased Mermaid Initiate advancement line hitpoints (Diviner 41->45, Enchantress 38->39, Priestess 31->35, Siren 49->51)\n   * The Dunefolk faction was overhauled to improve balance against the six Default factions\n### WML engine\n   * Support formula= key in [variable] ConditionalWML\n   * Support to_location in [move_unit], taking a special location ID\n   * Support dir in [move_unit] to perform relative movements\n   * Support location_id in [teleport], [recall], [unstore_unit] for the target location\n   * Support a comma-separated list for location_id key in SLF\n   * Support [filter_weapon] in leadership and resistance abilities,\n    which activates the ability only when the affected unit is using\n    a matching weapon.\n   * Support [filter_second_weapon] in leadership and resistance abilities,\n    which activates the ability only when the affected unit's opponent\n    is using a matching weapon.\n   * Support ['specials'] in abilities except plagues, heal_on_hit and swarm , which emulate the weapon\n    specials with [affect_adjacent] in option and the possibility to affect all weapons filtered(used with\n    'Initiative' in httt or 'Formation' in utbs). (don't put filter_weapon in 'filter_self/opponent' like\n    in  true weapons specials).\n   * Support WFL and percentages in [random_placement]num_items=\n   * Support [or] in [filter_wml] and similar places\n   * Support globbing in [filter_wml] via glob_on_* keys\n   * Add trunc as a valid value for [set_variable]round=\n   * Remove support for speaker=id in SUF (but retain in [message])\n   * Support saner units for some formatting options in [message]\n   * Support underline=yes|no in [message]\n   * Support [set_variable]root=cube and root=_integer_\n   * Support force_scroll in [move_units_fake] (default no)\n   * Support facing= in [role][auto_recall]\n   * Support lists for special and special_active in SWF\n   * Support usage and alignment in SUF\n   * Deprecate [replace_map]map= in favor of map_data=\n   * Add u and v variables in ~ADJUST_ALPHA() and ~CHAN()\n   * Add clear_shroud in [move_unit] to clear shroud as the unit moves\n   * Support male_voice and female_voice in [message]\n   * Support [break], [continue], and [return] in [random_placement]\n   * [remove_sound_source] now accepts a comma-separated ID list\n   * Support [filter_team] in [item] in addition to team_name=\n   * Support an optional EXTRA_WML argument to {REMOVE_LABEL}.\n   * Support [disallow_end_turn]reason=\n   * The {SPECIAL_NOTES_*} macros now start with a newline and a bullet point.\n   * Support [unit]jamming=\n   * Support [movetype]flying= and deprecate [movetype]flies=, for consistency with [unit]flying=\n   * Add [set_menu_item] persistent=yes/no.\n   * [modify_unit] now has a faster lua implementaion for the most common cases.\n   * [unit] moves=-1 no longer removes attacks.\n   * [item] supports a z_order attribute that describes in which order the items are drawn.\n   * New terrain_mask implementation, adds alignment= attibute to terrain_mask.\n### Miscellaneous and bug fixes\n   * Rest healing now happens on turn 2. (issue #3562)\n   * Normal healing now happens on turn 1 for all sides except the first. (issue #3562)\n   * [change_theme] no longer requires running a separate action to update the\n    UI afterwards (e.g. [redraw]) and the status panels are updated immediately.\n    as well.\n   * Re-added the Font Scaling preference.\n   * Enabled wesnothd and campaignd to accept IPv6 connections too\n   * Added support for directly supplying IPv6 address of the server to multiplayer client and addon client. It must be done like this: ```[ipv6_address]``` or ```[ipv6_address]:port```\n   * Show ability of a selected unit as active/inactive with respect to mouseover hex. (issue #3912)\n   * macOS: Wesnoth now uses the app sandboxing feature, which means there is a new location for saves. All saves will be migrated during first launch automatically. For info about backwards compatibility see: https://gist.github.com/hrubymar10/eb5afd896f933a46fac344ced940e020\n   * The sidebar, recall dialog, etc now show attack's range (melee/ranged) and\n    damage type (arcane/blade/cold/...) using icons. (PR #3732, #3740)\n   * Add hit count statistics to the statistics dialog. (PR #4070)\n   * Added FULL option for :droid command. (PR#4147)\n   * Observers must now also enter the password before observing a game that is password protected. (PR#4140)\n   * A message is now displayed when observers share IP addresses. (PR#4138)\n   * Game bans are now also enforced by username. (PR#4139)\n   * Usernames on the host's ignore list are automatically banned. (PR#4143)\n\n## Version 1.14.15\n### Add-ons client\n   * Fix potential crashes when working with installed add-ons that have a corrupted _info.cfg file.\n### Campaigns\n   * Descent into Darkness:\n    * S11: fix low probability case of enemy being unreachable\n    * S11: recall ghosts if available and ensure the player gets one level 2 ghost.\n   * Eastern Invasion:\n    * S03: fix the initial keep being blocked at the start\n### Translations\n   * Updated translations: British English, Catalan, Czech, French, German, Italian,\n    Japanese, Polish, Portuguese (Brazil), Russian, Turkish\n### User interface\n   * Fixed formatting of hyperlinks when the same URL appears more than once in a block of text\n### Miscellaneous and Bug Fixes\n   * Fixed a rare issue on Windows that could result in wesnoth.exe sticking around waiting for console input after encountering an error despite not being launched with the `--wconsole` option.\n   * Removed documentation for network proxy-related command line options previously removed in version 1.13.1 along with libana.\n\n## Version 1.14.14\n### Add-ons client\n   * Add-on titles and descriptions translated to the current language are used when available.\n    The original English title is displayed in the UI and considered for search purposes in addition\n    to translations.\n### Add-ons server\n   * Made it possible to provide translations for add-on titles and descriptions at upload\n    time in the .pbl (PR #4993). Only clients running 1.14.14/1.15.4 or later can read the\n    translated values.\n### Language and i18n\n   * Updated translations: British English, Catalan, Chinese (Simplified),\n    Chinese (Traditional), Czech, Esperanto, French, Hungarian, Italian, Polish,\n    Portuguese (Brazil), Russian, Spanish, Turkish\n### Multiplayer\n   * 5p - The Wilderlands:\n    * Player 5’s units are sorted when cycling through them with the »n« key.\n    * Map tweaks (changes to some castles & villages, the northern river and embellishments)\n### User interface\n   * Do not list nameless abilities in the Abilities and Ability Upgrades lists in unit\n    descriptions in Help (issue #3060).\n   * Fixed disabled buttons using the pressed highlight color.\n### Miscellaneous and bug fixes\n   * Made wmllint recognize [remove_time_area] in order to avoid spurious warnings about\n    unit ids.\n   * Files created by the scenario editor include a boilerplate warning about hand-editing them.\n\n## Version 1.14.13\n### Campaigns\n   * The South Guard:\n    * S6b: Fixed enemy units triggering their own ambush events.\n### Language and i18n\n   * Updated translations: Chinese (Traditional), French, Portuguese (Brazil), Russian\n### WML engine\n   * Fixed OOS issues caused by select events triggered during events (issue #4946).\n### Miscellaneous and bug fixes\n   * Fixed a major memory leak in the display code affecting all graphics operations, dating back to\n    version 1.13.13.\n   * Include graphics settings and the list of installed add-ons in the Game Version dialog's clipboard\n    report and the command line --report output.\n\n## Version 1.14.12\n### Add-ons client\n   * Ensure the client doesn't re-download dependencies that have just been updated during an Update All\n    run by re-reading add-on versions after each update batch (issue #3273).\n### Add-ons server\n   * Don't send restricted attributes at all, rather than sending them as an empty string (issue #4800).\n### Campaigns\n   * General:\n    * Fixed instances of multiple [avoid] tags being used (PR #4776).\n    * Used more appropriate castle/encampment terrains.\n   * Descent into Darkness:\n    * S7: Correctly call Taylor a general.\n    * S9: Spelling fix.\n    * S11: Reduced boss difficulty and fixed ghost units not being correctly recalled.\n   * Heir to the Throne:\n    * S23: Clarify Bayar's dialogue.\n   * Northern Rebirth:\n    * Fixed enemy naga's triggering an event they shouldn't be triggering (issue #4853).\n   * Son of the Black Eye:\n    * S15: Fix the scenario not ending despite objectives being met in some circumstances (issue #4841).\n   * Under the Burning Suns:\n    * Fixed Sun Shydes dehydrating themselves at night.\n    * Dehydration only affects the player's side.\n### Language and i18n\n   * Updated translations: British English, Czech, Chinese (Traditional), Dutch, Esperanto,\n    Finnish, French, Hungarian, Italian, Japanese, Polish, Portuguese, Portuguese (Brazil),\n    Spanish, Swedish.\n   * Use <game dir>/translations instead of <process working dir>/translations to find core\n    translation catalogues on Windows.\n### Packaging\n   * Fixed an issue when building using scons and --config=force.\n   * Fixed creating the lockfile in scons when using python 3.\n   * Significantly improved the macOS packaging instructions (PR #4781).\n### Units\n   * Fixed the team color of the berserker idle animation.\n   * Fixed typo in Troll race description.\n   * Fixed the Red Mage using the Mage's idle animation.\n### User interface\n   * Fixed a crash on certain screen resolutions due to UI element padding not being able to fit.\n   * Fixed a crash when trying to preview an unplayable map (PR #4810; issues #3149, #4395, #4545).\n### Miscellaneous and bug fixes\n   * Fixed building with the 64-bit Visual Studio projectfiles.\n   * Added missing side controllers to two Micro AI scenarios (fixes #4890)\n   * Experimental AI retreat CA: bug fix for cure-only abilities\n   * Forest Animals Micro AI: excluded rabbit holes on map border\n\n## Version 1.14.11\n### Language and i18n\n   * Updated translations: Czech, German.\n### Packaging\n   * Fixed data/dist information not being found on many platforms other than Windows (only\n    with the installer-created shortcut), as well as only the very first word being read instead\n    of the whole line.\n   * Added support for systemctl reload.\n### Miscellaneous and bug fixes\n   * Silenced spurious warning about conflicting l10n-track files (issue #4716).\n\n## Version 1.14.10\n### AI\n   * Experimental AI:\n    * Spread poison: bug fix for units ignoring [avoid] tag\n    * Castle switch: bug fix for units-on-keep check\n    * Remove village hunt CA\n    * Add ids for candidate actions\n   * Fix bug crashing some AIs when units with chance-to-hit specials without id are on map\n   * Fast Micro AI: fix re-adding default CAs when deleting the MAI\n   * Bottleneck Defense Micro AI: fix bug of units not participating if too far in front of the bottleneck\n   * Lua AIs: several other minor behind-the-scenes bug fixes\n### Campaigns\n   * Descent into Darkness:\n    * S1: reduced difficulty\n   * Heir to the Throne:\n    * Modify campaign starting date\n   * Legend of Wesmere:\n    * Fix various date inconsistencies in historical references\n   * Sceptre of Fire:\n    * S1: Fix reference to LoW events\n   * The South Guard:\n    * Change Halidel to be Deoran's great-grandfather\n    * S7b/S8b: reduce enemy gold values and modify dialogue upon allied unit death\n   * Tutorial:\n    * S2: Make the first grunt cross the bridge, otherwise the scenario is too hard\n   * Under the Burning Suns:\n    * Sun Singer and Sun Sylph: modify faerie fire colors\n### Language and i18n\n   * Updated translations: British English, Chinese (Simplified),\n    Chinese (Traditional), Czech, Dutch, Esperanto, French, German, Italian,\n    Korean, Portuguese (Brazil), Russian, Spanish, Turkish\n   * Fix Rename Unit dialog having untranslated text (issue #4569).\n### Lua API\n   * wesnoth.deprecate_api was fixed to correctly wrap tables with metatables (issue #4079).\n### Music and sound effects\n   * Removed accidental silence of two seconds after the first track of each scenario\n    (issue #4459).\n### Units\n   * Add various new death, standing, and idle animations\n### User interface\n   * Fixed some severe game rendering issues with SDL 2.0.10 (issue #4237, issue #4245,\n    issue #4510).\n   * Draw ellipses during draw/sheath animations (issue #1527).\n   * In the combat dialog and elsewhere, clicking the \"Profile\" button opens\n    the help on the correct unit variation (e.g., Walking Corpse (Swimmer))\n    (issue #4142).\n   * Ensure enough space to display turn numbers in the hundreds.\n   * The search box in the Campaigns menu now takes campaign abbreviations and descriptions\n    into account.\n   * Added the Private Replay checkbox to the Multiplayer Create Game screen. This separates\n    whether observers are allowed from whether the replay will be publicly available.\n   * In the recruit dialog and recall dialog, units that are too expensive to recruit/recall\n    are grayed out (PR #4362, PR #4444, part of issue #1282).\n   * Reworked styling of progress bars and the network transfer progress dialog.\n   * Removed \"Classic\" in-game theme.\n   * Textboxes now have a hover effect as well as an I-beam cursor.\n### Packaging\n   * The Wesnoth client now looks for the data/dist file when logging into the multiplayer server.\n    This file should contain one of the following values based on what distribution channel the package is for:\n    Default, Steam, SourceForge, Flatpak, macOS App Store, Linux repository, iOS, Android, BSD repository\n### Miscellaneous and bug fixes\n   * New build-dependency: Python3 is required to run the WML unit tests (on non-Windows)\n   * 80% of WML unit tests now run in a batch using a single instance of Wesnoth (non-Windows only)\n   * New help topic outlining common (and less common) reasons for losing a scenario (PR #4217).\n   * Add help text for some debug commands (part of issue #2500).\n   * Make wmllint recognize `[load_resource]` (issue #4538).\n   * Make wesnoth_addon_manager not generate packet.dump files any more (issue #4651)\n\n## Version 1.14.9\n### AI:\n   * Fixed a rare crash in attack prediction (issue #4068)\n   * Experimental AI: fixed guardians being used for village actions\n### Campaigns\n   * A Tale of Two Brothers:\n    * S3: modify castle illumination tip on easy mode\n   * Dead Water:\n    * S3: modify starting dialogue\n   * Descent into Darkness:\n    * Update campaign description\n    * Update maps for S1 and S6\n    * S4: reduce difficulty on easy and normal modes\n    * S11: reduce difficulty just after Malin turns into lich\n   * Eastern Invasion:\n    * S9: add dialogue on victory\n   * Heir to the Throne:\n    * Remove 'Princess' as a direct address\n    * S15, S23: Add explicit hints on EASY. (PR #4329)\n    * S15: Improve one branch of the victory dialog. (PR #4334)\n   * Legend of Wesmere:\n    * S23: Landar's normal death dialogue now (properly) not used\n   * Northern Rebirth:\n    * Remove 'Princess' as a direct address\n   * Sceptre of Fire:\n    * S5: tell player that gryphon riders can now be recruited\n    * S9: objectives changed to be more accurate upon moving to the volcano\n   * Secrets of the Ancients:\n    * Fixed number of scenarios in campaign listing\n   * Son of the Black Eye:\n    * S10: add dialogue on victory\n   * The Rise of Wesnoth:\n    * Tweaked dialogue in various scenarios\n    * Fixed number of scenarios in campaign listing\n    * S17a: prevent time over defeat if player chooses to defeat remaining saurians\n   * The South Guard:\n    * Update campaign description\n    * Highlight narrator and gameplay explanations with colors\n    * S1: create Sir Gerrick if player skips scenario with debug\n    * S4: revise end of scenario dialogue\n    * S5: add narrator warning when siding with bandits and reduce difficulty\n    * S6b: create Urza Afalas if player skips S5 with debug\n    * S6b: kill elves on side 1 if player got to this scenario with debug\n    * S8b: fixed bug with shifted ToD schedules near campfires\n   * Under the Burning Suns:\n    * Various bugfixes (objectives, allied vision, unit spawns, event firing)\n    * Updated various maps\n    * Add additional animations to cutscenes and events\n    * S2: add dehydration explanation to objectives\n### Graphics\n   * Own portraits for higher level bats\n   * New Water Serpent and Cuttlefish portraits\n   * New Wolf, Great Wolf and Direwolf portraits\n   * Additional wolf/dog portrait for custom units\n   * Separate Mudcrawler portrait\n   * New Walking Corpse portrait for mounted variation\n### Language and i18n\n   * Updated translations: British English, Chinese (Traditional), Czech, Dutch,\n    French, German, Italian, Japanese, Portuguese (Brazil), Russian, Spanish,\n    Turkish, Ukrainian\n   * Changed the :help command's output to split over multiple lines\n   * Added translatable explanations of :droid, :help and :idle's arguments\n### Multiplayer\n   * A New Land:\n    * Help menu can be accessed in any turn and doesn't pause the game\n    * Bottleneck in the spider's caves removed\n    * Swapped positions of Gryphon and Drake\n    * Guards can't be tricked off position, leaders won't destroy buildings\n    * Guards and Spiders are loyal – AI income has been adjusted accordingly\n    * AI income increases gradually in lategame (very slowly)\n   * The Wilderlands:\n    * Fixed default village_gold being too high, disadvantaging player 5\n### Packaging\n   * Added HighContrast icon variant\n### WML engine\n   * Fixed [music] ms_after= affecting the previous track instead of the intended one\n### Miscellaneous and bug fixes\n   * Update various references of mermen to merfolk or mer\n   * Adjust several maps to use different castle graphics\n   * OpenMP support has been removed\n   * Clarify descriptions of income and upkeep in the help and in tooltips. (PR #4337)\n\n## Version 1.14.8\n* Skipped due to need to reupload a broken 1.14.7 macOS App Store package as 1.14.8\n\n## Version 1.14.7\n### Campaigns\n   * A Tale of Two Brothers:\n    * S3: Changed castle to permanent chaotic ToD and rebalanced scenario accordingly\n    * S4: Added dialogue between Baran and Tairach when they engage in combat\n   * Dead Water:\n    * S3: Added event to make Storm Trident more obvious\n   * Descent into Darkness:\n    * Complete revision of all dialogue and story text\n    * Revised and rebalanced gameplay in all scenarios\n    * S3 and S11: New scenarios completely rewritten from scratch\n   * Eastern Invasion:\n    * S1: Removed early finish bonus for fleeing\n    * S2: Modified Dacyn's dialogue upon undead arrival\n    * S7a: Require Dacyn to cross the river\n    * S9: add snow to map\n    * S10: show objectives after defeating enemy leaders\n    * S11: show objectives after finding gold and releasing prisoners\n   * Legend of Wesmere:\n    * Disabled side shuffling in MP (checking the box does nothing)\n    * Fixed missing persistent data at the end of chapter 3\n    * Rebalanced gold values in all scenarios\n    * S3: remove shroud from enemy sides upon Kalenz's arrival\n    * S4: (MP only) free Cleodil at scenario start\n   * Northern Rebirth:\n    * Eryssa now must survive if she joins the player\n    * Father Morvin and Sister Thera will now respawn at Tallin's location if they die to prevent illogical gameplay\n    * Gold in S10-13 is adjusted if Krash is dead\n    * S1: Spawn 2 Troll Whelps instead of 4 and a normal Troll\n    * S4: Have Hamel describe Ghouls if Camerin is dead\n    * S5: Add gates to map instead of images and overlays\n    * S8: add text and updated objectives when rescuing Eryssa\n    * S12a: Update objectives to make it clear that gold is not received if Sisal dies\n   * The Rise of Wesnoth:\n    * Fixed various typos\n    * S17c: Modified Burin's description of trolls\n   * The South Guard:\n    * Fixed various typos\n   * Tutorial:\n    * Remove swamp from map for part 2\n    * Warn player about water when stepping on any shallow water hex\n    * Change quintain to level 0\n    * Allow Konrad and Li'sar to level up and add corresponding dialogue for part 2\n   * Under the Burning Suns:\n    * Added embellishments to various maps\n### Language and i18n\n   * Updated translations: British English, Chinese (Traditional), Dutch,\n    French, Italian, Japanese, Lithuanian, Spanish.\n### Multiplayer\n   * Dark Forecast: AI units are \"discovered\" (added to the help if not already known)\n   * Dark Forecast: fixed bug where additional boss spawns would not occur after the initial wave\n### Multiplayer server\n   * Forum user handler ban durations are now reported back to banned players.\n### Units\n   * Updated descriptions for Goblin Knight and Wolf Rider\n   * Add new descriptions for Quenoth faction\n### User interface\n   * Add jamming to the vision tooltip in the sidebar. (PR #3327)\n   * Fix undoing a recall not un-drawing parts of the sprite that go beyond the unit's hex (issue #3325)\n   * Fix crash when the recruit filter matched nothing. (PR #3969)\n   * \"Show Enemy Moves\" now highlights enemy units that can reach the highlighted hex. (PR #3961)\n   * The time of day graphics for midday and midnight have been updated to match the rest of the\n    summer/winter time of day schedules. (issue #2677)\n### Miscellaneous and bug fixes\n   * Fix auxiliary attack end event handlers defined by FORCE_CHANCE_TO_HIT breaking if one or more of the\n    affected units are removed by another attack end event handler (issue #3982).\n   * The statistics dialog no longer forgets to reset stats when using \"Reset Replay\" (\"Stop\") in replay\n    mode or \"Back to turn\" in networked MP games (issue #2852).\n\n## Version 1.14.6\n### AI\n   * Fixed crash when the AI simulates a fight between two units which can slow but aren't yet slowed, then\n    simulates another fight for one of them in Monte Carlo mode (issue #3650).\n   * Experimental AI recruiting: fixed AI crash for unit type with unknown race\n   * Support for modifying the available AIs using cores:\n    * New parameter default_ai_algorithm for setting the default AI\n    * New parameter mp_rank for setting the order in which AIs appear in the MP computer player selection menu\n   * New option \"Keep saved AI\" when reloading games from the MP Create Game screen. Choosing this option\n    prevents overwriting of the saved AI by the default AI. (issue #3791)\n   * Forest Animals Micro AI: fix AI crash when using custom rabbit hole image\n   * Fix Lua AIs using the ai.stopunit_*() functions potentially creating infinite candidate action loops\n### Campaigns\n   * Dead Water:\n    * S12: Slightly rebalanced enemy reinforcements and ai gold\n   * Descent Into Darkness:\n    * Allow converting L3 necromancers to liches from S12 onwards (issue #3165).\n    * Added an alternative method of completing the campaign (issue #3167).\n    * S8, S9 (A Small Favor II & III): Clarify objectives. (PR #3711)\n    * S8 (A Small Favor II): Fixed units created via the plague ability not available in S9. (PR #3711)\n   * Sceptre of Fire:\n    * S1&2: increased difficulty\n    * S6: additional guards for the elves\n   * Secrets of the Ancients:\n    * S01 Slipping Away: It is now obvious that the wild animals cannot cross the fences.\n    * S02 Dark Business: Simplify scenario by removing the temporary invisible starting keep.\n    * S05 Blackwater: Additional dialog from Ardonna at the start.\n    * S11 Battleground: Ghosts are now able to be recruited after the scenario is complete.\n    * S15 Mountain Pass: Bird bones moves so bird is easier to keep alive when discovered.\n    * S21 Against the World: Leader of the elves is now same elf from S12.\n    * S21 Against the World: Adjustment so player doesn't have to chase down some leaders at the end.\n    * Proper animation for finding the bird bones.\n    * Newly made liches will now receive a move point upon transformation if they weren't recalled.\n      this turn and haven't moved yet.\n   * The Hammer of Thursagan\n    * S12 'The Underlevels': redesigned with completely new map and scenario\n   * Northern Rebirth:\n    * Fix loyal units obtained in S7 costing upkeep (introduced in 1.14.5)\n    * S13: Improvement to the AIs\n   * The Rise of Wesnoth:\n    * S15: victory text is not used upon hero death\n    * S17d: enemy units are killed upon victory except for bats\n    * S22: cuttlefish now have the loyal icon\n   * The South Guard:\n    * Revised scenario and story dialogue.\n    * Reworked and rebalanced all scenario and map designs.\n    * Removed S6a 'Tidings Good and Ill'.\n   * Tutorial:\n    * S2: Wolf riders are not initially recruited, to not hinder the player\n      from reaching the island in time\n### Language and i18n\n   * Updated translations: British English, Chinese (Simplified),\n    Chinese (Traditional), Czech, French, German, Italian, Japanese,\n    Lithuanian, Russian, Scottish Gaelic, Slovak, Spanish, Ukrainian.\n### Lua API\n   * Fix wesnoth.set_dialog_callback calling the function immediately when used in the previous callback. (issue #3794)\n   * Fix wesnoth.set_dialog_value not triggering re-layout. (issue #3572)\n   * wml.tostring() now outputs a string that can be parsed back to WML without loss of data.\n### Miscellaneous and bug fixes\n   * Fix crash with custom themes on desktop PCs. (issue #3599)\n   * Add --campaign-skip-story command line switch for skipping directly to turn 1. (issue #3472)\n   * Remove --data option, --data-path has the same functionality.\n   * Fix documentation of --render-image command line switch. (issue #3568)\n   * Update manpage with options previously only documented by wesnoth --help.\n   * Fix wrong ordering for BW / BF years, for example in Play a Campaign when sorted by date. (issue #3187)\n   * GUI.pyw can now terminate a running maintenance script\n   * Fix SDL_DestroyRenderer assertion failure under XMonad. (part of issue #3716)\n   * Fix map item names not being translated in the scenario editor.\n   * Usernames specified in the MP UI and command line are now stripped of leading and trailing whitespace, including newlines.\n   * Show ability of a selected unit as active/inactive with respect to mouseover hex. (issue #3912)\n   * macOS: Wesnoth now uses the app sandboxing feature, which means there is a new location for saves. All saves will be migrated during first launch automatically. For info about backwards compatibility see: https://gist.github.com/hrubymar10/eb5afd896f933a46fac344ced940e020\n   * Many units lacking animations now have at least a defense animations\n### Multiplayer server\n   * Fix stale temporary bans continuing to have an effect on players until cleared by\n    phpBB on the next ban/unban operation.\n### Packaging\n   * new scons option, intended to be used when building releases inside a git repo: autorevision=False\n   * Fix build with Boost 1.69. (issue #3646)\n   * Fix build with Pango 1.43. (issue #3840)\n### User interface\n   * Fix regression: Game Load screen would not select 1.12 savegames. (issue #3561)\n   * Fix regression: the in-game \"Observers\" icon (an eye) was covered by the minimap. (issue #3543)\n   * Increase step size when clicking sliders in the MP Create Game dialog. (issue #3552)\n   * Fix overlapping top bar elements with small screen resolutions. (issue #3714)\n   * Don't scroll to an invisible unit that recruits another invisible unit. (issue #3559)\n   * When a recruited unit is fogged, scroll to the recruiting unit and play recruit\n    animation. (issue #3577)\n   * Fix line breaks in first statistics line in unit type pages in the help. (issue #3256)\n   * Don't scroll to an enemy unit that teleports to or from an invisible hex. (PR #3578)\n   * Don't show in the sidebar the time of day schedule of a shrouded hex. (PR #3638)\n   * Game Load screen gracefully handles savefiles that can't be parsed. (issue #3652)\n   * The sidebar now shows alignment and damages as they would be on the hex under\n    the mouse, rather than at the unit's current location. (PR #3642)\n   * When a unit has multiple statuses (slowed/poisoned/invisible/etc), the\n    sidebar shows all of them, not just the first. (issue #3197)\n   * Fixed being able to dismiss a game lobby by pressing Esc.\n   * Fixed multiple severe issues in the classic theme.\n   * The \"Attack Enemy\" dialog now shows inactive weapon specials in gray. (PR #3686)\n   * Taking screenshots in title screen is possible again (issue #3235)\n   * The \"Recruit Unit\" dialog is searchable by unit type name. (PR #3787)\n   * Add text filter to hotkeys preferences. (PR #3759)\n   * Hide leader in status table if it's unfogged but invisible. (PR #3854)\n   * macOS: Dark GUI on macOS Mojave and later when dark appearance is enabled.\n\n## Version 1.14.5\n### AI\n   * Fixed crash in AI code when a side has multiple leaders.\n   * Fix AI ignoring teleport locations when moving leader to leader goals.\n   * Fast Micro AI: Fix bug crashing the AI when units with chance-to-hit\n    specials without id are on map.\n### Campaigns\n   * Heir to the Throne:\n    * S6: Allow canceling an attack when a move+attack spawns enemy units (issue #3459).\n    * S6: Change the trigger for spawning undead reinforcements (issue #3459).\n    * S17: Add dialog explaining the lava game mechanic and an easter egg (issue #3473).\n   * Liberty:\n    * S3: Add story and war drums music.\n   * Northern Rebirth:\n    * S12: empty sides are hidden.\n    * S13: allied leaders whose death causes defeat won't leave their keep and\n      the lich brothers and Krash got more gold.\n   * Sceptre of Fire:\n    * S4: a cave entrance has been added.\n    * S5: Gryphon Riders are now available starting from S5 (formerly S3).\n    * S7: it's now impossible to kill all pursuers.\n   * Secrets of the Ancients:\n    * Fix dialog said by wrong unit & revert previous fix (issue #3294).\n   * The Hammer of Thursagan:\n    * S10: Fix objectives requiring too much of the player.\n   * The South Guard:\n    * S2: the case where Deoran is not sent to the Citadel is handled better.\n    * S2: enemy units will no longer neutralize villages instead of capturing or burning them.\n      This also means certain units will no longer be hidden in the Game Stats list.\n    * S4: bodyguards are never spawned next to other units, and always in forest.\n    * S5: zombies have now one castle with two leaders.\n    * S6a: mermen leave after this scenario and will no longer be available.\n    * S7a & S8a: a certain hero may now die.\n   * Tutorial:\n    * Show an undo reminder if one is out of moves, but can't end the turn yet.\n    * Added more information to the Status Table prompt about how to access it (issue #2883).\n   * Under the Burning Suns:\n    * New graphics for Eloh.\n### Multiplayer\n   * A New Land: Fixed village gold being 1 instead of 2.\n   * Fixed Random Start Time not working (issue #3515).\n   * Fixed a possible crash when leaving a game as an observer (issue #3017).\n   * Fixed Start Game locked when other players abort the faction/leader selection\n    dialog (issue #3452).\n   * Fixed Skip Replay when joining MP campaigns.\n   * Fixed OOS errors when undoing after ally chat.\n   * Fixed game freezing upon droiding with Delayed Shroud Updates (issue #3453).\n   * Fixed require_scenario and require_era attributes.\n### Language and i18n\n   * Updated translations: British English, Chinese (Traditional), Czech, French,\n    German, Hungarian, Italian, Japanese, Scottish Gaelic, Ukrainian.\n### User Interface\n   * On laptop computers we now show how much battery you have left.\n   * MacOS: Fixed moving the mouse with a touchpad also scrolling GUI dialogs.\n   * MacOS: Add build number to OS version report.\n   * Fix layout of Preferences window with some localizations (such as Czech).\n   * Load Game now shows the chosen difficulty with the same name that you originally selected.\n   * Load Game now shows the modifications enabled in the selected savegame (issue #3495).\n   * Force leader sprites larger than 72x72 to be downscaled in Load Game (issue #3474).\n   * Add left padding to dialog messages shown with a portrait on the right (issue #1938).\n   * Addon Manager uses clearer terms for sort order.\n   * Fix reversed sort order by unit level in Unit List and Recall Unit.\n   * Fixed crash in Recall Unit when no units match the filter (issue #3475).\n### WML engine\n   * Fixed [animate_unit] and [heal_unit] preventing unit halo from disappearing if the unit\n    dies later (issue #3509).\n### Miscellaneous and bug fixes\n   * Fix some minor problems with the macOS package.\n   * Fixed crash when trying to attack with a unit without usable weapons (issue #3424).\n   * Fixed the debug mode Create Unit dialog crashing when changing the gender\n    of the previous selection after causing the list to come up empty using\n    the filter box.\n   * Allow searching by race and internal unit type id with the Create Unit\n    filter box as well.\n   * wmlxgettext is now included in release packages, so a separate download is no longer required to use it with GUI.pyw.\n   * Fixed crash when pressing Reset replay (issue #3439).\n   * Fixed editor cannot add starting location for > 9 players.\n   * Fixed crash in Lua tstring comparision (issue #3541).\n   * Fixed objectives at scenario start using old/cached values of conditions/variables (issue #3544).\n   * Show an error message when trying to open the Lua console while not in debug mode.\n   * On enemy side's turn, don't scroll to that side's leader if it's invisible.\n   * Fixed :droid ignoring its second argument.\n   * Fixed :droid giving no feedback when successful.\n\n## Version 1.14.4\n### Security Fixes\n   * Fixed Lua being able to escape sandboxing via load/loadstring (CVE-2018-1999023).\n### Add-ons server\n   * Made it so plain-text .po catalogues in add-ons are detected and added to\n    the list of translations for them.\n### Campaigns\n   * Dead Water:\n    * In 'Tirigaz', take the situation into account of orcs being killed either\n      first or by undead.\n   * Delfador's Memoirs:\n    * Fix hero units costing upkeep (issue #3277)\n   * Eastern Invasion:\n    * Fixed missing prisoners and loss of recallable units in 'Captured'.\n   * Northern Rebirth:\n    * Level 0 units are not available anymore after scenario 5\n   * Secrets of the Ancients:\n    * Adjust gender of enemies to better match story in S11 & 21 (issue #3294)\n    * Simplify dialog to fix possible confusion in S16 (issue #3291)\n    * Have nagas be able to recruit in S21 (issue #3293)\n   * The South Guard:\n    * S4: undead leader won't leave the castle anymore\n    * S5: the untypical situation that one can defeat the lich before finding\n      Urza Afalas is now handled\n   * Under the Burning Suns:\n    * S11: added custom graphics for the citadel.\n    * S12: clarified the alien bodies' weaknesses.\n    * Various visual improvements.\n### Editor\n   * Fixed saving a map as a scenario not enabling scenario editor tools.\n### Graphics\n   * New attack animation for the Peasant.\n   * Tweaked the Ruffian's attack animation timing.\n### Language and i18n\n   * Updated translations: British English, Bulgarian, Chinese (Simplified),\n    Chinese (Traditional), Czech, French, German, Hungarian, Japanese,\n    Scottish Gaelic, Slovak, Spanish\n### Lua API\n   * Upgrade to Lua 5.3.5.\n### Multiplayer\n   * Non hosts can now change their faction in the mp wait dialog.\n### Multiplayer server\n   * Fixed lobby and whisper messages not having a maximum length.\n   * Partly fixed the mp server breaking translatable strings.\n### User interface\n   * Improved the layout of the Statistics dialog.\n   * Allow changing dropdown menu selections with the scrollwheel (FR #3251).\n   * Fixed lobby chat box scrolling to top on a new message if it isn't at the\n    bottom (issue #2789).\n   * Fixed the unit preview pane not showing the default race icon when detailing\n    a single unit's stats.\n   * Sort units secondarily by XP in the unit list dialog.\n   * Whiteboard related bugfixes\n### WML engine\n   * Fixed errors about WESNOTH_VERSION not being defined when trying to load\n    add-ons that have preprocessor errors (issues #1924, #1634).\n### Miscellaneous and bug fixes\n   * Added an advanced preference to enable experimental PRNG combat.\n   * Campfires use illumination instead of a different ToD.\n   * Linux builds now enable security hardening by default.\n   * Fixed MP admins being unable to observe private games.\n   * Fixed MP faction, leader, and leader gender changes persisting even if the\n    selection dialog is dismissed.\n   * Fixed an issue with positioned sound sources ignoring the volume set in\n    Preferences after going off the audible radius and back (issue #3280).\n   * Fixed wmllint choking on gzipped binary files (e.g. gzipped tarballs).\n   * Fixed wmllint crashing on nonexistent paths provided in the command line\n    (issue #3286).\n   * Slight changes to the objectives dialogue (pr #3309)\n   * Greatly improved touch control support.\n   * Fixed wmlindent crashing on nonexistent paths provided in the command line\n    (issue #3346).\n   * [do_command][attack] can no longer invoke disabled attacks.\n   * [delay] is now skipped during preload events.\n   * Fixed wrong simulated movement points when planning to capture a village.\n   * Fixed attacks wrongly being disabled in the UI.\n\n## Version 1.14.3\n### AI\n   * Fixed crash in presence of units with negative hitpoints (issue #3042).\n   * Efficiency improvements to filter evaluations in the Goto Micro AI and some\n    AI helper functions\n### Campaigns\n   * Dead Water:\n    * Fix possibility of villagers blocking pickup of sword in S10 The Flaming\n      Sword (issue #3207).\n   * Descent Into Darkness:\n    * New Parthyn map in S1 and S6.\n   * Northern Rebirth:\n    * Reduced starting gold and income in scenarios 10 to 13\n   * Secrets of the Ancients:\n    * Fix S09 Training Session not ending when all dark adepts die (issue #3192)\n   * Tutorial:\n    * S2: made enemy starting gold equal to that of the player.\n   * Under the Burning Suns:\n    * Added portrait and updated sprite for Giant Ant.\n### Language and i18n\n   * Updated translations: British English, Chinese (Traditional), Czech, French,\n    Italian, Japanese, Scottish Gaelic, Spanish\n### Multiplayer server\n   * Fixed lan_server option not causing the server to exit once vacated, e.g.\n    when using the Host Networked Game option from the Multiplayer menu in the\n    game (issue #3206).\n   * It is now possible to query the client version of other players.\n### Music and sound effects\n   * The music now changes immediately when you load a save file (issue #2602).\n   * Fixed Lua errors when setting a music track that cannot be found when the\n    playlist is already empty, e.g. if there's no music installed for the\n    game (issue #3194).\n### WML engine\n   * Removed validation to ensure units cannot have negative hitpoints. We\n    learned that the ability to create such units is documented, and thus\n    disallowing it was an API change. Since API changes aren't allowed in\n    the stable branch, we have reverted it.\n### Miscellaneous and bug fixes\n   * Fixed an occasional crash at the loading screen related to multi-thread\n    access of the image cache.\n   * [kill] animate=yes no longer scrolls to units through fog or shroud, thus\n    matching 1.12's behavior again.\n   * [message] displays the unit type name when a nameless unit speaks and no\n    custom caption= is specified (issue #3211).\n   * do_not_list=yes units are no longer excluded from the debug mode-only\n    Create Unit dialog.\n   * Fixed a rare issue where disabled attacks could cause the wrong attack to\n    be initially selected in the Unit Attack dialog. This bug also had the\n    potential to cause units to the wrong attack when  engaging or viewing\n    damage calculations.\n   * Fixed [scenario] map_file= being unusable in most circumstances.\n\n## Version 1.14.2\n### Campaigns\n   * Northern Rebirth:\n    * S02.1 Infested Caves: keep side 8 AI leader from wandering off too far\n      and ending up on a keep with only one hex for recruiting.\n    * S02.1 Infested Caves: AIs are less likely to kill each other in early\n      game, which would make it harder for the player otherwise.\n    * S02.1 Infested Caves: Dwarvish allies are also less likely to die.\n    * S02.1 Infested Caves: minor map tweaks and improvements.\n    * S05 The Pursuit: removed a bottleneck and tweaked Rod of Justice.\n   * Sceptre of Fire:\n    * In 'Caverns of Flame', fixed various issues with the volcano eruption.\n   * Under the Burning Suns:\n    * Various Quenoth unit graphics updates.\n   * Descent into Darkness:\n    * In 'A small Favor', disabled a not intended way to win the scenario.\n   * Secrets of the Ancients:\n    * Bats are transformed to normal ones already after S5\n### Graphics\n   * Fixed a minor team coloring mistake in the north-facing Revenant standing\n    animation.\n### Language and i18n\n   * Updated translations: British English, Chinese (Simplified), Czech, French,\n    Galician, German, Italian, Japanese, Scottish Gaelic, Spanish, Ukrainian\n### User interface\n   * List boxes (MP lobby game list in particular) now keep the scroll position\n    when they change, instead of keeping the selected item visible (issue #3016).\n   * Fixed MP lobby player list scrolling to top when it changes\n   * Fixed the first unit sometimes not being selected when opening the Recall\n    dialog.\n   * Fixed a crash when using very large portraits in [message] (issue #2912)\n   * Added a button to access the version info dialog to Preferences.\n   * Removed player list sorting options in the MP lobby. The list is now\n    automatically sorted alphabetically, friends first.\n   * Rearranged campaign difficulty menu layout\n### Terrains\n   * Removed hidden terrains that were not supposed to make it to 1.14: ^Prg,\n    ^Prgo, ^Pwd, ^Pwdo\n### Miscellaneous and bug fixes\n   * Fixed memory leak in terrain filter code. In a huge map with Silver Mages,\n    it could leak several gigabytes of memory in a long session.\n   * Fixed: unit halo remained after undoing a recall (issue #3065)\n   * Fixed: unit halo intensity doubled during AMLA animation\n   * [change_theme] no longer causes a Lua error when theme= is not specified\n    instead of explicitly set to an empty string.\n   * [change_theme] no longer requires running a separate action to update the\n    UI afterwards (e.g. [redraw]) and the status panels are updated immediately.\n    as well.\n   * Lua random map generator: fixed error when flipping map; specifically this\n    also fixes an assert at the start of HttT S7 (Sceptre of Fire) that had a\n    50% chance of being triggered\n   * Experimental AI: fixed recruiting not working on maps without enemies, such\n    as the first two turns of Dark Forecast\n   * Experimental AI: fixed recruiting evaluations sometimes not being updated\n   * Replaced deprecated Lua code and all remaining uses of FOREACH and MESSAGE\n    macros\n   * Fixed [color_adjust] interacting poorly with time of day color shifts and\n    values outside the [-255, 255] range (issue #3144).\n   * Fixed a regression from 1.13.10 where modification option values couldn't\n    be properly saved in arrays.\n   * Added stricter validation to ensure units cannot have negative hitpoints,\n    except during specific attack-related events.\n   * Added deprecation notices for several macros that had them missing before.\n   * [message] no longer scrolls to units through fog or shroud so it matches\n    1.12's behavior.\n   * Fixed animation-wide text_color and blend_color keys being overwritten. This\n    fixes level-in and level-out animations sometimes fading to black instead of\n    white.\n   * Fixed [animate_unit] freezing the game when observing MP games (#2970).\n   * Fixed carryover behaving differently when loading a start-of-scenario save\n    (issue #3152).\n   * Fixed turn replay function in MP.\n   * Fixed savegames being created even when not needed (issue #3150).\n   * Fixed handling of extra_recruit in planning mode (issue #3100).\n   * Fixed handling of skirmisher in planning mode.\n   * Fixed handling of filter_recall in planning mode.\n   * Fixed possible segfault at game end.\n   * Fixed require_resource in [resource].\n   * Fixed require_scenario=yes not working with map_generation (issue #3105).\n\n## Version 1.14.1\n### Campaigns\n   * Eastern Invasion:\n    * In 'Captured', fixed units incorrectly costing upkeep after leveling up.\n   * Secrets of the Ancients\n    * Fixed minor unit naming inconsistencies (issues #2844 and #2846).\n   * Under the Burning Suns\n    * Added custom graphics for the broken tree in S1.\n    * Various sprite and image updates.\n    * Fixed a bug in the formation ability causing defense bonuses not being\n      received in some cases.\n### Language and i18n\n   * Updated translations: British English, Chinese (Simplified), Czech, French,\n    Galician, German, Italian, Japanese, Scottish Gaelic, Slovak, Spanish\n   * Fixed Logging Options tooltips not being translatable (issue #2837).\n   * Add command-line argument to disable the filtering of incomplete translations\n    in the language selection list.\n### Multiplayer server\n   * Added support for matching user, IP, and email bans from a forums board\n    when the forum_user_handler is enabled and active. (IP and email bans with\n    wildcards are not supported yet.)\n   * Fixed various instances of the server crashing under certain conditions.\n### Performance\n   * Added an option to disable the FPS limiter for a slight performance boost.\n### Units\n   * Changed the plural name for the merfolk race from Mermen to Merfolk (issue #2940)\n    and replaced a few instances in core unit or terrain descriptions accordingly.\n### User interface\n   * Removed individual Join/Observe buttons for each game in the MP Lobby.\n   * Highlight the titles of MP games with vacant slots.\n   * Improved MP Lobby layout on low resolutions.\n   * Improved reporting of network errors in the MP lobby (issue #3005).\n   * Ensure the chat widget remains the correct size even after a window resize.\n   * Custom MP game names are now capped at 50 characters.\n   * Restored Era info to main MP game display.\n   * Improved the resolution selection criteria for the MP Lobby.\n   * Fixed inactive weapon specials being displayed in the Unit Attack dialog\n    unlike in 1.12 (issue #3033).\n### Miscellaneous and bug fixes\n   * Removed misleading tooltip text stating registered nicknames are optional for\n    the official MP server.\n   * Attempting to save a screenshot with an unsupported format now shows an error\n    message, instead of saving the screenshot as BMP with the requested extension.\n   * It is now possible to disable logdomains in the Logging Options dialog.\n   * Fixed the wesnoth(6) manpage claiming the default log level is 'error' when it\n    has been 'warning' since version 1.9.0.\n   * Document --log-none in the wesnoth(6) manpage.\n   * Avoid trying to load invalid base64-encoded data URIs.\n   * wesnoth_addon_manager and the addons.wesnoth.org web index can now use data URIs.\n   * Fixed a crash when using certain invalid color= values.\n   * Implemented a workaround for an unhandled std::bad_cast from string comparison\n    functions that caused a crash-to-desktop when opening Preferences among others\n    (issue #3050).\n   * Fixed many crashes and out-of-sync errors when using the planning mode.\n\n## Version 1.14.0\n### Campaigns\n   * Under the Burning Suns\n    * New set of Quenoth faction and character portraits by LordBob.\n    * Updated sprites for several Quenoth units.\n    * Fixed \"Invalid WML found\" error that can be caused by the Quenoth Youth\n      support ability.\n### Help browser\n   * Temporarily hidden Editor section as it is mostly incomplete and of little\n    use right now (issue #2963).\n### Language and i18n\n   * Fixed Version label on the title screen not being translatable (issue #2914).\n   * Updated translations: Czech, French, Galician, German, Japanese, Polish,\n    Scottish Gaelic, Slovak, Spanish\n### Multiplayer\n   * Fixed regression causing a crash-to-desktop when trying to log into the\n    server using a registered and active account without specifying a\n    password.\n   * Fixed an infinite loading screen if the server shut down or restarted\n    mid-login.\n   * Fixed an infinite loading screen when attempting to login with an\n    unregistered nickname followed by a registered one.\n   * Dark Forecast: Fixed possible Lua error when the weather changes.\n### User Interface\n   * Implemented MP chat message history saving (issue #1194, issue #2802).\n   * Fixed context menus not dismissing on right click.\n### Miscellaneous and bug fixes\n   * Fixed an AI assertion when a unit with one disabled attack attacked a unit\n    with no attacks or a single disabled attack.\n\n## Version 1.13.14\n### Security fixes\n   * Fixed an issue allowing MP lobby and whisper message origins to be spoofed\n    by clients.\n### Campaigns\n   * The Hammer of Thursagan\n    * S12 Fixed enemies from ai6 (south-east lich) going to the book (spider)\n      room\n    * S12 Fixed north treasure chest disappearing\n   * The Rise of Wesnoth\n    * New set of story art.\n### Help browser\n   * Unit descriptions use the new multiplication sign format for attack lists\n    now (issue #2873).\n### Language and i18n\n   * Updated translations: Chinese (Simplified), Czech, French, Galician,\n    Italian, Polish\n### Lua API\n   * Fix wesnoth.show_popup_dialog and wesnoth.show_message_box not accepting\n    translatable strings\n### Multiplayer\n   * Added team color to a few background units missing in Aethermaw.\n### User Interface\n   * Swapped the position and formatting of game names and titles in the MP\n    lobby.\n   * Made Faction Select button's purpose more clear in MP Staging.\n   * Added a convenient button in Load Game to open your saves folder.\n### Miscellaneous and bug fixes\n   * Removed the Font Scaling preference. It was too buggy (issues #2792 and\n    #1624).\n   * Fixed some hotkeys triggering multiple commands on GNU/Linux (bug #1736).\n   * Fixed [modify_side] share_vision=yes not doing anything (bug #2850).\n   * Fixed regression where unit filters in [disable] weapon specials would not\n    match the attacking unit.\n   * Fixed images with no alpha channel rendering incorrectly.\n   * Fixed unit selection not persisting between uses of Create Unit.\n   * Fixed assertion when undoing actions in a synced context.\n   * [filter_wml] no longer accepts [and] and [or] in addition to [not] since\n    the implementation was non-functional.\n   * Fixed some MP passwords being saved incorrectly (issue #2745)\n   * Fixed AI not recruiting in some circumstances when there are only cheap\n    units on the recall list.\n   * Fixed sometimes being unable to join MP games with non-required eras.\n   * Fixed locations not being added to the palette when loading a map (#1023)\n\n## Version 1.13.13\n### Campaigns\n   * Eastern Invasion\n    * Fixed some Lua errors in S05.\n   * The Hammer of Thursagan\n    * Fixed a misplaced door image in S12.\n   * Under the Burning Suns\n    * Changed Sun Singer movetype from float to foot.\n    * Added some Quenoth elf unit animations.\n    * Hide technical terrains in the Help browser (Human Ship, Lava overlay).\n### Language and i18n\n   * Fixed many cases of interpolated strings in the engine possibly having\n    their translations retrieved from the wrong textdomain and falling back\n    to the English original if that failed (PR #2711, bug #2709, bug #2732).\n   * Fixed parts of the MP game setup UI having their translations ignored by\n    the game (bug #2709).\n   * Fixed certain parts of the UI displaying unit stats and trait effects\n    having incomplete translations (bug #2732).\n   * Fixed \"Level\" label in unit descriptions in the help being untranslatable\n    (bug #2732)\n   * Fixed \"Search\" placeholder text in dialog item filters not being\n    translatable (bug #2709, bug #2732).\n   * Fixed \"Time of Day Schedule\" heading for the index for the ToD Schedule\n    top-level help section, \"Lawful Bonus\", \"Schedule\" (back link to index)\n    and an error message not being translatable.\n   * Updated translations: British English, Chinese (Simplified), Czech, French,\n    Scottish Gaelic, Spanish, Ukrainian\n### Multiplayer\n   * A New Land: Fixed the scenario being broken.\n   * Dark Forecast: Fixed possible Lua error when attempting to spawn units.\n### Miscellaneous and bug fixes\n   * Fixed minimap buttons not doing anything (bug #2681)\n   * Fixed events with an id but no name being rejected\n   * Fixed assertion when using [inspect]\n   * Fixed inability to deselect modifications in single-player\n   * Fixed infinite loading screen when logging in with an invalid name\n   * Improved UX in multiplayer when synced debug commands are used during a\n    game.\n   * Updated bundled Oldania font to version 1.007 (from 1.006).\n   * Added bold and italic Oldania font variants.\n   * Updated bundled DejaVu Sans fonts to version 2.37 (from 2.35).\n   * Fixed [chat] not working during [delay] or animations.\n   * Removed the Password Reminder option from the Login screen.\n   * Removed (optional) requirement of libpng from SCons and CMake and the\n    associated options as Wesnoth now uses SDL_image to write PNG files.\n   * Fixed assertion when saving game events mid-event.\n\n\n## Version 1.13.12\n### Security fixes\n   * Disallowed access to blacklisted file paths such as hidden files and\n    directories.\n### Add-ons client\n   * Addon upload progress bar now also works on Windows (bug #1439).\n   * Fixed inability to cancel addon upload (bug #2591).\n### Add-ons server\n   * Added support for adding free-form comma-separated tags to add-ons in\n    their publishing info (bug #2565).\n   * Added support for overriding existing add-on attributes using the control\n    FIFO.\n### Campaigns\n   * Northern Rebirth:\n    * Fixed S06a Rakshas displaying incorrect portrait (issue #2569)\n    * Fixed S12a invalid side error (issue #2569)\n    * Fixed S13a incorrect leader when Eryssa is alive (issue #2569)\n    * Fix Krash being brought back to life if he is dead\n    * Appearance improvements for S04a 06a, 07a, 09a, 10a, 11a, 12a, 13a\n    * Fix gold storing in S07a for S13a if retrieved\n    * S04a, 05a, & S13a Make enemy units loyal so gold & events work properly\n### Graphics\n   * Updated default Time of Day schedule images.\n   * New Heavy Infantryman attack animation by Zoomo.\n   * New Elvish Sylph baseframe by Jetrel.\n### Language and i18n\n   * Updated translations: British English, Czech, Spanish\n### Lua API\n   * Add side_name to side proxy\n   * Added wesnoth.custom_synced_commands table where you can register\n    custom synced commands.\n   * Add wesnoth.invoke_synced_command\n   * Removed ai.synced_command() - replaced with the above two\n   * wesnoth.end_turn() now allows to specify the next side\n   * The new wml module is now considered mostly final.\n    It has new remove_child and remove_children functions.\n   * New wesnoth.persistent_tags table for more convenient custom\n    save data (intended to replace game_events.on_load/save)\n### User Interface\n   * Improved outro screen.\n   * Fixed a few cases of data not displaying in the MP Join Game screen.\n   * Fixed required addon names not displaying properly when joining an\n    MP game.\n   * The Toggle Fullscreen hotkey now works everywhere.\n### WML engine\n   * Fixed units shown with [move_units_fake] disappearing between steps\n    (bug #1516).\n   * [modify_side] now supports side_name\n   * [set_menu_item] no longer fires repeatedly if the player holds the\n    hotkey (bug #1711). If you were relying on repeated firing, add\n    repeat_on_hold=yes to [default_hotkey].\n   * [set_variable] now supports prefix and suffix operations for\n    string concatenation.\n   * [effect] apply_to=attack now supports set_range\n   * [cancel_action] now works in attack-related events.\n   * [unit_type] upkeep= now works again. It was inadvertently broken during\n    the 1.13 development cycle.\n   * [filter_wml] now accepts [and] and [or] in addition to [not].\n   * Added bar_offset_x/y in [unit_type].\n   * The MP setup code no longer generates [side]s if the scenario has at\n    least one side defined.\n### Unit changes and balancing\n   * Decreased cold resistance of Dune Burner line from 0% to -20%\n   * Decreased cold resistance of Dune Soldier line from 0% to -10%\n   * Add possibility for 'fearless' trait in Dune Soldier line\n   * Increased pierce resistance of Dune Rover line from 0% to 10%\n   * Increased impact resistance of Dune Piercer from 0% to 10%\n   * Decreased Dune Piercer's XP to next level from 48 to 42\n   * Increased Dune Riders's XP to next level from 39 to 42\n   * Change mountain stats of Dune Marauder from impassable to 4 MP, 60% def\n   * Increased cold resistance of Dune Marauder from -20% to 0%\n   * Increased blade resistance of Dune Raider from 10% to 20%\n   * Decreased hills defense of Dune Raider from 60% to 50%\n### Miscellaneous and bug fixes\n   * Fixed standing animation toggle not taking immediate effect (bug\n    #1653).\n   * Fixed error when de-assigning village with [capture_village].\n   * Enabled the use of Open Type Font (.otf) fonts.\n   * Fresh installs of the game will now open in fullscreen by default.\n   * New game theme music by Mattias Westlund.\n   * The unit advancement prompt is no longer shown for droided sides.\n   * Fixed custom game titles being lost when reloading MP games.\n   * The copy-to-clipboard function on the Lua console now produces plain text\n    without Pango markup or entities for special characters (<, > and &)\n    (bug #2434).\n   * 'Turn Changed' desktop notifications in MP will now only display when\n    human-controlled sides take control.\n   * Fixed regression in 1.13.11 where completed events could fire again when\n    reloading a save.\n   * Fixed PNG images with an embedded palette displaying incorrectly.\n   * It's now possible to save screenshots as JPEG (by changing the file\n    extension before saving).\n   * Fixed no_leader having no effect\n   * Fixed units randomly being unable to move over merged terrains.\n### Music and sound effects\n   * Updated a few UI sounds.\n\n## Version 1.13.11\n### Add-ons client\n   * Added an order dropdown that allows you to sort add-ons by the time of\n    latest update or original upload (issue #1747)\n   * Players will now be prompted to update outdated dependencies alongside\n    downloading missing ones when installing an add-on.\n### Add-ons server\n   * Empty passphrases from malfunctioning clients that do not provide or\n    generate a passphrase otherwise are now rejected instead of treated as\n    valid.\n### Campaigns\n   * The Cutscene_Minimal theme is now used in all dialog-only scenarios that\n    have `linger=no` in [end_level].\n   * An Orcish Incursion:\n    * New story art.\n   * A Tale of Two Brothers:\n    * Added a full set of hints on easy difficulty.\n   * Delfador's Memoirs:\n    * Iliah-Malal can now be killed by either undead or Delfador in S19\n    * S19 has been rebalanced to increase difficulty and allow player & enemy\n      to field more units.\n   * Descent into Darkness:\n    * 'Endless Night' now has accurate & improved scenario objectives. It also\n      has received improvements in dialog, map appearance, and difficulty.\n    * S08/S09 A Small Favor 2/3 - Fixed bug preventing door operation/usage.\n    * Fixed and improved appearance and handling of the wose.\n    * Other minor fixes and improvements.\n### Packaging\n   * Renamed the target and binary for the Boost unit tests from `test` to\n    `boost_unit_tests`. This quells warnings from CMake about reserved target\n    names, and reduces confusion about which `test` is intended: the wesnoth\n    executable or the standard shell command.\n   * The CMake build system now uses standard Kitware-supported variables\n    from the `GNUInstallDirs` module. Distributions might have to change\n    the defaults to suit their FHS needs.\n   * The previous addition of `GNUInstallDirs` necessitates a bumping of the\n    CMake minimum requirements, which is now at 2.8.5. Most distributions\n    already use a CMake version above 3.0, so this would only affect users\n    of vintage CMake versions.\n   * higher resolutions of the application icon have been added and are now\n    stored in the hicolor icon theme's directory\n### Language and i18n\n   * Updated translations: British English, Chinese (Simplified), Czech,\n    Italian, Spanish\n### Lua API\n   * New wesnoth.unit_types[] getters:\n    * `advances_to`\n    * `advances_from`\n    * `profile`\n    * `small_profile`\n   * The wml module now offers another new way of accessing WML variables:\n    wml.variables is a simple wrapper around wml.get|set_variable.\n   * unit.id is now a modifiable field for off-map (Lua-only) units.\n   * Allow moving on-map units by setting `unit.x` and `unit.y` fields, or with\n    `unit.loc = {x, y}` or `unit.loc = {x = x, y = y}`\n   * Added `side.chose_random` getter.\n   * Lua GUI2 API: added support for slider callbacks via\n    `wesnoth.set_dialog_callback`.\n### Multiplayer\n   * Dark Forecast: Fixed broken faction and leader selection.\n   * Rename the Khalifate to Dunefolk. This includes renaming all the faction's\n    units.\n### Performance\n   * GUI2 windows no longer redraw everything 50 times per second. This reduces\n    CPU usage in fullscreen windows such as MP lobby by about 85 %.\n   * Miscellaneous low-level optimizations in game rendering code, improving\n    performance ingame by up to 50 %.\n### Units\n   * Changed resistances and hitpoints for Tentacle of the Deep.\n### User Interface\n   * Removed broken Unit Box and Widescreen themes.\n   * Fixed a bug that partially prevented movement feedback announce messages\n    to be displayed (UI regression bug #2130, affecting 1.13.8 and 1.13.10).\n   * New, greatly simplified display of games in the MP Lobby.\n   * Fixed individual Join/Observe buttons acting on the wrong game in the MP\n    Lobby.\n   * Greatly improved behavior of sliders.\n   * Fixed crash when modifying an existing friend entry in Preferences.\n   * Fixed players being unable to start campaigns in MP mode.\n   * Added confirmation prompt when clearing map labels.\n   * Added show_border= key to the [main_map_border] to control whether map\n    borders draw. Right now this is utilized in the cutscene themes.\n   * If [main_map_border] background_image= is empty, the game map background\n    will be plain black.\n   * New really nice HD main menu/storyscreen background.\n### WFL Engine\n   * A new string `insert()` function has been added, similar to `replace()`.\n### WML Engine\n   * Added a `major_amla` option in AMLAs to keep the XP bar teal-white rather\n    than purple for AMLAs that behave similar to regular advancements.\n    (for example, Quenoth Youth in UtBS or similar unit lines)\n   * File paths with backslashes are no longer allowed. This ensures that a UMC\n    author can't accidentally use them and make an add-on that breaks on\n    GNU/Linux and macOS.\n   * File paths are now case sensitive even on Windows.\n   * [show_if] is now usable in the [objectives] subtag [gold_carryover].\n   * Macro SCEPTRE_OF_FIRE_EFFECT damage increased to 15x4 so Sceptre is an\n    improvement over the uncut ruby of fire (14x4) in TRoW.\n   * Added [lua] as a conditional tag, with identical syntax.\n    The code in such a tag must return a true or false value.\n   * Lua errors now cause as a condition to fail instead of pass.\n   * New `formula=` key in [set_variable] allows evaluating a WFL formula with\n    the variable, which may be either a scalar or a container.\n   * A missing [event] `name=` key will now raise a WML error instead of being\n    silently ignored.\n   * Units hidden with [hide_unit] will remain hidden after reloading saves.\n   * Fixed regression where most SUF keys would match all units if given \"\" as\n    a value.\n### Miscellaneous and bug fixes\n   * Suggested save file names now use spaces instead of underscores.\n   * Fixed crash after canceling add-on download (bug #2203)\n   * Fixed ingame help showing units you haven't encountered (bug #2135)\n   * Fixed the opacity IPF resetting to 0 if the value given was 100% or\n    greater (bug #2185).\n   * Fix recalls updating shroud immediately when \"Delay Shroud Updates\" is set\n    (bug #2196)\n   * Fixed not being able to undo previous moves after entering planning mode\n    (bug #2303)\n   * Fixed image cache being shared between campaigns.\n\n## Version 1.13.10\n### Add-ons client\n   * A list of illegal filenames is displayed if any are found by the server\n    when uploading.\n### Add-ons server\n   * A list of illegal filenames is sent to the client if any are found during\n    the upload validation process. Only clients supporting this new\n    functionality can display the list.\n   * Fix an issue where the implementation of the hashing function used for\n    add-on passphrases was changed since 1.13.8, breaking existing hashes\n    (bug #2068).\n### Campaigns\n   * Delfador's Memoirs:\n    * Clarified and fixed objectives in many places.\n    * Improved appearance and flow of dialog in several places.\n    * Some minor gameplay changes to improve the story.\n    * Delfador now progresses properly from Mage Journeyman to Elder Mage.\n    * Fixed some other bugs.\n    * S07, A Night in the Swamp has been rebalanced on easy & hard.\n    * S09, Houses of the Dead, has been rebalanced.\n    * S18, The Portal of Doom, has been rebalanced.\n    * Iliah-Malal is now an Ancient Lich in S18 & 19.\n### Language and i18n\n   * Updated translations: British English\n### Lua API\n   * Upgrade to Lua 5.3.4.\n### Multiplayer\n   * Fixed a bug where the client would return to titlescreen on receiving a\n    redirect message from the server, which made connecting to the official\n    server via the \"connect to official server\" button impossible.\n### Miscellaneous and Bug Fixes\n   * Updated our included Spirit Po version from 1.0.1 to 1.1.2.\n   * Fix idle AI being replaced by default AI under certain circumstances on\n    loading of mid-scenario saves (bug #1955)\n   * Fix rare AI crashes in the move-to-any-target candidate action and the\n    Fast Micro AI\n   * Fix poisoner FAI to prevent flood of error messages in Legend of Wesmere\n    (bug #1999)\n\n## Version 1.13.9\n### Add-ons client\n   * Fix HTML injection exploit in the wesnoth_addon_manager web index\n    generation functionality.\n### Campaigns\n   * Reordered beginner campaigns to be friendlier to new players.\n   * Delfador's Memoirs:\n    * Replaced incorrect 'Defeat all enemies' objectives with more specific\n    'Defeat all enemy leaders'.\n    * Increased difficulty, clarified objectives, & improved feel of S21 & S22.\n    * Riders are now guaranteed to go for a signpost in S21 on all levels.\n   * Heir to the Throne:\n    * Fixed thieves in 'Siege of Elensefar' getting duplicated.\n    * Fixed Void Armor not doing anything.\n    * Fixed translatibility of countdown in 'Test of the Clans'.\n   * Northern Rebirth:\n    * Fixed backdoor lever opening the wrong location in 'The Pursuit'.\n   * Secrets of the Ancients:\n    * Fix delay when additional enemies appear in S21 (issue #1706)\n    * Fix bug when finding bird bones reported here:\n      https://forums.wesnoth.org/viewtopic.php?f=4&t=46480#p614781\n   * Under the Burning Suns:\n    * Fixed crash in 'Out of the Frying Pan'.\n    * New unit sprites: Quenoth Mystic line, Quenoth Flanker line, Flesh Golem.\n    * Fixed Ethereal Shadow and Ethereal Nightgaunt having nightstalk even when\n      they shouldn't.\n    * Balance changes to the Quenoth elves:\n      * Formation ability now has looser adjacency requirements.\n      * Quenoth Scouts have a non-slowing sling at lvl 1 instead of bolas.\n      * Adjusted stats of some units.\n### Graphics\n   * Added portrait for Giant Rat.\n   * Fixed transparency artifacts in scaled portraits and other message images\n    (issue #1570).\n   * Fixed issue with jumpy animations on faster speeds (issue #1565).\n   * Added some new item and scenery images\n### Language and i18n\n   * Updated translations: British English, Chinese (Simplified), Italian,\n    Polish, Scottish Gaelic, Slovak, Spanish\n### Lua API\n   * Add wesnoth.format function to substitute variables into a string.\n   * Add wesnoth.format_conjunct_list and wesnoth.format_disjunct_list.\n   * New global \"wml\" table groups together all the functions for working\n    with WML tables, and its subtable \"wml.variable\" groups functions\n    for working with WML variables. Most of these are functions previously\n    found only in helper.lua; they no longer need a require to use.\n   * Warnings for using deprecated Lua functions now only appear in debug mode.\n   * wesnoth.game_config is now accessible in application and mapgen kernels,\n    though some of its contents are missing.\n   * New extra argument to wesnoth.match_location and wesnoth.get_locations\n    allows specifying the teleport_unit.\n   * Support the extra wesnoth.match_unit arguments also in wesnoth.get_units\n   * Fix wesnoth.put_unit not correctly deciding whether to fire the unit placed\n    event in some situations\n   * wesnoth.debug() can now be called from map generators or plugins. It is\n    also deprecated, however; you should use wml.tostring() instead.\n### Multiplayer\n   * When set to remember your password, Wesnoth now encrypts it. It is still\n    possible to obtain the password from preferences, but it's no longer as\n    trivial as before.\n   * Fixed crash when loading a replay stored on the server (Bug #1762)\n   * Fixed delay or clients getting stuck when starting a mp game (Bug #1674)\n   * Fix bug where leader can become unable to be killed (issue #1666)\n### Performance\n   * Rewrote the FPS cap implementation. This greatly improves\n    smoothness ingame.\n   * Each invalidated hex is now only redrawn once, not twice. This almost\n    halves CPU usage ingame.\n   * Implemented GUI canvas caching. It speeds up multiple areas, but especially\n    the story screen.\n### Terrains\n    * Added ruined version of encampment terrain.\n    * New stone floor terrain.\n    * Gates now have new terrain codes to grant more control for map makers.\n      The old codes are now deprecated (issue #1839)\n### Units\n   * Added new lvl 0 Giant Scorpling, leveling into the Giant Scorpion.\n   * Tweak some costs for lvl 3 units.\n### User Interface\n   * Fixed loyal and aged traits missing from help (issue #1935).\n   * Unit recall dialog now sorts the units by both level and required XP for\n    their next level-up (issue #1738).\n   * Enable the use of tab to switch between text fields in most dialogs.\n   * Color-code modifiers in trait tooltips\n   * Translation teams in credits are now listed in alphabetical order of the\n    localized language name (rather than the English language name).\n   * Allow deleting saves with the Delete key in the Load dialog.\n   * Fixed team selection screen often ignoring attempts to scroll (bug #1632).\n   * Input Method Editor support in most textboxes (except in-game chat)\n   * Campaign dialog now uses different-coloured victory wreaths depending on\n    the difficulty you beat the campaign on\n   * Campaign dialog can now be sorted in alphabetical or chronological order\n   * Fixed a number of issues with hotkeys\n   * Fixed the viewport being moved when changing the zoom level\n   * Fixed an occasional interface hang where only the menus work\n   * Trait description tooltips now color-code modifiers\n   * Fix about window not showing Mac notifications as available\n   * Add descriptive tooltips for all text elements in the top status bar\n   * The current screen position is now saved in savefiles\n   * Removed emacs keybindings in text fields (Ctrl+A, Ctrl+U, Ctrl+E)\n    Ctrl+A now selects all text in the field.\n   * Fix addon manager closing when canceling an operation\n   * Addons can now be filtered to show only publishable addons\n### WFL Engine\n   * Add owner key to terrain space callable, for villages\n   * Location formulas in [tunnel] now have a teleport_unit variable\n   * Fix a crash when attempting to call a non-existent function\n   * The following previously FormulaAI-exclusive functions are now also\n    available in filter formulas (SUF, SLF, SSF, SWF):\n    adjacent_locs, location_in_radius, get_unit_type, unit_at, defense_on,\n    chance_to_hit, movement_cost\n   * New builtin functions for manipulating locations\n    (available to all formulas):\n    adjacent_locs, are_adjacent, relative_dir, direction_from,\n    rotate_loc_around\n   * New enemy_of function checks if its second argument is\n    an enemy of the first\n    Arguments can be side or unit objects, or integer side indices (1..n)\n### WML Engine\n   * If ai_algorithm is used in [modify_side][ai], it now replaces the whole AI\n    with the contents of [modify_side][ai], instead of appending these\n    parameters.\n   * New [credits_group] tag can be used by non-campaign addons to group several\n    [about] tags under a single header. This is a toplevel tag, not a subtag\n    of [era] or [modification].\n   * An empty id key in SUF no longer matches all units;\n    instead, it matches none.\n   * Fix [primary_attack] and [secondary_attack] in [kill]\n   * Fix [kill] not affecting recall list units\n   * Fix [scroll] with omitted x or y\n   * Fix [story] not showing if all parts are conditional\n   * Fix some hotkeys not working (issues #1737 and #1769)\n   * New vision_cost and jamming_cost keys in SUF\n   * Integer SUF keys (eg level) now accept a list of ranges\n   * Fix $other_unit SUF variable being unavailable in nested [and] [or] [not]\n   * Unit ability values can now be specified with WFL\n   * The {ABILITY_TELEPORT} macro no longer uses internal variable substitution,\n    meaning that it can be used in an event without specifying\n    delayed_variable_substitution=yes.\n    (This also applies to {ABILITY_BACKSTAB} and {ABILITY_LEADERSHIP}.)\n   * Add fire_event key to [unit] which determines whether to fire a unit\n    placed event.\n   * [resolution] window_width/height now specifies the minimum window size\n    for that resolution to be chosen\n   * formula code is now supported in abilities and weapon specials (fr #1436)\n   * The allow_new_game= in [scenario] now defaults to false (it still\n    defaults to true in [multiplayer])\n   * Add [cancel_action] (bug #1427)\n   * Allowed TerrainGraphicsWML random_start= to optionally take a positive\n    integer to limit the range of the random shift of the animation start time\n   * new attributes mp_village_gold, mp_village_support, mp_shroud, mp_fog in\n    [multiplayer] that are used as default values for the corresponding\n    attributes in [side]\n### Miscellaneous and Bug Fixes\n   * Add --report/-R command line switch for printing the same report from the\n    Game Version dialog's clipboard function to stdout.\n   * Fixed programmatically killed unit flashing after its death animation\n   * On GNU/Linux the game no longer minimizes when it loses focus in\n    fullscreen mode (bug #1606)\n   * Fixed whiteboard crash on delete action with multiple moves (bug #1842)\n   * Fix units being unable to step on hexes with too high movecosts\n    (bug #1473)\n   * Improved and more detailed FPS display\n   * Fix minimap being sometimes black in mp create (bug #1484)\n   * Optimized unit filters\n   * Fixed bug #1837 empty tags missing in [store_unit]\n   * Fixed preferences not being saved if they weren't in the currently\n    selected tab when the settings dialog was closed.\n\n## Version 1.13.8\n### Campaigns\n   * Son of the Black-Eye:\n    * Balancing changes for 'Silent Forest'.\n   * Under the Burning Suns:\n    * New sprites for Quenoth Youth (Kaleh and Nym) and Human Commander.\n    * Applied a color shift to the human units in S8 and S9 to give them a more\n      unique look.\n### Editor\n   * Fixed a crash when placing units.\n   * Restored the ability to preview different ToDs. Note this still does not\n    work when invoked from the Custom ToD window.\n   * Fixed editor sides not having the correct side number.\n   * Redesigned Windows, Areas, and Sides menus.\n   * The Windows menu will now display maps starting from 1 rather than 0.\n    This is likewise reflected in the default map filename.\n   * Scenario names are now displayed in more places if available.\n### Formula Engine\n   * Fixed garbage data showing up in stack traces in the event of an error.\n   * Object types can now be used in contexts where previously only a list or\n    map was accepted - for example in the filter() function. They will be\n    treated as a map in such cases.\n### Graphics\n   * Fixed items not receiving ToD lighting.\n   * Portraits for many Walking Corpse and Soulless race variants.\n   * New animations: Dwarvish Fighter idle.\n### Language and i18n\n   * Updated translations: British English, Chinese (Simplified), Lithuanian,\n    Slovak, Spanish\n### Lua Engine\n   * Add wesnoth.log_replay which exposes a little-used functionality of\n    injecting arbitrary logging data into a saved game.\n   * Small change to animator API - facing parameter replaced with target and\n    required to be a space adjacent to the unit.\n   * New modifiable theme attribute in wesnoth.game_config\n   * New wesnoth.zoom() function allows changing the zoom level\n   * The wesnoth.scroll function scrolls the screen by an offset, similar to\n    [scroll]. For example, wesnoth.scroll(5, -2)\n   * New is_local attribute in side proxy table allows you to detect whether\n    or not the side is controlled by a network player. Note that use of this\n    has the potential for OOS errors.\n   * New wesnoth.music_list table which allows controlling the music playlist:\n    * wesnoth.music_list[1] etc returns mutable information about a specific\n      track on the playlist\n    * #wesnoth.music_list counts the number of tracks on the playlist\n    * wesnoth.music_list.current returns mutable information about the\n      currently-playing track\n    * wesnoth.music_list.current_i returns the index of the current track on\n      the list. It is writable, allowing you to switch to any track on the\n      list. This respects fade values.\n    * wesnoth.music_list.all returns a copy of the playlist that can be\n      stored in a variable.\n    * wesnoth.music_list.play plays a specific track (as [music]play_once=yes)\n    * wesnoth.music_list.add appends a track to the playlist (as\n      [music]append=yes)\n    * wesnoth.music_list.clear clears the current playlist\n    * wesnoth.music_list.next fades out the current track and moves to a new\n      track on the playlist\n    * wesnoth.music_list.force_refresh forces any pending playlist changes\n      to be immediately applied\n    * wesnoth.music_list.volume attribute gets/sets the current music\n      volume, as [volume]music=\n    * Each track has modifiable shuffle, once, ms_before, ms_after\n      attributes and read-only append, immediate, name, title attributes.\n      They are also comparable with == or ~=\n   * wesnoth.set_music is now deprecated, in favour of the above new API\n   * New wesnoth.sound_volume function gets/sets the current sound volume, as\n    [volume]sound=\n   * New wesnoth.show_story function launches the storyscreen viewer\n   * wesnoth.dofile now forwards any excess arguments to the file in the\n    \"...\" argument\n   * wesnoth.require can now load all modules in a directory and accepts some\n    shortened paths, for example omitting the \".lua\" file extension and\n    searching in the current directory.\n   * When you require a package that has no return value, you now get a table\n    that errors on any access to it, rather than nil.\n   * New wesnoth.create_weapon function to make a weapon that's not attached\n    to a unit (which could be useful for animations)\n   * New wesnoth.show_message function shows a simple alert dialog, possibly\n    with a choice\n   * New wesnoth.alert and wesnoth.confirm functions - simple shortcuts for\n    the above.\n   * Functions for working with hex locations have been added under wesnoth.map\n    In particular, helper.distance_between is deprecated in favour of\n    wesnoth.map.distance_between\n   * The following existing functions now also work in plugins and map\n    generators: wesnoth.log, wesnoth.get_time_stamp, wesnoth.get_image_size\n   * Several error messages now point more accurately to the actual location\n    of the error.\n   * wesnoth.simulate_combat output has additional keys:\n    * untouched (in first two return values) indicates whether the unit took\n      any damage\n    * number (in second two return values) contains the Lua index of the\n      attack, as opposed to attack_num which contains the WML index.\n    * weapon (in second two return values) contains the actual weapon userdata\n   * New methods in location_set: of_triples, to_triples, random\n   * New animations key in Lua unit proxy returns a list of defined flags for\n    animation\n   * New functional.lua file implements a number of higher-order functions\n    from WFL\n   * The length operator now works on translatable strings, returning the\n    length of the translation.\n   * wesnoth.set_side_variable and unit.variables can now clear variables\n   * helper.get_variable_array and helper.set_variable_array now work on\n    units and sides (pass a unit, side, or side number as an extra parameter)\n    Note: helper.get_variable_proxy_array does *not* work on units and sides\n   * helper.rand now has a second parameter that defaults to wesnoth.random\n   * Add wesnoth.game_config.victory_music and wesnoth.game_config.defeat_music\n    setters\n   * Add wesnoth.game_config.scenario_id getter\n   * wesnoth.set_next_scenario() was replaced with\n    wesnoth.game_config.next_scenario setter/getter\n   * wesnoth.set_dialog_value can now (un-) fold GUI2 tree view nodes\n### Multiplayer\n   * Fixed statistics being lost when reloading an MP game.\n### Performance\n   * Greatly speeded up switching between add-ons in the add-on manager\n    (bug #25523)\n### User Interface\n   * Updated Attack Predictions dialog to GUI2.\n   * Updated Story screen to GUI2.\n   * Double-clicking an add-on now installs, updates, uninstalls or publishes\n    it depending on the situation.\n   * Fixed file path being truncated on the wrong side in the File Browser.\n   * Improved Hotkey category sorting interface in Preferences.\n   * Improved Addon Manager and MP Staging interfaces at low resolutions.\n   * Fixed bug that allows you to use the minimap to bypass view locking\n   * You can now change the theme (in preferences) while a game is in progress.\n   * Fixed units moving after in game help exit. (#24644)\n   * Fixed a bug that caused rapid announce messages to overlap each other.\n    (bug #21634)\n   * Fix buttons disappearing while menus are open.\n   * Fix map labels disappearing when a dialog is open.\n   * Improve tooltip placement.\n   * Move recruit/recall to top of context menu\n   * Add a hotkey to launch test scenarios from the titlescreen\n   * Added a Cutscene and Minimal Cutscene theme for UMC authors to use.\n   * Improve layout of MP Create at low resolutions.\n   * Game Load screen now lists the gold and total number of units for each\n    side.\n   * Textboxes now have a blinking cursor when focused.\n   * multi pages can now contain different types of pages\n### WML Engine\n   * Add base_income key to [store_side]\n   * Fix issues with alpha animations on hidden units (#14503)\n   * Extensions to GUI2 Canvas ([drawing] tag in dialogs):\n    * New [round_rectangle] shape - a rectangle plus corner_radius\n    * [circle] shape can now be drawn filled; color key is now border_color\n    * [image] has new resize_mode=tile_center\n    * Canvas colors can now be expressed as formulas. The formula must return\n      the color as a list of its components, eg \"([r, g, b, a])\"\n   * Empty tags are no longer written to the configs of [unit]s and [side]s.\n   * New [change_theme] tag to change the theme mid-scenario\n   * New [zoom] tag allows changing the zoom level from an event\n   * [kill]animate=yes now plays victory animations if applicable\n   * [kill] now supports [primary_attack] and [secondary_attack] for the\n    animation\n   * Fix [volume] not accepting 100% as the new volume.\n   * New concat_to_* keys in unit_type inheritance allow amending keys\n   * Accept [story] as ActionWML in events\n   * Added a ~NO_TOD_SHIFT() ImagePathFunction which can be used on terrain and\n    item images to prevent them from being affected by ToD lighting.\n   * [unit]placement=name is now [unit]location_id=name and also honours the\n    new overwrite and passable keys, deprecating placement=map_overwrite etc.\n   * New zoom_levels key in [game_config] defines the allowed zoom levels.\n   * The default color list is now defined via a default key in [color_range],\n    rather than the default_color_list key in [game_config][colors].\n   * Standard Unit Filter has new ability_type_active and trait keys\n   * Standard Weapon Filter has new special_active key\n   * [animate_unit] now raises an error if the flag key is missing\n   * Fix [set_variable][join] not working with translatable strings\n   * [sound_source] now starts playing the sound immediately\n   * New voice key in [message] and [story][part]\n   * [objectives] now supports delayed_variable_substitution=yes and also\n    delayed substitution with $|variable syntax.\n   * Items in [options] now support container variables again.\n### Miscellaneous and bug fixes\n   * Fixed base animation showing on walking corpse & soulless bats\n    (bug #25673)\n\n## Version 1.13.7\n### AI\n   * Fix a performance regression in complex combat situations such as the\n    \"Oath of Allegiance\" UMC campaign.\n   * Fix some Micro AIs and AI helper functions not working correctly for AI\n    sides under shroud\n   * New function ai_helper.find_path_with_shroud()\n### Campaigns\n   * Eastern Invasion:\n    * In 'Weldyn Besieged', redesigned the way in which revealing the\n      identities of the liches works.\n* Descent Into Darkness:\n    * Fixed certain units not having the 'guardian' special in 'Descent into\n      Darkness'.\n   * Heir to the Throne:\n    * Fixed bug allowing the wrong person to receive the Sceptre of Fire.\n    * Fixed inconsistencies in Li'sar's sprites and animations when she has the\n      scepter.\n    * New death animation for Asheviere.\n   * Secrets of the Ancients:\n    * New campaign added to mainline (Intermediate level, 21 scenarios).\n   * The Hammer of Thursagan:\n    * New sprites for Dwarvish Witness line.\n   * Under the Burning Suns:\n    * Fixed difficulty levels with the original units not working.\n    * New sprites and animations for Spider Lich.\n    * Various balancing changes, bug fixes and improvements to the new units.\n      * Major changes:\n        * Kaleh and Nym movement points increased from 5 to 6.\n        * Moon Singer branch removed.\n        * Added winged lvl4 advancement for Quenoth Druid.\n        * Support ability now only lowers adjacent upkeep costs by 1.\n### Graphics\n   * New or improved sprites: Royal Warrior, Walking Corpse line wolf variation.\n   * Improved terrain graphics: lava, volcano, lightbeam.\n   * Improved the fake map border terrain so that it now connects with the real\n    map borders and can better be used to change the apparent shape of the map.\n   * Smoother fade transitions between differently colored time areas.\n   * Adjacent castles of different types now have fewer glitches between them.\n   * Fixed glitches between various mountain tiles (introduced in 1.13.3).\n   * Fixed units getting submerged on some bridge types when placed over water.\n   * Updated Mermaid Initiate portrait.\n### Language and i18n\n   * Updated translations: British English, Czech, German, Portuguese (Brazil),\n    Scottish Gaelic\n### Lua API\n   * New wesnoth.set_side_id function can change flag, color, or both; it automatically\n    updates cached flag info for you (but you may still need to redraw to see it).\n   * The wesnoth.place_shroud and wesnoth.clear_shroud functions can alter shroud data\n    for a single side. They accept a list of locations, a shroud data string, or the\n    special value \"all\".\n   * New wesnoth.is_fogged and wesnoth.is_shrouded calls test the visibility level\n    of a hex for a particular side.\n   * New wesnoth.create_animator call produces an object that can be used to run\n    animations for a group of units\n   * New Lua API functions for altering AI:\n    * wesnoth.switch_ai replaces the entire AI with a definition from a file\n    * wesnoth.append_ai appends AI parameters to the configuration; supports goals,\n      stages, and simple aspects.\n      (Aspect tags are not fully parsed; only the id and facet subtags are used.)\n    * wesnoth.add_ai_component, delete_ai_component, change_ai_component\n      These do the work of the [modify_ai] tag for a single side.\n   * Side proxy changes:\n    * flag and flag_icon are never an empty string\n    * New mutable keys: suppress_end_turn_confirmation, share_vision\n    * New read-only keys: share_maps, share_view\n      num_units, num_villages, total_upkeep, expenses, net_income\n    * Existing keys made mutable: shroud, fog, flag, flag_icon\n   * wesnoth.scroll_to_tile now accepts a third boolean argument - if true, the scroll\n    is skipped when the tile is already visible onscreen.\n   * The config accessors in the helper module now give a sensible error message if\n    something other than a config is passed as the first argument.\n   * wesnoth.deselect_hex no longer deselects units; it only unhighlights the hex.\n   * wesnoth.select_unit with no argument (or nil argument) now deselects any unit.\n   * Fix lua side:matches always iterating over all units on the map.\n### Multiplayer\n   * New maps: 2p Clearing Gushes, 2p Hellhole, 2p Ruined Passage,\n    2p Ruphus Isle, 2p Swamp of Dread, 2p The Walls of Pyrennis,\n    2p Tombs of Kesorak, 4p Bath of Glory, 4p Geothermal.\n   * Updated maps: Fallenstar Lake.\n### Units\n   * Several changes to names of attacks:\n    * Shock Trooper, Iron Mauler, Mage of Light: maces and morning stars\n      changed to flails.\n    * Arif, Ghazi, Khalid, Shuja: long sword changed to sword.\n    * Mighwar, Monawish: long sword changed to longsword.\n   * Updated unit descriptions: Orcish Grunt line, Merman Fighter line,\n    Sergeant, Lieutenant, General, Peasant, Royal Warrior, Ancient Lich,\n    Dwarvish Steelclad.\n   * Changed (mainly reduced) recruit costs of many high-level units:\n    * Dwarvish Lord, Direwolf Rider, Troll Warior, Banebow, Draug.\n    * Elvish Avenger, Champion, Hero, High Lord, Marksman, Marshall,\n      Ranger, Sharpshooter.\n    * Mage of Light, Fugitive, Huntsman, Ranger.\n    * Batal, Hadaf, Mighwar, Mufariq, Rasikh, Shuja, Tineen.\n### User Interface\n   * List boxes now keep the selected item visible when you change the sorting\n    option.\n   * The Addon Manager has a brand new interface.\n   * Modification selection is now always available when selecting a SP campaign.\n   * Scrolling the Editor palette no longer also scrolls the map.\n   * Removed the old GUI1 MP screens.\n   * Ensured dialogs with unit preview panes start with some extra space.\n   * Fixed an issue where certain long labels would cause scrollbars to appear.\n   * Greatly reduced the number of zoom levels available.\n   * Experimental change: removed scrollbar up/down buttons.\n   * Converted Hotkey Bind popup to GUI2.\n   * Fixed TC color in Faction Select sometimes not matching the side's selection.\n   * Ensured sides are always ordered by index in MP Staging.\n### Wesnoth Formula Engine\n   * New str_upper and str_lower functions for case transformations\n### WML Engine\n   * Update [store_side] to store everything in corresponding wesnoth.sides[*].__cfg\n    and additional keys: num_units, num_villages, total_upkeep, expenses, net_income\n   * Removed LOW_MEM option when building.\n   * Add color= attribute to [floating_text]\n   * Add ~CHAN() IPF that allows altering images according to formulas\n    It takes up to 4 WFL formulas, one for each channel (red, green,\n    blue, alpha); each works the same as the ~ADJUST_ALPHA() formula.\n   * New ability_type key in standard unit filters matches if the unit has any\n    ability of the specified type (tag name).\n   * Terrain flags \"_border\" and \"_board\" are now automatically set for every\n    tile, indicating whether it is on the map border or not.\n   * SUF type_tree renamed to type_adv_tree for consistency with [hide_help]\n   * [message]s no longer trigger a scroll if the unit is onscreen.\n   * Removed the ~DARKEN() and ~BRIGHTEN() IPFs.\n   * {SOUND_POISON} and {SOUND_SLOW} have been deprecated and replaced with empty\n    macros.\n   * [tunnel] now accepts delayed_variable_substitution=yes/no.\n   * [on_redo] is now deprecated and does nothing if used\n### Miscellaneous and bug fixes\n   * Fixed severe lag/freeze on slow PCs (bug #25356)\n   * Updated wmlscope to handle the square braces syntax in file paths\n   * Fixed an issue preventing quick replay when joining multiplayer matches\n   * Resolved crash on Help when font scaling set to 115% or greater (bug #25292)\n   * Resolved crash when viewing Help in CJK languages (bug #253334)\n   * Fixed [campaign][option] tags not being properly considered.\n   * Fixed an issue where team names could get corrupted in SP.\n   * Zoom levels no longer get reset between loading games.\n   * Do not load the Markov name generator if a CFG generator could be loaded.\n   * Exit \"quick replay\" mode in MP games once the game is caught up.\n\n## Version 1.13.6\n### AI\n   * Added new high_xp_attack candidate action to default AI. This CA performs\n    attacks on enemy units so close to leveling that the default AI's combat CA\n    would not attack them.\n   * New Micro AI: Assassin Squad AI\n   * Fix bug #23720, AI units with max_moves=0 do not attack.\n   * Fix bug #22179: [disable] weapon special is ignored by AI. A second\n    instance of the AI also ignoring this special under different circumstances\n    has also been fixed.\n   * Fix bug of Experimental AI recruiting sometimes failing under shroud\n   * Fix some mainline campaigns custom AIs not working due to syntax changes\n    after the AI refactoring for Wesnoth 1.13.5 (e.g. bug #25123)\n   * Significantly improve move times for AI sides with many guardians\n   * Micro AIs, other Lua AIs and ai_helper.lua utility functions:\n    * Correctly and consistently deal with invisible units\n    * New ai_helper functions get_attackable_enemies, get_visible_units,\n      is_attackable_enemy, is_incomplete_move, is_incomplete_or_empty_move,\n      is_visible_unit and robust_move_and_attack\n    * Renamed function ai_helper.to_triple to LS_to_triples for consistency\n      with other functions\n    * Some internal changes to fix rarely occurring bugs and to improve\n      robustness and speed\n### Campaigns\n   * Eastern Invasion:\n    * Fixed broken village encounters.\n    * Tweaked the balance of Scenario 2.\n   * Heir to the Throne:\n    * Reworked the map and added new AI behavior in 'The Princess of Wesnoth'.\n   * Delfador's Memoirs:\n    * S9: Resolved inability to end level even when Delfador has the Staff\n      (bug #24951)\n    * S17: Resolved Wesnoth units returning to recall list not being healed\n      properly (bug #24952)\n    * S19: Resolved undead veterans victory condition not working properly.\n   * Under the Burning Suns:\n    * Redesign of all desert elf units (currently optional, selectable through\n      the difficulty menu).\n### Graphics\n   * Improved or new terrain graphics:\n    * New wooden floor variation and transitions.\n    * New aquatic encampment.\n    * New aquatic castles.\n    * Reworked stone walls so they take up less space and improved transitions.\n    * Added Wooden and Rusty Gates.\n   * Improved connections between castle and wall terrains, allowing castles and\n    keeps to be placed adjacent to walls without glitches in most cases.\n   * New sprite for Tentacle of the Deep.\n   * Tweaked colors for all time schedules.\n### Language and i18n\n   * Updated translations: Finnish, Polish, Russian\n### Lua API\n   * Upgrade to Lua 5.3.3+\n    Consult http://www.lua.org/ for a full change list and updated documenation.\n    * bit32 functions removed\n    * utf8 support added\n   * Added new function wesnoth.fire_event_by_id to fire an event with a given ID.\n   * Added new function wesnoth.remove_modifications, which removes applied\n    modifications of the chosen type from a unit. The most efficient use is to\n    remove all modifications with a specific duration value.\n    Also callable as u:remove_modifications.\n   * The built-in conditionals have_unit, have_location, and variable are now\n    present in the wesnoth.wml_conditionals table. This means they can be\n    directly called, extended with new features, or even overridden with custom\n    implementations.\n   * New recall_filter field in unit proxy returns the [filter_recall] config\n   * New variations field in unit_type proxy returns a list of unit variations\n    Each member is a full unit_type describing that variation.\n    The table is iterable with pairs().\n   * Lua side, unit_type, and unit attack proxies can now be compared with ==\n    with identity semantics. (Previously, each time such a proxy was obtained,\n    it would produce a new object that did not compare equal to any others.)\n   * Lua unit_type lists (wesnoth.unit_types and unit_type.variations) are now\n    countable with the Lua length operator.\n   * Lua dialog functions now support the stacked widget and the unit preview pane\n   * New wesnoth.show_menu function shows a dropdown menu at the mouse location\n   * Lua attack proxy has new read_only field which is true for unit_type attacks\n    If true, attempts to change the attack will result in an error.\n   * The name field in Lua attack proxy is now writable\n   * The attacks field in the Lua unit proxy is now writable\n    Specifically, attacks may be replaced, appended (by assigning a new ID or\n    the next valid index), or removed (by setting a field to nil).\n   * wesnoth.show_message_dialog supports second_portrait and second_mirror keys\n    in its first argument, which produces a dialog with two portraits.\n   * The callable userdata returned by wesnoth.textdomain can now be called with\n    an additional two parameters (a plural string and a count) in order to support\n    gettext plurals.\n   * New matches function in team and unit attack metatables, which test if the\n    side or weapon matches a filter.\n   * helper.lua metatables are now protected from external access; getmetatable()\n    will return a descriptive string instead of the metatable.\n   * ai.aspects.attacks no longer returns a full attacks analysis. Instead it\n    returns a table with \"own\" and \"enemy\" keys containing the valid units\n    for attackers and targets. The function ai.get_attacks() still returns the\n    full attack analysis.\n   * Aspect fetcher functions (eg ai.get_aggression()) are now deprecated in favour\n    of the ai.aspects table.\n   * The location_set iter and stable_iter functions can now be called with no argument.\n    In this case, they return an iterator suitable for use in a for loop.\n   * New wesnoth.wml_matches_filter function takes a WML table and a WML filter and tests\n    if the table matches the filter. The filter syntax is as with [filter_wml].\n### Music and sound effects\n   * Added a preference to pause the music when the game loses focus.\n   * Now the music fades out between scenarios.\n### Networking\n   * Ported campaignd to use boost.asio instead of SDL_net.\n   * Removed unit tests for old networking stack. This was the last part that\n    depended on SDL_net\n### Performance\n   * When a heuristic determines that it's probably faster, the game predicts\n    battle\n    outcome by simulating a few thousand fights instead of calculating exact\n    probabilities. This method is inexact, but in very complex battles\n    (extremely high HP, drain, slow, berserk, etc.) it's significantly faster than the\n    default damage calculation method.\n### Units\n   * Changed the sound for the melee attack of the\n    Loyalist Bowman, Orcish Crossbowman and Orcish Slurbow.\n### User Interface\n   * Trait descriptions in the help are now generated. (This makes user-defined\n    traits show up in the help as well.)\n   * Fix game map sometimes showing and buttons sometimes not rendered properly\n    in story screen (bug #24553)\n   * Improved font rendering on Windows.\n   * Redesigned gamestate inspector window.\n   * Recall dialog no longer shows units that no leader on the map can recall\n    (due to the [filter_recall] not matching)\n   * Weapon specials only gained through AMLAs now get a help topic\n   * The \"Cores\" button on the title screen is now hidden if no cores other\n    than the default are installed\n   * Redesigned game dropdown/context menu appearance\n   * New categories bar in hotkey preferences allows you to filter hotkeys\n   * Fix issue with the title screen not redrawing when the window size or\n    fullscreen setting changes with a dialog open over it.\n   * Restored descriptions for choices in combobox-based Advanced Preferences\n    entries (lost in 1.13.3).\n   * When using the --wconsole option, the game now prints a prompt in the event\n    of a fatal error to avoid closing the console before the error can be seen.\n   * Restored GUI2 textbox selection highlight lost in version 1.13.3.\n   * Added a \"Draw Number of Bitmaps\" option to the map editor, for terrain\n    graphics diagnostics.\n   * Ported file chooser dialog to GUI2, and redesigned it to include a\n    bookmarks bar with predefined and user-defined shortcuts.\n   * Tweaked the border/groove color scheme on textboxes and sliders to better\n    reflect their state and mimic window and button borders.\n   * The following dialogs have been converted to GUI2: Unit Recall, Unit List,\n    Game Stats, MP Create, MP Game Lobby, Faction Select, Unit Advance.\n   * Improved UI responsiveness.\n   * Tab completion in the Lua console is improved. It can now handle paths\n    containing square brackets (though it won't complete them) and will not\n    offer keys that are not valid identifiers.\n### WML Engine\n   * Added ignore_special_locations=yes|no, default no, to [terrain_mask] to\n    ignore the special locations given in the mask, leaving all those on the\n    underlying map unchanged.\n   * [terrain_mask] starting locations and special locations are relative to\n    the mask. Existing names replace any in the underlying map regardless of\n    their location. Each name as a unique location; but a location may have\n    any number of names. While a map/mask can give only one name per location;\n    stacking masks allows multiple names. Names cannot be removed.\n   * Added {HAS_NO_TURN_LIMIT} macro for objectives\n   * New attributes for [message] with [option]\n    * Added variable= to [message]: if specified, gives variable name to\n      receive the [option] index (1..n) selected\n      only used if any [option] appear\n    * Added value= to [option]: if specified, gives value to store in variable\n      instead of index number, only used if variable= appears in [message]\n    * New second_unit, second_image, second_mirror attributes for showing two\n      portraits on a single message.\n   * New attributes for [role]:\n    * search_recall_list=yes|no|only(default yes) controls where to look\n    * reassign=yes|no(default yes) if no, check for a unit and do not assign to\n      another\n    * [auto_recall] sub-tag, if assigned to recall list, gives [recall]\n      attributes (no SUF)\n    * [else] sub-tag, WML to execute if no unit found for the role\n   * New help_text= key for [trait] to set the description displayed in the\n    help.\n   * Added tag id= [fire_event], which allows raising events by id\n   * [modify_unit] now understands [effect] tags, which it applies directly.\n    This replaces the use of [object] with no_write=yes (which will be removed\n    in the next release).\n   * Add [object]take_only_once=yes|no (default yes) - if set to no, automatic\n    tracking is disabled for this object (allowing it to be taken multiple\n    times even if it has an id).\n   * New [remove_object] tag which removes applied [object]s from matched units;\n    it can filter on the entire [object] WML. The most efficient use is to\n    remove all objects with a specific duration value.\n   * Renamed [foreach] variable= to array=\n   * Renamed [foreach] item_var= to variable=\n   * Fixed several bugs in the name generation of the map generator\n   * Fixed issues with using [endlevel] in victory/defeat events\n   * The {MAGENTA_IS_THE_TEAM_COLOR} macro is no longer needed in [unit_type]\n    It is now the default behaviour unless overridden with the flag_rgb key.\n   * New key type_tree in unit filters - similar to type, but also matches any\n    possible advancements of the specified unit types.\n   * [options][combo] in [scenario], [modifications], etc has been renamed\n    to [choice] (which is more accurate). The old name still works for now.\n   * ~ADJUST_ALPHA() image path function now takes a WFL formula. It can access\n    the following variables: x, y, width, height, red, green, blue, alpha.\n    It no longer accepts a percentage (use ~O() for that).\n   * Fixed [rule] in [terrain_mask] ignoring use_old=yes\n   * Fixed filter returning invalid locations if invalid locations were given\n    in a variable that was used with find_in=\n   * Moves cave map generator to lua. scenario_generation=cave is now deprecated and\n    will be removed soon. The Lua version has feature parity with the old one, but\n    the syntax is a little different. It supports both map_generation and\n    scenario_generation.\n   * Tunnel functionality was expanded and the default behavior was altered in\n    order to make moves through tunnels consistent with all other moves:\n    * Vison through tunnels is now possible and enabled by default. It can be\n      turned off by setting allow_vision=no in the [tunnel] tag.\n    * Own and allied units on tunnel exits do not block the tunnel any more.\n      The blocking behavior can be reenabled by setting pass_allied_units=no\n      in the [tunnel] tag.\n   * Added text_alignment= key to [story][part] to specify horizonal alignment of\n    text.\n   * [set_variable] now supports abs= (absolute value), power= (raise to\n    power) and root= (extracts root, 'square' is the only value currently\n    supported) keys\n   * Individual [terrain_graphics] rotations can now be skipped entirely by\n    using \"skip\" in the rotations= list.\n   * WML macros can now include optional arguments with default values that the\n    caller can override.\n### Miscellaneous and bug fixes\n   * A new way to make units invulnerable for debugging: select the unit and type\n    \";unit invulnerable=yes\". This method operates by decreasing the opponent's hit\n    chance to zero: as a result, it doesn't slow down damage prediction unlike the\n    \"increase HP to ridiculous levels\" method.\n   * The ;choose_level command now works in the tutorial and in [test] scenarios\n   * Fixed a stray ; character appearing pre-entered in the command console.\n   * Fixed bug in wesnothd that was causing server crashes if game with\n    multiple network and local players was ran.\n   * Added a tab to run the wmlxgettext tool to GUI.pyw\n   * Fixed problem with Spectre's hitpoint bar positioning.\n   * Fixed crash when unit with planned actions is killed before those actions are\n    completed (bug #20071)\n   * Show correct number of attacks in case of swarm weapon special (bug #24978)\n   * Fixed bug that icons of buttons under the minimap disappeared when the\n    player opened and closed a menu.\n   * Correct unit recall count in statistics when undoing a unit recall (bug #25060)\n   * Add tip to recall units instead of recruiting them if costs exceed 20 gold (recruitment costs)\n   * Resolve sides in map editor not having a proper side number and subsequently\n    causing a crash upon editing (bug #25093)\n   * Avoid rare cases of mini-map producing a divide-by-zero error (bug #25155)\n   * [filter_vision]: fix bug of filter not matching own/allied hidden units\n   * Prevent crash on quitting scenario with planned recruits present (bugs #24022/25193)\n\n## Version 1.13.5\n### Campaigns\n   * An Orcish Incursion:\n    * Linaera can recruit Mage, and cannot recruit Elves\n   * Heir to the Throne:\n    * Add journey tracks for 19c/20b path.\n    * New sprites for Li'sar.\n    * S10: Clarify objectives and change egg image on capture.\n    * S19c: Removed the undead and the swamps.\n   * Tutorial\n    * Improve translatability for languages with gender-dependent pronouns\n    * S1: Fix unit being deselected after the select message\n    * S2: Highlight (outline) talked-about locations\n   * Legend of Wesmere\n    * S3: fix bug which silently disabled Urudin retreat AI\n### Graphics\n   * Updated generic portrait of Mermaid Initiate.\n   * Added generic portrait for Giant Spider.\n### Language and i18n\n   * Updated translations: British English, Galician, German, Italian, Japanese,\n    Polish, Portuguese, RACV, Russian, Scottish Gaelic, Spanish\n### Networking\n   * Reworked the multiplayer server to use asio functions for networking\n    operations instead of SDL_net, thus it no longer depends on SDL_net and SDL.\n   * The client now uses boost::asio for communication with wesnothd too.\n### Removed support for SDL 1.2. SDL 2 is now the only supported version.\n### Terrains\n   * Changed terrain code of Desert Mountains from Mdy to Mdd.\n### Editor\n   * Allow to set special locations in the editor which can then be read by wml.\n### User Interface\n   * Fix flickering caused by tooltips, closing windows and tabbing into the game (bug #24532)\n   * Various design improvements to GUI2 widgets\n   * New simpler GUI2 loading screen\n   * New colored cursor graphics\n   * Fixed Mage of Light halo appearing in the top-left corner of the screen\n    while the mage is moving (bug #23712).\n   * Fixed Observers icon appearing behind other top bar items in MP games on\n    horizontal UI resolutions < 1024 (bug #24455).\n   * Fixed ToD schedule progress indicator appearing behind other top bar items\n    on vertical UI resolutions < 600.\n   * Improved the dialog for choosing what to do when a player leaves in\n    multiplayer.\n   * The side overview now also shows allied human sides in sp even if\n    they aren't discovered yet\n   * Added an option to disable the loadingscreen animation since it caused\n    bugs in some configurations.\n   * Added a gui method to activate loggers (Preferences -> Advanced -> Logging)\n    loggers activated in the gui print just like loggers activated in the\n    command line (i.e. messages appear in the console)\n   * The Lua console screen now has a clear button\n   * Fix bug #24762: Editor actions are out of sync after resizing.\n   * Increased the font size for text in buttons.\n   * Changed unit help topics to use smaller images on smaller monitors.\n### WML engine\n   * Add color= attribute to [message].\n   * Add [else], search_recall_list=, auto_recall= to [role]\n   * Fix some issues with [foreach]\n   * Fix some issues with backstab-like weapon specials\n   * Support [effect]times=<integer>\n   * Add highlight=yes|no to [scroll_to], [scroll_to_unit], [message]\n    Defaults to no in the first two cases, yes in the third\n    If yes, the target hex is outlined.\n   * New ~SCALE_INTO(w,h) IPF which preserves aspect ratio, using bilinear\n    interpolation scaling.\n   * New ~SCALE_INTO_SHARP(w,h) IPF which preserves aspect ratio, using\n    nearest neighbor scaling.\n   * Support delayed_variable_substitution= in [on_undo], [on_redo]\n    Note that this means $unit.x and $unit.y may not reflect the unit's\n    true location, so using [unstore_unit] on $unit may have unexpected effects.\n    This applies to $second_unit too. The $x1, $y1, $x2, $y2 variables work fine\n    though, so in most cases they can be used instead. Anything else in $unit\n    or $second_unit is also fine.\n   * formula= in SUF can now reference $other_unit via the formula variable \"other\"\n   * formula= now supported in location, side, and weapon filters\n   * Weapon filters now support number, parry, accuracy, and movement_used\n   * New [has_attack] in standard unit filters; supercedes has_weapon= and\n    uses full weapon filter.\n   * lua_function=var.member now works in SUF; however, 'var' still needs to\n    be a global variable.\n   * Added new keys name_generator, male_name_generator and female_name_generator\n    for the [race] tag to declare a context-free grammar to describe how names\n    are derived\n   * Modification tags in [modify_unit] now support delayed_variable_substitution\n    (This means [advancement], [object], and [trait] tags.)\n   * All looping tags now give an error if they contain no [do] tag.\n    (They may contain multiple [do] tags, however.)\n   * Add [message]image_pos=left|right, which mostly supercedes ~RIGHT()\n   * For [core] authors: New keys for game logo (game_logo, game_logo_background)\n   * AiWML:\n    * Filters within [micro_ai] can now use $this_unit, which was previously\n      impossible due to the config being prematurely parsed.\n    * Simplified aspect syntax which works for all aspects, present and future:\n      * All aspects with simple values can be specified as key=value\n      * Except attacks, all aspects with complex values have a simple tag form\n        containing only the aspect value (e.g. [avoid])\n      * All aspects, simple and complex, can be specified using a tag named by\n        the aspect, whose contents is the same as a corresponding [facet]\n      * The full [aspect] and [facet] syntax also still works\n    * [ai] configs no longer recognize the version= key\n    * ai_algorithm key now selects a preset AI; possible values include\n      \"ai_default_rca\", \"experimental_ai\", and \"idle_ai\", but custom AIs\n      defined by eras or modifications with an [ai] tag can also be used\n    * [leader_goal] now automatically sets facet ID for auto_remove\n      (Only if using simplified syntax; in full syntax, the ID must still be\n      specified in two places.)\n    * The AI config in the gamestate inspector is now split into multiple\n      sections according to the type of component.\n    * The following deprecated components have been removed:\n      * recruitment stage (name=ai_default::recruitment)\n      * old recruitment candidate action\n        (name=ai_default_rca::aspect_recruitment_phase)\n      * old simple move-to-targets candidate action\n        (name=ai_default_rca::simple_move_and_targeting_phase)\n      * number_of_possible_recruits_to_force_recruit aspect\n      * recruitment_ignore_bad_combat aspect\n      * recruitment_ignore_bad_movement aspect\n      * The recruitment aspect has been removed from the engine; however,\n        \"recruitment\" is now accepted as a synonym for\n        \"recruitment_instructions\". Old code should work without changes.\n      * [goal]name=protect_my_unit\n    * The following experimental components have been removed:\n      (Most of these were broken or non-functional)\n      * Experimental recruitment candidate action\n        This worked, but was worse than the default recruitment.\n      * Global fallback candidate action\n      * Akihara recruitment candidate action\n      * Fallback stage (functional but useless)\n      * Strategy Formulation with RCA stage\n        This worked, but was slow and unmaintained. If a maintainer\n        steps up, it may be restored later.\n      * Several of the development AIs available in debug mode in the\n        multiplayer setup menu\n    * The \"Strong AI\" has been renamed to \"Default AI (RCA) with Alternate\n      Recruiting\" and is now only available in debug mode.\n    * Lua components (goals, aspects, stages, and candidate actions)\n      now support an [args] subtag, which passes any sort of WML data\n      to the Lua code - this works similarly to [args] in a [lua] tag,\n      though not quite identically.\n    * Aspect syntax with [aspect] tag has been fully generalized so that\n      [aspect], [facet], and [default] are all exactly the same in terms of\n      what contents they expect. (Except that [facet] additionally takes\n      turns= and time_of_day=.) The most useful consequences of this:\n      * You can nest a [facet] inside another [facet] if the outer one has\n        name=composite_aspect\n      * You can define a [facet] with the Lua engine\n    * invalidate_on_tod_change= has been implemented for aspects. It applies\n      when the bonus resulting from time of day modifiers (excluding any\n      illumination abilities) changes at any location on the map. Thus, it\n      occurs on average less often than invalidate_on_turn_start and may\n      be best combined with an explicit invalidate_on_turn_start=no.\n    * Minor shorthands have been introduced in the recruitment_instructions\n      aspect:\n      * [pattern] tag is like [recruit] with pattern=yes\n      * [total] tag is like [recruit] with total=yes\n      * If no [recruit] tag is present, a default is added with importance=0.\n        This means recruitment will happen even with only [limit] tags.\n    * Extensions to [modify_ai]:\n      * [modify_ai]action=change works on aspects, using path=aspect[id].\n        Useful if you need to change all the facets at once, but note that\n        it also wipes the [default] facet.\n      * The [default] facet can be referenced as facet[default_facet].\n        This should rarely be needed, but is there in case it is.\n        It also makes them easily identifiable in the inspector.\n      * Automatically copy over the id= with action=change, if the\n        new component did not specify one.\n      * It can add, remove, and change jobs and limits in the\n        recruitment_instructions aspect. The path to use for this is\n        aspect[recruitment_instructions].facet[facet_id].recruit[recruit_id].\n        (For a limit, replace \"recruit\" with \"limit\".)\n        The [recruit] and [limit] tags now support id keys for this.\n   * Added side_name= attribute in [side], it's now no longer possible to\n    specify the current_player attribute in the [side] wml.\n   * unit filters, specially in wesnoth.get_units now have a limit= attribute\n    to limit the number or matched units.\n   * Added new attribute \"registered_users_only\" to MultiplayerServerWML which indicates\n    that only registered users should be allowed to join the game\n   * wesnoth now does a stricter check for unit type ids.\n   * In multiplayer,  victory events now fire at the end of the scenario if at least one\n    human player has won, this fixes OOS in mp campaigns.\n### Lua API\n   * wesnoth.match_unit can now take a location (rather than a unit) as\n    the optional third parameter. This will cause the filter to consider\n    the unit to be on that location instead of its actual location.\n    This even works for units on a recall list.\n   * wesnoth.highlight_hex is no longer deprecated, but its effect is\n    slightly different from the old one. It outlines a hex, nothing more.\n   * wesnoth.select_hex is now deprecated in favour of the new\n    wesnoth.select_unit (or u:select). The effect is almost the same\n    (with the exception that it does not outline the hex if true is\n    passed as the second argument), but this name change was done to\n    emphasize that it acts on a unit, more than a location.\n   * New wesnoth.set_time_of_day function which sets the current time\n    of day, taken either as the time ID (eg \"second_watch\") or the index\n    of the time in the overall schedule (eg, 1 would be dawn in the default\n    schedule). Optional second argument takes a time area ID, to set\n    local instead of global time.\n   * New wesnoth.add_fog and wesnoth.remove_fog functions allow changing fog\n    on the map. The [lift_fog] and [clear_fog] tags now use this.\n   * New wesnoth.add_sound_source, wesnoth.remove_sound_source, and\n    wesnoth.get_sound_source functions to allow manipulation of sound\n    sources. The [sound_source] and [remove_sound_source] now use these.\n   * New wesnoth.log function for printing log messages. The [wml_message]\n    and [deprecated_message] tags now use this.\n   * New wesnoth.name_generator function builds a name generator and returns\n    it as a callable userdata. Both the original Markov chain generator\n    and the new context free grammar generator are supported\n   * New wesnoth.get_end_level_data() function which can be called in a\n    victory, defeat, or scenario_end event to access (or change) how\n    the scenario ends.\n   * Fix wesnoth.erase_unit failing if the unit was on a recall list.\n   * WML tables defined in Lua now accept string keys with array values\n    (where \"array\" is a table whose keys are all integers). This joins\n    the elements of the array with commas and produces a single string\n    value. eg {x = {1,2,3}} is equivalent to {x = \"1,2,3\"}.\n   * wesnoth.effects table can now be used to alter the behaviour of\n    built-in effects - for example, to add a new feature to\n    [effect]apply_to=attack. It also now supports effect descriptions,\n    for use by the [trait] tag.\n   * Additional fields in unit proxy:\n    * usage, cost - self-explanatory\n    * traits - list of the IDs of all traits\n    * abilities - list of the IDs of all abilities\n   * Additional fields in table returned by wesnoth.get_terrain_info:\n    * icon, editor_image, light\n   * Additional fields in unit type proxy:\n    * race, id, alignment\n    * attacks, which returns the same thing as unit.attacks\n    * abilities, same as unit.abilities\n   * Additional field in side proxy:\n    * faction (read-only), faction_name (read-only)\n   * LuaAI:\n    * The table returned by check_*() now has a \"result\" field which\n      gives a description of the action's result; similar to \"status\"\n      but more descriptive.\n    * Target tables now use a descriptive name for \"type\", instead of\n      an integer. This applies to the elements of the table returned by\n      ai.get_targets() and also to the elements of tables returned by\n      Lua goals. (However, Lua goals that used integers will continue\n      to work for now.)\n    * There are some compatibility-breaking changes to Lua candidate\n      actions - see the release notes or the wiki for full details.\n    * Lua AI code can now access the AI routines through the global ai\n      object. This object is only accessible to AI code; it does not exist\n      in the general Lua global scope.\n    * When executing Lua goals, aspects, or candidate action evaluations,\n      the ai is in \"read-only\" mode - the read_only key is set to true,\n      and functions that change the gamestate, such as ai.attack(), are\n      missing from the table. (ai.check_*() functions are still present.)\n    * The ai.aspects table provides access to every aspect known by the\n      engine, including several that previously did not have corresponding\n      ai.get_*() functions. You access them as ai.aspects.avoid, for example.\n      The table is read-only and raises an error if you attempt to write to it.\n    * The way to create Lua candidate actions has changed a little. Old code\n      will require minor changes.\n    * New wesnoth.micro_ais table contains the loaders for all Micro AIs.\n      New loaders can easily be installed by add-ons. See any built-in\n      micro AI (in ai/micro_ais/mai-defs/) for an example of how to do this.\n    * The attacks aspect can now be defined as a Lua aspect. The code\n      should return a table with keys \"own\" and \"enemy\", each of which may\n      be either a unit filter table or a function which takes a unit as a\n      parameter and returns true or false.\n   * Added wesnoth.game_events.on_mouse_move/on_mouse_actions callbacks\n    (fr #22635)\n   * Added wesnoth.special_locations\n   * [lua] tags now also support the [args] subtag outside events.\n   * added lua_function= attribute in location filters\n   * Added on_event.lua which is an eaiser to use wrapper for\n    wesnoth.game_events.on_event\n### Multiplayer\n   * Hornshark Island: simplified multiplayer faction determination\n   * Added \"Registered users only\" checkbox to multiplayer configuration dialog which\n    when checked, only allows registered users to join the game\n### Wesnoth formula engine\n   * Formulas in unit filters can now access nearly all unit attributes\n    The following attributes were renamed (old names still work, for now):\n    leader -> canrecruit\n    total_movement -> max_moves\n    movement_left -> moves\n    states -> status\n   * Nearly all unit type, side, weapon, and terrain attributes available\n    to Lua code are now also exposed to WFL. The exceptions are mainly\n    translatable strings.\n   * Unit and side WML variables are now accessible under \"wml_vars\".\n    Since WML variables don't easily translate to formula variables, the\n    special attributes __all_children, __children, and __attributes provide\n    specialized views of the variables config as a list, string-list map,\n    and string-value map, respectively.\n   * The 'special' attribute of weapons was renamed to 'specials', and it now\n    contains the special IDs rather than their translateable names.\n   * New syntax features:\n    * String interpolation syntax. Within a formula string (enclosed in\n      'single quotes'), the syntax [some_formula] interpolates the result\n      of the inner formula into the string. (The simplest use case is\n      interpolating the values of variables.)\n    * String can now escape special characters:\n      ['] single quote, [(] open square bracket, [)] close square bracket\n    * New 'in' operator which tests if a list contains an item or if a map\n      contains a key.\n    * New concatenation operator a..b which works on strings and lists\n    * New range operator a~b which produces a list of consecutive integers\n      This can also be used for \"list slicing\" - eg my_list[3~5] returns\n      a new list containing elements 3 through 5 of my_list.\n    * Lists can be used as an index for a list. This is \"selection indexing\"\n      and returns a new list with only the elements specified by the indexing\n      list.\n    * Function definitions (using the def keyword) are now supported in all\n      formula contexts, which means that they can be used outside FormulaAI.\n      However, non-FormulaAI functions are currently local to the formula\n      that declares them.\n    * Maps containing string keys that are valid identifiers can now be\n      indexed with the dot operator instead of the indexing operator.\n    * Strings can now be indexed via 'string'.char[n]. Also supported are\n      'string'.word[n] and 'string'.item[n] (the latter splits on commas)\n   * Changes to core functions:\n    * head() takes an optional argument - if present, a sublist is returned.\n    * abs(), max(), min() now work on decimal numbers\n    * reduce() function can specify an optional initial accumulator\n      This will be returned for an empty list instead of null.\n    * substring() function can now accept a negative size parameter\n      This counts backwards from the specified offset\n      A size of -1 is the same as 1.\n    * if() can take two arguments; returns null if the condition is false\n    * tomap() will now invert the effect of tolist()\n    * debug_print() now shows in chat area if debug mode is on\n   * New core functions:\n    * Trig functions tan, acos, asin, atan have been added. (Sin and cos\n      existed since at least 1.9 but were undocumented until very recently.)\n    * Other common math functions - root(), sqrt(), cbrt(), log(), exp()\n    * hypot(x,y) function calculates sqrt(x*x+y*y) with minimal error\n    * pi() returning the circle ratio\n    * tail() - opposite of head()\n    * reverse() function for strings and lists\n    * zip() function - converts [[1,2,3],[4,5,6]] to [[1,4],[2,5],[3,6]]\n    * take_while() function returns items from a list until the first one\n      that fails a condition\n    * find_string() locates a substring within a string\n    * replace() replaces a sequence within a string\n    * type() function checks the type of a formula result\n    * distance_between() - this was promoted from FormulaAI to core\n    * pair() function that produces a key-value pair suitable for\n      passing to tomap() - this also means key-value pairs are now\n      serializable (relevant in FormulaAI)\n    * sgn(), trunc() and frac() functions for decimal numbers\n   * Map generator engine:\n    * makes now use of the new context free grammar name generator\n    * ported name generation from english.cfg to [naming]\n   * Bugfixes:\n    * Dice operator is now synced (where possible)\n    * Modulus (%) operator now works on decimal numbers\n    * Exponentiation (^) operator is now right-associative\n    * Fix several math operations returning a very large negative number when\n      the operation was invalid (for example, (-2) ^ 0.5).\n      Now they return null instead.\n   * Formula debugger (accessed with the debug() function):\n    * Now works again, but is skipped unless in debug mode\n    * No longer explodes on formulas using less-than\n    * Some better information and formatting in the execution trace\n    * You can now step through \"where\" variable assignments\n   * FormulaAI no longer starts recruiting if a formula evaluates to the\n    string 'recruit'.\n   * Deprecated:\n    * The fai/faiend keywords are deprecated as part of a move to clearly\n      define the difference between \"Wesnoth Formula Language\", the language,\n      and \"FormulaAI\", the AI engine that uses the language. For now they\n      still work, but any future code should use wfl/wflend instead.\n      Use of the .fai file extension is still fine for FormulaAI code;\n      for other formula code in a separate file, .wfl is recommended instead.\n### Miscellaneous and bug fixes\n   * Resolve translated logo images not being used (bug #24357)\n   * Ported the \"hexometer\" tool from Bash to Python 3\n   * Recognize hotkey release events\n   * Allow changing keybindings for scrolling the map.\n   * Fix the move-to-targets candidate action of the default AI ignoring tunnels\n   * Fix two rare bugs in the goto candidate action that resulted in goto moves\n    by other units being skipped after a unit could not get to its goal.\n   * Replace wmlxgettext tool with new python3 implementation by Nobun:\n    https://github.com/AncientLich/wmlxgettext-unoff/\n   * Debug commands that create units now do so for the currently controlled\n    side instead of always side 1.\n   * Fixed bug #24696 (Nightstalk ability not working)\n   * Ported the following scripts to Python 3: TeamColorizer, about_cfg_to_wiki,\n    campaign2wiki, terrain2wiki\n   * Wesnoth now ignores unknown arguments that XCode may pass when testing.\n\n## Version 1.13.4\n### Language and i18n\n   * Updated translations: British English, Russian\n### Graphics\n   * Improved or new terrain graphics: Mine Walls (replaces Hewn Cave Walls).\n### User interface\n   * Fix vertical alignment of individual attacks listed in the Attack Unit\n    dialog.\n   * Removed extra padding below unit stats in the Attack Unit dialog.\n### Miscellaneous and bug fixes\n   * Fix non-deterministic crashes in the Attack Unit dialog resulting from\n    invalid memory references (regression introduced in 1.13.3).\n   * Fix uninitialized variable in event handling code (bug #24498).\n\n## Version 1.13.3\n### Greatly improved SDL 2 support. SDL 2 is now used by default build when building. This fixes the following bugs, among others:\n   * Bug #18112: Color cursors cause slow mouse movement at menus\n   * Bug #19666: When I resize windows during dialog I lose the menu buttons\n   * Bug #20332: Cursor not mapping correctly on Retina display when in Windowed mode\n   * Bug #23820: SDL 2 alpha blending issues\n   * Bug #23821: Text input is broken in GUI1 under SDL 2\n   * Bug #23908: SDL 2 SDL_BlitSurface causes crashes\n   * Bug #23918: UI graphics garbled on OS X 10.11 El Capitan\n   * Bug #23934: Resize actions are laggy\n   * Bug #24138: SDL 2 crash on resize after starting a game and returning to the title screen\n   * Bug #24209: Screen becomes black upon minimise and restore\n   * bug #24212: SDL 2 build handled input incorrectly once window focus is lost when menus are open\n   * Bug #24213: SDL 2 build leaves menu items stuck if window dimensions change while open\n   * Bug #24214: SDL 2 build handles fullscreen toggle badly\n   * Bug #24260: Menu and Action buttons disappear on resize\n   * Bug #24261: Area under Objectives not redrawn on resize\n   * Bug #24294: Doubled-up GUI1 dialogs don't redraw the secondary in SDL2\n   * Bug #24477: Segfault when launching Credits\n### Campaigns\n   * Liberty:\n    * Added some animations for the Rogue Mage line.\n    * Fixed Relana appearing as male.\n   * Sceptre of Fire:\n    * Added some animations for Dwarvish Miner.\n    * Improved sprite for Dwarvish Caravan.\n   * Son of the Black-Eye:\n    * Added some animations for the Orcish Shamans.\n   * Under the Burning Suns:\n    * Updated sprites for Naga Hunter, Naga Guardian line, Crab Man.\n    * Crab Man changed to Monster Crab.\n### Graphics\n   * Improved or new terrain graphics: Stones with Sand Drifts, Igloo Village,\n    Adobe Village.\n   * Added option for toggling off water animations to Preferences -> Display.\n### Language and i18n\n   * New translation: Asturian\n   * Updated translations: British English, Galician, Russian, Swedish\n### Sound effects\n   * Fixed various subtle timing problems with attack sounds.\n### Terrains\n   * New terrain: Desert Mountains (Mdy), Impassable Desert Mountains (Mdy^Xm),\n    Ruined Adobe Village (^Vdr).\n### User Interface\n   * GUI1 comboboxes now use the thinner menu frame style.\n   * Implemented a new GUI2 Attack dialog\n   * Added gui2 comboboxes.\n   * Removed prompt when purging the WML cache from Preferences.\n   * Implemented a new GUI2 Preferences dialog\n   * Implemented a new font scaling option on the Display panel.\n   * Selecting an entry in the friend/ignore list panel now copies it to the\n    input field; this makes it easier to edit friend/ignore notes.\n### WML engine\n   * Added new event \"unit placed\", which triggers when (and regardless of how)\n    a unit appears on the map.\n   * Added support for color= in [unstore_unit] and [print]\n   * removed network and network_ai controlles, whether a side is networked is\n    now stored in the is_local attribute.\n   * Eventnames (received in wesnoth.game_events.on_event) now have all their\n    spaces replaced with underscores.\n   * lua can now read/write the 'persistent' attribute of sides.\n   * lua can now read/write the 'alignment' attribute of units.\n   * Added {CURRENT_FILE} and {CURRENT_DIRECTORY} macros.\n   * add support for relative dirs in wesnoth.dofile/require\n   * Added name= and write_name= attributes in [item]\n   * Added description_alignment= key to [campaign]\n   * Fixed [put_to_recall_list] not working correctly (bug #24390)\n   * Wesnoth now does a stricter check in variablenames and doesn't allow\n    empty indexes like \"a[].b\" anymore.\n### Lua API\n   * Added wesnoth.read_file\n   * wesnoth.dofile/require now allow .. in relative paths.\n   * unit.level and unit.upkeep can now be changed via lua unit proxies.\n   * wesnoth.find_path is now available in lua map generators and allows border=yes/no parameter.\n### Miscellaneous and bug fixes\n   * Fix the new log code on Windows to actually use Unicode-aware functions\n    in a couple of places so Wesnoth does not quit on startup when trying to\n    relocate the log file to a path with Unicode characters (bug #22897,\n    definitely fixed this time).\n   * Decreased high memory consumption caused by the animated water.\n   * Fix bug #23108: exclude aborted attacks from statistics\n   * imgcheck now runs on Python 3\n   * Fix bug #15259: Secondary click uses control-click instead of command-click in OS X\n   * New hi-res icon using new logo for OS X\n   * Removed the \"wmlmove\" Python tool\n   * Fixed [event] in [unit_type].\n   * Fixed oos caused by mp replay turn feature.\n   * Fixed oos bugs caused by plattform dependent rounding from double to int in lua.\n   * Fixed custom (lua-defined) scenario tags beeing removed from [replay_start]\n   * Fixed savefile bloat caused by unit variations (walking corpses)\n   * Fixed preferences file bloat caused by null-command hot-keys (bug #21969)\n   * Fixed clearing of default hot-keys not working (bugs #21983/#22218/#23981)\n   * Fix [for] not correctly handling the case when the array length changes\n    during iteration\n   * Fix variables in [message][command] (bug #24288)\n\n## Version 1.13.2\n### Add-ons client\n   * Warn user if attempting to upload an addon with a version lesser than or\n    equal to a published version.\n### Campaigns\n   * Delfador's Memoirs:\n    * Added defeat condition for death of the last undead veteran in\n      'Showdown in the Northern Swamp' (bug #23668)\n   * Eastern Invasion:\n    * Fixed scenario events not working right on easy difficulty in 'Captured'.\n   * The South Guard:\n    * Deoran is now the grandson of the Haldiel in HttT instead.\n   * Tutorial:\n    * Fixed transition to second scenario.\n   * Under the Burning Suns:\n    * Gave Garak a new ability called Teaching (at the start of every turn,\n      his experience points are transferred to adjacent units on the same side)\n### Editor\n   * Add Recent Files menu with a list of recently saved or loaded maps or\n    scenarios, up to a custom limit (by default 10) that can be set in\n    Advanced Preferences.\n   * Fixed Player Start labels not being updated with repeat map generations\n    (bug #20036)\n### Graphics\n   * New animated water.\n   * New standing animation for the Dwarvish Runesmith\n   * New generic portraits for the Troll and Troll Whelp\n   * New game logo\n### Language and i18n\n   * Updated translations: British English, French, Galician, Hungarian,\n    Italian, Japanese, Latvian, Polish, RACV, Scottish Gaelic, Slovak, Spanish\n   * Fixed crashes during start-up on Windows resulting from add-ons containing\n    erroneous textdomain declarations (bug #23839).\n   * Spelling and grammar review across all official campaigns.\n### Lua API\n   * It is now possible to implement custom [effect]s with wesnoth.effects\n   * Changed interface for the wesnoth.synchronize_choice function\n   * Added support for unit.level field (read only)\n   * Added support for unit.advancements field (bug #23677)\n   * Added support for unit.parry and unit.accuracy fields\n   * Added support for current.event_context.unit_x/y fields (bug #23507)\n   * Added wesnoth.set_dialog_focus function\n   * Added wesnoth.set_dialog_visible function\n   * Added wesnoth.show_message_dialog function\n   * Added wesnoth.show_popup_dialog function\n   * Added wesnoth.deselect_hex function\n   * Added wesnoth.is_skipping_messages and wesnoth.skip_messages functions\n   * New parameter write_to_mods in wesnoth.add_modification\n   * Added wesnoth.random function\n   * helper.shuffle is now synced\n   * Remove wesnoth.get_unit(underlying_id)\n   * Add wesnoth.get_unit(string_id)\n   * Change wesnoth.message so that it can display translatable strings\n   * Change wesnoth.put_unit so that the unit is passed as the first parameter\n   * Add wesnoth.erase_unit, which replaces wesnoth.put_unit when called without\n    a unit\n   * Add wesnoth.unit_vision_cost\n   * Add wesnoth.unit_jamming_cost\n   * Add methods to proxy unit metatable:\n      matches, to_map, to_recall, clone, extract, advance, add_modification,\n      resistance, defense, movement, vision, jamming, ability, transform\n    All are equivalent to a similar wesnoth.* function, but are called as\n    unit:fcn_name(arguments) instead of as wesnoth.fcn_name(unit, arguments)\n   * Add wesnoth.races[race_id].traits\n   * Add wesnoth.unit_types[unit_type_id].traits\n   * Add optional third argument to wesnoth.match_unit, which is used for\n    the $other_unit variable in the filter.\n   * pairs() and ipairs() now work on vconfig userdata objects\n   * Add helper.get_nth_child\n   * Add helper.child_count\n   * Add helper.child_array\n   * wesnoth.remove_time_area no longer takes a comma-separated list of time\n    area ids.\n   * wesnoth.add_time_area no longer warns about commas in time area ids\n   * unit.variables can now access sub variables.\n   * Added wesnoth.get/set_side_variable to store variables in a [side]-\n   * Added read/write fields carryover_bonus/carryover_add/carryover_percentage\n    in lua sides.\n### Music and sound effects\n   * Updated music track \"Frantic\", new one by Stephen Rozanc.\n   * New sounds: dwarf hit and die, ink, mud fist and glob.\n### Terrains\n   * Removed unit elevation from N-S hanging bridges\n   * Added unit elevation to NW-SE and SW-NE stone chasm bridges\n   * Added unit elevation to NW-SE and SW-NE plank bridges\n   * Hanging, stone chasm, and plank bridges are now displayed in-game simply\n    as \"Bridge\", retaining their descriptive names in the editor as per\n    convention.\n   * Fixed spurious \"could not open image 'terrain/.png'\" error messages caused\n    by terrains without a minimap image (symbol_image) such as those from the\n    Special category in the editor (Impassable Overlay, etc.).\n### User interface\n   * It is now possible to switch from replay directly into normal play\n    (bug #23833).\n   * The game now shows a notification on remote clients if a sides takes very\n    long to do a local choice (bug #23297).\n   * It is now possible to replay a turn in mp games by loading autosaves.\n   * The game now asks for confirmation when attempting to quit during the game.\n   * Add \"unit status=...\" command to debug console to add/remove unit statuses\n   * GUI2:\n    * stacked_widget can optionally display a single layer at a time. This\n      may be used to implement dialogs with multiple pages or tabs.\n    * Widgets which are children of invisible or hidden parents can no longer\n      be interacted with even if the children themselves are still internally\n      visible.\n    * Added support for tristate buttons/toggle panels or more generally\n      n-state buttons/toggle panels\n   * Added a version dialog button to the title screen, replacing the Paths\n    option previously found in Preferences -> General.\n### WML engine\n   * controller= in side filters can now be used in mp games for unsynced code\n   * Added [effect] apply_to=max_expereince set=<value>\n   * Added enable_if= to mod and era events\n   * Added $varname?default_value| in variable substitution\n   * Fixed side_for= parameter in [message]s with input\n   * New actionwml tag [on_undo] contains actionswml that is executed when the\n    current action is undone\n   * New actionwml tag [unsynced] executes its contents in an unsynced context\n    where for example\n    [set_variable]rand= will return unsynced results\n   * [campaign] now supports [event] subtags which are added to every scenario\n    of the campaign similar to [modification] [event]s\n   * Added support for mod_x,mod_y= in [terrain_graphics].\n   * Added support for has_flag= in terrain graphics [variant].\n   * Added category= to [label] - allows grouping labels so that players can\n    show/hide them\n   * Add female_text= to [animate_unit] and [unstore_unit] for easier\n    translating\n   * Add female_message= to [message] for easier translating of lines spoken by\n    generic units\n   * AMLAs in [modifications] now use [advancement] tags instead of [advance]\n    tags.\n    This means you can add an AMLA to a placed unit by simply using its\n    definition macro, for example {AMLA_DEFAULT}.\n   * [get/set_global_variable]'s side= attribute now defaults to \"global\"\n    (bug #23686)\n   * [team] share_view=yes/no, share_maps=yes/no was replaced with\n    share_vision=all/shroud/none\n   * Add exclude_amla= key in [advancement] which disables the advancment if the\n    unit has already taken certain other advancements.\n   * The WML preprocessor now writes warnings to stderr for macros redefined\n    without #undef, to help detect unintentional name clashes.\n   * Fix macro definition line numbers being offset by 1 in WML preprocessor\n    messages involving macros.\n   * Added WML menu item and event handler views to the Gamestate Inspector\n    dialog.\n   * The Gamestate Inspector now displays empty WML variables too (including\n    containers/arrays).\n   * Added new possibilities for [effect]:\n    * apply_to=alignment - change a unit's alignment\n    * apply_to=max_attacks - change a unit's attacks per turn\n    * apply_to=recall_cost - change a unit's recall cost\n    * apply_to=vision, apply_to=jamming - change a unit's vision/jamming points\n    * apply_to=new_advancement - add new advancement possibilities (either\n      units or AMLAs)\n    * apply_to=remove_advancement - remove advancement possibilities (either\n      units or AMLAs)\n    * apply_to=attack - add set_ versions of all existing increase_ keys\n    * apply_to=attack - add increase_movement_used and set_movement_used to\n      change the number of movement points the attack consumes\n   * Ability to patch movetypes to account for custom terrains or damage types\n   * Removed y offset by -1 from [message]'s scroll-to-unit logic.\n   * Add [found_item] ConditionalWML to check if an [object]id= ActionWML has\n    been taken\n   * New auto-stored WML variable $other_unit usable in the following contexts:\n    * [filter_adjacent] - $other_unit refers to the $this_unit of the enclosing\n      filter (In weapon specials and unit abilities, the unit owning the\n      ability.)\n    * [filter_self/opponent/attacker/defender] (weapon specials)\n      $other_unit refers to the other unit in the attack\n      (eg in [filter_self], it's the opponent)\n    * [affect_adjacent][filter] (unit abilities)\n      $other_unit refers to the unit owning the ability\n   * New rotate operators for directions: dir:cw and dir:ccw\n    (This is useful mostly in conjunction with variable substitution.)\n    These operators are applied after the existing '-' operator that takes the\n    opposite direction.\n   * Adjacency filters in abilities and weapon specials now support count= and\n    is_enemy=\n   * New implementations of backstab and leadership specials using $other_unit.\n    In particular, leadership is now a single macro and it is not supported to\n    give a unit a leadership ability of a different level (eg level 4\n    leadership on level 2 unit). The backstab= key is deprecated.\n   * Add new looping tags: [for], [foreach], [repeat]\n   * Add new flow control tags: [break], [continue], [return]\n   * Added a new [difficulty] tag for defining a campaign's difficulty level\n   * Add new syntax for [option], similar to the new difficulty syntax\n   * Add [test_condition] ActionWML that tells why a conditional failed (for\n    debugging)\n   * Add [remove_time_area] WML tag which takes a comma-separated list of time\n    area ids.\n   * [time_area] no longer warns about commas in ids when not using remove=yes.\n   * Add [random_placement] ActionWML\n   * In [set_variables] you can now mix [value] and [literal], and even [split]\n   * Add [resource] tag which contains [event] and [lua] tags smimilar to\n    [modification] but hidden from the user.\n   * Removed name= attribute in [side].\n   * Add support for [endlevel] bonus=<number>\n### Editor\n   * Added Category field and color sliders to the Edit Label panel.\n### Miscellaneous and bug fixes\n   * Fix $this_unit auto-stored variable not working correctly in most SUFs\n   * Made Documents\\My Games\\WesnothX.Y the default user config+data dir on\n    Windows to replace the broken <current working dir>\\userdata default that\n    has never been acceptable practice. Portable installs are now required to\n    explicitly use . or  .. (e.g. `--config-dir .\\userdata`) to force the\n    user config+data dir path to be relative to the current working dir (see\n    also bug #23753).\n   * Wesnoth now uses combined stdout+stderr log files on Windows, moved to\n    <user data dir>\\logs during initialization and first created in the user's\n    temporary files directory defined by Windows. Log files are named like\n    \"wesnoth-<TIMESTAMP>-<PID>.log\" and up to 8 log files are kept along with\n    the latest session's log file. This avoids issues caused by SDL 1.2's\n    built-in redirection code not being Unicode-aware (fixes bug #22897).\n   * Removed legacy filesystem API implementation.\n   * Fixed Generate Map dialog bug that caused last choice of map\n    generator to not be actually selected (bug #23711).\n   * Fixed unbound memory read in internal time formatting code with\n    specially-crafted input.\n   * Child wesnothd processes spawned by the Host Network Game option on\n    Windows now display console output directly instead of using stdout.txt\n    and stderr.txt.\n   * Remember last selected modifications separately for single and multiplayer.\n   * Fixed SDL2 compilation issues.\n   * Fixed RECRUIT_UNIT_VARIATIONS core WML macro leaking an internal temporary\n    variable ($recruited_unit_random_variation).\n   * Fixed unit [resistance] and [jamming_costs] not being considered for sync\n    check.\n   * Fixed problems with slow/poison/petrify sounds (bug #23024) and made the\n    sounds play automatically when the status is inflicted in combat, instead\n    of being played by attack animations.\n   * Fixed OOS on random maps, where clients placed sides in different castles.\n   * Fixed some (not all) OOS caused by modifying a sides controller by wml.\n   * Fixed wml menu items becoming unsynced in later scenarios.\n   * The game now automatically detects whether to show the game connect screen\n    between scenarios.\n   * Fixed possibility of corrupting saved games in certain instances,\n    eg if an add-on tries to set an invalid variable\n   * Fixed bug 23060: unit stat tooltips do not show.\n   * wmllint, wmlscope, wmlindent and wmllint-1.4 now run on Python 3\n   * Text boxes tab completion now lists friends and whisperer nicks for easier\n    answer (bug #9742)\n   * Avoid crash when planning moves on planned recruits (bug #18637)\n   * Fixed cases of wrong unit type used in planning moves (bug #20299)\n   * Fixed hang when attempting to make a screenshot from a non-existent map via\n    command-line (bug #20900)\n   * Fixed Cancel Orders not working when loading MP game (bug #22133)\n   * Fixed broken Oasis terrain help entry (bug #23023)\n   * Fixed load game hot-key not working in the main menu (bug #23215)\n   * Added user's leave notification for ingame players\n\n## Version 1.13.1\n### Security fixes\n   * Disallowed inclusion of .pbl files from WML, independent of extension\n    case (CVE-2015-5069, CVE-2015-5070, bug #23504).\n### AI\n   * Fast Micro AI: exclude hidden enemies from attack evaluation by default;\n    add optional key attack_hidden_enemies to override this\n   * Lua AI helper functions: fix bug crashing the AI when number= is not set in\n    a unit attack definition\n   * Micro AIs: add a warning and avoid crash when a non-existing side is used\n    in the [micro_ai] tag\n### Campaigns\n   * Dead Water:\n    * The Stun effect now expires at the stunned unit's side turn end\n   * Under the Burning Suns:\n    * The Stun effect now expires at the stunned unit's side turn end\n### Editor\n   * Redesigned Generate Map dialog to use a real listbox and remember the\n    last choice during the same editor session.\n   * Fixed stack corruption bug in the Side Setup dialog.\n### Graphics\n   * New generic portraits for the Walking Corpse and Soulless\n### Language and i18n\n   * Updated translations: Galician, Scottish Gaelic, Russian\n### Lua API\n   * New function wesnoth.get_viewing_side\n   * New function wesnoth.remove_dialog_item\n### Multiplayer\n   * A New Land:\n    * Removed the ability to select individual factions when using map\n      settings as this breaks player recruit lists (bug #23593).\n   * Era names no longer support formatting markup in the game setup screen.\n   * Removed the Silver Mage from the available leaders for the Rebels faction\n    in Age of Heroes.\n   * Fixed \"Accept whispers from friends only\" not working with the default\n    lobby UI, and added a warning every 5 minutes for individual rejected\n    senders.\n   * Allow custom colors in MP connect dialog (bug #23629).\n   * It is now possible to change a side's controller by WML (for example with\n    [modify_side]) in a MP game.\n   * Changing teams by WML in a MP game causes less bugs (bug #23028).\n   * MP campaigns now behave more like single-player campaigns.\n   * Various fixes in the MP game setup screens (bugs #23641, #23509, #23496,\n    #23462).\n### Units\n   * Fixed the Shuja not having the default AMLA.\n### User interface\n   * Fixed minimap buttons appearing without contents or in the wrong state\n    during WML start events until they are interacted with or control is given\n    to the player for the first time or some other unspecified thing happens.\n   * Force uniform font rendering settings across X11 and Apple OS X, avoiding\n    color glitches resulting from incorrect applications of subpixel hinting\n    (bug #20337).\n   * Hide mod options from the user command prompt dialog in the MP lobby when\n    not authenticated as a mod.\n   * Fixed unit bars, ellipses, and orbs disappearing for individual units in\n    replay mode when using Skip Animations/Quick Replays if they moved without\n    attacking or otherwise switching to a new animation.\n   * Chat Log dialog now starts on the last log page when there are multiple\n    pages.\n   * Fixed Wesnoth's fonts remaining in use by Windows after abnormal exits, as\n    well as being available to other applications.\n   * Started showing on which difficulty levels a campaign was completed.\n   * Modifications for single-player campaigns are now selectable directly in\n    the single-player Campaigns menu.\n   * The game now automatically detects whether to show the game setup screen\n    in single-player mode.\n### WML engine\n   * Added support for [object] duration=turn end\n   * New or updated image path functions:\n    * ~BW(): converts an image to black and white\n    * ~NEG() now supports 0,1 or 3 arguments, allowing solarization effects\n    * ~SWAP(): swaps the RGBA channels of the image\n    * ~CROP(): now supports negative x and y values.\n   * Added support for SLF in [label] when used inside an event\n   * Added synced=yes/no (default yes) to [set_menu_item]\n   * [options] is now recognized inside [campaign]\n   * type=sp/mp/hybrid now must be specified for [modification]s\n### Miscellaneous and bug fixes\n   * Removed abandoned libana network API implementation.\n   * Fixed bug #23201, toggle icons display error in replay.\n   * Added --wconsole switch to allocate a console on startup (Windows-only).\n   * Added cwesnoth.cmd wrapper script to start Wesnoth with a console\n    displaying stdout+stderr (Windows-only).\n   * Updated mainline campaigns and multiplayer scenarios to use [filter] status=\n    instead of [filter] [filter_wml] [status]\n   * Fixed a segfault in [move_units_fake]\n   * Fixed unbound memory read in the MP map selection screen that could lead\n    to a segmentation fault or other abnormal behavior (bug #23606).\n   * Made silence.ogg larger to work around a crash involving the multiplayer\n    lobby with music and sound enabled (bug #23633, bug #23599) with libvorbis\n    builds affected by Debian bug #782831.\n   * Moved [role] tag to Lua (fix for bug #23630)\n   * Removed broken Python port of wmlxgettext from data/tools/.\n   * Default to non-strict compilation with CMake.\n   * It is no longer possible to undo moves before the last (manual) shroud\n    update.\n   * Debug commands are now synced.\n   * Fixed GUI2 toggle panels in some way that the author of this changelog\n    entry chose not to specify.\n   * Removed some config reloads, especially when leaving games or entering\n    the single-player Campaigns menu.\n   * It is now possible to use WML to disable/enable quick 4 MP leaders in the\n    Default era and the time over advantage dialog by setting a WML variable.\n\n## Version 1.13.0\n### Security fixes\n   * Fixed arbitrary file read from WML/Lua API (CVE-2015-0844, bug #23440).\n### Add-ons client\n   * The Update All button is now displayed on all Add-on Manager views instead\n    of just the Upgradable filter view, and enabled only when there is at\n    least one add-on that may be upgraded.\n### Add-ons server\n   * Add-on metadata pattern blacklisting implemented.\n   * Major internal refactoring done.\n### AI\n   * New Micro AI: Fast AI\n   * Big Animals Micro AI: bug fix for units not attacking when [avoid_unit] is\n    not set\n   * Bottleneck Micro AI: bug fix for case when allied units are present\n   * Coward Micro AI: new optional key attack_if_trapped=\n   * Forest Animals Micro AI: bug fix for wander terrain lying on border hexes\n   * Herding Micro AI: bug fix for dogs sometimes having moves left at end\n   * Lurkers Micro AI: fix bug in wander terrain selection\n   * Lurkers Micro AI: bug fix for attack error when lurker runs into ambush\n   * Lurkers MAI: bug fix for attempting to attack petrified units\n   * Messenger Escort Micro AI: new optional parameters [filter],\n    [filter_second] and invert_order=\n   * Stationed Guardian Micro AI: make guard_x/y= optional keys\n   * Stationed Guardian Micro AI: bug fix for unreachable stations\n   * Messenger Escort Micro AI: bug fix for escort units blocking messenger's\n    progress\n   * Several Micro AIs: fix a variety of rarely occurring but serious bugs, such\n    as invalid savegames or disabling the AI from working for the rest of the\n    turn or after changing the Micro AI settings.\n   * Bug fix for requiring unnecessary keys for removal of several Micro AIs\n   * Fixed a bug that made it impossible to change or delete Micro AIs after a\n    game had been reloaded (bug #21750). This was a general bug in the RCA AI\n    mechanism and applied to other CAs as well, but it was most visible in the\n    Micro AIs.\n   * Some internal reorganization of Micro AI code to facilitate customizing\n    them for UMC and adding functionality from other versions of Wesnoth. Some\n    code cleanup for consistency, readability and speed, as well as fixing of\n    some minor and subtle bugs.\n   * Fix bug in Random Recruit Micro AI: the AI can now handle custom castle\n    terrain independent of its terrain code\n   * Fix bug in Return Guardian and Goto Micro AIs when there is no path to\n    the goal hex\n   * Several fixes of translatable strings in Micro AIs\n   * Micro AIs: only display on-screen error messages when in debug mode\n   * Add conditional inclusion of AI macros to AI cfgs in data/ai\n### Campaigns\n   * Changed all occurrences of {FLAG_VARIANT ragged} to {FLAG_VARIANT6 ragged}\n   * Singleplayer campaign creation now utilizes the create, configure,\n    and connect engines from the multiplayer codepath.\n   * Eras, mods, and options are now available for sp campaigns.\n   * Fix sighted events firing too early in several scenarios. Fixes bug #22466\n   * Use the new bigmaps for A Tale of Two Brothers, Delfadors Memoirs, The\n    Hammer of Thursagan, Northern Rebirth and the epilogue of Legend of\n    Wesmere.\n   * Remaining cases of old-style note and carryover information in [objectives]\n    have been converted to a newer style.\n   * A Tale of Two Brothers:\n    * Updated music playlists.\n   * Descent into Darkness:\n    * Fixed various issues with player and enemy gold and income in\n      'Descent into Darkness'.\n    * Fixed Darken Volk's ellipse in scenarios 'A Small Favor part 3' and\n      'Alone at Last'.\n    * Fixed Darken Volk being completely passive in 'Alone at Last'.\n    * 'Return to Parthyn' now has variable content depending on whether\n      necromancy was used in 'Saving Parthyn'.\n   * Eastern Invasion:\n    * In 'Captured', stolen gold won't be mentioned if the player had no\n      carryover gold.\n    * Updated maps for scenario 14, 16 and 17b.\n    * New animation for Ravanal's shadow wave.\n    * Added the Skeleton Rider line.\n    * New map for 'Mal-Ravanal's Capital', as well as updated\n      maps for scenario 2 and 4b.\n    * Tweaked and rebalanced all scenarios up to 'Two Paths'.\n   * Heir to the Throne:\n    * Tweaked and expanded music playlists for all scenarios.\n    * Fixed missing message in 'The Siege of Elensefar'.\n    * Hide unit variations that should not be listed in the help browser.\n   * Liberty:\n    * Fixed possibility of no viable routes around guards in 'Hide and Seek'.\n    * Tweaked resistances for the Skeleton Rider line.\n   * Northern Rebirth:\n    * Fixed Sister Thera and Father Morvin respawning into the recall list if\n      the other is on the north or west map edges.\n    * Sister Thera and Father Morvin will no longer speak dialog on their death\n      after 'The Pursuit'.\n    * The maps for 'Infested Caves', 'Clearing the Mines', and 'The Pursuit'\n      have been completely redone.\n    * All scenarios up to 'Old Friend' have been significantly tweaked and\n      rebalanced.\n   * Sceptre of Fire:\n    * Balancing changes for 'The Dragon'.\n   * Son of the Black Eye:\n    * S2: adjusted starting villages; scenario now ends if Kapou'e is already\n      on the signpost when the messenger comes back\n    * S3: make objectives consistent between before and after trolls appear\n    * S6: remove AI controller.  It doesn't work with sides without a leader\n    * S6: reduce randomness of unit types unloading from galleons\n    * Minor balance tweaks to scenarios 7, 8, 12, 14, 15, 17 and 18.\n    * Made allied leaders less likely to get themselves killed.\n    * Minor changes to objectives and messages in scenarios 7, 8 and 14\n   * The Hammer of Thursagan:\n    * Fixed missing objective in 'The Court of Karrag'.\n    * Rebalanced scenarios 'Invaders', Mages and Drakes' and 'Fear'.\n    * Set Masked Dwarvish Lord range attack same as for Dwarvish Lord\n    * Fixed some messages not being shown in custom events in 'The Underlevels'\n    * 'The Court of Karrag' and 'Epilogue' feature a new map.\n   * The Rise of Wesnoth:\n    * Hide unit variations that should not be listed in the help browser.\n   * Tutorial:\n    * Rewritten with an eye to being less constricting and more informative.\n   * Under the Burning Suns\n    * Fixed recruited Desert Archers being always male.\n    * Fixed malformed rand range errors during AI turns on medium difficulty\n      in 'A Stirring in the Night'.\n    * Fixed bug #22800: Cloaked Figure appears in strange location.\n    * Fixed bug #22799: No allies killed by enemy reinforcements.\n    * Fixed bug #22790: Various problems with dehydration.\n    * Hide unit variations that should not be listed in the help browser.\n### C++ Engine\n   * Purge \"human_ai\" controller type. This is a fixup of bugfix #18829 below.\n### Editor\n   * Added an entry for the terrain description help to the context menu.\n   * Default hotkey bindings for brushes (1-5)\n   * Disabled the swap palette button when the unit palette is active.\n   * Disabled the tod schedule and playlist menus in pure map mode.\n   * Support for displaying the saved status of the selected area.\n   * Fixed error messages about missing UI elements.\n   * Fixed falcon race missing an icon due to having incorrectly-named image\n    files.\n### Graphics\n   * New Ancient Lich baseframe and animations\n   * New standing animation (NE and SE) for the Revenant\n   * New standing animation for the Dwarvish Stalwart\n   * Smooth unit movement over terrains with elevation such as keeps and\n    bridges (bug #20635).\n   * Fixed bug #22045: Only blit neutral surfaces.\n   * [item] images are now subject to local ToD lighting effects instead of\n    just the current map-wide ToD lighting (bug #22215).\n   * Disabled \"alpha thresholding\" in the bilinear interpolation algorithm\n    used for all sprites and images. (This was introduced as a workaround\n    for an old bug.)\n   * Add a new bilinear interpolation implementation, which properly performs\n    alpha weighting when averaging colors, and rename old one as the legacy\n    version.\n   * Align unit overlays to the sprite rather than the occupied hex.\n   * Added Brazier and Lit Brazier embellishment terrains\n   * New beach waves terrain animation.\n   * New images for the dummy, barrel, and green cloak items\n   * Updated Snowy Orcish Castle and Keep terrain images\n### Help browser\n   * Several sections have been rewritten or had their layout improved\n   * Added trait list with links to the help page for unit types\n   * Added Defense Cap column to the Terrain Modifiers table in unit help pages\n    for units with a defense cap on at least one terrain type, which also now\n    include a note to this effect in their special notes.\n   * Fixed a bug which caused the terrain section topic not to properly generate\n    a list of its contents.\n   * Add a new help section to the terrains topic which explains about mixed\n    terrain types.\n   * When using the terrain description feature with a mixed terrain type, the\n    game will autogenerate a formatted explanation of its best / worst movement\n    / defense properties.\n   * Added automatic help entries for all eras, fulfilling Feature Request\n    #22107\n   * Fixed in-game help descriptions of default factions, using content from\n    wiki\n   * Added automatically generated lists of races and alignments to the\n    descriptions of factions\n   * Autogenerated Time of Day Schedule section\n   * Unit types that do not include any visible (hide_help=no) variations no\n    longer generate topic sections.\n### Language and i18n\n   * Updated translations: Chinese (Simplified), Chinese (Traditional), Czech,\n    French, Galician, German, Greek, Hungarian, Italian, Lithuanian, Polish,\n    Portuguese, Russian, Scottish Gaelic, Slovak, Spanish, Vietnamese\n   * Fixed cmake pot-update target on Debian and other systems that do not use\n    bash as the default /bin/sh.\n### Lua API\n   * Upgraded Lua to version 5.2.3.\n   * Fix bug #21761: wesnoth.synchronize_choice will now give a warning when\n    the table returned by the user-specified function is not completely valid,\n    when wesnoth is running in debug mode (--debug command line flag).\n   * Added new function wesnoth.get_all_vars().\n   * Add (tentative, preliminary) support for lua scripting of wesnoth\n    application functions\n   * Enable ilua \"strict mode\" by default. This safety feature helps to catch\n    errors caused by mistyped variable names, and improves the behavior of the\n    lua interpreter console. See 1.13.0 RELEASE NOTES for more details.\n   * Add multiplayer client scripting (join lobby, chat, host games, save games,\n    reload games) and mp unit tests based on this\n   * Add functions in wesnoth.map_location to perform map location arithmetic\n    using the same functions the C++ engine does\n   * Enabled support for the bit32 library (bitwise operations)\n   * Added support for treeview wigets in lua gui2 dialogs.\n   * Added support to define wml conditional tags in lua. See the\n    wesnoth.wml_condtionals table as described on the wiki.\n### Multiplayer\n   * Fixed the Set Password option during game creation not having an effect\n    due to a misplaced WML attribute in the client's command for the server\n    (bug #23015).\n   * Fixed missing scenario title in lobby for reloaded MP campaigns.\n   * Added \"no mirror\" and \"no ally mirror\" options to the MP configure screen.\n   * Multiplayer content [era], [modifications] now carry version info of their\n    associated add-on, and may have \"addon_min_version\" fields set which\n    specify backwards compatibility with earlier versions.\n   * Missing content for games hosted in the mp server may now be retrieved\n    automatically by clicking on these games in the mp lobby.\n   * Ported the password prompt displayed when joining a password-protected MP\n    game to GUI2 (bug #23455).\n### Music\n   * Change main menu track to Journey's End.\n### Replays\n   * Added a button that allows playing a single move in replay mode.\n### Units\n   * Increased the experience requirement for the Rami from 32 to 39\n   * Increased the experience requirement for the Saree from 56 to 64\n   * Changed sound timings for Khalifate melee attacks\n   * New chill tempest animation for Lich/Ancient Lich\n   * Add 'elemental' trait to Mudcrawler line\n   * Fix sound timings for drake fire animation macros\n   * Assigned capitalized translatable names to Walking Corpse and Soulless\n    variations (bug #22902).\n   * Hid alternate Great Wolf variation from help as it is identical to the\n    default variation stats-wise.\n### User interface\n   * Added a context menu option for command mode.\n   * Added a Classic theme which restores the 1.10 UI.\n   * Made orb and minimap colors configurable in Preferences.\n   * Remove 'allow_new_game=no' entries from random map new game list\n   * Fixed bug #22095: An assertion failure in the gamestate inspector.\n   * Changed: A listbox can now update its size when rows are added.\n   * Changed: Avoid listboxes to handle mouse clicks twice.\n   * Fixed bug #22144 + #22046: An assertion failure with empty labels in\n    a listbox.\n   * The :inspect dialog now uses the same function as saved games to generate\n    WML in text form instead of a simplified version.\n   * Added a button to copy the currently displayed content from the :inspect\n    dialog to clipboard.\n   * WML array elements are now displayed with subscripts in the :inspect\n    dialog.\n   * Added a button to copy the in-game Chat Log dialog contents to clipboard.\n   * Fixed the WML load error dialog not displaying an add-on name instead of\n    falling back to its directory name if the add-on contains an outdated\n    _info.cfg file lacking an [info]title= value.\n   * Fixed most of the minimap buttons and the End Turn button appearing\n    without contents or in the wrong state during WML start events until they\n    are interacted with or control is given to the player for the first time.\n   * Added a new subdialog in Preferences to clean or purge the WML cache.\n   * Fixed AI engine names in the MP game setup screen being translated to the\n    language selected when Wesnoth was started rather than the current\n    language (bug #22092).\n   * Added a new \"Advanced Settings\" button and dialog to campaign select.\n   * Added new wml attributes to listbox: has_minimum and has_maximum.\n   * Added a \"Disable automatic moves\" preference to disable automatic movements\n    at the beginning of a turn.\n   * Fixed lower button row padding for GUI1 dialogs including Statistics and\n    the Add-ons Manager (bugs #22379, #22791).\n   * Fixed mouse tracking issue with workaround by changing the default window\n    resolution for OS X to 800 x 600 (bug #20332).\n   * Removed the \"Replay viewer\" text label from the replay controller theme,\n    because it caused problems for translators and was unnecessary\n   * Fixed bug #22337: Bug in inspect long arrays\n   * Added a new \"Alerts\" configuration screen under Preferences > Multiplayer,\n    refactored all of the mp alerts / desktop notifications for customizability\n   * Removed \"desktop_notifications\" and \"lobby_sounds\" advanced preferences,\n    as they are subsumed by the Preferences > Multiplayer > Alerts screen now.\n   * Added support for hyperlink rendering and clicking in gui2 labels.\n   * Added lua interpreter console, accessible via a hotkey\n   * Add lua console button to gamestate inspector\n   * Add command history and history expansion to lua console, based on optional\n    support from GNU readline history library.\n   * Add support to evaluate expressions automatically in lua console, based on\n    a lua lib \"ilua\", and \"experimental compilation\" technique.\n   * Fixed game falling back to desktop if a user declines to load a previous\n    version save from within a game\n   * Fix bug #22984: Sliders (GUI1) focusing improperly in non-game contexts,\n  and not responding to left-right key press\n   * Wesnoth now ships with Bold and Oblique forms of its default font, Deja Vu\n    Sans, and these are used in many menus and in the in-game help for styling\n    text where previously we used SDL_TTF. Fixes bug #22376.\n### WML engine\n   * New image path functions:\n    * ~XBRZ(): Takes one argument, the scaling factor (1-5). Uses the xBRZ\n      scaling algorithm added in this release.\n    * ~SCALE_SHARP(): Anologous to ~SCALE() but using the nearest neighbor\n      scaling algorithm instead.\n    * ~PLOT_ALPHA(): No arguments, plots the alpha channel in greyscale.\n      Mainly useful for diagnostics of other function combinations, or\n      debugging the engine itself.\n    * ~WIPE_ALPHA(): Again mainly useful for diagnostics.\n    * ~ADJUST_ALPHA(): Takes either a % or an 8-bit integer, and \"multiplies\"\n      the alpha channel by this value.\n    * ~SEPIA(): Gives the image a sepia tint.\n    * ~NEG(): Gives the image a photographic negative effect.\n   * Added customizable recall costs for unit types and individual units,\n    using the new recall_cost attribute in [unit_type] and [unit] (bug #13074).\n   * Added support for [elseif] tags inside [if]\n   * Schema validator and preprocessor #warning messages now conform better to\n    the new WML parser/preprocessor diagnostics format introduced in version\n    1.11.10.\n   * Added define= functionality to scenarios, eras, and modifications.\n   * [unit] uses passed [advancement]s instead of unittypes advancements if\n    [advancement] were given in [unit].\n   * allow [lua] tags inside [modification] and [era] (which have the same\n    effect as [lua] tags inside [scenario]).\n   * enable side_for= in key [message] with [option]s.\n   * added [effect] apply_to=fearless/healthy which is now used by\n    healthy/fearless traits instead of hardcoding the id of those traits in c++.\n   * added support for a shuffle key in the [music] music to allow selecting\n    between random and non-random music play (bug #19653)\n   * Fixed a bug that prevented [animate_unit] from displaying death or victory\n    animations for those units that filter them based on weapon (eg. Wose)\n   * New WML tags: [put_to_recall_list] and [sync_variable].\n   * Fixed nested macros emitting incorrect bindings to the default 'wesnoth'\n    textdomain at the end of a substitution instead of the parent textdomain,\n    this breaking localization of subsequent strings (bug #22962).\n   * Sounds for slow and poison are automatically played when slowing/poisoning\n    a unit, and should no longer be played by the attack animations.\n   * force_lock_settings defaults to yes in [scenario].\n   * Moved all preprocessor diagnostics from the 'config' log domain to\n    'preprocessor'.\n   * Dropped support for [filter_side] in [gold] and [modify_ai], [theme] name=\n    in place of id, and [object] duration=level.\n   * Allowed direct modification of unit.ellipse variable even if ellipse= is set\n    in [unit_type] or by an [effect]\n   * Add accelerate=yes/no key in [delay]\n   * Add support for status= key in SUFs\n   * Add \"disallow_shuffle\" key in [side], which causes the \"shuffle sides\"\n    feature always to skip this side, even if it is human playable.\n   * Add \"require_scenario\" key in [scenario], [multiplayer], which causes a\n    multiplayer game to require that all participants have the add-on installed.\n### Miscellaneous and bug fixes\n   * replace 'fight_on_without_leader'=yes/no with defeat_condition=no_leader/\n    no_units/always/never which allows the wml developer to decide when a side\n    is considered defeated\n   * Fix Fisher-Yates implementation of Lua helper.shuffle (bug #21706)\n   * Fixed issues with the ~BG() image path function not always working with\n    cached images.\n   * Idle controlled sides now serialize as human controlled.\n   * Fixed bug #20876: A segfault in cut_surface.\n   * Dropped support for AmigaOS, BeOS, and OS/2.\n   * Increased the sound mixer channel allocation from 16 to 32, thereby\n    raising the limit for simultaneous sound effects from 5 to 20, and\n    simultaneous UI sounds from 1 to 2.\n   * Fix bug #21758: \"Ready not blocked while player pick faction.\"\n   * Fix bug #18829: \"ai sides show up as \"controller=network\" on remote\n    clients\". This issue is the source of some difficulties with mp campaigns\n    which occur when the campaign is reloaded from a non-host side, or after a\n    player rejoins from observer status. Hopefully, reloading campaigns is\n    easier after this.\n   * Fix bug #21797: \"Mandatory WML child missing\" when leaving a reloaded game.\n   * Fix bug #21808: Cannot join a reloaded game as an observer.\n   * Fixed halos glitching through locations that become shrouded after the\n    halo is rendered for the first time.\n   * OS X user data directory is now ~/Library/Application Support/Wesnoth_1.13.\n    For compiling Wesnoth using Xcode, a new version of\n    wesnoth_compile_mac_1.13.zip is also required.\n   * Fix bug #21257: Lagging animations with skip AI animations and fog/shroud.\n   * Improved unicode handling on windows for characters outside the Basic\n    Multilingual Plane.\n   * Fix bug #3856: The turn dialog used in hotseat MP play now applies\n    a blindfold for the duration of the dialog.\n   * Petrified units are no longer displayed in the \"Damage versus\" tooltip.\n   * Fix bug #21759: \"timer refreshed too often when time runs out\"\n   * Use one combo box instead of check boxes for replay options \"skip replay\"\n    and \"enter blindfold\". This fixes the mp lobby in width <= 800 resolutions.\n    Fixes bug #21888.\n   * MP server now commits controller changes to the replay rather than updating\n    as we go along. Among other things these means that players that join an\n    scenario with ai sides which has already started won't have corrupted\n    controller types which would prevent them from successfully saving and\n    reloading in the future.\n    We have also moved all \"controller tweaks\" associated to the start of MP\n    games to server-side rather than having a mix of client and server code.\n   * Fixup user-displayed strings associated to replay options, idle state\n   * OS X: mark Wesnoth as not high-resolution capable. This greatly improves\n    performance on retina devices.\n   * Upgrade Xcode project to enable both i386 and x86_64 builds\n   * Fixed problems with idle controller type in networked mp.\n   * Fix bug 21459 by making dropped sides default to idle.\n   * Fix bug 21882 by introducing \"fight_on_without_leader\" boolean attribute\n    of [side] tags and refactoring check_victory to use this.\n   * Changed: Don't use the random generator for units with no names.\n   * Fix bug #21910: code for game is ready bell is corrected, simplified, and\n    moved to mp_connect::process_network_data.\n   * Deliver desktop notifications in tandem with \"game is ready\" bell and\n    also the \"game has begun\" bell.\n   * Fix bug in which blindfold could cause OOS.\n   * Fix bug #21914: allow drake walking corpse variation to move on unwalkable\n   * Fix unnecessary \"Mandatory WML Child not found\" error when replay file\n    doesn't have a [carryover_sides_start] tag\n   * Server now generates PR 121 compliant replay files.\n   * Fix bug #21025: replay controller doesn't execute play_next_side properly\n   * Fix bug #21916: ready blocked at inappropriate times\n   * Fix bug #21931: controllers bugged in (basic campaign) when networked\n   * Fix bug #21883: make sure movement animations don't cycle with fog on\n   * Fix bug #21316: make subframes within standing animations cycle by default\n   * Fix bug #21967: fix crash when unit modification to traits has empty id\n   * Fix bug #19258, 21962: WML variables spuriously copied to replay_start\n   * Fix implementation bug in random number generator: rand_pool_ is now an\n    unsigned long rather than an unsigned int.\n   * Fix bug #21491: fix drag+drop for unit movements\n   * Fix bug #21448: make premoved units selection like in Wesnoth 1.10\n   * Fix bug #21372: fix unit move continuation if enemy discovered\n   * Added a Python/Tkinter based GUI to allow running wmllint, wmlscope and\n    wmlindent in an easier way\n   * Some commandline output which was helpful for noninteractive ai testing\n    is redirected from std::cout to a logdomain \"aitesting\".\n   * Added WML unit test capabilities, accessible from commandline using -u\n    switch. These are useful for unit testing the WML / lua api.\n   * Support for total conversions, so called \"cores\".\n   * Fix bug #22030: correct index of weapon special disable in attack GUI\n   * Fix bug #21964: assertion failure when using \"controller\" attribute with\n    a number.\n   * Add [do_command], which takes the body of a [command] tag from ReplayWML,\n    (some possibilities not allowed), and executes the corresponding action.\n    It is replay safe and triggers WML events as appropriate.\n   * Reallow selection of another unit on same side without deselect first\n   * Add \"strict mode\". Using --log-strict=[severity] causes wesnoth to throw\n    a game_error exception when anything is written to a log as severe as\n    that. For example --log-strict=warning causes both warnings and errors\n    to generate runtime exceptions. This is intended for unit tests.\n   * Fix bug #21867: team flag colors not refreshed after making use of\n    [modify_side] color= unless a new flag set is also provided.\n   * Fix a bug where in movement records, \"skip_sighted\" was sometimes\n    spelled as \"skip_sighed\".\n   * Fix bug #22020: make base units with variations help entry clickable\n    from the 'Unit Description' menu entry or from side pane.\n   * Fix bug #21977: ready blocked on scenario transition, when\n    allow_new_game=yes\n   * Add \"MAKE_ENUM\" macro to simplify parsing of WML options.\n   * \"MAKE_ENUM\" macro signals WML parsing errors when the game is run\n    in debug mode, and an illegal value for an attribute is encountered.\n   * Fix bug #21397 Reloading may cause a side's turn is not initialized.\n    This bug affected only networked mp, at least since version 1.8.\n   * [modify_side] may now alter the value of [side] defeat_condition.\n   * Fix bug #22116: unlock movement when attacking enemy+discovering in fog\n   * In mp the other players now also proceed to the next scenario if one human\n    player wins.\n   * Fix bug #21397: \"Saving and loading may cause a side's turn is not\n    initialized\".\n   * Fix bug which caused no units to be displayed when reloading an end of\n    scenario save, by stripping them from the save file. However, this does\n    not fix bug #15545, which was the reason that this behavior was introduced.\n   * Fix bug #22123 \"Replays don't reset map when reset button is pressed,\n    causing OOS\"\n   * Wesnoth reports an error if it evaluates [if] and finds no [then], [else],\n    [elseif] children, as a chat message from lua.\n   * Fix bug #22134: Campaign prefix not used in mp campaign saves\n   * Made the error messages sent to stderr when the core data dir is\n    incorrectly set more helpful.\n   * Fix bug #20126: Recursive preprocessor includes cause infinite loop\n   * Added 'faction_lock' and 'leader_lock' to SideWML to be used in MP Connect\n    screen. Fixes bug #21978.\n   * Fix bug #22231: partial moves now able to be continued in whiteboard\n   * Added wmi_pager object to control how wml menu items are displayed in\n    context menus, and allow to display more than seven.\n   * Fix an inefficient implementation of unit::invisible, in an effort to\n    address slow performance problems:\n    http://forums.wesnoth.org/viewtopic.php?f=4&t=12139&start=180#p569931\n    (Also see gfgtdf's commits trying to optimize the minimap loop)\n   * Made it so <exe location>/../ (non-Windows) or <current working dir>/../\n    (Windows) are also considered possible data directories if they contain a\n    data/_main.cfg file, intended to help with cmake builds.\n   * Fix bug #21723: team-specific items displayed to wrong players / at wrong\n    times\n   * When parsing command line args, if we fail to parse, give an error message\n    rather than crashing with no explanation.\n   * Fix bug #22305: assertion failure in unit_display.cpp\n   * Fix bug #22086: wrong or missing minimap previews displayed b/c of problems\n    with saveindex\n   * Fixed the SCATTER_UNITS macro so that it may no longer attempt to place\n    units at the map borders.\n   * Fixed bugs in [filter_vision] reported here:\n    http://forums.wesnoth.org/viewtopic.php?f=21&t=40702 [filter_vision] is now\n    a check for *any* side matching the filter to have appropriate vision.\n   * Add [has_ally], [has_enemy] to work around issues reported here:\n    http://forums.wesnoth.org/viewtopic.php?f=21&t=40702 In a side_filter,\n    [has_ally] and [has_enemy] are corrected / simplified versions of\n    [allied_with] / [enemy_of], this is an extension of the bugfixes for\n    [filter_vision].\n   * Fix [side] share_view/maps always beeing false for non-first levels in mp\n    campaigns\n   * Fixes start-of-scenario multiplaer saves (#22068)\n   * Fix bug wherein \"lobby sounds\" advanced preference didn't do anything for\n    the normal (GUI 1) lobby.\n   * Fix bug wherein dbus notifications did not have a wesnoth icon\n   * Fix bug wherein chat history synopses weren't working right in the dbus\n    notifications\n   * Default to classic minimap unit/village color coding (colored by side).\n   * Default to classic minimap terrain representation (satellite view).\n   * Display the tooltip for actions browsed in the hotkey preferences dialog.\n   * Enabled action icons in the hotkey preferences dialog.\n   * Fix bug #21717: \"F5->reload wml tree\" doesn't work in editor.\n   * Fix bug #21298: Minimap shows invisible overlays\n   * Remove carryover WML (this may make a reappearance in 1.13.0 but it is\n    considered premature now, please see github PR discussion for more info)\n   * Fix bug #22465: Minimap not redrawn after turn dialog.\n   * Fix bug #22306: move_unit moves a unit even when it shouldn't\n   * Fix minor bug where toggling accelerated speed caused two lines of print\n    messages to display on top of one another. Reported here:\n    http://forums.wesnoth.org/viewtopic.php?f=5&t=40745\n   * Fix bug #22611: loading a theme with nonexistent button images would cause\n    the program to close.\n   * Fix bug #22487: advanced preferences descriptions not showing up\n   * Fix bug #22646: Tooltips broken in replay viewer\n   * Fix bug #22643: Cannot compile with boost 1.56\n   * Fix issue where the chatlog for a replayed game could not be opened in\n    single player. The chatlog can now always be opened.\n   * Fix bug #22745: choose_track function crashes the game in certain cases\n   * Fix bug #22650: nontranslatable strings displayed in tooltips for terrain\n    icons\n   * Fixed Gameplay -> Time of Day help topic displaying the Dawn ToD picture\n    where the Second Watch picture should be used instead (bug #22537).\n   * Fixed mishandling of nested subnamespaces by the [clear_global_variable]\n    WML action causing an assertion failure (bug #21093).\n   * Fix bug #22443: Scenario Settings table has inaccurate Start Gold info in\n    certain cases\n   * Fix Grand Knight image being distorted in the sidebar\n   * Fix bug #22251: Map labels not appearing in mp\n   * Fix bug: lobby sounds not all playing. This was fixed by adding a second\n    dedicated channel for UI sounds, and moving the \"Ready to start\" sound to\n    the turn bell channel.\n   * Bug fix: another instance of \"overlapping messages\", this time with the\n    planning mode activation hotkey\n   * Fix bug #21400: Use unit 'image' with higher priority than 'image_icon'\n    for animation frames with no specified image.\n   * New filesystem implementation based on boost filesystem\n   * Added \"--noaddons\" command-line argument, prevents any add-ons from being\n    loaded.\n   * Added \"--render-image\" command-line argument, similar to --screenshot, but\n    instead of a map, it takes a wesnoth imagepath and generates at bitmap\n    with the filters applied.\n   * New gettext implementation based on boost locale. This raises min boost\n    requirement to 1.48, and adds a new dep (locale, filesystem was also added\n    above)\n   * New image scaling routine imported from the xBRZ project (HqMAME on\n    sourceforge)\n   * Now may save screenshots and other images as pngs, using SDL_SavePNG lib\n    (from github)\n   * New RNG implementation using boost::mt19937, and boost::random_device for\n    seeds. The boost random library is now a build requirement.\n   * Add \"lua\" random map generation\n   * Multiplayer server can now handle scenarios with more than 9 sides\n   * [modify_side] controller= now works in networked mp. If a null-controlled\n    side becomes alive by [modify_side] controller=ai/human then the currently\n    active client will be assiged controll\n   * Fixed a stingstream syntax error that caused the build to fail in Visual\n    Studio 13\n   * Fixed hotkeys for changing tips in titlescreen (bug #18926).\n   * Fixed problems building wesnothd using cmake if not building the game\n   * Added several new options to GUI.pyw\n   * Fixed a bug in which sides without a leader, but not defeated due to\n    defeat_condition set to no_units_left or never couldn't capture villages\n   * Fixed several Mac OS specific bugs in GUI.pyw\n   * Fixed bug 22987 for filtering on era and mods in the Multiplayer lobby.\n   * Fixed bug 23117 Invert breaks lobby filtering if Apply Filter is off.\n   * Fixed bug 23426 Show terrain description hotkey works also for shrouded\n    hexes.\n   * Fix bug #23243: Segfault while clicking during [delay] in prestart.\n   * Remove support for legacy style unit abilities descriptions.\n   * Fixed bug #23445: set default build type in cmake to \"Release\" to ensure\n    that the game is not unoptimized\n   * Increased minimum version of FriBiDi to 0.10.9 in cmake to match scons\n   * Changed how FriBiDi is found in cmake to using pkgconfig\n   * Made the file chooser dialog (used for e.g. loading maps in the editor)\n    use uniform path delimiters on Windows, fixing issues with browsing to\n    parent directories (bug #23224).\n\n## Version 1.11.11\n### Add-ons server\n   * Filenames with whitespace in them are no longer allowed.\n### AI\n   * Non-default multiplayer and Micro AIs:\n    * Fixed bugs which could lead to the AIs being disabled for the rest of the\n      turn if WML events removed or changed units during the AI turn\n    * Improved error reporting of invalid AI actions\n### Campaigns\n   * Eastern Invasion:\n    * Updated maps for scenarios 12, 14, 16 and 17a.\n    * Fixed a bug in 'Captured' which can cause the beginning to make no\n      sense.\n   * Under the Burning Suns:\n    * Fixed broken Divine Incarnation unit type in The Final Confrontation.\n### Language and i18n\n   * Updated translations: German, Italian, Slovak\n### WML engine\n   * Bug #21643: Removing fog from a single hex no longer makes the hex ugly.\n   * WML files whose names contain whitespace trigger preprocessor errors.\n   * Bug #21722: Event handlers with multiple names never fired.\n### User interface\n   * Corrected most of the issues left with the new default theme.\n    * Reintroduced the alignment, race and side being shown in the sidebar.\n    * Adjusted the theme to the size and shape of the new minimap frame images.\n    * Certain changes to the used text colors, sizes and alignment.\n   * Non-team labels no longer remove team labels that were present in the\n    same hex.\n   * New colors for the Light Red and Dark Red minimap markers.\n   * Bug #21724: 'none' is now a special case for [unit_type] ellipse\n### Miscellaneous and bug fixes\n   * Units can no longer be moved in linger mode (bug #21450).\n   * Changed: Updated valgrind suppression file.\n   * Fixed color issues with font_rgb in unit status labels in themes.\n   * Labels are now removed when shroud/fog is removed, rather than waiting\n    for a new turn (bug #21434).\n   * Percent signs show when describing traits that increase damage or attacks\n    by a percentage (bug #21577).\n   * Linux dbus notifications: Only last 5 messages are remembered, and they\n    are displayed with the most recent ones first.\n   * Fixed bug #21736: MP create screen always defaulting to top entry.\n\n## Version 1.11.10\n### Add-ons client\n   * Fixed faulty add-on _info.cfg files causing the game to display obscure\n    error messages or crash to desktop.\n   * Generated _info.cfg files now contain the list of dependencies for an\n    add-on as well (needed by wesnoth_addon_manager).\n   * Python wesnoth_addon_manager client:\n    * The dependencies= attribute and the [feedback] tag in .pbl files are\n      now properly supported (bug #21189).\n    * Generated _info.cfg files now contain the same information as the\n      game's built-in client (type and title were missing).\n### AI\n   * Hang Out Micro AI: default AI [avoid] aspect is now taken into account\n   * Fixed problems with several Micro AIs that sometimes produced OOS errors\n### Campaigns\n   * Eastern Invasion:\n    * New world map.\n    * Rewrote scenario 'Training the Ogres' and renamed it to\n      'Capturing the Ogres'.\n    * Rewrote scenario 'Captured'.\n   * Heir to the Throne:\n    * Fixed Delfador clobbering whichever unit happens to be standing on\n      31,11 at the end of The Bay of Pearls, causing it to disappear\n      forever.\n    * S15 (The Lost General): fix bug of sighted events firing too early\n   * Legend of Wesmere:\n    * Fixed missing journey map background in story screens.\n   * Liberty:\n    * Updated sprites for Shadow Mage line.\n   * Son of the Black Eye:\n    * Rebalancing of the campaign is now complete\n   * Under the Burning Suns:\n    * Updated animation WML of all campaign specific units\n* Editor:\n* Fixed: Drawing the offmap area for small resolutions.\n### GUI2\n   * Added: FAI-function handling in GUI2 widgets.\n   * Added: A new tooltip window.\n### Language and i18n\n   * Updated translations: Scottish Gaelic\n### Lua API\n   * Config of current era is now available in a Lua table in MP games\n   * Config of any era can be requested by id, also a list valid era ids\n### Multiplayer\n   * Fix for bug #21405, in a series of features:\n    * The abort option presented to the host when a player disconnects\n      from a networked game is now a \"save and abort\" option.\n    * New Idle controller status: Sides may now be set in an \"idle\" state\n      by the host when a player disconnects from a network game. This does\n      not give any player control or vision. To proceed with the game, the\n      host must reassign the side's controller using :control, :droid, or\n      :give_control as usual. (give_control existed but was not documented)\n      Related to this, there are new commands :controller which query the\n      controller status, and :idle which toggles the idle status.\n    * New \"Blindfold Replays\" option: Observers may check a box in the\n      lobby so that if they join a game, they will be \"blindfolded\" and see\n      only a black screen until they are given control of a side.\n### Units\n   * New baseframes for Jundi, Muharib, Batal, Qatif-al-nar, Qudafi, Rasikh.\n### User interface\n   * New UI for displaying errors detected during the core and add-on WML\n    loading process (parser and preprocessor errors), including the\n    ability to copy the report to clipboard.\n   * New UI for displaying the notification that a screenshot or map\n    screenshot was successfully saved to disk, including options to open it\n    in an external application, copy the path to clipboard, or browse the\n    screenshots folder.\n   * Force grayscale antialiasing for text rendered using Cairo/Pango (e.g. by\n    GUI2) on Windows to work around ClearType-induced glitches (bug #21648).\n   * Fixed bug #21584: Properly redraw the minimap when the minimap is\n    resized.\n   * Fixed: Enable blurring in the title screen.\n   * Added descriptions to the options in Preferences -> Display -> Themes.\n   * New sound played to signal the start of an MP game.\n### WML engine\n   * WML loading phase errors are reported to stderr in a new indented format.\n   * Implemented [true] and [false] ConditionalWML tags, which describe a\n    condition that always yields true or false, respectively.\n   * Fixed: Disallow change and remove sections without an id in the ThemeWML.\n   * Added [theme] description attribute for including a description of the\n    theme that will be displayed in Preferences.\n   * [theme] name attribute is now expected to be translatable and used only\n    for the theme selection UI. Existing [theme]s need to be converted to\n    have a separate 'id' attribute.\n   * [endlevel] now has two optional subtags [next_scenario_settings],\n    [next_scenario_append], which can be used to reconfigure next scenario.\n   * Optimizations made to the game events engine. Slower machines may notice\n    an improvement during movement (when enter/exit_hex events are triggered).\n    The optimization is more effective when relatively few events have variables\n    in their names.\n### Miscellaneous and bug fixes\n   * Fixed: A compilation warning with DEBUG_WINDOW_LAYOUT_GRAPHS.\n   * Added -Wold-style-cast to the CMake strict flags.\n   * Made sure that cmake does not add -NDEBUG for release builds since this\n    flag breaks building.\n   * Updated screenshots used inside the ingame help and fixed description of\n    orbs.\n   * Fixed bug #21659: lua location_set:empty now works as described\n   * Users now get a warning if they start a multiplayer scenario through the\n    title screen load button, as this may cause eras and modifications not\n    to work correctly in subsequent scenarios of an mp campaign.\n   * wmllint can now update base terrain aliases in UMC after the changes in\n    versions 1.11.8 and 1.11.9. This conversion is applied to the aliasof,\n    mvt_alias, and def_alias attributes under the [terrain_type] tag.\n   * Parser warnings when skipping over Unicode BOMs are now printed in stderr\n    with the file location and substitution trail when available.\n\n## Version 1.11.9\n### Add-ons client\n   * Display the first and last upload dates in the Description dialog.\n### Add-ons server\n   * Record the first upload date and time for new add-ons.\n   * Removed ancient compatibility code used only for add-ons stored by some\n    1.5.x versions.\n### AI\n   * Default AI: Gold saving is turned off by default again\n   * New macros AI_SAVE_GOLD and AI_SAVE_GOLD_DEFAULT for easy enabling of\n    recruitment gold saving in specific scenarios\n   * Wolves Micro AI: new optional parameter attack_only_prey=\n### Campaigns\n   * Heir to the Throne:\n    * Gave Li'sar a new ability \"initiative\" (grants adjacent allies first\n      strike in melee).\n   * Son of the Black Eye:\n    * Rebalancing of the campaign continues and is done for Scenarios 1 (End\n      of Peace) through 12 (Giving Some Back).  In addition, the following\n      not directly balance related changes have also been made:\n    * S3: remove AI controller right-click menu option\n    * S4 & S9: make AI attack enemies 1 XP from leveling so that it is not\n      possible to block key locations with such units\n    * S10 & S12: don't give huge unannounced gold bonus to AIs\n### Editor\n   * Added Impassable Overlay and Unwalkable Overlay terrains to the obstacle\n    group.\n   * Added Snowy Human City village terrain to the frozen group.\n   * Added Cave Path terrain to the flat group.\n   * Added Dry Hills terrain to the fall group.\n### Language and i18n\n   * Updated translations: Dutch, Portuguese, Scottish Gaelic\n### Lua API\n   * Added wesnoth.set_dialog_markup function (patch #2759).\n### Multiplayer\n   * Updated map: Ruins of Terra-Dwelve.\n### Terrains\n   * Made Snowy Encampment, Snowy Orcish Castle, Snowy Encampment Keep and Snowy\n    Orcish Keep aliases of both castle and frozen terrains\n### Units\n   * Decreased the strikes of the Dwarvish Lord's hatchet attack from 2 to 1.\n   * Fixed subtle magenta TC for the Giant Mudcrawler sprites not being\n    enabled in-game.\n### User interface\n   * Restored the old control scheme as the default\n   * Fixed hidden variations of unit types (hide_help=yes) being listed in the\n    help browser when they shouldn't.\n   * Gray-out GUI1 scrollbar upwards scrolling button by default when starting\n    with the view scrolled to the top.\n   * Truncate long Advanced Preferences entries with ellipses to avoid\n    situations where the listbox is wider than the Preferences dialog frame\n    (bug #19482).\n   * Team color is now applied on the Unknown unit icon in the game Status\n    Table regardless of whether the side's leader unit supports team color.\n### Miscellaneous and bug fixes\n   * Added -Wno-documentation-deprecated-sync to the CMake pedantic flags.\n   * Fixed several Doxygen issues found by Clang 3.4.\n   * Fixed possible invalid memory access issue in the MP sides configuration\n    code causing crashes for some users (bug #21449).\n   * Fixed broken image references in the Gameplay -> Time of Day help topic.\n   * The internal variables used by the LIMIT_RECRUITS WML macro are now\n    cleared on victory.\n   * Fixed missing log error message for invalid music tracks set with\n    play_once=yes (bug #21479).\n   * Don't force the .gz suffix on every entry of the save_index (bug #20849).\n   * Fixed a bug in [filter_vision] in SUFs that caused a hidden unit under\n    fog/shroud to produce a false positive.\n   * A lack of ToD schedule no longer causes segfaults (bug #21489).\n   * SLF work again when x XOR y is specified (bug #21488).\n   * Selecting off-map hexes, then hovering over a unit no longer causes\n    the game to crash (bug #21351).\n   * Changed: Added -Wextra-semi to pedantic compilation.\n   * Changed: Added -Wconditional-uninitialized to pedantic compilation.\n   * Fixed NULL pointer dereference when viewing units in the Recall Unit\n    dialog including nonexistent/unreadable images in their overlays, while\n    not in debug mode.\n\n## Version 1.11.8\n### Add-ons client\n   * Introduced new add-on type \"SP/MP Campaign\" for campaigns with\n    \"type=hybrid.\"\n   * Fixed invalid file size data from the server crashing the client on the\n    network transfer progress dialog (bug #20893).\n   * Added support for specifying a feedback page URL in the .pbl file when\n    publishing an add-on, currently intended for associating add-ons in the\n    official add-ons server with topics from forums.wesnoth.org; this is\n    achieved by including a [feedback] block with a topic_id=<number> key in\n    it.\n   * Redesigned Add-ons Description dialog, including support for displaying\n    add-on feedback page URLs.\n### Add-ons server\n   * Fixed mishandling of inaccessible add-on packs resulting in multiple data\n    conversion errors and stalling clients (bug #20893).\n   * Added support for managing and emitting add-on feedback page URLs to\n    clients ([server_info] feedback_url_format option in the server\n    configuration file).\n### AI\n   * RCA AI: fix bug #21334: surrounded units don't attack\n   * Coward Micro AI: new optional parameter [filter_second]\n   * Simple Attack Micro AI: new optional parameter weapon=\n   * Wolves Micro AI: fix bug that sometimes kept predators from attacking\n   * Lua AI: new replay-safe action ai.synced_command()\n   * ai.cfg: fix MEDIUM to NORMAL in attack_depth macro\n### Campaigns\n   * all: convert many wmllint magic comments from \"recognize\" to \"who\" and\n    \"whofield\",\n   * Dead Water:\n    * New world map.\n   * Delfador's Memoirs:\n    * Updated sprite and animations for the Wose Shaman.\n   * Descent into Darkness:\n    * S3: set aggression=1 for Side 4 to avoid wrong choice of attack\n   * Eastern Invasion:\n    * Made Dacyn use teal TC and Mal-Ravanal blue TC, to make them fit the\n      portraits more.\n    * Updated maps for scenario 1-7.\n   * Heir To The Throne:\n    * Increased Li'sar's lvl3 hitpoints from 52 to 62.\n    * Implemented the portrait variations for Delfador and Asheviere.\n    * Changed Kaylan's portrait and gave him teal team coloring.\n    * Changed the flaming sword so it's now a 25% increase to damage, instead\n      of changing the damage to 15-4\n    * Added a new mechanic to Sceptre of Fire. By standing still for a turn,\n      Delfador can now tell the player the shortest path to the Sceptre.\n    * Fixed Konrad's level 1's attack animation giving an 'image not found'\n      error.\n    * Fixed Konrad's dying words event.\n   * Legend of Wesmere:\n    * S9: set aggression=1 for Side 4 to avoid wrong choice of attack\n   * Liberty:\n    * New world map.\n    * S5: set aggression=1 for Side 3 to avoid wrong choice of attack\n   * Northern Rebirth:\n    * S5a: dialogue tweaks\n   * The Rise of Wesnoth:\n    * New world maps.\n    * Redesigned scenario 'A New Land'.\n   * The South Guard:\n    * S6a: fix ogre's last words event\n    * S6b: set aggression=1 for Side 2 to avoid wrong choice of attack\n   * Son of the Black Eye:\n    * Rebalancing of the campaign continues and is mostly done for Scenarios 1\n      (End of Peace) through 8 (Silent Forest).  In addition, the following\n      not directly balance related changes have also been made:\n    * S1: the AI enemy can now also recruit bowmen\n    * S4: give the player control of the Side 3 orcs in the center castle\n    * S6: unload units from transport galleons preferentially onto land hexes\n    * S7: use Simple Attack Micro AI to have scorpions spread poison\n    * S8: use Healer Support Micro AI for elvish healers\n    * S16: Kapou'e gets his own castle at the start of the scenario to\n      eliminate dependence on luck during the first turn\n    * S17: add a warning that the AI will receive reinforcements\n    * S18: no linger mode at the end of the last scenario\n    * Minor updates to messages (grammar and prose) and objectives.\n    * Updated sprites and animations for the Orcish Shamans.\n### Graphics\n   * New and updated animations for the Loyalist Horseman.\n### Language and i18n\n   * Updated translations: Catalan, Chinese (Traditional), Dutch, Galician,\n    Japanese, Latin\n### Lua API\n   * Added flag, flag_icon, and village_support fields to wesnoth.sides table\n    elements.\n   * Made wesnoth.sides[n].hidden a read-write field.\n   * New lua proxy table \"wesnoth.game_config.mp_settings\" for access to\n    MP specific settings, such as era, scenario name, and timer\n### Multiplayer\n   * Unit names and genders are synced in MP games.\n   * Added new CampaignWML attribute \"require_campaign\". If set to \"yes\",\n    players not having campaign installed won't be able to join the game.\n   * New eras: the Default+Khalifate and Age of Heroes+Khalifate eras are now\n    available.\n### Replays\n   * Replays include the prestart and start events again.\n   * Unit names and genders are synced between games and replays.\n   * Play/stop buttons are disabled again at the end of a replay.\n   * The 'reset replay' button works correctly and does not cause OOS\n    errors any more.\n### User interface\n   * Removed the possibility to undo unit recruits because it caused oos.\n   * Added a party full bell to the MP game configuration screen, played once\n    all human player slots have been taken.\n   * Change layout for advertized games in the MP lobby and add map icon.\n   * Moved color cursors option to Advanced Preferences.\n   * Always hide and disable color cursors option on Mac OS X since it's known\n    to cause severe lags that render the cursor unusable.\n   * Unit overlays are now displayed in the Recall dialog, both on the list\n    and the description panel.\n   * Made filtering controls on the MP create screen functional.\n   * Removed the MP custom options dialog; all options are now shown directly\n    on the configuration screen.\n   * Removed the MP modifications dialog; modifications are now displayed\n    directly on the creation screen.\n   * The \"Compressed saves\" and \"Compress savegames using bzip2\" options in\n    Preferences -> Advanced have been replaced by a single option,\n    \"Compressed saved games\", that lets the user pick between gzip (default),\n    bzip2, and no compression. Users who previously enabled bzip2 compression\n    will need to do so again.\n   * Hide eras menu in MP Create for campaigns which have\n    \"allow_era_choice=no\".\n   * Introduced side's name in MP Connect.\n   * Middle click scrolling is now based on distance from initial click instead\n    of the centre of the screen.\n   * Make sliders able to be scrolled with the mouse wheel\n   * Allow advanced preference booleans and mp modifications to be toggled\n    via double click\n   * Fixed slight scrolling glitches with credits sections with multi-line\n    headers (e.g. those generated for campaigns with multi-line titles).\n### WML engine\n   * WML variable turn_number is set correctly (to 1) in prestart and start\n    events.  Previously, it retained its last value from the previous scenario\n    until after the start event.\n   * [scroll_to] and [scroll_to_unit] now take an optional side filter.\n   * [trait] now accepts a \"generate_description=\" attribute, allowing the\n    auto-generated effect descriptions to be turned off.\n   * [modify_side] can now change a side's flags and status bar icon using the\n    \"flag\" and \"flag_icon\" attributes also accepted in [side] definitions\n    (bug #18454).\n   * [store_side] now stores the \"flag\", \"flag_icon\", and \"village_support\"\n    attributes from sides.\n   * New macros RECALL and RECALL_XY\n### Miscellaneous and bug fixes\n   * Pango markup is applied correctly and consistently in button tooltips.\n   * Fixed mishandling of invalid Pango markup resulting in previous messages\n    being displayed instead in e.g. [message] (bug #20996).\n   * Added wmllint code for recognizing unit id fields in macros, added\n    non-attribute lines to local_sanity_check, added unknown speaker check.\n   * Refactored code in wmltools to create a macro-parsing function.\n   * Added era descriptions.\n   * Fixed file chooser dialog (used in the map editor and for locating the\n    wesnothd executable) interpreting special markup at the beginning of file\n    names such as \"#foo.map\".\n   * Fixed bug with modifications dependency check dialogs (bug #21365)\n   * Fixed bug with scrollbar overlaying mp description text (bug #21364)\n   * Fixed bug with help units not making links (bug #21339)\n   * Split command line option --config-dir into --userconfig-dir and\n    --userdata-dir, with --userconfig-dir defaulting to --userdata-dir's\n    value on some platforms.\n   * The color_adjust_blue_ attribute in [display] tags of saved games has\n    been renamed to color_adjust_blue. Since it is only non-zero following a\n    [color_adjust] action in a WML event, only mid-scenario saved games\n    created with previous versions may present minor color issues after this\n    change.\n   * Fixed sound sources removed while the sound effects volume is zero\n    (either in Preferences -> Sound or through the [volume] WML action)\n    persisting and escaping the sound source management code (bug #21426).\n   * The negative sign is no longer dropped when formula AI prints numbers\n    between 0 and -1.\n\n## Version 1.11.7\n### Add-ons client\n   * Add-ons downloaded with clients from this version onwards are shown\n    in the Remove Add-ons with their original titles from the add-ons\n    server now, instead of artificially generating titles by replacing\n    underscores from file names.\n   * Fixed color key disparities between the Add-ons Manager dialog and the\n    add-on Description dialog.\n   * It is now possible to choose the neutral/fallback add-on sorting in\n    the Add-ons Manager dialog used when no columns have been sorted by\n    the user.\n   * Report errors caused by faulty local .pbl files properly instead of\n    presenting them as network errors.\n   * Fixed regression from 1.11.0 resulting in memory leaks and/or\n    crash-to-desktop situations when failing to connect to an add-ons\n    server.\n### Add-ons server\n   * Implemented read-only mode option (read_only boolean attribute in\n    server config WML, defaults to \"no\").\n### AI\n   * Recruitment CA:\n    * New Recruitment CA located in src/ai/recruitment is now default CA\n    * Created new AI cfg \"Strong AI (RCA)\" with stronger recruitment\n    * Created new AI cfg \"Old Recruitment CA\" in ai/dev/ to use the old CA\n   * External CAs are now fully usable\n    * The persistent data variable works and is accessible across CAs\n    * Parameters can be passed to eval/exec functions\n   * Micro AIs:\n    * New Simple Attack Micro AI\n    * All MAIs changed to using external CAs.  This means that no engine\n      definitions are needed any more and that MAIs can be combined at will\n    * Got rid of animal_type=, guardian_type=and recruiting_type= keys.  The\n      individual Animal, Guardian and Recruiting MAIs are now separate AIs\n      that are selected with the ai_type=key\n    * Patrol, Guardian and Hunter MAIs are now side-wide CAs (not BCAs) and\n      support either the id= key or [filter] tag for unit selection\n    * Messenger MAI now works with units (both messenger and escort) without\n      weapons and when path to next waypoint is entirely blocked\n   * Experimental AI:\n    * Added new CAs Retreat, Move to Enemy and Village Hunting\n    * Algorithm improvements for several CAs\n   * Fixed time_of_day aspect so it matches time-of-day ids, not names\n    (e.g. \"Morning\" vs \"morning\"), so most use cases of ToD-dependent AI\n    configuration work again (suspected version 1.7.4 regression).\n   * Move_Leader_To_Keep CA will now move all leaders back to a keep\n    (multiple leader support for recruitment)\n   * Refactored the AI-Test-Suite completely (/utils/ai_test/)\n   * Changed AI descriptions in ai/dev/ displayed in MP computer player menu\n   * New macro AI_CONTROLLER_ALLOW_UNIT_CONTROL\n   * Remove macro RCA_STAGE\n### Campaigns\n   * A Tale of Two Brothers:\n    * Crop campaign icon to fit campaign selection dialog (fixes bug #20935)\n   * Dead Water:\n    * Converted animation WML to the new syntax\n   * Delfador's Memoirs:\n    * Converted animation WML to the new syntax\n   * Descent Into Darkness:\n    * Converted animation WML to the new syntax\n   * Eastern Invasion:\n    * Converted animation WML to the new syntax\n   * Heir To The Throne:\n    * Converted animation WML to the new syntax\n    * Gave Moremirmu a matching holy sword attack icon (bug #21248).\n   * Legend of Wesmere:\n    * Removed now redundant MP code.\n    * Added new CampaignWML attributes: \"type\", \"min_players\", \"max_players\".\n    * Added new ScenarioWML attributes: \"new_game_title\", \"force_lock_settings\".\n    * Adjusted \"controller\" and side recruits for MP.\n    * Now uses default recruitment instead of experimental FAI-recruitment\n      in 02_Hostile_Mountains.\n   * Liberty:\n    * New AI for wolf riders in \"The Raid\"\n    * Converted animation WML to the new syntax\n    * Gave the Death Squire the submerge ability.\n    * Increased the Death Squire's blade resistance from 10% to 40%,\n      pierce resistance from 30% to 60% and lowered its impact resistance\n      from -10% to -20%.\n    * Greatly decreased the Death Squire's HP from 66 to 44.\n   * Northern Rebirth:\n    * S5a: added dialog for dungeon signpost moveto\n   * Sceptre of Fire:\n    * Converted animation WML to the new syntax\n   * Son of the Black Eye:\n    * Rebalancing of campaign started to make it more difficult in accordance\n      with its status as an expert level campaign.  Scenarios 1 - 3 done so\n      far.  In addition, the following, not directly balance related changes\n      have also been made:\n    * S3: scenario now ends after dwarf leader is killed (no need to continue\n      to the signpost any more)\n    * S3: add possibility to give Grüü instructions\n    * S6: new Lua AI code for the transports with somewhat different behavior\n    * S14: Kapou'e cannot recruit troll whelps any more (this scenario only)\n    * S14: \"It is now Grüü's turn\" displayed correctly on Side 4 turn\n    * S16: fix recalling of alternative units if Jetto/Inarix have been killed\n    * S18: Howgarth's death now results in defeat, as stated in objectives\n    * S18: Shan Taum death dialog shown correctly if Kapou'e kills him himself\n    * Minor updates to many messages, objectives, moves, AIs etc.\n    * Message images that would cover the speaker moved to the right\n    * Converted animation WML to the new syntax\n   * The Hammer of Thursagan:\n    * Converted animation WML to the new syntax\n   * The Rise of Wesnoth:\n    * Converted animation WML to the new syntax\n   * The South Guard:\n    * Converted animation WML to the new syntax\n   * Tutorial:\n    * Converted animation WML to the new syntax\n   * Under the Burning Suns\n    * Fixed several bugs with missing/incorrect dialog\n    * Azkotep now correctly possesses Garak if only his champion is killed\n### Engine\n   * CampaignWML support for MP including difficulties, extra defines etc.\n   * Use the same codepath to initialize every MP campaign's scenario, thus\n    allowing the display of a functional MP \"Connect/Wait\" screen before the\n    next scenario.\n   * Reload game config for non-host players in order to match the host's\n    config, if possible. Reloads will only happen for MP campaigns using\n    CampaignWML syntax.\n   * Imagepath function \"~ROTATE\": Support for rotating by any degree.\n### Graphics\n   * Full animations for the Dwarven Thunderer line.\n   * New standing animation for the Dwarvish Berserker.\n   * New north-facing standing and attack animations for the Loyalist Spearman.\n   * New ranged attack animations for the Dark Adept line.\n### Language and i18n\n   * Updated translations: British English, German, Greek, Indonesian, Italian,\n    Korean, Lithuanian, Portuguese, Vietnamese\n   * Improved internationalization of notifications on Windows and OS X.\n   * Introduced translations for months and weekdays, which are used when user\n    does not have locale installed.\n   * Show am/pm designations, if required, even when locale doesn't support\n    them.\n### Lua API\n   * Added scroll_to_leader field (read/write) to wesnoth.sides table\n  elements.\n### Multiplayer\n   * Fixed clearing map data when there is no shroud and level is sent\n    with \"store_next_scenario\".\n   * Update game's side data, slots and state in server during next scenario\n    initialization.\n   * Fixed reserved sides being counted as available in server.\n   * Added \"controller_lock\" in SideWML. The lock provides a way to be sure\n    that sides will be played with a controller which was assigned in WML.\n    I.e. if \"controller\" was set to \"ai\", it won't be possible to select any\n    other controller for a side. However, if \"controller\" was set to \"human\",\n    it will still be possible to assign any player, local, network or\n    reserved (if applicable) controller.\n   * All multiplayer locks in SideWML (e.g. \"team_lock\"), now uses\n    \"force_lock_settings\" as their default value.\n### Unit changes and balancing\n   * Gave the Death Knight the submerge ability.\n   * Increased the Death Knight's blade resistance from 10% to 40%,\n    pierce resistance from 30% to 60% and lowered its impact resistance\n    from -10% to -20%.\n   * Lowered the Death Knight's HP from 66 to 63.\n   * Lowered the Chocobone's hills defense from 50% to 40%,\n    mountain defense from 60% to 50%, fungus defense from 60% to 40%,\n    forest defense from 50% to 30%, and village defense from 60% to 40%.\n   * Increased the Chocobone's melee damage from 9-2 to 11-2.\n   * Increased the Chocobone's blade resistance from 10% to 20%.\n### User interface\n   * Players can now assign hotkeys to wml menu items in the preferences menu.\n   * Help Browser:\n    * Units with variants are shown as sections with their childs as topics.\n    * Links to the siblings in unit variants.\n    * Links to the base unit of none variants.\n   * MP \"Create\" screen has been revamped by moving scenario configuration\n    widgets to a new MP \"Configure\" screen, introducing a description box,\n    adding a combo selection for different types of game, and adjusting it to\n    work well with MP campaigns.\n   * MP \"Configure\" and \"Connect\" screens have been adjusted to allow to see\n    all scenarios and sides in the debug mode.\n   * MP \"Lobby\" game item has been updated to display information about\n    campaigns correctly.\n   * In-game Chat Log dialog now supports text search on timestamps, nicks,\n    and messages.\n   * Possible fix for clipboard integration issues with GUI2 widgets on X11.\n   * Fixed potential misbehavior (including invalid memory access) from the\n    tray notifications code on Windows.\n   * New Game Paths dialog displaying filesystem locations used by the game\n    to read or write data, accessed from Preferences -> General.\n### WML engine\n   * New [disable] weapon special.\n   * New variation_id attribute with the function of former variation_name.\n   * variation_name is now the translatable name of the unit variant.\n   * The \"variation=\" attribute works now in [unit_type] and serves\n    as the default variant.\n   * [store_side] now stores the scroll_to_leader attribute from sides.\n   * Added new CampaignWML attributes: \"type\", \"min_players\" and \"max_players\".\n   * Added new ScenariowML attributes: \"new_game_title\",\n    \"remove_from_carryover_on_leaders_loss\" and \"force_lock_settings\".\n   * Allow numerical values for SideWML \"controller\" attribute.\n   * Allow WML menu items to use hotkeys alongside/instead of the menu.\n   * Really added sighted events for ambushing units.\n   * [scroll] now takes an optional side filter.\n   * Some support for negative healing. This is not guaranteed to work correctly\n    in all cases, but it does restore the basic functionality that was\n    (probably accidentally) in 1.10.\n   * Overhaul of the game events engine. Fixes some obscure bugs, like #21031,\n    and grants feature request #18713.\n   * Added new set_icon attribute for [effect] apply_to=attack.\n   * New attribute in [unit_type]: healed_sound. These\n    attributes allow for customization of the sounds played when the unit\n    is healed.\n### Miscellaneous and bug fixes\n   * Added -256 and -512 color shifts to FADE_TO_BLACK and FADE_TO_BLACK_HOLD\n    macros to account for ToD color shifts greater than -31, guaranteeing\n    complete darkness.\n   * Unit WML frames with image modifications are now shown correctly for\n    hits/death.\n   * Fixed compare_images.py (called by wesnoth-optipng) and pofix.py to\n    function with python-3.2.\n   * Refactored and split the MP \"Create\" and \"Connect\" screens' code into\n    gui and engine parts.\n   * Lock faction, leader, and gender selections in MP \"Connect\" if default\n    values are provided and \"force_lock_settings\" is set to \"yes\".\n   * Fixed runtime error due to mismatched function call conventions in\n    set_preferences_dir() when built with MSVC++ 2010 and a relative path\n    to My Documents was passed with --config-dir in the command line.\n   * Changed: Added -Wno-deprecated-register to strict compilation.\n   * Added command line option \"--multiplayer-repeat <arg>\".\n    A game started with --multiplayer will be repeated <arg> times.\n    This is useful for batch testing.\n   * Animation WML: Fix sound start time in additional frames without\n    requiring a duration 1 frame workaround.\n   * Animation WML: Fix halo in additional frame persisting without blank\n    hex workaround at start and end if a shorter frame.\n   * New MISSILE_FRAME_FIREBALL_XY macro, used in red mage line.\n   * Fixed crash on delete of last save.\n   * The MISSILE_FRAME_MUZZLE_FLARE_MISS macro nowrequires an X and Y\n    argument.\n   * Added placehoder attack animations to the Fire Dragon.\n   * New MISSILE_FRAME_CHILL_WAVE and MISSILE_FRAME_SHADOW_WAVE macros,\n    used in the dark adept line.\n   * New knife sound for thunderer line.\n   * Fix bug #20936 with shuffle sides and incorrect initial side villages.\n   * Fix bug #20564: crash of replays of games started from scenario start save\n   * Fix bug #20124: animation not updated on [un]petrifying units with WML tags\n   * Fix bug #21264: Loading a turnsave in campaign sets negative gold to 0\n   * Fix unreported bug of Wesnoth sometimes crashing on killing unit under\n    cursor from context menu in debug mode\n\n## Version 1.11.6\n### Add-ons client\n   * The Description popup displays the selected add-on's dependencies now,\n    using color-keyed statuses.\n   * Circular dependencies are no longer treated as erroneous in terminal\n    output.\n### AI\n   * Micro AIs:\n    * New Hang Out Micro AI\n    * Any number of Micro AIs can now be combined on the same side\n    * Goto MAI: new parameters avoid_enemies=, ignore_units= and ignore_enemy_at_goal=\n    * Goto MAI: [filter] is now an optional parameter\n    * ca_id is now an optional parameter for all MAIs\n    * ca_score is now an optional parameter for almost all MAIs\n    * Bug fixes for Patrol, Messenger, Multipack Wolves and all Guardian MAIs\n    * [goal] tags in [ai] blocks with turns= or time_of_day= will now work.\n### Campaigns\n   * An Orcish Incursion:\n    * New world map.\n   * Descent Into Darkness:\n    * New world map.\n   * Legend of Wesmere:\n    * convert to \"wmllint: who\" magic comments\n   * The South Guard:\n    * Fixed double \"lich found\" event in Choice in the Fog\n### Language and i18n\n   * Updated translations: Galician, Japanese, Lithuanian, Russian, Scottish Gaelic\n### Lua API\n   * Added: function wesnoth.find_cost_map().\n### Units\n   * Added description for the Wose race.\n### User interface\n   * Unit ellipses are now automatically updated if a unit gains or loses its ZoC\n### WML engine\n   * If [recall] cannot find a unit to recall, the message is logged at the\n    \"info\" severity level in the \"wml\" domain (instead of the \"error\" level in\n    the \"engine\" domain). This means the message will be suppressed by default.\n   * Allowed [modify_side] to modify the scroll_to_leader key\n### Miscellaneous and bug fixes\n   * Creating a unit via debug mode now clears fog/shroud around the unit.\n   * [move_unit_fake] now accepts an optional force_scroll= attribute (def. to\n    'yes') that allows scrolling the viewport even when [lock_view] is in\n    effect or Follow Unit Actions is disabled in Advanced Preferences.\n   * [move_unit] accepts an optional force_scroll= attribute like\n    [move_unit_fake] above, defaults to using the [move_unit_fake] default.\n   * Added: Feature in pathfind.xpp to build a cost map.\n   * wmllint: turn on globbing on Windows, create \"who\" and \"unwho\" magic\n    comments, bugfixes\n   * wmllint-1.4: add an enhanced and bugfixed version of wmllint 1.4 for\n    porting old add-ons\n\n## Version 1.11.5\n### Add-ons client\n   * Do not bump the download count for add-ons that are currently installed\n    and are being reinstalled or upgraded\n### Add-ons server\n   * Restricted names (not titles) for newly uploaded add-ons to ASCII hyphens,\n    underlines, and alphanumerical characters. Previously uploaded add-ons\n    are exempt from this change.\n### AI\n   * New macro EXPERIMENTAL_AI for using Experimental AI in both SP scenarios and MP maps\n   * Recruiting in Micro and Experimental AIs: allow more terrain codes for castles/keeps\n   * Improved/Added: Command 'lua wesnoth.debug_ai([side]).ai' will now give access to the\n    ai-table of [side].\n   * Improved AI behavior when using goto_x / goto_y in WML\n   * Micro AIs:\n    * Zone Guardian: Add optional station_x,station_y= keys\n    * Goto: don't exclude leader by default\n    * Bug fixes in Return Guardian, Healer Support and Goto MAIs\n   * Experimental AI: fix bugs that disabled recruiting for some UMC weapon specials\n### Campaigns\n   * All:\n    * replaced deprecated aspects with [goal] aspect\n   * Heir to the Throne:\n    * Updated Li'sar's movetype and resistances to match her armor.\n   * Legend of Wesmere:\n    * Scenario 05: Elvish Horse Archers can now carry the treasure\n    * Scenario 09: the player's loyal units stay in the recall list, instead of\n      being stored and then unstored in scenario 14\n   * Under the Burning Suns:\n    * Scenario 8 (Out of the Frying Pan): Fix messenger AI (Lua errors and wrong goal)\n### Engine\n   * Made game config loading more modular by extracting appropriate\n    functionality from game controller and adding it to a new class.\n    Wrapper functions for editor's and game's config loading were added.\n### Graphics\n   * New scorpion baseframe (replaces old image set)\n   * New skeletal dragon baseframe (replaces old image set)\n   * New cavalryman line baseframes (replaces old image set)\n   * New elven cavalry units baseframes (replaces old image set)\n   * New paladin, knight, grand-knight, lancer baseframes (replaces old image set)\n   * New giant mudcrawler baseframe and animations (replaces old image set)\n### Language and i18n\n   * Updated translations: French, Galician, Latin, Lithuanian, Old English,\n    Portuguese, Portuguese (Brazil)\n### Lua API\n   * location_set.of_pairs() now can take coordinates defined by x/y= keys as well\n   * Fixed the x1,y1 variables in enter/exit_hex events handled via\n    wesnoth.game_events.on_event.\n### User interface\n   * Added notification support for Windows\n   * Made it so that the \"Back to Turn X\" and \"Back to Start\" menu items work\n    with .bz2 saves\n   * Removed Dfool and Experimental themes\n   * Major visual overhaul:\n    * Most UI elements have new images\n    * Button sizes have been standardized; regular buttons are 108x22 (H22), menu\n      buttons are 100x20 (H20), square buttons are either 25x25 or 30x30 depending\n      on purpose.\n    * Regular and menu buttons are now in subdirectories of images/buttons/\n    * Button icon overlays are now in images/icons/\n    * Icons can now be overlaid on a team-colorable base provided in images/buttons.\n    * New team color ranges have been introduced for this purpose.\n   * Added possibility to kill unit under cursor with context menu in debug mode.\n### WML engine\n   * Added new aspect 'advancements' which with lua engine can handle a\n    function return type of the form f(x, y) -> String. 'advancements'\n    tells the AI to what unit a given unit should advance to.\n   * Fix \"Shuffle sides\" incorrect behaviour: children inside [side] were also\n    swapped.\n   * Fixed incorrect image path function name in error messages generated by\n    using ~CROP() with negative coordinates.\n   * Fixed abilities sometimes affecting self during movement even when they are\n    flagged as not affecting self (bug #20755).\n   * Added deprecation messages to aspects [target], [protect_unit], [protect_location],\n    protect_leader=, protect_leader_radius=\n   * Fixed bug #20836: advancing units can fire events in [harm_unit] if fire_event=yes\n   * Advancing units can be animated by [harm_unit] if animate=yes\n   * Added deprecation message to aspect [goal] when using \"name=protect_my_unit\".\n### Miscellaneous and bug fixes\n   * Fixed minor issue with Drake Clasher animations\n   * Added a new playlist FULL_MUSIC_PLAYLIST, which contains all Wesnoth tracks\n    in alphabetical order\n   * Added -Wno-null-conversion to the CMake pedantic flags.\n   * Changed: Decreased the pango cairo dependency to version 1.21.3.\n   * Changed: Mark system headers as system headers in CMake.\n   * Fixed the recall list sometimes getting confused when dismissing a recall.\n   * Prevent unchecked memory access in cut_surface()\n   * Remove game controllers: new and abstract. Were never properly implemented.\n   * Remove --new-syntax command line option. Was never properly implemented.\n   * Several wmllint additions: remove backslashes and userdata/ from paths, convert\n    data/campaigns/ to data/add-ons/, give more detailed message for color spec to\n    Pango fix-up, delete files on Windows before rename.\n\n## Version 1.11.4\n### AI\n   * Reverted new Lua AI persistent storage mechanism for external CAs that\n    would crash Wesnoth under certain circumstances in 1.11.3. This will be\n    re-committed in an upcoming release.\n   * Micro AIs\n    * Healer Support MAI now respects RCA AI [avoid] aspect.\n\n## Version 1.11.3\n### AI\n   * Micro AIs\n    * New Goto and Zone Guardian MAIs\n    * Change SUF/SLF names to [filter]/[filter_location] and variants thereof\n    * Add optional SUF to Healer Support MAI\n### Campaigns\n   * Descend into Darkness:\n    * Fix the surviving orc leader starting poisoned after scenario 5.\n### Language and i18n\n   * Updated translations: Chinese (Traditional), Indonesian, Italian, Polish,\n    Portuguese, Russian, Vietnamese\n### User interface\n   * Fixed 'end turn' button's state in MP and title2 issues.\n   * Fixed (bug #17220): Cursor in gui2 text box now behaves appropriately after\n    text box overflow occurs.\n   * Change Difficulty checkbox in Load Game dialog in GUI1 gets disabled if\n    change in difficulty of a loading game won't take effect (bug #20381).\n   * Fixed 'end turn' button's state issue: button stays disabled after the first turn.\n   * Fixed bug #20592: dialog (wml_message.cfg) is shifted by the\n    distance between the left edge of the screen and the game map\n   * Overhaul of the editor's gui\n### WML engine\n   * Fixed invalid memory access issues caused by subnamespaced persistent WML\n    variables (bug #20385).\n   * fix negative gold carried over (bug #20676)\n   * Allow filtering on controller= in SSFs. Cannot be used in networked multiplayer.\n   * When controller in 'side' tag is ai, use 'no' as default value\n    for 'allow_player' attribute.\n### Miscellaneous and bug fixes\n   * Switched to git version control. Hosting moved to SourceForge\n   * Improved: Autorevision based revision numbers in CMake.\n   * Don't let petrified units reveal ambushers\n\n## Version 1.11.2\n### Add-ons client\n   * Fixed bug #20518: identical add-ons titles not supported\n   * Add a button to the Filter Options dialog to toggle all currently\n    displayed add-on categories at once\n### AI\n   * Experimental Multiplayer AI\n    * Improve recruitment, notably first turn choices and units with poison\n      and charge\n    * Improved selection of units for village stealing\n    * Remove dependency on AI-demos add-on\n    * Fix bug when playing on maps with a turn limit\n    * Fix bug handling regeneration\n    * Minor improvements in switching between castles\n    * Add healer support micro AI to improve healer use\n    * Improved village capturing\n    * Retreat badly injured units more effectively\n   * New [micro_ai] tag, 18 different Micro AIs, and 14 test scenarios\n    * This includes AIs for 7 different animal behaviors, bottleneck defense,\n      2 different guardians and a coward, healer support, lurkers,\n      messenger escort, patrol, protect and move a unit, and 2 alternative\n      recruiting strategies.\n    * Documentation at https://wiki.wesnoth.org/Micro_AIs\n   * New leader_ignores_keep AI aspect that lets AI leader take part in the same\n    AI moves as the non-leader units.\n   * Rename passive_leader_shares_keep candidate action to leader_shares_keep.\n    The old syntax still works for backward compatibility (for both CA and\n    macros).\n   * Fix minor bug in leader_shares_keep candidate action that occurred\n    under some circumstances when the AI leader does not have full MP\n### Campaigns\n   * Sceptre of Fire:\n    * Allow game to continue after completing scenario (reported in forums)\n   * Son of the Black Eye:\n    * Prevent infinite loop if fewer than two transport ships (bug #20389)\n### Graphics\n   * New bigmaps for the title screen and campaigns HttT, TSG, SoF and SotBE\n   * Fix layering error with bridges\n### Language and i18n\n   * Updated translations: British English, Chinese (Traditional), Dutch,\n    Estonian, French, Galician, German, Italian, Japanese, Latin, Lithuanian,\n    Portuguese, Portuguese (Brazil), Slovak, Vietnamese\n### Lua API\n   * new wesnoth.get_time_stamp() function\n   * new helper.shuffle() function\n   * The wesnoth.transform_unit() function no longer performs a full heal. It\n    will (still) enforce the resulting unit's maximum hit points, though.\n   * The wesnoth.transform_unit() function will automatically remove poison from\n    a unit that is immune after transforming.\n### Multiplayer\n   * Moved new lobby option in Preferences -> Multiplayer to Advanced\n    Preferences and clarified description\n   * MP command-line mode now works correctly, including replays, random maps\n    and default values (bugs #19853, #19877, #19883, #19895 and #20009)\n   * New --ignore-map-settings MP command-line option\n   * Fixed some issues with Dark Forecast skipping spawns and failing to end.\n### User interface\n   * Allow copying the selection in the old (default) lobby using\n    Ctrl+C/Command+C (bug #5877)\n   * Color coded the resistance table in the hp display's tooltip.\n   * Scale down unit baseframes larger than 72x72 in the Recruit and Recall\n    dialogs to prevent all list entries from being enlarged to fit\n   * Tooltip for the movement points display shows the movement costs.\n   * Updating the shroud after delaying shroud updates is done gradually instead\n    of instantly.\n   * Fixed (bug #18970): Moving a unit after closing a click dismiss dialogue.\n   * Increased bottom padding for story screen text when it reaches the bottom\n    of the screen.\n   * Fix viewport centering issues with actions such as the Next Unit command,\n    and the [scroll_to], [scroll_to_unit], and [message] WML actions (bug #18793).\n   * Removed the \"move unit to hexfield\" feature.\n   * Rearranged :inspect dialog elements to provide the data visualization\n    panel with more horizontal space.\n### WML engine\n   * [unit_overlay] and [remove_unit_overlay] now return a more meaningful\n    error message if the image= key is missing\n   * When not replacing values, [effect] apply_to=defense will now modify\n    absolute values instead of signed values (bug #20242). This allows for\n    cleaner WML when the unit type is not necessarily known in advance.\n   * Split the 'not_living' unit status into 'unpoisonable', 'undrainable' and\n    'unplagueable'. 'not_living' now acts on the whole group\n   * The bugs with sighted events have been resolved.\n   * A unit's maximum hit points are more regularly applied. This affects\n    [transform_unit], [effect]apply_to=type, and [effect]apply_to=variation.\n   * Poison is automatically removed from immune units after using\n    [effect]apply_to=type or [effect]apply_to=variation.\n   * Fixed bug #20401: [remove_unit_overlay] did not work when the image used an\n    image path function that took multiple parameters.\n   * Refactored [base_unit] to be more robust in oddball cases.\n   * Improved support for setting id= within a [variation].\n   * Added support for square bracket expansion in animation strings I.E\n    halo=\"pic[1-2,5]:[10,20,30]\" expands to halo=\"pic1:10,pic2:20,pic5:30\"\n    this is used for halos, team flags, animated terrains and unit animations\n   * Changed default unit halos and macros to use new square bracket expansion\n   * Fixed bug #20468: Update the owned villages when using [replace_map].\n   * Changed [vision_costs] to default to movement costs on a per-terrain basis.\n### Miscellaneous and bug fixes\n   * The undo stack is preserved across a save-reload.\n   * Removed several unused private member variables.\n   * Fixed the present in-game command line autocompletion feature so it\n    actually works without using :debug\n   * Removed recognition of the --smallgui command line option, which has been\n    superfluous since 1.9.5.\n   * Made wmllint recognize victory_string, defeat_string,\n    gold_carryover_string, and notes_string (all from the [objectives] tag) as\n    attributes that need to be made translatable\n   * Added -Wdocumentation to the CMake pedantic flags.\n   * Make drakes fly on volcano tiles (bug #20485).\n   * Added a FOREACH macro to emulate C++11 for(... : ...) style loops.\n   * Fixed bug #20290: No longer terminate due to a corrupt savegame.\n   * Fixed bug #19970: No longer terminate due to corrupt preferences.\n   * Changed: Increased the pango cairo dependency to version 1.24.4.\n   * Fixed a display artifact (halos not cleared) when WML moves a unit.\n   * Improved the display of vision costs in the unit help.\n   * Fixed wmllint, wmlscope and wmlindent not working correctly on Windows if a\n    command line argument ends with a backslash\n   * Fixed: Compilation with CLang 3.2 and libc++.\n   * Added: Autorevision based revision numbers in CMake.\n\n## Version 1.11.1\n### AI\n   * New AI: Experimental AI\n    * Improved recruitment, castle and village management over current default AI\n### Campaigns\n   * Dead Water:\n    * Removed duplicated loyalty overlay (that now is in core), and used\n      {IS_LOYAL} macro\n    * Stunned units are now marked with a status icon\n   * Delfador's Memoirs\n    * Add dummy side to cutscene to avoid crash at end of story part\n      (bug #20208)\n   * Eastern Invasion:\n    * New set of portraits\n   * Legend of Wesmere:\n    * Scenario 02: Replaced the moveto events for checking the\n      dwarvish borders with enter_hex events\n    * Scenario 08: Add dummy side to cutscene to avoid crash at end of story\n      part (bug #20208)\n   * The Rise of Wesnoth:\n    * Fix bug #16772: AI won't attack\n   * Under the Burning Suns:\n    * Keep a spawned unit from disappearing on reload in scenario 6b\n    * Stunned units are now marked with a status icon\n    * Fix bug #19303: dwarf sometimes spawns in cave wall\n### Graphics\n   * New portraits: Tentacle of the Deep\n   * Updated brown lich alternative portrait\n   * Fixed glitches caused by larger-than-hex standing units with certain frame\n    image effects when image= is not explicitly specified (bug #20099)\n   * Fixed standing unit animation glitches caused by [move_unit_fake] on\n    adjacent locations (bug #20098)\n   * The special ellipses for leader and hero units now support team coloring.\n### Language and i18n\n   * New translation: Scottish Gaelic\n   * Updated translations: British English, Chinese (Traditional), Croatian,\n    French, Galician, German, Hungarian, Italian, Latin, Lithuanian, Polish,\n    Portuguese (Brazil), Russian, Slovak, Ukrainian\n### Lua API\n   * new wesnoth.have_file() function\n   * wesnoth.get_time_of_day() now works when specifying a turn when the number\n    of turns is unlimited\n### Multiplayer\n   * Silver Mage no longer allowed as a leader in Age of Heroes\n   * Added support for modification tags\n   * Added support for dependencies between eras, scenarios and modifications\n   * New [options] tag to allow MP add-ons to add their own settings on the game\n    creation screen\n### Networking\n   * Handle an exception in the SDL_net-based network code (bug #20205)\n### Terrains\n   * Added Unwalkable Overlay terrain (^Qov)\n   * Added Dense Palm (^Ftp), Savanna (^Fts), and Rainforest (^Ftr) terrains\n   * Updated graphics for palms (^Ftd), tropical forest (^Ft),\n    plank bridge (^Bp*), stone bridge (^Bs*), and chasm bridge (^Bcx*)\n### User interface\n   * Healing animations are now played when poison is cured.\n   * Moving units to a selected hex field\n    * Units in reach of a hex field are highlighted during selection.\n    * Highlighting and labeling the selected hex field with the amount of in\n      range units.\n    * Left click on a controlled one triggers the move.\n   * The recruit and recall commands are restored when right-clicking on a\n    leader, but with new semantics -- only that leader's recruits/recalls will\n    be presented as options.\n   * Fog/shroud clearing has been reworked to be more timely and consistent.\n   * The statistics window can now show per-scenario statistics.\n   * The sidebar now includes specials when reporting a weapon's damage.\n   * The sidebar now includes all specials when reporting a weapon's number of\n    attacks (not just swarm).\n   * Active/inactive highlighting for abilities and weapon specials in the\n    sidebar.\n   * Fix broken MP game creation dialog on low resolutions\n   * The \"repeat recruit\" command now refers to the last recruit by the current\n    side, rather than the last recruit by the current game client.\n   * Refinements to undo stack management, sometimes allowing moves to be undone\n    after \"update shroud now\" (if those moves did not affect fog/shroud).\n### Whiteboard\n   * Don't end turn if executing all actions in another way than using the\n    \"end turn\" button/hotkey. (bug #19901)\n### WML engine\n   * The recall, recruit, prerecall, and prerecruit events will now block\n    undoing unless they contain [allow_undo].\n   * The cost of a recall/recruit is now paid between the prerecall/prerecruit\n    and recall/recruit events. (FR #16711)\n   * Sighted events should be reliable, provided the player does not activate\n    delayed shroud updates (which is still a major caveat).\n   * Added [effect] apply_to=overlay\n   * Added [effect] apply_to=experience\n   * Added [terrain_type] max_light= and min_light=.\n   * Standardize weapon filters, supporting special=, [and], [or], and [not]\n    wherever weapons can be filtered.\n   * Image path functions again evaluated left-to-right. Fixes bug #20196.\n   * Support for [swarm] causing attacks to increase as health decreases.\n   * Inactive names and descriptions for abilities and weapon specials will\n    default to the active name/description if omitted.\n   * Fix a bug with [store_time_of_day] so that it treats the provided variable\n    as a container instead of an array (overwrite instead of append).\n   * Added [side]suppress_end_turn_confirmation= for those (rather nonstandard)\n    scenarios where players often skip their turns.\n### Miscellaneous and bug fixes\n   * Fix invalid memory access crash resulting from deleting all saved games\n    in the Load Game dialog\n   * Redesigned the hotkey preferences dialog\n   * Removed two Khalifate leftovers (Hakim portrait and KHALIFATE_NAMES macro)\n   * Ambush now works for desert palms and dead great trees (bug #20207)\n   * Hex field size and default terrain are wml configurable\n   * RCA AI renamed from 'testing' to 'default'\n   * Fix OOS when dismissing a recall in a multiplayer campaign (bug #19924).\n   * Fixed a bug disallowing the left shift and meta key to be detected in\n    the hotkeys\n   * Added -Wuseless-cast to the CMake pedantic flags.\n   * Added -Wc++11-compat to the CMake pedantic flags.\n   * Added bzip2 support for savefiles. (new dependency)\n   * Fix OOS when observe scenario 2 in a multiplayer campaign (bug #20217).\n   * Synchronize underlying_unit_id in MP campaigns (bug #20227)\n   * Fixed: Compilation with Boost 1.51.0 (Gentoo bug #440742).\n   * Added -Wnoexcept to the CMake pedantic flags.\n   * Fixed a rare case where a player could exercise (very) limited control of\n    another (human) player's units in a hotseat game.\n   * Added project files for CodeLite.\n\n## Version 1.11.0\n### Add-ons client\n   * The Update Add-ons dialog has been replaced with an alternate view mode\n    for the main Add-ons Manager\n   * The Add-ons Manager now allows filtering add-ons by installation status\n    (all, installed, not installed, upgradable)\n   * Add-ons in the Add-ons Manager are initially sorted by title instead of\n    the order they were originally uploaded to the server\n   * Add-ons with broken/unavailable dependencies are reported to the user\n   * The add-on dependencies prompt reports all recursively-resolved\n    dependencies, not just the direct dependencies\n   * Add-on installation, upgradability, and publish status is reported as a\n    footnote for every list entry, plus a field in the Description dialog\n   * The Add-ons Manager filter textbox is preserved during the same\n    connection (i.e. while installing multiple add-ons)\n### Add-ons server\n   * Reject add-ons with names or titles that begin with a WML text format\n    markup character (any of *, `, ~, {, ^, }, |, @, #, <, &)\n   * Switched to port 15006 for 1.11.x and adjusted all tools to this port\n### AI\n   * In akihara_recruitment, analyzing battle field - we take village as\n    important spot. The aim of it is to list terrain couple according to these\n    important spot so we can evaluate battle simulation on them.\n   * In akihara_recruitment, the struct situation became a class.\n   * New AI formula 'aki_eval' for testing a battle evaluation\n   * AI now properly considers the expected damage from poison when attacking\n    using poisoners.\n   * Adding a new scenario for the ai-arena-small in order to test the new AI.\n   * Adding new files for the new AI (ai/akihara/recruitment.?pp)\n### Campaigns\n   * Added a note to all final scenarios, stating which one is the last scenario\n   * A Tale of Two Brothers:\n    * Fix bug #19949: Turns left counter initially incorrect when objectives\n      change and turn limit is extended\n    * The Chase: fixed some missing messages if no unit with role=speaker is\n      present\n   * Dead Water:\n    * Updated the Stun weapon special code to use [object] duration=turn\n   * Delfadors Memoirs:\n    * Showdown in the Northern Swamp: added to conditional notes in objectives\n      about who should kill Iliah-Malal\n   * Dead Water:\n    * Changed uses of \"ai turn\" to \"side # turn\" (\"[event]name=ai turn\" breaks\n      replays)\n   * Descent into Darkness:\n    * Fix most possible cases for Darken Volk becoming \"stuck\"\n      in 09_A_Small_Favor3.\n   * Eastern Invasion:\n    * Revisions to dialogue and part of the story.\n   * Heir to the Throne:\n    * Implemented FR #19418: the Orcs destroy the villages near Konrad's castle\n      when capturing them in The Elves Besieged\n    * Fixed bug #19531: scroll to reinforcement units in Blackwater Port\n    * Fixed bug #19517: The injured sergeant in HttT: Cliffs of Thoria will now\n      always become visible when he is discovered.\n   * Legend of Wesmere:\n    * Fix bug #19577 - some terrain was not snow covered\n    * Fix bug #19565 - yetis remaining under fog when they appear in scenario\n      10\n   * Liberty:\n    * Fixed unknown unit type errors in 04_Unlawful_Orders\n   * Sceptre of Fire:\n    * Searching for the Runecrafter: updated the \"sighted location\" code to\n      make use of [filter_vision], plus a SSF\n    * Keep recall list at end of scenario 7\n   * Son of the Black Eye:\n    * Removed Al'Brock and Flar'Tar death as defeat condition in objectives in\n      Civil War\n    * Fixed bug #19684: Kapou'e says a different message if he kills the first\n      Elf in Silent Forest\n    * Silent Forest: the messages that appear upon killing the first Elf can be\n      translated differently depending on the Elf's gender\n    * Fixed bug #19686: fixed two variable checks that prevented some strings\n      from being displayed in Back Home\n   * The Hammer of Thursagan:\n    * Fixed bug #19743: in Mages and Drakes, Perrin has two different messages\n      about apprentices, depending on the difficult level\n    * Karrag now gets enough gold to actually recruit when met\n   * The South Guard:\n    * Fixed bug #19758: Urza Afalas' sighted event is fired also when the Lich\n      is seen, and if the player allies with the Elves, then both Urza Afalas\n      and Mal M'Brin must be defeated\n   * Tutorial:\n    * Applied patch #3203: Allow to end the scenario via the right-click menu.\n    * Fixed bug #19316: Narrator messages are now translated.\n    * Replaced $unit.type by $unit.language_name to make a string completely\n      translatable\n    * Fixed bug #19367: Incomplete i18n in wesnoth-tutorial\n   * Under the Burning Suns:\n    * Made it so that Kaleh gets the default AMLA after he's been fully\n      upgraded\n    * Fixed flood appearance over wooden boards\n    * Update scenario code to take advantage of modern WML features\n    * Fix bug #19630\n    * Fix some minor unreported bugs\n    * Minor spelling and grammar corrections\n    * Made it so that all units are rehydrated quietly upon victory in scenario\n      two\n    * Updated the Stun weapon special code to use [object] duration=turn\n    * The Human Commander unit now uses the smallfoot movetype instead of\n      woodland\n    * Display dehydration status in the sidebar\n    * Ensure player always has positive gold leaving the cave in Out of the\n      Frying Pan\n    * New AI for human messenger in \"Out of the Frying Pan\"\n    * Taking all items is now optional\n    * Finding the map in scenario 3 is now useful\n    * Healers now prevent dehydration instead of removing it, so they no longer\n      heal dehydrated units\n    * New art for Dark Assassin\n### Editor\n   * New gui theme, fixes the editor being broken on low resolutions.\n    * Smaller font for displaying the terrain information.\n    * Less space between the map coordinates and the terrain information\n      (no need to display defense value)\n    * More width sidebar\n      * Features one more editing tool per row.\n      * Additional brush\n      * Button for default zoom switching.\n    * Space for a second row of editing tools.\n   * Terrain group selection from a menu, saving a lot of space.\n   * Terrain palette\n    * is scaled to fit at all resolutions.\n    * Removed the scrolling feature which is no longer needed.\n   * Improved performance of the Editor Settings ToD lighting controls\n### Engine\n   * Refactored scenario transition code\n   * Fixed bug #19599: Engine keeps redundant unit.ai_special_ information.\n### Graphics\n   * New graphics for the Spectre.\n### Help menu\n   * Added a new Add-ons section explaining add-on usage basics\n   * Added more elaborate descriptions for the Units, Abilities and Weapon\n    Specials sections, with the intent of reducing confusion when they are\n    initially empty (feature request #13914)\n### Language and i18n\n   * Fixed two untranslatable strings in the \"new\" MP lobby\n   * Fixed an untranslatable string in the Multiplayer Commands help topic\n   * Fixed untranslatable Cancel button label in the add-ons server network\n    status dialog (bug #19659)\n   * New translations: Ukrainian\n   * Updated translations: British English, Chinese (Simplified),\n    Chinese (Traditional), Dutch, Estonian, Finnish, French, Galician,\n    German, Greek, Hungarian, Indonesian, Irish, Italian, Japanese, Korean,\n    Latin, Lithuanian, Norwegian, Old English, Polish, Portuguese (Brazil),\n    Russian, Slovak, Spanish\n### Lua API\n   * Upgraded Lua from 5.1.4 to 5.2.0\n   * new: field wesnoth.game_config.mp_debug\n   * new: setter for wesnoth.sides[i].color\n   * Deprecated the following functions from the wesnoth table,\n    all of which have better replacements:\n    get_side, get_side_count, get_unit_type_ids, get_unit_type,\n    register_wml_action\n   * Changed: Extended support for toggle_button.\n   * Fixed: wesnoth.find_reach does no longer replace a passed private lua\n    proxy unit with the on-map unit at the same location\n   * new: helper.round function\n   * wesnoth.scroll_to_tile() now takes a fourth optional argument (boolean)\n    specifying whether to ignore the scroll speed setting in Preferences and\n    instantly warp to the given location\n   * Added wesnoth.lock_view(), taking a boolean argument specifying whether\n    to lock gamemap view scrolling (so the user cannot scroll, while WML/Lua\n    actions still can, i.e. for cutscenes), or unlock it\n   * Added wesnoth.view_locked(), returning a boolean true value if gamemap\n    view scrolling has been locked, and false otherwise\n   * Added == operator for (private, on-map, recall) lua proxy units,\n    checking for unit identity\n   * Added wesnoth.get_villages() function\n### Multiplayer\n   * A New Land:\n    * Made it so that the \"Elvish Shaman\" option in the elvish unit selection\n      menu gets translated. Fixes bug #19677.\n   * Fix an accidental terrain type change in Isar's Cross\n   * Fix attacker side being human in 6p_Team_Survival (bug #19400)\n   * Ignore Pango markup in map descriptions (bug #19210)\n   * Canceling the sides setup screen when hosting a MP game now brings the\n    host back to the game configuration screen first instead of returning\n    immediately to the lobby or (for hotseat) titlescreen (bug #7130)\n   * The Set Password action is no longer shown for local hotseat games\n    (bug #10784)\n   * Changes to the time of day schedules of Fallenstar Lake and Silverhead\n    Crossing\n   * Random leader is default selection when picking faction\n### Music and sound effects\n   * Replaced some of the wolf hit sounds with lower-pitched ones\n### Terrain\n   * New Syntax for terrain maps\n   * New tropical forest images\n   * New palm forest terrain\n   * Deprecated flowers (Ggf) and Volcano (Qv) removed - use Gg^Efm and Mv\n    respectively\n   * Fix bridge/rail transitions to each other\n   * Add new rail terrain type; no existing unit can move on it, so their\n    move/defense values are unchanged\n   * New stone, hanging, and wooden chasm bridges\n   * Fix bug #19753, missing hex transition\n### Unit changes and balancing\n   * New extra_define ENABLE_WOLF_ADVANCEMENT to optionally enable Wolves\n    advancement to Great Wolves and Direwolves\n   * New extra_define ENABLE_TROLL_SHAMAN to optionally enable Troll Whelps\n    advancement to Troll Shamans (not in multiplayer)\n   * Lowered General's experience to 150 when extra_define DISABLE_GRAND_MARSHAL\n    is used\n### User interface\n   * Restored leader unit image in Load Game dialog (bug #18683)\n   * Added a \"Back to Start\" option to the game menu to load the current\n    scenario's start save if it is available (feature/bug #18027)\n   * Added tooltips to Load Game dialog (feature/bug #18249)\n   * Added a Reset All button to Hotkey Settings dialog in preferences\n    (feature/bug #3797)\n   * Fixed excessive idle CPU usage in story screens without story text\n   * Map editor now displays invisible overlay terrains on main map\n   * Made add-ons with markup characters at the start of their titles\n    display normally in the add-ons management dialogs (e.g. without\n    colors)\n   * Re-fogging does not occur in the middle of the player's turn.\n   * Fixed provided saved game filenames being ignored when requesting to\n    save a MP game due to a network or OOS error (bug #19562)\n   * Fixed bug #19538: Filters matching 0 saved games cause crash\n   * Clicking a unit does not reveal adjacent hidden units (bug #19381).\n   * Simultaneous ambush, sighted and teleport failed messages will no longer\n    cover each other up\n   * Added: A character limit width constrain for a text\n   * Stop showing a unit's potential moves before moving in a move & attack,\n    rather than after (more consistent with regular movement)\n   * Changed: Made the id for a tooltip and helptip mandatory.\n   * Added: Helper code to assist in widget placement.\n   * Added: New widget pane.\n   * Added: New widget viewport.\n   * Added: New dummy widget instance.\n   * Added: New control matrix.\n   * Trying to initiate movement (or an attack) before previous movement is\n    finished no longer unselects the current unit (bug #19734). (The new\n    movement command is still deliberately ignored.)\n   * The recruit and recall commands no longer appear in the context menu\n    for shrouded or (visibly) occupied hexes.\n   * Fixed bug #19844: Block recruiting into shrouded hexes.\n   * Fixed bug #19783: Disable commands while WML menu items are executing.\n   * Fixed bug #19533: Both damage tooltips now take into account local factors.\n### Whiteboard\n   * Fixed bug #19626: segfaults on window resize\n   * Fixed bug #19369: Using planning mode can cause losing ability to move my\n    units\n   * Fixed bug #19408: Crash shortly after executing invalid multi-turn move\n   * Fixed bug #19581: Leader can still move after a planned recall\n   * Shortened all context menu items\n   * Fixed bug #19619: In local games, units keep ghosted appearance during\n    opponent's turn\n   * Fixed bug #19613: Multiple attacks after planning attacks in whiteboard\n   * Fixed bug #19618: Problems with ending turn with impossible moves\n   * Fixed bug #19615: Can see part of opponents' planned moves in local\n    multiplayer game\n   * Refactored wb::side_actions\n   * Refactored the highlighter and the visitor\n### WML engine\n   * new key: [unit]/[unit_type] vision=<number>, decouples movement and sight\n    range.\n   * new tag: [movement_type] [vision_costs], used for calculating sight range\n    if present.\n   * new action tag: [clear_menu_item] id=...\n   * new key: [set_menu_item][command]delayed_variable_substitution=yes|no\n   * Removed support for the deprecated \"colour=\", \"debug_border_colour=\",\n    and [colour_adjust]\n   * Fixed bug #18996: Increase random number generation range.\n   * Made it possible to disable the credits screen at the end of a campaign\n    by specifying end_credits=no in the final [endlevel] action, or in the\n    [campaign] definition (defaults to yes)\n   * Added [modify_side] color= attribute, which changes a side's team color\n    range (feature/bug #18772)\n   * Removed support for the deprecated [removeitem]\n   * Implemented ~BLEND(r,g,b,o) image path function, which blends the image\n    with a specified RGB color according to certain opacity (factor or\n    percentage) (feature/bug #11590)\n   * [find_path] now returns a \"hexes\" key instead of a \"length\" key inside\n    the output array\n   * Introduce inline SSF support in action tags [allow_recruit],\n    [disallow_recruit], [set_recruit], [gold] and [modify_ai]\n   * [gold][filter_side] and [modify_ai][filter_side] are deprecated, use inline\n    SSF instead\n   * Action tags [modify_side], [place_shroud] and [remove_shroud] now default\n    to \"all sides\" instead of side=1 if left empty.\n   * Introduce support for [filter_owner]<SSF> in SLFs. For villages. Keeps\n    backwards compatibility for inline owner_side= at the cost of\n    confusing syntax (due to (possible) duplicate side information).\n    This also adds SSF support in [store_villages].\n   * Added support for resistance_multiplier= key in [harm_unit]\n   * Fixed bug #19498: [modify_unit] duplicating units if x,y changed\n   * Added inline SLF support in [scroll_to], by using the first matching\n    location\n   * Introduce inline SSF support in [objectives] and [show_objectives]\n   * The [drain] weapon special now supports value=, multiply=, divide=, add=\n    and sub=\n   * Added [heal_on_hit] for healing/harming the user by a fixed amount\n   * Drained HP amounts can now be negative.  Trigger this by setting\n    a negative value in the [drain] or [heal_on_hit] weapon special\n   * Negative drain amounts will not take a unit below 1 health\n   * Added [show_if] support to [objectives] [note]\n   * New tags: [lift_fog] and [reset_fog]\n   * New keys: reset_maps= and reset_view= added to [modify_side].\n   * Using more than 4 multiply effects no longer wraps to negative integers\n   * Added: support for ranges of sides in SSF\n   * The [filter_vision] tag of the SUF now uses a SSF\n    (viewing_side= still works, but is deprecated and\n    should be renamed to side=)\n    Semantics for empty side information changes from\n    \"all enemy sides\" to \"all sides\"\n   * [filter_vision] now works in location filters as well as unit filters,\n    and has an additional key (respect_fog) for locations\n   * Support for [effect]unit_type= and [effect]unit_gender= has been\n    removed, use [effect][filter]type= respectively [effect][filter]gender=\n    instead\n   * Border hexes are included when using radius= in the SLF of [remove_shroud]\n    and [place_shroud] (they were already included for directly matched hexes).\n   * Retrofitted CLEAR_FOG and UNCLEAR_FOG macros to make use of [lift_fog] and\n    [reset_fog]\n   * Replaced variable i by TRANSFORM_UNIT_i in macro TRANSFORM_UNIT\n   * Fix $owner_side in capture events fired due to unit movement\n   * Introduce [item]redraw=yes|no (def yes) parameter\n   * Added [object]duration=turn\n   * Pushed LOOT macro from LoW, THoT and TRoW in core\n   * Adds new WML attribute for configurable village support (upkeep)\n   * Change [object]duration=level to [object]duration=scenario\n   * The race attribute in SUFs can now take a comma-separated list\n   * New image path function: ~ROTATE()\n   * Fixed some cases where [find_path] did not restore $this_unit\n   * Added: Allow better error messages for missing WML children.\n   * [scroll_to] and [scroll_to_unit] now accept an optional boolean immediate=\n    attribute (defaults to false) specifying whether to ignore the scroll\n    speed setting in Preferences and instantly warp to the selected location\n   * Added [lock_view] and [unlock_view] WML actions, for locking and unlocking\n    gamemap view scrolling (so the user cannot scroll, while WML/Lua actions\n    still can, i.e. for cutscenes)\n   * Fixed CALL_FUNCTION macro (bug #19805)\n   * Added [effect] apply_to=halo\n   * Converted [store_villages] from C++ to Lua\n   * Introduced [unstore_unit]animate=yes|no (def. yes) parameter\n   * Made the display of ability and weapon special descriptions smarter, so\n    those descriptions no longer require (and should no longer have) the name\n    of the ability/special as the first line of the description.\n### Miscellaneous and bug fixes\n   * Fix wrong preferences path suffix (1.1 instead of 1.10) on Linux and other\n    platforms using XDG layout (no compiled-in preferences path override,\n    bug #19318)\n   * Fixed unit sound animation timings wherever {SOUND:SLOW}, {SOUND:POISON},\n    and several macros from animation-utils2.cfg are used (see bug #19274)\n   * Restart is no longer required to toggle desktop notifications\n   * Display the savegame version when warning the user about unsupported or\n    mismatched versions (bug #7243)\n   * Implemented feature request for difficulty changing during campaigns.\n    (see bug #10978)\n   * The saved games cache file is now save_index instead of save_index.gz, and\n    it is compressed when the Compressed Saves option is enabled in Advanced\n    Preferences (patch #3115)\n   * Show base terrain description if none for overlay (bug #19411)\n   * Added wesmage tool to test SDL image manipulation functions.\n   * Fixed: A possible NULL-pointer deference in get_unit_type_function.\n   * Changed: Default man installation directory now confirms to FHS.\n   * Added: New floating point emulation code.\n   * Make Wolf Rider and Wolf raise their heads if and only if unit is\n    submerged: forums.wesnoth.org/viewtopic.php?f=4&t=36212\n   * Changed: Add a small cache for reading files, giving a minor improvement.\n   * Added: Helper tool to create images for unit tests.\n   * Added: Image manipulation unit tests.\n   * Changed: Rewrote the surface blending algorithm, and improving its speed\n    using NEON intrinsics on processors supporting NEON (the Pandora).\n   * Fixed bug #19503: \"maximum auto saves\" setting now works correctly.\n   * Fixed: A preprocessor bug looking beyond the end of a buffer.\n   * Fixed: Binding a temporary in the network code, possibly causing\n    crashing.\n   * Fixed bug #19658: In replays, units sometimes refresh movement when it is\n    not their turn\n   * Added: Enabled BREAKPOINT and WES_HALT macros on the Pandora.\n   * Fixed bug #19678: Escape the pipe-symbol in the wiki: TerrainCodeTableWML.\n   * Fixed bug #19469: Missing scenario hash results in Remote scenario always\n    added to game description\n   * Fixed bug #19322: Empty sides not being listed at the status table\n   * Fixed bug #19681: Use the created cache instead of rebuilding it all the\n    time\n   * Fixed bug #16544: Fail to read `empty' cache files.\n   * Fix bug #19681: Cache is never valid\n   * Added shroud_data to the inspection window (FR #19623).\n   * Fixed: grids now recursively search for widgets by pointer.\n   * Fixed: Wrong current side number after side turns (bug #19735)\n    It also affected the lua field wesnoth.current.side\n   * Added: Fail macros FAIL and FAIL_WITH_DEV_MESSAGE.\n   * Added: Helper code to make it easier to write enumerate stream operators.\n   * Added: UNREACHABLE_CODE macro.\n   * Added: TELEPORT animation macros usable by any units\n   * Added: CMake option ENABLE_SHARED_LIBRARIES.\n   * Fixed: Allow strict compilation with CMake using the upcoming gcc-4.8.\n   * Fixed bug #19795: OOS when [message][option] is used in a (single-player)\n    start event when side 1's controller is null.\n   * Changed: Enabled strict compilation for Clang in CMake.\n   * Added: ENABLE_PEDANTIC_COMPILATION option for CMake.\n\n## Version 1.10.0\n### Campaigns\n   * Legend of Wesmere:\n    * Scenario 03: Fixed bug #19067: Control over Galtrid's side stays with the\n      player after the arrival of Kalenz\n    * Scenario 22: Fixed bug #19236: Cleodil was missing and no recall list\n   * An Orcish Incursion:\n    * Scenario 3: select a new unit with the Adviser (sic) role for dialogs if\n      the original unit selected at the start of the scenario died\n   * Under the Burning Suns:\n    * Scenario 5: Fixed bug #19303: one of the dwarves was spawning in a wall.\n   * The Rise of Wesnoth:\n    * Peoples in Decline: fixed a message not shown when the Sea Serpent appears\n### Editor\n   * Added Etheral Abyss terrain (Qxua) to the Cave category, too\n   * Updated the terrain palette icons for winter/fall single or mixed forested\n    hills so they show the default base Hhd instead of Hh\n### Graphics\n   * Fixed some spearman attack animations being too slow in some directions\n### Language and i18n\n   * Updated translations: Chinese (Simplified), Chinese (Traditional), Czech,\n    Finnish, French, Galician, German, Hungarian, Italian, Latin, Lithuanian,\n    Old English, Polish, Serbian, Slovak, Spanish\n### Lua API\n   * Extend and improve wesnoth.select_hex, deprecate wesnoth.highlight_hex\n### Multiplayer\n   * Allow tab completion of player names in commands (bug #19284)\n   * Fixed bug #19260: 'villages_value' -> 'village_value' in 5p_The_Wilderlands\n   * Fixed eras other than the default breaking 2p_Hornshark_Island. If a player\n    has a faction not in the default era, a standard set of units (aimed at\n    Khalifate) is used now.\n   * Fixed bug #19083: allow attack to happen normally without causing OOS if\n    turn time runs out in attack selection dialog.\n   * Fix some unit images being cropped in 2p_Aethermaw\n### Terrain\n   * Removed tags ignored by engine (as reported by lipk in\n    http://forums.wesnoth.org/viewtopic.php?f=21&t=35832 )\n   * Fixed bug #18601: change swamp water so it looks as good as it did in 1.8\n### User interface\n   * Draw gold hex cursor above all terrain when no unit visible\n### WML engine\n   * Improve [select_unit] to match its original intention (bug #19224)\n   * Improve error handling in case of invalid maps passed to\n    [replace_map] or [terrain_mask]\n   * Disable wml menu items in linger mode without debug mode (bug #16262)\n### Whiteboard\n   * Fixed bug #18635: Percentage not displayed for units selected at their\n    future position\n   * Fixed bug #19142: attacks can be simulated between units (for which this\n    shouldn't be possible)\n   * Fixed bug #19221: Assert when a whiteboard move-attack wins a scenario\n   * Fixed bug #19222: After 'delete planned action', the unit is almost\n    invisible\n   * Fixed turn not finishing when moves were planned for future turns\n### Miscellaneous and bug fixes\n   * Fixed wmlindent writing CRLF end of lines on windows\n   * Fix tutorial units without xp bar\n   * Reset game credits instead of appending on WML cache refresh (bug #19292)\n   * Fix wmllint check for \"unknown xy referred to by id\" not working\n\n## Version 1.9.14\n### AI\n   * Fixed bug #18962 and bug #19214: AI leaders are no longer slow to select\n    attacks.\n### Campaigns\n   * Sceptre of Fire:\n    * New set of portraits\n### Editor\n   * Fixed overpainting of transparent tile icons on the editor palettes on the\n    sidebar\n   * Fixed terrain palette shrinking to the size of small categories when\n    switching maps (bug #19218)\n   * Fixed various crashes related to drawing/filling operations (bug #18928)\n### Language and i18n\n   * Changed font used for CJK languages to DroidSans\n   * Updated translations: British English, Chinese (Simplified), Czech, Dutch,\n    Estonian, French, Galician, German, Hungarian, Latin, Norwegian, Serbian,\n    Slovak, Spanish\n### WML engine\n   * Fix store_unit clearing the used variable before its filter can reference it\n    (bug #19203)\n   * Check for argument image file existence before creating a MASK or\n    BLIT image mod (bug #19208)\n   * New key [object]delayed_variable_substitution=yes|no (default no)\n    as a workaround for bug #18893 (fixes bug #19225)\n   * Made empty {} preprocessor directives be handled more gracefully\n    (bug #19233)\n   * Fixed bug #19213: [harm_unit] incorrectly uses ToD bonus\n   * The turn bell and autosaves are not triggered anymore in certain situations\n    after [endlevel] has been issued\n### Miscellaneous and bug fixes\n   * Fixed bug #19032: Poison and level up AI defense placement calculation\n   * Fixed bug #19245: wesnoth(6) man page doesn't describe the --campaign*\n    options correctly\n   * Enable local ToD lighting option by default.\n\n## Version 1.9.13\n### Campaigns\n   * Northern Rebirth:\n    * Infested Caves: integrated sighted events with moveto events\n    * To the Mines: fixed Hamel not having the hero overlay\n    * Clearing the Mines: fixed Dwarves recruitment not being disallowed upon\n      winning\n    * The Pursuit: integrated a sighted event with moveto event\n    * The Pursuit: replaced another sighted event with ON_SIGHTING\n    * Elvish Princess: fixed Ro'Arthian and Ro'Sothian not having the hero\n      overlay\n    * Introductions: used ON_SIGHTING instead of sighted event\n    * Stolen Gold: gave Krash the expendable leader overlay\n    * Stolen Gold: fixed one of the two loyal Drakes having two IDs\n    * Stolen Gold: fixed Hidel missing his portrait\n    * Get the Gold: gave Eryssa the expendable leader overlay\n    * The Eastern Flank: made the Gryphon fly away and then return\n    * Showdown: removed hero overlay from Ro'Arthian and Ro'Sothian when they\n      are leaders\n    * Showdown: fixed Hamel's death not causing defeat\n    * Epilogue: fixed music not being played\n   * Eastern Invasion:\n    * The Escape Tunnel: integrated sighted event with moveto event\n    * Captured: integrated a sighted event with moveto event\n    * Weldyn Besieged: fixed a typo in Konrad's last breath event\n   * Sceptre of Fire:\n    * Caverns of Flame: integrated a sighted event with moveto event\n   * Son of the Black Eye:\n    * The Desert of Death: integrated a sighted event with moveto event\n   * Legend of Wesmere:\n    * Ka'lian Under Attack: fixed a lua error in AI code\n### Editor\n   * Fixed missing brightening of selected hexes under the brush\n### Language and i18n\n   * Updated translations: British English, Czech, Dutch, French, Galician,\n    German, Hungarian, Korean, Latin, Lithuanian, Old English, Polish,\n    Russian, Serbian\n### Multiplayer\n   * Fix user interface set to side 1 when entering linger mode\n    (bug #15847)\n### Unit changes and balancing\n   * Changed the Lancer's and the Deathblade's AMLA requirements to conform to\n    the current AMLA standards\n### User interface\n   * Removed blur from the add-ons description dialog\n   * Fixed bug #19121: Make click dismiss work properly.\n   * Fixed bug #17961 and #18686: Shows of big portraits on smaller screens.\n   * Fixed bug #19118: Default theme: coordinates overlap with the clock status\n    panel on small horizontal resolutions. Also fixed for the widescreeen\n    theme.\n   * Made it so that \"AM\"/\"PM\" show up in the default and widescreen themes\n    on the lowest supported resolutions.\n### Whiteboard\n   * Display turn numbers on multi-turn planned moves\n   * Fix attacks not finishing but still being transmitted over the network when\n    executing all actions\n### WML engine\n   * Fixed: ~L() not handling lightmap having different width. Now rescaled.\n### Miscellaneous and bug fixes\n   * Fixed: compilation with clang 3.0 in C++11 mode.\n   * Changed: Sort order of campaigns uses a stable sort now.\n   * Fixed bug #18832: Fixed ~BLIT() to access images out of bounds.\n   * Fixed: ToD local light for RGB values bigger than 128.\n   * Fixed: hex-cut of images in :layers debug tool. Also removed empty images\n   * Forward ported a new version of multiplayer chat log history dialog\n   * Fixed bug #19188: Turn dialog always speaks of Konrad in tutorial\n   * Added: NativeClient port.\n   * Fixed: crash when using fullscreen on Mac OS using SDL nightly builds.\n   * Optimized screen update (zooming, ToD change, etc)\n   * Optimized framerate by removing a lot of empty terrain images\n   * Optimized perfomance cost of complex local ToD areas\n   * Fixed bug #16571: Multiplayer login error with certain username or\n    password formats\n\n## Version 1.9.12\n### Language and i18n\n   * Updated translations: British English, Czech, French, German, Hungarian,\n    Indonesian, Italian, Latin, Latvian, Old English, Russian, Slovak\n### Multiplayer\n   * Fixed missed side init if controller changes at side progression\n    (bug #16299)\n   * Fixed user interface not updated if controller changes (bug #19056)\n### Whiteboard\n   * Fix invalid actions not being detected until another action is created\n   * Erase invalid actions when you try to execute them\n   * Disable access to Suppose Dead action until we can find a better UI for it\n   * Fix bug #18774: Recalling with the whiteboard enabled causes crash\n   * Fix bug #19061: Crash on starting most campaign scenarios\n   * Fix getting \"not enough gold\" message when executing planned recruits/recalls\n   * Ghost the unit at starting position of planned moves\n   * On mouseover, display orb and xp bar on planned moves with accurate status\n   * Mouseover on last planned move of a unit displays accurate movement left\n   * Re-enabled multi-turn moves\n### Miscellaneous and bug fixes\n   * Fixed bug #19095: fixed a gcc warning when compiling under OpenBSD\n   * Fixed bug #19096: fixed linker errors on OpenBSD when using the CMake\n    build system\n\n## Version 1.9.11\n### Campaigns\n   * Sceptre of Fire:\n    * A Bargain is Struck: added missing hero overlays to Alanin and the\n      caravans\n    * A Bargain is Struck: added find_vacant=yes to avoid unstoring Alanin\n      upon Rugnur or another player's unit\n    * The Dragon: fixed Rugnur being recalled not fully healed\n    * The Dragon: integrated two sighted events with moveto events\n### Engine\n   * Fixed bug #18918: the create unit dialog was sometimes capturing village\n    incorrectly\n### Language and i18n\n   * Updated translations: British English, Dutch, French, Finnish, Galician,\n    Indonesian, Italian, Korean, Latvian, Lithuanian, Old English\n### WML engine\n   * Added [secondary_unit] SUF for filtering the recalling leader in [recall]\n    action WML\n   * Fixed red, green and blue keys in 24-hour ToD not maching the default\n    schedule colors\n   * Reworked [harm_unit]'s damage calculation code to avoid leadership ability\n    altering the damage value\n### Miscellaneous and bug fixes\n   * Fixed disappearing theme UI buttons after changing fullscreen/windowed mode\n    or resolution in Preferences during a game\n   * Fixed define handling of wmlxgettext (bug #18622)\n   * Changed: Try to recover from broken pango-markup.\n\n## Version 1.9.10\n### AI\n   * Fixed: Display of recruitment_ignore_bad_combat and\n    recruitment_ignore_bad_movement is no longer swapped (bug #18839)\n### Campaigns\n   * Descent into Darkness:\n    * A Small Favor, part 1: used 24 hour ToD\n   * Son of the Black Eye:\n    * To the Harbor of Tirigaz: used 24 hour ToD\n   * Under the Burning Suns\n    * Subterranean Struggle: no longer possible to win by allowing allies to\n      die\n    * Across the Harsh Sands: the Black Hand oasis is no longer possible to\n      enter without triggering the bandits\n### Editor\n   * Made sure lighting setting changes are applied immediately when closing the\n    settings window when automatic map view updates are disabled\n   * Starting position tool menu now displays coordinates of existing positions,\n    and initially highlights the current player number assigned to the selected\n    hex\n   * Add a menu item \"Refresh WML\" to reload terrain WML\n### Graphics\n   * New Animations:\n    * Goblin spearman run se\n    * Merman fighter attack se\n    * Tinted the slowed snail icon to match the new slowed unit color\n   * Terrain:\n    * Tall encampment keep can now be placed next to the tent encampment keep\n    * Forest/hill terrain combinations no longer appear black on the minimap\n   * Default team color always applied last; fixes bug #18817\n   * Removal of Khalifate unit images\n### Language and i18n\n   * Made it so that all of the Hangul Syllables block is covered by the\n    font-loading code.\n   * Made it so that en_US translations are loaded if they exist (bug #18507)\n   * Updated translations: British English, Czech, Dutch, Finnish, Galician,\n    Indonesian, Irish, Italian, Japanese, Korean, Latin, Lithuanian,\n    Old English, Portuguese (Brazil), Russian, Slovak, Swedish\n### Lua API\n   * add function wesnoth.get_starting_location\n   * The side metatable provides also the side number\n    (like wesnoth.sides[i].side, which would be i)\n   * add function wesnoth.debug\n   * Added: Support for clickables (button and repeating button) to\n    wesnoth.set_dialog_callback (patch #2763)\n   * Allowed function debug.traceback()\n   * wesnoth.set_village_owner takes a bool argument determining\n    whether to fire capture events\n   * add field image_mods in proxy units\n   * add field undead_variation in wesnoth.races\n### Multiplayer\n   * New map: Aethermaw\n   * Updated maps: Hamlets, Howling Ghost Badlands, Thousand Stings Garrison\n### Terrain\n   * Oasis may be placed on any terrain, aliased to base\n   * New terrain macro: MOUNTAIN_SINGLE_RANDOM\n   * New rotting variant for wooden bridge\n### Unit changes and balancing\n   * All mounted units now have forest defines capped at 30%. This reduces their\n    defense on forested hills from 40% to 30%\n   * Forests now give best defense and worst movement on all terrain,\n    not just hills - fixes bug #18216\n   * Fixed some Khalifate unit animation glitches\n   * The XP required for an AMLA is now 50*level (and 25 for level 0) instead of\n    always 150.\n   * Increased the HP of the Great Mage from 55 to 60\n   * Increased the ranged attack of the Footpad from 4-2 to 5-2\n   * Removal of the Khalifate units, faction and era\n### User interface\n   * Removed waypoints UI feature\n   * Added an option to disable the \"loading save from a different version\"\n    confirmation dialog\n   * Line-wrap author names in the add-on description dialog (bug #18691)\n   * Made the Delete Add-on (in the server) option request confirmation from\n    the user before proceeding\n   * The add-ons download list shows up again after publishing/deleting a\n    single add-on\n   * Added option in advanced preferences that allows the twelve-hour clock\n    format to be used\n   * Reenabled \"delay shroud updates\"\n   * Changed: Disable pango markup in unit names (bug #17788)\n   * It is now possible to remove multiple installed add-ons at the same\n    time\n   * Slowed units are now tinted to be recognizable at a glance\n   * Fixed: Removed old markup style from OOS messages (bug #18387).\n   * Fixed: OOS ignore toggle in the save dialog (bug #18330).\n### WML engine\n   * Readded the liminal alignment\n   * Added four-difficulty versions of certain macros: QUANTITY4,\n    ON_DIFFICULTY4, TURNS4, GOLD4, INCOME4, and ATTACK_DEPTH4\n   * added support for SSF to SUF via a [filter_side] subtag\n   * added support for [enemy_of]<SSF> to SSF\n   * added support for [allied_with]<SSF> to SSF\n   * New [find_path] tag, a WML interface to the pathfinder\n   * Add inline SSF support to [store_starting_location]\n   * Add support for [capture_village][filter_side]<SSF>\n   * Added FACING, which adds facing= to a previous [unit] codeblock\n   * Added VARIATION, which adds variation= to a previous [unit] codeblock\n   * Deprecated the Add-on.cfg style in favor of Add-on/_main.cfg, except for\n    the case of a single-file add-on\n   * [illuminated_time], which has been obsolete for a long time, is no longer\n    valid. Using it will cause errors to be thrown\n   * Reintroduced support for [unit][event]s (was until 1.7.10, bug #16259)\n    Such events are no longer forcefully variable substituted before inserting\n    into the scenario wml\n   * Fixed \"error parsing image modifications\" message caused by subsequent\n    image mod additions using the add attribute in [effect] apply_to=image_mod\n   * Made $this_unit in filter_recall work\n   * Added IS_EXPENDABLE_LEADER, which gives a unit the expendable leader icon\n   * Added $this_unit support to [harm_unit] and [find_path]\n   * Settings by [color_adjust] no longer expire at turn start or over save/load\n    cycles\n   * Implemented bullet= for [objectives], [objective], [gold_carryover], and\n    [note]\n   * Implemented red=, green=, and blue= for [objective], [gold_carryover], and\n    [note]\n   * Added [theme] hidden= attribute that makes a theme unavailable for selection\n    in Preferences or :theme (defaults to no)\n   * Implemented $second_unit being bound to the acting leader in recall/recruit events\n   * Introduce [redraw]clear_shroud=yes|no and [redraw]<SSF> support\n   * Introduce [race]undead_variation as a default for the race's [unit_type]s\n   * $owner_side describes the previous side owning a village\n    in capture events (FR bug #13567)\n   * Introduce [capture_village]fire_event=yes|no (def no) whether to fire\n    any capture events (was previously always yes)\n   * Made [move_unit] respect image modifications applied by EffectWML to single units\n   * Introduce [unit_type]image_icon key to override image for 72x72 icons\n    (FR bug #15466)\n   * Added IS_LAST_SCENARIO macro, for use in [objectives] dialog.\n   * Fix [objectives]silent= not working initially in a scenario (bug #18927)\n### Miscellaneous and bug fixes\n   * Add --language/-L commandline option to set the language for that session\n   * Fixed: Avoid copying of singular iterators in the whiteboard code\n   * Fixed bug #10969: Made it possible to switch themes from Preferences in the\n    main menu\n   * Fixed bug #16111: gold carryover if loading a save created in linger mode\n   * Fixed bug #16508: remaining time of day areas that should affect map\n    borders in mainline campaigns and MP scenarios\n   * Fixed bug #18399 (part 1): Compilation with boost 1.47 (bug #18399's patch)\n   * Fixed bug #18399 (part 5): Compilation with the clang 2.9 compiler (bug\n    #18399's patch)\n   * Fixed bug #18695: Fixed preload event not being fired\n   * Fixed bug #18701: Evaluate key length even if intervening WML children\n    don't exist\n   * Fixed bug #18704: Make the create unit dialog give the created unit a valid\n    gender for that unit type\n   * Fixed bug #18766: Fixed a problem where version comparisons (including, but\n    not limited to #ifver/#ifnver directives) could cease to work until Wesnoth\n    was restarted\n   * Fixed debian bug #636193: Fixed compilation on all Debian architectures\n   * Fixed handling of #ifver and #ifnver preprocessor directives in wmllint\n   * Removed CANYON and its associated terrain macros\n   * The credits screen no longer mangles image path functions in background\n    image lists\n   * Fixed a rare glitch causing the menubar and sidebar buttons to appear\n    initially as solid color rectangles at the beginning of a scenario start\n    event\n   * Fixed bug #18681: glitch with local time of day lighting\n   * Fixed bug #18892: random crash when loading replays\n   * Fixed bug #18882: Compilation with libpng-1.5.5\n\n## Version 1.9.9\n### AI\n   * Fixed bug #16117: added a way to supress E_NOT_REACHED_DESTINATION to lua\n   * Fixed bug #16247: modify SoF 8 to let the dragon attack aggressively\n    api via an optional boolean parameter - ai.move_full(from,to_x,to_y,true)\n   * Fixed bug #18057: AI leaders should now attack when they should\n   * Fixed bug #18122: AI leaders set to defensive will now follow goals anyway\n   * Fixed bug #18356: AI leaders now won't move to avoided keeps\n   * Applied patch #2846 by thonsew: let AI forget about invisible enemy units\n    in villages during get_villages phase (bug #18101)\n### Campaigns\n   * Fixed remaining deprecation warnings about empty side=\n   * Under the Burning Suns:\n    * Fixed Naga Sentinel gaining an AMLA after 32 XP instead of the usual 150\n    * Gave to Desert Shydes and Desert Stars 30% defense on void terrain\n### Engine\n   * Fixed bug #16173: Using n or cl while a fake unit is moving causes the game\n    to segfault by creating game_display::fake_unit as an exception safe\n    interace to the fake_units\n   * Improved unit_map lookup from std::map to boost::unordered_map to decrease\n    lookup times\n   * Fixed bug #16151: Discover new units on recruit\n   * Fixed bug #17780: Allow objects to 'increase' damage to 0\n   * Fixed bug #18098: now recruits and recalls capture village if recruited or\n    recalled on village castle hex\n### Graphics\n   * Fixed bug #18524: [replace_map] doesn't force window repainting\n   * Fixed bugs #18504 #18493 and #18017: Time of Day and fading interact poorly\n   * Fixed bugs #18475 and #17292: Mage of Light and Sorceress Halo/animation\n    glitches.\n   * Terrains:\n    * Added Gray Coastal Reef, Tropical Coastal Reef terrain\n    * Swamp no longer prevents embellishments from being drawn\n    * Fixed bug #15940: graphics glitch: pillared wall terrain covers great\n      tree\n### Language and i18n\n   * Updated translations: British English, Estonian, French, Galician, Greek,\n    Hewbrew, Indonesian, Irish, Latin, Macedonian, Old English, Russian,\n    Vietnamese\n### Lua API\n   * Added: function wesnoth.set_dialog_active (patch #2767)\n   * Expanded wesnoth.races entries to return the wml object a race was\n    constructed from via the __cfg field.\n   * New function wesnoth.get_traits returning a table holding the global traits\n    known to the engine.\n### Multiplayer\n   * Updated maps: Aethermaw, Hornshark Island, Sablestone Delta, Thousand\n    Stings Garrison\n   * A New Land:\n    * Fixed 'agriculture' not getting translated sometimes and research\n      for agriculture not getting counted if the research order wasn't changed\n      (bug #16477)\n    * Options to share knowledge with those who have learned everything about\n      whatever are no longer shown (bug #14822).\n   * Added \"chat_message_aging\" advanced preference to allow setting the\n    ingame chat message aging interval\n### Music and sound effects\n   * New track \"Battle Epic\" by Doug Kaufman\n### Unit changes and balancing\n   * New units: Great Wolf; Direwolf\n   * Lowered swamp defense of Cuttlefish and Sea Serpent from 60% to 40%\n   * Decreased cost of Giant Rat from 13 to 6\n   * Various changes to the defense, movement and resistances of the Giant Rat\n   * Increased the XP requirements of the Arif from 40 to 47\n   * Increased the cost of the Falcon from 10 to 12\n   * Decreased the beak and claw attack of the Falcon by one each to 2-3 and 5-1\n   * Decreased the HP of the Falcon from 19 to 18\n   * Increased the XP requirements of the Falcon from 20 to 24\n   * Increased the XP requirements of the Hakim from 33 to 39\n   * Decreased the HP of the Jundi from 36 to 32\n   * Increased the XP requirements of the Jundi from 35 to 44\n   * Increased the cost of the Khaiyal from 20 to 21\n   * Decreased the blade resistance of the Khaiyal from 30% to 20%\n   * Decreased the pierce resistance of the Khaiyal from 0% to -10%\n   * Decreased the impact resistance of the Khaiyal from 10% to 0%\n   * Increased the melee attack of the Mighwar from 7-5 to 8-5\n   * Decreased the HP of the Mighwar from 57 to 53\n   * Increased the melee attack of the Monawish from 6-4 to 7-4\n   * Decreased the HP of the Monawish from 45 to 41\n   * Decreased the HP of the Naffat from 32 to 28\n   * Increased the XP requirements of the Naffat from 38 to 44\n   * Increased the cost of the Naffat from 17 to 19\n   * Decreased the melee attack of the Qatif-al-nar to 10-2\n   * Decreased the ranged attack of the Qatif-al-nar to 8-3\n   * Increased the XP requirements of the Rasikh from 40 to 150\n   * Decreased the melee attack of the Tineen to 10-3\n   * Decreased the impact resistance of the Falcon line from 0% to -10%\n   * The Falcon line now gets 2 traits, one normal trait and the feral trait\n   * The Naffat line is no longer able to get the strong trait\n   * Converted units with khalifatelightfoot to khalifatefoot movetype:\n    * Increased the fire resistance from -10% to 0% (Hakim only)\n    * Increased the impact resistance from -20% to -10%\n    * Increased the village defense from 50% to 60%\n    * Removed the khalifatelightfoot movetype\n   * Changes to khalifatefoot movetype:\n    * Increased the frozen defense from 20% to 30%\n   * Changes to khalifatearmoredfoot movetype:\n    * Increased the shallow water and swamp mp from 2 to 3\n    * Decreased the mushroom grove defense from 50% to 40%\n   * Changes to the khalifatehorse movetype:\n    * Increased the shallow water, swamp, cave, and mushroom grove mp cost to\n      4 in all cases\n    * Increased the forest mp cost from 2 to 3\n    * Decreased the frozen mp cost from 4 to 2\n    * Decreased the swamp defense from 30% to 20%\n    * Decreased the cave defense from 40% to 20%\n    * Decreased the mushroom grove defense from 40% to 20%\n    * Increased the frozen defense from 10% to 30%\n    * Increased the impact resistance from -10% to 0%\n   * Changes to the khalifatearmoredhorse movetype:\n    * Increased the shallow water, swamp, cave, and mushroom grove mp cost to\n      4 in all cases\n    * Increased the reef mp cost from 2 to 3\n    * Decreased the frozen mp cost from 4 to 2\n    * Decreased the cave defense from 40% to 20%\n    * Decreased the mushroom grove defense from 40% to 20%\n    * Increased the frozen defense from 10% to 30%\n    * Increased the swamp defense from 10% to 20%\n    * Decreased the hill defense from 60% to 50%\n### User interface\n   * Fixed Preferences dialog glitch on < 600 px tall resolutions (i.e. 800x480)\n   * Made Hotkeys configuration dialog fit on < 600 px tall resolutions (i.e. 800x480)\n   * Various minor improvements for consistency\n   * Whiteboard planning system:\n    * Added support for planning multi-turn moves\n    * Added the option to hide allies' plans during a network game\n    * Made action numbers colored according to team color\n    * Made plan execution halt upon discovering hidden units\n### WML engine\n   * Added [event]id= support (to protect against duplicates)\n   * Added [event]remove=yes|no support\n    (to remove events that have an id set)\n   * Implemented sub= and divide= for abilities and weapon specials\n    (patch #2857)\n   * new attribute replay_save= in [endlevel]. Defaults to yes, allows\n    WML authors to disable replay saving for a scenario. (bug #18026)\n   * [harm_unit] always uses wesnoth.float_label to avoid that an incorrect\n    weapon filter may prevent floating the damage label\n   * new key heal_full=yes|no (def no) in [effect]apply_to=type\n   * Added SLF support to [event][item] and [remove_item].\n    [remove_item]: IMPORTANT SYNTAX CHANGE: Default x,y=$x1,$y1\n    is no longer supported, but instead all locations on the map chosen if\n    no SLF keys are supplied. No wmllint rule in official release but patch\n    in bug #18522.\n    [event][item]: If x = and y= aren't explicitely given no longer throw an\n    error but choose locations according to SLF behavior.\n   * Allowed [modify_turns]current= to change to an earlier current turn\n   * Added [primary_attack] support to [harm_unit]\n   * Added wml tag [store_items]\n   * [harm_unit] now supports a harmer unit and experience calculation.\n   * Added support for 24 hour ToD.\n   * Added WML validation system based on schema validation.\n   * Enabled validation for GUI WML.\n### Miscellaneous and bug fixes\n   * Teach wmllint to fix deprecated implicit side=1 in [store_gold], [gold]\n    [remove_shroud], [place_shroud], [modify_side], [modify_ai] actions\n   * Fixed bug #17150: fix naming confict with OpenBSD macro by renaming\n   * Added \"-Wno-strict-aliasing\" to the default compiler flags\n   * Whiteboard planning system:\n    * Made the whiteboard respond better to :droid, :give_control, etc.\n    * Removed chat notification upon activating the whiteboard\n   * Added advanced preference to ignore the encountered units\n    list and show all unit types in the game Help\n\n## Version 1.9.8\n### Campaigns\n   * Fixed deprecation warnings about \"empty side=\"\n### Language and i18n\n   * Updated translations: British English, Estonian, Indonesian, Irish,\n    Latin, Old English, Russian, Vietnamese\n### Lua API\n   * added support for slider and progress_bar widgets to\n    wesnoth.get_dialog_value\n   * added support for text_box, slider, and progress_bar widgets to\n    wesnoth.set_dialog_value\n   * new wesnoth.races table\n   * wesnoth.get_terrain_info can now retrieve the editor_name field\n### Multiplayer server\n   * Handle incoming [whiteboard] data\n   * Treat inactive forum accounts as unregistered users to prevent abuse\n    of unverified registrations\n### User interface\n   * Converted New Folder dialog to GUI2\n   * Moved Animate Map option from Advanced Preferences to Display\n   * Moved Reverse Time Graphics display option to Advanced Preferences\n   * Moved Scroll Tracking of Unit Actions display option to Advanced\n    Preferences, renamed to Follow Unit Actions\n   * Moved Unit Standing Animations option from Advanced Preferences to\n    Display\n   * Removed window decorations from GUI2 lobby\n   * Sort the Recruit menu by localized unit type names (feature #18294)\n   * Whiteboard planning system:\n    * Added a new planned action type: \"Suppose dead\"\n    * Changed behavior of invalid actions (no longer immediately discarded)\n    * Disabled undo while planning mode is active\n    * Made whiteboard plans visible to allied network players\n### Terrains\n   * Tweaked gameplay-visible names of terrain types, and restored many\n    missing ones.\n### Miscellaneous and bug fixes\n   * CMake build system:\n    * Disabled building of libana by default\n    * Removed \"-Wno-strict-aliasing\" from the default compiler flags\n   * Fixed bug #18117, saved games with Qatif-al-nar became corrupted\n   * Fixed bug #18120, where Khalifate units were not getting the default AMLA\n   * Patch #2663: Make wesnoth-optipng work on systems with BSD stat\n   * Started working on the new asio based network subsystem. boost.asio\n    (along with boost.thread and boost.system) is now a dependency for\n    the client no matter whether ANA is enabled.\n   * Support for gamepads/joysticks\n\n## Version 1.9.7\n* Graphics:\n   * Terrains:\n    * Modified Deep Water tiles for greater contrast with Shallow\n    * New Dead Great Tree\n   * Portraits:\n    * Drake Warden\n### Language and i18n\n   * Updated translations: Afrikaans, British English, Chinese (Traditional),\n    Galician, German, Greek, Indonesian, Irish, Japanese, Korean, Latin,\n    Lithuanian, Old English, Portuguese (Brazil), Serbian, Spanish, Swedish,\n    Vietnamese\n### Lua API\n   * proxy getters and setters for unit attributes extra_recruit\n    and advances_to\n   * new function wesnoth.add_known_unit\n   * new proxy getters for sides: fog, shroud, hidden, name, color\n   * new function wesnoth.get_time_of_day\n   * new functions os.clock, os.date, os.time and os.difftime\n### Multiplayer\n   * New \"Shuffle sides\" option in MP creation list, allowing to randomize\n    player to side assignment (patch #1937 by Quetzalcoatl)\n### User interface\n   * Fix starting location labels being initially invisible in the map editor\n    (bug #17956).\n   * Fixed bug #18000, #18099: Show a wrongly entered MP password and crash\n    upon editing this text.\n### WML engine\n   * added mode=replace to [modify_unit] to replace rather than merge unit subtags\n    (does not apply to object, trait, effect, or advancement)\n   * new attribute team_name= in SSFs\n   * added [event][filter_side]<SSF keys> support\n   * added support for inline SSF to [chat]\n   * added support for inline SSF to [store_gold]\n   * added support for inline SSF to [store_side], added attribute\n    \"side\" in the created array\n   * introduced [has_unit]search_recall_list=yes|no (def no) parameter in SSFs\n   * support for leader specific recruit lists\n    * [unit] extra_recruit= -- defines a unit with a specific recruit list\n    * [event] [allow_extra_recruit] [filter] [/filter] type=\n      -- adds unit types to a leader's recruit list\n    * [event] [disallow_extra_recruit] [filter] [/filter] type=\n      -- removes unit types from a leader's recruit list\n    * [event] [set_extra_recruit] [filter] [/filter] extra_recruit=\n      -- assigns a new recruit list to the leader\n   * support for leader specific recall filters\n    * [unit] [filter_recall] <SUF>\n      -- The unit can only recall units which pass the SUF\n   * Removed the Liminal alignment\n   * Fixed: a divide by zero in the calculate_map_ownership_function function\n   * Possibly fixed: rounding errors when using ^ in formulas (bug #18165)\n   * Animation will now cycle according to a WML parameter, use with caution\n   * Toplevel [tunnel] tags are now ignored rather than cause assertion\n    failures (bug #18201).\n### Miscellaneous and bugfixes\n   * Fixed: issues with singular variant iterators\n   * Fixed: the Wescamp script download part\n   * Fixed the ingame command line not accepting\n    characters accessible via AltGr (certain keyboard layouts)\n    on windows systems\n   * Started using Boost.Program_options for command line parsing (new\n    dependency)\n   * Commandline syntax changes:\n    * --ai_config renamed to --ai-config\n    * --new_storyscreens renamed to --new-storyscreens\n    * --no-delay renamed to --nodelay\n    * --campaign option split into --campaign, --campaign-difficulty and\n      --campaign-scenario\n    * split optional comma-separated defines list from --preprocess= (or -p=)\n      to --preprocess-defines= option\n    * dropped --log alias for --log-error\n   * Fixed: Compilation on kfreebsd (Debian bug #626313)\n   * Fixed: CMake Subversion revision script causing build errors with MSVC.\n   * Fix time of day not changing in time area (bug #16584, bug #17543)\n\n## Version 1.9.6\n### Campaigns\n   * The Hammer of Thursagan:\n    * Fixed time over event in the High Pass\n      (http://forums.wesnoth.org/viewtopic.php?f=4&t=33435)\n### Graphics\n   * Portraits:\n    * Added portrait for Khalifate Hakim.\n   * Terrains:\n    * New Igloo village\n### Language and i18n\n   * Updated translations: Afrikaans, British English, Dutch, French, Galician,\n    German, Greek, Hungarian, Irish, Japanese, Latin, Lithuanian, Old English,\n    Portuguese (Brazil), Slovak, Spanish, Swedish, Vietnamese\n### Lua API\n   * max_attacks (read) and attacks_left (read/write) field of lua proxy units\n   * new function wesnoth.compare_versions\n   * new function wesnoth.get_sides\n### Multiplayer\n   * New era: the default+Khalifate era adds a new faction for multiplayer play.\n   * New maps: 2p Thousand Stings Garrison, 2p Arcanclave Citadel, 6p Volcano.\n   * Updated maps: Caves of the Basilisk, 2p Hamlets, The Freelands, Silverhead\n    Crossing, Sablestone Delta, Fallenstar Lake, Den of Onis.\n### Unit changes and balancing\n   * Increased the pierce attack of the Orc Archer from 5-3 to 6-3.\n   * Decreased the HP of the Cavalryman from 38 to 34.\n   * Decreased the HP of the Dragoon from 53 to 49.\n   * Decreased the HP of the Cavalier from 68 to 64.\n   * Changed the 'feral' trait to give 50% instead of 40% defense on villages.\n### User interface\n   * Patch #2625: added a GUI interface to changing control in multiplayer\n    games. The command to access it is currently :give_control\n### WML engine\n   * Patch #2610: changed default for turns in [scenario] tag to -1 (unlimited)\n   * Introduced [recall]check_passability=yes|no key (default yes)\n    for placing units only on suitable terrain when recalling.\n   * Extended [heal_unit] to also \"heal\" moves, attacks, statuses\n    and several units at once.\n### Miscellaneous and bugfixes\n   * Changed : replaced all sticky excpetions by lua jailbreak exceptions\n    (fixes bug #17743).\n   * Applied patch #2611: removed redundant own_side attribute\n   * Applied patch #2600: improved MP creation screen logging\n   * Added: New gui2 iterator framework.\n   * Patch #2624: Solved enemy leaders never appearing on status table on\n    foggy/shrouded maps, even when visible.\n   * Fix linker issues with cmake and scons.\n\n## Version 1.9.5\n### Graphics\n   * Portraits:\n    * New portrait for Drake Enforcer/Thrasher.\n   * Terrains:\n    * Moved the ruined desert castle to core.\n    * New and improved swamp villages.\n    * New and improved tropical villages.\n    * New ruined desert keep.\n    * New stones and sand drifts embellishment.\n    * New tall encampment keep.\n    * New water lilies embellishment.\n   * Other:\n    * New elf-style flag.\n### Language and i18n\n   * Added missing Windows locale associations\n   * Fixed Windows locale association for tr/Turkish\n   * New translation: Old English.\n   * Updated translations: British English, Chinese (Simplified),\n    Chinese (Traditional), Czech, Dutch, Finnish, French, Galician, German,\n    Irish, Italian, Japanese, Portuguese (Brazil), Slovak, Spanish, Vietnamese\n   * Updated DejaVu Sans to 2.33\n### Multiplayer\n   * Don't show team labels to observers (feature request #9648).\n   * Recalculate map labels to account for team changes when switching players\n    with :control.\n   * Renamed /adminmsg command to /report to better reflect its use.\n### User interface\n   * Added: circle to the gui2 canvas.\n   * Added: new tip class for tooltips and helptips.\n   * Reimplemented: the tooltips use the new tip class and look much better\n    (bug #14818).\n   * Fixed: the tooltips no longer stack when the MP dialog is opened\n    (bug #16915, bug #16670).\n   * Implemented: the helptips.\n   * Changed: the scroll wheel, in gui2 code, now also follows the mouse focus\n    instead of the keyboard focus.\n   * Fixed again: Not showing the twml_exception dialog when gui2 was called\n    from Lua (bug #17405).\n   * Fix old multiplayer lobby glitches caused by the loadscreen code when\n    skipping to the lobby with -s <server> command line.\n   * Add 1.25, 1.75 and 3.0 animation speed factors to display preferences\n    (feature request #15713).\n   * Implemented: The expose event in gui2.\n   * Fixed: Image widget now honors its minimum and maximum size.\n   * Fixed: Black lines in the minimap.\n   * Fixed: tooltips no longer capture the keyboard (bug #17797).\n   * Changed: Allow underline in the gui2 font style.\n   * Fixed: Not wrapping of transient dialog text (bug #17945).\n### WML engine\n   * Added support for map_passable and leader_passable for [placement]\n   * Allow [color_range] and [color_palette] nodes to be inserted at top-level\n    by add-ons to globally define custom ranges and palettes.\n   * New [tunnel] tag to create teleports between two SLFs for units matching\n    a SUF. The [teleport] ability retrofitted to use this tag.\n   * New [allow_end_turn] and [disallow_end_turn] commands to enable/disable\n    the human players' ability to end their turn from the user interface\n    (feature request #13141).\n   * [side] tags may now contain [leader] tags to create their leader(s), as\n    opposed to mixing the leader's attributes with the side attributes.\n   * New wml action tag [transform_unit], like the {TRANSFORM_UNIT..} macro.\n   * [unstore_unit] now accepts a fire_event= key to control firing of\n    (post) advance events and a check_passability= (default yes, previously\n    it was always no/non-existent) key controlling whether to check for\n    suitable terrain when placing units\n   * Renamed [teleport]ignore_passability= to check_passability= to get rid of\n    a confusing negation.\n   * Introduced [move_unit]check_passability= (default yes, previously it was\n    always yes/non-existent) key to allow disabling the check for suitable\n    terrain.\n   * Added TAKE_IT_STRING and LEAVE_IT_STRING arguments to PICKUPPABLE_ITEM\n   * Added an engine-defined WESNOTH_VERSION macro that expands to the Wesnoth\n    engine version string.\n   * New #ifver/#ifnver preprocessor macro to compare Wesnoth or UMC-defined\n    version numbers as in '#ifver WESNOTH_VERSION >= 1.9.5'.\n   * The tags [remove_shroud] and [place_shroud] now take comma-separated lists\n    of sides.\n   * The [gold] tag now takes a comma-separated list of sides.\n   * Added automatically stored variable this_unit to [modify_unit]\n    for self-reference via $this_unit\n### Miscellaneous and bugfixes\n   * Fixed: g++ compiler warnings.\n   * Added: cmake target to build the gui design pdf.\n   * Removed support for TinyGUI: Devices with a resolution below 800x480 are\n    not supported anymore.\n   * Changed: The minimum screen resolution is 800x480, no need to use\n    --smallgui anymore.\n   * Reverted hotkey for clearing cache for Mac OS X back to F5. Control-F5\n    still works (and is necessary when in windowed mode).\n   * Let cmake use absolute locale dirs when set to an absolute path.\n    (Windows always uses a relative path.) (patch #2280)\n   * Make it impossible to build Wesnoth without the editor.\n   * Fixed a replay OOS issue caused by ToD areas defined outside of events\n    (bug #17783).\n   * Changed: when loading a file fails to open try with a .gz file.\n   * Unit invalidation is processed in parallel using OpenMP\n   * Allow redirection of the logger.\n   * Polished gui2 code.\n   * Fixed: Newer versions of FriBidi were no longer recognized.\n   * wmlindent now handles #ifhave, #ifnhave, #ifver and #ifnver properly in\n    WML.\n\n## Version 1.9.4\n### AI\n   * Fixed bugs #15861, #16223, #17206: fix passive_leader and\n    passive_leader_shares_keep.\n### Campaigns\n   * Delfadors Memoirs:\n    * Fixed bug #17273: Made difficulty selection conform to the style of all\n      other mainline campaigns\n   * Descent into Darkness:\n    * New set of portraits.\n   * Eastern Invasion:\n    * Fixed bug #15950: Made 11_Captured remove units from recall list,\n      preventing units being 'healed' upon load.\n### Engine\n   * Fixed bug #17355: split team initialization into two parts to prevent\n      wrong determination of allied sides.\n### Formula language\n   * Added substring function.\n   * Added length function, to determine the length of a string.\n   * Added concatenate function.\n   * Added sin (sine) function.\n   * Added cos (cosine) function.\n### Graphics\n   * Terrain: added transitions for the wood floor.\n### Language and i18n\n   * New translation: Irish\n   * Updated translations: Dutch, Finnish, Galician, German, Hebrew, Japanese,\n    Korean, Lithuanian, Russian, Slovak, Vietnamese\n### User interface\n   * Fix alignment of text labels in certain confirmation dialogs (e.g.\n    Quit Game/Editor)\n   * Fix behavior of add-ons download dialog on double-click/enter\n    (bug #17345)\n   * Several improvements to the gui2 progress bar.\n   * New add-ons description dialog with further details, including bundled\n    translations.\n   * Add new gui2 drawing widget.\n   * Fix gui2 lines drawing glitch, which happens in some rare cases.\n   * Fixed: Not showing the twml_exception dialog when gui2 was called from\n    lua (bug #17405).\n   * Fixed: Properly validate the height of a portrait (bug #17399).\n   * Increase text area dimensions on story screens and improve space use on\n    smallgui configurations.\n### WML engine\n   * New [harm_unit] tag for damaging, and eventually killing, units.\n   * [allow_recruit], [disallow_recruit] and [set_recruit] now accept a\n    comma-separated list for side=.\n   * Unit types, units, and unit effects, can use small_profile= in\n    addition to profile= to precisely describe portrait locations.\n   * New ~BG(color) modifier for setting the background color of an image.\n   * Made [inspect] tag work even without debug mode.\n   * [move_unit_fake] now accepts an image_mods= attribute, specifying\n    a list of path functions to be applied to the moving fake unit.\n### Miscellaneous and bugfixes\n   * Fix --data-dir command line option\n   * Better detect mouse button state when window is activated.\n   * Change wiki comment format.\n   * Polish wiki_grabber.py code.\n   * Names of attack ranges are now read from the range_$RANGE keys in\n    data/hardwired/english.cfg. (feature #17395)\n   * Names of attack types are now read from the type_$TYPE keys in\n    data/hardwired/english.cfg.\n   * Un-hardwired the [language] block in data/hardwired/english.cfg, and\n    moved the file out of that subdirectory.\n   * Add update-po4a-man and update-po4a-manual targets to cmake.\n   * Added: Extra validate macro VALIDATE_WITH_DEV_MESSAGE.\n   * Fixed: Link to libintl with cmake (bug #17152).\n   * Fixed: Better cmake detection for older FriBidi versions (bug #17151).\n   * Added: wiki_grabber.py the wml_reference description comment class.\n   * Removed support for the \"autotools\" build system\n\n## Version 1.9.3\n### Campaigns\n   * Descent into Darkness:\n    * Allow Darken Volk to open gates in A Small Favor part 3 (bug #17250)\n   * Legend of Wesmere:\n    * Fixed the recursion of the scenario 4 bug.\n    * Added the Elvish Horse Archer as alternative advancement for the scout\n    * (Singleplayer only) Added the Dwarvish Runemaster as advancement for the\n      fighter.\n   * The Rise of Wesnoth:\n    * New portraits for Jevyan, Typhon and Rithrandil.\n### Graphics\n   * Terrain:\n    * Fixed display of UMC castles (which were being overdrawn by regular human\n      castles).\n    * Added ruined cottage and ruined hill village.\n    * Added a fence embellishment terrain.\n### Language and i18n\n   * Updated translations: Dutch, Finnish, German, Italian, Japanese, Korean,\n    Portuguese (Brazil), Spanish, Vietnamese\n### Multiplayer\n   * Fixed Siege Castles' description to state the correct map size, 36x36\n    rather than 40x30 (bug #15835)\n### Multiplayer server\n   * Increased username length limit from 18 to 20\n### User interface\n   * Converted some dialog boxes to GUI2\n   * Campaign difficulty descriptions must use Pango markup now\n   * Added a new hotkey sequence (by default unassigned) to toggle animated map\n    mode (feature #15976).\n   * Removed bottom border from character [message] dialogs.\n   * Improved the width of portraits in the wml_message once the maximum text\n    width is reached.\n   * Fixed display of unit-specific image mods on the Status Table dialog\n    (bug #16285)\n### WML engine\n   * Created tag [petrify] (bug #17077). Moved [unpetrify] to lua. Syntax\n    changed from [unpetrify][filter]<SUF> to [unpetrify]<SUF>.\n   * New [floating_text] tag for creating floating text similar to the damage\n    and healing numbers.\n   * Introduced [recall]fire_event=yes|no (default no) parameter (fixes\n    bug #17083).\n   * Deprecated the following macros: FLOATING_TEXT, CAPTURE_FILTERED_VILLAGES,\n    SET_OBJECTIVES, VICTORY_CONDITION, DEFEAT_CONDITION, ON_EVENT, ON_PRESTART,\n    ON_START, ON_SIDETURN, ON_TURN, ON_VICTORY, ON_DEFEAT, ALLOW_UNDO,\n    ON_TILE_ONCE, SIDE_PLAYER, SIDE_COMPUTER, AMLA_TOUGH, ITM_BOOK1, ITM_TREE1,\n    RECALL_OR_CREATE_UNIT, RECALL_OR_CREATE, ITM_GLOWING_BRAZIER, and REDRAW.\n   * Make [select_unit] highlight= (def. yes) work as intended for displaying\n    the selected unit's reach (bug #16819)\n### Miscellaneous and bugfixes\n   * Fixed the submerge ability not working on all deep water terrains.\n\n## Version 1.9.2\n### Campaigns\n   * Descent into Darkness:\n    * Made 'Alone at Last' easier.\n   * Legend of Wesmere:\n    * Map updates.\n    * Implemented gold carryover between the multiplayer chapters.\n    * Added extra keeps to keep up with the growing number of leaders.\n    * Fixed scenario 04 not being playable.\n    * Corrected the objectives of scenario 3.\n    * Bug fix for the fleeing orcs in scenario 07.\n   * Heir to the Throne:\n    * Fixed a bug causing Warven in 'Cliffs of Thoria' not able to move through\n      mountains.\n   * Liberty:\n    * New set of portraits.\n    * Changed Relnan's character to a woman.\n    * New (unanimated) sprites for the Rogue Mage unit line.\n    * Various balancing changes to the Rogue Mage unit line.\n   * Northern Rebirth:\n    * Make it possible to choose whether a unit should pick up the\n      Rod of Justice or not.\n   * The Rise of Wesnoth:\n    * New set of portraits, except for Jevyan and Rithrandil.\n    * Gave Jevyan's familiar a custom unit type.\n   * Sceptre of Fire:\n    * Thursagan can now advance to Dwarvish Arcanister.\n    * New (unanimated) sprites for the Dwarvish Miner.\n   * Son of the Black Eye:\n    * Changes to the objectives and gameplay of 'Clash of Armies'.\n   * The South Guard:\n    * New portrait for Mal M'Brin.\n### Editor\n   * Verbose terrain names can be specified using terrain.editor_name to\n    be displayed in the editor as \"<verbose name>/<common name> (<underlying>)\"\n    (bug #16450)\n### Graphics\n   * Terrain:\n    * Any Castle or Keep except Dwarvish can now be combined without large gaps\n      or extra walls.\n    * New graphics for wooden bridges.\n    * Added variant of chasm bridge for over water.\n    * New transitions from all Hills and Mountains to Water.\n    * Underground and chasm friendly volcanoes.\n    * A new desaturated color of shallow water (Wwg).\n    * Much improved lava transitions.\n    * A new desaturated ocean color (Wog).\n    * New Waterfall automatically placed between chasm and water or swamp.\n    * New Sand-to-Water transitions\n    * Wave animations on sand\n    * Added Ruined Human City terrain\n   * Animations:\n    * Standing anims: Fencer, Spearman, Dwarf Guard.\n    * Idle anims: 2 for the Spearman.\n    * Fixed drakes flying or not flying over all the correct terrains.\n   * Portraits: Drake Blademaster, Hurricane Drake, Drake Flameheart, alternate\n    Swordsman.\n   * Units: New base frame and animations for Mudcrawler.\n### Language and i18n\n   * Updated translations: Chinese (Traditional), Czech, Dutch, Galician,\n    German, Indonesian, Italian, Japanese, Korean, Lithuanian,\n    Portuguese (Brazil), Russian, Shavian, Slovak, Slovenian, Vietnamese\n### Unit changes and balancing\n   * Decreased the physical resistances of the Dwarvish Scout and Dwarvish\n    Pathfinder to 10% and those of the Dwarvish Explorer to 20%.\n   * Decreased the village defense of Chocobone from 60% to 40%.\n   * Moved the Fire Guardian unit to core.\n   * Fixed villages on snow and sand hills providing worst instead of best\n    movement.\n   * The complete Dwarvish Runesmith line moved from SoF to core along with new\n    sprites.\n### User interface\n   * Fixed: Addon dialog in title screen shows last host again.\n   * Fixed: Addon download progress dialog shows the correct addon name again.\n   * Fixed: Fullscreen hotkey works again in the title screen.\n   * Fixed: Termination of the game when making the title screen small\n    (bug #16724).\n   * Fixed: A resize glitch causing resize events to be lost.\n   * Changed: All buttons in the title screen now have a hotkey.\n   * Changed: Refresh cache hotkey is CTRL+F5 on the Mac by default now.\n   * Fixed: Don't trigger an assertion failure if no tips are defined\n    (bug #16731).\n   * Fixed: Enter no longer shows the credits in the title screen.\n   * Changed: The title screen now has a maximum width for the tips text.\n   * Changed: Improved the layout of the title screen.\n   * Fixed: Changing the language updates map and logo in title screen\n    (bug #16631).\n   * Fixed: No longer cut off large title screen logos (bug #16632).\n   * Refresh cache (F5) works in editor.\n   * Add a \"Save All Maps\" menu item and hotkey in editor.\n   * [object] description messages are now shown using GUI2, allowing usage of\n    Pango markup (bug #16859).\n   * Whiteboard planning system:\n    * Fixed: Crash when creating a planned move on Windows (bug #16705)\n    * New \"Execute all actions\" command bound to CTRL+y\n### WML Engine\n   * id= in SUFs now accepts a comma-separated list.\n   * [capture_village] now accepts a full SLF.\n   * events can be fired depending on a condition using [filter_condition].\n   * Added support for SLF to [terrain]. Note that the SLF's terrain= key is\n    not valid; terrain= specifies the new terrain instead like it used to do.\n    Filtering for terrain can be done with the [terrain][and]terrain=\n    workaround.\n   * Renamed [removeitem] to [remove_item].\n   * added new parameters directional_x and directional_y to animations\n   * added new parameters auto_vflip and auto_hflip to animations\n   * Made it so that units affected by [hide_unit] don't appear on the minimap\n    (FR #16796)\n   * New [store_reachable_locations] tag for storing the locations reachable (by\n    movement, attack or vision) of units.\n   * New [select_unit] tag, with optional fire_event (def. no) and hilight_hex\n    (def. yes) attributes (FR #16819)\n   * New [message] scroll= attribute to specify whether the game view should\n    scroll to the speaking unit (defaults to yes) (FR #16843)\n   * New key 'random_start' (default = yes) in [terrain_graphics][image]\n    allowing to disable random animation shift in animated terrains.\n   * Added a new key \"primary\" to animation to separate frames that should be\n    treated as primary from frames that shouldn't\n   * Made it so that if several [advancefrom] tags for a certain base unit are\n    encountered, the lowest experience= keys from these is chosen (so if\n    there's only one [advancefrom] referencing this base unit the experience\n    needed can be increased).\n### Miscellaneous and bugfixes\n   * Changed: Lowered severity of some gui2 timer log messages.\n   * Units created in debug mode now play their recruit animation (FR #16766).\n   * Fixed: properly update cmake revision numbers (bug #16483)\n   * Fixed: hotkeys dialog in editor is big enough to display them correctly.\n   * Fixed: Shifted windmill animation (bug #16529)\n   * Files matching *.wesnoth and *.project in add-ons are now ignored by\n    default when uploading\n\n## Version 1.9.1\n### AI\n   * Fixed bug #16585: made AI move in targeting phase even if for some of the\n    'best' units moves to targets are impossible\n### Campaigns\n   * Unified the campaign description of the number of scenarios. Now the\n    number reflects only the battle scenarios of each campaign.\n   * A Tale of Two Brothers:\n    * New portraits for Arne and Bjarn.\n   * Dead Water:\n    * Fixed the last scenario not working due to an 'unknown scenario' error.\n   * Descent into Darkness:\n    * Fixed the 'A Small Favor' scenarios being unbeatable.\n   * Eastern Invasion:\n    * Increased Owaec's hitpoints and attack stats, and added a new weapon\n      special to his morningstar on levels 2 and 3.\n   * Legend of Wesmere:\n    * Splitted the multiplayer port into five chapters with 3 difficult levels\n      each.\n      * (Beta)  Chapter one, a two player campaign, ends after scenario 3.\n      * (Beta)  Chapter two, a three player campaign, ends after scenario 7.\n      * (Alpha)  Chapter three, a four player campaign, ends after scenario 13.\n      * (Alpha) Chapter four, a four player campaign, ends after scenario 17.\n      * (Alpha) Chapter five, a two player campaign, ends with the single\n                player version.\n      * There is no savefile compatibility between saves from an older version\n        of Wesnoth.\n    * Scenarios\n      * Scenario one's objectives changed.\n      * Completed a rewrite of scenario 5, changing the objectives, ai and\n        game mechanism slightly.\n      * Scenario 7\n        * Shortened by letting the orcs flee if their numbers went too low.\n        * The player can choose between two different starting positions for\n          Olurf.\n      * Rebalanced Scenario 14.\n    * Miscellaneous and bug fixes:\n      * Renamed some of the locations at the Kalian to fit with the map\n        changes.\n      * Fixed scenario number 5 where the gold carrier's overlay was not\n        removed.\n      * Fixed the bug with the army split up before scenario number 9.\n      * Map and coding updates regarding the new terrain types and graphics.\n      * Added keeps to every scenario to match the number of leaders\n        (singleplayer) or sides (multiplayer).\n      * Removed the obselete Haldric the second portrait.\n   * The Rise of Wesnoth:\n    * Made surprise enemy spawns appear in a less immediately dangerous way in\n      'The Midlands', 'The Swamp of Esten', 'Peoples in Decline',\n      'A Rough Landing', 'The Vanguard', 'Return of the Fleet' and\n      'Rise of Wesnoth'.\n    * Clarified the early finish bonus conditions in 'Fallen Lich Point' and\n      'Sewer of Southbay'.\n    * Allowed Merman Hunters to be recruited alongside Merman Fighters.\n   * Sceptre of Fire:\n    * Fixed bug #16542: Alanin not appearing in the epilogue.\n   * The South Guard:\n    * Fixed a bug causing a freeze at the beginning of 'The Long March'.\n### Editor\n   * Added a standard click sound to brush bar buttons (bug #15635)\n### Graphics\n   * New animations: Merman Hunter ranged animation and defence, Warrior se\n    attack and defence, Drake Flare and Flameheart leadership.\n   * New portraits: Inferno Drake, Mermaid Initiate alternate, Goblin spearman\n    alternate\n   * Terrain:\n    * Tropical Ocean added\n    * Improved transition between void and off-map and with both and the\n      oceans.\n    * Snowy Human City Village added\n    * Muddy Quagmire (Sm) added - alias of swamp\n    * Old Desert Mountains replaced with a non-green version of the mountains\n    * Slightly tweaked dirt colors and new, smooth dirt transitions\n    * Better transitions for Cobbled Road, Clean Cobbles, and Overgrown Path\n    * Fixed hard edge on immpassible mountains clouds.\n    * Fixed Transition of leaf litter to water.\n    * Fixed hard edge on top of cave beams\n    * Fixed lava drawing extra transition on off-map\n    * Any Castle or Keep except Dwarvish can now be combined without large gaps or extra walls.\n   * Better rendering of unit in water: transparency decreases with depth.\n### Language and i18n\n   * Updated fonts: DejaVu 2.32\n   * Updated translations: Chinese (Simplified), Chinese (Traditional), French,\n    German, Hungarian, Indonesian, Japanese, Lithuanian, Polish, Russian,\n    Slovak, Vietnamese\n### Multiplayer\n   * Updated maps: 4p Hamlets.\n   * Updated most of the maps taking advantage of the new terrains.\n   * Side vision is now switched before the healing phase of the turn (only\n    visible in hotseat)\n   * Re-added the old MP lobby.\n### Terrain WML\n   * Updated height adjust of desert, orcish, and snowy keeps.\n   * Fixed broken aliasing of the wooden floor.\n   * Stop using negative unit height adjust for water terrains.\n   * Chasm bridges can now be placed on any terrain, and the lit-by-lava\n    variants are automatically used when placed over lava.\n   * Removed village terrains: ^Voha, ^Voh, ^Vhms, ^Vhm, ^Vcha, ^Vch, ^Vcm. See\n    the village aliasing change listed below.\n### Unit changes and balancing\n   * Decreased the melee and ranged attack of the Footpad from 5-2 to 4-2.\n   * Decreased the XP requirement of the Mage from 60 to 54.\n   * Decreased the XP requirement of the White Mage from 150 to 136.\n   * Decreased the XP requirement of the Mermaid Priestess from 150 to 132.\n   * Added the Ghast unit from DiD to core with new base frame and animations.\n   * Made the Giant Rat have a normal AMLA instead of an AMLA with no fullheal.\n   * All bats are now given a 'feral' trait which caps their defense on villages\n    to 40% and also making them receive only one random trait.\n   * All villages except for water and swamp villages are now aliased to both\n    village and the terrain they're placed on, giving best movement and defense\n    of both.\n### User interface\n   * Changed: the title screen is now gui2 (bugs #12906, #12908 and #15987).\n   * Use red/green color for damage in sidebar when modified by bonus/malus\n   * Placing a waypoint on a capturable village will now make the unit pause\n    there to capture it (FR#16603)\n   * Fixed bug #16653: Avoid markup when calculating the text length for\n    ellipse text (Debian bug #547476).\n   * Damage type tooltip now also shows damage after resistance calculation.\n### Whiteboard\n   * Added cost display for planned recruits and recalls\n   * Fixed bug #16554 : Infinite attacks with the whiteboard\n### WML Engine\n   * Added tag [kill][secondary_unit] for specifying the killing unit.\n   * Added a LOW_MEM define to WML to be able to adapt WML to low memory\n    builds.\n   * Added event: side turn X\n   * Added event: turn X refresh\n   * Added [chat] tag for outputting public or private messages to the chat.\n   * Added events: turn end and turn X end\n   * Added events: side turn end, side X turn end, side turn X end,\n    and side X turn Y end\n   * Added \"variations\" key and \"@V\" symbol in [terrain_graphics] (syntax is\n    not final, and may change later)\n   * Fixed a bug causing the PUT_TO_RECALL_LIST macro to freeze the game.\n   * Modified [set_variable] \"divide\" so that it always performs a\n    floating-point divide.\n   * Allow time_area to define local time of day on map border (bug #16508)\n   * Allowed negative defense values as a way to set upper bounds,\n    e.g. village=-60 means that a unit cannot have less than 60 def (more\n    than 40% def) on terrains containing villages.\n### Miscellaneous and bug fixes\n   * Removed: statistics upload code.\n   * Changed: compiler mode set to c++98\n   * Optimize terrain rules which speed up cache creation and loading\n   * Optimize rendering of flying units\n   * Fix crash when attacking in fog (using teleport+attack to a fogged village)\n   * Fixed a bug causing turn counter in the objectives dialog to duplicate when\n    the objectives are viewed several times.\n   * Replace \"working peasant\" (indicating missing images in debug mode) by\n    half-transparent \"Image not found\"\n   * Improved rendering algorithm: reduced memory requirements and a much faster\n    render loop; very noticable on big maps\n   * Improved framerate by removing useless 20ms delay between frames.\n\n## Version 1.9.0\n### AI\n   * Fixed bug #15994 : Formula AI candidate actions specified in [side][ai]\n    don't always work.\n   * Fixed bug #16406: Broken AI of SoF 1, and improved upgrade procedure for\n    old-style AI config.\n### Campaigns\n   * An Orcish Incursion:\n    * Made 'Valley of Trolls' easier on the easiest difficulties.\n   * Dead Water:\n    * New campaign added to mainline from the Wesnoth-UMC-Dev Project's\n      repository (Intermediate level, 13 scenarios)\n   * Descent into Darkness:\n    * 'A Small Favor' (part 1) now gives an early finish bonus.\n    * Dela is no longer invulnerable in 'Alone at Last' but cannot be safely\n      assassinated.\n   * Eastern Invasion:\n    * New (unanimated) sprites for Owaec.\n    * Made it slightly easier to rescue the knights in 'Mal-Ravanal's Capital'.\n    * Increased the turn limit in 'Two Paths' from 18/16/14 to 18/17/16.\n   * Heir to the Throne:\n    * Made 'Cliffs of Thoria' much easier.\n    * Made 'Isle of the Damned' slightly easier.\n   * Liberty:\n    * Increased the difficulty of 'Unlawful Orders', 'The Grey Woods' and 'The\n      Hunters' and 'Glory'.\n   * Northern Rebirth:\n    * In Showdown, you recover full gold only if Sisal survived the previous\n      scenario.\n   * Son of the Black Eye:\n    * Increased the turn limit in 'Black Flag' from 30/25/20 to 30/28/24.\n   * The South Guard:\n    * A new set of story art by Scavenger.\n    * In 'Vengeance', the final objective is now revealed at the beginning of\n      the scenario.\n    * New images for the Infantry Lieutenant and Commander by Rhyging5\n   * Scenarios in Eastern Invasion, Liberty, Northern Rebirth, Son of the\n    Black-Eye and The Rise of Wesnoth which feature computer-controlled allies\n    now allow you to affect their behavior via the right-click menu.\n### Graphics\n   * Added new portraits for: the Orc Archer, Crossbowman, Slurbow, Sayer,\n    several new Orc Grunt line alternates, Draug and one alternate, Ghoul,\n    Skeleton Archer line, Giant Mudcrawler, Orc Leader/Ruler, alternate Leader\n    and Sovereign, alternate for Loyalist Swordsman, Drake Fighter, Burner.\n   * New animations (not yet including leading animations) for Drake Flare\n    and Flameheart, Dwarf Lord ranged attack, Dwarf guard melee attack, Dwarf\n    Pathfinder idle, Ruffian attack and defend, Spearman s and se attack.\n   * New base frame and animations for Armageddon Drake.\n   * Fixed bug causing Drake Clasher's animation to display incorrectly.\n   * Added missing help version for Sea Serpent portrait.\n   * Items & scenery: New anvil, and revised trash and lighthouse\n   * Two new flag styles.\n   * Animate terrain in editor\n   * New advanced preference to use a local ToD color-shift\n   * Added framework allowing to draw various arrow styles on the map.\n### Language and i18n\n   * Updated translations: British English, Catalan, Chinese (Simplified),\n    Chinese (Traditional), Czech, Dutch, Estonian, Finnish, French, Galician,\n    German, Hungarian, Indonesian, Italian, Japanese, Latin, Latvian,\n    Lithuanian, Polish, Russian, Serbian, Spanish, Slovak, Vietnamese\n   * Updated DejaVuSans to 2.31\n   * Fixed bug #15653: Made untranslateable strings translateable.\n   * Fixed bug #15843: Made untranslateable strings translateable.\n   * Fixed bug #15934: Flushed image cache when changing language\n   * Fixed bug #15937: Made untranslateable strings translateable.\n   * Make map labels store translatable strings, so when the language changes,\n    the labels also use the new translation.\n### Multiplayer\n   * Updated map: Ruins of Terra-Dwelve.\n   * Fixed bug #15865: missing WML Child error.\n   * Added the winner of the first Wesnoth map competition, the 2 player map\n    \"Elensefar Courtyard\" by krotop.\n### Music and sound effects\n   * New version of \"Northerners\" by Stephen Rozanc (TreizeCouleurs)\n   * New sounds for wolves and wolf riders. Removed all old wolf-* sounds.\n### Terrain\n   * all villages except water and swamp villages can now be placed on any base\n    terrain\n   * orcish, elven and human snow villages are now aliased to village,snow\n    instead of just to village\n   * orcish and human snow hills villages are now aliased to village,snowhills\n    instead of just to village,hills\n   * animated terrain animations are not synchronized anymore\n   * reworked macros to handle animations\n   * added new stone-wall-lit terrain\n   * made all animated terrains use the new macro system\n   * added a new \"snowy castle\" terrain\n   * added new mausoleum scenery\n   * added new \"snowy fort\"\n   * added new \"desert castle\"\n   * added new \"tropical water\"\n   * added new \"dead grass\" terrain\n   * improved dry grass \"savanna\" terrain\n   * improved green grass \"grassland\" terrain\n   * improved \"desert road\" terrain\n   * added new \"dark dirt\" terrain\n   * added new \"small stones\" embellishment\n   * added new \"small mushrooms\" embellishment\n   * fix for dwarven castle to cave wall alignment issue by Alarantalara\n   * made encampment and orc forts use regular dirt rather than a custom terrain\n   * created new editor group: \"embellishments\", and added desert plants to\n    that group\n   * improved snow terrain\n   * added \"leaf litter\" terrain\n   * added new \"mine rail tracks\" terrain\n   * added 3 new variants for log cabin\n   * added impassable snow mountains\n   * adjusted the color of various terrains for a more coordinated appearance\n   * added new dry hills terrain\n   * new ford that works with animated water\n   * improved cobbled road now also used for castle (not keep) floor\n   * new etherial abyss terrain added to mainline\n   * flower base terrain is deprecated, now available as an overlay\n   * added new clean cobbled road terrain\n   * added castle to chasm transitions\n   * improved human city village\n   * Dark flagstones mainlined from UtBS\n   * added castle to lava chasm transitions\n   * chasm type terrain now blend nicely with void and off-map\n   * new banks for transition between flat or cave terrains and water\n   * adjusted all underground terrain to harmonize with other terrains\n   * improved mini-map appearance for most chasm, wall and grass terrains\n   * stone path now matches other terrains\n   * added wooden floor terrain\n   * added mushroom farm terrain\n   * added volcano terrain.\n   * added a special blend transition for mountains next to chasms\n   * added snowy encampment\n   * special snowy chasm appears next to snow terrains\n   * added earth-toned chasm\n   * added earthy cave floor\n   * added hewn cave wall, earthy cave wall, and earthy hewn cave wall.\n   * animated water and swamp now use a double-sided transition to blend gradually into each other\n### Terrain WML\n   * rename TRANSITION_RESTRICTED and TRANSITION_RESTRICTED2 to\n    OVERLAY_ROTATION_RESTRICTED and OVERLAY_ROTATION_RESTRICTED2\n   * All unused macros are slowly removed to try to get a logical and complete subset of macros\n   * Allow to use local ToD terrain variants in [time_area]\n   * ToD key in terrain [variant] now accept a list of ToD\n   * New key 'set_no_flag' in [tile] which combines 'set_flag' and 'no_flag'\n### Units\n   * Giant Rat moved from DiD to core.\n### User interface\n   * Added the era AI in the list of AI shown when opening a game\n   * Added dialog for installation of add-on dependencies\n   * Removed the unused gui2 menu bar\n   * Added a window register framework\n   * Enabled the --new-widgets MP create dialog again\n   * Enabled the hidden join observe buttons per row\n   * Enabled alignment in labels\n   * Avoid resizing when next or previous button is pressed in the\n    --new-widgets title screen\n   * Added gui2 progress bar widget\n   * Added \"animated\" logo to the --new-widgets title screen\n   * Fixed the language is refreshed after the language is changed in the\n    --new-widgets title screen\n   * Implemented bug #15623 (patch #1568): On change resolution screen,\n    widescreen resolutions are now marked as such\n   * Added tooltips to the --new-widgets title screen\n   * Added a place holder upload statistics button in the --new-widgets title\n   * Fixed bug #15716: Lobby crash when refreshing with filtered out games\n   * Fixed bug #15768: Avoid parts of the previous game show in the lobby\n   * Fixed bug #15727: Allow wml message titles to wrap\n    screen\n   * Added the total number of villages to the status table lists\n   * Added a new attack dialog, available for testing with --new-widgets\n   * Patch #1645: Fixed a bug sending keyboard events to deactivated controls\n   * Deprecated the resize flag for gui2 image, use the resize_mode instead\n   * Patch #1639: Added handlers for keyboard (arrow keys) to move gui2 sliders\n   * Added new experimental list box implementation, available for testing\n    with -DGUI2_EXPERIMENTAL_LISTBOX\n   * Damage in sidebar now also take account of ToD and leadership\n   * More info in the weapon tooltip (damage bonus calculation and swarm effect)\n   * Terrain defense tooltip show terrain's info and defense calculation\n   * Level tooltip shows next advancements\n   * Each trait and special attack has its own tooltip\n   * Most sidebar tooltips have now a category indication\n   * Tooltips of ellipsed text are grouped in the last visible item's tooltip\n   * Increase a little tooltip's opacity\n   * Render grid above foreground terrain\n   * Clicking on some elements of sidebar now open the related help page\n   * Display weapon stats in recruit/recall dialog the same way as in sidebar\n   * Accuracy/parry have its own line and tooltip in sidebar.\n   * Add first, last, play and back buttons to storyscreens\n   * Remember recall list sorting order (FR #16149)\n   * accelerated movment speed to 200ms per hex\n   * --logdomains accepts a filter argument and uses multiline output\n   * New mouseover image instead of simply highlighting the hex\n   * Tab completion for :commands and units search function\n   * Fixed #15781: On maps with statues player can pick statues team\n   * Fixed move+attack not interrupted when ambushed at destination\n   * Stop disabling mouse during attack+move\n   * Added the whiteboard planning system (GSoC project), see release notes for details.\n   * Allowed viewing terrain defense for the selected unit outside of your turn.\n### WML Engine\n   * Added wml action tag: [modify_unit]\n   * Added wml action tag: [move_unit]\n   * Deprecated [set_variable]'s random key, use rand instead\n   * Renamed [unit][status] healable to unhealable so it can default to 'no'\n   * Added 'side X turn refresh' and 'side X turn Y refresh' events\n   * Add ~DARKEN() counterpart to ~BRIGHTEN()\n   * Implement min_value for [illuminates]\n   * Added lua functions wesnoth.get_side_count() and wesnoth.is_enemy(a,b)\n   * Add 'recall_cost' key for [side], to override [game_config]'s default\n   * Add [replace_schedule] tag, which replaces the time of day schedule\n   * Trying to include a missing macro/file is now a fatal error\n   * Added #ifhave/#ifnhave for testing existence of files and directories\n   * Added [volume] tag, which allows game volume to be changed during scenarios\n   * Prototype support for [set_global_variable]\n   * Prototype support for [get_global_variable]\n   * Prototype support for [clear_global_variable]\n   * Added scroll_to_leader attribute to side tag.\n    Default value is 'yes' (bug #15921)\n   * Draw the map border over _off^_usr tiles too.\n   * Add 'immutable' key to [label], defaulting to true (feature #16078)\n   * Added search_recall_list key to [have_unit] tag\n   * Added [move_units_fake] tag\n   * Added reveal_map key to [endlevel] tag\n   * Rename all \"colour\" keys to \"color\" (in [side] and [label]), same for\n    \"colour_lock\"\n   * Allow a [case] value to take comma-separated values\n   * Move fog/shroud image definition into game_config.cfg\n   * Add new game_config keys \"hex_brightening\", \"hex_semi_brightening\",\n    \"mouseover_image\" and \"selected_image\" to tune mouse interface\n   * Fixed bug #16219: Handled ToD areas in a LIFO way, so that it is possible\n    to override them without first removing them\n   * [effect] violate_maximum= (for use when increasing HP) takes a real boolean\n    value now instead of taking any non-empty value as \"true\".\n   * Allow checking out terrain defense for units when it's not your turn.\n   * New image path function: dst~BLIT(src[, x, y]) blitting src image on dst\n    image at coordinates (x,y)\n   * Fix bugs in 'illuminates' when using non-standard values. Now max and\n    min_value only clamps the effect of the illuminates bonus, but ToD and\n    terrain effect can pass them.\n   * Added [gold_carryover] tag to the [objectives] tag.\n   * Added [note] tag to the [objectives] tag.\n   * Added caption= and show_turn_counter= keys to the [objective] tag.\n   * New WML macros: ON_DIFFICULTY (a macro that makes using different values\n    based on difficulty simpler), ON_SIGHTING (a substitute for sighted events)\n   * Removed WML macros: NEUTRAL_SIDE\n### Miscellaneous and bug fixes\n   * Added a network library for asynchronous server & client applications (ANA)\n   * Rewrote the network module using this (ANA) library\n   * Added help entry when new unit is created directly in the recall list\n   * Defaulted log level to warning again\n   * better fix for bug 14765 now that string freeze is off\n   * Fixed picking the proper locale, the problem only occurred on some\n    systems\n   * Added a way to compile wesnoth on windows by using CMake + MSVC9.\n   * Added the possibility to specify absolute paths for \"--config-dir\"\n   * Added more command line arguments for starting a campaign + scenario\n   * Added command line \"--preprocess\" to preprocess a specified file/folder and\n    output the result\n   * Added command line \"--preprocess-input-macros\" to specify extra input macros\n   * Added command line \"--preprocess-output-macros\" to output the preprocessed\n    macros to a file\n   * Added command line \"--data-dir\" to explicitly override the data directory\n   * Fixed the ping timeout not waiting for the default ping interval when\n    ping timeout is not set to 0\n   * Fixed a bug in scoring of AI recall list. Patch by billynux.\n   * Strip whitespace characters from .ign patterns (bug #15902)\n   * Fixed wesnoth_addon_manager's support for .ign files (bug #15846)\n   * Never allow uploading *.pbl files (case-insensitive) to the add-ons\n    server from the regular game client.\n   * When warning the player about installing add-ons with "
        },
        {
          "name": "changelog_entries",
          "type": "tree",
          "content": null
        },
        {
          "name": "cmake",
          "type": "tree",
          "content": null
        },
        {
          "name": "config.h.cmake",
          "type": "blob",
          "size": 0.1484375,
          "content": "/*this file is used to automatically set some defines and is used in the CMake recipe*/\n#cmakedefine HAVE_SYS_SENDFILE_H 1\n#cmakedefine HAVE_SENDFILE 1\n"
        },
        {
          "name": "copyright",
          "type": "blob",
          "size": 0.4453125,
          "content": "/*\n   Copyright (C) 2003 - 2018 by David White <dave@whitevine.net>\n   Part of the Battle for Wesnoth Project https://www.wesnoth.org/\n\n   This program is free software; you can redistribute it and/or modify\n   it under the terms of the GNU General Public License version 2\n   or at your option any later version.\n   This program is distributed in the hope that it will be useful,\n   but WITHOUT ANY WARRANTY.\n\n   See the COPYING file for more details.\n*/\n"
        },
        {
          "name": "copyrights.csv",
          "type": "blob",
          "size": 40.275390625,
          "content": "Date,File,License,Author - Real Name(other name);Real Name(other name);etc,Notes,Needs Update,MD5\n2009/04/10,data/campaigns/Delfadors_Memoirs/sounds/rumble.wav,GNU GPL v2+,Fabian Müller(fabi/fendrin);Eric S. Raymond(esr),,,ba2422ca12aeebe50955c8f44b52243d\n2023/09/15,data/campaigns/Eastern_Invasion/music/heavens-remix.ogg,CC BY-SA 4.0,(gabriel silver);(dalas),,,158c80c11e2d2cdb5f1ab5cc0298a8fe\n2023/09/15,data/campaigns/Eastern_Invasion/music/journeys_end_faststart.ogg,GNU GPL v2+,Mattias Westlund(West);(dalas),,,3f6b2c8be4e6e30087b7a3cc5969831b\n2021/03/20,data/campaigns/Eastern_Invasion/sounds/gate-fall.ogg,GNU GPL v2+,unknown,,,15d08eb898db8684f18de206a6cbd1a5\n2023/09/15,data/campaigns/Eastern_Invasion/sounds/lich_die_wail.ogg,GNU GPL v2+,unknown;(dalas),,,05e212eecd027bbdc2168efe603f7817\n2023/09/15,data/campaigns/Eastern_Invasion/sounds/magic-twilight-miss.ogg,GNU GPL v2+,unknown;(dalas),,,71115cb146ddd91bf2d6b56079d4627a\n2023/09/15,data/campaigns/Eastern_Invasion/sounds/magic-twilight.ogg,GNU GPL v2+,unknown;(dalas),,,6399b904acff450455d1f82dc3c08fec\n2023/09/15,data/campaigns/Eastern_Invasion/sounds/warhammer.ogg,GNU GPL v2+,unknown;Nemaara Lang(nemaara),,,ba59c7ad531f57d02f33fde568f908a7\n2023/09/15,data/campaigns/Eastern_Invasion/sounds/wind.ogg,CC BY-SA 4.0,(hackerb9);(dalas),,,69160ff47b13bb2b527f670247c85a6a\n2015/03/21,data/campaigns/Northern_Rebirth/sounds/gate-fall.ogg,GNU GPL v2+,unknown,,,15d08eb898db8684f18de206a6cbd1a5\n2015/01/30,data/campaigns/The_Hammer_of_Thursagan/sounds/unlock.ogg,GNU GPL v2+,unknown,,,a3db3405d7677baaa1c532ea846181b4\n2010/11/05,data/campaigns/The_Rise_Of_Wesnoth/sounds/familiar-teeth.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,55041185dc1ea4f1946a2f28e8173cf0\n2016/11/06,data/campaigns/Under_the_Burning_Suns/sounds/tauroch-hit-1.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,83ae502038437b7f0bba0c1ea024efc9\n2016/11/06,data/campaigns/Under_the_Burning_Suns/sounds/tauroch-hit-2.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,fd4f22658c86189296c63b77e10ae636\n2016/11/06,data/campaigns/Under_the_Burning_Suns/sounds/tauroch-hit-3.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,a2fee4b4a32dbee3f378a58e70b09504\n2022/08/18,data/campaigns/Winds_of_Fate/sounds/gust.wav,CC BY-SA 4.0,Lukasz Wawrowski(inferno8),,,df456c54f61cd85728ba318e6f193722\n2022/01/16,data/campaigns/Winds_of_Fate/sounds/leopard-attack.ogg,GNU GPL v2+,L. Shelby(velensk),,,8e6349f40944c9b37281de830cee38b9\n2022/01/16,data/campaigns/Winds_of_Fate/sounds/leopard-hit.ogg,GNU GPL v2+,L. Shelby(velensk),,,62150c1f04c25e0e8ea8d0e0975a0990\n2022/01/16,data/campaigns/Winds_of_Fate/sounds/leopard-miss.ogg,GNU GPL v2+,L. Shelby(velensk),,,e232ca78b9de843fe7607eefc9122fe3\n2022/08/18,data/campaigns/Winds_of_Fate/sounds/wind.wav,CC BY-SA 4.0,Lukasz Wawrowski(inferno8),,,1a8d4690014970b67b6e9e34e8ff34a1\n2020/06/04,data/campaigns/World_Conquest/sounds/witches-laugh.wav,CC BY-SA 4.0,unknown,,,132c1203e0b575ad056f2ac30546a377\n2013/12/08,data/core/music/battle-epic.ogg,GNU GPL v2+,Doug Kaufman(dkaufman),,,05dcef9191a69a29ea3c9868bc2b6e2a\n2013/12/08,data/core/music/battle.ogg,GNU GPL v2+,Aleksi Aubry-Carlson(Aleksi),,,93b53db9e81c0d8879cf4ca51cd246bd\n2013/12/08,data/core/music/breaking_the_chains.ogg,GNU GPL v2+,Mattias Westlund(West),,,fe599b1e02f41846a6e2afeb7d6df76e\n2013/12/08,data/core/music/casualties_of_war.ogg,GNU GPL v2+,Tyler Johnson,,,f0c69501a222afd01218ed783fef7b14\n2023/09/15,data/core/music/cry_from_elensefar.ogg,CC BY-SA 4.0,(pluft),,,3b32d7970ab520b2d488559b69b2ac68\n2013/12/08,data/core/music/defeat.ogg,GNU GPL v2+,Timothy Pinkham(TimothyP),,,8cb8eb9871292ad288f5c703f0679460\n2013/12/08,data/core/music/defeat2.ogg,GNU GPL v2+,Ryan Reilly(Rain),,,9775634e4a20c10844c823d5d79f824f\n2013/12/08,data/core/music/elf-land.ogg,GNU GPL v2+,Aleksi Aubry-Carlson(Aleksi),,,addc5393092c23f2789a028d94f4212e\n2013/12/08,data/core/music/elvish-theme.ogg,GNU GPL v2+,Doug Kaufman(dkaufman),,,e331298ed3e77047d20da3ddb064bf2a\n2015/12/10,data/core/music/frantic-old.ogg,GNU GPL v2+,Aleksi Aubry-Carlson(Aleksi),,,ebbbf4d3e2c6e7865d866c9e388e7f6a\n2015/12/10,data/core/music/frantic.ogg,GNU GPL v2+,Stephen Rozanc(TreizeCouleurs),,,ac2ffbcdee726b99cfc26ba58021c77a\n2013/12/08,data/core/music/heroes_rite.ogg,GNU GPL v2+,Doug Kaufman(dkaufman),,,e6e124728d91c7e401733e21f0797165\n2013/12/08,data/core/music/into_the_shadows.ogg,GNU GPL v2+,Tyler Johnson,,,334fc0ebee66c065f39fb7774bea1ced\n2013/12/08,data/core/music/journeys_end.ogg,GNU GPL v2+,Mattias Westlund(West),,,d85165cc949ab189603ccb2e125b0295\n2013/12/08,data/core/music/knalgan_theme.ogg,GNU GPL v2+,Ryan Reilly(Rain),,,ace3786e8325b63ce528eb72dc9769a0\n2013/12/08,data/core/music/knolls.ogg,GNU GPL v2+,Timothy Pinkham(TimothyP),,,2c5485eaffa37bf90efab12fb1dfb755\n2013/12/08,data/core/music/legends_of_the_north.ogg,GNU GPL v2+,Mattias Westlund(West),,,4142cb050cc3a3274798f1236e00d7a8\n2013/12/08,data/core/music/love_theme.ogg,GNU GPL v2+,Ryan Reilly(Rain),,,926a8a82f5d7ce54ac1b9a4d210f74a8\n2013/12/08,data/core/music/loyalists.ogg,GNU GPL v2+,Joseph G. Toscano(Zhaytee),,,b33d8a13b93eca3200d64a7a9481d679\n2013/12/08,data/core/music/main_menu.ogg,GNU GPL v2+,Aleksi Aubry-Carlson(Aleksi),,,1966fbc334fa882731a021a03b68f040\n2013/12/08,data/core/music/northern_mountains.ogg,GNU GPL v2+,Mattias Westlund(West),,,05df2a2e6b1ab505d5c58f8b513cb49a\n2013/12/08,data/core/music/northerners.ogg,GNU GPL v2+,Stephen Rozanc(TreizeCouleurs),,,8463d5d94577d51759e2b271d8ab60bf\n2013/12/08,data/core/music/nunc_dimittis.ogg,GNU GPL v2+,Jeremy Nicoll(jeremy2/eltiare),,,9c4d074fb4e31165e9fb5c34169ab66a\n2017/10/01,data/core/music/return_to_wesnoth.ogg,CC BY-SA 4.0,Mattias Westlund(West),,,e32bf98ade8f1c7817190b22195014d4\n2013/12/08,data/core/music/revelation.ogg,GNU GPL v2+,Joseph G. Toscano(Zhaytee),,,30a04d7785ffc7a0a1710ee4ada6e577\n2013/12/08,data/core/music/sad.ogg,GNU GPL v2+,Tyler Johnson,,,bf6aad2d33a7147fa59cfaa2820360e1\n2013/12/08,data/core/music/siege_of_laurelmor.ogg,GNU GPL v2+,Doug Kaufman(dkaufman),,,ba0403e8f19bb42578f83d414989ca32\n2015/06/04,data/core/music/silence.ogg,GNU GPL v2+,Iris Morelle(shadowm),,,cc9285669659cac4fefb58ddac7ef0f0\n2013/12/08,data/core/music/silvan_sanctuary.ogg,GNU GPL v2+,Mattias Westlund(West),,,0f5b755f1ea256e6d912082c639136fb\n2013/12/08,data/core/music/suspense.ogg,GNU GPL v2+,Ryan Reilly(Rain),,,46c77f2e0ba3b413f59f60681dd7c86c\n2013/12/08,data/core/music/the_city_falls.ogg,GNU GPL v2+,Doug Kaufman(dkaufman),,,d9c5b4e3ebb1f78bfd8c261a5ccd90ce\n2013/12/08,data/core/music/the_dangerous_symphony.ogg,GNU GPL v2+,Gianmarco Leone(gmlion),,,66c255e42793014083841431d2be1ca7\n2013/12/08,data/core/music/the_deep_path.ogg,GNU GPL v2+,Gianmarco Leone(gmlion),,,da482dbcc89efd0da07f595d3ad81c19\n2013/12/08,data/core/music/the_king_is_dead.ogg,GNU GPL v2+,Mattias Westlund(West),,,250ae06433a0af2f9f53e27af0182e46\n2013/12/08,data/core/music/transience.ogg,GNU GPL v2+,Aleksi Aubry-Carlson(Aleksi),,,8a6a9633dc4ef7189fcde14e73e08d32\n2013/12/08,data/core/music/traveling_minstrels.ogg,GNU GPL v2+,Mattias Westlund(West),,,f178fe0f414a44ae45ed5f2488f66a55\n2013/12/08,data/core/music/underground.ogg,GNU GPL v2+,Aleksi Aubry-Carlson(Aleksi),,,2fc3df12c3314ea77754d66ba9c16e74\n2013/12/08,data/core/music/vengeful.ogg,GNU GPL v2+,Jeremy Nicoll(jeremy2/eltiare),,,1b66479bd170d252de79ef84fce9f869\n2010/05/11,data/core/music/victory.ogg,GNU GPL v2+,Timothy Pinkham(TimothyP),,,c6d1aaa37812c87fa6c2821adeb88f0f\n2013/12/04,data/core/music/victory2.ogg,GNU GPL v2+,Ryan Reilly(Rain),,,0f75831521e21612a828178caa646e44\n2013/12/08,data/core/music/wanderer.ogg,GNU GPL v2+,Timothy Pinkham(TimothyP),,,4a183c4ac92ecabde143aec69e7b8dda\n2013/12/08,data/core/music/weight_of_revenge.ogg,GNU GPL v2+,Doug Kaufman(dkaufman),,,c159386e56d3bc3ab72268f6550cc8d1\n2009/02/01,data/core/sounds/ambient/birds1.ogg,GNU GPL v2+,Karol Nowak(grzywacz),,,be7f22de7bb08d70884fd7a1aaac673f\n2009/02/01,data/core/sounds/ambient/birds2.ogg,GNU GPL v2+,Karol Nowak(grzywacz),,,17520e541d0b1106966676c8167eb70b\n2009/02/01,data/core/sounds/ambient/birds3.ogg,GNU GPL v2+,Karol Nowak(grzywacz),,,627d3636b58aac84923db4af3a0faabe\n2009/02/22,data/core/sounds/ambient/campfire.ogg,GNU GPL v2+,Iris Morelle(Iris),,,51825c7a509df62286f13cd5b2542693\n2016/09/01,data/core/sounds/ambient/morning.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,b817edc82c6509e5ea56e56992f2595d\n2016/09/01,data/core/sounds/ambient/night.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,8cf1f34f75be8a9b12768de61a6b303f\n2007/05/16,data/core/sounds/ambient/ship.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,e6b5421973c865c98e445c30d8427688\n2007/12/17,data/core/sounds/ambient/wardrums.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,d9d76eb4dfefb19fab38f7920762cad8\n2007/05/16,data/core/sounds/axe.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,62f56479d526f67fd7d449442c645f57\n2007/05/16,data/core/sounds/bat-flapping.wav,GNU GPL v2+,Richard Kettering(Jetrel);Lari Nieminen(zookeeper),,,5c2a6483ed9afd05a5e2d71e76cdd576\n2007/12/07,data/core/sounds/bat-hit-1.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,3701dc7336097a7b16fd2a727c9e197a\n2007/12/07,data/core/sounds/bat-hit-2.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,691672e2521390be3d82e9dffaed8280\n2007/12/07,data/core/sounds/bat-hit-3.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,760e5cf19e217746cee77db54a78eca8\n2007/12/07,data/core/sounds/bat-hit-4.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,ee75fd6900c75392636cf1ec13ad3adb\n2007/05/16,data/core/sounds/bite-small.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,143b99dba854fdcb3e7715ce0330ee01\n2007/05/16,data/core/sounds/bite.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,8e6066d62b65ab22f205f39f22a24a50\n2007/05/16,data/core/sounds/bow-miss.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,f10c094fbae714700f2b44a14dfd0c4e\n2007/05/16,data/core/sounds/bow-puny-fire-miss.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,882b682d8aa34d8883d1f91731fcc01b\n2007/05/16,data/core/sounds/bow-puny-fire.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,c644f354d2ce5f5e7134b079f649805c\n2007/05/16,data/core/sounds/bow-puny-miss.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,d75852aa315c046e0b062f367c732bb0\n2007/05/16,data/core/sounds/bow-puny.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,06bbd438845ee1a9aebcd03be5be89f4\n2007/05/16,data/core/sounds/bow.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,0b9e0e53ca6752ca9027fef927ae5f77\n2008/11/29,data/core/sounds/cave-in.ogg,GNU GPL v2+,Richard Kettering(Jetrel),,,c79d24d404ea38a5e6ef05a00e0e3fce\n2007/05/16,data/core/sounds/claws.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,da2ccd87de4e54de3dfc5c3ada9caa59\n2015/10/12,data/core/sounds/club-miss.ogg,GNU GPL v2+,Leonardo Magno Sampaio(leorock116),,,a1cd5d59e23c86a9579246d78e8b586f\n2015/10/12,data/core/sounds/club.ogg,GNU GPL v2+,Leonardo Magno Sampaio(leorock116),,,a18f2bcf86a573c98951c74488a9d2b0\n2007/05/16,data/core/sounds/crossbow-fire-miss.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,d014500608cfc9a143317c4d76216f6f\n2007/05/16,data/core/sounds/crossbow-fire.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,8c9c67ef09a161cd7601f0ced8e7dc0c\n2007/05/16,data/core/sounds/crossbow-miss.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,0fffbff217a088168d47ebd174f71df3\n2007/05/16,data/core/sounds/crossbow.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,67be47dab4f111f556cbc39f5035b8c3\n2007/05/16,data/core/sounds/dagger-swish.wav,GNU GPL v2+,Egoboo,,,a42debc0a4a79f24608d2e8149bce91b\n2007/05/16,data/core/sounds/dart.wav,GNU GPL v2+,unknown,,,eac35ceb2258b2af0586eb1b043e1399\n2007/07/22,data/core/sounds/dragonstick-miss.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,62e4203108c748faba075dbb1a67aa2c\n2008/08/07,data/core/sounds/dragonstick.ogg,GNU GPL v2+,Richard Kettering(Jetrel),,,cc8570127da335da4a020fc63c39124b\n2007/05/16,data/core/sounds/drake-die.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,0d1bbb88a6a7f5a35be224a78d010b69\n2007/05/16,data/core/sounds/drake-hit-1.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,bebead95da72b4488bc28ff9d7d097bb\n2007/05/16,data/core/sounds/drake-hit-2.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,9e89c7401363e54b77c0f4ad4ffa06ca\n2007/05/16,data/core/sounds/drake-hit-3.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,738c75a521303e9a7ab3e357239b48a5\n2015/07/04,data/core/sounds/dwarf-die-1.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,a227a72edd2b1f5c8b40f9a4e157db88\n2015/07/04,data/core/sounds/dwarf-die-2.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,6d003877c01d4d25872eb23afc2d7c3d\n2015/07/04,data/core/sounds/dwarf-die-3.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,b5b8510fe24aa54b4f38b2d76142712c\n2015/07/04,data/core/sounds/dwarf-hit-1.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,07502c639222bedd5cd1f5ca6fa1fab5\n2015/07/04,data/core/sounds/dwarf-hit-2.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,bddb1c88093aa0459dcd6cfe4c84b2c1\n2015/07/04,data/core/sounds/dwarf-hit-3.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,43cd00edb3574d1564ca670127a6487e\n2015/07/04,data/core/sounds/dwarf-hit-4.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,423e5f64b5b2e685d4d108bef51a0a3d\n2007/09/28,data/core/sounds/dwarf-laugh.wav,GNU GPL v2+,Lari Nieminen(zookeeper),,,70b0635124eeae69b54511b5baf1e2d5\n2008/02/14,data/core/sounds/elf-hit-1.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,c524012df343056812f75f36b51af24b\n2008/02/14,data/core/sounds/elf-hit-2.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,fa4bea0b8e80255c8a731d0110ad5bca\n2007/05/16,data/core/sounds/entangle.wav,GNU GPL v2+,Richard Kettering(Jetrel);Lari Nieminen(zookeeper),,,d2fa2714a72010c73fbeca1f17b49ff4\n2007/08/28,data/core/sounds/explosion.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,4f9fc21a8c2d17b71ea3b12e04db6377\n2007/05/16,data/core/sounds/fanfare-short.wav,GNU GPL v2+,J.W. Bjerk(Eleazar),,,f8c7bfb5ef5ca43e7611834dccc40362\n2007/05/16,data/core/sounds/fire.wav,GNU GPL v2+,unknown,,,8c2dcf8f97c92e90a8f0ef19b1cf02a9\n2007/05/16,data/core/sounds/fist.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,256fa4f19abf2fcb5926fb6dc1a2f3a3\n2007/05/16,data/core/sounds/flail-miss.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,0a2c4e48590718541ad4519f7b684424\n2007/05/16,data/core/sounds/flail.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,24748610e7196b039b3d1e737e903a3f\n2007/05/16,data/core/sounds/flame-big-miss.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,1a02b236619726b79bd1bfb37cccef9d\n2007/05/16,data/core/sounds/flame-big.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,755f535fc6ca348584d1527e7752cb01\n2007/09/04,data/core/sounds/fuse.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,a63c67949117d174704afdf8f5a39634\n2007/05/16,data/core/sounds/ghoul-hit.wav,GNU GPL v2+,Egoboo,,,fa020c074ce071611b420f3a5c25edfd\n2007/05/16,data/core/sounds/goblin-die-1.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,c9e3171bb0657e01d6526e661ef7f63b\n2007/05/16,data/core/sounds/goblin-die-2.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,02c8640325c6765071061434ec6af448\n2007/05/16,data/core/sounds/goblin-hit-1.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,68cb31ced3dc4302890490620756da6b\n2007/05/16,data/core/sounds/goblin-hit-2.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,f44d0f6db26dc5bb49895b293807217b\n2007/05/16,data/core/sounds/goblin-hit-3.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,cc7e9358ab69253ebcbfae2686cdd56a\n2007/05/16,data/core/sounds/gold.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,79f945721d146108793ab755c49760a0\n2007/05/16,data/core/sounds/groan.wav,GNU GPL v2+,unknown,,,e233ca9a5ea3c6de8f9a77be05f89195\n2007/05/16,data/core/sounds/gryphon-die-1.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,7a5f4a29a2906c2432dd91eefaacbd75\n2007/05/16,data/core/sounds/gryphon-die-2.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,c938b8d775efcc757b9ba3c21289d996\n2007/05/16,data/core/sounds/gryphon-hit-1.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,b80903cbfbb3ab084600f16459187ef2\n2007/05/16,data/core/sounds/gryphon-hit-2.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,31f5f13ea5a43090c71a083e95f9ee33\n2007/05/16,data/core/sounds/gryphon-hit-3.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,152dcf3b6b2f393d21587a6197708a38\n2007/05/16,data/core/sounds/gryphon-shriek-1.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,e2fa0cac4987d272a12e6f85d5c7872a\n2007/05/16,data/core/sounds/gryphon-shriek-2.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,c39d906b233227da5f0e7d9fdbd6462f\n2007/05/16,data/core/sounds/gunshot.wav,GNU GPL v2+,unknown;Lari Nieminen(zookeeper),,,e47c22dd95fac58f48a69190cf2081c8\n2007/05/16,data/core/sounds/hatchet-miss.wav,GNU GPL v2+,Lari Nieminen(zookeeper),,,bc229da218e7ca9c378e695da2c373bf\n2007/05/16,data/core/sounds/hatchet.wav,GNU GPL v2+,Lari Nieminen(zookeeper),,,e36c65483c27716933ad6adf438ff05d\n2007/05/16,data/core/sounds/heal.wav,GNU GPL v2+,unknown,,,be0eefe17a0c98747780c55a105bfa5d\n2007/05/16,data/core/sounds/hiss-big.wav,GNU GPL v2+,J.W. Bjerk(Eleazar),,,5ea711bdab5e77fd6d1df3afdeb64227\n2007/05/16,data/core/sounds/hiss-die.wav,GNU GPL v2+,J.W. Bjerk(Eleazar),,,fe89fa64ffac1bace07f3561657bc187\n2007/05/16,data/core/sounds/hiss-hit.wav,GNU GPL v2+,J.W. Bjerk(Eleazar),,,a70d04bddc7b7adbabb23a464550aaa3\n2007/05/16,data/core/sounds/hiss.wav,GNU GPL v2+,J.W. Bjerk(Eleazar),,,1ea331fbc77b690cf5ba19ff6b3943eb\n2009/08/13,data/core/sounds/horn-signals/horn-1.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,c8fa587f608c916d9cca24a7379b2e30\n2009/08/13,data/core/sounds/horn-signals/horn-2.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,8043dadb97801d1211ab9a724041afb6\n2009/08/13,data/core/sounds/horn-signals/horn-3.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,43b4afbec615449d3e4c27b1e05281e3\n2009/08/13,data/core/sounds/horn-signals/horn-4.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,fef7f46943cd005eaafd1eba2a52adfb\n2009/08/13,data/core/sounds/horn-signals/horn-5.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,b4dbe462c48c2d3abc7104756b8b756b\n2009/08/13,data/core/sounds/horn-signals/horn-6.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,2105302a7c89df757ce3a8ccb9e61d0c\n2009/08/13,data/core/sounds/horn-signals/horn-7.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,ddd82d40c96bcad1f509d7ada643d47a\n2009/08/13,data/core/sounds/horn-signals/horn-8.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,5f617da00115ccee1e1a10f83877943c\n2007/05/16,data/core/sounds/horse-canter.wav,GNU GPL v2+,unknown,,,ce522a44a0daac900005f12da88a4731\n2007/05/16,data/core/sounds/horse-die.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,bdbd61086c80152422e10e40368c1c4e\n2007/05/16,data/core/sounds/horse-elf-canter.wav,GNU GPL v2+,J.W. Bjerk(Eleazar),,,ab9a93f3037c24156ac15c10c59c9b73\n2007/05/16,data/core/sounds/horse-hit-1.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,f66e4942d241319b60c6c92c95809e9c\n2007/05/16,data/core/sounds/horse-hit-2.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,4e1647e6654e2be63d91f063fb814ae3\n2007/05/16,data/core/sounds/horse-hit-3.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,1139da8d83b80da0e54c4a48e002e42f\n2007/05/16,data/core/sounds/human-die-1.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,45837c69e62e1fee732bd5e4485acacf\n2007/05/16,data/core/sounds/human-die-2.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,d70f056b0830ad688755ad8e7d5d23fe\n2007/05/16,data/core/sounds/human-die-3.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,9be2bcc7f92962a1102764139839a7c7\n2007/05/16,data/core/sounds/human-female-die-1.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,a036e43cf7cbc71701e94c32e2772728\n2007/05/16,data/core/sounds/human-female-die-2.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,f558459b4909c732eb3f19c6dd918b29\n2007/05/16,data/core/sounds/human-female-die-3.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,09e543b8a4c4c80fb6265f479d2d286d\n2007/05/16,data/core/sounds/human-female-hit-1.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,3ea32fc11299282a355b81a0ced3f710\n2007/05/16,data/core/sounds/human-female-hit-2.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,ea68ec27f1b2a10ec6a3f6b4d6d56a6b\n2007/05/16,data/core/sounds/human-female-hit-3.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,7ba8c707312851a1389737a47bc2c558\n2007/05/16,data/core/sounds/human-hit-1.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,51a45a5c12683c39fed3d2625944de52\n2007/05/16,data/core/sounds/human-hit-2.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,3b1c3bbee218c7c9ea193c5fe7a74422\n2007/05/16,data/core/sounds/human-hit-3.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,ee1856970784cc7f3f04111bf4db2131\n2007/05/16,data/core/sounds/human-hit-4.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,d8253d9aae660a2337f6cdf0037a4195\n2007/05/16,data/core/sounds/human-hit-5.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,473a613ec8ff782d990eaa2edcb20ed3\n2007/05/16,data/core/sounds/human-old-die-1.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,686f1d48a397bc07faf9f6eca5e4f5e3\n2007/05/16,data/core/sounds/human-old-die-2.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,6cf98db2f18abf24b376cc6f18f37698\n2007/05/16,data/core/sounds/human-old-die-3.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,59ea07d73a1ebddfb8ab8ebf51564e23\n2007/05/16,data/core/sounds/human-old-hit-1.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,ca5673dc4570452fac8d4c209045c684\n2007/05/16,data/core/sounds/human-old-hit-2.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,53e4b2ab631a6a096a8d486e960465a1\n2007/05/16,data/core/sounds/human-old-hit-3.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,2f31c19715ec2f3432337c6092aad28f\n2007/05/16,data/core/sounds/human-old-hit-4.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,11f2f4be82b39f11ecba900320b3fc7d\n2015/10/18,data/core/sounds/ink-miss.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,c4b1978c6ff817be5b473381177522c8\n2015/10/18,data/core/sounds/ink.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,f787fbcda0119a97bdb5edfc2a157ae4\n2013/10/20,data/core/sounds/knife.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,3d0ec7f7b7ba4f25e02dbfe8b61e4204\n2007/05/16,data/core/sounds/lich-die.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,fb2a24e46daa0b66a6385cdd24c70a8e\n2007/05/16,data/core/sounds/lich-hit-1.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,fd556870364ff3ae629fbb6454a61d08\n2007/05/16,data/core/sounds/lich-hit-2.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,7b376ec86758247c23db0371a9d2ea0a\n2007/05/16,data/core/sounds/lightning-miss.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,29725459423ece709028cf3111ecb9b9\n2007/05/16,data/core/sounds/lightning.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,fd56c731700efc94b2cbb643e99bf4ba\n2015/10/06,data/core/sounds/mace-miss.ogg,GNU GPL v2+,Leonardo Magno Sampaio(leorock116),,,6ba26e1add8d0305aef5527af05c08f7\n2015/10/06,data/core/sounds/mace.ogg,GNU GPL v2+,Leonardo Magno Sampaio(leorock116),,,018cbec2efcbe2e7cae800ef866590a3\n2007/05/16,data/core/sounds/mace.wav,GNU GPL v2+,Leonardo Magno Sampaio(leorock116),,,7a89fdcd4bf60bd30173e74eda9c3a5a\n2007/05/16,data/core/sounds/magic-dark-big-miss.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,9ca99d6d82c0b4fb3a88a7835f85acad\n2007/05/16,data/core/sounds/magic-dark-big.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,816da05273279d94b8786f864c855cef\n2007/05/16,data/core/sounds/magic-dark-miss.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,de724af1c7a5180222ada1c4fc9a96ba\n2007/05/16,data/core/sounds/magic-dark.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,3458e8aee3c634668b8fce4779112ee8\n2007/05/16,data/core/sounds/magic-faeriefire-miss.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,0b42724d1d7f9165a0116e6e207d381d\n2007/05/16,data/core/sounds/magic-faeriefire.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,bfbfa8a3941bcb2914843321dc34aa9b\n2007/05/16,data/core/sounds/magic-holy-1.ogg,GNU GPL v2+,Richard Kettering(Jetrel),,,c94fb822bcbffa9b88b2d1906970774a\n2007/05/16,data/core/sounds/magic-holy-2.ogg,GNU GPL v2+,Richard Kettering(Jetrel),,,cd329a0c0a2ec136ff63ee89291823d4\n2007/05/16,data/core/sounds/magic-holy-3.ogg,GNU GPL v2+,Richard Kettering(Jetrel),,,00af7fc3ea4fcf23e5bba400976b243e\n2007/05/16,data/core/sounds/magic-holy-4.ogg,GNU GPL v2+,Richard Kettering(Jetrel),,,0455774a636e27b56a8a2ad70e5033c3\n2007/05/16,data/core/sounds/magic-holy-miss-1.ogg,GNU GPL v2+,Richard Kettering(Jetrel),,,1eda7a1f39803a5c64d478207ebc22ad\n2007/05/16,data/core/sounds/magic-holy-miss-2.ogg,GNU GPL v2+,Richard Kettering(Jetrel);Lari Nieminen(zookeeper),,,c467ad1bf80dc9356a4d8f999742da94\n2007/05/16,data/core/sounds/magic-holy-miss-3.ogg,GNU GPL v2+,Richard Kettering(Jetrel),,,97cdbd6ecd56f4ef2b3cb55c2f3235a0\n2007/05/16,data/core/sounds/magic-holy-miss-4.ogg,GNU GPL v2+,Richard Kettering(Jetrel),,,41a6b2e321ac84e845e8a078ef1477cb\n2007/05/16,data/core/sounds/magic-missile-1-miss.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,64970217459c3c1aa270ad7160cb5149\n2007/05/16,data/core/sounds/magic-missile-1.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,c9a5d62552d0ce63a0a069d885d601c0\n2007/05/16,data/core/sounds/magic-missile-2-miss.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,4d00008bd7f82f028320f8c7117df34f\n2007/05/16,data/core/sounds/magic-missile-2.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,56fa7280ebb80e7154d2b2125028ad87\n2007/05/16,data/core/sounds/magic-missile-3-miss.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,e823a8453c90f41ec74a3b031f71a2a9\n2007/05/16,data/core/sounds/magic-missile-3.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,c15d42543225640875021db790e1ecd0\n2007/05/16,data/core/sounds/magic-thorns-1.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,a0aa83339d6828a242e7af0cb8ccd435\n2007/05/16,data/core/sounds/magic-thorns-2.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,ef7e759ba09aeea9cf318bff05e8d251\n2007/05/16,data/core/sounds/magic-thorns-miss-1.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,6ac98cfe6d69bed7ce792953309eed76\n2007/05/16,data/core/sounds/magic-thorns-miss-2.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,e9fe481bdf115f792390401080ce9594\n2007/05/16,data/core/sounds/magicmissile.wav,GNU GPL v2+,unknown,,,e89e23ee733a5b35f871e7587b0f156e\n2011/05/08,data/core/sounds/melee-fire.ogg,GNU GPL v2+,unknown,,,3fcf81db280ca9aa011db7fb615ac743\n2007/05/16,data/core/sounds/mermaid-die.ogg,GNU GPL v2+,J.W. Bjerk(Eleazar),,,bd89aad339c0c023b2df222d9c159905\n2007/05/16,data/core/sounds/mermaid-hit.ogg,GNU GPL v2+,J.W. Bjerk(Eleazar),,,4ebd530c5813ce0e1ad0422fb678936f\n2007/05/16,data/core/sounds/mermen-die.ogg,GNU GPL v2+,J.W. Bjerk(Eleazar),,,99409a83d1bb307a56475eca45ce2103\n2007/05/16,data/core/sounds/mermen-hit.wav,GNU GPL v2+,unknown,,,dcf0cd66a40bf015be1e26dbdb8ac07b\n2007/05/16,data/core/sounds/miss-1.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,78d0e324dc476a72c3808b6cc2ae9aa6\n2007/05/16,data/core/sounds/miss-2.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,e54b0ef5541d51a1fc370dc12c538e79\n2007/05/16,data/core/sounds/miss-3.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,022428a79c7e51763455b54fecfc2cc0\n2016/08/17,data/core/sounds/mud-fist-miss.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,a11fbb64daff1552c620a6fce1011fae\n2016/08/17,data/core/sounds/mud-fist.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,87cfb7d292de0b064fb1bdb6617f0489\n2015/10/18,data/core/sounds/mud-glob-miss.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,b170a8c0d7ee8e6e41c2b32c4d9685ec\n2015/10/18,data/core/sounds/mud-glob.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,94c840d7eded4294e14574141598c88c\n2007/05/16,data/core/sounds/naga-die.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,ae2a76c879476848e561dd07f4b673f9\n2007/05/16,data/core/sounds/naga-hit-1.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,4218a7fc3125424e14ecba75102b2caa\n2007/05/16,data/core/sounds/naga-hit-2.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,566f0d9c862869239131f4ff73832ebc\n2007/05/16,data/core/sounds/naga-hit-3.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,5a7b974f232b9f7cc9f2c124c2115a6d\n2007/05/16,data/core/sounds/net.wav,GNU GPL v2+,unknown,,,f6595ca4b1e64e5786c2c2c7ff063d6c\n2007/12/07,data/core/sounds/ogre-die-1.ogg,GNU GPL v2+,Corey Woodworth(woodwizzle),,,a72165ae16c21ecbb453f94292e68309\n2007/12/07,data/core/sounds/ogre-die-2.ogg,GNU GPL v2+,Corey Woodworth(woodwizzle),,,2a22dff2bd8d59351c532d4a3fe29989\n2007/12/07,data/core/sounds/ogre-die-3.ogg,GNU GPL v2+,Corey Woodworth(woodwizzle),,,125be293bc6518561ac3fb3ca2b8948e\n2007/12/07,data/core/sounds/ogre-hit-1.ogg,GNU GPL v2+,Corey Woodworth(woodwizzle),,,d678687bcf13c8fd3f8fe3974eba2b2c\n2007/12/07,data/core/sounds/ogre-hit-2.ogg,GNU GPL v2+,Corey Woodworth(woodwizzle),,,f14951d12b1a9c0acdcdcfc7fff0e813\n2007/12/07,data/core/sounds/ogre-hit-3.ogg,GNU GPL v2+,Corey Woodworth(woodwizzle),,,6912b6ae23a5d72579d1778b2c0ce125\n2007/12/07,data/core/sounds/ogre-hit-4.ogg,GNU GPL v2+,Corey Woodworth(woodwizzle),,,6fb6c95271591de51024ef259ae40777\n2007/05/16,data/core/sounds/open-chest.wav,GNU GPL v2+,Egoboo,,,53f8cd6e7e925c1a8b0fac429585d884\n2007/05/16,data/core/sounds/orc-die-1.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,d1812c6fef74fa98736274ae52cd19c6\n2007/05/16,data/core/sounds/orc-die-2.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,8c8e8cf58e68a535d3dc9fed7f2e3ece\n2007/05/16,data/core/sounds/orc-die-3.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,62acfd12d3b9a794c6a85c9b7fe33e99\n2007/05/16,data/core/sounds/orc-hit-1.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,d27aa1f44627bab4432ae06b5a5c7b85\n2007/05/16,data/core/sounds/orc-hit-2.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,856adc85707367db6eaaa8a201645464\n2007/05/16,data/core/sounds/orc-hit-3.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,807cc7755e9fba0c43fe91bf8408d31c\n2007/05/16,data/core/sounds/orc-hit-4.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,35abf93545693fe97a4127fd492ed0cd\n2007/05/16,data/core/sounds/orc-small-die-1.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,7c6f0802de41cc5f3772223966b4b1af\n2007/05/16,data/core/sounds/orc-small-die-2.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,cb001e41195073f3ada044b8fd4814fb\n2007/05/16,data/core/sounds/orc-small-hit-1.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,51b64d635fa05ddc515c7d5edbaa1e54\n2007/05/16,data/core/sounds/orc-small-hit-2.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,c37b3b26d65fc7b0521e7c3c51b0617c\n2007/05/16,data/core/sounds/orc-small-hit-3.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,bba6d39306df27736354c88f2abdaa36\n2007/05/16,data/core/sounds/orc-small-hit-4.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,8b454deb6a3a3526107e22d606707c69\n2009/04/12,data/core/sounds/petrified.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,2d47bf2402222b4e241f5a0598bb7a44\n2007/05/16,data/core/sounds/pincers.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,37c4a11d630502079059096b96bb69fe\n2007/05/16,data/core/sounds/poison.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,80fd9f2f74b9a0577045372d4b8bc63b\n2009/04/01,data/core/sounds/potion.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,377d010ff32f1cc0e517bcede594530c\n2007/05/16,data/core/sounds/rumble.ogg,GNU GPL v2+,Scott Klempner,,,a6d195a40d56b39cd8ba84610dffc7e2\n2007/11/07,data/core/sounds/skeleton-big-die.ogg,GNU GPL v2+,(chessmaty),,,5484d6d666ece06e6f63a0519df999cb\n2007/11/07,data/core/sounds/skeleton-big-hit-1.ogg,GNU GPL v2+,(chessmaty),,,96a44cc56e045414603aabca10329634\n2007/11/07,data/core/sounds/skeleton-big-hit-2.ogg,GNU GPL v2+,(chessmaty),,,180ca8d686008f1323985f7072398901\n2007/11/07,data/core/sounds/skeleton-big-hit-3.ogg,GNU GPL v2+,(chessmaty),,,06d3babe2356f8e20d4cf471abcf4369\n2007/11/07,data/core/sounds/skeleton-die-1.ogg,GNU GPL v2+,(chessmaty),,,9ec5eccb4e150f906cdb830e15596409\n2007/11/07,data/core/sounds/skeleton-die-2.ogg,GNU GPL v2+,(chessmaty),,,7260a2337a7e89f284fe2caead8d1b8c\n2007/11/07,data/core/sounds/skeleton-hit-1.ogg,GNU GPL v2+,(chessmaty),,,9eabea8ceb017412695c562ae20a1712\n2007/11/07,data/core/sounds/skeleton-hit-2.ogg,GNU GPL v2+,(chessmaty),,,9fe2a202c24127dd483f55eac3a7e9b6\n2007/11/07,data/core/sounds/skeleton-hit-3.ogg,GNU GPL v2+,(chessmaty),,,1bdfcffda38bd7f5047a2fbce1cb3a4d\n2007/05/16,data/core/sounds/sling-big-miss.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,068a5962347b3045651b98ee9a57d197\n2007/05/16,data/core/sounds/sling-big.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,fa2bd4fdf7390beb01a964e031439191\n2007/05/16,data/core/sounds/sling-miss.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,58c5a4407e7476fcfe69606eb5b3fa2d\n2007/05/16,data/core/sounds/sling.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,230745353b1b2e577204e5e6d79396ca\n2007/05/16,data/core/sounds/slowed.wav,GNU GPL v2+,Lari Nieminen(zookeeper),,,e25a57c1f42d4cf8e72fc7a45a41f3d0\n2007/05/16,data/core/sounds/spear-miss.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,39922875e0f07705674dc32c10026321\n2007/05/16,data/core/sounds/spear.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,dcc9e191b0ef6bb4ff8bad8f2e68fa34\n2007/05/16,data/core/sounds/spear.wav,GNU GPL v2+,unknown,,,1e972454391b6853b442db92f9d86da6\n2007/05/16,data/core/sounds/squishy-hit.wav,GNU GPL v2+,J.W. Bjerk(Eleazar);Lari Nieminen(zookeeper),,,6c21035a64ff0d598c94e6bcbeaaa2a6\n2007/05/16,data/core/sounds/squishy-miss.wav,GNU GPL v2+,J.W. Bjerk(Eleazar);Lari Nieminen(zookeeper),,,fd076481179e7df0660260e4a02a0dcb\n2007/05/16,data/core/sounds/squishy-strike.wav,GNU GPL v2+,J.W. Bjerk(Eleazar);Lari Nieminen(zookeeper),,,b8b7e2700c355d307a95a5f94bb216e0\n2015/10/12,data/core/sounds/staff-miss.ogg,GNU GPL v2+,Leonardo Magno Sampaio(leorock116),,,233ad526cfff325b61e304412043a426\n2015/10/12,data/core/sounds/staff.ogg,GNU GPL v2+,Leonardo Magno Sampaio(leorock116),,,ed0252e63f4f73509b364078f1a9309a\n2007/05/16,data/core/sounds/staff.wav,GNU GPL v2+,Leonardo Magno Sampaio(leorock116),,,a64b0ac704c11104de10481db314c7a8\n2007/05/16,data/core/sounds/sword-1.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,2dd4ec5aa86fbf941c238f0b797eb0f7\n2007/05/16,data/core/sounds/tail.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,12bace1e67237a76a89af16818bb6bf7\n2007/05/16,data/core/sounds/throw-1.wav,GNU GPL v2+,Lari Nieminen(zookeeper),,,875528ce2c67b6349a2528eeb3b4f8b6\n2007/05/16,data/core/sounds/throw-2.wav,GNU GPL v2+,Lari Nieminen(zookeeper),,,d9e60fa3767a03d54cbbfeed6c36e3f2\n2007/05/16,data/core/sounds/throw-3.wav,GNU GPL v2+,Lari Nieminen(zookeeper),,,968b3180f408262573d470f0a1a38c6c\n2007/05/16,data/core/sounds/throw-4.wav,GNU GPL v2+,Lari Nieminen(zookeeper),,,a812255d3cc5debb1307b278c1deb5f3\n2007/05/16,data/core/sounds/throwing-knife-miss.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,cf09d2ecd176225ccb357d6fe527c1c7\n2007/05/16,data/core/sounds/throwing-knife.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,066e17f519de41b78c492b63b981657a\n2008/08/07,data/core/sounds/thunderstick-miss.ogg,GNU GPL v2+,Richard Kettering(Jetrel),,,51e3380b8c9fa772da9c94ca06c2a729\n2008/08/07,data/core/sounds/thunderstick.ogg,GNU GPL v2+,Richard Kettering(Jetrel),,,45f66e32cfe33c3d65edea86d5fe9ed8\n2007/05/16,data/core/sounds/torch-miss.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,9fa30111ff7c0f85dc678702b4bf004c\n2007/05/16,data/core/sounds/torch.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,c7495dfaee7072a45537a2c69b580b40\n2007/12/07,data/core/sounds/troll-die-1.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,a16b57ecd734305a7f17b8c91c7e8955\n2007/12/07,data/core/sounds/troll-die-2.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,7868a239918d9e6fd46f5d15ff638eaa\n2007/12/07,data/core/sounds/troll-die-3.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,2adad5fb084f8e242836207122b1448f\n2007/12/07,data/core/sounds/troll-hit-1.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,60c9b97cf5dd3a45d8e0a23fc5f097c7\n2007/12/07,data/core/sounds/troll-hit-2.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,d71532661cc019f8d8e96a0b747404f0\n2007/12/07,data/core/sounds/troll-hit-3.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,311fd49e72ae30cc4de99894281a15d3\n2007/12/07,data/core/sounds/troll-hit-4.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,e29295f067f762b169a50413facf9198\n2020/09/20,data/core/sounds/tusker-charge-miss.ogg,GNU GPL v2+,Phil Barber(thespaceinvader),,,d371b56ab7b10d13058537a585214df3\n2020/09/20,data/core/sounds/tusker-charge.ogg,GNU GPL v2+,Phil Barber(thespaceinvader),,,1417c516791a53f225d7ed028d4bc11d\n2020/09/20,data/core/sounds/tusker-die.ogg,GNU GPL v2+,Phil Barber(thespaceinvader),,,87101b0e866b1362d1148a7dd1128c14\n2020/09/20,data/core/sounds/tusker-hit.ogg,GNU GPL v2+,Phil Barber(thespaceinvader),,,aae640e4cfb75bf59f54d065fc5b6bd9\n2007/05/16,data/core/sounds/ugg.wav,GNU GPL v2+,unknown,,,6341e1a157e5c2c4c1f7c9856ad1f210\n2007/05/16,data/core/sounds/wail-long.wav,GNU GPL v2+,J.W. Bjerk(Eleazar),,,4ef6fc0aca1c47dabcf5e28385b60c10\n2007/05/16,data/core/sounds/wail-sml.wav,GNU GPL v2+,J.W. Bjerk(Eleazar),,,309fbdc8c01c193e735c4a36a0705943\n2007/05/16,data/core/sounds/wail.wav,GNU GPL v2+,J.W. Bjerk(Eleazar),,,db433bb6086318d724c1f4a2deb5ca83\n2007/05/16,data/core/sounds/water-blast.wav,GNU GPL v2+,J.W. Bjerk(Eleazar);Lari Nieminen(zookeeper),,,0cfcd71f1879f7a83588a6da1f799988\n2010/06/22,data/core/sounds/wolf-die-1.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,4b8634025a4ae9b80c7b4ac67df2356f\n2010/06/22,data/core/sounds/wolf-die-2.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,5be4f362a95ea4c38e06f6514f90d692\n2010/06/22,data/core/sounds/wolf-die-3.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,85b62f3521aff5a2b2b78f21df7be2a6\n2010/06/22,data/core/sounds/wolf-die-4.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,4ae0dc24d4d15edb24a7039feee4aa35\n2010/06/22,data/core/sounds/wolf-growl-1.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,3719f1c366511b39bd2e10aff2e84d89\n2010/06/22,data/core/sounds/wolf-growl-2.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,695c69e6c5d943d2e54180bc2fecc9fb\n2010/06/22,data/core/sounds/wolf-growl-3.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,caf607c0aac3629d9ef48b527baa9704\n2010/06/22,data/core/sounds/wolf-growl-4.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,dd833d31abcbd6148197692cfaa0822a\n2012/02/24,data/core/sounds/wolf-hit-1.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,02e5cae730d0b128a8325d94db6db34f\n2010/06/22,data/core/sounds/wolf-hit-2.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,83bda1022ce599367efd5e3b9647bfad\n2010/06/22,data/core/sounds/wolf-hit-3.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,1e547ce38284b7a033c0a51abeee772b\n2010/06/22,data/core/sounds/wolf-hit-4.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,ce6b9e252a8251bc2bc35849495f818b\n2007/05/16,data/core/sounds/wose-attack.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,1ba75bfc4800392db54115eae88a43f4\n2007/05/16,data/core/sounds/wose-die.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,67726e9984e5c4c516e8ea4e8e1a4a20\n2007/05/16,data/core/sounds/wose-hit.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,f309eb77e3575ebe71c6dcf4573b7a20\n2007/05/16,data/core/sounds/wose-miss.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,7110d93b13c7311c7b5f1cdd679d5d8b\n2007/05/16,data/core/sounds/yeti-die.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,447947c545cd95700fbd38b9ddc05b61\n2007/05/16,data/core/sounds/yeti-hit.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,70c4744c71275f649784d952125d329f\n2007/05/16,data/core/sounds/zombie-attack.wav,GNU GPL v2+,Egoboo,,,9d0c0c0a2da421cfc493bc31bedb0b18\n2007/05/16,data/core/sounds/zombie-hit-1.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,1cc88ade69b167fc8e40482e75012f9a\n2007/05/16,data/core/sounds/zombie-hit-2.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,0d558045f328704261f04aea7cc81113\n2007/05/16,data/core/sounds/zombie-hit-3.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,15629d6b647ed2c705e2b60ce2806093\n2007/05/16,data/core/sounds/zombie-hit-4.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,18325a354006ff75a51d8a194ab4cc6b\n2007/05/16,data/core/sounds/zombie-hit-5.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,5342ea54cf24b3bfec6b694ae864587e\n2007/05/16,data/core/sounds/zombie-hit-6.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,9073318991b1a956c33e65290bfdf78c\n2025/01/10,data/resources/Weather/sounds/weather-rain.ogg,GNU GPL v2+,(inferno8);(dalas),,,fc7090377ce25be51526afc235557735\n2025/01/10,data/resources/Weather/sounds/weather-snow.ogg,CC0,(kyles),,,5b4d185ae84eaf3a7bb20c83f441327c\n2007/05/16,sounds/arrive.wav,GNU GPL v2+,unknown;Lari Nieminen(zookeeper),,,c7c0a7f2b0ab2e501602fa8ed629b691\n2018/03/04,sounds/bell.wav,CC BY-SA 4.0,Argentum Age,,,16e38871229e0ee808d427ab2389252a\n2018/03/04,sounds/button.wav,CC BY-SA 4.0,Argentum Age,,,65a417effb06381a81e85883821becc9\n2007/12/20,sounds/chat-1.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,e9039918972cf56d6fc91f5ca2db1800\n2007/12/20,sounds/chat-2.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,9b34e17313f051b82bccc009c23b1260\n2007/12/20,sounds/chat-3.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,da206db9ea2fdcdda2866e71d5f0906f\n2008/01/24,sounds/chat-friend.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,94da52a3141ebdd8181ece32e209cfe9\n2007/12/20,sounds/chat-highlight.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,e1d8fe6d1df35d314c84b3df4c6f5887\n2007/05/16,sounds/checkbox.wav,GNU GPL v2+,Lari Nieminen(zookeeper),,,e4a732a1f57381f77a49e89f1da6084e\n2018/03/04,sounds/contract.wav,CC BY-SA 4.0,Argentum Age,,,043fc6a7faef9e9ce00f50eab892588e\n2018/03/04,sounds/expand.wav,CC BY-SA 4.0,Argentum Age,,,043fc6a7faef9e9ce00f50eab892588e\n2014/11/14,sounds/gamestart.ogg,GNU GPL v2+,Lari Nieminen(zookeeper),,,a5d94be33103cae42f702266960fc0cf\n2008/02/07,sounds/join.wav,GNU GPL v2+,Lari Nieminen(zookeeper),,,52e5eff00449236b57bc1f378806483d\n2007/05/16,sounds/leave.wav,GNU GPL v2+,unknown;Lari Nieminen(zookeeper),,,ecd0cfbc5ce9d683f6dde47fbf719ccf\n2007/05/16,sounds/receive.wav,GNU GPL v2+,unknown;Lari Nieminen(zookeeper),,,5b6a417b229f622ed1c68f963a935fd9\n2007/11/05,sounds/select-unit.wav,GNU GPL v2+,Ali El Gariani(alink);Lari Nieminen(zookeeper),,,ec03654053533e8e21bd3321dbfa2f88\n2018/03/04,sounds/select.wav,CC BY-SA 4.0,Argentum Age,,,65a417effb06381a81e85883821becc9\n2007/05/16,sounds/slider.wav,GNU GPL v2+,Lari Nieminen(zookeeper),,,aa9634abcaa2314b2a39a9586a47f024\n2007/07/23,sounds/timer.wav,GNU GPL v2+,Lari Nieminen(zookeeper),,,950eadc24c54fb12427ffe0a4c124cc5\n"
        },
        {
          "name": "cwesnoth.cmd",
          "type": "blob",
          "size": 0.14453125,
          "content": "@echo off\nrem\nrem Runs Wesnoth with a Windows console attached.\nrem\nrem Usage:\nrem   cwesnoth <command line>\nrem\n\nwesnoth --no-log-to-file %*\npause\n"
        },
        {
          "name": "data",
          "type": "tree",
          "content": null
        },
        {
          "name": "doc",
          "type": "tree",
          "content": null
        },
        {
          "name": "fonts",
          "type": "tree",
          "content": null
        },
        {
          "name": "images",
          "type": "tree",
          "content": null
        },
        {
          "name": "misc",
          "type": "tree",
          "content": null
        },
        {
          "name": "packaging",
          "type": "tree",
          "content": null
        },
        {
          "name": "po",
          "type": "tree",
          "content": null
        },
        {
          "name": "projectfiles",
          "type": "tree",
          "content": null
        },
        {
          "name": "run_boost_tests",
          "type": "blob",
          "size": 2.58984375,
          "content": "#!/usr/bin/env python3\n# encoding: utf-8\n\"\"\"\nThis script runs a sequence of C++ unit test scenarios.\n\"\"\"\n\nimport argparse, os, subprocess, sys\n\ndef get_tests(filename):\n    test_list = []\n    for line in open(filename, mode=\"rt\"):\n        line = line.strip()\n        if line == \"\" or line.startswith(\"#\"):\n            continue\n\n        test_list.append(line)\n    return test_list\n\ndef run_with_rerun_for_sdl_video(executable, test_name):\n    \"\"\"A wrapper for subprocess.run with a workaround for the issue on CI  of intermittently failing to initialise SDL.\n    \"\"\"\n    # Sanity check on the number of retries.\n    # It's a rare failure, a single retry would probably be enough.\n    sdl_retries = 0\n    timeout_retries = 0\n    while sdl_retries < 10 and timeout_retries < 5:\n        sdl_retry = False\n        timeout_retry = False\n\n        try:\n            res = subprocess.run([executable, \"--run_test=\"+test_name, \"--color_output\"], timeout=20, stdout=subprocess.PIPE, stderr=subprocess.STDOUT)\n        except subprocess.TimeoutExpired as t:\n            timeout_retries += 1\n            timeout_retry = True\n            print(\"Test timed out, attempt\", timeout_retries)\n        else:\n            if b\"Could not initialize SDL_video\" in res.stdout:\n                sdl_retries += 1\n                sdl_retry = True\n                print(\"Could not initialise SDL_video error, attempt\", sdl_retries)\n\n        if not sdl_retry and not timeout_retry:\n            return res\n\nif __name__ == '__main__':\n    ap = argparse.ArgumentParser()\n    ap.add_argument(\"-e\", \"--executable\", help=\"The name of the boost unit test executable. Default is boost_unit_tests.\", default=\"boost_unit_tests\")\n    ap.add_argument(\"-p\", \"--path\", metavar=\"dir\", help=\"Path to boost unit test binary. By default assume it is the current directory.\", default=\".\")\n    ap.add_argument(\"-l\", \"--test_list\", metavar=\"filename\", help=\"Loads the list of tests from the given file. Default is boost_test_schedule.\", default=\"boost_test_schedule\")\n\n    options = ap.parse_args()\n\n    tests = get_tests(options.test_list)\n    executable = options.executable\n    success=0\n    failure=0\n\n    for test in tests:\n        res = run_with_rerun_for_sdl_video(os.path.join(options.path, executable), test)\n        if res.returncode == 0:\n            success+=1\n            print(\"Test \"+test+\" passed\")\n        else:\n            failure+=1\n            print(\"Test \"+test+\" failed with return code \"+str(res.returncode)+\":\")\n            print(res.stdout.decode('utf-8'))\n    \n    print(\"Tests passed: \"+str(success))\n    print(\"Tests failed: \"+str(failure))\n    if failure != 0:\n        exit(1)\n"
        },
        {
          "name": "run_wml_tests",
          "type": "blob",
          "size": 16.0361328125,
          "content": "#!/usr/bin/env python3\n# encoding: utf-8\n\"\"\"\nThis script runs a sequence of wml unit test scenarios.\n\"\"\"\n\nimport argparse, enum, os, re, subprocess, sys\n\nclass Verbosity(enum.IntEnum):\n    \"\"\"What to display depending on how many -v arguments were given on the command line.\"\"\"\n    # This doesn't use enum.unique, more than one of these could have the same int level\n    NAMES_OF_TESTS_RUN = 1 # Show progress when running interactively, with a new line each time a new batch starts\n    SCRIPT_DEBUGGING = 2 # The command lines needed to run Wesnoth directly for a given test is printed\n    OUTPUT_OF_PASSING_TESTS = 3 # Print the output even when tests give the expected result\n\nclass UnexpectedTestStatusException(Exception):\n    \"\"\"Exception raised when a unit test doesn't return the expected result.\"\"\"\n    pass\n\nclass UnitTestResult(enum.Enum):\n    \"\"\"Enum corresponding to game_launcher.hpp's unit_test_result\"\"\"\n    PASS = 0\n    FAIL = 1\n    TIMEOUT = 2\n    FAIL_LOADING_REPLAY = 3\n    FAIL_PLAYING_REPLAY = 4\n    FAIL_WML_EXCEPTION = 6\n    FAIL_BY_DEFEAT = 7\n    PASS_BY_VICTORY = 8\n    BROKE_STRICT_TEST_PASS = 9\n    BROKE_STRICT_TEST_FAIL = 10\n    BROKE_STRICT_TEST_FAIL_BY_DEFEAT = 11\n    BROKE_STRICT_TEST_PASS_BY_VICTORY = 12\n    \n    def __str__(self):\n        return str(self.value) + ' ' + self.name\n\nclass TestCase:\n    \"\"\"Represents a single line of the wml_test_schedule.\"\"\"\n    def __init__(self, status, name):\n        self.status = status\n        self.name = name\n\n    def __str__(self):\n        return \"TestCase<{status}, {name}>\".format(status=self.status, name=self.name)\n\nclass TestResultAccumulator:\n    passed = []\n    skipped = []\n    failed = []\n    crashed = []\n    \n    def __init__(self, total):\n        self.total = total\n    \n    def pass_test(self, batch):\n        \"\"\"These tests had the expected result - passed if UnitTestResult.PASS was expected, etc.\"\"\"\n        self.passed += batch\n    \n    def skip_test(self, batch):\n        \"\"\"These tests were not run at all. For example, if they expect UnitTestResult.TIMEOUT but the run requested no timeouts.\"\"\"\n        self.skipped += batch\n    \n    def fail_test(self, batch):\n        \"\"\"These tests did not crash, but did not have the expected result - they passed if UnitTestResult.FAIL was expected, etc.\"\"\"\n        self.failed += batch\n    \n    def crash_test(self, batch):\n        \"\"\"Segfaults and similar unusual exits from the program under test.\"\"\"\n        self.crashed += batch\n    \n    def __bool__(self):\n        \"\"\"Returns true if everything that was expected to run (based on the command line options) ran and passed.\"\"\"\n        # The logic here is redundant, from the length of passed and skipped we should know that failed and crashed are both empty;\n        # however a false everything-passed result is much worse than a couple of extra checks here.\n        return len(self.passed) + len(self.skipped) == self.total and len(self.failed) == 0 and len(self.crashed) == 0\n\n    def __str__(self):\n        result = \"Passed {count} of {total} tests\\n\".format(count=len(self.passed), total=self.total)\n        if self.skipped:\n            result += \"Skipped batches containing {count} tests: ({names})\\n\".format(count=len(self.skipped),\n                    names=\", \".join([test.name for test in self.skipped]))\n        if self.failed:\n            result += \"Failed batches containing {count} tests: ({names})\\n\".format(count=len(self.failed),\n                    names=\", \".join([test.name for test in self.failed]))\n        if self.crashed:\n            result += \"Crashed during batches containing {count} tests: ({names})\".format(count=len(self.crashed),\n                    names=\", \".join([test.name for test in self.crashed]))\n        return result;\n\nclass TestListParser:\n    \"\"\"Each line in the list of tests should be formatted:\n        <expected return code><space><name of unit test scenario>\n\n    For example:\n        0 test_functionality\n\n    Lines beginning # are treated as comments.\n    \"\"\"\n    def __init__(self, options):\n        self.verbose = options.verbose\n        self.filename = options.list\n        if options.filter is not None:\n            self.filter = re.compile(options.filter)\n        else:\n            self.filter = None\n\n    def get(self, batcher):\n        status_name_re = re.compile(r\"^(\\d+) ([\\w-]+)$\")\n        test_list = []\n        for line in open(self.filename, mode=\"rt\"):\n            line = line.strip()\n            if line == \"\" or line.startswith(\"#\"):\n                continue\n\n            x = status_name_re.match(line)\n            if x is None:\n                print(\"Could not parse test list file: \", line)\n\n            if self.filter and not self.filter.search(line):\n                continue\n\n            t = TestCase(UnitTestResult(int(x.groups()[0])), x.groups()[1])\n            if self.verbose >= Verbosity.SCRIPT_DEBUGGING:\n                print(t)\n            test_list.append(t)\n        return batcher(test_list), TestResultAccumulator(len(test_list))\n\ndef run_with_rerun_for_sdl_video(args, timeout):\n    \"\"\"A wrapper for subprocess.run with a workaround for the issue of travis+18.04\n    intermittently failing to initialise SDL.\n    \"\"\"\n    # Sanity check on the number of retries. It's a rare failure, a single retry would probably\n    # be enough.\n    sdl_retries = 0\n    while sdl_retries < 10:\n        res = subprocess.run(args, timeout=timeout, stdout=subprocess.PIPE, stderr=subprocess.STDOUT)\n        retry = False\n        if b\"Could not initialize SDL_video\" in res.stdout:\n            retry = True\n        if not retry:\n            return res\n        sdl_retries += 1\n        print(\"Could not initialise SDL_video error, attempt\", sdl_retries)\n\nclass WesnothRunner:\n    def __init__(self, options):\n        self.verbose = options.verbose\n        if options.path in [\"XCode\", \"xcode\", \"Xcode\"]:\n            import glob\n            path_list = []\n            build = \"Debug\" if options.debug_bin else \"Release\"\n            pattern = os.path.join(\"~/Library/Developer/XCode/DerivedData/The_Battle_for_Wesnoth*/Build/Products\",\n                build, \"The Battle for Wesnoth.app/Contents/MacOS/The Battle for Wesnoth\")\n            path_list.extend(glob.glob(os.path.expanduser(pattern)))\n            if len(path_list) == 0:\n                raise FileNotFoundError(\"Couldn't find your xcode build dir\")\n            if len(path_list) > 1:\n                # seems better than choosing one at random\n                raise RuntimeError(\"Found more than one xcode build dir\")\n            path = path_list[0]\n        else:\n            if options.path is None:\n                path = os.path.split(os.path.realpath(sys.argv[0]))[0]\n            else:\n                path = options.path\n            if os.path.isdir(path):\n                path += \"/wesnoth\"\n            if options.debug_bin:\n                path += \"-debug\"\n        self.common_args = [path, \"--nobanner\"]\n        if options.strict_mode:\n            self.common_args.append(\"--log-strict=warning\")\n        if options.clean:\n            self.common_args.append(\"--noaddons\")\n        if options.additional_arg is not None:\n            self.common_args.extend(options.additional_arg)\n        self.timeout = options.timeout\n        self.batch_timeout = options.batch_timeout\n        if self.verbose >= Verbosity.SCRIPT_DEBUGGING:\n            print(\"Options that will be used for all Wesnoth instances:\", repr(self.common_args))\n\n    def run_tests(self, test_list, test_summary):\n        \"\"\"Run all of the tests in a single instance of Wesnoth\"\"\"\n        if len(test_list) == 0:\n            raise ValueError(\"Running an empty test list\")\n        if len(test_list) > 1:\n            for test in test_list:\n                if test.status != UnitTestResult.PASS:\n                    raise NotImplementedError(\"run_tests doesn't yet support batching tests with non-zero statuses\")\n        expected_result = test_list[0].status\n\n        if expected_result == UnitTestResult.TIMEOUT and self.timeout == 0:\n            test_summary.skip_test(test_list)\n            if self.verbose >= Verbosity.NAMES_OF_TESTS_RUN:\n                print('Skipping test', test_list[0].name, 'because timeout is disabled')\n            return\n        if (\n                expected_result == UnitTestResult.BROKE_STRICT_TEST_PASS or\n                expected_result == UnitTestResult.BROKE_STRICT_TEST_FAIL or\n                expected_result == UnitTestResult.BROKE_STRICT_TEST_FAIL_BY_DEFEAT or\n                expected_result == UnitTestResult.BROKE_STRICT_TEST_PASS_BY_VICTORY\n            ) and not options.strict_mode:\n            test_summary.skip_test(test_list)\n            if self.verbose >= Verbosity.NAMES_OF_TESTS_RUN:\n                print('Skipping test', test_list[0].name, 'because strict mode is disabled')\n            return\n\n        args = self.common_args.copy()\n        for test in test_list:\n            args.append(\"-u\")\n            args.append(test.name)\n\n        if self.timeout == 0:\n            timeout = None\n        elif len(test_list) == 1:\n            timeout = self.timeout\n        else:\n            timeout = self.batch_timeout\n\n        if self.verbose >= Verbosity.NAMES_OF_TESTS_RUN:\n            if len(test_list) == 1:\n                print(\"Running test\", test_list[0].name)\n            else:\n                print(\"Running {count} tests ({names})\".format(count=len(test_list),\n                    names=\", \".join([test.name for test in test_list])))\n        if self.verbose >= Verbosity.SCRIPT_DEBUGGING:\n            print(repr(args))\n\n        try:\n            res = run_with_rerun_for_sdl_video(args, timeout)\n        except subprocess.TimeoutExpired as t:\n            if expected_result != UnitTestResult.TIMEOUT:\n                print(\"Timed out (killed by Python timeout implementation), while running batch ({names})\".format(\n                    names=\", \".join([test.name for test in test_list])))\n            res = subprocess.CompletedProcess(args, UnitTestResult.TIMEOUT.value, t.output or b'')\n        if self.verbose >= Verbosity.OUTPUT_OF_PASSING_TESTS:\n            print(res.stdout.decode('utf-8'))\n            print(\"Result:\", res.returncode)\n        if res.returncode < 0:\n            print(\"Wesnoth exited because of signal\", -res.returncode)\n            if options.backtrace:\n                print(\"Launching GDB for a backtrace...\")\n                gdb_args = [\"gdb\", \"-q\", \"-batch\", \"-ex\", \"set style enabled on\", \"-ex\", \"start\", \"-ex\", \"continue\", \"-ex\", \"bt\", \"-ex\", \"quit\", \"--args\"]\n                gdb_args.extend(args)\n                subprocess.run(gdb_args, timeout=240)\n            test_summary.crash_test(test_list)\n            raise UnexpectedTestStatusException()\n        returned_result = None\n        try:\n            returned_result = UnitTestResult(res.returncode)\n        except:\n            print(\"Wesnoth returned an unexpected value: \", res.returncode)\n            test_summary.crash_test(test_list)\n            raise UnexpectedTestStatusException()\n        if returned_result == expected_result:\n            test_summary.pass_test(test_list)\n        else:\n            if self.verbose < Verbosity.OUTPUT_OF_PASSING_TESTS:\n                # Batch mode only supports tests that should UnitTestResult.PASS, so the output\n                # here is likely to have many 'PASS TEST' lines with the failing test last.\n                # If support for batching other UnitTestResults is added then this needs to filter\n                # the output from the other tests.\n                print(res.stdout.decode('utf-8'))\n            print(\"Failure, Wesnoth returned\", returned_result, \"but we expected\", expected_result)\n            test_summary.fail_test(test_list)\n            raise UnexpectedTestStatusException()\n\ndef test_batcher(test_list):\n    \"\"\"A generator function that collects tests into batches which a single\n    instance of Wesnoth can run.\n    \"\"\"\n    expected_to_pass = []\n    for test in test_list:\n        if test.status == UnitTestResult.PASS:\n            expected_to_pass.append(test)\n        else:\n            yield [test]\n    if len(expected_to_pass) == 0:\n        return\n    if options.batch_max == 0:\n        yield expected_to_pass\n        return\n    while len(expected_to_pass) > 0:\n        yield expected_to_pass[0:options.batch_max]\n        expected_to_pass = expected_to_pass[options.batch_max:]\n\ndef test_nobatcher(test_list):\n    \"\"\"A generator function that provides the same API as test_batcher but\n    emits the tests one at a time.\"\"\"\n    for test in test_list:\n        yield [test]\n\nif __name__ == '__main__':\n    ap = argparse.ArgumentParser()\n    # The options that are mandatory to support (because they're used in the Travis script)\n    # are the one-letter forms of verbose, clean, timeout and backtrace.\n    ap.add_argument(\"-v\", \"--verbose\", action=\"count\", default=0,\n        help=\"Verbose mode. Additional -v arguments increase the verbosity.\")\n    ap.add_argument(\"-c\", \"--clean\", action=\"store_true\",\n        help=\"Clean mode. (Don't load any add-ons. Used for mainline tests.)\")\n    ap.add_argument(\"-a\", \"--additional_arg\", action=\"append\",\n        help=\"Additional arguments to go to wesnoth. For options that start with a hyphen, '--add_argument --data-dir' will give an error, use '--add_argument=--data-dir' instead.\")\n    ap.add_argument(\"-t\", \"--timeout\", type=int, default=10,\n        help=\"New timer value to use, instead of 10s as default. The value 0 means no timer, and also skips tests that expect timeout.\")\n    ap.add_argument(\"-bt\", \"--batch-timeout\", type=int, default=300,\n        help=\"New timer value to use for batched tests, instead of 300s as default.\")\n    ap.add_argument(\"-bm\", \"--batch-max\", type=int, default=0,\n        help=\"Maximum number of tests to do in a batch. Default no limit.\")\n    ap.add_argument(\"-bd\", \"--batch-disable\", action=\"store_const\", const=1, dest='batch_max',\n        help=\"Disable test batching, may be useful if debugging a small subset of tests. Equivalent to --batch-max=1\")\n    ap.add_argument(\"-s\", \"--no-strict\", dest=\"strict_mode\", action=\"store_false\",\n        help=\"Disable strict mode. By default, we run wesnoth with the option --log-strict=warning to ensure errors result in a failed test.\")\n    ap.add_argument(\"-d\", \"--debug_bin\", action=\"store_true\",\n        help=\"Run wesnoth-debug binary instead of wesnoth.\")\n    ap.add_argument(\"-f\", \"--filter\",\n        help=\"Run the subset of tests whose name matches the given string. Regex patterns are supported.\")\n    ap.add_argument(\"-g\", \"--backtrace\", action=\"store_true\",\n        help=\"If we encounter a crash, generate a backtrace using gdb. Must have gdb installed for this option.\")\n    ap.add_argument(\"-p\", \"--path\", metavar=\"dir\",\n        help=\"Path to wesnoth binary. By default assume it is with this script.\"\n        + \" If running on a Mac, passing 'xcode' as the path will attempt to locate the binary in Xcode derived data directories.\")\n    ap.add_argument(\"-l\", \"--list\", metavar=\"filename\",\n        help=\"Loads list of tests from the given file.\",\n    default=\"wml_test_schedule\")\n\n    # Workaround for argparse not accepting option values that start with a hyphen,\n    # for example \"-a --user-data-dir\". https://bugs.python.org/issue9334\n    # New callers can use \"-a=--user-data-dir\", but compatibility with the old version\n    # of run_wml_tests needs support for \"-a --user-data-dir\".\n    try:\n        while True:\n            i = sys.argv.index(\"-a\")\n            sys.argv[i] = \"=\".join([\"-a\", sys.argv.pop(i + 1)])\n    except IndexError:\n        pass\n    except ValueError:\n        pass\n\n    options = ap.parse_args()\n\n    if options.verbose > 1:\n        print(repr(options))\n\n    batcher = test_nobatcher if options.batch_max == 1 else test_batcher\n    test_list, test_summary = TestListParser(options).get(batcher)\n    runner = WesnothRunner(options)\n\n    for batch in test_list:\n        try:\n            runner.run_tests(batch, test_summary)\n        except UnexpectedTestStatusException as e:\n            if test_summary:\n                raise RuntimeError(\"Logic error in run_wml_tests - a test has failed, but test_summary says everything passed\")\n\n    if options.verbose > 0 or not test_summary:\n        print(test_summary)\n    else:\n        print(\"WML Unit Tests Result:\", len(test_summary.passed), \"of\", test_summary.total, \"tests passed\")\n\n    if not test_summary:\n        sys.exit(1)\n"
        },
        {
          "name": "scons",
          "type": "tree",
          "content": null
        },
        {
          "name": "sounds",
          "type": "tree",
          "content": null
        },
        {
          "name": "source_lists",
          "type": "tree",
          "content": null
        },
        {
          "name": "src",
          "type": "tree",
          "content": null
        },
        {
          "name": "update_copyrights",
          "type": "blob",
          "size": 6.216796875,
          "content": "#!/usr/bin/env python3\n# encoding: utf-8\n\n##\n# This script checks all sound/music files in the repository for whether they've been modified or added without updating the file tracking sound or music copyright\n# This check was used in continuous integration for image files as well prior to September 2024.  \n##\n\nimport argparse\nimport contextlib\nimport csv\nimport hashlib\nfrom operator import itemgetter\nimport os\nfrom pathlib import Path\nfrom subprocess import check_output\nimport sys\n\n##\n# csv file layout:\n# [0] = current git commit date\n# [1] = file path, relative to the repository root\n# [2] = license name(s)\n# [3] = authorship information\n# [4] = notes\n# [5] = new git commit date, if different from the value in [0]\n# [6] = current md5 hash\n##\n\n##\n# Add new licenses to this list:\n# Avoid things like \"GNU GPL v2+;CC BY-SA 4.0\", unless you mean to dual license\n# under either GNU GPL v2+ or CC BY-SA 4.0.  GNU GPL v2+ and CC BY-SA 4.0 (e.g.\n# a GNU GPL v2+ file with CC BY-SA 4.0 modifications) isn't legally possible.\n##\nknown_licenses = (\n        \"CC BY-SA 4.0\",\n        \"CC0\",\n        \"GNU GPL v2+\",\n        )\n\ndef do_git(file):\n    return str(check_output([\"git\", \"log\", \"-1\", \"--format=%ad\", \"--date=format:%Y/%m/%d\", file]), 'UTF-8').rstrip('\\n')\n\ndef do_hash(file):\n    md5 = hashlib.md5()\n    with open(file, 'rb') as f:\n        while True:\n            data = f.read(65536)\n            if not data:\n                break\n            md5.update(data)\n    return str(md5.hexdigest())\n\n##\n# program logic start\n##\n\nargs = argparse.ArgumentParser()\nargs.add_argument(\"--repo\", default=\".\", help=\"The directory of the Wesnoth repository to run this script against.\")\nargs.add_argument(\"--output\", default=\"copyrights.csv\", help=\"The file to write the results of this script to.\")\nargs.add_argument(\"--input\", default=\"copyrights.csv\", help=\"The file to read the existing copyright data from.\")\noptions = args.parse_args()\nos.chdir(options.repo)\n\ncsv_data = {}\n# Too few fields\nmissing_fields = []\n# Too many fields, possibly due to an unquoted comma\nextra_fields = []\n# New images\nadded = []\n# Changed images\nchanged = []\n# Already mentioned in the CSV file, but lacking something in either the license or author fields\nincomplete = []\n# Already mentioned in the CSV file, but have something in the needs update field\nupdate = []\nunchanged = []\nremoved = []\n# Sanity-check for known licenses\nunknown_licenses = []\n\nwith open(options.input, encoding=\"utf-8\") as csvfile:\n    reader = csv.reader(csvfile)\n    previous_file = \"\"\n    for row in reader:\n        if row[0] == \"Date\":\n            continue\n\n        file = row[1]\n        previous_file = file\n\n        if not os.path.exists(file):\n            removed.append(file)\n            continue\n\n        csv_data[file] = row\n\nwith contextlib.suppress(FileNotFoundError):\n    os.remove(options.output)\n\nfor root, _, files in os.walk(options.repo):\n    for filename in files:\n        filetype = Path(filename).suffix\n        if filetype == \".wav\" or filetype == \".ogg\":\n            file_path = os.path.normpath(os.path.join(root, filename))\n            if os.path.sep != '/':\n                # Always use slashes for the file path irrespective of OS used to run the update\n                file_path = file_path.replace(os.path.sep, '/')\n            file_hash = do_hash(file_path)\n\n            if not file_path in csv_data:\n                added.append([\"\", file_path, \"\", \"\", \"\", do_git(file_path), file_hash])\n            elif len(csv_data[file_path]) < 7:\n                missing_fields.append(csv_data[file_path])\n            elif len(csv_data[file_path]) > 7:\n                extra_fields.append(csv_data[file_path])\n            elif csv_data[file_path][5] != \"\":\n                update.append(csv_data[file_path])\n            elif csv_data[file_path][6] != file_hash:\n                csv_data[file_path][5] = do_git(file_path)\n                csv_data[file_path][6] = file_hash\n                changed.append(csv_data[file_path])\n            elif csv_data[file_path][2].strip() == \"\" or csv_data[file_path][3].strip() == \"\":\n                incomplete.append(csv_data[file_path])\n            elif not csv_data[file_path][2] in known_licenses:\n                unknown_licenses.append(csv_data[file_path][2])\n                incomplete.append(csv_data[file_path])\n            else:\n                unchanged.append(csv_data[file_path])\n\nfinal_output = missing_fields + extra_fields + added + changed + incomplete + update + unchanged\nfinal_output.sort(key=itemgetter(1))\n\nif options.output != \"\":\n    with open(options.output, 'w', encoding=\"utf-8\") as f:\n        writer = csv.writer(f, lineterminator=\"\\n\")\n        writer.writerow([\"Date\", \"File\", \"License\", \"Author - Real Name(other name);Real Name(other name);etc\", \"Notes\", \"Needs Update\", \"MD5\"])\n        writer.writerows(final_output)\nelse:\n    writer = csv.writer(sys.stdout, lineterminator=\"\\n\")\n    writer.writerows(final_output)\n\nany_check_failed = False\nif len(removed) > 0:\n    any_check_failed = True\n    print(\"There are \"+str(len(removed))+\" removed files\")\n\ncount_missing_fields = len(missing_fields)\ncount_extra_fields = len(extra_fields)\ncount_added = len(added)\ncount_changed = len(changed)\ncount_incomplete = len(incomplete)\ncount_update = len(update)\n\nif count_missing_fields > 0 or count_extra_fields > 0 or count_added > 0 or count_changed > 0 or count_incomplete > 0 or count_update > 0:\n    any_check_failed = True\n    print(\"\\nThere are \"+str(count_missing_fields)+\" rows with too few fields:\\n\"+\"\\n\".join(\",\".join(a) for a in missing_fields))\n    print(\"\\nThere are \"+str(count_extra_fields)+\" rows with too many fields, possibly due to an unquoted comma:\\n\"+\"\\n\".join(\",\".join(a) for a in extra_fields))\n    print(\"\\nThere are \"+str(count_added)+\" new files:\\n\"+\"\\n\".join(a[1] for a in added))\n    print(\"\\nThere are \"+str(count_changed)+\" changed files:\\n\"+\"\\n\".join(a[1] for a in changed))\n    print(\"\\nThere are \"+str(count_incomplete)+\" files that lack license or author information:\\n\"+\"\\n\".join(a[1] for a in incomplete))\n    print(\"\\nThere are \"+str(count_update)+\" files that need updated information:\\n\"+\"\\n\".join(a[1] for a in update))\n\nif len(unknown_licenses) > 0:\n    any_check_failed = True\n    print(\"Unknown licenses:\")\n    print(\"    \" + \"\\n    \".join(unknown_licenses))\n\nif any_check_failed:\n    sys.exit(1)\n"
        },
        {
          "name": "utils",
          "type": "tree",
          "content": null
        },
        {
          "name": "vcpkg.json",
          "type": "blob",
          "size": 1.11328125,
          "content": "{\n  \"$schema\": \"https://raw.githubusercontent.com/microsoft/vcpkg-tool/main/docs/vcpkg.schema.json\",\n  \"name\": \"wesnoth-dependencies\",\n  \"version\": \"0.0.1\",\n  \"builtin-baseline\": \"e63bd09dc0b7204467705c1c7c71d0e2a3f8860b\",\n  \"dependencies\": [\n    \"sdl2\",\n    {\n      \"name\": \"sdl2-image\",\n      \"features\": [ \"libjpeg-turbo\", \"libwebp\" ]\n    },\n    \"libwebp\",\n    \"sdl2-mixer\",\n    \"bzip2\",\n    \"zlib\",\n    \"pango\",\n    \"cairo\",\n    \"fontconfig\",\n    \"libvorbis\",\n    \"libogg\",\n    \"openssl\",\n    \"boost-filesystem\",\n    \"boost-graph\",\n    \"boost-iostreams\",\n    {\n      \"name\": \"boost-locale\",\n      \"features\": [ \"icu\" ]\n    },\n    \"boost-random\",\n    {\n      \"name\": \"boost-regex\",\n      \"features\": [ \"icu\" ]\n    },\n    \"boost-asio\",\n    \"boost-program-options\",\n    \"boost-system\",\n    \"boost-bimap\",\n    \"boost-math\",\n    \"boost-logic\",\n    \"boost-format\",\n    \"boost-scope-exit\",\n    \"boost-circular-buffer\",\n    \"boost-ptr-container\",\n    \"boost-spirit\",\n    \"boost-test\",\n    \"boost-process\",\n    {\n      \"name\": \"curl\",\n      \"features\": [ \"openssl\" ]\n    },\n    {\n      \"name\": \"pkgconf\",\n      \"platform\": \"windows\"\n    }\n  ]\n}\n"
        },
        {
          "name": "wml_test_schedule",
          "type": "blob",
          "size": 29.2763671875,
          "content": "#\n# Sanity checks of the unit test system\n#\n0 test_return\n1 test_return_fail\n0 test_assert\n1 test_assert_fail\n0 test_lua_return\n1 test_lua_return_fail\n8 test_lua_return_victory\n7 test_lua_return_defeat\n0 test_lua_assert\n1 test_lua_assert_fail\n1 test_lua_assert_fail_in_fired_event\n0 test_lua_assert_compare\n1 test_lua_assert_compare_fail1\n1 test_lua_assert_compare_fail2\n1 test_lua_assert_compare_fail3\n1 test_lua_assert_compare_fail4\n1 test_lua_assert_compare_fail5\n1 test_lua_assert_compare_fail6\n1 test_lua_assert_compare_fail7\n1 test_lua_assert_compare_fail8\n1 test_lua_assert_compare_fail9\n0 test_lua_assert_errors1\n1 test_lua_assert_errors2\n1 test_lua_assert_errors3\n0 test_lua_assert_errors4\n1 test_lua_assert_errors5\n0 test_lua_assert_errors6\n1 test_lua_assert_errors7\n0 test_lua_assert_errors8\n1 test_lua_assert_errors9\n2 empty_test\n0 test_end_turn\n9 there_is_no_test_with_this_name\n0 check_strikes_once\n10 check_strikes_twice_fail\n#\n# The synchronisation mechanism\n#\n4 break_replay_with_lua_random\n0 fixed_lua_random_replay_with_sync_choice\n9 test_synced_side_number\n0 test_synced_state\n#\n# Security test\n#\n0 cve_2018_1999023\n9 cve_2018_1999023_2\n#\n# Test Check Victory (If this isn't working other tests may have dubious value)\n#\n2 check_victory_basic_timeout\n1 check_victory_basic_macro_check\n8 check_victory_basic\n1 check_victory_basic_fail\n8 check_victory_basic_two\n8 check_victory_basic_ai\n1 check_victory_basic_ai_fail\n8 check_victory_basic_ai_two\n1 check_victory_one_no_units_fail_one\n1 check_victory_one_no_units_fail_two\n8 check_victory_one_no_units\n1 check_victory_two_no_units_fail_one\n1 check_victory_two_no_units_fail_two\n8 check_victory_two_no_units\n8 check_victory_always_one\n8 check_victory_always_two\n1 check_victory_always_no_units_fail\n8 check_victory_always_no_units\n1 check_victory_always_fail\n1 check_victory_never_fail_one\n1 check_victory_never_fail_two\n1 check_victory_never_fail_three\n8 check_victory_never_pass\n7 check_victory_never_ai_fail\n#\n# Preprocessor\n#\n0 test_preprocessor_ifdef_in_arg\n#\n# WML API tests\n#\n0 two_plus_two\n10 two_plus_two_fail\n0 order_of_nested_events\n0 test_clear_one\n0 test_clear_two\n0 test_unit_map\n0 unit_spawns_at_nearest_vacant_hex\n0 units_offmap_goto_recall\n0 recall_by_unit_tag\n0 test_move\n9 test_move_fail_1\n9 test_move_fail_2\n9 test_move_fail_3\n9 test_move_fail_4\n9 test_move_fail_5\n9 test_move_fail_6\n0 test_move_unit\n0 test_move_unit_in_circle\n0 test_move_unit_to_occupied_location\n0 sighted_on_move\n0 move_skip_no_sighted_no_share_vision\n0 move_skip_ally_sighted_no_share_vision\n0 move_skip_all_sighted_no_share_vision\n0 move_skip_no_sighted_yes_share_vision\n0 move_skip_ally_sighted_yes_share_vision\n0 move_skip_all_sighted_yes_share_vision\n0 set_gold_in_prestart_one\n0 set_gold_in_prestart_two\n0 modify_turns_one\n0 modify_turns_two\n0 modify_turns_three\n0 modify_turns_four\n0 replace_schedule_prestart\n0 modify_unit_facing\n0 modify_unit_which_recall_list\n0 modify_unit_recall_cost\n0 put_to_recall_and_modify\n0 effect_type_variation_full_heal\n0 effect_type_variation_no_heal\n0 event_handlers_in_events_1\n0 event_handlers_in_events_3\n0 event_handlers_in_events_2\n0 event_handlers_in_events_4\n0 event_handlers_in_events_5\n0 event_handlers_in_events_6\n0 event_handlers_in_events_7\n0 event_handlers_in_events_8\n0 event_handlers_in_events__delayed\n0 event_handlers_in_events__delayed__dynamic_name\n0 event_handlers_in_events__delayed__dynamic_filter\n0 event_handlers_in_events__immediate\n0 event_handlers_in_events__immediate__dynamic_name\n0 event_handlers_in_events__immediate__dynamic_filter\n0 event_remove_test\n0 event_repeat_test\n0 event_test_auto_variables_side_turn\n0 event_test_auto_variables_xy\n0 event_test_auto_variables_units\n0 event_test_auto_variables_weapons\n0 event_test_auto_variables_damage\n0 event_test_auto_variables_owner\n0 event_test_filter_condition\n0 event_test_filter_side\n0 event_test_filter_unit\n0 event_test_filter_ability\n0 event_test_filter_ability_interval_number\n0 event_test_filter_ability_neg_value\n0 event_test_filter_ability_no_match\n0 event_test_filter_ability_no_match_neg_prefix\n0 event_test_filter_ability_wml\n0 event_test_filter_ability_wml_no_match\n0 event_test_filter_ability_active\n0 event_test_filter_ability_active_inactive\n0 event_test_filter_special_active\n0 event_test_filter_special_active_inactive\n0 event_test_filter_special_simple_check\n0 event_test_filter_ability_with_value_by_default\n0 event_test_filter_ability_no_match_by_default\n0 event_test_filter_ability_apply_to_resistance\n0 test_ability_id_active\n0 test_ability_id_not_active\n0 event_test_filter_attack\n0 event_test_filter_attack_no_defense\n0 event_test_filter_attack_type\n0 event_test_filter_attack_specials\n0 event_test_filter_attack_on_moveto\n0 event_test_filter_attack_opponent_weapon_condition\n9 event_test_filter_attack_opponent_weapon_condition_no_triggered\n9 event_test_filter_attack_student_weapon_condition\n0 event_test_filter_wfl\n0 event_test_filter_wfl2\n0 event_test_filter_lua_serializable\n0 event_test_filter_lua_dynamic\n9 event_test_filter_lua_dynamic_break_save\n0 event_test_action_wml\n0 event_test_lua\n0 event_test_lua_advanced\n0 event_test_lua_repeat\n9 event_test_lua_break_save\n0 test_lua_name\n0 filter_vision_all_no_side\n0 filter_vision_all_side_2\n0 filter_vision_all_side_4\n0 filter_vision_side_1_side_4\n0 filter_vision_side_2_side_4\n0 filter_vision_side_3_side_4\n0 filter_vision_side_4_side_1\n0 filter_vision_side_4_side_3\n0 filter_vision_side_4_not_side_2\n0 filter_vision_not_side_5\n0 test_shroud_init\n0 test_shroud_place_wml\n0 test_shroud_place_lua\n0 test_shroud_place_lua_data\n0 test_shroud_override_all\n0 test_shroud_override_data\n0 test_shroud_remove_wml\n0 test_shroud_remove_lua\n0 test_shroud_remove_lua_data\n0 test_shroud_modify_wml\n0 test_shroud_modify_lua\n0 scatter_units\n0 dave_has_ally_bob\n0 dave_has_enemy_alice\n0 dave_not_has_ally_steve\n0 dave_has_enemy_sides\n0 not_dave_has_ally_charlie\n0 xp_mod_1\n0 xp_mod_2\n0 xp_mod_3\n0 test_role_1\n0 test_role_2\n0 test_role_3\n0 test_role_lua\n0 events-test_nonfilterable\n0 events-test_filterable1\n0 events-test_filterable2\n0 events-test_filterable3\n0 events-test_victory\n0 events-test_defeat\n0 events-test_die\n0 events-test_pre_attack_base\n0 events-test_pre_attack_change_weapon\n0 test_store_unit_defense_on\n9 test_store_unit_defense_deprecated\n0 special_note_from_movetype\n0 special_note_individual_unit\n0 has_achievement\n0 test_movement_used\n0 test_attacks_used\n0 no_duplicate_advancements\n0 add_advancement\n0 add_or_replace_amla\n0 add_specific_female_amla_on_female\n0 add_specific_female_amla_on_male\n0 harm_unit_survivable_experience_no\n0 harm_unit_survivable_experience_unset\n0 harm_unit_survivable_experience_yes\n0 harm_unit_kill_no_experience_attack\n0 harm_unit_kill_no_experience_attack_defend\n0 harm_unit_kill_no_experience_attack_kill\n0 harm_unit_kill_no_experience_defend\n0 harm_unit_kill_no_experience_defend_kill\n0 harm_unit_kill_no_experience_fight\n0 harm_unit_kill_no_experience_kill\n0 harm_unit_kill_no_experience_no_attack_defend_kill\n0 harm_unit_kill_no_experience_no\n0 harm_unit_kill_no_experience_unset\n0 harm_unit_kill_no_experience_yes\n0 harm_unit_kill_split_experience_attack\n0 harm_unit_kill_split_experience_attack_defend\n0 harm_unit_kill_split_experience_attack_kill\n0 harm_unit_kill_split_experience_defend\n0 harm_unit_kill_split_experience_defend_kill\n0 harm_unit_kill_split_experience_fight\n0 harm_unit_kill_split_experience_kill\n0 harm_unit_kill_split_experience_no_attack_defend_kill\n0 harm_unit_kill_split_experience_no\n0 harm_unit_kill_split_experience_unset\n0 harm_unit_kill_split_experience_yes\n0 harm_unit_kill_yes_experience_no\n0 harm_unit_kill_yes_experience_unset\n0 harm_unit_kill_yes_experience_yes\n# Terrain mask tests\n0 test_terrain_mask_simple_nop\n0 test_terrain_mask_simple_set\n0 test_terrain_mask_simple_underlay\n0 test_terrain_mask_simple_overlay\n0 test_terrain_mask_simple_name\n0 test_terrain_mask_simple_name_ignore\n0 test_terrain_mask_align_odd_on_odd\n0 test_terrain_mask_align_odd_on_even\n0 test_terrain_mask_align_even_on_odd\n0 test_terrain_mask_align_even_on_even\n0 test_terrain_mask_align_raw_on_odd\n0 test_terrain_mask_align_raw_on_even\n0 test_terrain_mask_deprecated_border_no\n0 test_terrain_mask_deprecated_border_yes\n0 test_terrain_mask_rule_basic\n0 test_terrain_mask_file\n#\n# LUA\n#\n0 lua_dofile\n0 lua_require\n0 lua_get_sides\n0 test_wml_actions\n0 test_wml_conditionals\n0 lua_wml_tagnames\n0 test_parse_range\n0 test_scoped_array\n0 test_scoped_scalar\n0 as_text\n0 test_lua_version_api\n#\n# Pathfinding\n#\n0 store_locations_one\n0 store_locations_range\n0 simple_find_path\n# This test occasionally takes too long... (FIXME):       0 characterize_pathfinding_one\n0 characterize_pathfinding_reach_1\n0 characterize_pathfinding_reach_2\n0 characterize_pathfinding_reach_3\n0 characterize_pathfinding_reach_4\n0 characterize_pathfinding_reach_5\n0 characterize_pathfinding_reach_6\n0 characterize_pathfinding_reach_7\n#\n# Movement types, and modifying them\n#\n0 test_elf_movement\n0 test_orc_movement\n0 test_elf_fast_cave_movement\n0 test_elf_fast_hills_movement\n0 test_elf_fast_cave_and_hills_movement\n0 test_orc_fast_cave_movement\n0 test_orc_fast_forest_movement\n0 test_elf_slow_cave_movement\n0 test_elf_longsighted_movement\n0 test_orc_longsighted_movement\n0 test_elf_longsighted_fast_cave_movement\n0 test_elf_fast_cave_longsighted_movement\n0 test_elf_vision\n0 test_elf_fast_cave_vision\n0 test_elf_fast_hills_vision\n0 test_elf_longsighted_cave_vision\n0 test_elf_longsighted_cave_and_hills_vision\n0 test_elf_longsighted_cave_slow_cave_vision\n0 test_resistances\n# [effect]apply_to=movement and [effect]apply_to=vision\n0 effect_move_affects_vision\n0 effect_move_ignores_vision\n0 effect_move_separated_vision\n0 effect_vision\n# [store_locations]\n0 store_reachable_locations_vision\n#\n# General information queries\n#\n0 test_lua_colors\n0 test_lua_colors_hexadecimal\n#\n# Attack calculations & codepath tests\n#\n8 alice_kills_bob\n8 bob_kills_alice_on_retal\n8 alice_kills_bob_levelup\n8 bob_kills_alice\n8 alice_kills_bob_on_retal\n8 alice_kills_bob_on_retal_levelup\n0 test_grunt_tod_damage\n0 test_time_area_damage\n0 test_time_area_prestart\n0 test_berserk_firststrike\n0 feeding_on_living\n0 feeding_on_dead\n0 firststrike_and_laststrike\n0 backstab_active_with_accomplice_behind_bob\n0 backstab_active_with_free_for_all\n0 backstab_inactive_with_triangular_formation\n0 backstab_inactive_with_statue_behind_bob\n0 backstab_inactive_with_bobs_ally_behind_bob\n0 reflexive_drains\n0 reflexive_poison\n0 reflexive_slow\n0 replace_special_with_filter_in_attack_event_active\n0 replace_special_with_filter_in_attack_event_inactive\n0 swarm_disables_upgrades\n0 attack_alignment_test\n0 attack_alignment_test_with_illuminates\n0 event_test_filter_attack_attack_alignment\n0 event_test_filter_attack_attack_alignment_no_match\n0 event_test_filter_attack_formula_attack_alignment\n0 event_test_filter_attack_formula_attack_alignment_no_match\n0 poison_opponent\n0 unslowable_status_test\n0 unpetrifiable_status_test\n0 test_force_chance_to_hit_macro_nested\n0 test_force_chance_to_hit_macro_toplevel\n0 trait_exclusion_test\n0 trait_requirement_test\n0 test_remove_ability_by_filter\n0 test_overwrite_specials_filter\n0 damage_recalculation_mid_attack\n0 damage_type_test\n0 damage_type_with_filter_test\n0 damage_secondary_type_test\n0 damage_type_apply_to_both_filter_self_opponent\n0 damage_type_apply_to_attacker_filter_attacker_defender\n9 event_test_filter_damage_type_recursion\n9 four_cycle_recursion_branching\n9 four_cycle_recursion_by_id\n9 four_cycle_recursion_by_tagname\n9 ability_cycle_recursion_by_id\n9 filter_self_ability_cycle_recursion_by_id\n9 adjacent_abilities_recursion_by_id\n9 leadership_filter_weapon_cycle_recursion\n0 negative_resistance_with_two_attack_types\n0 positive_resistance_with_two_attack_types\n0 taught_resistance_with_two_attack_types\n0 taught_resistance_with_three_attack_types\n0 swarms_filter_student_by_type\n0 swarms_effects_not_checkable\n0 filter_special_id_active\n0 filter_ability_special_id_active\n0 filter_special_id_not_exists\n0 special_id_active_lua_function\n0 leadership_when_other_has_special\n0 leadership_when_other_has_no_special\n0 effect_increase_attacks\n0 opponent_weapon_has_no_special\n0 opponent_weapon_has_special\n0 student_teacher_are_same\n0 teacher_damage_formula\n# Math operations in ability or specials tags\n0 special_calculation_add\n0 special_calculation_add2_add3_cumulative\n0 special_calculation_add3_add2_cumulative\n0 special_calculation_add_multiply_combined\n0 special_calculation_add_multiply_separated\n0 special_calculation_add_sub_combined\n0 special_calculation_add_sub_cumulative\n0 special_calculation_add2_sub_minus3_cumulative\n0 special_calculation_add_sub_separated\n0 special_calculation_add_sub_with_ids\n0 special_calculation_divide\n0 special_calculation_divide_float_2dp\n0 special_calculation_divide_float_3dp\n0 special_calculation_divide_multiply_combined\n0 special_calculation_divide_multiply_separated\n0 special_calculation_multiply_float_2dp\n0 special_calculation_multiply_float_3dp\n0 special_calculation_sub\n0 special_calculation_sub_add_cumulative\n0 special_calculation_sub_add_separated\n0 special_calculation_sub2_sub3_cumulative\n0 special_calculation_sub3_sub2_cumulative\n0 test_add_in_leadership_abilities\n0 test_sub_in_leadership_abilities\n#\n# Deterministic unit facing tests\n0 recruit_facing_enemy_one\n0 recruit_facing_enemy_two\n0 recruit_facing_leader\n0 recruit_facing_center\n#\n# Interface tests\n#\n0 test_wml_menu_items_1\n0 test_wml_menu_items_2\n0 test_wml_menu_items_3\n#\n# Conditional tests\n#\n0 check_conditionals_1\n0 check_conditionals_2\n# Standard Unit Filter tests\n0 filter_this_unit_wml\n0 filter_this_unit_tl\n0 filter_this_unit_formula\n0 filter_formula_unit\n9 filter_formula_unit_error\n0 store_locations_with_unit_filter\n0 store_locations_and_or_not_unit_filter\n# Interrupt tag tests\n0 check_interrupts_break\n0 check_interrupts_return\n0 check_interrupts_continue\n0 check_interrupts_break_global\n0 check_interrupts_break_nested_event\n0 check_interrupts_return_nested_command\n0 check_interrupts_return_nested_event\n9 check_interrupts_continue_global\n0 check_interrupts_elseif\n0 check_interrupts_case\n# For-loop tests\n9 forloop_all_zero\n9 forloop_step_zero\n0 forloop_once_positive\n0 forloop_once_negative\n0 forloop_twice_matched\n0 forloop_twice_unmatched\n0 forloop_empty_array\n0 forloop_array\n0 forloop_array_reverse\n0 forloop_step_large_positive\n0 forloop_step_large_negative\n0 for_defaults\n0 for_start2\n0 for_end2\n0 for_end2_step2\n0 for_end-2\n0 for_end-2_step-2\n0 foreach_mutate_nested\n# AI Config Parsing tests\n0 test_basic_simplified_aspect\n0 test_basic_abbreviated_aspect\n0 test_basic_standard_aspect\n0 test_basic_composite_aspect\n0 test_basic_lua_aspect\n0 test_basic_composite_facet\n0 test_basic_lua_facet\n0 test_basic_composite_default_facet\n0 test_basic_lua_default_facet\n# AI Modification tests\n0 test_modify_ai_delete_facet\n0 test_modify_ai_change_facet\n0 test_modify_ai_replace_facet\n0 test_modify_ai_add_facet\n0 test_modify_ai_change_default_facet\n0 test_modify_ai_nested_facets\n0 test_modify_ai_composite_default_facets\n0 test_modify_ai_change_aspect\n# Changing the number of sides\n0 test_create_side\n# Event tests\n0 event_name_variable_substitution\n0 order_of_variable_events1\n0 order_of_variable_events2\n0 order_of_variable_events3\n0 premature_end_turn1\n2 premature_end_turn2\n0 events_test_priority_in_same_name\n0 events_test_priority_vs_origin\n0 events_test_same_priority\n0 events_test_multi_int\n0 events_test_multi_float\n0 events_test_lua_events_add_priority_vs_origin\n0 events_test_lua_events_add_repeating_priority_vs_origin\n0 kill_fires_events\n# Game mechanics\n0 zero_experience\n0 increase_zero_experience_by_percentage\n0 unit_no_advancements\n0 no_sides\n# heal ability tests\n0 heal\n0 heal_with_filter\n0 heal_positive_value\n0 heal_negative_value\n0 heal_zero\n0 heal_add\n0 heal_add_divide\n0 heal_add_multiply\n0 heal_add_sub\n0 heal_affect_self\n0 heal_affect_enemies\n0 heal_affect_everybody\n0 heal_divide\n0 heal_high_fraction\n0 heal_low_fraction\n0 heal_multiply\n0 heal_multiply_divide\n0 heal_multiply_fraction\n0 heal_no_value\n0 heal_sub\n0 heal_sub_divide\n0 heal_sub_multiply\n0 heal_wfl_other\n0 heal_wfl_self\n0 heal_poison_slowed\n0 heal_poison_cured\n0 heal_no_poison\n0 heal_two_cumulative_yes_same_id\n0 heal_two_cumulative_yes_unique_id\n0 heal_two_cumulative_no_same_id\n0 heal_two_cumulative_no_unique_id\n0 heal_two_cumulative_mixed_same_id\n0 heal_two_cumulative_mixed_unique_id\n0 heal_max_value\n# regenerate ability tests\n0 regenerate_positive_value\n0 regenerate_negative_value\n0 regenerate_zero\n0 regenerate_add\n0 regenerate_add_divide\n0 regenerate_add_multiply\n0 regenerate_add_sub\n0 regenerate_affect_self_no\n0 regenerate_affect_enemies\n0 regenerate_affect_everybody\n0 regenerate_divide\n0 regenerate_high_fraction\n0 regenerate_low_fraction\n0 regenerate_multiply\n0 regenerate_multiply_divide\n0 regenerate_multiply_fraction\n0 regenerate_no_value\n0 regenerate_sub\n0 regenerate_sub_divide\n0 regenerate_sub_multiply\n0 regenerate_wfl_other\n0 regenerate_wfl_self\n0 regenerate_poison_slowed\n0 regenerate_poison_cured\n0 regenerate_no_poison\n0 regenerate_two_cumulative_yes_same_id\n0 regenerate_two_cumulative_yes_unique_id\n0 regenerate_two_cumulative_no_same_id\n0 regenerate_two_cumulative_no_unique_id\n0 regenerate_two_cumulative_mixed_same_id\n0 regenerate_two_cumulative_mixed_unique_id\n0 regenerate_max_value\n# resistance ability tests\n0 resistance_negative_value\n0 resistance_zero\n0 resistance_add\n0 resistance_add_divide\n0 resistance_add_multiply\n0 resistance_add_sub\n0 resistance_affect_self_no\n0 resistance_affect_enemies\n0 resistance_affect_everybody\n0 resistance_divide\n0 resistance_high_fraction\n0 resistance_low_fraction\n0 resistance_multiply\n0 resistance_multiply_divide\n0 resistance_multiply_fraction\n0 resistance_no_value\n0 resistance_sub\n0 resistance_sub_divide\n0 resistance_sub_multiply\n0 resistance_wfl_other\n0 resistance_wfl_self\n0 resistance_two_cumulative_yes_same_id\n0 resistance_two_cumulative_yes_unique_id\n0 resistance_two_cumulative_yes_unique_id_skeletal\n0 resistance_two_cumulative_no_same_id\n0 resistance_two_cumulative_no_unique_id\n0 resistance_two_cumulative_no_unique_id_skeletal\n0 resistance_two_cumulative_mixed_same_id\n0 resistance_two_cumulative_mixed_unique_id\n0 resistance_two_cumulative_mixed_unique_id_skeletal\n0 resistance_max_value\n0 resistance_min_value\n0 resistance_cumulative_max_value\n0 resistance_negative_max_value\n0 resistance_apply_to_blade\n0 resistance_apply_to_non_blade\n0 resistance_apply_to_invalid\n0 resistance_active_on_offense\n0 resistance_active_on_defense\n0 resistance_active_on_both\n0 resistance_no_max_value\n0 resistance_no_value_no_max_value\n0 resistance_no_value_no_max_value_add\n# leadership ability tests\n0 leadership_negative_value\n0 leadership_zero\n0 leadership_add\n0 leadership_add_divide\n0 leadership_add_multiply\n0 leadership_add_sub\n0 leadership_affect_self_no\n0 leadership_affect_enemies\n0 leadership_affect_everybody\n0 leadership_divide\n0 leadership_high_fraction\n0 leadership_low_fraction\n0 leadership_multiply\n0 leadership_multiply_divide\n0 leadership_multiply_fraction\n0 leadership_no_value\n0 leadership_sub\n0 leadership_sub_divide\n0 leadership_sub_multiply\n0 leadership_wfl_other\n0 leadership_wfl_self\n0 leadership_two_cumulative_yes_same_id\n0 leadership_two_cumulative_yes_unique_id\n0 leadership_two_cumulative_no_same_id\n0 leadership_two_cumulative_no_unique_id\n0 leadership_two_cumulative_mixed_same_id\n0 leadership_two_cumulative_mixed_unique_id\n0 leadership_max_value\n0 leadership_active_on_offense\n0 leadership_active_on_defense\n# illuminates ability tests\n0 illuminates_active_on_defense\n0 illuminates_active_on_offense\n0 illuminates_add\n0 illuminates_add_divide\n0 illuminates_add_multiply\n0 illuminates_add_sub\n0 illuminates_affect_allies\n0 illuminates_affect_enemies\n0 illuminates_affect_everybody\n0 illuminates_affect_self_no\n0 illuminates_divide\n0 illuminates_high_fraction\n0 illuminates_low_fraction\n0 illuminates_max_value\n0 illuminates_min_value\n0 illuminates_min_value_no_max_value\n0 illuminates_multiply\n0 illuminates_multiply_divide\n0 illuminates_multiply_fraction\n0 illuminates_negative_max_value\n0 illuminates_negative_min_value\n0 illuminates_negative_value\n0 illuminates_no_max_value\n0 illuminates_no_value\n0 illuminates_sub\n0 illuminates_sub_divide\n0 illuminates_sub_multiply\n0 illuminates_two_cumulative_mixed_same_id\n0 illuminates_two_cumulative_mixed_unique_id\n0 illuminates_two_cumulative_no_same_id\n0 illuminates_two_cumulative_no_unique_id\n0 illuminates_two_cumulative_yes_same_id\n0 illuminates_two_cumulative_yes_unique_id\n0 illuminates_wfl_other\n0 illuminates_wfl_self\n0 illuminates_zero\n0 illuminates_value_neutral\n0 illuminates_value_chaotic\n0 illuminates_value_liminal\n0 illuminates_value_day_uncapped\n0 illuminates_value_day_capped\n0 illuminates_value_night\n0 illuminates_value_deep\n# skirmisher ability tests\n0 skirmisher\n0 no_skirmisher\n0 skirmisher_adjacent_enemies\n0 skirmisher_adjacent\n# hides ability tests\n0 hides_self\n0 hides_nobody\n# teleport ability tests\n0 teleport_simple\n0 no_teleport\n0 teleport_no_tunnel\n0 teleport_adjacent_allies\n0 tunnel_filter_teleport_unit\n0 tunnel_target_teleport_unit_fail\n0 tunnel_target_teleport_unit_succeed\n0 tunnel_source_teleport_unit_fail\n0 tunnel_source_teleport_unit_succeed\n# attacks ability tests\n9 attacks_negative_value\n0 attacks_zero\n0 attacks_add\n0 attacks_add_divide\n0 attacks_add_multiply\n0 attacks_add_sub\n0 attacks_affect_allies\n0 attacks_affect_self_no\n0 attacks_affect_enemies\n0 attacks_affect_everybody\n0 attacks_divide\n0 attacks_high_fraction\n0 attacks_low_fraction\n0 attacks_multiply\n0 attacks_multiply_divide\n0 attacks_multiply_fraction\n0 attacks_no_value\n0 attacks_sub\n0 attacks_sub_divide\n0 attacks_sub_multiply\n0 attacks_wfl_other\n0 attacks_wfl_self\n0 attacks_two_cumulative_yes_same_id\n0 attacks_two_cumulative_yes_unique_id\n0 attacks_two_cumulative_no_same_id\n0 attacks_two_cumulative_no_unique_id\n0 attacks_two_cumulative_mixed_same_id\n0 attacks_two_cumulative_mixed_unique_id\n0 attacks_max_value\n0 attacks_overwrite_specials_one_side\n0 attacks_overwrite_specials_both_sides\n0 attacks_overwrite_specials_two_both_sides\n0 attacks_overwrite_specials_two_one_side\n0 attacks_overwrite_specials_mixed\n# berserk ability tests\n0 berserk_negative_value\n0 berserk_zero\n0 berserk_add\n0 berserk_add_divide\n0 berserk_add_multiply\n0 berserk_add_sub\n0 berserk_affect_allies\n0 berserk_affect_self_no\n0 berserk_affect_enemies\n0 berserk_affect_everybody\n0 berserk_divide\n0 berserk_high_fraction\n0 berserk_low_fraction\n0 berserk_multiply\n0 berserk_multiply_divide\n0 berserk_no_value\n0 berserk_sub\n0 berserk_sub_divide\n0 berserk_sub_multiply\n0 berserk_wfl_other\n0 berserk_wfl_self\n0 berserk_two_cumulative_yes_same_id\n0 berserk_two_cumulative_yes_unique_id\n0 berserk_two_cumulative_no_same_id\n0 berserk_two_cumulative_no_unique_id\n0 berserk_two_cumulative_mixed_same_id\n0 berserk_two_cumulative_mixed_unique_id\n0 berserk_max_value\n0 berserk_overwrite_specials_one_side\n0 berserk_overwrite_specials_both_sides\n0 berserk_overwrite_specials_two_both_sides\n0 berserk_overwrite_specials_two_one_side\n0 berserk_overwrite_specials_mixed\n0 berserk_different_values\n# chance_to_hit ability tests\n0 chance_to_hit_negative_value\n0 chance_to_hit_add\n0 chance_to_hit_add_divide\n0 chance_to_hit_add_multiply\n0 chance_to_hit_add_sub\n0 chance_to_hit_affect_allies\n0 chance_to_hit_affect_self_no\n0 chance_to_hit_affect_enemies\n0 chance_to_hit_affect_everybody\n0 chance_to_hit_divide\n0 chance_to_hit_multiply\n0 chance_to_hit_multiply_divide\n0 chance_to_hit_no_value\n0 chance_to_hit_sub\n0 chance_to_hit_sub_divide\n0 chance_to_hit_sub_multiply\n0 chance_to_hit_wfl_other\n0 chance_to_hit_wfl_self\n0 chance_to_hit_two_cumulative_yes_same_id\n0 chance_to_hit_two_cumulative_yes_unique_id\n0 chance_to_hit_two_cumulative_no_same_id\n0 chance_to_hit_two_cumulative_no_unique_id\n0 chance_to_hit_two_cumulative_mixed_same_id\n0 chance_to_hit_two_cumulative_mixed_unique_id\n0 chance_to_hit_max_value\n0 chance_to_hit_overwrite_specials_one_side\n0 chance_to_hit_overwrite_specials_both_sides\n0 chance_to_hit_overwrite_specials_two_both_sides\n0 chance_to_hit_overwrite_specials_two_one_side\n0 chance_to_hit_overwrite_specials_mixed\n# damage ability tests\n0 damage_negative_value\n0 damage_zero\n0 damage_add\n0 damage_add_divide\n0 damage_add_multiply\n0 damage_add_sub\n0 damage_affect_allies\n0 damage_affect_self_no\n0 damage_affect_enemies\n0 damage_affect_everybody\n0 damage_divide\n0 damage_high_fraction\n0 damage_low_fraction\n0 damage_multiply\n0 damage_multiply_divide\n0 damage_multiply_fraction\n0 damage_no_value\n0 damage_sub\n0 damage_sub_divide\n0 damage_sub_multiply\n0 damage_wfl_other\n0 damage_wfl_self\n0 damage_two_cumulative_yes_same_id\n0 damage_two_cumulative_yes_unique_id\n0 damage_two_cumulative_no_same_id\n0 damage_two_cumulative_no_unique_id\n0 damage_two_cumulative_mixed_same_id\n0 damage_two_cumulative_mixed_unique_id\n0 damage_max_value\n0 damage_overwrite_specials_one_side\n0 damage_overwrite_specials_both_sides\n0 damage_overwrite_specials_two_both_sides\n0 damage_overwrite_specials_two_one_side\n0 damage_overwrite_specials_mixed\n# damage_type ability tests\n0 damage_type_replacement_arcane\n0 damage_type_replacement_blade\n0 damage_type_replacement_cold\n0 damage_type_replacement_fire\n0 damage_type_replacement_impact\n0 damage_type_replacement_pierce\n0 damage_type_alternative_arcane\n0 damage_type_alternative_blade\n0 damage_type_alternative_cold\n0 damage_type_alternative_fire\n0 damage_type_alternative_impact\n0 damage_type_alternative_pierce\n0 damage_type_replacement_two\n0 damage_type_replacement_three\n0 damage_type_alternative_two\n0 damage_type_alternative_three\n0 damage_type_both_separate_replacement_best\n0 damage_type_both_separate_alternative_best\n0 damage_type_both_same_replacement_best\n0 damage_type_both_same_alternative_best\n0 damage_type_many\n# disable tests\n0 disable_ability\n0 disable_affect_allies\n0 disable_affect_self_no\n0 disable_affect_enemies\n0 disable_affect_everybody\n# drains ability tests\n0 drains_negative_value\n0 drains_zero\n0 drains_add\n0 drains_add_divide\n0 drains_add_multiply\n0 drains_add_sub\n0 drains_affect_allies\n0 drains_affect_self_no\n0 drains_affect_enemies\n0 drains_affect_everybody\n0 drains_divide\n0 drains_high_fraction\n0 drains_low_fraction\n0 drains_multiply\n0 drains_multiply_divide\n0 drains_multiply_fraction\n0 drains_no_value\n0 drains_sub\n0 drains_sub_divide\n0 drains_sub_multiply\n0 drains_wfl_other\n0 drains_wfl_self\n0 drains_two_cumulative_yes_same_id\n0 drains_two_cumulative_yes_unique_id\n0 drains_two_cumulative_no_same_id\n0 drains_two_cumulative_no_unique_id\n0 drains_two_cumulative_mixed_same_id\n0 drains_two_cumulative_mixed_unique_id\n0 drains_default_cumulative_yes\n0 drains_default_cumulative_no\n0 drains_default_cumulative_both\n0 drains_max_value\n0 drains_overwrite_specials_one_side\n0 drains_overwrite_specials_both_sides\n0 drains_overwrite_specials_two_both_sides\n0 drains_overwrite_specials_two_one_side\n0 drains_overwrite_specials_mixed\n# firststrike tests\n0 firststrike_ability\n0 firststrike_affect_allies\n0 firststrike_affect_self_no\n0 firststrike_affect_enemies\n0 firststrike_affect_everybody\n# heal_on_hit ability tests\n0 heal_on_hit_negative_value\n0 heal_on_hit_zero\n0 heal_on_hit_add\n0 heal_on_hit_add_divide\n0 heal_on_hit_add_multiply\n0 heal_on_hit_add_sub\n0 heal_on_hit_affect_allies\n0 heal_on_hit_affect_self_no\n0 heal_on_hit_affect_enemies\n0 heal_on_hit_affect_everybody\n0 heal_on_hit_divide\n0 heal_on_hit_high_fraction\n0 heal_on_hit_low_fraction\n0 heal_on_hit_multiply\n0 heal_on_hit_multiply_divide\n0 heal_on_hit_multiply_fraction\n0 heal_on_hit_no_value\n0 heal_on_hit_sub\n0 heal_on_hit_sub_divide\n0 heal_on_hit_sub_multiply\n0 heal_on_hit_wfl_other\n0 heal_on_hit_wfl_self\n0 heal_on_hit_two_cumulative_yes_same_id\n0 heal_on_hit_two_cumulative_yes_unique_id\n0 heal_on_hit_two_cumulative_no_same_id\n0 heal_on_hit_two_cumulative_no_unique_id\n0 heal_on_hit_two_cumulative_mixed_same_id\n0 heal_on_hit_two_cumulative_mixed_unique_id\n0 heal_on_hit_max_value\n0 heal_on_hit_overwrite_specials_one_side\n0 heal_on_hit_overwrite_specials_both_sides\n0 heal_on_hit_overwrite_specials_two_both_sides\n0 heal_on_hit_overwrite_specials_two_one_side\n0 heal_on_hit_overwrite_specials_mixed\n# petrifies tests\n0 petrifies_ability\n0 petrifies_affect_allies\n0 petrifies_affect_self_no\n0 petrifies_affect_enemies\n0 petrifies_affect_everybody\n# plague tests\n0 plague_ability\n0 plague_affect_allies\n0 plague_affect_self_no\n0 plague_affect_enemies\n0 plague_affect_everybody\n0 plague_no_type\n0 plague_without_priority\n# poison tests\n0 poison_ability\n0 poison_affect_allies\n0 poison_affect_self_no\n0 poison_affect_enemies\n0 poison_affect_everybody\n# slow tests\n0 slow_ability\n0 slow_affect_allies\n0 slow_affect_self_no\n0 slow_affect_enemies\n0 slow_affect_everybody\n# swarm tests\n0 swarm_affect_allies\n0 swarm_affect_enemies\n0 swarm_affect_everybody\n0 swarm_affect_self_no\n0 swarm_attacks_max\n0 swarm_attacks_max_fraction\n0 swarm_attacks_max_negative\n0 swarm_attacks_max_wfl\n0 swarm_attacks_min\n0 swarm_attacks_min_fraction\n0 swarm_attacks_min_higher\n0 swarm_attacks_min_lower\n0 swarm_attacks_min_negative\n0 swarm_attacks_min_wfl\n0 swarm_min_max_zero\n0 swarm_no_min_no_max\n0 swarm_overwrite_specials_both_sides\n0 swarm_overwrite_specials_mixed\n0 swarm_overwrite_specials_one_side\n0 swarm_overwrite_specials_two_both_sides\n0 swarm_overwrite_specials_two_one_side\n0 swarm_two_cumulative_mixed_same_id\n0 swarm_two_cumulative_mixed_unique_id\n0 swarm_two_cumulative_no_same_id\n0 swarm_two_cumulative_no_unique_id\n0 swarm_two_cumulative_yes_same_id\n0 swarm_two_cumulative_yes_unique_id\n# Warnings about WML\n0 unknown_scenario_false_positives\n0 unknown_scenario_interpolated\n9 unknown_scenario_1_0\n9 unknown_scenario_1_0_last\n9 unknown_scenario_1_1\n9 unknown_scenario_2_0\n9 unknown_scenario_1_1_last_null\n\n# Lua API tests\n0 lua_functional_reduce\n0 lua_map_find\n0 mapgen_filter_range\n0 mapgen_filter_terrain\n0 test_remove_modifications\n0 simulate_combat_clone_adjacent\n0 simulate_combat_occupied\n"
        }
      ]
    }
  ]
}