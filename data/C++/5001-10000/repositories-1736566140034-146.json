{
  "metadata": {
    "timestamp": 1736566140034,
    "page": 146,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjE1MA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "OpenTTD/OpenTTD",
      "stars": 6576,
      "defaultBranch": "master",
      "files": [
        {
          "name": ".dorpsgek.yml",
          "type": "blob",
          "size": 0.3076171875,
          "content": "notifications:\n  global:\n    irc:\n      - openttd\n      - openttd.notice\n\n  push:\n    only:\n    - master\n    only-by:\n    - eints-sync\\[bot\\]\n  commit-comment:\n  discussion:\n  pull-request:\n  issue:\n  tag-created:\n  workflow-run:\n    only:\n    - .github/workflows/release.yml\n    - .github/workflows/ci-nightly.yml\n"
        },
        {
          "name": ".editorconfig",
          "type": "blob",
          "size": 23.490234375,
          "content": "root = true\n\n[*]\ninsert_final_newline = true\ntrim_trailing_whitespace = true\n\n[*.{c,cpp,h,hpp}]\nindent_style = tab\ncharset = utf-8\n#indent_size = <integer>\n#tab_width = <integer>\n#end_of_line = <lf, cf, crlf>\n\n### C++ specific editor config rules ###\n## Visual Studio ## https://learn.microsoft.com/en-us/visualstudio/ide/cpp-editorconfig-properties?view=vs-2019 ##\n# Indentation #\n# Do not indent braces\ncpp_indent_braces = false\n# When a new line is typed, it's indented relatively to the innermost open parenthesis\ncpp_indent_multi_line_relative_to = innermost_parenthesis\n# Indent new lines within parenthesis\ncpp_indent_within_parentheses = indent\n# In existing code, do not use the setting for alignment of new lines within parentheses\ncpp_indent_preserve_within_parentheses = true\n# Indent case contents\ncpp_indent_case_contents = true\n# Indent case labels\ncpp_indent_case_labels = true\n# Do not indent braces following a case statement\ncpp_indent_case_contents_when_block = false\n# Do not indent braces of lambdas used as parameters\ncpp_indent_lambda_braces_when_parameter = false\n# No override for \"Position of goto labels\" (Unspecified)\n#cpp_indent_goto_labels\n# Move preprocessor directives to the leftmost column\ncpp_indent_preprocessor = leftmost_column\n# Do not indent access specifiers\ncpp_indent_access_specifiers = false\n# Indent namespace contents\ncpp_indent_namespace_contents = true\n# Preserve indentation of comments\ncpp_indent_preserve_comments = true\n\n# Newline #\n# Keep open braces for namespaces on the same line, but add a space before the brace\ncpp_new_line_before_open_brace_namespace = same_line\n# Keep open braces for types/classes on the same line, but add a space before the brace\ncpp_new_line_before_open_brace_type = same_line\n# Move open braces for functions to a new line\ncpp_new_line_before_open_brace_function = new_line\n# Keep open braces for control blocks on the same line, but add a space before the brace\ncpp_new_line_before_open_brace_block = same_line\n# Keep open braces for lambdas on the same line, but add a space before the brace\ncpp_new_line_before_open_brace_lambda = same_line\n# Place scope braces on separate lines\ncpp_new_line_scope_braces_on_separate_lines = true\n# Do not move closing braces to the same line as opening braces for empty types\ncpp_new_line_close_brace_same_line_empty_type = false\n# Do not move closing braces to the same line as opening braces for empty function bodies\ncpp_new_line_close_brace_same_line_empty_function = false\n# Do not place 'catch' and similar keywords on a new line\ncpp_new_line_before_catch = false\n# Do not place 'else' on a new line\ncpp_new_line_before_else = false\n# Do not place 'while' in a do-while loop on a new line\ncpp_new_line_before_while_in_do_while = false\n\n# Spacing #\n# Remove spaces between function names and opening parentheses of argument lists\ncpp_space_before_function_open_parenthesis = remove\n# Do not insert a space within parentheses of an argument list\ncpp_space_within_parameter_list_parentheses = false\n# Do not insert a space between parentheses when argument list is empty\ncpp_space_between_empty_parameter_list_parentheses = false\n# Insert space between keyword and opening parenthesis in control flow statements\ncpp_space_after_keywords_in_control_flow_statements = true\n# Do not insert a space within parentheses of a control statement\ncpp_space_within_control_flow_statement_parentheses = false\n# Do not insert a space before opening parenthesis of lambda argument lists\ncpp_space_before_lambda_open_parenthesis = false\n# Do not insert a space within parentheses of a C-style cast\ncpp_space_within_cast_parentheses = false\n# Do not insert a space after closing parenthesis of C-style cast\ncpp_space_after_cast_close_parenthesis = false\n# Do not insert a space within parentheses of a parenthesized expression\ncpp_space_within_expression_parentheses = false\n# Insert space before opening brace of blocks\ncpp_space_before_block_open_brace = true\n# Do not insert a space between empty braces\ncpp_space_between_empty_braces = false\n# Do not insert a space before opening brace of uniform initialization and initializer lists\ncpp_space_before_initializer_list_open_brace = false\n# No override for \"Insert space within braces of uniform initialization and initializer lists\" (Spacing for this varies)\n#cpp_space_within_initializer_list_braces\n# Preserve spaces inside uniform initialization and initializer lists\ncpp_space_preserve_in_initializer_list = true\n# Do not insert space before opening square brackets\ncpp_space_before_open_square_bracket = false\n# Do not insert space within square bracket\ncpp_space_within_square_brackets = false\n# Do not insert space before empty square brackets\ncpp_space_before_empty_square_brackets = false\n# Do not insert space between empty square brackets\ncpp_space_between_empty_square_brackets = false\n# Group square brackets for multi-dimensional arrays together\ncpp_space_group_square_brackets = true\n# Do not insert space within square brackets for lambdas\ncpp_space_within_lambda_brackets = false\n# Do not insert space between empty lambda brackets\ncpp_space_between_empty_lambda_brackets = false\n# Do not insert space before commas\ncpp_space_before_comma = false\n# Insert space after commas\ncpp_space_after_comma = true\n# Remove spaces before and after member operators\ncpp_space_remove_around_member_operators = true\n# Insert space before colon for base in type declarations\ncpp_space_before_inheritance_colon = true\n# Insert space before colon for constructors\ncpp_space_before_constructor_colon = true\n# Remove space before semicolons\ncpp_space_remove_before_semicolon = true\n# No override for \"Insert space after semicolons\" (Depends on if loop is unconditional)\n#cpp_space_after_semicolon\n# Remove spaces between unary operators and their operands\ncpp_space_remove_around_unary_operator = true\n# Insert spaces before and after binary operators\ncpp_space_around_binary_operator = insert\n# Insert spaces around assignment operators\ncpp_space_around_assignment_operator = insert\n# Align pointer/reference symbol to the right\ncpp_space_pointer_reference_alignment = right\n# Insert spaces around conditional operators\ncpp_space_around_ternary_operator = insert\n\n# Wrapping #\n# Always apply New Lines settings for blocks\ncpp_wrap_preserve_blocks = never\n\n\n\n## Rider & ReSharper ## https://www.jetbrains.com/help/resharper/EditorConfig_CPP_CppBlankLinesPageScheme.html ##\n# Blank Lines #\n# No override for \"Max blank lines in declarations\" (Unspecified; Not consistent across source code)\n#cpp_keep_blank_lines_in_declarations\n# No override for \"Max blank lines in rest of source code\" (Unspecified; Not consistent across source code)\n#cpp_keep_blank_lines_in_code\n# No override for \"Number of blank lines around class/struct/enum definition\" (Unspecified; Not consistent across source code)\n#cpp_blank_lines_around_class_definition\n# No override for \"Number of blank lines around function declarations\" (Unspecified; Not consistent across source code)\n#cpp_blank_lines_around_function_declaration\n# No override for \"Number of blank lines around function definitions\" (Unspecified; Not consistent across source code)\n#cpp_blank_lines_around_function_definition\n# No override for \"Number of blank lines around single line function definitions\" (Unspecified; Not consistent across source code)\n#cpp_blank_lines_around_single_line_function_definition\n# No override for \"Number of blank lines around namespaces\" (Unspecified; Not consistent across source code)\n#cpp_blank_lines_around_namespace\n# No override for \"Number of blank lines around other definitions and declarations\" (Unspecified; Not consistent across source code)\n#cpp_blank_lines_around_other_declaration\n\n# Braces Layout #\n# Keep open braces for namespace declarations on the same line, but add a space before the brace\ncpp_namespace_declaration_braces = end_of_line\n# Keep open braces for linkage declarations on the same line, but add a space before the brace\ncpp_linkage_specification_braces = end_of_line\n# Keep open braces for types/classes on the same line, but add a space before the brace\ncpp_type_declaration_braces = end_of_line\n# Keep open braces for namespace definitions on the same line (does not modify spacing before the brace)\ncpp_place_namespace_definitions_on_same_line = true\n# Move open braces for functions to a new line\ncpp_invocable_declaration_braces = next_line\n# Keep open braces for lambdas on the same line, but add a space before the brace\ncpp_anonymous_method_declaration_braces = end_of_line\n# Keep open braces for case blocks on the same line, but add a space before the brace\ncpp_case_block_braces = end_of_line\n# No override for \"Requires expression braces\" style (requires expressions are a C++20 feature)\n#cpp_requires_expression_braces\n# Keep open braces for all other blocks on the same line, but add a space before the brace\ncpp_other_braces = end_of_line\n# Only indent the insides of multi-line expression braces\ncpp_expression_braces = inside\n# Place the braces of empty blocks together and on the same line\ncpp_empty_block_style = together_same_line\n# Force line breaks within simple compound statements\ncpp_simple_block_style = line_break\n# No override for \"Regular expression for macros starting a block\" (Marco blocks aren't used)\n#cpp_macro_block_begin\n# No override for \"Regular expression for macros ending a block\" (Marco blocks aren't used)\n#cpp_macro_block_end\n\n# Tabs and indents #\n# Redundant override (Already overriden globally by 'indent_style')\n#cpp_indent_style\n# Redundant override (Already overriden globally by 'indent_size')\n#cpp_indent_size\n# Redundant override (Already overriden globally by 'tab_width')\n#cpp_tab_width\n# Use spaces instead of tabs as indentation for precise alignment\ncpp_alignment_tab_fill_style = use_spaces\n# Allow alignment even if construct is located too far to the right, more than 2/3 of 'Hard wrap at' limit\ncpp_allow_far_alignment = true\n\n# Indentation and Alignment #\n# No override for \"Continuous line indent\" (Varies throughout source code)\n#cpp_continuous_line_indent\n# Do not use continuous line indent in function declaration and invocation parentheses\ncpp_use_continuous_line_indent_in_method_pars = false\n# Do not use continuous line indent in initializer lists\ncpp_use_continuous_line_indent_in_expression_braces = false\n# Indent namespace members (including nested ones)\ncpp_namespace_indentation = all\n# No override for \"Indent linkage specification block members\" (Unspecified)\n#cpp_linkage_specification_indentation\n# Do not indent access specifier from class\ncpp_indent_access_specifiers_from_class = false\n# Indent class member from access specifier\ncpp_indent_class_members_from_access_specifiers = true\n# Do not indent if a function definition or declaration is wrapped after the type\ncpp_indent_wrapped_function_names = false\n# Indent 'case' labels from 'switch'\ncpp_indent_switch_labels = true\n# No override for \"Indent function declarations' parentheses\" (Varies throughout source code)\n#cpp_indent_method_decl_pars\n# No override for \"Indent method calls' parentheses\" (Varies throughout source code)\n#cpp_indent_invocation_pars\n# No override for \"Indent statement (if, while, for, etc) parentheses\" (Varies throughout source code)\n#cpp_indent_statement_pars\n# Do not change preprocessor directives indenting\ncpp_indent_preprocessor_directives = do_not_change\n# No override for \"Indent C++/CLI generic constraints\" (C++/CLI is not used)\n#cpp_indent_type_constraints\n# Align/indent comments started at the first column\ncpp_indent_comment = true\n# Comments that comment out code will use the indentation level of the commented code.\ncpp_place_comments_at_first_column = false\n# Align multiline declarators in declaration\ncpp_align_multiple_declaration = true\n# Align multiline function parameters\ncpp_align_multiline_parameter = true\n# Align multiline call arguments\ncpp_align_multiline_argument = true\n# Do not align first of multiline call arguments with the opening parentheses\ncpp_align_first_arg_by_paren = false\n# Align multiline initializer list arguments\ncpp_align_multiline_expression_brace = true\n# No override for \"Align multiline template parameters in template declaration\" (Unspecified)\n#cpp_align_multiline_type_parameter\n# No override for \"Align multiline template arguments\" (Unspecified)\n#cpp_align_multiline_type_argument\n# Align multiline base classes in class base clause\ncpp_align_multiline_extends_list = true\n# Align multiline member initializers in member initializer lists\ncpp_align_multiline_ctor_init = true\n# Outdent commas placed on new line\ncpp_outdent_commas = true\n# Do not align multiline ?: operator with first line (since alignment is incorrect)\ncpp_align_ternary = none\n# Do not indent aligned ?: operator (since indentation varies)\ncpp_indent_aligned_ternary = false\n# No override for \"Align multiline chained method calls\" (Unspecified)\n#cpp_align_multiline_calls_chain\n# No override for \"Outdent '.' and '->' in chained method calls on new lines\" (Unspecified)\n#cpp_outdent_dots\n# Do not align multiline chained binary expressions\ncpp_align_multiline_binary_expressions_chain = false\n# Fix column alignment in adjacent lines\ncpp_int_align_fix_in_adjacent = true\n# Align assignments with adjacent assignments\ncpp_int_align_eq = true\n# Do not align declaration names with adjacent declaration names\ncpp_int_align_declaration_names = false\n# Align end-of-line comments with adjacent end-of-line comments\ncpp_int_align_comments = true\n\n# Spaces #\n# Do not put space before ANY commas\ncpp_space_before_comma = false\n# Put space after ALL commas\ncpp_space_after_comma = true\n# Put space before ptr in declaration of variable\ncpp_space_before_ptr_in_data_member = true\n# Do not put space after ptr in declaration of variable\ncpp_space_after_ptr_in_data_member = false\n# Put space before ptr in declaration of multiple variables\ncpp_space_before_ptr_in_data_members = true\n# Do not put space after ptr in declaration of multiple variables\ncpp_space_after_ptr_in_data_members = false\n# Put space before ptr in return type of function\ncpp_space_before_ptr_in_method = true\n# Do not put space after ptr in return type of function\ncpp_space_after_ptr_in_method = false\n# Do not put space before ptr in abstract declaration\ncpp_space_before_ptr_in_abstract_decl = false\n# Put space before ref in declaration of variable\ncpp_space_before_ref_in_data_member = true\n# Do not put space after ref in declaration of variable\ncpp_space_after_ref_in_data_member = false\n# Put space before ref in declaration of multiple variables\ncpp_space_before_ref_in_data_members = true\n# Do not put space after ref in declaration of multiple variables\ncpp_space_after_ref_in_data_members = false\n# Do not put space before ref in return type of function\ncpp_space_before_ref_in_method = false\n# Put space after ref in return type of function\ncpp_space_after_ref_in_method = true\n# Do not put space before ref in abstract declaration\ncpp_space_before_ref_in_abstract_decl = false\n# Do not put space before parentheses in function parameters\ncpp_space_between_method_declaration_name_and_open_parenthesis = false\n# Do not put space before parentheses in lambda parameters\ncpp_space_before_lambda_parentheses = false\n# Do not put space within parentheses in function parameters\ncpp_space_between_method_declaration_parameter_list_parentheses = false\n# Do not put space within empty parentheses in function parameters\ncpp_space_between_method_declaration_empty_parameter_list_parentheses = false\n# Do not put space before angle brackets in template parameters\ncpp_space_before_template_params = false\n# Do not put space within angle brackets in template parameters\ncpp_space_within_template_params = false\n# Do not put space within empty angle brackets in template parameters\ncpp_space_within_empty_template_params = false\n# Do not put space before angle brackets in template arguments\ncpp_space_before_template_args = false\n# Do not put space within angle brackets in template arguments\ncpp_space_within_template_args = false\n# Do not put space between closing angle brackets in template arguments\ncpp_space_between_closing_angle_brackets_in_template_args = false\n# Put space around '=' in alias declaration and namespace alias\ncpp_space_around_alias_eq = true\n# Do not put space around '->' in trailing return types\ncpp_space_around_deref_in_trailing_return_type = false\n# Put space before base types list colon\ncpp_space_before_colon_in_inheritance_clause = true\n# Put space after base types list colon\ncpp_space_after_colon_in_inheritance_clause = true\n# No override for \"Before C++/CLI generic constraint colon\" (Unspecified)\n#cpp_space_before_type_parameter_constraint_colon\n# No override for \"After C++/CLI generic constraint colon\" (Unspecified)\n#cpp_space_after_type_parameter_constraint_colon\n# Put space before parentheses of control statements\ncpp_space_after_keywords_in_control_flow_statements = true\n# Do not put space within parentheses of control statements\ncpp_space_between_parentheses_of_control_flow_statements = false\n# Do not put space before semicolon in 'for' statements\ncpp_space_before_semicolon_in_for_statement = false\n# Put space after semicolon in 'for' statements\ncpp_space_after_semicolon_in_for_statement = true\n# Put space before ':' in range-based for loop\ncpp_space_before_for_colon = true\n# Put space after ':' in range-based for loop\ncpp_space_after_for_colon = true\n# Do not put space before colon in switch case or label statement\ncpp_space_before_colon_in_case = false\n# Put space after colon in switch case or label statement\ncpp_space_after_colon_in_case = true\n# Put space around binary operator\ncpp_space_around_binary_operator = true\n# Put space around assignment operator\ncpp_space_around_assignment_operator = true\n# Do not put space around dot, '->', '.*' and '->.'\ncpp_space_around_member_access_operator = false\n# Do not put space within any parentheses\ncpp_space_within_parentheses = false\n# Do not put space before array subscript brackets\ncpp_space_before_open_square_brackets = false\n# Do not put space within array subscript brackets\ncpp_space_between_square_brackets = false\n# Do not put space before empty parentheses in function call and initialization\ncpp_space_between_method_call_name_and_opening_parenthesis = false\n# Do not put space within parentheses in cast expressions\ncpp_space_between_typecast_parentheses = false\n# Do not put space after parentheses in cast expressions\ncpp_space_after_cast = false\n# Do not put space within parentheses in function call and initialization\ncpp_space_between_method_call_parameter_list_parentheses = false\n# Do not put space within empty parentheses in function call and initialization\ncpp_space_between_method_call_empty_parameter_list_parentheses = false\n# Put space in ternary operator '? :' before '?'\ncpp_space_before_ternary_quest = true\n# Put space in ternary operator '? :' after '?'\ncpp_space_after_ternary_quest = true\n# Put space in ternary operator '? :' before ':'\ncpp_space_before_ternary_colon = true\n# Put space in ternary operator '? :' after ':'\ncpp_space_after_ternary_colon = true\n# Do not put space before uniform initialization braces\ncpp_space_before_initializer_braces = false\n# Do not put space within uniform initialization braces\ncpp_space_within_initializer_braces = false\n# Do not put space within empty uniform initialization braces\ncpp_space_within_empty_initializer_braces = false\n# Put space before end of line comment\ncpp_space_before_trailing_comment = true\n# Preserve spaces before end of line comment\ncpp_disable_space_changes_before_trailing_comment = true\n\n# Line breaks and Wrapping #\n# Redundant override (Already overriden globally by 'insert_final_newline')\n#cpp_insert_final_newline\n# Redundant override (Already overriden earlier in Visual Studio section)\n#cpp_new_line_before_else\n# Do not place 'while' in a do-while loop on a new line\ncpp_new_line_before_while = false\n# Redundant override (Already overriden earlier in Visual Studio section)\n#cpp_new_line_before_catch\n# Do not change the line breaks of single embedded statements\ncpp_simple_embedded_statement_style = do_not_change\n# Do not change the line breaks of simple 'case' statement\ncpp_simple_case_statement_style = do_not_change\n# Put member function definition return type on same line\ncpp_function_definition_return_type_style = on_single_line\n# Put top-level function definition return type on same line\ncpp_toplevel_function_definition_return_type_style = on_single_line\n# Put member function declaration return type on same line\ncpp_function_declaration_return_type_style = on_single_line\n# Put top-level function declaration return type on same line\ncpp_toplevel_function_declaration_return_type_style = on_single_line\n# Force template<...> of a template declaration on new line\ncpp_break_template_declaration = line_break\n# No override for \"Break line before the requires-clause\" (requires-clause is a C++20 feature)\n#cpp_line_break_before_requires_clause\n# Do not change the line break before the colon in member initializer lists\ncpp_member_initializer_list_style = do_not_change\n# Do not change the line break after the colon in member initializer lists\ncpp_line_break_after_colon_in_member_initializer_lists = do_not_change\n# No override for \"Break line before comma in member initializer lists\" (Varies throughout source code)\n#cpp_line_break_before_comma_in_member_initializer_lists\n# No override for \"Break line after comma in member initializer lists\" (Varies throughout source code)\n#cpp_line_break_after_comma_in_member_initializer_lists\n# No override for \"Allow C++/CLI generic constraints on the same line\" (C++/CLI is not used)\n#cpp_place_type_constraints_on_same_line\n# No override for \"Keep existing line breaks\" (Varies throughout source code; depends on developer preference)\n#cpp_keep_user_linebreaks\n# No override for \"Hard wrap at _ characters\" (Unspecified)\n#cpp_max_line_length\n# Do not prefer wrap before ','\ncpp_wrap_before_comma = false\n# Do not prefer wrap before ',' in base clause\ncpp_wrap_before_comma_in_base_clause = false\n# No override for \"Wrap ternary expression\" (Varies throughout source code)\n#cpp_wrap_ternary_expr_style\n# No override for \"Prefer wrap before '?' and ':' in ternary expressions\" (Varies throughout source code)\n#cpp_wrap_before_ternary_opsigns\n# No override for \"Prefer wrap before ':'\" (Varies throughout source code)\n#cpp_wrap_before_colon\n# No override for \"Prefer wrap before first C++/CLI generic constraint\" (C++/CLI is not used)\n#cpp_wrap_before_first_type_parameter_constraint\n# No override for \"Wrap multiple C++/CLI generic constraints\" (C++/CLI is not used)\n#cpp_wrap_multiple_type_parameter_constraints_style\n# No override for \"Wrap enum definition\" (Varies throughout source code)\n#cpp_wrap_enumeration_style\n# No override for \"Wrap braced initializer list\" (Varies throughout source code)\n#cpp_wrap_braced_init_list_style\n# No override for \"Wrap base classes list\" (Varies throughout source code)\n#cpp_wrap_base_clause_style\n# No override for \"Wrap constructor initializer\" (Varies throughout source code)\n#cpp_wrap_ctor_initializer_style\n# No override for \"Wrap formal parameters\" (Varies throughout source code)\n#cpp_wrap_parameters_style\n# Do not prefer wrap before '(' in declaration\ncpp_wrap_before_declaration_lpar = false\n# Prefer wrap after '(' in declaration\ncpp_wrap_after_declaration_lpar = true\n# Do not prefer wrap before ')' in declaration\ncpp_wrap_before_declaration_rpar = false\n# No override for \"Wrap invocation arguments\" (Varies throughout source code)\n#cpp_wrap_arguments_style\n# Do not prefer wrap before '(' in invocation\ncpp_wrap_before_invocation_lpar = false\n# Prefer wrap after '(' in invocation\ncpp_wrap_after_invocation_lpar = true\n# Do not prefer wrap before ')' in invocation\ncpp_wrap_before_invocation_rpar = false\n# Prefer wrap after '{' in initializer lists\ncpp_wrap_after_expression_lbrace = true\n# Do not prefer wrap before '}' in initializer lists\ncpp_wrap_before_expression_rbrace = false\n"
        },
        {
          "name": ".github",
          "type": "tree",
          "content": null
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.095703125,
          "content": "/.vs\n/build*\nCMakeSettings.json\ndocs/aidocs/*\ndocs/gamedocs/*\ndocs/source/*\n/out\n/vcpkg_installed\n"
        },
        {
          "name": "CMakeLists.txt",
          "type": "blob",
          "size": 15.0849609375,
          "content": "cmake_minimum_required(VERSION 3.16)\n\nif(NOT BINARY_NAME)\n    set(BINARY_NAME openttd)\nendif()\n\nproject(${BINARY_NAME}\n    VERSION 15.0\n    LANGUAGES CXX\n)\n\nif(CMAKE_SOURCE_DIR STREQUAL CMAKE_BINARY_DIR)\n    message(FATAL_ERROR \"In-source builds not allowed. Please run \\\"cmake ..\\\" from the build directory. You may need to delete \\\"${CMAKE_SOURCE_DIR}/CMakeCache.txt\\\" first.\")\nendif()\n\n# Debug mode by default.\nif(NOT CMAKE_BUILD_TYPE)\n    set(CMAKE_BUILD_TYPE Debug)\nendif()\n\nif (EMSCRIPTEN)\n    set(CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} \"${CMAKE_SOURCE_DIR}/os/emscripten/cmake\")\nendif()\n\nset(CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} \"${CMAKE_SOURCE_DIR}/cmake\")\nset(CMAKE_OSX_DEPLOYMENT_TARGET 10.15)\n\n# Use GNUInstallDirs to allow customisation\n# but set our own default data and bin dir\nif(NOT CMAKE_INSTALL_DATADIR)\n    set(CMAKE_INSTALL_DATADIR \"share/games\")\nendif()\nif(NOT CMAKE_INSTALL_BINDIR)\n    set(CMAKE_INSTALL_BINDIR \"games\")\nendif()\ninclude(GNUInstallDirs)\n\ninclude(Options)\nset_options()\nset_directory_options()\n\ninclude(Static)\nset_static_if_needed()\n\nset(CMAKE_CXX_STANDARD 20)\nset(CMAKE_CXX_STANDARD_REQUIRED YES)\nset(CMAKE_CXX_EXTENSIONS NO)\n\nset(CMAKE_EXPORT_COMPILE_COMMANDS YES)\n\n# An empty target for the tools\nadd_custom_target(tools)\n\ninclude(Endian)\nadd_endian_definition()\n\ninclude(CompileFlags)\ncompile_flags()\n\nif(APPLE OR UNIX)\n    add_definitions(-DUNIX)\nendif()\n\nif(UNIX)\n    find_package(Doxygen)\nendif()\n\nlist(APPEND GENERATED_SOURCE_FILES \"${CMAKE_BINARY_DIR}/generated/rev.cpp\")\nif(WIN32)\n    list(APPEND GENERATED_SOURCE_FILES \"${CMAKE_BINARY_DIR}/generated/ottdres.rc\")\nendif()\n\n# Generate a target to determine version, which is execute every 'make' run\nadd_custom_target(find_version\n        ${CMAKE_COMMAND}\n                -DFIND_VERSION_BINARY_DIR=${CMAKE_BINARY_DIR}/generated\n                -DCPACK_BINARY_DIR=${CMAKE_BINARY_DIR}\n                -DREV_MAJOR=${PROJECT_VERSION_MAJOR}\n                -DREV_MINOR=${PROJECT_VERSION_MINOR}\n                -DWINDOWS=${WIN32}\n                -P \"${CMAKE_SOURCE_DIR}/cmake/scripts/FindVersion.cmake\"\n        WORKING_DIRECTORY ${CMAKE_SOURCE_DIR}\n        BYPRODUCTS ${GENERATED_SOURCE_FILES}\n)\n\n# Documentation\nif(DOXYGEN_EXECUTABLE)\n    add_custom_target(docs)\n    add_custom_target(docs_source\n        ${CMAKE_COMMAND} -E make_directory ${CMAKE_BINARY_DIR}/docs\n        COMMAND ${DOXYGEN_EXECUTABLE} ${CMAKE_BINARY_DIR}/Doxyfile\n        WORKING_DIRECTORY ${CMAKE_SOURCE_DIR}\n        COMMENT \"Generating documentation for source\"\n    )\n    add_dependencies(docs_source\n        find_version\n    )\n    add_dependencies(docs\n        docs_source\n    )\nendif()\n\ninclude(AddCustomXXXTimestamp)\n\nif(OPTION_TOOLS_ONLY)\n    if(HOST_BINARY_DIR)\n        unset(HOST_BINARY_DIR CACHE)\n    endif()\n    add_subdirectory(${CMAKE_SOURCE_DIR}/src)\n    return()\nendif()\n\nif(APPLE)\n\t# Avoid searching for headers in Frameworks, and libraries in LIBDIR.\n\tset(CMAKE_FIND_FRAMEWORK LAST)\nendif()\n\n# Prefer -pthread over -lpthread, which is often the better option of the two.\nset(CMAKE_THREAD_PREFER_PTHREAD YES)\n# Make sure we have Threads available.\nfind_package(Threads REQUIRED)\n\nfind_package(ZLIB)\nfind_package(LibLZMA)\nfind_package(LZO)\nfind_package(PNG)\n\nif(WIN32 OR EMSCRIPTEN)\n    # Windows uses WinHttp for HTTP requests.\n    # Emscripten uses Javascript for HTTP requests.\nelse()\n    # All other targets use libcurl.\n    find_package(CURL)\nendif()\n\n# Breakpad doesn't support emscripten.\nif(NOT EMSCRIPTEN)\n    find_package(unofficial-breakpad)\nendif()\n\nif(NOT OPTION_DEDICATED)\n    if(NOT WIN32)\n        find_package(Allegro)\n        if(NOT APPLE)\n            find_package(Freetype)\n            find_package(SDL2)\n            find_package(Fluidsynth)\n            if(Freetype_FOUND)\n                find_package(Fontconfig)\n            endif()\n            find_package(Harfbuzz)\n            find_package(ICU OPTIONAL_COMPONENTS i18n uc)\n        endif()\n    endif()\n    find_package(OpusFile)\nendif()\nif(APPLE)\n    enable_language(OBJCXX)\n\n    find_package(Iconv)\n\n    find_library(AUDIOTOOLBOX_LIBRARY AudioToolbox)\n    find_library(AUDIOUNIT_LIBRARY AudioUnit)\n    find_library(COCOA_LIBRARY Cocoa)\n    find_library(QUARTZCORE_LIBRARY QuartzCore)\nendif()\n\nif(NOT EMSCRIPTEN AND NOT OPTION_DEDICATED)\n    find_package(OpenGL COMPONENTS OpenGL)\nendif()\n\nif(MSVC)\n    find_package(Editbin REQUIRED)\nendif()\n\nfind_package(SSE)\nfind_package(Xaudio2)\n\nfind_package(Grfcodec)\n\ninclude(CheckIPOSupported)\ncheck_ipo_supported(RESULT IPO_FOUND)\n\nshow_options()\n\nif(UNIX AND NOT APPLE AND NOT OPTION_DEDICATED)\n    if(NOT SDL2_FOUND AND NOT ALLEGRO_FOUND)\n        message(FATAL_ERROR \"SDL2 or Allegro is required for this platform\")\n    endif()\n    if(HARFBUZZ_FOUND AND NOT ICU_i18n_FOUND)\n        message(WARNING \"HarfBuzz depends on ICU i18n to function; HarfBuzz will be disabled\")\n    endif()\n    if(NOT HARFBUZZ_FOUND)\n        message(WARNING \"Without HarfBuzz and ICU i18n the game will not be able to render right-to-left languages correctly\")\n    endif()\nendif()\nif(APPLE)\n    if(NOT AUDIOTOOLBOX_LIBRARY)\n        message(FATAL_ERROR \"AudioToolbox is required for this platform\")\n    endif()\n    if(NOT AUDIOUNIT_LIBRARY)\n        message(FATAL_ERROR \"AudioUnit is required for this platform\")\n    endif()\n    if(NOT COCOA_LIBRARY)\n        message(FATAL_ERROR \"Cocoa is required for this platform\")\n    endif()\n    if(NOT QUARTZCORE_LIBRARY)\n        message(FATAL_ERROR \"QuartzCore is required for this platform\")\n    endif()\nendif()\n\nif(OPTION_PACKAGE_DEPENDENCIES)\n    if(NOT UNIX)\n        message(FATAL_ERROR \"Can only package dependencies on Linux\")\n    endif()\n    if(OPTION_INSTALL_FHS)\n        message(FATAL_ERROR \"Cannot install in FHS folders when we are packaging dependencies\")\n    endif()\n    if(${CMAKE_VERSION} VERSION_LESS \"3.16.0\")\n        message(FATAL_ERROR \"OPTION_PACKAGE_DEPENDENCIES can only work with CMake 3.16+; you are using ${CMAKE_VERSION}\")\n    endif()\n\n    # If we are packaging dependencies, we do two things:\n    # 1) set the RPATH to include $ORIGIN/lib; $ORIGIN (that literal string)\n    #    is a Linux indicator for \"path where application is\". In CMake, we\n    #    have to do this before add_executable() is executed.\n    # 2) copy the libraries that we compile against to the \"lib\" folder.\n    #    This is done in InstallAndPackage.cmake.\n    set(CMAKE_INSTALL_RPATH \"\\$ORIGIN/lib\")\n    set(CMAKE_BUILD_WITH_INSTALL_RPATH ON)\nendif()\n\ninclude(CTest)\ninclude(SourceList)\n\n# Needed by rev.cpp\ninclude_directories(${CMAKE_SOURCE_DIR}/src)\n# Needed by everything that uses Squirrel\ninclude_directories(${CMAKE_SOURCE_DIR}/src/3rdparty/squirrel/include)\n\ninclude(MSVCFilters)\n\nadd_library(openttd_lib OBJECT ${GENERATED_SOURCE_FILES})\nadd_executable(openttd WIN32)\nadd_executable(openttd_test)\nset_target_properties(openttd PROPERTIES OUTPUT_NAME \"${BINARY_NAME}\")\n# All other files are added via target_sources()\n\nif(MSVC)\n    # Add DPI manifest to project; other WIN32 targets get this via ottdres.rc\n    target_sources(openttd PRIVATE \"${CMAKE_SOURCE_DIR}/os/windows/openttd.manifest\")\n\n    # If target -static is used, switch our project to static (/MT) too.\n    # If the target ends on -static-md, it will remain dynamic (/MD).\n    if(VCPKG_TARGET_TRIPLET MATCHES \"-static\" AND NOT VCPKG_TARGET_TRIPLET MATCHES \"-md\")\n        set_property(TARGET openttd_lib PROPERTY MSVC_RUNTIME_LIBRARY \"MultiThreaded$<$<CONFIG:Debug>:Debug>\")\n        set_property(TARGET openttd PROPERTY MSVC_RUNTIME_LIBRARY \"MultiThreaded$<$<CONFIG:Debug>:Debug>\")\n        set_property(TARGET openttd_test PROPERTY MSVC_RUNTIME_LIBRARY \"MultiThreaded$<$<CONFIG:Debug>:Debug>\")\n     endif()\nendif()\n\ntarget_precompile_headers(openttd_lib\n    PRIVATE\n    src/stdafx.h\n    src/core/format.hpp\n)\n\nadd_subdirectory(${CMAKE_SOURCE_DIR}/bin)\nadd_subdirectory(${CMAKE_SOURCE_DIR}/src)\nadd_subdirectory(${CMAKE_SOURCE_DIR}/media)\n\nadd_dependencies(openttd\n    find_version)\n\ntarget_link_libraries(openttd_lib\n    openttd::languages\n    openttd::settings\n    openttd::script_api\n    Threads::Threads\n)\n\ntarget_link_libraries(openttd\n    openttd_lib\n    openttd::media\n    openttd::basesets\n)\n\ntarget_link_libraries(openttd_test PRIVATE openttd_lib)\nif(ANDROID)\n    target_link_libraries(openttd_test PRIVATE log)\nendif()\n\ninclude(Catch)\ncatch_discover_tests(openttd_test)\n\nif(HAIKU)\n    target_link_libraries(openttd_lib \"be\" \"network\" \"midi\")\nendif()\n\nif(IPO_FOUND)\n    set_target_properties(openttd PROPERTIES INTERPROCEDURAL_OPTIMIZATION_RELEASE True)\n    set_target_properties(openttd PROPERTIES INTERPROCEDURAL_OPTIMIZATION_MINSIZEREL True)\n    set_target_properties(openttd PROPERTIES INTERPROCEDURAL_OPTIMIZATION_RELWITHDEBINFO True)\nendif()\nset_target_properties(openttd PROPERTIES VS_DEBUGGER_WORKING_DIRECTORY \"${CMAKE_BINARY_DIR}\")\nprocess_compile_flags()\n\ninclude(LinkPackage)\nlink_package(PNG TARGET PNG::PNG ENCOURAGED)\nlink_package(ZLIB TARGET ZLIB::ZLIB ENCOURAGED)\nlink_package(LIBLZMA TARGET LibLZMA::LibLZMA ENCOURAGED)\nlink_package(LZO)\n\nif(NOT WIN32 AND NOT EMSCRIPTEN)\n    link_package(CURL ENCOURAGED)\n    target_link_libraries(openttd_lib ${CMAKE_DL_LIBS})\nendif()\n\nif(NOT EMSCRIPTEN)\n    link_package(unofficial-breakpad TARGET unofficial::breakpad::libbreakpad_client ENCOURAGED)\nendif()\n\nif(NOT OPTION_DEDICATED)\n    link_package(Fluidsynth)\n    link_package(SDL2 TARGET SDL2::SDL2)\n    link_package(Allegro)\n    link_package(FREETYPE TARGET Freetype::Freetype)\n    link_package(Fontconfig TARGET Fontconfig::Fontconfig)\n    link_package(Harfbuzz TARGET harfbuzz::harfbuzz)\n    link_package(ICU_i18n)\n    link_package(ICU_uc)\n    link_package(OpusFile TARGET OpusFile::opusfile)\n\n    if(SDL2_FOUND AND OPENGL_FOUND AND UNIX)\n        # SDL2 dynamically loads OpenGL if needed, so do not link to OpenGL when\n        # on Linux. For Windows, we need to link to OpenGL as we also have a win32\n        # driver using it.\n        add_definitions(-DWITH_OPENGL)\n        message(STATUS \"OpenGL found -- -DWITH_OPENGL -- (via SDL2)\")\n    else()\n        link_package(OpenGL TARGET OpenGL::GL)\n    endif()\nendif()\n\ninclude(3rdparty/llvm/CheckAtomic)\n\nif(APPLE)\n    link_package(Iconv TARGET Iconv::Iconv)\n\n    target_link_libraries(openttd_lib\n        ${AUDIOTOOLBOX_LIBRARY}\n        ${AUDIOUNIT_LIBRARY}\n        ${COCOA_LIBRARY}\n        ${QUARTZCORE_LIBRARY}\n    )\n\n    add_definitions(\n        -DWITH_COCOA\n    )\nendif()\n\nif(EMSCRIPTEN)\n    add_library(WASM::WASM INTERFACE IMPORTED)\n\n    # Allow heap-growth, and start with a bigger memory size.\n    target_link_libraries(WASM::WASM INTERFACE \"-s ALLOW_MEMORY_GROWTH=1\")\n    target_link_libraries(WASM::WASM INTERFACE \"-s INITIAL_MEMORY=33554432\")\n    target_link_libraries(WASM::WASM INTERFACE \"-s DISABLE_EXCEPTION_CATCHING=0\")\n    target_link_libraries(WASM::WASM INTERFACE \"-s WASM_BIGINT\")\n    add_definitions(-s DISABLE_EXCEPTION_CATCHING=0)\n\n    # Export functions to Javascript.\n    target_link_libraries(WASM::WASM INTERFACE \"-s EXPORTED_FUNCTIONS='[\\\"_main\\\", \\\"_em_openttd_add_server\\\"]' -s EXPORTED_RUNTIME_METHODS='[\\\"cwrap\\\"]'\")\n\n    # Preload all the files we generate during build.\n    # As we do not compile with FreeType / FontConfig, we also have no way to\n    # render several languages (like Chinese, ..), so where do you draw the\n    # line what languages to include and which not? In the end, especially as\n    # the more languages you add the slower downloading becomes, we decided to\n    # only ship the English language.\n    target_link_libraries(WASM::WASM INTERFACE \"--preload-file ${CMAKE_BINARY_DIR}/baseset@/baseset\")\n    target_link_libraries(WASM::WASM INTERFACE \"--preload-file ${CMAKE_BINARY_DIR}/lang/english.lng@/lang/english.lng\")\n    target_link_libraries(WASM::WASM INTERFACE \"--preload-file ${CMAKE_SOURCE_DIR}/bin/ai@/ai\")\n    target_link_libraries(WASM::WASM INTERFACE \"--preload-file ${CMAKE_SOURCE_DIR}/bin/game@/game\")\n    # Documentation files for the in-game text file viewer\n    target_link_libraries(WASM::WASM INTERFACE \"--preload-file ${CMAKE_SOURCE_DIR}/README.md@/README.md\")\n    target_link_libraries(WASM::WASM INTERFACE \"--preload-file ${CMAKE_SOURCE_DIR}/CREDITS.md@/CREDITS.md\")\n    target_link_libraries(WASM::WASM INTERFACE \"--preload-file ${CMAKE_SOURCE_DIR}/CONTRIBUTING.md@/CONTRIBUTING.md\")\n    target_link_libraries(WASM::WASM INTERFACE \"--preload-file ${CMAKE_SOURCE_DIR}/COPYING.md@/COPYING.md\")\n    target_link_libraries(WASM::WASM INTERFACE \"--preload-file ${CMAKE_SOURCE_DIR}/known-bugs.md@/known-bugs.md\")\n    target_link_libraries(WASM::WASM INTERFACE \"--preload-file ${CMAKE_SOURCE_DIR}/changelog.md@/changelog.md\")\n    target_link_libraries(WASM::WASM INTERFACE \"--preload-file ${CMAKE_SOURCE_DIR}/docs/admin_network.md@/docs/admin_network.md\")\n    target_link_libraries(WASM::WASM INTERFACE \"--preload-file ${CMAKE_SOURCE_DIR}/docs/debugging_desyncs.md@/docs/debugging_desyncs.md\")\n    target_link_libraries(WASM::WASM INTERFACE \"--preload-file ${CMAKE_SOURCE_DIR}/docs/desync.md@/docs/desync.md\")\n    target_link_libraries(WASM::WASM INTERFACE \"--preload-file ${CMAKE_SOURCE_DIR}/docs/directory_structure.md@/docs/directory_structure.md\")\n    target_link_libraries(WASM::WASM INTERFACE \"--preload-file ${CMAKE_SOURCE_DIR}/docs/eints.md@/docs/eints.md\")\n    target_link_libraries(WASM::WASM INTERFACE \"--preload-file ${CMAKE_SOURCE_DIR}/docs/linkgraph.md@/docs/linkgraph.md\")\n    target_link_libraries(WASM::WASM INTERFACE \"--preload-file ${CMAKE_SOURCE_DIR}/docs/logging_and_performance_metrics.md@/docs/logging_and_performance_metrics.md\")\n    target_link_libraries(WASM::WASM INTERFACE \"--preload-file ${CMAKE_SOURCE_DIR}/docs/multiplayer.md@/docs/multiplayer.md\")\n    target_link_libraries(WASM::WASM INTERFACE \"--preload-file ${CMAKE_SOURCE_DIR}/docs/savegame_format.md@/docs/savegame_format.md\")\n    target_link_libraries(WASM::WASM INTERFACE \"--preload-file ${CMAKE_SOURCE_DIR}/docs/symbol_server.md@/docs/symbol_server.md\")\n\n    # We use IDBFS for persistent storage.\n    target_link_libraries(WASM::WASM INTERFACE \"-lidbfs.js\")\n\n    # Use custom pre-js and shell.html.\n    target_link_libraries(WASM::WASM INTERFACE \"--pre-js ${CMAKE_SOURCE_DIR}/os/emscripten/pre.js\")\n    target_link_libraries(WASM::WASM INTERFACE \"--shell-file ${CMAKE_SOURCE_DIR}/os/emscripten/shell.html\")\n\n    # Build the .html (which builds the .js, .wasm, and .data too).\n    set_target_properties(openttd PROPERTIES SUFFIX \".html\")\n    target_link_libraries(openttd WASM::WASM)\nendif()\n\nif(NOT PERSONAL_DIR STREQUAL \"(not set)\")\n    add_definitions(\n        -DWITH_PERSONAL_DIR\n        -DPERSONAL_DIR=\"${PERSONAL_DIR}\"\n    )\nendif()\n\nif(NOT SHARED_DIR STREQUAL \"(not set)\")\n    add_definitions(\n        -DWITH_SHARED_DIR\n        -DSHARED_DIR=\"${SHARED_DIR}\"\n    )\nendif()\n\nif(NOT GLOBAL_DIR STREQUAL \"(not set)\")\n    add_definitions(\n        -DGLOBAL_DATA_DIR=\"${GLOBAL_DIR}\"\n    )\nendif()\n\nlink_package(SSE)\n\nadd_definitions_based_on_options()\n\nif(WIN32)\n    add_definitions(\n        -DUNICODE\n        -D_UNICODE\n        -DWITH_UNISCRIBE\n        -DPSAPI_VERSION=1\n    )\n\n    target_link_libraries(openttd_lib\n        ws2_32\n        winmm\n        imm32\n        usp10\n        psapi\n        winhttp\n        bcrypt\n    )\nendif()\n\nif(CMAKE_SIZEOF_VOID_P EQUAL 8)\n    add_definitions(-DPOINTER_IS_64BIT)\nendif()\n\nenable_testing()\n\nadd_subdirectory(regression)\n\nif(APPLE OR WIN32)\n    find_package(Pandoc)\nendif()\n\ninclude(InstallAndPackage)\n"
        },
        {
          "name": "CODINGSTYLE.md",
          "type": "blob",
          "size": 25.595703125,
          "content": "**Why a set coding style is important** <br>\nThis project is an open source project. To get open source working as intended, many people should be able to comprehend the code. This implies that there is a well documented and uniform flow of code.\nThat does not necessarily mean that a contributor should not write optimised yet cryptic code - one should always care about performance.  However, other developers need to understand the code which means complicated parts of code **must** have good documentation.\n\n**Why we require that EVERYTHING is documented**<br>\nWhat is simple to some might appear very complicated to others. Documentation helps these others. Anyone should be able to improve the code. But the main reason is, that when patch contributors want their patches added to the common codebase, the code needs to be reviewed by one or more developers. Documentation makes reviewing much easier.\n\n## Coding style for OpenTTD\n### Functions\n* Function names use [CamelCase](http://www.wikipedia.org/wiki/Camelcase) without underscores.\n* Opening curly bracket **{** for a function starts on the next line.\n* Use Foo() instead of Foo(void).\n* Prefer using \"const\" for reference and compound parameters when appropriate.\n* If a member function can be a const function, make it so.\n```c++\nvoid ThisIsAFunction()\n{\n}\n```\n\n### Variables\n* Variable names are all lowercase, and use \"_\" as separator.\n* Global variables are preceded by an underscore. (\"_\") Use descriptive names because leading underscores are often used for system / compiler variables.\n* Own members of classes should always be referenced using \"this->\"\n* Pointers and references should have their reference symbol next to the name (compatibility with current code).\n* Variables that are declared below one another should have their type, name or reference operator, and assignment operator aligned by spaces.\n* There are set names for many variables. Those are (but not limited to): Vehicle *u, *v, *w; Station *st; Town *t; Window *w; Engine *e.\n* For multiple instances, use numbers \"*t1, *t2\" or postfixes \"*st_from, *st_to\".\n* Declare variables upon first usage.\n* Declare iterators in their loop.\n* There is a space between '*' and 'const' in \"const pointers\"\n```c++\nint     number         = 10;\nVehicle *u_first_wagon = v->next;\nint     value          = v->value;\n\nuint32 _global_variable = 3750;\n\nstatic const char * const _global_array[] = {\n\t\"first string\",\n\t\"second string\",\n\t\"another string\",\n\t\"last string followed by comma\",\n};\n\nprotected:\n\tchar protected_array[10];\n\nfor (int i = 0;;);\n```\n\n* Give the variables expedient names, this increases the readability of the code\n```c++\nbool is_maglev_train = true;\nif (!is_maglev_train) DoSomething();\n```\n\n* Some people like to introduce copies of variables to increase readability, which can waste memory. However, in some cases, especially in code pieces which are often called, it makes sense to cache some calculated variables.\n```c++\n/* Unoptimized code:\n * foo is not touched inside the loop!\n */\nfor (uint8 i = 0; i < 100000; i++) {\n\t/* Do something */\n\tif (value_to_check == (foo * 4) % 5 + 6) DoSomething();\n\t/* Do something else */\n}\n\n/* Better:\n * The used value of foo is calculated outside the loop.\n */\nconst uint32 bar = (foo * 4) % 5 + 6;\nfor (uint8 i = 0; i < 100000; i++) {\n\t/* Do something */\n\tif (value_to_check == bar) DoSomething();\n\t/* Do something else */\n}\n```\n\n### Enumerations / static consts\n* Enumerations store integers that belong logically together (railtypes, string IDs, etc.).\n* Enumeration names also use CamelCase.\n* Unscoped enumerators are all caps with \"_\" between the words.\n* Scoped enumerators are use CamelCase.\n* Enums are not used to store single numbers.\n* Enums have consecutive numbers OR\n* Enums have consecutive powers of two. Powers of two (bits) are written in hex or with the shift operator.\n* Enums may have special enumerators: \"_BEGIN\", \"\\_END\", and \"INVALID\\_\").  See example.\n* The invalid always has 0xFF, 0xFFFF, 0xFFFFFFFF as a value.\n* Other special values are consecutively less than the invalid.\n* Variables that hold enumerators should have the type of the enumeration.\n```c++\nenum DiagDirection {\n\tDIAGDIR_BEGIN = 0,\n\tDIAGDIR_NE  = 0,\n\tDIAGDIR_SE  = 1,\n\tDIAGDIR_SW  = 2,\n\tDIAGDIR_NW  = 3,\n\tDIAGDIR_END,\n\tINVALID_DIAGDIR = 0xFF,\n\tBROKEN_DIAGDIR = 0xFE,\n};\n\nenum {\n\tDEPOT_SERVICE       = (1 << 0),\n\tDEPOT_MASS_SEND     = (1 << 1),\n\tDEPOT_DONT_CANCEL   = (1 << 2),\n\tDEPOT_LOCATE_HANGAR = (1 << 3),\n};\n\nDiagDirection enterdir = DIAGDIR_NE;\n```\n\n* Numbers that store single or uncorrelated data are static consts. Those may use the naming conventions of enums.\nExample:\n```c++\nstatic const int MAXIMUM_STATIONS = 42;\n```\n\n* Enums are useful in GUI code: When widgets are enumerated, they are easier to access during many operations. Additionally changes caused by modified widget sequences require less code adapting. If a widget is used like this, its enum name should be present in a comment behind the corresponding widget definition.\n```c++\n/** Enum referring to the widgets of the build rail depot window */\nenum BuildRailDepotWidgets {\n\tBRDW_CLOSEBOX = 0,\n\tBRDW_CAPTION,\n\tBRDW_BACKGROUND,\n\tBRDW_DEPOT_NE,\n\tBRDW_DEPOT_SE,\n\tBRDW_DEPOT_SW,\n\tBRDW_DEPOT_NW,\n};\n/* ... */\n/** Widget definition of the build rail depot window */\nstatic const Widget _build_depot_widgets[] = {\n{   WWT_CLOSEBOX,   RESIZE_NONE,     7,     0,    10,     0,    13, STR_00C5, STR_..},   // BRDW_CLOSEBOX\n{    WWT_CAPTION,   RESIZE_NONE,     7,    11,   139,     0,    13, STR_...,  STR_...},  // BRDW_CAPTION\n{      WWT_PANEL,   RESIZE_NONE,     7,     0,   139,    14,   121, 0x0,      STR_NULL}, // BRDW_BACKGROUND\n{      WWT_PANEL,   RESIZE_NONE,    14,    71,   136,    17,    66, 0x0,      STR_..},   // BRDW_DEPOT_NE\n{      WWT_PANEL,   RESIZE_NONE,    14,    71,   136,    69,   118, 0x0,      STR_..},   // BRDW_DEPOT_SE\n{      WWT_PANEL,   RESIZE_NONE,    14,     3,    68,    69,   118, 0x0,      STR_..},   // BRDW_DEPOT_SW\n{      WWT_PANEL,   RESIZE_NONE,    14,     3,    68,    17,    66, 0x0,      STR_..},   // BRDW_DEPOT_NW\n{   WIDGETS_END},\n};\n```\n\n* Comments on the enum values should start with \"///<\" to enable doxygen documentation\n```c++\nenum SomeEnumeration {\n\tSE_BEGIN = 0,        ///< Begin of the enumeration, used for iterations\n\tSE_FOO = 0,          ///< Used for xy\n\tSE_BAR,              ///< Another value of the enumeration\n\tSE_SUB,              ///< Special case for z\n\tSE_END,              ///< End of the enumeration, used for iterations\n};\n```\n\n### Control flow\n* Put a space before the parentheses in **if**, **switch**, **for** and **while** statements.\n* Use curly braces and put the contained statements on their own lines (e.g., don't put them directly after the **if**).\n* Opening curly bracket **{** stays on the first line, closing curly bracket **}** gets a line to itself (except for the **}** preceding an **else**, which should be on the same line as the **else**).\n* When only a single statement is contained, the brackets can be omitted. In this case, put the single statement on the same line as the preceding keyword (**if**, **while**, etc.). Note that this is only allowed for if statements without an **else** clause.\n* Non-trivial fall throughs must be documented, using a `[[fallthrough]]` attribute.\n* The NOT_REACHED() macro can be used in default constructs that should never be reached.\n* Unconditional loops are written with **`for (;;) {`**\n\n```c++\nif (a == b) {\n\tFoo();\n} else {\n\tBar();\n}\n\nif (very_large_checks &&\n\t\tspread_over_two_lines) {\n\tFoo();\n}\n\nif (a == b) Foo();\n\nswitch (a) {\n\tcase 0: DoSomethingShort(); break;\n\n\tcase 1:\n\t\tDoSomething();\n\t\t[[fallthrough]];\n\n\tcase 2:\n\t\tDoMore();\n\t\tb = a;\n\t\tbreak;\n\n\tcase 3: {\n\t\tint r = 2;\n\n\t\tDoEvenMore(a);\n\t\t[[fallthrough]];\n\t}\n\n\tcase 4: {\n\t\tint q = 345;\n\n\t\tDoIt();\n\t\tbreak;\n\t}\n\n\tdefault:\n\t\tNOT_REACHED();\n}\n\nfor (int i = 0; i < 10; i++) {\n\tFoo();\n\tBar();\n}\n```\n\n### Classes\n* Classes names also use CamelCase.\n* Classes should have \"public\", \"protected\", and \"private\" sections.\n* Within these section the order is: types, static const members, static members, members, constructors / destructors, static methods, methods.\n* Deviations from above order are allowed when the code dictates it (e.g. a static const is needed for a typedef)\n* Methods and members ought to be grouped logically.\n* All those sorting rules sometimes conflict which one another. Please use common sense what increases legibility of the code in such a case.\n* The method implementation should indicate if it is virtual or similar by using a comment.\n* Very short methods can have one-line definition (if defined in the class scope).\n```c++\nclass ThisIsAClass {\npublic:\n\ttypedef Titem_   *ItemPtr;\nprivate:\n\tstatic const int MAX_SIZE = 500;\n\tint              size;\n\tItemPtr          *items;\n\npublic:\n\texplicit ThisIsAClass();\n\t~ThisIsAClass();\n\n\tint GetSize() { return this->size; }\n\tvirtual void Method();\n};\n\n/*virtual*/ void Class::Method()\n{\n\tthis->size *= 2;\n}\n```\n\n### Templates\nTemplates are a very powerful C++ tool, but they can easily confuse beginners. Thus:\n* Templates are to be documented in a very clear and verbose manner. Never assume anything in the documentation.\n* the template keyword and the template layout get a separate line. typenames are either \"T\" or preceded by a \"T\", integers get a single capital letter or a descriptive name preceded by \"T\".\n```c++\ntemplate <typename T, typename Tsomething, int N, uint8_t Tnumber_of_something>\nint Func();\n```\n\n* If you are writing one or more template class in the dedicated header file, use file.hpp for its name instead of file.h. This will let others know that it is template library (includes also implementation), not just header with declarations.\n\n### Code Comment Vertical Alignment\n\nWhen adding code or comments to an existing formatted section, follow the existing style if possible without editing the preexisting lines.\n\nIf your addition cannot be aligned with existing code, do not align the comments with anything and use only a single space between the code and the comment.\n\nGood:\n\n```c++\nenum Vehicle {\n\tBUS,  ///< Take the bus.\n+\tCAR,  ///< Drive your car.\n\tBIKE, ///< Ride your bike\n+\tTRAIN, ///< Catch the train.\n}\n```\n\n\"Car\" is shorter than Bike which allows you to easily align the new comment. \"Train\" is longer.  It is *NOT* desirable to change the vertical comment alignment of this enum.\n\nBad:\n\n```c++\nenum Vehicle {\n-\tBUS,  ///< Take the bus.\n-\tBIKE, ///< Ride your bike\n+\tBUS,   ///< Take the bus.\n+\tCAR,   ///< Drive your car.\n+\tBIKE,  ///< Ride your bike\n+\tTRAIN, ///< Catch the train.\n}\n```\n\nOpenTTD used to vertically-align inline Doxygen comments as shown above. OpenTTD has since stopped strictly following this rule to keep diffs smaller and reduce pollution to the git blame history for non-functional changes.\n\n### Other important rules\n* Put a space before and after binary operators: \"a + b\", \"a == b\", \"a & b\", \"a <<= b\", etc.. Exceptions are \".\", \"->\" and \"[]\" (no spaces) and \",\" (just space after it).\n* Put parenthesis where it improves readability: \"*(b++)\" instead of \"*b++\", and \"if ((a & b) && c == 2)\" instead of \"if (a & b && c == 2)\".\n* Do not put external declarations in implementation (i.e. cpp) files.\n* Do not typedef enums and structs.\n* Don't treat non-flags as flags: use \"if (char_pointer != nullptr && *char_pointer != '\\0')\", not \"if (char_pointer && *char_pointer)\".\n* Use \"free(p)\" instead of \"if (p != nullptr) free(p)\". \"free(nullptr)\" doesn't hurt anyone.\n* No trailing whitespace. The Github workflows will not allow tabs or space on the end of lines.\n* Only use tabs to indent from the start of the line.\n* Line length is unlimited. In practice it may be useful to split a long line. When splitting, add two tabs in front of the second part.\n* The '#' of preprocessor instructions goes into the first column of a line. Indenting is done after the '#' (using tabs again).\n* Use /* */ for single line comments.\n* Use // at the end of a command line to indicate comments.\n** However, use /* */ after # preprocessor statements as // causes warnings in some compilers and/or might have unwanted side effects.\n* C++ is defined using the ASCII character set. Do not use other character sets, not even in comments.\n* OpenTTD includes some Objective-C sources (*.mm, used by OSX), which has a special object method invocation syntax: \"[ obj doStuff:foo ]\". Please use spaces on the inside of the brackets to differentiate from the C array syntax.\n\n## Documentation\nWe use [Doxygen](http://doxygen.org/) to automatically generate documentation from the source code. It scans the source files for *recognizable* comments.\n* **Make your comments recognizable.**\nDoxygen only comments starting with the following style:\n```c++\n/**\n///<\n```\n\nUse /** for multi-line comment blocks. Use ///< for single line comments for variables. Use //!< for single-line comments in the NoAI .hpp files.\nFor comments blocks inside a function always use /* */ or //. Use // only if the comment is on the same line as an instruction, otherwise use /* */.\n\n### Files\n* Put a @file command in a JavaDoc style comment at the start of the file, followed by a description.\n```c++\n/**\n * @file\n * This is the brief description.\n * This is the detailed description here and on the following lines.\n */\n```\n> ### Warning\n> If a file lacks a **file comment block** then NO entities in that file will be documented by Doxygen!\n\n### Functions\n* The documentation should be as close to the actual code as possible to maximise the chance of staying in sync.\n\t* Comments for functions go in the .cpp file.\n\t* Comments for inlines go in the .h/.hpp file.\n* Small inlines can have a short 3 or 4 line JavaDoc style comment.\n* Completely document larger functions.\n* Document obvious parameters and return values too!\n\n```c++\n/**\n * A brief explanation of what the function does and/or what purpose it serves.\n * Then follows a more detailed explanation of the function that can span multiple lines.\n *\n * @param foo Explanation of the foo parameter\n * @param bar Explanation of the bar parameter\n * @return The sum of foo and bar (@return can be omitted if the return type is void)\n *\n * @see SomeOtherFunc()\n * @see SOME_ENUM\n *\n * @bug Some bug description\n * @bug Another bug description which continues in the next line\n *           and ends with the following blank line\n *\n * @todo Some to-do entry\n */\nstatic int FooBar(int foo, int bar)\n{\n\treturn foo + bar;\n}\n```\n\n### Classes\n* Document structs similarly to functions:\n```c++\n/**\n * A short description of the struct.\n * More detailed description of the its usage.\n *\n * @see [link to anything of interest]\n */\nstruct foo {\n}\n```\n\n### JavaDoc structural commands\n\nThis table shows the commands you should use with OpenTTD.  The full list is [here](http://www.stack.nl/~dimitri/doxygen/commands.html).\n\n| Command | Action | Example |\n| ------- | -------- | ------- |\n| **@attention** | Starts a paragraph where a message that needs attention may be entered. The paragraph will be indented. | @attention Whales crossing! |\n| **@brief** | Starts a paragraph that serves as a brief description. For classes and files the brief description will be used in lists and at the start of the documentation page. For class and file members, the brief description will be placed at the declaration of the member and prepended to the detailed description. A brief description may span several lines (although it is advised to keep it brief!). | @brief This is the brief description. |\n| **@bug** | Starts a paragraph where one or more bugs may be reported. The paragraph will be indented. Multiple adjacent @bug commands will be joined into a single paragraph. Each bug description will start on a new line. Alternatively, one @bug command may mention several bugs. | @bug Memory leak in here? |\n| **@note** | Starts a paragraph where a note can be entered. The paragraph will be indented. | @note Might be slow |\n| **@todo** | Starts a paragraph where a TODO item is described. The description will also add an item to a separate TODO list. The two instances of the description will be cross-referenced. Each item in the TODO list will be preceded by a header that indicates the origin of the item. | @todo Better error checking |\n| **@warning** | Starts a paragraph where one or more warning messages may be entered. The paragraph will be indented. | @warning Not thread safe! |\n| | <small>**Function related commands**</small> | |\n| **@return** | Starts a return value description for a function. | @return a character pointer |\n| **@param** | Starts a parameter description for a function parameter with name <parameter-name>. Followed by a description of the parameter. The existence of the parameter is checked and a warning is given if the documentation of this (or any other) parameter is missing or not present in the function declaration or definition.<br><br>The @param command has an optional attribute specifying the direction of the attribute. Possible values are \"in\" and \"out\". | @param  n    The number of bytes to copy<br>@param[out] dest The memory area to copy to.<br>@param[in]  src  The memory area to copy from. |\n| **@see** | Starts a paragraph where one or more cross-references to classes, functions, methods, variables, files or URL may be specified. Two names joined by either :: or # are understood as referring to a class and one of its members. One of several overloaded methods or constructors may be selected by including a parenthesized list of argument types after the method name. [Here](http://www.stack.nl/~dimitri/doxygen/autolink.html) you can find detailed information about this feature. | @see OtherFunc() |\n| **@b** | Displays the following word using a bold font. Equivalent to &lt;b&gt;word&lt;/b&gt;. To put multiple words in bold use &lt;b&gt;multiple words&lt;/b&gt;.| ...@b this and @b that... |\n| **@c / @p** | Displays the parameter <word> using a typewriter font. You can use this command to refer to member function parameters in the running text. To have multiple words in typewriter font use &lt;tt&gt;multiple words&lt;/tt&gt;. | ... the @p x and @p y coordinates are used to... |\n| **@arg / @li** | This command has one argument that continues until the first blank line or until another @arg / @li is encountered. The command can be used to generate a simple, not nested list of arguments. Each argument should start with an @arg / @li command. | @arg @c AlignLeft left alignment.<br>@arg @c AlignCenter center alignment.<br>@arg @c AlignRight right alignment |\n| **@n** | Forces a new line. Equivalent to and inspired by the printf function. |@n |\n\n### More on Doxygen and JavaDoc\n\nDoxygen knows two different kinds of comments:\n* *Brief descriptions*: one-liners that describe the function roughly ([example](http://docs.openttd.org/annotated.html))\n* *Detailed descriptions*: as the name suggests, these contain the detailed function/purpose of the entity they describe ([example](http://docs.openttd.org/structBridge.html))\n\nYou can omit either one or put them into different places but there's only one brief and one detailed description allowed for the same entity.\n\nDoxygen knows three modes for documenting an entity:\n* Before the entity\n* After the entity\n* In a different file\n\nThe latter is a little harder to maintain since the prototype of the entity it describes then is stored in several places (e.g. the .h file and the file with the descriptions). Also while it makes the code easier to read it also makes it easier to omit the important step of updating the description of an entity if it was changed - and we all know why that shouldn't happen ;)<br>\nBecause of those reasons, we will only use the first two documentation schemes.\n\n\nDoxygen supports both Qt and JavaDoc comment styles:\n* Qt style example: **int i; //!< The counter for the main loop**\n* JavaDoc style example: **int i; /*\\*< The counter for the main loop \\*/**\n\nIt also supports more comment styles but those two are the ones which are standardized. For OTTD we'll be using the JavaDoc style. One of the reasons is that it has a feature that the Qt style doesn't offer: JavaDoc style comment blocks will automatically start a brief description which ends at the first dot followed by a space or new line. Everything after that will also be part of the detailed description.\n\nThe general structure of a JavaDoc style comment is\n```c++\n/**\n * This is the brief description. And this sentence contains some further explanations that will appear in the detailed description only.\n */\n```\n\nand the resulting descriptions of that block would be:\n* *Brief description*: This is the brief description.\n* *Detailed description*: This is the brief description. And this sentence contains some further explanations that will appear in the detailed description only.\n\nThe distinction between the brief and detailed descriptions is made by the dot followed by a space/newline, so if you want to use that inside the brief description you need to escape the space/newline:\n```c++\n/**\n * This is a brief description (e.g.\\ using only a few words). Details go here.\n */\n```\n\nIf you're doing a one-line comment, use:\n```c++\nint i; ///< This is the description.\n```\n\nAlso in the comment block you can include so-called structural commands which tell Doxygen what follows. In general, their area of effect begins after the command word and ends when a blank line or some other command is encountered. Also, multiple occurrences of the same structural command within a comment block or the referring entity will be joined in the documentation output usually.\n\n## Commit message\nTo achieve a coherent whole and to make changelog writing easier, here are some guidelines for commit messages.\nThere is a check-script on the git server (also available for clients, see below) to make sure we all follow those rules.\n\nThe first line of a message must match:\n```\n<keyword>( #<issue>|<commit>(, (#<issue>|<commit>))*)?: ([<component>])? <details>\n```\n\nKeywords can either be player-facing, NewGRF / Script author-facing, or developer-facing.\n\nFor player-facing changes, we have these keywords:\n* Feature: Adding a significant new functionality to the game. This can be small in code-size, but is meant for the bigger things from a player perspective.\n* Add: Similar to Feature, but for small functionalities.\n* Change: Changing existing behaviour to an extent the player needs to know about it.\n* Fix: Fixing an issue with the game (as seen by the player).\n* Remove: Completely removing a functionality.\n* Revert: Reverting an earlier Feature / Add / Change / Fix / Remove.\n* Doc: Update to (player-facing) documentation, like in the `docs/` folder etc.\n* Update: Translator commits.\n\nFor NewGRF / Script author-facing changes, we use the same keywords as player-facing changes, followed by `[NewGRF]` / `[Script]` component.\nThis also means the commit is aimed (and worded) towards the NewGRF / Script authors, rather than players.\n\nFor developer-facing changes, we have these keywords:\n* Codechange: Changes to the code the player is not going to notice. Refactors, modernization, etc.\n* Cleanup: Similar to Codechange, but when it is more about removing old code, rather than an actual change.\n* Codefix: Fixing problems in earlier commits that the player is not actually going to notice. Wrong comments, missing files, CI changes.\n\nIf you commit a `Fix` for an [issue](https://github.com/OpenTTD/OpenTTD/issues), add the corresponding issue number in the form of #NNNNN.\n\nIn the case of `Fix`es, if you know the hash of the commit in which the bug was introduced (eg regression), please mention that hash (the first 7 characters) as well just after the keyword (or, if present, after the issue number).\nFinding the trouble-causing commit is highly encouraged as it makes backporting / branching / releases that much easier.\n\nDo not mention two keywords; if two apply, pick one that best represents the commit (for example, \"Fix #123\" is mostly always better than \"Revert\", even if both are true).\n\nThe `<details>` part starts with a capital and does not end with a dot.\nTry to be descriptive to what the player will notice, not to what is actually being changed in the code.\nSee `changelog.md` for inspiration.\n\nTo further structure the changelog, you can add components. Example are:\n* \"Network\" for network specific changes.\n* \"NewGRF\" for NewGRF additions.\n* \"Script\" for AI / GS additions.\n* \"YAPF\", \"NPF\", for changes in these features.\n* \"MacOS\", \"Linux\", \"Windows\", for OS-specific changes.\n* \"CI\", \"CMake\", for changes to the (build) infrastructure.\n\nFurther explanations, more details, etc. don't go into the first line. Use a new line for those.\n\nComplete examples:\n* `Fix: [YAPF] Infinite loop in pathfinder`\n* `Fix #5926: [YAPF] Infinite loop in pathfinder`\n* `Codefix 80dffae: Warning about unsigned unary minus`\n* `Fix #6673, 99bb3a9: Store the map variety setting in the savegame`\n* `Codefix #5922: ClientSizeChanged is only called via WndProcGdi which already has the mutex`\n* `Codechange #1264, #2037, #2038, #2110: Rewrite the autoreplace kernel`\n\n\n## Other tips\n### Remove trailing whitespace\nTo find out if/where you have trailing whitespace, you can use the following (unix/bash) command:\n```\ngrep -n -R --include \"*.[ch]\" '[ \t]$' * | grep --invert-match \".diff\" | grep --invert-match \".patch\"\n```\nAutomatically removing whitespace is also possible with the following shell script (Note that it only checks .c, .cpp, .h, .hpp and .mm files):\n```\n#!/bin/sh\nIFS='\n'\nfor i in Makefile `find . -name \\*.c -o -name \\*.cpp -o -name \\*.h -o -name \\*.hpp -o -name \\*.mm`\ndo\n  (\n\techo '%s/[ \t]\\{1,\\}$/'\n\techo w\n\techo q\n  ) | ed $i 2> /dev/null > /dev/null\ndone\n```\n\n### Install the client-side git commit hooks\n\nThe client-side hooks perform various checks when you commit changes locally.\n* Whitespace and indentation checks.\n* **Coding style** checks.\n\nGet the hooks:\n```\ngit clone https://github.com/OpenTTD/OpenTTD-git-hooks.git openttd_hooks\n```\n\nInstall the hooks, assuming \"openttd\" is your work tree folder:\n```\ncd openttd/.git/hooks\nln -s -t . ../../../openttd_hooks/hooks/*\n```\n\n"
        },
        {
          "name": "COMPILING.md",
          "type": "blob",
          "size": 6.0478515625,
          "content": "# Compiling OpenTTD\n\n## Required/optional libraries\n\nOpenTTD makes use of the following external libraries:\n\n- (encouraged) breakpad: creates minidumps on crash\n- (encouraged) zlib: (de)compressing of old (0.3.0-1.0.5) savegames, content downloads,\n   heightmaps\n- (encouraged) liblzma: (de)compressing of savegames (1.1.0 and later)\n- (encouraged) libpng: making screenshots and loading heightmaps\n- (optional) liblzo2: (de)compressing of old (pre 0.3.0) savegames\n\nFor Linux, the following additional libraries are used:\n\n- (encouraged) libcurl: content downloads\n- libSDL2: hardware access (video, sound, mouse)\n- libfreetype: loading generic fonts and rendering them\n- libfontconfig: searching for fonts, resolving font names to actual fonts\n- harfbuzz: handling of right-to-left scripts (e.g. Arabic and Persian) (required libicu)\n- libicu: handling of right-to-left scripts (e.g. Arabic and Persian) and\n   natural sorting of strings\n\nIf you are building a dedicated-server only, you don't need the last four.\n\nOpenTTD does not require any of the libraries to be present, but without\nliblzma you cannot open most recent savegames and without zlib you cannot\nopen most older savegames or use the content downloading system.\n\n## Windows\n\nYou need Microsoft Visual Studio 2022 or more recent.\n\nYou can download the free Visual Studio Community Edition from Microsoft at\nhttps://visualstudio.microsoft.com/vs/community/.\n\nOpenTTD needs the Platform SDK, if it isn't installed already. This can be\ndone during installing Visual Studio, by selecting\n`Visual C++ MFC for x86 and x64` (and possibly\n`Visual C++ ATL for x86 and x64` depending on your version). If not, you\ncan get download it as [MS Windows Platform SDK](https://developer.microsoft.com/en-us/windows/downloads/windows-sdk).\n\nInstall the SDK by following the instructions as given.\n\nDependencies for OpenTTD on Windows are handled via\n[vcpkg](https://github.com/Microsoft/vcpkg/). First you need to install vcpkg\nby following the `Quick Start` instructions of their\n[README](https://github.com/Microsoft/vcpkg/blob/master/README.md).\n\nAfter this, you can install the dependencies OpenTTD needs. We advise to use\nthe `static` versions, and OpenTTD currently needs the following dependencies:\n\n- breakpad\n- liblzma\n- libpng\n- lzo\n- zlib\n\nTo install both the x64 (64bit) and x86 (32bit) variants (though only one is necessary), you can use:\n\n```ps\n.\\vcpkg install --triplet=x64-windows-static\n.\\vcpkg install --triplet=x86-windows-static\n```\n\nYou can open the folder (as a CMake project). CMake will be detected, and you can compile from there.\nIf libraries are installed but not found, you need to set VCPKG_TARGET_TRIPLET in CMake parameters.\nFor Visual Studio 2022 you also need to set CMAKE_TOOLCHAIN_FILE.\n(Typical values are shown in the MSVC project file command line example)\n\nAlternatively, you can create a MSVC project file via CMake. For this\neither download CMake from https://cmake.org/download/ or use the version\nthat comes with vcpkg. After that, you can run something similar to this:\n\n```powershell\nmkdir build\ncd build\ncmake.exe .. -G\"Visual Studio 17 2022\" -DCMAKE_TOOLCHAIN_FILE=\"<location of vcpkg>\\vcpkg\\scripts\\buildsystems\\vcpkg.cmake\" -DVCPKG_TARGET_TRIPLET=\"x64-windows-static\"\n```\n\nChange `<location of vcpkg>` to where you have installed vcpkg. After this\nin the build folder are MSVC project files. MSVC can rebuild the project\nfiles himself via the `ZERO_CHECK` project.\n\n## All other platforms\nMinimum required version of CMake is 3.16.\nBy default this produces a Debug build with assertations enabled.\nThis is a far slower build than release builds.\n\n```bash\nmkdir build\ncd build\ncmake ..\nmake\n```\n\nFor more information on how to use CMake (including how to make Release builds),\nwe urge you to read [their excellent manual](https://cmake.org/cmake/help/latest/guide/user-interaction/index.html).\n\n## CMake Options\n\nVia CMake, several options can be influenced to get different types of\nbuilds.\n\n- `-DCMAKE_BUILD_TYPE=RelWithDebInfo`: build a release build. This is\n   significantly faster than a debug build, but has far less useful information\n   in case of a crash.\n- `-DOPTION_DEDICATED=ON`: build OpenTTD without a GUI. Useful if you are\n   running a headless server, as it requires less libraries to operate.\n- `-DOPTION_USE_ASSERTS=OFF`: disable asserts. Use with care, as assert\n   statements capture early signs of trouble. Release builds have them\n   disabled by default.\n- `-DOPTION_TOOLS_ONLY=ON`: only build tools like `strgen`. Does not build\n   the game itself. Useful for cross-compiling.\n\n## Supported compilers\n\nEvery compiler that is supported by CMake and supports C++20, should be\nable to compile OpenTTD. As the exact list of compilers changes constantly,\nwe refer to the compiler manual to see if it supports C++20, and to CMake\nto see if it supports your compiler.\n\n## Compilation of base sets\n\nTo recompile the extra graphics needed to play with the original Transport\nTycoon Deluxe graphics you need GRFCodec (which includes NFORenum) as well.\nGRFCodec can be found at\nhttps://www.openttd.org/downloads/grfcodec-releases/latest.html.\n\nHaving GRFCodec installed can cause regeneration of the `.grf` files, which\nare written in the source directory. This can leave your repository in a\nmodified state, as different GRFCodec versions can cause binary differences\nin the resulting `.grf` files. Also translations might have been added for\nthe base sets which are not yet included in the base set information files.\nTo avoid this behaviour, disable GRFCodec (and NFORenum) in CMake cache\n(`GRFCODEC_EXECUTABLE` and `NFORENUM_EXECUTABLE`).\n\n## Developers settings\n\nYou can control some flags directly via `CXXFLAGS` (any combination\nof these flags will work fine too):\n\n- `-DRANDOM_DEBUG`: this helps with debugging desyncs.\n- `-fno-inline`: this avoids creating inline functions; this can make\n  debugging a lot easier.\n- `-O0`: this disables all optimizations; this can make debugging a\n  lot easier.\n- `-p`: this enables profiling.\n\nAlways use a clean buildfolder if you changing `CXXFLAGS`, as this\nvalue is otherwise cached. Example use:\n\n`CXXFLAGS=\"-fno-inline\" cmake ..`\n"
        },
        {
          "name": "CONTRIBUTING.md",
          "type": "blob",
          "size": 14.05859375,
          "content": "\n# Contributing to OpenTTD\n\nLooking to contribute something to OpenTTD? **Here's how you can help.**\n\nPlease take a moment to review this document in order to make the contribution process easy and effective for everyone involved.\n\nFollowing these guidelines helps to communicate that you respect the time of the developers managing and developing this open source project.\nIn return, they should reciprocate that respect in addressing your issue or assessing patches and features.\n\n\n## Using the issue tracker\n\nThe [issue tracker](https://github.com/OpenTTD/OpenTTD/issues) is the preferred channel for [bug reports](#bug-reports), but please respect the following restrictions:\n\n* Please **do not** use the issue tracker for help playing or using OpenTTD.\nPlease try [irc](https://wiki.openttd.org/en/Development/IRC%20channel), [Discord](https://discord.gg/openttd), or the [forums](https://www.tt-forums.net/)\n\n* Please **do not** derail or troll issues. Keep the discussion on topic and respect the opinions of others.\n\n* Please **do not** post comments consisting solely of \"+1\" or \":thumbsup:\".\nUse [GitHub's \"reactions\" feature](https://github.com/blog/2119-add-reactions-to-pull-requests-issues-and-comments) instead.\nWe reserve the right to delete comments which violate this rule.\n\n* Please **do not** open issues or pull requests regarding add-on content in NewGRF, GameScripts, AIs, etc.\nThese are created by third-parties.  Please try [irc](https://wiki.openttd.org/en/Development/IRC%20channel), [Discord](https://discord.gg/openttd), or the [forums](https://www.tt-forums.net/) to discuss these.\n\n* Please use [the web translator](https://translator.openttd.org/) to submit corrections and improvements to translations of the game.\n\n\n## Bug reports\n\nA bug is a _demonstrable problem_ that is caused by the code in the repository.\nGood bug reports are extremely helpful, so thanks!\n\nGuidelines for bug reports:\n\n0. Please don't report issues with games where you changed NewGRFs mid-game. (This can be verified with the `gamelog` console command in-game.)\n\n1. Please don't report issues with modified versions of OpenTTD (patchpacks, unofficial ports, and similar).\n\n2. **Use the GitHub issue search**  check if the issue has already been\nreported.\n\n3. **Check if the issue has been fixed**  try to reproduce it using the latest `nightly` build of OpenTTD, available from https://www.openttd.org\n\n4. **Isolate the problem**  ideally create reproducible steps with an attached savegame and screenshots. Try to use few or no NewGRFs, AIs etc if possible.\n\nA good bug report shouldn't leave others needing to chase you up for more information.\nPlease try to be as detailed as possible in your report.\n\n* What is your environment?\n* What steps will reproduce the issue?\n* Which operating system(s) experience the problem?\n* What would you expect to be the outcome?\n\nAll these details will help people to fix any potential bugs.\n\nExample:\n\n> Short and descriptive example bug report title\n>\n> A summary of the issue and the OS environment in which it occurs. If\n> suitable, include the steps required to reproduce the bug.\n>\n> 1. This is the first step\n> 2. This is the second step\n> 3. Further steps, etc.\n>\n> Attached savegame\n> Attached screenshots showing the issue\n> Crashlogs if the bug causes a crash\n>\n> Any other information you want to share that is relevant to the issue being\n> reported. This might include the lines of code that you have identified as\n> causing the bug, and potential solutions (and your opinions on their\n> merits).\n\n\n## Feature requests\n\nBefore opening a feature request, please take a moment to find out whether your idea fits with the [scope and goals](./CONTRIBUTING.md#project-goals) of the project.\n\nIt's up to *you* to make a strong case to convince the project's developers of the merits of this feature.\n\nPlease provide as much detail and context as possible.\nThis means don't request for a solution, but describe the problem you see and how/why you think it should be fixed.\n\nFor feature request we have a strict policy.\n\nKeeping issues around with \"a good idea\" or \"not really a bug but we should maybe fix it\" turns out to have the reversed effect: nobody looks at it anymore.\n\nAlthough we really appreciate feedback and ideas, we will close feature requests that we don't expect to fulfill in the next year.\n\nMany of those ideas etc do have a place on the [forums](https://www.tt-forums.net); and if enough people like it, someone will stand up and make it.\n\nIt's usually best to discuss on [Discord](https://discord.gg/openttd) before opening a feature request or working on a large feature in a fork.\nDiscussion can take time, but it can be productive and avoid disappointment. :)\n\n\n## Pull requests\n\nGood pull requestspatches, improvements, new featuresare a fantastic help.\n\nPull requests should fit with the [goals of the project](./CONTRIBUTING.md#project-goals).\n\n**Please do ask first** before embarking on any significant pull request (e.g. implementing features, refactoring code, porting to a different language), otherwise you risk spending a lot of time working on something that the project's developers might not want to merge into the project.\n\nEvery pull request should have a clear scope, with no unrelated commits.\n\n[Code style](./CODINGSTYLE.md) must be complied with for pull requests to be accepted; this also includes [commit message format](./CODINGSTYLE.md#commit-message).\n\nAdhering to the following process is the best way to get your work included in the project:\n\n1. [Fork](https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/working-with-forks/fork-a-repo) the project, clone your fork, and configure the remotes:\n\n```bash\ngit clone https://github.com/<your-username>/OpenTTD.git openttd\ngit clone https://github.com/OpenTTD/OpenTTD-git-hooks.git openttd_hooks\ncd openttd\ngit remote add upstream https://github.com/OpenTTD/OpenTTD.git\ncd .git/hooks\nln -s ../../../openttd_hooks/hooks/* .\n```\n\n2. If you cloned a while ago, get the latest changes from upstream:\n\n```bash\ngit fetch upstream\n```\n\n3. Create a new topic branch (off the main project development branch) to\ncontain your feature, change, or fix:\n\n```bash\ngit checkout upstream/master -b <topic-branch-name>\n```\n\n4. Commit your changes in logical chunks. Please adhere to these [git commit message guidelines](./CODINGSTYLE.md#commit-message) or your code is unlikely to be merged into the main project.\nUse Git's [interactive rebase](https://docs.github.com/en/get-started/using-git/about-git-rebase) feature to tidy up your commits before making them public.\n\n5. Locally rebase the upstream development branch into your topic branch:\n\n```bash\ngit fetch upstream\ngit rebase upstream/master\n```\n\n6. Push your topic branch up to your fork the first time:\n\n```bash\ngit push --set-upstream origin <topic-branch-name>\n```\n\nAnd any time after that:\n\n```bash\ngit push\n```\n\n7. [Open a Pull Request](https://help.github.com/articles/using-pull-requests/) with a clear title and description against the `master` branch.\n\n**IMPORTANT**: By submitting a pull request or patch, you agree to the [License](#license) and the [Privacy Notice](CONTRIBUTING.md#privacy-notice).\n\n\n### Pull request validation\n\nContinuous integration (CI) tools monitor pull requests, and help us identify build and code quality issues.\n\nThe results of the CI tests will show on your pull request.\n\nBy clicking on Details you can further zoom in; in case of a failure it will show you why it failed.\nIn case of success it will report how awesome you were.\n\nTip: [commit message format](./CODINGSTYLE.md#commit-message) is a common reason for pull requests to fail validation.\n\n\n### Are there any development docs?\n\nThere is no single source for OpenTTD development docs. It's a complex project with a long history, and multiple APIs.\n\nA good entry point is [Development](https://wiki.openttd.org/en/Development/) on the OpenTTD wiki; this provides links to wiki documentation and other sources.\n\nThe GitHub repo also includes some non-comprehensive documentation in [/docs](./docs).\nThese include:\n- When to [change other languages and when not to](./docs/eints.md).\n- The [savegame format](./docs/savegame_format.md).\n- The [release process](./docs/releasing_openttd.md).\n- Some [notes on the link graph algorithm](./docs/linkgraph.md).\n- The [network game coordinator](./docs/game_coordinator.md).\n- How to use [the admin port for network games](./docs/admin_network.md), also useful for multiplayer server hosts.\n- The [performance metrics and logging features](./docs/logging_and_performance_metrics.md), also useful for add-on developers.\n- How [symbol server and analysis works](./docs/symbol_server.md).\n- And several miscellaneous files detailing internal data structures and graphics measurements and palettes.\n\nYou may also want the guide to [compiling OpenTTD](./COMPILING.md).\n\n\n## Project goals\n\n### What are the goals of the official branch?\n\nThe main goals of the official branch are:\n\n- Stay faithful to the original gameplay from Transport Tycoon Deluxe\n- Improve the user interface\n- Allow extending the gameplay with add-ons / mods via supported content APIs\n- Provide a (relatively) stable core for both players of the official branch, and for authors of add-ons and maintainers of patchpacks\n\nIn contrast, extending or altering the gameplay of the base game is not encouraged.\n\nThe rationale behind these goals is that people have different opinions about what OpenTTD is and what it should be.\nWhen it comes to gameplay, there are at least these groups of people:\n\n- *Model railway (mostly singleplayer)*: build \"realistic\" landscapes, roleplay a world, or even replicate historical scenarios\n- *Economical challenge (mostly singleplayer)*: run a business with economical challenges\n- *Transport challenge (singleplayer or cooperative multiplayer)*: build efficient track layouts with high cargo throughput and tons of vehicles\n- *Competitive speed run (competitive multiplayer)*: maximize some goal in some limited amount of time\n\nWhen it comes to gameplay features there are at least these groups of interests:\n\n- *Control freak:* micromanagement like conditional orders, refitting and loading etc.\n- *Casual:* automatisation like cargodist, path based signalling etc.\n\nTo please everyone, the official branch tries to stay close to the original gameplay; after all, that is what brought everyone here.\nThe preferred method to alter and extend the gameplay is via add-ons like NewGRF and GameScripts.\n\nFor a long time, the official branch was also open to features which could be enabled/disabled, but the corner-cases that came with some configurations have rendered some parts of the code very complicated.\nToday, new features have to work with all the already existing features, which is not only challenging in corner cases, but also requires spending considerable more work than just \"making it work in the game mode that I play\".\n\nThe preferred method to introduce new gameplay features is to extend the content APIs, supporting ever more add-on content / mods.\n\nThis moves conflict-solving away from the codebase to content authors / players.\nIt is more accepted for add-ons not working together than the base game not working with certain setting combinations.\n\nIn general the game should allow anything that doesn't violate basic rules, but it should warn players if they take potentially dangerous or \"stupid\" actions.\n\nFor example, players are not prevented from starting vehicles without orders, but will receive a warning about vehicles having too few orders.\nThis lack of limitation has led to players challenging themselves to create networks where all vehicles have no orders, increasing gameplay possibilities.\n\n### I do not agree with the goals of the official branch, what can I do instead?\n\nFork!  There is a rich history of experimental patches for OpenTTD.\n\nMany of these will never be accepted for core, but are creative and interesting ways to modify OpenTTD.\n\nSometimes patches are combined into long-running patchpacks, modified OpenTTD versions which can be downloaded by anyone, or modified OpenTTD clients for dedicated multiplayer servers.\n\nOne of the reasons to keep core relatively stable is to make life easier for patch authors and patchpack maintainers where possible.\n\nPatchpack discussions and related topics may be found in community sites such as [TT-Forums development section](https://www.tt-forums.net/viewforum.php?f=33).\n\n\n## Legal stuff\n\n### License\n\nBy contributing your code, you agree to license your contribution under the [GPL v2](https://github.com/OpenTTD/OpenTTD/blob/master/COPYING.md).\n\n\n### Privacy Notice\n\nWe would like to make you aware that contributing to OpenTTD via git will permanently store the name and email address you provide as well as the actual changes and the time and date you made it inside git's version history.\n\nThis is inevitable, because it is a main feature of git.\nIf you are concerned about your privacy, we strongly recommend to use \"Anonymous &lt;anonymous@openttd.org&gt;\" as the git commit author. We might refuse anonymous contributions if malicious intent is suspected.\n\nPlease note that the contributor identity, once given, is used for copyright verification and to provide proof should a malicious commit be made.\nAs such, the [EU GDPR](https://gdpr.eu) \"right to be forgotten\" does not apply, as this is an overriding legitimate interest.\n\nPlease also note that your commit is public and as such will potentially be processed by many third-parties.\nGit's distributed nature makes it impossible to track where exactly your commit, and thus your personal data, will be stored and be processed.\nIf you would not like to accept this risk, please do either commit anonymously or refrain from contributing to the OpenTTD project.\n\n\n### Attribution of this Contributing Guide\n\nThis contributing guide is adapted from [Bootstrap](https://github.com/twbs/bootstrap/blob/main/.github/CONTRIBUTING.md) under the [Creative Commons Attribution 3.0 Unported License](https://creativecommons.org/licenses/by/3.0/) terms for Bootstrap documentation.\nThe GDPR notice is adapted from [rsyslog](https://github.com/rsyslog/rsyslog/blob/master/CONTRIBUTING.md) under the [GNU General Public License](https://github.com/rsyslog/rsyslog/blob/master/COPYING).\n"
        },
        {
          "name": "COPYING.md",
          "type": "blob",
          "size": 17.6005859375,
          "content": "This is the license which applies to OpenTTD with the exception of some\n3rd party modules. See [our readme](./README.md) for details\n\nGNU General Public License\n==========================\n\n_Version 2, June 1991_\n_Copyright  1989, 1991 Free Software Foundation, Inc.,_\n_51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA_\n\nEveryone is permitted to copy and distribute verbatim copies\nof this license document, but changing it is not allowed.\n\n### Preamble\n\nThe licenses for most software are designed to take away your\nfreedom to share and change it.  By contrast, the GNU General Public\nLicense is intended to guarantee your freedom to share and change free\nsoftware--to make sure the software is free for all its users.  This\nGeneral Public License applies to most of the Free Software\nFoundation's software and to any other program whose authors commit to\nusing it.  (Some other Free Software Foundation software is covered by\nthe GNU Lesser General Public License instead.)  You can apply it to\nyour programs, too.\n\nWhen we speak of free software, we are referring to freedom, not\nprice.  Our General Public Licenses are designed to make sure that you\nhave the freedom to distribute copies of free software (and charge for\nthis service if you wish), that you receive source code or can get it\nif you want it, that you can change the software or use pieces of it\nin new free programs; and that you know you can do these things.\n\nTo protect your rights, we need to make restrictions that forbid\nanyone to deny you these rights or to ask you to surrender the rights.\nThese restrictions translate to certain responsibilities for you if you\ndistribute copies of the software, or if you modify it.\n\nFor example, if you distribute copies of such a program, whether\ngratis or for a fee, you must give the recipients all the rights that\nyou have.  You must make sure that they, too, receive or can get the\nsource code.  And you must show them these terms so they know their\nrights.\n\nWe protect your rights with two steps: **(1)** copyright the software, and\n**(2)** offer you this license which gives you legal permission to copy,\ndistribute and/or modify the software.\n\nAlso, for each author's protection and ours, we want to make certain\nthat everyone understands that there is no warranty for this free\nsoftware.  If the software is modified by someone else and passed on, we\nwant its recipients to know that what they have is not the original, so\nthat any problems introduced by others will not reflect on the original\nauthors' reputations.\n\nFinally, any free program is threatened constantly by software\npatents.  We wish to avoid the danger that redistributors of a free\nprogram will individually obtain patent licenses, in effect making the\nprogram proprietary.  To prevent this, we have made it clear that any\npatent must be licensed for everyone's free use or not licensed at all.\n\nThe precise terms and conditions for copying, distribution and\nmodification follow.\n\n### TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION\n\n**0.** This License applies to any program or other work which contains\na notice placed by the copyright holder saying it may be distributed\nunder the terms of this General Public License.  The \"Program\", below,\nrefers to any such program or work, and a \"work based on the Program\"\nmeans either the Program or any derivative work under copyright law:\nthat is to say, a work containing the Program or a portion of it,\neither verbatim or with modifications and/or translated into another\nlanguage.  (Hereinafter, translation is included without limitation in\nthe term \"modification\".)  Each licensee is addressed as \"you\".\n\nActivities other than copying, distribution and modification are not\ncovered by this License; they are outside its scope.  The act of\nrunning the Program is not restricted, and the output from the Program\nis covered only if its contents constitute a work based on the\nProgram (independent of having been made by running the Program).\nWhether that is true depends on what the Program does.\n\n**1.** You may copy and distribute verbatim copies of the Program's\nsource code as you receive it, in any medium, provided that you\nconspicuously and appropriately publish on each copy an appropriate\ncopyright notice and disclaimer of warranty; keep intact all the\nnotices that refer to this License and to the absence of any warranty;\nand give any other recipients of the Program a copy of this License\nalong with the Program.\n\nYou may charge a fee for the physical act of transferring a copy, and\nyou may at your option offer warranty protection in exchange for a fee.\n\n**2.** You may modify your copy or copies of the Program or any portion\nof it, thus forming a work based on the Program, and copy and\ndistribute such modifications or work under the terms of Section 1\nabove, provided that you also meet all of these conditions:\n\n* **a)** You must cause the modified files to carry prominent notices\nstating that you changed the files and the date of any change.\n* **b)** You must cause any work that you distribute or publish, that in\nwhole or in part contains or is derived from the Program or any\npart thereof, to be licensed as a whole at no charge to all third\nparties under the terms of this License.\n* **c)** If the modified program normally reads commands interactively\nwhen run, you must cause it, when started running for such\ninteractive use in the most ordinary way, to print or display an\nannouncement including an appropriate copyright notice and a\nnotice that there is no warranty (or else, saying that you provide\na warranty) and that users may redistribute the program under\nthese conditions, and telling the user how to view a copy of this\nLicense.  (Exception: if the Program itself is interactive but\ndoes not normally print such an announcement, your work based on\nthe Program is not required to print an announcement.)\n\nThese requirements apply to the modified work as a whole.  If\nidentifiable sections of that work are not derived from the Program,\nand can be reasonably considered independent and separate works in\nthemselves, then this License, and its terms, do not apply to those\nsections when you distribute them as separate works.  But when you\ndistribute the same sections as part of a whole which is a work based\non the Program, the distribution of the whole must be on the terms of\nthis License, whose permissions for other licensees extend to the\nentire whole, and thus to each and every part regardless of who wrote it.\n\nThus, it is not the intent of this section to claim rights or contest\nyour rights to work written entirely by you; rather, the intent is to\nexercise the right to control the distribution of derivative or\ncollective works based on the Program.\n\nIn addition, mere aggregation of another work not based on the Program\nwith the Program (or with a work based on the Program) on a volume of\na storage or distribution medium does not bring the other work under\nthe scope of this License.\n\n**3.** You may copy and distribute the Program (or a work based on it,\nunder Section 2) in object code or executable form under the terms of\nSections 1 and 2 above provided that you also do one of the following:\n\n* **a)** Accompany it with the complete corresponding machine-readable\nsource code, which must be distributed under the terms of Sections\n1 and 2 above on a medium customarily used for software interchange; or,\n* **b)** Accompany it with a written offer, valid for at least three\nyears, to give any third party, for a charge no more than your\ncost of physically performing source distribution, a complete\nmachine-readable copy of the corresponding source code, to be\ndistributed under the terms of Sections 1 and 2 above on a medium\ncustomarily used for software interchange; or,\n* **c)** Accompany it with the information you received as to the offer\nto distribute corresponding source code.  (This alternative is\nallowed only for noncommercial distribution and only if you\nreceived the program in object code or executable form with such\nan offer, in accord with Subsection b above.)\n\nThe source code for a work means the preferred form of the work for\nmaking modifications to it.  For an executable work, complete source\ncode means all the source code for all modules it contains, plus any\nassociated interface definition files, plus the scripts used to\ncontrol compilation and installation of the executable.  However, as a\nspecial exception, the source code distributed need not include\nanything that is normally distributed (in either source or binary\nform) with the major components (compiler, kernel, and so on) of the\noperating system on which the executable runs, unless that component\nitself accompanies the executable.\n\nIf distribution of executable or object code is made by offering\naccess to copy from a designated place, then offering equivalent\naccess to copy the source code from the same place counts as\ndistribution of the source code, even though third parties are not\ncompelled to copy the source along with the object code.\n\n**4.** You may not copy, modify, sublicense, or distribute the Program\nexcept as expressly provided under this License.  Any attempt\notherwise to copy, modify, sublicense or distribute the Program is\nvoid, and will automatically terminate your rights under this License.\nHowever, parties who have received copies, or rights, from you under\nthis License will not have their licenses terminated so long as such\nparties remain in full compliance.\n\n**5.** You are not required to accept this License, since you have not\nsigned it.  However, nothing else grants you permission to modify or\ndistribute the Program or its derivative works.  These actions are\nprohibited by law if you do not accept this License.  Therefore, by\nmodifying or distributing the Program (or any work based on the\nProgram), you indicate your acceptance of this License to do so, and\nall its terms and conditions for copying, distributing or modifying\nthe Program or works based on it.\n\n**6.** Each time you redistribute the Program (or any work based on the\nProgram), the recipient automatically receives a license from the\noriginal licensor to copy, distribute or modify the Program subject to\nthese terms and conditions.  You may not impose any further\nrestrictions on the recipients' exercise of the rights granted herein.\nYou are not responsible for enforcing compliance by third parties to\nthis License.\n\n**7.** If, as a consequence of a court judgment or allegation of patent\ninfringement or for any other reason (not limited to patent issues),\nconditions are imposed on you (whether by court order, agreement or\notherwise) that contradict the conditions of this License, they do not\nexcuse you from the conditions of this License.  If you cannot\ndistribute so as to satisfy simultaneously your obligations under this\nLicense and any other pertinent obligations, then as a consequence you\nmay not distribute the Program at all.  For example, if a patent\nlicense would not permit royalty-free redistribution of the Program by\nall those who receive copies directly or indirectly through you, then\nthe only way you could satisfy both it and this License would be to\nrefrain entirely from distribution of the Program.\n\nIf any portion of this section is held invalid or unenforceable under\nany particular circumstance, the balance of the section is intended to\napply and the section as a whole is intended to apply in other\ncircumstances.\n\nIt is not the purpose of this section to induce you to infringe any\npatents or other property right claims or to contest validity of any\nsuch claims; this section has the sole purpose of protecting the\nintegrity of the free software distribution system, which is\nimplemented by public license practices.  Many people have made\ngenerous contributions to the wide range of software distributed\nthrough that system in reliance on consistent application of that\nsystem; it is up to the author/donor to decide if he or she is willing\nto distribute software through any other system and a licensee cannot\nimpose that choice.\n\nThis section is intended to make thoroughly clear what is believed to\nbe a consequence of the rest of this License.\n\n**8.** If the distribution and/or use of the Program is restricted in\ncertain countries either by patents or by copyrighted interfaces, the\noriginal copyright holder who places the Program under this License\nmay add an explicit geographical distribution limitation excluding\nthose countries, so that distribution is permitted only in or among\ncountries not thus excluded.  In such case, this License incorporates\nthe limitation as if written in the body of this License.\n\n**9.** The Free Software Foundation may publish revised and/or new versions\nof the General Public License from time to time.  Such new versions will\nbe similar in spirit to the present version, but may differ in detail to\naddress new problems or concerns.\n\nEach version is given a distinguishing version number.  If the Program\nspecifies a version number of this License which applies to it and \"any\nlater version\", you have the option of following the terms and conditions\neither of that version or of any later version published by the Free\nSoftware Foundation.  If the Program does not specify a version number of\nthis License, you may choose any version ever published by the Free Software\nFoundation.\n\n**10.** If you wish to incorporate parts of the Program into other free\nprograms whose distribution conditions are different, write to the author\nto ask for permission.  For software which is copyrighted by the Free\nSoftware Foundation, write to the Free Software Foundation; we sometimes\nmake exceptions for this.  Our decision will be guided by the two goals\nof preserving the free status of all derivatives of our free software and\nof promoting the sharing and reuse of software generally.\n\n### NO WARRANTY\n\n**11.** BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY\nFOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW.  EXCEPT WHEN\nOTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES\nPROVIDE THE PROGRAM \"AS IS\" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED\nOR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\nMERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK AS\nTO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE\nPROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING,\nREPAIR OR CORRECTION.\n\n**12.** IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING\nWILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR\nREDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES,\nINCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING\nOUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED\nTO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY\nYOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER\nPROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE\nPOSSIBILITY OF SUCH DAMAGES.\n\nEND OF TERMS AND CONDITIONS\n\n### How to Apply These Terms to Your New Programs\n\nIf you develop a new program, and you want it to be of the greatest\npossible use to the public, the best way to achieve this is to make it\nfree software which everyone can redistribute and change under these terms.\n\nTo do so, attach the following notices to the program.  It is safest\nto attach them to the start of each source file to most effectively\nconvey the exclusion of warranty; and each file should have at least\nthe \"copyright\" line and a pointer to where the full notice is found.\n\n    <one line to give the program's name and a brief idea of what it does.>\n    Copyright (C) <year>  <name of author>\n\n    This program is free software; you can redistribute it and/or modify\n    it under the terms of the GNU General Public License as published by\n    the Free Software Foundation; either version 2 of the License, or\n    (at your option) any later version.\n\n    This program is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU General Public License for more details.\n\n    You should have received a copy of the GNU General Public License along\n    with this program; if not, write to the Free Software Foundation, Inc.,\n    51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.\n\nAlso add information on how to contact you by electronic and paper mail.\n\nIf the program is interactive, make it output a short notice like this\nwhen it starts in an interactive mode:\n\n    Gnomovision version 69, Copyright (C) year name of author\n    Gnomovision comes with ABSOLUTELY NO WARRANTY; for details type `show w'.\n    This is free software, and you are welcome to redistribute it\n    under certain conditions; type `show c' for details.\n\nThe hypothetical commands `show w` and `show c` should show the appropriate\nparts of the General Public License.  Of course, the commands you use may\nbe called something other than `show w` and `show c`; they could even be\nmouse-clicks or menu items--whatever suits your program.\n\nYou should also get your employer (if you work as a programmer) or your\nschool, if any, to sign a \"copyright disclaimer\" for the program, if\nnecessary.  Here is a sample; alter the names:\n\n    Yoyodyne, Inc., hereby disclaims all copyright interest in the program\n    `Gnomovision' (which makes passes at compilers) written by James Hacker.\n\n    <signature of Ty Coon>, 1 April 1989\n    Ty Coon, President of Vice\n\nThis General Public License does not permit incorporating your program into\nproprietary programs.  If your program is a subroutine library, you may\nconsider it more useful to permit linking proprietary applications with the\nlibrary.  If this is what you want to do, use the GNU Lesser General\nPublic License instead of this License.\n"
        },
        {
          "name": "CPackProperties.cmake.in",
          "type": "blob",
          "size": 0.59375,
          "content": "# Make the current version available to CPack\nset(CPACK_PACKAGE_VERSION \"@REV_VERSION@\")\n\n# Name the output file with the correct version\nstring(REPLACE \"#CPACK_PACKAGE_VERSION#\" \"@REV_VERSION@\" CPACK_PACKAGE_FILE_NAME \"${CPACK_PACKAGE_FILE_NAME}\")\n\nif (CPACK_BUNDLE_PLIST_SOURCE)\n    # Rewrite the Info.plist.in to contain the correct version\n    file(READ ${CPACK_BUNDLE_PLIST_SOURCE} INFO_PLIST_CONTENT)\n    string(REPLACE \"#CPACK_PACKAGE_VERSION#\" \"@REV_VERSION@\" INFO_PLIST_CONTENT \"${INFO_PLIST_CONTENT}\")\n    file(WRITE ${CPACK_BUNDLE_PLIST} \"${INFO_PLIST_CONTENT}\")\nendif (CPACK_BUNDLE_PLIST_SOURCE)\n"
        },
        {
          "name": "CREDITS.md",
          "type": "blob",
          "size": 3.314453125,
          "content": "### The OpenTTD team (in alphabetical order):\n\n- Matthijs Kooijman (blathijs) - Pathfinder-guru, Debian port (since 0.3)\n- Christoph Elsenhans (frosch) - General coding (since 0.6)\n- Loc Guilloux (glx) - General / Windows Expert (since 0.4.5)\n- Koen Bussemaker (Kuhnovic) - General / Ship pathfinder (since 14)\n- Charles Pigott (LordAro) - General / Correctness police (since 1.9)\n- Michael Lutz (michi_cc) - General / Path based signals (since 0.7)\n- Niels Martin Hansen (nielsm) - Music system, general coding (since 1.9)\n- Owen Rudge (orudge) - Forum host, OS/2 port (since 0.1)\n- Peter Nelson (peter1138) - Spiritual descendant from NewGRF gods (since 0.4.5)\n- Remko Bijker (Rubidium) - Coder and way more (since 0.4.5)\n- Patric Stout (TrueBrain) - NoProgrammer (since 0.3), sys op\n- Tyler Trahan (2TallTyler) - General / Time Lord (since 13)\n\n### Inactive Developers:\n\n- Grzegorz Duczyski (adf88) - General coding (1.7 - 1.8)\n- Albert Hofkamp (Alberth) - GUI expert (0.7 - 1.9)\n- Jean-Franois Claeys (Belugas) - GUI, newindustries and more (0.4.5 - 1.0)\n- Bjarni Corfitzen (Bjarni) - macOS port, coder and vehicles (0.3 - 0.7)\n- Victor Fischer (Celestar) - Programming everywhere you need him to (0.3 - 0.6)\n- Ulf Hermann (fonsinchen) - Cargo Distribution (1.3 - 1.6)\n- Jaroslav Mazanec (KUDr) - YAPG (Yet Another Pathfinder God) ;) (0.4.5 - 0.6)\n- Jonathan Coome (Maedhros) - High priest of the NewGRF Temple (0.5 - 0.6)\n- Attila Bn (MiHaMiX) - Developer WebTranslator 1 and 2 (0.3 - 0.5)\n- Ingo von Borstel (planetmaker) - General coding, Support (1.1 - 1.9)\n- Zdenk Sojka (SmatZ) - Bug finder and fixer (0.6 - 1.3)\n- Jos Soler (Terkhen) - General coding (1.0 - 1.4)\n- Christoph Mallon (Tron) - Programmer, code correctness police (0.3 - 0.5)\n- Thijs Marinussen (Yexo) - AI Framework, General (0.6 - 1.3)\n- Leif Linse (Zuu) - AI/Game Script (1.2 - 1.6)\n\n### Retired Developers:\n\n- Tams Farag (Darkvater) - Ex-Lead coder (0.3 - 0.5)\n- Dominik Scherer (dominik81) - Lead programmer, GUI expert (0.3 - 0.3)\n- Emil Djupfeld (egladil) - macOS port (0.4.5 - 0.6)\n- Simon Sasburg (HackyKid) - Bug fixer (0.4 - 0.4.5)\n- Ludvig Strigeus (ludde) - Original author of OpenTTD, main coder (0.1 - 0.3)\n- Cian Duffy (MYOB) - BeOS port / manual writing (0.1 - 0.3)\n- Petr Baudi (pasky) - Many patches, newgrf support (0.3 - 0.3)\n- Benedikt Brggemeier (skidd13) - Bug fixer and code reworker (0.6 - 0.7)\n- Serge Paquet (vurlix) - 2nd contributor after ludde (0.1 - 0.3)\n\n### Thanks to:\n\n- Josef Drexler - For his great work on TTDPatch.\n- Marcin Grzegorczyk - For his TTDPatch work and documentation of Transport Tycoon Deluxe internals and track foundations\n- Stefan Meiner (sign_de) - For his work on the console\n- Mike Ragsdale - OpenTTD installer\n- Christian Rosentreter (tokai) - MorphOS / AmigaOS port\n- Richard Kempton (RichK67) - Additional airports, initial TGP implementation\n- Alberto Demichelis - Squirrel scripting language\n- L. Peter Deutsch - MD5 implementation\n- Michael Blunck - For revolutionizing TTD with awesome graphics\n- George - Canal/Lock graphics\n- Andrew Parkhouse (andythenorth) - River graphics\n- David Dallaston (Pikka) - Tram tracks\n- Richard Wheeler (zephyris) - OpenTTD TrueType font\n- All Translators - For their support to make OpenTTD a truly international game\n- Bug Reporters - Thanks for all bug reports\n- Chris Sawyer - For an amazing game!\n"
        },
        {
          "name": "Doxyfile.in",
          "type": "blob",
          "size": 13.099609375,
          "content": "# This file is part of OpenTTD.\n# OpenTTD is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, version 2.\n# OpenTTD is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n# See the GNU General Public License for more details. You should have received a copy of the GNU General Public License along with OpenTTD. If not, see <http://www.gnu.org/licenses/>.\n\n# Doxyfile 1.9.4\n\n#---------------------------------------------------------------------------\n# Project related configuration options\n#---------------------------------------------------------------------------\nDOXYFILE_ENCODING      = UTF-8\nPROJECT_NAME           = \"OpenTTD Source\"\nPROJECT_NUMBER         = ${REV_VERSION}\nPROJECT_BRIEF          =\nPROJECT_LOGO           =\nOUTPUT_DIRECTORY       = ${CPACK_BINARY_DIR}/docs/source/\nCREATE_SUBDIRS         = YES\nCREATE_SUBDIRS_LEVEL   = 8\nALLOW_UNICODE_NAMES    = NO\nOUTPUT_LANGUAGE        = English\nBRIEF_MEMBER_DESC      = YES\nREPEAT_BRIEF           = YES\nABBREVIATE_BRIEF       = \"The $name class\" \\\n                         \"The $name widget\" \\\n                         \"The $name file\" \\\n                         is \\\n                         provides \\\n                         specifies \\\n                         contains \\\n                         represents \\\n                         a \\\n                         an \\\n                         the\nALWAYS_DETAILED_SEC    = NO\nINLINE_INHERITED_MEMB  = NO\nFULL_PATH_NAMES        = YES\nSTRIP_FROM_PATH        = ./\nSTRIP_FROM_INC_PATH    =\nSHORT_NAMES            = NO\nJAVADOC_AUTOBRIEF      = YES\nJAVADOC_BANNER         = NO\nQT_AUTOBRIEF           = NO\nMULTILINE_CPP_IS_BRIEF = NO\nPYTHON_DOCSTRING       = YES\nINHERIT_DOCS           = YES\nSEPARATE_MEMBER_PAGES  = NO\nTAB_SIZE               = 2\nALIASES                =\nOPTIMIZE_OUTPUT_FOR_C  = YES\nOPTIMIZE_OUTPUT_JAVA   = NO\nOPTIMIZE_FOR_FORTRAN   = NO\nOPTIMIZE_OUTPUT_VHDL   = NO\nOPTIMIZE_OUTPUT_SLICE  = NO\nEXTENSION_MAPPING      =\nMARKDOWN_SUPPORT       = YES\nTOC_INCLUDE_HEADINGS   = 0\nAUTOLINK_SUPPORT       = YES\nBUILTIN_STL_SUPPORT    = NO\nCPP_CLI_SUPPORT        = NO\nSIP_SUPPORT            = NO\nIDL_PROPERTY_SUPPORT   = YES\nDISTRIBUTE_GROUP_DOC   = NO\nGROUP_NESTED_COMPOUNDS = NO\nSUBGROUPING            = YES\nINLINE_GROUPED_CLASSES = NO\nINLINE_SIMPLE_STRUCTS  = NO\nTYPEDEF_HIDES_STRUCT   = NO\nLOOKUP_CACHE_SIZE      = 0\nNUM_PROC_THREADS       = 1\n#---------------------------------------------------------------------------\n# Build related configuration options\n#---------------------------------------------------------------------------\nEXTRACT_ALL            = NO\nEXTRACT_PRIVATE        = YES\nEXTRACT_PRIV_VIRTUAL   = NO\nEXTRACT_PACKAGE        = NO\nEXTRACT_STATIC         = YES\nEXTRACT_LOCAL_CLASSES  = YES\nEXTRACT_LOCAL_METHODS  = YES\nEXTRACT_ANON_NSPACES   = YES\nRESOLVE_UNNAMED_PARAMS = YES\nHIDE_UNDOC_MEMBERS     = NO\nHIDE_UNDOC_CLASSES     = NO\nHIDE_FRIEND_COMPOUNDS  = NO\nHIDE_IN_BODY_DOCS      = NO\nINTERNAL_DOCS          = NO\nCASE_SENSE_NAMES       = YES\nHIDE_SCOPE_NAMES       = NO\nHIDE_COMPOUND_REFERENCE= NO\nSHOW_HEADERFILE        = YES\nSHOW_INCLUDE_FILES     = YES\nSHOW_GROUPED_MEMB_INC  = NO\nFORCE_LOCAL_INCLUDES   = NO\nINLINE_INFO            = YES\nSORT_MEMBER_DOCS       = YES\nSORT_BRIEF_DOCS        = NO\nSORT_MEMBERS_CTORS_1ST = NO\nSORT_GROUP_NAMES       = NO\nSORT_BY_SCOPE_NAME     = NO\nSTRICT_PROTO_MATCHING  = NO\nGENERATE_TODOLIST      = YES\nGENERATE_TESTLIST      = YES\nGENERATE_BUGLIST       = YES\nGENERATE_DEPRECATEDLIST= YES\nENABLED_SECTIONS       =\nMAX_INITIALIZER_LINES  = 30\nSHOW_USED_FILES        = YES\nSHOW_FILES             = YES\nSHOW_NAMESPACES        = YES\nFILE_VERSION_FILTER    =\nLAYOUT_FILE            =\nCITE_BIB_FILES         =\n#---------------------------------------------------------------------------\n# Configuration options related to warning and progress messages\n#---------------------------------------------------------------------------\nQUIET                  = NO\nWARNINGS               = YES\nWARN_IF_UNDOCUMENTED   = YES\nWARN_IF_DOC_ERROR      = YES\nWARN_IF_INCOMPLETE_DOC = YES\nWARN_NO_PARAMDOC       = NO\nWARN_AS_ERROR          = NO\nWARN_FORMAT            = \"$file:$line: $text\"\nWARN_LINE_FORMAT       = \"at line $line of file $file\"\nWARN_LOGFILE           =\n#---------------------------------------------------------------------------\n# Configuration options related to the input files\n#---------------------------------------------------------------------------\nINPUT                  = ./src/\nINPUT_ENCODING         = UTF-8\nFILE_PATTERNS          = *.c \\\n                         *.cc \\\n                         *.cxx \\\n                         *.cpp \\\n                         *.c++ \\\n                         *.h \\\n                         *.hpp\nRECURSIVE              = YES\nEXCLUDE                =\nEXCLUDE_SYMLINKS       = NO\nEXCLUDE_PATTERNS       = */3rdparty \\\n                         */script/api\nEXCLUDE_SYMBOLS        =\nEXAMPLE_PATH           =\nEXAMPLE_PATTERNS       = *\nEXAMPLE_RECURSIVE      = NO\nIMAGE_PATH             = ./docs/\nINPUT_FILTER           =\nFILTER_PATTERNS        =\nFILTER_SOURCE_FILES    = NO\nFILTER_SOURCE_PATTERNS =\nUSE_MDFILE_AS_MAINPAGE =\n#---------------------------------------------------------------------------\n# Configuration options related to source browsing\n#---------------------------------------------------------------------------\nSOURCE_BROWSER         = YES\nINLINE_SOURCES         = NO\nSTRIP_CODE_COMMENTS    = YES\nREFERENCED_BY_RELATION = YES\nREFERENCES_RELATION    = YES\nREFERENCES_LINK_SOURCE = YES\nSOURCE_TOOLTIPS        = YES\nUSE_HTAGS              = NO\nVERBATIM_HEADERS       = YES\nCLANG_ASSISTED_PARSING = NO\nCLANG_ADD_INC_PATHS    = YES\nCLANG_OPTIONS          =\nCLANG_DATABASE_PATH    =\n#---------------------------------------------------------------------------\n# Configuration options related to the alphabetical class index\n#---------------------------------------------------------------------------\nALPHABETICAL_INDEX     = NO\nIGNORE_PREFIX          =\n#---------------------------------------------------------------------------\n# Configuration options related to the HTML output\n#---------------------------------------------------------------------------\nGENERATE_HTML          = YES\nHTML_OUTPUT            = html\nHTML_FILE_EXTENSION    = .html\nHTML_HEADER            =\nHTML_FOOTER            =\nHTML_STYLESHEET        =\nHTML_EXTRA_STYLESHEET  =\nHTML_EXTRA_FILES       =\nHTML_COLORSTYLE_HUE    = 220\nHTML_COLORSTYLE_SAT    = 100\nHTML_COLORSTYLE_GAMMA  = 80\nHTML_TIMESTAMP         = NO\nHTML_DYNAMIC_MENUS     = YES\nHTML_DYNAMIC_SECTIONS  = NO\nHTML_INDEX_NUM_ENTRIES = 100\nGENERATE_DOCSET        = NO\nDOCSET_FEEDNAME        = \"Doxygen generated docs\"\nDOCSET_FEEDURL         =\nDOCSET_BUNDLE_ID       = org.doxygen.Project\nDOCSET_PUBLISHER_ID    = org.doxygen.Publisher\nDOCSET_PUBLISHER_NAME  = Publisher\nGENERATE_HTMLHELP      = NO\nCHM_FILE               =\nHHC_LOCATION           =\nGENERATE_CHI           = NO\nCHM_INDEX_ENCODING     =\nBINARY_TOC             = NO\nTOC_EXPAND             = YES\nGENERATE_QHP           = NO\nQCH_FILE               =\nQHP_NAMESPACE          = org.doxygen.Project\nQHP_VIRTUAL_FOLDER     = doc\nQHP_CUST_FILTER_NAME   =\nQHP_CUST_FILTER_ATTRS  =\nQHP_SECT_FILTER_ATTRS  =\nQHG_LOCATION           =\nGENERATE_ECLIPSEHELP   = NO\nECLIPSE_DOC_ID         = org.doxygen.Project\nDISABLE_INDEX          = NO\nGENERATE_TREEVIEW      = YES\nFULL_SIDEBAR           = NO\nENUM_VALUES_PER_LINE   = 4\nTREEVIEW_WIDTH         = 250\nEXT_LINKS_IN_WINDOW    = NO\nOBFUSCATE_EMAILS       = YES\nHTML_FORMULA_FORMAT    = png\nFORMULA_FONTSIZE       = 10\nFORMULA_TRANSPARENT    = YES\nFORMULA_MACROFILE      =\nUSE_MATHJAX            = NO\nMATHJAX_VERSION        = MathJax_2\nMATHJAX_FORMAT         = HTML-CSS\nMATHJAX_RELPATH        = https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/\nMATHJAX_EXTENSIONS     =\nMATHJAX_CODEFILE       =\nSEARCHENGINE           = NO\nSERVER_BASED_SEARCH    = NO\nEXTERNAL_SEARCH        = NO\nSEARCHENGINE_URL       =\nSEARCHDATA_FILE        = searchdata.xml\nEXTERNAL_SEARCH_ID     =\nEXTRA_SEARCH_MAPPINGS  =\n#---------------------------------------------------------------------------\n# Configuration options related to the LaTeX output\n#---------------------------------------------------------------------------\nGENERATE_LATEX         = NO\nLATEX_OUTPUT           = latex\nLATEX_CMD_NAME         = latex\nMAKEINDEX_CMD_NAME     = makeindex\nLATEX_MAKEINDEX_CMD    = makeindex\nCOMPACT_LATEX          = NO\nPAPER_TYPE             = a4\nEXTRA_PACKAGES         =\nLATEX_HEADER           =\nLATEX_FOOTER           =\nLATEX_EXTRA_STYLESHEET =\nLATEX_EXTRA_FILES      =\nPDF_HYPERLINKS         = NO\nUSE_PDFLATEX           = NO\nLATEX_BATCHMODE        = NO\nLATEX_HIDE_INDICES     = NO\nLATEX_BIB_STYLE        = plain\nLATEX_TIMESTAMP        = NO\nLATEX_EMOJI_DIRECTORY  =\n#---------------------------------------------------------------------------\n# Configuration options related to the RTF output\n#---------------------------------------------------------------------------\nGENERATE_RTF           = NO\nRTF_OUTPUT             = rtf\nCOMPACT_RTF            = NO\nRTF_HYPERLINKS         = NO\nRTF_STYLESHEET_FILE    =\nRTF_EXTENSIONS_FILE    =\n#---------------------------------------------------------------------------\n# Configuration options related to the man page output\n#---------------------------------------------------------------------------\nGENERATE_MAN           = NO\nMAN_OUTPUT             = man\nMAN_EXTENSION          = .3\nMAN_SUBDIR             =\nMAN_LINKS              = NO\n#---------------------------------------------------------------------------\n# Configuration options related to the XML output\n#---------------------------------------------------------------------------\nGENERATE_XML           = NO\nXML_OUTPUT             = xml\nXML_PROGRAMLISTING     = YES\nXML_NS_MEMB_FILE_SCOPE = NO\n#---------------------------------------------------------------------------\n# Configuration options related to the DOCBOOK output\n#---------------------------------------------------------------------------\nGENERATE_DOCBOOK       = NO\nDOCBOOK_OUTPUT         = docbook\n#---------------------------------------------------------------------------\n# Configuration options for the AutoGen Definitions output\n#---------------------------------------------------------------------------\nGENERATE_AUTOGEN_DEF   = NO\n#---------------------------------------------------------------------------\n# Configuration options related to the Perl module output\n#---------------------------------------------------------------------------\nGENERATE_PERLMOD       = NO\nPERLMOD_LATEX          = NO\nPERLMOD_PRETTY         = YES\nPERLMOD_MAKEVAR_PREFIX =\n#---------------------------------------------------------------------------\n# Configuration options related to the preprocessor\n#---------------------------------------------------------------------------\nENABLE_PREPROCESSING   = YES\nMACRO_EXPANSION        = YES\nEXPAND_ONLY_PREDEF     = YES\nSEARCH_INCLUDES        = YES\nINCLUDE_PATH           =\nINCLUDE_FILE_PATTERNS  =\nPREDEFINED             = WITH_ZLIB \\\n                         WITH_LZO \\\n                         WITH_LIBLZMA \\\n                         WITH_SDL2 \\\n                         WITH_PNG \\\n                         WITH_FONTCONFIG \\\n                         WITH_FREETYPE \\\n                         WITH_HARFBUZZ \\\n                         WITH_ICU_I18N \\\n                         UNICODE \\\n                         _UNICODE \\\n                         _GNU_SOURCE \\\n                         FINAL=\nEXPAND_AS_DEFINED      =\nSKIP_FUNCTION_MACROS   = YES\n#---------------------------------------------------------------------------\n# Configuration options related to external references\n#---------------------------------------------------------------------------\nTAGFILES               =\nGENERATE_TAGFILE       = ${CPACK_BINARY_DIR}/docs/openttd.tag\nALLEXTERNALS           = NO\nEXTERNAL_GROUPS        = YES\nEXTERNAL_PAGES         = YES\n#---------------------------------------------------------------------------\n# Configuration options related to the dot tool\n#---------------------------------------------------------------------------\nDIA_PATH               =\nHIDE_UNDOC_RELATIONS   = YES\nHAVE_DOT               = NO\nDOT_NUM_THREADS        = 0\nDOT_FONTNAME           = Helvetica\nDOT_FONTSIZE           = 10\nDOT_FONTPATH           =\nCLASS_GRAPH            = YES\nCOLLABORATION_GRAPH    = YES\nGROUP_GRAPHS           = YES\nUML_LOOK               = NO\nUML_LIMIT_NUM_FIELDS   = 10\nDOT_UML_DETAILS        = NO\nDOT_WRAP_THRESHOLD     = 17\nTEMPLATE_RELATIONS     = NO\nINCLUDE_GRAPH          = YES\nINCLUDED_BY_GRAPH      = YES\nCALL_GRAPH             = NO\nCALLER_GRAPH           = NO\nGRAPHICAL_HIERARCHY    = YES\nDIRECTORY_GRAPH        = YES\nDIR_GRAPH_MAX_DEPTH    = 1\nDOT_IMAGE_FORMAT       = png\nINTERACTIVE_SVG        = NO\nDOT_PATH               =\nDOTFILE_DIRS           =\nMSCFILE_DIRS           =\nDIAFILE_DIRS           =\nPLANTUML_JAR_PATH      =\nPLANTUML_CFG_FILE      =\nPLANTUML_INCLUDE_PATH  =\nDOT_GRAPH_MAX_NODES    = 50\nMAX_DOT_GRAPH_DEPTH    = 1000\nDOT_TRANSPARENT        = NO\nDOT_MULTI_TARGETS      = NO\nGENERATE_LEGEND        = YES\nDOT_CLEANUP            = YES\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 9.529296875,
          "content": "# OpenTTD\n\n## Table of contents\n\n- 1.0) [About](#10-about)\n    - 1.1) [Downloading OpenTTD](#11-downloading-openttd)\n    - 1.2) [OpenTTD gameplay manual](#12-openttd-gameplay-manual)\n    - 1.3) [Supported platforms](#13-supported-platforms)\n    - 1.4) [Installing and running OpenTTD](#14-installing-and-running-openttd)\n    - 1.5) [Add-on content / mods](#15-add-on-content--mods)\n    - 1.6) [OpenTTD directories](#16-openttd-directories)\n    - 1.7) [Compiling OpenTTD](#17-compiling-openttd)\n- 2.0) [Contact and community](#20-contact-and-community)\n    - 2.1) [Multiplayer games](#21-multiplayer-games)\n    - 2.2) [Contributing to OpenTTD](#22-contributing-to-openttd)\n    - 2.3) [Reporting bugs](#23-reporting-bugs)\n    - 2.4) [Translating](#24-translating)\n- 3.0) [Licensing](#30-licensing)\n- 4.0) [Credits](#40-credits)\n\n## 1.0) About\n\nOpenTTD is a transport simulation game based upon the popular game Transport Tycoon Deluxe, written by Chris Sawyer.\nIt attempts to mimic the original game as closely as possible while extending it with new features.\n\nOpenTTD is licensed under the GNU General Public License version 2.0, but includes some 3rd party software under different licenses.\nSee the section [\"Licensing\"](#30-licensing) below for details.\n\n## 1.1) Downloading OpenTTD\n\nOpenTTD can be downloaded from the [official OpenTTD website](https://www.openttd.org/).\n\nBoth 'stable' and 'nightly' versions are available for download:\n\n- most people should choose the 'stable' version, as this has been more extensively tested\n- the 'nightly' version includes the latest changes and features, but may sometimes be less reliable\n\nOpenTTD is also available for free on [Steam](https://store.steampowered.com/app/1536610/OpenTTD/), [GOG.com](https://www.gog.com/game/openttd), and the [Microsoft Store](https://www.microsoft.com/p/openttd-official/9ncjg5rvrr1c). On some platforms OpenTTD will be available via your OS package manager or a similar service.\n\n\n## 1.2) OpenTTD gameplay manual\n\nOpenTTD has a [community-maintained wiki](https://wiki.openttd.org/), including a gameplay manual and tips.\n\n\n## 1.3) Supported platforms\n\nOpenTTD has been ported to several platforms and operating systems.\n\nThe currently supported platforms are:\n\n- Linux (SDL (OpenGL and non-OpenGL))\n- macOS (universal) (Cocoa)\n- Windows (Win32 GDI / OpenGL)\n\nOther platforms may also work (in particular various BSD systems), but we don't actively test or maintain these.\n\n### 1.3.1) Legacy support\nPlatforms, languages and compilers change.\nWe'll keep support going on old platforms as long as someone is interested in supporting them, except where it means the project can't move forward to keep up with language and compiler features.\n\nWe guarantee that every revision of OpenTTD will be able to load savegames from every older revision (excepting where the savegame is corrupt).\nPlease report a bug if you find a save that doesn't load.\n\n## 1.4) Installing and running OpenTTD\n\nOpenTTD is usually straightforward to install, but for more help the wiki [includes an installation guide](https://wiki.openttd.org/en/Manual/Installation).\n\nOpenTTD needs some additional graphics and sound files to run.\n\nFor some platforms these will be downloaded during the installation process if required.\n\nFor some platforms, you will need to refer to [the installation guide](https://wiki.openttd.org/en/Manual/Installation).\n\n\n### 1.4.1) Free graphics and sound files\n\nThe free data files, split into OpenGFX for graphics, OpenSFX for sounds and\nOpenMSX for music can be found at:\n\n- [OpenGFX](https://www.openttd.org/downloads/opengfx-releases/latest)\n- [OpenSFX](https://www.openttd.org/downloads/opensfx-releases/latest)\n- [OpenMSX](https://www.openttd.org/downloads/openmsx-releases/latest)\n\nPlease follow the readme of these packages about the installation procedure.\nThe Windows installer can optionally download and install these packages.\n\n\n### 1.4.2) Original Transport Tycoon Deluxe graphics and sound files\n\nIf you want to play with the original Transport Tycoon Deluxe data files you have to copy the data files from the CD-ROM into the baseset/ directory.\nIt does not matter whether you copy them from the DOS or Windows version of Transport Tycoon Deluxe.\nThe Windows install can optionally copy these files.\n\nYou need to copy the following files:\n- sample.cat\n- trg1r.grf or TRG1.GRF\n- trgcr.grf or TRGC.GRF\n- trghr.grf or TRGH.GRF\n- trgir.grf or TRGI.GRF\n- trgtr.grf or TRGT.GRF\n\n\n### 1.4.3) Original Transport Tycoon Deluxe music\n\nIf you want the Transport Tycoon Deluxe music, copy the appropriate files from the original game into the baseset folder.\n- TTD for Windows: All files in the gm/ folder (gm_tt00.gm up to gm_tt21.gm)\n- TTD for DOS: The GM.CAT file\n- Transport Tycoon Original: The GM.CAT file, but rename it to GM-TTO.CAT\n\n\n## 1.5) Add-on content / mods\n\nOpenTTD features multiple types of add-on content, which modify gameplay in different ways.\n\nMost types of add-on content can be downloaded within OpenTTD via the 'Check Online Content' button in the main menu.\n\nAdd-on content can also be installed manually, but that's more complicated; the [OpenTTD wiki](https://wiki.openttd.org/) may offer help with that, or the [OpenTTD directory structure guide](./docs/directory_structure.md).\n\n\n### 1.5.1) Social Integration\n\nOpenTTD has the ability to load plugins to integrate with Social Platforms like Steam, Discord, etc.\n\nTo enable such integration, the plugin for the specific platform has to be downloaded and stored in the `social_integration` folder.\n\nSee [OpenTTD's website](https://www.openttd.org), under Downloads, for what plugins are available.\n\n\n### 1.6) OpenTTD directories\n\nOpenTTD uses its own directory structure to store game data, add-on content etc.\n\nFor more information, see the [directory structure guide](./docs/directory_structure.md).\n\n### 1.7) Compiling OpenTTD\n\nIf you want to compile OpenTTD from source, instructions can be found in [COMPILING.md](./COMPILING.md).\n\n\n## 2.0) Contact and Community\n\n'Official' channels\n\n- [OpenTTD website](https://www.openttd.org)\n- [OpenTTD official Discord](https://discord.gg/openttd)\n- IRC chat using #openttd on irc.oftc.net [more info about our irc channel](https://wiki.openttd.org/en/Development/IRC%20channel)\n- [OpenTTD on Github](https://github.com/OpenTTD/) for code repositories and for reporting issues\n- [forum.openttd.org](https://forum.openttd.org/) - the primary community forum site for discussing OpenTTD and related games\n- [OpenTTD wiki](https://wiki.openttd.org/) community-maintained wiki, including topics like gameplay guide, detailed explanation of some game mechanics, how to use add-on content (mods) and much more\n\n'Unofficial' channels\n\n- the OpenTTD wiki has a [page listing OpenTTD communities](https://wiki.openttd.org/en/Community/Community) including some in languages other than English\n\n\n### 2.1) Multiplayer games\n\nYou can play OpenTTD with others, either cooperatively or competitively.\n\nSee the [multiplayer documentation](./docs/multiplayer.md) for more details.\n\n\n### 2.2) Contributing to OpenTTD\n\nWe welcome contributors to OpenTTD.  More information for contributors can be found in [CONTRIBUTING.md](./CONTRIBUTING.md)\n\n\n### 2.3) Reporting bugs\n\nGood bug reports are very helpful.  We have a [guide to reporting bugs](./CONTRIBUTING.md#bug-reports) to help with this.\n\nDesyncs in multiplayer are complex to debug and report (some software development skils are required).\nInstructions can be found in [debugging and reporting desyncs](./docs/debugging_desyncs.md).\n\n\n### 2.4) Translating\n\nOpenTTD is translated into many languages.  Translations are added and updated via the [online translation tool](https://translator.openttd.org).\n\n\n## 3.0) Licensing\n\nOpenTTD is licensed under the GNU General Public License version 2.0.\nFor the complete license text, see the file '[COPYING.md](./COPYING.md)'.\nThis license applies to all files in this distribution, except as noted below.\n\nThe squirrel implementation in `src/3rdparty/squirrel` is licensed under the Zlib license.\nSee `src/3rdparty/squirrel/COPYRIGHT` for the complete license text.\n\nThe md5 implementation in `src/3rdparty/md5` is licensed under the Zlib license.\nSee the comments in the source files in `src/3rdparty/md5` for the complete license text.\n\nThe fmt implementation in `src/3rdparty/fmt` is licensed under the MIT license.\nSee `src/3rdparty/fmt/LICENSE.rst` for the complete license text.\n\nThe nlohmann json implementation in `src/3rdparty/nlohmann` is licensed under the MIT license.\nSee `src/3rdparty/nlohmann/LICENSE.MIT` for the complete license text.\n\nThe OpenGL API in `src/3rdparty/opengl` is licensed under the MIT license.\nSee `src/3rdparty/opengl/khrplatform.h` for the complete license text.\n\nThe catch2 implementation in `src/3rdparty/catch2` is licensed under the Boost Software License, Version 1.0.\nSee `src/3rdparty/catch2/LICENSE.txt` for the complete license text.\n\nThe icu scriptrun implementation in `src/3rdparty/icu` is licensed under the Unicode license.\nSee `src/3rdparty/icu/LICENSE` for the complete license text.\n\nThe monocypher implementation in `src/3rdparty/monocypher` is licensed under the 2-clause BSD and CC-0 license.\nSee `src/3rdparty/monocypher/LICENSE.md` for the complete license text.\n\nThe OpenTTD Social Integration API in `src/3rdparty/openttd_social_integration_api` is licensed under the MIT license.\nSee `src/3rdparty/openttd_social_integration_api/LICENSE` for the complete license text.\n\nThe atomic datatype support detection in `cmake/3rdparty/llvm/CheckAtomic.cmake` is licensed under the Apache 2.0 license.\nSee `cmake/3rdparty/llvm/LICENSE.txt` for the complete license text.\n\n## 4.0 Credits\n\nSee [CREDITS.md](./CREDITS.md)\n"
        },
        {
          "name": "bin",
          "type": "tree",
          "content": null
        },
        {
          "name": "changelog.md",
          "type": "blob",
          "size": 608.517578125,
          "content": "## 15.x\n\n### 15.0-beta1 (2024-12-24)\n\n- Feature: Town, industry and vehicle window zoom with mouse wheel (#12810, #12809, #12797)\n- Feature: Show count of towns and industries in their directory window captions (#12800)\n- Feature: Toggle for showing industry names in small map (#12770)\n- Feature: Manually place town buildings in scenario editor (#12661, #12741)\n- Feature: Filter new picker window by all classes, by used types, or by favourites (#12595)\n- Feature: New picker window for rail and road stations, rail and road waypoints, and objects (#12595)\n- Feature: Road waypoints (#12572)\n- Feature: Allow base sounds set to be changed mid-game (#12399)\n- Feature: Authorize specific clients to join network, company and remote console without password (#12337, #12326, #12329)\n- Feature: Authenticate to the server without sending the password (#12323, #11878)\n- Feature: Encrypt the connection between game server and client, and admin (#12300, #11878)\n- Feature: Industry production/transported graph (#10541, #13083)\n- Feature: Import town data from JSON file (#10409)\n- Add: Implement 2D map scrolling under SDL2 (#13169)\n- Add: [NewGRF] Callback for custom refit mask for engines/vehicles (#13090)\n- Add: [NewGRF] Vehicle prop that allows refittability based on cargo class intersection (#13090)\n- Add: Ability to show and filter different datasets on the same graph (#13083)\n- Add: Show and toggle follow vehicle state in vehicle view window (#13076)\n- Add: Set application name for SDL2 (#13061)\n- Add: Support sound effects in Ogg Opus format (#13055)\n- Add: Improving town-owned bridges increases company rating (#13036)\n- Add: Apply rail/road type conversion when NewGRFs are updated mid-game (#13021)\n- Add: Implement missing road type label conversion (#13021)\n- Add: [NewGRF] Cargo class bits 13 and 14 now define potable and non-potable (#12979)\n- Add: Overlay cargo icon in vehicle/depot list when holding shift+ctrl (#12938)\n- Add: [Script] Include number of victims in ScriptEventVehicleCrashed (#12861)\n- Add: [Console] Schedule command to execute a script file next in-game month (#12761)\n- Add: Setting to disable warning for old vehicles (#12714)\n- Add: Use macOS Game Mode identification (#12700)\n- Add: Shade button to waypoint picker (#12682)\n- Add: [NewGRF] Extended custom waypoint classes (#12653)\n- Add: 'Get Content' buttons next to base set dropdowns in Game Options (#12627)\n- Add: [NewGRF] Custom road waypoint support (#12572)\n- Add: [NewGRF] Allow fixed layout up to 256 tiles per NewGRF rail station (#12554)\n- Add: [NewGRF] Station property 1E, extended station tile flags (#12554)\n- Add: [SDL2] Driver parameter 'no_mouse_capture' to ease interactive debugging (#12336)\n- Add: Basic autocompletion on tab for console commands (#12163)\n- Add: Portuguese Escudo currency (#12108)\n- Change: Hide buttons in Found Town window that can't be used (#13182)\n- Change: Include new cargo classes in dump cargo types console command (#13174)\n- Change: Use floats for tracking 2D scrolling to improve smoothness (#13169)\n- Change: Improve news window layouts (#13136, #13134)\n- Change: Show company finances column if it has any values in it (#13112)\n- Change: Treat recolour sprites as regular sprites in the SpriteCache (#13107)\n- Change: Determine industry directory width only on visible rows (#13097)\n- Change: Add sound memory usage to framerate window (#13055)\n- Change: Invalidate build toolbars when NewGRFs are changed (#13046)\n- Change: Don't try to flood buoys or dock tiles (#13013)\n- Change: Store water tile flooding state in the map (#13013)\n- Change: Exclude parent item from directory sort in FiosGetFileList (#12947)\n- Change: [NewGRF] Place all 8 bits of station tile layout in var 40/41 (#12890)\n- Change: [NewGRF] Install translation tables into overridden NewGRF (#12879)\n- Change: [UI] Use scaled sprite sizes and correct matrix padding for content list (#12875)\n- Change: [UI] Improved Network server list icon sizing and text positioning (#12874)\n- Change: Path signals now show green on junction-less tracks by default (#12857)\n- Change: Don't use house construction states in Scenario Editor (#12822)\n- Change: Changing zoom no longer stops following vehicle (#12808)\n- Change: Allow bribing local authority when other company has exclusive rights (#12763)\n- Change: Position caret on left or right of glyph depending on language direction (#12760)\n- Change: Do not automatically connect double depots with track (#12752)\n- Change: Call custom house name callback in House Picker (#12741)\n- Change: [NewGRF] Treat house max year 0xFFFF as MAX_YEAR (#12740)\n- Change: [UI] Remove substitution of missing glyph with '?' glyph (#12736)\n- Change: [UI] Use SetMinimalTextLines to set label height correctly (#12734)\n- Change: Don't use house construction states in Scenario Editor (#12730)\n- Change: Ignore min/max years for manual house placer (#12687)\n- Change: Use default NewGRF cargo translation table if no custom table is provided (#12646)\n- Change: Don't include midi file processing in dedicated server build (#12632)\n- Change: [Linkgraph] Improve distance scaling algorithm in demand scaler (#12542)\n- Change: Draw group hierarchy tree lines (#12522)\n- Change: Display more useful information in sprite aligner than sprite ID (#12439)\n- Change: Disallow using Action A to load sprites above the baseset unless reserved (#12435)\n- Change: Use aspect ratios for some common widgets and buttons (#12386, #12636)\n- Change: Show correct default value and unit for vehicle service interval setting (#12376)\n- Change: Use per-company group numbers (#12297)\n- Change: [NewGRF] Increase house type limit from 512 to 4096 (#12288)\n- Change: Add dividers in vehicle group action dropdown (#12284)\n- Change: Use same audio buffer size (and config parameter) for all sound drivers (#12227)\n- Change: Allow rail and road depot overbuilding in current orientation in order to connect to rail or road (#12219)\n- Change: Show tile index as decimal number in land info window (#12104)\n- Change: Increase object/station/roadstop class limit (#12094)\n- Change: Disable the insecure admin login by default; replaced by allow list (#11878)\n- Fix: [NewGRF] New engines did not have a default cargo type set (#13146)\n- Fix: String parameter not set when determining width of smallmap contour labels (#13145)\n- Fix #13022: Ensure minimum size of scrollbar slider (#13119)\n- Fix #13110: [Script] Convert table keys to string when generating JSON (#13113)\n- Fix: Error message not set when unable load an old save (#13106)\n- Fix: Network clients incorrectly truncated all strings to NETWORK_COMPANY_NAME_LENGTH (#13102)\n- Fix: Don't allow right-click to close world generation progress window (#13084)\n- Fix: VF_LOADING_FINISHED and VF_STOP_LOADING flags tested on wrong vehicle part (#13063)\n- Fix: X-axis direction of industry production graph (#13062)\n- Fix #13053: Payment transfers incorrect for non-passenger cargos (#13054)\n- Fix: Invalid data used for height map curves after first run (#13039)\n- Fix: SkipGarbage() skipped all multi-byte utf-8 characters (#13032)\n- Fix: Don't invalidate water regions on the other side of the map (#13012)\n- Fix: ScriptTile::PlantTreeRectangle does not check that the end tile is in bounds (#13004)\n- Fix #12973: Don't exclude high score after using sandbox (#12999)\n- Fix #12976: Incorrect widget rect scrolling for RTL languages (#12978)\n- Fix: Crash when exiting game with end game window open (#12962)\n- Fix #12957: 1-in-X proportion of towns being cities is unnecessarily random (#12960)\n- Fix: ICUParagraphLayout line wrapping (#12956)\n- Fix: Highscore/Endgame window can disappear offscreen if game window is resized (#12951)\n- Fix #12940: Use specific error when overbuilding station on signals (#12943)\n- Fix #12917: Write to negative array index for some string patterns (#12932)\n- Fix: Incorrect truncation in string setting validation (#12924)\n- Fix #12914: Fix use of invalidated pointer in viewport drawer (#12918)\n- Fix: Train curve detection did not take shortened parts into account (#12910)\n- Fix: DepotWindow::GetVehicleFromDepotWndPt not refreshing vehicle list (#12907)\n- Fix: DupSprite did not copy the control_flags field (#12906)\n- Fix: Excessively fast ships on aqueducts fail to move at correct speed (#12895)\n- Fix: Timetable does not show vehicles as early (#12873)\n- Fix #12856: Updating network settings does not invalidate data (#12858)\n- Fix #12839: Truncated help text dialog on Windows (#12844)\n- Fix #12832: Sanitise strings from NewGRF before logging them in Debug output (#12835)\n- Fix #12825: Crash when opening road toolbar in scenario editor (#12826)\n- Fix #12818: During Hostile Takeover, profit was calculated incorrectly (#12819)\n- Fix: Apply widget's internal padding to scrollbar capacity/position (#12801)\n- Fix #12365: Company Window now displays proper inauguration year and period while in wallclock mode (#12798)\n- Fix #12787: Boostrap doesn't have main vindow (#12788)\n- Fix #10239: Use elevated snow height for roads on flat foundations (#12776)\n- Fix #12764: Crash when opening Detailed performance rating window with no companies (#12765)\n- Fix: Water infrastructure total when changing owner of object on water or using DC_FORCE_CLEAR_TILE (#12757, #12729)\n- Fix: Editbox behaved improperly with RTL languages (#12746)\n- Fix #12283: Vehicle group dropdown shouldn't have default action (#12727)\n- Fix: Reverse left/right keypress when editing RTL text (#12711, #12710)\n- Fix: Crash if interface scale or font size changes with chat box present (#12705)\n- Fix: Make progress bars obey language direction (#12704)\n- Fix #12681: Abstract filetype not set for network client join savegames (#12701)\n- Fix: Implement support for secure state coding on macOS (#12698)\n- Fix: Add entitlements needed for plugins on macOS (#12697)\n- Fix: Allow resolving house parent scope (town) of unbuilt houses (#12695)\n- Fix #12685: Nullptr dereference when checking for equal loaded/loading groups (#12686)\n- Fix: Unable to choose a font containing hyphen (#12684)\n- Fix: [Timetable] Use days as precision in day mode for accurate timetable syncing (#12683)\n- Fix #12550: Files were not saved in the right location when binary and configuration are in the same folder (#12679)\n- Fix #12591: Give descriptive error when station construction fails due to wrong layout (#12678)\n- Fix #12594: Give descriptive error when company takeover fails due to vehicle limit (#12676)\n- Fix: Ensure revision mismatch also considers random debugging status (#12673)\n- Fix #12411: [Admin] Send Network Welcome Packet to admin port after game creation completed WelcomeAll moved into NetworkOnGameStart (#12672)\n- Fix: [MacOS] Memory leak in CoreTextFontCache (#12662)\n- Fix: Use widget resize step instead of window resize step (#12659)\n- Fix #12563: Race condition setting finish flag in WinHTTP (#12658)\n- Fix #12648: Ensure all uses of std::filesystem::path use native encoding (#12650)\n- Fix #12643: _is_water_region_valid is not cleared/reset in AllocateWaterRegions (#12649)\n- Fix: Console command scrolling did not take account of padding and cursor width (#12642)\n- Fix: Allow changing size of default OpenTTD font (#12641)\n- Fix: Always allow setting company settings, company/president name/face (#12635)\n- Fix: For GUI network servers, name the first company the same as any other company (#12629)\n- Fix: Properly test for presence of waypoint in NewGRF resolver (#12579)\n- Fix: Inconsistent space between console history and current line (#12528)\n- Fix: Build industry window did not take width of count into account (#12476)\n- Fix: Draw continuation lines for engine variant hierarchy tree (#12434)\n- Fix: Viewport signs assume small font is smaller than normal font (#12422)\n- Fix #11345: Use correct default button value for vehicle service interval setting (#12376)\n- Fix #7982: Show existing coverage with unambiguous adjacent station (#12346)\n- Fix: Off-by-one in EnsureVisibleCaption (#12261)\n- Fix #11055: Make saveload failure error messages consistent with others (#12247)\n- Fix: Train running sounds should only be produced for engine parts (#12229)\n- Fix: Maximum permitted sound volume from NewGRF is 128 (#12222)\n- Fix: Relocate main toolbar and statusbar before other windows (#12218)\n- Fix: YAPF doesn't check destination for start nodes (#12217)\n- Fix: Make link graph node borders scale with GUI (#12167)\n- Fix #10490: Allow ships to exit depots if another is not moving at the exit point (#12161)\n- Fix: Incorrect padding for text purchase list (#12160)\n- Fix: GetNextDecisionNode ignored go to nearest depot when combined with stop at depot (#12130)\n- Fix: Aircraft could route to hangars outside their range when stopping at them (#12130)\n- Remove: Hidden setting for adjacent stations (#12862)\n- Remove: Custom opendir implementation for Windows no longer needed (#12524)\n- Remove: Company passwords; replaced by client allow lists (#12337)\n- Remove: Autoclean_unprotected settings; all companies will be protected (#12337)\n- Remove: NPF and pathfinder change settings (#12209)\n\n\n## 14.x\n\n### 14.1 (2024-05-03)\n\n- Add: Check that towns can build roads before generating map (#12503)\n- Fix #12228: Ships could get lost due to pathfinder not considering reversing in some cases (#12474)\n- Fix #12433: Width of unit number display was too narrow (#12534)\n- Fix #12502: Desync related to vehicle replacement (#12512)\n- Fix #12506: Desync after new oil rig is constructed (#12511)\n- Fix #12584: Crash on some tar files during tar scan (#12586)\n- Fix: [SDL2] Keypad numbers did not function (#12596)\n- Fix: Houses and industry tiles could accept incorrect cargo (#12547)\n- Fix: Map generation stage strings were incorrect (#12549)\n- Fix: [Script] Allow only 255 league tables, as 255 itself is the invalid id sentinel (#12545)\n- Fix: Mark vehicle status bars dirty when a vehicle leaves unbunching depot (#12516)\n- Fix: Do not show train waiting for unbunching as waiting for free path (#12515)\n- Fix: Smooth outliers in unbunching round trip calculations (#12513)\n\n\n### 14.0 (2024-04-13)\n\n- Update: New title game for 14.0\n- Fix #12477: Crash when launching OpenTTD from within a Dropbox folder (#12478)\n- Fix #12233: Mini order list overlaps vehicle group name (#12423)\n- Fix #12114: Viewport coords of crashed aircraft not updated when falling (#12424)\n- Fix #12395: Ensure president name widget is tall enough (#12419)\n- Fix #12415: Incorrect payment for aircraft secondary cargo (#12416)\n- Fix #12387: [NewGRF] Wrong tile offset passed to rail station CB 149 (slope check)\n- Fix #12388: Autoreplacing train heads slowly made the unit number grow (#12389)\n- Fix #12368: Incorrect offset for click position within industry chain window (#12370)\n- Fix: Aircraft can float above the ground when crashed (#12425)\n- Fix: Segfault when using -q without providing a . character (#12418)\n- Fix: Wrong scrolling dropdown list position with RTL (#12412)\n- Fix: [Win32] Force font mapper to only use TrueType fonts (#12406)\n- Fix: \"-q\" displays NewGRF IDs in the wrong byte-order (#12397)\n- Fix: Do not send chat to clients that have not authorized yet (#12377)\n- Fix: [NewGRF] Label for fruit incorrectly changed to `FRUI` from `FRUT` (#12367)\n- Fix: [Script] ScriptSubsidy::GetExpireDate should return an economy-date (#12372)\n- Revert #11603: [Script] AI/GSTimeMode was not the best solution for economy/calendar support (#12362)\n\n\n### 14.0-RC3 (2024-03-23)\n\n- Fix #12347: Crash attempting to find catchment tiles of a station with no catchment area (#12348)\n- Fix #12319: Some SSE blitters were broken due to ODR violations (#12322)\n- Fix #12302: Allow empty train engines to use an invalid cargo type (#12325)\n- Fix #12305: Crash with large positive sprite x offset in engine preview window (#12313)\n- Fix #12166: Crash when opening tram road stop build window (#12168)\n- Fix #12092: Incorrect x-axis in cargo payment graph window (#12359)\n- Fix: Crash when attempting to join a company while not joined (#12353)\n- Change: Show unbunching action in timetable window (#12351)\n- Change: [Windows] Switch to Microsoft Azure code signing certificate (#12292)\n\n\n### 14.0-RC2 (2024-03-16)\n\n- Update: Bump bundled OpenTTD TTF fonts to version v0.6 (#12276)\n- Update: Developer credits (#12173, #12235)\n- Change: Use (at least) standard toolbar button size for signal selection buttons (#12265)\n- Change: [Script] Match FormatString behaviour more closely (#12205)\n- Fix #12236: Ship pathfinder causes crash when ship is already at destination (#12238)\n- Fix #12225: [Script] Missing AI::ResetConfig support for running AI config (#12226)\n- Fix #12203: When unbunching at a depot, don't overlook implicit orders (#12220)\n- Fix #12196: Always show selected content, even when filtering and disable \"select upgrade\" button when filtering (#12201)\n- Fix #12195: Reset cursor when no Object is selected (#12207)\n- Fix #12176: Ships are circling in one place (#12181)\n- Fix #12154: Incorrect calendar day lengths with minutes per year setting (#12158)\n- Fix #12148: Do not draw decimals when number of digits is 0 (#12150)\n- Fix #12147: Reset all saved settings to their default before loading a game (#12210)\n- Fix #12145: Incorrect date handling in date cheat in wallclock time-keeping mode (#12146)\n- Fix #12134: Use correct error messages if clearing drive-through road stops fails (#12139)\n- Fix #12133: [Script] Don't crash when emergency saving (#12138)\n- Fix #12127: Truncation ellipses rendered shadows even for black font without shadows (#12132)\n- Fix #12119: Remove red warning text when maximum loan is zero (#12141)\n- Fix #12118: When adding an unbunching order, properly check for unsafe conditions (#12136)\n- Fix #12076: Do not allow 'join' command on dedicated servers (#12208)\n- Fix #12010: Use economy timer for vehicle stats minimum age, not calendar (#12142)\n- Fix: Improved ship movement when no path to destination is found (#12285, #12286)\n- Fix: Initialize _switch_mode_time so crash-logs before first game have a realistic time (#12184)\n- Fix: [Script] Only show debug script window at the end of savegame loading (#12135)\n- Fix: [Script] Broken ScriptText circular reference detection (#12187)\n- Fix: Ordering of command per tick limit and pause mode filtering (#12126)\n- Fix: Only reset unbunching departure data in the correct depot (#12155)\n- Fix: Off by one in TimerGameEconomy::ConvertDateToYMD in wallclock mode (#12143)\n- Fix: Missing savegame conversion for current_order (#12188)\n- Fix: Helptext for timekeeping unit setting erroneously refers to vehicle movement (#12172)\n- Fix: Don't show \"insert order\" errors in the console (#12245)\n- Fix: Don't defer OnResize() after ReInit() (#12174)\n- Remove: [Script] random_deviation from setting description table (#12221)\n- Revert #11993: New number format system does not and cannot work for CJK languages (#12157)\n- Revert #11606: Don't auto-build past tunnelbridge ends (#12244)\n\n\n### 14.0-RC1 (2024-02-18)\n\n- Feature: Fully user configurable number format and abbreviations (#11993)\n- Add: Show cargo icons on subsidy list window (#12079)\n- Add: [Script] GetAirportNumHelipads (#12085)\n- Change: Show 6 or 2 orientation buttons in NewGRF road stop picker as appropriate (#12090)\n- Change: Show cargo icons on Industry View window (#12071)\n- Change: Improve performance of finding free pool slots (#12055)\n- Change: Draw north-side farm fences/hedges/walls on tile edge, instead of 1/16th in (#12048)\n- Change: When adding orders, Ctrl+Click on a depot to unbunch, instead of service if required (#12023)\n- Change: Store running AI config inside Company (#12003)\n- Change: Show speed before destination in vehicle status bar (#11932)\n- Change: Replace long list of cargo filter buttons with a multi-select dropdown list (#11552)\n- Change: [Script] Use company randomizer when adding random deviation (#12065)\n- Fix #12074: Don't allow \"part\" command for dedicated servers (#12075)\n- Fix #12052: NewGRFs clearing industry cargo slots could fallback to default instead of empty (#12053)\n- Fix #12050: Add default size, shade and pin control buttons to company livery widget (#12080)\n- Fix #12041: Tarball extraction failing due to incorrect filename (#12044)\n- Fix #12037: Blurry OpenTTD font on Mac OS (#12047)\n- Fix #12029: Don't show Sandbox Options in multiplayer (#12032)\n- Fix #12024: Autoreplace failed news message for trains must go to lead engine (#12025)\n- Fix #12022: Adjust economy date when changing timekeeping units in Scenario Editor (#12042)\n- Fix #12020: Unbunch and service if needed should be mutually exclusive depot order types (#12021)\n- Fix #12019: Correctly highlight depot unbunch action in dropdown (#12021)\n- Fix #12014: Remove water when area clearing ship depot (#12030)\n- Fix #11840: Ship pathfinder always returns a valid trackdir if one is available (#12031)\n- Fix #10983: [AdminPort] Correct order of messages (#11140)\n- Fix #10405: [Script] Test engine and vehicle type validity for ScriptGroup::GetNumEngines (#11887)\n- Fix #10079: Don't render at 1000fps if HW acceleration + vsync is requested but not active (#12067)\n- Fix: Shadows of individual character glyphs could be drawn over other characters (#12115)\n- Fix: Don't invalidate station list on vehicle load/unload (#12112)\n- Fix: NewGRF roadstops were ignored if only in default class (#12089)\n- Fix: Visually also disable vsync when not using HW acceleration (#12066)\n- Fix: Industry tiles and houses could accept incorrect cargo types (#12062)\n- Fix: Redraw orders when a station feature is added/removed (#12061)\n- Fix: For content service, fallback to TCP downloads when HTTP stalls (#12056)\n- Fix: Don't issue autoreplace failed news message for command test mode (#12026)\n- Remove: Setting \"no_http_content_downloads\" (#12058)\n\n\n### 14.0-beta3 (2024-02-06)\n\n- Add: [Script] ScriptTileList_StationCoverage to get station coverage area (#12015)\n- Change: Update OpenTTD TTF fonts to v0.5 (#11994)\n- Fix #12012: Crash when opening orders of another company (#12013)\n- Fix #12001: Use correct valid cargo check for old-style NewGRF town house 3rd cargo set up (#12006)\n- Fix #11997: Adjust economy date by 1920 when loading TTD/TTO savegames (#12007)\n- Fix: Focus hotkey in road/tram stop building window (#12008)\n- Fix: Signals were incorrectly shifted by 1 pixel when selected (#12005)\n- Fix: Missing default vehicles and industry acceptance/production (#12000)\n- Fix: [Script] Avoid overflow in scripts when infinite money is enabled (#12016)\n- Fix: [Script] Don't kill GS misusing GSText (#12009)\n\n\n### 14.0-beta2 (2024-02-04)\n\n- Change: [NewGRF] Improved support for redefining default cargo types (#11719)\n- Fix #11982: Crash when trying to place signals on things other than plain rails (#11977)\n- Fix #11975: Inconsistent behaviour when changing first AI company settings (#11976)\n- Fix #11972: Year cut off in graph windows (#11974)\n- Fix #11968: Crash when opening orders window of new vehicles (#11973)\n- Fix #11966: Monospace text in windows may not have been fully scrollable (#11981)\n- Fix #11802: Made determining water region edge traversability more robust (#11986)\n- Fix: Second colour vehicle-type default liveries were not being updated (#11971)\n\n\n### 14.0-beta1 (2024-02-03)\n\n- Feature: Order option to unbunch vehicles at depot (#11945)\n- Feature: Infinite money mode (#11902)\n- Feature: Setting to disable the loading speed penalty for trains longer than the station (#11682)\n- Feature: Plugin framework for Social Integration with Steam, Discord, GOG, etc (#11628)\n- Feature: Scalable OpenTTD TrueType font made by Zephyris (#11593)\n- Feature: Toyland-specific river graphics (#11523)\n- Feature: Add zoom level buttons to sprite aligner (#11518)\n- Feature: Add shading to river slopes (#11491)\n- Feature: Place cargo icon on cargo filter dropdowns (#11487)\n- Feature: Mode to display timetable in seconds (#11435)\n- Feature: Setting to influence how many minutes a calendar year takes (#11428)\n- Feature: Base graphics can offer parameters for additional settings (#11347)\n- Feature: Sandbox option to lock station ratings at 100% (#11346)\n- Feature: Setting to use real-time \"wallclock\" as timekeeping units (#11341)\n- Feature: Setting to automatically restart server based on hours played (#11142)\n- Feature: Add config option to set default company secondary colour for new games (#11068)\n- Feature: Transparency option for cost and income indicators (#11001)\n- Feature: Create group of vehicles from manage vehicle list button (#10890)\n- Feature: Show coverage highlight the same as stations when adding waypoints (#10875)\n- Feature: Show the number of industries already built in the Fund New Industry window (#10806)\n- Feature: Add search filter and name text to build waypoint window (#10786)\n- Feature: Setting to disallow level crossings with competitors (#10755)\n- Feature: Opt-in survey when leaving a game (#10719)\n- Feature: Replace buying/selling company shares with hostile takeovers of AI companies (#10709, #10914)\n- Feature: Settings to scale cargo production of towns and industries (#10606)\n- Feature: Separate rail/road and sea/air velocity units, and add knots (#10594)\n- Feature: Region-based pathfinder for ships (#10543)\n- Feature: Filter engine build menu by name and NewGRF extra text (#10519)\n- Feature: Industry directory text filter (#10518)\n- Feature: Ctrl+Click to reset late counter for the entire vehicle group (#10464)\n- Feature: Orientation of rail and road depots can be changed (#9642)\n- Feature: Display help and manuals in-game (#7786)\n- Feature: [NewGRF] Town production effect and multiplier (#11947)\n- Feature: [NewGRF] Randomize direction of rail vehicle on build based on probability callback (#11489)\n- Feature: [NewGRF] Related Act2 objects for airports and airport tiles (#11282)\n- Feature: [NewGRF] Allow higher max speeds for ships (#10734)\n- Feature: [NewGRF] Increase limit of objects/stations/roadstops per NewGRF (#10672)\n- Feature: [NewGRF] Road stops (#10144)\n- Feature: [Script] Goal destination can be updated (#10817)\n- Add: Argument for console command \"restart\" to use either current or newgame settings (#11962, #11963)\n- Add: {CURRENCY_SHORT} only did k / m suffix. Add bn / tn and make translatable (#11921)\n- Add: Show in multiplayer the amount of hours a game has been unpaused (#11886)\n- Add: Allow loading heightmaps from command-line (#11870)\n- Add: List_[scenario|heightmap] and load_[scenario|height] console commands (#11867)\n- Add: Latvian Lats currency (#11691)\n- Add: Horizontal scroll for script debug log (#11597)\n- Add: GUI options to select sprite font and AA mode for all fonts (#11593)\n- Add: Website button for basesets in Game Options window, the Game Script settings window and AI settings window (#11512)\n- Add: [Emscripten] Support for bootstrapping (#11109)\n- Add: Hotkey to focus town / industry directory filter box (#11030)\n- Add: Maximum number of companies allowed to the client list (#10523)\n- Add: Use specific error message when vehicle cannot go to station/waypoint (#10494)\n- Add: Show NewGRF name in NewGRF-created errors (#10457)\n- Add: Alternative setting for right-click close window option to exclude pinned windows (#10204)\n- Add: Allow autoreplace with same model vehicle (#7729)\n- Add: [NewGRF] Allow inspection of road tiles and airports (#11282, #11323)\n- Add: [NewGRF] Station variable 6B to get extended station id of nearby tiles (#10953)\n- Add: [NewGRF] String code \"9A 21\" to display force from textstack (#10782)\n- Add: [NewGRF] Station property 1C/1D to set name/classname (#10672)\n- Add: [Script] Optional filter parameter to ScriptXXXList constructors (#11698,#11663)\n- Add: [Script] AI/GS Time Mode to choose between economy (default) and calendar time (#11603)\n- Add: [Script] Allow to set max loan for each company separately (#11224)\n- Add: [Script] GSIndustry.GetConstructionDate() method (#11145)\n- Add: [Script] Game script control of industry production level and news messages (#11141)\n- Add: [Script] GSAsyncMode to set async mode of gamescript commands (#10913)\n- Add: [Script] GSCompanyMode::IsValid and IsDeity, and enforce valid company/deity mode where applicable (#10536, #10529)\n- Add: [Script] Allow GS to found town with random road layout (#10442)\n- Add: [Script] Create own Randomizer per instance (#10349)\n- Change: Better handle different GUI sizes for most windows, and squash inconsistencies between windows\n- Change: Allow configuring AI slots above the current maximum number of competitors (#11961)\n- Change: Forcefully enable prefixing logs with date (#11930)\n- Change: Position error window closer to cursor on large screens (#11923)\n- Change: Only open story-book in center when a GS does it (#11916)\n- Change: Rebrand Cheats as Sandbox Options (#11874)\n- Change: Make smooth-scrolling based on actual time (#11865)\n- Change: Set smooth-scrolling on by default (#11860)\n- Change: Disable building rail infrastructure if train build limit is zero (#11847)\n- Change: Invalidate music volume when restarting music playback on Windows (#11836)\n- Change: Make street lights transparent with houses (#11828)\n- Change: Redesign script debug window (#11782)\n- Change: Reorganize Settings menu items (#11683)\n- Change: Set amount of smoke/sparks to \"realistic\" by default (#11624)\n- Change: Show a message in livery window if vehicle type has no groups (#11617)\n- Change: Add distinct tooltips for vehicle group colour schemes (#11617)\n- Change: Move colour selection dropdowns to bottom of window (#11617)\n- Change: Support custom transparency remaps with 32bpp blitters (#11616)\n- Change: Make \"middle\" the default stopping location for trains in platforms (#11605)\n- Change: Scale sprites to requested highest resolution level (#11600)\n- Change: Allow opening multiple script debug windows by holding Ctrl (#11592)\n- Change: Don't show scoring year in high score table (#11546)\n- Change: Revert pressed-button content shifting introduced in r2161 (#11542)\n- Change: Show rating in station list even with no cargo waiting (#11540)\n- Change: Hide unused cargos from vehicle cargo filter (#11533)\n- Change: Don't restart playback when toggling playlist shuffle (#11504)\n- Change: Increase finance window lines (and underlines) with interface scale (#11459)\n- Change: Move baseset missing/corrupted files label to list item (#11455)\n- Change: Add horizontal scrollbar to Industry Directory window (#11434)\n- Change: Improve layout of airport, dock, object, road/tram stop, train station pickers (#11430)\n- Change: Display cargo lists in sorted cargo order (#11383)\n- Change: Link houses production on industry chain graph by TPE_PASSENGERS or TPE_MAIL cargo (#11378)\n- Change: Passenger subsidies are generated for any TPE_PASSENGER cargo type (#11378)\n- Change: Towns generate cargo based on town production effect (#11378)\n- Change: Always allow expanding towns in Scenario Editor to build new roads (#11377)\n- Change: Don't set vehicle on time if timetable not started (#11359)\n- Change: Store station blocked/wires/pylons flags in map (#11337)\n- Change: Recover when possible from crashes during a crash (#11238)\n- Change: Store crash logs in JSON format (#11232)\n- Change: Remove autosave from settings window; it is already in the Game Options (#11218)\n- Change: Enable \"Forbid 90 degree turns\" setting by default (#11160)\n- Change: Do not allow mixing road/tram types in powered road type list (#11148)\n- Change: Only show platform stopping location in orders when other than default (#11102)\n- Change: Autorail / autoroad tools can start dragging from invalid tiles (#11089)\n- Change: Only allow buying Exclusive Transport Rights when no one has them (#11076)\n- Change: Remove currency code/symbol suffix from language files (#11061)\n- Change: Add separate setting for server sent commands per frame limit (#11023)\n- Change: Cargo flow legend only shows defined cargo (#10872)\n- Change: Use \"Via-Destination-Source\" as default station cargodist display (#10851)\n- Change: Preserve orders and related settings where possible when moving engines around in a train (#10799)\n- Change: Standardise unit conversions and allow decimal places (#10795)\n- Change: Use separate names for default stations/roadstops (#10786)\n- Change: [MacOS] Require at least 10.15 to run the game (#10745)\n- Change: Hide all variants from UI when (display) parent is hidden (#10708)\n- Change: Split Game options into General, Graphics and Sound tabs (#10674)\n- Change: Extend entity override manager and station spec lists to support 16 bit IDs (#10672)\n- Change: Base autosaves intervals on real time (instead of game time) (#10655)\n- Change: Allow overbuilding station and waypoint tiles (#10618)\n- Change: Use realtime for Linkgraph update settings (#10610)\n- Change: Make tick length 27 milliseconds (#10607)\n- Change: Increase max cargo age and let min cargo payment approach zero (#10596)\n- Change: Show buy company dialog window even when playing in the AI company (#10459)\n- Change: Use HTTPS for content-service connections (#10448)\n- Change: Big UFO disaster targets current location of a random train (#10290)\n- Change: Remove land generator setting from World Generation GUI (#10093)\n- Change: Build signals to the next junction when dragging regardless of the Ctrl state (#9637)\n- Change: Allow dedicated server to use threaded saves (#10787)\n- Change: [NewGRF] Increase vehicle random data from 8 to 16 bits (#10701)\n- Change: [NewGRF] Read Action 3 IDs as extended-bytes for all features (#10672)\n- Change: [NewGRF] Make Action 3 debug messages more consistent (#10672)\n- Change: [NewGRF] Extend callback 161 (engine name) with bit 0x22 for context 'Autoreplace - Vehicles in use' (#10666)\n- Change: [Script] Replace easy/medium/hard values with default value (#11959)\n- Change: [Script] Limit total script ops that can be consumed by a list valuate (#11670)\n- Change: [Script] Allow GS access to ScriptGroup, ScriptGameSettings.IsDisabledVehicleType, more ScriptCompany and more ScriptOrder functions (#10642)\n- Change: [Script] Improve ScriptText validation error messages (#10545)\n- Change: [Script] Restore support of {RAW_STRING} in ScriptText (#10492)\n- Change: [Script] Validate ScriptText parameters type and amount (#10492)\n- Change: [Script] Automate the ScriptObject reference counting (#10492)\n- Change: [Script] Extract params info from GS strings (#10492)\n- Change: [Script] A ScriptText with too many parameters is now a fatal error (#10483)\n- Change: [Script] Log AI/GS Squirrel crashes in white text for readability (#10375)\n- Fix #11918: Houses should only build next to road stops, not any station type (#11919)\n- Fix #11827: Make text layouter aware of ligatures (#11831)\n- Fix #11752: Characters could be repeated when wrapping multi-line text (#11761)\n- Fix #11748: Decreasing service interval value sufficiently would result in it wrapping around (#11749)\n- Fix #11629: Crash when getting the nearest town for rotated airports (#11631)\n- Fix #11516: Adjust window size by interface scale during ReInit (#11517)\n- Fix #11515: Changing interface scale could have unintended effects on zoom level (#11615)\n- Fix #11442: \"Default\" colour in group colour window is not updated when changing master colour (#11614)\n- Fix #11437: Flipped shorter rail vehicles disappear in windows (#11446)\n- Fix #11413: Incorrect sorting by industry production (#11414)\n- Fix #11407: Don't steal focus from dropdown menus (#11484)\n- Fix #11402: Make string filter locale-aware (#11426)\n- Fix #11329: Don't assert vehicle list length is non-zero when only asked to set string parameter (#11330)\n- Fix #11315: Sort industries and cargoes by name in industry chain window (#11317)\n- Fix #11307: Incorrect GroupStatistics after selling leading wagon (#11311)\n- Fix #11261: Airport menu selectability after closing window on a class with no available airports (#11344)\n- Fix #11230: Sort by button in group list window could be misaligned (#11231)\n- Fix #11215: Assert in NewGRF parameters window (manual parameter mode) (#11217)\n- Fix #11203: [Linux] Crash when editing CJK characters in edit box (#11204)\n- Fix #11180: Aircraft crashes could point to the wrong tile (#11184)\n- Fix #11164: Don't create duplicate town names when using 'Many random towns' in the scenario editor (#11165)\n- Fix #11162: Second company colour was not consistently applied to articulated vehicles (#11163)\n- Fix #11115: Focus the abandon game/exit game windows (#11125)\n- Fix #11096: Increase priority of error and confirmation windows (#11104)\n- Fix #11087: Disable base graphics/sound dropdown outside main menu (#11091)\n- Fix #11054: Prevent translation of currency codes (#11061)\n- Fix #11026: Use real engine name instead of default name for filtering (#11033)\n- Fix #10982: No help text for gamelog command (#10984)\n- Fix #10880: Crash in object window due to incorrect parameter order (#10881)\n- Fix #10868: Crash when Script tries to load large savegame data (#11029)\n- Fix #10811: Allow dragging vehicle in depot to any free row (#11508)\n- Fix #10660: Sprite Font scale affected by viewport zoom level limits (#10668)\n- Fix #10619: Crash loading linkgraph for older savegames (#10620)\n- Fix #10600: 'Replace Vehicles' didn't show numbers >999 (#10680)\n- Fix #10578: Allow to select any version of AI/GS from GUI (#10604)\n- Fix #10522: Link graph tooltip vertical lines were not handled correctly (#10524)\n- Fix #10511: Don't search for depot every tick if one cannot be found (#11548)\n- Fix #10478: Clarify airport noise control setting texts (#11169)\n- Fix #10452: Prevent long stalls during river generation (#11544)\n- Fix #10430: Display chain window causing assert (#10431)\n- Fix #10343: Don't extend town-disallowed roadtypes (#10347)\n- Fix #10251: [MacOS] Screen looks blue-ish when using newer SDKs (#11207)\n- Fix #10222: Adjust line drawing algorithm (#10491)\n- Fix #10131: Actually cancel downloads when pressing cancel (#10485)\n- Fix #10118: Cycle through current signal group, not just path signals (#11798)\n- Fix #10439: [Script] Validate story page button colour, flags, cursor and vehicle type (#11892)\n- Fix #10438: [Script] Validate story page element type for ScriptStoryPage::NewElement (#11888)\n- Fix #9865: Removing files with the console always failed\n- Fix #9810: Rebuilding a through road stop costs money (#9852)\n- Fix #9722: Crash when pressing hotkeys early in world generation (#11858)\n- Fix #9697: Limit the default width of the Online Players window (#11936)\n- Fix #9642: Keep infrastructure totals when overbuilding road depots (#11229)\n- Fix #9545: Crash when all cargo types are disabled (#11432)\n- Fix #8846: When upgrading NewGRF presets, copy NewGRF parameters only if the NewGRF are compatible (#11348)\n- Fix #8253: Improve profit graph when having lots of money (#11915)\n- Fix #6377: Two tarballs with the same folder in them were considered as one (#11855)\n- Fix #5713: Ships could be sent to unreachable depots (#11768)\n- Fix #4575: Use Latin 'l' in English translation of zloty (#11090)\n- Fix #4415: Land info build date is also renovation date (#11759)\n- Fix: Display rank correctly with more than 15 companies in a league table (#11940)\n- Fix: Extra refit button when train/RV is in a depot (#11904)\n- Fix: Update server listing as offline when unexpected disconnect during refresh (#11891)\n- Fix: Horizontal scale of framerate window switched excessively (#11813)\n- Fix: [Linux] Various issues with resolutions and fullscreen in multi-display setups (#11778, #11779)\n- Fix: Build button text when train purchase window using \"Engines\" filter (#11755)\n- Fix: One-way state remained after removing road from road and tram tile (#11745)\n- Fix: Draw video driver info at the correct size and text wrap (#10716)\n- Fix: Language genders could not be applied to SCC_INDUSTRY_NAME (#11697)\n- Fix: Spurious cancellations of HTTP content downloads (#11668)\n- Fix: Calculation of initial engine age was inaccurate (#11660)\n- Fix: Prevent underflow if engine base life is less than 8 years (#11635)\n- Fix: Changing default livery did not propagate to group liveries (#11633)\n- Fix: Window width/height was doubly-scaled with automatic DPI switch (#11598)\n- Fix: Don't crash when saving a crashlog save with no main window open (#11586)\n- Fix: Prevent overflow when calculating max town noise (#11564)\n- Fix: Deleting towns did not check for waypoints referencing the town (#11513)\n- Fix: Invalidate playlist window when (un)shuffling playlist (#11504)\n- Fix: Restore original cargo legend 'blob' dimensions (#11480)\n- Fix: Extmidi did not move on to next song after playing ends (#11469)\n- Fix: Server password length in the UI was unnecessarily limited (#11408)\n- Fix: OpenTTD can fail to exit on an error due to mutex locks in threads (#11398)\n- Fix: Scale minimum width for server name by interface scale (#11381)\n- Fix: Server connection was not closed when relay window was closed (#11366)\n- Fix: Upgrading NewGRF presets could result in incomplete display of NewGRF parameters until restart (#11348)\n- Fix: Check for engine variant loops during NewGRF initialization (#11343)\n- Fix: Don't allow industries to produce invalid cargo (#11314)\n- Fix: Also apply cargo filters on shared groups in vehicle listing (#11294)\n- Fix: Only count distance traveled in vehicles for cargo payment (#11283)\n- Fix: Base cargo payment on load/unload tile, instead of station sign location (#11281)\n- Fix: Crash when opening a damaged base-graphics (#11275)\n- Fix: Trivial autoreplace of mixed cargo articulated engines (#11253)\n- Fix: [Emscripten] Config not saved on exit (#11248)\n- Fix: Inaccurate waiting cargo total in station window when using cargodist (#11213)\n- Fix: No fast forward in network was ensured only from GUI side (#11206)\n- Fix: Crash when not passing command-line parameter for -n (#11153)\n- Fix: [Bootstrap] Don't crash when failing to connect to content server (#11122)\n- Fix: Crash when failing to load a game into a dedicated server at startup (#11021)\n- Fix: Don't allow changing settings over the network that are marked as local settings (#11009)\n- Fix: Move no_http_content_downloads and use_relay_service to private settings (#10762)\n- Fix: Extra viewport could not be scrolled with right-click-close (#10644)\n- Fix: Specify units for value of share trading age setting (#10612)\n- Fix: Road type is not available before its introduction date (#10585)\n- Fix: Do not update a RV's Z-position when stationary while turning (#10570)\n- Fix: Don't (briefly) switch from title-only playlist on menu screen (#10553)\n- Fix: Reset content download progress to zero if falling back to TCP (#10485)\n- Fix: Make script goals work with the whole range of ClientIDs (#10435)\n- Fix: [NewGRF] Tile slope missing from road stops varact2 variable 0x42 (#11373)\n- Fix: [NewGRF] House class mappings were not reset between games (#11279)\n- Fix: [NewGRF] Profile didn't stop if there were no events yet (#10816)\n- Fix: [NewGRF] Support more than 256 stations/waypoints/roadstops per class (#10793)\n- Fix: [NewGRF] Var68 for station and roadstop was broken (#10784)\n- Fix: [NewGRF] Object and road stop ignore property handlers (#10525)\n- Fix: [Script] Apply random deviation to settings only at script start (#11944)\n- Fix: [Script] Improve ScriptText validation (#11721)\n- Fix: [Script] GSAdmin.Send() could generate invalid JSON (#11250)\n- Fix: [Script] Crash if squirrel compatibility scripts cannot be parsed (#11589)\n- Fix: [Script] Don't list unavailable road types for game scripts (#10585)\n- Fix: [Script] Game scripts were able to build with non-existing road types (#10539)\n- Fix: [Script] Inconsistent precondition failure return values (#10533)\n- Fix: [Script] Crash when companies disappear (#10529)\n- Fix: [Script] ScriptBase::Rand() return value could return negative values (#10443)\n- Fix: [Script] Incorrect value for GOAL_INVALID (#10436)\n- Fix: [Script] Extend Script::IsValidVehicle to check for primary vehicles (#10386)\n- Remove: \"generation_seed\" from config, as it was a write-only value (#11927)\n- Remove: Debug redirect over network (#11776)\n- Remove: Officially mark Vista as no longer supported (#11531)\n- Remove: OS/2 and SunOS ports (#11018, #11210)\n- Remove: Obsolete NewGRF text unprinting (#10884)\n- Remove: [Script] CONFIG_RANDOM from AddSetting flags (#11942)\n\n## 13.x\n\n### 13.4 (2023-07-29)\n\n- Fix: Setting tree lines drawn incorrectly for RTL languages (#11070)\n- Fix #11043: Don't choose toolbar dropdown option if focus is lost (#11044)\n- Fix #10917: Pay loan interest before generating statistics (#11040)\n- Fix #11016: Use after free in network invalid packet error path (#11022)\n- Fix #10987: Double-close of dropdown stopped land-info tool working as default (#11000)\n\n\n### 13.3 (2023-06-11)\n\n- Fix: [Win32] use full monitor resolution for fullscreen (#10985)\n\n\n### 13.2 (2023-06-10)\n\n- Change: [Win32] position window in center of workspace of primary display (#10942)\n- Change: Automatically disable hardware acceleration when GPU driver crashed the game last attempt (#10928)\n- Change: [Linux] Default scroll mode to non-mouse-lock (#10920)\n- Change: Include font style in font name for Freetype (#10879)\n- Fix: Don't restore backed up vehicle name if it's no longer unique (#10979)\n- Fix #10975: Train name wrongly marked as unique when joining trains (#10976)\n- Fix: Crash when not even a single row fits for dropdowns on low resolution screens (#10934)\n- Fix: Crash with tooltip on low resolution screens (#10933)\n- Fix: Crash when window can't be placed on low resolution screens (#10932)\n- Fix #10502: Apply engine refit before attaching free wagons (#10926)\n- Fix: Wayland crash on startup due to Pango also using FontConfig (#10916)\n- Fix: When syncing width of GUI items, take padding into account (#10915)\n- Fix: Make dropdowns self-close when losing focus (#10912)\n- Fix: Land info window maximum width was not scaled (#10894)\n- Fix: Check max member count in squirrel classes (#10883)\n- Fix: Ask FontConfig for the face index when opening fonts (#10878)\n- Fix #10831: Level crossing parts left barred after crossing tile removal (#10874)\n- Fix: Rail waypoint selection window not closed when parent windows closed (#10873)\n- Fix #10846: [Script] Crash on trying to allocate an excessively large array (#10848)\n- Fix: [Win32] Text line breaking did not properly handle punctuation characters (#10775)\n- Fix: [Emscripten] Crash when saving games (#10758)\n- Fix: [Win32] Wrong multi-line text layout due to incorrect whitespace handling (#10752)\n- Fix #10741: Rail platforms left partially reserved after train crash (#10751)\n- Fix: Shaded engines in purchase list incorrectly shaded (#10736)\n- Fix #10735: [NewGRF] {POP_COLOUR} fails if string is drawn with extra flags (#10736)\n- Fix #8177: Ships with max speed overflow to near-zero speed (#10695)\n- Fix #10289: Don't silently fail when setting timetable start dates (#10690)\n- Fix #8302: Improve \"Maintenance intervals are in percents\" helptext (#10686)\n- Fix #10665: \"No vehicles are available yet\" message did not appear correctly on non-temperate climates (#10673)\n- Fix #10630: Don't allow shifting service date earlier than year 0 (#10643)\n- Fix #10637, #10638: Incorrect water infrastructure totals when building certain object types (#10639, #10640)\n- Fix: Abort loading savegame if road vehicle is on invalid road type (#10622)\n\n\n### 13.1 (2023-04-10)\n\n- Add: [NewGRF] Engine name callback for nested variants. (#10399)\n- Fix: Improve main toolbar tooltips (#10616)\n- Fix: [NewGRF] Additional validation for Action3 (+others) (#10601)\n- Fix: Clear button for editbox didn't take account of padding (#10583)\n- Fix: [Script] Access to enum/consts defined outside of main.nut (#10573)\n- Fix #10568: Bogus warning when loading a save with a NewGRFs on dedicated servers (#10572)\n- Fix #10554: Crash when scrolling in the autoreplace window with collapsed variants (#10555)\n- Fix: Network server highlight invisible with RTL languages. (#10551)\n- Fix: Client name was not being used as company manager name (#10535)\n- Fix: Prevent road vehicles on crossing from crashing into the side of a train (#10496)\n- Fix #10477: [macOS] Calculation for window sizes when using custom fonts was being rounded incorrectly (#10489)\n- Fix #10486: Crash in debug window when GS started before AIs (#10487)\n- Fix #10469: [Script] Negative numbers in League Table window were sorted incorrectly (#10471)\n- Fix #10465: Crash on timeout if user never enters a password for server (#10466)\n- Fix #10280, #10461: Crash on opening town windows as a spectator (#10462)\n- Fix #10059: Script config values stored in the config file could cause crashes (#10444)\n\n\n### 13.0 (2023-02-05)\n\n- Change #10077: Make maximum loan a positive multiple of the loan interval (#10355)\n- Fix #10361: [Script] Don't try to give saved data to a dead script (#10433)\n- Fix #10419: Water infrastructure accounting when building ship depots and docks (#10432)\n\n\n### 13.0-RC2 (2023-01-28)\n\n- Feature: Press Ctrl to build a diagonal area of trees (#10342)\n- Feature: Set a custom number of industries in map generation window (#10340)\n- Change: Display font status as aa/noaa instead of true/false (#10352)\n- Fix: [Script] Improved API documentation for scripts (#10413, #10412)\n- Fix #10255: Reduce basic thickness of linkgraph GUI lines (#10410)\n- Fix #10220: Don't select unselectable engine as default (#10404)\n- Fix #10395: When loading old saves, don't forcibly bar level crossings (#10400)\n- Fix #10377: Bad sorting of rail vehicles when primary variant is missing (#10378)\n- Fix #10368: Server restarting game caused clients to hit assertion (#10369)\n- Fix #10362: NewGRF bridges without speed limits (#10365)\n- Fix #10363: CargoDist setting helptext shouldn't suggest symmetric distribution for diamonds in subtropic (#10364)\n- Fix: [Script] Switch to OWNER_TOWN prevented OWNER_DEITY test during industry prospecting (#10360)\n- Fix #10009: Bad overflow protection when taking out loans (#10359)\n- Fix #9865: Removing files with the console always failed (#10357)\n- Fix #10057: FallbackParagraphLayout fails to properly wrap (#10356)\n- Fix #10177: Company list password padlock showed after switching to single player (#10354)\n- Fix: Various Wide River issues (#10348)\n- Fix: Link variants to parents when finalising engines (#10346)\n- Fix #10333: Only show industry prospecting errors to local company (#10338)\n- Fix #10335: Set initial scrollbar count for object GUI (#10336)\n- Fix #10331: Starting new company during load must happen after AI start (#10332)\n- Fix #10309: [SDL] Uninitialized width and height when turning off full screen (#10328)\n- Fix #10032: Capacities of articulated vehicles in build window (#10326)\n- Fix: Improve handling of corrupt NewGRF or image files (#10321, #10316)\n- Fix: [NewGRF] Don't assume engclass 2 should be elrail (#10315)\n- Fix: [Script] AIGroup.GetProfitLastYear could get values different than those displayed in GUI (#10227)\n- Fix #10304: [Scripts] Don't start GS in intro game (#10305)\n- Fix: [Script] Copy compat files for version 13 (#10303)\n\n\n### 13.0-RC1 (2023-01-01)\n\n- Feature: 'font' console command to configure fonts within game (#10278)\n- Feature: Ctrl-click to bulk edit timetable speeds/waiting times (#10265)\n- Feature: [NewGRF] Vehicle variants in expandable purchase list (#10220)\n- Feature: Expand all towns in the scenario editor (#10215)\n- Add: [NewGRF] Slope-aware and roadtype-specific one-way sprites (#10282)\n- Change: Display text files in black (#10291)\n- Change: Make vehicle list dropdown buttons resize to fit strings (#10286)\n- Change: [NewGRF] Support flipping shorter engines without explicit support (#10262)\n- Change: Separate ground sprite from foundation sprite offsets (#10256)\n- Change: Vertically centre sprite font relative to TrueType font (#10254)\n- Change: [macOS] Set minimum macOS version to 10.13 (#10253)\n- Change: Use lowered not disabled widget for current vehicle details tab (#10252)\n- Change: Various improvements to NewGRF sprite aligner (#10249)\n- Change: reset_engines console command now rerandomises introduction dates and reliability (#10220)\n- Change: Show error message on failed industry prospecting (#10202)\n- Fix: Local authority window rating list height ignored icon sizes (#10285)\n- Fix #10150: Town signs could be truncated when using custom fonts (#10283)\n- Fix #8971: Resize QueryStrings with interface scale change (#10281)\n- Fix #10274: Crash when rescanning scripts with GS selected (#10276)\n- Fix #10151: Use smaller padding for signs (#10272)\n- Fix #10263: [Script] Restore tile validation for commands (#10269)\n- Fix: Missing scrollbar for rail/roadtype dropdowns (#10264)\n- Fix #10260: Incorrect rect height drawing image in vehicle details (#10261)\n- Fix #10257: Incorrect catenary position on sloped bridge heads (#10258)\n- Fix: Vertically centre chat prompt (#10250)\n- Fix #10214: League and graph buttons in toolbar did not have a default action (#10246)\n- Fix #10242: Allow a space for text shadow when clipping text (#10243)\n- Fix #10206: Fully disable scripts in intro game (#10241)\n- Fix #10218: Don't try to create river tiles along incorrect slopes (#10235)\n- Fix #10208: [NewGRF] Allow using a specific underlay for road/tram tunnels (#10233)\n- Fix #10224: Don't change fast-forward mode while saving (#10230)\n- Fix #10147: Sound effect volume slider no longer set volume (#10228)\n- Fix #10223: Crash when vehicle cloning fails on order cloning (#10225)\n- Fix: Maximum space for engine preview image was never scaled (#10219)\n- Fix #10216: Crash when upgrading savegame with crashed vehicles (#10217)\n- Fix #10212: [Script] Nested ScriptAccounting scopes not restored properly (#10213)\n- Fix #10114: Incorrect drag-highlight position with non-power-of-2 scaling (#10211)\n- Fix #10198: Rearrange Intro GUI to make button rows narrower (#10203)\n- Fix: Missing extra padding when drawing tooltip text (#10201)\n- Fix: Bad alignment of button icons when using the original baseset (#10200)\n- Fix: Signal icons incorrectly positioned in UI (#10199)\n- Fix #10021: Object GUI resized when switching between different objects (#10196)\n- Fix #9720: Delay start of GS/AI to after loading of savegame (#9745)\n\n\n### 13.0-beta2 (2022-11-27)\n\n- Feature: Allow AI/GS to be fully modified in scenario editor (#10152)\n- Feature: Display power-to-weight ratio in ground vehicle details GUI (#10123)\n- Feature: Variable interface scaling (with chunky bevels!) (#10114)\n- Feature: Hotkey to honk a vehicle's horn (#10110)\n- Feature: Split AI/Game Script configuration windows and add them to world gen window (#10058)\n- Feature: [GS] Scriptable league tables (#10001)\n- Feature: Multi-track level crossings (#9931)\n- Feature: Improved local authority action window (#9928)\n- Feature: Automatic console command screenshot numbering with a filename ending in '#' (#9781)\n- Feature: Add buttons to toggle music in the Game Options menu (#9727)\n- Feature: Contextual actions for vehicles grouped by shared orders (#8425)\n- Feature: Add cargo filter support to vehicle list (#8308)\n- Feature: Show the cargoes the vehicles can carry in the vehicle list window (#8304)\n- Change: Allow building canal by area outside editor (#10173)\n- Change: Minor improvements to the new Finance GUI (#10168)\n- Change: Let AI developers edit non-editable AI/Game Script Parameters (#8895)\n- Change: Allow building docks on clearable watered object tiles (#8514)\n- Fix #8770: Center vehicle status bar icon (#10178)\n- Fix: Crash if error message window is too wide for screen. (#10172)\n- Fix #10155: Network games not syncing company settings properly (#10158)\n- Fix #10154: Network game desync related to setting a random company face (#10157)\n- Fix #10011: Incorrect infrastructure totals when overbuilding bay road stop (#10143)\n- Fix #10117: Object burst limit allowed one fewer object than the setting (#10120)\n- Fix #10023: Allow negative input in text fields when needed (#10112)\n- Fix #9908: Fix crash which could occur when a company was deleted when a depot window was open (#9912)\n\n\n### 13.0-beta1 (2022-10-31)\n\n- Feature: Airport construction GUI displays infrastructure cost (#10094)\n- Feature: Purchase land multiple tiles at a time (#10027)\n- Feature: Add sticky pin & shade widgets to Object Selection UI panel (#10019, #10020)\n- Feature: Improved handling of HiDPI and mixed-DPI screens (#9994, #9996, #9997, #10064)\n- Feature: Alternative linkgraph colour schemes (#9866)\n- Feature: Allow Shift+Insert as paste in edit box (#9836)\n- Feature: Setting to make the local town authority rubber-stamp all actions (#9833)\n- Feature: Add/extend console commands to enable screenshot automation (#9771)\n- Feature: [Linkgraph] Show a tooltip with statistics when hovering a link (#9760)\n- Feature: Build objects by area (#9709)\n- Feature: Add setting to hide news about competitors vehicle crash (#9653)\n- Feature: Ctrl-click to remove fully autoreplaced vehicles from list (#9639)\n- Feature: Wide rivers on map generation (#9628)\n- Add: [Script] ScriptCargo::GetWeight to get cargo weights (#9930)\n- Add: Command line option to skip NewGRF scanning (#9879)\n- Add: Show video driver name in Game Options window (#9872)\n- Add: [NewGRF] Map seed as global variable (#9834)\n- Add: [Script] IndustryType::ResolveNewGRFID to resolve industry id from grf_local_id and grfid (#9798)\n- Add: [Script] ObjectType::ResolveNewGRFID to resolve object id from grfid and grf_local_id (#9795)\n- Update: To all the friends we have lost and those we have gained (#10000)\n- Change: Use the Simulation subcategory to openttd.desktop (#10015)\n- Change: Constantly update destination of 'any depot' orders (#9959)\n- Change: Use an indent, not a dash, to list train capacity (#9887)\n- Change: [NewGRF] Increase vehicle sprite stack from 4 layers to 8 (#9863)\n- Change: Don't pay Property Maintenance on stations when Infrastructure Maintenance is disabled (#9828)\n- Change: Improved layout of the finance window (#9827)\n- Change: [Admin] Bump admin port protocol due to command changes (#9754)\n- Change: Suppress vehicle age warnings for stopped vehicles (#9718)\n- Change: Make pf.yapf.rail_firstred_twoway_eol on by default (#9544)\n- Change: Deliver cargo to the closest industry first (#9536)\n- Fix: Lots of fixes to how windows handle resizing (#10040, #10042, #10046, #10051, #10056, #10068, #10070, #10098)\n- Fix: Console commands list_ai output was truncated with a suitably large number of AIs (#10075)\n- Fix #9876: MacBook Touch Bar crash / render issues w/ 32bpp graphics (#10060)\n- Fix: Reduce framerate overhead in Train::Tick (#10055)\n- Fix: Only open scenario editor date query once (#10050)\n- Fix #10048: Don't relocate company HQ on the same exact location (#10049)\n- Fix #10038: Missing upper bounds check when loading custom playlists (#10039)\n- Fix: Wrong string used to determine size of zoomed out station sign (#10036)\n- Fix: Disable \"turn around\" button for other companies' road vehicles (#10033)\n- Fix: Online Players list mouse hover behaviour (#10031)\n- Fix: [NewGRF] Weirdness of new stations (#10017)\n- Fix #9854: DrawStringMultiLine() could draw beyond its bounding box (#10014)\n- Fix: Incorrect player name in online players window (#10013)\n- Fix #8099: News window zoom level fixes (#10005)\n- Fix: [NewGRF] Upper 16 random bits should be the same for all station tiles in callback 140 (#9992)\n- Fix #9989: 0 Net Profit is neither negative nor positive (#9991)\n- Fix #9804: Only apply sprite_zoom_min setting when sprites available (#9988)\n- Fix #9972: Add missing fill/resize flags on Framerate window widgets (#9982)\n- Fix #9935: Use more selectivity when building SSE specific code (#9980)\n- Fix #9940: Print debuglevel parse errors to console when changed from console (#9979)\n- Fix #9977: Clearing the console with a large number of lines could cause a crash (#9978)\n- Fix #9974: Console command getsysdate did not work due to off-by-one error (#9975)\n- Fix: [NewGRF] Default value of RailVehicleInfo::railveh_type was inconsistent with other default properties (#9967)\n- Fix #8584: Vehicles with shared orders getting invalid or unexpected start dates (#9955)\n- Fix #9951: [NewGRF] Scenario editor random industries button broke NewGRF persistent storage (#9952)\n- Fix: Validation of various internal command parameters that could have allowed a rogue client to crash servers (#9942, #9943, #9944, #9945, #9946, #9947, #9948, #9950)\n- Fix #9937: Station industries_near incorrect after removing part moved sign (#9938)\n- Fix: [Script] ScriptRoad::HasRoadType really check for RoadType (#9934)\n- Fix #9363: Rebuild client list on reinit event (#9929)\n- Fix #9925: Industry tile layout validation for layouts of only one tile (#9926)\n- Fix #9918: Reset industy last production year on scenario start (#9920)\n- Fix #9914: Prevent more useless pathfinder run for blocked vehicles (#9917)\n- Fix: List a max of four share owners instead of three (#9905)\n- Fix: [NewGRF] Industry layouts with zero regular tiles should be invalid (#9902)\n- Fix #9869: Remove docking tile when doing a clear square (#9898)\n- Fix: New player companies use favorite manager face, if saved (#9895)\n- Fix: Towns don't build parallel, redundant bridges (#9891)\n- Fix #9712: Cap town bridge length at original 11-tile limit (#9890)\n- Fix #9883: Show cost/income float over end tile of rail or road construction (#9889)\n- Fix #9870: Don't update infrastructure totals when overbuilding object on canal (#9888)\n- Fix #9877: GS could trigger 'Cost: 0' cost message (#9878)\n- Fix 44f2ef1: [strgen] Allow gender for {CARGO_SHORT} (#9873)\n- Fix #9867: Industry::stations_near not filled at industry creation (#9868)\n- Fix #9853: Incorrect merge of guiflags and flags for osk_activation (#9855)\n- Fix #6544: Don't join AI company when loading network game in singleplayer (#9794)\n- Fix: Company values do not properly account for shares (#9770)\n- Fix #9546: Crash when no industries are present in game (#9726)\n- Fix #9708: [Linkgraph] Don't assume vehicles have a non-zero max speed (#9693)\n- Fix #9665: [Linkgraph] Fix travel times of non-direct journeys (#9693)\n- Fix #8797: Use logical rail length when placing signals (#9652)\n- Cleanup: [NewGRF] Remove unused flag sprites (#10052)\n\n## 12.x\n\n### 12.2 (2022-04-02)\n\n- Feature: Remember the last-used signal between games (#9792)\n- Change: [MacOS] Allow touchbar usage on all supported OS versions (#9776)\n- Change: Add a timestamp in name of crash files (#9761)\n- Fix #9736: Duplicate multiplayer window opens upon canceling password entry (#9842)\n- Fix: Removing long roads doesn't prioritise refusal of local authority over other errors (#9831)\n- Fix #9020: Glitchy station coverage highlight when changing selection (#9825)\n- Fix: Correct some Romanian town names (#9819)\n- Fix: Original music playback rate was slightly too fast (#9814)\n- Fix #9811: Use the NewGRF-defined vehicle center when dragging ships and aircraft (#9812)\n- Fix: Do not let shares in the company taking over another company disappear (#9808)\n- Fix #9802: Crash when using lots of NewGRF waypoint types (#9803)\n- Fix #9766: Don't write uninitialised data in config file (#9767)\n- Fix #9743: [MacOS] Don't try to render touchbar sprites with invalid zoom level (#9776)\n- Fix #9774: Building roadstop in estimation mode updates station acceptance (#9775)\n- Fix: If vehicles only refit to cargo-slots >= 32, the default cargo was wrong (#9744)\n- Fix #9735: Possible desync when replacing a depot on same tile (#9738)\n- Fix #9730: [Network] Connections can use an invalid socket due to a race condition (#9731)\n- Fix: Don't show sign edit window for GS-owned signs (#9716)\n- Fix #9702: Display order window for vehicle group on ctrl-click only when using shared orders (#9704)\n- Fix #9680: Crash when loading really old savegames with aircraft in certain places (#9699)\n- Fix: Update last servicing dates when using the date cheat (#9694)\n- Fix: Error message shows about missing glyphs while suitable fallback font is found (#9692)\n\n\n### 12.1 (2021-11-08)\n\n- Feature: Button to toggle showing advanced signal types (#9617)\n- Change: Don't show screenshot GUI in screenshots (#9674)\n- Change: Suppress panning in intro game, while user is interacting with the GUI (#9645)\n- Change: Draw rotor in cursor when dragging helicopters in depots (#9612)\n- Fix: Invalid memory access when loading a currency NewGRF (#9675)\n- Fix #9579: Object and HQ construction is Construction cost, not Property Maintenance (#9673)\n- Fix #9669: Ships exiting a blocked depot/lock could exit in the wrong direction (#9672)\n- Fix: Every 16th client never reconnects after server restart (#9666)\n- Fix #9643: Screenshots were always written as BMP files (#9644)\n- Fix #9630: Intro game could zoom in/out more than allowed by settings (#9633)\n- Fix #9626: Incorrect loading of script saved data (#9629)\n- Fix: Emergency crash save had the wrong NewGRF list saved in it (#9627)\n- Fix #9595: Always use plural forms of cargo for subsidy strings (#9619)\n- Fix #9614: Refresh rate dropdown was still active when vsync was enabled (#9618)\n- Fix: Don't use 'server address' string in server list when displaying an invite code (#9615)\n\n\n### 12.0 (2021-10-17)\n\n- Add: [Network] Keep the refresh button in lowered state while refreshing (#9600)\n- Add: Console command to list search directories for various things (#9583)\n- Fix: Try all possible reverse directions when a ship reaches a dead end (#9610)\n- Fix: Incorrect Romanian own name (#9598)\n- Fix #9591: Update station docking tiles upon placing a water object on a docking tile (#9594)\n- Fix #9548: [Squirrel] Crash during engine cleanup after reaching memory limit on realloc (#9592)\n- Fix #9588: [Squirrel] Reaching memory limit during script registration could prevent further script detections (#9589)\n- Fix: Make ships more likely to find their destination at the cost of slightly worse paths (#9576)\n- Change: Reverse ship when leaving docks if a better path exists (#9610)\n- Change: Allow all tiles around docks to be docking tiles (#9578)\n\n\n### 12.0-RC1 (2021-09-25)\n\n- Feature: Display icon/text whether vehicle is lost in vehicle (list) window (#9543)\n- Feature: [MacOS] Add selected toolbar buttons to MacBook Pro Touch Bar (#9511)\n- Feature: Button to open order window from vehicle shared orders window (#9325)\n- Feature: Ctrl-Clicking shared order vehicle list opens order window (#9325)\n- Feature: Multiple rotating views on title screen (#8980)\n- Feature: Hide block signals in GUI by default (#8688)\n- Add: [Script] Allow GameScripts to build neutral objects (#9568)\n- Add: [Network] Allow sending chat messages via admin port (#9563)\n- Add: [AI/GS] Missing water related functions and objects (#8390)\n- Fix: Industry funding window did not update when changing funding method (#9572)\n- Fix #9562: [NewGRF] Handle case of invalid Action2 with zero results (#9564)\n- Fix: Incorrect error messages when placing water in scenario editor (#9560)\n- Fix #9484: Update locale currencies settings config map (#9559)\n- Fix: Prevent train reversing when entirely inside a train depot (#9557)\n- Fix: [Network] Add back 'Spectate' option to company toolbar menu (#9556)\n- Fix #9463: [Win32] Work around XAudio2 crashes (#9549)\n- Fix #8603: Don't give focus to text filter when opening Object GUI (#9547)\n- Fix #9241: Grove and forest tree brushes did not also create rainforest terrain (#9542)\n- Fix: [Network] Several crashes in our network code (#9534, #9456)\n- Fix #9527: Crash when trying to place multi-tile objects at map edge (#9529)\n- Fix: [Network] SendCmdNames only sent one name per packet (#9528)\n- Fix #9407: Desync when founding a town nearby a station (#9526)\n- Fix #9521: Don't load at just removed docks that were part of a multi-dock station (#9524)\n- Fix: Ships always tried to avoid docking tiles when pathfinding (even if nothing was on them) (#9522)\n- Fix: [Network] Convert server_advertise to server_game_type in config file (#9515)\n- Fix #9490: [Network] A full server couldn't be queried (#9508)\n- Fix: [Network] Don't show GameScript \" (v0)\" for old servers (#9507)\n- Fix: [Network] Show query errors in the server listing instead of error popup (#9506)\n- Fix: [Network] Crash when last-joined server was no longer available (#9503)\n- Fix #9501: [Network] Crash when more than one game-info query was pending (#9502)\n- Fix: Wrong error message when building canals over ship depots / locks (#9410)\n- Fix: Reduce cost of building canals over objects on sea (#9410)\n- Change: [Linkgraph] Delete links only served by vehicles stopped in depot (#9499)\n\n\n### 12.0-beta2 (2021-08-19)\n\n- Feature: [Linkgraph] Prioritize faster routes for passengers, mail and express cargo (#9457)\n- Fix: Wrong town window refreshed when building an airport with noise levels enabled (#9497)\n- Fix: Improve wording of network-related messages (#9494, #9495, #9500)\n- Fix: [Network] Report reuse of invite-code (#9487)\n- Fix: [Network] Connecting with the same client name thrice hangs the server (#9485)\n\n\n### 12.0-beta1 (2021-08-15)\n\n- Feature: [Network] Remove lobby window; pressing \"Join Game\" now immediately joins a server (#9467)\n- Feature: [Network] Synchronize server name to clients and display in Online Players window (#9472)\n- Feature: [Network] Mention you are a spectator in the status bar (#9471)\n- Feature: [Network] No longer require port-forwarding to host a server (#9443, #9447)\n- Feature: [Network] Allow setting your server visibility to \"invite-only\" (#9434)\n- Feature: [Network] Join servers based on their invite code (#9432)\n- Feature: Raise the maximum NewGRF limit to 255 (#9428)\n- Feature: Persistent rotation of numbered auto/netsave after restart (#9395, #9397)\n- Feature: [NewGRF] Maximum curve speed modifier for rail vehicles (#9346)\n- Feature: Move sensitive information to secrets.cfg and private information to private.cfg (#9298)\n- Feature: Signed Windows builds (#9294)\n- Feature: [NewGRF] Define refittability of default vehicles using cargo classes (#9148)\n- Feature: Configurable subsidy duration, up to 5000 years (#9081)\n- Feature: [Network] Rework in-game Online Players window (#9067)\n- Feature: [Network] Show previous chat history when the chat message box is open (#9025)\n- Feature: Button to reset game settings to their default values (#8958)\n- Feature: Press Ctrl to build diagonal rivers in Scenario Editor (#8880)\n- Feature: Set wagon replacement per group when using autoreplace (#7441)\n- Add: [Network] Open Online Players window on starting/joining a server (#9479)\n- Add: [Script] Basic information about loaded NewGRFs for scripts (#9464)\n- Add: [AI] Get the number of vehicles in a given group (#9462)\n- Add: [Network] Inform network clients what game-script a server is running (#9441)\n- Add: Hindi translation (#9086)\n- Add: [Network] Ensure players fill in a name instead of defaulting to \"Player\" (#9080)\n- Change: Allow pause/unpause console command in single player (#9342)\n- Change: Make savegame format self-descriptive and consistent across all objects (#9322, #9335, #9338, #9339)\n- Change: By default, make \"unload all\" leave stations empty (#9301)\n- Change: Reworked the debug levels and messages for network logs (#9230, #9251)\n- Change: [Emscripten] Set default scrolling mode to non-pointer-locking (#9191)\n- Change: Use neutral pronouns for various strings (#9189, #9203, #9228)\n- Change: Make the town directory horizontally resizable (#9157)\n- Change: Allow non-ASCII currency separators (#9121)\n- Change: [NewGRF] Display a pop-up window for Errors with severity ERROR (#9119)\n- Change: Treat languages as finished, if translations are 75% completed (#9019, #9086)\n- Change: Disable NewGRF window apply button if no change was made (#8934)\n- Fix: [Script] Crash when iterating lists of which the key is larger than 32bit (#9465)\n- Fix: [Network] Desync due to use of unstable sort when distributing cargo production (#9460)\n- Fix #9440: Negative cargo payments not being handled correctly (#9455)\n- Fix: [Network] Crash when joining a server again after a TCP disconnect (#9453)\n- Fix: Don't enable rename button for network clients in build vehicle window (#9452)\n- Fix: Money could underflow and wrap around (#9451)\n- Fix: Parse the console settings the same way as config settings (#9438)\n- Fix: Ensure no more than the allowed number of NewGRFs are loaded from the configuration (#9430)\n- Fix: [NewGRF] Overflow when determining cargo mask for string code 9A 1E (#9423)\n- Fix: Integers for scripts are 64bit, but saved as 32bit (#9415)\n- Fix #9392: [Script] Return a valid value with GetBuildWithRefitCapacity even when AIs are maxed out in vehicles (#9393)\n- Fix #8169: Crash when autoreplacing vehicle with no orders (#9387)\n- Fix: Wrong cargo line position in IndustryCargo window (#9383)\n- Fix: Race-condition during startup of NewGRF scan (#9382)\n- Fix: Don't propagate Shift/Ctrl state till next game-tick (#9381)\n- Fix: Prevent palette updates during copying to the video driver (#9379)\n- Fix: [Network] Determining GetNetworkRevisionString could overflow and underflow its buffer (#9372)\n- Fix #9358: Don't skip empty files in tar archives (#9367)\n- Fix: For old savegames, station bus/truck station cache was not updated (#9366)\n- Fix #9353: [Script] Garbage collecting on priority queues could crash the game (#9356)\n- Fix: Respect the autosave_on_exit setting for Null video driver (#9343)\n- Fix: Compatible NewGRFs in crash-log reported wrong MD5 hash (#9340)\n- Fix: [Script] Ensure the saved script strings are properly validated and terminated (#9336)\n- Fix #9316: Town bridge length limit check incorrect above 250k inhabitants (#9318)\n- Fix: Limit heightmap sizes to 8192x8192 (#9307)\n- Fix #9281: Money generating exploit when buying out a company (#9300)\n- Fix: Part of a tile might not be redrawn when terraforming (#9296)\n- Fix: [OpenGL] Increase timeout when waiting for the GPU to be done with the drawing buffer (#9282)\n- Fix: Vehicles sent in the wrong direction if there is no path to the destination (#9280)\n- Fix #9264: Do not attach temporary wagons to free wagon chains when autoreplacing (#9278)\n- Fix #9267: [Script] Crash during garbage collection (#9275)\n- Fix: Encountering two-way red signals could prune unrelated Pathfinder branches (#9271)\n- Fix #9255: [Network] Crash when hostname is not found (#9259)\n- Fix #9256: Invalid read after free when replacing train chains (#9258)\n- Fix: [Emscripten] Force secure WebSockets over HTTPS (#9248)\n- Fix #9242: Tree tick handler did not scale by map size (#9246)\n- Fix: [Network] Mark server as offline when no longer reachable (#9244)\n- Fix: [Network] Don't rebuild the host-list during iterating the list (#9240)\n- Fix: [Network] Don't mark the last-joined server as a manually added server (#9239)\n- Fix: [Network] Clients leaving because of broken connections was not broadcasted (#9238)\n- Fix: [Network] Check on CIDR for netmask check considered everything valid (#9235)\n- Fix: Creating screenshots on dedicated servers failed (#9232)\n- Fix: Leaking file descriptors for downloaded content (#9229)\n- Fix: Spelling of several town names (#9222)\n- Fix #9209: Game hangs when resizing highscore/news window if the screen is too small (#9210)\n- Fix: [Network] Optimize creating network connections for clients using IPv4 and IPv6 (#9199)\n- Fix #9186: Fix incorrect bounding box height causing station sprite glitch (#9187)\n- Fix: Truncating strings in settings could leave invalid UTF-8 characters (#9121)\n- Fix: Many issues related to window scaling (#9087, #9219)\n- Fix: Invalidate cached vehicle colourmaps when changing liveries setting (#9006)\n- Fix #8981: Don't attempt to re-reserve path if already entering/entered depot (#9000)\n- Fix: Missing 'Town names:' colon in map gen GUI (#8986)\n- Fix: Sorting and filtering industries that produce/accept many cargoes (#8468)\n- Remove: [Network] COMPANY_INFO packets (#9475)\n- Remove: [Network] A server can no longer set a limit to the amount of spectators allowed (#9466)\n- Remove: Arbitrary limit on number of statically loaded NewGRFs (#9431)\n- Remove: [Network] Language and map-name from server information (#9070)\n\n\n## 1.11.x\n\n### 1.11.2 (2021-05-03)\n\n- Change: [Win32] Limit hardware accelerated video driver to OpenGL 3.2 or higher (#9077)\n- Change: More improvements to the GUI at different scales (#9075, #9102, #9107, #9133, #9174, #9183)\n- Fix: Query windows could be partially drawn (#9184)\n- Fix #9113: Crash when removing an airport that exists in an aircraft's orders (#9182)\n- Fix #9117: [Fluidsynth] Hang when changing song (#9181)\n- Fix: String validation could leave invalid UTF-8 encoded strings (#9096)\n- Fix: [Network] Out-of-bounds memory access with modified servers sending too short password salts (#9176)\n- Fix: Crash when extra viewport with zero height has sign in view (#9175)\n- Fix #9147: Crash when taking screenshots (#9169)\n- Fix #6598: [Network] Prevent crashes when (re)joining network game by falling back to main menu first (#9163)\n- Fix #9152: Screenshot success popup window was treated as an error (#9159)\n- Fix: Fast-forward stuttering when vsync is enabled (#9140)\n- Fix: [Network, Win32] Network errors were handled badly (#9116)\n- Fix: [Network] Savegame transfer could stall in rare cases (#9106)\n- Fix #9097: [NewGRF] Cargo initial payment variable was being truncated (#9098)\n- Fix: [NewGRF] Industry variable 66 and object variable 46 erroneously truncated the distance (#9088)\n- Fix: [NewGRF] Industry variables 65 and 66 ignored the parameter, and always used the north tile (#9088)\n- Fix: Do not include regression test AI in bundle (#9068, #9164)\n- Fix #9062: [Win32] Version in executable was not set to current release version (#9066, #9154)\n\n\n### 1.11.1 (2021-04-18)\n\n- Feature: Toggle to enable/disable vsync (#8997)\n- Feature: Volume controls in the Game Options window, and better defaults (#8943)\n- Add: Hotkey to focus object and rail filters (#8908)\n- Add: Better plural support for Romanian (#8936)\n- Change: Improve layout and spacing of several windows at different GUI scales (#9041, #9042, #9044, #9050)\n- Change: [Win32] Use user UI language setting for initial language selection (#8974)\n- Change: Make effect volume scale more intuitively (#8945, #8950)\n- Change: Improve padding of Object & Rail station windows (#8929)\n- Fix #6322: [Script] Crash when script allocates too much memory, now kills script instead (#9047)\n- Fix #7513: [Script] Crash on garbage collection with misbehaving script (#9040)\n- Fix #9028: [OpenGL] Crash when changing max sprite zoom level (#9032)\n- Fix #8874: show a warning when a NewGRF scan is requested multiple times (#9022)\n- Fix: Desync when GS unlocks railtype with wagon unlock (#9021)\n- Fix #9015: [Win32] Crash on running \"pwd\" command in the console (#9016)\n- Fix #9008: Validate starting year given on the command line (-t) (#9014)\n- Fix #8878: [Network] Slow DNS queries could block the server and disconnect clients (#9013)\n- Fix: Improve validation of OpenGL video driver to avoid crashes (#9007)\n- Fix: Credits scrolled too slowly with larger font sizes (#8994)\n- Fix #8977: Crash when altering max sprite resolution (#8993)\n- Fix #8956: Industry disaster news messages showed the wrong location (#8992)\n- Fix: [Win32] Font glyphs of certain widths had broken rendering (#8990)\n- Fix #8930: [Win32] Duplicate text input issue for systems using IME (#8976)\n- Fix: [Network] Potential stale client entries in client list (#8959)\n- Fix: Graphical issues when dragging measurement tooltips (#8951)\n- Fix: [Fluidsynth] Use provided default soundfont if available (#8948, #8953)\n- Fix #8935: [macOS] Crash on save (#8944)\n- Fix #8922: Crash when selling shared vehicles with shared vehicle window open (#8926)\n- Fix: Compiling on armhf (Raspberry Pi) (#8924)\n\n\n### 1.11.0 (2021-04-01)\n\n- Feature: Allow setting a custom terrain type to define highest peak (#8891)\n- Feature: Auto-detect map height limit based on generated map (#8891)\n- Feature: Setting to indicate desert coverage for tropic climate and snow coverage for arctic climate (replaces snow line height) (#8891)\n- Add: Allow setting the highest mountain for heightmaps (#8891)\n- Change: Scale exported heightmaps to highest peak and inform the user of this value (#8891)\n- Change: Remove \"maximum map height\" from the New Game GUI (#8891)\n- Fix #8803: Only auto-remove signals when rail can be built (#8904)\n- Fix #8565: Stopped road vehicle displays a speed different than 0 (#8901)\n- Fix #8886: Don't try to resolve folders within tars named '.' (#8893)\n- Fix: Placing random trees in SE crashes the game (#8892)\n- Fix #8875: Filter string in station window breaks flow in user interface (#8885)\n- Fix #8871: [OpenGL] Initialize all buffers after resize and clear back buffer (#8877)\n- Fix: OpenGL performance with some AMD GPUs (#8876)\n- Fix: Recompute road/railtype availability after disabling the engine (#8872)\n- Fix: OSK layout not scaled for 2x or 4x GUI scale (#8868)\n\n\n### 1.11.0-RC1 (2021-03-14)\n\n- Feature: Option to (dis-)allow hardware accelerated video drivers (#8819)\n- Feature: Option to set display refresh rate (#8813)\n- Feature: Allow custom width/height of screenshot and making heightmap screenshots via console (#8804)\n- Feature: Allow filtering on name in rail station window (#8706)\n- Feature: Setting for highest resolution of sprites to use (#8604)\n- Add: Make NewGRF Scanner / World Generation update smoother and make aborting it react faster (#8830)\n- Add: Malaysia Ringgit as Currency (#8783)\n- Add: \"Engines only\" filter in build train window (#8733)\n- Change: De-limit framerate window's framerate (#8772)\n- Change: Clarify what effect town interactions have (#8744)\n- Change: Don't show global goals in company goal windows (#8709)\n- Change: Recolour graph windows to brown (#8700)\n- Fix #8855: Bootstrap could result in an empty screen when bootstrap fails (#8856)\n- Fix #8851: Don't allow infinite \"exec\" depth in script, but limit to 10 deep (#8852)\n- Fix #8647: Incorrect drawing order of tram catenary sprites (#8843)\n- Fix #8711: Having gui_zoom lower than zoom_min causes a crash (#8835)\n- Fix #8810: \"aircraft out of fuel\" news shows the wrong place (#8832)\n- Fix #8833: Don't reload NewGRFs when we are shutting down (#8830)\n- Fix: Scale padding between elements the same as other padding (#8829)\n- Fix #8808: [OSX, OpenGL] Crash on switching blitters due to double-mapping the video buffer (#8822)\n- Fix #8784: Using Alt+Enter doesn't update the fullscreen toggle visibly (#8820)\n- Fix #8817: Keep NewGRF order for object class sorting (#8818)\n- Fix #8809: Crash when removing airport when hangar window open (#8815)\n- Fix #8799: Crash when Search Internet in Multiplayer (#8801)\n- Fix #8775: [Win32] Don't create the main window when Alt-Tabbing back into fullscreen (#8792)\n- Fix #8774: Black screenshots when using 40bpp-blitter (#8791)\n- Fix: [OSX] Hide dock when entering fullscreen (#8789)\n- Fix: Bootstrap fails to start on clean install (#8788)\n- Fix: Terraform limit acts random when maxing out per_64k_frames setting (#8782)\n- Fix: Max-value of fast-forward-speed-limit can be outside its storage size (#8769)\n\n\n### 1.11.0-beta2 (2021-02-28)\n\n- Feature: Add setting to limit fast-forward speed (#8766)\n- Feature: Significant performance improvements to all video drivers (#8605, #8652, #8660, #8685, #8702, #8703, #8707, #8726, #8740)\n- Feature: Configurable display refresh-rate, default to 60fps (#8680)\n- Feature: Automatically upload releases to Steam (#8644)\n- Feature: Generic Linux builds (#8641)\n- Feature: [GS] Allow non-question type windows to have no buttons (#8638)\n- Feature: [macOS] ZIP build (#8614)\n- Feature: Object class selection string filtering (#8603)\n- Feature: 'Remove all industries' button in scenario editor (#8550)\n- Feature: Automatic UI and font zoom levels when supported by the OS (#8537)\n- Feature: [macOS] Render screen at native resolution by default for HiDPI screens (#8519)\n- Feature: OpenGL video driver (#7744)\n- Add: Indonesia Rupiah currency (#8616)\n- Change: Improve graph period markings (#8732)\n- Change: Make pathfinder account for maximum order speed, if set (#8722)\n- Change: Darken graph grid lines for legibility (#8690)\n- Change: Make order window hotkeys toggle for load & unload variants (#8669)\n- Change: Use a more specific error message when attempting to bulldoze your own HQ (#8667)\n- Change: Convert .md to .rtf for Windows/Mac packages (#8617)\n- Change: Move the 'tree placer algorithm' & 'road drive side' settings to the Settings window (#8566)\n- Change: Move town name generator selection to mapgen GUI (#8566)\n- Change: [macOS] Native font rendering (#8518)\n- Fix: Display of network lobby windows for different GUI sizes (#8765)\n- Fix: Don't desync if client leaves before you finish downloading map (#8755)\n- Fix: Allow estimating vehicle clone cost even if short on money (#8748)\n- Fix: Don't notify twice that a client left because of a timeout (#8746)\n- Fix: Vehicle cursor size did not account for the interface zoom level (#8739)\n- Fix #8123: Trams on half-tiles couldn't find depots (#8738)\n- Fix #8276: [NewGRF] Crash when an object's size was not set (#8719)\n- Fix #8349: Close depot vehicle list windows when closing the depot window (#8717)\n- Fix #8594: [NRT] Road pathfinder did not account for roadtype speed limits or lengths of tunnels/bridges (#8710)\n- Fix: Whole status bar instead of money widget refreshed on money change (#8692)\n- Fix: Unnecessary status bar redraws when there is no news to show (#8691)\n- Fix: New orders are non-stop by default (#8689)\n- Fix: Framerate window showed a slightly higher rate than actually measured (#8682)\n- Fix: Autorenew failure advice due to bad refit being shown to all companies (#8681)\n- Fix #8625: Wrong ending year was displayed in highscore table (#8672)\n- Fix #8620: Scale spacing between date & news in history window according to font scaling (#8671)\n- Fix: [Win32] Set minimum resolution for timers to 1ms (#8660)\n- Fix: Mention our websites with https:// (instead of http://) (#8657)\n- Fix: [Emscripten] Open links in browser (#8655)\n- Fix: Don't crash when towns upgrade road tiles during expansion (#8651)\n- Fix #8029: [SDL2] Blank display when under Wayland (#8648)\n- Fix: Default Network Server List sorter put compatible servers in wrong order (#8626)\n- Fix: Use non-pulsating red highlight for coverage (#8622)\n- Fix: Center text and image in vehicle statusbar vertically (#8602)\n- Fix: Don't walk out of the map when trying to build tunnels (#8600)\n- Fix: Off-by-one error in desert/rainforest positioning at world gen (#8588)\n- Fix #8037: Crash when restarting AI that is controlling the same company as the player (#8587)\n- Fix: Stopped ships shouldn't block depots (#8578)\n\n\n### 1.11.0-beta1 (2021-01-22)\n\n- Feature: [GS] Ability to set some extra text in the industry window (#8576)\n- Feature: Show rainforest under vegetation on smallmap (#8562)\n- Feature: Automatically determine window size on new install (#8536)\n- Feature: Towns can build tunnels (#8473)\n- Feature: Make maximum length of town bridges depend on population (with a minimum limit of 4) (#8439)\n- Feature: New icons for renaming and go-to-location on GUI windows, and improve consistency of usage (#8455)\n- Feature: Support for ARM64 on Apple Silicon and Windows (#8340, #8577, #8583)\n- Feature: Add an option to disable tree growth completely (#8415)\n- Feature: Support for Emscripten (play-OpenTTD-in-the-browser!) (#8355)\n- Feature: Show group name as part of the default vehicle name (#8307)\n- Feature: \"Frozen\" economy setting that stops production changes and industry closures (#8282)\n- Feature: New velocity unit \"tiles/day\" (#8278)\n- Feature: Option to automatically remove signals when placing rail (#8274)\n- Feature: Increase max possible distance from border for oil refineries and rigs (#8237)\n- Feature: Improve tree planting window, and allow planting 'clumps' of trees by dragging in the scenario editor (#8234)\n- Feature: Indian Rupee (INR) currency (#8136)\n- Feature: [GS] Ability to give a company exclusive access to an industry (#8115)\n- Feature: Hotkeys for Land Info window, News window & close error window (#8053, #8266)\n- Feature: Improve rendering of large viewports (#7962)\n- Feature: [GS] Influence industry production changes from GameScript (#7912)\n- Feature: [GS] Push-buttons on storybook pages (#7896)\n- Feature: Option to group vehicle lists by shared orders (#7028)\n- Feature: Drag-and-drop vehicles in group GUI for shared order groups (#7028)\n- Add: [GS] A tile parameter to GSCompany::ChangeBankBalance for showing changes more visually (#8573)\n- Add: [NewGRF] Allow NewGRF vehicles to query the current rail/road/tram type (#8554)\n- Add: [Script] ScriptCargo::GetName for the human readable name of cargoes (#8544)\n- Add: \"reload\" console command to reload the current scenario or heightmap (#8527)\n- Add: [NewGRF] Flag to test if inflation is on or off (#8427)\n- Add: [Script] Native priority queue (useful for things like pathfinders) (#8091)\n- Add: [NewGRF] Industry behaviour flag to override second cargo production clamping for water industries when using smooth economy (#8079)\n- Change: [SDL2] Start game on the screen where the cursor is (#8572)\n- Change: Use a dark background for all profit graphs to increase contrast (#8557)\n- Change: Reword warning in cheat window (#8538)\n- Change: Enable the toolbar for road/rail/dock/airport, regardless of vehicle availability (#8521)\n- Change: For arctic and tropical climates, make sure at least a few hills are generated (#8513)\n- Change: Destroying a tunnel/bridge now sells the tracks before destroying the tunnel/bridge (#8508)\n- Change: Move \"give money\" from client-list to company window (#8500)\n- Change: [MacOS] Hide Dock and menu when in fullscreen mode (#8487)\n- Change: Improve performance for complex vehicle chains by resolving sprites less frequently (#8485)\n- Change: Make engine reliability independent of introduction date (#8470)\n- Change: Some default settings to improve gameplay for new players - default non-stop orders on, disable inflation, quick goto orders, show track reservations, and more (#8463)\n- Change: Converting town-owned road types now requires a positive town rating (#8457)\n- Change: Rework server list buttons for searching LAN/internet servers (#8426)\n- Change: Add some styling to GS question windows depending on the type (#8422)\n- Change: [Linkgraph] Speed up game exit by allowing job threads to be aborted early (#8416)\n- Change: Prevent towns from building dead-end road bridges (#8401)\n- Change: Send network error to the server before making an emergency save (#8387)\n- Change: Extend the allowed range for max loan setting up to 2 billion (#8386)\n- Change: Don't display OS name when exiting the game (#8366)\n- Change: Save openttd.cfg immediately on changing a setting (#8358)\n- Change: Autorenew now defaults to on (#8352)\n- Change: [NewGRF] Also use aircraft property 12 for helicopters (#8347)\n- Change: Service at depot also resets breakdown chance (#8317)\n- Change: Use key names instead of characters in hotkey.cfg (#8291)\n- Change: Allow command cost-estimation while paused (#8222)\n- Change: Always apply inflation from 1920 to 2090, no matter the game start year (#7589)\n- Change: Use CMake for build system (#7270)\n- Change: [Linkgraph] Pause the game when linkgraph jobs lag (#7081)\n- Change: Place \"Group by\" above \"Sort by\" in station window for consistency (#7028)\n- Fix #8589: Prevent desyncs with vehicle motion counters and NewGRFs (#8591)\n- Fix #7670: Improve pathfinder performance when lost vehicles are blocked from moving (#8568)\n- Fix: Inform user if a custom font failed to load due to missing glyphs (#8559)\n- Fix: Don't allow wagon chains (without an engine) to exceed maximum train length (#8533)\n- Fix #7619: Super fast NewGRF aircraft could be unable to land (#8531)\n- Fix: Improve connection retries for the content server in cases of broken networking (#8530)\n- Fix #7972: Show invalid orders to stations that don't accept the vehicle (#8516)\n- Fix: Error when trying to clone a vehicle with invalid orders (#8515)\n- Fix #8050: Various off-by-one errors in how the end-year of the game was used (#8512)\n- Fix #8332: Aborting vehicle group drag & drop could cause crashes (#8511)\n- Fix #8168: Allow relocating HQ partially over an existing HQ (#8510)\n- Fix #8068: Allow selling tram track regardless of bank balance (#8509)\n- Fix #7604: Prevent houses from wandering away from roads (#8507)\n- Fix: Make the \"password\" button the same size as the other buttons in the Company window (#8500)\n- Fix #7611: Keep news about vehicle accidents around after the vehicle is cleaned up (#8497)\n- Fix: [MacOS] Full animation in fullscreen mode was reducing the height of the window (#8491)\n- Fix: [MacOS] Loading custom fonts (#8484)\n- Fix: Network client makes emergency saves twice if the server is disconnected (#8477)\n- Fix #8462: Stop towns from trying to build roads on water (#8471)\n- Fix: [NewGRF] GetCurveSpeedLimit should use the railtype from the current tile (#8466)\n- Fix #8437: Crash when using certain heliports with certain rotated airports (#8458)\n- Fix #8437: Planes would land at the wrong height if the top corner of the airport was lowered (#8458)\n- Fix #8297: Infrastructure counters for road tunnels, bridges & depots (#8454)\n- Fix #6468: Don't store the version of AIs that are started via console (#8430)\n- Fix: Don't lower tree density if spreading is not enabled (#8413)\n- Fix: Prevent savegame version conflicts with certain old patchpacks (#8411)\n- Fix: [NewGRF] Variable 0x44 was always HZB_TOWN_EDGE for road stops (#8400)\n- Fix #8313: Use correct capitalization for TTO / DOS music files in the baseset metadata (#8385)\n- Fix: [NewGRF] Action 7/9 conditions 0x0F to 0x12 failed, if 'param' was 0x88 (#8382)\n- Fix: Change the working-dir searchpath when using '-c' (#8367)\n- Fix: Useless warning with -snull and no BaseSounds available (#8361)\n- Fix: Crash trying to load TTO/TTD savegames. (#8356)\n- Fix: [Script] Don't echo script exceptions to console (#8331)\n- Fix: Slovak ownname was using the wrong form (#8326)\n- Fix #8311: [NewGRF] Industry probability at map generation was scaled differently when set via property or callback (#8312)\n- Fix: Only check houses for cargo when generating subsidies with towns (#8305)\n- Fix: Sprite preview in sprite aligner was too small with scaled UI (#8288)\n- Fix: Spell 'Viewport' consistently (#8260)\n- Fix #7772: Show vehicle destination on mouseover when vehicle stopped (#8236, #8543)\n- Fix #8232: Huge screenshot warning was shown incorrectly (#8224)\n- Fix #8153: Report incompatible cargo/order when autoreplace fails (#8169)\n- Fix: [Script] ScriptMarine::AreWaterTilesConnected did not work for aqueducts (#8074)\n- Fix #7645: Add cost of clearing the sloped tile to the price of a dock (#7947)\n- Fix #6452: Reset only editable and visible settings from GUI (#7890)\n- Fix: Original terrain generator did not keep a single gap of water at the borders (#7883)\n- Remove: In-game console command \"content select all\" (#8363)\n- Remove: [OSX] Support for OSX older than 10.7, including QuickTime music driver (#8078)\n\n\n## 1.10.x\n\n### 1.10.3 (2020-08-09)\n\n- Change: Also make roadside trees match the tree transparency option (#8245)\n- Fix: Center text and icons in the status bar vertically (#8273)\n- Fix: [NRT] Set invalid road and tram types for rail tunnel ends (#8269)\n- Fix #7980: Properly invalidate mouse-over station coverage highlight (#8263)\n- Fix #8250: [NRT] Company infrastructure window always omits last road/tramtype (#8251)\n- Fix #8162: [NRT] Improve error message when converting town owned road (#8247)\n- Fix #8216: Don't show floating text on autoreplace if cost is 0 (#8244)\n- Fix #8129: Crash if a news message expires while viewing the endgame screen (#8243)\n- Fix #8221: Use more specific error message when a bridge is too long (#8240)\n- Fix #8230: Resolve \"..\" when opening files in .tar (#8231)\n- Fix: A few race conditions in netcode (#8227, #8228, #8229)\n- Fix #7838: Crash relating to group creation and renaming (#8223)\n- Fix #8104: [SDL2] Fix window resizability when going from fullscreen to windowed mode (#8211)\n- Fix: Display banlist's indexes correctly (#8209)\n- Fix: Possible desync with subsidy creation (#8159)\n- Fix #8131: Draw small bridges pillars in more places (#8149)\n\n\n### 1.10.2 (2020-06-01)\n\n- Add: Ubuntu 20.04 packages (#8127)\n- Fix: [OSX] Possible crash on failure to set colourspace (#8181)\n- Fix #8166: Prevent crash from a NewGRF with an invalid RoadType (#8180)\n- Fix #8024: Make Online Content GUI more responsive while loading (#8179)\n- Fix #7970: Disable event loop when generating crash dump (#8176)\n- Fix: [Build] Compatibility with modern Visual Studio (#8170)\n- Fix: Trees would disappear completely after a few years if tree spread was disabled (#8160)\n- Fix #8155: Roadtype speed limit in scenario editor toolbar dropdown was doubled (#8156)\n- Fix: Desync after house replacement (#8151)\n- Fix #8137: New clients can't join (desync) after funding an industry (#8140)\n- Fix #8132: Corrupted savegame with station with multiple owners caused a crash (#8134, #8142)\n- Fix: Stop gamelog when recovering from a savegame load error (#8133)\n- Fix: Exceptionally unlikely issue when reading MIDI files (#8125)\n- Fix #8119: Docking areas were not properly updated when clearing, causing desyncs (#8124, #8130)\n- Fix #8117: Memory leak for incoming admin port packets (#8122)\n- Fix: Non-roadbridges potentially had roadtype information set (#8111)\n- Fix #8108: Possible crash on loading TTD savegames with phantom oil rigs (#8109, #8110)\n- Fix #8093: Build & refit test run changed game state and could cause desyncs (#8103)\n- Fix: [Script] AreWaterTilesConnected did not handle aqueducts properly (#8074)\n\n\n### 1.10.1 (2020-04-13)\n\n- Fix #8081: Crash when placing a ship depot next to a dock (#8082)\n- Fix: [GS] A Goal's QuestionID was getting truncated (#8072)\n- Fix #8064: Refit capacity could be displayed incorrectly in extreme edgecases (#8065)\n- Fix #8060: Restore admin network API compatibility (#8061)\n- Fix #8055: Crash when roadtype availability changes with the road construction toolbar open (#8058)\n\n\n### 1.10.0 (2020-04-01)\n\n- Change: Open company window when clicking on a company goal (#8033)\n- Change: [SDL2] Support pasting from clipboard on Linux (#8004)\n- Fix: [Script] Random deviation upper bound range should be inclusive (#8052)\n- Fix #8043: Incorrect handling of global road/tram hotkeys caused a crash (#8044)\n- Fix #8039: [Script] SetOrderFlags and GetOrderDestination didn't work for oil rigs (#8040)\n- Fix: [Script] CanBuildConnectedRoadPartsHere neighbours tiles were incorrect if you started a new game with a different world size (#8036)\n- Fix: Ignore clicks on non-applicable global goals (#8035)\n- Fix #7613: Limit News Window to 1024 messages to keep it usable and avoid overflowing scrollbars (#8026)\n- Fix #7644: [OSX] Hopefully improve performance by manually set colorspace to sRGB (#8023)\n- Fix #8020: Add missing docking tiles around industry neutral stations (#8021)\n- Fix: GUI tramway icon only contained a single set of tram tracks (#8015)\n- Fix: Station with multiple docks had the wrong tile area (#8014)\n- Fix #8011: Crash when loading TTD scenario containing a dock (#8012)\n- Fix #7998: Crash when scripts tried to access companies with invalid IDs (#8010)\n- Fix: Crash when attempting to draw a string containing nonprintable characters (#8005)\n- Fix #6399: Directory ~/.local/share not created if it didn't already exist (#8003)\n- Fix #7958: Custom catenary missing on road bridges (#7991)\n- Fix #7944: Demolishing locks built on rivers didn't always restore the river (#7946)\n\n\n### 1.10.0-RC1 (2020-02-09)\n\n- Feature: Allow server to supply a reason to kicked/banned clients (#7859)\n- Feature: [NewGRF] Station variable 6A, querying GRFID of nearby station tiles (#7956)\n- Feature: Improved logic of sharing industry production between 3 or more stations (#7922)\n- Feature: Highlight the item under mouse cursor in file browser (#7900)\n- Feature: [GS] Methods to change town rating of companies (#7898)\n- Feature: [NewGRF] Callback profiling command (#7868)\n- Feature: Add a setting to show the name of the NewGRF of a vehicle in the build window (#7852)\n- Feature: Ability to filter industry directory window by cargo (#7843)\n- Feature: Minimap screenshot type (#7817)\n- Feature: [GS] Methods to control engine availability of a specific company (#7791)\n- Feature: Configurable game ending year (#7747)\n- Feature: Separate window for taking screenshots (#7550)\n- Change: Move autorenew setting to basic category (#7984)\n- Change: Improved algorithm for transfer feeder payments (#7935)\n- Change: Show volume sliders with wedges instead of boxy slider (#7902)\n- Change: Auto-restart loads the original resources (e.g. save or scenario) again (#7688)\n- Change: Improve readability of integer lists saved to config files (#7396)\n- Fix #7976: Crash when attempting to kick the host via rcon (#7985)\n- Fix #7592: Road vehicles no longer balanced between multiple road stop stations (#7979)\n- Fix: Station rating effects affecting too large area (#7977)\n- Fix #7974: Crash when Ctrl+click to show a collapsed vehicle group (#7975)\n- Fix #7969: Crash when executing a recursive console alias (#7973)\n- Fix #6566: Very long loading of the maximum \"zoom out\" level at high resolutions (#7968)\n- Fix #7952: Crash when switching input languages (#7953)\n- Fix: [OSX] Don't show a crash/assertion message box for a GUI-less video driver (#7934)\n- Fix #7925: Corrupt savegames could lead to corruption of the titlegame (#7932)\n- Fix: [Fluidsynth] Music notes from previous song were not properly reset (#7930)\n- Fix: Invalid string usage within music window (#7928)\n- Fix: Non-deterministic name sorting in industry directory window (#7915)\n- Fix #7899: Various issues with town list window sorting (#7906, #7916)\n- Fix #7587: Fix possible crashes when loading old save games with invalid waypoint positions (#7894)\n- Fix: Avoid a crash by properly resetting timetable duration when loading old savegames (#7894)\n- Fix: Possible crash when post road-works cleanup removes all road pieces (#7903)\n- Fix #7891: Fix crash when loading save from 1.7.2 (#7892)\n- Fix #7887: Missing sound effects for some main toolbar buttons (#7888)\n- Fix #6667: Avoid confusion by also recalculating bridge costs for 'spectated' AI companies (#7884)\n- Fix: Allow old NewGRF industries to hide in/out cargo slots (#7882)\n- Fix: [Windows] Fix bootstrap GUI with Uniscribe but no Freetype (#7878)\n- Fix: Missing keycodes for hotkeys.cfg (#7850)\n- Fix #7625: Ensure road infrastructure cost is correctly updated when upgrading your own roads (#7628)\n- Fix #7088: Avoid crash by closing AI/GS textfile windows when changing their in-game slot (#7094)\n\n\n### 1.10.0-beta2 (2019-12-25)\n\n- Feature: [Script] More error mappings (#7857)\n- Feature: Ctrl+Click on a vehicle in the vehicle group window selects and scrolls to the vehicle's group (#7800)\n- Feature: Ctrl+Click on the vehicle details button in the vehicle view window opens the vehicle group window focused on the vehicle (#7800)\n- Feature: Add a button to the vehicle advisory news window to open the vehicle's group window (#7800)\n- Feature: Ctrl+Click on a vehicle in the vehicle list window opens the vehicle group window focused on the vehicle's group (#7800)\n- Fix: Custom sea level default value is now equal to minimum value (#7866)\n- Fix: [NewGRF] Various tracktype fixes (#7863)\n- Fix: Infrastructure total update when removing tram road stop (#7856)\n- Fix #7847: Use ViewportSign coordinates for sign Kdtree coordinates (#7849)\n- Fix #7836: Check coherency of NewGRF parameter min/max (#7840)\n- Fix #7673: [Script] Allow removal of custom town text (#7834)\n- Fix: Crash when displaying an error message at map edges (#7833)\n- Fix #7783, #7816: [SDL2] Fix input handling in edit context (#7825)\n- Fix #7697: Tile query on HQs did not display cargo correctly (#7824)\n- Fix #7820: Possible game crash when removing oil rig (#7821)\n- Fix #7606: Rare crash when trying to clean up a crashed script (#7819)\n- Fix #7784: [SDL2] up/down/home/end key behaviour (#7815)\n- Fix #7631: 16 out cargo support for industry directory (#7809)\n- Fix #7646: Crash on random map generation failure (#7805)\n- Fix #7430: Only reset time since pickup when train visits station if it has room to load (#7595)\n- Fix #5405: Aircraft could route to depots outside their range (#7104)\n\n\n### 1.10.0-beta1 (2019-10-29)\n\n- Feature: Configurable minimum age for companies before allowing share trading (#7780)\n- Feature: Filter on town list window (#7621)\n- Feature: Ability to show Newspaper and Ticker messages in parallel (#7612)\n- Feature: Show coverage area for stations and towns (#7446)\n- Feature: Collapsible vehicle groups (#7417)\n- Feature: More flexible docks - can now have multiple per station, ships can use any part of dock (#7380)\n- Feature: [NewGRF] Railtype flags to allow/disallow 90 degree curves (#7352)\n- Feature/Change: Non-rectangular catchment area for sparse stations (#7235)\n- Feature: Improved performance for road vehicle pathfinding (#7261)\n- Feature: Option to show local authority boundary of towns (#7025)\n- Feature: Experimental method of town cargo generation that scales linearly with population (#6965)\n- Feature: [NewGRF] RoadTypes (NRT) (#6811)\n- Add: [Win32] Select MIDI device by port name (#7666)\n- Add: 'getsysdate' console command (#7658)\n- Add: Currencies NTD, CNY, HKD (#7596)\n- Add: Icons to vehicle construction drop down lists (#7358, #7485)\n- Add: Security warning to players that company passwords are not truly secure (#7351)\n- Add: [Script] Various API functions for managing vehicle groups (#7225, #7336, #7716)\n- Add: SDL2 video driver (#7086)\n- Change: Inactive industries do not make sound effects (#7752)\n- Change: [Win32] Use native GDI engine for rendering fonts (#7572)\n- Change: Scale oil refinery edge distance limit by map size (#7514)\n- Change: Do not display a news message about old vehicles when a replacement for it is activated (#7401)\n- Change: When filtering purchase list by cargo type, buy button now performs a refit if required (#7301)\n- Change: Don't apply forbid 90 deg turn settings to ships, and make penalties for turns configurable (#7289, #7372)\n- Change: Make the chance of an aeroplane crashing at an airport with a short runway independent of plane crash setting (#7302)\n- Change: Keep town growth rate in sync with house count (#6777)\n- Fix #6219: Improve helicopter's ability to takeoff from commuter and international airports (#7710)\n- Fix #6407: Show snowy ground sprites for train depots (#7671)\n- Fix: Power/running cost sorting algorithm was not correct when power was higher than running cost (#7561)\n- Fix: Tweaks to small-map colours to make dark blue company more visible (#7436, #7450)\n- Fix: [SDL] Do not offer video smaller than 640x480 (#7442)\n- Fix: Incorrect display of industry production around tiles (#7426)\n- Fix: Show industry name in Land Area Information window for industries with neutral stations instead of just 'Oil Rig' (#7349)\n- Fix: Remove redundant and broken file lookups when loading base sets (#7348)\n- Fix: Always report error when ordering a road vehicle to wrong type of road stop (#7316)\n- Fix #7043, #7274: Improve performance when creating towns during world creation (#7284)\n- Fix #7062: Remove ship max order distance (#7279)\n- Fix #7189: Fluidsynth volume gain too high (#7253)\n- Fix: Add setting for whether industries with neutral stations (e.g. Oil rigs) accept and supply cargo to/from surrounding stations to fix exploit as old as TTO (#7234)\n- Fix: Properly reset dropdown menu windows after changing AI/GS settings (#7092)\n- Remove: DOS, MorphOS, AmigaOS & BeOS support (#7326, #7388)\n- Remove: Original Path Finder (#7245)\n\n\n## 1.9.x\n\n### 1.9.3 (2019-09-16)\n\n- Change: Use natural sort when sorting the file list (#7727)\n- Fix #7479: Don't close construction windows when changing client name (#7728)\n- Fix #7731: Files sorting by modification time on Windows XP (#7731)\n- Fix #7644: [OSX] Better solution for colourspace/performance issues (#7741)\n\n\n### 1.9.3-RC1 (2019-09-07)\n\n- Add: Can now click industries to make orders to their neutral station (e.g. oil rig) (#7709)\n- Fix #7644: [OSX] Poor framerate on certain systems (#7721)\n- Fix #7702: Highscore screen UI scaling (#7714)\n- Fix #7704: [OSX] Handle malformed UTF8 strings, leading to crashes in server browser (#7705)\n- Fix #7188: [AI] Possible crash when reloading an AI in multiplayer games (#7701, #7725)\n- Fix: RemoveAirport function now returns 'Aircraft in the way' error message when occupied (#7690)\n- Fix: Spelling in running costs setting help text (#7686)\n- Fix #7655: 'Decrease' buttons in cheat window not working properly with UI scaling (#7669)\n- Fix: [GS] Could not create elements on Storybook pages with ID > 255 (#7657)\n- Fix #7626: Allow building road stops over town-owned one-way roads, instead of crashing (#7627)\n\n\n### 1.9.2 (2019-07-07)\n\n- Change: Set default setting in server browser of \"Advertised\" to \"Yes\" (#7568)\n- Change: Allow building road stops over self-owned one-way/blocked road (#7547)\n- Fix #7463: Promote scroll mode setting to basic category (#7586)\n- Fix: Inconsistent GUI scaling (#7539)\n- Fix #7491: Send company update admin message when bankruptcy counter changes (#7492)\n- Fix #7553: Check bounds when loading strings (#7554)\n- Fix: Really increase the maximum number of GameScript texts to 64k (#7555)\n- Fix: Crash when attempting to load old save game with GRFs set (#7546)\n- Fix #6507: Don't try to load invalid depots from older savegames (#7546)\n- Fix: Railtype bits were moved too late, leading to rails under bridges losing their type (#7546)\n- Fix: Bounds check access to railtype_map (#7529)\n- Fix: Spurious errors when using more than 32 railtypes (#7533)\n- Fix #7633: Allow zero-cost track conversion to succeed (#7634)\n- Fix #7577: Check if linkgraph station index is valid before dereferencing (#7583)\n- Fix #7224: Drag and drop vehicle group creation does not work correctly (#7581)\n- Fix #7570: Show Github URL in the crashlog window (#7571)\n- Fix: Clicking on scrollbar 'thumb' moved position up instantly (#7549)\n- Fix #7255: Prevent crashlog corruption by only printing the 32 most recent news messages (#7542)\n- Fix #5685: Check for free wagons in ScriptVehicleList (#7617)\n- Fix: Make GSGoal.QuestionClient work correctly at least for clients with ID < 2**16 (#7560)\n- Fix #6666: Mismatched parentheses in RTL languages (#7480)\n- Fix: [Windows] Various reliability and correctness improvements to MIDI on Windows (#7620)\n\n\n### 1.9.1 (2019-04-08)\n\n- Fix #6564: Enforce types of arguments for station name strings (#7419)\n- Fix #7433: Don't use AirportSpec substitute if it's not enabled (#7435)\n- Fix #7447, #7466, #7476: Missing NewGRF strings due to Action 4 feature check skipping pseudo-feature 48 (#7449)\n- Fix #6222: Advanced sprite layout sometimes showed incorrect railtype ground tile. (#7460)\n- Fix #7439: CompanyRemoveReason overwritten by ClientID (#7465)\n- Fix: [Windows] Incorrect error handling could lead to cascading error windows (#7482)\n- Fix #7478: Don't remove NewGRF objects on company take-over. (#7483)\n\n\n### 1.9.0 (2019-04-01)\n\n- Fix #7411: Use industry production callback (if used) on initial industry cargo generation (#7412)\n\n\n### 1.9.0-RC2 (2019-03-24)\n\n- Fix #7400: WaterClass for tree tiles was not converted for old saves preventing industry creation (#7405)\n- Fix: Filtered file list did not scroll properly (#7402)\n- Fix #7391: Don't invalidate go to depot orders of non-aircraft when invalidating hangar orders that happen to share IDs (#7392)\n- Fix #7386: Measurement tooltip for tunnels, aqueducts & docks did not display or flickered (#7389)\n- Fix: Wrong company performance rating when money exceeds INT_MAX (#7382)\n- Fix: Permit loading of industry production callback with invalid cargo type (#7364)\n- Fix: Spelling for a few real town names (#7338)\n- Fix: Runway too short for large aircraft message should not depend on plane crashes setting (#7325)\n- Fix #7334: Ship lost after crossing bridge due to path cache not being consumed while on final bridge end (#7335)\n\n\n### 1.9.0-RC1 (2019-03-03)\n\n- Add: Various AI/GS functions for vehicle groups (#7225)\n- Change: Synchronise introduction date and reliability randomness across vehicles with the same base introduction date (#7147)\n- Change: Allow towns to build bridges over rails and one-way roads (#7291)\n- Fix: Detection of coast tiles with trees on them (#7309)\n- Fix: Emergency netsave saved the title game instead of the broken game in question (#7298)\n- Fix: Company livery window showed incorrect groups when opened in multiplayer (#7288)\n- Fix: Unable to select last group in open livery window (#7283)\n- Fix: Goto hangar orders were not invalidated when rebuilding airports (#7100)\n\n\n### 1.9.0-beta3 (2019-02-24)\n\n- Feature: Option to adjust font size separately from GUI size (#7003)\n- Feature: Increase maximum number of orders from 64000 to ~16.7m (#7220)\n- Add: Show performance of AI and GS in framerate window\n- Add: News menu entry and shortcut for deleting all messages (#7240)\n- Change: [OSX] Improved scrolling behaviour when using touchpads\n- Change: Add scrollbar to cargo legend in cargo payment rates window\n- Change: Owner of vehicle with exclusive transport rights may now load cargo from neutral stations (#7256)\n- Change: Improved UI behaviour when dragging sound volume sliders with the mouse (#7227)\n- Change: Use selected vehicle group as parent when creating a new group (#7224)\n- Change: Use SlErrorCorrupt() on pool index error when loading a savegame, instead of terminating (#7219)\n- Change: Skip reliability decay if servicing is disabled\n- Fix: Remove desert around lakes upon generation\n- Fix: Re-sorting file list did not update filtered rows\n- Fix #7159: Waiting time at red one-way signals was too short\n- Fix #7189: Fluidsynth volume gain too high\n- Fix #7004: Cargo flow legend was not properly refreshed after zooming (#7265)\n- Fix: Possibility to modify wrong AI/GS settings when switching AI/GS scripts around (#7090, #7091)\n- Fix: Use more descriptive \"spectator\" strings for story book and goal dropdown menus\n- Fix #6599: Disable build and rename button in build vehicle window when no vehicle is selected\n- Fix: Do not mangle tagged revision strings for network revision strings\n- Fix #7151: AI start date deviation was still applied when not set to a random AI (#7223)\n- Fix #7197: Invalidate depot buttons when necessary (#7212)\n- Doc: [AI] UnshareOrders empties the orders list of the vehicle\n\n\n### 1.9.0-beta2 (2019-02-09)\n\n- Fix: Non-Windows builds did not get correct git hash\n\n\n### 1.9.0-beta1 (2019-02-09)\n\nNote: OpenTTD was migrated to GitHub for 1.9, so SVN revision and FlySpray numbers have been replaced with Pull Requests and Issue numbers\n- Feature: Group liveries, and livery window usability enhancements (#7108)\n- Feature: Overhaul of music system, support MPSMIDI music files (TTD DOS/TTO) (#6839)\n- Feature: [Win32] Rewritten DMusic and WinMM music drivers\n- Feature: [Win32] New XAudio2 sound driver\n- Feature: [Linux] New Fluidsynth music driver\n- Feature: Framerate display window (#6822)\n- Feature: [NewGRF] Ability for industries & houses to produce and/or accept up to 16 different cargoes\n- Feature #6610: Allow towns to build houses on road turns (#6758)\n- Feature: Replace independent map scrolling GUI settings with single option, and add choice to not lock cursor position when scrolling (#6756)\n- Feature #6459: API for querying network clients from GS (#6736)\n- Feature: New Russian Ruble & Mexican Peso as currencies (#6678, #7035)\n- Feature #4186: Append '(City)' after city names in the town directory\n- Feature #986: Automatic save when losing connection to a network game\n- Add: [NewGRF] Flag to hide rail types from construction (#7118)\n- Add: [NewGRF] Airport animation trigger for plane landing (#6334)\n- Add #4115: Default starting company colour setting (#6998)\n- Add: Mixer feature for streaming sampled music\n- Add #6460: [AI] start_date parameter for Random AIs on new game\n- Add: BACKSPACE can be mapped as a hotkey\n- Add: 32bpp SSE2 blitter palette animator (#6795)\n- Change: Make ships turn slowly when changing direction and stop when going up or down a lock (#7065, #7150)\n- Change: Improve ship pathfinder performance\n- Change: Decouple GUI timing from game ticks (#6780)\n- Change: Desert tiles are now half-desert if a neighboured tile is non-desert or sea/coast (#4754)\n- Change: Gradually slow down aircraft speed on breakdown (#6932)\n- Change: [NewGRF] Increase rail type & cargo type limits to 64\n- Change: [NewGRF] Increase size of persistent storage to 256\n- Change: [NewGRF] Use last OpenTTD SVN revision in NewGRF version number (#6843)\n- Change: Clone tool in depot window now behaves like clone button in vehicle window (#6754)\n- Change #6397: Keep town growth rate in sync with house count\n- Change: Scale default FreeType font size selection by UI zoom level\n- Change: [OSX] Reversed pinch to zoom behaviour\n- Change: Switch town growth rate and counter to actual game ticks (#6763)\n- Change: Non-tag revisions are now named '<commitdate>-<branch>-g<shorthash><modified>'\n- Change: Rewrite several bits of documentation in markdown\n- Fix: Reinitialise graph GUI on game restart (#7191)\n- Fix: Potential crash during shutdown after unpacking downloaded content (#7185)\n- Fix #6584: Text layout in engine preview dialogue\n- Fix #6636: Airplanes could be sent to helicopter station depots\n- Fix: Deadlock when launched with -n switch (#7103)\n- Fix: Various corrections to town names in non-English languages (#7038, 7141)\n- Fix: Only consider airport tiles when placing (for non-rectangular airports) (#6613)\n- Fix: Spelling fixes on some Latin American town names\n- Fix #7001: Pathfinders should see standard road stations as tiles where to reverse\n- Fix #6676: Prevent helicopters from stopping in midair during some kinds of landing\n- Fix: Remove need to use Ctrl+Click when building stations next to competitors (#6906)\n- Fix: [NewGRF] Make VA2 operator 11 (ror) behave well-defined when rotating by 0 bits\n- Fix #4109: Add more water checks to the Oil Rig layout\n- Fix #6938: Incorrect value for \"Cost to Clear\" was displayed for Company Headquarters in tile inspector (#6939)\n- Fix #6920: Make 9.8m/s^2 a common constant for TE-calculation\n- Fix #6892: [Script] CONFIG_RANDOM did not use the full parameter range (#6902)\n- Fix #6622: News message when GS constructs a town had empty company name\n- Fix: [NewGRF] Action7 variable 0x85 had no bounds checks\n- Fix #6875: Depot building cost did not include foundation build cost (#6883)\n- Fix: Some pixels in ship autoreplace icon (sprite 106) were transparent\n- Fix: Poor contrast in cargo dest flow legend window cargo labels\n- Fix #6553: Make viewport button text unambiguous\n- Fix: [OSX] Setting mouse-wheel to scroll the map does not disable pinch to zoom\n- Fix #6969: Account for BOM when reading script files\n- Fix #6898: Ability to use seeds above INT_MAX (#6936)\n- Fix #6659: Bus stations could be demolished when not in demolish mode (#6815)\n- Fix: One-way roads could be over-built by road stops regardless of road owner\n- Fix: Use name of cargo instead of Passengers/Mail in town statistics (#6801)\n- Fix: Prevent ships moving into docks after finishing (un)loading (#6791)\n- Fix: Tractive effort was slightly too high as per NewGRF spec (#6785)\n- Fix #6465: Add {NORMAL_FONT} and {MONO_FONT} control codes to GS strings (#6726)\n- Fix: Four group action icons were misplaced and cropped\n- Remove: PSP, WinCE support\n\n\n## 1.8.x\n\n### 1.8.0 (2018-04-01)\n\n(None)\n\n\n### 1.8.0-RC1 (2018-03-21)\n\n- Feature: [GFX] Climate-specific Action5 extra airport sprites [FS#6664] (r27976)\n- Feature: Draw vertical separators at tile distance in the train depot GUI (r27938, r27899)\n- Feature: [Build] MSVC 2017 project file generator. Most noticeable, std:c++latest is enabled (r27920, r27919, r27918, r27917)\n- Feature: [Build] Project file generator for kdevelop 4/5 [FS#6577] (r27897)\n- Feature: Add option to close windows with right click [FS#4950] (r27826, r27825)\n- Feature: Vehicle Group Info: Add profits and occupancy display to group vehicle list (r27822)\n- Feature: Display aircraft type in vehicle preview/purchase/detail windows (r27802, r27799, r27797)\n- Change: [NewGRF] Various performance improvements to resolving VA2 (r27989, r27985, r27984, r27983, r27982)\n- Change: [NewGRF] Increase maximum allowed vehicle sprite size to reduce clipping of ships (r27987)\n- Change: Check companies for bankruptcy before subtracting reoccuring monthly costs [FS#6679] (r27981)\n- Change: [GFX] Replace the office building sprite on various toyland airports with a better fitting sprite [FS#6664] (r27977)\n- Change: [GFX] The switch-toolbar icon contained pixels from the fire cycle. Replace the whole icon with a new version [FS#6654] (r27961)\n- Change: Reword texts in industry view, when stockpiling is used (r27952)\n- Change: Remove the gap between windows when positioning them after opening [FS#6568] (r27934, r27900)\n- Change: [Build] Enable usage of static_assert for MSVC (r27916)\n- Change: [Build] Preserve PKG_CONFIG_PATH and PKG_CONFIG_LIBDIR environment variables in config.cache file [FS#6614] (r27902)\n- Change: Do not cancel headquarter construction and engine-preview-query when shift-clicking (r27889)\n- Change: Parse extmidi command string for parameters to pass on (r27834)\n- Change: Draw images in centre of buttons (r27829, r27821)\n- Fix: Store the map variety setting in the savegame like the other mapgen settings, so restarting maps considers it [FS#6673] (r27978)\n- Fix: Hair selection was missing one option [FS#6642] (r27975)\n- Fix: Avoid tile operations outside map border when building lock [FS#6662] (r27973)\n- Fix: Catenary sprites got mixed up for depots [FS#6670] (r27972)\n- Fix: Make automatic window-positioning RTL-aware (r27934, r27900)\n- Fix: Automatic window-positioning now uses GUI-scale/style dependent sizes/distances instead of fixed pixel values (r27934, r27900)\n- Fix: [NewGRF] While executing random triggers, var 5F should include the new triggers (r27928)\n- Fix: [NewGRF] Reset used random triggers only after all A123 chains have been resolved, so that all RA2 in all chains can test the shared triggers (r27928)\n- Fix: [NewGRF] Industry random triggers are stored per tile, even when randomising the shared random bits of the parent industry (r27928)\n- Fix: [NPF] Reserved track bits were not accounted for when trying to find any safe position (r27912)\n- Fix: Do not modify argv[0] [FS#6575] (r27886)\n- Fix: Do not search directories when opening ini files as we already have their full path [FS#6421] (r27816)\n- Fix: Road tunnel/bridge heads have no trackbits wrt. catenary drawing (r27812)\n\n\n## 1.7.x\n\n### 1.7.2 (2017-12-24)\n\n(None)\n\n\n### 1.7.2-RC1 (2017-12-11)\n\n- Change: When train depots have a horizontal scrollbar, allow scrolling 1 tile beyond the longest train, so you can actually attach a wagon at the end (r27937)\n- Fix: When moving wagons in the depot, the drag highlight did not exactly match the length of the dragged wagon chain (r27936)\n- Fix: [Win32] Right mouse scrolling didn't work properly with the Windows 10 Fall Creators Update [FS#6629] (r27935)\n- Fix: Forest, candyfloss forest and battery farm skipped the first animation frame [FS#6639] (r27932)\n- Fix: Glyphs in range U+0020 to U+00FF may only be defined in orig_extra.grf, not in openttd.grf [FS#6620] (r27915)\n- Fix: 'unban' console command was not handling IPv6 addresses properly (r27914, r27913)\n- Fix: Keep the 'link' between industry chain and smallmap windows whenever possible [FS#6585] (r27905)\n- Fix: When the last vehicle is removed from a shared orders group, hide the 'Stop sharing' button in the vehicle orders window [FS#6593] (r27904)\n- Fix: Tooltip of 'increase service interval' said 'decrease' [FS#6606] (r27895)\n- Fix: Console command parser passed invalid strings to the debug output, if command lines had many parameters [FS#6576] (r27884, r27883)\n\n\n### 1.7.1 (2017-06-13)\n\n(None)\n\n\n### 1.7.1-RC1 (2017-05-04)\n\n- Fix: Add missing game script event for ships arriving at a station [FS#6560] (r27859, r27858)\n- Fix: StringID truncation to 16 bits broke string remapping test [FS#6555] (r27851)\n- Fix: Infinite loop in pathfinder when checking safe waiting position from a waypoint [FS#5926] (r27846)\n- Fix: [YAPF] Consider depot as destination before reversing path and applying penalty (r27843)\n- Fix: Don't consider locks or ship depots as clear water when placing industries (r27841)\n- Fix: Small news window's fake caption was not sized to fit its text (r27838)\n- Fix: Black remap did nothing in 8bpp-simple blitter (r27837)\n- Fix: Misaligned resize icon due to widget bounds being inclusive (r27831)\n- Fix: Update viewport sign dimensions when changing GUI zoom level (r27827, r27819)\n- Fix: Vehicle viewport is not user scrollable so flag window as such (r27823)\n- Fix: Allow dropdown to be drawn above origin widget even with scrollbar (r27820)\n- Fix: 32bpp-anim blitters assumed that pitch and width of the screen were equal [FS#6545] (r27796)\n- Fix: Chat text background overflowed due to missing padding [FS#6526] (r27794)\n- Fix: Failed to load lzo compressed savegames sometimes [FS#6450] (r27793)\n- Fix: [Win32] Mark OpenTTD as DPI-aware to avoid OS window scaling that breaks mouse input [FS#6366] (r27791, r27790)\n- Fix: [NewGRF] Get vehicle load amount after executing new cargo trigger [FS#6536] (r27788)\n- Fix: AI configuration changed incorrect parameter when some parameters are hidden [FS#6479] (r27787, r27786)\n- Fix: Buoys not always drawn after being placed depending on zoom level [FS#6508] (r27785)\n- Fix: Allow rail conversion even if ship is on tile [FS#6505] (r27784)\n\n\n### 1.7.0 (2017-04-01)\n\n(None)\n\n\n### 1.7.0-RC1 (2017-03-11)\n\n- Feature: [NewGRF] Extend the DCxx range to D800-DFFF (r27769)\n- Feature: [NewGRF, script] Increase the maximum number of GameScript texts to 64k, and NewGRF texts to 512k (r27758)\n- Feature: [NewGRF] CB 37 results 0x0401 and 0x0800-0BFF for improved control of display of input cargos in the industry GUI (r27751)\n- Feature: Sprites missing in outdated basesets are now provided by openttd.grf (r27732, r27731, r27730)\n- Feature: [NewGRF] String command 9A 1E to print the name of a cargo type (r27707, r27706)\n- Feature: [Debug] Assign descriptive names to threads [FS#6471] (r27674, r27673, r27670)\n- Feature: [NewGRF] Allow composing vehicles from multiple sprites (r27668)\n- Change: Enable realistic train and road vehicle acceleration by default (r27760)\n- Change: Hide the drive-in stops from the tram station picker (r27734)\n- Change: Do not count static NewGRF when checking for the maximum number of NewGRFs in a game (r27729)\n- Change: Limit waypoint area by maximum station spread during dragging (r27710)\n- Change: [Build] Re-enable Wnarrowing for gcc 4.9+ [FS#6532] (r27709, r27703)\n- Change: List railtype of rail tiles explicitly in the tile info window (r27686)\n- Change: Re-arrange the autoreplace GUI for trains, and do not filter it by railtype by default (r27683)\n- Change: Various performance improvements to CargoDist and LinkGraphs (r27682, r27681, r27614, r27613, r27612, r27611)\n- Change: Improve randomisation of rough land appearance (r27657)\n- Change: [Build] Enable C++11 for clang 3.3 (r27654)\n- Fix: Insufficient thread synchronisation when switching blitters lead to crashes [FS#6510] (r27775)\n- Fix: Enabling palette animation for 32bpp blitters while paused skipped initialisation of the palette and resulted in black windows [FS#5889] (r27774)\n- Fix: Intro games other than the traditional nightly one would cause townname NewGRFs to not get activated in the game options [FS#5819] (r27772)\n- Fix: Some variables were not reset between loading old savegames, which made loading them fail [FS#6540] (r27770)\n- Fix: Removing secondary roadtypes from bridges was factor 2 too cheap [FS#6538] (r27746)\n- Fix: Extra viewports did not center on the selected tile [FS#6537] (r27743)\n- Fix: [Build] Building on newer OSX versions with newer SDKs [FS#6295, FS#6502] (r27727, r27675)\n- Fix: Improve error message when trying to build rail track over a depot  (r27726)\n- Fix: Rescanning NewGRF in-game could break the loaded NewGRF, if very many NewGRF were in use (r27721)\n- Fix: Text could overflow various GUI elements [FS#6527] (r27713)\n- Fix: Memory leak when reloading NewGRF (r27690, r27688, r27687)\n- Fix: When removing objects of bankrupt companies the tiles may revert to canal. In that case also check the ownership of the canal [FS#6511] (r27656)\n- Fix: Make the console file commands operate independent of the save/load GUI (r27645)\n- Fix: When dragging vehicles in group or depot GUI, draw the complete articulated vehicle (r27632)\n- Fix: When dragging multiple vehicles in the depot, make the destination gap as long as the chain instead of just considering the first vehicle (r27629)\n- Fix: [Build] Change the GCC version detection so that it works with two-digit and truncated versions [FS#6487] (r27623, r27616)\n- Fix: Do not hide filtered and highlighted industries by overlapping tiles in the zoomed-out smallmap (r27622, r27621, r27620)\n- Fix: [Script] Kill scripts, when a non-suspendable valuator call takes way too long [FS#6473] (r27594)\n\n\n## 1.6.x\n\n### 1.6.1 (2016-07-01)\n\n- Fix: Compilation and optimisation issues with GCC6 (r27606, r27605, r27595)\n- Fix: Compilation with --disable-network [FS#6481] (r27602)\n- Fix: [NewGRF] shift-and-add-divide/modulo varadjusts use signed division/modulo (r27600)\n- Fix: Company 0 could accept engine previews before they were offered (r27598)\n\n\n### 1.6.1-RC1 (2016-06-01)\n\n- Feature: Mexican Spanish (r27564, r27553, r27552)\n- Change: Performance improvement for dedicated servers by skipping drawing calls earlier in the process [FS#6402] (r27579)\n- Fix: Automatic servicing of road vehicles compared path finder costs with tile distances, thus vehicles went to depots which were factor 100 too far away [FS#6410] (r27586)\n- Fix: Enforce a non-zero load amount for all vehicles, so that vehicles can process their cargo reservations [FS#6437] (r27585, r27584)\n- Fix: Do not decrease the column width of depot windows when vehicles with high unitnumbers leave [FS#6415] (r27583)\n- Fix: Button size computation in script configuration window [FS#6461] (r27581)\n- Fix: [NewGRF] Set date of last service on construction also for wagons and articulated parts [FS#6395] (r27580)\n- Fix: Vehicles could not be hidden from the purchase list when they were in exclusive preview [FS#6454] (r27578)\n- Fix: Dock and roadstop picker, client list and town authority window did not auto-resize according to their content when they were positioned at the bottom of the screen [FS#6386] (r27577)\n- Fix: Various incorrect but uncritical size computations in the content client [FS#6449] (r27576, r27570)\n- Fix: Memory leak when disabling palette animation [FS#6404] (r27575)\n- Fix: [NewGRF] The house id as returned by house variable 66 was incorrect when querying neighboured tiles [FS#6432] (r27574)\n- Fix: [Build] Compilation failure with gcc 6.1 due to headers included after safeguards.h [FS#6467] (r27573)\n- Fix: Convenience savegame bump to distinguish 1.6 savegames from 1.5 savegames [FS#6442] (r27572)\n- Fix: [Build] Force sorting to be locale independent, so files are always ordered the same and by that token better diff-able (r27562, r27558)\n- Fix: Typos in comments and string (r27561, r27560)\n- Fix: [Build] bashism that caused different CFLAGS with bash vs dash (r27557)\n- Fix: Use a more appropriate sound effect for convert-rail (r27547)\n- Fix: Remove SetFill from vehicle GUI buttons, so that the viewport is resized instead of them in case of long window titles (r27546)\n- Fix: [Script] Generation of API wrappers (r27545, r27544, r27543)\n- Fix: [Windows] ICU got disabled for Windows builds, breaking RTL support [FS#6427] (r27542)\n- Fix: [NewGRF] Station spritelayouts did not accept the var10 flag for the palette [FS#6435] (r27534)\n\n\n### 1.6.0 (2016-04-01)\n\n(None)\n\n\n### 1.6.0-RC1 (2016-03-01)\n\n- Feature: [NewGRF] Allow custom sound IDs in RV property 0x12, ship property 0x10 and aircraft property 0x12 (r27507)\n- Feature: When viewing online content of a particular type, hide content of other types unless they have been (auto)selected for download (r27469, r27468, r27444)\n- Feature: [NewGRF] Move sprite 8 positions in sprite aligner with ctrl+click [FS#6241] (r27451)\n- Feature: Lower the sell-vehicle and sell-chain buttons in the train depot GUI while dragging a vehicle over it [FS#6391] (r27450, r27446)\n- Feature: Make the object placement GUI an independent window (r27438, r27397, r27346)\n- Feature: [Build] Project files and compilation with MSVC2015 (r27385, r27382, r27381, r27380, r27379)\n- Feature: [NewGRF] Allow railtype NewGRF to define separate sprites for the fences on either track side [FS#6315] (r27354, r27343)\n- Feature: [NewGRF] Increase the maximum amount of industry types to 128 per NewGRF and 240 in total (r27279)\n- Feature: Make Ctrl+Remove-Roadstop also remove the road, just like for rail stations [FS#6252] (r27251)\n- Change: [NewGRF] Allow static NewGRF to enable the second rocky tile set (r27497)\n- Change: Round loading percentage in loading indicators and conditional orders towards 50%, so that 0% and 100% mean completely empty or full (r27426)\n- Change: [Build] Rework the configure system to make more use of pkg-config (r27377:r27366, r27361, r27360)\n- Change: Enable YAPF cache debugging with desync debug level 2 (r27332)\n- Change: [strgen] Default plural subparameter position for CARGO_xxx string control codes is subparameter 1 (r27295)\n- Change: [NewGRF] Translate industry variable A6 (r27267)\n- Change: Do not consider cargo that is already being loaded as waiting cargo wrt. the station rating [FS#6165] (r27256)\n- Change: Tune down terrain generation to reduce amount of long slopes (r27230)\n- Change: Generate more detailed curves at the coast (r27229)\n- Change: Slightly more water in the non-custom sea levels (r27228)\n- Change: Be more lenient about road stop removal when at least one stop could be removed [FS#6262] (r27225)\n- Fix: [Win32] Stdin/out/err need to be re-assigned differently if the runtime lib of MSVC2015 is used (r27481)\n- Fix: [Haiku] On Haiku use the appropriate system variable to obtain the include dir [FS#6401] (r27472)\n\n\n## 1.5.x\n\n### 1.5.3 (2015-12-01)\n\n(None)\n\n\n### 1.5.3-RC1 (2015-11-01)\n\n- Fix: When selecting a refit cargo for orders, do not check whether the vehicle is in a depot or station, and do not ask whether the vehicle currently allows station-refitting. Also hide the refit cost for orders, it is not predictable (r27428)\n- Fix: Use the NewGRF railtype sorting order in the infrastructure window (r27427)\n- Fix: Crash when switching to or taking over companies, when an order window of a vehicle of the new company was opened. Now close those windows [FS#5842] (r27425)\n- Fix: Towns did not connect roads to existing roads, unless they had only a single roadbit. Otoh, towns also tried to connect to single roadbit tiles such as tunnels and depots, even though they were not connectable in the direction of interest [FS#6374] (r27424)\n- Fix: When towns expanded single-bit roadtiles using a grid-layout, they used the layout position of the neighbouring tile (r27423)\n- Fix: Aircraft picked the wrong airport entry point, if airports were rotated by 180 degree [FS#6341] (r27422)\n- Fix: Consider text and icon sizes when drawing the client list [FS#6265] (r27421)\n- Fix: GrowTownAtRoad sometimes returned false, even when a house was built [FS#6362] (r27420)\n- Fix: CmdSellRailWagon did not revert all actions properly when no orderlist could be allocated [FS#6369] (r27419)\n- Fix: Desync due to incorrect storage of segments with different railtype in the YAPF cache [FS#6329] [FS#6379] (r27418)\n- Fix: When a dedicated server was paused with no clients, the master server advertisement interval was slowed, causing deadvertisement of the server [FS#6368] (r27400)\n- Fix: [Makefile] Game script directory and compat*.nut were never installed on *nix (r27399)\n- Fix: There are two different availability conditions for fdatasync in the manpage. Use them both, since at least on some MinGW versions one is not enough (r27389)\n- Fix: win32 sound driver failed to report errors (r27383)\n- Fix: Clickareas in settings tree were misaligned when the filter warning was displayed, if the setting height was defined by the icons instead of the font [FS#6358] (r27366)\n- Fix: Center settings filter warning also vertically, and also in case of multiple lines (r27365)\n\n\n### 1.5.2 (2015-09-01)\n\n(None)\n\n\n### 1.5.2-RC1 (2015-08-01)\n\n- Change: Auto-complete partial roads when building level-crossings [FS#6283] (r27309)\n- Fix: Do not rerandomise the town name when only cost-estimating the founding [FS#6332] (r27341)\n- Fix: Make variety distribution not assume that sea level is at height 0.2 / 3 * TGPGetMaxHeight() [FS#6335] (r27331, r27330, r27329, r27328)\n- Fix: Remove corner-case optimisation for line drawing, which failed for dashed lines  (r27324)\n- Fix: Clipping of inclined lines did not account for the 'horizontal width' being bigger than the 'real width' (r27323, r27322)\n- Fix: Incorrect owner assignment when adding/removing road/tram to/from bridges [FS#6317] (r27313, r27312)\n- Fix: Mark infrastructure window dirty in more cases (r27311)\n- Fix: Prevent breaking of tram-reversal points by adding more road pieces [FS#6283] (r27308)\n- Fix: Error message window with manager face failed with GUI zoom [FS#6259] (r27307)\n- Fix: Account for road-bridges and drive-through-stops in CanFollowRoad [FS#6320] (r27306, r27305)\n- Fix: Password window layout with GUI zoom [FS#6321] (r27304, r27303)\n- Fix: Speed-only timetables got assigned times in stations [FS#6313] (r27302, r27301)\n- Fix: Enforce the company's default service intervals when purchasing another company [FS#6254] (r27282, r27281)\n- Fix: Cloning/autoreplace/autorenew did not copy custom service intervals (r27280)\n\n\n### 1.5.1 (2015-06-01)\n\n(None)\n\n\n### 1.5.1-RC1 (2015-05-08)\n\n- Fix: Do not consider road junctions with trivial dead ends as branch points during town growth [FS#6245] (r27260, r27259, r27244)\n- Fix: ScriptList::RemoveList failed to remove a list from itself [FS#6287] (r27258)\n- Fix: Combined button+dropdown widgets in order and autoreplace GUI had incorrect hitbox when using GUI zoom [FS#6270] (r27255)\n- Fix: When building a lock on DC_AUTO-removable water-based objects, the water class was always set to canal [FS#6264] (r27254)\n- Fix: When crossing tram tracks with railroads, cost of extra roads was not being counted [FS#6282] (r27253)\n- Fix: Invalid infrastructure counting when crossing tram tracks with railroads [FS#6281] (r27252)\n- Fix: Broken error message in configure [FS#6286] (r27250)\n- Fix: In some cases town growth failure was considered as success [FS#6240] (r27249, r27247)\n- Fix: Town labels on smallmap and zoomed-out viewports were not centered [FS#6257] (r27248)\n- Fix: Removing a rail waypoint used the remove-rail-station cost [FS#6251] (r27245)\n- Fix: Duplicate frees due to pool item classes not having copy constructors [FS#6285] (r27243)\n- Fix: Crash when no AIs were installed due to improper handling of non-ASCII characters by the string pointer lexer [FS#6272] (r27233)\n- Fix: Compilation on DragonflyBSD [FS#6274] (r27224, r27223)\n- Fix: Use the current maximum speed as limited by bridges, orders etc. for all vehicle types alike when considering increased smoke emissions of vehicles [FS#6278] (r27222)\n- Fix: Multi-value keys in the desktop entry shall end with a trailing separator (r27221)\n- Fix: Draw path reservation on the whole bridge, not only on the bridge heads (r27209)\n- Fix: Draw correct overlay sprites for path reservations on bridges and tunnels (r27208)\n\n\n### 1.5.0 (2015-04-01)\n\n- Fix: [NewGRF] Add Misc. GRF Feature Flag 6 to enable the second rocky tile set [FS#6260] (r27200)\n\n\n### 1.5.0-RC1 (2015-03-18)\n\n- Feature: [NewGRF] Display relative offset changes in the sprite aligner [FS#6236] (r27174)\n- Fix: Original road vehicle acceleration crashed for vehicles taking over [FS#6255] (r27190)\n- Fix: GCC 5 compilation (r27185, r27183)\n- Fix: Data race due to lazy initialisation of objects [FS#5969] (r27178)\n- Fix: Compilation with MinGW64 (r27176)\n- Fix: Use the regular clipping functions in the sprite aligner instead of some magic [FS#6237] (r27173)\n- Fix: Windows randomly drops SetCursorPos calls, breaking the RMB-scrolling [FS#6238] (r27172)\n\n\n### 1.5.0-beta2 (2015-02-24)\n\n- Feature: [NoGo] Game scripts can point to a location, station, industry, or town when publishing news (r27164)\n- Feature: Allow changing max heightlevel in scenario editor (r27151)\n- Feature: Make use of both rocky tile sets from the base graphics (r27117)\n- Change: Scale (non-custom) default window sizes according to GUI zoom (r27147)\n- Change: Make statusbar and chat-entry window use the same width as the toolbar (r27146)\n- Change: The chatbox-width setting now uses percent of screen width instead of pixels (r27144)\n- Change: [NewGRF] Interpret negative positions in industry layouts depending on GRF version (r27138)\n- Fix: [SDL, Windows] Right-mouse-button scrolling scrolled/jumped too far, when OpenTTD lagged during mouse event processing (r27167)\n- Fix: Toolbars were not invalidated when changing max-vehicles settings [FS#6204] (r27163)\n- Fix: Tile selection was drawn outside of map in some cases [FS#6208] (r27162)\n- Fix: Reimplement the viewport drawing algorithm [FS#6156] [FS#6206] (r27161)\n- Fix: Issues with smallmap and viewport coordinates and transformations (r27160, r27159, r27158)\n- Fix: Mark bridge middle tiles dirty when building/removing/changing bridges (r27157)\n- Fix: Rounding and unit-conversion inconsistencies in calls to MarkAllViewportsDirty (r27148)\n- Fix: Oilrig empty-tile checks were incorrect due to wrong TileIndexDiff->TileIndexDiffC conversion (r27137)\n- Fix: Misalignment in generate world window in case of small fonts (r27135)\n- Fix: Dragging of free wagons in depot failed with GUI zoom (r27133)\n- Fix: Reduce memory footprint of map array by shuffling its members [FS#6218] (r27132, r27126)\n- Fix: Dropdown- and tooltip-windows should not steal the focus (r27131)\n- Fix: [NewGRF] Action 7/9 condition 0A failed for present, but disabled, NewGRF (r27119)\n- Fix: Road vehicles could not reverse to be sent to depots when the following tile has the right type to run on, but could not be entered [FS#6183] (r27107)\n- Fix: Use the actual max speed of the vehicle in front when determining if a RV can overtake [FS#6176] (r27106)\n- Fix: grow_counter was not properly bounded by growth_rate, but by some other value used to calculate growth_rate [FS#6195] (r27105)\n- Fix: [Script] Support 64 bits integers in ScriptLists [FS#6194] (r27104)\n- Fix: [Script] Money values would end up wrong in strings when outside the bounds of a 32 bits integer [FS#6194] (r27102)\n\n\n### 1.5.0-beta1 (2014-12-24)\n\n- Feature: Support .txt.gz and -txt.xz changelog, readme and license files in basesets, NewGRFs, etc (r27035, r27034)\n- Feature: More height levels [FS#4126] (r27010)\n- Feature: Latin translation (r26993)\n- Feature: Add option to choose normal, double or quad-size interface (r26990)\n- Feature: [Script] Swap method for script lists (r26894)\n- Feature: [Script] ScriptStationList_Cargo for sorting cargo by from and via (r26893)\n- Feature: [Script] API for retrieving planned flow (r26892)\n- Feature: [CargoDist] Predict links for station-autorefitting vehicles (r26889)\n- Feature: Setting for limiting the height of bridges (r26882)\n- Feature: Make aircraft ascend/descend when they are too close to the ground or too far away (r26866)\n- Feature: Allow hiding of non-interesting engines in the GUI (r26805, r26804)\n- Feature: Vehicle sorting in autoreplace GUI [FS#1640] (r26800)\n- Feature: [NewGRF] Advanced visual effects with multiple effect sprites independent of spawning model (r26988, r26747)\n- Feature: Warn about missing industries after generating a map (r26729)\n- Feature: Upgrade currently active NewGRFs to newest installed version (r26613)\n- Feature: Save and load grfid and md5sum of NewGRFs in config file (r26611)\n- Feature: Select an editable preset name for saving (r26610)\n- Feature: Cancel cargo delivery from industries/houses to stations after about 21 months of not having picked up any of the cargo (r26582)\n- Feature: Give a warning when a plane's orders tell it to use a runway which is too short for it [FS#6009] (r26566)\n- Feature: [Script] Extended API for CargoDist (r26557)\n- Feature: Show measured order times in timetable GUI also when not timetabled (r26550)\n- Feature: Prompt for confirmation when deleting a vehicle group (r26455)\n- Feature: Hierarchical vehicle subgroups (r26450)\n- Feature: Allow more sound sleep for dedicated servers when there's nothing to do and nobody paying attention (r26449)\n- Feature: [NewGRF] Add vehicle modflag 1 (unloading in progress) (r26430)\n- Change: Improvements to the man page (r27091, r27012)\n- Change: Allow to set the granularity of the tooltip hover time in milliseconds instead of seconds. New default value is 250ms (r26815)\n- Change: Follow SI recommendation about spaces between numbers and units [FS#6086] (r26733)\n- Change: [CargoDist] Save locations instead of distances in link graphs to reduce size (r26646)\n- Change: [Squirrel] Make the internal integer for scripts always 64 bits, so scripts behave the same on 32 and 64 bit architectures and money can be represented properly (r26585, r26584)\n- Change: Reshuffle advanced settings tree (r26614, r26536)\n- Change: Add backend-independent config-file setting to disable 8bpp video modes, and disable 8bpp by default (r26522)\n- Fix: [OS/2] Compile again [FS#6186] (r27092)\n- Fix: Compilation with freetype2 version 2.5.4 and newer [FS#6185] (r27079)\n- Fix: Variable 47 used the carge translation table of the wrong GRF in case of callback 1D [FS#6182] (r27075)\n- Fix: Some lists did not use natural string sorting [FS#6172] (r27063)\n- Fix: Mercurial version detection failed if personal presets were configured (r27059)\n- Fix: [OSX] Don't require double-press from non-dead console hotkeys [FS#5812] (r27046)\n- Fix: Crash when having the vehicle list opened from a buoy or oil rig when the buoy/oil rig is removed (r27030)\n- Fix: Unit number was not always fully shown in depots [FS#6102] (r27014)\n- Fix: [CargoDist] Reserve cargo only after unloading finished or if the vehicle has the desired cargo already [FS#6110] (r26918)\n- Fix: [Squirrel] Loading a value saved as boolean caused it to be of type integer instead of boolean (r26785)\n- Fix: [Squirrel] Harden string handling (r26777)\n- Fix: [OSX] Implement more of the text editing API to prevent crashes and improve IME support [FS#5972] (r26758)\n- Fix: Incorrect saving of order backups [FS#6066] (r26700)\n- Fix: Ordering a vehicle to a competitor's rail waypoint displayed an error message. Ignore the click as is done for the other order types to competitor's stuff [FS#6059] (r26692)\n- Fix: [Script] Loading/parsing of info .nuts was done in the same VM, causing e.g. constants to break the loading of info of other scripts [FS#5973] (r26617)\n- Fix: [CargoDist] Improve estimation of link capacitites (r26549)\n- Remove: A bunch of archaic settings from the GUI (r26528, r26526, r26525)\n\n\n## 1.4.x\n\n### 1.4.4 (2014-10-21)\n\n(None)\n\n\n### 1.4.4-RC1 (2014-10-08)\n\n- Fix: Image widgets stored 32bit SpriteID in uint16 (r26971)\n- Fix: Owner of road depot road types were not properly changed upon bankruptcy [FS#6126] (r26955)\n- Fix: Compilation on HAIKU (r26922)\n- Fix: Crash when enabling 'Full animation' if multiplayer chat text is on screen [FS#6096] (r26919)\n- Fix: Height computation of game script text in town GUI did not consider margins [FS#6119] (r26859)\n- Fix: [Squirrel] Debian lintian issues (r26853)\n- Fix: Compilation of strgen on various platforms like Solaris (r26850)\n- Fix: Better display of refit information for articulated vehicles [FS#6113] (r26849, r26848)\n- Fix: Do not assign a next hop when returning cargo [FS#6110] (r26847)\n- Fix: The ok-button in the OSK for the signs list should just close the OSK [FS#6116] (r26827)\n\n\n### 1.4.3 (2014-09-23)\n\n(None)\n\n\n### 1.4.3-RC2 (2014-09-14)\n\n- Fix: Crashes on joining a server with pending order backups [FS#6112] (r26819)\n- Fix: Crashes on start due to dereferencing the -1 index of the file names array of music files (r26809)\n\n\n### 1.4.3-RC1 (2014-09-07)\n\n- Fix: TC_NO_SHADE did not work for 32bpp text rendering (r26792)\n- Fix: Loading a game with order backups leaked Orders and left unreachable items in the pool (r26787)\n- Fix: Buffer overrun in SQCompiler::Error (r26764)\n- Fix: Desync due to not always properly restoring game state from the savegame (r26753)\n- Fix: [Script] Crashes and infinite loops when using lists in item-descending order [FS#6085] (r26744)\n- Fix: Incorrect CFLAGS when enabling gprof profiling (r26737, r26735)\n- Fix: Do not reset the last selected airport or layout, unless it is really necessary [FS#6083] (r26732)\n- Fix: Use the normal search path to look for xdg-open at Unix [FS#6077] (r26724)\n- Fix: Properly check for cargo acceptance of houses [FS#5997] (r26723)\n\n\n### 1.4.2 (2014-08-16)\n\n(None)\n\n\n### 1.4.2-RC2 (2014-08-03)\n\n- Change: Use awk instead of trying to convince cpp to preprocess nfo files (r26708)\n- Fix: CMD_CLEAR_ORDER_BACKUP should not be suppressed by pause modes (r26716)\n- Fix: [NewGRF] Parameters to SCC_NEWGRF_PUSH_WORD and SCC_NEWGRF_UNPRINT were not skipped during drawing (r26713)\n- Fix: [OSX] Compilation fails with some lzo2 versions, if __LP64__ is defined to 0 instead of checking whether it is defined [FS#6069] (r26709)\n- Fix: Wrong breakdown sound was played for ships [FS#6015] (r26706)\n- Fix: Integer overflows in acceleration code causing either too low acceleration or too high acceleration [FS#6067] (r26702)\n- Fix: Discard incorrectly saved order backups when clients join [FS#6066] (r26700)\n- Fix: Do not crash when trying to show an error about vehicle in a NewGRF and the NewGRF was not loaded at all (r26699)\n- Fix: Slovak uses space as group separator in numbers [FS#6064] (r26695)\n- Fix: Tighten parameter bound checks on GSCargoMonitor functions, and return -1 on out-of-bound parameters (r26685)\n\n\n### 1.4.2-RC1 (2014-07-03)\n\n- Fix: CargoPacket::SourceStation() returns a StationID (r26660)\n- Fix: Days in dates are not represented by ordinal numbers in all languages [FS#6047] (r26657)\n- Fix: Production cheat cannot be allowed to be active in multiplayer for desync reasons, even when activated in singleplayer previously [FS#6044] (r26656)\n- Fix: Make sure an 'abs' is used that supports int64 when using 'abs' on those variables (r26651)\n- Fix: Support save/load chunk lengths of up to (1 << 32) - 1 [FS#6041] (r26650)\n- Fix: Incorrect usage of string commands in the base language [FS#6037] (r26642, r26640, r26639, r26632)\n- Fix: Segmentation fault when encountering a .obg/.obs/.obm with empty string/zero length MD5 checksums [FS#6038] (r26637)\n- Fix: The 'Load' button was not properly enabled/disabled for old savegames without NewGRF information (r26634)\n- Fix: If the video driver fails to supply a list of resolutions, display an error message [FS#6012] (r26629)\n\n\n### 1.4.1 (2014-06-02)\n\n- Fix: First send packages about new company, then clients joining it to admin port [FS#6025] (r26616)\n\n\n### 1.4.1-RC2 (2014-05-18)\n\n- Fix: Save/load issues on big endian machines (r26593, r26590, r26589)\n- Fix: Consider multiheaded trains in station refits [FS#5995] (r26586)\n- Fix: Game script could be changed in game by double clicking [FS#5974] (r26583)\n- Fix: Transfer stations also should have a cargo rating [FS#5989] (r26581, r26580)\n- Fix: [Network] AIs would not reset certain network state information upon creation of their company [FS#6003] (r26578, r26576)\n- Fix: [Network] Client of non-dedicated server was not correctly put into the first company for all state variables [FS#6001] (r26577)\n\n\n### 1.4.1-RC1 (2014-05-04)\n\n- Change: Remove demand calculation based on tiles (r26484)\n- Change: Use pkg-config for libpng as well (r26435, r26433, r26432)\n- Change: Use better distance metric for link graph [FS#5941] (r26411)\n- Fix: [Windows] Crash when the operating system performs the \"paint\" callback during window creation [FS#5994] (r26539, r26538)\n- Fix: OpenBSD compilation [FS#5992] (r26523)\n- Fix: prevent from ever reading huge (or negative) amounts of data in strgen (r26521)\n- Fix: Severity rating of dedicated server messages during world generation (r26518)\n- Fix: Buffer overruns in handling of symbolic links inside tars (r26514)\n- Fix: Incorrect usage of strecpy (r26505, r26485)\n- Fix: Reading console input on dedicated server relied on unspecified behaviour (r26496)\n- Fix: Allow single-vehicle consists to station-refit in a meaningful way (r26483)\n- Fix: Prevent comparing to NULL when strndup could not allocate memory (r26476)\n- Fix: Potentially undefined shifts in NewGRF code (r26475)\n- Fix: Make sure there is no uninitialised sprite data (r26473)\n- Fix: Draw text shadow for ellipses (r26467)\n- Fix: Add special handling for PALETTE_CRASH to work for non-8bpp-mapped sprites (r26463)\n- Fix: Avoid division by 0 when scaling flow values [FS#5970] (r26448)\n- Fix: Draw links to match _settings_game.vehicle.road_side [FS#5961] (r26445)\n- Fix: Load button for heightmap list was missing [FS#5953] (r26428)\n- Fix: Do not crash when supplying an invalid filename without extension to cmd parameter -q (r26423)\n- Fix: Some road constructions used the rail sound effect [FS#5946] (r26422)\n- Fix: Goal GUI failed to shade [FS#5948] (r26420)\n- Fix: Shares button state was not appropriately updated when switching setting or company [FS#5947] (r26416)\n\n\n### 1.4.0 (2014-04-01)\n\n(None)\n\n\n### 1.4.0-RC1 (2014-03-18)\n\n- Feature: [Script] APIs to get cargo waiting from/via other station (r26396)\n- Fix: Do not explain \"symmetric\" cargodist mode when the setting does not allow it [FS#5939] (r26394)\n- Fix: Update distances between link graph nodes when station sign is moved (r26393)\n- Fix: No need to call OnFocus twice [FS#5933] (r26392)\n- Fix: Select a specific font size when freetype fails to select one automatically [FS#5885] (r26389)\n- Fix: Return correct values from ICU iterators in case of leading or trailing whitespace [FS#5924] (r26384)\n- Fix: All goal commands invalidated the goal list of company 0 [FS#5932] (r26382)\n\n\n### 1.4.0-beta5 (2014-02-25)\n\n- Feature: Warn the user about empty setting search results, and about missing setting search results due to filtering (r26322, r26321)\n- Feature: [NewGRF] Extend object variable 0x60 to also return the view [FS#5696] (r26316)\n- Feature: Allow map sizes up to 4096x4096 (r26319)\n- Feature: [NoGo] Allow GS to hide story page date (r26307)\n- Feature: [NoGo] More story APIs: RemovePageElement, GetCompany, GetDate, SetDate (r26306)\n- Feature: [NoGo] ScriptStoryPageElementList() - a list of all story page elements for a given page (r26305)\n- Feature: [NoGo] ScriptStoryPageList() - a list of all story pages (r26303)\n- Change: improve the performance of map generation (r26313, r26312, r26311, r26310, r26309, r26308)\n- Fix: Station sizes > 8 were always allowed [FS#5929] (r26375)\n- Fix: [NewGRF] Mixed up callback mask flags in station inspect window [FS#5928] (r26374)\n- Fix: Calling DoCommandP during the gameloop cleared pending persistent storage changes [FS#5831] (r26371)\n- Fix: [Windows] Use a separate event to indicate that the drawing thread has finished initialising, preventing potential deadlocks (r26367)\n- Fix: [Windows] Protect the whole video driver from concurrent access (r26366)\n- Fix: [Windows] Do not draw the cursor when its sprite is not ready and set _screen.dst_ptr immediately when the buffer changes [FS#5867] (r26365)\n- Fix: Writing out of the bounds of the rail type map [FS#5892] (r26364)\n- Fix: Reset the default window size icon size just like all the other cached icon sizes [FS#5906] (r26362)\n- Fix: ClientSizeChanged is only called via WndProcGdi which already has the mutex [FS#5922] (r26360)\n- Fix: Some order options do not combine with others, e.g. go via + full load [FS#5845] (r26357)\n- Fix: Protect all VideoDriver_SDL methods with the (now recursive) _draw_mutex (r26351)\n- Fix: Make sure link graph jobs can delete themselves after SLA_NULL [FS#5898] (r26347)\n- Fix: Call Layouter::ReduceLineCache from GenerateTownName in all cases to keep cache size in check [FS#5870] (r26346)\n- Fix: Rewrite SmallStack so that it does not use a pool and is re-entrant (r26343)\n- Fix: Reroute cargo when automatic distribution is switched off [FS#5902] (r26341)\n- Fix: Do not redraw the link graph overlay if it is empty [FS#5908] (r26338)\n- Fix: Some inconsistencies regarding link graph (job) IDs (r26331)\n- Fix: The case of rerouting cargo from one VehicleCargoList to another (r26330)\n- Fix: Take care of next_station when reassigning from MTA_DELIVER to MTA_TRANSFER [FS#5901] (r26327)\n- Fix: when autosaving the message about a save already happening could be shown, even though the code's intention was to not show it [FS#5871] (r26326)\n- Fix: Check whether NewGRF change vehicle capacity when they are not supposed to, and truncate cargo appropriately if they are allowed to [FS#5897] (r26317)\n- Fix: The giant-screenshot confirmation window only triggered for ridiculously big screenshots, not for ludicrously big ones [FS#5899] (r26314)\n\n\n### 1.4.0-beta4 (2014-02-06)\n\n- Change: [NewGRF] Make vehicle variable 61 return 'not available' instead of zero when using it in invalid callback contexts (r26294)\n- Feature: Display speed limit also for road bridges in the TileInfo window [FS#5849] (r26277)\n- Fix: [NoGo] Invalid DoCommand return callback for method returning bool (r26298)\n- Fix: Correctly identify opposite ends of bridges and tunnels when converting rails [FS#5866, FS#5888] (r26291)\n- Fix: Prevent infinite recursion also in RefreshLinks [FS#5878] (r26283)\n- Fix: [NoAI] Some RemoveRail methods required to set a valid railtype, though it was not used anyway. Remove the need to set one [FS#5853] (r26279)\n- Fix: Do not spawn link graph jobs for link graphs with only one node [FS#5874] (r26276)\n- Fix: [NewGRF] If NewGRF provided the same station name for different industry types, stations would end up with same name. So also consider the provided name, not only the industry type (r26275)\n\n\n### 1.4.0-beta3 (2014-01-21)\n\n- Feature: Several small performance improvements with the SSE blitters (r26260, r26259, r26256, r26255, r26254)\n- Feature: [NewGRF] Add StringCodes 9A 1B, 9A 1C and 9A 1D to display amounts of cargo (r26244)\n- Fix: Do not run into infinite recursion when getting next stopping station [FS#5865] (r26267, r26263)\n- Fix: Update smallmap overlay if player joins different company and make sure company masks are valid [FS#5860] (r26266)\n- Fix: Do not rebuild the link graph overlay cache twice in a row (r26265)\n- Fix: Custom currency was reset on game start (r26262)\n- Fix: Possible out of bounds reads with the SSE blitters [FS#5854, FS#5855] (r26247)\n- Fix: Do not over reserve after autorefit, but do reserve mail for aircraft (r26236)\n- Fix: Decimal and digit separators were swapped for Korean language (r26235)\n\n\n### 1.4.0-beta2 (2014-01-07)\n\n- Feature: Blitter autoselection is now based on full animation state, so a non-animated specialised blitter will generally be chosen when animation is turned off (r26217)\n- Feature: Specialised animated SSE4 blitter, and non-animated SSE4.1, SSSE3 and SSE2 blitters, improving the blitting significantly in many situations (r26214, r26213, r26212, r26211)\n- Feature: Specialised SSE 4.1 sprite sorter, improving the sorting performance significantly (r26205)\n- Fix: Validate everything from ini, obg, obs, obs, ... files [FS#5829] (r26206)\n- Fix: Allow refitting at station if cargo has already been reserved (r26187)\n- Fix: Visual effects did not work for articulated RV parts (r26180)\n\n\n### 1.4.0-beta1 (2013-12-24)\n\n- Feature: [NewGRF] Vehicle variable 4D for determining the position within an articulated vehicle (r26157)\n- Feature: [NewGRF] Invalidate vehicle colour palette when leaving a station [FS#5669] (r26027)\n- Feature: [NoGo] New goal type that show a story page when clicked (r26012)\n- Feature: Optional filter parameter to the 'content state' console command, to limit the content list to only content where the name match the filter (r26000)\n- Feature: When calling the 'content select' console command without args, display all selected content (r25999)\n- Feature: XDG base directory support [FS#5385] (r25975)\n- Feature: [Script] ScriptTown::GetFundBuildingsDuration (r25969)\n- Feature: [Script] ScriptTown::TOWN_GROWTH_NONE to indicate no town growth via ScriptTown::SetGrowthRate and GetGrowthRate (r25968)\n- Feature: [NoGo] GSTown::TOWN_GROWTH_NORMAL to reset a town growth rate set previously via GSTown::SetGrowthRate (r25967)\n- Feature: [NewGRF Debugging] Inspecting other vehicles in a chain (r25946)\n- Feature: [NewGRF] Object property 0x18 to allow specifying the number of objects of that type being placed upon map creation (r25878)\n- Feature: [NewGRF] Object property 0x10, bit 13 indicating that object amount scales with water content of map border (e.g. used for lighthouses) (r25874)\n- Feature: Highlight active goto item in order list dropdown [FS#5784] (r25859)\n- Feature: [Admin] Send info on bankruptcy quarters also in ADMIN_PACKET_SERVER_COMPANY_INFO [FS#5756] (r25845)\n- Feature: Increase maximum number of object instances on the map from 64k to about 16M (r25844)\n- Feature: Increase the total number of object types from 256 to 64000 (r25835)\n- Feature: [NewGRF] Increase the object class limit from 32 to 255 (r25831)\n- Feature: Toggle button for wrapping lines in the textfile GUI [FS#5748] (r25816)\n- Feature: [NoGo] Game Scripts can now charge fees and give money to companies (r25788)\n- Feature: [Script] Allow AIs and GS to found towns. Allow GS to rename towns (r25785)\n- Feature: Add keywords to the openttd.desktop.in file (r25783)\n- Feature: Sticky and shade buttons for jukebox window [FS#5743] (r25776)\n- Feature: Additional layered main toolbar arrangements (r25772)\n- Feature: Allow implicit orders even if no explicit ones are given (r25735)\n- Feature: [OSX] Pinch gesture support for zooming [FS#4760] (r25666)\n- Feature: Split unit localisation choice into a choice per type of unit, and move it to the advanced settings (r25508)\n- Feature: Have tractive effort in imperial (lbf) and metric (kgf) units, have weights and volumes in imperial units (short tons, gallons) [FS#5482] (r25508)\n- Feature: Differentiate between total waiting cargo count and available (not reserved) cargo count in the station list and sort based on the cargo count, not the cargo value (r25405)\n- Feature: Timetable spreading of vehicles by Ctrl+Click when setting a start date (r25377)\n- Feature: Allow opening a goal list and story window specific to a company (r25372, r25369)\n- Feature: Show cargo by next hops and final destinations in the station GUI (r25365)\n- Feature: Consider cargo waiting at other stations for rating at the origin station (r25362)\n- Feature: Distribute cargo according to plan given by linkgraph (r25361)\n- Feature: [NoGo] GUI for viewing story pages (r25344)\n- Feature: Add industry list to scenario editor's map menu (r25335)\n- Feature: [NoGo] Allow more concurrent goals in a game (r25299)\n- Feature: [NoGo] Goals can now have a progress text and/or be marked as completed (r25296)\n- Feature: Allow saving window sizes as default sizes (r25295)\n- Feature: Add another button to window title bars to resize the window to its default size (r25294)\n- Feature: Save stickyness of windows when Ctrl+Clicking the sticky button (r25292)\n- Feature: When opening the object-build window, restore the object build-window to the previous state (r25284)\n- Feature: Show the approximate monthly supply to a station of the different cargoes (r25272)\n- Feature: [Win32] Driver param for the DirectMusic driver to specify the output port to use [FS#5552] (r25269)\n- Feature: Linkgraph overlay over main viewport (r25264)\n- Feature: Linkgraph overlay for smallmap (r25262)\n- Feature: Display imminent closure of an industry in its view window (r25238)\n- Feature: [NewGRF] Expose sprite base of foundation and shore sprites via Action D Game Variables (r25230)\n- Feature: [NewGRF] Variable 0x82 for canals and rivers (dike map) (r25229)\n- Feature: [Script] ScriptStation::HasRating [FS#5514] (r25150)\n- Feature: Add sorting on rating for the town directory window [FS#5288] (r25097)\n- Feature: Introduce dropdown for selecting the sort criterion in the town directory window (r25094)\n- Feature: Georgian Lari and Iranian Rial as currencies [FS#5212] (r25076)\n- Feature: Collapse subtypes in the refit GUI and only expand them after selecting the cargo type (r25044)\n- Feature: Only display subtypes in the refit GUI which are available for all selected vehicles. Also add a generic list item to refit while keeping the subtypes of individual vehicles [FS#3764] (r25043)\n- Feature: Show the amount of cargo that has already been reserved by full loading vehicles in the station (r25013)\n- Change: [NewGRF] Reset the temporary storage registers for every sprite resolving (r26173)\n- Change: Improve layout of build-airport GUI [FS#5832] (r26165)\n- Change: Make it slightly more clear what ports are coming from where in the debug output when listening (r25997)\n- Change: Preselect the current replacement in the right-side list of the autoreplace GUI, instead of selecting the first resp. previous item [FS#5734] (r25919)\n- Change: Unify behaviour when clicking on different items in the goto dropdown list when giving orders (r25894)\n- Change: Do not offer subsidies for auto-distributed cargo [FS#5766] (r25882)\n- Change: Allow to remove unowned objects unless they have the 'unremovable' flag (r25879)\n- Change: In scenario editor allow to build all objects which were available at any point in the past to support building scenarios with historic items (r25875)\n- Change: Display the cost to upgrade a bridge at the end of bridge that was clicked and not the other end, which could be outside of the screen in some cases (r25854)\n- Change: [NewGRF] Lower the limit of airport tile types, house types, industry tile types and object types per NewGRF from 256 to 255 to prevent usage of ID 0xFF in Action3, and thus allowing it to become an extended byte somewhen (r25841, r25839, r25837, r25834)\n- Change: Clarify the relevance of the permissible palettes (r25792)\n- Change: [NewGRF] Invalidate vehicle recolour palette during (un)loading [FS#5669] (r25648)\n- Change: If an editbox is configured to be cleared with ESC, but the editbox is already empty, unselect the editbox instead (r25647)\n- Change: Make the bridge and object picker not restore their previous size, but the previously saved size (r25543)\n- Change: Right align the infrastructure statistics [FS#5595] (r25515)\n- Change: Clarify the meaning of the server advertisement settings (r25252)\n- Fix: Unify the time a RV needs to travel through a curve [FS#5831] (r26169)\n- Fix: Certain hotkeys crashed the content GUI when the list was empty [FS#5834] (r26167)\n- Fix: Backup data of altered persistent storage arrays was freed twice [FS#5830] (r26161)\n- Fix: [Script] Various API functions did not check whether ScriptRoad::SetCurrentRoadType was called appropriately [FS#5825] (r26149)\n- Fix: [Script] API failed for vehicles with only implicit orders [FS#5824] (r26148)\n- Fix: Several fixes found by static code analysis (r26132, r26130-r26097, r26091-r26077, r26073-r26046)\n- Fix: Invalidate vehicle colour palette again when rearranging consist, reversing, etc (r26026)\n- Fix: [NoGo] Properly validate the range of the growth rate passed to GSTown::SetGrowthRate, instead of masking it to 16 bit (r25966)\n- Fix: [Admin] The frame of a command packet was not set for the packets that were sent via the admin interface (r25770)\n- Fix: [OSX] The new 10.7 fullscreen code can now also be compiled with older SDK versions [FS#4744] (r25657)\n- Fix: Under certain circumstances a track type change would make the end-of-line-is-red setting ineffective [FS#5216] (r25609)\n- Fix: Highlight the right entry in the sorting selector in station view window (r25426)\n- Fix: Suppress focusing editboxes which are not visible (r25413)\n- Fix: Add missing compatibility settings in afterload (r25390)\n- Fix: Allow changing GS settings in-game via the AI/GS config window [FS#5507] (r25104)\n- Fix: [NewGRF] Do not compare GRF local cargo subtype IDs from different GRFs (r25042)\n- Remove: Ordered refit with subtypes, since the cases where it worked were corner cases rather than the general case [FS#3764] (r25041)\n\n\n## 1.3.x\n\n### 1.3.3 (2013-11-29)\n\n- Fix: Aircraft crashing near the map's border due to a lack of airports could trigger a crash [CVE-2013-6411] [FS#5820] (r26134)\n\n\n### 1.3.3-RC2 (2013-11-24)\n\n- Fix: [Script] Prevent scripts from crashing OpenTTD when they send text with command codes to user editable texts such as sign and station names [FS#5818] (r26093, r26092)\n- Fix: Occasional hanging when client joins [FS#5811] (r26043)\n- Fix: Multi line text was handled incorrectly causing glitches [FS#5809] (r26037, r26036)\n\n\n### 1.3.3-RC1 (2013-11-17)\n\n- Fix: Crash when the ICU layouter thinks a font is corrupted [FS#5711] (r26029, r26018, r26017, r26016, r26015)\n- Fix: Make the installer warning about Windows XP SP3 not trigger on the 64 bit Windows XP which is not really Windows XP to start with [FS#5773] (r26028)\n- Fix: Only forward key presses to the IME system if an edit box has the input focus (r26023, r25693, r25691, r25689, r25686, r25684, r25682, r25681, r25667)\n- Fix: Having trains miss a platform that is just being modified is less of a problem than having trains stop twice without moving [FS#5684] (r26013)\n- Fix: --help text of ./configure for packages that require pkg-config (r26011)\n- Fix: The AI/GS library name to use in Import, is not the name given by GetName but GetInstanceName [FS#5662] (r26010)\n- Fix: [Windows] Conditional expression with enumeral with non-enumeral type (r26009)\n- Fix: Game script showing vehicle on e.g. a goal, then the vehicle being removed and eventually being replaced by a non-user vehicle (most likely smoke) causing an assertion to trigger [FS#5804] (r26007, r26006)\n- Fix: Crash when transferring savegame from server to client [FS#5478] (r26005)\n- Fix: [OSX] Text input into an edit box would trigger hotkeys [FS#5705] (r26003, r25743, r25671)\n- Fix: Comma key collided with F12 key for hotkeys; also remove '+' as that is generally not a key (the '+' on the numpad is a separate one) [FS#5679] (r25973)\n- Fix: Rail laying sounds of others could be heard in multiplayer [FS#5665] (r25972)\n- Fix: [SDL] Recursive mutex locking when changing blitter [FS#5787] (r25970)\n- Fix: The wrong vehicle would be taken in a shared order vehicle list window when the ID >= 65536, causing assertions triggering later on [FS#5800] (r25965)\n- Fix: [OSX] Compilation under OSX 10.9 [FS#5797] (r25962, r25951, r25950, r25913)\n- Fix: [NewGRF] A powered rail type implies it is compatible as well, but some NewGRF did not state that causing the path reservation code to bail out in some cases because there was no compatible path [FS#5779] (r25961)\n- Fix: Temporary persistent storage modifications, e.g. command tests or those from GUI, were not properly reset, creating the possibility of desyncs [FS#5772] (r25956)\n- Fix: Train's 'force proceed' status gets reset when the track on the other side of the tile has a signal [FS#5723] (r25955)\n- Fix: Wrong signal conversions for savegames from before 0.4.5 [FS#5731, FS#5732] (r25954, r25953)\n- Fix: Do not skip numbers when skipping spaces and other sorting 'improving' characters [FS#5719] (r25952)\n- Fix: Text direction forcing characters were not filtered out, but shown as ? when ICU was not used for layouting. These are included in chat and console messages to force them to be displayed right [FS#5683] (r25949)\n- Fix: NewGRF inspect window in RTL mode (r25943)\n- Fix: [NoGo] Preserve the relative town growth progress when changing the town growth rate [FS#5786] (r25931)\n- Fix: Several drawing overflows in the signal GUI [FS#5733] (r25929, r25928, r25927)\n- Fix: Centre the edit sign window like all query windows (r25918)\n- Fix: Initialisation of default objects swapped cost and dates (r25868)\n- Fix: Use the actual sprite dimensions for sizing the dropdown arrow of dropdown widgets (r25864)\n- Fix: If the child widgets of a NWidgetHorizontal container do not fill the complete container, align them according to text direction [FS#5686] (r25862, r25729)\n- Fix: When clearing font cache, also clear layout cache [FS#5737] (r25860)\n- Fix: Goto button in order window was not always lowered when it should [FS#5783] (r25858, 25857)\n- Fix: Searching for a suitable font failed, if one of the fonts had no '?' glyph, and no baseset is installed [FS#5704] (r25822, r25820)\n- Fix: Sprite 0 was considered available, even if no baseset was loaded (r25821)\n- Fix: [GS] Language file scanner considered filenames starting with '.' as valid translations, resulting in languages with empty name, which causes trouble [FS#5750] (r25818)\n- Fix: [GS] Handle savegames which contain GS translations for languages with empty name more gently [FS#5750] (r25817)\n- Fix: [Script] ScriptTile::IsBuildableRectangle could report true for tiles outside of the map, if they happened to wrap around into a valid area [FS#5754] (r25815)\n- Fix: [Script] Decoding JSON data with an empty array from Admin port failed (r25809)\n- Fix: Ensure the vehicle bar is high enough for the start/stop vehicle graphics [FS#5740] (r25805)\n- Fix: Lower sprite and text at the vehicle bar if it is pressed [FS#5739] (r25804)\n- Fix: Draw start/stop graphics of the vehicle bar at the right place in RTL mode [FS#5738] (r25803)\n- Fix: [NewGRF] Do not allow changing palette when it is set by the NewGRF (r25794, r25793, r25972)\n- Fix: Some spelling corrections to Catalan and Latin American town names [FS#5746] (r25775, r25774)\n- Fix: If old savegames contain bridges over owned land, keep on drawing the bridges nevertheless [FS#5725] (r25753)\n- Fix: Several RTL alignment issues [FS#5692] (r25733, r25732, r25731)\n- Fix: NWidgetMatrix used pip_pre and pip_post inconsistently and incorrectly, causing misalignment for RTL [FS#5686] (r25727)\n- Fix: Right side of object class string was misaligned (r25726)\n- Fix: [OSX] Do not pass -mmacosx-version-min to compilers that do not support it (r25706)\n- Fix: Autoreplace/renew also refits free wagons [FS#5700] (r25698)\n- Fix: Textbuf caret rendering for complex scripts (e.g. Tamil) (r25696, r25694, r25652, r25651, r25092, r25091)\n- Fix: Vehicle::MarkDirty must be called for the front engine [FS#5700] (r25695)\n- Fix: [Win32] Several issues regarding conversion of characters (r25677, r25676, r25675, r25674, r25673)\n- Fix: [Win32] Handle Unicode characters from outside the BMP correctly (r25672, r25670, r25669, r25668)\n- Fix: [OSX] Crash when unhiding the main window [FS#4689] (r25665)\n- Fix: [OSX] Bootstrap downloading of a baseset did not work [FS#4847] (r25664)\n- Fix: [OSX] Monospace font detection [FS#4857] (r25663, r25662)\n- Fix: [OSX] Rework font detection to work even if no default font sprites are present [FS#4847] (r25661)\n- Fix: [OSX] The name is OpenTTD, not OTTD (r25660)\n- Fix: [OSX] System mouse cursor could become visible during dragging [FS#4420] (r25659)\n- Fix: [OSX] The mouse cursor would sometimes jump near the window borders [FS#4392] (r25658)\n- Fix: [OSX] The new 10.7 fullscreen code can now also be compiled with older SDK versions [FS#4744] (r25656)\n- Fix: [OSX] Mouse cursor was not displayed properly after switching to fullscreen on 10.7+ (r25655)\n- Fix: Improve character and word deletion for CJK languages and complex scripts (r25654, r25653)\n- Fix: [OSX] Define version constants before they are used (r25643)\n- Fix: Some icu_config scripts are too stupid to separate two ldflags by spaces, thus only call it with one (r25642, r25638)\n- Fix: Do not suggest a start date for the game when there will be no vehicles available at all (r25640, r25639)\n- Fix: City list sort of population and rating are reversed compared to the icon [FS#5666] (r25630)\n- Fix: [Script] Give a slightly less generic error when removing nonexistent rail [FS#5651] (r25614)\n- Fix: [Script] Do not return ERR_UNKNOWN when trying to move an order to its current location [FS#5648] (r25612)\n- Fix: Various misreferences in AI and GS changelog [FS#5649] (r25607)\n- Fix: [Script] If a NewGRF returned station type that could not be built by an AI via callback 18, an unknown error would be thrown instead of falling back to the default station [FS#5641] (r25605)\n- Fix: Only the front engine's date of last service was updated [FS#5550] (r25604)\n\n\n### 1.3.2 (2013-07-27)\n\n(None)\n\n\n### 1.3.2-RC2 (2013-07-13)\n\n- Fix: [Admin] End-of-rcon data could not be determined reliably for any rcon command [FS#5643] (r25598, r25588, r25587)\n- Fix: [Content] When the server closed the connection, the client would for eternity try to read a packet and never timeout making it impossible to reconnect [FS#5635] (r25597)\n- Fix: [Script] Changing the script difficulty level in-game would also change the settings using the default even though they were not allowed to change in-game [FS#5644] (r25592)\n- Fix: [Admin] Ensure that sent and received length of JSON strings are the same [FS#5646] (r25590, r25589)\n- Fix: [Squirrel] Stack overflow did not show an error, due to the stack to throw the error already being full [FS#5320] (r25585)\n- Fix: [Script] Documentation implied that XXList::AddItem has a default for value if it is not filled in [FS#5638] (r25579, r25577)\n- Fix: Layouter caused significant slowdown with text heavy windows, cache it to make it manageable (r25574, r25570, r25569, r25567, r25564)\n- Fix: Make content list appear faster (r25573)\n- Fix: Non-ICU layouter started new lines with the space which triggered the linebreak (r25568)\n- Fix: If the next order cannot be resolved, reset the current order property instead of leaving it in an intermediate state [FS#5633] (r25562)\n- Fix: [Squirrel] Infinite recursion loop in freeing data via a looping set of references [FS#5568] (r25558)\n- Fix: One could build bridges over owned land of another company [FS#5524] (r25557)\n- Fix: [Script] Texts from scripts were not validated before they were shown, causing an assertion to trigger [FS#5632] (r25555)\n- Fix: Provide a warning when no vehicles are available, and tell what to do in that case [FS#5530] (r25553)\n- Fix: Possible reading of uninitialised memory due to undefined execution order (r25551)\n- Fix: [Windows] Race condition between two drawing threads could crash OpenTTD [FS#5571] (r25550)\n- Fix: ICU returns the width of the visual run as if the trailing space was added (in case a newline was added). This caused the width to be more than the requested width, but it would still be drawn correctly [FS#5626] (r25547)\n- Fix: Small memory leaks (r25546)\n- Fix: [GS] The checks and validations for setting the extra text in the town window became too stringent [FS#5625] (r25544)\n\n\n### 1.3.2-RC1 (2013-06-30)\n\n- Remove: SETX(Y) does not work at all with other than default fonts, so get rid of it (r25454)\n- Fix: strndup should not examine strings beyond its upper limit [FS#5621] (r25527)\n- Fix: Proper support for Brahmic scripts (e.g. Tamil and Thai) [FS#5481] (r25526, r25525, r25524, r25514, r25513, r25512, r25511, r25501, r25493, r25485, r25483, r25482, r25481, r25478, r25477, r25476, r25474, r25473, r25472, r25471, r25470, r25469, r25468, r25467, r25466, r25465, r25463, r25462, r25455, r25452, r25451, r25450, r25447, r25446, r25445, r25444, r25443, r25442, r25441, r25440, r25439, r25438, r25437, r25436, r25343, r25157)\n- Fix: SDL does not give an event when an application gets mouse focus while going to full screen, so manually force the mouse-is-in-window state [FS#5587] (r25523)\n- Fix: [NewGRF] When cargo NewGRF define a multiplier to modify vehicle capacities, use the same multiplier to modify loading speed (r25497, r25479)\n- Fix: When adding bits to a (train) station, the train trying to stop there could overshoot the (new) stop location and not stop at all [FS#5553] (r25495)\n- Fix: The face of the manager differed on clients when the company was started after the clients joined [FS#5610] (r25491, r25490)\n- Fix: Do not send encoded texts to names, but decode them into a plain C string and then pass them on [FS#5613] (r25489, r25488)\n- Fix: Do not allow control codes in names of things (signs, vehicles, towns, stations, etc), so they have a known maximum fixed size and are, by definition, the same for everyone (r25487)\n- Fix: Missing length validation for town and president names in script APIs (r25486)\n- Fix: [OSX] OS X SDK versions >= 10.5 always have a non-const iconv declaration (r25480)\n- Fix: Disable the depot-refit button in the order GUI, if the consist is not refittable unless it already has a refit order (r25459, r25458, r25457)\n- Fix: When town creation failed, removing remnants of the construction failed on protected houses [FS#5603] (r25429)\n- Fix: There were two hotkeys to toggle between 'unload' and 'unload if possible' (r25406)\n- Fix: The size of station construction windows could oscillate when resizing the window moved the mouse into the window [FS#5596] (r25395)\n- Fix: Restrict renaming engines to the server, just like renaming towns (r25394)\n- Fix: Loading only 8 bits into a 16 bit variable could cause endianness problems (r25337)\n- Fix: Check for zero width space in translations and fail upon finding them [FS#5589] (r25326)\n- Fix: [SDL] Keyboard input stopped working after fullscreen toggle [FS#5580] (r25318)\n- Fix: Proper size-estimation for numbers with n digits, i.e. not assume a particular number is the widest [FS#5562] (r25314, r25313)\n- Fix: Do not focus the editbox in the NewGRF window, if there is no editbox visible (r25307)\n- Fix: Game Script APIs that execute a DoCommand were returning the same result as in TestMode during world generation [FS#5561] (r25305)\n- Fix: Build railway fences next to objects, even if they are owned by the same company [FS#5565] (r25302)\n- Fix: gcc4.6 removed -mno-cygwin option (r25266)\n\n\n### 1.3.1 (2013-06-01)\n\n- Fix: When overbuilding a reserved track with a non-track station tile, that tile would remain reserved and eventually trigger a crash upon removal [FS#5540] (r25251)\n\n\n### 1.3.1-RC1 (2013-05-17)\n\n- Feature: Translations of baseset descriptions via language files (r25209, r25205)\n- Feature: Faroese and Scottish Gaelic translations (r25198, r25176)\n- Feature: Plural form to be used by Scottish Gaelic (1,11; 2,12; 3..10, 13..19; other) (r25078)\n- Change: [strgen] Allow any number of colour codes in translations (r25193, r25192, r25191)\n- Change: [Win32] MSVC 2010 comes with stdint.h (r25128)\n- Change: Be slightly more lenient with trying to detect a subversion repository in case someone has a sparse tags checkout. In that case the .svn folder misses from the $ROOT_DIR because it is in the $ROOT_DIR/.. (i.e. tags) folder (r25107)\n- Fix: 'No station' error was given, even when there was a station that way occupied or not yours [FS#5546] (r25243)\n- Fix: Crash when AI is executing a command as it is bankrupted (removed from the game) [FS#5547] (r25236)\n- Fix: Give bridges owned by no one (from bankrupt companies) to the first company which replaces the bridge. Everyone could have removed/rebuild the bridge anyway [FS#5541] (r25231, r25227)\n- Fix: [NewGRF] Revise when vehicle running sound effects 04, 07 and 08 are played; in depot or tunnel, or when crashed or stopped: No sound. Braking: Effect 08 instead of 07 [FS#5538] (r25226)\n- Fix: [NewGRF] Play vehicle sound effect also for planes (r25225)\n- Fix: [NewGRF] cur_speed is only valid for the front engine, so make other engines in the consist use the speed of the front [FS#5534] (r25224)\n- Fix: [NewGRF] Make tick_counters work the same for vehicles (r25223, r25222)\n- Fix: [NewGRF] IsCompatibleTrainStationTile() is not a symmetric function. Clarify the parameters and fix the cases were they were swapped (r25221)\n- Fix: Consider map border as water with respect to river/canal continuation (r25220)\n- Fix: [Script] Clarify on which tiles IsDesertTile and IsSnowTile work, i.e. the ones without infrastructure or buildings, and introduce GetTerrainType for the cases where IsDesertTile/IsSnowTile do not work [FS#5537] (r25213)\n- Fix: The level crossing sound is an ambient sound and not a new year sound (r25200)\n- Fix: Original train and road vehicle acceleration did no longer respect bridge speed limits [FS#5523] (r25167)\n- Fix: [Win32] Do not statically link to SHGetFolderPath as it may not exist, and improve its emulation [FS#5522] (r25155, r25153)\n- Fix: [Win32] Do not store invalid paths in the search path list (r25154)\n- Fix: Remove stray reservation from savegames affected by FS#5510 et al. upon loading [FS#5520] (r25152)\n- Fix: [Script] XXBase::Chance function did not work for large values (>65535) [FS#5517] (r25148)\n- Fix: Several typos/inconsistencies in English strings [FS#5496] (r25144, r25143)\n- Fix: When extra dynamite was disabled, towns would be allowed to clear bridges with trams (r25141)\n- Fix: Towns are build as OWNER_TOWN, so they also need to be removed as OWNER_TOWN otherwise parts might remain [FS#5519] (r25140)\n- Fix: Editboxes could become too small when resizing windows (r25121)\n- Fix: Game script language files did not work, when inside a tar [FS#5509] (r25117, r25114)\n- Fix: [NewGRF] Acceleration of NewGRF aircraft was too fast, while acceleration of default aircraft was way too slow (r25115)\n- Fix: Pass $LDFLAGS_BUILD to all endian_check compilations (r25108)\n\n\n### 1.3.0 (2013-04-01)\n\n- Fix: Station rebuilding could leave reserved tiles which caused crashes later on [FS#5510, FS#5516] (r25132)\n- Fix: When the count for a scrollbar was 0, the inter distance was subtracted too much causing a scrollbar with a negative size (r25123)\n\n\n### 1.3.0-RC3 (2013-03-18)\n\n- Fix: Limit aircraft property 0D to 19, since the conversion result to km-ish/h needs to fit into a byte [FS#5492] (r25099)\n- Fix: Clicking the statusbar crashed, when news were pending but no news were shown yet [FS#5486] (r25093)\n- Fix: Make editbox character filters also apply to pasted content from clipboard (r25090, r25089)\n- Fix: Catch exception anonymously, if the exception content is not of interest [FS#5500] (r25081)\n\n\n### 1.3.0-RC2 (2013-03-05)\n\n- Fix: Make sizes of the station preview list and direction selection identical in the station build window [FS#5472] (r25064)\n- Fix: When allocation of the sprite cache fails, try to allocate less memory and display an error message later on (r25061)\n- Fix: Refactor Script Debug GUI to only set widget states in OnInvalidateData [FS#5490] (r25052)\n- Fix: Do not let gcc include files from the 'standard C' include directories to avoid inclusion of header files at the top of the preprocessed nfo files, which cause NFOrenum/GRFcodec to make invalid assumptions about the NFO version (r25050)\n- Fix: Minimise gaps feature caused removal to only happen at the signal build interval instead of the implicit interval of 1 [FS#5479] (r25038)\n- Fix: Green path signals would be shown when building them 'under' a train, and they would keep showing green until they were passed again [FS#5480] (r25037)\n\n\n### 1.3.0-RC1 (2013-02-19)\n\n- Feature: Searching of (missing) content via GrfCrawler (r25024, r25023)\n- Change: Cleanup goals and cargo monitors of companies when they go bankrupt or are taken over (r24986)\n- Change: Apply the same name sorting rules to content and NewGRF list as for the server list (r24983)\n- Fix: [SDL] Crash after bootstrap download of 32bits base set due to referencing a deleted mutex [FS#5466] (r25017)\n- Fix: [SDL] Improve 8bpp hardware palette support. Instead of always requesting SDL_HWPALETTE, it is now only done for 8bpp blitters in fullscreen mode (r25003, r25002, r24993)\n- Fix: Set vehicle's service interval is percent flag appropriately on creation [FS#5137] (r24998)\n- Fix: When choosing a train in a depot to attach a newly purchased wagon to, do not consider trains currently moving in and out of the depot (r24987)\n- Fix: [Script] Crash when passing too many parameters [FS#5465] (r24982, r24981, r24980)\n\n\n### 1.3.0-beta2 (2013-02-07)\n\n- Feature: [NewGRF] Station randomisation triggers (r24906, r24905)\n- Feature: Settings type filter included in the advanced settings GUI (r24862, r24863)\n- Change: Revert to opening the vehicle GUI again when cloning vehicles using the clone-button from the depot GUI [FS#4458] (r24955)\n- Fix: Additional zoom in levels could glitch by a few pixels due to incorrect rounding [FS#5463] (r24975)\n- Fix: Honour pause_on_newgame setting when running as a dedicated server [FS#5279] (r24974)\n- Fix: [NewGRF] Prevent access to tile-based variables when tile is invalid [FS#5462] (r24973)\n- Fix: Do not make overbuilding rivers with canals insanely expensive [FS#5258] (r24972)\n- Fix: Crash when an infinite loop occurred during loading of a script [FS#5346] (r24970)\n- Fix: company window was not updated when shares were enabled/disabled [FS#5379] (r24968)\n- Fix: Trams would get stuck on water [FS#5228] (r24966)\n- Fix: With YAPF the docking behaviour differed per direction; now favour docking in the direction you approached [FS#5416] (r24964)\n- Fix: Do not stop loading if there are reservations left [FS#5435] (r24963)\n- Fix: Reserve all capacity while unloading to avoid 'stealing' cargo, i.e. loading cargo onto a second vehicle when the first cannot be fully filled yet [FS#5438] (r24962)\n- Fix: If a platform is enlarged and there is a reservation, reserve the whole platform [FS#5362] (r24961)\n- Fix: Inconsistencies in the 'thanks to' lists [FS#5423] (r24960)\n- Fix: Set 'replace when old' flag when replacing an autoreplace (r24950)\n- Fix: Deleting implicit orders was not able to deal with the various side-effects of DeleteOrder [FS#5452] (r24944)\n- Fix: Redraw autoreplace window properly in network games (r24939)\n- Fix: Never put a space between cargo name and subtype [FS#5447] (r24938)\n- Fix: Do not allow order refit to be set for no-load orders [FS#5446] (r24936)\n- Fix: Make group names unique per company and vehicle type [FS#3473] (r24933)\n- Fix: Prevent more NewGRFs being selected than is possible to load  [FS#5158] (r24932)\n- Fix: [GS] Do not try to pause or unpause crashed scripts [FS#5415] (r24929)\n- Fix: [Squirrel] Update line information before processing 'while' token of 'do'-'while' statement [FS#5408] (r24928)\n- Fix: Add a tooltip to the mapsize selection mentioning possible deviations [FS#5395] (r24925)\n- Fix: When an object built on a river is removed, restore the river [FS#5441] (r24923)\n- Fix: Upgrading bridges could steal road types [FS#5389] (r24912)\n- Fix: [GS] Allow GSs to pass negative integer string parameters (r24908)\n- Fix: 'Train loads/unloads cargo' station animation triggers on individual platform (r24904)\n- Fix: Cached station animation triggers were only set when removing parts of a station (r24903)\n- Fix: The station build window did not update when the station spread changed [FS#5434] (r24899)\n- Fix: Do not unpause the game when closing the highscore window if it was already paused before the highscore screen was shown (r24898)\n- Fix: Improvements and fixes for the base translation [FS#5411, FS#5420, FS#5421, FS#5422, FS#5427] (r24896, r24875, r24872, r24869)\n- Fix: Allow downgrade of road bridges in the scenario editor [FS#5436] (r24895)\n- Fix: Invalidate station selection window when station spread changes [FS#5434] (r24894)\n- Fix: Distribute GS compat_<version>.nut with OpenTTD (r24890)\n- Fix: Pass proper UTF-16 strings instead of UCS-2 to ICU in order to preserve characters outside the BMP (r24885)\n- Fix: A completely emptied vehicle could trigger an assert (r24883)\n- Fix: Desync when NewGRF changes the stats related to acceleration (power, weight, tractive effort, etc) during service or 32 day triggers (r24882)\n- Fix: Incorrect Romanian own name (r24874)\n- Fix: Make invalid sprite references to mapgen sprites behave the same as invalid references between recolour and real sprites [FS#5404] (r24858)\n- Fix: Do not let UFOs and coal mines clear water (r24857)\n- Fix: Do not let UFOs and coal mines destroy depots [FS#5406] (r24856)\n- Fix: Do not send aircraft to depots that are out of range of the next destination [FS#5405] (r24855)\n- Fix: Only consider vehicles available in the climate for purchase/depot cell size (r24854)\n- Fix: Extend widget data member to 32 bits so that sprite IDs >= 2^16 can be used (r24853)\n\n\n### 1.3.0-beta1 (2012-12-24)\n\n- Feature: Advanced settings to disable certain sound effects (r24846)\n- Feature: [NewGRF] Support oversized purchase list sprites [FS#5271] (r24839)\n- Feature: Improve pylon placement around station tiles that display neither pylons nor catenary (r24836)\n- Feature: When using a non-release version of OpenTTD and the basegraphics are missing some sprites, also suggest to use a non-release version of the basegraphics (r24821)\n- Feature: Consider engine preview windows always sticky, so non-shift mass-closure does not affect them [FS#2632] (r24809)\n- Feature: When share-cloning vehicles do not open the vehicle window of the new vehicle [FS#4458] (r24808)\n- Feature: Enable usage of 'companies' console command also in singleplayer [FS#2820] (r24807)\n- Feature: Ask for confirmation before creating giant screenshots [FS#3148] (r24806)\n- Feature: Separate subdirectory for screenshots (r24804)\n- Feature: Unify the difficulty settings window with the advanced settings window (r24791, r24792)\n- Feature: Various methods to open the OSK (r24785)\n- Feature: Add a string filter to the server list [FS#3852] (r24769)\n- Feature: Add industry type and cargo dropdown selection for easier navigating in the industry chain window (r24763)\n- Feature: Introduce GUI icons for deleting to the left/right (r24749)\n- Feature: Add clear button to all editboxes (r24748)\n- Feature: Reset the vehicle engine pool when starting a scenario (r24716)\n- Feature: Add basic/advanced/expert filters to the advanced settings GUI [FS#5355] (r24671)\n- Feature: Draw cargo labels in the station list black or white depending on the background colour [FS#5311] (r24668)\n- Feature: Do not display the preview window for disabled vehicle types (r24660)\n- Feature: Add new filter option to the advanced settings window to show only changed settings (r24647)\n- Feature: Add text filtering to advanced settings (r24632)\n- Feature: Add buttons to expand/collapse all to advanced settings GUI (r24631)\n- Feature: [GS] Allow GameScripts to construct and prospect industries without having a sponsor (r24623)\n- Feature: Pay interest also on a negative cash value (r24618)\n- Feature: Sort cargo filter by cargo name/label at the company stations window [FS#5311] (r24615)\n- Feature: More options for the auto-scroll setting (r24590)\n- Feature: Allow AI/GS script developers to break the execution of their scripts and pause the game using ScriptController::Break() (r24542, r24575)\n- Feature: Scripts can be suspended even if the game is still progressing, thus break-on-log now works also for Game Scripts (r24537)\n- Feature: Highlight industries on the smallmap when the mouse is over an entry in the legend (r24534)\n- Feature: [NewGRF] Allow resolving var 5F via vehicle var 61 (r24527)\n- Feature: [OSX] Additional high-resolution icons for the app bundle [FS#4539] (r24525)\n- Feature: Ctrl+Backspace/Delete to remove characters up to next word beginning in text edit boxes [FS#5203] (r24521)\n- Feature: Ctrl+Arrow keys to move entire words in text edit boxes [FS#5203] (r24520)\n- Feature: When using autorefit only load/refit vehicles if other wagons cannot already take all cargo without refitting [FS#5106] (r24497)\n- Feature: [GS] Useful behaviour for GSEngine::IsValidEngine and GSEngine::IsBuildable when outside GSCompanyMode scope (r24492)\n- Feature: Display GS dead state in AI debug window [FS#5230] (r24489)\n- Feature: Add buttons to view textfiles from the online content window [FS#5236] (r24488)\n- Feature: Make the pathfinder decide whether ships shall leave depots towards north or south [FS#5127] (r24481)\n- Feature: [GS] API compatibility scripts for Goal Scripts [FS#5219] (r24468)\n- Feature: Display in the advanced settings description a setting type which explains the scope of changes to a particular setting [FS#5244] (r24411)\n- Feature: [GS] Allow game scripts to monitor cargo pickups and deliveries done by companies (r24406)\n- Feature: [NewGRF] Allow vehicle variable 61 for callback 2D (recolour) and re-randomisation (r24371)\n- Feature: [NewGRF] Customisable signals for rail types (r24367)\n- Feature: Allow filtering for multiple words (separated by whitespace resp. quoted) in script breakpoints, the sign list, content and NewGRF-GUIs (r24337, r24342)\n- Feature: Add dropdowns to NewGRF configurations, if all values have labels (r24318)\n- Feature: Add dropdowns to AI configurations, if all values have labels (r24317)\n- Feature: Allow to select advanced settings with limited range with a dropdown list (r24316)\n- Feature: Display default values for advanced settings in the settings description (r24298)\n- Feature: News item for exclusive transport rights [FS#2688] (r24287)\n- Feature: [GS] Additional GSNews::NewsItem::NewsTypes (r24286)\n- Feature: [NewGRF] Variable with the current max speed for vehicles [FS#5052] (r24246)\n- Feature: Descriptions explaining the meaning of advanced settings (r24237)\n- Feature: Split the renew-months setting text in two string values (one before life time and one after) (r24210)\n- Feature: Show a hint in the supplies tab of station windows, if the station is affected by exclusive transport rights [FS#5178] (r24205)\n- Feature: [NewGRF] Callback to set industry production level on construction (r24186)\n- Feature: South Korean and South African currencies [FS#4907] (r24148)\n- Feature: Randomise count of passengers killed in a crash [FS#3576] (r24142)\n- Feature: Display rating in the town directory window (r24141)\n- Feature: Show group name in the replace vehicle window caption [FS#1117] (r24140)\n- Feature: Allow to create a new vehicle group by drag and drop (r24139)\n- Feature: Ctrl+Drag to add all vehicles with a shared order list to a group (r24138)\n- Feature: Draw indicator icon in the replace vehicle window for vehicles which have a replacement set (r24137)\n- Feature: Autoreplace vehicles only when they get old [FS#4465] (r24136)\n- Feature: Add configurable limits for tree planting, and remove tree drag size limit (r24134, r24135)\n- Feature: Lithuanian currency [FS#4984] (r24133)\n- Feature: Ctrl+Clicking to change colour of all colour schemes at once [FS#1952] (r24131)\n- Feature: Deselect 'remove' button when changing signal types in the GUI [FS#2314] (r24130)\n- Feature: Option to minimise signal distance when dragging over obstacles [FS#3660] (r24129)\n- Feature: Allow closing airports for incoming aircraft [FS#1497] (r24127)\n- Feature: Drag and drop support for the NewGRF list window [FS#3854] (r24126)\n- Feature: Drag destination highlighting to the group GUI [FS#3705] (r24125)\n- Feature: [NewGRF] Misc engine flag to disable breakdown smoke [FS#4658] (r24124)\n- Feature: Be more careful with the population of a small town while placing a statue (r24105)\n- Feature: Debug option for showing the redrawn dirty blocks/rectangles [FS#5101] (r24065)\n- Change: News display options are now shown in the advanced settings window (r24842, r24843, r24844, r24845)\n- Change: Drop 'signal density' from the advanced settings GUI. It is more suited to be only changed via the signal GUI (r24670)\n- Change: Check for bankruptcy on a monthly basis (r24619)\n- Change: Only bankrupt, if you have negative money considering you took max loan (r24617)\n- Change: When building long roads or tramways, only build the roadbits at the beginning and the end if they can connect to something [FS#5228] (r24503)\n- Change: Disallow original and better road layouts to build roads under bridges along the bridge direction [FS#5229] (r24391)\n- Change: Allow cloning of orders which are unreachable for the destination vehicle if they were already unreachable for the source vehicle [FS#5213] (r24390)\n- Change: Allow building/modifying/removing signals even if a train is on the belonging track (r24356)\n- Change: [NewGRF] Make bounding boxes of road vehicles change according to the vehicle length to make alignment easier [FS#5204] (r24331)\n- Fix: [NewGRF] Consider regearing-like cargoes as no-cargo in cargo filters [FS#5386] (r24848)\n- Fix: [NewGRF] Draw NewGRF railtypes in NewGRF station previews (r24840)\n- Fix: Do not consider blocked rail station tiles that display wires as non-reachable for masking out unnecessary catenary wires (r24837)\n- Fix: The autorefit dropdown in the order GUI was not always updated when modifying vehicle consists [FS#5396] (r24834)\n- Fix: [NewGRF] Incorrect values are better than a crash when a NewGRF queries vehicle variable 4C before vehicle initialisation is completed [FS#5398] (r24831)\n- Fix: determineversion.vbs could hang in a git checkout (r24826)\n- Fix: Close pending preview windows when the engine is introduced to everyone (r24812)\n- Fix: Close engine preview window when another client accepts it (r24811)\n- Fix: Make engine preview offers more robust with regard to changes in the company ranking (r24810)\n- Fix: When displaying the previous news message, do not consider news which are turned off [FS#4224] (r24802)\n- Fix: Glitch in timetable GUI [FS#5327] (r24800)\n- Fix: Unify checks for editability of settings (r24787)\n- Fix: Invert the focus handling of the OSK. Keep the focus at the OSK and close it on losing focus (r24774)\n- Fix: Shift in the OSK behaved like capslock (r24773)\n- Fix: [Win32] Do not crash when switching to an unsupported fullscreen display mode (like 8bpp modes in Windows 8) [FS#5359] (r24762)\n- Fix: Crash on corrupted savegame [FS#5367] (r24754)\n- Fix: Some editboxes had a different colour than the rest of the window (r24747)\n- Fix: In various windows the OSK looked shiny but using it had no effect whatsoever (r24727)\n- Fix: AI debug GUI crashed when using disabled buttons via hotkeys (r24723)\n- Fix: When starting a scenario apply the local company settings to the new company [FS#5139] (r24717)\n- Fix: [NewGRF] Allow stations to draw snow/desert aware ground sprites with railtype overlays [FS#5335] (r24715)\n- Fix: [NewGRF] Draw default foundations if resolving of custom station foundation sprites fails [FS#5337] (r24714)\n- Fix: [NewGRF] Tolerate old NewGRFs returning invalid values via CB 11 [FS#5262] (r24713)\n- Fix: [NewGRF] Station variables 61 and 62 returned incorrect values, if no vehicle ever tried loading [FS#5303] (r24712)\n- Fix: Check whether to not display a ^ loading indicator at drop stations only worked if there was no other vehicle unloading for 255 ticks (r24711)\n- Fix: [NewGRF] Station var 48 should report acceptance, not supply (r24706)\n- Fix: Station rating might consider very old vehicles very young (r24705)\n- Fix: Disallow closing oilrig airports in the scenario editor (r24703)\n- Fix: Workaround for an overoptimisation done by GCC 4.5 [FS#5246] (r24701)\n- Fix: Get packing right on MinGW GCC 4.7 (r24573)\n- Fix: Make sure all template functions are instantiated by at least one compilation unit [FS#5276] (r24496)\n- Fix: Do not load order backups when loading a server-saved game in single player (r24445)\n- Fix: Allow overbuilding bridges with the same type when adding a roadtype [FS#5221] (r24413)\n- Fix: Cargo lists cannot have genders (mostly because it is very unclear what gender it would have) (r24374)\n- Fix: Off by one errors with regard to clicking on setting buttons (r24313)\n- Fix: STRING1 probably means STRING1 (r24295)\n- Fix: squirrel_export should match key words like 'virtual', 'static' and 'const' only as whole words (r24288)\n- Fix: Hide object specs/classes from the GUI, if they will never be available to the user [FS#4967, FS#5120] (r24171)\n- Fix: Unify the spacing in 'AI/Game Script' and never just say 'Game' when 'Game Script' is meant [FS#4898] (r24020)\n\n\n## 1.2.x\n\n### 1.2.3 (2012-11-01)\n\n(None)\n\n\n### 1.2.3-RC1 (2012-10-17)\n\n- Change: [NewGRF] Set the reference brightness of 32bpp mask recolouring to 128 (r24610)\n- Fix: Configure script did not properly handle _BUILD flags during reconfigure (r24601)\n- Fix: Configure script failed to detect libfontconfig 2.10 as newer than 2.3 (r24598)\n- Fix: When fontconfig is not available, the bootstrap download crashed [FS#5336] (r24597)\n- Fix: Crash when a gamescript provided too many parameters to a GSText object [FS#5333] (r24593)\n- Fix: [Script] API documentation mistakes/omissions (r24584)\n- Fix: Do not add duplicates to the ban list [FS#5308] (r24580)\n- Fix: Draw the window resize sprite bottom-aligned [FS#5324] (r24577)\n- Fix: Vehicle list at buoys did no longer work [FS#5319] (r24576)\n- Fix: [Windows] Do not cast away const in OS specific code (r24572, r24571)\n- Fix: Naming of bundles was somewhat broken (r24569)\n- Fix: Non-train vehicle lists were not resorted when vehicles were renamed [FS#5261] (r24567)\n- Fix: Stop both price and payment inflation if either of them has reached MAX_INFLATION (r24565)\n- Fix: Limiting the inflation did not quite work [FS#5312] (r24564)\n- Fix: Do not show profit from refits as cost in the refit window [FS#5297] (r24544)\n- Fix: Do not limit to reading one UDP packet per game loop (r24532)\n- Fix: Max script chance was too big (r24531)\n- Fix: [NewGRF] RandomAction 84 should interpret register 100 as signed (r24528)\n- Fix: [OSX] Some compile problems in mac-only code [FS#5296] (r24524)\n- Fix: The gender of an industry name is defined by the industry-type part of the name, not by the town-name part, even if it comes first (r24523, r24522)\n- Fix: GStexts were compiled incompletely when containing certain string codes (r24516, r24515)\n- Fix: The mousewheel did not work in the build waypoint window [FS#5285] (r24507)\n- Fix: [NewGRF] Airport variables 60 to 65 and 69 used the wrong cargo translation table for translations (r24506)\n- Fix: Do not show the global goals as company goals for spectators (r24500)\n- Fix: Clarify description of command line option -n (r24485)\n- Fix: Do not call RebuildSubsidisedSourceAndDestinationCache() before subsidy savegame conversion is finished [FS#5232] (r24482)\n- Fix: Trains were unable to reverse in stations when using NPF (r24479)\n- Fix: The --xxx yyy format (instead of --xxx=yyy) for configure did not work (r24471)\n- Fix: --prefix was not accepted by configure (r24470)\n- Fix: Changing auto-refit for a 'goto station' order was inadvertently modifying the full load state [FS#5264] (r24457)\n\n\n### 1.2.2 (2012-08-16)\n\n(None)\n\n\n### 1.2.2-RC1 (2012-08-01)\n\n- Fix: In some cases ships could be covered with land [CVE-2012-3436] [FS#5254] (r24449, r24439)\n- Fix: Copy constructor and assignment operator cannot be implicit template specialisations [FS#5255] (r24448)\n- Fix: Make (non-refittable) vehicles with invalid default cargo unavailable [FS#5256] (r24438)\n- Fix: CFLAGS/CXXFLAGS ignored for helper binaries (r24432, r24429, r24427, r24365)\n- Fix: [Windows] Unbreak NewGRF MD5 sum calculation. Macros and side effects do not mix, especially if there is some obscure '#define min' in a windows header that nobody thinks of [FS#5231] (r24416)\n- Fix: Disallow removing roadtypes from bridges when not dragging in bridge direction [FS#5221] (r24414)\n- Fix: Draw wires under low bridges if the bridge is transparent, not if the wire is transparent (r24403)\n- Fix: Station properties 11 and 14 were combined incorrectly [FS#5243] (r24402)\n- Fix: [Windows] Changing resolution did not resize the window (r24394)\n- Fix: Use the 'all vehicles' group for the autoreplace window from the vehicle list [FS#5239] (r24392)\n- Fix: Do not consider not finding a particular base set critical; just load a different one and display an in-game error later on [FS#5233] (r24388)\n- Fix: Make IsInDepot() functions behave consistent across vehicle types and add IsChainInDepot instead, if that is what shall be checked [FS#5188] (r24384)\n- Fix: Call Vehicle::IsStoppedInDepot only for the first vehicle in a chain (i.e. primary vehicle or free wagon) (r24382)\n- Fix: Do not resize the object GUI when selecting objects. Rather clip the object name (r24379)\n- Fix: ReInit could crash for windows with NWidgetMatrix widgets [FS#5218] (r24378)\n- Fix: [NewGRF] Extended action A1 did not work correctly [FS#5227] (r24369, r24361)\n- Fix: [NewGRF] Ship-specific 80+x variables were missing for unknown reason [FS#5224] (r24360)\n- Fix: When airport construction was denied due to noise, the error message named the wrong town (r24354)\n- Fix: [NoAI] A TileIndex is not a station id, so do not use it as one [FS#5215] (r24353)\n- Fix: When highlighting the drop position for vehicles in depots, make space for all articulated parts (r24352)\n- Fix: Short vehicles were not properly positioned at the cursor when dragging for RTL languages (r24351)\n- Fix: EQUALSIZE widget containers within EQUALSIZE containers were initialised with wrong sizes (r24346)\n- Fix: The cursor in the company password window was not blinking due to wrong magic constants (r24335)\n- Fix: [NewGRF] Change the length of 8/8 road vehicles in vehicle lists to 32 pixels; this is in fact the correct length as can be seen in corners for short articulated parts following each other [FS#2553] (r24332)\n- Fix: [NewGRF] Group vehicles in the purchase list properly by source GRF, but also consider engine GRFID overrides [FS#4254] (r24330, r24321)\n- Fix: Make the AI settings window behave more like the other settings window by closing the query window whenever selecting a different row (r24315)\n- Fix: Editing NewGRF parameters using the query window showed wrong values, if there was no direct relation between parameter index and parameter register (r24314)\n- Fix: Centre object previews in 1- and 2-view selectors based on the 4-view selector layout [FS#5057] (r24299)\n- Fix: Increase the left and right margins of the text in the yes/no query window (r24293)\n- Fix: [NewGRF] GetReverseCargoTranslation() was unnecessary complicated and also returned the wrong thing for cargoes not present in the translation table (r24273)\n- Fix: [NewGRF] Load cargo- and railtype-translation during both reservation and activation stage. That way they can be selected using Action7 depending on present cargo- or railtypes (r24272)\n- Fix: Use the same colour scheme for the script selection window as in other comparable windows (r24268)\n- Fix: Make the oilrig-vehicle list accessible to spectators and colour its caption neutrally grey [FS#5126] (r24260)\n\n\n### 1.2.1 (2012-06-01)\n\n- Fix: [Script] ScriptTown::GetGrowthRate() returned wrong values after usage of SetGrowthRate() (r24302)\n\n\n### 1.2.1-RC1 (2012-05-16)\n\n- Fix: Change the unit of the sprite-cache size setting from megabytes to megapixels, so it depends on the blitter being used. Also increase it from 64 to 128, and change the name in the cfg file, so everyone gets the new default [FS#5162] (r24252)\n- Fix: Do not immediately display error messages from parsing the cfg file, but schedule them for displaying after the GUI is prepared for it [FS#5154] (r24250, r24249, r24248, r24247)\n- Fix: Dereferencing uninitialised pointer causing a crash [FS#5159] (r24224)\n- Fix: Lag counters were not properly reset when switching states making it possible to get disconnected for lagging when you were not lagging [FS#5166] (r24221)\n- Fix: Adopt ICU version detection to also deal with the new versioning scheme since ICU 49 [FS#5182] (r24220)\n- Fix: Immediately do the cargo payment on vehicle crashes instead of when they are cleared [FS#5152] (r24219)\n- Fix: The confirmation window to abort world generation was hidden during world generation, so actually you could not abort it [FS#5159] (r24214)\n- Fix: If a company is taken over or bankrupts, transfer exclusive transport rights to the new owner respectively cancel them (r24204)\n- Fix: Make the engine name not overdraw the engine count in the autoreplace GUI (r24203)\n- Fix: Make the size of the details in the autoreplace GUI match more the size of the details in the purchase list (r24202)\n- Fix: Mark group list dirty when setting/clearing autoreplace for an engine type [FS#5170] (r24201)\n- Fix: Invalidate build vehicle windows every month, in case they need resorting due to changed reliabilities [FS#5149] (r24200)\n- Fix: If you consider a settings to potentially cause desyncs via NewGRFs and thus disallow changing it in network games, you should probably also sync it to clients (r24193, r24191)\n- Fix: Use default value when reading an invalid setting value [FS#5153] (r24192, r24146)\n- Fix: [Windows] When going to fullscreen and back, restore to the resolution you were, not to the fullscreen resolution (r24189)\n- Fix: [Windows] When changing the basics of a window (fullscreen, 8bpp/32bpp), and a window already exists, it was forced out of maximise mode, and its resolution/position was reset, often causing unwanted side-effects [FS#5151] (r24188)\n- Fix: Town radii were not updated immediately after construction/destruction of houses, resulting in desyncs [FS#5169] (r24183)\n- Fix: The population of a town was computed incorrectly for overridden houses when loading a game (r24182, r24181, r24179)\n- Fix: The object name from property A was not displayed in the object GUI [FS#5110] (r24178)\n- Fix: The arctic 'shops and offices' used the 'church' sprite in one of its four views [FS#5148] (r24177)\n- Fix: The object GUI did not draw objects when all objects of a class are disabled (r24176)\n- Fix: If you spent hard work on finding an available object ID, you should probably also use it instead of always 0 (r24159)\n- Fix: Town producing no cargo at all could spawn passenger subsidies (r24158)\n- Fix: The music volume was set too early during startup causing it to be not set correctly (r24155)\n- Fix: [Squirrel] Crash when trying to create an array with negative size [FS#5160] (r24153)\n- Fix: [NoAI] Do not return the last 'cached' speed of vehicles when they are stopped/crashed [FS#5157] (r24152)\n- Fix: [Script] Typo in script documentation (r24151)\n- Fix: Glass-sprite of bubble-generator was not drawn anymore for completely constructed tiles [FS#5143] (r24107)\n- Fix: Conflicting strategies for resizing the main toolbar and statusbar after resizing the main window [FS#5136] (r24089)\n- Fix: Significantly reduce the area that is redrawn for text effects [FS#5103] (r24068)\n- Fix: Do not redraw up to 25% of the map when making a new vehicle visible for the first time (r24067)\n- Fix: Do not redraw the text effect when nothing changed (r24066)\n\n\n### 1.2.0 (2012-04-15)\n\n- Fix: When starting GS or AI, always use the settings of the game, not the new-game settings [FS#5142] (r24108)\n- Fix: Provide translated comments in the desktop file without language name postfix (r24100)\n- Fix: Cloning orders of aircraft with limited range failed [FS#5131] (r24086)\n\n\n### 1.2.0-RC4 (2012-04-01)\n\n- Fix: Reversing trains while they were entering or leaving a depot could lead to stuck trains [FS#5093] (r24078, r24071)\n- Fix: The 'last joined' server was not properly selected anymore [FS#5098] (r24070)\n- Fix: Immediately start querying the last joined server instead of waiting for the requery loop [FS#5097] (r24069, r24062)\n- Fix: Make the full snowiness level of houses the same as roads and rails [FS#5121] (r24064)\n- Fix: With certain versions of GCC and compiler flags the compiler could reorder some code badly causing the 32bpp depot flag not working [FS#5125] (r24063)\n- Fix: Do not freeze aircraft mid-flight when skipping to an out-of-range destination [FS#5123] (r24060)\n- Fix: Wrong numbering of string parameters causing wrong capacities to be shown [FS#5124] (r24058)\n- Fix: Crash when timetabling a maximum travel speed of 0 [FS#5111] (r24053)\n- Fix: [NewGRF] Imported GRF sounds were inserted into the wrong slots [FS#5107] (r24052)\n- Fix: [NewGRF] Realsprites inside the action 11 block were not skipped correctly (r24050)\n- Fix: Improve error messages for the placement restrictions of banks, water towers and toy shops [FS#5095] (r24040)\n\n\n### 1.2.0-RC3 (2012-03-18)\n\n- Feature: Allow display of baseset textfiles (r24037)\n- Feature: Increase the station class limit from 32 to 256 (r24031)\n- Fix: After opening a text window with the monospaced font, all other text started glitching (r24038)\n- Fix: [NoAI] Reset 'is random' status of temporary variable during saveload as it is not always written to when loading an AI which means it would be taking the 'is random' setting of another AI (r24033)\n- Fix: [NoAI] Make AIEngine::IsArticulated return true if the articulated callback flag is set, do not try to run the callback (r24029)\n- Fix: Pass cases down into the list of cargoes [FS#5090] (r24024, r24023, r24022)\n\n\n### 1.2.0-RC2 (2012-03-04)\n\n- Fix: [Script] AI used in names in API for GSOrder [FS#5088] (r24006)\n- Fix: Improve rounding when converting display speeds to internal speeds [FS#5079] (r23995)\n- Fix: Also reset the font glyph cache when switching blitters (r23992, r23987)\n- Fix: [NewGRF] Also display the cargo subtype for vehicles which have no capacity, but a subtype [FS#5076] (r23991)\n- Fix: Zero the offsets of disabled zoomlevels, so they do not influence offset calculations (r23989)\n- Fix: Invalid reads when scaling an odd-sized sprite smaller (r23986)\n- Fix: Inconsistent quit/abandon/exit game/scenario/editor strings [FS#5074] (r23985)\n- Fix: Fix the order of lights on the helipad [FS#5082] (r23984)\n- Fix: Tarred heightmaps would not be found [FS#5083] (r23983)\n- Fix: Do not load a game during UpdateWindows as that might trigger changing the blitter which triggers re-entrant locking (r23980, r23977)\n- Fix: [SDL] Palette update was done too late making switching from 8bpp -> 32bpp look ugly (r23978)\n- Fix: Sprites of different zoom levels were not always padded correctly to a common size (r23976)\n- Fix: Also save the maximum travel speed for the current vehicle order (r23973)\n\n\n### 1.2.0-RC1 (2012-02-19)\n\n- Feature: [NewGRF] Customisable tunnel portals for rail types (r23952)\n- Feature: Timetabled maximum travel speeds for non-flying vehicles (r23947)\n- Feature: Readme/licence/changelog viewer for AI and game scripts [FS#5047] (r23936)\n- Feature: [NewGRF] 32bpp sprites in GRFs (r23897)\n- Feature: [NewGRF] Support for RealSprites with multiple zoom levels (r23890)\n- Feature: [NewGRF] Support for container version 2 (r23887)\n- Fix: Refittability should never depend on the current capacity of a vehicle [FS#5070] (r23965)\n- Fix: Do not look for missing sprites twice during startup [FS#5072] (r23963)\n- Fix: [Script] Infinite recursion within a script was not caught properly, so they could cause crashes of OpenTTD instead of the AI [FS#5068] (r23962)\n- Fix: [NewGRF] Make the properties for always/never refittable cargo types not behave incremental, but reset them on reassignment (r23960)\n- Fix: [Network] Do not allow chat messages from pre-active clients. As they have not got the savegame yet, they will not have the interface to send them either (r23958)\n- Fix: [Network] Allow sending chat to pre-active clients as the clients start accepting once they send 'map ok' to the server, which is the same moment we change their status to pre-active [FS#4990] (r23957)\n- Fix: When the population of a town changes the town view might even have to change size due to different cargo requirements [FS#5062] (r23953)\n- Fix: [NoGo] Never show GSGoal::Question() to spectators [FS#5063] (r23950)\n- Fix: Better rounding when converting internal speed to displayed speed (r23945)\n- Fix: Also list DEITY signs in the signlist in the scenario editor [FS#5061] (r23943)\n- Fix: Infrastructure cache of standard road stops would get messed up when buying a company with them (r23942)\n- Fix: Scale infrastructure cost of rail tracks by the total number of all tracks and not independently for each rail type (r23931)\n- Fix: [Script] Do not close the parameter window when a script starts [FS#4944] (r23930)\n- Fix: Do not accelerate, for smoke purposes, when you reached the track's maximum speed [FS#5053]\n- Fix: 32bpp animated blitter was optimised a bit too far regarding not needing to update the colour mapping when (re)initialising the palette [FS#5056] (r23927)\n- Fix: [NoGo] Some news messages would cause an assertion to be triggered due to a missing proper location for the viewport of the news message, so only allow building when valid data for the viewport is provided or no viewport is used [FS#5054] (r23924)\n- Fix: Consider only the middle tile of a lock for lock-infrastructure costs. The other two tiles may be owned by other companies. Also do not count the middle tile of a lock as canal, independent of whether it is build on ground or river slope (r23920)\n- Fix: [NewGRF] When determining the first refittable cargotype according to CTT order, do not rely on the GRF assigning the refit_mask property. Also check for GRFs setting the default_cargo or refittable-cargo-classes or -types properties (r23916)\n- Fix: [NewGRF] Do not test validity of cargobits using a mask of cargoslots (r23914)\n- Fix: [NewGRF] When testing whether a engine shall only carry the default cargo, check ctt_include_mask for being empty before applying cargo translation (r23912)\n- Fix: [SDL] Handle the SDL_VIDEOEXPOSE event to solve issues with SDL 1.3 (r23910)\n- Fix: [SDL] Fix keyboard-related segfault when compiling against SDL 1.3 (r23909)\n- Fix: [Makefile] Make sure bin/baseset/openttd.32.bmp is removed on make clean (r23908)\n- Fix: [Makefile] Let 'make clean --dry-run' not delete Makefiles (r23907)\n- Fix: [Windows installer] OpenMSX got downloaded to and extracted in the wrong (non-existent) folder [FS#5045] (r23905)\n- Fix: Memory leak every time one clicked a savegame in the load GUI (r23901)\n- Fix: [NewGRF] It was not possible to import sounds from a NewGRF later in the load order (r23883)\n- Remove: PNG sprite loader; use 32bpp sprites in a NewGRF (r23898)\n\n\n### 1.2.0-beta4 (2012-02-04)\n\n- Feature: [NewGRF] Give NewGRF defined level crossings and rail depots access to the townzone (r23866)\n- Feature: [NewGRF] New algorithm (activated via an engine flag) to determine the capacity of vehicles. This allows vehicles to better control the capacity for cargotypes which they know; and let cargo NewGRFs influence the capacity for cargoes the vehicle NewGRF does not know, but which the vehicle is refittable to due to cargo classes (r23861)\n- Feature: [NewGRF] Add cargo property 1D to set the capacity multipliers when refitting vehicles, which do not use callback 15 (r23860)\n- Feature: Allow command line options -e and -g to be combined to load saves/scenarios directly into SE (r23839)\n- Feature: [NoGo] Allow querying orders of vehicles [FS#4994] (r23837)\n- Change: Do not let towns (ever) remove objects [FS#5001, FS#5002] (r23842)\n- Change: Make signs placed in scenario editor belong to the GS. That way they are always shown in game and are not editable [FS#4999] (r23835)\n- Fix: Generate industry subsidies again [FS#5039] (r23876)\n- Fix: [NoGo/NoAI] Scripts with a bad comparator could lock up OpenTTD [FS#5004] (r23870)\n- Fix: Make the colour of the dropdown items for opening the vehicle list for which the company has no vehicles looking less horrid [FS#5020] (r23867)\n- Fix: Railtype overlays were drawn 'only transparent' on invisible bridges (r23864)\n- Fix: Inserting conditional orders for ships checked the wrong orders wrt. maximum distance (r23859)\n- Fix: Out of bounds read for slowdown parameter caused desync when railtype >= 4, vehicles were fast, and the original acceleration model was used [FS#5007] (r23855)\n- Fix: Infrastructure cache could get out of sync when overbuilding a drive through road stop (r23851)\n- Fix: When the network is lagging, you try to copy a vehicle's order but accidentally create a station order and then copy the vehicle's order (before the first command is executed) one could trigger an assertion from the pool [FS#5008] (r23849)\n- Fix: When removing road or tram from a tram+road stop, the owner of the road stop's cache was updated instead of the owner of the removed infrastructure (r23847)\n- Fix: Infrastructure count for stations was not updated properly on company takeover. And do not count buoys while loading a game either (r23844)\n- Fix: Clear NewGRF vehicle cache when their owner changes (r23841)\n- Fix: Assertion got hit when destroying a dock when a ship was loading [FS#5000] (r23838)\n- Fix: If a vehicle is not refittable to any cargo in the CTT, then pick the first refittable cargoslot (r23836)\n\n\n### 1.2.0-beta3 (2012-01-21)\n\n- Feature: [NoGo] Allow to chose the goal question window's title from a (small) set of options [FS#4992] (r23827)\n- Feature: [NewGRF] Enhance some fatal NewGRF errors with the sprite number that caused the problem (r23809)\n- Fix: Loading empty GS strings/translations failed [FS#4996] (r23829)\n- Fix: Return early from SlString() for empty strings, before doing invalid things which surprisingly do not break everything (r23828)\n- Fix: The detailed performance rating window showed the cargo count of the current quarter instead of the last quarter like the tooltip says [FS#4972] (r23826)\n- Fix: Removal of towns with 0 population failed during map generation [FS#4951] (r23819)\n- Fix: [Network] Desync due to different NewGRF version at client and server [FS#4962] (r23817)\n- Fix: [NewGRF] Textstack was not properly used when storing parameters for the error message window [FS#4969] (r23803)\n- Fix: Game lobby GUI not updated when new company information becomes available [FS#4968] (r23802)\n- Fix: Reading the UTF-8 BOM from AI/GS files on big-endian machines failed (r23801)\n- Fix: Move 'refittable to' text above custom NewGRF text in build vehicle GUI [FS#4958] (r23792)\n- Fix: [NewGRF] Resize text panel for parameter description if it does not fit in 4 lines [FS#4960] (r23791)\n- Fix: [NewGRF] While we can only show one error per NewGRF, fatal errors should always disable the GRF. Also give those errors precedence over other information (r23789)\n- Fix: [NewGRF] Failure to load NewGRF files that use action 0 general prop 15 with a missing language file (r23788)\n- Fix: Crash due to genders used for station name in hangar string of Italian translation [FS#4965] (r23782)\n- Fix: Under certain circumstances, e.g. a single invalid order, trying to determine the next order state could end up in an infinite loop [FS#4964] (r23781)\n- Fix: [Network] Missing naming of some errors[FS#4963] (r23780)\n- Fix: Trim all control codes and the likes from strings being passed into the AI. If the AI would be displaying them later we would be showing those control codes as question marks [FS#4957] (r23778)\n- Fix: Hide the PCX screenshot format from the options window, if a 32bpp blitter is used (r23775)\n- Fix: [NewGRF] Update all cached train properties if a train vehicle enters a new railtype (r23773)\n\n\n### 1.2.0-beta2 (2012-01-07)\n\n- Feature: [NewGRF] Allow read-only display of NewGRF parameters, if GRF list may not be edited (r23760)\n- Feature: [NewGRF] Alternate rail type label list (r23758)\n- Feature: Make the default secondary sort method for the server list the number of clients instead of the name (r23710)\n- Feature: Try harder to sort text instead of fancy characters in the server names (r23709)\n- Feature: Make a distinction between fully zoomed in and default zoomed in screenshots [FS#4916] (r23695)\n- Feature: Add ability to adjust brightness of colour after remapping for 32bpp sprites (r23670)\n- Feature: [GS] GSGoal::Question(), to ask a question to a(ll) company(ies). It can contain random text, and at most 3 buttons from a collection of 17 (r23731)\n- Feature: Australian translation (r23730)\n- Fix: Make default timeouts for certain network states lower and configurable [CVE-2012-0049] [FS#4955] (r23764)\n- Fix: Check whether a water tile is really empty when overbuilding it with an object [FS#4956] (r23763)\n- Fix: The check for duplicate town names was not really working [FS#4951] (r23759)\n- Fix: Missing locking causing crash is extreme case when being in the MP lobby [FS#4938] (r23752)\n- Fix: [Win32] Work around a possible deadlock when initialising threaded drawing (r23749)\n- Fix: Make vehicle variables A8 and A9 always return 0. Returning cur_image is a potential desyncer due to Action1 in static NewGRFs (r23748)\n- Fix: Also set 'info' to NULL if 'instance' dies (for both AI and GS); avoids invalid memory reads (r23746)\n- Fix: If autorefit fails, count the vehicle capacity nevertheless, if it is already carrying the right thing (r23745)\n- Fix: [NewGRF] Check the version of the right GRF [FS#4923] (r23744)\n- Fix: [NewGRF] Call CB 15E for all vehicles before actually executing any refit [FS#4906] (r23743)\n- Fix: Cheating to different climates messes things even more up than changing NewGRFs in-game so it was removed [FS#4939] (r23733)\n- Fix: When cheating into another company, the SignList was not updated [FS#4942] (r23728)\n- Fix: Reading memory of a temporary (already deconstructed) object is invalid (r23721)\n- Fix: [Script] Show the script debug window also when the game script crashes [FS#4935] (r23720)\n- Fix: Extraction of music packs failed [FS#4930] (r23719)\n- Fix: [AI] Rescanai caused crash when the AI settings of an AI was opened [FS#4936] (r23718)\n- Fix: Ships going to wrong dock location when moving the dock while the game is paused [FS#4927] (r23717)\n- Fix: The amount of goals was too low [FS#4928] (r23699)\n- Fix: Hardcode the original defaults for loading old savegames if they could totally mess with the game's behaviour [FS#4859] (r23693)\n- Fix: Infrastructure count of canals/locks/ship depots was not updated properly when a company went into bankruptcy or was taken over [FS#4921] (r23686)\n- Fix: When fitting another engine the cargo capacity of wagons could become lower, causing them to contain more than they should. This caused the cargo transfer from the replaced parts to put even more stuff in the already full wagon. Prevent this from happening by reducing the amount of cargo in the vehicle to the capacity when moving vehicles/wagons around, or when autoreplacing [FS#4912] (r23683)\n- Fix: Vehicle numbers got miscounted when autoreplacing failed due to length checks [FS#4914] (r23681)\n- Fix: [AI] Prevent removal of the (AI) company the local player is in [FS#4915] (r23680)\n- Fix: [Script] Close the editbox of settings when changing an AI, to avoid invalid memory read/write (r23678)\n- Fix: [Script] Invalidate AI Parameters window when changing AI [FS#4909] (r23677)\n- Fix: When removing road stops the wrong tile was checked for updating the infrastructure cache [FS#4913] (r23676)\n- Fix: [Script] The 'Configure' button in the 'AI / Game Configuration' window did not get enabled when activating a GameScript (r23668)\n\n\n### 1.2.0-beta1 (2011-12-24)\n\n- Feature: Ability to run a game script; a script that controls some of the logic of the game, e.g. to implement goals or tutorials (r23637)\n- Feature: Allow to place locks also on river rapids and restore rivers, if locks are deleted [FS#4872] (r23512)\n- Feature: Aircraft ranges (r23504)\n- Feature: Configurable linewidth in plots (r23497, r22292)\n- Feature: Add 'view website' button to the online content and NewGRF windows (r23495, r23492)\n- Feature: [NewGRF] Action14 node INFO->URL_ to add an url (r23494)\n- Feature: When looking for missing content, automatically select it so you can easily start the download [FS#4827] (r23468)\n- Feature: Automatically close the online content window after confirming the download with 'ok' [FS#4827] (r23467)\n- Feature: Add 'find missing content online' button to 'load savegame' and 'find network game' windows [FS#4827] (r23465)\n- Feature: [NoAI] AIStation.GetStationCoverageRadius(StationID) (r23453)\n- Feature: Infrastructure maintenance costs (r23415)\n- Feature: Allow to create subsidies for any combination of source and destination types (r23408)\n- Feature: Diagonal dragging the rail conversion tool when pressing CTRL [FS#4841] (r23338)\n- Feature: Add ability to zoom in to 2x and 4x level (r23316)\n- Feature: Settings to restrict viewport zoom levels (r23314)\n- Feature: An economy.fund_buildingssetting, to disallow funding buildings (r23303)\n- Feature: [NoAI] AITown::GetCargoGoal and AITown::GetGrowthRate to query statistics about a town regarding its growing (r23302)\n- Feature: Show on the GUI when a town grows and what the requirements for growing are (r23300)\n- Feature: [NewGRF] Properties to always include/exclude cargo types from the refit mask (r23291)\n- Feature: A monospaced sprite font for the readme reader (r23288, r23274)\n- Feature: Attempt to show a window for downloading the base graphics set if it is missing (r23244)\n- Feature: In-game (translatable) readme.txt reader [FS#4780] (r23182, r23178)\n- Feature: [NoAI] AICONFIG_AI_DEVELOPER flags to hide AI settings unless gui.ai_developer_tools is enabled (r23169)\n- Feature: Always draw fences around field tiles [FS#1824] (r23168)\n- Feature: Support for NewGRF version 8 (r23159)\n- Feature: [NewGRF] Patch/setting variable 14: get the maximum height of the map (r23158)\n- Feature: [NewGRF] Road vehicle property 23 to shorten vehicles without callback usage (r23149)\n- Feature: [NewGRF] Allow passing 32bit parameters to 60+x variables (using var 7B). Currently most useful for vehicle var 60 (r23138)\n- Feature: [NoAI] AICargoList_StationAccepting [FS#3799] (r23134)\n- Feature: [NewGRF] Property for the rail type name (r23129)\n- Feature: [NoAI] Allow AIs to query the amount of remaining operations for the current tick (r23118)\n- Feature: [NewGRF] Ambient sound effect callback (r23114)\n- Feature: Auto-refitting of vehicles during loading at a station when the vehicle allows it (r23089, r23087)\n- Feature: [NewGRF] Callback to change refit cost depending on old and new cargo type (r23086)\n- Feature: [NewGRF] Use variable 10 to enable vehicle GRFs to draw different sprites on the map and in various GUIs (r23080)\n- Feature: [NewGRF] House callback 0x148 (r23072)\n- Feature: [NewGRF] House variable 0x64 (r23070)\n- Feature: [NewGRF] Long date of last service for vehicles, also available in the purchase list (r23068)\n- Feature: A -q command line option to read a savegame, write some general info and exit (r23065)\n- Feature: [NewGRF] stringcodes 9A 19 and 9A 20 to print 'short volume' and 'short weight' respectively (r23063)\n- Feature: [NewGRF] Allow use of NewGRF text stack during callback 23 (r23040)\n- Feature: Support company colour for the airports' runways [FS#4797] (r23010)\n- Feature: [NewGRF] Allow to use offsets for all types of action5 except sea shores [FS#4795] (r23004)\n- Feature: [NewGRF] Action2 variable 0x62 to get curvature/position difference to the n-th vehicle in vehicle chain [FS#2521] (r22998)\n- Feature: [NewGRF] Allow access to other vehicles in the vehicle chain in VarAction 2 (r22997)\n- Feature: Display autoreplace status in group GUI (r22985)\n- Feature: Display profit icons for groups in the group GUI (r22984)\n- Feature: Display the number of vehicles in the group GUI also for the ALL and DEFAULT groups (r22983)\n- Feature: Allow road corners on steep slopes (r22968)\n- Feature: Allow depots, standard road stops and airports on steep slopes (r22960)\n- Feature: [NewGRF] Allow Action4 to change text IDs 0x00D1 to 0x00E0 for feature 48 (r22954)\n- Feature: [NewGRF] Extended Action1 format to define arbitrary spriteset IDs (r22926)\n- Feature: [NewGRF] Allow referencing spritesets from different Action1 in a single Action2 (r22925)\n- Feature: Allow towns to build bridges over canals and rivers (r22899)\n- Feature: Resize the tree build GUI to according to tree size (r22862)\n- Feature: Conditional order depending on remaining lifetime of a vehicle (r22858)\n- Feature: [NewGRF] Allow replacing depot sprites without having to provide rail overlays (r22854)\n- Feature: Display separate ocean and canal speeds in the ship purchase list, if they differ (r22850)\n- Feature: [NewGRF] Bits 8-31 in station variable 43 (r22848)\n- Feature: [NewGRF] Also age wagons and articulated parts (r22816)\n- Feature: [YAPF] Take canal/ocean speed fraction of ships into account (r22801)\n- Feature: Progress bar for scanning NewGRFs (r22797)\n- Feature: [NewGRF] Stringcodes for printing 0-based dates, unsigned words in power units (r22779, r22778)\n- Feature: River generation (r22767)\n- Feature: [NoAI] AITile::GetTownAuthority() (r22764)\n- Feature: [NewGRF] Implement feature 04 property 18 bit 5 (r22746)\n- Feature: [NewGRF] Per vehicle custom cargo ageing period (r22713)\n- Feature: Display option to hide competitors' signs and station names [FS#4701] (r22708)\n- Feature: Add a menu entry for the sprite bounding box debugging feature in the help menu and enable bounding boxes only in conjunction with the NewGRF developer tools (r22675)\n- Feature: [NewGRF] Provide random bits in var 0x10 for callback 0x3B in all cases [FS#4690] (r22673)\n- Feature: Do not spawn explosion effects when bulldozing in paused mode. They block the view (r22670)\n- Feature: [NewGRF] Support for the land slope check callback for stations (r22659)\n- Feature: [NewGRF] Custom error messages for object callback 0x157 (r22658)\n- Feature: [NewGRF] More default error messages for the industry shape and location callbacks (r22657)\n- Feature: [NewGRF] Add water class to the 'land info of nearby tiles' vars (r22655)\n- Feature: [NewGRF] Support for ship props 14/15 (ocean/canal speed fraction) (r22639)\n- Feature: [NoAI] Add several functions to AICompany to find out performance information (r22584)\n- Feature: [NewGRF] Persistent storage for towns (r22569)\n- Feature: [NewGRF] Support for station variable 0x69 (r22543)\n- Feature: [NewGRF] Advanced sprite layouts with register modifiers (r22518)\n- Feature: Save heightmap in scenario editor (r22514)\n- Feature: Make the transparency options for industries also affect the effect vehicles created by industries [FS#4625] (r22506)\n- Feature: [NewGRF] Implement variable 18 for custom station foundations (r22453)\n- Feature: [NewGRF] When NewGRFs are disabled via Action E or due to GRM failure, also display an error in the GUI (r22444)\n- Feature: [NewGRF] Allow to filter by town of the current industry when using industry variable 0x68 [FS#4591] (r22434)\n- Feature: An advanced setting to specify the default palette to use for NewGRFs without action 14 palette information; this makes the default choice independent from the used base graphics (r22417)\n- Feature: Sort the items in the currency dropdown; separate the 'Custom' item with a horizontal line from the rest (r22312)\n- Feature: Separate default and NewGRF-supplied townnames with a horizontal line and only sort them within these groups (r22312)\n- Feature: [NewGRF] Allow docks to feature company colour (r22293)\n- Feature: Apply the same inflation to the initial loan as to the maximum loan. Note that this is no change to the economy; it only saves players some clicks when starting companies in later years (r22253)\n- Feature: [NewGRF] Make var 0x48 available in CB 0x15C (r22231)\n- Change: [Win32] Move painting the window and doing palette animation into a separate thread (r23482)\n- Change: [SDL] Move 32bpp-anim palette animation to the draw thread instead of the single threaded bit of the game loop. This causes a speedup of up to 15% when animation is turned on with the 32bpp-anim blitter (r23451)\n- Change: Make the company GUI somewhat smaller if there are no shareholders (r23424)\n- Change: [NewGRF v8] Allow translating multiple languages with Action 13 (r23391)\n- Change: Bring Squirrel to 2.2.5; besides some nice bug fixes, it mostly solves the sort() issues (r23383)\n- Change: Move the 'default' overrides out of the base set in order to ensure they all use the same values (r23232)\n- Change: Different directories for base sets and newgrfs. So data to base set or newgrf, and gm to base set (r23219)\n- Change: [NewGRF v8] Do not override rail type prop 1B with prop 09 (r23166)\n- Change: [NewGRF v8] Format of extra callback info for callback 144 (r23157)\n- Change: [NewGRF v8] Use height level units in var 8A of callback 28 (r23155)\n- Change: [NewGRF v8] Use height level units in nearby tile info variables (r23154)\n- Change: [NewGRF v8] Use height level units in variable 20/A0 (r23153)\n- Change: [NewGRF v8] Snow line height table uses values between 0x00 and 0xFF independent of number of height levels (r23152)\n- Change: [NewGRF v8] Deprecate callback 11 and 12, and use callback 36 instead (r23151, r23150)\n- Change: [NewGRF v8] Unify the return values of boolean callbacks, and check the results for validity (r23147)\n- Change: [NewGRF v8] Make callback 22 return a probability to use instead of property 18 (r23146)\n- Change: [NewGRF v8] Determine the 'first' refittable cargo of vehicles using the cargo ordering from the cargo translation table (r23145)\n- Change: [NewGRF v8] Consider the 'default cargotype' properties as indices into the cargo translation table (r23144)\n- Change: [NewGRF v8] Return the translated cargobit in vehicle var 42 (r23143)\n- Change: [NewGRF v8] Unify the return values of callbacks returning D0xx texts (r23142)\n- Change: [NewGRF v8] Invert result bit 10 of callbacks 149 and 157 to make them consistent with other slope check callbacks (r23141)\n- Change: [NewGRF v8] Do no longer apply base cost fallbacks (r23139)\n- Change: [NewGRF v8] New result format for callback 16 (r23137)\n- Change: [NewGRF v8] Deprecate old-style callback results 0xFF?? (r23136)\n- Change: Open the query string window centred as it (almost) always requires your attention [FS#4825] (r23130)\n- Change: [NewGRF] Enforce that the default cargo type of a vehicle is one of the refittable cargoes in case of refittable engines (r23077)\n- Change: Use the currency -> euro conversion rate for currencies that have been replaced with the euro, so when the switch happens the conversion rate at that point is roughly that of the real world conversion rate (r23056)\n- Change: Disable palette animation for pixels with alpha, as the alpha and previous colour information will be lost when the palette is animated (r23016)\n- Change: More suitable default news settings instead of everything on 'full' (r22897)\n- Change: Always use the DOS palette for drawing, remove the '-i' option for palette selection (r22419)\n- Change: Make YAPF the default pathfinder for ships, do not discourage players from using it anymore (r22352)\n- Change: Remove pixel limiter for query strings (r22343)\n- Fix: Dates cut off in the message history [FS#4896] (r23643)\n- Fix: Fix transparency for steel mill, colour translations in some arctic buildings and a wrongly replaced sprites [FS#4892] (r23639)\n- Fix: Draw PBS reservations also for bridges and tunnels with railtype overlays (r23586, r23584)\n- Fix: Add missing characters for certain languages and the large font [FS#4870] (r23582)\n- Fix: Extending a path reservation starting at a partially reserved rail station could fail [FS#4888] (r23564)\n- Fix: [NoAI] ScriptSign::BuildSign() returned wrong result if the sign name was too long [FS#4886] (r23516)\n- Fix: Drawing of newspaper headlines used different padding than the initial sizing of the window [FS#4884] (r23509)\n- Fix: [Squirrel] Provide a proper error message when the _cmp meta-function does not return an integer (r23496)\n- Fix: Make autoreplace, autorenew, cloning and autorefit check all articulated parts of a vehicle to find a shared cargo subtype (r23487)\n- Fix: In case you already have orders, ignore the vehicles when adding an extra order [FS#4770] (r23484)\n- Fix: Replace OS error messages with internal error messages when that is possible [FS#4594] (r23480)\n- Fix: Clear the backed up orders of a removed station as well, otherwise one could create orders to a station that was never in the original backupped orders. For example a road vehicle trying to go to a buoy [FS#4876] (r23464)\n- Fix: Do not assume all industries that cut trees have tile (0,0) and wait until all tiles of an industry are completed before starting to cut trees (r23458)\n- Fix: Mark company window dirty when moving a rail engine creates or deletes a train (r23454)\n- Fix: Some airport functions did not take the layout into account resulting in wrong noise levels or nearest towns [FS#4764] (r23441)\n- Fix: Perform checks for NFORenum/GRFCodec in configure, including a version check so a proper error can be given when a too old GRFCodec or NFORenum is used [FS#4867] (r23438)\n- Fix: Recolouring of some animated colours from the Windows (=least consistent) palette went wrong [FS#4868] (r23433)\n- Fix: Prevent windows to be resized beyond the bounds of the (main) window [FS#4842] (r23429)\n- Fix: [NoAI] The AIEvent.ET_COMPANY_NEW was only triggered if a company named itself, which seems like a very odd place to do so. Trigger it when the company is created instead (r23398)\n- Fix: Bring some more order in the ordering of the windows, e.g. do not let a save or load dialogue get hidden by a news message [FS#4709] (r23336)\n- Fix: Road vehicle purchase info failed to display vehicles carrying no cargo [FS#4820] (r23334)\n- Fix: Abort building/moving HQ when clicking on the button again, just like when building rail, stations, etc [FS#4851] (r23331)\n- Fix: Change the centre of train vehicles to depend on the vehicle length instead of being fixed at 4/8th of the original vehicle length to make sure shortened vehicles do not block tiles they should not block [FS#2379,FS#3569] (r23290)\n\n\n## 1.1.x\n\n### 1.1.5 (2012-01-14)\n\n- Fix: Make default timeouts for certain network states lower and configurable [CVE-2012-0049] [FS#4955] (r23764)\n- Fix: Check whether a water tile is really empty when overbuilding it with an object [FS#4956] (r23763)\n- Fix: Missing locking causing crash in extreme case when being in the MP lobby [FS#4938] (r23752)\n- Fix: Clear the backed up orders of a removed station as well, otherwise one could create orders to a station that was never in the original backupped orders. For example a road vehicle trying to go to a buoy [FS#4876] (r23464)\n- Fix: Do not assume all industries that cut trees have tile (0,0) and wait until all tiles of an industry are completed before starting to cut trees (r23458)\n\n\n### 1.1.4 (2011-12-05)\n\n- Fix: Savegames made with the Catalan town name generator would trigger a 'savegame corrupt' exception [FS#4866] (r23418)\n- Fix: [Network] Do not send chat messages to clients that have not joined yet [FS#4826] (r23337)\n- Fix: Assertion could be triggered in case a station was removed just after a vehicle delivered cargo to it [FS#4849] (r23312)\n- Fix: Pathfinders go haywire when you build a lock over a ship going perpendicular to the axis of the new lock [FS#4845] (r23284)\n- Fix: [NewGRF] Prevent against writing data for unknown fonts (r23283)\n\n\n### 1.1.4-RC1 (2011-11-20)\n\n- Fix: 3-column view of NewGRF GUI had too much space for certain font sizes (r23251)\n- Fix: Ignore special characters, such as the train 'character', when determining a fallback font (r23237)\n- Fix: [NewGRF] Make train var 0xF3 consistent with TTDPatch (r23231)\n- Fix: Invalidate build vehicle window when changing the setting for wagon speed limits (r23211)\n- Fix: [NoAI] Hide AIObject from the documentation as it cannot be used (r23204, r23201)\n- Fix: [Network] Unstable sorting in the network list when two servers had the exact same name [FS#4829] (r23202)\n- Fix: Oil rigs that 'expired' did not get removed from the station list [FS#4822] (r23199)\n- Fix: [Squirrel] replace custom qsort by std::sort to fix stack overflow [FS#4830] (r23190, r23187, r23186)\n- Fix: Do not display railway fences between track and waypoints [FS#4627] (r23163)\n- Fix: [NoAI] AIOrder did not handle implicit orders correctly in all cases [FS#4823] (r23135, r23133)\n- Fix: When any keys on the on-screen keyboard were pressed the text cursor disappeared (r23132)\n- Fix: [NoAI] AIOrder::IsCurrentOrderPartOfOrderList return false for valid vehicles and crashed for invalid ones (r23131)\n- Fix: [NoAI] calling require() to include a file gave you 100.000 opcodes for free (r23117)\n- Fix: Allow accessing the server's client info as well in the admin network [FS#4813] (r23115)\n- Fix: [NewGRF] Run StartupEngines() if NewGRFs changed during loading a savegame, just like it is running when NewGRFs are changed during a game (r23083)\n- Fix: Account for snow line table when determining the snow line for building houses (r23082)\n- Fix: [NewGRF] If a NewGRF overrides a default house the minimum start year for that house was set to 1930 [FS#4794] (r23059)\n- Fix: [NoAI] AIOrder::GetOrderCount() did not hide implicit orders (r23057)\n- Fix: [NewGRF] When vehicles break down, update the image cache after changing the vehicle state (r23050)\n- Fix: Use the same forest-check for the vegetation-map colour as for nearby station names [FS#4810] (r23049)\n- Fix: Check that the selected font size is valid the font face in use and choose the nearest size to that selected if not. Font metrics should then just work (r23038)\n- Fix: [NewGRF] Strip newlines from NewGRF strings that should not have newlines, e.g. the NewGRF's name [FS#4769] (r23036, r22970)\n- Fix: The last custom playlist items went lost when the files in the .obm are not contiguous [FS#4776] (r23035, r23034, r23033)\n- Fix: Palette conversion windows to DOS for light house / stadium animated colour was mixed up (r23032)\n- Fix: For the admin 'bots' there was no distinction between bankruptcy and manual removal of companies even though the API suggested that [FS#4804] (r23031)\n- Fix: Always show a chat message and send an admin packet when a new company is made [FS#4796] (r23030)\n- Fix: Pass bottom of dropdown item rather than bottom of dropdown window, so the dropdown gets drawn better with different font sizes (r23018)\n- Fix: AI backlog was to short to fully display the backtrace of some AI crashes [FS#4798] (r23012)\n- Fix: When the last used server is deleted from the list also clear the last used server if it is the same [FS#4791] (r23011)\n- Fix: [NewGRF] Make sure temporary storage is cleared before test and exec runs for DoCommands so NewGRF callbacks cannot change the result between the runs (r22996)\n- Fix: [NewGRF] Tile was cleared before the object-placement callback was run, resulting in possible differences in test and exec run [FS#4775] (r22994)\n- Fix: [NoAI] Do not return ERR_UNKNOWN when the vehicle would become too long (r22988)\n- Fix: Draw buoy sprite without outline on the map, fix minor issues with original graphics (r22974, r22973, r22971, r22962)\n- Fix: The savegame description and loading of savegames would crash with savegames from a patched stable (which did not bump the savegame version) [FS#4778] (r22958, r22957)\n- Fix: Guard from reading outside the silly name list (r22955)\n- Fix: [NewGRF] Properly limit the length of strings in a choice list (r22952)\n- Fix: [NewGRF] Do not call CB 32 for disaster, effect vehicles or aircraft shadows/rotors (r22947)\n- Fix: [NewGRF] Crash when accessing vehicle var 44 for a non-front aircraft [FS#4781] (r22946)\n- Fix: Calculate the size of the start/stop vehicle button correctly (r22941)\n- Fix: [OSX] Various OSX 10.7 issues causing OpenTTD to not work [FS#4751] (r22921, r22895, r22893, r22889)\n- Fix: [NewGRF] Properties for feature 0x05 were not zeroed for each NewGRF, thus waterfeatures could glitch when the properties were set by a previous NewGRF and the NewGRF assumed the properties to be unmodified (r22918)\n- Fix: Old TTO/TTD savegames could get non-stop via orders upon savegame loading, even when those orders did not exist back then. This 'conversion' feature is something for TTDPatch and old OpenTTD savegames [FS#4716] (r22914)\n- Fix: The icon would (almost) never be shown for SDL builds [FS#4617] (r22910)\n- Fix: The name of the heightmap glitches in the 'play heightmap' window (r22902)\n- Fix: Locks would be incorrectly assembled (r22108)\n\n\n### 1.1.3 (2011-09-15)\n\n- Fix: Prevent authentication bypass for the admin port when a new game is started [FS#4771] (r22934)\n- Fix: TTO savegames with any aircraft not in an hangar caused crashes during load (r22915)\n- Fix: Windows 2000 and XP without service pack 3 must use the win9x binary/installer; the newer MSVC compiler of the compile farm does not support those versions of Windows anymore [FS#4749] (r22909)\n\n\n### 1.1.3-RC1 (2011-09-04)\n\n- Add: River graphics for the original base set (r22766)\n- Fix: [NewGRF] DCxx text references via the text stack are not allowed, but caused crash [FS#4758] (r22882)\n- Fix: Harden memory allocation (r22881, r22880, r22875)\n- Fix: Miscalculation of train curve speed limits (r22879)\n- Fix: Validate image dimensions before loading [CVE-2011-3343] [FS#4747] (r22878, r22877, r22874, r22873)\n- Fix: Report an error in the news if autoreplace/renew fails due to the engine type being no longer available [FS#4712] (r22876)\n- Fix: Perform stricter checks on RLE compressed BMP images [CVE-2011-3343] [FS#4746] (r22872, r22871)\n- Fix: [NewGRF] Variables 40 and 81 of callback 18 are not the same as 80 (r22867)\n- Fix: [NewGRF] Generic callbacks shall chain to the next GRF when the callback fails (r22866, r22865)\n- Fix: Perform stricter checks on some commands [CVE-2011-3341] [FS#4745] (r22845)\n- Fix: Harden savegame load against too many AI config settings [CVE-2011-3342] [FS#4748] (r22843)\n- Fix: Compilation with GCC 4.7 (r22832, r22728, r22719)\n- Fix: Allow to demolish aqueducts built in the scenario editor [FS#4741] (r22821)\n- Fix: Towns expanding from the 'wrong' side of a tunnel or bridge [FS#4731] (r22810, r22809)\n- Fix: [NewGRF] String codes for dates should use unsigned words, like old OpenTTD did before it learned dates before 1920 (r22774)\n- Fix: [NoAI] Clarify the meaning of AIStation::IsWithinTownInfluence(), AITile::IsWithinTownInfluence() and AITown::IsWithinTownInfluence() [FS#4702] (r22763)\n- Fix: [NewGRF] Also free allocated depot tables of NewGRF airports (r22760)\n- Fix: [NewGRF] Invalid memory access when querying the grfID of the default objects [FS#4730] (r22757)\n- Fix: When marking tile selections dirty, use the height information of the corners instead of the surface slope. This is more accurate when the foundation is kind of undefined [FS#4727] (r22755)\n- Fix: Make aircraft point to the exit when leaving the hangar [FS#4696] (r22743, r22742, r22741)\n- Fix: Display the size of the levelled platform in the measurement tooltip of terraforming operations [FS#4708] (r22740, r22739)\n- Fix: Setting company passwords via the GUI on servers (including starting a company with the default password) failed, so no client could join that company [FS#4722] (r22738)\n- Fix: [NewGRF] The construction stage sprites were incorrectly selected in cases other than 1 or 4 sprites per set (r22731)\n- Fix: [NoAI] AITile::GetCargoAcceptance, AITile::GetCargoProduction and AIRail::BuildNewGRFRailStation did not check the cargo argument for validity (r22726)\n- Fix: [NewGRF] Always draw NewGRF supplied texts with a default colour (r22725)\n- Fix: [NewGRF] Do not restrict AdvVarAct2 to 255 operations (r22723)\n- Fix: If there is no point in opening the rail/air toolbar, do not open it for people who use hotkeys either rather than only for those using GUI elements (r22716, r22715, r22714)\n- Fix: [NoAI] Allow AIAirport::GetNoiseLevelIncrease() also for expired airports [FS#4704] (r22710)\n\n\n### 1.1.2 (2011-08-14)\n\n- Fix: Some corrupted savegames could crash OpenTTD instead of showing the 'savegame corrupted' message [CVE-2011-3342] [FS#4717] (r22737, r22736)\n- Fix: [NewGRF] Triggering NOT_REACHED when playing with a NewGRF that supplies genders/cases for a language that was not installed [FS#4718] (r22735)\n\n\n### 1.1.2-RC2 (2011-07-30)\n\n- Fix: Cost of adding an extra road type to a bridge or tunnel was undercalculated [FS#4680, FS#4681] (r22700, r22699)\n- Fix: Only insert cleared object tiles into _cleared_object_areas if clearing actually succeeds, else subsequent tests of the same tile will be skipped and considered successful [FS#4694] (r22698)\n- Fix: When building a house it could be built at the wrong place if multitile houses failed some tests (r22697)\n- Fix: [Network] Failed network address resolving could trigger temporary freezes [FS#4697] (r22696, r22695)\n- Fix: [NewGRF] The override managers were not reset in some cases like creating a new scenario [FS#4691] (r22693)\n- Fix: [NewGRF] Aircraft defined with IDs above the default aircraft's always defaulted to passenger cargo (r22690)\n\n\n### 1.1.2-RC1 (2011-07-24)\n\n- Change: [NewGRF] Only allow access (via hotkey and menu) to the bounding box visualisation when NewGRF developer tools are enabled (r22675)\n- Fix: [NewGRF] Disallow accessing variable 1B in network games due to desync reasons (r22682)\n- Fix: Switching from a red to a white highlight (by switching to another tool) without switching the highlight mode (HT_RECT etc.) did not mark the selection dirty [FS#4670] (r22649)\n- Fix: [NewGRF] Parameters from NewGRFs were not properly parsed in all cases [FS#4599] (r22648, r22630, r22629, r22628, r22627)\n- Fix: GetSection() does not return a LockPart [FS#4678] (r22645)\n- Fix: [NewGRF] Disallow building NewObjects on water tiles owned by another company (r22643)\n- Fix: [NewGRF] Disable the 'set parameters' button in the NewGRF GUI, if the GRF specifies to have no parameters and one would not be able to set any parameters anyway (r22642)\n- Fix: Keep the previous owner of the upper and lower lock parts if they are built on existing water (r22638)\n- Fix: [NewGRF] Airports should not expose the tile specific random bits of the north tile. Only airport tiles should access those (r22636)\n- Fix: [NewGRF] Correctly reseed random bits of industries and industry tiles (r22635, r22634)\n- Fix: [NewGRF] Implement variables 25 and 7F for railtypes (r22633)\n- Fix: [NewGRF] Additional text in fund industry window is NewGRF supplied and thus should have a default colour (r22631)\n- Fix: Also initialise _old_vds with newgame settings; TTD savegames do not contain these settings [FS#4622] (r22626)\n- Fix: Do not zero the orders of disaster vehicles when converting savegames [FS#4642] (r22625)\n- Fix: When closing an AI company the local player cheated to, we need to cheat them to another company [FS#4654] (r22624, r22623)\n- Fix: When closing down companies their shares in other companies must be sold even if share trading is disabled at that point of time (r22622)\n- Fix: When asking the user to confirm an unsafe unpausing, there is no need to execute a command if 'no' is chosen. This also prevents crashing when clicking unpause while the confirm window is shown (r22621)\n- Fix: Enforce refit orders to be 'always go to depot' orders; service-only and stop-in-depot orders make no sense with refitting [FS#4651] (r22620)\n- Fix: Consider the size of the vehicle sprite for the lineheight in the company GUI. This also makes the widget containing the sprite not skip drawing it, if the bounds of the widget are outside of the drawing area though the sprite actually needs drawing [FS#4662] (r22619)\n- Fix: When changing difficulty settings over the network, do not just reopen the difficulty window if any game options window is opened; instead invalidate them properly [FS#4653] (r22618, r22617)\n- Fix: [NewGRF] If callback 33 returns a value out of range, no sound effect shall be played [FS#4656] (r22614)\n- Fix: Use rotated heightmap sizes for reporting scaling problems [FS#4663] (r22608)\n- Fix: Do not show cargo accepted/produced in the new station window when no tiles are selected (mouse hovering a window or toolbar) [FS#4647] (r22595, r22593)\n- Fix: Add active NewGRFs to the list of available ones when selecting the empty preset [FS#4644] (r22594)\n- Fix: Reading of heightmaps with uncommon BMP formats failed due to uninitialised variables [FS#4645] (r22592)\n- Fix: PBS order forecasting modified the current order index in case of a goto-nearest-depot order and no depot could be found [FS#4641] (r22589)\n- Fix: Remove BaseStorageArrays from _changed_storage_arrays on destruction (r22583, r22551)\n- Fix: Do not increment STL iterators after they have been invalidated (r22582)\n- Fix: Do not lower the arrow buttons in the NewGRF/AI parameter windows if they are clicked when disabled (r22553, r22499)\n- Fix: Clear airport persistent storage on construction/removal of airports (r22552)\n- Fix: Possible crash when opening the airport build window for the first time [FS#4619] (r22538)\n- Fix: Replace the half small airport structure on the intercontinental airport with some grass [FS#3494] (r22537)\n- Fix: Documentation omission regarding admin protocol [FS#4632] (r22536)\n- Fix: [NoAI] Doing rescan_ai in a game with running AIs caused a crash [FS#4631] (r22534)\n- Fix: Do not create an implicit order if the current order is the first order in the order list and we visit the station of the last entry of the order list (r22532)\n- Fix: MinGW 64 related compilation issues [FS#4623] (r22522, r22491, r22490, r22489)\n- Fix: The layout selectors of the airport build GUI did not latch properly (r22497, r22495)\n- Fix: Callback result for airport layout name was incorrectly used (r22496)\n- Fix: Airport preview sprite can depend on the layout, so update the cached SpriteID when the layout changes (r22494)\n- Fix: Engine IDs for coal and mail wagons were swapped in the TTO savegame conversion [FS#4622] (r22487)\n- Fix: The caption of centred windows could be moved out of the main window and thus become inaccessible when resizing the main window (r22485, r22484)\n- Fix: No client error packet was sent to the admin bots [FS#4585] (r22384)\n\n\n### 1.1.1 (2011-06-01)\n\n- Change: Automatic orders are better called implicit orders as no real order influencing path finding is added (r22474, r22473)\n- Fix: Only try to insert implicit orders for ground vehicles. Aircraft may reach unscheduled terminals when skipping orders [FS#4624] (r22492)\n\n\n### 1.1.1-RC1 (2011-05-15)\n\n- Feature: [NewGRF] Allow to filter by town of the current industry when using industry variable 0x68 [FS#4591] (r22434)\n- Change: Improve the speed of YAPF by tweaking hash tables size (r22351, r22350, r22348)\n- Change: Show one digit of the fractional train length in the depot (r22336, r22305, r22304, r22303)\n- Fix: When determining the executable path failed, the working directory was used instead, circumventing the not-home-directory check [FS#4613] (r22465)\n- Fix: [Windows] Prevent a crash when launching OpenTTD with -d from a MSYS console [FS#4587] (r22464)\n- Fix: Update the saveload window immediately after scanning a new directory, so queued events reach the window when already updated [FS#4615] (r22463)\n- Fix: [NewGRF] The c and p parts of station vars 40, 41 and 49 were incorrect for large stations (r22455, r22286)\n- Fix: [NewGRF] Zero register 0x100 as specified before resolving custom station foundations (r22452)\n- Fix: Do not 'log' the NewGRFs in the screenshot when in the menu [FS#4610] (r22450)\n- Fix: [NewGRF] When GRFs are disabled via Action E or due to GRM failure, also display an error in the GUI (r22444, r22443)\n- Fix: [NewGRF] Do not popup fatal NewGRF error messages in the intro screen. The GRFs are not going to be activated there anyway and the GRF settings GUI will not display the errors either (r22442)\n- Fix: Catenary was drawn incorrectly next to level crossings with foundations (r22437)\n- Fix: [NewGRF] Apply railtype property 12 (station graphics) also to station groundsprites from action 1 (r22436)\n- Fix: Git revision detection would return too much when tags are involved (r22435)\n- Fix: [NewGRF] When action14 specified different values for the palette, the values were OR-ed. Use the last set value instead (r22416)\n- Fix: [Network] Kicking yourself via remote console crashes the server [FS#4606] (r22414)\n- Fix: [NewGRF] Make sure the action2 ID of a generic feature callback is valid (r22409)\n- Fix: Check the availability year of all houses, not just the NewGRF houses, when making sure that at least one is available onwards from year 0 [FS#4581] (r22389, r22300, r22299)\n- Fix: When a game uses a lot of NewGRFs the buffer for storing that information in the PNG is too small (r22388)\n- Fix: Windows' recv seems to return 'graceful closed' before having passed the remaining buffer which causes OpenTTD to think all connections are 'incorrectly' terminated, i.e. without the 'I am leaving' packet from the client. So let the client wait a tiny bit after sending the 'I am leaving' packet and before gracefully closing the connection [FS#4601] (r22387)\n- Fix: When the last AI company gets removed, the 'dead' state was not reset in the AI debug window [FS#4602] (r22386)\n- Fix: Recolouring of silicon bridge was done incorrectly (r22380, r22379, r22378)\n- Fix: Crash when clicking a removed company in the vehicle list dropdowns [FS#4592] (r22373)\n- Fix: Keep better accounting of the order in which clients joined; client cannot be starved from joining and they get shown the amount of clients waiting in front of them (r22372, r22370, r22369, r22368, r22367, r22366, r22365, r22364, r22363, r22362, r22361)\n- Fix: Make sure saving has completely and utterly finished before starting a new one. Otherwise you could start a save, which would be marked as done by the previous save stopping and then yet another save could be started... and that could create a deadlock [FS#4596] (r22371)\n- Fix: Delete the client list popup when the client got removed (instead of previously selecting some other client) (r22360, r22359, r22358)\n- Fix: When inserting automatic orders, do not create consecutive duplicate orders (r22333, r22332, r22331, r22330, r22329, r22328, r22327)\n- Fix: Destinations of conditional orders were update incorrectly when deleting orders in front of the conditional orders, if the target order was the order just before of the conditional order (r22326)\n- Fix: Vehicles skipped orders when inserting automatic orders failed (r22324)\n- Fix: [NewGRF] When determining refittability use the cargo translation table of the GRF setting the refitmask instead of the GRF defining the action 3 (r22316)\n- Fix: Make road vehicles, ships and aircraft skip orders if they are leaving a depot and heading to the same one again; just like trains (r22309)\n- Fix: Waiting on a server could kick the client, or rather the client would kick itself due to an unexpected packet [FS#4574] (r22308)\n- Fix: When drawing the town authority window, check whether the availability of the actions changed, and force a complete redraw in that case (r22307)\n- Fix: The 'freeform edges' setting could be enabled when there were buoys on the northern border [FS#4580] (r22297)\n- Fix: Reset Window::scrolling_scrollbar when raising scrollbar buttons [FS#4571] (r22294)\n\n\n### 1.1.0 (2011-04-01)\n\n- Fix: In the scenario editor you could build a ship depot using the appropriate hotkey. Removing that depot causes an assertion to trigger [FS#4558] (r22266)\n\n\n### 1.1.0-RC3 (2011-03-18)\n\n- Fix: New game settings were applied too early when starting a game via a heightmap [FS#4557] (r22259)\n- Fix: Do not resort town, industry and signs list directly in OnInvalidateData(). There might be a scheduled rebuild which needs execution first. So, only set a trigger for resorting [FS#4546] (r22249, r22248, r22247, r22246, r22245, r22244, r22243, r22242, r22241, r22236, r22228, r22227, r22226)\n- Fix: [NewGRF] Object variable 0x48 was not available in callback 0x15C (r22231)\n- Fix: Compilation when compiling with --disable-ai (r22222)\n- Fix: When downloading a file via HTTP failed mid-way and OpenTTD fell back to the old system the partial downloaded amount would be counted twice [FS#4543] (r22208)\n- Fix: The 'center' (for movement) of vehicles is (currently still) always at 4/8th original vehicle length from the front, so trains should stop at the same location regardless of the length of the front engine [FS#4545] (r22206)\n- Fix: Make the base costs for building and demolishing NewObjects also local to the individual NewGRFs (r22204)\n- Fix: Removing a station order could stop when removing first automatic order (r22200)\n- Fix: Invalidate the object build window when using the date cheat (r22193)\n\n\n### 1.1.0-RC2 (2011-03-04)\n\n- Fix: Following a vehicle with a very high VehicleID was impossible (r22181)\n- Fix: [NewGRF] Memory leak if an industry NewGRF had more than one prop A or 15, or a station NewGRF had more than one prop 09 (r22175, r22165)\n- Fix: [NewGRF] Disable a station NewGRF when it contains an unterminated spritelayout in action0 prop 08 instead of crashing (r22164)\n- Fix: Building a station part adjacent to both an existing station and a rail waypoint failed [FS#4541] (r22163)\n- Fix: No update of NewGRF window when unknown GRF name becomes available [FS#4533] (r22162)\n- Fix: [NewGRF] Industry prop 0x11 is 4-bytes long, not 3 bytes (r22157)\n- Fix: Stations/infrastructure were not properly sold on some clients during bankruptcy [FS#4529] (r22154)\n- Fix: The Greek translation did not work as it breached the 200.000 bytes 'limit' for loading language files [FS#4536] (r22153)\n- Fix: Windows video driver crashed when it could not go to full screen at the resolution of the configuration file when starting OpenTTD [FS#4521] (r22149)\n- Fix: Do not run savegame conversion during SlNullPointers; the pointer might not be converted or be NULL at that point (r22146)\n- Fix: Some valid keycodes were ignored along with the invalid ones (r22142)\n- Fix: When commands need to invalidate windows, process these events asynchronously before the next redraw. Calling window code directly from command scope uses wrong _current_company and might issue nested DoCommands() which interfere with the running command [FS#4523] (r22141, r22140, r22135, r22134)\n- Fix: [NewGRF] Skipping only the invalid part of an action14 failed, the rest of the action was skipped instead (r22138)\n- Fix: Spectators had crashes when closing buoy windows (r22131)\n- Fix: Build-station-window showed wrong selection when reopening [FS#4530] (r22128)\n- Fix: Canals would get drawn as land in the smallmap when using the owner window (r22127)\n- Fix: The animation-ness of two goldmine tiles were swapped, causing the wheeltower to not work properly, and the bottom corner to show the wrong sprite [FS#4528] (r22125)\n- Fix: CommandQueue::Pop() did not update 'last'; popping the last item caused the queue to disconnect unless there was only one item [FS#4522] (r22123)\n- Fix: When a NOT_REACHED in saveload can be reached due to an invalid savegame, use SlErrorCorrupt instead. In other words, do not crash but show an error message (r22122)\n- Fix: In case of high frame_freq one could get commands executed after a new network game was started (r22121)\n- Fix: [NoAI] Prevent AIs from getting consistently over their allowed amount of operations by subtracting the amount they went over 'budget' from the budget for the next 'tick' (r22120)\n- Fix: The refit window was not correctly updated after selecting with Ctrl+Click [FS#4525] (r22118)\n- Fix: CanRemoveRoadWithStop() failed for _current_company = OWNER_TOWN, and for OWNER_NONE-owned road (r22117)\n\n\n### 1.1.0-RC1 (2011-02-18)\n\n- Feature: [NewGRF] Test all possible industry layouts during construction and prospecting [FS#4131] (r22012, r22010)\n- Feature: Wheel scrolling in the console (r21982)\n- Feature: Console command to reset the engine pool. It removes the traces of engines which are no longer associated to a NewGRF, and can be used to e.g. 'fix' scenarios which were screwed up by the author. You can only use it when there are no vehicles in the game though (r21975)\n- Feature: Add a setting to enable/disable funding local road reconstruction (r21974)\n- Feature: Introduce 'minimal' number of industries as a replacement for the old 'none' setting in the new game window (r21969)\n- Change: When loading old savegames with long trains set the maximum train length to the length of the longest train (r22061)\n- Change: Always report mammoth trains are disabled to NewGRFs, and allow the maximum train length to be modified in multiplayer as well [FS#4471] (r22004)\n- Fix: Remove invalid keycodes when reading hotkeys.cfg [FS#4510] (r22094)\n- Fix: The server list did not get sorted with one item in it, so the 'position in the list' variable was never updated causing problems when using the keyboard shortcuts for scrolling [FS#4514] (r22093)\n- Fix: When deleting towns, only relocate objects during DC_EXEC (r22087)\n- Fix: [Windows] If fullscreen fails with current resolution, use desktop resolution [FS#4489] (r22081)\n- Fix: The owner view of the smallmap was not updated after a company colour change (r22079)\n- Fix: Maximum train length interfered with wagon replacement when wagon removal was turned on [FS#4499] (r22078)\n- Fix: NewGRFs with invalid multi-tile houses could cause a valid 1x1 house following it to be seen as multi-tile, causing crashes [FS#4501] (r22075)\n- Fix: Immediately update the train weight when you change the multiplier for train cargo weight (r22073)\n- Fix: Some hotkey names in hotkey.cfg for the scenario editor toolbar were completely bogus (r22071)\n- Fix: Crashes when disconnecting after requesting the map [FS#4503] (r22070)\n- Fix: Delete all savegame packets, not just the first one (r22069)\n- Fix: Return 'connection lost' instead of 'okay' when SendPackets closed the connection, so we do not try to do anything else with the closed socket (r22068)\n- Fix: Do not hold a mutex when sending packets and thus possibly closing the connection as that wants to acquire the mutex again (r22067)\n- Fix: Verify we can allocate an Order, OrderList, CargoPacket, CargoPayment, and others before we actually try to do so (all corner cases) [FS#4468] (r22066, r22057, r22047, r22042, r22040, r22033, r22031, r22026, r22025, r22024, r22023, r22022)\n- Fix: Crash when disconnecting and reconnecting while the server is still saving the savegame [FS#4497] (r22064)\n- Fix: Memory leak when saving with LZMA or zlib fails mid-way (r22062)\n- Fix: Make the send chat message window follow the position of the status bar (r22059)\n- Fix: Metric and imperial HP are not the same. As imperial HP are used internally, set a conversion rate for metric HP [FS#4408] (r22056)\n- Fix: [Squirrel] Some invalid squirrel code caused the squirrel compiler to crash [FS#4490] (r22055)\n- Fix: The land area information window was not updated after a language change (r22053)\n- Fix: Roads under road stops would get a wrong owner after overbuilding (r22051)\n- Fix: In ancient savegames, e.g. TTO savegames, non primary vehicles (wagons and such) could have unitnumbers or even orders. However, these orders would not be updated when a station is removed. As such some savegames have wagons with current orders to invalid stations which triggers trouble in the load conversion. So, trash any orders/unitnumbers a non-primary vehicle has [FS#4496] (r22050)\n- Fix: [NewGRF] Company 0 does not always exist, so put temporary vehicles in a valid company (r22048)\n- Fix: Make sure order indices stay in range when copying, sharing, unsharing or deleting all orders [FS#4487] (r22046)\n- Fix: Update the consist cache when a part of a train is flipped in the depot [FS#4493] (r22044)\n- Fix: Invalidate the right windows when a part of a train is flipped in the depot (r22043)\n- Fix: Tab completion in chat did not cycle through all possible options (r22038)\n- Fix: Crash when watching the vehicle view of a vehicle that has multiple sequential nearest depot orders (or consists of a single nearest depot order) when there is no depot with index 0 [FS#4488] (r22034)\n- Fix: The server list got not resorted/redrawn after NewGRFs were downloaded [FS#4482] (r22029)\n- Fix: When paused and having the allowed actions while paused setting on 'no actions' cheating money would fail [FS#4479] (r22016)\n- Fix: Only show one AI per unique ID instead of all versions in the output of 'openttd -h' (r22007)\n- Fix: Smoke/sparks of trains would be shown under bridges, or rather through bridges [FS#4480] (r22006)\n- Fix: When the difference between force and resistance is smaller than the mass(*4) there would be no acceleration anymore, even when at higher (or lower) speed the force and resistance balance out better [FS#4473] (r21997)\n- Fix: [YAPF] Under some circumstances vehicles could be lost [FS#4472] (r21996)\n- Fix: [NewGRF] Make computations of closest-land/water-distances handle waterish tiles more correctly (r21994)\n- Fix: When building a lock on dry land costs for clearing water were deducted rather than for building canals (r21993)\n- Fix: AIs trying to change the AIOF_GOTO_NEAREST_DEPOT flag for existing orders triggered an assert. Explicitly forbid this as precondition for SetOrderFlags [FS#4467] (r21992)\n- Fix: The share/copy-orders-cursor was not updated to refer to the new vehicle when it got autoreplaced/-renewed [FS#4466] (r21991)\n- Fix: Vehicle status bar glitches on speed changes (r21989)\n- Fix: Scrolling of the console in pages used wrong line height and scrolled too much (r21979)\n- Fix: Redraw the town authority window after modifying town authority settings (r21973)\n- Fix: Crash when a multiplayer company goes bankrupt with 'you' in it [FS#4464] (r21970)\n\n\n### 1.1.0-beta5 (2011-02-04)\n\n- Feature: GUI setting to disable reversing at signals (r21962)\n- Feature: Not loading and not unloading is now possible (r21961)\n- Change: [NewGRF] Disable the flipping of train engines/wagons in the depot by default for NewGRFs [FS#4462] (r21966)\n- Change: Show the length of vehicles in tiles, instead of half tiles in the depot (r21960)\n- Change: Replace longbridges settings with custom maximum bridge and tunnel length setting (r21959)\n- Change: Randomise the vehicle a small UFO targets, do not use the one with lowest index (r21949)\n- Fix: Do not count the number of vehicles but the length of vehicles to (configurably) limit train length [FS#4461] (r21960)\n- Fix: [NewGRF] Reset the carry flag every 4 bytes in Action 6 when adding more than one variable (r21951)\n- Fix: Road vehicle was moved under the bridge when it was destroyed by an UFO while on a bridge (r21948)\n- Fix: Crash when converting a savegame with vehicles crashed in a tunnel entry, or with vehicles reversing there (r21947)\n- Fix: Funny behaviour when a road vehicle reverses while overtaking, so abort the overtake attempt when reversing the road vehicle [FS#4447] (r21946)\n- Fix: Not all vehicles should be tested to be inside a tunnel upon savegame load [FS#4460] (r21940)\n- Fix: Do not remove existing road/tram bits when overbuilding stops of the opposite road type [FS#4457] (r21936)\n- Fix: Allow to overbuild road stops which are built over trams (r21935)\n- Fix: Automatic orders behave now stable wrt. service orders and are not added or removed depending on the need of servicing [FS#4440] (r21933)\n- Fix: The town window would not be invalidated in the scenario editor if the ground changed and thus the required cargoes for town growth [FS#4554] (r21929)\n- Fix: Converting an expensive rail type to a cheap one could give more money than removing and rebuilding cost (r21919)\n- Fix: Languages improperly sorted in the 'start server' window [FS#4443] (r21918)\n- Fix: The minimum speed needed for (realistic) acceleration to work properly can sometimes be more than the (temporary) maximum speed causing Clamp to 'fail'. Make sure that the minimum speed always overrules the maximum speed [FS#4442] (r21916)\n- Fix: Include the capacity of non-refittable vehicles in the refitted-capacity, if their cargo matches (r21904)\n- Fix: Do not count articulated parts when passing the number of vehicles to refit to the command. That may exceed 8 bits (r21902)\n- Fix: [NoAI] Hide automatic orders from AIs as they have no way of dealing with them (r21900)\n- Fix: Do not show a vehicle selection in the RefitWindow for refit orders. You cannot select anything anyway (r21899)\n- Fix: Using a pointer-iterator and adding things (thus reallocating) to the iterated array caused OpenTTD to crash on invalid pointers [FS#4438] (r21898)\n- Fix: Only some scenarios from the main scenario folder and no heightmaps could be started in the 'start server' window [FS#4421] (r21892)\n- Fix: Crash when scrolling outside of the main window (with some video backends) [FS#4434] (r21889)\n- Fix: [NewGRF] String codes 0x80 and 0x81 were broken since the typechecking of string parameters [FS#4422] (r21885)\n- Fix: When a train after reversing ended at the last bit of a bridge ramp and directed outside the bridge, it could still have track set to TRACK_BIT_WORMHOLE (r21880)\n- Fix: When a single-vehicle train was reversed while on a slope, its GOINGUP/DOWN were not swapped (r21874)\n- Remove: Settings for vehicle speed in the vehicle view, long date in status bar, drawing of bridge pillars, support for depot orders, time tabling and joining of stations upon building (r21958, r21957, r21956, r21955, r21954)\n- Remove: The non-uniform stations setting; it has been broken for over a year, and thus not used [FS#4456] (r21953)\n\n\n### 1.1.0-beta4 (2011-01-21)\n\n- Feature: [NewGRF] Rail type property to influence sorting of rail types in the drop down list [FS#4394] (r21866)\n- Feature: [Network] Console command to change the password of other companies for servers [FS#4368] (r21855)\n- Feature: [NewGRF] Introduction dates/required types for rail types; e.g. introduce a particular rail type in 1960 (or when a vehicle using it is introduced), but also allow limiting its introduction to only happen when the required railtypes are available [FS#4393] (r21842)\n- Feature: Limit vehicle lateness to the length of a full timetable cycle, e.g. when a cycle takes 50 days and the vehicle is 65 days later reduce the lateness to 15 days (r21832)\n- Feature: After building a road or tram bridge/tunnel, connect it to any existing road or tram (r21778, r21777)\n- Feature: Display NewGRF object sprites during object picking (r21772)\n- Feature: Display NewGRF station sprites during station picking (r21755)\n- Change: Allow LMB scrolling with the mouse outside of the extra viewport instead of cancelling scrolling when going slightly over the edge (r21838)\n- Change: Only show rail/road types that will eventually be available in-game. For example do not show trams when there is no tram NewGRF loaded (r21817)\n- Change: Keep aqueducts and road/tram tunnels and bridges after removing a company (r21780)\n- Fix: Distant-join station would build at the wrong location when having persistent building turned on and selecting a 'second' location for the station tile [FS#4430] (r21864)\n- Fix: Slowing down of trains was done by reducing the speed by 10%, but also when you are just 1% too fast, so limit the slowdown till the new maximum speed [FS#4423] (r21847)\n- Fix: Left-mouse-button dragging would switch over to other viewports instead of staying locked to the viewport you started on [FS#4419] (r21837)\n- Fix: When a train was reversed while inside a tunnel/bridge, it would not have (re)set the GOINGUP/DOWN bits after leaving the tunnel/bridge (r21836)\n- Fix: Desync debug savegames might not be actually saved in case threading is enabled, which is enabled by default [FS#4427] (r21833)\n- Fix: Service orders for trains/aircraft would (sometimes) not get a time when autofilling [FS#4414] (r21831)\n- Fix: Crash with the small map window on big endian platforms [FS#4417] (r21830)\n- Fix: The expectations from the 'always build infrastructure' setting name/description did not match the behaviour [FS#4007] (r21826)\n- Fix: Allow dragging of combo signals (again) [FS#4378] (r21816)\n- Fix: [YAPF] Apply a pathfinder penalty for back of one-way path signals so those are not preferred over other possibilities [FS#3908] (r21815)\n- Fix: Check GRF version from action 8, and disallow usage of GRFs with versions above 7 (r21814)\n- Fix: Crash when displaying the owner view [FS#4411] (r21813)\n- Fix: Do not create automatic orders when there are no manual orders, and remove unreached automatic orders when reaching an ordered waypoint or depot [FS#4404] (r21809, r21808)\n- Fix: Loading a TTO savegame failed after loading a TTDP savegame (r21799, r21798)\n- Fix: The size (in characters) of the string inputs was too small for loading some TTD savegames (r21797)\n- Fix: Drive through road stop state was not properly converted from TTDPatch savegames [FS#4398] (r21796)\n- Fix: Broken usage of GetTileOwner() caused wrong conversion of old savegames (r21793)\n- Fix: Terraforming limit was off-by-one when terraforming a single tile height [FS#4407] (r21791)\n- Fix: TTDPatch savegames can have train waypoints encoded as buoys [FS#4398] (r21790)\n- Fix: When the font misses the fallback character '?', use the sprite font's '?' instead [FS#4405] (r21789)\n- Fix: Crash due to invalid rail station width and height data stored in TTDPatch savegames [FS#4398] (r21786)\n- Fix: Crash when converting savegame with custom waypoint name (r21784)\n- Fix: Diagonal tile iterator failed for A * 0 selections [FS#4396] (r21768)\n- Fix: Do not limit tile clearing during bankruptcy [FS#4397] (r21767)\n- Fix: PBS reservation was not shown on road crossings with NewGRF railtypes [FS#4369] (r21765)\n- Remove: The 'stopall' console command, as its functionality was broken. Group start/stop commands can be used instead [FS#4409] (r21804)\n\n\n### 1.1.0-beta3 (2011-01-09)\n\n- Feature: Configurable limit amount of tiles that can be cleared/terraformed by a company [FS#4331] (r21728)\n- Feature: Show a list of companies in the owner legend and allow them to be toggled for visibility (r21720, r21718)\n- Feature: Console command 'list_ai_libs' to get a list of recognised AI libraries [FS#4372] (r21703)\n- Feature: Allow changing the AI configuration in the scenario editor / in game [FS#4362] (r21696)\n- Change: Tune 'realistic' acceleration even more to make more trains reach their top speed, and make it behave more like TTDPatch (r21712)\n- Change: Display the minimum height of the tile in the LandInfo window instead of the height of the northern corner. So it is more useful for NewGRF and AI developers, and maybe more transparent for players (r21711)\n- Fix: The diagonal iterator would iterate twice over some tiles [FS#4395] (r21747)\n- Fix: [NewGRF] Canal variable 83 accessed water random bits also for non-water tiles (e.g. watery industries or objects) (r21746)\n- Fix: [NewGRF] Canal variable 80 shall return consistent heights within a lock (r21745)\n- Fix: Allow Ctrl+Clicking automatic orders for scrolling to their destination (r21744)\n- Fix: Coast tiles were not drawn under bridges [FS#4386] (r21743)\n- Fix: Make clearing refit orders work again [FS#4388] (r21739)\n- Fix: Start loading when cur_order_index points to the destination station, i.e. after deleting not-reached automatic orders [FS#4384] (r21738)\n- Fix: A loading order was also marked as 'not part of orders' when the order before the current order was deleted (r21737)\n- Fix: Admin bots were not always notified of password changes [FS#4377] (r21727)\n- Fix: Vehicle sprite was cached into a 16 bit variable, causing incorrect sprites to be displayed (r21709)\n- Fix: [NewGRF] Report TTDPatch flag 4A (newobjects) as set (r21708)\n- Fix: The old ship pathfinder is too stupid to provide 'lost' notices; it would even get lost while following its own path [FS#4370] (r21706)\n- Fix: Do not perform any more checks after the connection is closed [FS#4374] (r21704)\n- Fix: Changing AI settings ingame was impossible when the difficulty level was other than custom (r21694)\n- Fix: Due to an error in the Debian changelog building of Debian/Ubuntu packages failed (r21682)\n\n\n### 1.1.0-beta2 (2010-12-31)\n\n- Feature: Command logging using the admin interface (r21668)\n- Feature: Concept of automatic station orders; add stub orders for intermediate stations and remove them when not visiting them anymore. This allows you to see what trains visit a station without actually having to order a vehicle to stop at all stations (r21642)\n- Add: [NoAI] AIEventTownFounded (r21664)\n- Add: [NoAI] AIRail::GetName() to get the name of a railtype (r21663)\n- Add: [NoAI] AITown::IsCity() so AIs can find out which towns grow faster than others (r21654)\n- Change: Do not show price to build a bridge in the scenario editor as they are free to build there [FS#4358] (r21673)\n- Change: Do not highlight tile when selecting a vehicle to clone or an order to skip to (r21616)\n- Fix: Estonia introduced the Euro in 2011 (r21670)\n- Fix: Autofill timetable had side effects in test mode, possibly causing desyncs in MP [FS#4354] (r21660)\n- Fix: Cargo payment graph was not properly invalidated when payment rate changed [FS#4351] (r21658)\n- Fix: Use a bool instead of uint8 to store a bool and use the dedicated accessor function when reading boolean settings [FS#4345] (r21656)\n- Fix: Infinite loop in the road pathfinder due to bouncing around in an 'one way' trap; two one ways pointing towards each other making it impossible to leave [FS#4338] (r21651)\n- Fix: Make '[centre|main] view' consistent, and make '[main|global] view' consistent [FS#4339] (r21650)\n- Fix: Newly created skip-to order was created at wrong place (r21633)\n- Fix: Ships with the old pathfinder would easily show up as lost, even when it would eventually find a path. Now also the distance from the 'end' of the pathfinding run to the destination is compared to the current distance to the destination; if the distance to the destination at the end of the pathfinder run is less than the current distance from the destination the ship will not be marked as lost. This means that the ships with the old pathfinder will less likely get marked as lost, but due to the design of the old ship pathfinder there 'lostness' is merely a best guess. When you still get a lost message you need to build buoys to guide the ship pathfinder [FS#4325] (r21631)\n- Fix: Version detection of subversion branches and tags got broken (r21630)\n- Fix: Crash under certain circumstances when using autorail [FS#4327] (r21619)\n\n\n### 1.1.0-beta1 (2010-12-24)\n\n- Feature: [NewGRF] Variable 7B for accessing 60+x variables while taking the parameter from the accumulator (r21604)\n- Feature: Allow to refit only the selected part of a train consist (r21567)\n- Feature: Store the used OpenTTD version, base graphics set, NewGRFs and AIs in the PNG screenshots (r21558, r21553)\n- Feature: Make the delay of the chat messages timing out unrelated to the number of passed game days, i.e. do not stop ageing chat messages when the server is paused, and make the timeout user configurable [FS#532] (r21513, r21512)\n- Feature: Vehicle lost messages for ships and road vehicles [FS#1956] (r21511, r21510)\n- Feature: Diagonal tile clearing and terraforming by pressing Ctrl [FS#730] (r21500)\n- Feature: [NewGRF] Use the station graphics property to determine a fallback for the depot sprites [FS#4279] (r21473)\n- Feature: Add explicit make 'shared orders' an option in the orders menu (r21464)\n- Feature: Make it more clear that you are stopping a shared order, and make it possible retain the order list upon unsharing [FS#3711] (r21461)\n- Feature: Hotkey Ctrl+W for returning to the main menu [FS#3217] (r21459)\n- Feature: Scroll to the inserted order [FS#4215] (r21457)\n- Feature: Building while paused always works in the scenario editor [FS#1521] (r21430)\n- Feature: Perform the compression of savegames to send to the client asynchronously. This will reduce the lag of the other clients to the time it takes to make the memory dump and it will speed up downloading the map as the download starts earlier (possibly with a slightly lower bandwidth due to slow compression) [FS#4284] (r21399)\n- Feature: Do not store savegames to disk when transferring it from the server to a client (r21398, r21397)\n- Feature: Use alphabetical order when sorting industries by type at the industry directory window (r21389)\n- Feature: Allow entering of the new year in a text box when cheating the year [FS#4289] (r21388)\n- Feature: Support for limiting the amount of (accepted) incoming data for a server (r21363)\n- Feature: Natural sorting of strings using ICU [FS#4214] (r21344)\n- Feature: [NewGRF] Implement action0 visual effect properties for ships and RVs (r21240)\n- Feature: [NewGRF] Support callback 0x10 for RVs and ships (r21238)\n- Feature: [NewGRF] Make positioning of diesel fumes and electric sparks actually work (r21230)\n- Feature: [NewGRF] Support OpenTTD's genders, cases and plurals (r21216, r21211, r21209)\n- Feature: Display mail capacity when refitting an aircraft to passengers (r21214)\n- Feature: Make the statusbar's location configurable [FS#4201] (r21179)\n- Feature: Forced construction of missing industries (r21175)\n- Feature: Do not build industries during economic recession (r21169)\n- Feature: Use desired industry counts rather than relative probability to decide which industry to build (r21168)\n- Feature: Allow to sort purchase lists for trains and road vehicles by tractive effort (r21105)\n- Feature: [NewGRF] Add CB36 support for road vehicle property 0x15 (Speed) (r21100)\n- Feature: [NewGRF] Implement stringcode 9A 0C (station name), 9A 0D (weight) (r21086, r21085)\n- Feature: [NewGRF] Add CB36 support for road vehicle properties 0x13 (Power), 0x14 (Weight) and 0x18 (Tractive effort) (r21058)\n- Feature: XZ/LZMA2 savegame support. New default reduces savegame size by 10 to 30% with slightly more CPU usage. With maximum settings it reduces savegame size by 20 to 30%, but that takes 7 to 14 times longer. Map saving + downloading takes, on average, 5% less (r21044)\n- Feature: Chat directly to the server or a bot/admin/IRC channel monitoring the server (r21000)\n- Feature: Remote administration (r20975-r20963)\n- Feature: [NewGRF] The concept of minimum loadable version to NewGRFs when choosing compatible NewGRFs (r20960, r20958)\n- Feature: Centre new extra viewports on the tile below the mouse. Only centre on centre of main viewport if mouse is not in any viewport (r20956)\n- Feature: [NewGRF] Make it possible to distinguish player built/randomly placed industries in the location and land slope check callbacks (r20942)\n- Feature: Highlight all destination tiles when building a lock [FS#4153] (r20932)\n- Feature: Transfer orders imply 'leave empty' by default [FS#3905] (r20927)\n- Feature: Allow to select a custom percentage of water in the map generation window (r20832)\n- Feature: Make it possible to select vehicle to clone and vehicle to clone orders from directly from vehicle lists and depot window [FS#3999] (r20753)\n- Feature: Separate GUI icons for vehicle/company profit, exclusive rights and unread news (r20720)\n- Feature: [NewGRF] Support for newobjects (r20670)\n- Feature: Make the (flat) area around an industry configurable (r20659)\n- Feature: [Network] Allow rate limiting of incoming commands (r20553)\n- Feature: Filter signs at the sign list window [FS#3472] (r20516)\n- Feature: Ignore _ in console command names so there is no 'inconsistent' behaviour w.r.t. underscores anymore without breaking backward compatibility greatly (r20515)\n- Feature: A new screenshot type that makes a zoomed-in screenshot of the visible viewport [FS#3973] (r20508)\n- Feature: Setting for none/original/more smoke [FS#3093] (r20376)\n- Feature: Airport previews (r20381, r20369)\n- Feature: [NewGRF] Support for callback 0x147 ('add sprite offset') for canals (r20353)\n- Feature: [NewGRF] Support for property 09, feature 05, i.e alternate canal sprite layout (r20352)\n- Feature: Add rescan_newgrf console command (r20344)\n- Feature: [NewGRF] AdvVarAct2 operators for SHL, SHR and SAR (r20332)\n- Feature: [NewGRF] Air drag property support for trains and road vehicles. Air drag for vehicles with air drag not set or set to zero will use a default value depending on their max speed (r20303, r20302, r20301, r20300, r20299)\n- Feature: More user-friendly gui to change NewGRF parameters (r20258)\n- Feature: [NewGRF] Add support for static NewGRF information, i.e. Action 14 (r20250)\n- Feature: Display suppliers and customers of an industry or cargo (r20206)\n- Feature: Allow horizontal resizing for all vehicle lists [FS#3955] (r20174)\n- Feature: [NewGRF] Information (var 4A) about the current railtype a train is on (r20165)\n- Feature: Tooltips are shown by hovering the mouse over a widget instead of by right clicking on it [FS#3913]\n- Feature: Customisable hotkeys (r20055)\n- Feature: Wrap console lines when they are too long [FS#3816] (r20046)\n- Feature: [NewGRF] Variable 43 depot build date for railtypes [FS#3886] (r20003)\n- Feature: Show some savegame details when selecting items in saveload GUIs (r19984)\n- Feature: Open vehicle view when clicking on the caption of vehicle news (r19944)\n- Feature: [NewGRF] Access to industry founder (var A7) during callbacks 28 and 2F (r19901)\n- Feature: Add highlighting of drag destination in depot and order GUI gui [FS#3705] (r19889, r19888)\n- Feature: Configure NewGRFs from a single window (r19841)\n- Feature: Give depots an unique name in the same manner buoys and waypoints are named. Also allow them to be custom named [FS#3691] (r19801, r19799)\n- Feature: Hide all other industries when Ctrl+clicking an industry type in smallmap legend (r19770)\n- Feature: [NewGRF] Access to random bits of houses and industries from construction callbacks 17, 28 and 2F. That is: The random bits the house/industry will start with, if construction succeeds [FS#3477] (r19744)\n- Feature: A simple sprite alignment helper. It does not store the new offsets anywhere so as soon as the sprite is reloaded the offsets are gone (use a bigger sprite cache if this happens). Also anything that reloads NewGRFs (new games, loading games or (re)applying NewGRFs) clears the sprite cache and as such resets the offsets (r19723)\n- Feature: New base costs for building/clearing canals, building/clearing aqueducts and building/clearing locks (r19720)\n- Feature: Ctrl+click on a vehicle to start/stop it (r19714)\n- Feature: NewGRF debugging/inspecting of (primarily) enabled callbacks and values of variables (r19709)\n- Feature: Graphs with negative values are no longer forced to have the zero axis in the middle, resizeable graphs (r19662, r19631)\n- Feature: [NewGRF] Support callback 36 for aircraft speed also in the build menu (r19660)\n- Feature: Add an input box to the AI Debug window where you can input a break string [FS#3496] (r19544)\n- Feature: Add buttons to enable/disable all cargoes at the cargo payment rates graph (r19542)\n- Feature: Sort industries alphabetically at the smallmap legend, fund industry list; sort cargoes alphabetically at cargo payment graph, build vehicles cargo filter dropdown, station ratings and refit options (r19541, r19540, r19436, r19535, r19522, r19503)\n- Feature: Console command 'reload_newgrfs'; only available when NewGRF developer tools are enabled (r19515)\n- Feature: Enter the starting year in the scenario editor by clicking at the date panel (r19397)\n- Feature: Configurable slope steepness for road vehicles from 0% to 10%, default is 7% (r19346)\n- Feature: Realistic acceleration for road vehicles (r19345)\n- Feature: Allow to (over)build and remove multiple road stops using drag and drop (r19231, r19230, r19229)\n- Feature: Show warnings and errors in console as well, not only in a message box (r19225)\n- Feature: [NewGRF] Action 0/1/2/3 support for NewGRF airporttiles (r19194)\n- Add: [NoAI] AIOrder::IsVoidOrder to find void '(Invalid Order)' orders (r20389)\n- Add: Support for MSVC 2010 (r20032)\n- Add: [NoAI] AIIndustry::GetIndustryID(TileIndex) (r19773)\n- Change: Make it possible to start actions that require selecting stuff (landscaping, vehicle cloning, etc) in the viewport while paused. As side-effect you will get an error message explaining the command cannot be executed because the game is paused instead of seemingly nothing happening when you click. Additional side effect of this is that you can make use of the measurement tooltip while paused [FS#4292] (r21480)\n- Change: Make building aqueducts behave more like building tunnels. They cannot be built on flat (or foundation) tiles, so there is at most one destination tile like there is only one for tunnels [FS#4153] (r21471)\n- Change: Place the bridge building window under the mouse instead of somewhere randomly on the screen and change the default sort order [FS#3975] (r21460)\n- Change: Make sure the client is listening, or rather receiving, our frames (r21361)\n- Change: Read some metadata from (official) source tarballs so you will more likely get the right version/revision out-of-the-box (r21351)\n- Change: Be more explicit that the game state can get broken by changing NewGRFs (r21335)\n- Change: Use the last red instead of last red exit penalty for making sure other waypoint entries are evaluated as well when they are occupied, e.g. when there are no signals before the waypoint but a train just beyond the waypoint is stopped (like for stations) (r21271)\n- Change: Do not receive money for removing the rail of non-rail rail station tiles, i.e. rail station tiles for which the NewGRF has prevented trains to be routed through (r21266)\n- Change: Show a different 'lag' message when a client is lagging because of connection trouble or lagging because the client is just slow (r21254)\n- Change: Mention the OpenTTD version on the console/logs when starting an OpenTTD dedicated server like we mention it in the title bar for the GUI version (r21253)\n- Change: Filter stations by cargo they have a rating for instead of having cargo waiting [FS#4206] (r21144)\n- Change: Limit the number of exceptions in the refittable cargo list to 7 (r21083)\n- Change: Reduce the chances to accidentally break savegames with NewGRFs by limiting loading of savegames that miss NewGRFs or change NewGRF settings in-game [FS#3012] (r21116)\n- Change: Tuned realistic acceleration to be a bit more realistic in order to make acceleration 'slower', which highlights the differences between vehicle types more (r21106)\n- Change: Do not make client reconnect waiting time depend on the company; in coop games that does not spread clients at all, and most companies have a low number causing it not to be spread out either. Use the ClientID instead (r21008)\n- Change: Add installing options or rather options to not install certain documentation, in a similar way to GRFCodec/catcodec (r20999)\n- Change: Only display liveries in the livery window if they are used by some vehicle somewhen (r20849)\n- Change: [NoAI] Rename AIAbstractList to AIList (r20563)\n- Change: [NoAI] AIOrder::GetOrderFlags returns AIOrder::AIOF_INVALID for void orders (r20389)\n- Change: [NewGRF] Adapt vehicle var FE bit 6 to new railtypes (r20175)\n- Change: [NewGRF] Call callbacks 14A, 14B and 14C after all industry variables have been assigned, so more variables are valid during the callbacks (r19907)\n- Change: [NoAI] Remove HasNext() from all lists/iterators and add IsEnd() instead (r19294)\n- Change: Add the default installation directory of lzo/zlib for Mac OS X/MinGW to the paths where (the headers of) those libraries are searched [FS#3638] (r19285)\n- Fix: Crash due to cargo payments belonging to a non-existing company [FS#4324] (r21605)\n- Fix: Company league table used stats from two quarters ago instead of last quarter [FS#4323] (r21601)\n- Fix: The default visual effect only depends on properties of the Engine (wagon or not, tractiontype, ...), not whether it is used as articulated part, front engine or whatever in a specific consist [FS#4275] (r21598)\n- Fix: [OSX] A double mouse cursor was shown under certain circumstances [FS#2585] (r21578)\n- Fix: Show 'plant trees' button lowered on the terraform toolbar, like how other buttons are lowered when you selected a 'build' action [FS#4315] (r21539)\n- Fix: 2CC recolour sprites were the same for DOS and WIN palette, thus 'dark green', 'brown', 'grey' and 'white' were wrong for DOS [FS#4312] (r21535)\n- Fix: Do not apply the last signal red pathfinder penalty when the signal is a path signal [FS#4302] (r21524)\n- Fix: Tooltips were not removed when their related window got closed [FS#4300] (r21477)\n- Fix: Make sure the query window is only opened once per parent window/callback [FS#4298] (r21472)\n- Fix: Crash when news item gets removed at just the wrong moment [FS#4180] (r21458)\n- Fix: [NewGRF] Ensure the parameter for house variable 60 is the id of an original house (r21456)\n- Fix: [NewGRF] A NewGRF with incomplete string codes at the end of a string could cause invalid memory reads (r21433)\n- Fix: The server did not check for the paused state when allowing to execute commands [FS#3771] (r21429)\n- Fix: Vehicles could be built while the game is paused. Now you can enable or disable that with a setting, which replaces the build-while-paused cheat [FS#4021] (r21428)\n- Fix: Purchase lists were not invalidated when using 'resetengines' (r21374)\n- Fix: Fields were not cleared under snow though they were intended to be [FS#4283] (r21367)\n- Fix: New railtypes with overlays did not use the shore sprites as groundtiles for three-corner-raised slopes (at shore) [FS#4277] (r21353)\n- Fix: Buffer overflow in strgen for strings with very large arguments (r21346)\n- Fix: Bogus cache mismatch warnings with desync debugging because some cache was invalidated but never reset [FS#4272] (r21338)\n- Fix: Make it more likely that the savegame and transferred file are the same file and not different ones [FS#4271] (r21334)\n- Fix: Use the correct font sizes when checking for missing glyphs (r21321)\n- Fix: [Content] Crash when creating file download by the content download system failed (r21319)\n- Fix: AIs in an infinite loop in e.g. autosave, but also getting settings and such from info.nut, would not be interrupted after a while causing OpenTTD to seem to not respond [FS#4260] (r21311)\n- Fix: [Content] Do not add HTTP connection to list of connections when it fails in the beginning (r21302)\n- Fix: Fonts set in openttd.cfg were not properly checked for missing glyphs on language change [FS#4261] (r21298)\n- Fix: FreeBSD introduced strndup as well [FS#4259] (r21295)\n- Fix: [Windows installer] Check for existence of save/scenario dirs before asking for deletion confirmation [FS#4251] (r21294)\n- Fix: Under some circumstances two vehicles could leave a non drive-through road stop at once [FS#3935] (r21263)\n- Fix: [NewGRF] Custom station foundations using the 'simple foundations'-method did not draw any sprite for WSE-slopes when there are foundations on both neighboured tiles in the north. As there must be at least one sprite to provide the correct offset for the groundsprite draw the (empty) default foundation sprite in that case [FS#4246] (r21262)\n- Fix: The main menu error messages would not show when you had an error message open in the game while whatever triggered you to go back to the main menu (r21255)\n- Fix: Rescanning AIs did not 'forget' removed AIs [FS#3952] (r21250)\n- Fix: Upon rescanning AIs the new AIs would (after some time) show up in the AI list but you could not select all (r21246)\n- Fix: [YAPF] Road vehicles not finding the nearest depot in some (corner) cases [FS#4130] (r21229)\n- Fix: [NewGRF] The specs' cargo strings and OpenTTD's use of the clashed. Provide properties so NewGRFs can provide cargo strings tailored for OpenTTD while retaining (some) backward compatibility [FS#4172] (r21224)\n- Fix: Use proper plural for the short cargo unit names (r21223)\n- Fix: Under some conditions, group count would be wrong after moving train engines in the depot window [FS#4207] (r21205)\n- Fix: [OSX] Do not let the mouse cursor jump when switching to full screen mode (r21200)\n- Fix: [OSX] Finding a fallback font failed when compiling for OSX 10.4 as it tried to match also OpenTTD-specific control characters [FS#4001] (r21197)\n- Fix: Use non-interactive randomness for townnames on map generation, so they are controlled by the generation seed as well [FS#4226] (r21192)\n- Fix: [OSX] Unify compiler flags with other OS and work around a compiler bug in gcc-4.0.1 which breaks graphics display in x86_64 binaries [FS#4210] (r21149)\n- Fix: Station list was not updated when a new cargo got a rating (r21145)\n- Fix: Station ratings were not updated (anymore) after an aircraft crashed (r21137)\n- Fix: Bridge speed limits should apply to all wagons of a vehicle, not just the head of the vehicle [FS#4213] (r21136)\n- Fix: Helicopter flight altitude was determined inconsistently in different places (r21119)\n- Fix: Do not use the maximum track speed where the maximum vehicle speed is meant (r21107)\n- Fix: Display the real maximum speed for aircraft instead of always using the engine value (r21096)\n- Fix: Aircraft speed would ignore callback 36 result when it is greater than the engine speed (r21094)\n- Fix: [OSX] Mouse cursor would leave footprint with 8bpp blitter when switching to full screen (r21037)\n- Fix: [OSX] Properly set the palette when using the 8bpp blitter during start-up (r21036)\n- Fix: Centre industry gui and waypoint gui after resize [FS#4171] (r21021)\n- Fix: Draw bridge pillars with correct length on all tile corners by drawing only half of the pillar sprite if required (r20950, r20947)\n- Fix: Accidentally moving the mouse of the scrollbar arrows while pressing it clicks the button next to the arrow [FS#4071] (r20922)\n- Fix: Refit costs were not shown for long cargo names [FS#4160] (r20921)\n- Fix: When using non-smooth or NewGRF-economy changing production rates does not work, so allow changing the production multiplier instead (r20901)\n- Fix: The station with the second highest rating was doubly penalised when distributing cargo. Now the penalty is completely removed and the granularity/precision of the distribution in increased by using fractional cargo. This should make competing stations less all-or-nothing [FS#3637] (r20857)\n- Fix: Make sure (gradual) loading is properly terminated for consists with multiple cargo types. Do not stop loading if the timetabled wait is not over yet [FS#2534] (r20843)\n- Fix: Place less trees at once when planting random trees at the scenario editor [FS#4094] (r20829)\n- Fix: Do not use new game settings when creating many random towns/industries at the scenario editor [FS#4094] (r20712, r20711)\n- Fix: Keep _current_company and _local_company in sync during GUI operation [FS#3804] (r19933)\n- Fix: When building a lock, do not add the cost of building canals if they are already built, pay for clearing the other tiles and do not add the first bridge type's cost to aqueducts (r19719, r19718, r19717)\n\n\n## 1.0.x\n\n### 1.0.5 (2010-11-20)\n\n(None)\n\n\n### 1.0.5-RC2 (2010-11-14)\n\n- Fix: Reading (very) recently freed memory [CVE-2010-4168] (r21182)\n- Fix: Default service interval for ships/aircraft got switched [FS#4222] (r21155)\n- Fix: Size of sort buttons for save/load and build vehicle list gui could be too small [FS#4221] (r21151)\n- Fix: [Windows] Make sure to be upgraded openttd is not running when installing [FS#4212] (r21146)\n- Fix: [NewGRF] Crash when disabling static NewGRFs (when joining/starting a server) [FS#4208] (r21130, r21129, r21128)\n- Fix: Upper limit for snowline was too low [FS#4203] (r21078)\n- Fix: Wrong (maximum) value shown for generation seed in the in-game console [FS#4192] (r21075)\n- Fix: Under some circumstances the file handle of the downloaded savegame would not be closed, and validity of the handled was not checked in all cases (r21027)\n- Fix: [NewGRF] Crash when getting an industry ID at an offset that uses some 'old' style industry tile [FS#4157] (r20912)\n\n\n### 1.0.5-RC1 (2010-10-31)\n\n- Change: Make OpenTTD aware of XZ/LZMA compressed savegames so loading those gives a proper error message (r21047)\n- Change: Make it possible to make .tar.xz bundles (r21042)\n- Fix: Missing default values for the custom town number in the world generation options (r21034)\n- Fix: Dropdown menu glitched in small screenshots, when issuing them from the menu (r21031)\n- Fix: Do not let the resize button go past the bottom of the screen [FS#4176] (r21015)\n- Fix: The detailed performance rating window could be too narrow [FS#4102] (r21010)\n- Fix: For the compact notation 1.000.000k and 1.000M would be shown depending on the initial (and later rounded) value. Make everything that would round to 1.000.000k be drawn as 1.000M as well (r21009)\n- Fix: Do not consider the text direction character when searching for missing glyphs (r21007)\n- Fix: Chat/console messages got sometimes messed up due to LTR names in RTL translations and vice-versa [FS#3746] (r21006, r21004)\n- Fix: Size of sort buttons for order and vehicle list gui could be too small (r20997)\n- Fix: [NewGRF] The X and Y offsets in the parameter for industry vars 60, 61, 62, 63 are unsigned instead of signed (r20996)\n- Fix: When removing a rail station, do not leave track under non-station tiles (r20990)\n- Fix: [NewGRF] Ignore the variable for Action7/9 condition type 0x0D and 0x0E as documented (r20979)\n- Fix: Crash when, while the 'go to' cursor is active, you open the order list of a vehicle of another company and then select a 'go to' destination [FS#4159] (r20916)\n- Fix: Helicopters fired a bit too late [FS#4155] (r20910)\n- Fix: Road/water toolbars did not get updated when the first vehicle of their type becomes available [FS#4141] (r20856)\n- Fix: Smallmap legend buttons must all be equal in size, even if their contents is not (r20851)\n- Fix: Deadlock when aborting map generation on Windows [FS#3707] (r20822)\n- Fix: Be a bit more lenient with invalid savegames; do not crash on saveload related NOT_REACHEDs, just show the user an error that the savegame is corrupted [FS#3714] (r20819)\n- Fix: Make the crash-on-saveload message clearer and more correct [FS#3791] (r20818)\n- Fix: [NewGRF] Clamp/convert some vehicle variables so NewGRFs get their specified range (r20800, r20799, r20792)\n- Fix: [NoAI] Document that AITile::HasTransportType does not work for TRANSPORT_AIR [FS#4117] (r20798)\n- Fix: [NewGRF] Disable houses without a size that are available according to their building flags (r20797)\n- Fix: [NewGRF] Make sure all houses in the house spec array are valid. It was possible that part of a multitile house was not copied because the array was full (r20796)\n- Fix: Building 2x2 houses did not work for 2x2 road layouts on all map sizes (r20791)\n- Fix: [NewGRF] Remove a check which is wrong for NewGRF houses and serves no use for original houses [FS#4118] (r20790)\n- Fix: Spelling mistake in Slovak real town names (r20787)\n- Fix: Do autosave-on-exit as well when using kill/CTRL-C to terminate a dedicated OpenTTD (r20783)\n- Fix: [NoAI] AIEventCompanyAskMerger was disguised as AIEventCompanyMerger (r20765)\n- Fix: [NewGRF] Assert when an industry previously build on water was flooded because its NewGRF changed/is missing [FS#4112] (r20754)\n- Fix: Do not use new game settings when creating many random towns/industries in the scenario editor [FS#4094] (r20712, r20711)\n- Fix: Graphics glitch when switching to a different-sized font while the chat message box was visible (r20705)\n- Fix: Vehicle lists of non-trains could not resize horizontally causing truncation of texts [FS#4123, FS#3955] (r20174)\n\n\n### 1.0.4 (2010-09-14)\n\n- Change: Move removal of bin/data/opentt[dw].grf from distclean to maintainer-clean (r20752)\n- Fix: Recent NFORenum does not know '-?' (r20715)\n\n\n### 1.0.4-RC1 (2010-08-30)\n\n- Change: Merge the extra GRF's sources and make it possible to rebuild them easily (r20490)\n- Fix: Empty NewGRF presets were not selectable [FS#4087] (r20694)\n- Fix: Desync checker checked the wrong variable (r20677)\n- Fix: Drawing the 'OpenTTD' text in the intro game caused crashes with very low resolutions [FS#4081] (r20618)\n- Fix: Crash when a NewGRF defined an invalid substitute type for a house and the NewGRF was removed during the game, disable houses with different size than their substitute [FS#3702] (r20611, r20610, r20609)\n- Fix: Retain information about all base sets that are found and not only the latest version to stop confusing people that use newer versions of the base sets than those available via BaNaNaS (r20607)\n- Fix: Let NewGRFs var43 var (information about liveries) for vehicles not be influenced by the local setting determining whether to show liveries or not [FS#4063] (r20605)\n- Fix: 'Downscale' a full load order to a load if possible order when removing the order while the vehicle is loading. This to prevent the vehicle from (possibly) staying forever in the station [FS#4075] (r20600)\n- Fix: Crash when the tooltip is wider than the window is [FS#4066] (r20596)\n- Fix: No (proper) savegame conversion was done when _date_fract got a new value range (r20592)\n- Fix: Autoreplace failed while attaching non-replaced wagons to the new chain, if to-be-sold-engines would become front-engines and the unitnumber limit would be exceeded (r20583)\n- Fix: Autoreplace can trigger an assertion when at the vehicle limit [FS#4044] (r20582)\n- Fix: Go via station and go via waypoint behaved differently when a train went back to the same (unordered) station again [FS#4039] (r20580)\n- Fix: Draw bounding boxes using white instead of pure white, so they are recoloured to grey in coloured newspaper instead of blue [FS#4051] (r20578)\n- Fix: Scroll button flickering when pressed [FS#4043] (r20577)\n- Fix: Warn OpenGFX users when they are using a base set that misses sprites (r20566)\n- Fix: Wrong tooltip for the company select button in the AI debug and performance rating windows [FS#4053] (r20556, r20555)\n- Fix: In old savegames aircraft can have an invalid state (r20528)\n- Fix: Crash when the content download tried to get a MD5 checksum of an 'originally' loaded NewGRF [FS#4038] (r20519)\n- Fix: Draw error messages in white by default, they may not have a colour set when coming from a NewGRF (r20514)\n- Fix: Entering half the 'generation seeds' in the console's 'newgame' command failed to set the correct seed [FS#4036] (r20512)\n- Fix: Desync when vehicles change NewGRF properties such as visual effect when changing railtype [FS#3978] (r20505, r20504, r20503, r20502)\n- Fix: Desync when converting rail all as trains with a part on the converted rails need updating and not only the engines (r20500)\n- Fix: Ignore the non-stop state when comparing one order type to another order type, otherwise non-stop nearest depot orders fail [FS#4030] (r20498)\n- Fix: Non-dedicated servers failing to load a game caused the introgame to be the server's game causing desyncs when people tried to join [FS#3960] (r20497)\n- Fix: [NoAI] checking whether water tiles are connected failed in some cases [FS#4031] (r20489)\n- Fix: Statues were not removed when towns would be removed (r20481)\n- Fix: Do not spend cash when building a statue fails [FS#3985] (r20469, r20227)\n- Fix: Adding 'goto nearest depot and stop' orders in one go was denied. This caused both AI adding those orders and backed up order restoration to fail [FS#4024] (r20441)\n- Fix: For docks 'facing' north, i.e. having the watery part a the northern side, the station joiner had an off-by-one to the north w.r.t. the station spread against the actual other (correct) building tools [FS#4022] (r20438)\n- Fix: Make snow on bridges depend on bridgeheight and make snowiness of bridgeheads depend on the tileheight at the entry [FS#3947] (r20424, r20423, r20422, r20421, r20420)\n- Fix: During world generation the snow-mapbits are not yet available, so test the snowline variable directly (as they were before) [FS#4017] (r20418)\n- Fix: PBS reservations were always displayed on halftile foundations if the railtype uses overlays [FS#4013] (r20408)\n- Fix: Make the default minimum width for editboxes 10 pixels to prevent crashes [FS#4010] (r20394)\n- Fix: Prevent buying more vehicles than allowed or buying companies when you'd get too many vehicles [FS#3993] (r20393, r20392, r20391, r20390)\n- Fix: Initialise fund-industry buttons when opening window (r20386)\n- Fix: Update cursor dimensions when reloading grfs resp. changing base graphics, so the cursor does not glitch if it becomes bigger (r20384)\n- Fix: Stop vehicle following after zooming out [FS#3989] (r20361)\n- Fix: [NoAI] Ship depots were constructed along the wrong axis [FS#4004] (r20348)\n- Fix: Fallback font selection due to missing glyphs did not work as intended (r20296)\n- Fix: When it is known the loading an old savegame is going to fail, bail out immediately (using an exception) instead of going on until e.g. the expected number of byte is read (r20247)\n- Fix: The caption of the 'Available vehicle' lists was black, whereas for building those vehicles, which uses the exact same window, it was white (r20244)\n- Fix: [NoAI] Clarify the documentation for AIBaseStation::GetLocation (r20238)\n- Fix: Refit costs from refit orders are subtracted from the vehicle yearly income [FS#3988] (r20234)\n- Fix: Road vehicles could be dead locked with one way roads. This allows one wayness to be removed if there are vehicles on a tile; it does not allow you to add one wayness to roads that have vehicles on them as it makes turning vehicles jump [FS#3961] (r20230)\n- Fix: 'Service at nearest depot' behaved the same as 'Go to nearest depot' [FS#3986] (r20229)\n- Fix: Depot did not become unsnowy, when snowline rises [FS#3976] (r20224)\n- Fix: Strip non-printable characters before showing it in an edit box, so when renaming a vehicle type you will not get the 'SETX stuff' that some NewGRFs use [FS#3974] (r20220)\n- Fix: NewGRFs that defined a vehicle without either loaded or loading groups could crash OpenTTD [FS#3964] (r20199)\n- Fix: [NewGRF] GetNearbyTileInformation can be used to get the terrain type of a MP_VOID tile [FS#3963] (r20197)\n- Fix: [NewGRF] Vehicle var FE bit 6 did return incorrect values for new railtypes (r20175)\n- Fix: Inconsistencies w.r.t. to km/h vs km-ish/h as 'base' unit for aircraft speeds [FS#3870] (r20164)\n\n\n### 1.0.3 (2010-08-01)\n\n- Fix: Make it possible to properly assess the length of the rail toolbar caption, do not require '{WHITE}' control codes (r20242)\n- Fix: Check for disallowed level crossings also when converting rail (r20237)\n- Fix: Haiku uses a 'special' location for headers (r20219)\n- Fix: Desync due to (temporary) wrong railtype; when loading a savegame the railtype of some (high ID) trains could be wrong [FS#3945] (r20137)\n\n\n### 1.0.3-RC1 (2010-07-17)\n\n- Feature: [NewGRF] Textstack support for CB 38 (r20086)\n- Feature: [NewGRF] Add a railtype flag to disallow level crossings per railtype (r20049)\n- Change: Improve desync debugging, crash log data and the Debian packaging (by making a debug symbols package) (r20138, r20136, r20129)\n- Fix: Do not scan /data and ~/data (if they happen to be your working directory). If it is the directory where your binary is located it will still scan them [FS#3949] (r20166)\n- Fix: Integer comparison failed in case the difference was more than 'MAX_UINT'/2 [FS#3954] (r20162)\n- Fix: [YAPP] Converting a one-way block to a path signal with trains on both sides could lead to a train crash [FS#3937] (r20156)\n- Fix: [NewGRF] Improve handling of snowing of railtypes and (infra)structures on foundations [FS#3883] (r20153, r20132, r20126, r20125)\n- Fix: Ships were not marked as dirty when stopping inside a depot [FS#3880] (r20142)\n- Fix: Some windows ignored all hotkeys [FS#3902] (r20141, r20140, r20139)\n- Fix: Do not allow building a rail track to the water using a tree-tile [FS#3695] (r20110)\n- Fix: [NoAI] AITown::GetRating() returned wrong values [FS#3934] (r20103)\n- Fix: Reading deleted memory when selecting a NewGRF in the content download window of which the data has not been acquired from the content server. The crash would occur after the content server's reply was processed and the ContentInfo object was replaced with another [FS#3899] (r20089, r20082)\n- Fix: If after loading a savegame (including intro game) one tried to save a game (including autosave) and that failed (very) early on because it could not open the file for writing all pointers would be converted to NULLs which then causes corrupted game states [FS#3786, FS#3887, FS#3920, FS#3923] (r20087)\n- Fix: gitignore and hgignore had more missing/wrong entries (r20078, r20033, r20031)\n- Fix: Remove the space between 'open' and 'ttd' in the title screen (r20077)\n- Fix: Road vehicles could get crashed twice in a tick [FS#3896] (r20053, r20034)\n- Fix: Coloured_news_year was stored in savegames while it should be a client setting [FS#3916] (r20051)\n- Fix: Crash when spectator tried to open a vehicle list without selecting any company [FS#3892] (r20041)\n- Fix: Instead of loading the intro game when loading a savegame fails on the dedicated server, generate a new game [FS#3907] (r20039)\n- Fix: Tram tracks did not show at level crossing with the new railtypes [FS#3911] (r20036)\n- Fix: Under some circumstances you could get into an infinite loop [CVE-2010-2534] [FS#3909] (r20035)\n- Fix: The 64 bits TortoiseSVN was not always properly detected (r20029)\n- Fix: Do not close the sort dropdown in the (original) vehicle list when there are no vehicles. That code is meant for the 'actions' dropdown [FS#3881] (r20014)\n- Fix: When joining a company with a password you could only enter 20 characters of the password (r20012)\n- Fix: Sign sorting was unstable [FS#3893] (r20009)\n- Fix: Trains should also have running cost while slowing down for stop (r20006)\n- Fix: [NewGRF] Stringcodes 82, 83 and 84 were not properly converted to openttd codes so they did not work (r20004)\n- Fix: Clear force_proceed when entering depots and when loading, resetting of force_proceed on manual stopping did not work [FS#3878] (r19992)\n- Fix: Do not show an error message when trying to start/stop a crashed plane [FS#3874] (r19953)\n- Fix: Allow turning of roadvehicles while waiting in a queue (r19945)\n- Fix: Disallow moving of vehicle news window [FS#3865] (r19943)\n- Fix: Under some (unlucky) circumstances the wrong company would be 'current company' when changing company colour or orders [FS#3903]\n\n\n### 1.0.2 (2010-06-19)\n\n- Fix: Owner of the Waypoint View window was not properly set (r19990)\n- Fix: Close list of vehicles with given oil rig in orders when the oil rig is deleted (r19956)\n- Fix: Close list of vehicles with given buoy/oil rig in orders when switching company (r19955)\n- Fix: Do not close list of waypoint's trains when the waypoint view is closed when it is sticky (r19952)\n- Fix: Close buoy's vehicle list when the buoy is deleted [FS#3869] (r19951)\n\n\n### 1.0.2-RC1 (2010-06-05)\n\n- Feature: Translated desktop shortcut comments (r19884)\n- Change: Name invalid engines, cargoes and industries 'invalid', if the player removed the supplying NewGRFs, hide invalid engines from the purchase list (r19879, r19877)\n- Fix: When 'pause on new game' is set, pause the game before CleanupGeneration() to avoid conflicts with concurrent GUI code [FS#3857] (r19934)\n- Fix: Pay for the rail/road when constructing tunnels, bridges, depots and stations [FS#3859, FS#3827] (r19925, r19887, r19881)\n- Fix: Closing chatbox could cause glitches when news message was shown [FS#3865] (r19921)\n- Fix: [YAPP] Inform the pathfinder as well about the fact that the backside of an one-way path signal can be a safe waiting point [FS#3803] (r19896)\n- Fix: Allow loading savegames from the console without specifying the '.sav' extension, i.e. make it consistent with saving savegames from the console [FS#3761] (r19885)\n- Fix: Dropdowns did affect positioning of new windows because they were not yet removed when the new windows were positioned [FS#3812] (r19883)\n- Fix: [NoAI] AIEngine::IsValidEngine() and AIEngine::IsBuildable() returned false positives. Especially wagons of unavailable railtypes were reported available (r19880)\n- Fix: Default vehicle group texts were drawn one pixel too low [FS#3851] (r19878)\n- Fix: It was not possible to send all trains with common waypoint order to depot (r19876)\n- Fix: Compilation for NetBSD [FS#3809, FS#3840, FS#3845] (r19874, r19859, r19853, r19781)\n- Fix: If the (guessed initial) destination tile of a road vehicle was not a road stop but was a T-junction or turn, the road vehicles would jump around in circles [FS#3817] (r19873)\n- Fix: When a network connection gets lost and a game with AIs was loaded the client might crash due to the AIs not being loaded while the game loop is executed [FS#3819] (r19869)\n- Fix: Use non-breaking spaces for currency pre-/postfixes (r19867)\n- Fix: Crash when changing/viewing locale settings in the console [FS#3830] (r19865, r19864, r19863, r19862)\n- Fix: Drawing fallback sprites for unavailable NewGRF waypoints failed (r19852)\n- Fix: Ensure that both texts of the NewGRF gui download button fit (r19823)\n- Fix: Kicking clients by IP did not work [FS#3784] (r19818)\n- Fix: Compilation with MinGW GCC 4.5.0 and UNICODE (r19787)\n- Fix: If a waypoint is immediately followed by a path signal a reservation would be made from that path signal before the waypoint is marked passed. As a result the order to go to the waypoint is used to reserve the path after the waypoint and as such trains get lost [FS#3770] (r19784)\n- Fix: NULL pointer deference when testing relative scope *action2 on an unbuilt engine [FS#3828] (r19782)\n- Fix: Crash on too long paths [FS#3807] (r19780, r19779, r19778, r19777, r19776)\n- Fix: MP_VOID tiles shall have no tropic zone [FS#3820] (r19769)\n- Fix: Half-desert tiles would never revert back to clear tiles (r19768)\n- Fix: Height in smallmap was different from measured heights [FS#3808] (r19767)\n- Fix: [NewGRF] Vehicle var 43 missed AI information in purchase list (r19761)\n- Fix: Blocked roadvehicles should first check whether they are still blocked before accelerating again, instead of continuous starting/stopping (r19755)\n- Fix: Try harder to find a suitable font that can be loaded, i.e. while searching for a suitable font test whether you can open it [FS#3740] (r19753)\n- Fix: Make sure the chat area fits in the default window size; if you want it larger, you can always change/override it in the config file [FS#3798] (r19751)\n- Fix: [NewGRF] Industry var 0x43 is not 'safe' during callbacks 22 and 38 either (r19750)\n- Fix: [NewGRF] Possible divide-by-zero if a NewGRF checked industry var 42 while the production level was 0 (r19749)\n- Fix: Do not recenter usually centred windows when resizing main window or changing language, if they have been moved/resized before [FS#3675] (r19746)\n- Fix: The GUI is controlled by _local_company, not _current_company (r19745)\n- Fix: NewGRFs could access map bits of not yet constructed industries and houses during construction callbacks (r19748, r19743)\n- Fix: [NewGRF] Passing some invalid data to industry variable 67/68 could cause a crash (r19713)\n- Fix: Check for industry availability more thoroughly and cancel object placement when selecting not available industries [FS#3787] (r19701)\n- Fix: Avoid showing building toolbars behind the main toolbar when the 'Link landscape toolbar' setting is active [FS#3781] (r19696)\n- Fix: Under some circumstances the player's name could be empty (r19693)\n- Fix: Do not show an error message when trying to give another client an amount of 0 money [FS#3779] (r19684)\n- Fix: Do not display an error message when double clicking on a vehicle in the 'available vehicles'-window (r19669)\n\n\n### 1.0.1 (2010-05-01)\n\n- Fix: Crash when using restart via rcon (r19722)\n- Fix: Leaking a file descriptor [CVE-2010-0406] [FS#3785] (r19695)\n- Fix: Crash when the music/graphics metadata files were unreadable [FS#3774] (r19674)\n\n\n### 1.0.1-RC2 (2010-04-22)\n\n- Fix: Desync when joining the game because of using the wrong variable (r19687)\n- Fix: Truncated archives were not detected when using zlib 1.2.3. This also fixes zlib 1.2.4 compatibility, zlib 1.2.5 is bug free (r19686)\n- Fix: Towns with 3x3 and 2x2 road layouts could not expand (r19683)\n- Fix: When joining a MP game all clients with company ID > 0 would be shown as if they were a spectator [FS#3775] (r19680)\n- Fix: Client status was shown incorrect in the console (r19678)\n\n\n### 1.0.1-RC1 (2010-04-17)\n\n- Feature: [NewGRF] Support for extended text code 0x9A 11, print qword (r19570)\n- Feature: Give more detailed error message when trying to build a too long bridge (r19561)\n- Feature: Add rail speed limit to land area information window (r19556, r19434)\n- Add: [NoAI] AIRail::GetMaxSpeed(RailType) to get the speed limit of railtypes (r19591)\n- Change: Sync Debian packaging updates from Debian, but keep building a single package (r19572)\n- Fix: Crash of a dedicated server if the null blitter is overridden and (after a while) there is no company 0 on new year anymore [FS#3749] (r19664)\n- Fix: In rare cases, update of signals could be missed (r19663)\n- Fix: Various improvements of command handling, missing error messages, improper validation causing crashes [CVE-2010-0402] [FS#3748] (r19658, r19657, r19656, r19655, r19654, r19637, r19633, r19621, r19616, r19605, r19604)\n- Fix: Industry generation failed for large maps and lots of industry types (r19652, r19643)\n- Fix: When a company is sold, move connected clients to spectators [FS#3745] (r19651)\n- Fix: A client would not be properly moved when moved while joining, e.g. when entering a company's password. This caused the client to be in the wrong company (according to the rest of the clients) and the client being kicked on the first command [FS#3760] (r19648)\n- Fix: Trains loaded above the original IDs did not have a default railtypelabel assigned to them, causing them to be unavailable. Could cause desyncs if the multiplayer game was not started from a savegame [FS#3768] (r19647)\n- Fix: Do not allow building cacti outside of the desert or rain forest trees outside of the rain forest area. This to prevent people from thinking planting rain forest trees makes the rain forest bigger and thus adds more place to build a lumber mill [FS#3728] (r19644, r19635, r19634)\n- Fix: Desync when taking over companies (r19636)\n- Fix: Chat message caused glitch when rejoining a network game [FS#3757] (r19629)\n- Fix: Desync when a command is received and in the queue while a client starts joining, i.e. save the game state. This can happen in two ways: with frame_freq > 1 a command received in a previous frame might not be executed yet or when a command is received in the same frame as the join but before the savegame is made. In both cases the joining client would not get all commands to get in-sync with the server (and the other clients) (r19620)\n- Fix: Company related graphs were not updated correctly after changing the company colour [FS#3763] (r19615)\n- Fix: Possible invalid read when server moves client to spectators before they finish joining [FS#3755] (r19613)\n- Fix: Crash when opening a savegame with a waypoint from around 0.4.0 [FS#3756] (r19612)\n- Fix: Improve joining behaviour; kicking clients when entering passwords that was just cleared, 'connection lost' for people failing the password, access restriction circumvention [CVE-2010-0401] [FS#3754] (r19610, r19609, r19608, r19607, r19606)\n- Fix: Desync debugging; false positives in the cache validity checks and saving/loading the command stream (r19619, r19617, r19602, r19601, r19600, r19596, r19593, r19592, r19589, r19587, r19586)\n- Fix: Presence of online content was not properly updated after download due to duplicate slashes in the path (r19600)\n- Fix: [NewGRF] Setting industry prop 0x24 to 0 caused empty station names (r19590)\n- Fix: Crash when pressing 'h' (non-stop) in the order window of a ship or aircraft [FS#3744] (r19584)\n- Fix: Graphs were not properly updated when going toggling keys (i.e. companies) (r19574)\n- Fix: The timetable button was not automatically raised [FS#3739] (r19571)\n- Fix: [NewGRF] Possible buffer underflow in NewGRF string code (r19569)\n- Fix: [NewGRF] Do not return a random colour for unowned industries in var 45; TTDPatch does not seem to set the colour data in that case either and it could lead to desyncs (r19566)\n- Fix: Window::OnResize() was not always called while resizing a window causing incorrect windows [FS#3730] (r19563, r19558)\n- Fix: Bridge build error message should not show the same message twice (r19560, r19559)\n- Fix: [NewGRF] During NewGRF loading, store rail type labels in temporary data and process after loading has finished. This avoids deactivated rail vehicles being reactivated if the climate property is set after the rail type property (r19557, r19502)\n- Fix: Improperly scaled cargo payment graph when having lots of cargo (r19550, 19543)\n- Fix: [NewGRF] Properties set before property 08 (house, industry, industry tiles) should be ignored, not trigger the NewGRF to be disabled [FS#3725] (r19547)\n- Fix: Sorting industries by production was broken for NewGRF industries (r19538)\n- Fix: Vehicle details window did not resize correctly after refitting a road vehicle to a longer variant [FS#3720] (r19533)\n- Fix: Prevent drawing industries disabled at the smallmap as land tiles when they are built on water (r19523)\n- Fix: Tunnels, bridges and road stops are build with only one roadtype (r19506)\n- Fix: Remove same_industry_close setting did not do what it said and caused NewGRF trouble (r19499)\n- Fix: Keep number padding intact when cloning vehicle names [FS#3710] (r19498)\n- Fix: [NewGRF] Bytes and words get sign-extended for temporary/persistent storage (r19497)\n- Fix: Stop reducing the size of the vehicle list after selecting a vehicle with a long description (r19480)\n- Fix: Implement custom sound effect for helicopter take-off [FS#3668] (r19364)\n- Update: Plural type of Slovak (r19452)\n\n\n### 1.0.0 (2010-04-01)\n\n- Fix: Network clients would crash while connecting to a server with AIs (r19526)\n- Fix: [NPF] Crash when finding a waypoint before finding the closest depot [FS#3703] (r19460)\n\n\n### 1.0.0-RC3 (2010-03-18)\n\n- Feature: Append rail type speed limit (if set) to rail type selection list, and toolbar title (r19431)\n- Feature: [NewGRF] Smallmap colours for railtypes (r19307)\n- Change: Make the drive through and cargo list consistency checks only run when 'desync' debugging is enabled (r19403, r19398)\n- Change: Update documentation for console command connect to use ip:port#company parameter format, in line with command line help (r19374)\n- Change: [NewGRF] Increase railtype cost range (r19306)\n- Fix: Mark industry windows dirty more often [FS#3701] (r19443)\n- Fix: Custom group names are misaligned with default ones when using rtl languages [FS#3700] (r19438)\n- Fix: With certain game settings one could clear tiles for free when building long roads (r19436)\n- Fix: When loading a savegame created with a house NewGRF without that NewGRF available all houses became tall office blocks (r19435)\n- Fix: Limit rail clearance earnings to 3/4s of rail build cost, to avoid money making loophole when rail build cost is less than rail removal earnings (r19433)\n- Fix: Crash when the error message 'owned by <town>' was shown [FS#3696] (r19432)\n- Fix: [NoAI] When the title game contains an AIPL block the AI settings where overwritten by those from the title game (r19429)\n- Fix: Gracefully handle the case where we cannot open a .tar file (r19427)\n- Fix: [YAPP] A train on a bridge/tunnel was not always found when checking for trains on a reserved path (r19425)\n- Fix: [NoAI] The AI Debug window did not open if an AI or library fails to compile when loading a savegame [FS#3669] (r19395)\n- Fix: One could not level the whole map anymore at once (r19392)\n- Fix: Only show the 'No AIs available' error message when explicitly changing the number of AI opponents [FS3676] (r19389)\n- Fix: [NoAI] When reloading a savegame, an AI failing to compile could trigger (trying) to read the not yet loaded information of another AI via the AI Debug window and its 'open with the most recently used AI' feature [FS#3666] (r19388)\n- Fix: Close all orders windows when switching companies [FS#3671] (r19387)\n- Fix: [IPv6] Netmask calculations were wrong if cidr >= 32 [FS#3684] (r19385)\n- Fix: Overbuilding bridges, rail stations did not properly update PBS reservation [FS#3680] (r19384, r19383)\n- Fix: [NoAI] List valuator could cause invalid iterators [FS#3665] (r19367)\n- Fix: Close error messages about missing ownership when the company closes or is taken over [FS#3663] (r19358, r19357)\n\n\n### 1.0.0-RC2 (2010-03-04)\n\n- Feature: [YAPF] Consider the railtype imposed speed limit for pathfinding (r19301)\n- Feature: BaNaNaS support for music sets (r19262)\n- Feature: [NewGRF] Add 2 bits of pseudo-random data for rail types, based on tile location (r19235)\n- Feature: [Windows] Add OpenMSX to the installer (r19220, r19219)\n- Feature: [NewGRF] Add CB36 support for aircraft properties 0F and 11 (r19218)\n- Feature: Scroll to current order destination when ctrl+clicking the start/stop bar (r19216, r19215)\n- Feature: Concept of fallback base sets, i.e. do not automatically load the NoMusic/NoSound sets when there is another set; make NoSound part of base installations (r19214, r19213, r19212, r19211, r19206)\n- Feature: Support for genders for cargoes, industries, vehicles, stations (r19180, r19179, r19178, r19177)\n- Change: Increase the default small font size for freetype fonts as 6 point fonts are usually unreadable [FS#3655] (r19308)\n- Change: [NewGRF] Railtype cost factor from byte to word value (r19306)\n- Change: Improve error message with track building when signals are in the way (r19190, r19189)\n- Change: Do not print the absolute path to AI script files in the AI debug window, use the relative path from /ai/ instead (r19166)\n- Change: The Debian packaging; bring it in sync with the packaging used at Debian excluding package splitting (r19162)\n- Fix: [Windows] Disable sound when a sound error happens instead of crashing [FS#3652] (r19304)\n- Fix: [NewGRF] Return the TTD airport type in station var 0xF1 (r19299)\n- Fix: [NewGRF] Segfault when station vars 0xF2/0xF3 is accessed when there is no truck/bus stop (r19298)\n- Fix: [NoAI] Some methods of AIAbstractList left invalid iterators [FS#3566] (r19293)\n- Fix: [YAPP] If reversing at path signals was disabled, a train would not reverse when hitting the back of an one-way signal (r19286)\n- Fix: [NewGRF] Ensure prices cannot be set to zero. Zero prices break a lot of the internal logic to determine whether something has been done [FS#3646] (r19277)\n- Fix: 'Cannot build <industry> here... <industry> in the way' showed the to-be-built industry twice, instead of the to-be-built industry and the industry that is in the way [FS#3618] (r19265)\n- Fix: Writing (console) output to a file failed on Windows if the date would not be logged [FS#3639] (r19252)\n- Fix: [NewGRF] Some GRF error messages did not free the previous error messages, creating a memory leak (r19251)\n- Fix: With RTL languages clicking a horizontal scrollbar that could not scroll could cause a crash [FS#3643] (r19250)\n- Fix: Start and end tiles were swapped in CMD_REMOVE_LONG_ROAD causing too much road to be removed [FS#3642] (r19249)\n- Fix: DOS 'port' did not compile anymore (r19248)\n- Fix: The -M command line option did not work (r19233)\n- Fix: GetDestination() is invalid for nearest-depot orders (r19210)\n- Fix: Compilation was broken for gcc 3.3 (r19207)\n- Fix: The vehicle info in the autoreplace gui was drawn even when the window was shaded [FS#3634] (r19187)\n- Fix: When selecting 'build many industries' in the scenario editor the 'build' button was not enabled [FS#3632] (r19176)\n- Fix: Buoys are no Stations, only BaseStations (r19174)\n- Fix: Under some circumstances timidity (via extmidi) would not shut down properly causing all kinds of trouble (e.g. blocked audio output). Try harder to shut down timidity and first shut down the music so shut down order is the inverse of initialisation order (r19168)\n- Fix: Industry 0 could be chosen even if not available [FS#3631] (r19167)\n- Fix: Vehicle running costs should not be changed in a running game [FS#3629] (r19165)\n\n\n### 1.0.0-RC1 (2010-02-18)\n\n- Feature: Allow to select different land colours for the smallmap (r19064)\n- Feature: [NewGRF] Action 3/2/1 (i.e. new graphics) support for rail types (r19056)\n- Feature: Add zoom-out to smallmap (r19039)\n- Add: [NoAI] AIOrder::[G|S]etStopLocation to get/set the stop location of trains in a rail station (r19014)\n- Change: Move home directory to a better place in Haiku [FS#3625] (r19151)\n- Change: Do not load the 'new game' NewGRFs when you are certain the savegame would not have been saved with them, i.e. do not load the 'new game' NewGRFs for TTO savegames (r19044)\n- Fix: Invisible depots draw the track, so also draw the overlays (r19154)\n- Fix: [v]seprintf should return the number of added characters excluding '\\0' on truncation [FS#3627] (r19149, r19148)\n- Fix: [YAPF] Look-ahead for multitile waypoints 'made up' data that should not go into the cache, causing desyncs in MP [FS#3619] (r19141)\n- Fix: Report a more useful error when failing to build a bubble generator (r19137)\n- Fix: Resize station cargo widget when needed to display all accepted cargo types [FS#3617] (r19123)\n- Fix: [NewGRF] Industry property 0x17 was interpreted incorrectly and in some cases circumvented the density difficulty setting (r19120)\n- Fix: Removing towns (in the scenario editor) that had stations/depots refer to them or vehicles were on the town's road could cause a crash [FS#3616] (r19119)\n- Fix: In the order window the Non-stop dropdown was not enabled for depot and waypoint orders and some buttons were raised too soon [FS#3593] (r19118, r19117)\n- Fix: Do not crash on broken lng file and prevent it from happening again [FS#3611] (r19113, r19112)\n- Fix: Not all news data was properly freed when starting a new game [FS#3614] (r19105)\n- Fix: The BeMidi driver was broken [FS#3610] (r19097)\n- Fix: Crash when one of the items in the news_display group in the config file has no value (r19096)\n- Fix: Crash when a base set has an empty metadata field (r19095)\n- Fix: Possible read/write after free when the client triggered the server to close the connection [FS#3599] (r19072)\n- Fix: Remove Bidi control characters from the reordered text so they are not drawn [FS#3604] (r19067)\n- Fix: [NewGRF] Settings that are part of the 'TTDPatch flags' can cause desyncs if they are changed in network games (r19066)\n- Fix: When banning yourself via rcon do not send the 'command response' to the client as the connection has already been terminated [FS#3598] (r19054)\n- Fix: Mass stopping/starting/autoreplacing gave empty errors when there were no vehicles [FS#3577] (r19024)\n- Fix: City airport introduction date had become 5 years later (r19023)\n- Fix: Loading old (0.1-ish) savegames failed (r19022)\n- Fix: Do not NULL the pointers when saving the savegame on an error during saving; the savegame is still valid, so do not make it invalid [FS#3570] (r19021)\n- Fix: When removing roads, the player was also charged for removing the foundations [FS#3591] (r19016)\n\n\n### 1.0.0-beta4 (2010-02-04)\n\n- Feature: Content mirroring support (r18994)\n- Feature: Show empty query after creating new group (instead of 'Group nnn') (r18981)\n- Feature: [NewGRF] NewGRF-settable rail type properties, increase number of possible rail types, per rail type speed limits (r18970, r18969)\n- Feature: [NewGRF] Allow layering of multiple groundsprites in spritelayouts of stations, houses and industrytiles; so hacks with zero-sized bounding boxes are no longer needed and no longer cause trouble (r18959)\n- Feature: [NoAI] Introduce GetBuildCost functions in several classes to get easier cost estimations before you start building (r18955)\n- Feature: [NoAI] Allow editing AI settings while an AI is running (r18953)\n- Feature: Make it possible to change newgame settings from within a game via the console (use setting_newgame instead of setting) [FS#2885] (r18943)\n- Feature: Add a setting to reduce/disable aircraft crashes [FS#2678] (r18942)\n- Feature: Make the crash position of aircraft a bit random by giving aircraft a chance to crash every tick they are breaking (r18940)\n- Change: [NoAI] Use the highest version of an AI that can load the AI data from a savegame instead of the exact same version [FS#3232] (r18944)\n- Fix: Off-by-one in the music playlist (song missing) [FS#3588] (r18997)\n- Fix: [NewGRF] industry var A5 (=high 8 bits of var A4) returned the high 8 bits of var A2. Same problem for 9B/9A/98 (r18988)\n- Fix: [NoAI] Make building long rails fail for AIs if there is an obstacle in the way (r18987)\n- Fix: Possible invalid memory access when merging companies [FS#3584] (r18978)\n- Fix: Estimating the cost of removing statues could clear the presence flag in the town (r18976)\n- Fix: CMD_BUILD_ROAD missed CMD_AUTO. Also do not access tiles anymore after clearing them; that fails either in test or exec run [FS#3578] (r18974)\n- Fix: Train acceleration for original acceleration model was not updated if the train's power changed (r18971)\n- Fix: Make sure the values of settings loaded from a savegame are valid (r18950)\n- Fix: After clicking move up/move down in the NewGRF/AI the selected item could be out of range [FS#1510] (r18948, r18947)\n- Fix: It was possible to change AI settings without changing to the custom difficulty level by using the query text window (r18946)\n- Fix: Remove the loading indicators as soon as a train crashes [FS#3575] (r18941)\n- Fix: [NewGRF] Industrylayout's special water tile check did not properly check for crossing north border of map (r18938)\n- Fix: [NewGRF] Value of variables 90 and 91 were not what NARS expects [FS#3551] (r18935)\n- Fix: [Windows] In some rare case a deadlock could happen when stopping sound driver (r18934, r18913, r18892)\n- Fix: [NoAI] Autoreplace is also valid for the default group (r18930)\n- Fix: Preserve some timetable related vehicle flags during autorenew/-replace [FS#3568] (r18929)\n- Fix: AIOrder::GetOrderDestination could return a non-waypoint tile when the waypoint was a multitile waypoint [NoAI] (r18924)\n- Fix: On bankruptcy the company value did include the loan and as such the value at which you bought the company was too low [FS#3561] (r18908)\n- Fix: Writing LZO-compressed savegames would produce invalid files and potentially overwrite memory (r18904)\n- Fix: [Windows] File locations for Windows were not documented correctly for all versions of Windows [FS#3562] (r18903)\n- Fix: Pressing cancel for the query windows of the world generation window caused the default to be set instead of no changes to the value [FS#3558] (r18896)\n- Fix: Avoid duplicate path separator when searching for PNG files which prevented tar-lookups (r18891)\n- Fix: [NewGRF] Perform bounds checking for all NewGRF data reads. Explicit length checks (which were not always correct) are no longer needed so these are removed to simplify code (r18884)\n- Fix: Aircraft can be send to an hangar when the target airport has one and when it can land, not only when it has a plane terminal (r18880)\n- Fix: [NewGRF] Crash when a NewGRF used var62 in an industry tile chain when the industry tile was part of an original industry (r18878)\n\n\n### 1.0.0-beta3 (2010-01-21)\n\n- Feature: Make building (long) roads work like building rail; build upon the first obstruction instead of failing totally [FS#3318] (r18803)\n- Feature: Allow user customisable compression levels for the zlib compression (r18772)\n- Feature: [NoAI] Rerandomise AIs on reloading (via the debug window) when they were randomly chosen [FS#3095] (r18763)\n- Feature: [NewGRF] Implement VarAction2Houses variables 66 and 67 (r18736)\n- Change: [SDL/Allegro] Make the number of samples/frequency runtime configurable (r18821, r18820)\n- Change: Be consistent with airport naming [FS#3493] (r18819)\n- Change: [NewGRF] Consider callback 19 only broken after subcargoes 0 to 255 have been used, instead of stopping at 15 (r18774)\n- Change: Replace MiniLZO with the real library (r18769)\n- Fix: Town noise population settings could not be changed in-game [FS#3532] (r18864)\n- Fix: Do not pass AI strings through iconv [FS#3544] (r18862)\n- Fix: Do not do screen redraw when the landscape contains broken slopes [FS#3540] (r18850)\n- Fix: Default-waypoint was drawn incorrectly for monorail and maglev in the waypoint picker (r18841)\n- Fix: In some cases error messages were not properly sent to the client before closing the connection. As a result the client would say 'connection lost' when the cause was something completely different (r18801)\n- Fix: In some cases with invalid packets one can crash OpenTTD (r18800)\n- Fix: [SDL] Possible deadlock when killing OpenTTD while starting it [FS#3521] (r18796)\n- Fix: When copying an 'image' back into the buffer the 32bpp anim blitter triggered palette check of the whole window instead of only the part the got copied back [FS#3504] (r18791)\n- Fix: Viewport could jump under high CPU load [FS#3515] (r18790)\n- Fix: Crash when getting the tooltip of the industry amount in the world generation window [FS#3516] (r18787)\n- Fix: [NoAI] NoAI's custom implementation of DoCommandP has several flaws (not masking of bits, not resetting town authority updates on checks/estimates, ...). Let it use DoCommandPInternal, DoCommandP without showing error messages and such, instead [FS#3507] (r18786)\n- Fix: [NoAI] AIs did update their last cost incorrectly in network games if the cost of the DC_EXEC phase differed from the ~DC_EXEC phase (r18781)\n- Fix: [YAPP] Remove a special check for two-sided signals when reserving a path as this causes trains to get stuck in front of them [FS#3483] (r18778)\n- Fix: Assertions because the unloading and signal wait counter got into each others way [FS#3422] (r18764)\n- Fix: [NewGRF] Spritelayouts do not need an Action 1 if only using default sprites [FS#3497] (r18761)\n- Fix: [NewGRF] Action 9 did not properly detect whether an Action 8 was encountered already [FS#3500] (r18760)\n- Fix: [NewGRF] Do not segfault when a NewGRF contains an Action 2 and Action 3 but no Action 0 (r18759)\n- Fix: [NewGRF] CircularTileSearch skipped a few tiles close to the starting tile, as a result some NewGRF houses could be placed too close together [FS#3495] (r18755)\n- Fix: The cargo payment button states were not properly set on opening the window [FS#3492] (r18750)\n- Fix: [NoAI] The AI's name and version in the debug panel was not properly centred [FS#3491] (r18749)\n- Fix: Clear the cached NewGRFs of a server when receiving a reply instead of when requesting the information. With slow/unstable network connections it would look like the NewGRF settings button went randomly missing [FS#3489] (r18746)\n- Fix: Do not toggle the sticky- and shading-button twice per mouseclick when clicking fast [FS#3487] (r18744)\n- Fix: [NewGRF] House prop 1D was trashed when a NewGRF contains prop 14 after prop 1D (r18742)\n- Fix: Building trees on snow with rocks underneath caused an assert [FS#3501] (r18739)\n- Fix: When a tree died while there was snow the amount of snow on the tile changed (r18738)\n- Fix: [NewGRF] VarAction2Station variable 67 was not swapped properly for orientation (r18737)\n\n\n### 1.0.0-beta2 (2010-01-05)\n\n- Feature: Do not delete the rough/rocky status of a tile when it is covered by snow, this allows rocky tiles under snow if you have a variable snowline (r18719)\n- Feature: [NewGRF] Add support for custom station foundation graphics (r18708)\n- Feature: Allow virtually paying a percentage of the leg profit in feeder chains. This to give the user a better chance to get a feeder system without 'losses' (r18703)\n- Feature: Configurable slope steepness for trains from 0% to 10%, default is 3% as before [FS#3459] (r18674)\n- Feature: Allow contour-map to be shown with coloured industries in smallmap [FS#567] (r18665)\n- Add: [NoAI] AIEngine::IsBuildable to check if you can build a certain engine (r18687)\n- Change: [NoAI] Merge buoy and waypoint functions (r18725)\n- Change: [NoAI] AIEngine::IsValidEngine will now also return true when you have at least one vehicle of that type even if you cannot build it anymore (r18687)\n- Change: Update Squirrel from 2.2.3 to 2.2.4 (r18639)\n- Fix: New viewports did not centre on the correct position [FS#3414] (r18730)\n- Fix: The lock in the company window was only drawn for your own company [FS#3427] (r18729)\n- Fix: Some invalid gender/plural indices in strings, which could eventually cause crashes [FS#3480] (r18727)\n- Fix: With non-uniform industries the 'supplies' text when building a station could be incorrect (missing a cargo) [FS#3463] (r18726)\n- Fix: Refitting a non-refittable vehicle to its default cargotype failed, causing problems for AIs [FS#3475] (r18724)\n- Fix: The join station window did not account for scrolling, so if you did scroll the station was not joined with the selected station [FS#3476] (r18713)\n- Fix: The wrong town is mentioned in the error when trying to make one way roads of town owned roads [FS#3478] (r18710)\n- Fix: Animation buffer for 32bpp-anim blitter was only validated during sprite blitting, other drawing operations did not check it. Initial startup and window resize could therefore lead to crash [FS#3464] (r18709)\n- Fix: Enable DrawGroundSpriteAt() to deal with foundations as DrawGroundSprite() does, and use this for drawing one-way-road-signs and clear-land-fences [FS#3467] (r18702)\n- Fix: When deleting an industry on water (oil rigs) the tiles on water were not marked dirty (r18700)\n- Fix: [NewGRF] GRF parameters were not properly initialised to zero, and not always checked for valid range (r18699)\n- Fix: Crash when scrolling to an item removed by filtering in the 'add NewGRF window' [FS#3471] (r18697)\n- Fix: [NoAI] AITile::IsCoastTile returned false for coast tiles with trees on them [FS#3404] (r18696)\n- Fix: After a company went bankrupt it was impossible to build a new waypoint close to a deleted one until the grey sign was gone (r18692)\n- Fix: Some keys that open windows that want to be located relatively to the toolbars/statusbar could cause a crash when in one of the end game screens [FS#3469] (r18690)\n- Fix: In some cases _sl.chs is used when not initialised. As _sl.chs always refers to a single table when initialised replace _sl.chs with the actual table [FS#3470] (r18686)\n- Fix: [NewGRF] Tile area of waypoints was not correctly given to NewGRFs in case of multi tile waypoints (r18679)\n- Fix: [NewGRF] If an action B did not have a 'data' string but would print it OpenTTD would segfault [FS#3452] (r18671)\n- Fix: Update all tiles when snowline height changes in larger steps than one tile [FS#3455] (r18670)\n- Fix: [NoAI] Crash when trying to get the order destination of a 'nearest depot' order [FS#3454] (r18667)\n- Fix: Aircraft on the metropolitan airport took a long route to the closest loading pad [FS#3169] (r18661)\n- Fix: [NewGRF] Wrong strings drawn for cargo subtype in vehicle details [FS#3443] (r18658)\n- Fix: When trying to attach a wagon to an existing free wagon chain, do not attach it to itself [FS#3442] (r18653)\n- Fix: [NoAI] When AI tried to create NO_UNLOAD order, GOTO_NEAREST_DEPOT order was created instead [FS#3438] (r18651)\n- Fix: [YAPP] Treat the backside of an one-way path signals as a safe waiting point [FS#3430] (r18648)\n- Fix: [YAPP] A train inside a station was not always found when checking for trains on a reserved path (r18647)\n- Fix: [YAPP] Do not extend the reserved path through a newly built path signal directly in front of a stopped or loading train. Also restore the reserved path in more cases after removing a signal [FS#3418] (r18646)\n- Fix: Company league window was too narrow [FS#3434] (r18644)\n- Fix: Rotation could not be changed for heightmaps [FS#3436] (r18643)\n- Fix: When a company goes bankrupt and has vehicles on a drive through road stop that is not theirs, the 'filled' cache of the road stops would get corrupted [FS#3432] (r18642)\n- Fix: Downloading music sets would fail (r18638)\n- Fix: Crash when invalid pointers are left due to saveload failing at e.g. decompressing the savegame [FS#3421] (r18634)\n- Fix: When making a screenshot the name of the previous screenshot went missing in the 'successful screenshot' message and the console command would be shown twice [FS#3419] (r18631, r18630)\n- Fix: (un)loading counter being reset while loading a train and changing the (path) signal setup around the station [FS#3422] (r18628)\n- Fix: {CARGO} takes 2 parameters, not 1. This made {N:XYZ} commands after CARGO mess up their indices and that then triggered an assertion [FS#3425] (r18626)\n\n\n### 1.0.0-beta1 (2009-12-24)\n\n- Feature: Music replacement sets, like graphics and sound replacement sets (r18608)\n- Feature: Add shading and unshading of windows [FS#2943] (r18588)\n- Feature: Initially select the last joined server when going to the server list [FS#3311] (r18578)\n- Feature: Additional map variety option for TGP landscape generator (r18541)\n- Feature: Add the possibility to not make new tree tiles in-game (r18522)\n- Feature: Moving of AIs in the AI configuration window [FS#3359] (r18516)\n- Feature: Make maximum pathfinder penalties for finding depots customisable, also increase it slightly to 20 tiles worth of penalties (r18481)\n- Feature: [Strgen] Allow G and P to 'select' substrings of STRINGn for getting their gender (r18444)\n- Feature: Make penalty for road stop occupancy user configurable (r18404)\n- Feature: Fully scalable, by font size and content, GUI and improved right-to-left language support [FS#1905] (r15800-r18350)\n- Feature: Set the start time of a timetable (r18294)\n- Feature: Show the expected arrival/departure dates in the timetable window (r18285)\n- Feature: [NewGRF] Add new price bases for removing industries, building/removing unmovables (new objects), building/removing rail-waypoints/buoys, interacting with town-authority, building foundations, funding primary industries (when not prospecting) and towns (r18283)\n- Feature: Founding towns in-game (r18281)\n- Feature: [NewGRF] Make price base multipliers related to vehicles only apply to the GRF locally, if it defines engines of that type itself (r18268)\n- Feature: [NewGRF] CB 36 for roadvehicle property 09 'running cost factor' (r18011)\n- Feature: Non-automatic screenshot name can be entered in console (r17938)\n- Feature: Make it possible to disable background saving, only via the config file/in game console though [FS#2633] (r17893)\n- Feature: Automatically select the railtype with the most engines for the autoreplace window/try to avoid showing an empty autoreplace list [FS#1760] (r17892)\n- Feature: Show maximum tractive effort in the 'exclusive test'/'early offer'/'engine preview' window [FS#1619] (r17891)\n- Feature: Double clicking on a NewGRF opens the parameters window (r17890)\n- Feature: Double click on a item in the refit list refits without the need to click on the refit button (r17889)\n- Feature: [NewGRF] Textstack support for CB 37 [FS#1862] (r17802)\n- Feature: [OSX] Implement automatic fallback font selection for OSX (r17794)\n- Feature: Translatable base sound/graphics set descriptions (r17790)\n- Feature: Show the nickname of the person you are PMing [FS#3116] (r17741)\n- Feature: [OSX] Add a MIDI driver using Cocoa/CoreAudio [FS#3223] (r17710)\n- Feature: [OSX] Implement clipboard support for OS X [FS#2053] (r17708)\n- Feature: Possibility to choose (randomise or enter custom) town name before its creation (r17612)\n- Feature: [NewGRF] Callbacks for houses to disable drawing foundations and to disable slope changes, like industry tile callbacks 30 and 3C (r17558)\n- Feature: [NewGRF] Implement callback 145 (custom station rating) (r17547)\n- Feature: Filtering in Add-NewGRF dialogue (r17541)\n- Feature: Add the date to all logging in the (real, not in-game) console if show_date_in_console is set. For dedicated server binaries the default is 'on', for the rest it is 'off' [FS#2339] (r17488)\n- Feature: Reconnect console command (r17466)\n- Feature: Allow building rail stations over existing rail without signals but will upgrade normal rail to electrified rail if necessary (r17460)\n- Feature: Crash logger for all Unixy OSes in a similar way as the Windows crash logger (r17453)\n- Feature: Open the 'Rename group' dialogue after creating new group (r17281)\n- Feature: [NoAI] Older API compatibility wrappers, so one can get the 0.7 API in later versions while keeping the real API clean (r17214)\n- Feature: The Windows installer can now optionally download OpenGFX and OpenSFX (r17191)\n- Feature: Sort vehicle lists on (timetable) delay [FS#2945] (r17182)\n- Feature: Localised decimal separator (r17157)\n- Feature: Improved the sample rate conversion a bit (r17146)\n- Feature: Allow higher sample rate and higher quality samples (r17140)\n- Feature: Sound replacement sets, like graphics replacement sets (r17139)\n- Feature: Multi tile waypoints (r17002, r17000, r16993)\n- Feature: [NewGRF] Turn variable 0E/8E (vertical offset for trains in depot) and variable 1E/9E bit 3 (wagon width in depot) into grf-local variables (r16867)\n- Feature: Highlight whole articulated vehicles in traindepot instead of only the first part (r16818)\n- Feature: Ability to enter server and company password via command line when joining a server [FS#570] (r16555)\n- Feature: Give the town generator a slight tendency to build towns near water by not discarding watery random tiles but by searching for near land [FS#2635] (r16147)\n- Feature: Configurable digit group separator per language with user override (r16129)\n- Feature: Make the first 4 rail building tools behave more like autorail (r16095)\n- Feature: Allow sorting stations by the lowest cargo rating instead of only by the highest cargo rating [FS#597] (r16045)\n- Feature: Allow filtering of vehicle purchase lists by cargo [FS#1941] (r16042)\n- Feature: Allow (per order) to let a train stop at the near end, middle or far end of a platform from the point of view of the driver of the train that enters the station (r16037)\n- Feature: Listen on multiple IPs/sockets and register all IPs to the master server (r16014, r15975, r15973, r15971)\n- Feature: Full IPv6 support (r16000)\n- Feature: Allow train vehicles to be shorten to 1/8 length, even if not at the end of the train (r15793)\n- Add: [NoAI] AIOrder::AIOF_GOTO_NEAREST_DEPOT for goto nearest depot orders (r18518)\n- Add: [NoAI] Enable the squirrel standard math library (r17498)\n- Add: [NoAI] A vehicle list for all vehicle that are ordered to a specific depot (r17486)\n- Add: [NoAI] AISubsidy::SubsidyParticipantType, AISubsidy::GetSourceType, AISubsidy::GetSourceIndex, AISubsidy::GetDestinationType, AISubsidy::GetDestinationIndex for better subsidy management (r17115)\n- Change: Forbid industries to clear sea/river when levelling land (r18554)\n- Change: Make it visible when you are to pass the next signal on danger and possible to cancel it (r18515)\n- Change: Move the 'check online content' button from the AI list window to the AI configuration window. This makes it consistent with the NewGRF windows [FS#3340] (r18507)\n- Change: Use z instead of zl for the Polish Zloty [FS#565] (r18434)\n- Change: Show different texts in town GUI when the town does not need food the whole year to grow (r18433)\n- Change: Make road vehicles behave more like trains 'around' stations and use pathfinder penalties to determine to which 'part' to go (r18382)\n- Change: Do not split up articulated vehicles in the train details view. If an articulated vehicle it too 'wide' draw the information on the next line and if there are multiple cargoes split that over multiple lines too [FS#2923] (r18344)\n- Change: Make pause on join pause during the whole joining (including download) phase [FS#3287] (r18054)\n- Change: Prefer extmidi over allegro midi and allegro over null driver [FS#3272] (r17875)\n- Change: Several improvements to the performance of CargoPackets/CargoLists; time spent in those functions reduces by 55-85% (r17840, r17836, r17818, r17814, r17812, r17801, r17736, r17735, r17733, r17731, r17730)\n- Change: [SDL] Make 'update the video card'-process asynchronous. Improvements of 2%-25% (real time) during fast forward on dual core/hyperthreading-enabled CPUs (r17776)\n- Change: [NoAI] Make AIEngine:CanRefitCargo() not report refittability to Mail by default for aircraft. It is not necessarily true, and the special case of carrying both passenger&mail is better handled by AIs themself than by the API (r17719)\n- Change: [OSX] Do not use deprecated methods/undocumented functions [FS#1411] (r17712, r17711)\n- Change: Make SDL's video driver more likely to be loaded than Allegro's video driver; SDL seems to perform better (r17583)\n- Change: Do not assume that there is always 'another' industry tile after two '0x18' industry tiles (r17521)\n- Change: Make the performance ratings harder to exploit; only count profitable vehicles and recently serviced stations [FS2459] (r17485)\n- Change: When removing a station or waypoint keep the rail unless Ctrl is pressed. This makes the behaviour consistent between the two (r17471)\n- Change: Show the client id in join messages at the server (r17467)\n- Change: NewGRF price modifiers now take effect every time when loading NewGRFs instead of once on gamestart (r17433)\n- Change: Make a distinction between missing and corrupted data files. If (at least) one data file is missing do not consider the set to be usable. Do also no autodetect sets with missing files (r17241)\n- Change: Update MiniLZO to 2.0.3 (r17215)\n- Change: Update Squirrel to 2.2.3 (r17195)\n- Change: Remove UNICODE notice in windows installer (r17186)\n- Change: Apply the subsidy when subsidy's destination is in station's catchment area and cargo packets originate from subsidy's source [FS#265,FS#2094,FS#2589] (r17113)\n- Change: Subsidies are not bound to stations after awarding anymore, they still apply to town or industry, no matter what station is used for loading and unloading. Awarded subsidies from older savegames are lost [FS#1134] (r17113)\n- Change: [NoAI] Add AIBaseStation as a parentclass for AIStation and AIWaypoint, and move GetName, SetName and GetLocation to AIBaseStation (r17011)\n- Fix: Conditional orders were seen as 'valid' and as such aircraft with only conditional orders did not crash (r18615)\n- Fix: Pressing default for the starting year/snow line height edit boxes of the world generation windows did not work [FS#3398] (r18586)\n- Fix: [OSX] Try to get a generic RGB colour space if getting the system colour profile failed [FS#3198] (r18573)\n- Fix: [NewGRF] House property 15 did not work [FS#2613] (r18567)\n- Fix: Do not try to overtake a vehicle in a road station as overtaking in a station is not allowed [FS#3390] (r18561)\n- Fix: Make aircraft behave the same on autoreplace/autorenew as other vehicle types (r18553)\n- Fix: First do the time-since-last-service check and only then determine whether autoreplace needs to take place. This way they will not keep autoreplacing continuously on failure, but only after some timeout. Also check some minimal requirements (engine availability, refittability) and a heuristic for the needed money when sending vehicles for autoreplace [FS#1762] (r18551, r18549)\n- Fix: Do not account for path reservation costs when entering a signal block via a 'block' signal. This way you will not get double penalties, both red signals and reservation costs, for the block signalled tracks [FS#2722] (r18535)\n- Fix: [NewGRF] An industry NewGRF that defined a too small size for action0 prop 0A could cause a crash (r18527)\n- Fix: Allegro does not like to work with extmidi, so warn the user about that [FS#3272] (r18520)\n- Fix: When you pass a signal at danger, in a PBS controlled area, do not try to do the 'safe' thing and stop, but continue going; the user wanted the train to pass the signal at danger so they have to suffer the consequences. Of course one can always stop the train manually [FS#2891] (r18515)\n- Fix: No error message was created for the first fatal NewGRF error [FS#3368] (r18506)\n- Fix: Improve airport movement on several airports [FS#3169] (r18505)\n- Fix: Autoreplace and autorenew always reset their cargo sub type to 0. Now find a sub cargo type with the exact same name and use that, otherwise fallback to 0. So cargo sub types can be maintained via autoreplace *if* the new vehicle supports the same cargo sub type [FS#3159] (r18499)\n- Fix: Cloning of vehicles could create vehicles with invalid cargo sub types for the build year of the vehicle. Fall back to another cargo sub type with the exact same name, otherwise fallback to cargo sub type 0 [FS#2616] (r18498)\n- Fix: [NewGRF] Direction is accounted for long before motion counter is updated (r18479)\n- Fix: Moving vehicles around/selling vehicle in the train depot could create states that are not allowed by the NewGRF attach callback [FS#3146] (r18472, r18470)\n- Fix: Unselect an AI in the AI Settings window when it falls out of the range of active AIs [FS#3357] (r18436)\n- Fix: Road vehicles would not pick an empty drive through stop. Now they will *if* the penalty for driving around is less than the occupancy penalty [FS#1944] (r18404)\n- Fix: Long (articulated) road vehicles could block loading of others when the following road vehicle already got 'permission' to go to the next bay even when it could not reach it [FS#1495] (r18404)\n- Fix: The tree 'which one to draw' hash was not anywhere near random and thus showed a very visible repeated pattern when only one tree type was used [FS#3343] (r18398)\n- Fix: [NoAI] Make AIIndustryType::GetConstructionCost() return -1, if the industry is neither buildable nor prospectable (r18276)\n- Fix: Use free type ascender/descender metrics to position font offset correctly (r18096)\n- Fix: Make the 'pause' chat message when actually executing the pause command. This to prevent showing paused and especially unpaused to be shown when the state does not change. Output now mentions whether pause changes keep the game paused and what reasons for pausing there 'currently' are (r18052)\n- Fix: [NoAI] Improve behaviour of (AIEngine|AIEventEnginePreview)::GetCargoType() and AIEngine::CanRefitCargo() wrt. articulated vehicles (r17898)\n- Fix: [NewGRF] CB15 and CB36 (capacity) were not always called when they should [FS#3255] (r17897)\n- Fix: Invalidate cache of vehicle vars 40-43 after testruns of certain commands, that change them temporarily (r17894)\n- Fix: [OSX] The splash image was not displayed if the Quartz video driver was used (r17793)\n- Fix: Do not let aircraft drive a while over the grass when landing at high altitude airports [FS#3259] (r17762\n- Fix: Make the -c <config file> location relative to the current directory instead of the directory of the binary [FS#3247] (r17686)\n- Fix: Some semaphore signals fell outside of the signal GUI. Now the signals are properly centred which should make that problem go away [FS#3242] (r17657)\n- Fix: Some inconsistencies with the difficulty settings in the scenario editor. Also re-enable changing some difficulty settings (e.g. max loan) in the scenario editor [FS#3219] (r17644)\n- Fix: Do not accept cargo produced in the same industry; generalise and improve the check used only for valuables (r17437)\n- Fix: Pay only for cargo actually delivered, not for all cargo unloaded at station; can differ with 'stockpiling' industries (r17436)\n- Fix: Improve movement of aircraft; do not make turns bigger than 45 degrees while in flight, do not move while turning on the ground (r17415, r17405)\n- Fix: Crash in order GUI when changing some orders with both the mouse and keyboard at the exact same time [FS#2859] (r17384)\n- Fix: Trains would not show smoke if the load/unload counter was not 0, though there does not seem to be a reason to check that variable anyhow anymore [FS#3162] (r17352)\n- Fix: One was not offered to take over bankrupt companies anymore; caused by the introduction NoAI, although NewAI had the same problem too [FS#2769] (r17345)\n- Fix: Minor improvements of the airport state machines (r17338, r17337, r17334)\n- Fix: Road vehicles forgetting their servicing order when the path takes them away (in bird distance) from their destination first [FS#3057] (r17333)\n- Fix: Mention of Ctrl modifier was missing from some tooltips [FS#3120] (r17300, r17297)\n- Fix: Keep vehicle news and viewports following vehicles, when autoreplacing/renewing them [FS#3048] (r17147)\n- Fix: Inconsistency between signs of stations and waypoints [FS#3081] (r17040)\n- Fix: NewGRF stations would be triggering assertions for waypoints all over the place when using the more advanced station types [FS#2996] (r16909)\n- Fix: Skipping a 'nearest depot order' because none could be found could cause multiple orders to get skipped [FS#2925] (r16457)\n- Fix: Makedepend cannot handle the amount of files we have and it also miss some dependencies. So use our custom implementation of makedepend (r16307)\n- Fix: Autopause and manual pausing conflict with each other, new game + pause on new game + autopause make the game not unpause on the first join [FS#2864] (r16242)\n- Remove: [NoAI] AIVehicle::SkipToVehicleOrder as it was a duplicate of AIOrder.SkipToOrder (r18504)\n- Remove: OPF for RVs and NTP for trains; both the oldest path finders (r18362)\n- Remove: Support for gcc2. It has not been able to compile OpenTTD for months. All attempts to do another workaround failed (r16492)\n\n\n## 0.7.x\n\n### 0.7.5 (2009-12-23)\n\n(None)\n\n\n### 0.7.5-RC1 (2009-12-14)\n\n- Add: Some missing latin-ish characters from the OpenGFX set (r18431)\n- Change: Recolour the bubble generator just like any other industry [FS#3349] (r18409)\n- Fix: Read after free in case no network connection could be made with the content server (r18493)\n- Fix: [NewGRF] Initialisation of cargo payment was broken for NewGRF cargoes [FS#3344] (r18475)\n- Fix: [NoAI] AIOrder::SkipToOrder did not properly resolve ORDER_CURRENT (r18471)\n- Fix: When moving a wagon and only the last part of a dual headed engine you could split the dual headed engine over two vehicles. This could be used to crash servers [CVE-2009-4007] (r18462)\n- Fix: [Windows] Forgot to load the symbol from SDL.dll (r18439)\n- Fix: Do not run the 'jam protection' for vehicles in a depot [FS#3360] (r18428)\n- Fix: [Windows] The help window would be too large in some cases [FS#3327] (r18424)\n- Fix: Under some circumstances a pointer could be left untouched and then freed. Make sure this does not happen by ensuring it starts out as NULL instead of 'garbage' [FS#3298] (r18418)\n- Fix: On slopes the original and better road layouts did not check their minimum distance requirements [FS#3332] (r18415)\n- Fix: Aqueducts were not influenced by the 'long bridges' setting [FS#3338] (r18407)\n- Fix: Drive through road stops did not get flooded (r18401)\n- Fix: [YAPP] Trains on bridges were not found, when searching for the origin of a reservation [FS#3345] (r18392)\n- Fix: (Invalid) GRFs could trigger invalid reads (r18391)\n- Fix: One could not share orders between buses carrying different cargoes (r18380)\n- Fix: Off-by-one in the preconfigured music lists [FS#3339] (r18369)\n\n\n### 0.7.4 (2009-12-01)\n\n- Fix: Endianness issue with saving the zoom level [FS#3333] (r18351)\n- Fix: [NewGRF] When starting a new game the values of action D variable 13 were incorrect [FS#3324] (r18207)\n\n\n### 0.7.4-RC1 (2009-11-15)\n\n- Change: Prefer extmidi over allegro midi and allegro over null driver [FS#3272] (r17875)\n- Change: [NewGRF] Apply default refitmasks only when the NewGRF did not set any of the three refittability properties (xor mask, positive classes, negative classes) (r17663)\n- Fix: Crash when an articulated RV is turning on a drive through road station that gets forcefully (bankrupt) removed [FS#3310] (r18049)\n- Fix: GCC 4.5 compiling (r18045)\n- Fix: AIs failed to load their data from savegames by crashing them when they tried [FS#3290] (r18038)\n- Fix: Screen jumped a bit for at least SDL and Allegro when right-click-dragging (r18030)\n- Fix: [NewGRF] Improve parsing of RIFF data. Skip unknown chunks and check chunk sizes (r17999)\n- Fix: When you start giving money (input window for amount), then get moved to spectators and you click 'Ok' a crash would occur (r17953)\n- Fix: Use 24bpp BMP format instead of 32bpp for screenshots. Saves space and is supported by more image viewers (r17943)\n- Fix: Close BMP file when making screenshot fails (r17941)\n- Fix: Deadlock when trying to create screenshot with too long name (including path) (r17936)\n- Fix: Crash when closing NewGRF parameter window with no NewGRF selected [FS#3291] (r17922)\n- Fix: 32bpp BMP screenshots were in wrong colours on big endian machines and broken when screen width was not a multiple of 4 (r17910, r17909)\n- Fix: Uninitialised values in some paths of loading TTO savegames [FS#3288] (r17908)\n- Fix: Make the plane speed setting unchangeable in network games because it can be read by NewGRFs on game load and thus if it changes cause desyncs (r17902)\n- Fix: [NewGRF] 'subtract-in' is also signed for production callback version 0 (r17857)\n- Fix: [NewGRF] _date_fract runs from 0 to 73 since r2041. Variable 0x09 should not (r17824)\n- Fix: Do not fail hard when no soundcard could be detected; just fall back on the null-driver [FS#3268] (r17788)\n- Fix: CJK languages do not have spaces, so for adding newlines (multi line strings) we need to (properly) handle the case when there are no spaces instead of truncating the string [FS#3264] (r17772)\n- Fix: Powernaut Helicopter got wrong 'load amount' (r17758)\n- Fix: [NewGRF] 'last_value' and 'reseed' are shared between procedure and main chain, 'scope' and 'count' are not (r17672)\n- Fix: Count only active clients (not those waiting for map download) when checking min_active_clients limit (r16506)\n\n\n### 0.7.3 (2009-10-01)\n\n- Fix: [NewGRF] Crash when trying to build an industry that has no industry layout defined [FS#3233] (r17638, r17633)\n\n\n### 0.7.3-RC2 (2009-09-24)\n\n- Update: Documentation about bug reporting and known bugs (r17554)\n- Fix: When a command did not fail in test run and failed in execution run, error message was not set. Affects only few commands (r17607)\n- Fix: [NewGRF] Crash when defining the same tile in a tile layout twice [FS#3218] (r17605)\n- Fix: Vehicle image was not always updated when needed (r17594)\n- Fix: [NoAI] Could not query the size of small airports when they could not be build anymore [FS#3212] (r17591)\n- Fix: Erroneous message about changing the difficulty level [FS#3220] (r17588)\n- Fix: Assertion triggered when the second vehicle in a 101+ (or 11+ if mammoth trains is disabled) vehicle free wagon chain is an engine and the first vehicle is moved to another chain [FS#3208] (r17576)\n- Fix: [NewGRF] Memory leak when viewing the NewGRF settings of a server (r17563)\n- Fix: [NewGRF] The NewGRF settings of (remote) network games did not get properly updated when the NewGRFs were rescanned causing reading of freed data [FS#2972] (r17562)\n- Fix: [NewGRF] Close the 'Add NewGRF' window when you close the 'NewGRF Settings' window. The add window has a pointer to the settings which means that not deleting it would cause dereferencing an already freed pointer [FS#3206] (r17559)\n- Fix: Vehicles waiting for their time table did not load anymore after their initial load was completed [FS#3201] (r17551)\n- Fix: Aircraft were given an unfair advantage in station rating calculations (r17550)\n- Fix: [NewGRF] Sign extending of profit calculation did not work (r17546)\n- Fix: [NoAI] AIs had 'infinite' time when running code from the global scope [FS#3202] (r17545)\n- Fix: [NoAI] Crash when doing commands in the 'global' scope [FS#3202] (r17544)\n\n\n### 0.7.3-RC1 (2009-09-13)\n\n- Add: [NoAI] AITown::GetLastMonthTransportedPercentage and AIIndustry::GetLastMonthTransportedPercentage (r17294)\n- Add: [NoAI] AICompany::Get/Set PresidentGender (r17016)\n- Add: [NoAI] AIEngine::GetDesignDate (r17014)\n- Add: [NoAI] AIStation::GetConstructionDate (r17012)\n- Add: [NoAI] AIAbstractList::SORT_ASCENDING/SORT_DESCENDING (r17005)\n- Change: [NoAI] AITown::GetLastMonthProduction now returns the same value as AITown::GetMaxProduction (r17293)\n- Change: Mention the MD5 checksum of the original NewGRF in the 'saveload failed horribly'-error message and make it more clear that the filename is of the current NewGRF [FS#3139] (r17267)\n- Change: Make overbuilding the front tile of a road station/depot with road consistent with overbuilding the front tile of tunnels/bridges [FS#2802] (r17239)\n- Change: Improve error output on missing or corrupt files (r17238)\n- Change: [Unix] Only use colourised error output on interactive terminals (r17227)\n- Change: [NoAI] Crash an AI when it uses a DoCommand/Sleep instead of just printing an error message in the AI Debug Window [FS#2980] (r17223)\n- Change: [NoAI] When the API requests a string as parameter allow every squirrel type and convert to a string [FS#3101] (r17221)\n- Change: Make strgen warn if the translation uses STRINGn or RAW_STRING instead of STRING (r17137, r17129)\n- Change: [NoAI] Load the API before compiling an AI script so AIs can subclass API classes and use API constants as part of their own constants (r17043)\n- Change: Add notion of Ctrl+Click in the tooltip for Loan borrow/repay buttons [FS#3066] (r16979)\n- Change: [MSVC] Make all language files depend on english.txt (r16975)\n- Change: There is no point in not randomising engine introduction-date before 1922. Instead disable the randomisation for the first two years after game-start, so you do not have to wait for the first engine (r16929)\n- Fix: [Squirrel] In some cases the call stack would not be cleaned up properly during crash handling. Occasionally this causes asserts to be triggered or crashes [FS#3189] (r17515)\n- Fix: When loading GRFConfigs from ini file, validate them wrt. duplicate GRF IDs [FS#3197] (r17510)\n- Fix: When building a part fails during cloning, sell what was already cloned instead of leaving it 'for free'. Also make cloning multiheaded trains possible with with 'max - 1' vehicles existing [FS#3196] (r17509)\n- Fix: [NoAI] The wrong value was restored to SetAllowDoCommand possible resulting in an AI that was not allowed to do any actions (r17500)\n- Fix: Road vehicles could get lost when the preliminary destination (for the pathfinder heuristics) is unreachable [FS#3188] (r17491)\n- Fix: When building roads is not allowed for town, then do not build the initial piece either [FS#3173] (r17444)\n- Fix: Destruction of depots did not remove any vehicle lists related to the depot, causing windows pointing to deleted depots and (thus) crashes [FS#3180] (r17442)\n- Fix: Economy recession would never end when economy is set to Steady while in recession (r17426)\n- Fix: The index of orders loaded from old savegames was overwritten with an uninitialised value (r17419)\n- Fix: Incomplete check on validity of industry type when building industries (r17413)\n- Fix: [Squirrel] Guard against Squirrel stack overflows (r17403)\n- Fix: [NoAI] During every save a few slots on the Squirrel stack were leaked (r17402)\n- Fix: [NoAI] Several AITile::* functions did not check whether their parameters were valid (r17378)\n- Fix: Memory leak when trying to bankrupt the local company, other minor improvements of bankruptcy (r17342, r17341, r17340)\n- Fix: Not all non-ASCII characters were entered with escapes in the About window (r17309)\n- Fix: [NoAI] AIRail::RemoveRailTrack returned ERR_PRECONDITION_ERROR for road/rail-crossings (r17307)\n- Fix: [NoAI] Reloading an AI started a new AI in the first available company slot causing other AIs to be started [FS#3153] (r17298)\n- Fix: [NoAI] AITown::GetLastMonthTransported did not work as documented at all, make it return what AITown::GetLastMonthProduction did (r17293)\n- Fix: Crash after upgrading base graphics set when opening the game options menu and you were using the upgraded set [FS#3147] (r17291)\n- Fix: [Squirrel] Stack was not always cleared properly with tail recursion (r17284)\n- Fix: [Squirrel] Calling a function that has default parameters with not enough parameters can cause a crash (r17273)\n- Fix: Other tunnel end not shown if building rail tunnels and the first railtype is not available yet [FS#3141] (r17251)\n- Fix: [NoAI] AIs that crashed during Save() were not killed as they should [FS#3134] (r17231)\n- Fix: [NoAI] Do not assert when an AI uses AI*Mode objects incorrectly but crash the AI instead (r17230)\n- Fix: Remove the (deprecated since 2006) Encoding entry from the openttd.desktop file (r17226)\n- Fix: With time tables vehicles would stay in the 'loading' state after they have finished loading [FS#3129, FS#3130] (r17222)\n- Fix: Do not ignore white space changes (e.g. alignment fixes) in the exporter (r17220)\n- Fix: [NoAI] IsRoadTypeAvailable(GetCurrentRoadType()) was not a precondition for several AIRoad::* functions (r17203)\n- Fix: [NoAI] Do not say you are building a depot when you are actually building a station (API docs typo) (r17201)\n- Fix: Accept monthly production values in the scenario editor [FS#2406] (r17198)\n- Fix: [Squirrel] FPE when an AI tried to do '% 0' (r17195)\n- Fix: [NoAI] Guard the valuator against 'external' modifications of the valuated list which could cause it to go into an infinite loop [FS#3124] (r17193)\n- Fix: Do not return exit value of rm, but of the actual configure run (r17163)\n- Fix: A stuck train could free the reservation of another train if it was reversed or did crash (r17152)\n- Fix: A train entering a PBS section through a block signal could cause a train crash if another reservation ending at a safe tile was already present in the section [FS#3104] (r17151)\n- Fix: Update vehicle position cache when the vehicle sprite changes [FS#3060] (r17121)\n- Fix: Mark industry tiles dirty when trigger are triggered (r17118)\n- Fix: Squirrel_export.sh failed for some locales (r17109)\n- Fix: Make restart command work again and make the help show how it works and how it does not work [FS#3092] (r17097)\n- Fix: News message about ordered refits failing was not very clear [FS#3091] (r17096)\n- Fix: Crash when renaming some stations [FS#3082] (r17078)\n- Fix: RPM spec file failed for CentOS; apparently their rpmbuild is pickier or so [FS#3024] (r17077)\n- Fix: [NewGRF] Mark house tiles dirty when triggers were triggered (r17047)\n- Fix: [NewGRF] Trigger house trigger 02 only for the north tile [FS#3085] (r17046)\n- Fix: Graphical glitch with graph key [FS#3083] (r17041)\n- Fix: '[bd]ash'-ism in configure [FS#3076] (r17026)\n- Fix: Infinite recursion in content dependency checking [FS#3075] (r17015)\n- Fix: Concatenating strings in Squirrel when non-ASCII strings were received from OpenTTD failed [FS#3074] (r17013)\n- Fix: [NoAI] Documentation of AITile::LevelTiles was wrong (r17049)\n- Fix: [NoAI] AIBridge::GetPrice returned incorrect values (r16986)\n- Fix: Make it so that failing to generate many random towns in scenario editor returns a failing message [FS#3059] (r16977)\n- Fix: The last manually added server would not be saved [FS#3062] (r16981)\n\n\n### 0.7.2 (2009-08-01)\n\n- Fix: Vehicles would wait 'very long' when they had nothing to unload and gradual loading was disabled [FS#3054] (r16933)\n\n\n### 0.7.2-RC2 (2009-07-21)\n\n- Fix: When marking trains stuck do not reset the unload/stuck counter when the vehicle is unloading. It will be automatically reset once the vehicle wants to leave the station [FS#3038] (r16901)\n- Fix: [NoAI] Small errors in the API documentation [FS#3037] (r16865)\n- Fix: Savegames from before 0.4 would get their waypoint 'index' messed up (r16854)\n- Fix: Cargo payments were not destroyed when a vehicle was destructed. This only happened when you crashed a vehicle while it was unloading [FS#3032, FS#3046] (r16801)\n\n\n### 0.7.2-RC1 (2009-07-15)\n\n- Add: Plural 'rule' for Korean (r16811)\n- Add: [NoAI] AIVehicle::GetReliability to get the current reliability of vehicles (r16790)\n- Fix: Call the AI Save() function only once so AIs can not crash OpenTTD [FS#3034] (r16834)\n- Fix: Use the palette of the vehicle being drawn instead of the one of the front vehicle (r16819)\n- Fix: Automatic resizing of SelectCompanyLiveryWindow was not working as expected [FS#3021] (r16809)\n- Fix: Service orders did not behave like conditional orders; if a train does not need service it did not completely skip the order, but still go in the direction of the depot [FS#3031] (r16802)\n- Fix: Houses would not get build on the map edge [FS#3025] (r16795)\n- Fix: Audio playback rate was fixed at 11025Hz regardless of the rate specified to the audio driver, resulting in incorrect playback speed. It is still preferable to use 11025Hz output rate if possible as OpenTTD's sample rate converter is very low quality (r16784)\n- Fix: Do not use the same error message for turning around road vehicles and flipping parts of trains in the depot [FS#3019] (r16772)\n- Fix: [Windows] The binary packages would not get their readme converted to DOS line endings (r16769)\n- Fix: [NoAI] AITile::GetCargoProduction/Acceptance did not accept a radius of 0 anymore (r16767)\n- Fix: In the refit window the 'Select cargo type to carry' line always showed the ship refit tooltip [FS#3018] (r16757)\n- Fix: When loading a savegame Engine::grffile might be left NULL in certain cases (dynamic_engines enabled, articulated vehicle with only wagon-override action3s) (r16737)\n- Fix: Show Close instead of Cancel when there is nothing to cancel in the content downloading window [FS#2991] (r16732)\n- Fix: [NoAI] AIDepotList contained wrong tiles for hangars when st->xy != st->airport_tile (r16731)\n- Fix: The Join station window did not show all stations nearby in some cases (r16728)\n- Fix: Invalidate subsidies with invalid source or destination when converting older savegames (r16710)\n- Fix: The list of animated tiles could have duplicates (only for old savegames) and tiles that were not animated [FS#2994] (r16709)\n- Fix: When SDL/Allegro fail to initialise, fall back on another video driver but not to the null driver (r16702, r16700, r16699)\n- Fix: Limit the screen's resolution to 65535x65535 so the dirty pixels stay within bounds of a 32 bits integer [FS#3001] (r16701)\n- Fix: Only pay for whatever has been actually unloaded and perform the payment when unloading has finished [FS#2995] (r16694)\n- Fix: Missing debug string for ESRB_SAFE_TILE in YAPF debugging helper [FS#3002] (r16690)\n- Fix: When there is no AI version that can load data from the savegame, load the latest version of the same AI instead of a random AI (r16651, r16650, r16649)\n- Fix: Loading of some town data from old savegames was broken (r16631)\n- Fix: [NewGRF] Some of the var action 2 80+ variables contained wrong results from NewGRF perspective (r16615, r16613)\n- Fix: Antialiased fonts broken; check pixel_mode instead of palette_mode (r16602)\n- Fix: Give a more meaningful error message when console commands expect an integer but do not get one (r16600)\n- Fix: Mouse would under some circumstances not be undrawn when drawing the first chat line causing two mouse pointers to be visible [FS#2969] (r16594)\n- Fix: Do not crash when tars/NewGRFs are removed, just tell the file could not be opened/found [FS#2967] (r16590)\n- Fix: Set default stack size to 1MB to prevent _chstk crash (MSVC) [FS#2978] (r16589, r16588)\n- Fix: [Network] Always send the starting date from the game you are currently playing instead the starting date from the config file (r16573)\n- Fix: Also catch FPEs in saveload and the warning about missing NewGRFs; only happens when assertions are disabled and NewGRFs are missing (r16572)\n- Fix: In some cases, train could be stuck in depot [FS#2974] (r16571)\n- Fix: [NoAI] AIMarine::AreWaterTilesConnected did not return true for bridge head<>neighbouring water tile (r16563)\n- Fix: Removing of duplicates of base graphics set could behave randomly (r16548)\n\n\n### 0.7.1 (2009-06-09)\n\n- Fix: When finding duplicate graphics sets favour the more complete one (r16538)\n- Fix: [Squirrel] Crash that occurred when an AI was halted while one or more generators were still in a 'running' state [FS#2942] (r16534)\n- Fix: [Squirrel] Do not copy an object when we just checked that the pointer to it is NULL (r16532)\n- Fix: Notify small UFOs on deletion of road vehicles, so they can head for somewhere else instead of stumbling over a ghost (r16525)\n- Fix: [NoAI] StationIDs from oilrigs were not considered valid by the API (r16529)\n- Fix: Draw PBS reservation as groundsprite resp. childsprite of foundation/bridgehead [FS#2959] (r16528)\n- Fix: Missing guards in the NoAI API making it possible to hit an assert in OpenTTD [FS#2963] (r16524)\n- Fix: [NoAI] Possible assert in AI debug window when an AI was stopped and a human company took its CompanyID [FS#2962] (r16522)\n- Fix: [NoAI] Make sure AIBridge::BuildBridge returns what the documentation says it does (r16520)\n\n\n### 0.7.1-RC3 (2009-06-03)\n\n- Add: [NoAI] AISignList that can be used to get a list of valid signs (r16400)\n- Change: [NoAI] Stop an AI when it takes too long to initialise or load [FS#2869] (r16425)\n- Fix: Base graphics names must be unique, so do not add duplicates (r16503)\n- Fix: [NoAI] When an AI was suspended while in a function called (indirectly) via call/acall/pcall OpenTTD crashed. Fix this by disallowing AIs to be suspended while called via call/acall/pcall [FS#2935] (r16502)\n- Fix: [NewGRF] Invalidate NewGRF variable caches of more vehicles in more places. Esp. they were only invalidated for trains (r16480)\n- Fix: [NewGRF] Call callbacks after initialisation of vehicle variables (r16479)\n- Fix: [NewGRF] Determining most common (sub-)cargo-type was broken due to someone confusing similarly named variables (r16478)\n- Fix: Loading indicator when 'unload' in and 'no loading' is off was pointing in the wrong direction [FS#2936] (r16477)\n- Fix: Track reservation was drawn at bridge heads in the menu (r16470)\n- Fix: [NoAI] Another try/catch related bug (r16454)\n- Fix: Road vehicles ending up on the pavement when they are in a drive through station that got removed due to bankruptcy [FS#2909] (r16448)\n- Fix: [NoAI] AIRail::GetRailStationDirection returned incorrect information (r16440)\n- Fix: Crash when a company is deleted while a dropdown with company names is open (r16430)\n- Fix: Do not allow content download via the console when there is no zlib as it is done for the GUI already [FS#2919] (r16420)\n- Fix: Some 64bit architectures require size_t to be aligned at 8-byte boundary, ensure it for MemBlock (r16415)\n- Fix: [NewGRF] Disable multitile houses with non-zero population on additional tiles as they cause desyncs and because the specs do not allow that either (r16383)\n- Fix: [NewGRF] Valid UTF-8 sequences between 0x20 and 0xFF should be allowed as is instead of being treated as control codes (r16374)\n- Fix: [NewGRF] Use a valid StringID as fall-back when undefined generic NewGRF strings of vehicles are requested (r16366)\n\n\n### 0.7.1-RC2 (2009-05-21)\n\n- Fix: The previously selected NewGRF station type was still remembered after switching to a different game without newstations enabled, preventing stations from being built (r16363)\n- Fix: Pointer incremented with wrong count (r16361)\n- Fix: Delete invalid depots in TTD savegames caused by improper SVXConverter conversions (r16357)\n- Fix: Invalid read when OpenTTD savegame contains VEH_INVALID (r16353)\n- Fix: Signal handler could end in endless loop (r16351)\n- Fix: [NewGRF] When overriding 'original sounds', only allow overriding of the 'original sounds' and not any other that is already loaded (r16339)\n- Fix: Desyncs when removing lots of stations/towns (r16329, r16328)\n- Fix: Desyncs due to the fact that depot searching with a maximum search depth simply does not work with YAPF's caches [FS#2900] (r16323)\n- Fix: Trains could get stuck in a depot when they wanted to go to the same depot again [FS#2873] (r16322)\n- Fix: In the scenario editor change the (starting) game year of the scenario, not the (starting) game year for new games/scenarios (r16321)\n- Fix: Loading of savegames created in revision between 0.3.5 and 0.3.6 caused crash (r16320)\n- Fix: [NoAI] Set the autorenew settings for new AI companies to the default values, not to 0 or the local settings (r16316)\n- Fix: [NewGRF] Allow accessing the house age when the house is not yet built (r16314)\n- Fix: (Get|Set)TrackBits() is only valid for RAIL_TILE_NORMAL and _SIGNALS (r16311)\n- Fix: Parameter is invalid when it is equal to length of an array (r16308)\n- Fix: Close all windows before unloading the AI system as closing the content-download window will rescan for AIs [FS#2901] (r16306)\n- Fix: ICC (Intel C++ Compiler) defined __GNUC__ but does not define __builtin_bswap32, so fall back to the default swap method for ICC (r16295)\n- Fix: Road vehicles were unable to find a depot when turning around (in some cases), causing 'nearest depot' orders to be occasionally lost [FS#2893] (r16291\n- Fix: Unable to (re)set the desert state for watery tiles [FS#2888] (r16290)\n- Fix: Possible (in theory) desync related to autorenew settings (r16287)\n- Fix: Crash after using the 'Reset landscape' function and remove all waypoint signs and buoys after resetting landscape (r16280)\n- Fix: [NewGRF] Disable multitile houses for which the NewGRF does not define proper additional tiles (r16274)\n\n\n### 0.7.1-RC1 (2009-05-11)\n\n- Add: [NoAI] AIController::GetVersion, this returns the version of OpenTTD in the same way as for NewGRFs (r16253)\n- Add: [NoAI] AIAirport::GetPrice, returning the building cost of an airport (r16252)\n- Add: [NoAI] Two new error codes to AITile: ERR_AREA_ALREADY_FLAT and ERR_EXCAVATION_WOULD_DAMAGE (r16171)\n- Add: [NoAI] AITile::Get(Min|Max|Corner)Height (r16166)\n- Add: [NoAI] Several functions to AIOrder to check the what kind of order an order is and AIVehicle.SendVehicleToDepotForServicing [FS#2801] (r16165)\n- Add: [NoAI] UseAsRandomAI as function in info.nut. When an AI returns false, it will never be chosen as random AI (r16113)\n- Add: [NoAI] AIOF_STOP_IN_DEPOT to the orderflags in AIOrder to allow stop-in-depot orders (r16107)\n- Add: [NoAI] GetURL() as possible function to info.nut. If AIs implement it, that url is shown when the AI crashes and also in the AI selection window [FS#2808] (r16093)\n- Change: [NoAI] Reverse the order of the lines in the AI debug window [FS#2778] (r16091)\n- Change: Harden string copying on places where it is possible (r16024)\n- Change: Use recent Czech language for plural form (r15965)\n- Fix: Wrong number of parameters or wrong parameter types sent to printf-like functions at several places (r16269)\n- Fix: [NewGRF] When callback 2E returns an amount of 0, do not transport 1 unit to the station (r16268)\n- Fix: [NoAI] Various documentation omissions with respect to IDs of various objects and corners for AITile::(Raise|Lower)Tile (r16267, r16266)\n- Fix: [NoAI] Check slopes passed to the API better for validity (r16264, r16262)\n- Fix: [NewGRF] Interpret setting bridge property 08 to 0 as always available (r16263)\n- Fix: [NoAI] Enable parameter checking for AIController::* functions again (r16249)\n- Fix: [NoAI] Make sure AITunnel::BuildTunnel returns what the documentation says it does (r16244)\n- Fix: [NoAI] CmdBuildTunnel could be called with invalid parameters from the API code, causing crashes later [FS#2875] (r16243)\n- Fix: Improve corner case order handling: mark order as done only when actually done, obey non-stop orders, do only stop/refit at the depot in the order (r16240, r16228, r16199, r16198, r16187)\n- Fix: [NoAI] Use the stop/non-stop intermediate orderflags AIs can give for goto-depot orders (r16239)\n- Fix: [NewGRF] ActionB should use the online parameters from GRFFile instead of the initial user-specified values from GRFConfig. Also use the values as they were set when the ActionB was executed, not as they are set when the message is shown (r16223)\n- Fix: Possible crashes when quitting OpenTTD or forcing resizes/redraws of the screen during map generation [FS#2862] (r16220)\n- Fix: Shared orders without orders were not properly converted causing corrupt/invalid orders when loading pre 0.7 savegames [FS#2878] (r16214)\n- Fix: Hardcoded (old sized) MAX_COMPANIES constant (r16182)\n- Fix: [Squirrel] The traps variable was not restored, causing try/catch blocks to be 'forgotten' during a suspend (r16181)\n- Fix: Do not try to reserve path for trains crashed in station [FS#2866] (r16178)\n- Fix: Forbid joining AI companies via the 'move' and 'join' console commands/multiplayer lobby (r16176, r16175)\n- Fix: [NoAI] AIOrder::GetOrderDestination and AIOrder::GetOrderFlags did not work on ORDER_CURRENT when the vehicle was loading/leaving in a station (r16165)\n- Fix: [NoAI] Change WAYPOINT_INVALID to 0xFFFF from -1 as that is the value the AIs got (due to casting) (r16150)\n- Fix: The overflowsafe type did not like dividing by int64 larger than MAX_INT32 causing division by negative numbers and small anomalies when drawing graphs [FS#2855] (r16130)\n- Fix: Road was removed when both the Remove button was active and Ctrl was pressed [FS#2582] (r16119)\n- Fix: [NoAI] Make sure AIOrder::GetDestination always returns a tile belonging to the station (16109)\n- Fix: [NoAI] When giving an aircraft a goto-hangar order do not let it be a normal goto-station order (r16108)\n- Fix: [NoAI] AIOrder::SetOrderFlags always removed 'Service if needed' from goto-depot orders (r16106)\n- Fix: Connect tried to validate too much of the company ID with too little information on hand [FS#2849] (r16096)\n- Fix: [NoAI] AIDebug window profiled the blitters by invalidating itself unconditionally on repaint. On the other hand it was not invalidated in other cases when needed (r16094)\n- Fix: The language is called Slovak, not Slovakish (r16090)\n- Fix: Insanely fast trains would not stop in time for stations/'jump' over waypoints/via stations within a tick, which would cause the order not to be processed causing the train to go in loops until (with luck) it 'hit' the tile [FS#2824] (r16079)\n- Fix: Content download progress bar 'resetting' due to mathematical overflow [FS#2845] (r16071)\n- Fix: Memory leak when querying a server multiple times (r16064)\n- Fix: [NoAI] MOF_COND_DESTINATION was not accepted by CmdModifyOrder() (r16063)\n- Fix: Non advanced vehicle list did not handle company switching correctly (r16054)\n- Fix: Do not warn that crashed vehicles are getting old; upgrading them is impossible [FS#2740] (r16048)\n- Fix: The currency abbreviation for the Romanian Leu is now RON [FS#774] (r16041)\n- Fix: Dash was not able to run iconv detection (r16035)\n- Fix: [NewGRF] Do not give '... Mines' as name to the station of oil rigs, or more general: do not add '... Mines' when the all of the cargoes are part of the liquid, passenger or mail classes [FS#2785] (r16029)\n- Fix: Storing/loading some currencies failed due to inconsistent settings 'tables' [FS#2826] (r16028)\n- Fix: Usage of uninitialised memory when trying to build a random new industry, but there are no industrytypes to choose from (i.e. all appearance probabilities are zero) (r16027)\n- Fix: 'Build separate station' in the station picker would reuse deleted stations [FS#2818] (r16025)\n- Fix: 32 bpp sprites in tars would also be shown in the list of heightmaps [FS#2817] (r16023)\n- Fix: Sometimes the unregister 'query' thread could be delayed so much that the network stuff was already closed and the packet would never reach the master server causing the server to appear online longer than necessary (r16022)\n- Fix: Chance16() did not work for b = 1. Also transform the formula to not use divisions (r16006)\n- Fix: Inconsistency between using NETWORK_NAME_LENGTH and NETWORK_CLIENT_NAME_LENGTH for the length of client names (r15988)\n- Fix: [NewGRF] Abort production callback after 0x10000 iterations and show a messagebox blaming the NewGRF [FS#2787] (r15958)\n- Fix: [NewGRF] Set callback_param1 (var 10) to 1 only when requested (r15957)\n- Fix: Tooltip of detailed ratings window button showed wrong message (r15943)\n\n\n### 0.7.0 (2009-04-01)\n\n- Feature: Watermark crash.sav and do not generate crash information if a loaded crash.sav causes a crash so the real crash report does not get overwritten (r15893)\n- Feature: Add autoclean_novehicles setting which will, when autoclean_companies is true, remove any company with no vehicles and no active client after autoclean_novehicles-months (r15848)\n- Add: [NoAI] AIIndustryType::IsBuiltOnWater(), HasHeliport() and HasDock(). Just like AIIndustry (r15901)\n- Add: [NoAI] AIBridge::GetBridgeID() so AIs can get the type of bridge that are already build (r15875)\n- Add: [NoAI] AIRoad::GetRoadVehicleTypeForCargo() to tell whether a certain cargo needs a bus- or a truckstop (r15860)\n- Fix: Chat completion got called twice causing tab completion to seemingly fail (r15905)\n- Fix: YAPF did not apply the platform length (too long/too short) penalties (r15900)\n- Fix: Fixing the slopes was done a bit more often than intended making map generation with the original generator horribly slow (r15895)\n- Fix: YAPF used different penalties for aqueducts than for other water tiles (r15891)\n- Fix: Round the production rate up, so e.g. oilrigs always produce some passengers on lowest production level [FS#2772] (r15888)\n- Fix: Libtimidity cannot handle frees of NULL (in contrast of most other frees) [FS#2770] (r15886)\n- Fix: Make sure house class/ID counters do not overflow (r15831)\n\n\n### 0.7.0-RC2 (2009-03-23)\n\n- Change: [NewGRF] Expose GRF ID of engines in var action property 0x25 (r15739)\n- Fix: Some (newer) GCCs have trouble compiling the Windows specific part of fontcache.cpp; jumps across variable declarations [FS#2752] (r15818)\n- Fix: When sorting on cost do not sort on the running cost [FS#2749] (r15778)\n- Fix: Do not show the message about reporting an AI crash for the dummy AI (r15774)\n- Fix: Number of active clients was not always properly updated [FS#2475] (r15773)\n- Fix: Settings from the [gameopt] section (from old 0.6 config files) were overwritten with default values (r15771)\n- Fix: Infinite loop when skipping sprites when a GRF is invalid (or truncated) (r15767)\n- Fix: Crash when opening the content list window twice; inconsistencies when clicking download twice [FS#2744] (r15766)\n- Fix: Add Engine::GetDisplayDefaultCapacity() and use it everywhere, so CB 36 is also used everywhere (r15763)\n- Fix: [Windows] Inlined UTF-8 characters (in the source code) are not handled properly on Eastern versions of Windows so escape them (r15762)\n- Fix: [Windows] On some system searching a font using its English name fails. So now we search the font using the localised name and use the English name for the final 'validation' only (r15757)\n- Fix: Number of houses in house variables 0x44, 0x60 and 0x61 were incorrect after 0xFF had been reached and could desync clients joining afterwards (r15755)\n- Fix: Crash when clicking the small area between the savegame list and the save button in the save game window [FS#2742] (r15753)\n- Fix: Do not try to (un)draw the cursor when the screen is not ready (r15752)\n- Fix: The big UFO sometimes landed just outside the map. Instead of landing, just disappear (fly away) in those cases (r15750)\n- Fix: Crash because submarines would sometimes start far outside of the map [FS#2739] (r15748)\n- Fix: Road ownership getting lost when removing a road stop [FS#2736] (r15747)\n- Fix: Update threading code for OS/2, add mutex support, fix compilation (r15746, r15745)\n- Fix: When town generator failed to create requested number of towns, there were too many cities (r15744)\n\n\n### 0.7.0-RC1 (2009-03-16)\n\n- Feature: Pop up the AI Debug Window if one of the AIs crashed and show a message that the user should report the crash [FS#2728] (r15708)\n- Feature: Allow the number of towns that will be generated in the generate world window to be customised [FS#2672] (r15695)\n- Fix: Enabling freeform edges could cause submarines to get stuck on land tiles (r15733)\n- Fix: Centring on a vehicle did not respect its z coordinate (r15725)\n- Fix: Do not show passenger-/mail-capacity if the aircraft carries only cargo (r15705)\n- Fix: Blame NewGRFs returning inconsistent information in purchase-list/after building before users have a chance to blame OpenTTD for incorrectly autorenewing/-replacing [FS#2595] (r15701)\n- Fix: Just sell the old engines after autorenew/replace. Do not bother about trains exceeding the trainlimit, which will be sold anyway [FS#2721] (r15692)\n- Fix: Do not crash when the generate map does not contain a suitable location for a town [FS#2720] (r15689)\n- Fix: Do not crash when someone substitutes the 'map generation' sprites with garbage [FS#2720] (r15685)\n- Fix: Vehicle images would be determined during the process of moving the vehicle which means that only the (orientation) data for the vehicles in front of it is valid. Now the data for the vehicles behind the vehicle are valid too [FS#2546] (r15677)\n- Fix: It was possible to remove rail tunnels/bridges and aqueducts build by rival companies [FS#2718] (r15667)\n- Fix: Sorting of engines in the purchase list did not use the same numbers as the GUI showed, e.g. articulated parts were not taken into account when ordering by capacity [FS#2689] (r15666)\n- Fix: Handling of aircraft crash counter did not take account of the reduced number of calls (from 6 down to 2) to the aircraft event handler, resulting in crashed aircraft taking three times longer than they should to clear. Compensate by increasing the counter by 3 on every call instead of 1 (r15665)\n- Fix: Growing of vsize as (some) threads were not properly released (r15663)\n- Fix: Do not mark a company as having ratings in a town when querying the cost of a command (r15662)\n\n\n### 0.7.0-beta2 (2009-03-10)\n\n- Feature: Allow downloading scenarios and heightmaps via the in game content download (r15632)\n- Feature: When cloning a vehicle with a custom name, add and/or increment a number at the end of name and assign it to the new vehicle (r15621)\n- Feature: Show scenarios/heightmaps from both your home directory and installation directory (r15615)\n- Feature: Allow building road stops on road/tram tracks of competitors (r15601)\n- Feature: Show required/already-delivered cargo needed for town-growth in town-view-window and only if it is really needed (r15559)\n- Feature: [NewGRF] Support vehicle vars 0x47 and 0xF2 in purchase list (r15542)\n- Feature: [NewGRF] Show the cargo subtype in the vehicle details window (r15480)\n- Change: The background of the the waypoint sign is now in the company colour (r15593)\n- Change: Allow the default debug level of 6 for a dedicated server to be overridden by -d (if used after -D) (r15543)\n- Change: [NewGRF] To decide whether a vehicle is refittable do not test its current capacity for being zero, but always use the 'capacity property' (r15541)\n- Fix: [Squirrel] Almost infinite loop in garbage collection (r15659)\n- Fix: Undeterministic file sorting when the date is equal for all files [FS#2716] (r15657)\n- Fix: Changing vehicle.dynamic_engines when there are already vehicles can cause crashes (r15656, r15586)\n- Fix: Only ever call any vehicle callbacks after the whole articulated engine has been built (except 0x16) (r15654)\n- Fix: C++'s new (this) is seldom a good idea as destructors of member variables are not run causing memory leaks [FS#2706] (r15652)\n- Fix: [OSX] Hack around an OSX stupidity in < 10.4 w.r.t. signals by not having any signal handling support for OSX < 10.4 (r15648)\n- Fix: Add an EngineOverrideManager to give the term 'compatible NewGRF' again some sense and to not crash because of trivial changes [FS#2612] (r15645)\n- Fix: Closing a network connection twice in the case that sending packets starts failing while disconnecting [FS#2710] (r15644)\n- Fix: Game crashes when network pools are empty, so always allocate at least one pool block [FS#2712] (r15641)\n- Fix: Do not allow more than 64 road vehicles to reserve a slot at a single road stop. 255 + 1 gives trouble, but 64 is even more than the road stop would be able to handle within the slot timeout time [FS#2707] (r15635)\n- Fix: Kicking/banning a client from the Client list window crashed the server [FS#2705] (r15628)\n- Fix: UTF8 string handling could cause buffer overruns [FS#2698] (r15626)\n- Fix: When trying to reserve a self-crossing path the failed reservation was sometimes not cleared completely [FS#2701] (r15619)\n- Fix: Towns would only build houses where the grid would not be, even when they are not allowed to build roads and the user 'implements' another layout [FS#2661] (r15604)\n- Fix: Crash when using an extraordinarily large sprite as cursor [FS#2696] (r15601)\n- Fix: Crash when opening viewport while scrolling the map and the mouse 'lands' on the window decoration of the viewport [FS#2695] (r15598)\n- Fix: [NewGRF] Refit-info in purchase list did only check the first articulated part (r15592)\n- Fix: Change owner of waypoints and deleted stations when merging companies or when a company bankrupts (r15588)\n- Fix: Last activity time not properly updated causing downloads to be aborted after a minute [FS#2684] (r15580)\n- Fix: Force unload not working when trying to force unload at the station where you received the cargo [FS#2680] (r15574)\n- Fix: Theoretical buffer overflow when a company with too long name funded a road reconstruction (r15572)\n- Fix: When building signals by dragging from a pre/entry/combo block signal, the signal you started at became a normal block signal [FS#2674] (r15567)\n- Fix: Dependency information was not requested after the content state was reset causing the dependencies not always being selected (and thus downloaded) automatically [FS#2675] (r15565)\n- Fix: Crash when saving a preset with unknown NewGRFs [FS#2646] (r15561)\n- Fix: The font width cache was not updated when changing fonts causing the font spacing to be off when changing fonts in-game (auto font detection) (r15557)\n- Fix: -v null crashing in 2051 due to trying to show the high score of the spectator (r15554)\n- Fix: [NoAI] Crash when setting a depot order to the southern part of a ship depot [FS#2656] (r15551)\n- Fix: The keep_all_autosave setting was ignored for dedicated servers/spectators [FS#2651] (r15546)\n- Fix: If a buoy was placed directly in front of a dock, that dock was seen as a buoy and thus skipped once within 3 tiles [FS#2653] (r15545)\n- Fix: Extracting downloaded content did not work for Windows if one uses a non-ASCII path [FS#2650] (r15544)\n- Fix: [NewGRF] When articulated parts have no available default cargo, use the cargo type of the first part for livery selection [FS#2617] (r15541)\n- Fix: Testing of 'only_this' in CmdRefitRoadVeh() could be skipped by 'continue' (r15540)\n- Fix: [NewGRF] If an aircraft cannot carry any available cargo, it should not be available either instead of falling back to passenger/mail. Just like the other vehicle types also do (r15539)\n- Fix: Do not allow special sprite characters (e.g. the ship sprite) as characters in input like filenames or text that is sent over the network (r15537)\n- Fix: The local command queue did not get properly cleaned when leaving a game meaning you could end up executing commands of the previous network game [FS#2644] (r15529)\n- Fix: Do not try to find the AIs the server runs when joining a multiplayer server (r15525)\n- Fix: Use distance to closest station tile as estimate for YAPF too (NPF already does so). This makes it behave 'better' with wide stations [FS#2631] (r15518)\n- Fix: [NewGRF] Wagonoverrides and articulated engine parts use the colour scheme of the engine, but not its recolour callback, nor its 2CC flag. Same applies to roadvehicles [FS#2642] (r15517)\n- Fix: [NewGRF] Livery overrides for articulated parts of roadvehicles were not applied (r15516)\n- Fix: Make the join/spectate command require to be connected to a network game; in SP it could lead to crashes (r15514)\n- Fix: Generating a map with the original map generator with freeform edges on resulted in a crash [FS#2641] (r15511)\n- Fix: Pre-0.5 OpenTTD stored new_nonstop and full_load_any in a different way, savegame conversion was not working for them (r15500)\n- Fix: Crash when opening the game options when the currently loaded base graphics pack has less than 2 valid graphics files. For example when someone replaces all their original base graphics with custom work (but keeps the name) or renames the dos ones to windows or vice versa [FS#2630] (r15476)\n\n\n### 0.7.0-beta1 (2009-02-16)\n\n- Feature: Make it possible to have multiple windows with edit box open simultaneously (r15424)\n- Feature: Add ability to select which base graphics set is used from the Game Options window. The change takes effect when the window is closed. This option can only be used from the intro menu, as reloading graphics during a game may cause issues (r15389)\n- Feature: Do not draw superfluous catenary wires [FS#1761] (r15347)\n- Feature: Add option to group and subtotal expenses list in the company finance window (r15301)\n- Feature: Allow moving clients between companies/spectators by the server and the clients themselves (r15242)\n- Feature: Native support for Transport Tycoon (Original) savegames (r15216)\n- Feature: Allow terraforming of the tiles at the edges of the map (r15190)\n- Feature: [NewGRF] Allow a grf to customise house name via callback 0x14D, during Tile Inquiry process (r15172)\n- Feature: Downloading content from a central server (content.openttd.org) where authors can upload their NewGRFS/AI etc. This should make joining servers that use only NewGRFs that are distributed via this system easier as the players can download the NewGRFs from within the game. It should also make it easier to see whether there are updates for NewGRFs and make the necessary updates (r15126)\n- Feature: Add support for IP range bans using CIDR notation (r15094)\n- Feature: An AI framework so people can write their own AIs. This also removes the old cheating and heavily broken AI (r15027)\n- Feature: [NewGRF] Support var 0x45 (curvature info) also for road vehicles (r14945)\n- Feature: [NewGRF] Automatically set last engine ageing year to the last 'introduction year plus half model life', to allow engines later than 2050 to appear (r14926)\n- Feature: Distant joining of stations (r14919)\n- Feature: Advanced setting to keep various building tools active, which are usually closed after placing an object (r14902)\n- Feature: Remove the window limit, but leave a configurable limit on the number of non-sticky non-vital windows (r14899)\n- Feature: Allow road vehicles to move multiple steps in a tick (code based on train movement code) and add support for RV prop 15. This gives RVs a maximum speed of 318mph instead 79mph. This only implements higher speeds, not 'realistic acceleration' (r14869)\n- Feature: Automatic reversing in front of block signals can now be disabled by setting pf.wait_oneway_signal respectively pf.wait_twoway_signal to 255 (r14852)\n- Feature: Few (optional) optimisations to making (initial) orders; like keeping goto selected [FS#1984] (r14827)\n- Feature: Make the road grids of town match, when all are using the same road layout of course [FS#2390] (r14821)\n- Feature: Pressing CTRL while dragging to build a bridge builds the last built bridge type if possible [FS#2238] (r14805)\n- Feature: Make the date format for default savegame/screenshot names configurable (r14792)\n- Feature: Allow scrolling with the left mouse button pressed (if enabled). Primarily useful for systems with touch screen (r14789)\n- Feature: Allow up to 15 companies (r14735)\n- Feature: Allow up to 255 clients in multiplayer games (r14730)\n- Feature: When the chosen language is not supported by the current font, try to find a font that does and use that instead (r14618)\n- Feature: [NewGRF] Action0Industries property 24 (industry supplies default name for nearby station) (r14598)\n- Feature: Non-destructive autofill with option to keep waiting times [FS#1124] (r14592)\n- Feature: Stop-in-depot order; after this order you have to manually start the vehicle again (or sell it) (r14524)\n- Feature: Arrow key scrolling in the server list (r14517)\n- Feature: Initial support for handling bidirectional scripts and connecting Arabic characters (r14479)\n- Feature: Allow sorting vehicles by remaining life time (r14352)\n- Feature: Ability to reset name to default/automatic value (for vehicles, engines, towns, groups, stations, waypoints, managers and companies) (r14334)\n- Feature: [NewGRF] Add Variational Action 2 Variable 0x47 for houses, Coordinates of the house tile (r14294)\n- Feature: Allow overriding the palette of the base GRFs. This way you can play with NewGRFs made for the Windows palette with the DOS palettes base GRFs (and vice versa). Note that for this to work correctly ALL NewGRFs must use the same palette; mix and match is not yet supported (r14229)\n- Feature: Double click to join selected server/company (r14209)\n- Feature: Allow both the German as well as non-German toyland graphics as 'correct' and official graphics (r14197)\n- Feature: Allow people to create their own base graphics easily and without requiring code changes (r14197)\n- Feature: [NewGRF] Add support for property 0x13 for Bridges. In other words, one can now specifies a 16 bits cost multiplier (r14172)\n- Feature: Make it possible to choose between the DOS and Windows graphics packs while retaining the possibility to override the palette (r14151)\n- Feature: Increase the size of the console backlog. Now it'll only remove backlog items when there are more than a threshold and when they are there longer than (another) threshold (r14056)\n- Feature: Make it possible to filter list_patches output like it is done for other list_* console commands (r14041)\n- Feature: Path based signalling (r13926-13967)\n- Feature: Show [total-]cargo info in depot when [ctrl-]right-clicking on vehicle (r13923)\n- Feature: NewGRF presets, selected by a drop down list in the NewGRF window. Presets are saved in the config file (r13781)\n- Feature: Add a few extra columns with information to the server list (r13732)\n- Feature: [NewGRF] Add var 65 in Variational Action 2 Variables for Houses (r13603)\n- Feature: [NewGRF] Implement var 63, variational action2 variable for Houses. Or, in more simple terms, the check for the animation frame of nearby house (r13519)\n- Feature: Aqueducts (r13464)\n- Feature: [NewGRF] Add var 0x69 for industries, long format construction date (r13443)\n- Feature: [NewGRF] Add long format introduction and maximum construction year for house (r13437)\n- Feature: [NewGRF] Add access to current long year and date from Action 7/9/D and VarAction2 (23/24 or A3/A4), and add access to (long format) building year, in Variational Action2 Variable 49 for Vehicles (r13376)\n- Feature: Splitting of the main toolbar when the resolution becomes very low so the buttons are still visible and usable (r13339)\n- Feature: Make news messages use a linked list instead of a moving circular buffer. This makes it possible to store more news messages in the history (r13317)\n- Feature: The number of news messages is reduced by removing every news message that is a configurable amount older than when it would not be shown in the newspaper popup/ticker, which is e.g. a month for industry production changes and half a year for subsidy offers. As a result the more important messages will stay longer in the message history (if longer than 30 messages) (r13317)\n- Feature: Allow to have more than only two airports per town. The number of airports is now controlled by the noise each of them generates, the distance from town's centre and how tolerant the town is (13226)\n- Feature: Introducing the so called 'engine pool' which primarily removes the fixed engine type limits and also happens to allow (with the patch option 'dynamic_engines') multiple NewGRF vehicle sets to coexist (r12924)\n- Feature: [NewGRF] The ability to play NewGRF sounds for industries and stations (r12817)\n- Feature: [NewGRF] Add some support for NewGRF station animation (r12798)\n- Feature: Sorting vehicle lists by road vehicle/train length (r12766)\n- Feature: Conditional 'skip/jump' orders (r12667)\n- Feature: Ability to send a vehicle (using default orders) to the nearest depot (r12661)\n- Feature: Ability to force a vehicle to not load or to not unload at a station (r12650)\n- Feature: Four different non-stop types, individually selectable per order. Replaces 'TTDP compatible order' setting (r12648)\n- Feature: Three different load type in a single game instead of two. One can choose full load all and full load any instead of full load being governed by the 'full load any' patch setting (r12648)\n- Feature: Financial and Player Selection Face windows are now remembering their position when toggling sizes (r12634)\n- Feature: Show what cargoes a station could be supplied with (r12596)\n- Feature: [NewGRF] Add random action 2 type 84. For vehicles only (r12452)\n- Feature: [NewGRF] Add support for var A2/22 for action 7/9/D: Difficulty level (r12449)\n- Feature: Add +/- toggle buttons to station cargo waiting list to show/hide the detailed transferred cargo information (r12446)\n- Feature: Open the time table when pressing the order button while pressing the CTRL key (r12441)\n- Feature: On Screen Keyboard for input fields so someone without a keyboard can enter text too [FS#1846] (r12425)\n- Change: When checking for unique names, compare only with manually set names [FS#1923] (r14958)\n- Change: Apply the 'warn if train's income is negative' setting to other vehicle types, too (r14835)\n- Change: When loading games in 'network' mode use the start date of the save game for the server and all clients when loading the NewGRFs instead of the current date. Prevents desyncs caused by action 7/9s skipping parts of the GRF based on the date or some other variables that can differ at NewGRF load time (r14769)\n- Change: Only say a engine/vehicle is refittable when it can be refitted to at least two cargo type or when it has subcargoes (r14683)\n- Change: [NewGRF] Since our NewGRF handling is better than it used to be, disable a NewGRF if unexpected sprites are reached (r14184)\n- Fix: A town could build a statue under a bridge [FS#2618] (r15397)\n- Fix: Multiple vehicles could be filling the timetable and only the data from one vehicle would be taken. Now only allow one to be filling at a time [FS#2466] (r15382)\n- Fix: When testing for parallel road two tiles away, do not move more than one tile along the road (r15381)\n- Fix: [NewGRF] The subcargo returned by vehicle variable 0x42 should be the most-common-subcargo of the most-common-cargo. If nothing is transported 0x..FFFF00 should be returned (r15378)\n- Fix: A tram circling around in a depot did never actually 'enter' the depot [FS#2605] (r15375)\n- Fix: Changing town road layout in-game caused ugly road networks [FS#2121] (r15340)\n- Fix: Company could never have auto-assigned colour 0 (dark blue) (r15281)\n- Fix: Deadlock (with wide fonts) or desync when generating manager name (r15279)\n- Fix: Close all windows *before* starting a new game/loading a game instead of doing that as one of the latest steps of loading the game. This caused, in some cases, the NewGRF settings to be reset when the game was already loaded resulting in instant desyncs when joining a network game [FS#2577] (r15256)\n- Fix: Aircraft could be 'loading in the air' or have zero speed while in air after converting old savegames [FS#2571] (r15230, r15227)\n- Fix: Tile error location not reset when levelling land causing a tile to be highlighted when there was nothing to flatten [FS#2542] (r15138)\n- Fix: Signs with sign 'Sign' were lost when converting from TTD savegames (r15137)\n- Fix: [NewGRF] Add support for 8 byte action7/9 data, used as a mask for GRFID checks (r15114)\n- Fix: [NewGRF] Keep industry variables 8E and 8F in sync with 93, when changing production using results 0D, 0E or 0F of callback 29 or 35 (r15103)\n- Fix: [NewGRF] Disable a NewGRF from loading if it contains multiple Action 8s (r14979)\n- Fix: Wrong defaults for service interval when switching between service interval in days and service interval in percentages [FS#2508] (r14959)\n- Fix: [NewGRF] Building new station parts did not allocate a new station spec effectively breaking variable 41. This was due to the limited number of station specs that we can have per station. This fix makes newly build station parts create a new spec until one cannot allocate new station specs anymore and it'll revert to the old behaviour (sharing station specs) [FS#1832] (r14956)\n- Fix: [NewGRF] Station specs did not get deallocated when building a new station part over them (r14955)\n- Fix: Sharing/cloning/inserting of orders that the/a vehicle (in the shared list) cannot go to (wrong station type etc) [FS#1890] (r14954)\n- Fix: The 'animation state' of the bubbles was stored in a variable that was not stored in the savegame. Using a variable that gets saved in the savegame solves the desync and makes it a bit clearer [FS#2512] (r14931)\n- Fix: Abort dragging of vehicles in the group window when they are deleted [FS#2500] (r14925)\n- Fix: Do not unnecessarily reset the cursor, when a different vehicle is dragged (r14924)\n- Fix: [NewGRF] First create all articulated parts of roadvehicles, then call callback 36 capacity, also call it for all articulated parts (r14903)\n- Fix: Overflow of number of orders per vehicle [FS#2495] (r14830)\n- Fix: Off-by-one causing possible out-of-bounds reads (r14811)\n- Fix: In an MP game in SP mode no company would go bankrupt. Furthermore companies that passed the 'bankrupt' period (4 quarters) would not go bankrupt when loading the game back in MP. Now any company that is in MP or not 'currently controlled by the player' in SP will bankrupt [FS#1993] (r14750)\n- Fix: Do not let any disaster vehicle (Helicopter or Airplane) target invalid industry (r14746)\n- Fix: Memory leak in Action 0x0F (new town names) (r14737)\n- Fix: Writing a single char to the config file caused reading outside a buffer (r14729)\n- Fix: First transfer the whole load of a vehicle chain to industries before triggering any processing. This reduces callback usage and resolves critical rounding errors when using input-cargo-multipliers instead of production callbacks [FS#2460] (r14705)\n- Fix: Zeppeliner (disaster) should target st->airport_tile, not st->xy (r14694)\n- Fix: [NewGRF] Gradual filling graphics were not chosen according to the NewGRF spec [FS#2435] (r14678)\n- Fix: [NewGRF] Check sprite size when executing action 6 (r14674)\n- Fix: [NewGRF] Property 7 and callback 12 were broken for aircraft. Now callback 12 is properly called also for 'mail'. If the callback is not used, 'mail' uses 1/4 of property 7 (rounded up) [FS#2444] (r14672)\n- Fix: Possible stack corruption when reading corrupted sprites [FS#2415] (r14610)\n- Fix: [NewGRF] Return the current year as construction year for unfinished houses (r14608)\n- Fix: [NewGRF] When callback 1E fails, use the standard random colour (r14605)\n- Fix: The company ID is off-by-one with respect to the rest of the GUI in the cheat window [FS#2422] (r14603)\n- Fix: The range for kicking/banning clients is based on the maximum number of clients, not the maximum number of companies [FS#2414] (r14588)\n- Fix: Allow capacity callbacks (15, 36) to return zero capacity (r14578)\n- Fix: Crashes when a NewGRF sends an invalid string [FS#2395] (r14563)\n- Fix: Order pool seemed to look full when it was not as it only checked whether it was possible to allocate a new block of pool items instead of checking for free pool items (r14547)\n- Fix: Do not deliver cargo to industries not inside station catchment area [FS#2138] (r14530)\n- Fix: Allocate stub (empty) sound entries when loading an empty/corrupt/incorrectly sized sample.cat instead of making valid NewGRFs fail to load (r14527)\n- Fix: Make sure trains stop at the end of a station; a 3/8th length train did stop 2/8th of its length too early causing a 63/8th long train not to fit in a 4 tile station [FS#2379] (r14526)\n- Fix: Small possible chance of desync due to sorting on pointer instead of by (station) index [FS#2348] (r14463)\n- Fix: When a road stop gets moved make sure to update the destination of RVs going to that road stop [FS#2330] (r14446)\n- Fix: Support for spaces in directories passed to ./configure [FS#1802] (r14440)\n- Fix: Trains would sometimes move one time too often/little when moving from diagonal<->non-diagonal tracks [FS#1793] (r14436)\n- Fix: Balance the monthly random industry changes, by introducing a daily random industry change [FS#1885] (r14332)\n- Fix: Save the palette of the loaded NewGRFs in the savegame, so joining with a server using Windows palette will make a client with the DOS palette do palette conversion and (thus) not cause a desync (r14233)\n- Fix: Glitches (alignment issues/inconsistent vehicle graphics) in original graphics (r14214, r14211)\n- Fix: One could not get a list of vehicles sharing an order when the number of orders was 0; you could see that the vehicles had a shared order though [FS#2085] (r14097)\n- Fix: Various assorted autoreplace issues/misbehaviours [FS#1264, FS#2037, FS#2038, FS#2110] (r14083)\n- Fix: The autoreplace gui showed vehicle types for replacement which CmdSetAutoReplace() did not accept (r14037)\n- Fix: Automatically recalculate inflation if NewGRFs are changed and cargo types are added, so that cargo payment rates are correct [FS#2074] (r13836)\n\n\n## 0.6.x\n\n### 0.6.3 (2008-10-01)\n\n- Fix: NewGRF VarAction 2 variable 43 for industries saw MP_VOID tiles as land tiles and was inefficient (r14417, r14416, r14415)\n- Fix: Possible buffer overrun/wrong parameter type passed to printf (r14414, r14397)\n- Fix: Generation seed set using -G was always overwritten by -g (r14408)\n- Fix: Do not allow extending signals by dragging in any direction other than the track direction [FS#2202] (r14013)\n\n\n### 0.6.3-RC1 (2008-09-22)\n\n- Fix: Invalid v->u.air.targetairport could cause crashes at several places [FS#2300] (r14383, r14344, r14343)\n- Fix: Moving the first vehicle of a train elsewhere might require a new unitnumber for the remaining chain which might not be available (r14384)\n- Fix: Trams jumping when reversing on a single trambit (like caused during road construction reworks) or when (manually) reversing in a corner [FS#1852] (r14371)\n- Fix: Multiheaded parts in free wagon chains were not connected (could cause desyncs) (r14366, r14362)\n- Fix: [Windows] Some keypress combinations could be handled twice [FS#2206] (r14363)\n- Fix: The ownership of roadtiles was not properly set for very old savegames (including TTD's) making it impossible to remove some pieces of road [FS#2311] (r14359)\n- Fix: Desync due to randomly ordered vehicle hash by flooding and road vehicle overtake/following (r14356, r14258)\n- Fix: Signs were not updated on company bankruptcy/sell, and thus could have the colour of invalid player (r14348)\n- Fix: Delete the RenameSignWindow when 'its' sign is deleted (r14345)\n- Fix: Signs from old savegames were lost (causing little memory leaks) (r14340)\n- Fix: When a company was renamed and then manager was renamed before building anything, company name changed (r14328)\n- Fix: When you rename a town before building something and build something near that town your company would be called '<old townname> Transport' [FS#2251] (r14327)\n- Fix: Free any blocks that a helicopter may have on an oilrig when the helicopter gets forcefully removed (bankruptcy). For other airports this is not needed as they cannot be used by multiple companies [FS#2241] (r14324)\n- Fix: Possible assert when renaming removed waypoint (r14322)\n- Fix: Properly delete orders so the pool does not fill up (r14319)\n- Fix: Do not allow building road over level crossings and drive-through road stops in the wrong direction; do not allow adding roadtypes to non drive-through road stops; pay for all added road bits [FS#2268] (r14316, r14315, r14314, r14308)\n- Fix: Aircraft frozen above oil rig when the next order is invalid [FS#2244] (r14309)\n- Fix: [YAPF] Only reserve road slots for multistop when they are really reachable [FS#2294] (r14305)\n- Fix: One could be trying to get the station name of a station that is outside of the pool (r14297)\n- Fix: Default for sound effects and music volume should be in the valid range for that setting [FS#2286] (r14289)\n- Fix: Make small UFO aware of articulated RVs so they crash the complete vehicle instead of a small part of it (r14270)\n- Fix: Desyncs after deleting a waypoint because of explicit destructor call instead of using operator delete (r14265)\n- Fix: Merge keycode for 'normal' 0-9 keys and keypad 0-9 keys so people do not get confused that the keypad does not work as expected [FS#2277] (r14260)\n- Fix: Clicking on the smallmap did not break the 'follow vehicle in main viewport' [FS#2269] (r14243)\n- Fix: The engine-purchase-list-sorter doubled running-cost and halved capacity of double-headed engines [FS#2267] (r14239)\n- Fix: Feeder share was computed wrong when splitting cargo packet (r14234)\n- Fix: Signs (town name, station name, ...) could be too long for 8bit width in pixels (r14221)\n- Fix: 10 days != 6*2.5 days, effectively causing the payment graph to show the wrong data (r14219)\n- Fix: When determining length of a string with limited size, first check if we are not out of bounds already (r14204)\n- Fix: Properly update the current timetable's travel/wait times instead of only doing it for one vehicle in the shared order chain and only when some bit has not been set [FS#2236] (r14192)\n- Fix: Sprite payload skipping would not skip enough bytes in a very small subset of compressed sprites (r14191)\n- Fix: After applying NewGRF settings, all rail and road types were available as the engine availability check was performed too early (r14182)\n- Fix: Close all related vehicle lists when closing a station window (and not only the train list) (r14180)\n- Fix: RemoveOrderFromAllVehicles() did not mark enough windows dirty (r14179)\n- Fix: Incorrect cargo weights (r14144)\n- Fix: GetSlopeZ() gets a virtual coordinate, not a tile (r14139)\n- Fix: Close the 'manage vehicles' dropdown once the number of vehicles in the list reaches 0 [FS#2249] (r14133)\n- Fix: [Strgen] Changing order of parameters {X:...} did not work for strings including some {StringY} (r14111)\n- Fix: Desync due to bubbles in toyland (r14110)\n- Fix: Make NewGRF action 0x06's changes persistent over the several loading stages [FS#1986] (r14102)\n- Fix: Make the 'Transfer Credit' display aware of the entire consist, not only the first vehicle (r14098)\n- Fix: Do not flood a NewGRF industry when it implicitly tells that it wants to be build on water (land shape flags bit 5) [FS#2230] (r14093)\n- Fix: The vehicle window of articulated road vehicles would show the clone/refit button when the vehicle was not completely stopped in the depot (r14090)\n- Fix: Flawed parsing of words (as in 2 bytes) in GRF strings due to sign extension [FS#2228] (r14087)\n- Fix: Division by 0 in NewAI [FS#2226] (r14062)\n- Fix: NewGRF callback 23 did not use the NewGRF compatible text stack [FS#2224] (r14058)\n- Fix: NewGRF text stack's 'push word' did not move the data around properly (r14057)\n- Fix: Long strings in the edit box would cause OpenTTD to stop drawing the string. This is especially noticeable with low resolutions and the chat input box (r14054)\n- Fix: [OSX] Changed the condition for selecting 8 or 32 bpp blitter by default. Now we will pick 32 bpp if no 8 bpp fullscreen resolutions are available on the main display (the one with the dock) (r14032)\n- Fix: Crash when the AI tries to find the depot of an airport that does not have a depot [FS#2190] (r13999)\n- Fix: MSVC cannot handle changed files in the prebuild event, so make the version determination a separate subproject [FS#2004] (r13998)\n- Fix: The dedicated console removed any character that was not a printable ASCII character instead. Now it allows UTF8 formatted strings too [FS#2189] (r13992)\n- Fix: Resetting construction stage counter reset more than it should (r13981)\n- Fix: Wrong tooltip for the industry directory's list [FS#2178] (r13917)\n\n\n### 0.6.2 (2008-08-01)\n\n- Fix: Custom vehicle names from TTD(Patch) games were lost (r13884)\n- Fix: NewGRF Callback 10 (visual effect and powered wagons setting) and powered wagons operation were not performed for articulated wagons [FS#2167] (r13870)\n- Fix: In some cases the sprite cache could be filled with unremovable items [FS#2153] (r13869)\n- Fix: Return of wrong parent scope of (NewGRF) industry variables (r13868)\n- Fix: Loading of TTD(Patch) savegames from the command line did not work (r13859)\n- Fix: Buffer overflow for too long filename supplied as '-g' parameter [CVE-2008-3577] (r13858)\n- Fix: Cargo type lookup was incorrect for NewGRF version 7 files without a translation table [FS#2157] (r13855)\n- Fix: GetTownByTile() is only valid for houses and roads (r13851)\n- Fix: Power, running cost and capacity of multiheaded engines were (too often) doubled in newspaper resp. offer window (r13844)\n- Fix: FreeType may return a bitmap glyph even if a grey-scale glyph was requested [FS#2152] (r13832)\n\n\n### 0.6.2-RC2 (2008-07-25)\n\n- Fix: Building through the wrong side of a drive through station was allowed [FS#2166] (r13822)\n- Fix: Check for vehicle length changes outside a depot (callback 0x11) and give a warning about that [FS#2150] (r13816)\n- Fix: Several minor memory leaks. They only happened once per game (r13809, 13810)\n- Fix: Checking for train waiting at other side of two-way signal was broken [FS#2162] (r13806)\n- Fix: Some revision checking code was unintentionally disabled (r13776)\n- Fix: Enforce the validity of a NetworkAction (chat packet) issued by a client (r13775)\n- Fix: Selecting non-full length vehicles in the depot gui would place the 'mouse pointer' out of the centre of the vehicle making it hard to 'aim' [FS#2147] (r13759)\n- Fix: NewGRF rail continuation would always mark a tunnel on the same axis as connected, even when the tunnel faces the wrong direction (r13734)\n- Fix: Assumption that non-north tiles of a house do not have the 1x1 building bit set was flawed with some NewGRFs. This caused the amount of houses to differ, which causes the town radii to differ, which causes desyncs when towns are expanded (r13729)\n- Fix: Possible desync on the autorenew settings 20+ game years (i.e. 4.5+ hours) after a company was started (r13718)\n- Fix: Any player could construct new companies [FS#2144] (r13716)\n- Fix: Remove the unique_id from the message that a client has joined as it is only exposes the unique_id more than needed (r13714)\n- Fix: Possible crash on creating a network packet [CVE-2008-3547] (r13713)\n- Fix: Enforce the length restrictions of company and president name in the commands too (r13712)\n\n\n### 0.6.2-RC1 (2008-07-16)\n\n- Fix: Possible buffer overflow in string truncation code [CVE-2008-3576] (r13700)\n- Fix: Handle SETX(Y) properly when truncating a string instead of ignoring it and returning a too long string (r13699)\n- Fix: In some cases the (sound) mixer could overflow causing artifacts in the sound [FS#2120] (r13695)\n- Fix: Do not rely on .tar files always ending with a block of zeros (r13693)\n- Fix: Make sure a command is ran in the context of autoreplace or not (r13691)\n- Fix: In the case that elrails and 'realistic' acceleration are disabled all electrified engines would have no power on load, until the vehicle got turned around, loaded or got into a depot [FS#2102]- Fix: Saving TTD imported games in recession failed due to wrong (and unneeded) type conversions in the saveload code [FS#2131] (r13679)\n- Fix: Inactive companies from old (TTD) saves could be marked active in some cases, which then loads garbage in their statistics and such [FS#2126] (r13676)\n- Fix: Memory leak when NewGRFs got forcefully disabled and they defined GOTO labels (r13675)\n- Fix: Crash when drawing a non-real sprite caused by NewGRF interference [FS#2127] (r13674)\n- Fix: Desync when building electrified trains on a dedicated server that was started with electrification disabled [FS#2122] (r13673)\n- Fix: Bus/truck forgetting go-to-depot order when entering a non-drivethrough road stop [FS#2117] (r13664)\n- Fix: Server crashing when banning the rconning client (r13661)\n- Fix: Signals were not updated correctly when a player removed a non-existing track piece (r13626)\n- Fix: Crash when one tries to raise the northern corner of MP_VOID tiles (i.e. the southern corner of the tiles on the southern map edge) in the scenario editor [FS#2106] (r13624)\n- Fix: Only the front of a RV would be considered when determining to what cargoes a vehicle can be refitted instead of all cargoes [FS#2109] (r13622)\n- Fix: If the first bridge can not be build for a given length, then none of the other bridges can. Effectively meaning that if someone replaces the first bridge with a bridge that can be only 3 tiles longs then only other bridges that can be 3 tiles long will be buildable, but only if they are 3 tiles long [FS#2100] (r13611)\n- Fix: Signal states could be propagated through waypoints built in orthogonal axis (r13589)\n- Fix: [OSX] 10.5 failed to switch to fullscreen (r13584)\n- Fix: RVs continuing onto next DT station when they are build adjacent to them [FS#2040] (r13581)\n- Fix: Disable static NewGRFs when non-static NewGRFs query them in the context of network games. This makes it impossible for static NewGRFs to disable non-static NewGRFs and 'bad' things happening because the non-static NewGRF does not know about the static NewGRF (r13576)\n- Fix: Properly count number of non-north housetiles [FS#2083] (r13518)\n- Fix: Incorrect usage of strtoul (r13508)\n- Fix: Clear the memory for the new AI during the loading of a savegame so it does not try to execute commands generated in a different savegame, which could be resulting in the AI trying to give orders to stations that do not exist (r13505)\n- Fix: Drawing of zoomed out partial sprites could cause deadlocks or crashes (r13502)\n- Fix: First determine where to *exactly* build a house before asking a NewGRF whether the location is good instead of possibly moving the house a tile after the NewGRF said the location is good (r13489)\n- Fix: Track was not removed on company bankruptcy when there was a ship on lower halftile (r13488)\n- Fix: Let ships also navigate on half-tile sloped watery rail tiles (r13485)\n- Fix: Division by zero when one would press 'd' (skip order) when there's no order (r13409)\n- Fix: Do not crash when resolving vehicle sprite groups with zero sprites (r13397)\n- Fix: In the purchase list, CB36 for capacity was not called for the first part of rail and road vehicles (r13385)\n- Fix: Loading of very old OpenTTD savegames was broken (r13373)\n\n\n### 0.6.1 (2008-06-01)\n\n- Fix: Industry tiles would sometimes tell they need a 'level' slope when they do not want the slope (r13348)\n- Fix: Attempts to make the old AI perform better (r13217, r13221, r13222)\n\n\n### 0.6.1-RC2 (2008-05-21)\n\n- Fix: Do not send rcon commands of the server to the first client but do directly execute those on the server (r13137)\n- Fix: For multiheaded engines, halve power and running cost when used instead of when loading, to allow callback values to work properly (r13074)\n- Fix: Loading of TTDP savegames with rivers in them [FS#2005] (r13066)\n- Fix: Update build industry window when raw_industry_construction setting is modified (r13060)\n- Fix: Revert changes to multihead engine weight -- the original values were correct (r13023)\n- Fix: Debugging was not possible with MSVC 2008 (r12996)\n- Fix: List used for sorting GRFs was not freed (r12993)\n- Fix: Default difficulty settings were different to TTD's original settings [FS#1977] (r12951)\n- Fix: All vehicles would be available when an original scenario would be played [FS#1982] (r12948)\n- Fix: Keep only first 15 bits for non failed callback results (r12947)\n- Fix: Reading/modifying invalid data under some circumstances (r12943)\n- Fix: Minor errors related to industries accepted/produced cargo (r12933)\n- Fix: Town rating was affected even after the test run (r12920)\n- Fix: Flood road tiles even when there are road works in progress [FS#1965] (r12919)\n- Fix: Do not initialise Station struct with tile=0, buoys will never change that value [FS#1960] (r12915)\n- Fix: Game crash when a spectator/server tried to show an engine with no owner when a NewGRF requested a specific variable (r12914)\n- Fix: Report reverse sprite status (FD/FE) to NewGRF for manually toggled vehicles (r12910)\n- Fix: Vehicles going twice to a depot when the automatic service interfered with the current order [FS#1985] (r12629)\n\n\n### 0.6.1-RC1 (2008-04-26)\n\n- Fix: Vehicle groups, engine replacement rules and player/company names were not properly reset/freed after bankrupt (r12906)\n- Fix: Remove trams from savegames saved in OpenTTD without tram support, it is better than to simply crash [FS#1953] (r12904)\n- Fix: GCC on FreeBSD does not support -dumpmachine causing configure to fail. Use g++ instead [FS#1928] (r12876)\n- Fix: Make the town rating tests use less memory and much quicker (r12859)\n- Fix: Usage of AutoPtr made (trying to) build stuff very (time) expensive (r12857, r12855)\n- Fix: Ensure that prop 25 is set for all vehicles in the consist before other properties as it could cause desyncs (r12856)\n- Fix: Too much catenary was drawn about tunnel entrances, middle bridge pieces and non-rail station tiles (r12853, r12852)\n- Fix: Use YAPF for fairly old savegames from before YAPF was introduced (r12845)\n- Fix: The industry tick trigger should only be triggered once every 256 ticks, not every tick... Also bail out of the triggers a little earlier if you know they are not going to happen anyway (r12844)\n- Fix: Inconsistent use of 8/15-bitness of NewGRF callback results with respect to TTDP's implementation of the specification (r12819, r12818, r12759)\n- Fix: Possible out of bounds array access (r12809)\n- Fix: Enforce autorenew values range in command (r12808)\n- Fix: Vehicles could break down during loading and keep loading. The intention of the break down code is not to break down when having zero speed, therefore break downs now do not happen when loading [FS#1938] (r12795)\n- Fix: [OSX] In some rare cases when using an uncalibrated monitor the system colour space could not be retrieved. Show an error when this happens instead of just trying an assertion (r12776)\n- Fix: Slope checking for NewGRFs failed (r12759)\n- Fix: Check the TILE_NOT_SLOPED flag of the _north_ tile of multi-tile houses to decide if autoslope is allowed (r12717)\n- Fix: Do not move windows below the toolbar on resizes unless they would go behind the toolbar [FS#1904] (r12714)\n- Fix: Increase default sound buffer size only for Vista [FS#1914] (r12708)\n- Fix: Do not crash very hard on unrecognised savegames, just go back to the intro menu instead (r12707)\n- Fix: In some cases a news messages would not be shown [FS#1906] (r12683)\n- Fix: Removing road pieces from a town gave you twice the intended penalty [FS#1920] (r12682)\n- Fix: When a road vehicle has a tram only stop multiple times in a row in its orders, only the first one would be skipped [FS#1918] (r12678)\n- Fix: Colour remaps on station sprites only worked for company colours [FS#1902] (r12674)\n- Fix: Remove buggy buoys at tile 0 from old TTDP savegames (r12642)\n- Fix: Possible NULL pointer dereference when reading some NewGRF data [FS#1913] (r12637)\n- Fix: Infinite loop in case your compiler decides that enums are unsigned by default (r12622)\n- Fix: The convert signal button disallowed signal dragging when the signal GUI was closed (r12577)\n- Fix: Binding to a specific IP could cause OpenTTD to not register properly with the masterserver if one has multiple external interfaces (r12574)\n- Fix: The function min() has 32bit arguments, clamping of 64bit values did not work (r12572)\n- Fix: Towns could not terraform when inflation raised terraform prices enough (r12564)\n- Fix: Do not affect town rating change by the order in which we examine stations (r12561)\n- Fix: Redraw the signal GUI when the signal drag density changes in the patch settings and vice versa (r12553)\n- Fix: Do not install scenarios into the current user's homedir when running 'make install', that is silly. Simply always install scenarios system wide instead (r12542)\n\n\n### 0.6.0 (2008-04-01)\n\n- Fix: Final formatting of some string codes from NewGRFs was not done correctly [FS#1889] (r12488)\n- Fix: Timetable times for aircraft were always doubled [FS#1883] (r12477)\n- Fix: Remove broken endian-dependent code and unnecessary rgb to bgr swapping [FS#1880] (r12453)\n- Fix: Do not 'disable' the drawing of autorail overlays when the tile is 'error'-marked (red pulsating selection) [FS#1871] (r12439)\n- Fix: Plural rule for Icelandic was wrong (r12417)\n\n\n### 0.6.0-RC1 (2008-03-26)\n\n- Feature: Show whether a town is a 'city' in the town description title bar (r12391)\n- Feature: Increase house animation frame number from 32 to 128 (r12347)\n- Fix: Loading of TTD savegames (r12399, r12401)\n- Fix: Vehicle lists related to stations not closed when the station is deleted [FS#1872] (r12393)\n- Fix: Trams failing to turn on bridge heads/tunnel entrances [FS#1851] (r123890)\n- Fix: Train could break apart when reversed while partially in a depot [FS#1841] (r12386, r12384)\n- Fix: Non-breaking spaces should not be broken (r12385)\n- Fix: Check return of AfterLoadGame for success or failure when loading TTD games [FS#1860] (r12383)\n- Fix: Use 'items' unit for batteries, fizzy drinks, toys and bubbles in total cargo tab [FS#1864] (r12382)\n- Fix: The number of houses was not computed right [FS#1835, FS#1535] (r12381)\n- Fix: Update train acceleration and max speed after setting cached value to ensure the correct max speed is used with disabled real acceleration (r12380)\n- Fix: Refresh vehicle details window when cached values are updated (r12378)\n- Fix: Set cached value for vehicle property 25 before other cached values [FS#1854] (r12377)\n- Fix: Do not close a dropmenu when clicking on a dropdown widget (r12374)\n- Fix: Windows music driver fails if path is too long or if containing non-latin chars [FS#1849] (r12373, r12372)\n- Fix: Do not let window hide behind the main toolbar after resizing the screen [FS#1823] (r12371)\n- Fix: Close language drop down when parent window is clicked/closed [FS#1853] (r12370)\n- Fix: Reset train speed limits when _patches.realistic_acceleration changes (r12369)\n- Fix: Commands were sent to clients waiting for map download causing 'executing command from the past' error [FS#1650] (r12367)\n- Fix: Do not allow building 'zero' road bits (r12363)\n- Fix: Randomise variable 8F only once per callback 28 (r12362)\n- Fix: openttdd.grf was using the wrong colours for glyphs due to a grfcodec bug (fixed in grfcodec 0.9.10 r1837) (r12360)\n- Fix: Some callback-results were treated as 8 bit, when they were 15 bit, and vice versa (r12352, r12358)\n- Fix: Do not try to flood water tile [FS#1836] (r12350)\n- Fix: NTP skipped junction just after bridge end (r12348)\n- Fix: Remove duplicated and inconsistent code wrt. autoreplace with rules in both vehicles' group and ALL_GROUP [FS#1748, FS#1825] (r12346)\n- Fix: Do not try to restore backupped timetable when timetabling is disabled [FS#1828] (r12345)\n- Fix: Slow helicopters never got the 'chance' to finish the landing routine (r12343)\n- Fix: GRM buffer for cargoes was incorrect size [FS#1827] (r12341)\n- Fix: Recalculate cached train data after clearing reversing flag when entering depot (r12339)\n\n\n### 0.6.0-beta5 (2008-03-04)\n\n- Feature: Vehicle variable FE bit 5, 6 and 8 [FS#1812] (r12331, r12330)\n- Feature: Support loading full range of 0xD0xx NewGRF strings which includes 0xD000 to 0xD3FF (r12316)\n- Feature: Ability to change aircraft speed factor, from so called 'realistic' (matching other vehicles) (1/1) to original TTD speed (1/4) (r12293, r12294)\n- Change: Update readme about where openttd looks for files (r12321)\n- Fix: Do not pause/unpause the game when showing load/save windows when the game is paused due to missing GRFs [FS#1733] (r12336)\n- Fix: Disallow building level crossings over one-way roads as this allowed competitors to remove the one-way state [FS#1819] (r12329)\n- Fix: Wrong Y pillar specified for girder with arch bridge (r12328)\n- Fix: Vehicles could be sorted in a wrong order when a vehicle name changed - cached name was not invalidated (r12324)\n- Fix: Vehicle sorting by name was broken, it was comparing the same string (when caching was not used) [FS#1821] (r12323)\n- Fix: Endian issue when saving/loading group owner (r12322)\n- Fix: Wrong transparency options could be saved after toggling all [FS#1817] (r12320)\n- Fix: Map string IDs that are embedded from other strings [FS#1815] (r12317)\n- Fix: Include prop 25 data for all train parts, not just those that carry cargo (r12314)\n- Fix: YAPF and NTP did not apply penalty for uphill tracks on steep slopes (r12313)\n- Fix: Restore timetable from backupped orders and add group ID to the backup [FS#1549] (r12296)\n- Fix: Do not draw trees nor lamps between tram tracks (r12290) [FS#1807]\n- Fix: [Windows] Do not create save dir on install (r12269)\n- Fix: Autoreplace did not update vehicle index for timetable window [FS#1805] (r12261)\n- Fix: GetProductionAroundTiles() may fail if only the second production slot exists (r12258)\n- Fix: Town variables 0x9E to 0xAD (company ratings) returned wrong values (r12247)\n- Fix: Typo resulting in no players are given the engine preview offer (r12244)\n- Fix: Mac OSX bundle display name should be 'OpenTTD' [FS#1798] (r12234)\n- Fix: [NewGRF] Support using any base price for rail and road vehicles' running cost, show running cost of wagons if available (r12209)\n- Fix: When loading a savegame fails, do not start creating a new game, just go straight back to the intro screen (r12202)\n- Fix: Force AI to build rail or road instead of bridges if possible, so it does not build bridges everywhere (r12200)\n- Fix: 'Transparent buildings' now only toggles buildings, so show tick when buildings are transparent [FS#1789] (r12198)\n- Fix: Show correct last year profit when the train had negative income [FS#1788] (r12197)\n- Fix: There can be oil rigs at map borders, do not set water class for them [FS#1787] (r12195)\n- Fix: Do not start overtaking if the RV reaches wrong-way one-way-road in the next tiles (r12191)\n- Fix: Assert when trying to play tile sound at NW border of map (placing buoys, levelling land) [FS#1784] (r12186)\n- Fix: Take into account possible loan when AI is deciding which bridge to build, so it will not build wooden bridges every time (r12184)\n\n\n### 0.6.0-beta4 (2008-02-18)\n\n- Feature: Allow buttons to resize in NewGRF settings window (r12172)\n- Feature: Change colour of autorail and autoroad selection when Ctrl is pressed (r12167)\n- Feature: Separate catenary transparency settings from building transparency settings (r12103)\n- Feature: Allow locking individual transparency settings so they will not be changed by pressing 'x' (r12102)\n- Feature: Add some missing VarAction2 variables (r12124)\n- Feature: Make snow appear on rail tiles dependent on track height, not on height of the lowest part of the tile (r12098)\n- Feature: [NewGRF] Specify the purchase, rail and road description of a bridge (r12069)\n- Feature: [NewGRF] Add support for var 12, Variational Action 2 (r12045)\n- Feature: Allow trees on shore (r12029)\n- Feature: Invisible trees are now separate from the building concept (r12022)\n- Feature: Add support for passenger engine designation for AI-use, NewGRF property 0x08 for trains (r12019)\n- Feature: Show all cargo sources (en-route from) in the station view cargo waiting list instead of just one (r11990)\n- Feature: [NewGRF] Resizable industry view window on callback 3A (r11987)\n- Feature: [NewGRF] Implement var 8F (random bits) during callback 28 [FS#1697] (r11985)\n- Feature: [NewGRF] Add support for Action 0D, var 13: information about current map size (r11961)\n- Feature: Support Action5 type 0D (newwater) (r11947)\n- Feature: Allow building bridge heads on more slopes (r11937)\n- Feature: [NewGRF] Add support for Rivers. Rivers can currently only be placed with-in the scenario editor (r11926, r11938, r11949, r12071)\n- Feature: Generate.vbs script to allow project files generation for users unable to run generate bash script (r12123)\n- Feature: Sort the strings in languages dropdown (r11886)\n- Codechange: Drop MSVC 2003 support (r11979)\n- Fix: Test purchase list loading/loaded sprites instead of unconditionally returning a possibly non-existent sprite (r12180)\n- Fix: Return correct bridge price for AI when DC_QUERY_COST is set [FS#609] (r12171)\n- Fix: When drag&drop mode was cancelled by keyboard input, depot/group window was not updated [FS#337] (r12166)\n- Fix: Buffer overflow when drawing scrolling news [FS#1652, FS#1773] (r12165)\n- Fix: If a train is 'stopping' when entering a depot, do not let it leave again [FS#1705] (r12163)\n- Fix: Towns should not build over houses owned by another town [FS#1757] (r12162)\n- Fix: Towns will no longer build houses > 1x1 there where should be road (with 2x2, 3x3 grid town layouts) (r12161)\n- Fix: Remove the arbitrary limit of 64 waypoints per town [FS#1744] (r12160)\n- Fix: Chance16I was now biased towards zero - round to nearest now (r12156)\n- Fix: Adjust aircraft slowing algorithm (r12144)\n- Fix: Callback 0x3D always gets a cargobit in var 0x18, independent of grf version [FS#1766] (r12142)\n- Fix: Do not allow adding tram to rail-road crossing when there is a vehicle on it (r12138)\n- Fix: Show cargo capacity for articulated vehicles correctly in the purchase list. Multiple cargo types can also now been shown [FS#1769] (r12137)\n- Fix: With mammoth trains disabled, maximum train length was limited to 9 (r12131)\n- Fix: Use tile index 0 for planes in the air, so it cannot have an invalid tile index [FS#1745] (r12109)\n- Fix: X/Y axis swap for station tiles in GetNearbyTile() was wrong way around [FS#1753]( r12108)\n- Fix: Loading older savegames fixes (r12096, r12097)\n- Fix: When a company bankrupts, remove drive-through road stops, ship depots and buoys too. Update owners of water and road [FS#1703] (r12095)\n- Fix: Do not set station owner for buoys when merging company (r12093)\n- Fix: Keep production level within delimited boundaries, while using var result 0D/0E and than multiplying/dividing it [FS#1755] (r12092)\n- Fix: Assert when loading savegame with wrong tiletype at south map borders (r12088)\n- Fix: Check overrides only for industries when mapping NewGRF entities to 'real' entities [FS#1747] (r12086)\n- Fix: Update waypoint signs when changing language (r12080)\n- Fix: Use search paths when opening console scripts (r12079)\n- Fix: When reusing a renamed deleted waypoint, keep the new name (r12076)\n- Fix: Make docks at sea flood neighboured tiles (r12072)\n- Fix: Possible deadlock when there are no houses available to build at given tile (r12062)\n- Fix: Houses with zero probability could be built (r12062)\n- Fix: Do not clear tiles when the town will not be able to build any buildings anyway (r12060)\n- Fix: Allow building 2x2 building on slopes if not explicitly forbidden (r12060)\n- Fix: It was possible to build 2x1 and 1x2 buildings on slopes even if it was not allowed (r12060)\n- Fix: Teach NPF where road vehicles and trams can reverse (r12058)\n- Fix: Ships can drive through opponents' ship depots (r12058)\n- Fix: Slowdown train when approaching 90deg turn when 90deg turns are forbidden (r12057)\n- Fix: Enable YAPF to start searching inside a wormhole [FS#1704] (r12056)\n- Fix: Another way to fix AI trying to build road through depots (r12055)\n- Fix: The cargo translation table was loaded at the right time, but all the other global variables were now loaded too early [FS#1737] (r12052)\n- Fix: Random_func broke for desync debug (r12050)\n- Fix: Memset on multibyte array with wrong byte count (r12049)\n- Fix: Crash when centring on a vehicle (aircraft) that is outside of the map [FS#1741] (r12044)\n- Fix: Allow building transmitters and lighthouses on tree tiles [FS#1736] (r12043)\n- Fix: Reimplement how rivers and canals are stored in the map, allowing the sea/river/canal status to also be stored for buoys, docks, locks and depots. All these are now allowed on rivers and removal of them will revert to the original water type [FS#1676] (r12042)\n- Fix: Change ownership of or remove statues when merging/bankrupting companies (r12038)\n- Fix: For station tiles, only get road types for road stops (r12036)\n- Fix: Teach YAPF where trams can reverse, and where not [FS#1702] (r12035)\n- Fix: Do not show train speed as zero after loading paused game (r12033)\n- Fix: When removing a statue, remove town statue flag for the statue owner, not current player (r12032)\n- Fix: Prevent towns from removing or claiming ownership of player owned tiles when growing [FS#1689,FS#1719] (r12031)\n- Fix: In one case trees could spread under bridges (r12024)\n- Fix: Put a better suited text in the quit-dialogue [FS#1690] (r12023)\n- Fix: Restore initial intent on the invisible tree while transparent building patch setting [FS#1721] (r12018)\n- Fix: When you have more than 9 network interfaces you'll enter the wonderful world of overflows (r12017)\n- Fix: Better work on strings in regard to gender [FS#1716] (r12015)\n- Fix: Lighthouses and transmitters were never supposed to be build on a slope (r12014)\n- Fix: When modifying watered tiles, mark neighboured canals and rivers dirty in more cases (r12013)\n- Fix: Enable TownRatingTestMode during cost estimation with 'shift'-key (r12012)\n- Fix: Do not consider one-corner-raised-shores to be watered tiles from all sides [FS#1701] (r12011)\n- Fix: Avoid loading sample.cat if it 'looks' incorrect, and avoid later null pointer dereferences by moving volume lookup deeper [FS#1707] (r12009)\n- Fix: Possible reading from an invalid pointer [FS#1717] (r12005)\n- Fix: When skipping Action 11 or 12, also skip belonging sprites (r12001)\n- Fix: Do entrance-slope-check for every tile of railstations (r11999)\n- Fix: Possible remote assert by setting bit 6 of p1 for CMD_REMOVE_ROAD [FS#1692] (r11998)\n- Fix: Update train statusbar when stopping from zero speed [FS#1706] (r11996)\n- Fix: Resize station/road stop/dock/airport construction windows if cargo acceptance list is too long (r11993)\n- Fix: When building two rail stations close to each other (with control) so they looked like one long track trains would see them as one (r11992)\n- Fix: Resize autoreplace window to fit purchase information text if it is too large (r11989)\n- Fix: Build system ignored changes to table/control_codes.h which require strgen to be rebuilt (r11986)\n- Fix: Also draw corner shores under rail tracks (r11984)\n- Fix: Use unicode glyph mapping to fix up missing/shuffled sprites in original data files instead of shuffling or skipping sprites directly [FS#1698] (r11981)\n- Fix: Industries using results 0D/0E on callback cb29/35 were a bit too eager to close down (r11976)\n- Fix: Shore and sea tiles under bridges were converted to canals in old savegames [FS#1684] (r11974)\n- Fix: Use grass tiles for corner shores, if shores got replaced by ActionA [FS#1683] (r11973)\n- Fix: Old AI should not build fast planes with a small airport in orders(r11972)\n- Fix: MP_ROAD can have railbits too - OPF searching over rail of diffen t owner behind crossing (r11967)\n- Fix: OPF was searching through depots and normal road stops [FS#1403, FS#1506] (r11966)\n- Fix: Tropic zone data was returned incorrectly [FS#1685] (r11964)\n- Fix: NewAI could not build any road vehicles when there were any tram grfs loaded (r11958)\n- Fix: Disallow building locks and docks on rapids [FS#1675] (r11956)\n- Fix: Do not allow modifying roadbits when other roadtypes would need different foundation (r11953)\n- Fix: Loading of very old savegames was broken (r11951)\n- Fix: Slope detection of bridge ramps. Helps YAPF and Trolly (r11946)\n- Fix: [Windows] FileExists() failed for non latin paths (r11945)\n- Fix: Allow building drive-through road/tram stops at road/tram track that has no owner (r11944)\n- Fix: 'BRIDGE_TOO_LOW_FOR_TERRAIN'-check was wrong for steep slopes (r11936)\n- Fix: [Autoreplace] Single to dualhead locomotive replace failed when player had enough money to replace and refit one but not enough to refit the last one as well [FS#1624] (r11929)\n- Fix: [Autoreplace] Autoreplace could refit train engines to the wrong cargo type if the old engine had no cargo capacity and the new one had (r11928)\n- Fix: Loading old, pre savegame version 2, savegames (r11925)\n- Fix: AI was reading wrong tile slope while building road bridge (r11917)\n- Fix: Set correctly crossing state after train reversal, train leaving crossing, train crash (r11900)\n- Fix: Segmentation faults/wrong frees due uninitialised memory in the AI [FS#1658] (r11887)\n- Fix: Assert when trying to remove rail from a house or industry tile [FS#1663,FS#1665-6-7-8,FS#1680,FS#1686-7-8 FS#1715 FS#1742 FS#1771 FS#1776](r11883)\n- Fix: Crash in MP in vehicle group window if the currently selected group is deleted by another player (r11878)\n- Fix: Another way to crash competitors' train in a station (r11877)\n- Fix: Automatically sending aircraft to depot for autoreplace/renew is now triggered by the correct conditions (r11875)\n- Fix: EngineHasReplacementForPlayer() did not look in ALL_GROUP (r11872)\n- Fix: Do not update signals after each tile when building/removing a large block of track/signals/station [FS#1074] (r11871)\n- Fix: Slow down train when approaching tile we cannot enter in more cases (r11870)\n- Fix: Do not make crossing red when we cannot enter it in any case (r11870)\n\n\n### 0.6.0-beta3 (2008-01-16)\n\n- Feature: Replaced fixed size custom name array. Names are now attached to their object directly and there is no limit to the amount of names (r11822)\n- Feature: Add drag-n-drop support to the raise/lower land tools. Land is raised/lowered at the start and the rest of the area levelled to match (r11759)\n- Feature: Add support for NewGRF's train 'tilt' flag. Trains with tilt capability (specific details are per NewGRF set) will be given a 20% speed limit bonus on curves (r11741)\n- Feature: Added sorting for cost, running costs and speed to road vehicles and ships build windows (r11710)\n- Feature: List neutral stations where the player has service in the station list too (r11670)\n- Feature: Check whether (some) characters are missing in the current 'font' for the 'currently' chosen language and give a warning when that does happen (r11646)\n- Feature: Support shore replacement via Action 5 (r11726)\n- Fix: When two NewGRFs 'fight' to define the same cargo it could happen that the strings are defined by one cargo and the 'action2' by another and when one assumes that both come from the same NewGRF [FS#1559] (r11862)\n- Fix: Recompute town population when removing a 'newhouses' grf, or when loading a game with missing 'newhouses' grfs [FS#1335] (r11855)\n- Fix: Road vehicle count was incorrect in network lobby window (r11844)\n- Fix: Mark dirty canal tile even in diagonal direction from flooded tile, draw correctly canal next to half flooded rail tile (r11843, r11838)\n- Fix: At least one instance of dmusic driver is needed for it to be registered and usable (r11826)\n- Fix: An articulated road vehicle could split up when it turned around at a corner and then would enter a drive through station at the next tile [FS#1627] (r11825)\n- Fix: Switch _screen to the output buffer and disable usage of 32bpp-anim animation buffer during giant screenshots [FS#1602] (r11813)\n- Fix: Do not crash trains when leaving depot to a very long track [FS#716] (r11802)\n- Fix: Take town rating into account when testing if a command can be executed [FS#1616] (r11795)\n- Fix: Reversing a train when loading at a station with an adjacent station in the same axis crashed [FS#1632] (r11794)\n- Fix: Group names got not deallocated in the command test run [FS#1614] (r11743)\n- Fix: Run window tick events when paused, so that news pop-ups and the about window still progress. For other windows the events are ignored when paused [FS#1319] (r11742)\n- Fix: Modify and possibly discard key events for code points in the unicode private use area [FS#1610] (r11740)\n- Fix: Set the new scroll position after zooming in instead of before, as the zoom will cancel it out [FS#1609] (r11739)\n- Fix: Do not reset loading indicator IDs when only reloading NewGRFs [FS#1574] (r11735)\n- Fix: Elrail merge gave elrail, monorail & maglev unintended speed bonuses for curves, as the bonus was based on the railtype index. The bonus is now specified by a property of the railtype (r11732)\n- Fix: Clear sprite override data before performing NewGRF wagon attach callback. This stopped the callback working for autoreplace and when moving wagons from train to train in a depot [FS#1582] ( r11731)\n- Fix: If there are no houses that can be build in a specific year yet, force the houses with the earliest introduction year to be available [FS#1577] (r11727)\n- Fix: Make it impossible (for users) to circumvent the length checking of the NewGRF 'allow wagon attach' callback by moving several wagons at a time (r11724)\n- Fix: Do not put more than one Random() in function calls because parameter evaluation order is not guaranteed in the C++ standard [FS#1561] (r11716)\n- Fix: Do not allow player inauguration date on scenarios to be bigger than current year [FS#1569] (r11714)\n- Fix: Add more house string id ranges to MapGRFStringID so NewGRFs use the proper string ids (r11712)\n- Fix: Do not allow refitting flooded (destroyed) vehicles (r11707)\n- Fix: Trains could have sprites with wrong direction when reversing, also was inconsistent with save/load process [FS#1557] (r11705)\n- Fix: When removing buoys, return to water or canal depending on their owner (r11666)\n- Fix: Animation information should not be copied from original industry tile spec, while doing an action 00, industry tile, prop 08 (r11665)\n- Fix: Do not allow modifying non-uniform stations when non-uniform stations are disabled [FS#1563] (r11659)\n- Fix: 'Initialised' NewGRFs could still be deactivated in the later 'activation' pass (r11650)\n- Fix: Vehicles were still followed when sold [FS#1541] (r11632)\n- Fix: Many viewports could crash the scenario editor [FS#1527] (r11629)\n- Fix: Popping from text reference stack must be done in a precise order. But some compiler (MSVC) over optimised it and inverted this order [FS#1532] (r11627)\n- Fix: There were still some cases where one could not build a tram track, but the tram could become blocked [FS#1525] (r11621)\n- Fix: Do not make crossing red behind depot the train is entering [FS#1531] (r11619)\n- Fix: Buoys are just waypoints, so do not allow load/unload/transfer for them (r11618)\n- Fix: Sometimes large values could go off the chart [FS#1526] (r11616)\n- Fix: Temperate banks can only be built in towns (over a house) (r11615)\n\n\n### 0.6.0-beta2 (2007-12-09)\n\n- Feature: Allow setting a default password for new companies in network games (r11556)\n- Feature: Signal selection GUI for the ones that really like to use that over CTRL (r11547)\n- Feature: Make the bridge selection window resizable (r11539)\n- Feature: [OSX] Added support for using Quartz instead of Quickdraw in windowed mode on OS X 10.4 and higher (r11496)\n- Feature: Allow to resize on creation the smallmap gui in order to show all the types industry available, allow to enable/disable individually or all at once, the industries shown on small map (r11474)\n- Codechange: Send and store the passwords a little more secure to/in the servers (r11557)\n- Fix: Wrong error messages were shown when trying to build some industries in the scenario editor [FS#1524] (r11609)\n- Fix: [NewGRF] Do not trigger industries, but only the industry's tiles (r11608)\n- Fix: Wrong count of Kirby trains when a ship was build [FS#1482] (r11605)\n- Fix: Tiles were not marked dirty in some cases when removing a lock or flooding (r11582, r11604)\n- Fix: Make price for railtype conversion more realistic; conversion should not be more expensive than removing and rebuilding [FS#1481] (r11603)\n- Fix: Do not allow changing network only patches settings from console when not in network game (r11594)\n- Fix: IsSlopeRefused() result was half wrong causing banks to be built on wrong places (r11590)\n- Fix: When ship depots got destroyed they always returned to water, even when it should have been canals [FS#1514] (r11589)\n- Fix: The one way road button was not reset on abort (r11587)\n- Fix: Windows could get completely missing when one resized the window to something very small [FS#1484] (r11583)\n- Fix: Invalidate 'list trains/roadvehs/ships/planes' widgets when station part is added/removed so it does not become glitchy (r11577)\n- Fix: Flood train stations when there are no trains on border tiles too (r11574, r11570)\n- Fix: Reinitialise windows system before loading a savegame because not doing so can cause crashes [FS#1494] (r11572)\n- Fix: Road vehicle getting to the wrong side of a station when trying to overtake in there [FS#1493] (r11571)\n- Fix: Full paths sometimes did not work correctly [FS#1480] (r11568)\n- Fix: Break the chain before moving a vehicle after another in the same chain instead of causing an infinite loop [FS#1512] (r11566)\n- Fix: Aircraft sometimes stopped mid-air when the airport got destroyed [FS#1503] (r11562)\n- Fix: Group list was not updated when removing the last group [FS#1504] (r11561)\n- Fix: Overflow when drawing graphics with high company values [FS#1505] (r11558)\n- Fix: If ever the air/heliport is suddenly not available while the 'chopper' is descending, just go back into flying instead of stopping mid air [FS#1496] (r11546)\n- Fix: Cargo translation was sometimes done when it should not be done [FS#1501] (r11544)\n- Fix: [OSX] Detect statvfs at runtime (based on OSX version) instead of compile time. This should prevent a crash on OSX 10.3 with the precompiled binaries (in the load/save windows) (r11541)\n- Fix: [OSX] Do not try to compile the quartz video driver on OSX 10.3 as it will fail (r11540)\n- Fix: Do not do all kinds of 'updates' for town, waypoint, station and other signs when you have not converted the map to the 'current' format as that means you are going to read data in the 'old' format when you assume that it is in the 'current' format, which is eventually going to break (r11525)\n- Fix: Assertion when tram reversed at a station [FS#1485] (r11524)\n- Fix: The scrollbar of the network gui could run out of bounds (r11522)\n- Fix: [OSX] The cocoa video driver let the mouse cursor escape the window when using rmb scrolling (r11520)\n- Fix: Signs totally illegible when transparent signs is turned on and zoomed out more than one level [FS#1463] (r11507)\n- Fix: Selling vehicles could cause the window of others to scroll to that location [FS#1471] (r11506)\n- Fix: Do not do standard production change if callbacks 29/35 failed, disable smooth economy for industries using callbacks 29/35 (r11502)\n- Fix: Two small layout issues with the vehicle grouping GUI (r11478)\n- Fix: A road vehicle must not show that it is driving max speed when it is standing still waiting for the vehicle in from of it [FS#1451] (r11477)\n- Fix: OpenBSD has ALIGN already defined, causing compilation failures [FS#1450] (r11467)\n- Fix: Operator priority problem resulting in problematic autoroad placement in some cases (r11466)\n\n\n### 0.6.0-beta1 (2007-11-18)\n\n- Feature: Make news messages related to the industry (production) changes better configurable; you can now disable news messages popping up for industries you are not servicing (r11442)\n- Feature: When sorting stations by cargo sum, only sum the cargoes that are selected in the filter (r11437)\n- Feature: Show all players who have shares, not just the first two (r11435)\n- Feature: Make OpenTTD's sprites replaceable using Action 5 and make replacing contiguous subsets of sprites in for some types possible in Action 5 (r11433)\n- Feature: Allow town-bridges to be build on slopes (r11395)\n- Feature: Auto-road; same as auto-rail, but for road and trams and only on X and Y direction (r11339)\n- Feature: OpenTTD version checking for NewGRFs. This allows NewGRFs to do something different for different versions of OpenTTD, like disabling it for too low versions or loading different graphics (r11330)\n- Feature: Half tile- and anti-zig-zag-foundations (r11319)\n- Feature: Control-Clicking the Centre Main View button on the vehicle window allows the main viewport to follow the chosen vehicle (r11304)\n- Feature: User customisable faces (r11269)\n- Feature: Make more advanced rail types more expensive to build (r11265)\n- Feature: Implement the 'moreanimation' feature of TTDP, so we can properly support newindustries (r11228)\n- Feature: [NewGRF] Add support for newindustries (r11204)\n- Feature: Sort the NewGRFs by name, making searching a specific NewGRF a lot easier (r11175)\n- Feature: Add possibility to show the bounding boxes of sprites using CTRL-B so one can get a better understanding of the used bounding boxes to fix the glitches that still exist. Note that showing the bounding boxes is not glitch free; it only gives you some knowledge where the bounding boxes are (r11174)\n- Feature: Remove the arbitrary limit of 10 articulated parts for a vehicle (r11120)\n- Feature: Autoslope, changing of slopes of tiles that already have something build on them. Does not work for tiles of houses/industries/stations that do not allow autosloping (r11107)\n- Feature: Support for encapsulating files into a .tar file; you can pack all files in your data/ directory in how ever many .tar files you like, keeping the directory-structure equal to the unpacked version, and OpenTTD can handle them just like the files were unpacked (r11106)\n- Feature: Allow slopes under statues (r11069)\n- Feature: [OSX] Added more options for right click emulation (controlled from the interface tab in the patch window) (r10996)\n- Feature: Allow building and removing tracks and signals when there is a train on a parallel diagonal track that does not interact with this one (r10922)\n- Feature: Added TileHeight to the Land Area Information tool [FS#653] (r10878)\n- Feature: [OSX] OpenTTD will now pick the same language as finder is set to if no config file is found (r10851)\n- Feature: Provide an infrastructure to have resizable windows that are smaller than the default window size. Useful for playing on very low resolution systems (r10704)\n- Feature: Support for autosave_on_exit in the console, so dedicated servers can use it (r10658)\n- Feature: Add a soft limit of 4096 'entities' in a station's waiting queue and a hard limit of 32768 so (malicious) people cannot cause a 'denial of service' attack by filling cargo lists (r10555)\n- Feature: Replace all the windows for Industry building by a more flexible one (r10496)\n- Feature: Support for 'prospecting' raw industries, i.e. you pay an amount of money and then it might (with a given chance) build a raw industry somewhere on the map (r10451)\n- Feature: Automatic signal completion, enabled by pressing CTRL when dragging signals. Signals will continue following track until an existing signal, junction or station are reached. This currently replaces the existing use of CTRL-drag for changing existing signal type (r10437)\n- Feature: New sign editor features including switching to previous/next sign (r10401)\n- Feature: Disallow (in the GUI) the building of infrastructure you do not have available vehicles for. This means that the airport building button is disabled till you can actually build aircraft. The game itself will not disallow you to build the infrastructure and this 'new' behaviour can be overridden with a patch setting [FS#669] (r10353)\n- Feature: Add the possibility of automatically filling in timetables based on the times from the first (or subsequent) run-throughs (r10331)\n- Feature: Option to select the 'default' rail type when you start a new game or load a game. This is done either static, i.e. rail, electrified rail, monorail and maglev, or dynamic which takes either the first or last available railtype or the railtype that is used most on the map [FS#812] (r10329)\n- Feature: Give a better explanation why the loading of a savegame failed and do not crash on loading savegames that were altered by patches or branches [FS#917] (r10300)\n- Feature: A sticky button for the client list window [FS#885] (r10293)\n- Feature: Allow double-clicking on certain places: add NewGRF window, build-vehicle and town-action (r10265, r10267)\n- Feature: Loading indicator, which shows in % how full a vehicle is while loading/unloading (r10254)\n- Feature: Introduce a form of timetabling for vehicles (r10236)\n- Feature: [NewGRF] Add support for action 0F (town name generator) (r10211)\n- Feature: Add support for personal directories on Windows (r10182)\n- Feature: Add support for anti aliased typefaces via FreeType. This is configurable for each font size in the configuration settings and requires using the 32bpp blitter and suitable fonts (r10166)\n- Feature: 32 bpp sprite support and dedicated driver does not blit nor render by default. Can be overruled by user (r10121)\n- Feature: Add support for articulated road vehicles (r10097)\n- Feature: Allow moving of orders instead of removing them and readding them somewhere else [FS#828] (r10071)\n- Feature: Replace hard coded spritecache size with a configuration option, sprite_cache_size. The default size is 2MB and the value can range from 1 to 64MB. If you experience slow-downs when scrolling the map, try increasing this setting (r10042)\n- Feature: Skip to the selected order in the order list when clicking on the 'skip' button while pressing CTRL [FS#760] (r10033)\n- Feature: Sort the strings in server language dropdown and the town names dropdown (r10032, r10036)\n- Feature: Build windows of trains, road vehicles and ships can now be sorted by cargo capacity (planes already had this option) (r10024)\n- Feature: More languages flags for servers [FS#790] (r10017)\n- Feature: Allow different signal types on one tile [FS#362] (r10006)\n- Feature: Support for oneway roads (r9999)\n- Feature: Add smooth viewport scrolling. This must be enabled with patch setting 'smooth_scroll' (r9962)\n- Feature: Allow terraforming under bridges (r9950)\n- Feature: Support for trams (r9923)\n- Feature: Allow building new stations adjacent to existing stations by holding down control (r9905)\n- Feature: Add one new zoom-out level: 8 times (r9884)\n- Feature: Advanced vehicle lists a.k.a. group interface. Now you can make groups of vehicles and perform all kinds of tasks on that given group (r9874)\n- Feature: Make 'improved loading' a proper improved loading instead of loading one (semi-)random vehicle at a time. Furthermore fill multiple vehicles at once when there is enough cargo to do so (r9838)\n- Feature: Add drag and drop removal of station tiles (r9810)\n- Feature: Support for 'curvature info', Action 2 for train, variable 45 (r9803)\n- Feature: [NewGRF] Add action 1, 2 and 3 support for canals (r9797)\n- Feature: Add the possibility to choose different road patterns for towns to use (r9779)\n- Feature: Add an option to automatically pause when starting a new game (r9734)\n- Feature: Add the concept of cities. A (configurable) proportion of towns can start off larger, and will grow twice as quickly as other towns (r9667)\n- Feature: Add NewGRF Action 5 (Sprite Replacement) support for 2cc colour maps, airport, and road stop sprites (r9645)\n- Feature: Increase cargo types from 12 to 32 and enable newcargo flag in NewGRF loader (r9638)\n- Feature: Make it possible to have some control over the town growth (r9613)\n- Feature: Add list_patches console command. This shows all patches along with their current values (r9565)\n- Feature: Add more finer control to transparency options, including a new toolbar (r9563)\n- Feature: Add support for variable snow lines in the arctic climate, supplied by NewGRF files (r9371)\n- Feature: [NewGRF] Add support for newhouses (r9315)\n- Feature: [NewGRF] Add support for Action 13, which allows you to translate GRF-specific texts. The translations will only be shown if you are using a language with a GRF language id and if a string has not already been set specifically for the language you are using (r9037)\n- Feature: Translation dependent formatting of dates (r8906)\n- Feature: If an action 7/9 leads to skipping the rest of the file, disable the NewGRF if an action 8 has not been encountered yet (r8831)\n- Feature: Stop loading and disable the current NewGRF if a fatal error message in Action B is encountered. Also be more strict on the values accepted (r8830)\n- Feature: Build aircraft windows will no longer show aircraft that cannot use the airport in question (r8771)\n- Feature: Drive-through road stops (r8735)\n- Feature: Allow upgrading bridges by building a new bridge over the top (r8567)\n- Feature: Provide aircraft with vertical separation depending on their altitude and velocity (r8534)\n- Feature: When linking the terraform toolbar to the build toolbars place them side by side instead of on top of each other (r8436)\n- Feature: The vehicle build windows are now resizable in horizontal direction as well (r8331, r8336, r8338)\n- Feature: Automatically build semaphores before a configurable date, which can be set by each network player separately (r8151)\n- Feature: Increase sprite limit from 16384 sprites to 16777216 sprites (r8128, r8129)\n- Feature: Add the ability to load savegames when you do not have the exact GRF files in your list. GRF files that are found based on GRF ID (but not on matching md5sum) are used instead of disabling them. This does not affect MP games, there you still need an exact match (r8106)\n- Feature: Show the activated status of the GRF list after pressing 'apply' in the NewGRF window, instead of the local list (r8094)\n- Feature: The station list does now remember the sort settings (r8065)\n- Feature: Make it possible to override the bind address and port of a dedicated server from the command line (r7802)\n- Feature: Add command line option to prevent saving of high score and configuration on exit and a console command to manually initiate a configuration save (r7801)\n- Feature: Add support for tractive effort to 'realistic' acceleration (r7592)\n- Feature: Allow to build bridges of arbitrary rail/road combinations (including signals) (r7573)\n- Codechange: Do not allow configuration changes, that NewGRFs can directly use to change their behaviour, during network games as this can cause desyncs (r11452)\n- Codechange: Make opening a new toolbar not overlapping its parent one, by locating it under the parent, and aligned with the left side of it [FS#1310] (r11256)\n- Codechange: Do not brute force determine the first vehicle in the chain or previous vehicle, but do it by properly accounting the previous and first pointers when updating the next pointer. This gives a performance increase of about 15% when there are a lot of vehicles in the game (r11011)\n- Codechange: Cache expensive NewGRF station variables during sprite lookups/callbacks (r10509)\n- Codechange: Keep track of the origin, time of travel and accumulated feeder share (transfers) of individual pieces of cargo. This means that cargo is not thrown on a big pile when it is put in a station or unloaded at a station, however the GUI does not reflect these changes yet so you will not actually see it (r10266)\n- Codechange: Do not limit the cost of tunnels (r10248)\n- Codechange: Add new vehicle hash table for collision detection and finding vehicles on a tile. The hash area scanned is far smaller than the old hash table, which is now used for viewport updates only. This should give a significant performance improvement for games with many vehicles (r10111)\n- Codechange: Do not redraw all station tiles when cargo is added or removed if the station has no custom graphics (r10062)\n- Codechange: Add some support for NewGRF var 7D, temporary storage array (r9707)\n- Codechange: Add support for returning 'TTDPatch variables' (Action D) (r9701)\n- Codechange: Implement NewGRF callback 36, which allows changing of various properties which were previously static (r9671 and several others)\n- Codechange: Add support for multiple 'base' directories for NewGRF searching (r9560)\n- Codechange: Implement actions 1/2/3 for cargoes, callback handler and custom icon sprites (rmany)\n- Codechange: Rename the 'New <vehtype>' button of the global vehicle lists to 'Available <vehtype>' as it is a view-only list, not one from which you can purchase (rolling) stock (r8420)\n- Codechange: Remove the landscaping button from the build toolbars (r8143)\n- Codechange: [NewGRF] Do not mark as unsafe those NewGRFs that set their own parameters (via action D) and/or change only bridge sprite table layouts (action 0, property D) (r7831)\n- Fix: The CHANCE16 functions were biased; a 32768 in 65536 chance was really a 32769 in 65536 chance (r11454)\n- Fix: Do not create shores in canyons (r11438)\n- Fix: Starting OpenTTD with DOS files made it look weird out of the box (r11433)\n- Fix: Properly support genders coming from NewGRFs instead of crashing [FS#1430] (r11422)\n- Fix: Do not ignore the autorenew settings for new games when creating a new game [FS#1428] (r11415)\n- Fix: Do not do a 270 degree turn when 90 degrees is enough on a commuter airport [FS#1422] (r11408)\n- Fix: In rare cases OpenTTD could segfault when resizing and scroll the main window (r11405)\n- Fix: Manually replacing a vehicle with shared orders makes it lose it is order index and service interval [FS1384] (r11370)\n- Fix: Road vehicles must not drive through each other on bridges/in tunnels [FS#1258] (r11366)\n- Fix: When stopping a ship or aircraft, set their speed to 0 so they will not continue at the speed where they were stopped at [FS#1288] (r11365)\n- Fix: Cloning vehicles with non-standard sub-cargotypes (i.e. livery refits) failed [FS#1380] (r11362)\n- Fix: Loading too many GRFs was not handled gracefully causing crashes and such [FS#1377] (r11355)\n- Fix: Add missing elrail sprites for some rail build buttons/cursors (r11350)\n- Fix: Trees can now be planted on bare land without making it grassy, planting tree in desert does not make it grassy for the first tile-cycle and when a tree dies in desert, it no longer becomes a snowy tile for the first tile-cycle (r11244)\n- Fix: The explosion vehicles were placed too far to the south [FS#1312] (r11234)\n- Fix: One could sell vehicles that were crashed in a depot, which would still yield money/one could construct trains of crashed vehicles [FS#1307, FS#1228] (r11229, r11230)\n- Fix: Electric trains were not shown as stopped in depots when converting it from elrail -> normal rail [FS#1260] (r11167)\n- Fix: A lot of graphical glitches by changing some bounding boxes. It is not perfect yet, but a *very* good step into the right direction (r11128)\n- Fix: When autorenew is enabled and it cannot renew the vehicle anymore (because the player cannot build the engine), the ageing warnings as if autorenew is not enabled are shown [FS#553] (r11064)\n- Fix: Inconsistency between rail<->elrail conversions of different kinds of rail containing tiles (normal rail, stations, depots, etc) [FS#1182] (r11059)\n- Fix: Crash when having the Finance window opened of the player you are cheating to [FS#1177] (r11028)\n- Fix: Switching players (using the cheat) crashed on Big Endian machines [FS#1150] (r11023)\n- Fix: The canal border determination did not take oil rigs into consideration (r11022)\n- Fix: Do not display income/expenses when they do not belong to a 'valid' tile, like the money cheat/giving money [FS#1175] (r11021)\n- Fix: One could not give money when they had too much money or rather: when casting the amount of money to an int32 becomes negative [FS#1174] (r11020)\n- Fix: When determining the gender of a string, do not assume that the gender is in the front of the string when there can be case switching code at that location [FS#1104] (r10792)\n- Fix: Determining whether there is a tunnel going under the lowered area is only needed in two directions instead of all four, so take the directions (one for each axis) to the nearest border (along the given axis) [FS#1058] (r10686)\n- Fix: Graphical glitches when the 'link landscape toolbar' patch is turned on when opening one of the construction toolbars [FS#1076] (r10685)\n- Fix: Trolly AI did not know about steep slopes, and used wrong tileh in some cases [FS#1070] (r10655)\n- Fix: Be consistent with the space between the company name and the player number, i.e. always put a space between them [FS#1052] (r10627)\n- Fix: [YAPF] Ships received curve penalty for non-diagonal straight move (r10578)\n- Fix: Do not segfault when you quit in the end-of-the-game screen [FS#1020] (r10548)\n- Fix: When Cheat-Window is open and a new month happens, the window was not redrawn instantly (r10547)\n- Fix: You can now have both Available Train as Available Ship window open [FS#1026] (r10546)\n- Fix: Cargo payment rates overflow and cargo payment rates diverge from cost rates making it impossible to make any profit after a certain number of years. Both are solved by stopping the inflation after 170 years; there is absolutely no point in continuing the inflation after that as it only makes the game have overflows at some point that cannot be solved; using larger variables only delays the inevitable [FS#1028] (r10541)\n- Fix: Error dialogue was sometimes shown on all clients when a command failed instead of only the client that actually did the command [FS#1015] (r10501)\n- Fix: The network protocol check for required NewGRFs sent static NewGRFs too (r10414)\n- Fix: When landscape generating, allow for 200ms between screen updates instead of updating every 200ms. Previously slow screen updates would result in very slow map generation (r10396)\n- Fix: One could only build a limited number of stations before one had to rename them [FS#278] (r10320)\n- Fix: Acceleration not calculated properly when a train goes up a hill between tunnels [FS#786] (r10317)\n- Fix: [YAPF] Now it is no longer needed to invalidate the YAPF segment cache every tick in MP (read performance increase). Segment cost now does not contain the curves between segments. As a result the cache should be now accurate (r10302)\n- Fix: [YAPF] Assertion triggered in some special cases [FS#901] (r10301)\n- Fix: Flush stdout on dedicated server output to ensure an update of stdout [FS#775] (r10295)\n- Fix: With smooth_economy, when industry production hit 32, it stayed there for ever. Give it some chance to get out of that uber-lowness (although it is a very slim chance, at least it has one) (r10290)\n- Fix: Also age engines that are not front-engines [FS#202] (r10288)\n- Fix: Money overflow bugs in many locations [FS#723] (r10212)\n- Fix: Fix issues related to fixed names, fixed places of files/directories and application bundles [FS#153, FS#193, FS#502, FS#816, FS#854] (r10182)\n- Fix: A vehicle without visual effects is not per definition unpowered (r9802)\n- Fix: Do not assume that trains running on monorail/maglev cannot smoke/spark (r9801)\n- Fix: Play sound effects based on the engine class, not the rail type (r9800)\n- Fix: Separate engine class and engine running cost class (r9799)\n- Fix: Clone vehicles will no longer refit for free (r9689)\n- Fix: Improved loading does not use a huge amount of processing power anymore when having a lot of trains [FS#423] (r9683)\n- Fix: Truncate the NewGRF information text in the NewGRF GUI if it is too long (r9449)\n- Fix: Cancel in password queries reduces amount of players in the network game when they have not joined the game yet [FS#688] (r9378)\n- Fix: If all news-setting buttons show 'full', make the ALL-button show 'full' too (r9137)\n- Fix: Open and close messages now have their own setting, so you can hide economy changes, but do show open/close of industries [FS#525] (r9097)\n- Fix: Do not make owner signs transparent, as then you loose the information who it owns [FS#637] (r9067)\n- Fix: Store the owner of a statue, so when it gets removed, the town is notified of it [FS#638] (r9066)\n- Fix: Inactive connections are not automatically kicked, i.e. people who only open a telnet (or similar) connection to a server [FS#115] (r9038)\n- Fix: Do not select a disabled platform length/number of track count when going out of drag-drop mode [FS#450] (r8999)\n- Fix: Make an aircraft at 400 km/h go as fast as a train at 400 km/h (r8973)\n- Fix: You were unable to build roads in the scenario editor when there is no town 0, even though there are other towns (r8608)\n- Fix: Road Vehicles now can obtain a slot even if the station is very spread out [FS#577] (r8536)\n- Fix: Allow lumber mill to cut trees only when they are full grown (r8535)\n- Fix: Segmentation fault when the toolbar gets removed and you have selected one of the items in a sub menu of the toolbar (r8533)\n- Fix: Remove phantom oil rigs sometimes present in old savegames (r8485)\n- Fix: When a station is removed, vehicles do not get excessive payment any longer, as the origin TILE is now stored as long as the origin STATION for the transported cargos (r8144)\n- Fix: The game could crash when the chat key (<ENTER>) is pressed too vehemently during the join of the game. Your client's id does not exist in the clients list yet, and returns NULL (r8132)\n- Fix: Rail vehicles can no longer enter tunnels or bridgeheads with wrong railtype (r7976)\n- Fix: When path finding onto a bridge or tunnel end from previous tile (but not warping from the opposite end) check the enter direction. This fixes signal setting if a rail ends on the top of a tunnel end (r7718)\n- Fix: When following path for signals, do not skip back to the previous tile, as for tunnels and bridge ends the entering direction is wrong (r7717)\n- Fix: [YAPF] Suppress 'Train is lost' message if path finding ended on the first two-way red signal due to YAPF.rail_firstred_twoway_eol option (r7628)\n- Fix: [OPF] Signal update was incorrectly propagated (r7620)\n\n\n## 0.5.x\n\n### 0.5.3 (2007-09-15)\n\n- Fix: Possible NULL pointer dereference that could be triggered remotely (r11074)\n- Fix: Removing CMD_AUTO from some commands could remotely trigger an assertion [FS#1179] (r11040)\n- Fix: Underflow that caused overflows in the performance rating [FS#1179] (r11039)\n- Fix: [Windows] MIDI does not stop when closing openttd [FS#1164] (r11029)\n- Fix: Do not unconditionally assume that a tile has a depot (r11027)\n- Fix: Give a more correct error when building some things on tile 0 [FS#1173] (r11024)\n- Fix: Do not display income/expenses when they do not belong to a 'valid' tile, like the money cheat and giving money [FS#1175] (r11021)\n- Fix: One could not give money when they had too much money [FS#1174] (r11020)\n- Fix: Disallow buying/selling shares in your own company or a bankrupt company [FS#1169] (r11018)\n- Fix: Crash when quitting the game in one of the end score windows [FS#1218] (r11071)\n\n\n### 0.5.3-RC3 (2007-08-30)\n\n- Fix: Spectators are not allowed to issue commands (r11006)\n- Fix: Make the AI not crash when it has ships as the AI does not support them [FS#1133] (r10942)\n- Fix: Trains would not get flooded when they are at the lower part of a tile that would become a coast tile after flooding [FS#1127] (r10892)\n- Fix: Removing road with the road removal tool would also work with a negative bank account, making the bank account even more negative than it was [FS#1125] (r10890)\n- Fix: Some isocodes were wrong, resulting in some NewGRF not working properly for the affected languages (r10877)\n- Fix: [Windows] Do not try to minimise or restore the window when closing OpenTTD [FS#998] (r10835)\n- Fix: Trains going over bridges would get the 'going down hill' accelerate bonus, which causes trains to go faster on bridges than they would be going on level land [FS#1096] (r10739)\n- Fix: Trains being split into two pieces when loading an old savegame [FS#1062] (r10735)\n- Fix: [OS/2] Fix chdir problem with open/save dialogue (r10650)\n- Fix: One could not remove locks that were build in a (very) old version of OpenTTD [FS#1038] (r10593)\n- Fix: One cannot navigate using arrow keys in the game name text box [FS#1038] (r10500)\n- Fix: Ship's maximum speed wrongly shown [FS#1013] (r10497)\n- Fix: [OSX] Of the resolution is changed to something that is too high for the monitor, then it is reduced to fit the monitor size, solving several crashes and graphical glitches [FS#458] (r10410)\n- Fix: NPF was leaking memory each time it got initialised, except for the first time (r10357)\n- Fix: [YAPF] 'target_seen' flag that is set prematurely in some cases (1 tile long cached segment followed by target station) which caused asserts to trigger [FS#884] (r10199)\n\n\n### 0.5.3-RC2 (2007-07-07)\n\n- Fix: Visual glitches when a window is resized in the WE_CREATE callback (r10465)\n- Fix: [Windows] _wnd.has_focus was not properly set after using ALT-TAB [FS#962] (r10399)\n\n\n### 0.5.3-RC1 (2007-06-28)\n\n- Feature: Make the client list window (for network games) stickyable (r10293)\n- Feature: Console command to get the current game date (r10137)\n- Fix: Waypoints could be renamed when you are not the owner (r10368)\n- Fix: Smooth economy did not close primary industries and it allowed increasing of production of industries that should not have rising productions (r10348, r10347, r10290)\n- Fix: Acceleration for trains on slopes is not calculated properly [FS#786] (r10344, r10317)\n- Fix: The 'old' pathfinders (OPF and NPF) for road vehicles could not find a path when in a tunnel [FS#290] (r10345)\n- Fix: Only add the autoreplace menu when autoreplace actually knows about the group [FS#880] (r10337)\n- Fix: Signal state sometimes not properly set when the signal 'pathfinder' reached the end of a line [FS#910] (r10336)\n- Fix: News messages were shown over the endgame/highscore windows [FS#943] (r10333)\n- Fix: Rail could be destroyed when building tunnels (r10306)\n- Fix: Flush the output of the dedicated server console (r10295)\n- Fix: The 'pause' key did not work in the scenario editor (r10294)\n- Fix: Age non-front engines too (so when you move engines around in the depot they do not get age 0 when they are much older [FS#202] (r10288)\n- Fix: Do not make everyone spectator if 1 joining client failed to create new company (r10284)\n- Fix: Remove invalid characters (for the file system) from savegame names [FS#916, FS#850] (r10272, r10116)\n- Fix: Some old savegames could have the wrong bits unset (r10268, r10147)\n- Fix: Do not look in every direction for tunnels when building one, one direction is enough (r"
        },
        {
          "name": "cmake",
          "type": "tree",
          "content": null
        },
        {
          "name": "docs",
          "type": "tree",
          "content": null
        },
        {
          "name": "known-bugs.md",
          "type": "blob",
          "size": 19.7490234375,
          "content": "# OpenTTD's known bugs\n\n## Table of contents\n\n- 1.0) About\n- 2.0) Known bugs\n\n## 1.0) About\n\nAll bugs listed below are marked as known. Please do not submit any bugs\nthat are the same as these. If you do, do not act surprised, because\nwe WILL flame you!\n\nThe current list of known bugs that we intend to fix can be found in our\nbug tracking system at https://github.com/OpenTTD/OpenTTD/issues\nAlso check the closed bugs when searching for your bug in this system as we\nmight have fixed the bug in the mean time.\n\n## 2.0) Known bugs\n\nThis section lists all known bugs that we do not intend to fix and the\nreasons why we think that fixing them is infeasible. We might make some\nminor improvements that reduce the scope of these bugs, but we will not\nbe able to completely fix them.\n\n### No suitable AI can be found:\n\nIf you have no AIs and an AI is started the so-called 'dummy' AI will\nbe loaded. This AI does nothing but writing a message on the AI debug\nwindow and showing a red warning. There are basically two solutions\nfor this problem: Either you set the number of AI players to 0 so that\nno AI is started. You find that setting at the top of the window in the\n\"AI / Game Scripts Settings\" window.\n\nThe other solution is acquiring (downloading) some AI. The easiest way\nto do this is via the \"Check Online Content\" button in the main (intro)\nmenu or directly in the \"AI / Game Scripts Settings\" dialogue via the\n\"Check Online Content\" button.\n\n### After a while of playing, colours get corrupted:\n\nIn Windows 7 the background slideshow corrupts the colour mapping\nof OpenTTD's 8bpp screen modes. Workarounds for this are:\n\n* Switching to windowed mode, instead of fullscreen\n* Switching off background slideshow\n* Setting up the `32bpp-anim` or `32bpp-optimized` blitter\n\n### Custom vehicle type name is incorrectly aligned:\n\nSome NewGRFs use sprites that are bigger than normal in the \"buy\nvehicle\" window. Due to this they have to encode an offset for\nthe vehicle type name. Upon renaming the vehicle type this encoded\noffset is stripped from the name because the \"edit box\" cannot show\nthis encoding. As a result the custom vehicle type names will get\nthe default alignment. The only way to (partially) fix this is by\nadding spaces to the custom name.\n\n### Clipping problems [#119]:\n\nIn some cases sprites are not drawn as one would expect. Examples of\nthis are aircraft that might be hidden below the runway or trees that\nin some cases are rendered over vehicles.\n\nThe primary cause of this problem is that OpenTTD does not have enough\ndata (like a 3D model) to properly determine what needs to be drawn in\nfront of what. OpenTTD has bounding boxes but in lots of cases they\nare either too big or too small and then cause problems with what\nneeds to be drawn in front of what. Also some visual tricks are used.\n\nFor example trains at 8 pixels high, the catenary needs to be drawn\nabove that. When you want to draw bridges on top of that, which are\nonly one height level (= 8 pixels) higher, you are getting into some\nbig problems.\n\nWe can not change the height levels; it would require us to either\nredraw all vehicle or all landscape graphics. Doing so would mean we\nleave the Transport Tycoon graphics, which in effect means OpenTTD\nwill not be a Transport Tycoon clone anymore.\n\n### Mouse scrolling not possible at the edges of the screen [#383] [#3966]:\n\nScrolling the viewport with the mouse cursor at the edges of the screen\nin the same direction of the edge will fail. If the cursor is near the\nedge the scrolling will be very slow.\n\nOpenTTD only receives cursor position updates when the cursor is inside\nOpenTTD's window. It is not told how far you have moved the cursor\noutside of OpenTTD's window.\n\n### Lost trains ignore (block) exit signals [#1473]:\n\nIf trains are lost they ignore block exit signals, blocking junctions\nwith presignals. This is caused because the path finders cannot tell\nwhere the train needs to go. As such a random direction is chosen at\neach junction. This causes the trains to occasionally to make choices\nthat are unwanted from a player's point of view.\n\nThis will not be fixed because lost trains are in almost all cases a\nnetwork problem, e.g. a train can never reach a specific place. This\nmakes the impact of fixing the bug enormously small against the amount\nof work needed to write a system that prevents the lost trains from\ntaking the wrong direction.\n\n### Vehicle owner of last transfer leg gets paid for all [#2427]:\n\nWhen you make a transfer system that switches vehicle owners. This\nis only possible with 'industry stations', e.g. the oil rig station\nthe owner of the vehicle that does the final delivery gets paid for\nthe whole trip. It is not shared amongst the different vehicle\nowners that have participated in transporting the cargo.\n\nThis sharing is not done because it would enormously increase the\nmemory and CPU usage in big games for something that is happening\nin only one corner case. We think it is not worth the effort until\nsharing of stations is an official feature.\n\n### Forbid 90 degree turns does not work for crossing PBS paths [#2737]:\n\nWhen you run a train through itself on a X junction with PBS turned on\nthe train will not obey the 'forbid 90 degree turns' setting. This is\ndue to the fact that we can not be sure that the setting was turned\noff when the track was reserved, which means that we assume it was\nturned on and that the setting does not hold at the time. We made it\nthis way to allow one to change the setting in-game, but it breaks\nslightly when you are running your train through itself. Running a\ntrain through means that your network is broken and is thus a user\nerror which OpenTTD tries to graciously handle.\n\nFixing this bug means that we need to record whether this particular\nsetting was turned on or off at the time the reservation was made. This\nmeans adding quite a bit of data to the savegame for solving an issue\nthat is basically an user error. We think it is not worth the effort.\n\n### Duplicate (station) names after renaming [#3204]:\n\nAfter renaming stations one can create duplicate station names. This\nis done giving a station the same custom name as another station with\nan automatically generated name.\n\nThe major part of this problem is that station names are translatable.\nMeaning that a station is called e.g. '<TOWN> Central' in English and\n'<TOWN> Centraal' in Dutch. This means that in network games the\nrenaming of a town could cause the rename to succeed on some clients\nand fail at others. This creates an inconsistent game state that will\nbe seen as a 'desync'. Secondly the custom names are intended to fall\ncompletely outside of the '<TOWN> <name>' naming of stations, so when\nyou rename a town all station names are updated accordingly.\n\nAs a result the decision has been made that all custom names are only\ncompared to the other custom names in the same class and not compared\nto the automatically generated names.\n\n### Extreme CPU usage/hangs when using SDL and PulseAudio [#3294], OpenTTD hangs/freezes when closing, OpenTTD is slow, OpenTTD uses a lot of CPU:\n\nOpenTTD can be extremely slow/use a lot of CPU when the sound is\nplayed via SDL and then through PulseAudio's ALSA wrapper. Under the\nsame configuration OpenTTD, or rather SDL, might hang when exiting\nthe game. This problem is seen most in Ubuntu 9.04 and higher.\n\nThis is because recent versions of the PulseAudio sound server\nare configured to use timer-based audio scheduling rather than\ninterrupt-based audio scheduling. Configuring PulseAudio to force\nuse of interrupt-based scheduling may resolve sound problems for\nsome users. Under recent versions of Ubuntu Linux (9.04 and higher)\nthis can be accomplished by changing the following line in the\n`/etc/pulse/default.pa` file:\n        `load-module module-udev-detect`\nto\n        `load-module module-udev-detect tsched=0`\n\nNote that PulseAudio must be restarted for changes to take effect. Older\nversions of PulseAudio may use the module-hal-detect module instead.\nAdding tsched=0 to the end of that line will have a similar effect.\n\nAnother possible solution is selecting the \"pulse\" backend of SDL\nby either using `SDL_AUDIODRIVER=pulse openttd` at the command\nprompt or installing the `libsdl1.2debian-pulseaudio` package from\nUbuntu's Universe repository. For other distributions a similar\npackage needs to be installed.\n\n### OpenTTD not properly resizing with SDL on X [#3305]:\n\nUnder some X window managers OpenTTD's window does not properly\nresize. You will either end up with a black bar at the right/bottom\nside of the window or you cannot see the right/bottom of the window,\ne.g. you cannot see the status bar. The problem is that OpenTTD does\nnot always receive a resize event from SDL making it impossible for\nOpenTTD to know that the window was resized; sometimes moving the\nwindow will solve the problem.\n\nWindow managers that are known to exhibit this behaviour are GNOME's\nand KDE's. With the XFCE's and LXDE's window managers the resize\nevent is sent when the user releases the mouse.\n\n### Incorrect colours, crashes upon exit, debug warnings and smears upon window resizing with SDL on macOS [#3447]:\n\nVideo handling with (lib)SDL under macOS is known to fail on some\nversions of macOS with some hardware configurations. Some of\nthe problems happen only under some circumstances whereas others\nare always present.\n\nWe suggest that the SDL video/sound backend is not used for OpenTTD\nin combinations with macOS.\n\n### Train crashes entering same junction from block and path signals [#3928]:\n\nWhen a train has reserved a path from a path signal to a two way\nblock signal and the reservation passes a path signal through the\nback another train can enter the reserved path (only) via that\nsame two way block signal.\n\nThe reason for this has to do with optimisation; to fix this issue\nthe signal update has to pass all path signals until it finds either\na train or a backwards facing signal. This is a very expensive task.\n\nThe (signal) setups that allow these crashes can furthermore be\nconsidered incorrectly signalled; one extra safe waiting point for\nthe train entering from path signal just after the backwards facing\nsignal (from the path signal train) resolves the issue.\n\n### Crashes when run in a VM using Parallels Desktop [#4003]:\n\nWhen the Windows version of OpenTTD is executed in a VM under\nParallels Desktop a privileged instruction exception may be thrown.\n\nAs OpenTTD works natively on macOS as well as natively on Windows and\nthese native builds both don't exhibit this behaviour this crash is\nmost likely due to a bug in the virtual machine, something out of\nthe scope of OpenTTD. Most likely this is due to Parallels Desktop\nlacking support for RDTSC calls. The problem can be avoided by using\nother VM-software, Wine, or running natively on macOS.\n\n### Entry- and exit signals are not dragged [#4378]:\n\nUnlike all other signal types, the entry- and exit signals are not\ndragged but instead normal signals are placed on subsequent track\nsections. This is done on purpose as this is the usually more\nconvenient solution. There are little to no occasions where more\nthan one entry or exit signal in a row are useful. This is different\nfor all other signal types where several in a row can serve one\npurpose or another.\n\n### (Temporary) wrong colours when switching to full screen [#4511]:\n\nOn Windows it can happen that you temporarily see wrong colours\nwhen switching to full screen OpenTTD, either by starting\nOpenTTD in full screen mode, changing to full screen mode or by\nALT-TAB-ing into a full screen OpenTTD. This is caused by the\nfact that OpenTTD, by default, uses 8bpp paletted output. The\nwrong colours you are seeing is a temporary effect of the video\ndriver switching to 8bpp palette mode.\n\nThis issue can be worked around in two ways:\n* Setting fullscreen_bpp to 32\n* Setting up the 32bpp-anim or 32bpp-optimized blitter\n\n### Can't run OpenTTD with the -d option from a MSYS console [#4587]:\n\nThe MSYS console does not allow OpenTTD to open an extra console for\ndebugging output. Compiling OpenTTD with the --enable-console\nconfigure option prevents this issue and allows the -d option to use\nthe MSYS console for its output.\n\n### Unreadable characters for non-latin locales [#4607]:\n\nOpenTTD does not ship a non-latin font in its graphics files. As a\nresult OpenTTD needs to acquire the font from somewhere else. What\nOpenTTD does is ask the operating system, or a system library, for\nthe best font for a given language if the currently loaded font\ndoes not provide all characters of the chosen translation. This\nmeans that OpenTTD has no influence over the quality of the chosen\nfont; it just does the best it can do.\n\nIf the text is unreadable there are several steps that you can take\nto improve this. The first step is finding a good font and configure\nthis in the configuration file. See section 9.0 of README.md for\nmore information. You can also increase the font size to make the\ncharacters bigger and possible better readable.\n\nIf the problem is with the clarity of the font you might want to\nenable anti-aliasing by setting the small_aa/medium_aa/large_aa\nsettings to \"true\". However, anti-aliasing only works when a 32-bit\nblitter has been selected, e.g. `blitter = \"32bpp-anim\"`, as with the\n8 bits blitter there are not enough colours to properly perform the\nanti-aliasing.\n\n### Train does not crash with itself [#4635]:\n\nWhen a train drives in a circle the front engine passes through\nwagons of the same train without crashing. This is intentional.\nSignals are only aware of tracks, they do not consider the train\nlength and whether there would be enough room for a train in some\ncircle it might drive on. Also the path a train might take is not\nnecessarily known when passing a signal.\n\nChecking all circumstances would take a lot of additional\ncomputational power for signals, which is not considered worth\nthe effort, as it does not add anything to gameplay.\n\nNevertheless trains shall not crash in normal operation, so making\na train not crash with itself is the best solution for everyone.\n\n### Aircraft coming through wall in rotated airports [#4705]:\n\nWith rotated airports, specifically hangars, you will see that the\naircraft will show a part through the back wall of the hangar.\n\nThis can be solved by only drawing a part of the plane when being\nat the back of the hangar, however then with transparency turned on\nthe aircraft would be shown partially which would be even weirder.\n\nAs such the current behaviour is deemed the least bad.\nThe same applies to overly long ships and their depots.\n\n### Vehicles not keeping their \"maximum\" speed [#4815]:\n\nVehicles that have not enough power to reach and maintain their\nadvertised maximum speed might be constantly jumping between two\nspeeds. This is due to the fact that speed and its calculations\nare done with integral numbers instead of floating point numbers.\n\nAs a result of this a vehicle will never reach its equilibrium\nbetween the drag/friction and propulsion. So in effect it will be\nin a vicious circle of speeding up and slowing down due to being\njust at the other side of the equilibrium.\n\nNot speeding up when near the equilibrium will cause the vehicle to\nnever come in the neighbourhood of the equilibrium and not slowing\ndown when near the equilibrium will cause the vehicle to never slow\ndown towards the equilibrium once it has come down a hill.\n\nIt is possible to calculate whether the equilibrium will be passed,\nbut then all acceleration calculations need to be done twice.\n\n### Settings not saved when OpenTTD crashes [#4846]:\n\nThe settings are not saved when OpenTTD crashes for several reasons.\nThe most important is that the game state is broken and as such the\nsettings might contain invalid values, or the settings have not even\nbeen loaded yet. This would cause invalid or totally wrong settings\nto be written to the configuration file.\n\nA solution to that would be saving the settings whenever one changes,\nhowever due to the way the configuration file is saved this requires\na flush of the file to the disk and OpenTTD needs to wait till that\nis finished. On some file system implementations this causes the\nflush of all 'write-dirty' caches, which can be a significant amount\nof data to be written. This can further be aggravated by spinning\ndown disks to conserve power, in which case this disk needs to be\nspun up first. This means that many seconds may pass before the\nconfiguration file is actually written, and all that time OpenTTD\nwill not be able to show any progress. Changing the way the\nconfiguration file is saved is not an option as that leaves us more\nvulnerable to corrupt configuration files.\n\nFinally, crashes should not be happening. If they happen they should\nbe reported and fixed, so essentially fixing this is fixing the wrong\nthing. If you really need the configuration changes to be saved,\nand you need to run a version that crashes regularly, then you can\nuse the `saveconfig` command in the console to save the settings.\n\n### Not all NewGRFs, AIs, game scripts are found [#4887]:\n\nUnder certain situations, where the path for the content within a\ntar file is the same as other content on the file system or in another\ntar file, it is possible that content is not found. A more thorough\nexplanation and solutions are described in section 4.4 of README.md.\n\n### Mouse cursor going missing with SDL [#4997]:\n\nUnder certain circumstances SDL does not notify OpenTTD of changes with\nrespect to the mouse pointer, specifically whether the mouse pointer\nis within the bounds of OpenTTD or not. For example, if you \"Alt-Tab\"\nto another application the mouse cursor will still be shown in OpenTTD,\nand when you move the mouse outside of the OpenTTD window so the cursor\ngets hidden, open/move another application on top of the OpenTTD window\nand then Alt-tab back into OpenTTD the cursor will not be shown.\n\nWe cannot fix this problem as SDL simply does not provide the required\ninformation in these corner cases. This is a bug in SDL and as such\nthere is little that we can do about it.\n\n### Trains might not stop at platforms that are currently being changed [#5553]:\n\nIf you add tiles to or remove tiles from a platform while a train is\napproaching to stop at the same platform, that train can miss the place\nwhere it's supposed to stop and pass the station without stopping.\n\nThis is caused by the fact that the train is considered to already\nhave stopped if it's beyond its assigned stopping location. We can't\nlet the train stop just anywhere in the station because then it would\nnever leave the station if you have the same station in the order\nlist multiple times in a row or if there is only one station\nin theorder list (see #5684).\n\n### Some houses and industries are not affected by transparency [#5817]:\n\nSome of the default houses and industries (f.e. the iron ore mine) are\nnot affected by the transparency options. This is because the graphics\ndo not (completely) separate the ground from the building.\n\nThis is a bug of the original graphics, and unfortunately cannot be\nfixed with OpenGFX for the sake of maintaining compatibility with\nthe original graphics.\n\n### Involuntary cargo exchange with cargodist via neutral station [#6114]:\n\nWhen two players serve a neutral station at an industry, a cross-company\nchain for cargo flow can and will be established which can only be\ninterrupted if one of the players stops competing for the resources of\nthat industry. There is an easy fix for this: If you are loading at the\nshared station make the order \"no unload\" and if you're unloading make\nit \"no load\". Cargodist will then figure out that it should not create\nsuch a route.\n\n### Incorrect ending year displayed in end of game newspaper [#8625]\n\nThe ending year of the game is configurable, but the date displayed in\nthe newspaper at the end of the game is part of the graphics, not text.\n\nSo to fix this would involve fixing the graphics in every baseset,\nincluding the original. Additionally, basesets are free to put this\ntext in different positions (which they do), making a proper solution\nto this infinitely more complex for a part of the game that fewer than\n1% of players ever see.\n"
        },
        {
          "name": "media",
          "type": "tree",
          "content": null
        },
        {
          "name": "os",
          "type": "tree",
          "content": null
        },
        {
          "name": "regression",
          "type": "tree",
          "content": null
        },
        {
          "name": "src",
          "type": "tree",
          "content": null
        },
        {
          "name": "vcpkg.json",
          "type": "blob",
          "size": 0.94140625,
          "content": "{\n  \"$schema\": \"https://raw.githubusercontent.com/microsoft/vcpkg-tool/main/docs/vcpkg.schema.json\",\n  \"dependencies\": [\n    {\n      \"name\": \"breakpad\",\n      \"platform\": \"!(windows & arm)\"\n    },\n    {\n      \"name\": \"curl\",\n      \"platform\": \"linux\",\n      \"features\": [\n        \"http2\"\n      ]\n    },\n    {\n      \"name\": \"dbus\",\n      \"platform\": \"linux\",\n      \"default-features\": false\n    },\n    {\n      \"name\": \"fontconfig\",\n      \"platform\": \"linux\"\n    },\n    {\n      \"name\": \"freetype\",\n      \"platform\": \"linux\"\n    },\n    {\n      \"name\": \"harfbuzz\",\n      \"platform\": \"linux\"\n    },\n    {\n      \"name\": \"icu\",\n      \"platform\": \"linux\"\n    },\n    {\n      \"name\": \"liblzma\"\n    },\n    {\n      \"name\": \"libpng\"\n    },\n    {\n      \"name\": \"lzo\"\n    },\n    {\n      \"name\": \"opusfile\"\n    },\n    {\n      \"name\": \"sdl2\",\n      \"platform\": \"linux\"\n    },\n    {\n      \"name\": \"zlib\"\n    }\n  ],\n  \"builtin-baseline\": \"b2cb0da531c2f1f740045bfe7c4dac59f0b2b69c\"\n}\n"
        }
      ]
    }
  ]
}