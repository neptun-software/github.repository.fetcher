{
  "metadata": {
    "timestamp": 1736565520417,
    "page": 392,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjQwMA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "xoseperez/espurna",
      "stars": 3011,
      "defaultBranch": "dev",
      "files": [
        {
          "name": ".gitattributes",
          "type": "blob",
          "size": 0.12890625,
          "content": "*.ini     text eol=lf\n*.h       text eol=lf\n*.cpp     text eol=lf\n*.re      text eol=lf\n*.ipp     text eol=lf\n*.c       text eol=lf\n"
        },
        {
          "name": ".github",
          "type": "tree",
          "content": null
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.361328125,
          "content": "*.b#?\n*.gch\n*.py[cod]\n*.s#?\n.DS_Store\n.clang_complete\n.env\n.gcc-flags.json\n.modgit\n.pio\n.python\n.python-version\n.sconsign.dblite\n.vscode\n.vscode/.browse.c_cpp.db*\n.vscode/c_cpp_properties.json\n.vscode/launch.json\n_pycache_/\ncode/.cache/\ncode/html/build/\ncode/espurna/config/custom.h\ncode/libraries/\ncode/node_modules\ncode/test/unit/cache\ncompile_commands.json\nfirmware*\n"
        },
        {
          "name": ".gitmodules",
          "type": "blob",
          "size": 0,
          "content": ""
        },
        {
          "name": "CHANGELOG.md",
          "type": "blob",
          "size": 141.4306640625,
          "content": "# ESPurna change log\n\nThe format is based on [Keep a Changelog](http://keepachangelog.com/)\nand this project adheres to [Semantic Versioning](http://semver.org/).\n\n## Pending changes\n\n???\n\n## [1.18.0] Snapshot build 2024-08-30\n\n### Added\n- Scheduler [relative time spec](https://github.com/xoseperez/espurna/wiki/Scheduler#relative-time) [8edb7b63](https://github.com/xoseperez/espurna/commit/8edb7b633369cd04151525066ab0f8b512da7702)\n- Scheduler [named events](https://github.com/xoseperez/espurna/wiki/Scheduler#event) [8edb7b63](https://github.com/xoseperez/espurna/commit/8edb7b633369cd04151525066ab0f8b512da7702), [a8bcedab](https://github.com/xoseperez/espurna/commit/a8bcedabc581fb2ed592bdce1693ad0844ec1609)\n- `TIMER [<ID>] [<TIME>]` relay command in addition to `PULSE` [90827850](https://github.com/xoseperez/espurna/commit/90827850be35f7ad3079a1b66d0053e5ec51e95d)\n\n### Fixed\n- Restore & event offsets are calculated using local timezone when necessary [eea56d7a](https://github.com/xoseperez/espurna/commit/eea56d7a0c082745743c29f662fc185338edcd0f)\n- Schedule incorrectly discarded when sunrise or sunset flag was not set [24ebcb84](https://github.com/xoseperez/espurna/commit/24ebcb843054bd328b040e6302d2fd63322fd6c2)\n- Visual bug w/ password reveal button when using narrow screen [4c005fa9](https://github.com/xoseperez/espurna/commit/4c005fa9a53af08043821975b350ab8a8c899e38)\n\n### Changed\n- Median filter uses REPORT counter as window, not a fixed size of 3. Values are reported as-is until internal buffers are filled, median value is reported afterwards [#2543](https://github.com/xoseperez/espurna/issues/2543)\n- Various WebUI labels and messages clean-up\n- `PULSE <ID>` and `TIMER <ID>` display existing relay timers [90827850](https://github.com/xoseperez/espurna/commit/90827850be35f7ad3079a1b66d0053e5ec51e95d)\n\n## [1.17.0] (dev)\n\n### Added\n- ISO 8601 datetimes in MQTT (e.g. `2024-08-23T08:43:51+12:00`), WebUI and debug logs [a1363dda](https://github.com/xoseperez/espurna/commit/a1363ddad909b88e4c05e894f0a20756f36463ae)\n- More strict WebUI input validation [#2612](https://github.com/xoseperez/espurna/issues/2612)\n- Side-by-side expected and current values when configuring RATIO [af3f8384](https://github.com/xoseperez/espurna/commit/af3f83841fafeac164d7018dd190dec3c6d648e8)\n- MIN and MAX sensor filters [2cdc456a](https://github.com/xoseperez/espurna/commit/2cdc456a36ad6c68b587186bfd9ff7be2266bb73)\n- UPPER and LOWER threshold values for sensors [fc8ef5a2](https://github.com/xoseperez/espurna/commit/fc8ef5a298d01c78ce7d5acfcab9d591b09026d5)\n- NTP [DHCP and update interval settings](https://github.com/xoseperez/espurna/wiki/NTP#configuration) in WebUI [1ca0dcc7](https://github.com/xoseperez/espurna/commit/1ca0dcc76b4bd2bf84085918e7f9b9808cb2e453)\n\n### Fixed\n- Sensor reading counters are reset when settings reload [b11071cb](https://github.com/xoseperez/espurna/commit/b11071cb9e13a98df1058aa54d8e0822fc706360)\n- DHT sensor failing to re-enable interrupts [#2609](https://github.com/xoseperez/espurna/issues/2609)\n\n### Changed\n- Sensor WebUI waits until every configured sensor performs initial setup [2c8470c1](https://github.com/xoseperez/espurna/commit/2c8470c11ccfde80fedef24db53accac1fc65813)\n- Reworked WebUI builder, initial commit and general description at [289fea4f](https://github.com/xoseperez/espurna/commit/289fea4f3d2b5a253e981640ed2560e6453ac8ef)\n- Functional and unit tests for WebUI [#1899](https://github.com/xoseperez/espurna/issues/1899)\n- Optional password checks in WebUI [4fda8408](https://github.com/xoseperez/espurna/commit/4fda84082a6dfd1f0189569cbca51b19ba1e16af)\n\n## [1.16.0-dev] Snapshot build 2024-06-15\n\n### Added\n- Scheduler [sunrise and sunset](https://github.com/xoseperez/espurna/wiki/Scheduler#keywords) time triggers [#2417](https://github.com/xoseperez/espurna/issues/2417), [#1263](https://github.com/xoseperez/espurna/issues/1263), [#943](https://github.com/xoseperez/espurna/issues/943)\n- Allow to specify date (`YYYY-MM-DD` or `MM-DD`) for scheduler action [#2060](https://github.com/xoseperez/espurna/issues/2060)\n- Allow scheduler action to trigger multiple times a day [#2060](https://github.com/xoseperez/espurna/issues/2060), [#1419](https://github.com/xoseperez/espurna/issues/1419)\n- Scheduler action is a terminal command when terminal support is enabled [e4b6929f](https://github.com/xoseperez/espurna/commit/e4b6929f94b82cf844cb07f4270cea7ddc80a887)\n- Variable retry times for HA discovery [8c68a72c](https://github.com/xoseperez/espurna/commit/8c68a72c8fc502259cc9de6ff5fbf88ce5ec6b51)\n- OneWire debugging [f7e2977c](https://github.com/xoseperez/espurna/commit/f7e2977c45b645573af8023f8eb2c630c4448991)\n- Publish HA discovery message when HA instance connects to the MQTT broker [452cd78c](https://github.com/xoseperez/espurna/commit/452cd78c41edea6beb44840efee04e3b0ac47ca6), ref. [#1637](https://github.com/xoseperez/espurna/issues/1637)\n- Button terminal command action [eb17675c](https://github.com/xoseperez/espurna/commit/eb17675c2a0e2053ad2a9078fb4aedc2e71b3b50)\n- WiFi boot mode [aa2476e4](https://github.com/xoseperez/espurna/commit/aa2476e4a72e2fd0e9d2e7a16857b567305f43d0)\n\n### Fixed\n- Domoticz JSON truncation [#2605](https://github.com/xoseperez/espurna/issues/2605)\n- Manually reject all-zero and all-set payloads from DallasSensor, since both successfully pass CRC check [e92be04e](https://github.com/xoseperez/espurna/commit/e92be04eea4848098a8a11675a1ece527966adee), [#2543](https://github.com/xoseperez/espurna/issues/2543)\n- Do not add failed sensor readings to the total 'report' counter [2d19d8e1](https://github.com/xoseperez/espurna/commit/2d19d8e1e94209e1d1c5c042cba5ba7c7fa4198a)\n- RFBRIDGE not respecting MQTT repeat value [686728a3](https://github.com/xoseperez/espurna/commit/686728a329d9b5e159fc7b5394517c968edb7a22)\n- `-std=gnu++20` and later compatibility [f13df63f](https://github.com/xoseperez/espurna/commit/f13df63f382b3db6c879d890291c5b335b8a1a9a)\n- Latest esp8266-oled-ssd1306 version and more improvements for thermostat module [#2601](https://github.com/xoseperez/espurna/issues/2601), thanks to **[@ElderJoy](https://github.com/ElderJoy)**\n- Latest Garland module w/ various animation fixes [#2600](https://github.com/xoseperez/espurna/issues/2600), thanks to **[@ElderJoy](https://github.com/ElderJoy)**\n- Invalid Domoticz settings key for relays [#2596](https://github.com/xoseperez/espurna/issues/2596)\n- `SENSOR_PUBLISH_ADDRESS` build w/ Core 2.7.4 [#2594](https://github.com/xoseperez/espurna/issues/2594)\n- SoftwareSerial swapped TX & RX in configuration [#2592](https://github.com/xoseperez/espurna/issues/2592)\n- InfluxDB using internal ID instead of public one [#2585](https://github.com/xoseperez/espurna/issues/2585)\n- Restore previously removed real telnet command packet workarounds, allow PuTTY to authenticate [#2563](https://github.com/xoseperez/espurna/issues/2563), [#2606](https://github.com/xoseperez/espurna/issues/2606)\n- Sensor filter fixes and consistent number of output values [#2543](https://github.com/xoseperez/espurna/issues/2543)\n\n### Changed\n- Optional delay for relay action when MQTT disconnects [7ac9fd74](https://github.com/xoseperez/espurna/commit/7ac9fd74891f9fee336f7613b90bcd832301210e)\n- PlatformIO toolchain set to platform version [f75d379d](https://github.com/xoseperez/espurna/commit/f75d379d20c8f8afa826899e29fb9fa7d048a894)\n- API calls take precedence over relay pulse configuration, allow to create a timer even when conflicting settings exist [530b64b1](https://github.com/xoseperez/espurna/commit/530b64b13f0e92fbdc3c13e7e9feff7d3d345847)\n- Start relay 'before' and 'after' timer after pulse timers, not before [530b64b1](https://github.com/xoseperez/espurna/commit/530b64b13f0e92fbdc3c13e7e9feff7d3d345847)\n- Allow to create relay pulse timer for the current state [530b64b1](https://github.com/xoseperez/espurna/commit/530b64b13f0e92fbdc3c13e7e9feff7d3d345847)\n- Highlight WebUI 'Save' when there are pending changes [dd6bedee](https://github.com/xoseperez/espurna/commit/dd6bedeec7a8d3e6655c4c2742054f84494d549c)\n- Sensor readings timer start after initialization, not immediately on boot [a1b9bf51](https://github.com/xoseperez/espurna/commit/a1b9bf5199303bfdc0ccd9bea08a632d5d47af11)\n- WebUI consistent `autocomplete=\"off\"` [3f1cf8cd](https://github.com/xoseperez/espurna/commit/3f1cf8cd0411fff5e7406fd288a0a9f6606911a4)\n- Handle both parasite and non-parasite power modes for DallasSensor [f7e2977c](https://github.com/xoseperez/espurna/commit/f7e2977c45b645573af8023f8eb2c630c4448991), ref. [#2543](https://github.com/xoseperez/espurna/issues/2543)\n- Sensor filters no longer cache values between configuration reloads [872f9b65](https://github.com/xoseperez/espurna/commit/872f9b6534a94eb247d117522addddbb45356dcd), [97921403](https://github.com/xoseperez/espurna/commit/97921403d01e333e2d31ac9cb48381822ff21068), [a33c71b6](https://github.com/xoseperez/espurna/commit/a33c71b62be879fe4d6b5af8949853ea38181dc0)\n\n## [1.15.0-dev] Snapshot build 2023-03-30\n\n### Fixed\n- Relay locks can be disabled through API ([d3c113b7](https://github.com/xoseperez/espurna/commit/d3c113b73da27a7ab02df1092345b58d777f9ef4), [78c9e6a2](https://github.com/xoseperez/espurna/commit/78c9e6a218af98351279877d3010ed42c1282765))\n- Preserve existing relay locks when using sync modes ([30f3123c](https://github.com/xoseperez/espurna/commit/30f3123cae68588410899f059d13fc19172ebc9c), [d3c113b7](https://github.com/xoseperez/espurna/commit/d3c113b73da27a7ab02df1092345b58d777f9ef4))\n- Fix Zero-Or-One and Just-One sync modes causing relays to stay locked forever ([#2574](https://github.com/xoseperez/espurna/issues/2574)) ([11c89789](https://github.com/xoseperez/espurna/commit/11c897898d00c98b274769a60ff3948f4f68d946))\n- Disable UART for `MAXCIO_WDE004` ([#2573](https://github.com/xoseperez/espurna/issues/2573))\n- MHZ19 out-of-range and timeout error handling ([7bf88654](https://github.com/xoseperez/espurna/commit/7bf886541bd18ec9ed07ec63b26469f829909641))\n- MHZ19 calibration and detection range options ([7bf88654](https://github.com/xoseperez/espurna/commit/7bf886541bd18ec9ed07ec63b26469f829909641))\n- Do not require DNS server with static IP configuration ([#2582](https://github.com/xoseperez/espurna/issues/2582), [457e47ed](https://github.com/xoseperez/espurna/commit/457e47edd962fc71feb3da8f16c0cd1a9009edc3))\n- Fix DNS requests handling with no servers configured or when they are unavailable ([175c04ac](https://github.com/xoseperez/espurna/commit/175c04acc1afeacdd17f7a7721ebaa21ce5ef347))\n- Fix thermostat remote sensor payload parser using incorrect keys ([#2585](https://github.com/xoseperez/espurna/issues/2585))\n\n### Added\n- WiFi forced sleep mode fixes, allow to properly wakeup from and go into MODEM sleep when disabling both STA and AP modes ([28f3b7da](https://github.com/xoseperez/espurna/commit/28f3b7da84f229c66808ad88635585e132d35d5a), [2f6d7ce3](https://github.com/xoseperez/espurna/commit/2f6d7ce3d37a5cfec3e2fb4b7fa5b4f3fdfe89fa))\n- BMx280 suspend sensor measurements when device goes to sleep ([83c9df98](https://github.com/xoseperez/espurna/commit/83c9df9805512a1930351aedfd7da72335ea7a61))\n- Accept duration specifiers (h, m, s) in most inputs ([0e861158](https://github.com/xoseperez/espurna/commit/0e8611588b34eea15015c3bcc3473c464920376a), [fd7f97eb](https://github.com/xoseperez/espurna/commit/fd7f97eb2493de3c9756abd09f6abe159f32379d))\n- Sensor magnitude decimals / precision setting ([#2550](https://github.com/xoseperez/espurna/issues/2550), [8f1c44fe](https://github.com/xoseperez/espurna/commit/8f1c44fe69383e548cc94a50cccaae71f4ffe056))\n- GPIO lock result stored with the request in the log; show WebUI notification when failures occur ([3a1e041f](https://github.com/xoseperez/espurna/commit/3a1e041f5166d4ae459f3ab1853996b2606ee01a))\n\n## [1.15.0-dev] Snapshot build 2023-01-12\n\n### Fixed\n\n- Uninitialized sensor info in Homeassistant discovery causing 'Unknown' entity ([#2572](https://github.com/xoseperez/espurna/issues/2572)) ([d798052d](https://github.com/xoseperez/espurna/commit/d798052dae2a799197a6051f8805bc9bb0884297))\n- Fallback AP should be disabled after timeout ([#2571](https://github.com/xoseperez/espurna/issues/2571)) ([f387b864](https://github.com/xoseperez/espurna/commit/f387b864dac87ffb235b893703f93735116dd894))\n- Invalid Domoticz settings strings ([#2569](https://github.com/xoseperez/espurna/issues/2569)) by **[@m-kozlowski](https://github.com/m-kozlowski)**\n- Lights value adjustments should work with floating point numbers ([#2566](https://github.com/xoseperez/espurna/issues/2566)) by **[@davebuk](https://github.com/davebuk)**\n\n### Added\n\n- Relay provider for lights state, rework hardware headers to include relay configuration ([#2568](https://github.com/xoseperez/espurna/issues/2568)) ([b5a03dac](https://github.com/xoseperez/espurna/commit/b5a03dac728a4eef34a5c03da5bb395b4d564ed6), [faeedee5](https://github.com/xoseperez/espurna/commit/faeedee57fd84a5466c3a852684a47b76e403f2f))\n- IFAN / FAN relay provider and state handling improvements ([73620687](https://github.com/xoseperez/espurna/commit/7362068717baa680adf24ee4e038897134a107e2))\n- Even more relay and button providers ([9b28d640](https://github.com/xoseperez/espurna/commit/9b28d640f7d3abe776c24704245f35d941245669), [dca13574](https://github.com/xoseperez/espurna/commit/dca13574d9a00a114b2ec617c732d46c0b8f64c1), [ef086ac0](https://github.com/xoseperez/espurna/commit/ef086ac0fce4c00695a6b9ee8468a2a99fad14cc), [f373e137](https://github.com/xoseperez/espurna/commit/f373e137193ef010db03075e77fb8e19283cd211))\n- Publish relay names to MQTT ([7514dee5](https://github.com/xoseperez/espurna/commit/7514dee5b0ff24232098fcac86c49b6cb35c4cf3))\n\n## [1.15.0-dev] Snapshot build 2022-12-12\n- Handle telnet socket buffer when eol is missing; fix PuTTY ([542188dd](https://github.com/xoseperez/espurna/commit/542188dd), [53633cfc](https://github.com/xoseperez/espurna/commit/53633cfc))\n- Configurable accuracy and sensitivity (mtreg) for BH1750 ([988a9724](https://github.com/xoseperez/espurna/commit/988a9724))\n- Power factor allowed values are 0...100 ([52266684](https://github.com/xoseperez/espurna/commit/52266684))\n- More GPIO source locations ([b9dcf3e0](https://github.com/xoseperez/espurna/commit/b9dcf3e0))\n- API setting relay pulse to zero should stop the timer ([bc2ce115](https://github.com/xoseperez/espurna/commit/bc2ce115))\n- Fix `PULSE` terminal command behaviour when we don't want to toggle relay status. Rename `NORMAL STATUS` to `TOGGLE` (`PULSE <ID> <TIME> [<TOGGLE>]`, `TOGGLE` set to `true` by default) ([69471b0a](https://github.com/xoseperez/espurna/commit/69471b0a))\n- Fix overflow detection when parsing unsigned numbers ([997c4d01](https://github.com/xoseperez/espurna/commit/997c4d01))\n- Add 'value' slider to recover from a fully black RGB color picker ([767cd72e](https://github.com/xoseperez/espurna/commit/767cd72e361302534a70f4586ec69dc59b7cbb2f))\n\n## [1.15.0-dev] Snapshot build 2022-12-04\n- Really parse V9261F messages, including writes and write acks ([bea8508e](https://github.com/xoseperez/espurna/commit/bea8508e))\n- Increase BH1750 MODE2 decimal places ([b8921b9a](https://github.com/xoseperez/espurna/commit/b8921b9a))\n- Separate RGB color temperature in color and non-color modes ([9126a983](https://github.com/xoseperez/espurna/commit/9126a983))\n- Revert default PWM frequency to 500Hz (or its equivalent) ([d664b9d4](https://github.com/xoseperez/espurna/commit/d664b9d4))\n- Prevent GPIOs configured as relays from being initialized on software reset ([824e1214](https://github.com/xoseperez/espurna/commit/824e1214))\n- Fix inverted relays being incorrectly initialized on boot ([d78d7835](https://github.com/xoseperez/espurna/commit/d78d7835))\n- Consistent warm and cold lights channel order in hardware header ([144f2a72](https://github.com/xoseperez/espurna/commit/144f2a72))\n\n## [1.15.0-dev] Snapshot build 2022-11-16\n- Fix V9261F UART parity mode ([6154f40a](https://github.com/xoseperez/espurna/commit/6154f40a))\n- Avoid printing raw network buffers or error strings that are not null-terminated ([7296eca2](https://github.com/xoseperez/espurna/commit/7296eca2))\n- Do not update brightness when changing HSV ([2471c16f](https://github.com/xoseperez/espurna/commit/2471c16f))\n\n## [1.15.0-dev] Snapshot build 2022-09-25\n- Runtime UART configuration. (`uartBaud#`, `uartInv#`, etc.), see `uart` and `uart <id>` terminal commands output. ([574fbf19](https://github.com/xoseperez/espurna/commit/574fbf196014dbcffa0e99630ea377cce36873e9))\n\n## [1.15.0-dev] Snapshot build 2022-09-23\n- Change command-line parser ([ef202109](https://github.com/xoseperez/espurna/commit/ef202109e7e09779d44970e065b71f3cb49660b3) for latest version; ref. [#2245](https://github.com/xoseperez/espurna/issues/2245) and [#2247](https://github.com/xoseperez/espurna/issues/2247) for previous implementation)\n- Do not share terminal output. Calling some command(s) in WebUI will no longer stream them to Serial; consistent with the output of API calls. ([ef202109](https://github.com/xoseperez/espurna/commit/ef202109e7e09779d44970e065b71f3cb49660b3))\n- Add `pio run -e $env -t .pio/build/$env/firmware.bin.gz` build target ([038f1ffe](https://github.com/xoseperez/espurna/commit/038f1ffec3f61e86fa212450fd2f5ab22823b124))\n- Renamed espurna-core to espurna-minimal ([5bc55cd1](https://github.com/xoseperez/espurna/commit/5bc55cd1a5bf60b27aa2c338cd2fd715eb755815))\n- Unauthenticated telnet session no longer receives debug messages ([79ef68b4](https://github.com/xoseperez/espurna/commit/79ef68b4355fa71c3261046ba135a52f15bc0df9))\n- `__UNIX_TIMESTAMP__` removed; build time remains `__TIMESTAMP__` and as YYYY-MM-DD HH:MM:SS string ([a8fe3e46](https://github.com/xoseperez/espurna/commit/a8fe3e466490f3f6bdda992d74a7f47ffa71e8c9))\n\n## [1.15.0-dev] Snapshot build 2022-08-30\n- Remove HWDT exception in RTCMEM, repeated hardware watchdog trigger will eventually trigger SAFE MODE ([59c4246c](https://github.com/xoseperez/espurna/commit/59c4246c6898f4c5698c458ce9762305b43aecde), [7659a634](https://github.com/xoseperez/espurna/commit/7659a63441a7fafff30a274caad65db44de7983a))\n- Updated stack decoder script ([a6df38e8](https://github.com/xoseperez/espurna/commit/a6df38e8077c24564c587d2ed8ef871395e47cfe))\n- `NOTIFY` terminal command ([cc16c367](https://github.com/xoseperez/espurna/commit/cc16c36736d5de1280c9946a927d8466690292e5))\n- Add `pio run -e $env -t build-and-copy`, more configuration options for the version string ([6f122f5e](https://github.com/xoseperez/espurna/commit/6f122f5ecb2af5bb0af0cbdedbe1166f1b92262d), [4c33cacf](https://github.com/xoseperez/espurna/commit/4c33cacfdbe4c51ff52ffb9f530006dfa7037a6b))\n\n## [1.15.0-dev] Snapshot build 2022-08-16\n- Move -dev builds from [mcspr/espurna-nightly-builder](https://github.com/mcspr/espurna-nightly-builder) to [xoseperez/espurna](https://github.com/xoseperez/espurna) releases\n- Correctly scale NTC value based on input voltage ([#2500](https://github.com/xoseperez/espurna/issues/2500), [1b49326e](https://github.com/xoseperez/espurna/commit/1b49326e12676112163ad5d10aa1574f727b85e7))\n- Arduino Core (`analogWrite()`) PWM provider (optional, configured at build-time) ([b0da3e8c](https://github.com/xoseperez/espurna/commit/b0da3e8c7f13e7edc7a092873466e8cd49d83e54), [2365d08b](https://github.com/xoseperez/espurna/commit/2365d08b88bcb810b2c2be3c47eacfee99184fc6))\n- Generic conversion for metric units, in both directions ([b366d77a](https://github.com/xoseperez/espurna/commit/b366d77a5e34c520337727bec1b3fa51fe8764b3))\n\n## [1.15.0-dev] Nightly build 2022-05-22\n- Magnitude variables may not end in number when there's only one of that type ([5fcac5d2](https://github.com/xoseperez/espurna/commit/5fcac5d27f713ca4a84da3dc8f0b4d10c25c3050))\n\n## [1.15.0-dev] Nightly build 2022-05-18\n- Add support for INA219 current and power monitor sensor ([#2510](https://github.com/xoseperez/espurna/issues/2501), [660d8c33](https://github.com/xoseperez/espurna/commit/660d8c339b8bee32575c216cfc78d7b7138c285d), thanks to **[@hamed-ta](https://github.com/hamed-ta)**)\n\n## [1.15.0-dev] Nightly build 2022-05-07\n- Add support for Itead Sonoff POW R3 ([#2506](https://github.com/xoseperez/espurna/issues/2506), thanks to **[@nixkj](https://github.com/nixkj)**)\n- Add PM1006 air quality sensor, found inside the IKEA VINDRIKTNING ([#2505](https://github.com/xoseperez/espurna/issues/2505), thanks to **[@xoseperez](https://github.com/xoseperez)**)\n\n## [1.15.0-dev] Nightly build 2022-05-05\n- Show all of correction / offset settings in the WebUI ([#2491](https://github.com/xoseperez/espurna/issues/2491), [62b2edad](https://github.com/xoseperez/espurna/commit/62b2edadc4649d1e3810c6dd27261e8a45739664))\n- Update IRremoteESP8266 to 2.8.2 ([6b1a2de0](https://github.com/xoseperez/espurna/commit/6b1a2de06d0f0b8224f7cb4781bf8ebaafc233c1))\n- Updated most of dependencies to use [PlatformIO Registry](https://registry.platformio.org) ([2b50620f](https://github.com/xoseperez/espurna/commit/2b50620f926190712f32a334db6dcc4a5f40e730))\n\n## [1.15.0-dev] Nightly build 2022-01-14\n- Don't cancel saving the `relayBootMask` when relays are processed in a certain order ([0c57f0bc](https://github.com/xoseperez/espurna/commit/0c57f0bcf9944e375869544fafe0fc0455964aa4))\n\n## [1.15.0-dev] Nightly build 2021-12-19\n- Update websocket client timeout and update message configuration to use seconds instead of milliseconds ([135c7b80](https://github.com/xoseperez/espurna/commit/135c7b80acbfd28136146f08188d81262afd795c))\n\n## [1.15.0-dev] Nightly build 2021-11-26\n- Add support for Yagusmart switches ([#2488](https://github.com/xoseperez/espurna/pull/2488), thanks to **[@MelanieT](https://github.com/MelanieT)**)\n- Use 64bit microseconds time source for uptime, no need to count overflows manually ([1ca98880](https://github.com/xoseperez/espurna/commit/1ca98880d64db0865d02f009002bc22e32ae5076))\n- Update load average and system stability check intervals to use seconds instead of milliseconds ([1ca98880](https://github.com/xoseperez/espurna/commit/1ca98880d64db0865d02f009002bc22e32ae5076))\n\n## [1.15.0-dev] Nightly build 2021-11-23\n- SHT3X: add missing I2C address A (0x44) ([#2484](https://github.com/xoseperez/espurna/issues/2484), thanks to **[@drc38](https://github.com/drc38)**)\n- Deprecate `..._MIN_CHANGE` and `..._MAX_CHANGE` build flags in favour of per-magnitude runtime settings ([1ef22e16](https://github.com/xoseperez/espurna/commit/1ef22e16f10818d893a0a8912d55b1dbce88fcdb))\n- Reduce IRAM usage in sensors using attachInterrupt() ([9db679f9](https://github.com/xoseperez/espurna/commit/9db679f93a61114dec8dad5f2953e59b7663c86a))\n- Terminal commands to set expected ratio (`EXPECTED`) and total energy recorded by the sensor (`ENERGY`) [8f7f1c96](https://github.com/xoseperez/espurna/commit/8f7f1c968f92c42f4f80c53ddfb617af18b68a85)\n- Remove `PZ.RESET` and `PZ.VALUE` commands in favour of `EXPECTED`, `ENERGY` and `MAGNITUDES` ([8f7f1c96](https://github.com/xoseperez/espurna/commit/8f7f1c968f92c42f4f80c53ddfb617af18b68a85))\n\n## [1.15.0-dev] Nightly build 2021-08-21\n- Off-by-one error when formatting to allocated buffer ([efcb863c](https://github.com/xoseperez/espurna/commit/efcb863ca271d3afa2e9accd990bb6adaa3f9652))\n- Check the return code of the git process and fail early, when trying to generate the version string ([bdd821db](https://github.com/xoseperez/espurna/commit/bdd821db8609277fef827ce533570818a7614f55))\n\n## [1.15.0-dev] Nightly build 2021-08-16\n- Don't treat static PROGMEM and generic C-strings differently ([b167d616](https://github.com/xoseperez/espurna/commit/b167d61615f65b618999d8ed727851a236867b8a), [d9662bd6](https://github.com/xoseperez/espurna/commit/d9662bd66ae9f902707f393a607a07ba713e1199))\n- Separate lights IDX from relays, migrate existing configuration from `dczRelayIdx0` to `dczLightIdx` ([94f31241](https://github.com/xoseperez/espurna/commit/94f31241dc42508791d6a582cd163bec33a40a56))\n- Update latest Arduino Core platform to 3.0.2 ([1ca8d5e7](https://github.com/xoseperez/espurna/commit/1ca8d5e7a0130c2c23e958208b176bb8e8312d7c))\n\n## [1.15.0-dev] Nightly build 2021-08-06\n- HLW8012: gpio runtime configuration ([#2142 (initial Pull Request)](https://github.com/xoseperez/espurna/issues/2142), [fa5e4f7d](https://github.com/xoseperez/espurna/commit/fa5e4f7d06db6bde01f3bebf4f2c8151893c97aa))\n- Try to connect to a better AP, when the current RSSI is below -73dBm (only when WiFi scanning is enabled) ([f0f7dcc8](https://github.com/xoseperez/espurna/commit/f0f7dcc874d6f6f4b095b6cb89e69cdb65219150), [dde5f374](https://github.com/xoseperez/espurna/commit/dde5f374dd038afe1fb966d31e16bdac1be581fb), [5a973298 (initial commit)](https://github.com/xoseperez/espurna/commit/5a97329832816219a919c4669e22ad6af0c8d228))\n- Allow to set bssid and channel, when scanning is disabled ([c5f70286](https://github.com/xoseperez/espurna/commit/c5f70286d1e63972446c2148914352d9f6acf345))\n\n## [1.15.0-dev] Nightly build 2021-07-20\n- Display the device name in the WebUI ([6b2c34ea](https://github.com/xoseperez/espurna/commit/6b2c34eaae92f196deaaea82ae2864ff2fc6e4cc))\n- Set websocket buffer to `nullptr` before returning control to the webserver, which will try to `free()` it ([256e790e](https://github.com/xoseperez/espurna/commit/256e790e4d7374e12430dad57e25ece7b880be25))\n- Use eslint and html-validate in CI ([433f399d](https://github.com/xoseperez/espurna/commit/433f399d9ce769e57ce660d93161649f6287e054))\n- Set MQTT variables just before running the rules ([32b864c5](https://github.com/xoseperez/espurna/commit/32b864c56394016666b716c1623aaf9c85432ed3), [658ce105](https://github.com/xoseperez/espurna/commit/658ce1056e3f11832bce3457c91c0c325c24f509))\n- Remove jquery dependencies and clean-up websocket API ([fa3deeff](https://github.com/xoseperez/espurna/commit/fa3deeffbfa622ecd1869af2563940fb3143e94e), [84a7f633](https://github.com/xoseperez/espurna/commit/84a7f6337f72b011512b3e95efe36f2d661e5065), [8e5ab5c9](https://github.com/xoseperez/espurna/commit/8e5ab5c902a23dfd774dd9e768963856d4f26bd3))\n\n## [1.15.0-dev] Nightly build 2021-06-28\n- Make brzo i2c library buildable again ([19f32145](https://github.com/xoseperez/espurna/commit/19f3214578ce3429e9140c6a42d1575e4b7fa498), ref. [pasko-zh/brzo\\_i2c#44](https://github.com/pasko-zh/brzo_i2c/issues/44))\n- Shared ADS1X115 I2CPort, support common gain & data rate settings ([c056c54d](https://github.com/xoseperez/espurna/commit/c056c54db4a528d038584fbfacb8fb410c7c7a2e))\n- MDNS auto-connect only works when MQTT is enabled ([06fa5b1c](https://github.com/xoseperez/espurna/commit/06fa5b1c6d3705df48130ad4fe4d946227d4b08e))\n\n## [1.15.0-dev] Nightly build 2021-06-22\n- Bump to 0.4.0 (fork) to support the latest Core version ([0422d61c](https://github.com/xoseperez/espurna/commit/0422d61c6969be9963e83850e10b7b217b6e9190))\n- Schedule restore no longer depends on relays ([c945c239](https://github.com/xoseperez/espurna/commit/c945c239ea806f8926aefe6262a52177bd089aa5), [e22f67e5](https://github.com/xoseperez/espurna/commit/e22f67e5d61ce8c3c1eb1f9a50f2d6261b8b8d57))\n- Fix setting up GPIO0 as INPUT when preparing to use analogRead(A0) ([ff11e581](https://github.com/xoseperez/espurna/commit/ff11e5814ff1fc938afa439c15f57fa9909b9e4a))\n- Fix a typo when getting local index for Nth magnitude ([6ba5f95e](https://github.com/xoseperez/espurna/commit/6ba5f95e875468f2b7a93c69b45fc6f6c62f390f))\n- Rework build.sh & new release script generator ([75b51f1e](https://github.com/xoseperez/espurna/commit/75b51f1e80260e2325709e7426fc5b2ebd88ada9), [74e18a59](https://github.com/xoseperez/espurna/commit/74e18a59bcbe7a2ea72fccb6d4e5e484bf348bb9))\n- Remove Core 2.3.0 support from .ld scripts ([a1e7941f](https://github.com/xoseperez/espurna/commit/a1e7941fa60339fed84f259033523e1e17e3f17d))\n- lightfox relay provider & buttonAdd ([bd3a5889](https://github.com/xoseperez/espurna/commit/bd3a588977fb8b195f2bba40618839b617767485))\n- Use SoftwareSerial library from the Core ([23da0b74](https://github.com/xoseperez/espurna/commit/23da0b74d403cebc27b6ae0ca520da3218bf7a47))\n- Consistent shared libs location with CI and local install, prefer $repo/code/libraries ([f18f128e](https://github.com/xoseperez/espurna/commit/f18f128e4bb718f448ca460cdb0e39545187d7fe), [5ccc70e4](https://github.com/xoseperez/espurna/commit/5ccc70e42e2a3f7410b629d433b301275a149296))\n- Further EmonSensor fixes and refactoring ([b19905a3](https://github.com/xoseperez/espurna/commit/b19905a3065672412351c38d859fc3f6cd7ad5cd))\n- Rename generic pwr keys with a typed prefix ([1a36efb8](https://github.com/xoseperez/espurna/commit/1a36efb8f2032ac81c5aaa51623a71234b1c4287))\n- Tweak analogRead() frequency in Emon sensor ([c136678a](https://github.com/xoseperez/espurna/commit/c136678a4f02b7cae2e59fe843c3910a660f49d1))\n\n## [1.15.0-dev] Nightly build 2021-05-21\n- Fix saving base2 integers ([71ddf350](https://github.com/xoseperez/espurna/commit/71ddf35022678667d0269ecc9c60c69bdab68079))\n\n## [1.15.0-dev] Nightly build 2021-05-14\n- Add support for SmartMeasure SM300D2-VO2 air quality multi-sensor ([#2447](https://github.com/xoseperez/espurna/issues/2447), thanks to **[@xoseperez](https://github.com/xoseperez)**)\n\n## [1.15.0-dev] Nightly build 2021-05-02\n- Fix sync reentrancy lock ([94169dcb](https://github.com/xoseperez/espurna/commit/94169dcbb19b8b83118aaf6c18daf6064cbfa76f))\n- Stable configuration IDs ([04569c6a](https://github.com/xoseperez/espurna/commit/04569c6a10afe2a662a22c77c7977746f72ea7e1))\n- Rework stability counter ([474f0e93](https://github.com/xoseperez/espurna/commit/474f0e93693387f2c85fa28d5df7e0c80716c85a))\n- Refactor build configurations ([f9211634](https://github.com/xoseperez/espurna/commit/f92116341e141be50f946682404e2d0514fd11f3))\n- Clean-up helper classes & functions ([ec220b7d](https://github.com/xoseperez/espurna/commit/ec220b7dd1f3b26e81138cec55beec8e37ab35f9))\n- Send lights channel value directly ([012c3818](https://github.com/xoseperez/espurna/commit/012c3818a59cd46cc89e2affc5ddcdea427a17c1))\n- Always run the discovery ([2a08ccb2](https://github.com/xoseperez/espurna/commit/2a08ccb2113f8be4495a58aa7b95331591ebcd0b))\n- Get rid of tabindex= property ([14c69a4a](https://github.com/xoseperez/espurna/commit/14c69a4a52cc842c0bf294786ea34904acf0aeec))\n- External url clean-up ([d60fb47c](https://github.com/xoseperez/espurna/commit/d60fb47ca9be2f591b82f72678b36b02c1c79beb))\n- Remove hard-coded group keys list ([1627e311](https://github.com/xoseperez/espurna/commit/1627e3119fe9084398b8e8c0ec794b8ed3a4f6b6))\n- Send alert messages directly ([458fb7d9](https://github.com/xoseperez/espurna/commit/458fb7d936ec9d266cfce275f999dd629fb82e2f))\n- New module for digital LED strips ([#2408](https://github.com/xoseperez/espurna/issues/2408), [c4d817c4](https://github.com/xoseperez/espurna/commit/c4d817c4fba05d70808b234eef3ac5d1ec2bf8c0), [46daa929](https://github.com/xoseperez/espurna/commit/46daa929f5e284877e105208c4e78f7844ae1b64), [d11f82d0](https://github.com/xoseperez/espurna/commit/d11f82d098a69a4a127a8db3218c5643f9831371), [4923377e](https://github.com/xoseperez/espurna/commit/4923377eacc5158896e8fd9ddbc993d1bb2653be), [6508f6bd](https://github.com/xoseperez/espurna/commit/6508f6bda8da2acef555fd2b909b7e2983b97e83), [24550a5b](https://github.com/xoseperez/espurna/commit/24550a5b80e1a626a7d8090746c0cfda2bfb4b23), [4efc417a](https://github.com/xoseperez/espurna/commit/4efc417a39220638079bdf060b0fc204d777f942), [f640cd8e](https://github.com/xoseperez/espurna/commit/f640cd8ecb3d170e9082d60461b89e29454bbbd4), [518d56b4](https://github.com/xoseperez/espurna/commit/518d56b442dda92c267fdb71e6b51b8a27638c0f), [0f73df7c](https://github.com/xoseperez/espurna/commit/0f73df7c36f940040c6a6416c15d39c7eee213be), [3fe68748](https://github.com/xoseperez/espurna/commit/3fe68748637099f08008fa5afc3650e09551285f), [dad8878c](https://github.com/xoseperez/espurna/commit/dad8878ccfcef68f616fed7296b0f07983d855c3), [660ae138](https://github.com/xoseperez/espurna/commit/660ae138d4a40bd3c48058f46d086d396fb217e0), thanks to **[@ElderJoy](https://github.com/ElderJoy)**)\n- Add support for Mirabella Genio White A60 globe ([#2439](https://github.com/xoseperez/espurna/issues/2439), [2fc559fa](https://github.com/xoseperez/espurna/commit/2fc559fa5596c6ae3f3cc906177e287c38c6333e), thanks to **[@andrewleech](https://github.com/andrewleech)**)\n- Reworked discovery, implement retries and queueing using the MQTT broker ACKs ([59269789](https://github.com/xoseperez/espurna/commit/59269789dc80308e9afc1e4b3051d9d33e13bf8f))\n- Scheduler API ([#2431](https://github.com/xoseperez/espurna/issues/2431), thanks to **[@profawk](https://github.com/profawk)**)\n- Updated build defaults based on [#2414](https://github.com/xoseperez/espurna/issues/2414) discussion ([92d5e7be](https://github.com/xoseperez/espurna/commit/92d5e7becba23552c836bda8404305a8dc8eb07d))\n- Create .map file for the resulting .elf to debug possible compilation issues ([21794b78](https://github.com/xoseperez/espurna/commit/21794b789296683b7ae00a209a42f35ab1023fa1), [1ed00f57](https://github.com/xoseperez/espurna/commit/1ed00f57683197608418a482f0b3b262991856f4))\n- Support MQTT wildcards (`#` and `+`) in group subscription topic ([dcc423ec](https://github.com/xoseperez/espurna/commit/dcc423ecaf556082ea7d358b886167f6ad179a21))\n- Keep serial disabled in the sonoff rfbridge hardware.h entry ([10519cc2](https://github.com/xoseperez/espurna/commit/10519cc276383b622222a457a19e55d7972d332f))\n- Allow to use `<code>,<times>` in rfbON\\# / rfbOFF\\# settings keys, just like with the API payload ([19947c12](https://github.com/xoseperez/espurna/commit/19947c1231c067301427303c77316565b9163bb4))\n- Terminal commands to send the code ([52a244db](https://github.com/xoseperez/espurna/commit/52a244db6e9fe4ad373b580ed4e504c0d84d6afd))\n- Add BME680 sensor support ([#2429](https://github.com/xoseperez/espurna/issues/2429), [#2361](https://github.com/xoseperez/espurna/issues/2361), [#2295](https://github.com/xoseperez/espurna/issues/2295), thanks to **[@ruimarinho](https://github.com/ruimarinho)**)\n- Controlling global state no longer requires `RELAY_SUPPORT` or specifying a virtual relay in the configuration. Updated modules and APIs to use light controls directly ([2f39d0db](https://github.com/xoseperez/espurna/commit/2f39d0db8a71533dac0cf7c27a719d0097a001d2))\n- Do not call the provider or run any transitions when channel values remain unchanged ([2f39d0db](https://github.com/xoseperez/espurna/commit/2f39d0db8a71533dac0cf7c27a719d0097a001d2))\n- Set default heartbeat mode to repeat ([f4726d99](https://github.com/xoseperez/espurna/commit/f4726d996636aeaff2e1b62383e2bc5dc00e4a59))\n- Simplify NTP tick callback, dont use broker ([13cbc031](https://github.com/xoseperez/espurna/commit/13cbc0310a054309db595451a787bc10f0ab5ca2))\n- Remove legacy module based on [NtpClient](https://github.com/gmag11/NtpClient) ([2de44ed5](https://github.com/xoseperez/espurna/commit/2de44ed5d94cc88378b261cebd53c9aa8c4a992e))\n- Use direct status update functions instead of broker ([78b4007f](https://github.com/xoseperez/espurna/commit/78b4007f01e8df9334d16e9550a03443527176f2))\n- Rework boot info and terminal commands ([7ea73554](https://github.com/xoseperez/espurna/commit/7ea735548bcd41742fac32e8733b2084c4c334cd))\n\n## [1.15.0-dev] Nightly build 2021-01-16\n- Custom action type ([ef194c9c](https://github.com/xoseperez/espurna/commit/ef194c9c2430ed14ddf5905214e2968c0f5f9980), [8ceeebdb](https://github.com/xoseperez/espurna/commit/8ceeebdb24aa9bd863fa28676a0364497ec193ae))\n- Refactor iFan into a separate module ([a40eca30](https://github.com/xoseperez/espurna/commit/a40eca30ad79315afdb67afa0b0743d4c0087e93))\n- Updated build defaults based on [#2414](https://github.com/xoseperez/espurna/issues/2414) discussion ([92d5e7be](https://github.com/xoseperez/espurna/commit/92d5e7becba23552c836bda8404305a8dc8eb07d))\n- Use [iro.js](https://github.com/jaames/iro.js) as color picker ([808981ca](https://github.com/xoseperez/espurna/commit/808981ca3938d11d4ddd87005e2881433cc7707b))\n- Use [terser](https://github.com/terser/terser) as js minifier, WebUI is no longer limited to ES5 feature set ([cfd6e36d](https://github.com/xoseperez/espurna/commit/cfd6e36dbe94ee0e8098351357f903c060fd5dc9))\n\n## [1.15.0-dev] Nightly build 2021-01-06\n- Send co2 ppm as nvalue ([d04b85ac](https://github.com/xoseperez/espurna/commit/d04b85ac974f73a68e4e57bce494cda4ac5d6b87))\n- Simplify version + revision into just version ([f0f6f1b8](https://github.com/xoseperez/espurna/commit/f0f6f1b8c907fbf188704e3055210d8202a12f21))\n\n## [1.15.0-dev] Nightly build 2020-12-25\n- New module for digital LED strips ([#2408](https://github.com/xoseperez/espurna/issues/2408), [c4d817c4](https://github.com/xoseperez/espurna/commit/c4d817c4fba05d70808b234eef3ac5d1ec2bf8c0), [46daa929](https://github.com/xoseperez/espurna/commit/46daa929f5e284877e105208c4e78f7844ae1b64), [d11f82d0](https://github.com/xoseperez/espurna/commit/d11f82d098a69a4a127a8db3218c5643f9831371), [4923377e](https://github.com/xoseperez/espurna/commit/4923377eacc5158896e8fd9ddbc993d1bb2653be), [6508f6bd](https://github.com/xoseperez/espurna/commit/6508f6bda8da2acef555fd2b909b7e2983b97e83), [24550a5b](https://github.com/xoseperez/espurna/commit/24550a5b80e1a626a7d8090746c0cfda2bfb4b23), [4efc417a](https://github.com/xoseperez/espurna/commit/4efc417a39220638079bdf060b0fc204d777f942), [f640cd8e](https://github.com/xoseperez/espurna/commit/f640cd8ecb3d170e9082d60461b89e29454bbbd4), [518d56b4](https://github.com/xoseperez/espurna/commit/518d56b442dda92c267fdb71e6b51b8a27638c0f), [0f73df7c](https://github.com/xoseperez/espurna/commit/0f73df7c36f940040c6a6416c15d39c7eee213be), [3fe68748](https://github.com/xoseperez/espurna/commit/3fe68748637099f08008fa5afc3650e09551285f), [dad8878c](https://github.com/xoseperez/espurna/commit/dad8878ccfcef68f616fed7296b0f07983d855c3), [660ae138](https://github.com/xoseperez/espurna/commit/660ae138d4a40bd3c48058f46d086d396fb217e0), thanks to **[@ElderJoy](https://github.com/ElderJoy)**)\n\n## [1.15.0-dev] Nightly build 2020-12-06\n- Rework plain and JSON implementations ([#2405](https://github.com/xoseperez/espurna/issues/2405))\n\n## [1.15.0-dev] Nightly build 2020-11-29\n- Default Emon ratios at compile time ([12ae9d15](https://github.com/xoseperez/espurna/commit/12ae9d15be3f282c30bd5f6b39680d4de1e0ca85))\n\n## [1.15.0-dev] Nightly build 2020-11-03\n- Add support for Gosund P1 Power Strip ([#2391](https://github.com/xoseperez/espurna/issues/2391), thanks to **[@alextircovnicu](https://github.com/alextircovnicu)**)\n\n## [1.15.0-dev] Nightly build 2020-10-29\n- Fix device discovery / state callback ([#2388](https://github.com/xoseperez/espurna/issues/2388), thanks to **[@aL1aL7](https://github.com/aL1aL7)**)\n\n## [1.15.0-dev] Nightly build 2020-10-16\n- Add support for LSC E27 10W white bulb ([#2375](https://github.com/xoseperez/espurna/issues/2375), thanks to **[@tom-kaltofen](https://github.com/tom-kaltofen)**)\n- Add support for Benexmart GU5.3 RGBWW light ([#2381](https://github.com/xoseperez/espurna/issues/2381), thanks to **[@ngilles](https://github.com/ngilles)**)\n\n## [1.15.0-dev] Nightly build 2020-10-01\n- Only change EventSensor counter from the ISR ([735e5c0e](https://github.com/xoseperez/espurna/commit/735e5c0ec22fabfdcfa55123b9bceaa3d8f917b8))\n\n## [1.15.0-dev] Nightly build 2020-09-27\n- add missing lights #include for rpn rules ([#2367](https://github.com/xoseperez/espurna/issues/2367), thanks to **[@ngilles](https://github.com/ngilles)**)\n- Detect Tasmota magic numbers when booting, and do a preventive factory reset ([#2370](https://github.com/xoseperez/espurna/issues/2370))\n\n## [1.15.0-dev] Nightly build 2020-09-25\n- Resistor ladder / analog buttons support ([#2357](https://github.com/xoseperez/espurna/issues/2357))\n- Add support for Gosund SP111 (hardware version 1.1 16A) ([#2360](https://github.com/xoseperez/espurna/issues/2360), [#2369](https://github.com/xoseperez/espurna/issues/2369), thanks to **[@alextircovnicu](https://github.com/alextircovnicu)**)\n- system operators `sleep` and `rtcmem` ([#2366](https://github.com/xoseperez/espurna/issues/2366))\n\n## [1.15.0-dev] Nightly build 2020-09-16\n- Add support for Fcmila E27 7W RGB+W light bulb ([#2353](https://github.com/xoseperez/espurna/issues/2353), thanks to **[@user176176](https://github.com/user176176)**)\n\n## [1.15.0-dev] Nightly build 2020-09-05\n- Add support for the Zhilde ZLD-64EU-W ([#2342](https://github.com/xoseperez/espurna/issues/2342), thanks to **[@biot](https://github.com/biot)**)\n\n## [1.15.0-dev] Nightly build 2020-09-01\n- [Prometheus](https://prometheus.io/) metrics support ([#2332](https://github.com/xoseperez/espurna/issues/2332))\n\n## [1.15.0-dev] Nightly build 2020-08-27\n- rfbridge operators (`rfb_send`, `rfb_pop`, `rfb_info`, `rfb_sequence`, `rfb_match`, `rfb_match_wait`) and mqtt fixes ([#2302](https://github.com/xoseperez/espurna/issues/2302))\n- Use [fork of rc-switch](https://github.com/1technophile/rc-switch) ([7a24806a](https://github.com/xoseperez/espurna/commit/7a24806adb2c3e2357171e004b5b760daf3bdca4))\n\n## [1.15.0-dev] Nightly build 2020-08-15\n- Fix swapped device model and manufacturer fields in the discovery ([#2322](https://github.com/xoseperez/espurna/issues/2322), thanks to **[@alextircovnicu](https://github.com/alextircovnicu)**)\n- Fixed build error in case IR TX is not used in raw mode ([#2322](https://github.com/xoseperez/espurna/issues/2322), thanks to **[@alextircovnicu](https://github.com/alextircovnicu)**)\n\n## [1.15.0-dev] Nightly build 2020-08-14\n- Allow dimmer device to control the brightness ([#2317](https://github.com/xoseperez/espurna/issues/2317), thanks to **[@m-kozlowski](https://github.com/m-kozlowski)**)\n\n## [1.15.0-dev] Nightly build 2020-08-12\n- Fix idx truncation when reading from settings ([#2316](https://github.com/xoseperez/espurna/issues/2316), thanks to **[@m-kozlowski](https://github.com/m-kozlowski)**)\n\n## [1.15.0-dev] Nightly build 2020-08-03\n- Fix general.h comment typo ([#2311](https://github.com/xoseperez/espurna/issues/2311), thanks to **[@ruimarinho](https://github.com/ruimarinho)**)\n\n## [1.15.0-dev] Nightly build 2020-07-20\n- Set pH decimals to 3 ([#2306](https://github.com/xoseperez/espurna/issues/2306), thanks to **[@ruimarinho](https://github.com/ruimarinho)**)\n\n## [1.15.0-dev] Nightly build 2020-07-17\n- Implement support for ProDino WIFI ([#2269](https://github.com/xoseperez/espurna/issues/2269), thanks to **[@dpeddi](https://github.com/dpeddi)**)\n\n## [1.15.0-dev] Nightly build 2020-06-28\n- Add support for AG-L4 v3 ([#2276](https://github.com/xoseperez/espurna/issues/2276)), thanks to **[@andrej-peterka](https://github.com/andrej-peterka)**\n- Including support for Arlec PC190HA/PB89HA ([#2286](https://github.com/xoseperez/espurna/issues/2286), thanks to **[@mafrosis](https://github.com/mafrosis)**)\n\n## [1.15.0-dev] Nightly build 2020-05-27\n- Refactor WS implementation, add some comments to the header ([#2261](https://github.com/xoseperez/espurna/issues/2261))\n\n## [1.15.0-dev] Nightly build 2020-05-26\n- Handle received data as terminal command ([#2247](https://github.com/xoseperez/espurna/issues/2247))\n- Handle received payload as terminal input (by default, `<root topic>/cmd`) ([#2247](https://github.com/xoseperez/espurna/issues/2247))\n\n## [1.15.0-dev] Nightly build 2020-05-22\n- Add '.example' files. ([#2257](https://github.com/xoseperez/espurna/issues/2257), thanks to **[@davebuk](https://github.com/davebuk)**)\n\n## [1.15.0-dev] Nightly build 2020-05-18\n- Fix nofuss.cpp typo ([#2251](https://github.com/xoseperez/espurna/issues/2251), thanks to **[@CmPi](https://github.com/CmPi)**)\n- Kingart curtain switch UI support ([#2250](https://github.com/xoseperez/espurna/issues/2250), thanks to **[@echauvet](https://github.com/echauvet)**)\n\n## [1.15.0-dev] Nightly build 2020-05-13\n- rpn $relayX variables were not populated on boot ([#2246](https://github.com/xoseperez/espurna/issues/2246), thanks to **[@pezinek](https://github.com/pezinek)**)\n- Properly dispatch emon sensor ratio defaults ([#2241](https://github.com/xoseperez/espurna/issues/2241))\n- Directly iterate over internal callbacks array ([#2248](https://github.com/xoseperez/espurna/issues/2248), [#2261](https://github.com/xoseperez/espurna/issues/2261))\n- Add support for HUGOAI smart socket plug. ([#2243](https://github.com/xoseperez/espurna/issues/2243), thanks to **[@estebanz01](https://github.com/estebanz01)**)\n- Load ratios after boot + show pwr defaults with `get` ([#2241](https://github.com/xoseperez/espurna/issues/2241))\n\n## [1.15.0-dev] Nightly build 2020-05-02\n- KingArt WiFi Curtain Switch ([#2063](https://github.com/xoseperez/espurna/issues/2063), thanks to **[@AlbertWeterings](https://github.com/AlbertWeterings)**)\n\n## [1.15.0-dev] Nightly build 2020-05-01\n- Add support for Aoycocr X5P Plug. ([#2235](https://github.com/xoseperez/espurna/issues/2235), thanks to **[@estebanz01](https://github.com/estebanz01)**)\n\n## [1.15.0-dev] Nightly build 2020-04-29\n- Do not put floats into nvalue ([#2230](https://github.com/xoseperez/espurna/issues/2230))\n- Constrain pressure to 0...100 ([#2230](https://github.com/xoseperez/espurna/issues/2230))\n- HLW8012: energy\\_delta ([#2230](https://github.com/xoseperez/espurna/issues/2230))\n\n## [1.15.0-dev] Nightly build 2020-04-26\n- Fix ADC\\_MODE\\_VALUE use in preprocessor ([#2227](https://github.com/xoseperez/espurna/issues/2227), thanks to **[@vtochq](https://github.com/vtochq)**)\n- Add HDC1080 sensor ([#2227](https://github.com/xoseperez/espurna/issues/2227), thanks to **[@vtochq](https://github.com/vtochq)**)\n\n## [1.15.0-dev] Nightly build 2020-04-08\n### Sensors\n- Emon refactoring ([#2213](https://github.com/xoseperez/espurna/issues/2213))\n- Add workaround for pressure sensors ([#2215](https://github.com/xoseperez/espurna/issues/2215))\n- Add SI1145 sensor ([#2216](https://github.com/xoseperez/espurna/issues/2216), thanks to **[@HilverinkJ](https://github.com/HilverinkJ)**)\n### PlatformIO\n- platformio.ini refactoring ([#2212](https://github.com/xoseperez/espurna/issues/2212))\n- Rename generic environments ([#2214](https://github.com/xoseperez/espurna/issues/2214))\n\n## [1.15.0-dev] Nightly build 2020-04-02\n- Gosund WP3 LED documentation and provide reasonable default actions ([#2200](https://github.com/xoseperez/espurna/issues/2200), thanks to **[@ziggurat29](https://github.com/ziggurat29)**)\n\n## [1.15.0-dev] Nightly build 2020-03-31\n- Board definition for the Gosund WP3 smart socket ([#2191](https://github.com/xoseperez/espurna/issues/2191), thanks to **[@ziggurat29](https://github.com/ziggurat29)**)\n\n## [1.15.0-dev] Nightly build 2020-03-21\n- Example for Generic ESP01 boards with 512KiB flash ([#2185](https://github.com/xoseperez/espurna/issues/2185), thanks to **[@ziggurat29](https://github.com/ziggurat29)**)\n- Allow to disable Web(UI) OTA support ([#2190](https://github.com/xoseperez/espurna/issues/2190))\n- Always buffer incoming MQTT ([#2181](https://github.com/xoseperez/espurna/issues/2181))\n\n## [1.15.0-dev] Nightly build 2020-03-13\n- Apparent, reactive power measurement unit corrections ([#2161](https://github.com/xoseperez/espurna/issues/2161), thanks to **[@irmishappy](https://github.com/irmishappy)**)\n- Add support for read PIO-A of DS2406 ([#2174](https://github.com/xoseperez/espurna/issues/2174), thanks to **[@rmcbc](https://github.com/rmcbc)**)\n- Update migrate configuration & conditions, allow each module to access the current & previous version ([#2176](https://github.com/xoseperez/espurna/issues/2176))\n\n## [1.15.0-dev] Nightly build 2020-03-08\n- Fix for button long click ([#2172](https://github.com/xoseperez/espurna/issues/2172), thanks to **[@ElderJoy](https://github.com/ElderJoy)**)\n- Fixes and updates for thermostat and display ([#2173](https://github.com/xoseperez/espurna/issues/2173), thanks to **[@ElderJoy](https://github.com/ElderJoy)**)\n\n## [1.15.0-dev] Nightly build 2020-02-20\n### PlatformIO\n- Use development version of PlatformIO Core in CI ([#2146](https://github.com/xoseperez/espurna/issues/2146), thanks to **[@ivankravets](https://github.com/ivankravets)**)\n- Bump RFM69 version ([#2148](https://github.com/xoseperez/espurna/issues/2148))\n- Pin arduino-mqtt version ([#2154](https://github.com/xoseperez/espurna/issues/2154))\n### System\n- Fix http response parsing, refactor module scope ([#2153](https://github.com/xoseperez/espurna/issues/2153))\n- Set keepalive to be less than heartbeat interval ([#2154](https://github.com/xoseperez/espurna/issues/2154))\n### Hardware\n- Config for Teckin SP23 & Maxcio W-UK007S ([#2157](https://github.com/xoseperez/espurna/issues/2157), thanks to **[@julianwb](https://github.com/julianwb)**)\n- Fix latched pulse always being HIGH ([#2145](https://github.com/xoseperez/espurna/issues/2145), thanks to **[@antonio-fiol](https://github.com/antonio-fiol)**)\n\n## [1.15.0-dev] Nightly build 2020-02-09\n- Configure Thingspeak URL at runtime ([#2124](https://github.com/xoseperez/espurna/issues/2124), thanks to **[@sametflo](https://github.com/sametflo)**)\n- Refactor deprecated WiFiClientSecure ([#2140](https://github.com/xoseperez/espurna/issues/2140), [#2144](https://github.com/xoseperez/espurna/issues/2144))\n- WebUI: alert when web socket connection closes ([#2131](https://github.com/xoseperez/espurna/issues/2131), thanks to **[@foxman69](https://github.com/foxman69)**)\n\n## [1.15.0-dev] Nightly build 2020-02-05\n- Show pretty uptime string with `NTP_SUPPORT=1` ([#2137](https://github.com/xoseperez/espurna/issues/2137))\n\n## [1.15.0-dev] Nightly build 2020-02-04\n- Configure light dimmer pins from settings ([#2129](https://github.com/xoseperez/espurna/issues/2129))\n- Use sntp app from lwip on latest Cores, replace NtpClient ([#2132](https://github.com/xoseperez/espurna/issues/2132))\n\n## [1.15.0-dev] Nightly build 2020-01-22\n- Led and button GPIO runtime settings ([#2117](https://github.com/xoseperez/espurna/issues/2117), [#2162](https://github.com/xoseperez/espurna/issues/2162), [#2170](https://github.com/xoseperez/espurna/issues/2170), [#2177](https://github.com/xoseperez/espurna/issues/2177))\n\n## [1.15.0-dev] Nightly build 2020-01-21\n### System\n- Refactor get/set/del/hasSetting ([#2048](https://github.com/xoseperez/espurna/issues/2048))\n- Fix GPIO16 support ([#2110](https://github.com/xoseperez/espurna/issues/2110), thanks to **[@foxman69](https://github.com/foxman69)**)\n- Optionally preserve boot log in RAM ([#2109](https://github.com/xoseperez/espurna/issues/2109))\n- Log modes, allow to disable debug messages on boot ([#2116](https://github.com/xoseperez/espurna/issues/2116))\n### MQTT\n- Set MQTT will topic after /get suffix initialization ([#2106](https://github.com/xoseperez/espurna/issues/2106), [#2115](https://github.com/xoseperez/espurna/issues/2115), thanks to **[@tomas-bara](https://github.com/tomas-bara)**)\n### Hardware\n- Added hardware config for Avatto NAS-WR01W ([#2113](https://github.com/xoseperez/espurna/issues/2113), thanks to **[@blockmar](https://github.com/blockmar)**)\n### PlatformIO\n- Deprecate -ota envs, handle OTA condition in extra script ([#2099](https://github.com/xoseperez/espurna/issues/2099))\n\n## [1.15.0-dev] Nightly build 2020-01-14\n### WebUI\n- Fix scheduler panel tabindex= values ([#2096](https://github.com/xoseperez/espurna/issues/2096), thanks to **[@foxman69](https://github.com/foxman69)**)\n### Hardware\n- Add support for Kogan Smarter Home Plug With Energy Meter ([#2086](https://github.com/xoseperez/espurna/issues/2086), thanks to **[@aureq](https://github.com/aureq)**)\n- Add support for Teckin SB53 smart bulb ([#2090](https://github.com/xoseperez/espurna/issues/2090), thanks to **[@marcuswinkler](https://github.com/marcuswinkler)**)\n- Add Shelly 1PM GPIO picture ([#2092](https://github.com/xoseperez/espurna/issues/2092), thanks to **[@lblabr](https://github.com/lblabr)**)\n- Add MagicHome ZJ\\_LB\\_RGBWW\\_L support ([#2100](https://github.com/xoseperez/espurna/issues/2100), thanks to **[@wwilsman](https://github.com/wwilsman)**)\n- Deltaco smart home devices ([#2103](https://github.com/xoseperez/espurna/issues/2103), thanks to **[@orrpan](https://github.com/orrpan)**)\n\n## [1.14.1] 2019-12-31\n\n### Fixed\n#### Devices\n- Set button pullup on shpx-v23 boards ([#2074](https://github.com/xoseperez/espurna/issues/2074), thanks to **[@RDobrinov](https://github.com/RDobrinov)**)\n#### Domoticz\n- Fix unresponsive switches, use proper datastructure to track state ([#2049](https://github.com/xoseperez/espurna/issues/2049))\n#### InfluxDB\n- Use sensor \"report\" instead of sending data each reading. Use async client, send data in batches ([#2061](https://github.com/xoseperez/espurna/issues/2061))\n- Don't queue any new data while connecting\n#### IR\n- Revert \"ir: use proper methods\" ([#2066](https://github.com/xoseperez/espurna/issues/2066), thanks to **[@sehraf](https://github.com/sehraf)** for reporting the issue)\n#### OTA\n- Verify data stream and properly handle errors. Do not write to flash when any error was encountered. ([#2067](https://github.com/xoseperez/espurna/issues/2067))\n#### Sensor\n- Use different Broker instances for read and report data ([#2061](https://github.com/xoseperez/espurna/issues/2061))\n#### WebUI\n- Fix LED mode title style ([#2038](https://github.com/xoseperez/espurna/issues/2038), thanks to **[@foxman69](https://github.com/foxman69)**)\n- Properly handle websocket payloads when scheduler is disabled ([#2050](https://github.com/xoseperez/espurna/issues/2050))\n- Fix colorpicker not working in RGB mode ([#2053](https://github.com/xoseperez/espurna/issues/2053))\n- Remove some unused code from resulting image ([#2053](https://github.com/xoseperez/espurna/issues/2053))\n\n### Added\n#### Devices\n- Add GENERIC\\_E14, e14 rgb+w 4,5w ([#2039](https://github.com/xoseperez/espurna/2039), thanks to **[@orrpan](https://github.com/orrpan)**)\n- Add support for LinkSprite R4 ([#2042](https://github.com/xoseperez/espurna/issues/2042), thanks to **[@mpcusack](https://github.com/mpcusack)**)\n- Add support for eHomeDIY devices. ([#2046](https://github.com/xoseperez/espurna/issues/2046), thanks to **[@user890104](https://github.com/user890104)**)\n- Add support for MAGICHOME\\_ZJ\\_WFMN\\_C\\_11 ([#2051](https://github.com/xoseperez/espurna/issues/2051), thanks to **[@davebuk](https://github.com/davebuk)**)\n- Add support for the LSC LED LIGHT STRIP from ACTION using a tuya chip. ([#2065](https://github.com/xoseperez/espurna/issues/2065), thanks to **[@sehraf](https://github.com/sehraf)**)\n- Add LOHAS\\_E26\\_A19, rename LOHAS\\_9W to LOHAS\\_E27\\_9W ([#2068](https://github.com/xoseperez/espurna/issues/2068), thanks to **[@cro](https://github.com/cro)** for providing A19 configuration)\n#### Home Assistant\n- Try to avoid conflict with useCSS ([#2075](https://github.com/xoseperez/espurna/issues/2075))\n#### WebUI\n- WebUI fix change detection of input elements ([#1986](https://github.com/xoseperez/espurna/issues/1986))\n\n### Changed\n#### Build\n- Removed unneeded reference to Ticker library in RFBridge module\n#### PlatformIO\n- Update latest Arduino core platform to 2.6.3 ([#2069](https://github.com/xoseperez/espurna/issues/2069), thanks to **[@Niek](https://github.com/Niek)**)\n- Test espurna-core feature build ([#2080](https://github.com/xoseperez/espurna/issues/2080))\n#### Scripts\n- Using python3 by default in OTA manager\n- Force get\\_device\\_size to return an int in OTA manager\n- Beautify build script size output\n- ota.py version 0.4 ([#2020](https://github.com/xoseperez/espurna/issues/2020))\n- Do not run test stages on tag in Travis CI ([#2052](https://github.com/xoseperez/espurna/issues/2052))\n\n## [1.14.0] 2019-11-29\n### Fixed\n#### Security\n- Web OTA: check authentication result before accepting payload ([#1812](https://github.com/xoseperez/espurna/issues/1812))\n- Authenticate /reset endpoint ([#1858](https://github.com/xoseperez/espurna/issues/1858), thanks to **[@foxman69](https://github.com/foxman69)**)\n#### General\n- Avoid crashes when using NTPClientLib ([#1642](https://github.com/xoseperez/espurna/pull/1642))\n- Safer loop delay default ([#1574](https://github.com/xoseperez/espurna/issues/1574), [#1631](https://github.com/xoseperez/espurna/issues/1631), [#1699](https://github.com/xoseperez/espurna/issues/1699))\n- Patch lwip1 MTU bug in travis-ci releases ([#1723](https://github.com/xoseperez/espurna/issues/1723))\n- Store default LED settings exactly once ([#1719](https://github.com/xoseperez/espurna/issues/1719), [#1724](https://github.com/xoseperez/espurna/issues/1724))\n- Backup EEPROM before performing OTA ([#1808](https://github.com/xoseperez/espurna/issues/1808), [#1809](https://github.com/xoseperez/espurna/issues/1809), [#2028](https://github.com/xoseperez/espurna/issues/2028), thanks to **[@arihantdaga](https://github.com/arihantdaga)**)\n- Properly handle telnet negotiation ([#1927](https://github.com/xoseperez/espurna/issues/1927), thanks to **[@Niek](https://github.com/Niek)**)\n- Markdown Typo Fix ([#1926](https://github.com/xoseperez/espurna/issues/1926), thanks to **[@mx-web](https://github.com/mx-web)**)\n- Port PROGMEM definition from Cores 2.5.0+ for Core 2.3.0 to fix flashstring use in classes ([#1374](https://github.com/xoseperez/espurna/issues/1374))\n- Use relative time for relay scheduling ([#1962](https://github.com/xoseperez/espurna/pull/1962))\n- Enable all heartbeat messages when `hbReport => \"1\"` ([#2003](https://github.com/xoseperez/espurna/pull/2003))\n#### Devices\n- Add config for push button of Arilux AL-LC06 ([#1794](https://github.com/xoseperez/espurna/issues/1794), thanks to **[@user890104](https://github.com/user890104)**)\n#### WiFi\n- Don't change softAP configuration while user is still connected ([#1881](https://github.com/xoseperez/espurna/issues/1881))\n- Place WIFIN\\_... strings in flash ([#1893](https://github.com/xoseperez/espurna/issues/1893))\n#### MQTT\n- Reset connection timer with PubSubClient / ArduinoMQTT ([#1702](https://github.com/xoseperez/espurna/issues/1702))\n- Remove 'connecting' flag when connected ([#1757](https://github.com/xoseperez/espurna/issues/1757))\n- Fix Arduino-MQTT setWill parameters order ([#1978](https://github.com/xoseperez/espurna/issues/1978), thanks to **[@Niek](https://github.com/Niek)**)\n#### Domoticz\n- Fix crashes with unknown idx values ([#1588](https://github.com/xoseperez/espurna/issues/1588))\n- Treat nvalue >= 1 as true ([#1606](https://github.com/xoseperez/espurna/issuess/1606))\n- Lights: handle cmode=2 ([#1880](https://github.com/xoseperez/espurna/issues/1880))\n#### Thingspeak\n- Several async client fixes to avoid crashes ([#1806](https://github.com/xoseperez/espurna/issues/1806))\n#### Home Assistant\n- Send brightness topic to HA regardless of color setting ([#1730](https://github.com/xoseperez/espurna/issues/1730), thanks to **[@copyrights](https://github.com/copyrights)**)\n- Rework discovery mechanism to prevent loosing messages ([#1969](https://github.com/xoseperez/espurna/issues/1969))\n- Send discovery messages after reconnecting ([#1637](https://github.com/xoseperez/espurna/issues/1637), [#1969](https://github.com/xoseperez/espurna/issues/1969))\n#### Lights\n- Fix relay provider setting of Xiaomi Smart Desk Lamp ([#1627](https://github.com/xoseperez/espurna/issues/1627), thanks to **[@Ctrl-F4](https://github.com/Ctrl-F4)**)\n- Prepare for .cpp migration ([#1874](https://github.com/xoseperez/espurna/issues/1874))\n- Fix inconsistent light transitions ([#1901](https://github.com/xoseperez/espurna/issues/1901), [#1923](https://github.com/xoseperez/espurna/issues/1923))\n#### WebUI\n- WebUI relayOnDisc selector typo ([#1643](https://github.com/xoseperez/espurna/pull/1643))\n- Avoid memory leak when using captive portal ([#1768](https://github.com/xoseperez/espurna/issues/1768))\n- Updated WS protocol structure to reduce memory usage ([#1843](https://github.com/xoseperez/espurna/issues/1843), [#1851](https://github.com/xoseperez/espurna/issues/1851), [#1857](https://github.com/xoseperez/espurna/issues/1857))\n- Send debug messages in batches ([#1851](https://github.com/xoseperez/espurna/issues/1851))\n- Wait for data to be saved before rebooting ([#1863](https://github.com/xoseperez/espurna/issues/1863), thanks to **[@foxman69](https://github.com/foxman69)**)\n#### Sensors\n- Fix cse7766 missing energy magnitude ([#1665](https://github.com/xoseperez/espurna/issues/1665), thanks to **[@lipoforall](https://github.com/lipoforall)**)\n- Fix stored energy values when using kWh ([#1334](https://github.com/xoseperez/espurna/issues/1334)\n- Remove pinMode(0, ...) from AnalogSensor ([#1777](https://github.com/xoseperez/espurna/issues/1777), [#1827](https://github.com/xoseperez/espurna/issues/1827))\n- Check value range for PMSX005 and SenseAir CO2 sensor ([#1865](https://github.com/xoseperez/espurna/issues/1865), thanks to **[@Yonsm](https://github.com/Yonsm)**)\n- DHT: Increase read delay to 1100 usec per datasheet value for `DHT_CHIP_DHT22` ([#1918](https://github.com/xoseperez/espurna/issues/1918), [#1979](https://github.com/xoseperez/espurna/issues/1979), thanks to **[@JavierAder](https://github.com/JavierAder)** and **[@structuralB](https://github.com/structuralB)**)\n- DHT: Add `DHT_CHIP_SI7021` for `ITEAD_SONOFF_TH`, use 500 usec read delay ([#1918](https://github.com/xoseperez/espurna/issues/1918#issuecomment-555672628), [#2000](https://github.com/xoseperez/espurna/issues/2000), thanks to **[@icevoodoo](https://github.com/icevoodoo)**)\n- DHT: Set pin mode before digitalWrite ([#1979](https://github.com/xoseperez/espurna/issues/1979))\n- DHT: Wait DHT_MIN_INTERVAL after initialization ([#1979](https://github.com/xoseperez/espurna/issues/1979))\n#### Build\n- Fix Travis failing with INFLUXDB_SUPPORT ([#1565](https://github.com/xoseperez/espurna/issues/1565))\n- Build with platformio 4 ([#1805](https://github.com/xoseperez/espurna/issues/1805))\n- Update wrong pinout on ag-l4 ([#1746](https://github.com/xoseperez/espurna/issues/1746), thanks to **[@zerog2k](https://github.com/zerog2k)**)\n- Core 2.6.0+ fixes ([#1852](https://github.com/xoseperez/espurna/issues/1852))\n- Add missing DOMOTICZ\\_... #ifndef guards ([#1839](https://github.com/xoseperez/espurna/issues/1839))\n- Add #ifndef guard for BMX280\\_... defines ([#1867](https://github.com/xoseperez/espurna/issues/1867), thanks to **[@0x3333](https://github.com/0x3333)**)\n- MQTT: update MQTT_MAX_PACKET_SIZE to fit JSON payload ([#1888](https://github.com/xoseperez/espurna/issues/1888))\n\n### Added\n#### General\n- [RPN Rules](https://github.com/xoseperez/espurna/wiki/RPN-Rules) - custom rules to execute actions (mostly changing relay and light statuses) based on different inputs ([#1984](https://github.com/xoseperez/espurna/issues/1984), thanks to **[@xoseperez](https://github.com/xoseperez)**)\n- Initial implementation of RTCMEM storage to preserve state (relay status, stability counter, energy etc.) between reboots ([#1420](https://github.com/xoseperez/espurna/issues/1420), [#1770](https://github.com/xoseperez/espurna/issues/1770))\n- Allow to configure all LEDs from UI ([#1429](https://github.com/xoseperez/espurna/issues/1429), thanks to **[@xoseperez](https://github.com/xoseperez)**)\n- SYNC_FIRST relay sync mode ([#1609](https://github.com/xoseperez/espurna/issues/1609), thanks to **[@foxel](https://github.com/foxel)**)\n- Fix ESP.eraseConfig() when using Core 2.3.0 ([#1595](https://github.com/xoseperez/espurna/issues/1595), [#1616](https://github.com/xoseperez/espurna/issues/1616))\n- Add UNUSED macro to prevent warnings\n- Log in travis-ci if WebUI files have changed\n- Terminal: heap fragmentation stat ([#1740](https://github.com/xoseperez/espurna/issues/1740))\n- Recommend using basic BearSSL ciphers with low memory boards ([#1810](https://github.com/xoseperez/espurna/issues/1810), thanks to **[@Niek](https://github.com/Niek)**)\n- New boot mode to lock relay status on boot (`RELAY_BOOT_LOCKED_OFF` and `RELAY_BOOT_LOCKED_ON`) ([#1705](https://github.com/xoseperez/espurna/issues/1705))\n- Add netstat and dns probing (Core 2.5.2+) ([#1907](https://github.com/xoseperez/espurna/issues/1907))\n- Add setting for WiFi TX power (`wifiTxPwr`) ([#1915](https://github.com/xoseperez/espurna/issues/1915))\n- SoftAP button action will now toggle back to STA mode ([#1942](https://github.com/xoseperez/espurna/pull/1942))\n- Detect esp8285 chip to allow the use of GPIO9 and GPIO10 ([#1958](https://github.com/xoseperez/espurna/issues/1958), [#1964](https://github.com/xoseperez/espurna/pull/1964) and thanks to **[@Niek](https://github.com/Niek)** for bitset::test fix in [#1977](https://github.com/xoseperez/espurna/pull/1977))\n- Restore last schedule after reboot ([#1948](https://github.com/xoseperez/espurna/issues/1948), thanks to **[@foxman69](https://github.com/foxman69)**)\n- Add `relayDelayOnN`, `relayDelayOffN`, `relayFloodTime`, `relayFloodCount` as runtime settings ([#1594](https://github.com/xoseperez/espurna/issues/1594), [#1962](https://github.com/xoseperez/espurna/pull/1962))\n- Add experimental `relayDelayInterlock` to add a pause after turning relay off in SYNC\\_ONE or SYNC\\_NONE\\_OR\\_ONE modes ([#1510](https://github.com/xoseperez/espurna/issues/1510), [#1962](https://github.com/xoseperez/espurna/pull/1962))\n- Add experimental `TUYA_SUPPORT` and `LIGHT_PROVIDER_TUYA` ([#1729](https://github.com/xoseperez/espurna/issues/1729), [#1997](https://github.com/xoseperez/espurna/issues/1997))\n- Add `bssid` as heartbeat option ([#1995](https://github.com/xoseperez/espurna/issues/1995))\n- Generic feature checks through `<type_traits>` ([#1974](https://github.com/xoseperez/espurna/issues/1974), thanks to **[@Niek](https://github.com/Niek)**)\n- Support [binary, octal and hex literal](https://en.wikipedia.org/wiki/Integer_literal) prefixes (`0b`, `0o` and `0x` respectively) for `hbReport` setting ([#2003](https://github.com/xoseperez/espurna/pull/2003))\n#### MQTT\n- Add option to disable relay reporting ([#1645](https://github.com/xoseperez/espurna/issues/1645), thanks to **[@Niek](https://github.com/Niek)**)\n- Safer settings reload and change detection ([#1701](https://github.com/xoseperez/espurna/issues/1701))\n- `mqtt.info` command ([#1757](https://github.com/xoseperez/espurna/issues/1757))\n- MQTT rewrite with SSL fixes ([#1751](https://github.com/xoseperez/espurna/issues/1751), [#1829](https://github.com/xoseperez/espurna/issues/1829), thanks to **[@Niek](https://github.com/Niek)**)\n- Generic secure client configuration ([#1873](https://github.com/xoseperez/espurna/issues/1873))\n- Custom relay status payloads ([#1885](https://github.com/xoseperez/espurna/issues/1885), [#1889](https://github.com/xoseperez/espurna/issues/1889))\n- Log size instead of message itself when size is > 128 bytes ([#1969](https://github.com/xoseperez/espurna/issues/1969))\n#### Home Assistant\n- Add color_temp_state_topic ([#1891](https://github.com/xoseperez/espurna/issues/1891), thanks to **[@l3d00m](https://github.com/l3d00m)**)\n#### Devices\n- Add espurna-base for [tuya-convert](https://github.com/ct-Open-Source/tuya-convert), thanks to **[@xoseperez](https://github.com/xoseperez)**\n- Add espurna-core-wps\n- Add espurna-core-smartconfig\n- LightFox dual support ([#1468](https://github.com/xoseperez/espurna/issues/1468), thanks to **[@foxel](https://github.com/foxel)**)\n- Support for Digoo/Oxaoxe NX-SP202 ([#1502](https://github.com/xoseperez/espurna/issues/1502), thanks to **[@kobuki](https://github.com/kobuki)**)\n- HAMA outlet model number 00176552 ([#1598](https://github.com/xoseperez/espurna/issues/1598), thanks to **[@markusrudolf](https://github.com/markusrudolf)**)\n- Added LITESUN LA-WF3 support. ([#1618](https://github.com/xoseperez/espurna/issues/1618), thanks to **[@Zebble](https://github.com/Zebble)**)\n- Added Teckin SP20 Power Plug. ([#1611](https://github.com/xoseperez/espurna/issues/1611), thanks to **[@brmo](https://github.com/brmo)**)\n- Adding support for Generic GU10 from [#1549](https://github.com/xoseperez/espurna/issues/1549) ([#1650](https://github.com/xoseperez/espurna/issues/1650), thanks to **[@ColinShorts](https://github.com/ColinShorts)**)\n- Add support for JINVOO VALVE SM-AW713 ([#1774](https://github.com/xoseperez/espurna/issues/1774), thanks to **[@reaper7](https://github.com/reaper7)**)\n- Add support for MagicHome RGBWW LED strip ([#1787](https://github.com/xoseperez/espurna/issues/1787), thanks to **[@user890104](https://github.com/user890104)**)\n- Nexete A19 RGBW bulb ([#1814](https://github.com/xoseperez/espurna/issues/1814), thanks to **[@konsgn](https://github.com/konsgn)**)\n- Add Shelly 1PM ([#1822](https://github.com/xoseperez/espurna/issues/1822), thanks to **[@tonilopezmr](https://github.com/tonilopezmr)**)\n- Support Shelly 2.5 ([#1827](https://github.com/xoseperez/espurna/issues/1827), thanks to **[@tonilopezmr](https://github.com/tonilopezmr)**)\n- Add itead-sonoff-s31-lite ([#1830](https://github.com/xoseperez/espurna/issues/1830), thanks to **[@CrazyIvan359](https://github.com/CrazyIvan359)**)\n- Add etekcity-esw01-usa ([#1836](https://github.com/xoseperez/espurna/issues/1836), thanks to **[@sirpatil](https://github.com/sirpatil)**)\n- Add iselector-sm-pw702 ([#1837](https://github.com/xoseperez/espurna/issues/1837), thanks to **[@lwalkera](https://github.com/lwalkera)**)\n- Itead Sonoff Mini support ([#1886](https://github.com/xoseperez/espurna/issues/1886), thanks to **[@xoseperez](https://github.com/xoseperez)**)\n- ESP8266 FS-UAP1 Control board ([#1925](https://github.com/xoseperez/espurna/issues/1925), thanks to **[@NemoN](https://github.com/NemoN)**)\n- Support for Teckin SP21 (Thanks to **[@xoseperez](https://github.com/xoseperez)**)\n- Support for TFlag NX-SM100 and NX-SM200 power monitoring switches (Thanks to **[@xoseperez](https://github.com/xoseperez)**)\n- Add tuya-generic-dimmer ([#1729](https://github.com/xoseperez/espurna/issues/1729), [#1997](https://github.com/xoseperez/espurna/issues/1997))\n- Add support for Hykker Smart Plug with power meter ([#2010](https://github.com/xoseperez/espurna/issues/2010), thanks to **[@reaper7](https://github.com/reaper7)**)\n- Add support for BW-SHP5 ([#2029](https://github.com/xoseperez/espurna/issues/2029), thanks to **[@aligator](https://github.com/aligator)**)\n#### WebUI\n- Configure WEB_REMOTE_DOMAIN at runtime ([#1789](https://github.com/xoseperez/espurna/issues/1789))\n#### Modules\n- Add Thermostat module ([#1603](https://github.com/xoseperez/espurna/issues/1603), thanks to **[@ElderJoy](https://github.com/ElderJoy)**)\n- RF/RFBRIDGE Update ([#1693](https://github.com/xoseperez/espurna/issues/1693))\n- Send Vcc, LoadAvg and Ssid to influxdb ([#1714](https://github.com/xoseperez/espurna/issues/1714), thanks to **[@lucciano](https://github.com/lucciano)**)\n- Separate device name for alexa integration ([#1727](https://github.com/xoseperez/espurna/issues/1727), thanks to **[@m-kozlowski](https://github.com/m-kozlowski)**)\n- Telnet/WiFiServer: alternative to ESPAsyncTCP ([#1799](https://github.com/xoseperez/espurna/issues/1799))  (Thanks to **[@Niek](https://github.com/Niek)**)\n- Periodically call etharp_gratuitous ([#1877](https://github.com/xoseperez/espurna/issues/1877))\n- Added support for reverse telnet ([#1920](https://github.com/xoseperez/espurna/pull/1920), thanks to **[@Niek](https://github.com/Niek)**)\n#### Sensors\n- MH-Z19 auto-calibration setting ([#1580](https://github.com/xoseperez/espurna/issues/1580) , [#1592](https://github.com/xoseperez/espurna/issues/1592), thanks to **[@eschava](https://github.com/eschava)**)\n- CSE7766: Add reactive power calculation ([#1591](https://github.com/xoseperez/espurna/issues/1591), thanks to **[@AlbertWeterings](https://github.com/AlbertWeterings)**)\n- MAX6675: default pins and SENSOR_SUPPORT dependency ([#1646](https://github.com/xoseperez/espurna/issues/1646), [#1666](https://github.com/xoseperez/espurna/issues/1666))\n- Add `bmx280Number` and `bmx280Address` settings ([#1690](https://github.com/xoseperez/espurna/issues/1690))\n- PZEM004T: settings & dev board ([#1712](https://github.com/xoseperez/espurna/issues/1712))\n- Added LDR sensor (Thanks to Altan Altay)\n- ADE9753 Support ([#1827](https://github.com/xoseperez/espurna/issues/1827), thanks to **[@tonilopezmr](https://github.com/tonilopezmr)**)\n- Telaire T6613 Support ([#1956](https://github.com/xoseperez/espurna/issues/1956), thanks to **[@james-coder](https://github.com/james-coder)**)\n- Adding support for miobulb001 ([#1973](https://github.com/xoseperez/espurna/issues/1973), thanks to **[@ealfaroc](https://github.com/ealfaroc)**)\n#### Lights\n- Allow to set relative brightness, channel value and color in mireds using +N and -N notation ([#1607](https://github.com/xoseperez/espurna/issues/1607), [#1938](https://github.com/xoseperez/espurna/pull/1938), thanks to **[@tsymbaliuk](https://github.com/tsymbaliuk)**)\n- Two channel CCT ([#1732](https://github.com/xoseperez/espurna/issues/1732), thanks to **[@copyrights](https://github.com/copyrights)**)\n- Send to mired topic if CCT is in use ([#1732](https://github.com/xoseperez/espurna/issues/1732), [#1742](https://github.com/xoseperez/espurna/issues/1742), thanks to **[@copyrights](https://github.com/copyrights)**)\n- Add description for each channel when using terminal commands ([#1826](https://github.com/xoseperez/espurna/issues/1826))\n- Channel value change detection to reduce light provider updates ([#1914](https://github.com/xoseperez/espurna/issues/1914))\n#### Build\n- special dummy printf to disable Serial using some boards ([#1664](https://github.com/xoseperez/espurna/issues/1664))\n- Experimental support of HTTPUpdate for OTA ([#1751](https://github.com/xoseperez/espurna/issues/1751))\n- Add ability to print all GPIO values at once ([#1798](https://github.com/xoseperez/espurna/issues/1798), thanks to **[@Niek](https://github.com/Niek)**)\n- DEBUG_SUPPORT check for crashSetup ([#1807](https://github.com/xoseperez/espurna/issues/1807))\n- Build date in ota.py (mDNS) ([#1736](https://github.com/xoseperez/espurna/issues/1736), thanks to **[@m-kozlowski](https://github.com/m-kozlowski)**)\n\n### Changed\n#### General\n- Updated Copyright notice to 2019\n- Use espurna.io as CORS domain\n- Small design change in memanalyzer output and fix out-of-range error\n- Update PlatformIO Core versions ([#1734](https://github.com/xoseperez/espurna/pull/1734))\n- Show Core revision as hex string ([#1786](https://github.com/xoseperez/espurna/issues/1786))\n- Update debugSend / debugSend_P ([#1788](https://github.com/xoseperez/espurna/issues/1788))\n- Send RF MQTT message with retain off ([#1679](https://github.com/xoseperez/espurna/issues/1679), thanks to **[@Niek](https://github.com/Niek)**)\n- Thermostat upgrade ([#1711](https://github.com/xoseperez/espurna/issues/1711), thanks to **[@ElderJoy](https://github.com/ElderJoy)**)\n- Update crash handler ([#1796](https://github.com/xoseperez/espurna/issues/1796),  [#1947](https://github.com/xoseperez/espurna/pull/1947))\n- Drop legacy relay settings migration ([#1797](https://github.com/xoseperez/espurna/issues/1797))\n- MQTT & OTA Fingerprint setting capitalization fix ([#1952](https://github.com/xoseperez/espurna/pull/1952), thanks to **[@Niek](https://github.com/Niek)**)\n#### WiFi\n- Let JustWifi fallback mode handle AP ([#1784](https://github.com/xoseperez/espurna/issues/1784))\n- Start SmartConfig without any networks configured ([#1785](https://github.com/xoseperez/espurna/issues/1785))\n#### Domoticz\n- Less debugging for lights code ([#1588](https://github.com/xoseperez/espurna/issues/1588))\n#### WebUI\n- Send status right after boot to avoid some empty fields on Status page ([#1700](https://github.com/xoseperez/espurna/issues/1700))\n- Parse host query via browser api, add console logging ([#1901](https://github.com/xoseperez/espurna/issues/1901))\n- Update to jquery 3.4.1 and wheelcolorpicker 3.0.8 ([#1901](https://github.com/xoseperez/espurna/issues/1901))\n#### Lights\n- Import Encoder library ([#1769](https://github.com/xoseperez/espurna/issues/1769))\n- Apply brightness to all channels only when `useWhite` is disabled ([#1826](https://github.com/xoseperez/espurna/issues/1826))\n- Move gamma table to PROGMEM ([#1826](https://github.com/xoseperez/espurna/issues/1826))\n- Don't show v for hsv in wheelcolorpicker, use brightness instead ([#1901](https://github.com/xoseperez/espurna/issues/1901))\n- Fix kelvin/mired constants naming ([#1902](https://github.com/xoseperez/espurna/issues/1902))\n- Store pwm constants as PROGMEM data ([#1906](https://github.com/xoseperez/espurna/issues/1906))\n- Schedule provider update in CONT instead of SYS context ([#1901](https://github.com/xoseperez/espurna/issues/1901), [#1923](https://github.com/xoseperez/espurna/issues/1923))\n- Configurable cold and warm mired values  ([#1945](https://github.com/xoseperez/espurna/pull/1945))\n- Update `XIAOMI_SMART_DESK_LAMP` warm mired value ([#1945](https://github.com/xoseperez/espurna/pull/1945))\n#### Sensors\n- Change from BMX280_ADDRESS2 notation to BMX280_NUMBER for number of sensors ([#1647](https://github.com/xoseperez/espurna/issues/1647), thanks to **[@CraigMarkwardt](https://github.com/CraigMarkwardt)**)\n- Allow sensor class can specify the number of decimals to represent its magnitude types  ([#1648](https://github.com/xoseperez/espurna/issues/1648), thanks to **[@CraigMarkwardt](https://github.com/CraigMarkwardt)**)\n- Default to one BMX280 sensor ([#1690](https://github.com/xoseperez/espurna/issues/1690))\n- Rename NTC/LDR_SENSOR to NTC/LDR_SUPPORT ([#1758](https://github.com/xoseperez/espurna/issues/1758))\n- Faster event handling for EventsSensor ([#1771](https://github.com/xoseperez/espurna/issues/1771))\n- Use indexed keys for energy saving ([#1875](https://github.com/xoseperez/espurna/issues/1875))\n- Enable multiple Digital & Events sensors ([#1832](https://github.com/xoseperez/espurna/issues/1832), thanks to **[@pilotak](https://github.com/pilotak)**)\n#### Build\n- .ld scripts refactoring to allow building with Cores 2.3.0 ... 2.6.0 ([#1559](https://github.com/xoseperez/espurna/issues/1559))\n- Pin ArduinoJson version ([#1613](https://github.com/xoseperez/espurna/issues/1613))\n- Remove gosund-sp1-v23 env in favour of blitzwolf-shpx-v23 ([#1703](https://github.com/xoseperez/espurna/issues/1703))\n- Update [ESPAsyncTCP to 7e9ed22](https://github.com/me-no-dev/ESPAsyncTCP/commit/7e9ed22) ([#1752](https://github.com/xoseperez/espurna/issues/1752), [#1806](https://github.com/xoseperez/espurna/issues/1806))\n- PIO4: default_envs ([#1793](https://github.com/xoseperez/espurna/issues/1793), thanks to **[@Niek](https://github.com/Niek)**)\n- PIO: Use up-to-date platforms, update comments ([#1811](https://github.com/xoseperez/espurna/issues/1811), [#2023](https://github.com/xoseperez/espurna/pull/2023))\n- Move DEVICE and MANUFACTURER check to the top of hardware.h ([#1816](https://github.com/xoseperez/espurna/issues/1816), thanks to **[@rmcbc](https://github.com/rmcbc)**)\n\n## [1.13.5] 2019-02-27\n### Fixed\n- Revert loopDelay dependency on wifi sleep mode (#1574)\n- Fix hardcoded serial objects in \\_debugSendSerial, terminalLoop and PZEM sensor (#1573)\n- Fix RFBridge not showing codes in web UI as per @mcspr suggested change (#1571)\n- Fix BSSIDs in scan output (#1567)\n- Fix PZEM004TSensor pointer use\n- RFBridge: fix webui codes parsing\n- Avoid websocket ping back on fw upgrade via web UI form (#1574)\n- Removing line break before templated variable to fix issue with Windows Arduino IDE (#1579, thanks to @AlbertWeterings)\n- Send brightness to websocket\n\n### Added\n- Relay MQTT group receive-only sync mode setting\n- Set wifi sleep mode from settings\n- Add unique id and device support for better HA UI integration (#1547, thanks to @abmantis)\n- Improved inline documentation of BMX280 settings (#1585, thanks to CraigMarkwardt)\n\n## [1.13.4] 2019-02-21\n### Fixed\n- Travis fixes\n- IR results on raw mode (thanks to @vtochq)\n- Missing configuration in HTTP API (#1288)\n- NTP  sync changes (#1342)\n- Proper buffer size to fit two digit rfbOFF key (#1348)\n- Use correct arguments for stat on macOS (#1355, thanks to @jackwilson)\n- Enable `reload` command when no web support (#1383)\n- Wrong GPIO value for dummy relay (#1386)\n- Wait until mqtt client has finished trying to connect\n- Disable EEPROM Rotate before NoFUSS update (#1398, thanks to @arihantdaga)\n- Only check domoticz state in broker callback (#1562)\n- Fix upload_port and upload_args\n- Fix heartbeat dropdown size\n- Setup settings before using them in system module (#1542)\n- Fix HEARTBEAT_REPORT_DESCRIPTION typo (#1539)\n- Fix wsDebugSend prototype\n- Fix pulse for dummy relays (#1496, thanks to @Niek)\n- Fix RFBridge websocket data\n- Only process Domoticz RGB MQTT Messages for the current idx (#1489, thanks to @soif)\n- Fix pulse for dummy relays\n- Fix compile error when both RF_SUPPORT and API_SUPPORT are enabled (#1479, thanks to @Niek)\n- Fix compile error when TERMINAL_SUPPORT is disabled (#1426)\n- Fix compile error when RF_SUPPORT is enabled (#1475)\n- Fix CodingStyle link (#1473)\n- Fix: Add Debug flag for compilation of wifiDebug() function (#1454)\n- Fix bug in RFM69 that counted packets twice\n- Escape hyphens in img.shields.io urls\n- Fix travis builds based on latest core\n- Increase buffer size to fit B0 code (#1423)\n- Fix function call typo in RF code (#1421)\n- Fix RF code conversion to long (#1410)\n\n### Added\n- Support for MAXCIO W-DE003 device (thanks to @kerk1v)\n- Support for Tonbux XS-SSA01 device (thanks to @StevenWolfe)\n- Support for Blitzwolf BW-SHP2 v2.3 (#1351)\n- Support for Tecking SP22 v1.4+\n- Support for Lombez Lux Nova 2 smart bulbs (thanks to @kcghost)\n- Support for Orvibo B25 (#1402, thanks to @plutec)\n- Support for GBLife RGBW Socket (#1305)\n- Support for Generic Relay ESP01 V4.0 in inverse relay version (#1504, #1554)\n- Support for Gosund WS1 aka KS-602S (#1551, thanks to @nsvrana)\n- Support for Oukitel P1 smart switch (#1553, thanks to @quinnsam)\n- Support for Lyasi light bulb (#1533, thanks to Eichhoernchen)\n- Support for RGB(WW) controlled using Domoticz MQTT messages (#1459, thanks to @sq5gvm)\n- Support for newer AL-LC02 boards with different pinout (#1469, thanks to @sq5gvm)\n- Support for SmartLife Mini Smart Socket RGB (thanks to @kuppe234, #1411)\n- Support for Gosund SP1 v2.3 (#1448)\n- Support for OBI Wifi Schuko Plug V2 (#1408, thanks to @arthurf1969)\n- Support for pulse meter power sensor for new-generation smart-meters\n- Support for VL53L1X ToF sensor (thanks to @ruimarinho)\n- Support for VEML6075 UV sensor (thanks to @ruimarinho)\n- Support for EZO pH Circuit sensor (thanks to @ruimarinho)\n- Support for MAX6675 temperature sensor (#1375, thanks to @lucciano)\n- Support for MagicHome ZJ WFMN A/B v1.1 (#1339)\n- Support for multiple PZEM004T sensors (thanks to @0x3333)\n- Support for Support PMS5003S (#1511, thanks to @Yonsm)\n- Support for pulse meter power sensor for new-generation smart-meters (including debouncing and energy ratio support by @jackwilson)\n- Support for BMP085 and BMP180 sensors (#1082)\n- Add dim up and down actions to button handler (#1250)\n- Compact WS data (#1387)\n- Improved analog sensor (#1326, thanks to @cconde)\n- Report SSID in heartbeat messages\n- Option to send full data to thinkgspeak on every message (#1369)\n- Added RSSI to InfluxDB heartbeat (#1400, tahnks to @BuildTheRobots)\n- Option to report time even if no NTP sync (#1310)\n- Support for mixed combination of real and dummy relays (#1305)\n- Report target color values on MQTT and API\n- Note on WiFi tab about hostname (#1555)\n- Allow saving heartbeat settings from web (#1538)\n- Build images for Sonoff Basic R2 with DHT and DALLAS support\n- Add warning about TELNET_PASSWORD\n- Domoticz: track last relay state (#1536)\n- Adding description field to web UI, reporting it via MQTT (#1523)\n- ESP-01 + 2ch 5v relay LC tech Exclusive relay on (#1519, thanks to @clabnet)\n- Add OTA support over MQTT (#1424, thanks to @Niek)\n- Configure Heartbeat from WebUI & option HEARTBEAT_REPEAT_STATUS (#1474, thanks to martiera)\n- Delay light comms (mqtt, ws, broker) to avoid jamming\n- Added message type to broker\n- Yield() after handling OTA request\n- Disconnect websocket when auth fails\n- Manage relay changes in third party modules via broker\n- Added API entry points for RFBridge module (#1407)\n- Domoticz over MQTT to Espurna RGB/RGBW/RGBWW\n- Debug check position to make sure definition is not nullified to avoid putting checks in all places\n- MQTT reconnect delay based on last disconnection\n- Add terminal support for wifiDebug\n- Created contribute.md and support.md files\n- Created issue templates\n- Runtime heartbeat configuration (#1406)\n- APP_VERSION suffix (#1418)\n- Allow {hostname} and {mac} placeholder for mqtt user and client_id fields (#1338)\n- Split ws messages for relays and rf codes (#262)\n- Added learn and forget terminal commands to RFBridge and RF modules (#1253)\n- Change light transition time via MQTT or API (#1412)\n\n### Changed\n- Telnet password requirements (#1382)\n- Separate tab for NoFUSS options (#1404)\n- Updated to use gulp4 (#1403)\n- Updated to EEPROM_Rotate 0.9.2\n- Show proper switches names in web UI\n- Removing loop delay if WIFI is not set to sleep, reducing it to 1ms otherwise (#1541)\n- Change naming for BlitzWolf SHP2 and SHP6 (now SHPX) boards\n- Print each HA config entry separately (#1535)\n- Updated DebounceEvent to 2.0.5 (#1527, #1254)\n- Python cleanup (@1526, thanks to Cabalist)\n- Normalize naming for Arilux AL LC02 v14\n- Increase version field size in OTA manager\n- Merge RF and RFBridge code (#1435, thanks to @Niek)\n- Update to fauxmoESP 3.1.0\n- Move crash code to it's own module\n\n## [1.13.3] 2018-10-08\n### Fixed\n- Honour build time settings for MQTT on fresh install (#719)\n- Fix custom_crash_callback declaration for Arduino IDE 1.8.6 (#1169)\n- Fix eneUnits key in web UI (#1177)\n- Fix HA names (#1183)\n- API is now restful (issue a PUT to change a relay status). It can be disabled from web UI (#1192)\n- Remove static array to prevent out of bound in relay.ino (#1217)\n- Remove duplicate call to EEPROMr.begin (#1214)\n- Fix issue when SPIFFS_SUPPORT is enabled (#1225)\n- Fix quoting units_of_measurement in HA config output (#1227)\n- Fix \"Clear counts\" on rfm69 does not reset node count properly (thanks to @Trickx, #1239)\n- Fix homecube 3rd led setting (thanks to @mcspr)\n- Fix typo in static IP hint text (@thanks to @zafrirron)\n- Fix hostname/password length requirements (thanks to @mcspr and @djwmarcx)\n- Do not quote numbers in MQTT JSON payloads\n- Fix telnet client object deletion (thanks to @mcspr)\n- Call wakeUp PMS on first reading cycle to avoid not data in a long period (thanks to @Yonsm)\n- Small fixes and windows support for ESPurna OTA Manager (thanks to @mcspr)\n- Fix for YiDian XS-SSA05 configs (thanks to @ducky64)\n- Send MQTT messages only for button events with assigned actions (thanks to @Valcob)\n- Avoid EEPROM commits on callbacks (#1214)\n\n### Added\n- Option to report energy based on delta since last report (#369)\n- Support for IR-MQTT bridge, also in RAW mode (#556, #907)\n- Allow faster sensor reading intervals, down to 1 second (#848)\n- Support for Xiaomi Smart Desk Lamp (#884)\n- Retry up to 3 times on bad response to Thingspeak server (#1213)\n- Support for apparent power and power factor on CSE7/XX sensor (#1215)\n- Support for encoders\n- Support for Allterco Shelly2\n- Added SDS011 sensor support (thanks to @derlucas)\n- Added password check to telnet (option to disable it)\n- Added PHYX support (thanks to @whitebird)\n- Added config command that outputs the configuration in JSON\n- Support for MICS-2710, MICS-5525 and MICS-4514, gas sensors\n- Support for iWoole LED Table Lamp (thanks to @CollinShorts)\n- Command to output free stack\n- Password management from web UI (thanks to @mcspr)\n- Added BESTEK MRJ1011 support (thanks to @InduPrakash)\n- Support for EXS WiFi Relay 5.0 (thanks to @cheise, #1218)\n- Allowing disabling or single heartbeat on MQTT connect or repeat (default) (#1196)\n- Command to save settings when SETTINGS_AUTOSAVE is off\n\n### Changed\n- Upgraded to JustWifi 2.0.2\n- Upgraded to FauxmoESP 3.0.1\n- Upgraded to DebounceEvent 2.0.4 to properly support BUTTON_SWITCH\n- Split `info` command output into `info` and `wifi`. Refactor output.\n- Custom HA payloads (thanks to @Yonsm)\n\n## [1.13.2] 2018-08-27\n### Fixed\n- Fix relay overflow window length\n- Fix TravisCI release condition (thanks to @mcspr, [#1042](https://github.com/xoseperez/espurna/issues/1042))\n- Fix Sonoff RFBridge build in Arduino IDE ([#1043](https://github.com/xoseperez/espurna/issues/1043))\n- Using corrent path separator in gulpfile.js (thanks to @InduPrakash, [#1045](https://github.com/xoseperez/espurna/issues/1045))\n- Fix KMC70011 LED logic (thanks to @zerog2k, [#1056](https://github.com/xoseperez/espurna/issues/1056))\n- Fix Luani HVIO to use 1MB flash size and toggle switch (thanks to @BauerPh, [#1065](https://github.com/xoseperez/espurna/issues/1065) and [#1068](https://github.com/xoseperez/espurna/issues/1068))\n- Fix switches in Microsoft Edge (thanks to @Valcob, [#1066](https://github.com/xoseperez/espurna/issues/1066))\n- Fix build.sh error handling (thanks to @mcspr, [#1075](https://github.com/xoseperez/espurna/issues/1075))\n- Correctly init Serial on RELAY_PROVIDER_STM ([#1130](https://github.com/xoseperez/espurna/issues/1130))\n- Disconnect before running WPS and SmartConfig discovery ([#1146](https://github.com/xoseperez/espurna/issues/1146))\n- Fix sort fields in OTA manager\n\n### Added\n- Support for YJZK 1Ch and 3CH switches (thanks to @CollinShorts and @q32103940, [#1047](https://github.com/xoseperez/espurna/issues/1047))\n- Support for AG-L4 color desk lamp (thanks to @zerog2k, [#1050](https://github.com/xoseperez/espurna/issues/1050))\n- Option to cofigure ON/OFF payload at build time ([#1085](https://github.com/xoseperez/espurna/issues/1085))\n- Option to change default payload for HA ([#1085](https://github.com/xoseperez/espurna/issues/1085))\n- Support for Allterco Shelly1 (thanks to @abmantis, [#1128](https://github.com/xoseperez/espurna/issues/1128))\n- Support for HomeCube 16A (thanks to @hyteoo, [#1106](https://github.com/xoseperez/espurna/issues/1106))\n- Support for multiple sonar sensors (thanks to @ruimarinho, [#1116](https://github.com/xoseperez/espurna/issues/1116))\n- Support for hardware serial on PMSX003 device (thanks to @ruimarinho, [#1122](https://github.com/xoseperez/espurna/issues/1122))\n- Support for Lohas 9W bulbs (thanks to @steveway, [#1135](https://github.com/xoseperez/espurna/issues/1135))\n- Show literal for webUI image in info ([#1142](https://github.com/xoseperez/espurna/issues/1142))\n- Add RFBRIDGE code to full webUI image ([#1157](https://github.com/xoseperez/espurna/issues/1157))\n- Handle events in EventSensor\n- Option to remove API_SUPPORT at build time\n- Option to save total energy in EEPROM after X reports, disabled by default\n- Support for DHT12 sensor (thanks to Altan Altay)\n- Support for 2MB flash boards\n\n### Changed\n- Update PlatformIO support to 3.6.X branch\n- Explicitly disable ATC on RFM69 gateway ([#938](https://github.com/xoseperez/espurna/issues/938))\n- Reduce memory footprint of API calls ([#1133](https://github.com/xoseperez/espurna/issues/1133))\n- Init relay GPIO when in inverse mode to be OFF ([#1078](https://github.com/xoseperez/espurna/issues/1078))\n\n\n## [1.13.1] 2018-07-10\n### Fixed\n- Build issues with Arduino IDE ([#975](https://github.com/xoseperez/espurna/issues/975))\n- Right web interface image for with RF Bridge\n- Full web interface image if light and sensor together ([#981](https://github.com/xoseperez/espurna/issues/981))\n- Some devices still not using DOUT flash mode\n- Crash on loading malformed configuration file\n- Mismatch between memory size and layout size for some boards (this might require reflashing)\n- Wrong settings report after factory reset\n- Memory leak in JustWifi library\n- New buttons not rendering right in Safari ([#1028](https://github.com/xoseperez/espurna/issues/1028))\n\n### Added\n- Support for RFM69GW board (see http://tinkerman.cat/rfm69-wifi-gateway/)\n- Support for Sonoff IFAN02\n- Support for NTC sensors ([#1001](https://github.com/xoseperez/espurna/issues/1001))\n- Support for single-pin latched relays ([#1039](https://github.com/xoseperez/espurna/issues/1039))\n- Check binary flash mode in web upgrade\n- Sampling to AnalogSensor\n- Parallel builds in Travis (thanks to @lobradov)\n\n### Changed\n- Reworked platformio.ini, build.sh files (thanks to @gn0st1c and @mcspr)\n\n## [1.13.0] 2018-06-22\n### Fixed\n- Fixed PZEM004T compilation issues, working when using hardware serial ([#837](https://github.com/xoseperez/espurna/issues/837))\n- Fixed per channel state on/off for lights ([#830](https://github.com/xoseperez/espurna/issues/830))\n- Fixed overflow in CSE7766 energy calculation ([#856](https://github.com/xoseperez/espurna/issues/856))\n- Fixed On MQTT disconnect in web UI ([#845](https://github.com/xoseperez/espurna/issues/845))\n- Check valid hostnames ([#874](https://github.com/xoseperez/espurna/issues/874), [#879](https://github.com/xoseperez/espurna/issues/879))\n- Fix Sonoff POW R2 configuration\n- Fixed InfluxDB sensor by id ([#882](https://github.com/xoseperez/espurna/issues/882))\n- Fix build when disabling WEB_SUPPORT ([#923](https://github.com/xoseperez/espurna/issues/923))\n- Fix calibration error in EmonSensor ([#876](https://github.com/xoseperez/espurna/issues/876))\n- Fix telnet and web debug responsiveness ([#896](https://github.com/xoseperez/espurna/issues/896))\n- Use double quotes in JSON for non-numeric values ([#929](https://github.com/xoseperez/espurna/issues/929))\n- Support connections over HTTPS via proxy ([#937](https://github.com/xoseperez/espurna/issues/937))\n\n### Added\n- EEPROM sector rotation using EEPROM_Rotate library\n- Code filtering when building web UI images\n- Added pulsing a relay via MQTT and REST API ([#896](https://github.com/xoseperez/espurna/issues/896), [#902](https://github.com/xoseperez/espurna/issues/902))\n- Support for WPS (not available in pre-built binaries)\n- Support for Smart Config (not available in pre-built binaries)\n- Support for CCT lights (thanks to @Skaronator)\n- Allow RELAYx_DELAY_ON/OFF also for none GPIO relay types (thanks to @zafrirron)\n- Added relay status to Domoticz on MQTT connection ([#872](https://github.com/xoseperez/espurna/issues/872))\n- Added configurable UART-to-MQTT terminator\n- Added telnet link to web UI\n- Reload terminal command to force all modules to reload settings from config ([#816](https://github.com/xoseperez/espurna/issues/816))\n- Added security headers to each HTTP response (thanks to @ITNerdBox)\n- Customized GET terminal command (thanks to @mcspr)\n- More RC codes supported on TX for RF Bridge (thanks to @wildwiz)\n- Support for BL0937 power monitoring chip with unmodified HLW8012 library ([#737](https://github.com/xoseperez/espurna/issues/737))\n- Enable CORS\n- Support for Allnet ESP8266 UP Relay (thanks to @bajo)\n- Support for Tonbux Mosquito Killer (thanks to @gn0st1c)\n- Support for Neo Coolcam NAS-WR01W WiFi Smart Power Plug\n- Support for TYWE3S-based Estink WiFi Power Strip (thanks to @sandman, [#852](https://github.com/xoseperez/espurna/issues/852))\n- Support for Pilotak ESP DIN V1\n- Support for DIY Geiger counter (thanks to @Trickx)\n- Support for HomeCube / Blitzwolf BW-SHP2\n* Support for Vanzavanzu Smart Wifi Plug Mini\n- Support for Bruno Horta's OnOfre board\n\n### Changed\n- Updated PlatformIO to use Core 3.5.3\n- Updated to JustWifi 2.0\n- CSS optimizations ([#870](https://github.com/xoseperez/espurna/issues/870), [#871](https://github.com/xoseperez/espurna/issues/871))\n- Several changes in OTA Manager\n- Better memory layout info\n- MQTT keep alive time increased to 300s\n- Using ticket-based authentication for WS\n- Refactor module and sensor listings ([#896](https://github.com/xoseperez/espurna/issues/896))\n- Using alternative math methods to save ~8Kb with lights\n- Simpligying mired/kelvin methods\n- Changed web UI checkboxes with pure CSS versions\n\n### Deprecated\n- {identifier} place-holder in MQTT base topic\n\n## [1.12.6] 2018-05-02\n### Fixed\n- Check NTP_SUPPORT for sensors (thanks to @mcspr)\n- Fix AM2302 sensor\n- Fix hostname truncated to 20 chars when advertised to DHCP ([#774](https://github.com/xoseperez/espurna/issues/774))\n- Decouple Serial object from Terminal, Debug modules ([#787](https://github.com/xoseperez/espurna/issues/787))\n- Fix Arilux LC-01 definitions ([#797](https://github.com/xoseperez/espurna/issues/797))\n- Do not uppercase hostname in web interface ([#799](https://github.com/xoseperez/espurna/issues/799))\n- Ensure scheduler has access to all channels independently of the color mode ([#807](https://github.com/xoseperez/espurna/issues/807))\n\n### Added\n- Support for IteadStudio Sonoff S31 ([#497](https://github.com/xoseperez/espurna/issues/497))\n- Option to ignore daylight saving in scheduler ([#783](https://github.com/xoseperez/espurna/issues/783))\n- Report last energy reset datetime in web interface ([#784](https://github.com/xoseperez/espurna/issues/784))\n- Added captive portal in AP mode\n- Support for IR toggle mode (thanks to @darshkpatel)\n- Support for IteadStudio Sonoff POW R2 (thanks to @ColinShorts)\n- Support for Luani HVIO (thanks to @wildwiz)\n- Support for Zhilde ZLD-EU55-W power strip (thanks to @wildwiz)\n- Support for RFB_DIRECT Sonoff Bridge EFM8BB1 bypass hack (thanks to @wildwiz)\n- Support for SenseAir S8 CO2 sensor (thanks to @Yonsm)\n- Support for PMS5003T/ST sensors (thanks to @Yonsm)\n\n### Changed\n- Updated JustWifi Library\n- Some cleanup in the web interface\n- Refactored configuration files (thanks to @lobradov, @mcspr)\n- Changes pre-commit hook (thanks to @mcspr)\n\n## [1.12.5] 2018-04-08\n### Fixed\n- Fixed expected power calibration ([#676](https://github.com/xoseperez/espurna/issues/676))\n- Do not show empty time strings ([#691](https://github.com/xoseperez/espurna/issues/691), thanks to @PieBru)\n- Fix load average calculation when system check is disabled ([#707](https://github.com/xoseperez/espurna/issues/707))\n- Fixed unstability issues with NtpClientLib using temporary fork ([#743](https://github.com/xoseperez/espurna/issues/743))\n- Fixed typos in homeassistant module (thanks to @Cabalist)\n- Fixed default HLW8012 calibration for KMC devices (thanks to @gn0st1c)\n- Fix MQTT query request\n- Fix scheduler debug message\n- Fix NTP offset value\n\n### Added\n- Option to change NTP timeout via compile-time setting ([#452](https://github.com/xoseperez/espurna/issues/452))\n- Added humidity correction to web UI ([#626](https://github.com/xoseperez/espurna/issues/626), tahnks to @ManuelW77)\n- Added support for USA DST calculation ([#664](https://github.com/xoseperez/espurna/issues/664))\n- Option to reset energy count ([#671](https://github.com/xoseperez/espurna/issues/671))\n- Added Sonoff SV prebuild image ([#698](https://github.com/xoseperez/espurna/issues/698), thanks to @akasma74)\n- Check and remove unused config keys ([#730](https://github.com/xoseperez/espurna/issues/730))\n- Visual Studio metadata files added to .gitignore ([#731](https://github.com/xoseperez/espurna/issues/731), thanks to @gn0st1c)\n- Added default MQTT and SSL settings to web UI ([#732](https://github.com/xoseperez/espurna/issues/732), thanks to @mcspr)\n- Added option to the web UI to set the light transition length in milliseconds ([#739](https://github.com/xoseperez/espurna/issues/739))\n- Improved testing with Travis (thanks to @lobradov)\n- Change dimmers using schedule (thanks to @wysiwyng)\n- Debug console in web UI (thanks to @lobradov), including command execution\n- Option to reset relays in MQTT disconection (thanks to @a-tom-s)\n- Option to disable system check from custom header (thanks to @phuonglm)\n- Added \"board\" topic to the heartbeat messages (thanks to @mcspr)\n- Added methods to create hierarchical MQTT JSON responses\n- Added RESET.SAFE command to reboot into safe mode\n- Added SDK and Core versions to the web UI\n- Added revision to web UI (only when built from build.sh)\n- Support for OBI Powerplug Adapter ([#622](https://github.com/xoseperez/espurna/issues/622), thanks to @Geitde)\n- Support for Tunbox Powerstrip02 (thanks to @gn0st1c)\n- Support for Lingan SWA1 (thanks to @gn0st1c)\n- Support for Heygo HY02 (thanks to @gn0st1c)\n- Support for Maxcio WUS0025 (thanks to @gn0st1c)\n- Support for Yidian XSSSA05 SWA1 (thanks to @gn0st1c)\n- Support for ArnieX Swifitch (thanks to @LubergAlexander)\n- Support for IKE ESPIKE board\n- Support for AM2320 sensors via I2C (thanks to @gn0st1c)\n- Support for GUVAS12SD sensor (thanks to @gn0st1c)\n\n### Changed\n- Removed hostname size limit ([#576](https://github.com/xoseperez/espurna/issues/576), [#659](https://github.com/xoseperez/espurna/issues/659))\n- Reworked RGBW implementation (thanks to @Skaronator)\n- Several web UI layout changes (thanks to @lobradov & @mcspr)\n- Button MQTT messages will not have the retain flag (thanks to @lobradov)\n- Remove unnecessary code from boot log (thanks to @gn0st1c)\n- Updated logo and favicon, added gitter channel\n- Force reporting power values as 0 if relay is off\n- Using gulp-crass for CSS minification\n- Using WIFI_NONE_SLEEP by default\n\n## [1.12.4] 2018-03-05\n### Fixed\n- Adding a 1ms delay after UDP send to avoid loosing packets ([#438](https://github.com/xoseperez/espurna/issues/438))\n- Fixed void return in BMX280 sensor ([#489](https://github.com/xoseperez/espurna/issues/489))\n- Fix MQTT keep alive cannot be more than 255 seconds ([#515](https://github.com/xoseperez/espurna/issues/515))\n- Do not show scheduler tab in Web UI if build without scheduler support ([#527](https://github.com/xoseperez/espurna/issues/527))\n- Fix inline documentation for Sonoff 4CH Pro button modes ([#551](https://github.com/xoseperez/espurna/issues/551))\n- Prevent resending messages from rfin in RF Bridge ([#561](https://github.com/xoseperez/espurna/issues/561))\n- Fix AnalogSensor description ([#601](https://github.com/xoseperez/espurna/issues/601))\n- Fixed missing setting in HASS WS callback (thanks to @mcspr)\n- ECH1560 call sync from tick method\n- Fixed several issues reported by codacy\n\n### Added\n- UART to MQTT module (thanks to Albert Weterings, [#529](https://github.com/xoseperez/espurna/issues/529))\n- Added option to show HASS configuration code in ESPurna web UI ([#616](https://github.com/xoseperez/espurna/issues/616))\n- OTA upgrade via terminal (using 'ota' command, with SSL support)\n- Added I2C scan and clear commands to terminal (only when I2C enabled)\n- Added new relay & wifi led mode ([#604](https://github.com/xoseperez/espurna/issues/604))\n- Option to enable/disable web auth from web UI\n- Added \"Reset to factory settings\" in web UI (thanks to Teo Pavel, [#569](https://github.com/xoseperez/espurna/issues/569))\n- Added {magnitude} placeholder to MQTT root topic\n- Option to report energy in kWh and power in kW ([#523](https://github.com/xoseperez/espurna/issues/523))\n- Check upgrade file size and signature in web UI\n- Automatically dump info on telnet connection if TERMINAL_SUPPORT is disabled\n- Two different ESPURNA_CORE images for 1MB and 4MB boards, freeing GPIOs ([#557](https://github.com/xoseperez/espurna/issues/557))\n- Initial support for PZEM004T sensor (still beta)\n- Support for STM_RELAY board (thanks to Maciej Czerniak)\n- Support for KMC 70011 energy monitor (thanks to Wayne Manion, [#598](https://github.com/xoseperez/espurna/issues/598))\n- Support for Wifi Stecker Shuko device (thanks to @Geitde, [#622](https://github.com/xoseperez/espurna/issues/622))\n- Support for GizWits Witty Cloud device (thanks to Theonedemon)\n\n### Changed\n- BMX280 changes to allow for hot-plug ([#353](https://github.com/xoseperez/espurna/issues/353))\n- Increase the initial check interval for NTP ([#452](https://github.com/xoseperez/espurna/issues/452))\n- Force turning relays off before turning others on when synced ([#491](https://github.com/xoseperez/espurna/issues/491))\n- Publish slampher as light to Home Assistant ([#494](https://github.com/xoseperez/espurna/issues/494))\n- Force API to return the target status of the relay ([#548](https://github.com/xoseperez/espurna/issues/548))\n- Increasing max number of messages in JSON payload to 20 ([#588](https://github.com/xoseperez/espurna/issues/588))\n- Change copy from 'Use colorpicker' to 'Use color'. Better hint. ([#590](https://github.com/xoseperez/espurna/issues/590))\n- Completely reworked the RF module to use the same web UI as the RFBridge module to learn new codes ([#594](https://github.com/xoseperez/espurna/issues/594))\n- Several spelling and grammar changes by Lee Marlow\n- Always enabled telnet access in ESPURNA_CORE image\n- Updated ESPSoftwareSerial, ESPAsyncTCP and ESPAsyncWebServer libraries\n\n### Removed\n- Remove dependency from gulp-util ([#493](https://github.com/xoseperez/espurna/issues/493))\n- Removed specific support for Magic Home LED Controller 2.3 ([#512](https://github.com/xoseperez/espurna/issues/512))\n- Disabled floating point support when building against Arduino Core 2.4.0 with PIO\n- Removed WiFi distance calculation\n\n## [1.12.3] 2018-01-29\n### Fixed\n- Fix telnet crash due to local reference ([#487](https://github.com/xoseperez/espurna/issues/487))\n\n## [1.12.2] 2018-01-29\n### Added\n- Repository migrated over to GitHub\n- Travis CI build test and deploy\n- Pre-commit hook to change README.md file depending on the branch\n- {hostname} and {mac} placeholders for MQTT root topic\n- Added support for timezones with minutes ([#265](https://github.com/xoseperez/espurna/issues/265))\n- SSDP support ([#282](https://github.com/xoseperez/espurna/issues/282), [#423](https://github.com/xoseperez/espurna/issues/423), disabled by default since current implementation is not compatible with Alexa [#479](https://github.com/xoseperez/espurna/issues/479))\n- HA auto-discover for multi-relay boards and sensors ([#392](https://github.com/xoseperez/espurna/issues/392), [#465](https://github.com/xoseperez/espurna/issues/465))\n- Reset the pulse timeout every time an MQTT message is sent with the non-normal payload value ([#454](https://github.com/xoseperez/espurna/issues/454))\n- Option to disable schedules without deleting them ([#453](https://github.com/xoseperez/espurna/issues/453))\n- Added LED_MODE_STATUS ([#458](https://github.com/xoseperez/espurna/issues/458))\n- Support to set on/off state per channel using switches ([#457](https://github.com/xoseperez/espurna/issues/457))\n- Added support for MagicHome LED Controller 2.3\n- Alexa message queue (thanks to Qubeck)\n- Secondary Serial RX port for H801 and H802 boards ([#386](https://github.com/xoseperez/espurna/issues/386), thanks to Pablo Pousada Rial)\n- Added compatibility with https://github.com/rhx/RF-Bridge-EFM8BB1 to RF Bridge (Thanks to Rene Hexel)\n- Added message queue to RF Bridge\n- Added MAC to mDNS text fields\n- Added wifi.ap command to go into AP mode\n- Added message id on MQTT JSON payloads\n- Added hooks for 3rd party code (custom modules)\n- Local broker to broadcast messages internally\n- Added timestamp to debug output\n- Common I2C interface to abstract backend library (Wire or Brzo I2C)\n- Added espurnaLoopRegister\n\n### Fixed\n- Fixed support for 4CH Pro different modes ([#333](https://github.com/xoseperez/espurna/issues/333))\n- Fixed several sensor modules to enable hot-unplug-plug ([#398](https://github.com/xoseperez/espurna/issues/398))\n- Fixed crash when calling idbSend from an MQTT callback ([#410](https://github.com/xoseperez/espurna/issues/410))\n- Checking trailing slash in mqttTopic ([#422](https://github.com/xoseperez/espurna/issues/422))\n- Fixed pulse and pulse_ms order in relay_t structure ([#424](https://github.com/xoseperez/espurna/issues/424))\n- Use same buffer size across all terminal-realted classes/methods. Set to 128 chars ([#477](https://github.com/xoseperez/espurna/issues/477), [#478](https://github.com/xoseperez/espurna/issues/478))\n- Fix WiFi scan status in web UI\n- Several code quality fixes (thanks to @lobradov)\n- Fixed error message on first command over telnet\n\n### Changed\n- BMX280 sensor module now doesn't depend on third party libraries\n- Changed time management in ntp, mqtt and scheduler modules\n\n## Deprecated\n- {identifier} placeholder for MQTT root topic\n\n## [1.12.1] 2018-01-14\n### Added\n- Option to perform a WiFi network scan from web UI\n- Added hostname to web UI side menu ([#404](https://github.com/xoseperez/espurna/issues/404))\n- Option to flash multiple devices with ESPurna OTA Manager\n\n### Fixed\n- Fix web UI layout so signature does not overlay buttons ([#396](https://github.com/xoseperez/espurna/issues/396))\n- Option to disable network scan and allow connecting to hidden SSID ([#392](https://github.com/xoseperez/espurna/issues/392), [#399](https://github.com/xoseperez/espurna/issues/399))\n- Fix crash caused by a delay in UDP debugging code ([#397](https://github.com/xoseperez/espurna/issues/397))\n- Fix memory leak in influxDB module ([#410](https://github.com/xoseperez/espurna/issues/410))\n- Fix typos in web UI ([#394](https://github.com/xoseperez/espurna/issues/394), [#421](https://github.com/xoseperez/espurna/issues/421))\n\n### Changed\n- Updated to fauxmoESP 2.4.2\n- Changed default I2C GPIO for Wemos D1 ([#420](https://github.com/xoseperez/espurna/issues/420))\n- Some terminal commands have changed. See docs or type \"help\".\n\n## [1.12.0] 2018-01-11\n### Added\n- Scheduler (contributed by Stefano Cotterli, thank you!, [#131](https://github.com/xoseperez/espurna/issues/131))\n- Added \"wifi.scan\" command to terminal\n- Added ESPurna Switch board support\n- Added support for python3 in memanalyzer and ota scripts (thanks to @Cabalist)\n- Added BSSID, RSSI, channels and distance to web UI status tab\n- Added mDNS name resolving to MQTT, InfluxDB and NoFUSS modules ([#129](https://github.com/xoseperez/espurna/issues/129), disabled by default)\n\n### Fixed\n- Update FauxmoESP library to 2.4.1, solves dependency issue ([#388](https://github.com/xoseperez/espurna/issues/388))\n- Fixed hardware definition in Sonoff Basic and Dual R2 causing wrong relay state on boot ([#365](https://github.com/xoseperez/espurna/issues/365))\n\n### Changed\n- Removed auto-recursion check in Domoticz module ([#379](https://github.com/xoseperez/espurna/issues/379))\n- Rename terminal commands: reset.wifi to wifi.reset, reset.mqtt to mqtt.reset.\n- Update JustWifi library to 1.1.6 (support for multiple SSIDs with the same name)\n- Changed the way Home Assistant module handles disabling auto-discovery ([#383](https://github.com/xoseperez/espurna/issues/383))\n\n## [1.11.4] 2018-01-09\n### Fixed\n- Fix bug in RF Bridge when RF code contains the stop byte. Check overflow ([#357](https://github.com/xoseperez/espurna/issues/357))\n- Fixed typos in code and wiki (Thanks to @Cabalist)\n- Fix bug in magnitude topic and units ([#355](https://github.com/xoseperez/espurna/issues/355))\n\n### Added\n- Small core build to allow two-step flashing method for big binaries\n- Thingspeak support ([#371](https://github.com/xoseperez/espurna/issues/371), disabled by default)\n- Color synchronization between lights using MQTT ([#362](https://github.com/xoseperez/espurna/issues/362))\n- Support for Arilux AL-LC02 ([#347](https://github.com/xoseperez/espurna/issues/347))\n- Support for Tarpuna Shield for Wemos D1\n- Build option to disable password checking ([#373](https://github.com/xoseperez/espurna/issues/373))\n- Option to report sensor address via MQTT ([#377](https://github.com/xoseperez/espurna/issues/377), I2C address, GPIO, Dallas address,...)\n- Added binary size to memanalyzer script\n- Option to specify custom client ID for MQTT connection ([#368](https://github.com/xoseperez/espurna/issues/368))\n- Cross-platform ESPurna OTA Manager implemented in python (untested)\n- Terminal command to get or set digital GPIO\n\n### Changed\n- Using 2.3.0 for prebuilt binaries\n- Fix delay in DHT sensor\n- Allow MQTT keep alive value of up to 3600s\n- Changed Sonoff 4CH Pro definitions to support built-in interlock mode ([#333](https://github.com/xoseperez/espurna/issues/333))\n\n## [1.11.3] 2018-01-02\n### Fixed\n- Fix uninitialized PWM channels bug ([#356](https://github.com/xoseperez/espurna/issues/356))\n\n### Added\n- Added memory analyzer\n\n## [1.11.2] 2017-12-30\n### Fixed\n- Fix my92xx and pwm references for Arduino IDE ([#346](https://github.com/xoseperez/espurna/issues/346))\n- Fix SHT3X I2C sensor magnitude count ([#337](https://github.com/xoseperez/espurna/issues/337))\n- Fix timing for DHT11 sensors ([#294](https://github.com/xoseperez/espurna/issues/294))\n- Fix overflow in relayParsePayload with long MQTT messages ([#344](https://github.com/xoseperez/espurna/issues/344))\n- Fix loading of Dallas and DHT sensors for Sonoff TH images ([#352](https://github.com/xoseperez/espurna/issues/352))\n- Subscribe to Domoticz MQTT topics only if Domotic< is enabled\n\n### Added\n- Added option to change MQTT retain flag, QoS and keepalive time from webUI ([#321](https://github.com/xoseperez/espurna/issues/321))\n- Added LED modes \"always off\" and \"always on\" ([#348](https://github.com/xoseperez/espurna/issues/348))\n- Defined new ESPurna switch (no HLW8012 support & touch button ready)\n\n### Changed\n- Stop requiring definition of boards in migrate module\n\n## [1.11.1] 2017-12-29\n### Fixed\n- Fixed relay status on reboot\n\n### Added\n- Added support for Arilux AL-LC01 and AL-LC11\n- Added support for BH1750 luminosity sensor\n- Added automatic memory size identification in ota_flash script\n\n## [1.11.0] 2017-12-28\n### Fixed\n- Fixed Arduino IDE compilation issues ([#330](https://github.com/xoseperez/espurna/issues/330))\n- Fixed issues with IE\n- Fixed websocket auth issue with Safari (temporary)\n- Fixed MQTT group sync when different switches share same group\n- Fixed casting issue in buttonStore ([#327](https://github.com/xoseperez/espurna/issues/327))\n- Fixed crash in InfluxDB initial heartbeat ([#318](https://github.com/xoseperez/espurna/issues/318))\n- Fixed LED logic for ESPurna H08 board\n\n### Added\n- New sensors module (major change)\n  + Existing sensor have been migrated: EMON*, ECH1560, V9261F, HLW8012, DHT, DALLAS, ANALOG, DIGITAL and EVENTS\n  + New sensor have bee added: BMP280/BME280, EMON over ADS1115, MHZ19, PMSX003 (thanks to scar Rovira), SHT3X over I2C and SI7021\n- Option to change boot and pulse modes per relay from the web UI\n- Option to select sensor read interval and report interval from web UI\n- Itead RF Bridge\n  + Match MQTT RFOUT codes to relays\n  + Force RFBridge to send messages even if switch is already in requested state ([#324](https://github.com/xoseperez/espurna/issues/324))\n  + Implemented RFbridge message queue asynchronously\n- Added option to load config via HTTP POST & reset ([#335](https://github.com/xoseperez/espurna/issues/335))\n- Added option to define behaviour of the first LED between WIFI, MQTT, FIND-ME ([#317](https://github.com/xoseperez/espurna/issues/317))\n- Added HTML linter to gulp builder\n- Added Help command on terminal ([#338](https://github.com/xoseperez/espurna/issues/338))\n- Added preliminary support for SSDP (untested, disabled by default) ([#282](https://github.com/xoseperez/espurna/issues/282))\n- Reporting NTP datetime on MQTT heartbeat (thanks to Eldon R. Brown)\n- Added version tracking and migration code\n- I2C and GPIO locking features\n- Changed default button action for touch button devices (TOUCH and T1) ([#327](https://github.com/xoseperez/espurna/issues/327))\n- Generic 8 channel board ([#336](https://github.com/xoseperez/espurna/issues/336))\n\n### Changed\n- Added more sensor data filters (Max, MobileAverage)\n- Changed max pulse time to 1h ([#316](https://github.com/xoseperez/espurna/issues/316))\n- Renamed \"reset\" to \"reboot\" for clarity ([#315](https://github.com/xoseperez/espurna/issues/315))\n- UI refactor\n- Change apiRegister signature\n\n## [1.10.1] 2017-12-05\n### Fixed\n- Fix Sonoff RFBridge learn message from web UI ([#287](https://github.com/xoseperez/espurna/issues/287))\n- Fix unstability in \"one and just one\" sync mode ([#290](https://github.com/xoseperez/espurna/issues/290))\n- Fix unnecessary inclusion of my92xx library ([#293](https://github.com/xoseperez/espurna/issues/293))\n- Limit the MQTT queue to 10 messages when \"Use JSON payload\" enabled ([#296](https://github.com/xoseperez/espurna/issues/296))\n- Fix Sonoff RFBridge OFF button toggling switch ([#303](https://github.com/xoseperez/espurna/issues/303))\n- Allow defining only ON or OFF codes in Sonoff RFBridge ([#304](https://github.com/xoseperez/espurna/issues/304))\n- Disabled terminal support for Sonoff Dual ([#310](https://github.com/xoseperez/espurna/issues/310))\n\n### Added\n- Support for SI7021-based sensor by Itead Studio compatible with Sonoff TH ([#216](https://github.com/xoseperez/espurna/issues/216))\n- Support for Sonoff Dual R2 ([#286](https://github.com/xoseperez/espurna/issues/286))\n- MQTT group topics (sync two or more switches from different devices, [#300](https://github.com/xoseperez/espurna/issues/300))\n- Color transitions (enabled by default, can be disabled from web UI)\n- Option to disable MQTT support at build time\n\n### Changed\n- Decreased PWM frequency for dimmer lights\n- Changed password policy ([#297](https://github.com/xoseperez/espurna/issues/297))\n\n## [1.10.0] 2017-11-26\n### Fixed\n- Temperatures with 1 decimal resolution\n- Issues with Sonoff B1 due to bad driver management (using my92xx library now)\n- Avoid recursive messages on Domoticz ([#272](https://github.com/xoseperez/espurna/issues/272))\n- Fixed Sonoff T1 configuration\n- Simplify and fix web auth ([#284](https://github.com/xoseperez/espurna/issues/284))\n- Fix Embedis custom parser\n\n### Added\n- Added option to define a temperature correction factor (thanks to Pawel Raszewski)\n- Option to disable system check on build time\n- Power saving features (loopDelay and wifi sleep)\n- Added Sonoff TH build environment\n- Send Home Assistant auto discover messages on connect ([#279](https://github.com/xoseperez/espurna/issues/279))\n- Implemented Home Assistant availability topic ([#280](https://github.com/xoseperez/espurna/issues/280))\n- Update time, uptime and heap on webUI every heartbeat\n- Support for LLMNR and NetBIOS ([#282](https://github.com/xoseperez/espurna/issues/282))\n- Added I2C clean bus code\n- Added realm to auth challenge\n\n### Changed\n- Changed default hostname to \"ESPURNA_XXXXXX\"\n- Binaries built against stable core (~40Kb less, [#274](https://github.com/xoseperez/espurna/issues/274))\n- Enabled TERMINAL_SUPPORT for Sonoff Dual (only available via TELNET)\n- Dinamically resize debug strings (now messages are not cropped)\n- MQTT: unsubscribe to '#' before subscribing\n- Updated ESPAsyncWebServer and ESPAsyncTCP libraries\n- Removed InfluxDB support by default\n- Using stock slider in webUI to reduce size\n- Unify DHT and DS18B20 code, show NOT CONNECTED on webUI\n\n## [1.9.9] 2017-11-09\n### Fixed\n- Fixed bug in MY9291-based light bulbs at full brightness\n\n### Added\n- RFBridge: toggle when RF codes for ON and OFF are the same ([#270](https://github.com/xoseperez/espurna/issues/270))\n- Support for HSV color schema (MQTT, API and webUI via a selector)\n\n### Changed\n- \"COLOR\" entry point deprecated, use \"RGB\" instead (MQTT and API, ex. topic \"light/rgb/set\" instead of \"light/color/set\")\n\n## [1.9.8] 2017-11-08\n### Fixed\n- Removed dimmer lights flicker when saving to EEPROM ([#191](https://github.com/xoseperez/espurna/issues/191))\n- Fixed low brightness in dimmer lights ([#157](https://github.com/xoseperez/espurna/issues/157))\n- Fixed blank fields in energy ([#258](https://github.com/xoseperez/espurna/issues/258), [#259](https://github.com/xoseperez/espurna/issues/259))\n- Fixed support for Arilux AL-LC06\n- Updated fauxmoESP library with support for GetBinaryState actions\n\n### Added\n- Support for IR remotes\n- Option to select power read and report interval from webUI\n- Option to report real-time values in API, configurable via webUI\n- Support for ESPurna-H Board v0.8\n- Support for Arilux E27 light bulb (untested)\n- Support for YJZK 2-gang switch\n\n### Changed\n- PWM using ESP8266_new_pwm by Stephan Bruens (https://github.com/StefanBruens/ESP8266_new_pwm)\n- Using own DHT implementation (removed dependency on Adafruit libraries)\n- Disabled serial debug for Sonoff RFBridge\n\n## [1.9.7] 2017-10-25\n### Fixed\n- Fix Alexa interface switching on all lights ([#256](https://github.com/xoseperez/espurna/issues/256))\n\n## [1.9.6] 2017-10-23\n### Fixed\n- Fix power report in Domoticz ([#236](https://github.com/xoseperez/espurna/issues/236))\n- Fix Sonoff POW in AP mode ([#241](https://github.com/xoseperez/espurna/issues/241))\n- Fix Home Automation auto-discovery (support for single relay switches and RGB lights, [#235](https://github.com/xoseperez/espurna/issues/235))\n- Check WS authentication only on start event\n\n### Added\n- Support for 2.4.0 RC2 Arduino Core that fixes KRACK vulnerablity (pre-built images are compiled against this, [#242](https://github.com/xoseperez/espurna/issues/242))\n- Support for ManCaveMade ESPLive board (thanks to Michael A. Cox)\n- Support for InterMIT Tech QuinLED 2.6 (thanks to Colin Shorts)\n- Support for Magic Home LED Controller 2.0 (thanks to users @gimi87 and @soif, [#231](https://github.com/xoseperez/espurna/issues/231))\n- Support for Arilux AL-LC06 (thanks to Martijn Kruissen)\n- Support for Xenon SM-PW702U Wifi boards (thanks to Joshua Harden, [#212](https://github.com/xoseperez/espurna/issues/212))\n- Support for Authometion LYT8266 (testing, thanks to Joe Blellik, [#213](https://github.com/xoseperez/espurna/issues/213))\n- Support for an external button for D1 Mini boards (thanks to user @PieBru, [#239](https://github.com/xoseperez/espurna/issues/239))\n- Option to query relay status via MQTT or WS (thanks to Wesley Tuzza)\n- Automatically install dependencies for web interface builder (thanks to Hermann Kraus)\n- Support for HSV and IR for Magic Home LED Controller (optional, disabled by default, thanks to Wesley Tuzza)\n- Added option to report DS18B20 temperatures based on changes (thanks to Michael A. Cox)\n- Safer buffer handling for websocket data (thanks to Hermann Kraus & Bjrn Bergman)\n- Updates HL8012 library with energy counting support (thanks to Hermann Kraus)\n- Added option to disable light color persistence to avoid flickering ([#191](https://github.com/xoseperez/espurna/issues/191))\n- Option to enable TELNET in STA mode from web UI ([#203](https://github.com/xoseperez/espurna/issues/203))\n\n### Changed\n- Changed default MQTT base topic to \"{identifier}\" (no leading slashes, [#208](https://github.com/xoseperez/espurna/issues/208))\n- Prevent reconnecting when in AP mode if a web session or a telnet session is active ([#244](https://github.com/xoseperez/espurna/issues/244))\n- Web UI checks for pending changes before reset/reconnect options ([#226](https://github.com/xoseperez/espurna/issues/226))\n- Increase WIFI connect timeout and reconnect interval\n\n## [1.9.5] 2017-09-28\n### Fixed\n- Revert to JustWifi 1.1.4 ([#228](https://github.com/xoseperez/espurna/issues/228))\n\n## [1.9.4] 2017-09-22\n### Added\n- Added ESPurna specific mDNS text registers (app_name, app_version, device_name)\n- Crash dump info is stored in EEPROM and retrieved via terminal (\"crash\" command)\n- Support for Huacanxing H802\n- Support for powermeters based on V9261F IC\n- Support for powermeters based on ECH1560 IC (beta, untested)\n\n### Changed\n- Changed behaviour on MQTT connection failure ([#215](https://github.com/xoseperez/espurna/issues/215))\n- Removed boot delay\n- Refactor power modules\n- Updated JustWifi library\n\n### Fixed\n- Set all esp8285 devices to use esp01_1m ([#210](https://github.com/xoseperez/espurna/issues/210), [#225](https://github.com/xoseperez/espurna/issues/225))\n- Removed wifi gain option since it prevents some devices to connect ([#204](https://github.com/xoseperez/espurna/issues/204))\n\n## [1.9.3] 2017-09-04\n### Added\n- New \"erase.config\" option in terminal to delete SDK settings\n- Added error code to error message when updating from web UI\n- Fixed Web UI to be behind a proxy (http://tinkerman.cat/secure-remote-access-to-your-iot-devices/)\n- Support \"ON\", \"OFF\" and \"TOGGLE\" (also lowercase) as payload in relay MQTT, API and WS (http://tinkerman.cat/using-google-assistant-control-your-esp8266-devices/)\n\n### Changed\n- Updated fauxmoESP library to 2.2.0\n\n### Fixed\n- Fix HLW8012 calibration ([#194](https://github.com/xoseperez/espurna/issues/194))\n- Fix telnet dropping connection\n- Fix WiFiSecureClient connection with PubSubClient ([#64](https://github.com/xoseperez/espurna/issues/64))\n\n## [1.9.2] 2017-08-31\n### Added\n- System stability check (turns off everything except WIFI AP, OTA and telnet if there is a boot crash loop) ([#196](https://github.com/xoseperez/espurna/issues/196))\n- Telnet support (enabled by default only on AP interface)\n- Option to set WiFi gain from web UI\n- Option to disable MQTT from web UI\n- MQTT autodiscover, with the option to autoconnect if no broker defined\n- Home Assistant MQTT autodiscover feature\n- List enabled modules in INIT debug info\n- Counter module (counts and reports transitions in a digital pin)\n\n### Changed\n- Updated NoFUSS support\n- Web UI documentation changes\n- Changes in terminal commands (\"reconnect\" is now \"reset.wifi\", also new commands added)\n\n### Fixed\n- Crash in settings saving ([#190](https://github.com/xoseperez/espurna/issues/190)) and fixed UDP debug conditional build clauses\n\n## [1.9.1] 2017-08-27\n### Added\n- Support to build without NTP support\n- Added current time, uptime, free heap, firmware size and free space to web interface\n\n### Changed\n- Changed settings keys for Itead Sonoff RF Bridge\n- Disable Domoticz by default\n\n### Fixed\n- Fixed build flags for DHT and DS18B20 in platformio.ini file\n- Fixed Itead Sonoff B1 by updating the my9291 library\n- Fixed light status on boot ([#157](https://github.com/xoseperez/espurna/issues/157))\n- Fixed CSS bug cause by a bad merge\n\n## [1.9.0] 2017-08-25\n### Added\n- Support for IteadStudio BN-SZ01 Ceiling Light ([#132](https://github.com/xoseperez/espurna/issues/132))\n- Support for IteadStudio Sonoff RF Bridge ([#173](https://github.com/xoseperez/espurna/issues/173))\n- Support for IteadStudio Sonoff 4CH Pro ([#174](https://github.com/xoseperez/espurna/issues/174))\n- Support for IteadStudio Sonoff B1\n- Support for IteadStudio Sonoff LED\n- Support for IteadStudio Sonoff T1 wall switches (1, 2 and 4 channels)\n- Support for WiOn 50055 WiFi Wall Outlet & Tap\n- Support for EXS WiFi Relay v3.1 (and other future latching relay boards) ([#152](https://github.com/xoseperez/espurna/issues/152))\n- TLS/SSL support for MQTT (caution: eats a lot of memory, do not use with web interface) ([#64](https://github.com/xoseperez/espurna/issues/64))\n- Add support for delayed ON/OFF switches ([#123](https://github.com/xoseperez/espurna/issues/123), [#161](https://github.com/xoseperez/espurna/issues/161), [#188](https://github.com/xoseperez/espurna/issues/188))\n- Added ON and OFF actions for button events (previously only TOGGLE available) ([#182](https://github.com/xoseperez/espurna/issues/182))\n- Sliders in web interface to control dimmer channels independently (also for brightness)\n- Debug info about MQTT disconnect reason\n\n### Changed\n- MQTT setters ending with \"/set\" by default\n- Using DOUT flash mode on all devices ([#167](https://github.com/xoseperez/espurna/issues/167))\n- Longer timeout for WiFi connection (better chances for Sonoff Basic to connect)\n- Changed MQTT topics for light devices (COLOR, BRIGHTNESS, MIRED, KELVIN, CHANNEL) ([#144](https://github.com/xoseperez/espurna/issues/144))\n- Changed the way light devices are defined (see LIGHT_PROVIDER_DIMMER)\n- Allow to disable color picker in web interface\n- API returns processed values for HLW8012 sensor (not raw values anymore) ([#176](https://github.com/xoseperez/espurna/issues/176))\n- Major refactoring of settings\n\n### Fixed\n- Discard MQTT messages with empty payload ([#185](https://github.com/xoseperez/espurna/issues/185))\n- Wifi connection issue (https://github.com/esp8266/Arduino/issues/2186)\n- Alexa connection issue\n\n## [1.8.3] 2017-07-23\n### Added\n- Issue [#85](https://github.com/xoseperez/espurna/issues/85) and [#90](https://github.com/xoseperez/espurna/issues/90). Option to report MQTT messages with JSON payloads\n- Issue [#170](https://github.com/xoseperez/espurna/issues/170). Updated DebouceEvent library to allow disabling double click and get faster click responses\n- Using memory layout with no SPIFFS for 1Mb devices\n\n### Changed\n- Rename settings s/POW/HLW8012/\n- Return times in ISO8601 format\n\n### Fixed\n- Issue [#168](https://github.com/xoseperez/espurna/issues/168). Added H801 to arduino.h file\n- Issue [#171](https://github.com/xoseperez/espurna/issues/171). Fix corrupted will message\n\n## [1.8.2] 2017-07-16\n### Added\n- InfluxDB support via HTTP API\n- Added custom reset reason to debug log\n- Enable WIFI debug on hardware reset (button long click)\n\n### Changed\n- Issue [#159](https://github.com/xoseperez/espurna/issues/159). Allow decimals in relay pulse interval\n- Updated HLW8012 library\n\n### Fixed\n- Issue [#148](https://github.com/xoseperez/espurna/issues/148). Fix bug in conditional compilation check\n- Issue [#149](https://github.com/xoseperez/espurna/issues/149). Using different pulse counters for each relay (thanks to Lauris Ievi)\n- Issue [#141](https://github.com/xoseperez/espurna/issues/141). Limit relay pulse interval to 60s\n- Fixed units for apparent & reactive power (thanks to Lauris Ievi)\n- Fixed mDNS setup when using custom HTTP port for web interface\n\n## [1.8.1] 2017-05-22\n### Fixed\n- Issue [#140](https://github.com/xoseperez/espurna/issues/140). Fix no relay control bug in Sonoff Dual\n\n## [1.8.0] 2017-05-21\n### Added\n- Added gamma correction to RGB strips. Thanks to Chris Ward.\n- Added support for Huacanxing H801 WiFi LED Controller. Thanks to Minh Phuong Ly.\n- Issue [#138](https://github.com/xoseperez/espurna/issues/138). Added NTP configuration from web interface\n- Issue [#128](https://github.com/xoseperez/espurna/issues/128). Report color when booting and in heartbeat stream.\n- Issue [#126](https://github.com/xoseperez/espurna/issues/126). Show NTP status in web interface.\n- Added filter limits on POW readings.\n- Added color temperature to RGB calculation. Thanks to Sacha Telgenhof.\n- Issue [#120](https://github.com/xoseperez/espurna/issues/120). Added relay flood protection. Thanks to Izik Dubnov.\n- Support for \"#RRGGBB\", \"RRR,GGG,BBB\" and \"WWW\" color formats.\n- Issue [#117](https://github.com/xoseperez/espurna/issues/117). Added build date & time to web interface.\n\n### Fixed\n- Fix MQTT_RELAY board conifugration. Thanks to Denis French.\n- Issue [#125](https://github.com/xoseperez/espurna/issues/125). Fix bug in relay status reading from EEPROM\n- Issue [#127](https://github.com/xoseperez/espurna/issues/127). Fix button action in DUAL.\n- Fix bug in Sonoff POW current reading. Thanks to Emmanuel Tatto.\n- Minimizing my9291 flickering when booting.\n- Fix conditional flags in hardware.ino to support Arduino IDE.\n\n## [1.7.1] 2017-03-28\n### Fixed\n- Issue [#113](https://github.com/xoseperez/espurna/issues/113). Fix restoring color from EEPROM upon reboot\n- Issue [#113](https://github.com/xoseperez/espurna/issues/113). Fix bug in API handlers\n\n## [1.7.0] 2017-03-27\n### Added\n- Web interface embedded in firmware image by default\n- Upload firmware image from web interface\n- Added API entry point to change light color\n- Added generic analog sensor. Thanks to Francesco Boscarino\n- Report RSSI value in debug console and MQTT status messages\n- Added support for Magic Home LED Controller\n- Added support for ESPurna-H Board (based on HLW8012)\n- Added forward compatible code for v2.0\n\n### Changed\n- Added ellipsis (...) in debug messages longer than 80 characters\n- Changed topic constants in code\n- Prevent the SDK from saving WiFi configuration to flash\n\n### Fixed\n- Issue [#113](https://github.com/xoseperez/espurna/issues/113). Fix light bulb state to OFF in library prevented the bulb from turning on\n- Issue [#58](https://github.com/xoseperez/espurna/issues/58). Added code to handle spurious readings\n- Fix bug in HLW8012 calibration current parameter casting to int instead of float\n- Issue [#115](https://github.com/xoseperez/espurna/issues/115). Removed local declaration of _mqttForward variable. Thanks to Pawe Fiedor\n- Fix MQTT will topic. Thanks to Asbjorn Tronhus\n\n## [1.6.9] 2017-03-12\n### Added\n- Two stage read for DS18B20 devices. Thanks to Izik Dubnov.\n- Option to report the relay status via MQTT periodically\n- Terminal commands to change relay status an light color\n- Added debug via UDP (disabled by default)\n- Moved debug strings to PROGMEM. ~1.5KByes memory freed\n- Avoid broadcasting websocket messages if no clients connected\n\n### Fixed\n- Fixing use after free bug that leads to corrupted auth credentials. Thanks to David Guillen\n\n## [1.6.8] 2017-03-01\n### Added\n- Issue [#85](https://github.com/xoseperez/espurna/issues/85). Heartbeat reports now free heap, uptime and VCC every 5 minutes\n\n### Changed\n- Wait two minutes instead of one in AP mode before trying to reconnect to the router\n- Issue [#92](https://github.com/xoseperez/espurna/issues/92). Debug log enabled by default in Arduino IDE\n- Issue [#91](https://github.com/xoseperez/espurna/issues/91). Using AsyncMqttClient as default MQTT client again\n\n### Fixed\n- Report data from all sensors via websocket even if no MQTT connection\n- Issue [#92](https://github.com/xoseperez/espurna/issues/92). Fix unknown reference in Arduino IDE\n- Split data.h contents into 1k lines, otherwise Arduino IDE chokes on them\n- Discard empty MQTT topic while subscribing\n\n## [1.6.7] 2017-02-25\n### Added\n- Support for OpenLight / AI-Light by AI-Thinker based on MY9291 LED driver\n- Issue [#87](https://github.com/xoseperez/espurna/issues/87). Factory reset when physical button pressed for >10 seconds\n\n## [1.6.6] 2017-02-23\n### Fixed\n- Issue [#82](https://github.com/xoseperez/espurna/issues/82). Fix critical bug on Sonoff Dual\n\n## [1.6.5] 2017-02-22\n### Added\n- Option to backup and restore settings from the web interface\n- Footer in the web interface\n\n### Changed\n- Using PubSubClient as MQTT client by default (please read the documentation)\n- Double & long clicks do nothing except for the first defined button\n\n### Fixed\n- Issue [#79](https://github.com/xoseperez/espurna/issues/79). Fix bug in WiFi led notification & MQTT connectivity (using PubSubClient)\n- Issue [#73](https://github.com/xoseperez/espurna/issues/73). Fix bug when building without Domoticz support\n- Fix Gulp tasks dependencies\n\n## [1.6.4] 2017-02-20\n### Added\n- Option to embed the web interface in the firmware, disabled by default\n- Change relay status with a GET request (browser friendly)\n- Support for PROGMEM debug messages (only wifi module has been changed)\n- Option to disable mDNS, enabled by default\n- Show current web server port in debug log\n- Issue [#75](https://github.com/xoseperez/espurna/issues/75). Link relays to LEDs\n- Issue [#76](https://github.com/xoseperez/espurna/issues/76). Using http://espurna.local when in AP mode\n\n### Changed\n- Images and favicon is now embedded in the HTML\n- Authentication challenge only in /auth request. All static contents are un-authenticated\n- HTTP response code when out of websocket slots changed from 423 to 429\n\n### Fixed\n- Memory leak in MQTT connection method\n- Wait 60 seconds before retrying to connect when in AP mode\n- Issue [#24](https://github.com/xoseperez/espurna/issues/24) & [#74](https://github.com/xoseperez/espurna/issues/74). Update ESPAsyncTCP and ESPAsyncWebServer to latest GIT version that supports MSS defragmenting\n- Issue [#73](https://github.com/xoseperez/espurna/issues/73). Fixes for windows machines\n\n### Removed\n- Captive portal removed, mDNS resolution for AP mode too\n\n## [1.6.3] 2017-02-15\n### Added\n- Issue [#69](https://github.com/xoseperez/espurna/issues/69). Temperature unit configuration from the web interface\n- Issue [#55](https://github.com/xoseperez/espurna/issues/55). WebServer port configurable from the web interface, defaults to 80\n- Expand network configuration when adding a new network\n\n### Changed\n- Merged web contents except images in a single compressed file for reliability\n- Update support for Itead Motor Clockwise/Anticlockwise board\n- Scan for strongest network only if more than 1 network configured\n\n### Fixed\n- Issue [#71](https://github.com/xoseperez/espurna/issues/71). Added default values for netmask and DNS in web configuration\n- Fixed Itead 1CH self-locking/inching board definition\n- Fixed PlatformIO environments for ESP8285 boards (4CH and Touch)\n\n## [1.6.2] 2017-02-10\n### Fixed\n- Check if there is an MQTT broker defined before the MQTT_MAX_TRIES check\n\n## [1.6.1] 2017-02-10\n### Added\n- Added support for [Jorge Garcia's Wifi+Relay Board Kit](https://www.tindie.com/products/jorgegarciadev/wifi--relays-board-kit/)\n- Reporting current and energy incrementals to a separate counters in Domoticz (thanks to Toni Arte)\n- Force WiFi reconnect after MQTT_MAX_TRIES fails trying to connect to MQTT broker\n\n## [1.6.0] 2017-02-05\n### Added\n- Added support for toggle switches\n- Allow reset the board via an MQTT message\n- Allow reset the board via an RPC (HTTP) message\n- Added support for ADC121 I2C for current monitoring (Check [http://tinkerman.cat/power-monitoring-sonoff-th-adc121/](http://tinkerman.cat/power-monitoring-sonoff-th-adc121/))\n- Reporting voltage to Domoticz (only HLW8012)\n- Map button events to actions (toggle relay, AP mode, reset, pulse mode)\n\n### Changed\n- Reporting energy incrementals (Domoticz, MQTT)\n\n### Removed\n- Removed current monitor bypass when relay is OFF\n- Removed energy API entry point\n\n## [1.5.4] 2017-02-03\n### Fixed\n- Issue [#50](https://github.com/xoseperez/espurna/issues/50). Fix type bug in window variable when calculating energy for HLW8012 devices (Sonoff POW)\n\n## [1.5.3] 2017-02-02\n### Fixed\n- Issue [#50](https://github.com/xoseperez/espurna/issues/50) and [#54](https://github.com/xoseperez/espurna/issues/54). Fixed domoticz MQTT message format\n\n### Added\n- Energy calculation and aggregation. API entry points and MQTT messages.\n\n## [1.5.2] 2017-01-29\n### Fixed\n- Fix bug in emon topic payload\n\n## [1.5.1] 2017-01-28\n### Added\n- OpenEnergyMonitor WiFi MQTT Relay / Thermostat support (thanks to Denis French)\n\n### Fixed\n- NTP connection refresh upon wifi connection\n- Filesystem image build using local gulp installation\n\n## [1.5.0] 2017-01-21\n### Added\n- Pulse mode. Allows to define a pulse time after which the relay will switch back\n- API entry points for sensor data (power, current, voltage, temperature and humidity)\n- Export sensor data to Domoticz (power, current, voltage, temperature and humidity)\n- Configurable (in code) mapping between buttons and relays\n- MQTT messages for button events\n- Added support for Itead Studio 1CH inching/self locking smart switch board\n- Added support for Jan Goedeke Wifi Relay boards (both NC and NO versions)\n- Notify OTA updates to websocket clients, automatically reload page\n- Support for pulse mode notification LED and button\n- Revert relay state mode on boot (thanks to Minh Phuong Ly)\n\n### Fixed\n- MQTT will topic\n- Crash with HLW812 interrupts while trying to create a WIFI connection\n- Issue [#20](https://github.com/xoseperez/espurna/issues/20) Better inline documentation for Alexa and Domoticz default settings\n- Issue [#39](https://github.com/xoseperez/espurna/issues/39) Fixed autoconnect issue with static IP (fixed in JustWifi library)\n- Issue [#41](https://github.com/xoseperez/espurna/issues/41) Added password requirements to initial password change page\n\n### Changed\n- Changed LED pattern for WIFI notifications (shorter pulses)\n\n## [1.4.4] 2017-01-13\n### Added\n- Adding current, voltage, apparent and reactive power reports to Sonoff POW (Web & MQTT)\n\n### Fixed\n- Issue [#35](https://github.com/xoseperez/espurna/issues/35) Fixed frequent MQTT connection drops after WIFI reconnect\n- Defer wifi disconnection from web interface to allow request to return\n\n### Changed\n- Move all Arduino IDE configuration values to their own file\n- Using latest HLW8012 library in interrupt mode\n\n## [1.4.3] 2017-01-11\n### Fixed\n- Issue [#6](https://github.com/xoseperez/espurna/issues/6) Using forked Time library to prevent conflict with Arduino Core for ESP8266 time.h file in windows machines\n\n## [1.4.2] 2017-01-09\n### Added\n- Support for inverse logic relays\n\n### Fixed\n- Issue [#31](https://github.com/xoseperez/espurna/issues/31). Fixed error in relay identification from MQTT messages\n\n## [1.4.1] 2017-01-05\n### Added\n- Alexa support by default on all devices\n- Added support for Wemos D1 Mini board with official Relay Shield\n\n### Fixed\n- Multi-packet websocket frames\n\n## [1.4.0] 2016-12-31\n### Added\n- Domoticz support via MQTT (https://www.domoticz.com/wiki/MQTT)\n- Support for static IP connections\n\n### Fixed\n- Issue [#16](https://github.com/xoseperez/espurna/issues/16). Enforce minimum password strength in web interface\n\n### Changed\n- Using default client_id provided by AsyncMqttClient\n- Allow up to 5 different WIFI networks\n\n### Removed\n- File system version file\n\n## [1.3.1] 2016-12-31\n### Fixed\n- data_dir fix for PlatformIO\n\n## [1.3.0] 2016-12-30\n### Changed\n- Arduino IDE support (changes in the folder structure and documentation)\n\n## [1.2.0] 2016-12-27\n### Added\n- Force password changing if it's the default one\n- Added Last-Modified header to static contents\n- Added DNS captive portal for AP mode\n- Added support for Sonoff 4CH\n- Added support for WorkChoice ecoPlug (ECOPLUG). Thanks to David Myers\n- Added support for Sonoff SV\n- Added support for Sonoff Touch\n- Comment out hardware selection in hardware.h if using Arduino IDE\n- Added support for MQTT get/set suffixes (/status, /set, ...)\n- Added support for LED notifications via MQTT\n- Added EEPROM check commands to terminal interface\n\n### Changed\n- Using unreleased AsyncMqttClient with stability improvements\n- Better decoupling between MQTT and relays/websockets\n- Skipping retained MQTT messages (configurable)\n\n### Fixed\n- Issue [#11](https://github.com/xoseperez/espurna/issues/11) Compile error when building sonoff-dual-debug\n- Issue [#14](https://github.com/xoseperez/espurna/issues/14) MQTT Connection with Username an Password not working\n- Issue [#17](https://github.com/xoseperez/espurna/issues/17) Moved static variable 'pending' to class variable\n\n## [1.1.0] 2016-12-06\n### Added\n- Added support for DS18B20 temperature sensor. Thanks to Francesco Boscarino\n- Added reset command from console\n- Added support for multirelay boards like Sonoff DUAL or Electrodragon ESP Relay Board\n\n### Changed\n- Not using espressif8266_stage in default environment\n- Relay MQTT topics\n- API entry points\n\n### Removed\n- Old non protected API\n\n## [1.0.3] 2016-11-29\n\n### Added\n- WeMo emulation through the fauxmoESP library (control your switch from Alexa!)\n- REST API for relay management\n- Better dependency definitions in platformio.ini\n- Option to define inverse logic to on-board LED\n- Built data folder included in repo\n\n### Changed\n- Using non-interrupt driven mode for HLW8012\n- Better documentation\n- Small changes to web interface\n- Same admin password for web, OTA and WIFI AP mode\n\n### Fixed\n- Prevent fauxmoESP to be compiled by default\n\n### Removed\n- Removed ESPurna board to its own repo\n\n## [1.0.1] 2016-11-13\n\n### Added\n- Basic authentication and CSRF to websocket requests\n\n## [1.0.0] 2016-11-13\n\n### Added\n- Using ESPAsyncWebServer (for web & websockets) and AsyncMqttClient\n\n## [0.9.9] 2016-11-12\n\n### Added\n- Preliminary support for Sonoff POW\n- Replace AJAX requests with websockets\n- Using sprites for images\n- Hostname can be changed\n- Added initial relay state mode\n- Reconnect and reset buttons on web interface\n\n### Changed\n- Changed long click to reset and double click to AP mode\n- Using officially supported platformio.ini file by default\n\n### Fixed\n- Removed unnecessary memory inefficient code\n- Temprary fix for Adafruit DHT library (see https://github.com/adafruit/DHT-sensor-library/issues/62)\n\n## [0.9.8] 2016-10-06\n\n### Added\n- Using PureCMS for the web interface\n- Using gulp to build the filesystem files\n- Using Embedis for configuration\n\n### Changed\n- Updated JustWifi library\n- Web interface changes\n- Using custom platformio.ini file\n- Loads of changes in modules\n- Added DEBUG_MSG\n\n### Fixed\n- Clean gulp builder script\n\n## [0.9.7] 2016-08-28\n\n### Changed\n- Moving wifi management to library (JustWifi)\n- Split code into modules\n\n## [0.9.6] 2016-08-12\n\n### Added\n- Added heartbeat, version and fsversion MQTT messages\n\n### Changed\n- GZip 3rd party contents\n\n## [0.9.5] 2016-07-31\n- Initial stable version\n"
        },
        {
          "name": "CONTRIBUTING.md",
          "type": "blob",
          "size": 1.41796875,
          "content": "Do you want to do a pull request?\n\nFirst things first: **THANK YOU!**. ESPurna started as a personal project and it will be great if it becomes a community project. There are so many things that can be improved, added and fixed (yeah, a lot a small bugs and not so small bugs there, I'm sure). And sometimes I just don't have the time to work on it as much as I'd like to. \n\nSecond. Let's try to keep it homogeneous and readable. I have my coding style. It's mostly standard but sometimes it can be opinionated. It you are willing to do a pull request, there are a few things I would ask you first:\n\n## Pull request ##\n* Do the pull request against the **`dev` branch**\n* **Only touch relevant files** (beware if your editor has auto-formatting feature enabled)\n* If you are adding a new functionality (new hardware, new library support) not related to an existing component move it to it's **own modules** (.cpp or .h file)\n* If you are adding new library, include it in one of the **[sample test/build/\\*.h profiles](https://github.com/xoseperez/espurna/tree/dev/code/test/build)**, so our integrated CI will try to compile it.\n* Make sure you check [Coding Style](https://github.com/xoseperez/espurna/wiki/CodingStyle)\n* PRs that don't compile or cause more coding errors will not be merged. Please fix the issue. Same goes for PRs that are raised against older commit in dev - you might need to rebase and resolve conflicts.\n\n\nAnd thank you again!\n"
        },
        {
          "name": "LICENSE",
          "type": "blob",
          "size": 34.32421875,
          "content": "                    GNU GENERAL PUBLIC LICENSE\n                       Version 3, 29 June 2007\n\n Copyright (C) 2007 Free Software Foundation, Inc. <http://fsf.org/>\n Everyone is permitted to copy and distribute verbatim copies\n of this license document, but changing it is not allowed.\n\n                            Preamble\n\n  The GNU General Public License is a free, copyleft license for\nsoftware and other kinds of works.\n\n  The licenses for most software and other practical works are designed\nto take away your freedom to share and change the works.  By contrast,\nthe GNU General Public License is intended to guarantee your freedom to\nshare and change all versions of a program--to make sure it remains free\nsoftware for all its users.  We, the Free Software Foundation, use the\nGNU General Public License for most of our software; it applies also to\nany other work released this way by its authors.  You can apply it to\nyour programs, too.\n\n  When we speak of free software, we are referring to freedom, not\nprice.  Our General Public Licenses are designed to make sure that you\nhave the freedom to distribute copies of free software (and charge for\nthem if you wish), that you receive source code or can get it if you\nwant it, that you can change the software or use pieces of it in new\nfree programs, and that you know you can do these things.\n\n  To protect your rights, we need to prevent others from denying you\nthese rights or asking you to surrender the rights.  Therefore, you have\ncertain responsibilities if you distribute copies of the software, or if\nyou modify it: responsibilities to respect the freedom of others.\n\n  For example, if you distribute copies of such a program, whether\ngratis or for a fee, you must pass on to the recipients the same\nfreedoms that you received.  You must make sure that they, too, receive\nor can get the source code.  And you must show them these terms so they\nknow their rights.\n\n  Developers that use the GNU GPL protect your rights with two steps:\n(1) assert copyright on the software, and (2) offer you this License\ngiving you legal permission to copy, distribute and/or modify it.\n\n  For the developers' and authors' protection, the GPL clearly explains\nthat there is no warranty for this free software.  For both users' and\nauthors' sake, the GPL requires that modified versions be marked as\nchanged, so that their problems will not be attributed erroneously to\nauthors of previous versions.\n\n  Some devices are designed to deny users access to install or run\nmodified versions of the software inside them, although the manufacturer\ncan do so.  This is fundamentally incompatible with the aim of\nprotecting users' freedom to change the software.  The systematic\npattern of such abuse occurs in the area of products for individuals to\nuse, which is precisely where it is most unacceptable.  Therefore, we\nhave designed this version of the GPL to prohibit the practice for those\nproducts.  If such problems arise substantially in other domains, we\nstand ready to extend this provision to those domains in future versions\nof the GPL, as needed to protect the freedom of users.\n\n  Finally, every program is threatened constantly by software patents.\nStates should not allow patents to restrict development and use of\nsoftware on general-purpose computers, but in those that do, we wish to\navoid the special danger that patents applied to a free program could\nmake it effectively proprietary.  To prevent this, the GPL assures that\npatents cannot be used to render the program non-free.\n\n  The precise terms and conditions for copying, distribution and\nmodification follow.\n\n                       TERMS AND CONDITIONS\n\n  0. Definitions.\n\n  \"This License\" refers to version 3 of the GNU General Public License.\n\n  \"Copyright\" also means copyright-like laws that apply to other kinds of\nworks, such as semiconductor masks.\n\n  \"The Program\" refers to any copyrightable work licensed under this\nLicense.  Each licensee is addressed as \"you\".  \"Licensees\" and\n\"recipients\" may be individuals or organizations.\n\n  To \"modify\" a work means to copy from or adapt all or part of the work\nin a fashion requiring copyright permission, other than the making of an\nexact copy.  The resulting work is called a \"modified version\" of the\nearlier work or a work \"based on\" the earlier work.\n\n  A \"covered work\" means either the unmodified Program or a work based\non the Program.\n\n  To \"propagate\" a work means to do anything with it that, without\npermission, would make you directly or secondarily liable for\ninfringement under applicable copyright law, except executing it on a\ncomputer or modifying a private copy.  Propagation includes copying,\ndistribution (with or without modification), making available to the\npublic, and in some countries other activities as well.\n\n  To \"convey\" a work means any kind of propagation that enables other\nparties to make or receive copies.  Mere interaction with a user through\na computer network, with no transfer of a copy, is not conveying.\n\n  An interactive user interface displays \"Appropriate Legal Notices\"\nto the extent that it includes a convenient and prominently visible\nfeature that (1) displays an appropriate copyright notice, and (2)\ntells the user that there is no warranty for the work (except to the\nextent that warranties are provided), that licensees may convey the\nwork under this License, and how to view a copy of this License.  If\nthe interface presents a list of user commands or options, such as a\nmenu, a prominent item in the list meets this criterion.\n\n  1. Source Code.\n\n  The \"source code\" for a work means the preferred form of the work\nfor making modifications to it.  \"Object code\" means any non-source\nform of a work.\n\n  A \"Standard Interface\" means an interface that either is an official\nstandard defined by a recognized standards body, or, in the case of\ninterfaces specified for a particular programming language, one that\nis widely used among developers working in that language.\n\n  The \"System Libraries\" of an executable work include anything, other\nthan the work as a whole, that (a) is included in the normal form of\npackaging a Major Component, but which is not part of that Major\nComponent, and (b) serves only to enable use of the work with that\nMajor Component, or to implement a Standard Interface for which an\nimplementation is available to the public in source code form.  A\n\"Major Component\", in this context, means a major essential component\n(kernel, window system, and so on) of the specific operating system\n(if any) on which the executable work runs, or a compiler used to\nproduce the work, or an object code interpreter used to run it.\n\n  The \"Corresponding Source\" for a work in object code form means all\nthe source code needed to generate, install, and (for an executable\nwork) run the object code and to modify the work, including scripts to\ncontrol those activities.  However, it does not include the work's\nSystem Libraries, or general-purpose tools or generally available free\nprograms which are used unmodified in performing those activities but\nwhich are not part of the work.  For example, Corresponding Source\nincludes interface definition files associated with source files for\nthe work, and the source code for shared libraries and dynamically\nlinked subprograms that the work is specifically designed to require,\nsuch as by intimate data communication or control flow between those\nsubprograms and other parts of the work.\n\n  The Corresponding Source need not include anything that users\ncan regenerate automatically from other parts of the Corresponding\nSource.\n\n  The Corresponding Source for a work in source code form is that\nsame work.\n\n  2. Basic Permissions.\n\n  All rights granted under this License are granted for the term of\ncopyright on the Program, and are irrevocable provided the stated\nconditions are met.  This License explicitly affirms your unlimited\npermission to run the unmodified Program.  The output from running a\ncovered work is covered by this License only if the output, given its\ncontent, constitutes a covered work.  This License acknowledges your\nrights of fair use or other equivalent, as provided by copyright law.\n\n  You may make, run and propagate covered works that you do not\nconvey, without conditions so long as your license otherwise remains\nin force.  You may convey covered works to others for the sole purpose\nof having them make modifications exclusively for you, or provide you\nwith facilities for running those works, provided that you comply with\nthe terms of this License in conveying all material for which you do\nnot control copyright.  Those thus making or running the covered works\nfor you must do so exclusively on your behalf, under your direction\nand control, on terms that prohibit them from making any copies of\nyour copyrighted material outside their relationship with you.\n\n  Conveying under any other circumstances is permitted solely under\nthe conditions stated below.  Sublicensing is not allowed; section 10\nmakes it unnecessary.\n\n  3. Protecting Users' Legal Rights From Anti-Circumvention Law.\n\n  No covered work shall be deemed part of an effective technological\nmeasure under any applicable law fulfilling obligations under article\n11 of the WIPO copyright treaty adopted on 20 December 1996, or\nsimilar laws prohibiting or restricting circumvention of such\nmeasures.\n\n  When you convey a covered work, you waive any legal power to forbid\ncircumvention of technological measures to the extent such circumvention\nis effected by exercising rights under this License with respect to\nthe covered work, and you disclaim any intention to limit operation or\nmodification of the work as a means of enforcing, against the work's\nusers, your or third parties' legal rights to forbid circumvention of\ntechnological measures.\n\n  4. Conveying Verbatim Copies.\n\n  You may convey verbatim copies of the Program's source code as you\nreceive it, in any medium, provided that you conspicuously and\nappropriately publish on each copy an appropriate copyright notice;\nkeep intact all notices stating that this License and any\nnon-permissive terms added in accord with section 7 apply to the code;\nkeep intact all notices of the absence of any warranty; and give all\nrecipients a copy of this License along with the Program.\n\n  You may charge any price or no price for each copy that you convey,\nand you may offer support or warranty protection for a fee.\n\n  5. Conveying Modified Source Versions.\n\n  You may convey a work based on the Program, or the modifications to\nproduce it from the Program, in the form of source code under the\nterms of section 4, provided that you also meet all of these conditions:\n\n    a) The work must carry prominent notices stating that you modified\n    it, and giving a relevant date.\n\n    b) The work must carry prominent notices stating that it is\n    released under this License and any conditions added under section\n    7.  This requirement modifies the requirement in section 4 to\n    \"keep intact all notices\".\n\n    c) You must license the entire work, as a whole, under this\n    License to anyone who comes into possession of a copy.  This\n    License will therefore apply, along with any applicable section 7\n    additional terms, to the whole of the work, and all its parts,\n    regardless of how they are packaged.  This License gives no\n    permission to license the work in any other way, but it does not\n    invalidate such permission if you have separately received it.\n\n    d) If the work has interactive user interfaces, each must display\n    Appropriate Legal Notices; however, if the Program has interactive\n    interfaces that do not display Appropriate Legal Notices, your\n    work need not make them do so.\n\n  A compilation of a covered work with other separate and independent\nworks, which are not by their nature extensions of the covered work,\nand which are not combined with it such as to form a larger program,\nin or on a volume of a storage or distribution medium, is called an\n\"aggregate\" if the compilation and its resulting copyright are not\nused to limit the access or legal rights of the compilation's users\nbeyond what the individual works permit.  Inclusion of a covered work\nin an aggregate does not cause this License to apply to the other\nparts of the aggregate.\n\n  6. Conveying Non-Source Forms.\n\n  You may convey a covered work in object code form under the terms\nof sections 4 and 5, provided that you also convey the\nmachine-readable Corresponding Source under the terms of this License,\nin one of these ways:\n\n    a) Convey the object code in, or embodied in, a physical product\n    (including a physical distribution medium), accompanied by the\n    Corresponding Source fixed on a durable physical medium\n    customarily used for software interchange.\n\n    b) Convey the object code in, or embodied in, a physical product\n    (including a physical distribution medium), accompanied by a\n    written offer, valid for at least three years and valid for as\n    long as you offer spare parts or customer support for that product\n    model, to give anyone who possesses the object code either (1) a\n    copy of the Corresponding Source for all the software in the\n    product that is covered by this License, on a durable physical\n    medium customarily used for software interchange, for a price no\n    more than your reasonable cost of physically performing this\n    conveying of source, or (2) access to copy the\n    Corresponding Source from a network server at no charge.\n\n    c) Convey individual copies of the object code with a copy of the\n    written offer to provide the Corresponding Source.  This\n    alternative is allowed only occasionally and noncommercially, and\n    only if you received the object code with such an offer, in accord\n    with subsection 6b.\n\n    d) Convey the object code by offering access from a designated\n    place (gratis or for a charge), and offer equivalent access to the\n    Corresponding Source in the same way through the same place at no\n    further charge.  You need not require recipients to copy the\n    Corresponding Source along with the object code.  If the place to\n    copy the object code is a network server, the Corresponding Source\n    may be on a different server (operated by you or a third party)\n    that supports equivalent copying facilities, provided you maintain\n    clear directions next to the object code saying where to find the\n    Corresponding Source.  Regardless of what server hosts the\n    Corresponding Source, you remain obligated to ensure that it is\n    available for as long as needed to satisfy these requirements.\n\n    e) Convey the object code using peer-to-peer transmission, provided\n    you inform other peers where the object code and Corresponding\n    Source of the work are being offered to the general public at no\n    charge under subsection 6d.\n\n  A separable portion of the object code, whose source code is excluded\nfrom the Corresponding Source as a System Library, need not be\nincluded in conveying the object code work.\n\n  A \"User Product\" is either (1) a \"consumer product\", which means any\ntangible personal property which is normally used for personal, family,\nor household purposes, or (2) anything designed or sold for incorporation\ninto a dwelling.  In determining whether a product is a consumer product,\ndoubtful cases shall be resolved in favor of coverage.  For a particular\nproduct received by a particular user, \"normally used\" refers to a\ntypical or common use of that class of product, regardless of the status\nof the particular user or of the way in which the particular user\nactually uses, or expects or is expected to use, the product.  A product\nis a consumer product regardless of whether the product has substantial\ncommercial, industrial or non-consumer uses, unless such uses represent\nthe only significant mode of use of the product.\n\n  \"Installation Information\" for a User Product means any methods,\nprocedures, authorization keys, or other information required to install\nand execute modified versions of a covered work in that User Product from\na modified version of its Corresponding Source.  The information must\nsuffice to ensure that the continued functioning of the modified object\ncode is in no case prevented or interfered with solely because\nmodification has been made.\n\n  If you convey an object code work under this section in, or with, or\nspecifically for use in, a User Product, and the conveying occurs as\npart of a transaction in which the right of possession and use of the\nUser Product is transferred to the recipient in perpetuity or for a\nfixed term (regardless of how the transaction is characterized), the\nCorresponding Source conveyed under this section must be accompanied\nby the Installation Information.  But this requirement does not apply\nif neither you nor any third party retains the ability to install\nmodified object code on the User Product (for example, the work has\nbeen installed in ROM).\n\n  The requirement to provide Installation Information does not include a\nrequirement to continue to provide support service, warranty, or updates\nfor a work that has been modified or installed by the recipient, or for\nthe User Product in which it has been modified or installed.  Access to a\nnetwork may be denied when the modification itself materially and\nadversely affects the operation of the network or violates the rules and\nprotocols for communication across the network.\n\n  Corresponding Source conveyed, and Installation Information provided,\nin accord with this section must be in a format that is publicly\ndocumented (and with an implementation available to the public in\nsource code form), and must require no special password or key for\nunpacking, reading or copying.\n\n  7. Additional Terms.\n\n  \"Additional permissions\" are terms that supplement the terms of this\nLicense by making exceptions from one or more of its conditions.\nAdditional permissions that are applicable to the entire Program shall\nbe treated as though they were included in this License, to the extent\nthat they are valid under applicable law.  If additional permissions\napply only to part of the Program, that part may be used separately\nunder those permissions, but the entire Program remains governed by\nthis License without regard to the additional permissions.\n\n  When you convey a copy of a covered work, you may at your option\nremove any additional permissions from that copy, or from any part of\nit.  (Additional permissions may be written to require their own\nremoval in certain cases when you modify the work.)  You may place\nadditional permissions on material, added by you to a covered work,\nfor which you have or can give appropriate copyright permission.\n\n  Notwithstanding any other provision of this License, for material you\nadd to a covered work, you may (if authorized by the copyright holders of\nthat material) supplement the terms of this License with terms:\n\n    a) Disclaiming warranty or limiting liability differently from the\n    terms of sections 15 and 16 of this License; or\n\n    b) Requiring preservation of specified reasonable legal notices or\n    author attributions in that material or in the Appropriate Legal\n    Notices displayed by works containing it; or\n\n    c) Prohibiting misrepresentation of the origin of that material, or\n    requiring that modified versions of such material be marked in\n    reasonable ways as different from the original version; or\n\n    d) Limiting the use for publicity purposes of names of licensors or\n    authors of the material; or\n\n    e) Declining to grant rights under trademark law for use of some\n    trade names, trademarks, or service marks; or\n\n    f) Requiring indemnification of licensors and authors of that\n    material by anyone who conveys the material (or modified versions of\n    it) with contractual assumptions of liability to the recipient, for\n    any liability that these contractual assumptions directly impose on\n    those licensors and authors.\n\n  All other non-permissive additional terms are considered \"further\nrestrictions\" within the meaning of section 10.  If the Program as you\nreceived it, or any part of it, contains a notice stating that it is\ngoverned by this License along with a term that is a further\nrestriction, you may remove that term.  If a license document contains\na further restriction but permits relicensing or conveying under this\nLicense, you may add to a covered work material governed by the terms\nof that license document, provided that the further restriction does\nnot survive such relicensing or conveying.\n\n  If you add terms to a covered work in accord with this section, you\nmust place, in the relevant source files, a statement of the\nadditional terms that apply to those files, or a notice indicating\nwhere to find the applicable terms.\n\n  Additional terms, permissive or non-permissive, may be stated in the\nform of a separately written license, or stated as exceptions;\nthe above requirements apply either way.\n\n  8. Termination.\n\n  You may not propagate or modify a covered work except as expressly\nprovided under this License.  Any attempt otherwise to propagate or\nmodify it is void, and will automatically terminate your rights under\nthis License (including any patent licenses granted under the third\nparagraph of section 11).\n\n  However, if you cease all violation of this License, then your\nlicense from a particular copyright holder is reinstated (a)\nprovisionally, unless and until the copyright holder explicitly and\nfinally terminates your license, and (b) permanently, if the copyright\nholder fails to notify you of the violation by some reasonable means\nprior to 60 days after the cessation.\n\n  Moreover, your license from a particular copyright holder is\nreinstated permanently if the copyright holder notifies you of the\nviolation by some reasonable means, this is the first time you have\nreceived notice of violation of this License (for any work) from that\ncopyright holder, and you cure the violation prior to 30 days after\nyour receipt of the notice.\n\n  Termination of your rights under this section does not terminate the\nlicenses of parties who have received copies or rights from you under\nthis License.  If your rights have been terminated and not permanently\nreinstated, you do not qualify to receive new licenses for the same\nmaterial under section 10.\n\n  9. Acceptance Not Required for Having Copies.\n\n  You are not required to accept this License in order to receive or\nrun a copy of the Program.  Ancillary propagation of a covered work\noccurring solely as a consequence of using peer-to-peer transmission\nto receive a copy likewise does not require acceptance.  However,\nnothing other than this License grants you permission to propagate or\nmodify any covered work.  These actions infringe copyright if you do\nnot accept this License.  Therefore, by modifying or propagating a\ncovered work, you indicate your acceptance of this License to do so.\n\n  10. Automatic Licensing of Downstream Recipients.\n\n  Each time you convey a covered work, the recipient automatically\nreceives a license from the original licensors, to run, modify and\npropagate that work, subject to this License.  You are not responsible\nfor enforcing compliance by third parties with this License.\n\n  An \"entity transaction\" is a transaction transferring control of an\norganization, or substantially all assets of one, or subdividing an\norganization, or merging organizations.  If propagation of a covered\nwork results from an entity transaction, each party to that\ntransaction who receives a copy of the work also receives whatever\nlicenses to the work the party's predecessor in interest had or could\ngive under the previous paragraph, plus a right to possession of the\nCorresponding Source of the work from the predecessor in interest, if\nthe predecessor has it or can get it with reasonable efforts.\n\n  You may not impose any further restrictions on the exercise of the\nrights granted or affirmed under this License.  For example, you may\nnot impose a license fee, royalty, or other charge for exercise of\nrights granted under this License, and you may not initiate litigation\n(including a cross-claim or counterclaim in a lawsuit) alleging that\nany patent claim is infringed by making, using, selling, offering for\nsale, or importing the Program or any portion of it.\n\n  11. Patents.\n\n  A \"contributor\" is a copyright holder who authorizes use under this\nLicense of the Program or a work on which the Program is based.  The\nwork thus licensed is called the contributor's \"contributor version\".\n\n  A contributor's \"essential patent claims\" are all patent claims\nowned or controlled by the contributor, whether already acquired or\nhereafter acquired, that would be infringed by some manner, permitted\nby this License, of making, using, or selling its contributor version,\nbut do not include claims that would be infringed only as a\nconsequence of further modification of the contributor version.  For\npurposes of this definition, \"control\" includes the right to grant\npatent sublicenses in a manner consistent with the requirements of\nthis License.\n\n  Each contributor grants you a non-exclusive, worldwide, royalty-free\npatent license under the contributor's essential patent claims, to\nmake, use, sell, offer for sale, import and otherwise run, modify and\npropagate the contents of its contributor version.\n\n  In the following three paragraphs, a \"patent license\" is any express\nagreement or commitment, however denominated, not to enforce a patent\n(such as an express permission to practice a patent or covenant not to\nsue for patent infringement).  To \"grant\" such a patent license to a\nparty means to make such an agreement or commitment not to enforce a\npatent against the party.\n\n  If you convey a covered work, knowingly relying on a patent license,\nand the Corresponding Source of the work is not available for anyone\nto copy, free of charge and under the terms of this License, through a\npublicly available network server or other readily accessible means,\nthen you must either (1) cause the Corresponding Source to be so\navailable, or (2) arrange to deprive yourself of the benefit of the\npatent license for this particular work, or (3) arrange, in a manner\nconsistent with the requirements of this License, to extend the patent\nlicense to downstream recipients.  \"Knowingly relying\" means you have\nactual knowledge that, but for the patent license, your conveying the\ncovered work in a country, or your recipient's use of the covered work\nin a country, would infringe one or more identifiable patents in that\ncountry that you have reason to believe are valid.\n\n  If, pursuant to or in connection with a single transaction or\narrangement, you convey, or propagate by procuring conveyance of, a\ncovered work, and grant a patent license to some of the parties\nreceiving the covered work authorizing them to use, propagate, modify\nor convey a specific copy of the covered work, then the patent license\nyou grant is automatically extended to all recipients of the covered\nwork and works based on it.\n\n  A patent license is \"discriminatory\" if it does not include within\nthe scope of its coverage, prohibits the exercise of, or is\nconditioned on the non-exercise of one or more of the rights that are\nspecifically granted under this License.  You may not convey a covered\nwork if you are a party to an arrangement with a third party that is\nin the business of distributing software, under which you make payment\nto the third party based on the extent of your activity of conveying\nthe work, and under which the third party grants, to any of the\nparties who would receive the covered work from you, a discriminatory\npatent license (a) in connection with copies of the covered work\nconveyed by you (or copies made from those copies), or (b) primarily\nfor and in connection with specific products or compilations that\ncontain the covered work, unless you entered into that arrangement,\nor that patent license was granted, prior to 28 March 2007.\n\n  Nothing in this License shall be construed as excluding or limiting\nany implied license or other defenses to infringement that may\notherwise be available to you under applicable patent law.\n\n  12. No Surrender of Others' Freedom.\n\n  If conditions are imposed on you (whether by court order, agreement or\notherwise) that contradict the conditions of this License, they do not\nexcuse you from the conditions of this License.  If you cannot convey a\ncovered work so as to satisfy simultaneously your obligations under this\nLicense and any other pertinent obligations, then as a consequence you may\nnot convey it at all.  For example, if you agree to terms that obligate you\nto collect a royalty for further conveying from those to whom you convey\nthe Program, the only way you could satisfy both those terms and this\nLicense would be to refrain entirely from conveying the Program.\n\n  13. Use with the GNU Affero General Public License.\n\n  Notwithstanding any other provision of this License, you have\npermission to link or combine any covered work with a work licensed\nunder version 3 of the GNU Affero General Public License into a single\ncombined work, and to convey the resulting work.  The terms of this\nLicense will continue to apply to the part which is the covered work,\nbut the special requirements of the GNU Affero General Public License,\nsection 13, concerning interaction through a network will apply to the\ncombination as such.\n\n  14. Revised Versions of this License.\n\n  The Free Software Foundation may publish revised and/or new versions of\nthe GNU General Public License from time to time.  Such new versions will\nbe similar in spirit to the present version, but may differ in detail to\naddress new problems or concerns.\n\n  Each version is given a distinguishing version number.  If the\nProgram specifies that a certain numbered version of the GNU General\nPublic License \"or any later version\" applies to it, you have the\noption of following the terms and conditions either of that numbered\nversion or of any later version published by the Free Software\nFoundation.  If the Program does not specify a version number of the\nGNU General Public License, you may choose any version ever published\nby the Free Software Foundation.\n\n  If the Program specifies that a proxy can decide which future\nversions of the GNU General Public License can be used, that proxy's\npublic statement of acceptance of a version permanently authorizes you\nto choose that version for the Program.\n\n  Later license versions may give you additional or different\npermissions.  However, no additional obligations are imposed on any\nauthor or copyright holder as a result of your choosing to follow a\nlater version.\n\n  15. Disclaimer of Warranty.\n\n  THERE IS NO WARRANTY FOR THE PROGRAM, TO THE EXTENT PERMITTED BY\nAPPLICABLE LAW.  EXCEPT WHEN OTHERWISE STATED IN WRITING THE COPYRIGHT\nHOLDERS AND/OR OTHER PARTIES PROVIDE THE PROGRAM \"AS IS\" WITHOUT WARRANTY\nOF ANY KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO,\nTHE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\nPURPOSE.  THE ENTIRE RISK AS TO THE QUALITY AND PERFORMANCE OF THE PROGRAM\nIS WITH YOU.  SHOULD THE PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF\nALL NECESSARY SERVICING, REPAIR OR CORRECTION.\n\n  16. Limitation of Liability.\n\n  IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING\nWILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MODIFIES AND/OR CONVEYS\nTHE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES, INCLUDING ANY\nGENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING OUT OF THE\nUSE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED TO LOSS OF\nDATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY YOU OR THIRD\nPARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER PROGRAMS),\nEVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF\nSUCH DAMAGES.\n\n  17. Interpretation of Sections 15 and 16.\n\n  If the disclaimer of warranty and limitation of liability provided\nabove cannot be given local legal effect according to their terms,\nreviewing courts shall apply local law that most closely approximates\nan absolute waiver of all civil liability in connection with the\nProgram, unless a warranty or assumption of liability accompanies a\ncopy of the Program in return for a fee.\n\n                     END OF TERMS AND CONDITIONS\n\n            How to Apply These Terms to Your New Programs\n\n  If you develop a new program, and you want it to be of the greatest\npossible use to the public, the best way to achieve this is to make it\nfree software which everyone can redistribute and change under these terms.\n\n  To do so, attach the following notices to the program.  It is safest\nto attach them to the start of each source file to most effectively\nstate the exclusion of warranty; and each file should have at least\nthe \"copyright\" line and a pointer to where the full notice is found.\n\n    <one line to give the program's name and a brief idea of what it does.>\n    Copyright (C) <year>  <name of author>\n\n    This program is free software: you can redistribute it and/or modify\n    it under the terms of the GNU General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    This program is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU General Public License for more details.\n\n    You should have received a copy of the GNU General Public License\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nAlso add information on how to contact you by electronic and paper mail.\n\n  If the program does terminal interaction, make it output a short\nnotice like this when it starts in an interactive mode:\n\n    <program>  Copyright (C) <year>  <name of author>\n    This program comes with ABSOLUTELY NO WARRANTY; for details type `show w'.\n    This is free software, and you are welcome to redistribute it\n    under certain conditions; type `show c' for details.\n\nThe hypothetical commands `show w' and `show c' should show the appropriate\nparts of the General Public License.  Of course, your program's commands\nmight be different; for a GUI interface, you would use an \"about box\".\n\n  You should also get your employer (if you work as a programmer) or school,\nif any, to sign a \"copyright disclaimer\" for the program, if necessary.\nFor more information on this, and how to apply and follow the GNU GPL, see\n<http://www.gnu.org/licenses/>.\n\n  The GNU General Public License does not permit incorporating your program\ninto proprietary programs.  If your program is a subroutine library, you\nmay consider it more useful to permit linking proprietary applications with\nthe library.  If this is what you want to do, use the GNU Lesser General\nPublic License instead of this License.  But first, please read\n<http://www.gnu.org/philosophy/why-not-lgpl.html>.\n\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 31.1318359375,
          "content": "# ESPurna Firmware\n\nESPurna (\"spark\" in Catalan) is a custom firmware for ESP8285/ESP8266 based smart switches, lights and sensors.\nIt uses the Arduino Core for ESP8266 framework and a number of 3rd party libraries.\n\n[![latest snapshot build](https://img.shields.io/github/v/release/xoseperez/espurna?include_prereleases&label=latest%20snapshot%20build)](https://github.com/xoseperez/espurna/releases?q=prerelease%3Atrue&expanded=true)\n[![branch](https://img.shields.io/badge/branch-dev-orange.svg)](https://github.com/xoseperez/espurna/tree/dev/)\n[![license](https://img.shields.io/github/license/xoseperez/espurna.svg)](LICENSE)\n[![ci build](https://github.com/xoseperez/espurna/actions/workflows/push.yml/badge.svg?branch=dev)](https://github.com/xoseperez/espurna/actions/workflows/push.yml)\n<br />\n[![downloads](https://img.shields.io/github/downloads/xoseperez/espurna/total.svg)](https://github.com/xoseperez/espurna/releases)\n[![donate](https://img.shields.io/badge/donate-PayPal-blue.svg)](https://www.paypal.com/cgi-bin/webscr?cmd=_donations&business=xose%2eperez%40gmail%2ecom&lc=US&no_note=0&currency_code=EUR&bn=PP%2dDonationsBF%3abtn_donate_LG%2egif%3aNonHostedGuest)\n[![gitter](https://img.shields.io/gitter/room/tinkerman-cat/espurna?logo=gitter)](https://app.gitter.im/#/room/#tinkerman-cat_espurna:gitter.im)\n[![twitter](https://img.shields.io/twitter/follow/xoseperez.svg?style=social)](https://twitter.com/intent/follow?screen_name=xoseperez)\n\n---\n\n## Collaborators\n\nSince November 2018, Max Prokhorov (**@mcspr**) is also actively working as a collaborator of the project. \n\n## Contributors\n\n**Without your help this project would not be possible**. I (**@xoseperez**) simply can't spend all the time I wish on ESPurna but luckly I recieve a lot of contributions, bug fixes, enhancement suggestions,... from people all around the world. I would like to thank each and every one of you. The [contributors](https://github.com/xoseperez/espurna/graphs/contributors) page shows the ones that have done a PR in the past, but I also get contributions in the issues, by email or via the [gitter ESPurna channel](https://gitter.im/tinkerman-cat/espurna), those I also want to thank.\n\n**Thank you all very much**.\n\n## Notice\n\n> Ladies and gentlemen in the embedded world, use [PlatformIO](https://platformio.org/). If I could offer you only one tip for the future, [PlatformIO](https://platformio.org/) would be it.\n\n> Please use the [gitter ESPurna channel](https://gitter.im/tinkerman-cat/espurna) for support and questions, you have better chances to get fast answers from me or other ESPurna users. Open an issue here only if you feel there is a bug or you want to request an enhancement. Thank you.\n\n> Process of building ESPurna from source is documented in the Wiki:  \n[Using PlatformIO IDE for VSCode](https://github.com/xoseperez/espurna/wiki/Build-and-update-from-Visual-Studio-Code-using-PlatformIO)  \n[Using PlatformIO CLI](https://github.com/xoseperez/espurna/wiki/PlatformIO)  \n[Using Arduino IDE](https://github.com/xoseperez/espurna/wiki/ArduinoIDE)  \n\n## Features\n\n* *KRACK* vulnerability free (when built with Arduino Core >= 2.4.0)\n* Support for **multiple ESP8266-based boards** ([check list](https://github.com/xoseperez/espurna/wiki/Hardware))\n* Power saving options\n* Wifi **AP Mode** or **STA mode**\n    * Supports static IP\n    * Up to 5 different networks can be defined\n    * Scans for strongest network if more than one defined (also available in web UI)\n    * Handles correctly multiple AP with the same SSID\n    * Defaults to AP mode (also available after double clicking the main button)\n    * Support for **WPS** and **Smart Config** (not available in default builds)\n* Network visibility\n    * Supports mDNS (service reporting and metadata) both server mode and client mode (.local name resolution)\n    * Supports NetBIOS, LLMNR and Netbios (when built with Arduino Core >= 2.4.0) and SSDP (experimental)\n* Switch management\n    * Support for **push buttons** and **toggle switches**\n    * Support for **digital** and [**analog**](https://en.wikipedia.org/wiki/Resistor_ladder) buttons\n    * Configurable **status on boot** per switch (always ON, always OFF, same as before or toggle)\n    * Support for **pulse mode** per switch (normally ON or normally OFF) with configurable time\n    * Support for **relay synchronization** (all equal, only one ON, one and only on ON)\n    * Support for **MQTT groups** to sync switches between devices\n    * Support for **delayed ON/OFF**\n    * Support for **latched relays**\n* **MQTT** enabled\n    * **SSL/TLS support** (not on regular builds, see [#64](https://github.com/xoseperez/espurna/issues/64) and [#1465](https://github.com/xoseperez/espurna/issues/1465))\n    * Switch on/off and toggle relays, group topics (sync relays between different devices)\n    * Report button event notifications\n    * Enable/disable pulse mode\n    * Change LED notification mode\n    * Remote reset the board\n    * Fully configurable in webUI (broker, user, password, QoS, keep alive time, retain flag, client ID)\n* **Scheduler** to automatically turn on, off or toggle any relay at a given time and day, also change light intensity for dimmers\n* **Alexa** integration using the [FauxmoESP Library](https://bitbucket.org/xoseperez/fauxmoesp)\n* [**Google Assistant**](http://tinkerman.cat/using-google-assistant-control-your-esp8266-devices/) integration using IFTTT and Webhooks (Google Home, Allo)\n* [**Domoticz**](https://domoticz.com/) integration via MQTT\n* [**Home Assistant**](https://home-assistant.io/) integration\n    * Support for switches (on/off)\n    * Support for lights (color, brightness, on/off state)\n    * Supports MQTT auto-discover feature (switches, lights and sensors)\n    * Integration via MQTT Discover or copy-pasting configuration code\n* [**InfluxDB**](https://www.influxdata.com/) integration via HTTP API\n* [**Prometheus**](https://prometheus.io/) metrics integration via HTTP API\n* [**Thingspeak**](https://thingspeak.com/) integration via HTTP API (HTTPS available for custom builds)\n* **Sonoff RF Bridge** support\n    * Multiple virtual switches (tested with up to 16)\n    * MQTT-to-RF two-way bridge (no need to learn codes)\n    * Support for [https://github.com/Portisch/RF-Bridge-EFM8BB1](https://github.com/Portisch/RF-Bridge-EFM8BB1) custom firmware\n    * Support for [direct control of the encoder/decoder bypassing the EFM8BB1](https://github.com/xoseperez/espurna/wiki/Hardware-Itead-Sonoff-RF-Bridge---Direct-Hack)\n* Support for [different **sensors**](Sensors)\n    * Environment\n        * **DHT11 / DHT12 / DHT22 / DHT21 / AM2301 / Itead's SI7021**\n        * **BMP180**, **BMP280** and **BME280** pressure, humidity (BME280) and temperature (BMP280 & BME280) sensor by Bosch\n        * **BME680** pressure, humidity, temperature and gas sensor by Bosch with support for Bosch's proprietary library BSEC for accurate Indoor Air Quality (IAQ) monitoring ( [learn more](https://github.com/xoseperez/espurna/wiki/Sensors#bme680-environmental-sensor))\n        * **TMP35** and **TMP36** analog temperature sensors\n        * **MAX6675** temperature sensor\n        * **NTC** temperature sensors\n        * **SI7021** temperature and humidity sensor\n        * **SHT3X** temperature and humidity sensor over I2C (Wemos shield)\n        * **AM2320** temperature and humidity sensor over I2C\n        * **Dallas OneWire sensors** like the DS18B20\n        * **MHZ19** CO2 sensor\n        * **T6613** CO2 sensor\n        * **MICS2710** CO2 & NO2 sensor\n        * **MICS5525** CO & CO2 sensor\n        * **SenseAir S8** CO2 sensor\n        * **PMSX003/PMS5003T/ST** dust sensors\n        * **SDS011** dust sensor\n        * **BH1750** luminosity sensor\n        * **GUVAS12SD** UV sensor\n        * **VEML6075** UV Sensor\n        * **EZO pH Circuit**\n        * **Geiger counter** by RH Electronics\n        * **HC-SR04**, **SRF05**, **SRF06**, **DYP-ME007**, **JSN-SR04T** & **Parallax PING)))** distance sensors\n        * **VL53L1X** distance sensor\n        * **MAX6675** K-thermocouple-to-digital converter\n        * **NTC** thermistor\n        * **LDR** light-dependent resistor sensor\n    * Power monitoring\n        * **HLW8012** using the [HLW8012 Library](https://bitbucket.org/xoseperez/hlw8012) (Sonoff POW)\n        * **CSE7766** and **CSE7759B** power monitor chips\n        * **HJL-01** and **BL0937** power monitor chips\n        * Non-invasive **current sensor** using **internal ADC** or **ADC712** or **ADC121** or **ADS1015** / **ADS1115**\n        * **V9261F** power monitor chip\n        * **PZEM0004T**  power monitor board\n        * **ECH1560** power monitor chip\n        * **ADE7953** power monitor chip\n    * Raw **analog** and **digital** sensors\n    * Simple **pulse counter** with **event triggering** option\n    * Support for (almost) any UART based sensor via the **UART-to-MQTT module**\n    * Support for different units (Fahrenheit or Celsius, Watts or Kilowatts, Joules or kWh)\n* Support for LED lights\n    * MY92XX-based light bulbs and PWM LED strips (dimmers) up to 5 channels (RGB, cold white and warm white, for instance)\n    * Support for CCT lights\n    * RGB and HSV color codes supported\n    * Manage channels individually\n    * Temperature color supported (in [mired](https://en.wikipedia.org/wiki/Mired) and [kelvin](https://en.wikipedia.org/wiki/Color_temperature)) via MQTT / REST API\n    * Flicker-free PWM management\n    * Soft color transitions\n    * Color synchronization between light using MQTT\n    * Option to have separate switches for each channel\n* Support for simple 433MHz RF receivers\n* Support for UART-to-MQTT bidirectional bridge\n* Fast asynchronous **HTTP Server** and cool **Web User Interface**\n    * Configurable port\n    * Basic authentication\n    * Web-based configuration\n    * Relay switching and sensor data from the web interface\n    * Handle color, brightness, and white/warm channels for lights\n    * Websockets-based communication between the device and the browser\n    * Backup and restore settings option\n    * Upgrade firmware from the web interface\n    * Works great behind a [secured reverse proxy](http://tinkerman.cat/secure-remote-access-to-your-iot-devices/)\n* **REST API** (enable/disable from web interface)\n    * GET and PUT relay status (including pulses)\n    * Change light color (for supported hardware)\n    * GET sensor data (power, current, voltage, temperature and humidity) depending on the available hardware\n    * Works great behind a secured reverse proxy\n* **RPC API** (enable/disable from web interface)\n    * Remote reset the board\n* **RPN Rules - on-device automation**\n    * Relays on/off/toggle\n    * Lights control\n    * Publish / subscribe to MQTT\n    * RF receiver integration\n* **Over-The-Air** (OTA) updates even for 1Mb boards\n    * Manually from PlatformIO or Arduino IDE\n    * Automatic updates through the [NoFUSS Library](https://bitbucket.org/xoseperez/nofuss)\n    * Update from web interface using pre-built images\n* **Command line configuration**\n    * Change configuration\n    * Run special commands\n* **Telnet support**\n    * Enable/disable via the web UI\n    * Shows debug info and allows to run terminal commands\n* **NTP** for time synchronization\n    * Supports worldwide time zones\n    * Compatible with DST (based on [POSIX TZ variable](https://www.gnu.org/software/libc/manual/html_node/TZ-Variable.html) support)\n* **Unstable system check**\n    * Detects unstable system (crashes on boot continuously) and defaults to a stable system\n    * Only WiFi AP, OTA and Telnet available if system is flagged as unstable\n* Configurable LED notifications based on WiFi status, relays status or MQTT messages.\n* Button interface\n    * Click to toggle relays\n    * Double click to enter AP mode (only main button)\n    * Long click (>1 second) to reboot device (only main button)\n    * Extra long click (>10 seconds) to go back to factory settings (only main button)\n    * Specific definitions for touch button devices (ESPurna Switch, Sonoff Touch & T1)\n* Configuration stored in different flash sectors to prevent data loss and corruption\n* **Garland** Implementing garland using WS2812 leds\n    * 12 animation modes (include start animation)\n    * Web control for:\n        * ON/OFF, brightness, speed\n    * MQTT control:\n        * ON/OFF, brightness, speed\n        * Animation queue\n        * Animation sequence\n\n## Notices\n\n---\n> **2018-04-08**<br />\n> Please use [gitter](https://gitter.im/tinkerman-cat/espurna) for support and questions, you have better chances to get fast answers by me or other ESPurna users. Open an issue here only if you feel there is a bug or you want to request an enhancement. Thank you.\n\n---\n> **2018-03-09**<br />\n> Default branch in GitHub is now the development branch \"dev\".<br>\n> The stable branch (the one used to create the [binary releases](https://github.com/xoseperez/espurna/releases)) is \"[master](https://github.com/xoseperez/espurna/tree/master)\".\n\n---\n> **2018-01-24**<br />\n> This repository has been migrated from Bitbucket to GitHub. There were a number of reason to migrate the repository to GitHub. I like Bitbucket and I'm still using it for a lot of projects, but ESPurna has grown and its community as well. Some users have complain about Bitbucket not being enough community-focused. This change is mainly aimed to use a platform with greater acceptance on the open-source community and tools better suited to them (to you), like the possibility to contribute to the documentation in an easy way.\n>\n>What happened with all the info in Bitbucket? Well, most of it has been ported to GitHub, albeit with some quirks:\n>\n>* **Code** has, of course been migrated completely\n>* **Issues** are all on GitHub already **but** all issues and comments show up as reported by me. The original reporter is referenced inside the body of the issue (or comment) with a link to his/her profile at Bitbucket and a link to his/her profile at GitHub if it happens to be the same username. I **suggest all reporters to subscribe to the issues they originally filed** (search for your BitBucket username to list them).\n>* **Pull requests** historic has not been migrated. At the moment of the migration all pull-requests have been either merged or declined. Of course, those PR merged are in the code base, but the historic and comments in the PR pages will be lost.\n>* **Documentation** it's on it way, first step will be to migrate existing wiki, maybe with a new TOC structure\n>* **Watchers**, **Forks**, I'm afraid they are all gone. Visit the new repo home and click on the \"Watch\" button on the top right. And as you do it click also on the \"Star\" button too :)\n>\n>I apologize for any inconvenience this migration may have caused. I have decided to do it the hard way.\n\n---\n> **2018-01-11**<br />\n> As of current version (1.12.0) ESPurna is tested using Arduino Core 2.3.0 and it's meant to be built against that version.\n\n---\n> **2017-08-26**<br />\n> Since version 1.9.0 the default **MQTT topics for commands have changed**. They all now end with \"/set\". This means you will have to change your controller software (Node-RED or alike) to send messages to -for instance- \"/home/living/light/relay/0/set\". The device will publish its state in \"/home/living/light/relay/0\" like before.\n\n---\n> **2017-07-24**<br />\n> Default flash layout changed in 1.8.3, as an unpredicted consequence devices will not be able to persist/retrieve configuration if flashed with 1.8.3 via **OTA** from **PlatformIO**. Please check issue [#187](https://github.com/xoseperez/espurna/issues/187).\n\n---\n\n## Contribute\n\nThere are several ways to contribute to ESPurna development. You can contribute to the repository by doing:\n\n* Pull requests (fixes, enhancements, new features... are very welcome)\n* Documentation (I reckon I'm bad at it)\n* Testing (filing issues or help resolving them, they take a lot of time and sometimes I don't have the required hardware to test them all)\n\nAnd of course you can always buy me a beer, coffee, tea,... via the donation button below.\n\n[![Donate](https://img.shields.io/badge/donate-PayPal-blue.svg)](https://www.paypal.com/cgi-bin/webscr?cmd=_donations&business=xose%2eperez%40gmail%2ecom&lc=US&no_note=0&currency_code=EUR&bn=PP%2dDonationsBF%3abtn_donate_LG%2egif%3aNonHostedGuest)\n\n## Documentation\n\nFor more information please refer to the [ESPurna Wiki](https://github.com/xoseperez/espurna/wiki).\n\n## Supported hardware\n\nHere is the list of supported hardware. For more information please refer to the [ESPurna Wiki Hardware page](https://github.com/xoseperez/espurna/wiki/Hardware), search for wiki pages starting with *Hardware-...*, or search throught [our build configuration files with hardware presets](https://github.com/xoseperez/espurna/blob/dev/code/espurna/config/hardware.h).\n\n### Power monitoring devices\n\n||||\n|---|---|---|\n|![BlitzWolf BW-SHP6](images/devices/blitzwolf-bw-shp6.jpg)|![BlitzWolf BW-SHP2](images/devices/blitzwolf-bw-shp2.jpg)|![BlitzWolf BW-SHP5](images/devices/blitzwolf-bw-shp5.jpg)|\n|**Blitzwolf BW-SHP6**|**[Blitzwolf BW-SHP2](https://github.com/xoseperez/espurna/wiki/Hardware-BLITZWOLF-BW-SHP2)**<br />(also by Coosa, Gosund, HomeCube, Teckin)|**Blitzwolf BW-SHP5**|\n|![Power meters based on V9261F](images/devices/generic-v9261f.jpg)|![Itead Sonoff POW](images/devices/itead-sonoff-pow.jpg)|![Itead Sonoff POW](images/devices/itead-sonoff-pow-r2.jpg)|\n|**[Power meters based on V9261F](https://github.com/xoseperez/espurna/wiki/Hardware-Generic-V9261F)**|**[Itead Sonoff POW](https://github.com/xoseperez/espurna/wiki/Hardware-Itead-Sonoff-POW)**|**[Itead Sonoff POW R2](https://github.com/xoseperez/espurna/wiki/Hardware-Itead-Sonoff-POW-R2)**|\n|![Itead Sonoff S31](images/devices/itead-sonoff-s31.jpg)|![Smartlife Mini Smart Socket](images/devices/smartlife-mini-smart-socket.jpg)|![Teckin SP20](images/devices/teckin-sp20.jpg)|\n|**[Itead Sonoff S31](https://github.com/xoseperez/espurna/wiki/Hardware-Itead-Sonoff-S31)**|**Smartlife (NETVIP) Mini Smart Socket**|**Teckin SP20**|\n|![Digoo NX SP202](images/devices/digoo-nx-sp202.jpg)|![Vanzavanzu Smart WiFi Plug Mini](images/devices/vanzavanzu-smart-wifi-plug-mini.jpg)|![Hykker Smart Home Power Plug](images/devices/hykker-smart-home-power-plug.jpg)|\n|**Digoo NX SP202**|**Vanzavanzu Smart WiFi Plug Mini**|**Hykker Smart Home Power Plug**|\n\n### Embedded switches\n\n||||\n|---|---|---|\n|![Itead Sonoff Basic](images/devices/itead-sonoff-basic.jpg)|![Itead Sonoff Dual/Dual R2](images/devices/itead-sonoff-dual.jpg)|![Itead Sonoff TH10/TH16](images/devices/itead-sonoff-th.jpg)|\n|**[Itead Sonoff Basic (including R2 and R3)](https://github.com/xoseperez/espurna/wiki/Hardware-Itead-Sonoff-Basic)**|**[Itead Sonoff Dual/Dual R2](https://github.com/xoseperez/espurna/wiki/Hardware-Itead-Sonoff-Dual)**|**[Itead Sonoff TH10/TH16](https://github.com/xoseperez/espurna/wiki/Hardware-Itead-Sonoff-TH)**|\n|![Electrodragon WiFi IOT](images/devices/electrodragon-wifi-iot.jpg)|![OpenEnergyMonitor WiFi MQTT Relay / Thermostat](images/devices/openenergymonitor-mqtt-relay.jpg)||\n|**[Electrodragon WiFi IOT](https://github.com/xoseperez/espurna/wiki/Hardware-Electrodragon-ESP-Relay-Board)**|**[OpenEnergyMonitor WiFi MQTT Relay / Thermostat](https://github.com/xoseperez/espurna/wiki/Hardware-OpenEnergyMonitor-Wifi-MQTT-Relay)**||\n|![Itead Sonoff 4CH](images/devices/itead-sonoff-4ch.jpg)|![Itead Sonoff 4CH Pro](images/devices/itead-sonoff-4ch-pro.jpg)||\n|**[Itead Sonoff 4CH](https://github.com/xoseperez/espurna/wiki/Hardware-Itead-Sonoff-4CH)**|**[Itead Sonoff 4CH Pro](https://github.com/xoseperez/espurna/wiki/Hardware-Itead-Sonoff-4CH-Pro---R2)**||\n|![Allterco Shelly 1 / 1PM](images/devices/allterco-shelly1.jpg)|![Allterco Shelly 2 / 2.5](images/devices/allterco-shelly2.jpg)|![Jan Goedeke Wifi Relay (NO/NC)](images/devices/jangoe-wifi-relay.jpg)|\n|**Alterco Shelly 1 / 1PM**|**Alterco Shelly 2 / 2.5**|**[Jan Goedeke Wifi Relay (NO/NC)](https://github.com/xoseperez/espurna/wiki/Hardware-Jan-Goedeke-Wifi-Relay-Board)**|\n|![EXS Wifi Relay v3.1](images/devices/exs-wifi-relay-v31.jpg)|![EXS Wifi Relay v5.0](images/devices/exs-wifi-relay-v50.jpg)|![Jorge Garca Wifi + Relays Board Kit](images/devices/jorgegarcia-wifi-relays.jpg)|\n|**[EXS Wifi Relay v3.1](https://github.com/xoseperez/espurna/wiki/Hardware-EXS-WiFi-Relay-v3.1)**|**EXS Wifi Relay v5.0**|**[Jorge Garca Wifi + Relays Board Kit](https://github.com/xoseperez/espurna/wiki/Hardware-Jorge-Garcia-Wifi-Relay-Board)**|\n|![Allnet ESP8266-UP-Relay](images/devices/allnet-esp8266-up-relay.jpg)|![Bruno Horta's OnOfre](images/devices/bh-onofre.jpg)|![Luani HVIO](images/devices/luani-hvio.jpg)|\n|**Allnet ESP8266-UP-Relay**|**Bruno Horta's OnOfre**|**Luani HVIO**|\n\n\n### Wall Sockets\n\n||||\n|---|---|---|\n|![Itead S20](images/devices/itead-s20.jpg)|![Itead S26](images/devices/itead-s26.jpg)|![Neo Coolcam NAS WR01W](images/devices/neo-coolcam-wifi.jpg)|\n|**[Itead S20](https://github.com/xoseperez/espurna/wiki/Hardware-Itead-S20)**|**[Itead S26](https://github.com/xoseperez/espurna/wiki/Hardware-Itead-S26)**|**[Neo Coolcam NAS WR01W](https://github.com/xoseperez/espurna/wiki/Hardware-NEO-COOLCAM-NAS-WR01W)**|\n|![Maxcio W-US002S](images/devices/maxcio-w-us002s.jpg)|![HEYGO HY02](images/devices/heygo-hy02.jpg)|![YiDian XS-SSA05](images/devices/yidian-xs-ssa05.jpg)|\n|**[Maxcio W-US002S](https://github.com/xoseperez/espurna/wiki/Hardware-Maxcio-W-US002S)**|**[HEYGO HY02](https://github.com/xoseperez/espurna/wiki/Hardware-HEYGO-HY02)**|**[YiDian XS-SSA05](https://github.com/xoseperez/espurna/wiki/Hardware-YiDian-XS-SSA05)**|\n|![WiOn 50055](images/devices/wion-50055.jpg)|![LINGAN SWA1](images/devices/lingan-swa1.jpg)|![HomeCube 16A](images/devices/homecube-16a.jpg)|\n|**[WiOn 50055](https://github.com/xoseperez/espurna/wiki/Hardware-WiOn-50055)**|**[LINGAN SWA1](https://github.com/xoseperez/espurna/wiki/Hardware-LINGAN-SWA1)**|**HomeCube 16A**|\n|![WorkChoice EcoPlug](images/devices/workchoice-ecoplug.jpg)|![Bestek MRJ1011](images/devices/bestek-mrj1011.jpg)|![Tonbux XS-SSA01](images/devices/tonbux-xs-ssa01.jpg)|\n|**[WorkChoice EcoPlug](https://github.com/xoseperez/espurna/wiki/Hardware-WorkChoice-EcoPlug)**|**[Bestek MRJ1011](https://github.com/xoseperez/espurna/wiki/Hardware-Bestek-MRJ1011)**|**Tonbux XS-SSA01**|\n|![Schuko Wifi Plug](images/devices/schuko-wifi-plug.jpg)|![Schuko Wifi Plug V2](images/devices/schuko-wifi-plug-v2.jpg)|![KMC 70011](images/devices/kmc-70011.jpg)|\n|**Schuko Wifi Plug**|**Schuko Wifi Plug V2**|**[KMC 70011](https://github.com/xoseperez/espurna/wiki/Hardware-KMC-70011)**|\n|![Xenon SM-PW702U](images/devices/xenon-sm-pw702u.jpg)|![Orvibo B25](images/devices/orvibo-b25.jpg)|![Oukitel P1](images/devices/oukitel-p1.jpg)|\n|**[Xenon SM-PW702U](https://github.com/xoseperez/espurna/wiki/Hardware-Xenon-SM-PW-702U)**|**[Orvibo B25](https://github.com/xoseperez/espurna/wiki/Hardware-Orvibo-B25)**|**Oukitel P1**|\n|![Tonbux XS-SSA06](images/devices/tonbux-xs-ssa06.jpg)|![Litesun LA-WF3](images/devices/litesun-la-wf3.jpg)|![Maxcio W DE-004](images/devices/maxcio-w-de004.jpg)|\n|**[Tonbux XS-SSA06](https://github.com/xoseperez/espurna/wiki/Hardware-Tonbux-XS-SSA06)**|**Litesun LA-WF3**|**[Maxcio W DE-004](https://github.com/xoseperez/espurna/wiki/Hardware-Maxcio-W-DE004)**|\n|![Hama WiFi Steckdose](images/devices/hama-wifi-steckdose.jpg)|![GBLife RGBW Socket](images/devices/gblife-rgbw-socket.jpg)||\n|**[Hama WiFi Steckdose](https://github.com/xoseperez/espurna/wiki/Hardware-Hama-WiFi-Steckdose,-3.500W,-16A-(Article-Number-00176533))**|**GBLife RGBW Socket**||\n\n### Wall switches\n\n||||\n|---|---|---|\n|![Itead Sonoff Touch](images/devices/itead-sonoff-touch.jpg)|![Itead Sonoff T1](images/devices/itead-sonoff-t1.jpg)|![YJZK switch](images/devices/yjzk-2gang-switch.jpg)|\n|**[Itead Sonoff Touch](https://github.com/xoseperez/espurna/wiki/Hardware-Itead-Sonoff-Touch)**|**[Itead Sonoff T1](https://github.com/xoseperez/espurna/wiki/Hardware-Itead-Sonoff-T1)**|**YJZK 1/2/3-gangs switch**|\n|![Gosund WS1 / KS-602S](images/devices/gosund-ws1.jpg)|||\n|**Gosund WS1 / KS-602S**|||\n\n### Power strips\n\n||||\n|---|---|---|\n|![Tonbux PowerStrip02](images/devices/tonbux-powerstrip02.jpg)|![ForNorm ZLD-34EU](images/devices/fornorm-power-strip.jpg)|![Zhilde ZLD-EU44-W](images/devices/zhilde-zld-eu55-w.jpg)|\n|**[Tonbux PowerStrip02](https://github.com/xoseperez/espurna/wiki/Hardware-Tonbux-Powerstrip02)**|**Fornorm Power Strip**|**[Zhilde ZLD-44EU-W/ZLD-64EU-W](https://github.com/xoseperez/espurna/wiki/Hardware-Zhilde-ZLD-64EU-W)**|\n\n### Smart lights\n\n||||\n|---|---|---|\n|![Itead Slampher](images/devices/itead-slampher.jpg)|![Arilux E27](images/devices/arilux-e27.jpg)|![Itead Sonoff B1](images/devices/itead-sonoff-b1.jpg)|\n|**[Itead Slampher](https://github.com/xoseperez/espurna/wiki/Hardware-Itead-Slampher)**|**[Arilux E27](https://github.com/xoseperez/espurna/wiki/Hardware-Arilux-E27)**|**[Itead Sonoff B1](https://github.com/xoseperez/espurna/wiki/Hardware-Itead-Sonoff-B1)**|\n|![AI-Thinker Wifi Light / Noduino OpenLight](images/devices/aithinker-ai-light.jpg)|![Authometion LYT8266](images/devices/authometion-lyt8266.jpg)|![AG-L4](images/devices/ag-l4.jpg)|\n|**[AI-Thinker Wifi Light / Noduino OpenLight](https://github.com/xoseperez/espurna/wiki/Hardware-AI-Thinker-AI-Light)**|**Authometion LYT8266**|**AG-L4**|\n|![Lohas 9W](images/devices/lohas-9w.jpg)|![Xiaomi Smart Desk Lamp](images/devices/xiaomi-smart-desk-lamp.jpg)|![iWoole LED Table Lamp](images/devices/iwoole-led-table-lamp.jpg)|\n|**Lohas 9W**|**Xiaomi Smart Desk Lamp**|**[iWoole LED Table Lamp](https://github.com/xoseperez/espurna/wiki/Hardware-IWOOLE_LED_TABLE_LAMP)**|\n|![Itead Sonoff LED](images/devices/itead-sonoff-led.jpg)|![Itead BN-SZ01](images/devices/itead-bn-sz01.jpg)|![Lombox LUX Nova 2](images/devices/lombex-lux-nova2.jpg)|\n|**[Itead Sonoff LED](https://github.com/xoseperez/espurna/wiki/Hardware-Itead-Sonoff-LED)**|**[Itead BN-SZ01](https://github.com/xoseperez/espurna/wiki/Hardware-Itead-BN-SZ01)**|**[Lombex LUX Nova 2 (white and color)](https://github.com/xoseperez/espurna/wiki/Hardware-Lombex-Lux-Nova)**|\n|![Arilux AL-LC01 (RGB)](images/devices/arilux-al-lc01.jpg)|![Arilux AL-LC02 (RGBW)](images/devices/arilux-al-lc02.jpg)|![Arilux AL-LC06 (RGBWWCW)](images/devices/arilux-al-lc06.jpg)|\n|**Arilux AL-LC01 (RGB)**|**Arilux AL-LC02 (RGBW)**|**[Arilux AL-LC06 (RGBWWCW)](https://github.com/xoseperez/espurna/wiki/Hardware-Arilux-AL-LC06)**|\n|![Arilux AL-LC11 (RGBWWW) & RF](images/devices/arilux-al-lc11.jpg)|![MagicHome LED Controller (1.0 and 2.x)](images/devices/magichome-led-controller.jpg)|![Huacanxing H801/802](images/devices/huacanxing-h801.jpg)|\n|**Arilux AL-LC11 (RGBWWW) & RF**|**[MagicHome LED Controller (1.0/2.x, also ZJ WFMN A/B11)](https://github.com/xoseperez/espurna/wiki/Hardware-Magic-Home-LED-Controller)**|**[Huacanxing H801/802](https://github.com/xoseperez/espurna/wiki/Hardware-Huacanxing-H80x)**|\n|![Muvit I/O MIOBULB001](images/devices/muvit-io-miobulb001.jpg)|![LAMPI Smart Light](images/devices/lampi-rgbww-smart-lamp.jpg)\n|**[Muvit I/O MIOBULB001](https://github.com/xoseperez/espurna/wiki/Hardware-Muvit-IO-miobulb001)**|**[Lampi Battery Powered Smart Light](https://github.com/xoseperez/espurna/wiki/Hardware-Lampi-RGBWW-Battery-Powered-Smart-Light)**|\n\n### Radio links / gateways\n\n||||\n|---|---|---|\n|![Tinkerman RFM69GW](images/devices/tinkerman-rfm69gw.jpg)|![Itead Sonoff RF Bridge](images/devices/itead-sonoff-rfbridge.jpg)|![Itead Sonoff RF](images/devices/itead-sonoff-rf.jpg)|\n|**Tinkerman RFM69GW**|**[Itead Sonoff RF Bridge](https://github.com/xoseperez/espurna/wiki/Hardware-Itead-Sonoff-RF-Bridge)**|**[Itead Sonoff RF](https://github.com/xoseperez/espurna/wiki/Hardware-Itead-Sonoff-RF)**|\n\n### Other devices\n\n||||\n|---|---|---|\n|![Tonbux Mosquito Killer](images/devices/tonbux-mosquito-killer.jpg)|![Itead Sonoff IFAN02](images/devices/itead-sonoff-ifan02.jpg)||\n|**[Tonbux Mosquito Killer](https://github.com/xoseperez/espurna/wiki/Hardware-Tonbux-Mosquito-Killer)**|**Itead Sonoff IFAN02**|||\n\n### Custom & Development boards\n\n||||\n|---|---|---|\n|![Tinkerman Espurna H](images/devices/tinkerman-espurna-h.jpg)||![NodeMCU](images/devices/nodemcu-lolin-v3.jpg)|\n|**[Tinkerman ESPurna H](https://github.com/xoseperez/espurna/wiki/Hardware-Tinkerman-ESPurna-H)**||**[NodeMCU Lolin V3](https://github.com/xoseperez/espurna/wiki/Hardware-NodeMCU-Lolin)**|\n|![Itead Sonoff SV](images/devices/itead-sonoff-sv.jpg)|![Itead 1CH Inching](images/devices/itead-1ch-inching.jpg)|![Itead Motor Clockwise/Anticlockwise](images/devices/itead-motor.jpg)|\n|**[Itead Sonoff SV](https://github.com/xoseperez/espurna/wiki/Hardware-Itead-SV)**|**[Itead 1CH Inching](https://github.com/xoseperez/espurna/wiki/Hardware-Itead-1CH)**|**[Itead Motor Clockwise/Anticlockwise](https://github.com/xoseperez/espurna/wiki/Hardware-Itead-Motor)**|\n|![ManCaveMade ESP-Live](images/devices/mancavemade-esp-live.jpg)|![Wemos D1 Mini Relay Shield](images/devices/wemos-d1-relayshield.jpg)|![Gizwits Witty Cloud](images/devices/witty-cloud.jpg)|\n|**[ManCaveMade ESP-Live](https://github.com/xoseperez/espurna/wiki/Hardware-ManCaveMade-ESPLive)**|**[Wemos D1 Mini Relay Shield](https://github.com/xoseperez/espurna/wiki/Hardware-Wemos-D1-Mini-Relay-Shield)**|**[Gizwits Witty Cloud](https://github.com/xoseperez/espurna/wiki/Hardware-Witty-Cloud)**|\n|![IKE ESPike](images/devices/ike-espike.jpg)|![Pilotak ESP DIN](images/devices/pilotak-esp-din.jpg)|![Arniex Swifitch](images/devices/arniex-swifitch.jpg)|\n|**[IKE ESPike](https://github.com/xoseperez/espurna/wiki/Hardware-IKE-ESPike)**|**Pilotak ESP DIN**|**[Arniex Swifitch](https://github.com/xoseperez/espurna/wiki/Hardware-Arniex-Swifitch)**|\n|![Heltec Touch Relay](images/devices/heltec-touch-relay.jpg)|![Generic Relay v4.0](images/devices/generic-relay-40.jpg)|![Generic RGBLed v1.0](images/devices/generic-rgbled-10.jpg)|\n|**[Heltec Touch Relay](https://github.com/xoseperez/espurna/wiki/Hardware-Heltec-Touch-Relay)**|**[Generic Relay v4.0](https://github.com/xoseperez/espurna/wiki/Hardware-Generic-Relay-v40)**|**[Generic RGBLed v1.0](https://github.com/xoseperez/espurna/wiki/Hardware-Generic-RGBLed-v10)**|\n|![Generic DHT11 v1.0](images/devices/generic-dht11-10.jpg)|![Generic DS18B20 v1.0](images/devices/generic-ds18b20-10.jpg)|![InterMitTech QuinLED 2.6](images/devices/intermittech-quinled-2.6.jpg)|\n|**[Generic DHT11 v1.0](https://github.com/xoseperez/espurna/wiki/Hardware-Generic-DHT11-v10)**|**[Generic DS18B20 v1.0](https://github.com/xoseperez/espurna/wiki/Hardware-Generic-DS18B20-v10)**|**[InterMitTech QuinLED 2.6](https://github.com/xoseperez/espurna/wiki/Hardware-QuinLED)**|\n|![Phyx ESP12 RGBW](images/devices/phyx-esp12-rgbw.jpg)|![RH Electronics Geiger Counter](images/devices/generic-geiger-diy.png)|![Green ESP Relay](images/devices/green-esp-relay.jpg)|\n|**Phyx ESP12 RGBW**|**[RH Electronics Geiger Counter](https://github.com/xoseperez/espurna/wiki/Geiger-Counter)**|**[Green ESP Relay](https://github.com/xoseperez/espurna/wiki/Hardware-Green-ESP8266-Relay)**|\n|![Foxel Lightfox Dual](images/devices/foxel-lightfox-dual.jpg)|||\n|**Foxel Lightfox Dual**|||\n\n## License\n\nCopyright (C) 2016-2019 by Xose Prez (@xoseperez)\n\nThis program is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nThis program is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with this program.  If not, see <http://www.gnu.org/licenses/>.\n"
        },
        {
          "name": "SUPPORT.md",
          "type": "blob",
          "size": 0.8271484375,
          "content": "# ESPurna Support\n\nIf you're looking for support for ESPurna there are some options available:\n\n* [Issues](https://github.com/xoseperez/espurna/issues?utf8=%E2%9C%93&q=is%3Aissue): this is the most dinamic channel at the moment, you might find an answer to your question by searching current or closed issues.\n* [Wiki pages](https://github.com/xoseperez/espurna/wiki): might not be as up-to-date as we all would like (hey, you can also contribute in the documentation!).\n* [Gitter channel](https://gitter.im/tinkerman-cat/espurna): you have better chances to get fast answers from me or other ESPurna users.\n* [Issue a question](https://github.com/xoseperez/espurna/issues/new/choose): as a last resort, you can open new *question* issues on GitHub. Just remember: the more info you provide the more chances you'll have to get an accurate answer.\n"
        },
        {
          "name": "ci_install.sh",
          "type": "blob",
          "size": 0.4765625,
          "content": "#!/bin/bash\n\nset -x -e -v\n\nnpm_install() {\n    npm install -g npm@latest\n    npm ci\n}\n\npio_install() {\n    pip3 install -U platformio\n    pio upgrade --dev\n    pio platform update -p\n}\n\nhost_install() {\n    sudo apt install cmake\n}\n\ncd code\n\ncase \"$1\" in\n(\"host\")\n    host_install\n    ;;\n(\"webui\")\n    npm_install\n    ;;\n(\"build\")\n    pio_install\n    ;;\n(\"release\")\n    npm_install\n    pio_install\n    ;;\n(*)\n    echo -e \"\\e[1;33mUnknown stage name, exiting!\\e[0m\"\n    exit 1\n    ;;\nesac\n"
        },
        {
          "name": "ci_script.sh",
          "type": "blob",
          "size": 1.3115234375,
          "content": "#!/bin/bash\n\nset -x -e -v\n\ncd code\n\ncase \"$1\" in\n(\"host\")\n    # runs unit tests, using the host compiler and the esp8266 mock framework\n    # - https://github.com/esp8266/Arduino/blob/master/tests/host/Makefile\n    # - https://github.com/ThrowTheSwitch/Unity\n    pushd test/unit\n    cmake -B build\n    cmake --build build\n    cmake --build build --target test\n    popd\n    ;;\n(\"webui\")\n    npm exec --no -- vitest --environment jsdom --dir html/spec --run\n    npm exec --no -- eslint\n    npm exec --no -- html-validate html/src/*.html\n    # checks whether the webui can be built\n    ./build.sh -f environments\n    # TODO: gzip inserts an OS-dependant byte in the header, ref.\n    # - https://datatracker.ietf.org/doc/html/rfc1952\n    # - https://github.com/nodejs/node/blob/e46c680bf2b211bbd52cf959ca17ee98c7f657f5/deps/zlib/deflate.c#L901\n    # - windowBits description in the https://zlib.net/manual.html#Advanced\n    git --no-pager diff --stat\n    ;;\n(\"build\")\n    # simply build the given environment\n    pio run -e $2\n    ;;\n(\"test\")\n    # run generic build test with the specified environment as base\n    scripts/test_build.py -e $2\n    ;;\n(\"release\")\n    # TODO: pending removal in favour of code/scripts/generate_release_sh.py\n    ./build.sh -r\n    ;;\n(*)\n    echo -e \"\\e[1;33mUnknown stage name, exiting!\\e[0m\"\n    exit 1\n    ;;\nesac\n"
        },
        {
          "name": "code",
          "type": "tree",
          "content": null
        },
        {
          "name": "dist",
          "type": "tree",
          "content": null
        },
        {
          "name": "images",
          "type": "tree",
          "content": null
        },
        {
          "name": "pre-commit",
          "type": "blob",
          "size": 4.0634765625,
          "content": "#!/usr/bin/env python\n\"\"\"\n\nReferencing current branch in github README.md [1]\nThis pre-commit hook [2] updates the README.md file's\nCI badge [3] with the current branch. Based on [4].\n\n[1] http://stackoverflow.com/questions/18673694/referencing-current-branch-in-github-readme-md\n[2] http://www.git-scm.com/book/en/v2/Customizing-Git-Git-Hooks\n[3] https://github.com/xoseperez/espurna/actions\n[4] https://gist.github.com/dandye/dfe0870a6a1151c89ed9\n\nCopy this file to .git/hooks/\n\n\"\"\"\n\nimport os\nimport re\nimport string\nimport sys\nimport argparse\nfrom subprocess import call, check_output\n\ntry:\n    from urllib.parse import urlparse\nexcept ImportError:\n    from urlparse import urlparse\n\nfrom fileinput import FileInput\n\n# TODO: drop after platform.io supports python 3\n# https://github.com/python/cpython/commit/6cb7b659#diff-78790b53ff259619377058acd4f74672\nif sys.version_info[0] < 3:\n    class FileInputCtx(FileInput):\n        def __enter__(self):\n            return self\n\n        def __exit__(self, type, value, traceback):\n            self.close()\n\n\n    FileInput = FileInputCtx\n\n\nclass CustomFormatter(string.Formatter):\n    def format_field(self, value, spec):\n        if spec == \"escape_hyphen\":\n            return value.replace(\"-\", \"--\")\n        else:\n            return super(CustomFormatter, self).format_field(value, spec)\n\n\ndef run(cmd, cwd=None):\n    out = check_output(cmd, cwd=cwd)\n    out = out.decode(\"latin1\").strip()\n\n    return out\n\n\ndef parse_h_string(define, r_quotes=re.compile(\"\\\"(.*)\\\"\")):\n    string = r_quotes.search(define).group(1)\n    return string\n\n\ndef git_parse_remote(cwd=None, remote=\"origin\"):\n    remote_url = run([\n        \"git\", \"config\", \"--local\",\n        \"--get\", \"remote.{}.url\".format(remote)], cwd)\n\n    if remote_url.startswith(\"git\"):\n        _, _, repo = remote_url.partition(\":\")\n        path = repo.replace(\".git\", \"\")\n    elif remote_url.startswith(\"https\"):\n        parsed = urlparse(remote_url)\n        path = parsed.path[1:]\n    return path.split(\"/\")\n\n\ndef git_branch(cwd=None):\n    return run([\"git\", \"rev-parse\", \"--abbrev-ref\", \"HEAD\"], cwd)\n\n\ndef espurna_get_version(base, version_h=\"code/espurna/config/version.h\"):\n    version = \"unknown\"\n\n    path = os.path.join(base, version_h)\n    with open(path, \"r\") as version_f:\n        for line in version_f:\n            if line.startswith(\"#define\") and \"APP_VERSION\" in line:\n                version = parse_h_string(line)\n                break\n\n    return version\n\n\nTEMPLATES = {\n    \"![ci]\": \"![ci](https://github.com/{USER}/{REPO}/workflows/ESPurna%20build/badge.svg?branch={BRANCH})\\n\"\n    \"![version]\": \"[![version](https://img.shields.io/badge/version-{VERSION:escape_hyphen}-brightgreen.svg)]\"\n                  \"(CHANGELOG.md)\\n\",\n    \"![branch]\": \"[![branch](https://img.shields.io/badge/branch-{BRANCH:escape_hyphen}-orange.svg)]\"\n                 \"(https://github.com/{USER}/{REPO}/tree/{BRANCH}/)\\n\",\n}\n\nREADME = \"README.md\"\n\nif __name__ == \"__main__\":\n\n    base = os.getcwd()\n    user, repo = git_parse_remote()\n\n    parser = argparse.ArgumentParser(formatter_class=argparse.ArgumentDefaultsHelpFormatter)\n    parser.add_argument(\"-b\", \"--branch\", help=\"git branch name\", default=git_branch())\n    parser.add_argument(\"-u\", \"--user\", help=\"git user name\", default=user)\n    parser.add_argument(\"-r\", \"--repo\", help=\"git repo name\", default=repo)\n    parser.add_argument(\"-v\", \"--version\", help=\"ESPurna version\", default=espurna_get_version(base))\n    args = parser.parse_args()\n\n    fmt = {\n        \"USER\": args.user,\n        \"REPO\": args.repo,\n        \"BRANCH\": args.branch,\n        \"VERSION\": args.version\n    }\n\n    formatter = CustomFormatter()\n    templates = [\n        (k, formatter.format(tmpl, **fmt))\n        for k, tmpl in TEMPLATES.items()\n    ]\n\n\n    def fmt_line(line):\n        for match, tmpl in templates:\n            if match in line:\n                return tmpl\n\n        return line\n\n\n    path = os.path.join(base, README)\n\n    with FileInput(path, inplace=True) as readme:\n        for line in readme:\n            sys.stdout.write(fmt_line(line))\n\n    if call([\"git\", \"add\", README]):\n        sys.exit(1)\n\n    sys.exit(0)\n"
        }
      ]
    }
  ]
}