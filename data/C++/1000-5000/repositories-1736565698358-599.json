{
  "metadata": {
    "timestamp": 1736565698358,
    "page": 599,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjYwMA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "guillaumeblanc/ozz-animation",
      "stars": 2494,
      "defaultBranch": "master",
      "files": [
        {
          "name": ".clang-format",
          "type": "blob",
          "size": 0.029296875,
          "content": "---\nBasedOnStyle: Google\n...\n\n"
        },
        {
          "name": ".gitattributes",
          "type": "blob",
          "size": 0.01171875,
          "content": "* text=auto\n"
        },
        {
          "name": ".github",
          "type": "tree",
          "content": null
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.0263671875,
          "content": "build/\nbuild-cc/\n.DS_Store\n"
        },
        {
          "name": "AUTHORS.md",
          "type": "blob",
          "size": 0.927734375,
          "content": "The following authors have all licensed their contributions to ozz-animation under the licensing terms detailed in [LICENSE.md](LICENSE.md):\n\n- Guillaume Blanc <guillaumeblanc.sc@gmail.com> - Project's owner and main author.\n- Tomasz Dąbrowski <t.dabrowski@rock-hard.eu>\n- Jean-François Verdon <jf.verdon@mgdesign.fr>\n- Kyrylo Bazhenov <bazhenovc@gmail.com>\n- Tian Li <tian.li@monstar-lab-cn.com>\n- Cloud Wu <cloudwu@gmail.com>\n- Kyle Rocha <kyle@luminawesome.com>\n- Andreas Streichardt <andreas.streichardt@gmail.com>\n- Chen Junjie <kitchen.gz.020@gmail.com>\n- James W. Walker <jw@jwwalker.com>\n- James W. Fleming <jaemz@alum.mit.edu>\n- Kota Iguchi <developer@infosia.co.jp>\n- Mikołaj Siedlarek <mikolaj@siedlarek.net>\n- Paul Gruenbacher <pgruenbacher@gmail.com>\n- Christophe Meyer <christophe.meyer.pro@gmail.com>\n- Lukas Friembichler <lukas.friembichler@gmail.com>\n- Blaž Tomažič <blaz.tomazic@gmail.com>\n- Jan Krassnigg <jan@krassnigg.de>\n"
        },
        {
          "name": "CHANGES.md",
          "type": "blob",
          "size": 28.9794921875,
          "content": "Release version 0.15.0\n----------------------\n\nThis version brings breaking changes that require rebuilding runtime animations.\n\n* Library\n  - [offline/animation] #152 Fixes additive animation blending issues due to wrong quaternion multiplication order in additive animation builder and blending job. Note that additive animation needs to be rebuilt to benefit from the fix.\n  - [animation] Restructures compressed keyframes to allow fast sequential backward reading. The per keyframe track index has been removed, replaced by an offset to the previous keyframe (for the same track). This offset is used to identify tracks when reading forward, and jump to previous keyframe when reading backward.\n  - [animation] Keyframe times are now indexed. This removes 16b to 24b from every keyframe (depending on animation duration), aka 17% to 25% of the keyframe size. The overhead of storing timepoints is shared for translations, rotations and scales.\n  - [animation] Leverages animation format changes to refactors serialization. Animations serialization now uses arrays of keyframes which significantly reduces the number of io::Stream reads.\n  - [animation] Adds iframe support (aka keyframe snapshots), allowing fast seeks into the animation thanks to precomputed (and compressed) sampling cache states. The sampling job decides automatically when an iframe is used to seek into the animation, based on seek offset.\n  - [offline] Extends animation importer configuration to allow setting up iframe_interval. An interval of 0 (or less) means no iframe is generated. If interval is positive, then at least an iframe is generated at animation end.\n  - [base] Implements group varint encoding utility. It's used to compress iframes.\n\n* Build pipeline\n  - Adds CI for WebAssembly.\n  - Adds support for macOS ARM.\n\nRelease version 0.14.3\n----------------------\n\n* Build pipeline\n  - Adds vs2022 compiler support for fbxsdk (#170)\n\nRelease version 0.14.2\n----------------------\n\n* Library\n  - Transitions away from sprintf to the more secure snprintf.\n  - #147 Works around gcc 11 error stringop-overflow which emits false positives for ozz math serialization.\n\n* Build pipeline\n  - Updates CI compiler versions.\n\nRelease version 0.14.1\n----------------------\n\n* Samples\n  - Allows reusing sample framework outside of sample directory.\n  - #154 Exposes swap interval\n\n* Library\n  - #153 Fixes deprecated implicit copy warning.\n  - #141 Removes non-ASCII characters in source codes.\n\n* Build pipeline\n  - Exposes ozz cmake configuration variables to PARENT_SCOPE, so it can be used/changed by an external project.\n\nRelease version 0.14.0\n----------------------\n\n* Samples\n  - [sample_fbx2mesh] Supports vertices part of a skinned mesh but with a weight of 0.\n  - [sample_fbx2mesh] Assigns non-influenced vertices to root joint.\n\n* Library\n  - [offline] #124 Fixes incorrect root joint detection bug in glTF importer.\n  - [offline] #129 #130 Copy animation name to output in `ozz::animation::offline::AdditiveAnimationBuilder`.\n  - [animation] #103 Allows move constructor and assignment for `ozz::animation::Skeleton`, `ozz::animation::Animation` and `ozz::animation::Track`.\n  - [animation] Renames SamplingCache to `SamplingJob::Context`.\n  - [animation] #110 Renames skeleton bind pose to rest pose, to avoid confusion with skinning bind pose.\n  - [offline] Extends configuration to allow setting up iframe time interval.  \n  - [base] Fixes Float4x4::FromEuler which was swapping pitch and roll.\n  - [base] Implements group varint encoding utility. It's used to compress iframes.\n\n* Build pipeline\n  - Moves CI to github actions.\n  - #59 Adds support for shared libraries on Windows (dll), Linux and MacOS platforms.\n  - #111 Removes _GLIBCXX_DEBUG from default build settings as it can create incompatibilities when using prebuilt packages.\n  - #122 #137 Adds support for gcc 11 compiler.\n\nRelease version 0.13.0\n----------------------\n\n* Tools\n  - [gltf2ozz] Command line tool utility to import animations and skeletons from glTF files. gltf2ozz can be configured via command line options and [json configuration files](src/animation/offline/tools/reference.json), in the exact same way as fbx2ozz.\n  - #91 Fixup animation name when used as an output filename (via json configuration wildcard option), so they comply with most os filename restrictions.\n\n* Samples\n  - [skinning] Adds a new sample to explain skinning matrices setup.\n\n* Build pipeline\n  - Enables c++11 feature by default for all targets.\n\n* Library\n  - [animation] Removes skeleton_utils.h IterateMemFun helper that can be replaced by `std::bind`.\n  - [base] Removes `ozz::memory::Allocator::Reallocate()` function as it's rarely used and complex to overload.\n  - [base] Replaces OZZ_NEW and OZZ_DELETE macros with template functions `ozz::New` and `ozz::Delete`.\n  - [base] Removes ScopedPtr in favor of an alias to standard unique_ptr that remaps to ozz deallocator. Implements make_unique using ozz allocator.\n  - [base] Uses template aliasing (using keyword) to redirect ozz to std containers. This allows to get rid of ::Std when using ozz containers.\n  - [base] Renames all aliased ozz containers to their original std name: vector, map etc... \n  - [base] Renames `ozz::Range` to `ozz::span`, `ozz::make_range` to `ozz::make_span` to comply with std containers. Range count() and size() methods are renamed to size() and size_bytes() respectively, so this needs special attention to avoid mistakes.\n  - [base] Replaces OZZ_ALIGN_OF and OZZ_ALIGN by standard alignof and alignas keywords.\n  - [base] Replaces OZZ_STATIC_ASSERT by standard static_assert keyword.\n\nRelease version 0.12.1\n----------------------\n\n* Library\n  - [base] Fixes memory overwrite when reallocating a buffer of smaller size using ozz default memory allocator.\n\nRelease version 0.12.0\n----------------------\n\n* Library\n  - [offline] Simplified AnimationOptimizer settings to a single tolerance and distance. Tolerance is the maximum error that an optimization is allowed to generate on a whole joint hierarchy, while the other parameter is the distance (from the joint) at which error is measured. This second parameter allows to emulate effect on skinning or a long object (sword) attached to a joint (hand).\n  - [offline] Adds options to AnimationOptimizer to override optimization settings for a joint. This implicitly have an effect on the whole chain, up to that joint. This allows for example to have aggressive optimization for a whole skeleton, except for the chain that leads to the hand if user wants it to be precise.\n  - [offline] Switches AnimationOptimizer and TrackOptimizer to Ramer–Douglas–Peucker decimation algorithm which delivers better precision than original one. It also ensures that first and last points are preserved, avoiding visual issues for looping animations.\n  - [offline] Changes order of parameters for IterateJointsDF so it's less error prone.\n  - [memory] Implements ScopedPtr smart pointer. ScopedPtr implementation guarantees the pointed object will be deleted, either on destruction of the ScopedPtr, or via an explicit reset / reassignation.\n  - [math] Quaternion compare function now takes cosine of half angle as argument, to avoid computing arc cosine for every comparison as the tolerance is usually constant.\n  - [base] Replaces `ozz::memory::Allocator` New and Delete function with OZZ_NEW and OZZ_DELETE macros, in order to provide an interface that supports any type and number of arguments (without requiring c++11).\n  - [base] #83 Allows user code to disable definition of global namespace sse \\_m128 +-/* operators, as they might conflict with other sse math libraries.\n\n* Samples\n  - [optimize] Exposes joint setting overriding option (from AnimationOptimizer) to sample gui. Displays median and maximum error values.\n\n* Tools\n  - Moves keyframe reduction stage for additive animations before computing delta with reference pose. This ensures whole skeleton hierarchy is known before decimating keyframes.\n\nRelease version 0.11.0\n----------------------\n\n* Library\n  - [animation] Adds two-bone and aim inverse kinematic solvers. They can be used at runtime to procedurally affect joint local-space transforms.\n  - [animation] Allows resizing `SamplingJob::Context`, meaning the can be allocated without knowing the number of joints the cache needs to support.\n  - [animation] Allow `ozz::animation::LocalToModelJob` to partially update a hierarchy, aka all children of a joint. This is useful when changes to a local-space pose has been limited to part of the joint hierarchy, like when applying IK or modifying model-space matrices independently from local-space transform.\n  - [animation] Changes `ozz::animation::Skeleton` joints from breadth-first to depth-first. This change breaks compatibility of previous `ozz::animation::offline::RawAnimation`, `ozz::animation::Animation` and `ozz::animation::Skeleton` archives.\n  - [animation] Renames track_triggering_job_stl.h to track_triggering_job_trait.h.\n  - [offline] #62 Adds an a way to specify additive animation reference pose to `ozz::animation::offline::AdditiveAnimationBuilder`.\n  - [memory] Removes (too error prone) `ozz::memory::Allocator` typed allocation functions.\n  - [math] Changes all conversion from AxisAngle to use separate arguments for axis and angle. This is more in line with function use cases.\n  - [math] Adds quaternions initialization from two vectors.\n  - [simd math] Updates simd math functions to prevent unnecessary operations. Some functions now return undefined values for some components, like Dot3 that will return the dot value in x and undefined values for x, y, z. See [simd_math.h](include/ozz/base/maths/simd_math.h) for each function documentation.\n  - [simd math] Implements AVX and FMA optimizations (when enabled at compile time).\n  - [simd math] Implements simd quaternions, making it easier and more efficient to use quaternion with other simd math code.\n  - [simd math] Exposes swizzling operations.\n\n* Samples\n  - [two bone ik] Adds two-bone ik sample, showing how `ozz::animation::IKTwoBoneJob` can be used on a robot arm.\n  - [look at] Adds a look-at sample, using `ozz::animation::IKAimJob` on a chain of bones to distribute aiming contribution to more than a single joint.\n  - [foot_ik] Adds foot-ik sample, which corrects character legs and ankles procedurally at runtime, as well as character/pelvis height, so that the feet can touch and adapt to the ground.\n\n* Build pipeline\n  - Adds support for fbx sdk 2019. This version is now mandatory for vs2017 builds.\n  - Adds support to macos 10.14 Mojave and Xcode 10.0.\n\n* Tools\n  - Adds point and vector property types (used to import tracks). These two types are actually float3 types, with scene axis and unit conversion applied.\n  - Adds an option to importer tools to select additive animation reference pose.\n\n* Build pipeline\n  - #40 Adds ozz_build_postfix option.\n  - #41 Adds ozz_build_tools option.\n\nRelease version 0.10.0\n----------------------\n\n* Library\n  - [animation] Adds user-channel feature #4. ozz now offers tracks of float, float2, float3, float4 and quaternion for both raw/offline and runtime. A track can be used to store animated user-data, aka data that aren't joint transformations. Runtime jobs allow to query a track value for any time t (`ozz::animation::TrackSamplingJob`), or to find all rising and falling edges that happened during a period of time (`ozz::animation::TrackTriggeringJob`). Utilities allow to optimize a raw track (`ozz::animation::offline::TrackOptimizer`) and build a runtime track (`ozz::animation::offline::TrackOptimizer`). fbx2ozz comes with the ability to import tracks from fbx node properties.\n  - [animation] Changed `ozz::animation::SamplingJob::time` (in interval [0,duration]) to a ratio (in unit interval [0,1]). This is a breaking change, aiming to unify sampling of animations and tracks. To conform with this change, sampling time should simply be divided by animation duration. `ozz::sample:AnimationController` has been updated accordingly. Offline animations and tools aren't impacted.\n  - [base] Changes non-intrusive serialization mechanism to use a specialize template struct \"Extern\" instead of function overloading.\n\n* Tools\n  - Merged \\*2skel and \\*2anim in a single tool (\\*2ozz, fbx2ozz for fbx importer) where all options are specified as a json config file. List of options with default values are available in [src/animation/offline/tools/reference.json](src/animation/offline/tools/reference.json) file. Consequently, ozz_animation_offline_skel_tools and ozz_animation_offline_anim_tools are also merged into a single ozz_animation_tools library.\n  - Adds options to import user-channel tracks (from node properties for fbx) using json \"animations[].tracks[].properties[]\" definition.\n  - Adds an option while importing skeletons to choose scene node types that must be considered as skeleton joints, ie not restricting to scene joints only. This is useful for the baked sample for example, which animates mesh nodes.\n\n* Build pipeline\n  - ozz optionnaly supports c++11 compiler.\n  - Adds ozz_build_data option (OFF by default), to avoid building data on every code change. Building data takes time indeed, and isn't required on every change. It should be turned ON when output format changes to update all data again.\n  - Removes fused source files from the depot. Fused files are generated during build to ${PROJECT_BINARY_DIR}/src_fused/ folder. To generate fused source files without building the whole project, then build BUILD_FUSE_ALL target with \"cmake --build . --target BUILD_FUSE_ALL\" command.\n  - Adds support for Visual Studio 15 2017, drops Visual Studio 11 2012.\n\n* Samples\n  - [user_channel] Adds new user-channel sample, demonstrating usage of user-channel tracks API and import pipeline usage.\n  - [sample_fbx2mesh] Remaps joint indices to the smaller range of skeleton joints that are actually used by the skinning. It's now required to index skeleton matrices using `ozz::sample::framework:Mesh::joint_remaps` when build skinning matrices.\n  - [multithread] Switched from OpenMP to c++11 `std::async` API to implement a parallel-for loop over all computation tasks.\n  \nRelease version 0.9.1\n---------------------\n\n* Build pipeline\n  - Allows to use ozz-animation from another project using cmake add_subdirectory() command, conforming with [online documentation](http://guillaumeblanc.github.io/ozz-animation/documentation/build/).\n  - Adds Travis-CI (http://travis-ci.org/guillaumeblanc/ozz-animation) and AppVeyor (http://ci.appveyor.com/project/guillaumeblanc/ozz-animation) continuous integration support.\n  - Exposes MSVC /MD and /MT option (ozz_build_msvc_rt_dll). Default is /MD, same as MSVC/cmake.\n  - Adds support for Xcode 8.3.2 (fbx specific compilation option).\n\nRelease version 0.9.0\n---------------------\n\n* Library\n  - [offline] Removes dae2* tools, offline libraries and dependencies. Collada is still supported through fbx2* tools suite, as they are based on the Autodesk Fbx sdk.\n  - [offline][animation] Adds a name to the `offline::RawAnimation` and Animation data structure. `ozz::animation::Animation` serialization format has changed, animations generated with a previous version need to be re-built.\n  - [animation] Optimizes animation and skeleton allocation strategy, merging all member buffers to a single allocation.\n  - [animation] Fixes memory read overrun in `ozz::animation::Skeleton` while fixing up skeleton joint names.\n  - [offline] #5 Allows importing of all animations from a DCC file with a single command. fbx2anim now support the use of the wildcard character '*' in the --animation option (output file name), which is replaced with the imported animation names when the output file is written to disk.\n  - [offline] Uses scene frame rate as the default sampling rate option in fbx2anim. Allows to match DCC keys and avoid interpolation issues while importing from fbx sdk.\n  - [base] Adds support for Range serialization (as an array) via `ozz::io::MakeArray` utility.\n  - [base] Fixes SSE matrix decomposition implementation which wasn't able to decompose matrices with very small scales.\n\n* Build pipeline\n  - Rework build pipeline and media directory to allow to have working samples even if Fbx sdk isn't available to build fbx tools. Media directory now contains pre-built binary data for samples usage.\n  - A Fused version of the sources for all libraries can be found in src_fused folder. It is automatically generated by cmake when any library source file changes.\n  - #20 FindFbx.cmake module now supports a version as argument which can be tested in conformance with cmake find_package specifications.\n  - Adds a clang-format target that re-formats all sdk sources. This target is not added to the ALL_BUILD target. It must be ran manually.\n  - Removes forced MSVC compiler options (SSE, RTC, GS) that are already properly handled by default.\n\n* Samples\n  - [baked] Adds new baked physic sample. Demonstrates how to modify Fbx skeleton importer to build skeletons from custom nodes, and use an animation to drive rigid bodies.\n  - [sample_fbx2mesh] Fixes welding of redundant vertices. Re-imported meshes now have significantly less vertices.\n  - [sample_fbx2mesh] Adds UVs, tangents and vertex color to `ozz::sample::framework::Mesh` structure. Meshes generated with a previous version need to be re-built.\n  - [framework] Fixes sample first frame time, setting aside time spent initializing.\n  - [framework] Supports emscripten webgl canvas resizing.\n\nRelease version 0.8.0\n---------------------\n \n* Library\n  - [animation] Adds additive blending support to `ozz::animation::BlendingJob`. Animations used for additive blending should be delta animations (relative to the first frame). Use `ozz::animation::offline::AdditiveAnimationBuilder` to prepare such animations.\n  - [animation] Improves quaternion compression scheme by quantizing the 3 smallest components of the quaternion, instead of the firsts 3. This improves numerical accuracy when the restored component (4th) is small. It also allows to pre-multiply each of the 3 smallest components by sqrt(2), maximizing quantization range by over 41%.\n  - [offline] Improves animation optimizer process (`ozz::animation::offline::AnimationOptimizer`) with a new hierarchical translation tolerance. The optimizer now computes the error (a distance) generated from the optimization of a joint on its whole child hierarchy (like the whole arm length and hand when optimizing the shoulder). This provides a better optimization in both quality and quantity.\n  - [offline] Adds `ozz::animation::offline::AdditiveAnimationBuilder` utility to build delta animations that can be used for additive blending. This utility processes a raw animation to calculate the delta transformation from the first key to all subsequent ones, for all tracks.\n  - [offline] Adds --additive option to dae2anim and fbx2anim, allowing to output a delta animation suitable for additive blending.\n  - [offline] Adds fbx 20161.* sdk support.\n\n* Build pipeline\n  - Adds c++11 build option for gcc/clang compilers. Use cmake ozz_build_cpp11 option.\n  - Automatically detects SIMD implementation based on compiler settings. SSE2 implementation is automatically enabled on x64/amd64 targets, or if /arch:SSE2 is selected on MSVC/x86 builds. One could use ozz_build_simd_ref cmake option (OZZ_BUILD_SIMD_REF preprocessor directive) to bypass detection and force reference (aka scalar) implementation. OZZ_HAS_SSE2 is now deprecated.\n  - Fixes #3 gcc5 warnings with simd math reference implementation.\n  - Fixes #6 by updating to gtest 1.70 to support new platforms (FreeBSD...).\n  - Adds Microsoft Visual Studio 14 2015 support.\n  - Adds emscripten 1.35 support.\n  - Integrate Coverity static analysis (https://scan.coverity.com/projects/guillaumeblanc-ozz-animation).\n\n* Samples\n  - [additive] Adds an additive blending sample which demonstrates the new additive layers available through the `ozz::animation::BlendingJob`.\n  - [optimize] Adds hierarchical translation tolerance parameter to the optimize sample.\n  - [skin] Removes sample skin, as from now on skinning is part of the sample framework and used by other samples. See additive sample.\n\nRelease version 0.7.3\n---------------------\n\n* Changes license to the MIT License (MIT).\n\nRelease version 0.7.2\n---------------------\n\n* Library\n  - [animation] Improves rotations accuracy during animation sampling and blending. Quaternion normalization now uses one more Newton-Raphson step when computing inverse square root.\n  - [offline] Fixes fbx animation duration when take duration is different to timeline length.\n  - [offline] Bakes fbx axis/unit systems to all transformations, vertices, animations (and so on...), instead of using fbx sdk ConvertScene strategy which only transform scene root. This allows to mix skeleton, animation and meshes imported from any axis/unit system.\n  - [offline] Uses bind-pose transformation, instead of identity, for skeleton joints that are not animated in a fbx file.\n  - [offline] Adds support to ozz fbx tools (fbx2skel and fbx2anim) for other formats: Autodesk AutoCAD DXF (.dxf), Collada DAE (.dae), 3D Studio 3DS (.3ds)  and Alias OBJ (.obj). This toolchain based on fbx sdk will replace dae toolchain (dae2skel and dae2anim) which is now deprecated.\n\n* HowTos\n  - Adds file loading how-to, which demonstrates how to open a file and deserialize an object with ozz archive library.\n  - Adds custom skeleton importer how-to, which demonstrates RawSkeleton setup and conversion to runtime skeleton.\n  - Adds custom animation importer how-to, which demonstrates RawAnimation setup and conversion to runtime animation.\n\n* Samples\n  - [skin] Skin sample now uses the inverse bind-pose matrices imported from the mesh file, instead of the one computed from the skeleton. This is a more robust solution, which furthermore allow to share the skeleton with meshes using different bind-poses.\n  - [skin] Fixes joints weight normalization when importing fbx skin meshes.\n  - [framework] Optimizes dynamic vertex buffer object re-allocation strategy.\n\nRelease version 0.7.1\n---------------------\n\n* Library\n  - [offline] Updates to fbx sdk 2015.1 with vs2013 support.\n  \n* Samples\n  - Adds sample_skin_fbx2skin to binary packages.\n\nRelease version 0.7.0\n---------------------\n\n* Library\n  - [geometry] Adds support for matrix palette skinning transformation in a new ozz_geometry library.\n  - [offline] Returns EXIT_FAILURE from dae2skel and fbx2skel when no skeleton found in the source file.\n  - [offline] Fixes fbx axis and unit system conversions.\n  - [offline] Removes raw_skeleton_archive.h and raw_animation_archive.h files, moving serialization definitions back to raw_skeleton.h and raw_animation.h to simplify understanding.\n  - [offline] Removes skeleton_archive.h and animation_archive.h files, moving serialization definitions back to skeleton.h and animation.h.\n  - [base] Changes Range<>::Size() definition, returning range's size in bytes instead of element count.\n\n* Samples\n  - Adds a skinning sample which demonstrates new ozz_geometry SkinningJob feature and usage.\n\nRelease version 0.6.0\n---------------------\n\n* Library\n  - [animation] Compresses animation key frames memory footprint. Rotation key frames are compressed from 24B to 12B (50%). 3 of the 4 components of the quaternion are quantized to 2B each, while the 4th is restored during sampling. Translation and scale components are compressed to half float, reducing their size from 20B to 12B (40%).\n  - [animation] Changes `runtime::Animation` class serialization format to support compression. Serialization retro-compatibility for this class has not been implemented, meaning that all `runtime::Animation` must be rebuilt and serialized using usual dae2anim, fbx2anim or using `offline::AnimationBuilder` utility.\n  - [base] Adds float-to-half and half-to-float conversion functions to simd math library.\n\nRelease version 0.5.0\n---------------------\n\n* Library\n  - [offline] Adds --raw option to *2skel and *2anim command line tools. Allows to export raw skeleton/animation object format instead of runtime objects.\n  - [offline] Moves RawAnimation and RawSkeleton from the builder files to raw_animation.h and raw_skeleton.h files.\n  - [offline] Renames skeleton_serialize.h and animation_serialize.h to skeleton_archive.h and animation_archive.h for consistency.\n  - [offline] Adds RawAnimation and RawSkeleton serialization support with ozz archives.\n  - [options] Changes parser command line arguments type to \"const char* const*\" in order to support implicit casting from arguments of type \"char**\".\n  - [base] Change `ozz::String` std redirection from typedef to struct to be coherent with all other std containers redirection.\n  - [base] Moves maths archiving file from ozz/base/io to ozz/base/maths for consistency.\n  - [base] Adds containers serialization support with ozz archives.\n  - [base] Removes ozz fixed size integers in favor of standard types available with <stdint.h> file.\n\n* Samples\n  - Adds Emscripten support to all supported samples.\n  - Changes OpenGL rendering to comply with Gles2/WebGL.\n\n* Build pipeline\n  - Adds Emscripten and cross-compilation support to the builder helper python script.\n  - Support for CMake 3.x.\n  - Adds support for Microsoft Visual Studio 2013.\n  - Drops support for Microsoft Visual Studio 2008 and olders, as a consequence of using <stdint.h>.\n\nRelease version 0.4.0\n---------------------\n\n* Library\n  - [offline] Adds Fbx import pipeline, through fbx2skel and fbx2anim command line tools.\n  - [offline] Adds Fbx import and conversion library, through ozz_animation_fbx. Building fbx related libraries requires fbx sdk to be installed.\n  - [offline] Adds ozz_animation_offline_tools library to share the common work for Collada and Fbx import tools. This could be use to implement custom conversion command line tools.\n\n* Samples\n  - Adds Fbx resources to media path.\n  - Makes use of Fbx resources with existing samples.\n\nRelease version 0.3.1\n---------------------\n\n* Samples\n  - Adds keyboard camera controls.\n\n* Build pipeline\n  - Adds Mac OSX support, full offline and runtime pipeline, samples, dashboard...\n  - Moves dashboard to http://ozz.qualipilote.fr/dashboard/cdash/\n  - Improves dashboard configuration, using json configuration files available there: http://ozz.qualipilote.fr/dashboard/config/.\n\nRelease version 0.3.0\n---------------------\n\n* Library\n  - [animation] Adds partial animation blending and masking, through per-joint-weight blending coefficients.\n  - [animation] Switches all explicit [begin,end[ ranges (sequence of objects) to `ozz::Range` structure.\n  - [animation] Moves runtime files (.h and .cc) to a separate runtime folder (ozz/animation/runtime).\n  - [animation] Removes ozz/animation/utils.h and .cc\n  - [options] Detects duplicated command line arguments and reports failure. \n  - [base] Adds helper functions to `ozz::memory::Allocator` to support allocation/reallocation/deallocation of ranges of objects through `ozz::Range` structure.\n\n* Samples\n  - Adds partial animation blending sample.\n  - Adds multi-threading sample, using OpenMp to distribute workload.\n  - Adds a sample that demonstrates how to attach an object to animated skeleton joints.\n  - Improves skeleton rendering sample utility feature: includes joint rendering.\n  - Adds screen-shot and video capture options from samples ui.\n  - Adds a command line option (--render/--norender) to enable/disable rendering of sample, used for dashboard unit-tests.\n  - Adds time management options, to dissociate (fix) update delta time from the real application time.\n  - Improves camera manipulations: disables auto-framing when zooming/panning, adds mouse wheel support for zooming.\n  - Fixes sample camera framing to match rendering field of view.\n\n* Build pipeline\n  - Adds CMake python helper tools (build-helper.py). Removes helper .bat files (setup, build, pack...).\n  - Adds CDash support to generate nightly build reports. Default CDash server is http://my.cdash.org/index.php?project=Ozz.\n  - Adds code coverage testing support using gcov.\n\nRelease version 0.2.0\n---------------------\n\n* Library\n  - [animation] Adds animation blending support.\n  - [animation] Sets maximum skeleton joints to 1023 (aka `Skeleton::kMaxJointsNumBits`) to improve packing and allow stack allocations.\n  - [animation] Adds `Skeleton::kRootIndex` enum for parent index of a root joint.\n  - [base] Adds signed/unsigned bit shift functions to simd library.\n  - [base] Fixes SSE build flags for Visual Studio 64b builds.\n\n* Samples\n  - Adds blending sample.\n  - Adds playback controller utility class to the sample framework.\n\nRelease version 0.1.0, initial open source release\n--------------------------------------------------\n\n* Library\n  - [animation] Support for run-time animation sampling.\n  - [offline] Support for building run-time animation and skeleton from a raw (aka offline/user friendly) format.\n  - [offline] Full Collada import pipeline (lib and tools).\n  - [offline]  Support for animation key-frame optimizations.\n  - [base] Memory management redirection.\n  - [base] Containers definition.\n  - [base] Serialization and IO utilities implementation.\n  - [base] scalar and vector maths, SIMD (SSE) and SoA implementation.\n  - [options] Command line parsing utility.\n\n* Samples\n  - Playback sample, loads and samples an animation.\n  - Millipede sample, offline pipeline usage.\n  - Optimize sample, offline optimization pipeline.\n\n* Build pipeline\n  - CMake based build pipeline.\n  - CTest/GTest based unit test framework.\n"
        },
        {
          "name": "CMakeLists.txt",
          "type": "blob",
          "size": 4.421875,
          "content": "cmake_minimum_required(VERSION 3.24)\n\n# Defines the project's name\nproject(ozz)\n\n# Check if project is top level or a sub project\nget_directory_property(is_sub_project PARENT_DIRECTORY)\n\n# Current version\nset(OZZ_VERSION_MAJOR 0)\nset(OZZ_VERSION_MINOR 15)\nset(OZZ_VERSION_PATCH 0)\nset(OZZ_VERSION ${OZZ_VERSION_MAJOR}.${OZZ_VERSION_MINOR}.${OZZ_VERSION_PATCH})\n\n# Add project build options\noption(BUILD_SHARED_LIBS \"Build ozz as shared libraries\" OFF)\noption(ozz_build_tools \"Build tools\" ON)\noption(ozz_build_fbx \"Build Fbx pipeline (Requires Fbx SDK)\" ON)\noption(ozz_build_gltf \"Build glTF importer (Requires c++11)\" ON)\noption(ozz_build_data \"Build data on code change\" OFF)\noption(ozz_build_samples \"Build samples\" ON)\noption(ozz_build_howtos \"Build howtos\" ON)\noption(ozz_build_tests \"Build unit tests\" ON)\noption(ozz_build_simd_ref \"Force SIMD math reference implementation\" OFF)\noption(ozz_build_postfix \"Use per config postfix name\" ON)\noption(ozz_build_msvc_rt_dll \"Select msvc DLL runtime library\" OFF)\n\n# Checks DLL flags\nif(WIN32 AND BUILD_SHARED_LIBS AND NOT ozz_build_msvc_rt_dll)\n  message(\"Forcing ozz_build_msvc_rt_dll to ON as ozz is being built as dll (BUILD_SHARED_LIBS is ON).\")\n  set(ozz_build_msvc_rt_dll ON)\nendif()\n\nif(is_sub_project)\n  set(ozz_build_msvc_rt_dll ${ozz_build_msvc_rt_dll} PARENT_SCOPE)\nendif()\n\n# Include ozz cmake parameters and scripts\ninclude(CheckCXXCompilerFlag)\ninclude(${PROJECT_SOURCE_DIR}/build-utils/cmake/compiler_settings.cmake)\ninclude(${PROJECT_SOURCE_DIR}/build-utils/cmake/package_settings.cmake)\ninclude(${PROJECT_SOURCE_DIR}/build-utils/cmake/fuse_target.cmake)\ninclude(${PROJECT_SOURCE_DIR}/build-utils/cmake/clang_format.cmake)\ninclude(${PROJECT_SOURCE_DIR}/build-utils/cmake/shared_library.cmake)\n\n# Add project execution options\noption(ozz_run_tests_headless \"Run samples without rendering (used for unit tests)\" ON)\nset(ozz_sample_testing_loops \"20\" CACHE STRING \"Number of loops while running sample tests (used for unit tests)\")\n\n# Configure CMake module path\nset(CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} \"${PROJECT_SOURCE_DIR}/build-utils/cmake/modules/\")\n\n# Detects Fbx SDK, required to build Fbx pipeline.\nif(ozz_build_tools AND ozz_build_fbx)\n  # Select a msvc runtime compatible with ozz_build_msvc_rt_dll\n  set(FBX_SHARED ${BUILD_SHARED_LIBS})\n  set(FBX_MSVC_RT_DLL ${ozz_build_msvc_rt_dll})\n\n  # Search for FBX sdk package\n  find_package(Fbx 2016)\n\n  # Disables ozz_build_fbx if Fbx SDK isn't found.\n  if(NOT FBX_FOUND)\n    message(\"Fbx SDK not found, FBX tools libraries and samples will be skipped.\")\n    set(ozz_build_fbx OFF)\n  endif()\n\nelse()\n  # Disables fbx if tools are disabled\n  set(ozz_build_fbx OFF)\nendif()\n\nif(is_sub_project)\n  set(ozz_build_fbx ${ozz_build_fbx} PARENT_SCOPE)\nendif()\n\n# gltf\nif(ozz_build_tools AND ozz_build_gltf)\nelse()\n  set(ozz_build_gltf OFF)\nendif()\n\nif(is_sub_project)\n  set(ozz_build_gltf ${ozz_build_gltf} PARENT_SCOPE)\nendif()\n\n# Enables unit tests.\nif(ozz_build_tests)\n  enable_testing()\nendif()\n\n# Locates media directory.\nset(ozz_media_directory \"${PROJECT_SOURCE_DIR}/media\")\n\n# Creates temporary directory for tests inputs/outputs.\nset(ozz_temp_directory ${PROJECT_BINARY_DIR}/temp)\nfile(MAKE_DIRECTORY ${ozz_temp_directory})\n\n# Outputs selected options (can be modified by the command line)\nmessage(\"-- ---------------------------------------------------------\")\nmessage(\"-- Selected options:\")\nmessage(\"-- - BUILD_SHARED_LIBS: \" ${BUILD_SHARED_LIBS})\nmessage(\"-- - ozz_build_tools: \" ${ozz_build_tools})\nmessage(\"-- - ozz_build_fbx: \" ${ozz_build_fbx})\nmessage(\"-- - ozz_build_gltf: \" ${ozz_build_gltf})\nmessage(\"-- - ozz_build_data: \" ${ozz_build_data})\nmessage(\"-- - ozz_build_samples: \" ${ozz_build_samples})\nmessage(\"-- - ozz_build_howtos: \" ${ozz_build_howtos})\nmessage(\"-- - ozz_build_tests: \" ${ozz_build_tests})\nmessage(\"-- - ozz_build_simd_ref: \" ${ozz_build_simd_ref})\nmessage(\"-- - ozz_build_msvc_rt_dll: \" ${ozz_build_msvc_rt_dll})\nmessage(\"-- - ozz_build_postfix: \" ${ozz_build_postfix})\n\n# Starts building the sources tree\nadd_subdirectory(src)\n\n# Continues with howtos\nif(ozz_build_howtos AND NOT EMSCRIPTEN)\n  add_subdirectory(howtos)\nendif()\n\n# Continues with samples\nif(ozz_build_samples)\n  add_subdirectory(samples)\nendif()\n\n# Continues with the tests tree\nif(ozz_build_tests AND NOT EMSCRIPTEN)\n  add_subdirectory(test)\nendif()\n\ninstall(FILES\n  ${PROJECT_SOURCE_DIR}/CHANGES.md\n  ${PROJECT_SOURCE_DIR}/LICENSE.md\n  ${PROJECT_SOURCE_DIR}/README.md\n  DESTINATION \"share/doc/ozz-animation/\")\n"
        },
        {
          "name": "CONTRIBUTING.md",
          "type": "blob",
          "size": 1.2412109375,
          "content": "Thanks a lot for considering a contribution to ozz-animation! All contributions are welcome: code reviews, bug reports, bug fixes, samples, features, platforms, testing, documentation, optimizations...\n\n# Submitting bugs\n\nTo report bugs please use [project's issues tracker](https://github.com/guillaumeblanc/ozz-animation/issues). To help with debugging and understanding, please provide a simple repro case, ideally a modified [sample](https://github.com/guillaumeblanc/ozz-animation/tree/master/samples) or [howto](https://github.com/guillaumeblanc/ozz-animation/tree/master/howtos) with minimal changes.\n\n# Contributing to the code\n\n**By submitting a pull request for this project, you agree to license your contribution under [project's MIT license](LICENSE.md).**\n\nozz branching strategy follows [gitflow model](http://nvie.com/posts/a-successful-git-branching-model/). When submitting patches, please:\n  - Make pull requests to develop branch for features, to release branch for hotfixes.\n  - Respect [Google c++ coding style](https://google.github.io/styleguide/cppguide.html), run clang-format.\n  - Implement all relevant unit tests.\n  - Run all the tests and make sure they pass.\n  - Add your name and email address at the end of [AUTHORS.md](AUTHORS.md) list.\n"
        },
        {
          "name": "LICENSE.md",
          "type": "blob",
          "size": 1.1552734375,
          "content": "ozz-animation is hosted at http://github.com/guillaumeblanc/ozz-animation and\ndistributed under the MIT License (MIT).\n\n---\n\nCopyright (c) 2020 Guillaume Blanc\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of\nthis software and associated documentation files (the \"Software\"), to deal in\nthe Software without restriction, including without limitation the rights to\nuse, copy, modify, merge, publish, distribute, sublicense, and/or sell copies\nof the Software, and to permit persons to whom the Software is furnished to do\nso, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\nFOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\nCOPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\nIN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\nCONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE."
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 3.732421875,
          "content": "[![logo](media/icon/ozz-grey-256.png)](http://guillaumeblanc.github.io/ozz-animation/)\n\nozz-animation\n=============\n\nopen source c++ 3d skeletal animation library and toolset\n---------------------------------------------------------\n\nozz-animation provides runtime character animation playback functionalities (loading, sampling, blending...). It proposes a low-level renderer agnostic and game-engine agnostic implementation, focusing on performance and memory constraints with a data-oriented design.\n\nozz-animation comes with the toolchain to convert from major Digital Content Creation formats (gltf, Fbx, Collada, Obj, 3ds, dxf) to ozz optimized runtime structures. Offline libraries are also provided to implement the conversion from any other animation and skeleton format.\n\nFollow [this link](https://github.com/guillaumeblanc/ozz-animation/issues/175) for a list of projects using ozz-animation.\n\nDocumentation\n-------------\n\nDocumentation and samples are available from [ozz-animation website](http://guillaumeblanc.github.io/ozz-animation/).\n\nSupported platforms\n-------------------\n\nozz-animation is tested on WebAssembly, Linux, macOS and Windows, for x86, x86-64 and ARM architectures. The run-time code (ozz_base, ozz_animation, ozz_geometry) depends only on c++11, on the C and the C++ standard libraries, and has no OS specific code. Portability to any other platform shouldn't be an issue.\n\nSamples, tools and tests depend on external libraries (glfw, tinygltf, Fbx SDK, jsoncpp, gtest, ...), which aren't need to ship with ozz-animation runtime.\n\nBuild status\n------------\n\n|         | Linux  | macOS | Windows | WebAssembly |\n| ------- | ------ | ------ | ------- | ------- |\n| master  | [![Linux](https://github.com/guillaumeblanc/ozz-animation/actions/workflows/linux.yml/badge.svg?branch=master)](https://github.com/guillaumeblanc/ozz-animation/actions/workflows/linux.yml) | [![macOS](https://github.com/guillaumeblanc/ozz-animation/actions/workflows/macos.yml/badge.svg?branch=master)](https://github.com/guillaumeblanc/ozz-animation/actions/workflows/macos.yml) | [![Windows](https://github.com/guillaumeblanc/ozz-animation/actions/workflows/windows.yml/badge.svg?branch=master)](https://github.com/guillaumeblanc/ozz-animation/actions/workflows/windows.yml) | [![WASM](https://github.com/guillaumeblanc/ozz-animation/actions/workflows/wasm.yml/badge.svg?branch=master)](https://github.com/guillaumeblanc/ozz-animation/actions/workflows/wasm.yml) |\n| develop | [![Linux](https://github.com/guillaumeblanc/ozz-animation/actions/workflows/linux.yml/badge.svg?branch=develop)](https://github.com/guillaumeblanc/ozz-animation/actions/workflows/linux.yml) | [![macOS](https://github.com/guillaumeblanc/ozz-animation/actions/workflows/macos.yml/badge.svg?branch=develop)](https://github.com/guillaumeblanc/ozz-animation/actions/workflows/macos.yml) | [![Windows](https://github.com/guillaumeblanc/ozz-animation/actions/workflows/windows.yml/badge.svg?branch=develop)](https://github.com/guillaumeblanc/ozz-animation/actions/workflows/windows.yml) | [![WASM](https://github.com/guillaumeblanc/ozz-animation/actions/workflows/wasm.yml/badge.svg?branch=develop)](https://github.com/guillaumeblanc/ozz-animation/actions/workflows/wasm.yml) |\n\nThe dashboard for all branches is available [here](http://guillaumeblanc.github.io/ozz-animation/documentation/dashboard/).\n\nContributing\n------------\n\nAll contributions are welcome: code reviews, bug reports, bug fixes, samples, features, platforms, testing, documentation, optimizations...\n\nPlease read [CONTRIBUTING](CONTRIBUTING.md) file for more details about how to submit bugs or contribute to the code.\n\nLicense\n-------\n\nozz-animation is hosted on [github](http://github.com/guillaumeblanc/ozz-animation/) and distributed under the **MIT License** (MIT).\n"
        },
        {
          "name": "build-helper.py",
          "type": "blob",
          "size": 12.7568359375,
          "content": "#!/usr/bin/python\n#----------------------------------------------------------------------------#\n#                                                                            #\n# ozz-animation is hosted at http://github.com/guillaumeblanc/ozz-animation  #\n# and distributed under the MIT License (MIT).                               #\n#                                                                            #\n# Copyright (c) 2019 Guillaume Blanc                                         #\n#                                                                            #\n# Permission is hereby granted, free of charge, to any person obtaining a    #\n# copy of this software and associated documentation files (the \"Software\"), #\n# to deal in the Software without restriction, including without limitation  #\n# the rights to use, copy, modify, merge, publish, distribute, sublicense,   #\n# and/or sell copies of the Software, and to permit persons to whom the      #\n# Software is furnished to do so, subject to the following conditions:       #\n#                                                                            #\n# The above copyright notice and this permission notice shall be included in #\n# all copies or substantial portions of the Software.                        #\n#                                                                            #\n# THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR #\n# IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,   #\n# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL    #\n# THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER #\n# LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING    #\n# FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER        #\n# DEALINGS IN THE SOFTWARE.                                                  #\n#                                                                            #\n#----------------------------------------------------------------------------#\n\n# CMake python helper script.\n\nimport subprocess\nimport shutil\nimport sys\nimport os\nimport os.path\nimport re\nimport platform\nfrom functools import partial\n\n\n# Build global path variables.\nroot = os.path.abspath(os.path.join(os.getcwd(), '.'))\nbuild_dir = os.path.join(root, 'build')\nbuild_dir_cc = os.path.join(root, 'build-cc')\ncmake_cache_file = os.path.join(build_dir, 'CMakeCache.txt')\nctest_cache_file = os.path.join(build_dir, 'CTestTestfile.cmake')\nconfig = 'Release'\ngenerators = {0: 'default'}\ngenerator = generators[0]\nenable_testing = False\nemscripten_path = os.environ.get('EMSCRIPTEN')\n\ndef ValidateCMake():\n  try:\n    # Test that cmake can be executed, silently...\n    pipe = subprocess.Popen(['cmake'], stdout=subprocess.PIPE, stderr=subprocess.PIPE)\n    out, err = pipe.communicate()\n  except OSError as e:\n    print(\"CMake is not installed or properly setup. Please visit www.cmake.org.\")\n    return False\n\n  print(\"CMake is installed and setup properly.\")\n  return True\n\ndef CheckEmscripten():\n  if(emscripten_path == None):\n    return False\n\n  try:\n    # Test that cmake can be executed, silently...\n    pipe = subprocess.Popen(['emcc'], stdout=subprocess.PIPE, stderr=subprocess.PIPE)\n    out, err = pipe.communicate()\n  except OSError as e:\n    print(\"Emscripten is not installed or properly setup.\")\n    return False\n\n  print(\"Emscripten is installed and setup properly.\")\n  return True\n\ndef MakeBuildDir(_build_dir = build_dir):\n  print(\"Creating out-of-source build directory: \\\"\" + _build_dir + \"\\\".\")\n  if not os.path.exists(_build_dir):\n    os.makedirs(_build_dir)\n  return True\n\ndef CleanBuildDir():\n  print(\"Deleting out-of-source build directory: \\\"\" + build_dir + \"\\\".\")\n  if os.path.exists(build_dir):\n    shutil.rmtree(build_dir)\n  print(\"Deleting out-of-source cross compilation build directory: \\\"\" + build_dir_cc + \"\\\".\")\n  if os.path.exists(build_dir_cc):\n    shutil.rmtree(build_dir_cc)\n  return True\n\ndef Configure():\n  # Configure build process.\n  print(\"Configuring build project.\")\n  options = ['cmake']\n  options += ['-D', 'CMAKE_BUILD_TYPE=' + config]\n\n  if (enable_testing) :\n    options += ['-D', 'ozz_build_tests=1']\n  else:\n    options += ['-D', 'ozz_build_tests=0']\n\n  global generator\n  if(generator != 'default'):\n    options += ['-G', generator]\n  options += [root]\n  config_process = subprocess.Popen(options, cwd=build_dir)\n  config_process.wait()\n  if(config_process.returncode != 0):\n    print(\"Configuration failed.\")\n    return False\n  print(\"Configuration succeeded.\")\n\n  # Updates generator once configuration is complete\n  generator = DetectGenerator()\n\n  return True\n\ndef ConfigureCC():\n  # Configure build process.\n  print(\"Configuring emscripten cross compilation build with path: \" + emscripten_path)\n  options = ['cmake']\n\n  options += ['-D', 'CMAKE_BUILD_TYPE=' + config]\n  options += ['-D', 'CMAKE_TOOLCHAIN_FILE=' + emscripten_path + '/cmake/Modules/Platform/Emscripten.cmake']\n\n  if(platform.system() == 'Windows'):\n    options += ['-G', 'MinGW Makefiles']\n  else:\n    options += ['-G', 'Unix Makefiles']\n\n  options += [root]\n  config_process = subprocess.Popen(options, cwd=build_dir_cc)\n  config_process.wait()\n  if(config_process.returncode != 0):\n    print(\"Configuration failed.\")\n    return False\n  print(\"Configuration succeeded.\")\n\n  # Updates generator once configuration is complete\n  generator = DetectGenerator()\n\n  return True\n\ndef Build(_build_dir = build_dir):\n  # Configure build process.\n  print(\"Building project.\")\n  options = ['cmake', '--build', _build_dir, '--config', config, '--use-stderr'];\n  # Appends parallel build option if supported by the generator.\n  if \"Unix Makefiles\" in generator:\n    options += ['--', '-j4']\n  config_process = subprocess.Popen(options, cwd=_build_dir)\n  config_process.wait()\n  if(config_process.returncode != 0):\n    print(\"Build failed.\")\n    return False\n  print(\"Build succeeded.\")\n  return True\n\ndef Test():\n  # Configure Test process, parallelize a lot of tests in order to stress their dependencies\n  print(\"Running unit tests.\")\n  options = ['ctest' ,'--output-on-failure', '-j8', '--build-config', config]\n  config_process = subprocess.Popen(options, cwd=build_dir)\n  config_process.wait()\n  if(config_process.returncode != 0):\n    print(\"Testing failed.\")\n    return False\n  print(\"Testing succeeded.\")\n  return True\n\ndef PackSources(_type):\n  print(\"Packing sources.\")\n  options = ['cpack', '-G', _type, '--config', 'CPackSourceConfig.cmake']\n  config_process = subprocess.Popen(options, cwd=build_dir)\n  config_process.wait()\n  if(config_process.returncode != 0):\n    print(\"Packing sources of type \" + _type + \" failed.\")\n    return False\n  print(\"Packing sources of type \" + _type + \" succeeded.\")\n  return True\n\ndef PackBinaries(_type, _build_dir = build_dir):\n  print(\"Packing binaries.\")\n  options = ['cpack', '-G', _type, '-C', config]\n  config_process = subprocess.Popen(options, cwd=_build_dir)\n  config_process.wait()\n  if(config_process.returncode != 0):\n    print(\"Packing binaries of type \" + _type + \" failed.\")\n    return False\n  print(\"Packing binaries of type \" + _type + \" succeeded.\")\n  return True\n\ndef SelecConfig():\n  configs = {\n    1: 'Debug',\n    2: 'Release',\n    3: 'RelWithDebInfo',\n    4: 'MinSizeRel'}\n\n  while True:\n    print(\"Select build configuration:\")\n    for num, message in sorted(configs.iteritems()):\n      print(\"%d: %s\") % (num, message)\n\n    # Get input and check validity\n    try:\n      answer = int(raw_input(\"Enter a value: \"))\n    except:\n      continue\n    if not answer in configs:\n      continue\n\n    # Affect global configuration variable\n    global config\n    config = configs[answer]\n    return True\n\ndef FindGenerators():\n  # Finds all generators outputted from cmake usage \n  process = subprocess.Popen(['cmake', '--help'], stdout=subprocess.PIPE)\n  stdout = process.communicate()[0]\n  sub_stdout = stdout[stdout.rfind('Generators'):]\n  matches = re.findall(r\"\\s*\\**\\s*(.+)\\s*=.+\", sub_stdout, re.MULTILINE)\n  # Fills generators list\n  global generators  \n  for match in matches:\n    generator_name = match.strip()\n    # Appends also Win64/ARM option if generator is VS\n    if \" [arch]\" in generator_name:\n      gen_name = generator_name[0:len(generator_name) - 7]\n      generators[len(generators)] = gen_name\n      generators[len(generators)] = gen_name + \" Win64\"\n      generators[len(generators)] = gen_name + \" ARM\"\n    else:\n      generators[len(generators)] = generator_name\n\ndef FindInCache(_regex):\n  try:\n    cache_file = open(cmake_cache_file)\n  except:\n    return None\n  return re.search(_regex, cache_file.read())\n\ndef DetectGenerator():\n  match = FindInCache(r\"CMAKE_GENERATOR:INTERNAL=(.*)\")\n  if match:\n    global generators\n    global generator\n    for num, message in sorted(generators.iteritems()):\n      if match.group(1) == message:\n        return message\n  return 'default'\n\ndef SelecGenerator():\n  global generators\n  while True:\n    print(\"Select generator:\")\n    for num, message in sorted(generators.iteritems()):\n      print(\"%d: %s\") % (num, message)\n\n    # Get input and check validity\n    try:\n      answer = int(raw_input(\"Enter a value: \"))\n    except:\n      continue\n    if not answer in generators:\n      continue\n    \n    # Check if this is the current generator\n    current_generator = DetectGenerator()\n    if current_generator == 'default':\n      global generator\n      generator = generators[answer]\n      return True\n    if current_generator != generators[answer]:\n      print(\"Selected generator '%s' is different from the current one '%s'.\")  % (generators[answer], current_generator)\n      clean = raw_input(\"Do you want to clean build directory to apply the change? (y/n): \") == \"y\"\n      if clean:\n        generator = generators[answer]\n        return CleanBuildDir()\n    return True\n\ndef DetectTesting():\n  global enable_testing\n  enable_testing = os.path.isfile(ctest_cache_file)\n\ndef EnableTesting():\n  global enable_testing\n  while True:\n    # Get input and check validity\n    answer = raw_input(\"enable testing (y/n): \")\n    if answer != 'y' and answer != 'n':\n      continue\n    wanted = (answer == 'y')\n    \n    # Get current state\n    if (enable_testing != wanted):\n      enable_testing = wanted\n      print(\"Testing state has changed.\")\n      \n    return True\n\ndef ClearScreen():\n  os.system('cls' if os.name=='nt' else 'clear')\n\ndef Quit():\n  sys.exit(0)\n  return True\n\ndef main():\n\n  # Checks CMake installation is correct.\n  if not ValidateCMake():\n    return\n\n  # Emscripten is optional\n  CheckEmscripten()\n\n  # Detects available generators\n  FindGenerators()\n\n  # Detects testing state\n  DetectTesting()\n\n  # Update current generator\n  print(\"DetectGenerator\")\n  global generator\n  generator = DetectGenerator()\n\n  options = {\n    '1': [\"Build\", [MakeBuildDir, Configure, Build]],\n    '2': [\"Run unit tests\", [MakeBuildDir, Configure, Build, Test]],\n    '3': [\"Execute CMake generation step (don't build)\", [MakeBuildDir, Configure]],\n    '4': [\"Clean out-of-source build directory\\n  ------------------\", [CleanBuildDir]],\n    '5': [\"Pack binaries\", [MakeBuildDir, Configure, Build, partial(PackBinaries, \"ZIP\"), partial(PackBinaries, \"TBZ2\")]],\n    '6': [\"Pack sources\\n  ------------------\", [MakeBuildDir, Configure, partial(PackSources, \"ZIP\"), partial(PackSources, \"TBZ2\")]],\n    '7': [\"Enable testing\", [EnableTesting]],\n    '8': [\"Select build configuration\", [SelecConfig]],\n    '9': [\"Select cmake generator\\n  ------------------\", [SelecGenerator]],\n    'q': [\"Quit\\n------------------\", [Quit]]}\n\n  # Adds emscripten\n  global emscripten_path\n  if emscripten_path != None:\n    options['1a'] = [\"Build emscripten\", [partial(MakeBuildDir, build_dir_cc), ConfigureCC, partial(Build, build_dir_cc)]]\n    options['5a'] = [\"Pack emscripten binaries\", [MakeBuildDir, Configure, Build, partial(MakeBuildDir, build_dir_cc), ConfigureCC, partial(Build, build_dir_cc), partial(PackBinaries, \"ZIP\", build_dir_cc)]]\n\n  while True:\n    # Displays options\n    ClearScreen()\n    print(\"ozz CMake build helper tool\")\n    print(\"\")\n    print(\"Selected build configuration: %s\") % config\n    print(\"Selected generator: %s\") % generator\n    print(\"Testing enabled: %s\") % enable_testing\n    print(\"\")\n    print(\"Choose an option:\")\n    print(\"------------------\")\n    for key, message in sorted(options.iteritems()):\n      print(\"  %s: %s\") % (key, message[0])\n\n    # Get input and check validity\n    answer = raw_input(\"Enter a value: \")\n    if not answer in options:\n      continue\n\n    # Execute command in a try catch to avoid crashes and allow retries.\n    ClearScreen()\n    try:\n      for command in options[answer][1]:\n        if command():\n          print(\"\\nExecution success.\\n\")\n        else:\n          print(\"\\nExecution failed.\\n\")\n          break\n    except Exception as e:\n      print(\"\\nAn error occured during script execution: %s\\n\") % e\n\n    raw_input(\"Press enter to continue...\")\n\n  return 0\n\nif __name__ == '__main__':\n  main()\n"
        },
        {
          "name": "build-utils",
          "type": "tree",
          "content": null
        },
        {
          "name": "dashboard.html",
          "type": "blob",
          "size": 0.3076171875,
          "content": "<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.0 Transitional//EN\">\n<html>\n  <head>\n    <title>ozz-animation build dashboard</title>\n    <meta http-equiv=\"REFRESH\" content=\"0;url=http://guillaumeblanc.github.io/ozz-animation/documentation/dashboard/\">\n  </head>\n  <body>\n    Redirecting... Please wait.\n  </body>\n</html>"
        },
        {
          "name": "documentation.html",
          "type": "blob",
          "size": 0.2822265625,
          "content": "<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.0 Transitional//EN\">\n<html>\n  <head>\n    <title>ozz-animation documentation</title>\n    <meta http-equiv=\"REFRESH\" content=\"0;url=http://guillaumeblanc.github.io/ozz-animation/\">\n  </head>\n  <body>\n    Redirecting... Please wait.\n  </body>\n</html>"
        },
        {
          "name": "extern",
          "type": "tree",
          "content": null
        },
        {
          "name": "howtos",
          "type": "tree",
          "content": null
        },
        {
          "name": "include",
          "type": "tree",
          "content": null
        },
        {
          "name": "media",
          "type": "tree",
          "content": null
        },
        {
          "name": "samples",
          "type": "tree",
          "content": null
        },
        {
          "name": "src",
          "type": "tree",
          "content": null
        },
        {
          "name": "test",
          "type": "tree",
          "content": null
        }
      ]
    }
  ]
}