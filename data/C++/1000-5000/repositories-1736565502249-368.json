{
  "metadata": {
    "timestamp": 1736565502249,
    "page": 368,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjM3MA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "pmq20/node-packer",
      "stars": 3061,
      "defaultBranch": "master",
      "files": [
        {
          "name": ".github",
          "type": "tree",
          "content": null
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.0224609375,
          "content": ".DS_Store\n*~\n.vscode/*\n"
        },
        {
          "name": ".mailmap",
          "type": "blob",
          "size": 0.19140625,
          "content": "Minqi Pan <pmq2001@gmail.com>\nSamuel Lee <samuellee270991@gmail.com> Samuel Lee <lee.yuru.samuel@stee.stengg.com>\nSamuel Lee <samuellee270991@gmail.com> samuellee <lee.yuru.samuel@stee.stengg.com>"
        },
        {
          "name": ".rubocop.yml",
          "type": "blob",
          "size": 0.3486328125,
          "content": "AllCops:\n  NewCops: enable\n  Exclude:\n    - lts/**/*\n    - current/**/*\n\nMetrics/AbcSize:\n  Enabled: false\n\nMetrics/ClassLength:\n  Enabled: false\n\nMetrics/BlockLength:\n  Enabled: false\n\nMetrics/MethodLength:\n  Enabled: false\n\nMetrics/PerceivedComplexity:\n  Enabled: false\n\nMetrics/CyclomaticComplexity:\n  Enabled: false\n\nLayout/LineLength:\n  Enabled: false\n"
        },
        {
          "name": ".ruby-version",
          "type": "blob",
          "size": 0.0107421875,
          "content": "ruby-2.7.1\n"
        },
        {
          "name": "AUTHORS",
          "type": "blob",
          "size": 0.21875,
          "content": "# Authors ordered by first contribution.\n\nMinqi Pan <pmq2001@gmail.com>\nYuwei Ba <xiaobayuwei@gmail.com>\nAlessandro Agosto <agosto.alessandro@gmail.com>\nSamuel Lee <samuellee270991@gmail.com>\nroytan883 <blueness883@163.com>\n"
        },
        {
          "name": "Gemfile",
          "type": "blob",
          "size": 0.2041015625,
          "content": "# frozen_string_literal: true\n\nsource 'https://rubygems.org'\n\nruby '2.7.1'\n\ngem 'activesupport', '~> 6.0', '>= 6.0.3.2', require: 'active_support/all'\ngem 'pry', '~> 0.13.1'\ngem 'rake', '~> 13.0', '>= 13.0.1'\n"
        },
        {
          "name": "Gemfile.lock",
          "type": "blob",
          "size": 0.693359375,
          "content": "GEM\n  remote: https://rubygems.org/\n  specs:\n    activesupport (6.0.3.2)\n      concurrent-ruby (~> 1.0, >= 1.0.2)\n      i18n (>= 0.7, < 2)\n      minitest (~> 5.1)\n      tzinfo (~> 1.1)\n      zeitwerk (~> 2.2, >= 2.2.2)\n    coderay (1.1.3)\n    concurrent-ruby (1.1.7)\n    i18n (1.8.5)\n      concurrent-ruby (~> 1.0)\n    method_source (1.0.0)\n    minitest (5.14.1)\n    pry (0.13.1)\n      coderay (~> 1.1)\n      method_source (~> 1.0)\n    rake (13.0.1)\n    thread_safe (0.3.6)\n    tzinfo (1.2.7)\n      thread_safe (~> 0.1)\n    zeitwerk (2.4.0)\n\nPLATFORMS\n  ruby\n\nDEPENDENCIES\n  activesupport (~> 6.0, >= 6.0.3.2)\n  pry (~> 0.13.1)\n  rake (~> 13.0, >= 13.0.1)\n\nRUBY VERSION\n   ruby 2.7.1p83\n\nBUNDLED WITH\n   2.1.4\n"
        },
        {
          "name": "LICENSE",
          "type": "blob",
          "size": 1.0546875,
          "content": "MIT License\n\nCopyright (c) 2017 - 2020 Minqi Pan et al.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 15.9970703125,
          "content": "# Node.js Packer\n\n*Packing your Node.js application into a single executable.*\n\n[![Windows](https://github.com/pmq20/node-packer/workflows/Windows/badge.svg)](https://github.com/pmq20/node-packer/actions?query=workflow%3A\"Windows\")\n[![macOS](https://github.com/pmq20/node-packer/workflows/macOS/badge.svg)](https://github.com/pmq20/node-packer/actions?query=workflow%3A\"macOS\")\n[![Linux](https://github.com/pmq20/node-packer/workflows/Linux/badge.svg)](https://github.com/pmq20/node-packer/actions?query=workflow%3A\"Linux\")\n\n## Features\n\nIt takes less than 5 minutes to compile any project with `node-packer`.\n\nYou won't need to modify a single line of code in your application, no matter how you developed it as long as it works in plain node.js!\n\n- Works on ![win](resource/win_sm.png) Windows, ![macOS](resource/apple_sm.png) macOS and ![linux](resource/linux_sm.png) Linux\n- Creates a binary distribution of your application\n- Supports natively any form of `require`, including dynamic ones (e.g. `require(myPath + 'module.js'`)\n- Native C++ modules are fully supported\n- Open Source, MIT Licensed\n\n## Download\n\n### Stable Releases\n\nHere is the latest stable Node.js Packer release:\n\n|    OS     | Arch. |                                              Executable                                                        |\n|:---------:|:-----:|----------------------------------------------------------------------------------------------------------------|\n|  Windows  |  x64  | https://gw.alipayobjects.com/os/enclose-prod/0d0ec8fd-dc9c-4b0a-85df-8bf4af0e8b8d/nodec-v1.5.0-x64.zip         |\n|   macOS   |  x64  | https://gw.alipayobjects.com/os/enclose-prod/bc2022ef-4b88-4c12-9980-394945c9c198/nodec-v1.5.0-darwin-x64.gz   |\n|   Linux   |  x64  | https://gw.alipayobjects.com/os/enclose-prod/b6aa41a6-f6b5-4542-b777-06e4bc292c5e/nodec-v1.5.0-linux-x64.gz    |\n\n### Unstable Pre-release\n\nWhenever the `master` branch CI succeeded, a Node.js Packer pre-release binary would be automatically generated. Here is the latest unstable pre-release build:\n\n|    OS     | Arch. |                                              Executable                                                        |\n|:---------:|:-----:|----------------------------------------------------------------------------------------------------------------|\n|  Windows  |  x64  | https://github.com/pmq20/node-packer/releases/download/windows-x64/pre-release-nodec-v140800.121803-x64.exe    |\n|   macOS   |  x64  | https://github.com/pmq20/node-packer/releases/download/darwin-x64/pre-release-nodec-v140800.121803-darwin-x64  |\n|   Linux   |  x64  | https://github.com/pmq20/node-packer/releases/download/linux-x64/pre-release-nodec-v140800.121803-linux-x64    |\n\n## Install\n\n### ![win](resource/win_med.png) Install on Windows\n\nFirst install the prerequisites:\n\n* [SquashFS Tools 4.3](https://github.com/pmq20/squashfuse/files/691217/sqfs43-win32.zip)\n* [Python 2.6 or 2.7](https://www.python.org/downloads/)\n* Either of,\n  - [Visual Studio 2015 Update 3](https://www.visualstudio.com/), all editions\n  including the Community edition (remember to select\n  \"Common Tools for Visual C++ 2015\" feature during installation).\n  - [Visual Studio 2017](https://www.visualstudio.com/downloads/), any edition (including the Build Tools SKU).\n  __Required Components:__ \"MSbuild\", \"VC++ 2017 v141 toolset\" and one of the Windows SDKs (10 or 8.1).\n\nThen download `nodec-x64.exe`.\n\nOptionally, put it under `C:\\Windows` or any other `PATH` directories. Open Visual Studio's \"x64 Native Tools Command Prompt\" and execute `nodec --help` therein.\n\n### ![macOS](resource/apple_med.png) Install on macOS\n\nFirst install the prerequisites:\n\n* [SquashFS Tools 4.3](http://squashfs.sourceforge.net/): `brew install squashfs`\n* [Xcode](https://developer.apple.com/xcode/download/)\n  * You also need to install the `Command Line Tools` via Xcode. You can find\n    this under the menu `Xcode -> Preferences -> Downloads`\n  * This step will install `gcc` and the related toolchain containing `make`\n* Python 2.6 or 2.7\n* GNU Make 3.81 or newer\n\nThen download `nodec-darwin-x64`.\n\nRun `chmod +x` to give it execution permissions and execute `./nodec --help`.\n\n#### Additional Notes on Build failure in macOS XCode 11\n\nAccording to recent Travis Build, the test cases will fail shortly after its launch occurs when the Build Environement is XCode 11. Currently, it is not known whether the issue is caused by XCode 11 or other factors within Travis CI that may not impact on actual macOS deployment.\n\nTherefore, the build environment for macOS under Travis is XCode 10.2 so as to ensure the test case can be successfully executed and completed.\n\n### ![linux](resource/linux_med.png) Install on Linux\n\nFirst install the prerequisites:\n\n* [SquashFS Tools 4.3](http://squashfs.sourceforge.net/)\n  - `sudo yum install squashfs-tools`\n  - `sudo apt-get install squashfs-tools`\n* `gcc` and `g++` 4.9.4 or newer, or\n* `clang` and `clang++` 3.4.2 or newer\n* Python 2.6 or 2.7\n* GNU Make 3.81 or newer\n\nThen download `nodec-linux-x64`.\n\nRun `chmod +x` to give it execution permissions and execute `./nodec --help`.\n\n#### Additional Notes on the compatibility between RHEL based (CentOS) / Ubuntu\n\nIt is known that the default repo for Red Hat and CentOS distros contains a very outdated gcc / g++ (3.8.5) while the latest Long Term Support (LTS) of Ubuntu as of 15 Feb 2018 (Ubuntu 18.04 LTS) contains a relatively updated gcc / g++ (7.3.0).\n\nIt is known that compilation can fail when using unsupported configuration where the version of prerequisites is older than prescribed.\n\nTherefore, it is crucial for the users of Red Hat based distros to install gcc / g++ outside from official repos.\nFor starters, one may look at: \n- https://developers.redhat.com/blog/2018/07/07/yum-install-gcc7-clang/\n- http://blog.stevedoria.net/20180214/how-to-install-gcc-7-on-centos-7\n\nAdditionally, binaries that are compiled from Ubuntu 18.04 LTS is known NOT to work in Red Hat 7 based distro (Including CentOS) due to 'glibcxx_3.4.20' not found' related error. However, binaries that are compiled from either Red Hat or CentOS 7 are known to work with Ubuntu 18.04 LTS based on my internal experiment.\n\nHaving said that, I will still recommend that binaries distributors should compile 2 versions for Linux where one caters for RHEL based and the other for Ubuntu based.\n\n#### Additional Notes on Build failure in Linux\n\nAccording to recent Travis Build, Linux has been failing to build since nodec-1.6.0-10.16.0 (Node.js 10.16.0).\nThe root cause is yet to be determined, and the last known good build is 10.15.3 which can be downloaded here:\nhttps://github.com/slee047/node-packer/releases/tag/1.6.0-10.15.3-1\n\nThe issue can be found here:\nhttps://github.com/slee047/node-packer/issues/11\n\nNOTE: This gz file ([nodec-darwin-x64.gz](http://enclose.io/nodec/nodec-darwin-x64.gz)) contains an outdated version of nodec (nodec 1.5.0 with Node.js 8.3.0).\nThe original maintainer did not specify how to build this repo into single executable, therefore newer versions can only be run on source code directly.\n\n## Usage\n\n    nodec [OPTION]... [ENTRANCE]\n          --current                    Uses the current Node.js release\n          --lts                        Uses the LTS Node.js release\n      -r, --root=DIR                   Specifies the path to the root of the application\n          --output=FILE                Specifies the path of the output file\n      -d, --tmpdir=DIR                 Specifies the directory for temporary files\n          --clean-tmpdir               Cleans all temporary files that were generated last time\n          --keep-tmpdir                Keeps all temporary files that were generated last time\n          --make-args=ARGS             Passes extra arguments to make\n          --vcbuild-args=ARGS          Passes extra arguments to vcbuild.bat\n      -n, --npm=FILE                   Specifies the path of npm\n          --skip-npm-install           Skips the npm install process\n          --debug                      Enables debug mode\n      -o, --dest-os=OS                 Specifies the destination operating system (enum: win mac solaris freebsd openbsd linux android aix)\n      -a, --dest-arch=ARCH             Specifies the destination CPU architecture (enum: arm arm64 ia32 mips mipsel ppc ppc64 x32 x64 x86 s390 s390x)\n          --quiet                      Enables quiet mode\n      -v, --version                    Prints the version of nodec and exit\n      -h, --help                       Prints this help and exit\n\nNote: if ENTRANCE was not provided, a single raw Node.js interpreter executable would be produced.\n\nNote: To compile to 32-bit windows OS compatible programs on a 64-bit machine, you should use a x64 x32 cross compiling environment. You should be able to find it in your Start Menu after installing Visual Studio. Also, you have to use a 32-bit Node.js, because the arch information is detected via `node -pe process.arch`.\n\n## Examples\n\n### Compile a CLI tool\n\n    git clone --depth 1 https://github.com/jashkenas/coffeescript.git\n    cd coffeescript\n    nodec bin/coffee\n    ./a.out (or a.exe on Windows)\n\n### Compile a web application\n\n    git clone --depth 1 https://github.com/eggjs/examples.git\n    cd examples/helloworld\n    npm install\n    nodec node_modules/egg-bin/bin/egg-bin.js\n    ./a.out dev (or a.exe dev on Windows)\n\n## Learn More\n\n### How it works\n\n- [Node.js Packer: compiling your Node.js application into a single executable](https://speakerdeck.com/pmq20/node-dot-js-compiler-compiling-your-node-dot-js-application-into-a-single-executable).\n\n### Comparing with Similar Projects\n\n|            Project                       | Differences                                                                                                                                                                                                                                                                                                                                             |\n|:----------------------------------------:|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| [pkg](https://github.com/zeit/pkg)       | Pkg hacked `fs.*` API's dynamically in order to access in-package files, whereas Node.js Packer leaves them alone and instead works on a deeper level via [libsquash](https://github.com/pmq20/libsquash). Pkg uses JSON to store in-package files while Node.js Packer uses the more sophisticated and widely used SquashFS as its data structure. |\n| [EncloseJS](http://enclosejs.com/)       | EncloseJS restricts access to in-package files to only five `fs.*` API's, whereas Node.js Packer supports all `fs.*` API's. EncloseJS is proprietary licensed and charges money when used while Node.js Packer is MIT-licensed and users are both free to use it and free to modify it.                                                             |\n| [Nexe](https://github.com/nexe/nexe)     | Nexe does not support dynamic `require` because of its use of `browserify`, whereas Node.js Packer supports all kinds of `require` including `require.resolve`.                                                                                                                                                                                       |\n| [asar](https://github.com/electron/asar) | Asar keeps the code archive and the executable separate while Node.js Packer links all JavaScript source code together with the Node.js virtual machine and generates a single executable as the final product. Asar uses JSON to store files' information while Node.js Packer uses SquashFS.                                                      |\n| [AppImage](http://appimage.org/)         | AppImage supports only Linux with a kernel that supports SquashFS, while Node.js Packer supports all three platforms of Linux, macOS and Windows, meanwhile without any special feature requirements from the kernel.                                                                                                                                 |\n\n## Cross Compilation\n\n`nodec` also support cross-compilation. Since node.js is built from sources you will need to setup properly a toolchain in order\nto get valid compilers to produce binaries for the destination platform.\n\nYou can easily do this with by using [crosstool-ng](https://github.com/crosstool-ng/crosstool-ng) or any other tool you like.\n\nOnce you're done with the build of a valid toolchain (don't forget to enable c++ if you use crosstool-ng which by default excludes it)\nyou will be able to compile properly. Just set-up your environment so that it will know to use your cross-compile toolchain rather than\nyour system's default build tools.\n\nAn example (you may need to adjust values or specify additional variables):\n\n\n    export AR=\"x86_64-unknown-linux-gnu-ar\"\n    export CC=\"x86_64-unknown-linux-gnu-gcc\"\n    export CXX=\"x86_64-unknown-linux-gnu-g++\"\n    export LINK=\"x86_64-unknown-linux-gnu-g++\"\n    export CPP=\"x86_64-unknown-linux-gnu-gcc -E\"\n    export LD=\"x86_64-unknown-linux-gnu-ld\"\n    export AS=\"x86_64-unknown-linux-gnu-as\"\n    export CCLD=\"ax86_64-unknown-linux-gnu-gcc ${TARGET_ARCH}\"\n    export NM=\"x86_64-unknown-linux-gnu-nm\"\n    export STRIP=\"x86_64-unknown-linux-gnu-strip\"\n    export OBJCOPY=\"x86_64-unknown-linux-gnu-objcopy\"\n    export RANLIB=\"x86_64-unknown-linux-gnu-ranlib\"\n    export F77=\"x86_64-unknown-linux-gnu-g77 ${TARGET_ARCH}\"\n    unset LIBC\n\n    #Define flags\n    #export CXXFLAGS=\"-march=armv7-a\"\n    export LDFLAGS=\"-L${CSTOOLS_LIB} -Wl,-rpath-link,${CSTOOLS_LIB} -Wl,-O1 -Wl,--hash-style=gnu\"\n    export CFLAGS=\"-isystem${CSTOOLS_INC} -fexpensive-optimizations -frename-registers -fomit-frame-pointer -O2 -ggdb3\"\n    export CPPFLAGS=\"-isystem${CSTOOLS_INC}\"\n    # export CCFLAGS=\"-march=armv7-a\"\n\n    #Tools\n    export CSTOOLS=/Volumes/crosstools/x86_64-unknown-linux-gnu\n    export CSTOOLS_INC=${CSTOOLS}/include\n    export CSTOOLS_LIB=${CSTOOLS}/lib\n    #export ARM_TARGET_LIB=$CSTOOLS_LIB\n    # export GYP_DEFINES=\"armv7=1\"\n\n    #Define other things, those are not 'must' to have defined but we added\n    export SHELL=\"/bin/bash\"\n    export TERM=\"screen\"\n    export LANG=\"en_US.UTF-8\"\n    export MAKE=\"make\"\n\n    #Export the path for your system\n    #export HOME=\"/home/gioyik\" #Change this one with the name of your user directory\n    export PATH=${CSTOOLS}/bin:/usr/arm-linux-gnueabi/bin/:$PATH\n\n## To-do\n\n- Eliminate dependending on an outside Node.js and npm when compiling\n- Be able to use a custom icon and file description for the executable output. maybe an icon file in the package root directory.\n  - https://github.com/pmq20/node-packer/issues/54\n- Add options to select items to deliver\n  - Ppt out zlib/openssl for system libraries\n  - Incl and ICU\n  - Debug facilities\n- Add options to select compression-method\n  - Optionally xz the final product\n- Detect simultaneous runs of nodec\n  - https://github.com/pmq20/node-packer/issues/31\n- Warn the user that some symbolic link links to the outside of the project\n  - Add a check procedure at compile time\n  - https://github.com/pmq20/node-packer/issues/37\n- Cross-compile\n  - https://github.com/pmq20/node-packer/pull/36\n  - Support ARM architecture\n  - https://github.com/pmq20/node-packer/issues/26\n- Make Docker images for compiler environments\n- Generate Windows-less Cmd-less Windows applications via /subsystem=windows\n- Drop the external dependency of mksquashfs\n  - i.e. Give libsquash the ability to mksquashfs\n- Support library only projects\n  - https://github.com/pmq20/node-packer/issues/39\n\n## Authors\n\n[Minqi Pan et al.](https://raw.githubusercontent.com/pmq20/node-packer/master/AUTHORS)\n\n## License\n\n[MIT](https://raw.githubusercontent.com/pmq20/node-packer/master/LICENSE)\n\n## See Also\n\n- [Libsquash](https://github.com/pmq20/libsquash): portable, user-land SquashFS that can be easily linked and embedded within your application.\n- [Squashfs Tools](https://github.com/plougher/squashfs-tools): tools to create and extract Squashfs filesystems.\n"
        },
        {
          "name": "Rakefile",
          "type": "blob",
          "size": 1.2451171875,
          "content": "# frozen_string_literal: true\n\nrequire 'rubygems'\nrequire 'bundler/setup'\nBundler.require(:default)\n\nrequire 'rake/testtask'\nrequire 'rake/clean'\n\ntask default: [(Gem.win_platform? ? 'nodec.exe' : 'nodec')]\nnodec_deps = FileList[File.expand_path('**/*', __dir__)] - [File.expand_path(((Gem.win_platform? ? 'nodec.exe' : 'nodec')), __dir__)]\n\ndesc \"build #{(Gem.win_platform? ? 'nodec.exe' : 'nodec')}\"\nfile((Gem.win_platform? ? 'nodec.exe' : 'nodec') => nodec_deps) do\n  warn \"Rebuilding #{(Gem.win_platform? ? 'nodec.exe' : 'nodec')}...\"\n\n  # don't include nodec in nodec\n  rm_f(Gem.win_platform? ? 'nodec.exe' : 'nodec')\n\n  sh_args = ['rubyc', 'bin/nodec', '-o', 'nodec']\n  if ENV['ENCLOSE_IO_RUBYC_ADDTIONAL_ARGS'].present?\n    ENV['ENCLOSE_IO_RUBYC_ADDTIONAL_ARGS'].split(/\\s+/).each do |arg|\n      sh_args << arg.strip\n    end\n  end\n  warn \"Will call sh with #{sh_args}\"\n  sh(*sh_args)\nend\n\nCLEAN << (Gem.win_platform? ? 'nodec.exe' : 'nodec')\n\nnamespace 'nodec' do\n  nodec_original_node_env = {\n    'ENCLOSE_IO_USE_ORIGINAL_NODE' => 'true'\n  }\n  desc 'run node -e from inside nodec'\n  task :node, [:e] => (Gem.win_platform? ? 'nodec.exe' : 'nodec') do |_, args|\n    sh nodec_original_node_env, (Gem.win_platform? ? '.\\\\nodec.exe' : './nodec'), '-e', args[:e]\n  end\nend\n"
        },
        {
          "name": "bin",
          "type": "tree",
          "content": null
        },
        {
          "name": "current",
          "type": "tree",
          "content": null
        },
        {
          "name": "lib",
          "type": "tree",
          "content": null
        },
        {
          "name": "lts",
          "type": "tree",
          "content": null
        },
        {
          "name": "resource",
          "type": "tree",
          "content": null
        }
      ]
    }
  ]
}