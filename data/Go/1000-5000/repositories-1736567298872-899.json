{
  "metadata": {
    "timestamp": 1736567298872,
    "page": 899,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjkwMA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "knownsec/ksubdomain",
      "stars": 2273,
      "defaultBranch": "master",
      "files": [
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.0185546875,
          "content": ".idea\n#go.sum\ntest2"
        },
        {
          "name": "LICENSE",
          "type": "blob",
          "size": 1.0458984375,
          "content": "MIT License\n\nCopyright (c) 2020 Knownsec, Inc.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n"
        },
        {
          "name": "cmd",
          "type": "tree",
          "content": null
        },
        {
          "name": "core",
          "type": "tree",
          "content": null
        },
        {
          "name": "go.mod",
          "type": "blob",
          "size": 0.4638671875,
          "content": "module ksubdomain\n\ngo 1.14\n\nrequire (\n\tgithub.com/google/gopacket v1.1.18\n\tgithub.com/logrusorgru/aurora v0.0.0-20200102142835-e9ef32dff381\n\tgithub.com/mattn/go-colorable v0.1.4\n\tgithub.com/rakyll/statik v0.1.7\n\tgithub.com/tealeg/xlsx v1.0.5\n\tgithub.com/yuin/gopher-lua v0.0.0-20200816102855-ee81675732da\n\tgolang.org/x/crypto v0.0.0-20190308221718-c2843e01d9a2\n\tgolang.org/x/time v0.0.0-20200630173020-3af7569d3a1e\n\tlayeh.com/gopher-json v0.0.0-20201124131017-552bb3c4c3bf\n)\n"
        },
        {
          "name": "go.sum",
          "type": "blob",
          "size": 3.5986328125,
          "content": "github.com/chzyer/logex v1.1.10/go.mod h1:+Ywpsq7O8HXn0nuIou7OrIPyXbp3wmkHB+jjWRnGsAI=\ngithub.com/chzyer/readline v0.0.0-20180603132655-2972be24d48e/go.mod h1:nSuG5e5PlCu98SY8svDHJxuZscDgtXS6KTTbou5AhLI=\ngithub.com/chzyer/test v0.0.0-20180213035817-a1ea475d72b1/go.mod h1:Q3SI9o4m/ZMnBNeIyt5eFwwo7qiLfzFZmjNmxjkiQlU=\ngithub.com/google/gopacket v1.1.18 h1:lum7VRA9kdlvBi7/v2p7/zcbkduHaCH/SVVyurs7OpY=\ngithub.com/google/gopacket v1.1.18/go.mod h1:UdDNZ1OO62aGYVnPhxT1U6aI7ukYtA/kB8vaU0diBUM=\ngithub.com/kr/pretty v0.1.0 h1:L/CwN0zerZDmRFUapSPitk6f+Q3+0za1rQkzVuMiMFI=\ngithub.com/kr/pretty v0.1.0/go.mod h1:dAy3ld7l9f0ibDNOQOHHMYYIIbhfbHSm3C4ZsoJORNo=\ngithub.com/kr/pty v1.1.1/go.mod h1:pFQYn66WHrOpPYNljwOMqo10TkYh1fy3cYio2l3bCsQ=\ngithub.com/kr/text v0.1.0 h1:45sCR5RtlFHMR4UwH9sdQ5TC8v0qDQCHnXt+kaKSTVE=\ngithub.com/kr/text v0.1.0/go.mod h1:4Jbv+DJW3UT/LiOwJeYQe1efqtUx/iVham/4vfdArNI=\ngithub.com/logrusorgru/aurora v0.0.0-20200102142835-e9ef32dff381 h1:bqDmpDG49ZRnB5PcgP0RXtQvnMSgIF14M7CBd2shtXs=\ngithub.com/logrusorgru/aurora v0.0.0-20200102142835-e9ef32dff381/go.mod h1:7rIyQOR62GCctdiQpZ/zOJlFyk6y+94wXzv6RNZgaR4=\ngithub.com/mattn/go-colorable v0.1.4 h1:snbPLB8fVfU9iwbbo30TPtbLRzwWu6aJS6Xh4eaaviA=\ngithub.com/mattn/go-colorable v0.1.4/go.mod h1:U0ppj6V5qS13XJ6of8GYAs25YV2eR4EVcfRqFIhoBtE=\ngithub.com/mattn/go-isatty v0.0.8 h1:HLtExJ+uU2HOZ+wI0Tt5DtUDrx8yhUqDcp7fYERX4CE=\ngithub.com/mattn/go-isatty v0.0.8/go.mod h1:Iq45c/XA43vh69/j3iqttzPXn0bhXyGjM0Hdxcsrc5s=\ngithub.com/rakyll/statik v0.1.7 h1:OF3QCZUuyPxuGEP7B4ypUa7sB/iHtqOTDYZXGM8KOdQ=\ngithub.com/rakyll/statik v0.1.7/go.mod h1:AlZONWzMtEnMs7W4e/1LURLiI49pIMmp6V9Unghqrcc=\ngithub.com/tealeg/xlsx v1.0.5 h1:+f8oFmvY8Gw1iUXzPk+kz+4GpbDZPK1FhPiQRd+ypgE=\ngithub.com/tealeg/xlsx v1.0.5/go.mod h1:btRS8dz54TDnvKNosuAqxrM1QgN1udgk9O34bDCnORM=\ngithub.com/yuin/gopher-lua v0.0.0-20200816102855-ee81675732da h1:NimzV1aGyq29m5ukMK0AMWEhFaL/lrEOaephfuoiARg=\ngithub.com/yuin/gopher-lua v0.0.0-20200816102855-ee81675732da/go.mod h1:E1AXubJBdNmFERAOucpDIxNzeGfLzg0mYh+UfMWdChA=\ngolang.org/x/crypto v0.0.0-20190308221718-c2843e01d9a2 h1:VklqNMn3ovrHsnt90PveolxSbWFaJdECFbxSq0Mqo2M=\ngolang.org/x/crypto v0.0.0-20190308221718-c2843e01d9a2/go.mod h1:djNgcEr1/C05ACkg1iLfiJU5Ep61QUkGW8qpdssI0+w=\ngolang.org/x/net v0.0.0-20190404232315-eb5bcb51f2a3 h1:0GoQqolDA55aaLxZyTzK/Y2ePZzZTUrRacwib7cNsYQ=\ngolang.org/x/net v0.0.0-20190404232315-eb5bcb51f2a3/go.mod h1:t9HGtf8HONx5eT2rtn7q6eTqICYqUVnKs3thJo3Qplg=\ngolang.org/x/sys v0.0.0-20190204203706-41f3e6584952/go.mod h1:STP8DvDyc/dI5b8T5hshtkjS+E42TnysNCUPdjciGhY=\ngolang.org/x/sys v0.0.0-20190215142949-d0b11bdaac8a/go.mod h1:STP8DvDyc/dI5b8T5hshtkjS+E42TnysNCUPdjciGhY=\ngolang.org/x/sys v0.0.0-20190222072716-a9d3bda3a223/go.mod h1:STP8DvDyc/dI5b8T5hshtkjS+E42TnysNCUPdjciGhY=\ngolang.org/x/sys v0.0.0-20190405154228-4b34438f7a67 h1:1Fzlr8kkDLQwqMP8GxrhptBLqZG/EDpiATneiZHY998=\ngolang.org/x/sys v0.0.0-20190405154228-4b34438f7a67/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=\ngolang.org/x/text v0.3.0/go.mod h1:NqM8EUOU14njkJ3fqMW+pc6Ldnwhi/IjpwHt7yyuwOQ=\ngolang.org/x/time v0.0.0-20200630173020-3af7569d3a1e h1:EHBhcS0mlXEAVwNyO2dLfjToGsyY4j24pTs2ScHnX7s=\ngolang.org/x/time v0.0.0-20200630173020-3af7569d3a1e/go.mod h1:tRJNPiyCQ0inRvYxbN9jk5I+vvW/OXSQhTDSoE431IQ=\ngopkg.in/check.v1 v1.0.0-20190902080502-41f04d3bba15 h1:YR8cESwS4TdDjEe65xsg0ogRM/Nc3DYOhEAlW+xobZo=\ngopkg.in/check.v1 v1.0.0-20190902080502-41f04d3bba15/go.mod h1:Co6ibVJAznAaIkqp8huTwlJQCZ016jof/cbN4VW5Yz0=\nlayeh.com/gopher-json v0.0.0-20201124131017-552bb3c4c3bf h1:rRz0YsF7VXj9fXRF6yQgFI7DzST+hsI3TeFSGupntu0=\nlayeh.com/gopher-json v0.0.0-20201124131017-552bb3c4c3bf/go.mod h1:ivKkcY8Zxw5ba0jldhZCYYQfGdb2K6u9tbYK1AwMIBc=\n"
        },
        {
          "name": "gologger",
          "type": "tree",
          "content": null
        },
        {
          "name": "images",
          "type": "tree",
          "content": null
        },
        {
          "name": "readme.md",
          "type": "blob",
          "size": 5.6357421875,
          "content": "(该仓库同步于作者仓库：<https://github.com/boy-hack/ksubdomain>)\n\nksubdomain是一款基于无状态子域名爆破工具，支持在Windows/Linux/Mac上使用，它会很快的进行DNS爆破，在Mac和Windows上理论最大发包速度在30w/s,linux上为160w/s的速度。\n## 为什么这么快\nksubdomain的发送和接收是分离且不依赖系统，即使高并发发包，也不会占用系统描述符让系统网络阻塞。\n\n可以用`--test`来测试本地最大发包数,但实际发包的多少和网络情况息息相关，ksubdomain将网络参数简化为了`-b`参数，输入你的网络下载速度如`-b 5m`，ksubdomain将会自动限制发包速度。\n## 可靠性\n类似masscan,这么大的发包速度意味着丢包也会非常严重，ksubdomain有丢包重发机制(这样意味着速度会减小，但比普通的DNS爆破快很多)，会保证每个包都收到DNS服务器的回复，漏报的可能性很小。\n\n## 使用\n从[releases](https://github.com/knownsec/ksubdomain/releases \"releases\")下载二进制文件。 \n\n在linux下，还需要安装`libpcap-dev`,在Windows下需要安装`WinPcap`，mac下可以直接使用。\n```\n _  __   _____       _         _                       _\n| |/ /  / ____|     | |       | |                     (_)\n| ' /  | (___  _   _| |__   __| | ___  _ __ ___   __ _ _ _ __\n|  <    \\___ \\| | | | '_ \\ / _| |/ _ \\| '_   _ \\ / _  | | '_ \\\n| . \\   ____) | |_| | |_) | (_| | (_) | | | | | | (_| | | | | |\n|_|\\_\\ |_____/ \\__,_|_.__/ \\__,_|\\___/|_| |_| |_|\\__,_|_|_| |_|\n\n[INFO] Current Version: 0.7\nUsage of ./cmd:\n  -api\n        使用网络接口\n  -b string\n        宽带的下行速度，可以5M,5K,5G (default \"1M\")\n  -check-origin\n        会从返回包检查DNS是否为设定的，防止其他包的干扰\n  -csv\n        输出excel文件\n  -d string\n        爆破域名\n  -dl string\n        从文件中读取爆破域名\n  -e int\n        默认网络设备ID,默认-1，如果有多个网络设备会在命令行中选择 (default -1)\n  -f string\n        字典路径,-d下文件为子域名字典，-verify下文件为需要验证的域名\n  -filter-wild\n        自动分析并过滤泛解析，最终输出文件，需要与'-o'搭配\n  -full\n        完整模式，使用网络接口和内置字典\n  -l int\n        爆破域名层级,默认爆破一级域名 (default 1)\n  -list-network\n        列出所有网络设备\n  -o string\n        输出文件路径\n  -s string\n        resolvers文件路径,默认使用内置DNS\n  -sf string\n        三级域名爆破字典文件(默认内置)\n  -silent\n        使用后屏幕将仅输出域名\n  -skip-wild\n        跳过泛解析的域名\n  -summary\n        在扫描完毕后整理域名归属asn以及IP段\n  -test\n        测试本地最大发包数\n  -ttl\n        导出格式中包含TTL选项\n  -verify\n        验证模式\n\n```\n### 常用命令\n```\n使用内置字典爆破\nksubdomain -d seebug.org\n\n使用字典爆破域名\nksubdomain -d seebug.org -f subdomains.dict\n\n字典里都是域名，可使用验证模式\nksubdomain -f dns.txt -verify\n\n爆破三级域名\nksubdomain -d seebug.org -l 2\n\n通过管道爆破\necho \"seebug.org\"|ksubdomain\n\n通过管道验证域名\necho \"paper.seebug.org\"|ksubdomain -verify\n\n仅使用网络API接口获取域名\nksubdomain -d seebug.org -api\n\n完整模式,先使用网络API，在此基础使用内置字典进行爆破\nksubdomain -d seebug.org -full\n```\n[![asciicast](https://asciinema.org/a/356138.svg)](https://asciinema.org/a/356138)\n## Summary整理\nksubdomain加入了整理的功能，当参数后面加上`-summary`。\n\n例如`ksubdomain -d seebug.org -summary`之后，会根据域名归属的asn以及IP段自动整理输出，方便确认资产的范围。\n\n![WX20200904-164515](./images/WX20200904-164515.png)\n\n\n## 管道操作\n借助知名的`subfinder`，`httpx`等工具，可以用管道结合在一起配合工作。达到收集域名，验证域名，http验证存活目的。\n```bash\n./subfinder -d baidu.com -silent|./ksubdomain -verify -silent|./httpx -title -content-length -status-code\n```\n- subfinder 通过各种搜索引擎获取域名\n- ksubdomain 验证域名\n- httpx http请求获得数据,验证存活\n![image-20200902160128305](./images/image-20200902160128305.png)\n\n## 编译\n因为pcap包的特殊性，无法交叉编译，只能每个系统编译每个文件。\n```bash\ngit clone https://github.com/knownsec/ksubdomain\ncd ksubdomain\ngo mod download\ncd cmd\ngo build ksubdomain.go\n```\n\n## Script编写\nKsubdomain 网络API引擎脚本使用`lua`，文件路径在`resources/scripts`  \n![WX20200904-164515](./images/WX20210112-175029.png)\n```lua \nname = \"Sublist3rAPI\" -- * 插件名称(必须)\ntype = \"api\" -- 插件类型(不必须)\n\nlocal json = require(\"json\")\n\nfunction buildurl(domain)\n    return \"https://api.sublist3r.com/search.php?domain=\" .. domain\nend\n\n-- 需要实现一个vertical函数，返回类型为一个域名的table，如果失败可以返回nil\nfunction vertical(domain)\n    local page, err = request({url=buildurl(domain)})\n    if (err ~= nil and err ~= \"\") then\n        return\n    end\n    local resp = json.decode(page)\n    if (resp == nil or #resp == 0) then\n        return\n    end\n    local a = {}\n    for i, v in pairs(resp) do\n        table.insert(a, v)\n    end\n    return a\nend\n```\n在编写插件完毕后，打包文件\n```bash\nstatik -src=resources\n```\n## 常见问题\n- linux下 error while loading shared libraries 报错\n  - https://github.com/knownsec/ksubdomain/issues/1\n- Python调用\n  - https://github.com/knownsec/ksubdomain/issues/27\n## 参考\n- 从 Masscan, Zmap 源码分析到开发实践 <https://paper.seebug.org/1052/>\n- ksubdomain 无状态域名爆破工具介绍 <https://paper.seebug.org/1325/>\n"
        },
        {
          "name": "resources",
          "type": "tree",
          "content": null
        },
        {
          "name": "statik",
          "type": "tree",
          "content": null
        }
      ]
    }
  ]
}