{
  "metadata": {
    "timestamp": 1736566684161,
    "page": 239,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjI0MA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "tair-opensource/RedisShake",
      "stars": 3916,
      "defaultBranch": "v4",
      "files": [
        {
          "name": ".gitattributes",
          "type": "blob",
          "size": 0.09765625,
          "content": "*.rdb filter=lfs diff=lfs merge=lfs -text\ninternal/rdb/dump.rdb filter=lfs diff=lfs merge=lfs -text\n"
        },
        {
          "name": ".github",
          "type": "tree",
          "content": null
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.0986328125,
          "content": "# system\n.idea/\n__pycache__/\n.DS_Store\n\n# compiled output or test output\nbin/\ndist/\ntmp/\ndata/\n*.log\n"
        },
        {
          "name": "Dockerfile",
          "type": "blob",
          "size": 0.330078125,
          "content": "FROM golang:1.21-alpine AS builder\nWORKDIR /app\nCOPY . .\nRUN go mod download\nRUN go build -o redis-shake ./cmd/redis-shake\n\nFROM alpine:latest\nWORKDIR /app\nCOPY --from=builder /app/redis-shake .\nCOPY shake_sync_env.toml .\nCOPY shake_scan_env.toml .\nCOPY entrypoint.sh .\n\nRUN chmod +x entrypoint.sh\n\nENTRYPOINT [\"/bin/sh\", \"entrypoint.sh\"]"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 4.0380859375,
          "content": "# RedisShake: Redis Data Transformation and Migration Tool\n\n[![CI](https://img.shields.io/github/actions/workflow/status/tair-opensource/RedisShake/ci.yml?branch=v4&label=CI\n)](https://github.com/tair-opensource/RedisShake/actions/workflows/ci.yml)\n[![Website](https://img.shields.io/website?url=https%3A%2F%2Ftair-opensource.github.io%2FRedisShake%2F&up_message=%E4%B8%AD%E6%96%87%20%2F%20English&up_color=red&label=Doc\n)](https://tair-opensource.github.io/RedisShake/)\n[![Release](https://img.shields.io/github/v/release/tair-opensource/RedisShake?color=blue&label=Release)](https://github.com/tair-opensource/RedisShake/releases)\n[![ghcr.io](https://ghcr-badge.egpl.dev/tair-opensource/redisshake/latest_tag?color=%231d63ed&ignore=latest&label=ghcr.io&trim=)](https://github.com/tair-opensource/RedisShake/pkgs/container/redisshake)\n\n- [中文文档](https://tair-opensource.github.io/RedisShake/)\n- [English Documentation](https://tair-opensource.github.io/RedisShake/en/)\n\n![](./docs/intro.png)\n\n## Overview\n\nRedisShake is a powerful tool for Redis data transformation and migration, offering:\n\n1. **Zero Downtime Migration**: Enables seamless data migration without data loss or service interruption, ensuring continuous operation during the transfer process.\n\n2. **Redis Compatibility**: Supports Redis 2.8 to 7.4, across standalone, master-slave, sentinel, and cluster deployments.\n\n3. **Cloud Service Integration**: Seamlessly works with Redis-like databases from major cloud providers:\n   - Alibaba Cloud: [Tair (Redis® OSS-Compatible)](https://www.alibabacloud.com/en/product/tair)\n   - AWS: [ElastiCache](https://aws.amazon.com/elasticache/), [MemoryDB](https://aws.amazon.com/memorydb/)  \n\n4. **Module Support**: Compatible with [TairString](https://github.com/tair-opensource/TairString), [TairZSet](https://github.com/tair-opensource/TairZset), and [TairHash](https://github.com/tair-opensource/TairHash).\n\n5. **Flexible Data Source**: Supports [PSync](https://tair-opensource.github.io/RedisShake/zh/reader/sync_reader.html), [RDB](https://tair-opensource.github.io/RedisShake/zh/reader/rdb_reader.html), and [Scan](https://tair-opensource.github.io/RedisShake/zh/reader/scan_reader.html) data fetch methods.\n\n6. **Advanced Data Processing**: Enables custom [script-based data transformation](https://tair-opensource.github.io/RedisShake/zh/filter/function.html) and easy-to-use [data filter rules](https://tair-opensource.github.io/RedisShake/zh/filter/filter.html).\n\n## How to Get RedisShake\n\n1. Download from [Releases](https://github.com/tair-opensource/RedisShake/releases).\n\n2. Use Docker:\n```shell\ndocker run --network host \\\n    -e SYNC=true \\\n    -e SHAKE_SRC_ADDRESS=127.0.0.1:6379 \\\n    -e SHAKE_DST_ADDRESS=127.0.0.1:6380 \\\n    ghcr.io/tair-opensource/redisshake:latest\n```\n\n3. Build it yourself:\n```shell\ngit clone https://github.com/tair-opensource/RedisShake\ncd RedisShake\nsh build.sh\n```\n\n## How to Use RedisShake\n\nTo move data between two Redis instances and skip some keys:\n\n1. Make a file called `shake.toml` with these settings:\n```toml\n[sync_reader]\naddress = \"127.0.0.1:6379\"\n\n[redis_writer]\naddress = \"127.0.0.1:6380\"\n\n[filter]\n# skip keys with \"temp:\" or \"cache:\" prefix\nblock_key_prefix = [\"temp:\", \"cache:\"] \n```\n\n2. Run RedisShake:\n```shell\n./redis-shake shake.toml\n```\n\nFor more help, check the [docs](https://tair-opensource.github.io/RedisShake/zh/guide/mode.html).\n\n## History\n\nRedisShake, actively maintained by the [Tair team](https://github.com/tair-opensource) at Alibaba Cloud, evolved from [redis-port](https://github.com/CodisLabs/redis-port). Key milestones:\n\n- [RedisShake 2.x](https://github.com/tair-opensource/RedisShake/tree/v2): Improved stability and performance.\n- [RedisShake 3.x](https://github.com/tair-opensource/RedisShake/tree/v3): Complete codebase rewrite, enhancing efficiency and usability.\n- [RedisShake 4.x](https://github.com/tair-opensource/RedisShake/tree/v4): Enhanced readers, configuration, observability, and functions.\n\n## License\n\nRedisShake is open-sourced under the [MIT license](https://github.com/tair-opensource/RedisShake/blob/v2/license.txt).\n"
        },
        {
          "name": "build.sh",
          "type": "blob",
          "size": 1.1083984375,
          "content": "#!/bin/bash\n\nset -e\n\necho \"[ BUILD RELEASE ]\"\nBIN_DIR=$(pwd)/bin/\nrm -rf \"$BIN_DIR\"\nmkdir -p \"$BIN_DIR\"\n\ncp shake.toml \"$BIN_DIR\"\n\nVERSION=${VERSION:-\"dev\"}\nif git rev-parse --is-inside-work-tree > /dev/null 2>&1; then\n    COMMIT=${COMMIT:-$(git rev-parse --short HEAD)}\nelse\n    COMMIT=${COMMIT:-\"unknown\"}\nfi\nLDFLAGS=${LDFLAGS:-\"-X main.Version=${VERSION} -X main.GitCommit=${COMMIT}\"}\n\ndist() {\n    echo \"try build GOOS=$1 GOARCH=$2\"\n    export GOOS=$1\n    export GOARCH=$2\n    export CGO_ENABLED=0\n    go build -v -trimpath -ldflags \"${LDFLAGS}\" -o \"$BIN_DIR/redis-shake\" \"./cmd/redis-shake\"\n    unset GOOS\n    unset GOARCH\n    echo \"build success GOOS=$1 GOARCH=$2\"\n\n    cd \"$BIN_DIR\"\n    tar -czvf ./redis-shake-\"$1\"-\"$2\".tar.gz ./redis-shake ./shake.toml\n    cd ..\n}\n\nif [ \"$1\" == \"dist\" ]; then\n    echo \"[ DIST ]\"\n    for g in \"linux\" \"darwin\" \"windows\"; do\n        for a in \"amd64\" \"arm64\"; do\n            dist \"$g\" \"$a\"\n        done\n    done\nfi\n\n# build the current platform\necho \"try build for current platform\"\ngo build -v -trimpath -ldflags \"${LDFLAGS}\" -o \"$BIN_DIR/redis-shake\" \"./cmd/redis-shake\"\necho \"build success\"\n"
        },
        {
          "name": "cmd",
          "type": "tree",
          "content": null
        },
        {
          "name": "docs",
          "type": "tree",
          "content": null
        },
        {
          "name": "entrypoint.sh",
          "type": "blob",
          "size": 0.236328125,
          "content": "#!/bin/sh\nif [ \"$SYNC\" = \"true\" ]; then\n    ./redis-shake shake_sync_env.toml\nelif [ \"$SCAN\" = \"true\" ]; then\n    ./redis-shake shake_scan_env.toml\nelse\n    echo \"Error: Neither SYNC nor SCAN environment variable is set to true\"\n    exit 1\nfi"
        },
        {
          "name": "go.mod",
          "type": "blob",
          "size": 1.3125,
          "content": "module RedisShake\n\ngo 1.21\n\nrequire (\n\tgithub.com/dustin/go-humanize v1.0.1\n\tgithub.com/go-stack/stack v1.8.1\n\tgithub.com/gofrs/flock v0.8.1\n\tgithub.com/mcuadros/go-defaults v1.2.0\n\tgithub.com/rs/zerolog v1.28.0\n\tgithub.com/spf13/viper v1.18.1\n\tgithub.com/yuin/gopher-lua v0.0.0-20220504180219-658193537a64\n\tgopkg.in/natefinch/lumberjack.v2 v2.2.1\n)\n\nrequire (\n\tgithub.com/fsnotify/fsnotify v1.7.0 // indirect\n\tgithub.com/hashicorp/hcl v1.0.0 // indirect\n\tgithub.com/magiconair/properties v1.8.7 // indirect\n\tgithub.com/mattn/go-colorable v0.1.13 // indirect\n\tgithub.com/mattn/go-isatty v0.0.17 // indirect\n\tgithub.com/mitchellh/mapstructure v1.5.0 // indirect\n\tgithub.com/pelletier/go-toml/v2 v2.1.0 // indirect\n\tgithub.com/sagikazarmark/locafero v0.4.0 // indirect\n\tgithub.com/sagikazarmark/slog-shim v0.1.0 // indirect\n\tgithub.com/sourcegraph/conc v0.3.0 // indirect\n\tgithub.com/spf13/afero v1.11.0 // indirect\n\tgithub.com/spf13/cast v1.6.0 // indirect\n\tgithub.com/spf13/pflag v1.0.5 // indirect\n\tgithub.com/subosito/gotenv v1.6.0 // indirect\n\tgo.uber.org/atomic v1.9.0 // indirect\n\tgo.uber.org/multierr v1.9.0 // indirect\n\tgolang.org/x/exp v0.0.0-20230905200255-921286631fa9 // indirect\n\tgolang.org/x/sys v0.15.0 // indirect\n\tgolang.org/x/text v0.14.0 // indirect\n\tgopkg.in/ini.v1 v1.67.0 // indirect\n\tgopkg.in/yaml.v3 v3.0.1 // indirect\n)\n"
        },
        {
          "name": "go.sum",
          "type": "blob",
          "size": 8.861328125,
          "content": "github.com/coreos/go-systemd/v22 v22.3.3-0.20220203105225-a9a7ef127534/go.mod h1:Y58oyj3AT4RCenI/lSvhwexgC+NSVTIJ3seZv2GcEnc=\ngithub.com/davecgh/go-spew v1.1.0/go.mod h1:J7Y8YcW2NihsgmVo/mv3lAwl/skON4iLHjSsI+c5H38=\ngithub.com/davecgh/go-spew v1.1.1/go.mod h1:J7Y8YcW2NihsgmVo/mv3lAwl/skON4iLHjSsI+c5H38=\ngithub.com/davecgh/go-spew v1.1.2-0.20180830191138-d8f796af33cc h1:U9qPSI2PIWSS1VwoXQT9A3Wy9MM3WgvqSxFWenqJduM=\ngithub.com/davecgh/go-spew v1.1.2-0.20180830191138-d8f796af33cc/go.mod h1:J7Y8YcW2NihsgmVo/mv3lAwl/skON4iLHjSsI+c5H38=\ngithub.com/dustin/go-humanize v1.0.1 h1:GzkhY7T5VNhEkwH0PVJgjz+fX1rhBrR7pRT3mDkpeCY=\ngithub.com/dustin/go-humanize v1.0.1/go.mod h1:Mu1zIs6XwVuF/gI1OepvI0qD18qycQx+mFykh5fBlto=\ngithub.com/frankban/quicktest v1.14.6 h1:7Xjx+VpznH+oBnejlPUj8oUpdxnVs4f8XU8WnHkI4W8=\ngithub.com/frankban/quicktest v1.14.6/go.mod h1:4ptaffx2x8+WTWXmUCuVU6aPUX1/Mz7zb5vbUoiM6w0=\ngithub.com/fsnotify/fsnotify v1.7.0 h1:8JEhPFa5W2WU7YfeZzPNqzMP6Lwt7L2715Ggo0nosvA=\ngithub.com/fsnotify/fsnotify v1.7.0/go.mod h1:40Bi/Hjc2AVfZrqy+aj+yEI+/bRxZnMJyTJwOpGvigM=\ngithub.com/go-stack/stack v1.8.1 h1:ntEHSVwIt7PNXNpgPmVfMrNhLtgjlmnZha2kOpuRiDw=\ngithub.com/go-stack/stack v1.8.1/go.mod h1:dcoOX6HbPZSZptuspn9bctJ+N/CnF5gGygcUP3XYfe4=\ngithub.com/godbus/dbus/v5 v5.0.4/go.mod h1:xhWf0FNVPg57R7Z0UbKHbJfkEywrmjJnf7w5xrFpKfA=\ngithub.com/gofrs/flock v0.8.1 h1:+gYjHKf32LDeiEEFhQaotPbLuUXjY5ZqxKgXy7n59aw=\ngithub.com/gofrs/flock v0.8.1/go.mod h1:F1TvTiK9OcQqauNUHlbJvyl9Qa1QvF/gOUDKA14jxHU=\ngithub.com/google/go-cmp v0.5.9 h1:O2Tfq5qg4qc4AmwVlvv0oLiVAGB7enBSJ2x2DqQFi38=\ngithub.com/google/go-cmp v0.5.9/go.mod h1:17dUlkBOakJ0+DkrSSNjCkIjxS6bF9zb3elmeNGIjoY=\ngithub.com/hashicorp/hcl v1.0.0 h1:0Anlzjpi4vEasTeNFn2mLJgTSwt0+6sfsiTG8qcWGx4=\ngithub.com/hashicorp/hcl v1.0.0/go.mod h1:E5yfLk+7swimpb2L/Alb/PJmXilQ/rhwaUYs4T20WEQ=\ngithub.com/kr/pretty v0.3.1 h1:flRD4NNwYAUpkphVc1HcthR4KEIFJ65n8Mw5qdRn3LE=\ngithub.com/kr/pretty v0.3.1/go.mod h1:hoEshYVHaxMs3cyo3Yncou5ZscifuDolrwPKZanG3xk=\ngithub.com/kr/pty v1.1.1/go.mod h1:pFQYn66WHrOpPYNljwOMqo10TkYh1fy3cYio2l3bCsQ=\ngithub.com/kr/text v0.1.0/go.mod h1:4Jbv+DJW3UT/LiOwJeYQe1efqtUx/iVham/4vfdArNI=\ngithub.com/kr/text v0.2.0 h1:5Nx0Ya0ZqY2ygV366QzturHI13Jq95ApcVaJBhpS+AY=\ngithub.com/kr/text v0.2.0/go.mod h1:eLer722TekiGuMkidMxC/pM04lWEeraHUUmBw8l2grE=\ngithub.com/magiconair/properties v1.8.7 h1:IeQXZAiQcpL9mgcAe1Nu6cX9LLw6ExEHKjN0VQdvPDY=\ngithub.com/magiconair/properties v1.8.7/go.mod h1:Dhd985XPs7jluiymwWYZ0G4Z61jb3vdS329zhj2hYo0=\ngithub.com/mattn/go-colorable v0.1.12/go.mod h1:u5H1YNBxpqRaxsYJYSkiCWKzEfiAb1Gb520KVy5xxl4=\ngithub.com/mattn/go-colorable v0.1.13 h1:fFA4WZxdEF4tXPZVKMLwD8oUnCTTo08duU7wxecdEvA=\ngithub.com/mattn/go-colorable v0.1.13/go.mod h1:7S9/ev0klgBDR4GtXTXX8a3vIGJpMovkB8vQcUbaXHg=\ngithub.com/mattn/go-isatty v0.0.14/go.mod h1:7GGIvUiUoEMVVmxf/4nioHXj79iQHKdU27kJ6hsGG94=\ngithub.com/mattn/go-isatty v0.0.16/go.mod h1:kYGgaQfpe5nmfYZH+SKPsOc2e4SrIfOl2e/yFXSvRLM=\ngithub.com/mattn/go-isatty v0.0.17 h1:BTarxUcIeDqL27Mc+vyvdWYSL28zpIhv3RoTdsLMPng=\ngithub.com/mattn/go-isatty v0.0.17/go.mod h1:kYGgaQfpe5nmfYZH+SKPsOc2e4SrIfOl2e/yFXSvRLM=\ngithub.com/mcuadros/go-defaults v1.2.0 h1:FODb8WSf0uGaY8elWJAkoLL0Ri6AlZ1bFlenk56oZtc=\ngithub.com/mcuadros/go-defaults v1.2.0/go.mod h1:WEZtHEVIGYVDqkKSWBdWKUVdRyKlMfulPaGDWIVeCWY=\ngithub.com/mitchellh/mapstructure v1.5.0 h1:jeMsZIYE/09sWLaz43PL7Gy6RuMjD2eJVyuac5Z2hdY=\ngithub.com/mitchellh/mapstructure v1.5.0/go.mod h1:bFUtVrKA4DC2yAKiSyO/QUcy7e+RRV2QTWOzhPopBRo=\ngithub.com/niemeyer/pretty v0.0.0-20200227124842-a10e7caefd8e h1:fD57ERR4JtEqsWbfPhv4DMiApHyliiK5xCTNVSPiaAs=\ngithub.com/niemeyer/pretty v0.0.0-20200227124842-a10e7caefd8e/go.mod h1:zD1mROLANZcx1PVRCS0qkT7pwLkGfwJo4zjcN/Tysno=\ngithub.com/pelletier/go-toml/v2 v2.1.0 h1:FnwAJ4oYMvbT/34k9zzHuZNrhlz48GB3/s6at6/MHO4=\ngithub.com/pelletier/go-toml/v2 v2.1.0/go.mod h1:tJU2Z3ZkXwnxa4DPO899bsyIoywizdUvyaeZurnPPDc=\ngithub.com/pkg/errors v0.9.1/go.mod h1:bwawxfHBFNV+L2hUp1rHADufV3IMtnDRdf1r5NINEl0=\ngithub.com/pmezard/go-difflib v1.0.0/go.mod h1:iKH77koFhYxTK1pcRnkKkqfTogsbg7gZNVY4sRDYZ/4=\ngithub.com/pmezard/go-difflib v1.0.1-0.20181226105442-5d4384ee4fb2 h1:Jamvg5psRIccs7FGNTlIRMkT8wgtp5eCXdBlqhYGL6U=\ngithub.com/pmezard/go-difflib v1.0.1-0.20181226105442-5d4384ee4fb2/go.mod h1:iKH77koFhYxTK1pcRnkKkqfTogsbg7gZNVY4sRDYZ/4=\ngithub.com/rogpeppe/go-internal v1.9.0 h1:73kH8U+JUqXU8lRuOHeVHaa/SZPifC7BkcraZVejAe8=\ngithub.com/rogpeppe/go-internal v1.9.0/go.mod h1:WtVeX8xhTBvf0smdhujwtBcq4Qrzq/fJaraNFVN+nFs=\ngithub.com/rs/xid v1.4.0/go.mod h1:trrq9SKmegXys3aeAKXMUTdJsYXVwGY3RLcfgqegfbg=\ngithub.com/rs/zerolog v1.28.0 h1:MirSo27VyNi7RJYP3078AA1+Cyzd2GB66qy3aUHvsWY=\ngithub.com/rs/zerolog v1.28.0/go.mod h1:NILgTygv/Uej1ra5XxGf82ZFSLk58MFGAUS2o6usyD0=\ngithub.com/sagikazarmark/locafero v0.4.0 h1:HApY1R9zGo4DBgr7dqsTH/JJxLTTsOt7u6keLGt6kNQ=\ngithub.com/sagikazarmark/locafero v0.4.0/go.mod h1:Pe1W6UlPYUk/+wc/6KFhbORCfqzgYEpgQ3O5fPuL3H4=\ngithub.com/sagikazarmark/slog-shim v0.1.0 h1:diDBnUNK9N/354PgrxMywXnAwEr1QZcOr6gto+ugjYE=\ngithub.com/sagikazarmark/slog-shim v0.1.0/go.mod h1:SrcSrq8aKtyuqEI1uvTDTK1arOWRIczQRv+GVI1AkeQ=\ngithub.com/sourcegraph/conc v0.3.0 h1:OQTbbt6P72L20UqAkXXuLOj79LfEanQ+YQFNpLA9ySo=\ngithub.com/sourcegraph/conc v0.3.0/go.mod h1:Sdozi7LEKbFPqYX2/J+iBAM6HpqSLTASQIKqDmF7Mt0=\ngithub.com/spf13/afero v1.11.0 h1:WJQKhtpdm3v2IzqG8VMqrr6Rf3UYpEF239Jy9wNepM8=\ngithub.com/spf13/afero v1.11.0/go.mod h1:GH9Y3pIexgf1MTIWtNGyogA5MwRIDXGUr+hbWNoBjkY=\ngithub.com/spf13/cast v1.6.0 h1:GEiTHELF+vaR5dhz3VqZfFSzZjYbgeKDpBxQVS4GYJ0=\ngithub.com/spf13/cast v1.6.0/go.mod h1:ancEpBxwJDODSW/UG4rDrAqiKolqNNh2DX3mk86cAdo=\ngithub.com/spf13/pflag v1.0.5 h1:iy+VFUOCP1a+8yFto/drg2CJ5u0yRoB7fZw3DKv/JXA=\ngithub.com/spf13/pflag v1.0.5/go.mod h1:McXfInJRrz4CZXVZOBLb0bTZqETkiAhM9Iw0y3An2Bg=\ngithub.com/spf13/viper v1.18.1 h1:rmuU42rScKWlhhJDyXZRKJQHXFX02chSVW1IvkPGiVM=\ngithub.com/spf13/viper v1.18.1/go.mod h1:EKmWIqdnk5lOcmR72yw6hS+8OPYcwD0jteitLMVB+yk=\ngithub.com/stretchr/objx v0.1.0/go.mod h1:HFkY916IF+rwdDfMAkV7OtwuqBVzrE8GR6GFx+wExME=\ngithub.com/stretchr/objx v0.4.0/go.mod h1:YvHI0jy2hoMjB+UWwv71VJQ9isScKT/TqJzVSSt89Yw=\ngithub.com/stretchr/objx v0.5.0/go.mod h1:Yh+to48EsGEfYuaHDzXPcE3xhTkx73EhmCGUpEOglKo=\ngithub.com/stretchr/testify v1.3.0/go.mod h1:M5WIy9Dh21IEIfnGCwXGc5bZfKNJtfHm1UVUgZn+9EI=\ngithub.com/stretchr/testify v1.7.1/go.mod h1:6Fq8oRcR53rry900zMqJjRRixrwX3KX962/h/Wwjteg=\ngithub.com/stretchr/testify v1.8.0/go.mod h1:yNjHg4UonilssWZ8iaSj1OCr/vHnekPRkoO+kdMU+MU=\ngithub.com/stretchr/testify v1.8.4 h1:CcVxjf3Q8PM0mHUKJCdn+eZZtm5yQwehR5yeSVQQcUk=\ngithub.com/stretchr/testify v1.8.4/go.mod h1:sz/lmYIOXD/1dqDmKjjqLyZ2RngseejIcXlSw2iwfAo=\ngithub.com/subosito/gotenv v1.6.0 h1:9NlTDc1FTs4qu0DDq7AEtTPNw6SVm7uBMsUCUjABIf8=\ngithub.com/subosito/gotenv v1.6.0/go.mod h1:Dk4QP5c2W3ibzajGcXpNraDfq2IrhjMIvMSWPKKo0FU=\ngithub.com/yuin/gopher-lua v0.0.0-20220504180219-658193537a64 h1:5mLPGnFdSsevFRFc9q3yYbBkB6tsm4aCwwQV/j1JQAQ=\ngithub.com/yuin/gopher-lua v0.0.0-20220504180219-658193537a64/go.mod h1:GBR0iDaNXjAgGg9zfCvksxSRnQx76gclCIb7kdAd1Pw=\ngo.uber.org/atomic v1.9.0 h1:ECmE8Bn/WFTYwEW/bpKD3M8VtR/zQVbavAoalC1PYyE=\ngo.uber.org/atomic v1.9.0/go.mod h1:fEN4uk6kAWBTFdckzkM89CLk9XfWZrxpCo0nPH17wJc=\ngo.uber.org/multierr v1.9.0 h1:7fIwc/ZtS0q++VgcfqFDxSBZVv/Xo49/SYnDFupUwlI=\ngo.uber.org/multierr v1.9.0/go.mod h1:X2jQV1h+kxSjClGpnseKVIxpmcjrj7MNnI0bnlfKTVQ=\ngolang.org/x/exp v0.0.0-20230905200255-921286631fa9 h1:GoHiUyI/Tp2nVkLI2mCxVkOjsbSXD66ic0XW0js0R9g=\ngolang.org/x/exp v0.0.0-20230905200255-921286631fa9/go.mod h1:S2oDrQGGwySpoQPVqRShND87VCbxmc6bL1Yd2oYrm6k=\ngolang.org/x/sys v0.0.0-20210630005230-0f9fa26af87c/go.mod h1:oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg=\ngolang.org/x/sys v0.0.0-20210927094055-39ccf1dd6fa6/go.mod h1:oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg=\ngolang.org/x/sys v0.0.0-20220811171246-fbc7d0a398ab/go.mod h1:oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg=\ngolang.org/x/sys v0.15.0 h1:h48lPFYpsTvQJZF4EKyI4aLHaev3CxivZmv7yZig9pc=\ngolang.org/x/sys v0.15.0/go.mod h1:/VUhepiaJMQUp4+oa/7Zr1D23ma6VTLIYjOOTFZPUcA=\ngolang.org/x/text v0.14.0 h1:ScX5w1eTa3QqT8oi6+ziP7dTV1S2+ALU0bI+0zXKWiQ=\ngolang.org/x/text v0.14.0/go.mod h1:18ZOQIKpY8NJVqYksKHtTdi31H5itFRjB5/qKTNYzSU=\ngopkg.in/check.v1 v0.0.0-20161208181325-20d25e280405/go.mod h1:Co6ibVJAznAaIkqp8huTwlJQCZ016jof/cbN4VW5Yz0=\ngopkg.in/check.v1 v1.0.0-20200227125254-8fa46927fb4f h1:BLraFXnmrev5lT+xlilqcH8XK9/i0At2xKjWk4p6zsU=\ngopkg.in/check.v1 v1.0.0-20200227125254-8fa46927fb4f/go.mod h1:Co6ibVJAznAaIkqp8huTwlJQCZ016jof/cbN4VW5Yz0=\ngopkg.in/ini.v1 v1.67.0 h1:Dgnx+6+nfE+IfzjUEISNeydPJh9AXNNsWbGP9KzCsOA=\ngopkg.in/ini.v1 v1.67.0/go.mod h1:pNLf8WUiyNEtQjuu5G5vTm06TEv9tsIgeAvK8hOrP4k=\ngopkg.in/natefinch/lumberjack.v2 v2.2.1 h1:bBRl1b0OH9s/DuPhuXpNl+VtCaJXFZ5/uEFST95x9zc=\ngopkg.in/natefinch/lumberjack.v2 v2.2.1/go.mod h1:YD8tP3GAjkrDg1eZH7EGmyESg/lsYskCTPBJVb9jqSc=\ngopkg.in/yaml.v3 v3.0.0-20200313102051-9f266ea9e77c/go.mod h1:K4uyk7z7BCEPqu6E+C64Yfv1cQ7kz7rIZviUmN+EgEM=\ngopkg.in/yaml.v3 v3.0.1 h1:fxVm/GzAzEWqLHuvctI91KS9hhNmmWOoWu0XTYJS7CA=\ngopkg.in/yaml.v3 v3.0.1/go.mod h1:K4uyk7z7BCEPqu6E+C64Yfv1cQ7kz7rIZviUmN+EgEM=\n"
        },
        {
          "name": "internal",
          "type": "tree",
          "content": null
        },
        {
          "name": "license.txt",
          "type": "blob",
          "size": 1.052734375,
          "content": "The MIT License (MIT)\n\nCopyright (c) 2019 Alibaba Inc.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE."
        },
        {
          "name": "scripts",
          "type": "tree",
          "content": null
        },
        {
          "name": "shake.toml",
          "type": "blob",
          "size": 6.453125,
          "content": "[sync_reader]\ncluster = false            # Set to true if the source is a Redis cluster\naddress = \"127.0.0.1:6379\" # For clusters, specify the address of any cluster node; use the master or slave address in master-slave mode\nusername = \"\"              # Keep empty if ACL is not in use\npassword = \"\"              # Keep empty if no authentication is required\ntls = false                # Set to true to enable TLS if needed\nsync_rdb = true            # Set to false if RDB synchronization is not required\nsync_aof = true            # Set to false if AOF synchronization is not required\nprefer_replica = false     # Set to true to sync from a replica node\ntry_diskless = false       # Set to true for diskless sync if the source has repl-diskless-sync=yes\n\n#[scan_reader]\n#cluster = false            # set to true if source is a redis cluster\n#address = \"127.0.0.1:6379\" # when cluster is true, set address to one of the cluster node\n#username = \"\"              # keep empty if not using ACL\n#password = \"\"              # keep empty if no authentication is required\n#tls = false\n#dbs = []                   # set you want to scan dbs such as [1,5,7], if you don't want to scan all\n#scan = true                # set to false if you don't want to scan keys\n#ksn = false                # set to true to enabled Redis keyspace notifications (KSN) subscription\n#count = 1                  # number of keys to scan per iteration\n\n# [rdb_reader]\n# filepath = \"/tmp/dump.rdb\"\n\n# [aof_reader]\n# filepath = \"/tmp/.aof\"\n# timestamp = 0            # subsecond\n\n[redis_writer]\ncluster = false            # set to true if target is a redis cluster\naddress = \"127.0.0.1:6380\" # when cluster is true, set address to one of the cluster node\nusername = \"\"              # keep empty if not using ACL\npassword = \"\"              # keep empty if no authentication is required\ntls = false\noff_reply = false          # turn off the server reply\n\n[filter]\n# Allow keys with specific prefixes or suffixes\n# Examples:\n#   allow_keys = [\"user:1001\", \"product:2001\"]\n#   allow_key_prefix = [\"user:\", \"product:\"]\n#   allow_key_suffix = [\":active\", \":valid\"]\n#   allow A collection of keys containing 11-digit mobile phone numbers\n#   allow_key_regex = [\":\\\\d{11}:\"]\n# Leave empty to allow all keys\nallow_keys = []\nallow_key_prefix = []\nallow_key_suffix = []\nallow_key_regex = []\n\n# Block keys with specific prefixes or suffixes\n# Examples:\n#   block_keys = [\"temp:1001\", \"cache:2001\"]\n#   block_key_prefix = [\"temp:\", \"cache:\"]\n#   block_key_suffix = [\":tmp\", \":old\"]\n#   block test 11-digit mobile phone numbers keys\n#   block_key_regex = [\":test:\\\\d{11}:\"]\n# Leave empty to block nothing\nblock_keys = []\nblock_key_prefix = []\nblock_key_suffix = []\nblock_key_regex = []\n\n# Specify allowed and blocked database numbers (e.g., allow_db = [0, 1, 2], block_db = [3, 4, 5])\n# Leave empty to allow all databases\nallow_db = []\nblock_db = []\n\n# Allow or block specific commands\n# Examples:\n#   allow_command = [\"GET\", \"SET\"]  # Only allow GET and SET commands\n#   block_command = [\"DEL\", \"FLUSHDB\"]  # Block DEL and FLUSHDB commands\n# Leave empty to allow all commands\nallow_command = []\nblock_command = []\n\n# Allow or block specific command groups\n# Available groups:\n#   SERVER, STRING, CLUSTER, CONNECTION, BITMAP, LIST, SORTED_SET,\n#   GENERIC, TRANSACTIONS, SCRIPTING, TAIRHASH, TAIRSTRING, TAIRZSET,\n#   GEO, HASH, HYPERLOGLOG, PUBSUB, SET, SENTINEL, STREAM\n# Examples:\n#   allow_command_group = [\"STRING\", \"HASH\"]  # Only allow STRING and HASH commands\n#   block_command_group = [\"SCRIPTING\", \"PUBSUB\"]  # Block SCRIPTING and PUBSUB commands\n# Leave empty to allow all command groups\nallow_command_group = []\nblock_command_group = []\n\n# Function for custom data processing\n# For best practices and examples, visit:\n# https://tair-opensource.github.io/RedisShake/zh/filter/function.html\nfunction = \"\"\n\n[advanced]\ndir = \"data\"\nncpu = 0        # runtime.GOMAXPROCS, 0 means use runtime.NumCPU() cpu cores\npprof_port = 0  # pprof port, 0 means disable\nstatus_port = 0 # status port, 0 means disable\n\n# log\nlog_file = \"shake.log\"\nlog_level = \"info\"     # debug, info or warn\nlog_interval = 5       # in seconds\nlog_rotation = true    # enable log rotation\nlog_max_size = 512     # MiB, logs max size to rotate, default 512 MiB\nlog_max_age = 7        # days, logs are kept, default 7 days\nlog_max_backups = 3    # number of log backups, default 3\nlog_compress = true    # enable log compression after rotate, default true\n\n# redis-shake gets key and value from rdb file, and uses RESTORE command to\n# create the key in target redis. Redis RESTORE will return a \"Target key name\n# is busy\" error when key already exists. You can use this configuration item\n# to change the default behavior of restore:\n# panic:   redis-shake will stop when meet \"Target key name is busy\" error.\n# rewrite: redis-shake will replace the key with new value.\n# skip:  redis-shake will skip restore the key when meet \"Target key name is busy\" error.\nrdb_restore_command_behavior = \"panic\" # panic, rewrite or skip\n\n# redis-shake uses pipeline to improve sending performance.\n# Adjust this value based on the destination Redis performance:\n# - Higher values may improve performance for capable destinations.\n# - Lower values are recommended for destinations with poor performance.\n# 1024 is a good default value for most cases.\npipeline_count_limit = 1024\n\n# This setting corresponds to the 'client-query-buffer-limit' in Redis configuration.\n# The default value is typically 1GB.\n# It's recommended not to modify this value unless absolutely necessary.\ntarget_redis_client_max_querybuf_len = 1073741824  # 1GB in bytes\n\n# This setting corresponds to the 'proto-max-bulk-len' in Redis configuration.\n# It defines the maximum size of a single string element in the Redis protocol.\n# The value must be 1MB or greater. Default is 512MB.\n# It's recommended not to modify this value unless absolutely necessary.\ntarget_redis_proto_max_bulk_len = 512_000_000\n\n# If the source is Elasticache, you can set this item. AWS ElastiCache has custom\n# psync command, which can be obtained through a ticket.\naws_psync = \"\" # example: aws_psync = \"10.0.0.1:6379@nmfu2sl5osync,10.0.0.1:6379@xhma21xfkssync\"\n\n# destination will delete itself entire database before fetching files\n# from source during full synchronization.\n# This option is similar redis replicas RDB diskless load option:\n#   repl-diskless-load on-empty-db\nempty_db_before_sync = false\n\n[module]\n# The data format for BF.LOADCHUNK is not compatible in different versions. v2.6.3 <=> 20603\ntarget_mbbloom_version = 20603\n"
        },
        {
          "name": "shake_scan_env.toml",
          "type": "blob",
          "size": 0.17578125,
          "content": "[scan_reader]\naddress = \"${SHAKE_SRC_ADDRESS}\" # export SHAKE_SRC_ADDRESS=127.0.0.1:6379\n\n[redis_writer]\naddress = \"${SHAKE_DST_ADDRESS}\" # export SHAKE_DST_ADDRESS=127.0.0.1:6380\n"
        },
        {
          "name": "shake_sync_env.toml",
          "type": "blob",
          "size": 0.17578125,
          "content": "[sync_reader]\naddress = \"${SHAKE_SRC_ADDRESS}\" # export SHAKE_SRC_ADDRESS=127.0.0.1:6379\n\n[redis_writer]\naddress = \"${SHAKE_DST_ADDRESS}\" # export SHAKE_DST_ADDRESS=127.0.0.1:6380\n"
        },
        {
          "name": "test.sh",
          "type": "blob",
          "size": 0.111328125,
          "content": "#!/bin/bash\nset -e\n\n# unit test\ngo test ./... -v\n\n# black box test\ncd tests/\npybbt cases --verbose --flags modules"
        },
        {
          "name": "tests",
          "type": "tree",
          "content": null
        }
      ]
    }
  ]
}