{
  "metadata": {
    "timestamp": 1736566825097,
    "page": 393,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjQwMA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "TruthHun/BookStack",
      "stars": 3443,
      "defaultBranch": "master",
      "files": [
        {
          "name": ".gitattributes",
          "type": "blob",
          "size": 0.05078125,
          "content": "*.js linguist-language=Go\n*.css linguist-language=Go"
        },
        {
          "name": ".github",
          "type": "tree",
          "content": null
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.5498046875,
          "content": "# Compiled Object files, Static and Dynamic libs (Shared Objects)\n*.o\n*.a\n*.so\n\n# Folders\n_obj\n_test\n\n# Architecture specific extensions/prefixes\n*.[568vq]\n[568vq].out\n\n*.cgo1.go\n*.cgo2.c\n_cgo_defun.c\n_cgo_gotypes.go\n_cgo_export.*\n\n_testmain.go\n*.json\ntest/\n\n*.exe\n*.test\n*.prof\n.idea\n/conf/app.conf\n*.log\nlogs/*\n.DS_Store\nmindoc\nBookStack\nBookStack.exe\nBookStack.exe~\ncache/\nuploads\n/store\nbs.zip\n*.xml\nrender.jpg\n*.conf\nversion_control\nnode_modules\ndist\noutput\nvirtualroot\ndocker\nlicense.cert\nindex\nindex/\n/web\n/am\n/group\n/platform\n/.air.toml\n/tmp\n!package.json"
        },
        {
          "name": "API.md",
          "type": "blob",
          "size": 5.1953125,
          "content": "# BookStack API\r\n\r\nBookStack 配套微信小程序 BookChat API。\r\n\r\n## TODO\r\n\r\n- [x] 评论管理\r\n- [ ] 用户评论权限（默认都有评论权限，但是一旦被禁用评论权限，则不能再进行评论）\r\n- [ ] 用户写作权限（默认所有人都有写作权限，被禁用之后，评论权限和点评权限一并无法使用）\r\n- [ ] 列表数据查询，可自定义每页查询的数量\r\n- [ ] 管理后台用户管理增加用户搜索，以便管理用户\r\n- [ ] 相关书籍接口\r\n- [ ] 404 页面，增加返回上一页\r\n- [ ] 分类图标、用户头像图片裁剪功能\r\n- [ ] 增加一次获取多个分类的书籍列表的接口\r\n- [ ] 没有书籍封面、用户头像以及分类图标的时候，返回默认的图片。同时，微信小程序也做好没有图片时候的默认图片处理\r\n- [ ] 书籍发布时间和更新时间不对。每次老是自动更新\r\n- [ ] 采集程序，a标签，如果是以 mailto 或者是 tel 开头的，不要加 https 或者 http\r\n- [ ] 存储第三方登录的用户头像（如 GitHub、Gitee、QQ 等用户头像，特别是GitHub,头像图片加载很慢）\r\n- [ ] 微信小程序，按照最近阅读倒序排序，并返回最后的阅读时间（用户每浏览一个收藏的书籍的章节，则更新收藏的书籍的最后时间）\r\n\r\n- [ ] 读书时长功能\r\n    - [ ] 增加用户阅读时长，记录用户读书时间\r\n    - [ ] 增加阅读排行榜，显示用户阅读时间榜单（总时长，最近一年、最近一个月、最近一周、最近一天）\r\n    - [ ] 记录用户阅读每一本书的阅读时长，哪怕没有收藏这本书\r\n\r\n- [ ] 增加语音朗读功能，用耳朵读书\r\n- [ ] 增加发放通知的接口（或者微信小程序消息通知接口）\r\n- [ ] API接口登录次数限制\r\n- [ ] 导出markdown功能\r\n- [ ] IP请求限制\r\n- [ ] 小程序所有触底请求和下拉刷新，都加上`pending`,以表示数据正在请求，避免不断发送请求\r\n- [ ] 书架还有问题\r\n- [ ] 查询书籍信息的时候，顺便一同返回有没有收藏该书籍（即加入到书架）\r\n- [ ] last-modified 实现 HTTP 缓存\r\n\r\n## 功能\r\n\r\n`BookChat` v2.0 微信小程序( https://gitee.com/truthhun/BookChat )已经发布了，需要配套 `BookStack` v2.0 以上版本的接口才能正常使用，\r\n目前`BookStack`相关API已经开发完成，但是对API等的后台管理功能并未完善，\r\n快的话也需要大半个月时间这样，所以先放出Beta版本，以方便需要调试和对BookChat进行二次开发的朋友。\r\n\r\n## 本次主要升级日志\r\n\r\n- [x] `BookStack` 配套微信小程序 `BookChat` API接口实现，累计20+个API接口\r\n- [x] 修复删除书籍时误删默认封面的bug\r\n- [x] HTML内容处理，以兼容微信小程序`rich-text`组件实现微信小程序文档内容渲染\r\n- [ ] 开源书籍和文档收录提交入口以及收录管理\r\n- [x] 增加网站小程序码功能，打通PC端与移动端一体化阅读浏览\r\n- [x] 内容采集增强和优化\r\n- [x] 评论审核与管理\r\n- [x] 微信小程序配置(在 `app.conf` 文件中)\r\n- [x] 横幅管理\r\n- [x] 支持 `epub` 导入\r\n- [x] 隐藏附件管理入口(因为不依赖于此管理附件)\r\n- [x] 管理后台可根据用户名、昵称、邮箱和角色对用户进行检索和管理\r\n- [x] 增加`作者`角色，用于控制普通用户创建书籍权限\r\n\r\n> 更多升级内容，请查看源码仓库 commit 记录\r\n\r\n\r\n- [ ] 管理后台\r\n    - [ ] 管理员登录\r\n    - [ ] 密钥管理\r\n    - [ ] 书籍推荐管理\r\n    - [ ] 横幅管理\r\n    - [ ] 评论审核\r\n    \r\n- [x] API\r\n    - [x] 用户登录 - /bookchat/api/v1/user/login\r\n    - [x] 用户注册 - /bookchat/api/v1/user/register\r\n    - [x] 找回密码 - /bookchat/api/v1/user/find-password\r\n    - [x] 修改密码 - /bookchat/api/v1/user/change-password\r\n    - [x] 用户信息 - /bookchat/api/v1/user/info\r\n    - [x] 用户收藏 - /bookchat/api/v1/user/star\r\n    - [x] 用户分享的书籍 - /bookchat/api/v1/user/release-book\r\n    - [x] 用户粉丝 - /bookchat/api/v1/user/fans\r\n    - [x] 用户关注 - /bookchat/api/v1/user/follow\r\n    - [x] 书籍搜索 - /bookchat/api/v1/book/search\r\n    - [x] 书籍分类 - /bookchat/api/v1/book/categories\r\n    - [x] 书籍信息 - /bookchat/api/v1/book/info\r\n    - [x] 书籍内容 - /bookchat/api/v1/book/read\r\n    - [x] 书籍目录 - /bookchat/api/v1/book/menu\r\n    - [x] 书籍点评 - /bookchat/api/v1/book/comment\r\n    - [x] 书籍列表 - /bookchat/api/v1/book/lists\r\n    - [x] 阅读进度 - /bookchat/api/v1/book/process\r\n    - [x] 重置阅读进度 - /bookchat/api/v1/book/reset-process\r\n    - [x] 书籍下载 - /bookchat/api/v1/book/download\r\n    - [x] 添加/删除书签 - /bookchat/api/v1/book/bookmark\r\n    - [x] 首页横幅\r\n    \r\n**后期改造：微信小程序404 页面不允许回退，使用redirect进行跳转。在404页面，增加一个返回首页的按钮**\r\n    \r\n    \r\n## 小程序页面实现\r\n> Promise.all() 改造\r\n\r\n- [ ] 增加api cdn 模式的支持。如 /api/v1/lists/base64(page=1&size=2&sxx).json\r\n\r\n- [x] 首页\r\n- [ ] 书籍介绍页面\r\n    - [x] 书籍信息获取\r\n    - [x] 相关书籍获取\r\n    - [ ] 评论获取\r\n    - [ ] 书籍点评\r\n    - [ ] 书籍下载？\r\n    - [ ] 书籍收藏"
        },
        {
          "name": "LICENSE",
          "type": "blob",
          "size": 11.0888671875,
          "content": "                                 Apache License\n                           Version 2.0, January 2004\n                        http://www.apache.org/licenses/\n\n   TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION\n\n   1. Definitions.\n\n      \"License\" shall mean the terms and conditions for use, reproduction,\n      and distribution as defined by Sections 1 through 9 of this document.\n\n      \"Licensor\" shall mean the copyright owner or entity authorized by\n      the copyright owner that is granting the License.\n\n      \"Legal Entity\" shall mean the union of the acting entity and all\n      other entities that control, are controlled by, or are under common\n      control with that entity. For the purposes of this definition,\n      \"control\" means (i) the power, direct or indirect, to cause the\n      direction or management of such entity, whether by contract or\n      otherwise, or (ii) ownership of fifty percent (50%) or more of the\n      outstanding shares, or (iii) beneficial ownership of such entity.\n\n      \"You\" (or \"Your\") shall mean an individual or Legal Entity\n      exercising permissions granted by this License.\n\n      \"Source\" form shall mean the preferred form for making modifications,\n      including but not limited to software source code, documentation\n      source, and configuration files.\n\n      \"Object\" form shall mean any form resulting from mechanical\n      transformation or translation of a Source form, including but\n      not limited to compiled object code, generated documentation,\n      and conversions to other media types.\n\n      \"Work\" shall mean the work of authorship, whether in Source or\n      Object form, made available under the License, as indicated by a\n      copyright notice that is included in or attached to the work\n      (an example is provided in the Appendix below).\n\n      \"Derivative Works\" shall mean any work, whether in Source or Object\n      form, that is based on (or derived from) the Work and for which the\n      editorial revisions, annotations, elaborations, or other modifications\n      represent, as a whole, an original work of authorship. For the purposes\n      of this License, Derivative Works shall not include works that remain\n      separable from, or merely link (or bind by name) to the interfaces of,\n      the Work and Derivative Works thereof.\n\n      \"Contribution\" shall mean any work of authorship, including\n      the original version of the Work and any modifications or additions\n      to that Work or Derivative Works thereof, that is intentionally\n      submitted to Licensor for inclusion in the Work by the copyright owner\n      or by an individual or Legal Entity authorized to submit on behalf of\n      the copyright owner. For the purposes of this definition, \"submitted\"\n      means any form of electronic, verbal, or written communication sent\n      to the Licensor or its representatives, including but not limited to\n      communication on electronic mailing lists, source code control systems,\n      and issue tracking systems that are managed by, or on behalf of, the\n      Licensor for the purpose of discussing and improving the Work, but\n      excluding communication that is conspicuously marked or otherwise\n      designated in writing by the copyright owner as \"Not a Contribution.\"\n\n      \"Contributor\" shall mean Licensor and any individual or Legal Entity\n      on behalf of whom a Contribution has been received by Licensor and\n      subsequently incorporated within the Work.\n\n   2. Grant of Copyright License. Subject to the terms and conditions of\n      this License, each Contributor hereby grants to You a perpetual,\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n      copyright license to reproduce, prepare Derivative Works of,\n      publicly display, publicly perform, sublicense, and distribute the\n      Work and such Derivative Works in Source or Object form.\n\n   3. Grant of Patent License. Subject to the terms and conditions of\n      this License, each Contributor hereby grants to You a perpetual,\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n      (except as stated in this section) patent license to make, have made,\n      use, offer to sell, sell, import, and otherwise transfer the Work,\n      where such license applies only to those patent claims licensable\n      by such Contributor that are necessarily infringed by their\n      Contribution(s) alone or by combination of their Contribution(s)\n      with the Work to which such Contribution(s) was submitted. If You\n      institute patent litigation against any entity (including a\n      cross-claim or counterclaim in a lawsuit) alleging that the Work\n      or a Contribution incorporated within the Work constitutes direct\n      or contributory patent infringement, then any patent licenses\n      granted to You under this License for that Work shall terminate\n      as of the date such litigation is filed.\n\n   4. Redistribution. You may reproduce and distribute copies of the\n      Work or Derivative Works thereof in any medium, with or without\n      modifications, and in Source or Object form, provided that You\n      meet the following conditions:\n\n      (a) You must give any other recipients of the Work or\n          Derivative Works a copy of this License; and\n\n      (b) You must cause any modified files to carry prominent notices\n          stating that You changed the files; and\n\n      (c) You must retain, in the Source form of any Derivative Works\n          that You distribute, all copyright, patent, trademark, and\n          attribution notices from the Source form of the Work,\n          excluding those notices that do not pertain to any part of\n          the Derivative Works; and\n\n      (d) If the Work includes a \"NOTICE\" text file as part of its\n          distribution, then any Derivative Works that You distribute must\n          include a readable copy of the attribution notices contained\n          within such NOTICE file, excluding those notices that do not\n          pertain to any part of the Derivative Works, in at least one\n          of the following places: within a NOTICE text file distributed\n          as part of the Derivative Works; within the Source form or\n          documentation, if provided along with the Derivative Works; or,\n          within a display generated by the Derivative Works, if and\n          wherever such third-party notices normally appear. The contents\n          of the NOTICE file are for informational purposes only and\n          do not modify the License. You may add Your own attribution\n          notices within Derivative Works that You distribute, alongside\n          or as an addendum to the NOTICE text from the Work, provided\n          that such additional attribution notices cannot be construed\n          as modifying the License.\n\n      You may add Your own copyright statement to Your modifications and\n      may provide additional or different license terms and conditions\n      for use, reproduction, or distribution of Your modifications, or\n      for any such Derivative Works as a whole, provided Your use,\n      reproduction, and distribution of the Work otherwise complies with\n      the conditions stated in this License.\n\n   5. Submission of Contributions. Unless You explicitly state otherwise,\n      any Contribution intentionally submitted for inclusion in the Work\n      by You to the Licensor shall be under the terms and conditions of\n      this License, without any additional terms or conditions.\n      Notwithstanding the above, nothing herein shall supersede or modify\n      the terms of any separate license agreement you may have executed\n      with Licensor regarding such Contributions.\n\n   6. Trademarks. This License does not grant permission to use the trade\n      names, trademarks, service marks, or product names of the Licensor,\n      except as required for reasonable and customary use in describing the\n      origin of the Work and reproducing the content of the NOTICE file.\n\n   7. Disclaimer of Warranty. Unless required by applicable law or\n      agreed to in writing, Licensor provides the Work (and each\n      Contributor provides its Contributions) on an \"AS IS\" BASIS,\n      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or\n      implied, including, without limitation, any warranties or conditions\n      of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A\n      PARTICULAR PURPOSE. You are solely responsible for determining the\n      appropriateness of using or redistributing the Work and assume any\n      risks associated with Your exercise of permissions under this License.\n\n   8. Limitation of Liability. In no event and under no legal theory,\n      whether in tort (including negligence), contract, or otherwise,\n      unless required by applicable law (such as deliberate and grossly\n      negligent acts) or agreed to in writing, shall any Contributor be\n      liable to You for damages, including any direct, indirect, special,\n      incidental, or consequential damages of any character arising as a\n      result of this License or out of the use or inability to use the\n      Work (including but not limited to damages for loss of goodwill,\n      work stoppage, computer failure or malfunction, or any and all\n      other commercial damages or losses), even if such Contributor\n      has been advised of the possibility of such damages.\n\n   9. Accepting Warranty or Additional Liability. While redistributing\n      the Work or Derivative Works thereof, You may choose to offer,\n      and charge a fee for, acceptance of support, warranty, indemnity,\n      or other liability obligations and/or rights consistent with this\n      License. However, in accepting such obligations, You may act only\n      on Your own behalf and on Your sole responsibility, not on behalf\n      of any other Contributor, and only if You agree to indemnify,\n      defend, and hold each Contributor harmless for any liability\n      incurred by, or claims asserted against, such Contributor by reason\n      of your accepting any such warranty or additional liability.\n\n   END OF TERMS AND CONDITIONS\n\n   APPENDIX: How to apply the Apache License to your work.\n\n      To apply the Apache License to your work, attach the following\n      boilerplate notice, with the fields enclosed by brackets \"{}\"\n      replaced with your own identifying information. (Don't include\n      the brackets!)  The text should be enclosed in the appropriate\n      comment syntax for the file format. We also recommend that a\n      file or class name and description of purpose be included on the\n      same \"printed page\" as the copyright notice for easier\n      identification within third-party archives.\n\n   Copyright {yyyy} {name of copyright owner}\n\n\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n\n   limitations under the License.\n"
        },
        {
          "name": "LICENSE.md",
          "type": "blob",
          "size": 11.0908203125,
          "content": "                                 Apache License\n                           Version 2.0, January 2004\n                        http://www.apache.org/licenses/\n\n   TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION\n\n   1. Definitions.\n\n      \"License\" shall mean the terms and conditions for use, reproduction,\n      and distribution as defined by Sections 1 through 9 of this document.\n\n      \"Licensor\" shall mean the copyright owner or entity authorized by\n      the copyright owner that is granting the License.\n\n      \"Legal Entity\" shall mean the union of the acting entity and all\n      other entities that control, are controlled by, or are under common\n      control with that entity. For the purposes of this definition,\n      \"control\" means (i) the power, direct or indirect, to cause the\n      direction or management of such entity, whether by contract or\n      otherwise, or (ii) ownership of fifty percent (50%) or more of the\n      outstanding shares, or (iii) beneficial ownership of such entity.\n\n      \"You\" (or \"Your\") shall mean an individual or Legal Entity\n      exercising permissions granted by this License.\n\n      \"Source\" form shall mean the preferred form for making modifications,\n      including but not limited to software source code, documentation\n      source, and configuration files.\n\n      \"Object\" form shall mean any form resulting from mechanical\n      transformation or translation of a Source form, including but\n      not limited to compiled object code, generated documentation,\n      and conversions to other media types.\n\n      \"Work\" shall mean the work of authorship, whether in Source or\n      Object form, made available under the License, as indicated by a\n      copyright notice that is included in or attached to the work\n      (an example is provided in the Appendix below).\n\n      \"Derivative Works\" shall mean any work, whether in Source or Object\n      form, that is based on (or derived from) the Work and for which the\n      editorial revisions, annotations, elaborations, or other modifications\n      represent, as a whole, an original work of authorship. For the purposes\n      of this License, Derivative Works shall not include works that remain\n      separable from, or merely link (or bind by name) to the interfaces of,\n      the Work and Derivative Works thereof.\n\n      \"Contribution\" shall mean any work of authorship, including\n      the original version of the Work and any modifications or additions\n      to that Work or Derivative Works thereof, that is intentionally\n      submitted to Licensor for inclusion in the Work by the copyright owner\n      or by an individual or Legal Entity authorized to submit on behalf of\n      the copyright owner. For the purposes of this definition, \"submitted\"\n      means any form of electronic, verbal, or written communication sent\n      to the Licensor or its representatives, including but not limited to\n      communication on electronic mailing lists, source code control systems,\n      and issue tracking systems that are managed by, or on behalf of, the\n      Licensor for the purpose of discussing and improving the Work, but\n      excluding communication that is conspicuously marked or otherwise\n      designated in writing by the copyright owner as \"Not a Contribution.\"\n\n      \"Contributor\" shall mean Licensor and any individual or Legal Entity\n      on behalf of whom a Contribution has been received by Licensor and\n      subsequently incorporated within the Work.\n\n   2. Grant of Copyright License. Subject to the terms and conditions of\n      this License, each Contributor hereby grants to You a perpetual,\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n      copyright license to reproduce, prepare Derivative Works of,\n      publicly display, publicly perform, sublicense, and distribute the\n      Work and such Derivative Works in Source or Object form.\n\n   3. Grant of Patent License. Subject to the terms and conditions of\n      this License, each Contributor hereby grants to You a perpetual,\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n      (except as stated in this section) patent license to make, have made,\n      use, offer to sell, sell, import, and otherwise transfer the Work,\n      where such license applies only to those patent claims licensable\n      by such Contributor that are necessarily infringed by their\n      Contribution(s) alone or by combination of their Contribution(s)\n      with the Work to which such Contribution(s) was submitted. If You\n      institute patent litigation against any entity (including a\n      cross-claim or counterclaim in a lawsuit) alleging that the Work\n      or a Contribution incorporated within the Work constitutes direct\n      or contributory patent infringement, then any patent licenses\n      granted to You under this License for that Work shall terminate\n      as of the date such litigation is filed.\n\n   4. Redistribution. You may reproduce and distribute copies of the\n      Work or Derivative Works thereof in any medium, with or without\n      modifications, and in Source or Object form, provided that You\n      meet the following conditions:\n\n      (a) You must give any other recipients of the Work or\n          Derivative Works a copy of this License; and\n\n      (b) You must cause any modified files to carry prominent notices\n          stating that You changed the files; and\n\n      (c) You must retain, in the Source form of any Derivative Works\n          that You distribute, all copyright, patent, trademark, and\n          attribution notices from the Source form of the Work,\n          excluding those notices that do not pertain to any part of\n          the Derivative Works; and\n\n      (d) If the Work includes a \"NOTICE\" text file as part of its\n          distribution, then any Derivative Works that You distribute must\n          include a readable copy of the attribution notices contained\n          within such NOTICE file, excluding those notices that do not\n          pertain to any part of the Derivative Works, in at least one\n          of the following places: within a NOTICE text file distributed\n          as part of the Derivative Works; within the Source form or\n          documentation, if provided along with the Derivative Works; or,\n          within a display generated by the Derivative Works, if and\n          wherever such third-party notices normally appear. The contents\n          of the NOTICE file are for informational purposes only and\n          do not modify the License. You may add Your own attribution\n          notices within Derivative Works that You distribute, alongside\n          or as an addendum to the NOTICE text from the Work, provided\n          that such additional attribution notices cannot be construed\n          as modifying the License.\n\n      You may add Your own copyright statement to Your modifications and\n      may provide additional or different license terms and conditions\n      for use, reproduction, or distribution of Your modifications, or\n      for any such Derivative Works as a whole, provided Your use,\n      reproduction, and distribution of the Work otherwise complies with\n      the conditions stated in this License.\n\n   5. Submission of Contributions. Unless You explicitly state otherwise,\n      any Contribution intentionally submitted for inclusion in the Work\n      by You to the Licensor shall be under the terms and conditions of\n      this License, without any additional terms or conditions.\n      Notwithstanding the above, nothing herein shall supersede or modify\n      the terms of any separate license agreement you may have executed\n      with Licensor regarding such Contributions.\n\n   6. Trademarks. This License does not grant permission to use the trade\n      names, trademarks, service marks, or product names of the Licensor,\n      except as required for reasonable and customary use in describing the\n      origin of the Work and reproducing the content of the NOTICE file.\n\n   7. Disclaimer of Warranty. Unless required by applicable law or\n      agreed to in writing, Licensor provides the Work (and each\n      Contributor provides its Contributions) on an \"AS IS\" BASIS,\n      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or\n      implied, including, without limitation, any warranties or conditions\n      of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A\n      PARTICULAR PURPOSE. You are solely responsible for determining the\n      appropriateness of using or redistributing the Work and assume any\n      risks associated with Your exercise of permissions under this License.\n\n   8. Limitation of Liability. In no event and under no legal theory,\n      whether in tort (including negligence), contract, or otherwise,\n      unless required by applicable law (such as deliberate and grossly\n      negligent acts) or agreed to in writing, shall any Contributor be\n      liable to You for damages, including any direct, indirect, special,\n      incidental, or consequential damages of any character arising as a\n      result of this License or out of the use or inability to use the\n      Work (including but not limited to damages for loss of goodwill,\n      work stoppage, computer failure or malfunction, or any and all\n      other commercial damages or losses), even if such Contributor\n      has been advised of the possibility of such damages.\n\n   9. Accepting Warranty or Additional Liability. While redistributing\n      the Work or Derivative Works thereof, You may choose to offer,\n      and charge a fee for, acceptance of support, warranty, indemnity,\n      or other liability obligations and/or rights consistent with this\n      License. However, in accepting such obligations, You may act only\n      on Your own behalf and on Your sole responsibility, not on behalf\n      of any other Contributor, and only if You agree to indemnify,\n      defend, and hold each Contributor harmless for any liability\n      incurred by, or claims asserted against, such Contributor by reason\n      of your accepting any such warranty or additional liability.\n\n   END OF TERMS AND CONDITIONS\n\n   APPENDIX: How to apply the Apache License to your work.\n\n      To apply the Apache License to your work, attach the following\n      boilerplate notice, with the fields enclosed by brackets \"{}\"\n      replaced with your own identifying information. (Don't include\n      the brackets!)  The text should be enclosed in the appropriate\n      comment syntax for the file format. We also recommend that a\n      file or class name and description of purpose be included on the\n      same \"printed page\" as the copyright notice for easier\n      identification within third-party archives.\n\n   Copyright {yyyy} {name of copyright owner}\n\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 12.1357421875,
          "content": "\n目录：\n- [BookStack 简介](#bookstack-简介)\n  - [开源](#开源)\n  - [QQ交流群](#qq交流群)\n  - [站点](#站点)\n    - [演示站点](#演示站点)\n    - [正式站点](#正式站点)\n  - [更新、维护和升级](#更新维护和升级)\n  - [功能与亮点](#功能与亮点)\n    - [书籍分类(V1.2 +)](#书籍分类v12-)\n    - [用户主页(V1.2 +)](#用户主页v12-)\n    - [一键导入markdown书籍](#一键导入markdown书籍)\n    - [一键拉取markdown书籍](#一键拉取markdown书籍)\n    - [生成和导出PDF、epub、mobi等离线文档](#生成和导出pdfepubmobi等离线文档)\n    - [文档排序和批量创建文档](#文档排序和批量创建文档)\n    - [文档间的跳转](#文档间的跳转)\n    - [采集功能](#采集功能)\n    - [SEO](#seo)\n    - [版本控制](#版本控制)\n    - [更美观、简洁的页面布局和更为完善的移动端兼容](#更美观简洁的页面布局和更为完善的移动端兼容)\n  - [TODO](#todo)\n  - [安装与使用](#安装与使用)\n  - [关于本人](#关于本人)\n  - [赞助我](#赞助我)\n    - [支付宝打赏赞助](#支付宝打赏赞助)\n    - [微信打赏赞助](#微信打赏赞助)\n\n    \n<a name=\"intro\"></a>\n# BookStack 简介\n\nBookStack，分享知识，共享智慧！知识，因分享，传承久远！\n\nBookStack是基于[Mindoc](https://github.com/lifei6671/mindoc)开发的，为运营而生。\n\n在开发的过程中，增加和移除了一些东西，目前已经不兼容MinDoc了（毕竟数据表结构、字段、索引都有了一些不同），同时只支持markdown编辑器。\n\n**BookStack 配套手机APP `BookChatApp` 开源地址**\n\n- Gitee: https://gitee.com/truthhun/BookChatApp\n- GitHub: https://github.com/TruthHun/BookChatApp\n\n**BookChatApp下载体验地址**\n\n- https://www.bookstack.cn/app\n\n<a name=\"open\"></a>\n## 开源\n两年前还在做PHP开发的时候，无意间遇到了Gitbook，以及看云，还有readthedoc。\n\n当时想着自己也开发一套，但是后来没时间，当时也没那个技术积累。\n\n后来学了Go语言，又在无意间遇到了[Mindoc](https://github.com/lifei6671/mindoc)，然后我们公司([掘金量化](https://www.myquant.cn) )也恰巧让我开发公司官网和文档系统，然后我就对[Mindoc](https://github.com/lifei6671/mindoc)做了二次开发。\n\n本来是不想开源的，因为自己写代码的时候，写着写着，代码改来改去，然后代码就乱七八糟了，怕开源出来丢人现眼。但是踏入IT行业三年多时间以来，自身也受益于各种开源书籍和开源组件，所以最终还是决定将BookStack开源出来。\n\n其中肯定还是有不足的地方，大家在使用的过程中，遇到问题，欢迎反馈。\n\n源码托管：\n- Github: https://github.com/TruthHun/BookStack\n- Gitee: https://gitee.com/truthhun/BookStack\n\n<a name=\"qqgroup\"></a>\n## QQ交流群\n为方便相互学习和交流，建了个QQ群，加群请备注`来自BookStack`\n\n> QQ交流群：457803862(猿军团)\n\n同时要说明的是，该群是一个学习交流群，如果是程序相关问题，请直接提交issues，不接受邮件求助、微信求助和QQ私信求助\n\nBookStack 安装使用手册：[https://www.bookstack.cn/books/help](https://www.bookstack.cn/books/help)\n\n\n<a name=\"site\"></a>\n## 站点\n\n<a name=\"demo\"></a>\n### 演示站点\n\n> 服务器资源有限，不再提供演示站点\n\n<a name=\"normal\"></a>\n### 正式站点\n\n**书栈网**：[https://www.bookstack.cn](https://www.bookstack.cn)\n\n\n\n<a name=\"upgrade\"></a>\n## 更新、维护和升级\n\n- 程序下载与升级日志，看这里--> [Release](/truthhun/BookStack/releases)\n\n<a name=\"func\"></a>\n## 功能与亮点\n\n<a name=\"cate\"></a>\n### 书籍分类(V1.2 +)\n用户就像你的老板，他不知道自己需要什么，但是他知道自己不需要什么...\n\n<a name=\"homepage\"></a>\n### 用户主页(V1.2 +)\n在用户主页，展示用户分享的书籍、粉丝、关注和手册，增加用户间的互动\n\n<a name=\"import\"></a>\n### 一键导入markdown书籍\n这个功能，相信是很多人的最爱了。目前这个功能仅对管理员开放。\n> 经实测，目前已完美支持各种姿势写作的markdown书籍的文档导入，能很好地处理文档间的链接以及文档中的图片链接\n\n![一键导入书籍](static/openstatic/import.png)\n\n<a name=\"pull\"></a>\n### 一键拉取markdown书籍\n看到GitHub、Gitee等有很多开源文档的书籍，但是一个一个去拷贝粘贴里面的markdown内容不现实。于是，做了这个一键拉取的功能。\n目前只有管理员才有权限拉取，并没有对普通用户开放。要体验这个功能，请用管理员账号登录演示站点体验。\n用法很简单，比如我们拉取beego的书籍，在创建书籍后，直接点击\"拉取书籍\"，粘贴如\" https://github.com/beego/beedoc/archive/master.zip \"，然后就会自动帮你拉取上面的所有markdown文档并录入数据库，同时图片也会自动帮你更新到OSS。\n![拉取书籍](static/openstatic/pull.png)\n> 经实测，目前已完美支持各种姿势写作的markdown书籍的拉取，能很好地处理文档间的链接以及文档中的图片链接\n\n> 目前已支持Git Clone导入书籍\n\n<a name=\"generate\"></a>\n### 生成和导出PDF、epub、mobi等离线文档\n这个需要安装和配置calibre。\n我将calibre的使用专门封装成了一个工具，并编译成了二进制，源码、程序和使用说地址：[https://github.com/TruthHun/converter](https://github.com/TruthHun/converter)\n在BookStack中，已经引入这个包了。使用的时候，点击\"生成下载文档\"即可\n\n<a name=\"sort\"></a>\n### 文档排序和批量创建文档\n很多时候，我们在写作书籍的时候，会习惯地先把书籍的章节目录结构创建出来，然后再慢慢写内容。\n但是，书籍中的文档少的时候，一个个去创建倒没什么，但是文档数量多了之后，简直就是虐待自己，排序的时候还要一个一个去拖拽进行排序，很麻烦。现在，这个问题已经解决了。如下：\n- 在书籍中，创建一个文档标识为`summary.md`的文档(大小写不敏感)\n- 在文档中，填充无序列表的markdown内容，如：\n\n```markdown\n<bookstack-summary></bookstack-summary>\n* [第0章. 前言]($ch0.md)\n* [第1章. 修订记录]($ch1.md)\n* [第2章. 如何贡献]($ch2.md)\n* [第3章. Docker 简介]($ch3.md)\n    * [什么是 Docker]($ch3.1.md)\n    * [为什么要用 Docker]($ch3.2.md)\n* [第4章. 基本概念]($ch4.md)\n    * [镜像]($ch4.1.md)\n    * [容器]($ch4.2.md)\n    * [仓库]($ch4.3.md)\n```\n- 然后保存。保存成功之后，程序会帮你创建如\"第0章. 前言\"，并把文档标识设置为\"ch0.md\"，同时目录结构还按照你的这个来调整和排序。\n\n注意：\n> 必须要有`<bookstack-summary></bookstack-summary>`，这样是为了告诉程序，我这个`summary.md`的文档，是用来创建文档和对文档进行排序的。当然，排序完成之后，当前页面会刷新一遍，并且把`<bookstack-summary></bookstack-summary>`移除了。有时候，第一次排序并没有排序成功，再添加一次这个标签，程序会自动帮你再排序一次。\n> 我自己也常用这种方式批量创建文档以及批量修改文档的标题\n\n\n<a name=\"redirect\"></a>\n### 文档间的跳转\n你在一个书籍中会有很多文档，其中一个文档的文档标识叫`readme.md`,另外一个文档的文档标识叫`quickstart.md`，两个文档间如何跳转呢？\n如果你知道站点的路由规则，倒是可以轻松链过去，但是，每次都要这样写，真的很麻烦。自己也经常写文档，简直受够了，然后想到了一个办法。如下：\n我从`readme.md`跳转到`quickstart.md`，在`readme.md`中的内容这样写:\n``` \n[快速开始]($quickstart.md)\n```\n如果跳转到`quickstart.md`的某个锚点呢？那就像下面这样写：\n``` \n[快速开始-步骤三]($quickstart.md#step3)\n```\n好了，在发布文档的时候，文档就会根据路由规则以及你的文档标识去生成链接了(由于是后端去处理，所以在编辑文档的时候，前端展示的预览内容，暂时是无法跳转的)。\n那么，问题就来了，我书籍里面的文档越来越多，我怎么知道我要链接的那个文档的文档标识呢？不用担心，在markdown编辑器的左侧，括号里面的红色文字显示的就是你的文档标识。\n\n![文档标识](static/openstatic/identify.png)\n\n<a name=\"crawl\"></a>\n### 采集功能\n看到一篇很好的文章，但是文章里面有代码段、有图片，手工复制过来，格式全乱了，所以，相信采集功能，会是你需要的。采集功能，在markdown编辑器的功能栏上面，对，就是那个瓢虫图标，就是那个Bug，因为我找不到蜘蛛的图标...\n\n功能见下图，具体体验，请到演示站点体验。\n\n![采集](static/openstatic/crawl.png)\n\n\n<a name=\"seo\"></a>\n### SEO\n后台管理，个性化定制你的SEO关键字；并且在SEO管理这里，可以更新站点sitemap（暂时没做程序定时自动更新sitemap）\n\n\n<a name=\"version-control\"></a>\n### 版本控制\n`MinDoc`之前本身就有版本控制的，但是版本控制的文档内容全都存在数据库中，如果修改频繁而导致修改历史过多的话，数据库可能会被撑爆。当时没有好的解决办法，所以将该功能移除了。\n\n目前加上该功能，是因为这个功能呼声很高，所以加回来了。但是版本控制的内容不再存储到数据库中，而是以文件的形式存储到本地或者是云存储上。\n\n功能在`管理后台`->`配置管理`中进行开启\n\n<a name=\"beauty\"></a>\n### 更美观、简洁的页面布局和更为完善的移动端兼容\n这是个看脸的时代...\n\n> 首页\n\n![首页](static/openstatic/page-index.png)\n\n> 介绍页\n\n![介绍页](static/openstatic/page-intro.png)\n\n> 内容阅读页\n\n![内容阅读页](static/openstatic/page-read.png)\n\n> 个人书籍页\n\n![个人书籍页](static/openstatic/page-project.png)\n\n> 手机端首页\n\n![个人书籍页](static/openstatic/page-mobile.png)\n\n\n<a name=\"todo\"></a>\n## TODO\n- 文档阅读书签\n- 微信第三方登录\n- 微博第三方登录\n- 收费下载和收费阅读(放在最后开发)\n- 签到功能\n- 增加广告位和广告管理\n- 积分功能\n- 除了数据库配置项外，其余配置项尽可能在管理后台可配置\n- 增强搜索功能，上elasticsearch\n- 简化程序部署，上docker\n- 微信小程序(放到2.x版本开发)\n- 版本管理 ？(待找到更优解决方案了再实现)\n- 使用weex开发手机端APP ? (vue.js熟练了再抽时间实现)\n- 使用electron开发桌面端，实现类似网易`有道云笔记`的功能 ? (vue.js熟练了再抽时间实现)\n\n<a name=\"install\"></a>\n## 安装与使用\n\n\n为了方便，安装和使用教程，请移步到这里：http://www.bookstack.cn/read/help/Ubuntu.md\n\n> 目前只写了Ubuntu下的安装教程，Windows下的安装和使用教程，暂时没时间\n\n有两个模板文件，需要手动修改下：\n`/views/widgets/pdf_footer.html` 导出PDF文档时，pdf的footer显示内容\n`/views/document/tpl_statement.html` 修改成你想要的文案内容或者删除该文件。如果保留该文件，必须要有`h1`标签，因为程序要提取你的`h1`标签用于导出文档的目录生成\n\n默认的管理员账号密码均是`admin`\n\n> `v1.0`升级到`v1.1`,直接下载对应系统的发行版本，然后根据配置文件的配置提示修改配置文件，然后覆盖升级即可。本次升级，没有改动数据库。\n\n关于二次开发，请看这个issue [README.md中能否添源码编译说明](https://github.com/TruthHun/BookStack/issues/3)\n\n\n<a name=\"aboutme\"></a>\n## 关于本人\n2014年7月本科\"毕业\"踏入IT行业；Web全栈工程师；什么都懂一点，什么都不精通。\n\n\n<a name=\"support\"></a>\n## 赞助我\n如果我的努力值得你的肯定，请赞助我，让我在开源的路上，做更好，走更远。\n赞助我的方式包括：`支付宝打赏`、`微信打赏`、`给BookStack一个star`、`向我反馈意见和建议`\n\n\n<a name=\"alipay\"></a>\n### 支付宝打赏赞助\n![支付宝打赏赞助](static/openstatic/alipay.jpg)\n\n<a name=\"wxpay\"></a>\n### 微信打赏赞助\n![微信打赏赞助](static/openstatic/wxpay.jpg)\n\n\n"
        },
        {
          "name": "build.sh",
          "type": "blob",
          "size": 1.451171875,
          "content": "#!/usr/bin/env bash\r\n\r\n##########\r\nVERSION=${1}\r\n\r\n# These are the values we want to pass for Version and BuildTime\r\nGITHASH=`git rev-parse HEAD 2>/dev/null`\r\n\r\nBUILDAT=`date +%FT%T%z`\r\n\r\n# Setup the -ldflags option for go build here, interpolate the variable values\r\nLDFLAGS=\"-s -w -X github.com/TruthHun/BookStack/utils.GitHash=${GITHASH} -X github.com/TruthHun/BookStack/utils.BuildAt=${BUILDAT} -X github.com/TruthHun/BookStack/utils.Version=${VERSION}\"\r\n\r\n##########\r\n\r\nrm -rf output/${VERSION}\r\nmkdir -p output/${VERSION}\r\n\r\nCGO_ENABLED=0 GOOS=darwin GOARCH=amd64 go build -v -o output/${VERSION}/mac/BookStack -ldflags \"${LDFLAGS}\"\r\nCGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -v -o output/${VERSION}/linux/BookStack -ldflags \"${LDFLAGS}\"\r\nCGO_ENABLED=0 GOOS=windows GOARCH=amd64 go build -v -o output/${VERSION}/windows/BookStack.exe -ldflags \"${LDFLAGS}\"\r\n\r\nupx -f -9 output/${VERSION}/mac/BookStack\r\nupx -f -9 output/${VERSION}/linux/BookStack\r\nupx -f -9 output/${VERSION}/windows/BookStack.exe\r\n\r\ncp -r conf output/${VERSION}/mac/\r\ncp -r conf output/${VERSION}/linux/\r\ncp -r conf output/${VERSION}/windows/\r\n\r\ncp -r views output/${VERSION}/mac/\r\ncp -r views output/${VERSION}/linux/\r\ncp -r views output/${VERSION}/windows/\r\n\r\ncp -r dictionary output/${VERSION}/mac/\r\ncp -r dictionary output/${VERSION}/linux/\r\ncp -r dictionary output/${VERSION}/windows/\r\n\r\ncp -r static output/${VERSION}/mac/\r\ncp -r static output/${VERSION}/linux/\r\ncp -r static output/${VERSION}/windows/"
        },
        {
          "name": "change.md",
          "type": "blob",
          "size": 19.7724609375,
          "content": "\n\n采集内容，图片不正确\n\n# 开发日志\n## TODO\n- [ ] a 标签中的英文括号统一转成中文括号\n- [ ] 导出markdown\n- [ ] 直接访问编辑页面，登录的cookie过去无法编辑文档问题\n- [ ] 书籍发布队列\n- [ ] 电子书下载页面，扩展站点页面\n- [ ] 电子书检验，不存在的电子书，重新生成\n- [ ] 增加博客(文章)系统功能\n- [ ] 增加实体书功能(广告)\n- [ ] 增加网络课程推广功能(广告)\n- [ ] 增加 wiki 功能\n- [ ] ElasticSearch支持搜索博客、wiki和实体书\n- [ ] 增加程序员工具箱功能（长期工作）\n- [ ] 手机APP开发升级\n- [ ] iPad平板用户注册/登录没有顺利跳转的问题处理\n- [ ] 生成手机APP分享海报（类似微信小程序上的分享）\n- [ ] 支持电子书检测是否存在以及电子书重新生成\n- [ ] 增加电子书功能（支持外链电子书）\n    - [ ] 电子书扫描功能\n- [ ] 增加视频课程功能\n- [ ] 书籍图片缺失处理功能\n- [ ] 找出注明来源和赞助的书籍\n- [ ] 电子书重新生成的功能 \n- [ ] 增加文章（博客）功能，博主不需要再书栈网写博客，只需要提交自己博客网站，书栈网根据网址去采集。\n    （内容采集的话，需要博客遵循CC-BY-NC的知识共享协议，书栈网在文章底部和APP等，显示打赏或者赞助二维码）。如需提醒有新的收录的话，再重复提交一下自己的博客就好了\n- [ ] 友链交换入口\n- [ ] 程序员网址导航\n\n## v2.10 升级日志\n- [x] 支持音频和视频上传\n    - [x] 如果开启了OSS云存储，则将音视频上传上去的同时将音视频设置为私有\n- [x] 支持音频和视频播放管理\n- [x] 管理后台，恢复和优化附件管理功能\n- [x] 如果管理员或者用户是书籍项目所有人，则音视频链接支持直链播放，否则对音视频链接进行一定的防盗链处理\n- [x] 优化程序内的 `cmd` 执行\n- [x] 内容阅读页面音频视频播放功能\n    - [x] 音频和视频播放倍速控制\n    - [x] 视频画中画播放\n    - [x] 禁止音频和视频直接下载\n- [x] 增加和升级API，使小程序和APP支持音频和视频播放，以及图片放大预览\n    - [x] 小程序/APP返回的音视频内容进行加密\n- [x] 优化`html2json`仓库，解析`HTML`内容，使小程序支持音频和视频播放功能，以及图片放大预览功能\n- [x] BookStack 依赖检测，以便程序可以正常使用完整功能进行工作，检测项：chrome、puppeteer、git、calibre\n\n## v2.9 升级日志\n- [x] 对无权限创建书籍书籍的用户，隐藏创建书籍入口\n- [x] 优化首页分类索引高亮显示，并增加`回到顶部`功能\n- [x] 修复分类下书籍统计不正确的问题\n- [x] 修复书籍太多时删除用户超时的问题\n- [x] 书籍管理页面增加书籍搜索功能\n- [x] 调整文案，`项目`改为`书籍`\n- [x] 修改个人资料昵称可更改\n- [x] 上传分类图标和上传书籍优化\n- [x] `榜单`功能优化，加入`禁榜`功能，禁止恶意刷榜用户排入榜单，并优化榜单样式\n- [x] 生产ElasticSearch索引出现panic的问题\n- [x] 针对无权限创建书籍项目的用户隐藏创建项目入口\n- [x] 上传图标等优化\n- [x] 内容页面带图片链接访问优化\n- [x] 移除分词功能\n\n\n## v2.8 升级日志\n- [x] 优化内容阅读体验：调整文字行高、章内目录以及优化内容图片预览\n- [x] 优化`html2md`模块\n- [x] 修复上一版本数据库时间字段没有默认值导致的错误[#103](https://github.com/TruthHun/BookStack/issues/103)\n- [x] 优化阅读时长统计，减少统计误差\n- [x] 升级MySQL、阿里云OSS等相关依赖库\n- [x] 修正工信部备案链接地址（工信部更换域名了）\n- [x] 修复`runtime: goroutine stack exceeds 1000000000-byte limit`问题，提升程序稳定性。（由 [getSelectedNode](https://gitee.com/truthhun/BookStack/commit/cae29e5db6d69c6aae16be44c6133dcf41260e81)造成）\n- [x] 优化大markdown文件拆分\n- [x] 固定首页`分类索引`\n\n## v2.7 升级日志\n\n- [x] 404 优化：如果是书籍的文档不存在，则提示回到书籍页而不是首页\n- [x] 修复API横幅链接不正确的问题\n- [x] 增加阅读历史的api，以便APP端显示最近阅读的书籍，哪怕用户未收藏\n- [x] 书籍收藏优化，显示收藏的书籍分类，以便更快找到收藏的书籍\n- [x] `发现`页面的分类下方显示分类介绍，以达到简单小科普的效果\n- [x] 内容阅读页面优化：支持图片放大，优化章内目录显示\n- [x] 最新推荐的书籍，按照最后更新时间倒序排序\n- [x] 调整小程序码显示\n\n\n## v2.6 升级日志\n- [x] HTML转markdown\n- [x] Word文档导入（进支持`.docx`格式的Word文档，其他格式的Word文档先转换一下）\n- [x] `发现`页面SEO优化\n- [x] 解决匿名访问时无法渲染文档的问题\n- [x] 章节目录收起与展开\n- [x] 本月累计签到榜单和上月累计签到榜单\n- [x] 内容阅读页面样式代码块优化\n- [x] 书架和收藏，显示收藏的书籍的分类\n\n\n\n## v2.5 升级日志\n- [x] 适配手机APP `BookChatApp` 相关API接口调整\n- [x] `$auto-title`自动提取内容标题\n- [x] 增加是否开放注册的功能\n- [x] 增加是否允许游客访问的功能（禁止游客访问的话，只能登录）\n- [x] 增加首页是否显示分类索引功能，以便分类太多\n- [x] 内容采集转发\n- [x] markdown书籍导入的时候，`//`开头的链接或者非`.md`和`.markdown`结尾的链接，不转成`$`开头的相对链接\n- [x] 删除用户的时候，提示并确认删除，避免误删\n- [x] Github oauth登录调整(Please use the Authorization HTTP header instead as using the `access_token` query parameter is deprecated.)\n\n\n## v2.4 升级日志\n- [x] 个人主页调整\n- [x] 用户每日签到记录与统计及其缓存\n- [x] 用户每日阅读时长记录与统计及其缓存\n- [x] 书籍每日收藏量记录与统计及其缓存\n- [x] 书籍每日浏览量记录与统计及其缓存\n- [x] 排行榜单\n- [ ] APP 的 API 接口\n    - [x] 签到接口\n    - [x] 签到状态查询\n    - [x] 榜单接口\n    - [ ] 个人各项数据信息接口\n\n\n## v2.3 升级日志\n\n- [x] 不启用`elasticsearch`，也能启用`相关书籍`的功能\n- [x] 管理后台支持标签管理（搜索、删除、新增）\n- [x] 支持自动创建数据库，默认创建uft8mb4的数据库，避免用户创建了非utf8的数据库导致程序部署失败\n- [x] 增加显示`我的收藏`入口\n- [x] 增加广告投放功能\n- [x] 移除`我的二维码`(这个功能意义不大)\n- [x] 修复本地存储时，重新生成新电子书，旧电子书没有删除的问题\n- [x] 生成电子书封面\n- [x] 优化HTML转markdown功能\n- [x] 电子书生成相关模板存放在 `views/ebook` 目录下\n    - [x] `statement.html`为生成`致谢`内容的电子书模板，可移除和修改\n    - [x] `cover.html`为自定义的电子书封面模板\n\n\n## v2.2 升级日志\n\n- [x] 使用`go mod`方式管理程序的包依赖（建议二次开发的朋友把go开发环境升级到支持`go mod`的go版本）\n- [x] APP下载单页配置管理\n- [x] 书籍信息设置页，支持增加文字广告功能，并增加 APP 跳转页\n- [x] 电子书是否登录才能下载\n- [x] 移动端横幅尺寸控制(由于移动端横幅展示，为了不使横幅变形，以及能够灵活控制移动端横幅宽高比例显示)\n- [x] 支持`书籍设置`给书籍内容增加全局文字小广告功能，比如添加原作者赞助二维码链接或者是原作者实体书购买地址等，以便支持开源作者\n- [x] 私有书籍，增加访问密码（书籍成员可以免密码访问）\n- [x] 小分辨率电脑，内容阅读时，不悬浮显示内容菜单，避免影响阅读体验\n- [x] 配置管理，增加图片链接由`http://`自动替换为`https://`开关，因为 --> [Chrome 将不再允许 https:// 页面加载 HTTP 资源](https://www.oschina.net/news/110345/chrome-to-block-http-in-https)\n- [x] 如果只有作者才能写作，则如果书籍创建者不是作者，已创建了书籍的，不允许私有转公有、不允许私密分享\n- [x] 书籍成员PC端无法访问和编辑书籍的问题处理\n    - [x] 管理员和创始人可以设置书籍信息以及生成电子书\n    - [x] 编辑者以上权限可以克隆、上传等对书籍进行编辑操作\n\n\n## V2.1 升级日志\n\n- [x] 解决 2.0 版本，初始化管理员失败（密码长度修改导致）的问题\n- [x] html转json实现，以兼容各种小程序和uni-app的富文本组件`rich-text`对内容的渲染\n- [x] markdown导入功能获取标题优化\n- [x] 内容采集持续优化，URL链接替换优化\n- [x] 支持隐藏收录入口\n- [x] 支持隐藏书籍开源入口\n- [x] API接口用户注册接口，支持控制每小时和每天的用户注册数量，以避免恶意攻击\n- [x] 文档内容，SEO 标题支持获取文档的上一个文档的标题\n- [x] `puppeteer`采集优化\n- [x] 首页分类，增大块点击范围以优化体验\n- [x] 编译的时候版本变量注入\n- [x] 管理后台用户列表用户注册时间格式化\n- [x] 增加虚拟根目录\n\n\n\n<a name=\"v2.0\"></a>\n## V2.0 开发升级日志\n\n- [x] 微信小程序API接口开发\n- [x] 书籍在发布的时候，把非站内图片自动采集下来\n- [x] `BookStack` 配套微信小程序 `BookChat` API接口实现，累计20+个API接口\n- [x] 修复删除书籍时误删默认封面的bug\n- [x] HTML内容处理，以兼容微信小程序`rich-text`组件实现微信小程序文档内容渲染\n- [x] 开源书籍和文档收录提交入口以及收录管理\n- [x] 增加网站小程序码功能，打通PC端与移动端一体化阅读浏览\n- [x] 内容采集增强和优化\n- [x] 评论审核与管理功能开发\n- [x] 微信小程序配置(在 `app.conf` 文件中)\n- [x] 横幅管理\n- [x] 支持 `epub` 导入\n- [x] 隐藏附件管理入口(因为不依赖于此管理附件)\n- [x] 管理后台可根据用户名、昵称、邮箱和角色对用户进行检索和管理\n- [x] 增加`作者`角色，用于控制普通用户创建书籍权限\n\n## v1.7 升级日志\n- [x] 增加书籍和文档搜索精度控制（在管理后台可设置）\n- [x] 增加`钉子`功能，把想要置顶的书籍置顶在`发现`列表页首位\n- [x] 文档阅读，移动端展开菜单优化(右下角增加展开菜单按钮)\n- [x] 跳转编辑指定文档\n- [x] 流程图、时序图、数学公式的支持和优化\n- [x] 移除外部引入的js、css公共资源库，实现本地化和内网部署的优化\n- [x] 文章`内容目录`显示优化\n- [x] 管理员删除书籍,需要输入管理员密码\n- [x] 增加书籍语种分类（中文、英文、其他）\n- [x] 增加首页最新推荐书籍内容\n- [x] 增加关联书籍推荐功能(需要启用elasticsearch)\n- [x] SEO 优化，如果文档内容图片缺少`alt`，自动使用文档标题填充\n- [x] 采集HTML的时候，block 里面的内容不转markdown\n- [x] 书籍分类统计不正确的问题\n- [x] 采集功能增强，自带截图功能。\n- [x] 更新MySQL驱动，支持MySQL 8.x\n\n\n## V1.6 升级日志\n\n\n- [x] 使用`puppeteer`采集的支持（需要安装node以及在当前程序目录下安装node的puppeteer模块）\n- [x] 根据邮箱找回密码\n- [x] `<bookstack-split></bookstack-split>`，文档拆分功能\n- [x] 文章二维码，扫一扫，手机阅读\n- [x] 文档采集功能优化\n    - [x] 增加HTML标签排除功能：`<exclude></exclude>`，如要排除标签`h5`以及class为`hello`、id为\"book\"的HTML内容，写法是`<exclude>h5,.hello,#book</exclude>`\n    - [x] 文档图片采集优化，支持svg等缩图图片格式和base64的图片采集\n- [x] 增加全书指定字符替换功能\n- [x] 使用 elasticsearch 实现全文搜索（在`管理后台`->`配置管理`进行设置）\n    - [x] 搜索功能，支持搜索书籍和全站文档\n    - [x] elasticsearch 只返回搜索结果的id，不返回大量的数据\n    - [x] 文章、搜索结果页关键字高亮\n    - [x] elasticsearch分词\n    - [x] 实时索引\n        - [x] 删除文档，同时删除文档对应的索引\n        - [x] 书籍公有和私有之间转换，同步更新索引中书籍的公有和私有状态\n        - [x] 发布文档，实时更新对应的书籍对应文档的全量索引\n        - [x] 更新书籍信息，同步更新书籍的索引\n        - [x] 删除书籍，同步删除概述及的所有相关文档\n        - [x] 管理后台控制默认搜索的是文档还是书籍\n    - [x] 文档内的搜索，使用elasticsearch\n- [x] 在书籍编辑页面可以克隆或者是上传markdown\n- [x] 文章内容页顶部显示 作者、发布时间、更新时间、浏览量、分享人\n- [x] 新建和编辑书籍，支持添加原作者和原作者链接 \n- [x] 文档文章内容，顶部标题下显示信息\n- [x] 管理后台控制第三方登录的显示与隐藏\n- [x] HTML table 渲染问题优化（把`editormd.js`中的`breaks`设置为false）\n\n```\nsudo docker run -it -p 9300:9300 -p 9200:9200 --restart always -v /Users/TruthHun/elasticsearch/data:/usr/share/elasticsearch/data -v /Users/TruthHun/elasticsearch/config:/usr/share/elasticsearch/config --name bookstack-search truthhun/elasticsearch:6.2.4.ik\nsudo docker run -it -p 9300:9300 -p 9200:9200 -v /Users/TruthHun/elasticsearch/data:/usr/share/elasticsearch/data --name bookstack-search truthhun/elasticsearch:6.2.4.ik\n```\n\n## V1.5 升级日志\n- [x] 修复：书籍删除时间过长进而导致删除失败的Bug（启用了MySQL的事务，但事务中SQL语句有select字句查询造成的问题）\n- [x] 修复：书籍成员列表显示不全的Bug(分页问题导致) [#25](https://github.com/TruthHun/BookStack/issues/25)\n- [x] 修复：书籍标识正则匹配规则不正确的问题\n- [x] 优化：分类在筛选书籍的时候，SEO优化，以文档分类作为`title`等，不再以首页的文案作为`title`\n- [x] 优化：一键采集书籍，自动检测并下载图片\n- [x] 优化：恢复文档模板功能\n- [x] 优化：文档中，图片不再使用带http的URL绝对路径，以解决更换域名后写死的URL找不到图片\n- [x] 新增：书籍推荐，在封面加上\"推荐\"图标标志。\n- [x] 新增：`Git Clone` 的方式导入书籍\n    - [x] 编辑文档图片需要处理\n    - [x] 阅读页面图片需要处理\n    - [x] 导出文档图片需要处理\n    - [x] 书籍导入的图片需要处理\n- [x] 优化：文档阅读体验优化\n    - [x] 文档阅读页面左侧章节菜单，可展开和收起\n    - [x] 键盘左右方向键按键切换文档上下章节\n    - [x] 文档目录全部展开，所有章节一目了然\n    - [x] 移除`jstree`插件（因为使用该插件，在用户网速比较慢的情况下左侧章节目录排版会出现错乱，影响体验）\n    - [x] 已阅读章节，`打勾`标识出来，以便知道哪些章节已读哪些章节未读\n    - [x] 章节目录跟随阅读进度定位位置\n- [x] 新增：版本控制(在)\n    - [x] 文档编辑历史，使用文件存储的方式进行记录，不存入数据库.\n    - [x] 版本控制，在`<bookstack-git></bookstack-git>`标签内添加文案用以提交版本说明。如`<bookstack-git>first commit</bookstack-git>`等同于`git commit -m \"first commit\"`\n    - [x] 删除版本记录的时候要同时删除版本文件\n    - [x] 删除书籍时同时删除书籍所有的相关文档章节版本记录\n    - [x] 删除单个文档章节以及删除上一级文档章节，则被删除的文档章节的历史版本记录同样要删除\n- [x] `SUMMARY.md`功能扩展，输入`<bookstack-auto></bookstack-auto>`，获取所有文档章节标识\n    \n    \n\n\n<a name=\"v1.4\"></a>\n## V1.4 升级日志\n- [x] 修复：由于js使用严格模式(`use strict`)，导致文档目录收起之后无法展开\n- [x] 修复：采集内容，URL链接和图片链接补全不正确\n- [x] 优化：书籍离线文档生成加锁优化，移除`app.conf`中的`GenerateInterval`配置项\n- [x] 优化：PDF、epub和mobi等电子书生成工具 [Converter](https://github.com/TruthHun/converter)，在生成电子书时，自动生成封面。\n- [x] 优化：`<bookstack-summary>`标签的一键排序和批量创建文档的功能。\n- [x] 移除：生成PDF的时候，移除HTML中的Markdown TOC。\n- [x] 新增：提供`Dockerfile`，让部署程序更快更简单。在下载`BookStack`程序的时候，请下载Docker版，压缩包内含有`Dockerfile`文件。\n- [x] 新增：爬虫一键采集功能，采集整理书籍，一步到位！\n\n\n---------\n\n本次更新，新增了数据表初始数据，旧版本用户，直接执行`./BookStack install`操作，对数据库表进行升级（不会影响原有表数据和结构）。\n\n\n\n<a name=\"v1.3\"></a>\n## V1.3 开发升级预告\n- [x] 新增：用户阅读记录和阅读进度\n- [x] 新增：阅读书签功能，以便读者标记阅读位置\n- [x] 新增：书籍详情页和文档内容页增加分享功能（由于百度分享等现有分享代码不支持`https`，所以使用本地化百度分享源码解决方案 <https://github.com/hrwhisper/baiduShare> ）\n- [x] 新增：使用KaTeX（ <https://github.com/Khan/KaTeX> ），扩展对数学公式的支持\n- [x] 优化：更新HTML转markdown工具[html2md](https://github.com/TruthHun/html2md)，强化转化效果\n- [x] 修复：文档内URL链接大小写问题优化 [issue#20](https://github.com/TruthHun/BookStack/issues/20)\n- [x] 修复：友链唯一索引问题(默认的字段varchar类型长度(255)过长，导致部分MySQL数据库无法生成唯一索引)\n- [x] 修复：文档内容更新了，执行发布文档操作的时候，文档更新部分的内容仍然不显示的问题\n\n\n\n<a name=\"v1.2\"></a>\n## V1.2 升级日志(功能增强，已于2018-04-07完成)\n- [x] 修复图片存储路径不正确的问题\n- [x] 正确输入书籍标识和登录密码才能删除书籍，以避免误删操作\n- [x] 增加移动端搜索入口\n- [x] 扩展采集功能，增加`DIY模式`，以采集提取页面的指定内容\n- [x] 增加文档分类功能（工作量最大的一项，还新增了分类数据表。用户都不知道自己需要什么，但是却知道自己不需要什么，所以必须要有个分类来引导用户查找自己需要的资料；前端隐藏暂时没有书籍的分类）\n- [x] sitemap的`changefreq`，调整为`weekly`\n- [x] 书籍名称，SEO时，默认加上书名号\n- [x] 用户个人主页、收藏、关注、粉丝等\n- [x] 友链管理\n\n\n\n\n<a name=\"v1.1\"></a>\n## V1.1 升级日志(已于2018-03-04完成开发)\n当前版本，已经适合用于正式产品。数据表结构没有变更，可以直接从v1.0升级。\n\nFIX:\n- [x] 增加备案链接链到工信部。\n- [x] 文档阅读页面缺少了统计代码，已加上。\n- [x] 解决给文档打分时分值错误的问题。\n- [x] 一键导入和一键拉取markdown书籍时，如果出现相同identity的文档，则执行更新，否则为新录入\n- [x] 一键拉取书籍，支持任何来源的zip压缩的markdown书籍的拉取\n- [x] 无刷新加载上下篇阅读文档，优化阅读体验\n- [x] 移除SEO等Go文件中硬编码的\"bookstack.cn\"的域名(因为BookStack，一开始是打算自用的，所以当时写死了)\n- [x] 登录和注册验证码优化（使用Beego自带的验证码体系：<https://github.com/astaxie/beego/tree/master/utils/captcha）>\n- [x] 支持本地化存储（改动了很多地方，具体改动，请`git log`查看）。在app.conf中增加了`store_type`配置项，以扩展存储类型，目前扩展的存储类型有本地存储(`local`)和阿里云OSS存储(`oss`)，更多存储类型(`七牛云存储(qiniu)、腾讯云存储(cos)、百度云存储(bos)、又拍云存储(upyun)`)持续开发中.\n- [x] 分页优化\n- [x] 解决角色名称有时不显示的问题\n- [x] 解决`导入书籍`和`拉取书籍`，书籍中的图片、文档间的链接不正确的问题，目前兼容绝大多数各种姿势的markdown书籍导入和拉取\n\n"
        },
        {
          "name": "commands",
          "type": "tree",
          "content": null
        },
        {
          "name": "conf",
          "type": "tree",
          "content": null
        },
        {
          "name": "controllers",
          "type": "tree",
          "content": null
        },
        {
          "name": "cover.js",
          "type": "blob",
          "size": 1.3115234375,
          "content": "'use strict';\n// 说明： 这段js是用来进行书籍封面截屏的，请勿随便删除或改动\nconst puppeteer = require('puppeteer');\nconst fs = require(\"fs\");\n\nlet args = process.argv.splice(2);\nlet l=args.length;\nlet url, identify,folder;\n\nfor(let i=0;i<l;i++){\n    switch (args[i]){\n        case \"--url\":\n            url = args[i+1];\n            if (url==undefined){\n                url = \"\";\n            }\n            break;\n        case '--identify':\n            identify = args[i+1];\n            break;\n    }\n    i++;\n}\n\nasync function screenshot() {\n    const browser = await puppeteer.launch({args: ['--no-sandbox', '--disable-setuid-sandbox'], headless: true, ignoreHTTPSErrors: true});\n    const page = await browser.newPage();\n    page.setViewport({width: 800, height: 1068}); // A4 宽高\n    folder=\"cache/books/\"+identify+\"/\"\n    page.setExtraHTTPHeaders({\n        \"Accept-Language\": \"zh-CN,zh;q=0.9,en;q=0.8,co;q=0.7,fr;q=0.6,zh-HK;q=0.5,zh-TW;q=0.4\",\n        \"User-Agent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3766.2 Safari/537.36\"\n    });\n\n    await page.goto(url, {\"waitUntil\" :  ['networkidle2', 'domcontentloaded'], \"timeout\":5000});\n    await page.screenshot({path: folder+'cover.png'});\n    await browser.close();\n}\nif (url && identify) screenshot();"
        },
        {
          "name": "crawl.js",
          "type": "blob",
          "size": 2.9599609375,
          "content": "'use strict';\r\n\r\nconst puppeteer = require('puppeteer');\r\nconst fs = require(\"fs\");\r\n\r\nlet args = process.argv.splice(2);\r\nlet l=args.length;\r\nlet url, folder, selector;\r\n\r\nfor(let i=0;i<l;i++){\r\n    switch (args[i]){\r\n        case \"--url\":\r\n            url = args[i+1];\r\n            if (url==undefined){\r\n                url = \"\";\r\n            }\r\n            break;\r\n        case '--folder':\r\n            folder = args[i+1];\r\n            break;\r\n        case '--selector':\r\n            selector = args.splice(i+1).join(\" \");\r\n            i=l;\r\n            break;\r\n    }\r\n    i++;\r\n}\r\n\r\nasync function screenshot() {\r\n    const browser = await puppeteer.launch({args: ['--no-sandbox', '--disable-setuid-sandbox'], headless: true, ignoreHTTPSErrors: true});\r\n    const page = await browser.newPage();\r\n    let shot = false;\r\n    if(folder && selector){\r\n        shot = true;\r\n        page.setViewport({width: 1280, height: 20480});\r\n    }\r\n\r\n    page.setExtraHTTPHeaders({\r\n        \"Accept-Language\": \"zh-CN,zh;q=0.9,en;q=0.8,co;q=0.7,fr;q=0.6,zh-HK;q=0.5,zh-TW;q=0.4\",\r\n        \"User-Agent\": \"Mozi lla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3766.2 Safari/537.36\"\r\n    });\r\n\r\n    await page.setRequestInterception(true);\r\n    page.on(\"request\", request => {\r\n        getHost(request.url()).indexOf(\"google\")>-1 ? request.abort() : request.continue();\r\n    });\r\n    let timeout =  shot ? 120000 : 60000;\r\n\r\n    await page.goto(url, {\"waitUntil\" :  ['networkidle2', 'domcontentloaded'], \"timeout\":timeout});\r\n    let res;\r\n    if(shot){\r\n        if (folder.substr(folder.length-1,1)!=\"/\"){\r\n            folder=folder+\"/\"\r\n        }\r\n        res = await page.evaluate(function (ele) {\r\n            let bodyHeight = document.querySelector(\"body\").clientHeight\r\n\r\n            let data = new Array();\r\n            let eleSlice=ele.split(\",\");\r\n\r\n            for (let i = 0; i < eleSlice.length; i++) {\r\n                let d = [],item = eleSlice[i];\r\n                let elements = document.querySelectorAll(item);\r\n                for (var element of elements){\r\n                    let bounding = element.getBoundingClientRect();\r\n                    let x = bounding.x;\r\n                    let y = bounding.y;\r\n                    let width = bounding.width;\r\n                    let height = bounding.height;\r\n                    d.push({x, y, width, height});\r\n                }\r\n                data.push(d)\r\n            }\r\n\r\n            return {height: bodyHeight, data: data};\r\n        }, selector);\r\n        fs.writeFile(folder+'screenshot.json', JSON.stringify(res),function(){});\r\n        await page.screenshot({path: folder+'screenshot.png', fullPage: true});\r\n    }\r\n    let content=await page.content();\r\n    console.log(content);\r\n    await browser.close();\r\n}\r\n\r\nfunction getHost(url) {\r\n    let u = String(url).toLowerCase()\r\n    if (u.startsWith(\"https://\") || u.startsWith(\"http://\")){\r\n        return u.split(\"/\")[2]\r\n    }\r\n    return \"\"\r\n}\r\nif (url) screenshot();"
        },
        {
          "name": "dictionary",
          "type": "tree",
          "content": null
        },
        {
          "name": "docker",
          "type": "tree",
          "content": null
        },
        {
          "name": "favicon.ico",
          "type": "blob",
          "size": 16.560546875,
          "content": null
        },
        {
          "name": "go.mod",
          "type": "blob",
          "size": 1.98046875,
          "content": "module github.com/TruthHun/BookStack\n\ngo 1.13\n\nreplace github.com/ugorji/go/codec v0.0.0-20181204163529-d75b2dcb6bc8 => github.com/ugorji/go v1.1.7\n\nrequire (\n\tgithub.com/PuerkitoBio/goquery v1.6.0\n\tgithub.com/TruthHun/converter v0.0.0-20210623150616-172c168cdcda\n\tgithub.com/TruthHun/gotil v0.0.0-20221201022546-19fe8ec6ef40\n\tgithub.com/TruthHun/html2article v0.0.0-20180202140721-67d6ff09647b\n\tgithub.com/TruthHun/html2json v0.0.0-20201228115506-dee0570dffa8\n\tgithub.com/alexcesaro/mail v0.0.0-20141015155039-29068ce49a17\n\tgithub.com/aliyun/aliyun-oss-go-sdk v2.1.0+incompatible\n\tgithub.com/andybalholm/cascadia v1.2.0 // indirect\n\tgithub.com/araddon/dateparse v0.0.0-20190622164848-0fb0a474d195\n\tgithub.com/astaxie/beego v1.12.0\n\tgithub.com/baiyubin/aliyun-sts-go-sdk v0.0.0-20180326062324-cfa1a18b161f // indirect\n\tgithub.com/boombuler/barcode v1.0.0\n\tgithub.com/dgrijalva/jwt-go v3.2.0+incompatible\n\tgithub.com/disintegration/imaging v1.6.1\n\tgithub.com/go-ego/gse v0.66.7\n\tgithub.com/go-sql-driver/mysql v1.5.0\n\tgithub.com/hashicorp/go-version v1.6.0\n\tgithub.com/kardianos/service v1.0.0\n\tgithub.com/lifei6671/gocaptcha v0.0.0-20190301083731-c467a25bc100\n\tgithub.com/mssola/user_agent v0.5.0\n\tgithub.com/nfnt/resize v0.0.0-20180221191011-83c6a9932646\n\tgithub.com/russross/blackfriday v2.0.0+incompatible\n\tgithub.com/satori/go.uuid v1.2.0 // indirect\n\tgithub.com/shiena/ansicolor v0.0.0-20200904210342-c7312218db18 // indirect\n\tgithub.com/smartystreets/goconvey v1.6.4 // indirect\n\tgithub.com/stretchr/testify v1.6.1 // indirect\n\tgithub.com/unknwon/com v1.0.1\n\tgolang.org/x/crypto v0.0.0-20201221181555-eec23a3978ad // indirect\n\tgolang.org/x/image v0.0.0-20190802002840-cff245a6509b // indirect\n\tgolang.org/x/net v0.0.0-20201224014010-6772e930b67b // indirect\n\tgolang.org/x/sys v0.0.0-20201223074533-0d417f636930 // indirect\n\tgolang.org/x/time v0.0.0-20200416051211-89c76fbcd5d1 // indirect\n\tgopkg.in/asn1-ber.v1 v1.0.0-20181015200546-f715ec2f112d // indirect\n\tgopkg.in/ldap.v2 v2.5.1\n\tgopkg.in/yaml.v2 v2.4.0 // indirect\n)\n"
        },
        {
          "name": "go.sum",
          "type": "blob",
          "size": 21.1103515625,
          "content": "github.com/BurntSushi/toml v0.3.1/go.mod h1:xHWCNGjB5oqiDr8zfno3MHue2Ht5sIBksp03qcyfWMU=\ngithub.com/Knetic/govaluate v3.0.0+incompatible/go.mod h1:r7JcOSlj0wfOMncg0iLm8Leh48TZaKVeNIfJntJ2wa0=\ngithub.com/OwnLocal/goes v1.0.0/go.mod h1:8rIFjBGTue3lCU0wplczcUgt9Gxgrkkrw7etMIcn8TM=\ngithub.com/PuerkitoBio/goquery v1.5.0/go.mod h1:qD2PgZ9lccMbQlc7eEOjaeRlFQON7xY8kdmcsrnKqMg=\ngithub.com/PuerkitoBio/goquery v1.6.0 h1:j7taAbelrdcsOlGeMenZxc2AWXD5fieT1/znArdnx94=\ngithub.com/PuerkitoBio/goquery v1.6.0/go.mod h1:GsLWisAFVj4WgDibEWF4pvYnkVQBpKBKeU+7zCJoLcc=\ngithub.com/TruthHun/converter v0.0.0-20210623150616-172c168cdcda h1:5J7hfnVImIf2MsBp7NZ+YrmcSrKUy5rW5sonkMxHkfY=\ngithub.com/TruthHun/converter v0.0.0-20210623150616-172c168cdcda/go.mod h1:n0OITYsMcCW3XbBVOBn3jMiXRuCmDwDXPsumL7D/JBY=\ngithub.com/TruthHun/gotil v0.0.0-20210509080330-2470bb9be7cd/go.mod h1:0V5BlPJa24R0PzuXVURUfjaQ8Z7cmqsVSW7ftuhesN0=\ngithub.com/TruthHun/gotil v0.0.0-20221201022546-19fe8ec6ef40 h1:wLKVlwymHUF3EoYxIzqR/bpvE/wXAcuX0jZCDUlf6N8=\ngithub.com/TruthHun/gotil v0.0.0-20221201022546-19fe8ec6ef40/go.mod h1:i5tqOvH+rsm0voXHnKkzayNkWnv8L/F7wVv+mBdrAL0=\ngithub.com/TruthHun/html2article v0.0.0-20180202140721-67d6ff09647b h1:JXD7vWKiJGRqkRuitwA8BxJVGr1yp2hQULQII7RaAXo=\ngithub.com/TruthHun/html2article v0.0.0-20180202140721-67d6ff09647b/go.mod h1:fG1YIVgbJZLR41X/jfUjShbO0uxMnA5J4Mv01ys/Mbk=\ngithub.com/TruthHun/html2json v0.0.0-20201228115506-dee0570dffa8 h1:ALJMA2bVcsGE1bYwYnglACvQfpI3M0aGoRvrq9rv+yM=\ngithub.com/TruthHun/html2json v0.0.0-20201228115506-dee0570dffa8/go.mod h1:n5PB/a6/pLUOkuhqQDmDebIesSCpeZ8nJi8/x0t+lUQ=\ngithub.com/alexcesaro/mail v0.0.0-20141015155039-29068ce49a17 h1:S0JNYJ6Gv0RGmbz8w23BETY4hLz81RtpSiyqw3l4Z0k=\ngithub.com/alexcesaro/mail v0.0.0-20141015155039-29068ce49a17/go.mod h1:WVybKoXJAI3a3TlXlkzIMWs3SmoF29WtmOgInQpL0Ps=\ngithub.com/aliyun/aliyun-oss-go-sdk v2.1.0+incompatible h1:90Z2Cp7EqcbaYfVwVjmQoK8kgoFPz+doQlujcwe1BRg=\ngithub.com/aliyun/aliyun-oss-go-sdk v2.1.0+incompatible/go.mod h1:T/Aws4fEfogEE9v+HPhhw+CntffsBHJ8nXQCwKr0/g8=\ngithub.com/andybalholm/cascadia v1.0.0/go.mod h1:GsXiBklL0woXo1j/WYWtSYYC4ouU9PqHO0sqidkEA4Y=\ngithub.com/andybalholm/cascadia v1.1.0/go.mod h1:GsXiBklL0woXo1j/WYWtSYYC4ouU9PqHO0sqidkEA4Y=\ngithub.com/andybalholm/cascadia v1.2.0 h1:vuRCkM5Ozh/BfmsaTm26kbjm0mIOM3yS5Ek/F5h18aE=\ngithub.com/andybalholm/cascadia v1.2.0/go.mod h1:YCyR8vOZT9aZ1CHEd8ap0gMVm2aFgxBp0T0eFw1RUQY=\ngithub.com/araddon/dateparse v0.0.0-20190622164848-0fb0a474d195 h1:c4mLfegoDw6OhSJXTd2jUEQgZUQuJWtocudb97Qn9EM=\ngithub.com/araddon/dateparse v0.0.0-20190622164848-0fb0a474d195/go.mod h1:SLqhdZcd+dF3TEVL2RMoob5bBP5R1P1qkox+HtCBgGI=\ngithub.com/armon/consul-api v0.0.0-20180202201655-eb2c6b5be1b6/go.mod h1:grANhF5doyWs3UAsr3K4I6qtAmlQcZDesFNEHPZAzj8=\ngithub.com/astaxie/beego v1.12.0 h1:MRhVoeeye5N+Flul5PoVfD9CslfdoH+xqC/xvSQ5u2Y=\ngithub.com/astaxie/beego v1.12.0/go.mod h1:fysx+LZNZKnvh4GED/xND7jWtjCR6HzydR2Hh2Im57o=\ngithub.com/axgle/mahonia v0.0.0-20180208002826-3358181d7394 h1:OYA+5W64v3OgClL+IrOD63t4i/RW7RqrAVl9LTZ9UqQ=\ngithub.com/axgle/mahonia v0.0.0-20180208002826-3358181d7394/go.mod h1:Q8n74mJTIgjX4RBBcHnJ05h//6/k6foqmgE45jTQtxg=\ngithub.com/baiyubin/aliyun-sts-go-sdk v0.0.0-20180326062324-cfa1a18b161f h1:ZNv7On9kyUzm7fvRZumSyy/IUiSC7AzL0I1jKKtwooA=\ngithub.com/baiyubin/aliyun-sts-go-sdk v0.0.0-20180326062324-cfa1a18b161f/go.mod h1:AuiFmCCPBSrqvVMvuqFuk0qogytodnVFVSN5CeJB8Gc=\ngithub.com/beego/goyaml2 v0.0.0-20130207012346-5545475820dd/go.mod h1:1b+Y/CofkYwXMUU0OhQqGvsY2Bvgr4j6jfT699wyZKQ=\ngithub.com/beego/x2j v0.0.0-20131220205130-a0352aadc542/go.mod h1:kSeGC/p1AbBiEp5kat81+DSQrZenVBZXklMLaELspWU=\ngithub.com/boombuler/barcode v1.0.0 h1:s1TvRnXwL2xJRaccrdcBQMZxq6X7DvsMogtmJeHDdrc=\ngithub.com/boombuler/barcode v1.0.0/go.mod h1:paBWMcWSl3LHKBqUq+rly7CNSldXjb2rDl3JlRe0mD8=\ngithub.com/bradfitz/gomemcache v0.0.0-20180710155616-bc664df96737/go.mod h1:PmM6Mmwb0LSuEubjR8N7PtNe1KxZLtOUHtbeikc5h60=\ngithub.com/casbin/casbin v1.7.0/go.mod h1:c67qKN6Oum3UF5Q1+BByfFxkwKvhwW57ITjqwtzR1KE=\ngithub.com/cloudflare/golz4 v0.0.0-20150217214814-ef862a3cdc58/go.mod h1:EOBUe0h4xcZ5GoxqC5SDxFQ8gwyZPKQoEzownBlhI80=\ngithub.com/coreos/etcd v3.3.10+incompatible/go.mod h1:uF7uidLiAD3TWHmW31ZFd/JWoc32PjwdhPthX9715RE=\ngithub.com/coreos/go-etcd v2.0.0+incompatible/go.mod h1:Jez6KQU2B/sWsbdaef3ED8NzMklzPG4d5KIOhIy30Tk=\ngithub.com/coreos/go-semver v0.2.0/go.mod h1:nnelYz7RCh+5ahJtPPxZlU+153eP4D4r3EedlOD2RNk=\ngithub.com/couchbase/go-couchbase v0.0.0-20181122212707-3e9b6e1258bb/go.mod h1:TWI8EKQMs5u5jLKW/tsb9VwauIrMIxQG1r5fMsswK5U=\ngithub.com/couchbase/gomemcached v0.0.0-20181122193126-5125a94a666c/go.mod h1:srVSlQLB8iXBVXHgnqemxUXqN6FCvClgCMPCsjBDR7c=\ngithub.com/couchbase/goutils v0.0.0-20180530154633-e865a1461c8a/go.mod h1:BQwMFlJzDjFDG3DJUdU0KORxn88UlsOULuxLExMh3Hs=\ngithub.com/cpuguy83/go-md2man v1.0.10/go.mod h1:SmD6nW6nTyfqj6ABTjUi3V3JVMnlJmwcJI5acqYI6dE=\ngithub.com/cupcake/rdb v0.0.0-20161107195141-43ba34106c76/go.mod h1:vYwsqCOLxGiisLwp9rITslkFNpZD5rz43tf41QFkTWY=\ngithub.com/davecgh/go-spew v1.1.0/go.mod h1:J7Y8YcW2NihsgmVo/mv3lAwl/skON4iLHjSsI+c5H38=\ngithub.com/davecgh/go-spew v1.1.1 h1:vj9j/u1bqnvCEfJOwUhtlOARqs3+rkHYY13jYWTU97c=\ngithub.com/davecgh/go-spew v1.1.1/go.mod h1:J7Y8YcW2NihsgmVo/mv3lAwl/skON4iLHjSsI+c5H38=\ngithub.com/dgrijalva/jwt-go v3.2.0+incompatible h1:7qlOGliEKZXTDg6OTjfoBKDXWrumCAMpl/TFQ4/5kLM=\ngithub.com/dgrijalva/jwt-go v3.2.0+incompatible/go.mod h1:E3ru+11k8xSBh+hMPgOLZmtrrCbhqsmaPHjLKYnJCaQ=\ngithub.com/disintegration/imaging v1.6.1 h1:JnBbK6ECIZb1NsWIikP9pd8gIlTIRx7fuDNpU9fsxOE=\ngithub.com/disintegration/imaging v1.6.1/go.mod h1:xuIt+sRxDFrHS0drzXUlCJthkJ8k7lkkUojDSR247MQ=\ngithub.com/edsrzf/mmap-go v0.0.0-20170320065105-0bce6a688712/go.mod h1:YO35OhQPt3KJa3ryjFM5Bs14WD66h8eGKpfaBNrHW5M=\ngithub.com/elazarl/go-bindata-assetfs v1.0.0 h1:G/bYguwHIzWq9ZoyUQqrjTmJbbYn3j3CKKpKinvZLFk=\ngithub.com/elazarl/go-bindata-assetfs v1.0.0/go.mod h1:v+YaWX3bdea5J/mo8dSETolEo7R71Vk1u8bnjau5yw4=\ngithub.com/fsnotify/fsnotify v1.4.7/go.mod h1:jwhsz4b93w/PPRr/qN1Yymfu8t87LnFCMoQvtojpjFo=\ngithub.com/gin-contrib/cors v1.3.0/go.mod h1:artPvLlhkF7oG06nK8v3U8TNz6IeX+w1uzCSEId5/Vc=\ngithub.com/gin-contrib/gzip v0.0.1/go.mod h1:fGBJBCdt6qCZuCAOwWuFhBB4OOq9EFqlo5dEaFhhu5w=\ngithub.com/gin-contrib/sse v0.0.0-20170109093832-22d885f9ecc7/go.mod h1:VJ0WA2NBN22VlZ2dKZQPAPnyWw5XTlK1KymzLKsr59s=\ngithub.com/gin-contrib/sse v0.0.0-20190301062529-5545eab6dad3/go.mod h1:VJ0WA2NBN22VlZ2dKZQPAPnyWw5XTlK1KymzLKsr59s=\ngithub.com/gin-gonic/gin v1.3.0/go.mod h1:7cKuhb5qV2ggCFctp2fJQ+ErvciLZrIeoOSOm6mUr7Y=\ngithub.com/gin-gonic/gin v1.4.0/go.mod h1:OW2EZn3DO8Ln9oIKOvM++LBO+5UPHJJDH72/q/3rZdM=\ngithub.com/go-ego/cedar v0.10.2 h1:0AQkBNfHAzuUn306v0ydMXAawHoIdxiYwN1+2XvFySw=\ngithub.com/go-ego/cedar v0.10.2/go.mod h1:OlEbpcRpzwp69CoCXPJTmrOzELoGAmFDgW3hdWrHHc0=\ngithub.com/go-ego/gse v0.66.7 h1:p7NmtZ/eZ+CNfa3AAuXLRMpYn0GJlMatKzxSJKCkFU0=\ngithub.com/go-ego/gse v0.66.7/go.mod h1:AbOXXmI3rgUG/Rb3e9xtk6xDjSLj6KpBHoctONT58ns=\ngithub.com/go-redis/redis v6.14.2+incompatible/go.mod h1:NAIEuMOZ/fxfXJIrKDQDz8wamY7mA7PouImQ2Jvg6kA=\ngithub.com/go-sql-driver/mysql v1.4.1/go.mod h1:zAC/RDZ24gD3HViQzih4MyKcchzm+sOG5ZlKdlhCg5w=\ngithub.com/go-sql-driver/mysql v1.5.0 h1:ozyZYNQW3x3HtqT1jira07DN2PArx2v7/mN66gGcHOs=\ngithub.com/go-sql-driver/mysql v1.5.0/go.mod h1:DCzpHaOWr8IXmIStZouvnhqoel9Qv2LBy8hT2VhHyBg=\ngithub.com/gogo/protobuf v1.1.1/go.mod h1:r8qH/GZQm5c6nD/R0oafs1akxWv10x8SbQlK7atdtwQ=\ngithub.com/golang/freetype v0.0.0-20170609003504-e2365dfdc4a0 h1:DACJavvAHhabrF08vX0COfcOBJRhZ8lUbR+ZWIs0Y5g=\ngithub.com/golang/freetype v0.0.0-20170609003504-e2365dfdc4a0/go.mod h1:E/TSTwGwJL78qG/PmXZO1EjYhfJinVAhrmmHX6Z8B9k=\ngithub.com/golang/protobuf v1.2.0/go.mod h1:6lQm79b+lXiMfvg/cZm0SGofjICqVBUtrP5yJMmIC1U=\ngithub.com/golang/protobuf v1.3.1/go.mod h1:6lQm79b+lXiMfvg/cZm0SGofjICqVBUtrP5yJMmIC1U=\ngithub.com/golang/snappy v0.0.0-20180518054509-2e65f85255db/go.mod h1:/XxbfmMg8lxefKM7IXC3fBNl/7bRcc72aCRzEWrmP2Q=\ngithub.com/gomodule/redigo v2.0.0+incompatible/go.mod h1:B4C85qUVwatsJoIUNIfCRsp7qO0iAmpGFZ4EELWSbC4=\ngithub.com/gopherjs/gopherjs v0.0.0-20181017120253-0766667cb4d1/go.mod h1:wJfORRmW1u3UXTncJ5qlYoELFm8eSnnEO6hX4iZ3EWY=\ngithub.com/gopherjs/gopherjs v0.0.0-20181103185306-d547d1d9531e h1:JKmoR8x90Iww1ks85zJ1lfDGgIiMDuIptTOhJq+zKyg=\ngithub.com/gopherjs/gopherjs v0.0.0-20181103185306-d547d1d9531e/go.mod h1:wJfORRmW1u3UXTncJ5qlYoELFm8eSnnEO6hX4iZ3EWY=\ngithub.com/hashicorp/go-version v1.6.0 h1:feTTfFNnjP967rlCxM/I9g701jU+RN74YKx2mOkIeek=\ngithub.com/hashicorp/go-version v1.6.0/go.mod h1:fltr4n8CU8Ke44wwGCBoEymUuxUHl09ZGVZPK5anwXA=\ngithub.com/hashicorp/hcl v1.0.0/go.mod h1:E5yfLk+7swimpb2L/Alb/PJmXilQ/rhwaUYs4T20WEQ=\ngithub.com/inconshreveable/mousetrap v1.0.0/go.mod h1:PxqpIevigyE2G7u3NXJIT2ANytuPF1OarO4DADm73n8=\ngithub.com/json-iterator/go v1.1.5/go.mod h1:+SdeFBvtyEkXs7REEP0seUULqWtbJapLOCVDaaPEHmU=\ngithub.com/json-iterator/go v1.1.6/go.mod h1:+SdeFBvtyEkXs7REEP0seUULqWtbJapLOCVDaaPEHmU=\ngithub.com/jtolds/gls v4.2.1+incompatible/go.mod h1:QJZ7F/aHp+rZTRtaJ1ow/lLfFfVYBRgL+9YlvaHOwJU=\ngithub.com/jtolds/gls v4.20.0+incompatible h1:xdiiI2gbIgH/gLH7ADydsJ1uDOEzR8yvV7C0MuV77Wo=\ngithub.com/jtolds/gls v4.20.0+incompatible/go.mod h1:QJZ7F/aHp+rZTRtaJ1ow/lLfFfVYBRgL+9YlvaHOwJU=\ngithub.com/kardianos/service v1.0.0 h1:HgQS3mFfOlyntWX8Oke98JcJLqt1DBcHR4kxShpYef0=\ngithub.com/kardianos/service v1.0.0/go.mod h1:8CzDhVuCuugtsHyZoTvsOBuvonN/UDBvl0kH+BUxvbo=\ngithub.com/kr/pretty v0.1.0 h1:L/CwN0zerZDmRFUapSPitk6f+Q3+0za1rQkzVuMiMFI=\ngithub.com/kr/pretty v0.1.0/go.mod h1:dAy3ld7l9f0ibDNOQOHHMYYIIbhfbHSm3C4ZsoJORNo=\ngithub.com/kr/pty v1.1.1/go.mod h1:pFQYn66WHrOpPYNljwOMqo10TkYh1fy3cYio2l3bCsQ=\ngithub.com/kr/text v0.1.0 h1:45sCR5RtlFHMR4UwH9sdQ5TC8v0qDQCHnXt+kaKSTVE=\ngithub.com/kr/text v0.1.0/go.mod h1:4Jbv+DJW3UT/LiOwJeYQe1efqtUx/iVham/4vfdArNI=\ngithub.com/lib/pq v1.0.0 h1:X5PMW56eZitiTeO7tKzZxFCSpbFZJtkMMooicw2us9A=\ngithub.com/lib/pq v1.0.0/go.mod h1:5WUZQaWbwv1U+lTReE5YruASi9Al49XbQIvNi/34Woo=\ngithub.com/lifei6671/gocaptcha v0.0.0-20190301083731-c467a25bc100 h1:DkXBDLKHcTtca65BA9tZoFdWMZ9YJtNm5YyC36tKX2U=\ngithub.com/lifei6671/gocaptcha v0.0.0-20190301083731-c467a25bc100/go.mod h1:jEGhhJ8Op4YifySgvIySNtK5vxJta0V8nwwu+1uoVmE=\ngithub.com/magiconair/properties v1.8.0/go.mod h1:PppfXfuXeibc/6YijjN8zIbojt8czPbwD3XqdrwzmxQ=\ngithub.com/mattn/go-isatty v0.0.4/go.mod h1:M+lRXTBqGeGNdLjl/ufCoiOlB5xdOkqRJdNxMWT7Zi4=\ngithub.com/mattn/go-isatty v0.0.7/go.mod h1:Iq45c/XA43vh69/j3iqttzPXn0bhXyGjM0Hdxcsrc5s=\ngithub.com/mattn/go-sqlite3 v1.10.0 h1:jbhqpg7tQe4SupckyijYiy0mJJ/pRyHvXf7JdWK860o=\ngithub.com/mattn/go-sqlite3 v1.10.0/go.mod h1:FPy6KqzDD04eiIsT53CuJW3U88zkxoIYsOqkbpncsNc=\ngithub.com/mitchellh/go-homedir v1.1.0/go.mod h1:SfyaCUpYCn1Vlf4IUYiD9fPX4A5wJrkLzIz1N1q0pr0=\ngithub.com/mitchellh/mapstructure v1.1.2/go.mod h1:FVVH3fgwuzCH5S8UJGiWEs2h04kUh9fWfEaFds41c1Y=\ngithub.com/modern-go/concurrent v0.0.0-20180306012644-bacd9c7ef1dd/go.mod h1:6dJC0mAP4ikYIbvyc7fijjWJddQyLn8Ig3JB5CqoB9Q=\ngithub.com/modern-go/reflect2 v1.0.1/go.mod h1:bx2lNnkwVCuqBIxFjflWJWanXIb3RllmbCylyMrvgv0=\ngithub.com/mssola/user_agent v0.5.0 h1:gRF7/x8cKt8qzAosYGsBNyirta+F8fvYDlJrgXws9AQ=\ngithub.com/mssola/user_agent v0.5.0/go.mod h1:UFiKPVaShrJGW93n4uo8dpPdg1BSVpw2P9bneo0Mtp8=\ngithub.com/nfnt/resize v0.0.0-20180221191011-83c6a9932646 h1:zYyBkD/k9seD2A7fsi6Oo2LfFZAehjjQMERAvZLEDnQ=\ngithub.com/nfnt/resize v0.0.0-20180221191011-83c6a9932646/go.mod h1:jpp1/29i3P1S/RLdc7JQKbRpFeM1dOBd8T9ki5s+AY8=\ngithub.com/pelletier/go-toml v1.2.0/go.mod h1:5z9KED0ma1S8pY6P1sdut58dfprrGBbd/94hg7ilaic=\ngithub.com/pkg/errors v0.8.0/go.mod h1:bwawxfHBFNV+L2hUp1rHADufV3IMtnDRdf1r5NINEl0=\ngithub.com/pmezard/go-difflib v1.0.0 h1:4DBwDE0NGyQoBHbLQYPwSUPoCMWR5BEzIk/f1lZbAQM=\ngithub.com/pmezard/go-difflib v1.0.0/go.mod h1:iKH77koFhYxTK1pcRnkKkqfTogsbg7gZNVY4sRDYZ/4=\ngithub.com/russross/blackfriday v1.5.2/go.mod h1:JO/DiYxRf+HjHt06OyowR9PTA263kcR/rfWxYHBV53g=\ngithub.com/russross/blackfriday v2.0.0+incompatible h1:cBXrhZNUf9C+La9/YpS+UHpUT8YD6Td9ZMSU9APFcsk=\ngithub.com/russross/blackfriday v2.0.0+incompatible/go.mod h1:JO/DiYxRf+HjHt06OyowR9PTA263kcR/rfWxYHBV53g=\ngithub.com/saintfish/chardet v0.0.0-20120816061221-3af4cd4741ca h1:NugYot0LIVPxTvN8n+Kvkn6TrbMyxQiuvKdEwFdR9vI=\ngithub.com/saintfish/chardet v0.0.0-20120816061221-3af4cd4741ca/go.mod h1:uugorj2VCxiV1x+LzaIdVa9b4S4qGAcH6cbhh4qVxOU=\ngithub.com/satori/go.uuid v1.2.0 h1:0uYX9dsZ2yD7q2RtLRtPSdGDWzjeM3TbMJP9utgA0ww=\ngithub.com/satori/go.uuid v1.2.0/go.mod h1:dA0hQrYB0VpLJoorglMZABFdXlWrHn1NEOzdhQKdks0=\ngithub.com/shiena/ansicolor v0.0.0-20200904210342-c7312218db18 h1:DAYUYH5869yV94zvCES9F51oYtN5oGlwjxJJz7ZCnik=\ngithub.com/shiena/ansicolor v0.0.0-20200904210342-c7312218db18/go.mod h1:nkxAfR/5quYxwPZhyDxgasBMnRtBZd0FCEpawpjMUFg=\ngithub.com/shurcooL/sanitized_anchor_name v1.0.0 h1:PdmoCO6wvbs+7yrJyMORt4/BmY5IYyJwS/kOiWx8mHo=\ngithub.com/shurcooL/sanitized_anchor_name v1.0.0/go.mod h1:1NzhyTcUVG4SuEtjjoZeVRXNmyL/1OwPU0+IJeTBvfc=\ngithub.com/siddontang/go v0.0.0-20180604090527-bdc77568d726/go.mod h1:3yhqj7WBBfRhbBlzyOC3gUxftwsU0u8gqevxwIHQpMw=\ngithub.com/siddontang/ledisdb v0.0.0-20181029004158-becf5f38d373/go.mod h1:mF1DpOSOUiJRMR+FDqaqu3EBqrybQtrDDszLUZ6oxPg=\ngithub.com/siddontang/rdb v0.0.0-20150307021120-fc89ed2e418d/go.mod h1:AMEsy7v5z92TR1JKMkLLoaOQk++LVnOKL3ScbJ8GNGA=\ngithub.com/smartystreets/assertions v0.0.0-20180927180507-b2de0cb4f26d/go.mod h1:OnSkiWE9lh6wB0YB77sQom3nweQdgAjqCqsofrRNTgc=\ngithub.com/smartystreets/assertions v0.0.0-20190116191733-b6c0e53d7304 h1:Jpy1PXuP99tXNrhbq2BaPz9B+jNAvH1JPQQpG/9GCXY=\ngithub.com/smartystreets/assertions v0.0.0-20190116191733-b6c0e53d7304/go.mod h1:OnSkiWE9lh6wB0YB77sQom3nweQdgAjqCqsofrRNTgc=\ngithub.com/smartystreets/goconvey v0.0.0-20181108003508-044398e4856c/go.mod h1:XDJAKZRPZ1CvBcN2aX5YOUTYGHki24fSF0Iv48Ibg0s=\ngithub.com/smartystreets/goconvey v1.6.4 h1:fv0U8FUIMPNf1L9lnHLvLhgicrIVChEkdzIKYqbNC9s=\ngithub.com/smartystreets/goconvey v1.6.4/go.mod h1:syvi0/a8iFYH4r/RixwvyeAJjdLS9QV7WQ/tjFTllLA=\ngithub.com/spf13/afero v1.1.2/go.mod h1:j4pytiNVoe2o6bmDsKpLACNPDBIoEAkihy7loJ1B0CQ=\ngithub.com/spf13/cast v1.3.0/go.mod h1:Qx5cxh0v+4UWYiBimWS+eyWzqEqokIECu5etghLkUJE=\ngithub.com/spf13/cobra v0.0.5/go.mod h1:3K3wKZymM7VvHMDS9+Akkh4K60UwM26emMESw8tLCHU=\ngithub.com/spf13/jwalterweatherman v1.0.0/go.mod h1:cQK4TGJAtQXfYWX+Ddv3mKDzgVb68N+wFjFa4jdeBTo=\ngithub.com/spf13/pflag v1.0.3/go.mod h1:DYY7MBk1bdzusC3SYhjObp+wFpr4gzcvqqNjLnInEg4=\ngithub.com/spf13/viper v1.3.2/go.mod h1:ZiWeW+zYFKm7srdB9IoDzzZXaJaI5eL9QjNiN/DMA2s=\ngithub.com/ssdb/gossdb v0.0.0-20180723034631-88f6b59b84ec/go.mod h1:QBvMkMya+gXctz3kmljlUCu/yB3GZ6oee+dUozsezQE=\ngithub.com/stretchr/objx v0.1.0/go.mod h1:HFkY916IF+rwdDfMAkV7OtwuqBVzrE8GR6GFx+wExME=\ngithub.com/stretchr/testify v1.2.2/go.mod h1:a8OnRcib4nhh0OaRAV+Yts87kKdq0PP7pXfy6kDkUVs=\ngithub.com/stretchr/testify v1.3.0/go.mod h1:M5WIy9Dh21IEIfnGCwXGc5bZfKNJtfHm1UVUgZn+9EI=\ngithub.com/stretchr/testify v1.6.1 h1:hDPOHmpOpP40lSULcqw7IrRb/u7w6RpDC9399XyoNd0=\ngithub.com/stretchr/testify v1.6.1/go.mod h1:6Fq8oRcR53rry900zMqJjRRixrwX3KX962/h/Wwjteg=\ngithub.com/syndtr/goleveldb v0.0.0-20181127023241-353a9fca669c/go.mod h1:Z4AUp2Km+PwemOoO/VB5AOx9XSsIItzFjoJlOSiYmn0=\ngithub.com/ugorji/go v1.1.4/go.mod h1:uQMGLiO92mf5W77hV/PUCpI3pbzQx3CRekS0kk+RGrc=\ngithub.com/ugorji/go v1.1.7/go.mod h1:kZn38zHttfInRq0xu/PH0az30d+z6vm202qpg1oXVMw=\ngithub.com/ugorji/go/codec v0.0.0-20181022190402-e5e69e061d4f/go.mod h1:VFNgLljTbGfSG7qAOspJ7OScBnGdDN/yBr0sguwnwf0=\ngithub.com/ugorji/go/codec v1.1.7/go.mod h1:Ax+UKWsSmolVDwsd+7N3ZtXu+yMGCf907BLYF3GoBXY=\ngithub.com/unknwon/com v1.0.1 h1:3d1LTxD+Lnf3soQiD4Cp/0BRB+Rsa/+RTvz8GMMzIXs=\ngithub.com/unknwon/com v1.0.1/go.mod h1:tOOxU81rwgoCLoOVVPHb6T/wt8HZygqH5id+GNnlCXM=\ngithub.com/vcaesar/tt v0.11.0 h1:obQecjgbnAxxC6OYGY6yDvhGRW2PR5wD8Ma2uJH3WGA=\ngithub.com/vcaesar/tt v0.11.0/go.mod h1:GHPxQYhn+7OgKakRusH7KJ0M5MhywoeLb8Fcffs/Gtg=\ngithub.com/wendal/errors v0.0.0-20130201093226-f66c77a7882b/go.mod h1:Q12BUT7DqIlHRmgv3RskH+UCM/4eqVMgI0EMmlSpAXc=\ngithub.com/xordataexchange/crypt v0.0.3-0.20170626215501-b2862e3d0a77/go.mod h1:aYKd//L2LvnjZzWKhF00oedf4jCCReLcmhLdhm1A27Q=\ngolang.org/x/crypto v0.0.0-20181127143415-eb0de9b17e85/go.mod h1:6SG95UA2DQfeDnfUPMdvaQW0Q7yPrPDi9nlGo2tz2b4=\ngolang.org/x/crypto v0.0.0-20181203042331-505ab145d0a9/go.mod h1:6SG95UA2DQfeDnfUPMdvaQW0Q7yPrPDi9nlGo2tz2b4=\ngolang.org/x/crypto v0.0.0-20190308221718-c2843e01d9a2/go.mod h1:djNgcEr1/C05ACkg1iLfiJU5Ep61QUkGW8qpdssI0+w=\ngolang.org/x/crypto v0.0.0-20201221181555-eec23a3978ad h1:DN0cp81fZ3njFcrLCytUHRSUkqBjfTo4Tx9RJTWs0EY=\ngolang.org/x/crypto v0.0.0-20201221181555-eec23a3978ad/go.mod h1:jdWPYTVW3xRLrWPugEBEK3UY2ZEsg3UU495nc5E+M+I=\ngolang.org/x/image v0.0.0-20180708004352-c73c2afc3b81/go.mod h1:ux5Hcp/YLpHSI86hEcLt0YII63i6oz57MZXIpbrjZUs=\ngolang.org/x/image v0.0.0-20190227222117-0694c2d4d067/go.mod h1:kZ7UVZpmo3dzQBMxlp+ypCbDeSB+sBbTgSJuh5dn5js=\ngolang.org/x/image v0.0.0-20190802002840-cff245a6509b h1:+qEpEAPhDZ1o0x3tHzZTQDArnOixOzGD9HUJfcg0mb4=\ngolang.org/x/image v0.0.0-20190802002840-cff245a6509b/go.mod h1:FeLwcggjj3mMvU+oOTbSwawSJRM1uh48EjtB4UJZlP0=\ngolang.org/x/net v0.0.0-20180218175443-cbe0f9307d01/go.mod h1:mL1N/T3taQHkDXs73rZJwtUhF3w3ftmwwsq0BUmARs4=\ngolang.org/x/net v0.0.0-20181114220301-adae6a3d119a/go.mod h1:mL1N/T3taQHkDXs73rZJwtUhF3w3ftmwwsq0BUmARs4=\ngolang.org/x/net v0.0.0-20181220203305-927f97764cc3/go.mod h1:mL1N/T3taQHkDXs73rZJwtUhF3w3ftmwwsq0BUmARs4=\ngolang.org/x/net v0.0.0-20190311183353-d8887717615a/go.mod h1:t9HGtf8HONx5eT2rtn7q6eTqICYqUVnKs3thJo3Qplg=\ngolang.org/x/net v0.0.0-20190404232315-eb5bcb51f2a3/go.mod h1:t9HGtf8HONx5eT2rtn7q6eTqICYqUVnKs3thJo3Qplg=\ngolang.org/x/net v0.0.0-20190503192946-f4e77d36d62c/go.mod h1:t9HGtf8HONx5eT2rtn7q6eTqICYqUVnKs3thJo3Qplg=\ngolang.org/x/net v0.0.0-20191002035440-2ec189313ef0/go.mod h1:z5CRVTTTmAJ677TzLLGU+0bjPO0LkuOLi4/5GtJWs/s=\ngolang.org/x/net v0.0.0-20200202094626-16171245cfb2/go.mod h1:z5CRVTTTmAJ677TzLLGU+0bjPO0LkuOLi4/5GtJWs/s=\ngolang.org/x/net v0.0.0-20201224014010-6772e930b67b h1:iFwSg7t5GZmB/Q5TjiEAsdoLDrdJRC1RiF2WhuV29Qw=\ngolang.org/x/net v0.0.0-20201224014010-6772e930b67b/go.mod h1:m0MpNAwzfU5UDzcl9v0D8zg8gWTRqZa9RBIspLL5mdg=\ngolang.org/x/sync v0.0.0-20181221193216-37e7f081c4d4/go.mod h1:RxMgew5VJxzue5/jJTE5uejpjVlOe/izrB70Jof72aM=\ngolang.org/x/sys v0.0.0-20181205085412-a5c9d58dba9a/go.mod h1:STP8DvDyc/dI5b8T5hshtkjS+E42TnysNCUPdjciGhY=\ngolang.org/x/sys v0.0.0-20181228144115-9a3f9b0469bb/go.mod h1:STP8DvDyc/dI5b8T5hshtkjS+E42TnysNCUPdjciGhY=\ngolang.org/x/sys v0.0.0-20190204203706-41f3e6584952/go.mod h1:STP8DvDyc/dI5b8T5hshtkjS+E42TnysNCUPdjciGhY=\ngolang.org/x/sys v0.0.0-20190215142949-d0b11bdaac8a/go.mod h1:STP8DvDyc/dI5b8T5hshtkjS+E42TnysNCUPdjciGhY=\ngolang.org/x/sys v0.0.0-20190222072716-a9d3bda3a223/go.mod h1:STP8DvDyc/dI5b8T5hshtkjS+E42TnysNCUPdjciGhY=\ngolang.org/x/sys v0.0.0-20190507160741-ecd444e8653b/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=\ngolang.org/x/sys v0.0.0-20191026070338-33540a1f6037/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=\ngolang.org/x/sys v0.0.0-20201119102817-f84b799fce68/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=\ngolang.org/x/sys v0.0.0-20201223074533-0d417f636930 h1:vRgIt+nup/B/BwIS0g2oC0haq0iqbV3ZA+u6+0TlNCo=\ngolang.org/x/sys v0.0.0-20201223074533-0d417f636930/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=\ngolang.org/x/term v0.0.0-20201117132131-f5c789dd3221/go.mod h1:Nr5EML6q2oocZ2LXRh80K7BxOlk5/8JxuGnuhpl+muw=\ngolang.org/x/term v0.0.0-20201126162022-7de9c90e9dd1/go.mod h1:bj7SfCRtBDWHUb9snDiAeCFNEtKQo2Wmx5Cou7ajbmo=\ngolang.org/x/text v0.3.0/go.mod h1:NqM8EUOU14njkJ3fqMW+pc6Ldnwhi/IjpwHt7yyuwOQ=\ngolang.org/x/text v0.3.3/go.mod h1:5Zoc/QRtKVWzQhOtBMvqHzDpF6irO9z98xDceosuGiQ=\ngolang.org/x/text v0.3.7 h1:olpwvP2KacW1ZWvsR7uQhoyTYvKAupfQrRGBFM352Gk=\ngolang.org/x/text v0.3.7/go.mod h1:u+2+/6zg+i71rQMx5EYifcz6MCKuco9NR6JIITiCfzQ=\ngolang.org/x/time v0.0.0-20200416051211-89c76fbcd5d1 h1:NusfzzA6yGQ+ua51ck7E3omNUX/JuqbFSaRGqU8CcLI=\ngolang.org/x/time v0.0.0-20200416051211-89c76fbcd5d1/go.mod h1:tRJNPiyCQ0inRvYxbN9jk5I+vvW/OXSQhTDSoE431IQ=\ngolang.org/x/tools v0.0.0-20180917221912-90fa682c2a6e/go.mod h1:n7NCudcB/nEzxVGmLbDWY5pfWTLqBcC2KZ6jyYvM4mQ=\ngolang.org/x/tools v0.0.0-20190328211700-ab21143f2384/go.mod h1:LCzVGOaR6xXOjkQ3onu1FJEFr0SW1gC7cKk1uF8kGRs=\ngopkg.in/asn1-ber.v1 v1.0.0-20181015200546-f715ec2f112d h1:TxyelI5cVkbREznMhfzycHdkp5cLA7DpE+GKjSslYhM=\ngopkg.in/asn1-ber.v1 v1.0.0-20181015200546-f715ec2f112d/go.mod h1:cuepJuh7vyXfUyUwEgHQXw849cJrilpS5NeIjOWESAw=\ngopkg.in/check.v1 v0.0.0-20161208181325-20d25e280405/go.mod h1:Co6ibVJAznAaIkqp8huTwlJQCZ016jof/cbN4VW5Yz0=\ngopkg.in/check.v1 v1.0.0-20180628173108-788fd7840127 h1:qIbj1fsPNlZgppZ+VLlY7N33q108Sa+fhmuc+sWQYwY=\ngopkg.in/check.v1 v1.0.0-20180628173108-788fd7840127/go.mod h1:Co6ibVJAznAaIkqp8huTwlJQCZ016jof/cbN4VW5Yz0=\ngopkg.in/go-playground/assert.v1 v1.2.1/go.mod h1:9RXL0bg/zibRAgZUYszZSwO/z8Y/a8bDuhia5mkpMnE=\ngopkg.in/go-playground/validator.v8 v8.18.2/go.mod h1:RX2a/7Ha8BgOhfk7j780h4/u/RRjR0eouCJSH80/M2Y=\ngopkg.in/ldap.v2 v2.5.1 h1:wiu0okdNfjlBzg6UWvd1Hn8Y+Ux17/u/4nlk4CQr6tU=\ngopkg.in/ldap.v2 v2.5.1/go.mod h1:oI0cpe/D7HRtBQl8aTg+ZmzFUAvu4lsv3eLXMLGFxWk=\ngopkg.in/yaml.v2 v2.2.1/go.mod h1:hI93XBmqTisBFMUTm0b8Fm+jr3Dg1NNxqwp+5A1VGuI=\ngopkg.in/yaml.v2 v2.2.2/go.mod h1:hI93XBmqTisBFMUTm0b8Fm+jr3Dg1NNxqwp+5A1VGuI=\ngopkg.in/yaml.v2 v2.4.0 h1:D8xgwECY7CYvx+Y2n4sBz93Jn9JRvxdiyyo8CTfuKaY=\ngopkg.in/yaml.v2 v2.4.0/go.mod h1:RDklbk79AGWmwhnvt/jBztapEOGDOx6ZbXqjP6csGnQ=\ngopkg.in/yaml.v3 v3.0.0-20200313102051-9f266ea9e77c h1:dUUwHk2QECo/6vqA44rthZ8ie2QXMNeKRTHCNY2nXvo=\ngopkg.in/yaml.v3 v3.0.0-20200313102051-9f266ea9e77c/go.mod h1:K4uyk7z7BCEPqu6E+C64Yfv1cQ7kz7rIZviUmN+EgEM=\n"
        },
        {
          "name": "graphics",
          "type": "tree",
          "content": null
        },
        {
          "name": "main.go",
          "type": "blob",
          "size": 0.90234375,
          "content": "package main\n\nimport (\n\t\"fmt\"\n\t\"os\"\n\n\t\"github.com/TruthHun/BookStack/utils\"\n\t\"github.com/astaxie/beego\"\n\n\t\"github.com/TruthHun/BookStack/commands\"\n\t\"github.com/TruthHun/BookStack/commands/daemon\"\n\t_ \"github.com/TruthHun/BookStack/routers\"\n\t_ \"github.com/go-sql-driver/mysql\"\n\t\"github.com/kardianos/service\"\n)\n\nfunc main() {\n\t// https://beego.me/docs/mvc/controller/config.md#app-%E9%85%8D%E7%BD%AE\n\tbeego.BConfig.MaxMemory = 1 << 26 * 1024 // 设置最大内存，64GB\n\tif len(os.Args) >= 3 && os.Args[1] == \"service\" {\n\t\tif os.Args[2] == \"install\" {\n\t\t\tdaemon.Install()\n\t\t} else if os.Args[2] == \"remove\" {\n\t\t\tdaemon.Uninstall()\n\t\t} else if os.Args[2] == \"restart\" {\n\t\t\tdaemon.Restart()\n\t\t}\n\t}\n\tcommands.RegisterCommand()\n\n\td := daemon.NewDaemon()\n\n\ts, err := service.New(d, d.Config())\n\n\tif err != nil {\n\t\tfmt.Println(\"Create service error => \", err)\n\t\tos.Exit(1)\n\t}\n\tutils.PrintInfo()\n\tutils.InitVirtualRoot()\n\ts.Run()\n}\n"
        },
        {
          "name": "models",
          "type": "tree",
          "content": null
        },
        {
          "name": "oauth",
          "type": "tree",
          "content": null
        },
        {
          "name": "package.json",
          "type": "blob",
          "size": 0.1396484375,
          "content": "{\n  \"name\": \"bookstack\",\n  \"version\": \"1.0.0\",\n  \"description\": \"puppeteer 依赖处理\",\n  \"dependencies\": {\n    \"puppeteer\": \"^22.8.0\"\n  }\n}\n"
        },
        {
          "name": "routers",
          "type": "tree",
          "content": null
        },
        {
          "name": "static",
          "type": "tree",
          "content": null
        },
        {
          "name": "utils",
          "type": "tree",
          "content": null
        },
        {
          "name": "views",
          "type": "tree",
          "content": null
        }
      ]
    }
  ]
}