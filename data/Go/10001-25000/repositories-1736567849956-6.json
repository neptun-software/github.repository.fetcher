{
  "metadata": {
    "timestamp": 1736567849956,
    "page": 6,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjEw",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "containers/podman",
      "stars": 24415,
      "defaultBranch": "main",
      "files": [
        {
          "name": ".cirrus.yml",
          "type": "blob",
          "size": 43.728515625,
          "content": "---\n\n# Main collection of env. vars to set for all tasks and scripts.\nenv:\n    ####\n    #### Global variables used for all tasks\n    ####\n    # Name of the ultimate destination branch for this CI run, PR or post-merge.\n    DEST_BRANCH: \"main\"\n    # Sane (default) value for GOPROXY and GOSUMDB.\n    GOPROXY: \"https://proxy.golang.org,direct\"\n    GOSUMDB: \"sum.golang.org\"\n    # Overrides default location (/tmp/cirrus) for repo clone\n    GOPATH: &gopath \"/var/tmp/go\"\n    GOCACHE: \"${GOPATH}/cache\"\n    GOSRC: &gosrc \"/var/tmp/go/src/github.com/containers/podman\"\n    CIRRUS_WORKING_DIR: *gosrc\n    # The default is 'sh' if unspecified\n    CIRRUS_SHELL: \"/bin/bash\"\n    # Save a little typing (path relative to $CIRRUS_WORKING_DIR)\n    SCRIPT_BASE: \"./contrib/cirrus\"\n    # Runner statistics log file path/name\n    STATS_LOGFILE_SFX: 'runner_stats.log'\n    STATS_LOGFILE: '$GOSRC/${CIRRUS_TASK_NAME}-${STATS_LOGFILE_SFX}'\n\n    ####\n    #### Cache-image names to test with (double-quotes around names are critical)\n    ####\n    FEDORA_NAME: \"fedora-41\"\n    FEDORA_AARCH64_NAME: \"${FEDORA_NAME}-aarch64\"\n    PRIOR_FEDORA_NAME: \"fedora-40\"\n    RAWHIDE_NAME: \"rawhide\"\n    DEBIAN_NAME: \"debian-13\"\n\n    # Image identifiers\n    IMAGE_SUFFIX: \"c20250107t132430z-f41f40d13\"\n\n    # EC2 images\n    FEDORA_AMI: \"fedora-aws-${IMAGE_SUFFIX}\"\n    FEDORA_AARCH64_AMI: \"fedora-podman-aws-arm64-${IMAGE_SUFFIX}\"\n    # GCP Images\n    FEDORA_CACHE_IMAGE_NAME: \"fedora-${IMAGE_SUFFIX}\"\n    PRIOR_FEDORA_CACHE_IMAGE_NAME: \"prior-fedora-${IMAGE_SUFFIX}\"\n    RAWHIDE_CACHE_IMAGE_NAME: \"rawhide-${IMAGE_SUFFIX}\"\n    DEBIAN_CACHE_IMAGE_NAME: \"debian-${IMAGE_SUFFIX}\"\n    # Container FQIN's\n    FEDORA_CONTAINER_FQIN: \"quay.io/libpod/fedora_podman:${IMAGE_SUFFIX}\"\n    PRIOR_FEDORA_CONTAINER_FQIN: \"quay.io/libpod/prior-fedora_podman:${IMAGE_SUFFIX}\"\n    WINDOWS_AMI: \"win-server-wsl-${IMAGE_SUFFIX}\"\n    ####\n    #### Control variables that determine what to run and how to run it.\n    #### N/B: Required ALL of these are set for every single task.\n    ####\n    TEST_FLAVOR:             # int, sys, ext_svc, validate, automation, etc.\n    TEST_ENVIRON: host       # 'host', or 'container'.\n    PODBIN_NAME: podman      # 'podman' or 'remote'\n    PRIV_NAME: root          # 'root' or 'rootless'\n    DISTRO_NV:               # any {PRIOR_,}{FEDORA,DEBIAN}_NAME value\n    VM_IMAGE_NAME:           # One of the \"Google-cloud VM Images\" (above)\n    CTR_FQIN:                # One of the \"Container FQIN's\" (above)\n    CI_DESIRED_RUNTIME: crun    # As of 2024-05-28 there are no other supported runtimes\n    CI_DESIRED_DATABASE: sqlite # 'sqlite' or 'boltdb'\n    CI_DESIRED_STORAGE: overlay # overlay, vfs, or composefs (which is actually overlay)\n\n    # Curl-command prefix for downloading task artifacts, simply add the\n    # the url-encoded task name, artifact name, and path as a suffix.\n    ART_URL: https://api.cirrus-ci.com/v1/artifact/build/${CIRRUS_BUILD_ID}\n    ARTCURL: >-\n        curl --retry 5 --retry-delay 8 --fail --location -O\n        --url ${ART_URL}\n\n\n# Default timeout for each task\ntimeout_in: 20m\n\n\ngcp_credentials: ENCRYPTED[a28959877b2c9c36f151781b0a05407218cda646c7d047fc556e42f55e097e897ab63ee78369dae141dcf0b46a9d0cdd]\n\naws_credentials: ENCRYPTED[4ca070bffe28eb9b27d63c568b52970dd46f119c3a83b8e443241e895dbf1737580b4d84eed27a311a2b74287ef9f79f]\n\n\nvalidate-source_task:\n    name: \"Validate source code changes\"\n    alias: validate-source\n    # This task is primarily intended to catch human-errors early on, in a\n    # PR context.  Skip running it everywhere else.\n    only_if: &is_pr \"$CIRRUS_PR != ''\"\n    gce_instance:\n        image_project: libpod-218412\n        zone: \"us-central1-a\"\n        # golangci-lint is a very, very hungry beast.\n        cpu: 8\n        memory: \"16Gb\"\n        # Required to be 200gig, do not modify - has i/o performance impact\n        # according to gcloud CLI tool warning messages.\n        disk: 200\n        image_name: \"${FEDORA_CACHE_IMAGE_NAME}\"  # from stdenvars\n    env:\n        TEST_FLAVOR: validate-source\n    # NOTE: The default way Cirrus-CI clones is *NOT* compatible with\n    #       environment expectations in contrib/cirrus/lib.sh.  Specifically\n    #       the 'origin' remote must be defined, and all remote branches/tags\n    #       must be available for reference from CI scripts.\n    clone_script: &full_clone |\n          set -exo pipefail\n          cd /\n          rm -rf $CIRRUS_WORKING_DIR\n          mkdir -p $CIRRUS_WORKING_DIR\n          git clone --recursive --branch=$DEST_BRANCH https://x-access-token:${CIRRUS_REPO_CLONE_TOKEN}@github.com/${CIRRUS_REPO_FULL_NAME}.git $CIRRUS_WORKING_DIR\n          cd $CIRRUS_WORKING_DIR\n          git remote update origin\n          if [[ -n \"$CIRRUS_PR\" ]]; then # running for a PR\n              git fetch origin pull/$CIRRUS_PR/head:pull/$CIRRUS_PR\n              git checkout pull/$CIRRUS_PR\n          else\n              git reset --hard $CIRRUS_CHANGE_IN_REPO\n          fi\n    # Standard setup stage call, used by nearly every task in CI.\n    setup_script: &setup '$GOSRC/$SCRIPT_BASE/setup_environment.sh'\n    # Standard main execution stage call, used by nearly every task in CI.\n    main_script: &main '/usr/bin/time --verbose --output=\"$STATS_LOGFILE\" $GOSRC/$SCRIPT_BASE/runner.sh'\n\n\n# N/B: This matrix of build tasks are critical to CI, along with the following\n# aarch64 task. They build binaries for all CI platforms, and versions. On\n# success, the contents of the repository are preserved as an artifact for\n# consumption by most subsequent CI tasks.  This saves about 3-5 minutes of\n# otherwise duplicative effort in most tasks.\nbuild_task:\n    alias: 'build'\n    name: 'Build for $DISTRO_NV' # N/B: Referenced by URLencoded strings elsewhere\n    gce_instance: &fastvm\n        image_project: libpod-218412\n        zone: \"us-central1-a\"\n        cpu: 4\n        memory: \"4Gb\"\n        # Required to be 200gig, do not modify - has i/o performance impact\n        # according to gcloud CLI tool warning messages.\n        disk: 200\n        image_name: \"${VM_IMAGE_NAME}\"  # from stdenvars\n    matrix: &platform_axis\n        # Ref: https://cirrus-ci.org/guide/writing-tasks/#matrix-modification\n        - env: &stdenvars\n              DISTRO_NV: ${FEDORA_NAME}\n              # Not used here, is used in other tasks\n              VM_IMAGE_NAME: ${FEDORA_CACHE_IMAGE_NAME}\n              CTR_FQIN: ${FEDORA_CONTAINER_FQIN}\n        - env:\n              DISTRO_NV: ${PRIOR_FEDORA_NAME}\n              VM_IMAGE_NAME: ${PRIOR_FEDORA_CACHE_IMAGE_NAME}\n              CTR_FQIN: ${PRIOR_FEDORA_CONTAINER_FQIN}\n              CI_DESIRED_DATABASE: boltdb\n              CI_DESIRED_STORAGE: vfs\n        - env:\n              <<: *stdenvars\n              DISTRO_NV: ${RAWHIDE_NAME}\n              VM_IMAGE_NAME: ${RAWHIDE_CACHE_IMAGE_NAME}\n              CI_DESIRED_STORAGE: composefs\n              CTR_FQIN: \"\"\n        - env:\n              DISTRO_NV: ${DEBIAN_NAME}\n              VM_IMAGE_NAME: ${DEBIAN_CACHE_IMAGE_NAME}\n    env:\n        TEST_FLAVOR: build\n    clone_script: *full_clone\n    # Attempt to prevent flakes by confirming basic environment expectations,\n    # network service connectivity and essential container image availability.\n    # TODO: Rename to \"ci-sanity\" and move into task that runs in parallel to build\n    prebuild_script: &prebuild $SCRIPT_BASE/prebuild.sh\n    setup_script: *setup\n    # Attempt to prevent flakes by confirming automation environment and\n    # all required external/3rd-party services are available and functional.\n    main_script: *main\n    # Attempt to catch code-quality and vendoring problems early.\n    postbuild_script: &postbuild $SCRIPT_BASE/postbuild.sh\n    # Cirrus-CI is very slow uploading one file at time, and the repo contains\n    # thousands of files.  Speed this up by archiving into tarball first.\n    repo_prep_script: &repo_prep >-\n        tar --zstd -cf /tmp/repo.tar.zst -C $GOSRC . && mv /tmp/repo.tar.zst $GOSRC/\n    repo_artifacts: &repo_artifacts\n        path: ./repo.tar.zst\n        type: application/octet-stream\n    always: &runner_stats\n        runner_stats_artifacts:\n            path: ./*-${STATS_LOGFILE_SFX}\n            type: text/plain\n\n\nbuild_aarch64_task:\n    alias: 'build_aarch64'\n    name: 'Build for $DISTRO_NV'\n    ec2_instance: &standard_build_ec2_aarch64\n        image: ${VM_IMAGE_NAME}\n        type: ${EC2_INST_TYPE}\n        region: us-east-1\n        architecture: arm64  # CAUTION: This has to be \"arm64\", not \"aarch64\".\n    env: &stdenvars_aarch64\n        EC2_INST_TYPE: \"t4g.xlarge\"\n        DISTRO_NV: ${FEDORA_AARCH64_NAME}\n        VM_IMAGE_NAME: ${FEDORA_AARCH64_AMI}\n        CTR_FQIN: ${FEDORA_CONTAINER_FQIN}\n        TEST_FLAVOR: build\n    clone_script: *full_clone\n    # TODO: Rename to \"ci-sanity\" and move into task that runs in parallel to build\n    prebuild_script: *prebuild\n    setup_script: *setup\n    postbuild_script: *postbuild\n    main_script: *main\n    # Cirrus-CI is very slow uploading one file at time, and the repo contains\n    # thousands of files.  Speed this up by archiving into tarball first.\n    repo_prep_script: *repo_prep\n    repo_artifacts: *repo_artifacts\n    always: *runner_stats\n\n\n# There are several other important variations of podman which\n# must always build successfully.  Most of them are handled in\n# this task, though a few need dedicated tasks which follow.\nalt_build_task:\n    name: \"$ALT_NAME\"\n    alias: alt_build\n    # Don't create task on rhel-release builds\n    # Docs: ./contrib/cirrus/CIModes.md\n    only_if: &no_rhel_release |\n        $CIRRUS_BRANCH !=~ 'v[0-9\\.]+-rhel' &&\n        $CIRRUS_BASE_BRANCH !=~ 'v[0-9\\.]+-rhel'\n    env:\n        <<: *stdenvars\n        TEST_FLAVOR: \"altbuild\"\n    gce_instance: *fastvm\n    matrix:\n      - env:\n            ALT_NAME: 'Build Each Commit'\n      - env:\n            # TODO: Replace with task using `winmake` to build\n            # binary and archive installation zip file.\n            ALT_NAME: 'Windows Cross' # N/B: Referenced by URLencoded strings elsewhere\n      - env:\n            ALT_NAME: 'Alt Arch. x86 Cross'\n      - env:\n            ALT_NAME: 'Alt Arch. ARM Cross'\n      - env:\n            ALT_NAME: 'Alt Arch. MIPS Cross'\n      - env:\n            ALT_NAME: 'Alt Arch. MIPS64 Cross'\n      - env:\n            ALT_NAME: 'Alt Arch. Other Cross'\n    # This task cannot make use of the shared repo.tar.zst artifact.\n    clone_script: *full_clone\n    setup_script: *setup\n    main_script: *main\n    # Produce a new repo.tar.zst artifact for consumption by 'artifacts' task.\n    repo_prep_script: *repo_prep\n    repo_artifacts: *repo_artifacts\n    always: *runner_stats\n\n\n# Confirm building the remote client, natively on a Mac OS-X VM.\nosx_alt_build_task:\n    name: \"Build for MacOS amd64+arm64\" # N/B: Referenced by URLencoded strings elsewhere\n    alias: osx_alt_build\n    # Docs: ./contrib/cirrus/CIModes.md\n    only_if: *no_rhel_release  # RHEL never releases podman mac installer binary\n    persistent_worker: &mac_pw\n        labels:\n            os: darwin\n            arch: arm64\n            purpose: prod\n    env: &mac_env\n        CIRRUS_SHELL: \"/bin/bash\"  # sh is the default\n        CIRRUS_WORKING_DIR: \"$HOME/ci/task-${CIRRUS_TASK_ID}\"  # Isolation: $HOME will be set to \"ci\" dir.\n        # Prevent cache-pollution fron one task to the next.\n        GOPATH: \"$CIRRUS_WORKING_DIR/.go\"\n        GOCACHE: \"$CIRRUS_WORKING_DIR/.go/cache\"\n        GOENV: \"$CIRRUS_WORKING_DIR/.go/support\"\n        GOSRC: \"$HOME/ci/task-${CIRRUS_TASK_ID}\"\n    clone_script: *full_clone\n    # This host is/was shared with potentially many other CI tasks.\n    # The previous task may have been canceled or aborted.\n    prep_script: &mac_cleanup \"contrib/cirrus/mac_cleanup.sh\"\n    lint_script:\n        - make golangci-lint\n    basic_build_script:\n        - make .install.ginkgo\n        - make podman-remote\n        - make podman-mac-helper\n    build_pkginstaller_script:\n        - pushd contrib/pkginstaller\n        - make ARCH=amd64 NO_CODESIGN=1 pkginstaller\n        - make ARCH=aarch64 NO_CODESIGN=1 pkginstaller\n        - make ARCH=universal NO_CODESIGN=1 pkginstaller\n        - popd\n    build_amd64_script:\n        - make podman-remote-release-darwin_amd64.zip\n    # Building arm podman needs to be the last thing built in this task\n    # The Mac tests rely this Podman binary to run, and the CI Mac is ARM-based\n    build_arm64_script:\n        - make podman-remote-release-darwin_arm64.zip\n    # Produce a new repo.tar.zst artifact for consumption by dependent tasks.\n    repo_prep_script: *repo_prep\n    repo_artifacts: *repo_artifacts\n    # This host is/was shared with potentially many other CI tasks.\n    # Ensure nothing is left running while waiting for the next task.\n    always:\n        task_cleanup_script: *mac_cleanup\n\n\n# Build freebsd release natively on a FreeBSD VM.\nfreebsd_alt_build_task:\n    name: \"FreeBSD Cross\"\n    alias: freebsd_alt_build\n    # Only run on 'main' and PRs against 'main'\n    # Docs: ./contrib/cirrus/CIModes.md\n    only_if: $CIRRUS_BRANCH == 'main' || $CIRRUS_BASE_BRANCH == 'main'\n    env:\n        <<: *stdenvars\n        # Functional FreeBSD builds must be built natively since they depend on CGO\n        DISTRO_NV: freebsd-13\n        VM_IMAGE_NAME: notyet\n        CTR_FQIN: notyet\n        CIRRUS_SHELL: \"/bin/sh\"\n        TEST_FLAVOR: \"altbuild\"\n        ALT_NAME: 'FreeBSD Cross'\n    freebsd_instance:\n        image_family: freebsd-13-3\n    setup_script:\n        - pkg install -y gpgme bash go-md2man gmake gsed gnugrep go pkgconf zstd\n    build_amd64_script:\n        - gmake podman-release\n    # This task cannot make use of the shared repo.tar.zst artifact and must\n    # produce a new repo.tar.zst artifact for consumption by 'artifacts' task.\n    repo_prep_script: *repo_prep\n    repo_artifacts: *repo_artifacts\n\n\n# Status aggregator for all builds.  This task simply makes dependency\n# management easier, and results in a simpler graph that using YAML\n# anchors/aliases.\nbuild_success_task:\n    name: \"Total Build Success\"\n    alias: build_success\n    depends_on:\n        - validate-source\n        - build\n        - build_aarch64\n        - alt_build\n        - osx_alt_build\n        - freebsd_alt_build\n    env:\n        CTR_FQIN: ${FEDORA_CONTAINER_FQIN}\n    container: &smallcontainer\n        image: ${CTR_FQIN}\n        # Resources are limited across ALL currently executing tasks\n        # ref: https://cirrus-ci.org/guide/linux/#linux-containers\n        cpu: 1\n        memory: 1\n    clone_script:  &noop mkdir -p \"$CIRRUS_WORKING_DIR\"\n    script: *noop\n\n\n# Exercise the \"libpod\" API with a small set of common\n# operations to ensure they are functional.\nbindings_task:\n    name: \"Test Bindings\"\n    alias: bindings\n    # Docs: ./contrib/cirrus/CIModes.md (Cirrus Task contexts and runtime modes)\n    # only when: - main rules (see doc above); or\n    #            - bindings test code is changed; or\n    #            - actual source code changed\n    only_if: >-\n        $CIRRUS_PR == '' ||\n        $CIRRUS_CHANGE_TITLE =~ '.*CI:ALL.*' ||\n        changesInclude('.cirrus.yml', 'Makefile', 'contrib/cirrus/**', 'vendor/**', 'test/tools/**', 'test/registries*.conf', 'hack/**', 'version/rawversion/*') ||\n        changesInclude('pkg/bindings/test/**') ||\n        (changesInclude('**/*.go', '**/*.c', '**/*.h') && !changesIncludeOnly('test/**', 'pkg/machine/e2e/**'))\n    depends_on: &build\n        - build_success\n    gce_instance: &standardvm\n      <<: *fastvm\n      cpu: 2\n    env:\n        <<: *stdenvars\n        TEST_FLAVOR: bindings\n    # N/B: This script depends on ${DISTRO_NV} being defined for the task.\n    clone_script: &get_gosrc |\n        cd /tmp\n        echo \"$ARTCURL/Build%20for%20${DISTRO_NV}/repo/repo.tar.zst\"\n        time $ARTCURL/Build%20for%20${DISTRO_NV}/repo/repo.tar.zst\n        time tar -xf /tmp/repo.tar.zst -C $GOSRC\n    setup_script: *setup\n    main_script: *main\n    always: &logs_artifacts\n        <<: *runner_stats\n        # Required for `contrib/cirrus/logformatter` to work properly\n        html_artifacts:\n            path: ./*.html\n            type: text/html\n        server_log_artifacts:\n            path: ./podman-server.log\n            type: text/plain\n        cleanup_tracer_artifacts:\n            path: ./podman-cleanup-tracer.log\n            type: text/plain\n        df_script: '$SCRIPT_BASE/logcollector.sh df'\n        audit_log_script: '$SCRIPT_BASE/logcollector.sh audit'\n        journal_script: '$SCRIPT_BASE/logcollector.sh journal'\n        podman_system_info_script: '$SCRIPT_BASE/logcollector.sh podman'\n        time_script: '$SCRIPT_BASE/logcollector.sh time'\n\n\n# Build the \"libpod\" API documentation `swagger.yaml` and\n# publish it to google-cloud-storage (GCS).\nswagger_task:\n    name: \"Test Swagger\"\n    alias: swagger\n    depends_on: *build\n    gce_instance: *standardvm\n    env:\n        <<: *stdenvars\n        TEST_FLAVOR: swagger\n        CTR_FQIN: 'quay.io/libpod/gcsupld:${IMAGE_SUFFIX}'\n        GCPJSON: ENCRYPTED[927dc01e755eaddb4242b0845cf86c9098d1e3dffac38c70aefb1487fd8b4fe6dd6ae627b3bffafaba70e2c63172664e]\n        GCPNAME: ENCRYPTED[c145e9c16b6fb88d476944a454bf4c1ccc84bb4ecaca73bdd28bdacef0dfa7959ebc8171a27b2e4064d66093b2cdba49]\n        GCPPROJECT: 'libpod-218412'\n    clone_script: *get_gosrc\n    setup_script: *setup\n    main_script: *main\n    always:\n        <<: *runner_stats\n        swagger_artifacts:\n            path: ./swagger.yaml\n            type: text/plain\n\n\nwin_installer_task:\n    name: \"Verify Win Installer Build\"\n    matrix:\n      - env:\n            CONTAINERS_MACHINE_PROVIDER: 'wsl'\n      - env:\n            CONTAINERS_MACHINE_PROVIDER: 'hyperv'\n    alias: win_installer\n    only_if: *no_rhel_release\n    depends_on: *build\n    ec2_instance: &windows\n        image: \"${WINDOWS_AMI}\"\n        type: m5.large\n        region: us-east-1\n        platform: windows\n    env: &winenv\n        CIRRUS_WORKING_DIR: &wincwd \"${LOCALAPPDATA}\\\\cirrus-ci-build\"\n        CIRRUS_SHELL: powershell\n        PATH: \"${PATH};C:\\\\ProgramData\\\\chocolatey\\\\bin\"\n        DISTRO_NV: \"windows\"\n        PRIV_NAME: \"rootless\"\n        # Fake version, we are only testing the installer functions, so version doesn't matter\n        WIN_INST_VER: 9.9.9\n    # It's HIGHLY desireable to use the same binary throughout CI.  Otherwise, if\n    # there's a toolchain or build-environment specific problem, it can be incredibly\n    # difficult (and non-obvious) to debug.\n    clone_script: &winclone |\n        $ErrorActionPreference = 'Stop'\n        $ProgressPreference = 'SilentlyContinue'\n        New-Item -ItemType Directory -Force -Path \"$ENV:CIRRUS_WORKING_DIR\"\n        Set-Location \"$ENV:CIRRUS_WORKING_DIR\"\n        $uri = \"${ENV:ART_URL}/Windows Cross/repo/repo.tar.zst\"\n        Write-Host \"Downloading $uri\"\n        For($i = 0;;) {\n            Try {\n                Invoke-WebRequest -UseBasicParsing -ErrorAction Stop -OutFile \"repo.tar.zst\" `\n                  -Uri \"$uri\"\n                Break\n            } Catch {\n                if (++$i -gt 6) {\n                    throw $_.Exception\n                }\n                Write-Host \"Download failed - retrying:\" $_.Exception.Response.StatusCode\n                Start-Sleep -Seconds 10\n            }\n        }\n        Write-Host \"zstd -d repo.tar.zst\"\n        zstd -d repo.tar.zst\n        if ($LASTEXITCODE -ne 0) {\n            throw \"Extract repo.tar.zst failed\"\n            Exit 1\n        }\n        Write-Host \"arc unarchive repo.tar .\\\"\n        arc unarchive repo.tar .\\repo\n        if ($LASTEXITCODE -ne 0) {\n            throw \"Unarchive repo.tar failed\"\n            Exit 1\n        }\n        Get-ChildItem -Path .\n        Get-ChildItem -Path .\\repo\n    main_script: \".\\\\repo\\\\contrib\\\\cirrus\\\\win-installer-main.ps1\"\n\n\n# Verify podman is compatible with the docker python-module.\ndocker-py_test_task:\n    name: Docker-py Compat.\n    alias: docker-py_test\n    # Docs: ./contrib/cirrus/CIModes.md (Cirrus Task contexts and runtime modes)\n    # only when: - main rules (see doc above); or\n    #            - docker-py test code is changed; or\n    #            - actual source code changed\n    only_if: >-\n        $CIRRUS_PR == '' ||\n        $CIRRUS_CHANGE_TITLE =~ '.*CI:ALL.*' ||\n        changesInclude('.cirrus.yml', 'Makefile', 'contrib/cirrus/**', 'vendor/**', 'test/tools/**', 'test/registries*.conf', 'hack/**', 'version/rawversion/*') ||\n        changesInclude('test/python/**') ||\n        (changesInclude('**/*.go', '**/*.c', '**/*.h') && !changesIncludeOnly('test/**', 'pkg/machine/e2e/**'))\n    depends_on: *build\n    gce_instance: *standardvm\n    env:\n        <<: *stdenvars\n        TEST_FLAVOR: docker-py\n        TEST_ENVIRON: container\n    clone_script: *get_gosrc\n    setup_script: *setup\n    main_script: *main\n    always: *runner_stats\n\n\n# Does exactly what it says, execute the podman unit-tests on Fedora.\nunit_test_task:\n    name: \"Unit tests on $DISTRO_NV\"\n    alias: unit_test\n    # Docs: ./contrib/cirrus/CIModes.md (Cirrus Task contexts and runtime modes)\n    # only when: - main rules (see doc above); or\n    #            - unit test files are changed (contains a false positves such as test/e2e/\n    #              but that should not be an issue, it only runs when it doesn't have to)\n    #            - actual source code changed\n    only_if: >-\n        $CIRRUS_PR == '' ||\n        $CIRRUS_CHANGE_TITLE =~ '.*CI:ALL.*' ||\n        changesInclude('.cirrus.yml', 'Makefile', 'contrib/cirrus/**', 'vendor/**', 'test/tools/**', 'test/registries*.conf', 'hack/**', 'version/rawversion/*') ||\n        changesInclude('**/*_test.go') ||\n        (changesInclude('**/*.go', '**/*.c', '**/*.h') && !changesIncludeOnly('test/**', 'pkg/machine/e2e/**'))\n    depends_on: *build\n    matrix:\n        - env: *stdenvars\n        # Special-case: Rootless on latest Fedora (standard) VM\n        - name: \"Rootless unit on $DISTRO_NV\"\n          env:\n              <<: *stdenvars\n              PRIV_NAME: rootless\n    gce_instance: *standardvm\n    env:\n        TEST_FLAVOR: unit\n    clone_script: *get_gosrc\n    setup_script: *setup\n    main_script: *main\n    always: *logs_artifacts\n\n\napiv2_test_task:\n    name: \"APIv2 test on $DISTRO_NV ($PRIV_NAME)\"\n    alias: apiv2_test\n    # Docs: ./contrib/cirrus/CIModes.md (Cirrus Task contexts and runtime modes)\n    # only when: - main rules (see doc above); or\n    #            - apiv2 test code is changed; or\n    #            - actual source code changed\n    only_if: >-\n        $CIRRUS_PR == '' ||\n        $CIRRUS_CHANGE_TITLE =~ '.*CI:ALL.*' ||\n        changesInclude('.cirrus.yml', 'Makefile', 'contrib/cirrus/**', 'vendor/**', 'test/tools/**', 'test/registries*.conf', 'hack/**', 'version/rawversion/*') ||\n        changesInclude('test/apiv2/**', 'test/python/**') ||\n        (changesInclude('**/*.go', '**/*.c', '**/*.h') && !changesIncludeOnly('test/**', 'pkg/machine/e2e/**'))\n    depends_on: *build\n    gce_instance: *standardvm\n    env:\n        <<: *stdenvars\n        TEST_FLAVOR: apiv2\n    matrix:\n      - env:\n          PRIV_NAME: root\n      - env:\n          PRIV_NAME: rootless\n    clone_script: *get_gosrc\n    setup_script: *setup\n    main_script: *main\n    always: *logs_artifacts\n\n\ncompose_test_task:\n    name: \"$TEST_FLAVOR test on $DISTRO_NV ($PRIV_NAME)\"\n    alias: compose_test\n    # Docs: ./contrib/cirrus/CIModes.md (Cirrus Task contexts and runtime modes)\n    # only when: - main rules (see doc above); or\n    #            - compose test code is changed; or\n    #            - actual source code changed\n    only_if: >-\n        $CIRRUS_PR == '' ||\n        $CIRRUS_CHANGE_TITLE =~ '.*CI:ALL.*' ||\n        changesInclude('.cirrus.yml', 'Makefile', 'contrib/cirrus/**', 'vendor/**', 'test/tools/**', 'test/registries*.conf', 'hack/**', 'version/rawversion/*') ||\n        changesInclude('test/compose/**') ||\n        (changesInclude('**/*.go', '**/*.c', '**/*.h') && !changesIncludeOnly('test/**', 'pkg/machine/e2e/**'))\n    depends_on: *build\n    gce_instance: *standardvm\n    matrix:\n      - env:\n            PRIV_NAME: root\n      - env:\n            PRIV_NAME: rootless\n    env:\n        <<: *stdenvars\n        TEST_FLAVOR: compose_v2\n    clone_script: *get_gosrc\n    setup_script: *setup\n    main_script: *main\n    always: *logs_artifacts\n\n\n# versions, as root, without involving the podman-remote client.\nlocal_integration_test_task: &local_integration_test_task\n    # Integration-test task name convention:\n    # <int.|sys.> <podman|remote> <Distro NV> <root|rootless>\n    name: &std_name_fmt \"$TEST_FLAVOR $PODBIN_NAME $DISTRO_NV $PRIV_NAME $TEST_ENVIRON ${CI_DESIRED_DATABASE}\"\n    alias: local_integration_test\n    # Docs: ./contrib/cirrus/CIModes.md (Cirrus Task contexts and runtime modes)\n    # only when: - main rules (see doc above); or\n    #            - int test code is changed; or\n    #            - actual source code changed\n    only_if: &only_if_int_test >-\n        $CIRRUS_PR == '' ||\n        $CIRRUS_CHANGE_TITLE =~ '.*CI:ALL.*' ||\n        changesInclude('.cirrus.yml', 'Makefile', 'contrib/cirrus/**', 'vendor/**', 'test/tools/**', 'test/registries*.conf', 'hack/**', 'version/rawversion/*') ||\n        changesInclude('test/e2e/**', 'test/utils/**') ||\n        (changesInclude('**/*.go', '**/*.c', '**/*.h') && !changesIncludeOnly('test/**', 'pkg/machine/e2e/**'))\n    depends_on: *build\n    matrix: *platform_axis\n    # integration tests scale well with cpu as they are parallelized\n    # so we give these tests 4 cores to make them faster\n    gce_instance: *fastvm\n    env:\n        TEST_FLAVOR: int\n    clone_script: *get_gosrc\n    setup_script: *setup\n    main_script: *main\n    always: &int_logs_artifacts\n        <<: *logs_artifacts\n        ginkgo_node_logs_artifacts:\n            path: ./test/e2e/ginkgo-node-*.log\n            type: text/plain\n\n\n# Nearly identical to `local_integration_test` except all operations\n# are performed through the podman-remote client vs a podman \"server\"\n# running on the same host.\nremote_integration_test_task:\n    <<: *local_integration_test_task\n    alias: remote_integration_test\n    env:\n        TEST_FLAVOR: int\n        PODBIN_NAME: remote\n\n\n# Run the complete set of integration tests from inside a container.\n# This verifies all/most operations function with \"podman-in-podman\".\ncontainer_integration_test_task:\n    name: *std_name_fmt\n    alias: container_integration_test\n    # Docs: ./contrib/cirrus/CIModes.md\n    only_if: *only_if_int_test\n    depends_on: *build\n    matrix: &fedora_vm_axis\n        - env:\n              DISTRO_NV: ${FEDORA_NAME}\n              VM_IMAGE_NAME: ${FEDORA_CACHE_IMAGE_NAME}\n              CTR_FQIN: ${FEDORA_CONTAINER_FQIN}\n        - env:\n              DISTRO_NV: ${PRIOR_FEDORA_NAME}\n              VM_IMAGE_NAME: ${PRIOR_FEDORA_CACHE_IMAGE_NAME}\n              CTR_FQIN: ${PRIOR_FEDORA_CONTAINER_FQIN}\n              CI_DESIRED_DATABASE: boltdb\n    gce_instance: *fastvm\n    env:\n        TEST_FLAVOR: int\n        TEST_ENVIRON: container\n    clone_script: *get_gosrc\n    setup_script: *setup\n    main_script: *main\n    always: *int_logs_artifacts\n\n\n# Execute most integration tests as a regular (non-root) user.\nrootless_integration_test_task:\n    name: *std_name_fmt\n    alias: rootless_integration_test\n    # Docs: ./contrib/cirrus/CIModes.md\n    only_if: *only_if_int_test\n    depends_on: *build\n    matrix: *platform_axis\n    gce_instance: *fastvm\n    env:\n        TEST_FLAVOR: int\n        PRIV_NAME: rootless\n    clone_script: *get_gosrc\n    setup_script: *setup\n    main_script: *main\n    always: *int_logs_artifacts\n\n\npodman_machine_task:\n    name: *std_name_fmt\n    alias: podman_machine\n    # Docs: ./contrib/cirrus/CIModes.md (Cirrus Task contexts and runtime modes)\n    # only when: - main rules (see doc above); or\n    #            - machine code files are changed\n    only_if: &only_if_machine_test >-\n        $CIRRUS_PR == '' ||\n        $CIRRUS_CHANGE_TITLE =~ '.*CI:ALL.*' ||\n        changesInclude('.cirrus.yml', 'Makefile', 'contrib/cirrus/**', 'vendor/**', 'test/tools/**', 'test/registries*.conf', 'hack/**', 'version/rawversion/*') ||\n        changesInclude('cmd/podman/machine/**', 'pkg/machine/**', '**/*machine*.go')\n    depends_on: *build\n    ec2_instance:\n        image: \"${VM_IMAGE_NAME}\"\n        type: \"${EC2_INST_TYPE}\"\n        region: us-east-1\n    timeout_in: 30m\n    env:\n      EC2_INST_TYPE: \"m5zn.metal\"  # Bare-metal instance is required\n      TEST_FLAVOR: \"machine-linux\"\n      PRIV_NAME: \"rootless\"  # intended use-case\n      DISTRO_NV: \"${FEDORA_NAME}\"\n      VM_IMAGE_NAME: \"${FEDORA_AMI}\"\n    clone_script: *get_gosrc\n    setup_script: *setup\n    main_script: *main\n    always: *int_logs_artifacts\n\n\npodman_machine_aarch64_task:\n    name: *std_name_fmt\n    alias: podman_machine_aarch64\n    only_if: *only_if_machine_test\n    depends_on: *build\n    ec2_instance:\n        <<: *standard_build_ec2_aarch64\n    timeout_in: 30m\n    env:\n        TEST_FLAVOR: \"machine-linux\"\n        EC2_INST_TYPE: c6g.metal\n        PRIV_NAME: \"rootless\"  # intended use-case\n        DISTRO_NV: \"${FEDORA_AARCH64_NAME}\"\n        VM_IMAGE_NAME: \"${FEDORA_AARCH64_AMI}\"\n    clone_script: &get_gosrc_aarch64 |\n        cd /tmp\n        echo \"$ARTCURL/build_aarch64/repo/repo.tar.zst\"\n        time $ARTCURL/build_aarch64/repo/repo.tar.zst\n        time tar -xf /tmp/repo.tar.zst -C $GOSRC\n    setup_script: *setup\n    main_script: *main\n    always: *int_logs_artifacts\n\n\npodman_machine_windows_task:\n    name: *std_name_fmt\n    alias: podman_machine_windows\n    # Docs: ./contrib/cirrus/CIModes.md\n    only_if: *only_if_machine_test\n    # Special case, we do not run macos/windows builds on rhel branches.\n    # Thus the machine task should not be run too, while we use only_if\n    # everywhere to do so here it would mean we would need duplicate the\n    # full big only_if condition which is more difficult to maintain so\n    # use the skip here.\n    skip: &skip_rhel_release |\n        $CIRRUS_BRANCH =~ 'v[0-9\\.]+-rhel' ||\n        $CIRRUS_BASE_BRANCH =~ 'v[0-9\\.]+-rhel'\n    depends_on: *build\n    ec2_instance:\n        <<: *windows\n        type: m5zn.metal\n        platform: windows\n    timeout_in: 45m\n    env: *winenv\n    matrix:\n      - env:\n          TEST_FLAVOR: \"machine-wsl\"\n      - env:\n          TEST_FLAVOR: \"machine-hyperv\"\n    clone_script: *winclone\n    main_script: \".\\\\repo\\\\contrib\\\\cirrus\\\\win-podman-machine-main.ps1\"\n    always:\n        # Required for `contrib/cirrus/logformatter` to work properly\n        html_artifacts:\n            path: ./*.html\n            type: text/html\n\n\npodman_machine_mac_task:\n    name: *std_name_fmt\n    alias: podman_machine_mac\n    only_if: *only_if_machine_test\n    skip: *skip_rhel_release\n    depends_on: *build\n    persistent_worker: *mac_pw\n    timeout_in: 35m\n    env:\n        <<: *mac_env\n        DISTRO_NV: \"darwin\"\n        PRIV_NAME: \"rootless\"  # intended use-case\n    matrix:\n        - env:\n            # See contrib/cirrus/mac_runner.sh\n            TEST_FLAVOR: \"machine-applehv\"\n        - env:\n            # See contrib/cirrus/mac_runner.sh\n            TEST_FLAVOR: \"machine-libkrun\"\n    clone_script:  # artifacts from osx_alt_build_task\n        - mkdir -p $CIRRUS_WORKING_DIR\n        - cd $CIRRUS_WORKING_DIR\n        - $ARTCURL/Build%20for%20MacOS%20amd64%2Barm64/repo/repo.tar.zst\n        - tar -xf repo.tar.zst\n    # This host is/was shared with potentially many other CI tasks.\n    # The previous task may have been canceled or aborted.\n    prep_script: *mac_cleanup\n    setup_script: \"contrib/cirrus/mac_setup.sh\"\n    env_script: \"contrib/cirrus/mac_env.sh\"\n    # TODO: Timeout bumped b/c initial image download (~5min) and VM\n    #       resize (~2min) causes test-timeout (90s default).  Should\n    #       tests deal with this internally?\n    test_script:\n        - \"contrib/cirrus/mac_runner.sh\"\n    # This host is/was shared with potentially many other CI tasks.\n    # Ensure nothing is left running while waiting for the next task.\n    always:\n        # Required for `contrib/cirrus/logformatter` to work properly\n        html_artifacts:\n            path: ./*.html\n            type: text/html\n        task_cleanup_script: *mac_cleanup\n\n\n# Always run subsequent to integration tests.  While parallelism is lost\n# with runtime, debugging system-test failures can be more challenging\n# for some golang developers.  Otherwise the following tasks run across\n# the same matrix as the integration-tests (above).\nlocal_system_test_task: &local_system_test_task\n    name: *std_name_fmt\n    alias: local_system_test\n    # Docs: ./contrib/cirrus/CIModes.md (Cirrus Task contexts and runtime modes)\n    # only when: - main rules (see doc above); or\n    #            - sys test code is changed; or\n    #            - actual source code changed\n    only_if: &only_if_system_test >-\n        $CIRRUS_PR == '' ||\n        $CIRRUS_CHANGE_TITLE =~ '.*CI:ALL.*' ||\n        changesInclude('.cirrus.yml', 'Makefile', 'contrib/cirrus/**', 'vendor/**', 'test/tools/**', 'test/registries*.conf', 'hack/**', 'version/rawversion/*') ||\n        changesInclude('test/system/**') ||\n        (changesInclude('**/*.go', '**/*.c', '**/*.h') && !changesIncludeOnly('test/**', 'pkg/machine/e2e/**'))\n    depends_on: *build\n    matrix: *platform_axis\n    gce_instance: *fastvm\n    timeout_in: 25m\n    env:\n        TEST_FLAVOR: sys\n    clone_script: *get_gosrc\n    setup_script: *setup\n    main_script: *main\n    always: *logs_artifacts\n\n\nlocal_system_test_aarch64_task: &local_system_test_task_aarch64\n    name: *std_name_fmt\n    alias: local_system_test_aarch64\n    # Docs: ./contrib/cirrus/CIModes.md\n    only_if: *only_if_system_test\n    depends_on: *build\n    ec2_instance: *standard_build_ec2_aarch64\n    timeout_in: 35m\n    env:\n        <<: *stdenvars_aarch64\n        TEST_FLAVOR: sys\n        DISTRO_NV: ${FEDORA_AARCH64_NAME}\n    clone_script: *get_gosrc_aarch64\n    setup_script: *setup\n    main_script: *main\n    always: *logs_artifacts\n\n\nremote_system_test_task:\n    <<: *local_system_test_task\n    alias: remote_system_test\n    env:\n        TEST_FLAVOR: sys\n        PODBIN_NAME: remote\n\n\nremote_system_test_aarch64_task:\n    <<: *local_system_test_task_aarch64\n    alias: remote_system_test_aarch64\n    env:\n        TEST_FLAVOR: sys\n        PODBIN_NAME: remote\n\n\nrootless_remote_system_test_task:\n    matrix:\n        # Minimal sanity testing: only the latest Fedora\n        - env:\n              DISTRO_NV: ${FEDORA_NAME}\n              # Not used here, is used in other tasks\n              VM_IMAGE_NAME: ${FEDORA_CACHE_IMAGE_NAME}\n              CTR_FQIN: ${FEDORA_CONTAINER_FQIN}\n    <<: *local_system_test_task\n    alias: rootless_remote_system_test\n    gce_instance: *fastvm\n    timeout_in: 25m\n    env:\n        TEST_FLAVOR: sys\n        PODBIN_NAME: remote\n        PRIV_NAME: rootless\n\n\nrootless_system_test_task:\n    name: *std_name_fmt\n    alias: rootless_system_test\n    # Docs: ./contrib/cirrus/CIModes.md\n    only_if: *only_if_system_test\n    depends_on: *build\n    matrix: *platform_axis\n    gce_instance: *fastvm\n    timeout_in: 25m\n    env:\n        TEST_FLAVOR: sys\n        PRIV_NAME: rootless\n    clone_script: *get_gosrc\n    setup_script: *setup\n    main_script: *main\n    always: *logs_artifacts\n\n\nfarm_test_task:\n    name: *std_name_fmt\n    alias: farm_test\n    # Docs: ./contrib/cirrus/CIModes.md (Cirrus Task contexts and runtime modes)\n    # only when: - main rules (see doc above); or\n    #            - farm test code is changed or one of the shared helper import files from the system test; or\n    #            - actual source code changed\n    only_if: >-\n        $CIRRUS_PR == '' ||\n        $CIRRUS_CHANGE_TITLE =~ '.*CI:ALL.*' ||\n        changesInclude('.cirrus.yml', 'Makefile', 'contrib/cirrus/**', 'vendor/**', 'test/tools/**', 'test/registries*.conf', 'hack/**', 'version/rawversion/*') ||\n        changesInclude('test/farm/**', 'test/system/*.bash') ||\n        (changesInclude('**/*.go', '**/*.c', '**/*.h') && !changesIncludeOnly('test/**', 'pkg/machine/e2e/**'))\n    depends_on: *build\n    gce_instance: *standardvm\n    env:\n        <<: *stdenvars\n        TEST_FLAVOR: farm\n        PRIV_NAME: rootless\n    clone_script: *get_gosrc\n    setup_script: *setup\n    main_script: *main\n    always: *logs_artifacts\n\nbuildah_bud_test_task:\n    name: *std_name_fmt\n    alias: buildah_bud_test\n    # Docs: ./contrib/cirrus/CIModes.md (Cirrus Task contexts and runtime modes)\n    # only when: - main rules (see doc above); or\n    #            - podman build source code files or bud tests files are changed\n    #              (vendor updates, i.e. buildah, are already covered in the main rules)\n    only_if: >-\n        $CIRRUS_PR == '' ||\n        $CIRRUS_CHANGE_TITLE =~ '.*CI:ALL.*' ||\n        changesInclude('.cirrus.yml', 'Makefile', 'contrib/cirrus/**', 'vendor/**', 'test/tools/**', 'test/registries*.conf', 'hack/**', 'version/rawversion/*') ||\n        changesInclude('**/*build*.go', 'test/buildah-bud/**')\n    depends_on: *build\n    env:\n        <<: *stdenvars\n        TEST_FLAVOR: bud\n    matrix:\n        - env:\n            PODBIN_NAME: podman\n        - env:\n            PODBIN_NAME: remote\n    gce_instance: *standardvm\n    timeout_in: 45m\n    clone_script: *get_gosrc\n    setup_script: *setup\n    main_script: *main\n    always: *int_logs_artifacts\n\nupgrade_test_task:\n    name: \"Upgrade test: from $PODMAN_UPGRADE_FROM\"\n    alias: upgrade_test\n    # Docs: ./contrib/cirrus/CIModes.md (Cirrus Task contexts and runtime modes)\n    # only when: - main rules (see doc above); or\n    #            - upgrade test code is changed or one of the shared helper import files from the system test; or\n    #            - actual source code changed\n    only_if: >-\n        $CIRRUS_PR == '' ||\n        $CIRRUS_CHANGE_TITLE =~ '.*CI:ALL.*' ||\n        changesInclude('.cirrus.yml', 'Makefile', 'contrib/cirrus/**', 'vendor/**', 'test/tools/**', 'test/registries*.conf', 'hack/**', 'version/rawversion/*') ||\n        changesInclude('test/upgrade/**', 'test/system/*.bash') ||\n        (changesInclude('**/*.go', '**/*.c', '**/*.h') && !changesIncludeOnly('test/**', 'pkg/machine/e2e/**'))\n    depends_on: *build\n    matrix:\n        - env:\n              # 2024-02: as long as possible/reasonable, try to keep\n              #   one version < 4.8 so we can test boltdb. v4.3.1 is\n              #   the lowest we can go right now, builds before that\n              #   have netavark <1.4 which hangs on f39 kernel (#21863).\n              PODMAN_UPGRADE_FROM: v4.3.1\n        - env:\n              PODMAN_UPGRADE_FROM: v4.8.0\n    gce_instance: *standardvm\n    env:\n        TEST_FLAVOR: upgrade_test\n        DISTRO_NV: ${FEDORA_NAME}\n        VM_IMAGE_NAME: ${FEDORA_CACHE_IMAGE_NAME}\n        # Never force a DB, let the old version decide its default\n        CI_DESIRED_DATABASE:\n    clone_script: *get_gosrc\n    setup_script: *setup\n    main_script: *main\n    always: *logs_artifacts\n\n\n# This task is critical.  It updates the \"last-used by\" timestamp stored\n# in metadata for all VM images.  This mechanism functions in tandem with\n# an out-of-band pruning operation to remove disused VM images.\nmeta_task:\n    name: \"VM img. keepalive\"\n    alias: meta\n    container:\n        cpu: 2\n        memory: 2\n        image: quay.io/libpod/imgts:latest\n    env:\n        # Space-separated list of images used by this repository state\n        IMGNAMES: >-\n            ${FEDORA_CACHE_IMAGE_NAME}\n            ${PRIOR_FEDORA_CACHE_IMAGE_NAME}\n            ${RAWHIDE_CACHE_IMAGE_NAME}\n            ${DEBIAN_CACHE_IMAGE_NAME}\n        EC2IMGNAMES: >-\n          ${FEDORA_AARCH64_AMI}\n          ${FEDORA_AMI}\n          ${WINDOWS_AMI}\n        BUILDID: \"${CIRRUS_BUILD_ID}\"\n        REPOREF: \"${CIRRUS_REPO_NAME}\"\n        AWSINI: ENCRYPTED[21b2db557171b11eb5abdbccae593f48c9caeba86dfcc4d4ff109edee9b4656ab6720a110dadfcd51e88cc59a71cc7af]\n        GCPJSON: ENCRYPTED[3a198350077849c8df14b723c0f4c9fece9ebe6408d35982e7adf2105a33f8e0e166ed3ed614875a0887e1af2b8775f4]\n        GCPNAME: ENCRYPTED[2f9738ef295a706f66a13891b40e8eaa92a89e0e87faf8bed66c41eca72bf76cfd190a6f2d0e8444c631fdf15ed32ef6]\n        GCPPROJECT: libpod-218412\n    clone_script: *noop\n    script: /usr/local/bin/entrypoint.sh\n\n\n# Status aggregator for all tests.  This task ensures a defined set of tasks\n# all passed, and allows confirming that based on the status of this task.\nsuccess_task:\n    # N/B: The prow merge-bot (tide) is sensitized to this exact name, DO NOT CHANGE IT.\n    # Ref: https://github.com/openshift/release/pull/48855\n    name: \"Total Success\"\n    alias: success\n    # N/B: ALL tasks must be listed here, minus their '_task' suffix.\n    depends_on:\n        - build_success\n        - bindings\n        - swagger\n        - win_installer\n        - docker-py_test\n        - unit_test\n        - apiv2_test\n        - compose_test\n        - local_integration_test\n        - remote_integration_test\n        - container_integration_test\n        - rootless_integration_test\n        - podman_machine\n        - podman_machine_aarch64\n        - podman_machine_windows\n        - podman_machine_mac\n        - local_system_test\n        - local_system_test_aarch64\n        - remote_system_test\n        - remote_system_test_aarch64\n        - rootless_remote_system_test\n        - rootless_system_test\n        - farm_test\n        - buildah_bud_test\n        - upgrade_test\n        - meta\n    env:\n        CTR_FQIN: ${FEDORA_CONTAINER_FQIN}\n    container: *smallcontainer\n    clone_script: *noop\n    script: *noop\n\n# WARNING: Most of the artifacts captured here are also have their\n# permalinks present in the `DOWNLOADS.md` file.  Any changes made\n# here, should probably be reflected in that document.\nartifacts_task:\n    name: \"Artifacts\"\n    alias: artifacts\n    # Docs: ./contrib/cirrus/CIModes.md\n    only_if: *no_rhel_release\n    depends_on:\n        - success\n    # This task is a secondary/convenience for downstream consumers, don't\n    # block development progress if there is a failure in a PR, only break\n    # when running on branches or tags.\n    allow_failures: $CIRRUS_PR != ''\n    container: *smallcontainer\n    env:\n        CTR_FQIN: ${FEDORA_CONTAINER_FQIN}\n        TEST_ENVIRON: container\n    # In order to keep the download URL and Cirrus-CI artifact.zip contents\n    # simple, nothing should exist in $CIRRUS_WORKING_DIR except for artifacts.\n    clone_script: *noop\n    fedora_binaries_script:\n        - mkdir -p /tmp/fed\n        - cd /tmp/fed\n        - $ARTCURL/Build%20for%20${FEDORA_NAME}/repo/repo.tar.zst\n        - tar -xf repo.tar.zst\n        - cp ./bin/* $CIRRUS_WORKING_DIR/\n    win_binaries_script:\n        - mkdir -p /tmp/win\n        - cd /tmp/win\n        - $ARTCURL/Windows%20Cross/repo/repo.tar.zst\n        - tar -xf repo.tar.zst\n        - mv ./podman-remote*.zip $CIRRUS_WORKING_DIR/\n    osx_binaries_script:\n        - mkdir -p /tmp/osx\n        - cd /tmp/osx\n        - $ARTCURL/Build%20for%20MacOS%20amd64%2Barm64/repo/repo.tar.zst\n        - tar -xf repo.tar.zst\n        - mv ./podman-remote-release-darwin_*.zip $CIRRUS_WORKING_DIR/\n        - mv ./contrib/pkginstaller/out/podman-installer-macos-*.pkg $CIRRUS_WORKING_DIR/\n    always:\n      contents_script: ls -la $CIRRUS_WORKING_DIR\n      # Produce downloadable files and an automatic zip-file accessible\n      # by a consistent URL, based on contents of $CIRRUS_WORKING_DIR\n      # Ref: https://cirrus-ci.org/guide/writing-tasks/#latest-build-artifacts\n      binary_artifacts:\n          path: ./*\n          type: application/octet-stream\n\n\n# When a new tag is pushed, confirm that the code and commits\n# meet criteria for an official release.\nrelease_task:\n    name: \"Verify Release\"\n    alias: release\n    # This should _only_ run for new tags\n    # Docs: ./contrib/cirrus/CIModes.md\n    only_if: $CIRRUS_TAG != ''\n    depends_on:\n        - build_success\n        - success\n    gce_instance: *standardvm\n    env:\n        <<: *stdenvars\n        TEST_FLAVOR: release\n    clone_script: *get_gosrc\n    setup_script: *setup\n    main_script: *main\n\n\n# When preparing to release a new version, this task may be manually\n# activated at the PR stage to verify the build is proper for a potential\n# podman release.\n#\n# Note: This cannot use a YAML alias on 'release_task' as of this\n# comment, it is incompatible with 'trigger_type: manual'\nrelease_test_task:\n    name: \"Optional Release Test\"\n    alias: release_test\n    # Release-PRs always include \"release\" or \"Bump\" in the title\n    # Docs: ./contrib/cirrus/CIModes.md\n    only_if: $CIRRUS_CHANGE_TITLE =~ '.*((release)|(bump)).*'\n    # Allow running manually only as part of release-related builds\n    # see RELEASE_PROCESS.md\n    trigger_type: manual\n    depends_on:\n        - build_success\n        - success\n    gce_instance: *standardvm\n    env:\n        <<: *stdenvars\n        TEST_FLAVOR: release\n    clone_script: *get_gosrc\n    setup_script: *setup\n    main_script: *main\n"
        },
        {
          "name": ".codespellrc",
          "type": "blob",
          "size": 0.4267578125,
          "content": "[codespell]\n# Ref: https://github.com/codespell-project/codespell#using-a-config-file\nskip = bin,vendor,.git,go.sum,.cirrus.yml,\"*.fish,RELEASE_NOTES.md,*.xz,*.gz,*.ps1,*.tar,swagger.yaml,*.tgz,bin2img,*ico,*.png,*.1,*.5,copyimg,*.orig,apidoc.go\ncheck-hidden = true\nignore-regex = \\b(Not|assert)In\\b\nignore-words-list = ddress,secon,passt,bu,hastable,te,clos,ans,pullrequest,uint,iff,od,seeked,splitted,marge,erro,hist,ether,specif,whit\n"
        },
        {
          "name": ".dockerignore",
          "type": "blob",
          "size": 0.01953125,
          "content": ".git/\n.github/\nbin/\n"
        },
        {
          "name": ".fmf",
          "type": "tree",
          "content": null
        },
        {
          "name": ".github",
          "type": "tree",
          "content": null
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 1.095703125,
          "content": "/.artifacts/\n/bin/\n/brew\n/build/\n/conmon/\ncontrib/spec/podman.spec\ncontrib/systemd/system/*.service\n*.coverprofile\ncoverprofile\n/.coverage\n/docs/*.[158]\n/docs/*.[158].gz\n/docs/build/\n/docs/remote\n**.DS_Store\n.gopathok\n.idea*\n*.mo\n.nfs*\n*.o\n*.orig\n/_output/\n/podman_tmp_*\n/pause/pause.o\npkg/api/swagger.yaml\n/podman-remote*.zip\n/podman*.tar.gz\n/podman-*.msi\n__pycache__\nrelease.txt\n.ropeproject\n*.rpm\n/test/bin2img/bin2img\n/test/checkseccomp/checkseccomp\n/test/copyimg/copyimg\n/test/goecho/goecho\n/test/version/version\n/test/version/version.exe\n/test/testvol/testvol\n/test/tools/build\n/test/e2e/ginkgo-node-*\n.vscode*\ntags\nresult\n# Necessary to prevent hack/tree-status.sh false-positive\n/*runner_stats.log\n.generate-bindings\ncontrib/win-installer/artifacts/\ncontrib/win-installer/current/\ncontrib/win-installer/docs/\ncontrib/win-installer/en-US/\ncontrib/win-installer/fetch/\ncontrib/win-installer/podman-*setup.exe\ncontrib/win-installer/engine.exe\ncontrib/win-installer/obj/\ncontrib/win-installer/shasums\ncontrib/win-installer/*.wixobj\ncontrib/win-installer/*.wixpdb\ncontrib/win-installer/*.log\npodman-cleanup-tracer.log*\n"
        },
        {
          "name": ".golangci.yml",
          "type": "blob",
          "size": 2.1220703125,
          "content": "---\nrun:\n  concurrency: 6\n  timeout: 5m\n  modules-download-mode: readonly\nlinters:\n  enable-all: true\n  disable:\n    # too many reports but requires attention\n    - depguard\n    - intrange # should be turned on but we have to convert each place manually as there is no auto fix function\n    - tagalign\n    - perfsprint\n    - typecheck\n    # useful hints that should be addressed\n    - testifylint # all of reports that should be fixed\n    - nakedret\n    - gosmopolitan # usage of time.Local in pkg/k8s.io\n    - tagliatelle # too many JSON keys cannot be changed due to compat\n    - dupword # too many false positives (e.g., in tests)\n    - gocognit\n    - testpackage\n    - err113\n    - errorlint\n    - wrapcheck\n    - paralleltest\n    - wsl\n    - godox\n    - tparallel\n    - nlreturn\n    - noctx\n    - nestif\n    - predeclared\n    - thelper\n    - forbidigo\n    - exhaustive\n    - gofumpt\n    - gci\n    - godot\n    - dupl\n    - funlen\n    - gochecknoglobals\n    - gochecknoinits\n    - goconst\n    - gocyclo\n    - lll\n    - gosec\n    - musttag # way to many warnings to fix for now, also some false positives\n    - mnd # way to many false positives\n    - gomoddirectives\n    - containedctx\n    - contextcheck\n    - cyclop\n    - canonicalheader # our current header values are fixed and should not be changed\n    - errname\n    - forcetypeassert\n    - ireturn\n    - varnamelen\n    - maintidx\n    - nilnil\n    - nonamedreturns\n    - exhaustruct\n    # deprecated linters\n    - exportloopref\nlinters-settings:\n  errcheck:\n    check-blank: false\n  nolintlint:\n    allow-unused: true\n    require-specific: true\n  revive:\n    rules:\n    - name: unused-parameter\n      disabled: true\n\nissues:\n  # Maximum issues count per one linter.\n  # Set to 0 to disable.\n  # Default: 50\n  max-issues-per-linter: 0\n  # Maximum count of issues with the same text.\n  # Set to 0 to disable.\n  # Default: 3\n  max-same-issues: 0\n  exclude-dirs-use-default: true\n  exclude-dirs:\n    - contrib\n    - dependencies\n  exclude-files:\n    - swagger.go\n  exclude-rules:\n    # Exclude recvcheck from running on the imported k8s files, to much failures\n    - path: pkg/k8s.io/\n      linters:\n        - recvcheck\n"
        },
        {
          "name": ".packit.sh",
          "type": "blob",
          "size": 1.5927734375,
          "content": "#!/usr/bin/env bash\n\n# This script handles any custom processing of the spec file using the `fix-spec-file`\n# action in .packit.yaml. These steps only work on copr builds, not on official\n# Fedora builds.\n\nset -eox pipefail\n\nPACKAGE=podman\n\n# Set path to rpm spec file\nSPEC_FILE=rpm/$PACKAGE.spec\n\n# Get short sha\nSHORT_SHA=$(git rev-parse --short HEAD)\n\n# Get Version from HEAD\nVERSION=$(grep '^const RawVersion' version/rawversion/version.go | cut -d\\\" -f2)\n\n# RPM Version can't take \"-\"\nRPM_VERSION=$(echo $VERSION | sed -e 's/-/~/')\n\n# Generate source tarball from HEAD\ngit-archive-all -C $(git rev-parse --show-toplevel) --prefix=$PACKAGE-$VERSION/ rpm/$PACKAGE-$VERSION.tar.gz\n\n# RPM Spec modifications\n\n# Use the Version from HEAD in rpm spec\nsed -i \"s/^Version:.*/Version: $RPM_VERSION/\" $SPEC_FILE\n\n# Use Packit's supplied variable in the Release field in rpm spec.\nsed -i \"s/^Release:.*/Release: $PACKIT_RPMSPEC_RELEASE%{?dist}/\" $SPEC_FILE\n\n# Ensure last part of the release string is the git shortcommit without a\n# prepended \"g\"\nsed -i \"/^Release: $PACKIT_RPMSPEC_RELEASE%{?dist}/ s/\\(.*\\)g/\\1/\" $SPEC_FILE\n\n# Use above generated tarball as Source in rpm spec\nsed -i \"s/^Source0:.*.tar.gz/Source0: $PACKAGE-$VERSION.tar.gz/\" $SPEC_FILE\n\n# Update setup macro to use the correct build dir\nsed -i \"s/^%autosetup.*/%autosetup -Sgit -n %{name}-$VERSION/\" $SPEC_FILE\n\n# Update relevant sed entries in spec file with the actual VERSION and SHORT_SHA\n# This allows podman --version to also show the SHORT_SHA along with the\n# VERSION\nsed -i \"s/##VERSION##/$VERSION/\" $SPEC_FILE\nsed -i \"s/##SHORT_SHA##/$SHORT_SHA/\" $SPEC_FILE\n"
        },
        {
          "name": ".packit.yaml",
          "type": "blob",
          "size": 3.453125,
          "content": "---\n# See the documentation for more information:\n# https://packit.dev/docs/configuration/\n\ndownstream_package_name: podman\nupstream_tag_template: v{version}\n\npackages:\n  podman-fedora:\n    pkg_tool: fedpkg\n    specfile_path: rpm/podman.spec\n  podman-centos:\n    pkg_tool: centpkg\n    specfile_path: rpm/podman.spec\n  podman-eln:\n    specfile_path: rpm/podman.spec\n\nsrpm_build_deps:\n  - git-archive-all\n  - make\n\nactions:\n  fix-spec-file:\n    - \"bash .packit.sh\"\n\njobs:\n  - job: copr_build\n    trigger: pull_request\n    packages: [podman-fedora]\n    notifications: &packit_build_failure_notification\n      failure_comment:\n        message: \"Ephemeral COPR build failed. @containers/packit-build please check.\"\n    enable_net: true\n    targets:\n      - fedora-all-x86_64\n      - fedora-all-aarch64\n\n  - job: copr_build\n    trigger: pull_request\n    packages: [podman-eln]\n    notifications: *packit_build_failure_notification\n    enable_net: true\n    targets:\n      fedora-eln-x86_64:\n        additional_repos:\n          - \"https://kojipkgs.fedoraproject.org/repos/eln-build/latest/x86_64/\"\n      fedora-eln-aarch64:\n        additional_repos:\n          - \"https://kojipkgs.fedoraproject.org/repos/eln-build/latest/aarch64/\"\n\n  - job: copr_build\n    trigger: pull_request\n    packages: [podman-centos]\n    notifications: *packit_build_failure_notification\n    enable_net: true\n    targets:\n      - centos-stream-9-x86_64\n      - centos-stream-9-aarch64\n      - centos-stream-10-x86_64\n      - centos-stream-10-aarch64\n\n  # Run on commit to main branch\n  - job: copr_build\n    trigger: commit\n    packages: [podman-fedora]\n    notifications:\n      failure_comment:\n        message: \"podman-next COPR build failed. @containers/packit-build please check.\"\n    branch: main\n    owner: rhcontainerbot\n    project: podman-next\n    enable_net: true\n\n  - job: tests\n    identifier: cockpit-revdeps\n    trigger: pull_request\n    packages: [podman-fedora]\n    notifications:\n      failure_comment:\n        message: \"Cockpit tests failed for commit {commit_sha}. @martinpitt, @jelly, @mvollmer please check.\"\n    targets:\n      - fedora-latest-stable\n      - fedora-development\n    tf_extra_params:\n      environments:\n        - artifacts:\n          - type: repository-file\n            id: https://copr.fedorainfracloud.org/coprs/g/cockpit/main-builds/repo/fedora-$releasever/group_cockpit-main-builds-fedora-$releasever.repo\n          - type: repository-file\n            id: https://copr.fedorainfracloud.org/coprs/rhcontainerbot/podman-next/repo/fedora-$releasever/rhcontainerbot-podman-next-fedora-$releasever.repo\n          tmt:\n            context:\n              revdeps: \"yes\"\n\n  - job: propose_downstream\n    trigger: release\n    update_release: false\n    packages: [podman-fedora]\n    dist_git_branches: &fedora_targets\n      - fedora-all\n\n  - job: propose_downstream\n    trigger: release\n    update_release: false\n    packages: [podman-centos]\n    dist_git_branches:\n      - c10s\n\n  - job: koji_build\n    trigger: commit\n    packages: [podman-fedora]\n    sidetag_group: podman-releases\n    dist_git_branches: *fedora_targets\n\n  - job: bodhi_update\n    trigger: koji_build\n    packages: [podman-fedora]\n    sidetag_group: podman-releases\n    # Dependencies are not rpm dependencies, but packages that should go in the\n    # same bodhi update\n    # Ref: https://packit.dev/docs/fedora-releases-guide/releasing-multiple-packages\n    dependencies:\n      - buildah\n      - containers-common\n      - skopeo\n    dist_git_branches: *fedora_targets\n"
        },
        {
          "name": ".pre-commit-config.yaml",
          "type": "blob",
          "size": 1.3017578125,
          "content": "---\nexclude: ^vendor/|^test/tools/vendor/\nrepos:\n  - repo: https://github.com/pre-commit/pre-commit-hooks.git\n    rev: v3.4.0\n    hooks:\n      # `buildah-tests.diff` is generated by 'git format-patch' and includes\n      # trailing whitespace as part of its format. We can work around that,\n      # but unfortunately the buildah repo has some files with tabs, which\n      # git-diff formats as '[+/-]<space><tab>', which these hooks choke on.\n      # `contrib/systemd/user` and `test/python/requirements.txt` are symlinks\n      # but for some reason, on windows, pre-commit consider it as a regular\n      # file and tries to fix it. Just disable checks on these files as a\n      # special case.\n      - id: end-of-file-fixer\n        exclude: test/buildah-bud/buildah-tests.diff|contrib/systemd/user|test/python/requirements.txt\n      - id: trailing-whitespace\n        exclude: test/buildah-bud/buildah-tests.diff|test/e2e/quadlet/remap-keep-id2.container|test/e2e/quadlet/line-continuation-whitespace.container\n      - id: mixed-line-ending\n      - id: check-byte-order-marker\n      - id: check-executables-have-shebangs\n      - id: check-merge-conflict\n      - id: check-yaml\n  - repo: https://github.com/codespell-project/codespell\n    # Configuration for codespell is in .codespellrc\n    rev: v2.3.0\n    hooks:\n    - id: codespell\n"
        },
        {
          "name": ".readthedocs.yaml",
          "type": "blob",
          "size": 0.6328125,
          "content": "# Read the Docs configuration file\n# See https://docs.readthedocs.io/en/stable/config-file/v2.html for details\n\n# Required\nversion: 2\n\n# Set the version of Python and other tools you might need\nbuild:\n  os: ubuntu-22.04\n  tools:\n    python: \"3.11\"\n\n# Build documentation in the docs/ directory with Sphinx\nsphinx:\n  configuration: docs/source/conf.py\n\n# Optionally build your docs in additional formats\nformats:\n  - htmlzip\n  - epub\n  - pdf\n\n# We recommend specifying your dependencies to enable reproducible builds:\n# https://docs.readthedocs.io/en/stable/guides/reproducible-builds.html\npython:\n  install:\n  - requirements: docs/requirements.txt\n"
        },
        {
          "name": "CODE-OF-CONDUCT.md",
          "type": "blob",
          "size": 0.205078125,
          "content": "## The Podman Project Community Code of Conduct\n\nThe Podman project which includes Libpod, follows the [Containers Community Code of Conduct](https://github.com/containers/common/blob/main/CODE-OF-CONDUCT.md).\n"
        },
        {
          "name": "CONTRIBUTING.md",
          "type": "blob",
          "size": 20.6142578125,
          "content": "![PODMAN logo](https://raw.githubusercontent.com/containers/common/main/logos/podman-logo-full-vert.png)\n# Contributing to Podman\n\nWe'd love to have you join the community!\nBelow summarizes the processes that we follow.\n\n## Topics\n\n* [Reporting Issues](#reporting-issues)\n* [Working On Issues](#working-on-issues)\n* [Contributing to Podman](#contributing-to-podman)\n* [Continuous Integration](#continuous-integration) [![Build Status](https://api.cirrus-ci.com/github/containers/podman.svg)](https://cirrus-ci.com/github/containers/podman/main)\n* [Submitting Pull Requests](#submitting-pull-requests)\n* [Communications](#communications)\n\n## Reporting Issues\n\nBefore reporting an issue, check our backlog of [open issues](https://github.com/containers/podman/issues) to see if someone else has already reported it.\nIf so, feel free to add your scenario, or additional information, to the discussion.\nOr simply \"subscribe\" to it to be notified when it is updated.\nPlease do not add comments like \"+1\" or \"I have this issue as well\" without adding any new information.\nInstead, please add a thumbs-up emoji to the original report.\n\nNote: Older closed issues/PRs are automatically locked.\nIf you have a similar problem please open a new issue instead of commenting.\n\nIf you find a new issue with the project we'd love to hear about it!\nThe most important aspect of a bug report is that it includes enough information for us to reproduce it.\nTo make this easier, there are three types of issue templates you can use.\n* If you have a bug to report, please use *Bug Report* template.\n* If you have an idea to propose, please use the *Feature Request* template.\n* If your issue is something else, please use the default *Blank issue* template.\nPlease include as much detail as possible, including all requested fields in the template.\nNot having all requested information - for example, a full `podman info` - makes it much harder to find and fix issues.\nA reproducer is the best thing you can include.\nReproducers make finding and fixing issues much easier for maintainers.\nThe easier it is for us to reproduce a bug, the faster it'll be fixed!\n\nPlease don't include any private/sensitive information in your issue!\nSecurity issues should NOT be reported via Github and should instead be reported via the process described [here](https://github.com/containers/common/blob/main/SECURITY.md).\n\n## Working On Issues\n\nOnce you have decided to contribute to Podman by working on an issue, check our backlog of [open issues](https://github.com/containers/podman/issues) looking for any that are unassigned.\nIf you want to work on a specific issue that is already assigned but does not appear to be actively being worked on, please ping the assignee in the issue and ask if you can take over.\nIf they do not respond after several days, you can notify a maintainer to have the issue reassigned.\nWhen working on an issue, please assign it to yourself.\nYou can use the `/assign` bot command in a comment on an issue to assign it to yourself.\nIf you lack permissions to do so, you can ping the `@containers/podman-maintainers` group to have a maintainer set you as assignee.\n\n## Contributing to Podman\n\nThis section describes how to make a contribution to Podman.\nThese instructions are geared towards using a Linux development machine, which is required for doing development on the Podman backend.\nDevelopment for the Windows and Mac clients can also be done on those operating systems.\nCheck out these instructions for building the Podman client on [MacOSX](./build_osx.md) or [Windows](./build_windows.md).\n\n### Prepare your environment\n\nRead the [install documentation to see how to install dependencies](https://podman.io/getting-started/installation#build-and-run-dependencies).\n\nThe install documentation will illustrate the following steps:\n- Installation of required libraries and tools\n- Installing Podman from source\n\nThe minimum version of Golang required to build Podman is contained in [go.mod](https://github.com/containers/podman/blob/main/go.mod#L5).\nYou will need to make sure your system's Go compiler is at least this version using the `go version` command.\n\n### Fork and clone Podman\n\nFirst, you need to fork this project on GitHub.\nThen clone your fork locally:\n```shell\n$ git clone git@github.com:<you>/podman\n$ cd ./podman/\n```\n\n### Using the Makefile\n\nPodman uses a Makefile for common actions such as compiling Podman, building the documentation, and linting.\n\nYou can list available actions by using:\n```shell\n$ make help\nUsage: make <target>\n...output...\n```\n\n### Install required tools\n\nMakefile allow you to install needed development tools (e.g. the linter):\n```shell\n$ make install.tools\n```\n\n### Building binaries\n\nTo build Podman binaries, you can run `make binaries`.\nBuilt binaries will be placed in the `bin/` directory.\nYou can manually test to verify that Podman is working by running the binaries.\n\nFor further reading about branching [you can read this document](https://herve.beraud.io/containers/linux/podman/isolate/environment/2019/02/06/how-to-hack-on-podman.html).\n\n### Building docs\n\nTo build Podman's manpages, you can run `make docs`.\nBuilt documentation will be placed in the `docs/build/man` directory.\nMarkdown versions can be viewed in the `docs/source/markdown` directory.\nFiles suffixed with `.in` are preliminary versions that are compiled into the final markdown files.\n\n## Libraries\n\nPodman uses a large amount of vendored library code, contained in the `vendor/` directory.\nThis code is included in the Podman repository, but is actually maintained elsewhere.\nPull requests that change the vendor/ directory directly will not be accepted.\nInstead, changes should be submitted to the original package (defined by the path in `vendor/`; for example, `vendor/github.com/containers/storage` is the [containers/storage library](https://github.com/containers/storage/).\nOnce the changes have been merged into the original package, Podman's vendor directory can be updated by using `go get` on the appropriate version of the package, then running `make vendor` or `make vendor-in-container`.\n\n## Testing\n\nPodman provides an extensive suite of regression tests in the `test/` directory.\nThere is a [readme](https://github.com/containers/podman/blob/main/test/README.md) file available with details about the tests and how to run them.\nAll pull requests should be accompanied by test changes covering the changes in the PR.\nPull requests without tests will receive additional scrutiny from maintainers and may be blocked from merging unless tests are added.\nMaintainers will decide if tests are not necessary during review.\n\n### Types of Tests\n\nThere are several types of tests run by Podman's upstream CI.\n* Build testing (including cross-build tests, and testing to verify each commit in a PR builds on its own)\n* Go format/lint checking\n* Unit testing\n* Integration testing (run on several operating systems, both root and rootless)\n* System testing (again, run on several operating systems, root and rootless)\n* API testing (validates the Podman REST API)\n* Machine testing (validates `podman machine` on Windows and Mac hosts)\n\nChanges will usually only need to be tested in one of these.\nFor example, if you were to make a change to `podman run`, you could test this in either the system tests or the integration tests.\nIt is not necessary to test a single change in multiple places.\n\n### Go Format and lint\n\nAll code changes must pass ``make validatepr``.\n\n### Integration Tests\n\nOur primary means of performing integration testing for Podman is with the [Ginkgo](https://github.com/onsi/ginkgo) BDD testing framework.\nThis allows us to use native Golang to perform our tests and there is a strong affiliation between Ginkgo and the Go test framework.\nAdequate test cases are expected to be provided with PRs.\n\nFor details on how to run the tests for Podman in your test environment, see the testing [README.md](test/README.md).\n\nThe integration tests are located in the `test/e2e/` directory.\n\n### System Tests\n\nThe system tests are written in Bash using the BATS framework.\nThey provide less comprehensive coverage than the integration tests.\nThey are intended to validate Podman builds before they are shipped by distributions.\n\nThe system tests are located in the `test/system/` directory.\n\n## Documentation\n\nMake sure to update the documentation if needed.\nPodman is primarily documented via its manpages, which are located under `docs/source/markdown`.\nThere are a number of automated tests to make sure the manpages are up to date.\nThese tests run on all submitted pull requests.\nFull details on working with the manpages can be found in the [README](https://github.com/containers/podman/blob/main/docs/README.md) for the docs.\n\nPodman also provides Swagger documentation for the REST API.\nSwagger is generated from comments on registered handlers located in the `pkg/api/server/` directory.\nAll API changes should update these Swagger comments to ensure the documentation remains accurate.\n\n## Submitting Pull Requests\n\nNo Pull Request (PR) is too small!\nTypos, additional comments in the code, new test cases, bug fixes, new features, more documentation, ... it's all welcome!\n\nWhile bug fixes can first be identified via an \"issue\" in Github, that is not required.\nIt's ok to just open up a PR with the fix, but make sure you include the same information you would have included in an issue - like how to reproduce it.\n\nPRs for new features should include some background on what use cases the new code is trying to address.\nWhen possible and when it makes sense, try to break-up larger PRs into smaller ones - it's easier to review smaller code changes.\nBut only if those smaller ones make sense as stand-alone PRs.\n\nRegardless of the type of PR, all PRs should include:\n* Well-documented code changes, both through comments in the code itself and high-quality commit messages.\n* Additional tests. Ideally, they should fail w/o your code change applied.\n  (With a few exceptions, CI hooks will block your PR unless your change\n  includes files named `*_test.go` or under the `test/` subdirectory. Repo\n  admins may bypass this restriction by setting the 'No New Tests' GitHub\n  label on the PR).\n* Documentation updates to reflect the changes made in the pull request.\n\nSquash your commits into logical pieces of work that might want to be reviewed separate from the rest of the PRs.\nSquashing down to just one commit is also acceptable since in the end the entire PR will be reviewed anyway.\nWhen in doubt, squash.\n\nWhen your PR fixes an issue, please note that by including `Fixes: #00000` in the commit description.\nMore details on this are below, in the \"Describe your changes in Commit Messages\" section.\n\nThe Podman repo follows a two-ack policy for merges.\nPRs will be approved by an [approver][owners] listed in [`OWNERS`](OWNERS).\nThey will then be merged by a repo owner.\nTwo reviews are required for a pull request to merge.\n\n### Describe your Changes in Commit Messages\n\nDescribe your problem.\nWhether your patch is a one-line bug fix or 5000 lines of a new feature, there must be an underlying problem that motivated you to do this work.\nConvince the reviewer that there is a problem worth fixing and that it makes sense for them to read past the first paragraph.\n\nDescribe user-visible impact.\nStraight up crashes and lockups are pretty convincing, but not all bugs are that blatant.\nEven if the problem was spotted during code review, describe the impact you think it can have on users.\nKeep in mind that the majority of users run packages provided by distributions, so include anything that could help route your change downstream.\n\nQuantify optimizations and trade-offs.\nIf you claim improvements in performance, memory consumption, stack footprint, or binary size, include\nnumbers that back them up.\nBut also describe non-obvious costs.\nOptimizations usually aren’t free but trade-offs between CPU, memory, and readability; or, when it comes to heuristics, between different workloads.\nDescribe the expected downsides of your optimization so that the reviewer can weigh costs against\nbenefits.\n\nOnce the problem is established, describe what you are actually doing about it in technical detail.\nIt’s important to describe the change in plain English for the reviewer to verify that the code is behaving as you intend it to.\n\nSolve only one problem per patch.\nIf your description starts to get long, that’s a sign that you probably need to split up your patch.\n\nIf the patch fixes a logged bug entry, refer to that bug entry by number and URL.\nIf the patch follows from a mailing list discussion, give a URL to the mailing list archive.\nPlease format these lines as `Fixes:` followed by the URL or, for Github bugs, the bug number preceded by a #.\nFor example:\n\n```\nFixes: #00000\nFixes: https://github.com/containers/common/issues/00000\nFixes: https://issues.redhat.com/browse/RHEL-00000\nFixes: RHEL-00000\n```\n\nHowever, try to make your explanation understandable without external resources.\nIn addition to giving a URL to a mailing list archive or bug, summarize the relevant points of the discussion that led to the patch as submitted.\n\nIf you want to refer to a specific commit, don’t just refer to the SHA-1 ID of the commit.\nPlease also include the oneline summary of the commit, to make it easier for reviewers to know what it is about. If the commit was merged in Github, referring to a Github PR number is also a good option, as that will retain all discussion from development, and makes including a summary less critical.\nExamples:\n\n```\nCommit f641c2d9384e (\"fix bug in rm -fa parallel deletes\") [...]\nPR #00000\n```\n\nWhen referring to a commit by SHA, you should also be sure to use at least the first twelve characters of the SHA-1 ID.\nThe Podman repository holds a lot of objects, making collisions with shorter IDs a real possibility.\nBear in mind that, even if there is no collision with your six-character ID now, that condition may change five years from now.\n\nThe following git config settings can be used to add a pretty format for outputting the above style in the git log or git show commands:\n\n```\n[core]\n        abbrev = 12\n[pretty]\n        fixes = Fixes: %h (\\\"%s\\\")\n```\n\n### Sign your PRs\n\nThe sign-off is a line at the end of the explanation for the patch.\nYour signature certifies that you wrote the patch or otherwise have the right to pass it on as an open-source patch.\nThe rules are simple: if you can certify the below (from [developercertificate.org](https://developercertificate.org/)):\n\n```\nDeveloper Certificate of Origin\nVersion 1.1\n\nCopyright (C) 2004, 2006 The Linux Foundation and its contributors.\n660 York Street, Suite 102,\nSan Francisco, CA 94110 USA\n\nEveryone is permitted to copy and distribute verbatim copies of this\nlicense document, but changing it is not allowed.\n\nDeveloper's Certificate of Origin 1.1\n\nBy making a contribution to this project, I certify that:\n\n(a) The contribution was created in whole or in part by me and I\n    have the right to submit it under the open source license\n    indicated in the file; or\n\n(b) The contribution is based upon previous work that, to the best\n    of my knowledge, is covered under an appropriate open source\n    license and I have the right under that license to submit that\n    work with modifications, whether created in whole or in part\n    by me, under the same open source license (unless I am\n    permitted to submit under a different license), as indicated\n    in the file; or\n\n(c) The contribution was provided directly to me by some other\n    person who certified (a), (b) or (c) and I have not modified\n    it.\n\n(d) I understand and agree that this project and the contribution\n    are public and that a record of the contribution (including all\n    personal information I submit with it, including my sign-off) is\n    maintained indefinitely and may be redistributed consistent with\n    this project or the open source license(s) involved.\n```\n\nThen you just add a line to every git commit message:\n\n    Signed-off-by: Joe Smith <joe.smith@email.com>\n\nUse your real name (sorry, no pseudonyms or anonymous contributions).\n\nIf you set your `user.name` and `user.email` git configs, you can sign your commit automatically with `git commit -s`.\n\n### Continuous Integration\n\nAll pull requests automatically run Podman's test suite.\nThe tests have been configured such that only tests relevant to the code changed will be run.\nFor example, a documentation-only PR with no code changes will run a substantially reduced set of tests.\nTo force a PR to run all tests, you can include the string `[CI:ALL]` in the PR title, but this is almost never necessary.\n\nThere is always additional complexity added by automation, and so it sometimes can fail for any number of reasons.\nThis includes post-merge testing on all branches, which you may occasionally see [red bars on the status graph](https://cirrus-ci.com/github/containers/podman/main).\n\nMost notably, the tests will occasionally flake.\nIf you see a single test on your PR has failed, and you do not believe it is caused by your changes, you can rerun the tests.\nIf you lack permissions to rerun the tests, please ping the maintainers using the `@containers/podman-maintainers` group and request that the failing test be rerun.\n\nIf you see multiple test failures, you may wish to check the status graph mentioned above.\nWhen the graph shows mostly green bars on the right, it's a good indication the main branch is currently stable.\nAlternating red/green bars is indicative of a testing \"flake\", and should be examined (anybody can do this):\n\n* *One or a small handful of tests, on a single task, (i.e. specific distro/version)\n  where all others ran successfully:*  Frequently the cause is networking or a brief\n  external service outage.  The failed tasks may simply be re-run by pressing the\n  corresponding button on the task details page.\n\n* *Multiple tasks failing*: Logically this should be due to some shared/common element.\n  If that element is identifiable as a networking or external service (e.g. packaging\n  repository outage), a re-run should be attempted.\n\n* *All tasks are failing*: If a common element is **not** identifiable as\n  temporary (i.e. container registry outage), please seek assistance via\n  [the methods below](#communications) as this may be early indication of\n  a more serious problem.\n\nIn the (hopefully) rare case there are multiple, contiguous red bars, this is\na ***very bad*** sign.  It means additional merges are occurring despite an uncorrected\nor persistently faulty condition.  This risks additional bugs being introduced\nand further complication of necessary corrective measures.  Most likely people\nare aware and working on this, but it doesn't hurt [to confirm and/or try and help\nif possible.](#communications).\n\n## Communications\n\nIf you need help, you can contact the maintainers using the channels mentioned in Podman's [communications](https://github.com/containers/podman/blob/main/README.md#communications) document.\n\nFor discussions around issues/bugs and features, you can use the GitHub\n[issues](https://github.com/containers/podman/issues)\nand\n[PRs](https://github.com/containers/podman/pulls)\ntracking system.\n\n### Bot Interactions\n\nThe primary human-interface is through comments in pull-requests.\nSome of these are outlined below, along with their meaning and intended usage.\nSome of them require the comment author hold special privileges on the github repository.\nOthers can be used by anyone.\n\n* ``/close``: Closes an issue or PR.\n\n* ``/approve``: Mark a PR as appropriate to the project, and as close to meeting\n  met all the contribution criteria above.  Adds the *approved* label, marking\n  it as ready for review and possible future merging.\n\n* ``/lgtm``: A literal \"Stamp of approval\", signaling okay-to-merge.  This causes\n  the bot to ad the *lgtm* label, then attempt a merge.  In other words - Never,\n  ever, ever comment ``/lgtm``, unless a PR has actually, really, been fully\n  reviewed.  The bot isn't too smart about these things, and could merge\n  unintentionally.  Instead, just write ``LGTM``, or\n  spell it out.\n\n* ``/hold`` and ``/unhold``: Override the automatic handling of a request.  Either\n  put it on hold (no handling) or remove the hold (normal handling).\n\n* ``[ci skip]``: [Adding `[ci skip]` within the HEAD commit](https://cirrus-ci.org/guide/writing-tasks/#conditional-task-execution)\n  will cause Cirrus CI to ***NOT*** execute tests for the PR or after merge.  This\n  is useful in only one instance:  Your changes are absolutely not exercised by\n  any test.  For example, documentation changes.  ***IMPORTANT NOTE*** **Other\n  automation may interpret the lack of test results as \"PASSED\" and unintentional\n  merge a PR.  Consider also using `/hold` in a comment, to add additional\n  protection.**\n\n[The complete list may be found on the command-help page.](https://prow.k8s.io/command-help)\nHowever, not all commands are implemented for this repository.\nIf in doubt, ask a maintainer.\n"
        },
        {
          "name": "DISTRO_PACKAGE.md",
          "type": "blob",
          "size": 4.2412109375,
          "content": "# Podman Packaging\n\nThis document is intended for Podman *packagers*: those very few individuals\nresponsible for building and shipping Podman on Linux distributions.\n\nDocument verified accurate as of Podman 5.2, 2024-10-16.\n\n## Building Podman\n\nThis document assumes you are able to build executables up to and\nincluding `make install`.\nSee [Building from Source](https://podman.io/docs/installation#building-from-source)\non podman.io for possibly-outdated instructions.\n\n## Package contents\n\nEverything installed by `make install`, obviously.\n\nUpstream splits Podman into multiple subpackages and we encourage you\nto consider doing likewise: some users may not want `podman-remote`\nor `-machine` or the test suite.\n\nThe best starting point is the\n[RPM spec file](https://github.com/containers/podman/blob/main/rpm/podman.spec).\nThis illustrates the subpackage breakdown as well as top-level dependencies.\n\n\n## Dependencies\n\nPodman requires a *runtime*, a *runtime monitor*, a *pause process*,\nand *networking tools*. In Fedora, some of these requirements are indirectly\nspecified via [containers-common](https://github.com/containers/common);\nthe nested tree looks like this:\n```\n    Podman\n    ├── Requires: catatonit\n    ├── Requires: conmon\n    └── Requires: containers-common-extra\n        ├── Requires: crun\n        ├── Requires: netavark\n        └── Requires: passt\n```\n\n### Runtime: crun\n\nThe only runtime supported upstream is [crun](https://github.com/containers/crun),\nbut different distros may wish to offer other options to their users. Your package\nmust, directly or indirectly, list a runtime prerequisite.\n\nHeads up: you may end up being responsible for packaging this runtime, or at the\nvery least working closely with the package maintainer. The best starting point\nfor crun is its\n[RPM spec file](https://github.com/containers/crun/blob/main/rpm/crun.spec).\n\n\n### Pause process: catatonit\n\nThe pause process serves as a container `init`, reaping PIDs and handling signals.\n\nAs of this writing, Podman uses an external tool,\n[catatonit](https://github.com/openSUSE/catatonit). This may be subject\nto change in future Podman versions.\n\nIf you need to package catatonit, a good starting point might be its\n[Fedora specfile](https://src.fedoraproject.org/rpms/catatonit/blob/rawhide/f/catatonit.spec).\n\n\n### Runtime Monitor: conmon\n\nThe only working monitor is [conmon](https://github.com/containers/conmon).\nThere is a Rust implementation in the works,\n[conmon-rs](https://github.com/containers/conmon-rs), but efforts\nto make it work with Podman have stalled for years.\n\nHeads up: you may end up being responsible for packaging conmon.\nThe best starting point is its\n[RPM spec file](https://github.com/containers/conmon/blob/main/rpm/conmon.spec).\n\n\n### Networking Tools: netavark, aardvark-dns, passt\n\nNetworking differs between *root* and *rootless*: [passt](https://passt.top/)\n(also referred to as \"pasta\") is only needed for rootless.\n[netavark](https://github.com/containers/netavark/) and\n[aardvark-dns](https://github.com/containers/aardvark-dns/)\nare needed for both root and rootless podman.\n\nHeads up: you will probably end up being responsible for packaging\nat least some of these. The best starting points are their respective\nRPM spec files:\n[netavark](https://github.com/containers/netavark/blob/main/rpm/netavark.spec),\n[aardvark-dns](https://github.com/containers/aardvark-dns/blob/main/rpm/aardvark-dns.spec).\n\nNetavark and aardvark-dns must be packaged in lockstep down\nto the major-minor level: version `X.Y` of either is only\nguaranteed to work with `X.Y` of the other. If you are responsible\nfor packaging these, make sure you set up interpackage dependencies\nappropriately to prevent version mismatches between them.\n\n## Metapackage: containers-common\n\nThis package provides config files, man pages, and (at the\npackaging level) dependencies. There are good reasons for\nkeeping this as a separate package, the most important one\nbeing that `buildah` and `skopeo` rely on this same content.\nAlso important is the ability for individual distros to\nfine-tune config settings and dependencies.\n\nYou will probably be responsible for packaging this.\nThe best starting point is its\n[RPM spec file](https://github.com/containers/common/blob/main/rpm/containers-common.spec).\n"
        },
        {
          "name": "DOWNLOADS.md",
          "type": "blob",
          "size": 3.015625,
          "content": "![PODMAN logo](https://raw.githubusercontent.com/containers/common/main/logos/podman-logo-full-vert.png)\n\n# Downloads\n\n## Latest signed/official\n\n[The latest Podman release version is always available on the GitHub releases\npage](https://github.com/containers/podman/releases/latest).  These are official,\nsigned, sealed, and blessed artifacts intended for general use.  Though for\nsuper-serious production use, please utilize the pre-packaged podman provided\nby your OS/Distro vendor.\n\n## CI Artifacts\n\nIf you're looking for something even more bleeding-edge, esp. for testing\npurposes and/or in other CI systems.  There are several permalinks available\ndepending on how much you want to download.  Everything inside has at least\ngone through and passed CI testing.  However, **they are all unsigned**, and\nfrequently changing.  Perfectly fine for non-production testing but please\ndon't take them beyond that.\n\n* [Giant artifacts\n  archive](https://api.cirrus-ci.com/v1/artifact/github/containers/podman/Artifacts/binary.zip)\n  containing every binary produced in CI from the most recent successful run.\n  *Warning*: This file is pretty large, expect a 700+MB download.  However,\n  it's guaranteed to contain everything, where as the items below can change\n  or become unavailable due to somebody forgetting to update this doc.\n\n<!--\n\nWARNING:  The items linked below all come from scripts in the `artifacts_task`\nmap of `.cirrus.yml`.  When adding or updating any item below, please ensure it\nmatches corresponding changes in the artifacts task.\n\n-->\n\n* Raw dynamically linked ELF (x86_64) binaries for [podman](https://api.cirrus-ci.com/v1/artifact/github/containers/podman/Artifacts/binary/podman)\n  , [podman-remote](https://api.cirrus-ci.com/v1/artifact/github/containers/podman/Artifacts/binary/podman-remote)\n  , [quadlet](https://api.cirrus-ci.com/v1/artifact/github/containers/podman/Artifacts/binary/quadlet)\n  , and\n  [rootlessport](https://api.cirrus-ci.com/v1/artifact/github/containers/podman/Artifacts/binary/rootlessport) -\n  Built on the latest supported Fedora release.\n* MacOS\n  [universal](https://api.cirrus-ci.com/v1/artifact/github/containers/podman/Artifacts/binary/podman-installer-macos-universal.pkg)\n  ,\n  [x86_64](https://api.cirrus-ci.com/v1/artifact/github/containers/podman/Artifacts/binary/podman-installer-macos-amd64.pkg)\n  , and\n  [arm64](https://api.cirrus-ci.com/v1/artifact/github/containers/podman/Artifacts/binary/podman-installer-macos-arm64.pkg)\n  installation packages.  Again, these are **not** signed, so expect warnings if you try to install them.\n  There's also binary release *ZIP-files* for\n  [darwin_amd64](https://api.cirrus-ci.com/v1/artifact/github/containers/podman/Artifacts/binary/podman-remote-release-darwin_amd64.zip)\n  and\n  [darwin_arm64](https://api.cirrus-ci.com/v1/artifact/github/containers/podman/Artifacts/binary/podman-remote-release-darwin_arm64.zip).\n* Windows [podman-remote](https://api.cirrus-ci.com/v1/artifact/github/containers/podman/Artifacts/binary/podman-remote-release-windows_amd64.zip) for x86_64 only.\n"
        },
        {
          "name": "ISSUE-EOL-POLICY.md",
          "type": "blob",
          "size": 2.5048828125,
          "content": "# End-of-Life Policy on Issues\n\n_jetsam (n): the part of a ship, its equipment, or its cargo that is cast overboard to lighten the load in time of distress_\n\nFinite resources demand some level of pruning. This document describes\nthe basic principles used by the Containers team to identify and close\nstale issues.\n\n------\n\n## Definitions\n\n[**stale**](https://github.com/containers/podman/issues?q=is%3Aopen+is%3Aissue+sort%3Acreated-asc+label%3Astale-issue): open, but no activity in the last thirty days.\n\n**crickets**: closed due to lack of response from reporting party.\n\n[**jetsam**](https://github.com/containers/podman/issues?q=is%3Aissue+label%3Ajetsam+is%3Aclosed): closed without being implemented. A deliberate decision made in recognition of human limitations.\n\n------\n\n## Process\n\nIn order of judgment, from least to most.\n\n#### &rarr; stale\n\nIssues are marked with the label *stale-issue* by a [github action](https://github.com/containers/podman/blob/main/.github/workflows/stale.yml) that runs daily at 00:00 UT. This also triggers an email alert to subscribers on that issue.\n\nJudgment: typically a team member will skim the issue, then decide whether to:\n\n* remove the label; or\n* close the issue (see below); or\n* do nothing.\n\nThis is informal: there is no guarantee that anyone will actually do this.\n\n#### &rarr; crickets\n\nTypically done by a team member after receiving a *stale-issue* email.\n\nJudgment:\n\n* there is not enough information to act on the issue; and\n* someone on the team has asked the reporter for more details (like NEEDINFO); and\n* the reporter has not responded.\n\nThere is no actual *crickets* label. There is no automated way to\nfind issues that have been closed for this reason.\n\n#### &rarr; jetsam\n\nLast-resort closing of an issue that will not be worked on.\n\nFactors:\n\n* issue has remained open for over sixty days; and\n* reporter is responsive, and still wishes to have the issue addressed (as does the team).\n\nJudgment:\n\n* the issue is too difficult or complicated or hard to track down.\n* decision should be made by two or more team members, with discussion in the issue/PR itself.\n\nWhen such an issue is closed, team member should apply the *jetsam* label.\n\n------\n\n## Grayer Areas\n\n`stalebot` isn't perfect. It often misses issues, and we end up with\nsome that have been open a long time and do not have the `stale-issue` label.\n\nThese are hard to find manually. There is no defined process for identifying\nor acting on them. If and when someone finds these, they should be handled\nthrough the process defined above.\n"
        },
        {
          "name": "LICENSE",
          "type": "blob",
          "size": 11.0927734375,
          "content": "                                 Apache License\n                           Version 2.0, January 2004\n                        https://www.apache.org/licenses/\n\n   TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION\n\n   1. Definitions.\n\n      \"License\" shall mean the terms and conditions for use, reproduction,\n      and distribution as defined by Sections 1 through 9 of this document.\n\n      \"Licensor\" shall mean the copyright owner or entity authorized by\n      the copyright owner that is granting the License.\n\n      \"Legal Entity\" shall mean the union of the acting entity and all\n      other entities that control, are controlled by, or are under common\n      control with that entity. For the purposes of this definition,\n      \"control\" means (i) the power, direct or indirect, to cause the\n      direction or management of such entity, whether by contract or\n      otherwise, or (ii) ownership of fifty percent (50%) or more of the\n      outstanding shares, or (iii) beneficial ownership of such entity.\n\n      \"You\" (or \"Your\") shall mean an individual or Legal Entity\n      exercising permissions granted by this License.\n\n      \"Source\" form shall mean the preferred form for making modifications,\n      including but not limited to software source code, documentation\n      source, and configuration files.\n\n      \"Object\" form shall mean any form resulting from mechanical\n      transformation or translation of a Source form, including but\n      not limited to compiled object code, generated documentation,\n      and conversions to other media types.\n\n      \"Work\" shall mean the work of authorship, whether in Source or\n      Object form, made available under the License, as indicated by a\n      copyright notice that is included in or attached to the work\n      (an example is provided in the Appendix below).\n\n      \"Derivative Works\" shall mean any work, whether in Source or Object\n      form, that is based on (or derived from) the Work and for which the\n      editorial revisions, annotations, elaborations, or other modifications\n      represent, as a whole, an original work of authorship. For the purposes\n      of this License, Derivative Works shall not include works that remain\n      separable from, or merely link (or bind by name) to the interfaces of,\n      the Work and Derivative Works thereof.\n\n      \"Contribution\" shall mean any work of authorship, including\n      the original version of the Work and any modifications or additions\n      to that Work or Derivative Works thereof, that is intentionally\n      submitted to Licensor for inclusion in the Work by the copyright owner\n      or by an individual or Legal Entity authorized to submit on behalf of\n      the copyright owner. For the purposes of this definition, \"submitted\"\n      means any form of electronic, verbal, or written communication sent\n      to the Licensor or its representatives, including but not limited to\n      communication on electronic mailing lists, source code control systems,\n      and issue tracking systems that are managed by, or on behalf of, the\n      Licensor for the purpose of discussing and improving the Work, but\n      excluding communication that is conspicuously marked or otherwise\n      designated in writing by the copyright owner as \"Not a Contribution.\"\n\n      \"Contributor\" shall mean Licensor and any individual or Legal Entity\n      on behalf of whom a Contribution has been received by Licensor and\n      subsequently incorporated within the Work.\n\n   2. Grant of Copyright License. Subject to the terms and conditions of\n      this License, each Contributor hereby grants to You a perpetual,\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n      copyright license to reproduce, prepare Derivative Works of,\n      publicly display, publicly perform, sublicense, and distribute the\n      Work and such Derivative Works in Source or Object form.\n\n   3. Grant of Patent License. Subject to the terms and conditions of\n      this License, each Contributor hereby grants to You a perpetual,\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n      (except as stated in this section) patent license to make, have made,\n      use, offer to sell, sell, import, and otherwise transfer the Work,\n      where such license applies only to those patent claims licensable\n      by such Contributor that are necessarily infringed by their\n      Contribution(s) alone or by combination of their Contribution(s)\n      with the Work to which such Contribution(s) was submitted. If You\n      institute patent litigation against any entity (including a\n      cross-claim or counterclaim in a lawsuit) alleging that the Work\n      or a Contribution incorporated within the Work constitutes direct\n      or contributory patent infringement, then any patent licenses\n      granted to You under this License for that Work shall terminate\n      as of the date such litigation is filed.\n\n   4. Redistribution. You may reproduce and distribute copies of the\n      Work or Derivative Works thereof in any medium, with or without\n      modifications, and in Source or Object form, provided that You\n      meet the following conditions:\n\n      (a) You must give any other recipients of the Work or\n          Derivative Works a copy of this License; and\n\n      (b) You must cause any modified files to carry prominent notices\n          stating that You changed the files; and\n\n      (c) You must retain, in the Source form of any Derivative Works\n          that You distribute, all copyright, patent, trademark, and\n          attribution notices from the Source form of the Work,\n          excluding those notices that do not pertain to any part of\n          the Derivative Works; and\n\n      (d) If the Work includes a \"NOTICE\" text file as part of its\n          distribution, then any Derivative Works that You distribute must\n          include a readable copy of the attribution notices contained\n          within such NOTICE file, excluding those notices that do not\n          pertain to any part of the Derivative Works, in at least one\n          of the following places: within a NOTICE text file distributed\n          as part of the Derivative Works; within the Source form or\n          documentation, if provided along with the Derivative Works; or,\n          within a display generated by the Derivative Works, if and\n          wherever such third-party notices normally appear. The contents\n          of the NOTICE file are for informational purposes only and\n          do not modify the License. You may add Your own attribution\n          notices within Derivative Works that You distribute, alongside\n          or as an addendum to the NOTICE text from the Work, provided\n          that such additional attribution notices cannot be construed\n          as modifying the License.\n\n      You may add Your own copyright statement to Your modifications and\n      may provide additional or different license terms and conditions\n      for use, reproduction, or distribution of Your modifications, or\n      for any such Derivative Works as a whole, provided Your use,\n      reproduction, and distribution of the Work otherwise complies with\n      the conditions stated in this License.\n\n   5. Submission of Contributions. Unless You explicitly state otherwise,\n      any Contribution intentionally submitted for inclusion in the Work\n      by You to the Licensor shall be under the terms and conditions of\n      this License, without any additional terms or conditions.\n      Notwithstanding the above, nothing herein shall supersede or modify\n      the terms of any separate license agreement you may have executed\n      with Licensor regarding such Contributions.\n\n   6. Trademarks. This License does not grant permission to use the trade\n      names, trademarks, service marks, or product names of the Licensor,\n      except as required for reasonable and customary use in describing the\n      origin of the Work and reproducing the content of the NOTICE file.\n\n   7. Disclaimer of Warranty. Unless required by applicable law or\n      agreed to in writing, Licensor provides the Work (and each\n      Contributor provides its Contributions) on an \"AS IS\" BASIS,\n      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or\n      implied, including, without limitation, any warranties or conditions\n      of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A\n      PARTICULAR PURPOSE. You are solely responsible for determining the\n      appropriateness of using or redistributing the Work and assume any\n      risks associated with Your exercise of permissions under this License.\n\n   8. Limitation of Liability. In no event and under no legal theory,\n      whether in tort (including negligence), contract, or otherwise,\n      unless required by applicable law (such as deliberate and grossly\n      negligent acts) or agreed to in writing, shall any Contributor be\n      liable to You for damages, including any direct, indirect, special,\n      incidental, or consequential damages of any character arising as a\n      result of this License or out of the use or inability to use the\n      Work (including but not limited to damages for loss of goodwill,\n      work stoppage, computer failure or malfunction, or any and all\n      other commercial damages or losses), even if such Contributor\n      has been advised of the possibility of such damages.\n\n   9. Accepting Warranty or Additional Liability. While redistributing\n      the Work or Derivative Works thereof, You may choose to offer,\n      and charge a fee for, acceptance of support, warranty, indemnity,\n      or other liability obligations and/or rights consistent with this\n      License. However, in accepting such obligations, You may act only\n      on Your own behalf and on Your sole responsibility, not on behalf\n      of any other Contributor, and only if You agree to indemnify,\n      defend, and hold each Contributor harmless for any liability\n      incurred by, or claims asserted against, such Contributor by reason\n      of your accepting any such warranty or additional liability.\n\n   END OF TERMS AND CONDITIONS\n\n   APPENDIX: How to apply the Apache License to your work.\n\n      To apply the Apache License to your work, attach the following\n      boilerplate notice, with the fields enclosed by brackets \"{}\"\n      replaced with your own identifying information. (Don't include\n      the brackets!)  The text should be enclosed in the appropriate\n      comment syntax for the file format. We also recommend that a\n      file or class name and description of purpose be included on the\n      same \"printed page\" as the copyright notice for easier\n      identification within third-party archives.\n\n   Copyright {yyyy} {name of copyright owner}\n\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\n       https://www.apache.org/licenses/LICENSE-2.0\n\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n"
        },
        {
          "name": "Makefile",
          "type": "blob",
          "size": 41.689453125,
          "content": "###\n### Makefile Navigation\n###\n#\n# This file is organized based on approximate end-to-end workflow:\n#\n# 1.  Variables and common definitions are located at the top\n#     to make finding them quicker.\n# 2.  Main entry-point targets, like \"default\", \"all\", and \"help\"\n# 3.  Targets for code formatting and validation\n# 4.  Primary build targets, like podman and podman-remote\n# 5.  Secondary build targets, shell completions, static and multi-arch.\n# 6.  Targets that format and build documentation\n# 7.  Testing targets\n# 8.  Release and package-building targets\n# 9.  Targets that install tools, utilities, binaries and packages\n# 10. Uninstall / Cleanup targets\n#\n###\n### Variables & Definitions\n###\n\n# Default shell `/bin/sh` has different meanings depending on the platform.\nSHELL := $(shell command -v bash;)\nGO ?= go\nGO_LDFLAGS:= $(shell if $(GO) version|grep -q gccgo ; then echo \"-gccgoflags\"; else echo \"-ldflags\"; fi)\nGOCMD = CGO_ENABLED=$(CGO_ENABLED) GOOS=$(GOOS) GOARCH=$(GOARCH) $(GO)\nCOVERAGE_PATH ?= .coverage\nDESTDIR ?=\nEPOCH_TEST_COMMIT ?= $(shell git merge-base $${DEST_BRANCH:-main} HEAD)\nHEAD ?= HEAD\nPROJECT := github.com/containers/podman\nGIT_BASE_BRANCH ?= origin/main\nLIBPOD_INSTANCE := libpod_dev\nPREFIX ?= /usr/local\nRELEASE_PREFIX = /usr\nBINDIR ?= ${PREFIX}/bin\nLIBEXECDIR ?= ${PREFIX}/libexec\nLIBEXECPODMAN ?= ${LIBEXECDIR}/podman\nMANDIR ?= ${PREFIX}/share/man\nSHAREDIR_CONTAINERS ?= ${PREFIX}/share/containers\nETCDIR ?= /etc\nLIBDIR ?= ${PREFIX}/lib\nTMPFILESDIR ?= ${LIBDIR}/tmpfiles.d\nUSERTMPFILESDIR ?= ${PREFIX}/share/user-tmpfiles.d\nMODULESLOADDIR ?= ${LIBDIR}/modules-load.d\nSYSTEMDDIR ?= ${LIBDIR}/systemd/system\nUSERSYSTEMDDIR ?= ${LIBDIR}/systemd/user\nSYSTEMDGENERATORSDIR ?= ${LIBDIR}/systemd/system-generators\nUSERSYSTEMDGENERATORSDIR ?= ${LIBDIR}/systemd/user-generators\nREMOTETAGS ?= remote exclude_graphdriver_btrfs btrfs_noversion exclude_graphdriver_devicemapper containers_image_openpgp\nBUILDTAGS ?= \\\n\t$(shell hack/apparmor_tag.sh) \\\n\t$(shell hack/btrfs_installed_tag.sh) \\\n\t$(shell hack/btrfs_tag.sh) \\\n\t$(shell hack/systemd_tag.sh) \\\n\t$(shell hack/libsubid_tag.sh) \\\n\texclude_graphdriver_devicemapper \\\n\tseccomp\n# allow downstreams to easily add build tags while keeping our defaults\nBUILDTAGS += ${EXTRA_BUILDTAGS}\n# N/B: This value is managed by Renovate, manual changes are\n# possible, as long as they don't disturb the formatting\n# (i.e. DO NOT ADD A 'v' prefix!)\nGOLANGCI_LINT_VERSION := 1.63.4\nPYTHON ?= $(shell command -v python3 python|head -n1)\nPKG_MANAGER ?= $(shell command -v dnf yum|head -n1)\n# ~/.local/bin is not in PATH on all systems\nPRE_COMMIT = $(shell command -v bin/venv/bin/pre-commit ~/.local/bin/pre-commit pre-commit | head -n1)\nifeq ($(shell uname -s),FreeBSD)\nSED=gsed\nGREP=ggrep\nMAN_L=\tmandoc\n# FreeBSD needs CNI until netavark is supported\nBUILDTAGS += cni\nelse\nSED=sed\nGREP=grep\nMAN_L=\tman -l\nendif\n\n# This isn't what we actually build; it's a superset, used for target\n# dependencies. Basically: all *.go and *.c files, except *_test.go,\n# and except anything in a dot subdirectory. If any of these files is\n# newer than our target (bin/podman{,-remote}), a rebuild is\n# triggered.\nSOURCES = $(shell find . -path './.*' -prune -o \\( \\( -name '*.go' -o -name '*.c' \\) -a ! -name '*_test.go' \\) -print)\n\nBUILDTAGS_CROSS ?= containers_image_openpgp exclude_graphdriver_btrfs exclude_graphdriver_devicemapper exclude_graphdriver_overlay\nCONTAINER_RUNTIME := $(shell command -v podman 2> /dev/null || echo docker)\nOCI_RUNTIME ?= \"\"\n\n# The 'sort' below is crucial: without it, 'make docs' behaves differently\n# on the first run than on subsequent ones, because the generated .md\nMANPAGES_SOURCE_DIR = docs/source/markdown\nMANPAGES_MD_IN ?= $(wildcard $(MANPAGES_SOURCE_DIR)/*.md.in)\nMANPAGES_MD_GENERATED ?= $(MANPAGES_MD_IN:%.md.in=%.md)\nMANPAGES_MD ?= $(sort $(wildcard $(MANPAGES_SOURCE_DIR)/*.md) $(MANPAGES_MD_GENERATED) $(MANPAGES_SOURCE_DIR)/podman-troubleshooting.7.md $(MANPAGES_SOURCE_DIR)/podman-rootless.7.md)\nMANPAGES ?= $(MANPAGES_MD:%.md=%)\nMANPAGES_DEST ?= $(subst markdown,man, $(subst source,build,$(MANPAGES)))\n\nBASHINSTALLDIR=${PREFIX}/share/bash-completion/completions\nZSHINSTALLDIR=${PREFIX}/share/zsh/site-functions\nFISHINSTALLDIR=${PREFIX}/share/fish/vendor_completions.d\n\nSELINUXOPT ?= $(shell test -x /usr/sbin/selinuxenabled && selinuxenabled && echo -Z)\n\n\nCOMMIT_NO ?= $(shell git rev-parse HEAD 2> /dev/null || true)\nGIT_COMMIT ?= $(if $(shell git status --porcelain --untracked-files=no),$(call err_if_empty,COMMIT_NO)-dirty,$(COMMIT_NO))\nDATE_FMT = %s\nifdef SOURCE_DATE_EPOCH\n\tBUILD_INFO ?= $(shell date -u -d \"@$(call err_if_empty,SOURCE_DATE_EPOCH)\" \"+$(DATE_FMT)\" 2>/dev/null || date -u -r \"$(SOURCE_DATE_EPOCH)\" \"+$(DATE_FMT)\" 2>/dev/null || date -u \"+$(DATE_FMT)\")\nelse\n\tBUILD_INFO ?= $(shell date \"+$(DATE_FMT)\")\nendif\nLIBPOD := ${PROJECT}/v5/libpod\nGOFLAGS ?= -trimpath\nLDFLAGS_PODMAN ?= \\\n\t$(if $(GIT_COMMIT),-X $(LIBPOD)/define.gitCommit=$(GIT_COMMIT),) \\\n\t$(if $(BUILD_INFO),-X $(LIBPOD)/define.buildInfo=$(BUILD_INFO),) \\\n\t-X $(LIBPOD)/config._installPrefix=$(PREFIX) \\\n\t-X $(LIBPOD)/config._etcDir=$(ETCDIR) \\\n\t-X $(PROJECT)/v5/pkg/systemd/quadlet._binDir=$(BINDIR) \\\n\t-X github.com/containers/common/pkg/config.additionalHelperBinariesDir=$(HELPER_BINARIES_DIR)\\\n\t$(EXTRA_LDFLAGS)\nLDFLAGS_PODMAN_STATIC ?= \\\n\t$(LDFLAGS_PODMAN) \\\n\t-extldflags=-static\n#Update to LIBSECCOMP_COMMIT should reflect in Dockerfile too.\nLIBSECCOMP_COMMIT := v2.3.3\n# Rarely if ever should integration tests take more than 50min,\n# caller may override in special circumstances if needed.\nGINKGOTIMEOUT ?= -timeout=90m\n# By default, run test/e2e\nGINKGOWHAT ?= test/e2e/.\nGINKGO_PARALLEL=y\nGINKGO ?= ./test/tools/build/ginkgo\n\n# Allow control over some Ginkgo parameters\nGINKGO_FLAKE_ATTEMPTS ?= 0\nGINKGO_NO_COLOR ?= y\n\n# Conditional required to produce empty-output if binary not built yet.\nRELEASE_VERSION = $(shell if test -x test/version/version; then test/version/version; fi)\nRELEASE_NUMBER = $(shell echo \"$(call err_if_empty,RELEASE_VERSION)\" | sed -e 's/^v\\(.*\\)/\\1/')\n\n# If non-empty, logs all output from server during remote system testing\nPODMAN_SERVER_LOG ?=\n\n# Ensure GOBIN is not set so the default (`go env GOPATH`/bin) is used.\noverride undefine GOBIN\n# This must never include the 'hack' directory\nexport PATH := $(shell $(GO) env GOPATH)/bin:$(PATH)\n\nGOMD2MAN ?= ./test/tools/build/go-md2man\n\n# There are many possibly unexpected places where podman is used.  For example\n# by OpenWRT for routers and other similar small \"edge\" devices.  Testing builds\n# for otherwise non-mainstream architectures ensures we catch platform-specific\n# toolchain shenanigans early, for example:\n# https://github.com/containers/podman/issues/8782\nCROSS_BUILD_TARGETS := \\\n\tbin/podman.cross.linux.amd64 \\\n\tbin/podman.cross.linux.ppc64le \\\n\tbin/podman.cross.linux.arm \\\n\tbin/podman.cross.linux.arm64 \\\n\tbin/podman.cross.linux.386 \\\n\tbin/podman.cross.linux.s390x \\\n\tbin/podman.cross.linux.loong64 \\\n\tbin/podman.cross.linux.mips \\\n\tbin/podman.cross.linux.mipsle \\\n\tbin/podman.cross.linux.mips64 \\\n\tbin/podman.cross.linux.mips64le \\\n\tbin/podman.cross.linux.riscv64 \\\n\tbin/podman.cross.freebsd.amd64 \\\n\tbin/podman.cross.freebsd.arm64\n\n# Dereference variable $(1), return value if non-empty, otherwise raise an error.\nerr_if_empty = $(if $(strip $($(1))),$(strip $($(1))),$(error Required variable $(1) value is undefined, whitespace, or empty))\n\n# Podman does not work w/o CGO_ENABLED, except in some very specific cases.\n# Windows and Mac (both podman-remote client only) require CGO_ENABLED=0.\nCGO_ENABLED ?= 1\n# Default to the native OS type and architecture unless otherwise specified\nNATIVE_GOOS := $(shell env -u GOOS $(GO) env GOOS)\nGOOS ?= $(call err_if_empty,NATIVE_GOOS)\n# Default to the native architecture type\nNATIVE_GOARCH := $(shell env -u GOARCH $(GO) env GOARCH)\nGOARCH ?= $(NATIVE_GOARCH)\nifeq ($(call err_if_empty,GOOS),windows)\nBINSFX := .exe\nSRCBINDIR := bin/windows\nCGO_ENABLED := 0\nelse ifeq ($(GOOS),darwin)\nBINSFX :=\nSRCBINDIR := bin/darwin\nCGO_ENABLED := 0\nelse ifeq ($(GOOS),freebsd)\nBINSFX := -remote\nSRCBINDIR := bin\nRELEASE_PREFIX = /usr/local\nelse\nBINSFX := -remote\nSRCBINDIR := bin\nendif\n# Necessary for nested-$(MAKE) calls and docs/remote-docs.sh\nexport GOOS GOARCH CGO_ENABLED BINSFX SRCBINDIR\n\n# Need to use CGO for mDNS resolution, but cross builds need CGO disabled\n# See https://github.com/golang/go/issues/12524 for details\nDARWIN_GCO := 0\nifeq ($(call err_if_empty,NATIVE_GOOS),darwin)\nifdef HOMEBREW_PREFIX\n\tDARWIN_GCO := 1\nendif\nendif\n\n# gvisor-tap-vsock version for gvproxy.exe and win-sshproxy.exe downloads\n# the upstream project ships pre-built binaries since version 0.7.1\nGV_VERSION=v0.8.1\n\n###\n### Primary entry-point targets\n###\n\n.PHONY: default\ndefault: all\n\n.PHONY: all\nall: binaries docs\n\n.PHONY: binaries\nifeq ($(shell uname -s),FreeBSD)\nbinaries: podman podman-remote ## Build podman and podman-remote binaries\nelse ifneq (, $(findstring $(GOOS),darwin windows))\nbinaries: podman-remote ## Build podman-remote (client) only binaries\nelse\nbinaries: podman podman-remote podman-testing podmansh rootlessport quadlet ## Build podman, podman-remote and rootlessport binaries quadlet\nendif\n\n# Extract text following double-# for targets, as their description for\n# the `help` target.  Otherwise these simple-substitutions are resolved\n# at reference-time (due to `=` and not `=:`).\n_HLP_TGTS_RX = '^[[:print:]]+:.*?\\#\\# .*$$'\n_HLP_TGTS_CMD = $(GREP) -E $(_HLP_TGTS_RX) $(MAKEFILE_LIST)\n_HLP_TGTS_LEN = $(shell $(call err_if_empty,_HLP_TGTS_CMD) | cut -d : -f 1 | wc -L 2>/dev/null || echo \"PARSING_ERROR\")\n# Separated condition for Darwin\nifeq ($(shell uname -s)$(_HLP_TGTS_LEN),DarwinPARSING_ERROR)\nifneq (,$(wildcard /usr/local/bin/gwc))\n_HLP_TGTS_LEN = $(shell $(call err_if_empty,_HLP_TGTS_CMD) | cut -d : -f 1 | gwc -L)\nelse\n$(warning On Darwin (MacOS) installed coreutils is necessary)\n$(warning Use 'brew install coreutils' command to install coreutils on your system)\nendif\nendif\n_HLPFMT = \"%-$(call err_if_empty,_HLP_TGTS_LEN)s %s\\n\"\n.PHONY: help\nhelp: ## (Default) Print listing of key targets with their descriptions\n\t@printf $(_HLPFMT) \"Target:\" \"Description:\"\n\t@printf $(_HLPFMT) \"--------------\" \"--------------------\"\n\t@$(_HLP_TGTS_CMD) | sort | \\\n\t\tawk 'BEGIN {FS = \":(.*)?## \"}; \\\n\t\t\t{printf $(_HLPFMT), $$1, $$2}'\n\n###\n### Linting/Formatting/Code Validation targets\n###\n\n.PHONY: .gitvalidation\n.gitvalidation: .install.gitvalidation\n\t@echo \"Validating vs commit '$(call err_if_empty,EPOCH_TEST_COMMIT)'\"\n\tGIT_CHECK_EXCLUDE=\"./vendor:./test/tools/vendor:docs/make.bat:test/buildah-bud/buildah-tests.diff:test/e2e/quadlet/remap-keep-id2.container\" ./test/tools/build/git-validation -run short-subject -range $(EPOCH_TEST_COMMIT)..$(HEAD)\n\n.PHONY: lint\nlint: golangci-lint\nifeq ($(PRE_COMMIT),)\n\t@echo \"FATAL: pre-commit was not found, make .install.pre-commit to installing it.\" >&2\n\t@exit 2\nendif\n\t$(PRE_COMMIT) run -a\n\n.PHONY: golangci-lint\ngolangci-lint: .install.golangci-lint\n\thack/golangci-lint.sh run\n\n.PHONY: test/checkseccomp/checkseccomp\ntest/checkseccomp/checkseccomp: $(wildcard test/checkseccomp/*.go)\n\t$(GOCMD) build $(BUILDFLAGS) $(GO_LDFLAGS) '$(LDFLAGS_PODMAN)' -tags \"$(BUILDTAGS)\" -o $@ ./test/checkseccomp\n\n.PHONY: test/testvol/testvol\ntest/testvol/testvol: $(wildcard test/testvol/*.go)\n\t$(GOCMD) build -o $@ ./test/testvol\n\n.PHONY: volume-plugin-test-img\nvolume-plugin-test-img:\n\t./bin/podman build --network none -t quay.io/libpod/volume-plugin-test-img:$$(date +%Y%m%d) -f ./test/testvol/Containerfile .\n\n.PHONY: test/goecho/goecho\ntest/goecho/goecho: $(wildcard test/goecho/*.go)\n\t$(GOCMD) build $(BUILDFLAGS) $(GO_LDFLAGS) '$(LDFLAGS_PODMAN)' -o $@ ./test/goecho\n\n# The ./test/version/version binary is executed in other make steps\n# so we have to make sure the version binary is built for NATIVE_GOARCH.\ntest/version/version: version/version.go\n\tGOARCH=$(NATIVE_GOARCH) $(GO) build -o $@ ./test/version/\n\n.PHONY: codespell\ncodespell:\n\t# Configuration for codespell is in .codespellrc\n\tcodespell -w\n\n# Code validation target that **DOES NOT** require building podman binaries\n.PHONY: validate-source\nvalidate-source: lint .gitvalidation swagger-check tests-expect-exit pr-removes-fixed-skips\n\n# Code validation target that **DOES** require building podman binaries\n.PHONY: validate-binaries\nvalidate-binaries: man-page-check validate.completions\n\n.PHONY: validate\nvalidate: validate-source validate-binaries\n\n# The image used below is generated manually from contrib/validatepr/Containerfile in this podman repo.  The builds are\n# not automated right now.  The hope is that eventually the quay.io/libpod/fedora_podman is multiarch and can replace this\n# image in the future.\n.PHONY: validatepr\nvalidatepr:\n\t$(PODMANCMD) run --rm \\\n\t\t-v $(CURDIR):/go/src/github.com/containers/podman \\\n\t\t--security-opt label=disable \\\n\t\t-it \\\n\t\t-w /go/src/github.com/containers/podman \\\n\t\tquay.io/libpod/validatepr:latest  \\\n\t\tmake .validatepr\n\n.PHONY: .validatepr\n.validatepr:\n\tenv BUILDTAGS=\"$(BUILDTAGS)\" REMOTETAGS=\"$(REMOTETAGS)\" contrib/validatepr/validatepr.sh\n\n.PHONY: build-all-new-commits\nbuild-all-new-commits:\n\t# Validate that all the commits build on top of $(GIT_BASE_BRANCH)\n\tgit rebase $(call err_if_empty,GIT_BASE_BRANCH) -x \"$(MAKE)\"\n\n.PHONY: vendor\nvendor:\n\t$(GO) mod tidy\n\t$(GO) mod vendor\n\t$(GO) mod verify\n\t$(GO) mod edit -toolchain none\n\n\n# We define *-in-container targets for the following make targets. This allow the targets to be run in a container.\n# Note that the PODMANCMD can also be overridden to allow a different container CLI to be used on systems where podman is not already available.\nIN_CONTAINER_TARGETS = vendor validate\nPODMANCMD ?= podman\nIN_CONTAINER = $(patsubst %,%-in-container,$(IN_CONTAINER_TARGETS))\n\n.PHONY: $(IN_CONTAINER)\n$(IN_CONTAINER): %-in-container:\n\t$(PODMANCMD) run --rm --env HOME=/root \\\n\t\t-v $(CURDIR):/src -w /src \\\n\t\t--security-opt label=disable \\\n\t\tdocker.io/library/golang:1.22 \\\n\t\tmake $(*)\n\n\n###\n### Primary binary-build targets\n###\n\n# Make sure to warn in case we're building without the systemd buildtag.\nbin/podman: $(SOURCES) go.mod go.sum\nifeq (,$(findstring systemd,$(BUILDTAGS)))\n\t@echo \"Podman is being compiled without the systemd build tag. \\\n\t\tInstall libsystemd on Ubuntu or systemd-devel on rpm based \\\n\t\tdistro for journald support.\"\nendif\n\t$(GOCMD) build \\\n\t\t$(BUILDFLAGS) \\\n\t\t$(GO_LDFLAGS) '$(LDFLAGS_PODMAN)' \\\n\t\t-tags \"$(BUILDTAGS)\" \\\n\t\t-o $@ ./cmd/podman\n\ttest -z \"${SELINUXOPT}\" || chcon -t container_runtime_exec_t $@\n\n# Disambiguate Linux vs Darwin/Windows platform binaries under distinct \"bin\" dirs\n$(SRCBINDIR):\n\tmkdir -p $(SRCBINDIR)\n\n# '|' is to ignore SRCBINDIR mtime; see: info make 'Types of Prerequisites'\n$(SRCBINDIR)/podman$(BINSFX): $(SOURCES) go.mod go.sum | $(SRCBINDIR)\n\t$(GOCMD) build \\\n\t\t$(BUILDFLAGS) \\\n\t\t$(GO_LDFLAGS) '$(LDFLAGS_PODMAN)' \\\n\t\t-tags \"${REMOTETAGS}\" \\\n\t\t-o $@ ./cmd/podman\n\n$(SRCBINDIR)/podman-remote-static-linux_%: GOARCH = $(patsubst $(SRCBINDIR)/podman-remote-static-linux_%,%,$@)\n$(SRCBINDIR)/podman-remote-static-linux_%: GOOS = linux\n$(SRCBINDIR)/podman-remote-static $(SRCBINDIR)/podman-remote-static-linux_amd64 $(SRCBINDIR)/podman-remote-static-linux_arm64: $(SRCBINDIR) $(SOURCES) go.mod go.sum\n\tCGO_ENABLED=0 \\\n\t$(GO) build \\\n\t\t$(BUILDFLAGS) \\\n\t\t$(GO_LDFLAGS) '$(LDFLAGS_PODMAN_STATIC)' \\\n\t\t-tags \"${REMOTETAGS}\" \\\n\t\t-o $@ ./cmd/podman\n\n.PHONY: podman\npodman: bin/podman\n\n# This will map to the right thing on Linux, Windows, and Mac.\n.PHONY: podman-remote\npodman-remote: $(SRCBINDIR)/podman$(BINSFX)\n\n$(SRCBINDIR)/quadlet: $(SOURCES) go.mod go.sum\n\t$(GOCMD) build \\\n\t\t$(BUILDFLAGS) \\\n\t\t$(GO_LDFLAGS) '$(LDFLAGS_PODMAN)' \\\n\t\t-tags \"${BUILDTAGS}\" \\\n\t\t-o $@ ./cmd/quadlet\n\n.PHONY: quadlet\nquadlet: bin/quadlet\n\n.PHONY: podman-remote-static podman-remote-static-linux_amd64 podman-remote-static-linux_arm64\npodman-remote-static: $(SRCBINDIR)/podman-remote-static\npodman-remote-static-linux_amd64: $(SRCBINDIR)/podman-remote-static-linux_amd64\npodman-remote-static-linux_arm64: $(SRCBINDIR)/podman-remote-static-linux_arm64\n\n.PHONY: podman-winpath\npodman-winpath: $(SOURCES) go.mod go.sum\n\tCGO_ENABLED=0 \\\n\t\tGOOS=windows \\\n\t\t$(GO) build \\\n\t\t$(BUILDFLAGS) \\\n\t\t-ldflags -H=windowsgui \\\n\t\t-o bin/windows/winpath.exe \\\n\t\t./cmd/winpath\n\n.PHONY: podman-mac-helper\npodman-mac-helper: ## Build podman-mac-helper for macOS\n\tCGO_ENABLED=0 \\\n\t\tGOOS=darwin \\\n\t\tGOARCH=$(GOARCH) \\\n\t\t$(GO) build \\\n\t\t$(BUILDFLAGS) \\\n\t\t-o bin/darwin/podman-mac-helper \\\n\t\t./cmd/podman-mac-helper\n\nbin/rootlessport: $(SOURCES) go.mod go.sum\n\tCGO_ENABLED=$(CGO_ENABLED) \\\n\t\t$(GO) build \\\n\t\t$(BUILDFLAGS) \\\n\t\t-o $@ ./cmd/rootlessport\n\n.PHONY: rootlessport\nrootlessport: bin/rootlessport\n\n# podmansh calls `podman exec` into the `podmansh` container when used as\n# os.Args[0] and is intended to be set as a login shell for users.\n# Run: `man 1 podmansh` for details.\npodmansh: bin/podman\n\tif [ ! -f bin/podmansh ]; then ln -s podman bin/podmansh; fi\n\n$(SRCBINDIR)/podman-testing: $(SOURCES) go.mod go.sum\n\t$(GOCMD) build \\\n\t\t$(BUILDFLAGS) \\\n\t\t$(GO_LDFLAGS) '$(LDFLAGS_PODMAN)' \\\n\t\t-tags \"${BUILDTAGS}\" \\\n\t\t-o $@ ./cmd/podman-testing\n\n.PHONY: podman-testing\npodman-testing: bin/podman-testing\n\n###\n### Secondary binary-build targets\n###\n\n.PHONY: generate-bindings\ngenerate-bindings:\nifneq ($(GOOS),darwin)\n\t$(GOCMD) generate ./pkg/bindings/... ;\nendif\n\n# DO NOT USE: use local-cross instead\nbin/podman.cross.%:\n\tTARGET=\"$*\"; \\\n\tGOOS=\"$${TARGET%%.*}\"; \\\n\tGOARCH=\"$${TARGET##*.}\"; \\\n\tCGO_ENABLED=0 \\\n\t\t$(GO) build \\\n\t\t$(BUILDFLAGS) \\\n\t\t$(GO_LDFLAGS) '$(LDFLAGS_PODMAN)' \\\n\t\t-tags '$(BUILDTAGS_CROSS)' \\\n\t\t-o \"$@\" ./cmd/podman\n\n.PHONY: local-cross\nlocal-cross: $(CROSS_BUILD_TARGETS) ## Cross compile podman binary for multiple architectures\n\n.PHONY: cross\ncross: local-cross\n\n# Simple target to check that we can build all binaries for another arch,\n# the resulting binaries are not meant to be usable this is just for\n# testing if it builds, it depends on the caller to set GOOS/GOARCH.\n.PHONY: cross-binaries\ncross-binaries:\n\t$(MAKE) CGO_ENABLED=0 GOOS=$(GOOS) GOARCH=$(GOARCH) \\\n\t\tBUILDTAGS=\"$(BUILDTAGS_CROSS)\" clean-binaries binaries\n\n.PHONY: completions\ncompletions: podman podman-remote\n\t# key = shell, value = completion filename\n\tdeclare -A outfiles=([bash]=%s [zsh]=_%s [fish]=%s.fish [powershell]=%s.ps1);\\\n\tfor shell in $${!outfiles[*]}; do \\\n\t    for remote in \"\" \"-remote\"; do \\\n\t\tpodman=\"podman$$remote\"; \\\n\t\toutfile=$$(printf \"completions/$$shell/$${outfiles[$$shell]}\" $$podman); \\\n\t\t./bin/$$podman completion $$shell >| $$outfile; \\\n\t    done;\\\n\tdone\n\n###\n### Documentation targets\n###\n\npkg/api/swagger.yaml: .install.swagger\n\tmake -C pkg/api\n\n$(MANPAGES_MD_GENERATED): %.md: %.md.in $(MANPAGES_SOURCE_DIR)/options/*.md\n\thack/markdown-preprocess\n\n$(MANPAGES_SOURCE_DIR)/podman-troubleshooting.7.md: troubleshooting.md\n\t( echo \"% podman-troubleshooting 7\"; echo; sed -e '/logo.*\\.png/d' <$< ) >$@.tmp.$$ && \\\n\t\tmv $@.tmp.$$ $@\n\n$(MANPAGES_SOURCE_DIR)/podman-rootless.7.md: rootless.md\n\t( echo \"% podman-rootless 7\"; echo; sed -e '/logo.*\\.png/d' <$< ) >$@.tmp.$$ && \\\n\t\tmv $@.tmp.$$ $@\n\n$(MANPAGES): OUTFILE=$(subst source/markdown,build/man,$@)\n$(MANPAGES): %: %.md .install.md2man docdir\n\n# This does a bunch of filtering needed for man pages:\n#  1. Convert all markdown site links to plain text:\n#           [foo](https://www.....)   ->   foo\n#  2. Strip man-page targets like '[podman(1)](podman.1.md)'\n#     to just '[podman(1)]', because man pages have no link mechanism;\n#  3. Then remove the brackets: '[podman(1)]' -> 'podman(1)';\n#  4. Remove HTML-ish stuff like '<sup>..</sup>' and '<a>..</a>'\n#  5. Replace \"\\\" (backslash) at EOL with two spaces (no idea why)\n# Then two sanity checks:\n#  1. test for \"included file options/blahblah\"; this indicates a failure\n#     in the markdown-preprocess tool; and\n#  2. run 'man -l' against the generated man page, and check for tables\n#     with an empty right-hand column followed by an empty left-hand\n#     column on the next line. (Technically, on the next-next line,\n#     because the next line must be table borders). This is a horrible\n#     unmaintainable rats-nest of duplication, obscure grep options, and\n#     ASCII art. I (esm) believe the cost of releasing corrupt man pages\n#     is higher than the cost of carrying this kludge.\n#\n\t@$(SED) -e 's/\\[\\([^]]*\\)](http[^)]\\+)/\\1/g'         \\\n\t        -e 's/\\((podman[^)]*\\.md\\(#.*\\)\\?)\\)//g'     \\\n\t        -e 's/\\[\\(podman[^]]*\\)\\]/\\1/g'              \\\n\t        -e 's;<\\(/\\)\\?\\(a\\|a\\s\\+[^>]*\\|sup\\)>;;g'    \\\n\t        -e 's/\\\\$$/  /g' $<                         |\\\n\t$(GOMD2MAN) -out $(OUTFILE)\n\t@if grep 'included file options/' $(OUTFILE); then \\\n\t\techo \"FATAL: man pages must not contain ^^^^ in $(OUTFILE)\"; exit 1; \\\n\tfi\n\t@if $(MAN_L) $(OUTFILE)| $(GREP) -Pazoq '│\\s+│\\n\\s+├─+┼─+┤\\n\\s+│\\s+│'; then  \\\n\t\techo \"FATAL: $< has a too-long table column; use 'man -l $(OUTFILE)' and look for empty table cells.\"; exit 1; \\\n\tfi\n\n.PHONY: docdir\ndocdir:\n\tmkdir -p docs/build/man\n\n.PHONY: docs\ndocs: $(MANPAGES) ## Generate documentation\n\t@ln -sf $(CURDIR)/docs/source/markdown/links/* docs/build/man/\n\n# docs/remote-docs.sh requires a locally executable 'podman-remote' binary\n# in addition to the target-architecture binary (if different). That's\n# what the NATIVE_GOOS make does in the first line.\npodman-remote-%-docs: podman-remote\n\t$(MAKE) clean-binaries\n\t$(MAKE) podman-remote GOOS=$(NATIVE_GOOS) GOARCH=$(NATIVE_GOARCH)\n\t$(eval GOOS := $*)\n\t$(MAKE) docs $(MANPAGES)\n\trm -rf docs/build/remote\n\tmkdir -p docs/build/remote\n\tln -sf $(CURDIR)/docs/source/markdown/links docs/build/man/\n\tdocs/remote-docs.sh \\\n\t\t$(GOOS) \\\n\t\tdocs/build/remote/$* \\\n\t\t$(if $(findstring windows,$*),docs/source/markdown,docs/build/man)\n\n.PHONY: man-page-check\nman-page-check: man-page-checker xref-helpmsgs-manpages xref-quadlet-docs xref-quadlet-docs\n\nman-page-checker: bin/podman docs\n\thack/man-page-checker\n\nxref-helpmsgs-manpages: bin/podman docs\n\thack/xref-helpmsgs-manpages\n\nman-page-table-check: docs\n\thack/man-page-table-check\n\nxref-quadlet-docs: docs\n\thack/xref-quadlet-docs\n\n.PHONY: swagger-check\nswagger-check:\n\thack/swagger-check\n\n.PHONY: swagger\nswagger: pkg/api/swagger.yaml\n\n.PHONY: docker-docs\ndocker-docs: docs\n\t(cd docs; ./dckrman.sh ./build/man/*.1)\n\n# Workaround vim syntax highlighting bug: \"\n\n###\n### Utility and Testing targets\n###\n\n.PHONY: validate.completions\nvalidate.completions: SHELL:=/usr/bin/env bash # Set shell to bash for this target\nvalidate.completions: completions\n\t# Check if the files can be loaded by the shell\n\t. completions/bash/podman\n\tif [ -x /bin/zsh ]; then /bin/zsh completions/zsh/_podman; fi\n\tif [ -x /bin/fish ]; then /bin/fish completions/fish/podman.fish; fi\n\n# Note: Assumes test/python/requirements.txt is installed & available\n.PHONY: run-docker-py-tests\nrun-docker-py-tests:\n\ttouch test/__init__.py\n\tenv CONTAINERS_CONF=$(CURDIR)/test/apiv2/containers.conf pytest --disable-warnings test/python/docker/\n\trm -f test/__init__.py\n\n.PHONY: localunit\nlocalunit: test/goecho/goecho test/version/version\n\trm -rf ${COVERAGE_PATH} && mkdir -p ${COVERAGE_PATH}\n\tUNIT=1 $(GINKGO) \\\n\t\t-r \\\n\t\t$(TESTFLAGS) \\\n\t\t--skip-package test/e2e,pkg/bindings,hack,pkg/machine/e2e \\\n\t\t--cover \\\n\t\t--covermode atomic \\\n\t\t--coverprofile coverprofile \\\n\t\t--output-dir ${COVERAGE_PATH} \\\n\t\t--tags \"$(BUILDTAGS)\" \\\n\t\t--succinct\n\t$(GO) tool cover -html=${COVERAGE_PATH}/coverprofile -o ${COVERAGE_PATH}/coverage.html\n\t$(GO) tool cover -func=${COVERAGE_PATH}/coverprofile > ${COVERAGE_PATH}/functions\n\tcat ${COVERAGE_PATH}/functions | sed -n 's/\\(total:\\).*\\([0-9][0-9].[0-9]\\)/\\1 \\2/p'\n\n.PHONY: test\ntest: localunit localintegration remoteintegration localsystem remotesystem  ## Run unit, integration, and system tests.\n\n.PHONY: ginkgo-run\n# e2e tests need access to podman-registry\nginkgo-run: PATH := $(PATH):$(CURDIR)/hack\nginkgo-run: .install.ginkgo\n\t$(GINKGO) version\n\t$(GINKGO) -vv $(TESTFLAGS) --tags \"$(TAGS) remote\" $(GINKGOTIMEOUT) --flake-attempts $(GINKGO_FLAKE_ATTEMPTS) \\\n\t\t--trace $(if $(findstring y,$(GINKGO_NO_COLOR)),--no-color,) \\\n\t\t$(if $(findstring y,$(GINKGO_PARALLEL)),-p,) \\\n\t\t$(if $(FOCUS),--focus \"$(FOCUS)\" --silence-skips,) \\\n\t\t$(if $(FOCUS_FILE),--focus-file \"$(FOCUS_FILE)\" --silence-skips,) $(GINKGOWHAT)\n\n.PHONY: ginkgo\nginkgo:\n\t$(MAKE) ginkgo-run TAGS=\"$(BUILDTAGS)\"\n\n.PHONY: ginkgo-remote\nginkgo-remote:\n\t$(MAKE) ginkgo-run TAGS=\"$(REMOTETAGS) remote_testing\"\n\n.PHONY: testbindings\n# bindings tests need access to podman-registry\ntestbindings: PATH := $(PATH):$(CURDIR)/hack\ntestbindings: .install.ginkgo\n\t$(GINKGO) -v $(TESTFLAGS) --tags \"$(TAGS) remote\" $(GINKGOTIMEOUT) --trace --no-color --timeout 30m  -v -r ./pkg/bindings/test\n\n.PHONY: localintegration\nlocalintegration: test-binaries ginkgo\n\n.PHONY: remoteintegration\nremoteintegration: test-binaries ginkgo-remote\n\n.PHONY: localmachine\nlocalmachine:\n\t# gitCommit needed by logformatter, to link to sources\n\t@echo /define.gitCommit=$(GIT_COMMIT)\n\t$(MAKE) ginkgo-run GINKGO_PARALLEL=n TAGS=\"$(REMOTETAGS)\" GINKGO_FLAKE_ATTEMPTS=0 FOCUS_FILE=$(FOCUS_FILE) GINKGOWHAT=pkg/machine/e2e/.\n\n.PHONY: localsystem\nlocalsystem:\n\t# Wipe existing config, database, and cache: start with clean slate.\n\t$(RM) -rf ${HOME}/.local/share/containers ${HOME}/.config/containers\n\tPODMAN=$(CURDIR)/bin/podman QUADLET=$(CURDIR)/bin/quadlet bats -T --filter-tags '!ci:parallel' test/system/\n\tPODMAN=$(CURDIR)/bin/podman QUADLET=$(CURDIR)/bin/quadlet bats -T --filter-tags ci:parallel -j $$(nproc) test/system/\n\n.PHONY: remotesystem\nremotesystem:\n\t# Wipe existing config, database, and cache: start with clean slate.\n\t$(RM) -rf ${HOME}/.local/share/containers ${HOME}/.config/containers\n\t# . Make sure there's no active podman server - if there is,\n\t#   it's not us, and we have no way to know what it is.\n\t# . Start server. Wait to make sure it comes up.\n\t# . Run tests, pretty much the same as localsystem.\n\t# . Stop server.\n\trc=0;\\\n\tif timeout -v 1 true; then \\\n\t\tif ./bin/podman-remote info; then \\\n\t\t\techo \"Error: podman system service (not ours) is already running\" >&2;\\\n\t\t\texit 1;\\\n\t\tfi;\\\n\t\t./bin/podman system service --timeout=0 > $(if $(PODMAN_SERVER_LOG),$(PODMAN_SERVER_LOG),/dev/null) 2>&1 & \\\n\t\tretry=5;\\\n\t\twhile [ $$retry -ge 0 ]; do\\\n\t\t\techo Waiting for server...;\\\n\t\t\tsleep 1;\\\n\t\t\t./bin/podman-remote info >/dev/null 2>&1 && break;\\\n\t\t\tretry=$$(expr $$retry - 1);\\\n\t\tdone;\\\n\t\tif [ $$retry -lt 0 ]; then\\\n\t\t\techo \"Error: ./bin/podman system service did not come up\" >&2;\\\n\t\t\texit 1;\\\n\t\tfi;\\\n\t\tenv PODMAN=\"$(CURDIR)/bin/podman-remote\" bats -T --filter-tags '!ci:parallel' test/system/ ;\\\n\t\trc=$$?; \\\n\t\tif [ $$rc -eq 0 ]; then \\\n\t\t   env PODMAN=\"$(CURDIR)/bin/podman-remote\" bats -T --filter-tags ci:parallel -j $$(nproc) test/system/ ;\\\n\t\t   rc=$$?;\\\n\t\tfi; \\\n\t\tkill %1;\\\n\telse \\\n\t\techo \"Skipping $@: 'timeout -v' unavailable'\";\\\n\tfi;\\\n\texit $$rc\n\n.PHONY: localapiv2-bash\nlocalapiv2-bash:\n\tenv PODMAN=./bin/podman stdbuf -o0 -e0 ./test/apiv2/test-apiv2\n\n.PHONY: localapiv2-python\nlocalapiv2-python:\n\tenv CONTAINERS_CONF=$(CURDIR)/test/apiv2/containers.conf PODMAN=./bin/podman \\\n\t\tpytest --verbose --disable-warnings ./test/apiv2/python\n\n# Order is important running python tests first causes the bash tests\n# to fail, see 12-imagesMore.  FIXME order of tests should not matter\n.PHONY: localapiv2\nlocalapiv2: localapiv2-bash localapiv2-python\n\n.PHONY: remoteapiv2\nremoteapiv2:\n\ttrue\n\n.PHONY: system.test-binary\nsystem.test-binary: .install.ginkgo\n\t$(GO) test -c ./test/system\n\n.PHONY: test-binaries\ntest-binaries: test/checkseccomp/checkseccomp test/goecho/goecho install.catatonit test/version/version\n\t@echo \"Canonical source version: $(call err_if_empty,RELEASE_VERSION)\"\n\n.PHONY: tests-included\ntests-included:\n\tcontrib/cirrus/pr-should-include-tests\n\n.PHONY: test-jira-links-included\ntest-jira-links-included:\n\tcontrib/cirrus/pr-should-link-jira\n\n.PHONY: tests-expect-exit\ntests-expect-exit:\n\t@if grep -E --line-number 'Expect.*ExitCode' test/e2e/*.go | grep -E -v ', \".*\"\\)'; then \\\n\t\techo \"^^^ Unhelpful use of Expect(ExitCode())\"; \\\n\t\techo \"   Please use '.Should(Exit(...))' pattern instead.\"; \\\n\t\techo \"   If that's not possible, please add an annotation (description) to your assertion:\"; \\\n\t\techo \"        Expect(...).To(..., \\\"Friendly explanation of this check\\\")\"; \\\n\t\texit 1; \\\n\tfi\n\n.PHONY: pr-removes-fixed-skips\npr-removes-fixed-skips:\n\tcontrib/cirrus/pr-removes-fixed-skips\n\n###\n### Release/Packaging targets\n###\n\n.PHONY: podman-release\npodman-release: podman-release-$(GOARCH).tar.gz  # Build all Linux binaries for $GOARCH, docs., and installation tree, into a tarball.\n\n# The following two targets are nuanced and complex:\n# Cross-building the podman-remote documentation requires a functional\n# native architecture executable.  However `make` only deals with\n# files/timestamps, it doesn't understand if an existing binary will\n# function on the system or not.  This makes building cross-platform\n# releases incredibly accident-prone and fragile.  The only practical\n# way to deal with this, is via multiple conditional (nested) `make`\n# calls along with careful manipulation of `$GOOS` and `$GOARCH`.\n\npodman-release-%.tar.gz: test/version/version\n\t$(eval tmpsubdir := $(shell mktemp -d podman_tmp_XXXX))\n\t$(eval releasedir := podman-v$(call err_if_empty,RELEASE_NUMBER))\n\t$(eval _dstargs := \"DESTDIR=$(tmpsubdir)/$(releasedir)\" \"PREFIX=$(RELEASE_PREFIX)\")\n\t$(eval GOARCH := $*)\n\tmkdir -p \"$(call err_if_empty,tmpsubdir)/$(releasedir)\"\n\t$(MAKE) GOOS=$(GOOS) GOARCH=$(NATIVE_GOARCH) \\\n\t\tclean-binaries docs podman-remote-$(GOOS)-docs\n\tif [[ \"$(GOARCH)\" != \"$(NATIVE_GOARCH)\" ]]; then \\\n\t\t$(MAKE) CGO_ENABLED=0 GOOS=$(GOOS) GOARCH=$(GOARCH) \\\n\t\t\tBUILDTAGS=\"$(BUILDTAGS_CROSS)\" clean-binaries binaries; \\\n\telse \\\n\t\t$(MAKE) GOOS=$(GOOS) GOARCH=$(GOARCH) binaries; \\\n\tfi\n\t$(MAKE) $(_dstargs) install.bin install.remote install.man install.systemd\n\ttar -czvf $@ --xattrs -C \"$(tmpsubdir)\" \"./$(releasedir)\"\n\tif [[ \"$(GOARCH)\" != \"$(NATIVE_GOARCH)\" ]]; then $(MAKE) clean-binaries; fi\n\t-rm -rf \"$(tmpsubdir)\"\n\npodman-remote-release-%.zip: test/version/version ## Build podman-remote for %=$GOOS_$GOARCH, and docs. into an installation zip.\n\t$(eval tmpsubdir := $(shell mktemp -d podman_tmp_XXXX))\n\t$(eval releasedir := podman-$(call err_if_empty,RELEASE_NUMBER))\n\t$(eval _dstargs := \"DESTDIR=$(tmpsubdir)/$(releasedir)\" \"PREFIX=$(RELEASE_PREFIX)\")\n\t$(eval GOOS := $(firstword $(subst _, ,$*)))\n\t$(eval GOARCH := $(lastword $(subst _, ,$*)))\n\t$(eval _GOPLAT := GOOS=$(call err_if_empty,GOOS) GOARCH=$(call err_if_empty,GOARCH))\n\tmkdir -p \"$(call err_if_empty,tmpsubdir)/$(releasedir)\"\n\t$(MAKE) GOOS=$(GOOS) GOARCH=$(GOARCH) \\\n\t\tclean-binaries podman-remote-$(GOOS)-docs\n\tif [[ \"$(GOARCH)\" != \"$(NATIVE_GOARCH)\" ]]; then \\\n\t\t$(MAKE) CGO_ENABLED=0 $(GOPLAT) BUILDTAGS=\"$(BUILDTAGS_CROSS)\" \\\n\t\t\tclean-binaries podman-remote; \\\n\telse \\\n\t\t$(MAKE) $(GOPLAT) podman-remote; \\\n\tfi\n\tif [[ \"$(GOOS)\" == \"windows\" ]]; then \\\n\t\t$(MAKE) $(GOPLAT) TMPDIR=\"\" win-gvproxy; \\\n\tfi\n\tif [[ \"$(GOOS)\" == \"darwin\" ]]; then \\\n\t\t$(MAKE) $(GOPLAT) podman-mac-helper;\\\n\tfi\n\tcp -r ./docs/build/remote/$(GOOS) \"$(tmpsubdir)/$(releasedir)/docs/\"\n\tcp ./contrib/remote/containers.conf \"$(tmpsubdir)/$(releasedir)/\"\n\t$(MAKE) $(GOPLAT) $(_dstargs) SELINUXOPT=\"\" install.remote\n\tcd \"$(tmpsubdir)\" && \\\n\t\tzip --recurse-paths \"$(CURDIR)/$@\" \"./$(releasedir)\"\n\tif [[ \"$(GOARCH)\" != \"$(NATIVE_GOARCH)\" ]]; then $(MAKE) clean-binaries; fi\n\t-rm -rf \"$(tmpsubdir)\"\n\n# Downloads pre-built gvproxy and win-sshproxy helpers. See comment on GV_VERSION declaration\n.PHONY: win-gvproxy\nwin-gvproxy: test/version/version\n\tmkdir -p bin/windows/\n\tcurl -sSL -o bin/windows/gvproxy.exe --retry 5 https://github.com/containers/gvisor-tap-vsock/releases/download/$(GV_VERSION)/gvproxy-windowsgui.exe\n\tcurl -sSL -o bin/windows/win-sshproxy.exe --retry 5 https://github.com/containers/gvisor-tap-vsock/releases/download/$(GV_VERSION)/win-sshproxy.exe\n\n.PHONY: rpm\nrpm:  ## Build rpm packages\n\t$(MAKE) -C rpm\n\n###\n### Installation targets\n###\n\n# Remember that rpms install exec to /usr/bin/podman while a `make install`\n# installs them to /usr/local/bin/podman which is likely before. Always use\n# a full path to test installed podman or you risk to call another executable.\n.PHONY: rpm-install\nrpm-install: package  ## Install rpm packages\n\t$(call err_if_empty,PKG_MANAGER) -y install rpm/RPMS/*/*.rpm\n\t/usr/bin/podman version\n\t/usr/bin/podman info  # will catch a broken conmon\n\n.PHONY: install\ninstall: install.bin install.remote install.man install.systemd  ## Install binaries to system locations\n\n.PHONY: install.catatonit\ninstall.catatonit:\n\t./hack/install_catatonit.sh\n\n.PHONY: install.remote\ninstall.remote:\n\tinstall ${SELINUXOPT} -d -m 755 $(DESTDIR)$(BINDIR)\n\tinstall ${SELINUXOPT} -m 755 $(SRCBINDIR)/podman$(BINSFX) \\\n\t\t$(DESTDIR)$(BINDIR)/podman$(BINSFX)\n\ttest \"${GOOS}\" != \"windows\" || \\\n\t\tinstall -m 755 $(SRCBINDIR)/win-sshproxy.exe $(DESTDIR)$(BINDIR)\n\ttest \"${GOOS}\" != \"windows\" || \\\n\t\tinstall -m 755 $(SRCBINDIR)/gvproxy.exe $(DESTDIR)$(BINDIR)\n\ttest \"${GOOS}\" != \"darwin\" || \\\n\t\tinstall -m 755 $(SRCBINDIR)/podman-mac-helper $(DESTDIR)$(BINDIR)\n\ttest -z \"${SELINUXOPT}\" || \\\n\t\tchcon --verbose --reference=$(DESTDIR)$(BINDIR)/podman-remote \\\n\t\tbin/podman-remote\n\n.PHONY: install.bin\ninstall.bin:\n\tinstall ${SELINUXOPT} -d -m 755 $(DESTDIR)$(BINDIR)\n\tinstall ${SELINUXOPT} -m 755 bin/podman $(DESTDIR)$(BINDIR)/podman\n\tln -sf podman $(DESTDIR)$(BINDIR)/podmansh\n\ttest -z \"${SELINUXOPT}\" || chcon --verbose --reference=$(DESTDIR)$(BINDIR)/podman bin/podman\n\tinstall ${SELINUXOPT} -d -m 755 $(DESTDIR)$(LIBEXECPODMAN)\nifneq ($(shell uname -s),FreeBSD)\n\tinstall ${SELINUXOPT} -m 755 bin/rootlessport $(DESTDIR)$(LIBEXECPODMAN)/rootlessport\n\ttest -z \"${SELINUXOPT}\" || chcon --verbose --reference=$(DESTDIR)$(LIBEXECPODMAN)/rootlessport bin/rootlessport\n\tinstall ${SELINUXOPT} -m 755 bin/quadlet $(DESTDIR)$(LIBEXECPODMAN)/quadlet\n\tinstall ${SELINUXOPT} -d -m 755 $(DESTDIR)$(SYSTEMDGENERATORSDIR)\n\tln -sfr $(DESTDIR)$(LIBEXECPODMAN)/quadlet $(DESTDIR)$(SYSTEMDGENERATORSDIR)/podman-system-generator\n\tinstall ${SELINUXOPT} -d -m 755 $(DESTDIR)$(USERSYSTEMDGENERATORSDIR)\n\tln -sfr $(DESTDIR)$(LIBEXECPODMAN)/quadlet $(DESTDIR)$(USERSYSTEMDGENERATORSDIR)/podman-user-generator\n\tinstall ${SELINUXOPT} -m 755 -d $(DESTDIR)${TMPFILESDIR}\n\tinstall ${SELINUXOPT} -m 644 contrib/tmpfile/podman.conf $(DESTDIR)${TMPFILESDIR}/podman.conf\nendif\n\n.PHONY: install.testing\ninstall.testing:\n\tinstall ${SELINUXOPT} -d -m 755 $(DESTDIR)$(BINDIR)\n\tinstall ${SELINUXOPT} -m 755 bin/podman-testing $(DESTDIR)$(BINDIR)/podman-testing\n\n.PHONY: install.modules-load\ninstall.modules-load: # This should only be used by distros which might use iptables-legacy, this is not needed on RHEL\n\tinstall ${SELINUXOPT} -m 755 -d $(DESTDIR)${MODULESLOADDIR}\n\tinstall ${SELINUXOPT} -m 644 contrib/modules-load.d/podman-iptables.conf $(DESTDIR)${MODULESLOADDIR}/podman-iptables.conf\n\n.PHONY: install.man\ninstall.man:\n\tinstall ${SELINUXOPT} -d -m 755 $(DESTDIR)$(MANDIR)/man1\n\tinstall ${SELINUXOPT} -d -m 755 $(DESTDIR)$(MANDIR)/man5\n\tinstall ${SELINUXOPT} -d -m 755 $(DESTDIR)$(MANDIR)/man7\n\tinstall ${SELINUXOPT} -m 644 $(filter %.1,$(MANPAGES_DEST)) $(DESTDIR)$(MANDIR)/man1\n\tinstall ${SELINUXOPT} -m 644 docs/source/markdown/links/*1 $(DESTDIR)$(MANDIR)/man1\n\tinstall ${SELINUXOPT} -m 644 $(filter %.5,$(MANPAGES_DEST)) $(DESTDIR)$(MANDIR)/man5\n\tinstall ${SELINUXOPT} -m 644 docs/source/markdown/links/*5 $(DESTDIR)$(MANDIR)/man5\n\tinstall ${SELINUXOPT} -m 644 $(filter %.7,$(MANPAGES_DEST)) $(DESTDIR)$(MANDIR)/man7\n\n.PHONY: install.completions\ninstall.completions:\n\tinstall ${SELINUXOPT} -d -m 755 $(DESTDIR)${BASHINSTALLDIR}\n\tinstall ${SELINUXOPT} -m 644 completions/bash/podman $(DESTDIR)${BASHINSTALLDIR}\n\tinstall ${SELINUXOPT} -m 644 completions/bash/podman-remote $(DESTDIR)${BASHINSTALLDIR}\n\tinstall ${SELINUXOPT} -d -m 755 $(DESTDIR)${ZSHINSTALLDIR}\n\tinstall ${SELINUXOPT} -m 644 completions/zsh/_podman $(DESTDIR)${ZSHINSTALLDIR}\n\tinstall ${SELINUXOPT} -m 644 completions/zsh/_podman-remote $(DESTDIR)${ZSHINSTALLDIR}\n\tinstall ${SELINUXOPT} -d -m 755 $(DESTDIR)${FISHINSTALLDIR}\n\tinstall ${SELINUXOPT} -m 644 completions/fish/podman.fish $(DESTDIR)${FISHINSTALLDIR}\n\tinstall ${SELINUXOPT} -m 644 completions/fish/podman-remote.fish $(DESTDIR)${FISHINSTALLDIR}\n\t# There is no common location for powershell files so do not install them. Users have to source the file from their powershell profile.\n\n.PHONY: install.docker\ninstall.docker:\n\tinstall ${SELINUXOPT} -d -m 755 $(DESTDIR)$(BINDIR)\n\t$(eval INTERPOLATED_DOCKER_SCRIPT := $(shell mktemp))\n\tenv BINDIR=${BINDIR} ETCDIR=${ETCDIR} envsubst '$$BINDIR;$$ETCDIR' < docker/docker.in > ${INTERPOLATED_DOCKER_SCRIPT}\n\tinstall ${SELINUXOPT} -m 755 ${INTERPOLATED_DOCKER_SCRIPT} $(DESTDIR)$(BINDIR)/docker\n\trm ${INTERPOLATED_DOCKER_SCRIPT}\n\tinstall ${SELINUXOPT} -m 755 -d $(DESTDIR)${SYSTEMDDIR}  $(DESTDIR)${USERSYSTEMDDIR} $(DESTDIR)${TMPFILESDIR} $(DESTDIR)${USERTMPFILESDIR}\n\tinstall ${SELINUXOPT} -d -m 755 $(DESTDIR)${ETCDIR}/profile.d\n\tinstall ${SELINUXOPT} -m 644 docker/podman-docker.sh $(DESTDIR)${ETCDIR}/profile.d/podman-docker.sh\n\tinstall ${SELINUXOPT} -m 644 docker/podman-docker.csh $(DESTDIR)${ETCDIR}/profile.d/podman-docker.csh\n\tinstall ${SELINUXOPT} -m 644 contrib/systemd/system/podman-docker.conf -t $(DESTDIR)${TMPFILESDIR}\n\tinstall ${SELINUXOPT} -m 644 contrib/systemd/system/podman-docker.conf -t $(DESTDIR)${USERTMPFILESDIR}\n\n.PHONY: install.docker-docs\ninstall.docker-docs:\n\tinstall ${SELINUXOPT} -d -m 755 $(DESTDIR)$(MANDIR)/man1\n\tinstall ${SELINUXOPT} -m 644 docs/build/man/docker*.1 -t $(DESTDIR)$(MANDIR)/man1\n\tinstall ${SELINUXOPT} -d -m 755 $(DESTDIR)$(MANDIR)/man5\n\tinstall ${SELINUXOPT} -m 644 docs/build/man/docker*.5 -t $(DESTDIR)$(MANDIR)/man5\n\n.PHONY: install.docker-full\ninstall.docker-full: install.docker install.docker-docs\n\n.PHONY: install.systemd\nifneq (,$(findstring systemd,$(BUILDTAGS)))\nPODMAN_GENERATED_UNIT_FILES = contrib/systemd/system/podman-auto-update.service \\\n\t\t    contrib/systemd/system/podman.service \\\n\t\t    contrib/systemd/system/podman-restart.service \\\n\t\t    contrib/systemd/system/podman-kube@.service \\\n\t\t    contrib/systemd/system/podman-clean-transient.service\n\n%.service: %.service.in\n\tsed -e 's;@@PODMAN@@;$(BINDIR)/podman;g' $< >$@.tmp.$$ \\\n\t\t&& mv -f $@.tmp.$$ $@\n\ninstall.systemd: $(PODMAN_GENERATED_UNIT_FILES)\n\tinstall ${SELINUXOPT} -m 755 -d $(DESTDIR)${SYSTEMDDIR}  $(DESTDIR)${USERSYSTEMDDIR}\n\tfor unit in $^ \\\n\t\t\t\tcontrib/systemd/system/podman-auto-update.timer \\\n\t\t\t\tcontrib/systemd/system/podman.socket; do \\\n\t\tinstall ${SELINUXOPT} -m 644 $$unit $(DESTDIR)${USERSYSTEMDDIR}/$$(basename $$unit); \\\n\t\tinstall ${SELINUXOPT} -m 644 $$unit $(DESTDIR)${SYSTEMDDIR}/$$(basename $$unit); \\\n\tdone\n\t# HACK; as rootless this unit will not work due the requires on a non existing target\n\t# as the user session does not see system units. We could define two different units\n\t# but this seems much more complicated then this small fixup here.\n\t# https://github.com/containers/podman/issues/23790\n\tsed -i '/Requires=/d' $(DESTDIR)${USERSYSTEMDDIR}/podman-clean-transient.service\n\tsed -i '/After=/d' $(DESTDIR)${USERSYSTEMDDIR}/podman-clean-transient.service\n\n\t# Important this unit should only be installed for the user session and is thus not added to the loop above.\n\tinstall ${SELINUXOPT} -m 644 contrib/systemd/user/podman-user-wait-network-online.service \\\n\t\t$(DESTDIR)${USERSYSTEMDDIR}/podman-user-wait-network-online.service\n\trm -f $^\nelse\ninstall.systemd:\nendif\n\n.PHONY: install.tools\ninstall.tools: .install.golangci-lint ## Install needed tools\n\t$(MAKE) -C test/tools\n\n.PHONY: .install.goimports\n.install.goimports:\n\t$(MAKE) -C test/tools build/goimports\n\n.PHONY: .install.ginkgo\n.install.ginkgo:\n\t$(MAKE) -C test/tools build/ginkgo\n\n.PHONY: .install.gitvalidation\n.install.gitvalidation:\n\t$(MAKE) -C test/tools build/git-validation\n\n.PHONY: .install.golangci-lint\n.install.golangci-lint:\n\tVERSION=$(GOLANGCI_LINT_VERSION) ./hack/install_golangci.sh\n\n.PHONY: .install.swagger\n.install.swagger:\n\t$(MAKE) -C test/tools build/swagger\n\n.PHONY: .install.md2man\n.install.md2man:\n\tif [ ! -x \"$(GOMD2MAN)\" ]; then \\\n\t\t$(MAKE) -C test/tools build/go-md2man GOOS=$(NATIVE_GOOS) GOARCH=$(NATIVE_GOARCH); \\\n\tfi\n\n.PHONY: .install.pre-commit\n.install.pre-commit:\n\tif [ -z \"$(PRE_COMMIT)\" ]; then \\\n\t\t$(PYTHON) -m pip install --user pre-commit; \\\n\tfi\n\n.PHONY: release-artifacts\nrelease-artifacts: clean-binaries\n\tmkdir -p release/\n\t$(MAKE) podman-remote-release-darwin_amd64.zip\n\tmv podman-remote-release-darwin_amd64.zip release/\n\t$(MAKE) podman-remote-release-darwin_arm64.zip\n\tmv podman-remote-release-darwin_arm64.zip release/\n\t$(MAKE) podman-remote-release-windows_amd64.zip\n\tmv podman-remote-release-windows_amd64.zip release/\n\t$(MAKE) podman-remote-static-linux_amd64\n\ttar -cvzf podman-remote-static-linux_amd64.tar.gz bin/podman-remote-static-linux_amd64\n\t$(MAKE) podman-remote-static-linux_arm64\n\ttar -cvzf podman-remote-static-linux_arm64.tar.gz bin/podman-remote-static-linux_arm64\n\tmv podman-remote-static-linux*.tar.gz release/\n\tcd release/; sha256sum *.zip *.tar.gz > shasums\n\n.PHONY: uninstall\nuninstall:\n\tfor i in $(filter %.1,$(MANPAGES_DEST)); do \\\n\t\trm -f $(DESTDIR)$(MANDIR)/man1/$$(basename $${i}); \\\n\tdone; \\\n\tfor i in $(filter %.5,$(MANPAGES_DEST)); do \\\n\t\trm -f $(DESTDIR)$(MANDIR)/man5/$$(basename $${i}); \\\n\tdone\n\t# Remove podman and remote bin\n\trm -f $(DESTDIR)$(BINDIR)/podman\n\trm -f $(DESTDIR)$(BINDIR)/podman-remote\n\t# Remove related config files\n\trm -f $(DESTDIR)${ETCDIR}/cni/net.d/87-podman-bridge.conflist\n\trm -f $(DESTDIR)${TMPFILESDIR}/podman.conf\n\trm -f $(DESTDIR)${SYSTEMDDIR}/io.podman.socket\n\trm -f $(DESTDIR)${USERSYSTEMDDIR}/io.podman.socket\n\trm -f $(DESTDIR)${SYSTEMDDIR}/io.podman.service\n\trm -f $(DESTDIR)${SYSTEMDDIR}/podman.service\n\trm -f $(DESTDIR)${SYSTEMDDIR}/podman.socket\n\trm -f $(DESTDIR)${USERSYSTEMDDIR}/podman.socket\n\trm -f $(DESTDIR)${USERSYSTEMDDIR}/podman.service\n\n.PHONY: clean-binaries\nclean-binaries: ## Remove platform/architecture specific binary files\n\trm -rf \\\n\t\tbin\n\n.PHONY: clean\nclean: clean-binaries ## Clean all make artifacts\n\trm -rf \\\n\t\t_output \\\n\t\t$(wildcard podman-*.msi) \\\n\t\t$(wildcard podman-remote*.zip) \\\n\t\t$(wildcard podman_tmp_*) \\\n\t\t$(wildcard podman*.tar.gz) \\\n\t\tbuild \\\n\t\ttest/checkseccomp/checkseccomp \\\n\t\ttest/goecho/goecho \\\n\t\ttest/version/version \\\n\t\ttest/__init__.py \\\n\t\ttest/testdata/redis-image \\\n\t\tlibpod/container_ffjson.go \\\n\t\tlibpod/pod_ffjson.go \\\n\t\tlibpod/container_easyjson.go \\\n\t\tlibpod/pod_easyjson.go \\\n\t\tdocs/build \\\n\t\t.venv\n\tmake -C docs clean\n"
        },
        {
          "name": "OWNERS",
          "type": "blob",
          "size": 0.37890625,
          "content": "approvers:\n  - Luap99\n  - TomSweeneyRedHat\n  - ashley-cui\n  - baude\n  - giuseppe\n  - l0rd\n  - lsm5\n  - mheon\n  - mtrmac\n  - rhatdan\n  - vrothberg\n  - ygalblum\nreviewers:\n  - Luap99\n  - TomSweeneyRedHat\n  - alexlarsson\n  - baude\n  - flouthoc\n  - giuseppe\n  - jakecorrenti\n  - jwhonce\n  - l0rd\n  - lsm5\n  - mheon\n  - mtrmac\n  - n1hility\n  - rhatdan\n  - umohnani8\n  - vrothberg\n  - ygalblum\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 12.029296875,
          "content": "![PODMAN logo](https://raw.githubusercontent.com/containers/common/main/logos/podman-logo-full-vert.png)\n\n# Podman: A tool for managing OCI containers and pods\n![License](https://img.shields.io/badge/License-Apache_2.0-blue.svg)\n![GitHub release (latest SemVer)](https://img.shields.io/github/v/release/containers/podman)\n[![Go Report Card](https://goreportcard.com/badge/github.com/containers/libpod)](https://goreportcard.com/report/github.com/containers/libpod)\n\n<br/>\n\nPodman (the POD MANager) is a tool for managing containers and images, volumes mounted into those containers, and pods made from groups of containers.\nPodman runs containers on Linux, but can also be used on Mac and Windows systems using a Podman-managed virtual machine.\nPodman is based on libpod, a library for container lifecycle management that is also contained in this repository. The libpod library provides APIs for managing containers, pods, container images, and volumes.\n\nPodman releases a new major or minor release 4 times a year, during the second week of February, May, August, and November. Patch releases are more frequent and may occur at any time to get bugfixes out to users. All releases are PGP signed. Public keys of members of the team approved to make releases are located [here](https://github.com/containers/release-keys/tree/main/podman).\n\n* Continuous Integration:\n  * [![Build Status](https://api.cirrus-ci.com/github/containers/podman.svg)](https://cirrus-ci.com/github/containers/podman/main)\n  * [GoDoc: ![GoDoc](https://godoc.org/github.com/containers/podman/libpod?status.svg)](https://godoc.org/github.com/containers/podman/libpod)\n  * [Downloads](DOWNLOADS.md)\n\n## Overview and scope\n\nAt a high level, the scope of Podman and libpod is the following:\n\n* Support for multiple container image formats, including OCI and Docker images.\n* Full management of those images, including pulling from various sources (including trust and verification), creating (built via Containerfile or Dockerfile or committed from a container), and pushing to registries and other storage backends.\n* Full management of container lifecycle, including creation (both from an image and from an exploded root filesystem), running, checkpointing and restoring (via CRIU), and removal.\n* Full management of container networking, using Netavark.\n* Support for pods, groups of containers that share resources and are managed together.\n* Support for running containers and pods without root or other elevated privileges.\n* Resource isolation of containers and pods.\n* Support for a Docker-compatible CLI interface, which can both run containers locally and on remote systems.\n* No manager daemon, for improved security and lower resource utilization at idle.\n* Support for a REST API providing both a Docker-compatible interface and an improved interface exposing advanced Podman functionality.\n* Support for running on Windows and Mac via virtual machines run by `podman machine`.\n\n## Roadmap\n\nThe future of Podman feature development can be found in its **[roadmap](ROADMAP.md)**.\n\n## Communications\n\nIf you think you've identified a security issue in the project, please *DO NOT* report the issue publicly via the GitHub issue tracker, mailing list, or IRC.\nInstead, send an email with as many details as possible to `security@lists.podman.io`. This is a private mailing list for the core maintainers.\n\nFor general questions and discussion, please use Podman's\n[channels](https://podman.io/community/#slack-irc-matrix-and-discord).\n\nFor discussions around issues/bugs and features, you can use the GitHub\n[issues](https://github.com/containers/podman/issues)\nand\n[PRs](https://github.com/containers/podman/pulls)\ntracking system.\n\nThere is also a [mailing list](https://lists.podman.io/archives/) at `lists.podman.io`.\nYou can subscribe by sending a message to `podman-join@lists.podman.io` with the subject `subscribe`.\n\n## Rootless\nPodman can be easily run as a normal user, without requiring a setuid binary.\nWhen run without root, Podman containers use user namespaces to set root in the container to the user running Podman.\nRootless Podman runs locked-down containers with no privileges that the user running the container does not have.\nSome of these restrictions can be lifted (via `--privileged`, for example), but rootless containers will never have more privileges than the user that launched them.\nIf you run Podman as your user and mount in `/etc/passwd` from the host, you still won't be able to change it, since your user doesn't have permission to do so.\n\nAlmost all normal Podman functionality is available, though there are some [shortcomings](https://github.com/containers/podman/blob/main/rootless.md).\nAny recent Podman release should be able to run rootless without any additional configuration, though your operating system may require some additional configuration detailed in the [install guide](https://podman.io/getting-started/installation).\n\nA little configuration by an administrator is required before rootless Podman can be used, the necessary setup is documented [here](https://github.com/containers/podman/blob/main/docs/tutorials/rootless_tutorial.md).\n\n## Podman Desktop\n\n[Podman Desktop](https://podman-desktop.io/) provides a local development environment for Podman and Kubernetes on Linux, Windows, and Mac machines.\nIt is a full-featured desktop UI frontend for Podman which uses the `podman machine` backend on non-Linux operating systems to run containers.\nIt supports full container lifecycle management (building, pulling, and pushing images, creating and managing containers, creating and managing pods, and working with Kubernetes YAML).\nThe project develops on [GitHub](https://github.com/containers/podman-desktop) and contributions are welcome.\n\n## Out of scope\n\n* Specialized signing and pushing of images to various storage backends.\n  See [Skopeo](https://github.com/containers/skopeo/) for those tasks.\n* Support for the Kubernetes CRI interface for container management.\n  The [CRI-O](https://github.com/cri-o/cri-o) daemon specializes in that.\n\n## OCI Projects Plans\n\nPodman uses OCI projects and best of breed libraries for different aspects:\n- Runtime: We use the [OCI runtime tools](https://github.com/opencontainers/runtime-tools) to generate OCI runtime configurations that can be used with any OCI-compliant runtime, like [crun](https://github.com/containers/crun/) and [runc](https://github.com/opencontainers/runc/).\n- Images: Image management uses the [containers/image](https://github.com/containers/image) library.\n- Storage: Container and image storage is managed by [containers/storage](https://github.com/containers/storage).\n- Networking: Networking support through use of [Netavark](https://github.com/containers/netavark) and [Aardvark](https://github.com/containers/aardvark-dns).  Rootless networking is handled via [pasta](https://passt.top/passt) or [slirp4netns](https://github.com/rootless-containers/slirp4netns).\n- Builds: Builds are supported via [Buildah](https://github.com/containers/buildah).\n- Conmon: [Conmon](https://github.com/containers/conmon) is a tool for monitoring OCI runtimes, used by both Podman and CRI-O.\n- Seccomp: A unified [Seccomp](https://github.com/containers/common/blob/main/pkg/seccomp/seccomp.json) policy for Podman, Buildah, and CRI-O.\n\n## Podman Information for Developers\n\nFor blogs, release announcements and more, please checkout the [podman.io](https://podman.io) website!\n\n**[Installation notes](install.md)**\nInformation on how to install Podman in your environment.\n\n**[OCI Hooks Support](https://github.com/containers/common/blob/main/pkg/hooks/README.md)**\nInformation on how Podman configures [OCI Hooks][spec-hooks] to run when launching a container.\n\n**[Podman API](https://docs.podman.io/en/latest/_static/api.html)**\nDocumentation on the Podman REST API.\n\n**[Podman Commands](https://podman.readthedocs.io/en/latest/Commands.html)**\nA list of the Podman commands with links to their man pages and in many cases videos\nshowing the commands in use.\n\n**[Podman Container Images](https://github.com/containers/image_build/blob/main/podman/README.md)**\nInformation on the Podman Container Images found on [quay.io](https://quay.io/podman/stable).\n\n**[Podman Troubleshooting Guide](troubleshooting.md)**\nA list of common issues and solutions for Podman.\n\n**[Podman Usage Transfer](transfer.md)**\nUseful information for ops and dev transfer as it relates to infrastructure that utilizes Podman.  This page\nincludes tables showing Docker commands and their Podman equivalent commands.\n\n**[Tutorials](docs/tutorials)**\nTutorials on using Podman.\n\n**[Remote Client](https://github.com/containers/podman/blob/main/docs/tutorials/remote_client.md)**\nA brief how-to on using the Podman remote client.\n\n**[Basic Setup and Use of Podman in a Rootless environment](https://github.com/containers/podman/blob/main/docs/tutorials/rootless_tutorial.md)**\nA tutorial showing the setup and configuration necessary to run Rootless Podman.\n\n**[Release Notes](RELEASE_NOTES.md)**\nRelease notes for recent Podman versions.\n\n**[Contributing](CONTRIBUTING.md)**\nInformation about contributing to this project.\n\n[spec-hooks]: https://github.com/opencontainers/runtime-spec/blob/v1.0.2/config.md#posix-platform-hooks\n\n## Buildah and Podman relationship\n\nBuildah and Podman are two complementary open-source projects that are\navailable on most Linux platforms and both projects reside at\n[GitHub.com](https://github.com) with Buildah\n[here](https://github.com/containers/buildah) and Podman\n[here](https://github.com/containers/podman).  Both, Buildah and Podman are\ncommand line tools that work on Open Container Initiative (OCI) images and\ncontainers.  The two projects differentiate in their specialization.\n\nBuildah specializes in building OCI images.  Buildah's commands replicate all\nof the commands that are found in a Dockerfile.  This allows building images\nwith and without Dockerfiles while not requiring any root privileges.\nBuildah’s ultimate goal is to provide a lower-level coreutils interface to\nbuild images.  The flexibility of building images without Dockerfiles allows\nfor the integration of other scripting languages into the build process.\nBuildah follows a simple fork-exec model and does not run as a daemon\nbut it is based on a comprehensive API in golang, which can be vendored\ninto other tools.\n\nPodman specializes in all of the commands and functions that help you to maintain and modify\nOCI images, such as pulling and tagging.  It also allows you to create, run, and maintain those containers\ncreated from those images.  For building container images via Dockerfiles, Podman uses Buildah's\ngolang API and can be installed independently from Buildah.\n\nA major difference between Podman and Buildah is their concept of a container.  Podman\nallows users to create \"traditional containers\" where the intent of these containers is\nto be long lived.  While Buildah containers are really just created to allow content\nto be added back to the container image.  An easy way to think of it is the\n`buildah run` command emulates the RUN command in a Dockerfile while the `podman run`\ncommand emulates the `docker run` command in functionality.  Because of this and their underlying\nstorage differences, you can not see Podman containers from within Buildah or vice versa.\n\nIn short, Buildah is an efficient way to create OCI images while Podman allows\nyou to manage and maintain those images and containers in a production environment using\nfamiliar container cli commands.  For more details, see the\n[Container Tools Guide](https://github.com/containers/buildah/tree/main/docs/containertools).\n\n## Podman Hello\n```\n$ podman run quay.io/podman/hello\nTrying to pull quay.io/podman/hello:latest...\nGetting image source signatures\nCopying blob a6b3126f3807 done\nCopying config 25c667d086 done\nWriting manifest to image destination\nStoring signatures\n!... Hello Podman World ...!\n\n         .--\"--.\n       / -     - \\\n      / (O)   (O) \\\n   ~~~| -=(,Y,)=- |\n    .---. /`  \\   |~~\n ~/  o  o \\~~~~.----. ~~\n  | =(X)= |~  / (O (O) \\\n   ~~~~~~~  ~| =(Y_)=-  |\n  ~~~~    ~~~|   U      |~~\n\nProject:   https://github.com/containers/podman\nWebsite:   https://podman.io\nDocuments: https://docs.podman.io\nTwitter:   @Podman_io\n```\n"
        },
        {
          "name": "RELEASE_NOTES.md",
          "type": "blob",
          "size": 513.142578125,
          "content": "# Release Notes\n\n## 5.3.0\n### Features\n- The `podman kube generate` and `podman kube play` commands can now create and run Kubernetes Job YAML ([#17011](https://github.com/containers/podman/issues/17011)).\n- The `podman kube generate` command now includes information on the user namespaces for pods and containers in generated YAML. The `podman kube play` command uses this information to duplicate the user namespace configuration when creating new pods based on the YAML.\n- The `podman kube play` command now supports Kubernetes volumes of type image ([#23775](https://github.com/containers/podman/issues/23775)).\n- The service name of systemd units generated by Quadlet can now be set with the `ServiceName` key in all supported Quadlet files ([#23414](https://github.com/containers/podman/issues/23414)).\n- Quadlets can now disable their implicit dependency on `network-online.target` via a new key, `DefaultDependencies`, supported by all Quadlet files ([#24193](https://github.com/containers/podman/issues/24193)).\n- Quadlet `.container` and `.pod` files now support a new key, `AddHost`, to add hosts to the container or pod.\n- The `PublishPort` key in Quadlet `.container` and `.pod` files can now accept variables in its value ([#24081](https://github.com/containers/podman/issues/24081)).\n- Quadlet `.container` files now support two new keys, `CgroupsMode` and `StartWithPod`, to configure cgroups for the container and whether the container will be started with the pod it is part of ([#23664](https://github.com/containers/podman/issues/23664) and [#24401](https://github.com/containers/podman/issues/24401)).\n- Quadlet `.container` files can now use the network of another container by specifying the `.container` file of the container to share with in the `Network` key.\n- Quadlet `.container` files can now mount images managed by `.image` files into the container by using the `Mount=type=image` key with a `.image` target.\n- Quadlet `.pod` files now support six new keys, `DNS`, `DNSOption`, `DNSSearch`, `IP`, `IP6`, and `UserNS`, to configure DNS, static IPs, and user namespace settings for the pod ([#23692](https://github.com/containers/podman/issues/23692)).\n- Quadlet `.image` files can now give an image multiple times by specifying the `ImageTag` key multiple times ([#23781](https://github.com/containers/podman/issues/23781)).\n- Quadlets can now be placed in the `/run/containers/systemd` directory as well as existing directories like `$HOME/containers/systemd` and `/etc/containers/systemd/users`.\n- Quadlet now properly handles subdirectories of a unit directory being a symlink ([#23755](https://github.com/containers/podman/issues/23755)).\n- The `podman manifest inspect` command now includes the manifest's annotations in its output.\n- The output of the `podman inspect` command for containers now includes a new field, `HostConfig.AutoRemoveImage`, which shows whether a container was created with the `--rmi` option set.\n- The output of the `podman inspect` command for containers now includes a new field, `Config.ExposedPorts`, which includes all exposed ports from the container, improving Docker compatibility.\n- The output of the `podman inspect` command for containers now includes a new field, `Config.StartupHealthCheck`, which shows the container's startup healthcheck configuration.\n- The output of the `podman inspect` command for containers now includes a new field in `Mounts`, `SubPath`, which contains any subpath set for image or named volumes.\n- The `podman machine list` command now supports a new option, `--all-providers`, which lists machines from all supported VM providers, not just the one currently in use.\n- VMs run by `podman machine` on Windows will now provide API access by exposing a Unix socket on the host filesystem which forwards into the VM ([#23408](https://github.com/containers/podman/issues/23408)).\n- The `podman buildx prune` and `podman image prune` commands now support a new option, `--build-cache`, which will also clean the build cache.\n- The Windows installer has a new radio button to select virtualization provider (WSLv2 or Hyper-V).\n- The `--add-host` option to `podman create`, `podman run`, and `podman pod create` now supports specifying multiple hostnames, semicolon-separated (e.g. `podman run --add-host test1;test2:192.168.1.1`) ([#23770](https://github.com/containers/podman/issues/23770)).\n- The `podman run` and `podman create` commands now support three new options for configuring healthcheck logging: `--health-log-destination` (specify where logs are stored), `--health-max-log-count` (specify how many healthchecks worth of logs are stored), and `--health-max-log-size` (specify the maximum size of the healthcheck log).\n\n### Changes\n- Podman now uses the Pasta `--map-guest-addr` option by default which is used for the `host.containers.internal` entry in `/etc/hosts` to allow containers to reach the host by default ([#19213](https://github.com/containers/podman/issues/19213)).\n- The names of the infra containers of pods created by Quadlet are changed to the pod name suffixed with `-infra` ([#23665](https://github.com/containers/podman/issues/23665)).\n- The `podman system connection add` command now respects HTTP path prefixes specified with `tcp://` URLs.\n- Proxy environment variables (e.g. `https_proxy`) declared in `containers.conf` no longer escape special characters in their values when used with `podman machine` VMs ([#23277](https://github.com/containers/podman/issues/23277)).\n- The `podman images --sort=repository` command now also sorts by image tag as well, guaranteeing deterministic output ordering ([#23803](https://github.com/containers/podman/issues/23803)).\n- When a user has a rootless `podman machine` VM running and second rootful `podman machine` VM initialized, and the rootless VM is removed, the connection to the second, rootful machine now becomes the default as expected ([#22577](https://github.com/containers/podman/issues/22577)).\n- Environment variable secrets are no longer contained in the output of `podman inspect` on a container the secret is used in ([#23788](https://github.com/containers/podman/issues/23788)).\n- Podman no longer exits 0 on SIGTERM by default.\n- Podman no longer explicitly sets rlimits to their default value, as this could lower the actual value available to containers if it had been set higher previously.\n- Quadlet user units now correctly wait for the network to be ready to use via a new service, `podman-user-wait-network-online.service`, instead of the user session's nonfunctional `network-online.target`.\n- Exposed ports in the output of `podman ps` are now correctly grouped and deduplicated when they are also published ([#23317](https://github.com/containers/podman/issues/23317)).\n- Quadlet build units no longer use `RemainAfterExit=yes` by default.\n\n### Bugfixes\n- Fixed a bug where the `--build-context` option to `podman build` did not function properly on Windows, breaking compatibility with Visual Studio Dev Containers ([#17313](https://github.com/containers/podman/issues/17313)).\n- Fixed a bug where Quadlet would generate bad arguments to Podman if the `SecurityLabelDisable` or `SecurityLabelNested` keys were used ([#23432](https://github.com/containers/podman/issues/23432)).\n- Fixed a bug where the `PODMAN_COMPOSE_WARNING_LOGS` environment variable did not suppress warnings printed by `podman compose` that it was redirecting to an external provider.\n- Fixed a bug where, if the `podman container cleanup` command was run on a container in the process of being removed, an error could be printed.\n- Fixed a bug where rootless Quadlet units placed in `/etc/containers/systemd/users/` would be loaded for root as well when `/etc/containers/systemd` was a symlink ([#23483](https://github.com/containers/podman/issues/23483)).\n- Fixed a bug where the remote Podman client's `podman stop` command would, if called with `--cidfile` pointing to a non-existent file and the `--ignore` option set, stop all containers ([#23554](https://github.com/containers/podman/issues/23554)).\n- Fixed a bug where the `podman wait` would only exit only after 20 second when run on a container which rapidly exits and is then restarted by the `on-failure` restart policy.\n- Fixed a bug where `podman volume rm` and `podman run -v` could deadlock when run simultaneously on the same volume ([#23613](https://github.com/containers/podman/issues/23613)).\n- Fixed a bug where running `podman mount` on a container in the process of being created could cause a nonsensical error indicating the container already existed ([#23637](https://github.com/containers/podman/issues/23637)).\n- Fixed a bug where the `podman stop` command could deadlock when run on containers with very large annotations ([#22246](https://github.com/containers/podman/issues/22246)).\n- Fixed a bug where the `podman machine stop` command could segfault on Mac when a VM failed to stop gracefully ([#23654](https://github.com/containers/podman/issues/23654)).\n- Fixed a bug where the `podman stop` command would not ensure containers created with `--rm` were removed when it exited ([#22852](https://github.com/containers/podman/issues/22852)).\n- Fixed a bug where the `--rmi` option to `podman run` did not function correctly with detached containers.\n- Fixed a bug where running `podman inspect` on a container on FreeBSD would emit an incorrect value for the `HostConfig.Device` field, breaking compatibility with the Ansible Podman module.\n- Fixed a bug where rootless Podman could fail to start containers using the `--cgroup-parent` option ([#23780](https://github.com/containers/podman/issues/23780)).\n- Fixed a bug where the `podman build -v` command did not properly handle Windows paths passed as the host directory.\n- Fixed a bug where Podman could leak network namespace files if it was interrupted while creating a network namespace ([#24044](https://github.com/containers/podman/issues/24044)).\n- Fixed a bug where the remote Podman client's `podman run` command could sometimes fail to retrieve a container's exit code for containers run with the `--rm` option.\n- Fixed a bug where `podman machine` on Windows could fail to run VMs for certain usernames containing special characters.\n- Fixed a bug where Quadlet would reject `RemapUsers=keep-id` when run as root.\n- Fixed a bug where XFS quotas on volumes were not unique, meaning that all volumes using a quota shared the same maximum size and inodes (set by the most recent volume with a quota to be created).\n- Fixed a bug where `Service` section of Quadlet files would only use defaults and not respect user input ([#24322](https://github.com/containers/podman/issues/24322)).\n- Fixed a bug where `podman volume ls` would sometimes fail when a volume was removed at the same time it was run.\n- Fixed a bug where the `--tz=local` option could not be used when the `TZDIR` environment variable was set.\n\n### API\n- The Play API for Kubernetes YAML now supports `application/x-tar` compressed context directories ([#24015](https://github.com/containers/podman/pull/24015)).\n- Fixed a bug in the Attach API for Containers (for both Compat and Libpod endpoints) which could cause inconsistent failures due to a race condition ([#23757](https://github.com/containers/podman/issues/23757)).\n- Fixed a bug where the output for the Compat Top API for Containers did not properly split the output into an array ([#23981](https://github.com/containers/podman/issues/23981)).\n- Fixed a bug where the Info API could fail when running `podman system service` via a socket-activated systemd service ([#24152](https://github.com/containers/podman/issues/24152)).\n- Fixed a bug where the Events and Logs endpoints for Containers now send status codes immediately, as opposed to when the first event or log line is sent ([#23712](https://github.com/containers/podman/issues/23712)).\n\n### Misc\n- Podman now requires Golang 1.22 or higher to build.\n- The output of `podman machine start` has been improved when trying to start a machine when another is already running ([#23436](https://github.com/containers/podman/issues/23436)).\n- Quadlet will no longer log spurious ENOENT errors when resolving unit directories ([#23620](https://github.com/containers/podman/issues/23620)).\n- The Docker alias shell script will now also honor the presence of `$XDG_CONFIG_HOME/containers/nodocker` when considering whether it should print its warning message that Podman is in use.\n- The podman-auto-update systemd unit files have been moved into the `contrib/systemd/system` directory in the repo for consistency with our other unit files.\n- Updated Buildah to v1.38.0\n- Updated the containers/common library to v0.61.0\n- Updated the containers/storage library to v1.56.0\n- Updated the containers/image library to v5.33.0\n\n## 5.2.5\n### Security\n- This release addresses [CVE-2024-9675](https://access.redhat.com/security/cve/cve-2024-9675), which allows arbitrary access to the host filesystem from `RUN --mount type=cache` arguments to a Dockerfile being built.\n- This release also addresses [CVE-2024-9676](https://access.redhat.com/security/cve/cve-2024-9676), which allows malicious images with a symlink `/etc/passwd` or `/etc/group` to potentially cause a denial of service through reading a FIFO on the host.\n\n### Misc\n- Updated Buildah to v1.37.5\n- Updated the containers/storage library to v1.55.1\n\n## 5.2.4\n### Security\n- This release addresses [CVE-2024-9407](https://github.com/advisories/GHSA-fhqq-8f65-5xfc), which allows arbitrary access to the host filesystem from `RUN --mount` arguments to a Dockerfile being built.\n- This release also addresses [CVE-2024-9341](https://github.com/advisories/GHSA-mc76-5925-c5p6), allowing the mounting of arbitrary directories from the host into containers on FIPS enabled systems using a malicious image with crafted symlinks.\n\n### Misc\n- Updated Buildah to v1.37.4\n- Updated the containers/common library to v0.60.4\n\n## 5.2.3\n### Bugfixes\n- Fixed a bug that could cause network namespaces to fail to unmount, resulting in Podman commands hanging.\n- Fixed a bug where Podman could not run images which included SCTP exposed ports.\n- Fixed a bug where containers run by the root user, but inside a user namespace (including inside a container), could not use the `pasta` network mode.\n- Fixed a bug where volume copy-up did not properly chown empty volumes when the `:idmap` mount option was used.\n\n### Misc\n- Updated Buildah to v1.37.3\n\n## 5.2.2\n### Bugfixes\n- Fixed a bug where rootless Podman could fail to validate the runtime's volume path on systems with a symlinked `/home` ([#23515](https://github.com/containers/podman/issues/23515)).\n\n### Misc\n- Updated Buildah to v1.37.2\n- Updated the containers/common library to v0.60.2\n- Updated the containers/image library to v5.32.2\n\n## 5.2.1\n### Bugfixes\n- Fixed a bug where Podman could sometimes save an incorrect container state to the database, which could cause a number of issues including but not limited to attempting to clean up containers twice ([#21569](https://github.com/containers/podman/issues/21569)).\n\n### Misc\n- Updated Buildah to v1.37.1\n- Updated the containers/common library to v0.60.1\n- Updated the containers/image library to v5.32.1\n\n## 5.2.0\n### Features\n- Podman now supports `libkrun` as a backend for creating virtual machines on MacOS. The `libkrun` backend has the advantage of allowing GPUs to be mounted into the virtual machine to accelerate tasks. The default backend remains `applehv`.\n- Quadlet now has support for `.build` files, which allows images to be built by Quadlet and then used by Quadlet containers.\n- Quadlet `.container` files now support two new fields, `LogOpt` to specify container logging configuration and `StopSignal` to specify container stop signal ([#23050](https://github.com/containers/podman/issues/23050)).\n- Quadlet `.container` and `.pod` files now support a new field, `NetworkAlias`, to add network aliases.\n- Quadlet drop-in search paths have been expanded to include top-level type drop-ins (`container.d`, `pod.d`) and truncated unit drop-ins (`unit-.container.d`) ([#23158](https://github.com/containers/podman/issues/23158)).\n- Podman now supports a new command, `podman system check`, which will identify (and, if possible, correct) corruption within local container storage.\n- The `podman machine reset` command will now reset all providers available on the current operating system (e.g. ensuring that both HyperV and WSL `podman machine` VMs will be removed on Windows).\n\n### Changes\n- Podman now requires the new kernel mount API, introducing a dependency on Linux Kernel v5.2 or higher.\n- Quadlet `.image` units now have a dependency on `network-online.target` ([#21873](https://github.com/containers/podman/issues/21873)).\n- The `--device` option to `podman create` and `podman run` is no longer ignored when `--privileged` is also specified ([#23132](https://github.com/containers/podman/issues/23132)).\n- The `podman start` and `podman stop` commands no longer print the full ID of the pod started/stopped, but instead the user's input used to specify the pod (e.g. `podman pod start b` will print `b` instead of the pod's full ID) ([#22590](https://github.com/containers/podman/issues/22590)).\n- Virtual machines created by `podman machine` on Linux now use `virtiofs` instead of `9p` for mounting host filesystems. Existing mounts will be transparently changed on machine restart or recreation. This should improve performance and reliability of host mounts. This requires the installation of `virtiofsd` on the host system to function.\n- Using both the `--squash` and `--layers=false` options to `podman build` at the same time is now allowed.\n- Podman now passes container's stop timeout to systemd when creating cgroups, causing it to be honored when systemd stops the scope. This should prevent hangs on system shutdown due to running Podman containers.\n- The `--volume-driver` option to `podman machine init` is now deprecated.\n\n### Bugfixes\n- Fixed a bug where rootless containers created with the `--sdnotify=healthy` option could panic when started ([#22651](https://github.com/containers/podman/issues/22651)).\n- Fixed a bug where containers created with the `--sdnotify=healthy` option that exited quickly would sometimes return an error instead of notifying that the container was ready ([#22760](https://github.com/containers/podman/issues/22760)).\n- Fixed a bug where the `podman system reset` command did not remove the containers/image blob cache ([#22825](https://github.com/containers/podman/issues/22825)).\n- Fixed a bug where Podman would sometimes create a cgroup for itself even when the `--cgroups=disabled` option was specified at container creation time ([#20910](https://github.com/containers/podman/issues/20910)).\n- Fixed a bug where the `/etc/hosts` file in a container was not created with a newline at the end of the file ([#22729](https://github.com/containers/podman/issues/22729)).\n- Fixed a bug where the `podman start` command could sometimes panic when starting a container in the stopped state.\n- Fixed a bug where the `podman system renumber` command would fail if volumes existed when using the `sqlite` database backend ([#23052](https://github.com/containers/podman/issues/23052)).\n- Fixed a bug where the `podman container restore` command could not successfully restore a container in a pod.\n- Fixed a bug where an error message from `podman diff` would suggest using the `--latest` option when using the remote Podman client ([#23038](https://github.com/containers/podman/issues/23038)).\n- Fixed a bug where user could assign more memory to a Podman machine than existed on the host ([#18206](https://github.com/containers/podman/issues/18206)).\n- Fixed a bug where the `podman events` command was rarely unable to report errors that occurred ([#23165](https://github.com/containers/podman/issues/23165)).\n- Fixed a bug where containers run in systemd units would sometimes not be removed correctly on exit when using the `--cidfile` option.\n- Fixed a bug where the first Podman command run after a reboot could cause hang when using transient mode ([#22984](https://github.com/containers/podman/issues/22984)).\n- Fixed a bug where Podman could throw errors about a database configuration mismatch if certain paths did not exist on the host.\n- Fixed a bug where the `podman run` and `podman start` commands could throw strange errors if another Podman process stopped the container at a midpoint in the process of starting ([#23246](https://github.com/containers/podman/issues/23246)).\n- Fixed a bug where the `podman system service` command could leak a mount on termination.\n- Fixed a bug where the Podman remote client would panic if an invalid image filter was passed to `podman images` ([#23120](https://github.com/containers/podman/issues/23120)).\n- Fixed a bug where the `podman auto-update` and `podman system df` commands could fail when a container was removed while the command was running ([#23279](https://github.com/containers/podman/issues/23279)).\n- Fixed a bug where the `podman machine init` command could panic when trying to decompress an empty file when preparing the VM image ([#23281](https://github.com/containers/podman/issues/23281)).\n- Fixed a bug where the `podman ps --pod` and `podman pod stats` commands could sometimes fail when a pod was removed while the command was running ([#23282](https://github.com/containers/podman/issues/23282)).\n- Fixed a bug where the `podman stats` and `podman pod stats` commands would sometimes exit with a `container is stopped` error when showing all containers (or pod containers, for `pod stats`) if a container stopped while the command was running ([#23334](https://github.com/containers/podman/issues/23334)).\n- Fixed a bug where the output of container healthchecks was not properly logged if it did not include a final newline ([#23332](https://github.com/containers/podman/issues/23332)).\n- Fixed a bug where the port forwarding firewall rules of an existing container could be be overwritten when starting a second container which forwarded the same port on the host even if the second container failed to start as the port was already bound.\n- Fixed a bug where the containers created by the `podman play kube` command could sometimes not properly clean up their network stacks ([#21569](https://github.com/containers/podman/issues/21569)).\n\n### API\n- The Build API for Images now accepts a comma-separated list in the Platform query parameter, allowing a single API call to built an image for multiple architectures ([#22071](https://github.com/containers/podman/issues/22071)).\n- Fixed a bug where the Remove endpoint for Volumes would return an incorrectly formatted error when called with an ambiguous volume name ([#22616](https://github.com/containers/podman/issues/22616)).\n- Fixed a bug where the Stats endpoint for Containers would return an incorrectly formatted error when called on a container that did not exist ([#22612](https://github.com/containers/podman/issues/22612)).\n- Fixed a bug where the Start endpoint for Pods would return a 409 error code in cases where a 500 error code should have been returned ([#22989](https://github.com/containers/podman/issues/22989)).\n- Fixed a bug where the Top endpoint for Pods would return a 200 status code and then subsequently an error ([#22986](https://github.com/containers/podman/issues/22986)).\n\n### Misc\n- Podman no longer requires all parent directories of its root and runroot to be world-executable ([#23028](https://github.com/containers/podman/issues/23028)).\n- Error messages from the `podman build` command when the `-f` option is given, but points to a file that does not exist, have been improved ([#22940](https://github.com/containers/podman/issues/22940)).\n- The Podman windows installer is now built using WiX 5.\n- Updated the gvisor-tap-vsock library to v0.7.4. This release contains a fix for a gvproxy crash on macOS when there is heavy network traffic on a fast link.\n- Updated Buildah to v1.37.0\n- Updated the containers/image library to v5.32.0\n- Updated the containers/storage library to v1.55.0\n- Updated the containers/common library to v0.60.0\n\n## 5.1.2\n### Bugfixes\n- Fixed a bug that would sometimes prevent the mount of some `podman machine` volumes into the virtual machine when using the Apple hypervisor ([#22569](https://github.com/containers/podman/issues/22569)).\n- Fixed a bug where `podman top` would show the incorrect UID for processes in containers run in a user namespace ([#22293](https://github.com/containers/podman/issues/22293)).\n- Fixed a bug where the `/etc/hosts` and `/etc/resolv.conf` files in a container would be empty after restoring from a checkpoint ([#22901](https://github.com/containers/podman/issues/22901)).\n- Fixed a bug where the `--pod-id-file` argument to `podman run` and `podman create` did not respect the pod's user namespace ([#22931](https://github.com/containers/podman/issues/22931)).\n- Fixed a bug in the Podman remote client where specifying a invalid connection in the `CONTAINER_CONNECTION` environment variable would lead to a panic.\n\n### Misc\n- Virtual machines run by `podman machine` using the Apple hypervisor now wait 90 seconds before forcibly stopping the VM, matching the standard systemd shutdown timeout ([#22515](https://github.com/containers/podman/issues/22515)).\n- Updates the containers/image library to v5.31.1\n\n## 5.1.1\n### Bugfixes\n- Fixed a bug where systemd timers associated with startup healthchecks would not be properly deleted after transitioning to the regular healthcheck ([#22884](https://github.com/containers/podman/issues/22884)).\n\n### Misc\n- Updated the containers/common library to v0.59.1\n\n## 5.1.0\n### Features\n- VMs created by `podman machine` on macOS with Apple silicon can now use Rosetta 2 (a.k.a Rosetta) for high-speed emulation of x86 code. This is enabled by default. If you wish to change this option, you can do so in `containers.conf`.\n- Changes made by the `podman update` command are now persistent, and will survive container restart and be reflected in `podman inspect`.\n- The `podman update` command now includes a new option, `--restart`, to update the restart policy of existing containers.\n- Quadlet `.container` files now support a new key, `GroupAdd`, to add groups to the container.\n- Container annotations are now printed by `podman inspect`.\n- Image-based mounts using `podman run --mount type=image,...` now support a new option, `subpath`, to mount only part of the image into the container.\n- A new field, `healthcheck_events`, has been added to `containers.conf` under the `[engine]` section to allow users to disable the generation of `health_status` events to avoid spamming logs on systems with many healthchecks.\n- A list of images to automatically mount as volumes can now be specified in Kubernetes YAML via the `io.podman.annotations.kube.image.automount/$CTRNAME` annotation (where `$CTRNAME` is the name of the container they will be mounted into).\n- The `podman info` command now includes the default rootless network command (`pasta` or `slirp4netns`).\n- The `podman ps` command now shows ports from `--expose` that have not been published with `--publish-all` to improve Docker compatibility.\n- The `podman container runlabel` command now expands `$HOME` in the label being run to the user's home directory.\n- A new alias, `podman network list`, has been added to the `podman network ls` command.\n- The name and shell of containers created by `podmansh` can now be set in `containers.conf`.\n- The `podman-setup.exe` Windows installer now provides 3 new CLI variables, `MachineProvider` (choose the provider for the machine, `windows` or `wsl`, the default), `HyperVCheckbox` (can be set to `1` to install HyperV if it is not already installed or `0`, the default, to not install HyperV), and `SkipConfigFileCreation` (can be set to `1` to disable the creation of configuration files, or `0`, the default).\n\n### Changes\n- Podman now changes volume ownership every time an empty named volume is mounted into a container, not just the first time, matching Docker's behavior.\n- When running Kubernetes YAML with `podman kube play` that does not include an `imagePullPolicy` and does not set a tag for the image, the image is now always pulled ([#21211](https://github.com/containers/podman/issues/21211)).\n- When running Kubernetes YAML with `podman kube play`, pod-level restart policies are now passed down to individual containers within the pod ([#20903](https://github.com/containers/podman/issues/20903)).\n- The `--runroot` global option can now accept paths with lengths longer than 50 characters ([#22272](https://github.com/containers/podman/issues/22272)).\n- Updating containers with the `podman update` command now emits an event.\n\n### Bugfixes\n- Fixed a bug where the `--userns=keep-id:uid=0` option to `podman create` and `podman run` would generate incorrect UID mappings and cause the container to fail to start ([#22078](https://github.com/containers/podman/issues/22078)).\n- Fixed a bug where `podman stats` could report inaccurate percentages for very large or very small values ([#22064](https://github.com/containers/podman/issues/22064)).\n- Fixed a bug where bind-mount volumes defaulted to `rbind` instead of `bind`, meaning recursive mounts were allowed by default ([#22107](https://github.com/containers/podman/issues/22107)).\n- Fixed a bug where the `podman machine rm -f` command would fail to remove Hyper-V virtual machines if they were running.\n- Fixed a bug where the `podman ps --sync` command could sometimes fail to properly update the status of containers.\n- Fixed a bug where bind-mount volumes using the `:idmap` option would sometimes be inaccessible with rootless Podman ([#22228](https://github.com/containers/podman/issues/22228)).\n- Fixed a bug where bind-mount volumes using the `:U` option would have their ownership changed to the owner of the directory in the image being mounted over ([#22224](https://github.com/containers/podman/issues/22224)).\n- Fixed a bug where removing multiple containers, pods, or images with the `--force` option did not work when multiple arguments were given to the command and one of them did not exist ([#21529](https://github.com/containers/podman/issues/21529)).\n- Fixed a bug where Podman did not properly clean up old cached Machine images.\n- Fixed a bug where rapidly-restarting containers with healthchecks could sometimes fail to start their healthchecks after restarting.\n- Fixed a bug where nested Podman could create its `pause.pid` file in an incorrect directory ([#22327](https://github.com/containers/podman/issues/22327)).\n- Fixed a bug where Podman would panic if an OCI runtime was configured without associated paths in `containers.conf` ([#22561](https://github.com/containers/podman/issues/22561)).\n- Fixed a bug where the `podman kube down` command would not respect the `StopTimeout` and `StopSignal` of containers that it stopped ([#22397](https://github.com/containers/podman/issues/22397)).\n- Fixed a bug where Systemd-managed containers could be stuck in the Stopping state, unable to be restarted, if systemd killed the unit before `podman stop` finished stopping the container ([#19629](https://github.com/containers/podman/issues/19629)).\n- Fixed a bug where the remote Podman client's `podman farm build` command would not updating manifests on the registry that were already pushed ([#22647](https://github.com/containers/podman/issues/22647)).\n- Fixed a bug where rootless Podman could fail to re-exec itself when run with a custom `argv[0]` that is not a valid command path, as might happen when used in `podmansh` ([#22672](https://github.com/containers/podman/issues/22672)).\n- Fixed a bug where `podman machine` connection URIs could be incorrect after an SSH port conflict, rendering machines inaccessible.\n- Fixed a bug where the `podman events` command would not print an error if incorrect values were passed to its `--since` and `--until` options.\n- Fixed a bug where an incorrect `host.containers.internal` entry could be added when running rootless containers using the `bridge` network mode ([#22653](https://github.com/containers/podman/issues/22653)).\n\n### API\n- A new Docker-compatible endpoint, Update, has been added for containers.\n- The Compat Create endpoint for Containers now supports setting container annotations.\n- The Libpod List endpoint for Images now includes additional information in its responses (image architecture, OS, and whether the image is a manifest list) ([#22184](https://github.com/containers/podman/issues/22184) and [#22185](https://github.com/containers/podman/issues/22185)).\n- The Build endpoint for Images no longer saves the build context as a temporary file, substantially improving performance and reducing required filesystem space on the server.\n- The Inspect API for Containers now returns results compatible with Podman v4.x when a request with version v4.0.0 is made. This allows Podman 4.X remote clients work with a Podman 5.X server ([#22657](https://github.com/containers/podman/issues/22657)).\n- Fixed a bug where the Build endpoint for Images would not clean up temporary files created by the build if an error occurred.\n\n### Misc\n- Podman now detects unhandled system reboots and advises the user on proper mitigations.\n- Improved debugging output for `podman machine` on Darwin systems when `--log-level=debug` is used.\n- The Makefile now allows injecting extra build tags via the `EXTRA_BUILD_TAGS` environment variable.\n- Updated Buildah to v1.36.0\n- Updated the containers/common library to v0.59.0\n- Updated the containers/image library to v5.31.0\n- Updated the containers/storage library to v1.54.0\n\n## 5.0.3\n### Security\n- This release addresses CVE-2024-3727, a vulnerability in the containers/image library which allows attackers to trigger authenticated registry access on behalf of the victim user.\n\n### Bugfixes\n- Fixed a bug where `podman machine start` would fail if the machine had a volume with a long target path ([#22226](https://github.com/containers/podman/issues/22226)).\n- Fixed a bug where `podman machine start` mounted volumes with paths that included dashes in the wrong location ([#22505](https://github.com/containers/podman/issues/22505)).\n\n### Misc\n- Updated Buildah to v1.35.4\n- Updated the containers/common library to v0.58.3\n- Updated the containers/image library to v5.30.1\n\n## 5.0.2\n### Bugfixes\n- Fixed a bug that could leak IPAM entries when a network was removed ([#22034](https://github.com/containers/podman/issues/22034)).\n- Fixed a bug that could cause the rootless network namespace to not be cleaned up on if an error occurred during setup resulting in errors relating to a missing resolv.conf being displayed ([#22168](https://github.com/containers/podman/issues/22168)).\n- Fixed a bug where Podman would use rootless network namespace logic for nested containers ([#22218](https://github.com/containers/podman/issues/22218)).\n- Fixed a bug where writing to volumes on a Mac could result in EACCESS failures when using the `:z` or `:Z` volume mount options on a directory with read only files ([#19852](https://github.com/containers/podman/issues/19852))\n\n### API\n- Fixed a bug in the Compat List endpoint for Networks which could result in a server crash due to concurrent writes to a map ([#22330](https://github.com/containers/podman/issues/22330)).\n\n## 5.0.1\n### Bugfixes\n- Fixed a bug where rootless containers using the Pasta network driver did not properly handle localhost DNS resolvers on the host leading to DNS resolution issues ([#22044](https://github.com/containers/podman/issues/22044)).\n- Fixed a bug where Podman would warn that cgroups v1 systems were no longer supported on FreeBSD hosts.\n- Fixed a bug where HyperV `podman machine` VMs required an SSH client be installed on the system ([#22075](https://github.com/containers/podman/issues/22075)).\n- Fixed a bug that prevented the remote Podman client's `podman build` command from working properly when connecting from a rootless client to a rootful server ([#22109](https://github.com/containers/podman/issues/22109)).\n\n### Misc\n- The HyperV driver to `podman machine` now fails immediately if admin privileges are not available (previously, it would only fail when it reached operations that required admin privileges).\n\n## 5.0.0\n### Features\n- VMs created by `podman machine` can now use the native Apple hypervisor (`applehv`) when run on MacOS.\n- A new command has been added, `podman machine reset`, which will remove all existing `podman machine` VMs and relevant configurations.\n- The `podman manifest add` command now supports a new `--artifact` option to add OCI artifacts to a manifest list.\n- The `podman create`, `podman run`, and `podman push` commands now support the `--retry` and `--retry-delay` options to configure retries for pushing and pulling images.\n- The `podman run` and `podman exec` commands now support a new option, `--preserve-fd`, which allows passing a list of file descriptors into the container (as an alternative to `--preserve-fds`, which passes a specific number of file descriptors).\n- Quadlet now supports templated units ([#17744](https://github.com/containers/podman/discussions/17744)).\n- The `podman kube play` command can now create image-based volumes using the `volume.podman.io/image` annotation.\n- Containers created with `podman kube play` can now include volumes from other containers (similar to the `--volumes-from` option) using a new annotation, `io.podman.annotations.volumes-from` ([#16819](https://github.com/containers/podman/issues/16819)).\n- Pods created with `podman kube play` can now set user namespace options through the `io.podman.annotations.userns` annotation in the pod definition ([#20658](https://github.com/containers/podman/issues/20658)).\n- Macvlan and ipvlan networks can adjust the name of the network interface created inside containers via the new `containers.conf` field `interface_name` ([#21313](https://github.com/containers/podman/issues/21313)).\n- The `--gpus` option to `podman create` and `podman run` is now compatible with Nvidia GPUs ([#21156](https://github.com/containers/podman/issues/21156)).\n- The `--mount` option to `podman create` and `podman run` supports a new mount option, `no-dereference`, to mount a symlink (instead of its dereferenced target) into a container ([#20098](https://github.com/containers/podman/issues/20098)).\n- Podman now supports a new global option, `--config`, to point to a Docker configuration where we can source registry login credentials.\n- The `podman ps --format` command now supports a new format specifier, `.Label` ([#20957](https://github.com/containers/podman/issues/20957)).\n- The `uidmapping` and `gidmapping` options to the `podman run --userns=auto` option can now map to host IDs by prefixing host IDs with the `@` symbol.\n- Quadlet now supports systemd-style drop-in directories.\n- Quadlet now supports creating pods via new `.pod` unit files ([#17687](https://github.com/containers/podman/discussions/17687)).\n- Quadlet now supports two new keys, `Entrypoint` and `StopTimeout`, in `.container` files ([#20585](https://github.com/containers/podman/issues/20585) and [#21134](https://github.com/containers/podman/issues/21134)).\n- Quadlet now supports specifying the `Ulimit` key multiple times in `.container` files to set more than one ulimit on a container.\n- Quadlet now supports setting the `Notify` key to `healthy` in `.container` files, to only sdnotify that a container has started when its health check begins passing ([#18189](https://github.com/containers/podman/issues/18189)).\n\n### Breaking Changes\n- The backend for the `podman machine` commands has seen extensive rewrites. Configuration files have changed format and VMs from Podman 4.x and earlier are no longer usable. `podman machine` VMs must be recreated with Podman 5.\n- The `podman machine init` command now pulls images as OCI artifacts, instead of using HTTP. As a result, a valid `policy.json` file is required on the host. Windows and Mac installers have been changed to install this file.\n- QEMU is no longer a supported VM provider for `podman machine` on Mac. Instead, the native Apple hypervisor is supported.\n- The `ConfigPath` and `Image` fields are no longer provided by the `podman machine inspect` command. Users can also no longer use `{{ .ConfigPath }}` or `{{ .Image }}` as arguments to `podman machine inspect --format`.\n- The output of `podman inspect` for containers has seen a number of breaking changes to improve Docker compatibility, including changing `Entrypoint` from a string to an array of strings and StopSignal from an int to a string.\n- The `podman inspect` command for containers now returns nil for healthchecks when inspecting containers without healthchecks.\n- The `podman pod inspect` command now outputs a JSON array regardless of the number of pods inspected (previously, inspecting a single pod would omit the array).\n- It is no longer possible to create new BoltDB databases; attempting to do so will result in an error. All new Podman installations will now use the SQLite database backend. Existing BoltDB databases remain usable.\n- Support for CNI networking has been gated by a build tag and will not be enabled by default.\n- Podman will now print warnings when used on cgroups v1 systems. Support for cgroups v1 is deprecated and will be removed in a future release. The `PODMAN_IGNORE_CGROUPSV1_WARNING` environment variable can be set to suppress warnings.\n- Network statistics sent over the Docker API are now per-interface, and not aggregated, improving Docker compatibility.\n- The default tool for rootless networking has been swapped from `slirp4netns` to `pasta` for improved performance. As a result, networks named `pasta` are no longer supported.\n- The `--image` option replaces the now deprecated `--image-path` option for `podman machine init`.\n- The output of `podman events --format \"{{json .}}\"` has been changed to improve Docker compatibility, including the `time` and `timeNano` fields ([#14993](https://github.com/containers/podman/issues/14993)).\n- The name of `podman machine` VMs and the username used within the VM are now validated and must match this regex: `[a-zA-Z0-9][a-zA-Z0-9_.-]*`.\n- Using multiple filters with the List Images REST API now combines the filters with AND instead of OR, improving Docker compatibility ([#18412](https://github.com/containers/podman/issues/18412)).\n- The parsing for a number of Podman CLI options which accept arrays has been changed to no longer accept string-delineated lists, and instead to require the option to be passed multiple times. These options are `--annotation` to `podman manifest annotate` and `podman manifest add`, the `--configmap`, `--log-opt`, and `--annotation` options to `podman kube play`, the `--pubkeysfile` option to `podman image trust set`, the `--encryption-key` and `--decryption-key` options to `podman create`, `podman run`, `podman push` and `podman pull`, the `--env-file` option to `podman exec`, the `--bkio-weight-device`, `--device-read-bps`, `--device-write-bps` `--device-read-iops`, `--device-write-iops`, `--device`, `--label-file`, `--chrootdirs`, `--log-opt`, and `--env-file` options to `podman create` and `podman run`, and the `--hooks-dir` and `--module` global options.\n\n### Changes\n- The `podman system reset` command no longer waits for running containers to gracefully stop, and instead immediately sends SIGKILL ([#21874](https://github.com/containers/podman/issues/21874)).\n- The `podman network inspect` command now includes running containers using the network in its output ([#14126](https://github.com/containers/podman/issues/14126)).\n- The `podman compose` command is now supported on non-AMD64/ARM64 architectures.\n- VMs created by `podman machine` will now pass HTTP proxy environment variables into the VM for all providers.\n- The `--no-trunc` option to the `podman kube play` and `podman kube generate` commands has been deprecated. Podman now complies to the Kubernetes specification for annotation size, removing the need for this option.\n- The `DOCKER_HOST` environment variable will be set by default for rootless users when podman-docker is installed.\n- Connections from `podman system connection` and farms from `podman farm` are now written to a new configuration file called `podman-connections.conf`. As a result, Podman no longer writes to `containers.conf`. Existing connections from `containers.conf` will still be respected.\n- Most `podman farm` subcommands (save for `podman farm build`) no longer need to connect to the machines in the farm to run.\n- The `podman create` and `podman run` commands no longer require specifying an entrypoint on the command line when the container image does not define one. In this case, an empty command will be passed to the OCI runtime, and the resulting behavior is runtime-specific.\n- The default SELinux label for content mounted from the host in `podman machine` VMs on Mac is now `system_u:object_r:nfs_t:s0` so that it can be shared with all containers without issue.\n- Newly-created VMs created by `podman machine` will now share a single SSH key key for access. As a result, `podman machine rm --save-keys` is deprecated as the key will persist by default.\n\n### Bugfixes\n- Fixed a bug where the `podman stats` command would not show network statistics when the `pasta` network mode was used.\n- Fixed a bug where `podman machine` VMs using the HyperV provider could not mount shares on directories that did not yet exist.\n- Fixed a bug where the `podman compose` command did not respect the `--connection` and `--url` options.\n- Fixed a bug where the `podman stop -t -1` command would wait for 0 seconds, not infinite seconds, before sending SIGKILL ([#21811](https://github.com/containers/podman/issues/21811)).\n- Fixed a bug where Podman could deadlock when cleaning up a container when the `slirp4netns` network mode was used with a restart policy of `always` or `unless-stopped` or `on-failure` and a user namespace ([#21477](https://github.com/containers/podman/issues/21477)).\n- Fixed a bug where uninstalling Podman on Mac did not remove the `docker.sock` symlink ([#20650](https://github.com/containers/podman/issues/20650)).\n- Fixed a bug where preexisting volumes being mounted into a new container using a path that exists in said container would not be properly chowned ([#21608](https://github.com/containers/podman/issues/21608)).\n- Fixed a bug where the `podman image scp` command could fail if there was not sufficient space in the destination machine's `/tmp` for the image ([#21239](https://github.com/containers/podman/issues/21239)).\n- Fixed a bug where containers killed by running out of memory (including due to a memory limit) were not properly marked as OOM killed in `podman inspect` ([#13102](https://github.com/containers/podman/issues/13102)).\n- Fixed a bug where `podman kube play` did not create memory-backed emptyDir volumes using a tmpfs filesystem.\n- Fixed a bug where containers started with `--rm` were sometimes not removed after a reboot ([#21482](https://github.com/containers/podman/issues/21482)).\n- Fixed a bug where the `podman events` command using the remote Podman client did not display the network name associated with network events ([#21311](https://github.com/containers/podman/issues/21311)).\n- Fixed a bug where the `podman farm build` did not properly handle the `--tls-verify` option and would override server defaults even if the option was not set by the user ([#21352](https://github.com/containers/podman/issues/21352)).\n- Fixed a bug where the `podman inspect` command could segfault on FreeBSD ([#21117](https://github.com/containers/podman/issues/21117)).\n- Fixed a bug where Quadlet did not properly handle comment lines ending with a backslash ([#21555](https://github.com/containers/podman/issues/21555)).\n- Fixed a bug where Quadlet would sometimes not report errors when malformed quadlet files were present.\n- Fixed a bug where Quadlet could hang when given a `.container` file with certain types of trailing whitespace ([#21109](https://github.com/containers/podman/issues/21109)).\n- Fixed a bug where Quadlet could panic when generating from Kubernetes YAML containing the `bind-mount-options` key ([#21080](https://github.com/containers/podman/issues/21080)).\n- Fixed a bug where Quadlet did not properly strip quoting from values in `.container` files ([#20992](https://github.com/containers/podman/issues/20992)).\n- Fixed a bug where the `--publish-all` option to `podman kube play` did not function when used with the remote Podman client.\n- Fixed a bug where the `podman kube play --build` command could not build images whose Dockerfile specified an image from a private registry with a self-signed certificate in a `FROM` directive ([#20890](https://github.com/containers/podman/discussions/20890)).\n- Fixed a bug where container remove events did not have the correct exit code set ([#19124](https://github.com/containers/podman/issues/19124)).\n\n### API\n- A new API endpoint, `/libpod/images/$name/resolve`, has been added to resolve a (potential) short name to a list of fully-qualified image references Podman which could be used to pull the image.\n- Fixed a bug where the List API for Images did not properly handle filters and would discard all but the last listed filter.\n- Fixed a bug in the Docker Create API for Containers where entries from `/etc/hosts` were copied into create containers, resulting in incompatibility with network aliases.\n- The API bindings have been refactored to reduce code size, leading to smaller binaries ([#17167](https://github.com/containers/podman/issues/17167)).\n\n### Misc\n- Failed image pulls will now generate an event including the error.\n- Updated Buildah to v1.35.0\n- Updated the containers/image library to v5.30.0\n- Updated the containers/storage library to v1.53.0\n- Updated the containers/common library to v0.58.0\n- Updated the libhvee library to v0.7.0\n\n## 4.9.3\n### Features\n- The `podman container commit` command now features a `--config` option which accepts a filename containing a JSON-encoded container configuration to be merged in to the newly-created image.\n\n## 4.9.2\n### Security\n- This release addresses a number of Buildkit vulnerabilities including but not limited to: [CVE-2024-23651](https://github.com/advisories/GHSA-m3r6-h7wv-7xxv), [CVE-2024-23652](https://github.com/advisories/GHSA-4v98-7qmw-rqr8), and [CVE-2024-23653](https://github.com/advisories/GHSA-wr6v-9f75-vh2g).\n\n### Misc\n- Updated Buildah to v1.33.5\n- Updated the containers/common library to v0.57.4\n\n## 4.9.1\n### Bugfixes\n- Fixed a bug where the `--rootful` option to `podman machine set` would not set the machine to use the root connection ([#21195](https://github.com/containers/podman/issues/21195)).\n- Fixed a bug where podman would crash when running in a containerized environment with `euid != 0` and capabilities set ([#20766](https://github.com/containers/podman/issues/20766)).\n- Fixed a bug where the `podman info` command would crash on if called multiple times when podman was running as `euid=0` without `CAP_SYS_ADMIN` ([#20908](https://github.com/containers/podman/issues/20908)).\n- Fixed a bug where `podman machine` commands were not relayed to the correct machine on AppleHV ([#21115](https://github.com/containers/podman/issues/21115)).\n- Fixed a bug where the `podman machine list` and `podman machine inspect` commands would not show the correct `Last Up` time on AppleHV ([#21244](https://github.com/containers/podman/issues/21244)).\n\n### Misc\n- Updated the Mac pkginstaller QEMU to v8.2.1\n- Updated Buildah to v1.33.4\n- Updated the containers/image library to v5.29.2\n- Updated the containers/common library to v0.57.3\n\n## 4.9.0\n### Features\n- The `podman farm` suite of commands for multi-architecture builds is now fully enabled and documented.\n- Add a network recovery service to Podman Machine VMs using the QEMU backend to detect and recover from an inoperable host networking issues experienced by Mac users when running for long periods of time.\n\n### Bugfixes\n- Fixed a bug where the HyperV provider for `podman machine` did not forward the API socket to the host machine.\n- Fixed a bug where improperly formatted annotations passed to `podman kube play` could cause Podman to panic.\n- Fixed a bug where `podman system reset` could fail if non-Podman containers (e.g. containers created by Buildah) were present.\n\n### Misc\n- Containers run in `podman machine` VMs now default to a PID limit of unlimited, instead of 2048.\n\n## 4.8.3\n### Security\n- Fixed [GHSA-45x7-px36-x8w8](https://github.com/advisories/GHSA-45x7-px36-x8w8): CVE-2023-48795 by vendoring golang.org/x/crypto v0.17.0.\n\n## 4.8.2\n### Bugfixes\n- Fixed a bug in the MacOS pkginstaller where Podman machine was using a different QEMU binary than the one installed using the installer, if it existed on the system ([#20808](https://github.com/containers/podman/issues/20808)).\n- Fixed a bug on Windows (WSL) with the first-time install of user-mode networking when using the init command, as opposed to set ([#20921](https://github.com/containers/podman/issues/20921)).\n\n### Quadlet\n- Fixed a bug where Kube image build failed when starting service with missing image ([#20432](https://github.com/containers/podman/issues/20432)).\n\n## 4.8.1\n### Bugfixes\n- Fixed a bug on Windows (WSL) where wsl.conf/resolv.conf was not restored when user-mode networking was disabled after being enabled ([#20625](https://github.com/containers/podman/issues/20625)).\n- Fixed a bug where currently if user specifies `podman kube play --replace`, the pod is removed on the client side, not the server side ([#20705](https://github.com/containers/podman/discussions/20705)).\n- Fixed a bug where `podman machine rm -f` would cause a deadlock when running with WSL.\n- Fixed `database is locked` errors with the new sqlite database backend ([#20809](https://github.com/containers/podman/issues/20809)).\n- Fixed a bug where `podman-remote exec` would fail if the server API version is older than 4.8.0 ([#20821](https://github.com/containers/podman/issues/20821)).\n- Fixed a bug where Podman would not run any command on systems with a symlinked $HOME ([#20872](https://github.com/containers/podman/issues/20872)).\n\n## 4.8.0\n### Features\n- Podman machine now supports HyperV as a provider on Windows. This option can be set via the `CONTAINERS_MACHINE_PROVIDER` environment variable, or via containers.conf. HyperV requires Powershell to be run as Admin. Note that running WSL and HyperV machines at the same time is not supported.\n- The `podman build` command now supports Containerfiles with heredoc syntax.\n- The `podman login` and `podman logout` commands now support a new option, `--compat-auth-file`, which allows for editing Docker-compatible config files ([#18617](https://github.com/containers/podman/issues/18617)).\n- The `podman machine init` and `podman machine set` commands now support a new option, `--usb`, which sets allows USB passthrough for the QEMU provider ([#16707](https://github.com/containers/podman/issues/16707)).\n- The `--ulimit` option now supports setting -1 to indicate the maximum limit allowed for the current process ([#19319](https://github.com/containers/podman/issues/19319)).\n- The `podman play kube` command now supports the `BUILDAH_ISOLATION` environment variable to change build isolation when the `--build` option is set ([#20024](https://github.com/containers/podman/issues/20024)).\n- The `podman volume create` command now supports `--opt o=size=XYZ` on tmpfs file systems ([#20449](https://github.com/containers/podman/issues/20449)).\n- The `podman info` command for remote calls now reports client information even if the remote connection is unreachable\n- Added a new field, `privileged`, to containers.conf, which sets the defaults for the `--privileged` flag when creating, running or exec'ing into a container.\n- The `podman kube play` command now supports setting DefaultMode for volumes ([#19313](https://github.com/containers/podman/issues/19313)).\n- The `--opt` option to the `podman network create` command now accepts a new driver specific option, `vrf`, which assigns a VRF to the bridge interface.\n- A new option `--rdt-class=COS` has been added to the `podman create` and `podman run` commands that enables assigning a container to a Class Of Service (COS). The COS has to be pre-configured based on a pseudo-filesystem created by the *resctrl* kernel driver that enables interacting with the Intel RDT CAT feature.\n- The `podman kube play` command now supports a new option, `--publish-all`, which exposes all containerPorts on the host.\n- The --filter option now supports `label!=`, which filters for containers without the specified label.\n\n### Upcoming Deprecations\n- We are beginning development on Podman 5.0, which will include a number of breaking changes and deprecations. We are still finalizing what will be done, but a preliminary list is below. Please note that none of these changes are present in Podman 4.8; this is a preview of upcoming changes.\n- Podman 5.0 will deprecate the BoltDB database backend. Exact details on the transition to SQLite are still being decided - expect more news here soon.\n- The containers.conf configuration file will be broken up into multiple separate files, ensuring that it will never be rewritten by Podman.\n- Support for the CNI network backend and Cgroups V1 are being deprecated and gated by build tags. They will not be enabled in Podman builds by default.\n- A variety of small breaking changes to the REST API are planned, both to improve Docker compatibility and to better support `containers.conf` settings when creating and managing containers.\n\n### Changes\n- Podman now defaults to sqlite as its database backend. For backwards compatibility, if a boltdb database already exists on the system, Podman will continue using it.\n- RHEL Subscriptions from the host now flow through to quay.io/podman/* images.\n- The `--help` option to the `podman push` command now shows the compression algorithm used.\n- The remote Podman client’s `commit` command now shows progress messages ([#19947](https://github.com/containers/podman/issues/19947)).\n- The `podman kube play` command now sets the pod hostname to the node/machine name when hostNetwork=true in k8s yaml ([#19321](https://github.com/containers/podman/issues/19321)).\n- The `--tty,-t` option to the `podman exec` command now defines the TERM environment variable even if the container is not running with a terminal ([#20334](https://github.com/containers/podman/issues/20334)).\n- Podman now also uses the `helper_binaries_dir` option in containers.conf to lookup the init binary (catatonit).\n- Podman healthcheck events are now logged as notices.\n- Podman machines no longer automatically update, preventing accidental service interruptions ([#20122](https://github.com/containers/podman/issues/20122)).\n- The amount of CPUs a podman machine uses now defaults to available cores/2 ([#17066](https://github.com/containers/podman/issues/17066)).\n- Podman machine now prohibits using provider names as machine names. `applehv`, `qemu`, `wsl`, and `hyperv` are no longer valid Podman machine names\n\n### Quadlet\n- Quadlet now supports the `UIDMap`, `GIDMap`, `SubUIDMap`, and `SubGIDMap` options in .container files.\n- Fixed a bug where symlinks were not resolved in search paths ([#20504](https://github.com/containers/podman/issues/20504)).\n- Quadlet now supports the `ReadOnlyTmpfs` option.\n- The VolatileTmpfs option is now deprecated.\n- Quadlet now supports systemd specifiers in User and Group keys.\n- Quadlet now supports `ImageName` for .image files.\n- Quadlet now supports a new option, `--force`, to the stop command.\n- Quadlet now supports the `oneshot` service type for .kube files, which allows yaml files without containers.\n- Quadlet now supports podman level arguments ([#20246](https://github.com/containers/podman/issues/20246)).\n- Fixed a bug where Quadlet would crash when specifying non key-value options ([#20104](https://github.com/containers/podman/issues/20104)).\n- Quadlet now removes anonymous volumes when removing a container ([#20070](https://github.com/containers/podman/issues/20070)).\n- Quadlet now supports a new unit type, `.image`.\n\n### Bugfixes\n- Fixed a bug where mounted volumes on Podman machines on MacOS would have a max open files limit ([#16106](https://github.com/containers/podman/issues/16106)).\n- Fixed a bug where setting both the `--uts` and `--network` options to `host` did not fill /etc/hostname with the host's name ([#20448](https://github.com/containers/podman/issues/20448)).\n- Fixed a bug where the remote Podman client’s `build` command would incorrectly parse https paths ([#20475](https://github.com/containers/podman/issues/20475)).\n- Fixed a bug where running Docker Compose against a WSL podman machine would fail ([#20373](https://github.com/containers/podman/issues/20373)).\n- Fixed a race condition where parallel tagging and untagging of images would fail ([#17515](https://github.com/containers/podman/issues/17515)).\n- Fixed a bug where the `podman exec` command would leak sessions when the specified command does not existFixed a bug where the `podman exec` command would leak sessions when the specified command does not exist ([#20392](https://github.com/containers/podman/issues/20392)).\n- Fixed a bug where the `podman history` command did not display the size of certain layers ([#20375](https://github.com/containers/podman/issues/20375)).\n- Fixed a bug where a container with a custom user namespace and `--restart always/on-failure` would not correctly cleanup the netnsm on restart, resulting in leaked ips and network namespaces ([#18615](https://github.com/containers/podman/issues/18615)).\n- Fixed a bug where remote calls to the `podman top` command would incorrectly parse options ([#19176](https://github.com/containers/podman/issues/19176)).\n- Fixed a bug where the `--read-only-tmpfs` option to the `podman run` command was incorrectly handled when the `--read-only` option was set ([#20225](https://github.com/containers/podman/issues/20225)).\n- Fixed a bug where creating containers in parallel may cause a deadlock if both containers attempt to use the same named volume ([#20313](https://github.com/containers/podman/issues/20313)).\n- Fixed a bug where a container restarted by the Podman service would occasionally not mount its storage ([#17042](https://github.com/containers/podman/issues/17042)).\n- Fixed a bug where the `--filter` option to the `podman images` command would not correctly filter ids, digests, or intermediates ([#19966](https://github.com/containers/podman/issues/19966)).\n- Fixed a bug where setting the `--replace` option to the `podman run` command would print both the old and new container ID. Now, only the new container ID is printed.\n- Fixed a bug where the `podman machine ls` command would show Creation time as LastUp time for machines that have never been booted. Now, new machines show `Never`, with the json value being ZeroTime.\n- Fixed a bug in the `podman build` command where the default pull policy was not set to `missing` ([#20125](https://github.com/containers/podman/issues/20125)).\n- Fixed a bug where setting the static or volume directory in `containers.conf` would lead to cleanup errors ([#19938](https://github.com/containers/podman/issues/19938)).\n- Fixed a bug where the `podman kube play` command exposed all containerPorts on the host ([#17028](https://github.com/containers/podman/issues/17028)).\n- Fixed a bug where the `podman farm update` command did not verify farm and connection existence before updating ([#20080](https://github.com/containers/podman/issues/20080)).\n- Fixed a bug where remote Podman calls would not honor the `--connection` option while the `CONTAINER_HOST` environment variable was set. The active destination is not resolved with the correct priority, that is, CLI flags, env vars, ActiveService from containers.conf, RemoteURI ([#15588](https://github.com/containers/podman/issues/15588)).\n- Fixed a bug where the `--env-host` option was not honoring the default from containers.conf\n\n### API\n- Fixed a bug in the Compat Image Prune endpoint where the dangling filter was set twice ([#20469](https://github.com/containers/podman/issues/20469)).\n- Fixed a bug in the Compat API where attempting to connect a container to a network while the connection already exists returned a 200 status code. It now correctly returns a 500 error code.\n- Fixed a bug in the Compat API where some responses would not have compatible error details if progress data had not been sent yet ([#20013](https://github.com/containers/podman/issues/20013)).\n- The Libpod Pull endpoint now supports a new option, compatMode which causes the streamed JSON payload to be identical to the Compat endpoint.\n- Fixed a bug in the Libpod Container Create endpoint where it would return an incorrect status code if the image was not found. The endpoint now correctly returns 404.\n- The Compat Network List endpoint should see a significant performance improvement ([#20035](https://github.com/containers/podman/issues/20035)).\n\n### Misc\n- Updated Buildah to v1.33.2\n- Updated the containers/storage library to v1.51.0\n- Updated the containers/image library to v5.29.0\n- Updated the containers/common library to v0.57.0\n- Updated the containers/libhvee library to v0.5.0\n- Podman Machine now runs with gvproxy v0.7.1\n\n## 4.7.2\n### Security\n- Fixed [GHSA-jq35-85cj-fj4p](https://github.com/moby/moby/security/advisories/GHSA-jq35-85cj-fj4p).\n\n### Bugfixes\n- WSL: Fixed `podman compose` command.\n- Fixed a bug in `podman compose` to try all configured providers before throwing an error ([#20502](https://github.com/containers/podman/issues/20502)).\n\n## 4.7.1\n### Bugfixes\n- Fixed a bug involving non-English locales of Windows where machine installs using user-mode networking were rejected due to erroneous version detection ([#20209](https://github.com/containers/podman/issues/20209)).\n- Fixed a regression in --env-file handling ([#19565](https://github.com/containers/podman/issues/19565)).\n- Fixed a bug where podman inspect would fail when stat'ing a device failed.\n\n### API\n- The network list compat API endpoint is now much faster ([#20035](https://github.com/containers/podman/issues/20035)).\n\n## 4.7.0\n### Security\n- Now the io.containers.capabilities LABEL in an image can be an empty string.\n\n### Features\n- New command set: `podman farm [create,list,remove,update]` has been created to \"farm\" out builds to machines running Podman for different architectures.\n- New command: `podman compose` as a thin wrapper around an external compose provider such as docker-compose or podman-compose.\n- FreeBSD: `podman run --device` is now supported.\n- Linux: Add a new `--module` flag for Podman.\n- Podmansh: Timeout is now configurable using the `podmansh_timeout` option in containers.conf.\n- SELinux: Add support for confined users to create containers but restrict them from creating privileged containers.\n- WSL: Registers shared socket bindings on Windows, to allow other WSL distributions easy remote access ([#15190](https://github.com/containers/podman/issues/15190)).\n- WSL: Enabling user-mode-networking on older WSL2 generations will now detect an error with upgrade guidance.\n- The `podman build` command now supports two new options: `--layer-label` and `--cw`.\n- The `podman kube generate` command now supports generation of k8s DaemonSet kind ([#18899](https://github.com/containers/podman/issues/18899)).\n- The `podman kube generate` and `podman kube play` commands now support the k8s `TerminationGracePeriodSeconds` field ([RH BZ#2218061](https://bugzilla.redhat.com/show_bug.cgi?id=2218061)).\n- The `podman kube generate` and `podman kube play` commands now support `securityContext.procMount: Unmasked` ([#19881](https://github.com/containers/podman/issues/19881)).\n- The `podman generate kube` command now supports a `--podman-only` flag to allow podman-only reserved annotations to be used in the generated YAML file. These annotations cannot be used by Kubernetes.\n- The `podman kube generate` now supports a `--no-trunc` flag that supports YAML files with annotations longer than 63 characters. Warning: if an annotation is longer than 63 chars, then the generated yaml file is not Kubernetes compatible.\n- An infra name annotation `io.podman.annotations.infra.name` is added in the generated yaml when the `pod create` command has `--infra-name` set. This annotation can also be used with `kube play` when wanting to customize the infra container name ([#18312](https://github.com/containers/podman/issues/18312)).\n- The syntax of `--uidmap` and `--gidmap` has been extended to lookup the parent user namespace and to extend default mappings ([#18333](https://github.com/containers/podman/issues/18333)).\n- The `podman kube` commands now support the `List` kind ([#19052](https://github.com/containers/podman/issues/19052)).\n- The `podman kube play` command now supports environment variables in kube.yaml ([#15983](https://github.com/containers/podman/issues/15983)).\n- The `podman push` and `podman manifest push` commands now support the `--force-compression` optionto prevent reusing other blobs ([#18860](https://github.com/containers/podman/issues/18660)).\n- The `podman manifest push` command now supports `--add-compression` to push with compressed variants.\n- The `podman manifest push` command now honors the `add_compression` field from containers.conf if `--add-compression` is not set.\n- The `podman run` and `podman create --mount` commands now support the `ramfs` type ([#19659](https://github.com/containers/podman/issues/19659)).\n- When running under systemd (e.g., via Quadlet), Podman will extend the start timeout in 30 second steps up to a maximum of 5 minutes when pulling an image.\n- The `--add-host` option now accepts the special string `host-gateway` instead of an IP Address, which will be mapped to the host IP address.\n- The `podman generate systemd` command is deprecated.  Use Quadlet for running containers and pods under systemd.\n- The `podman secret rm` command now supports an `--ignore` option.\n- The `--env-file` option now supports multiline variables ([#18724](https://github.com/containers/podman/issues/18724)).\n- The `--read-only-tmpfs` flag now affects /dev and /dev/shm as well as /run, /tmp, /var/tmp ([#12937](https://github.com/containers/podman/issues/12937)).\n- The Podman `--mount` option now supports bind mounts passed as globs.\n- The `--mount` option can now be specified in containers.conf using the `mounts` field.\n- The `podman stats` now has an `--all` option to get all containers stats ([#19252](https://github.com/containers/podman/issues/19252)).\n- There is now a new `--sdnotify=healthy` policy where Podman sends the READY message once the container turns healthy ([#6160](https://github.com/containers/podman/issues/6160)).\n- Temporary files created when dealing with images in `/var/tmp` will automatically be cleaned up on reboot.\n- There is now a new filter option `since` for `podman volume ls` and `podman volume prune` ([#19228](https://github.com/containers/podman/issues/19228)).\n- The `podman inspect` command now has tab-completion support ([#18672])(https://github.com/containers/podman/issues/18672)).\n- The `podman kube play` command now has support for the use of reserved annotations in the generated YAML.\n- The progress bar is now displayed when decompressing a Podman machine image ([#19240](https://github.com/containers/podman/issues/19240)).\n- The `podman secret inspect` command supports a new option `--showsecret` which will output the actual secret.\n- The `podman secret create` now supports a `--replace` option, which allows you to modify secrets without replacing containers.\n- The `podman login` command can now read the secret for a registry from its secret database created with `podman secret create` ([#18667]](https://github.com/containers/podman/issues/18667)).\n- The remote Podman client’s `podman play kube` command now works with the `--userns` option ([#17392](https://github.com/containers/podman/pull/17392)).\n\n### Changes\n- The `/tmp` and `/var/tmp` inside of a `podman kube play` will no longer be `noexec`.\n- The limit of inotify instances has been bumped from 128 to 524288 for podman machine ([#19848](https://github.com/containers/podman/issues/19848)).\n- The `podman kube play` has been improved to only pull a newer image for the \"latest\" tag ([#19801](https://github.com/containers/podman/issues/19801)).\n- Pulling from an `oci` transport will use the optional name for naming the image.\n- The `podman info` command will always display the existence of the Podman socket.\n- The echo server example in socket_activation.md has been rewritten to use quadlet instead of `podman generate systemd`.\n- Kubernetes support table documentation correctly show volumes support.\n- The `podman auto-update` manpage and documentation has been updated and now includes references to Quadlet.\n\n### Quadlet\n- Quadlet now supports setting Ulimit values.\n- Quadlet now supports setting the PidsLimit option in a container.\n- Quadlet unit files allow DNS field in Network group and DNS, DNSSearch, and DNSOption field in Container group ([#19884](https://github.com/containers/podman/issues/19884)).\n- Quadlet now supports ShmSize option in unit files.\n- Quadlet now recursively calls in user directories for unit files.\n- Quadlet now allows the user to set the service working directory relative to the YAML or Unit files ([17177](https://github.com/containers/podman/discussions/17177)).\n- Quadlet now allows setting user-defined names for `Volume` and `Network` units via the `VolumeName` and `NetworkName` directives, respectively.\n- Kube quadlets can now support autoupdate.\n\n### Bugfixes\n- Fixed an issue where containers were being restarted after a `podman kill`.\n- Fixed a bug where events could report incorrect healthcheck results ([#19237](https://github.com/containers/podman/issues/19237).\n- Fixed a bug where running a container in a pod didn't fail if volumes or mounts were specified in the containers.conf file.\n- Fixed a bug where pod cgroup limits were not being honored after a reboot ([#19175](https://github.com/containers/podman/issues/19175)).\n- Fixed a bug where `podman rm -af` could fail to remove containers under some circumstances ([#18874](https://github.com/containers/podman/issues/18874)).\n- Fixed a bug in rootless to clamp oom_score_adj to current value if it is too low ([#19829](https://github.com/containers/podman/issues/19829)).\n- Fixed a bug where `--hostuser` was being parsed in base 8 instead of base 10 ([#19800](https://github.com/containers/podman/issues/19800)).\n- Fixed a bug where `kube down` would error when an object did not exist ([#19711](https://github.com/containers/podman/issues/19711)).\n- Fixed a bug where containers created via DOCKER API without specifying StopTimeout had StopTimeout defaulting to 0 seconds ([#19139](https://github.com/containers/podman/issues/19139)).\n- Fixed a bug in `podman exec` to set umask to match the container it's execing into ([#19713](https://github.com/containers/podman/issues/19713)).\n- Fixed a bug where `podman kube play` failed to set a container's Umask to the default `0022`.\n- Fixed a bug to automatically reassign Podman's machine ssh port on Windows when it conflicts with in-use system ports ([#19554](https://github.com/containers/podman/issues/19554)).\n- Fixed a bug where locales weren't passed to conmon correctly, resulting in a crash if some characters were specified over CLI ([containers/common/#272](https://github.com/containers/conmon/issues/272)).\n- Fixed a bug where `podman top` would sometimes not print the full output ([#19504](https://github.com/containers/podman/issues/19504)).\n- Fixed a bug were `podman logs --tail` could return incorrect lines when the k8s-file logger is used ([#19545](https://github.com/containers/podman/issues/19545)).\n- Fixed a bug where `podman stop` did not ignore cidfile not existing when user specified --ignore flag ([#19546](https://github.com/containers/podman/issues/19546)).\n- Fixed a bug where a container with an image volume and an inherited mount from the `--volumes-from` option that used the same path could not be created ([#19529](https://github.com/containers/podman/issues/19529)).\n- Fixed a bug where `podman cp` via STDIN did not delete temporary files ([#19496](https://github.com/containers/podman/issues/19496)).\n- Fixed a bug where Compatibility API did not accept timeout=-1 for stopping containers ([#17542](https://github.com/containers/podman/issues/17542)).\n- Fixed a bug where `podman run --rmi` did not remove the container ([#15640](https://github.com/containers/podman/issues/15640)).\n- Fixed a bug to recover from inconsistent podman-machine states with QEMU ([#16054](https://github.com/containers/podman/issues/16054)).\n- Fixed a bug where CID Files on remote clients are not removed when container is removed ([#19420](https://github.com/containers/podman/issues/19420)).\n- Fixed a bug in `podman inspect` to show a `.NetworkSettings.SandboxKey` path for containers created with --net=none ([#16716](https://github.com/containers/podman/issues/16716)).\n- Fixed a concurrency bug in `podman machine start` using the QEMU provider ([#18662](https://github.com/containers/podman/issues/18662)).\n- Fixed a bug in `podman run` and `podman create` where the command fails if the user specifies a non-existent authfile path ([#18938](https://github.com/containers/podman/issues/18938)).\n- Fixed a bug where some distributions added extra quotes around the distribution name removed from `podman info` output ([#19340](https://github.com/containers/podman/issues/19340)).\n- Fixed a crash validating --device argument for create and run ([#19335](https://github.com/containers/podman/issues/19335)).\n- Fixed a bug where `.HostConfig.PublishAllPorts` always evaluates to `false` when inspecting a container created with `--publish-all`.\n- Fixed a bug in `podman image trust` command to allow using the local policy.json file ([#19073](https://github.com/containers/podman/issues/19073)).\n- Fixed a bug where the cgroup file system was not correctly mounted when running without a network namespace in rootless mode ([#20073](https://github.com/containers/podman/issues/20073)).\n- Fixed a bug where the `--syslog` flag was not passed to the cleanup process.\n\n### API\n- Fixed a bug with parsing of the pull query parameter for the compat /build endpoint ([#17778](https://github.com/containers/podman/issues/17778)).\n\n### Misc\n- Updated Buildah to v1.32.0.\n\n## 4.6.2\n### Changes\n- Fixed a performance issue when calculating diff sizes in overlay. The `podman system df` command should see a significant performance improvement ([#19467](https://github.com/containers/podman/issues/19467)).\n\n### Bugfixes\n- Fixed a bug where containers in a pod would use pod the restart policy over the set container restart policy ([#19671](https://github.com/containers/podman/issues/19671)).\n\n### API\n- Fixed a bug in the Compat Build endpoint where the pull query parameter did not parse 0/1 as a boolean ([#17778](https://github.com/containers/podman/issues/17778)).\n\n### Misc\n- Updated the containers/storage library to v1.48.1\n\n## 4.6.1\n### Quadlet\n- Quadlet now selects the first Quadlet file found when multiple Quadlets exist with the same name.\n\n### API\n- Fixed a bug in the container kill endpoint to correctly return 409 when a container is not running ([#19368](https://github.com/containers/podman/issues/19368)).\n\n### Misc\n- Updated Buildah to v1.31.2\n- Updated the containers/common library to v0.55.3\n\n## 4.6.0\n### Features\n- The `podman manifest inspect` command now supports the `--authfile` option, for authentication purposes.\n- The `podman wait` command now supports `--condition={healthy,unhealthy}`, allowing waits on successful health checks.\n- The `podman push` command now supports a new option, ` --compression-level`, which specifies the compression level to use ([#18939](https://github.com/containers/podman/issues/18939)).\n- The `podman machine start` command, when run with `--log-level=debug`, now creates a console window to display the virtual machine while booting.\n- Podman now supports a new option, `--imagestore`, which allows images to be stored in a different directory than the graphroot.\n- The `--ip-range` option to the `podman network create` command now accepts a new syntax, `<startIP>-<endIP>`, which allows more flexibility when limiting the ip range that Podman assigns.\n- [Tech Preview] A new command, `podmansh`, has been added, which executes a user shell within a container when the user logs into the system. The container that the users get added to can be defined via a Podman Quadlet file. This feature is currently a `Tech Preview` which means it's ready for users to try out but changes can be expected in upcoming versions.\n- The `podman network create` command supports a new `--option`, `bclim`, for the `macvlan` driver.\n- The `podman network create` command now supports adding static routes using the `--route` option.\n- The `podman network create` command supports a new `--option`, `no_default_route` for all drivers.\n- The `podman info` command now prints network information about the binary path, package version, program version and DNS information ([#18443](https://github.com/containers/podman/issues/18443)).\n- The `podman info` command now displays the number of free locks available, helping to debug lock exhaustion scenarios.\n- The `podman info` command now outputs information about pasta, if it exists in helper_binaries_dir or $PATH.\n- The remote Podman client’s `podman build` command now accepts Containerfiles that are not in the context directory ([#18239](https://github.com/containers/podman/issues/18239)).\n- The remote Podman client’s `podman play kube` command now supports the `--configmap` option ([#17513](https://github.com/containers/podman/issues/17513)).\n- The `podman kube play` command now supports multi-doc YAML files for configmap arguments. ([#18537](https://github.com/containers/podman/issues/18537)).\n- The `podman pod create` command now supports a new flag, `--restart`, which sets the restart policy for all the containers in a pod.\n- The `--format={{.Restarts}}` option to the `podman ps` command now shows the number of times a container has been restarted based on its restart policy.\n- The `--format={{.Restarts}}` option to the `podman pod ps` command now shows the total number of container restarts in a pod.\n- The podman machine provider can now be specified via the `CONTAINERS_MACHINE_PROVIDER` environment variable, as well as via the `provider` field in `containers.conf` ([#17116](https://github.com/containers/podman/issues/17116)).\n- A default list of pasta arguments can now be set in `containers.conf` via `pasta_options`.\n- The `podman machine init` and `podman machine set` commands now support a new option, `--user-mode-networking`, which improves interops with VPN configs that drop traffic from WSL networking, on Windows.\n- The remote Podman client’s `podman push` command now supports the `--digestfile` option ([#18216](https://github.com/containers/podman/issues/18216)).\n- Podman now supports a new option, `--out`, that allows redirection or suppression of STDOUT ([#18120](https://github.com/containers/podman/issues/18120)).\n\n### Changes\n- When looking up an image by digest, the entire repository of the specified value is now considered. This aligns with Docker's behavior since v20.10.20. Previously, both the repository and the tag was ignored and Podman looked for an image with only a matching digest. Ignoring the name, repository, and tag of the specified value can lead to security issues and is considered harmful.\n- The `podman system service` command now emits a warning when binding to a TCP socket. This is not a secure configuration and the Podman team recommends against using it.\n- The `podman top` command no longer depends on ps(1) being present in the container image and now uses the one from the host ([#19001](https://github.com/containers/podman/issues/19001)).\n- The `--filter id=xxx` option will now treat `xxx` as a CID prefix, and not as a regular expression ([#18471](https://github.com/containers/podman/issues/18471)).\n- The `--filter` option now requires multiple `--filter` flags to specify multiple filters. It will no longer support the comma syntax (`--filter label=a,label=b`).\n- The `slirp4netns` binary for will now be searched for in paths specified by the `helper_binaries_dir` option in `containers.conf` ([#18239](https://github.com/containers/podman/issues/18568)).\n- Podman machine now updates `/run/docker.sock` within the guest to be consistent with its rootless/rootful setting ([#18480](https://github.com/containers/podman/issues/18480)).\n- The `podman system df` command now counts files which podman generates for use with specific containers as part of the disk space used by those containers, and which can be reclaimed by removing those containers. It also counts space used by files it associates with specific images and volumes as being used by those images and volumes.\n- The `podman build` command now returns a clearer error message when the Containerfile cannot be found. ([#16354](https://github.com/containers/podman/issues/16354)).\n- Containers created with `--pid=host` will no longer print errors on podman stop ([#18460](https://github.com/containers/podman/issues/18460)).\n- The `podman manifest push` command no longer requires a destination to be specified. If a destination is not provided, the source is used as the destination ([#18360](https://github.com/containers/podman/issues/18360)).\n- The `podman system reset` command now warns the user that the graphroot and runroot directories will be deleted ([#18349](https://github.com/containers/podman/issues/18349)), ([#18295](https://github.com/containers/podman/issues/18295)).\n- The `package` and `package-install` targets in Makefile have now been fixed and also renamed to `rpm` and `rpm-install` respectively for clarity ([#18817](https://github.com/containers/podman/issues/18817)).\n\n### Quadlet\n- Quadlet now exits with a non-zero exit code when errors are found ([#18778](https://github.com/containers/podman/issues/18778)).\n- Rootless podman quadlet files can now be installed in `/etc/containers/systemd/users` directory.\n- Quadlet now supports the `AutoUpdate` option.\n- Quadlet now supports the `Mask` and `Unmask` options.\n- Quadlet now supports the `WorkingDir` option, which specifies the default working dir in a container.\n- Quadlet now supports the `Sysctl` option, which sets namespaced kernel parameters for containers ([#18727](https://github.com/containers/podman/issues/18727)).\n- Quadlet now supports the `SecurityLabelNetsted=true` option, which allows nested SELinux containers.\n- Quadlet now supports the `Pull` option in `.container` files ([#18779](https://github.com/containers/podman/issues/18779)).\n- Quadlet now supports the `ExitCode` field in `.kube` files, which reflects the exit codes of failed containers.\n- Quadlet now supports `PodmanArgs` field.\n- Quadlet now supports the `HostName` field, which sets the container's host name, in `.container` files ([#18486](https://github.com/containers/podman/issues/18486)).\n\n### Bugfixes\n- Fixed a bug where the `podman machine start` command would fail with a 255 exit code. It now waits for systemd-user sessions to be up, and for SSH to be ready, addressing the flaky machine starts ([#17403](https://github.com/containers/podman/issues/17403)).\n- Fixed a bug where the `podman auto update` command did not correctly use authentication files when contacting container registries.\n- Fixed a bug where `--label` option to the `podman volume ls` command would return volumes that matched any of the filters, not all of them  ([#19219](https://github.com/containers/podman/issues/19219)).\n- Fixed a bug where the `podman kube play` command did not recognize containerPort names inside Kubernetes liveness probes. Now, liveness probes support both containerPort names as well as port numbers ([#18645](https://github.com/containers/podman/issues/18645)).\n- Fixed a bug where the `--dns` option to the `podman run` command was ignored for macvlan networks ([#19169](https://github.com/containers/podman/issues/19169)).\n- Fixed a bug in the `podman system service` command where setting LISTEN_FDS when listening on TCP would misbehave.\n- Fixed a bug where hostnames were not recognized as a network alias. Containers can now resolve other hostnames, in addition to their names ([#17370](https://github.com/containers/podman/issues/17370)).\n- Fixed a bug where the `podman pod run` command would error after a reboot on a non-systemd system ([#19175](https://github.com/containers/podman/issues/19175)).\n- Fixed a bug where the `--syslog` option returned a fatal error when no syslog server was found ([#19075](https://github.com/containers/podman/issues/19075)).\n- Fixed a bug where the `--mount` option would parse the `readonly` option incorrectly ([#18995](https://github.com/containers/podman/issues/18995)).\n- Fixed a bug where hook executables invoked by the `podman run` command set an incorrect working directory. It now sets the correct working directory pointing to the container bundle directory ([#18907](https://github.com/containers/podman/issues/18907)).\n- Fixed a bug where the `-device-cgroup-rule` option was silently ignored in rootless mode ([#18698](https://github.com/containers/podman/issues/18698)).\n- Listing images is now more resilient towards concurrently running image removals.\n- Fixed a bug where the `--force` option to the `podman kube down` command would not remove volumes ([#18797](https://github.com/containers/podman/issues/18797)).\n- Fixed a bug where setting the `--list-tags` option in the `podman search` command would cause the command to ignore the `--format` option ([#18939](https://github.com/containers/podman/issues/18939)).\n- Fixed a bug where the `podman machine start` command did not properly translate the proxy IP.\n- Fixed a bug where the `podman auto-update` command would not restart dependent units (specified via `Requires=`) on auto update ([#18926](https://github.com/containers/podman/issues/18926)).\n- Fixed a bug where the `podman pull` command would print ids multiple times when using additional stores ([#18647](https://github.com/containers/podman/issues/18647)).\n- Fixed a bug where creating a container while setting unmask option to an empty array would cause the create to fail ([#18848](https://github.com/containers/podman/issues/18848)).\n- Fixed a bug where the propagation of proxy settings for QEMU VMs was broken.\n- Fixed a bug where the `podman rm -fa` command could fail to remove dependency containers such as pod infra containers ([#18180](https://github.com/containers/podman/issues/18180)).\n- Fixed a bug  where ` --tz` option to the `podman create ` and `podman run` commands would not create a proper localtime symlink to the zoneinfo file, which was causing some applications (e.g. java) to not read the timezone correctly.\n- Fixed a bug where lowering the ulimit after container creation would cause the container to fail ([#18714](https://github.com/containers/podman/issues/18714)).\n- Fixed a bug where signals were not forwarded correctly in rootless containers ([#16091](https://github.com/containers/podman/issues/16091)).\n- Fixed a bug where the `--filter volume=` option to the `podman events` command would not display the relevant events ([#18618](https://github.com/containers/podman/issues/18618)).\n- Fixed a bug in the `podman wait` command where containers created with the `--restart=always` option would result in the container staying in a stopped state.\n- Fixed a bug where the `podman stats` command returned an incorrect memory limit after a `container update`. ([#18621](https://github.com/containers/podman/issues/18621)).\n- Fixed a bug in the `podman run` command where the `PODMAN_USERNS` environment variable was not ignored when the `--pod` option was set, resulting in a container created in a different user namespace than its pod ([#18580](https://github.com/containers/podman/issues/18580)).\n- Fixed a bug where the `podman run` command would not create the `/run/.containerenv` when the tmpfs is mounted on `/run` ([#18531](https://github.com/containers/podman/issues/18531)).\n- Fixed a bug where the `$HOME` environment variable would be configured inconsistently between container starts if a new passwd entry had to be created for the container.\n- Fixed a bug where the `podman play kube` command would restart initContainers based on the restart policy of the pod. initContainers should never be restarted.\n- Fixed a bug in the remote Podman client’s `build` command where an invalid platform would be set.\n- Fixed a bug where the `podman history` command did not display tags ([#17763](https://github.com/containers/podman/issues/17763)).\n- Fixed a bug where the `podman machine init` command would create invalid machines when run with certain UIDs ([#17893](https://github.com/containers/podman/issues/17893)).\n- Fixed a bug in the remote Podman client’s `podman manifest push` command where an error encountered during the push incorrectly claimed that the error occurred while adding an item to the list.\n- Fixed a bug where the `podman machine rm` command would remove the machine connection before the user confirms the removal of the machine ([#18330](https://github.com/containers/podman/issues/18330)).\n- Fixed a bug in the sqlite database backend where the first read access may fail ([#17859](https://github.com/containers/podman/issues/17859)).\n- Fixed a bug where a podman machine could get stuck in the `starting` state ([#16945](https://github.com/containers/podman/issues/16945)).\n- Fixed a bug where running a container with the `--network=container:` option would fail when the target container uses the host network mode. The same also now works for the other namespace options (`--pid`, `--uts`, `--cgroupns`, `--ipc`) ([#18027](https://github.com/containers/podman/issues/18027)).\n- Fixed a bug where the `--format {{.State}}` option to the `podman ps` command would display the status rather than the state ([#18244](https://github.com/containers/podman/issues/18244)).\n- Fixed a bug in the `podman commit` command where setting a `--message` while also specifying `--format=docker` options would incorrectly warn that setting a message is incompatible with OCI image formats ([#17773](https://github.com/containers/podman/issues/17773)).\n- Fixed a bug in the `--format` option to the `podman history` command, where the `{{.CreatedAt}}` and `{{.Size}}` fields were inconsistent with Docker’s output ([#17767](https://github.com/containers/podman/issues/17767)), ([#17768](https://github.com/containers/podman/issues/17768)).\n- Fixed a bug in the remote Podman client where filtering containers would not return all matching containers ([#18153](https://github.com/containers/podman/issues/18153)).\n\n### API\n- Fixed a bug where the Compat and Libpod Top endpoints for Containers did not correctly report errors.\n- Fixed a bug in the Compat Pull and Compat Push endpoints where errors were incorrectly handled.\n- Fixed a bug in the Compat Wait endpoint to correctly handle the \"removed\" condition ([#18889](https://github.com/containers/podman/issues/18889)).\n- Fixed a bug in the Compat Stats endpoint for Containers where the `online_cpus` field was not set correctly ([#15754](https://github.com/containers/podman/issues/15754)).\n- Fixed a bug in the Compat Build endpoint where the pull field accepted a boolean value instead of a string ([#17778](https://github.com/containers/podman/issues/17778)).\n- Fixed a bug where the Compat History endpoint for Images did not prefix the image ID with `sha256:` ([#17762](https://github.com/containers/podman/issues/17762)).\n- Fixed a bug in the Libpod Export endpoint for Images where exporting to an oci-dir or a docker-dir format would not export to the correct format ([#15897](https://github.com/containers/podman/issues/15897)).\n- The Compat Create endpoint for Containers now supports the `platform` parameter ([#18951](https://github.com/containers/podman/issues/18951)).\n- The Compat Remove endpoint for Images now supports the `noprune` query parameter, which ensures that dangling parents of the specified image are not removed\n- The Compat Info endpoint now reports running rootless and SELinux enabled as security options.\n- Fixed a bug in the Auth endpoint where a nil dereference could potentially occur.\n\n### Misc\n- The `podman system service` command is now supported on FreeBSD.\n- Updated the Mac pkginstaller QEMU to v8.0.0\n- Updated Buildah to v1.31.0\n- Updated the containers/storage library to v1.48.0\n- Updated the containers/image library to v5.26.1\n- Updated the containers/common library to v0.55.2\n\n## 4.5.1\n### Security\n- Do not include image annotations when building spec. These annotations can have security implications - crun, for example, allows rootless containers to preserve the user's groups through an annotation.\n\n### Quadlet\n- Fixed a bug in quadlet to recognize the systemd optional prefix '-'.\n\n### Bugfixes\n- Fixed a bug where fully resolving symlink paths included the version number, breaking the path to homebrew-installed qemu files ([#18111](https://github.com/containers/podman/issues/18111)).\n- Fixed a bug where Podman was splitting the filter map slightly differently compared to Docker ([#18092](https://github.com/containers/podman/issues/18092)).\n- Fixed a bug where running `make package` did not work on RHEL 8 environments ([#18421](https://github.com/containers/podman/issues/18421)).\n- Fixed a bug to allow comma separated dns server IP addresses in `podman network create --dns` and `podman network update --dns-add/--dns-drop` ([#18663](https://github.com/containers/podman/pull/18663)).\n- Fixed a bug to correctly stop containers created with --restart=always in all cases ([#18259](https://github.com/containers/podman/issues/18259)).\n- Fixed a bug in podman-remote logs to correctly display errors reported by the server.\n- Fixed a bug to correctly tear down the network stack again when an error happened during the setup.\n- Fixed a bug in the remote API exec inspect call to correctly display updated information, e.g. when the exec process died ([#18424](https://github.com/containers/podman/issues/18424)).\n- Fixed a bug so that podman save on Windows can now write to stdout by default ([#18147](https://github.com/containers/podman/issues/18147)).\n- Fixed a bug where podman machine rm with the qemu backend now correctly removes the machine connection after the confirmation message not before ([#18330](https://github.com/containers/podman/issues/18330)).\n- Fixed a problem where podman machine connections would try to connect to the ipv6 localhost ipv6 (::1) ([#16470](https://github.com/containers/podman/issues/16470)).\n\n### API\n- Fixed a bug in the compat container create endpoint which could result in a \"duplicate mount destination\" error when the volume path was not \"clean\", e.g. included a final slash at the end. ([#18454](https://github.com/containers/podman/issues/18454)).\n- The compat API now correctly accepts a tag in the images/create?fromSrc endpoint ([#18597](https://github.com/containers/podman/issues/18597)).\n\n## 4.5.0\n### Features\n- The `podman kube play` command now supports the hostIPC field ([#17157](https://github.com/containers/podman/issues/17157)).\n- The `podman kube play` command now supports a new flag, `--wait`, that keeps the workload running in foreground until killed with a sigkill or sigterm. The workloads are cleaned up and removed when killed ([#14522](https://github.com/containers/podman/issues/14522)).\n- The `podman kube generate` and `podman kube play` commands now support SELinux filetype labels.\n- The `podman kube play` command now supports sysctl options ([#16711](https://github.com/containers/podman/issues/16711)).\n- The `podman kube generate` command now supports generating the Deployments ([#17712](https://github.com/containers/podman/issues/17712)).\n- The `podman machine inspect` command now shows information about named pipe addresses on Windows ([#16860](https://github.com/containers/podman/issues/16860)).\n- The `--userns=keep-id` option for `podman create`, ` run`, and `kube play` now works for root containers by copying the current mapping into a new user namespace ([#17337](https://github.com/containers/podman/issues/17337)).\n- A new command has been added, `podman secret exists`, to verify if a secret with the given name exists.\n- The `podman kube generate` and `podman kube play` commands now support ulimit annotations ([#16404](https://github.com/containers/podman/issues/16404)).\n- The `podman create`, `run`, `pod create`, and `pod clone` commands now support a new option, `--shm-size-systemd`, that allows limiting tmpfs sizes for systemd-specific mounts ([#17037](https://github.com/containers/podman/issues/17037)).\n- The `podman create` and `run` commands now support a new option, `--group-entry` which customizes the entry that is written to the `/etc/group` file within the container when the `--user` option is used ([#14965](https://github.com/containers/podman/issues/14965)).\n- The `podman create` and `podman run` commands now support a new option, `--security-opt label=nested`, which allows SELinux labeling within a confined container.\n- A new command, `podman machine os apply` has been added, which applies OS changes to a Podman machine, from an OCI image.\n- The `podman search` command now supports two new options: `--cert-dir` and `--creds`.\n- Defaults for the `--cgroup-config` option for `podman create` and `podman run` can now be set in `containers.conf`.\n- Podman now supports auto updates for containers running inside a pod ([#17181](https://github.com/containers/podman/issues/17181)).\n- Podman can now use a SQLite database as a backend for increased stability. The default remains the old database, BoltDB. The database to use is selected through the `database_backend` field in `containers.conf`.\n- Netavark plugin support is added, the netavark network backend now allows users to create custom network drivers. `podman network create -d <plugin>` can be used to create a network config for your plugin and then podman will use it like any other config and takes care of setup/teardown on container start/stop. This requires at least netavark version 1.6.\n\n### Changes\n- Remote builds using the `podman build` command no longer allows `.containerignore` or `.dockerignore` files to be symlinks outside the build context.\n- The `podman system reset` command now clears build caches.\n- The `podman play kube` command now adds ctrName as an alias to the pod network ([#16544](https://github.com/containers/podman/issues/16544)).\n- The `podman kube generate` command no longer adds hostPort to the pod spec when generating service kinds.\n- Using a private cgroup namespace with systemd containers on a cgroups v1 system will explicitly error (this configuration has never worked) ([#17727](https://github.com/containers/podman/issues/17727)).\n- The `SYS_CHROOT` capability has been re-added to the default set of capabilities.\n- Listing large quantities of images with the `podman images` command has seen a significant performance improvement ([#17828](https://github.com/containers/podman/issues/17828)).\n\n### Quadlet\n- Quadlet now supports the `Rootfs=` option, allowing containers to be based on rootfs in addition to image.\n- Quadlet now supports the Secret key in the Container group.\n- Quadlet now supports the Logdriver key in `.container` and `.kube` units.\n- Quadlet now supports the Mount key in `.container` files ([#17632](https://github.com/containers/podman/issues/17632)).\n- Quadlet now supports specifying static IPv4 and IPv6 addresses in `.container` files via the IP= and IP6= options.\n- Quadlet now supports health check configuration in `.container` files.\n- Quadlet now supports relative paths in the Volume key in .container files ([#17418](https://github.com/containers/podman/issues/17418)).\n- Quadlet now supports setting the UID and GID options for `--userns=keep-id` ([#17908](https://github.com/containers/podman/issues/17908)).\n- Quadlet now supports adding `tmpfs` filesystems through the `Tmpfs` key in `.container` files ([#17907](https://github.com/containers/podman/issues/17907)).\n- Quadlet now includes a `--version` option.\n- Quadlet now forbids specifying SELinux label types, including disabling selinux separation.\n- Fixed a bug where Quadlet did not recognize paths starting with systemd specifiers as absolute ([#17906](https://github.com/containers/podman/issues/17906)).\n\n### Bugfixes\n- Fixed a bug in the network list API where a race condition would cause the list to fail if a container had just been removed ([#17341](https://github.com/containers/podman/issues/17341)).\n- Fixed a bug in the `podman image scp` command to correctly use identity settings.\n- Fixed a bug in the remote Podman client's `podman build` command where building from stdin would fail.  `podman --remote build -f -` now works correctly ([#17495](https://github.com/containers/podman/issues/17495)).\n- Fixed a bug in the `podman volume prune` command where exclusive (`!=`) filters would fail ([#17051](https://github.com/containers/podman/issues/17051)).\n- Fixed a bug in the `--volume` option in the `podman create`, `run`, `pod create`, and `pod clone` commands where specifying relative mappings or idmapped mounts would fail ([#17517](https://github.com/containers/podman/issues/17517)).\n- Fixed a bug in the `podman kube play` command where a secret would be created, but nothing would be printed on the terminal ([#17071](https://github.com/containers/podman/issues/17071)).\n- Fixed a bug in the `podman kube down` command where secrets were not removed.\n- Fixed a bug where cleaning up after an exited container could segfault on non-Linux operating systems.\n- Fixed a bug where the `podman inspect` command did not properly list the network configuration of containers created with `--net=none` or `--net=host` ([#17385](https://github.com/containers/podman/issues/17385)).\n- Fixed a bug where containers created with user-specified SELinux labels that created anonymous or named volumes would create those volumes with incorrect labels.\n- Fixed a bug where the `podman checkpoint restore` command could panic.\n- Fixed a bug in the `podman events` command where events could be returned more than once after a log file rotation ([#17665](https://github.com/containers/podman/issues/17665)).\n- Fixed a bug where errors from systemd when restarting units during a `podman auto-update` command were not reported.\n- Fixed a bug where containers created with the `--health-on-failure=restart` option were not restarting when the health state turned unhealthy ([#17777](https://github.com/containers/podman/issues/17777)).\n- Fixed a bug where containers using the `slirp4netns` network mode with the `cidr` option and a custom user namespace did not set proper DNS IPs in `resolv.conf`.\n- Fixed a bug where the `podman auto-update` command could fail to restart systemd units ([#17607](https://github.com/containers/podman/issues/17607)).\n- Fixed a bug where the `podman play kube` command did not properly handle `secret.items` in volumes ([#17829](https://github.com/containers/podman/issues/17829)).\n- Fixed a bug where the `podman generate kube` command could generate pods with invalid names and hostnames ([#18054](https://github.com/containers/podman/issues/18054)).\n- Fixed a bug where names of limits (such as `RLIMIT_NOFILE`) passed to the `--ulimit` option to `podman create` and `podman run` were case-sensitive ([#18077](https://github.com/containers/podman/issues/18077)).\n\n### API\n- The Compat Stats endpoint for Containers now returns the `Id` key as lowercase `id` to match Docker ([#17869](https://github.com/containers/podman/issues/17869)).\n\n### Misc\n- The `podman version` command no longer joins the rootless user namespace ([#17657](https://github.com/containers/podman/issues/17657)).\n- The `podman-events --stream` option is no longer hidden and is now documented.\n\n## 4.4.4\n### Changes\n- Podman now writes direct mappings for idmapped mounts.\n\n### Bugfixes\n- Fixed a regression which caused the MacOS installer to fail if podman-mac-helper was already installed ([#17910](https://github.com/containers/podman/issues/17910)).\n\n## 4.4.3\n### Security\n- This release fixes CVE-2022-41723, a vulnerability in the golang.org/x/net package where a maliciously crafted HTTP/2 stream could cause excessive CPU consumption, sufficient to cause a denial of service.\n\n### Changes\n- Added `SYS_CHROOT` back to the default set of capabilities.\n\n### Bugfixes\n- Fixed a bug where quadlet would not use the default runtime set.\n- Fixed a bug where `podman system service --log-level=trace` did not hijack the client connection, causing remote `podman run/attach` calls to work incorrectly ([#17749](https://github.com/containers/podman/issues/17749)).\n- Fixed a bug where the podman-mac-helper returned an incorrect exit code after erroring. `podman-mac-helper` now exits with 1 on error ([#17785](https://github.com/containers/podman/issues/17785)).\n- Fixed a bug where `podman run --dns ... --network` would not respect the dns option. Podman will no longer add host nameservers to resolv.conf when aardvark-dns is used ([#17499](https://github.com/containers/podman/issues/17499)).\n- Fixed a bug where `podman logs` errored out with the passthrough driver when the container was run from a systemd service.\n- Fixed a bug where `--health-on-failure=restart` would not restart the container when the health state turned unhealthy ([#17777](https://github.com/containers/podman/issues/17777)).\n- Fixed a bug where podman machine VMs could have their system time drift behind real time. New machines will no longer be affected by this ([#11541](https://github.com/containers/podman/issues/11541)).\n\n### API\n- Fixed a bug where creating a network with the Compat API would return an incorrect status code. The API call now returns 409 when creating a network with an existing name and when CheckDuplicate is set to true ([#17585](https://github.com/containers/podman/issues/17585)).\n- Fixed a bug in the /auth REST API where logging into Docker Hub would fail ([#17571](https://github.com/containers/podman/issues/17571)).\n\n### Misc\n- Updated the containers/common library to v0.51.1\n- Updated the Mac pkginstaller QEMU to v7.2.0\n\n## 4.4.2\n### Security\n- This release fixes CVE-2023-0778, which allowed a malicious user to potentially replace a normal file in a volume with a symlink while exporting the volume, allowing for access to arbitrary files on the host file system.\n\n### Bugfixes\n- Fixed a bug where containers started via the `podman-kube` systemd template would always use the \"passthrough\" log driver ([#17482](https://github.com/containers/podman/issues/17482)).\n- Fixed a bug where pulls would unexpectedly encounter an EOF error. Now, Podman automatically transparently resumes aborted pull connections.\n- Fixed a race condition in Podman's signal proxy.\n\n### Misc\n- Updated the containers/image library to v5.24.1.\n\n## 4.4.1\n### Changes\n- Added the `podman-systemd.unit` man page, which can also be displayed using `man quadlet` ([#17349](https://github.com/containers/podman/issues/17349)).\n- Documented journald identifiers used in the journald backend for the `podman events` command.\n- Dropped the CAP_CHROOT, CAP_AUDIT_WRITE, CAP_MKNOD, CAP_MKNOD default capabilities.\n\n### Bugfixes\n- Fixed a bug where the default handling of pids-limit was incorrect.\n- Fixed a bug where parallel calls to `make docs` crashed ([#17322](https://github.com/containers/podman/issues/17322)).\n- Fixed a regression in the `podman kube play` command where existing resources got mistakenly removed.\n\n## 4.4.0\n### Features\n- Introduce Quadlet, a new systemd-generator that easily writes and maintains systemd services using Podman.\n- The `podman kube play` command now supports hostPID in the pod.spec ([#17157](https://github.com/containers/podman/issues/17157)).\n- The `podman build` command now supports the `--group-add` option.\n- A new command, `podman network update` has been added, which updates networks for containers and pods.\n- The `podman network create` command now supports a new option, `--network-dns-server`, which sets the DNS servers that this network will use.\n- The `podman kube play` command now accepts the`--publish` option, which sets or overrides port publishing.\n- The `podman inspect` command now returns an error field ([#13729](https://github.com/containers/podman/issues/13729)).\n- The `podman update` command now accepts the `--pids-limit` option, which sets the PIDs limit for a container ([#16543](https://github.com/containers/podman/issues/16543)).\n- Podman now supports container names beginning with a `/` to match Docker behaviour ([#16663](https://github.com/containers/podman/issues/16663)).\n- The `podman events` command now supports `die` as a value (mapping to `died`) to the `--filter` option, for better Docker compatibility ([#16857](https://github.com/containers/podman/issues/16857)).\n- The `podman system df`command’s `--format \"{{ json . }}\"` option now outputs human-readable format to improve Docker compatibility\n- The `podman rm -f` command now also terminates containers in \"stopping\" state.\n- Rootless privileged containers will now mount all tty devices, except for the virtual-console related tty devices (/dev/tty[0-9]+) ([#16925](https://github.com/containers/podman/issues/16925)).\n- The `podman play kube` command now supports subpaths when using configmap and hostpath volume types  ([#16828](https://github.com/containers/podman/issues/16828)).\n- All commands with the `--no-heading` option now include a short option, `-n`.\n- The `podman push` command no longer ignores the hidden `--signature-policy` flag.\n- The `podman wait` command now supports the `--ignore` option.\n- The `podman network create` command now supports the `--ignore` option to instruct Podman to not fail when trying to create an already existing network.\n- The `podman kube play` command now supports volume subpaths when using named volumes ([#12929](https://github.com/containers/podman/issues/12929)).\n- The `podman kube play` command now supports container startup probes.\n- A new command, `podman buildx version`, has been added, which shows the buildah version ([#16793](https://github.com/containers/podman/issues/16793)).\n- Remote usage of the `podman build` command now supports the  `--volume` option ([#16694](https://github.com/containers/podman/issues/16694)).\n- The `--opt parent=...` option is now accepted with the ipvlan network driver in the `podman network create` command ([#16621](https://github.com/containers/podman/issues/16621)).\n- The `--init-ctr` option for the `podman container create` command now supports shell completion.\n- The `podman kube play` command run with a readOnlyTmpfs Flag in the kube YAML can now write to tmpfs inside of the container.\n- The `podman run` command has been extended with support for checkpoint images.\n- When the new `event_audit_container_create` option is enabled in containers.conf, the verbosity of the container-create event is increased by adding the inspect data of the container to the event.\n- Containers can now have startup healthchecks, allowing a command to be run to ensure the container is fully started before the regular healthcheck is activated.\n- CDI devices can now be specified in containers.conf ([#16232](https://github.com/containers/podman/issues/16232)).\n- The `podman push` command features two new options, `--encryption-key` and `--encrypt-layer`, for encrypting an image while pushing it to a registry ([#15163](https://github.com/containers/podman/issues/15163)).\n- The `podman pull` and `podman run` commands feature a new option, `--decryption-key`, which decrypts the image while pulling it from a registry ([#15163](https://github.com/containers/podman/issues/15163)).\n- Remote usage of the `podman manifest annotate` command is now supported.\n- The `SSL_CERT_FILE` and `SSL_CERT_DIR` environment variables are now propagated into Podman machine VMs ([#16041](https://github.com/containers/podman/issues/16041)).\n- A new environment variable, `CONTAINER_PROXY`, can be used to specify TCP proxies when using remote Podman.\n- The runtime automatically detects and switches to crun-wasm if the image is a webassembly image.\n- The `podman machine init` command now supports the `--quiet` option, as well a new option, `--no-info` which suppresses informational tips ([#15525](https://github.com/containers/podman/issues/15525)).\n- The `podman volume create` command now includes the `-d` short option for the `--driver` option.\n- The `podman events` command has a new alias, `podman system events`, for better Docker compatibility.\n- The `--restart-sec` option for `podman generate systemd` now generates `RestartSec=` for both pod service files and container service files ([#16419](https://github.com/containers/podman/issues/16419)).\n- The `podman manifest push` command now accepts `--purge`, `-p` options as aliases for `--rm`, for Docker compatibility.\n- The `--network` option to `podman pod create` now supports using an existing network namespace via `ns:[netns-path]` ([#16208](https://github.com/containers/podman/issues/16208)).\n- The `podman pod rm` and `podman container rm` commands now removes container/pod ID files along with the container/pod ([#16387](https://github.com/containers/podman/issues/16387)).\n- The `podman manifest inspect` command now accepts a new option, `--insecure` as an alias to`--tls-verify=false`, improving Docker compatibility ([#14917](https://github.com/containers/podman/issues/14917)).\n- A new command, `podman kube apply`, has been added, which deploys the generated yaml to a k8s cluster.\n- The `--userns=keep-id` option in rootless `podman create`, `podman run`, `podman kube play`, `podman pod create`, and `podman pod clone` now can be used when only one ID is available.\n- The `podman play kube` command now supports the `volume.podman.io/import-source` annotation to import the contents of tarballs.\n- The `podman volume create` command now accepts the `--ignore` option, which ignores the create request if the named volume already exists.\n- The `--filter` option for `podman ps` now supports regex  ([#16180](https://github.com/containers/podman/issues/16180)).\n- The `podman system df` command now accepts `--format json` and autocompletes for the `--format` option ([#16204](https://github.com/containers/podman/issues/16204)).\n- The `podman kube down` command accepts a new option, `--force`, which removes volumes ([#16348](https://github.com/containers/podman/issues/16348)).\n- The `podman create`, `podman run`, and `podman pod create` commands now support a new networking mode, pasta, which can be enabled with the `--net=pasta` option ([#14425](https://github.com/containers/podman/issues/14425), [#13229](https://github.com/containers/podman/issues/13229)).\n\n### Changes\n- CNI is being deprecated from Podman and support will be dropped at a future date. Netavark is now advised and is the default network backend for Podman.\n- The network name `pasta` is deprecated and support for it will be removed in the next major release.\n- The `podman network create` command no longer accepts `default` as valid name. It is impossible to use this network name in the `podman run/create` command because it is parsed as a network mode instead ([#17169](https://github.com/containers/podman/issues/17169)).\n- The `podman kube generate` command will no longer generate built-in annotations, as reserved annotations are used internally by Podman and would have no effect when run with Kubernetes.\n- The `podman kube play` command now limits the replica count to 1 when deploying from kubernetes YAML ([#16765](https://github.com/containers/podman/issues/16765)).\n- When a container that runs with the `--pid=host` option is terminated, Podman now sends a SIGKILL to all the active exec sessions\n- The journald driver for both `podman events` and `podman logs` is now more efficient when the `--since` option is used, as it will now seek directly to the correct time instead of reading all entries from the journal ([#16950](https://github.com/containers/podman/issues/16950)).\n- When the `--service-container` option is set for the `podman kube play` command, the default log-driver to is now set to `passthrough` ([#16592](https://github.com/containers/podman/issues/16592)).\n- The `podman container inspect` and `podman kube generate` commands will no longer list default annotations set to false.\n- Podman no longer reports errors on short-lived init containers in pods.\n- Healthchecks are now automatically disabled if on non-systemd systems. If Podman is compiled without the systemd build tag, healthcheck will be disabled at build time ([#16644](https://github.com/containers/podman/issues/16644)).\n- Improved atomicity of VM state persistence on Windows now better tolerates FS corruption in cases of power loss or system failure ([#16550](https://github.com/containers/podman/issues/16550)).\n- A user namespace is now always created when running with EUID != 0.  This is necessary to work in a Kubernetes environment where the POD is \"privileged\" but it is still running with a non-root user.\n- Old healthcheck states are now cleaned up during container restart.\n- The  `CONTAINER_HOST` environment variable defaults to port 22 for SSH style URLs for remote connections, when set ([#16509](https://github.com/containers/podman/issues/16509)).\n- The `podman kube play` command now reuses existing PersistentVolumeClaims instead of erroring.\n- The `podman system reset` command will no longer prompt the user if `/usr/share/containers/storage.conf` file exists.\n- Existing container/pod id files are now truncated instead of throwing an error.\n- The `--format` and `--verbose` flags in `podman system df` are no longer allowed to be used in combination.\n- The `podman kube generate` command now sets `runAsNonRoot=true` in the generated yaml when the image has user set as a positive integer ([#15231](https://github.com/containers/podman/issues/15231)).\n- Listing containers (e.g, via `podman ps`) is considerably faster.\n- The `podman push` and `podman manifest push` commands now support a new option, `--sign-by-sigstore`, which allows using Fulcio and Rekor.\n\n### Bugfixes\n- Fixed a bug where the `--dns` option was not being set correctly ([#16172](https://github.com/containers/podman/issues/16172)).\n- Fixed a race condition that caused `podman rm` to fail when stopping or killing a container that has already been stopped or has exited ([#16142](https://github.com/containers/podman/issues/16142), [#15367](https://github.com/containers/podman/issues/15367)).\n- Fixed a bug where `podman kube play` default environment variables have not been applied to containers ([#17016](https://github.com/containers/podman/issues/17016)).\n- Fixed a bug where containers with a restart policy set could still restart even after a manual `podman stop` ([#17069](https://github.com/containers/podman/issues/17069)).\n- Fixed a bug where the runtime was not shutdown correctly on error.\n- Fixed a bug where a pod couldn't be removed if its service container did not exist anymore ([#16964](https://github.com/containers/podman/issues/16964)).\n- Fixed a bug where the output of a non-interactive `docker run` against a podman backend would be truncated when using Docker Clients on Mac and Windows ([#16656](https://github.com/containers/podman/issues/16656)).\n- Fixed a bug where `podman logs --since --follow` would not follow and just exit with the journald driver.\n- Fixed a bug where `podman logs --until --follow` would not exit after the given until time.\n- Fixed a bug where remote usage of the `podman attach` and `podman start` did not sigproxy ([#16662](https://github.com/containers/podman/issues/16662)).\n- Fixed a race condition where a container being stopped could be removed from a separate process.\n- Fixed a bug in the `podman ps` command’s `--filter` option where specifying volume as a filter would not return the correct containers ([#16019](https://github.com/containers/podman/issues/16019)).\n- Fixed a bug where podman-remote would send an incorrect absolute path as context when it’s an emptydir.\n- Fixed a bug with the `podman export` command on MacOS and Windows where it could not export to STDOUT ([#16870](https://github.com/containers/podman/issues/16870)).\n- Fixed a bug in the http attach endpoint where it would return an incorrect length when reading logs ([#16856](https://github.com/containers/podman/issues/16856)).\n- Fixed a bug where symlinks were not followed on mounted folders on MacOS.\n- Fixed a bug in the `podman container restore` command’s ` --ignore-static-ip` and `--ignore-static-mac` options when restoring a normal container, i.e without `--import`, where the option was not correctly honored ([#16666](https://github.com/containers/podman/issues/16666)).\n- Fixed a bug where containers, pods, and volumes were not cleaned up after an error happens while playing a kube yaml file.\n- Fixed a bug where system shutdown would be delayed when running health checks on containers running in a systemd unit ([#14531](https://github.com/containers/podman/issues/14531)).\n- Fixed a bug where syslog entries may be truncated when the labels map is too large, by increasing event syslog deserialization buffer.\n- Fixed a bug in `podman kube play` where secrets were incorrectly unmarshalled ([#16269](https://github.com/containers/podman/issues/16269), [#16625](https://github.com/containers/podman/issues/16625)).\n- Fixed a bug where barrier sd-notify messages were ignored when using notify policies in kube-play ([#16076](https://github.com/containers/podman/issues/16076), [#16515](https://github.com/containers/podman/issues/16644)).\n- Fixed a bug where volumes that use idmap were chowned incorrectly to the UID/GID of the root in the container.\n- Fixed a bug in `podman kube play` where IpcNS was not being properly set\n([#16632](https://github.com/containers/podman/issues/16632)).\n- Fixed a bug in `podman kube play` that occurred when the `optional` field of a secret volume was not set in the kube yaml, causing Podman to crash ([#16636](https://github.com/containers/podman/issues/16636)).\n- Fixed a bug in the `podman stats` command where the NetInput and NetOutput fields were swapped.\n- Fixed a bug in the `podman network create` command’s `--driver` option where incorrect shell completion suggestions were given.\n- Fixed a bug where `podman --noout` was not suppressing output from certain commands such as `podman machine` and `podman system connection` ([#16201](https://github.com/containers/podman/issues/16201)).\n- Fixed a bug where a pod was partially created even when its creation has failed ([#16502](https://github.com/containers/podman/issues/16502)).\n- Fixed a bug in `podman cp` when copying directories ending with a \".\" ([#16421](https://github.com/containers/podman/issues/16421)).\n- Fixed a bug where the root `--connection` option would not work with a cached config ([#16282](https://github.com/containers/podman/issues/16282)).\n- Fixed a bug with the `--format {{ json .}}` option which resulted in different output compared to docker ([#16436](https://github.com/containers/podman/issues/16436)).\n- Fixed short name resolution on Windows to `docker.io` to avoid TTY check failure ([#16417](https://github.com/containers/podman/issues/16417)).\n- Fixed a bug with the systemd booted check when `/proc` is mounted with the `hidepid=2` option ([#16022](https://github.com/containers/podman/issues/16022)).\n- Fixed a bug where named volumes were not properly idmapped.\n- Fixed a bug in `podman kube play` where the sdnotify proxy could cause Podman to deadlock ([#16076](https://github.com/containers/podman/issues/16076)).\n- Fixed a bug where the containers.conf files are reloaded redundantly.\n- Fixed a bug where `podman system df` reported wrong image sizes ([#16135](https://github.com/containers/podman/issues/16135)).\n- Fixed a bug where `podman inspect` did not correctly remote the IPCMode of containers ([#17189](https://github.com/containers/podman/issues/17189)).\n- Fixed a bug where containers created in a pod using the `--userns keep-id` option were not correctly adding username entries to /etc/passwd within container ([#17148](https://github.com/containers/podman/issues/17148)).\n- Fixed a bug where the `--publish-all` flag in the `podman create` and `podman run` commands would occasionally assign colliding ports.\n- Fixed a bug where `podman machine init --image-path` on Windows was not correctly handling absolute paths ([#15995](https://github.com/containers/podman/issues/15995)).\n- Fixed a bug where the `podman machine init` would fail on non-systemd Linux distributions due to the lack of timedatectl ([#17244](https://github.com/containers/podman/issues/17244)).\n- Fixed a bug where `podman machine` commands would fail on Windows when the Podman managed VM is set as default in WSL, under some locales ([#17227](https://github.com/containers/podman/issues/17227), [#17158](https://github.com/containers/podman/issues/17158)).\n- Fixed a bug where the `podman ps` command’s STATUS output’s human readable output would add “ago” ([#17250](https://github.com/containers/podman/issues/17250)).\n- Fixed a bug where the `podman events` command run with the journald driver could show events from other users.\n\n### API\n- When creating a container with the Compat API, the `NetworkMode=default` is no longer rewritten to `NetworkMode=bridge` if the `containers.conf` configuration file overwrites `netns` ([#16915](https://github.com/containers/podman/issues/16915)).\n- The Compat Create endpoint now supports the MAC address field in the container config. This ensures that the static mac from the docker-compose.yml is used ([#16411](https://github.com/containers/podman/issues/16411)).\n- Fixed a bug in the Compat Build endpoint where the chunked response may have included more JSON objects than expected per chunk ([#16360](https://github.com/containers/podman/issues/16360)).\n- Fixed a bug in the Compat Create endpoint where DeviceCgroupRules was not correctly set ([#17106](https://github.com/containers/podman/issues/17106)).\n\n### Misc\n- Fixed WSL auto-installation when run under Windows ARM x86_64 emulation\n- Add initial support for Windows on ARM64.\n- Added a systemd unit file that is useful for transient storage mode cleanup.\n- The `podman-release-static.tar.gz` artfact has been renamed to `podman-release-static-linux_{amd64,arm64}.tar.gz` ([#16612](https://github.com/containers/podman/issues/16612)).\n- The `podman-installer-macos-aarch64.pkg` artifact has been renamed to `podman-installer-macos-arm64.pkg`.\n- The MacOS pkginstaller now installs podman-mac-helper by default ([#16547](https://github.com/containers/podman/issues/16547)).\n- Manual overrides of the install location in Windows installer are now allowed.\n([#16265](https://github.com/containers/podman/issues/16265)).\n- Continued ongoing work on porting Podman to FreeBSD\n- Updated the Mac pkginstaller qemu to v7.1.0\n- Updated the Golang version to 1.18\n- Updated the containers/image library to v5.24.0\n- Updated the containers/storage library to v1.45.3\n- Updated the containers/common library to v0.51.0\n- Updated Buildah to v1.29.0\n\n## 4.3.1\n### Bugfixes\n- Fixed a deadlock between the `podman ps` and `podman container inspect` commands\n\n### Misc\n- Updated the containers/image library to v5.23.1\n\n## 4.3.0\n### Features\n- A new command, `podman generate spec`, has been added, which creates a JSON struct based on a given container that can be used with the Podman REST API to create containers.\n- A new command, `podman update`, has been added,which makes changes to the resource limits of existing containers. Please note that these changes do not persist if the container is restarted ([#15067](https://github.com/containers/podman/issues/15067)).\n- A new command, `podman kube down`, has been added, which removes pods and containers created by the given Kubernetes YAML (functionality is identical to `podman kube play --down`, but it now has its own command).\n- The `podman kube play` command now supports Kubernetes secrets using Podman's secrets backend.\n- Systemd-managed pods created by the `podman kube play` command now integrate with sd-notify, using the `io.containers.sdnotify` annotation (or `io.containers.sdnotify/$name` for specific containers).\n- Systemd-managed pods created by `podman kube play` can now be auto-updated, using the `io.containers.auto-update` annotation (or `io.containers.auto-update/$name` for specific containers).\n- The `podman kube play` command can now read YAML from URLs, e.g. `podman kube play https://example.com/demo.yml` ([#14955](https://github.com/containers/podman/issues/14955)).\n- The `podman kube play` command now supports the `emptyDir` volume type ([#13309](https://github.com/containers/podman/issues/13309)).\n- The `podman kube play` command now supports the `HostUsers` field in the pod spec.\n- The `podman play kube` command now supports `binaryData` in ConfigMaps.\n- The `podman pod create` command can now set additional resource limits for pods using the new `--memory-swap`, `--cpuset-mems`, `--device-read-bps`, `--device-write-bps`, `--blkio-weight`, `--blkio-weight-device`, and `--cpu-shares` options.\n- The `podman machine init` command now supports a new option, `--username`, to set the username that will be used to connect to the VM as a non-root user ([#15402](https://github.com/containers/podman/issues/15402)).\n- The `podman volume create` command's `-o timeout=` option can now set a timeout of 0, indicating volume plugin operations will never time out.\n- Added support for a new volume driver, `image`, which allows volumes to be created that are backed by images.\n- The `podman run` and `podman create` commands support a new option, `--env-merge`, allowing environment variables to be specified relative to other environment variables in the image (e.g. `podman run --env-merge \"PATH=$PATH:/my/app\" ...`) ([#15288](https://github.com/containers/podman/issues/15288)).\n- The `podman run` and `podman create` commands support a new option, `--on-failure`, to allow action to be taken when a container fails health checks, with the following supported actions: `none` (take no action, the default), `kill` (kill the container), `restart` (restart the container), and `stop` (stop the container).\n- The `--keep-id` option to `podman create` and `podman run` now supports new options, `uid` and `gid`, to set the UID and GID of the user in the container that will be mapped to the user running Podman (e.g. `--userns=keep-id:uid=11` will made the user running Podman to UID 11 in the container) ([#15294](https://github.com/containers/podman/issues/15294)).\n- The `podman generate systemd` command now supports a new option, `--env`/`-e`, to set environment variables in the generated unit file ([#15523](https://github.com/containers/podman/issues/15523)).\n- The `podman pause` and `podman unpause` commands now support the `--latest`, `--cidfile`, and `--filter` options.\n- The `podman restart` command now supports the `--cidfile` and `--filter` options.\n- The `podman rm` command now supports the `--filter` option to select which containers will be removed.\n- The `podman rmi` command now supports a new option, `--no-prune`, to prevent the removal of dangling parents of removed images.\n- The `--dns-opt` option to `podman create`, `podman run`, and `podman pod create` has received a new alias, `--dns-option`, to improve Docker compatibility.\n- The `podman` command now features a new global flag, `--debug`/`-D`, which enables debug-level logging (identical to `--log-level=debug`), improving Docker compatibility.\n- The `podman` command now features a new global flag, `--config`. This flag is ignored, and is only included for Docker compatibility ([#14767](https://github.com/containers/podman/issues/14767)).\n- The `podman manifest create` command now accepts a new option, `--amend`/`-a`.\n- The `podman manifest create`, `podman manifest add` and `podman manifest push` commands now accept a new option, `--insecure` (identical to `--tls-verify=false`), improving Docker compatibility.\n- The `podman secret create` command's `--driver` and `--format` options now have new aliases, `-d` for `--driver` and `-f` for `--format`.\n- The `podman secret create` command now supports a new option, `--label`/`-l`, to add labels to created secrets.\n- The `podman secret ls` command now accepts the `--quiet`/`-q` option.\n- The `podman secret inspect` command now accepts a new option, `--pretty`, to print output in human-readable format.\n- The `podman stats` command now accepts the `--no-trunc` option.\n- The `podman save` command now accepts the `--signature-policy` option ([#15869](https://github.com/containers/podman/issues/15869)).\n- The `podman pod inspect` command now allows multiple arguments to be passed. If so, it will return a JSON array of the inspected pods ([#15674](https://github.com/containers/podman/issues/15674)).\n- A series of new hidden commands have been added under `podman context` as aliases to existing `podman system connection` commands, to improve Docker compatibility.\n- The remote Podman client now supports proxying signals for attach sessions when the `--sig-proxy` option is set ([#14707](https://github.com/containers/podman/issues/14707)).\n\n### Changes\n- Duplicate volume mounts are now allowed with the `-v` option to `podman run`, `podman create`, and `podman pod create`, so long as source, destination, and options all match ([#4217](https://github.com/containers/podman/issues/4217)).\n- The `podman generate kube` and `podman play kube` commands have been renamed to `podman kube generate` and `podman kube play` to group Kubernetes-related commands. Aliases have been added to ensure the old command names still function.\n- A number of Podman commands (`podman init`, `podman container checkpoint`, `podman container restore`, `podman container cleanup`) now print the user-inputted name of the container, instead of its full ID, on success.\n- When an unsupported option (e.g. resource limit) is specified for a rootless container on a cgroups v1 system, a warning message is now printed that the limit will not be honored.\n- The installer for the Windows Podman client has been improved.\n- The `--cpu-rt-period` and `--cpu-rt-runtime` options to `podman run` and `podman create` now print a warning and are ignored on cgroups v2 systems (cgroups v2 having dropped support for these controllers) ([#15666](https://github.com/containers/podman/issues/15666)).\n- Privileged containers running systemd will no longer mount `/dev/tty*` devices other than `/dev/tty` itself into the container ([#15878](https://github.com/containers/podman/issues/15878)).\n- Events for containers that are part of a pod now include the ID of the pod in the event.\n- SSH functionality for `podman machine` commands has seen a thorough rework, addressing many issues about authentication.\n- The `--network` option to `podman kube play` now allows passing `host` to set the pod to use host networking, even if the YAML does not request this.\n- The `podman inspect` command on containers now includes the digest of the image used to create the container.\n- Pods created by `podman play kube` are now, by default, placed into a network named `podman-kube`. If the `podman-kube` network does not exist, it will be created. This ensures pods can connect to each other by their names, as the network has DNS enabled.\n\n### Bugfixes\n- Fixed a bug where the `podman network prune` and `podman container prune` commands did not properly support the `--filter label!=` option ([#14182](https://github.com/containers/podman/issues/14182)).\n- Fixed a bug where the `podman kube generate` command added an unnecessary `Secret: null` line to generated YAML ([#15156](https://github.com/containers/podman/issues/15156)).\n- Fixed a bug where the `podman kube generate` command did not set `enableServiceLinks` and `automountServiceAccountToken` to false in generated YAML ([#15478](https://github.com/containers/podman/issues/15478) and [#15243](https://github.com/containers/podman/issues/15243)).\n- Fixed a bug where the `podman kube play` command did not properly handle CPU limits ([#15726](https://github.com/containers/podman/issues/15726)).\n- Fixed a bug where the `podman kube play` command did not respect default values for liveness probes ([#15855](https://github.com/containers/podman/issues/15855)).\n- Fixed a bug where the `podman kube play` command did not bind ports if `hostPort` was not specified but `containerPort` was ([#15942](https://github.com/containers/podman/issues/15942)).\n- Fixed a bug where the `podman kube play` command sometimes did not create directories on the host for `hostPath` volumes.\n- Fixed a bug where the remote Podman client's `podman manifest push` command did not display progress.\n- Fixed a bug where the `--filter \"{{.Config.Healthcheck}}\"` option to `podman image inspect` did not print the image's configured healthcheck ([#14661](https://github.com/containers/podman/issues/14661)).\n- Fixed a bug where the `podman volume create -o timeout=` option could be specified even when no volume plugin was in use.\n- Fixed a bug where the `podman rmi` command did not emit `untag` events when removing tagged images ([#15485](https://github.com/containers/podman/issues/15485)).\n- Fixed a bug where API forwarding with `podman machine` VMs on Windows could sometimes fail because the pipe was not created in time ([#14811](https://github.com/containers/podman/issues/14811)).\n- Fixed a bug where the `podman pod rm` command could error if removal of a container in the pod was interrupted by a reboot.\n- Fixed a bug where the `exited` and `exec died` events for containers did not include the container's labels ([#15617](https://github.com/containers/podman/issues/15617)).\n- Fixed a bug where running Systemd containers on a system not using Systemd as PID 1 could fail ([#15647](https://github.com/containers/podman/issues/15647)).\n- Fixed a bug where Podman did not pass all necessary environment variables (including `$PATH`) to Conmon when starting containers ([#15707](https://github.com/containers/podman/issues/15707)).\n- Fixed a bug where the `podman events` command could function improperly when no events were present ([#15688](https://github.com/containers/podman/issues/15688)).\n- Fixed a bug where the `--format` flag to various Podman commands did not properly handle template strings including a newline (`\\n`) ([#13446](https://github.com/containers/podman/issues/13446)).\n- Fixed a bug where Systemd-managed pods would kill every container in a pod when a single container exited ([#14546](https://github.com/containers/podman/issues/14546)).\n- Fixed a bug where the `podman generate systemd` command would generate incorrect YAML for pods created without the `--name` option.\n- Fixed a bug where the `podman generate systemd --new` command did not properly set stop timeout ([#16149](https://github.com/containers/podman/issues/16149)).\n- Fixed a bug where a broken OCI spec resulting from the system rebooting while a container is being started could cause the `podman inspect` command to be unable to inspect the container until it was restarted.\n- Fixed a bug where creating a container with a working directory on an overlay volume would result in the container being unable to start ([#15789](https://github.com/containers/podman/issues/15789)).\n- Fixed a bug where attempting to remove a pod with running containers without `--force` would not error and instead would result in the pod, and its remaining containers, being placed in an unusable state ([#15526](https://github.com/containers/podman/issues/15526)).\n- Fixed a bug where memory limits reported by `podman stats` could exceed the maximum memory available on the system ([#15765](https://github.com/containers/podman/issues/15765)).\n- Fixed a bug where the `podman container clone` command did not properly handle environment variables whose value contained an `=` character ([#15836](https://github.com/containers/podman/issues/15836)).\n- Fixed a bug where the remote Podman client would not print the container ID when running the `podman-remote run --attach stdin` command.\n- Fixed a bug where the `podman machine list --format json` command did not properly show machine starting status.\n- Fixed a bug where automatic updates would not error when attempting to update a container with a non-fully qualified image name ([#15879](https://github.com/containers/podman/issues/15879)).\n- Fixed a bug where the `podman pod logs --latest` command could panic ([#15556](https://github.com/containers/podman/issues/15556)).\n- Fixed a bug where Podman could leave lingering network namespace mounts on the system if cleaning up the network failed.\n- Fixed a bug where specifying an unsupported URI scheme for `podman system service` to listen at would result in a panic.\n- Fixed a bug where the `podman kill` command would sometimes not transition containers to the exited state ([#16142](https://github.com/containers/podman/issues/16142)).\n\n### API\n- Fixed a bug where the Compat DF endpoint reported incorrect reference counts for volumes ([#15720](https://github.com/containers/podman/issues/15720)).\n- Fixed a bug in the Compat Inspect endpoint for Networks where an incorrect network option was displayed, causing issues with `docker-compose` ([#15580](https://github.com/containers/podman/issues/15580)).\n- The Libpod Restore endpoint for Containers now features a new query parameter, `pod`, to set the pod that the container will be restored into ([#15018](https://github.com/containers/podman/issues/15018)).\n- Fixed a bug where the REST API could panic while retrieving images.\n- Fixed a bug where a cancelled connection to several endpoints could induce a memory leak.\n\n### Misc\n- Error messages when attempting to remove an image used by a non-Podman container have been improved ([#15006](https://github.com/containers/podman/issues/15006)).\n- Podman will no longer print a warning that `/` is not a shared mount when run inside a container ([#15295](https://github.com/containers/podman/issues/15295)).\n- Work is ongoing to port Podman to FreeBSD.\n- The output of `podman generate systemd` has been adjusted to improve readability.\n- A number of performance improvements have been made to `podman create` and `podman run`.\n- A major reworking of the manpages to ensure duplicated options between commands have the same description text has been performed.\n- Updated Buildah to v1.28.0\n- Updated the containers/image library to v5.23.0\n- Updated the containers/storage library to v1.43.0\n- Updated the containers/common library to v0.50.1\n\n## 4.2.1\n### Features\n- Added support for Sigstore signatures (`sigstoreSigned`) to the `podman image trust set` and `podman image trust show` commands.`\n- The `podman image trust show` command now recognizes new `lookaside` field names.\n- The `podman image trust show` command now recognizes `keyPaths` in `signedBy` entries.\n\n### Changes\n- BREAKING CHANGE: `podman image trust show` may now show multiple entries for the same scope, to better represent separate requirements. GPG IDs on a single row now always represent alternative keys, only one of which is required; if multiple sets of keys are required, each is represented by a single line.\n- The `podman generate kube` command no longer adds the `bind-mount-options` annotation to generated Service YAML ([#15208](https://github.com/containers/podman/issues/15208)).\n\n### Bugfixes\n- Fixed a bug where Podman could deadlock when using `podman kill` to send signals to containers ([#15492](https://github.com/containers/podman/issues/15492)).\n- Fixed a bug where the `podman image trust set` command would silently discard unknown fields.\n- Fixed a bug where the `podman image trust show` command would not show signature enforcement configuration for the default scope.\n- Fixed a bug where the `podman image trust show` command would silently ignore multiple kinds of requirements in a single scope.\n- Fixed a bug where a typo in the `podman-kube@.service` unit file would cause warnings when running `systemctl status` on the unit.\n- Fixed a bug where the `--compress` option to `podman image save` was incorrectly allowed with the `oci-dir` format.\n- Fixed a bug where the `podman container clone` command did not properly clone environment variables ([#15242](https://github.com/containers/podman/issues/15242)).\n- Fixed a bug where Podman would not accept environment variables with whitespace in their keys ([#15251](https://github.com/containers/podman/issues/15251)).\n- Fixed a bug where Podman would not accept file paths containing the `:` character, preventing some commands from being used with `podman machine` on Windows ([#15247](https://github.com/containers/podman/issues/15247)).\n- Fixed a bug where the `podman top` command would report new capabilities as unknown.\n- Fixed a bug where running Podman in a container could cause fatal errors about an inability to create cgroups ([#15498](https://github.com/containers/podman/issues/15498)).\n- Fixed a bug where the `podman generate kube` command could generate incorrect YAML when the `bind-mount-options` was used ([#15170](https://github.com/containers/podman/issues/15170)).\n- Fixed a bug where generated container names were deterministic, instead of random ([#15569](https://github.com/containers/podman/issues/15569)).\n- Fixed a bug where the `podman events` command would not work with custom `--format` specifiers ([#15648](https://github.com/containers/podman/issues/15648)).\n\n### API\n- Fixed a bug where the Compat List endpoint for Containers did not sort the `HostConfig.Binds` field as Docker does.\n- Fixed a bug where the Compat List endpoint for Containers send the name (instead of ID) of the image the container was based on.\n- Fixed a bug where the Compat Connect endpoint for Networks would return an error (instead of 200) when attempting to connect a container to a network it was already connected to ([#15499](https://github.com/containers/podman/issues/15499)).\n- Fixed a bug where the Compat Events endpoint set an incorrect status for image removal events (`remove` instead of `delete`) ([#15485](https://github.com/containers/podman/issues/15485)).\n\n## 4.2.0\n### Features\n- Podman now supports the GitLab Runner (using the Docker executor), allowing its use in GitLab CI/CD pipelines.\n- A new command has been added, `podman pod clone`, to create a copy of an existing pod. It supports several options, including `--start` to start the new pod, `--destroy` to remove the original pod, and `--name` to change the name of the new pod ([#12843](https://github.com/containers/podman/issues/12843)).\n- A new command has been added, `podman volume reload`, to sync changes in state between Podman's database and any configured volume plugins ([#14207](https://github.com/containers/podman/issues/14207)).\n- A new command has been added, `podman machine info`, which displays information about the host and the versions of various machine components.\n- Pods created by `podman play kube` can now be managed by systemd unit files. This can be done via a new systemd service, `podman-kube@.service` - e.g. `systemctl --user start podman-play-kube@$(systemd-escape my.yaml).service` will run the Kubernetes pod or deployment contained in `my.yaml` under systemd.\n- The `podman play kube` command now honors the `RunAsUser`, `RunAsGroup`, and `SupplementalGroups` setting from the Kubernetes pod's security context.\n- The `podman play kube` command now supports volumes with the `BlockDevice` and `CharDevice` types ([#13951](https://github.com/containers/podman/issues/13951)).\n- The `podman play kube` command now features a new flag, `--userns`, to set the user namespace of created pods. Two values are allowed at present: `host` and `auto` ([#7504](https://github.com/containers/podman/issues/7504)).\n- The `podman play kube` command now supports setting the type of created init containers via the `io.podman.annotations.init.container.type` annotation.\n- The `podman pod create` command now supports an exit policy (configurable via the `--exit-policy` option), which determines what will happen to the pod's infra container when the entire pod stops. The default, `continue`, acts as Podman currently does, while a new option, `stop`, stops the infra container after the last container in the pod stops.  The latter is used for pods created via `podman play kube` ([#13464](https://github.com/containers/podman/issues/13464)).\n- The `podman pod create` command now allows the pod's name to be specified as an argument, instead of using the `--name` option - for example, `podman pod create mypod` instead of the prior `podman pod create --name mypod`. Please note that the `--name` option is not deprecated and will continue to work.\n- The `podman pod create` command's `--share` option now supports adding namespaces to the set by prefacing them with `+` (as opposed to specifying all namespaces that should be shared) ([#13422](https://github.com/containers/podman/issues/13422)).\n- The `podman pod create` command has a new option, `--shm-size`, to specify the size of the `/dev/shm` mount that will be shared if the pod shares its UTS namespace ([#14609](https://github.com/containers/podman/issues/14609)).\n- The `podman pod create` command has a new option, `--uts`, to configure the UTS namespace that will be shared by containers in the pod.\n- The `podman pod create` command now supports setting pod-level resource limits via the `--cpus`, `--cpuset-cpus`, and `--memory` options. These will set a limit for all containers in the pod, while individual containers within the pod are allowed to set further limits. Look forward to more options for resource limits in our next release!\n- The `podman create` and `podman run` commands now include the `-c` short option for the `--cpu-shares` option.\n- The `podman create` and `podman run` commands can now create containers from a manifest list (and not an image) as long as the `--platform` option is specified ([#14773](https://github.com/containers/podman/issues/14773)).\n- The `podman build` command now supports a new option, `--cpp-flag`, to specify options for the C preprocessor when using `Containerfile.in` files that require preprocessing.\n- The `podman build` command now supports a new option, `--build-context`, allowing the user to specify an additional build context.\n- The `podman machine inspect` command now prints the location of the VM's Podman API socket on the host ([#14231](https://github.com/containers/podman/issues/14231)).\n- The `podman machine init` command on Windows now fetches an image with packages pre-installed ([#14698](https://github.com/containers/podman/issues/14698)).\n- Unused, cached Podman machine VM images are now cleaned up automatically. Note that because Podman now caches in a different directory, this will not clean up old images pulled before this change ([#14697](https://github.com/containers/podman/issues/14697)).\n- The default for the `--image-volume` option to `podman run` and `podman create` can now have its default set through the `image_volume_mode` setting in `containers.conf` ([#14230](https://github.com/containers/podman/issues/14230)).\n- Overlay volumes now support two new options, `workdir` and `upperdir`, to allow multiple overlay volumes from different containers to reuse the same `workdir` or `upperdir` ([#14427](https://github.com/containers/podman/issues/14427)).\n- The `podman volume create` command now supports two new options, `copy` and `nocopy`, to control whether contents from the overmounted folder in a container will be copied into the newly-created named volume (copy-up).\n- Volumes created using a volume plugin can now specify a timeout for all operations that contact the volume plugin (replacing the standard 5 second timeout) via the `--opt o=timeout=` option to `podman volume create` ([BZ 2080458](https://bugzilla.redhat.com/show_bug.cgi?id=2080458)).\n- The `podman volume ls` command's `--filter name=` option now supports regular expression matching for volume names ([#14583](https://github.com/containers/podman/issues/14583)).\n- When used with a `podman machine` VM, volumes now support specification of the 9p security model using the `security_model` option to `podman create -v` and `podman run -v`.\n- The remote Podman client's `podman push` command now supports the `--remove-signatures` option ([#14558](https://github.com/containers/podman/issues/14558)).\n- The remote Podman client now supports the `podman image scp` command.\n- The `podman image scp` command now supports tagging the transferred image with a new name.\n- The `podman network ls` command supports a new filter, `--filter dangling=`, to list networks not presently used by any containers ([#14595](https://github.com/containers/podman/issues/14595)).\n- The `--condition` option to `podman wait` can now be specified multiple times to wait on any one of multiple conditions.\n- The `podman events` command now includes the `-f` short option for the `--filter` option.\n- The `podman pull` command now includes the `-a` short option for the `--all-tags` option.\n- The `podman stop` command now includes a new flag, `--filter`, to filter which containers will be stopped (e.g. `podman stop --all --filter label=COM.MY.APP`).\n- The Podman global option `--url` now has two aliases: `-H` and `--host`.\n- The `podman network create` command now supports a new option with the default `bridge` driver, `--opt isolate=`, which isolates the network by blocking any traffic from it to any other network with the `isolate` option enabled. This option is enabled by default for networks created using the Docker-compatible API.\n- Added the ability to create sigstore signatures in `podman push` and `podman manifest push`.\n- Added an option to read image signing passphrase from a file.\n\n### Changes\n- Paused containers can now be killed with the `podman kill` command.\n- The `podman system prune` command now removes unused networks.\n- The `--userns=keep-id` and `--userns=nomap` options to the `podman run` and `podman create` commands are no longer allowed (instead of simply being ignored) with root Podman.\n- If the `/run` directory for a container is part of a volume, Podman will not create the `/run/.containerenv` file ([#14577](https://github.com/containers/podman/issues/14577)).\n- The `podman machine stop` command on macOS now waits for the machine to be completely stopped to exit ([#14148](https://github.com/containers/podman/issues/14148)).\n- All `podman machine` commands now only support being run as rootless, given that VMs only functioned when run rootless.\n- The `podman unpause --all` command will now only attempt to unpause containers that are paused, not all containers.\n- Init containers created with `podman play kube` now default to the `once` type ([#14877](https://github.com/containers/podman/issues/14877)).\n- Pods created with no shared namespaces will no longer create an infra container unless one is explicitly requested ([#15048](https://github.com/containers/podman/issues/15048)).\n- The `podman create`, `podman run`, and `podman cp` commands can now autocomplete paths in the image or container via the shell completion.\n- The `libpod/common` package has been removed as it's not used anywhere.\n- The `--userns` option to `podman create` and `podman run` is no longer accepted when an explicit UID or GID mapping is specified ([#15233](https://github.com/containers/podman/issues/15233)).\n\n### Bugfixes\n- Fixed a bug where bind-mounting `/dev` into a container which used the `--init` flag would cause the container to fail to start ([#14251](https://github.com/containers/podman/issues/14251)).\n- Fixed a bug where the `podman image mount` command would not pretty-print its output when multiple images were mounted.\n- Fixed a bug where the `podman volume import` command would print an unrelated error when attempting to import into a nonexistent volume ([#14411](https://github.com/containers/podman/issues/14411)).\n- Fixed a bug where the `podman system reset` command could race against other Podman commands ([#9075](https://github.com/containers/podman/issues/9075)).\n- Fixed a bug where privileged containers were not able to restart if the layout of host devices changed ([#13899](https://github.com/containers/podman/issues/13899)).\n- Fixed a bug where the `podman cp` command would overwrite directories with non-directories and vice versa.  A new `--overwrite` flag to `podman cp` allows for retaining the old behavior if needed ([#14420](https://github.com/containers/podman/issues/14420)).\n- Fixed a bug where the `podman machine ssh` command would not preserve the exit code from the command run via ssh ([#14401](https://github.com/containers/podman/issues/14401)).\n- Fixed a bug where VMs created by `podman machine` would fail to start when created with more than 3072MB of RAM on Macs with M1 CPUs ([#14303](https://github.com/containers/podman/issues/14303)).\n- Fixed a bug where the `podman machine init` command would fail when run from `C:\\Windows\\System32` on Windows systems ([#14416](https://github.com/containers/podman/issues/14416)).\n- Fixed a bug where the `podman machine init --now` did not respect proxy environment variables ([#14640](https://github.com/containers/podman/issues/14640)).\n- Fixed a bug where the `podman machine init` command would fail if there is no `$HOME/.ssh` dir ([#14572](https://github.com/containers/podman/issues/14572)).\n- Fixed a bug where the `podman machine init` command would add a connection even if creating the VM failed ([#15154](https://github.com/containers/podman/issues/15154)).\n- Fixed a bug where interrupting the `podman machine start` command could render the VM unable to start.\n- Fixed a bug where the `podman machine list --format` command would still print a heading.\n- Fixed a bug where the `podman machine list` command did not properly set the `Starting` field ([#14738](https://github.com/containers/podman/issues/14738)).\n- Fixed a bug where the `podman machine start` command could fail to start QEMU VMs when the machine name started with a number.\n- Fixed a bug where Podman Machine VMs with proxy variables could not be started more than once ([#14636](https://github.com/containers/podman/issues/14636) and [#14837](https://github.com/containers/podman/issues/14837)).\n- Fixed a bug where containers created using the Podman API would, when the Podman API service was managed by systemd, be killed when the API service was stopped ([BZ 2052697](https://bugzilla.redhat.com/show_bug.cgi?id=2052697)).\n- Fixed a bug where the `podman -h` command did not show help output.\n- Fixed a bug where the `podman wait` command (and the associated REST API endpoint) could return before a container had fully exited, breaking some tools like the GitLab Runner.\n- Fixed a bug where healthchecks generated `exec` events, instead of `health_status` events ([#13493](https://github.com/containers/podman/issues/13493)).\n- Fixed a bug where the `podman pod ps` command could return an error when run at the same time as `podman pod rm` ([#14736](https://github.com/containers/podman/issues/14736)).\n- Fixed a bug where the `podman systemd df` command incorrectly calculated reclaimable storage for volumes ([#13516](https://github.com/containers/podman/issues/13516)).\n- Fixed a bug where an exported container checkpoint using a non-default OCI runtime could not be restored.\n- Fixed a bug where Podman, when used with a recent runc version, could not remove paused containers.\n- Fixed a bug where the remote Podman client's `podman manifest rm` command would remove images, not manifests ([#14763](https://github.com/containers/podman/issues/14763)).\n- Fixed a bug where Podman did not correctly parse wildcards for device major number in the `podman run` and `podman create` commands' `--device-cgroup-rule` option.\n- Fixed a bug where the `podman play kube` command on 32 bit systems where the total memory was calculated incorrectly ([#14819](https://github.com/containers/podman/issues/14819)).\n- Fixed a bug where the `podman generate kube` command could set ports and hostname incorrectly in generated YAML ([#13030](https://github.com/containers/podman/issues/13030)).\n- Fixed a bug where the `podman system df --format \"{{ json . }}\"` command would not output the `Size` and `Reclaimable` fields ([#14769](https://github.com/containers/podman/issues/14769)).\n- Fixed a bug where the remote Podman client's `podman pull` command would display duplicate progress output.\n- Fixed a bug where the `podman system service` command could leak memory when a client unexpectedly closed a connection when reading events or logs ([#14879](https://github.com/containers/podman/issues/14879)).\n- Fixed a bug where Podman containers could fail to run if the image did not contain an `/etc/passwd` file ([#14966](https://github.com/containers/podman/issues/14966)).\n- Fixed a bug where the remote Podman client's `podman push` command did not display progress information ([#14971](https://github.com/containers/podman/issues/14971)).\n- Fixed a bug where a lock ordering issue could cause `podman pod rm` to deadlock if it was run at the same time as a command that attempted to lock multiple containers at once ([#14929](https://github.com/containers/podman/issues/14929)).\n- Fixed a bug where the `podman rm --force` command would exit with a non-0 code if the container in question did not exist ([#14612](https://github.com/containers/podman/issues/14612)).\n- Fixed a bug where the `podman container restore` command would fail when attempting to restore a checkpoint for a container with the same name as an image ([#15055](https://github.com/containers/podman/issues/15055)).\n- Fixed a bug where the `podman manifest push --rm` command could remove image, instead of manifest lists ([#15033](https://github.com/containers/podman/issues/15033)).\n- Fixed a bug where the `podman run --rm` command could fail to remove the container if it failed to start ([#15049](https://github.com/containers/podman/issues/15049)).\n- Fixed a bug where the `podman generate systemd --new` command would create incorrect unit files when the container was created with the `--sdnotify` parameter ([#15052](https://github.com/containers/podman/issues/15052)).\n- Fixed a bug where the `podman generate systemd --new` command would fail when `-h <hostname>` was used to create the container ([#15124](https://github.com/containers/podman/pull/15124)).\n\n### API\n- The Docker-compatible API now supports API version v1.41 ([#14204](https://github.com/containers/podman/issues/14204)).\n- Fixed a bug where containers created via the Libpod API had an incorrect umask set ([#15036](https://github.com/containers/podman/issues/15036)).\n- Fixed a bug where the `remote` parameter to the Libpod API's Build endpoint for Images was nonfunctional ([#13831](https://github.com/containers/podman/issues/13831)).\n- Fixed a bug where the Libpod List endpoint for Containers did not return the `application/json` content type header when there were no containers present ([#14647](https://github.com/containers/podman/issues/14647)).\n- Fixed a bug where the Compat Stats endpoint for Containers could return incorrect memory limits ([#14676](https://github.com/containers/podman/issues/14676)).\n- Fixed a bug where the Compat List and Inspect endpoints for Containers could return incorrect strings for container status.\n- Fixed a bug where the Compat Create endpoint for Containers did not properly handle disabling healthchecks ([#14493](https://github.com/containers/podman/issues/14493)).\n- Fixed a bug where the Compat Create endpoint for Networks did not support the `mtu`, `name`, `mode`, and `parent` options ([#14482](https://github.com/containers/podman/issues/14482)).\n- Fixed a bug where the Compat Create endpoint for Networks did not allow the creation of networks name `bridge` ([#14983](https://github.com/containers/podman/issues/14983)).\n- Fixed a bug where the Compat Inspect endpoint for Networks did not properly set netmasks in the `SecondaryIPAddresses` and `SecondaryIPv6Addresses` fields ([#14674](https://github.com/containers/podman/issues/14674)).\n- The Libpod Stats endpoint for Pods now supports streaming output via two new parameters, `stream` and `delay` ([#14674](https://github.com/containers/podman/issues/14674)).\n\n### Misc\n- Podman will now check for nameservers in `/run/NetworkManager/no-stub-resolv.conf` if the `/etc/resolv.conf` file only contains a localhost server.\n- The `podman build` command now supports caching with builds that specify `--squash-all` by allowing the `--layers` flag to be used at the same time.\n- Podman Machine support for QEMU installations at non-default paths has been improved.\n- The `podman machine ssh` command no longer prints spurious warnings every time it is run.\n- When accessing the WSL prompt on Windows, the rootless user will be preferred.\n- The `podman info` command now includes a field for information on supported authentication plugins for improved Docker compatibility. Authentication plugins are not presently supported by Podman, so this field is always empty.\n- The `podman system prune` command now no longer prints the `Deleted Images` header if no images were pruned.\n- The `podman system service` command now automatically creates and moves to a sub-cgroup when running in the root cgroup ([#14573](https://github.com/containers/podman/issues/14573)).\n- Updated Buildah to v1.27.0\n- Updated the containers/image library to v5.22.0\n- Updated the containers/storage library to v1.42.0\n- Updated the containers/common library to v0.49.1\n- Podman will automatically create a sub-cgroup and move itself into it when it detects that it is running inside a container ([#14884](https://github.com/containers/podman/issues/14884)).\n- Fixed an incorrect release note about regexp.\n- A new MacOS installer (via pkginstaller) is now supported.\n\n## 4.1.1\n### Features\n- Podman machine events are now supported on Windows.\n\n### Changes\n- The output of the `podman load` command now mirrors that of `docker load`.\n\n### Bugfixes\n- Fixed a bug where the `podman play kube` command could panic if the `--log-opt` option was used ([#13356](https://github.com/containers/podman/issues/13356)).\n- Fixed a bug where Podman could, under some circumstances, fail to parse container cgroup paths ([#14146](https://github.com/containers/podman/issues/14146)).\n- Fixed a bug where containers created with the `--sdnotify=conmon` option could send `MAINPID` twice.\n- Fixed a bug where the `podman info` command could fail when run inside an LXC container.\n- Fixed a bug where the pause image of a Pod with a custom ID mappings could not be built ([BZ 2083997](https://bugzilla.redhat.com/show_bug.cgi?id=2083997)).\n- Fixed a bug where, on `podman machine` VMs on Windows, containers could be prematurely terminated with API forwarding was not running ([#13965](https://github.com/containers/podman/issues/13965)).\n- Fixed a bug where removing a container with a zombie exec session would fail the first time, but succeed for subsequent calls ([#14252](https://github.com/containers/podman/issues/14252)).\n- Fixed a bug where a dangling ID in the database could render Podman unusable.\n- Fixed a bug where containers with memory limits could not be created when Podman was run in a root cgroup ([#14236](https://github.com/containers/podman/issues/14236)).\n- Fixed a bug where the `--security-opt` option to `podman run` and `podman create` did not support the `no-new-privileges:true` and `no-new-privileges:false` options (the only supported separator was `=`, not `:`) ([#14133](https://github.com/containers/podman/issues/14133)).\n- Fixed a bug where containers that did not create a network namespace (e.g. containers created with `--network none` or `--network ns:/path/to/ns`) could not be restored from checkpoints ([#14389](https://github.com/containers/podman/issues/14389)).\n- Fixed a bug where `podman-restart.service` could, if enabled, cause system shutdown to hang for 90 seconds ([#14434](https://github.com/containers/podman/issues/14434)).\n- Fixed a bug where the `podman stats` command would, when run as root on a container that had the `podman network disconnect` command run on it or that set a custom network interface name, return an error ([#13824](https://github.com/containers/podman/issues/13824)).\n- Fixed a bug where the remote Podman client's `podman pod create` command would error when the `--uidmap` option was used ([#14233](https://github.com/containers/podman/issues/14233)).\n- Fixed a bug where cleaning up systemd units and timers related to healthchecks was subject to race conditions and could fail.\n- Fixed a bug where the default network mode of containers created by the remote Podman client was assigned by the client, not the server ([#14368](https://github.com/containers/podman/issues/14368)).\n- Fixed a bug where containers joining a pod that was created with `--network=host` would receive a private network namespace ([#13763](https://github.com/containers/podman/issues/13763)).\n- Fixed a bug where `podman machine rm --force` would remove files related to the VM before stopping it, causing issues if removal was interrupted.\n- Fixed a bug where `podman logs` would omit the last line of a container's logs if the log did not end in a newline ([#14458](https://github.com/containers/podman/issues/14458)).\n- Fixed a bug where network cleanup was nonfunctional for containers which used a custom user namespace and were initialized via API ([#14465](https://github.com/containers/podman/issues/14465)).\n- Fixed a bug where some options (including volumes) for containers that joined pods were overwritten by the infra container ([#14454](https://github.com/containers/podman/issues/14454)).\n- Fixed a bug where the `--file-locks` option to `podman container restore` was ignored, such that file locks checkpointed by `podman container checkpoint --file-locks` were not restored.\n- Fixed a bug where signals sent to a Podman attach session with `--sig-proxy` enabled at the exact moment the container that was attached to exited could cause error messages to be printed.\n- Fixed a bug where running the `podman machine start` command more than once (simultaneously) on the same machine would cause errors.\n- Fixed a bug where the `podman stats` command could not be run on containers that were not running (it now reports all-0s statistics for Docker compatibility) ([#14498](https://github.com/containers/podman/issues/14498)).\n\n### API\n- Fixed a bug where images pulled from a private registry could not be accessed via shortname using the Compat API endpoints ([#14291](https://github.com/containers/podman/issues/14291)).\n- Fixed a bug where the Compat Delete API for Images would return an incorrect status code (500) when attempting to delete images that are in use ([#14208](https://github.com/containers/podman/issues/14208)).\n- Fixed a bug where the Compat Build API for Images would include the build's `STDERR` output even if the `quiet` parameter was true.\n- Fixed a bug where the Libpod Play Kube API would overwrite any log driver specified by query parameter with the system default.\n\n### Misc\n- The `podman auto-update` command now creates an event when it is run.\n- Error messages printed when Podman's temporary files directory is not writable have been improved.\n- Units for memory limits accepted by Podman commands were incorrectly stated by documentation as megabytes, instead of mebibytes; this has now been corrected ([#14187](https://github.com/containers/podman/issues/14187)).\n\n## 4.1.0\n### Features\n- Podman now supports Docker Compose v2.2 and higher ([#11822](https://github.com/containers/podman/issues/11822)). Please note that it may be necessary to disable the use of Buildkit by setting the environment variable `DOCKER_BUILDKIT=0`.\n- A new container command has been added, `podman container clone`. This command makes a copy of an existing container, with the ability to change some settings (e.g. resource limits) while doing so.\n- A new machine command has been added, `podman machine inspect`. This command provides details on the configuration of machine VMs.\n- The `podman machine set` command can now change the CPUs, memory, and disk space available to machines after they were initially created, using the new `--cpus`, `--disk-size`, and `--memory` options ([#13633](https://github.com/containers/podman/issues/13633)).\n- Podman now supports sending JSON events related to machines to a Unix socket named `machine_events.*\\.sock` in `XDG_RUNTIME_DIR/podman` or to a socket whose path is set in the `PODMAN_MACHINE_EVENTS_SOCK` environment variable.\n- Two new volume commands have been added, `podman volume mount` and `podman volume unmount`. These allow for Podman-managed named volumes to be mounted and accessed from outside containers ([#12768](https://github.com/containers/podman/issues/12768)).\n- VMs created by `podman machine` now automatically mount the host's `$HOME` into the VM, to allow mounting volumes from the host into containers.\n- The `podman container checkpoint` and `podman container restore` options now support checkpointing to and restoring from OCI images. This allows checkpoints to be distributed via standard image registries.\n- The `podman play kube` command now supports environment variables that are specified using the `fieldRef` and `resourceFieldRef` sources.\n- The `podman play kube` command will now set default resource limits when the provided YAML does not include them ([#13115](https://github.com/containers/podman/issues/13115)).\n- The `podman play kube` command now supports a new option, `--annotation`, to add annotations to created containers ([#12968](https://github.com/containers/podman/issues/12968)).\n- The `podman play kube --build` command now supports a new option, `--context-dir`, which allows the user to specify the context directory to use when building the Containerfile ([#12485](https://github.com/containers/podman/issues/12485)).\n- The `podman container commit` command now supports a new option, `--squash`, which squashes the generated image into a single layer ([#12889](https://github.com/containers/podman/issues/12889)).\n- The `podman pod logs` command now supports two new options, `--names`, which identifies which container generated a log message by name, instead of ID ([#13261](https://github.com/containers/podman/issues/13261)) and `--color`, which colors messages based on what container generated them ([#13266](https://github.com/containers/podman/issues/13266)).\n- The `podman rmi` command now supports a new option, `--ignore`, which will ignore errors caused by missing images.\n- The `podman network create` command now features a new option, `--ipam-driver`, to specify details about how IP addresses are assigned to containers in the network ([#13521](https://github.com/containers/podman/issues/13521)).\n- The `podman machine list` command now features a new option, `--quiet`, to print only the names of configured VMs and no other information.\n- The `--ipc` option to the `podman create`, `podman run`, and `podman pod create` commands now supports three new modes: `none`, `private`, and `shareable`. The default IPC mode is now `shareable`, indicating the IPC namespace can be shared with other containers ([#13265](https://github.com/containers/podman/issues/13265)).\n- The `--mount` option to the `podman create` and `podman run` commands can now set options for created named volumes via the `volume-opt` parameter ([#13387](https://github.com/containers/podman/issues/13387)).\n- The `--mount` option to the `podman create` and `podman run` commands now allows parameters to be passed in CSV format ([#13922](https://github.com/containers/podman/issues/13922)).\n- The `--userns` option to the `podman create` and `podman run` commands now supports a new option, `nomap`, that (only for rootless containers) does not map the UID of the user that started the container into the container, increasing security.\n- The `podman import` command now supports three new options, `--arch`, `--os`, and `--variant`, to specify what system the imported image was built for.\n- The `podman inspect` command now includes information on the network configuration of containers that joined a pre-configured network namespace with the `--net ns:` option to `podman run`, `podman create`, and `podman pod create`.\n- The `podman run` and `podman create` commands now support a new option, `--chrootdirs`, which specifies additional locations where container-specific files managed by Podman (e.g. `/etc/hosts`, `/etc/resolv.conf, etc) will be mounted inside the container ([#12961](https://github.com/containers/podman/issues/12691)).\n- The `podman run` and `podman create` commands now support a new option, `--passwd-entry`, allowing entries to be added to the container's `/etc/passwd` file.\n- The `podman images --format` command now accepts two new format directives: `{{.CreatedAt}}` and `{{.CreatedSince}}` ([#14012](https://github.com/containers/podman/issues/14012)).\n- The `podman volume create` command's `-o` option now accepts a new argument, `o=noquota`, to disable XFS quotas entirely and avoid potential issues when Podman is run on an XFS filesystem with existing quotas defined ([#14049](https://github.com/containers/podman/issues/14049)).\n- The `podman info` command now includes additional information on the machine Podman is running on, including disk utilization on the drive Podman is storing containers and images on, and CPU utilization ([#13876](https://github.com/containers/podman/issues/13876)).\n\n### Changes\n- The `--net=container:` option to `podman run`, `podman create`, and `podman pod create` now conflicts with the `--add-host` option.\n- As part of a deprecation of the SHA1 hash algorithm within Podman, the algorithm used to generate the filename of the rootless network namespace has been changed. As a result, rootless containers started before updating to Podman 4.1.0 will need to be restarted if they are joined to a network (and not just using `slirp4netns`) to ensure they can connect to containers started the upgrade.\n- Podman's handling of the `/etc/hosts` file has been rewritten to improve its consistency and handling of edge cases ([#12003](https://github.com/containers/podman/issues/12003) and [#13224](https://github.com/containers/podman/issues/13224)). As part of this, two new options are available in `containers.conf`: `base_hosts_file` (to specify a nonstandard location to source the base contents of the container's `/etc/hosts`) and `host_containers_internal_ip` (to specify a specific IP address for containers' `host.containers.internal` entry to point to).\n- The output of the `podman image trust show` command now includes information on the transport mechanisms allowed.\n- Podman now exits cleanly (with exit code 0) after receiving SIGTERM.\n- Containers running in systemd mode now set the `container_uuid` environment variable ([#13187](https://github.com/containers/podman/issues/13187)).\n- Renaming a container now generates an event readable through `podman events`.\n- The `--privileged` and `--cap-add` flags are no longer mutually exclusive ([#13449](https://github.com/containers/podman/issues/13449)).\n- Fixed a bug where the `--mount` option to `podman create` and `podman run` could not create anonymous volumes ([#13756](https://github.com/containers/podman/issues/13756)).\n- Fixed a bug where Podman containers where the user did not explicitly set an OOM score adjustment would implicitly set a value of 0, instead of not setting one at all ([#13731](https://github.com/containers/podman/issues/13731)).\n- The `podman machine set` command can no longer be used while the VM being updated is running ([#13783](https://github.com/containers/podman/issues/13783)).\n- Systemd service files created by `podman generate systemd` are now prettyprinted for increased readability.\n- The `file` event log driver now automatically rotates the log file, preventing it from growing beyond a set size.\n- The `--no-trunc` flag to `podman search` now defaults to `false`, to ensure output is not overly verbose.\n\n### Bugfixes\n- Fixed a bug where Podman could not add devices with a major or minor number over 256 to containers.\n- Fixed a bug where containers created by the `podman play kube` command did not record the raw image name used to create containers.\n- Fixed a bug where VMs created by `podman machine` could not start containers which forwarded ports when run on a host with a proxy configured ([#13628](https://github.com/containers/podman/issues/13628)).\n- Fixed a bug where VMs created by the `podman machine` command could not be connected to when the username of the current user was sufficiently long ([#12751](https://github.com/containers/podman/issues/12751)).\n- Fixed a bug where the `podman system reset` command on Linux did not fully remove virtual machines created by `podman machine`.\n- Fixed a bug where the `podman machine rm` command would error when removing a VM that was never started ([#13834](https://github.com/containers/podman/issues/13834)).\n- Fixed a bug where the remote Podman client's `podman manifest push` command could not push to registries that required authentication ([#13629](https://github.com/containers/podman/issues/13629)).\n- Fixed a bug where containers joining a pod with volumes did not have the pod's volumes added ([#13548](https://github.com/containers/podman/issues/13548)).\n- Fixed a bug where the `podman version --format` command could not return the OS of the server ([#13690](https://github.com/containers/podman/issues/13690)).\n- Fixed a bug where the `podman play kube` command would error when a volume specified by a `configMap` already existed ([#13715](https://github.com/containers/podman/issues/13715)).\n- Fixed a bug where the `podman play kube` command did not respect the `hostNetwork` setting in Pod YAML ([#14015](https://github.com/containers/podman/issues/14015)).\n- Fixed a bug where the `podman play kube` command would, when the `--log-driver` flag was not specified, ignore Podman's default log driver ([#13781](https://github.com/containers/podman/issues/13781)).\n- Fixed a bug where the `podman generate kube` command could generate YAML with too-long labels ([#13962](https://github.com/containers/podman/issues/13962)).\n- Fixed a bug where the `podman logs --tail=1` command would fail when the log driver was `journald` and the container was restarted ([#13098](https://github.com/containers/podman/issues/13098)).\n- Fixed a bug where containers created from images with a healthcheck that did not specify an interval would never run their healthchecks ([#13912](https://github.com/containers/podman/issues/13912)).\n- Fixed a bug where the `podman network connect` and `podman network disconnect` commands could leave invalid entries in `/etc/hosts` ([#13533](https://github.com/containers/podman/issues/13533)).\n- Fixed a bug where the `--tls-verify option to the `remote Podman client's `podman build` command was nonfunctional.\n- Fixed a bug where the `podman pod inspect` command incorrectly reported whether the pod used the host's network ([#14028](https://github.com/containers/podman/issues/14028)).\n- Fixed a bug where Podman would, when run on WSL2, ports specified without an IP address (e.g. `-p 8080:8080`) would be bound to IPv6 addresses ([#12292](https://github.com/containers/podman/issues/12292)).\n- Fixed a bug where the remote Podman client's  `podman info` could report an incorrect path to the socket used to access the Podman service ([#12023](https://github.com/containers/podman/issues/12023)).\n\n### API\n- Containers created via the Libpod Create API that set a memory limit, but not a swap limit, will automatically have a swap limit set ([#13145](https://github.com/containers/podman/issues/13145)).\n- The Compat and Libpod Attach APIs for Containers can now attach to Stopped containers.\n- Fixed a bug where the Compat and Libpod Create APIs for Containers did not respect the `no_hosts` option in `containers.conf` ([#13719](https://github.com/containers/podman/issues/13719)).\n- Fixed a bug where the default network mode for rootless containers created via the Compat Create API was not `bridge`.\n- Fixed a bug where the Libpod List API for Containers did not allow filtering based on the `removing` status ([#13986](https://github.com/containers/podman/issues/13986)).\n- Fixed a bug where the Libpod Modify endpoint for Manifests did not respect the `tlsVerify` parameter.\n\n### Misc\n- A number of dependencies have been pruned from the project, resulting in a significant reduction in the size of the Podman binary.\n- Using `podman play kube` on a YAML that only includes `configMap` objects (and no pods or deployments) now prints a much clearer error message.\n- Updated Buildah to v1.26.1\n- Updated the containers/storage library to v1.40.2\n- Updated the containers/image library to v5.21.1\n- Updated the containers/common library to v0.48.0\n\n## 4.0.3\n### Security\n- This release fixes CVE-2022-27649, where containers run by Podman would have excess inheritable capabilities set.\n\n### Changes\n- The `podman machine rm --force` command will now remove running machines as well (such machines are shut down first, then removed) ([#13448](https://github.com/containers/podman/issues/13448)).\n- When a `podman machine` VM is started that is using a too-old VM image, it will now start in a reduced functionality mode, and provide instructions on how to recreate it (previously, VMs were effectively unusable) ([#13510](https://github.com/containers/podman/issues/13510)).\n\n### Bugfixes\n- Fixed a bug where devices added to containers by the `--device` option to `podman run` and `podman create` would not be accessible within the container.\n- Fixed a bug where Podman would refuse to create containers when the working directory in the container was a symlink ([#13346](https://github.com/containers/podman/issues/13346)).\n- Fixed a bug where pods would be created with cgroups even if cgroups were disabled in `containers.conf` ([#13411](https://github.com/containers/podman/issues/13411)).\n- Fixed a bug where the `podman play kube` command would produce confusing errors if invalid YAML with duplicated container named was passed ([#13332](https://github.com/containers/podman/issues/13332)).\n- Fixed a bug where the `podman machine rm` command would not remove the Podman API socket on the host that was associated with the VM.\n- Fixed a bug where the remote Podman client was unable to properly resize the TTYs of containers on non-Linux OSes.\n- Fixed a bug where rootless Podman could hang indefinitely when starting containers on systems with IPv6 disabled ([#13388](https://github.com/containers/podman/issues/13388)).\n- Fixed a bug where the `podman version` command could sometimes print excess blank lines as part of its output.\n- Fixed a bug where the `podman generate systemd` command would sometimes generate systemd services with names beginning with a hyphen ([#13272](https://github.com/containers/podman/issues/13272)).\n- Fixed a bug where locally building the pause image could fail if the current directory contained a `.dockerignore` file ([#13529](https://github.com/containers/podman/issues/13529)).\n- Fixed a bug where root containers in VMs created by `podman machine` could not bind ports to specific IPs on the host ([#13543](https://github.com/containers/podman/issues/13543)).\n- Fixed a bug where the storage utilization percentages displayed by `podman system df` were incorrect ([#13516](https://github.com/containers/podman/issues/13516)).\n- Fixed a bug where the CPU utilization percentages displayed by `podman stats` were incorrect ([#13597](https://github.com/containers/podman/pull/13597)).\n- Fixed a bug where containers created with the `--no-healthcheck` option would still display healthcheck status in `podman inspect` ([#13578](https://github.com/containers/podman/issues/13578)).\n- Fixed a bug where the `podman pod rm` command could print a warning about a missing cgroup ([#13382](https://github.com/containers/podman/issues/13382)).\n- Fixed a bug where the `podman exec` command could sometimes print a `timed out waiting for file` error after the process in the container exited ([#13227](https://github.com/containers/podman/issues/13227)).\n- Fixed a bug where virtual machines created by `podman machine` were not tolerant of changes to the path to the qemu binary on the host ([#13394](https://github.com/containers/podman/issues/13394)).\n- Fixed a bug where the remote Podman client's `podman build` command did not properly handle the context directory if a Containerfile was manually specified using `-f` ([#13293](https://github.com/containers/podman/issues/13293)).\n- Fixed a bug where Podman would not properly detect the use of `systemd` as PID 1 in a container when the entrypoint was prefixed with `/bin/sh -c` ([#13324](https://github.com/containers/podman/issues/13324)).\n- Fixed a bug where rootless Podman could, on systems that do not use `systemd` as init, print a warning message about the rootless network namespace ([#13703](https://github.com/containers/podman/issues/13703)).\n- Fixed a bug where the default systemd unit file for `podman system service` did not delegate all cgroup controllers, resulting in `podman info` queries against the remote API returning incorrect cgroup controllers ([#13710](https://github.com/containers/podman/issues/13710)).\n- Fixed a bug where the `slirp4netns` port forwarder for rootless Podman would only publish the first port of a range ([#13643](https://github.com/containers/podman/issues/13643)).\n\n### API\n- Fixed a bug where the Compat Create API for containers did not properly handle permissions for tmpfs mounts ([#13108](https://github.com/containers/podman/issues/13108)).\n\n### Misc\n- The static binary for Linux is now built with CGo disabled to avoid panics due to a Golang bug ([#13557](https://github.com/containers/podman/issues/13557)).\n- Updated Buildah to v1.24.3\n- Updated the containers/storage library to v1.38.3\n- Updated the containers/image library to v5.19.2\n- Updated the containers/common library to v0.47.5\n\n## 4.0.2\n### Bugfixes\n- Revert \"use GetRuntimeDir() from c/common\"\n\n## 4.0.1\n### Bugfixes\n- Fixed a bug where the `podman play kube` command did not honor the `mountPropagation` field in Pod YAML ([#13322](https://github.com/containers/podman/issues/13322)).\n- Fixed a bug where the `--build=false` option to `podman play kube` was not honored ([#13285](https://github.com/containers/podman/issues/13285)).\n- Fixed a bug where a container using volumes from another container (via `--volumes-from`) could, under certain circumstances, exit with errors that it could not delete some volumes if the other container did not exit before it ([#12808](https://github.com/containers/podman/issues/12808)).\n- Fixed a bug where the `CONTAINERS_CONF` environment variable was not propagated to Conmon, which could result in Podman cleanup processes being run with incorrect configurations.\n\n## 4.0.0\n### Security\n- This release addresses CVE-2022-1227, where running `podman top` on a container made from a maliciously-crafted image and using a user namespace could allow for code execution in the host context.\n\n### Features\n- Podman has seen an extensive rewrite of its network stack to add support for Netavark, a new tool for configuring container networks, in addition to the existing CNI stack. Netavark will be default on new installations when it is available.\n- The `podman network connect` command now supports three new options, `--ip`, `--ip6`, and `--mac-address`, to specify configuration for the new network that will be attached.\n- The `podman network create` command now allows the `--subnet`, `--gateway`, and `--ip-range` options to be specified multiple times, to allow for the creation of dual-stack IPv4 and IPv6 networks with user-specified subnets.\n- The `--network` option to `podman create`, `podman pod create`, `podman run`, and `podman play kube` can now, when specifying a network name, also specify advanced network options such as `alias`, `ip`, `mac`, and `interface_name`, allowing advanced configuration of networks when creating containers connected to more than one network.\n- The `podman play kube` command can now specify the `--net` option multiple times, to connect created containers and pods to multiple networks.\n- The `podman create`, `podman pod create`, and `podman run` commands now support a new option, `--ip6`, to specify a static IPv6 address for the created container or pod to use.\n- Macvlan networks can now configure the mode of the network via the `-o mode=` option.\n- When using the CNI network stack, a new network driver, `ipvlan`, is now available.\n- The `podman info` command will now print the network backend in use (Netavark or CNI).\n- The network backend to use can be now be specified in `containers.conf` via the `network_backend` field. Please note that it is not recommended to switch backends while containers exist, and a system reboot is recommended after doing so.\n- All Podman commands now support a new option, `--noout`, that suppresses all output to STDOUT.\n- All commands that can remove containers (`podman rm --force`, `podman pod rm --force`, `podman volume rm --force`, `podman network rm --force`) now accept a `--time` option to specify the timeout on stopping the container before resorting to `SIGKILL` (identical to the `--time` flag to `podman stop`).\n- The `podman run` and `podman create` commands now support a new option, `--passwd`, that uses the `/etc/passwd` and `/etc/groups` files from the image in the created container without changes by Podman ([#11805](https://github.com/containers/podman/issues/11805)).\n- The `podman run` and `podman create` commands now support a new option, `--hostuser`, that creates one or more users in the container based on users from the host (e.g. with matching username, UID, and GID).\n- The `podman create` and `podman run` commands now support two new options, `--unsetenv` and `--unsetenv-all`, to clear default environment variables set by Podman and by the container image ([#11836](https://github.com/containers/podman/issues/11836)).\n- The `podman rm` command now supports a new option, `--depend`, which recursively removes a given container and all containers that depend on it ([#10360](https://github.com/containers/podman/issues/10360)).\n- All commands that support filtering their output based on labels (e.g. `podman volume ls`, `podman ps`) now support labels specified using glob matching (e.g. `--filter label=some.prefix.com/key/*`).\n- The `podman pod create` command now supports the `--volume` option, allowing volumes to be specified that will be mounted automatically to all containers in the pod ([#10379](https://github.com/containers/podman/issues/10379)).\n- The `podman pod create` command now supports the `--device` option, allowing devices to be specified that will be mounted automatically to all containers in the pod.\n- The `podman pod create` command now supports the `--volumes-from` option, allowing volumes from an existing Podman container to be mounted automatically to all containers in the pod.\n- The `podman pod create` command now supports the `--security-opt` option, allowing security settings (e.g. disabling SELinux or Seccomp) to be configured automatically for all containers in the pod ([#12173](https://github.com/containers/podman/issues/12173)).\n- The `podman pod create` command now supports the `--share-parent` option, which defaults to true, controlling whether containers in the pod will use a shared cgroup parent.\n- The `podman pod create` command now supports the `--sysctl` option, allowing sysctls to be configured automatically for all containers in the pod.\n- The `podman events` command now supports the `--no-trunc` option, which will allow short container IDs to be displayed instead of the default full IDs. The flag defaults to true, so full IDs remain the default ([#8941](https://github.com/containers/podman/issues/8941)).\n- The `podman machine init` command now supports a new VM type, `wsl`, available only on Windows; this uses WSL as a backend for `podman machine`, instead of creating a separate VM and managing it via QEMU ([#12503](https://github.com/containers/podman/pull/12503)).\n- The `podman machine init` command now supports a new option, `--now`, to start the VM immediately after creating it.\n- The `podman machine init` command now supports a new option, `--volume`, to mount contents from the host into the created virtual machine.\n- Virtual machines created by `podman machine` now automatically mount the Podman API socket to the host, so consumers of the Podman or Docker APIs can use them directly from the host machine ([#11462](https://github.com/containers/podman/issues/11462)).\n- Virtual machines created by `podman machine` now automatically mount certificates from the host's keychain into the virtual machine ([#11507](https://github.com/containers/podman/issues/11507)).\n- Virtual machines created by `podman machine` now automatically propagate standard proxy environment variables from the host into the virtual machine, including copying any required certificates from `SSL_FILE_CERT` into the VM.\n- The `podman machine ssh` command now supports a new option, `--username`, to specify the username to connect to the VM with.\n- Port forwarding from VMs created using `podman machine` now supports ports specified using custom host IPs (e.g. `-p 127.0.0.1:8080:80`), the UDP protocol, and containers created using the `slirp4netns` network mode ([#11528](https://github.com/containers/podman/issues/11528) and [#11728](https://github.com/containers/podman/issues/11728)).\n- The `podman system connection rm` command supports a new option, `--all`, to remove all available connections ([#12018](https://github.com/containers/podman/issues/12018)).\n- The `podman system service` command's default timeout is now configured via `containers.conf` (using the `service_timeout` field) instead of hardcoded to 5 seconds.\n- The `--mount type=devpts` option to `podman create` and `podman run` now supports new options: `uid`, `gid`, `mode`, and `max`.\n- The `--volume` option to `podman create` and `podman run` now supports a new option, `:idmap`, which using an ID mapping filesystem to allow multiple containers with disjoint UID and GID ranges mapped into them access the same volume ([#12154](https://github.com/containers/podman/issues/12154)).\n- The `U` option for volumes, which changes the ownership of the mounted volume to ensure the user running in the container can access it, can now be used with the `--mount` option to `podman create` and `podman run`, as well as the `--volume` option where it was already available.\n- The `:O` option for volumes, which specifies that an overlay filesystem will be mounted over the volume and ensures changes do not persist, is now supported with named volumes as well as bind mounts.\n- The `:O` option for volumes now supports two additional options, `upperdir` and `workdir`, which allow for specifying custom upper directories and work directories for the created overlay filesystem.\n- Podman containers created from a user-specified root filesystem (via `--rootfs`) can now create an overlay filesystem atop the user-specified rootfs which ensures changes will not persist by suffixing the user-specified root filesystem with `:O`.\n- The `podman save` command has a new option, `--uncompressed`, which saves the layers of the image without compression ([#11613](https://github.com/containers/podman/issues/11613)).\n- Podman supports a new log driver for containers, `passthrough`, which logs all output directly to the STDOUT and STDERR of the `podman` command; it is intended for use in systemd-managed containers.\n- The `podman build` command now supports two new options, `--unsetenv` and `--all-platforms`.\n- The `podman image prune` command now supports a new option, `--external`, which allows containers not created by Podman (e.g. temporary containers from Buildah builds) to be pruned ([#11472](https://github.com/containers/podman/issues/11472)).\n- Two new aliases for `podman image prune` have been added for Docker compatibility: `podman builder prune` and `podman buildx prune`.\n- The `podman play kube` command now supports a new option, `--no-hosts`, which uses the `/etc/hosts` file from the image in all generated containers, preventing any modifications to the hosts file from Podman ([#9500](https://github.com/containers/podman/issues/9500)).\n- The `podman play kube` command now supports a new option, `--replace`, which will replace any existing containers and pods with the same names as the containers and pods that will be created by the command ([#11481](https://github.com/containers/podman/issues/11481)).\n- The `podman play kube` command now supports a new option, `--log-opt`, which allows the logging configuration of generated containers and pods to be adjusted ([#11727](https://github.com/containers/podman/issues/11727)).\n- The `podman play kube` command now supports Kubernetes YAML that specifies volumes from a configmap.\n- The `podman generate systemd` command now supports a new option, `--template`, to generate template unit files.\n- The `podman generate systemd` command now supports a new option, `--start-timeout`, to override the default start timeout for generated unit files ([#11618](https://github.com/containers/podman/issues/11618)).\n- The `podman generate systemd` command now supports a new option, `--restart-sec`, to override the default time before a failed unit is restarted by systemd for generated unit files.\n- The `podman generate systemd` command now supports three new options, `--wants`, `--after`, and `--requires`, which allow detailed control of systemd dependencies in generated unit files.\n- The `podman container checkpoint` and `podman container restore` commands can now print statistics about the checkpoint operation via a new option, `--print-stats`.\n- The `podman container checkpoint` and `podman container restore` commands can now checkpoint and restore containers which make use of file locks via a new option, `--file-locks`.\n- The `podman container restore` command can now be used with containers created using the host IPC namespace (`--ipc=host`).\n- The `podman container checkpoint` and `podman container restore` commands now handle checkpointing and restoring the contents of `/dev/shm`.\n- The `podman container checkpoint` and `podman container restore` commands are now supported with the remote Podman client ([#12007](https://github.com/containers/podman/issues/12007)).\n- The `podman inspect` command on containers now includes additional output fields for checkpointed and restored containers, including information about when the container was checkpointed or restored, and the path to the checkpoint/restore log.\n- The `podman secret list` command now supports a new option, `--filter`, to filter what secrets are returned.\n- The `podman image scp` command can now be used to transfer images between users (both root and rootless) on the same system, without requiring `sshd`.\n- The `podman image sign` command now supports a new option, `--authfile`, to specify an alternative path to authentication credentials ([#10866](https://github.com/containers/podman/issues/10866)).\n- The `podman load` command now supports downloading files via HTTP and HTTPS if a URL is given ([#11970](https://github.com/containers/podman/issues/11970)).\n- The `podman push` command now supports a new option, `--compression-format`, to choose the compression algorithm used to compress image layers.\n- The `podman volume create` command now allows volumes using the `local` driver that require mounting to be used by non-root users. This allows `tmpfs` and `bind` volumes to be created by non-root users ([#12013](https://github.com/containers/podman/issues/12013)).\n- A new command, `podman dial-stdio`, has been added; this command should not be invoked directly, but is used by some clients of the Docker Remote API, and is provided for Docker compatibility ([#11668](https://github.com/containers/podman/issues/11668)).\n\n### Breaking Changes\n- Podman v4.0 will perform several schema migrations in the Podman database when it is first run. These schema migrations will cause Podman v3.x and earlier to be unable to read certain network configuration information from the database, so downgrading from Podman v4.0 to an earlier version will cause containers to lose their static IP, MAC address, and port bindings.\n- All endpoints of the Docker-compatible API now enforce that all image shortnames will be resolved to the Docker Hub for improved Docker compatibility. This behavior can be turned off via the `compat_api_enforce_docker_hub` option in `containers.conf` ([#12320](https://github.com/containers/podman/issues/12320)).\n- The Podman APIs for Manifest List and Network operations have been completely rewritten to address issues and inconsistencies in the previous APIs. Incompatible APIs should warn if they are used with an older Podman client.\n- The `make install` makefile target no longer implicitly builds Podman, and will fail if `make` was not run prior to it.\n- The `podman rm --depends`, `podman rmi --force`, and `podman network rm --force` commands can now remove pods if a they need to remove an infra container (e.g. `podman rmi --force` on the infra image will remove all pods and infra containers). Previously, any command that tried to remove an infra container would error.\n- The `podman system reset` command now removes all networks on the system, in addition to all volumes, pods, containers, and images.\n- If the `CONTAINER_HOST` environment variable is set, Podman will default to connecting to the remote Podman service specified by the environment variable, instead of running containers locally ([#11196](https://github.com/containers/podman/issues/11196)).\n- Healthcheck information from `podman inspect` on a container has had its JSON tag renamed from `Healthcheck` to `Health` for improved Docker compatibility. An alias has been added so that using the old name with the `--format` option will still work ([#11645](https://github.com/containers/podman/issues/11645)).\n- Secondary IP and IPv6 addresses from `podman inspect` on a container (`SecondaryIPAddresses` and `SecondaryIPv6Addresses`) have been changed from arrays of strings to arrays of structs for improved Docker compatibility (the struct now includes IP address and prefix length).\n- The `podman volume rm --force` command will now remove containers that depend on the volume that are running (previously, it would only remove stopped containers).\n- The output of the `podman search` command has been altered to remove the Index, Stars, and Automated columns, as these were not used by registries that are not Dockerhub.\n- The `host.containers.internal` entry in `/etc/hosts` for rootless containers now points to a public IP address of the host machine, to ensure the container can reach the host (the previous value, a slirp4netns address, did not actually point to the host) ([#12000](https://github.com/containers/podman/issues/12000)).\n- Containers created in pods that have an infra container can no longer independently configure a user namespace via `--uidmap` and `--gidmap` ([#12669](https://github.com/containers/podman/issues/12669)).\n- Several container states have been renamed internally - for example, the previous `Configured` state is now named `Created`, and the previous `Created` state is now `Initialized`. The `podman ps` command already normalized these names for Docker compatibility, so this will only be visible when inspecting containers with `podman inspect`.\n\n### Changes\n- Podman containers will now automatically add the container's short ID as a network alias when connected to a supporting network ([#11748](https://github.com/containers/podman/issues/11748)).\n- The `podman machine stop` command will now log when machines are successfully stopped ([#11542](https://github.com/containers/podman/issues/11542)).\n- The `podman machine stop` command now waits until the VM has stopped to return; previously, it returned immediately after the shutdown command was sent, without waiting for the VM to shut down.\n- VMs created by `podman machine` now delegate more cgroup controllers to the rootless user used to run containers, allowing for additional resource limits to be used ([#13054](https://github.com/containers/podman/issues/13054)).\n- The `podman stop` command will now log a warning to the console if the stop timeout expires and `SIGKILL` must be used to stop the container ([#11854](https://github.com/containers/podman/issues/11854)).\n- Several performance optimizations have been implemented that should speed up container and pod creation, and running containers and pods that forward large ranges of ports.\n- The `--no-trunc` argument to the `podman search` command now defaults to true.\n- Rootless port forwarding using the `rootlessport` port forwarder is now handled by a separate binary, not Podman itself, which results in significantly reduced memory usage ([#10790](https://github.com/containers/podman/issues/10790)).\n- The `podman system connection ls` command now has a separate output column to show which connection is currently the default (instead appending `*` to the default connection's name) ([#12019](https://github.com/containers/podman/issues/12019)).\n- The `--kernel-memory` option to `podman run` and `podman create` has been deprecated in the upstream OCI runtime specification, and is now also deprecated in Podman and will be removed in a future release. Use of the flag will result in a warning.\n- Podman will now ship build the pause image used by pods locally, instead of pulling it from the network (using the existing `catatoinit` binary used for `podman run --init`). This allows pods to be easily used on systems without an internet connection.\n- The `--rootless-cni` option to `podman unshare` has been renamed to `--rootless-netns`. The old name has been aliased to the new one and will still function, but may be removed in a future release.\n- The `--cni-config-dir` option to all Podman commands has been renamed to `--network-config-dir` as it will not be used with Netavark as well as CNI. The old name has been aliased to the new one and will still function, but may be removed in a future release.\n- The `--format` option to all Podman commands has been changed to improved functionality and Docker compatibility ([#10974](https://github.com/containers/podman/issues/10974)).\n- The `podman ps --external` flag previously required `--all` to also be specified; this is no longer true\n- The port-forwarding logic previously contined in the `podman-machine-cni` CNI plugin has been integrated directly into Podman. The `podman-machine-cni` plugin is no longer necessary and should be removed.\n- The `--device` flag to `podman create`, `podman run`, and `podman pod create` would previously refuse to mount devices when Podman was run as a non-root user and no permission to access the device was available; it will now mount these devices without checking permissions ([#12704](https://github.com/containers/podman/issues/12704)).\n\n### Bugfixes\n- Fixed a bug where networks could be created with the same name as a container network mode (e.g. `host`) ([#11448](https://github.com/containers/podman/issues/11448)).\n- Fixed a bug where the `podman save` command was not automatically removing signatures from saved images.\n- Fixed a bug where a rare race condition could cause `podman run --rm` to return an error that a given container did not exist when trying to remove it, despite it having been safely removed ([#11775](https://github.com/containers/podman/issues/11775)).\n- Fixed a bug where a rare race condition could cause `podman ps` to return an error if a container was removed while the command was running ([#11810](https://github.com/containers/podman/issues/11810)).\n- Fixed a bug where running Kube YAML with a CPU limit would using `podman play kube` would result in errors ([#11803](https://github.com/containers/podman/issues/11803)).\n- Fixed a bug where creating a pod without an infra container would not generate an Pod Create event.\n- Fixed a bug where volumes created with the `:z` and `:Z` options would be relabelled every time a container was started, not just the first time.\n- Fixed a bug where the `podman tag` command on a manifest list could tag an image in the manifest, and not the manifest list itself.\n- Fixed a bug where creating a volume using an invalid volume option that contained a format string would print a nonsensical error.\n- Fixed a bug where Podman would not create a healthcheck for containers created from images that specified a healthcheck in their configuration ([#12226](https://github.com/containers/podman/issues/12226)).\n- Fixed a bug where the output of healthchecks was not shown in `podman inspect` ([#13083](https://github.com/containers/podman/issues/13083)).\n- Fixed a bug where rootless containers that used a custom user namespace (e.g. `--userns=keep-id`) could not have any ports forwarded to them.\n- Fixed a bug where the `podman system connection ls` command would not print any output (including headers) if no connections were present.\n- Fixed a bug where the `--memory-swappiness` option to `podman create` and `podman run` did not accept 0 as a valid value.\n- Fixed a bug where environment variables specified in `containers.conf` for Podman would sometimes not be applied ([#12296](https://github.com/containers/podman/issues/12296)).\n- Fixed a bug where running multiple rootless Podman instances with different configurations on the same system could cause networking issues due to the use of a single, shared rootless network namespace ([#12306](https://github.com/containers/podman/issues/12306)).\n- Fixed a bug where rootless containers using bridge networking would fail if `/etc/resolv.conf` was a symlink to a directory ([#12461](https://github.com/containers/podman/issues/12461)).\n- Fixed a bug where `podman container restore` could sometimes restore containers with a different OCI runtime than they had been using before they were checkpointed.\n- Fixed a bug where some commands of the remote Podman client allowed the `--signature-policy` option to be used (with no effect); `--signature-policy` is not supported by the remote client ([#12357](https://github.com/containers/podman/issues/12357)).\n- Fixed a bug where images which specified a port range in `EXPOSE` could not be run ([#12293](https://github.com/containers/podman/issues/12293)).\n- Fixed a bug where Podman would resolve image names without a tag to any tag of that image available on the local system, instead of the `:latest` tag ([#11964](https://github.com/containers/podman/issues/11964)).\n- Fixed a bug where the `--blkio-weight-device` option to `podman create` and `podman run` was nonfunctional.\n- Fixed a bug where the `podman generate systemd` command did not support container entrypoints that were specified as JSON arrays ([#12477](https://github.com/containers/podman/issues/12477)).\n- Fixed a bug where rootless Podman could, under some circumstances, exhaust all available inotify watches ([#11825](https://github.com/containers/podman/issues/11825)).\n- Fixed a bug where, when a container was created with both the `--hostname` and `--pod new:` options, the hostname would be discarded; it is now set as the hostname of the created pod, which will be used by the container.\n- Fixed a bug where the order in which `podman network ls` printed networks was not deterministic.\n- Fixed a bug where the `podman kill` command would sometimes not print the ID of containers that were killed.\n- Fixed a bug where VMs created by `podman machine` did not match their timezone to the host system ([#11895](https://github.com/containers/podman/issues/11895)).\n- Fixed a bug where container healthchecks were not properly cleaning up generated systemd services, leading to healthcheck failures after containers were restarted.\n- Fixed a bug where the `podman build` command did not properly propagate non-0 exit codes from Buildah when builds failed.\n- Fixed a bug where the remote Podman client's `podman build` command could fail to build images when the remote client was run on Windows and the Containerfile contained `COPY` instructions ([#13119](https://github.com/containers/podman/issues/13119)).\n- Fixed a bug where the remote Podman client's `--secret` option to the `podman build` command was nonfunctional.\n- Fixed a bug where the remote Podman client's `podman build` command would error if given a relative path to a Containerfile ([#12841](https://github.com/containers/podman/issues/12841) and [#12763](https://github.com/containers/podman/issues/12763)).\n- Fixed a bug where the `podman generate kube` command would sometimes omit environment variables set in containers from generated YAML.\n- Fixed a bug where setting `userns=auto` in `containers.conf` was not respected ([#12615](https://github.com/containers/podman/issues/12615)).\n- Fixed a bug where the `podman run` command would fail if the host machine did not have a `/etc/hosts` file ([#12667](https://github.com/containers/podman/issues/12667)).\n- Fixed a bug where certain annotations used internally by Podman could be set by images, resulting in `podman inspect` reporting incorrect information ([#12671](https://github.com/containers/podman/issues/12671)).\n- Fixed a bug where named volumes would not copy-up after being mounted over an empty directory, then subsequently mounted over a non-empty directory in another container ([#12714](https://github.com/containers/podman/issues/12714)).\n- Fixed a bug where the `podman inspect` command on containers was URL-encoding special characters in strings (e.g. healthcheck commands).\n- Fixed a bug where the `podman generate kube` command would generate YAML including optional environment variables from secrets and configmaps that are not included ([#12553](https://github.com/containers/podman/issues/12553)).\n- Fixed a bug where the `podman pod create` command would ignore the default infra image specified in `containers.conf` ([#12771](https://github.com/containers/podman/issues/12771)).\n- Fixed a bug where the `host.containers.internal` entry in `/etc/hosts` was set incorrectly to an inaccessible host IP for `macvlan` networks ([#11351](https://github.com/containers/podman/issues/11351)).\n- Fixed a bug where secrets could not be mounted into containers that joined a user namespace (e.g. `--userns=auto`) ([#12779](https://github.com/containers/podman/issues/12779)).\n- Fixed a bug where rootless Podman could produce an error about cgroups when containers were created inside existing pods ([#10800](https://github.com/containers/podman/issues/10800)).\n- Fixed a bug where Podman could error that a systemd session was not available despite having the cgroup manager set to `cgroupfs` ([#12802](https://github.com/containers/podman/issues/12802)).\n- Fixed a bug where the remote Podman client on Windows would ignore environment variables from the `--env` option to `podman create` and `podman run` ([#12056](https://github.com/containers/podman/issues/12056)).\n- Fixed a bug where Podman could segfault when an error occurred trying to set up rootless mode.\n- Fixed a bug where Podman could segfault when reading an image layer that did not have a creation timestamp set.\n- Fixed a bug where, when Podman's storage directories were on an NFS filesystem, Podman would leave some unneeded file descriptors open, causing errors when containers were removed.\n- Fixed a bug where, when Podman's storage directories were on an NFS filesystem, cleaning up a container's exec sessions could fail.\n- Fixed a bug where Podman commands that operate on a container could give an incorrect error message if given a partial ID that could refer to 2 or more containers ([#12963](https://github.com/containers/podman/issues/12963)).\n- Fixed a bug where the `podman stats` command would not show network usage statistics on containers using `slirp4netns` for networking ([#11695](https://github.com/containers/podman/issues/11695)).\n- Fixed a bug where the `/dev/shm` mount in the container was not mounted with `nosuid`, `noexec`, and `nodev` mount options.\n- Fixed a bug where the `--shm-size` option to `podman create` and `podman run` interpeted human-readable sizes as KB instead of KiB, and GB instead of GiB (such that a kilobyte was interpreted as 1000 bytes, instead of 1024 bytes) ([#13096](https://github.com/containers/podman/issues/13096)).\n- Fixed a bug where the `--share=cgroup` option to `podman pod create` controlled whether the pod used a shared Cgroup parent, not whether the Cgroup namespace was shared ([#12765](https://github.com/containers/podman/issues/12765)).\n- Fixed a bug where, when a Podman container using the `slirp4netns` network mode was run inside a systemd unit file, systemd could kill the `slirp4netns` process, which is shared between all containers for a given user (thus causing all `slirp4netns`-mode containers for that user to be unable to connect to the internet) ([#13153](https://github.com/containers/podman/issues/13153)).\n- Fixed a bug where the `podman network connect` and `podman network disconnect` commands would not update `/etc/resolv.conf` in the container to add or remove the DNS servers of the networks that were connected or disconnected ([#9603](https://github.com/containers/podman/issues/9603)).\n\n### API\n- The Podman remote API version has been bumped to v4.0.0.\n- The Compat and Libpod Search endpoints for Images now will never truncate the returned image description. The `noTrunc` query parameter is now ignored as such ([#11894](https://github.com/containers/podman/issues/11894)).\n- The Libpod Top endpoints for Containers and Pods now support streaming output using the `stream=true` query parameter ([#12115](https://github.com/containers/podman/issues/12115)).\n- The Libpod Create endpoint for Volumes now supports specifying labels for the volume both as `Label` and `Labels` in the provided JSON configuration ([#12102](https://github.com/containers/podman/issues/12102)).\n- The Compat Create endpoint for Containers now respects cgroup configuration from `containers.conf` ([#12550](https://github.com/containers/podman/issues/12550)).\n- The Compat Create endpoint for Containers now respects user namespace configuration from the `PODMAN_USERNS` environment variable ([#11350](https://github.com/containers/podman/issues/11350)).\n- Fixed a bug where the Compat Create endpoint for Containers was ignoring the `HostConfig.StorageOpt` field ([#11016](https://github.com/containers/podman/issues/11016)).\n- Fixed a bug where the Compat List endpoint for Containers did not populate the `Mounts` field ([#12734](https://github.com/containers/podman/issues/12734)).\n- Fixed a bug where a race condition could cause a crash in the server when the Compat or Libpod Attach endpoints for Containers were invoked ([#12904](https://github.com/containers/podman/issues/12904)).\n- Fixed a bug where the Libpod Prune endpoint for Images would return nothing, instead of an empty array, when nothing was pruned.\n- Fixed a bug where the Compat List endpoint for Images did not prefix image IDs with `sha256:`.\n- Fixed a bug where the Compat Push endpoint for Images would return JSON which did not include the `size` field ([#12468](https://github.com/containers/podman/issues/12468)).\n- Fixed a bug where the Compat Load endpoint for Images would refuse to accept input archives that contained more than one image.\n- Fixed a bug where the Compat Build endpoint for Images ignored the `quiet` query parameter ([#12566](https://github.com/containers/podman/issues/12566)).\n- Fixed a bug where the Compat Build endpoint for Images did not include `aux` JSON (which included the ID of built images) in returned output ([#12063](https://github.com/containers/podman/issues/12063)).\n- Fixed a bug where the Compat Build endpoint for Images did not set the correct `Content-Type` in its responses ([#13148](https://github.com/containers/podman/issues/13148)).\n- Fixed a bug where the Compat and Libpod List endpoints for Networks would sometimes not return networks created on the server by the Podman CLI after the API server had been started ([#11828](https://github.com/containers/podman/issues/11828)).\n- Fixed a bug where the Compat Inspect endpoint for Networks did not include the subnet CIDR in the returned IPv4 and IPv6 addresses.\n- Fixed a bug where the Compat Events endpoint did not properly set the Action field of `Died` events for containers to `die` (previously, `died` was used; this was incompatible with Docker's output).\n- Fixed a bug where the Compat Info endpoint did not properly populate information on configured registries.\n- Fixed a bug where the Compat Events endpoint did not properly set the exit code of the container in the `exitCode` field in `Died` events for containers.\n- Fixed a bug where the Compat Events endpoint did not properly populate the `TimeNano` field.\n- Numerous small changes have been made to ensure that the API matches its Swagger documentation\n\n### Misc\n- The Windows installer MSI distributed through GitHub releases no longer supports 32-bit systems, as Podman is built only for 64-bit machines.\n- Updated Buildah to v1.24.0\n- Updated the containers/image library to v5.19.0\n- Updated the containers/storage library to v1.38.1\n- Updated the containers/common library to v0.47.1\n- Updated the containers/psgo library to v1.7.2\n\n## 3.4.7\n### Security\n- This release addresses CVE-2022-1227, where running `podman top` on a container made from a maliciously-crafted image and using a user namespace could allow for code execution in the host context.\n\n## 3.4.6\n### Security\n- This release addresses CVE-2022-27191, where an attacker could potentially cause crashes in remote Podman by using incorrect SSH ciphers.\n\n## 3.4.5\n### Security\n- This release addresses CVE-2022-27649, where Podman would set excess inheritable capabilities for processes in containers.\n\n### Bugfixes\n- Fixed a bug where the `podman images` command could, under some circumstances, take an excessive amount of time to list images ([#11997](https://github.com/containers/podman/issues/11997)).\n\n### Misc\n- Updates the containers/common library to v0.44.5\n\n## 3.4.4\n### Bugfixes\n- Fixed a bug where the `podman exec` command would, under some circumstances, print a warning message about failing to move `conmon` to the appropriate cgroup ([#12535](https://github.com/containers/podman/issues/12535)).\n- Fixed a bug where named volumes created as part of container creation (e.g. `podman run --volume avolume:/a/mountpoint` or similar) would be mounted with incorrect permissions ([#12523](https://github.com/containers/podman/issues/12523)).\n- Fixed a bug where the `podman-remote create` and `podman-remote run` commands did not properly handle the `--entrypoint=\"\"` option (to clear the container's entrypoint) ([#12521](https://github.com/containers/podman/issues/12521)).\n\n## 3.4.3\n### Security\n- This release addresses CVE-2021-4024, where the `podman machine` command opened the `gvproxy` API (used to forward ports to `podman machine` VMs) to the public internet on port 7777.\n- This release addresses CVE-2021-41190, where incomplete specification of behavior regarding image manifests could lead to inconsistent decoding on different clients.\n\n### Features\n- The `--secret type=mount` option to `podman create` and `podman run` supports a new option, `target=`, which specifies where in the container the secret will be mounted ([#12287](https://github.com/containers/podman/issues/12287)).\n\n### Bugfixes\n- Fixed a bug where rootless Podman would occasionally print warning messages about failing to move the pause process to a new cgroup ([#12065](https://github.com/containers/podman/issues/12065)).\n- Fixed a bug where the `podman run` and `podman create` commands would, when pulling images, still require TLS even with registries set to Insecure via config file ([#11933](https://github.com/containers/podman/issues/11933)).\n- Fixed a bug where the `podman generate systemd` command generated units that depended on `multi-user.target`, which has been removed from some distributions ([#12438](https://github.com/containers/podman/issues/12438)).\n- Fixed a bug where Podman could not run containers with images that had `/etc/` as a symlink ([#12189](https://github.com/containers/podman/issues/12189)).\n- Fixed a bug where the `podman logs -f` command would, when using the `journald` logs backend, exit immediately if the container had previously been restarted ([#12263](https://github.com/containers/podman/issues/12263)).\n- Fixed a bug where, in containers on VMs created by `podman machine`, the `host.containers.internal` name pointed to the VM, not the host system ([#11642](https://github.com/containers/podman/issues/11642)).\n- Fixed a bug where containers and pods created by the `podman play kube` command in VMs managed by `podman machine` would not automatically forward ports from the host machine ([#12248](https://github.com/containers/podman/issues/12248)).\n- Fixed a bug where `podman machine init` would fail on OS X when GNU Coreutils was installed ([#12329](https://github.com/containers/podman/issues/12329)).\n- Fixed a bug where `podman machine start` would exit before SSH on the started VM was accepting connections ([#11532](https://github.com/containers/podman/issues/11532)).\n- Fixed a bug where the `podman run` command with signal proxying (`--sig-proxy`) enabled could print an error if it attempted to send a signal to a container that had just exited ([#8086](https://github.com/containers/podman/issues/8086)).\n- Fixed a bug where the `podman stats` command would not return correct information for containers running Systemd as PID1 ([#12400](https://github.com/containers/podman/issues/12400)).\n- Fixed a bug where the `podman image save` command would fail on OS X when writing the image to STDOUT ([#12402](https://github.com/containers/podman/issues/12402)).\n- Fixed a bug where the `podman ps` command did not properly handle PS arguments which contained whitespace ([#12452](https://github.com/containers/podman/issues/12452)).\n- Fixed a bug where the `podman-remote wait` command could fail to detect that the container exited and return an error under some circumstances ([#12457](https://github.com/containers/podman/issues/12457)).\n- Fixed a bug where the Windows MSI installer for `podman-remote` would break the PATH environment variable by adding an extra `\"` ([#11416](https://github.com/containers/podman/issues/11416)).\n\n### API\n- Updated the containers/image library to v5.17.0\n- The Libpod Play Kube endpoint now also accepts `ConfigMap` YAML as part of its payload, and will use provided any `ConfigMap` to configure provided pods and services.\n- Fixed a bug where the Compat Create endpoint for Containers would not always create the container's working directory if it did not exist ([#11842](https://github.com/containers/podman/issues/11842)).\n- Fixed a bug where the Compat Create endpoint for Containers returned an incorrect error message with 404 errors when the requested image was not found ([#12315](https://github.com/containers/podman/pull/12315)).\n- Fixed a bug where the Compat Create endpoint for Containers did not properly handle the `HostConfig.Mounts` field ([#12419](https://github.com/containers/podman/issues/12419)).\n- Fixed a bug where the Compat Archive endpoint for Containers did not properly report errors when the operation failed ([#12420](https://github.com/containers/podman/issues/12420)).\n- Fixed a bug where the Compat Build endpoint for Images ignored the `layers` query parameter (for caching intermediate layers from the build) ([#12378](https://github.com/containers/podman/issues/12378)).\n- Fixed a bug where the Compat Build endpoint for Images did not report errors in a manner compatible with Docker ([#12392](https://github.com/containers/podman/issues/12392)).\n- Fixed a bug where the Compat Build endpoint for Images would fail to build if the context directory was a symlink ([#12409](https://github.com/containers/podman/issues/12409)).\n- Fixed a bug where the Compat List endpoint for Images included manifest lists (and not just images) in returned results ([#12453](https://github.com/containers/podman/issues/12453)).\n\n### Misc\n- Updated the containers/image library to v5.17.0\n- Updated the containers/storage library to v1.37.0\n- Podman now builds by default with cgo enabled on OS X, resolving some issues with SSH ([#10737](https://github.com/containers/podman/issues/10737)).\n\n## 3.4.2\n### Bugfixes\n- Fixed a bug where `podman tag` could not tag manifest lists ([#12046](https://github.com/containers/podman/issues/12046)).\n- Fixed a bug where built-in volumes specified by images would not be created correctly under some circumstances.\n- Fixed a bug where, when using Podman Machine on OS X, containers in pods did not have working port forwarding from the host ([#12207](https://github.com/containers/podman/issues/12207)).\n- Fixed a bug where the `podman network reload` command command on containers using the `slirp4netns` network mode and the `rootlessport` port forwarding driver would make an unnecessary attempt to restart `rootlessport` on containers that did not forward ports.\n- Fixed a bug where the `podman generate kube` command would generate YAML including some unnecessary (set to default) fields (e.g. empty SELinux and DNS configuration blocks, and the `privileged` flag when set to false) ([#11995](https://github.com/containers/podman/issues/11995)).\n- Fixed a bug where the `podman pod rm` command could, if interrupted at the right moment, leave a reference to an already-removed infra container behind ([#12034](https://github.com/containers/podman/issues/12034)).\n- Fixed a bug where the `podman pod rm` command would not remove pods with more than one container if all containers save for the infra container were stopped unless `--force` was specified ([#11713](https://github.com/containers/podman/issues/11713)).\n- Fixed a bug where the `--memory` flag to `podman run` and `podman create` did not accept a limit of 0 (which should specify unlimited memory) ([#12002](https://github.com/containers/podman/issues/12002)).\n- Fixed a bug where the remote Podman client's `podman build` command could attempt to build a Dockerfile in the working directory of the `podman system service` instance instead of the Dockerfile specified by the user ([#12054](https://github.com/containers/podman/issues/12054)).\n- Fixed a bug where the `podman logs --tail` command could function improperly (printing more output than requested) when the `journald` log driver was used.\n- Fixed a bug where containers run using the `slirp4netns` network mode with IPv6 enabled would not have IPv6 connectivity until several seconds after they started ([#11062](https://github.com/containers/podman/issues/11062)).\n- Fixed a bug where some Podman commands could cause an extra `dbus-daemon` process to be created ([#9727](https://github.com/containers/podman/issues/9727)).\n- Fixed a bug where rootless Podman would sometimes print warnings about a failure to move the pause process into a given CGroup ([#12065](https://github.com/containers/podman/issues/12065)).\n- Fixed a bug where the `checkpointed` field in `podman inspect` on a container was not set to false after a container was restored.\n- Fixed a bug where the `podman system service` command would print overly-verbose logs about request IDs ([#12181](https://github.com/containers/podman/issues/12181)).\n- Fixed a bug where Podman could, when creating a new container without a name explicitly specified by the user, sometimes use an auto-generated name already in use by another container if multiple containers were being created in parallel ([#11735](https://github.com/containers/podman/issues/11735)).\n\n## 3.4.1\n### Bugfixes\n- Fixed a bug where `podman machine init` could, under some circumstances, create invalid machine configurations which could not be started ([#11824](https://github.com/containers/podman/issues/11824)).\n- Fixed a bug where the `podman machine list` command would not properly populate some output fields.\n- Fixed a bug where `podman machine rm` could leave dangling sockets from the removed machine ([#11393](https://github.com/containers/podman/issues/11393)).\n- Fixed a bug where `podman run --pids-limit=-1` was not supported (it now sets the PID limit in the container to unlimited) ([#11782](https://github.com/containers/podman/issues/11782)).\n- Fixed a bug where `podman run` and `podman attach` could throw errors about a closed network connection when STDIN was closed by the client ([#11856](https://github.com/containers/podman/issues/11856)).\n- Fixed a bug where the `podman stop` command could fail when run on a container that had another `podman stop` command run on it previously.\n- Fixed a bug where the `--sync` flag to `podman ps` was nonfunctional.\n- Fixed a bug where the Windows and OS X remote clients' `podman stats` command would fail ([#11909](https://github.com/containers/podman/issues/11909)).\n- Fixed a bug where the `podman play kube` command did not properly handle environment variables whose values contained an `=` ([#11891](https://github.com/containers/podman/issues/11891)).\n- Fixed a bug where the `podman generate kube` command could generate invalid annotations when run on containers with volumes that use SELinux relabelling (`:z` or `:Z`) ([#11929](https://github.com/containers/podman/issues/11929)).\n- Fixed a bug where the `podman generate kube` command would generate YAML including some unnecessary (set to default) fields (e.g. user and group, entrypoint, default protocol for forwarded ports) ([#11914](https://github.com/containers/podman/issues/11914), [#11915](https://github.com/containers/podman/issues/11915), and [#11965](https://github.com/containers/podman/issues/11965)).\n- Fixed a bug where the `podman generate kube` command could, under some circumstances, generate YAML including an invalid `targetPort` field for forwarded ports ([#11930](https://github.com/containers/podman/issues/11930)).\n- Fixed a bug where rootless Podman's `podman info` command could, under some circumstances, not read available CGroup controllers ([#11931](https://github.com/containers/podman/issues/11931)).\n- Fixed a bug where `podman container checkpoint --export` would fail to checkpoint any container created with `--log-driver=none` ([#11974](https://github.com/containers/podman/issues/11974)).\n\n### API\n- Fixed a bug where the Compat Create endpoint for Containers could panic when no options were passed to a bind mount of tmpfs ([#11961](https://github.com/containers/podman/issues/11961)).\n\n## 3.4.0\n### Features\n- Pods now support init containers! Init containers are containers which run before the rest of the pod starts. There are two types of init containers: \"always\", which always run before the pod is started, and \"once\", which only run the first time the pod starts and are subsequently removed. They can be added using the `podman create` command's `--init-ctr` option.\n- Support for init containers has also been added to `podman play kube` and `podman generate kube` - init containers contained in Kubernetes YAML will be created as Podman init containers, and YAML generated by Podman will include any init containers created.\n- The `podman play kube` command now supports building images. If the `--build` option is given and a directory with the name of the specified image exists in the current working directory and contains a valid Containerfile or Dockerfile, the image will be built and used for the container.\n- The `podman play kube` command now supports a new option, `--teardown`, which removes any pods and containers created by the given Kubernetes YAML.\n- The `podman generate kube` command now generates annotations for SELinux mount options on volume (`:z` and `:Z`) that are respected by the `podman play kube` command.\n- A new command has been added, `podman pod logs`, to return logs for all containers in a pod at the same time.\n- Two new commands have been added, `podman volume export` (to export a volume to a tar file) and `podman volume import`) (to populate a volume from a given tar file).\n- The `podman auto-update` command now supports simple rollbacks. If a container fails to start after an automatic update, it will be rolled back to the previous image and restarted again.\n- Pods now share their user namespace by default, and the `podman pod create` command now supports the `--userns` option. This allows rootless pods to be created with the `--userns=keep-id` option.\n- The `podman pod ps` command now supports a new filter with its `--filter` option, `until`, which returns pods created before a given timestamp.\n- The `podman image scp` command has been added. This command allows images to be transferred between different hosts.\n- The `podman stats` command supports a new option, `--interval`, to specify the amount of time before the information is refreshed.\n- The `podman inspect` command now includes ports exposed (but not published) by containers (e.g. ports from `--expose` when `--publish-all` is not specified).\n- The `podman inspect` command now has a new boolean value, `Checkpointed`, which indicates that a container was stopped as a result of a `podman container checkpoint` operation.\n- Volumes created by `podman volume create` now support setting quotas when run atop XFS. The `size` and `inode` options allow the maximum size and maximum number of inodes consumed by a volume to be limited.\n- The `podman info` command now outputs information on what log drivers, network drivers, and volume plugins are available for use ([#11265](https://github.com/containers/podman/issues/11265)).\n- The `podman info` command now outputs the current log driver in use, and the variant and codename of the distribution in use.\n- The parameters of the VM created by `podman machine init` (amount of disk space, memory, CPUs) can now be set in `containers.conf`.\n- The `podman machine ls` command now shows additional information (CPUs, memory, disk size) about VMs managed by `podman machine`.\n- The `podman ps` command now includes healthcheck status in container state for containers that have healthchecks ([#11527](https://github.com/containers/podman/issues/11527)).\n\n### Changes\n- The `podman build` command has a new alias, `podman buildx`, to improve compatibility with Docker. We have already added support for many `docker buildx` flags to `podman build` and aim to continue to do so.\n- Cases where Podman is run without a user session or a writable temporary files directory will now produce better error messages.\n- The default log driver has been changed from `file` to `journald`. The `file` driver did not properly support log rotation, so this should lead to a better experience. If journald is not available on the system, Podman will automatically revert to the `file`.\n- Podman no longer depends on `ip` for removing networks ([#11403](https://github.com/containers/podman/issues/11403)).\n- The deprecated `--macvlan` flag to `podman network create` now warns when it is used. It will be removed entirely in the Podman 4.0 release.\n- The `podman machine start` command now prints a message when the VM is successfully started.\n- The `podman stats` command can now be used on containers that are paused.\n- The `podman unshare` command will now return the exit code of the command that was run in the user namespace (assuming the command was successfully run).\n- Successful healthchecks will no longer add a `healthy` line to the system log to reduce log spam.\n- As a temporary workaround for a lack of shortname prompts in the Podman remote client, VMs created by `podman machine` now default to only using the `docker.io` registry.\n\n### Bugfixes\n- Fixed a bug where whitespace in the definition of sysctls (particularly default sysctls specified in `containers.conf`) would cause them to be parsed incorrectly.\n- Fixed a bug where the Windows remote client improperly validated volume paths ([#10900](https://github.com/containers/podman/issues/10900)).\n- Fixed a bug where the first line of logs from a container run with the `journald` log driver could be skipped.\n- Fixed a bug where images created by `podman commit` did not include ports exposed by the container.\n- Fixed a bug where the `podman auto-update` command would ignore the `io.containers.autoupdate.authfile` label when pulling images ([#11171](https://github.com/containers/podman/issues/11171)).\n- Fixed a bug where the `--workdir` option to `podman create` and `podman run` could not be set to a directory where a volume was mounted ([#11352](https://github.com/containers/podman/issues/11352)).\n- Fixed a bug where systemd socket-activation did not properly work with systemd-managed Podman containers ([#10443](https://github.com/containers/podman/issues/10443)).\n- Fixed a bug where environment variable secrets added to a container were not available to exec sessions launched in the container.\n- Fixed a bug where rootless containers could fail to start the `rootlessport` port-forwarding service when `XDG_RUNTIME_DIR` was set to a long path.\n- Fixed a bug where arguments to the `--systemd` option to `podman create` and `podman run` were case-sensitive ([#11387](https://github.com/containers/podman/issues/11387)).\n- Fixed a bug where the `podman manifest rm` command would also remove images referenced by the manifest, not just the manifest itself ([#11344](https://github.com/containers/podman/issues/11344)).\n- Fixed a bug where the Podman remote client on OS X would not function properly if the `TMPDIR` environment variable was not set ([#11418](https://github.com/containers/podman/issues/11418)).\n- Fixed a bug where the `/etc/hosts` file was not guaranteed to contain an entry for `localhost` (this is still not guaranteed if `--net=host` is used; such containers will exactly match the host's `/etc/hosts`) ([#11411](https://github.com/containers/podman/issues/11411)).\n- Fixed a bug where the `podman machine start` command could print warnings about unsupported CPU features ([#11421](https://github.com/containers/podman/issues/11421)).\n- Fixed a bug where the `podman info` command could segfault when accessing cgroup information.\n- Fixed a bug where the `podman logs -f` command could hang when a container exited ([#11461](https://github.com/containers/podman/issues/11461)).\n- Fixed a bug where the `podman generate systemd` command could not be used on containers that specified a restart policy ([#11438](https://github.com/containers/podman/issues/11438)).\n- Fixed a bug where the remote Podman client's `podman build` command would fail to build containers if the UID and GID on the client were higher than 65536 ([#11474](https://github.com/containers/podman/issues/11474)).\n- Fixed a bug where the remote Podman client's `podman build` command would fail to build containers if the context directory was a symlink ([#11732](https://github.com/containers/podman/issues/11732)).\n- Fixed a bug where the `--network` flag to `podman play kube` was not properly parsed when a non-bridge network configuration was specified.\n- Fixed a bug where the `podman inspect` command could error when the container being inspected was removed as it was being inspected ([#11392](https://github.com/containers/podman/issues/11392)).\n- Fixed a bug where the `podman play kube` command ignored the default pod infra image specified in `containers.conf`.\n- Fixed a bug where the `--format` option to `podman inspect` was nonfunctional under some circumstances ([#8785](https://github.com/containers/podman/issues/8785)).\n- Fixed a bug where the remote Podman client's `podman run` and `podman exec` commands could skip a byte of output every 8192 bytes ([#11496](https://github.com/containers/podman/issues/11496)).\n- Fixed a bug where the `podman stats` command would print nonsensical results if the container restarted while it was running ([#11469](https://github.com/containers/podman/issues/11469)).\n- Fixed a bug where the remote Podman client would error when STDOUT was redirected on a Windows client ([#11444](https://github.com/containers/podman/issues/11444)).\n- Fixed a bug where the `podman run` command could return 0 when the application in the container exited with 125 ([#11540](https://github.com/containers/podman/issues/11540)).\n- Fixed a bug where containers with `--restart=always` set using the rootlessport port-forwarding service could not be restarted automatically.\n- Fixed a bug where the `--cgroups=split` option to `podman create` and `podman run` was silently discarded if the container was part of a pod.\n- Fixed a bug where the `podman container runlabel` command could fail if the image name given included a tag.\n- Fixed a bug where Podman could add an extra `127.0.0.1` entry to `/etc/hosts` under some circumstances ([#11596](https://github.com/containers/podman/issues/11596)).\n- Fixed a bug where the remote Podman client's `podman untag` command did not properly handle tags including a digest ([#11557](https://github.com/containers/podman/issues/11557)).\n- Fixed a bug where the `--format` option to `podman ps` did not properly support the `table` argument for tabular output.\n- Fixed a bug where the `--filter` option to `podman ps` did not properly handle filtering by healthcheck status ([#11687](https://github.com/containers/podman/issues/11687)).\n- Fixed a bug where the `podman run` and `podman start --attach` commands could race when retrieving the exit code of a container that had already been removed resulting in an error (e.g. by an external `podman rm -f`) ([#11633](https://github.com/containers/podman/issues/11633)).\n- Fixed a bug where the `podman generate kube` command would add default environment variables to generated YAML.\n- Fixed a bug where the `podman generate kube` command would add the default CMD from the image to generated YAML ([#11672](https://github.com/containers/podman/issues/11672)).\n- Fixed a bug where the `podman rm --storage` command could fail to remove containers under some circumstances ([#11207](https://github.com/containers/podman/issues/11207)).\n- Fixed a bug where the `podman machine ssh` command could fail when run on Linux ([#11731](https://github.com/containers/podman/issues/11731)).\n- Fixed a bug where the `podman stop` command would error when used on a container that was already stopped ([#11740](https://github.com/containers/podman/issues/11740)).\n- Fixed a bug where renaming a container in a pod using the `podman rename` command, then removing the pod using `podman pod rm`, could cause Podman to believe the new name of the container was permanently in use, despite the container being removed ([#11750](https://github.com/containers/podman/issues/11750)).\n\n### API\n- The Libpod Pull endpoint for Images now has a new query parameter, `quiet`, which (when set to true) suppresses image pull progress reports ([#10612](https://github.com/containers/podman/issues/10612)).\n- The Compat Events endpoint now includes several deprecated fields from the Docker v1.21 API for improved compatibility with older clients.\n- The Compat List and Inspect endpoints for Images now prefix image IDs with `sha256:` for improved Docker compatibility ([#11623](https://github.com/containers/podman/issues/11623)).\n- The Compat Create endpoint for Containers now properly sets defaults for healthcheck-related fields ([#11225](https://github.com/containers/podman/issues/11225)).\n- The Compat Create endpoint for Containers now supports volume options provided by the `Mounts` field ([#10831](https://github.com/containers/podman/issues/10831)).\n- The Compat List endpoint for Secrets now supports a new query parameter, `filter`, which allows returned results to be filtered.\n- The Compat Auth endpoint now returns the correct response code (500 instead of 400) when logging into a registry fails.\n- The Version endpoint now includes information about the OCI runtime and Conmon in use ([#11227](https://github.com/containers/podman/issues/11227)).\n- Fixed a bug where the X-Registry-Config header was not properly handled, leading to errors when pulling images ([#11235](https://github.com/containers/podman/issues/11235)).\n- Fixed a bug where invalid query parameters could cause a null pointer dereference when creating error messages.\n- Logging of API requests and responses at trace level has been greatly improved, including the addition of an X-Reference-Id header to correlate requests and responses ([#10053](https://github.com/containers/podman/issues/10053)).\n\n### Misc\n- Updated Buildah to v1.23.0\n- Updated the containers/storage library to v1.36.0\n- Updated the containers/image library to v5.16.0\n- Updated the containers/common library to v0.44.0\n\n## 3.3.1\n### Bugfixes\n- Fixed a bug where unit files created by `podman generate systemd` could not cleanup shut down containers when stopped by `systemctl stop` ([#11304](https://github.com/containers/podman/issues/11304)).\n- Fixed a bug where `podman machine` commands would not properly locate the `gvproxy` binary in some circumstances.\n- Fixed a bug where containers created as part of a pod using the `--pod-id-file` option would not join the pod's network namespace ([#11303](https://github.com/containers/podman/issues/11303)).\n- Fixed a bug where Podman, when using the systemd cgroups driver, could sometimes leak dbus sessions.\n- Fixed a bug where the `until` filter to `podman logs` and `podman events` was improperly handled, requiring input to be negated ([#11158](https://github.com/containers/podman/issues/11158)).\n- Fixed a bug where rootless containers using CNI networking run on systems using `systemd-resolved` for DNS would fail to start if resolved symlinked `/etc/resolv.conf` to an absolute path ([#11358](https://github.com/containers/podman/issues/11358)).\n\n### API\n- A large number of potential file descriptor leaks from improperly closing client connections have been fixed.\n\n## 3.3.0\n### Features\n- Containers inside VMs created by `podman machine` will now automatically handle port forwarding - containers in `podman machine` VMs that publish ports via `--publish` or `--publish-all` will have these ports not just forwarded on the VM, but also on the host system.\n- The `podman play kube` command's `--network` option now accepts advanced network options (e.g. `--network slirp4netns:port_handler=slirp4netns`) ([#10807](https://github.com/containers/podman/issues/10807)).\n- The `podman play kube` command now supports Kubernetes liveness probes, which will be created as Podman healthchecks.\n- Podman now provides a systemd unit, `podman-restart.service`, which, when enabled, will restart all containers that were started with `--restart=always` after the system reboots.\n- Rootless Podman can now be configured to use CNI networking by default by using the `rootless_networking` option in `containers.conf`.\n- Images can now be pulled using `image:tag@digest` syntax (e.g. `podman pull fedora:34@sha256:1b0d4ddd99b1a8c8a80e885aafe6034c95f266da44ead992aab388e6aa91611a`) ([#6721](https://github.com/containers/podman/issues/6721)).\n- The `podman container checkpoint` and `podman container restore` commands can now be used to checkpoint containers that are in pods, and restore those containers into pods.\n- The `podman container restore` command now features a new option, `--publish`, to change the ports that are forwarded to a container that is being restored from an exported checkpoint.\n- The `podman container checkpoint` command now features a new option, `--compress`, to specify the compression algorithm that will be used on the generated checkpoint.\n- The `podman pull` command can now pull multiple images at once (e.g. `podman pull fedora:34 ubi8:latest` will pull both specified images).\n- THe `podman cp` command can now copy files from one container into another directly (e.g. `podman cp containera:/etc/hosts containerb:/etc/`) ([#7370](https://github.com/containers/podman/issues/7370)).\n- The `podman cp` command now supports a new option, `--archive`, which controls whether copied files will be chown'd to the UID and GID of the user of the destination container.\n- The `podman stats` command now provides two additional metrics: Average CPU, and CPU time.\n- The `podman pod create` command supports a new flag, `--pid`, to specify the PID namespace of the pod. If specified, containers that join the pod will automatically share its PID namespace.\n- The `podman pod create` command supports a new flag, `--infra-name`, which allows the name of the pod's infra container to be set ([#10794](https://github.com/containers/podman/issues/10794)).\n- The `podman auto-update` command has had its output reformatted - it is now much clearer what images were pulled and what containers were updated.\n- The `podman auto-update` command now supports a new option, `--dry-run`, which reports what would be updated but does not actually perform the update ([#9949](https://github.com/containers/podman/issues/9949)).\n- The `podman build` command now supports a new option, `--secret`, to mount secrets into build containers.\n- The `podman manifest remove` command now has a new alias, `podman manifest rm`.\n- The `podman login` command now supports a new option, `--verbose`, to print detailed information about where the credentials entered were stored.\n- The `podman events` command now supports a new event, `exec_died`, which is produced when an exec session exits, and includes the exit code of the exec session.\n- The `podman system connection add` command now supports adding connections that connect using the `tcp://` and `unix://` URL schemes.\n- The `podman system connection list` command now supports a new flag, `--format`, to determine how the output is printed.\n- The `podman volume prune` and `podman volume ls` commands' `--filter` option now support a new filter, `until`, that matches volumes created before a certain time ([#10579](https://github.com/containers/podman/issues/10579)).\n- The `podman ps --filter` option's `network` filter now accepts a new value: `container:`, which matches containers that share a network namespace with a specific container ([#10361](https://github.com/containers/podman/issues/10361)).\n- The `podman diff` command can now accept two arguments, allowing two images or two containers to be specified; the diff between the two will be printed ([#10649](https://github.com/containers/podman/issues/10649)).\n- Podman can now optionally copy-up content from containers into volumes mounted into those containers earlier (at creation time, instead of at runtime) via the `prepare_on_create` option in `containers.conf` ([#10262](https://github.com/containers/podman/issues/10262)).\n- A new option, `--gpus`, has been added to `podman create` and `podman run` as a no-op for better compatibility with Docker. If the nvidia-container-runtime package is installed, GPUs should be automatically added to containers without using the flag.\n- If an invalid subcommand is provided, similar commands to try will now be suggested in the error message.\n\n### Changes\n- The `podman system reset` command now removes non-Podman (e.g. Buildah and CRI-O) containers as well.\n- The new port forwarding offered by `podman machine` requires [gvproxy](https://github.com/containers/gvisor-tap-vsock) in order to function.\n- Podman will now automatically create the default CNI network if it does not exist, for both root and rootless users. This will only be done once per user - if the network is subsequently removed, it will not be recreated.\n- The `install.cni` makefile option has been removed. It is no longer required to distribute the default `87-podman.conflist` CNI configuration file, as Podman will now automatically create it.\n- The `--root` option to Podman will not automatically clear all default storage options when set. Storage options can be set manually using `--storage-opt` ([#10393](https://github.com/containers/podman/issues/10393)).\n- The output of `podman system connection list` is now deterministic, with connections being sorted alpabetically by their name.\n- The auto-update service (`podman-auto-update.service`) has had its default timer adjusted so it now starts at a random time up to 15 minutes after midnight, to help prevent system congestion from numerous daily services run at once.\n- Systemd unit files generated by `podman generate systemd` now depend on `network-online.target` by default ([#10655](https://github.com/containers/podman/issues/10655)).\n- Systemd unit files generated by `podman generate systemd` now use `Type=notify` by default, instead of using PID files.\n- The `podman info` command's logic for detecting package versions on Gentoo has been improved, and should be significantly faster.\n\n### Bugfixes\n- Fixed a bug where the `podman play kube` command did not perform SELinux relabelling of volumes specified with a `mountPath` that included the `:z` or `:Z` options ([#9371](https://github.com/containers/podman/issues/9371)).\n- Fixed a bug where the `podman play kube` command would ignore the `USER` and `EXPOSE` directives in images ([#9609](https://github.com/containers/podman/issues/9609)).\n- Fixed a bug where the `podman play kube` command would only accept lowercase pull policies.\n- Fixed a bug where named volumes mounted into containers with the `:z` or `:Z` options were not appropriately relabelled for access from the container ([#10273](https://github.com/containers/podman/issues/10273)).\n- Fixed a bug where the `podman logs -f` command, with the `journald` log driver, could sometimes fail to pick up the last line of output from a container ([#10323](https://github.com/containers/podman/issues/10323)).\n- Fixed a bug where running `podman rm` on a container created with the `--rm` option would occasionally emit an error message saying the container failed to be removed, when it was successfully removed.\n- Fixed a bug where starting a Podman container would segfault if the `LISTEN_PID` and `LISTEN_FDS` environment variables were set, but `LISTEN_FDNAMES` was not ([#10435](https://github.com/containers/podman/issues/10435)).\n- Fixed a bug where exec sessions in containers were sometimes not cleaned up when run without `-d` and when the associated `podman exec` process was killed before completion.\n- Fixed a bug where `podman system service` could, when run in a systemd unit file with sdnotify in use, drop some connections when it was starting up.\n- Fixed a bug where containers run using the REST API using the `slirp4netns` network mode would leave zombie processes that were not cleaned up until `podman system service` exited ([#9777](https://github.com/containers/podman/issues/9777)).\n- Fixed a bug where the `podman system service` command would leave zombie processes after its initial launch that were not cleaned up until it exited ([#10575](https://github.com/containers/podman/issues/10575)).\n- Fixed a bug where VMs created by `podman machine` could not be started after the host system restarted ([#10824](https://github.com/containers/podman/issues/10824)).\n- Fixed a bug where the `podman pod ps` command would not show headers for optional information (e.g. container names when the `--ctr-names` option was given).\n- Fixed a bug where the remote Podman client's `podman create` and `podman run` commands would ignore timezone configuration from the server's `containers.conf` file ([#11124](https://github.com/containers/podman/issues/11124)).\n- Fixed a bug where the remote Podman client's `podman build` command would only respect `.containerignore` and not `.dockerignore` files (when both are present, `.containerignore` will be preferred) ([#10907](https://github.com/containers/podman/issues/10907)).\n- Fixed a bug where the remote Podman client's `podman build` command would fail to send the Dockerfile being built to the server when it was excluded by the `.dockerignore` file, resulting in an error ([#9867](https://github.com/containers/podman/issues/9867)).\n- Fixed a bug where the remote Podman client's `podman build` command could unexpectedly stop streaming the output of the build ([#10154](https://github.com/containers/podman/issues/10154)).\n- Fixed a bug where the remote Podman client's `podman build` command would fail to build when run on Windows ([#11259](https://github.com/containers/podman/issues/11259)).\n- Fixed a bug where the `podman manifest create` command accepted at most two arguments (an arbitrary number of images are allowed as arguments, which will be added to the manifest).\n- Fixed a bug where named volumes would not be properly chowned to the UID and GID of the directory they were mounted over when first mounted into a container ([#10776](https://github.com/containers/podman/issues/10776)).\n- Fixed a bug where named volumes created using a volume plugin would be removed from Podman, even if the plugin reported a failure to remove the volume ([#11214](https://github.com/containers/podman/issues/11214)).\n- Fixed a bug where the remote Podman client's `podman exec -i` command would hang when input was provided via shell redirection (e.g. `podman --remote exec -i foo cat <<<\"hello\"`) ([#7360](https://github.com/containers/podman/issues/7360)).\n- Fixed a bug where containers created with `--rm` were not immediately removed after being started by `podman start` if they failed to start ([#10935](https://github.com/containers/podman/issues/10935)).\n- Fixed a bug where the `--storage-opt` flag to `podman create` and `podman run` was nonfunctional ([#10264](https://github.com/containers/podman/issues/10264)).\n- Fixed a bug where the `--device-cgroup-rule` option to `podman create` and `podman run` was nonfunctional ([#10302](https://github.com/containers/podman/issues/10302)).\n- Fixed a bug where the `--tls-verify` option to `podman manifest push` was nonfunctional.\n- Fixed a bug where the `podman import` command could, in some circumstances, produce empty images ([#10994](https://github.com/containers/podman/issues/10994)).\n- Fixed a bug where images pulled using the `docker-daemon:` transport had the wrong registry (`localhost` instead of `docker.io/library`) ([#10998](https://github.com/containers/podman/issues/10998)).\n- Fixed a bug where operations that pruned images (`podman image prune` and `podman system prune`) would prune untagged images with children ([#10832](https://github.com/containers/podman/issues/10832)).\n- Fixed a bug where dual-stack networks created by `podman network create` did not properly auto-assign an IPv4 subnet when one was not explicitly specified ([#11032](https://github.com/containers/podman/issues/11032)).\n- Fixed a bug where port forwarding using the `rootlessport` port forwarder would break when a network was disconnected and then reconnected ([#10052](https://github.com/containers/podman/issues/10052)).\n- Fixed a bug where Podman would ignore user-specified SELinux policies for containers using the Kata OCI runtime, or containers using systemd as PID 1 ([#11100](https://github.com/containers/podman/issues/11100)).\n- Fixed a bug where Podman containers created using `--net=host` would add an entry to `/etc/hosts` for the container's hostname pointing to `127.0.1.1` ([#10319](https://github.com/containers/podman/issues/10319)).\n- Fixed a bug where the `podman unpause --all` command would throw an error for every container that was not paused ([#11098](https://github.com/containers/podman/issues/11098)).\n- Fixed a bug where timestamps for the `since` and `until` filters using Unix timestamps with a nanoseconds portion could not be parsed ([#11131](https://github.com/containers/podman/issues/11131)).\n- Fixed a bug where the `podman info` command would sometimes print the wrong path for the `slirp4netns` binary.\n- Fixed a bug where rootless Podman containers joined to a CNI network would not have functional DNS when the host used systemd-resolved without the resolved stub resolver being enabled ([#11222](https://github.com/containers/podman/issues/11222)).\n- Fixed a bug where `podman network connect` and `podman network disconnect` of rootless containers could sometimes break port forwarding to the container ([#11248](https://github.com/containers/podman/issues/11248)).\n- Fixed a bug where joining a container to a CNI network by ID and adding network aliases to this network would cause the container to fail to start ([#11285](https://github.com/containers/podman/issues/11285)).\n\n### API\n- Fixed a bug where the Compat List endpoint for Containers included healthcheck information for all containers, even those that did not have a configured healthcheck.\n- Fixed a bug where the Compat Create endpoint for Containers would fail to create containers with the `NetworkMode` parameter set to `default` ([#10569](https://github.com/containers/podman/issues/10569)).\n- Fixed a bug where the Compat Create endpoint for Containers did not properly handle healthcheck commands ([#10617](https://github.com/containers/podman/issues/10617)).\n- Fixed a bug where the Compat Wait endpoint for Containers would always send an empty string error message when no error occurred.\n- Fixed a bug where the Libpod Stats endpoint for Containers would not error when run on rootless containers on cgroups v1 systems (nonsensical results would be returned, as this configuration cannot be supportable).\n- Fixed a bug where the Compat List endpoint for Images omitted the `ContainerConfig` field ([#10795](https://github.com/containers/podman/issues/10795)).\n- Fixed a bug where the Compat Build endpoint for Images was too strict when validating the `Content-Type` header, rejecting content that Docker would have accepted ([#11022](https://github.com/containers/podman/issues/11012)).\n- Fixed a bug where the Compat Pull endpoint for Images could fail, but return a 200 status code, if an image name that could not be parsed was provided.\n- Fixed a bug where the Compat Pull endpoint for Images would continue to pull images after the client disconnected.\n- Fixed a bug where the Compat List endpoint for Networks would fail for non-bridge (e.g. macvlan) networks ([#10266](https://github.com/containers/podman/issues/10266)).\n- Fixed a bug where the Libpod List endpoint for Networks would return nil, instead of an empty list, when no networks were present ([#10495](https://github.com/containers/podman/issues/10495)).\n- The Compat and Libpod Logs endpoints for Containers now support the `until` query parameter ([#10859](https://github.com/containers/podman/issues/10859)).\n- The Compat Import endpoint for Images now supports the `platform`, `message`, and `repo` query parameters.\n- The Compat Pull endpoint for Images now supports the `platform` query parameter.\n\n### Misc\n- Updated Buildah to v1.22.3\n- Updated the containers/storage library to v1.34.1\n- Updated the containers/image library to v5.15.2\n- Updated the containers/common library to v0.42.1\n\n## 3.2.3\n### Security\n- This release addresses CVE-2021-3602, an issue with the `podman build` command with the `--isolation chroot` flag that results in environment variables from the host leaking into build containers.\n\n### Bugfixes\n- Fixed a bug where events related to images could occur before the relevant operation had completed (e.g. an image pull event could be written before the pull was finished) ([#10812](https://github.com/containers/podman/issues/10812)).\n- Fixed a bug where `podman save` would refuse to save images with an architecture different from that of the host ([#10835](https://github.com/containers/podman/issues/10835)).\n- Fixed a bug where the `podman import` command did not correctly handle images without tags ([#10854](https://github.com/containers/podman/issues/10854)).\n- Fixed a bug where Podman's journald events backend would fail and prevent Podman from running when run on a host with systemd as PID1 but in an environment (e.g. a container) without systemd ([#10863](https://github.com/containers/podman/issues/10863)).\n- Fixed a bug where containers using rootless CNI networking would fail to start when the `dnsname` CNI plugin was in use and the host system's `/etc/resolv.conf` was a symlink ([#10855](https://github.com/containers/podman/issues/10855) and [#10929](https://github.com/containers/podman/issues/10929)).\n- Fixed a bug where containers using rootless CNI networking could fail to start due to a race in rootless CNI initialization ([#10930](https://github.com/containers/podman/issues/10930)).\n\n### Misc\n- Updated Buildah to v1.21.3\n- Updated the containers/common library to v0.38.16\n\n## 3.2.2\n### Changes\n- Podman's handling of the Architecture field of images has been relaxed. Since 3.2.0, Podman required that the architecture of the image match the architecture of the system to run containers based on an image, but images often incorrectly report architecture, causing Podman to reject valid images ([#10648](https://github.com/containers/podman/issues/10648) and [#10682](https://github.com/containers/podman/issues/10682)).\n- Podman no longer uses inotify to monitor for changes to CNI configurations. This removes potential issues where Podman cannot be run because a user has exhausted their available inotify sessions ([#10686](https://github.com/containers/podman/issues/10686)).\n\n### Bugfixes\n- Fixed a bug where the `podman cp` would, when given a directory as its source and a target that existed and was a file, copy the contents of the directory into the parent directory of the file; this now results in an error.\n- Fixed a bug where the `podman logs` command would, when following a running container's logs, not include the last line of output from the container when it exited when the `k8s-file` driver was in use ([#10675](https://github.com/containers/podman/issues/10675)).\n- Fixed a bug where Podman would fail to run containers if `systemd-resolved` was incorrectly detected as the system's DNS server ([#10733](https://github.com/containers/podman/issues/10733)).\n- Fixed a bug where the `podman exec -t` command would only resize the exec session's TTY after the session started, leading to a race condition where the terminal would initially not have a size set ([#10560](https://github.com/containers/podman/issues/10560)).\n- Fixed a bug where Podman containers using the `slirp4netns` network mode would add an incorrect entry to `/etc/hosts` pointing the container's hostname to the wrong IP address.\n- Fixed a bug where Podman would create volumes specified by images with incorrect permissions ([#10188](https://github.com/containers/podman/issues/10188) and [#10606](https://github.com/containers/podman/issues/10606)).\n- Fixed a bug where Podman would not respect the `uid` and `gid` options to `podman volume create -o` ([#10620](https://github.com/containers/podman/issues/10620)).\n- Fixed a bug where the `podman run` command could panic when parsing the system's cgroup configuration ([#10666](https://github.com/containers/podman/issues/10666)).\n- Fixed a bug where the remote Podman client's `podman build -f - ...` command did not read a Containerfile from STDIN ([#10621](https://github.com/containers/podman/issues/10621)).\n- Fixed a bug where the `podman container restore --import` command would fail to restore checkpoints created from privileged containers ([#10615](https://github.com/containers/podman/issues/10615)).\n- Fixed a bug where Podman was not respecting the `TMPDIR` environment variable when pulling images ([#10698](https://github.com/containers/podman/issues/10698)).\n- Fixed a bug where a number of Podman commands did not properly support using Go templates as an argument to the `--format` option.\n\n### API\n- Fixed a bug where the Compat Inspect endpoint for Containers did not include information on container healthchecks ([#10457](https://github.com/containers/podman/issues/10457)).\n- Fixed a bug where the Libpod and Compat Build endpoints for Images did not properly handle the `devices` query parameter ([#10614](https://github.com/containers/podman/issues/10614)).\n\n### Misc\n- Fixed a bug where the Makefile's `make podman-remote-static` target to build a statically-linked `podman-remote` binary was instead producing dynamic binaries ([#10656](https://github.com/containers/podman/issues/10656)).\n- Updated the containers/common library to v0.38.11\n\n## 3.2.1\n### Changes\n- Podman now allows corrupt images (e.g. from restarting the system during an image pull) to be replaced by a `podman pull` of the same image (instead of requiring they be removed first, then re-pulled).\n\n### Bugfixes\n- Fixed a bug where Podman would fail to start containers if a Seccomp profile was not available at `/usr/share/containers/seccomp.json` ([#10556](https://github.com/containers/podman/issues/10556)).\n- Fixed a bug where the `podman machine start` command failed on OS X machines with the AMD64 architecture and certain QEMU versions ([#10555](https://github.com/containers/podman/issues/10555)).\n- Fixed a bug where Podman would always use the slow path for joining the rootless user namespace.\n- Fixed a bug where the `podman stats` command would fail on Cgroups v1 systems when run on a container running systemd ([#10602](https://github.com/containers/podman/issues/10602)).\n- Fixed a bug where pre-checkpoint support for `podman container checkpoint` did not function correctly.\n- Fixed a bug where the remote Podman client's `podman build` command did not properly handle the `-f` option ([#9871](https://github.com/containers/podman/issues/9871)).\n- Fixed a bug where the remote Podman client's `podman run` command would sometimes not resize the container's terminal before execution began ([#9859](https://github.com/containers/podman/issues/9859)).\n- Fixed a bug where the `--filter` option to the `podman image prune` command was nonfunctional.\n- Fixed a bug where the `podman logs -f` command would exit before all output for a container was printed when the `k8s-file` log driver was in use ([#10596](https://github.com/containers/podman/issues/10596)).\n- Fixed a bug where Podman would not correctly detect that systemd-resolved was in use on the host and adjust DNS servers in the container appropriately under some circumstances ([#10570](https://github.com/containers/podman/issues/10570)).\n- Fixed a bug where the `podman network connect` and `podman network disconnect` commands acted improperly when containers were in the Created state, marking the changes as done but not actually performing them.\n\n### API\n- Fixed a bug where the Compat and Libpod Prune endpoints for Networks returned null, instead of an empty array, when nothing was pruned.\n- Fixed a bug where the Create API for Images would continue to pull images even if a client closed the connection mid-pull ([#7558](https://github.com/containers/podman/issues/7558)).\n- Fixed a bug where the Events API did not include some information (including labels) when sending events.\n- Fixed a bug where the Events API would, when streaming was not requested, send at most one event ([#10529](https://github.com/containers/podman/issues/10529)).\n\n### Misc\n- Updated the containers/common library to v0.38.9\n\n## 3.2.0\n### Features\n- Docker Compose is now supported with rootless Podman ([#9169](https://github.com/containers/podman/issues/9169)).\n- The `podman network connect`, `podman network disconnect`, and `podman network reload` commands have been enabled for rootless Podman.\n- An experimental new set of commands, `podman machine`, was added to assist in managing virtual machines containing a Podman server. These are intended for easing the use of Podman on OS X by handling the creation of a Linux VM for running Podman.\n- The `podman generate kube` command can now be run on Podman named volumes (generating `PersistentVolumeClaim` YAML), in addition to pods and containers.\n- The `podman play kube` command now supports two new options, `--ip` and `--mac`, to set static IPs and MAC addresses for created pods ([#8442](https://github.com/containers/podman/issues/8442) and [#9731](https://github.com/containers/podman/issues/9731)).\n- The `podman play kube` command's support for `PersistentVolumeClaim` YAML has been greatly improved.\n- The `podman generate kube` command now preserves the label used by `podman auto-update` to identify containers to update as a Kubernetes annotation, and the `podman play kube` command will convert this annotation back into a label. This allows `podman auto-update` to be used with containers created by `podman play kube`.\n- The `podman play kube` command now supports Kubernetes `secretRef` YAML (using the secrets support from `podman secret`) for environment variables.\n- Secrets can now be added to containers as environment variables using the `type=env` option to the `--secret` flag to `podman create` and `podman run`.\n- The `podman start` command now supports the `--all` option, allowing all containers to be started simultaneously with a single command. The `--filter` option has also been added to filter which containers to start when `--all` is used.\n- Filtering containers with the `--filter` option to `podman ps` and `podman start` now supports a new filter, `restart-policy`, to filter containers based on their restart policy.\n- The `--group-add` option to rootless `podman run` and `podman create` now accepts a new value, `keep-groups`, which instructs Podman to retain the supplemental groups of the user running Podman in the created container. This is only supported with the `crun` OCI runtime.\n- The `podman run` and `podman create` commands now support a new option, `--timeout`. This sets a maximum time the container is allowed to run, after which it is killed ([#6412](https://github.com/containers/podman/issues/6412)).\n- The `podman run` and `podman create` commands now support a new option, `--pidfile`. This will create a file when the container is started containing the PID of the first process in the container.\n- The `podman run` and `podman create` commands now support a new option, `--requires`. The `--requires` option adds dependency containers - containers that must be running before the current container. Commands like `podman start` will automatically start the requirements of a container before starting the container itself.\n- Auto-updating containers can now be done with locally-built images, not just images hosted on a registry, by creating containers with the `io.containers.autoupdate` label set to `local`.\n- Podman now supports the [Container Device Interface](https://tags.cncf.io/container-device-interface) (CDI) standard.\n- Podman now adds an entry to `/etc/hosts`, `host.containers.internal`, pointing to the current gateway (which, for root containers, is usually a bridge interface on the host system) ([#5651](https://github.com/containers/podman/issues/5651)).\n- The `podman ps`, `podman pod ps`, `podman network list`, `podman secret list`, and `podman volume list` commands now support a `--noheading` option, which will cause Podman to omit the heading line including column names.\n- The `podman unshare` command now supports a new flag, `--rootless-cni`, to join the rootless network namespace. This allows commands to be run in the same network environment as rootless containers with CNI networking.\n- The `--security-opt unmask=` option to `podman run` and `podman create` now supports glob operations to unmask a group of paths at once (e.g. `podman run --security-opt unmask=/proc/* ...` will unmask all paths in `/proc` in the container).\n- The `podman network prune` command now supports a `--filter` option to filter which networks will be pruned.\n\n### Changes\n- The change in Podman 3.1.2 where the `:z` and `:Z` mount options for volumes were ignored for privileged containers has been reverted after discussion in [#10209](https://github.com/containers/podman/issues/10209).\n- Podman's rootless CNI functionality no longer requires a sidecar container! The removal of the requirement for the `rootless-cni-infra` container means that rootless CNI is now usable on all architectures, not just AMD64, and no longer requires pulling an image ([#8709](https://github.com/containers/podman/issues/8709)).\n- The Image handling code used by Podman has seen a major rewrite to improve code sharing with our other projects, Buildah and CRI-O. This should result in fewer bugs and performance gains in the long term. Work on this is still ongoing.\n- The `podman auto-update` command now prunes previous versions of images after updating if they are unused, to prevent disk exhaustion after repeated updates ([#10190](https://github.com/containers/podman/issues/10190)).\n- The `podman play kube` now treats environment variables configured as references to a `ConfigMap` as mandatory unless the `optional` parameter was set; this better matches the behavior of Kubernetes.\n- Podman now supports the `--context=default` flag from Docker as a no-op for compatibility purposes.\n- When Podman is run as root, but without `CAP_SYS_ADMIN` being available, it will run in a user namespace using the same code as rootless Podman (instead of failing outright).\n- The `podman info` command now includes the path of the Seccomp profile Podman is using, available cgroup controllers, and whether Podman is connected to a remote service or running containers locally.\n- Containers created with the `--rm` option now automatically use the `volatile` storage flag when available for their root filesystems, causing them not to write changes to disk as often as they will be removed at completion anyways. This should result in improved performance.\n- The `podman generate systemd --new` command will now include environment variables referenced by the container in generated unit files if the value would be looked up from the system environment.\n- Podman now requires that Conmon v2.0.24 be available.\n\n### Bugfixes\n- Fixed a bug where the remote Podman client's `podman build` command did not support the `--arch`, `--platform`, and `--os`, options.\n- Fixed a bug where the remote Podman client's `podman build` command ignored the `--rm=false` option ([#9869](https://github.com/containers/podman/issues/9869)).\n- Fixed a bug where the remote Podman client's `podman build --iidfile` command could include extra output (in addition to just the image ID) in the image ID file written ([#10233](https://github.com/containers/podman/issues/10233)).\n- Fixed a bug where the remote Podman client's `podman build` command did not preserve hardlinks when moving files into the container via `COPY` instructions ([#9893](https://github.com/containers/podman/issues/9893)).\n- Fixed a bug where the `podman generate systemd --new` command could generate extra `--iidfile` arguments if the container was already created with one.\n- Fixed a bug where the `podman generate systemd --new` command would generate unit files that did not include `RequiresMountsFor` lines ([#10493](https://github.com/containers/podman/issues/10493)).\n- Fixed a bug where the `podman generate kube` command produced incorrect YAML for containers which bind-mounted both `/` and `/root` from the host system into the container ([#9764](https://github.com/containers/podman/issues/9764)).\n- Fixed a bug where pods created by `podman play kube` from YAML that specified `ShareProcessNamespace` would only share the PID namespace (and not also the UTS, Network, and IPC namespaces) ([#9128](https://github.com/containers/podman/issues/9128)).\n- Fixed a bug where the `podman network reload` command could generate spurious error messages when `iptables-nft` was in use.\n- Fixed a bug where rootless Podman could fail to attach to containers when the user running Podman had a large UID.\n- Fixed a bug where the `podman ps` command could fail with a `no such container` error due to a race condition with container removal ([#10120](https://github.com/containers/podman/issues/10120)).\n- Fixed a bug where containers using the `slirp4netns` network mode and setting a custom `slirp4netns` subnet while using the `rootlesskit` port forwarder would not be able to forward ports ([#9828](https://github.com/containers/podman/issues/9828)).\n- Fixed a bug where the `--filter ancestor=` option to `podman ps` did not require an exact match of the image name/ID to include a container in its results.\n- Fixed a bug where the `--filter until=` option to `podman image prune` would prune images created after the specified time (instead of before).\n- Fixed a bug where setting a custom Seccomp profile via the `seccomp_profile` option in `containers.conf` had no effect, and the default profile was used instead.\n- Fixed a bug where the `--cgroup-parent` option to `podman create` and `podman run` was ignored in rootless Podman on cgroups v2 systems with the `cgroupfs` cgroup manager ([#10173](https://github.com/containers/podman/issues/10173)).\n- Fixed a bug where the `IMAGE` and `NAME` variables in `podman container runlabel` were not being correctly substituted ([#10192](https://github.com/containers/podman/issues/10192)).\n- Fixed a bug where Podman could freeze when creating containers with a specific combination of volumes and working directory ([#10216](https://github.com/containers/podman/issues/10216)).\n- Fixed a bug where rootless Podman containers restarted by restart policy (e.g. containers created with `--restart=always`) would lose networking after being restarted ([#8047](https://github.com/containers/podman/issues/8047)).\n- Fixed a bug where the `podman cp` command could not copy files into containers created with the `--pid=host` flag ([#9985](https://github.com/containers/podman/issues/9985)).\n- Fixed a bug where filters to the `podman events` command could not be specified twice (if a filter is specified more than once, it will match if any of the given values match - logical or) ([#10507](https://github.com/containers/podman/issues/10507)).\n- Fixed a bug where Podman would include IPv6 nameservers in `resolv.conf` in containers without IPv6 connectivity ([#10158](https://github.com/containers/podman/issues/10158)).\n- Fixed a bug where containers could not be created with static IP addresses when connecting to a network using the `macvlan` driver ([#10283](https://github.com/containers/podman/issues/10283)).\n\n### API\n- Fixed a bug where the Compat Create endpoint for Containers did not allow advanced network options to be set ([#10110](https://github.com/containers/podman/issues/10110)).\n- Fixed a bug where the Compat Create endpoint for Containers ignored static IP information provided in the `IPAMConfig` block ([#10245](https://github.com/containers/podman/issues/10245)).\n- Fixed a bug where the Compat Inspect endpoint for Containers returned null (instead of an empty list) for Networks when the container was not joined to a CNI network ([#9837](https://github.com/containers/podman/issues/9837)).\n- Fixed a bug where the Compat Wait endpoint for Containers could miss containers exiting if they were immediately restarted.\n- Fixed a bug where the Compat Create endpoint for Volumes required that the user provide a name for the new volume ([#9803](https://github.com/containers/podman/issues/9803)).\n- Fixed a bug where the Libpod Info handler would sometimes not return the correct path to the Podman API socket.\n- Fixed a bug where the Compat Events handler used the wrong name for container exited events (`died` instead of `die`) ([#10168](https://github.com/containers/podman/issues/10168)).\n- Fixed a bug where the Compat Push endpoint for Images could leak goroutines if the remote end closed the connection prematurely.\n\n### Misc\n- Updated Buildah to v1.21.0\n- Updated the containers/common library to v0.38.5\n- Updated the containers/storage library to v1.31.3\n\n## 3.1.2\n### Bugfixes\n- The Compat Export endpoint for Images now supports exporting multiple images at the same time to a single archive.\n- Fixed a bug where images with empty layers were stored incorrectly, causing them to be unable to be pushed or saved.\n- Fixed a bug where the `podman rmi` command could fail to remove corrupt images from storage.\n- Fixed a bug where the remote Podman client's `podman save` command did not support the `oci-dir` and `docker-dir` formats ([#9742](https://github.com/containers/podman/issues/9742)).\n- Fixed a bug where volume mounts from `podman play kube` created with a trailing `/` in the container path were were not properly superseding named volumes from the image ([#9618](https://github.com/containers/podman/issues/9618)).\n- Fixed a bug where Podman could fail to build on 32-bit architectures.\n\n### Misc\n- Updated the containers/image library to v5.11.1\n\n## 3.1.1\n### Changes\n- Podman now recognizes `trace` as a valid argument to the `--log-level` command. Trace logging is now the most verbose level of logging available.\n- The `:z` and `:Z` options for volume mounts are now ignored when the container is privileged or is run with SELinux isolation disabled (`--security-opt label=disable`). This matches better matches Docker's behavior in this case.\n\n### Bugfixes\n- Fixed a bug where pruning images with the `podman image prune` or `podman system prune` commands could cause Podman to panic.\n- Fixed a bug where the `podman save` command did not properly error when the `--compress` flag was used with incompatible format types.\n- Fixed a bug where the `--security-opt` and `--ulimit` options to the remote Podman client's `podman build` command were nonfunctional.\n- Fixed a bug where the `--log-rusage` option to the remote Podman client's `podman build` command was nonfunctional ([#9489](https://github.com/containers/podman/issues/9889)).\n- Fixed a bug where the `podman build` command could, in some circumstances, use the wrong OCI runtime ([#9459](https://github.com/containers/podman/issues/9459)).\n- Fixed a bug where the remote Podman client's `podman build` command could return 0 despite failing ([#10029](https://github.com/containers/podman/issues/10029)).\n- Fixed a bug where the `podman container runlabel` command did not properly expand the `IMAGE` and `NAME` variables in the label ([#9405](https://github.com/containers/podman/issues/9405)).\n- Fixed a bug where poststop OCI hooks would be executed twice on containers started with the `--rm` argument ([#9983](https://github.com/containers/podman/issues/9983)).\n- Fixed a bug where rootless Podman could fail to launch containers on cgroups v2 systems when the `cgroupfs` cgroup manager was in use.\n- Fixed a bug where the `podman stats` command could error when statistics tracked exceeded the maximum size of a 32-bit signed integer ([#9979](https://github.com/containers/podman/issues/9979)).\n- Fixed a bug where rootless Podman containers run with `--userns=keepid` (without a `--user` flag in addition) would grant exec sessions run in them too many capabilities ([#9919](https://github.com/containers/podman/issues/9919)).\n- Fixed a bug where the `--authfile` option to `podman build` did not validate that the path given existed ([#9572](https://github.com/containers/podman/issues/9572)).\n- Fixed a bug where the `--storage-opt` option to Podman was appending to, instead of overriding (as is documented), the default storage options.\n- Fixed a bug where the `podman system service` connection did not function properly when run in a socket-activated systemd unit file as a non-root user.\n- Fixed a bug where the `--network` option to the `podman play kube` command of the remote Podman client was being ignored ([#9698](https://github.com/containers/podman/issues/9698)).\n- Fixed a bug where the `--log-driver` option to the `podman play kube` command was nonfunctional ([#10015](https://github.com/containers/podman/issues/10015)).\n\n### API\n- Fixed a bug where the Libpod Create endpoint for Manifests did not properly validate the image the manifest was being created with.\n- Fixed a bug where the Libpod DF endpoint could, in error cases, append an extra null to the JSON response, causing decode errors.\n- Fixed a bug where the Libpod and Compat Top endpoint for Containers would return process names that included extra whitespace.\n- Fixed a bug where the Compat Prune endpoint for Containers accepted too many types of filter.\n\n### Misc\n- Updated Buildah to v1.20.1\n- Updated the containers/storage library to v1.29.0\n- Updated the containers/image library to v5.11.0\n- Updated the containers/common library to v0.36.0\n\n## 3.1.0\n### Features\n- A set of new commands has been added to manage secrets! The `podman secret create`, `podman secret inspect`, `podman secret ls` and `podman secret rm` commands have been added to handle secrets, along with the `--secret` option to `podman run` and `podman create` to add secrets to containers. The initial driver for secrets does not support encryption - this will be added in a future release.\n- A new command to prune networks, `podman network prune`, has been added ([#8673](https://github.com/containers/podman/issues/8673)).\n- The `-v` option to `podman run` and `podman create` now supports a new volume option, `:U`, to chown the volume's source directory on the host to match the UID and GID of the container and prevent permissions issues ([#7778](https://github.com/containers/podman/issues/7778)).\n- Three new commands, `podman network exists`, `podman volume exists`, and `podman manifest exists`, have been added to check for the existence of networks, volumes, and manifest lists.\n- The `podman cp` command can now copy files into directories mounted as `tmpfs` in a running container.\n- The `podman volume prune` command will now list volumes that will be pruned when prompting the user whether to continue and perform the prune ([#8913](https://github.com/containers/podman/issues/8913)).\n- The Podman remote client's `podman build` command now supports the `--disable-compression`, `--excludes`, and `--jobs` options.\n- The Podman remote client's `podman push` command now supports the `--format` option.\n- The Podman remote client's `podman rm` command now supports the `--all` and `--ignore` options.\n- The Podman remote client's `podman search` command now supports the `--no-trunc` and `--list-tags` options.\n- The `podman play kube` command can now read in Kubernetes YAML from `STDIN` when `-` is specified as file name (`podman play kube -`), allowing input to be piped into the command for scripting ([#8996](https://github.com/containers/podman/issues/8996)).\n- The `podman generate systemd` command now supports a `--no-header` option, which disables creation of the header comment automatically added by Podman to generated unit files.\n- The `podman generate kube` command can now generate `PersistentVolumeClaim` YAML for Podman named volumes ([#5788](https://github.com/containers/podman/issues/5788)).\n- The `podman generate kube` command can now generate YAML files containing multiple resources (pods or deployments) ([#9129](https://github.com/containers/podman/issues/9129)).\n\n### Security\n- This release resolves CVE-2021-20291, a deadlock vulnerability in the storage library caused by pulling a specially-crafted container image.\n\n### Changes\n- The Podman remote client's `podman build` command no longer allows the `-v` flag to be used. Volumes are not yet supported with remote Podman when the client and service are on different machines.\n- The `podman kill` and `podman stop` commands now print the name given by the user for each container, instead of the full ID.\n- When the `--security-opt unmask=ALL` or `--security-opt unmask=/sys/fs/cgroup` options to `podman create` or `podman run` are given, Podman will mount cgroups into the container as read-write, instead of read-only ([#8441](https://github.com/containers/podman/issues/8441)).\n- The `podman rmi` command has been changed to better handle cases where an image is incomplete or corrupted, which can be caused by interrupted image pulls.\n- The `podman rename` command has been improved to be more atomic, eliminating many race conditions that could potentially render a renamed container unusable.\n- Detection of which OCI runtimes run using virtual machines and thus require custom SELinux labelling has been improved ([#9582](https://github.com/containers/podman/issues/9582)).\n- The hidden `--trace` option to `podman` has been turned into a no-op. It was used in very early versions for performance tracing, but has not been supported for some time.\n- The `podman generate systemd` command now generates `RequiresMountsFor` lines to ensure necessary storage directories are mounted before systemd starts Podman.\n- Podman will now emit a warning when `--tty` and `--interactive` are both passed, but `STDIN` is not a TTY. This will be made into an error in the next major Podman release some time next year.\n\n### Bugfixes\n- Fixed a bug where rootless Podman containers joined to CNI networks could not receive traffic from forwarded ports ([#9065](https://github.com/containers/podman/issues/9065)).\n- Fixed a bug where `podman network create` with the `--macvlan` flag did not honor the `--gateway`, `--subnet`, and `--opt` options ([#9167](https://github.com/containers/podman/issues/9167)).\n- Fixed a bug where the `podman generate kube` command generated invalid YAML for privileged containers ([#8897](https://github.com/containers/podman/issues/8897)).\n- Fixed a bug where the `podman generate kube` command could not be used with containers that were not running.\n- Fixed a bug where the `podman generate systemd` command could duplicate some parameters to Podman in generated unit files ([#9776](https://github.com/containers/podman/issues/9776)).\n- Fixed a bug where Podman did not add annotations specified in `containers.conf` to containers.\n- Foxed a bug where Podman did not respect the `no_hosts` default in `containers.conf` when creating containers.\n- Fixed a bug where the `--tail=0`, `--since`, and `--follow` options to the `podman logs` command did not function properly when using the `journald` log backend.\n- Fixed a bug where specifying more than one container to `podman logs` when the `journald` log backend was in use did not function correctly.\n- Fixed a bug where the `podman run` and `podman create` commands would panic if a memory limit was set, but the swap limit was set to unlimited ([#9429](https://github.com/containers/podman/issues/9429)).\n- Fixed a bug where the `--network` option to `podman run`, `podman create`, and `podman pod create` would error if the user attempted to specify CNI networks by ID, instead of name ([#9451](https://github.com/containers/podman/issues/9451)).\n- Fixed a bug where Podman's cgroup handling for cgroups v1 systems did not properly handle cases where a cgroup existed on some, but not all, controllers, resulting in errors from the `podman stats` command ([#9252](https://github.com/containers/podman/issues/9252)).\n- Fixed a bug where the `podman cp` did not properly handle cases where `/dev/stdout` was specified as the destination (it was treated identically to `-`) ([#9362](https://github.com/containers/podman/issues/9362)).\n- Fixed a bug where the `podman cp` command would create files with incorrect ownership ([#9526](https://github.com/containers/podman/issues/9626)).\n- Fixed a bug where the `podman cp` command did not properly handle cases where the destination directory did not exist.\n- Fixed a bug where the `podman cp` command did not properly evaluate symlinks when copying out of containers.\n- Fixed a bug where the `podman rm -fa` command would error when attempting to remove containers created with `--rm` ([#9479](https://github.com/containers/podman/issues/9479)).\n- Fixed a bug where the ordering of capabilities was nondeterministic in the `CapDrop` field of the output of `podman inspect` on a container ([#9490](https://github.com/containers/podman/issues/9490)).\n- Fixed a bug where the `podman network connect` command could be used with containers that were not initially connected to a CNI bridge network (e.g. containers created with `--net=host`) ([#9496](https://github.com/containers/podman/issues/9496)).\n- Fixed a bug where DNS search domains required by the `dnsname` CNI plugin were not being added to container's `resolv.conf` under some circumstances.\n- Fixed a bug where the `--ignorefile` option to `podman build` was nonfunctional ([#9570](https://github.com/containers/podman/issues/9570)).\n- Fixed a bug where the `--timestamp` option to `podman build` was nonfunctional ([#9569](https://github.com/containers/podman/issues/9569)).\n- Fixed a bug where the `--iidfile` option to `podman build` could cause Podman to panic if an error occurred during the build.\n- Fixed a bug where the `--dns-search` option to `podman build` was nonfunctional ([#9574](https://github.com/containers/podman/issues/9574)).\n- Fixed a bug where the `--pull-never` option to `podman build` was nonfunctional ([#9573](https://github.com/containers/podman/issues/9573)).\n- Fixed a bug where the `--build-arg` option to `podman build` would, when given a key but not a value, error (instead of attempting to look up the key as an environment variable) ([#9571](https://github.com/containers/podman/issues/9571)).\n- Fixed a bug where the `--isolation` option to `podman build` in the remote Podman client was nonfunctional.\n- Fixed a bug where the `podman network disconnect` command could cause errors when the container that had a network removed was stopped and its network was cleaned up ([#9602](https://github.com/containers/podman/issues/9602)).\n- Fixed a bug where the `podman network rm` command did not properly check what networks a container was present in, resulting in unexpected behavior if `podman network connect` or `podman network disconnect` had been used with the network ([#9632](https://github.com/containers/podman/issues/9632)).\n- Fixed a bug where some errors with stopping a container could cause Podman to panic, and the container to be stuck in an unusable `stopping` state ([#9615](https://github.com/containers/podman/issues/9615)).\n- Fixed a bug where the `podman load` command could return 0 even in cases where an error occurred ([#9672](https://github.com/containers/podman/issues/9672)).\n- Fixed a bug where specifying storage options to Podman using the `--storage-opt` option would override all storage options. Instead, storage options are now overridden only when the `--storage-driver` option is used to override the current graph driver ([#9657](https://github.com/containers/podman/issues/9657)).\n- Fixed a bug where containers created with `--privileged` could request more capabilities than were available to Podman.\n- Fixed a bug where `podman commit` did not use the `TMPDIR` environment variable to place temporary files created during the commit ([#9825](https://github.com/containers/podman/issues/9825)).\n- Fixed a bug where remote Podman could error when attempting to resize short-lived containers ([#9831](https://github.com/containers/podman/issues/9831)).\n- Fixed a bug where Podman was unusable on kernels built without `CONFIG_USER_NS`.\n- Fixed a bug where the ownership of volumes created by `podman volume create` and then mounted into a container could be incorrect ([#9608](https://github.com/containers/podman/issues/9608)).\n- Fixed a bug where Podman volumes using a volume plugin could not pass certain options, and could not be used as non-root users.\n- Fixed a bug where the `--tz` option to `podman create` and `podman run` did not properly validate its input.\n\n### API\n- Fixed a bug where the `X-Registry-Auth` header did not accept `null` as a valid value.\n- A new compat endpoint, `/auth`, has been added. This endpoint validates credentials against a registry ([#9564](https://github.com/containers/podman/issues/9564)).\n- Fixed a bug where the compat Build endpoint for Images specified labels using the wrong type (array vs map). Both formats will be accepted now.\n- Fixed a bug where the compat Build endpoint for Images did not report that it successfully tagged the built image in its response.\n- Fixed a bug where the compat Create endpoint for Images did not provide progress information on pulling the image in its response.\n- Fixed a bug where the compat Push endpoint for Images did not properly handle the destination (used a query parameter, instead of a path parameter).\n- Fixed a bug where the compat Push endpoint for Images did not send the progress of the push and the digest of the pushed image in the response body.\n- Fixed a bug where the compat List endpoint for Networks returned null, instead of an empty array (`[]`), when no networks were present ([#9293](https://github.com/containers/podman/issues/9293)).\n- Fixed a bug where the compat List endpoint for Networks returned nulls, instead of empty maps, for networks that do not have Labels and/or Options.\n- The Libpod Inspect endpoint for networks (`/libpod/network/$ID/json`) now has an alias at `/libpod/network/$ID` ([#9691](https://github.com/containers/podman/issues/9691)).\n- Fixed a bug where the libpod Inspect endpoint for Networks returned a 1-size array of results, instead of a single result ([#9690](https://github.com/containers/podman/issues/9690)).\n- The Compat List endpoint for Networks now supports the legacy format for filters in parallel with the current filter format ([#9526](https://github.com/containers/podman/issues/9526)).\n- Fixed a bug where the compat Create endpoint for Containers did not properly handle tmpfs filesystems specified with options ([#9511](https://github.com/containers/podman/issues/9511)).\n- Fixed a bug where the compat Create endpoint for Containers did not create bind-mount source directories ([#9510](https://github.com/containers/podman/issues/9510)).\n- Fixed a bug where the compat Create endpoint for Containers did not properly handle the `NanoCpus` option ([#9523](https://github.com/containers/podman/issues/9523)).\n- Fixed a bug where the Libpod create endpoint for Containers has a misnamed field in its JSON.\n- Fixed a bug where the compat List endpoint for Containers did not populate information on forwarded ports ([#9553](https://github.com/containers/podman/issues/9553))\n- Fixed a bug where the compat List endpoint for Containers did not populate information on container CNI networks ([#9529](https://github.com/containers/podman/issues/9529)).\n- Fixed a bug where the compat and libpod Stop endpoints for Containers would ignore a timeout of 0.\n- Fixed a bug where the compat and libpod Resize endpoints for Containers did not set the correct terminal sizes (dimensions were reversed) ([#9756](https://github.com/containers/podman/issues/9756)).\n- Fixed a bug where the compat Remove endpoint for Containers would not return 404 when attempting to remove a container that does not exist ([#9675](https://github.com/containers/podman/issues/9675)).\n- Fixed a bug where the compat Prune endpoint for Volumes would still prune even if an invalid filter was specified.\n- Numerous bugs related to filters have been addressed.\n\n### Misc\n- Updated Buildah to v1.20.0\n- Updated the containers/storage library to v1.28.1\n- Updated the containers/image library to v5.10.5\n- Updated the containers/common library to v0.35.4\n\n## 3.0.1\n### Changes\n- Several frequently-occurring `WARN` level log messages have been downgraded to `INFO` or `DEBUG` to not clutter terminal output.\n\n### Bugfixes\n- Fixed a bug where the `Created` field of `podman ps --format=json` was formatted as a string instead of an Unix timestamp (integer) ([#9315](https://github.com/containers/podman/issues/9315)).\n- Fixed a bug where failing lookups of individual layers during the `podman images` command would cause the whole command to fail without printing output.\n- Fixed a bug where `--cgroups=split` did not function properly on cgroups v1 systems.\n- Fixed a bug where mounting a volume over an directory in the container that existed, but was empty, could fail ([#9393](https://github.com/containers/podman/issues/9393)).\n- Fixed a bug where mounting a volume over a directory in the container that existed could copy the entirety of the container's rootfs, instead of just the directory mounted over, into the volume ([#9415](https://github.com/containers/podman/pull/9415)).\n- Fixed a bug where Podman would treat the `--entrypoint=[\"\"]` option to `podman run` and `podman create` as a literal empty string in the entrypoint, when instead it should have been ignored ([#9377](https://github.com/containers/podman/issues/9377)).\n- Fixed a bug where Podman would set the `HOME` environment variable to `\"\"` when the container ran as a user without an assigned home directory ([#9378](https://github.com/containers/podman/issues/9378)).\n- Fixed a bug where specifying a pod infra image that had no tags (by using its ID) would cause `podman pod create` to panic ([#9374](https://github.com/containers/podman/issues/9374)).\n- Fixed a bug where the `--runtime` option was not properly handled by the `podman build` command ([#9365](https://github.com/containers/podman/issues/9365)).\n- Fixed a bug where Podman would incorrectly print an error message related to the remote API when the remote API was not in use and starting Podman failed.\n- Fixed a bug where Podman would change ownership of a container's working directory, even if it already existed ([#9387](https://github.com/containers/podman/issues/9387)).\n- Fixed a bug where the `podman generate systemd --new` command would incorrectly escape `%t` when generating the path for the PID file ([#9373](https://github.com/containers/podman/issues/9373)).\n- Fixed a bug where Podman could, when run inside a Podman container with the host's containers/storage directory mounted into the container, erroneously detect a reboot and reset container state if the temporary directory was not also mounted in ([#9191](https://github.com/containers/podman/issues/9191)).\n- Fixed a bug where some options of the `podman build` command (including but not limited to `--jobs`) were nonfunctional ([#9247](https://github.com/containers/podman/issues/9247)).\n\n### API\n- Fixed a breaking change to the Libpod Wait API for Containers where the Conditions parameter changed type in Podman v3.0 ([#9351](https://github.com/containers/podman/issues/9351)).\n- Fixed a bug where the Compat Create endpoint for Containers did not properly handle forwarded ports that did not specify a host port.\n- Fixed a bug where the Libpod Wait endpoint for Containers could write duplicate headers after an error occurred.\n- Fixed a bug where the Compat Create endpoint for Images would not pull images that already had a matching tag present locally, even if a more recent version was available at the registry ([#9232](https://github.com/containers/podman/issues/9232)).\n- The Compat Create endpoint for Images has had its compatibility with Docker improved, allowing its use with the `docker-java` library.\n\n### Misc\n- Updated Buildah to v1.19.4\n- Updated the containers/storage library to v1.24.6\n\n## 3.0.0\n### Features\n- Podman now features initial support for Docker Compose.\n- Added the `podman rename` command, which allows containers to be renamed after they are created ([#1925](https://github.com/containers/podman/issues/1925)).\n- The Podman remote client now supports the `podman copy` command.\n- A new command, `podman network reload`, has been added. This command will re-configure the network of all running containers, and can be used to recreate firewall rules lost when the system firewall was reloaded (e.g. via `firewall-cmd --reload`).\n- Podman networks now have IDs. They can be seen in `podman network ls` and can be used when removing and inspecting networks. Existing networks receive IDs automatically.\n- Podman networks now also support labels. They can be added via the `--label` option to `network create`, and `podman network ls` can filter labels based on them.\n- The `podman network create` command now supports setting bridge MTU and VLAN through the `--opt` option ([#8454](https://github.com/containers/podman/issues/8454)).\n- The `podman container checkpoint` and `podman container restore` commands can now checkpoint and restore containers that include volumes.\n- The `podman container checkpoint` command now supports the `--with-previous` and `--pre-checkpoint` options, and the `podman container restore` command now support the `--import-previous` option. These add support for two-step checkpointing with lowered dump times.\n- The `podman push` command can now push manifest lists. Podman will first attempt to push as an image, then fall back to pushing as a manifest list if that fails.\n- The `podman generate kube` command can now be run on multiple containers at once, and will generate a single pod containing all of them.\n- The `podman generate kube` and `podman play kube` commands now support Kubernetes DNS configuration, and will preserve custom DNS configuration when exporting or importing YAML ([#9132](https://github.com/containers/podman/issues/9132)).\n- The `podman generate kube` command now properly supports generating YAML for containers and pods creating using host networking (`--net=host`) ([#9077](https://github.com/containers/podman/issues/9077)).\n- The `podman kill` command now supports a `--cidfile` option to kill containers given a file containing the container's ID ([#8443](https://github.com/containers/podman/issues/8443)).\n- The `podman pod create` command now supports the `--net=none` option ([#9165](https://github.com/containers/podman/issues/9165)).\n- The `podman volume create` command can now specify volume UID and GID as options with the `UID` and `GID` fields passed to the `--opt` option.\n- Initial support has been added for Docker Volume Plugins. Podman can now define available plugins in `containers.conf` and use them to create volumes with `podman volume create --driver`.\n- The `podman run` and `podman create` commands now support a new option, `--platform`, to specify the platform of the image to be used when creating the container.\n- The `--security-opt` option to `podman run` and `podman create` now supports the `systempaths=unconfined` option to unrestrict access to all paths in the container, as well as `mask` and `unmask` options to allow more granular restriction of container paths.\n- The `podman stats --format` command now supports a new format specified, `MemUsageBytes`, which prints the raw bytes of memory consumed by a container without human-readable formatting [#8945](https://github.com/containers/podman/issues/8945).\n- The `podman ps` command can now filter containers based on what pod they are joined to via the `pod` filter ([#8512](https://github.com/containers/podman/issues/8512)).\n- The `podman pod ps` command can now filter pods based on what networks they are joined to via the `network` filter.\n- The `podman pod ps` command can now print information on what networks a pod is joined to via the `.Networks` specifier to the `--format` option.\n- The `podman system prune` command now supports filtering what containers, pods, images, and volumes will be pruned.\n- The `podman volume prune` commands now supports filtering what volumes will be pruned.\n- The `podman system prune` command now includes information on space reclaimed ([#8658](https://github.com/containers/podman/issues/8658)).\n- The `podman info` command will now properly print information about packages in use on Gentoo and Arch systems.\n- The `containers.conf` file now contains an option for disabling creation of a new kernel keyring on container creation ([#8384](https://github.com/containers/podman/issues/8384)).\n- The `podman image sign` command can now sign multi-arch images by producing a signature for each image in a given manifest list.\n- The `podman image sign` command, when run as rootless, now supports per-user registry configuration files in `$HOME/.config/containers/registries.d`.\n- Configuration options for `slirp4netns` can now be set system-wide via the `NetworkCmdOptions` configuration option in `containers.conf`.\n- The MTU of `slirp4netns` can now be configured via the `mtu=` network command option (e.g. `podman run --net slirp4netns:mtu=9000`).\n\n### Security\n- A fix for CVE-2021-20199 is included. Podman between v1.8.0 and v2.2.1 used `127.0.0.1` as the source address for all traffic forwarded into rootless containers by a forwarded port; this has been changed to address the issue.\n\n### Changes\n- Shortname aliasing support has now been turned on by default. All Podman commands that must pull an image will, if a TTY is available, prompt the user about what image to pull.\n- The `podman load` command no longer accepts a `NAME[:TAG]` argument. The presence of this argument broke CLI compatibility with Docker by making `docker load` commands unusable with Podman ([#7387](https://github.com/containers/podman/issues/7387)).\n- The Go bindings for the HTTP API have been rewritten with a focus on limiting dependency footprint and improving extensibility. Read more [here](https://github.com/containers/podman/blob/v3.0/pkg/bindings/README.md).\n- The legacy Varlink API has been completely removed from Podman.\n- The default log level for Podman has been changed from Error to Warn.\n- The `podman network create` command can now create `macvlan` networks using the `--driver macvlan` option for Docker compatibility. The existing `--macvlan` flag has been deprecated and will be removed in Podman 4.0 some time next year.\n- The `podman inspect` command has had the `LogPath` and `LogTag` fields moved into the `LogConfig` structure (from the root of the Inspect structure). The maximum size of the log file is also included.\n- The `podman generate systemd` command no longer generates unit files using the deprecated `KillMode=none` option ([#8615](https://github.com/containers/podman/issues/8615)).\n- The `podman stop` command now releases the container lock while waiting for it to stop - as such, commands like `podman ps` will no longer block until `podman stop` completes ([#8501](https://github.com/containers/podman/issues/8501)).\n- Networks created with `podman network create --internal` no longer use the `dnsname` plugin. This configuration never functioned as expected.\n- Error messages for the remote Podman client have been improved when it cannot connect to a Podman service.\n- Error messages for `podman run` when an invalid SELinux is specified have been improved.\n- Rootless Podman features improved support for containers with a single user mapped into the rootless user namespace.\n- Pod infra containers now respect default sysctls specified in `containers.conf` allowing for advanced configuration of the namespaces they will share.\n- SSH public key handling for remote Podman has been improved.\n\n### Bugfixes\n- Fixed a bug where the `podman history --no-trunc` command would truncate the `Created By` field ([#9120](https://github.com/containers/podman/issues/9120)).\n- Fixed a bug where root containers that did not explicitly specify a CNI network to join did not generate an entry for the network in use in the `Networks` field of the output of `podman inspect` ([#6618](https://github.com/containers/podman/issues/6618)).\n- Fixed a bug where, under some circumstances, container working directories specified by the image (via the `WORKDIR` instruction) but not present in the image, would not be created ([#9040](https://github.com/containers/podman/issues/9040)).\n- Fixed a bug where the `podman generate systemd` command would generate invalid unit files if the container was creating using a command line that included doubled braces (`{{` and `}}`), e.g. `--log-opt-tag={{.Name}}` ([#9034](https://github.com/containers/podman/issues/9034)).\n- Fixed a bug where the `podman generate systemd --new` command could generate unit files including invalid Podman commands if the container was created using merged short options (e.g. `podman run -dt`) ([#8847](https://github.com/containers/podman/issues/8847)).\n- Fixed a bug where the `podman generate systemd --new` command could generate unit files that did not handle Podman commands including some special characters (e.g. `$`) ([#9176](https://github.com/containers/podman/issues/9176)\n- Fixed a bug where rootless containers joining CNI networks could not set a static IP address ([#7842](https://github.com/containers/podman/issues/7842)).\n- Fixed a bug where rootless containers joining CNI networks could not set network aliases ([#8567](https://github.com/containers/podman/issues/8567)).\n- Fixed a bug where the remote client could, under some circumstances, not include the `Containerfile` when sending build context to the server ([#8374](https://github.com/containers/podman/issues/8374)).\n- Fixed a bug where rootless Podman did not mount `/sys` as a new `sysfs` in some circumstances where it was acceptable.\n- Fixed a bug where rootless containers that both joined a user namespace and a CNI networks would cause a segfault. These options are incompatible and now return an error.\n- Fixed a bug where the `podman play kube` command did not properly handle `CMD` and `ARGS` from images ([#8803](https://github.com/containers/podman/issues/8803)).\n- Fixed a bug where the `podman play kube` command did not properly handle environment variables from images ([#8608](https://github.com/containers/podman/issues/8608)).\n- Fixed a bug where the `podman play kube` command did not properly print errors that occurred when starting containers.\n- Fixed a bug where the `podman play kube` command errored when `hostNetwork` was used ([#8790](https://github.com/containers/podman/issues/8790)).\n- Fixed a bug where the `podman play kube` command would always pull images when the `:latest` tag was specified, even if the image was available locally ([#7838](https://github.com/containers/podman/issues/7838)).\n- Fixed a bug where the `podman play kube` command did not properly handle SELinux configuration, rending YAML with custom SELinux configuration unusable ([#8710](https://github.com/containers/podman/issues/8710)).\n- Fixed a bug where the `podman generate kube` command incorrectly populated the `args` and `command` fields of generated YAML ([#9211](https://github.com/containers/podman/issues/9211)).\n- Fixed a bug where containers in a pod would create a duplicate entry in the pod's shared `/etc/hosts` file every time the container restarted ([#8921](https://github.com/containers/podman/issues/8921)).\n- Fixed a bug where the `podman search --list-tags` command did not support the `--format` option ([#8740](https://github.com/containers/podman/issues/8740)).\n- Fixed a bug where the `http_proxy` option in `containers.conf` was not being respected, and instead was set unconditionally to true ([#8843](https://github.com/containers/podman/issues/8843)).\n- Fixed a bug where rootless Podman could, on systems with a recent Conmon and users with a long username, fail to attach to containers ([#8798](https://github.com/containers/podman/issues/8798)).\n- Fixed a bug where the `podman images` command would break and fail to display any images if an empty manifest list was present in storage ([#8931](https://github.com/containers/podman/issues/8931)).\n- Fixed a bug where locale environment variables were not properly passed on to Conmon.\n- Fixed a bug where Podman would not build on the MIPS architecture ([#8782](https://github.com/containers/podman/issues/8782)).\n- Fixed a bug where rootless Podman could fail to properly configure user namespaces for rootless containers when the user specified a `--uidmap` option that included a mapping beginning with UID `0`.\n- Fixed a bug where the `podman logs` command using the `k8s-file` backend did not properly handle partial log lines with a length of 1 ([#8879](https://github.com/containers/podman/issues/8879)).\n- Fixed a bug where the `podman logs` command with the `--follow` option did not properly handle log rotation ([#8733](https://github.com/containers/podman/issues/8733)).\n- Fixed a bug where user-specified `HOSTNAME` environment variables were overwritten by Podman ([#8886](https://github.com/containers/podman/issues/8886)).\n- Fixed a bug where Podman would applied default sysctls from `containers.conf` in too many situations (e.g. applying network sysctls when the container shared its network with a pod).\n- Fixed a bug where Podman did not properly handle cases where a secondary image store was in use and an image was present in both the secondary and primary stores ([#8176](https://github.com/containers/podman/issues/8176)).\n- Fixed a bug where systemd-managed rootless Podman containers where the user in the container was not root could fail as the container's PID file was not accessible to systemd on the host ([#8506](https://github.com/containers/podman/issues/8506)).\n- Fixed a bug where the `--privileged` option to `podman run` and `podman create` would, under some circumstances, not disable Seccomp ([#8849](https://github.com/containers/podman/issues/8849)).\n- Fixed a bug where the `podman exec` command did not properly add capabilities when the container or exec session were run with `--privileged`.\n- Fixed a bug where rootless Podman would use the `--enable-sandbox` option to `slirp4netns` unconditionally, even when `pivot_root` was disabled, rendering `slirp4netns` unusable when `pivot_root` was disabled ([#8846](https://github.com/containers/podman/issues/8846)).\n- Fixed a bug where `podman build --logfile` did not actually write the build's log to the logfile.\n- Fixed a bug where the `podman system service` command did not close STDIN, and could display user-interactive prompts ([#8700](https://github.com/containers/podman/issues/8700)).\n- Fixed a bug where the `podman system reset` command could, under some circumstances, remove all the contents of the `XDG_RUNTIME_DIR` directory ([#8680](https://github.com/containers/podman/issues/8680)).\n- Fixed a bug where the `podman network create` command created CNI configurations that did not include a default gateway ([#8748](https://github.com/containers/podman/issues/8748)).\n- Fixed a bug where the `podman.service` systemd unit provided by default used the wrong service type, and would cause systemd to not correctly register the service as started ([#8751](https://github.com/containers/podman/issues/8751)).\n- Fixed a bug where, if the `TMPDIR` environment variable was set for the container engine in `containers.conf`, it was being ignored.\n- Fixed a bug where the `podman events` command did not properly handle future times given to the `--until` option ([#8694](https://github.com/containers/podman/issues/8694)).\n- Fixed a bug where the `podman logs` command wrote container `STDERR` logs to `STDOUT` instead of `STDERR` ([#8683](https://github.com/containers/podman/issues/8683)).\n- Fixed a bug where containers created from an image with multiple tags would report that they were created from the wrong tag ([#8547](https://github.com/containers/podman/issues/8547)).\n- Fixed a bug where container capabilities were not set properly when the `--cap-add=all` and `--user` options to `podman create` and `podman run` were combined.\n- Fixed a bug where the `--layers` option to `podman build` was nonfunctional ([#8643](https://github.com/containers/podman/issues/8643)).\n- Fixed a bug where the `podman system prune` command did not act recursively, and thus would leave images, containers, pods, and volumes present that would be removed by a subsequent call to `podman system prune` ([#7990](https://github.com/containers/podman/issues/7990)).\n- Fixed a bug where the `--publish` option to `podman run` and `podman create` did not properly handle ports specified as a range of ports with no host port specified ([#8650](https://github.com/containers/podman/issues/8650)).\n- Fixed a bug where `--format` did not support JSON output for individual fields ([#8444](https://github.com/containers/podman/issues/8444)).\n- Fixed a bug where the `podman stats` command would fail when run on root containers using the `slirp4netns` network mode ([#7883](https://github.com/containers/podman/issues/7883)).\n- Fixed a bug where the Podman remote client would ask for a password even if the server's SSH daemon did not support password authentication ([#8498](https://github.com/containers/podman/issues/8498)).\n- Fixed a bug where the `podman stats` command would fail if the system did not support one or more of the cgroup controllers Podman supports ([#8588](https://github.com/containers/podman/issues/8588)).\n- Fixed a bug where the `--mount` option to `podman create` and `podman run` did not ignore the `consistency` mount option.\n- Fixed a bug where failures during the resizing of a container's TTY would print the wrong error.\n- Fixed a bug where the `podman network disconnect` command could cause the `podman inspect` command to fail for a container until it was restarted ([#9234](https://github.com/containers/podman/issues/9234)).\n- Fixed a bug where containers created from a read-only rootfs (using the `--rootfs` option to `podman create` and `podman run`) would fail ([#9230](https://github.com/containers/podman/issues/9230)).\n- Fixed a bug where specifying Go templates to the `--format` option to multiple Podman commands did not support the `join` function ([#8773](https://github.com/containers/podman/issues/8773)).\n- Fixed a bug where the `podman rmi` command could, when run in parallel on multiple images, return `layer not known` errors ([#6510](https://github.com/containers/podman/issues/6510)).\n- Fixed a bug where the `podman inspect` command on containers displayed unlimited ulimits incorrectly ([#9303](https://github.com/containers/podman/issues/9303)).\n- Fixed a bug where Podman would fail to start when a volume was mounted over a directory in a container that contained symlinks that terminated outside the directory and its subdirectories ([#6003](https://github.com/containers/podman/issues/6003)).\n\n### API\n- Libpod API version has been bumped to v3.0.0.\n- All Libpod Pod APIs have been modified to properly report errors with individual containers. Cases where the operation as a whole succeeded but individual containers failed now report an HTTP 409 error ([#8865](https://github.com/containers/podman/issues/8865)).\n- The Compat API for Containers now supports the Rename and Copy APIs.\n- Fixed a bug where the Compat Prune APIs (for volumes, containers, and images) did not return the amount of space reclaimed in their responses.\n- Fixed a bug where the Compat and Libpod Exec APIs for Containers would drop errors that occurred prior to the exec session successfully starting (e.g. a \"no such file\" error if an invalid executable was passed) ([#8281](https://github.com/containers/podman/issues/8281))\n- Fixed a bug where the Volumes field in the Compat Create API for Containers was being ignored ([#8649](https://github.com/containers/podman/issues/8649)).\n- Fixed a bug where the NetworkMode field in the Compat Create API for Containers was not handling some values, e.g. `container:`, correctly.\n- Fixed a bug where the Compat Create API for Containers did not set container name properly.\n- Fixed a bug where containers created using the Compat Create API unconditionally used Kubernetes file logging (the default specified in `containers.conf` is now used).\n- Fixed a bug where the Compat Inspect API for Containers could include container states not recognized by Docker.\n- Fixed a bug where Podman did not properly clean up after calls to the Events API when the `journald` backend was in use, resulting in a leak of file descriptors ([#8864](https://github.com/containers/podman/issues/8864)).\n- Fixed a bug where the Libpod Pull endpoint for Images could fail with an `index out of range` error under certain circumstances ([#8870](https://github.com/containers/podman/issues/8870)).\n- Fixed a bug where the Libpod Exists endpoint for Images could panic.\n- Fixed a bug where the Compat List API for Containers did not support all filters ([#8860](https://github.com/containers/podman/issues/8860)).\n- Fixed a bug where the Compat List API for Containers did not properly populate the Status field.\n- Fixed a bug where the Compat and Libpod Resize APIs for Containers ignored the height and width parameters ([#7102](https://github.com/containers/podman/issues/7102)).\n- Fixed a bug where the Compat Search API for Images returned an incorrectly-formatted JSON response ([#8758](https://github.com/containers/podman/pull/8758)).\n- Fixed a bug where the Compat Load API for Images did not properly clean up temporary files.\n- Fixed a bug where the Compat Create API for Networks could panic when an empty IPAM configuration was specified.\n- Fixed a bug where the Compat Inspect and List APIs for Networks did not include Scope.\n- Fixed a bug where the Compat Wait endpoint for Containers did not support the same wait conditions that Docker did.\n\n### Misc\n- Updated Buildah to v1.19.2\n- Updated the containers/storage library to v1.24.5\n- Updated the containers/image library to v5.10.2\n- Updated the containers/common library to v0.33.4\n\n## v2.2.1\n### Changes\n- Due to a conflict with a previously-removed field, we were forced to modify the way image volumes (mounting images into containers using `--mount type=image`) were handled in the database. As a result, containers created in Podman 2.2.0 with image volumes will not have them in v2.2.1, and these containers will need to be re-created.\n\n### Bugfixes\n- Fixed a bug where rootless Podman would, on systems without the `XDG_RUNTIME_DIR` environment variable defined, use an incorrect path for the PID file of the Podman pause process, causing Podman to fail to start ([#8539](https://github.com/containers/podman/issues/8539)).\n- Fixed a bug where containers created using Podman v1.7 and earlier were unusable in Podman due to JSON decode errors ([#8613](https://github.com/containers/podman/issues/8613)).\n- Fixed a bug where Podman could retrieve invalid cgroup paths, instead of erroring, for containers that were not running.\n- Fixed a bug where the `podman system reset` command would print a warning about a duplicate shutdown handler being registered.\n- Fixed a bug where rootless Podman would attempt to mount `sysfs` in circumstances where it was not allowed; some OCI runtimes (notably `crun`) would fall back to alternatives and not fail, but others (notably `runc`) would fail to run containers.\n- Fixed a bug where the `podman run` and `podman create` commands would fail to create containers from untagged images ([#8558](https://github.com/containers/podman/issues/8558)).\n- Fixed a bug where remote Podman would prompt for a password even when the server did not support password authentication ([#8498](https://github.com/containers/podman/issues/8498)).\n- Fixed a bug where the `podman exec` command did not move the Conmon process for the exec session into the correct cgroup.\n- Fixed a bug where shell completion for the `ancestor` option to `podman ps --filter` did not work correctly.\n- Fixed a bug where detached containers would not properly clean themselves up (or remove themselves if `--rm` was set) if the Podman command that created them was invoked with `--log-level=debug`.\n\n### API\n- Fixed a bug where the Compat Create endpoint for Containers did not properly handle the `Binds` and `Mounts` parameters in `HostConfig`.\n- Fixed a bug where the Compat Create endpoint for Containers ignored the `Name` query parameter.\n- Fixed a bug where the Compat Create endpoint for Containers did not properly handle the \"default\" value for `NetworkMode` (this value is used extensively by `docker-compose`) ([#8544](https://github.com/containers/podman/issues/8544)).\n- Fixed a bug where the Compat Build endpoint for Images would sometimes incorrectly use the `target` query parameter as the image's tag.\n\n### Misc\n- Podman v2.2.0 vendored a non-released, custom version of the `github.com/spf13/cobra` package; this has been reverted to the latest upstream release to aid in packaging.\n- Updated the containers/image library to v5.9.0\n\n## 2.2.0\n### Features\n- Experimental support for shortname aliasing has been added. This is not enabled by default, but can be turned on by setting the environment variable `CONTAINERS_SHORT_NAME_ALIASING` to `on`. Documentation is [available here](https://github.com/containers/image/blob/main/docs/containers-registries.conf.5.md#short-name-aliasing).\n- Initial support has been added for the `podman network connect` and `podman network disconnect` commands, which allow existing containers to modify what networks they are connected to. At present, these commands can only be used on running containers that did not specify `--network=none` when they were created.\n- The `podman run` command now supports the `--network-alias` option to set network aliases (additional names the container can be accessed at from other containers via DNS if the `dnsname` CNI plugin is in use). Aliases can also be added and removed using the new `podman network connect` and `podman network disconnect` commands. Please note that this requires a new release (v1.1.0) of the `dnsname` plugin, and will only work on newly-created CNI networks.\n- The `podman generate kube` command now features support for exporting container's memory and CPU limits ([#7855](https://github.com/containers/podman/issues/7855)).\n- The `podman play kube` command now features support for setting CPU and Memory limits for containers ([#7742](https://github.com/containers/podman/issues/7742)).\n- The `podman play kube` command now supports persistent volumes claims using Podman named volumes.\n- The `podman play kube` command now supports Kubernetes configmaps via the `--configmap` option ([#7567](https://github.com/containers/podman/issues/7567)).\n- The `podman play kube` command now supports a `--log-driver` option to set the log driver for created containers.\n- The `podman play kube` command now supports a `--start` option, enabled by default, to start the pod after creating it. This allows for `podman play kube` to be more easily used in systemd unitfiles.\n- The `podman network create` command now supports the `--ipv6` option to enable dual-stack IPv6 networking for created networks ([#7302](https://github.com/containers/podman/issues/7302)).\n- The `podman inspect` command can now inspect pods, networks, and volumes, in addition to containers and images ([#6757](https://github.com/containers/podman/issues/6757)).\n- The `--mount` option for `podman run` and `podman create` now supports a new type, `image`, to mount the contents of an image into the container at a given location.\n- The Bash and ZSH completions have been completely reworked and have received significant enhancements! Additionally, support for Fish completions and completions for the `podman-remote` executable have been added.\n- The `--log-opt` option for `podman create` and `podman run` now supports the `max-size` option to set the maximum size for a container's logs ([#7434](https://github.com/containers/podman/issues/7434)).\n- The `--network` option to the `podman pod create` command now allows pods to be configured to use `slirp4netns` networking, even when run as root ([#6097](https://github.com/containers/podman/issues/6097)).\n- The `podman pod stop`, `podman pod pause`, `podman pod unpause`, and `podman pod kill` commands now work on multiple containers in parallel and should be significantly faster.\n- The `podman search` command now supports a `--list-tags` option to list all available tags for a single image in a single repository.\n- The `podman search` command can now output JSON using the `--format=json` option.\n- The `podman diff` and `podman mount` commands now work with all containers in the storage library, including those not created by Podman. This allows them to be used with Buildah and CRI-O containers.\n- The `podman container exists` command now features a `--external` option to check if a container exists not just in Podman, but also in the storage library. This will allow Podman to identify Buildah and CRI-O containers.\n- The `--tls-verify` and `--authfile` options have been enabled for use with remote Podman.\n- The `/etc/hosts` file now includes the container's name and hostname (both pointing to localhost) when the container is run with `--net=none` ([#8095](https://github.com/containers/podman/issues/8095)).\n- The `podman events` command now supports filtering events based on the labels of the container they occurred on using the `--filter label=key=value` option.\n- The `podman volume ls` command now supports filtering volumes based on their labels using the `--filter label=key=value` option.\n- The `--volume` and `--mount` options to `podman run` and `podman create` now support two new mount propagation options, `unbindable` and `runbindable`.\n- The `name` and `id` filters for `podman pod ps` now match based on a regular expression, instead of requiring an exact match.\n- The `podman pod ps` command now supports a new filter `status`, that matches pods in a certain state.\n\n### Changes\n- The `podman network rm --force` command will now also remove pods that are using the network ([#7791](https://github.com/containers/podman/issues/7791)).\n- The `podman volume rm`, `podman network rm`, and `podman pod rm` commands now return exit code 1 if the object specified for removal does not exist, and exit code 2 if the object is in use and the `--force` option was not given.\n- If `/dev/fuse` is passed into Podman containers as a device, Podman will open it before starting the container to ensure that the kernel module is loaded on the host and the device is usable in the container.\n- Global Podman options that were not supported with remote operation have been removed from `podman-remote` (e.g. `--cgroup-manager`, `--storage-driver`).\n- Many errors have been changed to remove repetition and be more clear as to what has gone wrong.\n- The `--storage` option to `podman rm` is now enabled by default, with slightly changed semantics. If the given container does not exist in Podman but does exist in the storage library, it will be removed even without the `--storage` option. If the container exists in Podman it will be removed normally. The `--storage` option for `podman rm` is now deprecated and will be removed in a future release.\n- The `--storage` option to `podman ps` has been renamed to `--external`. An alias has been added so the old form of the option will continue to work.\n- Podman now delays the SIGTERM and SIGINT signals during container creation to ensure that Podman is not stopped midway through creating a container resulting in potential resource leakage ([#7941](https://github.com/containers/podman/issues/7941)).\n- The `podman save` command now strips signatures from images it is exporting, as the formats we export to do not support signatures ([#7659](https://github.com/containers/podman/issues/7659)).\n- A new `Degraded` state has been added to pods. Pods that have some, but not all, of their containers running are now considered to be `Degraded` instead of `Running`.\n- Podman will now print a warning when conflicting network options related to port forwarding (e.g. `--publish` and `--net=host`) are specified when creating a container.\n- The `--restart on-failure` and `--rm` options for containers no longer conflict. When both are specified, the container will be restarted if it exits with a non-zero error code, and removed if it exits cleanly ([#7906](https://github.com/containers/podman/issues/7906)).\n- Remote Podman will no longer use settings from the client's `containers.conf`; defaults will instead be provided by the server's `containers.conf` ([#7657](https://github.com/containers/podman/issues/7657)).\n- The `podman network rm` command now has a new alias, `podman network remove` ([#8402](https://github.com/containers/podman/issues/8402)).\n\n### Bugfixes\n- Fixed a bug where `podman load` on the remote client did not error when attempting to load a directory, which is not yet supported for remote use.\n- Fixed a bug where rootless Podman could hang when the `newuidmap` binary was not installed ([#7776](https://github.com/containers/podman/issues/7776)).\n- Fixed a bug where the `--pull` option to `podman run`, `podman create`,  and `podman build` did not match Docker's behavior.\n- Fixed a bug where sysctl settings from the `containers.conf` configuration file were applied, even if the container did not join the namespace associated with a sysctl.\n- Fixed a bug where Podman would not return the text of errors encountered when trying to run a healthcheck for a container.\n- Fixed a bug where Podman was accidentally setting the `containers` environment variable in addition to the expected `container` environment variable.\n- Fixed a bug where rootless Podman using CNI networking did not properly clean up DNS entries for removed containers ([#7789](https://github.com/containers/podman/issues/7789)).\n- Fixed a bug where the `podman untag --all` command was not supported with remote Podman.\n- Fixed a bug where the `podman system service` command could time out even if active attach connections were present ([#7826](https://github.com/containers/podman/issues/7826)).\n- Fixed a bug where the `podman system service` command would sometimes never time out despite no active connections being present.\n- Fixed a bug where Podman's handling of capabilities, specifically inheritable, did not match Docker's.\n- Fixed a bug where `podman run` would fail if the image specified was a manifest list and had already been pulled ([#7798](https://github.com/containers/podman/pull/7798)).\n- Fixed a bug where Podman did not take search registries into account when looking up images locally ([#6381](https://github.com/containers/podman/issues/6381)).\n- Fixed a bug where the `podman manifest inspect` command would fail for images that had already been pulled ([#7726](https://github.com/containers/podman/issues/7726)).\n- Fixed a bug where rootless Podman would not add supplemental GIDs to containers when when a user, but not a group, was set via the `--user` option to `podman create` and `podman run` and sufficient GIDs were available to add the groups ([#7782](https://github.com/containers/podman/issues/7782)).\n- Fixed a bug where remote Podman commands did not properly handle cases where the user gave a name that could also be a short ID for a pod or container ([#7837](https://github.com/containers/podman/issues/7837)).\n- Fixed a bug where `podman image prune` could leave images ready to be pruned after `podman image prune` was run ([#7872](https://github.com/containers/podman/issues/7872)).\n- Fixed a bug where the `podman logs` command with the `journald` log driver would not read all available logs ([#7476](https://github.com/containers/podman/issues/7476)).\n- Fixed a bug where the `--rm` and `--restart` options to `podman create` and `podman run` did not conflict when a restart policy that is not `on-failure` was chosen ([#7878](https://github.com/containers/podman/issues/7878)).\n- Fixed a bug where the `--format \"table {{ .Field }}\"` option to numerous Podman commands ceased to function on Podman v2.0 and up.\n- Fixed a bug where pods did not properly share an SELinux label between their containers, resulting in containers being unable to see the processes of other containers when the pod shared a PID namespace ([#7886](https://github.com/containers/podman/issues/7886)).\n- Fixed a bug where the `--namespace` option to `podman ps` did not work with the remote client ([#7903](https://github.com/containers/podman/issues/7903)).\n- Fixed a bug where rootless Podman incorrectly calculated the number of UIDs available in the container if multiple different ranges of UIDs were specified.\n- Fixed a bug where the `/etc/hosts` file would not be correctly populated for containers in a user namespace ([#7490](https://github.com/containers/podman/issues/7490)).\n- Fixed a bug where the `podman network create` and `podman network remove` commands could race when run in parallel, with unpredictable results ([#7807](https://github.com/containers/podman/issues/7807)).\n- Fixed a bug where the `-p` option to `podman run`, `podman create`, and `podman pod create` would, when given only a single number (e.g. `-p 80`), assign the same port for both host and container, instead of generating a random host port ([#7947](https://github.com/containers/podman/issues/7947)).\n- Fixed a bug where Podman containers did not properly store the cgroup manager they were created with, causing them to stop functioning after the cgroup manager was changed in `containers.conf` or with the `--cgroup-manager` option ([#7830](https://github.com/containers/podman/issues/7830)).\n- Fixed a bug where the `podman inspect` command did not include information on the CNI networks a container was connected to if it was not running.\n- Fixed a bug where the `podman attach` command would not print a newline after detaching from the container ([#7751](https://github.com/containers/podman/issues/7751)).\n- Fixed a bug where the `HOME` environment variable was not set properly in containers when the `--userns=keep-id` option was set ([#8004](https://github.com/containers/podman/issues/8004)).\n- Fixed a bug where the `podman container restore` command could panic when the container in question was in a pod ([#8026](https://github.com/containers/podman/issues/8026)).\n- Fixed a bug where the output of the `podman image trust show --raw` command was not properly formatted.\n- Fixed a bug where the `podman runlabel` command could panic if a label to run was not given ([#8038](https://github.com/containers/podman/issues/8038)).\n- Fixed a bug where the `podman run` and `podman start --attach` commands would exit with an error when the user detached manually using the detach keys on remote Podman ([#7979](https://github.com/containers/podman/issues/7979)).\n- Fixed a bug where rootless CNI networking did not use the `dnsname` CNI plugin if it was not available on the host, despite it always being available in the container used for rootless networking ([#8040](https://github.com/containers/podman/issues/8040)).\n- Fixed a bug where Podman did not properly handle cases where an OCI runtime is specified by its full path, and could revert to using another OCI runtime with the same binary path that existed in the system `$PATH` on subsequent invocations.\n- Fixed a bug where the `--net=host` option to `podman create` and `podman run` would cause the `/etc/hosts` file to be incorrectly populated ([#8054](https://github.com/containers/podman/issues/8054)).\n- Fixed a bug where the `podman inspect` command did not include container network information when the container shared its network namespace (IE, joined a pod or another container's network namespace via `--net=container:...`) ([#8073](https://github.com/containers/podman/issues/8073)).\n- Fixed a bug where the `podman ps` command did not include information on all ports a container was publishing.\n- Fixed a bug where the `podman build` command incorrectly forwarded `STDIN` into build containers from `RUN` instructions.\n- Fixed a bug where the `podman wait` command's `--interval` option did not work when units were not specified for the duration ([#8088](https://github.com/containers/podman/issues/8088)).\n- Fixed a bug where the `--detach-keys` and `--detach` options could be passed to `podman create` despite having no effect (and not making sense in that context).\n- Fixed a bug where Podman could not start containers if running on a system without a `/etc/resolv.conf` file (which occurs on some WSL2 images) ([#8089](https://github.com/containers/podman/issues/8089)).\n- Fixed a bug where the `--extract` option to `podman cp` was nonfunctional.\n- Fixed a bug where the `--cidfile` option to `podman run` would, when the container was not run with `--detach`, only create the file after the container exited ([#8091](https://github.com/containers/podman/issues/8091)).\n- Fixed a bug where the `podman images` and `podman images -a` commands could panic and not list any images when certain improperly-formatted images were present in storage ([#8148](https://github.com/containers/podman/issues/8148)).\n- Fixed a bug where the `podman events` command could, when the `journald` events backend was in use, become nonfunctional when a badly-formatted event or a log message that container certain string was present in the journal ([#8125](https://github.com/containers/podman/issues/8125)).\n- Fixed a bug where remote Podman would, when using SSH transport, not authenticate to the server using hostkeys when connecting on a port other than 22 ([#8139](https://github.com/containers/podman/issues/8139)).\n- Fixed a bug where the `podman attach` command would not exit when containers stopped ([#8154](https://github.com/containers/podman/issues/8154)).\n- Fixed a bug where Podman did not properly clean paths before verifying them, resulting in Podman refusing to start if the root or temporary directories were specified with extra trailing `/` characters ([#8160](https://github.com/containers/podman/issues/8160)).\n- Fixed a bug where remote Podman did not support hashed hostnames in the `known_hosts` file on the host for establishing connections ([#8159](https://github.com/containers/podman/pull/8159)).\n- Fixed a bug where the `podman image exists` command would return non-zero (false) when multiple potential matches for the given name existed.\n- Fixed a bug where the `podman manifest inspect` command on images that are not manifest lists would error instead of inspecting the image ([#8023](https://github.com/containers/podman/issues/8023)).\n- Fixed a bug where the `podman system service` command would fail if the directory the Unix socket was to be created inside did not exist ([#8184](https://github.com/containers/podman/issues/8184)).\n- Fixed a bug where pods that shared the IPC namespace (which is done by default) did not share a `/dev/shm` filesystem between all containers in the pod ([#8181](https://github.com/containers/podman/issues/8181)).\n- Fixed a bug where filters passed to `podman volume list` were not inclusive ([#6765](https://github.com/containers/podman/issues/6765)).\n- Fixed a bug where the `podman volume create` command would fail when the volume's data directory already existed (as might occur when a volume was not completely removed) ([#8253](https://github.com/containers/podman/issues/8253)).\n- Fixed a bug where the `podman run` and `podman create` commands would deadlock when trying to create a container that mounted the same named volume at multiple locations (e.g. `podman run -v testvol:/test1 -v testvol:/test2`) ([#8221](https://github.com/containers/podman/issues/8221)).\n- Fixed a bug where the parsing of the `--net` option to `podman build` was incorrect ([#8322](https://github.com/containers/podman/issues/8322)).\n- Fixed a bug where the `podman build` command would print the ID of the built image twice when using remote Podman ([#8332](https://github.com/containers/podman/issues/8332)).\n- Fixed a bug where the `podman stats` command did not show memory limits for containers ([#8265](https://github.com/containers/podman/issues/8265)).\n- Fixed a bug where the `podman pod inspect` command printed the static MAC address of the pod in a non-human-readable format ([#8386](https://github.com/containers/podman/pull/8386)).\n- Fixed a bug where the `--tls-verify` option of the `podman play kube` command had its logic inverted (`false` would enforce the use of TLS, `true` would disable it).\n- Fixed a bug where the `podman network rm` command would error when trying to remove `macvlan` networks and rootless CNI networks ([#8491](https://github.com/containers/podman/issues/8491)).\n- Fixed a bug where Podman was not setting sane defaults for missing `XDG_` environment variables.\n- Fixed a bug where remote Podman would check if volume paths to be mounted in the container existed on the host, not the server ([#8473](https://github.com/containers/podman/issues/8473)).\n- Fixed a bug where the `podman manifest create` and `podman manifest add` commands on local images would drop any images in the manifest not pulled by the host.\n- Fixed a bug where networks made by `podman network create` did not include the `tuning` plugin, and as such did not support setting custom MAC addresses ([#8385](https://github.com/containers/podman/issues/8385)).\n- Fixed a bug where container healthchecks did not use `$PATH` when searching for the Podman executable to run the healthcheck.\n- Fixed a bug where the `--ip-range` option to `podman network create` did not properly handle non-classful subnets when calculating the last usable IP for DHCP assignment ([#8448](https://github.com/containers/podman/issues/8448)).\n- Fixed a bug where the `podman container ps` alias for `podman ps` was missing ([#8445](https://github.com/containers/podman/issues/8445)).\n\n### API\n- The Compat Create endpoint for Container has received a major refactor to share more code with the Libpod Create endpoint, and should be significantly more stable.\n- A Compat endpoint for exporting multiple images at once, `GET /images/get`, has been added ([#7950](https://github.com/containers/podman/issues/7950)).\n- The Compat Network Connect and Network Disconnect endpoints have been added.\n- Endpoints that deal with image registries now support a `X-Registry-Config` header to specify registry authentication configuration.\n- The Compat Create endpoint for images now properly supports specifying images by digest.\n- The Libpod Build endpoint for images now supports an `httpproxy` query parameter which, if set to true, will forward the server's HTTP proxy settings into the build container for `RUN` instructions.\n- The Libpod Untag endpoint for images will now remove all tags for the given image if no repository and tag are specified for removal.\n- Fixed a bug where the Ping endpoint misspelled a header name (`Libpod-Buildha-Version` instead of `Libpod-Buildah-Version`).\n- Fixed a bug where the Ping endpoint sent an extra newline at the end of its response where Docker did not.\n- Fixed a bug where the Compat Logs endpoint for containers did not send a newline character after each log line.\n- Fixed a bug where the Compat Logs endpoint for containers would mangle line endings to change newline characters to add a preceding carriage return ([#7942](https://github.com/containers/podman/issues/7942)).\n- Fixed a bug where the Compat Inspect endpoint for Containers did not properly list the container's stop signal ([#7917](https://github.com/containers/podman/issues/7917)).\n- Fixed a bug where the Compat Inspect endpoint for Containers formatted the container's create time incorrectly ([#7860](https://github.com/containers/podman/issues/7860)).\n- Fixed a bug where the Compat Inspect endpoint for Containers did not include the container's Path, Args, and Restart Count.\n- Fixed a bug where the Compat Inspect endpoint for Containers prefixed added and dropped capabilities with `CAP_` (Docker does not do so).\n- Fixed a bug where the Compat Info endpoint for the Engine did not include configured registries.\n- Fixed a bug where the server could panic if a client closed a connection midway through an image pull ([#7896](https://github.com/containers/podman/issues/7896)).\n- Fixed a bug where the Compat Create endpoint for volumes returned an error when a volume with the same name already existed, instead of succeeding with a 201 code ([#7740](https://github.com/containers/podman/issues/7740)).\n- Fixed a bug where a client disconnecting from the Libpod or Compat events endpoints could result in the server using 100% CPU ([#7946](https://github.com/containers/podman/issues/7946)).\n- Fixed a bug where the \"no such image\" error message sent by the Compat Inspect endpoint for Images returned a 404 status code with an error that was improperly formatted for Docker compatibility.\n- Fixed a bug where the Compat Create endpoint for networks did not properly set a default for the `driver` parameter if it was not provided by the client.\n- Fixed a bug where the Compat Inspect endpoint for images did not populate the `RootFS`, `VirtualSize`, `ParentId`, `Architecture`, `Os`, and `OsVersion` fields of the response.\n- Fixed a bug where the Compat Inspect endpoint for images would omit the `ParentId` field if the image had no parent, and the `Created` field if the image did not have a creation time.\n- Fixed a bug where the Compat Remove endpoint for Networks did not support the `Force` query parameter.\n\n### Misc\n- Updated Buildah to v1.18.0\n- Updated the containers/storage library to v1.24.1\n- Updated the containers/image library to v5.8.1\n- Updated the containers/common library to v0.27.0\n\n## 2.1.1\n### Changes\n- The `podman info` command now includes the cgroup manager Podman is using.\n\n### Bugfixes\n- Fixed a bug where Podman would not build with the `varlink` build tag enabled.\n- Fixed a bug where the `podman save` command could, when asked to save multiple images, write its progress bar to the archive instead of the terminal, producing a corrupted archive.\n- Fixed a bug where the `json-file` log driver did not write logs.\n- Fixed a bug where `podman-remote start --attach` did not properly handle detaching using the detach keys.\n- Fixed a bug where `podman pod ps --filter label=...` did not work.\n- Fixed a bug where the `podman build` command did not respect the `--runtime` flag.\n\n### API\n- The REST API now includes a Server header in all responses.\n- Fixed a bug where the Libpod and Compat Attach endpoints could terminate early, before sending all output from the container.\n- Fixed a bug where the Compat Create endpoint for containers did not properly handle the Interactive parameter.\n- Fixed a bug where the Compat Kill endpoint for containers could continue to run after a fatal error.\n- Fixed a bug where the Limit parameter of the Compat List endpoint for Containers did not properly handle a limit of 0 (returning nothing, instead of all containers) ([#7722](https://github.com/containers/podman/issues/7722)).\n- The Libpod Stats endpoint for containers is being deprecated and will be replaced by a similar endpoint with additional features in a future release.\n\n## 2.1.0\n### Features\n- A new command, `podman image mount`, has been added. This allows for an image to be mounted, read-only, to inspect its contents without creating a container from it ([#1433](https://github.com/containers/podman/issues/1433)).\n- The `podman save` and `podman load` commands can now create and load archives containing multiple images ([#2669](https://github.com/containers/podman/issues/2669)).\n- Rootless Podman now supports all `podman network` commands, and rootless containers can now be joined to networks.\n- The performance of `podman build` on `ADD` and `COPY` instructions has been greatly improved, especially when a `.dockerignore` is present.\n- The `podman run` and `podman create` commands now support a new mode for the `--cgroups` option, `--cgroups=split`. Podman will create two cgroups under the cgroup it was launched in, one for the container and one for Conmon. This mode is useful for running Podman in a systemd unit, as it ensures that all processes are retained in systemd's cgroup hierarchy ([#6400](https://github.com/containers/podman/issues/6400)).\n- The `podman run` and `podman create` commands can now specify options to slirp4netns by using the `--network` option as follows:  `--net slirp4netns:opt1,opt2`. This allows for, among other things, switching the port forwarder used by slirp4netns away from rootlessport.\n- The `podman ps` command now features a new option, `--storage`, to show containers from Buildah, CRI-O and other applications.\n- The `podman run` and `podman create` commands now feature a `--sdnotify` option to control the behavior of systemd's sdnotify with containers, enabling improved support for Podman in `Type=notify` units.\n- The `podman run` command now features a `--preserve-fds` option to pass file descriptors from the host into the container ([#6458](https://github.com/containers/podman/issues/6458)).\n- The `podman run` and `podman create` commands can now create overlay volume mounts, by adding the `:O` option to a bind mount (e.g. `-v /test:/test:O`). Overlay volume mounts will mount a directory into a container from the host and allow changes to it, but not write those changes back to the directory on the host.\n- The `podman play kube` command now supports the Socket HostPath type ([#7112](https://github.com/containers/podman/issues/7112)).\n- The `podman play kube` command now supports read-only mounts.\n- The `podman play kube` command now supports setting labels on pods from Kubernetes metadata labels.\n- The `podman play kube` command now supports setting container restart policy ([#7656](https://github.com/containers/podman/issues/7656)).\n- The `podman play kube` command now properly handles `HostAlias` entries.\n- The `podman generate kube` command now adds entries to `/etc/hosts` from `--host-add` generated YAML as `HostAlias` entries.\n- The `podman play kube` and `podman generate kube` commands now properly support `shareProcessNamespace` to share the PID namespace in pods.\n- The `podman volume ls` command now supports the `dangling` filter to identify volumes that are dangling (not attached to any container).\n- The `podman run` and `podman create` commands now feature a `--umask` option to set the umask of the created container.\n- The `podman create` and `podman run` commands now feature a `--tz` option to set the timezone within the container ([#5128](https://github.com/containers/podman/issues/5128)).\n- Environment variables for Podman can now be added in the `containers.conf` configuration file.\n- The `--mount` option of `podman run` and `podman create` now supports a new mount type, `type=devpts`, to add a `devpts` mount to the container. This is useful for containers that want to mount `/dev/` from the host into the container, but still create a terminal.\n- The `--security-opt` flag to `podman run` and `podman create` now supports a new option, `proc-opts`, to specify options for the container's `/proc` filesystem.\n- Podman with the `crun` OCI runtime now supports a new option to `podman run` and `podman create`, `--cgroup-conf`, which allows for advanced configuration of cgroups on cgroups v2 systems.\n- The `podman create` and `podman run` commands now support a `--override-variant` option, to override the architecture variant of the image that will be pulled and ran.\n- A new global option has been added to Podman, `--runtime-flags`, which allows for setting flags to use when the OCI runtime is called.\n- The `podman manifest add` command now supports the `--cert-dir`, `--auth-file`, `--creds`, and `--tls-verify` options.\n\n### Security\n- This release resolves CVE-2020-14370, in which environment variables could be leaked between containers created using the Varlink API.\n\n### Changes\n- Podman will now retry pulling an image 3 times if a pull fails due to network errors.\n- The `podman exec` command would previously print error messages (e.g. `exec session exited with non-zero exit code -1`) when the command run exited with a non-0 exit code. It no longer does this. The `podman exec` command will still exit with the same exit code as the command run in the container did.\n- Error messages when creating a container or pod with a name that is already in use have been improved.\n- For read-only containers running systemd init, Podman creates a tmpfs filesystem at `/run`. This was previously limited to 65k in size and mounted `noexec`, but is now unlimited size and mounted `exec`.\n- The `podman system reset` command no longer removes configuration files for rootless Podman.\n\n### Bugfixes\n- Fixed a bug where Podman would not add an entry to `/etc/hosts` for a container if it joined another container's network namespace ([#66782](https://github.com/containers/podman/issues/6678)).\n- Fixed a bug where `podman save --format oci-dir` saved the image in an incorrect format ([#6544](https://github.com/containers/podman/issues/6544)).\n- Fixed a bug where privileged containers would still configure an AppArmor profile.\n- Fixed a bug where the `--format` option of `podman system df` was not properly interpreting format codes that included backslashes ([#7149](https://github.com/containers/podman/issues/7149)).\n- Fixed a bug where rootless Podman would ignore errors from `newuidmap` and `newgidmap`, even if `/etc/subuid` and `/etc/subgid` contained valid mappings for the user running Podman.\n- Fixed a bug where the `podman commit` command did not properly handle single-character image names ([#7114](https://github.com/containers/podman/issues/7114)).\n- Fixed a bug where the output of `podman ps --format=json` did not include a `Status` field ([#6980](https://github.com/containers/podman/issues/6980)).\n- Fixed a bug where input to the `--log-level` option was no longer case-insensitive.\n- Fixed a bug where `podman images` could segfault when an image pull was aborted while incomplete, leaving an image without a manifest ([#7444](https://github.com/containers/podman/issues/7444)).\n- Fixed a bug where rootless Podman would try to create the `~/.config` directory when it did not exist, despite not placing any configuration files inside the directory.\n- Fixed a bug where the output of `podman system df` was inconsistent based on whether the `-v` option was specified ([#7405](https://github.com/containers/podman/issues/7405)).\n- Fixed a bug where `--security-opt apparmor=unconfined` would error if Apparmor was not enabled on the system ([#7545](https://github.com/containers/podman/issues/7545)).\n- Fixed a bug where running `podman stop` on multiple containers starting with `--rm` could sometimes cause `no such container` errors ([#7384](https://github.com/containers/podman/issues/7384)).\n- Fixed a bug where `podman-remote` would still try to contact the server when displaying help information about subcommands.\n- Fixed a bug where the `podman build --logfile` command would segfault.\n- Fixed a bug where the `podman generate systemd` command did not properly handle containers which were created with a name given as `--name=$NAME` instead of `--name $NAME` ([#7157](https://github.com/containers/podman/issues/7157)).\n- Fixed a bug where the `podman ps` was ignoring the `--latest` flag.\n- Fixed a bug where the `podman-remote kill` command would hang when a signal that did not kill the container was specified ([#7135](https://github.com/containers/podman/issues/7135)).\n- Fixed a bug where the `--oom-score-adj` option of `podman run` and `podman create` was nonfunctional.\n- Fixed a bug where the `--display` option of `podman runlabel` was nonfunctional.\n- Fixed a bug where the `podman runlabel` command would not pull images that did not exist locally on the system.\n- Fixed a bug where `podman-remote run` would not exit with the correct code with the container was removed by a `podman-remote rm -f` while `podman-remote run` was still running ([#7117](https://github.com/containers/podman/issues/7117)).\n- Fixed a bug where the `podman-remote run --rm` command would error attempting to remove containers that had already been removed (e.g. by `podman-remote rm --force`) ([#7340](https://github.com/containers/podman/issues/7340)).\n- Fixed a bug where `podman --user` with a numeric user and `podman run --userns=keepid` could create users in `/etc/passwd` in the container that belong to groups without a corresponding entry in `/etc/group` ([#7389](https://github.com/containers/podman/issues/7389)).\n- Fixed a bug where `podman run --userns=keepid` could create entries in `/etc/passwd` with a UID that was already in use by another user ([#7503](https://github.com/containers/podman/issues/7503)).\n- Fixed a bug where `podman --user` with a numeric user and `podman run --userns=keepid` could create users that could not be logged into ([#7499](https://github.com/containers/podman/issues/7499)).\n- Fixed a bug where trying to join another container's user namespace with `--userns container:$ID` would fail ([#7547](https://github.com/containers/podman/issues/7547)).\n- Fixed a bug where the `podman play kube` command would trim underscores from container names ([#7020](https://github.com/containers/podman/issues/7020)).\n- Fixed a bug where the `podman attach` command would not show output when attaching to a container with a terminal ([#6523](https://github.com/containers/podman/issues/6253)).\n- Fixed a bug where the `podman system df` command could be extremely slow when large quantities of images were present ([#7406](https://github.com/containers/podman/issues/7406)).\n- Fixed a bug where `podman images -a` would break if any image pulled by digest was present in the store ([#7651](https://github.com/containers/podman/issues/7651)).\n- Fixed a bug where the `--mount` option to `podman run` and `podman create` required the `type=` parameter to be passed first ([#7628](https://github.com/containers/podman/issues/7628)).\n- Fixed a bug where the `--infra-command` parameter to `podman pod create` was nonfunctional.\n- Fixed a bug where `podman auto-update` would fail for any container started with `--pull=always` ([#7407](https://github.com/containers/podman/issues/7407)).\n- Fixed a bug where the `podman wait` command would only accept a single argument.\n- Fixed a bug where the parsing of the `--volumes-from` option to `podman run` and `podman create` was broken, making it impossible to use multiple mount options at the same time ([#7701](https://github.com/containers/podman/issues/7701)).\n- Fixed a bug where the `podman exec` command would not join executed processes to the container's supplemental groups if the container was started with both the `--user` and `--group-add` options.\n- Fixed a bug where the `--iidfile` option to `podman-remote build` was nonfunctional.\n\n### API\n- The Libpod API version has been bumped to v2.0.0 due to a breaking change in the Image List API.\n- Docker-compatible Volume Endpoints (Create, Inspect, List, Remove, Prune) are now available!\n- Added an endpoint for generating systemd unit files for containers.\n- The `last` parameter to the Libpod container list endpoint now has an alias, `limit` ([#6413](https://github.com/containers/podman/issues/6413)).\n- The Libpod image list API new returns timestamps in Unix format, as integer, as opposed to as strings\n- The Compat Inspect endpoint for containers now includes port information in NetworkSettings.\n- The Compat List endpoint for images now features limited support for the (deprecated) `filter` query parameter ([#6797](https://github.com/containers/podman/issues/6797)).\n- Fixed a bug where the Compat Create endpoint for containers was not correctly handling bind mounts.\n- Fixed a bug where the Compat Create endpoint for containers would not return a 404 when the requested image was not present.\n- Fixed a bug where the Compat Create endpoint for containers did not properly handle Entrypoint and Command from images.\n- Fixed a bug where name history information was not properly added in the Libpod Image List endpoint.\n- Fixed a bug where the Libpod image search endpoint improperly populated the Description field of responses.\n- Added a `noTrunc` option to the Libpod image search endpoint.\n- Fixed a bug where the Pod List API would return null, instead of an empty array, when no pods were present ([#7392](https://github.com/containers/podman/issues/7392)).\n- Fixed a bug where endpoints that hijacked would do perform the hijack too early, before being ready to send and receive data ([#7195](https://github.com/containers/podman/issues/7195)).\n- Fixed a bug where Pod endpoints that can operate on multiple containers at once (e.g. Kill, Pause, Unpause, Stop) would not forward errors from individual containers that failed.\n- The Compat List endpoint for networks now supports filtering results ([#7462](https://github.com/containers/podman/issues/7462)).\n- Fixed a bug where the Top endpoint for pods would return both a 500 and 404 when run on a nonexistent pod.\n- Fixed a bug where Pull endpoints did not stream progress back to the client.\n- The Version endpoints (Libpod and Compat) now provide version in a format compatible with Docker.\n- All non-hijacking responses to API requests should not include headers with the version of the server.\n- Fixed a bug where Libpod and Compat Events endpoints did not send response headers until the first event occurred ([#7263](https://github.com/containers/podman/issues/7263)).\n- Fixed a bug where the Build endpoints (Compat and Libpod) did not stream progress to the client.\n- Fixed a bug where the Stats endpoints (Compat and Libpod) did not properly handle clients disconnecting.\n- Fixed a bug where the Ignore parameter to the Libpod Stop endpoint was not performing properly.\n- Fixed a bug where the Compat Logs endpoint for containers did not stream its output in the correct format ([#7196](https://github.com/containers/podman/issues/7196)).\n\n### Misc\n- Updated Buildah to v1.16.1\n- Updated the containers/storage library to v1.23.5\n- Updated the containers/image library to v5.6.0\n- Updated the containers/common library to v0.22.0\n\n## 2.0.6\n### Bugfixes\n- Fixed a bug where running systemd in a container on a cgroups v1 system would fail.\n- Fixed a bug where `/etc/passwd` could be re-created every time a container is restarted if the container's `/etc/passwd` did not contain an entry for the user the container was started as.\n- Fixed a bug where containers without an `/etc/passwd` file specifying a non-root user would not start.\n- Fixed a bug where the `--remote` flag would sometimes not make remote connections and would instead attempt to run Podman locally.\n\n### Misc\n- Updated the containers/common library to v0.14.10\n\n## 2.0.5\n### Features\n- Rootless Podman will now add an entry to `/etc/passwd` for the user who ran Podman if run with `--userns=keep-id`.\n- The `podman system connection` command has been reworked to support multiple connections, and re-enabled for use!\n- Podman now has a new global flag, `--connection`, to specify a connection to a remote Podman API instance.\n\n### Changes\n- Podman's automatic systemd integration (activated by the `--systemd=true` flag, set by default) will now activate for containers using `/usr/local/sbin/init` as their command, instead of just `/usr/sbin/init` and `/sbin/init` (and any path ending in `systemd`).\n- Seccomp profiles specified by the `--security-opt seccomp=...` flag to `podman create` and `podman run` will now be honored even if the container was created using `--privileged`.\n\n### Bugfixes\n- Fixed a bug where the `podman play kube` would not honor the `hostIP` field for port forwarding ([#5964](https://github.com/containers/podman/issues/5964)).\n- Fixed a bug where the `podman generate systemd` command would panic on an invalid restart policy being specified ([#7271](https://github.com/containers/podman/issues/7271)).\n- Fixed a bug where the `podman images` command could take a very long time (several minutes) to complete when a large number of images were present.\n- Fixed a bug where the `podman logs` command with the `--tail` flag would not work properly when a large amount of output would be printed ([#7230](https://github.com/containers/podman/issues/7230)).\n- Fixed a bug where the `podman exec` command with remote Podman would not return a non-zero exit code when the exec session failed to start (e.g. invoking a nonexistent command) ([#6893](https://github.com/containers/podman/issues/6893)).\n- Fixed a bug where the `podman load` command with remote Podman would did not honor user-specified tags ([#7124](https://github.com/containers/podman/issues/7124)).\n- Fixed a bug where the `podman system service` command, when run as a non-root user by Systemd, did not properly handle the Podman pause process and would not restart properly as a result ([#7180](https://github.com/containers/podman/issues/7180)).\n- Fixed a bug where the `--publish` flag to `podman create`, `podman run`, and `podman pod create` did not properly handle a host IP of 0.0.0.0 (attempting to bind to literal 0.0.0.0, instead of all IPs on the system) ([#7104](https://github.com/containers/podman/issues/7014)).\n- Fixed a bug where the `podman start --attach` command would not print the container's exit code when the command exited due to the container exiting.\n- Fixed a bug where the `podman rm` command with remote Podman would not remove volumes, even if the `--volumes` flag was specified ([#7128](https://github.com/containers/podman/issues/7128)).\n- Fixed a bug where the `podman run` command with remote Podman and the `--rm` flag could exit before the container was fully removed.\n- Fixed a bug where the `--pod new:...` flag to `podman run` and `podman create` would create a pod that did not share any namespaces.\n- Fixed a bug where the `--preserve-fds` flag to `podman run` and `podman exec` could close the wrong file descriptors while trying to close user-provided descriptors after passing them into the container.\n- Fixed a bug where default environment variables (`$PATH` and `$TERM`) were not set in containers when not provided by the image.\n- Fixed a bug where pod infra containers were not properly unmounted after exiting.\n- Fixed a bug where networks created with `podman network create` with an IPv6 subnet did not properly set an IPv6 default route.\n- Fixed a bug where the `podman save` command would not work properly when its output was piped to another command ([#7017](https://github.com/containers/podman/issues/7017)).\n- Fixed a bug where containers using a systemd init on a cgroups v1 system could leak mounts under `/sys/fs/cgroup/systemd` to the host.\n- Fixed a bug where `podman build` would not generate an event on completion ([#7022](https://github.com/containers/podman/issues/7022)).\n- Fixed a bug where the `podman history` command with remote Podman printed incorrect creation times for layers ([#7122](https://github.com/containers/podman/issues/7122)).\n- Fixed a bug where Podman would not create working directories specified by the container image if they did not exist.\n- Fixed a bug where Podman did not clear `CMD` from the container image if the user overrode `ENTRYPOINT` ([#7115](https://github.com/containers/podman/issues/7115)).\n- Fixed a bug where error parsing image names were not fully reported (part of the error message containing the exact issue was dropped).\n- Fixed a bug where the `podman images` command with remote Podman did not support printing image tags in Go templates supplied to the `--format` flag ([#7123](https://github.com/containers/podman/issues/7123)).\n- Fixed a bug where the `podman rmi --force` command would not attempt to unmount containers it was removing, which could cause a failure to remove the image.\n- Fixed a bug where the `podman generate systemd --new` command could incorrectly quote arguments to Podman that contained whitespace, leading to nonfunctional unit files ([#7285](https://github.com/containers/podman/issues/7285)).\n- Fixed a bug where the `podman version` command did not properly include build time and Git commit.\n- Fixed a bug where running systemd in a Podman container on a system that did not use the `systemd` cgroup manager would fail ([#6734](https://github.com/containers/podman/issues/6734)).\n- Fixed a bug where capabilities from `--cap-add` were not properly added when a container was started as a non-root user via `--user`.\n- Fixed a bug where Pod infra containers were not properly cleaned up when they stopped, causing networking issues ([#7103](https://github.com/containers/podman/issues/7103)).\n\n### API\n- Fixed a bug where the libpod and compat Build endpoints did not accept the `application/tar` content type (instead only accepting `application/x-tar`) ([#7185](https://github.com/containers/podman/issues/7185)).\n- Fixed a bug where the libpod Exists endpoint would attempt to write a second header in some error conditions ([#7197](https://github.com/containers/podman/issues/7197)).\n- Fixed a bug where compat and libpod Network Inspect and Network Remove endpoints would return a 500 instead of 404 when the requested network was not found.\n- Added a versioned `_ping` endpoint (e.g. `http://localhost/v1.40/_ping`).\n- Fixed a bug where containers started through a systemd-managed instance of the REST API would be shut down when `podman system service` shut down due to its idle timeout ([#7294](https://github.com/containers/podman/issues/7294)).\n- Added stronger parameter verification for the libpod Network Create endpoint to ensure subnet mask is a valid value.\n- The `Pod` URL parameter to the Libpod Container List endpoint has been deprecated; the information previously gated by the `Pod` boolean will now be included in the response unconditionally.\n\n### Misc\n- Updated Buildah to v1.15.1\n- Updated containers/image library to v5.5.2\n\n## 2.0.4\n### Bugfixes\n- Fixed a bug where the output of `podman image search` did not populate the Description field as it was mistakenly assigned to the ID field.\n- Fixed a bug where `podman build -` and `podman build` on an HTTP target would fail.\n- Fixed a bug where rootless Podman would improperly chown the copied-up contents of anonymous volumes ([#7130](https://github.com/containers/podman/issues/7130)).\n- Fixed a bug where Podman would sometimes HTML-escape special characters in its CLI output.\n- Fixed a bug where the `podman start --attach --interactive` command would print the container ID of the container attached to when exiting ([#7068](https://github.com/containers/podman/pull/7068)).\n- Fixed a bug where `podman run --ipc=host --pid=host` would only set `--pid=host` and not `--ipc=host` ([#7100](https://github.com/containers/podman/issues/7100)).\n- Fixed a bug where the `--publish` argument to `podman run`, `podman create` and `podman pod create` would not allow binding the same container port to more than one host port ([#7062](https://github.com/containers/podman/issues/7062)).\n- Fixed a bug where incorrect arguments to `podman images --format` could cause Podman to segfault.\n- Fixed a bug where `podman rmi --force` on an image ID with more than one name and at least one container using the image would not completely remove containers using the image ([#7153](https://github.com/containers/podman/issues/7153)).\n- Fixed a bug where memory usage in bytes and memory use percentage were swapped in the output of `podman stats --format=json`.\n\n### API\n- Fixed a bug where the libpod and compat events endpoints would fail if no filters were specified ([#7078](https://github.com/containers/podman/issues/7078)).\n- Fixed a bug where the `CgroupVersion` field in responses from the compat Info endpoint was prefixed by \"v\" (instead of just being \"1\" or \"2\", as is documented).\n\n## 2.0.3\n### Features\n- The `podman search` command now allows wildcards in search terms.\n- The `podman play kube` command now supports the `IfNotPresent` pull type.\n\n### Changes\n- The `--disable-content-trust` flag has been added to Podman for Docker compatibility. This is a Docker-specific option and has no effect in Podman; it is provided only to ensure command line compatibility for scripts ([#7034](https://github.com/containers/podman/issues/7034)).\n- Setting a static IP address or MAC address for rootless containers and pods now causes an error; previously, they were silently ignored.\n- The `/sys/dev` folder is now masked in containers to prevent a potential information leak from the host.\n\n### Bugfixes\n- Fixed a bug where rootless Podman would select the wrong cgroup manager on cgroups v1 systems where the user in question had an active systemd user session ([#6982](https://github.com/containers/podman/issues/6982)).\n- Fixed a bug where systems with Apparmor could not run privileged containers ([#6933](https://github.com/containers/podman/issues/6933)).\n- Fixed a bug where ENTRYPOINT and CMD from images were improperly handled by `podman play kube` ([#6995](https://github.com/containers/podman/issues/6995)).\n- Fixed a bug where the `--pids-limit` flag to `podman create` and `podman run` was parsed incorrectly and was unusable ([#6908](https://github.com/containers/podman/issues/6908)).\n- Fixed a bug where the `podman system df` command would error if untagged images were present ([#7015](https://github.com/containers/podman/issues/7015)).\n- Fixed a bug where the `podman images` command would display incorrect tags if a port number was included in the repository.\n- Fixed a bug where Podman did not set a default umask and default rlimits ([#6989](https://github.com/containers/podman/issues/6989)).\n- Fixed a bug where protocols in port mappings were not recognized unless they were lower-case ([#6948](https://github.com/containers/podman/issues/6948)).\n- Fixed a bug where information on pod infra containers was not included in the output of `podman pod inspect`.\n- Fixed a bug where Podman's systemd detection (activated by the enabled-by-default `--systemd=true` flag) would not flag a container for systemd mode if systemd was part of the entrypoint, not the command ([#6920](https://github.com/containers/podman/issues/6920)).\n- Fixed a bug where `podman start --attach` was not defaulting `--sig-proxy` to true ([#6928](https://github.com/containers/podman/issues/6928)).\n- Fixed a bug where `podman inspect` would show an incorrect command (`podman system service`, the command used to start the server) for containers created by a remote Podman client.\n- Fixed a bug where the `podman exec` command with the remote client would not print output if the `-t` or `-i` flags where not provided.\n- Fixed a bug where some variations of the `--format {{ json . }}` to `podman info` (involving added or removed whitespace) would not be accepted ([#6927](https://github.com/containers/podman/issues/6927)).\n- Fixed a bug where Entrypoint could not be cleared at the command line (if unset via `--entrypoint=\"\"`, it would be reset to the image's entrypoint) ([#6935](https://github.com/containers/podman/issues/6935)).\n\n### API\n- Fixed a bug where the events endpoints (both libpod and compat) could potentially panic on parsing filters.\n- Fixed a bug where the compat Create endpoint for containers did not properly handle Entrypoint and Command.\n- Fixed a bug where the Logs endpoint for containers (both libpod and compat) would not properly handle client disconnect, resulting in high CPU usage.\n- The type of filters on the compat events endpoint has been adjusted to match Docker's implementation ([#6899](https://github.com/containers/podman/issues/6899)).\n- The idle connection counter now properly handles hijacked connections.\n- All endpoints that hijack will now properly print headers per RFC 7230 standards.\n\n### Misc\n- Updated containers/common to v0.14.6\n\n## 2.0.2\n### Changes\n- The `podman system connection` command has been temporarily disabled, as it was not functioning as expected.\n\n### Bugfixes\n- Fixed a bug where the `podman ps` command would not truncate long container commands, resulting in display issues as the column could become extremely wide (the `--no-trunc` flag can be used to print the full command).\n- Fixed a bug where `podman pod` commands operating on multiple containers (e.g. `podman pod stop` and `podman pod kill`) would not print errors from individual containers, but only a warning that some containers had failed.\n- Fixed a bug where the `podman system service` command would panic if a connection to the Events endpoint hung up early ([#6805](https://github.com/containers/libpod/issues/6805)).\n- Fixed a bug where rootless Podman would create anonymous and named volumes with the wrong owner for containers run with the `--user` directive.\n- Fixed a bug where the `TMPDIR` environment variable (used for storing temporary files while pulling images) was not being defaulted (if unset) to `/var/tmp`.\n- Fixed a bug where the `--publish` flag to `podman create` and `podman run` required that a host port be specified if an IP address was given ([#6806](https://github.com/containers/libpod/issues/6806)).\n- Fixed a bug where in `podman-remote` commands performing an attach (`podman run`, `podman attach`, `podman start --attach`, `podman exec`) did not properly configure the terminal on Windows.\n- Fixed a bug where the `--remote` flag to Podman required an argument, despite being a boolean ([#6704](https://github.com/containers/libpod/issues/6704)).\n- Fixed a bug where the `podman generate systemd --new` command could generate incorrect unit files for a pod if a container in the pod was created using the `--pod=...` flag (with an =, instead of a space, before the pod ID) ([#6766](https://github.com/containers/libpod/issues/6766)).\n- Fixed a bug where `NPROC` and `NOFILE` rlimits could be improperly set for rootless Podman containers, causing them to fail to start.\n- Fixed a bug where `podman mount` as rootless did not error (the `podman mount` command cannot be run rootless unless it is run inside a `podman unshare` shell).\n- Fixed a bug where in some cases a race in events handling code could cause error messages related to retrieving events to be lost.\n\n### API\n- Fixed a bug where the timestamp format for Libpod image list endpoint was incorrect - the format has been switched to Unix time.\n- Fixed a bug where the compatibility Create endpoint did not handle empty entrypoints properly.\n- Fixed a bug where the compatibility network remove endpoint would improperly handle errors where the network was not found.\n- Fixed a bug where containers would be created with improper permissions because of a umask issue ([#6787](https://github.com/containers/libpod/issues/6787)).\n\n## 2.0.1\n### Changes\n- The `podman system connection` command was mistakenly omitted from the 2.0 release, and has been included here.\n- The `podman ps --format=json` command once again includes container's creation time in a human-readable format in the `CreatedAt` key.\n- The `podman inspect` commands on containers now displays forwarded ports in a format compatible with `docker inspect`.\n- The `--log-level=debug` flag to `podman run` and `podman exec` will enable syslog for exit commands, ensuring that debug logs are collected for these otherwise-unlogged commands.\n\n### Bugfixes\n- Fixed a bug where `podman build` did not properly handle the `--http-proxy` and `--cgroup-manager` flags.\n- Fixed a bug where error messages related to a missing or inaccessible `/etc/subuid` or `/etc/subgid` file were very unclear ([#6572](https://github.com/containers/libpod/issues/6572)).\n- Fixed a bug where the `podman logs --follow` command would not stop when the container being followed exited.\n- Fixed a bug where the `--privileged` flag had mistakenly been marked as conflicting with `--group-add` and `--security-opt`.\n- Fixed a bug where the `PODMAN_USERNS` environment variable was not being honored ([#6705](https://github.com/containers/libpod/issues/6705)).\n- Fixed a bug where the `podman image load` command would require one argument be passed, when no arguments is also valid ([#6718](https://github.com/containers/libpod/issues/6718)).\n- Fixed a bug where the bash completions did not include the `podman network` command and its subcommands.\n- Fixed a bug where the mount command would not work inside of rootless containers ([#6735](https://github.com/containers/libpod/issues/6735)).\n- Fixed a bug where SSH agent authentication support was not properly working in the `podman-remote` and `podman --remote` commands.\n- Fixed a bug where the `podman untag` command was not erroring when no matching image was found.\n- Fixed a bug where stop signal for containers was not being set properly if not explicitly provided.\n- Fixed a bug where the `podman ps` command was not showing port mappings for containers which share a network namespace with another container (e.g. are part of a pod).\n- Fixed a bug where the `--remote` flag could unintentionally be forwarded into containers when using `podman-remote`.\n- Fixed a bug where unit files generated for pods by `podman generate systemd` would not allow individual containers to be restarted ([#6770](https://github.com/containers/libpod/issues/6770)).\n- Fixed a bug where the `podman run` and `podman create` commands did not support all transports that `podman pull` does ([#6744](https://github.com/containers/libpod/issues/6744)).\n- Fixed a bug where the `label` option to `--security-opt` would only be shown once in `podman inspect`, even if provided multiple times.\n\n### API\n- Fixed a bug where network endpoint URLs in the compatibility API were mistakenly suffixed with `/json`.\n- Fixed a bug where the Libpod volume creation endpoint returned 200 instead of 201 on success.\n\n### Misc\n- Updated containers/common to v0.14.3\n\n## 2.0.0\n### Features\n- The REST API and `podman system service` are no longer experimental, and ready for use!\n- The Podman command now supports remotely connections via the REST API using the `--remote` flag.\n- The Podman remote client has been entirely rewritten to use the HTTP API instead of Varlink.\n- The `podman system connection` command has been added to allow configuring the endpoint that `podman-remote` and `podman --remote` will connect to.\n- The `podman generate systemd` command now supports the `--new` flag when used with pods, allowing portable services for pods to be created.\n- The `podman play kube` command now supports running Kubernetes Deployment YAML.\n- The `podman exec` command now supports the `--detach` flag to run commands in the container in the background.\n- The `-p` flag to `podman run` and `podman create` now supports forwarding ports to IPv6 addresses.\n- The `podman run`, `podman create` and `podman pod create` command now support a `--replace` flag to remove and replace any existing container (or, for `pod create`, pod) with the same name\n- The `--restart-policy` flag to `podman run` and `podman create` now supports the `unless-stopped` restart policy.\n- The `--log-driver` flag to `podman run` and `podman create` now supports the `none` driver, which does not log the container's output.\n- The `--mount` flag to `podman run` and `podman create` now accepts `readonly` option as an alias to `ro`.\n- The `podman generate systemd` command now supports the `--container-prefix`, `--pod-prefix`, and `--separator` arguments to control the name of generated unit files.\n- The `podman network ls` command now supports the `--filter` flag to filter results.\n- The `podman auto-update` command now supports specifying an authfile to use when pulling new images on a per-container basis using the `io.containers.autoupdate.authfile` label.\n\n### Changes\n- Varlink support, including the `podman varlink` command, is deprecated and will be removed in the next release.\n- As part of the implementation of the REST API, JSON output for some commands (`podman ps`, `podman images` most notably) has changed.\n- Named and anonymous volumes and `tmpfs` filesystems added to containers are no longer mounted `noexec` by default.\n\n### Bugfixes\n- Fixed a bug where the `podman exec` command would log to journald when run in containers logged to journald ([#6555](https://github.com/containers/podman/issues/6555)).\n- Fixed a bug where the `podman auto-update` command would not preserve the OS and architecture of the original image when pulling a replacement ([#6613](https://github.com/containers/podman/issues/6613)).\n- Fixed a bug where the `podman cp` command could create an extra `merged` directory when copying into an existing directory ([#6596](https://github.com/containers/podman/issues/6596)).\n- Fixed a bug where the `podman pod stats` command would crash on pods run with `--network=host` ([#5652](https://github.com/containers/podman/issues/5652)).\n- Fixed a bug where containers logs written to journald did not include the name of the container.\n- Fixed a bug where the `podman network inspect` and `podman network rm` commands did not properly handle non-default CNI configuration paths ([#6212](https://github.com/containers/podman/issues/6212)).\n- Fixed a bug where Podman did not properly remove containers when using the Kata containers OCI runtime.\n- Fixed a bug where `podman inspect` would sometimes incorrectly report the network mode of containers started with `--net=none`.\n- Podman is now better able to deal with cases where `conmon` is killed before the container it is monitoring.\n\n### Misc\n- The default Podman CNI configuration now sets `HairpinMode` to allow communication between containers by connecting to a forwarded port on the host.\n- Updated Buildah to v1.15.0\n- Updated containers/storage to v1.20.2\n- Updated containers/image to v5.5.1\n- Updated containers/common to v0.14.0\n\n## 1.9.3\n### Bugfixes\n- Fixed a bug where, on FIPS enabled hosts, FIPS mode secrets were not properly mounted into containers\n- Fixed a bug where builds run over Varlink would hang ([#6237](https://github.com/containers/podman/issues/6237))\n\n### Misc\n- Named volumes and tmpfs filesystems will no longer default to mounting `noexec` for improved compatibility with Docker\n- Updated Buildah to v1.14.9\n\n## 1.9.2\n### Bugfixes\n- Fixed a bug where `podman save` would fail when the target image was specified by digest ([#5234](https://github.com/containers/podman/issues/5234))\n- Fixed a bug where rootless containers with ports forwarded to them could panic and dump core due to a concurrency issue ([#6018](https://github.com/containers/podman/issues/6018))\n- Fixed a bug where rootless Podman could race when opening the rootless user namespace, resulting in commands failing to run\n- Fixed a bug where HTTP proxy environment variables forwarded into the container by the `--http-proxy` flag could not be overridden by `--env` or `--env-file` ([#6017](https://github.com/containers/podman/issues/6017))\n- Fixed a bug where rootless Podman was setting resource limits on cgroups v2 systems that were not using systemd-managed cgroups (and thus did not support resource limits), resulting in containers failing to start\n\n### Misc\n- Rootless containers will now automatically set their ulimits to the maximum allowed for the user running the container, to match the behavior of containers run as root\n- Packages managed by the core Podman team will no longer include a default `libpod.conf`, instead defaulting to `containers.conf`. The default libpod.conf will remain available in the GitHub repository until the release of Podman 2.0\n- The default Podman CNI network configuration now sets HairpinMode to allow containers to access other containers via ports published on the host\n- Updated containers/common to v0.8.4\n\n## 1.9.1\n### Bugfixes\n- Fixed a bug where healthchecks could become nonfunctional if container log paths were manually set with `--log-path` and multiple container logs were placed in the same directory ([#5915](https://github.com/containers/podman/issues/5915))\n- Fixed a bug where rootless Podman could, when using an older `libpod.conf`, print numerous warning messages about an invalid CGroup manager config\n- Fixed a bug where rootless Podman would sometimes fail to close the rootless user namespace when joining it ([#5873](https://github.com/containers/podman/issues/5873))\n\n### Misc\n- Updated containers/common to v0.8.2\n\n## 1.9.0\n### Features\n- Experimental support has been added for `podman run --userns=auto`, which automatically allocates a unique UID and GID range for the new container's user namespace\n- The `podman play kube` command now has a `--network` flag to place the created pod in one or more CNI networks\n- The `podman commit` command now supports an `--iidfile` flag to write the ID of the committed image to a file\n- Initial support for the new `containers.conf` configuration file has been added. `containers.conf` allows for much more detailed configuration of some Podman functionality\n\n### Changes\n- There has been a major cleanup of the `podman info` command resulting in breaking changes. Many fields have been renamed to better suit usage with APIv2\n- All uses of the `--timeout` flag have been switched to prefer the alternative `--time`. The `--timeout` flag will continue to work, but man pages and `--help` will use the `--time` flag instead\n\n### Bugfixes\n- Fixed a bug where some volume mounts from the host would sometimes not properly determine the flags they should use when mounting\n- Fixed a bug where Podman was not propagating `$PATH` to Conmon and the OCI runtime, causing issues for some OCI runtimes that required it\n- Fixed a bug where rootless Podman would print error messages about missing support for systemd cgroups when run in a container with no cgroup support ([#5488](https://github.com/containers/podman/issues/5488))\n- Fixed a bug where `podman play kube` would not properly handle container-only port mappings ([#5610](https://github.com/containers/podman/issues/5610))\n- Fixed a bug where the `podman container prune` command was not pruning containers in the `created` and `configured` states\n- Fixed a bug where Podman was not properly removing CNI IP address allocations after a reboot ([#5433](https://github.com/containers/podman/issues/5433))\n- Fixed a bug where Podman was not properly applying the default Seccomp profile when `--security-opt` was not given at the command line\n\n### HTTP API\n- Many Libpod API endpoints have been added, including `Changes`, `Checkpoint`, `Init`, and `Restore`\n- Resolved issues where the `podman system service` command would time out and exit while there were still active connections\n- Stability overall has greatly improved as we prepare the API for a beta release soon with Podman 2.0\n\n### Misc\n- The default infra image for pods has been upgraded to `k8s.gcr.io/pause:3.2` (from 3.1) to address a bug in the architecture metadata for non-AMD64 images\n- The `slirp4netns` networking utility in rootless Podman now uses Seccomp filtering where available for improved security\n- Updated Buildah to v1.14.8\n- Updated containers/storage to v1.18.2\n- Updated containers/image to v5.4.3\n- Updated containers/common to v0.8.1\n\n## 1.8.2\n### Features\n- Initial support for automatically updating containers managed via Systemd unit files has been merged. This allows containers to automatically upgrade if a newer version of their image becomes available\n\n### Bugfixes\n- Fixed a bug where unit files generated by `podman generate systemd --new` would not force containers to detach, causing the unit to time out when trying to start\n- Fixed a bug where `podman system reset` could delete important system directories if run as rootless on installations created by older Podman ([#4831](https://github.com/containers/podman/issues/4831))\n- Fixed a bug where image built by `podman build` would not properly set the OS and Architecture they were built with ([#5503](https://github.com/containers/podman/issues/5503))\n- Fixed a bug where attached `podman run` with `--sig-proxy` enabled (the default), when built with Go 1.14, would repeatedly send signal 23 to the process in the container and could generate errors when the container stopped ([#5483](https://github.com/containers/podman/issues/5483))\n- Fixed a bug where rootless `podman run` commands could hang when forwarding ports\n- Fixed a bug where rootless Podman would not work when `/proc` was mounted with the `hidepid` option set\n- Fixed a bug where the `podman system service` command would use large amounts of CPU when `--timeout` was set to 0 ([#5531](https://github.com/containers/podman/issues/5531))\n\n### HTTP API\n- Initial support for Libpod endpoints related to creating and operating on image manifest lists has been added\n- The Libpod Healthcheck and Events API endpoints are now supported\n- The Swagger endpoint can now handle cases where no Swagger documentation has been generated\n\n### Misc\n- Updated Buildah to v1.14.3\n- Updated containers/storage to v1.16.5\n- Several performance improvements have been made to creating containers, which should somewhat improve the performance of `podman create` and `podman run`\n\n## 1.8.1\n### Features\n- Many networking-related flags have been added to `podman pod create` to enable customization of pod networks, including `--add-host`, `--dns`, `--dns-opt`, `--dns-search`, `--ip`, `--mac-address`, `--network`, and `--no-hosts`\n- The `podman ps --format=json` command now includes the ID of the image containers were created with\n- The `podman run` and `podman create` commands now feature an `--rmi` flag to remove the image the container was using after it exits (if no other containers are using said image) ([#4628](https://github.com/containers/podman/issues/4628))\n- The `podman create` and `podman run` commands now support the `--device-cgroup-rule` flag ([#4876](https://github.com/containers/podman/issues/4876))\n- While the HTTP API remains in alpha, many fixes and additions have landed. These are documented in a separate subsection below\n- The `podman create` and `podman run` commands now feature a `--no-healthcheck` flag to disable healthchecks for a container ([#5299](https://github.com/containers/podman/issues/5299))\n- Containers now recognize the `io.containers.capabilities` label, which specifies a list of capabilities required by the image to run. These capabilities will be used as long as they are more restrictive than the default capabilities used\n- YAML produced by the `podman generate kube` command now includes SELinux configuration passed into the container via `--security-opt label=...` ([#4950](https://github.com/containers/podman/issues/4950))\n\n### Bugfixes\n- Fixed CVE-2020-1726, a security issue where volumes manually populated before first being mounted into a container could have those contents overwritten on first being mounted into a container\n- Fixed a bug where Podman containers with user namespaces in CNI networks with the DNS plugin enabled would not have the DNS plugin's nameserver added to their `resolv.conf` ([#5256](https://github.com/containers/podman/issues/5256))\n- Fixed a bug where trailing `/` characters in image volume definitions could cause them to not be overridden by a user-specified mount at the same location ([#5219](https://github.com/containers/podman/issues/5219))\n- Fixed a bug where the `label` option in `libpod.conf`, used to disable SELinux by default, was not being respected ([#5087](https://github.com/containers/podman/issues/5087))\n- Fixed a bug where the `podman login` and `podman logout` commands required the registry to log into be specified ([#5146](https://github.com/containers/podman/issues/5146))\n- Fixed a bug where detached rootless Podman containers could not forward ports ([#5167](https://github.com/containers/podman/issues/5167))\n- Fixed a bug where rootless Podman could fail to run if the pause process had died\n- Fixed a bug where Podman ignored labels that were specified with only a key and no value ([#3854](https://github.com/containers/podman/issues/3854))\n- Fixed a bug where Podman would fail to create named volumes when the backing filesystem did not support SELinux labelling ([#5200](https://github.com/containers/podman/issues/5200))\n- Fixed a bug where `--detach-keys=\"\"` would not disable detaching from a container ([#5166](https://github.com/containers/podman/issues/5166))\n- Fixed a bug where the `podman ps` command was too aggressive when filtering containers and would force `--all` on in too many situations\n- Fixed a bug where the `podman play kube` command was ignoring image configuration, including volumes, working directory, labels, and stop signal ([#5174](https://github.com/containers/podman/issues/5174))\n- Fixed a bug where the `Created` and `CreatedTime` fields in `podman images --format=json` were misnamed, which also broke Go template output for those fields ([#5110](https://github.com/containers/podman/issues/5110))\n- Fixed a bug where rootless Podman containers with ports forwarded could hang when started ([#5182](https://github.com/containers/podman/issues/5182))\n- Fixed a bug where `podman pull` could fail to parse registry names including port numbers\n- Fixed a bug where Podman would incorrectly attempt to validate image OS and architecture when starting containers\n- Fixed a bug where Bash completion for `podman build -f` would not list available files that could be built ([#3878](https://github.com/containers/podman/issues/3878))\n- Fixed a bug where `podman commit --change` would perform incorrect validation, resulting in valid changes being rejected ([#5148](https://github.com/containers/podman/issues/5148))\n- Fixed a bug where `podman logs --tail` could take large amounts of memory when the log file for a container was large ([#5131](https://github.com/containers/podman/issues/5131))\n- Fixed a bug where Podman would sometimes incorrectly generate firewall rules on systems using `firewalld`\n- Fixed a bug where the `podman inspect` command would not display network information for containers properly if a container joined multiple CNI networks ([#4907](https://github.com/containers/podman/issues/4907))\n- Fixed a bug where the `--uts` flag to `podman create` and `podman run` would only allow specifying containers by full ID ([#5289](https://github.com/containers/podman/issues/5289))\n- Fixed a bug where rootless Podman could segfault when passed a large number of file descriptors\n- Fixed a bug where the `podman port` command was incorrectly interpreting additional arguments as container names, instead of port numbers\n- Fixed a bug where units created by `podman generate systemd` did not depend on network targets, and so could start before the system network was ready ([#4130](https://github.com/containers/podman/issues/4130))\n- Fixed a bug where exec sessions in containers which did not specify a user would not inherit supplemental groups added to the container via `--group-add`\n- Fixed a bug where Podman would not respect the `$TMPDIR` environment variable for placing large temporary files during some operations (e.g. `podman pull`) ([#5411](https://github.com/containers/podman/issues/5411))\n\n### HTTP API\n- Initial support for secure connections to servers via SSH tunneling has been added\n- Initial support for the libpod `create` and `logs` endpoints for containers has been added\n- Added a `/swagger/` endpoint to serve API documentation\n- The `json` endpoint for containers has received many fixes\n- Filtering images and containers has been greatly improved, with many bugs fixed and documentation improved\n- Image creation endpoints (commit, pull, etc) have seen many fixes\n- Server timeout has been fixed so that long operations will no longer trigger the timeout and shut the server down\n- The `stats` endpoint for containers has seen major fixes and now provides accurate output\n- Handling the HTTP 304 status code has been fixed for all endpoints\n- Many fixes have been made to API documentation to ensure it matches the code\n\n### Misc\n- Updated vendored Buildah to v1.14.2\n- Updated vendored containers/storage to v1.16.2\n- The `Created` field to `podman images --format=json` has been renamed to `CreatedSince` as part of the fix for ([#5110](https://github.com/containers/podman/issues/5110)). Go templates using the old name should still work\n- The `CreatedTime` field to `podman images --format=json` has been renamed to `CreatedAt` as part of the fix for ([#5110](https://github.com/containers/podman/issues/5110)). Go templates using the old name should still work\n- The `before` filter to `podman images` has been renamed to `since` for Docker compatibility. Using `before` will still work, but documentation has been changed to use the new `since` filter\n- Using the `--password` flag to `podman login` now warns that passwords are being passed in plaintext\n- Some common cases where Podman would deadlock have been fixed to warn the user that `podman system renumber` must be run to resolve the deadlock\n\n## 1.8.0\n### Features\n- The `podman system service` command has been added, providing a preview of Podman's new Docker-compatible API. This API is still very new, and not yet ready for production use, but is available for early testing\n- Rootless Podman now uses Rootlesskit for port forwarding, which should greatly improve performance and capabilities\n- The `podman untag` command has been added to remove tags from images without deleting them\n- The `podman inspect` command on images now displays previous names they used\n- The `podman generate systemd` command now supports a `--new` option to generate service files that create and run new containers instead of managing existing containers\n- Support for `--log-opt tag=` to set logging tags has been added to the `journald` log driver\n- Added support for using Seccomp profiles embedded in images for `podman run` and `podman create` via the new `--seccomp-policy` CLI flag ([#4806](https://github.com/containers/podman/pull/4806))\n- The `podman play kube` command now honors pull policy ([#4880](https://github.com/containers/podman/issues/4880))\n\n### Bugfixes\n- Fixed a bug where the `podman cp` command would not copy the contents of directories when paths ending in `/.` were given ([#4717](https://github.com/containers/podman/issues/4717))\n- Fixed a bug where the `podman play kube` command did not properly locate Seccomp profiles specified relative to localhost ([#4555](https://github.com/containers/podman/issues/4555))\n- Fixed a bug where the `podman info` command for remote Podman did not show registry information ([#4793](https://github.com/containers/podman/issues/4793))\n- Fixed a bug where the `podman exec` command did not support having input piped into it ([#3302](https://github.com/containers/podman/issues/3302))\n- Fixed a bug where the `podman cp` command with rootless Podman on CGroups v2 systems did not properly determine if the container could be paused while copying ([#4813](https://github.com/containers/podman/issues/4813))\n- Fixed a bug where the `podman container prune --force` command could possible remove running containers if they were started while the command was running ([#4844](https://github.com/containers/podman/issues/4844))\n- Fixed a bug where Podman, when run as root, would not properly configure `slirp4netns` networking when requested ([#4853](https://github.com/containers/podman/pull/4853))\n- Fixed a bug where `podman run --userns=keep-id` did not work when the user had a UID over 65535 ([#4838](https://github.com/containers/podman/issues/4838))\n- Fixed a bug where rootless `podman run` and `podman create` with the `--userns=keep-id` option could change permissions on `/run/user/$UID` and break KDE ([#4846](https://github.com/containers/podman/issues/4846))\n- Fixed a bug where rootless Podman could not be run in a systemd service on systems using CGroups v2 ([#4833](https://github.com/containers/podman/issues/4833))\n- Fixed a bug where `podman inspect` would show CPUShares as 0, instead of the default (1024), when it was not explicitly set ([#4822](https://github.com/containers/podman/issues/4822))\n- Fixed a bug where `podman-remote push` would segfault ([#4706](https://github.com/containers/podman/issues/4706))\n- Fixed a bug where image healthchecks were not shown in the output of `podman inspect` ([#4799](https://github.com/containers/podman/issues/4799))\n- Fixed a bug where named volumes created with containers from pre-1.6.3 releases of Podman would be autoremoved with their containers if the `--rm` flag was given, even if they were given names ([#5009](https://github.com/containers/podman/issues/5009))\n- Fixed a bug where `podman history` was not computing image sizes correctly ([#4916](https://github.com/containers/podman/issues/4916))\n- Fixed a bug where Podman would not error on invalid values to the `--sort` flag to `podman images`\n- Fixed a bug where providing a name for the image made by `podman commit` was mandatory, not optional as it should be ([#5027](https://github.com/containers/podman/issues/5027))\n- Fixed a bug where the remote Podman client would append an extra `\"` to `%PATH` ([#4335](https://github.com/containers/podman/issues/4335))\n- Fixed a bug where the `podman build` command would sometimes ignore the `-f` option and build the wrong Containerfile\n- Fixed a bug where the `podman ps --filter` command would only filter running containers, instead of all containers, if `--all` was not passed ([#5050](https://github.com/containers/podman/issues/5050))\n- Fixed a bug where the `podman load` command on compressed images would leave an extra copy on disk\n- Fixed a bug where the `podman restart` command would not properly clean up the network, causing it to function differently from `podman stop; podman start` ([#5051](https://github.com/containers/podman/issues/5051))\n- Fixed a bug where setting the `--memory-swap` flag to `podman create` and `podman run` to `-1` (to indicate unlimited) was not supported ([#5091](https://github.com/containers/podman/issues/5091))\n\n### Misc\n- Initial work on version 2 of the Podman remote API has been merged, but is still in an alpha state and not ready for use. Read more [here](https://podman.io/releases/2020/01/17/podman-new-api.html)\n- Many formatting corrections have been made to the manpages\n- The changes to address ([#5009](https://github.com/containers/podman/issues/5009)) may cause anonymous volumes created by Podman versions 1.6.3 to 1.7.0 to not be removed when their container is removed\n- Updated vendored Buildah to v1.13.1\n- Updated vendored containers/storage to v1.15.8\n- Updated vendored containers/image to v5.2.0\n\n## 1.7.0\n### Features\n- Added support for setting a static MAC address for containers\n- Added support for creating `macvlan` networks with `podman network create`, allowing Podman containers to be attached directly to networks the host is connected to\n- The `podman image prune` and `podman container prune` commands now support the `--filter` flag to filter what will be pruned, and now prompts for confirmation when run without `--force` ([#4410](https://github.com/containers/podman/issues/4410) and [#4411](https://github.com/containers/podman/issues/4411))\n- Podman now creates CGroup namespaces by default on systems using CGroups v2 ([#4363](https://github.com/containers/podman/issues/4363))\n- Added the `podman system reset` command to remove all Podman files and perform a factory reset of the Podman installation\n- Added the `--history` flag to `podman images` to display previous names used by images ([#4566](https://github.com/containers/podman/issues/4566))\n- Added the `--ignore` flag to `podman rm` and `podman stop` to not error when requested containers no longer exist\n- Added the `--cidfile` flag to `podman rm` and `podman stop` to read the IDs of containers to be removed or stopped from a file\n- The `podman play kube` command now honors Seccomp annotations ([#3111](https://github.com/containers/podman/issues/3111))\n- The `podman play kube` command now honors `RunAsUser`, `RunAsGroup`, and `selinuxOptions`\n- The output format of the `podman version` command has been changed to better match `docker version` when using the `--format` flag\n- Rootless Podman will no longer initialize containers/storage twice, removing a potential deadlock preventing Podman commands from running while an image was being pulled ([#4591](https://github.com/containers/podman/issues/4591))\n- Added `tmpcopyup` and `notmpcopyup` options to the `--tmpfs` and `--mount type=tmpfs` flags to `podman create` and `podman run` to control whether the content of directories are copied into tmpfs filesystems mounted over them\n- Added support for disabling detaching from containers by setting empty detach keys via `--detach-keys=\"\"`\n- The `podman build` command now supports the `--pull` and `--pull-never` flags to control when images are pulled during a build\n- The `podman ps -p` command now shows the name of the pod as well as its ID ([#4703](https://github.com/containers/podman/issues/4703))\n- The `podman inspect` command on containers will now display the command used to create the container\n- The `podman info` command now displays information on registry mirrors ([#4553](https://github.com/containers/podman/issues/4553))\n\n### Bugfixes\n- Fixed a bug where Podman would use an incorrect runtime directory as root, causing state to be deleted after root logged out and making Podman in systemd services not function properly\n- Fixed a bug where the `--change` flag to `podman import` and `podman commit` was not being parsed properly in many cases\n- Fixed a bug where detach keys specified in `libpod.conf` were not used by the `podman attach` and `podman exec` commands, which always used the global default `ctrl-p,ctrl-q` key combination ([#4556](https://github.com/containers/podman/issues/4556))\n- Fixed a bug where rootless Podman was not able to run `podman pod stats` even on CGroups v2 enabled systems ([#4634](https://github.com/containers/podman/issues/4634))\n- Fixed a bug where rootless Podman would fail on kernels without the `renameat2` syscall ([#4570](https://github.com/containers/podman/issues/4570))\n- Fixed a bug where containers with chained network namespace dependencies (IE, container A using `--net container=B` and container B using `--net container=C`) would not properly mount `/etc/hosts` and `/etc/resolv.conf` into the container ([#4626](https://github.com/containers/podman/issues/4626))\n- Fixed a bug where `podman run` with the `--rm` flag and without `-d` could, when run in the background, throw a 'container does not exist' error when attempting to remove the container after it exited\n- Fixed a bug where named volume locks were not properly reacquired after a reboot, potentially leading to deadlocks when trying to start containers using the volume ([#4605](https://github.com/containers/podman/issues/4605) and [#4621](https://github.com/containers/podman/issues/4621))\n- Fixed a bug where Podman could not completely remove containers if sent SIGKILL during removal, leaving the container name unusable without the `podman rm --storage` command to complete removal ([#3906](https://github.com/containers/podman/issues/3906))\n- Fixed a bug where checkpointing containers started with `--rm` was allowed when `--export` was not specified (the container, and checkpoint, would be removed after checkpointing was complete by `--rm`) ([#3774](https://github.com/containers/podman/issues/3774))\n- Fixed a bug where the `podman pod prune` command would fail if containers were present in the pods and the `--force` flag was not passed ([#4346](https://github.com/containers/podman/issues/4346))\n- Fixed a bug where containers could not set a static IP or static MAC address if they joined a non-default CNI network ([#4500](https://github.com/containers/podman/issues/4500))\n- Fixed a bug where `podman system renumber` would always throw an error if a container was mounted when it was run\n- Fixed a bug where `podman container restore` would fail with containers using a user namespace\n- Fixed a bug where rootless Podman would attempt to use the journald events backend even on systems without systemd installed\n- Fixed a bug where `podman history` would sometimes not properly identify the IDs of layers in an image ([#3359](https://github.com/containers/podman/issues/3359))\n- Fixed a bug where containers could not be restarted when Conmon v2.0.3 or later was used\n- Fixed a bug where Podman did not check image OS and Architecture against the host when starting a container\n- Fixed a bug where containers in pods did not function properly with the Kata OCI runtime ([#4353](https://github.com/containers/podman/issues/4353))\n- Fixed a bug where `podman info --format '{{ json . }}' would not produce JSON output ([#4391](https://github.com/containers/podman/issues/4391))\n- Fixed a bug where Podman would not verify if files passed to `--authfile` existed ([#4328](https://github.com/containers/podman/issues/4328))\n- Fixed a bug where `podman images --digest` would not always print digests when they were available\n- Fixed a bug where rootless `podman run` could hang due to a race with reading and writing events\n- Fixed a bug where rootless Podman would print warning-level logs despite not be instructed to do so ([#4456](https://github.com/containers/podman/issues/4456))\n- Fixed a bug where `podman pull` would attempt to fetch from remote registries when pulling an unqualified image using the `docker-daemon` transport ([#4434](https://github.com/containers/podman/issues/4434))\n- Fixed a bug where `podman cp` would not work if STDIN was a pipe\n- Fixed a bug where `podman exec` could stop accepting input if anything was typed between the command being run and the exec session starting ([#4397](https://github.com/containers/podman/issues/4397))\n- Fixed a bug where `podman logs --tail 0` would print all lines of a container's logs, instead of no lines ([#4396](https://github.com/containers/podman/issues/4396))\n- Fixed a bug where the timeout for `slirp4netns` was incorrectly set, resulting in an extremely long timeout ([#4344](https://github.com/containers/podman/issues/4344))\n- Fixed a bug where the `podman stats` command would print CPU utilizations figures incorrectly ([#4409](https://github.com/containers/podman/issues/4409))\n- Fixed a bug where the `podman inspect --size` command would not print the size of the container's read/write layer if the size was 0 ([#4744](https://github.com/containers/podman/issues/4744))\n- Fixed a bug where the `podman kill` command was not properly validating signals before use ([#4746](https://github.com/containers/podman/issues/4746))\n- Fixed a bug where the `--quiet` and `--format` flags to `podman ps` could not be used at the same time\n- Fixed a bug where the `podman stop` command was not stopping exec sessions when a container was created without a PID namespace (`--pid=host`)\n- Fixed a bug where the `podman pod rm --force` command was not removing anonymous volumes for containers that were removed\n- Fixed a bug where the `podman checkpoint` command would not export all changes to the root filesystem of the container if performed more than once on the same container ([#4606](https://github.com/containers/podman/issues/4606))\n- Fixed a bug where containers started with `--rm` would not be automatically removed on being stopped if an exec session was running inside the container ([#4666](https://github.com/containers/podman/issues/4666))\n\n### Misc\n- The fixes to runtime directory path as root can cause strange behavior if an upgrade is performed while containers are running\n- Updated vendored Buildah to v1.12.0\n- Updated vendored containers/storage library to v1.15.4\n- Updated vendored containers/image library to v5.1.0\n- Kata Containers runtimes (`kata-runtime`, `kata-qemu`, and `kata-fc`) are now present in the default libpod.conf, but will not be available unless Kata containers is installed on the system\n- Podman previously did not allow the creation of containers with a memory limit lower than 4MB. This restriction has been removed, as the `crun` runtime can create containers with significantly less memory\n\n## 1.6.3\n### Features\n- Handling of the `libpod.conf` configuration file has seen major changes. Most significantly, rootless users will no longer automatically receive a complete configuration file when they first use Podman, and will instead only receive differences from the global configuration.\n- Initial support for the CNI DNS plugin, which allows containers to resolve the IPs of other containers via DNS name, has been added\n- Podman now supports anonymous named volumes, created by specifying only a destination to the `-v` flag to the `podman create` and `podman run` commands\n- Named volumes now support `uid` and `gid` options in `--opt o=...` to set UID and GID of the created volume\n\n### Bugfixes\n- Fixed a bug where the `podman start` command would print container ID, instead of name, when starting containers given their name\n- Fixed a bug where named volumes with options did not properly detect issues with mounting the volume, leading to an inconsistent state ([#4303](https://github.com/containers/podman/issues/4303))\n- Fixed a bug where incorrect Seccomp profiles were used in containers generated by `podman play kube`\n- Fixed a bug where processes started by `podman exec` would have the wrong SELinux label in some circumstances ([#4361](https://github.com/containers/podman/issues/4361))\n- Fixed a bug where error messages from `slirp4netns` would be lost\n- Fixed a bug where `podman run --network=$NAME` would not throw an error in rootless Podman, where CNI networks are not supported\n- Fixed a bug where `podman network create` would throw confusing errors when trying to create a volume with a name that already exists\n- Fixed a bug where Podman would not error if the `systemd` CGroup manager was specified, but systemd could not be contacted over DBus\n- Fixed a bug where image volumes were mounted `noexec` ([#4318](https://github.com/containers/podman/issues/4318))\n- Fixed a bug where the `podman stats` command required the name of a container to be given, instead of showing all containers when no container was specified ([#4274](https://github.com/containers/podman/issues/4274))\n- Fixed a bug where the `podman volume inspect` command would not show the options that named volumes were created with\n- Fixed a bug where custom storage configuration was not written to `storage.conf` at time of first creation for rootless Podman ([#2659](https://github.com/containers/podman/issues/2659))\n- Fixed a bug where remote Podman did not support shell redirection of container output\n\n### Misc\n- Updated vendored containers/image library to v5.0\n- Initial support for images using manifest lists has been added, though commands for directly interacting with manifests are still missing\n- Support for pushing to and pulling from OSTree has been removed due to deprecation in the containers/image library\n- Rootless Podman no longer enables linger on systems with systemd as init by default. As such, containers will now be killed when the user who ran them logs out, unless linger is explicitly enabled using [loginctl](https://www.freedesktop.org/software/systemd/man/loginctl.html)\n- Podman will now check the version of `conmon` that is in use to ensure it is sufficient\n\n## 1.6.2\n### Features\n- Added a `--runtime` flag to `podman system migrate` to allow the OCI runtime for all containers to be reset, to ease transition to the `crun` runtime on CGroups V2 systems until `runc` gains full support\n- The `podman rm` command can now remove containers in broken states which previously could not be removed\n- The `podman info` command, when run without root, now shows information on UID and GID mappings in the rootless user namespace\n- Added `podman build --squash-all` flag, which squashes all layers (including those of the base image) into one layer\n- The `--systemd` flag to `podman run` and `podman create` now accepts a string argument and allows a new value, `always`, which forces systemd support without checking if the container entrypoint is systemd\n\n### Bugfixes\n- Fixed a bug where the `podman top` command did not work on systems using CGroups V2 ([#4192](https://github.com/containers/podman/issues/4192))\n- Fixed a bug where rootless Podman could double-close a file, leading to a panic\n- Fixed a bug where rootless Podman could fail to retrieve some containers while refreshing the state\n- Fixed a bug where `podman start --attach --sig-proxy=false` would still proxy signals into the container\n- Fixed a bug where Podman would unconditionally use a non-default path for authentication credentials (`auth.json`), breaking `podman login` integration with `skopeo` and other tools using the containers/image library\n- Fixed a bug where `podman ps --format=json` and `podman images --format=json` would display `null` when no results were returned, instead of valid JSON\n- Fixed a bug where `podman build --squash` was incorrectly squashing all layers into one, instead of only new layers\n- Fixed a bug where rootless Podman would allow volumes with options to be mounted (mounting volumes requires root), creating an inconsistent state where volumes reported as mounted but were not ([#4248](https://github.com/containers/podman/issues/4248))\n- Fixed a bug where volumes which failed to unmount could not be removed ([#4247](https://github.com/containers/podman/issues/4247))\n- Fixed a bug where Podman incorrectly handled some errors relating to unmounted or missing containers in containers/storage\n- Fixed a bug where `podman stats` was broken on systems running CGroups V2 when run rootless ([#4268](https://github.com/containers/podman/issues/4268))\n- Fixed a bug where the `podman start` command would print the short container ID, instead of the full ID\n- Fixed a bug where containers created with an OCI runtime that is no longer available (uninstalled or removed from the config file) would not appear in `podman ps` and could not be removed via `podman rm`\n- Fixed a bug where containers restored via `podman container restore --import` would retain the CGroup path of the original container, even if their container ID changed; thus, multiple containers created from the same checkpoint would all share the same CGroup\n\n### Misc\n- The default PID limit for containers is now set to 4096. It can be adjusted back to the old default (unlimited) by passing `--pids-limit 0` to `podman create` and `podman run`\n- The `podman start --attach` command now automatically attaches `STDIN` if the container was created with `-i`\n- The `podman network create` command now validates network names using the same regular expression as container and pod names\n- The `--systemd` flag to `podman run` and `podman create` will now only enable systemd mode when the binary being run inside the container is `/sbin/init`, `/usr/sbin/init`, or ends in `systemd` (previously detected any path ending in `init` or `systemd`)\n- Updated vendored Buildah to 1.11.3\n- Updated vendored containers/storage to 1.13.5\n- Updated vendored containers/image to 4.0.1\n\n## 1.6.1\n### Bugfixes\n- Fixed a bug where rootless Podman on systems using CGroups V2 would not function with the `cgroupfs` CGroups manager\n- Fixed a bug where rootless Podman could not correctly identify the DBus session address, causing containers to fail to start ([#4162](https://github.com/containers/podman/issues/4162))\n- Fixed a bug where rootless Podman with `slirp4netns` networking would fail to start containers due to mount leaks\n\n## 1.6.0\n### Features\n- The `podman network create`, `podman network rm`, `podman network inspect`, and `podman network ls` commands have been added to manage CNI networks used by Podman\n- The `podman volume create` command can now create and mount volumes with options, allowing volumes backed by NFS, tmpfs, and many other filesystems\n- Podman can now run containers without CGroups for better integration with systemd by using the `--cgroups=disabled` flag with `podman create` and `podman run`. This is presently only supported with the `crun` OCI runtime\n- The `podman volume rm` and `podman volume inspect` commands can now refer to volumes by an unambiguous partial name, in addition to full name (e.g. `podman volume rm myvol` to remove a volume named `myvolume`) ([#3891](https://github.com/containers/podman/issues/3891))\n- The `podman run` and `podman create` commands now support the `--pull` flag to allow forced re-pulling of images ([#3734](https://github.com/containers/podman/issues/3734))\n- Mounting volumes into a container using `--volume`, `--mount`, and `--tmpfs` now allows the `suid`, `dev`, and `exec` mount options (the inverse of `nosuid`, `nodev`, `noexec`) ([#3819](https://github.com/containers/podman/issues/3819))\n- Mounting volumes into a container using `--mount` now allows the `relabel=Z` and `relabel=z` options to relabel mounts.\n- The `podman push` command now supports the `--digestfile` option to save a file containing the pushed digest\n- Pods can now have their hostname set via `podman pod create --hostname` or providing Pod YAML with a hostname set to `podman play kube` ([#3732](https://github.com/containers/podman/issues/3732))\n- The `podman image sign` command now supports the `--cert-dir` flag\n- The `podman run` and `podman create` commands now support the `--security-opt label=filetype:$LABEL` flag to set the SELinux label for container files\n- The remote Podman client now supports healthchecks\n\n### Bugfixes\n- Fixed a bug where remote `podman pull` would panic if a Varlink connection was not available ([#4013](https://github.com/containers/podman/issues/4013))\n- Fixed a bug where `podman exec` would not properly set terminal size when creating a new exec session ([#3903](https://github.com/containers/podman/issues/3903))\n- Fixed a bug where `podman exec` would not clean up socket symlinks on the host ([#3962](https://github.com/containers/podman/issues/3962))\n- Fixed a bug where Podman could not run systemd in containers that created a CGroup namespace\n- Fixed a bug where `podman prune -a` would attempt to prune images used by Buildah and CRI-O, causing errors ([#3983](https://github.com/containers/podman/issues/3983))\n- Fixed a bug where improper permissions on the `~/.config` directory could cause rootless Podman to use an incorrect directory for storing some files\n- Fixed a bug where the bash completions for `podman import` threw errors\n- Fixed a bug where Podman volumes created with `podman volume create` would not copy the contents of their mountpoint the first time they were mounted into a container ([#3945](https://github.com/containers/podman/issues/3945))\n- Fixed a bug where rootless Podman could not run `podman exec` when the container was not run inside a CGroup owned by the user ([#3937](https://github.com/containers/podman/issues/3937))\n- Fixed a bug where `podman play kube` would panic when given Pod YAML without a `securityContext` ([#3956](https://github.com/containers/podman/issues/3956))\n- Fixed a bug where Podman would place files incorrectly when `storage.conf` configuration items were set to the empty string ([#3952](https://github.com/containers/podman/issues/3952))\n- Fixed a bug where `podman build` did not correctly inherit Podman's CGroup configuration, causing crashed on CGroups V2 systems ([#3938](https://github.com/containers/podman/issues/3938))\n- Fixed a bug where `podman cp` would improperly copy files on the host when copying a symlink in the container that included a glob operator ([#3829](https://github.com/containers/podman/issues/3829))\n- Fixed a bug where remote `podman run --rm` would exit before the container was completely removed, allowing race conditions when removing container resources ([#3870](https://github.com/containers/podman/issues/3870))\n- Fixed a bug where rootless Podman would not properly handle changes to `/etc/subuid` and `/etc/subgid` after a container was launched\n- Fixed a bug where rootless Podman could not include some devices in a container using the `--device` flag ([#3905](https://github.com/containers/podman/issues/3905))\n- Fixed a bug where the `commit` Varlink API would segfault if provided incorrect arguments ([#3897](https://github.com/containers/podman/issues/3897))\n- Fixed a bug where temporary files were not properly cleaned up after a build using remote Podman ([#3869](https://github.com/containers/podman/issues/3869))\n- Fixed a bug where `podman remote cp` crashed instead of reporting it was not yet supported ([#3861](https://github.com/containers/podman/issues/3861))\n- Fixed a bug where `podman exec` would run as the wrong user when execing into a container was started from an image with Dockerfile `USER` (or a user specified via `podman run --user`) ([#3838](https://github.com/containers/podman/issues/3838))\n- Fixed a bug where images pulled using the `oci:` transport would be improperly named\n- Fixed a bug where `podman varlink` would hang when managed by systemd due to SD_NOTIFY support conflicting with Varlink ([#3572](https://github.com/containers/podman/issues/3572))\n- Fixed a bug where mounts to the same destination would sometimes not trigger a conflict, causing a race as to which was actually mounted\n- Fixed a bug where `podman exec --preserve-fds` caused Podman to hang ([#4020](https://github.com/containers/podman/issues/4020))\n- Fixed a bug where removing an unmounted container that was unmounted might sometimes not properly clean up the container ([#4033](https://github.com/containers/podman/issues/4033))\n- Fixed a bug where the Varlink server would freeze when run in a systemd unit file ([#4005](https://github.com/containers/podman/issues/4005))\n- Fixed a bug where Podman would not properly set the `$HOME` environment variable when the OCI runtime did not set it\n- Fixed a bug where rootless Podman would incorrectly print warning messages when an OCI runtime was not found ([#4012](https://github.com/containers/podman/issues/4012))\n- Fixed a bug where named volumes would conflict with, instead of overriding, `tmpfs` filesystems added by the `--read-only-tmpfs` flag to `podman create` and `podman run`\n- Fixed a bug where `podman cp` would incorrectly make the target directory when copying to a symlink which pointed to a nonexistent directory ([#3894](https://github.com/containers/podman/issues/3894))\n- Fixed a bug where remote Podman would incorrectly read `STDIN` when the `-i` flag was not set ([#4095](https://github.com/containers/podman/issues/4095))\n- Fixed a bug where `podman play kube` would create an empty pod when given an unsupported YAML type ([#4093](https://github.com/containers/podman/issues/4093))\n- Fixed a bug where `podman import --change` improperly parsed `CMD` ([#4000](https://github.com/containers/podman/issues/4000))\n\n### Misc\n- Significant changes were made to Podman volumes in this release. If you have pre-existing volumes, it is strongly recommended to run `podman system renumber` after upgrading.\n- Version 0.8.1 or greater of the CNI Plugins is now required for Podman\n- Version 2.0.1 or greater of Conmon is strongly recommended\n- Updated vendored Buildah to v1.11.2\n- Updated vendored containers/storage library to v1.13.4\n- Improved error messages when trying to create a pod with no name via `podman play kube`\n- Improved error messages when trying to run `podman pause` or `podman stats` on a rootless container on a system without CGroups V2 enabled\n- `TMPDIR` has been set to `/var/tmp` by default to better handle large temporary files\n- `podman wait` has been optimized to detect stopped containers more rapidly\n- Podman containers now include a `ContainerManager` annotation indicating they were created by `libpod`\n- The `podman info` command now includes information about `slirp4netns` and `fuse-overlayfs` if they are available\n- Podman no longer sets a default size of 65kb for tmpfs filesystems\n- The default Podman CNI network has been renamed in an attempt to prevent conflicts with CRI-O when both are run on the same system. This should only take effect on system restart\n- The output of `podman volume inspect` has been more closely matched to `docker volume inspect`\n\n## 1.5.1\n### Features\n- The hostname of pods is now set to the pod's name\n\n### Bugfixes\n- Fixed a bug where `podman run` and `podman create` did not honor the `--authfile` option ([#3730](https://github.com/containers/podman/issues/3730))\n- Fixed a bug where containers restored with `podman container restore --import` would incorrectly duplicate the Conmon PID file of the original container\n- Fixed a bug where `podman build` ignored the default OCI runtime configured in `libpod.conf`\n- Fixed a bug where `podman run --rm` (or force-removing any running container with `podman rm --force`) were not retrieving the correct exit code ([#3795](https://github.com/containers/podman/issues/3795))\n- Fixed a bug where Podman would exit with an error if any configured hooks directory was not present\n- Fixed a bug where `podman inspect` and `podman commit` would not use the correct `CMD` for containers run with `podman play kube`\n- Fixed a bug created pods when using rootless Podman and CGroups V2 ([#3801](https://github.com/containers/podman/issues/3801))\n- Fixed a bug where the `podman events` command with the `--since` or `--until` options could take a very long time to complete\n\n### Misc\n- Rootless Podman will now inherit OCI runtime configuration from the root configuration ([#3781](https://github.com/containers/podman/issues/3781))\n- Podman now properly sets a user agent while contacting registries ([#3788](https://github.com/containers/podman/issues/3788))\n\n## 1.5.0\n### Features\n- Podman containers can now join the user namespaces of other containers with `--userns=container:$ID`, or a user namespace at an arbitrary path with `--userns=ns:$PATH`\n- Rootless Podman can experimentally squash all UIDs and GIDs in an image to a single UID and GID (which does not require use of the `newuidmap` and `newgidmap` executables) by passing `--storage-opt ignore_chown_errors`\n- The `podman generate kube` command now produces YAML for any bind mounts the container has created ([#2303](https://github.com/containers/podman/issues/2303))\n- The `podman container restore` command now features a new flag, `--ignore-static-ip`, that can be used with `--import` to import a single container with a static IP multiple times on the same host\n- Added the ability for `podman events` to output JSON by specifying `--format=json`\n- If the OCI runtime or `conmon` binary cannot be found at the paths specified in `libpod.conf`, Podman will now also search for them in the calling user's path\n- Added the ability to use `podman import` with URLs ([#3609](https://github.com/containers/podman/issues/3609))\n- The `podman ps` command now supports filtering names using regular expressions ([#3394](https://github.com/containers/podman/issues/3394))\n- Rootless Podman containers with `--privileged` set will now mount in all host devices that the user can access\n- The `podman create` and `podman run` commands now support the `--env-host` flag to forward all environment variables from the host into the container\n- Rootless Podman now supports healthchecks ([#3523](https://github.com/containers/podman/issues/3523))\n- The format of the `HostConfig` portion of the output of `podman inspect` on containers has been improved and synced with Docker\n- Podman containers now support CGroup namespaces, and can create them by passing `--cgroupns=private` to `podman run` or `podman create`\n- The `podman create` and `podman run` commands now support the `--ulimit=host` flag, which uses any ulimits currently set on the host for the container\n- The `podman rm` and `podman rmi` commands now use different exit codes to indicate 'no such container' and 'container is running' errors\n- Support for CGroups V2 through the `crun` OCI runtime has been greatly improved, allowing resource limits to be set for rootless containers when the CGroups V2 hierarchy is in use\n\n### Bugfixes\n- Fixed a bug where a race condition could cause `podman restart` to fail to start containers with ports\n- Fixed a bug where containers restored from a checkpoint would not properly report the time they were started at\n- Fixed a bug where `podman search` would return at most 25 results, even when the maximum number of results was set higher\n- Fixed a bug where `podman play kube` would not honor capabilities set in imported YAML ([#3689](https://github.com/containers/podman/issues/3689))\n- Fixed a bug where `podman run --env`, when passed a single key (to use the value from the host), would set the environment variable in the container even if it was not set on the host ([#3648](https://github.com/containers/podman/issues/3648))\n- Fixed a bug where `podman commit --changes` would not properly set environment variables\n- Fixed a bug where Podman could segfault while working with images with no history\n- Fixed a bug where `podman volume rm` could remove arbitrary volumes if given an ambiguous name ([#3635](https://github.com/containers/podman/issues/3635))\n- Fixed a bug where `podman exec` invocations leaked memory by not cleaning up files in tmpfs\n- Fixed a bug where the `--dns` and `--net=container` flags to `podman run` and `podman create` were not mutually exclusive ([#3553](https://github.com/containers/podman/issues/3553))\n- Fixed a bug where rootless Podman would be unable to run containers when less than 5 UIDs were available\n- Fixed a bug where containers in pods could not be removed without removing the entire pod ([#3556](https://github.com/containers/podman/issues/3556))\n- Fixed a bug where Podman would not properly clean up all CGroup controllers for created cgroups when using the `cgroupfs` CGroup driver\n- Fixed a bug where Podman containers did not properly clean up files in tmpfs, resulting in a memory leak as containers stopped\n- Fixed a bug where healthchecks from images would not use default settings for interval, retries, timeout, and start period when they were not provided by the image ([#3525](https://github.com/containers/podman/issues/3525))\n- Fixed a bug where healthchecks using the `HEALTHCHECK CMD` format where not properly supported ([#3507](https://github.com/containers/podman/issues/3507))\n- Fixed a bug where volume mounts using relative source paths would not be properly resolved ([#3504](https://github.com/containers/podman/issues/3504))\n- Fixed a bug where `podman run` did not use authorization credentials when a custom path was specified ([#3524](https://github.com/containers/podman/issues/3524))\n- Fixed a bug where containers checkpointed with `podman container checkpoint` did not properly set their finished time\n- Fixed a bug where running `podman inspect` on any container not created with `podman run` or `podman create` (for example, pod infra containers) would result in a segfault ([#3500](https://github.com/containers/podman/issues/3500))\n- Fixed a bug where healthcheck flags for `podman create` and `podman run` were incorrectly named ([#3455](https://github.com/containers/podman/pull/3455))\n- Fixed a bug where Podman commands would fail to find targets if a partial ID was specified that was ambiguous between a container and pod ([#3487](https://github.com/containers/podman/issues/3487))\n- Fixed a bug where restored containers would not have the correct SELinux label\n- Fixed a bug where Varlink endpoints were not working properly if `more` was not correctly specified\n- Fixed a bug where the Varlink PullImage endpoint would crash if an error occurred ([#3715](https://github.com/containers/podman/issues/3715))\n- Fixed a bug where the `--mount` flag to `podman create` and `podman run` did not allow boolean arguments for its `ro` and `rw` options ([#2980](https://github.com/containers/podman/issues/2980))\n- Fixed a bug where pods did not properly share the UTS namespace, resulting in incorrect behavior from some utilities which rely on hostname ([#3547](https://github.com/containers/podman/issues/3547))\n- Fixed a bug where Podman would unconditionally append `ENTRYPOINT` to `CMD` during `podman commit` (and when reporting `CMD` in `podman inspect`) ([#3708](https://github.com/containers/podman/issues/3708))\n- Fixed a bug where `podman events` with the `journald` events backend would incorrectly print 6 previous events when only new events were requested ([#3616](https://github.com/containers/podman/issues/3616))\n- Fixed a bug where `podman port` would exit prematurely when a port number was specified ([#3747](https://github.com/containers/podman/issues/3747))\n- Fixed a bug where passing `.` as an argument to the `--dns-search` flag to `podman create` and `podman run` was not properly clearing DNS search domains in the container\n\n### Misc\n- Updated vendored Buildah to v1.10.1\n- Updated vendored containers/image to v3.0.2\n- Updated vendored containers/storage to v1.13.1\n- Podman now requires conmon v2.0.0 or higher\n- The `podman info` command now displays the events logger being in use\n- The `podman inspect` command on containers now includes the ID of the pod a container has joined and the PID of the container's conmon process\n- The `-v` short flag for `podman --version` has been re-added\n- Error messages from `podman pull` should be significantly clearer\n- The `podman exec` command is now available in the remote client\n\n## 1.4.4\n### Bugfixes\n- Fixed a bug where rootless Podman would attempt to use the entire root configuration if no rootless configuration was present for the user, breaking rootless Podman for new installations\n- Fixed a bug where rootless Podman's pause process would block SIGTERM, preventing graceful system shutdown and hanging until the system's init send SIGKILL\n- Fixed a bug where running Podman as root with `sudo -E` would not work after running rootless Podman at least once\n- Fixed a bug where options for `tmpfs` volumes added with the `--tmpfs` flag were being ignored\n- Fixed a bug where images with no layers could not properly be displayed and removed by Podman\n- Fixed a bug where locks were not properly freed on failure to create a container or pod\n\n### Misc\n- Updated containers/storage to v1.12.13\n\n## 1.4.3\n### Features\n- Podman now has greatly improved support for containers using multiple OCI runtimes. Containers now remember if they were created with a different runtime using `--runtime` and will always use that runtime\n- The `cached` and `delegated` options for volume mounts are now allowed for Docker compatibility ([#3340](https://github.com/containers/podman/issues/3340))\n- The `podman diff` command now supports the `--latest` flag\n\n### Bugfixes\n- Fixed a bug where `podman cp` on a single file would create a directory at the target and place the file in it ([#3384](https://github.com/containers/podman/issues/3384))\n- Fixed a bug where `podman inspect --format '{{.Mounts}}'` would print a hexadecimal address instead of a container's mounts\n- Fixed a bug where rootless Podman would not add an entry to container's `/etc/hosts` files for their own hostname ([#3405](https://github.com/containers/podman/issues/3405))\n- Fixed a bug where `podman ps --sync` would segfault ([#3411](https://github.com/containers/podman/issues/3411))\n- Fixed a bug where `podman generate kube` would produce an invalid ports configuration ([#3408](https://github.com/containers/podman/issues/3408))\n\n### Misc\n- Podman now performs much better on systems with heavy I/O load\n- The `--cgroup-manager` flag to `podman` now shows the correct default setting in help if the default was overridden by `libpod.conf`\n- For backwards compatibility, setting `--log-driver=json-file` in `podman run` is now supported as an alias for `--log-driver=k8s-file`. This is considered deprecated, and `json-file` will be moved to a new implementation in the future ([#3363](https://github.com/containers/podman/issues/3363))\n- Podman's default `libpod.conf` file now allows the [crun](https://github.com/giuseppe/crun) OCI runtime to be used if it is installed\n\n## 1.4.2\n### Bugfixes\n- Fixed a bug where Podman could not run containers using an older version of Systemd as init ([#3295](https://github.com/containers/podman/issues/3295))\n\n### Misc\n- Updated vendored Buildah to v1.9.0 to resolve a critical bug with Dockerfile `RUN` instructions\n- The error message for running `podman kill` on containers that are not running has been improved\n- The Podman remote client can now log to a file if syslog is not available\n\n## 1.4.1\n### Features\n- The `podman exec` command now sets its error code differently based on whether the container does not exist, and the command in the container does not exist\n- The `podman inspect` command on containers now outputs Mounts JSON that matches that of `docker inspect`, only including user-specified volumes and differentiating bind mounts and named volumes\n- The `podman inspect` command now reports the path to a container's OCI spec with the `OCIConfigPath` key (only included when the container is initialized or running)\n- The `podman run --mount` command now supports the `bind-nonrecursive` option for bind mounts ([#3314](https://github.com/containers/podman/issues/3314))\n\n### Bugfixes\n- Fixed a bug where `podman play kube` would fail to create containers due to an unspecified log driver\n- Fixed a bug where Podman would fail to build with [musl libc](https://www.musl-libc.org/) ([#3284](https://github.com/containers/podman/issues/3284))\n- Fixed a bug where rootless Podman using `slirp4netns` networking in an environment with no nameservers on the host other than localhost would result in nonfunctional networking ([#3277](https://github.com/containers/podman/issues/3277))\n- Fixed a bug where `podman import` would not properly set environment variables, discarding their values and retaining only keys\n- Fixed a bug where Podman would fail to run when built with Apparmor support but run on systems without the Apparmor kernel module loaded ([#3331](https://github.com/containers/podman/issues/3331))\n\n### Misc\n- Remote Podman will now default the username it uses to log in to remote systems to the username of the current user\n- Podman now uses JSON logging with OCI runtimes that support it, allowing for better error reporting\n- Updated vendored Buildah to v1.8.4\n- Updated vendored containers/image to v2.0\n\n## 1.4.0\n### Features\n- The `podman checkpoint` and `podman restore` commands can now be used to migrate containers between Podman installations on different systems ([#1618](https://github.com/containers/podman/issues/1618))\n- The `podman cp` command now supports a `pause` flag to pause containers while copying into them\n- The remote client now supports a configuration file for pre-configuring connections to remote Podman installations\n\n### Bugfixes\n- Fixed CVE-2019-10152 - The `podman cp` command improperly dereferenced symlinks in host context\n- Fixed a bug where `podman commit` could improperly set environment variables that contained `=` characters ([#3132](https://github.com/containers/podman/issues/3132))\n- Fixed a bug where rootless Podman would sometimes fail to start containers with forwarded ports ([#2942](https://github.com/containers/podman/issues/2942))\n- Fixed a bug where `podman version` on the remote client could segfault ([#3145](https://github.com/containers/podman/issues/3145))\n- Fixed a bug where `podman container runlabel` would use `/proc/self/exe` instead of the path of the Podman command when printing the command being executed\n- Fixed a bug where filtering images by label did not work ([#3163](https://github.com/containers/podman/issues/3163))\n- Fixed a bug where specifying a bing mount or tmpfs mount over an image volume would cause a container to be unable to start ([#3174](https://github.com/containers/podman/issues/3174))\n- Fixed a bug where `podman generate kube` did not work with containers with named volumes\n- Fixed a bug where rootless Podman would receive `permission denied` errors accessing `conmon.pid` ([#3187](https://github.com/containers/podman/issues/3187))\n- Fixed a bug where `podman cp` with a folder specified as target would replace the folder, as opposed to copying into it ([#3184](https://github.com/containers/podman/issues/3184))\n- Fixed a bug where rootless Podman commands could double-unlock a lock, causing a crash ([#3207](https://github.com/containers/podman/issues/3207))\n- Fixed a bug where Podman incorrectly set `tmpcopyup` on `/dev/` mounts, causing errors when using the Kata containers runtime ([#3229](https://github.com/containers/podman/issues/3229))\n- Fixed a bug where `podman exec` would fail on older kernels ([#2968](https://github.com/containers/podman/issues/2968))\n\n### Misc\n- The `podman inspect` command on containers now uses the `Id` key (instead of `ID`) for the container's ID, for better compatibility with the output of `docker inspect`\n- The `podman commit` command is now usable with the Podman remote client\n- The `--signature-policy` flag (used with several image-related commands) has been deprecated\n- The `podman unshare` command now defines two environment variables in the spawned shell: `CONTAINERS_RUNROOT` and `CONTAINERS_GRAPHROOT`, pointing to temporary and permanent storage for rootless containers\n- Updated vendored containers/storage and containers/image libraries with numerous bugfixes\n- Updated vendored Buildah to v1.8.3\n- Podman now requires [Conmon v0.2.0](https://github.com/containers/conmon/releases/tag/v0.2.0)\n- The `podman cp` command is now aliased as `podman container cp`\n- Rootless Podman will now default `init_path` using root Podman's configuration files (`/etc/containers/libpod.conf` and `/usr/share/containers/libpod.conf`) if not overridden in the rootless configuration\n\n## 1.3.1\n### Features\n- The `podman cp` command can now read input redirected to `STDIN`, and output to `STDOUT` instead of a file, using `-` instead of an argument.\n- The Podman remote client now displays version information from both the client and server in `podman version`\n- The `podman unshare` command has been added, allowing easy entry into the user namespace set up by rootless Podman (allowing the removal of files created by rootless Podman, among other things)\n\n### Bugfixes\n- Fixed a bug where Podman containers with the `--rm` flag were removing created volumes when they were automatically removed ([#3071](https://github.com/containers/podman/issues/3071))\n- Fixed a bug where container and pod locks were incorrectly marked as released after a system reboot, causing errors on container and pod removal ([#2900](https://github.com/containers/podman/issues/2900))\n- Fixed a bug where Podman pods could not be removed if any container in the pod encountered an error during removal ([#3088](https://github.com/containers/podman/issues/3088))\n- Fixed a bug where Podman pods run with the `cgroupfs` CGroup driver would encounter a race condition during removal, potentially failing to remove the pod CGroup\n- Fixed a bug where the `podman container checkpoint` and `podman container restore` commands were not visible in the remote client\n- Fixed a bug where `podman remote ps --ns` would not print the container's namespaces ([#2938](https://github.com/containers/podman/issues/2938))\n- Fixed a bug where removing stopped containers with healthchecks could cause an error\n- Fixed a bug where the default `libpod.conf` file was causing parsing errors ([#3095](https://github.com/containers/podman/issues/3095))\n- Fixed a bug where pod locks were not being freed when pods were removed, potentially leading to lock exhaustion\n- Fixed a bug where 'podman run' with SD_NOTIFY set could, on short-running containers, create an inconsistent state rendering the container unusable\n\n### Misc\n- The remote Podman client now uses the Varlink bridge to establish remote connections by default\n\n## 1.3.0\n### Features\n- Podman now supports container restart policies! The `--restart` flag on `podman create` and `podman run` allows containers to be restarted after they exit. Please note that Podman cannot restart containers after a system reboot - for that, see our next feature\n- Podman `podman generate systemd` command was added to generate systemd unit files for managing Podman containers\n- The `podman runlabel` command now allows a `$GLOBAL_OPTS` variable, which will be populated by global options passed to the `podman runlabel` command, allowing custom storage configurations to be passed into containers run with `runlabel` ([#2399](https://github.com/containers/podman/issues/2399))\n- The `podman play kube` command now allows `File` and `FileOrCreate` volumes\n- The `podman pod prune` command was added to prune unused pods\n- Added the `podman system migrate` command to migrate containers using older configurations to allow their use by newer Libpod versions ([#2935](https://github.com/containers/podman/issues/2935))\n- Podman containers now forward proxy-related environment variables from the host into the container with the `--http-proxy` flag (enabled by default)\n- Read-only Podman containers can now create tmpfs filesystems on `/tmp`, `/var/tmp`, and `/run` with the `--read-only-tmpfs` flag (enabled by default)\n- The `podman init` command was added, performing all container pre-start tasks without starting the container to allow pre-run debugging\n\n### Bugfixes\n- Fixed a bug where `podman cp` would not copy folders ([#2836](https://github.com/containers/podman/issues/2836))\n- Fixed a bug where Podman would panic when the Varlink API attempted too pull a nonexistent image ([#2860](https://github.com/containers/podman/issues/2860))\n- Fixed a bug where `podman rmi` sometimes did not produce an event when images were deleted\n- Fixed a bug where Podman would panic when the Varlink API passed improperly-formatted options when attempting to build ([#2869](https://github.com/containers/podman/issues/2869))\n- Fixed a bug where `podman images` would not print a header if no images were present ([#2877](https://github.com/containers/podman/pull/2877))\n- Fixed a bug where the `podman images` command with `--filter dangling=false` would incorrectly print dangling images instead of images which are not dangling ([#2884](https://github.com/containers/podman/issues/2884))\n- Fixed a bug where rootless Podman would panic when any command was run after the system was rebooted ([#2894](https://github.com/containers/podman/issues/2894))\n- Fixed a bug where Podman containers in user namespaces would include undesired directories from the host in `/sys/kernel`\n- Fixed a bug where `podman create` would panic when trying to create a container whose name already existed\n- Fixed a bug where `podman pull` would exit 0 on failing to pull an image ([#2785](https://github.com/containers/podman/issues/2785))\n- Fixed a bug where `podman pull` would not properly print the cause of errors that occurred ([#2710](https://github.com/containers/podman/issues/2710))\n- Fixed a bug where rootless Podman commands were not properly suspended via `ctrl-z` in a shell ([#2775](https://github.com/containers/podman/issues/2775))\n- Fixed a bug where Podman would error when cleaning up containers when some container mountpoints in `/sys/` were cleaned up already by the closing of the mount namespace\n- Fixed a bug where `podman play kube` was not including environment variables from the image run ([#2930](https://github.com/containers/podman/issues/2930))\n- Fixed a bug where `podman play kube` would not properly clean up partially-created pods when encountering an error\n- Fixed a bug where `podman commit` with the `--change` flag improperly set `CMD` when a multipart value was provided ([#2951](https://github.com/containers/podman/issues/2951))\n- Fixed a bug where the `--mount` flag to `podman create` and `podman run` did not properly validate its arguments, causing Podman to panic\n- Fixed a bug where conflicts between mounts created by the `--mount`, `--volume`, and `--tmpfs` flags were not properly reported\n- Fixed a bug where the `--mount` flag could not be used with named volumes\n- Fixed a bug where the `--mount` flag did not properly set options for created tmpfs filesystems\n- Fixed a bug where rootless Podman could close too many file descriptors, causing Podman to panic ([#2964](https://github.com/containers/podman/issues/2964))\n- Fixed a bug where `podman logout` would not print an error when the login was established by `docker login` ([#2735](https://github.com/containers/podman/issues/2735))\n- Fixed a bug where `podman stop` would error when not all containers were running ([#2993](https://github.com/containers/podman/issues/2993))\n- Fixed a bug where `podman pull` would fail to pull images by shortname if they were not present in the `docker.io` registry\n- Fixed a bug where `podman login` would error when credentials were not present if a credential helper was configured ([#1675](https://github.com/containers/podman/issues/1675))\n- Fixed a bug where the `podman system renumber` command and Podman post-reboot state refreshes would not create events\n- Fixed a bug where the `podman top` command was not compatible with `docker top` syntax\n\n### Misc\n- Updated vendored Buildah to v1.8.2\n- Updated vendored containers/storage to v1.12.6\n- Updated vendored containers/psgo to v1.2.1\n- Updated to sysregistriesv2, including slight changes to the `registries.conf` config file\n- Rootless Podman now places all containers within a single user namespace. This change will not take effect for existing containers until containers are restarted, and containers that are not restarted may not be fully usable\n- The `podman run`, `podman create`, `podman start`, `podman restart`, `podman attach`, `podman stop`, `podman port`, `podman rm`, `podman top`, `podman image tree`, `podman generate kube`, `podman umount`, `podman container checkpoint`, and `podman container restore` commands are now available in the remote client\n- The Podman remote client now builds on Windows\n- A major refactor of volumes created using the `podman volume` command was performed. There should be no major user-facing changes, but downgrading from Podman 1.3 to previous versions may render some volumes unable to be removed.\n- The `podman events` command now logs events to journald by default. The old behavior (log to file) can be configured in podman.conf via the `events_logger` option\n- The `podman commit` command, in versions 1.2 and earlier, included all volumes mounted into the container as image volumes in the committed image. This behavior was incorrect and has been disabled by default; it can be re-enabled with the `--include-volumes` flag\n\n\n## 1.2.0\n### Features\n- Podman now supports image healthchecks! The `podman healthcheck run` command was added to manually run healthchecks, and the status of a running healthcheck can be viewed via `podman inspect`\n- The `podman events` command was added to show a stream of significant events\n- The `podman ps` command now supports a `--watch` flag that will refresh its output on a given interval\n- The `podman image tree` command was added to show a tree representation of an image's layers\n- The `podman logs` command can now display logs for multiple containers at the same time ([#2219](https://github.com/containers/podman/issues/2219))\n- The `podman exec` command can now pass file descriptors to the process being executed in the container via the `--preserve-fds` option ([#2372](https://github.com/containers/podman/issues/2372))\n- The `podman images` command can now filter images by reference ([#2266](https://github.com/containers/podman/issues/2266))\n- The `podman system df` command was added to show disk usage by Podman\n- The `--add-host` option can now be used by containers sharing a network namespace ([#2504](https://github.com/containers/podman/issues/2504))\n- The `podman cp` command now has an `--extract` option to extract the contents of a Tar archive and copy them into the container, instead of copying the archive itself ([#2520](https://github.com/containers/podman/issues/2520))\n- Podman now allows manually specifying the path of the `slirp4netns` binary for rootless networking via the `--network-cmd-path` flag ([#2506](https://github.com/containers/podman/issues/2506))\n- Rootless Podman can now be used with a single UID and GID, without requiring a full 65536 UIDs/GIDs to be allocated in `/etc/subuid` and `/etc/subgid` ([#1651](https://github.com/containers/podman/issues/1651))\n- The `podman runlabel` command now supports the `--replace` option to replace containers using the name requested\n- Infrastructure containers for Podman pods will now attempt to use the image's `CMD` and `ENTRYPOINT` instead of a fixed command ([#2182](https://github.com/containers/podman/issues/2182))\n- The `podman play kube` command now supports the `HostPath` and `VolumeMounts` YAML fields ([#2536](https://github.com/containers/podman/issues/2536))\n- Added support to disable creation of `resolv.conf` or `/etc/hosts` in containers by specifying `--dns=none` and `--no-hosts`, respectively, to `podman run` and `podman create` ([#2744](https://github.com/containers/podman/issues/2744))\n- The `podman version` command now supports the `{{ json . }}` template (which outputs JSON)\n- Podman can now forward ports using the SCTP protocol\n\n### Bugfixes\n- Fixed a bug where directories could not be passed to `podman run --device` ([#2380](https://github.com/containers/podman/issues/2380))\n- Fixed a bug where rootless Podman with the `--config` flag specified would not use appropriate defaults ([#2510](https://github.com/containers/podman/issues/2510))\n- Fixed a bug where rootless Podman containers using the host network (`--net=host`) would show SELinux as enabled in the container when there were no privileges to use it\n- Fixed a bug where importing very large images from `STDIN` could cause Podman to run out of memory\n- Fixed a bug where some images would fail to run due to symlinks in paths where Podman would normally mount tmpfs filesystems\n- Fixed a bug where `podman play kube` would sometimes segfault ([#2209](https://github.com/containers/podman/issues/2209))\n- Fixed a bug where `podman runlabel` did not respect the `$PWD` variable ([#2171](https://github.com/containers/podman/issues/2171))\n- Fixed a bug where error messages from refreshing the state in rootless Podman were not properly displayed ([#2584](https://github.com/containers/podman/issues/2584))\n- Fixed a bug where rootless `podman build` could not access DNS servers when `slirp4netns` was in use ([#2572](https://github.com/containers/podman/issues/2572))\n- Fixed a bug where rootless `podman stop` and `podman rm` would not work on containers which specified a non-root user ([#2577](https://github.com/containers/podman/issues/2577))\n- Fixed a bug where container labels whose values contained commas were incorrectly parsed and caused errors creating containers ([#2574](https://github.com/containers/podman/issues/2574))\n- Fixed a bug where calling Podman with a nonexistent command would exit 0, instead of with an appropriate error code ([#2530](https://github.com/containers/podman/issues/2530))\n- Fixed a bug where rootless `podman exec` would fail when `--user` was specified ([#2566](https://github.com/containers/podman/issues/2566))\n- Fixed a bug where, when a container had a name that was a fragment of another container's ID, Podman would refuse to operate on the first container by name\n- Fixed a bug where `podman pod create` would fail if a pod shared no namespaces but created an infra container\n- Fixed a bug where rootless Podman failed on the S390 and CRIS architectures\n- Fixed a bug where `podman rm` would exit 0 if no containers specified were found ([#2539](https://github.com/containers/podman/issues/2539))\n- Fixed a bug where `podman run` would fail to enable networking for containers with additional CNI networks specified ([#2795](https://github.com/containers/podman/issues/2795))\n- Fixed a bug where the `podman images` command on the remote client was not displaying digests ([#2756](https://github.com/containers/podman/issues/2756))\n- Fixed a bug where Podman was unable to clean up mounts in containers using user namespaces\n- Fixed a bug where `podman image save` would, when told to save to a path that exists, return an error, but still delete the file at the given path\n- Fixed a bug where specifying environment variables containing commas with `--env` would cause parsing errors ([#2712](https://github.com/containers/podman/issues/2712))\n- Fixed a bug where `podman umount` would not error if called with no arguments\n- Fixed a bug where the user and environment variables specified by the image used in containers created by `podman create kube` was being ignored ([#2665](https://github.com/containers/podman/issues/2665))\n- Fixed a bug where the `podman pod inspect` command would segfault if not given an argument ([#2681](https://github.com/containers/podman/issues/2681))\n- Fixed a bug where rootless `podman pod top` would fail ([#2682](https://github.com/containers/podman/issues/2682))\n- Fixed a bug where the `podman load` command would not error if an input file is not specified and a file was not redirected to `STDIN`\n- Fixed a bug where rootless `podman` could fail if global configuration was altered via flag (for example, `--root`, `--runroot`, `--storage-driver`)\n- Fixed a bug where forwarded ports that were part of a range (e.g. 20-30) were displayed individually by `podman ps`, as opposed to together as a range ([#1358](https://github.com/containers/podman/issues/1358))\n- Fixed a bug where `podman run --rootfs` could panic ([#2654](https://github.com/containers/podman/issues/2654))\n- Fixed a bug where `podman build` would fail if options were specified after the directory to build ([#2636](https://github.com/containers/podman/issues/2636))\n- Fixed a bug where image volumes made by `podman create` and `podman run` would have incorrect permissions ([#2634](https://github.com/containers/podman/issues/2634))\n- Fixed a bug where rootless containers were not using the containers/image blob cache, leading to slower image pulls\n- Fixed a bug where the `podman image inspect` command incorrectly allowed the `--latest`, `--type`, and `--size` options\n\n### Misc\n- Updated Buildah to v1.7.2\n- Updated `psgo` library to v1.2, featuring greatly improved safety during concurrent use\n- The `podman events` command may not show all activity regarding images, as only Podman was instrumented; images created, deleted, or pulled by CRI-O or Buildah will not be shown in `podman events`\n- The `podman pod top` and `podman pod stats` commands are now usable with the Podman remote client\n- The `podman kill` and `podman wait` commands are now usable with the Podman remote client\n- Removed the unused `restarting` state and mapped `stopped` (also unused) to `exited` in `podman ps --filter status`\n- Podman container, pod, and volume names may now contain the `.` (period) character\n\n## 1.1.2\n### Bugfixes\n- Fixed a bug where the `podman image list`, `podman image rm`, and `podman container list` had broken global storage options\n- Fixed a bug where the `--label` option to `podman create` and `podman run` was missing the `-l` alias\n- Fixed a bug where running Podman with the `--config` flag would not set an appropriate default value for `tmp_dir` ([#2408](https://github.com/containers/podman/issues/2408))\n- Fixed a bug where the `podman logs` command with the `--timestamps` flag produced unreadable output ([#2500](https://github.com/containers/podman/issues/2500))\n- Fixed a bug where the `podman cp` command would automatically extract `.tar` files copied into the container ([#2509](https://github.com/containers/podman/issues/2509))\n\n### Misc\n- The `podman container stop` command is now usable with the Podman remote client\n\n## 1.1.1\n### Bugfixes\n- Fixed a bug where `podman container restore` was erroneously available as `podman restore` ([#2191](https://github.com/containers/podman/issues/2191))\n- Fixed a bug where the `volume_path` option in `libpod.conf` was not being respected\n- Fixed a bug where Podman failed to build when the `varlink` tag was not present ([#2459](https://github.com/containers/podman/issues/2459))\n- Fixed a bug where the `podman image load` command was listed twice in help text\n- Fixed a bug where the `podman image sign` command was also listed as `podman sign`\n- Fixed a bug where the `podman image list` command incorrectly had an `image` alias\n- Fixed a bug where the `podman images` command incorrectly had `ls` and `list` aliases\n- Fixed a bug where the `podman image rm` command was being displayed as `podman image rmi`\n- Fixed a bug where the `podman create` command would attempt to parse arguments meant for the container\n- Fixed a bug where the combination of FIPS mode and user namespaces resulted in permissions errors\n- Fixed a bug where the `--time` alias for `--timeout` for the `podman restart` and `podman stop` commands did not function\n- Fixed a bug where the default stop timeout for newly-created containers was being set to 0 seconds (resulting in an immediate SIGKILL on running `podman stop`)\n- Fixed a bug where the output format of `podman port` was incorrect, printing full container ID instead of truncated ID\n- Fixed a bug where the `podman container list` command did not exist\n- Fixed a bug where `podman build` could not build a container from images tagged locally that did not exist in a registry ([#2469](https://github.com/containers/podman/issues/2469))\n- Fixed a bug where some Podman commands that accept no arguments would not error when provided arguments\n- Fixed a bug where `podman play kube` could not handle cases where a pod and a container shared a name\n\n### Misc\n- Usage text for many commands was greatly improved\n- Major cleanups were made to Podman manpages, ensuring that command lists are accurate\n- Greatly improved debugging output when the `newuidmap` and `newgidmap` binaries fail when using rootless Podman\n- The `-s` alias for the global `--storage-driver` option has been removed\n- The `podman container refresh` command has been deprecated, as its intended use case is no longer relevant. The command has been hidden and manpages deleted. It will be removed in a future release\n- The `podman container runlabel` command will now pull images not available locally even without the `--pull` option. The `--pull` option has been deprecated\n- The `podman container checkpoint` and `podman container restore` commands are now only available on OCI runtimes where they are supported (e.g. `runc`)\n\n## 1.1.0\n### Features\n- Added `--latest` and `--all` flags to `podman mount` and `podman umount`\n- Rootless Podman can now forward ports into containers (using the same `-p` and `-P` flags as root Podman)\n- Rootless Podman will now pull some configuration options (for example, OCI runtime path) from the default root `libpod.conf` if they are not explicitly set in the user's own `libpod.conf` ([#2174](https://github.com/containers/podman/issues/2174))\n- Added an alias `-f` for the `--format` flag of the `podman info` and `podman version` commands\n- Added an alias `-s` for the `--size` flag of the `podman inspect` command\n- Added the `podman system info` and `podman system prune` commands\n- Added the `podman cp` command to copy files between containers and the host ([#613](https://github.com/containers/podman/issues/613))\n- Added the `--password-stdin` flag to `podman login`\n- Added the `--all-tags` flag to `podman pull`\n- The `--rm` and `--detach` flags can now be used together with `podman run`\n- The `podman start` and `podman run` commands for containers in pods will now start dependency containers if they are stopped\n- Added the `podman system renumber` command to handle lock changes\n- The `--net=host` and `--dns` flags for `podman run` and `podman create` no longer conflict\n- Podman now handles mounting the shared /etc/resolv.conf from network namespaces created by `ip netns add` when they are passed in via `podman run --net=ns:`\n\n### Bugfixes\n- Fixed a bug with `podman inspect` where different information would be returned when the container was running versus when it was stopped\n- Fixed a bug where errors in Go templates passed to `podman inspect` were silently ignored instead of reported to the user ([#2159](https://github.com/containers/podman/issues/2159))\n- Fixed a bug where rootless Podman with `--pid=host` containers was incorrectly masking paths in `/proc`\n- Fixed a bug where full errors starting rootless `Podman` were not reported when a refresh was requested\n- Fixed a bug where Podman would override the config file-specified storage driver with the driver the backing database was created with without warning users\n- Fixed a bug where `podman prune` would prune all images not in use by a container, as opposed to only untagged images, by default ([#2192](https://github.com/containers/podman/issues/2192))\n- Fixed a bug where `podman create --quiet` and `podman run --quiet` were not properly suppressing output\n- Fixed a bug where the `table` keyword in Go template output of `podman ps` was not working ([#2221](https://github.com/containers/podman/issues/2221))\n- Fixed a bug where `podman inspect` on images pulled by digest would double-print `@sha256` in output when printing digests ([#2086](https://github.com/containers/podman/issues/2086))\n- Fixed a bug where `podman container runlabel` will return a non-0 exit code if the label does not exist\n- Fixed a bug where container state was always reset to Created after a reboot ([#1703](https://github.com/containers/podman/issues/1703))\n- Fixed a bug where `/dev/pts` was unconditionally overridden in rootless Podman, which was unnecessary except in very specific cases\n- Fixed a bug where Podman run as root was ignoring some options in `/etc/containers/storage.conf` ([#2217](https://github.com/containers/podman/issues/2217))\n- Fixed a bug where Podman cleanup processes were not being given the proper OCI runtime path if a custom one was specified\n- Fixed a bug where `podman images --filter dangling=true` would crash if no dangling images were present ([#2246](https://github.com/containers/podman/issues/2246))\n- Fixed a bug where `podman ps --format \"{{.Mounts}}\"` would not display a container's mounts ([#2238](https://github.com/containers/podman/issues/2238))\n- Fixed a bug where `podman pod stats` was ignoring Go templates specified by `--format` ([#2258](https://github.com/containers/podman/issues/2258))\n- Fixed a bug where `podman generate kube` would fail on containers with `--user` specified ([#2304](https://github.com/containers/podman/issues/2304))\n- Fixed a bug where `podman images` displayed incorrect output for images pulled by digest ([#2175](https://github.com/containers/podman/issues/2175))\n- Fixed a bug where `podman port` and `podman ps` did not properly display ports if the container joined a network namespace from a pod or another container ([#846](https://github.com/containers/podman/issues/846))\n- Fixed a bug where detaching from a container using the detach keys would cause Podman to hang until the container exited\n- Fixed a bug where `podman create --rm` did not work with `podman start --attach`\n- Fixed a bug where invalid named volumes specified in `podman create` and `podman run` could cause segfaults ([#2301](https://github.com/containers/podman/issues/2301))\n- Fixed a bug where the `runtime` field in `libpod.conf` was being ignored. `runtime` is legacy and deprecated, but will continue to be respected for the foreseeable future\n- Fixed a bug where `podman login` would sometimes report it logged in successfully when it did not\n- Fixed a bug where `podman pod create` would not error on receiving unused CLI argument\n- Fixed a bug where rootless `podman run` with the `--pod` argument would fail if the pod was stopped\n- Fixed a bug where `podman images` did not print a trailing newline when not invoked on a TTY ([#2388](https://github.com/containers/podman/issues/2388))\n- Fixed a bug where the `--runtime` option was sometimes not overriding `libpod.conf`\n- Fixed a bug where `podman pull` and `podman runlabel` would sometimes exit with 0 when they should have exited with an error ([#2405](https://github.com/containers/podman/issues/2405))\n- Fixed a bug where rootless `podman export -o` would fail ([#2381](https://github.com/containers/podman/issues/2381))\n- Fixed a bug where read-only volumes would fail in rootless Podman when the volume originated on a filesystem mounted `nosuid`, `nodev`, or `noexec` ([#2312](https://github.com/containers/podman/issues/2312))\n- Fixed a bug where some files used by checkpoint and restore received improper SELinux labels ([#2334](https://github.com/containers/podman/issues/2334))\n- Fixed a bug where Podman's volume path was not properly changed when containers/storage changed location ([#2395](https://github.com/containers/podman/issues/2395))\n\n### Misc\n- Podman migrated to a new, shared memory locking model in this release. As part of this, if you are running Podman with pods or dependency containers (e.g. `--net=container:`), you should run the `podman system renumber` command to migrate your containers to the new model - please reference the `podman-system-renumber(1)` man page for further details\n- Podman migrated to a new command-line parsing library, and the output format of help and usage text has somewhat changed as a result\n- Updated Buildah to v1.7, picking up a number of bugfixes\n- Updated containers/image library to v1.5, picking up a number of bugfixes and performance improvements to pushing images\n- Updated containers/storage library to v1.10, picking up a number of bugfixes\n- Work on the remote Podman client for interacting with Podman remotely over Varlink is progressing steadily, and many image and pod commands are supported - please see the [Readme](https://github.com/containers/podman/blob/main/remote_client.md) for details\n- Added path masking to mounts with the `:z` and `:Z` options, preventing users from accidentally performing an SELinux relabel of their entire home directory\n- The `podman container runlabel` command will not pull an image if it does not contain the requested label\n- Many commands' usage information now includes examples\n- `podman rm` can now delete containers in containers/storage, which can be used to resolve some situations where Podman fails to remove a container\n- The `podman search` command now searches multiple registries in parallel for improved performance\n- The `podman build` command now defaults `--pull-always` to true\n- Containers which share a network namespace (for example, when in a pod) will now share /etc/hosts and /etc/resolv.conf between all containers in the pod, causing changes in one container to propagate to all containers sharing their networks\n- The `podman rm` and `podman rmi` commands now return 1 (instead of 127) when all specified container or images are missing\n\n## 1.0.0\n### Features\n- The `podman exec` command now includes a `--workdir` option to set working directory for the executed command\n- The `podman create` and `podman run` commands now support the `--init` flag to use a minimal init process in the container\n- Added the `podman image sign` command to GPG sign images\n- The `podman run --device` flag now accepts directories, and will added any device nodes in the directory to the container\n- Added the `podman play kube` command to create pods and containers from Kubernetes pod YAML\n\n### Bugfixes\n- Fixed a bug where passing `podman create` or `podman run` volumes with an empty host or container path could cause a segfault\n- Fixed a bug where `storage.conf` was sometimes ignored for rootless containers\n- Fixed a bug where Podman run as root would error if CAP_SYS_RESOURCE was not available\n- Fixed a bug where Podman would fail to start containers after a system restart due to an out-of-date default Apparmor profile\n- Fixed a bug where Podman's bash completions were not working\n- Fixed a bug where `podman login` would use existing login credentials even if new credentials were provided\n- Fixed a bug where Podman could create some directories with the wrong permissions, breaking containers with user namespaces\n- Fixed a bug where `podman runlabel` was not properly setting container names when the `--name` was specified\n- Fixed a bug where `podman runlabel` sometimes included extra spaces in command output\n- Fixed a bug where `podman commit` was including invalid port numbers in created images when committing containers with published ports\n- Fixed a bug where `podman exec` was not honoring the container's environment variables\n- Fixed a bug where `podman run --device` would fail when a symlink to a device was specified\n- Fixed a bug where `podman build` was not properly picking up OCI runtime paths specified in `libpod.conf`\n- Fixed a bug where Podman would mount `/dev/shm` into the container read-only for read-only containers (`/dev/shm` should always be read-write)\n- Fixed a bug where Podman would ignore any mount whose container mountpoint was `/dev/shm`\n- Fixed a bug where `podman export` did not work with the default `fuse-overlayfs` storage driver\n- Fixed a bug where `podman inspect -f '{{ json .Config }}'` on images would not output anything (it now prints the image's config)\n- Fixed a bug where `podman rmi -fa` displayed the wrong error message when trying to remove images used by pod infra containers\n\n### Misc\n- Rootless containers now unconditionally use postrun cleanup processes, ensuring resources are freed when the container stops\n- A new version of Buildah is included for `podman build`, featuring improved build speed and numerous bugfixes\n- Pulling images has been parallelized, allowing individual layers to be pulled in parallel\n- The `podman start --attach` command now defaults the `sig-proxy` option to `true`, matching `podman create` and `podman run`\n- The `podman info` command now prints the path of the configuration file controlling container storage\n- Added `podman list` and `podman ls` as aliases for `podman ps`, and `podman container ps` and `podman container list` as aliases for `podman container ls`\n- Changed `podman generate kube` to generate Kubernetes service YAML in the same file as pod YAML, generating a single file instead of two\n- To improve compatibility with the Docker command line, `podman inspect -f '{{ json .ContainerConfig }}'` on images is no longer valid; please use `podman inspect -f '{{ json .Config }}'` instead\n\n## 0.12.1.2\n### Bugfixes\n- Fixed a bug where an empty path for named volumes could make it impossible to create containers\n- Fixed a bug where containers using another container's network namespace would not also use the other container's /etc/hosts and /etc/resolv.conf\n- Fixed a bug where containers with `--rm` which failed to start were not removed\n- Fixed a potential race condition attempting to read `/etc/passwd` inside containers\n\n## 0.12.1.1\n### Features\n- Added the `podman generate kube` command to generate Kubernetes Pod and Service YAML for Podman containers and pods\n- The `podman pod stop` flag now accepts a `--timeout` flag to set the timeout for stopping containers in the pod\n\n### Bugfixes\n- Fixed a bug where rootless Podman would fail to start if the default OCI hooks directory is not present\n\n## 0.12.1\n### Features\n- Rootless Podman now creates the storage.conf, libpod.conf, and mounts.conf configuration files automatically in `~/.config/containers/` for ease of reconfiguration\n- The `podman pod create` command can expose ports in the pod's network namespace, allowing public services to be created in pods\n- The `podman container checkpoint` command can now keep containers running after they are checkpointed with the `--leave-running` flag\n- The `podman container checkpoint` and `podman container restore` commands now support the `--tcp-established` flag to checkpoint and restore containers with active TCP connections\n- The `podman version` command now has a `--format` flag to produce machine-readable output\n- Added the `podman container exists`, `podman pod exists`, and `podman image exists` commands to easily check for a container/pod/image, respectively, by name or ID\n- The `podman ps --pod` flag now has a short alias, `-p`\n- The `podman rmi` and `podman rm` commands now have a `--prune` flag to prune unused images and containers, respectively\n- The `podman ps` command now has a `--sync` flag to force a sync of Podman's state against the OCI runtime, resolving some state desync errors\n- Added the `podman volume` set of commands for creating and managing local-only named volumes\n\n### Bugfixes\n- Fixed a breaking change in rootless Podman where a change in default paths caused Podman to be unable to function on systems upgraded from 0.10.x or earlier\n- Fixed a bug where `podman exec` without `-t` would still use a terminal if the container was created with `-t`\n- Fixed a bug where container root propagation was not being properly adjusted if volumes with root propagation set were mounted into the container\n- Fixed a bug where `podman exec` could hold the container lock longer than necessary waiting for an exited container\n- Fixed a bug where rootless containers using `slirp4netns` for networking were reporting using `bridge` networking in `podman inspect`\n- Fixed a bug where `podman container restore -a` was attempting to restore all containers, including created and running ones. It will now only attempt to restore stopped and exited containers\n- Fixed a bug where rootless Podman detached containers were not being properly cleaned up\n- Fixed a bug where privileged containers were being mounted with incorrect (too restrictive) mount options such as `nodev`\n- Fixed a bug where `podman stop` would throw an error attempting to stop a container that had already stopped\n- Fixed a bug where `NOTIFY_SOCKET` was not properly being passed into Podman containers\n- Fixed a bug where `/dev/shm` was not properly mounted in rootless containers\n- Fixed a bug where rootless Podman would set up the CNI plugins for networking (despite not using them in rootless mode), potentially causing `inotify` related errors\n- Fixed a bug where Podman would error on numeric GIDs that do not exist in the container's `/etc/group`\n- Fixed a bug where containers in pods or created with `--net=container` were not mounting `/etc/resolv.conf` and `/etc/hosts`\n\n### Misc\n- `podman build` now defaults the `--force-rm` flag to `true`\n- Improved `podman runlabel` support for labels featuring arguments with whitespace\n- Containers without a network namespace will now use the host's `resolv.conf`\n- The `slirp4netns` network mode can now be used with containers running as root. It may be useful for container-in-container scenarios where the outer container does not have host networking set\n- Podman now uses `inotify` to wait for container exit files to be created, instead of polling. If `inotify` cannot be used, Podman will fall back to polling to check if the fil"
        },
        {
          "name": "RELEASE_PROCESS.md",
          "type": "blob",
          "size": 17.7431640625,
          "content": "# Podman Releases\n\n## Overview\n\nPodman (and podman-remote) versioning is mostly based on [semantic-versioning\nstandards](https://semver.org).\nSignificant versions\nare tagged, including *release candidates* (`rc`).\nAll relevant **minor** releases (`vX.Y`) have their own branches.  The **latest**\ndevelopment efforts occur on the *main* branch.  Branches with a\n*rhel* suffix are use for long-term support of downstream RHEL releases.\n\n## Release workflow expectations\n\n* You have push access to the [upstream podman repository](https://github.com/containers/podman.git)\n* You understand all basic `git` operations and concepts, like creating commits,\n  local vs. remote branches, rebasing, and conflict resolution.\n* You have access to your public and private *GPG* keys.\n* You have reliable internet access (i.e. not the public WiFi link at McDonalds)\n* Other podman maintainers are online/available for assistance if needed.\n* For a **major** release, you have 4-8 hours of time available, most of which will\n  be dedicated to writing release notes.\n* For a **minor** or **patch** release, you have 2-4 hours of time available\n  (minimum depends largely on the speed/reliability of automated testing)\n* You will announce the release on the proper platforms\n  (i.e. Podman blog, Twitter, Mastodon Podman and Podman-Desktop mailing lists)\n\n# Prechecks\n\nTwo days before actually cutting a release (including RCs), send an announcement to the\n[podman-desktop](mailto:podman-desktop@lists.podman.io)\nmailing list about the upcoming release. This will help the Podman Desktop team test and schedule\ntheir own new release.\n\n# Releases\n\n## Major (***X***.y.z) release\n\nThese releases always begin from *main*, and are contained in a branch\nnamed with the **major** and **minor** version. **Major** release branches\nbegin in a *release candidate* phase, with prospective release tags being\ncreated with an `-rc` suffix.  There may be multiple *release candidate*\ntags before the final/official **major** version is tagged and released.\n\n## Significant minor (x.**Y**.z) and patch (x.y.**Z**) releases\n\nSignificant **minor** and **patch** level releases are normally\nbranched from *main*, but there are occasional exceptions.\nAdditionally, these branches may be named with `-rhel` (or another)\nsuffix to signify a specialized purpose.  For example, `-rhel` indicates\na release intended for downstream *RHEL* consumption.\n\n## Unreleased Milestones\n\nNon-release versions may occasionally appear tagged on a branch, without\nthe typical (major) receive media postings or artifact distribution.  For\nexample, as required for the (separate) RHEL release process.  Otherwise\nthese tags are simply milestones of reference purposes and may\ngenerally be safely ignored.\n\n## Process\n\n***Note:*** This is intended as a guideline, and generalized process.\nNot all steps are applicable in all situations.  Not all steps are\nspelled with complete minutiae.\n\n1. Create a new upstream release branch (if none already exist).\n\n   1. Check if a release branch is needed. Typically, major and minor version bumps\n      should be branched sometime during the release candidate phase. Patch\n      releases typically already have a branch created.\n      Branching ensures all changes are curated before inclusion in the\n      release, and no new features land after the *release-candidate* phases\n      are complete.\n   1. Ensure your local clone is fully up to date with the remote upstream\n      (`git remote update`).  Switch to this branch (`git checkout upstream/main`).\n   1. Make a new local branch for the release based on *main*. For example,\n      `git checkout -b vX.Y`.  Where `X.Y` represent the complete release\n      version-name, including any suffix (if any) like `-rhel`.  ***DO NOT***\n      include any `-rc` suffix in the branch name.\n   1. Edit the `.cirrus.yml` file, changing the `DEST_BRANCH` value (under the\n      `env` section) to the new, complete branch name (e.x. `vX.Y`).\n       Commit and sign, using the description\n      `Cirrus: Update operating branch`.\n   1. Push the new branch otherwise unmodified (`git push upstream vX.Y`).\n   1. Automation will begin executing on the branch immediately.  Because\n      the repository allows out-of-sequence PR merging, it is possible that\n      merge order introduced bugs/defects.  To establish a clean\n      baseline, observe the initial CI run on the branch for any unexpected\n      failures.  This can be done by going directly to\n      `https://cirrus-ci.com/github/containers/podman/vX.Y`\n   1. If there are CI test or automation boops that need fixing on the branch,\n      attend to them using normal PR process (to *main* first, then backport\n      changes to the new branch).  Ideally, CI should be \"green\" on the new\n      branch before proceeding.\n\n   1. Create a new branch-verification Cirrus-Cron entry.\n\n      1. This is to ensure CI's VM image timestamps are refreshed.  Without this,\n         the VM images ***will*** be permanently pruned after 60 days of inactivity\n         and are hard/impossible to re-create accurately.\n      1. Go to\n         [https://cirrus-ci.com/github/containers/podman](https://cirrus-ci.com/github/containers/podman)\n         and press the \"gear\" (Repository Settings) button on the top-right.\n      1. At the bottom of the settings page is a table of cron-job names, branches,\n         schedule, and recent status.  Below that is an editable new-entry line.\n      1. Set the new job's `name` and `branch` to the name of new release branch.\n      1. Set the `expression` using the form `X X X ? * 1-6` where 'X' is a number\n         between 0-23 and not already taken by another job in the table.  The 1-hour\n         interval is used because it takes about that long for the job to run.\n      1. Add the new job by pressing the `+` button on the right-side of the\n         new-entry line.\n\n\n1. Create a new local working-branch to develop the release PR\n   1. Ensure your local clone is fully up to\n      date with the remote upstream (`git remote update`).\n   1. Create a local working branch based on `upstream/main` or the correct upstream branch.\n      Example: `git checkout -b bump_vX.Y.Z --no-track upstream/vX.Y`\n\n1. Compile release notes.\n\n   1. Ensure any/all intended PR's are completed and merged prior to any\n      processing of release notes.\n   1. Find all commits since the last release. There is a script, `/hack/branch_commits.rb`\n      that is helpful for finding all commits in one branch, but not in another,\n      accounting for cherry-picks. Commits in base branch that are not in\n      the old branch will be reported. `ruby branch_commits.rb upstream/main upstream/vX.Y`\n      Keep this list open/available for reference as you edit.\n   1. Edit `RELEASE_NOTES.md`\n\n      * Add/update the version-section of with sub-sections for *Features*\n        (new functionality), *Changes* (Altered podman behaviors),\n        *Bugfixes* (self-explanatory), *API* (All related features,\n        changes, and bugfixes), and *Misc* (include any **major**\n        library bumps, e.g. `c/buildah`, `c/storage`, `c/common`, etc).\n      * Use your merge-bot reference PR-listing to examine each PR in turn,\n        adding an entry for it into the appropriate section.\n      * Use the list of commits to find the PR that the commit came from.\n        Write a release note if needed.\n\n        * Use the release note field in the PR as a guideline.\n          It may be helpful but also may need rewording for consistency.\n          Some PR's with a release note field may not need one, and some PR's\n          without a release note field may need one.\n        * Be sure to link any issue the PR fixed.\n        * Do not include any PRs that are only documentation or test/automation\n          changes.\n        * Do not include any PRs that fix bugs which we introduced due to\n          new features/enhancements.  In other words, if it was working, broke, then\n          got fixed, there's no need to mention those items.\n\n   1. Commit the `RELEASE_NOTES.md` changes, using the description\n      `Create release notes for vX.Y.Z` (where `X`, `Y`, and `Z` are the\n      actual version numbers).\n   1. Open a Release Notes PR, or include this commit with the version bump PR\n       * If you decide to open a PR with just release notes, make sure that\n         the commit has the prefix `[CI:DOCS]` to avoid triggering\n         lengthy automated testing.\n       * Otherwise, the release notes commit can also be included in the\n         following release PR.\n\n1. Update version numbers and push tag\n\n   1. Edit `version/rawversion/version.go` and bump the `Version` value to the new\n      release version.  If there were API changes, also bump `APIVersion` value.\n      Make sure to also bump the version in the swagger.yaml `pkg/api/server/docs.go`\n      For major and minor versions also add the new branch name to\n      `docs/source/Reference.rst` to show the new swagger version on docs.podman.io.\n   1. Commit this and sign the commit (`git commit -a -s -S`). The commit message\n      should be `Bump to vX.Y.Z` (using the actual version numbers).\n   1. Push this single change to your GitHub fork, and make a new PR,\n      **being careful** to select the proper release branch as its base.\n   1. Wait for all automated tests pass (including on an RC-branch PR).  Re-running\n      and/or updating code as needed.\n   1. In the PR, under the *Checks* tab, locate and clock on the Cirrus-CI\n      task `Optional Release Test`.  In the right-hand window pane, click\n      the `trigger` button and wait for the test to go green.  *This is a\n      critical step* which confirms the commit is worthy of becoming a release.\n   1. Tag the `Bump to vX.Y.Z` commit as a release by running\n      `git tag -s -m 'vX.Y.Z' vX.Y.Z $HASH` where `$HASH` is specified explicitly\n      and carefully, to avoid (basically) unfixable accidents (if they are pushed).\n   1. Change `version/rawversion/version.go` again. This time, bump the **patch** version and\n      re-add the `-dev` suffix to indicate this is a non-released version of Podman.\n   1. Change `contrib/spec/podman.spec.in`, bumping **patch** number of `Version`.\n   1. Commit these changes with the message `Bump to X.Y.Z-dev`.\n   1. Push your local branch to your GitHub fork (and the PR) again.\n   1. The PR should now have two commits that look very similar to\n      https://github.com/containers/podman/pull/7787\n      Note: Backports and release note commits may also be included in the release PR.\n   1. Wait for at least all the \"Build\" and \"Verify\" (or similar) CI Testing\n      steps to complete successfully.  No need to wait for complete integration\n      4and system-testing (it was already done on substantially the same code, above).\n   1. Merge the PR (or ask someone else to review and merge, to be safer).\n   1. **Note:** This is the last point where any test-failures can be addressed\n      by code changes. After pushing the new version-tag upstream, no further\n      changes can be made to the code without lots of unpleasant efforts.  Please\n      seek assistance if needed, before proceeding.\n\n   1. Assuming the \"Bump to ...\" PR merged successfully, and you're **really**\n      confident the correct commit has been tagged, push it with\n      `git push upstream vX.Y.Z`\n\n1. Locate, Verify release testing is proceeding\n\n   1. When the tag was pushed, an automated build was created. Locate this\n      by starting from\n      `https://github.com/containers/podman/tags` and finding the recent entry\n      for the pushed tag.  Under the tag name will be a timestamp and abbrieviated\n      commit hash, for example `<> 5b2585f`.  Click the commit-hash link.\n   1. In the upper-left most corner, just to the left of the \"Bump to vX.Y\"\n      text, will be a small status icon (Yellow circle, Red \"X\", or green check).\n      Click this, to open a small pop-up/overlay window listing all the status\n      checks.\n   1. In the small pop-up/overlay window, press the \"Details\" link on one of the\n      Cirrus-CI status check entries (doesn't matter which one).\n   1. On the following page, in the lower-right pane, will be a \"View more details\n      on Cirrus CI\" link, click this.\n   1. A Cirrus-CI task details page will open, click the button labeled\n      \"View All Tasks\".\n   1. Keep this page open to monitor its progress and for use in future steps.\n\n1. Bump main `-dev` version\n\n   1. If you made a release branch and bumped **major** or **minor** version\n      Complete the \"Update version numbers and push tag\" steps above on the\n      *main* branch.  Bump the **minor** version and set the **patch**\n      version to 0.  For example, after pushing the v2.2.0 release, *main*\n      should be set to v2.3.0-dev.\n   1. Create a \"Bump to vX.Y.Z-dev\" commit with these changes.\n   1. Update `RELEASE_NOTES.md` on main. Commit these changes.\n   1. Create a PR with the above commits, and oversee it's merging.\n\n1. Create GitHub Release entry and upload assets\n\n   1. Return to the Cirrus-CI Build page for the new release tag, confirm\n      (or wait for) it to complete, re-running any failed tasks as appropriate.\n   1. Go to `https://github.com/containers/podman/releases/tag/vX.Y.Z` and\n      press the \"Edit Release\" button.  Change the name to the form `vX.Y.Z`\n   1. If this is a release candidate be certain to click the pre-release\n      checkbox at the bottom of the page.\n   1. If this new release will be the latest version released, be certain to\n      click the latest release checkbox at the bottom of the page.\n   1. Copy and paste the release notes for the release into the body of\n      the release.\n   1. Click the Publish button to make the release (or pre-release)\n      available.\n   1. For all releases, including RC's, artifacts should be published. The\n      release-artifacts, upload-win-installer, and mac-pkg GitHub Actions\n      should automatically take care of building, signing, and uploading artifacts.\n      Check the \"Actions\" tab, after publishing you should see the jobs running.\n      There may be more than one running due to the multiple\n      event states triggered, but this can be ignored, as any duplicates\n      will gracefully back-off. The job takes 5-6 minutes to complete.\n\n      Please note that the Windows action depends on the artifact action, and will be\n      triggered after the artifact action succeeds.\n\n      If any of these actions are somehow not triggered, you can manually trigger them\n\n      ### *CLI Approach*\n      1. Install the [GitHub CLI](https://github.com/cli/cli#installation)\n      1. Run (replacing below version number to release version)\n         ```\n         gh workflow run \"ACTION NAME\" -F version=\"vX.Y.Z\"\n         ```\n      ### *GUI Approach*\n      1. Go to the \"Actions\" tab\n      1. On the left pick the required action to be triggered.\n      1. A blue box will appear above the job list with a right side drop\n         -down. Click the drop-down and specify the version number in the\n         dialog that appears\n   1. Check that all following artifacts are now attached to the release\n         * podman-remote-release-darwin_amd64.zip\n         * podman-remote-release-darwin_arm64.zip\n         * podman-remote-release-windows_amd64.zip\n         * podman-vX.Y.Z.msi\n         * podman-remote-static-linux_amd64.tar.gz\n         * podman-remote-static-linux_arm64.tar.gz\n         * podman-installer-macos-amd64.pkg\n         * podman-installer-macos-arm64.pkg\n         * podman-5.2.1-setup.exe\n         * shasums\n\n1. Update Cirrus-CI cron job list\n   1. After any Major or significant minor (esp. `-rhel`) releases, it's critical to\n      maintain the Cirrus-CI cron job list.  This applies to all containers-org repos,\n      not just podman.\n   1. Access the repo. settings WebUI by navigating to\n      `https://cirrus-ci.com/github/containers/<repo name>`\n      and clicking the gear-icon in the upper-right.\n   1. For minor (i.e. **NOT** `-rhel`) releases, (e.x. `vX.Y`), the previous release\n      should be removed from rotation (e.x. `vX.<Y-1>`) assuming it's no longer supported.\n      Simply click the trash-can icon to the right of the job definition.\n   1. For `-rhel` releases, these are tied to products with specific EOL dates.  They should\n      *never* be disabled unless you (and a buddy) are *absolutely* certain the product is EOL\n      and will *never* ever see another backport (CVE or otherwise).\n   1. On the settings page, pick a \"less used\" time-slot based on the currently defined\n      jobs.  For example, if three jobs specify `12 12 12 ? * 1-6`, choose another.  Any\n      spec. `H`/`M`/`S` value between 12 and 22 is acceptable (e.x. `22 22 22 ? * 1-6`).\n      The point is to not overload the clouds with CI jobs.\n   1. Following the pattern of the already defined jobs, at the bottom of the settings\n      page add a new entry.  The \"Name\" should reflect the version number, the \"Branch\"\n      is simply the newly created release branch name (must be exact), and the \"Expression\"\n      is the time slot you selected (copy-paste).\n   1. Click the \"+\" button next to the new-job row you just filled out.\n\n1. Announce the release\n      1. For major and minor releases, write a blog post and publish it to blogs.podman.io\n         Highlight key features and important changes or fixes. Link to the GitHub release.\n         Make sure the blog post is properly tagged with the Announcement, Release, and Podman tags,\n         and any other appropriate tags.\n      1. For all releases, including patch releases and RC's, send an email to the [podman](mailto:podman@lists.podman.io) and [podman-desktop](mailto:podman-desktop@lists.podman.io) mailing lists. This should be automated by the release-artifacts\n      action, but it's best to keep and eye on it to see if the email went through to the lists.\n         Link the to release blog and GitHub release.\n      1. Update [LATEST_VERSION](https://github.com/containers/podman.io/blob/main/static/data/global.ts) on the Podman.io website.\n      1. Tweet the release. Make a Mastodon post about the release.\n      1. RC's can also be announced if needed.\n"
        },
        {
          "name": "ROADMAP.md",
          "type": "blob",
          "size": 1.173828125,
          "content": "![PODMAN logo](https://raw.githubusercontent.com/containers/common/main/logos/podman-logo-full-vert.png)\n\n# Podman Roadmap\n\nThe Podman development team reviews feature requests from its various stakeholders for consideration\nquarterly.  Podman maintainers then prioritize these features.   Top features are then assigned to\none or more engineers.\n\n\n## Future feature focus\n\n* Further improvements to `podman machine` to better support Podman Desktop and other developer usecases.\n  - Smoother upgrade process for Podman machine operating system (OS) images\n  - Release and pipeline automation for Podman machine OS images\n  - Performance improvements\n  - Convergence of WSL technologies with other providers including its OS\n* OCI artifact support\n* Integration of composefs\n* Partial pull support (zstd:chunked)\n* Improved support for the BuildKit API.\n* Performance and stability improvements.\n* Reductions to the size of the Podman binary.\n\n## Previous quarterly feature prioritizations\n\nThis section is a historical account of what features were prioritized by quarter.  Results of the prioritization will be added before at the beginning of each quarter (Jan, Apr, July, Oct).\n\n**2025 Q1**\n\n* TBD\n"
        },
        {
          "name": "SECURITY.md",
          "type": "blob",
          "size": 0.2294921875,
          "content": "## Security and Disclosure Information Policy for the Podman Project\n\nThe Podman Project follows the [Security and Disclosure Information Policy](https://github.com/containers/common/blob/main/SECURITY.md) for the Containers Projects.\n"
        },
        {
          "name": "build_osx.md",
          "type": "blob",
          "size": 2.2431640625,
          "content": "# Building the Podman client on macOS\n\nThe following describes the process for building the Podman client on macOS.\n\n## Install brew\nPodman requires brew -- a package manager for macOS.  This will allow additional packages to be installed that are\nneeded by Podman.  See the [brew project page](https://brew.sh/) for installation instructions.\n\n## Install build dependencies\nPodman requires some software from brew to be able to build.  This can be done using brew from a macOS terminal:\n\n```\n$ brew install go go-md2man\n```\n\n## Obtain Podman source code\n\nYou can obtain the latest source code for Podman from its github repository.\n\n```\n$ git clone https://github.com/containers/podman go/src/github.com/containers/podman\n```\n\n## Build client\nAfter completing the preparatory steps of obtaining the Podman source code and installing its dependencies, the client\ncan now be built.\n\n```\n$ cd go/src/github.com/containers/podman\n$ make podman-remote\n$ mv bin/darwin/podman bin/podman\n```\n\nThe binary will be located in bin/\n```\n$ ls -l bin/\n```\n\n### Using gvproxy from homebrew, with podman from git\n\nRecent podman builds depend on a `gvproxy` binary which comes from [containers/gvisor-tap-vsock](https://github.com/containers/gvisor-tap-vsock).  A common development scenario may be using the podman desktop app as a baseline, with a development\nbinary of `podman` you build from git.  To ensure that the podman you build here can find the gvproxy installed from podman desktop, use:\n\n`make podman-remote HELPER_BINARIES_DIR=/opt/podman/bin`\n\n(Also note that because the `Makefile` rules do not correctly invalidate the binary when this variable changes,\n so if you already have a build you'll need to `rm bin/darwin/podman` first if you have an existing build).\n\nAlternatively, you can set `helper_binaries_dir=` in `~/.config/containers/containers.conf`.\n\n### Building docs\n\nIf you would like to build the docs associated with Podman on macOS:\n```\n$ make podman-remote-darwin-docs\n$ ls docs/build/remote/darwin\n```\n\nTo install and view these manpages:\n\n```\n$ cp -a docs/build/remote/darwin/* /usr/share/man/man1\n$ man podman\n```\n\n## Using the client\n\nTo learn how to use the Podman client, refer to its\n[tutorial](https://github.com/containers/podman/blob/main/docs/tutorials/remote_client.md).\n"
        },
        {
          "name": "build_windows.md",
          "type": "blob",
          "size": 18.626953125,
          "content": "# Building the Podman client and client installer on Windows\n\nThe following describes the process for building and testing the Podman Windows\nclient (`podman.exe`) and the Podman Windows installer (`podman-setup.exe`) on\nWindows.\n\n## Topics\n\n- [Requirements](#requirements)\n  - [OS requirements](#os-requirements)\n  - [Git and go](#git-and-go)\n  - [Pandoc](#pandoc)\n  - [.NET SDK](#net-sdk)\n  - [Visual Studio Build Tools](#visual-studio-build-tools)\n  - [Virtualization Provider](#virtualization-provider)\n    - [WSL](#wsl)\n    - [Hyper-V](#hyper-v)\n- [Get the source code](#get-the-source-code)\n  - [Allow local PowerShell scripts execution](#allow-local-powershell-scripts-execution)\n- [Build and test the Podman client for Windows](#build-and-test-the-podman-client-for-windows)\n  - [Build the Podman client](#build-the-podman-client)\n  - [Download gvproxy.exe and win-sshproxy.exe](#download-gvproxyexe-and-win-sshproxyexe)\n  - [Create a configuration file (optional)](#create-a-configuration-file-optional)\n  - [Create and start a podman machine](#create-and-start-a-podman-machine)\n  - [Run a container using podman](#run-a-container-using-podman)\n- [Build and test the Podman Windows installer](#build-and-test-the-podman-windows-installer)\n  - [Build the Windows installer](#build-the-windows-installer)\n  - [Test the Windows installer](#test-the-windows-installer)\n  - [Build and test the standalone `podman.msi` file](#build-and-test-the-standalone-podmanmsi-file)\n  - [Verify the installation](#verify-the-installation)\n  - [Uninstall and clean-up](#uninstall-and-clean-up)\n- [Validate changes before submitting a PR](#validate-changes-before-submitting-a-pr)\n  - [winmake lint](#winmake-lint)\n  - [winmake validatepr](#winmake-validatepr)\n\n## Requirements\n\n### OS requirements\n\nThis documentation assumes one uses a Windows 10 or 11 development machine and a\nPowerShell terminal.\n\n### Git and go\n\nTo build Podman, the [git](https://gitforwindows.org/) and [go](https://go.dev)\ntools are required. In case they are not yet installed, open a Windows\nPowerShell terminal and run the following command (it assumes that\n[winget](https://learn.microsoft.com/en-us/windows/package-manager/winget/) is\ninstalled):\n\n```pwsh\nwinget install -e GoLang.Go Git.Git\n```\n\n:information_source: A terminal restart is advised for the `PATH` to be\nreloaded. This can also be manually changed by configuring the `PATH`:\n\n```pwsh\n$env:Path += \";C:\\Program Files\\Go\\bin\\;C:\\Program Files\\Git\\cmd\\\"\n```\n\n### Pandoc\n\n[Pandoc](https://pandoc.org/) is used to generate Podman documentation. It is\nrequired for building the documentation and the\n[bundle installer](#build-the-installer). It can be avoided when building and\ntesting the\n[Podman client for Windows](#build-and-test-the-podman-client-for-windows) or\n[the standalone `podman.msi` installer](#build-and-test-the-standalone-podmanmsi-file).\nPandoc can be installed from https://pandoc.org/installing.html. When performing\nthe Pandoc installation one, has to choose the option \"Install for all users\"\n(to put the binaries into \"Program Files\" directory).\n\n### .NET SDK\n\n[.NET SDK](https://learn.microsoft.com/en-us/dotnet/core/sdk), version 6 or\nlater, is required to develop and build the Podman Windows installer. It's not\nrequired for the Podman Windows client.\n\n```pwsh\nwinget install -e Microsoft.DotNet.SDK.8\n```\n\n[WiX Toolset](https://wixtoolset.org) **v5**, distributed as a .NET SDK tool, is\nused too and can be installed using `dotnet install`:\n\n```pwsh\ndotnet tool install --global wix\n```\n\n### Visual Studio Build Tools\n\nThe installer includes a C program that checks the installation of the\npre-required virtualization providers (WSL or Hyper-V). Building this program\nrequires the\n[Microsoft C/C++ compiler](https://learn.microsoft.com/en-us/cpp/build/building-on-the-command-line?view=msvc-170) and the\n[PowerShell Module VSSetup](https://github.com/microsoft/vssetup.powershell):\n\n1. Download the Build Tools for Visual Studio 2022 installer\n```pwsh\nInvoke-WebRequest -Uri 'https://aka.ms/vs/17/release/vs_BuildTools.exe' -OutFile \"$env:TEMP\\vs_BuildTools.exe\"\n```\n2. Run the installer with the parameter to include the optional C/C++ Tools\n```pwsh\n& \"$env:TEMP\\vs_BuildTools.exe\" --passive --wait `\n                      --add Microsoft.VisualStudio.Workload.VCTools `\n                      --includeRecommended `\n                      --remove Microsoft.VisualStudio.Component.VC.CMake.Project\n```\n3. Install the PowerShell Module VSSetup\n```pwsh\nInstall-Module VSSetup\n```\n\n### Virtualization Provider\n\nRunning Podman on Windows requires a virtualization provider. The supported\nproviders are the\n[Windows Subsystem for Linux (WSL)](https://learn.microsoft.com/en-us/windows/wsl/)\nand\n[Hyper-V](https://learn.microsoft.com/en-us/virtualization/hyper-v-on-windows/quick-start/enable-hyper-v).\nAt least one of those two is required to test podman on a local Windows machine.\n\n#### WSL\n\nWSL can be installed on Windows 10 and Windows 11, including Windows Home, with\nthe following command, from a PowerShell or Windows Command Prompt terminal in\n**administrator mode**:\n\n```pwsh\nwsl --install\n```\n\nFor more information refer to\n[the official documentation](https://learn.microsoft.com/en-us/windows/wsl/).\n\n#### Hyper-V\n\nHyper-V is an optional feature of Windows Enterprise, Pro, or Education (not\nHome). It is available on Windows 10 and 11 only and\n[has some particular requirements in terms of CPU and memory](https://learn.microsoft.com/en-us/virtualization/hyper-v-on-windows/quick-start/enable-hyper-v#check-requirements).\nTo enable it on a supported system, enter the following command:\n\n```pwsh\nEnable-WindowsOptionalFeature -Online -FeatureName Microsoft-Hyper-V -All\n```\n\nAfter running this command, a restart of the Windows machine is required.\n\n:information_source: Configure the VM provider used by podman (Hyper-V or WSL)\nin the file `%PROGRAMDATA%/containers/containers.conf`.\n[More on that later](#create-a-configuration-file-optional).\n\n## Get the source code\n\nOpen a Windows Terminal and run the following command:\n\n```pwsh\ngit config --global core.autocrlf false\n```\n\nIt configures git so that it does **not** automatically convert LF to CRLF. In\nthe Podman git repository, files are expected to use Unix LF rather than Windows\nCRLF.\n\nThen run the command to clone the Podman git repository:\n\n```pwsh\ngit clone https://github.com/containers/podman\n```\n\nIt creates the folder `podman` in the current directory and clones the Podman\ngit repository into it.\n\n### Allow local PowerShell scripts execution\n\nA developer can build the Podman client for Windows and the Windows installer\nwith the PowerShell script\n[winmake.ps1](https://github.com/containers/podman/blob/main/winmake.ps1).\n\nWindows sets the ExecutionPolicy to `Restricted` by default; running scripts is\nprohibited. Determine the ExecutionPolicy on the machine with this command:\n\n```pwsh\nGet-ExecutionPolicy\n```\n\nIf the command returns `Restricted`, the ExecutionPolicy should be changed to\n`RemoteSigned`:\n\n```pwsh\nSet-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser\n```\n\nThis policy allows the execution of local PowerShell scripts, such as\n`winmake.ps1`, for the current user.\n\n## Build and test the Podman client for Windows\n\nThe following steps describe how to build the `podman.exe` binary from sources\nand test it.\n\n### Build the Podman client\n\nOpen a PowerShell terminal and move to Podman local git repository directory:\n\n```pwsh\nSet-Location .\\podman\n```\n\nBuild `podman.exe`\n\n```\n.\\winmake.ps1 podman-remote\n```\n\n:information_source: Verify build's success by checking the content of the\n`.\\bin\\windows` folder. Upon successful completion, the executable `podman.exe`\nshould be there:\n\n```pwsh\nGet-ChildItem .\\bin\\windows\\\n\n\n    Directory: C:\\Users\\mario\\Git\\podman\\bin\\windows\n\n\nMode                 LastWriteTime         Length Name\n----                 -------------         ------ ----\n-a----         2/27/2024  11:59 AM       45408256 podman.exe\n```\n\n### Download gvproxy.exe and win-sshproxy.exe\n\n[gvisor-tap-vsock](https://github.com/containers/gvisor-tap-vsock/) binaries\n(`gvproxy-windowsgui.exe` and `win-sshproxy.exe`) are required to run the Podman\nclient on Windows. The executables are expected to be in the same folder as\n`podman.exe`. The following command downloads the latest version in the\n`.\\bin\\windows\\` folder:\n\n```pwsh\n.\\winmake.ps1 win-gvproxy\n```\n\n:information_source: To verify that the binaries have been downloaded\nsuccessfully, check the content of the .\\bin\\windows` folder.\n\n```pwsh\nGet-ChildItem .\\bin\\windows\\\n\n\n    Directory: C:\\Users\\mario\\Git\\podman\\bin\\windows\n\n\nMode                 LastWriteTime         Length Name\n----                 -------------         ------ ----\n-a----         2/29/2024  12:10 PM       10946048 gvproxy.exe\n-a----         2/27/2024  11:59 AM       45408256 podman.exe\n-a----         2/29/2024  12:10 PM        4089856 win-sshproxy.exe\n```\n\n### Create a configuration file (optional)\n\nTo test some particular configurations of Podman, create a `containers.conf`\nfile:\n\n```\nNew-Item -ItemType Directory $env:PROGRAMDATA\\containers\\\nNew-Item -ItemType File $env:PROGRAMDATA\\containers\\containers.conf\nnotepad $env:PROGRAMDATA\\containers\\containers.conf\n```\n\nFor example, to test with Hyper-V as the virtualization provider, use the\nfollowing content:\n\n```toml\n[machine]\nprovider=\"hyperv\"\n```\n\nFind the complete list of configuration options in the\n[documentation](https://github.com/containers/common/blob/main/docs/containers.conf.5.md).\n\n### Create and start a podman machine\n\nExecute the following commands in a terminal to create a Podman machine:\n\n```pwsh\n.\\bin\\windows\\podman.exe machine init\n```\n\nWhen `machine init` completes, run `machine start`:\n\n```pwsh\n.\\bin\\windows\\podman.exe machine start\n```\n\n:information_source: If the virtualization provider is Hyperv-V, execute the\nabove commands in an administrator terminal.\n\n### Run a container using podman\n\nUse the locally built Podman client for Windows to run containers:\n\n```pwsh\n.\\bin\\windows\\podman.exe run hello-world\n```\n\nTo learn how to use the Podman client, refer to its\n[tutorial](https://github.com/containers/podman/blob/main/docs/tutorials/remote_client.md).\n\n## Build and test the Podman Windows installer\n\nThe Podman Windows installer (e.g., `podman-5.1.0-dev-setup.exe`) is a bundle\nthat includes an msi package (`podman.msi`) and installs the WSL kernel\n(`podman-wslkerninst.exe`). It's built using the\n[WiX Toolset](https://wixtoolset.org/) and the\n[PanelSwWixExtension](https://github.com/nirbar/PanelSwWixExtension/tree/master5)\nWiX extension. The source code is in the folder `contrib\\win-installer`.\n\n### Build the Windows installer\n\nTo build the installation bundle, run the following command:\n\n```pwsh\n.\\winmake.ps1 installer\n```\n\n:information_source: making `podman-remote`, `win-gvproxy`, and `docs` is\nrequired before running this command.\n\nLocate the installer in the `contrib\\win-installer` folder (relative to checkout\nroot) with a name like `podman-5.2.0-dev-setup.exe`.\n\nThe `installer` target of `winmake.ps1` runs the script\n`contrib\\win-installer\\build.ps1` that, in turns, executes:\n\n- `build-hooks.bat`: builds `podman-wslkerninst.exe` (WSL kernel installer) and\n  `podman-msihooks.dll` (helper that checks if WSL and Hyper-V are installed).\n- `dotnet build podman.wixproj`: builds `podman.msi` from the WiX source files `podman.wxs`,\n  `pages.wxs`, `podman-ui.wxs` and `welcome-install-dlg.wxs`.\n- `dotnet build podman-setup.wixproj`: builds `podman-setup.exe` file from\n  [WiX Burn bundle](https://wixtoolset.org/docs/tools/burn/) `burn.wxs`.\n\n### Test the Windows installer\n\nDouble-click on the Windows installer to run it. To get the installation logs\nwith debug information, running it via the command line is recommended:\n\n```pwsh\ncontrib\\win-installer\\podman-5.1.0-dev-setup.exe /install /log podman-setup.log\n```\n\nIt generates the files `podman-setup.log` and `podman-setup_000_Setup.log`,\nwhich include detailed installation information, in the current directory.\n\nRun it in `quiet` mode to automate the installation and avoid interacting with\nthe GUI. Open the terminal **as an administrator**, add the `/quiet` option, and\nset the bundle variables `MachineProvider` (`wsl` or `hyperv`), `WSLCheckbox`\n(`1` to install WSL as part of the installation, `0` otherwise), and\n`HyperVCheckbox` (`1` to install Hyper-V as part of the installation, `0`\notherwise):\n\n```pwsh\ncontrib\\win-installer\\podman-5.1.0-dev-setup.exe /install `\n                      /log podman-setup.log /quiet `\n                      MachineProvider=wsl WSLCheckbox=0 HyperVCheckbox=0\n```\n\n:information_source: If uninstallation fails, the installer may end up in an\ninconsistent state. Podman results as uninstalled, but some install packages are\nstill tracked in the Windows registry and will affect further tentative to\nre-install Podman. When this is the case, trying to re-install Podman results in\nthe installer returning zero (success) but no action is executed. The trailing\npackages `GID` can be found in installation logs:\n\n```\nDetected related package: {<GID>}\n```\n\nTo fix this problem remove the related packages:\n\n```pwsh\nmsiexec /x \"{<GID>}\"\n```\n\n#### Run the Windows installer automated tests\n\nThe following command executes a number of tests of the windows installer. Running\nit requires an administrator terminal.\n\n```pwsh\n.\\winmake.ps1 installertest [wsl|hyperv]\n```\n\n### Build and test the standalone `podman.msi` file\n\nBuilding and testing the standalone `podman.msi` package during development may\nbe useful. Even if this package is not published as a standalone file when\nPodman is released (it's included in the `podman-setup.exe` bundle), it can be\nfaster to build and test that rather than the full bundle during the development\nphase.\n\nRun the command `dotnet build` to build the standalone `podman.msi` file:\n\n```pwsh\nPush-Location .\\contrib\\win-installer\\\ndotnet build podman.wixproj /property:DefineConstants=\"VERSION=9.9.9\" -o .\nPop-Location\n```\n\nIt creates the file `.\\contrib\\win-installer\\en-US\\podman.msi`. Test it using the\n[Microsoft Standard Installer](https://learn.microsoft.com/en-us/windows/win32/msi/standard-installer-command-line-options)\ncommand line tool:\n\n```pwsh\nmsiexec /package contrib\\win-installer\\en-US\\podman.msi /l*v podman-msi.log\n```\n\nTo run it in quiet, non-interactive mode, open the terminal **as an\nadministrator**, add the `/quiet` option, and set the MSI properties\n`MACHINE_PROVIDER` (`wsl` or `hyperv`), `WITH_WSL` (`1` to install WSL as part\nof the installation, `0` otherwise) and `WITH_HYPERV` (`1` to install Hyper-V as\npart of the installation, `0` otherwise):\n\n```pwsh\nmsiexec /package contrib\\win-installer\\en-US\\podman.msi /l*v podman-msi.log /quiet MACHINE_PROVIDER=wsl WITH_WSL=0 WITH_HYPERV=0\n```\n\n:information_source: `podman.msi` GUI dialogs, defined in the file\n`contrib\\win-installer\\welcome-install-dlg.wxs`, are distinct from the installation bundle\n`podman-setup.exe` GUI dialogs, defined in\n`contrib\\win-installer\\podman-theme.xml`.\n\n### Verify the installation\n\nInspect the msi installation log `podman-msi.log` (or\n`podman-setup_000_Setup.log` if testing with the bundle) to verify that the\ninstallation was successful:\n\n```pwsh\nSelect-String -Path \"podman-msi.log\" -Pattern \"Installation success or error status: 0\"\n```\n\nThese commands too are helpful to check the installation:\n\n```pwsh\n# Check the copy of the podman client in the Podman folder\nTest-Path -Path \"$ENV:PROGRAMFILES\\RedHat\\Podman\\podman.exe\"\n# Check the generation of the podman configuration file\nTest-Path -Path \"$ENV:PROGRAMDATA\\containers\\containers.conf.d\\99-podman-machine-provider.conf\"\n# Check that the installer configured the right provider\nGet-Content \"$ENV:PROGRAMDATA\\containers\\containers.conf.d\\99-podman-machine-provider.conf\" | Select -Skip 1 | ConvertFrom-StringData | % { $_.provider }\n# Check the creation of the registry key\nTest-Path -Path \"HKLM:\\SOFTWARE\\Red Hat\\Podman\"\nGet-ItemProperty \"HKLM:\\SOFTWARE\\Red Hat\\Podman\" InstallDir\n# Check the podman.exe is in the $PATH\n$env:PATH | Select-String -Pattern \"Podman\"\n```\n\n:information_source: Podman CI uses script\n`contrib\\cirrus\\win-installer-main.ps1`. Use it locally, too, to build and test\nthe installer:\n\n```pwsh\n$ENV:CONTAINERS_MACHINE_PROVIDER='wsl'; .\\contrib\\cirrus\\win-installer-main.ps1\n$ENV:CONTAINERS_MACHINE_PROVIDER='hyperv'; .\\contrib\\cirrus\\win-installer-main.ps1\n```\n\n### Uninstall and clean-up\n\nPodman can be uninstalled from the Windows Control Panel or running the\nfollowing command from a terminal **as an administrator**:\n\n```pwsh\ncontrib\\win-installer\\podman-5.1.0-dev-setup.exe /uninstall /quiet /log podman-setup-uninstall.log\n```\n\nThe uninstaller does not delete some folders. Clean them up manually:\n\n```pwsh\n$extraFolders = @(\n    \"$ENV:PROGRAMDATA\\containers\\\"\n    \"$ENV:LOCALAPPDATA\\containers\\\"\n    \"$env:USERPROFILE.config\\containers\\\"\n    \"$env:USERPROFILE.local\\share\\containers\\\"\n    )\n$extraFolders | ForEach-Object {Remove-Item -Recurse -Force $PSItem}\n```\n\nThe following commands are helpful to verify that the uninstallation was\nsuccessful:\n\n```pwsh\n# Inspect the uninstallation log for a success message\nSelect-String -Path \"podman-setup-uninstall_000_Setup.log\" -Pattern \"Removal success or error status: 0\"\n# Check that the uninstaller removed Podman resources\n$foldersToCheck = @(\n    \"$ENV:PROGRAMFILES\\RedHat\\Podman\\podman.exe\"\n    \"HKLM:\\SOFTWARE\\Red Hat\\Podman\"\n    \"$ENV:PROGRAMDATA\\containers\\\"\n    \"$env:USERPROFILE.config\\containers\\\"\n    \"$env:USERPROFILE.local\\share\\containers\\\"\n    \"$ENV:LOCALAPPDATA\\containers\\\"\n    \"$ENV:PROGRAMDATA\\containers\\containers.conf.d\\99-podman-machine-provider.conf\"\n)\n$foldersToCheck | ForEach-Object {Test-Path -Path $PSItem}\n```\n\n## Validate changes before submitting a PR\n\nThe script `winmake.ps1` has a couple of targets to check the source code\nstatically. GitHub Pull request checks execute the same statical analysis. It is\nhighly recommended that you run them locally before submitting a PR.\n\n### winmake lint\n\nThe `lint` target provides a fast validation target. It runs the following\ntools:\n\n- `golangci-lint`: runs go-specific linters configured in\n  [`.golangci.yml`](.golangci.yml)\n- `pre-commit`: runs more linters configured in\n  [`.pre-commit-config.yaml`](.pre-commit-config.yaml)\n\n:information_source: Install [golangci-lint](https://golangci-lint.run) and\n[pre-commit](https://pre-commit.com) to run `winmake.ps1 lint`.\n\n### winmake validatepr\n\nTarget `validatepr` performs a more exhaustive validation but takes\nsignificantly more time to complete. It uses `podman` to run the target\n`.validatepr` of the [Linux `Makefile`](Makefile). It builds Podman for Linux,\nMacOS and Windows and then performs the same checks as the `lint` target plus\nmany more.\n\n:information_source: Create and start a Podman machine before running\n`winmake.ps1 validatepr`. Configure the Podman machine with at least 4GB of\nmemory:\n`podman machine init -m 4096`.\n"
        },
        {
          "name": "cmd",
          "type": "tree",
          "content": null
        },
        {
          "name": "cni",
          "type": "tree",
          "content": null
        },
        {
          "name": "commands-demo.md",
          "type": "blob",
          "size": 21.400390625,
          "content": "![PODMAN logo](https://raw.githubusercontent.com/containers/common/main/logos/podman-logo-full-vert.png)\n\n# libpod - library for running OCI-based containers in Pods\n\n## Podman Commands\n\n| Command                                                                  | Description                                                                | Demo                                                                                        | Script                                                                              |\n| :----------------------------------------------------------------------- | :------------------------------------------------------------------------- |:--------------------------------------------------------------------------------------------| :---------------------------------------------------------------------------------- |\n| [podman-attach(1)](https://podman.readthedocs.io/en/latest/markdown/podman-attach.1.html)                             | Attach to a running container                                              |\n| [podman-build(1)](https://podman.readthedocs.io/en/latest/markdown/podman-build.1.html)                               | Build a container image using a Containerfile                              |\n| [podman-commit(1)](https://podman.readthedocs.io/en/latest/markdown/podman-commit.1.html)                             | Create new image based on the changed container                            |\n| [podman-container(1)](https://podman.readthedocs.io/en/latest/managecontainers.html)                                  | Manage Containers                                                          |\n| [podman-container-checkpoint(1)](https://podman.readthedocs.io/en/latest/markdown/podman-container-checkpoint.1.html) | Checkpoint one or more running containers                                  |\n| [podman-container-cleanup(1)](https://podman.readthedocs.io/en/latest/markdown/podman-container-cleanup.1.html)       | Clean up the container's network and mountpoints                           |\n| [podman-container-exists(1)](https://podman.readthedocs.io/en/latest/markdown/podman-container-exists.1.html)         | Check if a container exists in local storage                              |\n| [podman-container-prune(1)](https://podman.readthedocs.io/en/latest/markdown/podman-container-prune.1.html)           | Remove all stopped containers from local storage                           |\n| [podman-container-restore(1)](https://podman.readthedocs.io/en/latest/markdown/podman-container-restore.1.html)       | Restore one or more containers from a checkpoint                           |\n| [podman-container-runlabel(1)](https://podman.readthedocs.io/en/latest/markdown/podman-container-runlabel.1.html)     | Execute a command as described by a container image label                  |\n| [podman-cp(1)](https://podman.readthedocs.io/en/latest/markdown/podman-cp.1.html)                                     | Copy files/folders between a container and the local filesystem            |\n| [podman-create(1)](https://podman.readthedocs.io/en/latest/markdown/podman-create.1.html)                             | Create a new container                                                     |\n| [podman-diff(1)](https://podman.readthedocs.io/en/latest/markdown/podman-diff.1.html)                                 | Inspect changes on a container or image's filesystem                       |\n| [podman-events(1)](https://podman.readthedocs.io/en/latest/markdown/podman-events.1.html)                             | Monitor Podman events                                                      |\n| [podman-exec(1)](https://podman.readthedocs.io/en/latest/markdown/podman-exec.1.html)                                 | Execute a command in a running container                                   |\n| [podman-export(1)](https://podman.readthedocs.io/en/latest/markdown/podman-export.1.html)                             | Export container's filesystem contents as a tar archive                    |\n| [podman-generate(1)](https://podman.readthedocs.io/en/latest/generate.html)                                           | Generate structured output based on Podman containers and pods             |\n| [podman-generate-kube(1)](https://podman.readthedocs.io/en/latest/markdown/podman-generate-kube.1.html)               | Generate Kubernetes YAML based on a pod or container                       |\n| [podman-generate-systemd(1)](https://podman.readthedocs.io/en/latest/markdown/podman-generate-systemd.1.html)         | Generate systemd unit file(s) for a container or pod. Not supported for the remote client  |\n| [podman-history(1)](https://podman.readthedocs.io/en/latest/markdown/podman-history.1.html)                           | Show the history of an image                                               |\n| [podman-image(1)](https://podman.readthedocs.io/en/latest/image.html)                                                 | Manage Images                                                              |\n| [podman-image-diff(1)](https://podman.readthedocs.io/en/latest/markdown/podman-image-diff.html)                       | Inspect changes on an image's filesystem.                                  |\n| [podman-image-exists(1)](https://podman.readthedocs.io/en/latest/markdown/podman-image-exists.1.html)                 | Check if an image exists in local storage                                  |\n| [podman-image-prune(1)](https://podman.readthedocs.io/en/latest/markdown/podman-image-prune.1.html)                   | Remove all unused images from the local store                              |\n| [podman-image-search(1)](https://podman.readthedocs.io/en/latest/markdown/podman-search.1.html)                       | Search a registry for an image.                                            |\n| [podman-image-sign(1)](https://podman.readthedocs.io/en/latest/markdown/podman-image-sign.1.html)                     | Create a signature for an image                                            |\n| [podman-image-tree(1)](https://podman.readthedocs.io/en/latest/markdown/podman-image-tree.1.html)                     | Print layer hierarchy of an image in a tree format                         |\n| [podman-image-trust(1)](https://podman.readthedocs.io/en/latest/markdown/podman-image-trust.1.html)                   | Manage container registry image trust policy                               |\n| [podman-images(1)](https://podman.readthedocs.io/en/latest/markdown/podman-images.1.html)                             | List images in local storage                                               |  | [Here](https://github.com/containers/Demos/blob/main/podman_cli/podman_images.sh) |\n| [podman-import(1)](https://podman.readthedocs.io/en/latest/markdown/podman-import.1.html)                             | Import a tarball and save it as a filesystem image                         |\n| [podman-info(1)](https://podman.readthedocs.io/en/latest/markdown/podman-info.1.html)                                 | Display Podman related system information                                  |\n| [podman-init(1)](https://podman.readthedocs.io/en/latest/markdown/podman-init.1.html)                                 | Initialize one or more containers                                          |\n| [podman-inspect(1)](https://podman.readthedocs.io/en/latest/markdown/podman-inspect.1.html)                           | Display a container or image's configuration                               | | [Here](https://github.com/containers/Demos/blob/main/podman_cli/podman_inspect.sh) |\n| [podman-kill(1)](https://podman.readthedocs.io/en/latest/markdown/podman-kill.1.html)                                 | Kill the main process in one or more running containers                    |\n| [podman-load(1)](https://podman.readthedocs.io/en/latest/markdown/podman-load.1.html)                                 | Load an image from a container image archive into container storage        |\n| [podman-login(1)](https://podman.readthedocs.io/en/latest/markdown/podman-login.1.html)                               | Log in to a container registry                                             |\n| [podman-logout(1)](https://podman.readthedocs.io/en/latest/markdown/podman-logout.1.html)                             | Log out of a container registry                                            |\n| [podman-logs(1)](https://podman.readthedocs.io/en/latest/markdown/podman-logs.1.html)                                 | Display the logs of one or more containers                                 |\n| [podman-mount(1)](https://podman.readthedocs.io/en/latest/markdown/podman-mount.1.html)                               | Mount a working container's root filesystem                                |\n| [podman-network(1)](https://podman.readthedocs.io/en/latest/network.html)                                             | Manage Podman networks                                                 |\n| [podman-network-create(1)](https://podman.readthedocs.io/en/latest/markdown/podman-network-create.1.html)             | Create a network                                                       |\n| [podman-network-connect(1)](https://podman.readthedocs.io/en/latest/markdown/podman-network-connect.1.html)           | Connect a container to a network                                       |\n| [podman-network-disconnect(1)](https://podman.readthedocs.io/en/latest/markdown/podman-network-disconnect.1.html)             | Disconnect a container from a network                                  |\n| [podman-network-inspect(1)](https://podman.readthedocs.io/en/latest/markdown/podman-network-inspect.1.html)           | Display the network configuration for one or more networks                 |\n| [podman-network-ls(1)](https://podman.readthedocs.io/en/latest/markdown/podman-network-ls.1.html)                     | Display a summary of networks                                          |\n| [podman-network-rm(1)](https://podman.readthedocs.io/en/latest/markdown/podman-network-rm.1.html)                     | Remove one or more networks                                            |\n| [podman-pause(1)](https://podman.readthedocs.io/en/latest/markdown/podman-pause.1.html)                               | Pause one or more running containers                                       |  | [Here](https://github.com/containers/Demos/blob/main/podman_cli/podman_pause_unpause.sh) |\n| [podman-play(1)](https://podman.readthedocs.io/en/latest/play.html)                                                   | Play a pod                                                                 |\n| [podman-play-kube(1)](https://podman.readthedocs.io/en/latest/markdown/podman-play-kube.1.html)                       | Create pods and containers based on Kubernetes YAML                        |\n| [podman-pod(1)](https://podman.readthedocs.io/en/latest/pod.html)                                                     | Manage pods                                                                |\n| [podman-pod-create(1)](https://podman.readthedocs.io/en/latest/markdown/podman-pod-create.1.html)                     | Create a new pod                                                           |\n| [podman-pod-exists(1)](https://podman.readthedocs.io/en/latest/markdown/podman-pod-exists.1.html)                     | Check if a pod exists in local storage                                     |\n| [podman-pod-inspect(1)](https://podman.readthedocs.io/en/latest/markdown/podman-pod-inspect.1.html)                   | Display information describing a pod                                       |\n| [podman-pod-kill(1)](https://podman.readthedocs.io/en/latest/markdown/podman-pod-kill.1.html)                         | Kill the main process of each container in one or more pods                |\n| [podman-pod-pause(1)](https://podman.readthedocs.io/en/latest/markdown/podman-pause.1.html)                           | Pause one or more containers                                               |\n| [podman-pod-prune(1)](https://podman.readthedocs.io/en/latest/markdown/podman-pod-prune.1.html)                       | Remove all stopped pods and their containers                               |\n| [podman-pod-ps(1)](https://podman.readthedocs.io/en/latest/markdown/podman-pod-ps.1.html)                             | Print out information about pods                                           |\n| [podman-pod-restart](https://podman.readthedocs.io/en/latest/markdown/podman-pod-restart.1.html)                      | Restart one or more pods                                                   |\n| [podman-pod-rm(1)](https://podman.readthedocs.io/en/latest/markdown/podman-pod-rm.1.html)                             | Remove one or more stopped pods and containers                             |\n| [podman-pod-start(1)](https://podman.readthedocs.io/en/latest/markdown/podman-pod-start.1.html)                       | Start one or more pods                                                     |\n| [podman-pod-stats(1)](https://podman.readthedocs.io/en/latest/markdown/podman-pod-stats.1.html)                       | Display a live stream of resource usage stats for containers in one or more pods       |                                                                                             |          |\n| [podman-pod-stop(1)](https://podman.readthedocs.io/en/latest/markdown/podman-pod-stop.1.html)                         | Stop one or more pods                                                      |\n| [podman-pod-top(1)](https://podman.readthedocs.io/en/latest/markdown/podman-pod-top.1.html)                           | Display the running processes of containers in a pod                       |\n| [podman-pod-unpause(1)](https://podman.readthedocs.io/en/latest/markdown/podman-pod-unpause.1.html)                   | Unpause one or more pods.                                                  |\n| [podman-port(1)](https://podman.readthedocs.io/en/latest/markdown/podman-port.1.html)                                 | List port mappings for a container                                         |\n| [podman-ps(1)](https://podman.readthedocs.io/en/latest/markdown/podman-ps.1.html)                                     | Print out information about containers                                     |\n| [podman-pull(1)](https://podman.readthedocs.io/en/latest/markdown/podman-pull.1.html)                                 | Pull an image from a registry                                              |\n| [podman-push(1)](https://podman.readthedocs.io/en/latest/markdown/podman-push.1.html)                                 | Push an image from local storage to elsewhere                              | [play](https://asciinema.org/a/133276)                                                      |\n| [podman-restart(1)](https://podman.readthedocs.io/en/latest/markdown/podman-restart.1.html)                           | Restart one or more containers                                             | [![...](/docs/source/markdown/play.png)](https://asciinema.org/a/jiqxJAxcVXw604xdzMLTkQvHM) |\n| [podman-rm(1)](https://podman.readthedocs.io/en/latest/markdown/podman-rm.1.html)                                     | Remove one or more containers                                              |\n| [podman-rmi(1)](https://podman.readthedocs.io/en/latest/markdown/podman-rmi.1.html)                                   | Remove one or more locally stored images                                   |\n| [podman-run(1)](https://podman.readthedocs.io/en/latest/markdown/podman-run.1.html)                                   | Run a command in a new container                                           |\n| [podman-save(1)](https://podman.readthedocs.io/en/latest/markdown/podman-save.1.html)                                 | Save an image to a container archive                                       |\n| [podman-search(1)](https://podman.readthedocs.io/en/latest/markdown/podman-search.1.html)                             | Search a registry for an image                                             |\n| [podman-secret(1)](https://podman.readthedocs.io/en/latest/markdown/podman-secret.1.html)                             | Manage podman secrets                                                      |\n| [podman-secret-create(1)](https://podman.readthedocs.io/en/latest/markdown/podman-secret-create.1.html)               | Create a new secret                                                        |\n| [podman-secret-inspect(1)](https://podman.readthedocs.io/en/latest/markdown/podman-secret-inspect.1.html)             |  Display detailed information on one or more secrets                       |\n| [podman--secret-ls(1)](https://podman.readthedocs.io/en/latest/markdown/podman-secret-ls.1.html)                      | List all the available secrets                                             |\n| [podman-secret-rm(1)](https://podman.readthedocs.io/en/latest/markdown/podman-secret-rm.1.html)                       | Remove one or more secrets                                                 |\n| [podman-start(1)](https://podman.readthedocs.io/en/latest/markdown/podman-start.1.html)                               | Start one or more containers                                               |\n| [podman-stats(1)](https://podman.readthedocs.io/en/latest/markdown/podman-stats.1.html)                               | Display a live stream of one or more container's resource usage statistics |\n| [podman-stop(1)](https://podman.readthedocs.io/en/latest/markdown/podman-stop.1.html)                                 | Stops one or more running containers                                       |\n| [podman-system(1)](https://podman.readthedocs.io/en/latest/system.html)                                               | Manage podman                                                              |\n| [podman-system-df(1)](https://podman.readthedocs.io/en/latest/markdown/podman-system-df.1.html)                       | Show podman disk usage.                                                    |\n| [podman-system-events(1)](https://podman.readthedocs.io/en/latest/markdown/podman-events.1.html)                      | Display Podman related system events.                                      |\n| [podman-system-info(1)](https://podman.readthedocs.io/en/latest/markdown/podman-info.1.html)                          | Display Podman related system information.                                 |\n| [podman-system-migrate(1)](https://podman.readthedocs.io/en/latest/markdown/podman-system-migrate.1.html)             | Migrate existing containers to a new podman version                        |\n| [podman-system-prune(1)](https://podman.readthedocs.io/en/latest/markdown/podman-system-prune.1.html)                 | Remove all unused container, image and volume data                         |\n| [podman-system-renumber(1)](https://podman.readthedocs.io/en/latest/markdown/podman-system-renumber.1.html)           | Migrate lock numbers to handle a change in maximum number of locks         |\n| [podman-tag(1)](https://podman.readthedocs.io/en/latest/markdown/podman-tag.1.html)                                   | Add an additional name to a local image                                    | [play](https://asciinema.org/a/133803)                                                      |\n| [podman-top(1)](https://podman.readthedocs.io/en/latest/markdown/podman-top.1.html)                                   | Display the running processes of a container                               |\n| [podman-unmount(1)](https://podman.readthedocs.io/en/latest/markdown/podman-unmount.1.html)                             | Unmount a working container's root filesystem                              |\n| [podman-unpause(1)](https://podman.readthedocs.io/en/latest/markdown/podman-unpause.1.html)                           | Unpause one or more containers                                             | | [Here](https://github.com/containers/Demos/blob/main/podman_cli/podman_pause_unpause.sh) |\n| [podman-unshare(1)](https://podman.readthedocs.io/en/latest/markdown/podman-unshare.1.html)                           | Run a command inside of a modified user namespace                          |\n| [podman-version(1)](https://podman.readthedocs.io/en/latest/markdown/podman-version.1.html)                           | Display the Podman version information                                     |\n| [podman-volume(1)](https://podman.readthedocs.io/en/latest/volume.html)                                               | Manage Volumes                                                             |\n| [podman-volume-create(1)](https://podman.readthedocs.io/en/latest/markdown/podman-volume-create.1.html)               | Create a new volume                                                        |\n| [podman-volume-inspect(1)](https://podman.readthedocs.io/en/latest/markdown/podman-volume-inspect.1.html)             | Get detailed information on one or more volumes                            |\n| [podman-volume-ls(1)](https://podman.readthedocs.io/en/latest/markdown/podman-volume-ls.1.html)                       | List all the available volumes                                             |\n| [podman-volume-prune(1)](https://podman.readthedocs.io/en/latest/markdown/podman-volume-prune.1.html)                 | Remove all unused volumes                                                  |\n| [podman-volume-rm(1)](https://podman.readthedocs.io/en/latest/markdown/podman-volume-rm.1.html)                       | Remove one or more volumes                                                 |\n| [podman-wait(1)](https://podman.readthedocs.io/en/latest/markdown/podman-wait.1.html)                                 | Wait on one or more containers to stop and print their exit codes          |\n"
        },
        {
          "name": "commands.md",
          "type": "blob",
          "size": 0.20703125,
          "content": "![PODMAN logo](https://raw.githubusercontent.com/containers/common/main/logos/podman-logo-full-vert.png)\n\n# libpod - library for running OCI-based containers in Pods\n\nThis page has moved [here](commands-demo.md)\n"
        },
        {
          "name": "completions",
          "type": "tree",
          "content": null
        },
        {
          "name": "contrib",
          "type": "tree",
          "content": null
        },
        {
          "name": "dependencies",
          "type": "tree",
          "content": null
        },
        {
          "name": "docker",
          "type": "tree",
          "content": null
        },
        {
          "name": "docs",
          "type": "tree",
          "content": null
        },
        {
          "name": "go.mod",
          "type": "blob",
          "size": 11.1484375,
          "content": "module github.com/containers/podman/v5\n\n// Warning: if there is a \"toolchain\" directive anywhere in this file (and most of the\n// time there shouldn't be), its version must be an exact match to the \"go\" directive.\n\ngo 1.22.8\n\nrequire (\n\tgithub.com/BurntSushi/toml v1.4.0\n\tgithub.com/Microsoft/go-winio v0.6.2\n\tgithub.com/blang/semver/v4 v4.0.0\n\tgithub.com/buger/goterm v1.0.4\n\tgithub.com/checkpoint-restore/checkpointctl v1.3.0\n\tgithub.com/checkpoint-restore/go-criu/v7 v7.2.0\n\tgithub.com/containernetworking/plugins v1.5.1\n\tgithub.com/containers/buildah v1.38.1-0.20241119213149-52437ef15d33\n\tgithub.com/containers/common v0.61.1-0.20250106142059-514bf04d8e6a\n\tgithub.com/containers/conmon v2.0.20+incompatible\n\tgithub.com/containers/gvisor-tap-vsock v0.8.1\n\tgithub.com/containers/image/v5 v5.33.1-0.20250107140133-43c2a741242f\n\tgithub.com/containers/libhvee v0.9.0\n\tgithub.com/containers/ocicrypt v1.2.1\n\tgithub.com/containers/psgo v1.9.0\n\tgithub.com/containers/storage v1.56.0\n\tgithub.com/containers/winquit v1.1.0\n\tgithub.com/coreos/go-systemd/v22 v22.5.1-0.20231103132048-7d375ecc2b09\n\tgithub.com/crc-org/crc/v2 v2.45.0\n\tgithub.com/crc-org/vfkit v0.6.0\n\tgithub.com/cyphar/filepath-securejoin v0.3.6\n\tgithub.com/digitalocean/go-qemu v0.0.0-20230711162256-2e3d0186973e\n\tgithub.com/docker/distribution v2.8.3+incompatible\n\tgithub.com/docker/docker v27.4.1+incompatible\n\tgithub.com/docker/go-connections v0.5.0\n\tgithub.com/docker/go-plugins-helpers v0.0.0-20240701071450-45e2431495c8\n\tgithub.com/docker/go-units v0.5.0\n\tgithub.com/godbus/dbus/v5 v5.1.1-0.20241109141217-c266b19b28e9\n\tgithub.com/google/gofuzz v1.2.0\n\tgithub.com/google/shlex v0.0.0-20191202100458-e7afc7fbc510\n\tgithub.com/google/uuid v1.6.0\n\tgithub.com/gorilla/handlers v1.5.2\n\tgithub.com/gorilla/mux v1.8.1\n\tgithub.com/gorilla/schema v1.4.1\n\tgithub.com/hashicorp/go-multierror v1.1.1\n\tgithub.com/hugelgupf/p9 v0.3.1-0.20230822151754-54f5c5530921\n\tgithub.com/json-iterator/go v1.1.12\n\tgithub.com/kevinburke/ssh_config v1.2.0\n\tgithub.com/klauspost/pgzip v1.2.6\n\tgithub.com/linuxkit/virtsock v0.0.0-20241009230534-cb6a20cc0422\n\tgithub.com/mattn/go-shellwords v1.0.12\n\tgithub.com/mattn/go-sqlite3 v1.14.24\n\tgithub.com/mdlayher/vsock v1.2.1\n\tgithub.com/moby/sys/capability v0.4.0\n\tgithub.com/moby/sys/user v0.3.0\n\tgithub.com/moby/term v0.5.2\n\tgithub.com/nxadm/tail v1.4.11\n\tgithub.com/onsi/ginkgo/v2 v2.22.2\n\tgithub.com/onsi/gomega v1.36.2\n\tgithub.com/opencontainers/go-digest v1.0.0\n\tgithub.com/opencontainers/image-spec v1.1.0\n\tgithub.com/opencontainers/runc v1.2.4\n\tgithub.com/opencontainers/runtime-spec v1.2.0\n\tgithub.com/opencontainers/runtime-tools v0.9.1-0.20241108202711-f7e3563b0271\n\tgithub.com/opencontainers/selinux v1.11.1\n\tgithub.com/openshift/imagebuilder v1.2.15\n\tgithub.com/rootless-containers/rootlesskit/v2 v2.3.1\n\tgithub.com/shirou/gopsutil/v4 v4.24.12\n\tgithub.com/sirupsen/logrus v1.9.3\n\tgithub.com/spf13/cobra v1.8.1\n\tgithub.com/spf13/pflag v1.0.5\n\tgithub.com/stretchr/testify v1.10.0\n\tgithub.com/vbauerster/mpb/v8 v8.9.1\n\tgithub.com/vishvananda/netlink v1.3.0\n\tgo.etcd.io/bbolt v1.3.11\n\tgolang.org/x/crypto v0.32.0\n\tgolang.org/x/exp v0.0.0-20250103183323-7d7fa50e5329\n\tgolang.org/x/net v0.34.0\n\tgolang.org/x/sync v0.10.0\n\tgolang.org/x/sys v0.29.0\n\tgolang.org/x/term v0.28.0\n\tgolang.org/x/text v0.21.0\n\tgoogle.golang.org/protobuf v1.36.2\n\tgopkg.in/inf.v0 v0.9.1\n\tgopkg.in/yaml.v3 v3.0.1\n\tsigs.k8s.io/yaml v1.4.0\n\ttags.cncf.io/container-device-interface v0.8.0\n)\n\nrequire (\n\tdario.cat/mergo v1.0.1 // indirect\n\tgithub.com/Azure/go-ansiterm v0.0.0-20250102033503-faa5f7b0171c // indirect\n\tgithub.com/Microsoft/hcsshim v0.12.9 // indirect\n\tgithub.com/VividCortex/ewma v1.2.0 // indirect\n\tgithub.com/acarl005/stripansi v0.0.0-20180116102854-5a71ef0e047d // indirect\n\tgithub.com/aead/serpent v0.0.0-20160714141033-fba169763ea6 // indirect\n\tgithub.com/asaskevich/govalidator v0.0.0-20230301143203-a9d515a09cc2 // indirect\n\tgithub.com/bytedance/sonic v1.11.6 // indirect\n\tgithub.com/bytedance/sonic/loader v0.1.1 // indirect\n\tgithub.com/chzyer/readline v1.5.1 // indirect\n\tgithub.com/cloudwego/base64x v0.1.4 // indirect\n\tgithub.com/cloudwego/iasm v0.2.0 // indirect\n\tgithub.com/containerd/cgroups/v3 v3.0.3 // indirect\n\tgithub.com/containerd/errdefs v0.3.0 // indirect\n\tgithub.com/containerd/errdefs/pkg v0.3.0 // indirect\n\tgithub.com/containerd/log v0.1.0 // indirect\n\tgithub.com/containerd/platforms v0.2.1 // indirect\n\tgithub.com/containerd/stargz-snapshotter/estargz v0.15.1 // indirect\n\tgithub.com/containerd/typeurl/v2 v2.2.3 // indirect\n\tgithub.com/containernetworking/cni v1.2.3 // indirect\n\tgithub.com/containers/libtrust v0.0.0-20230121012942-c1716e8a8d01 // indirect\n\tgithub.com/containers/luksy v0.0.0-20241007190014-e2530d691420 // indirect\n\tgithub.com/coreos/go-oidc/v3 v3.11.0 // indirect\n\tgithub.com/coreos/go-systemd v0.0.0-20190719114852-fd7a80b32e1f // indirect\n\tgithub.com/cyberphone/json-canonicalization v0.0.0-20231217050601-ba74d44ecf5f // indirect\n\tgithub.com/davecgh/go-spew v1.1.2-0.20180830191138-d8f796af33cc // indirect\n\tgithub.com/digitalocean/go-libvirt v0.0.0-20220804181439-8648fbde413e // indirect\n\tgithub.com/disiqueira/gotree/v3 v3.0.2 // indirect\n\tgithub.com/distribution/reference v0.6.0 // indirect\n\tgithub.com/docker/docker-credential-helpers v0.8.2 // indirect\n\tgithub.com/ebitengine/purego v0.8.1 // indirect\n\tgithub.com/felixge/httpsnoop v1.0.4 // indirect\n\tgithub.com/fsnotify/fsnotify v1.8.0 // indirect\n\tgithub.com/fsouza/go-dockerclient v1.12.0 // indirect\n\tgithub.com/gabriel-vasile/mimetype v1.4.3 // indirect\n\tgithub.com/gin-contrib/sse v0.1.0 // indirect\n\tgithub.com/gin-gonic/gin v1.10.0 // indirect\n\tgithub.com/go-jose/go-jose/v3 v3.0.3 // indirect\n\tgithub.com/go-jose/go-jose/v4 v4.0.4 // indirect\n\tgithub.com/go-logr/logr v1.4.2 // indirect\n\tgithub.com/go-logr/stdr v1.2.2 // indirect\n\tgithub.com/go-ole/go-ole v1.3.0 // indirect\n\tgithub.com/go-openapi/analysis v0.23.0 // indirect\n\tgithub.com/go-openapi/errors v0.22.0 // indirect\n\tgithub.com/go-openapi/jsonpointer v0.21.0 // indirect\n\tgithub.com/go-openapi/jsonreference v0.21.0 // indirect\n\tgithub.com/go-openapi/loads v0.22.0 // indirect\n\tgithub.com/go-openapi/runtime v0.28.0 // indirect\n\tgithub.com/go-openapi/spec v0.21.0 // indirect\n\tgithub.com/go-openapi/strfmt v0.23.0 // indirect\n\tgithub.com/go-openapi/swag v0.23.0 // indirect\n\tgithub.com/go-openapi/validate v0.24.0 // indirect\n\tgithub.com/go-playground/locales v0.14.1 // indirect\n\tgithub.com/go-playground/universal-translator v0.18.1 // indirect\n\tgithub.com/go-playground/validator/v10 v10.20.0 // indirect\n\tgithub.com/go-task/slim-sprig/v3 v3.0.0 // indirect\n\tgithub.com/goccy/go-json v0.10.2 // indirect\n\tgithub.com/gogo/protobuf v1.3.2 // indirect\n\tgithub.com/golang/groupcache v0.0.0-20210331224755-41bb18bfe9da // indirect\n\tgithub.com/golang/protobuf v1.5.4 // indirect\n\tgithub.com/google/go-cmp v0.6.0 // indirect\n\tgithub.com/google/go-containerregistry v0.20.2 // indirect\n\tgithub.com/google/go-intervals v0.0.2 // indirect\n\tgithub.com/google/pprof v0.0.0-20241210010833-40e02aabc2ad // indirect\n\tgithub.com/hashicorp/errwrap v1.1.0 // indirect\n\tgithub.com/hashicorp/go-cleanhttp v0.5.2 // indirect\n\tgithub.com/hashicorp/go-retryablehttp v0.7.7 // indirect\n\tgithub.com/inconshreveable/mousetrap v1.1.0 // indirect\n\tgithub.com/jinzhu/copier v0.4.0 // indirect\n\tgithub.com/josharian/intern v1.0.0 // indirect\n\tgithub.com/klauspost/compress v1.17.11 // indirect\n\tgithub.com/klauspost/cpuid/v2 v2.2.9 // indirect\n\tgithub.com/kr/fs v0.1.0 // indirect\n\tgithub.com/leodido/go-urn v1.4.0 // indirect\n\tgithub.com/letsencrypt/boulder v0.0.0-20240620165639-de9c06129bec // indirect\n\tgithub.com/lufia/plan9stats v0.0.0-20211012122336-39d0f177ccd0 // indirect\n\tgithub.com/mailru/easyjson v0.7.7 // indirect\n\tgithub.com/manifoldco/promptui v0.9.0 // indirect\n\tgithub.com/mattn/go-colorable v0.1.13 // indirect\n\tgithub.com/mattn/go-isatty v0.0.20 // indirect\n\tgithub.com/mattn/go-runewidth v0.0.16 // indirect\n\tgithub.com/mdlayher/socket v0.4.1 // indirect\n\tgithub.com/miekg/pkcs11 v1.1.1 // indirect\n\tgithub.com/mistifyio/go-zfs/v3 v3.0.1 // indirect\n\tgithub.com/mitchellh/mapstructure v1.5.0 // indirect\n\tgithub.com/moby/buildkit v0.17.1 // indirect\n\tgithub.com/moby/docker-image-spec v1.3.1 // indirect\n\tgithub.com/moby/patternmatcher v0.6.0 // indirect\n\tgithub.com/moby/sys/mountinfo v0.7.2 // indirect\n\tgithub.com/moby/sys/sequential v0.6.0 // indirect\n\tgithub.com/moby/sys/userns v0.1.0 // indirect\n\tgithub.com/modern-go/concurrent v0.0.0-20180306012644-bacd9c7ef1dd // indirect\n\tgithub.com/modern-go/reflect2 v1.0.2 // indirect\n\tgithub.com/morikuni/aec v1.0.0 // indirect\n\tgithub.com/oklog/ulid v1.3.1 // indirect\n\tgithub.com/opentracing/opentracing-go v1.2.0 // indirect\n\tgithub.com/ostreedev/ostree-go v0.0.0-20210805093236-719684c64e4f // indirect\n\tgithub.com/pelletier/go-toml/v2 v2.2.2 // indirect\n\tgithub.com/pkg/errors v0.9.1 // indirect\n\tgithub.com/pkg/sftp v1.13.7 // indirect\n\tgithub.com/planetscale/vtprotobuf v0.6.1-0.20240319094008-0393e58bdf10 // indirect\n\tgithub.com/pmezard/go-difflib v1.0.1-0.20181226105442-5d4384ee4fb2 // indirect\n\tgithub.com/power-devops/perfstat v0.0.0-20210106213030-5aafc221ea8c // indirect\n\tgithub.com/proglottis/gpgme v0.1.4 // indirect\n\tgithub.com/rivo/uniseg v0.4.7 // indirect\n\tgithub.com/seccomp/libseccomp-golang v0.10.0 // indirect\n\tgithub.com/secure-systems-lab/go-securesystemslib v0.9.0 // indirect\n\tgithub.com/segmentio/ksuid v1.0.4 // indirect\n\tgithub.com/sigstore/fulcio v1.6.4 // indirect\n\tgithub.com/sigstore/rekor v1.3.6 // indirect\n\tgithub.com/sigstore/sigstore v1.8.11 // indirect\n\tgithub.com/skeema/knownhosts v1.3.0 // indirect\n\tgithub.com/skratchdot/open-golang v0.0.0-20200116055534-eef842397966 // indirect\n\tgithub.com/smallstep/pkcs7 v0.1.1 // indirect\n\tgithub.com/stefanberger/go-pkcs11uri v0.0.0-20230803200340-78284954bff6 // indirect\n\tgithub.com/sylabs/sif/v2 v2.20.2 // indirect\n\tgithub.com/syndtr/gocapability v0.0.0-20200815063812-42c35b437635 // indirect\n\tgithub.com/tchap/go-patricia/v2 v2.3.1 // indirect\n\tgithub.com/titanous/rocacheck v0.0.0-20171023193734-afe73141d399 // indirect\n\tgithub.com/tklauser/go-sysconf v0.3.12 // indirect\n\tgithub.com/tklauser/numcpus v0.6.1 // indirect\n\tgithub.com/twitchyliquid64/golang-asm v0.15.1 // indirect\n\tgithub.com/u-root/uio v0.0.0-20240224005618-d2acac8f3701 // indirect\n\tgithub.com/ugorji/go/codec v1.2.12 // indirect\n\tgithub.com/ulikunitz/xz v0.5.12 // indirect\n\tgithub.com/vbatts/tar-split v0.11.6 // indirect\n\tgithub.com/vishvananda/netns v0.0.4 // indirect\n\tgithub.com/yusufpapurcu/wmi v1.2.4 // indirect\n\tgo.mongodb.org/mongo-driver v1.14.0 // indirect\n\tgo.opencensus.io v0.24.0 // indirect\n\tgo.opentelemetry.io/contrib/instrumentation/net/http/otelhttp v0.53.0 // indirect\n\tgo.opentelemetry.io/otel v1.28.0 // indirect\n\tgo.opentelemetry.io/otel/metric v1.28.0 // indirect\n\tgo.opentelemetry.io/otel/trace v1.28.0 // indirect\n\tgolang.org/x/arch v0.8.0 // indirect\n\tgolang.org/x/mod v0.22.0 // indirect\n\tgolang.org/x/oauth2 v0.25.0 // indirect\n\tgolang.org/x/time v0.6.0 // indirect\n\tgolang.org/x/tools v0.28.0 // indirect\n\tgoogle.golang.org/genproto/googleapis/rpc v0.0.0-20240903143218-8af14fe29dc1 // indirect\n\tgoogle.golang.org/grpc v1.68.1 // indirect\n\tgopkg.in/natefinch/lumberjack.v2 v2.2.1 // indirect\n\tgopkg.in/tomb.v1 v1.0.0-20141024135613-dd632973f1e7 // indirect\n\ttags.cncf.io/container-device-interface/specs-go v0.8.0 // indirect\n)\n"
        },
        {
          "name": "go.sum",
          "type": "blob",
          "size": 70.4853515625,
          "content": "cloud.google.com/go v0.26.0/go.mod h1:aQUYkXzVsufM+DwF1aE+0xfcU+56JwCaLick0ClmMTw=\ndario.cat/mergo v1.0.1 h1:Ra4+bf83h2ztPIQYNP99R6m+Y7KfnARDfID+a+vLl4s=\ndario.cat/mergo v1.0.1/go.mod h1:uNxQE+84aUszobStD9th8a29P2fMDhsBdgRYvZOxGmk=\ngithub.com/14rcole/gopopulate v0.0.0-20180821133914-b175b219e774 h1:SCbEWT58NSt7d2mcFdvxC9uyrdcTfvBbPLThhkDmXzg=\ngithub.com/14rcole/gopopulate v0.0.0-20180821133914-b175b219e774/go.mod h1:6/0dYRLLXyJjbkIPeeGyoJ/eKOSI0eU6eTlCBYibgd0=\ngithub.com/AdaLogics/go-fuzz-headers v0.0.0-20230811130428-ced1acdcaa24 h1:bvDV9vkmnHYOMsOr4WLk+Vo07yKIzd94sVoIqshQ4bU=\ngithub.com/AdaLogics/go-fuzz-headers v0.0.0-20230811130428-ced1acdcaa24/go.mod h1:8o94RPi1/7XTJvwPpRSzSUedZrtlirdB3r9Z20bi2f8=\ngithub.com/Azure/go-ansiterm v0.0.0-20250102033503-faa5f7b0171c h1:udKWzYgxTojEKWjV8V+WSxDXJ4NFATAsZjh8iIbsQIg=\ngithub.com/Azure/go-ansiterm v0.0.0-20250102033503-faa5f7b0171c/go.mod h1:xomTg63KZ2rFqZQzSB4Vz2SUXa1BpHTVz9L5PTmPC4E=\ngithub.com/BurntSushi/toml v0.3.1/go.mod h1:xHWCNGjB5oqiDr8zfno3MHue2Ht5sIBksp03qcyfWMU=\ngithub.com/BurntSushi/toml v1.4.0 h1:kuoIxZQy2WRRk1pttg9asf+WVv6tWQuBNVmK8+nqPr0=\ngithub.com/BurntSushi/toml v1.4.0/go.mod h1:ukJfTF/6rtPPRCnwkur4qwRxa8vTRFBF0uk2lLoLwho=\ngithub.com/Microsoft/go-winio v0.6.2 h1:F2VQgta7ecxGYO8k3ZZz3RS8fVIXVxONVUPlNERoyfY=\ngithub.com/Microsoft/go-winio v0.6.2/go.mod h1:yd8OoFMLzJbo9gZq8j5qaps8bJ9aShtEA8Ipt1oGCvU=\ngithub.com/Microsoft/hcsshim v0.12.9 h1:2zJy5KA+l0loz1HzEGqyNnjd3fyZA31ZBCGKacp6lLg=\ngithub.com/Microsoft/hcsshim v0.12.9/go.mod h1:fJ0gkFAna6ukt0bLdKB8djt4XIJhF/vEPuoIWYVvZ8Y=\ngithub.com/Netflix/go-expect v0.0.0-20220104043353-73e0943537d2 h1:+vx7roKuyA63nhn5WAunQHLTznkw5W8b1Xc0dNjp83s=\ngithub.com/Netflix/go-expect v0.0.0-20220104043353-73e0943537d2/go.mod h1:HBCaDeC1lPdgDeDbhX8XFpy1jqjK0IBG8W5K+xYqA0w=\ngithub.com/VividCortex/ewma v1.2.0 h1:f58SaIzcDXrSy3kWaHNvuJgJ3Nmz59Zji6XoJR/q1ow=\ngithub.com/VividCortex/ewma v1.2.0/go.mod h1:nz4BbCtbLyFDeC9SUHbtcT5644juEuWfUAUnGx7j5l4=\ngithub.com/acarl005/stripansi v0.0.0-20180116102854-5a71ef0e047d h1:licZJFw2RwpHMqeKTCYkitsPqHNxTmd4SNR5r94FGM8=\ngithub.com/acarl005/stripansi v0.0.0-20180116102854-5a71ef0e047d/go.mod h1:asat636LX7Bqt5lYEZ27JNDcqxfjdBQuJ/MM4CN/Lzo=\ngithub.com/aead/serpent v0.0.0-20160714141033-fba169763ea6 h1:5L8Mj9Co9sJVgW3TpYk2gxGJnDjsYuboNTcRmbtGKGs=\ngithub.com/aead/serpent v0.0.0-20160714141033-fba169763ea6/go.mod h1:3HgLJ9d18kXMLQlJvIY3+FszZYMxCz8WfE2MQ7hDY0w=\ngithub.com/asaskevich/govalidator v0.0.0-20230301143203-a9d515a09cc2 h1:DklsrG3dyBCFEj5IhUbnKptjxatkF07cF2ak3yi77so=\ngithub.com/asaskevich/govalidator v0.0.0-20230301143203-a9d515a09cc2/go.mod h1:WaHUgvxTVq04UNunO+XhnAqY/wQc+bxr74GqbsZ/Jqw=\ngithub.com/beorn7/perks v1.0.1 h1:VlbKKnNfV8bJzeqoa4cOKqO6bYr3WgKZxO8Z16+hsOM=\ngithub.com/beorn7/perks v1.0.1/go.mod h1:G2ZrVWU2WbWT9wwq4/hrbKbnv/1ERSJQ0ibhJ6rlkpw=\ngithub.com/blang/semver/v4 v4.0.0 h1:1PFHFE6yCCTv8C1TeyNNarDzntLi7wMI5i/pzqYIsAM=\ngithub.com/blang/semver/v4 v4.0.0/go.mod h1:IbckMUScFkM3pff0VJDNKRiT6TG/YpiHIM2yvyW5YoQ=\ngithub.com/buger/goterm v1.0.4 h1:Z9YvGmOih81P0FbVtEYTFF6YsSgxSUKEhf/f9bTMXbY=\ngithub.com/buger/goterm v1.0.4/go.mod h1:HiFWV3xnkolgrBV3mY8m0X0Pumt4zg4QhbdOzQtB8tE=\ngithub.com/bytedance/sonic v1.11.6 h1:oUp34TzMlL+OY1OUWxHqsdkgC/Zfc85zGqw9siXjrc0=\ngithub.com/bytedance/sonic v1.11.6/go.mod h1:LysEHSvpvDySVdC2f87zGWf6CIKJcAvqab1ZaiQtds4=\ngithub.com/bytedance/sonic/loader v0.1.1 h1:c+e5Pt1k/cy5wMveRDyk2X4B9hF4g7an8N3zCYjJFNM=\ngithub.com/bytedance/sonic/loader v0.1.1/go.mod h1:ncP89zfokxS5LZrJxl5z0UJcsk4M4yY2JpfqGeCtNLU=\ngithub.com/cenkalti/backoff/v4 v4.3.0 h1:MyRJ/UdXutAwSAT+s3wNd7MfTIcy71VQueUuFK343L8=\ngithub.com/cenkalti/backoff/v4 v4.3.0/go.mod h1:Y3VNntkOUPxTVeUxJ/G5vcM//AlwfmyYozVcomhLiZE=\ngithub.com/census-instrumentation/opencensus-proto v0.2.1/go.mod h1:f6KPmirojxKA12rnyqOA5BBL4O983OfeGPqjHWSTneU=\ngithub.com/cespare/xxhash/v2 v2.3.0 h1:UL815xU9SqsFlibzuggzjXhog7bL6oX9BbNZnL2UFvs=\ngithub.com/cespare/xxhash/v2 v2.3.0/go.mod h1:VGX0DQ3Q6kWi7AoAeZDth3/j3BFtOZR5XLFGgcrjCOs=\ngithub.com/checkpoint-restore/checkpointctl v1.3.0 h1:bNz5b6s+lxFdG5ZGDba3qSkBtXDDTCG2494dfAbQJ4E=\ngithub.com/checkpoint-restore/checkpointctl v1.3.0/go.mod h1:dqZH4wDvbjnsqFGK2LdUDk21yFQ1dCAtzgRMlG44KDM=\ngithub.com/checkpoint-restore/go-criu/v7 v7.2.0 h1:qGiWA4App1gGlEfIJ68WR9jbezV9J7yZdjzglezcqKo=\ngithub.com/checkpoint-restore/go-criu/v7 v7.2.0/go.mod h1:u0LCWLg0w4yqqu14aXhiB4YD3a1qd8EcCEg7vda5dwo=\ngithub.com/chzyer/logex v1.1.10/go.mod h1:+Ywpsq7O8HXn0nuIou7OrIPyXbp3wmkHB+jjWRnGsAI=\ngithub.com/chzyer/logex v1.2.1 h1:XHDu3E6q+gdHgsdTPH6ImJMIp436vR6MPtH8gP05QzM=\ngithub.com/chzyer/logex v1.2.1/go.mod h1:JLbx6lG2kDbNRFnfkgvh4eRJRPX1QCoOIWomwysCBrQ=\ngithub.com/chzyer/readline v0.0.0-20180603132655-2972be24d48e/go.mod h1:nSuG5e5PlCu98SY8svDHJxuZscDgtXS6KTTbou5AhLI=\ngithub.com/chzyer/readline v1.5.1 h1:upd/6fQk4src78LMRzh5vItIt361/o4uq553V8B5sGI=\ngithub.com/chzyer/readline v1.5.1/go.mod h1:Eh+b79XXUwfKfcPLepksvw2tcLE/Ct21YObkaSkeBlk=\ngithub.com/chzyer/test v0.0.0-20180213035817-a1ea475d72b1/go.mod h1:Q3SI9o4m/ZMnBNeIyt5eFwwo7qiLfzFZmjNmxjkiQlU=\ngithub.com/chzyer/test v1.0.0 h1:p3BQDXSxOhOG0P9z6/hGnII4LGiEPOYBhs8asl/fC04=\ngithub.com/chzyer/test v1.0.0/go.mod h1:2JlltgoNkt4TW/z9V/IzDdFaMTM2JPIi26O1pF38GC8=\ngithub.com/client9/misspell v0.3.4/go.mod h1:qj6jICC3Q7zFZvVWo7KLAzC3yx5G7kyvSDkc90ppPyw=\ngithub.com/cloudwego/base64x v0.1.4 h1:jwCgWpFanWmN8xoIUHa2rtzmkd5J2plF/dnLS6Xd/0Y=\ngithub.com/cloudwego/base64x v0.1.4/go.mod h1:0zlkT4Wn5C6NdauXdJRhSKRlJvmclQ1hhJgA0rcu/8w=\ngithub.com/cloudwego/iasm v0.2.0 h1:1KNIy1I1H9hNNFEEH3DVnI4UujN+1zjpuk6gwHLTssg=\ngithub.com/cloudwego/iasm v0.2.0/go.mod h1:8rXZaNYT2n95jn+zTI1sDr+IgcD2GVs0nlbbQPiEFhY=\ngithub.com/cncf/udpa/go v0.0.0-20191209042840-269d4d468f6f/go.mod h1:M8M6+tZqaGXZJjfX53e64911xZQV5JYwmTeXPW+k8Sc=\ngithub.com/containerd/cgroups/v3 v3.0.3 h1:S5ByHZ/h9PMe5IOQoN7E+nMc2UcLEM/V48DGDJ9kip0=\ngithub.com/containerd/cgroups/v3 v3.0.3/go.mod h1:8HBe7V3aWGLFPd/k03swSIsGjZhHI2WzJmticMgVuz0=\ngithub.com/containerd/errdefs v0.3.0 h1:FSZgGOeK4yuT/+DnF07/Olde/q4KBoMsaamhXxIMDp4=\ngithub.com/containerd/errdefs v0.3.0/go.mod h1:+YBYIdtsnF4Iw6nWZhJcqGSg/dwvV7tyJ/kCkyJ2k+M=\ngithub.com/containerd/errdefs/pkg v0.3.0 h1:9IKJ06FvyNlexW690DXuQNx2KA2cUJXx151Xdx3ZPPE=\ngithub.com/containerd/errdefs/pkg v0.3.0/go.mod h1:NJw6s9HwNuRhnjJhM7pylWwMyAkmCQvQ4GpJHEqRLVk=\ngithub.com/containerd/log v0.1.0 h1:TCJt7ioM2cr/tfR8GPbGf9/VRAX8D2B4PjzCpfX540I=\ngithub.com/containerd/log v0.1.0/go.mod h1:VRRf09a7mHDIRezVKTRCrOq78v577GXq3bSa3EhrzVo=\ngithub.com/containerd/platforms v0.2.1 h1:zvwtM3rz2YHPQsF2CHYM8+KtB5dvhISiXh5ZpSBQv6A=\ngithub.com/containerd/platforms v0.2.1/go.mod h1:XHCb+2/hzowdiut9rkudds9bE5yJ7npe7dG/wG+uFPw=\ngithub.com/containerd/stargz-snapshotter/estargz v0.15.1 h1:eXJjw9RbkLFgioVaTG+G/ZW/0kEe2oEKCdS/ZxIyoCU=\ngithub.com/containerd/stargz-snapshotter/estargz v0.15.1/go.mod h1:gr2RNwukQ/S9Nv33Lt6UC7xEx58C+LHRdoqbEKjz1Kk=\ngithub.com/containerd/typeurl/v2 v2.2.3 h1:yNA/94zxWdvYACdYO8zofhrTVuQY73fFU1y++dYSw40=\ngithub.com/containerd/typeurl/v2 v2.2.3/go.mod h1:95ljDnPfD3bAbDJRugOiShd/DlAAsxGtUBhJxIn7SCk=\ngithub.com/containernetworking/cni v1.2.3 h1:hhOcjNVUQTnzdRJ6alC5XF+wd9mfGIUaj8FuJbEslXM=\ngithub.com/containernetworking/cni v1.2.3/go.mod h1:DuLgF+aPd3DzcTQTtp/Nvl1Kim23oFKdm2okJzBQA5M=\ngithub.com/containernetworking/plugins v1.5.1 h1:T5ji+LPYjjgW0QM+KyrigZbLsZ8jaX+E5J/EcKOE4gQ=\ngithub.com/containernetworking/plugins v1.5.1/go.mod h1:MIQfgMayGuHYs0XdNudf31cLLAC+i242hNm6KuDGqCM=\ngithub.com/containers/buildah v1.38.1-0.20241119213149-52437ef15d33 h1:Ih6KuyByK7ZGGzkS0M5rVBPLWIyeDvdL5klhsKBo8vA=\ngithub.com/containers/buildah v1.38.1-0.20241119213149-52437ef15d33/go.mod h1:RxIuKhwTpRl3ma4d4BF6QzSSeg9zNNvo/xhYJOKeDQs=\ngithub.com/containers/common v0.61.1-0.20250106142059-514bf04d8e6a h1:unXpSi99gyu4xKy3AIRMNqAjKTreqiZwXQkuoueeHEg=\ngithub.com/containers/common v0.61.1-0.20250106142059-514bf04d8e6a/go.mod h1:3DaNw8RIl5ugAk5v4Xby9KMnwG23F9BGqCEnyjp+9Pc=\ngithub.com/containers/conmon v2.0.20+incompatible h1:YbCVSFSCqFjjVwHTPINGdMX1F6JXHGTUje2ZYobNrkg=\ngithub.com/containers/conmon v2.0.20+incompatible/go.mod h1:hgwZ2mtuDrppv78a/cOBNiCm6O0UMWGx1mu7P00nu5I=\ngithub.com/containers/gvisor-tap-vsock v0.8.1 h1:88qkOjGMF9NmyoVG/orUw73mdwj3z4aOwEbRS01hF78=\ngithub.com/containers/gvisor-tap-vsock v0.8.1/go.mod h1:gjdY4JBWnynrXsxT8+OM7peEOd4FCZpoOWjSadHva0g=\ngithub.com/containers/image/v5 v5.33.1-0.20250107140133-43c2a741242f h1:QbsNC5PejcUiq01uksekZ2cqCUhhQQa0oB9LMk/eXPk=\ngithub.com/containers/image/v5 v5.33.1-0.20250107140133-43c2a741242f/go.mod h1:aUBwvcAgHNVsrU1uoei3H+RNAtJVnz65GRKAPUk5a0g=\ngithub.com/containers/libhvee v0.9.0 h1:5UxJMka1lDfxTeITA25Pd8QVVttJAG43eQS1Getw1tc=\ngithub.com/containers/libhvee v0.9.0/go.mod h1:p44VJd8jMIx3SRN1eM6PxfCEwXQE0lJ0dQppCAlzjPQ=\ngithub.com/containers/libtrust v0.0.0-20230121012942-c1716e8a8d01 h1:Qzk5C6cYglewc+UyGf6lc8Mj2UaPTHy/iF2De0/77CA=\ngithub.com/containers/libtrust v0.0.0-20230121012942-c1716e8a8d01/go.mod h1:9rfv8iPl1ZP7aqh9YA68wnZv2NUDbXdcdPHVz0pFbPY=\ngithub.com/containers/luksy v0.0.0-20241007190014-e2530d691420 h1:57rxgU2wdI3lZMDZtao09WjCWmxBKOxI/Sj37IpCV50=\ngithub.com/containers/luksy v0.0.0-20241007190014-e2530d691420/go.mod h1:MYzFCudLgMcXgFl7XuFjUowNDTBqL09BfEgMf7QHtO4=\ngithub.com/containers/ocicrypt v1.2.1 h1:0qIOTT9DoYwcKmxSt8QJt+VzMY18onl9jUXsxpVhSmM=\ngithub.com/containers/ocicrypt v1.2.1/go.mod h1:aD0AAqfMp0MtwqWgHM1bUwe1anx0VazI108CRrSKINQ=\ngithub.com/containers/psgo v1.9.0 h1:eJ74jzSaCHnWt26OlKZROSyUyRcGDf+gYBdXnxrMW4g=\ngithub.com/containers/psgo v1.9.0/go.mod h1:0YoluUm43Mz2UnBIh1P+6V6NWcbpTL5uRtXyOcH0B5A=\ngithub.com/containers/storage v1.56.0 h1:DZ9KSkj6M2tvj/4bBoaJu3QDHRl35BwsZ4kmLJS97ZI=\ngithub.com/containers/storage v1.56.0/go.mod h1:c6WKowcAlED/DkWGNuL9bvGYqIWCVy7isRMdCSKWNjk=\ngithub.com/containers/winquit v1.1.0 h1:jArun04BNDQvt2W0Y78kh9TazN2EIEMG5Im6/JY7+pE=\ngithub.com/containers/winquit v1.1.0/go.mod h1:PsPeZlnbkmGGIToMPHF1zhWjBUkd8aHjMOr/vFcPxw8=\ngithub.com/coreos/go-oidc/v3 v3.11.0 h1:Ia3MxdwpSw702YW0xgfmP1GVCMA9aEFWu12XUZ3/OtI=\ngithub.com/coreos/go-oidc/v3 v3.11.0/go.mod h1:gE3LgjOgFoHi9a4ce4/tJczr0Ai2/BoDhf0r5lltWI0=\ngithub.com/coreos/go-systemd v0.0.0-20190719114852-fd7a80b32e1f h1:JOrtw2xFKzlg+cbHpyrpLDmnN1HqhBfnX7WDiW7eG2c=\ngithub.com/coreos/go-systemd v0.0.0-20190719114852-fd7a80b32e1f/go.mod h1:F5haX7vjVVG0kc13fIWeqUViNPyEJxv/OmvnBo0Yme4=\ngithub.com/coreos/go-systemd/v22 v22.5.1-0.20231103132048-7d375ecc2b09 h1:OoRAFlvDGCUqDLampLQjk0yeeSGdF9zzst/3G9IkBbc=\ngithub.com/coreos/go-systemd/v22 v22.5.1-0.20231103132048-7d375ecc2b09/go.mod h1:m2r/smMKsKwgMSAoFKHaa68ImdCSNuKE1MxvQ64xuCQ=\ngithub.com/cpuguy83/go-md2man/v2 v2.0.4/go.mod h1:tgQtvFlXSQOSOSIRvRPT7W67SCa46tRHOmNcaadrF8o=\ngithub.com/crc-org/crc/v2 v2.45.0 h1:7rScVQwFc3oy99SaiGSgQmTiIQf7UKKYIcZQ963NsdE=\ngithub.com/crc-org/crc/v2 v2.45.0/go.mod h1:ALUixzv85cMYNDEqone8jEn3m2ZKyu9oRzrQdEAjnzk=\ngithub.com/crc-org/vfkit v0.6.0 h1:gUasCX2QqY9pUPebFhYsuINB8XSS/iz0qy4v18CUyB4=\ngithub.com/crc-org/vfkit v0.6.0/go.mod h1:i+fGyDMg5MpuUYCFXc2VXw+5R7MBD6A/8xU9UxWv/9s=\ngithub.com/creack/pty v1.1.18 h1:n56/Zwd5o6whRC5PMGretI4IdRLlmBXYNjScPaBgsbY=\ngithub.com/creack/pty v1.1.18/go.mod h1:MOBLtS5ELjhRRrroQr9kyvTxUAFNvYEK993ew/Vr4O4=\ngithub.com/cyberphone/json-canonicalization v0.0.0-20231217050601-ba74d44ecf5f h1:eHnXnuK47UlSTOQexbzxAZfekVz6i+LKRdj1CU5DPaM=\ngithub.com/cyberphone/json-canonicalization v0.0.0-20231217050601-ba74d44ecf5f/go.mod h1:uzvlm1mxhHkdfqitSA92i7Se+S9ksOn3a3qmv/kyOCw=\ngithub.com/cyphar/filepath-securejoin v0.3.6 h1:4d9N5ykBnSp5Xn2JkhocYDkOpURL/18CYMpo6xB9uWM=\ngithub.com/cyphar/filepath-securejoin v0.3.6/go.mod h1:Sdj7gXlvMcPZsbhwhQ33GguGLDGQL7h7bg04C/+u9jI=\ngithub.com/davecgh/go-spew v1.1.0/go.mod h1:J7Y8YcW2NihsgmVo/mv3lAwl/skON4iLHjSsI+c5H38=\ngithub.com/davecgh/go-spew v1.1.1/go.mod h1:J7Y8YcW2NihsgmVo/mv3lAwl/skON4iLHjSsI+c5H38=\ngithub.com/davecgh/go-spew v1.1.2-0.20180830191138-d8f796af33cc h1:U9qPSI2PIWSS1VwoXQT9A3Wy9MM3WgvqSxFWenqJduM=\ngithub.com/davecgh/go-spew v1.1.2-0.20180830191138-d8f796af33cc/go.mod h1:J7Y8YcW2NihsgmVo/mv3lAwl/skON4iLHjSsI+c5H38=\ngithub.com/digitalocean/go-libvirt v0.0.0-20220804181439-8648fbde413e h1:SCnqm8SjSa0QqRxXbo5YY//S+OryeJioe17nK+iDZpg=\ngithub.com/digitalocean/go-libvirt v0.0.0-20220804181439-8648fbde413e/go.mod h1:o129ljs6alsIQTc8d6eweihqpmmrbxZ2g1jhgjhPykI=\ngithub.com/digitalocean/go-qemu v0.0.0-20230711162256-2e3d0186973e h1:x5PInTuXLddHWHlePCNAcM8QtUfOGx44f3UmYPMtDcI=\ngithub.com/digitalocean/go-qemu v0.0.0-20230711162256-2e3d0186973e/go.mod h1:K4+o74YGNjOb9N6yyG+LPj1NjHtk+Qz0IYQPvirbaLs=\ngithub.com/disiqueira/gotree/v3 v3.0.2 h1:ik5iuLQQoufZBNPY518dXhiO5056hyNBIK9lWhkNRq8=\ngithub.com/disiqueira/gotree/v3 v3.0.2/go.mod h1:ZuyjE4+mUQZlbpkI24AmruZKhg3VHEgPLDY8Qk+uUu8=\ngithub.com/distribution/reference v0.6.0 h1:0IXCQ5g4/QMHHkarYzh5l+u8T3t73zM5QvfrDyIgxBk=\ngithub.com/distribution/reference v0.6.0/go.mod h1:BbU0aIcezP1/5jX/8MP0YiH4SdvB5Y4f/wlDRiLyi3E=\ngithub.com/docker/cli v27.4.1+incompatible h1:VzPiUlRJ/xh+otB75gva3r05isHMo5wXDfPRi5/b4hI=\ngithub.com/docker/cli v27.4.1+incompatible/go.mod h1:JLrzqnKDaYBop7H2jaqPtU4hHvMKP+vjCwu2uszcLI8=\ngithub.com/docker/distribution v2.8.3+incompatible h1:AtKxIZ36LoNK51+Z6RpzLpddBirtxJnzDrHLEKxTAYk=\ngithub.com/docker/distribution v2.8.3+incompatible/go.mod h1:J2gT2udsDAN96Uj4KfcMRqY0/ypR+oyYUYmja8H+y+w=\ngithub.com/docker/docker v27.4.1+incompatible h1:ZJvcY7gfwHn1JF48PfbyXg7Jyt9ZCWDW+GGXOIxEwp4=\ngithub.com/docker/docker v27.4.1+incompatible/go.mod h1:eEKB0N0r5NX/I1kEveEz05bcu8tLC/8azJZsviup8Sk=\ngithub.com/docker/docker-credential-helpers v0.8.2 h1:bX3YxiGzFP5sOXWc3bTPEXdEaZSeVMrFgOr3T+zrFAo=\ngithub.com/docker/docker-credential-helpers v0.8.2/go.mod h1:P3ci7E3lwkZg6XiHdRKft1KckHiO9a2rNtyFbZ/ry9M=\ngithub.com/docker/go-connections v0.5.0 h1:USnMq7hx7gwdVZq1L49hLXaFtUdTADjXGp+uj1Br63c=\ngithub.com/docker/go-connections v0.5.0/go.mod h1:ov60Kzw0kKElRwhNs9UlUHAE/F9Fe6GLaXnqyDdmEXc=\ngithub.com/docker/go-metrics v0.0.1 h1:AgB/0SvBxihN0X8OR4SjsblXkbMvalQ8cjmtKQ2rQV8=\ngithub.com/docker/go-metrics v0.0.1/go.mod h1:cG1hvH2utMXtqgqqYE9plW6lDxS3/5ayHzueweSI3Vw=\ngithub.com/docker/go-plugins-helpers v0.0.0-20240701071450-45e2431495c8 h1:IMfrF5LCzP2Vhw7j4IIH3HxPsCLuZYjDqFAM/C88ulg=\ngithub.com/docker/go-plugins-helpers v0.0.0-20240701071450-45e2431495c8/go.mod h1:LFyLie6XcDbyKGeVK6bHe+9aJTYCxWLBg5IrJZOaXKA=\ngithub.com/docker/go-units v0.5.0 h1:69rxXcBk27SvSaaxTtLh/8llcHD8vYHT7WSdRZ/jvr4=\ngithub.com/docker/go-units v0.5.0/go.mod h1:fgPhTUdO+D/Jk86RDLlptpiXQzgHJF7gydDDbaIK4Dk=\ngithub.com/dustin/go-humanize v1.0.1 h1:GzkhY7T5VNhEkwH0PVJgjz+fX1rhBrR7pRT3mDkpeCY=\ngithub.com/dustin/go-humanize v1.0.1/go.mod h1:Mu1zIs6XwVuF/gI1OepvI0qD18qycQx+mFykh5fBlto=\ngithub.com/ebitengine/purego v0.8.1 h1:sdRKd6plj7KYW33EH5As6YKfe8m9zbN9JMrOjNVF/BE=\ngithub.com/ebitengine/purego v0.8.1/go.mod h1:iIjxzd6CiRiOG0UyXP+V1+jWqUXVjPKLAI0mRfJZTmQ=\ngithub.com/envoyproxy/go-control-plane v0.9.0/go.mod h1:YTl/9mNaCwkRvm6d1a2C3ymFceY/DCBVvsKhRF0iEA4=\ngithub.com/envoyproxy/go-control-plane v0.9.1-0.20191026205805-5f8ba28d4473/go.mod h1:YTl/9mNaCwkRvm6d1a2C3ymFceY/DCBVvsKhRF0iEA4=\ngithub.com/envoyproxy/go-control-plane v0.9.4/go.mod h1:6rpuAdCZL397s3pYoYcLgu1mIlRU8Am5FuJP05cCM98=\ngithub.com/envoyproxy/protoc-gen-validate v0.1.0/go.mod h1:iSmxcyjqTsJpI2R4NaDN7+kN2VEUnK/pcBlmesArF7c=\ngithub.com/fatih/color v1.16.0 h1:zmkK9Ngbjj+K0yRhTVONQh1p/HknKYSlNT+vZCzyokM=\ngithub.com/fatih/color v1.16.0/go.mod h1:fL2Sau1YI5c0pdGEVCbKQbLXB6edEj1ZgiY4NijnWvE=\ngithub.com/felixge/httpsnoop v1.0.4 h1:NFTV2Zj1bL4mc9sqWACXbQFVBBg2W3GPvqp8/ESS2Wg=\ngithub.com/felixge/httpsnoop v1.0.4/go.mod h1:m8KPJKqk1gH5J9DgRY2ASl2lWCfGKXixSwevea8zH2U=\ngithub.com/fsnotify/fsnotify v1.6.0/go.mod h1:sl3t1tCWJFWoRz9R8WJCbQihKKwmorjAbSClcnxKAGw=\ngithub.com/fsnotify/fsnotify v1.8.0 h1:dAwr6QBTBZIkG8roQaJjGof0pp0EeF+tNV7YBP3F/8M=\ngithub.com/fsnotify/fsnotify v1.8.0/go.mod h1:8jBTzvmWwFyi3Pb8djgCCO5IBqzKJ/Jwo8TRcHyHii0=\ngithub.com/fsouza/go-dockerclient v1.12.0 h1:S2f2crEUbBNCFiF06kR/GvioEB8EMsb3Td/bpawD+aU=\ngithub.com/fsouza/go-dockerclient v1.12.0/go.mod h1:YWUtjg8japrqD/80L98nTtCoxQFp5B5wrSsnyeB5lFo=\ngithub.com/gabriel-vasile/mimetype v1.4.3 h1:in2uUcidCuFcDKtdcBxlR0rJ1+fsokWf+uqxgUFjbI0=\ngithub.com/gabriel-vasile/mimetype v1.4.3/go.mod h1:d8uq/6HKRL6CGdk+aubisF/M5GcPfT7nKyLpA0lbSSk=\ngithub.com/gin-contrib/sse v0.1.0 h1:Y/yl/+YNO8GZSjAhjMsSuLt29uWRFHdHYUb5lYOV9qE=\ngithub.com/gin-contrib/sse v0.1.0/go.mod h1:RHrZQHXnP2xjPF+u1gW/2HnVO7nvIa9PG3Gm+fLHvGI=\ngithub.com/gin-gonic/gin v1.10.0 h1:nTuyha1TYqgedzytsKYqna+DfLos46nTv2ygFy86HFU=\ngithub.com/gin-gonic/gin v1.10.0/go.mod h1:4PMNQiOhvDRa013RKVbsiNwoyezlm2rm0uX/T7kzp5Y=\ngithub.com/go-jose/go-jose/v3 v3.0.3 h1:fFKWeig/irsp7XD2zBxvnmA/XaRWp5V3CBsZXJF7G7k=\ngithub.com/go-jose/go-jose/v3 v3.0.3/go.mod h1:5b+7YgP7ZICgJDBdfjZaIt+H/9L9T/YQrVfLAMboGkQ=\ngithub.com/go-jose/go-jose/v4 v4.0.4 h1:VsjPI33J0SB9vQM6PLmNjoHqMQNGPiZ0rHL7Ni7Q6/E=\ngithub.com/go-jose/go-jose/v4 v4.0.4/go.mod h1:NKb5HO1EZccyMpiZNbdUw/14tiXNyUJh188dfnMCAfc=\ngithub.com/go-logr/logr v1.2.2/go.mod h1:jdQByPbusPIv2/zmleS9BjJVeZ6kBagPoEUsqbVz/1A=\ngithub.com/go-logr/logr v1.4.2 h1:6pFjapn8bFcIbiKo3XT4j/BhANplGihG6tvd+8rYgrY=\ngithub.com/go-logr/logr v1.4.2/go.mod h1:9T104GzyrTigFIr8wt5mBrctHMim0Nb2HLGrmQ40KvY=\ngithub.com/go-logr/stdr v1.2.2 h1:hSWxHoqTgW2S2qGc0LTAI563KZ5YKYRhT3MFKZMbjag=\ngithub.com/go-logr/stdr v1.2.2/go.mod h1:mMo/vtBO5dYbehREoey6XUKy/eSumjCCveDpRre4VKE=\ngithub.com/go-ole/go-ole v1.2.6/go.mod h1:pprOEPIfldk/42T2oK7lQ4v4JSDwmV0As9GaiUsvbm0=\ngithub.com/go-ole/go-ole v1.3.0 h1:Dt6ye7+vXGIKZ7Xtk4s6/xVdGDQynvom7xCFEdWr6uE=\ngithub.com/go-ole/go-ole v1.3.0/go.mod h1:5LS6F96DhAwUc7C+1HLexzMXY1xGRSryjyPPKW6zv78=\ngithub.com/go-openapi/analysis v0.23.0 h1:aGday7OWupfMs+LbmLZG4k0MYXIANxcuBTYUC03zFCU=\ngithub.com/go-openapi/analysis v0.23.0/go.mod h1:9mz9ZWaSlV8TvjQHLl2mUW2PbZtemkE8yA5v22ohupo=\ngithub.com/go-openapi/errors v0.22.0 h1:c4xY/OLxUBSTiepAg3j/MHuAv5mJhnf53LLMWFB+u/w=\ngithub.com/go-openapi/errors v0.22.0/go.mod h1:J3DmZScxCDufmIMsdOuDHxJbdOGC0xtUynjIx092vXE=\ngithub.com/go-openapi/jsonpointer v0.21.0 h1:YgdVicSA9vH5RiHs9TZW5oyafXZFc6+2Vc1rr/O9oNQ=\ngithub.com/go-openapi/jsonpointer v0.21.0/go.mod h1:IUyH9l/+uyhIYQ/PXVA41Rexl+kOkAPDdXEYns6fzUY=\ngithub.com/go-openapi/jsonreference v0.21.0 h1:Rs+Y7hSXT83Jacb7kFyjn4ijOuVGSvOdF2+tg1TRrwQ=\ngithub.com/go-openapi/jsonreference v0.21.0/go.mod h1:LmZmgsrTkVg9LG4EaHeY8cBDslNPMo06cago5JNLkm4=\ngithub.com/go-openapi/loads v0.22.0 h1:ECPGd4jX1U6NApCGG1We+uEozOAvXvJSF4nnwHZ8Aco=\ngithub.com/go-openapi/loads v0.22.0/go.mod h1:yLsaTCS92mnSAZX5WWoxszLj0u+Ojl+Zs5Stn1oF+rs=\ngithub.com/go-openapi/runtime v0.28.0 h1:gpPPmWSNGo214l6n8hzdXYhPuJcGtziTOgUpvsFWGIQ=\ngithub.com/go-openapi/runtime v0.28.0/go.mod h1:QN7OzcS+XuYmkQLw05akXk0jRH/eZ3kb18+1KwW9gyc=\ngithub.com/go-openapi/spec v0.21.0 h1:LTVzPc3p/RzRnkQqLRndbAzjY0d0BCL72A6j3CdL9ZY=\ngithub.com/go-openapi/spec v0.21.0/go.mod h1:78u6VdPw81XU44qEWGhtr982gJ5BWg2c0I5XwVMotYk=\ngithub.com/go-openapi/strfmt v0.23.0 h1:nlUS6BCqcnAk0pyhi9Y+kdDVZdZMHfEKQiS4HaMgO/c=\ngithub.com/go-openapi/strfmt v0.23.0/go.mod h1:NrtIpfKtWIygRkKVsxh7XQMDQW5HKQl6S5ik2elW+K4=\ngithub.com/go-openapi/swag v0.23.0 h1:vsEVJDUo2hPJ2tu0/Xc+4noaxyEffXNIs3cOULZ+GrE=\ngithub.com/go-openapi/swag v0.23.0/go.mod h1:esZ8ITTYEsH1V2trKHjAN8Ai7xHb8RV+YSZ577vPjgQ=\ngithub.com/go-openapi/validate v0.24.0 h1:LdfDKwNbpB6Vn40xhTdNZAnfLECL81w+VX3BumrGD58=\ngithub.com/go-openapi/validate v0.24.0/go.mod h1:iyeX1sEufmv3nPbBdX3ieNviWnOZaJ1+zquzJEf2BAQ=\ngithub.com/go-playground/assert/v2 v2.2.0 h1:JvknZsQTYeFEAhQwI4qEt9cyV5ONwRHC+lYKSsYSR8s=\ngithub.com/go-playground/assert/v2 v2.2.0/go.mod h1:VDjEfimB/XKnb+ZQfWdccd7VUvScMdVu0Titje2rxJ4=\ngithub.com/go-playground/locales v0.14.1 h1:EWaQ/wswjilfKLTECiXz7Rh+3BjFhfDFKv/oXslEjJA=\ngithub.com/go-playground/locales v0.14.1/go.mod h1:hxrqLVvrK65+Rwrd5Fc6F2O76J/NuW9t0sjnWqG1slY=\ngithub.com/go-playground/universal-translator v0.18.1 h1:Bcnm0ZwsGyWbCzImXv+pAJnYK9S473LQFuzCbDbfSFY=\ngithub.com/go-playground/universal-translator v0.18.1/go.mod h1:xekY+UJKNuX9WP91TpwSH2VMlDf28Uj24BCp08ZFTUY=\ngithub.com/go-playground/validator/v10 v10.20.0 h1:K9ISHbSaI0lyB2eWMPJo+kOS/FBExVwjEviJTixqxL8=\ngithub.com/go-playground/validator/v10 v10.20.0/go.mod h1:dbuPbCMFw/DrkbEynArYaCwl3amGuJotoKCe95atGMM=\ngithub.com/go-rod/rod v0.116.2 h1:A5t2Ky2A+5eD/ZJQr1EfsQSe5rms5Xof/qj296e+ZqA=\ngithub.com/go-rod/rod v0.116.2/go.mod h1:H+CMO9SCNc2TJ2WfrG+pKhITz57uGNYU43qYHh438Mg=\ngithub.com/go-task/slim-sprig/v3 v3.0.0 h1:sUs3vkvUymDpBKi3qH1YSqBQk9+9D/8M2mN1vB6EwHI=\ngithub.com/go-task/slim-sprig/v3 v3.0.0/go.mod h1:W848ghGpv3Qj3dhTPRyJypKRiqCdHZiAzKg9hl15HA8=\ngithub.com/go-test/deep v1.1.1 h1:0r/53hagsehfO4bzD2Pgr/+RgHqhmf+k1Bpse2cTu1U=\ngithub.com/go-test/deep v1.1.1/go.mod h1:5C2ZWiW0ErCdrYzpqxLbTX7MG14M9iiw8DgHncVwcsE=\ngithub.com/goccy/go-json v0.10.2 h1:CrxCmQqYDkv1z7lO7Wbh2HN93uovUHgrECaO5ZrCXAU=\ngithub.com/goccy/go-json v0.10.2/go.mod h1:6MelG93GURQebXPDq3khkgXZkazVtN9CRI+MGFi0w8I=\ngithub.com/godbus/dbus/v5 v5.1.0/go.mod h1:xhWf0FNVPg57R7Z0UbKHbJfkEywrmjJnf7w5xrFpKfA=\ngithub.com/godbus/dbus/v5 v5.1.1-0.20241109141217-c266b19b28e9 h1:Kzr9J0S0V2PRxiX6B6xw1kWjzsIyjLO2Ibi4fNTaYBM=\ngithub.com/godbus/dbus/v5 v5.1.1-0.20241109141217-c266b19b28e9/go.mod h1:3AAv2+hPq5rdnr5txxxRwiGjPXamgoIHgz9FPBfOp3c=\ngithub.com/gogo/protobuf v1.3.2 h1:Ov1cvc58UF3b5XjBnZv7+opcTcQFZebYjWzi34vdm4Q=\ngithub.com/gogo/protobuf v1.3.2/go.mod h1:P1XiOD3dCwIKUDQYPy72D8LYyHL2YPYrpS2s69NZV8Q=\ngithub.com/golang/glog v0.0.0-20160126235308-23def4e6c14b/go.mod h1:SBH7ygxi8pfUlaOkMMuAQtPIUF8ecWP5IEl/CR7VP2Q=\ngithub.com/golang/groupcache v0.0.0-20200121045136-8c9f03a8e57e/go.mod h1:cIg4eruTrX1D+g88fzRXU5OdNfaM+9IcxsU14FzY7Hc=\ngithub.com/golang/groupcache v0.0.0-20210331224755-41bb18bfe9da h1:oI5xCqsCo564l8iNU+DwB5epxmsaqB+rhGL0m5jtYqE=\ngithub.com/golang/groupcache v0.0.0-20210331224755-41bb18bfe9da/go.mod h1:cIg4eruTrX1D+g88fzRXU5OdNfaM+9IcxsU14FzY7Hc=\ngithub.com/golang/mock v1.1.1/go.mod h1:oTYuIxOrZwtPieC+H1uAHpcLFnEyAGVDL/k47Jfbm0A=\ngithub.com/golang/protobuf v1.2.0/go.mod h1:6lQm79b+lXiMfvg/cZm0SGofjICqVBUtrP5yJMmIC1U=\ngithub.com/golang/protobuf v1.3.2/go.mod h1:6lQm79b+lXiMfvg/cZm0SGofjICqVBUtrP5yJMmIC1U=\ngithub.com/golang/protobuf v1.4.0-rc.1/go.mod h1:ceaxUfeHdC40wWswd/P6IGgMaK3YpKi5j83Wpe3EHw8=\ngithub.com/golang/protobuf v1.4.0-rc.1.0.20200221234624-67d41d38c208/go.mod h1:xKAWHe0F5eneWXFV3EuXVDTCmh+JuBKY0li0aMyXATA=\ngithub.com/golang/protobuf v1.4.0-rc.2/go.mod h1:LlEzMj4AhA7rCAGe4KMBDvJI+AwstrUpVNzEA03Pprs=\ngithub.com/golang/protobuf v1.4.0-rc.4.0.20200313231945-b860323f09d0/go.mod h1:WU3c8KckQ9AFe+yFwt9sWVRKCVIyN9cPHBJSNnbL67w=\ngithub.com/golang/protobuf v1.4.0/go.mod h1:jodUvKwWbYaEsadDk5Fwe5c77LiNKVO9IDvqG2KuDX0=\ngithub.com/golang/protobuf v1.4.1/go.mod h1:U8fpvMrcmy5pZrNK1lt4xCsGvpyWQ/VVv6QDs8UjoX8=\ngithub.com/golang/protobuf v1.4.3/go.mod h1:oDoupMAO8OvCJWAcko0GGGIgR6R6ocIYbsSw735rRwI=\ngithub.com/golang/protobuf v1.5.4 h1:i7eJL8qZTpSEXOPTxNKhASYpMn+8e5Q6AdndVa1dWek=\ngithub.com/golang/protobuf v1.5.4/go.mod h1:lnTiLA8Wa4RWRcIUkrtSVa5nRhsEGBg48fD6rSs7xps=\ngithub.com/google/go-cmp v0.2.0/go.mod h1:oXzfMopK8JAjlY9xF4vHSVASa0yLyX7SntLO5aqRK0M=\ngithub.com/google/go-cmp v0.3.0/go.mod h1:8QqcDgzrUqlUb/G2PQTWiueGozuR1884gddMywk6iLU=\ngithub.com/google/go-cmp v0.3.1/go.mod h1:8QqcDgzrUqlUb/G2PQTWiueGozuR1884gddMywk6iLU=\ngithub.com/google/go-cmp v0.4.0/go.mod h1:v8dTdLbMG2kIc/vJvl+f65V22dbkXbowE6jgT/gNBxE=\ngithub.com/google/go-cmp v0.5.0/go.mod h1:v8dTdLbMG2kIc/vJvl+f65V22dbkXbowE6jgT/gNBxE=\ngithub.com/google/go-cmp v0.5.3/go.mod h1:v8dTdLbMG2kIc/vJvl+f65V22dbkXbowE6jgT/gNBxE=\ngithub.com/google/go-cmp v0.5.6/go.mod h1:v8dTdLbMG2kIc/vJvl+f65V22dbkXbowE6jgT/gNBxE=\ngithub.com/google/go-cmp v0.5.9/go.mod h1:17dUlkBOakJ0+DkrSSNjCkIjxS6bF9zb3elmeNGIjoY=\ngithub.com/google/go-cmp v0.6.0 h1:ofyhxvXcZhMsU5ulbFiLKl/XBFqE1GSq7atu8tAmTRI=\ngithub.com/google/go-cmp v0.6.0/go.mod h1:17dUlkBOakJ0+DkrSSNjCkIjxS6bF9zb3elmeNGIjoY=\ngithub.com/google/go-containerregistry v0.20.2 h1:B1wPJ1SN/S7pB+ZAimcciVD+r+yV/l/DSArMxlbwseo=\ngithub.com/google/go-containerregistry v0.20.2/go.mod h1:z38EKdKh4h7IP2gSfUUqEvalZBqs6AoLeWfUy34nQC8=\ngithub.com/google/go-intervals v0.0.2 h1:FGrVEiUnTRKR8yE04qzXYaJMtnIYqobR5QbblK3ixcM=\ngithub.com/google/go-intervals v0.0.2/go.mod h1:MkaR3LNRfeKLPmqgJYs4E66z5InYjmCjbbr4TQlcT6Y=\ngithub.com/google/gofuzz v1.0.0/go.mod h1:dBl0BpW6vV/+mYPU4Po3pmUjxk6FQPldtuIdl/M65Eg=\ngithub.com/google/gofuzz v1.2.0 h1:xRy4A+RhZaiKjJ1bPfwQ8sedCA+YS2YcCHW6ec7JMi0=\ngithub.com/google/gofuzz v1.2.0/go.mod h1:dBl0BpW6vV/+mYPU4Po3pmUjxk6FQPldtuIdl/M65Eg=\ngithub.com/google/goterm v0.0.0-20200907032337-555d40f16ae2 h1:CVuJwN34x4xM2aT4sIKhmeib40NeBPhRihNjQmpJsA4=\ngithub.com/google/goterm v0.0.0-20200907032337-555d40f16ae2/go.mod h1:nOFQdrUlIlx6M6ODdSpBj1NVA+VgLC6kmw60mkw34H4=\ngithub.com/google/pprof v0.0.0-20241210010833-40e02aabc2ad h1:a6HEuzUHeKH6hwfN/ZoQgRgVIWFJljSWa/zetS2WTvg=\ngithub.com/google/pprof v0.0.0-20241210010833-40e02aabc2ad/go.mod h1:vavhavw2zAxS5dIdcRluK6cSGGPlZynqzFM8NdvU144=\ngithub.com/google/shlex v0.0.0-20191202100458-e7afc7fbc510 h1:El6M4kTTCOh6aBiKaUGG7oYTSPP8MxqL4YI3kZKwcP4=\ngithub.com/google/shlex v0.0.0-20191202100458-e7afc7fbc510/go.mod h1:pupxD2MaaD3pAXIBCelhxNneeOaAeabZDe5s4K6zSpQ=\ngithub.com/google/uuid v1.1.2/go.mod h1:TIyPZe4MgqvfeYDBFedMoGGpEw/LqOeaOT+nhxU+yHo=\ngithub.com/google/uuid v1.2.0/go.mod h1:TIyPZe4MgqvfeYDBFedMoGGpEw/LqOeaOT+nhxU+yHo=\ngithub.com/google/uuid v1.6.0 h1:NIvaJDMOsjHA8n1jAhLSgzrAzy1Hgr+hNrb57e+94F0=\ngithub.com/google/uuid v1.6.0/go.mod h1:TIyPZe4MgqvfeYDBFedMoGGpEw/LqOeaOT+nhxU+yHo=\ngithub.com/gorilla/handlers v1.5.2 h1:cLTUSsNkgcwhgRqvCNmdbRWG0A3N4F+M2nWKdScwyEE=\ngithub.com/gorilla/handlers v1.5.2/go.mod h1:dX+xVpaxdSw+q0Qek8SSsl3dfMk3jNddUkMzo0GtH0w=\ngithub.com/gorilla/mux v1.8.1 h1:TuBL49tXwgrFYWhqrNgrUNEY92u81SPhu7sTdzQEiWY=\ngithub.com/gorilla/mux v1.8.1/go.mod h1:AKf9I4AEqPTmMytcMc0KkNouC66V3BtZ4qD5fmWSiMQ=\ngithub.com/gorilla/schema v1.4.1 h1:jUg5hUjCSDZpNGLuXQOgIWGdlgrIdYvgQ0wZtdK1M3E=\ngithub.com/gorilla/schema v1.4.1/go.mod h1:Dg5SSm5PV60mhF2NFaTV1xuYYj8tV8NOPRo4FggUMnM=\ngithub.com/grpc-ecosystem/grpc-gateway/v2 v2.22.0 h1:asbCHRVmodnJTuQ3qamDwqVOIjwqUPTYmYuemVOx+Ys=\ngithub.com/grpc-ecosystem/grpc-gateway/v2 v2.22.0/go.mod h1:ggCgvZ2r7uOoQjOyu2Y1NhHmEPPzzuhWgcza5M1Ji1I=\ngithub.com/hashicorp/errwrap v1.0.0/go.mod h1:YH+1FKiLXxHSkmPseP+kNlulaMuP3n2brvKWEqk/Jc4=\ngithub.com/hashicorp/errwrap v1.1.0 h1:OxrOeh75EUXMY8TBjag2fzXGZ40LB6IKw45YeGUDY2I=\ngithub.com/hashicorp/errwrap v1.1.0/go.mod h1:YH+1FKiLXxHSkmPseP+kNlulaMuP3n2brvKWEqk/Jc4=\ngithub.com/hashicorp/go-cleanhttp v0.5.2 h1:035FKYIWjmULyFRBKPs8TBQoi0x6d9G4xc9neXJWAZQ=\ngithub.com/hashicorp/go-cleanhttp v0.5.2/go.mod h1:kO/YDlP8L1346E6Sodw+PrpBSV4/SoxCXGY6BqNFT48=\ngithub.com/hashicorp/go-hclog v1.6.3 h1:Qr2kF+eVWjTiYmU7Y31tYlP1h0q/X3Nl3tPGdaB11/k=\ngithub.com/hashicorp/go-hclog v1.6.3/go.mod h1:W4Qnvbt70Wk/zYJryRzDRU/4r0kIg0PVHBcfoyhpF5M=\ngithub.com/hashicorp/go-multierror v1.1.1 h1:H5DkEtf6CXdFp0N0Em5UCwQpXMWke8IA0+lD48awMYo=\ngithub.com/hashicorp/go-multierror v1.1.1/go.mod h1:iw975J/qwKPdAO1clOe2L8331t/9/fmwbPZ6JB6eMoM=\ngithub.com/hashicorp/go-retryablehttp v0.7.7 h1:C8hUCYzor8PIfXHa4UrZkU4VvK8o9ISHxT2Q8+VepXU=\ngithub.com/hashicorp/go-retryablehttp v0.7.7/go.mod h1:pkQpWZeYWskR+D1tR2O5OcBFOxfA7DoAO6xtkuQnHTk=\ngithub.com/hugelgupf/p9 v0.3.1-0.20230822151754-54f5c5530921 h1:cfYGdNpXGZobTSSDFB+wx2FRfWptM7sCkScJgVx0Tkk=\ngithub.com/hugelgupf/p9 v0.3.1-0.20230822151754-54f5c5530921/go.mod h1:nMr69J6AmirlSvzeVLK7gj4DUY1oYtSwcSiSJ7BBb0A=\ngithub.com/hugelgupf/socketpair v0.0.0-20230822150718-707395b1939a h1:Nq7wDsqsVBUBfGn8yB1M028ShWTKTtZBcafaTJ35N0s=\ngithub.com/hugelgupf/socketpair v0.0.0-20230822150718-707395b1939a/go.mod h1:71Bqb5Fh9zPHF8jwdmMEmJObzr25Mx5pWLbDBMMEn6E=\ngithub.com/hugelgupf/vmtest v0.0.0-20230810222836-f8c8e381617c h1:4A+BVHylCBQPxlW1NrUITDpRAHCeX6QSZHmzzFQqliU=\ngithub.com/hugelgupf/vmtest v0.0.0-20230810222836-f8c8e381617c/go.mod h1:d2FMzS0rIF+3Daufcw660EZfTJihdNPeEwBBJgO4Ap0=\ngithub.com/inconshreveable/mousetrap v1.1.0 h1:wN+x4NVGpMsO7ErUn/mUI3vEoE6Jt13X2s0bqwp9tc8=\ngithub.com/inconshreveable/mousetrap v1.1.0/go.mod h1:vpF70FUmC8bwa3OWnCshd2FqLfsEA9PFc4w1p2J65bw=\ngithub.com/insomniacslk/dhcp v0.0.0-20240812123929-b105c29bd1b5 h1:GkMacU5ftc+IEg1449N3UEy2XLDz58W4fkrRu2fibb8=\ngithub.com/insomniacslk/dhcp v0.0.0-20240812123929-b105c29bd1b5/go.mod h1:KclMyHxX06VrVr0DJmeFSUb1ankt7xTfoOA35pCkoic=\ngithub.com/jinzhu/copier v0.4.0 h1:w3ciUoD19shMCRargcpm0cm91ytaBhDvuRpz1ODO/U8=\ngithub.com/jinzhu/copier v0.4.0/go.mod h1:DfbEm0FYsaqBcKcFuvmOZb218JkPGtvSHsKg8S8hyyg=\ngithub.com/jmhodges/clock v1.2.0 h1:eq4kys+NI0PLngzaHEe7AmPT90XMGIEySD1JfV1PDIs=\ngithub.com/jmhodges/clock v1.2.0/go.mod h1:qKjhA7x7u/lQpPB1XAqX1b1lCI/w3/fNuYpI/ZjLynI=\ngithub.com/josharian/intern v1.0.0 h1:vlS4z54oSdjm0bgjRigI+G1HpF+tI+9rE5LLzOg8HmY=\ngithub.com/josharian/intern v1.0.0/go.mod h1:5DoeVV0s6jJacbCEi61lwdGj/aVlrQvzHFFd8Hwg//Y=\ngithub.com/josharian/native v1.1.0 h1:uuaP0hAbW7Y4l0ZRQ6C9zfb7Mg1mbFKry/xzDAfmtLA=\ngithub.com/josharian/native v1.1.0/go.mod h1:7X/raswPFr05uY3HiLlYeyQntB6OO7E/d2Cu7qoaN2w=\ngithub.com/json-iterator/go v1.1.12 h1:PV8peI4a0ysnczrg+LtxykD8LfKY9ML6u2jnxaEnrnM=\ngithub.com/json-iterator/go v1.1.12/go.mod h1:e30LSqwooZae/UwlEbR2852Gd8hjQvJoHmT4TnhNGBo=\ngithub.com/kevinburke/ssh_config v1.2.0 h1:x584FjTGwHzMwvHx18PXxbBVzfnxogHaAReU4gf13a4=\ngithub.com/kevinburke/ssh_config v1.2.0/go.mod h1:CT57kijsi8u/K/BOFA39wgDQJ9CxiF4nAY/ojJ6r6mM=\ngithub.com/kisielk/errcheck v1.5.0/go.mod h1:pFxgyoBC7bSaBwPgfKdkLd5X25qrDl4LWUI2bnpBCr8=\ngithub.com/kisielk/gotool v1.0.0/go.mod h1:XhKaO+MFFWcvkIS/tQcRk01m1F5IRFswLeQ+oQHNcck=\ngithub.com/klauspost/compress v1.17.11 h1:In6xLpyWOi1+C7tXUUWv2ot1QvBjxevKAaI6IXrJmUc=\ngithub.com/klauspost/compress v1.17.11/go.mod h1:pMDklpSncoRMuLFrf1W9Ss9KT+0rH90U12bZKk7uwG0=\ngithub.com/klauspost/cpuid/v2 v2.0.9/go.mod h1:FInQzS24/EEf25PyTYn52gqo7WaD8xa0213Md/qVLRg=\ngithub.com/klauspost/cpuid/v2 v2.2.9 h1:66ze0taIn2H33fBvCkXuv9BmCwDfafmiIVpKV9kKGuY=\ngithub.com/klauspost/cpuid/v2 v2.2.9/go.mod h1:rqkxqrZ1EhYM9G+hXH7YdowN5R5RGN6NK4QwQ3WMXF8=\ngithub.com/klauspost/pgzip v1.2.6 h1:8RXeL5crjEUFnR2/Sn6GJNWtSQ3Dk8pq4CL3jvdDyjU=\ngithub.com/klauspost/pgzip v1.2.6/go.mod h1:Ch1tH69qFZu15pkjo5kYi6mth2Zzwzt50oCQKQE9RUs=\ngithub.com/knz/go-libedit v1.10.1/go.mod h1:MZTVkCWyz0oBc7JOWP3wNAzd002ZbM/5hgShxwh4x8M=\ngithub.com/kr/fs v0.1.0 h1:Jskdu9ieNAYnjxsi0LbQp1ulIKZV1LAFgK1tWhpZgl8=\ngithub.com/kr/fs v0.1.0/go.mod h1:FFnZGqtBN9Gxj7eW1uZ42v5BccTP0vu6NEaFoC2HwRg=\ngithub.com/kr/pretty v0.3.1 h1:flRD4NNwYAUpkphVc1HcthR4KEIFJ65n8Mw5qdRn3LE=\ngithub.com/kr/pretty v0.3.1/go.mod h1:hoEshYVHaxMs3cyo3Yncou5ZscifuDolrwPKZanG3xk=\ngithub.com/kr/text v0.2.0 h1:5Nx0Ya0ZqY2ygV366QzturHI13Jq95ApcVaJBhpS+AY=\ngithub.com/kr/text v0.2.0/go.mod h1:eLer722TekiGuMkidMxC/pM04lWEeraHUUmBw8l2grE=\ngithub.com/leodido/go-urn v1.4.0 h1:WT9HwE9SGECu3lg4d/dIA+jxlljEa1/ffXKmRjqdmIQ=\ngithub.com/leodido/go-urn v1.4.0/go.mod h1:bvxc+MVxLKB4z00jd1z+Dvzr47oO32F/QSNjSBOlFxI=\ngithub.com/letsencrypt/boulder v0.0.0-20240620165639-de9c06129bec h1:2tTW6cDth2TSgRbAhD7yjZzTQmcN25sDRPEeinR51yQ=\ngithub.com/letsencrypt/boulder v0.0.0-20240620165639-de9c06129bec/go.mod h1:TmwEoGCwIti7BCeJ9hescZgRtatxRE+A72pCoPfmcfk=\ngithub.com/linuxkit/virtsock v0.0.0-20241009230534-cb6a20cc0422 h1:XvRuyDDRvi+UDxHN/M4MW4HxjmNVMmUKQj/+AbgsYgk=\ngithub.com/linuxkit/virtsock v0.0.0-20241009230534-cb6a20cc0422/go.mod h1:JLgfq4XMVbvfNlAXla/41lZnp21O72a/wWHGJefAvgQ=\ngithub.com/lufia/plan9stats v0.0.0-20211012122336-39d0f177ccd0 h1:6E+4a0GO5zZEnZ81pIr0yLvtUWk2if982qA3F3QD6H4=\ngithub.com/lufia/plan9stats v0.0.0-20211012122336-39d0f177ccd0/go.mod h1:zJYVVT2jmtg6P3p1VtQj7WsuWi/y4VnjVBn7F8KPB3I=\ngithub.com/mailru/easyjson v0.7.7 h1:UGYAvKxe3sBsEDzO8ZeWOSlIQfWFlxbzLZe7hwFURr0=\ngithub.com/mailru/easyjson v0.7.7/go.mod h1:xzfreul335JAWq5oZzymOObrkdz5UnU4kGfJJLY9Nlc=\ngithub.com/manifoldco/promptui v0.9.0 h1:3V4HzJk1TtXW1MTZMP7mdlwbBpIinw3HztaIlYthEiA=\ngithub.com/manifoldco/promptui v0.9.0/go.mod h1:ka04sppxSGFAtxX0qhlYQjISsg9mR4GWtQEhdbn6Pgg=\ngithub.com/mattn/go-colorable v0.1.13 h1:fFA4WZxdEF4tXPZVKMLwD8oUnCTTo08duU7wxecdEvA=\ngithub.com/mattn/go-colorable v0.1.13/go.mod h1:7S9/ev0klgBDR4GtXTXX8a3vIGJpMovkB8vQcUbaXHg=\ngithub.com/mattn/go-isatty v0.0.16/go.mod h1:kYGgaQfpe5nmfYZH+SKPsOc2e4SrIfOl2e/yFXSvRLM=\ngithub.com/mattn/go-isatty v0.0.20 h1:xfD0iDuEKnDkl03q4limB+vH+GxLEtL/jb4xVJSWWEY=\ngithub.com/mattn/go-isatty v0.0.20/go.mod h1:W+V8PltTTMOvKvAeJH7IuucS94S2C6jfK/D7dTCTo3Y=\ngithub.com/mattn/go-runewidth v0.0.16 h1:E5ScNMtiwvlvB5paMFdw9p4kSQzbXFikJ5SQO6TULQc=\ngithub.com/mattn/go-runewidth v0.0.16/go.mod h1:Jdepj2loyihRzMpdS35Xk/zdY8IAYHsh153qUoGf23w=\ngithub.com/mattn/go-shellwords v1.0.12 h1:M2zGm7EW6UQJvDeQxo4T51eKPurbeFbe8WtebGE2xrk=\ngithub.com/mattn/go-shellwords v1.0.12/go.mod h1:EZzvwXDESEeg03EKmM+RmDnNOPKG4lLtQsUlTZDWQ8Y=\ngithub.com/mattn/go-sqlite3 v1.14.24 h1:tpSp2G2KyMnnQu99ngJ47EIkWVmliIizyZBfPrBWDRM=\ngithub.com/mattn/go-sqlite3 v1.14.24/go.mod h1:Uh1q+B4BYcTPb+yiD3kU8Ct7aC0hY9fxUwlHK0RXw+Y=\ngithub.com/mdlayher/packet v1.1.2 h1:3Up1NG6LZrsgDVn6X4L9Ge/iyRyxFEFD9o6Pr3Q1nQY=\ngithub.com/mdlayher/packet v1.1.2/go.mod h1:GEu1+n9sG5VtiRE4SydOmX5GTwyyYlteZiFU+x0kew4=\ngithub.com/mdlayher/socket v0.4.1 h1:eM9y2/jlbs1M615oshPQOHZzj6R6wMT7bX5NPiQvn2U=\ngithub.com/mdlayher/socket v0.4.1/go.mod h1:cAqeGjoufqdxWkD7DkpyS+wcefOtmu5OQ8KuoJGIReA=\ngithub.com/mdlayher/vsock v1.2.1 h1:pC1mTJTvjo1r9n9fbm7S1j04rCgCzhCOS5DY0zqHlnQ=\ngithub.com/mdlayher/vsock v1.2.1/go.mod h1:NRfCibel++DgeMD8z/hP+PPTjlNJsdPOmxcnENvE+SE=\ngithub.com/miekg/pkcs11 v1.1.1 h1:Ugu9pdy6vAYku5DEpVWVFPYnzV+bxB+iRdbuFSu7TvU=\ngithub.com/miekg/pkcs11 v1.1.1/go.mod h1:XsNlhZGX73bx86s2hdc/FuaLm2CPZJemRLMA+WTFxgs=\ngithub.com/mistifyio/go-zfs/v3 v3.0.1 h1:YaoXgBePoMA12+S1u/ddkv+QqxcfiZK4prI6HPnkFiU=\ngithub.com/mistifyio/go-zfs/v3 v3.0.1/go.mod h1:CzVgeB0RvF2EGzQnytKVvVSDwmKJXxkOTUGbNrTja/k=\ngithub.com/mitchellh/mapstructure v1.5.0 h1:jeMsZIYE/09sWLaz43PL7Gy6RuMjD2eJVyuac5Z2hdY=\ngithub.com/mitchellh/mapstructure v1.5.0/go.mod h1:bFUtVrKA4DC2yAKiSyO/QUcy7e+RRV2QTWOzhPopBRo=\ngithub.com/moby/buildkit v0.17.1 h1:VWj6eIdk7u6acHPn2CiA+tdq0/mQoBEk9ckweRzWmPw=\ngithub.com/moby/buildkit v0.17.1/go.mod h1:ru8NFyDHD8HbuKaLXJIjK9nr3x6FZR+IWjtF07S+wdM=\ngithub.com/moby/docker-image-spec v1.3.1 h1:jMKff3w6PgbfSa69GfNg+zN/XLhfXJGnEx3Nl2EsFP0=\ngithub.com/moby/docker-image-spec v1.3.1/go.mod h1:eKmb5VW8vQEh/BAr2yvVNvuiJuY6UIocYsFu/DxxRpo=\ngithub.com/moby/patternmatcher v0.6.0 h1:GmP9lR19aU5GqSSFko+5pRqHi+Ohk1O69aFiKkVGiPk=\ngithub.com/moby/patternmatcher v0.6.0/go.mod h1:hDPoyOpDY7OrrMDLaYoY3hf52gNCR/YOUYxkhApJIxc=\ngithub.com/moby/sys/capability v0.4.0 h1:4D4mI6KlNtWMCM1Z/K0i7RV1FkX+DBDHKVJpCndZoHk=\ngithub.com/moby/sys/capability v0.4.0/go.mod h1:4g9IK291rVkms3LKCDOoYlnV8xKwoDTpIrNEE35Wq0I=\ngithub.com/moby/sys/mountinfo v0.7.2 h1:1shs6aH5s4o5H2zQLn796ADW1wMrIwHsyJ2v9KouLrg=\ngithub.com/moby/sys/mountinfo v0.7.2/go.mod h1:1YOa8w8Ih7uW0wALDUgT1dTTSBrZ+HiBLGws92L2RU4=\ngithub.com/moby/sys/sequential v0.6.0 h1:qrx7XFUd/5DxtqcoH1h438hF5TmOvzC/lspjy7zgvCU=\ngithub.com/moby/sys/sequential v0.6.0/go.mod h1:uyv8EUTrca5PnDsdMGXhZe6CCe8U/UiTWd+lL+7b/Ko=\ngithub.com/moby/sys/user v0.3.0 h1:9ni5DlcW5an3SvRSx4MouotOygvzaXbaSrc/wGDFWPo=\ngithub.com/moby/sys/user v0.3.0/go.mod h1:bG+tYYYJgaMtRKgEmuueC0hJEAZWwtIbZTB+85uoHjs=\ngithub.com/moby/sys/userns v0.1.0 h1:tVLXkFOxVu9A64/yh59slHVv9ahO9UIev4JZusOLG/g=\ngithub.com/moby/sys/userns v0.1.0/go.mod h1:IHUYgu/kao6N8YZlp9Cf444ySSvCmDlmzUcYfDHOl28=\ngithub.com/moby/term v0.5.2 h1:6qk3FJAFDs6i/q3W/pQ97SX192qKfZgGjCQqfCJkgzQ=\ngithub.com/moby/term v0.5.2/go.mod h1:d3djjFCrjnB+fl8NJux+EJzu0msscUP+f8it8hPkFLc=\ngithub.com/modern-go/concurrent v0.0.0-20180228061459-e0a39a4cb421/go.mod h1:6dJC0mAP4ikYIbvyc7fijjWJddQyLn8Ig3JB5CqoB9Q=\ngithub.com/modern-go/concurrent v0.0.0-20180306012644-bacd9c7ef1dd h1:TRLaZ9cD/w8PVh93nsPXa1VrQ6jlwL5oN8l14QlcNfg=\ngithub.com/modern-go/concurrent v0.0.0-20180306012644-bacd9c7ef1dd/go.mod h1:6dJC0mAP4ikYIbvyc7fijjWJddQyLn8Ig3JB5CqoB9Q=\ngithub.com/modern-go/reflect2 v1.0.2 h1:xBagoLtFs94CBntxluKeaWgTMpvLxC4ur3nMaC9Gz0M=\ngithub.com/modern-go/reflect2 v1.0.2/go.mod h1:yWuevngMOJpCy52FWWMvUC8ws7m/LJsjYzDa0/r8luk=\ngithub.com/morikuni/aec v1.0.0 h1:nP9CBfwrvYnBRgY6qfDQkygYDmYwOilePFkwzv4dU8A=\ngithub.com/morikuni/aec v1.0.0/go.mod h1:BbKIizmSmc5MMPqRYbxO4ZU0S0+P200+tUnFx7PXmsc=\ngithub.com/munnerz/goautoneg v0.0.0-20191010083416-a7dc8b61c822 h1:C3w9PqII01/Oq1c1nUAm88MOHcQC9l5mIlSMApZMrHA=\ngithub.com/munnerz/goautoneg v0.0.0-20191010083416-a7dc8b61c822/go.mod h1:+n7T8mK8HuQTcFwEeznm/DIxMOiR9yIdICNftLE1DvQ=\ngithub.com/nxadm/tail v1.4.11 h1:8feyoE3OzPrcshW5/MJ4sGESc5cqmGkGCWlco4l0bqY=\ngithub.com/nxadm/tail v1.4.11/go.mod h1:OTaG3NK980DZzxbRq6lEuzgU+mug70nY11sMd4JXXHc=\ngithub.com/oklog/ulid v1.3.1 h1:EGfNDEx6MqHz8B3uNV6QAib1UR2Lm97sHi3ocA6ESJ4=\ngithub.com/oklog/ulid v1.3.1/go.mod h1:CirwcVhetQ6Lv90oh/F+FBtV6XMibvdAFo93nm5qn4U=\ngithub.com/onsi/ginkgo/v2 v2.22.2 h1:/3X8Panh8/WwhU/3Ssa6rCKqPLuAkVY2I0RoyDLySlU=\ngithub.com/onsi/ginkgo/v2 v2.22.2/go.mod h1:oeMosUL+8LtarXBHu/c0bx2D/K9zyQ6uX3cTyztHwsk=\ngithub.com/onsi/gomega v1.36.2 h1:koNYke6TVk6ZmnyHrCXba/T/MoLBXFjeC1PtvYgw0A8=\ngithub.com/onsi/gomega v1.36.2/go.mod h1:DdwyADRjrc825LhMEkD76cHR5+pUnjhUN8GlHlRPHzY=\ngithub.com/opencontainers/go-digest v1.0.0 h1:apOUWs51W5PlhuyGyz9FCeeBIOUDA/6nW8Oi/yOhh5U=\ngithub.com/opencontainers/go-digest v1.0.0/go.mod h1:0JzlMkj0TRzQZfJkVvzbP0HBR3IKzErnv2BNG4W4MAM=\ngithub.com/opencontainers/image-spec v1.1.0 h1:8SG7/vwALn54lVB/0yZ/MMwhFrPYtpEHQb2IpWsCzug=\ngithub.com/opencontainers/image-spec v1.1.0/go.mod h1:W4s4sFTMaBeK1BQLXbG4AdM2szdn85PY75RI83NrTrM=\ngithub.com/opencontainers/runc v1.2.4 h1:yWFgLkghp71D76Fa0l349yAl5g4Gse7DPYNlvkQ9Eiw=\ngithub.com/opencontainers/runc v1.2.4/go.mod h1:nSxcWUydXrsBZVYNSkTjoQ/N6rcyTtn+1SD5D4+kRIM=\ngithub.com/opencontainers/runtime-spec v1.2.0 h1:z97+pHb3uELt/yiAWD691HNHQIF07bE7dzrbT927iTk=\ngithub.com/opencontainers/runtime-spec v1.2.0/go.mod h1:jwyrGlmzljRJv/Fgzds9SsS/C5hL+LL3ko9hs6T5lQ0=\ngithub.com/opencontainers/runtime-tools v0.9.1-0.20241108202711-f7e3563b0271 h1:TPj0pMLCTy1CKwmrat3hqTxoZfqOuTy0asG0ccpGk8Q=\ngithub.com/opencontainers/runtime-tools v0.9.1-0.20241108202711-f7e3563b0271/go.mod h1:oIH6VwKkaDOO+SIYZpdwrC/0wKYqrfO6E1sG1j3UVws=\ngithub.com/opencontainers/selinux v1.11.1 h1:nHFvthhM0qY8/m+vfhJylliSshm8G1jJ2jDMcgULaH8=\ngithub.com/opencontainers/selinux v1.11.1/go.mod h1:E5dMC3VPuVvVHDYmi78qvhJp8+M586T4DlDRYpFkyec=\ngithub.com/openshift/imagebuilder v1.2.15 h1:MNn1OztEE/l8pSEDPYAQ71Ys6rpXA2P00UFhdY9p/yk=\ngithub.com/openshift/imagebuilder v1.2.15/go.mod h1:cK6MLyBl1IHmIYGLY/2SLOG6p0PtEDUOC7khxsFYUXE=\ngithub.com/opentracing/opentracing-go v1.2.0 h1:uEJPy/1a5RIPAJ0Ov+OIO8OxWu77jEv+1B0VhjKrZUs=\ngithub.com/opentracing/opentracing-go v1.2.0/go.mod h1:GxEUsuufX4nBwe+T+Wl9TAgYrxe9dPLANfrWvHYVTgc=\ngithub.com/ostreedev/ostree-go v0.0.0-20210805093236-719684c64e4f h1:/UDgs8FGMqwnHagNDPGOlts35QkhAZ8by3DR7nMih7M=\ngithub.com/ostreedev/ostree-go v0.0.0-20210805093236-719684c64e4f/go.mod h1:J6OG6YJVEWopen4avK3VNQSnALmmjvniMmni/YFYAwc=\ngithub.com/pelletier/go-toml/v2 v2.2.2 h1:aYUidT7k73Pcl9nb2gScu7NSrKCSHIDE89b3+6Wq+LM=\ngithub.com/pelletier/go-toml/v2 v2.2.2/go.mod h1:1t835xjRzz80PqgE6HHgN2JOsmgYu/h4qDAS4n929Rs=\ngithub.com/pierrec/lz4/v4 v4.1.21 h1:yOVMLb6qSIDP67pl/5F7RepeKYu/VmTyEXvuMI5d9mQ=\ngithub.com/pierrec/lz4/v4 v4.1.21/go.mod h1:gZWDp/Ze/IJXGXf23ltt2EXimqmTUXEy0GFuRQyBid4=\ngithub.com/pkg/errors v0.9.1 h1:FEBLx1zS214owpjy7qsBeixbURkuhQAwrK5UwLGTwt4=\ngithub.com/pkg/errors v0.9.1/go.mod h1:bwawxfHBFNV+L2hUp1rHADufV3IMtnDRdf1r5NINEl0=\ngithub.com/pkg/sftp v1.13.7 h1:uv+I3nNJvlKZIQGSr8JVQLNHFU9YhhNpvC14Y6KgmSM=\ngithub.com/pkg/sftp v1.13.7/go.mod h1:KMKI0t3T6hfA+lTR/ssZdunHo+uwq7ghoN09/FSu3DY=\ngithub.com/planetscale/vtprotobuf v0.6.1-0.20240319094008-0393e58bdf10 h1:GFCKgmp0tecUJ0sJuv4pzYCqS9+RGSn52M3FUwPs+uo=\ngithub.com/planetscale/vtprotobuf v0.6.1-0.20240319094008-0393e58bdf10/go.mod h1:t/avpk3KcrXxUnYOhZhMXJlSEyie6gQbtLq5NM3loB8=\ngithub.com/pmezard/go-difflib v1.0.0/go.mod h1:iKH77koFhYxTK1pcRnkKkqfTogsbg7gZNVY4sRDYZ/4=\ngithub.com/pmezard/go-difflib v1.0.1-0.20181226105442-5d4384ee4fb2 h1:Jamvg5psRIccs7FGNTlIRMkT8wgtp5eCXdBlqhYGL6U=\ngithub.com/pmezard/go-difflib v1.0.1-0.20181226105442-5d4384ee4fb2/go.mod h1:iKH77koFhYxTK1pcRnkKkqfTogsbg7gZNVY4sRDYZ/4=\ngithub.com/power-devops/perfstat v0.0.0-20210106213030-5aafc221ea8c h1:ncq/mPwQF4JjgDlrVEn3C11VoGHZN7m8qihwgMEtzYw=\ngithub.com/power-devops/perfstat v0.0.0-20210106213030-5aafc221ea8c/go.mod h1:OmDBASR4679mdNQnz2pUhc2G8CO2JrUAVFDRBDP/hJE=\ngithub.com/proglottis/gpgme v0.1.4 h1:3nE7YNA70o2aLjcg63tXMOhPD7bplfE5CBdV+hLAm2M=\ngithub.com/proglottis/gpgme v0.1.4/go.mod h1:5LoXMgpE4bttgwwdv9bLs/vwqv3qV7F4glEEZ7mRKrM=\ngithub.com/prometheus/client_golang v1.20.2 h1:5ctymQzZlyOON1666svgwn3s6IKWgfbjsejTMiXIyjg=\ngithub.com/prometheus/client_golang v1.20.2/go.mod h1:PIEt8X02hGcP8JWbeHyeZ53Y/jReSnHgO035n//V5WE=\ngithub.com/prometheus/client_model v0.0.0-20190812154241-14fe0d1b01d4/go.mod h1:xMI15A0UPsDsEKsMN9yxemIoYk6Tm2C1GtYGdfGttqA=\ngithub.com/prometheus/client_model v0.6.1 h1:ZKSh/rekM+n3CeS952MLRAdFwIKqeY8b62p8ais2e9E=\ngithub.com/prometheus/client_model v0.6.1/go.mod h1:OrxVMOVHjw3lKMa8+x6HeMGkHMQyHDk9E3jmP2AmGiY=\ngithub.com/prometheus/common v0.57.0 h1:Ro/rKjwdq9mZn1K5QPctzh+MA4Lp0BuYk5ZZEVhoNcY=\ngithub.com/prometheus/common v0.57.0/go.mod h1:7uRPFSUTbfZWsJ7MHY56sqt7hLQu3bxXHDnNhl8E9qI=\ngithub.com/prometheus/procfs v0.15.1 h1:YagwOFzUgYfKKHX6Dr+sHT7km/hxC76UB0learggepc=\ngithub.com/prometheus/procfs v0.15.1/go.mod h1:fB45yRUv8NstnjriLhBQLuOUt+WW4BsoGhij/e3PBqk=\ngithub.com/rivo/uniseg v0.2.0/go.mod h1:J6wj4VEh+S6ZtnVlnTBMWIodfgj8LQOQFoIToxlJtxc=\ngithub.com/rivo/uniseg v0.4.7 h1:WUdvkW8uEhrYfLC4ZzdpI2ztxP1I582+49Oc5Mq64VQ=\ngithub.com/rivo/uniseg v0.4.7/go.mod h1:FN3SvrM+Zdj16jyLfmOkMNblXMcoc8DfTHruCPUcx88=\ngithub.com/rogpeppe/go-internal v1.12.0 h1:exVL4IDcn6na9z1rAb56Vxr+CgyK3nn3O+epU5NdKM8=\ngithub.com/rogpeppe/go-internal v1.12.0/go.mod h1:E+RYuTGaKKdloAfM02xzb0FW3Paa99yedzYV+kq4uf4=\ngithub.com/rootless-containers/rootlesskit/v2 v2.3.1 h1:wdYtdKxWFvVLby9ThMP6O6/v2q/GmOXbkRi+4m9nPW0=\ngithub.com/rootless-containers/rootlesskit/v2 v2.3.1/go.mod h1:tdtfS9ak4bGmwJRmcjsAzcHN5rJ3c5dB7yhSV10KTbk=\ngithub.com/russross/blackfriday/v2 v2.1.0/go.mod h1:+Rmxgy9KzJVeS9/2gXHxylqXiyQDYRxCVz55jmeOWTM=\ngithub.com/sebdah/goldie/v2 v2.5.5 h1:rx1mwF95RxZ3/83sdS4Yp7t2C5TCokvWP4TBRbAyEWY=\ngithub.com/sebdah/goldie/v2 v2.5.5/go.mod h1:oZ9fp0+se1eapSRjfYbsV/0Hqhbuu3bJVvKI/NNtssI=\ngithub.com/seccomp/libseccomp-golang v0.10.0 h1:aA4bp+/Zzi0BnWZ2F1wgNBs5gTpm+na2rWM6M9YjLpY=\ngithub.com/seccomp/libseccomp-golang v0.10.0/go.mod h1:JA8cRccbGaA1s33RQf7Y1+q9gHmZX1yB/z9WDN1C6fg=\ngithub.com/secure-systems-lab/go-securesystemslib v0.9.0 h1:rf1HIbL64nUpEIZnjLZ3mcNEL9NBPB0iuVjyxvq3LZc=\ngithub.com/secure-systems-lab/go-securesystemslib v0.9.0/go.mod h1:DVHKMcZ+V4/woA/peqr+L0joiRXbPpQ042GgJckkFgw=\ngithub.com/segmentio/ksuid v1.0.4 h1:sBo2BdShXjmcugAMwjugoGUdUV0pcxY5mW4xKRn3v4c=\ngithub.com/segmentio/ksuid v1.0.4/go.mod h1:/XUiZBD3kVx5SmUOl55voK5yeAbBNNIed+2O73XgrPE=\ngithub.com/sergi/go-diff v1.3.1 h1:xkr+Oxo4BOQKmkn/B9eMK0g5Kg/983T9DqqPHwYqD+8=\ngithub.com/sergi/go-diff v1.3.1/go.mod h1:aMJSSKb2lpPvRNec0+w3fl7LP9IOFzdc9Pa4NFbPK1I=\ngithub.com/shirou/gopsutil/v4 v4.24.12 h1:qvePBOk20e0IKA1QXrIIU+jmk+zEiYVVx06WjBRlZo4=\ngithub.com/shirou/gopsutil/v4 v4.24.12/go.mod h1:DCtMPAad2XceTeIAbGyVfycbYQNBGk2P8cvDi7/VN9o=\ngithub.com/sigstore/fulcio v1.6.4 h1:d86obfxUAG3Y6CYwOx1pdwCZwKmROB6w6927pKOVIRY=\ngithub.com/sigstore/fulcio v1.6.4/go.mod h1:Y6bn3i3KGhXpaHsAtYP3Z4Np0+VzCo1fLv8Ci6mbPDs=\ngithub.com/sigstore/rekor v1.3.6 h1:QvpMMJVWAp69a3CHzdrLelqEqpTM3ByQRt5B5Kspbi8=\ngithub.com/sigstore/rekor v1.3.6/go.mod h1:JDTSNNMdQ/PxdsS49DJkJ+pRJCO/83nbR5p3aZQteXc=\ngithub.com/sigstore/sigstore v1.8.11 h1:tEqeQqbT+awtM87ec9KEeSUxT/AFvJNawneYJyAkFrQ=\ngithub.com/sigstore/sigstore v1.8.11/go.mod h1:fdrFQosxCQ4wTL5H1NrZcQkqQ72AQbPjtpcL2QOGKV0=\ngithub.com/sirupsen/logrus v1.9.3 h1:dueUQJ1C2q9oE3F7wvmSGAaVtTmUizReu6fjN8uqzbQ=\ngithub.com/sirupsen/logrus v1.9.3/go.mod h1:naHLuLoDiP4jHNo9R0sCBMtWGeIprob74mVsIT4qYEQ=\ngithub.com/skeema/knownhosts v1.3.0 h1:AM+y0rI04VksttfwjkSTNQorvGqmwATnvnAHpSgc0LY=\ngithub.com/skeema/knownhosts v1.3.0/go.mod h1:sPINvnADmT/qYH1kfv+ePMmOBTH6Tbl7b5LvTDjFK7M=\ngithub.com/skratchdot/open-golang v0.0.0-20200116055534-eef842397966 h1:JIAuq3EEf9cgbU6AtGPK4CTG3Zf6CKMNqf0MHTggAUA=\ngithub.com/skratchdot/open-golang v0.0.0-20200116055534-eef842397966/go.mod h1:sUM3LWHvSMaG192sy56D9F7CNvL7jUJVXoqM1QKLnog=\ngithub.com/smallstep/pkcs7 v0.1.1 h1:x+rPdt2W088V9Vkjho4KtoggyktZJlMduZAtRHm68LU=\ngithub.com/smallstep/pkcs7 v0.1.1/go.mod h1:dL6j5AIz9GHjVEBTXtW+QliALcgM19RtXaTeyxI+AfA=\ngithub.com/spf13/cobra v1.8.1 h1:e5/vxKd/rZsfSJMUX1agtjeTDf+qv1/JdBF8gg5k9ZM=\ngithub.com/spf13/cobra v1.8.1/go.mod h1:wHxEcudfqmLYa8iTfL+OuZPbBZkmvliBWKIezN3kD9Y=\ngithub.com/spf13/pflag v1.0.5 h1:iy+VFUOCP1a+8yFto/drg2CJ5u0yRoB7fZw3DKv/JXA=\ngithub.com/spf13/pflag v1.0.5/go.mod h1:McXfInJRrz4CZXVZOBLb0bTZqETkiAhM9Iw0y3An2Bg=\ngithub.com/stefanberger/go-pkcs11uri v0.0.0-20230803200340-78284954bff6 h1:pnnLyeX7o/5aX8qUQ69P/mLojDqwda8hFOCBTmP/6hw=\ngithub.com/stefanberger/go-pkcs11uri v0.0.0-20230803200340-78284954bff6/go.mod h1:39R/xuhNgVhi+K0/zst4TLrJrVmbm6LVgl4A0+ZFS5M=\ngithub.com/stretchr/objx v0.1.0/go.mod h1:HFkY916IF+rwdDfMAkV7OtwuqBVzrE8GR6GFx+wExME=\ngithub.com/stretchr/objx v0.4.0/go.mod h1:YvHI0jy2hoMjB+UWwv71VJQ9isScKT/TqJzVSSt89Yw=\ngithub.com/stretchr/objx v0.5.0/go.mod h1:Yh+to48EsGEfYuaHDzXPcE3xhTkx73EhmCGUpEOglKo=\ngithub.com/stretchr/objx v0.5.2/go.mod h1:FRsXN1f5AsAjCGJKqEizvkpNtU+EGNCLh3NxZ/8L+MA=\ngithub.com/stretchr/testify v1.3.0/go.mod h1:M5WIy9Dh21IEIfnGCwXGc5bZfKNJtfHm1UVUgZn+9EI=\ngithub.com/stretchr/testify v1.6.1/go.mod h1:6Fq8oRcR53rry900zMqJjRRixrwX3KX962/h/Wwjteg=\ngithub.com/stretchr/testify v1.7.0/go.mod h1:6Fq8oRcR53rry900zMqJjRRixrwX3KX962/h/Wwjteg=\ngithub.com/stretchr/testify v1.7.1/go.mod h1:6Fq8oRcR53rry900zMqJjRRixrwX3KX962/h/Wwjteg=\ngithub.com/stretchr/testify v1.8.0/go.mod h1:yNjHg4UonilssWZ8iaSj1OCr/vHnekPRkoO+kdMU+MU=\ngithub.com/stretchr/testify v1.8.1/go.mod h1:w2LPCIKwWwSfY2zedu0+kehJoqGctiVI29o6fzry7u4=\ngithub.com/stretchr/testify v1.8.4/go.mod h1:sz/lmYIOXD/1dqDmKjjqLyZ2RngseejIcXlSw2iwfAo=\ngithub.com/stretchr/testify v1.9.0/go.mod h1:r2ic/lqez/lEtzL7wO/rwa5dbSLXVDPFyf8C91i36aY=\ngithub.com/stretchr/testify v1.10.0 h1:Xv5erBjTwe/5IxqUQTdXv5kgmIvbHo3QQyRwhJsOfJA=\ngithub.com/stretchr/testify v1.10.0/go.mod h1:r2ic/lqez/lEtzL7wO/rwa5dbSLXVDPFyf8C91i36aY=\ngithub.com/sylabs/sif/v2 v2.20.2 h1:HGEPzauCHhIosw5o6xmT3jczuKEuaFzSfdjAsH33vYw=\ngithub.com/sylabs/sif/v2 v2.20.2/go.mod h1:WyYryGRaR4Wp21SAymm5pK0p45qzZCSRiZMFvUZiuhc=\ngithub.com/syndtr/gocapability v0.0.0-20200815063812-42c35b437635 h1:kdXcSzyDtseVEc4yCz2qF8ZrQvIDBJLl4S1c3GCXmoI=\ngithub.com/syndtr/gocapability v0.0.0-20200815063812-42c35b437635/go.mod h1:hkRG7XYTFWNJGYcbNJQlaLq0fg1yr4J4t/NcTQtrfww=\ngithub.com/tchap/go-patricia/v2 v2.3.1 h1:6rQp39lgIYZ+MHmdEq4xzuk1t7OdC35z/xm0BGhTkes=\ngithub.com/tchap/go-patricia/v2 v2.3.1/go.mod h1:VZRHKAb53DLaG+nA9EaYYiaEx6YztwDlLElMsnSHD4k=\ngithub.com/titanous/rocacheck v0.0.0-20171023193734-afe73141d399 h1:e/5i7d4oYZ+C1wj2THlRK+oAhjeS/TRQwMfkIuet3w0=\ngithub.com/titanous/rocacheck v0.0.0-20171023193734-afe73141d399/go.mod h1:LdwHTNJT99C5fTAzDz0ud328OgXz+gierycbcIx2fRs=\ngithub.com/tklauser/go-sysconf v0.3.12 h1:0QaGUFOdQaIVdPgfITYzaTegZvdCjmYO52cSFAEVmqU=\ngithub.com/tklauser/go-sysconf v0.3.12/go.mod h1:Ho14jnntGE1fpdOqQEEaiKRpvIavV0hSfmBq8nJbHYI=\ngithub.com/tklauser/numcpus v0.6.1 h1:ng9scYS7az0Bk4OZLvrNXNSAO2Pxr1XXRAPyjhIx+Fk=\ngithub.com/tklauser/numcpus v0.6.1/go.mod h1:1XfjsgE2zo8GVw7POkMbHENHzVg3GzmoZ9fESEdAacY=\ngithub.com/twitchyliquid64/golang-asm v0.15.1 h1:SU5vSMR7hnwNxj24w34ZyCi/FmDZTkS4MhqMhdFk5YI=\ngithub.com/twitchyliquid64/golang-asm v0.15.1/go.mod h1:a1lVb/DtPvCB8fslRZhAngC2+aY1QWCk3Cedj/Gdt08=\ngithub.com/u-root/gobusybox/src v0.0.0-20230806212452-e9366a5b9fdc h1:udgfN9Qy573qgHWMEORFgy6YXNDiN/Fd5LlKdlp+/Mo=\ngithub.com/u-root/gobusybox/src v0.0.0-20230806212452-e9366a5b9fdc/go.mod h1:lYt+LVfZBBwDZ3+PHk4k/c/TnKOkjJXiJO73E32Mmpc=\ngithub.com/u-root/u-root v0.11.1-0.20230807200058-f87ad7ccb594 h1:1AIJqOtdEufYfGb3eRpdaqWONzBOpAwrg1fehbWg+Mg=\ngithub.com/u-root/u-root v0.11.1-0.20230807200058-f87ad7ccb594/go.mod h1:PQzg9XJGp6Y1hRmTUruSO7lR7kKR6FpoSObf5n5bTfE=\ngithub.com/u-root/uio v0.0.0-20240224005618-d2acac8f3701 h1:pyC9PaHYZFgEKFdlp3G8RaCKgVpHZnecvArXvPXcFkM=\ngithub.com/u-root/uio v0.0.0-20240224005618-d2acac8f3701/go.mod h1:P3a5rG4X7tI17Nn3aOIAYr5HbIMukwXG0urG0WuL8OA=\ngithub.com/ugorji/go/codec v1.2.12 h1:9LC83zGrHhuUA9l16C9AHXAqEV/2wBQ4nkvumAE65EE=\ngithub.com/ugorji/go/codec v1.2.12/go.mod h1:UNopzCgEMSXjBc6AOMqYvWC1ktqTAfzJZUZgYf6w6lg=\ngithub.com/ulikunitz/xz v0.5.12 h1:37Nm15o69RwBkXM0J6A5OlE67RZTfzUxTj8fB3dfcsc=\ngithub.com/ulikunitz/xz v0.5.12/go.mod h1:nbz6k7qbPmH4IRqmfOplQw/tblSgqTqBwxkY0oWt/14=\ngithub.com/vbatts/tar-split v0.11.6 h1:4SjTW5+PU11n6fZenf2IPoV8/tz3AaYHMWjf23envGs=\ngithub.com/vbatts/tar-split v0.11.6/go.mod h1:dqKNtesIOr2j2Qv3W/cHjnvk9I8+G7oAkFDFN6TCBEI=\ngithub.com/vbauerster/mpb/v8 v8.9.1 h1:LH5R3lXPfE2e3lIGxN7WNWv3Hl5nWO6LRi2B0L0ERHw=\ngithub.com/vbauerster/mpb/v8 v8.9.1/go.mod h1:4XMvznPh8nfe2NpnDo1QTPvW9MVkUhbG90mPWvmOzcQ=\ngithub.com/vishvananda/netlink v1.3.0 h1:X7l42GfcV4S6E4vHTsw48qbrV+9PVojNfIhZcwQdrZk=\ngithub.com/vishvananda/netlink v1.3.0/go.mod h1:i6NetklAujEcC6fK0JPjT8qSwWyO0HLn4UKG+hGqeJs=\ngithub.com/vishvananda/netns v0.0.4 h1:Oeaw1EM2JMxD51g9uhtC0D7erkIjgmj8+JZc26m1YX8=\ngithub.com/vishvananda/netns v0.0.4/go.mod h1:SpkAiCQRtJ6TvvxPnOSyH3BMl6unz3xZlaprSwhNNJM=\ngithub.com/xeipuuv/gojsonpointer v0.0.0-20190905194746-02993c407bfb h1:zGWFAtiMcyryUHoUjUJX0/lt1H2+i2Ka2n+D3DImSNo=\ngithub.com/xeipuuv/gojsonpointer v0.0.0-20190905194746-02993c407bfb/go.mod h1:N2zxlSyiKSe5eX1tZViRH5QA0qijqEDrYZiPEAiq3wU=\ngithub.com/xeipuuv/gojsonreference v0.0.0-20180127040603-bd5ef7bd5415 h1:EzJWgHovont7NscjpAxXsDA8S8BMYve8Y5+7cuRE7R0=\ngithub.com/xeipuuv/gojsonreference v0.0.0-20180127040603-bd5ef7bd5415/go.mod h1:GwrjFmJcFw6At/Gs6z4yjiIwzuJ1/+UwLxMQDVQXShQ=\ngithub.com/xeipuuv/gojsonschema v1.2.0 h1:LhYJRs+L4fBtjZUfuSZIKGeVu0QRy8e5Xi7D17UxZ74=\ngithub.com/xeipuuv/gojsonschema v1.2.0/go.mod h1:anYRn/JVcOK2ZgGU+IjEV4nwlhoK5sQluxsYJ78Id3Y=\ngithub.com/ysmood/fetchup v0.2.3 h1:ulX+SonA0Vma5zUFXtv52Kzip/xe7aj4vqT5AJwQ+ZQ=\ngithub.com/ysmood/fetchup v0.2.3/go.mod h1:xhibcRKziSvol0H1/pj33dnKrYyI2ebIvz5cOOkYGns=\ngithub.com/ysmood/goob v0.4.0 h1:HsxXhyLBeGzWXnqVKtmT9qM7EuVs/XOgkX7T6r1o1AQ=\ngithub.com/ysmood/goob v0.4.0/go.mod h1:u6yx7ZhS4Exf2MwciFr6nIM8knHQIE22lFpWHnfql18=\ngithub.com/ysmood/got v0.40.0 h1:ZQk1B55zIvS7zflRrkGfPDrPG3d7+JOza1ZkNxcc74Q=\ngithub.com/ysmood/got v0.40.0/go.mod h1:W7DdpuX6skL3NszLmAsC5hT7JAhuLZhByVzHTq874Qg=\ngithub.com/ysmood/gson v0.7.3 h1:QFkWbTH8MxyUTKPkVWAENJhxqdBa4lYTQWqZCiLG6kE=\ngithub.com/ysmood/gson v0.7.3/go.mod h1:3Kzs5zDl21g5F/BlLTNcuAGAYLKt2lV5G8D1zF3RNmg=\ngithub.com/ysmood/leakless v0.9.0 h1:qxCG5VirSBvmi3uynXFkcnLMzkphdh3xx5FtrORwDCU=\ngithub.com/ysmood/leakless v0.9.0/go.mod h1:R8iAXPRaG97QJwqxs74RdwzcRHT1SWCGTNqY8q0JvMQ=\ngithub.com/yuin/goldmark v1.1.27/go.mod h1:3hX8gzYuyVAZsxl0MRgGTJEmQBFcNTphYh9decYSb74=\ngithub.com/yuin/goldmark v1.2.1/go.mod h1:3hX8gzYuyVAZsxl0MRgGTJEmQBFcNTphYh9decYSb74=\ngithub.com/yuin/goldmark v1.3.5/go.mod h1:mwnBkeHKe2W/ZEtQ+71ViKU8L12m81fl3OWwC1Zlc8k=\ngithub.com/yuin/goldmark v1.4.13/go.mod h1:6yULJ656Px+3vBD8DxQVa3kxgyrAnzto9xy5taEt/CY=\ngithub.com/yusufpapurcu/wmi v1.2.4 h1:zFUKzehAFReQwLys1b/iSMl+JQGSCSjtVqQn9bBrPo0=\ngithub.com/yusufpapurcu/wmi v1.2.4/go.mod h1:SBZ9tNy3G9/m5Oi98Zks0QjeHVDvuK0qfxQmPyzfmi0=\ngo.etcd.io/bbolt v1.3.11 h1:yGEzV1wPz2yVCLsD8ZAiGHhHVlczyC9d1rP43/VCRJ0=\ngo.etcd.io/bbolt v1.3.11/go.mod h1:dksAq7YMXoljX0xu6VF5DMZGbhYYoLUalEiSySYAS4I=\ngo.mongodb.org/mongo-driver v1.14.0 h1:P98w8egYRjYe3XDjxhYJagTokP/H6HzlsnojRgZRd80=\ngo.mongodb.org/mongo-driver v1.14.0/go.mod h1:Vzb0Mk/pa7e6cWw85R4F/endUC3u0U9jGcNU603k65c=\ngo.opencensus.io v0.24.0 h1:y73uSU6J157QMP2kn2r30vwW1A2W2WFwSCGnAVxeaD0=\ngo.opencensus.io v0.24.0/go.mod h1:vNK8G9p7aAivkbmorf4v+7Hgx+Zs0yY+0fOtgBfjQKo=\ngo.opentelemetry.io/contrib/instrumentation/net/http/otelhttp v0.53.0 h1:4K4tsIXefpVJtvA/8srF4V4y0akAoPHkIslgAkjixJA=\ngo.opentelemetry.io/contrib/instrumentation/net/http/otelhttp v0.53.0/go.mod h1:jjdQuTGVsXV4vSs+CJ2qYDeDPf9yIJV23qlIzBm73Vg=\ngo.opentelemetry.io/otel v1.28.0 h1:/SqNcYk+idO0CxKEUOtKQClMK/MimZihKYMruSMViUo=\ngo.opentelemetry.io/otel v1.28.0/go.mod h1:q68ijF8Fc8CnMHKyzqL6akLO46ePnjkgfIMIjUIX9z4=\ngo.opentelemetry.io/otel/exporters/otlp/otlptrace v1.27.0 h1:R9DE4kQ4k+YtfLI2ULwX82VtNQ2J8yZmA7ZIF/D+7Mc=\ngo.opentelemetry.io/otel/exporters/otlp/otlptrace v1.27.0/go.mod h1:OQFyQVrDlbe+R7xrEyDr/2Wr67Ol0hRUgsfA+V5A95s=\ngo.opentelemetry.io/otel/exporters/otlp/otlptrace/otlptracehttp v1.21.0 h1:digkEZCJWobwBqMwC0cwCq8/wkkRy/OowZg5OArWZrM=\ngo.opentelemetry.io/otel/exporters/otlp/otlptrace/otlptracehttp v1.21.0/go.mod h1:/OpE/y70qVkndM0TrxT4KBoN3RsFZP0QaofcfYrj76I=\ngo.opentelemetry.io/otel/metric v1.28.0 h1:f0HGvSl1KRAU1DLgLGFjrwVyismPlnuU6JD6bOeuA5Q=\ngo.opentelemetry.io/otel/metric v1.28.0/go.mod h1:Fb1eVBFZmLVTMb6PPohq3TO9IIhUisDsbJoL/+uQW4s=\ngo.opentelemetry.io/otel/sdk v1.28.0 h1:b9d7hIry8yZsgtbmM0DKyPWMMUMlK9NEKuIG4aBqWyE=\ngo.opentelemetry.io/otel/sdk v1.28.0/go.mod h1:oYj7ClPUA7Iw3m+r7GeEjz0qckQRJK2B8zjcZEfu7Pg=\ngo.opentelemetry.io/otel/trace v1.28.0 h1:GhQ9cUuQGmNDd5BTCP2dAvv75RdMxEfTmYejp+lkx9g=\ngo.opentelemetry.io/otel/trace v1.28.0/go.mod h1:jPyXzNPg6da9+38HEwElrQiHlVMTnVfM3/yv2OlIHaI=\ngo.opentelemetry.io/proto/otlp v1.2.0 h1:pVeZGk7nXDC9O2hncA6nHldxEjm6LByfA2aN8IOkz94=\ngo.opentelemetry.io/proto/otlp v1.2.0/go.mod h1:gGpR8txAl5M03pDhMC79G6SdqNV26naRm/KDsgaHD8A=\ngo.uber.org/goleak v1.3.0 h1:2K3zAYmnTNqV73imy9J1T3WC+gmCePx2hEGkimedGto=\ngo.uber.org/goleak v1.3.0/go.mod h1:CoHD4mav9JJNrW/WLlf7HGZPjdw8EucARQHekz1X6bE=\ngolang.org/x/arch v0.0.0-20210923205945-b76863e36670/go.mod h1:5om86z9Hs0C8fWVUuoMHwpExlXzs5Tkyp9hOrfG7pp8=\ngolang.org/x/arch v0.8.0 h1:3wRIsP3pM4yUptoR96otTUOXI367OS0+c9eeRi9doIc=\ngolang.org/x/arch v0.8.0/go.mod h1:FEVrYAQjsQXMVJ1nsMoVVXPZg6p2JE2mx8psSWTDQys=\ngolang.org/x/crypto v0.0.0-20190308221718-c2843e01d9a2/go.mod h1:djNgcEr1/C05ACkg1iLfiJU5Ep61QUkGW8qpdssI0+w=\ngolang.org/x/crypto v0.0.0-20191011191535-87dc89f01550/go.mod h1:yigFU9vqHzYiE8UmvKecakEJjdnWj3jj499lnFckfCI=\ngolang.org/x/crypto v0.0.0-20200622213623-75b288015ac9/go.mod h1:LzIPMQfyMNhhGPhUkYOs5KpL4U8rLKemX1yGLhDgUto=\ngolang.org/x/crypto v0.0.0-20210921155107-089bfa567519/go.mod h1:GvvjBRRGRdwPK5ydBHafDWAxML/pGHZbMvKqRZ5+Abc=\ngolang.org/x/crypto v0.13.0/go.mod h1:y6Z2r+Rw4iayiXXAIxJIDAJ1zMW4yaTpebo8fPOliYc=\ngolang.org/x/crypto v0.17.0/go.mod h1:gCAAfMLgwOJRpTjQ2zCCt2OcSfYMTeZVSRtQlPC7Nq4=\ngolang.org/x/crypto v0.19.0/go.mod h1:Iy9bg/ha4yyC70EfRS8jz+B6ybOBKMaSxLj6P6oBDfU=\ngolang.org/x/crypto v0.23.0/go.mod h1:CKFgDieR+mRhux2Lsu27y0fO304Db0wZe70UKqHu0v8=\ngolang.org/x/crypto v0.30.0/go.mod h1:kDsLvtWBEx7MV9tJOj9bnXsPbxwJQ6csT/x4KIN4Ssk=\ngolang.org/x/crypto v0.32.0 h1:euUpcYgM8WcP71gNpTqQCn6rC2t6ULUPiOzfWaXVVfc=\ngolang.org/x/crypto v0.32.0/go.mod h1:ZnnJkOaASj8g0AjIduWNlq2NRxL0PlBrbKVyZ6V/Ugc=\ngolang.org/x/exp v0.0.0-20190121172915-509febef88a4/go.mod h1:CJ0aWSM057203Lf6IL+f9T1iT9GByDxfZKAQTCR3kQA=\ngolang.org/x/exp v0.0.0-20250103183323-7d7fa50e5329 h1:9kj3STMvgqy3YA4VQXBrN7925ICMxD5wzMRcgA30588=\ngolang.org/x/exp v0.0.0-20250103183323-7d7fa50e5329/go.mod h1:qj5a5QZpwLU2NLQudwIN5koi3beDhSAlJwa67PuM98c=\ngolang.org/x/lint v0.0.0-20181026193005-c67002cb31c3/go.mod h1:UVdnD1Gm6xHRNCYTkRU2/jEulfH38KcIWyp/GAMgvoE=\ngolang.org/x/lint v0.0.0-20190227174305-5b3e6a55c961/go.mod h1:wehouNa3lNwaWXcvxsM5YxQ5yQlVC4a0KAMCusXpPoU=\ngolang.org/x/lint v0.0.0-20190313153728-d0100b6bd8b3/go.mod h1:6SW0HCj/g11FgYtHlgUYUwCkIfeOF89ocIRzGO/8vkc=\ngolang.org/x/mod v0.2.0/go.mod h1:s0Qsj1ACt9ePp/hMypM3fl4fZqREWJwdYDEqhRiZZUA=\ngolang.org/x/mod v0.3.0/go.mod h1:s0Qsj1ACt9ePp/hMypM3fl4fZqREWJwdYDEqhRiZZUA=\ngolang.org/x/mod v0.4.2/go.mod h1:s0Qsj1ACt9ePp/hMypM3fl4fZqREWJwdYDEqhRiZZUA=\ngolang.org/x/mod v0.6.0-dev.0.20220419223038-86c51ed26bb4/go.mod h1:jJ57K6gSWd91VN4djpZkiMVwK6gcyfeH4XE8wZrZaV4=\ngolang.org/x/mod v0.8.0/go.mod h1:iBbtSCu2XBx23ZKBPSOrRkjjQPZFPuis4dIYUhu/chs=\ngolang.org/x/mod v0.12.0/go.mod h1:iBbtSCu2XBx23ZKBPSOrRkjjQPZFPuis4dIYUhu/chs=\ngolang.org/x/mod v0.15.0/go.mod h1:hTbmBsO62+eylJbnUtE2MGJUyE7QWk4xUqPFrRgJ+7c=\ngolang.org/x/mod v0.17.0/go.mod h1:hTbmBsO62+eylJbnUtE2MGJUyE7QWk4xUqPFrRgJ+7c=\ngolang.org/x/mod v0.22.0 h1:D4nJWe9zXqHOmWqj4VMOJhvzj7bEZg4wEYa759z1pH4=\ngolang.org/x/mod v0.22.0/go.mod h1:6SkKJ3Xj0I0BrPOZoBy3bdMptDDU9oJrpohJ3eWZ1fY=\ngolang.org/x/net v0.0.0-20180724234803-3673e40ba225/go.mod h1:mL1N/T3taQHkDXs73rZJwtUhF3w3ftmwwsq0BUmARs4=\ngolang.org/x/net v0.0.0-20180826012351-8a410e7b638d/go.mod h1:mL1N/T3taQHkDXs73rZJwtUhF3w3ftmwwsq0BUmARs4=\ngolang.org/x/net v0.0.0-20190213061140-3a22650c66bd/go.mod h1:mL1N/T3taQHkDXs73rZJwtUhF3w3ftmwwsq0BUmARs4=\ngolang.org/x/net v0.0.0-20190311183353-d8887717615a/go.mod h1:t9HGtf8HONx5eT2rtn7q6eTqICYqUVnKs3thJo3Qplg=\ngolang.org/x/net v0.0.0-20190404232315-eb5bcb51f2a3/go.mod h1:t9HGtf8HONx5eT2rtn7q6eTqICYqUVnKs3thJo3Qplg=\ngolang.org/x/net v0.0.0-20190620200207-3b0461eec859/go.mod h1:z5CRVTTTmAJ677TzLLGU+0bjPO0LkuOLi4/5GtJWs/s=\ngolang.org/x/net v0.0.0-20200226121028-0de0cce0169b/go.mod h1:z5CRVTTTmAJ677TzLLGU+0bjPO0LkuOLi4/5GtJWs/s=\ngolang.org/x/net v0.0.0-20201021035429-f5854403a974/go.mod h1:sp8m0HH+o8qH0wwXwYZr8TS3Oi6o0r6Gce1SSxlDquU=\ngolang.org/x/net v0.0.0-20201110031124-69a78807bb2b/go.mod h1:sp8m0HH+o8qH0wwXwYZr8TS3Oi6o0r6Gce1SSxlDquU=\ngolang.org/x/net v0.0.0-20210226172049-e18ecbb05110/go.mod h1:m0MpNAwzfU5UDzcl9v0D8zg8gWTRqZa9RBIspLL5mdg=\ngolang.org/x/net v0.0.0-20210405180319-a5a99cb37ef4/go.mod h1:p54w0d4576C0XHj96bSt6lcn1PtDYWL6XObtHCRCNQM=\ngolang.org/x/net v0.0.0-20220722155237-a158d28d115b/go.mod h1:XRhObCWvk6IyKnWLug+ECip1KBveYUHfp+8e9klMJ9c=\ngolang.org/x/net v0.6.0/go.mod h1:2Tu9+aMcznHK/AK1HMvgo6xiTLG5rD5rZLDS+rp2Bjs=\ngolang.org/x/net v0.10.0/go.mod h1:0qNGK6F8kojg2nk9dLZ2mShWaEBan6FAoqfSigmmuDg=\ngolang.org/x/net v0.15.0/go.mod h1:idbUs1IY1+zTqbi8yxTbhexhEEk5ur9LInksu6HrEpk=\ngolang.org/x/net v0.21.0/go.mod h1:bIjVDfnllIU7BJ2DNgfnXvpSvtn8VRwhlsaeUTyUS44=\ngolang.org/x/net v0.25.0/go.mod h1:JkAGAh7GEvH74S6FOH42FLoXpXbE/aqXSrIQjXgsiwM=\ngolang.org/x/net v0.34.0 h1:Mb7Mrk043xzHgnRM88suvJFwzVrRfHEHJEl5/71CKw0=\ngolang.org/x/net v0.34.0/go.mod h1:di0qlW3YNM5oh6GqDGQr92MyTozJPmybPK4Ev/Gm31k=\ngolang.org/x/oauth2 v0.0.0-20180821212333-d2e6202438be/go.mod h1:N/0e6XlmueqKjAGxoOufVs8QHGRruUQn6yWY3a++T0U=\ngolang.org/x/oauth2 v0.25.0 h1:CY4y7XT9v0cRI9oupztF8AgiIu99L/ksR/Xp/6jrZ70=\ngolang.org/x/oauth2 v0.25.0/go.mod h1:XYTD2NtWslqkgxebSiOHnXEap4TF09sJSc7H1sXbhtI=\ngolang.org/x/sync v0.0.0-20180314180146-1d60e4601c6f/go.mod h1:RxMgew5VJxzue5/jJTE5uejpjVlOe/izrB70Jof72aM=\ngolang.org/x/sync v0.0.0-20181108010431-42b317875d0f/go.mod h1:RxMgew5VJxzue5/jJTE5uejpjVlOe/izrB70Jof72aM=\ngolang.org/x/sync v0.0.0-20190423024810-112230192c58/go.mod h1:RxMgew5VJxzue5/jJTE5uejpjVlOe/izrB70Jof72aM=\ngolang.org/x/sync v0.0.0-20190911185100-cd5d95a43a6e/go.mod h1:RxMgew5VJxzue5/jJTE5uejpjVlOe/izrB70Jof72aM=\ngolang.org/x/sync v0.0.0-20201020160332-67f06af15bc9/go.mod h1:RxMgew5VJxzue5/jJTE5uejpjVlOe/izrB70Jof72aM=\ngolang.org/x/sync v0.0.0-20210220032951-036812b2e83c/go.mod h1:RxMgew5VJxzue5/jJTE5uejpjVlOe/izrB70Jof72aM=\ngolang.org/x/sync v0.0.0-20220722155255-886fb9371eb4/go.mod h1:RxMgew5VJxzue5/jJTE5uejpjVlOe/izrB70Jof72aM=\ngolang.org/x/sync v0.1.0/go.mod h1:RxMgew5VJxzue5/jJTE5uejpjVlOe/izrB70Jof72aM=\ngolang.org/x/sync v0.3.0/go.mod h1:FU7BRWz2tNW+3quACPkgCx/L+uEAv1htQ0V83Z9Rj+Y=\ngolang.org/x/sync v0.6.0/go.mod h1:Czt+wKu1gCyEFDUtn0jG5QVvpJ6rzVqr5aXyt9drQfk=\ngolang.org/x/sync v0.7.0/go.mod h1:Czt+wKu1gCyEFDUtn0jG5QVvpJ6rzVqr5aXyt9drQfk=\ngolang.org/x/sync v0.10.0 h1:3NQrjDixjgGwUOCaF8w2+VYHv0Ve/vGYSbdkTa98gmQ=\ngolang.org/x/sync v0.10.0/go.mod h1:Czt+wKu1gCyEFDUtn0jG5QVvpJ6rzVqr5aXyt9drQfk=\ngolang.org/x/sys v0.0.0-20180830151530-49385e6e1522/go.mod h1:STP8DvDyc/dI5b8T5hshtkjS+E42TnysNCUPdjciGhY=\ngolang.org/x/sys v0.0.0-20181122145206-62eef0e2fa9b/go.mod h1:STP8DvDyc/dI5b8T5hshtkjS+E42TnysNCUPdjciGhY=\ngolang.org/x/sys v0.0.0-20190215142949-d0b11bdaac8a/go.mod h1:STP8DvDyc/dI5b8T5hshtkjS+E42TnysNCUPdjciGhY=\ngolang.org/x/sys v0.0.0-20190412213103-97732733099d/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=\ngolang.org/x/sys v0.0.0-20190916202348-b4ddaad3f8a3/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=\ngolang.org/x/sys v0.0.0-20200930185726-fdedc70b468f/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=\ngolang.org/x/sys v0.0.0-20201119102817-f84b799fce68/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=\ngolang.org/x/sys v0.0.0-20201204225414-ed752295db88/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=\ngolang.org/x/sys v0.0.0-20210330210617-4fbd30eecc44/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=\ngolang.org/x/sys v0.0.0-20210331175145-43e1dd70ce54/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=\ngolang.org/x/sys v0.0.0-20210510120138-977fb7262007/go.mod h1:oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg=\ngolang.org/x/sys v0.0.0-20210615035016-665e8c7367d1/go.mod h1:oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg=\ngolang.org/x/sys v0.0.0-20210616094352-59db8d763f22/go.mod h1:oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg=\ngolang.org/x/sys v0.0.0-20220310020820-b874c991c1a5/go.mod h1:oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg=\ngolang.org/x/sys v0.0.0-20220520151302-bc2c85ada10a/go.mod h1:oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg=\ngolang.org/x/sys v0.0.0-20220715151400-c0bba94af5f8/go.mod h1:oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg=\ngolang.org/x/sys v0.0.0-20220722155257-8c9f86f7a55f/go.mod h1:oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg=\ngolang.org/x/sys v0.0.0-20220811171246-fbc7d0a398ab/go.mod h1:oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg=\ngolang.org/x/sys v0.0.0-20220908164124-27713097b956/go.mod h1:oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg=\ngolang.org/x/sys v0.1.0/go.mod h1:oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg=\ngolang.org/x/sys v0.2.0/go.mod h1:oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg=\ngolang.org/x/sys v0.5.0/go.mod h1:oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg=\ngolang.org/x/sys v0.6.0/go.mod h1:oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg=\ngolang.org/x/sys v0.8.0/go.mod h1:oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg=\ngolang.org/x/sys v0.10.0/go.mod h1:oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg=\ngolang.org/x/sys v0.11.0/go.mod h1:oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg=\ngolang.org/x/sys v0.12.0/go.mod h1:oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg=\ngolang.org/x/sys v0.15.0/go.mod h1:/VUhepiaJMQUp4+oa/7Zr1D23ma6VTLIYjOOTFZPUcA=\ngolang.org/x/sys v0.17.0/go.mod h1:/VUhepiaJMQUp4+oa/7Zr1D23ma6VTLIYjOOTFZPUcA=\ngolang.org/x/sys v0.20.0/go.mod h1:/VUhepiaJMQUp4+oa/7Zr1D23ma6VTLIYjOOTFZPUcA=\ngolang.org/x/sys v0.28.0/go.mod h1:/VUhepiaJMQUp4+oa/7Zr1D23ma6VTLIYjOOTFZPUcA=\ngolang.org/x/sys v0.29.0 h1:TPYlXGxvx1MGTn2GiZDhnjPA9wZzZeGKHHmKhHYvgaU=\ngolang.org/x/sys v0.29.0/go.mod h1:/VUhepiaJMQUp4+oa/7Zr1D23ma6VTLIYjOOTFZPUcA=\ngolang.org/x/telemetry v0.0.0-20240228155512-f48c80bd79b2/go.mod h1:TeRTkGYfJXctD9OcfyVLyj2J3IxLnKwHJR8f4D8a3YE=\ngolang.org/x/term v0.0.0-20201126162022-7de9c90e9dd1/go.mod h1:bj7SfCRtBDWHUb9snDiAeCFNEtKQo2Wmx5Cou7ajbmo=\ngolang.org/x/term v0.0.0-20210927222741-03fcf44c2211/go.mod h1:jbD1KX2456YbFQfuXm/mYQcufACuNUgVhRMnK/tPxf8=\ngolang.org/x/term v0.5.0/go.mod h1:jMB1sMXY+tzblOD4FWmEbocvup2/aLOaQEp7JmGp78k=\ngolang.org/x/term v0.8.0/go.mod h1:xPskH00ivmX89bAKVGSKKtLOWNx2+17Eiy94tnKShWo=\ngolang.org/x/term v0.12.0/go.mod h1:owVbMEjm3cBLCHdkQu9b1opXd4ETQWc3BhuQGKgXgvU=\ngolang.org/x/term v0.15.0/go.mod h1:BDl952bC7+uMoWR75FIrCDx79TPU9oHkTZ9yRbYOrX0=\ngolang.org/x/term v0.17.0/go.mod h1:lLRBjIVuehSbZlaOtGMbcMncT+aqLLLmKrsjNrUguwk=\ngolang.org/x/term v0.20.0/go.mod h1:8UkIAJTvZgivsXaD6/pH6U9ecQzZ45awqEOzuCvwpFY=\ngolang.org/x/term v0.27.0/go.mod h1:iMsnZpn0cago0GOrHO2+Y7u7JPn5AylBrcoWkElMTSM=\ngolang.org/x/term v0.28.0 h1:/Ts8HFuMR2E6IP/jlo7QVLZHggjKQbhu/7H0LJFr3Gg=\ngolang.org/x/term v0.28.0/go.mod h1:Sw/lC2IAUZ92udQNf3WodGtn4k/XoLyZoh8v/8uiwek=\ngolang.org/x/text v0.3.0/go.mod h1:NqM8EUOU14njkJ3fqMW+pc6Ldnwhi/IjpwHt7yyuwOQ=\ngolang.org/x/text v0.3.3/go.mod h1:5Zoc/QRtKVWzQhOtBMvqHzDpF6irO9z98xDceosuGiQ=\ngolang.org/x/text v0.3.7/go.mod h1:u+2+/6zg+i71rQMx5EYifcz6MCKuco9NR6JIITiCfzQ=\ngolang.org/x/text v0.7.0/go.mod h1:mrYo+phRRbMaCq/xk9113O4dZlRixOauAjOtrjsXDZ8=\ngolang.org/x/text v0.9.0/go.mod h1:e1OnstbJyHTd6l/uOt8jFFHp6TRDWZR/bV3emEE/zU8=\ngolang.org/x/text v0.13.0/go.mod h1:TvPlkZtksWOMsz7fbANvkp4WM8x/WCo/om8BMLbz+aE=\ngolang.org/x/text v0.14.0/go.mod h1:18ZOQIKpY8NJVqYksKHtTdi31H5itFRjB5/qKTNYzSU=\ngolang.org/x/text v0.15.0/go.mod h1:18ZOQIKpY8NJVqYksKHtTdi31H5itFRjB5/qKTNYzSU=\ngolang.org/x/text v0.21.0 h1:zyQAAkrwaneQ066sspRyJaG9VNi/YJ1NfzcGB3hZ/qo=\ngolang.org/x/text v0.21.0/go.mod h1:4IBbMaMmOPCJ8SecivzSH54+73PCFmPWxNTLm+vZkEQ=\ngolang.org/x/time v0.6.0 h1:eTDhh4ZXt5Qf0augr54TN6suAUudPcawVZeIAPU7D4U=\ngolang.org/x/time v0.6.0/go.mod h1:3BpzKBy/shNhVucY/MWOyx10tF3SFh9QdLuxbVysPQM=\ngolang.org/x/tools v0.0.0-20180917221912-90fa682c2a6e/go.mod h1:n7NCudcB/nEzxVGmLbDWY5pfWTLqBcC2KZ6jyYvM4mQ=\ngolang.org/x/tools v0.0.0-20190114222345-bf090417da8b/go.mod h1:n7NCudcB/nEzxVGmLbDWY5pfWTLqBcC2KZ6jyYvM4mQ=\ngolang.org/x/tools v0.0.0-20190226205152-f727befe758c/go.mod h1:9Yl7xja0Znq3iFh3HoIrodX9oNMXvdceNzlUR8zjMvY=\ngolang.org/x/tools v0.0.0-20190311212946-11955173bddd/go.mod h1:LCzVGOaR6xXOjkQ3onu1FJEFr0SW1gC7cKk1uF8kGRs=\ngolang.org/x/tools v0.0.0-20190524140312-2c0ae7006135/go.mod h1:RgjU9mgBXZiqYHBnxXauZ1Gv1EHHAz9KjViQ78xBX0Q=\ngolang.org/x/tools v0.0.0-20191119224855-298f0cb1881e/go.mod h1:b+2E5dAYhXwXZwtnZ6UAqBI28+e2cm9otk0dWdXHAEo=\ngolang.org/x/tools v0.0.0-20200619180055-7c47624df98f/go.mod h1:EkVYQZoAsY45+roYkvgYkIh4xh/qjgUK9TdY2XT94GE=\ngolang.org/x/tools v0.0.0-20210106214847-113979e3529a/go.mod h1:emZCQorbCU4vsT4fOWvOPXz4eW1wZW4PmDk9uLelYpA=\ngolang.org/x/tools v0.1.1/go.mod h1:o0xws9oXOQQZyjljx8fwUC0k7L1pTE6eaCbjGeHmOkk=\ngolang.org/x/tools v0.1.12/go.mod h1:hNGJHUnrk76NpqgfD5Aqm5Crs+Hm0VOH/i9J2+nxYbc=\ngolang.org/x/tools v0.6.0/go.mod h1:Xwgl3UAJ/d3gWutnCtw505GrjyAbvKui8lOU390QaIU=\ngolang.org/x/tools v0.13.0/go.mod h1:HvlwmtVNQAhOuCjW7xxvovg8wbNq7LwfXh/k7wXUl58=\ngolang.org/x/tools v0.21.1-0.20240508182429-e35e4ccd0d2d/go.mod h1:aiJjzUbINMkxbQROHiO6hDPo2LHcIPhhQsa9DLh0yGk=\ngolang.org/x/tools v0.28.0 h1:WuB6qZ4RPCQo5aP3WdKZS7i595EdWqWR8vqJTlwTVK8=\ngolang.org/x/tools v0.28.0/go.mod h1:dcIOrVd3mfQKTgrDVQHqCPMWy6lnhfhtX3hLXYVLfRw=\ngolang.org/x/xerrors v0.0.0-20190717185122-a985d3407aa7/go.mod h1:I/5z698sn9Ka8TeJc9MKroUUfqBBauWjQqLJ2OPfmY0=\ngolang.org/x/xerrors v0.0.0-20191011141410-1b5146add898/go.mod h1:I/5z698sn9Ka8TeJc9MKroUUfqBBauWjQqLJ2OPfmY0=\ngolang.org/x/xerrors v0.0.0-20191204190536-9bdfabe68543/go.mod h1:I/5z698sn9Ka8TeJc9MKroUUfqBBauWjQqLJ2OPfmY0=\ngolang.org/x/xerrors v0.0.0-20200804184101-5ec99f83aff1/go.mod h1:I/5z698sn9Ka8TeJc9MKroUUfqBBauWjQqLJ2OPfmY0=\ngoogle.golang.org/appengine v1.1.0/go.mod h1:EbEs0AVv82hx2wNQdGPgUI5lhzA/G0D9YwlJXL52JkM=\ngoogle.golang.org/appengine v1.4.0/go.mod h1:xpcJRLb0r/rnEns0DIKYYv+WjYCduHsrkT7/EB5XEv4=\ngoogle.golang.org/genproto v0.0.0-20180817151627-c66870c02cf8/go.mod h1:JiN7NxoALGmiZfu7CAH4rXhgtRTLTxftemlI0sWmxmc=\ngoogle.golang.org/genproto v0.0.0-20190819201941-24fa4b261c55/go.mod h1:DMBHOl98Agz4BDEuKkezgsaosCRResVns1a3J2ZsMNc=\ngoogle.golang.org/genproto v0.0.0-20200526211855-cb27e3aa2013/go.mod h1:NbSheEEYHJ7i3ixzK3sjbqSGDJWnxyFXZblF3eUsNvo=\ngoogle.golang.org/genproto v0.0.0-20240823204242-4ba0660f739c h1:TYOEhrQMrNDTAd2rX9m+WgGr8Ku6YNuj1D7OX6rWSok=\ngoogle.golang.org/genproto/googleapis/api v0.0.0-20240903143218-8af14fe29dc1 h1:hjSy6tcFQZ171igDaN5QHOw2n6vx40juYbC/x67CEhc=\ngoogle.golang.org/genproto/googleapis/api v0.0.0-20240903143218-8af14fe29dc1/go.mod h1:qpvKtACPCQhAdu3PyQgV4l3LMXZEtft7y8QcarRsp9I=\ngoogle.golang.org/genproto/googleapis/rpc v0.0.0-20240903143218-8af14fe29dc1 h1:pPJltXNxVzT4pK9yD8vR9X75DaWYYmLGMsEvBfFQZzQ=\ngoogle.golang.org/genproto/googleapis/rpc v0.0.0-20240903143218-8af14fe29dc1/go.mod h1:UqMtugtsSgubUsoxbuAoiCXvqvErP7Gf0so0mK9tHxU=\ngoogle.golang.org/grpc v1.19.0/go.mod h1:mqu4LbDTu4XGKhr4mRzUsmM4RtVoemTSY81AxZiDr8c=\ngoogle.golang.org/grpc v1.23.0/go.mod h1:Y5yQAOtifL1yxbo5wqy6BxZv8vAUGQwXBOALyacEbxg=\ngoogle.golang.org/grpc v1.25.1/go.mod h1:c3i+UQWmh7LiEpx4sFZnkU36qjEYZ0imhYfXVyQciAY=\ngoogle.golang.org/grpc v1.27.0/go.mod h1:qbnxyOmOxrQa7FizSgH+ReBfzJrCY1pSN7KXBS8abTk=\ngoogle.golang.org/grpc v1.33.2/go.mod h1:JMHMWHQWaTccqQQlmk3MJZS+GWXOdAesneDmEnv2fbc=\ngoogle.golang.org/grpc v1.68.1 h1:oI5oTa11+ng8r8XMMN7jAOmWfPZWbYpCFaMUTACxkM0=\ngoogle.golang.org/grpc v1.68.1/go.mod h1:+q1XYFJjShcqn0QZHvCyeR4CXPA+llXIeUIfIe00waw=\ngoogle.golang.org/protobuf v0.0.0-20200109180630-ec00e32a8dfd/go.mod h1:DFci5gLYBciE7Vtevhsrf46CRTquxDuWsQurQQe4oz8=\ngoogle.golang.org/protobuf v0.0.0-20200221191635-4d8936d0db64/go.mod h1:kwYJMbMJ01Woi6D6+Kah6886xMZcty6N08ah7+eCXa0=\ngoogle.golang.org/protobuf v0.0.0-20200228230310-ab0ca4ff8a60/go.mod h1:cfTl7dwQJ+fmap5saPgwCLgHXTUD7jkjRqWcaiX5VyM=\ngoogle.golang.org/protobuf v1.20.1-0.20200309200217-e05f789c0967/go.mod h1:A+miEFZTKqfCUM6K7xSMQL9OKL/b6hQv+e19PK+JZNE=\ngoogle.golang.org/protobuf v1.21.0/go.mod h1:47Nbq4nVaFHyn7ilMalzfO3qCViNmqZ2kzikPIcrTAo=\ngoogle.golang.org/protobuf v1.22.0/go.mod h1:EGpADcykh3NcUnDUJcl1+ZksZNG86OlYog2l/sGQquU=\ngoogle.golang.org/protobuf v1.23.0/go.mod h1:EGpADcykh3NcUnDUJcl1+ZksZNG86OlYog2l/sGQquU=\ngoogle.golang.org/protobuf v1.23.1-0.20200526195155-81db48ad09cc/go.mod h1:EGpADcykh3NcUnDUJcl1+ZksZNG86OlYog2l/sGQquU=\ngoogle.golang.org/protobuf v1.25.0/go.mod h1:9JNX74DMeImyA3h4bdi1ymwjUzf21/xIlbajtzgsN7c=\ngoogle.golang.org/protobuf v1.36.2 h1:R8FeyR1/eLmkutZOM5CWghmo5itiG9z0ktFlTVLuTmU=\ngoogle.golang.org/protobuf v1.36.2/go.mod h1:9fA7Ob0pmnwhb644+1+CVWFRbNajQ6iRojtC/QF5bRE=\ngopkg.in/check.v1 v0.0.0-20161208181325-20d25e280405/go.mod h1:Co6ibVJAznAaIkqp8huTwlJQCZ016jof/cbN4VW5Yz0=\ngopkg.in/check.v1 v1.0.0-20201130134442-10cb98267c6c h1:Hei/4ADfdWqJk1ZMxUNpqntNwaWcugrBjAiHlqqRiVk=\ngopkg.in/check.v1 v1.0.0-20201130134442-10cb98267c6c/go.mod h1:JHkPIbrfpd72SG/EVd6muEfDQjcINNoR0C8j2r3qZ4Q=\ngopkg.in/inf.v0 v0.9.1 h1:73M5CoZyi3ZLMOyDlQh031Cx6N9NDJ2Vvfl76EDAgDc=\ngopkg.in/inf.v0 v0.9.1/go.mod h1:cWUDdTG/fYaXco+Dcufb5Vnc6Gp2YChqWtbxRZE0mXw=\ngopkg.in/natefinch/lumberjack.v2 v2.2.1 h1:bBRl1b0OH9s/DuPhuXpNl+VtCaJXFZ5/uEFST95x9zc=\ngopkg.in/natefinch/lumberjack.v2 v2.2.1/go.mod h1:YD8tP3GAjkrDg1eZH7EGmyESg/lsYskCTPBJVb9jqSc=\ngopkg.in/tomb.v1 v1.0.0-20141024135613-dd632973f1e7 h1:uRGJdciOHaEIrze2W8Q3AKkepLTh2hOroT7a+7czfdQ=\ngopkg.in/tomb.v1 v1.0.0-20141024135613-dd632973f1e7/go.mod h1:dt/ZhP58zS4L8KSrWDmTeBkI65Dw0HsyUHuEVlX15mw=\ngopkg.in/yaml.v3 v3.0.0-20200313102051-9f266ea9e77c/go.mod h1:K4uyk7z7BCEPqu6E+C64Yfv1cQ7kz7rIZviUmN+EgEM=\ngopkg.in/yaml.v3 v3.0.1 h1:fxVm/GzAzEWqLHuvctI91KS9hhNmmWOoWu0XTYJS7CA=\ngopkg.in/yaml.v3 v3.0.1/go.mod h1:K4uyk7z7BCEPqu6E+C64Yfv1cQ7kz7rIZviUmN+EgEM=\ngotest.tools v2.2.0+incompatible h1:VsBPFP1AI068pPrMxtb/S8Zkgf9xEmTLJjfM+P5UIEo=\ngotest.tools v2.2.0+incompatible/go.mod h1:DsYFclhRJ6vuDpmuTbkuFWG+y2sxOXAzmJt81HFBacw=\ngotest.tools/v3 v3.5.1 h1:EENdUnS3pdur5nybKYIh2Vfgc8IUNBjxDPSjtiJcOzU=\ngotest.tools/v3 v3.5.1/go.mod h1:isy3WKz7GK6uNw/sbHzfKBLvlvXwUyV06n6brMxxopU=\nhonnef.co/go/tools v0.0.0-20190102054323-c2f93a96b099/go.mod h1:rf3lG4BRIbNafJWhAfAdb/ePZxsR/4RtNHQocxwk9r4=\nhonnef.co/go/tools v0.0.0-20190523083050-ea95bdfd59fc/go.mod h1:rf3lG4BRIbNafJWhAfAdb/ePZxsR/4RtNHQocxwk9r4=\nnullprogram.com/x/optparse v1.0.0/go.mod h1:KdyPE+Igbe0jQUrVfMqDMeJQIJZEuyV7pjYmp6pbG50=\nrsc.io/pdf v0.1.1/go.mod h1:n8OzWcQ6Sp37PL01nO98y4iUCRdTGarVfzxY20ICaU4=\nsigs.k8s.io/yaml v1.4.0 h1:Mk1wCc2gy/F0THH0TAp1QYyJNzRm2KCLy3o5ASXVI5E=\nsigs.k8s.io/yaml v1.4.0/go.mod h1:Ejl7/uTz7PSA4eKMyQCUTnhZYNmLIl+5c2lQPGR2BPY=\nsrc.elv.sh v0.16.0-rc1.0.20220116211855-fda62502ad7f h1:pjVeIo9Ba6K1Wy+rlwX91zT7A+xGEmxiNRBdN04gDTQ=\nsrc.elv.sh v0.16.0-rc1.0.20220116211855-fda62502ad7f/go.mod h1:kPbhv5+fBeUh85nET3wWhHGUaUQ64nZMJ8FwA5v5Olg=\ntags.cncf.io/container-device-interface v0.8.0 h1:8bCFo/g9WODjWx3m6EYl3GfUG31eKJbaggyBDxEldRc=\ntags.cncf.io/container-device-interface v0.8.0/go.mod h1:Apb7N4VdILW0EVdEMRYXIDVRZfNJZ+kmEUss2kRRQ6Y=\ntags.cncf.io/container-device-interface/specs-go v0.8.0 h1:QYGFzGxvYK/ZLMrjhvY0RjpUavIn4KcmRmVP/JjdBTA=\ntags.cncf.io/container-device-interface/specs-go v0.8.0/go.mod h1:BhJIkjjPh4qpys+qm4DAYtUyryaTDg9zris+AczXyws=\n"
        },
        {
          "name": "hack",
          "type": "tree",
          "content": null
        },
        {
          "name": "install.md",
          "type": "blob",
          "size": 0.5322265625,
          "content": "# libpod Installation Instructions\n\nThe installation instructions for Podman and libpod now reside **[here](https://podman.io/getting-started/installation)** on the **[podman.io](https://podman.io)** site.\n\nThe podman.io site resides in a GitHub repository under the containers organization at [https://github.com/containers/podman.io](https://github.com/containers/podman.io). If you see a change that needs to happen to the installation instructions, please feel free to open a pull request there. We're always happy to have new contributors!\n"
        },
        {
          "name": "internal",
          "type": "tree",
          "content": null
        },
        {
          "name": "libpod",
          "type": "tree",
          "content": null
        },
        {
          "name": "logo",
          "type": "tree",
          "content": null
        },
        {
          "name": "pkg",
          "type": "tree",
          "content": null
        },
        {
          "name": "plans",
          "type": "tree",
          "content": null
        },
        {
          "name": "pyproject.toml",
          "type": "blob",
          "size": 0.1650390625,
          "content": "[tool.black]\nline-length = 100\ntarget-version = ['py36']\ninclude = '\\.pyi?$'\nexclude = '''\n/(\n    \\.git\n  | \\.tox\n  | \\.venv\n  | build\n  | dist\n  | docs\n  | hack\n)/\n'''\n"
        },
        {
          "name": "rootless.md",
          "type": "blob",
          "size": 5.5849609375,
          "content": "# Shortcomings of Rootless Podman\n\nThe following list categorizes the known issues and irregularities with running Podman as a non-root user.  Although currently functional, there is still a number of work items that are under consideration to be added.  These proposed changes are in varying degrees of design and development.\n\nContributors are more than welcomed to help with this work.  If you decide to carve off a piece and work on it, please create an issue in [GitHub](https://github.com/containers/podman/issues), and assign it to yourself.  If you find other unexpected behavior with rootless Podman and feel it’s warranted, please feel free to update this document.\n\n* Podman can not create containers that bind to ports < 1024.\n  * The kernel does not allow processes without CAP_NET_BIND_SERVICE to bind to low ports.\n  * You can modify the `net.ipv4.ip_unprivileged_port_start` sysctl to change the lowest port.  For example `sysctl net.ipv4.ip_unprivileged_port_start=443` allows rootless Podman containers to bind to ports >= 443.\n  * A proxy server, kernel firewall rule, or redirection tool such as [redir](https://github.com/troglobit/redir) may be used to redirect traffic from a privileged port to an unprivileged one (where a podman pod is bound) in a server scenario - where a user has access to the root account (or setuid on the binary would be an acceptable risk), but wants to run the containers as an unprivileged user for enhanced security and for a limited number of pre-known ports.\n* As of Podman 5.0, pasta is the default networking tool. Since pasta copies the IP address of the main interface, connections to that IP from containers do not work. This means that unless you have more than one interface, inter-container connections cannot be made without explicitly passing a pasta network configuration, either in `containers.conf` or at runtime.\n  * If you previously had port forwards (ex. via -p 80:80) that other containers could access, you can either revert back to slirp4netns or use the solution (setting pasta options with 10.0.2.x IPs) posted [here](https://blog.podman.io/2024/03/podman-5-0-breaking-changes-in-detail/).\n* “How To” documentation is patchy at best.\n* If /etc/subuid and /etc/subgid are not set up for a user, then podman commands\ncan easily fail\n  * This can be a big issue on machines using Network Based Password information (FreeIPA, Active Directory, LDAP)\n  * We are working to get support for NSSWITCH on the /etc/subuid and /etc/subgid files.\n* No cgroup V1 Support\n  * cgroup V1 does not safely support cgroup delegation.\n  * As of Fedora 31 defaults to cgroup V2, which has full support of rootless cgroup management.  Note this requires the --cgroup-manager within rootless containers to use systemd, which new containers will get by default.\n* Some system unit configuration options do not work in the rootless container\n  * systemd fails to apply several options and failures are silently ignored (e.g. CPUShares, MemoryLimit). Should work on cgroup V2.\n  * Use of certain options will cause service startup failures (e.g. PrivateNetwork).  The systemd services requiring `PrivateNetwork` can be made to work by passing `--cap-add SYS_ADMIN`, but the security implications should be carefully evaluated.  In most cases, it's better to create an override.conf drop-in that sets `PrivateNetwork=no`.  This also applies to containers run by root.\n* Can not share container images with CRI-O or other rootful users\n* Difficult to use additional stores for sharing content\n* Does not work on NFS or parallel filesystem homedirs (e.g. [GPFS](https://www.ibm.com/support/knowledgecenter/en/SSFKCN/gpfs_welcome.html))\n  * NFS and parallel filesystems enforce file creation on different UIDs on the server side and does not understand User Namespace.\n  * When a container root process like YUM attempts to create a file owned by a different UID, NFS Server/GPFS denies the creation.\n* Does not work with homedirs mounted with noexec/nodev\n  * User can set up storage to point to other directories they can write to that are not mounted noexec/nodev\n* Support for using native overlayfs as an unprivileged user is only available for Podman version >= 3.1 on a Linux kernel version >= 5.12, otherwise the slower _fuse-overlayfs_ may be used.\n  * A few Linux distributions (e.g. Ubuntu) have supported even older Podman and Linux kernel versions by modifying the normal Linux kernel behaviour.\n* Only other supported driver is VFS.\n* Cannot use ping out of the box.\n  * [(Can be fixed by setting sysctl on host)](https://github.com/containers/podman/blob/main/troubleshooting.md#5-rootless-containers-cannot-ping-hosts)\n* Requires new shadow-utils (not found in older (RHEL7/Centos7 distros) Should be fixed in RHEL7.7 release)\n* A few commands do not work.\n  * mount/unmount (on fuse-overlay)\n     * Only works if you enter the mount namespace with podman unshare\n  * podman stats (Works with cgroup V2 support)\n  * Checkpoint and Restore (CRIU requires root)\n  * Pause and Unpause (Works with cgroup V2 support)\n* Issues with higher UIDs can cause builds to fail\n  * If a build is attempting to use a UID that is not mapped into the user namespace mapping for a container, then builds will not be able to put the UID in an image.\n* Making device nodes within a container fails, even when running --privileged.\n  * The kernel does not allow non root user processes (processes without CAP_MKNOD) to create device nodes.  If a container needs to create device nodes, it must be run as root.\n* When using --net=host with rootless containers, subsequent podman execs to that container will not join the host network namespace because it is owned by root.\n"
        },
        {
          "name": "rpm",
          "type": "tree",
          "content": null
        },
        {
          "name": "test",
          "type": "tree",
          "content": null
        },
        {
          "name": "transfer.md",
          "type": "blob",
          "size": 14.296875,
          "content": "![PODMAN logo](https://raw.githubusercontent.com/containers/common/main/logos/podman-logo-full-vert.png)\n# Podman Usage Transfer\n\nThis document outlines useful information for ops and dev transfer as it relates to infrastructure that utilizes `Podman`.\n\n## Operational Transfer\n\n## Abstract\n\nPodman is a tool for managing Pods, Containers, and Container Images.  The CLI\nfor Podman is based on the Docker CLI, although Podman does not require a\nruntime daemon to be running in order to function. Podman also supports the Docker API via the Podman socket activated system service.\n\n## System Tools\n\nMany traditional tools will still be useful, such as `pstree`, `nsenter` and `lsns`.\nAs well as some systemd helpers like `systemd-cgls` and `systemd-cgtop` are still just as applicable.\n\n## Equivalents\n\nFor many troubleshooting and information collection steps, there may be an existing pattern.\nFollowing provides equivalent with `Podman` tools for gathering information or jumping into containers, for operational use.\n\n## Development Transfer\n\nThere are other equivalents for these tools\n\n| Existing Step | `Podman` (and friends) |\n| :--- | :--- |\n| `docker `        | [`podman`](./docs/source/markdown/podman.1.md)                  |\n| `docker attach`  | [`podman attach`](./docs/source/markdown/podman-attach.1.md)    |\n| `docker auto-update`|[`podman auto-update`](./docs/source/markdown/podman-auto-update.1.md)|\n| `docker build`   | [`podman build`](./docs/source/markdown/podman-build.1.md)      |\n| `docker commit`  | [`podman commit`](./docs/source/markdown/podman-commit.1.md)    |\n| `docker container `|[`podman container`](./docs/source/markdown/podman-container.1.md) |\n| `docker container prune`|[`podman container prune`](./docs/source/markdown/podman-container-prune.1.md) |\n| `docker cp`      | [`podman cp`](./docs/source/markdown/podman-cp.1.md)            |\n| `docker create`  | [`podman create`](./docs/source/markdown/podman-create.1.md)    |\n| `docker diff`    | [`podman diff`](./docs/source/markdown/podman-diff.1.md)        |\n| `docker events`  | [`podman events`](./docs/source/markdown/podman-events.1.md)    |\n| `docker exec`    | [`podman exec`](./docs/source/markdown/podman-exec.1.md)        |\n| `docker export`  | [`podman export`](./docs/source/markdown/podman-export.1.md)    |\n| `docker history` | [`podman history`](./docs/source/markdown/podman-history.1.md)  |\n| `docker image`   | [`podman image`](./docs/source/markdown/podman-image.1.md)      |\n| `docker images`  | [`podman images`](./docs/source/markdown/podman-images.1.md)    |\n| `docker import`  | [`podman import`](./docs/source/markdown/podman-import.1.md)    |\n| `docker info`    | [`podman info`](./docs/source/markdown/podman-info.1.md)        |\n| `docker inspect` | [`podman inspect`](./docs/source/markdown/podman-inspect.1.md)  |\n| `docker kill`    | [`podman kill`](./docs/source/markdown/podman-kill.1.md)        |\n| `docker load`    | [`podman load`](./docs/source/markdown/podman-load.1.md)        |\n| `docker login`   | [`podman login`](./docs/source/markdown/podman-login.1.md)      |\n| `docker logout`  | [`podman logout`](./docs/source/markdown/podman-logout.1.md)    |\n| `docker logs` | [`podman logs`](./docs/source/markdown/podman-logs.1.md)           |\n| `docker manifest `| [`podman manifest`](./docs.source/markdown/podman-manifest.1.md)           |\n| `docker manifest annotate`  | [`podman manifest annotate`](./docs/source/markdown/podman-manifest-annotate.1.md)   |\n| `docker manifest create` | [`podman manifest create`](./docs/source/markdown/podman-manifest-create.1.md)   |\n| `docker manifest inspect`| [`podman manifest inspect`](./docs/source/markdown/podman-manifest-inspect.1.md) |\n| `docker manifest push`   | [`podman manifest push`](./docs/source/markdown/podman-manifest-push.1.md)       |\n| `docker manifest rm`     | [`podman manifest rm`](./docs.source/markdown/podman-manifest-rm.1.md)           |\n| `docker network `        | [`podman network`](./docs.source/markdown/podman-network.1.md)                   |\n| `docker network connect` | [`podman network connect`](./docs/source/markdown/podman-network-connect.1.md)   |\n| `docker network create`  | [`podman network create`](./docs/source/markdown/podman-network-create.1.md)     |\n| `docker network disconnect`| [`podman network disconnect`](./docs/source/markdown/podman-network-disconnect.1.md)|\n| `docker network inspect` | [`podman network inspect`](./docs/source/markdown/podman-network-inspect.1.md)   |\n| `docker network ls`      | [`podman network ls`](./docs/source/markdown/podman-network-ls.1.md)             |\n| `docker network rm`      | [`podman network rm`](./docs.source/markdown/podman-network-rm.1.md)             |\n| `docker pause`   | [`podman pause`](./docs/source/markdown/podman-pause.1.md)      |\n| `docker port`    | [`podman port`](./docs/source/markdown/podman-port.1.md)        |\n| `docker ps`      | [`podman ps`](./docs/source/markdown/podman-ps.1.md)            |\n| `docker pull`    | [`podman pull`](./docs/source/markdown/podman-pull.1.md)        |\n| `docker push`    | [`podman push`](./docs/source/markdown/podman-push.1.md)        |\n| `docker rename`  | [`podman rename`](./docs/source/markdown/podman-rename.1.md)    |\n| `docker restart` | [`podman restart`](./docs/source/markdown/podman-restart.1.md)  |\n| `docker rm`      | [`podman rm`](./docs/source/markdown/podman-rm.1.md)            |\n| `docker rmi`     | [`podman rmi`](./docs/source/markdown/podman-rmi.1.md)          |\n| `docker run`     | [`podman run`](./docs/source/markdown/podman-run.1.md)          |\n| `docker save`    | [`podman save`](./docs/source/markdown/podman-save.1.md)        |\n| `docker search`  | [`podman search`](./docs/source/markdown/podman-search.1.md)    |\n| `docker secret ` | [`podman secret`](./docs/source/markdown/podman-secret.1.md)    |\n| `docker secret create`  | [`podman secret`](./docs/source/markdown/podman-secret-create.1.md)  |\n| `docker secret inspect`  | [`podman secret`](./docs/source/markdown/podman-secret-inspect.1.md)|\n| `docker secret ls`  | [`podman secret`](./docs/source/markdown/podman-secret-ls.1.md)|\n| `docker secret rm`  | [`podman secret`](./docs/source/markdown/podman-secret-rm.1.md)|\n| `docker service` | [`podman service`](./docs/source/markdown/podman-service.1.md)  |\n| `docker start`   | [`podman start`](./docs/source/markdown/podman-start.1.md)      |\n| `docker stats`   | [`podman stats`](./docs/source/markdown/podman-stats.1.md)      |\n| `docker stop`    | [`podman stop`](./docs/source/markdown/podman-stop.1.md)        |\n| `docker system ` | [`podman system`](./docs/source/markdown/podman-system.1.md)    |\n| `docker system df`     | [`podman system df`](./docs/source/markdown/podman-system-df.1.md)      |\n| `docker system events`   | [`podman system events`](./docs/source/markdown/podman-events.1.md)  |\n| `docker system info`   | [`podman system info`](./docs/source/markdown/podman-system-info.1.md)  |\n| `docker system prune`  | [`podman system prune`](./docs/source/markdown/podman-system-prune.1.md)|\n| `docker tag`     | [`podman tag`](./docs/source/markdown/podman-tag.1.md)          |\n| `docker top`     | [`podman top`](./docs/source/markdown/podman-top.1.md)          |\n| `docker unpause` | [`podman unpause`](./docs/source/markdown/podman-unpause.1.md)  |\n| `docker version` | [`podman version`](./docs/source/markdown/podman-version.1.md)  |\n| `docker volume        `| [`podman volume`](./docs/source/markdown/podman-volume.1.md)\t\t       |\n| `docker volume create` | [`podman volume create`](./docs/source/markdown/podman-volume-create.1.md)  |\n| `docker volume inspect`| [`podman volume inspect`](./docs/source/markdown/podman-volume-inspect.1.md)|\n| `docker volume ls`     | [`podman volume ls`](./docs/source/markdown/podman-volume-ls.1.md)          |\n| `docker volume prune`  | [`podman volume prune`](./docs/source/markdown/podman-volume-prune.1.md)    |\n| `docker volume rm`     | [`podman volume rm`](./docs/source/markdown/podman-volume-rm.1.md)          |\n| `docker wait`          | [`podman wait`](./docs/source/markdown/podman-wait.1.md)\t\t       |\n\n## Behavioural differences and pitfalls\n\nThese commands behave differently from the commands in Docker:\n\n| Command | Description |\n| :--- | :--- |\n| `podman volume create`                | While `docker volume create` is idempotent, `podman volume create` raises an error if the volume does already exist. See this [docker issue](https://github.com/moby/moby/issues/16068) for more information.|\n| `podman run -v /tmp/noexist:/tmp ...` | While `docker run -v /tmp/noexist:/tmp` will create non existing volumes on the host, Podman will report that the volume does not exist. The Podman team sees this as a bug in Docker.|\n\n## Missing commands in podman\n\nThose Docker commands currently do not have equivalents in `podman`:\n\n| Missing command | Description|\n| :--- | :--- |\n| `docker builder`  ||\n| `docker buildx`   ||\n| `docker config`   ||\n| `docker context`  ||\n| `docker container update`  | podman does not support altering running containers. We recommend recreating containers with the correct arguments.|\n| `docker node`     ||\n| `docker plugin`   | podman does not support plugins.  We recommend you use alternative OCI Runtimes or OCI Runtime Hooks to alter behavior of podman.|\n| `docker stack`    ||\n| `docker swarm`    | podman does not support swarm.  We support Kubernetes for orchestration using [CRI-O](https://github.com/cri-o/cri-o).|\n| `docker trust`    |[`podman image trust`](./docs/source/markdown/podman-image-trust.1.md)          |\n| `docker update`   ||\n\n## Missing commands in Docker\n\nThe following podman commands do not have a Docker equivalent:\n\n* [`podman container checkpoint`](/docs/source/markdown/podman-container-checkpoint.1.md)\n* [`podman container cleanup`](/docs/source/markdown/podman-container-cleanup.1.md)\n* [`podman container exists`](/docs/source/markdown/podman-container-exists.1.md)\n* [`podman container refresh`](/docs/source/markdown/podman-container-refresh.1.md)\n* [`podman container restore`](/docs/source/markdown/podman-container-restore.1.md)\n* [`podman container runlabel`](/docs/source/markdown/podman-container-runlabel.1.md)\n* [`podman generate `](./docs/source/markdown/podman-generate.1.md)\n* [`podman generate kube`](./docs/source/markdown/podman-generate-kube.1.md)\n* [`podman generate systemd`](./docs/source/markdown/podman-generate-systemd.1.md)\n* [`podman healthcheck `](/docs/source/markdown/podman-healthcheck.1.md)\n* [`podman healthcheck run`](/docs/source/markdown/podman-healthcheck-run.1.md)\n* [`podman image diff`](./docs/source/markdown/podman-image-diff.1.md)\n* [`podman image exists`](./docs/source/markdown/podman-image-exists.1.md)\n* [`podman image mount`](./docs/source/markdown/podman-image-mount.1.md)\n* [`podman image prune`](./docs/source/markdown/podman-image-prune.1.md)\n* [`podman image sign`](./docs/source/markdown/podman-image-sign.1.md)\n* [`podman image tree`](./docs/source/markdown/podman-image-tree.1.md)\n* [`podman image trust`](./docs/source/markdown/podman-image-trust.1.md)\n* [`podman image unmount`](./docs/source/markdown/podman-image-unmount.1.md)\n* [`podman init`](./docs/source/markdown/podman-init.1.md)\n* [`podman machine `](./docs/source/markdown/podman-machine.1.md)\n* [`podman machine init`](./docs/source/markdown/podman-machine-init.1.md)\n* [`podman machine list`](./docs/source/markdown/podman-machine-list.1.md)\n* [`podman machine rm`](./docs/source/markdown/podman-machine-rm.1.md)\n* [`podman machine ssh`](./docs/source/markdown/podman-machine-ssh.1.md)\n* [`podman machine start`](./docs/source/markdown/podman-machine-start.1.md)\n* [`podman machine stop`](./docs/source/markdown/podman-machine-stop.1.md)\n* [`podman manifest add`](./docs/source/markdown/podman-manifest-add.1.md)\n* [`podman manifest exists`](./docs/source/markdown/podman-manifest-exists.1.md)\n* [`podman manifest remove`](./docs/source/markdown/podman-manifest-remove.1.md)\n* [`podman mount`](./docs/source/markdown/podman-mount.1.md)\n* [`podman network exists`](./docs/source/markdown/podman-network-exists.1.md)\n* [`podman network prune`](./docs/source/markdown/podman-network-prune.1.md)\n* [`podman network reload`](./docs/source/markdown/podman-network-reload.1.md)\n* [`podman play `](./docs/source/markdown/podman-play.1.md)\n* [`podman play kube`](./docs/source/markdown/podman-play-kube.1.md)\n* [`podman pod `](./docs/source/markdown/podman-pod.1.md)\n* [`podman pod create`](./docs/source/markdown/podman-pod-create.1.md)\n* [`podman pod exists`](./docs/source/markdown/podman-pod-exists.1.md)\n* [`podman pod inspect`](./docs/source/markdown/podman-pod-inspect.1.md)\n* [`podman pod kill`](./docs/source/markdown/podman-pod-kill.1.md)\n* [`podman pod pause`](./docs/source/markdown/podman-pod-pause.1.md)\n* [`podman pod prune`](./docs/source/markdown/podman-pod-prune.1.md)\n* [`podman pod ps`](./docs/source/markdown/podman-pod-ps.1.md)\n* [`podman pod restart`](./docs/source/markdown/podman-pod-restart.1.md)\n* [`podman pod rm`](./docs/source/markdown/podman-pod-rm.1.md)\n* [`podman pod start`](./docs/source/markdown/podman-pod-start.1.md)\n* [`podman pod stats`](./docs/source/markdown/podman-pod-stats.1.md)\n* [`podman pod stop`](./docs/source/markdown/podman-pod-stop.1.md)\n* [`podman pod top`](./docs/source/markdown/podman-pod-top.1.md)\n* [`podman pod unpause`](./docs/source/markdown/podman-pod-unpause.1.md)\n* [`podman system connection `](./docs/source/markdown/podman-system-connection.1.md)\n* [`podman system connection add`](./docs/source/markdown/podman-system-connection-add.1.md)\n* [`podman system connection default`](./docs/source/markdown/podman-system-connection-default.1.md)\n* [`podman system connection list`](./docs/source/markdown/podman-system-connection-list.1.md)\n* [`podman system connection remove`](./docs/source/markdown/podman-system-connection-remove.1.md)\n* [`podman system connection rename`](./docs/source/markdown/podman-system-connection-rename.1.md)\n* [`podman system migrate`](./docs/source/markdown/podman-system-connection-migrate.1.md)\n* [`podman system renumber`](./docs/source/markdown/podman-system-connection-renumber.1.md)\n* [`podman system reset`](./docs/source/markdown/podman-system-connection-reset.1.md)\n* [`podman system service`](./docs/source/markdown/podman-system-connection-service.1.md)\n* [`podman unmount`](./docs/source/markdown/podman-unmount.1.md)\n* [`podman unshare`](./docs/source/markdown/podman-unshare.1.md)\n* [`podman untag`](./docs/source/markdown/podman-untag.1.md)\n* [`podman volume exists`](./docs/source/markdown/podman-volume-exists.1.md)\n"
        },
        {
          "name": "troubleshooting.md",
          "type": "blob",
          "size": 62.1748046875,
          "content": "![PODMAN logo](https://raw.githubusercontent.com/containers/common/main/logos/podman-logo-full-vert.png)\n\n# Troubleshooting\n\n## A list of common issues and solutions for Podman\n\n---\n### 1) Variety of issues - Validate Version\n\nA large number of issues reported against Podman are often found to already be fixed\nin more current versions of the project.  Before reporting an issue, please verify the\nversion you are running with `podman version` and compare it to the latest release\ndocumented on the top of Podman's [README.md](README.md).\n\nIf they differ, please update your version of PODMAN to the latest possible\nand retry your command before reporting the issue.\n\n---\n### 2) Can't use volume mount, get permission denied\n\n```console\n$ podman run -v ~/mycontent:/content fedora touch /content/file\ntouch: cannot touch '/content/file': Permission denied\n```\n\n#### Solution\n\nThis is sometimes caused by SELinux, and sometimes by user namespaces.\n\nLabeling systems like SELinux require that proper labels are placed on volume\ncontent mounted into a container. Without a label, the security system might\nprevent the processes running inside the container from using the content. By\ndefault, Podman does not change the labels set by the OS.\n\nTo change a label in the container context, you can add either of two suffixes\n**:z** or **:Z** to the volume mount. These suffixes tell Podman to relabel file\nobjects on the shared volumes. The **z** option tells Podman that two containers\nshare the volume content. As a result, Podman labels the content with a shared\ncontent label. Shared volume labels allow all containers to read/write content.\nThe **Z** option tells Podman to label the content with a private unshared label.\nOnly the current container can use a private volume.\n\n```console\n$ podman run -v ~/mycontent:/content:Z fedora touch /content/file\n```\n\nMake sure the content is private for the container.  Do not relabel system directories and content.\nRelabeling system content might cause other confined services on your machine to fail.  For these\ntypes of containers we recommend having SELinux separation disabled.  The option `--security-opt label=disable`\nwill disable SELinux separation for the container.\n\n```console\n$ podman run --security-opt label=disable -v ~:/home/user fedora touch /home/user/file\n```\n\nIn cases where the container image runs as a specific, non-root user, though, the\nsolution is to fix the user namespace.  This would include container images such as\nthe Jupyter Notebook image (which runs as \"jovyan\") and the Postgres image (which runs\nas \"postgres\").  In either case, use the `--userns` switch to map user namespaces,\nmost of the time by using the **keep-id** option.\n\n```console\n$ podman run -v \"$PWD\":/home/jovyan/work --userns=keep-id jupyter/scipy-notebook\n```\n\n---\n### 3) No such image or Bare keys cannot contain ':'\n\nWhen doing a `podman pull` or `podman build` command and a \"common\" image cannot be pulled,\nit is likely that the `/etc/containers/registries.conf` file is either not installed or possibly\nmisconfigured.\n\n#### Symptom\n\n```console\n$ sudo podman build -f Dockerfile\nSTEP 1: FROM alpine\nerror building: error creating build container: no such image \"alpine\" in registry: image not known\n```\n\nor\n\n```console\n$ sudo podman pull fedora\nerror pulling image \"fedora\": unable to pull fedora: error getting default registries to try: Near line 9 (last key parsed ''): Bare keys cannot contain ':'.\n```\n\n#### Solution\n\n  * Verify that the `/etc/containers/registries.conf` file exists.  If not, verify that the containers-common package is installed.\n  * Verify that the entries in the `unqualified-search-registries` list of the `/etc/containers/registries.conf` file are valid and reachable.\n    * i.e. `unqualified-search-registries = [\"registry.fedoraproject.org\", \"quay.io\", \"registry.access.redhat.com\"]`\n\n---\n### 4) http: server gave HTTP response to HTTPS client\n\nWhen doing a Podman command such as `build`, `commit`, `pull`, or `push` to a registry,\nTLS verification is turned on by default.  If encryption is not used with\nthose commands, this error can occur.\n\n#### Symptom\n\n```console\n$ sudo podman push alpine docker://localhost:5000/myalpine:latest\nGetting image source signatures\nGet https://localhost:5000/v2/: http: server gave HTTP response to HTTPS client\n```\n\n#### Solution\n\nBy default TLS verification is turned on when communicating to registries from\nPodman.  If the registry does not require encryption the Podman commands\nsuch as `build`, `commit`, `pull` and `push` will fail unless TLS verification is turned\noff using the `--tls-verify` option.  **NOTE:** It is not at all recommended to\ncommunicate with a registry and not use TLS verification.\n\n  * Turn off TLS verification by passing false to the tls-verify option.\n  * I.e. `podman push --tls-verify=false alpine docker://localhost:5000/myalpine:latest`\n\n\nFor a global workaround, users[1] can create the file `/etc/containers/registries.conf.d/registry-NAME.conf`\n(replacing NAME with the name of this registry) with the following content (replacing FULLY.QUALIFIED.NAME.OF.REGISTRY with the address of this registry):\n\n```\n[[registry]]\nlocation = \"FULLY.QUALIFIED.NAME.OF.REGISTRY\"\ninsecure = true\n```\n\n[1] If you are using a Mac / Windows, you should execute `podman machine ssh` to login into podman machine before adding the insecure entry to the registry—conf file.\n\n**This is an insecure method and should be used cautiously.**\n\n---\n### 5) rootless containers cannot ping hosts\n\nWhen using the ping command from a non-root container, the command may\nfail because of a lack of privileges.\n\n#### Symptom\n\n```console\n$ podman run --rm fedora ping -W10 -c1 redhat.com\nPING redhat.com (209.132.183.105): 56 data bytes\n\n--- redhat.com ping statistics ---\n1 packets transmitted, 0 packets received, 100% packet loss\n```\n\n#### Solution\n\nIt is most likely necessary to enable unprivileged pings on the host.\nBe sure the UID of the user is part of the range in the\n`/proc/sys/net/ipv4/ping_group_range` file.\n\nTo change its value you can use something like:\n\n```console\n# sysctl -w \"net.ipv4.ping_group_range=0 2000000\"\n```\n\nTo make the change persistent, you'll need to add a file in\n`/etc/sysctl.d` that contains `net.ipv4.ping_group_range=0 $MAX_UID`.\n\n---\n### 6) Build hangs when the Dockerfile contains the useradd command\n\nWhen the Dockerfile contains a command like `RUN useradd -u 99999000 -g users newuser` the build can hang.\n\n#### Symptom\n\nIf you are using a useradd command within a Dockerfile with a large UID/GID, it will create a large sparse file `/var/log/lastlog`.  This can cause the build to hang forever.  Go language does not support sparse files correctly, which can lead to some huge files being created in your container image.\n\n#### Solution\n\nIf the entry in the Dockerfile looked like: RUN useradd -u 99999000 -g users newuser then add the `--no-log-init` parameter to change it to: `RUN useradd --no-log-init -u 99999000 -g users newuser`. This option tells useradd to stop creating the lastlog file.\n\n### 7) Permission denied when running Podman commands\n\nWhen rootless Podman attempts to execute a container on a non exec home directory a permission error will be raised.\n\n#### Symptom\n\nIf you are running Podman or Buildah on a home directory that is mounted noexec,\nthen they will fail with a message like:\n\n```console\n$ podman run centos:7\nstandard_init_linux.go:203: exec user process caused \"permission denied\"\n```\n\n#### Solution\n\nSince the administrator of the system set up your home directory to be noexec, you will not be allowed to execute containers from storage in your home directory. It is possible to work around this by manually specifying a container storage path that is not on a noexec mount. Simply copy the file /etc/containers/storage.conf to ~/.config/containers/ (creating the directory if necessary). Specify a graphroot directory which is not on a noexec mount point and to which you have read/write privileges.  You will need to modify other fields to writable directories as well.\n\nFor example\n\n```console\n$ cat ~/.config/containers/storage.conf\n[storage]\n  driver = \"overlay\"\n  runroot = \"/run/user/1000\"\n  graphroot = \"/execdir/myuser/storage\"\n  [storage.options]\n    mount_program = \"/bin/fuse-overlayfs\"\n```\n\n### 8) Permission denied when running systemd within a Podman container\n\nWhen running systemd as PID 1 inside of a container on an SELinux\nseparated machine, it needs to write to the cgroup file system.\n\n#### Symptom\n\nSystemd gets permission denied when attempting to write to the cgroup file\nsystem, and AVC messages start to show up in the audit.log file or journal on\nthe system.\n\n#### Solution\n\nNewer versions of Podman (2.0 or greater) support running init based containers\nwith a different SELinux labels, which allow the container process access to the\ncgroup file system. This feature requires container-selinux-2.132 or newer\nversions.\n\nPrior to Podman 2.0, the SELinux boolean `container_manage_cgroup` allows\ncontainer processes to write to the cgroup file system. Turn on this boolean,\non SELinux separated systems, to allow systemd to run properly in the container.\nOnly do this on systems running older versions of Podman.\n\n```console\n# setsebool -P container_manage_cgroup true\n```\n\n### 9) Newuidmap missing when running rootless Podman commands\n\nRootless Podman requires the newuidmap and newgidmap programs to be installed.\n\n#### Symptom\n\nIf you are running Podman or Buildah as a rootless user, you get an error complaining about\na missing newuidmap executable.\n\n```console\n$ podman run -ti fedora sh\ncommand required for rootless mode with multiple IDs: exec: \"newuidmap\": executable file not found in $PATH\n```\n\n#### Solution\n\nInstall a version of shadow-utils that includes these executables.  Note that for RHEL and CentOS 7, at least the 7.7 release must be installed for support to be available.\n\n### 10) rootless setup user: invalid argument\n\nRootless Podman requires the user running it to have a range of UIDs listed in /etc/subuid and /etc/subgid.\n\n#### Symptom\n\nA user, either via --user or through the default configured for the image, is not mapped inside the namespace.\n\n```console\n$ podman run --rm -ti --user 1000000 alpine echo hi\nError: container create failed: container_linux.go:344: starting container process caused \"setup user: invalid argument\"\n```\n\n#### Solution\n\nUpdate the /etc/subuid and /etc/subgid with fields for users that look like:\n\n```console\n$ cat /etc/subuid\njohndoe:100000:65536\ntest:165536:65536\n```\n\nThe format of this file is `USERNAME:UID:RANGE`\n\n* username as listed in `/etc/passwd` or `getpwent`.\n* The initial uid allocated for the user.\n* The size of the range of UIDs allocated for the user.\n\nThis means johndoe is allocated UIDs 100000-165535 as well as his standard UID in the\n`/etc/passwd` file.\n\nYou should ensure that each user has a unique range of UIDs, because overlapping UIDs,\nwould potentially allow one user to attack another user. In addition, make sure\nthat the range of UIDs you allocate can cover all UIDs that the container\nrequires. For example, if the container has a user with UID 10000, ensure you\nhave at least 10000 subuids, and if the container needs to be run as a user with\nUID 1000000, ensure you have at least 1000000 subuids.\n\nYou could also use the `usermod` program to assign UIDs to a user.\n\nIf you update either the `/etc/subuid` or `/etc/subgid` file, you need to\nstop all running containers and kill the pause process.  This is done\nautomatically by the `system migrate` command, which can also be used\nto stop all the containers and kill the pause process.\n\n```console\n# usermod --add-subuids 200000-201000 --add-subgids 200000-201000 johndoe\n# grep johndoe /etc/subuid /etc/subgid\n/etc/subuid:johndoe:200000:1001\n/etc/subgid:johndoe:200000:1001\n```\n\n### 11) Changing the location of the Graphroot leads to permission denied\n\nWhen I change the graphroot storage location in storage.conf, the next time I\nrun Podman, I get an error like:\n\n```console\n# podman run -p 5000:5000 -it centos bash\n\nbash: error while loading shared libraries: /lib64/libc.so.6: cannot apply additional memory protection after relocation: Permission denied\n```\n\nFor example, the admin sets up a spare disk to be mounted at `/src/containers`,\nand points storage.conf at this directory.\n\n\n#### Symptom\n\nSELinux blocks containers from using arbitrary locations for overlay storage.\nThese directories need to be labeled with the same labels as if the content was\nunder `/var/lib/containers/storage`.\n\n#### Solution\n\nTell SELinux about the new containers storage by setting up an equivalence record.\nThis tells SELinux to label content under the new path, as if it was stored\nunder `/var/lib/containers/storage`.\n\n```console\n# semanage fcontext -a -e /var/lib/containers /srv/containers\n# restorecon -R -v /srv/containers\n```\n\nThe semanage command above tells SELinux to set up the default labeling of\n`/srv/containers` to match `/var/lib/containers`.  The `restorecon` command\ntells SELinux to apply the labels to the actual content.\n\nNow all new content created in these directories will automatically be created\nwith the correct label.\n\n### 12) Anonymous image pull fails with 'invalid username/password'\n\nPulling an anonymous image that doesn't require authentication can result in an\n`invalid username/password` error.\n\n#### Symptom\n\nIf you pull an anonymous image, one that should not require credentials, you can receive\nan `invalid username/password` error if you have credentials established in the\nauthentication file for the target container registry that are no longer valid.\n\n```console\n$ podman run -it --rm docker://docker.io/library/alpine:latest ls\nTrying to pull docker://docker.io/library/alpine:latest...ERRO[0000] Error pulling image ref //alpine:latest: Error determining manifest MIME type for docker://alpine:latest: unable to retrieve auth token: invalid username/password\nFailed\nError: unable to pull docker://docker.io/library/alpine:latest: unable to pull image: Error determining manifest MIME type for docker://alpine:latest: unable to retrieve auth token: invalid username/password\n```\n\nThis can happen if the authentication file is modified 'by hand' or if the credentials\nare established locally and then the password is updated later in the container registry.\n\n#### Solution\n\nDepending upon which container tool was used to establish the credentials, use `podman logout`\nor `docker logout` to remove the credentials from the authentication file.\n\n### 13) Running Podman inside a container causes container crashes and inconsistent states\n\nRunning Podman in a container and forwarding some, but not all, of the required host directories can cause inconsistent container behavior.\n\n#### Symptom\n\nAfter creating a container with Podman's storage directories mounted in from the host and running Podman inside a container, all containers show their state as \"configured\" or \"created\", even if they were running or stopped.\n\n#### Solution\n\nWhen running Podman inside a container, it is recommended to mount at a minimum `/var/lib/containers/storage/` as a volume.\nTypically, you will not mount in the host version of the directory, but if you wish to share containers with the host, you can do so.\nIf you do mount in the host's `/var/lib/containers/storage`, however, you must also mount in the host's `/run/libpod` and `/run/containers/storage` directories.\nNot doing this will cause Podman in the container to detect that temporary files have been cleared, leading it to assume a system restart has taken place.\nThis can cause Podman to reset container states and lose track of running containers.\n\nFor running containers on the host from inside a container, we also recommend the [Podman remote client](docs/tutorials/remote_client.md), which only requires a single socket to be mounted into the container.\n\n### 14) Rootless 'podman build' fails EPERM on NFS:\n\nNFS enforces file creation on different UIDs on the server side and does not understand user namespace, which rootless Podman requires.\nWhen a container root process like YUM attempts to create a file owned by a different UID, NFS Server denies the creation.\nNFS is also a problem for the file locks when the storage is on it.  Other distributed file systems (for example: Lustre, Spectrum Scale, the General Parallel File System (GPFS)) are also not supported when running in rootless mode as these file systems do not understand user namespace.\n\n#### Symptom\n```console\n$ podman build .\nERRO[0014] Error while applying layer: ApplyLayer exit status 1 stdout:  stderr: open /root/.bash_logout: permission denied\nerror creating build container: Error committing the finished image: error adding layer with blob \"sha256:a02a4930cb5d36f3290eb84f4bfa30668ef2e9fe3a1fb73ec015fc58b9958b17\": ApplyLayer exit status 1 stdout:  stderr: open /root/.bash_logout: permission denied\n```\n\n#### Solution\nChoose one of the following:\n  * Set up containers/storage in a different directory, not on an NFS share.\n    * Create a directory on a local file system.\n    * Edit `~/.config/containers/containers.conf` and point the `volume_path` option to that local directory. (Copy `/usr/share/containers/containers.conf` if `~/.config/containers/containers.conf` does not exist)\n  * Otherwise just run Podman as root, via `sudo podman`\n\n### 15) Rootless 'podman build' fails when using OverlayFS:\n\nThe Overlay file system (OverlayFS) requires the ability to call the `mknod` command when creating whiteout files\nwhen extracting an image.  However, a rootless user does not have the privileges to use `mknod` in this capacity.\n\n#### Symptom\n```console\n$ podman build --storage-driver overlay .\nSTEP 1: FROM docker.io/ubuntu:xenial\nGetting image source signatures\nCopying blob edf72af6d627 done\nCopying blob 3e4f86211d23 done\nCopying blob 8d3eac894db4 done\nCopying blob f7277927d38a done\nCopying config 5e13f8dd4c done\nWriting manifest to image destination\nStoring signatures\nError: creating build container: Error committing the finished image: error adding layer with blob \"sha256:8d3eac894db4dc4154377ad28643dfe6625ff0e54bcfa63e0d04921f1a8ef7f8\": Error processing tar file(exit status 1): operation not permitted\n$ podman build .\nERRO[0014] Error while applying layer: ApplyLayer exit status 1 stdout:  stderr: open /root/.bash_logout: permission denied\nerror creating build container: Error committing the finished image: error adding layer with blob \"sha256:a02a4930cb5d36f3290eb84f4bfa30668ef2e9fe3a1fb73ec015fc58b9958b17\": ApplyLayer exit status 1 stdout:  stderr: open /root/.bash_logout: permission denied\n```\n\n#### Solution\nChoose one of the following:\n  * Complete the build operation as a privileged user.\n  * Install and configure fuse-overlayfs.\n    * Install the fuse-overlayfs package for your Linux Distribution.\n    * Add `mount_program = \"/usr/bin/fuse-overlayfs\"` under `[storage.options]` in your `~/.config/containers/storage.conf` file.\n\n### 16) RHEL 7 and CentOS 7 based `init` images don't work with cgroup v2\n\nThe systemd version shipped in RHEL 7 and CentOS 7 doesn't have support for cgroup v2.  Support for cgroup v2 requires version 230 of systemd or newer, which\nwas never shipped or supported on RHEL 7 or CentOS 7.\n\n#### Symptom\n```console\n# podman run --name test -d registry.access.redhat.com/rhel7-init:latest && sleep 10 && podman exec test systemctl status\nc8567461948439bce72fad3076a91ececfb7b14d469bfa5fbc32c6403185beff\nFailed to get D-Bus connection: Operation not permitted\nError: non zero exit code: 1: OCI runtime error\n```\n\n#### Solution\nYou'll need to either:\n\n* configure the host to use cgroup v1. On Fedora you can do:\n\n```console\n# dnf install -y grubby\n# grubby --update-kernel=ALL --args=”systemd.unified_cgroup_hierarchy=0\"\n# reboot\n```\n\n* update the image to use an updated version of systemd.\n\n### 17) rootless containers exit once the user session exits\n\nYou need to set lingering mode through loginctl to prevent user processes to be killed once\nthe user session completed.\n\n#### Symptom\n\nOnce the user logs out all the containers exit.\n\n#### Solution\n\n```console\n# loginctl enable-linger $UID\n```\n\n### 18) `podman run` fails with \"bpf create: permission denied error\"\n\nThe Kernel Lockdown patches deny eBPF programs when Secure Boot is enabled in the BIOS. [Matthew Garrett's post](https://mjg59.dreamwidth.org/50577.html) describes the relationship between Lockdown and Secure Boot and [Jan-Philip Gehrcke's](https://gehrcke.de/2019/09/running-an-ebpf-program-may-require-lifting-the-kernel-lockdown/) connects this with eBPF. [RH bug 1768125](https://bugzilla.redhat.com/show_bug.cgi?id=1768125) contains some additional details.\n\n#### Symptom\n\nAttempts to run podman result in\n\n```Error: bpf create : Operation not permitted: OCI runtime permission denied error```\n\n#### Solution\n\nOne workaround is to disable Secure Boot in your BIOS.\n\n### 19) error creating libpod runtime: there might not be enough IDs available in the namespace\n\nUnable to pull images\n\n#### Symptom\n\n```console\n$ podman unshare cat /proc/self/uid_map\n\t 0       1000          1\n```\n\n#### Solution\n\n```console\n$ podman system migrate\n```\n\nOriginal command now returns\n\n```console\n$ podman unshare cat /proc/self/uid_map\n\t 0       1000          1\n\t 1     100000      65536\n```\n\nReference [subuid](https://man7.org/linux/man-pages/man5/subuid.5.html) and [subgid](https://man7.org/linux/man-pages/man5/subgid.5.html) man pages for more detail.\n\n### 20) Passed-in devices or files can't be accessed in rootless container\n\nAs a non-root user you have group access rights to a device or files that you\nwant to pass into a rootless container with `--device=...` or `--volume=...`\n\n#### Symptom\n\nAny access inside the container is rejected with \"Permission denied\".\n\n#### Solution\n\nThe runtime uses `setgroups(2)` hence the process loses all additional groups\nthe non-root user has. Use the `--group-add keep-groups` flag to pass the\nuser's supplementary group access into the container. Currently only available\nwith the `crun` OCI runtime.\n\n### 21) A rootless container running in detached mode is closed at logout\n<!-- This is the same as section 17 above and should be deleted -->\n\nWhen running a container with a command like `podman run --detach httpd` as\na rootless user, the container is closed upon logout and is not kept running.\n\n#### Symptom\n\nWhen logging out of a rootless user session, all containers that were started\nin detached mode are stopped and are not kept running.  As the root user, these\nsame containers would survive the logout and continue running.\n\n#### Solution\n\nWhen systemd notes that a session that started a Podman container has exited,\nit will also stop any containers that have been associated with it.  To avoid\nthis, use the following command before logging out: `loginctl enable-linger`.\nTo later revert the linger functionality, use `loginctl disable-linger`.\n\nLOGINCTL(1), SYSTEMD(1)\n\n### 22) Containers default detach keys conflict with shell history navigation\n\nPodman defaults to `ctrl-p,ctrl-q` to detach from a running containers. The\nbash and zsh shells default to `ctrl-p` for the displaying of the previous\ncommand.  This causes issues when running a shell inside of a container.\n\n#### Symptom\n\nWith the default detach key combo ctrl-p,ctrl-q, shell history navigation\n(tested in bash and zsh) using ctrl-p to access the previous command will not\ndisplay this previous command, or anything else.  Conmon is waiting for an\nadditional character to see if the user wants to detach from the container.\nAdding additional characters to the command will cause it to be displayed along\nwith the additional character. If the user types ctrl-p a second time the shell\ndisplay the 2nd to last command.\n\n#### Solution\n\nThe solution to this is to change the default detach_keys. For example in order\nto change the defaults to `ctrl-q,ctrl-q` use the `--detach-keys` option.\n\n```console\n$ podman run -ti --detach-keys ctrl-q,ctrl-q fedora sh\n```\n\nTo make this change the default for all containers, users can modify the\ncontainers.conf file. This can be done simply in your home directory, but adding the\nfollowing lines to users containers.conf\n\n```console\n$ cat >> ~/.config/containers/containers.conf << _eof\n[engine]\ndetach_keys=\"ctrl-q,ctrl-q\"\n_eof\n```\n\nIn order to effect root running containers and all users, modify the system\nwide defaults in `/etc/containers/containers.conf`.\n\n\n### 23) Container with exposed ports won't run in a pod\n\nA container with ports that have been published with the `--publish` or `-p` option\ncan not be run within a pod.\n\n#### Symptom\n\n```console\n$ podman pod create --name srcview -p 127.0.0.1:3434:3434 -p 127.0.0.1:7080:7080 -p 127.0.0.1:3370:3370                        4b2f4611fa2cbd60b3899b936368c2b3f4f0f68bc8e6593416e0ab8ecb0a3f1d\n\n$ podman run --pod srcview --name src-expose -p 3434:3434 -v \"${PWD}:/var/opt/localrepo\":Z,ro sourcegraph/src-expose:latest serve /var/opt/localrepo\nError: cannot set port bindings on an existing container network namespace\n```\n\n#### Solution\n\nThis is a known limitation.  If a container will be run within a pod, it is not necessary\nto publish the port for the containers in the pod. The port must only be published by the\npod itself.  Pod network stacks act like the network stack on the host - you have a\nvariety of containers in the pod, and programs in the container, all sharing a single\ninterface and IP address, and associated ports. If one container binds to a port, no other\ncontainer can use that port within the pod while it is in use. Containers in the pod can\nalso communicate over localhost by having one container bind to localhost in the pod, and\nanother connect to that port.\n\nIn the example from the symptom section, dropping the `-p 3434:3434` would allow the\n`podman run` command to complete, and the container as part of the pod would still have\naccess to that port.  For example:\n\n```console\n$ podman run --pod srcview --name src-expose -v \"${PWD}:/var/opt/localrepo\":Z,ro sourcegraph/src-expose:latest serve /var/opt/localrepo\n```\n\n### 24) Podman container images fail with `fuse: device not found` when run\n\nSome container images require that the fuse kernel module is loaded in the kernel\nbefore they will run with the fuse filesystem in play.\n\n#### Symptom\n\nWhen trying to run the container images found at quay.io/podman, quay.io/containers\nregistry.access.redhat.com/ubi8 or other locations, an error will sometimes be returned:\n\n<!-- this would be better if it showed the command being run, and use ```console markup -->\n```\nERRO error unmounting /var/lib/containers/storage/overlay/30c058cdadc888177361dd14a7ed7edab441c58525b341df321f07bc11440e68/merged: invalid argument\nerror mounting container \"1ae176ca72b3da7c70af31db7434bcf6f94b07dbc0328bc7e4e8fc9579d0dc2e\": error mounting build container \"1ae176ca72b3da7c70af31db7434bcf6f94b07dbc0328bc7e4e8fc9579d0dc2e\": error creating overlay mount to /var/lib/containers/storage/overlay/30c058cdadc888177361dd14a7ed7edab441c58525b341df321f07bc11440e68/merged: using mount program /usr/bin/fuse-overlayfs: fuse: device not found, try 'modprobe fuse' first\nfuse-overlayfs: cannot mount: No such device\n: exit status 1\nERRO exit status 1\n```\n\n#### Solution\n\nIf you encounter a `fuse: device not found` error when running the container image, it is likely that\nthe fuse kernel module has not been loaded on your host system.  Use the command `modprobe fuse` to load the\nmodule and then run the container image afterwards.  To enable this automatically at boot time, you can add a configuration\nfile to `/etc/modules.load.d`.  See `man modules-load.d` for more details.\n\n### 25) podman run --rootfs link/to//read/only/dir does not work\n\nAn error such as \"OCI runtime error\" on a read-only filesystem or the error \"{image} is not an absolute path or is a symlink\" are often times indicators for this issue.  For more details, review this [issue](\nhttps://github.com/containers/podman/issues/5895).\n\n#### Symptom\n\nRootless Podman requires certain files to exist in a file system in order to run.\nPodman will create /etc/resolv.conf, /etc/hosts and other file descriptors on the rootfs in order\nto mount volumes on them.\n\n#### Solution\n\nRun the container once in read/write mode, Podman will generate all of the FDs on the rootfs, and\nfrom that point forward you can run with a read-only rootfs.\n\n```console\n$ podman run --rm --rootfs /path/to/rootfs true\n```\n\nThe command above will create all the missing directories needed to run the container.\n\nAfter that, it can be used in read-only mode, by multiple containers at the same time:\n\n```console\n$ podman run --read-only --rootfs /path/to/rootfs ....\n```\n\nAnother option is to use an Overlay Rootfs Mount:\n\n```console\n$ podman run --rootfs /path/to/rootfs:O ....\n```\n\nModifications to the mount point are destroyed when the container\nfinishes executing, similar to a tmpfs mount point being unmounted.\n\n### 26) Running containers with resource limits fails with a permissions error\n\nOn some systemd-based systems, non-root users do not have resource limit delegation\npermissions. This causes setting resource limits to fail.\n\n#### Symptom\n\nRunning a container with a resource limit options will fail with an error similar to the following:\n\n`--cpus`, `--cpu-period`, `--cpu-quota`, `--cpu-shares`:\n\n    Error: OCI runtime error: crun: the requested cgroup controller `cpu` is not available\n\n`--cpuset-cpus`, `--cpuset-mems`:\n\n    Error: OCI runtime error: crun: the requested cgroup controller `cpuset` is not available\n\nThis means that resource limit delegation is not enabled for the current user.\n\n#### Solution\n\nYou can verify whether resource limit delegation is enabled by running the following command:\n\n```console\n$ cat \"/sys/fs/cgroup/user.slice/user-$(id -u).slice/user@$(id -u).service/cgroup.controllers\"\n```\n\nExample output might be:\n\n    memory pids\n\nIn the above example, `cpu` and `cpuset` are not listed, which means the current user does\nnot have permission to set CPU or CPUSET limits.\n\nIf you want to enable CPU or CPUSET limit delegation for all users, you can create the\nfile `/etc/systemd/system/user@.service.d/delegate.conf` with the contents:\n\n```ini\n[Service]\nDelegate=memory pids cpu cpuset\n```\n\nAfter logging out and logging back in, you should have permission to set\nCPU and CPUSET limits.\n\n### 27) `exec container process '/bin/sh': Exec format error` (or another binary than `bin/sh`)\n\nThis can happen when running a container from an image for another architecture than the one you are running on.\n\nFor example, if a remote repository only has, and thus send you, a `linux/arm64` _OS/ARCH_ but you run on `linux/amd64` (as happened in https://github.com/openMF/community-app/issues/3323 due to https://github.com/timbru31/docker-ruby-node/issues/564).\n\n### 28) `Error: failed to create sshClient: Connection to bastion host (ssh://user@host:22/run/user/.../podman/podman.sock) failed.: ssh: handshake failed: ssh: unable to authenticate, attempted methods [none publickey], no supported methods remain`\n\nIn some situations where the client is not on the same machine as where the podman daemon is running the client key could be using a cipher not supported by the host. This indicates an issue with one's SSH config. Until remedied using podman over ssh\nwith a pre-shared key will be impossible.\n\n#### Symptom\n\nThe accepted ciphers per `/etc/crypto-policies/back-ends/openssh.config` are not one that was used to create the public/private key pair that was transferred over to the host for ssh authentication.\n\nYou can confirm this is the case by attempting to connect to the host via `podman-remote info` from the client and simultaneously on the host running `journalctl -f` and watching for the error `userauth_pubkey: key type ssh-rsa not in PubkeyAcceptedAlgorithms [preauth]`.\n\n#### Solution\n\nCreate a new key using a supported algorithm e.g. ecdsa:\n\n```console\n$ ssh-keygen -t ecdsa -f ~/.ssh/podman\n```\n\nThen copy the new id over:\n\n```console\n$ ssh-copy-id -i ~/.ssh/podman.pub user@host\n```\n\nAnd then re-add the connection (removing the old one if necessary):\n\n```console\n$ podman-remote system connection add myuser --identity ~/.ssh/podman ssh://user@host/run/user/1000/podman/podman.sock\n```\n\nAnd now this should work:\n\n```console\n$ podman-remote info\n```\n\n### 29) Rootless CNI networking fails in RHEL with Podman v2.2.1 to v3.0.1.\n\nA failure is encountered when trying to use networking on a rootless\ncontainer in Podman v2.2.1 through v3.0.1 on RHEL.  This error does not\noccur on other Linux distributions.\n\n#### Symptom\n\nA rootless container is created using a CNI network, but the `podman run` command\nreturns an error that an image must be built.\n\n#### Solution\n\nIn order to use a CNI network in a rootless container on RHEL,\nan Infra container image for CNI-in-slirp4netns must be created.  The\ninstructions for building the Infra container image can be found for\nv2.2.1 [here](https://github.com/containers/podman/tree/v2.2.1-rhel/contrib/rootless-cni-infra),\nand for v3.0.1 [here](https://github.com/containers/podman/tree/v3.0.1-rhel/contrib/rootless-cni-infra).\n\n### 30) Container related firewall rules are lost after reloading firewalld\nContainer network can't be reached after `firewall-cmd --reload` and `systemctl restart firewalld` Running `podman network reload` will fix it but it has to be done manually.\n\n#### Symptom\nThe firewall rules created by podman are lost when the firewall is reloaded.\n\n#### Solution\n[@ranjithrajaram](https://github.com/containers/podman/issues/5431#issuecomment-847758377) has created a systemd-hook to fix this issue\n\n1) For \"firewall-cmd --reload\", create a systemd unit file with the following\n```ini\n[Unit]\nDescription=firewalld reload hook - run a hook script on firewalld reload\nWants=dbus.service\nAfter=dbus.service\n\n[Service]\nType=simple\nExecStart=/bin/bash -c '/bin/busctl monitor --system --match \"interface=org.fedoraproject.FirewallD1,member=Reloaded\" --match \"interface=org.fedoraproject.FirewallD1,member=PropertiesChanged\" | while read -r line ; do podman network reload --all ; done'\n\n[Install]\nWantedBy=default.target\n```\n\n2) For \"systemctl restart firewalld\", create a systemd unit file with the following\n```ini\n[Unit]\nDescription=podman network reload\nWants=firewalld.service\nAfter=firewalld.service\nPartOf=firewalld.service\n\n[Service]\nType=simple\nRemainAfterExit=yes\nExecStart=/usr/bin/podman network reload --all\n\n[Install]\nWantedBy=default.target\n```\n\nHowever, If you use busctl monitor then you can't get machine-readable output on RHEL 8.\nSince it doesn't have `busctl -j` as mentioned here by [@yrro](https://github.com/containers/podman/issues/5431#issuecomment-896943018).\n\nFor RHEL 8, you can use the following one-liner bash script.\n```ini\n[Unit]\nDescription=Redo podman NAT rules after firewalld starts or reloads\nWants=dbus.service\nAfter=dbus.service\nRequires=firewalld.service\n\n[Service]\nType=simple\nExecStart=/bin/bash -c \"dbus-monitor --profile --system 'type=signal,sender=org.freedesktop.DBus,path=/org/freedesktop/DBus,interface=org.freedesktop.DBus,member=NameAcquired,arg0=org.fedoraproject.FirewallD1' 'type=signal,path=/org/fedoraproject/FirewallD1,interface=org.fedoraproject.FirewallD1,member=Reloaded' | sed -u '/^#/d' | while read -r type timestamp serial sender destination path interface member _junk; do if [[ $type = '#'* ]]; then continue; elif [[ $interface = org.freedesktop.DBus && $member = NameAcquired ]]; then echo 'firewalld started'; podman network reload --all; elif [[ $interface = org.fedoraproject.FirewallD1 && $member = Reloaded ]]; then echo 'firewalld reloaded'; podman network reload --all; fi; done\"\nRestart=Always\n\n[Install]\nWantedBy=default.target\n```\n`busctl-monitor` is almost usable in RHEL 8, except that it always outputs two bogus events when it starts up,\none of which is (in its only machine-readable format) indistinguishable from the `NameOwnerChanged` that you get when firewalld starts up.\nThis means you would get an extra `podman network reload --all` when this unit starts.\n\nApart from this, you can use the following systemd service with the python3 code.\n\n```ini\n[Unit]\nDescription=Redo podman NAT rules after firewalld starts or reloads\nWants=dbus.service\nRequires=firewalld.service\nAfter=dbus.service\n\n[Service]\nType=simple\nExecStart=/usr/bin/python  /path/to/python/code/podman-redo-nat.py\nRestart=always\n\n[Install]\nWantedBy=default.target\n```\nThe code reloads podman network twice when you use `systemctl restart firewalld`.\n```python3\nimport dbus\nfrom gi.repository import GLib\nfrom dbus.mainloop.glib import DBusGMainLoop\nimport subprocess\nimport sys\n\n# I'm a bit confused on the return values in the code\n# Not sure if they are needed.\n\ndef reload_podman_network():\n    try:\n        subprocess.run([\"podman\",\"network\",\"reload\",\"--all\"],timeout=90)\n        # I'm not sure about this part\n        sys.stdout.write(\"podman network reload done\\n\")\n        sys.stdout.flush()\n    except subprocess.TimeoutExpired as t:\n        sys.stderr.write(f\"Podman reload failed due to Timeout {t}\")\n    except subprocess.CalledProcessError as e:\n        sys.stderr.write(f\"Podman reload failed due to {e}\")\n    except Exception as e:\n        sys.stderr.write(f\"Podman reload failed with an Unhandled Exception {e}\")\n\n    return False\n\ndef signal_handler(*args, **kwargs):\n    if kwargs.get('member') == \"Reloaded\":\n        reload_podman_network()\n    elif kwargs.get('member') == \"NameOwnerChanged\":\n        reload_podman_network()\n    else:\n        return None\n    return None\n\ndef signal_listener():\n    try:\n        DBusGMainLoop(set_as_default=True)# Define the loop.\n        loop = GLib.MainLoop()\n        system_bus = dbus.SystemBus()\n        # Listens to systemctl restart firewalld with a filter added, will cause podman network to be reloaded twice\n        system_bus.add_signal_receiver(signal_handler,dbus_interface='org.freedesktop.DBus',arg0='org.fedoraproject.FirewallD1',member_keyword='member')\n        # Listens to firewall-cmd --reload\n        system_bus.add_signal_receiver(signal_handler,dbus_interface='org.fedoraproject.FirewallD1',signal_name='Reloaded',member_keyword='member')\n        loop.run()\n    except KeyboardInterrupt:\n        loop.quit()\n        sys.exit(0)\n    except Exception as e:\n        loop.quit()\n        sys.stderr.write(f\"Error occurred {e}\")\n        sys.exit(1)\n\nif __name__ == \"__main__\":\n    signal_listener()\n```\n\n### 31) Podman run fails with `ERRO[0000] XDG_RUNTIME_DIR directory \"/run/user/0\" is not owned by the current user` or `Error: creating tmpdir: mkdir /run/user/1000: permission denied`.\n\nA failure is encountered when performing `podman run` with a warning `XDG_RUNTIME_DIR is pointing to a path which is not writable. Most likely podman will fail.`\n\n#### Symptom\n\nA rootless container is being invoked with cgroup configuration as `cgroupv2` for user with missing or invalid **systemd session**.\n\nExample cases\n```console\n# su user1 -c 'podman images'\nERRO[0000] XDG_RUNTIME_DIR directory \"/run/user/0\" is not owned by the current user\n```\n```console\n# su - user1 -c 'podman images'\nError: creating tmpdir: mkdir /run/user/1000: permission denied\n```\n\n#### Solution\n\nPodman expects a valid login session for the `rootless+cgroupv2` use-case. Podman execution is expected to fail if the login session is not present. In most cases, podman will figure out a solution on its own but if `XDG_RUNTIME_DIR` is pointing to a path that is not writable execution will most likely fail. Typical scenarios of such cases are seen when users are trying to use Podman with `su - <user> -c '<podman-command>'`, or `sudo -l` and badly configured systemd session.\n\nAlternatives:\n\n* Execute Podman via __systemd-run__ that will first start a systemd login session:\n\n  ```console\n  $ sudo systemd-run --machine=username@ --quiet --user --collect --pipe --wait podman run --rm docker.io/library/alpine echo hello\n  ```\n* Start an interactive shell in a systemd login session with the command `machinectl shell <username>@`\n  and then run Podman\n\n  ```console\n  $ sudo -i\n  # machinectl shell username@\n  Connected to the local host. Press ^] three times within 1s to exit session.\n  $ podman run --rm docker.io/library/alpine echo hello\n  ```\n* Start a new systemd login session by logging in with `ssh` i.e. `ssh <username>@localhost` and then run Podman.\n\n* Before invoking Podman command create a valid login session for your rootless user using `loginctl enable-linger <username>`\n\n### 32) 127.0.0.1:7777 port already bound\n\nAfter deleting a VM on macOS, the initialization of subsequent VMs fails.\n\n#### Symptom\n\nAfter deleting a client VM on macOS via `podman machine stop` && `podman machine rm`, attempting to `podman machine init` a new client VM leads to an error with the 127.0.0.1:7777 port already bound.\n\n#### Solution\n\nYou will need to remove the hanging gv-proxy process bound to the port in question. For example, if the port mentioned in the error message is 127.0.0.1:7777, you can use the command `kill -9 $(lsof -i:7777)` in order to identify and remove the hanging process which prevents you from starting a new VM on that default port.\n\n### 33) The sshd process fails to run inside of the container.\n\n#### Symptom\n\nThe sshd process running inside the container fails with the error\n\"Error writing /proc/self/loginuid\".\n\n### Solution\n\nIf the `/proc/self/loginuid` file is already initialized then the\n`CAP_AUDIT_CONTROL` capability is required to override it.\n\nThis happens when running Podman from a user session since the\n`/proc/self/loginuid` file is already initialized.  The solution is to\nrun Podman from a system service, either using the Podman service, and\nthen using podman -remote to start the container or simply by running\nsomething like `systemd-run podman run ...`.  In this case the\ncontainer will only need `CAP_AUDIT_WRITE`.\n\n### 34) Container creates a file that is not owned by the user's regular UID\n\nAfter running a container with rootless Podman, the non-root user sees a numerical UID and GID instead of a username and groupname.\n\n#### Symptom\n\nWhen listing file permissions with `ls -l` on the host in a directory that was passed as `--volume /some/dir` to `podman run`,\nthe UID and GID are displayed rather than the corresponding username and groupname. The UID and GID numbers displayed are\nfrom the user's subordinate UID and GID ranges on the host system.\n\nAn example\n\n```console\n$ mkdir dir1\n$ chmod 777 dir1\n$ podman run --rm -v ./dir1:/dir1:Z \\\n             --user 2003:2003 \\\n             docker.io/library/ubuntu bash -c \"touch /dir1/a; chmod 600 /dir1/a\"\n$ ls -l dir1/a\n-rw-------. 1 102002 102002 0 Jan 19 19:35 dir1/a\n$ less dir1/a\nless: dir1/a: Permission denied\n```\n\n#### Solution\n\nIf you want to read, chown, or remove such a file, enter a user\nnamespace. Instead of running commands such as `less dir1/a` or `rm dir1/a`, you\nneed to prepend the command-line with `podman unshare`, i.e.,\n`podman unshare less dir1/a` or `podman unshare rm dir1/a`. To change the ownership\nof the file `dir1/a` to your regular user's UID and GID, run `podman unshare chown 0:0 dir1/a`.\nA file having the ownership `0:0` in the user namespace is owned by the regular\nuser on the host. To use Bash features, such as variable expansion and\nglobbing, you need to wrap the command with `bash -c`, e.g.\n`podman unshare bash -c 'ls $HOME/dir1/a*'`.\n\nWould it have been possible to run Podman in another way so that your regular\nuser would have become the owner of the file? Yes, you can use the option\n`--userns keep-id:uid=$uid,gid=$gid` to change how UIDs and GIDs are mapped\nbetween the container and the host. Let's try it out.\n\nIn the example above `ls -l` shows the UID 102002 and GID 102002. Set shell variables\n\n```console\n$ uid_from_ls=102002\n$ gid_from_ls=102002\n```\n\nSet shell variables to the lowest subordinate UID and GID\n\n```console\n$ lowest_subuid=$(podman info --format \"{{ (index .Host.IDMappings.UIDMap 1).HostID }}\")\n$ lowest_subgid=$(podman info --format \"{{ (index .Host.IDMappings.GIDMap 1).HostID }}\")\n```\n\nCompute the UID and GID inside the container that map to the owner of the created file on the host.\n\n```console\n$ uid=$(( $uid_from_ls - $lowest_subuid + 1))\n$ gid=$(( $gid_from_ls - $lowest_subgid + 1))\n```\n(In the computation it was assumed that there is only one subuid range and one subgid range)\n\n```console\n$ echo $uid\n2003\n$ echo $gid\n2003\n```\n\nThe computation shows that the UID is `2003` and the GID is `2003` inside the container.\nThis comes as no surprise as this is what was specified before with `--user=2003:2003`,\nbut the same computation could be used whenever a username is specified\nor the `--user` option is not used.\n\nRun the container again but now with UIDs and GIDs mapped\n\n```console\n$ mkdir dir1\n$ chmod 777 dir1\n$ podman run --rm\n  -v ./dir1:/dir1:Z \\\n  --user $uid:$gid \\\n  --userns keep-id:uid=$uid,gid=$gid \\\n     docker.io/library/ubuntu bash -c \"touch /dir1/a; chmod 600 /dir1/a\"\n$ id -u\ntester\n$ id -g\ntester\n$ ls -l dir1/a\n-rw-------. 1 tester tester 0 Jan 19 20:31 dir1/a\n$\n```\n\nIn this example the `--user` option specified a rootless user in the container.\nAs the rootless user could also have been specified in the container image, e.g.\n\n```console\n$ podman image inspect --format \"user: {{.User}}\" IMAGE\nuser: hpc\n```\nthe same problem could also occur even without specifying `--user`.\n\nAnother variant of the same problem could occur when using\n`--user=root:root` (the default), but where the root user creates non-root owned files\nin some way (e.g by creating them themselves, or switching the effective UID to\na rootless user and then creates files).\n\nSee also the troubleshooting tip:\n\n[_Podman run fails with \"Error: unrecognized namespace mode keep-id:uid=1000,gid=1000 passed\"_](#39-podman-run-fails-with-error-unrecognized-namespace-mode-keep-iduid1000gid1000-passed)\n\n### 35) Passed-in devices or files can't be accessed in rootless container (UID/GID mapping problem)\n\nAs a non-root user you have access rights to devices, files and directories that you\nwant to pass into a rootless container with `--device=...`, `--volume=...` or `--mount=..`.\n\nPodman by default maps a non-root user inside a container to one of the user's\nsubordinate UIDs and subordinate GIDs on the host. When the container user tries to access a\nfile, a \"Permission denied\" error could occur because the container user does not have the\npermissions of the regular user of the host.\n\n#### Symptom\n\n* Any access inside the container is rejected with \"Permission denied\"\nfor files, directories or devices passed in to the container\nwith `--device=..`,`--volume=..` or `--mount=..`, e.g.\n\n```console\n$ mkdir dir1\n$ chmod 700 dir1\n$ podman run --rm -v ./dir1:/dir1:Z \\\n             --user 2003:2003 \\\n             docker.io/library/ubuntu ls /dir1\nls: cannot open directory '/dir1': Permission denied\n```\n\n#### Solution\n\nWe follow essentially the same solution as in the previous\ntroubleshooting tip:\n\n[_Container creates a file that is not owned by the user's regular UID_](#34-container-creates-a-file-that-is-not-owned-by-the-users-regular-uid)\n\nbut for this problem the container UID and GID can't be as\neasily computed by mere addition and subtraction.\n\nIn other words, it might be more challenging to find out the UID and\nthe GID inside the container that we want to map to the regular\nuser on the host.\n\nIf the `--user` option is used together with a numerical UID and GID\nto specify a rootless user, we already know the answer.\n\nIf the `--user` option is used together with a username and groupname,\nwe could look up the UID and GID in the file `/etc/passwd` of the container.\n\nIf the container user is not set via `--user` but instead from the\ncontainer image, we could inspect the container image\n\n```console\n$ podman image inspect --format \"user: {{.User}}\" IMAGE\nuser: hpc\n```\n\nand then look it up in `/etc/passwd` of the container.\n\nIf the problem occurs in a container that is started to run as root but later\nswitches to an effictive UID of a rootless user, it might be less\nstraightforward to find out the UID and the GID. Reading the\n`Containerfile`, `Dockerfile` or the `/etc/passwd` could give a clue.\n\nTo run the container with the rootless container UID and GID mapped to the\nuser's regular UID and GID on the host follow these steps:\n\nSet the `uid` and `gid` shell variables in a Bash shell to the UID and GID\nof the user that will be running inside the container, e.g.\n\n```console\n$ uid=2003\n$ gid=2003\n```\n\nand run\n\n```console\n$ mkdir dir1\n$ echo hello > dir1/file.txt\n$ chmod 700 dir1/file.txt\n$ podman run --rm \\\n  -v ./dir1:/dir1:Z \\\n  --user $uid:$gid \\\n  --userns keep-id:uid=$uid,gid=$gid \\\n  docker.io/library/alpine cat /dir1/file.txt\nhello\n```\n\nSee also the troubleshooting tip:\n\n[_Podman run fails with \"Error: unrecognized namespace mode keep-id:uid=1000,gid=1000 passed\"_](#39-podman-run-fails-with-error-unrecognized-namespace-mode-keep-iduid1000gid1000-passed)\n\n### 36) Images in the additional stores can be deleted even if there are containers using them\n\nWhen an image in an additional store is used, it is not locked thus it\ncan be deleted even if there are containers using it.\n\n#### Symptom\n\nWARN[0000] Can't stat lower layer \"/var/lib/containers/storage/overlay/l/7HS76F2P5N73FDUKUQAOJA3WI5\" because it does not exist. Going through storage to recreate the missing symlinks.\n\n#### Solution\n\nIt is the user responsibility to make sure images in an additional\nstore are not deleted while being used by containers in another\nstore.\n\n### 37) Syncing bugfixes for podman-remote or setups using Podman API\n\nAfter upgrading Podman to a newer version an issue with the earlier version of Podman still presents itself while using podman-remote.\n\n#### Symptom\n\nWhile running podman remote commands with the most updated Podman, issues that were fixed in a prior version of Podman can arise either on the Podman client side or the Podman server side.\n\n#### Solution\n\nWhen upgrading Podman to a particular version for the required fixes, users often make the mistake of only upgrading the Podman client. However, suppose a setup uses `podman-remote` or uses a client that communicates with the Podman server on a remote machine via the REST API. In that case, it is required to upgrade both the Podman client and the Podman server running on the remote machine. Both the Podman client and server must be upgraded to the same version.\n\nExample: If a particular bug was fixed in `v4.1.0` then the Podman client must have version `v4.1.0` as well the Podman server must have version `v4.1.0`.\n\n### 38) Unexpected carriage returns are outputted on the terminal\n\nWhen using the __--tty__ (__-t__) flag, unexpected carriage returns are outputted on the terminal.\n\n#### Symptom\n\nThe container program prints a newline (`\\n`) but the terminal outputs a carriage return and a newline (`\\r\\n`).\n\n```\n$ podman run --rm -t fedora echo abc | od -c\n0000000   a   b   c  \\r  \\n\n0000005\n```\n\nWhen run directly on the host, the result is as expected.\n\n```\n$ echo abc | od -c\n0000000   a   b   c  \\n\n0000004\n```\n\nExtra carriage returns can also shift the prompt to the right.\n\n```\n$ podman run --rm -t fedora sh -c \"echo 1; echo 2; echo 3\" | cat -A\n1^M$\n    2^M$\n        3^M$\n            $\n```\n\n#### Solution\n\nRun Podman without the __--tty__ (__-t__) flag.\n\n```\n$ podman run --rm fedora echo abc | od -c\n0000000   a   b   c  \\n\n0000004\n```\n\nThe __--tty__ (__-t__) flag should only be used when the program requires user interaction in the termainal, for instance expecting\nthe user to type an answer to a question.\n\nWhere does the extra carriage return `\\r` come from?\n\nThe extra `\\r` is not outputted by Podman but by the terminal. In fact, a reconfiguration of the terminal can make the extra `\\r` go away.\n\n```\n$ podman run --rm -t fedora /bin/sh -c \"stty -onlcr && echo abc\" | od -c\n0000000   a   b   c  \\n\n0000004\n```\n\n### 39) Podman run fails with \"Error: unrecognized namespace mode keep-id:uid=1000,gid=1000 passed\"\n\nPodman 4.3.0 introduced the options _uid_ and _gid_ that can be given to `--userns keep-id` which are not recognized by older versions of Podman.\n\n#### Symptom\n\nWhen using a Podman version older than 4.3.0, the options _uid_ and _gid_ are not recognized, and an \"unrecognized namespace mode\" error is raised.\n\n```\n$ uid=1000\n$ gid=1000\n$ podman run --rm\n  --user $uid:$gid \\\n  --userns keep-id:uid=$uid,gid=$gid \\\n     docker.io/library/ubuntu /bin/cat /proc/self/uid_map\nError: unrecognized namespace mode keep-id:uid=1000,gid=1000 passed\n$\n```\n\n#### Solution\n\nUse __--uidmap__ and __--gidmap__ options to describe the same UID and GID mapping.\n\nRun\n\n```\n$ uid=1000\n$ gid=1000\n$ subuidSize=$(( $(podman info --format \"{{ range \\\n   .Host.IDMappings.UIDMap }}+{{.Size }}{{end }}\" ) - 1 ))\n$ subgidSize=$(( $(podman info --format \"{{ range \\\n   .Host.IDMappings.GIDMap }}+{{.Size }}{{end }}\" ) - 1 ))\n$ podman run --rm \\\n  --user $uid:$gid \\\n  --uidmap 0:1:$uid \\\n  --uidmap $uid:0:1 \\\n  --uidmap $(($uid+1)):$(($uid+1)):$(($subuidSize-$uid)) \\\n  --gidmap 0:1:$gid \\\n  --gidmap $gid:0:1 \\\n  --gidmap $(($gid+1)):$(($gid+1)):$(($subgidSize-$gid)) \\\n     docker.io/library/ubuntu /bin/cat /proc/self/uid_map\n         0          1       1000\n      1000          0          1\n      1001       1001      64536\n```\n\nwhich uses the same UID and GID mapping as when specifying\n`--userns keep-id:uid=$uid,gid=$gid` with Podman 4.3.0 (or greater)\n\n```\n$ uid=1000\n$ gid=1000\n$ podman run --rm \\\n  --user $uid:$gid \\\n  --userns keep-id:uid=$uid,gid=$gid \\\n     docker.io/library/ubuntu /bin/cat /proc/self/uid_map\n         0          1       1000\n      1000          0          1\n      1001       1001      64536\n```\n\nReplace `/bin/cat /proc/self/uid_map` with\n`/bin/cat /proc/self/gid_map` to show the GID mapping.\n\n### 40) Podman fails to find expected image with \"error locating pulled image\", \"image not known\"\n\nWhen trying to do a Podman command that pulls an image from local storage or a remote repository,\nan error is raised saying \"image not known\" or \"error locating pulled image\".  Even though the image\nhad been verified before the Podman command was invoked.\n\n#### Symptom\n\nAfter verifying that an image is in place either locally or on a remote repository, a Podman command\nreferencing that image will fail in a manner like:\n```\n# ls Containerfile\nFROM registry.access.redhat.com/ubi8-minimal:latest\nMAINTAINER Podman Community\nUSER root\n\n# podman build .\nSTEP 1/2: FROM registry.access.redhat.com/ubi8-minimal\nTrying to pull registry.access.redhat.com/ubi8-minimal:latest...\nGetting image source signatures\nChecking if image destination supports signatures\nCopying blob a6577091999b done\nCopying config abb1ba1bce done\nWriting manifest to image destination\nStoring signatures\nError: error creating build container: error locating pulled image \"registry.access.redhat.com/ubi8-minimal:latest\" name in containers storage: registry.access.redhat.com/ubi8-minimal:latest: image not known\n```\n\n#### Solution\nThe general cause for this is a timing issue.  To make Podman commands as\nefficient as possible, read and write locks are only established for critical\nsections within the code.  When pulling an image from a repository, a copy of\nthat image is first written to local storage using a write lock.  This lock is\nreleased before the image is then acquired/read.  If another process does a\nharmful command such as `podman system prune --all` or `podman system reset`\nor `podman rmi --all`, between the time the image is written and before the\nfirst process can acquire it, this type of `image not known` error can arise.\n\nThe maintainers of Podman have considered heavier-duty locks to close this\ntiming window. However, the slowdown that all Podman commands would encounter\nwas not considered worth the cost of completely closing this small timing window.\n\n### 41) A podman build step with `--mount=type=secret` fails with \"operation not permitted\"\n\nExecuting a step in a `Dockerfile`/`Containerfile` which mounts secrets using `--mount=type=secret` fails with \"operation not permitted\" when running on a host filesystem mounted with `nosuid` and when using the `runc` runtime.\n\n#### Symptom\n\nA `RUN` line in the `Dockerfile`/`Containerfile` contains a [secret mount](https://github.com/containers/common/blob/main/docs/Containerfile.5.md) such as `--mount=type=secret,id=MY_USER,target=/etc/dnf/vars/MY_USER`.\nWhen running `podman build` the process fails with an error message like:\n\n```\nSTEP 3/13: RUN --mount=type=secret,id=MY_USER,target=/etc/dnf/vars/MY_USER     --mount=type=secret,id=MY_USER,target=/etc/dnf/vars/MY_USER     ...: time=\"2023-06-13T18:04:59+02:00\" level=error msg=\"runc create failed: unable to start container process: error during container init: error mounting \\\"/var/tmp/buildah2251989386/mnt/buildah-bind-target-11\\\" to rootfs at \\\"/etc/dnf/vars/MY_USER\\\": mount /var/tmp/buildah2251989386/mnt/buildah-bind-target-11:/etc/dnf/vars/MY_USER (via /proc/self/fd/7), flags: 0x1021: operation not permitted\"\n: exit status 1\nERRO[0002] did not get container create message from subprocess: EOF\n```\n\n#### Solution\n\n* Install `crun`, e.g. with `dnf install crun`.\n* Use the `crun` runtime by passing `--runtime /usr/bin/crun` to `podman build`.\n\nSee also [Buildah issue 4228](https://github.com/containers/buildah/issues/4228) for a full discussion of the problem.\n\n### 42) podman-in-podman builds that are file I/0 intensive are very slow\n\nWhen using the `overlay` storage driver to do a nested `podman build` inside a running container, file I/O operations such as `COPY` of a large amount of data is very slow or can hang completely.\n\n#### Symptom\n\nUsing the default `overlay` storage driver, a `COPY`, `ADD`, or an I/O intensive `RUN` line in a `Containerfile` that is run inside another container is very slow or hangs completely when running a `podman build` inside the running parent container.\n\n#### Solution\n\nThis could be caused by the child container using `fuse-overlayfs` for writing to `/var/lib/containers/storage`. Writes can be slow with `fuse-overlayfs`. The solution is to use the native `overlay` filesystem by using a local directory on the host system as a volume to `/var/lib/containers/storage` like so: `podman run --privileged --rm -it -v ./nested_storage:/var/lib/containers/storage parent:latest`. Ensure that the base image of `parent:latest` in this example has no contents in `/var/lib/containers/storage` in the image itself for this to work. Once using the native volume, the nested container should not fall back to `fuse-overlayfs` to write files and the nested build will complete much faster.\n\nIf you don't have access to the parent run process, such as in a CI environment, then the second option is to change the storage driver to `vfs` in the parent image by changing changing this line in your `storage.conf` file: `driver = \"vfs\"`. You may have to run `podman system reset` for this to take effect. You know it's changed when `podman info |grep graphDriverName` outputs `graphDriverName: vfs`. This method is slower performance than using the volume method above but is significantly faster than `fuse-overlayfs`\n\n### 43) `podman run --userns=auto` fails with \"Error: creating container storage: not enough unused IDs in user namespace\"\n\nUsing `--userns=auto` when creating new containers does not work as long as any containers exist that were created with `--userns=keep-id` or `--userns=nomap`\n\n#### Symptom\n\n1. Run with `--userns=auto`\n   ```\n   $ podman run --rm -d --userns=auto alpine sleep 3600\n   ```\n   The command succeeds.\n2. Run with `--userns=auto`\n   ```\n   $ podman run --rm -d --userns=auto alpine sleep 3600\n   ```\n   The command succeeds.\n3. Run with `--userns=keep-id`\n   ```\n   $ podman run --rm -d --userns=keep-id alpine sleep 3600\n   ```\n   The command succeeds.\n4. Run with `--userns=auto`\n   ```\n   $ podman run --rm -d --userns=auto alpine sleep 3600\n   ```\n   The command fails with the error message\n   ```\n   Error: creating container storage: not enough unused IDs in user namespace\n   ```\n\n#### Solution\n\nAny existing containers that were created using `--userns=keep-id` or `--userns=nomap` must first be deleted before any new container can be created with `--userns=auto`\n\n### 44) `sudo podman run --userns=auto` fails with `Cannot find mappings for user \"containers\"`\n\nWhen rootful podman is invoked with `--userns=auto`, podman needs to\npick subranges of subuids and subgids for the user namespace of the container.\nRootful podman ensures that the subuid and subgid ranges for such containers\ndo not overlap, but how can rootful podman prevent other tools\nfrom accidentally using these IDs?\n\nIt's not possible to block other tools that are running as root from using these IDs,\nbut such tools would normally not use subuids and subgids that have already\nbeen assigned to a user in _/etc/subuid_ and _/etc/subgid_.\n\nThe username _containers_ on the host has a special function for rootful Podman.\nRootful podman uses the subuids and subgids of the user _containers_ when\nrunning `--userns=auto` containers. The user _containers_ has no need for these\nsubuids and subgids because no processes should be started as the user _containers_.\nIn other words, the user _containers_ is a special user that only exists on the system\nto reserve _subuids_ and _subgids_ for rootful podman.\n\n_containers_ is the default username but it can be changed by setting the\noption `root-auto-userns-user` in the file _/etc/containers/storage.conf_\n\n#### Symptom\n\nRun rootful podman with `--userns=auto`\n```\nsudo podman run --rm --userns=auto alpine echo hello\n```\nThe command fails with the error message:\n```\nERRO[0000] Cannot find mappings for user \"containers\": no subuid ranges found for user \"containers\" in /etc/subuid\nError: creating container storage: not enough unused IDs in user namespace\n```\n\nThe files _/etc/subuid_ and _/etc/subgid_ do not have any lines that start with `containers:`\n\n#### Solution\n\nAdd subuid and subgid ranges for the user _containers_ in _/etc/subuid_ and _/etc/subgid_\nor provide such ranges with _/etc/nsswitch.conf_.\nFor details, see [subid(5)](https://man7.org/linux/man-pages/man5/subuid.5.html).\n\nThe following steps create the user _containers_ and assigns big subuid and subgid ranges to it:\n\n1. Create the user _containers_\n   ```\n   sudo useradd --comment \"Helper user to reserve subuids and subgids for Podman\" \\\n                --no-create-home \\\n                --shell /usr/sbin/nologin \\\n                containers\n   ```\n2. Check the subuid and subgid ranges of the user _containers_\n   ```\n   $ grep ^containers: /etc/subuid\n   containers:720896:65536\n   $ grep ^containers: /etc/subgid\n   containers:720896:65536\n   ```\n   By default __useradd__ assigns 65536 subuids and 65536 subgids to a new user.\n   Typically you would like the reserved pool to be bigger than that. The bigger\n   the size, the more containers could be started with `sudo podman run --userns=auto ...`\n3. Edit the line for the user _containers_ in the files  _/etc/subuid_ and _/etc/subgid_\n   to make the ranges bigger. Ensure that the subuid range of the user _containers_ do\n   not overlap with any other subuid ranges in the files _/etc/subuid_. Ensure that the\n   subgid range of the user _containers_ do not overlap with any other subgid ranges in\n   the files _/etc/subgid_.\n\nTest the echo command again\n\n```\nsudo podman run --rm --userns=auto alpine echo hello\n```\n\nThe command succeeds and prints `hello`\n"
        },
        {
          "name": "utils",
          "type": "tree",
          "content": null
        },
        {
          "name": "vendor",
          "type": "tree",
          "content": null
        },
        {
          "name": "version",
          "type": "tree",
          "content": null
        },
        {
          "name": "winmake.ps1",
          "type": "blob",
          "size": 10.9892578125,
          "content": "\n#!/usr/bin/env powershell\n\n. ./contrib/cirrus/win-lib.ps1\n\n# Targets\nfunction Podman-Remote{\n    New-Item -ItemType Directory -Force -Path \"./bin/windows\"\n\n    $buildInfo = Get-Date -UFormat %s -Millisecond 0\n    $buildInfo = \"-X github.com/containers/podman/v5/libpod/define.buildInfo=$buildInfo \"\n    $commit = Git-Commit\n    $commit = \"-X github.com/containers/podman/v5/libpod/define.gitCommit=$commit \"\n\n    Run-Command \"go build --ldflags `\"$commit $buildInfo `\" --tags `\"$remotetags`\" --o ./bin/windows/podman.exe ./cmd/podman/.\"\n}\n\nfunction Make-Clean{\n     Remove-Item ./bin -Recurse -Force -Confirm:$false\n}\n\nfunction Local-Machine {\n    param (\n    [string]$files\n    );\n    Build-Ginkgo\n    if ($files) {\n         $files = \" --focus-file $files \"\n    }\n\n    Run-Command \"./test/tools/build/ginkgo.exe -vv  --tags `\"$remotetags`\" -timeout=90m --trace --no-color $files pkg/machine/e2e/.\"\n}\n\n# Expect starting directory to be /podman\nfunction Win-SSHProxy {\n    param (\n        [string]$Version\n    );\n\n    New-Item -ItemType Directory -Force -Path \"./bin/windows\"\n    if (-Not $Version) {\n        $Version = \"v0.7.2\"\n    }\n    curl.exe -sSL -o \"./bin/windows/gvproxy.exe\" --retry 5 \"https://github.com/containers/gvisor-tap-vsock/releases/download/$Version/gvproxy-windowsgui.exe\"\n    curl.exe -sSL -o \"./bin/windows/win-sshproxy.exe\" --retry 5 \"https://github.com/containers/gvisor-tap-vsock/releases/download/$Version/win-sshproxy.exe\"\n}\n\nfunction Installer{\n    param (\n        [string]$version,\n        [string]$suffix = \"dev\"\n    );\n    Write-Host \"Building the windows installer\"\n\n    # Check for the files to include in the installer\n    $requiredArtifacts = @(\n        \"$PSScriptRoot\\bin\\windows\\podman.exe\"\n        \"$PSScriptRoot\\bin\\windows\\gvproxy.exe\"\n        \"$PSScriptRoot\\bin\\windows\\win-sshproxy.exe\"\n        \"$PSScriptRoot\\docs\\build\\remote\\podman-for-windows.html\"\n    )\n    $requiredArtifacts | ForEach-Object {\n        if (!(Test-Path -Path $PSItem -PathType Leaf)) {\n            Write-Host \"$PSItem not found.\"\n            Write-Host \"Make 'podman', 'win-gvproxy' and 'docs' before making the installer:\"\n            Write-Host \"   .\\winmake.ps1 podman-remote\"\n            Write-Host \"   .\\winmake.ps1 win-gvproxy\"\n            Write-Host \"   .\\winmake.ps1 docs\"\n            Exit 1\n        }\n    }\n\n    # Create the ZIP file with the full client distribution\n    $zipFileDest = \"$PSScriptRoot\\contrib\\win-installer\\current\"\n    Build-Distribution-Zip-File -destinationPath $zipFileDest\n\n    if (-Not $version) {\n        # Get Podman version from local source code\n        $version = Get-Podman-Version\n    }\n\n    # Run \\contrib\\win-installer\\build.ps1\n    Push-Location $PSScriptRoot\\contrib\\win-installer\n    Run-Command \".\\build.ps1 $version $suffix `\"$zipFileDest`\"\"\n    Pop-Location\n}\n\nfunction Test-Installer{\n    param (\n        [string]$version,\n        [ValidateSet(\"dev\", \"prod\")]\n        [string]$flavor = \"dev\",\n        [ValidateSet(\"wsl\", \"hyperv\")]\n        [string]$provider = \"wsl\"\n    );\n\n    if (-Not $version) {\n        # Get Podman version from local source code\n        $version = Get-Podman-Version\n    }\n\n    if ($flavor -eq \"prod\") {\n        $suffix = \"\"\n    } else {\n        $suffix = \"-dev\"\n    }\n\n    $setupExePath = \"$PSScriptRoot\\contrib\\win-installer\\podman-${version}${suffix}-setup.exe\"\n    if (!(Test-Path -Path $setupExePath -PathType Leaf)) {\n        Write-Host \"Setup executable not found in path $setupExePath.\"\n        Write-Host \"Make 'installer' before making the installer test:\"\n        Write-Host \"   .\\winmake.ps1 installer\"\n        Exit 1\n    }\n\n    $command = \"$PSScriptRoot\\contrib\\win-installer\\test-installer.ps1\"\n    $command += \" -scenario all\"\n    $command += \" -provider $provider\"\n    $command += \" -setupExePath $setupExePath\"\n    Run-Command \"${command}\"\n}\n\nfunction Documentation{\n    Write-Host \"Generating the documentation artifacts\"\n    # Check that pandoc is installed\n    if (!(Get-Command -Name \"pandoc\" -ErrorAction SilentlyContinue)) {\n        Write-Host \"Pandoc not found. Pandoc is required to convert the documentation Markdown files into HTML files.\"\n        Exit 1\n    }\n    # Check that the podman client is built\n    $podmanClient = \"$PSScriptRoot\\bin\\windows\\podman.exe\"\n    if (!(Test-Path -Path $podmanClient -PathType Leaf)) {\n        Write-Host \"$podmanClient not found. Make 'podman-remote' before 'documentation'.\"\n        Exit 1\n    }\n    Run-Command \"$PSScriptRoot\\docs\\make.ps1 $podmanClient\"\n}\n\nfunction Validate{\n    $podmanExecutable = \"podman\"\n    $podmanSrcVolumeMount = \"${PSScriptRoot}:/go/src/github.com/containers/podman\"\n    # All files bind mounted from a Windows host are marked as executable.\n    # That makes the pre-commit hook \"check-executables-have-shebangs\" fail.\n    # Setting the environment variable \"SKIP=check-executables-have-shebangs\"\n    # allow to skip that pre-commit hook.\n    $podmanEnvVariable = \"-e SKIP=check-executables-have-shebangs\"\n    $podmanRunArgs = \"--rm -v $podmanSrcVolumeMount --security-opt label=disable -t -w /go/src/github.com/containers/podman $podmanEnvVariable\"\n    $validateImage = \"quay.io/libpod/validatepr:latest\"\n    $validateCommand = \"make .validatepr\"\n\n    # Check that podman is installed\n    if (!(Get-Command -Name $podmanExecutable -ErrorAction SilentlyContinue)) {\n        Write-Host \"$podmanExecutable not found. $podmanExecutable is required to run the validate script.\"\n        Exit 1\n    }\n\n    # Check that a podman machine exist\n    $currentMachine = (podman machine info -f json | ConvertFrom-Json).Host.CurrentMachine\n    if (!$currentMachine) {\n        Write-Host \"Podman machine doesn't exist. Initialize and start one before running the validate script.\"\n        Exit 1\n    }\n\n    # Check that the podman machine is running\n    $state = (podman machine info -f json | ConvertFrom-Json).Host.MachineState\n    if ($state -ne \"Running\") {\n        Write-Host \"Podman machine is not running. Start the machine before running the validate script.\"\n        Exit 1\n    }\n\n    Run-Command \"$podmanExecutable run $podmanRunArgs $validateImage $validateCommand\"\n}\n\nfunction Lint{\n    # Check that golangci-lint is installed\n    if (!(Get-Command -Name \"golangci-lint\" -ErrorAction SilentlyContinue)) {\n        Write-Host \"The tool \"\"golangci-lint\"\" not found. Install https://golangci-lint.run/ before running the lint script.\"\n        Exit 1\n    }\n\n    # Check that pre-commit is installed\n    if (!(Get-Command -Name \"pre-commit\" -ErrorAction SilentlyContinue)) {\n        Write-Host \"The tool \"\"pre-commit\"\" not found. Install https://pre-commit.com/ before running the lint script.\"\n        Exit 1\n    }\n\n    Run-Command \"pre-commit run --all-files\"\n    Run-Command \"golangci-lint run --timeout=10m --build-tags=`\"$remotetags`\" $PSScriptRoot\\cmd\\podman\"\n}\n\n# Helpers\nfunction Build-Ginkgo{\n    if (Test-Path -Path ./test/tools/build/ginkgo.exe -PathType Leaf) {\n        return\n    }\n    Write-Host \"Building Ginkgo\"\n    Push-Location ./test/tools\n    Run-Command \"go build -o build/ginkgo.exe ./vendor/github.com/onsi/ginkgo/v2/ginkgo\"\n    Pop-Location\n}\n\nfunction Git-Commit{\n    # git is not installed by default on windows,\n    # so if we can't get the commit, we don't include this info\n    Get-Command git  -ErrorAction SilentlyContinue | out-null\n    if(!$?){\n        return\n    }\n    $commit = git rev-parse HEAD\n    $dirty = git status --porcelain --untracked-files=no\n    if ($dirty){\n        $commit = \"$commit-dirty\"\n    }\n    return $commit\n}\n\nfunction Build-Distribution-Zip-File{\n    param (\n        [string]$destinationPath\n        );\n    $binariesFolder = \"$PSScriptRoot\\bin\\windows\"\n    $documentationFolder = \"$PSScriptRoot\\docs\\build\\remote\\\"\n    $zipFile = \"$destinationPath\\podman-remote-release-windows_amd64.zip\"\n\n    # Create a temporary folder to store the distribution files\n    $tempFolder = New-Item -ItemType Directory -Force -Path \"$env:TEMP\\podman-windows\"\n\n    # Copy bin\\windows\\ content to the temporary folder\n    Copy-Item -Recurse -Force -Path \"$binariesFolder\\*\" -Destination \"$tempFolder\\\"\n\n    # Copy docs\\build\\remote to the temporary folder\n    Copy-Item -Recurse -Force -Path \"$documentationFolder\" -Destination \"$tempFolder\\docs\\\"\n\n    # If $destination path doesn't exist, create it\n    if (-Not (Test-Path -Path $destinationPath -PathType Container)) {\n        New-Item -ItemType Directory -Force -Path $destinationPath\n    }\n\n    # Create the ZIP file with the full client distribution\n    Compress-Archive -Path \"$tempFolder\\*\" -DestinationPath $zipFile -Force\n\n    # Delete the temporary folder\n    Remove-Item -Recurse -Force -Path \"$tempFolder\"\n}\n\nfunction Get-Podman-Version{\n    $versionSrc = \"$PSScriptRoot\\test\\version\\\"\n    $versionBin = \"$PSScriptRoot\\test\\version\\version.exe\"\n    Run-Command \"go build --o `\"$versionBin`\" `\"$versionSrc`\"\"\n    $version = Invoke-Expression \"$versionBin\"\n    # Remove the '-dev' suffix from the version\n    $version = $version -replace \"-.*\", \"\"\n    return $version\n}\n\n# Init script\n$target = $args[0]\n\n$remotetags = \"remote exclude_graphdriver_btrfs btrfs_noversion exclude_graphdriver_devicemapper containers_image_openpgp\"\n\nswitch ($target) {\n    {$_ -in '', 'podman-remote', 'podman'} {\n        Podman-Remote\n    }\n    'localmachine' {\n        if ($args.Count -gt 1) {\n            $files = $args[1]\n        }\n        Local-Machine  -files $files\n    }\n    'clean' {\n        Make-Clean\n    }\n    {$_ -in 'win-sshproxy', 'win-gvproxy'} {\n        if ($args.Count -gt 1) {\n            $ref = $args[1]\n        }\n        Win-SSHProxy($ref)\n    }\n    'installer' {\n        if ($args.Count -gt 1) {\n            Installer -version $args[1]\n        } else {\n            Installer\n        }\n    }\n    'installertest' {\n        if ($args.Count -gt 1) {\n            Test-Installer -provider $args[1]\n        } else {\n            Test-Installer\n        }\n    }\n    'docs' {\n        Documentation\n    }\n    'validatepr' {\n        Validate\n    }\n    'lint' {\n        Lint\n    }\n    default {\n        Write-Host \"Usage: \" $MyInvocation.MyCommand.Name \"<target> [options]\"\n        Write-Host\n        Write-Host \"Example: Build podman-remote \"\n        Write-Host \" .\\winmake podman-remote\"\n        Write-Host\n        Write-Host \"Example: Run all machine tests \"\n        Write-Host \" .\\winmake localmachine\"\n        Write-Host\n        Write-Host \"Example: Run specfic machine tests \"\n        Write-Host \" .\\winmake localmachine \"basic_test.go\"\"\n        Write-Host\n        Write-Host \"Example: Download win-gvproxy and win-sshproxy helpers\"\n        Write-Host \" .\\winmake win-gvproxy\"\n        Write-Host\n        Write-Host \"Example: Build the windows installer\"\n        Write-Host \" .\\winmake installer\"\n        Write-Host\n        Write-Host \"Example: Run windows installer tests\"\n        Write-Host \" .\\winmake installertest hyperv\"\n        Write-Host\n        Write-Host \"Example: Generate the documetation artifacts\"\n        Write-Host \" .\\winmake docs\"\n        Write-Host\n        Write-Host \"Example: Validate code changes before submitting a PR\"\n        Write-Host \" .\\winmake validatepr\"\n        Write-Host\n        Write-Host \"Example: Run linters\"\n        Write-Host \" .\\winmake lint\"\n    }\n}\n"
        }
      ]
    }
  ]
}