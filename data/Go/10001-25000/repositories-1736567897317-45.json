{
  "metadata": {
    "timestamp": 1736567897317,
    "page": 45,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjUw",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "terrastruct/d2",
      "stars": 19218,
      "defaultBranch": "master",
      "files": [
        {
          "name": ".gitattributes",
          "type": "blob",
          "size": 0.3642578125,
          "content": "# Leading ** is required.\n**/testdata/**/*.json linguist-generated\ngo.mod linguist-generated\ngo.sum linguist-generated\nd2layouts/d2dagrelayout/dagre.js linguist-vendored\nd2layouts/d2elklayout/elk.js linguist-vendored\nd2renderers/d2svg/github-markdown.css linguist-vendored\nd2renderers/d2latex/mathjax.js linguist-vendored\nd2renderers/d2latex/polyfills.js linguist-vendored\n"
        },
        {
          "name": ".github",
          "type": "tree",
          "content": null
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.203125,
          "content": ".make-log\n.changed-files\n.make-log.txt\n*.got.*\ne2e_report.html\nbin\nout\nd2\n\n# https://github.com/golang/go/blob/8b67cf0bc6ad657fddcbaaa10729d0086f08f9a9/src/cmd/go/internal/test/test.go#L415-L416\ne2etests.test"
        },
        {
          "name": ".gitmodules",
          "type": "blob",
          "size": 0.0751953125,
          "content": "[submodule \"ci/sub\"]\n\tpath = ci/sub\n\turl = https://github.com/terrastruct/ci\n"
        },
        {
          "name": ".pre-commit-hooks.yaml",
          "type": "blob",
          "size": 0.1064453125,
          "content": "- id: d2-fmt\n  name: d2 fmt\n  description: Format d2 files\n  entry: d2 fmt\n  language: golang\n  files: \\.d2$\n"
        },
        {
          "name": ".prettierignore",
          "type": "blob",
          "size": 0.2060546875,
          "content": "d2layouts/d2dagrelayout/dagre.js\nd2layouts/d2elklayout/setup.js\nd2renderers/d2latex/mathjax.js\nd2renderers/d2latex/polyfills.js\nd2renderers/d2latex/setup.js\nd2renderers/d2sketch/rough.js\nlib/png/generate_png.js\n"
        },
        {
          "name": "LICENSE.txt",
          "type": "blob",
          "size": 16.3642578125,
          "content": "Copyright 2022 Terrastruct Inc.\n\nMozilla Public License Version 2.0\n==================================\n\n1. Definitions\n--------------\n\n1.1. \"Contributor\"\n    means each individual or legal entity that creates, contributes to\n    the creation of, or owns Covered Software.\n\n1.2. \"Contributor Version\"\n    means the combination of the Contributions of others (if any) used\n    by a Contributor and that particular Contributor's Contribution.\n\n1.3. \"Contribution\"\n    means Covered Software of a particular Contributor.\n\n1.4. \"Covered Software\"\n    means Source Code Form to which the initial Contributor has attached\n    the notice in Exhibit A, the Executable Form of such Source Code\n    Form, and Modifications of such Source Code Form, in each case\n    including portions thereof.\n\n1.5. \"Incompatible With Secondary Licenses\"\n    means\n\n    (a) that the initial Contributor has attached the notice described\n        in Exhibit B to the Covered Software; or\n\n    (b) that the Covered Software was made available under the terms of\n        version 1.1 or earlier of the License, but not also under the\n        terms of a Secondary License.\n\n1.6. \"Executable Form\"\n    means any form of the work other than Source Code Form.\n\n1.7. \"Larger Work\"\n    means a work that combines Covered Software with other material, in\n    a separate file or files, that is not Covered Software.\n\n1.8. \"License\"\n    means this document.\n\n1.9. \"Licensable\"\n    means having the right to grant, to the maximum extent possible,\n    whether at the time of the initial grant or subsequently, any and\n    all of the rights conveyed by this License.\n\n1.10. \"Modifications\"\n    means any of the following:\n\n    (a) any file in Source Code Form that results from an addition to,\n        deletion from, or modification of the contents of Covered\n        Software; or\n\n    (b) any new file in Source Code Form that contains any Covered\n        Software.\n\n1.11. \"Patent Claims\" of a Contributor\n    means any patent claim(s), including without limitation, method,\n    process, and apparatus claims, in any patent Licensable by such\n    Contributor that would be infringed, but for the grant of the\n    License, by the making, using, selling, offering for sale, having\n    made, import, or transfer of either its Contributions or its\n    Contributor Version.\n\n1.12. \"Secondary License\"\n    means either the GNU General Public License, Version 2.0, the GNU\n    Lesser General Public License, Version 2.1, the GNU Affero General\n    Public License, Version 3.0, or any later versions of those\n    licenses.\n\n1.13. \"Source Code Form\"\n    means the form of the work preferred for making modifications.\n\n1.14. \"You\" (or \"Your\")\n    means an individual or a legal entity exercising rights under this\n    License. For legal entities, \"You\" includes any entity that\n    controls, is controlled by, or is under common control with You. For\n    purposes of this definition, \"control\" means (a) the power, direct\n    or indirect, to cause the direction or management of such entity,\n    whether by contract or otherwise, or (b) ownership of more than\n    fifty percent (50%) of the outstanding shares or beneficial\n    ownership of such entity.\n\n2. License Grants and Conditions\n--------------------------------\n\n2.1. Grants\n\nEach Contributor hereby grants You a world-wide, royalty-free,\nnon-exclusive license:\n\n(a) under intellectual property rights (other than patent or trademark)\n    Licensable by such Contributor to use, reproduce, make available,\n    modify, display, perform, distribute, and otherwise exploit its\n    Contributions, either on an unmodified basis, with Modifications, or\n    as part of a Larger Work; and\n\n(b) under Patent Claims of such Contributor to make, use, sell, offer\n    for sale, have made, import, and otherwise transfer either its\n    Contributions or its Contributor Version.\n\n2.2. Effective Date\n\nThe licenses granted in Section 2.1 with respect to any Contribution\nbecome effective for each Contribution on the date the Contributor first\ndistributes such Contribution.\n\n2.3. Limitations on Grant Scope\n\nThe licenses granted in this Section 2 are the only rights granted under\nthis License. No additional rights or licenses will be implied from the\ndistribution or licensing of Covered Software under this License.\nNotwithstanding Section 2.1(b) above, no patent license is granted by a\nContributor:\n\n(a) for any code that a Contributor has removed from Covered Software;\n    or\n\n(b) for infringements caused by: (i) Your and any other third party's\n    modifications of Covered Software, or (ii) the combination of its\n    Contributions with other software (except as part of its Contributor\n    Version); or\n\n(c) under Patent Claims infringed by Covered Software in the absence of\n    its Contributions.\n\nThis License does not grant any rights in the trademarks, service marks,\nor logos of any Contributor (except as may be necessary to comply with\nthe notice requirements in Section 3.4).\n\n2.4. Subsequent Licenses\n\nNo Contributor makes additional grants as a result of Your choice to\ndistribute the Covered Software under a subsequent version of this\nLicense (see Section 10.2) or under the terms of a Secondary License (if\npermitted under the terms of Section 3.3).\n\n2.5. Representation\n\nEach Contributor represents that the Contributor believes its\nContributions are its original creation(s) or it has sufficient rights\nto grant the rights to its Contributions conveyed by this License.\n\n2.6. Fair Use\n\nThis License is not intended to limit any rights You have under\napplicable copyright doctrines of fair use, fair dealing, or other\nequivalents.\n\n2.7. Conditions\n\nSections 3.1, 3.2, 3.3, and 3.4 are conditions of the licenses granted\nin Section 2.1.\n\n3. Responsibilities\n-------------------\n\n3.1. Distribution of Source Form\n\nAll distribution of Covered Software in Source Code Form, including any\nModifications that You create or to which You contribute, must be under\nthe terms of this License. You must inform recipients that the Source\nCode Form of the Covered Software is governed by the terms of this\nLicense, and how they can obtain a copy of this License. You may not\nattempt to alter or restrict the recipients' rights in the Source Code\nForm.\n\n3.2. Distribution of Executable Form\n\nIf You distribute Covered Software in Executable Form then:\n\n(a) such Covered Software must also be made available in Source Code\n    Form, as described in Section 3.1, and You must inform recipients of\n    the Executable Form how they can obtain a copy of such Source Code\n    Form by reasonable means in a timely manner, at a charge no more\n    than the cost of distribution to the recipient; and\n\n(b) You may distribute such Executable Form under the terms of this\n    License, or sublicense it under different terms, provided that the\n    license for the Executable Form does not attempt to limit or alter\n    the recipients' rights in the Source Code Form under this License.\n\n3.3. Distribution of a Larger Work\n\nYou may create and distribute a Larger Work under terms of Your choice,\nprovided that You also comply with the requirements of this License for\nthe Covered Software. If the Larger Work is a combination of Covered\nSoftware with a work governed by one or more Secondary Licenses, and the\nCovered Software is not Incompatible With Secondary Licenses, this\nLicense permits You to additionally distribute such Covered Software\nunder the terms of such Secondary License(s), so that the recipient of\nthe Larger Work may, at their option, further distribute the Covered\nSoftware under the terms of either this License or such Secondary\nLicense(s).\n\n3.4. Notices\n\nYou may not remove or alter the substance of any license notices\n(including copyright notices, patent notices, disclaimers of warranty,\nor limitations of liability) contained within the Source Code Form of\nthe Covered Software, except that You may alter any license notices to\nthe extent required to remedy known factual inaccuracies.\n\n3.5. Application of Additional Terms\n\nYou may choose to offer, and to charge a fee for, warranty, support,\nindemnity or liability obligations to one or more recipients of Covered\nSoftware. However, You may do so only on Your own behalf, and not on\nbehalf of any Contributor. You must make it absolutely clear that any\nsuch warranty, support, indemnity, or liability obligation is offered by\nYou alone, and You hereby agree to indemnify every Contributor for any\nliability incurred by such Contributor as a result of warranty, support,\nindemnity or liability terms You offer. You may include additional\ndisclaimers of warranty and limitations of liability specific to any\njurisdiction.\n\n4. Inability to Comply Due to Statute or Regulation\n---------------------------------------------------\n\nIf it is impossible for You to comply with any of the terms of this\nLicense with respect to some or all of the Covered Software due to\nstatute, judicial order, or regulation then You must: (a) comply with\nthe terms of this License to the maximum extent possible; and (b)\ndescribe the limitations and the code they affect. Such description must\nbe placed in a text file included with all distributions of the Covered\nSoftware under this License. Except to the extent prohibited by statute\nor regulation, such description must be sufficiently detailed for a\nrecipient of ordinary skill to be able to understand it.\n\n5. Termination\n--------------\n\n5.1. The rights granted under this License will terminate automatically\nif You fail to comply with any of its terms. However, if You become\ncompliant, then the rights granted under this License from a particular\nContributor are reinstated (a) provisionally, unless and until such\nContributor explicitly and finally terminates Your grants, and (b) on an\nongoing basis, if such Contributor fails to notify You of the\nnon-compliance by some reasonable means prior to 60 days after You have\ncome back into compliance. Moreover, Your grants from a particular\nContributor are reinstated on an ongoing basis if such Contributor\nnotifies You of the non-compliance by some reasonable means, this is the\nfirst time You have received notice of non-compliance with this License\nfrom such Contributor, and You become compliant prior to 30 days after\nYour receipt of the notice.\n\n5.2. If You initiate litigation against any entity by asserting a patent\ninfringement claim (excluding declaratory judgment actions,\ncounter-claims, and cross-claims) alleging that a Contributor Version\ndirectly or indirectly infringes any patent, then the rights granted to\nYou by any and all Contributors for the Covered Software under Section\n2.1 of this License shall terminate.\n\n5.3. In the event of termination under Sections 5.1 or 5.2 above, all\nend user license agreements (excluding distributors and resellers) which\nhave been validly granted by You or Your distributors under this License\nprior to termination shall survive termination.\n\n************************************************************************\n*                                                                      *\n*  6. Disclaimer of Warranty                                           *\n*  -------------------------                                           *\n*                                                                      *\n*  Covered Software is provided under this License on an \"as is\"       *\n*  basis, without warranty of any kind, either expressed, implied, or  *\n*  statutory, including, without limitation, warranties that the       *\n*  Covered Software is free of defects, merchantable, fit for a        *\n*  particular purpose or non-infringing. The entire risk as to the     *\n*  quality and performance of the Covered Software is with You.        *\n*  Should any Covered Software prove defective in any respect, You     *\n*  (not any Contributor) assume the cost of any necessary servicing,   *\n*  repair, or correction. This disclaimer of warranty constitutes an   *\n*  essential part of this License. No use of any Covered Software is   *\n*  authorized under this License except under this disclaimer.         *\n*                                                                      *\n************************************************************************\n\n************************************************************************\n*                                                                      *\n*  7. Limitation of Liability                                          *\n*  --------------------------                                          *\n*                                                                      *\n*  Under no circumstances and under no legal theory, whether tort      *\n*  (including negligence), contract, or otherwise, shall any           *\n*  Contributor, or anyone who distributes Covered Software as          *\n*  permitted above, be liable to You for any direct, indirect,         *\n*  special, incidental, or consequential damages of any character      *\n*  including, without limitation, damages for lost profits, loss of    *\n*  goodwill, work stoppage, computer failure or malfunction, or any    *\n*  and all other commercial damages or losses, even if such party      *\n*  shall have been informed of the possibility of such damages. This   *\n*  limitation of liability shall not apply to liability for death or   *\n*  personal injury resulting from such party's negligence to the       *\n*  extent applicable law prohibits such limitation. Some               *\n*  jurisdictions do not allow the exclusion or limitation of           *\n*  incidental or consequential damages, so this exclusion and          *\n*  limitation may not apply to You.                                    *\n*                                                                      *\n************************************************************************\n\n8. Litigation\n-------------\n\nAny litigation relating to this License may be brought only in the\ncourts of a jurisdiction where the defendant maintains its principal\nplace of business and such litigation shall be governed by laws of that\njurisdiction, without reference to its conflict-of-law provisions.\nNothing in this Section shall prevent a party's ability to bring\ncross-claims or counter-claims.\n\n9. Miscellaneous\n----------------\n\nThis License represents the complete agreement concerning the subject\nmatter hereof. If any provision of this License is held to be\nunenforceable, such provision shall be reformed only to the extent\nnecessary to make it enforceable. Any law or regulation which provides\nthat the language of a contract shall be construed against the drafter\nshall not be used to construe this License against a Contributor.\n\n10. Versions of the License\n---------------------------\n\n10.1. New Versions\n\nMozilla Foundation is the license steward. Except as provided in Section\n10.3, no one other than the license steward has the right to modify or\npublish new versions of this License. Each version will be given a\ndistinguishing version number.\n\n10.2. Effect of New Versions\n\nYou may distribute the Covered Software under the terms of the version\nof the License under which You originally received the Covered Software,\nor under the terms of any subsequent version published by the license\nsteward.\n\n10.3. Modified Versions\n\nIf you create software not governed by this License, and you want to\ncreate a new license for such software, you may create and use a\nmodified version of this License if you rename the license and remove\nany references to the name of the license steward (except to note that\nsuch modified license differs from this License).\n\n10.4. Distributing Source Code Form that is Incompatible With Secondary\nLicenses\n\nIf You choose to distribute Source Code Form that is Incompatible With\nSecondary Licenses under the terms of this version of the License, the\nnotice described in Exhibit B of this License must be attached.\n\nExhibit A - Source Code Form License Notice\n-------------------------------------------\n\n  This Source Code Form is subject to the terms of the Mozilla Public\n  License, v. 2.0. If a copy of the MPL was not distributed with this\n  file, You can obtain one at http://mozilla.org/MPL/2.0/.\n\nIf it is not possible or desirable to put the notice in a particular\nfile, then You may include the notice in a location (such as a LICENSE\nfile in a relevant directory) where a recipient would be likely to look\nfor such a notice.\n\nYou may add additional accurate notices of copyright ownership.\n\nExhibit B - \"Incompatible With Secondary Licenses\" Notice\n---------------------------------------------------------\n\n  This Source Code Form is \"Incompatible With Secondary Licenses\", as\n  defined by the Mozilla Public License, v. 2.0."
        },
        {
          "name": "Makefile",
          "type": "blob",
          "size": 0.3701171875,
          "content": ".POSIX:\n\n.PHONY: all\nall: fmt gen lint build test\n\n.PHONY: fmt\nfmt:\n\tprefix \"$@\" ./ci/sub/bin/fmt.sh\n.PHONY: gen\ngen: fmt\n\tprefix \"$@\" ./ci/gen.sh\n.PHONY: lint\nlint: fmt\n\tprefix \"$@\" go vet --composites=false ./...\n.PHONY: build\nbuild: fmt\n\tprefix \"$@\" go build ./...\n.PHONY: test\ntest: fmt\n\tprefix \"$@\" ./ci/test.sh\n.PHONY: race\nrace: fmt\n\tprefix \"$@\" ./ci/test.sh --race ./...\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 13.99609375,
          "content": "<div align=\"center\">\n  <img src=\"./docs/assets/banner.png\" alt=\"D2\" />\n  <h2>\n    A modern diagram scripting language that turns text to diagrams.\n  </h2>\n\n[Docs](https://d2lang.com) | [Cheat sheet](./docs/assets/cheat_sheet.pdf) | [Comparisons](https://text-to-diagram.com) | [Playground](https://play.d2lang.com)\n\n[![ci](https://github.com/terrastruct/d2/actions/workflows/ci.yml/badge.svg)](https://github.com/terrastruct/d2/actions/workflows/ci.yml)\n[![daily](https://github.com/terrastruct/d2/actions/workflows/daily.yml/badge.svg)](https://github.com/terrastruct/d2/actions/workflows/daily.yml)\n[![release](https://img.shields.io/github/v/release/terrastruct/d2)](https://github.com/terrastruct/d2/releases)\n[![discord](https://img.shields.io/discord/1039184639652265985?label=discord)](https://discord.gg/NF6X8K4eDq)\n[![twitter](https://img.shields.io/twitter/follow/terrastruct?style=social)](https://twitter.com/terrastruct)\n[![license](https://img.shields.io/github/license/terrastruct/d2?color=9cf)](./LICENSE.txt)\n\n<a href=\"https://play.d2lang.com\">\n<img src=\"./docs/assets/playground_button.png\" alt=\"D2 Playground button\" width=\"200\" />\n</a>\n\nhttps://user-images.githubusercontent.com/3120367/206125010-bd1fea8e-248a-43e7-8f85-0bbfca0c6e2a.mp4\n\n</div>\n\n# Table of Contents\n\n<!-- toc -->\n- [What does D2 look like?](#what-does-d2-look-like)\n- [Quickstart](#quickstart)\n- [Install](#install)\n- [D2 as a library](#d2-as-a-library)\n- [Themes](#themes)\n- [Fonts](#fonts)\n- [Export file types](#export-file-types)\n- [Language tooling](#language-tooling)\n- [Plugins](#plugins)\n- [Comparison](#comparison)\n- [Contributing](#contributing)\n- [License](#license)\n- [Related](#related)\n  - [Official plugins](#official-plugins)\n  - [Community plugins](#community-plugins)\n  - [Misc](#misc)\n- [FAQ](#faq)\n- [Notable open-source projects documenting with D2](#notable-open-source-projects-documenting-with-d2)\n\n## What does D2 look like?\n\n```d2\nvars: {\n  d2-config: {\n    layout-engine: elk\n    # Terminal theme code\n    theme-id: 300\n  }\n}\nnetwork: {\n  cell tower: {\n    satellites: {\n      shape: stored_data\n      style.multiple: true\n    }\n\n    transmitter\n\n    satellites -> transmitter: send\n    satellites -> transmitter: send\n    satellites -> transmitter: send\n  }\n\n  online portal: {\n    ui: {shape: hexagon}\n  }\n\n  data processor: {\n    storage: {\n      shape: cylinder\n      style.multiple: true\n    }\n  }\n\n  cell tower.transmitter -> data processor.storage: phone logs\n}\n\nuser: {\n  shape: person\n  width: 130\n}\n\nuser -> network.cell tower: make call\nuser -> network.online portal.ui: access {\n  style.stroke-dash: 3\n}\n\napi server -> network.online portal.ui: display\napi server -> logs: persist\nlogs: {shape: page; style.multiple: true}\n\nnetwork.data processor -> api server\n```\n\n<p align=\"center\">\n    <img width=\"400px\" src=\"./docs/assets/example.svg\" alt=\"D2 render example\" />\n</p>\n\n> Open in [playground](https://play.d2lang.com/?script=rVLLTsQwDLznKyJxbrWwtyLxFdyR1Zg2ahpHibvLCvXfcdqGfSHthVv8yIxn7APE1OhvpbV5qVryn7ZbQ60dnGjiCn1nPTYa3bCkn_Q7xtF6cJp7HFG3ZHCpLGFlTaP3u51kZjUrj3ykOKyYLTr5REeMhSMBS84yppKRXA9B-BJTRPNhgKEU-OSwHifHNjjp4DitxLNa-SP4NFpmjOoGXVdvl2VBR2_-sWeZgLwTp3SgyOCKnsnKa5PU4xd05OfyIWvTIVKLKdHZExEOHd4Z0p4E3oi2h25s8Ge764uZs4Rr4vqXMfQkAhx1SVanplQWtU0QMCbyEh-t4b7Rz_td6cuo267ryzWPMMiFgHN3XVdu1dkmaPM8K-EiLnGkASsDScj2mQqCFcvj4RGUsSnI_d70Z2GrCptYrVHZTRADXv80VWgL0bVvGfJMoH4A)\n\n> For more examples, see [./docs/examples](./docs/examples).\n\n## Quickstart\n\nThe most convenient way to use D2 is to just run it as a CLI executable to\nproduce SVGs from `.d2` files.\n\n```sh\n# First, install D2\ncurl -fsSL https://d2lang.com/install.sh | sh -s --\n\necho 'x -> y -> z' > in.d2\nd2 --watch in.d2 out.svg\n```\n\nA browser window will open with `out.svg` and live-reload on changes to `in.d2`.\n\n## Install\n\nThe easiest way to install is with our install script:\n\n```sh\ncurl -fsSL https://d2lang.com/install.sh | sh -s --\n```\n\nYou can run the install script with `--dry-run` to see the commands that will be used\nto install without executing them.\n\nOr if you have Go installed you can install from source though you won't get the manpage:\n\n```sh\ngo install oss.terrastruct.com/d2@latest\n```\n\nYou can also install a release from source which will include manpages.\nSee [./docs/INSTALL.md#source-release](./docs/INSTALL.md#source-release).\n\nTo uninstall with the install script:\n\n```sh\ncurl -fsSL https://d2lang.com/install.sh | sh -s -- --uninstall\n```\n\nFor detailed installation docs, see [./docs/INSTALL.md](./docs/INSTALL.md).\nWe demonstrate alternative methods and examples for each OS.\n\nAs well, the functioning of the install script is described in detail to alleviate any\nconcern of its use. We recommend using your OS's package manager directly instead for\nimproved security but the install script is by no means insecure.\n\n## D2 as a library\n\nIn addition to being a runnable CLI tool, D2 can also be used to produce diagrams from\nGo programs.\n\nFor examples, see [./docs/examples/lib](./docs/examples/lib). This [blog\npost](https://terrastruct.com/blog/post/generate-diagrams-programmatically/) also demos a\ncomplete, runnable example of using D2 as a library for a real-world use case.\n\n## Themes\n\nD2 includes a variety of official themes to style your diagrams beautifully right out of\nthe box. See [./d2themes](./d2themes) to browse the available themes and make or\ncontribute your own creation.\n\n## Fonts\n\nD2 ships with \"Source Sans Pro\" as the font in renders. If you wish to use a different\none, please see [./d2renderers/d2fonts](./d2renderers/d2fonts).\n\n## Export file types\n\nD2 currently supports SVG, PNG and PDF exports. More coming soon.\n\n## Language tooling\n\nD2 is designed with language tooling in mind. D2's parser can parse multiple errors from a\nbroken program, has an autoformatter, syntax highlighting, and we have plans for LSP's and\nmore. Good language tooling is necessary for creating and maintaining large diagrams.\n\nThe extensions for VSCode and Vim can be found in the [Related](#related) section.\n\n## Plugins\n\nD2 is designed to be extensible and composable. The plugin system allows you to\nchange out layout engines and customize the rendering pipeline. Plugins can either be\nbundled with the build or separately installed as a standalone binary.\n\n**Layout engines**:\n\n- [dagre](https://github.com/dagrejs/dagre) (default, bundled): A fast, directed graph\n  layout engine that produces layered/hierarchical layouts. Based on Graphviz's DOT\n  algorithm.\n- [ELK](https://github.com/kieler/elkjs) (bundled): A directed graph layout engine\n  particularly suited for node-link diagrams with an inherent direction and ports.\n- [TALA](https://github.com/terrastruct/TALA) (binary): Novel layout engine designed\n  specifically for software architecture diagrams. Requires separate install, visit the\n  Github page for more.\n\nD2 intends to integrate with a variety of layout engines, e.g. `dot`, as well as\nsingle-purpose layout types like sequence diagrams. You can choose whichever layout engine\nyou like and works best for the diagram you're making.\n\n## Comparison\n\nFor a comparison against other popular text-to-diagram tools, see\n[https://text-to-diagram.com](https://text-to-diagram.com).\n\n## Contributing\n\nContributions are welcome! See [./docs/CONTRIBUTING.md](./docs/CONTRIBUTING.md).\n\n## License\n\nOpen sourced under the Mozilla Public License 2.0. See [./LICENSE.txt](./LICENSE.txt).\n\n## Related\n\nWe are constantly working on new plugins, integrations, extensions. Contributions are\nwelcome in any official or community plugins. If you have somewhere in your workflow that\nyou want to use D2, feel free to open a discussion. We have limited bandwidth and usually\nchoose the most high-demand ones to work on. If you make something cool with D2 yourself,\nlet us know and we'll be happy to include it here!\n\n### Official plugins\n\n- **VSCode extension**: [https://github.com/terrastruct/d2-vscode](https://github.com/terrastruct/d2-vscode)\n- **Vim extension**: [https://github.com/terrastruct/d2-vim](https://github.com/terrastruct/d2-vim)\n- **Obsidian plugin**: [https://github.com/terrastruct/d2-obsidian](https://github.com/terrastruct/d2-obsidian)\n- **Slack app**: [https://d2lang.com/tour/slack](https://d2lang.com/tour/slack)\n- **Discord plugin**: [https://d2lang.com/tour/discord](https://d2lang.com/tour/discord)\n\n### Community plugins\n\n- **Tree-sitter grammar**: [https://git.pleshevski.ru/pleshevskiy/tree-sitter-d2](https://git.pleshevski.ru/pleshevskiy/tree-sitter-d2)\n- **Emacs major mode**: [https://github.com/andorsk/d2-mode](https://github.com/andorsk/d2-mode)\n- **Goldmark extension**: [https://github.com/FurqanSoftware/goldmark-d2](https://github.com/FurqanSoftware/goldmark-d2)\n- **Telegram bot**: [https://github.com/meinside/telegram-d2-bot](https://github.com/meinside/telegram-d2-bot)\n- **Postgres importer**: [https://github.com/zekenie/d2-erd-from-postgres](https://github.com/zekenie/d2-erd-from-postgres)\n- **Structurizr to D2 exporter**: [https://github.com/goto1134/structurizr-d2-exporter](https://github.com/goto1134/structurizr-d2-exporter)\n- **MdBook preprocessor**: [https://github.com/danieleades/mdbook-d2](https://github.com/danieleades/mdbook-d2)\n- **ROS2 D2 Exporter**: [https://github.com/Greenroom-Robotics/ros-d2](https://github.com/Greenroom-Robotics/ros-d2)\n- **D2 org-mode support**: [https://github.com/xcapaldi/ob-d2](https://github.com/xcapaldi/ob-d2)\n- **Python D2 diagram builder**: [https://github.com/MrBlenny/py-d2](https://github.com/MrBlenny/py-d2)\n- **Clojure D2 transpiler**: [https://github.com/judepayne/dictim](https://github.com/judepayne/dictim)\n- **JavaScript D2 diagram builder**: [https://github.com/Kreshnik/d2lang-js](https://github.com/Kreshnik/d2lang-js)\n- **C# & dotnet SDK**: [https://github.com/Stephanvs/d2lang-cs](https://github.com/Stephanvs/d2lang-cs)\n- **Maven plugin**: [https://github.com/andrinmeier/unofficial-d2lang-maven-plugin](https://github.com/andrinmeier/unofficial-d2lang-maven-plugin)\n- **Confluence plugin**: [https://github.com/andrinmeier/unofficial-d2lang-confluence-plugin](https://github.com/andrinmeier/unofficial-d2lang-confluence-plugin)\n- **CIL (C#, Visual Basic, F#, C++ CLR) to D2**: [https://github.com/HugoVG/AppDiagram](https://github.com/HugoVG/AppDiagram)\n- **D2 Snippets (for text editors)**: [https://github.com/Paracelsus-Rose/D2-Language-Code-Snippets](https://github.com/Paracelsus-Rose/D2-Language-Code-Snippets)\n- **Mongo to D2**: [https://github.com/novuhq/mongo-to-D2](https://github.com/novuhq/mongo-to-D2)\n- **Pandoc filter**: [https://github.com/ram02z/d2-filter](https://github.com/ram02z/d2-filter)\n- **Logseq-D2**: [https://github.com/b-yp/logseq-d2](https://github.com/b-yp/logseq-d2)\n- **ent2d2**: [https://github.com/tmc/ent2d2](https://github.com/tmc/ent2d2)\n- **MkDocs Plugin**: [https://github.com/landmaj/mkdocs-d2-plugin](https://github.com/landmaj/mkdocs-d2-plugin)\n- **Remark Plugin**: [https://github.com/mech-a/remark-d2](https://github.com/mech-a/remark-d2)\n- **Zed extension**: [https://github.com/gabeidx/zed-d2](https://github.com/gabeidx/zed-d2)\n\n### Misc\n\n- **Comparison site**: [https://github.com/terrastruct/text-to-diagram-site](https://github.com/terrastruct/text-to-diagram-site)\n- **Playground**: [https://github.com/terrastruct/d2-playground](https://github.com/terrastruct/d2-playground)\n- **Language docs**: [https://github.com/terrastruct/d2-docs](https://github.com/terrastruct/d2-docs)\n- **Hosted icons**: [https://icons.terrastruct.com](https://icons.terrastruct.com)\n\n## FAQ\n\n- Does D2 collect telemetry?\n  - No, D2 does not use an internet connection after installation, except to check for\n    version updates from Github periodically.\n- Does D2 need a browser to run?\n  - No, D2 can run entirely server-side.\n- What's coming in the next release?\n  - See [./ci/release/changelogs/next.md](./ci/release/changelogs/next.md).\n- I have a question or need help.\n  - The best way to get help is to ask on [D2 Discord](https://discord.gg/NF6X8K4eDq)\n- I have a feature request, proposal, or bug report.\n  - Please open up a Github Issue.\n- I have a private inquiry.\n  - Please reach out at [hi@d2lang.com](hi@d2lang.com).\n\n## Notable open-source projects documenting with D2\n\nDo you have or see an open-source project with `.d2` files? Please submit a PR adding to\nthis selected list of featured projects using D2.\n\n- [ElasticSearch](https://github.com/elastic/beats/blob/main/libbeat/publisher/queue/proxy/diagrams/broker.d2)\n- [Sourcegraph](https://handbook.sourcegraph.com/departments/engineering/managed-services/telemetry-gateway/#dev-architecture-diagram)\n- [Temporal](https://github.com/temporalio/temporal/blob/0be2681c994470c7c61ea88e4fcef89bb4024e58/docs/_assets/matching-context.d2)\n- [Tauri](https://v2.tauri.app/concept/inter-process-communication/)\n    - Rust GUI framework (78.5k stars)\n- [Intellij](https://github.com/JetBrains/intellij-community/blob/45bcfc17a3f3e0d8548bc69e922d4ca97ac21b2b/platform/settings/docs/topics/overview.md)\n- [Coder](https://coder.com/blog/managing-templates-in-coder)\n- [UC\n  Berkeley](https://github.com/ucb-bar/hammer/blob/2b5c04d7b7d9ee3c73575efcd7ee0698bd5bfa88/doc/Hammer-Use/hier.d2)\n- [Coronacheck](https://github.com/minvws/nl-covid19-coronacheck-app-ios/blob/e1567e9d1633b3273c537a105bff0e7d3a57ecfe/Diagrams/client-side-datamodel.d2)\n  - Official app of the Netherlands for coronavirus entry passes.\n- [Block\n  Protocol](https://github.com/blockprotocol/blockprotocol/blob/db4cf8d422b881e52113aa52467d53115270e2b3/libs/%40blockprotocol/type-system/crate/assets/overview.d2)\n  - The Block Protocol is an open standard for building and using data-driven blocks (1.2k\n    stars).\n- [Dagger](https://github.com/dagger/dagger/tree/main/cmd/dagger-graph)\n  - A programmable CI/CD engine that runs your pipelines in containers (8k stars).\n- [Ivy\n  Wallet](https://github.com/Ivy-Apps/ivy-wallet/blob/8062624bfa65175ec143cdc4038de27a84d38b57/assets/calc_algo.d2)\n  - Open-source money manager app for Android (1.1k stars).\n- [LocalStack](https://docs.localstack.cloud/references/network-troubleshooting/)\n  - Cloud service emulator (46k stars)\n- [Queue Library](https://github.com/golang-queue/queue/tree/master/images)\n  - Queue is a Golang library for spawning and managing a Goroutine pool\n"
        },
        {
          "name": "ci",
          "type": "tree",
          "content": null
        },
        {
          "name": "cmd",
          "type": "tree",
          "content": null
        },
        {
          "name": "d2ast",
          "type": "tree",
          "content": null
        },
        {
          "name": "d2chaos",
          "type": "tree",
          "content": null
        },
        {
          "name": "d2cli",
          "type": "tree",
          "content": null
        },
        {
          "name": "d2compiler",
          "type": "tree",
          "content": null
        },
        {
          "name": "d2exporter",
          "type": "tree",
          "content": null
        },
        {
          "name": "d2format",
          "type": "tree",
          "content": null
        },
        {
          "name": "d2graph",
          "type": "tree",
          "content": null
        },
        {
          "name": "d2ir",
          "type": "tree",
          "content": null
        },
        {
          "name": "d2js",
          "type": "tree",
          "content": null
        },
        {
          "name": "d2layouts",
          "type": "tree",
          "content": null
        },
        {
          "name": "d2lib",
          "type": "tree",
          "content": null
        },
        {
          "name": "d2lsp",
          "type": "tree",
          "content": null
        },
        {
          "name": "d2oracle",
          "type": "tree",
          "content": null
        },
        {
          "name": "d2parser",
          "type": "tree",
          "content": null
        },
        {
          "name": "d2plugin",
          "type": "tree",
          "content": null
        },
        {
          "name": "d2renderers",
          "type": "tree",
          "content": null
        },
        {
          "name": "d2target",
          "type": "tree",
          "content": null
        },
        {
          "name": "d2themes",
          "type": "tree",
          "content": null
        },
        {
          "name": "docs",
          "type": "tree",
          "content": null
        },
        {
          "name": "e2etests-cli",
          "type": "tree",
          "content": null
        },
        {
          "name": "e2etests",
          "type": "tree",
          "content": null
        },
        {
          "name": "go.mod",
          "type": "blob",
          "size": 2.20703125,
          "content": "module oss.terrastruct.com/d2\n\ngo 1.23\n\ntoolchain go1.23.0\n\nrequire (\n\tgithub.com/PuerkitoBio/goquery v1.10.0\n\tgithub.com/alecthomas/chroma/v2 v2.14.0\n\tgithub.com/dop251/goja v0.0.0-20240927123429-241b342198c2\n\tgithub.com/dsoprea/go-exif/v3 v3.0.1\n\tgithub.com/dsoprea/go-png-image-structure/v2 v2.0.0-20210512210324-29b889a6093d\n\tgithub.com/ericpauley/go-quantize v0.0.0-20200331213906-ae555eb2afa4\n\tgithub.com/fsnotify/fsnotify v1.7.1-0.20240403050945-7086bea086b7\n\tgithub.com/golang/freetype v0.0.0-20170609003504-e2365dfdc4a0\n\tgithub.com/jung-kurt/gofpdf v1.16.2\n\tgithub.com/lucasb-eyer/go-colorful v1.2.0\n\tgithub.com/mazznoer/csscolorparser v0.1.5\n\tgithub.com/playwright-community/playwright-go v0.4702.0\n\tgithub.com/rivo/uniseg v0.4.7\n\tgithub.com/spf13/pflag v1.0.5\n\tgithub.com/stretchr/testify v1.9.0\n\tgithub.com/yuin/goldmark v1.7.4\n\tgo.uber.org/multierr v1.11.0\n\tgolang.org/x/image v0.20.0\n\tgolang.org/x/net v0.29.0\n\tgolang.org/x/text v0.18.0\n\tgolang.org/x/tools v0.25.0\n\tgolang.org/x/xerrors v0.0.0-20240903120638-7835f813f4da\n\tgonum.org/v1/plot v0.14.0\n\tnhooyr.io/websocket v1.8.17\n\toss.terrastruct.com/util-go v0.0.0-20241005222610-44c011a04896\n)\n\nrequire (\n\tgithub.com/andybalholm/cascadia v1.3.2 // indirect\n\tgithub.com/davecgh/go-spew v1.1.1 // indirect\n\tgithub.com/deckarep/golang-set/v2 v2.6.0 // indirect\n\tgithub.com/dlclark/regexp2 v1.11.4 // indirect\n\tgithub.com/dsoprea/go-logging v0.0.0-20200710184922-b02d349568dd // indirect\n\tgithub.com/dsoprea/go-utility/v2 v2.0.0-20221003172846-a3e1774ef349 // indirect\n\tgithub.com/go-errors/errors v1.5.1 // indirect\n\tgithub.com/go-jose/go-jose/v3 v3.0.3 // indirect\n\tgithub.com/go-sourcemap/sourcemap v2.1.4+incompatible // indirect\n\tgithub.com/go-stack/stack v1.8.1 // indirect\n\tgithub.com/golang/geo v0.0.0-20230421003525-6adc56603217 // indirect\n\tgithub.com/google/pprof v0.0.0-20240927180334-d43a67379298 // indirect\n\tgithub.com/kr/text v0.2.0 // indirect\n\tgithub.com/pkg/browser v0.0.0-20240102092130-5ac0b6a4141c // indirect\n\tgithub.com/pmezard/go-difflib v1.0.0 // indirect\n\tgolang.org/x/exp v0.0.0-20240909161429-701f63a606c0 // indirect\n\tgolang.org/x/sys v0.25.0 // indirect\n\tgolang.org/x/term v0.24.0 // indirect\n\tgopkg.in/yaml.v2 v2.4.0 // indirect\n\tgopkg.in/yaml.v3 v3.0.1 // indirect\n)\n"
        },
        {
          "name": "go.sum",
          "type": "blob",
          "size": 19.55859375,
          "content": "git.sr.ht/~sbinet/gg v0.5.0 h1:6V43j30HM623V329xA9Ntq+WJrMjDxRjuAB1LFWF5m8=\ngit.sr.ht/~sbinet/gg v0.5.0/go.mod h1:G2C0eRESqlKhS7ErsNey6HHrqU1PwsnCQlekFi9Q2Oo=\ngithub.com/Masterminds/semver/v3 v3.2.1 h1:RN9w6+7QoMeJVGyfmbcgs28Br8cvmnucEXnY0rYXWg0=\ngithub.com/Masterminds/semver/v3 v3.2.1/go.mod h1:qvl/7zhW3nngYb5+80sSMF+FG2BjYrf8m9wsX0PNOMQ=\ngithub.com/PuerkitoBio/goquery v1.10.0 h1:6fiXdLuUvYs2OJSvNRqlNPoBm6YABE226xrbavY5Wv4=\ngithub.com/PuerkitoBio/goquery v1.10.0/go.mod h1:TjZZl68Q3eGHNBA8CWaxAN7rOU1EbDz3CWuolcO5Yu4=\ngithub.com/ajstarks/svgo v0.0.0-20211024235047-1546f124cd8b h1:slYM766cy2nI3BwyRiyQj/Ud48djTMtMebDqepE95rw=\ngithub.com/ajstarks/svgo v0.0.0-20211024235047-1546f124cd8b/go.mod h1:1KcenG0jGWcpt8ov532z81sp/kMMUG485J2InIOyADM=\ngithub.com/alecthomas/assert/v2 v2.7.0 h1:QtqSACNS3tF7oasA8CU6A6sXZSBDqnm7RfpLl9bZqbE=\ngithub.com/alecthomas/assert/v2 v2.7.0/go.mod h1:Bze95FyfUr7x34QZrjL+XP+0qgp/zg8yS+TtBj1WA3k=\ngithub.com/alecthomas/chroma/v2 v2.14.0 h1:R3+wzpnUArGcQz7fCETQBzO5n9IMNi13iIs46aU4V9E=\ngithub.com/alecthomas/chroma/v2 v2.14.0/go.mod h1:QolEbTfmUHIMVpBqxeDnNBj2uoeI4EbYP4i6n68SG4I=\ngithub.com/alecthomas/repr v0.4.0 h1:GhI2A8MACjfegCPVq9f1FLvIBS+DrQ2KQBFZP1iFzXc=\ngithub.com/alecthomas/repr v0.4.0/go.mod h1:Fr0507jx4eOXV7AlPV6AVZLYrLIuIeSOWtW57eE/O/4=\ngithub.com/andybalholm/cascadia v1.3.2 h1:3Xi6Dw5lHF15JtdcmAHD3i1+T8plmv7BQ/nsViSLyss=\ngithub.com/andybalholm/cascadia v1.3.2/go.mod h1:7gtRlve5FxPPgIgX36uWBX58OdBsSS6lUvCFb+h7KvU=\ngithub.com/boombuler/barcode v1.0.0/go.mod h1:paBWMcWSl3LHKBqUq+rly7CNSldXjb2rDl3JlRe0mD8=\ngithub.com/campoy/embedmd v1.0.0 h1:V4kI2qTJJLf4J29RzI/MAt2c3Bl4dQSYPuflzwFH2hY=\ngithub.com/campoy/embedmd v1.0.0/go.mod h1:oxyr9RCiSXg0M3VJ3ks0UGfp98BpSSGr0kpiX3MzVl8=\ngithub.com/creack/pty v1.1.9/go.mod h1:oKZEueFk5CKHvIhNR5MUki03XCEU+Q6VDXinZuGJ33E=\ngithub.com/creack/pty v1.1.18 h1:n56/Zwd5o6whRC5PMGretI4IdRLlmBXYNjScPaBgsbY=\ngithub.com/creack/pty v1.1.18/go.mod h1:MOBLtS5ELjhRRrroQr9kyvTxUAFNvYEK993ew/Vr4O4=\ngithub.com/davecgh/go-spew v1.1.0/go.mod h1:J7Y8YcW2NihsgmVo/mv3lAwl/skON4iLHjSsI+c5H38=\ngithub.com/davecgh/go-spew v1.1.1 h1:vj9j/u1bqnvCEfJOwUhtlOARqs3+rkHYY13jYWTU97c=\ngithub.com/davecgh/go-spew v1.1.1/go.mod h1:J7Y8YcW2NihsgmVo/mv3lAwl/skON4iLHjSsI+c5H38=\ngithub.com/deckarep/golang-set/v2 v2.6.0 h1:XfcQbWM1LlMB8BsJ8N9vW5ehnnPVIw0je80NsVHagjM=\ngithub.com/deckarep/golang-set/v2 v2.6.0/go.mod h1:VAky9rY/yGXJOLEDv3OMci+7wtDpOF4IN+y82NBOac4=\ngithub.com/dlclark/regexp2 v1.11.4 h1:rPYF9/LECdNymJufQKmri9gV604RvvABwgOA8un7yAo=\ngithub.com/dlclark/regexp2 v1.11.4/go.mod h1:DHkYz0B9wPfa6wondMfaivmHpzrQ3v9q8cnmRbL6yW8=\ngithub.com/dop251/goja v0.0.0-20240927123429-241b342198c2 h1:Ux9RXuPQmTB4C1MKagNLme0krvq8ulewfor+ORO/QL4=\ngithub.com/dop251/goja v0.0.0-20240927123429-241b342198c2/go.mod h1:MxLav0peU43GgvwVgNbLAj1s/bSGboKkhuULvq/7hx4=\ngithub.com/dsoprea/go-exif/v2 v2.0.0-20200321225314-640175a69fe4/go.mod h1:Lm2lMM2zx8p4a34ZemkaUV95AnMl4ZvLbCUbwOvLC2E=\ngithub.com/dsoprea/go-exif/v3 v3.0.0-20200717053412-08f1b6708903/go.mod h1:0nsO1ce0mh5czxGeLo4+OCZ/C6Eo6ZlMWsz7rH/Gxv8=\ngithub.com/dsoprea/go-exif/v3 v3.0.0-20210428042052-dca55bf8ca15/go.mod h1:cg5SNYKHMmzxsr9X6ZeLh/nfBRHHp5PngtEPcujONtk=\ngithub.com/dsoprea/go-exif/v3 v3.0.0-20210625224831-a6301f85c82b/go.mod h1:cg5SNYKHMmzxsr9X6ZeLh/nfBRHHp5PngtEPcujONtk=\ngithub.com/dsoprea/go-exif/v3 v3.0.0-20221003160559-cf5cd88aa559/go.mod h1:rW6DMEv25U9zCtE5ukC7ttBRllXj7g7TAHl7tQrT5No=\ngithub.com/dsoprea/go-exif/v3 v3.0.0-20221003171958-de6cb6e380a8/go.mod h1:akyZEJZ/k5bmbC9gA612ZLQkcED8enS9vuTiuAkENr0=\ngithub.com/dsoprea/go-exif/v3 v3.0.1 h1:/IE4iW7gvY7BablV1XY0unqhMv26EYpOquVMwoBo/wc=\ngithub.com/dsoprea/go-exif/v3 v3.0.1/go.mod h1:10HkA1Wz3h398cDP66L+Is9kKDmlqlIJGPv8pk4EWvc=\ngithub.com/dsoprea/go-logging v0.0.0-20190624164917-c4f10aab7696/go.mod h1:Nm/x2ZUNRW6Fe5C3LxdY1PyZY5wmDv/s5dkPJ/VB3iA=\ngithub.com/dsoprea/go-logging v0.0.0-20200517223158-a10564966e9d/go.mod h1:7I+3Pe2o/YSU88W0hWlm9S22W7XI1JFNJ86U0zPKMf8=\ngithub.com/dsoprea/go-logging v0.0.0-20200710184922-b02d349568dd h1:l+vLbuxptsC6VQyQsfD7NnEC8BZuFpz45PgY+pH8YTg=\ngithub.com/dsoprea/go-logging v0.0.0-20200710184922-b02d349568dd/go.mod h1:7I+3Pe2o/YSU88W0hWlm9S22W7XI1JFNJ86U0zPKMf8=\ngithub.com/dsoprea/go-png-image-structure/v2 v2.0.0-20210512210324-29b889a6093d h1:2zNIgrJTspLxUKoJGl0Ln24+hufPKSjP3cu4++5MeSE=\ngithub.com/dsoprea/go-png-image-structure/v2 v2.0.0-20210512210324-29b889a6093d/go.mod h1:scnx0wQSM7UiCMK66dSdiPZvL2hl6iF5DvpZ7uT59MY=\ngithub.com/dsoprea/go-utility v0.0.0-20200711062821-fab8125e9bdf/go.mod h1:95+K3z2L0mqsVYd6yveIv1lmtT3tcQQ3dVakPySffW8=\ngithub.com/dsoprea/go-utility/v2 v2.0.0-20200717064901-2fccff4aa15e/go.mod h1:uAzdkPTub5Y9yQwXe8W4m2XuP0tK4a9Q/dantD0+uaU=\ngithub.com/dsoprea/go-utility/v2 v2.0.0-20221003142440-7a1927d49d9d/go.mod h1:LVjRU0RNUuMDqkPTxcALio0LWPFPXxxFCvVGVAwEpFc=\ngithub.com/dsoprea/go-utility/v2 v2.0.0-20221003160719-7bc88537c05e/go.mod h1:VZ7cB0pTjm1ADBWhJUOHESu4ZYy9JN+ZPqjfiW09EPU=\ngithub.com/dsoprea/go-utility/v2 v2.0.0-20221003172846-a3e1774ef349 h1:DilThiXje0z+3UQ5YjYiSRRzVdtamFpvBQXKwMglWqw=\ngithub.com/dsoprea/go-utility/v2 v2.0.0-20221003172846-a3e1774ef349/go.mod h1:4GC5sXji84i/p+irqghpPFZBF8tRN/Q7+700G0/DLe8=\ngithub.com/ericpauley/go-quantize v0.0.0-20200331213906-ae555eb2afa4 h1:BBade+JlV/f7JstZ4pitd4tHhpN+w+6I+LyOS7B4fyU=\ngithub.com/ericpauley/go-quantize v0.0.0-20200331213906-ae555eb2afa4/go.mod h1:H7chHJglrhPPzetLdzBleF8d22WYOv7UM/lEKYiwlKM=\ngithub.com/fsnotify/fsnotify v1.7.1-0.20240403050945-7086bea086b7 h1:5ZeiG5gIjLqPKLl+f5zv++9ZO2oxA6hmZ3e7G0mMW1M=\ngithub.com/fsnotify/fsnotify v1.7.1-0.20240403050945-7086bea086b7/go.mod h1:40Bi/Hjc2AVfZrqy+aj+yEI+/bRxZnMJyTJwOpGvigM=\ngithub.com/go-errors/errors v1.0.1/go.mod h1:f4zRHt4oKfwPJE5k8C9vpYG+aDHdBFUsgrm6/TyX73Q=\ngithub.com/go-errors/errors v1.0.2/go.mod h1:psDX2osz5VnTOnFWbDeWwS7yejl+uV3FEWEp4lssFEs=\ngithub.com/go-errors/errors v1.1.1/go.mod h1:psDX2osz5VnTOnFWbDeWwS7yejl+uV3FEWEp4lssFEs=\ngithub.com/go-errors/errors v1.4.2/go.mod h1:sIVyrIiJhuEF+Pj9Ebtd6P/rEYROXFi3BopGUQ5a5Og=\ngithub.com/go-errors/errors v1.5.1 h1:ZwEMSLRCapFLflTpT7NKaAc7ukJ8ZPEjzlxt8rPN8bk=\ngithub.com/go-errors/errors v1.5.1/go.mod h1:sIVyrIiJhuEF+Pj9Ebtd6P/rEYROXFi3BopGUQ5a5Og=\ngithub.com/go-fonts/liberation v0.3.1 h1:9RPT2NhUpxQ7ukUvz3jeUckmN42T9D9TpjtQcqK/ceM=\ngithub.com/go-fonts/liberation v0.3.1/go.mod h1:jdJ+cqF+F4SUL2V+qxBth8fvBpBDS7yloUL5Fi8GTGY=\ngithub.com/go-jose/go-jose/v3 v3.0.3 h1:fFKWeig/irsp7XD2zBxvnmA/XaRWp5V3CBsZXJF7G7k=\ngithub.com/go-jose/go-jose/v3 v3.0.3/go.mod h1:5b+7YgP7ZICgJDBdfjZaIt+H/9L9T/YQrVfLAMboGkQ=\ngithub.com/go-latex/latex v0.0.0-20230307184459-12ec69307ad9 h1:NxXI5pTAtpEaU49bpLpQoDsu1zrteW/vxzTz8Cd2UAs=\ngithub.com/go-latex/latex v0.0.0-20230307184459-12ec69307ad9/go.mod h1:gWuR/CrFDDeVRFQwHPvsv9soJVB/iqymhuZQuJ3a9OM=\ngithub.com/go-pdf/fpdf v0.8.0 h1:IJKpdaagnWUeSkUFUjTcSzTppFxmv8ucGQyNPQWxYOQ=\ngithub.com/go-pdf/fpdf v0.8.0/go.mod h1:gfqhcNwXrsd3XYKte9a7vM3smvU/jB4ZRDrmWSxpfdc=\ngithub.com/go-sourcemap/sourcemap v2.1.4+incompatible h1:a+iTbH5auLKxaNwQFg0B+TCYl6lbukKPc7b5x0n1s6Q=\ngithub.com/go-sourcemap/sourcemap v2.1.4+incompatible/go.mod h1:F8jJfvm2KbVjc5NqelyYJmf/v5J0dwNLS2mL4sNA1Jg=\ngithub.com/go-stack/stack v1.8.1 h1:ntEHSVwIt7PNXNpgPmVfMrNhLtgjlmnZha2kOpuRiDw=\ngithub.com/go-stack/stack v1.8.1/go.mod h1:dcoOX6HbPZSZptuspn9bctJ+N/CnF5gGygcUP3XYfe4=\ngithub.com/golang/freetype v0.0.0-20170609003504-e2365dfdc4a0 h1:DACJavvAHhabrF08vX0COfcOBJRhZ8lUbR+ZWIs0Y5g=\ngithub.com/golang/freetype v0.0.0-20170609003504-e2365dfdc4a0/go.mod h1:E/TSTwGwJL78qG/PmXZO1EjYhfJinVAhrmmHX6Z8B9k=\ngithub.com/golang/geo v0.0.0-20190916061304-5b978397cfec/go.mod h1:QZ0nwyI2jOfgRAoBvP+ab5aRr7c9x7lhGEJrKvBwjWI=\ngithub.com/golang/geo v0.0.0-20200319012246-673a6f80352d/go.mod h1:QZ0nwyI2jOfgRAoBvP+ab5aRr7c9x7lhGEJrKvBwjWI=\ngithub.com/golang/geo v0.0.0-20210211234256-740aa86cb551/go.mod h1:QZ0nwyI2jOfgRAoBvP+ab5aRr7c9x7lhGEJrKvBwjWI=\ngithub.com/golang/geo v0.0.0-20230421003525-6adc56603217 h1:HKlyj6in2JV6wVkmQ4XmG/EIm+SCYlPZ+V4GWit7Z+I=\ngithub.com/golang/geo v0.0.0-20230421003525-6adc56603217/go.mod h1:8wI0hitZ3a1IxZfeH3/5I97CI8i5cLGsYe7xNhQGs9U=\ngithub.com/google/go-cmp v0.5.9/go.mod h1:17dUlkBOakJ0+DkrSSNjCkIjxS6bF9zb3elmeNGIjoY=\ngithub.com/google/pprof v0.0.0-20240927180334-d43a67379298 h1:dMHbguTqGtorivvHTaOnbYp+tFzrw5M9gjkU4lCplgg=\ngithub.com/google/pprof v0.0.0-20240927180334-d43a67379298/go.mod h1:vavhavw2zAxS5dIdcRluK6cSGGPlZynqzFM8NdvU144=\ngithub.com/hexops/gotextdiff v1.0.3 h1:gitA9+qJrrTCsiCl7+kh75nPqQt1cx4ZkudSTLoUqJM=\ngithub.com/hexops/gotextdiff v1.0.3/go.mod h1:pSWU5MAI3yDq+fZBTazCSJysOMbxWL1BSow5/V2vxeg=\ngithub.com/jessevdk/go-flags v1.4.0/go.mod h1:4FA24M0QyGHXBuZZK/XkWh8h0e1EYbRYJSGM75WSRxI=\ngithub.com/jessevdk/go-flags v1.5.0/go.mod h1:Fw0T6WPc1dYxT4mKEZRfG5kJhaTDP9pj1c2EWnYs/m4=\ngithub.com/jung-kurt/gofpdf v1.0.0/go.mod h1:7Id9E/uU8ce6rXgefFLlgrJj/GYY22cpxn+r32jIOes=\ngithub.com/jung-kurt/gofpdf v1.16.2 h1:jgbatWHfRlPYiK85qgevsZTHviWXKwB1TTiKdz5PtRc=\ngithub.com/jung-kurt/gofpdf v1.16.2/go.mod h1:1hl7y57EsiPAkLbOwzpzqgx1A30nQCk/YmFV8S2vmK0=\ngithub.com/kr/pretty v0.3.1 h1:flRD4NNwYAUpkphVc1HcthR4KEIFJ65n8Mw5qdRn3LE=\ngithub.com/kr/pretty v0.3.1/go.mod h1:hoEshYVHaxMs3cyo3Yncou5ZscifuDolrwPKZanG3xk=\ngithub.com/kr/text v0.2.0 h1:5Nx0Ya0ZqY2ygV366QzturHI13Jq95ApcVaJBhpS+AY=\ngithub.com/kr/text v0.2.0/go.mod h1:eLer722TekiGuMkidMxC/pM04lWEeraHUUmBw8l2grE=\ngithub.com/lucasb-eyer/go-colorful v1.2.0 h1:1nnpGOrhyZZuNyfu1QjKiUICQ74+3FNCN69Aj6K7nkY=\ngithub.com/lucasb-eyer/go-colorful v1.2.0/go.mod h1:R4dSotOR9KMtayYi1e77YzuveK+i7ruzyGqttikkLy0=\ngithub.com/mazznoer/csscolorparser v0.1.5 h1:Wr4uNIE+pHWN3TqZn2SGpA2nLRG064gB7WdSfSS5cz4=\ngithub.com/mazznoer/csscolorparser v0.1.5/go.mod h1:OQRVvgCyHDCAquR1YWfSwwaDcM0LhnSffGnlbOew/3I=\ngithub.com/mitchellh/go-ps v1.0.0 h1:i6ampVEEF4wQFF+bkYfwYgY+F/uYJDktmvLPf7qIgjc=\ngithub.com/mitchellh/go-ps v1.0.0/go.mod h1:J4lOc8z8yJs6vUwklHw2XEIiT4z4C40KtWVN3nvg8Pg=\ngithub.com/phpdave11/gofpdi v1.0.7/go.mod h1:vBmVV0Do6hSBHC8uKUQ71JGW+ZGQq74llk/7bXwjDoI=\ngithub.com/pkg/browser v0.0.0-20240102092130-5ac0b6a4141c h1:+mdjkGKdHQG3305AYmdv1U2eRNDiU2ErMBj1gwrq8eQ=\ngithub.com/pkg/browser v0.0.0-20240102092130-5ac0b6a4141c/go.mod h1:7rwL4CYBLnjLxUqIJNnCWiEdr3bn6IUYi15bNlnbCCU=\ngithub.com/pkg/errors v0.8.1/go.mod h1:bwawxfHBFNV+L2hUp1rHADufV3IMtnDRdf1r5NINEl0=\ngithub.com/playwright-community/playwright-go v0.4702.0 h1:3CwNpk4RoA42tyhmlgPDMxYEYtMydaeEqMYiW0RNlSY=\ngithub.com/playwright-community/playwright-go v0.4702.0/go.mod h1:bpArn5TqNzmP0jroCgw4poSOG9gSeQg490iLqWAaa7w=\ngithub.com/pmezard/go-difflib v1.0.0 h1:4DBwDE0NGyQoBHbLQYPwSUPoCMWR5BEzIk/f1lZbAQM=\ngithub.com/pmezard/go-difflib v1.0.0/go.mod h1:iKH77koFhYxTK1pcRnkKkqfTogsbg7gZNVY4sRDYZ/4=\ngithub.com/rivo/uniseg v0.4.7 h1:WUdvkW8uEhrYfLC4ZzdpI2ztxP1I582+49Oc5Mq64VQ=\ngithub.com/rivo/uniseg v0.4.7/go.mod h1:FN3SvrM+Zdj16jyLfmOkMNblXMcoc8DfTHruCPUcx88=\ngithub.com/rogpeppe/go-internal v1.11.0 h1:cWPaGQEPrBb5/AsnsZesgZZ9yb1OQ+GOISoDNXVBh4M=\ngithub.com/rogpeppe/go-internal v1.11.0/go.mod h1:ddIwULY96R17DhadqLgMfk9H9tvdUzkipdSkR5nkCZA=\ngithub.com/ruudk/golang-pdf417 v0.0.0-20181029194003-1af4ab5afa58/go.mod h1:6lfFZQK844Gfx8o5WFuvpxWRwnSoipWe/p622j1v06w=\ngithub.com/spf13/pflag v1.0.5 h1:iy+VFUOCP1a+8yFto/drg2CJ5u0yRoB7fZw3DKv/JXA=\ngithub.com/spf13/pflag v1.0.5/go.mod h1:McXfInJRrz4CZXVZOBLb0bTZqETkiAhM9Iw0y3An2Bg=\ngithub.com/stretchr/objx v0.1.0/go.mod h1:HFkY916IF+rwdDfMAkV7OtwuqBVzrE8GR6GFx+wExME=\ngithub.com/stretchr/testify v1.2.2/go.mod h1:a8OnRcib4nhh0OaRAV+Yts87kKdq0PP7pXfy6kDkUVs=\ngithub.com/stretchr/testify v1.7.0/go.mod h1:6Fq8oRcR53rry900zMqJjRRixrwX3KX962/h/Wwjteg=\ngithub.com/stretchr/testify v1.9.0 h1:HtqpIVDClZ4nwg75+f6Lvsy/wHu+3BoSGCbBAcpTsTg=\ngithub.com/stretchr/testify v1.9.0/go.mod h1:r2ic/lqez/lEtzL7wO/rwa5dbSLXVDPFyf8C91i36aY=\ngithub.com/yuin/goldmark v1.4.13/go.mod h1:6yULJ656Px+3vBD8DxQVa3kxgyrAnzto9xy5taEt/CY=\ngithub.com/yuin/goldmark v1.7.4 h1:BDXOHExt+A7gwPCJgPIIq7ENvceR7we7rOS9TNoLZeg=\ngithub.com/yuin/goldmark v1.7.4/go.mod h1:uzxRWxtg69N339t3louHJ7+O03ezfj6PlliRlaOzY1E=\ngo.uber.org/multierr v1.11.0 h1:blXXJkSxSSfBVBlC76pxqeO+LN3aDfLQo+309xJstO0=\ngo.uber.org/multierr v1.11.0/go.mod h1:20+QtiLqy0Nd6FdQB9TLXag12DsQkrbs3htMFfDN80Y=\ngolang.org/x/crypto v0.0.0-20190308221718-c2843e01d9a2/go.mod h1:djNgcEr1/C05ACkg1iLfiJU5Ep61QUkGW8qpdssI0+w=\ngolang.org/x/crypto v0.0.0-20210921155107-089bfa567519/go.mod h1:GvvjBRRGRdwPK5ydBHafDWAxML/pGHZbMvKqRZ5+Abc=\ngolang.org/x/crypto v0.19.0/go.mod h1:Iy9bg/ha4yyC70EfRS8jz+B6ybOBKMaSxLj6P6oBDfU=\ngolang.org/x/exp v0.0.0-20240909161429-701f63a606c0 h1:e66Fs6Z+fZTbFBAxKfP3PALWBtpfqks2bwGcexMxgtk=\ngolang.org/x/exp v0.0.0-20240909161429-701f63a606c0/go.mod h1:2TbTHSBQa924w8M6Xs1QcRcFwyucIwBGpK1p2f1YFFY=\ngolang.org/x/image v0.0.0-20190910094157-69e4b8554b2a/go.mod h1:FeLwcggjj3mMvU+oOTbSwawSJRM1uh48EjtB4UJZlP0=\ngolang.org/x/image v0.20.0 h1:7cVCUjQwfL18gyBJOmYvptfSHS8Fb3YUDtfLIZ7Nbpw=\ngolang.org/x/image v0.20.0/go.mod h1:0a88To4CYVBAHp5FXJm8o7QbUl37Vd85ply1vyD8auM=\ngolang.org/x/mod v0.6.0-dev.0.20220419223038-86c51ed26bb4/go.mod h1:jJ57K6gSWd91VN4djpZkiMVwK6gcyfeH4XE8wZrZaV4=\ngolang.org/x/mod v0.8.0/go.mod h1:iBbtSCu2XBx23ZKBPSOrRkjjQPZFPuis4dIYUhu/chs=\ngolang.org/x/net v0.0.0-20190620200207-3b0461eec859/go.mod h1:z5CRVTTTmAJ677TzLLGU+0bjPO0LkuOLi4/5GtJWs/s=\ngolang.org/x/net v0.0.0-20191209160850-c0dbc17a3553/go.mod h1:z5CRVTTTmAJ677TzLLGU+0bjPO0LkuOLi4/5GtJWs/s=\ngolang.org/x/net v0.0.0-20200320220750-118fecf932d8/go.mod h1:z5CRVTTTmAJ677TzLLGU+0bjPO0LkuOLi4/5GtJWs/s=\ngolang.org/x/net v0.0.0-20200501053045-e0ff5e5a1de5/go.mod h1:qpuaurCH72eLCgpAm/N6yyVIVM9cpaDIP3A8BGJEC5A=\ngolang.org/x/net v0.0.0-20200513185701-a91f0712d120/go.mod h1:qpuaurCH72eLCgpAm/N6yyVIVM9cpaDIP3A8BGJEC5A=\ngolang.org/x/net v0.0.0-20200520182314-0ba52f642ac2/go.mod h1:qpuaurCH72eLCgpAm/N6yyVIVM9cpaDIP3A8BGJEC5A=\ngolang.org/x/net v0.0.0-20210226172049-e18ecbb05110/go.mod h1:m0MpNAwzfU5UDzcl9v0D8zg8gWTRqZa9RBIspLL5mdg=\ngolang.org/x/net v0.0.0-20220722155237-a158d28d115b/go.mod h1:XRhObCWvk6IyKnWLug+ECip1KBveYUHfp+8e9klMJ9c=\ngolang.org/x/net v0.0.0-20221002022538-bcab6841153b/go.mod h1:YDH+HFinaLZZlnHAfSS6ZXJJ9M9t4Dl22yv3iI2vPwk=\ngolang.org/x/net v0.6.0/go.mod h1:2Tu9+aMcznHK/AK1HMvgo6xiTLG5rD5rZLDS+rp2Bjs=\ngolang.org/x/net v0.9.0/go.mod h1:d48xBJpPfHeWQsugry2m+kC02ZBRGRgulfHnEXEuWns=\ngolang.org/x/net v0.10.0/go.mod h1:0qNGK6F8kojg2nk9dLZ2mShWaEBan6FAoqfSigmmuDg=\ngolang.org/x/net v0.29.0 h1:5ORfpBpCs4HzDYoodCDBbwHzdR5UrLBZ3sOnUJmFoHo=\ngolang.org/x/net v0.29.0/go.mod h1:gLkgy8jTGERgjzMic6DS9+SP0ajcu6Xu3Orq/SpETg0=\ngolang.org/x/sync v0.0.0-20190423024810-112230192c58/go.mod h1:RxMgew5VJxzue5/jJTE5uejpjVlOe/izrB70Jof72aM=\ngolang.org/x/sync v0.0.0-20220722155255-886fb9371eb4/go.mod h1:RxMgew5VJxzue5/jJTE5uejpjVlOe/izrB70Jof72aM=\ngolang.org/x/sync v0.1.0/go.mod h1:RxMgew5VJxzue5/jJTE5uejpjVlOe/izrB70Jof72aM=\ngolang.org/x/sys v0.0.0-20190215142949-d0b11bdaac8a/go.mod h1:STP8DvDyc/dI5b8T5hshtkjS+E42TnysNCUPdjciGhY=\ngolang.org/x/sys v0.0.0-20200323222414-85ca7c5b95cd/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=\ngolang.org/x/sys v0.0.0-20201119102817-f84b799fce68/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=\ngolang.org/x/sys v0.0.0-20210320140829-1e4c9ba3b0c4/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=\ngolang.org/x/sys v0.0.0-20210615035016-665e8c7367d1/go.mod h1:oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg=\ngolang.org/x/sys v0.0.0-20220520151302-bc2c85ada10a/go.mod h1:oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg=\ngolang.org/x/sys v0.0.0-20220722155257-8c9f86f7a55f/go.mod h1:oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg=\ngolang.org/x/sys v0.0.0-20220728004956-3c1f35247d10/go.mod h1:oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg=\ngolang.org/x/sys v0.0.0-20220928140112-f11e5e49a4ec/go.mod h1:oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg=\ngolang.org/x/sys v0.1.0/go.mod h1:oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg=\ngolang.org/x/sys v0.5.0/go.mod h1:oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg=\ngolang.org/x/sys v0.7.0/go.mod h1:oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg=\ngolang.org/x/sys v0.8.0/go.mod h1:oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg=\ngolang.org/x/sys v0.17.0/go.mod h1:/VUhepiaJMQUp4+oa/7Zr1D23ma6VTLIYjOOTFZPUcA=\ngolang.org/x/sys v0.25.0 h1:r+8e+loiHxRqhXVl6ML1nO3l1+oFoWbnlu2Ehimmi34=\ngolang.org/x/sys v0.25.0/go.mod h1:/VUhepiaJMQUp4+oa/7Zr1D23ma6VTLIYjOOTFZPUcA=\ngolang.org/x/term v0.0.0-20201126162022-7de9c90e9dd1/go.mod h1:bj7SfCRtBDWHUb9snDiAeCFNEtKQo2Wmx5Cou7ajbmo=\ngolang.org/x/term v0.0.0-20210927222741-03fcf44c2211/go.mod h1:jbD1KX2456YbFQfuXm/mYQcufACuNUgVhRMnK/tPxf8=\ngolang.org/x/term v0.5.0/go.mod h1:jMB1sMXY+tzblOD4FWmEbocvup2/aLOaQEp7JmGp78k=\ngolang.org/x/term v0.7.0/go.mod h1:P32HKFT3hSsZrRxla30E9HqToFYAQPCMs/zFMBUFqPY=\ngolang.org/x/term v0.8.0/go.mod h1:xPskH00ivmX89bAKVGSKKtLOWNx2+17Eiy94tnKShWo=\ngolang.org/x/term v0.17.0/go.mod h1:lLRBjIVuehSbZlaOtGMbcMncT+aqLLLmKrsjNrUguwk=\ngolang.org/x/term v0.24.0 h1:Mh5cbb+Zk2hqqXNO7S1iTjEphVL+jb8ZWaqh/g+JWkM=\ngolang.org/x/term v0.24.0/go.mod h1:lOBK/LVxemqiMij05LGJ0tzNr8xlmwBRJ81PX6wVLH8=\ngolang.org/x/text v0.3.0/go.mod h1:NqM8EUOU14njkJ3fqMW+pc6Ldnwhi/IjpwHt7yyuwOQ=\ngolang.org/x/text v0.3.3/go.mod h1:5Zoc/QRtKVWzQhOtBMvqHzDpF6irO9z98xDceosuGiQ=\ngolang.org/x/text v0.3.7/go.mod h1:u+2+/6zg+i71rQMx5EYifcz6MCKuco9NR6JIITiCfzQ=\ngolang.org/x/text v0.7.0/go.mod h1:mrYo+phRRbMaCq/xk9113O4dZlRixOauAjOtrjsXDZ8=\ngolang.org/x/text v0.9.0/go.mod h1:e1OnstbJyHTd6l/uOt8jFFHp6TRDWZR/bV3emEE/zU8=\ngolang.org/x/text v0.14.0/go.mod h1:18ZOQIKpY8NJVqYksKHtTdi31H5itFRjB5/qKTNYzSU=\ngolang.org/x/text v0.18.0 h1:XvMDiNzPAl0jr17s6W9lcaIhGUfUORdGCNsuLmPG224=\ngolang.org/x/text v0.18.0/go.mod h1:BuEKDfySbSR4drPmRPG/7iBdf8hvFMuRexcpahXilzY=\ngolang.org/x/tools v0.0.0-20180917221912-90fa682c2a6e/go.mod h1:n7NCudcB/nEzxVGmLbDWY5pfWTLqBcC2KZ6jyYvM4mQ=\ngolang.org/x/tools v0.0.0-20191119224855-298f0cb1881e/go.mod h1:b+2E5dAYhXwXZwtnZ6UAqBI28+e2cm9otk0dWdXHAEo=\ngolang.org/x/tools v0.1.12/go.mod h1:hNGJHUnrk76NpqgfD5Aqm5Crs+Hm0VOH/i9J2+nxYbc=\ngolang.org/x/tools v0.6.0/go.mod h1:Xwgl3UAJ/d3gWutnCtw505GrjyAbvKui8lOU390QaIU=\ngolang.org/x/tools v0.25.0 h1:oFU9pkj/iJgs+0DT+VMHrx+oBKs/LJMV+Uvg78sl+fE=\ngolang.org/x/tools v0.25.0/go.mod h1:/vtpO8WL1N9cQC3FN5zPqb//fRXskFHbLKk4OW1Q7rg=\ngolang.org/x/xerrors v0.0.0-20190717185122-a985d3407aa7/go.mod h1:I/5z698sn9Ka8TeJc9MKroUUfqBBauWjQqLJ2OPfmY0=\ngolang.org/x/xerrors v0.0.0-20240903120638-7835f813f4da h1:noIWHXmPHxILtqtCOPIhSt0ABwskkZKjD3bXGnZGpNY=\ngolang.org/x/xerrors v0.0.0-20240903120638-7835f813f4da/go.mod h1:NDW/Ps6MPRej6fsCIbMTohpP40sJ/P/vI1MoTEGwX90=\ngonum.org/v1/plot v0.14.0 h1:+LBDVFYwFe4LHhdP8coW6296MBEY4nQ+Y4vuUpJopcE=\ngonum.org/v1/plot v0.14.0/go.mod h1:MLdR9424SJed+5VqC6MsouEpig9pZX2VZ57H9ko2bXU=\ngopkg.in/check.v1 v0.0.0-20161208181325-20d25e280405/go.mod h1:Co6ibVJAznAaIkqp8huTwlJQCZ016jof/cbN4VW5Yz0=\ngopkg.in/check.v1 v1.0.0-20201130134442-10cb98267c6c h1:Hei/4ADfdWqJk1ZMxUNpqntNwaWcugrBjAiHlqqRiVk=\ngopkg.in/check.v1 v1.0.0-20201130134442-10cb98267c6c/go.mod h1:JHkPIbrfpd72SG/EVd6muEfDQjcINNoR0C8j2r3qZ4Q=\ngopkg.in/yaml.v2 v2.2.7/go.mod h1:hI93XBmqTisBFMUTm0b8Fm+jr3Dg1NNxqwp+5A1VGuI=\ngopkg.in/yaml.v2 v2.3.0/go.mod h1:hI93XBmqTisBFMUTm0b8Fm+jr3Dg1NNxqwp+5A1VGuI=\ngopkg.in/yaml.v2 v2.4.0 h1:D8xgwECY7CYvx+Y2n4sBz93Jn9JRvxdiyyo8CTfuKaY=\ngopkg.in/yaml.v2 v2.4.0/go.mod h1:RDklbk79AGWmwhnvt/jBztapEOGDOx6ZbXqjP6csGnQ=\ngopkg.in/yaml.v3 v3.0.0-20200313102051-9f266ea9e77c/go.mod h1:K4uyk7z7BCEPqu6E+C64Yfv1cQ7kz7rIZviUmN+EgEM=\ngopkg.in/yaml.v3 v3.0.1 h1:fxVm/GzAzEWqLHuvctI91KS9hhNmmWOoWu0XTYJS7CA=\ngopkg.in/yaml.v3 v3.0.1/go.mod h1:K4uyk7z7BCEPqu6E+C64Yfv1cQ7kz7rIZviUmN+EgEM=\nnhooyr.io/websocket v1.8.17 h1:KEVeLJkUywCKVsnLIDlD/5gtayKp8VoCkksHCGGfT9Y=\nnhooyr.io/websocket v1.8.17/go.mod h1:rN9OFWIUwuxg4fR5tELlYC04bXYowCP9GX47ivo2l+c=\noss.terrastruct.com/util-go v0.0.0-20241005222610-44c011a04896 h1:g752s1ECv9FD8GunFOZRGWzjeR0cr/TZdSsjAnFEmL8=\noss.terrastruct.com/util-go v0.0.0-20241005222610-44c011a04896/go.mod h1:eMWv0sOtD9T2RUl90DLWfuShZCYp4NrsqNpI8eqO6U4=\nrsc.io/pdf v0.1.1 h1:k1MczvYDUvJBe93bYd7wrZLLUEcLZAuF824/I4e5Xr4=\nrsc.io/pdf v0.1.1/go.mod h1:n8OzWcQ6Sp37PL01nO98y4iUCRdTGarVfzxY20ICaU4=\n"
        },
        {
          "name": "install.sh",
          "type": "blob",
          "size": 26.9345703125,
          "content": "#!/bin/sh\nset -eu\n\n# *************\n# DO NOT EDIT\n#\n# install.sh was bundled together from\n#\n# - ./ci/sub/lib/rand.sh\n# - ./ci/sub/lib/temp.sh\n# - ./ci/sub/lib/log.sh\n# - ./ci/sub/lib/flag.sh\n# - ./ci/sub/lib/release.sh\n# - ./ci/release/_install.sh\n#\n# The last of which implements the installation logic.\n#\n# Generated by ./ci/release/gen_install.sh.\n# *************\n\n#!/bin/sh\nif [ \"${LIB_RAND-}\" ]; then\n  return 0\nfi\nLIB_RAND=1\n\npick() {\n  seed=\"$1\"\n  shift\n\n  seed_file=\"$(mktempd)/pickseed\"\n\n  # We add 32 more bytes to the seed file for sufficient entropy. Otherwise both Cygwin's\n  # and MinGW's sort for example complains about the lack of entropy on stderr and writes\n  # nothing to stdout. I'm sure there are more platforms that would too.\n  #\n  # We also limit to a max of 32 bytes as otherwise macOS's sort complains that the random\n  # seed is too large. Probably more platforms too.\n  (echo \"$seed\" && echo \"================================\") | head -c32 >\"$seed_file\"\n\n  while [ $# -gt 0 ]; do\n    echo \"$1\"\n    shift\n  done \\\n    | sort --sort=random --random-source=\"$seed_file\" \\\n    | head -n1\n}\n#!/bin/sh\nif [ \"${LIB_TEMP-}\" ]; then\n  return 0\nfi\nLIB_TEMP=1\n\nensure_tmpdir() {\n  if [ -n \"${_TMPDIR-}\" ]; then\n    return\n  fi\n  _TMPDIR=$(mktemp -d)\n  export _TMPDIR\n}\n\nif [ -z \"${_TMPDIR-}\" ]; then\n  trap 'rm -Rf \"$_TMPDIR\"' EXIT\nfi\nensure_tmpdir\n\ntemppath() {\n  while true; do\n    temppath=$_TMPDIR/$(</dev/urandom od -N8 -tx -An -v | tr -d '[:space:]')\n    if [ ! -e \"$temppath\" ]; then\n      echo \"$temppath\"\n      return\n    fi\n  done\n}\n\nmktempd() {\n  tp=$(temppath)\n  mkdir -p \"$tp\"\n  echo \"$tp\"\n}\n#!/bin/sh\nif [ \"${LIB_LOG-}\" ]; then\n  return 0\nfi\nLIB_LOG=1\n\nif [ -n \"${TRACE-}\" ]; then\n  set -x\nfi\n\ntput() {\n  if should_color; then\n    TERM=${TERM:-xterm-256color} command tput \"$@\"\n  fi\n}\n\nshould_color() {\n  if [ -n \"${COLOR-}\" ]; then\n    if [ \"$COLOR\" = 1 -o \"$COLOR\" = true ]; then\n      _COLOR=1\n      __COLOR=1\n      return 0\n    elif [ \"$COLOR\" = 0 -o \"$COLOR\" = false ]; then\n      _COLOR=\n      __COLOR=0\n      return 1\n    else\n      printf '$COLOR must be 0, 1, false or true but got %s\\n' \"$COLOR\" >&2\n    fi\n  fi\n\n  if [ -t 1 -a \"${TERM-}\" != dumb ]; then\n    _COLOR=1\n    __COLOR=1\n    return 0\n  else\n    _COLOR=\n    __COLOR=0\n    return 1\n  fi\n}\n\nsetaf() {\n  fg=$1\n  shift\n  printf '%s\\n' \"$*\" | while IFS= read -r line; do\n    tput setaf \"$fg\"\n    printf '%s' \"$line\"\n    tput sgr0\n    printf '\\n'\n  done\n}\n\n_echo() {\n  printf '%s\\n' \"$*\"\n}\n\nget_rand_color() {\n  if [ \"${TERM_COLORS+x}\" != x ]; then\n    TERM_COLORS=\"\"\n    export TERM_COLORS\n    ncolors=$(TERM=${TERM:-xterm-256color} command tput colors)\n    if [ \"$ncolors\" -ge 8 ]; then\n      # 1-6 are regular\n      TERM_COLORS=\"$TERM_COLORS 1 2 3 4 5 6\"\n    elif [ \"$ncolors\" -ge 16 ]; then\n      # 9-14 are bright.\n      TERM_COLORS=\"$TERM_COLORS 9 10 11 12 13 14\"\n    fi\n  fi\n  pick \"$*\" $TERM_COLORS\n}\n\nechop() {\n  prefix=\"$1\"\n  shift\n\n  if [ \"$#\" -gt 0 ]; then\n    printfp \"$prefix\" \"%s\\n\" \"$*\"\n  else\n    printfp \"$prefix\"\n    printf '\\n'\n  fi\n}\n\nprintfp() {(\n  prefix=\"$1\"\n  shift\n\n  _FGCOLOR=${FGCOLOR:-$(get_rand_color \"$prefix\")}\n  should_color || true\n  if [ $# -eq 0 ]; then\n    printf '%s' \"$(COLOR=$__COLOR setaf \"$_FGCOLOR\" \"$prefix\")\"\n  else\n    printf '%s: %s\\n' \"$(COLOR=$__COLOR setaf \"$_FGCOLOR\" \"$prefix\")\" \"$(printf \"$@\")\"\n  fi\n)}\n\ncatp() {\n  prefix=\"$1\"\n  shift\n\n  should_color || true\n  sed \"s/^/$(COLOR=$__COLOR printfp \"$prefix\" '')/\"\n}\n\nrepeat() {\n  char=\"$1\"\n  times=\"$2\"\n  seq -s \"$char\" \"$times\" | tr -d '[:digit:]'\n}\n\nstrlen() {\n  printf %s \"$1\" | wc -c\n}\n\nechoerr() {\n  FGCOLOR=1 logp err \"$*\"\n}\n\ncaterr() {\n  FGCOLOR=1 logpcat err \"$@\"\n}\n\nprintferr() {\n  FGCOLOR=1 logfp err \"$@\"\n}\n\nlogp() {\n  should_color >&2 || true\n  COLOR=$__COLOR echop \"$@\" | humanpath >&2\n}\n\nlogfp() {\n  should_color >&2 || true\n  COLOR=$__COLOR printfp \"$@\" | humanpath >&2\n}\n\nlogpcat() {\n  should_color >&2 || true\n  COLOR=$__COLOR catp \"$@\" | humanpath >&2\n}\n\nlog() {\n  FGCOLOR=5 logp log \"$@\"\n}\n\nlogf() {\n  FGCOLOR=5 logfp log \"$@\"\n}\n\nlogcat() {\n  FGCOLOR=5 logpcat log \"$@\"\n}\n\nwarn() {\n  FGCOLOR=3 logp warn \"$@\"\n}\n\nwarnf() {\n  FGCOLOR=3 logfp warn \"$@\"\n}\n\nwarncat() {\n  FGCOLOR=3 logpcat warn \"$@\"\n}\n\nsh_c() {\n  FGCOLOR=3 logp exec \"$*\"\n  if [ -z \"${DRY_RUN-}\" ]; then\n    eval \"$@\"\n  fi\n}\n\nsudo_sh_c() {\n  if [ \"$(id -u)\" -eq 0 ]; then\n    sh_c \"$@\"\n  elif command -v doas >/dev/null; then\n    sh_c \"doas $*\"\n  elif command -v sudo >/dev/null; then\n    sh_c \"sudo $*\"\n  elif command -v su >/dev/null; then\n    sh_c \"su root -c '$*'\"\n  else\n    caterr <<EOF\nUnable to run the following command as root:\n  $*\nPlease install doas, sudo, or su.\nEOF\n    return 1\n  fi\n}\n\nheader() {\n  FGCOLOR=${FGCOLOR:-4} logp \"/* $1 */\"\n}\n\nbigheader() {\n  set -- \"$(echo \"$*\" | sed \"s/^/ * /\")\"\n  FGCOLOR=${FGCOLOR:-6} logp \"/****************************************************************\n$*\n ****************************************************************/\"\n}\n\n# humanpath replaces all occurrences of \" $HOME\" with \" ~\"\n# and all occurrences of '$HOME' with the literal '$HOME'.\nhumanpath() {\n  if [ -z \"${HOME-}\" ]; then\n    cat\n  else\n    sed -e \"s# $HOME# ~#g\" -e \"s#$HOME#\\$HOME#g\"\n  fi\n}\n\nhide() {\n  out=\"$(mktempd)/hideout\"\n  capcode \"$@\" >\"$out\" 2>&1\n  if [ \"$code\" -eq 0 ]; then\n    return\n  fi\n  cat \"$out\" >&2\n  return \"$code\"\n}\n\nhide_stderr() {\n  out=\"$(mktempd)/hideout\"\n  capcode \"$@\" 2>\"$out\"\n  if [ \"$code\" -eq 0 ]; then\n    return\n  fi\n  cat \"$out\" >&2\n  return \"$code\"\n}\n\necho_dur() {\n  local dur=$1\n  local h=$((dur/60/60))\n  local m=$((dur/60%60))\n  local s=$((dur%60))\n  printf '%dh%dm%ds' \"$h\" \"$m\" \"$s\"\n}\n\nsponge() {\n  dst=\"$1\"\n  tmp=\"$(mktempd)/sponge\"\n  cat > \"$tmp\"\n  cat \"$tmp\" > \"$dst\"\n}\n\nstripansi() {\n  # First regex gets rid of standard xterm escape sequences for controlling\n  # visual attributes.\n  # The second regex I'm not 100% sure, the reference says it selects the US\n  # encoding but I'm not sure why that's necessary or why it always occurs\n  # in tput sgr0 before the standard escape sequence.\n  # See tput sgr0 | xxd\n  sed -e $'s/\\x1b\\[[0-9;]*m//g' -e $'s/\\x1b(.//g'\n}\n\nruntty() {\n  case \"$(uname)\" in\n    Darwin)\n      script -q /dev/null \"$@\"\n      ;;\n    Linux)\n      script -eqc \"$*\"\n      ;;\n    *)\n      echoerr \"runtty: unsupported OS $(uname)\"\n      return 1\n  esac\n}\n\ncapcode() {\n  set +e\n  \"$@\"\n  code=$?\n  set -e\n}\n\nstrjoin() {\n  (IFS=\"$1\"; shift; echo \"$*\")\n}\n#!/bin/sh\nif [ \"${LIB_FLAG-}\" ]; then\n  return 0\nfi\nLIB_FLAG=1\n\n# flag_parse implements a robust flag parser.\n#\n# For a full fledge example see ../examples/date.sh\n#\n# It differs from getopts(1) in that long form options are supported. Currently the only\n# deficiency is that short combined options are not supported like -xyzq. That would be\n# interpreted as a single -xyzq flag. The other deficiency is lack of support for short\n# flag syntax like -carg where the arg is not separated from the flag. This one is\n# unfixable I believe unfortunately but for combined short flags I have opened\n# https://github.com/terrastruct/ci/issues/6\n#\n# flag_parse stores state in $FLAG, $FLAGRAW, $FLAGARG and $FLAGSHIFT.\n# FLAG contains the name of the flag without hyphens.\n# FLAGRAW contains the name of the flag as passed in with hyphens.\n# FLAGARG contains the argument for the flag if there was any.\n#   If there was none, it will not be set.\n# FLAGSHIFT contains the number by which the arguments should be shifted to\n#   start at the next flag/argument\n#\n# flag_parse exits with a non zero code when there are no more flags\n# to be parsed. Still, call shift \"$FLAGSHIFT\" in case there was a --\n#\n# If the argument for the flag is optional, then use ${FLAGARG-} to access\n# the argument if one was passed. Use ${FLAGARG+x} = x to check if it was set.\n# You only need to explicitly check if the flag was set if you care whether the user\n# explicitly passed the empty string as the argument.\n#\n# Otherwise, call one of the flag_*arg functions:\n#\n# If a flag requires an argument, call flag_reqarg\n#   - $FLAGARG is guaranteed to be set after.\n# If a flag requires a non empty argument, call flag_nonemptyarg\n#   - $FLAGARG is guaranteed to be set to a non empty string after.\n# If a flag should not be passed an argument, call flag_noarg\n#   - $FLAGARG is guaranteed to be unset after.\n#\n# And then shift \"$FLAGSHIFT\"\nflag_parse() {\n  case \"${1-}\" in\n    -*=*)\n      # Remove everything after first equal sign.\n      FLAG=\"${1%%=*}\"\n      # Remove leading hyphens.\n      FLAG=\"${FLAG#-}\"; FLAG=\"${FLAG#-}\"\n      FLAGRAW=\"$(flag_fmt)\"\n      # Remove everything before first equal sign.\n      FLAGARG=\"${1#*=}\"\n      FLAGSHIFT=1\n      return 0\n      ;;\n    -)\n      FLAGSHIFT=0\n      return 1\n      ;;\n    --)\n      FLAGSHIFT=1\n      return 1\n      ;;\n    -*)\n      # Remove leading hyphens.\n      FLAG=\"${1#-}\"; FLAG=\"${FLAG#-}\"\n      FLAGRAW=$(flag_fmt)\n      unset FLAGARG\n      FLAGSHIFT=1\n      if [ $# -gt 1 ]; then\n        case \"$2\" in\n          -)\n            FLAGARG=\"$2\"\n            FLAGSHIFT=2\n            ;;\n          -*)\n            ;;\n          *)\n            FLAGARG=\"$2\"\n            FLAGSHIFT=2\n            ;;\n        esac\n      fi\n      return 0\n      ;;\n    *)\n      FLAGSHIFT=0\n      return 1\n      ;;\n  esac\n}\n\nflag_reqarg() {\n  if [ \"${FLAGARG+x}\" != x ]; then\n    flag_errusage \"flag $FLAGRAW requires an argument\"\n  fi\n}\n\nflag_nonemptyarg() {\n  flag_reqarg\n  if [ -z \"$FLAGARG\" ]; then\n    flag_errusage \"flag $FLAGRAW requires a non-empty argument\"\n  fi\n}\n\nflag_noarg() {\n  if [ \"$FLAGSHIFT\" -eq 2 ]; then\n    unset FLAGARG\n    FLAGSHIFT=1\n  elif [ \"${FLAGARG+x}\" = x ]; then\n    # Means an argument was passed via equal sign as in -$FLAG=$FLAGARG\n    flag_errusage \"flag $FLAGRAW does not accept an argument\"\n  fi\n}\n\nflag_errusage() {\n  caterr <<EOF\n$1\nRun with --help for usage.\nEOF\n  return 1\n}\n\nflag_fmt() {\n  if [ \"$(printf %s \"$FLAG\" | wc -c)\" -eq 1 ]; then\n    echo \"-$FLAG\"\n  else\n    echo \"--$FLAG\"\n  fi\n}\n#!/bin/sh\nif [ \"${LIB_RELEASE-}\" ]; then\n  return 0\nfi\nLIB_RELEASE=1\n\nensure_os() {\n  if [ -n \"${OS-}\" ]; then\n    # Windows defines OS=Windows_NT.\n    if [ \"$OS\" = Windows_NT ]; then\n      OS=windows\n    fi\n    return\n  fi\n  uname=$(uname)\n  case $uname in\n    Linux) OS=linux;;\n    Darwin) OS=macos;;\n    FreeBSD) OS=freebsd;;\n    *) OS=$uname;;\n  esac\n}\n\nensure_arch() {\n  if [ -n \"${ARCH-}\" ]; then\n    return\n  fi\n  uname_m=$(uname -m)\n  case $uname_m in\n    aarch64) ARCH=arm64;;\n    x86_64) ARCH=amd64;;\n    *) ARCH=$uname_m;;\n  esac\n}\n\nensure_goos() {\n  if [ -n \"${GOOS-}\" ]; then\n    return\n  fi\n  ensure_os\n  case \"$OS\" in\n    macos) export GOOS=darwin;;\n    *) export GOOS=$OS;;\n  esac\n}\n\nensure_goarch() {\n  if [ -n \"${GOARCH-}\" ]; then\n    return\n  fi\n  ensure_arch\n  case \"$ARCH\" in\n    *) export GOARCH=$ARCH;;\n  esac\n}\n\ngh_repo() {\n  gh repo view --json nameWithOwner --template '{{ .nameWithOwner }}'\n}\n\nmanpath() {\n  if command -v manpath >/dev/null; then\n    command manpath\n  elif man -w 2>/dev/null; then\n    man -w\n  else\n    echo \"${MANPATH-}\"\n  fi\n}\n\nis_writable_dir() {\n  mkdir -p \"$1\" 2>/dev/null\n  # directory must exist otherwise -w returns 1 even for paths that should be writable.\n  [ -w \"$1\" ]\n}\n\nensure_prefix() {\n  if [ -n \"${PREFIX-}\" ]; then\n    return\n  fi\n  # The reason for checking whether lib is writable is that on macOS you have /usr/local\n  # owned by root but you don't need root to write to its subdirectories which is all we\n  # need to do.\n  if ! is_writable_dir \"/usr/local/lib\"; then\n    # This also handles M1 Mac's which do not allow modifications to /usr/local even\n    # with sudo.\n    PREFIX=$HOME/.local\n  else\n    PREFIX=/usr/local\n  fi\n}\n\nensure_prefix_sh_c() {\n  ensure_prefix\n\n  sh_c=\"sh_c\"\n  # The reason for checking whether lib is writable is that on macOS you have /usr/local\n  # owned by root but you don't need root to write to its subdirectories which is all we\n  # need to do.\n  if ! is_writable_dir \"$PREFIX/lib\"; then\n    sh_c=\"sudo_sh_c\"\n  fi\n}\n#!/bin/sh\nset -eu\n\n\nhelp() {\n  arg0=\"$0\"\n  if [ \"$0\" = sh ]; then\n    arg0=\"curl -fsSL https://d2lang.com/install.sh | sh -s --\"\n  fi\n\n  cat <<EOF\nusage: $arg0 [-d|--dry-run] [--version vX.X.X] [--edge] [--method detect] [--prefix path]\n  [--tala latest] [--force] [--uninstall] [-x|--trace]\n\ninstall.sh automates the installation of D2 onto your system. It currently only supports\nthe installation of standalone releases from GitHub and via Homebrew on macOS. See the\ndocs for --detect below for more information\n\nIf you pass --edge, it will clone the source, build a release and install from it.\n--edge is incompatible with --tala and currently unimplemented.\n\n\\$PREFIX in the docs below refers to the path set by --prefix. See docs on the --prefix\nflag below for the default.\n\nFlags:\n\n-d, --dry-run\n  Pass to have install.sh show the install method and flags that will be used to install\n  without executing them. Very useful to understand what changes it will make to your system.\n\n--version vX.X.X\n  Pass to have install.sh install the given version instead of the latest version.\n  warn: The version may not be obeyed with package manager installations. Use\n        --method=standalone to enforce the version.\n\n--edge\n  Pass to build and install D2 from source. This will still use --method if set to detect\n  to install the release archive for your OS, whether it's apt, yum, brew or standalone\n  if an unsupported package manager is used.\n\n  To install from source like a dev would, use go install oss.terrastruct.com/d2. There's\n  also ./ci/release/build.sh --install to build and install a proper standalone release\n  including manpages. The proper release will also ensure d2 --version shows the correct\n  version by embedding the commit hash into the binary.\n\n  note: currently unimplemented.\n  warn: incompatible with --tala as TALA is closed source.\n\n--method [detect | standalone | homebrew ]\n  Pass to control the method by which to install. Right now we only support standalone\n  releases from GitHub but later we'll add support for brew, rpm, deb and more.\n\n  - detect will use your OS's package manager automatically.\n    So far it only detects macOS and automatically uses homebrew.\n  - homebrew uses https://brew.sh/ which is a macOS and Linux package manager.\n  - standalone installs a standalone release archive into the unix hierarchy path\n     specified by --prefix\n\n--prefix path\n  Controls the unix hierarchy path into which standalone releases are installed.\n  Defaults to /usr/local or ~/.local if /usr/local is not writable by the current user.\n  Remember that whatever you use, you must have the bin directory of your prefix path in\n  \\$PATH to execute the d2 binary. For example, if my prefix directory is /usr/local then\n  my \\$PATH must contain /usr/local/bin.\n  You may also need to include \\$PREFIX/share/man into \\$MANPATH.\n  install.sh will tell you whether \\$PATH or \\$MANPATH need to be updated after successful\n  installation.\n\n--tala [latest]\n  Install Terrastruct's closed source TALA for improved layouts.\n  See https://github.com/terrastruct/tala\n  It optionally takes an argument of the TALA version to install.\n  Installation obeys all other flags, just like the installation of d2. For example,\n  the d2plugin-tala binary will be installed into \\$PREFIX/bin/d2plugin-tala\n  warn: The version may not be obeyed with package manager installations. Use\n        --method=standalone to enforce the version.\n\n--force:\n  Force installation over the existing version even if they match. It will attempt a\n  uninstall first before installing the new version. The installed release tree\n  will be deleted from \\$PREFIX/lib/d2/d2-<VERSION> but the release archive in\n  ~/.cache/d2/release will remain.\n\n--uninstall:\n  Uninstall the installed version of d2. The --method and --prefix flags must be the same\n  as for installation. i.e if you used --method standalone you must again use --method\n  standalone for uninstallation. With detect, the install script will try to use the OS\n  package manager to uninstall instead.\n  note: tala will also be uninstalled if installed.\n\n-x, --trace:\n  Run script with set -x.\n\nAll downloaded archives are cached into ~/.cache/d2/release. use \\$XDG_CACHE_HOME to change\npath of the cached assets. Release archives are unarchived into \\$PREFIX/lib/d2/d2-<VERSION>\n\nnote: Deleting the unarchived releases will cause --uninstall to stop working.\n\nYou can rerun install.sh to update your version of D2. install.sh will avoid reinstalling\nif the installed version is the latest unless --force is passed.\n\nSee https://github.com/terrastruct/d2/blob/master/docs/INSTALL.md#security for\ndocumentation on its security.\nEOF\n}\n\nmain() {\n  while flag_parse \"$@\"; do\n    case \"$FLAG\" in\n      h|help)\n        help\n        return 0\n        ;;\n      d|dry-run)\n        flag_noarg && shift \"$FLAGSHIFT\"\n        DRY_RUN=1\n        ;;\n      version)\n        flag_nonemptyarg && shift \"$FLAGSHIFT\"\n        VERSION=$FLAGARG\n        ;;\n      tala)\n        shift \"$FLAGSHIFT\"\n        TALA=${FLAGARG:-latest}\n        ;;\n      edge)\n        flag_noarg && shift \"$FLAGSHIFT\"\n        EDGE=1\n        echoerr \"$FLAGRAW is currently unimplemented\"\n        return 1\n        ;;\n      method)\n        flag_nonemptyarg && shift \"$FLAGSHIFT\"\n        METHOD=$FLAGARG\n        ;;\n      prefix)\n        flag_nonemptyarg && shift \"$FLAGSHIFT\"\n        export PREFIX=$FLAGARG\n        ;;\n      force)\n        flag_noarg && shift \"$FLAGSHIFT\"\n        FORCE=1\n        ;;\n      uninstall)\n        flag_noarg && shift \"$FLAGSHIFT\"\n        UNINSTALL=1\n        ;;\n      x|trace)\n        flag_noarg && shift \"$FLAGSHIFT\"\n        set -x\n        export TRACE=1\n        ;;\n      *)\n        flag_errusage \"unrecognized flag $FLAGRAW\"\n        ;;\n    esac\n  done\n  shift \"$FLAGSHIFT\"\n\n  if [ $# -gt 0 ]; then\n    flag_errusage \"no arguments are accepted\"\n  fi\n\n  REPO=${REPO:-terrastruct/d2}\n  ensure_os\n  ensure_arch\n  ensure_prefix\n  CACHE_DIR=$(cache_dir)\n  mkdir -p \"$CACHE_DIR\"\n  METHOD=${METHOD:-detect}\n  INSTALL_DIR=$PREFIX/lib/d2\n\n  case $METHOD in\n    detect)\n      case \"$OS\" in\n        macos)\n          if command -v brew >/dev/null; then\n            log \"detected macOS with homebrew, using homebrew for installation\"\n            METHOD=homebrew\n          else\n            warn \"detected macOS without homebrew, falling back to --method=standalone\"\n            METHOD=standalone\n          fi\n          ;;\n        linux|windows)\n          METHOD=standalone\n          ;;\n        *)\n          warn \"unrecognized OS $OS, falling back to --method=standalone\"\n          METHOD=standalone\n          ;;\n      esac\n      ;;\n    standalone) ;;\n    homebrew) ;;\n    *)\n      echoerr \"unknown installation method $METHOD\"\n      return 1\n      ;;\n  esac\n\n  if [ -n \"${UNINSTALL-}\" ]; then\n    uninstall\n    if [ -n \"${DRY_RUN-}\" ]; then\n      bigheader \"Rerun without --dry-run to execute printed commands and perform install.\"\n    fi\n  else\n    install\n    if [ -n \"${DRY_RUN-}\" ]; then\n      bigheader \"Rerun without --dry-run to execute printed commands and perform install.\"\n    fi\n  fi\n}\n\ninstall() {\n  case $METHOD in\n    standalone)\n      install_d2_standalone\n      if [ -n \"${TALA-}\" ]; then\n        # Run in subshell to avoid overwriting VERSION.\n        TALA_VERSION=\"$( RELEASE_INFO= install_tala_standalone && echo \"$VERSION\" )\"\n      fi\n      ;;\n    homebrew)\n      install_d2_brew\n      if [ -n \"${TALA-}\" ]; then install_tala_brew; fi\n      ;;\n  esac\n\n  FGCOLOR=2 bigheader 'next steps'\n  case $METHOD in\n    standalone) install_post_standalone ;;\n    homebrew) install_post_brew ;;\n  esac\n  install_post_warn\n}\n\ninstall_post_standalone() {\n  log \"d2-$VERSION-$OS-$ARCH has been successfully installed into $PREFIX\"\n  if [ -n \"${TALA-}\" ]; then\n    log \"tala-$TALA_VERSION-$OS-$ARCH has been successfully installed into $PREFIX\"\n  fi\n  log \"Rerun this install script with --uninstall to uninstall.\"\n  log\n  if ! echo \"$PATH\" | grep -qF \"$PREFIX/bin\"; then\n    logcat >&2 <<EOF\nExtend your \\$PATH to use d2:\n  export PATH=$PREFIX/bin:\\$PATH\nThen run:\n  ${TALA:+D2_LAYOUT=tala }d2 --help\nEOF\n  else\n    log \"Run ${TALA:+D2_LAYOUT=tala }d2 --help for usage.\"\n  fi\n  if ! manpath 2>/dev/null | grep -qF \"$PREFIX/share/man\"; then\n    logcat >&2 <<EOF\nExtend your \\$MANPATH to view d2's manpages:\n  export MANPATH=$PREFIX/share/man:\\$MANPATH\nThen run:\n  man d2\nEOF\n  if [ -n \"${TALA-}\" ]; then\n    log \"  man d2plugin-tala\"\n  fi\n  else\n    log \"Run man d2 for detailed docs.\"\n    if [ -n \"${TALA-}\" ]; then\n      log \"Run man d2plugin-tala for detailed TALA docs.\"\n    fi\n  fi\n}\n\ninstall_post_brew() {\n  log \"d2 has been successfully installed with homebrew.\"\n  if [ -n \"${TALA-}\" ]; then\n    log \"tala has been successfully installed with homebrew.\"\n  fi\n  log \"Rerun this install script with --uninstall to uninstall.\"\n  log\n  log \"Run ${TALA:+D2_LAYOUT=tala }d2 --help for usage.\"\n  log \"Run man d2 for detailed docs.\"\n  if [ -n \"${TALA-}\" ]; then\n    log \"Run man d2plugin-tala for detailed TALA docs.\"\n  fi\n\n  VERSION=$(brew info d2 | head -n1 | cut -d' ' -f4)\n  VERSION=${VERSION%,}\n  if [ -n \"${TALA-}\" ]; then\n    TALA_VERSION=$(brew info tala | head -n1 | cut -d' ' -f4)\n    TALA_VERSION=${TALA_VERSION%,}\n  fi\n}\n\ninstall_post_warn() {\n  if command -v d2 >/dev/null; then\n    INSTALLED_VERSION=$(d2 --version)\n    if [ \"$INSTALLED_VERSION\" != \"$VERSION\" ]; then\n      warn \"newly installed d2 $VERSION is shadowed by d2 $INSTALLED_VERSION in \\$PATH\"\n    fi\n  fi\n  if [ -n \"${TALA-}\" ] && command -v d2plugin-tala >/dev/null; then\n    INSTALLED_TALA_VERSION=$(d2plugin-tala --version)\n    if [ \"$INSTALLED_TALA_VERSION\" != \"$TALA_VERSION\" ]; then\n      warn \"newly installed d2plugin-tala $TALA_VERSION is shadowed by d2plugin-tala $INSTALLED_TALA_VERSION in \\$PATH\"\n    fi\n  fi\n}\n\ninstall_d2_standalone() {\n  VERSION=${VERSION:-latest}\n  header \"installing d2-$VERSION\"\n\n  if [ \"$VERSION\" = latest ]; then\n    fetch_release_info\n  fi\n\n  if command -v d2 >/dev/null; then\n    INSTALLED_VERSION=\"$(d2 --version)\"\n    if [ ! \"${FORCE-}\" -a \"$VERSION\" = \"$INSTALLED_VERSION\" ]; then\n      log \"skipping installation as d2 $VERSION is already installed.\"\n      return 0\n    fi\n    log \"uninstalling d2 $INSTALLED_VERSION to install $VERSION\"\n    if ! uninstall_d2_standalone; then\n      warn \"failed to uninstall d2 $INSTALLED_VERSION\"\n    fi\n  fi\n\n  ARCHIVE=\"d2-$VERSION-$OS-$ARCH.tar.gz\"\n  log \"installing standalone release $ARCHIVE from github\"\n\n  fetch_release_info\n  asset_line=$(sh_c 'cat \"$RELEASE_INFO\" | grep -n \"$ARCHIVE\" | cut -d: -f1 | head -n1')\n  asset_url=$(sh_c 'sed -n $((asset_line-3))p \"$RELEASE_INFO\" | sed \"s/^.*: \\\"\\(.*\\)\\\",$/\\1/g\"')\n  fetch_gh \"$asset_url\" \"$CACHE_DIR/$ARCHIVE\" 'application/octet-stream'\n\n  ensure_prefix_sh_c\n  \"$sh_c\" mkdir -p \"'$INSTALL_DIR'\"\n  \"$sh_c\" tar -C \"$INSTALL_DIR\" -xzf \"$CACHE_DIR/$ARCHIVE\"\n  \"$sh_c\" sh -c \"'cd \\\"$INSTALL_DIR/d2-$VERSION\\\" && make install PREFIX=\\\"$PREFIX\\\"'\"\n}\n\ninstall_d2_brew() {\n  header \"installing d2 with homebrew\"\n  sh_c brew update\n  sh_c brew install d2\n}\n\ninstall_tala_standalone() {\n  REPO=\"${REPO_TALA:-terrastruct/tala}\"\n  VERSION=$TALA\n\n  header \"installing tala-$VERSION\"\n\n  if [ \"$VERSION\" = latest ]; then\n    fetch_release_info\n  fi\n\n  if command -v d2plugin-tala >/dev/null; then\n    INSTALLED_VERSION=\"$(d2plugin-tala --version)\"\n    if [ ! \"${FORCE-}\" -a \"$VERSION\" = \"$INSTALLED_VERSION\" ]; then\n      log \"skipping installation as tala $VERSION is already installed.\"\n      return 0\n    fi\n    log \"uninstalling tala $INSTALLED_VERSION to install $VERSION\"\n    if ! uninstall_tala_standalone; then\n      warn \"failed to uninstall tala $INSTALLED_VERSION\"\n    fi\n  fi\n\n  ARCHIVE=\"tala-$VERSION-$OS-$ARCH.tar.gz\"\n  log \"installing standalone release $ARCHIVE from github\"\n\n  fetch_release_info\n  asset_line=$(sh_c 'cat \"$RELEASE_INFO\" | grep -n \"$ARCHIVE\" | cut -d: -f1 | head -n1')\n  asset_url=$(sh_c 'sed -n $((asset_line-3))p \"$RELEASE_INFO\" | sed \"s/^.*: \\\"\\(.*\\)\\\",$/\\1/g\"')\n\n  fetch_gh \"$asset_url\" \"$CACHE_DIR/$ARCHIVE\" 'application/octet-stream'\n\n  ensure_prefix_sh_c\n  \"$sh_c\" mkdir -p \"'$INSTALL_DIR'\"\n  \"$sh_c\" tar -C \"$INSTALL_DIR\" -xzf \"$CACHE_DIR/$ARCHIVE\"\n  \"$sh_c\" sh -c \"'cd \\\"$INSTALL_DIR/tala-$VERSION\\\" && make install PREFIX=\\\"$PREFIX\\\"'\"\n}\n\ninstall_tala_brew() {\n  header \"installing tala with homebrew\"\n  sh_c brew update\n  sh_c brew install terrastruct/tap/tala\n}\n\nuninstall() {\n  # We uninstall tala first as package managers require that it be uninstalled before\n  # uninstalling d2 as TALA depends on d2.\n  if command -v d2plugin-tala >/dev/null; then\n    INSTALLED_VERSION=\"$(d2plugin-tala --version)\"\n    header \"uninstalling tala-$INSTALLED_VERSION\"\n    case $METHOD in\n      standalone) uninstall_tala_standalone ;;\n      homebrew) uninstall_tala_brew ;;\n    esac\n  elif [ \"${TALA-}\" ]; then\n    warn \"no version of tala installed\"\n  fi\n\n  if ! command -v d2 >/dev/null; then\n    warn \"no version of d2 installed\"\n    return 0\n  fi\n\n  INSTALLED_VERSION=\"$(d2 --version)\"\n  header \"uninstalling d2-$INSTALLED_VERSION\"\n  case $METHOD in\n    standalone) uninstall_d2_standalone ;;\n    homebrew) uninstall_d2_brew ;;\n  esac\n}\n\nuninstall_d2_standalone() {\n  log \"uninstalling standalone release of d2-$INSTALLED_VERSION\"\n\n  if [ ! -e \"$INSTALL_DIR/d2-$INSTALLED_VERSION\" ]; then\n    warn \"missing standalone install release directory $INSTALL_DIR/d2-$INSTALLED_VERSION\"\n    warn \"d2 must have been installed via some other installation method.\"\n    return 1\n  fi\n\n  ensure_prefix_sh_c\n  \"$sh_c\" sh -c \"'cd \\\"$INSTALL_DIR/d2-$INSTALLED_VERSION\\\" && make uninstall PREFIX=\\\"$PREFIX\\\"'\"\n  \"$sh_c\" rm -rf \"$INSTALL_DIR/d2-$INSTALLED_VERSION\"\n}\n\nuninstall_d2_brew() {\n  sh_c brew remove d2\n}\n\nuninstall_tala_standalone() {\n  log \"uninstalling standalone release tala-$INSTALLED_VERSION\"\n\n  if [ ! -e \"$INSTALL_DIR/tala-$INSTALLED_VERSION\" ]; then\n    warn \"missing standalone install release directory $INSTALL_DIR/tala-$INSTALLED_VERSION\"\n    warn \"tala must have been installed via some other installation method.\"\n    return 1\n  fi\n\n  ensure_prefix_sh_c\n  \"$sh_c\" sh -c \"'cd \\\"$INSTALL_DIR/tala-$INSTALLED_VERSION\\\" && make uninstall PREFIX=\\\"$PREFIX\\\"'\"\n  \"$sh_c\" rm -rf \"$INSTALL_DIR/tala-$INSTALLED_VERSION\"\n}\n\nuninstall_tala_brew() {\n  sh_c brew remove tala\n}\n\ncache_dir() {\n  if [ -n \"${XDG_CACHE_HOME-}\" ]; then\n    echo \"$XDG_CACHE_HOME/d2/release\"\n  elif [ -n \"${HOME-}\" ]; then\n    echo \"$HOME/.cache/d2/release\"\n  else\n    echo \"/tmp/d2-cache/release\"\n  fi\n}\n\nfetch_release_info() {\n  if [ -n \"${RELEASE_INFO-}\" ]; then\n    return 0\n  fi\n\n  log \"fetching info on $VERSION version of $REPO\"\n  RELEASE_INFO=$(mktempd)/release-info.json\n  if [ \"$VERSION\" = latest ]; then\n    release_info_url=\"https://api.github.com/repos/$REPO/releases/$VERSION\"\n  else\n    release_info_url=\"https://api.github.com/repos/$REPO/releases/tags/$VERSION\"\n  fi\n  DRY_RUN= fetch_gh \"$release_info_url\" \"$RELEASE_INFO\" \\\n    'application/json'\n  VERSION=$(cat \"$RELEASE_INFO\" | grep -m1 tag_name | sed 's/^.*: \"\\(.*\\)\",$/\\1/g')\n}\n\ncurl_gh() {\n  sh_c curl -fL ${GITHUB_TOKEN:+\"-H \\\"Authorization: Bearer \\$GITHUB_TOKEN\\\"\"} \"$@\"\n}\n\nfetch_gh() {\n  url=$1\n  file=$2\n  accept=$3\n\n  if [ -e \"$file\" ]; then\n    log \"reusing $file\"\n    return\n  fi\n\n  curl_gh -#o \"$file.inprogress\" -C- -H \"'Accept: $accept'\" \"$url\"\n  sh_c mv \"$file.inprogress\" \"$file\"\n}\n\n# The main function does more than provide organization. It provides robustness in that if\n# the install script was to only partial download into sh, sh will not execute it because\n# main is not invoked until the very last byte.\nmain \"$@\"\n"
        },
        {
          "name": "lib",
          "type": "tree",
          "content": null
        },
        {
          "name": "main.go",
          "type": "blob",
          "size": 0.130859375,
          "content": "package main\n\nimport (\n\t\"oss.terrastruct.com/d2/d2cli\"\n\t\"oss.terrastruct.com/util-go/xmain\"\n)\n\nfunc main() {\n\txmain.Main(d2cli.Run)\n}\n"
        },
        {
          "name": "make.sh",
          "type": "blob",
          "size": 0.4345703125,
          "content": "#!/bin/sh\nset -eu\nif [ ! -e \"$(dirname \"$0\")/ci/sub/.git\" ]; then\n  set -x\n  git submodule update --init\n  set +x\nfi\n. \"$(dirname \"$0\")/ci/sub/lib.sh\"\nPATH=\"$(cd -- \"$(dirname \"$0\")\" && pwd)/ci/sub/bin:$PATH\"\ncd -- \"$(dirname \"$0\")\"\n\nif ! go version | grep -q '1.2[0-9]'; then\n  echoerr \"You need go 1.2x to build d2.\"\n  exit 1\nfi\n\nif [ \"${CI:-}\" ]; then\n  export FORCE_COLOR=1\n  npx playwright@1.31.1 install --with-deps chromium\nfi\n_make \"$@\"\n"
        },
        {
          "name": "testdata",
          "type": "tree",
          "content": null
        }
      ]
    }
  ]
}