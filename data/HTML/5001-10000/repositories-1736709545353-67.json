{
  "metadata": {
    "timestamp": 1736709545353,
    "page": 67,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjcw",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "samber/awesome-prometheus-alerts",
      "stars": 6836,
      "defaultBranch": "master",
      "files": [
        {
          "name": ".github",
          "type": "tree",
          "content": null
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.0791015625,
          "content": "_site/\n.sass-cache/\n.jekyll-cache/\n.jekyll-metadata\n_data/rules.json\ntest/rules/\n"
        },
        {
          "name": ".travis.yml",
          "type": "blob",
          "size": 0.037109375,
          "content": "language: node_js\nnode_js:\n  - 'node'\n"
        },
        {
          "name": "CONTRIBUTING.md",
          "type": "blob",
          "size": 0.837890625,
          "content": "\n# Contributing\n\n## Adding alerting rule\n\nIf you don't have time to write a PR, just copy and paste some alerts into an issue. We will format it accordingly.\n\nRules are here: `_data/rules.yml`.\n\n### Guidelines\n\nPlease ensure your pull request adheres to the following guidelines:\n\n- Search previous suggestions before making a new one, as yours may be a duplicate.\n- Keep descriptions short and simple, but descriptive.\n- Description must be factual (the \"what?\") and should provide root cause suggestions (the \"why?\"), for faster resolution.\n- Queries must be tested on latest exporter version.\n\n## Improving Github page\n\n### Run localy\n\n```\ngem install bundler\nbundle install\njekyll serve\n```\n\nOr with Docker:\n\n```\ndocker run --rm -it -p 4000:4000 -v $(pwd):/srv/jekyll jekyll/jekyll jekyll serve\n```\n\nOr with Docker-Compose:\n\n```\ndocker-compose up -d\n```\n"
        },
        {
          "name": "FUNDING.json",
          "type": "blob",
          "size": 0.1044921875,
          "content": "{\n  \"drips\": {\n    \"ethereum\": {\n      \"ownedBy\": \"0x1Baee8431ead537455399cC7099eBb219227C1f1\"\n    }\n  }\n}\n"
        },
        {
          "name": "Gemfile",
          "type": "blob",
          "size": 0.103515625,
          "content": "source 'https://rubygems.org'\ngem 'github-pages', '>= 232', group: :jekyll_plugins\ngem 'webrick', '~> 1.8'"
        },
        {
          "name": "Gemfile.lock",
          "type": "blob",
          "size": 7.64453125,
          "content": "GEM\n  remote: https://rubygems.org/\n  specs:\n    activesupport (7.2.1)\n      base64\n      bigdecimal\n      concurrent-ruby (~> 1.0, >= 1.3.1)\n      connection_pool (>= 2.2.5)\n      drb\n      i18n (>= 1.6, < 2)\n      logger (>= 1.4.2)\n      minitest (>= 5.1)\n      securerandom (>= 0.3)\n      tzinfo (~> 2.0, >= 2.0.5)\n    addressable (2.8.7)\n      public_suffix (>= 2.0.2, < 7.0)\n    base64 (0.2.0)\n    bigdecimal (3.1.8)\n    coffee-script (2.4.1)\n      coffee-script-source\n      execjs\n    coffee-script-source (1.12.2)\n    colorator (1.1.0)\n    commonmarker (0.23.10)\n    concurrent-ruby (1.3.4)\n    connection_pool (2.4.1)\n    csv (3.3.0)\n    dnsruby (1.72.2)\n      simpleidn (~> 0.2.1)\n    drb (2.2.1)\n    em-websocket (0.5.3)\n      eventmachine (>= 0.12.9)\n      http_parser.rb (~> 0)\n    ethon (0.16.0)\n      ffi (>= 1.15.0)\n    eventmachine (1.2.7)\n    execjs (2.9.1)\n    faraday (2.12.0)\n      faraday-net_http (>= 2.0, < 3.4)\n      json\n      logger\n    faraday-net_http (3.3.0)\n      net-http\n    ffi (1.17.0)\n    ffi (1.17.0-x86_64-linux-gnu)\n    ffi (1.17.0-x86_64-linux-musl)\n    forwardable-extended (2.6.0)\n    gemoji (4.1.0)\n    github-pages (232)\n      github-pages-health-check (= 1.18.2)\n      jekyll (= 3.10.0)\n      jekyll-avatar (= 0.8.0)\n      jekyll-coffeescript (= 1.2.2)\n      jekyll-commonmark-ghpages (= 0.5.1)\n      jekyll-default-layout (= 0.1.5)\n      jekyll-feed (= 0.17.0)\n      jekyll-gist (= 1.5.0)\n      jekyll-github-metadata (= 2.16.1)\n      jekyll-include-cache (= 0.2.1)\n      jekyll-mentions (= 1.6.0)\n      jekyll-optional-front-matter (= 0.3.2)\n      jekyll-paginate (= 1.1.0)\n      jekyll-readme-index (= 0.3.0)\n      jekyll-redirect-from (= 0.16.0)\n      jekyll-relative-links (= 0.6.1)\n      jekyll-remote-theme (= 0.4.3)\n      jekyll-sass-converter (= 1.5.2)\n      jekyll-seo-tag (= 2.8.0)\n      jekyll-sitemap (= 1.4.0)\n      jekyll-swiss (= 1.0.0)\n      jekyll-theme-architect (= 0.2.0)\n      jekyll-theme-cayman (= 0.2.0)\n      jekyll-theme-dinky (= 0.2.0)\n      jekyll-theme-hacker (= 0.2.0)\n      jekyll-theme-leap-day (= 0.2.0)\n      jekyll-theme-merlot (= 0.2.0)\n      jekyll-theme-midnight (= 0.2.0)\n      jekyll-theme-minimal (= 0.2.0)\n      jekyll-theme-modernist (= 0.2.0)\n      jekyll-theme-primer (= 0.6.0)\n      jekyll-theme-slate (= 0.2.0)\n      jekyll-theme-tactile (= 0.2.0)\n      jekyll-theme-time-machine (= 0.2.0)\n      jekyll-titles-from-headings (= 0.5.3)\n      jemoji (= 0.13.0)\n      kramdown (= 2.4.0)\n      kramdown-parser-gfm (= 1.1.0)\n      liquid (= 4.0.4)\n      mercenary (~> 0.3)\n      minima (= 2.5.1)\n      nokogiri (>= 1.16.2, < 2.0)\n      rouge (= 3.30.0)\n      terminal-table (~> 1.4)\n      webrick (~> 1.8)\n    github-pages-health-check (1.18.2)\n      addressable (~> 2.3)\n      dnsruby (~> 1.60)\n      octokit (>= 4, < 8)\n      public_suffix (>= 3.0, < 6.0)\n      typhoeus (~> 1.3)\n    html-pipeline (2.14.3)\n      activesupport (>= 2)\n      nokogiri (>= 1.4)\n    http_parser.rb (0.8.0)\n    i18n (1.14.6)\n      concurrent-ruby (~> 1.0)\n    jekyll (3.10.0)\n      addressable (~> 2.4)\n      colorator (~> 1.0)\n      csv (~> 3.0)\n      em-websocket (~> 0.5)\n      i18n (>= 0.7, < 2)\n      jekyll-sass-converter (~> 1.0)\n      jekyll-watch (~> 2.0)\n      kramdown (>= 1.17, < 3)\n      liquid (~> 4.0)\n      mercenary (~> 0.3.3)\n      pathutil (~> 0.9)\n      rouge (>= 1.7, < 4)\n      safe_yaml (~> 1.0)\n      webrick (>= 1.0)\n    jekyll-avatar (0.8.0)\n      jekyll (>= 3.0, < 5.0)\n    jekyll-coffeescript (1.2.2)\n      coffee-script (~> 2.2)\n      coffee-script-source (~> 1.12)\n    jekyll-commonmark (1.4.0)\n      commonmarker (~> 0.22)\n    jekyll-commonmark-ghpages (0.5.1)\n      commonmarker (>= 0.23.7, < 1.1.0)\n      jekyll (>= 3.9, < 4.0)\n      jekyll-commonmark (~> 1.4.0)\n      rouge (>= 2.0, < 5.0)\n    jekyll-default-layout (0.1.5)\n      jekyll (>= 3.0, < 5.0)\n    jekyll-feed (0.17.0)\n      jekyll (>= 3.7, < 5.0)\n    jekyll-gist (1.5.0)\n      octokit (~> 4.2)\n    jekyll-github-metadata (2.16.1)\n      jekyll (>= 3.4, < 5.0)\n      octokit (>= 4, < 7, != 4.4.0)\n    jekyll-include-cache (0.2.1)\n      jekyll (>= 3.7, < 5.0)\n    jekyll-mentions (1.6.0)\n      html-pipeline (~> 2.3)\n      jekyll (>= 3.7, < 5.0)\n    jekyll-optional-front-matter (0.3.2)\n      jekyll (>= 3.0, < 5.0)\n    jekyll-paginate (1.1.0)\n    jekyll-readme-index (0.3.0)\n      jekyll (>= 3.0, < 5.0)\n    jekyll-redirect-from (0.16.0)\n      jekyll (>= 3.3, < 5.0)\n    jekyll-relative-links (0.6.1)\n      jekyll (>= 3.3, < 5.0)\n    jekyll-remote-theme (0.4.3)\n      addressable (~> 2.0)\n      jekyll (>= 3.5, < 5.0)\n      jekyll-sass-converter (>= 1.0, <= 3.0.0, != 2.0.0)\n      rubyzip (>= 1.3.0, < 3.0)\n    jekyll-sass-converter (1.5.2)\n      sass (~> 3.4)\n    jekyll-seo-tag (2.8.0)\n      jekyll (>= 3.8, < 5.0)\n    jekyll-sitemap (1.4.0)\n      jekyll (>= 3.7, < 5.0)\n    jekyll-swiss (1.0.0)\n    jekyll-theme-architect (0.2.0)\n      jekyll (> 3.5, < 5.0)\n      jekyll-seo-tag (~> 2.0)\n    jekyll-theme-cayman (0.2.0)\n      jekyll (> 3.5, < 5.0)\n      jekyll-seo-tag (~> 2.0)\n    jekyll-theme-dinky (0.2.0)\n      jekyll (> 3.5, < 5.0)\n      jekyll-seo-tag (~> 2.0)\n    jekyll-theme-hacker (0.2.0)\n      jekyll (> 3.5, < 5.0)\n      jekyll-seo-tag (~> 2.0)\n    jekyll-theme-leap-day (0.2.0)\n      jekyll (> 3.5, < 5.0)\n      jekyll-seo-tag (~> 2.0)\n    jekyll-theme-merlot (0.2.0)\n      jekyll (> 3.5, < 5.0)\n      jekyll-seo-tag (~> 2.0)\n    jekyll-theme-midnight (0.2.0)\n      jekyll (> 3.5, < 5.0)\n      jekyll-seo-tag (~> 2.0)\n    jekyll-theme-minimal (0.2.0)\n      jekyll (> 3.5, < 5.0)\n      jekyll-seo-tag (~> 2.0)\n    jekyll-theme-modernist (0.2.0)\n      jekyll (> 3.5, < 5.0)\n      jekyll-seo-tag (~> 2.0)\n    jekyll-theme-primer (0.6.0)\n      jekyll (> 3.5, < 5.0)\n      jekyll-github-metadata (~> 2.9)\n      jekyll-seo-tag (~> 2.0)\n    jekyll-theme-slate (0.2.0)\n      jekyll (> 3.5, < 5.0)\n      jekyll-seo-tag (~> 2.0)\n    jekyll-theme-tactile (0.2.0)\n      jekyll (> 3.5, < 5.0)\n      jekyll-seo-tag (~> 2.0)\n    jekyll-theme-time-machine (0.2.0)\n      jekyll (> 3.5, < 5.0)\n      jekyll-seo-tag (~> 2.0)\n    jekyll-titles-from-headings (0.5.3)\n      jekyll (>= 3.3, < 5.0)\n    jekyll-watch (2.2.1)\n      listen (~> 3.0)\n    jemoji (0.13.0)\n      gemoji (>= 3, < 5)\n      html-pipeline (~> 2.2)\n      jekyll (>= 3.0, < 5.0)\n    json (2.7.2)\n    kramdown (2.4.0)\n      rexml\n    kramdown-parser-gfm (1.1.0)\n      kramdown (~> 2.0)\n    liquid (4.0.4)\n    listen (3.9.0)\n      rb-fsevent (~> 0.10, >= 0.10.3)\n      rb-inotify (~> 0.9, >= 0.9.10)\n    logger (1.6.1)\n    mercenary (0.3.6)\n    mini_portile2 (2.8.7)\n    minima (2.5.1)\n      jekyll (>= 3.5, < 5.0)\n      jekyll-feed (~> 0.9)\n      jekyll-seo-tag (~> 2.1)\n    minitest (5.25.1)\n    net-http (0.4.1)\n      uri\n    nokogiri (1.16.7)\n      mini_portile2 (~> 2.8.2)\n      racc (~> 1.4)\n    nokogiri (1.16.7-x86_64-linux)\n      racc (~> 1.4)\n    octokit (4.25.1)\n      faraday (>= 1, < 3)\n      sawyer (~> 0.9)\n    pathutil (0.16.2)\n      forwardable-extended (~> 2.6)\n    public_suffix (5.1.1)\n    racc (1.8.1)\n    rb-fsevent (0.11.2)\n    rb-inotify (0.11.1)\n      ffi (~> 1.0)\n    rexml (3.3.9)\n    rouge (3.30.0)\n    rubyzip (2.3.2)\n    safe_yaml (1.0.5)\n    sass (3.7.4)\n      sass-listen (~> 4.0.0)\n    sass-listen (4.0.0)\n      rb-fsevent (~> 0.9, >= 0.9.4)\n      rb-inotify (~> 0.9, >= 0.9.7)\n    sawyer (0.9.2)\n      addressable (>= 2.3.5)\n      faraday (>= 0.17.3, < 3)\n    securerandom (0.3.1)\n    simpleidn (0.2.3)\n    terminal-table (1.8.0)\n      unicode-display_width (~> 1.1, >= 1.1.1)\n    typhoeus (1.4.1)\n      ethon (>= 0.9.0)\n    tzinfo (2.0.6)\n      concurrent-ruby (~> 1.0)\n    unicode-display_width (1.8.0)\n    uri (0.13.1)\n    webrick (1.8.2)\n\nPLATFORMS\n  ruby\n  x86_64-linux\n  x86_64-linux-musl\n\nDEPENDENCIES\n  github-pages (>= 232)\n  webrick (~> 1.8)\n\nBUNDLED WITH\n   2.3.13\n"
        },
        {
          "name": "LICENSE",
          "type": "blob",
          "size": 0.109375,
          "content": "Creative Commons Attribution 4.0 International License (CC BY 4.0)\n\nhttp://creativecommons.org/licenses/by/4.0/\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 6.4921875,
          "content": "# üëã Awesome Prometheus Alerts [![Awesome](https://awesome.re/badge-flat.svg)](https://awesome.re)\n\n> Most alerting rules are common to every Prometheus setup. We need a place to find them all. ü§ò üö® üìä\n\nCollection available here: **[https://samber.github.io/awesome-prometheus-alerts](https://samber.github.io/awesome-prometheus-alerts)**\n\n<div align=\"center\">\n  <hr>\n  <sup><b>Sponsored by:</b></sup>\n  <br>\n  <a href=\"https://betterstack.com\">\n    <div>\n      <img src=\"https://samber.github.io/awesome-prometheus-alerts/assets/sponsor-betterstack.png\" width=\"200\" alt=\"Better Stack\">\n    </div>\n    <div>\n      Better Stack lets you centralize, search, and visualize your logs.\n    </div>\n  </a>\n  <hr>\n</div>\n\n## ‚ú® Contents\n\n- [Rules](#-rules)\n- [Contributing](#-contributing)\n- [Improvements](#-improvements)\n- [Help us](#-show-your-support)\n- [License](#-license)\n\n## üö® Rules\n\n#### Basic resource monitoring\n\n- [Prometheus self-monitoring](https://samber.github.io/awesome-prometheus-alerts/rules#prometheus-internals)\n- [Host/Hardware](https://samber.github.io/awesome-prometheus-alerts/rules#host-and-hardware)\n- [SMART](https://samber.github.io/awesome-prometheus-alerts/rules#smart)\n- [Docker Containers](https://samber.github.io/awesome-prometheus-alerts/rules#docker-containers)\n- [Blackbox](https://samber.github.io/awesome-prometheus-alerts/rules#blackbox)\n- [Windows](https://samber.github.io/awesome-prometheus-alerts/rules#windows-server)\n- [VMWare](https://samber.github.io/awesome-prometheus-alerts/rules#vmware)\n- [Netdata](https://samber.github.io/awesome-prometheus-alerts/rules#netdata)\n\n#### Databases and brokers\n\n- [MySQL](https://samber.github.io/awesome-prometheus-alerts/rules#mysql)\n- [PostgreSQL](https://samber.github.io/awesome-prometheus-alerts/rules#postgresql)\n- [SQL Server](https://samber.github.io/awesome-prometheus-alerts/rules#sql-server)\n- [Patroni](https://samber.github.io/awesome-prometheus-alerts/rules#patroni)\n- [PGBouncer](https://samber.github.io/awesome-prometheus-alerts/rules#pgbouncer)\n- [Redis](https://samber.github.io/awesome-prometheus-alerts/rules#redis)\n- [MongoDB](https://samber.github.io/awesome-prometheus-alerts/rules#mongodb)\n- [RabbitMQ](https://samber.github.io/awesome-prometheus-alerts/rules#rabbitmq)\n- [Elasticsearch](https://samber.github.io/awesome-prometheus-alerts/rules#elasticsearch)\n- [Meilisearch](https://samber.github.io/awesome-prometheus-alerts/rules#meilisearch)\n- [Cassandra](https://samber.github.io/awesome-prometheus-alerts/rules#cassandra)\n- [Clickhouse](https://samber.github.io/awesome-prometheus-alerts/rules#clickhouse)\n- [Zookeeper](https://samber.github.io/awesome-prometheus-alerts/rules#zookeeper)\n- [Kafka](https://samber.github.io/awesome-prometheus-alerts/rules#kafka)\n- [Pulsar](https://samber.github.io/awesome-prometheus-alerts/rules#pulsar)\n- [Nats](https://samber.github.io/awesome-prometheus-alerts/rules#nats)\n- [Solr](https://samber.github.io/awesome-prometheus-alerts/rules#solr)\n- [Hadoop](https://samber.github.io/awesome-prometheus-alerts/rules#hadoop)\n\n#### Reverse proxies and load balancers\n\n- [Nginx](https://samber.github.io/awesome-prometheus-alerts/rules#nginx)\n- [Apache](https://samber.github.io/awesome-prometheus-alerts/rules#apache)\n- [HaProxy](https://samber.github.io/awesome-prometheus-alerts/rules#haproxy)\n- [Traefik](https://samber.github.io/awesome-prometheus-alerts/rules#traefik)\n\n#### Runtimes\n\n- [PHP-FPM](https://samber.github.io/awesome-prometheus-alerts/rules#php-fpm)\n- [JVM](https://samber.github.io/awesome-prometheus-alerts/rules#jvm)\n- [Sidekiq](https://samber.github.io/awesome-prometheus-alerts/rules#sidekiq)\n\n#### Orchestrators\n- [Kubernetes](https://samber.github.io/awesome-prometheus-alerts/rules#kubernetes)\n- [Nomad](https://samber.github.io/awesome-prometheus-alerts/rules#nomad)\n- [Consul](https://samber.github.io/awesome-prometheus-alerts/rules#consul)\n- [Etcd](https://samber.github.io/awesome-prometheus-alerts/rules#etcd)\n- [Linkerd](https://samber.github.io/awesome-prometheus-alerts/rules#linkerd)\n- [Istio](https://samber.github.io/awesome-prometheus-alerts/rules#istio)\n- [ArgoCD](https://samber.github.io/awesome-prometheus-alerts/rules#argocd)\n\n#### Network, security and storage\n\n- [Ceph](https://samber.github.io/awesome-prometheus-alerts/rules#ceph)\n- [ZFS](https://samber.github.io/awesome-prometheus-alerts/rules#zfs)\n- [OpenEBS](https://samber.github.io/awesome-prometheus-alerts/rules#openebs)\n- [Minio](https://samber.github.io/awesome-prometheus-alerts/rules#minio)\n- [SSL/TLS](https://samber.github.io/awesome-prometheus-alerts/rules#ssl/tls)\n- [Juniper](https://samber.github.io/awesome-prometheus-alerts/rules#juniper)\n- [CoreDNS](https://samber.github.io/awesome-prometheus-alerts/rules#coredns)\n- [FreeSwitch](https://samber.github.io/awesome-prometheus-alerts/rules#freeswitch)\n- [Hashicorp Vault](https://samber.github.io/awesome-prometheus-alerts/rules#hashicorp-vault)\n- [Cloudflare](https://samber.github.io/awesome-prometheus-alerts/rules#cloudflare)\n\n#### Other\n\n- [Thanos](https://samber.github.io/awesome-prometheus-alerts/rules#thanos)\n- [Loki](https://samber.github.io/awesome-prometheus-alerts/rules#loki)\n- [Promtail](https://samber.github.io/awesome-prometheus-alerts/rules#promtail)\n- [Cortex](https://samber.github.io/awesome-prometheus-alerts/rules#cortex)\n- [Grafana Alloy](https://samber.github.io/awesome-prometheus-alerts/rules#grafana-alloy)\n- [Jenkins](https://samber.github.io/awesome-prometheus-alerts/rules#jenkins)\n- [Graph Node](https://samber.github.io/awesome-prometheus-alerts/rules#graph-node)\n\n## ü§ù Contributing\n\nContributions from community (you!) are most welcome!\n\nThere are many ways to contribute: writing code, alerting rules, documentation, reporting issues, discussing better error tracking...\n\n[Instructions here](CONTRIBUTING.md)\n\n## üèãÔ∏è Improvements\n\n- Create an alert rule builder in Jekyll for custom alerts (severity, thresholds, instances...)\n- Add resolution suggestions to rule descriptions, for faster incident resolution ([#85](https://github.com/samber/awesome-prometheus-alerts/issues/85)).\n\n## üí´ Show your support\n\nGive a ‚≠êÔ∏è if this project helped you!\n\n[![support us](https://c5.patreon.com/external/logo/become_a_patron_button.png)](https://www.patreon.com/samber)\n\n## üëè Thanks\n\nGratitude for the Gitlab operation team that provided 50+ rules. \\o/\n\n## üìù License\n\n[![CC4](https://mirrors.creativecommons.org/presskit/cc.srr.primary.svg)](https://creativecommons.org/licenses/by/4.0/legalcode)\n\nLicensed under the Creative Commons 4.0 License, see LICENSE file for more detail.\n"
        },
        {
          "name": "_config.yml",
          "type": "blob",
          "size": 0.181640625,
          "content": "theme: jekyll-theme-cayman\n\ntitle: Awesome Prometheus alerts\ndescription: Collection of alerting rules\n\nrepository: samber/awesome-prometheus-alerts\n\nbaseurl: /awesome-prometheus-alerts\n"
        },
        {
          "name": "_data",
          "type": "tree",
          "content": null
        },
        {
          "name": "_layouts",
          "type": "tree",
          "content": null
        },
        {
          "name": "alertmanager.md",
          "type": "blob",
          "size": 3.970703125,
          "content": "<h1 style=\"text-align: center;\">\n  Global configuration\n</h1>\n\nIf you notice a delay between an event and the first notification, read the following blog post => [https://pracucci.com/prometheus-understanding-the-delays-on-alerting.html](https://pracucci.com/prometheus-understanding-the-delays-on-alerting.html).\n\n## Prometheus configuration\n\n{% highlight yaml %}\n# prometheus.yml\n\nglobal:\n  scrape_interval: 20s\n\n  # A short evaluation_interval will check alerting rules very often.\n  # It can be costly if you run Prometheus with 100+ alerts.\n  evaluation_interval: 20s\n  ...\n\nrule_files:\n  - 'alerts/*.yml'\n\nscrape_configs:\n  ...\n\n{% endhighlight %}\n\n{% highlight yaml %}\n# alerts/example-redis.yml\n\ngroups:\n\n- name: ExampleRedisGroup\n  rules:\n  - alert: ExampleRedisDown\n    expr: redis_up{} == 0\n    for: 2m\n    labels:\n      severity: critical\n    annotations:\n      summary: \"Redis instance down\"\n      description: \"Whatever\"\n\n{% endhighlight %}\n\n## AlertManager configuration\n\n{% highlight yaml %}\n{% raw %}\n# alertmanager.yml\n\nroute:\n  # When a new group of alerts is created by an incoming alert, wait at\n  # least 'group_wait' to send the initial notification.\n  # This way ensures that you get multiple alerts for the same group that start\n  # firing shortly after another are batched together on the first\n  # notification.\n  group_wait: 10s\n\n  # When the first notification was sent, wait 'group_interval' to send a batch\n  # of new alerts that started firing for that group.\n  group_interval: 30s\n\n  # If an alert has successfully been sent, wait 'repeat_interval' to\n  # resend them.\n  repeat_interval: 30m\n\n  # A default receiver\n  receiver: \"slack\"\n\n  # All the above attributes are inherited by all child routes and can\n  # overwritten on each.\n  routes:\n    - receiver: \"slack\"\n      group_wait: 10s\n      match_re:\n        severity: critical|warning\n      continue: true\n\n    - receiver: \"pager\"\n      group_wait: 10s\n      match_re:\n        severity: critical\n      continue: true\n\nreceivers:\n  - name: \"slack\"\n    slack_configs:\n      - api_url: 'https://hooks.slack.com/services/XXXXXXXXX/XXXXXXXXX/xxxxxxxxxxxxxxxxxxxxxxxxxxx'\n        send_resolved: true\n        channel: 'monitoring'\n        text: \"{{ range .Alerts }}<!channel> {{ .Annotations.summary }}\\n{{ .Annotations.description }}\\n{{ end }}\"\n\n  - name: \"pager\"\n    webhook_configs:\n      - url: http://a.b.c.d:8080/send/sms\n        send_resolved: true\n\n{% endraw %}\n{% endhighlight %}\n\n## Reduce Prometheus server load\n\nFor expansive or frequent PromQL queries, Prometheus allows to precompute rules.\n\n{% highlight yaml %}\n{% raw %}\ngroups:\n\n  # first define the recorded rule\n  - name: ExampleRecordedGroup\n    rules:\n    - record: job:rabbitmq_queue_messages_delivered_total:rate:5m\n      expr: rate(rabbitmq_queue_messages_delivered_total[5m])\n\n  # then use it in alerts\n  - name: ExampleAlertingGroup\n    rules:\n    - alert: ExampleRabbitmqLowMessageDelivery\n      expr: sum(job:rabbitmq_queue_messages_delivered_total:rate:5m) < 10\n      for: 2m\n      labels:\n        severity: critical\n      annotations:\n        summary: \"Low delivery rate in Rabbitmq queues\"\n{% endraw %}\n{% endhighlight %}\n\n## Troubleshooting\n\nIf the notification takes too much time to be triggered, check the following delays:\n- `scrape_interval = 20s` (prometheus.yml)\n- `evaluation_interval = 20s` (prometheus.yml)\n- `increase(mysql_global_status_slow_queries[1m]) > 0` (alerts/example-mysql.yml)\n- `for: 5m` (alerts/example-mysql.yml)\n- `group_wait = 10s` (alertmanager.yml)\n\nAlso read:\n- [https://pracucci.com/prometheus-understanding-the-delays-on-alerting.html](https://pracucci.com/prometheus-understanding-the-delays-on-alerting.html).\n- [https://hodovi.cc/blog/creating-awesome-alertmanager-templates-for-slack/](https://hodovi.cc/blog/creating-awesome-alertmanager-templates-for-slack/)\n- [https://grafana.com/blog/2024/10/03/how-to-use-prometheus-to-efficiently-detect-anomalies-at-scale/](https://grafana.com/blog/2024/10/03/how-to-use-prometheus-to-efficiently-detect-anomalies-at-scale/)\n"
        },
        {
          "name": "assets",
          "type": "tree",
          "content": null
        },
        {
          "name": "blackbox-exporter.md",
          "type": "blob",
          "size": 4.384765625,
          "content": "\n<h1 style=\"text-align: center;\">\n  Blackbox exporter\n</h1>\n\n## Wordwide probes\n\n<a href=\"https://github.com/prometheus/blackbox_exporter\" target=\"_blank\">Blackbox Exporter</a> gives you the ability to probe endpoints over HTTP, HTTPS, DNS, TCP and ICMP.\n\nYou should deploy blackbox exporters in multiple Point of Presence around the globe, to monitor latency. Feel free to use the following endpoints for your own projects:\n\n- https://screeb-probe-<b>montreal</b>.cleverapps.io\n- https://screeb-probe-<b>paris</b>.cleverapps.io\n- https://screeb-probe-<b>jeddah</b>.cleverapps.io\n- https://screeb-probe-<b>singapore</b>.cleverapps.io\n- https://screeb-probe-<b>sydney</b>.cleverapps.io\n- https://screeb-probe-<b>warsaw</b>.cleverapps.io\n\n‚òùÔ∏è Logs have been disabled. More probes from the community would be appreciated, please contribute <a href=\"https://github.com/samber/awesome-prometheus-alerts/\" target=\"_blank\">here</a>! These blackbox exporters use the following <a href=\"https://github.com/ScreebApp/blackbox_exporter/blob/master/screeb.yml\" target=\"_blank\">configuration</a>.\n\n## Prometheus Configuration\n\nBlackbox exporters and endpoints must be declared in Prometheus. Here is a simple configuration, inspired by [Hayk Davtyan medium post](https://medium.com/geekculture/single-prometheus-job-for-dozens-of-blackbox-exporters-2a7ba492d6c8):\n\n```yml\n# sd/blackbox.yml\n\n- targets:\n  #\n  # Montreal\n  #\n  # http\n  - screeb-probe-montreal.cleverapps.io:_:http_2xx:_:Montreal:_:f229cy:_:https://api.screeb.app\n  - screeb-probe-montreal.cleverapps.io:_:http_2xx:_:Montreal:_:f229cy:_:https://t.screeb.app/tag.js\n  # icmp\n  - screeb-probe-montreal.cleverapps.io:_:icmp_ipv4:_:Montreal:_:f229cy:_:api.screeb.app\n  - screeb-probe-montreal.cleverapps.io:_:icmp_ipv4:_:Montreal:_:f229cy:_:t.screeb.app\n\n\n  #\n  # Paris\n  #\n  # http\n  - screeb-probe-paris.cleverapps.io:_:http_2xx:_:Paris:_:u09tgy:_:https://api.screeb.app\n  - screeb-probe-paris.cleverapps.io:_:http_2xx:_:Paris:_:u09tgy:_:https://t.screeb.app/tag.js\n  # icmp\n  - screeb-probe-paris.cleverapps.io:_:icmp_ipv4:_:Paris:_:u09tgy:_:api.screeb.app\n  - screeb-probe-paris.cleverapps.io:_:icmp_ipv4:_:Paris:_:u09tgy:_:t.screeb.app\n\n\n  #\n  # Sydney\n  #\n  # http\n  - screeb-probe-sydney.cleverapps.io:_:http_2xx:_:Sydney:_:r3gpkn:_:https://api.screeb.app\n  - screeb-probe-sydney.cleverapps.io:_:http_2xx:_:Sydney:_:r3gpkn:_:https://t.screeb.app/tag.js\n  # icmp\n  - screeb-probe-sydney.cleverapps.io:_:icmp_ipv4:_:Sydney:_:r3gpkn:_:api.screeb.app\n  - screeb-probe-sydney.cleverapps.io:_:icmp_ipv4:_:Sydney:_:r3gpkn:_:t.screeb.app\n\n  # ...\n```\n\n```yml\n# prometheus.yml\n\nglobal:\n  # ...\n\nscrape_configs:\n\n  - job_name: 'blackbox'\n    metrics_path: /probe\n    scrape_interval: 30s\n    scheme: https\n    file_sd_configs:\n      - files:\n        - /etc/prometheus/sd/blackbox.yml\n    relabel_configs:\n      # adds \"module\" label in the final labelset\n      - source_labels: [__address__]\n        regex: '.*:_:(.*):_:.*:_:.*:_:.*'\n        target_label: module\n      # adds \"geohash\" label in the final labelset\n      - source_labels: [__address__]\n        regex: '.*:_:.*:_:.*:_:(.*):_:.*'\n        target_label: geohash\n      # rewrites \"instance\" label with corresponding URL\n      - source_labels: [__address__]\n        regex: '.*:_:.*:_:.*:_:.*:_:(.*)'\n        target_label: instance\n      # rewrites \"pop\" label with corresponding location name\n      - source_labels: [__address__]\n        regex: '.*:_:.*:_:(.*):_:.*:_:.*'\n        target_label: pop\n      # passes \"module\" parameter to Blackbox exporter\n      - source_labels: [module]\n        target_label: __param_module\n      # passes \"target\" parameter to Blackbox exporter\n      - source_labels: [instance]\n        target_label: __param_target\n      # the Blackbox exporter's real hostname:port\n      - source_labels: [__address__]\n        regex: '(.*):_:.*:_:.*:_:.*:_:.*'\n        target_label: __address__\n\n  # ...\n\n```\n\n## Geohash\n\n![](assets/grafana-map-panel.png)\n\nTo display nice maps in Grafana, you need to instruct blackbox exporters about the location. Grafana map panel speaks the \"geohash\" format:\n\n- go to google map\n- extract the lat/long from the url\n- convert lat/long to geohash here: http://geohash.co\n\n## Grafana\n\nSome great dashboard have been created by the community: https://grafana.com/grafana/dashboards/?search=blackbox\n\nSince Grafana v5.0.0, a map panel is available: https://grafana.com/docs/grafana/latest/panels-visualizations/visualizations/geomap/\n"
        },
        {
          "name": "dist",
          "type": "tree",
          "content": null
        },
        {
          "name": "docker-compose.yml",
          "type": "blob",
          "size": 0.154296875,
          "content": "version: '3'\n\nservices:\n\n  jekyll:\n    image: jekyll/jekyll:latest\n    command: jekyll serve\n    volumes:\n      - ./:/srv/jekyll\n    ports:\n      - 4000:4000\n"
        },
        {
          "name": "index.md",
          "type": "blob",
          "size": 1.130859375,
          "content": "\n<style>\n.center-image\n{\n    margin: 0 auto;\n    display: block;\n}\n</style>\n\n\n![Prometheus logo](/assets/prometheus-logo.png){: .center-image }\n\n\n<h2>\n  Hello world\n</h2>\n\n<a href=\"/awesome-prometheus-alerts/alertmanager\">\n  AlertManager configuration\n</a>\n\n<a href=\"/awesome-prometheus-alerts/sleep-peacefully\">\n  Alerting time window\n</a>\n\n<h2>\n  Out of the box prometheus alerting rules\n</h2>\n\n<ul>\n  {% for group in site.data.rules.groups %}\n    <li style=\"margin-top: 30px;\">\n      {% assign nbrRules = 0 %}\n      {% for service in group.services %}\n        {% for exporter in service.exporters %}\n          {% for rule in exporter.rules %}\n            {% assign nbrRules = nbrRules | plus: 1 %}\n          {% endfor %}\n        {% endfor %}\n      {% endfor %}\n\n      <h3>{{ group.name }} <small style=\"margin-left: 20px;\">({{ nbrRules }} rules)</small></h3>\n      <ul>\n        {% for service in group.services %}\n        <li>\n          <a href=\"/awesome-prometheus-alerts/rules#{{ service.name | replace: \" \", \"-\" | downcase }}\">\n            {{ service.name }}\n          </a>\n        </li>\n        {% endfor %}\n      </ul>\n    </li>\n  {% endfor %}\n</ul>\n"
        },
        {
          "name": "package.json",
          "type": "blob",
          "size": 0.107421875,
          "content": "{\n\t  \"scripts\": {\n\t\t    \"test\": \"awesome-lint\"\n\t  },\n\t  \"devDependencies\": {\n\t\t    \"awesome-lint\": \"*\"\n\t  }\n}\n"
        },
        {
          "name": "rules.md",
          "type": "blob",
          "size": 4.8232421875,
          "content": "<style>\n  ul {\n    list-style: none;\n  }\n</style>\n\n<!-- CAUTIONS -->\n<div style=\"padding: 20px 20px 10px 20px; border: solid grey 1px; border-radius: 10px;\">\n  <h2 style=\"text-align:center;\">‚ö†Ô∏è Caution ‚ö†Ô∏è</h2>\n\n  <p style=\"text-align:center;\">\n    Alert thresholds depend on nature of applications.\n    <br>\n    Some queries in this page may have arbitrary tolerance threshold.\n    <br><br>\n    Building an efficient and battle-tested monitoring platform takes time. üòâ\n  </p>\n</div>\n\n<br>\n<br>\n\n<h1></h1>\n\n<!-- RULES -->\n<ul>\n  {% for group in site.data.rules.groups %}\n  {% assign groupIndex = forloop.index %}\n    {% for service in group.services %}\n    {% assign serviceIndex = forloop.index %}\n    {% assign nbrExporters = service.exporters | size %}\n      {% for exporter in service.exporters %}\n      {% assign exporterIndex = forloop.index %}\n      {% assign nbrRules = exporter.rules | size %}\n      <li>\n        {% assign serviceId = service.name | replace: \" \", \"-\" | downcase %}\n        <h2 id=\"{{ serviceId }}\">\n          <span id=\"{{ serviceId }}-{{ exporterIndex }}\"></span>\n          <a class=\"anchor\" href=\"#{{ serviceId }}-{{ exporterIndex }}\">#</a>\n          {{ groupIndex }}.{{ serviceIndex }}.{% if nbrExporters > 1 %}{{ exporterIndex }}.{% endif %}\n          {{ service.name }}\n          {% if exporter.name %}:\n          {% if exporter.doc_url %}\n          <a href=\"{{ exporter.doc_url }}\">\n            {{ exporter.name }}\n          </a>\n          {% else %}\n          {{ exporter.name }}\n          {% endif %}\n          {% endif %}\n\n          {% if nbrRules > 0 %}\n            <small style=\"font-size: 60%; vertical-align: middle; margin-left: 10px;\">\n              ({{ nbrRules }} rules)\n            </small>\n            <span class=\"clipboard-multiple\" data-clipboard-target-id=\"group-{{ groupIndex }}-service-{{ serviceIndex }}-exporter-{{ exporterIndex }}\">[copy section]</span>\n          {% endif %}\n        </h2>\n\n        {% if nbrRules == 0 %}\n{% highlight javascript %}\n// @TODO: Please contribute => https://github.com/samber/awesome-prometheus-alerts üëã\n{% endhighlight %}\n        {% else %}\n{% highlight bash %}\n$ wget https://raw.githubusercontent.com/samber/awesome-prometheus-alerts/master/dist/rules/{{ service.name | replace: \" \", \"-\" | downcase }}/{{ exporter.slug }}.yml\n{% endhighlight %}\n        {% endif %}\n\n        <ul>\n          {% for rule in exporter.rules %}\n          {% assign ruleIndex = forloop.index %}\n          {% assign comments = rule.comments | strip | newline_to_br | split: '<br />' %}\n          <li>\n            <h4 id=\"rule-{{ serviceId }}-{{ exporterIndex }}-{{ ruleIndex }}\">\n              <span id=\"rule-{{ serviceId }}-{{ ruleIndex }}\"></span><!-- @deprecated -->\n              <a class=\"anchor\" href=\"#rule-{{ serviceId }}-{{ exporterIndex }}-{{ ruleIndex }}\">#</a>\n              {{ groupIndex}}.{{ serviceIndex }}.{% if nbrExporters > 1 %}{{ exporterIndex }}.{% endif %}{{ ruleIndex }}.\n              {{ rule.name }}\n            </h4>\n            <summary>\n              {{ rule.description }}\n              <span class=\"clipboard-single\" data-clipboard-target-id=\"group-{{ groupIndex }}-service-{{ serviceIndex }}-exporter-{{ exporterIndex }}-rule-{{ ruleIndex }}\" onclick=\"event.preventDefault();\">[copy]</span>\n            </summary>\n            <div id=\"group-{{ groupIndex }}-service-{{ serviceIndex }}-exporter-{{ exporterIndex }}-rule-{{ ruleIndex }}\">\n              {% assign ruleName = rule.name | split: ' ' %}\n              {% capture ruleNameCamelcase %}{% for word in ruleName %}{{ word | capitalize }} {% endfor %}{% endcapture %}\n\n  {% highlight yaml %}\n  {% for comment in comments %}# {{ comment | strip }}\n  {% endfor %}- alert: {{ ruleNameCamelcase | remove: ' ' }}\n    expr: {{ rule.query }}\n    for: {% if rule.for %}{{ rule.for }}{% else %}0m{% endif %}\n    labels:\n      severity: {{ rule.severity }}\n    annotations:\n      summary: {{ rule.name }} (instance {% raw %}{{ $labels.instance }}{% endraw %})\n      description: \"{{ rule.description | replace: '\"', '\\\"' }}\\n  VALUE = {% raw %}{{ $value }}{% endraw %}\\n  LABELS = {% raw %}{{ $labels }}{% endraw %}\"\n\n{% endhighlight %}\n\n            </div>\n            <br/>\n          </li>\n          {% endfor %}\n        </ul>\n\n      <hr/>\n      </li>\n    {% endfor %}\n    {% endfor %}\n  {% endfor %}\n</ul>\n\n\n\n<!-- NAVBAR -->\n<div id=\"rules-navbar\" class=\"affix\">\n  <h3>Menu</h3>\n  <ul>\n    {% for group in site.data.rules.groups %}\n      <li>\n        <h4>{{ group.name }}</h4>\n        <ul>\n          {% for service in group.services %}\n            <li>\n              <a href=\"#{{ service.name | replace: \" \", \"-\" | downcase }}\">\n                üëâ {{ service.name }}\n              </a>\n            </li>\n          {% endfor %}\n        </ul>\n      </li>\n    {% endfor %}\n  </ul>\n\n  <script>\n    $('#rules-navbar').affix({offset: {top: 750} }).css('display', 'block');\n  </script>\n</div>\n"
        },
        {
          "name": "sleep-peacefully.md",
          "type": "blob",
          "size": 3.7548828125,
          "content": "<h1 style=\"text-align: center;\">\n  Sleep Peacefully\n</h1>\n\n## Alerting time window\n\nIn some applications, load and activity can vary over the day/week/year.\n\nIn order to prevent alarm fatigue and busy pager, alerts can be disabled during a period of time (such as night or weekend).\n\nExample:\n\n- Weekday: `node_load5 > 10 and ON() (0 < day_of_week() < 6)`\n- Day time: `node_load5 > 10 and ON() (8 < hour() < 18)`\n- Exclude December: `node_load5 > 10 and ON() (month() != 12)`\n\n## Advanced time windows and timezones\n\n```yml\n# rules.yml\n\ngroups:\n  - name: timezones\n    rules:\n    - record: european_summer_time_offset\n      expr: |\n          (vector(1) and (month() > 3 and month() < 10))\n          or\n          (vector(1) and (month() == 3 and (day_of_month() - day_of_week()) >= 25) and absent((day_of_month() >= 25) and (day_of_week() == 0)))\n          or\n          (vector(1) and (month() == 10 and (day_of_month() - day_of_week()) < 25) and absent((day_of_month() >= 25) and (day_of_week() == 0)))\n          or\n          (vector(1) and ((month() == 10 and hour() < 1) or (month() == 3 and hour() > 0)) and ((day_of_month() >= 25) and (day_of_week() == 0)))\n          or\n          vector(0)\n\n    - record: europe_london_time\n      expr: time() + 3600 * european_summer_time_offset\n    - record: europe_paris_time\n      expr: time() + 3600 * (1 + european_summer_time_offset)\n\n    - record: europe_london_hour\n      expr: hour(europe_london_time)\n    - record: europe_paris_hour\n      expr: hour(europe_paris_time)\n\n    - record: europe_london_weekday\n      expr: 0 < day_of_week(europe_london_time) < 6\n    - record: europe_paris_weekday\n      expr: 0 < day_of_week(europe_paris_time) < 6\n    # opposite\n    - record: not_europe_london_weekday\n      expr: absent(europe_london_weekday)\n    - record: not_europe_paris_weekday\n      expr: absent(europe_paris_weekday)\n\n    - record: europe_london_business_hours\n      expr: 9 < europe_london_hour < 18\n    - record: europe_paris_business_hours\n      expr: 9 < europe_paris_hour < 18\n    # opposite\n    - record: not_europe_london_business_hours\n      expr: absent(europe_london_business_hours)\n    - record: not_europe_paris_business_hours\n      expr: absent(europe_paris_business_hours)\n\n    # new year's day / xmas / labor day / all saints' day / ...\n    - record: europe_french_public_holidays\n      expr: |\n          (vector(1) and month(europe_paris_time) == 1 and day_of_month(europe_paris_time) == 1)\n          or\n          (vector(1) and month(europe_paris_time) == 12 and day_of_month(europe_paris_time) == 25)\n          or\n          (vector(1) and month(europe_paris_time) == 5 and day_of_month(europe_paris_time) == 1)\n          or\n          (vector(1) and month(europe_paris_time) == 11 and day_of_month(europe_paris_time) == 1)\n          or\n          vector(0)\n    # opposite\n    - record: not_europe_french_public_holidays\n      expr: absent(europe_french_public_holidays)\n```\n\n```yml\n# alerts.yml\n\ngroups:\n  - name: CPU Load\n    rules:\n      - alert: HighLoadQuietDuringWeekendAndNight\n        expr: node_load5 > 10 and ON() (europe_london_weekday and europe_paris_weekday)\n\n      - alert: HighLoadQuietDuringBackup\n        expr: node_load5 > 10 and ON() absent(hour() == 2)\n\n      - alert: HighLoad\n        expr: |\n            node_load5 > 20 and ON() (europe_london_weekday and europe_paris_weekday)\n            or\n            node_load5 > 10\n```\n\n## Sources\n\n- [https://medium.com/@tom.fawcett/time-of-day-based-notifications-with-prometheus-and-alertmanager-1bf7a23b7695](https://medium.com/@tom.fawcett/time-of-day-based-notifications-with-prometheus-and-alertmanager-1bf7a23b7695)\n- [https://promcon.io/2019-munich/slides/improved-alerting-with-prometheus-and-alertmanager.pdf](https://promcon.io/2019-munich/slides/improved-alerting-with-prometheus-and-alertmanager.pdf)\n"
        }
      ]
    }
  ]
}