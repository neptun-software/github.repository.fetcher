{
  "metadata": {
    "timestamp": 1736709556177,
    "page": 78,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjgw",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "kuafuai/DevOpsGPT",
      "stars": 6574,
      "defaultBranch": "master",
      "files": [
        {
          "name": ".github",
          "type": "tree",
          "content": null
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.1591796875,
          "content": "nohup.out*\n*__pycache__*\n*.vscode*\nbackend/env.yaml\nenv.yaml\n.DS_Store\nworkspace\ninit.sh\ndb/versions/*\ndb/env.py\ndb/README.md\ndb/database_pro.db\nalembic.ini*\n.idea"
        },
        {
          "name": "Dockerfile",
          "type": "blob",
          "size": 0.5361328125,
          "content": "FROM ubuntu:22.04\n\nENV DEBIAN_FRONTEND=noninteractive\n\n## PYTHON\n\nRUN apt update\nRUN apt install software-properties-common -y\nRUN add-apt-repository ppa:deadsnakes/ppa -y && \\\n    apt update\nRUN apt install python3.10 -y\nRUN apt install python3.10-dev python3.10-venv python3-pip -y \n\n# Utils\nRUN apt install -y curl \\\n    lsof \\\n    git \\\n    sqlite3\n\nCOPY ./ /app\n\nRUN chmod +x /app/run.sh\n\nRUN python3 -m pip install -i https://pypi.tuna.tsinghua.edu.cn/simple -r /app/requirements.txt\n\nWORKDIR /app\nEXPOSE 8080 8081\n\nENTRYPOINT [\"/app/run.sh\"]\n"
        },
        {
          "name": "LICENSE",
          "type": "blob",
          "size": 1.240234375,
          "content": "DevOpsGPT Open Source License\n\nThe DevOpsGPT project uses the Apache License 2.0, along with an additional protocol to prevent direct competition with DevOpsGPT and KuafuAI services.\n\nAs a contributor, you should agree that your contributed code:\na. Might be subject to a more permissive open source license in the future.\nb. Can be used for commercial purposes.\n\nWith the Apache License 2.0 License, and this supplementary agreement, anyone can freely use, modify, and distribute DevOpsGPT, provided that: If you wish to use DevOpsGPT for commercial and closed source SaaS services, please contact us for authorization.\n\nThe interactive design of this product is protected by appearance patent.\n\nÂ© 2023 KuafuAI, Inc.\n\n------------------------\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 9.140625,
          "content": "# DevOpsGPT: AI-Driven Software Development Automation Solution\n\n<p align=\"center\">\n<a href=\"docs/README_CN.md\"><img src=\"docs/files/%E6%96%87%E6%A1%A3-%E4%B8%AD%E6%96%87%E7%89%88-blue.svg\" alt=\"CN doc\"></a>\n<a href=\"README.md\"><img src=\"docs/files/document-English-blue.svg\" alt=\"EN doc\"></a>\n<a href=\"docs/README_JA.md\"><img src=\"docs/files/ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ-æ—¥æœ¬èªž-blue.svg\" alt=\"JA doc\"></a>\n<a href=\"http://www.kuafuai.net\"><img src=\"docs/files/%E5%AE%98%E7%BD%91-%E4%BC%81%E4%B8%9A%E7%89%88-purple.svg\" alt=\"EN doc\"></a>\n<a href=\"docs/CONTACT.md\"><img src=\"docs/files/WeChat-%E5%BE%AE%E4%BF%A1-green.svg\" alt=\"roadmap\"></a>\n<a href=\"https://discord.gg/4RMUCZwnxF\"><img src=\"https://img.shields.io/badge/Discord-DevOpsGPT-green\" alt=\"roadmap\"></a>\n</p>\n\n### ðŸ’¡ Get Help - [Q&A](https://github.com/kuafuai/DevOpsGPT/issues) \n### ðŸ’¡ Submit Requests - [Issue](https://github.com/kuafuai/DevOpsGPT/discussions)\n### ðŸ’¡ Technical exchange - service@kuafuai.net\n\n<hr/>\n\n## Introduction\nWelcome to the AI Driven Software Development Automation Solution, abbreviated as DevOpsGPT. We combine LLM (Large Language Model) with DevOps tools to convert natural language requirements into working software. This innovative feature greatly improves development efficiency, shortens development cycles, and reduces communication costs, resulting in higher-quality software delivery.\n\n<img src=\"docs/files/intro-flow-simple.png\"></a>\n\n## Features and Benefits\n\n- Improved development efficiency: No need for tedious requirement document writing and explanations. Users can interact directly with DevOpsGPT to quickly convert requirements into functional software.\n- Shortened development cycles: The automated software development process significantly reduces delivery time, accelerating software deployment and iterations.\n- Reduced communication costs: By accurately understanding user requirements, DevOpsGPT minimizes the risk of communication errors and misunderstandings, enhancing collaboration efficiency between development and business teams.\n- High-quality deliverables: DevOpsGPT generates code and performs validation, ensuring the quality and reliability of the delivered software.\n- [Enterprise Edition] Existing project analysis: Through AI, automatic analysis of existing project information, accurate decomposition and development of required tasks on the basis of existing projects.\n- [Enterprise Edition] Professional model selection: Support language model services stronger than GPT in the professional field to better complete requirements development tasks, and support private deployment.\n- [Enterprise Edition] Support more DevOps platforms: can connect with more DevOps platforms to achieve the development and deployment of the whole process.\n\n## Demoï¼ˆClick to play videoï¼‰\n\n1. <a href=\"https://www.youtube.com/watch?v=KGeWgM6HzR4\" target=\"_blank\">DevOpsGPT Vision video</a>\n2. <a href=\"https://www.youtube.com/watch?v=3peUJeB_afo\" target=\"_blank\">Demo - Software development and deployment to Cloud</a>\n3. <a href=\"https://www.youtube.com/watch?v=IWUPbGrJQOU\" target=\"_blank\">Demo - Develop an API for adding users in Java SpringBoot</a>\n\n\n## Workflow\nThrough the above introduction and Demo demonstration, you must be curious about how DevOpsGPT achieves the entire process of automated requirement development in an existing project. Below is a brief overview of the entire process:\n\n![å·¥ä½œæµç¨‹](docs/files/intro-flow-en.png)\n\n- Clarify requirement documents: Interact with DevOpsGPT to clarify and confirm details in requirement documents.\n- Generate interface documentation: DevOpsGPT can generate interface documentation based on the requirements, facilitating interface design and implementation for developers.\n- Write pseudocode based on existing projects: Analyze existing projects to generate corresponding pseudocode, providing developers with references and starting points.\n- Refine and optimize code functionality: Developers improve and optimize functionality based on the generated code.\n- Continuous integration: Utilize DevOps tools for continuous integration to automate code integration and testing.\n- Software version release: Deploy software versions to the target environment using DevOpsGPT and DevOps tools.\n\n## Use Cloud Services\nVists [kuafuai.net](https://www.kuafuai.net)\n\n## Quick Start\n\n1. Run with source code\n    1. Download the [released version](https://github.com/kuafuai/DevOpsGPT/releases), or clone the latest code(instability), Ensure SQLite and Python3.7 or later is ready.\n    2. Generate the configuration file: Copy `env.yaml.tpl` and rename it to `env.yaml`.\n    3. Modify the configuration file: Edit `env.yaml` and add the necessary information such as GPT Token (refer to [documentation link](docs/DOCUMENT.md) for detailed instructions).\n    4. Run the service: Execute `sh run.sh` on Linux or Mac, or double-click `run.bat` on Windows.\n    5. Access the service: Access the service through a browser (check the startup log for the access address, default is http://127.0.0.1:8080).\n    6. Complete requirement development: Follow the instructions on the page to complete requirement development, and view the generated code in the `./workspace` directory.\n\n2. Run with Docker\n    1. Create a directory: `mkdir -p workspace`\n    2. Copy [env.yaml.tpl](https://github.com/kuafuai/DevOpsGPT/blob/master/env.yaml.tpl) from the repository to the current directory and rename it to `env.yaml`\n    3. Modify the configuration file: edit `env.yaml` and add necessary information such as GPT Token.\n    4. ```\n        docker run -it \\\n        -v$PWD/workspace:/app/workspace \\\n        -v$PWD/env.yaml:/app/env.yaml \\\n        -p8080:8080 -p8081:8081 kuafuai/devopsgpt:latest\n        ```\n    5. Access the service: Access the service through a browser (access address provided in the startup log, the default is http://127.0.0.1:8080).\n    6. Complete the requirement development: complete the requirement development according to the guidance of the page, and view the generated code in the `./workspace ` directory\n\n**For detailed documentation and configuration parameters, please refer to the [documentation link](docs/DOCUMENT.md).**\n\n\n## Limitations\nAlthough we strive to enhance enterprise-level software development efficiency and reduce barriers with the help of large-scale language models, there are still some limitations in the current version:\n\n- The generation of requirement and interface documentation may not be precise enough and might not meet developer intent in complex scenarios.\n- In the current version, automating the understanding of existing project code is not possible. We are exploring a new solution that has shown promising results during validation and will be introduced in a future version.\n\n## Product Roadmap\n\n- Accurate requirement decomposition and development task breakdown based on existing projects.\n- New product experiences for rapid import of development requirements and parallel automation of software development and deployment.\n- Introduce more software engineering tools and professional tools to quickly complete various software development tasks under AI planning and execution.\n\nWe invite you to participate in the DevOpsGPT project and [contribute](./docs/CONTRIBUTING.md) to the automation and innovation of software development, creating smarter and more efficient software systems!\n\n## Disclaimer\n\nThis project, DevOpsGPT, is an experimental application and is provided \"as-is\" without any warranty, express or implied. By using this software, you agree to assume all risks associated with its use, including but not limited to data loss, system failure, or any other issues that may arise.\n\nThe developers and contributors of this project do not accept any responsibility or liability for any losses, damages, or other consequences that may occur as a result of using this software. You are solely responsible for any decisions and actions taken based on the information provided by DevOpsGPT.\n\nPlease note that the use of the GPT language model can be expensive due to its token usage. By utilizing this project, you acknowledge that you are responsible for monitoring and managing your own token usage and the associated costs. It is highly recommended to check your OpenAI API usage regularly and set up any necessary limits or alerts to prevent unexpected charges.\n\nAs an autonomous experiment, DevOpsGPT may generate content or take actions that are not in line with real-world business practices or legal requirements. It is your responsibility to ensure that any actions or decisions made based on the output of this software comply with all applicable laws, regulations, and ethical standards. The developers and contributors of this project shall not be held responsible for any consequences arising from the use of this software.\n\nBy using DevOpsGPT, you agree to indemnify, defend, and hold harmless the developers, contributors, and any affiliated parties from and against any and all claims, damages, losses, liabilities, costs, and expenses (including reasonable attorneys' fees) arising from your use of this software or your violation of these terms.\n\n## Reference project\n- https://github.com/Significant-Gravitas/Auto-GPT\n- https://github.com/AntonOsika/gpt-engineer\n- https://github.com/hwchase17/langchain\n"
        },
        {
          "name": "backend",
          "type": "tree",
          "content": null
        },
        {
          "name": "build.sh",
          "type": "blob",
          "size": 0.5546875,
          "content": "#!/bin/bash\n\n# Get the current commit SHA\nCOMMIT_SHA=$(git rev-parse HEAD)\n\n# Get the current date in the format YYYYMMDD\nCURRENT_DATE=$(date +%Y%m%d)\n\n# Construct the new tag\nNEW_TAG=\"${CURRENT_DATE}-${COMMIT_SHA:0:7}\"\n\n# Build the Docker image with the new tag\ndocker build -t \"${DOCKER_REPO}:${NEW_TAG}\" -t \"${DOCKER_REPO}:latest\" -f Dockerfile .\n\n# Login to Docker Hub\necho \"$DOCKER_PASSWORD\" | docker login -u \"$DOCKER_USERNAME\" --password-stdin\n\n# Push the Docker image with the new tag\ndocker push \"${DOCKER_REPO}:${NEW_TAG}\"\ndocker push \"${DOCKER_REPO}:latest\""
        },
        {
          "name": "db",
          "type": "tree",
          "content": null
        },
        {
          "name": "docs",
          "type": "tree",
          "content": null
        },
        {
          "name": "env.yaml.tpl",
          "type": "blob",
          "size": 3.9853515625,
          "content": "# Configure the interface information of openai and azure. If a certain type of interface is not needed, please completely delete the corresponding element (openai\\azure). \n# é…ç½® openai å’Œ azure çš„æŽ¥å£ä¿¡æ¯ï¼ˆæ›¿æ¢ sk-xxxx ä¸ºä½ çš„ keyï¼‰ï¼Œå¦‚æžœä¸éœ€è¦æŸä¸ªç±»åž‹çš„æŽ¥å£ï¼Œè¯·å°†å¯¹åº”çš„å…ƒç´ æ•´ä¸ªåˆ é™¤æŽ‰ï¼ˆopenai\\azureï¼‰ï¼Œã€æ³¨æ„ã€‘æ•°ç»„ä¸­æœ€åŽä¸€ä¸ªå…ƒç´ åŽé¢ä¸è¦åŠ é€—å·ã€æ‚¨å¯èƒ½éœ€è¦å¼€å¯å…¨å±€ä»£ç†æ¥è®¿é—®APIæŽ¥å£\nGPT_KEYS: |\n    {\n        \"openai\": {\n            \"keys\": [\n                {\"sk-xxxx\": {\"count\": 0, \"timestamp\": 0}}\n            ],\n            \"api_type\": \"open_ai\",\n            \"api_base\": \"https://api.openai.com/v1\",\n            \"api_version\": \"2020-11-07\",\n            \"proxy\": \"None\"\n        }\n        ,\n        \"azure\": {\n            \"keys\": [\n                {\"sk-xxxx\": {\"count\": 0, \"timestamp\": 0}}\n            ],\n            \"api_type\": \"azure\",\n            \"api_base\": \"https://example-gpt.openai.azure.com/\",\n            \"api_version\": \"2023-05-15\",\n            \"deployment_id\": \"deployment-name\",\n            \"proxy\": \"None\"\n        }\n    }\n\nGPT_KEYS_BACKUP: |\n    {\n        \"openai\": {\n            \"keys\": [\n                {\"sk-xxxx\": {\"count\": 0, \"timestamp\": 0}}\n            ],\n            \"api_type\": \"open_ai\",\n            \"api_base\": \"https://api.openai.com/v1\",\n            \"api_version\": \"2020-11-07\",\n            \"proxy\": \"None\"\n        }\n        ,\n        \"azure\": {\n            \"keys\": [\n                {\"sk-xxxx\": {\"count\": 0, \"timestamp\": 0}}\n            ],\n            \"api_type\": \"azure\",\n            \"api_base\": \"https://example-gpt.openai.azure.com/\",\n            \"api_version\": \"2023-05-15\",\n            \"deployment_id\": \"deployment-name\",\n            \"proxy\": \"None\"\n        }\n    }\n\n# Configure the model used (do not use less than 16k token model), [note] openai plus members and API members are different, you opena plus member does not mean that you can use gpt4 model, specifically consult the official documentation of openai\n# é…ç½®ä½¿ç”¨çš„æ¨¡åž‹ï¼ˆä¸è¦ä½¿ç”¨å°äºŽ16k tokençš„æ¨¡åž‹ï¼‰ï¼Œã€æ³¨æ„ã€‘openaiçš„plusä¼šå‘˜å’ŒAPIä¼šå‘˜æ˜¯ä¸åŒçš„ï¼Œä½ å¼€é€šäº†plusä¼šå‘˜ä¸ä»£è¡¨å¯ä»¥ç”¨gpt4çš„æ¨¡åž‹ï¼Œå…·ä½“æŸ¥é˜…openaiçš„å®˜æ–¹æ–‡æ¡£\nLLM_MODEL: \"gpt-3.5-turbo-16k-0613\"  \n\nLANGUAGE: 'en'  # enã€zh\nSITE_NAME: 'DevOpsGPT'\nINVITATION_CODE: ''\nFRONTEND_PORT: 8080\nBACKEND_PORT: 8081\n# The url that the back end allows cross-domain access (front-end access address)\n# åŽç«¯å…è®¸è·¨åŸŸè®¿é—®çš„urlï¼ˆå‰ç«¯è®¿é—®åœ°å€ï¼‰\nAICODER_ALLOWED_ORIGIN: '[\"http://127.0.0.1:8080\"]'\nBACKEND_URL: 'http://127.0.0.1:8081'\n\nBACKEND_HOST: '0.0.0.0'\nBACKEND_DEBUG: true\nAPP_SECRET_KEY: 'Es*lsnGptDevOps'\nWORKSPACE_PATH: './workspace/'\nSQLALCHEMY_DATABASE_URI: 'sqlite:///../db/database.db'\nMODE: \"REAL\" # FAKEã€REAL\nGRADE: \"base\"\n\nCD_TOOLS: \"local\"  # localã€aliyun Open source version only supports Alibaba Cloud å½“å‰å¼€æºç‰ˆåªæ”¯æŒé˜¿é‡Œäº‘\nCD_ACCESS_KEY: \"\"\nCD_SECRET_KEY: \"\"\n\nDEVOPS_TOOLS: \"local\" # localã€gitlabã€github  Please refer to the official documentation of the tool to learn how to use it. è¯·æŸ¥é˜…ç›¸å…³å·¥å…·çš„å®˜æ–¹æ–‡æ¡£äº†è§£å¦‚ä½•ä½¿ç”¨\nGIT_ENABLED: true  # Whether to enable Git. If yes, pull code from Git(Note APPS.service.git_path configuration item). æ˜¯å¦å¼€å¯Gitï¼Œå¦‚æžœå¼€å¯å°†ä»ŽGitä¸­æ‹‰ä»£ç ï¼ˆæ³¨æ„ APPS.service.git_path é…ç½®é¡¹ï¼‰\nGIT_URL: \"https://github.com\"  # https://github.comã€https://gitlab.com\nGIT_API: \"https://api.github.com\" # https://api.github.com\nGIT_TOKEN: \"xxxx\"   # Get from here https://github.com/settings/tokensã€https://gitlab.com/-/profile/personal_access_tokens\nGIT_USERNAME: \"xxxx\"\nGIT_EMAIL: \"xxxx@x.x\"\nGITHUB_PROXY: \"\"\n\nEMAIL_SERVER: \"\"\nEMAIL_PORT: \"\"\nEMAIL_SSL: true\nEMAIL_SENDER: \"\"\nEMAIL_PASSWORD: \"\"\n\nPAYPAL_MODE: \"sandbox\" # sandbox or live\nPAYPAL_ID: \"xxxx\"\nPAYPAL_SECRET: \"xxxx\"\nALIPAY_SERVER: \"https://openapi-sandbox.dl.alipaydev.com/gateway.do\" # sandbox or live\nALIPAY_ID: \"666\"\nALIPAY_PRIVATE_KEY: \"xxxx\"\nALIPAY_PUBLIC_KEY: \"xxxx\"\n\nAUTO_LOGIN: true\nUSERS: |\n  {\n    \"demo_user\": \"123456\"\n  }"
        },
        {
          "name": "frontend",
          "type": "tree",
          "content": null
        },
        {
          "name": "i18n",
          "type": "tree",
          "content": null
        },
        {
          "name": "requirements.txt",
          "type": "blob",
          "size": 0.3359375,
          "content": "flask-sqlalchemy==3.1.1\nflask-cors==3.0.10\nflask==2.2.5\npyyaml\npython-gitlab\nopenai==1.8.0\naliyun-python-sdk-core\naliyun-python-sdk-eci\nalembic\npaypalrestsdk\nalipay-sdk-python==3.6.640\ntyped_ast\nclick\nhttpx\nalibabacloud_dysmsapi20170525\ncertifi\napscheduler\nflask-limiter\nboto3\n# yum install mysql-devel gcc gcc-devel python-devel\n# mysqlclient\n"
        },
        {
          "name": "run.bat",
          "type": "blob",
          "size": 2.3896484375,
          "content": "@echo off\nsetlocal enabledelayedexpansion\n\ncall :get_python3\n\nif errorlevel 1 (\n    echo Python 3.7 or higher is required to run DevOpsGPT.\n    exit /b 1\n)\n\ncopy .\\.github\\hooks\\pre-commit .\\.git\\hooks\\\n\necho Installing missing packages...\ncall %PYTHON_CMD% -m pip install -i https://pypi.tuna.tsinghua.edu.cn/simple -r requirements.txt\n\nstart \"\" %PYTHON_CMD% backend\\run.py\n\ncall :start_frontend %PYTHON_CMD%\n\ncall :kill_by_port %%BACKEND_PORT%%\n\nexit /b 0\n\nREM function\n:get_python3\n    for /f \"delims=\" %%i in ('where python 2^>nul') do (\n        set \"PYTHON_CMD=%%i\"\n        goto :pyCheck\n    )\n    :pyCheck\n    if not defined PYTHON_CMD (\n        echo Python3 not found. Please install Python3.7 or higher.\n        exit /b 1\n    )\nGOTO:EOF\n\n:get_config_value\n    set \"yaml_file=env.yaml\"\n    set \"key=%~1\"\n\n    for /f \"usebackq tokens=2 delims=: \" %%a in (`findstr /C:\"%key%:\" \"%yaml_file%\"`) do (\n        set \"value=%%a\"\n    )\n\n    if not defined value (\n        echo Error: Key '%key%' not found in config file '%yaml_file%'. Please copy a new env.yaml from env.yaml.tpl and reconfigure it according to the documentation.\n        exit /b 1\n    )\n    set \"%key%=!value!\"\nGOTO:EOF\n\n:start_frontend\n    set \"PYTHON_CMD=%~1\"\n    call :get_config_value FRONTEND_PORT\n    call :get_config_value BACKEND_PORT\n    if %errorlevel%==1 (\n        pause\n        exit /b 1\n    )\n\n    REM Wait for the backend service to start\n    for /l %%i in (1, 1, 20) do (\n        set \"response=\"\n        for /f \"delims=\" %%a in ('set HTTP_PROXY= ^& set HTTPS_PROXY= ^& set ALL_PROXY= ^& set http_proxy= ^& set https_proxy= ^& set all_proxy= ^& curl -s -o nul -w \"%%{http_code}\" http://127.0.0.1:%BACKEND_PORT%') do set \"response=%%a\"\n\n        echo !response!\n        if \"!response!\"==\"404\" (\n            echo.\n            echo Service started successfully, please use a browser to visit: http://127.0.0.1:!FRONTEND_PORT!\n            GOTO :starFrontend\n        ) else (\n            timeout /t 5 > nul\n        )\n    )\n    :starFrontend\n    call %PYTHON_CMD% -m http.server %FRONTEND_PORT% --directory frontend\nGOTO:EOF\n\n:kill_by_port\n    set \"port=%~1\"\n    for /f \"delims=\" %%a in ('netstat -aon ^| findstr \"LISTENING\" ^| findstr \":!port!\"') do (\n        set \"line=%%a\"\n        for /f \"tokens=5\" %%b in (\"!line!\") do set \"pid=%%b\"\n    )\n\n    if not defined pid (\n        echo The port is not in use: %port%\n        exit /b 1\n    )\n\n    taskkill /f /pid %pid%\nGOTO:EOF\n"
        },
        {
          "name": "run.sh",
          "type": "blob",
          "size": 2.4033203125,
          "content": "#!/usr/bin/env bash\n\nfunction get_python3() {\n    if command -v python3 &> /dev/null\n    then\n        echo \"python3\"\n    else\n        echo \"Python3 not found. Please install Python3.7 or higher.\"\n        exit 1\n    fi\n}\n\nfunction get_config_value() {\n    local yaml_file=\"env.yaml\"\n    local key=\"$1\"\n\n    local value=$(grep \"$key:\" \"$yaml_file\" | awk -F': ' '{print $2}')\n\n    if [[ -z \"$value\" ]]; then\n        echo \"Error: Key '$key' not found in config file '$yaml_file'. Please copy a new env.yaml from env.yaml.tpl and reconfigure it according to the documentation.\"\n        exit 1\n    fi\n\n    echo \"$value\"\n}\n\nfunction start_frontend() {\n    PYTHON_CMD=\"$1\"\n    frontend_port=$(get_config_value \"FRONTEND_PORT\")\n    $PYTHON_CMD -m http.server $frontend_port --directory frontend &\n\n    echo $!\n\n    backend_port=$(get_config_value \"BACKEND_PORT\")\n    for ((i=1; i<=20; i++))\n    do\n    response=$(HTTP_PROXY= HTTPS_PROXY= ALL_PROXY= http_proxy= https_proxy= all_proxy= curl -s -o /dev/null -w \"%{http_code}\" 127.0.0.1:$backend_port)\n\n    if [ \"$response\" = \"404\" ] || [ \"$response\" = \"200\" ]; then\n        echo -e \"\\n\\nService started successfully, please use browser to visit: http://127.0.0.1:$frontend_port\"\n        break\n    else\n        sleep 5\n    fi\n    done\n}\n\nfunction kill_by_port() {\n    port=\"$1\"\n    os_type=$(uname -s)\n    case \"$os_type\" in\n        Linux*)\n            pid=$(lsof -t -i \":$port\")\n            ;;\n        Darwin*)\n            pid=$(lsof -t -i \":$port\")\n            ;;\n        *)\n            echo \"unknown os type: $os_type\"\n            exit 1\n            ;;\n    esac\n    if [ -z \"$pid\" ]; then\n        echo \"The port is not in use: $port\"\n    else\n        echo \"will kill port $port pid $pid\"\n        kill -9 $pid\n    fi\n}\n\ncp .github/hooks/pre-commit .git/hooks/\n\nkill_by_port $(get_config_value \"FRONTEND_PORT\")\nkill_by_port $(get_config_value \"BACKEND_PORT\")\n\nPYTHON_CMD=$(get_python3)\n\nif $PYTHON_CMD -c \"import sys; sys.exit(sys.version_info < (3, 7))\"; then\n    echo Installing missing packages...\n    $PYTHON_CMD -m pip install -i https://pypi.tuna.tsinghua.edu.cn/simple -r requirements.txt\nelse\n    echo \"Python 3.7 or higher is required to run DevOpsGPT.\"\n    exit 1\nfi\n\n# start the frontend service\nstart_frontend $PYTHON_CMD &\n\n# start the backend service\n$PYTHON_CMD backend/run.py\n\n# or run the `ps -ef | grep 8080` command to get the PID and `kill PID` to stop\nkill_by_port $(get_config_value \"FRONTEND_PORT\")\n"
        },
        {
          "name": "templete",
          "type": "tree",
          "content": null
        }
      ]
    }
  ]
}