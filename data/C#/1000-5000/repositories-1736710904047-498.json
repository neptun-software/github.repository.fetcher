{
  "metadata": {
    "timestamp": 1736710904047,
    "page": 498,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjUwMA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "nhibernate/nhibernate-core",
      "stars": 2136,
      "defaultBranch": "master",
      "files": [
        {
          "name": ".config",
          "type": "tree",
          "content": null
        },
        {
          "name": ".deepsource.toml",
          "type": "blob",
          "size": 0.259765625,
          "content": "version = 1\n\ntest_patterns = [\"src/NHibernate.Test/**\"]\n\nexclude_patterns = [\n  \"src/NHibernate/**/*.generated.cs\",\n  \"src/NHibernate/Async/**/*.cs\",\n  \"src/NHibernate.DomainModel/Async/**/*.cs\",\n  \"src/NHibernate.Test/Async/**/*.cs\"\n]\n\n[[analyzers]]\nname = \"csharp\""
        },
        {
          "name": ".editorconfig",
          "type": "blob",
          "size": 1.2646484375,
          "content": "root=true\n\n[*]\ninsert_final_newline = true\ncharset = utf-8\n\n[*.cs]\nindent_style = tab\ndotnet_sort_system_directives_first = true\ncsharp_space_after_cast = true\ncsharp_new_line_before_open_brace = all\ncsharp_new_line_before_else = true\ncsharp_new_line_before_catch = true\ncsharp_new_line_before_finally = true\ncsharp_new_line_before_members_in_object_initializers = true\ncsharp_new_line_before_members_in_anonymous_types = true\ncsharp_new_line_between_query_expression_clauses = true\n\ndotnet_diagnostic.NUnit1032.severity = suggestion\ndotnet_diagnostic.NUnit1028.severity = none\ndotnet_diagnostic.NUnit2045.severity = none\n# Consider using the constraint model, Assert.That\ndotnet_diagnostic.NUnit2005.severity = suggestion\ndotnet_diagnostic.NUnit2006.severity = suggestion\ndotnet_diagnostic.NUnit2015.severity = suggestion\ndotnet_diagnostic.NUnit2031.severity = suggestion\ndotnet_diagnostic.NUnit2049.severity = suggestion\n# The SameAs constraint always fails on value types as the actual and the expected value cannot be the same reference\ndotnet_diagnostic.NUnit2040.severity = suggestion\n\n[*.xsd]\nindent_style = tab\n\n[*.json]\nindent_style = space\nindent_size = 2\n\n[{*.xml,*.csproj,*.vbproj}]\nindent_style = space\nindent_size = 2\nij_xml_space_inside_empty_tag = true\n\n[*.g]\nindent_style = tab\n"
        },
        {
          "name": ".gitattributes",
          "type": "blob",
          "size": 0.580078125,
          "content": "# Set the default behavior, in case people don't have core.autocrlf set.\n* text=auto\n\n# Explicitly declare text files you want to always be normalized and converted\n# to native line endings on checkout.\n*.cs      text diff=csharp\n*.xaml    text\n*.txt     text\n*.tt      text\n*.ps1     text\n*.cmd     text\n*.msbuild text\n*.md      text\n\n*.sln text eol=crlf\n*.csproj text eol=crlf\n*.vbproj text eol=crlf\n*.fsproj text eol=crlf\n*.dbproj text eol=crlf\n\n# Resharper DotSettings files are in Unix format\n*.DotSettings text eol=lf \n\n# Binary files\n*.png binary\n*.jpg binary\n*.dll binary\n*.exe binary\n\n"
        },
        {
          "name": ".github",
          "type": "tree",
          "content": null
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.5595703125,
          "content": "# Top-level .gitignore.\n# Rules that apply mainly for for Visual Studio projects should go in src/.gitignore\n# to avoid applying to e.g. the Tools and lib directories.\n\nbuild\n*.bak\nNHibernate.VisualState.xml\navailable-test-configurations\ncurrent-test-configuration\n\n# This will be copied from the build directory to the lib directory in order\n# to satisfy later build steps. But it should not be committed.\nNHibernate.dll\nTestResult.xml\n.vscode\n.DS_Store\n\n.idea/\n.vs/\n/build-common/NHibernate.dev.props\n/doc/reference/master.xml\n/doc/bin/\n/doc/obj/\n/Tools/bin/\n/Tools/obj/\n"
        },
        {
          "name": ".hgignore",
          "type": "blob",
          "size": 0.3486328125,
          "content": "# Ignore file for Visual Studio 2008/2010\n\n# use glob syntax\nsyntax: glob\n\n*.obj\n*.exe\n*.pdb\n*.user\n*.aps\n*.pch\n*.vspscc\n*_i.c\n*_p.c\n*.ncb\n*.suo\n*.tlb\n*.tlh\n*.bak\n*.cache\n*.ilk\n*.log\n*.lib\n*.sbr\n*.scc\n[Bb]in\n[Db]ebug*/\nobj/\n[Rr]elease*/\n*resharper*\n_ReSharper*/\n[Tt]est[Rr]esult*\n[Bb]uild[Ll]og.*\n*.[Pp]ublish.xml\nglob:NHibernate.dll\nglob:nhibernate\\build\\\n"
        },
        {
          "name": "CONTRIBUTING.md",
          "type": "blob",
          "size": 8.349609375,
          "content": "# Contributing to NHibernate\n\nThis document describes the policies and procedures for working with NHibernate. It also describes how to quickly get going with a test case and optionally a fix for NHibernate. \n\nFor the least friction, please follow the steps in the order presented, being careful not to miss any. There are many details in this document that will help your contribution go as smoothly as possible. Please read it thoroughly. \n\n## Create or find a GitHub Issue\n\nGitHub is used to generate the release notes and serves as a central point of reference for all changes that have occurred to NHibernate. \n\nVisit [https://github.com/nhibernate/nhibernate-core/issues][1] and search for your issue. If you see it, giving it a like is a good way to increase the visibility of the issue. \n\nBefore creating an issue, please do your best to verify the existence of the problem. This reduces noise in the issue tracker and helps conserve the resources of the team for more useful tasks. Note the issue number for future steps.\n\nIf you are familiar with NHibernate inner working and want to directly fix the issue, you may also contribute a PR without writing a separated issue, provided you describe the fixed issue in the PR.\n\n## Fork and Clone from GitHub\n\nThe main GitHub repository is at [https://github.com/nhibernate/nhibernate-core][2]. If you plan to contribute your test case or improvement back to NHibernate, you should visit that page and fork the repository so you can commit your own changes and then submit a pull request. \n\n## The Build Menu\n\n**ShowBuildMenu.bat** will be your friend throughout this journey. A .sh version exists for Linux. It's easiest to work with if you make his box bigger by following these steps: \n\n1.  Run ShowBuildMenu.bat.\n2.  Right click on the title bar of the window.\n3.  Select \"Properties\".\n4.  Select the \"Layout\" tab.\n5.  Set the following options. \n    *   Screen Buffer Size \n        *   Width: 160\n        *   Height: 9999 Window Size \n        *   Width: 160\n        *   Height: 50\n\n## Setting up For Development\n\n1.  Install your favorite database and optionally set up a user capable of creating and dropping a database called **nhibernate**. There are some per-database instructions in the lib/teamcity/* folders, which you may find helpful. For SQL Server, you might be able to use the **localhost\\sqlexpress** instance installed with Visual Studio. Often people already have databases set up, so you might not even need to do anything in this step.\n2.  Run the build menu and select option A to create a new test configuration. Notepad will pop up and you should edit the connection string information, saving it when you're done. These configurations will appear in the \"available-test-configurations\" folder.\n3.  Run the build menu and select option B to activate the test configuration you created. The appropriate configuration will be copied to the \"current-test-configuration\" folder.\n4.  (Optional) Run all the tests with option C or D and hopefully you will see no failing tests. The build may fail on certain databases; please ask on the mailing list if you are having trouble.\n5.  Before using the database for unit tests from an IDE, you'll need to create an empty database that matches your connection string. The unit test in NHibernate.TestDatabaseSetup supports some databases. If the one you have configured is supported, it will drop the database if it does already exist, then recreate it.\n\nCompiling the solution under Linux requires installation of the [Mono package mono-complete](https://www.mono-project.com/download/stable) and of the [.NET Core SDK](https://www.microsoft.com/net/download).\n\n## Creating a Test Case to Verify the Issue\n\nIn most cases, you will be adding your test to the NHibernate.Test project. If there is a test that only works with VisualBasic, then add it to the NHibernate.Test.VisualBasic project instead. \n\n1.  Open **NHibernate.sln** from the src folder.\n2.  If adding a VisualBasic test, go to the Issues folder in the NHibernate.Test.VisualBasic project. If adding a C# test, go to the NHibernate.Test project.\n3.  C# only: either find the suitable feature folder and add your test there without following the two next points, or go to the NHSpecificTest folder.\n4.  Copy and paste the GH0000 folder to create a duplicate test (\"Copy of GH0000\").\n5.  Replace the four instances of GH0000 with your issue number.\n6.  Edit the test as you see fit. Don't commit yet; there are details in a later step.\n\nDo not use anymore the NHxxxx naming, they match issue numbers from https://nhibernate.jira.com/\n\nNHibernate has migrated its issue tracking from Jira to GitHub, and using the Jira naming may lead to conflicts with previous Jira issues.\n\n## Running Your Unit Test\n\n### Debugging Through Included NUnit GUI\n\n1.  Right click on the project (ex. NHibernate.Test) in Visual Studio.\n2.  Select: Debug -> Start New Instance\n3.  Type the name of your unit test to quickly go to it. For example: GH2318\n4.  Select and run the test.\n5.  You can also make the test project your startup project and it will run NUnit when you press F5.\n\n### Third Party NUnit Test Runner\n\nThis could be something like ReSharper.\n\n1.  Sometimes tests fail when run under x64. If required (ex. SQLite and Firebird), go to the project properties Build tab and set the target to x86.\n2.  Next, just run the tests as usual.\n\n## Regenerate async code\n\nNHibernate uses a code generator for its async implementation and tests. If your changes, including tests, involve any synchronous method having an async\ncounter-part, you should regenerate the async code. Use build-menu option H for this. Then test any async counter-part it may have generated from your tests.\n\n## Commit your Test Case\n\nEnsure that your e-mail address and name are configured appropriately in Git. \n\nCreate a feature branch so it's easy to keep it separate from other improvements. Having a pull request accepted might involve further commits based on community feedback, so having the feature branch provides a tidy place to work from. Using the issue number as the branch name is good practice.\n\n## Implementing the Bug Fix or Improvement\n\nSince you now have a failing test case, it should be straight-forward to step into NHibernate to attempt to ascertain what the problem is. While this may seem daunting at first, feel free to give it a go. It's just code after all. :) \n\n### Ensure All Tests Pass\n\nOnce you've made changes to the NHibernate code base, you'll want to ensure that you haven't caused any previously passing tests to fail. The easiest way to check this is to select option C or D from the build menu, ensure the root tree node is selected, then press run to have all the tests run. \n\nPlease note that some tests assume a case insensitive accent sensitive database when performing string comparison. Some tests assume SQL user locales to be en-US. They will fail otherwise. With SQL Server, collation with supplementary characters (\\_SC suffix on collation name) are no supported by legacy tests on \"text\" types.\n\n## Submit a Pull Request\n\nIf you are fixing an existing issue, please make sure to include this issue number in your GitHub pull request. (Use the # prefix instead of GH for automatically having a link to it.)\n\nWe use tabs for code indentation, not spaces. To make this easier, NHibernate has an [editorconfig][3] configuration file to switch Visual Studio automatically between tabs and spaces mode.\n\nAfter submitting your pull request, come back later to check the outcome of automated builds. If some have failed, they will be listed in your pull request with a link to the corresponding TeamCity build. Find out in the build which tests are newly failing, and take appropriate action. Some of those builds may have known failing tests, which does not trigger a build failure. In this case a *Comparison.txt* file in build Artifacts may help finding which failing tests are not known failing tests and must be addressed.\n\n## Further Discussion\n\nThe NHibernate team monitors GitHub regularly, so your request will be noticed. If you want to discuss it further, you are welcome to post to the [nhibernate-development mailing list][4]. \n\n## Happy Contributing!\n\nThe NHibernate community values your contributions. Thank you for the time you have invested.\n\n [1]: https://github.com/nhibernate/nhibernate-core/issues/\n [2]: https://github.com/nhibernate/nhibernate-core/\n [3]: http://www.editorconfig.org/\n [4]: http://groups.google.com/group/nhibernate-development\n"
        },
        {
          "name": "GaRelease.bat",
          "type": "blob",
          "size": 0.087890625,
          "content": ".\\Tools\\nant\\bin\\NAnt.exe  -t:net-4.0 -D:project.config=release clean package nugetpushbat"
        },
        {
          "name": "GitReleaseManager.yaml",
          "type": "blob",
          "size": 0.609375,
          "content": "create:\n  include-footer: false\nissue-labels-include:\n - \"t: Bug\"\n - \"t: New Feature\"\n - \"t: Improvement\"\n - \"t: Task\"\n - \"t: Tests\"\nissue-labels-exclude:\n - \"r: Duplicate\"\n - \"r: External Issue\"\n - \"r: Not an Issue\"\n - \"r: Obsolete\"\n - \"r: Rejected\"\n - \"r: Replaced\"\n - \"r: Reverted\"\n - \"t: Fix\"\nissue-labels-alias:\n - name:   \"t: Bug\"\n   header: Bug\n   plural: Bug\n - name:   \"t: New Feature\"\n   header: New Feature\n   plural: New Feature\n - name:   \"t: Improvement\"\n   header: Improvement\n   plural: Improvement\n - name:   \"t: Task\"\n   header: Task\n   plural: Task\n - name:   \"t: Tests\"\n   header: Tests\n   plural: Tests\n"
        },
        {
          "name": "HowInstall.txt",
          "type": "blob",
          "size": 0.3125,
          "content": "Required Bins : Minimal required assemblies to work with NHibernate\n\n\nRequired for LazyLoading : \nNHibernate 2.1 has a new important feature regarding dynamic-proxy systems for lazy-loading\nDetails are available in releasenotes.txt and in this post\nhttps://nhibernate.info/blog/2008/11/09/nh2-1-0-bytecode-providers.html"
        },
        {
          "name": "LICENSE.txt",
          "type": "blob",
          "size": 23.9228515625,
          "content": "                  GNU LESSER GENERAL PUBLIC LICENSE\n                     Version 2.1, February 1999\n\n       Copyright (C) 1991, 1999 Free Software Foundation, Inc.\n       59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n\n     Everyone is permitted to copy and distribute verbatim copies\n       of this license document, but changing it is not allowed.\n\n[This is the first released version of the Lesser GPL.  It also counts\n as the successor of the GNU Library Public License, version 2, hence\n the version number 2.1.]\n\n                            Preamble\n\n  The licenses for most software are designed to take away your\nfreedom to share and change it.  By contrast, the GNU General Public\nLicenses are intended to guarantee your freedom to share and change\nfree software--to make sure the software is free for all its users.\n\n  This license, the Lesser General Public License, applies to some\nspecially designated software packages--typically libraries--of the\nFree Software Foundation and other authors who decide to use it.  You\ncan use it too, but we suggest you first think carefully about whether\nthis license or the ordinary General Public License is the better\nstrategy to use in any particular case, based on the explanations below.\n\n  When we speak of free software, we are referring to freedom of use,\nnot price.  Our General Public Licenses are designed to make sure that\nyou have the freedom to distribute copies of free software (and charge\nfor this service if you wish); that you receive source code or can get\nit if you want it; that you can change the software and use pieces of\nit in new free programs; and that you are informed that you can do\nthese things.\n\n  To protect your rights, we need to make restrictions that forbid\ndistributors to deny you these rights or to ask you to surrender these\nrights.  These restrictions translate to certain responsibilities for\nyou if you distribute copies of the library or if you modify it.\n\n  For example, if you distribute copies of the library, whether gratis\nor for a fee, you must give the recipients all the rights that we gave\nyou.  You must make sure that they, too, receive or can get the source\ncode.  If you link other code with the library, you must provide\ncomplete object files to the recipients, so that they can relink them\nwith the library after making changes to the library and recompiling\nit.  And you must show them these terms so they know their rights.\n\n  We protect your rights with a two-step method: (1) we copyright the\nlibrary, and (2) we offer you this license, which gives you legal\npermission to copy, distribute and/or modify the library.\n\n  To protect each distributor, we want to make it very clear that\nthere is no warranty for the free library.  Also, if the library is\nmodified by someone else and passed on, the recipients should know\nthat what they have is not the original version, so that the original\nauthor's reputation will not be affected by problems that might be\nintroduced by others.\n\n  Finally, software patents pose a constant threat to the existence of\nany free program.  We wish to make sure that a company cannot\neffectively restrict the users of a free program by obtaining a\nrestrictive license from a patent holder.  Therefore, we insist that\nany patent license obtained for a version of the library must be\nconsistent with the full freedom of use specified in this license.\n\n  Most GNU software, including some libraries, is covered by the\nordinary GNU General Public License.  This license, the GNU Lesser\nGeneral Public License, applies to certain designated libraries, and\nis quite different from the ordinary General Public License.  We use\nthis license for certain libraries in order to permit linking those\nlibraries into non-free programs.\n\n  When a program is linked with a library, whether statically or using\na shared library, the combination of the two is legally speaking a\ncombined work, a derivative of the original library.  The ordinary\nGeneral Public License therefore permits such linking only if the\nentire combination fits its criteria of freedom.  The Lesser General\nPublic License permits more lax criteria for linking other code with\nthe library.\n\n  We call this license the \"Lesser\" General Public License because it\ndoes Less to protect the user's freedom than the ordinary General\nPublic License.  It also provides other free software developers Less\nof an advantage over competing non-free programs.  These disadvantages\nare the reason we use the ordinary General Public License for many\nlibraries.  However, the Lesser license provides advantages in certain\nspecial circumstances.\n\n  For example, on rare occasions, there may be a special need to\nencourage the widest possible use of a certain library, so that it becomes\na de-facto standard.  To achieve this, non-free programs must be\nallowed to use the library.  A more frequent case is that a free\nlibrary does the same job as widely used non-free libraries.  In this\ncase, there is little to gain by limiting the free library to free\nsoftware only, so we use the Lesser General Public License.\n\n  In other cases, permission to use a particular library in non-free\nprograms enables a greater number of people to use a large body of\nfree software.  For example, permission to use the GNU C Library in\nnon-free programs enables many more people to use the whole GNU\noperating system, as well as its variant, the GNU/Linux operating\nsystem.\n\n  Although the Lesser General Public License is Less protective of the\nusers' freedom, it does ensure that the user of a program that is\nlinked with the Library has the freedom and the wherewithal to run\nthat program using a modified version of the Library.\n\n  The precise terms and conditions for copying, distribution and\nmodification follow.  Pay close attention to the difference between a\n\"work based on the library\" and a \"work that uses the library\".  The\nformer contains code derived from the library, whereas the latter must\nbe combined with the library in order to run.\n\n                  GNU LESSER GENERAL PUBLIC LICENSE\n   TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION\n\n  0. This License Agreement applies to any software library or other\nprogram which contains a notice placed by the copyright holder or\nother authorized party saying it may be distributed under the terms of\nthis Lesser General Public License (also called \"this License\").\nEach licensee is addressed as \"you\".\n\n  A \"library\" means a collection of software functions and/or data\nprepared so as to be conveniently linked with application programs\n(which use some of those functions and data) to form executables.\n\n  The \"Library\", below, refers to any such software library or work\nwhich has been distributed under these terms.  A \"work based on the\nLibrary\" means either the Library or any derivative work under\ncopyright law: that is to say, a work containing the Library or a\nportion of it, either verbatim or with modifications and/or translated\nstraightforwardly into another language.  (Hereinafter, translation is\nincluded without limitation in the term \"modification\".)\n\n  \"Source code\" for a work means the preferred form of the work for\nmaking modifications to it.  For a library, complete source code means\nall the source code for all modules it contains, plus any associated\ninterface definition files, plus the scripts used to control compilation\nand installation of the library.\n\n  Activities other than copying, distribution and modification are not\ncovered by this License; they are outside its scope.  The act of\nrunning a program using the Library is not restricted, and output from\nsuch a program is covered only if its contents constitute a work based\non the Library (independent of the use of the Library in a tool for\nwriting it).  Whether that is true depends on what the Library does\nand what the program that uses the Library does.\n  \n  1. You may copy and distribute verbatim copies of the Library's\ncomplete source code as you receive it, in any medium, provided that\nyou conspicuously and appropriately publish on each copy an\nappropriate copyright notice and disclaimer of warranty; keep intact\nall the notices that refer to this License and to the absence of any\nwarranty; and distribute a copy of this License along with the\nLibrary.\n\n  You may charge a fee for the physical act of transferring a copy,\nand you may at your option offer warranty protection in exchange for a\nfee.\n\n  2. You may modify your copy or copies of the Library or any portion\nof it, thus forming a work based on the Library, and copy and\ndistribute such modifications or work under the terms of Section 1\nabove, provided that you also meet all of these conditions:\n\n    a) The modified work must itself be a software library.\n\n    b) You must cause the files modified to carry prominent notices\n    stating that you changed the files and the date of any change.\n\n    c) You must cause the whole of the work to be licensed at no\n    charge to all third parties under the terms of this License.\n\n    d) If a facility in the modified Library refers to a function or a\n    table of data to be supplied by an application program that uses\n    the facility, other than as an argument passed when the facility\n    is invoked, then you must make a good faith effort to ensure that,\n    in the event an application does not supply such function or\n    table, the facility still operates, and performs whatever part of\n    its purpose remains meaningful.\n\n    (For example, a function in a library to compute square roots has\n    a purpose that is entirely well-defined independent of the\n    application.  Therefore, Subsection 2d requires that any\n    application-supplied function or table used by this function must\n    be optional: if the application does not supply it, the square\n    root function must still compute square roots.)\n\nThese requirements apply to the modified work as a whole.  If\nidentifiable sections of that work are not derived from the Library,\nand can be reasonably considered independent and separate works in\nthemselves, then this License, and its terms, do not apply to those\nsections when you distribute them as separate works.  But when you\ndistribute the same sections as part of a whole which is a work based\non the Library, the distribution of the whole must be on the terms of\nthis License, whose permissions for other licensees extend to the\nentire whole, and thus to each and every part regardless of who wrote\nit.\n\nThus, it is not the intent of this section to claim rights or contest\nyour rights to work written entirely by you; rather, the intent is to\nexercise the right to control the distribution of derivative or\ncollective works based on the Library.\n\nIn addition, mere aggregation of another work not based on the Library\nwith the Library (or with a work based on the Library) on a volume of\na storage or distribution medium does not bring the other work under\nthe scope of this License.\n\n  3. You may opt to apply the terms of the ordinary GNU General Public\nLicense instead of this License to a given copy of the Library.  To do\nthis, you must alter all the notices that refer to this License, so\nthat they refer to the ordinary GNU General Public License, version 2,\ninstead of to this License.  (If a newer version than version 2 of the\nordinary GNU General Public License has appeared, then you can specify\nthat version instead if you wish.)  Do not make any other change in\nthese notices.\n\n  Once this change is made in a given copy, it is irreversible for\nthat copy, so the ordinary GNU General Public License applies to all\nsubsequent copies and derivative works made from that copy.\n\n  This option is useful when you wish to copy part of the code of\nthe Library into a program that is not a library.\n\n  4. You may copy and distribute the Library (or a portion or\nderivative of it, under Section 2) in object code or executable form\nunder the terms of Sections 1 and 2 above provided that you accompany\nit with the complete corresponding machine-readable source code, which\nmust be distributed under the terms of Sections 1 and 2 above on a\nmedium customarily used for software interchange.\n\n  If distribution of object code is made by offering access to copy\nfrom a designated place, then offering equivalent access to copy the\nsource code from the same place satisfies the requirement to\ndistribute the source code, even though third parties are not\ncompelled to copy the source along with the object code.\n\n  5. A program that contains no derivative of any portion of the\nLibrary, but is designed to work with the Library by being compiled or\nlinked with it, is called a \"work that uses the Library\".  Such a\nwork, in isolation, is not a derivative work of the Library, and\ntherefore falls outside the scope of this License.\n\n  However, linking a \"work that uses the Library\" with the Library\ncreates an executable that is a derivative of the Library (because it\ncontains portions of the Library), rather than a \"work that uses the\nlibrary\".  The executable is therefore covered by this License.\nSection 6 states terms for distribution of such executables.\n\n  When a \"work that uses the Library\" uses material from a header file\nthat is part of the Library, the object code for the work may be a\nderivative work of the Library even though the source code is not.\nWhether this is true is especially significant if the work can be\nlinked without the Library, or if the work is itself a library.  The\nthreshold for this to be true is not precisely defined by law.\n\n  If such an object file uses only numerical parameters, data\nstructure layouts and accessors, and small macros and small inline\nfunctions (ten lines or less in length), then the use of the object\nfile is unrestricted, regardless of whether it is legally a derivative\nwork.  (Executables containing this object code plus portions of the\nLibrary will still fall under Section 6.)\n\n  Otherwise, if the work is a derivative of the Library, you may\ndistribute the object code for the work under the terms of Section 6.\nAny executables containing that work also fall under Section 6,\nwhether or not they are linked directly with the Library itself.\n\n  6. As an exception to the Sections above, you may also combine or\nlink a \"work that uses the Library\" with the Library to produce a\nwork containing portions of the Library, and distribute that work\nunder terms of your choice, provided that the terms permit\nmodification of the work for the customer's own use and reverse\nengineering for debugging such modifications.\n\n  You must give prominent notice with each copy of the work that the\nLibrary is used in it and that the Library and its use are covered by\nthis License.  You must supply a copy of this License.  If the work\nduring execution displays copyright notices, you must include the\ncopyright notice for the Library among them, as well as a reference\ndirecting the user to the copy of this License.  Also, you must do one\nof these things:\n\n    a) Accompany the work with the complete corresponding\n    machine-readable source code for the Library including whatever\n    changes were used in the work (which must be distributed under\n    Sections 1 and 2 above); and, if the work is an executable linked\n    with the Library, with the complete machine-readable \"work that\n    uses the Library\", as object code and/or source code, so that the\n    user can modify the Library and then relink to produce a modified\n    executable containing the modified Library.  (It is understood\n    that the user who changes the contents of definitions files in the\n    Library will not necessarily be able to recompile the application\n    to use the modified definitions.)\n\n    b) Use a suitable shared library mechanism for linking with the\n    Library.  A suitable mechanism is one that (1) uses at run time a\n    copy of the library already present on the user's computer system,\n    rather than copying library functions into the executable, and (2)\n    will operate properly with a modified version of the library, if\n    the user installs one, as long as the modified version is\n    interface-compatible with the version that the work was made with.\n\n    c) Accompany the work with a written offer, valid for at\n    least three years, to give the same user the materials\n    specified in Subsection 6a, above, for a charge no more\n    than the cost of performing this distribution.\n\n    d) If distribution of the work is made by offering access to copy\n    from a designated place, offer equivalent access to copy the above\n    specified materials from the same place.\n\n    e) Verify that the user has already received a copy of these\n    materials or that you have already sent this user a copy.\n\n  For an executable, the required form of the \"work that uses the\nLibrary\" must include any data and utility programs needed for\nreproducing the executable from it.  However, as a special exception,\nthe materials to be distributed need not include anything that is\nnormally distributed (in either source or binary form) with the major\ncomponents (compiler, kernel, and so on) of the operating system on\nwhich the executable runs, unless that component itself accompanies\nthe executable.\n\n  It may happen that this requirement contradicts the license\nrestrictions of other proprietary libraries that do not normally\naccompany the operating system.  Such a contradiction means you cannot\nuse both them and the Library together in an executable that you\ndistribute.\n\n  7. You may place library facilities that are a work based on the\nLibrary side-by-side in a single library together with other library\nfacilities not covered by this License, and distribute such a combined\nlibrary, provided that the separate distribution of the work based on\nthe Library and of the other library facilities is otherwise\npermitted, and provided that you do these two things:\n\n    a) Accompany the combined library with a copy of the same work\n    based on the Library, uncombined with any other library\n    facilities.  This must be distributed under the terms of the\n    Sections above.\n\n    b) Give prominent notice with the combined library of the fact\n    that part of it is a work based on the Library, and explaining\n    where to find the accompanying uncombined form of the same work.\n\n  8. You may not copy, modify, sublicense, link with, or distribute\nthe Library except as expressly provided under this License.  Any\nattempt otherwise to copy, modify, sublicense, link with, or\ndistribute the Library is void, and will automatically terminate your\nrights under this License.  However, parties who have received copies,\nor rights, from you under this License will not have their licenses\nterminated so long as such parties remain in full compliance.\n\n  9. You are not required to accept this License, since you have not\nsigned it.  However, nothing else grants you permission to modify or\ndistribute the Library or its derivative works.  These actions are\nprohibited by law if you do not accept this License.  Therefore, by\nmodifying or distributing the Library (or any work based on the\nLibrary), you indicate your acceptance of this License to do so, and\nall its terms and conditions for copying, distributing or modifying\nthe Library or works based on it.\n\n  10. Each time you redistribute the Library (or any work based on the\nLibrary), the recipient automatically receives a license from the\noriginal licensor to copy, distribute, link with or modify the Library\nsubject to these terms and conditions.  You may not impose any further\nrestrictions on the recipients' exercise of the rights granted herein.\nYou are not responsible for enforcing compliance by third parties with\nthis License.\n\n  11. If, as a consequence of a court judgment or allegation of patent\ninfringement or for any other reason (not limited to patent issues),\nconditions are imposed on you (whether by court order, agreement or\notherwise) that contradict the conditions of this License, they do not\nexcuse you from the conditions of this License.  If you cannot\ndistribute so as to satisfy simultaneously your obligations under this\nLicense and any other pertinent obligations, then as a consequence you\nmay not distribute the Library at all.  For example, if a patent\nlicense would not permit royalty-free redistribution of the Library by\nall those who receive copies directly or indirectly through you, then\nthe only way you could satisfy both it and this License would be to\nrefrain entirely from distribution of the Library.\n\nIf any portion of this section is held invalid or unenforceable under any\nparticular circumstance, the balance of the section is intended to apply,\nand the section as a whole is intended to apply in other circumstances.\n\nIt is not the purpose of this section to induce you to infringe any\npatents or other property right claims or to contest validity of any\nsuch claims; this section has the sole purpose of protecting the\nintegrity of the free software distribution system which is\nimplemented by public license practices.  Many people have made\ngenerous contributions to the wide range of software distributed\nthrough that system in reliance on consistent application of that\nsystem; it is up to the author/donor to decide if he or she is willing\nto distribute software through any other system and a licensee cannot\nimpose that choice.\n\nThis section is intended to make thoroughly clear what is believed to\nbe a consequence of the rest of this License.\n\n  12. If the distribution and/or use of the Library is restricted in\ncertain countries either by patents or by copyrighted interfaces, the\noriginal copyright holder who places the Library under this License may add\nan explicit geographical distribution limitation excluding those countries,\nso that distribution is permitted only in or among countries not thus\nexcluded.  In such case, this License incorporates the limitation as if\nwritten in the body of this License.\n\n  13. The Free Software Foundation may publish revised and/or new\nversions of the Lesser General Public License from time to time.\nSuch new versions will be similar in spirit to the present version,\nbut may differ in detail to address new problems or concerns.\n\nEach version is given a distinguishing version number.  If the Library\nspecifies a version number of this License which applies to it and\n\"any later version\", you have the option of following the terms and\nconditions either of that version or of any later version published by\nthe Free Software Foundation.  If the Library does not specify a\nlicense version number, you may choose any version ever published by\nthe Free Software Foundation.\n\n  14. If you wish to incorporate parts of the Library into other free\nprograms whose distribution conditions are incompatible with these,\nwrite to the author to ask for permission.  For software which is\ncopyrighted by the Free Software Foundation, write to the Free\nSoftware Foundation; we sometimes make exceptions for this.  Our\ndecision will be guided by the two goals of preserving the free status\nof all derivatives of our free software and of promoting the sharing\nand reuse of software generally.\n\n                            NO WARRANTY\n\n  15. BECAUSE THE LIBRARY IS LICENSED FREE OF CHARGE, THERE IS NO\nWARRANTY FOR THE LIBRARY, TO THE EXTENT PERMITTED BY APPLICABLE LAW.\nEXCEPT WHEN OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR\nOTHER PARTIES PROVIDE THE LIBRARY \"AS IS\" WITHOUT WARRANTY OF ANY\nKIND, EITHER EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE\nIMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\nPURPOSE.  THE ENTIRE RISK AS TO THE QUALITY AND PERFORMANCE OF THE\nLIBRARY IS WITH YOU.  SHOULD THE LIBRARY PROVE DEFECTIVE, YOU ASSUME\nTHE COST OF ALL NECESSARY SERVICING, REPAIR OR CORRECTION.\n\n  16. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN\nWRITING WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY\nAND/OR REDISTRIBUTE THE LIBRARY AS PERMITTED ABOVE, BE LIABLE TO YOU\nFOR DAMAGES, INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR\nCONSEQUENTIAL DAMAGES ARISING OUT OF THE USE OR INABILITY TO USE THE\nLIBRARY (INCLUDING BUT NOT LIMITED TO LOSS OF DATA OR DATA BEING\nRENDERED INACCURATE OR LOSSES SUSTAINED BY YOU OR THIRD PARTIES OR A\nFAILURE OF THE LIBRARY TO OPERATE WITH ANY OTHER SOFTWARE), EVEN IF\nSUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH\nDAMAGES.\n\n                     END OF TERMS AND CONDITIONS\n\n"
        },
        {
          "name": "NHibernate.nunit",
          "type": "blob",
          "size": 0.826171875,
          "content": "ï»¿<NUnitProject>\n  <Settings activeconfig=\"Debug\" processModel=\"Multiple\" />\n  <Config name=\"Debug\" binpathtype=\"Auto\" runtimeFramework=\"net-4.0\">\n    <assembly path=\"src\\NHibernate.TestDatabaseSetup\\bin\\Debug\\net48\\NHibernate.TestDatabaseSetup.dll\" />\n    <assembly path=\"src\\NHibernate.Test\\bin\\Debug\\net48\\NHibernate.Test.dll\" />\n    <assembly path=\"src\\NHibernate.Test.VisualBasic\\bin\\Debug\\net48\\NHibernate.Test.VisualBasic.dll\" />\n  </Config>\n  <Config name=\"Release\" binpathtype=\"Auto\" runtimeFramework=\"net-4.0\">\n    <assembly path=\"src\\NHibernate.TestDatabaseSetup\\bin\\Release\\net48\\NHibernate.TestDatabaseSetup.dll\" />\n    <assembly path=\"src\\NHibernate.Test\\bin\\Release\\net48\\NHibernate.Test.dll\" />\n    <assembly path=\"src\\NHibernate.Test.VisualBasic\\bin\\Release\\net48\\NHibernate.Test.VisualBasic.dll\" />\n  </Config>\n</NUnitProject>\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 4.8232421875,
          "content": "Welcome to NHibernate\n=====================\n\nNHibernate is a mature, open source object-relational mapper for the .NET framework. It is actively developed,\nfully featured and used in thousands of successful projects.\n\nThe NHibernate community website - <https://nhibernate.info> - has a range of resources to help you get started,\nincluding [howtos][A1], [blogs][A2] and [reference documentation][A3].\n\n[A1]: https://nhibernate.info/doc/\n[A2]: https://nhibernate.info/blog/\n[A3]: https://nhibernate.info/doc/nh/en/index.html\n\nLatest Release Version\n--------------\n\nThe quickest way to get the latest release of NHibernate is to add it to your project using \nNuGet (<https://nuget.org/List/Packages/NHibernate>).\n\nAlternatively binaries are available from SourceForge at <http://sourceforge.net/projects/nhibernate>.\n\nYou are encouraged to review the release notes ([releasenotes.txt](releasenotes.txt)), particularly when upgrading to a \nlater version. The release notes will generally document any breaking changes.\n\nNightly Development Builds\n--------------------------\n\nThe quickest way to get the latest development build of NHibernate is to add it to your project using \nNuGet from Cloudsmith feed (<https://cloudsmith.io/~nhibernate/repos/nhibernate-core/packages/>).\n\nIn order to make life a little bit easier you can register the package source in the NuGet.Config\nfile in the top folder of your project, similar to the following.\n\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<configuration>\n  <packageSources>\n    <add key=\"NHibernateDevBuilds\" value=\"https://nuget.cloudsmith.io/nhibernate/nhibernate-core/v3/index.json\" />\n  </packageSources>\n</configuration>\n```\n\nPackage repository hosting is graciously provided by  [Cloudsmith](https://cloudsmith.com).\nCloudsmith is the only fully hosted, cloud-native, universal package management solution, that\nenables your organization to create, store and share packages in any format, to any place, with total\nconfidence.\n\n[![Hosted By: Cloudsmith](https://img.shields.io/badge/OSS%20hosting%20by-cloudsmith-blue?logo=cloudsmith&style=flat-square)](https://cloudsmith.com)\n\nCommunity Forums\n----------------\n\nThere are two official NHibernate community forums:\n\n* [NHibernate Users][B1] - a forum for users to find help using NHibernate\n* [NHibernate Development][B2] - a forum for the developers of NHibernate\n\n[B1]: http://groups.google.com/group/nhusers\n[B2]: http://groups.google.com/group/nhibernate-development\n\nBug Reports\n-----------\n\nIf you find any bugs, please report them using the [GitHub issue tracker][C1]. A\ntest-case that demonstrates the issue is usually required. Instructions on providing a test-case\ncan be found in [contributing guidelines][C3] or [here][C2].\n\n[C1]: https://github.com/nhibernate/nhibernate-core/issues\n[C2]: https://nhibernate.info/blog/2008/10/04/the-best-way-to-solve-nhibernate-bugs-submit-good-unit-test.html\n[C3]: CONTRIBUTING.md\n\nLicenses\n--------\n\n- This software is distributed under the terms of the Free Software Foundation [Lesser GNU Public License (LGPL), version 2.1][D1] (see [LICENSE.txt][D2]).\n- The documentation for this software is distributed under the terms of the Free Software Foundation [GNU Free Documentation License (GNU FDL), version 1.1][D3] (see [doc/LICENSE.txt][D4]).\n\n[D1]: http://www.gnu.org/licenses/lgpl-2.1-standalone.html\n[D2]: LICENSE.txt\n[D3]: http://www.gnu.org/licenses/old-licenses/fdl-1.1-standalone.html\n[D4]: doc/LICENSE.txt\n\nCredits\n-------\n\nMany thanks to the following individuals, organisations and projects whose work is so important to the success\nof NHibernate (in no particular order):\n\n* [NUnit][] - unit-testing\n* [Nant][] - build automation\n* [CodeBetter][] - [TeamCity][] continuous integration and build management server hosting\n* [GitHub][] and [SourceForge][] - source code hosting\n* [Atlassian][] - JIRA bug tracker licence and hosting\n* [Log4net][] - logging, by the [Apache Software Foundation][]\n* [JetBrains][] - [ReSharper][] licences for NHibernate developers \n* [LinFu][] - proxy implementation (Philip Laureano)\n* Iesi.Collections - source code taken from an [article][] written by Jason Smith\n* [Relinq][] - Linq provider for NHibernate\n* [AsyncGenerator][] - Roslyn based async C# code generator by @maca88\n\n\n[NUnit]: http://www.nunit.org\n[Nant]: http://nant.sourceforge.net\n[CodeBetter]: http://www.codebetter.com\n[TeamCity]: http://www.jetbrains.com/teamcity\n[GitHub]: http://www.github.com\n[SourceForge]: http://www.sourceforge.net\n[Atlassian]: http://www.atlassian.com\n[Log4net]: http://logging.apache.org/log4net\n[Apache Software Foundation]: http://www.apache.org\n[JetBrains]: http://www.jetbrains.com\n[ReSharper]: http://www.jetbrains.com/resharper\n[LinFu]: https://github.com/philiplaureano/LinFu\n[article]: http://www.codeproject.com/KB/recipes/sets.aspx\n[Relinq]: https://github.com/re-motion/Relinq\n[AsyncGenerator]: http://github.com/maca88/AsyncGenerator\n"
        },
        {
          "name": "ReleaseProcedure.txt",
          "type": "blob",
          "size": 2.833984375,
          "content": "These are the tasks typically needed to create an official NHibernate release.\n\n  * In GitHub, make sure no open issues have milestone set to the release\n    that is about to happen (as these will show in the milestone).\n\n  * From inside nhibernate-core folder, restore local dotnet tools: `dotnet tool restore`\n\n  * Create a draft release in Github with GitReleaseManager. For example:\n\ndotnet gitreleasemanager create -o nhibernate -r nhibernate-core -m 5.3 --token yourGitHubTokenWithRepoScope\n\n    (Adjust the -m milestone parameter above, and add \"-c branchname\" if\n    releasing another branch than master)\n\n  * Update releasenotes.txt with the list of issues generated in the GitHub\n    draft release. Add to the list the release task.\n    See if any additions to the list of \"known breaking changes\" are necessary.\n\n  * Update the GitHub draft release for matching other release formalism: ensure\n    its tag matches the released version (three parts: major.minor.release), update\n    its title, change its description for listing only highlights and breaking\n    changes, include links to the milestone and the releasenotes of the release\n    tag, include links to binaries on SourceForge and NuGet.\n    If the release tag does not match the released version with major.minor.release\n    formalism, the NuGet package will have an invalid link to release notes.\n\n  * Check/update version number in NHibernate.props under build-common folder.\n    Clear VersionSuffix if present.\n\n  * Don't forget to commit the above.\n\n  * Check the CI release build.\n    If no error or other issue requiring further changes occurred, merge\n    the release PR and wait for the resulting commit CI release build.\n\n  * Retrieve the artifacts of the CI release build.\n\n  * Upload binary and source zip files to SourceForge. Update the \"latest\n    release\".\n\n  * Update download link on nhibernate.info. Update the reference documentation\n    if needed.\n\n  * Push nuget packages including the symbol packages.\n\n  * In GitHub, mark the milestone as released and publish the release draft,\n    creating the release tag by the way. (It should match the tag in the\n    releasenotes link of the release description.)\n\n  * Post release announcement to nhusers, nhibernate-development and as\n    project news on SourceForge.\n\n  * If this was a stable branch, merge it forward to master. Perhaps some\n    changes need to be edited out in the merge, but this will reduce the\n    risk of some issue being left unfixed on master.\n \n  * If this was the master branch, create the stable branch for the new release, named\n    according to its version with \"x\" instead of its patch number. By example, \"5.3.x\".\n    \n  * If next version is decided set it in NHibernate.props under build-common folder\n    (in most cases - increment minor version) and set VersionSuffix to \"dev\".\n    Commit it directly (without going through a PR).\n"
        },
        {
          "name": "SECURITY.md",
          "type": "blob",
          "size": 0.546875,
          "content": "# Security Policy\n\n## Supported Versions\n\n| Version | Supported          |\n| ------- | ------------------ |\n| 5.5.x   | :white_check_mark: |\n| 5.4.x   | :white_check_mark: |\n| < 5.4   | :x:                |\n\n## Reporting a Vulnerability\n\n**Please do NOT report security vulnerabilities through public GitHub issues.**\n\nInstead, please submit vulnerabilities using this [form](https://github.com/nhibernate/nhibernate-core/security/advisories/new). \nIf the issue is confirmed, we will try to release a patch version as soon as possible depending on complexity.\n"
        },
        {
          "name": "ShowBuildMenu.bat",
          "type": "blob",
          "size": 11.0029296875,
          "content": "@echo off\npushd %~dp0\n\nfor /f \"tokens=* USEBACKQ delims= \" %%i in (`findstr /c:\"NUnit.Console\" \"Tools\\packages.csproj\"`) do set NUNIT_VERSION=%%i\nset NUNIT_VERSION=%NUNIT_VERSION:~51%\nset NUNIT_VERSION=%NUNIT_VERSION:\" />=%\n\nset NANT=\"%~dp0Tools\\nant\\bin\\NAnt.exe\" -t:net-4.0\nset BUILD_TOOL_PATH=%~dp0Tools\\BuildTool\\bin\\BuildTool.dll\nset BUILDTOOL=dotnet %BUILD_TOOL_PATH%\nset AVAILABLE_CONFIGURATIONS=%~dp0available-test-configurations\nset CURRENT_CONFIGURATION=%~dp0current-test-configuration\nset NUNIT=\"%~dp0Tools\\NUnit.ConsoleRunner\\%NUNIT_VERSION%\\tools\\nunit3-console.exe\"\n\nif not exist %BUILD_TOOL_PATH% (\n    pushd %~dp0Tools\\BuildTool\n    dotnet build BuildTool.sln -c Release -o bin\n    popd\n)\n\n:main-menu\necho ========================= NHIBERNATE BUILD MENU ==========================\necho --- TESTING ---\necho A. (Step 1) Set up a new test configuration for a particular database.\necho B. (Step 2) Activate a test configuration.\necho C. (Step 3) Run tests using active configuration with 32bits runner (Needs built in Visual Studio).\necho D.       Or run tests using active configuration with 64bits runner (Needs built in Visual Studio).\necho.\necho --- BUILD ---\necho E. Build NHibernate (Debug)\necho F. Build NHibernate (Release)\necho G. Build Release Package (Also runs tests and creates documentation)\necho.\necho --- Code generation ---\necho H. Generate async code (Generates files in Async sub-folders)\necho.\necho --- TeamCity (CI) build options\necho I. TeamCity build menu\necho.\necho --- Exit ---\necho X. Make the beautiful build menu go away.\necho.\n\n%BUILDTOOL% prompt ABCDEFGHIX\nif errorlevel 9 goto end\nif errorlevel 8 goto teamcity-menu\nif errorlevel 7 goto build-async\nif errorlevel 6 goto build-release-package\nif errorlevel 5 goto build-release\nif errorlevel 4 goto build-debug\nif errorlevel 3 goto test-run-64\nif errorlevel 2 goto test-run-32\nif errorlevel 1 goto test-activate\nif errorlevel 0 goto test-setup-menu\n\n:test-setup-menu\necho A. Add a test configuration for SQL Server.\necho B. Add a test configuration for Firebird.\necho C. Add a test configuration for SQLite.\necho D. Add a test configuration for PostgreSQL.\necho E. Add a test configuration for Oracle.\necho F. Add a test configuration for Oracle with managed driver.\necho G. Add a test configuration for SQL Server Compact.\necho H. Add a test configuration for MySql.\necho I. Add a test configuration for SAP HANA.\necho J. Add a test configuration for SAP SQL Anywhere.\necho.\necho X.  Exit to main menu.\necho.\n\n%BUILDTOOL% prompt ABCDEFGHIJX\nif errorlevel 10 goto main-menu\nif errorlevel 9 goto test-setup-anywhere\nif errorlevel 8 goto test-setup-hana\nif errorlevel 7 goto test-setup-mysql\nif errorlevel 6 goto test-setup-sqlserverce\nif errorlevel 5 goto test-setup-oracle-managed\nif errorlevel 4 goto test-setup-oracle\nif errorlevel 3 goto test-setup-postgresql\nif errorlevel 2 goto test-setup-sqlite\nif errorlevel 1 goto test-setup-firebird\nif errorlevel 0 goto test-setup-sqlserver\n\n:test-setup-sqlserver\nset CONFIG_NAME=MSSQL\nset TEST_PLATFORM=AnyCPU\nset LIB_FILES=\nset LIB_FILES2=\ngoto test-setup-generic\n\n:test-setup-sqlserverce\nset CONFIG_NAME=SqlServerCe\nset TEST_PLATFORM=AnyCPU\nset LIB_FILES=\nset LIB_FILES2=\ngoto test-setup-generic\n\n:test-setup-firebird\nset CONFIG_NAME=FireBird\nset TEST_PLATFORM=AnyCPU\nset LIB_FILES=\nset LIB_FILES2=\ngoto test-setup-generic\n\n:test-setup-sqlite\nset CONFIG_NAME=SQLite\nset TEST_PLATFORM=AnyCPU\nset LIB_FILES=\nset LIB_FILES2=\ngoto test-setup-generic\n\n:test-setup-postgresql\nset CONFIG_NAME=PostgreSQL\nset TEST_PLATFORM=AnyCPU\nset LIB_FILES=\nset LIB_FILES2=\ngoto test-setup-generic\n\n:test-setup-mysql\nset CONFIG_NAME=MySql\nset TEST_PLATFORM=AnyCPU\nset LIB_FILES=\nset LIB_FILES2=\ngoto test-setup-generic\n\n:test-setup-oracle\nset CONFIG_NAME=Oracle\nset TEST_PLATFORM=x86\nset LIB_FILES=lib\\teamcity\\oracle\\x86\\*.dll\nset LIB_FILES2=\ngoto test-setup-generic\n\n:test-setup-oracle-managed\nset CONFIG_NAME=Oracle-Managed\nset TEST_PLATFORM=AnyCPU\nset LIB_FILES=\nset LIB_FILES2=\ngoto test-setup-generic\n\n:test-setup-hana\nset CONFIG_NAME=HANA\nset TEST_PLATFORM=AnyCPU\nset LIB_FILES=\nset LIB_FILES2=\ngoto test-setup-generic\n\n:test-setup-anywhere\nset CONFIG_NAME=SapSQLAnywhere\nset TEST_PLATFORM=AnyCPU\nset LIB_FILES=\nset LIB_FILES2=\ngoto test-setup-generic\n\n:test-setup-generic\nset CFGNAME=\nset /p CFGNAME=Enter a name for your test configuration or press enter to use default name: \nif /I \"%CFGNAME%\"==\"\" set CFGNAME=%CONFIG_NAME%-%TEST_PLATFORM%\nmkdir \"%AVAILABLE_CONFIGURATIONS%\\%CFGNAME%\"\nif /I \"%LIB_FILES%\"==\"\" goto test-setup-generic-skip-copy\ncopy %LIB_FILES% \"%AVAILABLE_CONFIGURATIONS%\\%CFGNAME%\"\nif /I \"%LIB_FILES2%\"==\"\" goto test-setup-generic-skip-copy\ncopy %LIB_FILES2% \"%AVAILABLE_CONFIGURATIONS%\\%CFGNAME%\"\n:test-setup-generic-skip-copy\ncopy src\\NHibernate.Config.Templates\\%CONFIG_NAME%.cfg.xml \"%AVAILABLE_CONFIGURATIONS%\\%CFGNAME%\\hibernate.cfg.xml\"\necho Done setting up files.  Starting notepad to edit connection string in file:\necho %AVAILABLE_CONFIGURATIONS%\\%CFGNAME%\\hibernate.cfg.xml\nstart notepad \"%AVAILABLE_CONFIGURATIONS%\\%CFGNAME%\\hibernate.cfg.xml\"\necho When you're done, don't forget to activate the configuration through the menu.\ngoto main-menu\n\n\n:test-activate\n%BUILDTOOL% pick-folder \"%AVAILABLE_CONFIGURATIONS%\" folder.tmp \"Which test configuration should be activated?\"\nset /p FOLDER=<folder.tmp\ndel folder.tmp\nmkdir \"%CURRENT_CONFIGURATION%\" 2> nul\ndel /q \"%CURRENT_CONFIGURATION%\\*\"\ncopy \"%FOLDER%\\*\" \"%CURRENT_CONFIGURATION%\"\necho Configuration activated.\ngoto main-menu\n\n:test-run-32\nSET NUNITPLATFORM=--x86\ngoto test-run\n\n:test-run-64\nSET NUNITPLATFORM=\ngoto test-run\n\n:test-run\n%NANT% common.tools-restore\nstart \"nunit3-console\" cmd /K %NUNIT% %NUNITPLATFORM% --agents=1 NHibernate.nunit\ngoto main-menu\n\nrem :build-test\nrem %NANT% test\nrem goto main-menu\n\n:build-async\n%NANT% generate-async\ngoto main-menu\n\n:build-debug\n%NANT% clean build\necho.\necho Assuming the build succeeded, your results will be in the build folder.\necho.\ngoto main-menu\n\n:build-release\n%NANT% -D:project.config=release clean release\necho.\necho Assuming the build succeeded, your results will be in the build folder.\necho.\ngoto main-menu\n\n:build-release-package\n%NANT% -D:project.config=release clean package nugetpushbat\necho.\necho Assuming the build succeeded, your results will be in the build folder,\necho including NuGet packages and tools to push them.\necho.\ngoto main-menu\n\n:teamcity-menu\necho.\necho --- TeamCity (CI) build options\necho A. NHibernate Trunk (default SQL Server)\necho B. NHibernate Trunk - Firebird (32-bit)\necho C. NHibernate Trunk - Firebird (64-bit)\necho D. NHibernate Trunk - SQLite (32-bit)\necho E. NHibernate Trunk - SQLite (64-bit)\necho F. NHibernate Trunk - PostgreSQL\necho G. NHibernate Trunk - Oracle (32-bit)\necho H. NHibernate Trunk - Oracle Managed (32-bit)\necho I. NHibernate Trunk - Oracle Managed (64-bit)\necho J. NHibernate Trunk - SQL Server Compact (32-bit)\necho K. NHibernate Trunk - SQL Server Compact (64-bit)\necho L. NHibernate Trunk - SQL Server ODBC (32-bit)\necho M. NHibernate Trunk - SAP SQL Anywhere\necho.\necho X.  Exit to main menu.\necho.\n\n%BUILDTOOL% prompt ABCDEFGHIJKLMX\nif errorlevel 13 goto main-menu\nif errorlevel 12 goto teamcity-anywhere\nif errorlevel 11 goto teamcity-sqlServerOdbc\nif errorlevel 10 goto teamcity-sqlServerCe64\nif errorlevel 9 goto teamcity-sqlServerCe32\nif errorlevel 8 goto teamcity-oraclemanaged-64\nif errorlevel 7 goto teamcity-oraclemanaged-32\nif errorlevel 6 goto teamcity-oracle32\nif errorlevel 5 goto teamcity-postgresql\nif errorlevel 4 goto teamcity-sqlite64\nif errorlevel 3 goto teamcity-sqlite32\nif errorlevel 2 goto teamcity-firebird64\nif errorlevel 1 goto teamcity-firebird32\nif errorlevel 0 goto teamcity-trunk\n\n:teamcity-trunk\nmove \"%CURRENT_CONFIGURATION%\" \"%CURRENT_CONFIGURATION%-backup\" 2> nul\n%NANT% /f:teamcity.build -D:skip.manual=true -D:CCNetLabel=-1\nmove \"%CURRENT_CONFIGURATION%-backup\" \"%CURRENT_CONFIGURATION%\" 2> nul\ngoto main-menu\n\n:teamcity-firebird32\nmove \"%CURRENT_CONFIGURATION%\" \"%CURRENT_CONFIGURATION%-backup\" 2> nul\n%NANT% /f:teamcity.build -D:skip.manual=true -D:CCNetLabel=-1 -D:config.teamcity=firebird32\nmove \"%CURRENT_CONFIGURATION%-backup\" \"%CURRENT_CONFIGURATION%\" 2> nul\ngoto main-menu\n\n:teamcity-firebird64\nmove \"%CURRENT_CONFIGURATION%\" \"%CURRENT_CONFIGURATION%-backup\" 2> nul\n%NANT% /f:teamcity.build -D:skip.manual=true -D:CCNetLabel=-1 -D:config.teamcity=firebird64\nmove \"%CURRENT_CONFIGURATION%-backup\" \"%CURRENT_CONFIGURATION%\" 2> nul\ngoto main-menu\n\n:teamcity-sqlite32\nmove \"%CURRENT_CONFIGURATION%\" \"%CURRENT_CONFIGURATION%-backup\" 2> nul\n%NANT% /f:teamcity.build -D:skip.manual=true -D:CCNetLabel=-1 -D:config.teamcity=sqlite32\nmove \"%CURRENT_CONFIGURATION%-backup\" \"%CURRENT_CONFIGURATION%\" 2> nul\ngoto main-menu\n\n:teamcity-sqlite64\nmove \"%CURRENT_CONFIGURATION%\" \"%CURRENT_CONFIGURATION%-backup\" 2> nul\n%NANT% /f:teamcity.build -D:skip.manual=true -D:CCNetLabel=-1 -D:config.teamcity=sqlite64\nmove \"%CURRENT_CONFIGURATION%-backup\" \"%CURRENT_CONFIGURATION%\" 2> nul\ngoto main-menu\n\n:teamcity-postgresql\nmove \"%CURRENT_CONFIGURATION%\" \"%CURRENT_CONFIGURATION%-backup\" 2> nul\n%NANT% /f:teamcity.build -D:skip.manual=true -D:CCNetLabel=-1 -D:config.teamcity=postgresql\nmove \"%CURRENT_CONFIGURATION%-backup\" \"%CURRENT_CONFIGURATION%\" 2> nul\ngoto main-menu\n\n:teamcity-oracle32\nmove \"%CURRENT_CONFIGURATION%\" \"%CURRENT_CONFIGURATION%-backup\" 2> nul\n%NANT% /f:teamcity.build -D:skip.manual=true -D:CCNetLabel=-1 -D:config.teamcity=oracle32\nmove \"%CURRENT_CONFIGURATION%-backup\" \"%CURRENT_CONFIGURATION%\" 2> nul\ngoto main-menu\n\n:teamcity-oraclemanaged-32\nmove \"%CURRENT_CONFIGURATION%\" \"%CURRENT_CONFIGURATION%-backup\" 2> nul\n%NANT% /f:teamcity.build -D:skip.manual=true -D:CCNetLabel=-1 -D:config.teamcity=oracle-managed32\nmove \"%CURRENT_CONFIGURATION%-backup\" \"%CURRENT_CONFIGURATION%\" 2> nul\ngoto main-menu\n\n:teamcity-oraclemanaged-64\nmove \"%CURRENT_CONFIGURATION%\" \"%CURRENT_CONFIGURATION%-backup\" 2> nul\n%NANT% /f:teamcity.build -D:skip.manual=true -D:CCNetLabel=-1 -D:config.teamcity=oracle-managed64\nmove \"%CURRENT_CONFIGURATION%-backup\" \"%CURRENT_CONFIGURATION%\" 2> nul\ngoto main-menu\n\n:teamcity-sqlServerOdbc\nmove \"%CURRENT_CONFIGURATION%\" \"%CURRENT_CONFIGURATION%-backup\" 2> nul\n%NANT% /f:teamcity.build -D:skip.manual=true -D:CCNetLabel=-1 -D:config.teamcity=sqlServerOdbc\nmove \"%CURRENT_CONFIGURATION%-backup\" \"%CURRENT_CONFIGURATION%\" 2> nul\ngoto main-menu\n\n:teamcity-sqlServerCe32\nmove \"%CURRENT_CONFIGURATION%\" \"%CURRENT_CONFIGURATION%-backup\" 2> nul\n%NANT% /f:teamcity.build -D:skip.manual=true -D:CCNetLabel=-1 -D:config.teamcity=sqlServerCe32\nmove \"%CURRENT_CONFIGURATION%-backup\" \"%CURRENT_CONFIGURATION%\" 2> nul\ngoto main-menu\n\n:teamcity-sqlServerCe64\nmove \"%CURRENT_CONFIGURATION%\" \"%CURRENT_CONFIGURATION%-backup\" 2> nul\n%NANT% /f:teamcity.build -D:skip.manual=true -D:CCNetLabel=-1 -D:config.teamcity=sqlServerCe64\nmove \"%CURRENT_CONFIGURATION%-backup\" \"%CURRENT_CONFIGURATION%\" 2> nul\ngoto main-menu\n\n:teamcity-anywhere\nmove \"%CURRENT_CONFIGURATION%\" \"%CURRENT_CONFIGURATION%-backup\" 2> nul\n%NANT% /f:teamcity.build -D:skip.manual=true -D:CCNetLabel=-1 -D:config.teamcity=sqlanywhere\nmove \"%CURRENT_CONFIGURATION%-backup\" \"%CURRENT_CONFIGURATION%\" 2> nul\ngoto main-menu\n\n:end\npopd\n"
        },
        {
          "name": "ShowBuildMenu.sh",
          "type": "blob",
          "size": 4.5556640625,
          "content": "#!/bin/sh\n\ncd \"$(dirname \"$0\")\"\nSCRIPT_PATH=\"$(pwd)\"\nBUILD_TOOL_PATH=\"./Tools/BuildTool/bin/BuildTool.dll\"\nBUILD_TOOL=\"dotnet $BUILD_TOOL_PATH\"\nAVAILABLE_CONFIGURATIONS=\"available-test-configurations\"\nCONFIG_NAME=\"\"\nTEST_PLATFORM=\"\"\nLIB_FILES=\"\"\nLIB_FILES2=\"\"\nCURRENT_CONFIGURATION=\"./current-test-configuration\"\nOPTION=0\nasync_generator_path=\"\"\nasync_generator_version=\"\"\n\nif [ ! -f $BUILD_TOOL_PATH ]\nthen\n\tcd ./Tools/BuildTool\n\tdotnet build BuildTool.sln -c Release -o bin \nfi\ncd \"$SCRIPT_PATH\"\n\nbuildDebug(){\n\tdotnet build ./src/NHibernate.sln\n\techo \".\"\n\techo \"Assuming the build succeeded, your results will be in the build folder.\"\n\techo \".\"\n\tmainMenu\n}\n\nbuildRelease(){\n\tdotnet build ./src/NHibernate.sln -c Release\n\techo \".\"\n\techo \"Assuming the build succeeded, your results will be in the build folder.\"\n\techo \".\"\n\tmainMenu\n}\n\ntestActivate(){\n\tFILE_TEMP=\"folder.tmp\"\n\n\t$BUILD_TOOL pick-folder $AVAILABLE_CONFIGURATIONS $FILE_TEMP \"Which test configuration should be activated?\"\n\n\tif [ -d $CURRENT_CONFIGURATION ]\n\tthen\n\t\trm -r $CURRENT_CONFIGURATION/\n\tfi\n\n\tCURRENT_FOLDER=$(pwd)\n\tINFORMATION=$(cat $CURRENT_FOLDER/$FILE_TEMP)\n\tcp -r $INFORMATION/ $CURRENT_CONFIGURATION\n\n\trm $FILE_TEMP\n\n\techo \"Configuration activated.\"\n\n\tmainMenu\n}\n\ntestSetupGeneric() {\n\techo \"Enter a name for your test configuration or press enter to use default name:\"\n\tread CFGNAME\n\tif [ $CFGNAME = \"\"]\n\tthen\n\t\tCFGNAME=\"$CONFIG_NAME-$TEST_PLATFORM\"\n\t\techo $CFGNAME\n\tfi\n\n\tmkdir -p $AVAILABLE_CONFIGURATIONS/$CFGNAME\n\n\tif [ ! \"$LIB_FILES\" ]\n\tthen\n\t\tcp $LIB_FILES $AVAILABLE_CONFIGURATIONS/$CFGNAME\n\n\t\tif [ ! \"$LIB_FILES2\" ]\n\t\tthen\n\t\t\tcp $LIB_FILES2 $AVAILABLE_CONFIGURATIONS/$CFGNAME\n\t\tfi\n\tfi\n\n\tcp \"src/NHibernate.Config.Templates/$CONFIG_NAME.cfg.xml\" \"$AVAILABLE_CONFIGURATIONS/$CFGNAME/hibernate.cfg.xml\"\n\techo \"Done setting up files. Please edit the connection string in file:\"\n\techo \"$AVAILABLE_CONFIGURATIONS/$CFGNAME/hibernate.cfg.xml\"\n\techo \"When you're done, don't forget to activate the configuration through the menu.\"\n\tmainMenu\n}\n\ntestSetupSqlServer() {\n\tCONFIG_NAME=\"MSSQL\"\n\tTEST_PLATFORM=\"AnyCPU\"\n\tLIB_FILES=\"\"\n\tLIB_FILES2=\"\"\n\ttestSetupGeneric\n}\n\ntestSetupFirebird() {\n\tCONFIG_NAME=\"FireBird\"\n\tTEST_PLATFORM=\"AnyCPU\"\n\tLIB_FILES=\"\"\n\tLIB_FILES2=\"\"\n\ttestSetupGeneric\n}\n\ntestSetupSqlite() {\n\tCONFIG_NAME=\"SQLite\"\n\tTEST_PLATFORM=\"AnyCPU\"\n\tLIB_FILES=\"\"\n\tLIB_FILES2=\"\"e\n\ttestSetupGeneric\n}\n\ntestSetupPostgresql() {\n\tCONFIG_NAME=\"PostgreSQL\"\n\tTEST_PLATFORM=\"AnyCPU\"\n\tLIB_FILES=\"\"\n\tLIB_FILES2=\"\"\n\ttestSetupGeneric\n}\n\ntestSetupMysql() {\n\tCONFIG_NAME=\"MySql\"\n\tTEST_PLATFORM=\"AnyCPU\"\n\tLIB_FILES=\"\"\n\tLIB_FILES2=\"\"\n\ttestSetupGeneric\n}\n\ntestSetupMenu() {\n\techo \"A. Add a test configuration for SQL Server.\"\n\techo \"B. Add a test configuration for Firebird.\"\n\techo \"C. Add a test configuration for SQLite.\"\n\techo \"D. Add a test configuration for PostgreSQL.\"\n\techo \"E. Add a test configuration for MySql.\"\n\techo \".\"\n\techo \"X.  Exit to main menu.\"\n\techo \".\"\n\n\t$BUILD_TOOL prompt ABCDEX\n\n\tOPTION=$?\n\tif\t[ $OPTION -eq 5 ]\n\tthen\n\t\techo \"Main menu\"\n\t\tmainMenu\n\telif [ $OPTION -eq 4 ]\n\tthen\n\t\techo \"MySQL\"\n\t\ttestSetupMysql\n\t\tmainMenu\n\telif [ $OPTION -eq 3 ]\n\tthen\n\t\techo \"PostgreSQL\"\n\t\ttestSetupPostgresql\n\t\tmainMenu\n\telif [ $OPTION -eq 2 ]\n\tthen\n\t\techo \"Sqlite\"\n\t\ttestSetupSqlite\n\t\tmainMenu\n\telif [ $OPTION -eq 1 ]\n\tthen\n\t\techo \"Firebird\"\n\t\ttestSetupFirebird\n\t\tmainMenu\n\telif [ $OPTION -eq 0 ]\n\tthen\n\t\techo \"SQL Server\"\n\t\ttestSetupSqlServer\n\t\tmainMenu\n\tfi\n}\n\ntestRun(){\n\tdotnet test ./src/NHibernate.Test/NHibernate.Test.csproj -f net8.0\n\tdotnet test ./src/NHibernate.Test.VisualBasic/NHibernate.Test.VisualBasic.vbproj -f net8.0\n\tmainMenu\n}\n\ngenerateAsync(){\n\tcd src\n\tdotnet tool restore\n\tdotnet restore ./NHibernate.sln\n\tdotnet async-generator\n\tcd ..\n\n\tmainMenu\n}\n\nmainMenu() {\n\techo  \"========================= NHIBERNATE BUILD MENU ==========================\"\n\techo  \"--- TESTING ---\"\n\techo  \"A. (Step 1) Set up a new test configuration for a particular database.\"\n\techo  \"B. (Step 2) Activate a test configuration.\"\n\techo  \"C. (Step 3) Run tests.\"\n\techo  \".\"\n\techo  \"--- BUILD ---\"\n\techo  \"E. Build NHibernate (Debug)\"\n\techo  \"F. Build NHibernate (Release)\"\n\techo  \".\"\n\techo  \"--- Code generation ---\"\n\techo  \"H. Generate async code (Generates files in Async sub-folders)\"\n\techo  \".\"\n\techo  \"--- Exit ---\"\n\techo  \"X. Make the beautiful build menu go away.\"\n\techo  \".\"\n\n\t$BUILD_TOOL prompt ABCEFHX\n\n\tOPTION=$?\n\n\tif [ $OPTION -eq 5 ]\n\tthen\n\t\tgenerateAsync\n\telif [ $OPTION -eq 4 ]\n\tthen\n\t\tbuildRelease\n\telif [ $OPTION -eq 3 ]\n\tthen\n\t\tbuildDebug\n\telif [ $OPTION -eq 2 ]\n\tthen\n\t\ttestRun\n\telif [ $OPTION -eq 1 ]\n\tthen\n\t\ttestActivate\n\telif [ $OPTION -eq 0 ]\n\tthen\n\t\ttestSetupMenu\n\tfi\n}\n\nmainMenu\n"
        },
        {
          "name": "Tools",
          "type": "tree",
          "content": null
        },
        {
          "name": "appveyor.yml",
          "type": "blob",
          "size": 3.8330078125,
          "content": "version: '{build}'\nimage: Visual Studio 2022\nenvironment:\n  matrix:\n  - DB: SqlServer2008\n    CONNECTION_STRING: Server=(local)\\SQL2017;User ID=sa;Password=Password12!;initial catalog=nhibernate;\n  - DB: SqlServer2008-MicrosoftDataSqlClientDriver\n    CONNECTION_STRING: Server=(local)\\SQL2017;User ID=sa;Password=Password12!;initial catalog=nhibernate;\n  - DB: Firebird\n  - DB: Firebird4\n  - DB: MySQL\n    CONNECTION_STRING: Server=127.0.0.1;Uid=root;Pwd=Password12!;Database=nhibernate;Old Guids=True;SslMode=none;CharSet=utf8;\ninit:\n    # Required for having windows endlines in sources zip\n    - git config --global core.autocrlf true\nbuild: off\nbefore_test:\n- ps: |-\n    switch ($env:DB) {\n      'Firebird' {\n        $FireBirdPath = 'C:\\firebird'\n        # Install Firebird\n        New-Item -ItemType Directory -Force $FireBirdPath > $null\n        Push-Location $FireBirdPath\n        Invoke-WebRequest 'https://github.com/FirebirdSQL/firebird/releases/download/R3_0_5/Firebird-3.0.5.33220-0_x64.zip' -OutFile firebird.zip\n        Unblock-File firebird.zip\n        7z x firebird.zip\n        New-Item -ItemType Directory -Force Data\n        # Declare nhibernate db\n        Add-Content -Path '.\\databases.conf' -Value \"`r`nnhibernate = $FireBirdPath\\Data\\nhibernate.fdb\"\n        # Minimal db settings\n        Add-Content -Path '.\\firebird.conf' -Value \"`r`nAuthServer = Srp`r`nAuthClient = Srp`r`nUserManager = Srp`r`nWireCrypt = Enabled\"\n        # Create SYSDBA account\n        New-Item SYSDBA.sql -Type File\n        Add-Content -Path '.\\SYSDBA.sql' -Value \"CREATE USER SYSDBA PASSWORD 'masterkey';`r`nCOMMIT;`r`nQUIT;\"\n        .\\isql -user sysdba employee -input SYSDBA.sql\n        # Start Firebird\n        .\\firebird.exe -a\n        Pop-Location\n      }\n      'Firebird4' {\n        $FireBirdPath = 'C:\\firebird'\n        # Install Firebird\n        New-Item -ItemType Directory -Force $FireBirdPath > $null\n        Push-Location $FireBirdPath\n        Invoke-WebRequest 'https://github.com/FirebirdSQL/firebird/releases/download/v4.0.2/Firebird-4.0.2.2816-0-x64.zip' -OutFile firebird.zip\n        Unblock-File firebird.zip\n        7z x firebird.zip\n        New-Item -ItemType Directory -Force Data\n        # Declare nhibernate db\n        Add-Content -Path '.\\databases.conf' -Value \"`r`nnhibernate = $FireBirdPath\\Data\\nhibernate.fdb\"\n        # Minimal db settings\n        Add-Content -Path '.\\firebird.conf' -Value \"`r`nAuthServer = Srp`r`nAuthClient = Srp`r`nUserManager = Srp`r`nWireCrypt = Enabled\"\n        # Create SYSDBA account\n        New-Item SYSDBA.sql -Type File\n        Add-Content -Path '.\\SYSDBA.sql' -Value \"CREATE USER SYSDBA PASSWORD 'masterkey';`r`nCOMMIT;`r`nQUIT;\"\n        .\\isql -user sysdba employee -input SYSDBA.sql\n        # Start Firebird\n        .\\firebird.exe -a\n        Pop-Location\n      }\n      'MySQL' {\n        Start-Service 'MySQL80'\n        # Create nhibernate database (not handled by NHibernate.TestDatabaseSetup.dll)\n        $env:MYSQL_PWD = 'Password12!'\n        & 'C:\\Program Files\\MySQL\\MySQL Server 8.0\\bin\\mysql' -e 'CREATE DATABASE nhibernate CHARACTER SET utf8 COLLATE utf8_general_ci;' --user=root\n      }\n      'Odbc' { Start-Service 'MSSQL$SQL2017' }\n      'SqlServer2008' { Start-Service 'MSSQL$SQL2017' }\n      'SqlServer2008-MicrosoftDataSqlClientDriver' { Start-Service 'MSSQL$SQL2017' }\n      'SqlServer2012' { Start-Service 'MSSQL$SQL2017' }\n      'SqlServer2012-MicrosoftDataSqlClientDriver' { Start-Service 'MSSQL$SQL2017' }\n      'SQLite' { }\n    }\ntest_script:\n- cmd: powershell -noprofile -command \"& ./build.ps1 -TaskList Set-Configuration,Test -properties @{\\\"Database\\\" = \\\"%DB%\\\";\\\"ConnectionString\\\"=\\\"%CONNECTION_STRING%\\\"}\"\ndeploy: off\non_finish:\n- ps: |-\n    $wc = New-Object 'System.Net.WebClient'\n    Get-Item '*-TestResult.xml' | ForEach-Object { \n        $wc.UploadFile(\"https://ci.appveyor.com/api/testresults/nunit3/$($env:APPVEYOR_JOB_ID)\", $_)\n    }\n"
        },
        {
          "name": "build-common",
          "type": "tree",
          "content": null
        },
        {
          "name": "build.ps1",
          "type": "blob",
          "size": 0.263671875,
          "content": "param (\n    $TaskList = 'Default',\n    [hashtable]$Properties = @{}\n)\n\nInstall-Module psake -Force -Scope CurrentUser\nImport-Module psake\nInvoke-psake -buildFile .\\psake.ps1 -nologo -taskList $TaskList -properties $Properties\nexit ( [int] ( -not $psake.build_success ) )"
        },
        {
          "name": "default.build",
          "type": "blob",
          "size": 14.498046875,
          "content": "<?xml version=\"1.0\" ?>\n<project \n\tname=\"NHibernate\" \n\tdefault=\"build\"\n\txmlns=\"http://nant.sf.net/release/0.90/nant.xsd\"\n>\n\n\t<property name=\"root.dir\" value=\".\" />\n\t<property name=\"bin.target.dir\" value=\"net48\" />\n\t<property name=\"test.target.dir\" value=\"net48\" />\n\n\t<include buildfile=\"${root.dir}/build-common/common.xml\" />\n\n\t<!-- Pass -D:skip.tests=true to NAnt to skip running tests when building -->\n\t<property name=\"skip.tests\" value=\"false\" overwrite=\"false\" />\n\t<property name=\"skip.manual\" value=\"false\" overwrite=\"false\" />\n\n\t<target name=\"init\" depends=\"common.init\" description=\"Initializes build properties\" />\n\n\t<target name=\"prepare-build-directory\" depends=\"init\">\n\t\t<mkdir dir=\"${testresults.dir}\" />\n\t</target>\n\n\t<target name=\"nuget.set-properties\">\n\t\t<property name=\"nuget.nupackages.dir\" value=\"${build.dir}/nuget_gallery\" />\n\t\t<property name=\"nuget.nupackages.pushbatfile\" value=\"${nuget.nupackages.dir}/NuGetPush.bat\" />\n\t</target>\n\n\t<target name=\"build\"\n\t\tdepends=\"init prepare-build-directory nuget.set-properties\"\n\t\tdescription=\"Builds NHibernate in the current configuration\">\n\t\t<property name=\"build.counter\" value=\"\" overwrite=\"false\" />\n\n\t\t<exec program=\"dotnet\" verbose=\"true\">\n\t\t\t<arg value=\"msbuild\" />\n\t\t\t<arg value=\"${root.dir}/src/NHibernate.sln\" />\n\t\t\t<arg value=\"/p:Platform=&quot;Any CPU&quot;\" />\n\t\t\t<arg value=\"/p:Configuration=&quot;${build.config}&quot;\"/>\n\t\t\t<arg value=\"/p:GeneratePackageOnBuild=&quot;True&quot;\" />\n\t\t\t<arg value=\"/p:IncludeSymbols=&quot;True&quot;\" />\n\t\t\t<arg value=\"/p:IncludeSource=&quot;True&quot;\" />\n\t\t\t<arg value=\"/p:PackageOutputPath=&quot;${path::get-full-path(nuget.nupackages.dir)}&quot;\" />\n\t\t\t<!-- build.counter is not available by default. It needs to be exposed in Team City as system parameter system.build.counter with value %build.counter% -->\n\t\t\t<arg value=\"/p:BuildNumber=&quot;${build.counter}&quot;\" unless=\"${build.counter == ''}\" />\n\t\t\t<arg value=\"/t:Restore\" />\n\t\t\t<arg value=\"/t:Rebuild\" />\n\t\t\t<arg value=\"/v:q\" />\n\t\t\t<arg value=\"/m:1\" />\n\t\t</exec> \n\t</target>\n\n\t<target name=\"solution-restore\" depends=\"common.tools-restore\">\n\t\t<exec program=\"dotnet\" verbose=\"true\">\n\t\t\t<arg value=\"msbuild\" />\n\t\t\t<arg value=\"/t:Restore\" />\n\t\t\t<arg value=\"${root.dir}/src/NHibernate.sln\" />\n\t\t</exec> \n\t</target>\n\n\t<target name=\"get-tool-info\" depends=\"common.tools-restore\">\n\t\t<xmlpeek \n\t\t\tfile=\"${tools.dir}/packages.csproj\" \n\t\t\txpath=\"/Project/ItemGroup/PackageReference[@Include = '${tool.id}']/@Version\"\n\t\t\tproperty=\"tool.version\" />\n\t\t<property name=\"tool.path\" value=\"${tools.dir}/${tool.id}/${tool.version}/\" />\n\t</target>\n\n\t<target name=\"generate-async\" depends=\"solution-restore\">\n\t\t<exec workingdir=\"${root.dir}/src\" program=\"dotnet\" verbose=\"true\">\n\t\t\t<arg line=\"async-generator\" />\n\t\t</exec> \n\t</target>\n\n\t<target name=\"put-connection-settings-into-defined-app-config\">\n\n\t\t<!-- make sure the config file is writable -->\n\t\t<attrib file=\"${app.config}\" readonly=\"false\" />\n\n\t\t<!-- \n\t\t\tTell nhibernate how to connect to the test database.\n\t\t-->\n\t\t<xmlpoke file=\"${app.config}\"\n\t\t\txpath=\"//*/hbm:property[@name='dialect']\"\n\t\t\tvalue=\"${nhibernate.dialect}\">\n\t\t\t<namespaces>\n\t\t\t\t<namespace prefix=\"hbm\" uri=\"urn:nhibernate-configuration-2.2\" />\n\t\t\t</namespaces>\n\t\t</xmlpoke>\n\n\t\t<xmlpoke file=\"${app.config}\"\n\t\t\txpath=\"//*/hbm:property[@name='command_timeout']\"\n\t\t\tvalue=\"${nhibernate.command_timeout}\">\n\t\t\t<namespaces>\n\t\t\t\t<namespace prefix=\"hbm\" uri=\"urn:nhibernate-configuration-2.2\" />\n\t\t\t</namespaces>\n\t\t</xmlpoke>\n\n\t\t<xmlpoke file=\"${app.config}\"\n\t\t\txpath=\"//*/hbm:property[@name='connection.driver_class']\"\n\t\t\tvalue=\"${nhibernate.connection.driver_class}\">\n\t\t\t<namespaces>\n\t\t\t\t<namespace prefix=\"hbm\" uri=\"urn:nhibernate-configuration-2.2\" />\n\t\t\t</namespaces>\n\t\t</xmlpoke>\n\t\t<xmlpoke file=\"${app.config}\"\n\t\t\txpath=\"//*/hbm:property[@name='connection.connection_string']\"\n\t\t\tvalue=\"${nhibernate.connection.connection_string}\">\n\t\t\t<namespaces>\n\t\t\t\t<namespace prefix=\"hbm\" uri=\"urn:nhibernate-configuration-2.2\" />\n\t\t\t</namespaces>\n\t\t</xmlpoke>\n\t\t\n\t\t<!-- Make sure the property exists - it's only set for some scenarios. -->\n\t\t<property name=\"nhibernate.odbc.explicit_datetime_scale\" value=\"\" unless=\"${property::exists('nhibernate.odbc.explicit_datetime_scale')}\"/>\n\t\t<xmlpoke file=\"${app.config}\"\n\t\t\txpath=\"//*/hbm:property[@name='odbc.explicit_datetime_scale']\"\n\t\t\tvalue=\"${nhibernate.odbc.explicit_datetime_scale}\">\n\t\t\t<namespaces>\n\t\t\t\t<namespace prefix=\"hbm\" uri=\"urn:nhibernate-configuration-2.2\" />\n\t\t\t</namespaces>\n\t\t</xmlpoke>\n\n\t\t<!-- Make sure the property exists - it's only set for some scenarios. -->\n\t\t<property name=\"nhibernate.oracle.use_n_prefixed_types_for_unicode\" value=\"\" unless=\"${property::exists('nhibernate.oracle.use_n_prefixed_types_for_unicode')}\"/>\n\t\t<xmlpoke file=\"${app.config}\"\n\t\t\txpath=\"//*/hbm:property[@name='oracle.use_n_prefixed_types_for_unicode']\"\n\t\t\tvalue=\"${nhibernate.oracle.use_n_prefixed_types_for_unicode}\">\n\t\t\t<namespaces>\n\t\t\t\t<namespace prefix=\"hbm\" uri=\"urn:nhibernate-configuration-2.2\" />\n\t\t\t</namespaces>\n\t\t</xmlpoke>\n\n\t\t<!-- Make sure the property exists - it's only set for some scenarios. -->\n\t\t<property name=\"nhibernate.query.default_cast_length\" value=\"\" unless=\"${property::exists('nhibernate.query.default_cast_length')}\"/>\n\t\t<xmlpoke file=\"${app.config}\"\n\t\t\txpath=\"//*/hbm:property[@name='query.default_cast_length']\"\n\t\t\tvalue=\"${nhibernate.query.default_cast_length}\">\n\t\t\t<namespaces>\n\t\t\t\t<namespace prefix=\"hbm\" uri=\"urn:nhibernate-configuration-2.2\" />\n\t\t\t</namespaces>\n\t\t</xmlpoke>\n\t\t\n\t\t<!-- Make sure the property exists - it's only set for some scenarios. -->\n\t\t<property name=\"nhibernate.transaction.ignore_session_synchronization_failures\" value=\"\" unless=\"${property::exists('nhibernate.transaction.ignore_session_synchronization_failures')}\"/>\n\t\t<xmlpoke file=\"${app.config}\"\n\t\t\txpath=\"//*/hbm:property[@name='transaction.ignore_session_synchronization_failures']\"\n\t\t\tvalue=\"${nhibernate.transaction.ignore_session_synchronization_failures}\">\n\t\t\t<namespaces>\n\t\t\t\t<namespace prefix=\"hbm\" uri=\"urn:nhibernate-configuration-2.2\" />\n\t\t\t</namespaces>\n\t\t</xmlpoke>\n\t\t\n\t\t<!-- Make sure the property exists - it's only set for some scenarios. -->\n\t\t<property name=\"nhibernate.transaction.system_completion_lock_timeout\" value=\"\" unless=\"${property::exists('nhibernate.transaction.system_completion_lock_timeout')}\"/>\n\t\t<xmlpoke file=\"${app.config}\"\n\t\t\txpath=\"//*/hbm:property[@name='transaction.system_completion_lock_timeout']\"\n\t\t\tvalue=\"${nhibernate.transaction.system_completion_lock_timeout}\">\n\t\t\t<namespaces>\n\t\t\t\t<namespace prefix=\"hbm\" uri=\"urn:nhibernate-configuration-2.2\" />\n\t\t\t</namespaces>\n\t\t</xmlpoke>\n\t</target>\n\n\t<target name=\"put-connection-settings-into-app-config\">\n\t\t<property name=\"app.config\" value=\"src/${test.file}/bin/${build.config}/${test.target.dir}/${test.file}.dll.config\" />\n\t\t<call target=\"put-connection-settings-into-defined-app-config\" />\n\t</target>\n\n\t<target name=\"find-nunit\">\n\t\t<property name=\"tool.id\" value=\"NUnit.Console\" />\n\t\t<call target=\"get-tool-info\" />\n\t\t<property name=\"nunit-console\" value=\"${tools.dir}/NUnit.ConsoleRunner/${tool.version}/tools/nunit3-console.exe\" />\n\t</target>\n\n\t<target name=\"run-tests\" depends=\"find-nunit\" description=\"Run NUnit tests\">\n\t\t<exec program=\"${nunit-console}\" failonerror=\"${not property::exists(test.file + '.IgnoreFail')}\">\n\t\t\t<arg value=\"${root.dir}/src/${test.file}/bin/${build.config}/${test.target.dir}/${test.file}.dll\" />\n\t\t\t<arg value=\"--result=${testresults.dir}/${test.file}.dll-results.xml;format=nunit2\" />\n\t\t\t<arg value=\"--teamcity\" if=\"${property::exists('config.teamcity')}\" />\n\t\t\t<arg value=\"--x86\" unless=\"${property::exists('nunit-x64')}\" />\n\t\t</exec>\n\t</target>\n\n\t<target name=\"remove-connection-settings-from-app-config\">\n\t\t<property name=\"app.config\" value=\"${root.dir}/src/${test.file}/bin/${build.config}/${test.target.dir}/${test.file}.dll.config\" />\n\n\t\t<xmlpoke\n\t\t\tfile=\"${app.config}\"\n\t\t\txpath=\"/configuration/nhibernate/add[@key='hibernate.connection.connection_string']/@value\"\n\t\t\tvalue=\"conn string here\" \n\t\t/>\n\t</target>\n\n\t<target name=\"run-database-tests\"\n\t\tdepends=\"put-connection-settings-into-app-config run-tests remove-connection-settings-from-app-config\" />\n\n\t<target name=\"test\" depends=\"init build\" description=\"Runs all NHibernate tests for the current framework\" unless=\"${skip.tests}\">\n\t\t<property name=\"testfiles.all\" value=\"NHibernate.TestDatabaseSetup NHibernate.Test NHibernate.Test.VisualBasic\" />\n\t\t<foreach item=\"String\" in=\"${testfiles.all}\" delim=\" \" property=\"test.file\">\n\t\t\t<call target=\"run-database-tests\"/>\n\t\t</foreach>\n\t</target>\n\t\n\t<target name=\"doc\" depends=\"init binaries\"\n\t\tdescription=\"Builds the Help Documentation and the API documentation\">\n\t\t<nant buildfile=\"doc/documentation.build\" target=\"api manual\" />\n\t</target>\n\t\n\t<target name=\"reference\" depends=\"init binaries\" unless=\"${skip.manual}\"\n\t\tdescription=\"Builds Reference Manual\">\n\t\t<nant buildfile=\"doc/documentation.build\" target=\"manual\" />\n\t</target>\n\t\n\t<target name=\"reference-zip\" depends=\"init binaries\" unless=\"${skip.manual}\"\n\t\tdescription=\"Builds Reference Manual zip\">\n\t\t<nant buildfile=\"doc/documentation.build\" target=\"manual-zip\"/>\n\t</target>\n\n\t<target name=\"api\" depends=\"init binaries\"\n\t\tdescription=\"Builds the API Documentation\">\n\t\t<nant buildfile=\"doc/documentation.build\" target=\"api\" />\n\t</target>\n\n\t<target name=\"binaries\" depends=\"init\">\n\t\t<call target=\"build\" />\n\t</target>\n\n\t<target name=\"sources-zip\" depends=\"init\">\n\t\t<exec program=\"git\" commandline=\"archive HEAD --format zip --output &quot;${build.dir}/NHibernate-${project.version}-src.zip&quot;\"/>\n\t</target>\n\n\t<target name=\"binaries-zip\" depends=\"init bin-pack\">\n\t\t<zip zipfile=\"${build.dir}/NHibernate-${project.version}-bin.zip\">\n\t\t\t<fileset basedir=\"${bin-pack.tmpdir}\">\n\t\t\t\t<include name=\"**/*\" />\n\t\t\t</fileset>\n\t\t</zip>\n\t</target>\n\n\t<target name=\"bin-pack\" depends=\"init binaries\">\n\t\t<property name=\"bin-pack.tmpdir\" value=\"${build.dir}/tmp-bin\" />\n\t\t<property name=\"bin-pack.conf-template\" value=\"${bin-pack.tmpdir}/Configuration_Templates\" />\n\t\t<property name=\"bin-pack.required\" value=\"${bin-pack.tmpdir}/Required_Bins\" />\n\t\t<property name=\"bin-pack.tests\" value=\"${bin-pack.tmpdir}/Tests\" />\n\t\t\n\t\t<copy file=\"releasenotes.txt\" todir=\"${bin-pack.tmpdir}\"/>\n\t\t<copy file=\"LICENSE.txt\" todir=\"${bin-pack.tmpdir}\"/>\n\t\t<copy file=\"HowInstall.txt\" todir=\"${bin-pack.tmpdir}\"/>\n\n\t\t<exec program=\"CScript.exe\"\n\t\t\tcommandline=\"Tools\\showdown\\showdown.wsf README.md ${bin-pack.tmpdir}/readme.html\"/>\n\n\t\t<!--Configuration templates-->\n\t\t<copy todir=\"${bin-pack.conf-template}\">\n\t\t\t<fileset basedir=\"${root.dir}/src/NHibernate.Config.Templates\">\n\t\t\t\t<include name=\"*\"/>\n\t\t\t</fileset>\n\t\t</copy>\n\n\t\t<!--Minimal Required Bins-->\n\t\t<copy todir=\"${bin-pack.required}\">\n\t\t\t<fileset basedir=\"${root.dir}/src/NHibernate\">\n\t\t\t\t<include name=\"*.xsd\" />\n\t\t\t</fileset>\n\t\t</copy>\n\t\t<copy todir=\"${bin-pack.required}\">\n\t\t\t<fileset basedir=\"${root.dir}/src/NHibernate/bin/${build.config}/${bin.target.dir}/\">\n\t\t\t\t<include name=\"Antlr3.Runtime.???\" />\n\t\t\t\t<include name=\"Iesi.Collections.???\" />\n\t\t\t\t<include name=\"NHibernate.???\" />\n\t\t\t\t<include name=\"Remotion.Linq.???\" />\n\t\t\t\t<include name=\"Remotion.Linq.EagerFetching.???\" />\n\t\t\t</fileset>\n\t\t</copy>\n\t\t<!-- Tests -->\n\t\t<copy file=\"${root.dir}/src/NHibernate.Test/TestEmbeddedConfig.cfg.xml\" todir=\"${bin-pack.tests}\"/>\n\t\t<copy file=\"${root.dir}/src/NHibernate.DomainModel/ABC.hbm.xml\" todir=\"${bin-pack.tests}\"/>\n\t\t<copy todir=\"${bin-pack.tests}/DbScripts\">\n\t\t\t<fileset basedir=\"${root.dir}/src/NHibernate.Test/DbScripts\">\n\t\t\t\t<include name=\"*.sql\" />\n\t\t\t</fileset>\n\t\t</copy>\n\t\t<copy todir=\"${bin-pack.tests}\">\n\t\t\t<fileset basedir=\"${root.dir}/src/NHibernate.Test/bin/${build.config}/${test.target.dir}\">\n\t\t\t\t<include name=\"log4net*\" />\n\t\t\t\t<include name=\"NHibernate.DomainModel.*\" />\n\t\t\t\t<include name=\"NHibernate.Test.*\" />\n\t\t\t\t<include name=\"nunit*\" />\n\t\t\t</fileset>\n\t\t</copy>\n\t\t<copy todir=\"${bin-pack.tests}\">\n\t\t\t<fileset basedir=\"${root.dir}/src/NHibernate.Test.VisualBasic/bin/${build.config}/${test.target.dir}\">\n\t\t\t\t<include name=\"NHibernate.Test.VisualBasic.*\" />\n\t\t\t</fileset>\n\t\t</copy>\n\t\t<copy todir=\"${bin-pack.tests}\">\n\t\t\t<fileset basedir=\"${root.dir}/src/NHibernate.TestDatabaseSetup/bin/${build.config}/${test.target.dir}\">\n\t\t\t\t<include name=\"NHibernate.TestDatabaseSetup.*\" />\n\t\t\t</fileset>\n\t\t</copy>\n\t</target>\n\t\n\t<target name=\"package\" depends=\"init binaries test reference-zip sources-zip binaries-zip\"\n\t\tdescription=\"Creates files for the General Available Release on SourceForge\">\n\n\t\t<echo message=\"Created a '${project.config}' package in ${build.dir}\" />\n\t</target>\n\t\n\t<target name=\"release\" depends=\"init binaries binaries-zip sources-zip\"\n\t\tdescription=\"Creates files for the partial (Alpha-Beta-Candidate) Release on SourceForge\">\n\n\t\t<echo message=\"Created a '${project.config}' package in ${build.dir}\" />\n\t</target>\n\n\t<target name=\"cleanall\" description=\"Deletes every build configuration\">\n\t\t<echo message=\"Deleting all builds from all configurations\" />\n\t\t<delete dir=\"build\" failonerror=\"false\" />\n\t</target>\n\n\t<target name=\"clean\" depends=\"init\" description=\"Deletes current build\">\n\t\t<delete dir=\"${build.dir}\" failonerror=\"false\" />\n\t</target>\n\n\t<target name=\"gen-schema-classes\" descripton=\"Generates schema classes from nhibernate-mapping.xsd\">\n\t\t<exec program=\"xsd.exe\"\n\t\t\tcommandline=\"src\\NHibernate\\nhibernate-mapping.xsd /classes /fields /order /namespace:NHibernate.Cfg.MappingSchema /out:src\\NHibernate\\Cfg\\MappingSchema\\\"/>\n\t\t\n\t</target>\n\t\n\t<target name=\"nugetpushbat\" depends=\"init binaries nuget.set-properties\"\n\t\t\t\t\tdescription=\"Creates files for the release on nuget gallery.\">\n\n\t\t<echo message=\"rem In order to use this bat you have to be sure you have executed 'nuget SetApiKey' ${environment::newline()}\" file=\"${nuget.nupackages.pushbatfile}\" append=\"false\"/>\n\t\t<foreach item=\"File\" property=\"filename\">\n\t\t\t<in>\n\t\t\t\t<items>\n\t\t\t\t\t<include name=\"${nuget.nupackages.dir}/*.nupkg\"/>\n\t\t\t\t</items>\n\t\t\t</in>\n\t\t\t<do>\n\t\t\t\t<echo message=\"dotnet nuget push -s https://api.nuget.org/v3/index.json ${path::get-file-name(filename)} ${environment::newline()}\" file=\"${nuget.nupackages.pushbatfile}\" append=\"true\"/>\n\t\t\t</do>\n\t\t</foreach>\n\t</target>\n\t\n\t<target name=\"nugetpush\" depends=\"init binaries nuget.set-properties\"\n\t\t\t\t\tdescription=\"Push packages on nuget gallery.\">\n\t\t<!-- In order to use this task you have to be sure you have executed 'nuget SetApiKey' -->\n\t\t<foreach item=\"File\" property=\"filename\">\n\t\t\t<in>\n\t\t\t\t<items>\n\t\t\t\t\t<include name=\"${nuget.nupackages.dir}/*.nupkg\"/>\n\t\t\t\t</items>\n\t\t\t</in>\n\t\t\t<do>\n\t\t\t\t<exec basedir=\"${tools.dir}\" workingdir=\"${nuget.nupackages.dir}\" program=\"dotnet\">\n\t\t\t\t\t<arg value=\"nuget\" />\n\t\t\t\t\t<arg value=\"push\" />\n\t\t\t\t\t<arg value=\"${filename}\" />\n\t\t\t\t</exec>\n\t\t\t</do>\n\t\t</foreach>\n\t</target>\n\n</project>\n"
        },
        {
          "name": "doc",
          "type": "tree",
          "content": null
        },
        {
          "name": "global.json",
          "type": "blob",
          "size": 0.078125,
          "content": "{\n  \"sdk\": {\n    \"version\": \"8.0.100\",\n    \"rollForward\": \"latestFeature\"\n  }\n}\n"
        },
        {
          "name": "lib",
          "type": "tree",
          "content": null
        },
        {
          "name": "logo",
          "type": "tree",
          "content": null
        },
        {
          "name": "psake.ps1",
          "type": "blob",
          "size": 7.3408203125,
          "content": "properties {\n    $Database = \"SqlServer2012\";\n    $ConnectionString = $null;\n}\n\nTask Default -depends Build, Test\n\nTask Set-Configuration {\n    $configDir = (Join-Path '.' 'current-test-configuration')\n    #Configuration matrix\n    $allSettings = @{\n        'Firebird' = @{\n            'connection.connection_string' = 'DataSource=localhost;Database=nhibernate;User ID=SYSDBA;Password=masterkey;MaxPoolSize=200;';\n            'connection.driver_class' = 'NHibernate.Driver.FirebirdClientDriver';\n            'dialect' = 'NHibernate.Dialect.FirebirdDialect'\n        };\n        'Firebird4' = @{\n            'connection.connection_string' = 'DataSource=localhost;Database=nhibernate;User ID=SYSDBA;Password=masterkey;MaxPoolSize=200;';\n            'connection.driver_class' = 'NHibernate.Driver.FirebirdClientDriver';\n            'dialect' = 'NHibernate.Dialect.Firebird4Dialect'\n        };\n        'MySQL' = @{\n            'connection.connection_string' = 'Server=127.0.0.1;Uid=root;Pwd=Password12!;Database=nhibernate;Old Guids=True;SslMode=none;';\n            'connection.driver_class' = 'NHibernate.Driver.MySqlDataDriver';\n            'dialect' = 'NHibernate.Dialect.MySQL5Dialect'\n        };\n        'Odbc' = @{\n            # The OdbcDriver inherits SupportsMultipleOpenReaders=true from DriverBase, which requires Mars_Connection=yes for SQL Server.\n            'connection.connection_string' = 'Server=(local)\\SQL2017;Uid=sa;Pwd=Password12!;Database=nhibernateOdbc;Driver={SQL Server Native Client 11.0};Mars_Connection=yes;';\n            'connection.driver_class' = 'NHibernate.Driver.OdbcDriver';\n            'odbc.explicit_datetime_scale' = '3';\n            'transaction.ignore_session_synchronization_failures' = 'true';\n            'transaction.system_completion_lock_timeout' = '200';\n            <# We need to use a dialect that avoids mapping DbType.Time to TIME on MSSQL. On modern SQL Server\n                this becomes TIME(7). Later, such values cannot be read back over ODBC. The\n                error we get is \"System.ArgumentException : Unknown SQL type - SS_TIME_EX.\". I don't know for certain\n                why this occurs, but MS docs do say that for a client \"compiled using a version of SQL Server Native\n                Client prior to SQL Server 2008\", TIME(7) cannot be converted back to the client. Assuming that .Net's\n                OdbcDriver would be considered a \"client compiled with a previous version\", it would make sense. Anyway,\n                using the MsSql2005Dialect avoids these test failures. #>\n            'dialect' = 'NHibernate.Dialect.MsSql2005Dialect'\n        };\n        'PostgreSQL' = @{\n            'connection.connection_string' = 'Host=localhost;Port=5432;Username=postgres;Password=Password12!;Database=nhibernate;Enlist=true';\n            'connection.driver_class' = 'NHibernate.Driver.NpgsqlDriver';\n            'dialect' = 'NHibernate.Dialect.PostgreSQL83Dialect'\n        };\n        'SQLite' = @{\n            <#\n                DateTimeFormatString allows to prevent storing the fact that written date was having kind UTC,\n                which dodges the undesirable time conversion to local done on reads by System.Data.SQLite.\n                See https://system.data.sqlite.org/index.html/tktview/44a0955ea344a777ffdbcc077831e1adc8b77a36\n                and https://github.com/nhibernate/nhibernate-core/issues/1362 #>\n            # Please note the connection string is formated for putting the db file in $configDir.\n            'connection.connection_string' = \"Data Source=$configDir/NHibernate.db;DateTimeFormatString=yyyy-MM-dd HH:mm:ss.FFFFFFF;\";\n            'connection.driver_class' = 'NHibernate.Driver.SQLite20Driver';\n            'dialect' = 'NHibernate.Dialect.SQLiteDialect'\n        };\n        'SqlServerCe' = @{\n            # Please note the connection string is formated for putting the db file in $configDir.\n            'connection.connection_string' = \"Data Source=$configDir/NHibernate.sdf;\";\n            'connection.driver_class' = 'NHibernate.Driver.SqlServerCeDriver';\n            'command_timeout' = '0';\n            'dialect' = 'NHibernate.Dialect.MsSqlCe40Dialect'\n        };\n        'SqlServer2008' = @{\n            'connection.connection_string' = 'Server=(local)\\SQL2017;User ID=sa;Password=Password12!;initial catalog=nhibernate;'\n            'connection.driver_class' = 'NHibernate.Driver.Sql2008ClientDriver';\n            'dialect' = 'NHibernate.Dialect.MsSql2008Dialect'\n        };\n        'SqlServer2012' = @{\n            'connection.connection_string' = 'Server=(local)\\SQL2017;User ID=sa;Password=Password12!;initial catalog=nhibernate;';\n            'connection.driver_class' = 'NHibernate.Driver.Sql2008ClientDriver';\n            'dialect' = 'NHibernate.Dialect.MsSql2012Dialect'\n        };\n        'SqlServer2008-MicrosoftDataSqlClientDriver' = @{\n            'connection.connection_string' = 'Server=(local)\\SQL2017;User ID=sa;Password=Password12!;initial catalog=nhibernate;'\n            'connection.driver_class' = 'NHibernate.Driver.MicrosoftDataSqlClientDriver';\n            'dialect' = 'NHibernate.Dialect.MsSql2008Dialect'\n        };\n        'SqlServer2012-MicrosoftDataSqlClientDriver' = @{\n            'connection.connection_string' = 'Server=(local)\\SQL2017;User ID=sa;Password=Password12!;initial catalog=nhibernate;';\n            'connection.driver_class' = 'NHibernate.Driver.MicrosoftDataSqlClientDriver';\n            'dialect' = 'NHibernate.Dialect.MsSql2012Dialect'\n        };\n        'Oracle' = @{\n            'connection.connection_string' = 'User ID=nhibernate;Password=nhibernate;Metadata Pooling=false;Self Tuning=false;Data Source=(DESCRIPTION = (ADDRESS = (PROTOCOL = TCP)(HOST = localhost)(PORT = 1521)) (CONNECT_DATA = (SERVER = DEDICATED) (SERVICE_NAME = XEPDB1)))';\n            'connection.driver_class' = 'NHibernate.Driver.OracleManagedDataClientDriver';\n            'dialect' = 'NHibernate.Dialect.Oracle10gDialect'\n        }\n    }\n    #Settings for current build\n    $settings = $allSettings[$Database]\n\n    if (!$settings) {\n        Write-Warning \"Unable to find $Database settings\"\n        exit 1\n    }\n    if (-not [String]::IsNullOrWhitespace($ConnectionString)) {\n        $settings['connection.connection_string'] = $ConnectionString\n    }\n    #Create settings file\n    $configFile = (Join-Path $configDir 'hibernate.cfg.xml')\n    New-Item $configDir -Type Directory\n    Copy-Item \"$([IO.Path]::Combine('.', 'build-common', 'teamcity-hibernate.cfg.xml'))\" $configFile\n    #Patch settings file\n    $config = [Xml] (Get-Content $configFile)\n    $allProps = $config.'hibernate-configuration'.'session-factory'.property\n    foreach($key in $settings.keys)\n    {\n        $value = $settings[$key]\n        $property = $allProps | Where-Object { $_.name -eq $key }\n        if (!$property) {\n            Write-Warning \"Unable to find $key property\"\n            exit 1\n        }\n        $property.InnerText = $value\n    }\n    $config.Save($configFile)\n}\n\nTask Build {\n    Exec { \n        dotnet build ./src/NHibernate/NHibernate.csproj -m:1 -c Release\n        dotnet build ./src/NHibernate.sln -c Release\n    }\n}\n\nTask Test -depends Build {\n    @(\n        'NHibernate.TestDatabaseSetup',\n        'NHibernate.Test',\n        'NHibernate.Test.VisualBasic'\n    ) | ForEach-Object { \n        $assembly = [IO.Path]::Combine(\"src\", $_, \"bin\", \"Release\", \"net8.0\", \"$_.dll\")\n        Exec {\n            dotnet $assembly --labels=before --nocolor \"--result=$_-TestResult.xml\"\n        }\n    }\n}\n"
        },
        {
          "name": "releasenotes.txt",
          "type": "blob",
          "size": 292.24609375,
          "content": "ï»¿Build 5.5.2\n=============================\n\nRelease notes - NHibernate - Version 5.5.2\n\n3 issues were resolved in this release, including CVE CVE-2024-39677 through the merge of 5.4.9.\n\n** Bug\n\n   * #3536 MemberwiseClone should be virtual error in dotnet 9 preview 3\n\n** Task\n\n   * #3578 Release 5.5.1\n   * #3577 Merge 5.4.9 into 5.5.x\n\n\nBuild 5.5.1\n=============================\n\nRelease notes - NHibernate - Version 5.5.1\n\n3 issues were resolved in this release.\n\n** Bug\n\n   * #3465 Invalid SQL created for some joins in a subquery\n\n** Task\n\n   * #3509 Release 5.5.1\n   * #3508 Merge 5.4.8 into 5.5.x\n\n\nBuild 5.5.0\n=============================\n\nRelease notes - NHibernate - Version 5.5.0\n\n    ##### Possible Breaking Changes #####\n        * `Object.Finalize` is no more proxified when the entity base class has a destructor. See #3205.\n        * Default not-found behavior now works correctly on many-to-many Criteria fetch. It now throws\n          ObjectNotFoundException exception for not found records. See #2687.\n\n62 issues were resolved in this release.\n\n** Bug\n\n   * #3413 Downgrade dependency System.Data.SQLite.Core 1.0.118 -> 1.0.117\n   * #3406 Fix orphan removal for detached one-to-one\n   * #3392 Partial fix fetching lazy property after Select in Linq\n   * #3360 Incorrect parameter length for char types in MicrosoftDataSqlClientDriver\n   * #3334 Exception executing HQL query with uncorrelated left joins in subselect\n   * #3327 HqlParser does not correctly negate EXISTS-nodes below an AND/OR\n   * #3325 Cascading orphan delete may not work on versioned entity\n   * #3311 NamedQuery ignores <query-param type=\"AnsiString\"> and any other\n   * #3264 Fix collection filter on subclass columns\n   * #3256 Invalid SQL is generated for string Enum used in conditional LINQ\n   * #3205 `Object.Finalize` should not be proxiable\n   * #2687 Use table group joins for many-to-many in Criteria and Entity loaders\n   * #1267 NH-3047 - Lazy=no-proxy ignores join fetch\n\n** New Feature\n\n   * #3242 Linq: add enum Equals and object Equals support\n   * #3165 Add support for Firebird 4\n   * #829 NH-3365 - Support for HasFlag method for enums with Flags attribute applied\n\n** Improvement\n\n   * #3429 Explicit how to use advanced Redis strategies\n   * #3410 Remove redundant collection BeforeAssemble call from query cache\n   * #3398 Do not store mapping field in Configuration\n   * #3396 Get rid of select queries for each ManyToMany not found ignored element in Criteria and lazy loading\n   * #3395 Remove ConstantConverter\n   * #3394 Get rid of select queries for each ManyToMany not found ignored element in hql\n   * #3390 Enable Not node handling in HqlParser.NegateNode\n   * #3384 Improve path rule handling with reserved words in Hql.g\n   * #3377 Move HqlToken.PossibleId to HqlParser.IsPossibleId method and remove castings\n   * #3374 Simplify aggregateDistinctAll rule in Hql.g\n   * #3373 Refactor sequential select related members in AbstractEntityPersister\n   * #3341 Apply fromFragment processing only when required in ProcessDynamicFilterParameters\n   * #3340 SqlString.Trim should return the same instance for not modified string\n   * #3253 Do not throw for unknown type in hql case node\n   * #3230 Add cached boxed boolean values to BooleanType\n   * #3209 Allow custom query loader\n\n** Task\n\n   * #3460 Merge 5.4.7 in master\n   * #3445 Release 5.5.0\n   * #3440 Update NUnit to v3.14.0\n   * #3423 Update actions/checkout action to v4\n   * #3420 Merge 5.4.6 in master\n   * #3411 Remove ISessionFactoryImplementor parameter from TableGroupJoinHelper\n   * #3409 Merge 5.4.5 in master\n   * #3387 Merge 5.4.4 in master\n   * #3379 Remove NHibernate.Example.Web project\n   * #3362 Update dependency NUnit3TestAdapter to v4.5.0\n   * #3361 Update dependency NUnit.Console to v3.16.3\n   * #3353 Migrate renovate config\n   * #3351 Merge 5.4.3 in master\n   * #3284 Update NHibernate.Caches to v5.9.0\n   * #3283 Update dependency NSubstitute to v5\n   * #3280 Add tests for Microsoft.Data.SqlClient driver\n   * #3275 Migrate dev packages to Cloudsmith\n   * #3241 Exclude generated files from Deepsource analisys\n   * #3236 Add MySQL8Dialect and MySQL8InnoDBDialect\n   * #3223 Simplify GitHub Actions Tests DB initialization\n   * #3206 Update actions/setup-dotnet action to v3\n   * #3202 Update dependency Npgsql to v7\n   * #3129 [Security] Update Oracle.ManagedDataAccess\n   * #3122 Update dependency FirebirdSql.Data.FirebirdClient to v9\n   * #3102 Update dependency Microsoft.Data.SqlClient to v3.1.3\n   * #3099 [Security] Update dependency System.Linq.Dynamic.Core to v1.3.3\n   * #3098 Update dependency System.Data.SQLite.Core to v1.0.118\n   * #3092 Update dependency Microsoft.AspNetCore.OData to v7.7.0\n   * #3088 Update NUnit to v3.13.3\n\n** Tests\n\n   * #3412 Revive hql ParsingFixture\n\n\nBuild 5.4.9\n=============================\n\nRelease notes - NHibernate - Version 5.4.9\n\n6 issues were resolved in this release, including CVE-2024-39677.\n\n** Bug\n\n   * #3547 Handle SQL injection vulnerabilities within ObjectToSQLString\n\n** Task\n\n   * #3576 Release 5.4.9\n   * #3558 Migrate AppVeyor & TC builds to PostgreSQL 13\n   * #3545 Upgrade Npgsql to a non vulnerable version\n   * #3544 Upgrade vulnerable test dependencies\n   * #3517 Obsolete vulnerable literal AddColumn\n\n\nBuild 5.4.8\n=============================\n\nRelease notes - NHibernate - Version 5.4.8\n\n2 issues were resolved in this release.\n\n** Bug\n\n   * #3489 Inserting multiple associations of the same entity fails\n\n** Task\n\n   * #3507 Release 5.4.8\n\n\nBuild 5.4.7\n=============================\n\nRelease notes - NHibernate - Version 5.4.7\n\n3 issues were resolved in this release.\n\n** Task\n\n   * #3459 Release 5.4.7\n   * #3458 Merge 5.3.20 into 5.4.x\n   * #3453 Migrate appveyor build to MySql 8\n\n\nBuild 5.4.6\n=============================\n\nRelease notes - NHibernate - Version 5.4.6\n\n2 issues were resolved in this release.\n\n** Bug\n\n   * #3414 Reenable use of SelectClauseVisitor for subqueries\n\n** Task\n\n   * #3419 Release 5.4.6\n\n\nBuild 5.4.5\n=============================\n\nRelease notes - NHibernate - Version 5.4.5\n\n2 issues were resolved in this release.\n\n** Task\n\n   * #3408 Release 5.4.5\n   * #3407 Merge 5.3.19 in 5.4.x\n\n\nBuild 5.4.4\n=============================\n\nRelease notes - NHibernate - Version 5.4.4\n\n6 issues were resolved in this release.\n\n** Bug\n\n   * #3359 2nd level cache GetMany ineffective for collections\n   * #3354 Invalid program generated by FieldInterceptorProxyBuilder for indexer property getter\n   * #3352 Fetch throws \"could not resolve property\" error for a property that is not mapped\n\n** Improvement\n\n   * #3368 Allow internal entity classes/interfaces in .NET Standard 2.0 for field interceptor\n\n** Task\n\n   * #3386 Release 5.4.4\n   * #3367 Update readme with actual dev build information for 5.4\n\n\nBuild 5.4.3\n=============================\n\nRelease notes - NHibernate - Version 5.4.3\n\n11 issues were resolved in this release.\n\n** Bug\n\n   * #3317 Issue with components list lazy loading with not lazy association\n   * #3307 IsDirty performance hit since 5.4.0\n   * #3295 C# 8/11 Static interface members support\n   * #3291 Npgsql 6+ issues with null DateTime parameter types\n   * #3290 Incorrect fetch of Many-to-Many relation\n   * #3289 Fetching lazy loaded component causes n + 1 query when querying a subclass abstraction\n   * #3288 NullReferenceException is thrown when using Fetch\n\n** Task\n\n   * #3349 Release 5.4.3\n   * #3348 Merge 5.3.18 in 5.4.x\n   * #3318 Merge 5.3.17 in 5.4.x\n   * #3302 Upgrade NUnit3TestAdapter to fix \"Unknown framework version 7.0\"\n\n\nBuild 5.4.2\n=============================\n\nRelease notes - NHibernate - Version 5.4.2\n\n6 issues were resolved in this release.\n\n** Bug\n\n   * #3274 Improve LINQ Contains subquery parameter detection\n   * #3271 LINQ subqueries wrongly altered by SelectClauseVisitor\n   * #3263 Wrong alias in Where clause if using Fetch and scalar Select\n   * #3239 Incorrect SQL generated fetching many-to-many with subclasses\n\n** New Feature\n\n   * #3251 MappingByCode: Support backfield property access\n\n** Task\n\n   * #3281 Merge 5.3.16 in 5.4.x\n   * #3277 Release 5.4.2\n\n\nBuild 5.4.1\n=============================\n\nRelease notes - NHibernate - Version 5.4.1\n\n5 issues were resolved in this release.\n\n** Bug\n\n   * #3216 Enable one-to-one optimistic lock handling in mapping\n   * #3215 Count(Distinct ...) does not work\n   * #3203 Fix a wrong example in configuration documentation\n\n** Task\n\n   * #3232 Release 5.4.1\n   * #3227 Merge 5.3.15 in 5.4.x\n\nAs part of releasing 5.4.1, a missing 5.4.0 possible breaking change has been added, about\none-to-one associations and optimistic locking. See 5.4.0 possible breaking changes.\n\n\nBuild 5.4.0\n=============================\n\nRelease notes - NHibernate - Version 5.4.0\n\n** Highlights\n    * NHibernate has gained three new target frameworks: .Net 6, .Net Framework 4.8 and .Net Standard 2.1. NHibernate NuGet package\n      provides them, along with the older targets, .Net Core 2.0, .Net Framework 4.6.1 and .Net Standard 2.0. These new targets allow\n      some NHibernate optimizations for applications using them. The same limitations apply for .Net 6 and .Net Standard 2.1 as for\n      .Net Core 2.0 and .Net Standard 2.0, see NHibernate 5.1.0 release notes.\n    * A new batching strategy is available, minimizing the batching memory footprint. See #2959. Using it may increase CPU usage.\n    * 201 issues were resolved in this release.\n\n    ##### Possible Breaking Changes #####\n        * One-to-one changes does now trigger a version increment, consistently with the default behavior of other kinds of\n          associations. See #3204.\n        * Linq and criteria queries on unmapped entities will throw instead of returning an empty result list. See #1106, #1095.\n        * The second level cache UpdateTimestampsCache does not use locks anymore. This may slightly increase the number of cases\n          where stale data is returned by the query cache. See #2742.\n        * Equality and hashcode access on uninitialized persistent collections will no more trigger their loading. See #2461.\n        * DB2CoreDriver now uses named parameters instead of positional ones. See #2546.\n\n** Bug\n\n   * #3198 EntityUpdateAction increments version despite veto on update\n   * #3189 Support proxies of classes with init properties\n   * #3188 No way of detecting if AutoFlush performed in added AutoFlushEventListener\n   * #3176 Cached entity always fetches lazy properties with read-write concurrency strategy\n   * #3156 Evaluation failure when using `Nullable` without a value in LINQ\n   * #3150 LINQ query dynamic component by interface hangs the application\n   * #3109 Fix table group join issue with subclasses\n   * #3104 Inner Join fails with left Outer Join when referenced in Where clause\n   * #3076 Nested group by results in \"A recognition error occured\"\n   * #2968 Fix QueryStatistics.ExecutionAvgTime calculation\n   * #2827 Fix BadImageFormatException in dynamic proxies for abstract classes and interfaces\n   * #2822 \"A recognition error ocurred\" querying by a nullable component with more than N properties\n   * #2758 Fix AmbiguousMatchException in ClearPool with FirebirdClient 6.6.0 and above\n   * #2750 Using System.Transaction with IStatelessSession doesn't always flush batches to database\n   * #2738 Unused Left Join in LINQ throws exception\n   * #2717 MappingByCode discriminator column with string type throws exception\n   * #2675 Fix collection lazy loading with composite keys on subclass columns\n   * #2672 Linq query failure with left joins\n   * #2619 InvalidOperationException in ProxyGenerator for class with generic non-virtual method\n   * #2614 Obvious bug in two HQLQueryPlan classes with distinction Set\n   * #2594 Wrong SQL produced by DML LINQ when using a select clause for a property referencing the outer select\n   * #2555 Add spaces around concat operator\n   * #2552 One-to-one second level cache issue\n   * #2548 Mark DB2Dialect as not supporting null columns in unique constraint\n   * #2547 Fix paging in DB2Dialect\n   * #2540 Unable to use external predicate in subquery\n   * #2534 Fix asymmetrical SqlType.Equals\n   * #2454 ConditionalProjection containing the correlation to outer query fails to determine projection type\n   * #2330 join on multiple conditions\n   * #2201 Fetch Join generates incorrect SQL joins for the same entity type\n   * #2092 Projection and join fetch in hql leads to duplicated column aliases\n   * #1365 NH-3288 - Stale data checking does not work for one-to-one associations\n   * #1349 NH-3893 - HQL parse error of a query with 'left' or 'right' function\n   * #1326 NH-3622 - Fetching in query causes incorrect/missing joins in subquery\n   * #1316 NH-3530 - memory when using default_batch_fetch_size\n   * #1235 NH-2785 - StaleStateExceptions discarded on optional <join> table\n   * #1215 NH-2208 - Error with filters on joined-subclass as many-to-one\n   * #1209 NH-2049 - Error with filters on joined-subclass as one-to-one\n   * #1180 NH-3847 - ConditionalProjection throws \"Both true and false projections must return the same types\" when the types are the same\n   * #1106 NH-2978 - LINQ: Queries for unmapped entity types return empty result set\n   * #1075 NH-2239 - Wrong OrderBy in generated SQL when using ICriteria, Eager fetching and order by clauses in collection mappings\n   * #1072 NH-2174 - Invalid SQL is generated for OneToMany collections\n   * #1062 NH-1893 - Trigger-Identity with Dynamic Insert throws ORA-01036 (10g)\n\n** New Feature\n\n   * #2959 Support Dynamic BatchFetchStyle\n   * #2744 Set which entities classes should never be cached, even indirectly\n   * #2737 Add more left join support\n   * #2645 Allow specifying the size of the query plan cache\n   * #2641 Avoid InvalidCastException with Oracle number high precision values\n   * #2551 Add support for joining a subquery in hql\n   * #2545 Table group joins for subclasses in Criteria\n   * #2486 Add Projections.Select in Criteria\n   * #2361 Table group joins support in hql\n\n** Improvement\n\n   * #3184 Support caching queries with autodiscovered types\n   * #3177 Disable default caching in tests\n   * #3160 Allow internal entity classess/interfaces in .NET Standard 2.0\n   * #3133 Automatically generate async code on pull request\n   * #3127 Register IType CLR types as aliases\n   * #3116 Simplify SqlGenerator.FromFragmentSeparator\n   * #3114 Exclude generated async files from Deepsource analysis\n   * #3106 Skip table group join processing for implicit join\n   * #3091 Use GitReleaseManager dotnet tool\n   * #3083 Update SHFB in order to build documentation without MSBuild\n   * #3050 Add .NET Standard 2.1 target\n   * #3027 Avoid allocations on lock in SyncCacheLock\n   * #3000 Add .NET 6 and .NET Framework 4.8 targets\n   * #2990 Use inner join instead of implicit join for implied entity joins\n   * #2957 Avoid lambda compilation as much as possible\n   * #2948 Avoid lambda compilation for member access expressions in LINQ\n   * #2947 LINQ queries triggers JIT a bit too much\n   * #2920 Add parameter type to ADO exception\n   * #2804 Projections.Conditional for CASE expressions with multiple conditions\n   * #2752 Change cascade style for DefaultDirtyCheckEventListener to persist to avoid flushing the session\n   * #2742 Remove locks from UpdateTimestampsCache\n   * #2723 Avoid double param type guessing and better NULL parameter handling in LINQ\n   * #2706 Set the rolledBack flag when disposing active transactions\n   * #2700 Potential improvement to AliasToBeanResultTransformer\n   * #2621 Regression bug with enums used as parameter for string column\n   * #2571 Default value for CancellationToken in IQueryBatch.GetResultAsync\n   * #2568 Support internal entity classes by proxy factory\n   * #2556 Register right function for Firebird and PostgreSQL\n   * #2546 Enable named parameters on DB2CoreDriver\n   * #2539 Skip no longer needed moving ON condition to Where clause in LINQ\n   * #2538 Remove no longer needed alias substitution for filtered many-to-many collection in hql\n   * #2518 Support Aggregate subqueries with paging on MS SQL Server\n   * #2510 Remove OrderByClause from query models with Contains, All and Any result operators\n   * #2492 Replace casting with NodeType checks in Criteria ExpressionProcessor\n   * #2479 When using a paged sub-query in Linq, generates incorrect SQL\n   * #2461 Remove persistent collections Equals/GetHashCode overrides\n   * #2460 Simplify single alias retrieval for SimpleProjections\n   * #2448 Avoid lambda compilation for constant and member access expressions in Criteria\n   * #1285 NH-3249 - Cannot perform HQL with \"COUNT(DISTINCT Date(s.Date))\"\n   * #1244 NH-2868 - Generate method of ForeignGenerator fails with stateless sessions\n   * #1095 NH-2829 - QueryOver/Criteria should throw exception when querying against unmapped class\n   * #871 NH-3115 - Should de-duplicate joins when using fetching with where in LINQ query\n   * #869 NH-2952 - Setting the SqlCheck is not supported in the ByCode mapping\n   * #809 NH-2799 - Provide the CancelQuery() method in IStatelessSession\n   * #766 NH-3813 - Eager fetch on key-many-to-one relation adds inner joins to the query\n   * #715 NH-1040 - property-ref on joined-subclasses should work or error\n\n** Task\n\n   * #3197 Update dependency System.Data.SqlClient to v4.8.5\n   * #3195 Release NHibernate 5.4\n   * #3161 Tell NuGet about the readme file\n   * #3147 Add `datetimex` keyword to SapSQLAnywhere17Dialect\n   * #3146 Run tests against Oracle XE 21c\n   * #3123 Update dependency Npgsql to v6\n   * #3121 Update dependency Microsoft.NETFramework.ReferenceAssemblies to v1.0.3\n   * #3119 Update actions/setup-dotnet action to v2\n   * #3118 Update actions/checkout action to v3\n   * #3117 Update dependency NSubstitute to v4.4.0\n   * #3111 Update dependency log4net to v2.0.15\n   * #3080 Replace Dependabot with Renovate\n   * #3063 Bump Oracle.ManagedDataAccess from 19.12.0 to 21.6.1\n   * #3061 Bump Oracle.ManagedDataAccess.Core from 2.19.120 to 3.21.61\n   * #3059 Bump log4net from 2.0.12 to 2.0.14\n   * #3057 Run tests using .NET 4.8\n   * #3017 Add deepsource.io code analysis\n   * #3002 Bump NUnit3TestAdapter from 4.1.0 to 4.2.1\n   * #2987 Disable auto rebasing for depandabot PRs\n   * #2951 Run tests on .NET 6\n   * #2946 Bump Microsoft.SourceLink.GitHub from 1.0.0 to 1.1.1\n   * #2936 Bump System.Data.SQLite.Core from 1.0.114.3 to 1.0.115.5\n   * #2911 Bump System.Data.SqlClient from 4.8.2 to 4.8.3\n   * #2898 Bump FirebirdSql.Data.FirebirdClient from 6.6.0 to 8.5.2\n   * #2887 Bump Oracle.ManagedDataAccess from 19.11.0 to 19.12.0\n   * #2886 Bump Oracle.ManagedDataAccess.Core from 2.19.110 to 2.19.120\n   * #2878 Bump System.Linq.Dynamic.Core from 1.2.10 to 1.2.12\n   * #2870 Bump MySql.Data from 8.0.25 to 8.0.26\n   * #2851 Cache Dialect in tests\n   * #2818 Bump Microsoft.Data.SqlClient from 2.1.3 to 3.0.0\n   * #2800 Bump System.Data.SQLite.Core from 1.0.113.7 to 1.0.114.2\n   * #2799 Bump Npgsql from 4.0.3 to 4.1.9\n   * #2796 Bump System.Linq.Dynamic.Core from 1.2.9 to 1.2.10\n   * #2790 Bump Microsoft.NET.Test.Sdk from 16.9.4 to 16.10.0\n   * #2786 Bump Microsoft.Data.SqlClient from 2.1.2 to 2.1.3\n   * #2771 Bump MySql.Data from 8.0.22 to 8.0.25\n   * #2770 Bump System.Data.SQLite.Core from 1.0.109.2 to 1.0.113.7\n   * #2765 Bump Microsoft.NETFramework.ReferenceAssemblies from 1.0.0 to 1.0.2\n   * #2759 Enable dependabot\n   * #2756 Update dependencies\n   * #2607 Merge 5.3.5\n   * #2605 Upgrade AsyncGenerator to 0.19.1\n   * #2593 Merge 5.3.4\n   * #2582 Remove no longer used code in QueryModelVisitor\n   * #2570 Update Relinq and LinFu links\n   * #2516 Suppress Codefactor single class per file rule for test project\n   * #2501 Upgrade MySql client and remove allowed failures on CI builds\n\n** Tests\n\n   * #3024 Enable test accessing Component's Parent property in LINQ\n   * #2921 Fix test for SAP SQL Anywhere\n   * #2848 Add Oracle to GitHub Actions\n   * #2541 LINQ SELECT tests with WHERE subquery\n   * #2489 Improve CriteriaAssertFixture\n   * #2456 Test case for #1180 and improve NullableType.ToString \n   * #2242 Test case for NH-3972 - SQL error when selecting a column of a subclass when sibling classes have a column of the same name\n\n\nBuild 5.3.20\n=============================\n\nRelease notes - NHibernate - Version 5.3.20\n\n2 issues were resolved in this release.\n\n** Bug\n\n   * #3438 DB2/400: ArgumentException Column 'SQL_TYPE_NAME' does not belong to table DataTypes\n\n** Task\n\n   * #3454 Release 5.3.20\n\n\nBuild 5.3.19\n=============================\n\nRelease notes - NHibernate - Version 5.3.19\n\n2 issues were resolved in this release.\n\n** Bug\n\n   * #3397 GenerateSchemaCreationScript creates many identical dialect instances\n\n** Task\n\n   * #3405 Release 5.3.19\n\n\nBuild 5.3.18\n=============================\n\nRelease notes - NHibernate - Version 5.3.18\n\n3 issues were resolved in this release.\n\n** Bug\n\n   * #3333 Lazy property with nosetter accessor remains uninitialized\n   * #3330 Linq with FetchLazyProperties() resets lazy property changes\n\n** Task\n\n   * #3346 Release 5.3.18\n\n\nBuild 5.3.17\n=============================\n\nRelease notes - NHibernate - Version 5.3.17\n\n5 issues were resolved in this release.\n\n** Bug\n\n   * #3306 Invalid SQL when referencing nullable entity in correlated subquery\n   * #3304 Fix SetSnapShot CopyTo variance failure\n   * #3294 Undefined join type failure with cross joins and Informix\n\n** Task\n\n   * #3315 Release 5.3.17\n   * #3300 Backport handling of null DateTime parameters in Npgsql 6+\n\n\nBuild 5.3.16\n=============================\n\nRelease notes - NHibernate - Version 5.3.16\n\n3 issues were resolved in this release.\n\n** Bug\n\n   * #3269 \"Or\" clause in a \"where\" condition returns a wrong result with not-found-ignore\n   * #3210 Wrong name value for L2 read-only cache warning on mutable\n\n** Task\n\n   * #3276 Release 5.3.16\n\n\nBuild 5.3.15\n=============================\n\nRelease notes - NHibernate - Version 5.3.15\n\n4 issues were resolved in this release.\n\n** Bug\n\n   * #3218 Failure of contains subquery with parameter\n   * #3187 Fix mixing implied implicit and left joins in HQL for v5.3\n\n** Task\n\n   * #3225 Release 5.3.15\n   * #3222 Automatically generate async code on pull requests for 5.3\n\n\nBuild 5.3.14\n=============================\n\nRelease notes - NHibernate - Version 5.3.14\n\n3 issues were resolved in this release.\n\n** Bug\n\n   * #3169 InvalidOperationException: This transformer is not initialized by Cached Query\n   * #3164 Fetching a lazy loaded component regression\n\n** Task\n\n   * #3183 Release 5.3.14\n\n\nBuild 5.3.13\n=============================\n\nRelease notes - NHibernate - Version 5.3.13\n\n6 issues were resolved in this release.\n\n** Bug\n\n   * #3134 ManyToMany - Tries to select not existing column in Mapping Table\n   * #3113 Join fails on Oracle9Dialect\n   * #3030 Memory leak named parameter holds entity references\n\n** Improvement\n\n   * #3120 Guards against use of a disposed session factory\n   * #2994 Npgsql 6 is not compatible\n\n** Task\n\n   * #3145 Release 5.3.13\n\n\nBuild 5.3.12\n=============================\n\nRelease notes - NHibernate - Version 5.3.12\n\n5 issues were resolved in this release.\n\n** Bug\n\n   * #3046 Regression for filters on entity joins with many-to-one disabled\n   * #3029 InvalidOperationException on proxies with explicit implementation of a generic method\n\n** Improvement\n\n   * #3043 Improve exception for query on delayed id\n\n** Test\n\n   * #3035 Support tests in VS 2022\n\n** Task\n\n   * #3044 Release 5.3.12\n\nBuild 5.3.11\n=============================\n\nRelease notes - NHibernate - Version 5.3.11\n\n12 issues were resolved in this release.\n\n** Bug\n\n   * #3005 LINQ: Casting from object to TimeSpan throws\n   * #2988 Query issues when using not-found='ignore' in entity mapping\n   * #2965 Fix possible issue with logging for Linq Readonly tests\n   * #2963 Time is incompatible with bigint for TimeAsTimeSpanType\n   * #2937 NRE in linq processing of custom components\n   * #2928 Session.Refresh when entity is IFieldInterceptorAccessor throws a MappingException\n   * #2904 SQL query result not retrieved from second level cache\n   * #2876 Schema validation not working with NpgSql v5\n   * #2862 NHibernate AsyncReaderWriterLock stalls under load\n   * #2727 The session.Load(obj, id) overload can't handle proxies\n\n** Task\n\n   * #3019 Release 5.3.11\n   * #2984 Bump AsyncGenerator to 0.18.3 for 5.3 branch with fix for .net 6\n\nBuild 5.3.10\n=============================\n\nRelease notes - NHibernate - Version 5.3.10\n\n11 issues were resolved in this release.\n\n** Bug\n\n   * #2891 Fix nullable entity comparison with null and implicit/cross joins\n   * #2885 Do not serialize unnecessary members in SessionFactory\n   * #2882 Fix ArgumentNullException when provider is unable to open a connection\n   * #2871 If DbTransaction.Dispose throws an exception, the AdoTransaction is left in an inconsistent state\n   * #2860 Null reference when calling Trim() on interpolated string containing null property\n   * #2858 Casting to object and back to interface in Subquery causes incorrect SQL\n   * #2856 Distinct on Composite User Type property fails\n   * #2855 Error log from ReflectHelper.TypeFromAssembly() on Linq query\n   * #2611 One-to-zero-or-one relation not returning data when checking for null\n   * #1962 Failing Linq query on element index\n\n** Task\n\n   * #2915 Release 5.3.10\n\nBuild 5.3.9\n=============================\n\nRelease notes - NHibernate - Version 5.3.9\n\n11 issues were resolved in this release.\n\n** Bug\n\n   * #2835 Fix ExecuteWorkInIsolation ignores MultiTenancy configuration\n   * #2811 Remove session finalizer\n   * #2805 Model not mapped Exception\n   * #2802 ArgumentException on session Flush\n   * #2792 Arithmetic operations adding casts to SQLite that cause incorrect results\n   * #2791 Custom Equality Fails\n   * #2772 LINQ query returns NULL instead of expected result\n\n** Test\n\n   * #2841 Fix possible test failure for SqlServer 2019\n   * #2814 Fix intermittent Firebird test errors\n   * #2812 Replace Travis CI with GitHub Actions\n\n** Task\n\n   * #2837 Release 5.3.9\n\nBuild 5.3.8\n=============================\n\nRelease notes - NHibernate - Version 5.3.8\n\n6 issues were resolved in this release.\n\n** Bug\n\n   * #2710 Filtered Entity Dml Update Throws Collection was modified\n   * #2708 MappedAs throws when called on a Convert UnaryExpression\n   * #2707 Don't currently support idents of type X\n   * #2673 Exception when using BinaryFormatter to deserialize entities with initialized proxies in associations\n   * #1264 NH-3005 - NHibernate.Hql.Ast.HqlIdent..ctor throws Don't currently support idents of type Date\n\n** Task\n\n   * #2721 Release 5.3.8\n\nBuild 5.3.7\n=============================\n\nRelease notes - NHibernate - Version 5.3.7\n\n5 issues were resolved in this release.\n\n** Bug\n\n   * #2704 IEnhancedUserType from string to bool fails in some circumstances\n   * #2702 LINQ projection of nullable enum with list fails\n   * #2693 Invalid parameter conversion with group by\n   * #2688 NoViableAltException in a delete on a many-to-one id\n\n** Task\n\n   * #2701 Release 5.3.7\n\nBuild 5.3.6\n=============================\n\nRelease notes - NHibernate - Version 5.3.6\n\n12 issues were resolved in this release.\n\n** Bug\n\n   * #2659 IQueryable<T> filter by subquery gives \"Item with Same Key has already been added\"\n   * #2649 Invalid parameter conversion for enums mapped in sub-classes\n   * #2646 Invalid generated sql with linq any in select and composite keys\n   * #2642 Linq expression parser removes required Convert nodes\n   * #2631 IndexOutOfRange exception with One-to-One mapping\n   * #2627 Null reference on Merge for detached unsaved entity\n   * #2626 WHERE IN SELECT uses wrong column\n   * #2608 Delay entity insert may fail with Merge\n   * #2544 Recognition error occurs using System.Linq.Queryable.Contains\n\n** Improvement\n\n   * #2677 Missing ConfigureAwait in FutureEnumerable.GetEnumerableAsync\n   * #2656 Make sure dbcommand is disposed\n\n** Task\n\n   * #2676 Release 5.3.6\n\nAs part of releasing 5.3.6, one missing 5.3.0 possible breaking change has been added, about\nMerge no more triggering immediate generation of identifier. See 5.3.0 possible breaking changes.\n\nBuild 5.3.5\n=============================\n\nRelease notes - NHibernate - Version 5.3.5\n\n2 issues were resolved in this release.\n\n** Bug\n\n   * #2599 WrongClassException in Linq query\n\n** Task\n\n   * #2606 Release 5.3.5\n\nBuild 5.3.4\n=============================\n\nRelease notes - NHibernate - Version 5.3.4\n\n6 issues were resolved in this release.\n\n** Bug\n\n   * #2580 InvalidWithClauseException when join polymorphic entity\n   * #2559 Regression in caching linq query with ThenFetchMany statement.\n   * #2549 ApplyFilter does not work on join statements in LINQ\n   * #2537 Unable to cast \"System.Linq.Expressions.UnaryExpression\" to \"System.Linq.Expressions.LambdaExpression\".\n\n** Task\n\n   * #2578 Add missing possible breaking changes for #2365\n   * #2587 Release 5.3.4\n\nAs part of releasing 5.3.4, one missing 5.3.0 possible breaking change has been added, about\ncustom method generators for Linq. See 5.3.0 possible breaking changes.\n\nBuild 5.3.3\n=============================\n\nRelease notes - NHibernate - Version 5.3.3\n\n16 issues were resolved in this release.\n\n** Bug\n\n   * #2519 Fix parameter caching for Linq provider\n   * #2515 InvalidCastException for Linq query with subquery\n   * #2514 Entity with field interceptor are not correctly passed as Linq parameters\n   * #2512 Linq queries with a condition after a projection on a collection fail\n   * #2511 Linq Fetch over component after fetching a many-to-one throws exception\n   * #2508 OnPreUpdateCollection - Passed entity instance X is not of expected type Y\n   * #2499 Cast operation fails when an enum is mapped as an AnsiString\n   * #2490 Unnecessary cast in sql with Linq are causing performance issues\n   * #2488 Fix parameter detection for Equals and CompareTo methods for Linq provider\n   * #2485 Throw entity not mapped exception for entity join in hql if possible\n   * #2484 Entity Joins are not polymorphic in hql\n   * #2476 Hashset add returns true instead of false\n   * #2474 Fetch all lazy properties when entity is already loaded fails\n   * #2471 AsQueryable() on collection throws if applied after Where statement\n\n** Task\n\n   * #2482 Add missing possible breaking changes for #2010\n   * #2527 Release 5.3.3\n\nAs part of releasing 5.3.3, two missing 5.3.0 possible breaking changes have been added, about\nuninitialized extra lazy collections and SQLite schema validation. See 5.3.0 possible breaking changes.\n\nBuild 5.3.2\n=============================\n\nRelease notes - NHibernate - Version 5.3.2\n\n6 issues were resolved in this release.\n\n** Bug\n\n   * #2468 Null reference at NHibernate.Util.AsyncReaderWriterLock.ReadLock()\n   * #2465 Linq contains on a value collection is failing\n   * #2463 Path expected for join\n   * #2458 Evaluatable expressions with parameters are no more pre-evaluated\n   * #2453 Fail to cast enum as nvarchar for Linq Contains\n\n** Task\n\n   * #2472 Release 5.3.2\n\nBuild 5.3.1\n=============================\n\nRelease notes - NHibernate - Version 5.3.1\n\n7 issues were resolved in this release.\n\n** Bug\n\n   * #2445 LINQ queries with a cast from int to uint fail\n   * #2440 InvalidCastException for Future Criteria with aliased fetches \n   * #2439 Invalid parameter conversion for enums\n   * #2437 Invalid cast on nullable custom type with Linq\n\n** Task\n\n   * #2450 Release 5.3.1\n   * #2436 Fix old http://nhibernate.info URIs\n   * #2435 Fix iconUrl warning\n\nBuild 5.3.0\n=============================\n\nRelease notes - NHibernate - Version 5.3.0\n\n220 issues were resolved in this release.\n\n    ##### Possible Breaking Changes #####\n        * A distributed cache may hold conflicting timestamps after upgrade for as much as twelve hours.\n          Consider flushing a distributed cache after upgrade to avoid any issue. Do not share a distributed\n          cache with applications using an earlier version of NHibernate.\n        * The counter id generator may generate conflicting ids for as much as twelve hours after upgrade.\n        * `update` and `delete` statements will now take into account any enabled filter on the entities\n          they update or delete, while previously they were ignoring them. (`insert` statements will also take\n          them into account, but previously they were failing instead of ignoring enabled filters.)\n        * ISession.Persist and ISession.Merge will no more trigger immediate generation of identifier.\n        * Bags will no more be loaded with \"null\" entities, they will be filtered out.\n        * Setting the value of an uninitialized lazy property will no more trigger loading of all the lazy\n          properties of the entity.\n        * If an uninitialized lazy property has got its value set, without any other subsequent lazy property\n          load on the entity, a dynamic update will occur on flush, even if the entity has dynamic updates\n          disabled. This update will occur even if the set value is identical to the currently persisted\n          property value.\n        * Assigning an uninitialized proxy to a `no-proxy` property will no more trigger the proxy\n          initialization. Moreover, reading the property afterwards will no more unwrap the assigned proxy,\n          but will yield it.\n        * A class having an explicitly implemented interface declaring a member with the same name than the\n          class id will have its proxies trigger a lazy load if the interface \"id\" is accessed.\n        * SQLite: in order to avoid a floating point division bug losing the fractional part, decimal are now\n          stored as `REAL` instead of `NUMERIC`. Both are binary floating point types, excepted that `NUMERIC`\n          stores integral values as `INTEGER`. This change may cause big integral decimal values to lose more\n          precision in SQLite.\n        * SQLite: non supported SQL type names previously used by NHibernate, resulting in unexpected actual typing,\n          have been fixed. This causes databases generated by a previous NHibernate version to fail schema validation\n          by 5.3 or higher versions. See #2507 for more information.\n        * Custom dialects used for databases that do not support cross join will have to override\n          `SupportsCrossJoin` property and set it to `false`.\n        * `VisitorParameters.ConstantToParameterMap` may contain the same parameter for multiple constant\n          expressions.\n        * `ICache` caches yielded by the session factory will be `CacheBase` wrappers around the cache actually\n          provided by the cache provider, if it was not deriving from `CacheBase`.\n        * Calling `IList.RemoveAt` or `IList<>.RemoveAt` on an uninitialized list with a negative number\n          will now throw an `ArgumentOutOfRangeException`.\n        * Calling `IList.RemoveAt` or `IList<>.RemoveAt` on an uninitialized list mapped as `lazy=\"extra\"`\n          with a number that is equal or higher that the current collection size will now throw an\n          `ArgumentOutOfRangeException`.\n        * Calling `IList.Insert` or `IList<>.Insert` on an uninitialized list with a negative number will\n          now throw an `ArgumentOutOfRangeException`.\n        * Calling `IList.Insert` or `IList<>.Insert` on an uninitialized list mapped as `lazy=\"extra\"`\n          with a number that is higher that the current collection size will now throw an \n          `ArgumentOutOfRangeException`.\n        * Getting or setting a value with `IList.this[int index]` or `IList<>.this[int index]` on an uninitialized\n          list with a negative number will now throw an `ArgumentOutOfRangeException`.\n        * Setting a value with `IList.this[int index]` or `IList<>.this[int index]` on an uninitialized list\n          mapped as `lazy=\"extra\"` with a number that is equal or higher that the current collection size will now\n          throw an `ArgumentOutOfRangeException`.\n        * Calling `IDictionary<,>.Add` or `ICollection<>.Add` on an uninitialized map mapped as `lazy=\"extra\"` with\n          a key that already exists will now throw an `ArgumentException`.\n        * Calling `IDictionary<,>.Remove` or `ICollection<>.Remove` on an uninitialized map mapped as `lazy=\"extra\"`\n          with a key that does not exist will now return false.\n        * Map dirtiness is now evaluated by `EqualityComparer<TValue>.Default` when setting an existing key value\n          with `IDictionary<,>.this[]` on an initialized map.\n        * Calling `ISet<>.Add` on an uninitialized set mapped as `lazy=\"extra\"` with a transient element that\n          already exists in the set will now return false.\n        * Calling `ISet<>.Add` or `ICollection<>.Add` on an uninitialized set mapped as `lazy=\"true\"` with a\n          transient element that does not override `Equals` method will not initialize the collection.\n        * Linq custom generators deriving from `BaseHqlGeneratorForMethod` should override the\n          `TryGetCollectionParameter` method if they have to support parameter lists.\n\n** Bug\n\n   * #2425 NRE with nullable subselect value in Linq\n   * #2421 Chapter 26: Best Practices, error about identifier recommendations\n   * #2410 Second level cache failures with CoreMemoryCaches\n   * #2380 OData NotSupportedException MemberInit on base class member\n   * #2365 Add Linq parameter type detection\n   * #2346 Fix SQLite typing\n   * #2336 Intermittent null reference exception on CloseConnection\n   * #2324 Update IIsEntityDecider to use ExpressionsHelper.TryGetMappedType\n   * #2319 Upgrade AsyncGenerator to 0.18.1\n   * #2299 Proper query plan caching for DML LINQ queries\n   * #2286 Wrong sql if used joined-subclass with filters for key columns\n   * #2278 IInterceptor.OnPrepareStatement results not used in insert/update commands\n   * #2266 Fix comment for Restrictions.IsEmpty\n   * #2255 Fix a flaky test\n   * #2245 Add sqlite.binaryguid to configuration schema\n   * #2244 SelectMany Linq extension does not work correctly - subsequent FetchMany fails\n   * #2233 Fix possible issue with async code for delayed entity inserts\n   * #2231 Invalid alias name used in Linq Joins\n   * #2222 NHibernate query plan for Linq Dml is not cached\n   * #2219 Fix BuildTool output path\n   * #2215 Fix ShowBuildMenu.sh\n   * #2181 Skip null entities when bag is populated\n   * #2164 Do not call GC.SuppressFinalize from finalizer thread\n   * #2158  Proper support for IN clause for composite values in Criteria\n   * #2147 Improve async locking\n   * #2144 AdoTransaction memory leak (5.2.5)\n   * #2137 NullReferenceException in EntityEntry.GetLoadedValue  on an update of a never loaded detached entity\n   * #2099 \"Composite Index\" not working with inheritance\n   * #2088 Fix cacheable CreateSQLQuery throws on query with AddJoin\n   * #2085 Duplicated methods generated in proxies\n   * #2067 Wrong proxy built for base class with interfaced sub-classes\n   * #2064 One-to-one properties not appearing in Select() projection result set\n   * #2053 Dml Style Update fails with static where sql in mapping\n   * #2038 Fix a typo on the memcached distributed cache description in the docs\n   * #2029 Incorrect SQL for cast inside an aggregate (MS SQL)\n   * #2019 Update symbol package format and add Sourcelink\n   * #2000 Fixed Equals method for transformers\n   * #1997 Fix criteria collection ordering\n   * #1994 Extra Select for every \"outfiltered\" Element\n   * #1993 InvalidCastException when merging a collection with a lazy property\n   * #1985 DateTime.xxxx are not supported in SelectGroup\n   * #1965 Fix code sample in docs, section 10.4.2\n   * #1956 Fix lazy property caching\n   * #1921 DML insert fails when a filter is enabled\n   * #1738 Refresh of locally removed collection item crashes with \"instance was not in a valid state\"\n   * #1480 Fix cache build for honoring mapped concurrency\n   * #1368 NH-3778 - Crash when performing a Linq query on a one-to-one mapped reference\n   * #1341 NH-3848 - Child collection fetched using left outer join with on clause or where clause restrictions on fetched collection shouldnât be stored in second level cache.\n   * #1319 NH-3549 - BasicFormatter throws exceptions for certain types of data containing \"signal words\"\n   * #1312 NH-3493 - Cannot use alias between more than 1 level of nested queries\n   * #1310 NH-3478 - StatefulPersistenceContext.RemoveEntity KeyNotFoundException on Evict\n   * #1309 NH-3469 - Impossible to load one-to-one association with LINQ for composite-id\n   * #1274 NH-3117 - Query on one-to-one property returns incorrect results\n   * #1263 NH-2991 - Criteria withClause doesn't work in case of many to many collections\n   * #1228 NH-2648 - HQL with joins in sub-select creates wrong SQL\n   * #1206 NH-1761 - Criteria query inserts an extra order by expression when using JoinType.LeftOuterJoin and Projections\n   * #1158 NH-3492 - SqlClientBatchingBatcher incorrectly ignoring per-SessionFactory Settings properties\n   * #1128 NH-3210 - NHibernate Linq Provider does cross join or left outer join and not inner join (even if outer-join=false on many-to-one mapping)\n   * #1124 NH-3155 - Linq subquery with group is not supported\n   * #1125 NH-3178 - Exception when using one-to-one properties in a criteria projections\n   * #1117 NH-3079 - Cannot use a sql custom loader with a composite ID\n   * #1107 NH-2983 - Coalesce in projection doesn't work if there is more than 1 Coalesce\n   * #1103 NH-2926 - CriteriaQuery - Unable to sort by composite-id\n   * #1100 NH-2892 - The <key /> columns containing reserved words are not quoted\n   * #1059 NH-1001 - Select statement issued for each not-found=ignore\n   * #1047 NH-3865 - Swallowed ArgumentNullException with dynamic composite id\n   * #1015 NH-2951 - Missing alias in hql update (select) statement with joined subclasses\n   * #1006 NH-2714 - Properties mapped inside a <properties> group are not set when retrieving object\n\n** New Feature\n\n   * #2411 Add an option to register a custom pre-transformer for a Linq query\n   * #2392 Add locate support for SQLite\n   * #2362 Add support for lt, gt, le, ge oData operators on strings\n   * #2349 Add support for Oracle binary floating point types\n   * #2347 Support fetching individual lazy properties for Criteria EntityProjection\n   * #2327 Add cross join support for Hql and Linq query provider\n   * #2313 Add overloads to ISession.Get taking both an entityName and a lockMode\n   * #2259 Schema auto-update should throw errors\n   * #2221 Support MemberInit expression in group by\n   * #2216 Add a driver to support Microsoft.Data.SqlClient provider\n   * #2209 IN clause support in hql for composite keys on databases without row value constructor support\n   * #2156 Support basic arithmetic operations (+, -, *, /) in QueryOver\n   * #2135 Support OData GroupBy/Aggregate\n   * #2116 Ability to replace ConfigurationManager with a custom config provider\n   * #2108 Multi-Tenancy: Implement tenant per Database strategy\n   * #2107 Port Hibernate's Aggregate functions for subqueries\n   * #2106 Port Hibernate's support subqueries in HQL as CASE statement alternatives\n   * #2100 Allow to override default types with length or precision parameters\n   * #2097 Add support for fetching an individual lazy property with Criteria\n   * #2090 Add support for caching fetched relations with Criteria\n   * #2080 Add ability to set custom collection type as a string in mapping by code\n   * #2049 Fix property-ref ignoring not-found=\"exception\" mapping\n   * #1949 Port Hibernate's lazy attribute fetch groups\n   * #1922 Add support for fetching an individual lazy property with hql and linq provider\n   * #1861 Lazy loading and Eager initialization for Component\n   * #1376 Composite id is incorrectly expanded in SQL\n   * #1195 NH-4078 - LINQ fetched collections aren't cached\n   * #981 NH-3873 - Explicit joins on unrelated classes\n   * #959 NH-4048 - Support non-deterministic/db-side-only methods in Linq\n   * #896 NH-1432 - Expression.Sql should support aliases other than {alias}\n\n** Improvement\n\n   * #2404 Allow overriding default CastFunction\n   * #2401 Optimize JoinWalker.WhereString method\n   * #2399 Optimize PersistentGenericBag.EqualsSnapshot\n   * #2394 Optimize PersistentGenericSet snapshot\n   * #2352 Improve performance of ReflectHelper.GetMethod/Definition\n   * #2350 Optimize LINQ batch item processing for queries with overridden result type\n   * #2316 Add multiple arguments support for ISQLFunction\n   * #2315 Add SetFlushMode for QueryOver and Linq\n   * #2295 Optimize filter applying logic\n   * #2287 Allow customizing 'alias to bean' property not found behavior\n   * #2284 Make persistent collection classes implement the IReadOnly* interfaces\n   * #2270 IQueryOver<T> is lacking some options\n   * #2254 Add dev build version suffix\n   * #2249 Improve handling of SqlCeParameter.SqlDbType\n   * #2248 Remove most RemoveAsAliasesFromSql usages\n   * #2241 Avoid duplicating parameters in LINQ query\n   * #2238 Call generic query.List from Linq queries\n   * #2235 Configure log4net from embedded resource log4net.xml in tests\n   * #2232 Use SqlStringBuilder for batching Future/QueryBatch queries\n   * #2226 Use DateTime.UtcNow for timestamps\n   * #2225 Avoid unnecessary locking via MethodImplOptions.Synchronized\n   * #2223 Short-Circuit SessionFactoryImpl.Close() when already closed\n   * #2214 Allow configuring auto-join transaction globally\n   * #2213 Add a shortcut to reduce Transaction.Current reads\n   * #2211 Port SupportsRowValueConstructorSyntaxInInList values\n   * #2182 Upgrade AsyncGenerator to 0.17.1\n   * #2166 Optimize usages of SqlString.Append\n   * #2163 Add virtual DefaultQueryProvider.CreateWithOptions\n   * #2162 Use collection types for private members\n   * #2161 Optimize ToArray conversions\n   * #2159 Unify handling of composite values in hql and Criteria\n   * #2153 Use generic parameters in ActionQueue\n   * #2139 Add ability to set fetch for <one-to-one> mapping in mapping by code\n   * #2131 Create Stopwatch only if stats is enabled\n   * #2126 Upgrade AsyncGenerator to 0.14.0\n   * #2125 Skip logger default initialization logic when logger provided by user\n   * #2123 Use Assert.Throws instead of try-catch in tests\n   * #2119  Obsolete interfaces for Loquacios configuration and use config classes directly\n   * #2117 Replace array concatenation with hand written append\n   * #2115 Statefull Session commit performance issue when nothing changed and second level cache with query cache enabled\n   * #2091 Obsolete StringHelper.Join\n   * #2084 Improve one-to-one handling in queries\n   * #2082 Use entities prepared by Loader in hql select projections\n   * #2078 Avoid unnecessary join for entity comparisons in with clause\n   * #2071 Support subclass mapping with EntityName based base class mapping\n   * #2061 Reduce cast usage for COUNT aggregate and add support for Mssql count_big\n   * #2058 DB2 dialect enhancements\n   * #2056 Optimize GetOrphans and remove wrong checks from IsNotTransientSlow\n   * #2041 Hql entity join fixes\n   * #2039 Use generic CollectingNodeVisitor in hql parser\n   * #2036 Reduce cast usage for aggregate functions\n   * #2032 Allow using ON instead of WITH in hql\n   * #2024 Refactor to simplify netfx retargeting\n   * #2022 Make CancellationToken optional for async Linq DML queries\n   * #2010 Add new collection operation queue mechanism\n   * #2009 Add support for IDictionary<string, object> to IQuery.SetProperties\n   * #2007 Dispose session in cascade tests\n   * #2006 Skip Topological sorting if not required\n   * #2003 Avoid some cases of Type -> string -> Type conversion in Mapping By Code\n   * #2002 Refactor DependentAlias handling logic in JoinWalker\n   * #1999 Optimize DistinctRootEntityResultTransformer\n   * #1989 Optimize ProxyCacheEntry equality for the same instance\n   * #1988 Improve exception on user types lacking some interfaces\n   * #1984 Reduce SessionIdLoggingContext creation\n   * #1981 Remove AbstractLazyInitializer unused field\n   * #1979 Refactor sequential select\n   * #1977 Obsolete IDeserializationCallback from EntityKey\n   * #1972 Port Hibernate's EntityKey optimization\n   * #1968 Optimize StaticProxyFactory GetProxy and GetFieldInterceptionProxy methods\n   * #1955 Optimize batchable cache calls for cached queries\n   * #1947 Partially port Hibernate's current field interceptor mechanism\n   * #1946 Port Hibernate's BytecodeEnhancementMetadata\n   * #1944 Extend IAccessOptimizer to support getting/setting single property value\n   * #1943 Skip initialization of lazy properties when setting one\n   * #1923 Obsolete StringHelper.Replace\n   * #1860 LINQ \"==\" operator generates OR with IS NULL\n   * #1754 Delay entity insert on Persist until session is flushed\n   * #1627 Refactored session List<T> method  for Criteria\n   * #913 NH-3704 - Allow Setting Dynamic Component Templates From Dictionary\n   * #864 NH-2379 - Add support of Left Joins to Linq Provider\n   * #803 NH-2521 - Session.EnableFilter method should work for HQL-DML statement\n   * #780 NH-1200 - Exception occurs when using criteria exist queries\n   * #767 NH-3892 - Add ability to coalesce using a property instead of a constant\n   * #722 NH-1953 - Support Future for collection filters\n   * #476 Eliminated double Persister resolution in Loader.InstanceNotYetLoaded flow\n\n** Task\n\n   * #2433 Improve slightly mapping documentation\n   * #2432 Document the caches configuration providers\n   * #2430 Document cache.serializer setting of CoreDistributedCache\n   * #2397 Update GitReleaseManager\n   * #2391 Use latest Firebird for AppVeyor and Travis\n   * #2388 Release 5.3\n   * #2382 Refactor debug logging in AbstractBatcher\n   * #2381 Use optimized Dictionary.Remove(key, out value) in .NET Core \n   * #2379 Simplify swap items logic in LINQ Visitors\n   * #2377 Use dotnet to push packages to nuget\n   * #2376 Add MyGet gallery link to readme\n   * #2368 Replace SafetyEnumerable<T> with OfType<T> where applicable\n   * #2363 Upgrade AsyncGenerator to 0.18.2\n   * #2356 Obsolete IdentitySet class\n   * #2354 Do not require Mono to build on not Windows \n   * #2353 Update Microsoft.SourceLink.GitHub to 1.0.0\n   * #2351 Get rid of JoinedEnumerable<T> and SingletonEnumerable<T>\n   * #2348 Use static ReferenceComparer for reference comparisons\n   * #2308 Merge 5.2.7\n   * #2294 Add StackExchangeRedis cache provider documentation\n   * #2293 Update RtMemoryCache framework dependency\n   * #2265 Fix code style issues\n   * #2251 Publish development nightly builds on nuget\n   * #2205 Merge 5.2.6\n   * #2171 Upgrade NUnit\n   * #2122 Update AsyncGenerator to 0.13.3\n   * #2016 Avoid recursive calls in BatchFetchQueue\n   * #2014 Obsolete Environment.Properties\n   * #1973 Investigate licenseUrl deprecation\n   * #1971 Add SourceLink to allow NuGet package debugging\n   * #1940 Allow to provide dev specific properties in NHibernate.dev.props\n   * #1936 Upgrade AsyncGenerator to 0.13.1\n\n** Tests\n\n   * #2384 Tests to verify NH-2329 is obsolete\n   * #2360 Add OData test for single property $expand\n   * #2089 Bidirectional list fails if session only knows about child\n   * #2066 Tests for proxy interface handling\n   * #1966 Test duplicated join on some Linq queries\n\nBuild 5.2.7\n=============================\n\nRelease notes - NHibernate - Version 5.2.7\n\n4 issues were resolved in this release.\n\n** Bug\n\n   * #2302 Backport sqlite.binaryguid to configuration schema\n   * #2298 Dml Linq Update Produce Wrong Sql\n   * #2296 Missing Row Count in Debug Log for Future queries\n\n** Task\n\n   * #2303 Release 5.2.7\n\nBuild 5.2.6\n=============================\n\nRelease notes - NHibernate - Version 5.2.6\n\n11 issues were resolved in this release.\n\n** Bug\n\n   * #2190 Cannot instantiate a SessionFactory using Prevalence cache\n   * #2177 New Fetch() method in QueryOver returns IQueryOver<> instead of QueryOver<>\n   * #2172 Using DependentTransaction fails\n   * #2175 Subcriteria on component collection generates incorrect join alias \n   * #2173 Futures not batching correctly in NH 5.2.x\n   * #2141 Undefined call to Equals object in collection during flush just before commit \n   * #2127 StackExchangeRedisCache with PreferMultipleGet = true calls GetMany multiple times\n   * #2110 Wrong GUID to string conversion with SQLite  BinaryGuid=False\n\n** Task\n\n   * #2200 Release 5.2.6\n   * #2199 Upgrade AsyncGenerator to 0.8.2.12\n\n** Tests\n\n   * #2132 Add GetMany for ReadWriteCache tests\n\nBuild 5.2.5\n=============================\n\nRelease notes - NHibernate - Version 5.2.5\n\n5 issues were resolved in this release.\n\n** Bug\n\n   * #2075 Missing cast when comparing a guid and string columns in SAP SQL Anywhere\n   * #2046 Fix nullable Guid ToString is not translated correctly on some dialects\n   * #2043 System.Reflection.TargetException when an interface is used as class mapping proxy definition\n   * #2040 Incorrect SQL when comparing a guid and string column in Sql Server\n\n** Task\n\n   * #2086 Release 5.2.5\n\nBuild 5.2.4\n=============================\n\nRelease notes - NHibernate - Version 5.2.4\n\n3 issues were resolved in this release. The dialect change has the side effect of\nre-enabling a hack used by NHibernate.Spatial, allowing Spatial users to upgrade\nto NHibernate 5.2.x. See NHibernate.Spatial#104.\n\n    ##### Possible Breaking Changes #####\n        * Using DML on an entity collection was applying the changes without\n          filtering according to the entity. It will now throw a\n          NotSupportedException.\n\n** Bug\n\n   * #2020 Throw for DML on filter\n   * #2011 Use a statically resolved dialect when building the session factory\n\n** Task\n\n   * #2030 Release 5.2.4\n\nAs part of releasing 5.2.4, a missing 5.2.0 possible breaking change has been added about\nproperty-ref on null values. See 5.2.0 possible breaking changes.\n\nBuild 5.2.3\n=============================\n\nRelease notes - NHibernate - Version 5.2.3\n\n1 issue was resolved in this release.\n\n** Bug\n\n   * #1964 Unable to serialize session because SerializationFieldInfo is not marked as serializable\n\nBuild 5.2.2\n=============================\n\nRelease notes - NHibernate - Version 5.2.2\n\n3 issues were resolved in this release.\n\n** Bug\n\n   * #1953 Query space invalidation doesn't work for bulk actions\n   * #1269 NH-3069 - Cannot use Session.Lock with Version column on abstract base class\n\n** Task\n\n   * #1957 Release 5.2.2\n\nBuild 5.2.1\n=============================\n\nRelease notes - NHibernate - Version 5.2.1\n\n5 issues were resolved in this release.\n\n** Bug\n\n   * #1928 JoinAlias on JoinQueryOver fails\n   * #1920 ISession.Get may fail with a null exception\n   * #1918 Property-ref on many-to-one with composite id fails\n\n** Task\n\n   * #1932 Release 5.2.1\n   * #1927 Add missing possible breaking change\n\nAs part of releasing 5.2.1, a missing 5.2.0 possible breaking change has been added about duplicated columns\nin mapping. See 5.2.0 possible breaking changes.\n\nBuild 5.2.0\n=============================\n\nRelease notes - NHibernate - Version 5.2.0\n\n157 issues were resolved in this release.\n\n    ##### Possible Breaking Changes #####\n        * Entities having many non-readonly properties (including many-to-one) mapped to\n          the same column will no more silently ignore the trouble till an insert or update\n          is attempted. They will now cause the session factory built to fail. When\n          mapping many properties to the same column, all of them excepted at most one\n          should be mapped with `insert=\"false\" update=\"false\"`.\n        * Mappings mixing column elements and formula elements were taking into account\n          only the formula elements. They will now take into account all elements.\n        * Mappings mixing column elements and/or formula elements with a column attribute\n          or a formula attribute were silently ignoring the attribute. They will now throw.\n        * Mappings mixing a column attribute and a formula attribute were silently doing\n          some best effort logic, either considering this as a two columns mapping, the\n          second one being the formula (most cases), or only taking into account the\n          formula (case of the `<element>` mapping). They will now throw.\n        * NHibernate StringType has gained case-sensitivity and culture parameters.\n          Previously it was ignoring parameters. This type may change its behavior\n          for any mapping having defined parameters for this type. See #1833.\n        * Mapping a dynamic component with a Hashtable property instead of an\n          IDictionary is no more supported.\n        * Querying a dynamic entity as a Hashtable instead of an IDictionary is no more\n          supported.\n        * A collection mapped with a `property-ref` will no more support being accessed\n          when the referenced property is null. It will throw. Previously, the collection\n          was not throwing but was always loaded empty.\n        * With PostgreSQL, a HQL query using the bitwise xor operator \"^\" or \"bxor\"\n          was exponentiating the arguments instead. It will now correctly apply the xor\n          operator. (# operator in PostgreSQL SQL.)\n        * Auto-generated constraint names will not be the same than the ones generated\n          with previous NHibernate versions under .Net Framework. (Under .Net Core those\n          names were anyway changing at each run.) The new ones will be the same\n          whatever the runtime used for generating them.\n        * Some generated PK names may change, if a table name has a quoting symbol at\n          precise 13th character.\n        * The WcfOperationSessionContext has been removed from .Net Core and .Net\n          Standard builds. See #1842.\n        * Some classes, which were not serializing the session factory, do now serialize it.\n          In case of cross-process serialization/deserialization, these session factories\n          will need to be properly named, by setting the session_factory_name setting in the\n          configuration used to build them. This may mainly affect users of a distributed\n          second level cache, if their cache implementation uses binary serialization.\n          Affected classes are: CacheKey, CollectionKey, EntityKey and EntityUniqueKey.\n        * Some types cache representations have changed. Out-of-process second level\n          caches should be cleared after upgrading NHibernate, if some of those types\n          were cached. The concerned types are: CultureInfoType, TypeType, UriType,\n          XDocType, XmlDocType.\n        * Dialect.GetIdentitySelectString was called by the entity persisters with\n          inverted parameter values: the table name in the column parameter, and the\n          column name in the table parameter. No built-in dialects were using the\n          parameter values. External dialects which were using it inverted (causing issues\n          to collection persisters, which have always supplied them correctly) needs\n          to be accordingly adjusted.\n        * Users providing through an IObjectFactory some custom logic for instantiating\n          value types will now need to supply their own result transformer if they were\n          using AliasToBeanResultTransformer with value types, or their own entity\n          tuplizer if they were using value types as entities.\n        * Users providing through an IObjectFactory some custom logic for instantiating\n          their custom session contexts will have to implement\n          ICurrentSessionContextWithFactory and add a parameterless public constructor\n          to their custom context, and move their custom instantiation logic from\n          IObjectsFactory.CreateInstance(Type, object[]) to\n          IObjectsFactory.CreateInstance(Type).\n        * Various *Binding classes of NHibernate will now always have their protected\n          dialect field null. (These classes are not expected to be derived by users,\n          as there is no way to use custom descendants with NHibernate.)\n        * AbstractPersistentCollection.AfterInitialize does no more perform queued\n          operations. Queued operations are now run by a later call to a new method,\n          ApplyPendingOperations. Concrete custom implementations relying on the queued\n          operations to be done by their base AfterInitialize will need to be changed\n          accordingly.\n\n** Bug\n\n   * #1900 Do not generate FK on non-generated unique constraint\n   * #1888 Second level cache key mismatch\n   * #1886 Superfluous SQL casts generated in FirebirdClientDriver\n   * #1885 Process classes accordingly to inheritance path in mapping by code\n   * #1884 Fix attempt of static proxies to call base method for abstract classes\n   * #1874 Item in child collection not being removed\n   * #1872 Fix property ref handling\n   * #1870 Update build-menu options in documentation\n   * #1867 Fix registration of current_date for some dialects\n   * #1859 Fix filter & where fragment appended after lock hint\n   * #1855 Fix NotNullUnique not taken into account for single column\n   * #1849 Loquatious QueryCache constraint should be an IQueryCacheFactory constraint\n   * #1836 Cannot create configuration due to log4net loading failure\n   * #1824 property-ref on a component's property causes \"wrong number of columns\" error\n   * #1821 Allow using ICompositeUserType for collection element mappings in Mapping By Code\n   * #1818 Handle DbDataReaders that do not support GetSchemaTable\n   * #1812 Fix the <any/> handling without meta-values\n   * #1809 Update the mapping documentation\n   * #1799 Default value of 'proxyfactory.factory_class' in the documentation\n   * #1774 HQL and LINQ query by the type on with meta-type \"string\" fails\n   * #1769 Table mapping for UniqueColumn uses unstable GetHashCode() method\n   * #1764 Fix configuration schema forbidding custom bytecode provider\n   * #1760 Support formula on one-to-many map-key\n   * #1756 Fix unsaved-value for assigned identifiers\n   * #1753 Fix possible InvalidCastException in ActionQueue\n   * #1751 Avoid completing the same transaction twice\n   * #1748 Fix a bad setting naming about transaction scopes\n   * #1745 Remove obsoleted hibernate configuration prefix\n   * #1744 Reconnect lazy property proxy on deserialization\n   * #1737 Remove a binary breaking change introduced in #305\n   * #1728 Generate a correct proxy for interfaces\n   * #1727 Fix a null-ref exception with no-proxy one-to-one\n   * #1726 Fix serialization exception when run on .NET Core 2.1\n   * #1719 Cascade delete-orphan on no-proxy null association fails\n   * #1706 Entity Projection: Fixed AsEntity() for root entity\n   * #1704 GroupBy to custom class fails with ArgumentException\n   * #1696 Fixed CriteriaImpl.Clone for readonly query\n   * #1692 Update base_mapping.xml\n   * #1673 Bitwise xor treated as pow with PostgreSQL\n   * #1654 Fix the url to the quickstart of DocBook\n   * #1635 IdentitySelectString implementation is inconsistent\n   * #1612 Fix TypedValue not always using adequate comparer with SetParameterList\n   * #1609 Schema validation using SQLite and a specific schema fails\n   * #1366 NH-3506 - ICriteria/QueryOver create incorrect left join condition when table-per-hierarchy is used with filters\n   * #1358 NH-3992 - Intermediate inherited classes are not mapped correctly\n   * #1344 NH-3864 - Cacheable Multicriteria/Future'd query with aliased join throw exception\n   * #1339 NH-3823 - Initialization of Set with Lazy=Extra causes pending additions to disappear\n   * #1338 NH-3806 - Saving entities with proxy associations leads to fetching associated entities\n   * #1300 NH-3403 - Wrong parameter size in query with MsSql2000Dialect,MsSql2005Dialect and MsSql2008Dialect\n   * #1293 NH-3350 - Duplicate records using Future()\n   * #1278 NH-3189 - IManyToOneMapper lacks method to add columns AND formula into a single relationship\n   * #1214 NH-2180 - Many-To-Many with Property-ref fails to get subitems with FetchMode Join\n   * #1201 NH-1316 - PostgreSQL dialect use of lastval to retrieve last inserted \"id\" not safe with Triggers\n   * #1182 NH-3860 - Missing EntityName in IManyToOneMapper\n   * #1170 NH-3646 - Incorrect query when items removed from a collection of components contain null values\n   * #1163 NH-3545 - SchemaValidator fails for PostgreSql sequences\n   * #1151 NH-3426 - Wrong result when converting Guid to string\n   * #1121 NH-3095 - Cast from mapped long field to enum leads to 'Specified cast not valid'\n   * #1096 NH-2836 - SchemaValidator throws with SqlCe4 if db-schema set\n   * #1089 NH-2755 - LockMode hash differs in x86 and 64bit OS\n   * #1037 NH-3749 - Unnecessary comma in CREATE TABLE statement\n   * #1016 NH-3007 - Informix dialect generates incorrect boolean constants\n   * #1000 NH-2558 - NoViableAltException with boolean expression in OrderBy clause\n   * #990 NH-2016 - Duplicate Association Path when creating multiple aliases\n   * #460 Fix Criteria caching filtered collections\n\n** New Feature\n\n   * #1892 Allow disabling Firebird driver parameter casting\n   * #1879 LINQ Coalesce and Conditional on Properties\n   * #1854 Add SQL Anywhere 17 support\n   * #1848 Add in ByCode support of all type mappings on Id\n   * #1833 Parametrize string type comparer\n   * #1830 Add a Linux build menu\n   * #1796 Support CacheMode in QueryBatch\n   * #1786 Document future results\n   * #1772 Support futures with stateless session\n   * #1752 Async ISynchronization\n   * #1742 Add new DB2CoreDriver to use with IBM.Data.DB2.Core provider\n   * #1693 Implement SurrogateSelector\n   * #1690 Bitwise xor not supported by SQLite\n   * #1682 Add support for System.MathF methods\n   * #1662 Add support for SAP HANA\n   * #1633 Added support for batching 2nd level cache operations when loading entities and collections\n   * #1631 Create UtcTicks and UtcDbTimestamp types\n   * #1599 Full control of entities fetching in Criteria\n   * #1381 NHibernate's IQuery is missing AddSynchronizedQuerySpace\n   * #968 NH-2285 - Support for LockMode in linq provider\n   * #920 NH-3991 - Support for Sybase ASE ADO.NET 4 Provider\n   * #897 NH-2187 - ElementAt LINQ extension method is not supported.\n   * #838 NH-3805 - Add support for string indexer property (get_Chars)\n   * #819 NH-3088 - Support the item operator [] on lists in linq queries\n\n** Improvement\n\n   * #1908 Control over BeginTransaction in AdoTransaction\n   * #1905 Improve support of Npgsql 4\n   * #1901 Add ability to use dynamic entities as C# dynamic\n   * #1890 Merge two logs in one\n   * #1875 Improve exception message in case of duplicated column\n   * #1869 Replace an O(n) lookup in LINQ query parsing by an O(1) one\n   * #1846 Remove dependency on System.Security.Permissions package for .NET Standard and .NET Core\n   * #1842 Remove WcfOperationSessionContext from .Net Core and .Net Standard\n   * #1838 Cannot add HqlJoin to HqlFrom\n   * #1827 Include the query in loader PostInstantiate QueryException\n   * #1819 Append the batched sql statement when StaleStateException occurs\n   * #1814 Mark proxy assembly with IgnoresAccessChecksToAttribute to allow implementing non public interfaces\n   * #1808 Support mixed formulas and columns\n   * #1792 Obsolete HolderInstantiator\n   * #1788 Implement multiple get and put for query cache and query batch\n   * #1785 Update user types documentation\n   * #1782 Refactor BugTestCase\n   * #1781 Clean-up IObjectsFactory usages\n   * #1778 Allow to use dynamic objects as dynamic components\n   * #1777 Replace ICache interface by a CacheBase class\n   * #1776 Make cache types serialization friendly\n   * #1775 Start/Stop required db-service for TeamCity\n   * #1770 Make obsolete abstract virtual\n   * #1767 Allow generic dictionaries for dynamic entities\n   * #1765 Provide cacheable representations for all NHibernate built-in types\n   * #1762 Remove duplicated and obsolete interceptor documentation\n   * #1761 Update mapping documentation\n   * #1759 Support mixed formulas and columns in By Code\n   * #1736 Remove excessive rowIdAlias parameter in Loader\n   * #1713 Update contributing guidelines\n   * #1712 Support IEquatable in LINQ provider\n   * #1710 Rationalize DateTimeOffset read and write\n   * #1709 Lazy properties static proxy\n   * #1703 Remove dialect instantiation in AddDeserializedMapping\n   * #1700 Single place to specify TargetFrameworks\n   * #1699 Add ability to load types from in-memory-only assemblies\n   * #1698 Document setting the logger factory programmatically\n   * #1694 Implement CollectionHelper.GetHashCode that accepts IEqualityComparer\n   * #1689 Purge more Invariant culture usages\n   * #1671 Decouple configuration of IObjectsFactory from BytecodeProvider\n   * #1666 Handle multi-queries support in FutureBatch\n   * #1656 Allow any cache.* property in NHibernate configuration\n   * #1641 Add cross platform build for full .NET Framework\n   * #1452 Async After-/BeforeTransactionCompletion\n   * #874 NH-3543 - Enhanced Db2 driver to support multi query\n   * #865 NH-2428 - Session.MultiCriteria and FlushMode.Auto inside transaction\n   * #840 NH-3835 - Future/MultiCriteria 2nd level caching\n   * #822 NH-3150 - Select Post Insert Generator Improvements\n   * #755 NH-3670 - Dynamic component should allow generic dictionary\n   * #752 NH-3541 - Future queries of Criteria API/QueryOver are batched separately from other query methods\n   * #696 Upgrade to ReLinq 2.2.0\n   * #415 Add check to ensure that IUserCollectionType.Instantiate returns uninitialized collection\n\n** Task\n\n   * #1863 Release 5.2.0\n   * #1823 Run tests for SQLite on .NET Core\n   * #1783 Obsolete MultiQuery and MultiCriteria\n   * #1773 Obsolete unused version related methods of SByteType\n   * #1771 Obsolete unused \"xml\" type methods\n   * #1743 Merge 5.1.3 into master\n   * #1739 Upgrade to AsyncGenerator 0.8.2.7\n   * #1688 Merge 5.1.2 into master\n   * #1687 Update NUnit to 3.10.1\n   * #881 NH-3358 - Document all attributes for the element tag\n\n** Tests\n\n   * #1887 Test ref and out methods with static proxy\n   * #1724 NH-2716 - Modify test case for discarding the alleged bug\n   * #1584 Test Parent property is not accessible in queries\n   * #1531 Test for Merging a bidirectional list creates unnecessary UPDATE statement\n   * #1440 Test case for ComposedId Entity with Lazy Property is not proxified\n   * #1414 Test ISession.IsDirty() should not trigger cascade saving\n\nAs part of releasing 5.2.0, a misnamed setting in 5.0.0 release notes has been fixed:\ntransaction.use_connection_on_system_events correct name is transaction.use_connection_on_system_prepare\n\nBuild 5.1.7\n=============================\n\nRelease notes - NHibernate - Version 5.1.7\n\n** Bug\n    * #2298 Dml Linq Update Produce Wrong Sql\n\nBuild 5.1.6\n=============================\n\nRelease notes - NHibernate - Version 5.1.6\n\n** Bug\n    * #2172 Using DependentTransaction fails\n\nBuild 5.1.5\n=============================\n\nRelease notes - NHibernate - Version 5.1.5\n\n    ##### Possible Breaking Changes #####\n        * Using DML on an entity collection was applying the changes without\n          filtering according to the entity. It will now throw a\n          NotSupportedException.\n\n** Bug\n\n   * #2043 System.Reflection.TargetException when an interface is used as class mapping proxy definition\n   * #2020 Throw for DML on filter\n\n** Task\n   * #2074 Release 5.1.5\n\nBuild 5.1.4\n=============================\n\nRelease notes - NHibernate - Version 5.1.4\n\n** Bug\n\n   * #1959 Backport Query space invalidation doesn't work for bulk actions\n\nBuild 5.1.3\n=============================\n\nRelease notes - NHibernate - Version 5.1.3\n\n** Bug\n\n   * #1741 Fix DbType.Binary registration in DB2Dialect\n   * #1732 Dictionary failure in Loader\n   * #1730 Query cache always missed in session having altered the entities\n   * #1711 Fix static proxy serialization\n\n** Task\n\n   * #1716 Release 5.1.3\n\n\nBuild 5.1.2\n=============================\n\nRelease notes - NHibernate - Version 5.1.2\n\n** Bug\n\n   * #1680 RowCount not working with JoinEntityAlias\n   * #1672 Generated async methods do not correctly propagate OperationCanceledException\n   * #1667 Collection initializing with zero rows after update to NH5\n   * #1660 Wrong CopyTo implementation\n   * #1650 Cannot use cache.use_sliding_expiration in hibernate.cfg.xml\n   * #1585 Hashset unsupported by SetParameterList\n   * #1355 NH-3928 - Random invalid SQL generated when using bitwise operators\n\n** Task\n\n   * #1668 Merge 5.0.5 into 5.1.x\n   * #1664 Release 5.1.2\n   * #1659 Merge 5.0.4 into 5.1.x\n\nAs part of releasing 5.1.2, a missing 5.0.0 possible breaking change has been added about future queries with data\nproviders not actually supporting them. See 5.0.0 possible breaking changes.\n\n\nBuild 5.1.1\n=============================\n\nRelease notes - NHibernate - Version 5.1.1\n\n** Bug\n\n   * #1645 One-to-one with property-ref triggers StackOverflow Exception\n   * #1643 TypeLoadException in StaticProxyFactory after upgrading to 5.1.0\n   * #1640 Handle all overloads of String.Trim*()\n   * #1636 Fix api documentation assets path\n   * #1628 StackOverflowException for lazy proxied entities with explicit interface properties\n   * #1618 Fix NuGet push script\n   * #1149 NH-3391 - StatelessSession: one-to-one detail-object is always null\n\n** Improvement\n\n   * #1646 Add a link to release notes in NuGet package\n   * #1639 Speedup access to SQL Server on Linux\n   * #1624 Add missing ids on documentation sections\n   * #1619 Document \"entity join\" and \"entity projection\"\n\n** Task\n\n   * #1649 Release 5.1.1\n   * #1622 Update cache documentation\n   * #1621 Upgrade Async Generator to a version compatible with VS 15.6.3\n\n\nBuild 5.1.0\n=============================\n\nRelease notes - NHibernate - Version 5.1.0\n\n** Highlights\n    * NHibernate has gained two new target frameworks: .Net Core 2.0 and .Net Standard 2.0. NHibernate NuGet package\n      provides them, along with the .Net framework 4.6.1 build.\n      For these new frameworks, some additional specificities or limitations apply:\n      * Binary serialization is not supported - the user shall implement serialization surrogates for System.Type,\n        FieldInfo, PropertyInfo, MethodInfo, ConstructorInfo, Delegate, etc.\n      * SqlClient, Odbc, Oledb drivers are converted to ReflectionBasedDriver to avoid the extra dependencies.\n      * CallSessionContext uses a static AsyncLocal field to mimic the CallContext behavior.\n      * System transactions (transaction scopes) are untested, due to the lack of data providers supporting them.\n    * 114 issues were resolved in this release.\n\n    ##### Possible Breaking Changes #####\n        * Since Ingres9Dialect is now supporting sequences, the enhanced-sequence identifier generator will default to\n          using a sequence instead of a table. Revert to previous behavior by using its force_table_use parameter.\n        * Some overridable methods of the Dialect base class and of MsSql2000Dialect have been obsoleted in favor of\n          new methods. Dialects implementors need to override the replacing methods if they were overriding the\n          obsolete ones, which are:\n          * Dialect.GetIfNotExistsCreateConstraint(Table table, string name), replaced by\n            GetIfNotExistsCreateConstraint(string catalog, string schema, string table, string name).\n          * Dialect.GetIfNotExistsCreateConstraintEnd(Table table, string name), replaced by\n            GetIfNotExistsCreateConstraintEnd(string catalog, string schema, string table, string name).\n          * Dialect.GetIfExistsDropConstraint(Table table, string name), replaced by\n            GetIfExistsDropConstraint(string catalog, string schema, string table, string name).\n          * Dialect.GetIfExistsDropConstraintEnd(Table table, string name), replaced by\n            GetIfExistsDropConstraintEnd(string catalog, string schema, string table, string name).\n          * MsSql2000Dialect.GetSelectExistingObject(string name, Table table), replaced by\n            GetSelectExistingObject(string catalog, string schema, string table, string name).\n\n** Bug\n\n   * #1606 NHibernate 5 precision maximum on decimal reduced vs. NHibernate 4\n   * #1605 MySql batcher may attempt initiating a new batch without closing open reader first.\n   * #1604 MySql batcher disables db exception translation\n   * #1602 Preserve original snapshot mode.\n   * #1594 AsyncLocal leak in SystemTransactionContext\n   * #1587 Prevent substitute garbage collection\n   * #1565 For update with outer join fails with PostgreSQL\n   * #1562 Fix round registration\n   * #1559 Deep removal of Fetch result operators when Any is used\n   * #1556 Linq query with \"Contains\" on persistent collection fails\n   * #1551 Assert for a null reference in a flaky test.\n   * #1536 Avoid a null reference exception in ExpressionKeyVisitor\n   * #1535 Fix some HQL functions registration\n   * #1534 Fixed entity name retrieval for EntityProjection\n   * #1526 ExpressionKeyVisitor does not produce unique keys for anonymous types coming from different assemblies\n   * #1514 Fix exceptions serialization\n   * #1511 Test Unicode string.\n   * #1509 Add missing NHibernateLogLevel.Info in example web project\n   * #1507 NH-3119 - fix test not supporting optimization\n   * #1506 SQLite is bugged with distributed transactions: disable distributed tests\n   * #1505 Chaining scopes with ODBC is bugged: disabling the test.\n   * #1501 Fix NH-3023 test\n   * #1496 Fix ManyToOneType.IsModified to handle both object instance and identifier passed to the parameter âoldâ.\n   * #1491 Forgotten async generation for #1487\n   * #1486 Fix IsModified so that a null equates empty components when using select-before-update.\n   * #1484 Fix default types\n   * #1478 Exception when using envers with the latest logging changes\n   * #1476 Fix GetQueryCache storing two different caches.\n   * #1468 Comparison with DateTime? produces wrong SQL\n   * #1463 Fix a null reference case in session context\n   * #1454 Fix ProxyFactory cache\n   * #1445 Upgrade AsyncGenerator to 0.6.2 and regenerate.\n   * #1442 Unable to use an entity with a `FieldInterceptor` property and a lazy loaded property\n   * #1436 StackOverflowException when merging an entity with a lazy property\n   * #1434 Replace remaining SetOptions with WithOptions\n   * #1385 SecondLevelCache CreateSQLQuery().UniqueResult<int>() throws Exception Specified cast is not valid.\n   * #1372 NH-3982 - Simple query with Cacheable, Fetch and SingleOrDefault throws exception (regression from 3.3.0)\n   * #1371 NH-3898 - Configuring a property with generated=\"insert\" turns \"Property.IsUpdatable\" into\"false\" even using update=\"true\" in the xml mapping file.\n   * #1363 NH-2500 - NH 3.0 Linq provider uses query parameters from first call in subsequent calls.\n   * #1335 NH-3787 - Decimal truncation in Linq ternary expression\n   * #1330 NH-3673 - Closure variable values locked in from expressions in NHibernate LINQ provider\n   * #1226 NH-2534 - Join-fetching a many-to-one with property-ref results in select n+1 problem\n   * #1196 NH-4087 - Decimal truncation occurs after 5 digits\n   * #1119 NH-3084 - Class NHibernate.Loader.Loader logs SQL statement on INFO level\n   * #1052 NH-3976 - Inconsistent Decimal/NHibernateUtil.Currency handling causing runtime error when using Oracle.ManagedDataAccess\n   * #987 NH-1509 - MsSql2000Dialect does not use default schema when creating \"if exists\" statement\n   * #448 NH-1285 - Drop/Create script with default_schema/default_catalog fix(SqlServer)\n\n** New Feature\n\n   * #1588 Add a generic batcher for insert/update/delete statements, usable with PostgreSQL and others\n   * #1545 Support to join not associated entities in Criteria (aka Entity Join)\n   * #1451 New StaticProxyFactoryFactory\n   * #1403 Add timeouts support to MultiCriteria\n   * #1377 Logging refactoring\n   * #954 NH-3807 - Support for .NET Core 2.0\n   * #948 NH-3435 - Ability to select entities in Criteria projections\n   * #910 NH-3606 - Open a stateless session from a session\n   * #908 NH-3470 - Allow Linq Query to load entities as read-only\n\n** Improvement\n\n   * #1600 Set MySqlClientBatchingBatcher as a default batcher for MySqlDataDriver\n   * #1597 Add support for single-argument truncate to dialects that do not support it natively\n   * #1569 Modernize test example\n   * #1567 Avoid Trim().Length as empty check and ToLowerInvariant() in string comparison\n   * #1561 NAnt refactoring\n   * #1558 Improved collection batch fetching\n   * #1557 Aggregate named queries validation exceptions.\n   * #1555 Catch practices: avoid losing catched exception information.\n   * #1552 Obsolete UnmodifiableDictionary\n   * #1549 Remove an override which was doing the same thing as the base\n   * #1548 Add a missing short circuit in query parameter expansion.\n   * #1547 Double query translation\n   * #1546 Remove a redundant argument in Linq provider ExecuteQuery.\n   * #1543 Various string manipulation optimizations\n   * #1541 Cache subclass entity aliases in Loader\n   * #1537 Avoid unnecessary persister lookup in Loader\n   * #1529 Lazy mapping schema loading\n   * #1521 Enable warning as error for all projects and configurations\n   * #1519 Reuse SchemaExport in CreateSchema/DropSchema in tests\n   * #1515 Make NHibernateUtil.Initialize / IsInitialized better reusable for sub-projects like Envers\n   * #1504 More reliable SQLite handling in tests.\n   * #1502 Upgrade Iesi to 4.0.3 in order to use a release assembly\n   * #1498 Cease throwing bare Exception\n   * #1494 Update to Oracle installation instructions.\n   * #1490 Optimize empty arrays usages\n   * #1483 Clean-up of TypeFactory\n   * #1482 Refactored DefaultEntityAliases to avoid unnecessary calculations\n   * #1477 Reuse the same generic EmptyMapClass instance across the project\n   * #1475 Document expiration constraint on UpdateTimestampsCache region.\n   * #1467 Reduce the number of calls to UpdateTimestampsCache\n   * #1466 Obsolete EqualsHelper\n   * #1465 Obsolete EnumerableExtensions\n   * #1464 Obsolete ISessionImplementor.Initialize method\n   * #1449 Document IsDirty potential side effects\n   * #1441 Normalize TargetInvocationException unwrapping\n   * #1417 Table counter for aliases should be stable\n   * #1412 Store Linq query options in a query provider instead of a queryable\n   * #1391 Performance regression in SessionIdLoggingContext\n   * #843 NH-3879 - SequenceHiLoGenerator Jumps 1 number each lo > maxLo\n   * #842 NH-3869 - Add a way of adding comments into LINQ queries\n   * #837 NH-3804 - Register CHR/CHAR, NCHAR, UNICODE, and ASCII standard functions to the dialect(s)\n   * #831 NH-3515 - Support for Decimal.Round, Decimal.Ceiling, Decimal.Floor and other static methods of Decimal class\n   * #768 NH-3921 - Support sequences in Ingres9Dialect\n   * #769 NH-3922 - The various timeout methods should indicate time unit\n\n** Task\n\n   * #1610 Move MsSql constants from driver to dialect.\n   * #1608 Missing Async test for GH1594\n   * #1603 Forgotten async generation of truncate test\n   * #1598 Upgrade IESI to 4.0.4 for having a bumped file version.\n   * #1589 Add framework info to example web project and enable .NET Core.\n   * #1574 Fix encoding in NorthwindDbCreator.cs\n   * #1563 Generate Async test for deep removal of fetch.\n   * #1527 Adjust ignore rules for not ignoring DebugHelpers folder and contents\n   * #1525 5.1.0 release\n   * #1524 Reduce breaking changes due to Ingres9 sequence support\n   * #1518 Upgrade to AsyncGenerator 0.8.1\n   * #1512 Upgrade to NUnit 3.9\n   * #1474 Upgrade AsyncGenerator to 0.7.0\n\n** Tests\n\n   * #1539 Add more tests for constants in LINQ queries\n\nAs part of releasing 5.1.0, a missing 5.0.0 possible breaking change has been added about inequality semantic in LINQ\nqueries. See 5.0.0 possible breaking changes.\n\nBuild 5.0.8\n=============================\n\nRelease notes - NHibernate - Version 5.0.8\n\n** Bug\n    * #2172 Using DependentTransaction fails\n\nï»¿Build 5.0.7\n=============================\n\nRelease notes - NHibernate - Version 5.0.7\n\n    ##### Possible Breaking Changes #####\n        * Using DML on an entity collection was applying the changes without\n          filtering according to the entity. It will now throw a\n          NotSupportedException.\n\n** Bug\n\n   * #2043 System.Reflection.TargetException when an interface is used as class mapping proxy definition\n   * #2020 Throw for DML on filter\n\n** Task\n   * #2073 Release 5.0.7\n\nBuild 5.0.6\n=============================\n\nRelease notes - NHibernate - Version 5.0.6\n\n** Bug\n    * #1672 Generated async methods do not correctly propagate OperationCanceledException\n    * #1355 NH-3928 - Random invalid SQL generated when using bitwise operators\n\n** Task\n    * #1686 Release 5.0.6\n\nBuild 5.0.5\n=============================\n\nRelease notes - NHibernate - Version 5.0.5\n\n** Bug\n    * #1665 Have IFutureEnumerable.GetEnumerable executing immediatly the query\n\nBuild 5.0.4\n=============================\n\nRelease notes - NHibernate - Version 5.0.4\n\n** Bug\n    * #1658 Add missing cache setting\n\nBuild 5.0.3\n=============================\n\nRelease notes - NHibernate - Version 5.0.3\n\n** Bug\n    * #1462 Fix disposing SessionIdLoggingContext if CheckAndUpdateSessionStatus is failed\n\nBuild 5.0.2\n=============================\n\nRelease notes - NHibernate - Version 5.0.2\n\n** Bug\n    * #1456 NH-4052 - Add missing serializable implementation\n    * #1455 Reduces check session and set context id redundant calls\n    * #1453 Eliminate unnecessary AsyncLocal allocation if SessionId isn't changed\n\n** Task\n    * #1457 Release 5.0.2\n\nAs part of releasing 5.0.2, a missing 5.0.0 possible breaking change has been added about Dialects requiring now\nto be configured. See 5.0.0 possible breaking changes.\n\nBuild 5.0.1\n=============================\n\nRelease notes - NHibernate - Version 5.0.1\n\n** Bug\n    * #1428 Insert underscore in combined parameter name\n    * #1424 Bad wording and example fixes in cache documentation.\n    * #1420 Fix #1419 - ISession.IsDirty() shouldn't throw exception for transient many-to-one object in a session\n    * #1419 ISession.IsDirty() shouldn't throw exception for transient many-to-one object in a session\n    * #1418 Column.GetAlias should account for other suffixes\n    * #1415 Correct MaxAliasLength for various dialects\n    * #1393 Fix Linq Future aggregates failures, fixes #1387\n    * #1389 Add support for out/ref Nullable parameters of proxied methods\n    * #1387 Linq Sum() with ToFutureValue fails\n    * #1384 Fix a column spec causing missing col in pdf, fix a text overflow\n    * #1380 #750 - AliasToBean failure, test case and fix\n    * #1378 Fix #1362 - Running Unit tests against SQLite fails on datetime/UTC\n    * #1362 NH-4093 - Running Unit tests against SQLite fails on numerous (22) datetime/UTC related tests.\n    * #1357 NH-3983 - ToFuture throws ArgumentException at CreateCombinedQueryParameters\n    * #1179 NH-3840 - Wrong documentation of \"cascade\" in 5.1.11 (many-to-one)\n    * #1165 NH-3554 - Docs - bidirectional, indexed collections\n    * #983 Fix forgotten CDATA closure.\n    * #879 NH-4006 - Provide a correct MaxAliasLength for various dialects\n    * #750 Transformers.AliasToBean: Value cannot be null. Parameter name: key\n    * #712 NH-4092 - AsyncGenerator creates unused private static event handler in SQLite20Driver\n\n** Improvement\n    * #1410 Remove unused code in build scripts\n    * #1404 Use MsBuild for packing .nupkg files\n    * #1401 Clean up db tests dependencies\n    * #1395 Documentation fixes\n    * #1386 Lack of custom logging documentation\n    * #1382 Jira to GitHub: change issue naming in tests\n    * #1379 Documentation fixes\n    * #982 Back port doc fixes\n    * #824 NH-3208 - Document all possible settings in hibernate.cfg\n    * #823 NH-3179 - Documentation should note that OnDelete should set IsSaved to false in chapter 24.1\n    * #788 NH-1947 - Undocumented attributes on sql-query element\n    * #713 Switch to GitHub issues\n    * #711 Switch doc generation to UTF-8.\n\n** Task\n    * #1431 Release 5.0.1\n    * #1405 Remove unused and broken NHibernate.Setup WiX project\n\n\nBuild 5.0.0\n=============================\n\n** Highlights\n    * IO bound methods have gained an async counterpart. Not intended for parallelism, make sure to await each\n      call before further interacting with a session and its queries.\n    * Strongly typed DML operation (insert/update/delete) are now available as Linq extensions on queryables.\n    * Entities collections can be queried with .AsQueryable() Linq extension without being fully loaded.\n    * Reference documentation has been curated and completed, notably with a Linq section.\n      http://nhibernate.info/doc/nhibernate-reference/index.html\n\n** Known BREAKING CHANGES from NH4.1.1.GA to 5.0.0\n\n    NHibernate now targets .Net 4.6.1.\n\n    Remotion.Linq and Antlr3 libraries are no more merged in the NHibernate library,\n    and must be deployed along NHibernate library. (NuGet will reference them.)\n\n    Classes and members which were flagged as obsolete in the NHibernate 4.x series have been dropped.\n    Prior to upgrading, fix any obsolete warning according to its message. See NH-4075 and NH-3684 for a list.\n\n    ##### Possible Breaking Changes #####\n        * All members exposing some System.Data types have been changed for the corresponding System.Data.Common\n          types. (IDbCommand => DbCommand, ...)\n        * The Date NHibernate type will no more replace by null values below its base value (which was year 1753).\n          Its base value is now DateTime.MinValue. Its configuration parameter is obsolete.\n        * NHibernate type DateTimeType, which is the default for a .Net DateTime, does no longer cut fractional\n          seconds. Use DateTimeNoMsType if you wish to have fractional seconds cut. It applies to its Local/Utc\n          counterparts too.\n        * LocalDateTimeType and UtcDateTimeType do no more accept being set with a value having a non-matching kind,\n          they throw instead.\n        * DbTimestamp will now round the retrieved value according to Dialect.TimestampResolutionInTicks.\n        * When an object typed property is mapped to a NHibernate timestamp, setting an invalid object in the\n          property will now throw at flush instead of replacing it with DateTime.Now.\n        * Decimal type registration now correctly handles maximal precision. For most dialects, it is 28, matching\n          the .Net limit. Values in mappings above maximal precision will be reduced to maximal precision.\n        * Default cast types do no more resolve string to 255 length and decimal to its default precision/scale for\n          the dialect. They resolve to 4000 length string and (28, 10) precision/scale decimals by default, and are\n          trimmed down according to dialect. Those defaults can be overridden with query.default_cast_length,\n          query.default_cast_precision and query.default_cast_scale settings.\n        * Future queries with data provider not actually supporting them (not supporting mutliple queries in a single\n          SQL command) are no more immediately executed at the .Future call. They are executed only when directly\n          enumerated or when their IFutureEnumerable.GetEnumerable method is called. (This aligns them with the behavior\n          of FutureValue.)\n        * Dialects are now configurable. If you instantiate a dialect directly, make sure you call its Configure\n          method, with as argument the properties of a NHibernate Configuration object. You may use instead\n          Dialect.GetDialect methods, which configure the dialect before returning it.\n        * Transaction scopes handling has undergone a major rework. See NH-4011 for full details.\n          ** More transaction promotion to distributed may occur if you use the \"flush on commit\" feature with\n             transaction scopes. Explicitly flush your session instead. Ensure it does not occur by disabling\n             transaction.use_connection_on_system_prepare setting.\n          ** After transaction events no more allow using the connection when they are raised from a scope\n             completion.\n          ** Connection enlistment in an ambient transaction is now enforced by NHibernate by default.\n          ** The connection releasing is no more directly triggered by a scope completion, but by later\n             interactions with the session.\n        * AdoNetWithDistributedTransactionFactory has been renamed AdoNetWithSystemTransactionFactory.\n        * Subcriteria.UniqueResult<T> for value types now return default(T) when result is null, as was\n          already doing CriteriaImpl.UniqueResult<T>.\n        * AliasToBeanResultTransformer property/field resolution logic has changed for supporting members\n          which names differ only by case. See NH-3693 last comments for details.\n        * Linq inequality implementation has been changed for supporting null, meaning that a \"a != b\" expression\n          will now be considered matching if one side is null, while previously due to SQL null semantic it was\n          considered non-matching. See NH-3100.\n        * Linq extension methods marked with attribute LinqExtensionMethod will no more be evaluated\n          in-memory prior to query execution when they do not depend on query results, but will always be\n          translated to their corresponding SQL call. This can be changed with a parameter of the attribute.\n        * Linq Query methods are now native members of ISession and IStatelessSession instead of being\n          extension methods.\n        * Linq provider now use Remotion.Linq v2, which may break Linq provider extensions, mainly due to names\n          changes. See https://github.com/nhibernate/nhibernate-core/pull/568 changes to test files for examples.\n        * NHibernate Linq internals have undergone some minor changes which may break custom Linq providers due\n          to method signature changes and additional methods to implement.\n        * IMapping interface has an additional Dialect member. ISessionFactoryImplementor has lost it, since it\n          gains it back through IMapping.\n        * IDriver.ExpandQueryParameters and DriverBase.CloneParameter take an additional argument.\n        * NullableType, its descendent (notably all PrimitiveType) and IUserType value getters and setters now\n          take the session as an argument. This should mainly impact custom types implementors.\n        * EmitUtil is now internal and has been cleaned of unused members.\n        * ContraintOrderedTableKeyColumnClosure has been renamed ConstraintOrderedTableKeyColumnClosure.\n        * enabledFilter parameter has been removed from IProjection.ToSqlString and ICriterion.ToSqlString methods.\n        * Proxy factory and proxy cache now use TypeInfo instead of System.Type. This should be transparent for\n          most users.\n        * Exceptions which were based on ApplicationException are now based on Exception: HibernateException,\n          ParserException and AssertionFailure. The logger factory which could throw a bare ApplicationException\n          now throws an InstantiationException instead.\n        * ThreadSafeDictionary class has been removed. Use System.Collections.Concurrent.ConcurrentDictionary\n          instead.\n        * Entity mode switching capability, which had never been fully implemented, is dropped.\n        * BytecodeProviderImpl, intended for .Net Framework 1 and broken, is dropped.\n        * Sessions concrete classes constructors have been changed. (It is not expected for them to be used\n          directly.)\n        * Obsolete setting interceptors.beforetransactioncompletion_ignore_exceptions is dropped.\n        * SQL Server 2008+ dialects now use datetime2 instead of datetime for all date-time types, including\n          timestamp. This can be reverted with sql_types.keep_datetime setting.\n        * SQL Server 2008+ timestamp resolution is now 100ns in accordance with datetime2 capabilities, down from\n          10ms previously. This can be reverted with sql_types.keep_datetime setting.\n        * Oracle 9g+ dialects now use timestamp(7) for all date time types, instead of timestamp(4).\n        * Oracle 9g+ timestamp resolution is now 100ns in accordance with timestamp(7) capabilities, down from\n          100Âµs previously. \n        * Oracle: Hbm2dll will no-more choose N- prefixed types for typing Unicode string columns by default.\n          This can be changed with oracle.use_n_prefixed_types_for_unicode setting, which will furthermore\n          control DbCommand parameters typing accordingly. See NH-4062.\n        * SqlServerCe: the id generator \"native\" will now resolve as table-hilo instead of identity.\n        * Firebird: timestamp resolution is now 1ms.\n        * PostgreSQL: if Npgsql v3 or later is used, time DbParameters will be fetched as TimeSpan instead of\n          DateTime.\n        * DB2 & Oracle lite: decimal type registration was hardcoding precision as 19 and was using length as\n          scale. It now uses precision and scale from mapping when specified, and disregards length.\n        * Ingres & Sybase ASA: decimal type registration was hardcoding precision as 18 and was using length as\n          scale. It now uses precision and scale from mapping when specified, and disregards length.\n        * ODBC: String parameter length will no more be specified by the OdbcDriver.\n\n\nRelease notes - NHibernate - Version 5.0.0\n\n** Sub-task\n    * [NH-3956] - Native SQL query plan may get wrong plan\n    * [NH-3957] - Second level query cache may yields wrong cache entry\n    * [NH-4001] - Remove ThreadSafeDictionary\n\n** Bug\n    * [NH-926] - Identity insert fails with SQL Ce dialect and aggressive connection release mode.\n    * [NH-1752] - NHibernate Date type converts to NULL\n    * [NH-1904] - Protected properties and public properties cannot have the same name with different case\n    * [NH-2029] - filter-def's use-many-to-one=false should take ON into consideration\n    * [NH-2145] - AssertionFailure exception at ISession.Save\n    * [NH-2176] - Consecutive TransactionScopes cannot be used in same NHibernate session\n    * [NH-2238] - \"DTC transaction prepare phase failed\" when UPDATE:ing in a promoted TransactionScope\n    * [NH-2241] - Batch Insert using stateless session when using second level cache throws exception when unable to determine transient status\n    * [NH-2928] - Connections can only be closed after the Transaction is completed\n    * [NH-3023] - Deadlocks may cause connection pool corruption when in a distributed transaction\n    * [NH-3078] - TimeAsTimeSpanType issue when using Sybase Advantage Database\n    * [NH-3100] - Problem in use if condition for nullable boolean in linq to NHibernate\n    * [NH-3114] - Collection inside Component cannot be mapped to a different table\n    * [NH-3227] - InvalidOperationException in AbstractBatcher when distributed transaction is aborted\n    * [NH-3247] - Char value gets 'cached' in Where-queries\n    * [NH-3374] - Session.Merge throws InvalidCastException when using a Lazy bytes[] property\n    * [NH-3600] - ISession.Save returns wrong Id\n    * [NH-3665] - FirstOrDefault() broken since 3.3.4 and 3.4.0\n    * [NH-3693] - AliasToBeanResultTransformerFixture fails under Firebird\n    * [NH-3755] - Proxy exception for multiple joined-subclass\n    * [NH-3757] - Dynamic entity mapped with entity-name cannot have a component of a fixed class\n    * [NH-3793] - Attribute entity-name on <key-many-to-one> is ignored, causing mapping exception\n    * [NH-3845] - OfType fails with polymorphism\n    * [NH-3850] - .Count(), .Any() and other aggregates return only first result on polymorphic queries\n    * [NH-3885] - ThreadSafeDictionary is not threadsafe\n    * [NH-3889] - Coalesce on entity in sub-select causes incorrect SQL\n    * [NH-3895] - Problem with DateTime fractional seconds on ODBC for MS SQL Server\n    * [NH-3911] - Reflection Optimizer tries to cast values to getter type in setter\n    * [NH-3913] - Component has bag of child components. Child property mapping ignored\n    * [NH-3931] - Invalid order of child inserts when using TPH inheritance\n    * [NH-3946] - Linq where \"is base class\" doesn't get subclasses\n    * [NH-3948] - CheckAndUpdateSessionStatus() called twice in CreateFilter method inside SessionImpl class\n    * [NH-3950] - FutureValue fails on Linq queries defining a PostExecuteTransformer\n    * [NH-3954] - Dynamic proxy cache may yield a wrong proxy\n    * [NH-3955] - Unreliable Equals implementation\n    * [NH-3961] - Invalid date parameter format with nullables and MappedAs\n    * [NH-3966] - Missing command set dispose in batchers\n    * [NH-3968] - Distributed transaction cannot be committed because AdoNetWithDistributedTransactionFactory tries to write data by using locked sqlConnection\n    * [NH-3969] - Firebird: TimestampResolutionInTicks should be 1ms\n    * [NH-3977] - Thread safety weaknesses of MapBasedSessionContext\n    * [NH-3981] - CollectionHelper.DictionaryEquals throws\n    * [NH-3985] - ObjectDisposedException is thrown when using a child session after having previously disposed of another child session.\n    * [NH-3998] - SqlServer CE: \"The column aliases must be unique\" exception is thrown in some tests\n    * [NH-4013] - SqlClientBatchingBatcher CloseCommands contract violated\n    * [NH-4022] - MsSql2012Dialect: Invalid drop sequence statement\n    * [NH-4024] - ODBC failures with time\n    * [NH-4027] - Missing disposals of enumerators\n    * [NH-4035] - Teardown failure should not prevent cleanup\n    * [NH-4038] - Mapping a TimeSpan in a collection component mapping maps as a BIGINT\n    * [NH-4046] - Default length too short for variable length types with SAP Anywhere / ASE\n    * [NH-4077] - Possible race condition in ActionQueue.ExecuteActions\n    * [NH-4083] - ODBC nvarchar parameter corruption\n    * [NH-4084] - DbTimestamp cause stale update exception\n    * [NH-4086] - TimeType may lose fractional seconds\n    * [NH-4088] - Dialect.GetCastTypeName is buggy\n    * [NH-4090] - Prepare SQL fails with time parameters and SQL Server 2008+\n    * [NH-4091] - SQL Server CE allocates too much memory with blob and sql prepare\n\n** New Feature\n    * [NH-1530] - Add support for XmlDocType and XDocType for Oracle\n    * [NH-2319] - IQueryable support for persistent collections\n    * [NH-3488] - Strongly Typed Updates and Deletes\n    * [NH-3771] - Implement setting to enable Batch Update with Optimistic Locking control\n    * [NH-3905] - Support async: Blocking IO leads to ThreadPool starvation and limits scalability\n    * [NH-3934] - Add methods WhereNot(ICriterion) and AndNot(ICriterion) in QueryOver\n    * [NH-3951] - Support .All() result operator\n    * [NH-3996] - Postgres: add support for XmlDocType and XDocType\n    * [NH-4009] - Allow marking a Linq extension as db only\n    * [NH-4017] - Handle Time parameter conversion for newer Npgsql\n    * [NH-4018] - Port AutoJoinTransaction feature\n    * [NH-4028] - Support inconclusive tests in result comparison\n    * [NH-4031] - Add an AsyncLocalSessionContext\n    * [NH-4032] - Supports multiple factories with ThreadStaticSessionContext\n    * [NH-4062] - Properly handle Oracle Unicode support dual model\n\n** Task\n    * [NH-3683] - Fix Compilation Warnings\n    * [NH-3958] - Reference documentation: missing types\n    * [NH-3959] - Fix documentation typos\n    * [NH-3999] - Document effect of quoted identifier on case sensitivity\n    * [NH-4000] - Release 5.0\n    * [NH-4004] - Restrict tests running on SQL CE\n    * [NH-4051] - Replace System.Linq.Dynamic with System.Linq.Dynamic.Core in tests\n    * [NH-4057] - Fix tests for MySql\n    * [NH-4058] - Fix Oracle managed failing tests\n    * [NH-4063] - Fix ODBC failing tests\n\n** Improvement\n    * [NH-1851] - Mapping a TimeSpan as TimeAsTimeSpan for MySQL\n    * [NH-2444] - Document linq provider\n    * [NH-3094] - Linq does not support unary plus and unary minus operators\n    * [NH-3370] - Remove warning about \"NHibernate.Type.CustomType -- the custom type * is not serializable\"\n    * [NH-3386] - Linq OrderBy NewID()\n    * [NH-3431] - Replace System.Data with System.Data.Common\n    * [NH-3578] - Subcriteria.UniqueResult<T> for value types should return default(T), same as CriteriaImpl.UniqueResult<T> when result is null\n    * [NH-3669] - Query should be instance method of ISession\n    * [NH-3723] - Some tests are failing when log level set to DEBUG\n    * [NH-3744] - Fixed spelling of ContraintOrderedTableKeyColumnClosure method\n    * [NH-3750] - Use NuGet to refer to Remotion.Linq (unmerge ReMotion.Linq)\n    * [NH-3877] - Target .NET 4.6.1\n    * [NH-3900] - Upgrade to Nunit 3.x\n    * [NH-3919] - Clean up and harmonize datetime types with regards to different dialects\n    * [NH-3927] - Switch to SemVer version scheme\n    * [NH-3932] - Merge() may fire unnecessary updates if collection and version mapping exists\n    * [NH-3943] - Use NuGet to reference packages instead of local copies\n    * [NH-3944] - Upgrade to ReLinq 2\n    * [NH-3945] - Update to Antlr 3.5.1\n    * [NH-3952] - Cleanup EnumerableHelper usage\n    * [NH-3962] - Build with MSBuild Tools 2017 (15)\n    * [NH-3963] - More explicit error on MappedAs invalid usage.\n    * [NH-3964] - Refactor reflection patterns\n    * [NH-3970] - TestCase base class: avoid hiding test failure on tear-down\n    * [NH-3973] - Remove enabledFilter parameter from IProjection.ToSqlString and ICriterion.ToSqlString methods\n    * [NH-3975] - Synchronize some features dialect support properties\n    * [NH-3978] - Extract IDatabaseMetadata from DatabaseMetadata\n    * [NH-3987] - Re-implement NhQueryable options\n    * [NH-3988] - Replace ApplicationException base class with just Exception\n    * [NH-3990] - Upgrade to VS2017 Project structure\n    * [NH-3993] - Component Element Customizer Missing ability to map non-public parents and composite element relations\n    * [NH-3997] - SqlServer CE: Make native generator to be TableHiLoGenerator\n    * [NH-4003] - Refactor session constructor\n    * [NH-4010] - Visual Studio launcher still launches 2015\n    * [NH-4014] - Update SQLite assembly for tests\n    * [NH-4015] - Update Npgsql driver and enable DTC for it in tests\n    * [NH-4019] - Pass assembly into log4net functions\n    * [NH-4020] - Use TypeBuilder.CreateTypeInfo()\n    * [NH-4021] - Track all opened session in tests\n    * [NH-4023] - Pass ISessionImplementor to all value setters and getters of nullable types\n    * [NH-4026] - Update Firebird driver and use server in tests\n    * [NH-4030] - Cleanup and xml doc of Linq Future extension\n    * [NH-4033] - Update MySql connector used in tests\n    * [NH-4034] - Flush all sessions participating in a transaction\n    * [NH-4043] - Complete keyword registration needs done in dialects.\n    * [NH-4049] - EmitUtil can be cleaned up\n    * [NH-4050] - Use Task.Run instead of BeginInvoke in tests\n    * [NH-4052] - Collect schema validation exceptions\n    * [NH-4064] - Unmerge Antrl3.Runtime\n    * [NH-4073] - Replace NHibernate.Web.Example with modern version\n    * [NH-4076] - Do not resurrect session\n\n** Remove Feature\n    * [NH-3684] - Remove <Time>Part Extension Methods of QueryOver\n    * [NH-3700] - Remove CodeDom BytecodeProviderImpl\n    * [NH-3722] - Remove entity mode switching capability\n    * [NH-4075] - Remove code obsolete in 4.x\n\n** Meta Issue\n    * [NH-4011] - Fix transaction scopes handling\n\n\nBuild 4.1.2.GA\n=============================\n\nRelease notes - NHibernate - Version 4.1.2.GA\n\n** Bug\n    * #1355 NH-3928 - Random invalid SQL generated when using bitwise operators\n\nBuild 4.1.1.GA\n=============================\n\n    ##### Notes #####\n    The [NH-3904] has been reverted in favor of [NH-2401]: users now required to explicitly specify\n    custom user type via MappedAs method if they want to use IUserType/ICompositeUserType type \n    parameters in Linq queries, or implement generators the way they take the types into account.\n\n** Sub-task\n    * [NH-3940] - Revert NH-3904\n\n** Bug\n    * [NH-3929] - ExpressionParameterVisitor selects wrong CustomType for ConstantExpression (Linq)\n    * [NH-3941] - MappedAs() does not work\n\nBuild 4.1.0.GA\n=============================\n\n    ##### Possible Breaking Changes Since 4.0 #####\n    Proxies for classes that used lazy fields (not collections)\n    would have any exceptions from the entity wrapped in TargetInvocationException. This\n    wrapping exception have now been removed. Where relevant, you should instead catch\n    the original exception type you throw.\n\n    For LINQ queries, the startAt parameter and the return value for string.IndexOf() are\n    now correctly translated from .Net's 0-based indexing to SQL's 1-based indexing. LINQ\n    queries that are written to expect SQL semantics for IndexOf() will likely need to be\n    adjusted (NH-3846, NH-3901).\n    Example: A LINQ query should now use 'x=>x.Name.IndexOf(\"a\") == -1' to pick objects where\n    the name doesn't contain the letter \"a\".\n\n** Bug\n    * [NH-3885] - ThreadSafeDictionary is not threadsafe\n\n\nBuild 4.1.0.CR1\n=============================\n\n** Bug\n    * [NH-2038] - No substring length check in RemoveAsAliasesFromSql\n    * [NH-2127] - NHibernate cannot convert from decimal to int64 during OutputParamReturningDelegate.ExecuteAndExtract\n    * [NH-2167] - Aggregate function GroupProperty mixing named and positional variables\n    * [NH-2738] - Exception thrown when mapping contains empty enum\n    * [NH-2839] - Linq query with boolean implemeted as IUserType fails\n    * [NH-2930] - Mapping by code does not support multiple levels of abstract subclasses, nor does the abstract=true tag work on subclasses below the first level subclass\n    * [NH-2931] - Registering mappings in mapping by code does not process classes accordingly to inheritance path\n    * [NH-3015] - Join fetch with Stateless Session returns duplicate entities\n    * [NH-3035] - Alias in HQL Order By Clause is Not Replaced\n    * [NH-3046] - Potentially serious memory leak with regards to NHibernate.Action.EntityAction.BeforeTransactionCompletionProcessDelegate\n    * [NH-3048] - Mapping-by-Code does not allow UnsavedValue in ComponentAsId mapping\n    * [NH-3075] - NullReferenceException when using Fetch/FetchMany\n    * [NH-3252] - AnsiString larger than 8000 doesn't work with Sql Server\n    * [NH-3372] - Support generated columns in combination with explicit loader\n    * [NH-3414] - Queries with sub-query in ThenBy fail\n    * [NH-3453] - InvalidCastException from FindDirty on many-to-one association with property-ref to composite-id class\n    * [NH-3454] - AdoNetWithDistributedTransactionFactory doesn't unhook event handler which may prevent garbage collection\n    * [NH-3474] - GroupBy constant producing wrong SQL\n    * [NH-3480] - <set> mapping using a property-ref as the link to its children can raise an InvalidCastException when loading\n    * [NH-3487] - Deserializing a session can raise an NHibernateException - No tupilizer found for entity-mode [Poco]\n    * [NH-3500] - Throwing exception from within a proxied method does not unwrap TargetInvocationException\n    * [NH-3512] - Changes in derived object doesn't update version\n    * [NH-3518] - If prepare_sql is true, columns of XML type won't work\n    * [NH-3527] - UnionSubclassMapper should mark an abstract type as abstract in the generated HbmMapping\n    * [NH-3564] - TimestampType does not work with 2nd level cache\n    * [NH-3567] - Under the flushmode Auto, Query with subquery failed to flush if there are changes among the entities addressed by the sub-query\n    * [NH-3583] - Autoflush doesn't work inside TransactionScope\n    * [NH-3609] - Using Projections.Conditional inside of Projections.Count and Projections.Avg generates invalid sql.\n    * [NH-3634] - Wrong syntax for comparing component with nullable properties(columnValue = NULL)\n    * [NH-3666] - Setting native sql query cachable causes ArgumentNullException in CacheableResultTransformer.\n    * [NH-3681] - NHibernate.HibernateException: Query Source could not be identified, when using join group and Sum()\n    * [NH-3706] - NHibernate.Transform.Transformers should be static class\n    * [NH-3727] - Criteria which use SubqueryProjection. Cannot be executed more than once. Second try throws exception.\n    * [NH-3741] - Many to Many mapping against interfaces fails (reverts to using ElementRelationMapper instead of ManyToManyRelationMapper)\n    * [NH-3743] - Fetch with GroupBy throws NullReferenceException\n    * [NH-3747] - Very weak support for predicates in Linq Aggregate functions \n    * [NH-3754] - Exception \"System.ArgumentNullException\" when using ICriteria with AliasToBeanResultTransformer and SecondLevelCache\n    * [NH-3762] - DateType should not try to set DbParameter.DbType column\n    * [NH-3767] - Wrong aliases when querying a table with the name starting with Select, From or As in Oracle\n    * [NH-3784] - Collection filtering via ISession.CreateFilter should not allow DML queries\n    * [NH-3785] - Collection filtering via ISession.CreateFilter incorrectly applies filter to nested subqueries\n    * [NH-3791] - Transaction with multiple inserts, fails when a column-name contains 'select' on Firebird database\n    * [NH-3797] - Computed GroupBys don't work if they have constants\n    * [NH-3800] - Cannot combine Left Outer Join with Aggregating Group By\n    * [NH-3801] - AddJoinsReWriter disassociates Select expressions and GroupBy key expressions\n    * [NH-3816] - Conditionals in Select are too permissive\n    * [NH-3817] - Merge fails randomly on a graph containing transient entities with multiple cascade paths\n    * [NH-3818] - Conditional expressions in LINQ Select\n    * [NH-3831] - NullableDictionary does not set _gotNullValue when using Add(TKey, TValue) method\n    * [NH-3842] - DateTimeOffsetType throws NotImplementedException() for DefaultValue.\n    * [NH-3844] - Left Outer Join with Aggregating Group By and Conditional Key Failure\n    * [NH-3874] - Evicting an object with a collection with logging enabled throws\n    * [NH-3891] - Not all overrides of ISerializable.GetObjectData set SecurityCritical\n    * [NH-3895] - Problem with DateTime fractional seconds on ODBC for MS SQL Server\n    * [NH-3897] - Use of Hashset Test framework's DebugConnectionProvider not thread-safe.\n    * [NH-3899] - Too long column alias - Column.GetAlias() doesn't correctly respect Dialect.MaxAliasLength\n    * [NH-3904] - Passing a user type instance as a constant parameter in a linq expression fails.\n    * [NH-3909] - Regression on join following refactoring of NH-3801\n    * [NH-3917] - SQLite Dialect does not specify any keywords except 'int'\n    * [NH-3912] - Batch operations with the same IBatcher instance fail on expect rows count after single failed operation (Oracle)\n    * [NH-3846] - Off-by-one error:  LINQ to SQL of 'startIndex' (2nd) parameter - 'IndexOf()' to 'CharIndex()'\n    * [NH-3901] - IndexOf doesn't translate into 0-based index\n    * [NH-3918] - Select Expressions Cache Entities\n\n** New Feature\n    * [NH-1262] - Cascade of \"all-delete-orphan\" not supported for one-to-one\n    * [NH-1452] - Join element doesn't support keys with property-refs\n    * [NH-2218] - Extension method Query<T> doesn't support entity names\n    * [NH-2611] - Allow injectable/inheritance of Linq query provider\n    * [NH-3495] - Implement Oracle 12c Dialect\n    * [NH-3499] - Allow query model visitor to be provided through the session factory\n    * [NH-3619] - Make default value of FlushMode configurable\n\n** Task\n    * [NH-802] - Use msbuild instead of csc/vbc\n    * [NH-3725] - Remove SharpTestsEx\n    * [NH-3781] - Upgrade relinq to at least 1.13.177\n    * [NH-3875] - Build with MSBuild Tools 2015 (14)\n    * [NH-3890] - Update all support projects and tooling to .NET 4.0\n\n** Improvement\n    * [NH-2053] - Extend the filter-def usage to subclasses\n    * [NH-2401] - Method for specifying IType of LINQ parameter\n    * [NH-2821] - Better finding log4net.dll\n    * [NH-2823] - Optimistic Locking in mapping by code\n    * [NH-2824] - Precision and scale for decimal id\n    * [NH-2887] - Tweak UriType to allow relative URIs to be supported.\n    * [NH-3110] - Support Polymorphism in mapping by code\n    * [NH-3198] - Have Mapping By Code Support Dynamic Component Inside Join\n    * [NH-3312] - QueryOver, static Alias\n    * [NH-3404] - Add missing standard Id Generators in Mapping By Code\n    * [NH-3452] - Need to support CHAR(length) type for identifiers\n    * [NH-3486] - Performance: For projections, identical metadata for rows is recalculated for every row\n    * [NH-3489] - GetEffectiveParameterLocations is slow with a large number of parameters\n    * [NH-3525] - Db2Dialect should issue FETCH FIRST N ROWS ONLY when there is no offset\n    * [NH-3630] - Bitwise operation support for dialects using internal/external functions\n    * [NH-3707] - Port HHH-6845 - Avoid repeated invocations of ReflectHelper.overridesEquals in proxy initializers\n    * [NH-3720] - Support Additional Convert Methods in LINQ Queries\n    * [NH-3726] - Support SqlMethods.Like() with escape character in LINQ\n    * [NH-3732] - Start the NUnit GUI with the .NET 4.0 runtime\n    * [NH-3759] - uuid.hex mapper issue\n    * [NH-3763] - Add Bitwise operations for Oracle\n    * [NH-3779] - Mapping by code does not allow to map structures as components\n    * [NH-3783] - Enable update ordering for improved batching\n    * [NH-3812] - GuidCombGenerator must use DateTime.UtcNow\n    * [NH-3856] - Improve performance of SqlClientSqlCommandSet\n    * [NH-3857] - Improve performance of MySqlClientSqlCommandSet\n    * [NH-3920] - Improve logging of SQL parameter types and values\n\t* [NH-3811] - Consistent Unique Integer values per table\n\n\nBuild 4.0.4.GA\n=============================\n\n** Bug\n    * [NH-3795] - C# compiler \"Roslyn\" regression\n\n\nBuild 4.0.3.GA\n=============================\n\n** Bug\n    * [NH-2504] - Can't use Cacheable with Group By\n    * [NH-3457] - TemplatedViolatedConstraintNameExtracter.ExtractUsingTemplate calls Substring with wrong arguments\n    * [NH-3468] - InvalidCastException when deleting entities containing uninitialized lazy components\n    * [NH-3573] - Query cache statistics not updated when using MultiCriteria\n    * [NH-3731] - Unable to serialize session after modifying the index of entities in a list\n\n\nBuild 4.0.2.GA\n=============================\n\n** Bug\n    * [NH-2779] - Session.Get() can throw InvalidCastException when log-level is set to DEBUG\n    * [NH-2782] - Linq: selecting into a new array doesn't work\n    * [NH-2831] - NH cannot load mapping assembly from GAC \n    * [NH-3049] - Mapping by code to Field not working\n    * [NH-3222] - NHibernate Futures passes empty tuples to ResultSetTransformer\n    * [NH-3650] - ComponentAsId<T> used more than once, cache first mapping and produces  subsequently a sql select wrong\n    * [NH-3709] - Fix Reference to One Shot Delete and Inverse Collections\n    * [NH-3710] - Use of SetLockMode with DetachedCriteria causes null reference exception\n\n** Task\n    * [NH-3697] - Ignore Firebird in NHSpecificTest.NH1981\n    * [NH-3698] - NHSpecificTest.NH1989 fails for some drivers\n\n\nBuild 4.0.1.GA\n=============================\n\n** Bug\n    * [NH-3102] - Wrong mapping produced by Map\n    * [NH-3214] - PropertyContainerCustomizer.Bag() throws NullReferenceException when mapping a property of type IList\n    * [NH-3575] - DefaultReadOnly not working for Future() queries\n    * [NH-3656] - Firebird doesn't accept Currency as parameter type\n    * [NH-3667] - MappingByCode produce wrong table field name 'idx' in Dictionary<,> mappings\n    * [NH-3679] - SchemaExport.Create(false, false) does not write to file specified via SchemaExport.SetOutputFile\n    * [NH-3691] - All dialect checks in NHSpecificTest.NH1487.Fixture are broken\n    * [NH-3692] - TypedManyToOneTest is broken for Firebird\n    * [NH-3694] - Criteria or QueryOver with join to components collection does not return data. It worked in NH 3.3.\n    * [NH-3695] - NHSpecificTest.NH1845 fails for some Dialects\n    * [NH-3696] - Connection pooling + Multi threraded tests\n    * [NH-3701] - NHSpecificTest.NH2302 Fails under Firebird\n\n** Improvement\n    * [NH-3604] - Map ByCode fails when property is protected (not public)\n    * [NH-3687] - Change Id mapping of TimesheetEntry from native to assigned\n    * [NH-3688] - Modify NHSpecificTest.NH1391 so that it doesn't depend on preknown id values\n    * [NH-3690] - Add LEFT function to Firebird\n\n** Patch\n    * [NH-3383] - Fix for multiple objects of CascadeStyle in Memory that should be singleton\n    * [NH-3577] - Fix in SessionFactory.Statistics.LogSummary() method to show 0 milisecond as MaxQueryTime when no query was executed, instead of  -922337203685477\n\n** Task\n    * [NH-3085] - Document enhanced id generators\n    * [NH-3660] - Ignore Firebird in DtcFailuresFixture\n    * [NH-3689] - Ignore Firebird in NHSpecificTest.NH1171\n\n\nBuild 4.0.0.GA\n=============================\n\n** Known BREAKING CHANGES from NH3.3.3.GA to 4.0.0.GA\n\n    NHibernate now targets .Net 4.0. Many uses of set types from Iesi.Collections have\n    now been changed to use corresponding types from the BCL. The API for these types\n    are slightly different.\n\n    Support for persistent non-generic collections removed. Use the generic counterparts instead.\n\n    ##### Possible Breaking Changes #####\n        * IDeleteEventListener, IEventSource: Use generic ISet<> instead of non-generic in method signatures.\n        * SqlString.Parts removed. Use SqlString.Count and SqlString.GetEnumerator().\n        * IPersistentCollection.GetSnapshot() now returns object instead of ICollection. The snapshot should be opaque to outside code.\n        * Removed IsDiscriminatorFormula, DiscriminatorFormula and GenerateSelectString from UnionSubclassEntityPersister class.\n        * Removed ManagedWebSessionContext. Any configuration files which use the \"managed_web\" session context should now use \"web\"\n        * SybaseASADialect removed: Use SybaseSQLAnywhere10Dialect instead.\n        * ASA10ClientDriver, ASAClientDriver and SQLiteDriver removed: Use SybaseSQLAnywhereDriver, SybaseAsaClientDriver, SQLite20Driver instead.\n        * Removed Classic HQL Parser.\n        * Removed IQueryTranslatorFactory2. It's methods were pulled up to IQueryTranslatorFactory. Method CreateQueryTranslators accepting string as first argument marked as Obsolete. \n        * IQueryExpression.Translate now has second boolean argument 'filter'\n        * Added several methods which accepts IQueryExpression to ISessionImplementor, which is duplicating methods which accepts string.\n        * Miss-spelled AdoNetWithDistrubtedTransactionFactory removed: Use AdoNetWithDistributedTransactionFactory instead\n        * HqlDistinctHolder removed: Use HqlExpressionSubTreeHolder instead\n        * DisableLogFormattedSql method removed: the default is disabled\n        * ISession.SaveOrUpdateCopy removed: Use Merge instead\n        * Oracle and MySQL: The atan2 and power functions now return double (instead of single) for consistency with other dialects.\n        * Removed FirebirdDriver. It was the same as FirebirdClientDriver since 3.2, and the latter have been the default since then.\n        * Removed bunch of unused methods on *Helper classes\n        * Static fields on NHibernateUtil are declared as their exact class\n\n    From NH4.0.0.Alpha1 to 4.0.0.Alpha2:\n    Fixed mapping by code behaviour when map child subclasses (see NH-3135 and NH-3269)\n    \n    The constructor of AbstractComponentTuplizer now behaves like AbstractEntityTuplizer in the way\n    that it doesn't create the instantiator any more. Custom component tuplizers that derive\n    directly from AbstractComponentTuplizer need to add this line of code in their constructor:\n      instantiator = BuildInstantiator(component);\n\n    From NH4.0.0.Alpha2 to 4.0.0.CR1:\n    The interface IEnhancedProjection was removed and its methods moved to IProjection.\n    Two other overloads of the GetColumnAliases() methods was removed from IProjection.\n\n        * [NH-2290] Invalid hql parenthesis expansion in generated sql\n            Unary minus before parentheses in HQL lost the parentheses when translated\n            to SQL and therefore the wrong value was returned. This use of unary minus is now\n            implemented in the mathematically correct way.\n\n\n** Bug\n    * [NH-3638] - Mapping-by-code is occasionally picking the wrong column name\n    * [NH-3654] - Internal access of PersistentGenericBag removed\n\n** Improvement\n    * [NH-3415] - Add Overload to IGeneratorMapper.Params That Receives a Dictionary\n    * [NH-3657] - Map By Code - One to One Missing Class Action\n\n** Patch\n    * [NH-3529] - Add linqtohql.generatorsregistry to nhibernate-configuration.xsd\n\n\nBuild 4.0.0.CR1\n=============================\n\n** Bug\n    * [NH-3455] - QueryOver + selecting a component + OrderBy = wrong OrderBy in SQL\n    * [NH-3581] - nhibernate.everything.sln doesn't compile\n    * [NH-3587] - Parameters within a select clause\n    * [NH-3620] - ORA-01483 when inserting two blobs and a date using the OracleManagedDataClientDriver\n    * [NH-3624] - broken insert statement with select\n    * [NH-3629] - Translation of string.IndexOf() in Linq is broken for firebird\n    * [NH-3641] - Missing Outer Join\n    * [NH-3642] - PostgreSQL: Support LINQ DateTime.Date in select clause\n    * [NH-3649] - Missing support for round() in SQLite and SQL Server CE dialects (affected criteria queries)\n\n** Improvement\n    * [NH-3623] - Add FirebirdExceptionConverterExample\n    * [NH-3626] - avoid double parens around a select statement\n    * [NH-3627] - change some id mappings from native to assigned in linq tests\n    * [NH-3628] - add keyword \"date\" and function \"date\" to FirebirdDialect\n    * [NH-3647] - Support Math.Round() in QueryOver projections\n\n** Task\n    * [NH-3251] - Update to antlr 3.5.0.2\n    * [NH-3644] - Merge IEnhancedProjection into IProjection\n\nBuild 4.0.0.Alpha2\n=============================\n\n** Known BREAKING CHANGES from NH4.0.0.Alpha1 to 4.0.0.Alpha2\n\n    Fixed mapping by code behaviour when map child subclasses (see NH-3135 and NH-3269)\n    \n    The constructor of AbstractComponentTuplizer now behaves like AbstractEntityTuplizer in the way\n    that it doesn't create the instantiator any more. Custom component tuplizers that derive\n    directly from AbstractComponentTuplizer need to add this line of code in their constructor:\n      instantiator = BuildInstantiator(component);\n\n\n** Bug\n    * [NH-2380] - Cannot perform distinct when selecting an anonymous type\n    * [NH-2486] - Distinct() extension method problem with Object Initialisers\n    * [NH-2655] - DbType.Double should be float(53) instead of DOUBLE PRECISION in the SQL-Severer2000 Dialect\n    * [NH-2692] - Using Any() on a collection of components results in invalid SQL: Column of parent ID is used instead of key column\n    * [NH-2861] - <filter> doesn't work in conjunction with <join>\n    * [NH-2865] - \"Expression type 'NhSumExpression' is not supported by this SelectClauseVisitor.\"\n    * [NH-2961] - \"Index was outside the bounds of the array\" error when executing cached query for single result with distinct results transformer\n    * [NH-3135] - Collection of Components in BaseClass cannot be mapped to a different table\n    * [NH-3269] - UniqueKey on property of base class will affect all inherited class\n    * [NH-3392] - Add ability to expand subcollections with composites ids with WCF Data Services\n    * [NH-3417] - Nested projection of subcollection throws\n    * [NH-3423] - MemberInitExpression causing problem in HqlGeneratorExpressionTreeVisitor (WCF DS)\n    * [NH-3571] - Linq does not support dynamic components inside components\n    * [NH-3579] - Session leak in the Query Plan Cache\n    * [NH-3586] - Firebird Decimals\n    * [NH-3588] - Creating and dropping of Temporary Tables in an isolated transaction is broken\n    * [NH-3590] - Detached entity with set of primitives throws\n    * [NH-3591] - IncrementGenerator unnecessarily creates a new connection to the db\n\n** Improvement\n    * [NH-1082] - Exceptions thrown in IInterceptor.BeforeTransactionCompletion should cause the transaction to be rolled back\n    * [NH-3041] - Expression-based PropertyRef missing in OneToOne mapping\n    * [NH-3072] - OneToManyPersister improvements\n    * [NH-3141] - Don't fetch id from proxy target\n    * [NH-3437] - Turn SqlMethods.Like into an extension method\n\n\n** Patch\n    * [NH-3558] - Table check and enhanced id generators in Mapping By Code\n    * [NH-3559] - UnionSubclassEntityPersister does not quote column names\n\n** Task\n    * [NH-3363] - Refactor Loader/Result Transformer interaction to match Hibernate\n\nBuild 4.0.0.Alpha1\n=============================\n\n** Known BREAKING CHANGES from NH3.3.3.GA to 4.0.0.Alpha1\n\n    NHibernate now targets .Net 4.0. Many uses of set types from Iesi.Collections have\n    now been changed to use corresponding types from the BCL. The API for these types\n    are slightly different.\n\n    Support for persistent non-generic collections removed. Use the generic counterparts instead.\n\n    ##### Possible Breaking Changes #####\n        * IDeleteEventListener, IEventSource: Use generic ISet<> instead of non-generic in method signatures.\n        * SqlString.Parts removed. Use SqlString.Count and SqlString.GetEnumerator().\n        * IPersistentCollection.GetSnapshot() now returns object instead of ICollection. The snapshot should be opaque to outside code.\n        * Removed IsDiscriminatorFormula, DiscriminatorFormula and GenerateSelectString from UnionSubclassEntityPersister class.\n        * Removed ManagedWebSessionContext. Any configuration files which use the \"managed_web\" session context should now use \"web\"\n        * SybaseASADialect removed: Use SybaseSQLAnywhere10Dialect instead.\n        * ASA10ClientDriver, ASAClientDriver and SQLiteDriver removed: Use SybaseSQLAnywhereDriver, SybaseAsaClientDriver, SQLite20Driver instead.\n        * Removed Classic HQL Parser.\n        * Removed IQueryTranslatorFactory2. It's methods were pulled up to IQueryTranslatorFactory. Method CreateQueryTranslators accepting string as first argument marked as Obsolete. \n        * IQueryExpression.Translate now has second boolean argument 'filter'\n        * Added several methods which accepts IQueryExpression to ISessionImplementor, which is duplicating methods which accepts string.\n        * Miss-spelled AdoNetWithDistrubtedTransactionFactory removed: Use AdoNetWithDistributedTransactionFactory instead\n        * HqlDistinctHolder removed: Use HqlExpressionSubTreeHolder instead\n        * DisableLogFormattedSql method removed: the default is disabled\n        * ISession.SaveOrUpdateCopy removed: Use Merge instead\n        * Oracle and MySQL: The atan2 and power functions now return double (instead of single) for consistency with other dialects.\n        * Removed FirebirdDriver. It was the same as FirebirdClientDriver since 3.2, and the latter have been the default since then.\n        * Removed bunch of unused methods on *Helper classes\n        * Static fields on NHibernateUtil are declared as their exact class\n\n** Sub-task\n    * [NH-3038] - Add Support for SQL Server 2012 Query Paging\n    * [NH-3098] - Pull code/history from nhibernate-core repository to new iesi.collections repository\n    * [NH-3099] - Remove Iesi.Collection-related code from nhibernate-core repository\n    * [NH-3163] - Remove internal use of non-generic ISet\n    * [NH-3165] - Remove support for non-generic ISet in mapped classes\n\n\n** Bug\n    * [NH-2008] - Mapping <set> with HashSet<T> generates unecessary update on collection owner\n    * [NH-2033] - Composite-Id relationships (key-many-to-one) do not appear to be used in CreateCriteria\n    * [NH-2762] - Failed to use IGrouping<TKey, TElement>.Contains() from Lookup to make SQL IN statement\n    * [NH-2772] - Lazy-collection not loaded when a property is Lazy-loaded\n    * [NH-2819] - DefaultDynamicLazyFieldInterceptor does not handle generic methods correctly\n    * [NH-2852] - Linq ThenFetch fails on deep where clause.\n    * [NH-2897] - MultiQuery/ToFuture broken with Contains (in)\n    * [NH-2915] - In Linq, Where clause is ignored if followed by Fetch and then by OrderBy\n    * [NH-2923] - Extra lazy indexed collection throws InvalidCastException fetching Count\n    * [NH-2955] - AbstractQueryImpl accepts IEnumerables in SetParameterList but breaks if they're not ICollections\n    * [NH-2977] - MsSqlServer dialects reject custom SQL Server queries with limits \n    * [NH-2985] - Wrong equals operator when you use <list> mapping when child has property with lazy=\"true\"\n    * [NH-3056] - Fetch clause suppresses where clause if positioned before Select clause\n    * [NH-3058] - Methods on entities with lazy properties do not trigger load of lazy properties\n    * [NH-3070] - Proxy for an entity with a lazy property and a formula property is not .Equal to itself\n    * [NH-3132] - Property with access=\"field.camelcase\" not working when another property is lazy\n    * [NH-3139] - Optional Entity association using lazy property returns proxy instead of null \n    * [NH-3160] - Null reference Exception when creating schema for dialect that doesn't support unique\n    * [NH-3183] - Linq ToFuture/ToFutureValue does not fall-back if dialect does not support multi-queries\n    * [NH-3186] - Simple query with Fetch and SingleOrDefault throws exception (regression from 3.3.0)\n    * [NH-3202] - Offset parameter is off by one for dialects with OffsetStartsAtOne set (SybaseSQLAnywhere10+)\n    * [NH-3235] - Query plan cache cannot be set to size zero\n    * [NH-3236] - Build menu incorrectly launches NUnit\n    * [NH-3244] - Proxying fails for methods with generic class as generic parameter constraints or generic parameter attributes\n    * [NH-3256] - GroupBySelectClauseRewriter fails or is suboptimal on .Net 4.0\n    * [NH-3260] - Unable to proxy generic methods with constraints referencing type parameters from containing class\n    * [NH-3274] - Take() support broken with Informix\n    * [NH-3281] - Linq providers are not being passed Limit and/or Offset as value only as parameters\n    * [NH-3340] - NHibernate assembly loses the AllowPartiallyTrustedCallers attribute after ILMerge\n    * [NH-3381] - atan2 should be defined to return double on Oracle and MySql\n    * [NH-3420] - Race Condition in result set wrapper because of the ColumnNameCache\n\n** Improvement\n    * [NH-2005] - hql concat function not registered in MsSqlCeDialect\n    * [NH-2808] - Missing overloads for Session.Save/Update/SaveOrUpdate\n    * [NH-3037] - ActionQueue Insertion sort performance degrades exponentially (HHH-2957 Port)\n    * [NH-3054] - Mapping By-Code support for non-generic User Collection Types\n    * [NH-3133] - Support for importing classes in mapping.\n    * [NH-3175] - Joins should support additional restrictions (HQL-with)\n    * [NH-3238] - Add Sql2008ClientDriver support in DatabaseSetup for testing\n    * [NH-3272] - Move TypeHelperExtensionMethods to a more internal namespace\n    * [NH-3319] - Typo in a folder name in NHibernate.Test project\n    * [NH-3343] - Remove NHibernate custom Tuple classes\n    * [NH-3382] - Improve materialization performance (for simple Linq query, may reduce 50%+ time)\n    * [NH-3398] - Support PostgreSQL trigonometric functions\n    * [NH-3399] - Static fields on NHibernateUtil should be declared as their exact class\n    * [NH-3459] - DefaultIfEmpty not supported when used with a GroupBy\n    * [NH-3553] - Support the 'power' function on MS SQL Server\n\n** New Feature\n    * [NH-3164] - Support building NHibernate on .Net 4\n    * [NH-3166] - Support for Microsoft Sql Server 2012 \n    * [NH-3193] - MsSqlCeDialect should correct override string manipulation functions\n    * [NH-3195] - MsSqlCeDialect should support TOP limit\n    * [NH-3284] - New Ingres9+ Dialect\n    * [NH-3349] - Add support for managed ODP.NET\n\n** Patch\n    * [NH-2778] - Batcher for MySql\n    * [NH-3540] - Null pointer exception for empty BaseDirectory (Path.combine)\n\n** Task\n    * [NH-2997] - Where() clause with many-to-many relation is missing (solution in description)\n    * [NH-3097] - Move Iesi.Collections project to own repository\n    * [NH-3185] - Update included Iesi.Collections.dll and add its pdb file\n    * [NH-3314] - Remove ManagedWebSessionContext\n    * [NH-3322] - Remove one of the Firebird drivers\n    * [NH-3339] - Remove SecurityPermission attributes with LinkDemand for .NET 4.0 assemblies\n    * [NH-3344] - Remove the classical HQL parser\n    * [NH-3345] - Remove support for persistent non-generic collections\n    * [NH-3346] - Remove members obsolete in NH3 from NH4\n    * [NH-3347] - Remove obsolete dialects for NH4\n\n\nBuild 3.4.1.GA\n=============================\n\n** Bug\n    * [NH-3795] - C# compiler \"Roslyn\" regression\n\n\nBuild 3.4.0.GA\n=============================\n** Known BREAKING CHANGES from NH3.3.0.GA to NH3.4.0.GA\n\n    ##### Possible Breaking Changes #####\n        * [NH-2290] Invalid hql parenthesis expansion in generated sql\n            Unary minus before parentheses in HQL lost the parentheses when translated\n            to SQL and therefore the wrong value was returned. This use of unary minus is now\n            implemented in the mathematically correct way.\n\n\n** Sub-task\n    * [NH-3432] - Merge fix for bug NH-3058 into 3.Next\n\n** Bug\n    * [NH-2819] - DefaultDynamicLazyFieldInterceptor does not handle generic methods correctly\n    * [NH-2977] - MsSqlServer dialects reject custom SQL Server queries with limits \n    * [NH-3058] - Methods on entities with lazy properties do not trigger load of lazy properties\n    * [NH-3132] - Property with access=\"field.camelcase\" not working when another property is lazy\n    * [NH-3244] - Proxying fails for methods with generic class as generic parameter constraints or generic parameter attributes\n    * [NH-3638] - Mapping-by-code is occasionally picking the wrong column name\n\n** Patch\n    * [NH-3529] - Add linqtohql.generatorsregistry to nhibernate-configuration.xsd\n\n** Task\n    * [NH-3412] - Need to reconcile changes to MsSql2005DialectQueryPager for NH-2977 between 3.3.3 and vNext\n\n\nBuild 3.4.0.CR1\n=============================\n\n** Sub-task\n    * [NH-3434] - Need to be sure NH-3428 is resolved in 3.Next.  \n\n** Bug\n    * [NH-1882] - Collection was not processed by flush when iterate through collection in PostUpdateEvent\n    * [NH-2128] - Interceptor fires AfterTransactionCompletion too many times with distributed transactions and user-supplied connections\n    * [NH-2290] - Invalid hql parenthesis expansion in generated sql\n    * [NH-2921] - IsSpecialName of getter/setter method of proxy property returns false\n    * [NH-2923] - Extra lazy indexed collection throws InvalidCastException fetching Count\n    * [NH-2943] - Mapping XmlDocument (.NET) to XmlType (Oracle). Class XmlDocType not working.\n    * [NH-2963] - Validation on a collection property (mapped with Loquacious config) raise an exception [Invalid expression type: Expected ExpressionType.MemberAccess, Found Convert]\n    * [NH-3103] - ManyToAny ByCode does not use field customizer \n    * [NH-3140] - Bag ManyToMany column is ignored if it's the same as the child entity name and is replaced with \"elt\" in the sql.\n    * [NH-3190] - QuerySyntaxException is thrown when where contains subselect that matches bool value\n    * [NH-3234] - Merge is failing with \"Unable to resolve property\"\n    * [NH-3237] - Max and Min aggregate expressions do not work for custom UserType due to unnecessary HQL Cast\n    * [NH-3277] - LINQ Projection of Int64 using ToString method causes \"cast as char\" instead of \"cast as nvarchar\" in MsSqlCe dialect\n    * [NH-3280] - Mapping OneToOne doesn't work for inherited members\n    * [NH-3315] - Distinct paging problem with alias SQL Server 2005\n    * [NH-3316] - Mapping parent property on component in a set adds bogus property element\n    * [NH-3405] - Cannot Use XDocument When Setting Wrap Resultsets\n    * [NH-3496] - NHibernate SqlServer2012Dialect drop sequence bug\n    * [NH-3505] - Stateless sessions fail to save relationships pointing to proxies when versioning is enabled\n    * [NH-3572] - AfterTransactionCompletion called twice if a distributed transaction is rolled back\n    * [NH-3592] - Failed to execute multi criteria with Ms Sql Ce 4.0\n    * [NH-3611] - NHibernateUtil.GuessType(typeof(string)) returns ClassMetaType\n    * [NH-3614] - Cannot create project an enumerable of non-mapped objects (List<string>)\n    * [NH-3615] - Incorrect assumption that namespace always exists\n    * [NH-3618] - ManyToOne does not allow to set \"unique\"=\"true\", \"unique-key\" and \"index\" for multi-column properties\n    * [NH-3641] - Missing Outer Join\n\n** Improvement\n    * [NH-2005] - hql concat function not registered in MsSqlCeDialect\n    * [NH-2958] - Delay creation of instance of XmlSerializer (loading xml assembly) until its needed.\n    * [NH-3465] - Add support of IIF function for Oracle\n    * [NH-3466] - Register MySQL functions\n    * [NH-3467] - Add support of 2-arg LOCATE function\n    * [NH-3608] - AbstractSessionImpl abstract method visibility\n\n** New Feature\n    * [NH-2405] - MySQL5InnoDBDialect\n    * [NH-3192] - MsSqlCeDialect should override date manipulation functions\n    * [NH-3193] - MsSqlCeDialect should correct override string manipulation functions\n    * [NH-3194] - MsSqlCe40Dialect should support variable limits\n    * [NH-3195] - MsSqlCeDialect should support TOP limit\n    * [NH-3196] - MsSqlCeDialect should support guid.native id generator\n\n** Patch\n    * [NH-2996] - MySQL 5.5 + .NET Connector 6.2+ and GUIDs: Need to use CHAR(36)\n    * [NH-3209] - DateTimeOffset properties have not been considered; only the properties of DateTime have been considered\n\n** Task\n    * [NH-3251] - Update to antlr 3.5.0.2\n\n\nBuild 3.3.5.GA\n=============================\n\n** Bug\n    * [NH-3795] - C# compiler \"Roslyn\" regression\n\n\nBuild 3.3.4.GA\n=============================\n\n** Bug\n    * [NH-3638] - Mapping-by-code is occasionally picking the wrong column name\n\nBuild 3.3.3.SP1\n=============================\n\nFixes for regressions introduced in the 3.3.3 cycle.\n\n** Bug\n    * [NH-3429] - Exception when debug logging is enabled when using a linq expression that requires a proxy class.\n    * [NH-3436] - Linq-Query with IList<X>.Contains fails with NotSupportedException(The constant for 'System.Collections.Generic.List`1[System.Guid]' is not supported) at HqlTreeBuilder.Constant\n\nBuild 3.3.3.GA\n=============================\n\nBEWARE: In versions prior to 3.3.3.CR1, the handling of the LINQ Take() method\n        was flawed - no matter where in the query Take() was placed it was\n        always applied as if it had been placed at the end. 3.3.3 fixes this,\n        so that Take() now correctly follows the .Net semantics. That is, in\n        3.3.3, the following queries might now give different results:\n\n            session.Query<Foo>.OrderBy(...).Take(5).Where(...);\n            session.Query<Foo>.Where(...).OrderBy(...).Take(5);\n\n        Starting with 3.3.3, the first query will generate a subquery to correctly\n        apply the row limit before the where-clause.\n\n** Bug\n    * [NH-2408] - SQL Server pessimistic locking syntax incorrect for union-subclass\n    * [NH-3109] - Rounding float values in aggregate functions with group by statements (MySQL).\n    * [NH-3324] - HQL: ArgumentNullException when using LEFT OUTER JOIN and SetMaxResults\n    * [NH-3408] - System.IndexOutOfRangeException when using Contains on a List<byte[]>\n    * [NH-3413] - Clearing a list used by Contains causes subsequent queries to fail\n\nBuild 3.3.3.CR1\n=============================\n\n** Fix\n    * [NH-3148] - ComponentAsId properties do not maintain the Column specified using property mapper when component is from base class\n\n** Sub-task\n    * [NH-3052] - Projection of one-to-many generates invalid SQL\n    * [NH-3385] - Add ability to expand many subcollections with WCF Data Services\n\n** Bug\n    * [NH-2042] - Table per subclass, using a discriminator mappings with formula in child class error\n    * [NH-2539] - Contains/StartsWith fails when invoked via WCF Data Service.\n    * [NH-2566] - NotSupportedException when using Skip/Take/First/Single/Any on GroupBy\n    * [NH-2588] - NotSupportedException when using Skip/Take with Where clause\n    * [NH-2860] - Lazy property throwing casting exception\n    * [NH-2979] - MsSqlCe dialect doesn't give the correct SQL type for Decimal with Scale defined\n    * [NH-3039] - IndexOutOfRangeException thrown when web server is processing multiple sessionfactory creation requests\n    * [NH-3057] - Collection subquery constraint on joined-subclass inherited properties causes invalid sql (base classes are not joined in).\n    * [NH-3105] - ComponentAsId does not find property that belongs to a parent class\n    * [NH-3108] - OrderBy with Select throws exception\n    * [NH-3129] - Linq Provider doesn't recognize CompareTo method\n    * [NH-3241] - Linq: Mixing Fetch/FetchMany with Any() throws: ArgumentException: Expression of type 'System.Collections.IList' cannot be used for parameter of type 'System.Collections.Generic.IEnumerable`1[System.Object]'\n    * [NH-3261] - Linq Query throws when there is a conditional operator\n    * [NH-3305] - SybaseSQLAnywhere10Dialect defaults a numeric datatype to (19,255) precision, which is not compatible with the DB\n    * [NH-3318] - Composite-id does not allow superclass properties\n    * [NH-3320] - Exception in LINQ projection with OrderBy/Take - block using WCF Data Services projection's\n    * [NH-3326] - Exception in LINQ with pagination - block using WCF Data Services\n    * [NH-3330] - Exception in LINQ for nullable strings in Oracle - blocks using WCF Data Services\n    * [NH-3332] - The NH linq driver generates sql code that doesn't match the semantics of the original linq query\n    * [NH-3337] - Exception in LINQ for complex nullable conditionals - blocks using WCF Data Services\n    * [NH-3357] - System.NotSupportedException : Don't currently support idents of type DateTimeOffset\n    * [NH-3366] - LINQ query with various Compare() and CompareTo() fails (WCF Data Services)\n    * [NH-3369] - ToFuture/ToFutureValue should fall-back on dialects without MultiQuery support\n    * [NH-3378] - MySQLDialect incorrect handle DbType.Currency as MONEY\n    * [NH-3379] - Oracle8iDialect and FirebirdDialect incorrect handle DbType.Currency type\n\n** Improvement\n    * [NH-2297] - Configuration.BuildSessionFactory throws a NullReferenceException when loading an invalid ICompositeUserType\n    * [NH-3301] - Support SqlMethods.Like() in LINQ queries.\n    * [NH-3360] - Allow setting timeout on a LINQ query\n    * [NH-3367] - Support string.Equals()\n    * [NH-3368] - Add support for Equals method of sbyte, DateTimeOffset and unsigned numerics\n    * [NH-3371] - NHibernate should log LINQ expression trees to ease debugging\n\n** New Feature\n    * [NH-2986] - Add ability to include collections into projections\n    * [NH-3092] - Nhibernate Linq provider does not support Math functions like Math.Cos, Math.Sin, etc\n    * [NH-3180] - Could not select first element of the group\n    * [NH-3184] - Add ability to use ToFutureValue with aggregating queries\n    * [NH-3283] - New driver: Devart.Data.MySql\n    * [NH-3333] - Add ability to expand subcollections with WCF Data Services\n\n** Patch\n    * [NH-3255] - The IDbCommand that performs the cleanup of data in AbstractStatementExecutor.DropTemporaryTableIfNecessary does not have a connection.\n\nBuild 3.3.2.GA\n=============================\n\n** Bug\n    * [NH-2463] - Exception in LINQ projection with redundant type cast - block using WCF Data Services projection's\n    * [NH-2688] - SelectMany with cast throws QuerySyntaxException\n    * [NH-2898] - Retrieving object from 2nd cache with lazy property fails\n    * [NH-3050] - Contributed patch as solution to Unable to cast object of type 'NHibernate.Impl.ExpandedQueryExpression' to type 'NHibernate.Linq.NhLinqExpression' at NHibernate.Linq.NhQueryProvider.PrepareQuery\n    * [NH-3123] - Nuget package should contain the NHibernate logo\n    * [NH-3217] - OrderBy with a parameter then Skip and Take produces sql error\n    * [NH-3239] - Linq to NHibernate and Dynamic LINQ - query caching not working\n    * [NH-3271] - Threading problem in TypeFactory\n\n** Improvement\n    * [NH-3296] - Tweak build system to allow keeping a constant assembly version between compatible releases\n    * [NH-3297] - NHibernate 3.x NuGet package should forbid Iesi.Collections 4.0 or higher\n\n** Patch\n    * [NH-3293] - SimpleExpression.ToString() returns hashes for strings and dates\n\nBuild 3.3.1.GA\n=============================\n\n** Sub-task\n    * [NH-3167] - Support for Microsoft Sql Server 2012 sequences\n    * [NH-3170] - Add native \"iif\" function to MsSql2012Dialect\n\n** Bug\n    * [NH-2789] - LINQ query on byte? simple property fails on MSSQL 2005 (tinyint)\n    * [NH-2812] - Performing a Linq query on a non-null byte property throws an InvalidCastException\n    * [NH-3121] - Silent truncation of binary data\n    * [NH-3124] - invalid cast to int in generated sql with a char property\n    * [NH-3125] - Invalid SQL when querying via LINQ with grouping (regression from 3.2)\n    * [NH-3126] - InvalidCastException when cascading saves to transient dictionary values\n    * [NH-3138] - Distinct Bug on MSSQL with OrderBy/Limit and functions in Projection/Order\n    * [NH-3142] - Batch-loading of lazy children failing when key is composite\n    * [NH-3145] - HQL query using base class entity with lazy properties throws \"No Persister For\" error\n    * [NH-3147] - Calling Contains on a subquery that contains a join throws an Exception\n    * [NH-3153] - Duplicated id generator tables if schema is specified using different methods for different classes.\n    * [NH-3162] - Byte.Equals in LINQ Where clauses throws NotSupportedException\n    * [NH-3172] - \"Duplicate dynamic module name within an assembly\"\n\n** Improvement\n    * [NH-3104] - Typo in Warning Messages\n    * [NH-3149] - MsSql2005Dialect should use nowait in LockMode.UPGRADE_NOWAIT \n    * [NH-3156] - ShowBuildMenu.bat does not work with spaces in repository folder name\n    * [NH-3168] - Add support for bit_length function for MsSql2000Dialect and above\n    * [NH-3169] - Add supprot for extract function for MsSql2000Dialect and above\n\nBuild 3.3.0.GA\n=============================\n\n** Known BREAKING CHANGES from NH3.2.0.GA to NH3.3.0.GA\n\n    ##### Possible Breaking Changes #####\n        * [NH-2214] - SQL Server 2005/2008: Exception is now thrown when paging a statement that requires distinct results, and is ordered by a column that is not included in the result set of the query\n                    - Dialog.ExtractColumnOrAliasNames method signature and visibility changed - may affect custom dialects that use this method\n        * [NH-2950] - IAccessCallback.NextValue property renamed and changed to a method called IAccessCallback.GetNextValue()\n        * [NH-2953] - SequenceStyleGenerator now forces use of a table if a pooled optimizer is chosen and the dialect doesn't support pooled sequences.\n        * [NH-2960] - Queries for an entity name will now not include instances of the same class mapped using a different entity name.\n        * [NH-2664] - IHqlExpressionVisitor has new property ISessionFactory SessionFactory { get; }\n        * [NH-3067] - The use of Substring() in Linq queries have been corrected so the zero-based index parameter in C# is converted to one-based index in SQL.\n        * [NH-2528] - Throw exception instead of silently truncate string and blob data\n        * [NH-3086] - The base dialect now defaults to ANSI syntax for substring. A custom dialect may need to adjust for this.\n\n** Bug\n    * [NH-2956] - SybaseSQLAnywhere10Dialect doesn't override OffsetStartsAtOne\n    * [NH-3111] - Wrong SQL generated when subquery uses objects from parent query\n\n** Improvement\n    * [NH-3086] - All dialects should support substring() with two arguments\n\nBuild 3.3.0.CR1\n=============================\n\n** Bug\n    * [NH-1477] - Saving a collection (thats been Cleared) with all-delete-orphan using Oracle with ODP drivers\n    * [NH-2214] - Distinct and Row_number problem\n    * [NH-2347] - Casts inside aggregate functions are incorrectly applied outside of them\n    * [NH-2419] - Linq Provider Problem with group by with an order by clause\n    * [NH-2429] - SQL Server Linq Average function on Interger field only returns truncated interger value\n    * [NH-2439] - LINQ 'in' query not fully interpreted\n    * [NH-2451] - LINQ Issue - joining twice with same table when used in both select and where. Second join is a full select and filtered in where instead of a join .. on\n    * [NH-2452] - NH 3.0 Linq provider does not correctly translate standard .Key property when grouping \n    * [NH-2492] - Problem with ROW_NUMBER and DISTINCT operator using LINQ\n    * [NH-2511] - System.ArgumentException: Object of type 'System.Linq.Expressions.ConstantExpression' cannot be converted to type 'System.Linq.Expressions.LambdaExpression' when passing an expression through a method\n    * [NH-2527] - AbstractBatcher reuses disposed IDbCommands which causes an ArgumentOutOfRangeException with OracleDataClientDriver\n    * [NH-2560] - NoViableAltException with ordering by projection in GroupBy\n    * [NH-2664] - Linq, cannot query dynamic-component\n    * [NH-2706] - subselect in LINQ query with Contains clause produces wrong SQL\n    * [NH-2722] - Linq Count() does not respect previous calls to Select() or Distinct()\n    * [NH-2744] - NewArrayInit Is not Implemented\n    * [NH-2763] - queryover fails where referencing enum in VB.NET\n    * [NH-2781] - linq's OrderBy by a calculated column doesn't work\n    * [NH-2809] - Incorrect specification of VARBINARY(MAX) in MsSql2005Dialect\n    * [NH-2828] - Persist uploads not initialized collections on flush\n    * [NH-2833] - \"where\" clause not working after \"group by\", generates wrong SQL\n    * [NH-2846] - Fetch on Count Throws Error\n    * [NH-2850] - Unable to use enums in NH 3.2 QueryOver checked comparison\n    * [NH-2853] - SetFirstResult and SetMaxResults do not work correctly on Oracle (ODP.NET)\n    * [NH-2856] - Retrieval of cached query with Fetch throws exception\n    * [NH-2857] - Medium Trust Bug in 3.2\n    * [NH-2858] - ToString() on Guid column with SQL Server Dialects\n    * [NH-2863] - Criteria API restriction over aggregate function wrapped in NotExpression is wrongly placed in WHERE clause instead of HAVING clause which generates invalid SQL\n    * [NH-2869] - Custom extension methods in the select clause are not projected using HQL\n    * [NH-2880] - Proxies loose their session reference on session deserialization\n    * [NH-2881] - Fix not found key handling on extra lazy one to many maps\n    * [NH-2886] - Informix support broken\n    * [NH-2889] - QueryOver component with multiple properties results in Sql Error\n    * [NH-2891] - Too many parameters removed (Pervasive SQL) - SELECT doesn't work\n    * [NH-2893] - NHibernate SQL Parameter on IBM.Data.DB2.iSeries provider\n    * [NH-2904] - Wrong query generation with LINQ subquery\n    * [NH-2906] - Using the same parameter name for two differently typed where clauses throws an exception\n    * [NH-2913] - LINQ query that contains .Any() produces invalid SQL\n    * [NH-2917] - Paging error with Skip().Take().\n    * [NH-2925] - Improper SQL  is generated for Take (pagination) for dialects which have UseMaxForLimit = true (like Oracle)\n    * [NH-2927] - Oracle Dialect does not handle the correct resolution for timestamp version columns\n    * [NH-2937] - Invalid index 0 for this DB2ParameterCollection with Count=0.\n    * [NH-2940] - OracleDialect creates wrong sql using SetFirstResult with criteria queries\n    * [NH-2946] - Superfluous join when querying by foreign key given Id with LINQ\n    * [NH-2954] - PostgreSQL should SupportsPooledSequences\n    * [NH-2959] - Polymorphic queries in MultiQuery, MultiCriteria and Futures cause ArgumentOutOfRangeException\n    * [NH-2960] - Query using entity name also returns entities of same type but different entity name\n    * [NH-2967] - MySQL Schema Update tool fails with exception\n    * [NH-2976] - AbstractPersistentCollection.Remove does not remove item from an uninitialized dictionary\n    * [NH-2989] - ComponentAsId does not set Id Property\n    * [NH-2998] - Allow to use AsQueryable on child collection\n    * [NH-3000] - QuerySyntaxException: Exception of type 'Antlr.Runtime.NoViableAltException' was thrown. when projection contains complex code [regression]\n    * [NH-3001] - NHibernate.HibernateException: Query Source could not be identified\n    * [NH-3002] - HQL: parser is trying to reuse parent implied join for subquery\n    * [NH-3003] - Linq: extra joins\n    * [NH-3004] - DriverBase.RemoveUnusedCommandParameters removes all parameters when UseNamedPrefixInSql = true and UseNamedPrefixInParameter = false\n    * [NH-3008] - Excess DB parameters created when passing SqlFunctionProjection to LHS of InExpression\n    * [NH-3009] - Linq trying to add parameters twice if same predicate is used in query more then once \n    * [NH-3016] - Mapping by code does not properly support nested types\n    * [NH-3019] - LINQ: Select Key from group by generates wrong SQL\n    * [NH-3020] - Firebird and DB2 dialect claims to support sequences, but throws in GetSelectSequenceNextValString(string) (since not overriden)\n    * [NH-3026] - Linq order by grouped count before select clause gives wrong sql\n    * [NH-3031] - Cannot Sum Property of Type Single\n    * [NH-3032] - Group By and Condition Throws Exception\n    * [NH-3036] - Wrong SqlType size set for LIKE statement\n    * [NH-3044] - Self-joined query with subquery and where - where applied to subquery rather than the external query\n    * [NH-3059] - Contains broken when used on a path (Works in previous version)\n    * [NH-3063] - Turkish-I problem in ValidateColumn\n    * [NH-3064] - Schema validation fails for ODBC\n    * [NH-3073] - Equal in Linq-provider is only implemented for string\n\n** Improvement\n    * [NH-1007] - Add a generator attribute to id\n    * [NH-2528] - Throw exception instead of silently truncate string and blob data\n    * [NH-2825] - Add property-ref and not-found attributes in mapping by code\n    * [NH-2835] - SQL Anywhere dialect/driver improvements\n    * [NH-2870] - Simplify Development on NHibernate for Contributors\n    * [NH-2875] - Add Foreign Key to one-to-one mapping by code\n    * [NH-2883] - DisableLogFormatedSql is not useful\n    * [NH-2899] - Support for \"in (<subquery>)\" in Linq\n    * [NH-2950] - Update optimizers for enhanced id generators (ported from Hibernate)\n    * [NH-2953] - Update the SequenceStyleGenerator\n    * [NH-2962] - Fix PostgreSQL and Firebird timestamp selection and precision\n    * [NH-2974] - Add unsaved-value attribute in mapping by code.\n    * [NH-2980] - Port enhanced TableGenerator from Hibernate\n    * [NH-3024] - Mapping-by-Code does not allow Unique in Component mapping\n    * [NH-3040] - SymbolSource support along with NuGet\n\n** Patch\n    * [NH-2004] - SequenceStyleGenerator + TableStructure opens multiple transactions.\n    * [NH-2545] - Comparing strings in VB throws NotSupportedException\n    * [NH-2840] - Improper SQL is generated for Take (pagination) for dialects which have UseMaxForLimit = true (like Oracle)\n    * [NH-2864] - Fix for nuget package creation.\n    * [NH-2905] - Support for multistep joins in Linq\n    * [NH-2914] - Functions for DateTime properties in OracleDialect\n    * [NH-2924] - CLONE - Improper SQL is generated for Take (pagination) for dialects which have UseMaxForLimit = true (like Oracle)\n    * [NH-2936] - Better Sequence Support for Firebird\n    * [NH-2964] - WhereRestrictionOn().IsInG() is a icollection not ienumerable like it should be\n    * [NH-2982] - SimpleExpression.ToString() can result in unwanted loading of lazy objects\n    * [NH-3010] - Fix for batching/command behaviour in OneToManyPersister\n    * [NH-3067] - Linq - substring function does not work\n\n** Task\n    * [NH-2672] - Upgrade Npgsql lib file to next release after 2.0.11.91.\n    * [NH-2752] - Re-enable CriteriaQueryTest.AllowToSetLimitOnSubquries for SQLite\n\nBuild 3.2.0.GA (rev6000)\n=============================\n\n** Known BREAKING CHANGES from NH3.1.0.GA to NH3.2.0.GA\n\n    ##### Design time #####\n        * removed obsolete \"use_outer_join\" property from nhibernate-configuration.xsd (simply remove it from your xml configuration)\n\n    ##### Possible Breaking Changes #####\n        * All Dialect.GetLimitString() methods replaced with a single GetLimitString method with a new signature.\n          For dialects the developers don't perform routine tests on, efforts were made to ensure the new limit string\n          method conforms to the database documentation.  Please report any limit-related bugs discovered at runtime.\n        * [NH-2550] - Allow public access to FieldInterceptor Session (IFieldInterceptor changed)\n        * [NH-2593] - For Microsoft SQL Server the default batch-size (adonet.batch_size) is set to 20 where not explicit defined in the session-factory configuration\n        * - ICollectionPersister added property to fix [NH-2489]\n        * [NH-2605] Refactorize MultiQuery/MultiCriteria implementation to delegate responsibility to IDrive (IDrive changed).\n        * For users who don't look at Log-ERROR, to prevent wrong behavior when lazy-properties are used the DynamicProxyValidator validates the accessability of properties setters.\n        * For those implementing IDrive without inherit from DriveBase: IDrive.AdjustCommand\n        * Dialect base: removed some no more needed properties\n\n** Bug\n    * [NH-2792] - Using a named parameter multiple times in a native SQL query results in invalid parameter binding (exception in some drivers)\n    * [NH-2813] - Cache DefaultExpiration type is \"byte\"\n\n** Improvement\n    * [NH-2571] - Full PostgreSQL Support\n    * [NH-2743] - Generic version of ISession.Merge()\n    * [NH-2800] - Change internal primitive type constructor to protected\n\n** Patch\n    * [NH-2811] - Wrong logger type into AdoNetTransactionFactory & AdoNetWithDistributedTransactionFactory classes\n    * [NH-2814] - Documentation Error: Section 3.5 - Table 3.2 - transaction.factory_class (with patch)\n\nBuild 3.2.0.CR1 (rev5976)\n=============================\n** Bug\n    * [NH-2118] - GroupBy without Select doesnt work\n    * [NH-2387] - Postgres - Unable to run LINQ query using boolean predicate - ERROR: 42883: operator does not exist: boolean = integer\n    * [NH-2435] - No order by clause generated with self referencing orderby clause.\n    * [NH-2583] - Query with || operator and navigations (many-to-one) creates wrong joins\n    * [NH-2773] - ProxyObjectReference creates a new ProxyFactory for each deserialization which disables proxy caching\n\n** Improvement\n    * [NH-2748] - Support % operator\n\n** Patch\n    * [NH-2774] - Perf - reusing same regex object in joinwalker objects\n\nBuild 3.2.0.Beta2 (rev5964)\n=============================\n** Bug\n    * [NH-2206] - Cast is not supported by the new Linq provider\n    * [NH-2213] - CLONE -Wrong parameters order in IQuery with SetParameterList and Filter. SQL Server 2005\n    * [NH-2296] - Subselect fetching strategy with a \"SetMaxResults\" query generates *extremely* inefficient sql\n    * [NH-2317] - Select after Take does not work properly\n    * [NH-2318] - Template functions fail with certain combinations of arguments.\n    * [NH-2328] - Linq query on <Any/> fails\n    * [NH-2415] - HQL parameters not converted correctly to SQL\n    * [NH-2657] - OrderBy After Cast Not Working\n    * [NH-2662] - Casting a joined alias in QueryOver loses alias context and looks for property on QueryOver root\n    * [NH-2700] - SqlFunctionProjection does not honor parameter order\n    * [NH-2701] - Cannot use Linq Skip() in conjunction with FetchMany and ToFuture\n    * [NH-2703] - Using a \"with\" restriction in outer joins result in wrong SQL\n    * [NH-2708] - Cast<>() with a where clause fails with a NotSupportedException\n    * [NH-2712] - Linq query doesn't support enums in VB.NET\n    * [NH-2717] - Count() after Cast<>() causes InvalidOperationException\n    * [NH-2729] - Parameter values are not set using OffsetStartsAtOne\n    * [NH-2733] - Using an expression in QueryOver gives: Lambda Parameter not in scope\n    * [NH-2736] - Inverted parameters in HQL statement using take\n    * [NH-2739] - Can't get ByCode mapping to produce not nullable varbinary(max)\n    * [NH-2741] - CLONE -HQL .class query on <any> mapping does not work\n    * [NH-2746] - Invalid SQL generated for MSSQL when using Filter and paging subquery together [regression from 2.1]\n\n** Improvement\n    * [NH-941] - One-Many Requiring Nullable Foreign Keys\n    * [NH-1050] - Unidirectional One To Many Without Nullable Foreign Key\n    * [NH-2070] - Better error message for \"object references an unsaved transient instance\"\n    * [NH-2427] - Support querying HasValue on Nullable types\n    * [NH-2683] - Add common dialect functions as extension methods for QueryOver\n    * [NH-2702] - Support HQL pagination with parameters\n    * [NH-2728] - ManyToAny missing from ICollectionElementRelation<TElement>\n    * [NH-2732] - Dialect.GetLimitString simplifications and improvements\n    * [NH-2738] - Exception thrown when mapping contains empty enum\n    * [NH-2749] - Externalize Remotion.Linq namespace\n    * [NH-2753] - one-shot-insert for <list> and <map> for unidirectional one-to-many\n    * [NH-2760] - Unable to order by sub-collection's count\n    * [NH-2770] - Property spelling of IDbIntegrationConfigurationProperties.LogFormatedSql\n\n** New Feature\n    * [NH-2616] - Support Trim() function in Linq\n\n** Patch\n    * [NH-2125] - Solution for NH2123 - Subselect in combination with a disjuction query causes an enormous memory cons\n    * [NH-2363] - Patch for ComponentCollectionCriteriaInfoProvider, fixed persister.ElementType cast in constructor.\n\nBuild 3.2.0.Beta1 (rev5839)\n=============================\n** Bug\n    * [NH-2404] - Future queries crash (MultiQuery) when using projection queries using hql + result transformer or the linq provider (which compiles into hql) \n    * [NH-2421] - NotSupportedException text in ToFuture and ToFutureValue does not make sense (or help)\n    * [NH-2422] - ToFuture throws NotSupportedException on IQueryable if Fetch is used.\n    * [NH-2559] - NH 3.0 Linq Provider : Issue using multiple filters on the same entity\n    * [NH-2615] - Linq Fetch cannot traverse through components\n    * [NH-2690] - Linq Select() broken with .ToFuture()\n    * [NH-2691] - Linq LongCount() behavior different from Count()\n    * [NH-2697] - Named parameter not found in HQL with mapping using \"entity-name\"\n    * [NH-2698] - Proxying fails for methods with generic type constraints\n\n** Improvement\n    * [NH-2568] - Create Custom Persister for Collection Type inherited from OneToManyPersister\n    * [NH-2695] - update default driver of firebird dialect to FirebirdClientDriver (FirebirdDriver is obsolete)\n\n** New Feature\n    * [NH-2699] - Sql Azure dialect\n\nBuild 3.2.0.Aplha3 (rev5803)\n=============================\n** Sub-task\n    * [NH-1344] - QueryTranslator: Invalid Cast to object array when using IResultTransformer\n    * [NH-1642] - one-to-many collection doesn't work if the child is mapped using table per class\n\n** Bug\n    * [NH-1090] - Query cache does not work when using Criteria API to create a projection query with a result transformer\n    * [NH-1747] - Lazy load failure on items using <join> if FK for bag is in the secondary table\n    * [NH-2510] - Lazy-loading doesn't work with cache\n    * [NH-2569] - IDGeneratorBinding seems broken when mixing schemas\n    * [NH-2587] - .Cacheable().Fetch() throws 'Exception occurred getter of xxx'\n    * [NH-2661] - NHibernate cannot handle SQL Server TIME columns when built with the .NET 4 framework\n    * [NH-2673] - Nhibernate 2nd level cache and Result transformer\n    * [NH-2685] - Unnecessary proxy initialisation in CriteriaQueryTranslator\n    * [NH-2686] - Embedded ResultsTransformers should implements Equals/GetHashCode\n\n** Improvement\n    * [NH-2505] - Querries with WHERE containing SQL Server 'bit' datatype produce CASE construction\n    * [NH-2551] - Bad code practice. Function SessionFactoryImpl.GetImplementors: if type not found - value from ReflectHelper.ClassForFullName returns through TypeLoadException.\n    * [NH-2670] - Stateless Session load no-lazy collection\n    * [NH-2684] - More simple way to add NamedQueries by-code\n\n** New Feature\n    * [NH-2674] - QueryOver doesn't have support for entity-name\n\n** Patch\n    * [NH-2669] - Patch to prevent \"NHibernate.AssertionFailure: possible non-threadsafe access to the session\" error caused by stateless sessions\n\nBuild 3.2.0.Aplha2 (rev5715)\n=============================\n** Bug\n    * [NH-2540] - Linq generates invalid boolean case statements (was: Linq ignoring configured query-substitutions)\n    * [NH-2640] - HQL Having clause is ignored without preceeding group by\n    * [NH-2641] - HQL does not throw exception on unexpected trailing tokens\n    * [NH-2642] - BatcherDataReaderWrapper.GetValue has a typo\n    * [NH-2643] - MSSQL configuration template is still using \"use_outer_join\"\n    * [NH-2652] - SchemaMetadataUpdater does not take Dialect default properties\n\n** Improvement\n    * [NH-2644] - schemaaction is not supported in joinedsubclass\n\n** New Feature\n    * [NH-2533] - Support paging in HQL\n\n** Task\n    * [NH-2653] - Remove just added ExpressionTreeVisitor class\n\nBuild 3.2.0.Aplha1 (rev5664)\n=============================\n** Bug\n    * [NH-1925] - Wrong SQL aliases generated for HQL subselect\n    * [NH-2480] - AssertByIds test function with unordered Ids\n    * [NH-2488] - Subclass join does not exclude lazy properties\n    * [NH-2489] - AbstractPersistentCollection.ReadElementByIndex gives wrong result for missing element with lazy=\"extra\"\n    * [NH-2490] - Mapping.Join.IsLazy always returns true\n    * [NH-2491] - ObjectNotFoundException in HQL query when referencing joined subclass\n    * [NH-2498] - Lazy=\"no-proxy\" does eager load\n    * [NH-2554] - NHibernate Formula doesnt recognize varbinary as a keyword on Sql Server 2008 or 2008 R2\n    * [NH-2565] - session.Persist does not work with entities with lazy properties (no-proxy)\n    * [NH-2584] - An entity with a lazy property cannot be saved in new session\n    * [NH-2603] - lazy=\"extra\" return different count than initialized collection.\n    * [NH-2604] - Problem with MSTest and Relinq (possibly due to ILMerge)\n    * [NH-2607] - Proxifier should not try to proxy sealed and non public methods\n    * [NH-2610] - ISQLExceptionConverter doesn't work with MultiCriteria and MultiQuery\n    * [NH-2622] - Proxying fails for methods with out and ref arguments\n    * [NH-2626] - LinqExtensionMethods.Query<T> implements wrong NhQueryable<T>\n    * [NH-2627] - Cloning subcriteria loses WithClause\n    * [NH-2628] - Fails to create proxy for class with method that has argument \"ref of Dictionary<string, string>\"\n    * [NH-2632] - Lazy Properties Causing An Exception If Containing Class Is Set To Not Lazy\n    * [NH-2633] - MapperByCode don't Register Component\n\n** Improvement\n    * [NH-1513] - MultiCriteria, MultiQuery improvements\n    * [NH-2382] - HQL, Criteria, QueryOver need Set methods for all NHibernate types\n    * [NH-2418] - Dialect.IsQuoted fails on empty name\n    * [NH-2495] - Support ISqlQuery in MultiQuery\n    * [NH-2518] - disable/truncate SQL parameter logging of BLOBs\n    * [NH-2526] - Sybase ASE 15 support\n    * [NH-2530] - Include WHERE clause in error message if we aren't able to locate a 'High' value\n    * [NH-2531] - NHibernate.Impl.CriteriaImpl.cs: Fix for possible ArgumentNullException in sub-criteria alias handling\n    * [NH-2550] - Allow public access to FieldInterceptor Session\n    * [NH-2563] - Support calls to ToString() in Linq queries\n    * [NH-2570] - Full SQLite Support\n    * [NH-2573] - Ability to retrieve longest registered type for a specified DbType\n    * [NH-2580] - \"Unable to locate persister\" exception message should be more helpful\n    * [NH-2586] - Default ProxyFactory\n    * [NH-2592] - Add ICriteria functionality missing in QueryOver\n    * [NH-2593] - Default common values per dialect\n    * [NH-2601] - Remove Dialect.HasAlterTable\n    * [NH-2605] - Refactorize MultiQuery/MultiCriteria implementation to delegate responsibility to IDrive\n    * [NH-2612] - Move the lambda con to the same namespace than Configuration\n    * [NH-2630] - Truncate SQL parameter logging of very long strings\n\n** New Feature\n    * [NH-2015] - Implement Hibernate's Order.IgnoreCase() \n    * [NH-2426] - postgresql schema metadata\n    * [NH-2591] - Insert ordering\n    * [NH-2602] - Mapping <subselct> node in collection, subclass, join and so on\n    * [NH-2635] - Mapping by code\n\n** Patch\n    * [NH-2548] - HQL Select Clause Parameters\n    * [NH-2590] - Missed registration of Concat function for SQLCE4\n    * [NH-2600] - Increase visibility of components in AbstractPersistentCollection\n\n** Task\n    * [NH-2561] - Consider current_timestamp semantics\n    * [NH-2575] - Update documentation for immutable classes\n    * [NH-2608] - Integrate Remotion 1.13.100 to fix duplicate mscorlib problem\n    * [NH-2636] - Expose ExpressionTreeVisitor Members\n\nBuild 3.1.0.GA (rev5425)\n=============================\n\n** Known BREAKING CHANGES from NH3.0.0.GA to NH3.1.0.GA\n\n    ##### Design time #####\n        * [NH-2481] - Deprecated: ISession.SaveOrUpdateCopy methods - use ISession.Merge methods instead\n\n    ##### Run time #####\n        * [NH-2481] - An exception will now be thrown when an entity references a transient entity and cascade=\"merge|all\" is not configured on the association\n\n    ##### Possible Breaking Changes #####\n        * [NH-2461] - Signature change for IQuery.SetParameterList\n        * [NH-2556] - NH is too tolerante to incorrect naming when access=\"field.XXX\" is used\n\n** Sub-task\n    * [NH-2525] - Wrong parameter used for limit claues in MySQL\n\n** Bug\n    * [NH-1985] - NHibernate is allowing deletion of immutable objects\n    * [NH-2037] - Reattaching an entity with many-to-one inside a natural-id\n    * [NH-2130] - Reporting query containing sum crashes when there are no rows\n    * [NH-2179] - String constants are not useable in Linq query projection\n    * [NH-2203] - problem with orderby in linq query\n    * [NH-2280] - LINQ Query on Composite key creates invalid SQL\n    * [NH-2311] - .Any() extension method does not work in most cases\n    * [NH-2362] - GroupBy with multiple fields fails with exception\n    * [NH-2375] - OfType with a where clause fails with a NotSupportedException\n    * [NH-2381] - Fetch clause fails with a NotSupportedException\n    * [NH-2386] - Unecessary update / invalid SQL generated when collection updated with a versioned (generated) parent entity\n    * [NH-2400] - Linq query fail when using contains from an empty Collection\n    * [NH-2407] - Linq provider doesn't support enums in VB.NET\n    * [NH-2412] - OrderBy generates an inner join instead a left join\n    * [NH-2433] - When using extensions methods with generic parameters the provider uses the first use even if the generic parameter is different.\n    * [NH-2441] - Logical bool values are not mapped properly (query execution returns incorrect result with SQLite)\n    * [NH-2443] - Error compiling NH with ShowBuildMenu.bat -> Cannot run Tests\n    * [NH-2450] - Multi Query in MySQL no longer working in 3.0 (was in 2.1)\n    * [NH-2459] - LINQ provider query plan cache issue with use of type check expression .Where(o=>o is SomeType)\n    * [NH-2460] - version generator is not working with DateTime2 data type.\n    * [NH-2464] - NHibernate DLLs not built with optimization in 'release' mode.\n    * [NH-2467] - Futures in 3.0.0.GA go bananas when using PostgreSQL\n    * [NH-2470] - PersistentIdentifierBag not creating snapshot correctly for new collections.\n    * [NH-2482] - SerializationException when writing object to viewstate\n    * [NH-2484] - Regression - Binary Blob SerializationException - MSSQL 2k8 / varbinary(max) \n    * [NH-2499] - Case statement does not handle multiple when clauses\n    * [NH-2501] - Case statement does not allow a parameter in the first then clause\n    * [NH-2503] - HQL subselect with addition fails\n    * [NH-2507] - LINQ queries tha compare enumeration values with /checked+ compiler option throw NotSupportedException\n    * [NH-2512] - QueryOver with Where clause and Take crashes\n    * [NH-2524] - Linq converts enums to integers prematurely\n    * [NH-2529] - Linq on Informix using take gives an exception\n    * [NH-2536] - Second call to OfType don't change the query\n    * [NH-2543] - IQueryOver support is not implemented for IStatelessSession\n    * [NH-2549] - Disposing an Stateless Session that has already been closed causes a SessionException\n    * [NH-2555] - Linq with Contains doesn't work with read only collections\n    * [NH-2556] - NH is too tolerante to incorrect naming when access=\"field.XXX\" is used\n\n** Improvement\n    * [NH-1342] - Very slow inserts for large BLOB\n    * [NH-2023] - Batch operations - introduce SetBatchSize for IStatelessSession\n    * [NH-2098] - Support for transaction isolation levels in stateless sessions.\n    * [NH-2211] - Stateless Session Linq Support\n    * [NH-2228] - Cascading StaleStateException doesn't show which Entity caused the problem\n    * [NH-2425] - Cache the XmlSerializer for HbmMapping class\n    * [NH-2449] - Add IStatelessSession.BeginTransaction(IsolationLevel) Method\n    * [NH-2454] - Add auto-quote settings to main documentation\n    * [NH-2455] - Centralization of proxy check to IProxyFactoryFactory (better support for static proxy)\n    * [NH-2457] - Ability to use DetachedCriteria from stateless session\n    * [NH-2461] - Allow parameter list as ienumerable and simplify IQuery\n    * [NH-2471] - ShowBuildMenu.bat and Windows XP\n    * [NH-2481] - Merge can fail when there is a transient entity reachable by multiple paths and at least one path does not cascade on merge\n    * [NH-2502] - Fetch/Cacheable Should be Allowed to be Called Anywhere\n    * [NH-2508] - Deprecate the ISession.SaveAndUpdateCopy API\n    * [NH-2522] - ILMerge Antlr and ReLinq\n    * [NH-2537] - Implement camelcase-m-underscore naming strategy\n    * [NH-2557] - Improves log message, of CustomType not serializable, by adding additional data\n\n** New Feature\n    * [NH-908] - Implement read-only entities\n    * [NH-2410] - Port <properties> from Hibernate\n\n** Patch\n    * [NH-2153] - Unused parameter in SetCommandTimeout method in DriverBase\n    * [NH-2172] - Unrecognised method call in expression when using QueryOver queries in VB.Net\n    * [NH-2445] - Add IStatelessSession.IsOpen and IStatelessSession.IsConnected\n    * [NH-2473] - EntityName + inheritance doesn't work\n    * [NH-2474] - Xsd for <properties> on subclass missing\n    * [NH-2478] - Docs for <properties>\n    * [NH-2513] - SetMaxResults issue with DB2400Dialect\n\n** Task\n    * [NH-2506] - Fix first example of ternary association in documentation\n    * [NH-2541] - Upgrade ReLinq to 1.13.93\n\nBuild 3.0.0.GA (rev5290)\n=============================\n** Known BREAKING CHANGES from NH2.1.1.GA to NH3.0.0.GA\n\n    ##### Design time #####\n        * [NH-2392] - ICompositeUserType.NullSafeSet method signature changed\n\n    ##### Run time #####\n        * [NH-2199] - null values in maps/dictionaries are no longer silenty ignored/deleted\n        * [NH-1894] - SybaseAnywhereDialect has been removed, and replaced with SybaseASA9Dialect.\n                - Sybase Adaptive Server Enterprise (ASE) dialects removed.\n\n    ##### Possible Breaking Changes #####\n        * [NH-2251] - Signature change for GetLimitString in Dialect\n        * [NH-2284] - Obsolete members removed\n        * Related to [NH-2358]: DateTimeOffset type now works as a DateTimeOffset instead a \"surrogate\" of DateTime\n\n** Bug\n    * [NH-2222] - Wrong type for constant/parameter value used\n    * [NH-2234] - Query on Property mapped with IUserType\n    * [NH-2244] - Linq provider does not has full supporting of components in queries.\n    * [NH-2370] - NHibernate.Linq simple where clause results in a table scan.\n    * [NH-2394] - Comparing an enum (stored as a string with a user type) to an enum literal fails\n    * [NH-2398] - Null equality uses non-boolean expression\n    * [NH-2402] - LINQ equality should map to SQL equality\n    * [NH-2403] - Linq boolean constants are of wrong type (integer)\n    * [NH-2409] - Using WithClause in Criteria API causes NH to mix up query parameters\n    * [NH-2416] - NHibernate.Linq does not support queries against <map> elements\n    * [NH-2417] - NHibernate fails to correctly load a child collection if the parent contains a many-to-one\n    * [NH-2420] - Cannot use distributed transactions while providing connection to the session\n    * [NH-2438] - LINQ 'in' query not fully interpreted\n\n** Improvement\n    * [NH-2423] - NHibernate.Linq queries against Dictionaries with ContainsKey\n\n\n** Patch\n    * [NH-2413] - Micro optimization in DefaultFlushEntityEventListener\n    * [NH-2437] - Typo\n\nBuild 3.0.0.CR1 (rev5265)\n=============================\n\n** Bug\n    * [NH-1897] - boolean discriminator formulas broken on PostgreSQL\n    * [NH-2154] - Booleans may not be used in expression HQL in PostgreSQLDialect\n\n** Patch\n    * [NH-2392] - ICompositeUserType support for cases where not all parameters should be set (such as dynamic-update)\n        \nBuild 3.0.0.Beta2 (rev5254)\n=============================\n\n** Bug\n    * [NH-1155] - SubselectFetch doesn't take into account paging\n    * [NH-2371] - Exception is thrown when using SetMaxResults on query using MySQL\n    * [NH-2374] - ForeignGenerator does not support EntityMode.Map\n\n** Improvement\n    * [NH-1799] - Change SQL Server dialect to support variable limits\n    * [NH-2376] - Allow IDisposable for event-listeners\n\n** Patch\n    * [NH-2342] - Added XDocument type\n    * [NH-2378] - Don't currently support idents of type Int16\n    * [NH-2391] - Updated Chapter 4\n\nBuild 3.0.0.Beta1 (rev5241)\n=============================\n\n** Bug\n    * [NH-2001] - Filter by  Null in Linq (hql ast version)  doesn't work  \n    * [NH-2077] - SQL Server Dialect: Nhibernate fails to execute native queries with parameters, separated with ';'\n    * [NH-2084] - Future + hql queries + same parameter name leads to \"NHibernate.QueryException: The named parameter personId was used in more than one query. Either give unique names to your parameters, or use the multi query SetParameter() methods\"\n    * [NH-2331] - ICriteria: Correlated query throws \"Could not find a matching criteria info provider to\", works in 2.1.0 broken in 2.1.2\n    * [NH-2352] - Null reference exception in GetDefaultConfigurationFilePath when AppDomain.CurrentDomain.RelativeSearchPath is null\n    * [NH-2358] - DateTimeOffsetType doesnt properly convert to-from database; milliseconds are lost.\n    * [NH-2364] - Dynamic entities with \"full name\" result in incorrect queries\n\n** Improvement\n    * [NH-1108] - Reference Data - Ability to load all rows from a table using an HBM file.\n    * [NH-2313] - Better logging when SessionFactory is being built\n    * [NH-2355] - Allow composite-id without class on dynamic entity\n\n** New Feature\n    * [NH-2309] - Add support for Future() with the new Linq provider\n    * [NH-2367] - Native support for System.Uri as string\n\n** Patch\n    * [NH-2073] - Missing QuerySequencesString override in FirebirdDialect\n    * [NH-2082] - AdoTransaction sometimes writes to log wrong information about IsolationLevel\n    * [NH-2357] - Support for custom boolean functions in the linq provider (as FREETEXT).\n\n\nBuild 3.0.0.Alpha3 (rev5226)\n=============================\n\n** Bug\n    * [NH-1927] - Criteria generates wrong sql when eager fetching one-to-many with filter\n    * [NH-1928] - SQL line comments swallow next line\n    * [NH-2024] - Max results parameter could not provided to subquery\n    * [NH-2061] - Merge operation causes null exception for null components that contain many-to-many relations\n    * [NH-2096] - IndexOutOfRangeException reading zero-length binary value from MySQL\n    * [NH-2112] - Update executed on the DB during a Session.Merge of an unmodified entity\n    * [NH-2138] - Entity name support in custom SQL is broken: sql-query/return/@entity-name attribute is ignored\n    * [NH-2147] - default_batch_fetch_size has no effect\n    * [NH-2188] - Exception occurs when configuration searches default config file and multiple search path were defined for current AppDomain.\n    * [NH-2202] - Unable to use ICriteria with projection property that references a composite key relationship\n    * [NH-2258] - Paging params in subquery breaks query execution.\n    * [NH-2265] - Any linq query using oracle fails when restricting the number of results returned\n    * [NH-2270] - NHibernatethrows MappingException on Linux/Mono 2.7\n    * [NH-2279] - PersistentIdentifierBag fails to maintain ID map in many cases\n    * [NH-2288] - The drop scripts from SchemaExport in SQL2005 dialect will not work for constraints when using DefaultSchema setting other than dbo\n    * [NH-2289] - Linq query fail when using contains from ICollection<T> or IList<T>\n    * [NH-2302] - MsSql Dialect, mapping an nvarchar(max) using string(10000) causes string truncation\n    * [NH-2303] - Regression bug: hibernate-mapping/subclass element can no longer extend hibernate-mapping/class//subclass element\n    * [NH-2322] - Performing updates in OnPostUpdate event causes enumeration error\n    * [NH-2339] - After rev 5139 (apply NH-2335) NHibernate does not work under Medium Trust\n    * [NH-2343] - NHibernate.Type.GenericBagType<T>.Wrap() incorrectly assumes collection implements IList<T>\n    * [NH-2344] - Coalesce expression does not work on linq provider\n\n** Improvement\n    * [NH-626] - Adding XmlDoc to NH types\n    * [NH-1618] - Lazy loading for one-to-one association\n    * [NH-1894] - New SQL Anywhere NHibernate dialect\n    * [NH-2135] - Compatible with Mono\n    * [NH-2292] - Set Initialize in AbstractLazyInitializer as virtual\n    * [NH-2301] - Castle Bytecode with last released 2.5\n    * [NH-2321] - Recommended method for xml intellisense\n    * [NH-2340] - Workaround, for some DataProviders, in AbstractCharType for char? \n\n** New Feature\n    * [NH-866] - SQL Server 2005 XML Support\n    * [NH-2348] - Support polymorphism with Get and Load\n\n** Patch\n    * [NH-2006] - Additional test to use-many-to-one\n    * [NH-2111] - PersistentIdentifierBag has null reference exception when accessing SyncRoot on lazy loaded collection\n    * [NH-2278] - PersistentGenericIdentifierBag instantiates wrong list type\n    * [NH-2284] - Obsolete members can be removed\n    * [NH-2293] - When query has only a \"from\" throw QuerySyntaxException instead of InvalidCastException\n    * [NH-2307] - Fix ByteCode Framework Targets\n    * [NH-2332] - Update SybaseAnywhereMetaData.cs to support fetching the reserved words\n    * [NH-2335] - ReflectiveHttpContext support for different .NET versions\n    * [NH-2336] - Leading and trailing ansi trim emulation functions are reversed\n    * [NH-2346] - Dialect.TableTypeString is not used when creating schema.\n\n** Task\n    * [NH-2161] - Breaking change in naming strategy from 2.0 to 2.1\n    * [NH-2315] - Spring version does not match antlr version\n    * [NH-2338] - Upgrade to Castle.Core 2.5.1\n\nBuild 3.0.0.Alpha2 (rev5159)\n=============================\n\n** Bug\n    * [NH-1653] - SubqueryExpression don't support Dialect with VariableLimit\n    * [NH-1836] - AliasToBean transformer doesn't work correctly with MultiQuery\n    * [NH-2133] - Incorrect number of command parameters\n    * [NH-2148] - Not possible to call methods on Proxy for lazy-property\n    * [NH-2149] - CAST() statements fail in MySql due to invalid type parameters\n    * [NH-2158] - NVL Sql Function is broken\n    * [NH-2160] - MSSql DateTime2 type is not supported when preparing\n    * [NH-2162] - Formulas containing a DateTime data type incorrectly have that data type aliased with the outer entity alias\n    * [NH-2224] - SQLite 'In'-Restriction with year function\n    * [NH-2245] - AbstractEntityPersister ignores optimistic-lock when generating delete SQL on versioned objects\n    * [NH-2251] - System.FormatException mixing Future and Skip/Take\n    * [NH-2253] - SchemaExport/SchemaUpdate should take in account hbm2ddl.keywords\n    * [NH-2257] - Parameter ordering not working when driver does not support Named Parameters\n    * [NH-2261] - Linq Count function fails with MySQL Dialect\n    * [NH-2273] - SqlClientBatchingBatcher doesn't set timeout on batches after the first\n    * [NH-2277] - NHibernate.Linq  - Eager Fetching Superclass Collection Throws  NullReferenceException.\n\n** Improvement\n    * [NH-1378] - New Drivers using ADO.NET's DbProviderFactories\n    * [NH-1421] - Better exception message for Invalid handling of empty parameter lists\n    * [NH-2103] - Expose hbm mappings\n    * [NH-2117] - many-to-one mapping with composite-id formula fails\n    * [NH-2191] - Make a method FilterFragment of class AbstractEntityPersister a virtual\n    * [NH-2217] - LinFu version 1.0.3 used is not thread-safe. (new LinFu1.0.4 available)\n    * [NH-2220] - Support temporary tables within SQLite Dialect\n    * [NH-2226] - Set custom bytecode provider type in app.config\n    * [NH-2263] - Client Profile Support\n    * [NH-2266] - better exception if no concrete subclasses exist\n    * [NH-2267] - Prepared statements should be enabled for PostgreSQL\n    * [NH-2268] - Substring and Replace functions for PostgreSQLDialect\n    * [NH-2287] - Wrong HQL should throws QuerySyntaxException\n\n** New Feature\n    * [NH-1135] - Local & Utc DateTime Type\n    * [NH-1554] - Logging Abstraction\n    * [NH-1946] - Criteria API support for HQL 'with' clause\n    * [NH-2256] - Add support for user-provided extensions to the Linq provider\n    * [NH-2259] - Add a way to reset the Any cached type\n\n** Patch\n    * [NH-2026] - Fix: SchemaExport fails with foreign key constraints on Informix\n    * [NH-2120] - CsharpSqlite managed/embedded SQL database driver\n    * [NH-2142] - Register function Concat fo MySql to avoid null problem\n    * [NH-2190] - Criteria Join Restrictions Support (HHH-2308 Port)\n    * [NH-2252] - Added paging support for SQL CE 4\n    * [NH-2255] - MsSql2005Dialect resets parameters' positions(for paging parameters) when lock in use.\n\nBuild 3.0.0.Alpha1 (rev5056)\n=============================\n\n** Sub-task\n    * [NH-2045] - NH 2044 Fixed\n\n** Bug\n    * [NH-892] - <many-to-one> associated by property-ref generates wrong SQL\n    * [NH-1849] - Using custom sql function \"contains\" causes an Antlr exception\n    * [NH-1891] - Formula - Escape characters break formula\n    * [NH-1899] - SaveOrUpdateCopy throws InvalidCastException\n    * [NH-1902] - QBE don't set the '%' wildcards when using an other matchmode than Matchmode.Exact\n    * [NH-1975] - QueryOver() on char Property yields exception\n    * [NH-1981] - Multiple SQL parameters generated for same HQL parameter\n    * [NH-1989] - Future query does not use second level cache\n    * [NH-2009] - Many-to-one fails when using property-ref against a joined property\n    * [NH-2020] - ISQLExceptionConverter does not get called if batch size enabled\n    * [NH-2027] - NH sql-query does not support calling Stored Procedures in Packages\n    * [NH-2030] - NHibernate.SqlTypes.SqlTypeFactory is not threadsafe\n    * [NH-2035] - Wrong error \"ORDER BY items must appear in the select list if SELECT DISTINCT is specified.\"\n    * [NH-2044] - NHibernate.Criterion.Expression.Eq with chartype has a bug\n    * [NH-2047] - OracleDataClientBatchingBatcher writes misleading log messages in a different format than SqlClientBatchingBatcher\n    * [NH-2052] - CLONE -Getting identifier on a proxied class initializes it when identifier is defined in parent class\n    * [NH-2064] - Filter definitions should not be mandatory to be used\n    * [NH-2069] - When touching the identifier of a proxy object a call to the database is executed. \n    * [NH-2074] - SQL Server Dialect: unicode literals in formula results in incorrect SQL\n    * [NH-2086] - MsSqlCeDialect fails when mapping contains schemas\n    * [NH-2090] - ShemaValidator + Firebird\n    * [NH-2092] - Constrained lazy loaded one to one relations using Castle DynamicProxy throws ArgumentNullException\n    * [NH-2093] - When using Castle:s FieldInterceptionProxy, NHibernateProxyHelper.GuessClass() cannot guess the correct entity type.\n    * [NH-2094] - When using Castle:s FieldInterceptorProxy, accessing an initialized property (even nonlazy) throws LazyInitializationException\n    * [NH-2102] - Entity with constrained, lazy one-to-one relation should not generate field intercepting proxy\n    * [NH-2113] - NH force eager loading of key-many-to-one entity with overriden GetHashCode\n    * [NH-2122] - Nhibernate documentation refers to CriteriaUtil whitch is removed from 2.1\n    * [NH-2129] - FutureValue Parameters Missing Quotes\n    * [NH-2137] - list-index with one-to-many does not work\n    * [NH-2155] - NHibernate project files contain reference to missing AssemblyInfo.cs file\n    * [NH-2166] - Custom ISQLExceptionConverter is not called in the case when using query.UniqueResult<T>()\n    * [NH-2168] - Statistics.QueryExecutionMaxTimeQueryString is empty\n    * [NH-2173] - SetMaxResults fails when Dialect has BindLimitParametersFirst == true\n    * [NH-2175] - Cannot Cache NHibernate Future Criteria Results\n    * [NH-2189] - Fetch Join Not Consistently Working With Future\n    * [NH-2192] - Thread safety issue with QueryParameters.PrepareParameterTypes\n    * [NH-2199] - Map with element doesn't support nullable types\n    * [NH-2205] - NHibernate.Loader.Loader.DoQuery can hide exceptions\n    * [NH-2210] - Problem with merging detached entities with components\n    * [NH-2219] - HQL Update of multiple columns only updates the first column\n    * [NH-2221] - The tuplizer value specified for a component within a HBM file is ignored\n    * [NH-2225] - New Embedded LINQ Provider & Bitwise Queries\n    * [NH-2235] - IQueryOver.SelectList uses sub-type type instead of root type\n    * [NH-2242] - Formula - Escape characters break formula\n\n** Improvement\n    * [NH-1248] - Check if result of Subquery is null with Criteria API\n    * [NH-1838] - Guid support in MySql dialect\n    * [NH-1850] - NHibernate should log query duration\n    * [NH-1862] - Strongly typed configuration of SessionFactory properties \n    * [NH-1877] - Support for Projections.GroupBy(IProjection projection) \n    * [NH-1892] - Programatic configuration of Cache\n    * [NH-1935] - Add new WcfSessionContext to the already available ICurrentSessionContext implementations\n    * [NH-2021] - Exceptions serialization\n    * [NH-2055] - hbm2ddl SchemaExport support batching (GO in ddl)\n    * [NH-2065] - provide better exception details\n    * [NH-2083] - Undocumented attributes on hibernate-mapping element\n    * [NH-2150] - CreateCriteria / QueryOver inconsistency\n    * [NH-2186] - Allow MultiCriteria to directly add IQueryOver\n    * [NH-2215] - MsSql2005Dialect does not use parameters for paging parameters\n    * [NH-2216] - EnumType<T> as IType\n    * [NH-2230] - <parent> tag does not allow any accessor\n    * [NH-2249] - DateType as IParameterizedType to customize the BaseDateValue for null\n\n** New Feature\n    * [NH-429] - Lazy load columns\n    * [NH-1922] - Allow DetachedCriteria To Work with IStatelessSession\n    * [NH-1978] - Add ability to delimit aliases in generated SQL\n    * [NH-2152] - QueryOver equality to null should generate (x is null or x == value)\n\n** Patch\n    * [NH-2031] - Mod function in SqlDialect is broken\n    * [NH-2041] - SchemaExport does not export Components in Joined tables properly\n    * [NH-2046] - Release builds do not include PDB files\n    * [NH-2101] - Missing IsNotIn for WhereRestrictionOn\n    * [NH-2106] - DetachedCriteria.SetLockMode() is missing\n    * [NH-2131] - SessionIdLoggingContext perf patch\n    * [NH-2169] - ToUpper and ToLower functions are inverted in the new Linq provider\n    * [NH-2194] - NHibernate.Util.PropertiesHelper class throwing FormatException when property values are in-compatible with the expected type\n    * [NH-2201] - NDataReader doesn't reset the currentrow index when a move to NextResult is executed\n    * [NH-2227] - Missing [Serializable] attribute on ReadOnlyAccessor\n    * [NH-2236] - GetSequenceNextValString for Informix is wrong\n    * [NH-2243] - 'foreign-key' ignored in join/key\n\n** Task\n    * [NH-2013] - HQL breaking change\n    * [NH-2247] - Update FlushMode Documentation\n\nBuild 2.1.2.GA (rev4854)\n=============================\n** Bug\n    * [NH-2011] - Many-to-many inside a component will not be saved when using SaveOrUpdateCopy or Merge\n    * [NH-2283] - CLONE -one-to-many collection with table per subclass, using discriminator: wrong proxies in collection\n\n** Improvement\n    * [NH-2022] - Allow overriding in Query By Example\n\n** Patch\n    * [NH-2007] - SesssionIdLoggingContext patch for big resultsets\n    * [NH-2019] - Clarification about the use of <import> for polymorphic queries\n\nBuild 2.1.1.GA (rev4814)\n=============================\n\n** Sub-task\n    * [NH-1368] - Check same behavior for other persistent collection.\n\n** Bug\n    * [NH-1255] - key-many-to-one && not-found\n    * [NH-1476] - filtering by key-many-to-one causes invalid sql\n    * [NH-1760] - Missing table join when use a criteria on key-many-to-one part of a Composite Id\n    * [NH-1785] - Invalid SQL generated for join on composite id using Criteria API \n    * [NH-1858] - Problem with MsSql2000 and 2005 Dialects GetLimitString when using use_sql_comments=true\n    * [NH-1895] - delete-orphan mapping, NullReferenceException in DefaultDeleteEventListener.DeleteTransientEntity\n    * [NH-1898] - HQL query parser can't determine parameter type when using native sql function in hql query.\n    * [NH-1899] - SaveOrUpdateCopy throws InvalidCastException\n    * [NH-1902] - QBE don't set the '%' wildcards when using an other matchmode than Matchmode.Exact\n    * [NH-1904] - Protected properties and public properties cannot have the same name with different case\n    * [NH-1905] - Join used together  with subquery generates wrong SQL\n    * [NH-1907] - IQuery.SetParameter<T> should use DetermineType\n    * [NH-1908] - Mishandling of filter parameters causes System.InvalidCastException\n    * [NH-1911] - Aggregate parameters in projection are not substituted\n    * [NH-1913] - AdoNet batcher not using CommandTimeout\n    * [NH-1914] - Collections with out native ID generation is not working\n    * [NH-1915] - CLONE -HQL AST-Parser: Null-Pointer Exception on Non-Exsistant Entity on Joins\n    * [NH-1917] - Not retrieving AUTO_INCREMENT identifier on MySQL because of connection closing\n    * [NH-1920] - Session Filters + collection + parametrized query = bug \n    * [NH-1926] - Oracle: Schema update crashes\n    * [NH-1931] - NativeSQLQuerySpecification.Equals compares collections by reference\n    * [NH-1938] - No 'lower' call in sql-query in LikeExpression with 'ignorecae' = true\n    * [NH-1939] - Missing <param> element in NHibernate mapping schema.\n    * [NH-1941] - Custom Enum-String mapping is not written to SQL statement\n    * [NH-1948] - Hibernate mapping file does not allow a value of 0 for the \"scale\" attribute of the \"property\" element\n    * [NH-1959] - Adding/Removing items to idbag in one transaction causes KeyNotFoundException\n    * [NH-1963] - System.InvalidCastException on cacheable query with byte array query parameter\n    * [NH-1964] - Byte array truncation to a length of 8000\n    * [NH-1969] - Criteria API does not handle property of type \"System.Type\" correctly\n    * [NH-1973] - DateTime sent to dataase is not accurate to millisecond\n    * [NH-1979] - cast and parameter combination in HQL fails to parse\n    * [NH-1983] - Blobs and Clobs with Sql Server CE\n    * [NH-1985] - NHibernate is allowing deletion of immutable objects\n    * [NH-1987] - MultiQuery does not update statistics\n    * [NH-1990] - Subquery filter parameters are not set as variables in SQL\n    * [NH-1992] - BasicFormatter throws exceptions for certain types of data\n    * [NH-1997] - Original exception information lost when error occurs NHibernate.Engine.TransactionHelper.Work.DoWork\n    * [NH-2000] - Problem when calling ISession.GetEnableFIilter with a not enabled filter name\n    * [NH-2003] - IsNullable property is not set properly in ClassIdBinder.cs\n\n** Improvement\n    * [NH-847] - Oracle stored procedure with Ref Cursor out\n    * [NH-1525] - IResultTransformer should override Equals and GetHashCode\n    * [NH-1912] - Add decimal types to MySQL dialect.\n    * [NH-1943] - Fix introduction in docs so it won't mention VS 2003\n    * [NH-1980] - Ignore exception when trying to set the same type of CollectionTypeFactory\n\n** New Feature\n    * [NH-1922] - Allow DetachedCriteria To Work with IStatelessSession\n    * [NH-1936] - Introduce new Interface IPostEvent in NHibernate.Event\n    * [NH-1998] - Possibility to turn off many-to-one filters\n\n** Patch\n    * [NH-1903] - GetEnumerator().Current inconsistent for generic \n    * [NH-1970] - SQLite dialect - Fix to substring function\n    * [NH-1993] - Patch for a bug in MySQLMetaData.cs\n\nBuild 2.1.0\n========================\n** Known BREAKING CHANGES from NH2.0.xGA to NH2.1.0\n    ##### Run time #####\n        * If you want work using lazy loading with LinFu.DynamicProxy now you must deploy NHibernate.ByteCode.LinFu.dll\n        * If you want work using lazy loading with Castle.DynamicProxy2 now you must deploy NHibernate.ByteCode.Castle.dll\n        * If you want work using lazy loading with Spring.Aop now you must deploy NHibernate.ByteCode.Spring.dll\n        * compatible only with .NET2.0 SP1 or above (System.DateTimeOffset)\n        * In SchemaExport.Execute the parameter \"format\" was removed; (NH-1701) enabled configuration property format_sql (default true)\n        * Antlr3.Runtime.dll is required\n        * the syntax foo.bar.baz.elements or foo.bar.baz.indices is not longer supported.  Use the alternative syntax of elements(foo.bar.baz) or indices(foo.bar.baz) instead\n            Note: in some case, where a sub-select is needed, the collection is enough example: FROM m IN CLASS Master WHERE NOT EXISTS( FROM m.Details d WHERE NOT d.I=5 )\n        * INamingStrategy.PropertyToColumnName does not include the component property path\n\n    ##### Possible Breaking Changes #####\n        * ISession interface has additional methods\n        * ICriteria.SetProjection now takes a params array of projections, instead of a single projection\n            Only a breaking change if you are implementing ICriteria, there is full source code compatability\n        * IStatelessSession interface has additional methods\n        * DefaultProxyFactoryFactory removed\n        * IProxyFactoryFactory now provide the IProxyValidator implementation\n        * Now filters are working even with many-to-one association for Criteria and HQL (NH-1293, NH-1179)\n\n    ##### Initialization time #####\n        * The ProxyValidator check for \"internal virtual\" (to be intercepted by proxy need \"protected internal virtual\")\n        * The session-factory configuration property \"proxyfactory.factory_class\" is mandatory; You must choose one of the availables NHibernate.ByteCode\n\n    ##### Breaking Changes #####\n        * see NH-1633 if you are using SQL native queries\n        * CriteriaUtil is gone. NHibernate.Transform.Transformers now returns predefined IResultTransformer.\n        * ISessionFactory.Settings is gone (moved to ISessionFactoryImplementor.Settings)\n        * Obsolete ORACLE dialects was removed (new implementations are available)\n        * ISQLExceptionConverter was changed in order to have more flexibility about information available for the conversion and followed management.\n        * ADOException now use string instead SqlString\n        * IParameterizedType is using IDictionary<string, string>\n\nBuild 2.1.0.Beta2 (rev4501)\n=============================\n** Sub-task\n    * [NH-1827] - SchemaUpdate exception \n    * [NH-1843] - Precision and scale for MySQL is not working, too\n\n** Bug\n    * [NH-1734] - NHibernate aggregate function sum() to return Int64 instead of floating point value\n    * [NH-1810] - Use of custom sorted set leads to \"collection not processed by flush\" exception\n    * [NH-1812] - Aggregates + IsNull bug (AST parser)\n    * [NH-1821] - Wrong SQL executed when the SQL contains new lines\n    * [NH-1822] - CLONE -NHibernate.Util.TypeNameParser doesn't parse correctly generic types\n    * [NH-1830] - Missing MatchMode Parameter \n    * [NH-1831] - AST Parser & Bitwise queries\n    * [NH-1834] - Formula node in Many-To-One is ignored\n    * [NH-1835] - prepare_sql = true (creating prepared queries) makes NHibernate set up wrong size for byte arrays larger than 8000\n    * [NH-1837] - UniqueResult<T>() executes sql query twice.\n\n** Improvement\n    * [NH-473] - order-by in <bag> is ignored if FetchMode is Join\n    * [NH-1069] - Add context information to LazyInitializationException.\n    * [NH-1097] - Should not parse column names, and consider them as failing HQL queries\n    * [NH-1192] - Support bitwise operations\n    * [NH-1266] - ISQLExceptionConverter for various Dialects\n    * [NH-1672] - Unnecessary calls to planCache.Put\n    * [NH-1820] - PostgreSQL: support for Temporary Tables\n    * [NH-1824] - MySQL: support for Temporary Tables\n    * [NH-1826] - PostgreSQL: support iff() function\n    * [NH-1833] - OverflowException instead of expected FormatException when trying to parse a \"long\" literal \n    * [NH-1846] - DbTimestampType (from H3.3.1)\n\n** New Feature\n    * [NH-1623] - Configuration of UserCollection for any collection type\n    * [NH-1817] - Allow <typedef> for Id generator class\n\n** Patch\n    * [NH-1829] - AbstractEntityPersister.Delete is not virtual\n    * [NH-1842] - Type.CharBooleanType.ctor(SqlType) is internal for no reason. Making it protected supports better extensibility.\n\n\nBuild 2.1.0.Beta1 (rev4424)\n=============================\n** Bug\n    * [NH-959] - HQL queries with math operators and aggregates fail\n    * [NH-1092] - An Aggregate Count(*) on on an Abstract Base Class (Polymorphic) with UniqueResults returns 1 result per subclass when using the table per subclass approach\n    * [NH-1171] - Named parameters in SQL query are not substituted when query contains comments with apostrophes\n    * [NH-1182] - Calling session.delete() causes unnecessary update to timestamp before sql:delete\n    * [NH-1400] - HQL string literals with dots in are tried loaded as types (classes) and fails\n    * [NH-1427] - XML Comments inside <join> tag cause exception\n    * [NH-1444] - broken implicit join\n    * [NH-1487] - schema generation of unique-key with column involved in multiple unique constraints\n    * [NH-1507] - NHibernate misplaces JOIN conditions when WHERE references their columns and others altoghether\n    * [NH-1517] - SaveOrUpdateCopy does not call \"public LifecycleVeto OnUpdate(ISession s)\"\n    * [NH-1601] - Problems when accessing lists through property\n    * [NH-1617] - Formulas containing a data type incorrectly have that data type aliased with the outer entity alias\n    * [NH-1735] - TicksType used as entity version causes exceptions on cache put operation.\n    * [NH-1789] - A proxy sometimes doesn't call the overriden Equals() method (mapping interface instead class)\n    * [NH-1801] - Cross join with a where clause where lhs and rhs are different types of associations breaks with the new AST Query Translator\n    * [NH-1802] - Query Cache does not include filters in QueryKey.ToString\n    * [NH-1805] - Does ignore <meta> on <subclass>\n    * [NH-1813] - Not understandable exception message\n\n** Improvement\n    * [NH-1019] - Improve error message for HQL in when entity not recognised\n    * [NH-1814] - Autoregister ReservedWords from MetaData\n\n** New Feature\n    * [NH-188] - Should Table/Column names be quoted automatically?\n\n** Patch\n    * [NH-1044] - IdBag for component not in XSD\n    * [NH-1804] - Expiration property of session factory not handled when configured via XML\n\nBuild 2.1.0.Alpha3 (rev4378)\n=============================\n\n** Bug\n    * [NH-1098] - Problem in filters with parameters and associated logging information\n    * [NH-1179] - Filter not applied in explicit join\n    * [NH-1264] - Eager fetching with Criteria/DetachedCriteria does not seem to be working properly\n    * [NH-1307] - Parameter Postion incorrect in the sql query .\n    * [NH-1343] - In HQL, when having only one Class for query it fails to work if we forget the Alias.\n    * [NH-1388] - Map does not delete keys if value of the key is null\n    * [NH-1574] - Stateless Session isn't ignoring untouched proxy properties on update\n    * [NH-1725] - When using SELECT NEW <Entity>(iif(a=0, 2, 1)) From .... Returns error '(' expected after HQL function in SELECT\n    * [NH-1727] - Hql parameter problems (Sql2005dialect)\n    * [NH-1736] - NHibernate.Util.TypeNameParser doesn't parse correctly generic types\n    * [NH-1741] - DetachedNamedQuery is ignoring mapped properties\n    * [NH-1742] - Wrong parameters order in IQuery with SetParameterList and Filter. SQL Server 2005 and SQL Server 2000\n    * [NH-1744] - Open/Close a session inside a TransactionScope fails.\n    * [NH-1751] - DistinctRootEntityResultTransformer assumes source ILists are always ArrayLists\n    * [NH-1754] - cast HQLFunction don't cast the result\n    * [NH-1756] - Updating newly saved entity with generated version causes StaleObjectStateException (explicit flush before commit)\n    * [NH-1764] - TableHiLoGenerator fail in a TransactionScope with MySQL database\n    * [NH-1767] - Multiple TransactionScopes inside one Session do not work properly\n    * [NH-1770] - Not posible to have system properties in web.config and session-factory properties in external hibernate.cfg.xml\n    * [NH-1773] - HQL Queries with projection and join fetching fail with AST query translator\n    * [NH-1775] - AST Parser & Bitwise queries\n    * [NH-1776] - Query executed twice on session with enabled Filter will cause NullReferenceException\n    * [NH-1780] - Section 18.4 - Incorrect method name IsUnsaved() \n    * [NH-1788] - Dynamic Update & generated timestamp cause NH to try to update the readonly timestamp column\n    * [NH-1792] - Invalid Sql for Paging when Subquery contains Order By clause using MsSql2005Dialect\n\n** Improvement\n    * [NH-514] - Allow expansion of the \"on\" clause in joins.\n    * [NH-1051] - Port AST-based HQL parser / QueryTranslator from H3\n    * [NH-1093] - Invalid caching probably shouldn't throw exceptions, but should log warnings.\n    * [NH-1516] - HQL doesn't support \"update\" statements\n    * [NH-1553] - SQL Server 2005: Support for wrapping snapshot isolation update conflict SQLException into a NHibernate StaleObjectStateException.\n    * [NH-1670] - MutiCriteria and MultiQuery results may be loaded directly into a generic List<T> instead of an ArrayList\n    * [NH-1745] - SQL formatters for DDL and all others SQLs\n    * [NH-1750] - Mark  NHibernate.Util.WeakHashtable  [Serializable]\n    * [NH-1765] - Add ISessionImplementor property to PreDeleteEvent\n    * [NH-1791] - Allow passing params of projections to ICriteria.SetProjectios\n    * [NH-1794] - Allow query only properties and associations\n    * [NH-1797] - MsSql2005Dialect uses paging query when no offset specified\n\n** New Feature\n    * [NH-322] - case when...then...else...end  in select clause\n    * [NH-917] - Allow NHibernate to enlist in arbitrary IDbTransaction\n    * [NH-1701] - format_sql property of hibernate\n    * [NH-1786] - IObjectFactory (implementation responsibility by ByteCode provider) to concentrate all Activator.CreateInstance.\n\n** Patch\n    * [NH-1726] - ISessionFactory.Settings gone - breaking change\n    * [NH-1769] - Transaction completion on rollback with TransactionScope can cause ObjectDisposedException\n    * [NH-1777] - Removed some duplicated casts\n    * [NH-1783] - DateType should store only the date part of a System.DateTime to a column\n        \nBuild 2.1.0.Alpha2 (rev4167)\n========================\n\n** Sub-task\n    * [NH-1688] - System.Boolean type incorrectly mapped to YesNoType when the criterion is created by using a projection instead of a property name\n\n** Bug\n    * [NH-1635] - <many-to-one formula=\"select id from...\"> should not require a column\n    * [NH-1671] - SoftLimitMRUCache has a softReferenceCache which is NOT soft\n    * [NH-1693] -  Wrong parameters order in query with subselect and filter\n    * [NH-1694] - SQL2005Dialect - Sorting fails on a Formula property containing a comma while using paging (MaxResults)\n    * [NH-1700] - union-subclass with same name as abstract superclass causes NHibernate.DuplicateMappingException.\n    * [NH-1706] - property-ref does not work for different data type than PK type\n    * [NH-1710] - Decimal fields are not create correctly in SQL Server 2005/2008 using SchemaExport\n    * [NH-1711] - Failure of DTC transaction with multiple durable enlistment will crash the process\n    * [NH-1715] - Timespan type doesn't work with SqlServer 2005\n\n** Improvement\n    * [NH-1707] - MsSQL : prepare_sql should be true by-default\n    * [NH-1716] - By default map TimeSpan as int64\n\n** New Feature\n    * [NH-1222] - <Join> elements: collections support\n    * [NH-1718] - CurrencyType\n    * [NH-1719] - Current TimeSpan moved to TimeAsTimeSpan and TimeSpanInt64 moved back to TimeSpan\n\n** Patch\n    * [NH-1708] - MS SQL CE Metadata implementation\n    * [NH-1712] - Release notes missing info about removal of CriteriaUtil\n    * [NH-1713] - NH-1707 results in buggy PrepareStatement behavior\n        \nBuild 2.1.0.Alpha1\n========================\n\n** Sub-task\n    * [NH-1379] - Allow <typedef> for version custom type\n    * [NH-1649] - DateTime2 and DateTimeOffset data types support\n    * [NH-1650] - FileStream data type support\n    * [NH-1656] - Date and Time data types support\n\n** Bug\n    * [NH-1083] - When using a proxy with an interface access strategy on the Id does not get applied\n    * [NH-1177] - Save/Delete/Evict/Save does not work if collections are mapped\n    * [NH-1197] - Some tests related to paged subselect are failing under PostgreSQL\n    * [NH-1251] - TypeFactory.GetSerializableType race condition\n    * [NH-1253] - Named paramaters with numeric suffix may cause problems\n    * [NH-1297] - <idbag> with native ID generator throws InvalidCastException\n    * [NH-1329] - Expression.Sql with parameters (inside of functions) is broken\n    * [NH-1345] - PersistentGenericList.GetEnumerator missing Read\n    * [NH-1357] - ICriteria.ClearOrders is mispelled and belongs on DetachedCriteria too\n    * [NH-1358] - SchemaUpdate fails for Firebird in released binaries only - NHibernate source and local builds from this source work fine\n    * [NH-1385] - System.Collections.Generic.KeyNotFoundException exception in PersistentGenericMap.GetDeletes()\n    * [NH-1395] - Unsaved value null for ValueType\n    * [NH-1422] - incorrect parameter replacement when one variable is the prefix of another\n    * [NH-1443] - default_catalog is not used in create table\n    * [NH-1445] - CriteriaImpl.Clone does not propertly maintain the persistentClass\n    * [NH-1446] - cast case sensitivity\n    * [NH-1447] - boolean ConstantProjection fails with MSSQL2005\n    * [NH-1480] - SchemaUpdate & Oracle\n    * [NH-1495] - using access=field.camelcase with interface to create proxy\n    * [NH-1499] - NullReferenceException construting Criteria query\n    * [NH-1502] - Order by with projections uses invalid parameter characters\n    * [NH-1505] - LikeExpression when using projections is invalid\n    * [NH-1520] - SQLite Dialect does not properly escape names surrounded by backticks\n    * [NH-1521] - The drop scripts from SchemaExport in SQL2005 dialect will not work when using DefaultSchema setting other than dbo\n    * [NH-1522] - AdoTransaction.CloseIfRequerid\n    * [NH-1526] - Cannot use projection for Count in OrderBy\n    * [NH-1527] - Using projection on order by in conjuction with set max results with parameters passed to the projection will fail\n    * [NH-1528] - Using order by with a parameter and set max results on 2005 mix up the parameters\n    * [NH-1549] - Accessing Id of proxy with base class intializes proxy\n    * [NH-1552] - Paging in NHibernate builds buggy SQL query string, when paging is used against a MS SQL 2005 Database\n    * [NH-1556] - Cannot order by aggregates in HQL\n    * [NH-1572] - Small typo in AbstractType.Compare()\n    * [NH-1573] - \"collable\" typo in nhibernate-mapping.xsd\n    * [NH-1578] - The \"not\" criteria does surround the following or inner criteria with parens only when using MySQLDialect.\n    * [NH-1584] - one-to-one compositions to a joined subclass don't load\n    * [NH-1587] - PocoEntityTuplizer don't use ReflectionOptimizer for instantiator\n    * [NH-1590] - NHibernate.Util.ReflectHelper.TryGetMethod not returning inherited id-getter/setter\n    * [NH-1593] - SchemaUpdate not create property index.\n    * [NH-1594] - When setting property in hbm type=\"Decimal(precision, scale)\" - \"DECIMAL(19,5)\" is always generated\n    * [NH-1608] - LRUMap Memory Leak\n    * [NH-1609] - MSSQL2005 dialect: paged query in multicriteria uses wrong parameter values when preceeded by other queries\n    * [NH-1611] - One-To-One Mappings Fail with Composite ID\n    * [NH-1612] - Native SQL queries for value collections fail with NullReferenceException\n    * [NH-1619] - NHibernateUtil returns a wrong IType for Boolean on Postgres\n    * [NH-1627] - lazy=extra causes the where=\"..\" to be ignored when using collection.Count()\n    * [NH-1633] - Native SQL queries with addJoin or <return-join/> return object arrays instead of single Entities\n    * [NH-1637] - Oracle9Dialect Paging based on rownum is not valid.\n    * [NH-1640] - FETCH JOIN query doesn't work in a StatelessSession\n    * [NH-1654] - Reserved words in formula\n    * [NH-1668] - Ingres .NET Data Provider name changed\n    * [NH-1675] - Problem using distinct query with SetMaxResult\n    * [NH-1677] - Bug in Criteria API with EntityMode == Map\n    * [NH-1679] - System.Boolean type incorrectly mapped to YesNoType when the criterion is created by using a projection instead of a property name\n    * [NH-1685] - Generated Version Not Reloaded After Update\n    * [NH-1687] - Version tag are ignoring child column tag\n\n** Improvement\n    * [NH-298] - After, deleting an item which belongs to a <list> the list indices are not modified\n    * [NH-545] - Distributed transactions support\n    * [NH-645] - Support for scalar functions which don't return a value in where clause\n    * [NH-727] - Allow using sql-insert with generator class=\"identity\"\n    * [NH-1047] - Add overloads to IQuery.SetParameter to accept System.Type\n    * [NH-1053] - Allow short class name for collection-type\n    * [NH-1202] - Improve the error messages when compiling queries\n    * [NH-1274] - Give the option to exclude a mapped class from the SchemaExport.Create loop.\n    * [NH-1291] - Example.Create with anonymous objects\n    * [NH-1336] - Native id generator as default and make generator optional in config\n    * [NH-1354] - Add support for keyed retrieval of MultiCriteria results\n    * [NH-1381] - Add support for keyed retrieval of MultiQuery results\n    * [NH-1396] - Allow override of EmptyInterceptor.GetEntityName\n    * [NH-1398] - Allow access to EntityMode from ISession\n    * [NH-1402] - Support Cache for Dynamic entities (entity-name without entity-class)\n    * [NH-1468] - InFragment ToFragmentString() needs more information in error\n    * [NH-1496] - Configuration.AddAssembly(Assembly) should do some logging if no mapping files where found\n    * [NH-1500] - Spelling error of NHibernate.Cfg.ConfigurationSchema.ParseColectionsCache\n    * [NH-1515] - Proxy validator doesn't check \"internal\" methods\n    * [NH-1560] - AbstractDataBaseSchema: Make GetIndexInfo and GetIndexColumns virtual\n    * [NH-1564] - Generic EnumString Mapping\n    * [NH-1588] - \"Relax\" PocoEntityTuplizer\n    * [NH-1589] - ReflectionOptimizer override CreateCreateInstanceMethod\n    * [NH-1605] - Typedef support in sql-query/return-scaler/@type attribute\n    * [NH-1613] - Allow custom action for schema script create/update\n    * [NH-1643] - Allow to use ICollection<T> and HashSet<T> for <set>\n    * [NH-1644] - Oracle Lite Driver With Working Query Parameters\n    * [NH-1657] - TimeSpan as DbType.Time\n    * [NH-1658] - current_timestamp_offset: current_timestamp for DateTimeOffset\n    * [NH-1659] - current_timestamp in MsSql2008Dialect using SYSDATETIME()\n    * [NH-1661] - DriverConnectionProvider.GetConnection doesn't dispose IDbConnection in case of an exception\n    * [NH-1665] - Supports Hibernate-Quoting sequence name\n    * [NH-1669] - Add guid.native support to MySQL5Dialect\n    * [NH-1678] - Add a CreateCriteria<T> method to session\n    * [NH-1684] - MS SQL Server Dialect - UNION ALL\n    * [NH-1686] - IStatelessSession.CreateCriteria(System.Type entityType)\n    * [NH-1703] - Configuration full serializable\n    * [NH-1704] - AliasToBeanResultTransformer should hold ConstructorInfo\n\n** New Feature\n    * [NH-791] - Add always-wrap As a Configuration Option On Collections\n    * [NH-855] - Port lazy=\"extra\" from Hibernate 3\n    * [NH-871] - Implement SelectGenerator\n    * [NH-1033] - Add support for polymorphic criteria\n    * [NH-1106] - SQL Anywhere 10 Driver and Dialect\n    * [NH-1173] - Generic Ordered Set\n    * [NH-1176] - Trigger generated identities\n    * [NH-1188] - Provide a method to delete by Id\n    * [NH-1232] - Enums as discriminators\n    * [NH-1233] - EnumCharType\n    * [NH-1305] - Add BuildMappings method to Configuration to eagerly configure mappings\n    * [NH-1359] - Ability to create an IProjection from a DetachedCriteria\n    * [NH-1370] - Allow short name for <type>\n    * [NH-1371] - short name for UserType (<typedef>)\n    * [NH-1373] - shorter name for UserCollectionType (<typedef>)\n    * [NH-1393] - Ability to use Aggregate Projections on Projections\n    * [NH-1394] - Ability to use \"order by projection\"\n    * [NH-1397] - <tuplizer> from H3.2\n    * [NH-1401] - Support for EntityMode.Map and for DefaultEntityMode in Settings\n    * [NH-1416] - Support DEFAULTs, for properties values, in mappings\n    * [NH-1451] - Port of <natural-id> from H3.2.6\n    * [NH-1458] - Collections events (from H3.2.6)\n    * [NH-1479] - Add Guid native generation\n    * [NH-1493] - BackingField accessors\n    * [NH-1518] - Log info per Operation Threshold in statistics (from H3.2.6)\n    * [NH-1537] - Comments in Query\n    * [NH-1538] - Configuration property use_sql_comments (from H3.2)\n    * [NH-1561] - Dialect, Driver + MetaData for SQL Anywhere 9, and 10\n    * [NH-1562] - SQLite MetaData\n    * [NH-1563] - LinFu ProxyFactoryFactory (LinFu.DynamicProxy)\n    * [NH-1571] - MSSQL 2008 Dialect\n    * [NH-1596] - Support Connection to Oracle Lite\n    * [NH-1621] - Read only property accessor\n    * [NH-1632] - System.Transactions support issue\n    * [NH-1646] - Support for IQuery.Future<T>()\n    * [NH-1662] - sequence-identity generator from H3\n    * [NH-1664] - Identity style generic generator support\n\n** Patch\n    * [NH-1094] - DecodeCaseFragment ignoring 'returnColumnName'\n    * [NH-1127] - Use default assembly name and namespace from the <hibernate-mapping> element (more than at present).\n    * [NH-1209] - TableHiLoGenerator Jumps 1 number each lo > maxLo\n    * [NH-1280] - Adds HAVING support to CreateCriteria queries, Fixes parameter order bugs\n    * [NH-1295] - ISynchronization support\n    * [NH-1314] - Change signature of AbstractPersistentCollection.IdentityRemoveAll() from ICollection to IEnumerable for generics\n    * [NH-1322] - DeleteEvent constructor does not check its parameter properly\n    * [NH-1356] - Fixes Generic List of Composite Elements\n    * [NH-1409] - Includes Patch : nant build scripts ignore -D:sign=false\n    * [NH-1429] - Oracle GUID to Raw(16) \n    * [NH-1467] - some comment clean ups\n    * [NH-1485] - MultiQueryImpl.GetResultList does not use Result Transformers correctly.\n    * [NH-1491] - NoArgSQLFunction is not cls compliant\n    * [NH-1503] - Support for Sybase ASE ADO.NET 2 Provider\n    * [NH-1532] - Class called SystemConfiguration does not persist properly\n    * [NH-1539] - Oracle dialect - incorrect CONCAT behaviour\n    * [NH-1540] - Oracle dialect - allowing pagging in subqueries\n    * [NH-1541] - Oracle Dialect - Extra lazy collection count not working under Oracle\n    * [NH-1542] - Oracle dialect - Fix to some HQL functions\n    * [NH-1543] - SQLite paging broken\n    * [NH-1547] - SqLite Paqing does not page properly after the 2nd page\n    * [NH-1550] - Oracle dialect - pagging correction (+left/right functions)\n    * [NH-1551] - Update some tests to support Oracle\n    * [NH-1555] - Add some helper methods for the transformers class\n    * [NH-1570] - Revision 3859 broke paging support in SQL 2005 dialect for ordered queries\n    * [NH-1575] - Revision 3860 introduced bug where paged Hql Queries can break unpaged Hql Queries in Sql 2005\n    * [NH-1582] - DbType.Date support for SQLite\n    * [NH-1586] - Informix driver\n    * [NH-1591] - SetCacheable isn't exposed by DetachedCriteria\n    * [NH-1592] - Informix dialect update\n    * [NH-1595] - SQLite dialect does not support the \"extract\" function\n    * [NH-1603] - MSSql2005Dialect - Better Data Paging Strategy\n    * [NH-1606] - Timestamp  in Oracle8\n    * [NH-1607] - Dictionary<T,U> should use ContainsKey to check for values\n    * [NH-1614] - Add support to primitive type (es: unsigned type) to MySql Dialect\n    * [NH-1660] - Faster retrieval of tuplizer\n    * [NH-1691] - Nested component broken by fix for NH-1612\n    * [NH-1695] - MySQL MetaData implementation\n    * [NH-1698] - MS SQL Server 2005 creates a clustered primary key by default. Requesting nonclustered as a default to simplify the creation of optimized clustered indexes.\n    * [NH-1702] - Make AliasToBeanResultTransformer able to return types with a non-public constructor\n\n** Task\n    * [NH-1511] - Correctly spell IPropertyAccessor.CanAccessTroughReflectionOptimizer\n\n\nBuild 2.0.1.GA\n========================\n** Bug\n    * [NH-1293] - Changed behavior of Filters for many-to-one  associations brings up possible bug when used with outer joins.\n    * [NH-1464] - C++ and Dispose method\n    * [NH-1466] - current_session_context_class = thread_static doesn't work\n    * [NH-1473] - IsEqual and Compare broken in EntityType\n    * [NH-1481] - Named Hql queries w/ Named Parameters broken after upgrade to 2.0 from 1.2.1\n    * [NH-1483] - Subclass Not Loaded From Cache as Baseclass\n    * [NH-1488] - Table per class hierarchy and OUTER JOIN\n    * [NH-1490] - Wrong order of parameters in query when session uses IFilter\n    * [NH-1492] - Parameter mismatch enabling filters\n    * [NH-1499] - NullReferenceException construting Criteria query\n\n** Improvement\n    * [NH-1484] - first chance exception 'NHibernate.MappingException' when starting a webapplication\n    * [NH-1496] - Configuration.AddAssembly(Assembly) should do some logging if no mapping files where found\n    * [NH-1500] - Spelling error of NHibernate.Cfg.ConfigurationSchema.ParseColectionsCache\n\n\n** Patch\n    * [NH-1034] - HQL functions - parameters support\n    * [NH-1434] - Some unit test supplies non-character value to LIKE: not portable across every RDBMS\n    * [NH-1435] - Explicitly order query in NH-1179 to ensure reliable results\n    * [NH-1436] - Mapping of NH-1250 not portable across every RDBMS\n    * [NH-1437] - Mapping of NH-1408 not portable across every RDBMS\n    * [NH-1438] - Some queries from FooBarTest fixture are not portable across every RDBMS\n    * [NH-1439] - Handle Dialect.GetIdentityColumnString(DbType type)\n    * [NH-1459] - Sybase dialect\n    * [NH-1462] - StringHelper.GetFullClassname fails to parse generic types\n\nBuild 2.0.0.GA\n========================\n** BREAKING CHANGES from NH1.2.1GA to NH2.0.0\n    ##### Infrastructure #####\n        * .NET 1.1 is no longer supported\n        * Nullables.NHibernate is no longer supported (use nullable types of .NET 2.0)\n        * Contrib projects moved to http://sourceforge.net/projects/nhcontrib\n\n    ##### Compile time #####\n        * NHibernate.Expression namespace was renamed to NHibernate.Criterion\n        * IInterceptor have additional methods. (IsUnsaved was renamed IsTransient)\n        * INamingStrategy\n        * IType\n        * IEntityPersister\n        * IVersionType\n        * IBatcher\n        * IUserCollectionType\n        * IEnhancedUserType\n        * IPropertyAccessor\n        * ValueTypeType renamed to PrimitiveType \n\n    ##### Possible Breaking Changes for external frameworks #####\n        * Various classes were moved between namespaces\n        * Various classes have been renamed (to match Hibernate 3.2 names)\n        * ISession interface have additional methods\n        * ICacheProvider\n        * ICriterion\n        * CriteriaQueryTranslator\n\n    ##### Initialization time #####\n        * <nhibernate> section, in App.config, is no longer supported and will be ignored. Configuration schema for configuration file and App.config is now identical, and the App.config section name is: <hibernate-configuration>\n        * <hibernate-configuration> have a different schema and all properties names are cheked\n        * configuration properties are no longer prefixed by \"hibernate.\", if before you would specify \"hibernate.dialect\", now you specify just \"dialect\"\n        * All named queries will be validated at initialization time, an exception will be thrown if any is not valid (can be disabled if needed)\n        * Stricter checks for proxying classes (all public methods must be virtual)\n\n    ##### Run time #####\n        * SaveOrUpdateCopy() returns a new instance of the entity without changing the original\n        * AutoFlush will not occur outside a transaction - Database transactions are never optional, all communication with the database must occur inside a transaction, whatever you read or write data.\n        * NHibernate will return long for count(*) queries on SQL Server\n        * <formula> must contain parenthesis when needed\n        * The HQL functions names may cause conflic in your HQL (reserved names are: substring,locate,trim,length,bit_length,coalesce,nullif,abs,mod,sqrt,upper,lower,cast,extract,concat,current_timestamp,sysdate,second,minute,hour,day,month,year,str)\n        * <any> when meta-type=\"class\" the persistent type is a string containing the Class.FullName (In order to set a parameter in a query you must use SetParameter(\"paraName\", typeof(YourClass).FullName, NHibernateUtil.ClassMetaType) )\n\n    ##### Mapping #####\n        * <any> : default meta-type is \"string\" (was \"class\") \n\nBuild 2.0.0.CR2\n========================\n** Sub-task\n    * [NH-1407] - Actualize documentation of <any>\n\nBuild 2.0.0.CR1\n========================\n** Bug\n    * [NH-1361] - ProxyTypeValidator: Non-virtual public methods are accepted\n    * [NH-1389] - Sybase SQLAnywhere 8/9 support broken in Beta1 onword\n    * [NH-1399] - Database constraint names and hash collisions\n    * [NH-1403] - Support <any> with meta-type=\"class\"\n    * [NH-1405] - composite-id property is nulled when related composite many-to-one mapping returns null.\n    * [NH-1406] - IQuery.SetTimeout work incorrect for ExecuteUpdate\n    * [NH-1408] - CriteriaTransformer don't clone a DetachedCriteria with sub DetachedCriteria\n    * [NH-1413] - Paging with multiple orders fail in MSSQL2005\n\n** Improvement\n    * [NH-1304] - Reflection optimizer on != property access\n    * [NH-1415] - Adding multi query support to MySqlDataDriver \n\n** New Feature\n    * [NH-1412] - Allow custom accessors to define if the ReflectionOptimizer can be used.\n\n** Patch\n    * [NH-1254] - Sybase ASA10 - Dialect + Driver\n    * [NH-1390] - Union subclass support for PostgreSQL\n\n** Task\n    * [NH-1410] - Spelling mistake in error message: sublcass must be subclass\n\n        \nBuild 2.0.0.Beta2\n========================\n** Bug\n    * [NH-1030] - DB2400Dialect : mod(x,y) function triggers a parse exception\n    * [NH-1077] - Pessimistic locking for SQL Server fails on cached objects\n    * [NH-1258] - Oracle Sequences mappings without Schema information throwns InvalidKeyException\n    * [NH-1279] - AggressiveRelease tests fail for MySQL\n    * [NH-1300] - Detached Entities that have many-to-one associations improperly throw LazyInitializationExceptions when accessing the association outside the loading session\n    * [NH-1355] - Custom Version type (IUserVersionType) not allowed\n    * [NH-1362] - Nested cascades on ISession.Refresh()\n    * [NH-1375] - Disable Multi Query support for Npgsql\n    * [NH-1383] - Components with (non-C#) Nullables do not follow documentation sect. 7.1 \"if all component columns are null, then the entire component is null\"\n    * [NH-1384] - Support for latest Npgsql2 (PostgreSQL) Data Provider\n\n** Improvement\n    * [NH-693] - Better error message when user forgets to supply table name\n    * [NH-803] - Support DML type batch sql statements\n    * [NH-824] - GetClassname cannot parse generic classnames\n    * [NH-938] - Escape characters in Like expressions\n    * [NH-978] - show_sql: Transaction Begin, Commit, Rollback\n    * [NH-1101] - component directy detection should consider null component value to be equiv to all component member's being null\n    * [NH-1151] - Improve Configuration to Support ASP.NET Configuration File Hierarchy and Inheritance\n    * [NH-1216] - SchemaExport creates varchar(255) on MySQL when Property Type is StringClob\n    * [NH-1236] - XML Entity support in mapping files broken \n    * [NH-1257] - lazy=true and fetch=join doesn't work together it will be nice to receive a WARN\n    * [NH-1364] - LinkedHashMap.RemoveImpl can be improved (using try/catch for common scenario)\n    * [NH-1382] - Oracle Dialect support for Unsigned Int (UInt32, UInt64)\n\n** New Feature\n    * [NH-1115] - Add support for \"Refresh\" cascade style\n    * [NH-1367] - Add Interceptor or Event to Batcher\n\n\n** Task\n    * [NH-1144] - Apply patch for NH-1022 (Oracle command batching) to trunk\n    * [NH-1210] - \"table\" attribute documented as required when in fact optional\n\n\nBuild 2.0.0.Beta1\n========================\n** Bug\n    * [NH-1238] - NH_1155_ShouldNotLoadAllChildrenInPagedSubSelect fails for MsSql2000Dialect\n    * [NH-1318] - Enum fields cannot be mapped to database on DB2\n    * [NH-1329] - Expression.Sql with parameters (inside of functions) is broken\n    * [NH-1346] - SchemaUpdate.Execute fails on MS SQL Server 2005 With Locale TURKISH_CI_AS\n    * [NH-1347] - SetMaxResult does not work with SQLite (SQLiteDialect)\n    * [NH-1348] - Cannot use multiple listeners for the same event type\n\n** Improvement\n    * [NH-1172] - ASA 10 Driver for NHibernate\n    * [NH-1315] - ForeignGenerator.cs property Key is not found if the generator tag is empty causes exception\n    * [NH-1335] - Performance improvment of PersistentEnumType class\n\n\n** Patch\n    * [NH-1254] - Sybase ASA10 - Dialect + Driver\n    * [NH-1326] - ISession.Disconnect() creates zombied transactions\n    * [NH-1327] - PostCommitXXXEventListeners invoked even when transaction fails\n\n\nBuild 2.0.0.Alpha2\n========================\n\n** Bug\n    * [NH-1100] - Introduce exception if two columns are being selected, but only one being returned by NH\n    * [NH-1145] - MultiCrieria Does Not Respect MaxResults on Criteria\n    * [NH-1161] - Java mentioned in NHibernate Documentation\n    * [NH-1203] - Problem to resolv property name\n    * [NH-1205] - Various subselect bugs in MultiCriteria\n    * [NH-1246] - Reading BinaryBlob triggers update when transaction is committed.\n    * [NH-1250] - Failure with MsSql2005Dialect when paging in polymorphic queries with discriminator formula\n    * [NH-1252] - Inconsistent behavior of ISession.Get() under certain conditions\n    * [NH-1263] - CreateSchema works ok for mappings in different schemas but DropSchema not\n    * [NH-1281] - Regression: Criteria Query does not deliver right result when compared to similar HQL query\n    * [NH-1285] - Drop schema script generated by SchemaExport has bug\n    * [NH-1290] - AuxiliaryDatabaseObject with no params causes crash\n    * [NH-1296] - SQLite dialect does not support empty inserts\n    * [NH-1301] - Cascade doesn't work for Refresh\n    * [NH-1309] - Cannot recreate db when using schema and fK\n    * [NH-1313] - SqlFunctionProjection does not look at custom sql functions\n    * [NH-1332] - PostCommitDelete only fires when PostCommit is also used (in 2.0.0.alpha1)\n    * [NH-1334] - SesssionFactoryImpl.BuildCurrentSessionContext does recognize \"web\" property\n    * [NH-1340] - Ordering by Formula Property when paging will cause invalid SQL on SQL Server 2005\n\n** Improvement\n    * [NH-763] - NHibernate Does Not Recognize Dependent Resources\n    * [NH-1158] - Upgrade to DynamicProxy 2\n    * [NH-1283] - SetGuid is missing in IMultiQuery interface\n    * [NH-1303] - UUIDStringGenerator#Generate Improvement\n\n** New Feature\n    * [NH-1134] - Allow property-ref for collection keys\n\n** Patch\n    * [NH-1058] - automatically create indexes for foreign keys in postgresql dialect\n    * [NH-1140] - Getting NullReferenceException when using SimpleSubqueryExpression within another subexpression\n    * [NH-1146] - Expose DetachedCriteria in SubqueryExpression\n    * [NH-1162] - Add list-index element and property-ref attribute to key element in mapping schema\n    * [NH-1163] - Add more complete identity column support to SQLiteDialect\n    * [NH-1166] - Sql server lock patch, pessimistic locking for SQL Server 2000/2005\n    * [NH-1201] - Patch: MultiQueryImpl.GetResultList does not use Result Transformers correctly.\n    * [NH-1292] - No-Dialect Patch\n    * [NH-1302] - Patches for Visual Studio 2008 / .Net 3.5\n    * [NH-1308] - Patch to get a MappingException when association references unmapped class\n    * [NH-1310] - IStatelessSession invalid return type from Get<T>()\n    * [NH-1320] - CriteriaTransformer does not properly transforms to rowcount when using subcriteria\n    * [NH-1325] - Source code does not compile\n\n** Task\n    * [NH-802] - Investigate possible use of MSBuild to build the project\n    * [NH-1321] - Add NCache Express provider to documentation\n\nBuild 2.0.0.Alpha1\n========================\n\n** Bug\n    * [NH-987] - Schema creation on SQL Server 2000 uses SQL 2005 system views\n    * [NH-1028] - Duplicate column names in queries\n    * [NH-1042] - MultiQuery force to use parameter in all queries\n    * [NH-1045] - CastleLazyInitializer throws null pointer exception during proxy creation\n    * [NH-1055] - Multi Criteria ignored Result Transformer\n    * [NH-1059] - Join mapping for a subclass is incorrectly applied to the base class\n    * [NH-1084] - Subclass with Join fail when trying to query\n    * [NH-1088] - Wrong exception text referring to config property hibernate.dialect\n    * [NH-1104] - RowCountProjection type should be Int64\n    * [NH-1147] - Minor bug with AbstractFlushingEventListener\n    * [NH-1149] - Second Level Caching with Quey Caching is not working\n    * [NH-1154] - Delete object broken\n    * [NH-1168] - HQL functions 'length()' and 'bit_length()' doesn't support a non-string argument type under PostgreSQL 8.3\n    * [NH-1170] - Multiple queries issues for UniqueResult\n    * [NH-1178] - Example.Create(exampleInstance).ExcludeZeroes().ExcludeNulls() seems has a bug.(version 1.2.0.400)\n    * [NH-1179] - Filter not applied in explicit join\n    * [NH-1181] - NHibernate.JetDriver - replace 'upper(' with 'ucase('\n    * [NH-1187] - concat function fails when a parameter contains a comma, and using MaxResults  (MSSQL 2005)\n    * [NH-1223] - To Change hibernate mapping.xml schma value change for at the runtime\n    * [NH-1229] - Formula fails when using the pagging on MSSQL 2005 dialect\n    * [NH-1234] - PersistentEnumType incorrectly assumes enum types have zero-value defined\n    * [NH-1235] - SetMaxResults() returns one less row when SetFirstResult() is not used\n    * [NH-1237] - Cannot set PostLoadEventListener event listeners.\n    * [NH-1246] - Reading BinaryBlob triggers update when transaction is committed.\n    * [NH-1249] - Bug in GetLimitString for MSSql 05 when ordering by aggregates\n    * [NH-1255] - key-many-to-one && not-found\n    * [NH-1259] - Recursive call in SetListener(type,null) causes stack overflow\n    * [NH-1260] - SessionImpl.EnableFilter returns wrong filter if already enabled\n    * [NH-1261] - HQL Functions with no arguments add the return type twice\n    * [NH-1265] - Generated Id does not work for MySQL\n    * [NH-1268] - one-to-one can never be lazy?\n    * [NH-1275] - FOR UPDATE statements not generated for pessimistic locking\n    * [NH-1286] - Binary types are not compared properly and always sent to update\n\n** Improvement\n    * [NH-364] - IdBag doesn't work with Identity columns\n    * [NH-421] - Dialect Improvements\n    * [NH-568] - year(), month(),date() and some other functions: not supported in HQL\n    * [NH-628] - HQL functions mapping\n    * [NH-865] - Change SQL Server dialect to use COUNT_BIG for count\n    * [NH-913] - make Flush() - return int value for records affected\n    * [NH-924] - ICriteria - Inspection/traversal, modification and cloning\n    * [NH-969] - IIf for MS SQL\n    * [NH-970] - OnPreLoad & OnPostLoad Lifecycle Events\n    * [NH-975] - Add a way for the user to specify their own ProxyFactory\n    * [NH-993] - Document MultiCriteria\n    * [NH-1063] - NHibernate.Mapping.Attributes - Support ImportAttribute when serializing an assembly\n    * [NH-1085] - When using multi query, allow missing parameters in queries\n\n** New Feature\n    * [NH-280] - Using constants in select clause of HQL\n    * [NH-424] - Add [ Table per subclass, using a discriminator ] Support to Nhibernate\n    * [NH-543] - Adding GetEntityName to IInterceptor (H3.0 feature)\n    * [NH-786] - Port statistics from H3\n    * [NH-831] - Add MutliCriteria\n    * [NH-979] - Allow cloning of DetachedCriteria\n    * [NH-1036] - IQuery.executeUpdate()\n    * [NH-1111] - PostgreSQL 8.3 dialect with Guid type support\n\n** Patch\n    * [NH-387] - Rolling back identifiers\n    * [NH-466] - Add join mapping element to map one class to several tables\n    * [NH-982] - Patch for Castle DynamicProxy2 Support\n    * [NH-1073] - Remove #if NET_2_0 directives\n    * [NH-1078] - .NET 2.0 Configuration section to store nhibernate configuration\n    * [NH-1109] - HQL functions 'current_timestamp', 'str' and 'locate' for PostgreSQL dialect\n    * [NH-1110] - Enable Multi Query support for Npgsql (PostgreSQL) driver\n    * [NH-1113] - Test DetachedQueryFixture.ExecutableNamedQuery fails on case-sensitive databases\n    * [NH-1114] - Tests NHSpecificTest NH898 and NH958 failed on databases without DbType.Guid support\n    * [NH-1231] - Add support for SetResultTransformer to ISQLQuery queries (auto-discovery of return types)\n    * [NH-1240] - VetoInterceptor - Cancel Calls to Delete, Update, Insert via the IInterceptor Interface\n    * [NH-1242] - Change path delimiter to '/' to be buildable on non-Windows platforms\n    * [NH-1243] - NHibernate.Search is not CLS compliant.\n    * [NH-1244] - NHibernate uses ConfigurationManager which is in System.Configuration.dll which is not referenced.\n    * [NH-1245] - Update mono targets.\n    * [NH-1273] - Generic version of AbstractQueryImp.UniqueResult<T>() called twice\n\n** Task\n    * [NH-1087] - Discard <nhibernate> section and substitute it whit <hibernate-configuration>\n    * [NH-1221] - Implement FullTextQueryImpl.ExecuteUpdate()\n    * [NH-1239] - Update build script to include configuration templates.\n\nBuild 1.2.1\n========================\n\nBug Fixed:\n\n    * [NH-111] - Oracle \"Invalid identifier\" exception\n    * [NH-989] - Assemblies are not registered in the correct order\n    * [NH-995] - Problem with CompositeId+\"key-many-to-one\"+Caching\n    * [NH-999] - One Shot Delete doesn't work - and cause reference violations\n    * [NH-1006] - Invalid SQL order generated by JetDriver\n    * [NH-1011] - update=false attribute ignored\n    * [NH-1012] - DetachedCriteria CreateAlias with joinType (new in1.2) is broken\n    * [NH-1018] - 'DistinctRootEntity' result transformer throws InvalidCastException\n    * [NH-1023] - using projections and transformer causes invalid column name when property and alias are the same\n    * [NH-1039] - NullReferenceException  for dynamic-component containing a set\n    * [NH-1061] - Schema name missing when quering for highest key value\n    * [NH-1064] - wrong association owner when fetching eagerly\n    * [NH-1068] - Typo in example-mappings.html\n    * [NH-1086] - SerializationException when using MemCacheProvider as cache because some classes miss the SerializableAttribute.\n    * [NH-1124] - Problem in NHibernate.Type.ComponentType.NullSafeSet\n    * [NH-1155] - SubselectFetch doesn't take into account paging\n    * [NH-1156] - MS2005Dialect doesn't handle same column & alias names correctly\n    * [NH-1167] - SubCriteria.CreateCriteria(string associationPath, string alias, JoinType joinType) always uses JoinType.InnerJoin \n\nImprovements:\n\n    * [NH-901] - ComponentType mappings for with value types (structs) cause incorrect dirty checking\n    * [NH-1049] - classes which inherit Order can't override ToSqlString\n\nNew Features:\n\n    * [NH-1022] - Add command batching support for OracleClient driver\n\nPatches Applied:\n\n    * [NH-585] - Unknown version when using replicate and joined-subclass\n    * [NH-903] - IQuery.SetFirstResult and SetMaxResults break in MsSql2005Dialect for ISQLQuery using WITH keyword\n    * [NH-990] - Abstract CurrentSessionContext management and add more implementations\n    * [NH-1014] - NHibernate Cross Join Syntax Causes Issues With SQL Server 2000/2005\n    * [NH-1054] - Add hibernate.transaction.factory_class setting\n    * [NH-1056] - Command batching support for OracleDataClientDriver\n    * [NH-1076] - Sybase11 Dialect\n    * [NH-1080] - HQL parser incorrectly registers a many-to-one association as a one-to-one.\n    * [NH-1119] - valuetypes in uniqueresult<T> give an error when query result is null\n    * [NH-1160] - Parameter compatibility problem in cached Sql command.\n    * [NH-1193] - Limit string in MsSql2005 dialect can sort incorrectly on machines with multiple processors\n\nTask Completed:\n\n    * [NH-1002] - Document undocumented configuration properties\n\n\nBuild 1.2.0.GA\n========================\n\nPatches Applied:\n\n    * [NH-992] - AuxiliaryDatabaseObject enhancement\n\nBugs Fixed:\n\n    * [NH-980] - Table name not quoted with increment generator\n\nImprovements:\n\n    * [NH-974] - Build and distribute a binary zip file along with the installer\n    * [NH-976] - Better error description when subclass table name is wrong\n    * [NH-985] - Map DbType.Guid to CHAR(38) for Oracle\n    * [NH-988] - Proxy validator should complain on non-virtual internal members\n\nBuild 1.2.0.CR2\n========================\n\nPatches Applied:\n\n    * [NH-859] - Improve SubselectFetch performance\n    * [NH-931] - Error Message Improvement for SingleTableEntityPersister.cs\n    * [NH-934] - Fix Spelling in comments and parameter lists\n    * [NH-937] - Improve comments and parameter lists\n    * [NH-954] - Fix build for mono-1.0 on Linux\n    * [NH-955] - JetDriver breaks on non-standard cultures, on the DateTime fix\n    * [NH-962] - Parent-Child relationships not properly persisted in certain cases\n\nBugs Fixed:\n\n    * [NH-898] - ArgumentException from EntityKey constructor when running a HQL query\n    * [NH-926] - Identity insert fails with SQL Ce dialect and aggresive connection release mode.\n    * [NH-929] - session.Save(object) sets bogus ID fields using MySQL with default hibernate.connection.release_mode\n    * [NH-930] - Schema Export generates duplicate constraints\n    * [NH-932] - hbm2net: Troubles using \"classname, AssemblyName\" in Extends attribute of joined-subclass\n    * [NH-933] - Expression.In does not support Generic lists\n    * [NH-940] - domain model exception badly handled by proxy NHibernate\n    * [NH-952] - AddAssembly doesn't seem to order joined-subclass correctly\n    * [NH-958] - ISession.SaveOrUpdateCopy throws exception when class has <any> mapping\n    * [NH-965] - Error with computed property (property ... formula=\"... ) inside <compsite-element> block\n    * [NH-966] - Unsafe type cast code in DetachedCriteria.GetExecutableCriteria\n\nNew Features:\n\n    * [NH-305] - Generated properties\n    * [NH-428] - Support Multiple Collections join fetch\n    * [NH-915] - Add pessimistic locking for SQL Server 2000/2005\n    * [NH-936] - Sys Cache with SqlCacheDependencies\n\nImprovements:\n\n    * [NH-944] - Provide API for specifying JoinType in subqueries\n    * [NH-947] - Add IInterceptor.SetSession\n    * [NH-948] - Documentation needs update: \"Copy the xsd files to ... directory for enabling IntelliSense\"\n\nBuild 1.2.0.CR1\n========================\n\nPatches Applied:\n\n    * [NH-859] - Improve SubselectFetch performance\n    * [NH-874] - Named Parameters do not work in Having Clause\n    * [NH-875] - Query cache does not work when filters are enabled\n    * [NH-923] - The NHibernate.Expression.Order class doesn't implement ToString()\n\nBugs Fixed:\n\n    * [NH-857] - Filter parameter is mandatory and should be optional\n    * [NH-864] - Dynamic update of NULL column using Nullables.NullableInt32 with \"dirty\" optimistic locking fails\n    * [NH-870] - Expression.Disjunction has wrong semantics when empty\n    * [NH-872] - SetCacheable(true) with an enabled filter fails\n    * [NH-873] - Setting hibernate.cache.use_second_level_cache to false throws NRE in SessionFactoryImpl constructor\n    * [NH-876] - NullReferenceException on query exection with SetCacheable(true) and null parameters\n    * [NH-882] - using binary type in filter does not work\n    * [NH-883] - Update to Bag cannot be flushed more than once.\n    * [NH-890] - hbm2net cannot handle wildcards without a path\n    * [NH-891] - Parameters do not work in HQL array access expression\n    * [NH-897] - An index attribute in the property tag does not create an index\n    * [NH-906] - SubselectFetch does not properly handle forumla properties containing \"from\"\n    * [NH-907] - Test WhereAttributesOnBags fail on PostgreSQL\n    * [NH-909] - Test CastFunc() fails on PostgreSQL\n    * [NH-911] - Allow subqueries with joins using Criteria API and Subqueries with DetachedCriteria\n    * [NH-912] - NullReferenceException in TypedValue.ToString\n    * [NH-914] - Test NH826 fails on PostgreSQL\n    * [NH-916] - Test SelectSqlProjectionTest() fails on PostgreSQL\n    * [NH-918] - wrong parameters passed to AddIdentitySelectToInsert()\n    * [NH-920] - DB2400Dialect does not support \"mod(x,y)\" function\n\nNew Features:\n\n    * [NH-888] - RFE: IQuery.SetGuid\n\nTasks Completed:\n\n    * [NH-862] - Document that aggressive connection release does not work well with System.Transactions\n    * [NH-867] - Write a migration guide from 1.0.x to 1.2.0\n\nImprovements:\n\n    * [NH-868] - Add optimistic-lock attribute to all elements that have it in H3\n    * [NH-869] - Implement IInterceptor.BeforeTransactionCompletion and others\n    * [NH-879] - Deprecate ILifecycle and IValidatable; move them to NHibernate.Classic.\n    * [NH-880] - Move IUserType and ICompositeUserType to NHibernate.UserTypes\n    * [NH-881] - Add Configuration.AddSqlFunction\n    * [NH-887] - Support superclass property reference in property-ref\n    * [NH-902] - Remove usage of string.Intern\n    * [NH-910] - PostgreSQL 8.2 dialect with \"IF EXISTS\"\n    * [NH-922] - PostgreSQL support for identity column using \"SERIAL\" type\n\nBuild 1.2.0.Beta3\n========================\n\nBreaking Changes\n    * ConnectionReleaseMode support ported from Hibernate. By default, connections are released after every transaction,\n      or after every operation if no NHibernate transaction is in progress.\n\nPatches Applied:\n\n    * [NH-807] - Criteria Tests\n    * [NH-813] - CacheKey key is invalid - memcached fails to store objects.\n\nBugs Fixed:\n\n    * [NH-793] - NHybridDataReader.ReadIntoMemory fails when the result is 0 records. \"Invalid attempt to read when no data is present\".\n    * [NH-812] - PostgreSQL - for update no wait\n    * [NH-815] - SQLQueryImpl fails to bind parameter lists\n    * [NH-816] - Criteria using class with discriminator\n    * [NH-818] - NHibernate.JetDriver Not Working at all in 1.2.0.Beta2 (encounters System.NullReferenceException)\n    * [NH-819] - Memcached.Client library is using log4net 1.2.9, instead of 1.2.10\n    * [NH-825] - QueryKey doesn't take into account the entity ID when generating ToString()\n    * [NH-826] - Using Criteria to query for an item throws on Flush in some situations\n    * [NH-829] - pagination select doesn't support 'distinct' for NHibernate.Dialect.FirebirdDialect\n    * [NH-830] - ICriteria does not automatically flush the session for many-to-many association change\n    * [NH-837] - Error using Limits with DB2400Dialect\n    * [NH-839] - PersistentGenericMap GetSnapshotElement InvalidCastException\n    * [NH-841] - generator class=\"native\" not works with NHibernate.JetDriver\n    * [NH-845] - Queries and imports in separate hmb.xml are not parsed (re-opening)\n    * [NH-850] - Non-portable file path for generated source files by hbm2net\n\nNew Features:\n\n    * [NH-370] - Add Configuration.SetDefaultAssembly and SetDefaultNamespace methods\n    * [NH-752] - Informix Dialect\n    * [NH-828] - Port connection release mode from H3\n\nTasks Completed:\n\n    * [NH-796] - Document ISessionFactory.GetCurrentSession functionality\n    * [NH-801] - Upgrade NAnt libraries to 0.85\n    * [NH-833] - Document SQL Server command batching functionality\n    * [NH-834] - Document hibernate.connection.connection_string_name\n\nImprovements:\n\n    * [NH-383] - SessionFactory should implement System.IDisposable\n    * [NH-442] - Medium Trust level support\n    * [NH-648] - NHibernate.Mapping.Attributes - Allow [(Jcs)Cache], [Discriminator] and [Key] at class-level\n    * [NH-666] - IQuery.SetParameterList should support generics\n    * [NH-729] - Add ICurrentSessionContext implementation for ASP.NET apps.\n    * [NH-730] - make the bag Attribute protected instead of private in PersistentBag.cs\n    * [NH-743] - change BatcherImpl to public\n    * [NH-780] - Obsolete code in the tips 'n tricks\n    * [NH-808] - Type of count(*) should be Int64\n    * [NH-810] - Prevent use of many-to-one association in Expression.Eq\n    * [NH-817] - DetachedCriteria Serializable\n    * [NH-835] - Document MultiQuery\n    * [NH-840] - Include Inner Exception on 'Duplicate identifier in table for:' exception msg\n    * [NH-851] - More descriptive error message for 'Cannot find constructor' on projections\n    * [NH-852] - Report proxy validator errors in bulk\n    * [NH-856] - NHibernate.Mapping.Attributes - Allow mapping attributes on interfaces\n\n\nBuild 1.2.0.Beta2\n========================\n\nBreaking Changes:\n    * XML schema versions have been changed from 2.0 to 2.2.\n    * This version includes an updated Castle.DynamicProxy library. However,\n      its maintainers have not changed the version number with the update. Remember\n      to update Castle.DynamicProxy when updating NHibernate from an earlier version.\n\nPatches Applied:\n\n    * [NH-247] - Expression.InsensitiveLike support for Firebird\n    * [NH-335] - discriminator formula\n    * [NH-723] - SqlTest for Firebird\n    * [NH-725] - null reference exception which attempting to flush a versioned object\n    * [NH-747] - Invalid number of SQL parameters when calling ISession.Delete on an optimistic-locked object with 1 or more NULL properties\n    * [NH-749] - NHb tests using Firebird\n    * [NH-751] - hasDataTypeInIdentityColumn to support Informix and similar\n    * [NH-757] - Patch for JetDriver\n    * [NH-762] - Patch to fix errors in Expression.AbstractEmptiness\n    * [NH-765] - Use \"(\" and \")\" to enclose the ToString of LogicalExpression.cs\n\nBugs Fixed:\n\n    * [NH-528] - Fix GROUP BY example in documentation (GROUP BY object instance does not work)\n    * [NH-555] - Problems with complex aggregate queries\n    * [NH-585] - Unknown version when using replicate and joined-subclass\n    * [NH-593] - Throw a meaningful exception when using Expression.In with collection types\n    * [NH-600] - TimestampType precision problems\n    * [NH-622] - Collection of subtypes with discriminators not working\n    * [NH-623] - Where attribute of collection not rendered when eager fetched\n    * [NH-637] - Between Criterion Parameters Applied Incorrectly for Component\n    * [NH-642] - ArgumentNullException if no setter exists and no access strategy was specified\n    * [NH-681] - Generic List Error\n    * [NH-697] - System.MissingMethodException: Method not found: Int32 System.Runtime.CompilerServices.RuntimeHelpers.GetHashCode(System.Object).\n    * [NH-704] - Lock(obj, LockMode.None) not working when there is collection\n    * [NH-716] - Dirty Checking exception (many-to-one, select-before-update)\n    * [NH-732] - Can't use UserType for keys\n    * [NH-734] - ArgumentOutOfRangeException when setting LIMIT parameters using MySQL\n    * [NH-735] - Oracle Driver/Dialect\n    * [NH-739] - Saving transient item in the PersistantBag results duplicate items\n    * [NH-740] - Logging for tests is sometimes not configured properly\n    * [NH-741] - Invalid parameter handling when using functions\n    * [NH-742] - Error with computed property (property ... formula=\"... ) inside <component> block\n    * [NH-746] - NHibernate.SqlCommand.Template quoted Token when not required\n    * [NH-750] - <not-found> with many-to-many\n    * [NH-753] - Composite ID with Positional Parameters in sql-query\n    * [NH-768] - Delete fails when using optimistic-lock and bags\n    * [NH-775] - IQuery.SetResultTransformer() doesn't work\n    * [NH-776] - one-to-one to proxied types not handling missing associated classes correctly (as null)\n    * [NH-777] - ArgumentNullException: Value cannot be null. Reflection exception.\n    * [NH-782] - Update to latest DynamicProxy to fix race condition\n    * [NH-798] - Custom insert/update/delete SQL ignored for collections\n\nNew Features:\n\n    * [NH-432] - Port sessionFactory.getCurrentSession() from H3.1\n    * [NH-499] - NHibernate filters\n    * [NH-515] - Port subselect fetching from Hibernate 3.1\n    * [NH-755] - Port DetachedCriteria from Hibernate 3\n    * [NH-758] - Allow Schema Export to work directly against an IDbConnection or TextWriter\n    * [NH-783] - Port Subquery support for the Criteria API\n    * [NH-795] - Implement lazy=\"proxy|false\" for *-to-one associations\n\nTasks Completed:\n\n    * [NH-412] - Improve build files\n    * [NH-663] - Update readme.html\n\nImprovements:\n\n    * [NH-372] - Allow insert=\"false\", update=\"false\" for components\n    * [NH-575] - Enhance user types support\n    * [NH-606] - Throw an meaningfull exception when collectionType.GetGenericArguments() returns 0 arguments.\n    * [NH-608] - Add ICriteria.CreateCriteria and CreateAlias overloads taking a JoinType parameter.\n    * [NH-614] - Optimize generic IQuery.List implementation\n    * [NH-615] - Change XML schema names to -2.2\n    * [NH-632] - Change the error message for a database driver assembly that wasn't found.\n    * [NH-696] - upgrade to log4net 1.2.10.0\n    * [NH-712] - Improve returned error message when default constructor is not present on a class mapped as a component\n    * [NH-726] - Document that custom insert sql ignored when id generator not \"assigned\"\n    * [NH-744] - Add DDL logging to SchemaExport\n    * [NH-760] - Allow replacing a registered function in Dialect.RegisterFunction\n    * [NH-761] - Change ISession.Get() to initialize a proxy if it returns one, like in H3.2\n    * [NH-778] - Adding pascalcase-m (without the underscore)\n    * [NH-792] - Do not wrap exceptions in DriverConnectionProvider.GetConnection\n\nBuild 1.2.0.Beta1\n========================\n\nPatches Applied:\n\n    * [NH-604] - Excessive memory consumption bug with heavy HQL usage\n    * [NH-636] - Add parametrized type\n    * [NH-638] - Add tests for UserCollectionType\n    * [NH-650] - DB2400Driver and DB2400Dialect\n    * [NH-668] - Support Sqlite ADO.Net 2.0 DataProvider\n    * [NH-673] - SQL Server 2005 Everywhere Edition Driver (SqlServerCeDriver)\n    * [NH-680] - Updates to NHibernate.Tool.hbm2net-2.0 to map nullable types correctly (and more)\n    * [NH-689] - NHibernate.SQL - Log the SQL parameters on the same log line as the statement\n    * [NH-698] - Firebird Dialect Limit Support\n    * [NH-701] - Log SchemaExport errors using log4net\n    * [NH-713] - Port property level optimistic-lock functionality from Hibernate 3.0\n    * [NH-715] - SQL00029 error on INSERT INTO DB2/400 (with identity column)\n\nBugs Fixed:\n\n    * [NH-559] - Memory leak associated with HQL queries\n    * [NH-621] - IdentifierGeneratorFactory.Get() should use Id's IType conversion methods\n    * [NH-643] - Parent child problem when using SysCacheProvider\n    * [NH-649] - Firebird dialect (repeated RegisterFunction)\n    * [NH-669] - Generic map is not working\n    * [NH-687] - ISession.Get() strange behavior (probably a bug)\n    * [NH-690] - SupportsIdentitySelectInInsert property in Dialect class never used\n    * [NH-705] - With SysCache impossible to strore object after the gc clears the cache\n    * [NH-709] - CommandTimeout property should not be global\n    * [NH-719] - Caching of \"any\" reference to lazy classes\n    * [NH-720] - Cache regions are not being used\n\nNew Features:\n\n    * [NH-258] - Stored Procedures\n    * [NH-268] - \"not-found\" attribute on relation mappings\n    * [NH-617] - Add support for projections in criteria queries\n    * [NH-629] - Ingres Driver and Dialect\n    * [NH-640] - IList parameter for Criteria.List\n\nImprovements:\n\n    * [NH-530] - Config loader error messages\n    * [NH-535] - Allow all ID generators to return all integer types, not just Int16/32/64\n    * [NH-541] - Error Message Improvement\n    * [NH-581] - Make MsSql2005Dialect use nvarchar(max), varbinary(max), and varchar(max) instead of ntext, image, and text\n    * [NH-613] - Guid for Firebird\n    * [NH-625] - Add Configuration.AddUrl\n\nNHibernate.Mapping.Attributes:\n\n    * [NH-494] - RawXmlAttribute: Insert XML as-is in the mapping\n    * [NH-684] - AttributeIdentifierAttribute: Change a string value in an Attribute (column name, ...)\n    * [NH-589] - Registration of properties' types patterns: Transform FQNs of properties types\n    * [NH-644] - Pass UnsavedValue as object: Use UnsavedValueObject (in Id, Version, ...)\n    * [NH-651] - Add methods to HbmSerializer returning a stream\n    * [NH-652] - Order (joined-)subclasses when they extend each others\n    * [NH-587] - HbmWriter.WriteUserDefinedContent(): Improve extensibility\n    * [NH-588] - MappingException: Exception thrown by this library\n\nBuild 1.2.0.Alpha1\n========================\n\nImportant Breaking Changes:\n    * Entities and collections are lazy by default. Change by setting default-lazy=\"false\"\n      in <hibernate-mapping>.\n    * Types used as proxies are now validated (a check is done that all public members are\n      virtual). Validation can be disabled by setting hibernate.use_proxy_validator to false.\n    * ISession.Get/Load now obey where=\"...\" attribute of <class>.\n    * Assemblies are signed using a new, publicly available, key.\n    * Assembly.LoadWithPartialName is no longer used to load assemblies. If you want NH to load\n      an assembly from the GAC, use <qualifyAssembly> element in the configuration file to\n      specify its fully qualified name. This change will primarily affect loading of ADO.NET\n      data provider assemblies.\n\nPatches Applied:\n\n    * [NH-595] - Possible bug in SessionImpl.EndLoadingCollections method\n\nBugs Fixed:\n\n    * [NH-242] - Hbm2Net looks for template file in the current directory but should in the program directory\n    * [NH-467] - Many-to-one ignores \"WHERE\" class mapping element on associated Class\n    * [NH-511] - IVersionType.Seed should be set to 1 instead of 0 for integer types\n    * [NH-532] - PropertyNotFoundException ctor throws NullReferenceException\n    * [NH-538] - config.AddDirectory doesn't work\n    * [NH-540] - Register of AnsiChar type\n    * [NH-544] - Small Issue about Iesi.Collection.Set\n    * [NH-548] - Component Parent set to null on 2nd-level cache hit\n    * [NH-550] - Incorrect SQL Generated when using SetMaxResults() with DB2\n    * [NH-551] - Unable to use DB2 in .NET 1.1 when 1.1 & 2.0 installed side by side\n    * [NH-552] - Collection of \"nullifiables\" not updated when object saved back\n    * [NH-560] - Bad alias generated for Generic class\n    * [NH-563] - Exception in NDataReader.cs when loading BinaryBlob\n    * [NH-571] - class keyword in WHERE broken for table-per-subclass mappings\n    * [NH-574] - sort=\"natural\" doen't work when namespace and assemply were set\n    * [NH-579] - Cannot load class=\"System.DayOfWeek\"\n    * [NH-580] - Possible bug in hbm2net\n    * [NH-582] - All IType implementations should be serializable\n    * [NH-607] - session.GetEntityIdentifierIfNotUnsaved can return null\n    * [NH-609] - SysCache re-caches items without expiration policy\n\nNew Features:\n\n    * [NH-449] - SQL Server 2005 dialect\n    * [NH-553] - Driver for Adaptive Server Anywhere 9.0\n\nTasks:\n\n    * [NH-155] - Look at TableHiLoGenerator Impl\n\nImprovements:\n\n    * [NH-179] - Add Proxy Validator\n    * [NH-243] - Hbm2Net is unable to extent with own renderer\n    * [NH-259] - Type-Safe Collections\n    * [NH-338] - Support .NET 2.0 CLR/BCL features, esp Generics and Nullable Types\n    * [NH-353] - Assembly.LoadWithPartialName is obsolete in .NET2\n    * [NH-416] - Change default laziness of classes and collections to \"true\" to match Hibernate 3.1\n    * [NH-441] - Make proxy validator optional\n    * [NH-457] - SysCache slidingExpiration property doesn't work properly\n    * [NH-547] - Add IL-based reflection optimizer\n    * [NH-602] - Support for new Firebird provider\n\nBuild 1.0.2.0\n========================\n\nBugs Fixed:\n\n    * [NH-409] - Sybase - Polymorphics Queries - wrong SQL generation about aliases/quotes\n    * [NH-418] - Custom persister cannot be instanciated.\n    * [NH-464] - DateTime does not work in composite-element mapping\n    * [NH-470] - Disconnect and Close should not close user-supplied connections\n    * [NH-471] - Misspelled property in ICriteria throws NullReferenceException\n    * [NH-476] - GetSetHelperFactory doesn't work with external dependencies\n    * [NH-477] - IncrementGenerator reads Int64 even if Int32 or Int16 is used.\n    * [NH-479] - One-To-One SaveAndUpdateCopy - Reference Identifier Bug\n    * [NH-480] - Should use invariant culture with ToLower and other string calls\n    * [NH-496] - Reflection optimizer should throw a more informative exception when a property is mapped using a wrong type\n    * [NH-505] - Reflection optimizer does not work with structures\n    * [NH-508] - changes to idbag collection not persisted correctly\n    * [NH-509] - ILMerge is not packaged in the distribution\n    * [NH-512] - Custom properties accessors do not work\n    * [NH-523] - SaveOrUpdateCopy throws PersistentObjectException\n\nNew Features:\n\n    * [NH-513] - FOR UPDATE NOWAIT in Postgresql 8.1\n\nImprovements:\n\n    * [NH-483] - Improve type resolution to handle dynamic assemblies\n    * [NH-488] - Change log level for GetSetHelper messages to DEBUG so that users are not confused\n    * [NH-489] - Remove logging from ADOException constructor\n    * [NH-491] - SQLite dialect should use DATETIME type for date/time columns\n    * [NH-493] - Correction in the NHibernate.Type.CharType.cs\n    * [NH-497] - Add more Hibernate-compatible type names\n    * [NH-506] - Make Environment.UseReflectionOptimizer property writable\n    * [NH-516] - Log SQL parameter values\n    * [NH-521] - Locking an unitialized entity causes its initialization\n    * [NH-525] - Upgrade to latest DynamicProxy\n\nBuild 1.0.1.0\n========================\n\nBugs Fixed:\n\n    * [NH-406] - NHibernate.Cfg.Configuration.Configure(\"MyAssembly.dll.config\") results in System.NullReferenceException\n    * [NH-407] - session.Refresh(myObject) does not refresh/load the object from the datbase if it does not exist in the cache.\n    * [NH-414] - Need to process <cache> and <collection-cache> in configuration files\n    * [NH-417] - Column Alias bug\n    * [NH-422] - <meta-value> child tag missing from <many-to-any>\n    * [NH-440] - one-to-one unique foreign key mapping fails during query\n    * [NH-415] - AddXmlString should rethrow exceptions it catches\n    * [NH-463] - IncrementGenerator returns Int64 but uses an Int32 internally\n\nNew Features:\n\n    * [NH-113] - drop table SQL will now check if the table exists on MS SQL\n      to avoid unnecessary warnings.\n    * [NH-450] - Added hbm2ddl NAnt task by James Geurts\n\nImprovements:\n    * [NH-403] - BinaryType.Get should now perform faster\n    * [NH-398] - Bulk property get/set optimization in AbstractEntityPersister\n      contributed by Roberto Paterlini. The optimization is enabled by default,\n      set hibernate.use_reflection_optimizer property to false in your\n      App.config file to disable it. Note that the property is global, thus\n      it is only possible to set it in the app.config file in <nhibernate>\n      session (see above).\n    * [NH-443] - Added more details to \"broken column mapping\" message\n    * [NH-448] - NHibernate configuration process is now closer to Hibernate:\n      - hibernate.properties file corresponds to <nhibernate> section\n        in app.config (mapped to NameValueSectionHandler)\n      - configuration through hibernate.cfg.xml is supported\n      - instead of hibernate.cfg.xml, <hibernate-configuration> section\n        in app.config (mapped to NHibernate.Cfg.ConfigurationSectionHandler)\n        can also be used.\n      - creating a new configuration instance in version 1.0 would cause it\n        to read <hibernate-configuration> section immediately. In 1.0.1 this\n        was changed so that the section is only read when Configure() is called\n    * HashCodeProvider is now merged into NHibernate assembly during build,\n      thus it does not have to be distributed along with NHibernate.dll.\n\nBuild 1.0.0.0\n========================\n\nImprovements:\n * ITransaction.Commit and Rollback will not wrap exceptions that derive\n   from HibernateException into TransactionExceptions, those exceptions\n   will instead be propagated untouched.\n * FieldAccessor now includes correct type in PropertyNotFoundException.\n * Oracle9Dialect will now generate a column of type TIMESTAMP(4)\n   for date fields mapped as \"datetime\".\n\nBuild 0.99.3.0 (1.0-rc3)\n========================\n\nBug Fixes:\n * [NH-376] - Expression.In w/ an empty collection causes a SQL exception\n * [NH-382, NH-392] - problems with ADO transactions that plagued previous\n   1.0-rcX versions should all be resolved now.\n * [NH-391] - Bug in ReadWriteCache when session is opened with existing\n   connection\n * [NH-394] - NullReferenceException in debug print of session objects.\n * [NH-396] - User-provided class names should be trimmed before use\n * [NH-397] - ConfigurationSectionHandler doesn't reads empty properties\n\nImprovements:\n * [NH-388] - Support for the \"Any\", \"Meta-Value\" tags\n * Added fetch attribute from Hibernate 3 with values \"select\"/\"join\".\n   fetch=\"select\" is equivalent to outer-join=\"false\", and fetch=\"join\"\n   matches outer-join=\"true\".\n\nBuild 0.99.2.0 (1.0-rc2)\n========================\n\nBug Fixes:\n * [NH-377] - Allow whitespace around dialect name in cfg.xml\n * [NH-380] - Error with query after comitted transaction\n * [NH-385] - ADOException thrown instead of StaleObjectStateException when\n   updating stale record\n * [NH-386] - Aliases generated for properties with initial underscores should\n   NOT begin with an underscore\n * Using Expression.Eq on a many-to-one property now works again (it was broken\n   by mistake in 1.0-rc1)\n\nImprovements:\n * [NH-329] - If unsaved-value for <id> or <version> is not specified,\n   NHibernate will now try to guess it by instantiating an empty object and\n   retrieving default property values from it (as Hibernate 3 does it).\n * The documentation has an \"installer\" to integrate it in VS .NET Help.\n\nBuild 0.99.1.0 (1.0-rc1)\n========================\n\nBreaking changes to external API:\n- Updated to a newer version of Castle.DynamicProxy.\n  WARNING: this new version has the same number (1.1.5.0) as the version used\n           by the previous release of NHibernate, but the binaries are in fact\n           different and the old 1.1.5.0 will not work with 1.0-rc1.\n- NHibernate no longer configures log4net internally. It is now up to the user\n  to configure logging.\n- Accessing a disposed or closed ISession or ITransaction now causes\n  an ObjectDisposedException. HibernateException or TransactionException could\n  be thrown in this case before, such cases were also changed to\n  throw ObjectDisposedException.\n- Renamed SQLExpression to SQLCriterion per Hibernate 2.1. Now, {alias} should\n  be used instead of $alias in SQL criteria.\n- Unused constructors for some exceptions were removed.\n\nBreaking changes to NHibernate extension interfaces:\n- Renamed IClassPersister.IsDefaultVersion to IsUnsavedVersion. It now takes\n  as argument an array of property values instead of an object.\n- Renamed IClassPersister.CurrentVersion to GetCurrentVersion to follow naming\n  conventions closer.\n- Fixed MatchMode.Start and MatchMode.End for Like expressions, their meanings\n  were reversed.\n- Dialect.AddIdentitySelectToInsert should now return null if the functionality\n  is not supported, instead of throwing an exception.\n\nBug fixes and enhancements:\n- Ported almost all remaining Hibernate 2.1 features to NHibernate:\n  * subcriteria\n  * meta attributes\n  * optimistic-lock setting\n  * query cache\n  * select-before-update\n  * batch lazy loading\n  * dynamic components\n  Missing features are Databinder, ScrollableResults and SchemaUpdate.\n- Allow serializing an unflushed session (NH-292, Yves Dierick).\n- Check that composite id classes override GetHashCode and Equals.\n- Throw QueryException when attempting to fetch multiple collections in\n  a query.\n- Added a SectionHandler to allow using .cfg.xml syntax to configure NHibernate\n  from App.config files. (This was already part of 0.9.1 release but was not\n  announced in the release notes.)\n- Fixed bug when using joined-subclass with key-many-to-one (NH-369).\n- Added IType implementations and constants in NHibernateUtil for unsigned\n  integer types.\n- Added index attribute for <property>.\n- SchemaExport now generates SQL to create an index when index attribute is\n  used on <property> or <column>.\n- SchemaExport will add an \"if exists\" clause to \"drop table\" statement,\n  if supported by the dialect.\n- Heavy refactoring of the documentation; it now contains the documentation for\n  NHibernate Contributions.\n- Fixed a bug when generating a TOP clause for MS SQL Server - the whole SQL\n  string was being converted to lower case.\n\nBuild 0.9.1.0\n========================\n- Fixed bug in limit clause generation on MySQL.\n- Fixed bug in Configuration.AddDocument.\n- Fixed <version unsaved-value=\"negative\" /> not working with ints or shorts.\n- NHibernate now checks whether object identifier passed to its methods is of the right type.\n- Fixed bug with YesNo type generating CHAR(255) column, it now generates CHAR(1).\n- Implemented hibernate.show_sql feature, logging all SQL executed using NHibernate.SQL logger.\n\nBuild 0.9.0.0\n========================\n- Added ISession.Clear().\n- Added configurable command timeout property (hibernate.command_timeout).\n- Added named SQL query support.\n- Allow to specify an isolation level when starting a transaction.\n- Upgraded Castle.DynamicProxy library to the latest version (1.1.5).\n- Upgraded log4net library to the latest version (1.2.9).\n- Fixed bug with Get/Load loading wrong subclasses because of class discriminant not being included in the generated query (Alexander Popov).\n- Fixed VersionNegative unsaved-value strategy not to treat 0 as the unsaved value.\n- Fixed bug in SchemaExport for a many-to-many relationship, it now generates a table with non-null columns and a primary key.\n- Added IncrementGenerator (Mark Holden).\n- Fixed bug with <discriminator> insert attribute not being declared in the schema and having a wrong default value.\n- Fixed bug in proxy Equals method always either returning true or failing with a NPE.\n- Changed LazyInitializer to match Hibernate 2.1, proxies now don't have their own special implementation of Equals and GetHashCode, either System.Object's or the real class methods are used instead.\n- Added more naming strategies (lower case, pascal-case underscored).\n- Fixed bug with custom access strategy not working for components.\n- Allow using structs (value types) as components.\n- Added ISession.Replicate().\n- Added support for using MS SQL TOP clause for paging (Yves Derrick).\n- Added persister attribute for collection mappings.\n- Fixed a NPE in Junction.ToString().\n- Disabled nullability checks when deleting an object.\n- Fixed SchemaExport not to generate duplicate foreign key constraints (this caused problems with Oracle).\n- Implemented Copy methods for various ITypes, so that SaveOrUpdateCopy actually works.\n- Changed visibility of CollectionEntry class to public to aid XML serializability of collections. It should not be expected to work in all cases since XML serialization has many limitations in .NET.\n- Several Oracle-related improvements.\n- More informative error message for a bad identifier generation strategy.\n- Fixed bug with SchemaExport ignoring foreign-key attribute sometimes.\n- Fixed bug with Get/Load not updating the internal nonExists collection of the session (Jerry Shea).\n- More informative error message for foreign key problems.\n- Throw a more informative exception when attempting to set the value of a non-existent query parameter.\n- Do not allow reconnecting a closed session.\n- More informative error message when executing ISession.Find(\"from NonexistentClass\").\n- Added more information to the exception thrown when expected and actual row counts from a command do not match.\n- Remove underscores from the beginning of generated aliases for fields (Oracle cannot handle them).\n- Search the current AppDomain's bin directory for hibernate.cfg.xml, in addition to the application directory.\n- Added <cache> element as a synonym for <jcs-cache>.\n\nBuild 0.8.4.0\n========================\n- Added limited support for storing an enum type using its string representation. See the documentation of EnumStringType and TypesTest\\EnumStringTypeFixture.cs for an example.\n- Fixed bug with BatcherImpl cached commands being disposed. The caching functionality was removed.\n- Fixed bug when property paths were used in criteria queries and caused an exception.\n- Modified DB2Dialect, Oracle9Dialect and PostgreSQLDialect to use Int32 for limit and offset parameters.\n- Various code clean-ups and commenting.\n\nBuild 0.8.3.0\n========================\n- Added name of Property to the PropertyNotFoundException message.\n- Fixed bug with <joined-subclass> that has a <property formula=\"...\" />.\n- Fixed bug with extra \"AND\" being added to sql.\n- Fixed NullReferenceException that could occur in InstantiationException.\n- Improved efficiency of GuidCombGenerator (Marc C. Brooks).\n- Modified BinaryType to work with MySql's buggy version of GetBytes().\n\nBuild 0.8.2.0\n======================== \n- Fixed default value of \"unsaved-value\" for <version> in xsd.\n- Fixed default value of \"unsaved-value\" for <timestamp> in xsd.\n- Modified \"proxy\" to use \"namespace\" and \"assembly\" from <hibernate-mapping>\n\nBuild 0.8.1.0\n======================== \n- Fixed bug with <version> defaulting to \"null\" instead of \"undefined\".\n\nBuild 0.8.0.0\n======================== \n- Added \"namespace\" and \"assembly\" attributes to <hibernate-mapping>.\n- Added lazy=\"true\" as short hand for proxy=\"full type name\"\n- Added insert attribute to <discriminator>.\n- Added ability to set INamingStrategy on Configuration class.\n- Added property-ref attribute on <many-to-one> and <one-to-one>.\n- Added \"foreign-key\" attribute to <many-to-one>, <one-to-one>, <many-to-many>, key allowing a different column to be the foreign key target\n- Added check attribute to column element.\n- Added <sql-query> element.\n- Added \"unsaved-value\" to <version>/<timestamp> as DateTime can't support null, use 1/1/0001 to align with .NET default value for DateTime\n- Added SaveOrUpdateCopy() which allows synchronisation for detached objects\n- Added Expression.Example for Query By Example.\n- Added IDriver and Dialect for Sybase (Steve Corbin).\n- Added UniqueResult() to ICriteria and IQuery.\n- Added default value of hibernate.connection.driver_class to Dialect so most of the time this configuration is not needed.\n- Added SByteType to built in ITypes.\n- Fixed <one-to-one> so that two queries are no longer issued when one side is null.\n- Fixed bug with ISet.AddAll(ICollection) not being implemented. (Bill Hawes)\n- Fixed bug with <set> being initialized from Cache.\n- Fixed bug with hql \"select new ClassName(...) from ...\" where one parameter was an Enum. (Luca Altea)\n- Fixed bug in mapping that required type=\"full.name.of.enum\" to be required instead of NH correctly inferring type. (Luca Altea) \n- Fixed bug with a decimal <id> and unsaved-value.\n- Fixed problem with loading ADO.NET Data Providers from GAC.\n- Fixed issue with TableGenerator not disposing of IDbCommand.\n- Improved memory consumption of Configuration, smaller footprint and releases objects faster. \n- Improved nhibernate-mapping schema to more schema constructs instead of direct dtd port.\n- Improved message from NullableType when DataProvider can't cast the database value to .net class.\n- Modified <discriminator> to use \"null\" or \"not null\" as the value.\n- Modified Dialect to use Hibernate 2.1 methods.\n- Modified Expression to return ICriterion instead of Expression class.  This will break existing code.\n- Modified nhibernate-configuration-2.0.xsd to not require <mappings>.\n- Modified TestFixtures in NHibernate.Test to only execute create/drop ddl in the TestFixtureSetUp/TestFixtureTearDown.\n- Split QueryFunctionStandard into ISQLFunction interface and StandardSQLFunction.\n- Upgraded to nant-0.85-rc3 and nunit-2.2.0.\n\nBuild 0.7.0.0\n======================== \n- Renamed class NHibernate.NHibernate to NHibernate.NHibernateUtil.  This will break alot of code if you were using ISession.Find with parameters - migrate to IQuery instead.\n- Fixed bug with DateTime type where any value less than 1/1/1753 was written to the database as null.  If you were relying on this then the Nullables library in NHibernateContrib is the way to code null values for DateTime properties.\n- Added ISession.Get() as an alternative to ISession.Load() (Sergey Koshcheyev).\n- Added IDisposable to EnumerableImpl, ISession, ITransaction, IBatcher, and IConnectionProvider.\n- Added default value of hibernate.connection.driver_class to Dialects.\n- Added default value of hibernate.prepare_sql=\"false\" to MsSql2000Dialect.\n- Added [ComVisible(false)] to NHibernate AssemblyInfo.\n- Added OracleDataClientDriver for Oracle.DataAccess assembly (James Mills).\n- Added IDriver and Dialect for SQLite (Ioan Bizau).\n- Fixed messages in exceptions from GetGetter and GetSetter in BasicPropertyAccessor and NoSetterAccessor.\n- Fixed problem of LazyInitializationException losing InnerException.\n- Fixed problem of Collections not always getting cached.\n- Fixed Id.TableGenerator so it works with Oracle.\n- Fixed problem with SequenceHiLoGenerator and converting to Int64 (Yves Dierick). \n- Fixed problem of some NHibernate Exceptions not being serializable.\n- Improved documentation in IQuery to explain how SetMaxResult is working.\n- Improved messages in Exceptions thrown by ISetter.\n- Improved messages in Exceptions for Persisters with problems parsing discriminator values.\n- Improved Configuration.AddAssembly() to process hbm.xml files with subclass/joined-subclass files using \"extends\" in correct order (Mark Traudt).   Also added overload of AddAssembly(Assembly,bool) that can be used to skip ordering.\n- Many internal cleanups from FxCop reccommendations.\n- Modified ISession.Lock() to allow reassociating transient instances like hibernate 2.1 (Sergey Koshcheyev).\n- Modified Exception thrown by Preparer when the IDbCommand.Prepare() method fails to ADOException.\n- Modified SqlCommand.Parameter to be immutable.\n- Modified how constraints are generated to work with MySql 4.1 (Bill Hawes).\n- Modified Dialect to throw an ArgumentException when an unsupported DbType is used.\n- Modified constructors on NHibernate Collections to be internal instead of public.\n- Renamed Transaction to AdoTransaction.\n\nBuild 0.6.0.0\n======================== \n- Added support for proxy=\"\" on classes.  proxy=\"\" must either specify an Interface or the properties that need to be proxied have to be virtual.\n- Added a configuration parameter \"hibernate.prepare_sql\" to turn on or off calls to IDbCommand.Prepare().\n- Added NHibernate Type for System.SByte. (Sergey Koshcheyev)\n- Added support for mapping subclasses and joined-subclasses in different files through addition of extends attribute. (Andrew Mayorov)\n- Added support for LIMIT to MySQLDialect. (Sergey Koshcheyev)\n- Improved error messages when IDbCommand and IDbConnection can't be found by the IDriver.\n- Improved error message when mapped class is missing a constructor with no args.\n- Fixed problem with spaces in sql generated from hql and MySql.\n- Fixed bug with Configuration when there is a class without a namespace.\n- Fixed bug with Sql generated for an IN clause that contains a class/subclass with a discriminator-value=\"null\".\n- Fixed potential threading problem with QueryTranslator.\n- Modified logging in Transaction to not generate as many messages.\n- Modified how exceptions are rethrown so call stack of original exception is not lost.\n- Moved NHibernate.Tasks and NHibernate.Tool.hbm2net to the NHibernateContrib package.\n- Removed DbType {get;} from IUserType.\n\nBuild 0.5.0.0\n======================== \n- Added Iesi.Collections Library that contains an ISet.  Code was taken from http://www.codeproject.com/csharp/sets.asp.\n- Fixed hbm2net problem with spaces in arguments. (Kevin Williams)\n- Added a NHibernateContrib project that contains Nullable Types for .net 1.1 designed for WinForm Databinding. (Donald Mull)\n- Added DB2Driver and DB2Dialect to core of NHibernate. (Martijn Boland)\n- Fixed IQuery.SetParameter() when the value is an Enum\n- Updated to latest MySql Data Provider and changed classes to MySqlDataDriver.  Removed binaries from CVS since they are GPL now.\n- Isolated test and classes that use DbType.Time into their own fixtures.  Data Drivers don't implement this consistently.\n- Fixed problem where HQL was not parsing Enums correctly. (Peter Smulovics)\n- Fixed Int16 not working as a <version> Property.\n- Added CLSCompliantAttribute(true) attribute to NHibernate and Iesi.Collections.\n- Fixed how Exceptions are rethrown to not lose the stack trace.\n- Added more comments around ISession.Find and ISession.Enumerate to explain Cache usage.\n- Fixed bug with dynamic-update generating SQL for all properties. (Sergey Koshcheyev)\n- Add Clover.NET into NHibernate build process thanks to license donated by Cenqua (www.cenqua.com).\n- Modified TableGenerator to default first id to \"1\" instead of \"0\" to work better with unsaved-value. (Karl Andersson)\n\nAlpha Build 0.4.0.0\n======================== \n- Started work on documentation.\n- Improved Cache to use pluggable CacheProviders like Hibernate 2.1. (Kevin Williams)\n- Removed properties UseScrollableResults, BatchSize, and FetchSize - not applicable to ADO.NET.\n- Fixed problem with object not getting removed from Cache when Evicted from Session.\n- Added to MySqlDialect a mapping from DbType.Guid to varchar(40) for schema-export. (Thomas Kock)\n- Added lowercase-underscore naming strategy. (Corey Behrends)\n- Fixed bug with access=\"field\" and no type=\"\" attribute causing Exception in ReflectHelper.\n- Removed IVersionType implementation from TimeType and DateType.\n- Moved Eg namespace from NHibernate core to NHibernate.Eg project.\n- Added guid.comb id generator. (Donald Mull)\n- Added ability to configure with a cfg.xml embedded as a resource in an assembly (Thomas Kock)\n- Fixed PostgreSQLDialect binding of Limit Parameters. (Martijn Boland)\n- Began restructure of lib folder to support net-1.0, net-1.1, net-2.0, and mono-1.0 in build.  Still only 'officially' supports net-1.1.\n\nAlpha Build 0.3.0.0\n======================== \n- Removed property AdoTransaction from Transaction.\n- Added MsSql7Dialect.\n- Added PostgreSQL Driver and Dialect (Oliver Weichhold & Martijn Boland).\n- Fixed bug with Expression.Ge() not returning correct Expression.\n- PersistentCollection now implements ICollection (Donald Mull).\n- BatcherImpl and PreparerImpl were combined and code cleaned up thanks to problems found when using Ngpsql (Martijn Boland).\n- ITransaction is now responsible for joining IDbCommand to IDbTransaction instead of IBatcher - if applicable.\n- Modified code to help improve performance of Drivers that don't support multiple Open DataReaders on a single IDbConnection.\n- Fixed bug with hbm2net and VelocityRenderer throwing Exception (Carlos GuzmÃ¡n Ãlvarez & Peter Smulovics).\n- Clean up of hbm2net (Peter Smulovics).\n- Modified internals of AbstractEntityPersister to help with buiding on Mono (Oliver Weichhold).\n- Renamed nhibernate.build to NHibernate.build to help with building on Mono (Oliver Weichhold).\n- Removed Dialect.GetLimitString(string) should use Dialect.GetLimitString(SqlString) instead.\n- SqlStringBuilders were modified to set an initial capacity for the ArrayList.\n- Added properties to SqlString to help with SqlStringBuilders and Hql.\n- Marked Exceptions as [Serializable].\n- Fixed bug with Hql not being able to use a constant in an imported or mapped Class.\n- DateTimeType.DeepCopyNotNull() cleaned up (Mark Traudt).\n- Added VersionProperty to IClassMetadata.\n- Renamed PrimitiveType to ValueTypeType to be more .net style consistent and fixed them up so they inherit from the appropriate class.\n- Fixed bug with caching an ObjectType.\n- Much code cleaned up for FxCop (Peter Smulovics).\n- Fixed bug with <bag lazy=\"true\">, doing an Add, and then a Flush() resulting in the entity in there twice.\n\nAlpha Build 0.2.0.0\n======================== \n- Removed support for <dynabean> mapping since it doesn't exist in .net.\n- Fixed bug in nhibernate.build file when not signing NHibernate.dll.\n- Fixed bug with Hql and SetParameter() where there were 2 parameters with same name.\n- Fixed bug with Hql and \"IN (:namedParam)\".\n- Fixed bug with Hql and multi column IType.\n- Fixed bug with Hql and scalar queries \n- Fixed bug with NullReferenceException and TypeType class.\n- ISession.Filter() is now working.\n- Compiled Queries and Filters are now cached.\n- Refactored Hql to use a SqlString instead of string containing sql.\n- Dialect has had public API changed because of Sql to SqlCommand refactoring.\n- IPreparer has had methods removed from public API.\n- type=\"System.Object\" no longer matches to SerializableType - instead it matches to ObjectType.  Use type=\"Serializable\" instead.\n- Added \"access\" attribute for NHibernate to get to fields and properties with no setters.  See NHibernate.Property.PropertyAccessorFactory for all valid value types and how to plug in your own implementation of IPropertyAccessor.\n- Added Types to read BLOB/CLOB columns to a byte[]/string Property.\n- Modified Expression.Sql() to require use of SqlString if parameters are used.\n- TypeFactory was modified to allow the attribute \"type\" to be the Assembly Qualified Name, Full Name, NHibernate IType.Name, or Hibernate name to help with porting hibernate hbm.xml files and Net2Hbm that John is writing.\n- hibernate.connection.isolation configuration now affects the IDbTransaction's IsolationLevel, it is parsed as the name value of the IsolationLevel enum - \"Chaos\", \"ReadCommitted\", \"ReadUncommitted\", \"RepeatableRead\", \"Serializable\", and \"Unspecified\".\n- ICriteria.SetMaxResults() is now working.\n- IQuery.SetMaxResults().Enumerable() is now working.\n- Modifed Test Fixtures to help isolate problems caused by DataProviders.\n\nPreAlpha Build 0.1.0.0\n======================== \n- NHibernate and HashCodeProvider are now strong named assemblies.  The key used to sign the assemblies is not in CVS.\n- Many more Tests implemented.\n- Added Examples into CVS and zip.\n- ConnectionProvider uses settings passed to it by ConnectionProviderFactory instead of default settings.\n- Hbm2Net moved from NHibernate folder to its own folder and NAnt Tasks for it contributed by Kevin Williams.\n- Adding properties to Cfg instead of using app.config/web.config or cfg.xml now supported.\n- In cfg.xml, an assembly where the resource can be found is now needed - ie: <mapping resource=\"\" assembly=\"\" />.\n- nhibernate-configuration-2.0.xsd schema was updated to .net friendly names and all cfg.xml files are now validated.\n- Fixed bug with classes having dynamic-insert and dynamic-update causing IndexOutOfRangeExceptions.\n- Modified length of string for CultureInfoType.\n- Added Firebird fixes contributed by Carlos GuzmÃ¡n Ãlvarez.\n- Changed TimestampType.Set to behaive like hibernate.  Will not write a null value anymore - instead replaces it with DateTime.Now.\n- Removed IVersionType interface from DecimalType.\n- Add PropertyExpressions contributed by Carlos GuzmÃ¡n Ãlvarez.\n- Fixed bug with referencing joined classes properties in hql.\n- Fixed IndexOutOfRangeException with NormalizedEntityPersister for versioned entities.\n- Added ObjectType to TypeFactory and NHibernate.\n- Fixed problem with hql subselects referencing a class in main query.\n- Limited support for Serializing a Session.  Sometimes a Refresh() is needed after Deserialization.      \n- Fixed bug with sending a one-to-many collection to be updated that involves inserting a new row.\n\nPreAlpha Build 6\n======================== \n- Fixed Configuration so app.config/web.config behaives like hibernate.properties and a hibernate.cfg.xml.  Settings in app.confg/web.config are no longer required if a cfg.xml file is used.\n- Dialects now set default values for outer joins.  \n- Fixed bug in ArrayHolder with null elements.\n- Added IDisposable to ISession\n- Fixed bug with lazy loaded SortedSet during Flush().\n- Fixed problem with Loading using LockModes because of missing columns with Forumlas.\n- Added SetAnsiString to IQuery\n- Fixed bug with IDbCommands used in a Session that is Disconnected and Reconnected not being associated with the correct IDbTransaction.\n- Driver can disable calls to IDbCommand.Prepare() for Data Providers that don't support it.\n- Removed requirement to set length with type attribute - ie, can use type=\"String\" instead of type=\"String(50)\".\n- schema-export now functions just like it does with hibernate 2.0.3\n- Converting a SqlString to an IDbCommand is now a Driver specific function because different Driver's have different requirements for IDbCommands.\n- Added HashCodeProvider.dll to remove problems with RuntimeHelpers.GetHashCode causing MissingMethodException with App Domain reloading with ASP.NET and NUnit.\n\nPreAlpha Build 5\n======================== \n- Added check in Configuration for 1.1 version of runtime.\n- Removed reference in NHibernate.csproj to nunit.framework.dll.\n- Fixed update=\"true\" when values different than insert attribute.\n- Enumerable with HQL now works with multiple results.\n- Fixed NullReferenceException in EvictCollections.\n- Fixed bug with lazy loaded sorted collections not loading correctly.\n- Fixed problem with cascading deletes causing OutOfMemoryException.\n- Implemented more TestFixtures.\n\nPreAlpha Build 4\n======================== \n- Implemented most DomainModel classes and hbms for testing \n- Implemented more TestFixtures (both migrated and new)\n- Added Oracle Dialects and Drivers (thanks to feilng for contributing those!)\n- Modified classes in Type namespace to support reading values from Oracle Driver\n- Added DotNetMock.dll to NHibernate.Test assembly to help with testing Type namesapce\n- Fixed parameter parsing so both Named Params (:name) and ? can be used in HQL\n- Fixed problem with joins in HQL\n- Fixed problem with <set>, <map>, and <bag> where lazy=\"true\"\n- Fixed problem with <idbag> being bound to a Bag instead of IdentifierBag\n- Fixed problem with CollectionPersister.WriteRowSelect and IdentifierBags \n- Fixed problem with <array> when a null value was in the array\n- Fixed problem with sending an unneeded Update before a Delete\n- Fixed problem with null aliases and Parameter.Equals()\n- Cleaned up HQL parsing so it internally throws fewer exceptions \n- ConnectionProvider's now provide internal IDbConnection cache like h2.0.3 - not on by default\n- Fixed problem with StringHelper.Replace being passed a null template\n- <property forumla=\"some sql forumla\" ... /> is now supported\n- <class dynamic-insert=\"true\"> is now supported\n- read only <property> and a read-write <property> can now refer to the same column without problems.\n- changed value of Dialect.SupportForUpdateOf to false, like h2.0.3 has it\n- Id generation strategies that use TableGenerator now work for all Drivers\n- Modified IdentityMap to use SequencedHashMap instead of ListDictionary (thanks to feling for finding the performance problems that ListDictionary was causing)\n- Fixed problem with Expresion.Juction.GetTypedValues() not returning correct TypedValue[]\n\n\nPreAlpha Build 3 \n======================== \n- Synched Cache Namespace with cache package in H2.0.3 \n- Synched CollectionPersister with H2.0.3 \n- Synched Config Namespace with config package in H2.0.3. \n- Synched Cascade strategies with H2.0.3 \n- Synched Dialect Namespace with dialect package in H2.0.3 \n- Started HQL Namespace synch with hql package in H2.0.3. There are still some issues in there. \n- Synched Id Namespace with id package in H2.0.3 \n- Synched Mapping namespace with mapping package in H2.0.3. \n- Added ForUpdateFragment \n- hbm2net created. \n- Added AnsiStringType. \n- Added GuidType. \n- Fixed problem with IdentityMap that caused <set lazy=\"true\"> to not work. \n- Added support for <bag> and <id-bag> mappings. \n- Implemented sorted collections. \n- Build files rewritten. \n- MsSql Dialect now issues one statement to Insert and retrieve identity value. \n- Fixed a bug with <generator class=\"sequence\"> \n- Implemented SqlExpression for Criteria queries. \n- Initial fix of Multiple IDataReaders being opened with Entities that contain <component> mappings. \n- Fixed problems with Alias and Ms Sql Server. \n\nPreAlpha Build 2 \n========================\n- Continued to synchronize NHibernate with Hibernate 2.0.3's features. \n- Modifed BooleanType to use GetBoolean instead of GetByte \n- Modified MsSqlServer2000Dialect to maps a BooleanSqlType to a bit column type. \n- Fixed bug with IdentityMap that caused problems with Session.Flush() loading lazy collections \n- Added TicksType to TypeFactory \n- Fixed bug with SchemaExport committing a non existing IDbTransaction \n"
        },
        {
          "name": "sample build commands.txt",
          "type": "blob",
          "size": 1.18359375,
          "content": "## \n##\tThis file contains sample commands to build NHibernate using the build files.\n##\tIt should be run from the nhibernate directory that contains the \n##\tNHibernateSolution.build file.\n##\t\n##\tIf you are going to run the Test make sure to set the connection information.\n##\n##\n\n\nNAnt -D:project.config=release clean build >output-release-build.log\n\nNAnt clean build >output-debug-build.log\n\nNAnt -D:project.config=release -D:nhibernate.dialect=\"NHibernate.Dialect.MsSql2000Dialect\" -D:nhibernate.connection.driver_class=\"NHibernate.Driver.SqlClientDriver\" -D:nhibernate.connection.connection_string=\"Server=localhost;initial catalog=nhibernate;User ID=blah;Password=blah;Min Pool Size=2\" clean package >output-release-package.log\n\n## You can exclude certain modules from being built by setting following properties to false\n##\n## with.tools\n## with.examples\n##\n## - or -\n## \n## You can set with.core.only=true and then add the modules you want by\n## specifiy true instead of false.\n##\n\n## Build Everything But Jet\nNAnt -D:with.examples=false\n\n## Build Only The Core\nNAnt -D:with.core.only=true\n\n## Build API documentation (you should have Sandcastle installed)\nNant api\n\n## Build reference manual\nNant manual\n\n"
        },
        {
          "name": "src",
          "type": "tree",
          "content": null
        },
        {
          "name": "teamcity.build",
          "type": "blob",
          "size": 22.1875,
          "content": "<?xml version=\"1.0\" ?>\n<project name=\"NHibernate TeamCity Build\" xmlns=\"http://nant.sf.net/release/0.90/nant.xsd\" default=\"clean-configure-test\" xsi:schemaLocation=\"http://nant.sf.net/release/0.90/nant.xsd Tools\\nant\\schema\\nant.xsd\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">\n\n\t<property name=\"root.dir\" value=\".\" />\n\t<property name=\"config.teamcity\" value=\"default\"/>\n\t<property name=\"current-test-configuration.dir\" value=\"${root.dir}/current-test-configuration\" /> \n\t<property name=\"skip.db-service\" value=\"true\" overwrite=\"false\" />\n\n\t<include buildfile=\"${root.dir}/default.build\" />\n\n\t<if test=\"${not property::exists('CCNetLabel') and not property::exists('build.number')}\">\n\t\t<fail message=\"This build file is for use with CruiseControl.NET or TeamCity\" />\n\t</if>\n\n\t<property name=\"build.number\" value=\"${CCNetLabel}\" if=\"${property::exists('CCNetLabel')}\" />\n\n\t<target name=\"clean-configure-test\" depends=\"cleanall init copy-teamcity-configuration binaries start-db-service test stop-db-service verify-test-results binaries-zip\" />\n\n\t<target name=\"start-db-service\" unless=\"${skip.db-service or not property::exists('db-service')}\">\n\t\t<servicecontroller action=\"Start\" service=\"${db-service}\" timeout=\"120000\" />\n\t</target>\n\n\t<target name=\"stop-db-service\" unless=\"${skip.db-service or not property::exists('db-service')}\">\n\t\t<servicecontroller action=\"Stop\" service=\"${db-service}\" timeout=\"120000\" />\n\t</target>\n\n\t<target name=\"copy-teamcity-configuration\">\n\t\t<copy file=\"build-common/teamcity-hibernate.cfg.xml\" tofile=\"${current-test-configuration.dir}/hibernate.cfg.xml\" />\n\t\t<call target=\"setup-teamcity-${config.teamcity}\"/>\n\t\t<property name=\"app.config\" value=\"${current-test-configuration.dir}/hibernate.cfg.xml\" />\n\t\t<call target=\"put-connection-settings-into-defined-app-config\" />\n\t</target>\n\n\t<target name=\"verify-test-results\">\n\t\t<if test=\"${property::exists('NHibernate.Test.IgnoreFail')}\">\n\t\t\t<!-- Process the current results first, so that these will be available in build artifacts even\n\t\t\t\t if the last-result files is missing. -->\n\t\t\t<property name=\"teamcity.current.result\" value=\"${testResult::StripTimings(testresults.dir + '/NHibernate.Test.dll-results.xml', 'NHibernate.Test.current-results.xml')}\" />\n\t\t\t<copy file=\"${teamcity.last.result}\" todir=\"${testresults.dir}\"  />\n\t\t\t<property name=\"teamcity.report\" value=\"${testResult::CompareResults(teamcity.current.result, teamcity.last.result)}\" />\n\t\t</if>\n\t</target>\n\n\t<target name=\"setup-teamcity-default\">\n\t\t<property name=\"db-service\" value=\"MSSQL$SQLEXPRESS\" />\n\t\t<!-- default (SQL Server) does not require any additional settings/binaries -->\n\t</target>\n\n\t<target name=\"setup-teamcity-sqlServerOdbc\">\n\t\t<property name=\"db-service\" value=\"MSSQL$SQLEXPRESS\" />\n\t\t<property name=\"nhibernate.connection.driver_class\" value=\"NHibernate.Driver.OdbcDriver\" />\n\t\t<property name=\"nhibernate.odbc.explicit_datetime_scale\" value=\"3\" />\n\t\t<property name=\"nhibernate.transaction.ignore_session_synchronization_failures\" value=\"true\" />\n\t\t<property name=\"nhibernate.transaction.system_completion_lock_timeout\" value=\"200\" />\n\t<!-- We need to use a dialect that avoids mapping DbType.Time to TIME on MSSQL. On modern SQL Server\n\t\tthis becomes TIME(7). Later, such values cannot be read back over ODBC. The\n\t\terror we get is \"System.ArgumentException : Unknown SQL type - SS_TIME_EX.\". I don't know for certain\n\t\twhy this occurs, but MS docs do say that for a client \"compiled using a version of SQL Server Native\n\t\tClient prior to SQL Server 2008\", TIME(7) cannot be converted back to the client. Assuming that .Net's\n\t\tOdbcDriver would be considered a \"client compiled with a previous version\", it would make sense. Anyway,\n\t\tusing the MsSql2005Dialect avoids these test failures. -->\n\t\t<property name=\"nhibernate.dialect\" value=\"NHibernate.Dialect.MsSql2005Dialect\" />\n\t<!-- The OdbcDriver inherits SupportsMultipleOpenReaders=true from DriverBase, which requires Mars_Connection=yes for SQL Server. -->\n\t\t<property name=\"nhibernate.connection.connection_string\" value=\"Driver={SQL Server Native Client 11.0};Server=.\\SQLExpress;Database=nhibernateOdbc;Trusted_Connection=yes;Mars_Connection=yes;\" />\n\t</target>\n\n\t<target name=\"setup-teamcity-sqlServer-Sql2008ClientDriver\">\n\t\t<property name=\"db-service\" value=\"MSSQL$SQLEXPRESS\" />\n\t\t<property name=\"nhibernate.connection.driver_class\" value=\"NHibernate.Driver.Sql2008ClientDriver\" />\n\t</target>\n\n\t<target name=\"setup-teamcity-sqlServer-MicrosoftDataSqlClientDriver\">\n\t\t<property name=\"db-service\" value=\"MSSQL$SQLEXPRESS\" />\n\t\t<property name=\"nhibernate.connection.driver_class\" value=\"NHibernate.Driver.MicrosoftDataSqlClientDriver\" />\n\t</target>\n\n\t<target name=\"setup-teamcity-sqlServer2012\">\n\t\t<property name=\"db-service\" value=\"MSSQL$SQLEXPRESS\" />\n\t\t<property name=\"nhibernate.dialect\" value=\"NHibernate.Dialect.MsSql2012Dialect\" />\n\t</target>\n\n\t<target name=\"setup-teamcity-sqlServer2012-MicrosoftDataSqlClientDriver\">\n\t\t<property name=\"db-service\" value=\"MSSQL$SQLEXPRESS\" />\n\t\t<property name=\"nhibernate.dialect\" value=\"NHibernate.Dialect.MsSql2012Dialect\" />\n\t\t<property name=\"nhibernate.connection.driver_class\" value=\"NHibernate.Driver.MicrosoftDataSqlClientDriver\" />\n\t</target>\n\n\t<target name=\"setup-teamcity-sqlServerCe32\">\n\t\t<property name=\"nhibernate.connection.driver_class\" value=\"NHibernate.Driver.SqlServerCeDriver\" />\n\t\t<property name=\"nhibernate.dialect\" value=\"NHibernate.Dialect.MsSqlCe40Dialect\" />\n\t\t<property name=\"nhibernate.connection.connection_string\" value=\"Data Source=NHibernate.sdf\" />\n\t\t<property name=\"nhibernate.command_timeout\" value=\"0\" />\n\t</target>\n\n\t<target name=\"setup-teamcity-sqlServerCe64\">\n\t\t<property name=\"nunit-x64\" value=\"true\" />\n\t\t<property name=\"nhibernate.connection.driver_class\" value=\"NHibernate.Driver.SqlServerCeDriver\" />\n\t\t<property name=\"nhibernate.dialect\" value=\"NHibernate.Dialect.MsSqlCe40Dialect\" />\n\t\t<property name=\"nhibernate.connection.connection_string\" value=\"Data Source=NHibernate.sdf\" />\n\t\t<property name=\"nhibernate.command_timeout\" value=\"0\" />\n\t</target>\n\n\t<target name=\"setup-teamcity-firebird32\">\n\t\t<property name=\"db-service\" value=\"FirebirdServerDefaultInstance\" />\n\t\t<property name=\"nhibernate.connection.driver_class\"\t\t\tvalue=\"NHibernate.Driver.FirebirdClientDriver\" />\n\t\t<property name=\"nhibernate.dialect\"\t\t\t\t\t\t\tvalue=\"NHibernate.Dialect.FirebirdDialect\" />\n\t\t<property name=\"nhibernate.connection.connection_string\"\tvalue=\"DataSource=localhost;Database=nhibernate;User ID=SYSDBA;Password=masterkey;MaxPoolSize=200;charset=utf8;\" />\n\t</target>\n\n\t<target name=\"setup-teamcity-firebird64\">\n\t\t<property name=\"db-service\" value=\"FirebirdServerDefaultInstance\" />\n\t\t<property name=\"nunit-x64\" value=\"true\" />\n\t\t<property name=\"nhibernate.connection.driver_class\"\t\t\tvalue=\"NHibernate.Driver.FirebirdClientDriver\" />\n\t\t<property name=\"nhibernate.dialect\"\t\t\t\t\t\t\tvalue=\"NHibernate.Dialect.FirebirdDialect\" />\n\t\t<property name=\"nhibernate.connection.connection_string\"\tvalue=\"DataSource=localhost;Database=nhibernate;User ID=SYSDBA;Password=masterkey;MaxPoolSize=200;charset=utf8;\" />\n\t</target>\n\n\t<target name=\"setup-teamcity-sqlite32\">\n\t\t<property name=\"nhibernate.connection.driver_class\"\t\t\tvalue=\"NHibernate.Driver.SQLite20Driver\" />\n\t\t<!-- DateTimeFormatString allows to prevent storing the fact that written date was having kind UTC,\n\t\t     which dodges the undesirable time conversion to local done on reads by System.Data.SQLite.\n\t\t     See https://system.data.sqlite.org/index.html/tktview/44a0955ea344a777ffdbcc077831e1adc8b77a36\n\t\t     and https://github.com/nhibernate/nhibernate-core/issues/1362 -->\n\t\t<property name=\"nhibernate.dialect\"\t\t\t\t\t\t\tvalue=\"NHibernate.Dialect.SQLiteDialect\" />\n\t\t<property name=\"nhibernate.connection.connection_string\"\tvalue=\"Data Source=NHibernate.db;DateTimeFormatString=yyyy-MM-dd HH:mm:ss.FFFFFFF;\" />\n\t</target>\n\n\t<target name=\"setup-teamcity-sqlite64\">\n\t\t<property name=\"nunit-x64\" value=\"true\" />\n\t\t<property name=\"nhibernate.connection.driver_class\"\t\t\tvalue=\"NHibernate.Driver.SQLite20Driver\" />\n\t\t<!-- DateTimeFormatString allows to prevent storing the fact that written date was having kind UTC,\n\t\t     which dodges the undesirable time conversion to local done on reads by System.Data.SQLite.\n\t\t     See https://system.data.sqlite.org/index.html/tktview/44a0955ea344a777ffdbcc077831e1adc8b77a36\n\t\t     and https://github.com/nhibernate/nhibernate-core/issues/1362 -->\n\t\t<property name=\"nhibernate.dialect\"\t\t\t\t\t\t\tvalue=\"NHibernate.Dialect.SQLiteDialect\" />\n\t\t<property name=\"nhibernate.connection.connection_string\"\tvalue=\"Data Source=NHibernate.db;DateTimeFormatString=yyyy-MM-dd HH:mm:ss.FFFFFFF;\" />\n\t</target>\n\n\t<target name=\"setup-teamcity-postgresql\">\n\t\t<property name=\"db-service\" value=\"postgresql-x64-13\" />\n\t\t<property name=\"nhibernate.connection.driver_class\"\t\t\tvalue=\"NHibernate.Driver.NpgsqlDriver\" />\n\t\t<property name=\"nhibernate.dialect\"\t\t\t\t\t\t\tvalue=\"NHibernate.Dialect.PostgreSQL83Dialect\" />\n\t\t<property name=\"nhibernate.connection.connection_string\"\tvalue=\"Host=localhost;Port=5432;Database=nhibernate;Username=nhibernate;Password=nhibernate;Enlist=true\" />\n\t</target>\n\n\t<target name=\"setup-teamcity-oracle\">\n\t\t<property name=\"db-service\" value=\"OracleServiceXE\" />\n\t\t<property name=\"nhibernate.connection.driver_class\"\t\t\tvalue=\"NHibernate.Driver.OracleClientDriver\" />\n\t\t<property name=\"nhibernate.dialect\"\t\t\t\t\t\t\tvalue=\"NHibernate.Dialect.Oracle10gDialect\" />\n\t\t<property name=\"nhibernate.connection.connection_string\"\tvalue=\"User ID=nhibernate;Password=nhibernate;Data Source=XE\" />\n\t\t<property name=\"NHibernate.Test.IgnoreFail\" value=\"true\" />\n\t\t<property name=\"teamcity.last.result\" value=\"${root.dir}/lib/teamcity/oracle/NHibernate.Test.last-results.xml\" />\n\t</target>\n\n\t<target name=\"setup-teamcity-oracle32\">\n\t\t<property name=\"db-service\" value=\"OracleServiceXE\" />\n\t\t<property name=\"nhibernate.connection.driver_class\"\t\t\tvalue=\"NHibernate.Driver.OracleDataClientDriver\" />\n\t\t<property name=\"nhibernate.dialect\"\t\t\t\t\t\t\tvalue=\"NHibernate.Dialect.Oracle10gDialect\" />\n\t\t<property name=\"nhibernate.connection.connection_string\"\tvalue=\"User ID=nhibernate;Password=nhibernate;Metadata Pooling=false;Self Tuning=false;Data Source=(DESCRIPTION = (ADDRESS = (PROTOCOL = TCP)(HOST = localhost)(PORT = 1521)) (CONNECT_DATA = (SERVER = DEDICATED) (SERVICE_NAME = XE)))\" />\n\t\t<!-- Teamcity Oracle test database is configured with a non-Unicode encoding -->\n\t\t<property name=\"nhibernate.oracle.use_n_prefixed_types_for_unicode\" value=\"true\" />\n\t\t<!-- The default value of 4000 is too big for nvarchar2 with default database settings.\n\t\t     nvarchar2 may be used due to use_n_prefixed_types_for_unicode -->\n\t\t<property name=\"nhibernate.query.default_cast_length\" value=\"2000\" />\n\t\t<copy todir=\"${current-test-configuration.dir}\">\n\t\t\t<fileset basedir=\"${root.dir}/lib/teamcity/oracle/x86\">\n\t\t\t\t<include name=\"*.dll\"/>\n\t\t\t</fileset>\n\t\t</copy>\n\t\t<property name=\"NHibernate.Test.IgnoreFail\" value=\"true\" />\n\t\t<property name=\"teamcity.last.result\" value=\"${root.dir}/lib/teamcity/oracle/NHibernate.Test.last-results.xml\" />\n\t</target>\n\n\t<target name=\"setup-teamcity-oracle64\">\n\t\t<property name=\"db-service\" value=\"OracleServiceXE\" />\n\t\t<property name=\"nunit-x64\" value=\"true\" />\n\t\t<property name=\"nhibernate.connection.driver_class\"\t\t\tvalue=\"NHibernate.Driver.OracleDataClientDriver\" />\n\t\t<property name=\"nhibernate.dialect\"\t\t\t\t\t\t\tvalue=\"NHibernate.Dialect.Oracle10gDialect\" />\n\t\t<property name=\"nhibernate.connection.connection_string\"\tvalue=\"User ID=nhibernate;Password=nhibernate;Metadata Pooling=false;Self Tuning=false;Data Source=(DESCRIPTION = (ADDRESS = (PROTOCOL = TCP)(HOST = localhost)(PORT = 1521)) (CONNECT_DATA = (SERVER = DEDICATED) (SERVICE_NAME = XE)))\" />\n\t\t<!-- Teamcity Oracle test database is configured with a non-Unicode encoding -->\n\t\t<property name=\"nhibernate.oracle.use_n_prefixed_types_for_unicode\" value=\"true\" />\n\t\t<!-- The default value of 4000 is too big for nvarchar2 with default database settings.\n\t\t     nvarchar2 may be used due to use_n_prefixed_types_for_unicode -->\n\t\t<property name=\"nhibernate.query.default_cast_length\" value=\"2000\" />\n\t\t<copy todir=\"${current-test-configuration.dir}\">\n\t\t\t<fileset basedir=\"${root.dir}/lib/teamcity/oracle/x64\">\n\t\t\t\t<include name=\"*.dll\"/>\n\t\t\t</fileset>\n\t\t</copy>\n\t\t<property name=\"NHibernate.Test.IgnoreFail\" value=\"true\" />\n\t\t<property name=\"teamcity.last.result\" value=\"${root.dir}/lib/teamcity/oracle/NHibernate.Test.last-results.xml\" />\n\t</target>\n\n\t<target name=\"setup-teamcity-oracle-managed32\">\n\t\t<property name=\"db-service\" value=\"OracleServiceXE\" />\n\t\t<property name=\"nhibernate.connection.driver_class\"\t\t\tvalue=\"NHibernate.Driver.OracleManagedDataClientDriver\" />\n\t\t<property name=\"nhibernate.dialect\"\t\t\t\t\t\t\tvalue=\"NHibernate.Dialect.Oracle10gDialect\" />\n\t\t<property name=\"nhibernate.connection.connection_string\"\tvalue=\"User ID=nhibernate;Password=nhibernate;Metadata Pooling=false;Self Tuning=false;Data Source=(DESCRIPTION = (ADDRESS = (PROTOCOL = TCP)(HOST = localhost)(PORT = 1521)) (CONNECT_DATA = (SERVER = DEDICATED) (SERVICE_NAME = XE)))\" />\n\t\t<!-- Teamcity Oracle test database is configured with a non-Unicode encoding -->\n\t\t<property name=\"nhibernate.oracle.use_n_prefixed_types_for_unicode\" value=\"true\" />\n\t\t<!-- The default value of 4000 is too big for nvarchar2 with default database settings.\n\t\t     nvarchar2 may be used due to use_n_prefixed_types_for_unicode -->\n\t\t<property name=\"nhibernate.query.default_cast_length\" value=\"2000\" />\n\t</target>\n\n\t<target name=\"setup-teamcity-oracle-managed64\">\n\t\t<property name=\"db-service\" value=\"OracleServiceXE\" />\n\t\t<property name=\"nunit-x64\" value=\"true\" />\n\t\t<property name=\"nhibernate.connection.driver_class\"\t\t\tvalue=\"NHibernate.Driver.OracleManagedDataClientDriver\" />\n\t\t<property name=\"nhibernate.dialect\"\t\t\t\t\t\t\tvalue=\"NHibernate.Dialect.Oracle10gDialect\" />\n\t\t<property name=\"nhibernate.connection.connection_string\"\tvalue=\"User ID=nhibernate;Password=nhibernate;Metadata Pooling=false;Self Tuning=false;Data Source=(DESCRIPTION = (ADDRESS = (PROTOCOL = TCP)(HOST = localhost)(PORT = 1521)) (CONNECT_DATA = (SERVER = DEDICATED) (SERVICE_NAME = XE)))\" />\n\t\t<!-- Teamcity Oracle test database is configured with a non-Unicode encoding -->\n\t\t<property name=\"nhibernate.oracle.use_n_prefixed_types_for_unicode\" value=\"true\" />\n\t\t<!-- The default value of 4000 is too big for nvarchar2 with default database settings.\n\t\t     nvarchar2 may be used due to use_n_prefixed_types_for_unicode -->\n\t\t<property name=\"nhibernate.query.default_cast_length\" value=\"2000\" />\n\t</target>\n\n\t<target name=\"setup-teamcity-mysql\">\n\t\t<property name=\"db-service\" value=\"MySQL57\" />\n\t\t<property name=\"nhibernate.connection.driver_class\" value=\"NHibernate.Driver.MySqlDataDriver\" />\n\t\t<property name=\"nhibernate.dialect\"\tvalue=\"NHibernate.Dialect.MySQL5Dialect\" />\n\t\t<property name=\"nhibernate.connection.connection_string\" value=\"Data Source=localhost;Database=nhibernate;User ID=nhibernate;Password=nhibernate;Old Guids=True;\" />\n\t</target>\n\n\t<target name=\"setup-teamcity-sqlanywhere\">\n\t\t<property name=\"nhibernate.connection.driver_class\" value=\"NHibernate.Driver.SapSQLAnywhere17Driver\" />\n\t\t<property name=\"nhibernate.dialect\" value=\"NHibernate.Dialect.SapSQLAnywhere17Dialect\" />\n\t\t<property name=\"nhibernate.connection.connection_string\" value=\"UID=nhibernate;PWD=nhibernate;ServerName=nhibernate;DBN=nhibernate;DBF=sqlAnywhere.db;Enlist=false;\" />\n\t</target>\n\n\t<script language=\"C#\" prefix=\"testResult\">\n\t\t<references>\n\t\t\t<include name=\"System.dll\" />\n\t\t\t<include name=\"System.Core.dll\" />\n\t\t\t<include name=\"System.Data.dll\" />\n\t\t\t<include name=\"System.Xml.dll\" />\n\t\t</references>\n\t\t<imports>\n\t\t\t<import namespace=\"System.Collections.Generic\"/>\n\t\t\t<import namespace=\"System.Data\"/>\n\t\t\t<import namespace=\"System.Data.Common\"/>\n\t\t\t<import namespace=\"System.Data.SqlClient\"/>\n\t\t\t<import namespace=\"System.IO\"/>\n\t\t\t<import namespace=\"System.Linq\"/>\n\t\t\t<import namespace=\"System.Xml\"/>\n\t\t</imports>\n\t\t<code>\n\t\t\t<![CDATA[\n\n\t\tpublic static void StripAttributes(XmlDocument source, string xpath)\n\t\t{\n\t\t\tforeach (XmlAttribute att in source.SelectNodes(xpath))\n\t\t\t\tatt.OwnerElement.RemoveAttribute(att.Name);\n\t\t}\n\n\t\tpublic static void StripElements(XmlDocument source, string xpath)\n\t\t{\n\t\t\tforeach (XmlElement el in source.SelectNodes(xpath))\n\t\t\t\tel.ParentNode.RemoveChild(el);\n\t\t}\n\n\t\t[Function(\"StripTimings\")]\n\t\tpublic static string StripTimings(string testResultFile, string outputFile)\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\tXmlDocument testResults = new XmlDocument();\n\t\t\t\ttestResults.Load(testResultFile);\n\n\t\t\t\tStripElements(testResults, \"//stack-trace\");\n\t\t\t\tStripAttributes(testResults, \"//@cwd\");\n\t\t\t\tStripAttributes(testResults, \"//@total\");\n\t\t\t\tStripAttributes(testResults, \"//@date\");\n\t\t\t\tStripAttributes(testResults, \"//@time\");\n\t\t\t\tStripAttributes(testResults, \"//@machine-name\");\n\t\t\t\tStripAttributes(testResults, \"//@user\");\n\t\t\t\tStripAttributes(testResults, \"//@user-domain\");\n\n\t\t\t\toutputFile = Path.GetDirectoryName(testResultFile) + \"/\" + outputFile;\n\t\t\t\ttestResults.Save(outputFile);\n\t\t\t\treturn outputFile;\n\t\t\t}\n\t\t\tcatch (Exception e)\n\t\t\t{\n\t\t\t\tConsole.WriteLine(e);\n\t\t\t\tthrow;\n\t\t\t}\n\t\t}\n\n\t\tpublic enum ResultStatus\n\t\t{\n\t\t\tNone,\n\t\t\tFailure,\n\t\t\tIgnored,\n\t\t\tInconclusive,\n\t\t\tSuccess\n\t\t}\n\n\t\tpublic class Result\n\t\t{\n\t\t\tpublic string Name;\n\t\t\tpublic ResultStatus Status;\n\t\t\tpublic bool Executed;\n\t\t\tpublic bool Success;\n\n\t\t\tpublic bool Inconclusive\n\t\t\t{\n\t\t\t\tget\n\t\t\t\t{\n\t\t\t\t\treturn Executed && !Success && (Status == ResultStatus.Success || Status == ResultStatus.Inconclusive);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tprivate static Result Parse(XmlNode testCase)\n\t\t\t{\n\t\t\t\tvar result = new Result\n\t\t\t\t{\n\t\t\t\t\tName = testCase.Attributes[\"name\"].Value,\n\t\t\t\t\tExecuted = bool.Parse(testCase.Attributes[\"executed\"].Value)\n\t\t\t\t};\n\n\t\t\t\tResultStatus status;\n\t\t\t\tEnum.TryParse<ResultStatus>(testCase.Attributes[\"result\"].Value, out status);\n\t\t\t\tresult.Status = status;\n\n\t\t\t\tif (result.Executed)\n\t\t\t\t\tresult.Success = bool.Parse(testCase.Attributes[\"success\"].Value);\n\n\t\t\t\treturn result;\n\t\t\t}\n\n\t\t\tpublic override string ToString()\n\t\t\t{\n\t\t\t\tvar prefix = \"IGNORED - \";\n\t\t\t\tif (Executed)\n\t\t\t\t\tprefix = Success ? \"PASS    - \" :\n\t\t\t\t\t\tInconclusive ? \"INCONCL - \" : \"FAIL    - \";\n\t\t\t\treturn prefix + Name;\n\t\t\t}\n\n\t\t\tpublic static IList<Result> ParseFile(string file)\n\t\t\t{\n\t\t\t\tvar run1 = new XmlDocument();\n\t\t\t\trun1.Load(file);\n\n\t\t\t\tvar results = new List<Result>();\n\t\t\t\tforeach (XmlNode testCase in run1.SelectNodes(\"//test-case\"))\n\t\t\t\t{\n\t\t\t\t\tvar result = Parse(testCase);\n\t\t\t\t\tresults.Add(result);\n\t\t\t\t}\n\t\t\t\treturn results;\n\t\t\t}\n\t\t}\n\n\t\t[Function(\"CompareResults\")]\n\t\tpublic static string CompareResults(string currentResult, string lastResult)\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\tvar outputFile = Path.Combine(Path.GetDirectoryName(currentResult), \"Comparison.txt\");\n\t\t\t\tvar report = new StringBuilder();\n\n\t\t\t\treport.AppendLine(\"Comparison Results\");\n\t\t\t\treport.AppendLine(\"==================\");\n\n\t\t\t\tvar before = Result.ParseFile(lastResult);\n\t\t\t\tvar beforeByName = before\n\t\t\t\t\t// Some multi-value tests may be duplicated\n\t\t\t\t\t.GroupBy(b => b.Name)\n\t\t\t\t\t.ToDictionary(\n\t\t\t\t\t\tg => g.Key,\n\t\t\t\t\t\t// Take one, preferably not failing first, thus ensuring an after failing test\n\t\t\t\t\t\t// will be match as broken in case one of the dup was not failing.\n\t\t\t\t\t\tg => g\n\t\t\t\t\t\t\t// Succeeded\n\t\t\t\t\t\t\t.OrderByDescending(r => r.Success)\n\t\t\t\t\t\t\t// Else ignored\n\t\t\t\t\t\t\t.ThenBy(r => r.Executed)\n\t\t\t\t\t\t\t// Else inconclusive\n\t\t\t\t\t\t\t.ThenBy(r => r.Inconclusive ? 0 : 1)\n\t\t\t\t\t\t\t.First());\n\t\t\t\tvar after = Result.ParseFile(currentResult);\n\n\t\t\t\tvar newFailingTests = new List<Result>();\n\t\t\t\tvar newInconclusiveTests = new List<Result>();\n\t\t\t\tvar newNotFailingTests = new List<Result>();\n\t\t\t\tvar fixedTests = new List<Result>();\n\t\t\t\tvar ignoredTests = new List<Result>();\n\t\t\t\tvar brokenTests = new List<Result>();\n\t\t\t\tvar inconclusiveTests = new List<Result>();\n\t\t\t\tvar afterTestNames = new HashSet<string>();\n\t\t\t\tforeach (var afterResult in after)\n\t\t\t\t{\n\t\t\t\t\tafterTestNames.Add(afterResult.Name);\n\t\t\t\t\tResult beforeResult;\n\t\t\t\t\tif (beforeByName.TryGetValue(afterResult.Name, out beforeResult))\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!beforeResult.Success && afterResult.Success)\n\t\t\t\t\t\t\tfixedTests.Add(afterResult);\n\t\t\t\t\t\tif (beforeResult.Executed && !afterResult.Executed)\n\t\t\t\t\t\t\tignoredTests.Add(afterResult);\n\t\t\t\t\t\tif (beforeResult.Success && afterResult.Executed && !afterResult.Success)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (afterResult.Inconclusive)\n\t\t\t\t\t\t\t\tinconclusiveTests.Add(afterResult);\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tbrokenTests.Add(afterResult);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (beforeResult.Inconclusive && afterResult.Executed && !afterResult.Success && !afterResult.Inconclusive)\n\t\t\t\t\t\t\tbrokenTests.Add(afterResult);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tif (afterResult.Executed && !afterResult.Success)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (afterResult.Inconclusive)\n\t\t\t\t\t\t\t\tnewInconclusiveTests.Add(afterResult);\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tnewFailingTests.Add(afterResult);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tnewNotFailingTests.Add(afterResult);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar missingTests = new List<Result>();\n\t\t\t\tforeach (var result in before)\n\t\t\t\t\tif (!afterTestNames.Contains(result.Name))\n\t\t\t\t\t\tmissingTests.Add(result);\n\n\t\t\t\tReportResultGroup(report, brokenTests, \"Tests broken since last recorded results\");\n\t\t\t\tReportResultGroup(report, newFailingTests, \"Tests new (failed) since last recorded results\");\n\t\t\t\tReportResultGroup(report, inconclusiveTests, \"Tests inconclusive since last recorded results\");\n\t\t\t\tReportResultGroup(report, newInconclusiveTests, \"Tests new (inconclusive) since last recorded results\");\n\t\t\t\tReportResultGroup(report, fixedTests, \"Tests fixed since last recorded results\");\n\t\t\t\tReportResultGroup(report, ignoredTests, \"Tests ignored since last recorded results\");\n\t\t\t\tReportResultGroup(report, newNotFailingTests, \"Tests new (not failing) since last recorded results\");\n\t\t\t\tReportResultGroup(report, missingTests, \"Tests missing since last recorded results\");\n\n\t\t\t\tvar output = report.ToString();\n\t\t\t\tFile.WriteAllText(outputFile, output);\n\n\t\t\t\tif (brokenTests.Count > 0)\n\t\t\t\t\tthrow new Exception(\"Previously passing tests have been broken\\n\\n\" + output);\n\n\t\t\t\tif (newFailingTests.Count > 0)\n\t\t\t\t\tthrow new Exception(\"New tests that fail have been added\\n\\n\" + output);\n\n\t\t\t\treturn output;\n\t\t\t}\n\t\t\tcatch (Exception e)\n\t\t\t{\n\t\t\t\tConsole.WriteLine(e);\n\t\t\t\tthrow;\n\t\t\t}\n\t\t}\n\n\t\tpublic static void ReportResultGroup(StringBuilder report, IList<Result> resultGroup, string groupTitle)\n\t\t{\n\t\t\treport.AppendLine();\n\t\t\treport.Append(\"*** \").Append(groupTitle).AppendLine(\" ***\");\n\t\t\tif (resultGroup.Count > 0)\n\t\t\t{\n\t\t\t\tforeach (var result in resultGroup)\n\t\t\t\t\treport.AppendLine(result.ToString());\n\t\t\t}\n\t\t\telse\n\t\t\t\treport.AppendLine(\"None\");\n\t\t}\n\n\t\t\t]]>\n\t\t</code>\n\t</script>\n\n</project>\n"
        }
      ]
    }
  ]
}