{
  "metadata": {
    "timestamp": 1736710857413,
    "page": 398,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjQwMA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "YarnSpinnerTool/YarnSpinner",
      "stars": 2392,
      "defaultBranch": "main",
      "files": [
        {
          "name": ".editorconfig",
          "type": "blob",
          "size": 8.19921875,
          "content": "# Remove the line below if you want to inherit .editorconfig settings from higher directories\nroot = true\n\n# C# files\n[*.cs]\n\n#### Core EditorConfig Options ####\n\n# Indentation and spacing\nindent_size = 4\nindent_style = space\ntab_width = 4\n\n# New line preferences\nend_of_line = lf\ninsert_final_newline = true\n\n#### .NET Coding Conventions ####\n\n# Organize usings\ndotnet_separate_import_directive_groups = false\ndotnet_sort_system_directives_first = false\n\n# this. and Me. preferences\ndotnet_style_qualification_for_event = true:none\ndotnet_style_qualification_for_field = true:none\ndotnet_style_qualification_for_method = true:none\ndotnet_style_qualification_for_property = true:none\n\n# Language keywords vs BCL types preferences\ndotnet_style_predefined_type_for_locals_parameters_members = true:silent\ndotnet_style_predefined_type_for_member_access = true:silent\n\n# Parentheses preferences\ndotnet_style_parentheses_in_arithmetic_binary_operators = always_for_clarity:silent\ndotnet_style_parentheses_in_other_binary_operators = always_for_clarity:silent\ndotnet_style_parentheses_in_other_operators = never_if_unnecessary:silent\ndotnet_style_parentheses_in_relational_binary_operators = always_for_clarity:silent\n\n# Modifier preferences\ndotnet_style_require_accessibility_modifiers = for_non_interface_members:silent\n\n# Expression-level preferences\ndotnet_style_coalesce_expression = true:suggestion\ndotnet_style_collection_initializer = true:suggestion\ndotnet_style_explicit_tuple_names = true:suggestion\ndotnet_style_null_propagation = true:suggestion\ndotnet_style_object_initializer = true:suggestion\ndotnet_style_prefer_auto_properties = true:silent\ndotnet_style_prefer_compound_assignment = true:suggestion\ndotnet_style_prefer_conditional_expression_over_assignment = true:silent\ndotnet_style_prefer_conditional_expression_over_return = true:silent\ndotnet_style_prefer_inferred_anonymous_type_member_names = true:suggestion\ndotnet_style_prefer_inferred_tuple_names = true:suggestion\ndotnet_style_prefer_is_null_check_over_reference_equality_method = true:suggestion\ndotnet_style_prefer_simplified_interpolation = true:suggestion\n\n# Field preferences\ndotnet_style_readonly_field = true:suggestion\n\n# Parameter preferences\ndotnet_code_quality_unused_parameters = all:suggestion\n\n#### C# Coding Conventions ####\n\n# var preferences\ncsharp_style_var_elsewhere = false:silent\ncsharp_style_var_for_built_in_types = false:silent\ncsharp_style_var_when_type_is_apparent = false:silent\n\n# Expression-bodied members\ncsharp_style_expression_bodied_accessors = true:silent\ncsharp_style_expression_bodied_constructors = false:silent\ncsharp_style_expression_bodied_indexers = true:silent\ncsharp_style_expression_bodied_lambdas = true:silent\ncsharp_style_expression_bodied_local_functions = false:silent\ncsharp_style_expression_bodied_methods = false:silent\ncsharp_style_expression_bodied_operators = false:silent\ncsharp_style_expression_bodied_properties = true:silent\n\n# Pattern matching preferences\ncsharp_style_pattern_matching_over_as_with_null_check = true:suggestion\ncsharp_style_pattern_matching_over_is_with_cast_check = true:suggestion\ncsharp_style_prefer_switch_expression = true:suggestion\n\n# Null-checking preferences\ncsharp_style_conditional_delegate_call = true:suggestion\n\n# Modifier preferences\ncsharp_prefer_static_local_function = true:suggestion\ncsharp_preferred_modifier_order = public,private,protected,internal,static,extern,new,virtual,abstract,sealed,override,readonly,unsafe,volatile,async:silent\n\n# Code-block preferences\ncsharp_prefer_braces = true:silent\ncsharp_prefer_simple_using_statement = true:suggestion\n\n# Expression-level preferences\ncsharp_prefer_simple_default_expression = true:suggestion\ncsharp_style_deconstructed_variable_declaration = true:suggestion\ncsharp_style_inlined_variable_declaration = true:suggestion\ncsharp_style_pattern_local_over_anonymous_function = true:suggestion\ncsharp_style_prefer_index_operator = true:suggestion\ncsharp_style_prefer_range_operator = true:suggestion\ncsharp_style_throw_expression = true:suggestion\ncsharp_style_unused_value_assignment_preference = discard_variable:suggestion\ncsharp_style_unused_value_expression_statement_preference = discard_variable:silent\n\n# 'using' directive preferences\ncsharp_using_directive_placement = outside_namespace:silent\n\n#### C# Formatting Rules ####\n\n# New line preferences\ncsharp_new_line_before_catch = true\ncsharp_new_line_before_else = true\ncsharp_new_line_before_finally = true\ncsharp_new_line_before_members_in_anonymous_types = true\ncsharp_new_line_before_members_in_object_initializers = true\ncsharp_new_line_before_open_brace = all\ncsharp_new_line_between_query_expression_clauses = true\n\n# Indentation preferences\ncsharp_indent_block_contents = true\ncsharp_indent_braces = false\ncsharp_indent_case_contents = true\ncsharp_indent_case_contents_when_block = true\ncsharp_indent_labels = one_less_than_current\ncsharp_indent_switch_labels = true\n\n# Space preferences\ncsharp_space_after_cast = false\ncsharp_space_after_colon_in_inheritance_clause = true\ncsharp_space_after_comma = true\ncsharp_space_after_dot = false\ncsharp_space_after_keywords_in_control_flow_statements = true\ncsharp_space_after_semicolon_in_for_statement = true\ncsharp_space_around_binary_operators = before_and_after\ncsharp_space_around_declaration_statements = false\ncsharp_space_before_colon_in_inheritance_clause = true\ncsharp_space_before_comma = false\ncsharp_space_before_dot = false\ncsharp_space_before_open_square_brackets = false\ncsharp_space_before_semicolon_in_for_statement = false\ncsharp_space_between_empty_square_brackets = false\ncsharp_space_between_method_call_empty_parameter_list_parentheses = false\ncsharp_space_between_method_call_name_and_opening_parenthesis = false\ncsharp_space_between_method_call_parameter_list_parentheses = false\ncsharp_space_between_method_declaration_empty_parameter_list_parentheses = false\ncsharp_space_between_method_declaration_name_and_open_parenthesis = false\ncsharp_space_between_method_declaration_parameter_list_parentheses = false\ncsharp_space_between_parentheses = false\ncsharp_space_between_square_brackets = false\n\n# Wrapping preferences\ncsharp_preserve_single_line_blocks = true\ncsharp_preserve_single_line_statements = true\n\n#### Naming styles ####\n\n# Naming rules\n\ndotnet_naming_rule.interface_should_be_begins_with_i.severity = suggestion\ndotnet_naming_rule.interface_should_be_begins_with_i.symbols = interface\ndotnet_naming_rule.interface_should_be_begins_with_i.style = begins_with_i\n\ndotnet_naming_rule.types_should_be_pascal_case.severity = suggestion\ndotnet_naming_rule.types_should_be_pascal_case.symbols = types\ndotnet_naming_rule.types_should_be_pascal_case.style = pascal_case\n\ndotnet_naming_rule.non_field_members_should_be_pascal_case.severity = suggestion\ndotnet_naming_rule.non_field_members_should_be_pascal_case.symbols = non_field_members\ndotnet_naming_rule.non_field_members_should_be_pascal_case.style = pascal_case\n\n# Symbol specifications\n\ndotnet_naming_symbols.interface.applicable_kinds = interface\ndotnet_naming_symbols.interface.applicable_accessibilities = public, internal, private, protected, protected_internal, private_protected\ndotnet_naming_symbols.interface.required_modifiers =\n\ndotnet_naming_symbols.types.applicable_kinds = class, struct, interface, enum\ndotnet_naming_symbols.types.applicable_accessibilities = public, internal, private, protected, protected_internal, private_protected\ndotnet_naming_symbols.types.required_modifiers =\n\ndotnet_naming_symbols.non_field_members.applicable_kinds = property, event, method\ndotnet_naming_symbols.non_field_members.applicable_accessibilities = public, internal, private, protected, protected_internal, private_protected\ndotnet_naming_symbols.non_field_members.required_modifiers =\n\n# Naming styles\n\ndotnet_naming_style.pascal_case.required_prefix =\ndotnet_naming_style.pascal_case.required_suffix =\ndotnet_naming_style.pascal_case.word_separator =\ndotnet_naming_style.pascal_case.capitalization = pascal_case\n\ndotnet_naming_style.begins_with_i.required_prefix = I\ndotnet_naming_style.begins_with_i.required_suffix =\ndotnet_naming_style.begins_with_i.word_separator =\ndotnet_naming_style.begins_with_i.capitalization = pascal_case\n\n#### Diagnostics ####\n\ndotnet_diagnostic.CA1805.severity = none\ndotnet_diagnostic.CA1819.severity = none\ndotnet_diagnostic.CA1002.severity = none\n"
        },
        {
          "name": ".github",
          "type": "tree",
          "content": null
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 1.4404296875,
          "content": "\n# Created by https://www.gitignore.io/api/unity,visualstudiocode,macos,windows\n# Edit at https://www.gitignore.io/?templates=unity,visualstudiocode,macos,windows\n\n### macOS ###\n# General\n.DS_Store\n.AppleDouble\n.LSOverride\n\n# Icon must end with two \\r\nIcon\n\n# Thumbnails\n._*\n\n# Files that might appear in the root of a volume\n.DocumentRevisions-V100\n.fseventsd\n.Spotlight-V100\n.TemporaryItems\n.Trashes\n.VolumeIcon.icns\n.com.apple.timemachine.donotpresent\n\n# Directories potentially created on remote AFP share\n.AppleDB\n.AppleDesktop\nNetwork Trash Folder\nTemporary Items\n.apdisk\n\n### VisualStudioCode ###\n.vscode/*\n!.vscode/settings.json\n!.vscode/tasks.json\n!.vscode/launch.json\n!.vscode/extensions.json\n\n### VisualStudioCode Patch ###\n# Ignore all local history of files\n.history\n\n### Windows ###\n# Windows thumbnail cache files\nThumbs.db\nThumbs.db:encryptable\nehthumbs.db\nehthumbs_vista.db\n\n# Dump file\n*.stackdump\n\n# Folder config file\n[Dd]esktop.ini\n\n# Recycle Bin used on file shares\n$RECYCLE.BIN/\n\n# Windows Installer files\n*.cab\n*.msi\n*.msix\n*.msm\n*.msp\n\n# Windows shortcuts\n*.lnk\n\n# End of https://www.gitignore.io/api/unity,visualstudiocode,macos,windows\n\n*/bin/*\n*/obj/*\n\nUnity/Assets/YarnSpinner/Scripts/DLLs/*.dll*\nUnity/Assets/YarnSpinner/Scripts/DLLs/*.pdb*\n\n.antlr\n\nUnity/Logs\n\nexport.log\n\nnuget/\n\n# Auto-generated API documentation metadata\n/_api/\n\n# Test coverage data\nYarnSpinner.Tests/coverage/\n\n# Folders marked as containing non-public data\n*DoNotCommit/\n"
        },
        {
          "name": ".travis.yml",
          "type": "blob",
          "size": 2.4560546875,
          "content": "dist: trusty\nsudo: required\nbranches:\n  except:\n  - gh-pages\nlanguage: csharp\ndist: trusty\nmono: none\ndotnet: 2.1.505\nscript:\n  - dotnet restore\n  - dotnet build\n  - dotnet test\nsolution: YarnSpinner.sln\nenv: \n  global:\n    - DOTNET_SKIP_FIRST_TIME_EXPERIENCE: true\n    # skip the dotnet-cli initialization, which is expensive and unneeded\n    # for build agents.    \n# env:\n#   global:\n#   - DOXYFILES_ROOT: \"$TRAVIS_BUILD_DIR/Documentation\"\n#   - GH_REPO_NAME: YarnSpinner\n#   - GH_REPO_USER: TheSecretLab\n#   - WANTED_DOCS: '\"html latex rtf xml\"'\n#   - VERBOSE: false\n#   - secure: SW26GHKfixdYsbZ1yCHe5qI2OekA7Y+FbUBf9oSY/JOB/wfVw7mCH0sJ2Y5gYte3NywnCeNkRRvuW3JkCk1g0i3rjyvB5FP3CwHmEdIzgs9UIprNuaIXUF8/sKL3UZyElIWRTe/na2bLRYJ2C09pXzS0armUULn3FohSxegQwPFpisDzWPC+CAfaNwTHUnFAZ66fPwbqLIRScMvgK0ie8nni3VI6kokkb4SE3QL5EewguoZq9WCeWv+x0u1l3v8rUVmL0OjBZLloILjKwi8liRoqO9GHd8BQYaRbRwWkoLW4RJ4Hq0MephkYUzX/FOzTZpRM8dugM23yXkw8iYiqYZQDuCTBh9Zn11h8SDA3SGAK2dS4alM9haHVr6b5Y74xaa/n7G+8QWevUz0MQ83LkYeLvLWod9yzxGkMgg5ggtdOTQlFPebn5KeO88aDPu08US0hJiYxiXIbo/DY25aArQ5/wvhExNd4rWesbd6NWUi5M7hWH3WiNiiE7+ktvzktqikao0w6zdZyNlFCx61Q2uUTybpjJ5DlTF9On53RBuEiF9Yqo8eEm4m1mtIATc6io9ez78ub+ak/atsI//h55RdVaKnIPxDq5H/za9UhV+j0uRSGfXCVEL0Zf57X0KNYSlESByvZEUmWrJOQqalZFzXuOhtCr7te9/8JXThUU94=\n# addons:\n#   apt:\n#     packages:\n#     - global\n#     - libjs-jquery\n#     # - graphviz\n#     # - doxygen\n#     # - doxygen-doc\n#     # - doxygen-latex\n#     # - doxygen-gui\n#     # - default-jre\n# script:\n# - \"./antlr.sh\"\n# - \"./build.sh -bcuv\"\n# deploy:\n#   provider: releases\n#   api_key:\n#     secure: ppMWm5zS3NfplInwq+JdBBLFgTPVvpLrTeqcTdpHRBLtoiKHtfiPDVhvRKshu5qdbp+h1L0ZWTxfXdmOzYxdrXlLQkUAMFIlj7kY+hfzBcSnfA707dJapx6Q9LeJCy50JuDXEx+hPCjNAREz6+YP1Cb5FVwFoC3pu0FQ0Qg+86uUy4D3jZDMmjHIg0qN+sdwOf1xTmLJ37nuoDSpsUWx4MDMh/RP/7Uwz9lxYBw1XcWlddZzHesLj0HUuRmRSrk/4KNEQsYavH2U+vgPnRuWVITuB/Y2LqLE+pleNCt5NiqVvSHZgRTSYu4Jik7ivaNa+JuVjeAokJubRv1wUba3wlU25fUfzeBvm1bxGbF+7HofZSaaUvK28JP1e/LYR8EfwPy4L+yfasEGh5McTKjsdKKK+c8wrvR1EaPwNe7bPy0YOeHfxf2/aTR8PoEqPQdzLo2VIIMdqEvChiE7Z6X2WgPBxbGoBp5NOL3uRhE/9aAyMSIt/sYZvtSmbtxfK5qCEMP0j2cNRs0d91DaL9nsnEFYu9jrddwX68HgtWmt77MdGAYMz5vyQPQtJuKKATST3HkKDvWyoWcNgnF4xL0U0bOZZcBGilZDuvEAqSSyw7oCXTnbh0B+pCpo6NOaV4ks62klmAbaC3IPAOvajlgViB6sHsknixys/Z1VkQjI5YY=\n# #  file: \"$TRAVIS_BUILD_DIR/YarnSpinner/bin/Release/YarnSpinner.dll\"\n#   skip_cleanup: true\n#   on:\n#       tags: true\n# after_success:\n# - cd $TRAVIS_BUILD_DIR\n# - chmod +x DeployDocumentation.sh\n# - \"./build.sh -cdv\"\n# - \"./DeployDocumentation.sh\"\n"
        },
        {
          "name": ".vscode",
          "type": "tree",
          "content": null
        },
        {
          "name": "CHANGELOG.md",
          "type": "blob",
          "size": 63.740234375,
          "content": "# Changelog\n\nAll notable changes to this project will be documented in this file.\n\nThe format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/).\n\n## [Unreleased]\n\n### Added\n\n- The compiler will now warn if additional text is present on the same line before or after commands and other statements.\n  - For example, the following code will emit a warning, because the last `>` character is likely a typo: `<<wait 5>>>`\n- Added a new method, `Dialogue.GetHeaders`, which returns the collection of headers present on a node.\n- Added a new method, `Dialogue.GetHeaderValue`, which returns the value of the specified header on a node.\n\n### Changed\n\n- Commands are now better at checking to see if the first word is a keyword (e.g. `return`) or a word that just _begins_ with a keyword (`returnToMenu`).\n- Fixed an error where the compiler would crash if an error expression resulted in the implicit declaration of a variable (for example, `<<set $x = >>`).\n\n### Removed\n\n- Removed `GetTagsForNode`. This method is replaced with `GetHeaderValue(nodeName, \"tags\")`.\n\n## [3.0.0-beta1] 2024-11-29\n\n### Added\n\n#### Enums\n\nEnums have been added to the Yarn language.\n\nEnums are a type of variable that are allowed to be one of a specific set of named values. For example:\n\n```\n// Create a new enum called Food.\n<<enum Food>>\n  <<case Apple>>\n  <<case Orange>>\n  <<case Pear>>\n<<endenum>>\n\n// Declare a new variable with the default value Food.Apple\n<<declare $favouriteFood = Food.Apple>>\n\n// You can set $favouriteFood to the 'apple', 'orange' or 'pear'\n// cases, but nothing else!\n<<set $favouriteFood to Food.Orange>>\n\n// You can use enums in if statements, like any other type of value:\n<<if $favouriteFood == Food.Apple>>\n  I love apples!\n<<endif>>\n\n// You can even skip the name of the enum if Yarn Spinner can \n// figure it out from context!\n<<set $favouriteFood = .Orange>>\n```\n\nThe only valid operators that can be used with enums are `==` (equal to) and `!=` (not equal to).\n\nEnums only support being compared to other values of the same type. \n\n> For example, if you created a new enum called `Food`, and another enum called `Drink`, you can't compare `Food.Apple` to `Drink.Soda`, because they're different enums.\n\n#### Enum Cases\n\nYou declare an enum using the `enum`...`endenum` statement. This can be anywhere in your code. \n\nInside your `enum` statement, you put one or more `case` statements, which define one of the values that that enum can be. Each case statement must be unique inside the enum, but you can reuse the same case across different enums.\n\n#### Raw Values\n\nWhen you add an enum case, you can specify its 'raw value'. This is useful for when you want to use an enum to represent a specific set of numbers or strings. Raw values can be either strings, or numbers. \n\nEach raw value must be unique inside the enum, but you can reuse the same raw value across different enums. If you specify the raw value of any of an enum's cases, they all must have a raw value. All raw values in an enum must be the same type.\n\nIf you don't specify any raw values for an enum, then Yarn Spinner will choose numbers for you as the raw values.\n\n#### Enums and Functions\n\nFunctions can receive enums as parameters, as long as the enum's raw value type matches the parameter type. For example, if you have a function `print` that takes a string as a parameter, you can pass any enum to it that uses strings for its raw values; if you have a function `multiplyByTwo` that takes a number as a parameter, you can pass any enum to it that uses numbers for its raw values.\n\n#### Smart Variables\n\nSmart variables have been added to the Yarn language.\n\nA smart variable is one that determines its value at run-time, rather than setting and retrieving a value from storage.\n\nSmart variables give you a simple way to create more complex expressions, and re-use them across your project.\n\nTo create a smart variable, declare it using the `declare` statement and provide an expression, rather than a single value:\n\n```\n// $player_can_afford_pie is a boolean value that is 'true' \n// when the player has more than 10 money\n<<declare $player_can_afford_pie = $player_money > 10>>\n```\n\nSmart variables can be accessed anywhere a regular variable would be used:\n\n```\n// Run some lines if the player can afford a pie\n<<if $player_can_afford_pie>>\n  Player: One pie, please.\n  PieMaker: Certainly!\n<<endif>>\n```\n\n#### 'Once' statements\n\n'Once' statements have been added to the language.\n\nA 'once' statement ensures that some content in your dialogue is seen by the player one time only. Uses for this include ensuring that lines where a character introduces themselves don't run multiple times, or barks that should never be run more than a single time (the '[arrow in the knee](https://en.wikipedia.org/wiki/Arrow_in_the_knee)' problem.)\n\nThe `once` keyword can be used in two different ways:\n\n##### `once`..`endonce` Statements\n\nA `once`..`endonce` statement allows you to wrap one or more lines (or other kinds of Yarn content) into a block that will only ever run once.\n\n```\n<<once>>\n  // The guard will introduce herself to the player only once. \n  Guard: Hail, traveller! Well met.\n  Guard: I am Alys, the guard!\n<<endonce>>\n```\n\n`once`..`endonce` statements can be combined with an `if` expression. If the expression evaluates to `false`, the contents of the `once`..`endonce` block will not be run. (The block may run in the future if it's reached again and the expression evaluates to `true`.)\n\n```\n<<once if $player_is_adventurer>>\n  // The guard knows the player is an adventurer, so say this line, \n  // but only ever once!\n  Guard: I used to be an adventurer like you, but then I took an arrow in the knee.\n<<endonce>>\n```\n\nThe `once`..`endonce` statement can also take an `else` block. This block runs if the first part of the `once` statement didn't run.\n\n```\n<<once>>\n  Guard: Hail, traveller! Well met.\n<<else>>\n  Guard: Welcome back.\n<<endonce>>\n```\n\n##### `once` in line conditions\n\nIn Yarn Spinner, you can add conditions to the ends of lines, options and line group items to control when they can be presented to the player.\n\nYou can use the `once` keyword at the end of a line to make that line only run once. You can also combine this with an `if` expression to make it only run once, and only when the condition passes. If a line with a `once` or `once if` condition has been run before, Yarn Spinner will skip over that line.\n\n```\nGuard: Greetings, traveller. <<once>>\nGuard: Met some bandits on the road, I see. <<once if $defeated_bandits>>\nGuard: Be safe out there.\n```\n\nYou can use the `once` keyword at the end of an option to make it so that line is only available for selection one time. As with lines, you can also combine this with an `if` expression. An option that has a `once` condition may be shown to the user multiple times as part of a collection of options, but after they select that option, it can't be selected again.\n\n```\n-> Where is the castle? <<once>>\n-> I must see the king. Where is he? <<once if $needs_to_see_king>>\n-> Farewell, friend. <<if $friends_with_guard>>\n-> I should go. \n```\n\n> [!NOTE]\n> Conditions on options control whether the option is _available to be selected_. Depending on how you've configured your game, this may mean that the option is not shown at all to the player, or that the option is visible but not selectable, or something else user-defined.\n\nFinally, you can use the `once` keyword at the end of a line group item to make it so that it will only ever be run once. As with lines and options, you can combine it with an `if` expression to further control when it may appear.\n\n```\n// Scenario: The guard is pursuing the player.\n// We'll create some simple, short lines that can run many times without \n// standing out, and some specific lines that we should only ever hear once, \n// because hearing them multiple times would make them stand out.\n\n=> Guard: Halt!\n=> Guard: Stop them!\n=> Guard: You there! Halt, in the name of the king! <<once>>\n=> Guard: Halt, thief! Someone stop them! <<once if $player_stole_treasure>>\n```\n\n#### Node groups and 'when' headers\n\nMuch like how line groups let you create groups of lines that the system chooses from based on the current game state, node groups let you create groups of _nodes_ that the system chooses from.\n\nYou create a node group by creating one or more nodes that all have the same name, _and_ have a `when:` header.\n\nThe `when:` header tells Yarn Spinner under what circumstances a particular node can run. For example:\n\n```\ntitle: SpeakToGuard\nwhen: $guard_friendly == true\n---\n// The guard likes us\nGuard: Halt, traveller!\nPlayer: Why, hello there!\nGuard: Ah, my friend! You may pass.\n===\n\ntitle: SpeakToGuard\nwhen: $guard_friendly == false\n---\n// The guard doesn't like us\nGuard: Halt, scum!\nGuard: None shall pass this point!\n===\n```\n\nTo run this node group, you run the `SpeakToGuard` node. You can do this from within your Yarn scripts, by calling `<<jump SpeakToGuard>>`, or you can do it from within your game (telling your Dialogue Runner to run the node `SpeakToGuard`). Yarn Spinner will then select the most appropriate node to run, using the saliency strategy that you have configured for your game.\n\nYou can have as many `when:` headers in a node as you like. If you have more than one, _all_ of their conditions must pass in order for the node to potentially run.\n\nAll nodes in a node group must have a `when:` header. It's a compiler error if any of them don't have one.\n\nYou can use any of the following kinds of expressions in a `when:` header:\n\n- `when: <boolean expression>` - any expression that evaluates to the values `true` or `false`.\n- `when: once` - The node will run precisely one time.\n- `when: once if <boolean expression>` - The node will run precisely one time, and only when the expression evaluates to `true`.\n- `when: always` - The node may always run.\n\n#### Other Changes\n\n- Standard library functions (e.g. `random`, `round_places`, `dice`) have been moved to the core Yarn Spinner library.\n- Added a `format` function to the standard library, this works identical to the C# `string.Format`.\n- Added `BuiltInMarkupReplacer` new `IAttributeMarkerProcessor` for the built in replacement markers\n- `LineParser` now has `ExpandSubstitutions` method to expand substitutions\n- `LineParser` now has `ParseMarkup` method to parse markup in a line\n- `LineParser` now can return diagnostics around markup\n  - `MarkupDiagnostic` struct encapsulates the diagnostics.\n  - `ParseMarkup` has a variant which returns the `MarkupParseResult` and diagnostics, or just the marked up line. \n\n\n### Changed\n\n- The Antlr4.Runtime dependency has been upgraded from 4.7.2 to 4.13.1.\n- The internal format for storing compiled programs has been updated. Existing Yarn scripts will need to be recompiled in order to work in Yarn Spinner 3.0.\n  - Internal jumps inside a node now jump to specific instruction indices, rather than named locations that had to be stored in the file. This change makes compiled Yarn programs smaller.\n- The TestPlan system has been improved. (TestPlan is an internal development tool used for unit-testing Yarn Spinner, and is not designed for end-user use.)\n    - The TestPlan parser is replaced with an Antlr4-generated parser\n    - The TestPlan grammar has been made slightly more consistent:\n        - Line, option and command text must now be wrapped in backticks (`)\n        - The 'set' and 'stop' commands now no longer take a colon (:)\n    - Multiple runs are now supported\n    - TestPlan continuation is now no longer driven by the line/option callback system, which makes it easier to reason about.\n- Fixed a crash in the compiler that could occur if a node's `title:` header did not have a value.\n- Node `visited` and `visited_count` tracking is now handled in the virtual machine when a node is returned from, rather than as a result of compiler-generated code.\n- Empty nodes will no longer be included in the compiled output\n  - a warning diagnostic will be generated for each empty node\n- Fixed a bug where set-referencing inferred value set statements would crash the compiler\n- The language server no longer truncates XML documentation comments when it reaches a nested XML node. \n- The constructor for `Yarn.Line` is now public. Previously, it was internal.\n- `CompilationResult` now includes a property `UserDefinedTypes`, which contains the types that the user has defined in their script (for example, enums).\n- Fixed an issue where the `dice(n)` function would return a value between 0 and n-1, rather than 1 and n.\n- .yarnproject files may now specify absolute paths to specific .yarn files.\n- `IAttributeMarkerProcessor` replacement method changed from `ReplacementTextForMarker(marker, localeCode)` to `ProcessReplacementMarker(marker,childBuilder,childAttributes,localeCode)`\n- Reworked `LineParser` markup handling to better handle reordering and rewriting markers at runtime\n  - `nomarkup` attributes are no longer included in the final parsed line.\n  - `trimwhitespace` property is now included in the final parsed line.\n- `title` header values now follow the same parser rules as other identifiers.\n\n### Removed\n\n- `Dialogue` no longer has line parser responsibilities:\n  - removed the `ParseMarkup` method.\n  - removed the `ExpandSubstitutions` method.\n  - removed `IAttributeMarkerProcessor` conformance.\n  - see `LineParser` for replacements.\n- `NoMarkupParser` removed due to this functionality now being inside `LineParser`\n\n## [2.5.0] 2024-12-13\n\n### Changed\n\n- `random_range(min, max)` now returns a random integer between `min` and `max`, inclusive. (Previously, it returned a float.)\n- Added a new function, `random_range_float` now returns a random float between `min` and `max`, inclusive. (This is the previous behaviour of `random_range`.)\n\n## [2.4.2] 2024-02-24\n\n### Added\n\n- Standard library functions (e.g. `random`, `round_places`, `dice`) have been moved from Yarn Spinner for Unity to the core Yarn Spinner library.\n- Added a `format` function to the standard library.\n  - This method works identically to the C# `string.Format`, but currently only accepts one parameter.\n  - `format(\"{0}\", 123)` will return the string \"123\".\n  - `format(\"${0:F2}\", 0.451)` will return the string \"$0.45\".\n  - For more information on string formatting, see the [.NET documentation on numeric formatting strings](https://learn.microsoft.com/en-us/dotnet/standard/base-types/standard-numeric-format-strings#standard-format-specifiers).\n\n### Changed\n\n- Updated the schema for .ysls.json files:\n  - Commands may no longer specify a return type.\n  - Functions _must_ now specify a return type.\n  - Changed the definition of 'types' to be an enum of \"string\", \"number\", \"bool\", or \"any\".\n    - Enums in JSON schema are type sensitive, so a warning will be issued for types that have capital letters. To fix these warnings, change your type names in your `.ysls.json` file to be lowercase. (These warnings have no impact on your Yarn script editing experience or runtime behaviour.)\n- Empty nodes will no longer be included in the compiled output.\n  - A warning diagnostic will be generated for each empty node.\n- Fixed a bug where self-referencing inferred value set statements (e.g. `<<set $a = $a + 1>>`, where `$a` is not explicitly declared) would crash the compiler.\n- The language server no longer truncates XML documentation comments when it reaches a nested XML node. \n- Updated dependency versions:\n  - Google.Protobuf: Moved from `3.15.0` to `3.25.2`.\n  - System.Text.Json: Moved from `7.0.2` to `8.0.1`.\n  - Microsoft.Extensions.FileSystemGlobbing: Moved from `7.0.0` to `8.0.0`\n\n## [2.4.1] 2024-01-30\n\n- Version 2.4.1 is the first release of the paid version of Yarn Spinner on the [Unity Asset Store](https://assetstore.unity.com/packages/tools/behavior-ai/yarn-spinner-for-unity-267061) and on [itch.io](https://yarnspinner.itch.io). It's identical to v2.4.0.\n- Yarn Spinner is and will remain free and open source - we also make it available for purchase as an excellent way to support the team.\n- While you're reading, why not consider our [paid add-ons](https://yarnspinner.itch.io), which add some fantastic and easy-to-customise dialogue views?\n\n- Removed the Yarn Spinner v1 to v2 upgrader.\n- Removed support for 'raw text' nodes.\n  - A 'raw text' node was a node that had 'rawText' in its `tags` header. This indicated to the compiler that the original text of the node should be included in the string table.\n\n## [2.4.0] 2023-11-14\n\n### Added\n\n- Added a new method, `Utility.TagLines`, which will eventually replace the now deprecated `AddTagsToLines` method.\n- Added a new method, `Program.LineIDsForNode`, which allows you to get the list of all line IDs in a node.\n- Added a new function, `format_invariant`, which formats a number as a string using the invariant culture (rather than the end-user's current culture.)\n  - Commands expect all numbers to be formatted using the invariant (i.e. US English) style, with `.` as a decimal point.\n  - If a number is inserted into a command, it will by default be formatted for the user's current culture. If that culture formats numbers differently, it can cause problems.\n  - `format_invariant` will always format a value in the invariant culture, making it useful for situations where a number needs to be embedded in a command (which expects all numbers to be ), and not shown to the user.\n  - You can use `format_invariant` like this:\n    ```\n    <<set $gold_per_turn = 4.51>>\n\n    // de-DE: 'give_gold 4,51'\n    // en-US: 'give_gold 4.51'\n    <<give_gold {$gold_per_turn}>>\n\n    // de-DE: 'give_gold 4.51'\n    // en-US: 'give_gold 4.51'\n    <<give_gold {format_invariant($gold_per_turn)}>>\n    ```\n\n### Changed\n\n- Moved Yarn's built-in functions (for example, 'dice' and 'floor') to Yarn Spinner's core library. Previously, they were implemented in the client game code (for example, the Unity runtime.)\n\n#### Language Server\n\n- Fixed a bug in the language server that would cause it to crash when opening a workspace with no root (for example, creating a new window in Visual Studio Code and then creating a Yarn file, without ever saving anything to disk.)\n- Fixed an error in the language server that would fail to detect `YarnCommand`- and `YarnFunction`-tagged methods if their attributes were fully-qualified (e.g. `Yarn.Unity.YarnCommand`)\n- Renamed VirtualMachine.currentNodeName to VirtualMachine.CurrentNodeName.\n- Fixed an issue where workspaces where no Yarn Projects exist on disk would fail to attach Yarn files to the workspace's implicit Yarn Project.\n- Improved the code-completion behaviour to provide better filtering when offering command completions, in both jump commands and custom commands.\n- Fixed character names being incorrectly recognised when the colon is not part of the line\n- Fixed a bug where a missing 'Parameters' field in a .ysls.json file would cause the definitions file to not parse correctly.\n- If a workspace that has no .yarnproject files in it is opened, the language server will now look for a .ysls.json file containing command and function definitions. A warning will be reported if more than one file is found.\n- The language server now shows a warning if the workspace is opened without a folder.\n\n\n#### Compiler\n\n- Fixed a crash bug when declaration statements were used without a value (`<<declare $var>>`).\n- Fixed a bug where unusual interpolated commands (such as `<<{0}{\"\"}>>`) would resolve to unexpected final values (`<<>>`).\n- Fixed an issue that caused the compiler to hang under some circumstances.\n\n#### Utilities\n\n- Flagged the `Utility.AddTagsToLines` method as obsolete.\n- Fixed a bug where escaped characters weren't being correctly added back into the file after adding line tags.\n\n### Removed\n\n- Support for merging `Program` objects has been removed.\n  - This functionality previously existed because in earlier versions of Yarn Spinner, each individual Yarn script was compiled into a separate Program, which was then merged. Yarn Projects now provide the capabilty to compile multiple Yarn scripts at once, and have done for some time.\n\n## [2.3.1] 2023-07-04\n\n#### Yarn Projects\n\n- Added support for JSON-based Yarn Project files.\n  - Yarn Project files contain information that the Yarn Spinner compiler can use to compile multiple Yarn scripts at the same time. Yarn Projects are designed to be used by game engines to identify how Yarn content should be imported into the game.\n  - Yarn Project files have the following syntax:\n  ```json\n  {\n    \"projectFileVersion\": 2,\n    \"sourceFiles\": [\"**/*.yarn\"],\n    \"excludeFiles\": [\"DontInclude.yarn\"],\n    \"baseLanguage\": \"en\",\n    \"localisation\": {\n        \"en\": {\n            \"assets\": \"./voiceover/en/\"\n        },\n        \"de\": {\n            \"strings\": \"./de.csv\",\n            \"assets\": \"../voiceover/de/\"\n        }\n    },\n    \"definitions\": \"Functions.ysls.json\",\n    \"compilerOptions\": {}\n  }\n  ```\n  - `projectFileVersion` is used to identify which version of the project file format is being used, and is currently required to be the number 2.\n  - `sourceFiles` is an array of search paths used to find the Yarn files that should be compiled as part of this project. [Glob patterns](https://en.wikipedia.org/wiki/Glob_(programming)), including globstar, are supported.\n  - `excludeFiles` (_optional_) is an array of search paths used to find Yarn files that should _not_ be compiled. The same kinds of patterns as `sourceFiles` are supported.\n  - `baseLanguage` is a [IETF BCP 47 language tag](https://en.wikipedia.org/wiki/IETF_language_tag) indicating the language that the source scripts are written in (for example, `en` for English.)\n  - `localisation` _(optional)_ is a dictionary containing zero or more objects that describe where locale-specific resources can be found, where the key is a language tag and the value is an object of the following layout:\n    - `strings`: The path to a file containing the localised line text for the project. (This is typically, but not required to be, a CSV file.)\n    - `assets`: The path to a directory containing the localised assets (for example, voiceover audio) for the project.\n  - `definitions` _(optional)_ is the path to a JSON file containing command and function definitions used by the project.\n  - `compilerOptions` _(optional)_ is an object containing additional settings used by the Yarn Spinner compiler.\n\n#### Select Content with Line Groups\n\nYarn Spinner &lt;next&gt; introduces _line groups_. When the dialogue reaches a line group, Yarn Spinner chooses a single item from that group and runs it.\n\nLine groups are especially useful for barks, and for any other situation where the game needs to decide what to show to the player.\n\n>Consider the following example:\n>\n>```\n>// Lines from a soldier who's guarding a castle's draw-bridge.\n>=> Halt!\n>=> Stop right there!\n>=> No entry!\n>```\n>\n>When the dialogue reaches this line group, the soldier will say one of these lines.\n\nLines in a line group can have _conditions_ that control whether or not they're available to be selected. Conditions can be used to show show lines that depend upon the state of the game.\n\n> For example, imagine that the variable `$is_criminal` represents whether the player has broken the law in the game. The guard can have additional lines added that make sense when this variable is `true`:\n>\n>```\n>=> Halt!\n>=> Stop right there!\n>=> No entry!\n>=> Stop, criminal scum! <<if $is_criminal>>\n>=> Halt, you brigand! <<if $is_criminal>>\n>=> Thief! Stop right there! <<if $is_criminal>>\n>```\n>\n>If `$is_criminal` is true, then any of these lines may be run, but if `$is_criminal` is false, then one of only the first three lines may be run.\n\nItems in line groups can have 'child' items, which can be any kind of content: lines, options, commands, or any other valid syntax. You add child items to an item in a line group by indenting it.\n\n> For example, the 'wish I'd get a transfer' line in the previous example can be moved to a child line:\n> \n> ```\n> => Another day, guarding the bridge. \n>   Wish I'd get a transfer.\n> ```\n> \n> In this example, if the dialogue system selects the line \"Another day, guarding the bridge\", that line will run, and then the line \"Wish I'd get a transfer\" will run. \n\nThe way that Yarn Spinner chooses which specific item in a line group to run depends on your game. By default, Yarn Spinner will choose the _first item_ in the line group that passes its condition. However, you can customise this by providing a _saliency strategy_. 'Saliency' means how relevant a piece of content is to the player, and there are several ways to decide which items is the most salient.\n\nYarn Spinner ships with several saliency strategies to choose from:\n\n* **First**: Chooses the first item. (This strategy is the default, if no other is provided.)\n* **Best**: chooses the item that has the most number of variables in its condition; if multiple are available, chooses the first one in the line group.\n* **Best least-recently-seen**: Chooses the item that the player has seen the fewest number of times, preferring items that have more variables in their condition; if multiple are available, chooses the first in the line group. Tracks view counts in the game's variable storage.\n* **Random best least-recently-seen**: Same as 'best least-recently-seen', but if multiple choices are equally salient, chooses a random one in the group.\n\nYou can also create your own custom saliency strategy by creating a C# class that implements the interface `IContentSaliencyStrategy`.\n\nTo set a saliency strategy, create an instance of the appropriate saliency strategy class, and set your `Dialogue` object's `ContentSaliencyStrategy` property to it:\n\n```csharp\nVariableStorage storage = /* your game's variable storage */\nDialogue dialogue = /* your game's dialogue controller */\n\ndialogue.ContentSaliencyStrategy = new Yarn.Saliency.BestLeastRecentlyViewedSalienceStrategy(storage);\n```\n\n### Changed\n\n- Fixed a bug in the language server that caused crashes when code-completion was requested at a position more than 50% of the way through a document.\n- The following event handlers on the `Dialogue` class, which were previously required to be set, are now optional and may be set to `null`:\n  - `LineHandler`\n  - `CommandHandler`\n  - `NodeStartHandler`\n  - `NodeCompleteHandler`\n  - `DialogueCompleteHandler`\n  - Note that `OptionsHandler` remains _not_ optional, and is required to be set.\n- `Dialogue` now calls `DialogueCompleteHandler` when the `Stop()` method is called.\n- VM now nullifies it's state when stopped.\n\n## [2.3.0] 2023-03-06\n\n### Added\n\n- Yarn Programs now store all headers for their nodes.\n  - Prior to this change, only the `tags` header was stored.\n\n### Changed\n\n- The Yarn Spinner compiler's indentation tracking has been rewritten to be more consistent in how it works.\n  - **🚨 Breaking Change:** `if` statements must now all be at the same level of indentation as their corresponding `else`, `elseif`, and `endif` statements.\n    - This was already strongly encouraged for readability, but is now a requirement.\n    - If an `if` statement is at a different indentation level to its corresponding statements, a compiler error will now be generated.\n    - The lines and other content inside an `if` statement can be indented as much as you like, as long as it's not _less_ indented than the initial `if` statement.\n    \n      For example, the following code will work:\n      ```\n      // With indentation\n      <<if $something>>\n          A line!\n      <<else>>\n          A different line!\n      <<endif>>\n\n      // Without indentation\n      <<if $something>>\n      A line!\n      <<else>>\n      A different line!\n      <<endif>>\n      ```\n\n      The following code will **not** work:\n\n      ```\n      // With indentation\n      <<if $something>>\n        A line!\n        <<else>>\n      A different line!\n      <<endif>>\n      ```\n  - **🚨 Breaking Change:** Empty lines between options now split up different option groups.\n    - Previously, the following code would appear as a single option group (with the options 'A', 'B', 'C', 'D'):\n      ```\n      -> A\n      -> B\n\n      -> C\n      -> D\n      ```\n      In Yarn Spinner 2.3 and above, this will appear as _two_ option groups: one containing the options 'A', 'B', and another containing 'C', 'D'.\n\n      This change was made in response to user reports that the previous behaviour didn't behave the way they expected.\n\n- Node title verification now occurs at declaration time instead of code generation. This means invalid titles will be caught and presented as a problem earlier on, to aid in debugging issues.\n- Code completion in the Language Server has been completely rewritten. It is now much less flexible, but *way* more performant. For most situations, the changes will not be noticeable.\n- Fixed a crash in the Language Server when encountering declaration statements without a variable.\n\n## [2.2.5] 2023-01-27\n\n### Changed\n\n- Number pluralisation rules have been updated. The rules have now use CLDR version 42.0 (previously, 36.1)\n- Merged LanguageServer projects into the core YarnSpinner repository.\n- `NodeInfo.PreviewText` no longer removes comments from the preview.\n- Migrated tests from xUnit's `Assert` tests to [Fluent Assertions](https://fluentassertions.com).\n- Fixed an issue where pluralisation markup (i.e. the `plural` and `ordinal` tags) would not work correctly with country-specific locales (for example \"en-AU\").\n\n## [2.2.4] 2022-10-31\n\n### Changed\n\n- The compiler will now produce more useful error messages when two or more nodes in a compilation share the same name.\n\n## [2.2.3] 2022-08-28\n\n### Added\n\n- Added a new method, `Utility.DetermineNodeConnections`, that analyses Yarn files and returns a directed graph of node connections.\n  - This feature is used in the Language Server to produce reports like voice-over scripts.\n- Language Server: New command \"yarnspinner.graph\" that exports a string which is a graph representation in either mermaid or dot format depending on config.\n\n### Removed\n\n- Removed `null` from the Yarn grammar.\n  - `null` was removed from the language in version 2.0.0, but it was kept in the grammar to make it possible to emit special error messages when it was used that explained that the language had changed.\n\n## [2.2.2] 2022-07-22\n\n### Changed\n\n- Handling of escape characters is now more consistent in how it approaches the situation of when the first character is the escape character `\\`.\n- Tagging lines that contain multiwidth characters should no longer create weird invalid split characters in the dialogue.\n\n## [2.2.1] 2022-07-08\n\n### Added\n\n- Added a means to detect and return runs of lines through basic block analysis to the Utils. This is called via the `Yarn.Compiler.Utility.ExtractStringBlocks` function.\n\n### Changed\n\n- Markup attributes may now begin with a digit, letter or underscore. Previously, they were required to begin with a letter or an underscore. This allows the `select` marker to work with numbers: `[select value=1 1=one 2=two 3=three /]`\n\n## [2.2.0] 2022-04-08\n\n### Added\n\n- Added `DeclarationBuilder` and `FunctionTypeBuilder` classes. These classes allow external libraries to construct new `Declaration` and `FunctionType` objects, without having to have access to the internal setters.\n- `CompilationResult.DebugInfo` now provides per-instruction positional debug information.\n  - This allows users of the `Compiler` class to access positional information for each instruction, which is an important first step for source-level debugging.\n- Made `Diagnostic` and `Declaration` serializable, for easier communication with language servers and other utilities.\n- The compiler now does a last-line-before-options tagging pass.\n  - This will add a `#lastline` tag onto any dialogue line that immediately precedes a block of options.\n  - This is intended to used by other parts of the game to modify dialogue view behaviours.\n- Language Server: Diagnostics and type information now come from the Yarn Spinner compiler, rather than an independent parsing pass.\n- Language Server: Started adding unit tests.\n\n### Changed\n\n- `Declaration` and `Diagnostic` now provide position information via a `Range` object, which specifies the start and end position of the relevant parts of the document.\n- Fixed an issue where attempting to access the value of a variable with insufficient context to figure out its type would crash the compiler. (This could happen when you used a variable in a line, like `Variable: {$myVar}` with no other uses of `$myVar`.)\n- Fixed an issue where an option condition with no expression (for example: `-> Option one <<if>>`) would crash the compiler.\n- The compiler will no longer attempt to generate code if the Yarn script contains errors. (Previously, it was generating code, and then discarding it, but this allows for potential errors and crashes if code-generation is attempted on an invalid parse tree.)\n- Typechecker now does partial backwards type inference, allowing for functions and variables to inform the type of the other regardless of them being the l- or r-value in an expression.\n\n### Removed\n\n## [2.1.0] 2022-02-17\n\n### Added\n\n- The `<<jump>>` statement can now take an expression.\n\n```yarn\n<<set $myDestination = \"Home\">>\n<<jump {$myDestination}>>\n```\n\n- Previously, the `jump` statement required the name of a node. With this change, it can now also take an expression that resolves to the name of a node.\n- Jump expressions may be a constant string, a variable, a function call, or any other type of expression.\n- These expressions must be wrapped in curly braces (`{` `}`), and must produce a string.\n\n- Automatic visitation tracking.\n\nYou can use the `visit` and `visited_count` functions which take in the title of a node and return true of false in the first one, and the number of times visited in the second.\nThis can be controlled and overriden by the use a header tag `tracking`.\nSetting `tracking: always` forces visitation tracking to be enabled even when there are no calls to either function for that node.\nSetting `tracking: never` forces no visit tracking regardless of function calls to that node.\n\n### Changed\n\n### Removed\n\n## [2.0.2] 2022-01-08\n\n### Added\n\n### Changed\n\n- Fixed an error when a constant float value inside a marker was parsed and the user's current locale doesn't use a period (`.`) as the decimal separator.\n\n### Removed\n\n## [2.0.1] 2021-12-23\n\n### Added\n\n- The v1 to v2 language upgrader now renames node names that have a period (`.`) in their names to use underscores (`_`) instead. Jumps and options are also updated to use these new names.\n\n### Changed\n\n- Fixed a crash in the compiler when producing an error message about an undeclared function.\n- Fixed an error when a constant float value (such as in a `<<declare>>` statement) was parsed and the user's current locale doesn't use a period (`.`) as the decimal separator.\n\n## [2.0.0] 2021-12-20\n\n### Added\n\n### Changed\n\n- Fixed an issue where line tags could be added at an incorrect place in a line, if that line contained a condition.\n\n### Removed\n\n## [2.0.0-rc1] 2021-12-13\n\nv2.0.0-rc1 contains no user-facing features or bug fixes; it exists to be in sync with the corresponding v2.0.0-rc1 tag for Yarn Spinner for Unity.\n\n## [2.0.0-beta6] 2021-10-23\n\n### Added\n\n- The Compiler will no longer throw a `ParseException`, `TypeException` or `CompilerException` when an error is encountered during compilation. Instead, `CompilationResult.Diagnostics` contains a collection of `Diagnostic` objects, which represent errors, warnings, or other diagnostic information related to the compiled program.\n  - This change was implemented so that if multiple problems can be detected in a program, they can all be reported at once, rather than the compiler stopping at the first one.\n  - This also allows the compiler to issue non-fatal diagnostic messages, like warnings, that do not prevent the script from being compiled, but might indicate a problem with the code.\n  - Exceptions will continue to be thrown if the compiler encounters an internal error (in other words, if Yarn Spinner itself has a bug.)\n- If an error is encountered during compilation, `CompilationResult.Program` will be `null`.\n- This change means that compilation failures will not cause  `Compiler.Compile()` to throw an exception; code that was previously using a `try...catch` to detect problems will need to be rewritten to check the `CompilationResult.Diagnostics` property to find the actual problem.\n\n### Changed\n\n- Made the lexer not use semantic predicates when lexing the TEXT rule, which reduces the amount of C# code present in the grammar file.\n- Markup can now be escaped, using the `\\` character:\n\n```\n\\[b\\]hello\\[/b\\]\n// will appear to the user as \"[b]hello[/b]\", and will not \n// be treated as markup\n```\n- `Dialogue.SetSelectedOption` can now be called within the options handler itself. \n  - If you do this, the `Dialogue` will continue executing after the options handler returns, and you do not need to call `Continue`.\n\n- The compiler now generates better error messages for syntax errors. For example, given the following code (note the lack of an `<<endif>>` at the end):\n\n```yarn\n<<if $has_key>>\n  Guard: You found the key! Let me unlock the door.\n```\n\nThe compiler will produce the following error message:\n\n```\nExpected an <<endif>> to match the <<if>> statement on line 1\n```\n\n- The compiler's new error messages now also report additional information about the context of a syntax error. For example, given the following code:\n\n```yarn\n<<if hasCompletedObjective(\"find_key\" >>\n  // error! we forgot to add an ')'!\n<<endif>>\n```\n\nThe compiler will produce the following error message:\n\n```\nUnexpected \">>\" while reading a function call\n```\n\n- `VirtualMachine.executionState` has been renamed to `VirtualMachine.CurrentExecutionState`.\n\n- It is now a compiler error if the same line ID is used on more than one line.\n\n- Dialogue.VariableStorage is now public.\n\n### Removed\n\n- The ParseException, TypeException and CompilerException classes have been removed.\n\n## [2.0.0-beta5] 2021-08-17\n\n### Added\n\n#### Variable declarations are now optional\n- If a variable is not declared (i.e. it doesn't have a `<<declare>>` statement), the compiler will now attempt to infer its declaration.\n- When a variable doesn't have a declaration, the compiler will try to figure out the type based on how the variable is being used. It will always try to figure out the _single_ type that the variable _must_ be; if it's ambiguous, or no information is available at all, it will report an error, and you will have to add a declaration.\n\n\n#### Variable declaration descriptions now use comments\n- Declarations now have their descriptions set using a triple-slash (`///`) comment:\n\n```\n/// The number of coins the player has\n<<declare $coins = 0>>\n```\n\n- These documentation comments can be before a declaration, or on the same line as a declaration:\n\n```\n<<declare $player_likes_dogs = true>> /// Whether the player likes dogs or not\n```\n\n- Multiple-line documentation comments are also supported:\n\n```\n/// Whether these are the droids that the \n/// guards are looking for.\n<<declare $are_the_droids_we're_looking_for = false>>\n```\n\n#### A new type system has been added.\n\n- The type-checking system in Yarn Spinner now supports types with supertypes and methods. This change has no significant impact on users writing Yarn scripts, but it enables the development of more advanced language features. \n  - The main impact on users of this library (such as, for example, Yarn Spinner for Unity) is that the `Yarn.Type` enumeration has been removed, and is now replaced with the `Yarn.IType` interface and the `BuiltinTypes` class.\n  - The type checker no longer hard-codes which operations can be run on which types; this decision is now determined by the types themselves.\n\n### Changed\n\n- Variable declaration upgrader now generates .yarnproject files, not .yarnprogram files.\n- Line tagger now adds line tags before any `//` comment in the line.\n- Dialogue: `LogErrorMessage` and `LogDebugMessage` now perform null-checks before being invoked.\n- `Utility.GenerateYarnFileWithDeclarations` now generates files that use triple-slash (`///`) comments.\n- Fixed a bug where expressions inside an `if` statement or `elseif` statement would not be type-checked.\n- The keywords `enum`, `endenum` and `case` are now reserved.\n- The type-conversion functions, `string`, `number` and `bool`, are no longer built-in special-case functions; they are now regular built-in functions that take a value of `Any` type.\n\n### Removed\n\n- In previous betas, variable descriptions were done by adding a string. This has been removed:\n  \n```\n// This will no longer work:\n<<declare $coins = 0 \"The number of coins the player has\">>\n```\n\n## [2.0.0-beta4] \n\n### Added\n\n- Characters can now be escaped in lines and options.\n  - The `\\` character can be used to write characters that the parser would otherwise use.\n  - The following characters can be escaped: `{` `}` `<` `>` `#` `/` `\\`\n    - The `/` and `<` characters don't usually need to be escaped if they're appearing on their own (they're only meaningful when they appear in pairs), but this allows you to escape things like commands and comments. \n- Identifiers now support a wider range of characters, including most multilingual letters and numbers, as well as symbols and emoji.\n\n### Changed\n\n- Made line conditions control the `IsAvailable` flag on options that are sent to the game. \n- This change was made in order to allow games to conditionally present, but disallow, options that the player can't choose. For example, consider the following script:\n\n```\nTD-110: Let me see your identification.\n-> Of course... um totally not General Kenobi and the son of Darth Vader.\n    Luke: Wait, what?!\n    TD-110: Promotion Time!\n-> You don't need to see his identification. <<if $learnt_mind_trick is true>>\n    TD-110: We don't need to see his identification.\n```\n\n- If the variable `$learnt_mind_trick` is false, a game may want to show the option but not allow the player to select it (i.e., show that this option could have been chosen if they'd learned how to do a mind trick.)\n- In previous versions of Yarn Spinner, if a line condition failed, the entire option was not delivered to the game. With this change, all options are delivered, and the `OptionSet.Option.IsAvailable` variable contains `false` if the condition was not met, and `true` if it was (or was not present.)\n- It's entirely up to the game to decide what to do with this information. To re-create the behaviour from previous Yarn Spinner versions, simply don't show any options whose `IsAvailable` value is `false`.\n\n- Fixed a crash in `LineParser` if a null input was provided to it.\n- Fixed a crash in `FormatFunctionUpgrader` (which upgrades v1 Yarn scripts to v2) if an invalid format format function was encountered.\n\n### Removed\n\n## [2.0.0-beta2] 2021-01-14\n\n### Added\n\n- The `[[Destination]]` and `[[Option|Destination]]` syntax has been removed from the language.\n  - This syntax was inherited from the original Yarn language, which itself inherited it from Twine. \n  - We removed it for four reasons: \n    - it conflated jumps and options, which are very different operations, with too-similar syntax; \n    - the Option-destination syntax for declaring options involved the management of non-obvious state (that is, if an option statement was inside an `if` branch that was never executed, it was not presented, and the runtime needed to keep track of that);\n    - it was not obvious that options accumulated and were only presented at the end of the node;\n    - finally, shortcut options provide a cleaner way to present the same behaviour.\n  - We have added a `<<jump Destination>>` command, which replaces the `[[Destination]]` jump syntax.\n  - No change to the bytecode is made here; these changes only affect the compiler.\n  - Instead of using ``[[Option|Destination]]`` syntax, use shortcut options instead. For example:\n\n```\n// Before\nKim: You want a bagel?\n[[Yes, please!|GiveBagel]]\n[[No, thanks!|DontWantBagel]]\n\n// After\nKim: You want a bagel?\n-> Yes, please!\n  <<jump GiveBagel>>\n-> No, thanks!\n  <<jump DontWantBagel>>\n```\n\n- An automatic upgrader has been added that attempts to determine the types of variables in Yarn Spinner 1.0, and generates `<<declare>>` statements for variables.\n  - This upgrader infers the type of a variable based on the values that are assigned to it, and the values of expressions that it participates in.\n  - If the upgrader cannot determine the type of a variable, it generates a declaration of the form `<<declare $variable_name as undefined>>`. The word `undefined` is not a valid type in Yarn Spinner, which means that these declarations will cause an error in compilation (which is a signal to the developer that the script needs to be manually updated.)\n\n - For example: given the following script:\n\n```   \n<<set $const_string = \"foo\">>\n<<set $const_number = 2>>\n<<set $const_bool = true>>\n```\n    \n- The upgrader will generate the following variable declarations:\n```\n    <<declare $const_string = \"\" as string>>\n    <<declare $const_number = 0 as number>>\n    <<declare $const_bool = false as bool>>\n```\n    \nThe upgrader is able to make use of type even when it appears later in the program, and is\nable to make inferences about type using indirect information.\n    \n```\n// These variables are participating in expressions that include\n// variables we've derived the type for earlier in this program, so they\n// will be bound to that type\n{$derived_expr_const_string + $const_string}\n{$derived_expr_const_number + $const_number}\n{$derived_expr_const_bool && $const_bool}\n\n// These variables are participating in expressions that include\n// variables that we define a type for later in this program. They will\n// also be bound to that type.\n{$derived_expr_const_string_late + $const_string_late}\n{$derived_expr_const_number_late + $const_number_late}\n{$derived_expr_const_bool_late && $const_bool_late}\n\n<<set $const_string_late = \"yes\">>\n<<set $const_number_late = 1>>\n<<set $const_bool_late = true>>\n```\n\n- The upgrader will also make in-line changes to any if or elseif statements where the expression is determined to use a number rather than a bool will be rewritten so that the expression evaluates to a bool:\n\n``` \n// Define some variables whose type is known before the expressions are\n// hit\n<<set $some_num_var = 1>>\n<<set $some_other_num_var = 1>>\n\n// This will be converted to a bool expression\n<<if $some_num_var>>\n<<elseif $some_other_num_var>>\n<<endif>>\n```\n\nWill be rewritten to:\n\n```\n<<if $some_num_var != 0>>\n<<elseif $some_other_num_var != 0>>\n<<endif>>\n```\n\n### Changed\n\n- The internal structure of the LanguageUpgrader system has been updated to make it easier to add future upgrade passes.\n\n### Removed\n\n## [2.0.0-beta1] 2020-10-20\n\n### Added\n- Version 2 of the Yarn language requires variables to be declared in order to use them. It's now an error to set or get a value from a variable that isn't declared.\n  - Variables must always have a defined type, and aren't allowed to change type. This means, for example, that you can't store a string inside a variable that was declared as a number.\n  - Variables also have a default value. As a result, variables are never allowed to be `null`.\n  - Variable declarations can be in any part of a Yarn script. As long as they're somewhere in the file, they'll be used.\n  - Variable declarations don't have to be in the same file as where they're used. If a script has a variable declaration, other scripts compiled with it can use the variable.\n  - To declare a variable in a script, use the following syntax:\n  \n```\n<<declare $variable_name = \"hello\">> // declares a string\n<<declare $variable_name = 123>> // declares a number\n<<declare $variable_name = true>> // declares a boolean\n```\n\n- Added substitution support to Dialogue (previously, the game client had to do it)\n- Added support for markup.\n- Added an EditorConfig file to assist future contributions in following the .NET coding style (@Schroedingers-Cat)\n- Added Dialogue.prepareForLinesHandler, a delegate that is called when the Dialogue anticipates running certain lines; games can use this to pre-load content or take other actions to prepare to run lines.\n  - Yarn Spinner will check the types of the delegate you provide. At present, parameters must be either ints, floats, doubles, bools, strings, or `Yarn.Value`s.\n- Added a new command, `<<jump>>`, which immediately jumps to a new node. It takes one parameter: the name of the node to jump to.\n\n### Changed\n\n- `Library.RegisterFunction` no longer works with the `Function` and `ReturningFunction` classes, which have been removed. Instead, you provide a `Func` directly, which can take multiple individual parameters, rather than a single `Value[]` parameter.\n- The `LineHandler`, `CommandHandler`, and `NodeCompleteHandler` callbacks, used by the `Dialogue` class, no longer return a value that indicates whether the `Dialogue` should pause execution. Instead, the `Dialogue` will now *always* pause execution, which can be resumed by calling `Dialogue.Continue()`. (This method may be called from inside the line handler or command handler, or at any point after these handlers return.)\n- The `Compiler` class no longer compiles Yarn scripts using the `CompileFile` and `CompileString` methods. Instead, the `Compile` method accepts a `CompilationJob` struct that describes the work to do, and returns a `CompilationResult` struct containing the result. This method allows for the compilation of multiple files into a single program, as well as supplying variable and function declarations.\n- The `Compiler` class also supports doing only a partial compilation, returning only variable declarations or string table entries.\n- Yarn scripts are now all compiled into a single `YarnProgram`. This improves compilation performance, ensures that scripts don't have multiple nodes with the same name, and ensures that scripts are able to make use of variables declared in other scripts.\n- Shortcut options have been renamed to \"options\".\n\n### Removed\n\n- `[[Option]]` syntax has been removed.\n  - In previous versions of the Yarn language, there were two ways of presenting options to the player: \"regular\" options (`[[Displayed text|DestinationName]]`), and shortcut options (`-> Displayed Text`), with shortcut options being displayed immediately, and regular options accumulating and being presented at the end of the node.\n  - In Yarn Spinner 2.0, the \"regular\" option syntax has been removed; when you want to show options to the player, use the \"shortcut option\" syntax.  \n  - The previous, related syntax for jumping to another node, (`[[DestinationNode]]`), has also been removed, and has been replaced with the `<<jump>>` command.\n- Functions registered with the `Library` class can no longer accept an unlimited number of parametes.\n\n## [1.2.0] 2020-05-04\n\n### Added\n\n- Added Nuget package definitions for [YarnSpinner](http://nuget.org/packages/YarnSpinner/) and [YarnSpinner.Compiler](http://nuget.org/packages/YarnSpinner.Compiler/).\n\n### Changed\n\n- Parse errors no longer show debugging information in non-debug builds.\n\n### Removed\n\n## [1.2.0-beta1] 2020-05-28\n\n### Added\n\n- Yarn scripts now appear with Yarn Spinner icon. (@Schroedingers-Cat)\n- Documentation is updated to reflect the current version number (also to mention 2018.4 LTS as supported)\n- Added a button in the Inspector for `.yarn` files in Yarn Spinner for Unity, which updates localised `.csv` files when the `.yarn` file changes. (@stalhandske, #227)\n- Added handlers for when nodes begin executing (in addition to the existing handlers for when nodes complete.) (@arendhil, #222)\n- `OptionSet.Option` now includes the name of the node that an option will jump to if selected.\n- Added unit tests for Yarn Spinner for Unity (@Schroedingers-Cat)\n- Yarn Spinner for Unity: Added a menu item for creating new Yarn scripts (Assets -> Create -> Yarn Script)\n\n### Changed\n\n- Fixed a crash in the compiler when parsing single-character commands (e.g. `<<p>>`) (#231)\n\n### Removed\n\n## [1.1.0] - 2020-04-01\n\nFinal release of v1.1.0.\n\n## [1.1.0-beta3]\n\n### Added\n\n### Changed\n\n- Fixed a bug that caused `<<else>>` to be incorrectly parsed as a command, not an `else` statement, which meant that flow control didn't work correctly.\n\n## [1.0.0-beta2]\n\n### Added\n\n- **Inline Expressions**: Embed variables, values and expressions right into your dialogue.\n  - You can use inline expressions in lines, options, shortcut options, and commands.\n  - Inline expressions look like this: `Mae: Wow! I have {$num_pies} pies!`.\n  - When the compiler processes a line that includes an inline expression, the line that's stored in the string table will have each of the expressions replaced with a placeholder. For example, the line above will be stored as `Mae: Wow! I have {0} pies!`. If you're translating a line to other languages, the placeholders can be moved and re-ordered as you need them.\n  - Any expression can be used - numbers, strings, variables, function calls, or more complex expressions.\n  - The `Line` struct now includes an array of substitutions, which Dialogue UI objects will insert into the localised line at the appropriate place.\n  - Documentation for inline expressions is available on the [Yarn Spinner site](https://yarnspinner.dev/docs/syntax/#inline-expressions).\n- **Format Functions**: Easier localisation when dealing with inline expressions.\n  - Format functions are in-line expressions in your scripts that dynamically select text based on a variable. These functions can be localised, which means you can change them based on the needs of the language you're translating the game into.\n  - Format functions will appear as-is in the .csv string tables that Yarn Spinner for Unity generates, which means that they can be edited by translators.  \n  - Please note that format functions are intended to be a tool for ensuring correct grammar across multiple languages. They are more complex than a simple inline expression, and may complicate your dialogue. They're not intended to replace `if`-`endif` structures for your dialogue's logic.\n  - There are three format functions available: `select`, `plural`, and `ordinal`.\n  - The `select` function takes a string variable and uses its value to select a piece of text to use. For example:\n    - `Character: Wow, [select {$gender} male=\"he\" female=\"she\" other=\"they\"] seem happy!`\n  - The `plural` function uses a number variable and determines its plural category. For example:\n    - `Character: Good thing I have {$money_count} gold [plural {$money_count} one=\"piece\" other=\"pieces\"]!`\n  - The `ordinal` function uses a number variable and determines its ordinal category. For example:\n    - `Character: The race is over! I came [ordinal {$race_position} one=\"%st\" two=\"%nd\" few=\"%rd\" other=\"%th\"]!`\n    - This example also shows how you can embed the variable that the function is using in the result - the `%` character will be replaced the variable's value (in this example, `$race_position`, creating text like \"I came 3rd!\")\n  - Different languages have different plural rules. Yarn Spinner uses the plural rules defined by the [Unicode CLDR](https://www.unicode.org/cldr/charts/latest/supplemental/language_plural_rules.html); note that not all languages make use of all plural categories.\n    - Yarn Spinner for Unity will use the Text Language setting to determine which plural rules to apply.\n  - Documentation for format functions is available on the [Yarn Spinner site](https://yarnspinner.dev/docs/syntax/#format-functions).\n- **Faster Compiling:** Yarn Spinner for Unity now uses .asmdef files. \n  - Yarn Spinner's Unity code now compiles to a separate assembly. (@Schroedingers-Cat)\n  - **IMPORTANT:** if you're using asmdefs in your own code, any assembly you write that needs to refer to Yarn Spinner will need to add a reference to the YarnSpinner.Unity assembly.\n- **Patreon Supporter Info**: [Patreon supporter](https://www.patreon.com/bePatron?u=11132340) information is now displayed in the Yarn Spinner window in Yarn Spinner for Unity. \n  - To view it, open the Window menu, and choose Yarn Spinner.\n  - While you're viewing it, why not consider becoming a supporter yourself? 😃\n\n### Changed\n\n- Yarn Spinner's Unity integration now supports Unity 2018.4 LTS and later. (Previously, the minimum version was unspecified, but was actually 2019.2.)\n- Fixed a bug that caused the unary minus operator (e.g. `-$foo`) to cause crashes when it's run.\n- Unit tests now use test plans, which makes the test cases much more rigorous.\n- Methods for working with functions in the `DialogueRunner` class for Yarn Spinner for Unity (thanks to @unknowndevice): \n  - Renamed: `AddFunction` (renamed from `RegisterFunction`)\n  - Added: `RemoveFunction`, which removes a function.\n\n### Removed\n\n## [1.0.3] - 2020-02-01\n\n### Added\n\n- The compiler will now reject node titles that contain an invalid character. Invalid characters for node titles are: `[`, `]`, `{`, `}`, `|`, `:`, `#`, `$`, or spaces.\n- Added some parser tests for working with node headers.\n\n### Changed\n\n- Fixed a bug where the Dialogue UI component in Unity would not actually send any commands to the 'On Command' event.\n- Command handlers will now look for command handlers added via `AddCommandHandler` first (which is faster), followed by commands registered using the `YarnCommand` attribute (which is slower).\n- When writing an option (for example, `[[Hello!| Greeting ]]`), any whitespace around the node name (`Greeting`) will be discarded. This fixes a bug where Yarn Spinner would try to go to a node named \" ` Greeting ` \", but spaces in node names aren't allowed. (#192)\n- Fixed a bug where a null reference exception would be thrown the first time a new Yarn file's Inspector is drawn. (@Schroedingers-Cat)\n- Made string table CSVs always be read and written in the Invariant culture. Previously, locale differences would lead to parsing failures. (#197)\n- Disabled 'this field is never assigned to' warnings for certain files in the Unity version (they're assigned in the Editor, which the compiler doesn't know about.)\n\n### Removed\n\n## [1.0.2] - 2020-01-23\n\nBug fixes and small quality-of-life improvements.\n\n### Added\n\n- Added a method for manually loading a string table as a dictionary to DialogueRunner\n- DialogueUI now allows skipping to the end of a line's delivery, by calling MarkLineComplete before the line has finished appearing.\n- Option buttons can now use TextMeshPro Text components, in addition to Unity UI Text components. (TextMeshPro for line display was already supported.)\n- DialogueUI now allows other scripts to select an option. When the `SelectOption` method, which takes an integer representing the index of the option you want to select, is called, the Dialogue UI will act as though the corresponding button was clicked.\n\n### Changed\n\n- Made the debug display in InMemoryVariableStorage slightly tidier\n- Made changing the InMemoryVariableStorage update its debug display's layout components\n- Made InMemoryVariableStorage's contents enumerable in a foreach loop\n- Fixed a bug where the Dialog would pause when a blocking command handler immediately calls its onComplete and returns\n- Fixed a bug where parsing the `<<wait>>` command's parameter was locale-specific (i.e. certain European locales parse decimal numbers as \"1,0\"), which meant that behaviour would vary based on the end-user's configuration.\n- Fix a bug where manually-added functions would never run if the first parameter was the name of an object in the scene.\n- Improve the UI for managing localised lines (thanks to @Schroedingers-Cat)\n\n## [1.0.1] - 2020-01-08\n\nA bugfix release.\n\n### Changed\n\n- Fixed an issue where the first instruction after an `if` statement, option, shortcut option or jump to another node could be skipped.\n\n## [1.0.0] - 2020-01-07\n\nThis is the first major release of Yarn Spinner. We're thrilled to bring this to you, and want to thank everyone who's helped us bring Yarn Spinner to this point.\n\n### Added\n\n- **Binary Program Format:** Yarn programs are now compiled into a binary format, which uses Protocol Buffers. Compiled files can be written to disk and loaded at runtime, which means that you don't need to include the source code of your game's dialog when distributing it to players. The time needed to load a dialogue file is also significantly reduced, because compilation happens on your machine, not on the player's.\n- **Canvas Prefab:** The `Dialogue` prefab, which you can find in the `YarnSpinner/Prefabs` folder, is a drag-and-drop object that you can add to your scene. It's a great way to get started using Yarn Spinner in your own game, and is designed to be customised to fit your needs.\n- **Dialogue UI Events:** The `DialogueUI` class now fires Unity Events when important events occur, like dialogue starting, a line appearing, a line's delivery completing, and more. You can use this to control the behaviour of your dialogue UI without writing any code.\n- **Automatic Compilation in Unity:** The Unity integration for Yarn Spinner will automatically detect your Yarn files and compile them.\n- **Instant Localisation Tags:** Select the Yarn file in Unity, and click Add Line Tags. Any lines or options that don't have a localisation tag will have one added. (Note that this step changes your files on disk, and can't be undone.)\n- **Simpler CSV Export:** When you want to export a CSV file containing your localised lines, select the Yarn file in Unity, choose the language you want to localise into from the drop-down menu, and click Create New Localisation. A `.csv` file will be created next to your Yarn file, ready to be sent to your translators. (Note that you can only create a CSV when every line and option in the file has a line tag. Yarn Spinner in Unity can create them for you if you click Add Line Tags.)\n- **Visual Studio Code Extension:** We've heard from people who want to write their Yarn code in a text editor, and we've created an extension for [Visual Studio Code](https://code.visualstudio.com) that adds syntax highlighting support (with more features coming in the future!) You can install the extension from the [Visual Studio Code Marketplace](https://marketplace.visualstudio.com/items?itemName=SecretLab.yarn-spinner).\n- **New Website:** A brand-new website for Yarn Spinner is now available at [yarnspinner.dev](https://yarnspinner.dev). This will be the home of all future documentation.\n\n### Changed\n\n- The standard file extension for Yarn codes has changed from `.yarn.txt` to `.yarn`. The Yarn Editor has been updated to save as `.yarn` by default. (It still supports opening your existing `.yarn.txt` files.)\n- The `Dialogue` class, which executes your Yarn program, previously sent the text of the lines and options found in the source code. This has now changed; the `Dialogue` will now instead send just the line code, and the `DialogueRunner` matches the code to a localised string.\n- If a line doesn't have a line code, Yarn Spinner will create a unique one based on the name of the file, the name of the node, and where the line appears.\n- The `Compiler` class's `CompileFile` and `CompileString` methods, which compile `.yarn` files into Yarn programs, have had their method signatures change. They now return a `Yarn.Compiler.Status` enum, and produce *two* results: the compiled Yarn program, and the extracted string table as a dictionary.\n- The compiler has been moved into its own assembly, `Yarn.Compiler.dll`. If your code doesn't use any of the classes in the `Yarn.Compiler` namespace, it won't be included. This reduces the amount of code you need to include in your game.\n- The `Yarn.Unity.Example` classes, like `ExampleDialogUI`, have been renamed to remove \"`Example`\". Everyone was using these as the basis for their own classes anyway, and we felt it was better to acknowledge that they weren't really showing *one* way to do it, but rather showing the *preferred* way. This name change acknowledges this fact.\n- `DialogueRunner` now no longer relies on coroutines for operations that take longer than a single frame. Instead, `DialogueUI`'s methods that run in response to lines, options and commands return a `Dialogue.HandlerExecutionType` enum to indicate to Yarn Spinner whether it should pause execution or continue running.\n- `DialogueRunner` now separates out the act of loading compiled programs and the act of loading a string table into two distinct methods. This gives you control over which localised lines of text should be used when the `Dialogue` class sends line codes to your game.\n\n### Removed\n\n- We've removed the \"simple dialog example\" from the repo, and made the \"complex dialog example\" - the one set in space, featuring Sally and the Ship - the sole example.\n- We've removed the documentation from the repo; the new home for Yarn Spinner documentation is the official website, [yarnspinner.dev](https://yarnspinner.dev).\n"
        },
        {
          "name": "CODE_OF_CONDUCT.md",
          "type": "blob",
          "size": 3.28125,
          "content": "# Contributor Covenant Code of Conduct\n\n## Our Pledge\n\nIn the interest of fostering an open and welcoming environment, we as\ncontributors and maintainers pledge to making participation in our project and\nour community a harassment-free experience for everyone, regardless of age, body\nsize, disability, ethnicity, sex characteristics, gender identity and expression,\nlevel of experience, education, socio-economic status, nationality, personal\nappearance, race, religion, or sexual identity and orientation.\n\n## Our Standards\n\nExamples of behavior that contributes to creating a positive environment\ninclude:\n\n* Using welcoming and inclusive language\n* Being respectful of differing viewpoints and experiences\n* Gracefully accepting constructive criticism\n* Focusing on what is best for the community\n* Showing empathy towards other community members\n\nExamples of unacceptable behavior by participants include:\n\n* The use of sexualized language or imagery and unwelcome sexual attention or\n advances\n* Trolling, insulting/derogatory comments, and personal or political attacks\n* Public or private harassment\n* Publishing others' private information, such as a physical or electronic\n address, without explicit permission\n* Other conduct which could reasonably be considered inappropriate in a\n professional setting\n\n## Our Responsibilities\n\nProject maintainers are responsible for clarifying the standards of acceptable\nbehavior and are expected to take appropriate and fair corrective action in\nresponse to any instances of unacceptable behavior.\n\nProject maintainers have the right and responsibility to remove, edit, or\nreject comments, commits, code, wiki edits, issues, and other contributions\nthat are not aligned to this Code of Conduct, or to ban temporarily or\npermanently any contributor for other behaviors that they deem inappropriate,\nthreatening, offensive, or harmful.\n\n## Scope\n\nThis Code of Conduct applies both within project spaces and in public spaces\nwhen an individual is representing the project or its community. Examples of\nrepresenting a project or community include using an official project e-mail\naddress, posting via an official social media account, or acting as an appointed\nrepresentative at an online or offline event. Representation of a project may be\nfurther defined and clarified by project maintainers.\n\n## Enforcement\n\nInstances of abusive, harassing, or otherwise unacceptable behavior may be\nreported by contacting the project team at yarnspinner@secretlab.com.au. All\ncomplaints will be reviewed and investigated and will result in a response that\nis deemed necessary and appropriate to the circumstances. The project team is\nobligated to maintain confidentiality with regard to the reporter of an incident.\nFurther details of specific enforcement policies may be posted separately.\n\nProject maintainers who do not follow or enforce the Code of Conduct in good\nfaith may face temporary or permanent repercussions as determined by other\nmembers of the project's leadership.\n\n## Attribution\n\nThis Code of Conduct is adapted from the [Contributor Covenant][homepage], version 1.4,\navailable at https://www.contributor-covenant.org/version/1/4/code-of-conduct.html\n\n[homepage]: https://www.contributor-covenant.org\n\nFor answers to common questions about this code of conduct, see\nhttps://www.contributor-covenant.org/faq\n"
        },
        {
          "name": "CONTRIBUTING.md",
          "type": "blob",
          "size": 2.1123046875,
          "content": "# Contributing to Yarn Spinner\n\nHi there! We're thrilled that you'd like to contribute to this project. Your help is essential for keeping it great.\n\n## How to send in your contributions\n\nThere are many ways you can send your contributions to Yarn Spinner. You can either **report a bug**, or you can make the changes yourself and **submit a pull request**!\n\n### Reporting bugs and opening issues\n\nPlease [report bugs](https://github.com/YarnSpinnerTool/YarnSpinner/issues) and open issues generously. Don't be afraid that your idea is silly, or you're reporting a duplicate. We're happy to hear from you. Seriously.\n\n> ***Please Note:*** Yarn Spinner is written by volunteers. If you encounter a problem while using it, we'll do our best to help you, but neither the authors, or Secret Lab Pty. Ltd. can offer any support.\n\n### Submitting a pull request\n\n* [Fork](https://github.com/YarnSpinnerTool/YarnSpinner/fork) and clone the repository\n* Create a new branch: git checkout -b my-branch-name\n* Make your changes\n* Push to your fork and [submit a pull request](https://github.com/YarnSpinnerTool/YarnSpinner/compare)\n* Pat your self on the back and wait for your pull request to be reviewed.\n\nIf you're unfamiliar with how pull requests work, [GitHub's documentation on them](https://help.github.com/articles/using-pull-requests/) is very good.\n\nHere are a few things you can do that will increase the likelihood of your pull request being accepted:\n\n* Update the documentation as necessary, as well as making code changes.\n* Keep your change as focused as possible. If there are multiple changes you would like to make that are not dependent upon each other, consider submitting them as separate pull requests.\n* [Write a good commit message](http://tbaggery.com/2008/04/19/a-note-about-git-commit-messages.html).\n\n### Branches\n\nAll of Yarn Spinner's in-progress work happens on the `main` branch. When we make a release, we create a new release directly from `main`. This means that `main` is always in a state of flux.\n\n### Code and other contributions\n\nContributions to Yarn Spinner (via pull request or otherwise) must be licensed under the MIT license.\n"
        },
        {
          "name": "CONTRIBUTORS.md",
          "type": "blob",
          "size": 0.4951171875,
          "content": "# Contributors\n\nThe following people have contributed to the development of Yarn Spinner. If you submit a pull request, please add your name to the list below.\n\n* 2015-ongoing: Secret Lab Team - Dr Jon Manning and Dr Paris Buttfield-Addison <lab@secretlab.com.au>\n* 2017: Rev Peter Lawler <relwalretep@gmail.com>\n* 2017: Dr Tim 'McJones' Nugent <tim@lonely.coffee>\n* 2018: Damon 'demanrisu' Reece <de@coy.ninja>\n* 2019: Tamme Schichler <tamme@schichler.dev>\n* 2020: @Schroedingers-Cat\n* 2021: Peter Appleby\n"
        },
        {
          "name": "Documentation",
          "type": "tree",
          "content": null
        },
        {
          "name": "GitVersion.yml",
          "type": "blob",
          "size": 0.0234375,
          "content": "workflow: GitHubFlow/v1\n"
        },
        {
          "name": "LICENSE.md",
          "type": "blob",
          "size": 1.111328125,
          "content": "The MIT License (MIT)\n\nCopyright (c) Yarn Spinner Pty. Ltd., Secret Lab Pty. Ltd., and Yarn Spinner contributors.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 3.5205078125,
          "content": "# Yarn Spinner\n\n<img src=\"https://downloads.yarnspinner.dev/get/YarnSpinnerLogo.png\" alt=\"Yarn Spinner logo\" width=\"100px;\" align=\"right\">\n\n[Yarn Spinner](https://yarnspinner.dev) is the friendly tool for writing dialogue in games. It's easy for writers to use, and has powerful features for programmers.\n\nYarn Spinner is a dialogue system that lets you write interactive conversations in a simple, screenplay-like format, which can be loaded into your game and run. \n\nWhen a conversation is running, Yarn Spinner sends your game **lines** of dialogue to show, **options** to let the player choose from, and **commands** to make things happen in your scene.\n\nYarn Spinner has been used in a number of critically acclaimed games, including [Night in the Woods](http://nightinthewoods.com), [A Short Hike](https://ashorthike.com), [DREDGE](https://dredge.game), [Venba](https://venbagame.com), [Lost in Random](https://www.ea.com/en-au/games/lost-in-random), and many more.\n\nTo get Yarn Spinner, and support the team behind it, buy a copy from [the Yarn Spinner Itch.io Store](https://yarnspinner.itch.io) or from [the Unity Asset Store](https://assetstore.unity.com/packages/tools/behavior-ai/yarn-spinner-for-unity-267061), or check out the [Yarn Spinner Documentation](https://docs.yarnspinner.dev).\n\n## Getting Started\n\nThis repo contains the core source code for the Yarn Spinner compiler. If you want to use it in a game, you should get the appropriate package for your game engine. The best place to learn the next steps is in the [Yarn Spinner Documentation](https://docs.yarnspinner.dev).\n\n### Official Packages\n\nThese packages are written by the Yarn Spinner team, and are officially supported.\n\n* **[Yarn Spinner for Unity](https://github.com/YarnSpinnerTool/YarnSpinner-Unity/releases/latest)** (2021.3 or later)\n\n## Learning More\n\nFull documentation, tutorials, and additional information is available in the [Yarn Spinner documentation](https://docs.yarnspinner.dev).\n\n## Getting Help\n\nFor help, support, discussion, and chill community times, come and join the [Yarn Spinner Discord](https://discord.gg/yarnspinner)!\n\n## Credits\n\nYarn Spinner is developed by [Yarn Spinner Pty. Ltd.](https://yarnspinner.dev/), an Australian company. We are a spinoff of game development studio, [Secret Lab Pty. Ltd.](https://secretlab.games/). The project is supported along with a huge community of contributors.\n\nThe logo was made by [Cecile Richard](https://www.cecile-richard.com/).\n\nYarn Spinner's development is made possible in part by [NYU Game Center](https://gamecenter.nyu.edu/), and an Epic Mega Grant.\n\nThis project has also been assisted by the Australian Government through the [Australia Council](https://www.australiacouncil.gov.au/), its arts funding and advisory body.\n\n## Help Us Make Yarn Spinner!\n\nYarn Spinner needs your help to be as awesome as it can be! You don't have to be a coder to help out - we'd love to have your help in improving our [documentation](https://docs.yarnspinner.dev), in spreading the word, and in finding bugs.\n\n* Yarn Spinner's development is powered by our wonderful Patreon supporters and Itch.io. [Become a patron](https://patreon.com/secretlab), or [buy Yarn Spinner on Itch.io](https://yarnspinner.itch.io), and help us make Yarn Spinner be amazing.\n* Our [issues page](https://github.com/YarnSpinnerTool/YarnSpinner/issues) contains a list of things we'd love your help in improving.\n* Follow [Yarn Spinner on Twitter](http://twitter.com/YarnSpinnerTool).\n\nIf you want to contribute to Yarn Spinner, [go read our contributor's guide!](CONTRIBUTING.md)\n"
        },
        {
          "name": "Tests",
          "type": "tree",
          "content": null
        },
        {
          "name": "YarnSpinner.Compiler",
          "type": "tree",
          "content": null
        },
        {
          "name": "YarnSpinner.LanguageServer.Tests",
          "type": "tree",
          "content": null
        },
        {
          "name": "YarnSpinner.LanguageServer",
          "type": "tree",
          "content": null
        },
        {
          "name": "YarnSpinner.Tests",
          "type": "tree",
          "content": null
        },
        {
          "name": "YarnSpinner.sln",
          "type": "blob",
          "size": 7.1181640625,
          "content": "﻿\r\nMicrosoft Visual Studio Solution File, Format Version 12.00\r\n# Visual Studio 15\r\nVisualStudioVersion = 15.0.26124.0\r\nMinimumVisualStudioVersion = 15.0.26124.0\r\nProject(\"{FAE04EC0-301F-11D3-BF4B-00C04F79EFBC}\") = \"YarnSpinner\", \"YarnSpinner\\YarnSpinner.csproj\", \"{1540ACF5-A851-4C38-9856-034CE8ADC0EF}\"\r\nEndProject\r\nProject(\"{FAE04EC0-301F-11D3-BF4B-00C04F79EFBC}\") = \"YarnSpinner.Tests\", \"YarnSpinner.Tests\\YarnSpinner.Tests.csproj\", \"{44B79FF6-8A67-4F4D-AFD0-A4304878E5AA}\"\r\nEndProject\r\nProject(\"{FAE04EC0-301F-11D3-BF4B-00C04F79EFBC}\") = \"YarnSpinner.Compiler\", \"YarnSpinner.Compiler\\YarnSpinner.Compiler.csproj\", \"{CBFD3E89-DD32-4EC3-B3B8-3B8D3DBBC213}\"\r\nEndProject\r\nProject(\"{FAE04EC0-301F-11D3-BF4B-00C04F79EFBC}\") = \"YarnLanguageServer\", \"YarnSpinner.LanguageServer\\YarnLanguageServer.csproj\", \"{00CC34F3-4133-4BE1-AD26-608CAE440911}\"\r\nEndProject\r\nProject(\"{FAE04EC0-301F-11D3-BF4B-00C04F79EFBC}\") = \"YarnLanguageServer.Tests\", \"YarnSpinner.LanguageServer.Tests\\YarnLanguageServer.Tests.csproj\", \"{18CC342C-90E2-49E3-BC25-DB2074437B34}\"\r\nEndProject\r\nGlobal\r\n\tGlobalSection(SolutionConfigurationPlatforms) = preSolution\r\n\t\tDebug|Any CPU = Debug|Any CPU\r\n\t\tDebug|x64 = Debug|x64\r\n\t\tDebug|x86 = Debug|x86\r\n\t\tRelease|Any CPU = Release|Any CPU\r\n\t\tRelease|x64 = Release|x64\r\n\t\tRelease|x86 = Release|x86\r\n\tEndGlobalSection\r\n\tGlobalSection(SolutionProperties) = preSolution\r\n\t\tHideSolutionNode = FALSE\r\n\tEndGlobalSection\r\n\tGlobalSection(ProjectConfigurationPlatforms) = postSolution\r\n\t\t{1540ACF5-A851-4C38-9856-034CE8ADC0EF}.Debug|Any CPU.ActiveCfg = Debug|Any CPU\r\n\t\t{1540ACF5-A851-4C38-9856-034CE8ADC0EF}.Debug|Any CPU.Build.0 = Debug|Any CPU\r\n\t\t{1540ACF5-A851-4C38-9856-034CE8ADC0EF}.Debug|x64.ActiveCfg = Debug|Any CPU\r\n\t\t{1540ACF5-A851-4C38-9856-034CE8ADC0EF}.Debug|x64.Build.0 = Debug|Any CPU\r\n\t\t{1540ACF5-A851-4C38-9856-034CE8ADC0EF}.Debug|x86.ActiveCfg = Debug|Any CPU\r\n\t\t{1540ACF5-A851-4C38-9856-034CE8ADC0EF}.Debug|x86.Build.0 = Debug|Any CPU\r\n\t\t{1540ACF5-A851-4C38-9856-034CE8ADC0EF}.Release|Any CPU.ActiveCfg = Release|Any CPU\r\n\t\t{1540ACF5-A851-4C38-9856-034CE8ADC0EF}.Release|Any CPU.Build.0 = Release|Any CPU\r\n\t\t{1540ACF5-A851-4C38-9856-034CE8ADC0EF}.Release|x64.ActiveCfg = Release|Any CPU\r\n\t\t{1540ACF5-A851-4C38-9856-034CE8ADC0EF}.Release|x64.Build.0 = Release|Any CPU\r\n\t\t{1540ACF5-A851-4C38-9856-034CE8ADC0EF}.Release|x86.ActiveCfg = Release|Any CPU\r\n\t\t{1540ACF5-A851-4C38-9856-034CE8ADC0EF}.Release|x86.Build.0 = Release|Any CPU\r\n\t\t{44B79FF6-8A67-4F4D-AFD0-A4304878E5AA}.Debug|Any CPU.ActiveCfg = Debug|Any CPU\r\n\t\t{44B79FF6-8A67-4F4D-AFD0-A4304878E5AA}.Debug|Any CPU.Build.0 = Debug|Any CPU\r\n\t\t{44B79FF6-8A67-4F4D-AFD0-A4304878E5AA}.Debug|x64.ActiveCfg = Debug|Any CPU\r\n\t\t{44B79FF6-8A67-4F4D-AFD0-A4304878E5AA}.Debug|x64.Build.0 = Debug|Any CPU\r\n\t\t{44B79FF6-8A67-4F4D-AFD0-A4304878E5AA}.Debug|x86.ActiveCfg = Debug|Any CPU\r\n\t\t{44B79FF6-8A67-4F4D-AFD0-A4304878E5AA}.Debug|x86.Build.0 = Debug|Any CPU\r\n\t\t{44B79FF6-8A67-4F4D-AFD0-A4304878E5AA}.Release|Any CPU.ActiveCfg = Release|Any CPU\r\n\t\t{44B79FF6-8A67-4F4D-AFD0-A4304878E5AA}.Release|Any CPU.Build.0 = Release|Any CPU\r\n\t\t{44B79FF6-8A67-4F4D-AFD0-A4304878E5AA}.Release|x64.ActiveCfg = Release|Any CPU\r\n\t\t{44B79FF6-8A67-4F4D-AFD0-A4304878E5AA}.Release|x64.Build.0 = Release|Any CPU\r\n\t\t{44B79FF6-8A67-4F4D-AFD0-A4304878E5AA}.Release|x86.ActiveCfg = Release|Any CPU\r\n\t\t{44B79FF6-8A67-4F4D-AFD0-A4304878E5AA}.Release|x86.Build.0 = Release|Any CPU\r\n\t\t{CBFD3E89-DD32-4EC3-B3B8-3B8D3DBBC213}.Debug|Any CPU.ActiveCfg = Debug|Any CPU\r\n\t\t{CBFD3E89-DD32-4EC3-B3B8-3B8D3DBBC213}.Debug|Any CPU.Build.0 = Debug|Any CPU\r\n\t\t{CBFD3E89-DD32-4EC3-B3B8-3B8D3DBBC213}.Debug|x64.ActiveCfg = Debug|Any CPU\r\n\t\t{CBFD3E89-DD32-4EC3-B3B8-3B8D3DBBC213}.Debug|x64.Build.0 = Debug|Any CPU\r\n\t\t{CBFD3E89-DD32-4EC3-B3B8-3B8D3DBBC213}.Debug|x86.ActiveCfg = Debug|Any CPU\r\n\t\t{CBFD3E89-DD32-4EC3-B3B8-3B8D3DBBC213}.Debug|x86.Build.0 = Debug|Any CPU\r\n\t\t{CBFD3E89-DD32-4EC3-B3B8-3B8D3DBBC213}.Release|Any CPU.ActiveCfg = Release|Any CPU\r\n\t\t{CBFD3E89-DD32-4EC3-B3B8-3B8D3DBBC213}.Release|Any CPU.Build.0 = Release|Any CPU\r\n\t\t{CBFD3E89-DD32-4EC3-B3B8-3B8D3DBBC213}.Release|x64.ActiveCfg = Release|Any CPU\r\n\t\t{CBFD3E89-DD32-4EC3-B3B8-3B8D3DBBC213}.Release|x64.Build.0 = Release|Any CPU\r\n\t\t{CBFD3E89-DD32-4EC3-B3B8-3B8D3DBBC213}.Release|x86.ActiveCfg = Release|Any CPU\r\n\t\t{CBFD3E89-DD32-4EC3-B3B8-3B8D3DBBC213}.Release|x86.Build.0 = Release|Any CPU\r\n\t\t{5C0E715E-0A90-0477-61DD-35732DCC052A}.Debug|Any CPU.ActiveCfg = Debug|Any CPU\r\n\t\t{5C0E715E-0A90-0477-61DD-35732DCC052A}.Debug|Any CPU.Build.0 = Debug|Any CPU\r\n\t\t{5C0E715E-0A90-0477-61DD-35732DCC052A}.Debug|x64.ActiveCfg = Debug|Any CPU\r\n\t\t{5C0E715E-0A90-0477-61DD-35732DCC052A}.Debug|x64.Build.0 = Debug|Any CPU\r\n\t\t{5C0E715E-0A90-0477-61DD-35732DCC052A}.Debug|x86.ActiveCfg = Debug|Any CPU\r\n\t\t{5C0E715E-0A90-0477-61DD-35732DCC052A}.Debug|x86.Build.0 = Debug|Any CPU\r\n\t\t{5C0E715E-0A90-0477-61DD-35732DCC052A}.Release|Any CPU.ActiveCfg = Debug|Any CPU\r\n\t\t{5C0E715E-0A90-0477-61DD-35732DCC052A}.Release|Any CPU.Build.0 = Debug|Any CPU\r\n\t\t{5C0E715E-0A90-0477-61DD-35732DCC052A}.Release|x64.ActiveCfg = Debug|Any CPU\r\n\t\t{5C0E715E-0A90-0477-61DD-35732DCC052A}.Release|x64.Build.0 = Debug|Any CPU\r\n\t\t{5C0E715E-0A90-0477-61DD-35732DCC052A}.Release|x86.ActiveCfg = Debug|Any CPU\r\n\t\t{5C0E715E-0A90-0477-61DD-35732DCC052A}.Release|x86.Build.0 = Debug|Any CPU\r\n\t\t{00CC34F3-4133-4BE1-AD26-608CAE440911}.Debug|Any CPU.ActiveCfg = Debug|Any CPU\r\n\t\t{00CC34F3-4133-4BE1-AD26-608CAE440911}.Debug|Any CPU.Build.0 = Debug|Any CPU\r\n\t\t{00CC34F3-4133-4BE1-AD26-608CAE440911}.Debug|x64.ActiveCfg = Debug|Any CPU\r\n\t\t{00CC34F3-4133-4BE1-AD26-608CAE440911}.Debug|x64.Build.0 = Debug|Any CPU\r\n\t\t{00CC34F3-4133-4BE1-AD26-608CAE440911}.Debug|x86.ActiveCfg = Debug|Any CPU\r\n\t\t{00CC34F3-4133-4BE1-AD26-608CAE440911}.Debug|x86.Build.0 = Debug|Any CPU\r\n\t\t{00CC34F3-4133-4BE1-AD26-608CAE440911}.Release|Any CPU.ActiveCfg = Release|Any CPU\r\n\t\t{00CC34F3-4133-4BE1-AD26-608CAE440911}.Release|Any CPU.Build.0 = Release|Any CPU\r\n\t\t{00CC34F3-4133-4BE1-AD26-608CAE440911}.Release|x64.ActiveCfg = Release|Any CPU\r\n\t\t{00CC34F3-4133-4BE1-AD26-608CAE440911}.Release|x64.Build.0 = Release|Any CPU\r\n\t\t{00CC34F3-4133-4BE1-AD26-608CAE440911}.Release|x86.ActiveCfg = Release|Any CPU\r\n\t\t{00CC34F3-4133-4BE1-AD26-608CAE440911}.Release|x86.Build.0 = Release|Any CPU\r\n\t\t{18CC342C-90E2-49E3-BC25-DB2074437B34}.Debug|Any CPU.ActiveCfg = Debug|Any CPU\r\n\t\t{18CC342C-90E2-49E3-BC25-DB2074437B34}.Debug|Any CPU.Build.0 = Debug|Any CPU\r\n\t\t{18CC342C-90E2-49E3-BC25-DB2074437B34}.Debug|x64.ActiveCfg = Debug|Any CPU\r\n\t\t{18CC342C-90E2-49E3-BC25-DB2074437B34}.Debug|x64.Build.0 = Debug|Any CPU\r\n\t\t{18CC342C-90E2-49E3-BC25-DB2074437B34}.Debug|x86.ActiveCfg = Debug|Any CPU\r\n\t\t{18CC342C-90E2-49E3-BC25-DB2074437B34}.Debug|x86.Build.0 = Debug|Any CPU\r\n\t\t{18CC342C-90E2-49E3-BC25-DB2074437B34}.Release|Any CPU.ActiveCfg = Release|Any CPU\r\n\t\t{18CC342C-90E2-49E3-BC25-DB2074437B34}.Release|Any CPU.Build.0 = Release|Any CPU\r\n\t\t{18CC342C-90E2-49E3-BC25-DB2074437B34}.Release|x64.ActiveCfg = Release|Any CPU\r\n\t\t{18CC342C-90E2-49E3-BC25-DB2074437B34}.Release|x64.Build.0 = Release|Any CPU\r\n\t\t{18CC342C-90E2-49E3-BC25-DB2074437B34}.Release|x86.ActiveCfg = Release|Any CPU\r\n\t\t{18CC342C-90E2-49E3-BC25-DB2074437B34}.Release|x86.Build.0 = Release|Any CPU\r\n\tEndGlobalSection\r\nEndGlobal\r\n"
        },
        {
          "name": "YarnSpinner",
          "type": "tree",
          "content": null
        },
        {
          "name": "antlr.sh",
          "type": "blob",
          "size": 0.228515625,
          "content": "#!/usr/bin/env bash\n\nset -e\n\ncurl http://www.antlr.org/download/antlr-4.7-complete.jar -o $HOME/antlr4.jar\nexport CLASSPATH=\".:$HOME/antlr.jar:$CLASSPATH\"\nalias antlr4='java -Xmx500M -cp \"$HOME/antrl.jar:$CLASSPATH\" org.antlr.v4.Tool'"
        },
        {
          "name": "sync-yarnspinner-dlls.sh",
          "type": "blob",
          "size": 1.4794921875,
          "content": "#!/bin/bash\n\n# Compiles, aliases, and copies the Yarn Spinner DLLs into a Yarn Spinner for\n# Unity project\n#\n# Usage: ./sync-yarnspinner-dlls.sh {PATH TO YARNSPINNER-UNITY PROJECT}\n\nset -e\npushd $1\n\nYARNSPINNER_FOLDER=$(readlink -f $1/../YarnSpinner)\n\nYARNSPINNER_DLLS_DIR=$1/Packages/dev.yarnspinner.unity/Runtime/DLLs/\n\nif [ ! -d $YARNSPINNER_DLLS_DIR ]; then\n    echo \"Can't copy Yarn Spinner DLLS to $YARNSPINNER_DLLS_DIR because this directory does not exist\"\n    exit 1\nfi\n\nif [ -d .build-tmp ]; then \n    echo \"Can't build Yarn Spinner DLLs to .build-tmp because this directory already exists, and I don't want to overwrite it.\"\n    exit 1\nfi\n\ncd $YARNSPINNER_FOLDER\ndotnet-gitversion /updateAssemblyInfo\nmkdir -p .build-tmp\ndotnet build  --configuration Debug -o .build-tmp YarnSpinner.Compiler\n\n# some types we are going to want to use externally but the rest should be fully internal to Yarn Spinner itself\nassemblyalias --target-directory \".build-tmp\" --prefix \"Yarn.\" --assemblies-to-alias \"Antlr*;Csv*;Google*;\"\nassemblyalias --target-directory \".build-tmp\" --internalize --prefix \"Yarn.\" --assemblies-to-alias \"System*;Microsoft.Bcl*;Microsoft.Extensions*\"\n\ncp -v .build-tmp/*.dll $YARNSPINNER_DLLS_DIR\ncp -v .build-tmp/*.pdb $YARNSPINNER_DLLS_DIR || true\ncp -v .build-tmp/*.xml $YARNSPINNER_DLLS_DIR || true\nrm -fv $YARNSPINNER_DLLS_DIR/Microsoft.CSharp.dll\n\nrm -rf .build-tmp\n\ngit checkout  \"*/AssemblyInfo.cs\"\n\necho \"Synced current working directory of Yarn Spinner from $YARNSPINNER_FOLDER\"\n\npopd\n"
        }
      ]
    }
  ]
}