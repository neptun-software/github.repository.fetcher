{
  "metadata": {
    "timestamp": 1736710677177,
    "page": 27,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjMw",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "liangxiegame/QFramework",
      "stars": 4559,
      "defaultBranch": "master",
      "files": [
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.7392578125,
          "content": ".idea\nQFramework.ToolKits/Assets/.qframework\nQFramework.ToolKits/Assets/Plugins/Editor/JetBrains\nJetBrains.meta\nEditor.meta\nQFramework.ToolKits/Builds\nQFramework.ToolKits/Library\nQFramework.ToolKits/Logs\nQFramework.ToolKits/obj\nQFramework.ToolKits/Temp\n*.csproj\nQFramework.ToolKits/AssetBundles\nQFramework.ToolKits/Assets/StreamingAssets/AssetBundles\nQFramework.ToolKits/Build/\nQFramework.Unity2018+/Temp/\nQFramework.Unity2018+/Logs/\nQFramework.Unity2018+/Library/\nQFramework.Unity2018+/Assets/.qframework/\nQFramework.Unity2018+/obj/\nQFramework.Unity2018+/Assets/Plugins/Editor/JetBrains/\nQFramework.Unity2018+/AssetBundles/\nQFramework.Unity2018+/Assets/StreamingAssets/AssetBundles/\nQFramework.Unity2018+/Assets/StreamingAssets/AssetBundles.meta\n.DS_Store\n"
        },
        {
          "name": "Doc.md",
          "type": "blob",
          "size": 269.2109375,
          "content": "# 1. ä»‹ç»\r\n# 01. ç®€ä»‹\r\n\r\nå¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ QFramework çš„ä½œè€… å‡‰é‹ï¼ŒQFramework ä»ç¬¬ä¸€æ¬¡ä»£ç æäº¤åˆ°ç°åœ¨å¿« 7 å¹´äº†ï¼ˆ2015 å¹´ 12 æœˆ \\~ 2022 å¹´ 10 æœˆï¼‰äº†ï¼Œè€Œç»è¿‡äº† 7 å¹´æ—¶é—´çš„æ‰“ç£¨ï¼Œæˆ‘ä»¬ç»ˆäºè¿æ¥äº† v1.0 ç‰ˆæœ¬ã€‚\r\n\r\næ­¤æ•™ç¨‹ï¼Œå°†æ”¶å½•äº QFramework çš„å®˜æ–¹æ–‡æ¡£ï¼Œå‘å¸ƒäº qframework.cnï¼ŒåŒæ—¶ä¹Ÿä¼šåŒ…å«åœ¨ QFramework.Toolkits çš„ç¼–è¾‘å™¨å†…ç½®æ–‡æ¡£ä¸­ã€‚\r\n\r\n## QFramework ç®€ä»‹\r\n\r\nQFramework æ˜¯ä¸€å¥—æ¸è¿›å¼ã€å¿«é€Ÿå¼€å‘æ¡†æ¶ï¼Œé€‚ç”¨äºä»»ä½•ç±»å‹çš„æ¸¸æˆåŠåº”ç”¨é¡¹ç›®ã€‚\r\n\r\nQFramework åŒ…å«ä¸€å¥— å¼€å‘æ¶æ„ å’Œ å¤§é‡çš„å·¥å…·é›†ã€‚\r\n\r\nQFramework ç‰¹æ€§é€Ÿè§ˆï¼š\r\n\r\n*   å¼€å‘æ¶æ„ï¼ˆQFramework.csï¼‰\r\n  *   ç®€å•ã€æ˜“ä¸Šæ‰‹ã€å¼ºå¤§\r\n  *   MVC\r\n  *   IOCã€åˆ†å±‚æ”¯æŒ\r\n  *   CQRS æ”¯æŒ\r\n  *   ç¬¦åˆ SOLIDåŸåˆ™\r\n  *   å¯ä»¥ä½¿ç”¨ DDD çš„æ–¹å¼è®¾è®¡é¡¹ç›®\r\n  *   ä¸åˆ° 1000 è¡Œä»£ç \r\n*   å·¥å…·é›†ï¼ˆQFramework.Toolkitsï¼‰\r\n  *   UIKit ç•Œé¢\\&Viewå¿«é€Ÿå¼€å‘&ç®¡ç†è§£å†³æ–¹æ¡ˆ\r\n    *   UIã€GameObject çš„ä»£ç ç”Ÿæˆ&è‡ªåŠ¨èµ‹å€¼\r\n    *   ç•Œé¢ç®¡ç†\r\n    *   å±‚çº§ç®¡ç†\r\n    *   ç•Œé¢å †æ ˆ\r\n    *   é»˜è®¤ä½¿ç”¨ ResKit æ–¹å¼ç®¡ç†ç•Œé¢èµ„æº\r\n    *   å¯è‡ªå®šä¹‰ç•Œé¢çš„åŠ è½½ã€å¸è½½æ–¹å¼\r\n    *   Manager Of Manager æ¶æ„é›†æˆï¼ˆä¸æ¨èä½¿ç”¨ï¼‰\r\n  *   ResKit èµ„æºå¿«é€Ÿå¼€å‘&ç®¡ç†è§£å†³æ–¹æ¡ˆ\r\n    *   AssetBundle æä¾›æ¨¡æ‹Ÿæ¨¡å¼ï¼Œå¼€å‘é˜¶æ®µæ— éœ€æ‰“åŒ…å³å¯åŠ è½½èµ„æº\r\n    *   èµ„æºåç§°ä»£ç ç”Ÿæˆæ”¯æŒ\r\n    *   åŒä¸€ä¸ª API å¯åŠ è½½ AssetBundleã€Resourcesã€ç½‘ç»œ å’Œ è‡ªå®šä¹‰æ¥æºçš„èµ„æº\r\n    *   æä¾›ä¸€å¥—å¼•ç”¨è®¡æ•°çš„èµ„æºç®¡ç†æ¨¡å‹\r\n  *   AudioKit éŸ³é¢‘ç®¡ç†è§£å†³æ–¹æ¡ˆ\r\n    *   æä¾›èƒŒæ™¯éŸ³ä¹ã€äººå£°ã€éŸ³æ•ˆ ä¸‰ç§éŸ³é¢‘æ’­æ”¾ API\r\n    *   éŸ³é‡æ§åˆ¶\r\n    *   é»˜è®¤ä½¿ç”¨ ResKit æ–¹å¼ç®¡ç†éŸ³é¢‘èµ„æº\r\n    *   å¯è‡ªå®šä¹‰éŸ³é¢‘çš„åŠ è½½ã€å¸è½½æ–¹å¼\r\n  *   CoreKit æä¾›å¤§é‡çš„ä»£ç å·¥å…·\r\n    *   ActionKitï¼šåŠ¨ä½œåºåˆ—æ‰§è¡Œç³»ç»Ÿ\r\n    *   CodeGenKitï¼šä»£ç ç”Ÿæˆ & è‡ªåŠ¨åºåˆ—åŒ–èµ‹å€¼å·¥å…·\r\n    *   EventKitï¼šæä¾›åŸºäºç±»ã€å­—ç¬¦ä¸²ã€æšä¸¾ä»¥åŠä¿¡å·ç±»å‹çš„äº‹ä»¶å·¥å…·é›†\r\n    *   FluentAPIï¼šå¯¹å¤§é‡çš„ Unity å’Œ C# å¸¸ç”¨çš„ API æä¾›äº†é™æ€æ‰©å±•çš„å°è£…ï¼ˆé“¾å¼ APIï¼‰\r\n    *   IOCKitï¼šæä¾›ä¾èµ–æ³¨å…¥å®¹å™¨\r\n    *   LocaleKitï¼šæœ¬åœ°åŒ–&å¤šè¯­è¨€å·¥å…·é›†\r\n    *   LogKitï¼šæ—¥å¿—å·¥å…·é›†\r\n    *   PackageKitï¼šåŒ…ç®¡ç†å·¥å…·ï¼Œç”±æ­¤å¯æ›´æ–°æ¡†æ¶å’Œå¯¹åº”çš„æ’ä»¶æ¨¡å—ã€‚\r\n    *   PoolKitï¼šå¯¹è±¡æ± å·¥å…·é›†ï¼Œæä¾›å¯¹è±¡æ± çš„åŸºç¡€ä¸Šï¼Œä¹Ÿæä¾› ListPool å’Œ Dictionary Pool ç­‰å·¥å…·ã€‚\r\n    *   SingletonKitï¼šå•ä¾‹å·¥å…·é›†\r\n    *   TableKitï¼šæä¾›è¡¨æ ¼ç±»æ•°æ®ç»“æ„çš„å·¥å…·é›†\r\n\r\nQFramework çš„è®¾è®¡å“²å­¦æ˜¯ä»æ¯ä¸ªç»†èŠ‚ä¸Šæå‡å¼€å‘æ•ˆç‡ã€‚\r\n\r\nåŒæ—¶ QFramework è¿˜åŒ…å«ä¸°å¯Œçš„ç”Ÿæ€ã€‚\r\n\r\n*QFrameowrk.Toolkits å†…ç½®ç¼–è¾‘å™¨*\r\n\r\n![image.png](https://file.liangxiegame.com/d15a75ba-8d6d-4d77-b096-a93c559d29b9.png)\r\n\r\n*èµ„æº*\r\n\r\n| **ç‰ˆæœ¬**                          |                                                                                                   |                                                                                                                                                                                                                            |\r\n| ------------------------------- | ------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\r\n| QFramework.cs                   | QFramework æœ¬ä½“æ¶æ„çš„å®ç°                                                                                |                                                                                                                                                                                                                            |\r\n| QFramework.cs  ç¤ºä¾‹               | QFramework.cs ä¸å®˜æ–¹ç¤ºä¾‹ï¼š CounterAppã€ã€Šç‚¹ç‚¹ç‚¹ã€‹ã€FlappyBirdã€CubeMasterã€ShootingEditor2Dã€è´ªåƒè›‡ç­‰                 | [github](https://github.com/liangxiegame/QFramework/blob/master/QFramework.cs.Examples.unitypackage)\\|[gitee](https://gitee.com/liangxiegame/QFramework/blob/master/QFramework.cs.Examples.unitypackage)                   |\r\n| QFramework.Toolkits             | QFramework  é›†æˆ CoreKit/UIKit/ActionKit/ResKit/PackageKit/AudioKit ç­‰å…¨éƒ¨å®˜æ–¹å·¥å…·ï¼ˆå·²åŒ…å« QFramework.cs å’Œ ç¤ºä¾‹) | [github](https://github.com/liangxiegame/QFramework/blob/master/QFramework.Toolkits.unitypackage)\\|[gitee](https://gitee.com/liangxiegame/QFramework/blob/master/QFramework.Toolkits.unitypackage)                         |\r\n| QFramework.Toolkits.Demo.WuZiQi | ä½¿ç”¨ QFramework.Toolkits å¼€å‘çš„äº”å­æ£‹ Demoï¼ˆéœ€è¦å®‰è£…å¥½  QFramework.Toolkitsï¼‰                                    | [github](https://github.com/liangxiegame/QFramework/blob/master/QFramework.Toolkits.Demo.WuZiQi.unitypackage)\\|[gitee](https://gitee.com/liangxiegame/QFramework/blob/master/QFramework.Toolkits.Demo.WuZiQi.unitypackage) |\r\n| QFramework.Toolkits.Demo.Saolei | ä½¿ç”¨ QFramework.Toolkits å¼€å‘çš„æ‰«é›· Demoï¼ˆéœ€è¦å®‰è£…å¥½  QFramework.Toolkitsï¼‰                                     | [github](https://github.com/liangxiegame/QFramework/blob/master/QFramework.Toolkits.Demo.SaoLei.unitypackage)\\|[gitee](https://gitee.com/liangxiegame/QFramework/blob/master/QFramework.Toolkits.Demo.SaoLei.unitypackage) |\r\n| QFramework.ToolKitsPro          | åœ¨ ToolKits åŸºç¡€ä¸Šé›†æˆæ›´å¤šå¥½ç”¨çš„å·¥å…·çš„ç‰ˆæœ¬ï¼ˆå·²åŒ…å« QFramework.Toolkitsï¼‰                                               | [AssetStore](http://u3d.as/SJ9)                                                                                                                                                                                            |\r\n| **ç¾¤å‹æ¡ˆä¾‹**                        |                                                                                                   |                                                                                                                                                                                                                            |\r\n| èµ›è½¦æ¸¸æˆã€ŠCrazy Carã€‹                 | ç¾¤å‹ [TastSong](https://github.com/TastSong) ä½¿ç”¨ QF è¿›è¡Œé‡æ„çš„å¼€æºèµ›è½¦æ¸¸æˆ                                      | [æ¸¸æˆä¸»é¡µ(Github](https://github.com/TastSong/CrazyCar))                                                                                                                                                                       |\r\n| **ç¤¾åŒº**                          |                                                                                                   |                                                                                                                                                                                                                            |\r\n| QQ ç¾¤:623597263                  | äº¤æµç¾¤                                                                                               | [ç‚¹å‡»åŠ ç¾¤](http://shang.qq.com/wpa/qunwpa?idkey=706b8eef0fff3fe4be9ce27c8702ad7d8cc1bceabe3b7c0430ec9559b3a9ce66)                                                                                                              |\r\n| github issue                    | github ç¤¾åŒº                                                                                         | [åœ°å€](https://github.com/liangxiegame/QFramework/issues/new)                                                                                                                                                                |\r\n| gitee issue                     | gitee ç¤¾åŒºï¼ˆå›½å†…è®¿é—®å¿«ï¼‰                                                                                   | [åœ°å€](https://gitee.com/liangxiegame/QFramework/issues)                                                                                                                                                                     |\r\n| **æ•™ç¨‹**                          |                                                                                                   |                                                                                                                                                                                                                            |\r\n| ã€Šæ¡†æ¶æ­å»º å†³å®šç‰ˆã€‹                      | æ•™ç¨‹ QFramework  çš„æ ¸å¿ƒæ¶æ„æ˜¯æ€ä¹ˆæ¼”åŒ–è¿‡æ¥çš„ï¼Ÿ                                                                     | [è¯¾ç¨‹ä¸»é¡µ](https://learn.u3d.cn/tutorial/framework_design)\\|[å­¦ç”Ÿè¯¾å ‚ç¬”è®°1](https://github.com/Haogehaojiu/FrameworkDesign)\\|[å­¦ç”Ÿè¯¾å ‚ç¬”è®°2](https://github.com/Haogehaojiu/ShootingEditor2D)                                              |\r\n| **äº§å“æ¡ˆä¾‹**                        |                                                                                                   |                                                                                                                                                                                                                            |\r\n| ç‹¬ç«‹æ¸¸æˆã€Šé¬¼å±±ä¹‹ä¸‹ã€‹                      | ä½¿ç”¨ QF åˆ¶ä½œçš„ç‹¬ç«‹æ¸¸æˆ                                                                                     | [æ¸¸æˆä¸»é¡µ(Steam)](https://store.steampowered.com/app/1517160/_/)                                                                                                                                                               |\r\n| æ‰‹æœºæ¸¸æˆã€Šè°éŸ³æ¢—æŒ‘æˆ˜ã€‹                     | ä½¿ç”¨ QF åˆ¶ä½œçš„æ‰‹æœºæ¸¸æˆ                                                                                     | [æ¸¸æˆä¸»é¡µ(TapTap)](https://www.taptap.com/app/201075)                                                                                                                                                                          |\r\n| ç‹¬ç«‹æ¸¸æˆã€Šæ¨ç­æ³¡æ³¡å§†ã€‹                     | â€QF ç¾¤å‹ï¼Œå¤§å­¦ç”Ÿå›¢é˜Ÿåˆ¶ä½œçš„ç‹¬ç«‹æ¸¸æˆï¼Œç»ˆäºç­‰åˆ°ä¸Šæ¶å•¦ï¼Œäº²è‡ªæ¸¸ç©è¿‡ï¼Œå¾ˆå¥½ç©ï¼Œå¤§å®¶å¤šå¤šæ”¯~ï¼ˆP.S ä½¿ç”¨ QF.cs ä½œä¸ºæ¶æ„å¼€å‘çš„å“¦~ï¼‰                              | [æ¸¸æˆä¸»é¡µ(TapTap)](https://www.taptap.com/app/233228)                                                                                                                                                                          |\r\n| **å®˜æ–¹å·¥å…·**ï¼ˆç‹¬ç«‹ç‰ˆæœ¬ï¼Œä¸äº’ç›¸ä¾èµ–)            |                                                                                                   |                                                                                                                                                                                                                            |\r\n| SingletonKit                    | æ˜“ä¸Šæ‰‹åŠŸèƒ½å¼ºå¤§çš„å•ä¾‹å·¥å…·ï¼Œç”± QF å®˜æ–¹ç»´æŠ¤                                                                            | [github](https://github.com/liangxiegame/SingletonKit)\\|[gitee](https://gitee.com/liangxiegame/SingletonKit)                                                                                                               |\r\n| ExtensionKit                    | æ˜“ä¸Šæ‰‹åŠŸèƒ½å¼ºå¤§çš„ C#/UnityAPI çš„é™æ€æ‰©å±• ï¼Œç”± QF å®˜æ–¹ç»´æŠ¤                                                             | [github](https://github.com/liangxiegame/ExtensionKit)\\|[gitee](https://gitee.com/liangxiegame/ExtensionKit)                                                                                                               |\r\n| IOCKit                          | æ˜“ä¸Šæ‰‹åŠŸèƒ½å¼ºå¤§çš„ IOC å®¹å™¨ ï¼Œç”± QF å®˜æ–¹ç»´æŠ¤                                                                        | [github](https://github.com/liangxiegame/IOCKit)\\|[gitee](https://gitee.com/liangxiegame/IOCKit)                                                                                                                           |\r\n| TableKit                        | ä¸€å¥—ç±»ä¼¼è¡¨æ ¼çš„æ•°æ®ç»“æ„ï¼ˆList\\<List\\<T>>)ï¼Œå…¼é¡¾æŸ¥è¯¢æ•ˆç‡å’Œè”åˆå¼ºå¤§çš„æŸ¥è¯¢åŠŸèƒ½ï¼Œç”± QF å®˜æ–¹ç»´æŠ¤                                           | [github](https://github.com/liangxiegame/TableKit)\\|[gitee](https://gitee.com/liangxiegame/TableKit)                                                                                                                       |\r\n| PoolKit                         | å¯¹è±¡æ± å·¥å…·ï¼Œç”± QF å®˜æ–¹ç»´æŠ¤                                                                                   | [github](https://github.com/liangxiegame/PoolKit)\\|[gitee](https://gitee.com/liangxiegame/PoolKit)                                                                                                                         |\r\n| LogKit                          | æ—¥å¿—å·¥å…·ï¼Œç”± QF å®˜æ–¹ç»´æŠ¤                                                                                    | [github](https://github.com/liangxiegame/LogKit)\\|[gitee](https://gitee.com/liangxiegame/LogKit)                                                                                                                           |\r\n| ActionKit                       | åŠ¨ä½œåºåˆ—å·¥å…·ï¼Œç”± QF å®˜æ–¹ç»´æŠ¤                                                                                  | [github](https://github.com/liangxiegame/ActionKit)\\|[gitee](https://gitee.com/liangxiegame/ActionKit)                                                                                                                     |\r\n| ResKit                          | èµ„æºç®¡ç†å·¥å…·ï¼Œç”± QF å®˜æ–¹ç»´æŠ¤                                                                                  | [github](https://github.com/liangxiegame/ResKit)\\|[gitee](https://gitee.com/liangxiegame/ResKit)                                                                                                                           |\r\n| UIKit                           | UIKit æ˜¯ä¸€å¥— UI/View å¼€å‘è§£å†³æ–¹æ¡ˆï¼Œç”± QF å®˜æ–¹ç»´æŠ¤                                                                | [github](https://github.com/liangxiegame/UIKit)\\|[gitee](https://gitee.com/liangxiegame/UIKit)                                                                                                                             |\r\n| AudioKit                        | ä¸€å¥—éŸ³é¢‘ç®¡ç†å·¥å…·ï¼Œç”± QF å®˜æ–¹ç»´æŠ¤                                                                                | [github](https://github.com/liangxiegame/AudioKit)\\|[gitee](https://gitee.com/liangxiegame/AudioKit)                                                                                                                       |\r\n| PackageKit                      | ä¸€å¥—åŒ…ç®¡ç†å·¥å…·ï¼Œå¯ä»¥é€šè¿‡ PackageKit å®‰è£…æ—§ç‰ˆæœ¬çš„ QFrameworkï¼Œä»¥åŠå¤§é‡çš„è§£å†³æ–¹æ¡ˆã€‚                                              | [github](https://github.com/liangxiegame/PackageKit)\\|[gitee](https://gitee.com/liangxiegame/PackageKit)                                                                                                                   |\r\n| **å…¶ä»–ç›¸å…³æ•™ç¨‹**                      |                                                                                                   |                                                                                                                                                                                                                            |\r\n| ã€Šç‹¬ç«‹æ¸¸æˆä½“éªŒè®¡åˆ’ã€‹ï¼ˆçŒ«å”ï¼‰                  | ç‹¬ç«‹æ¸¸æˆåˆ¶ä½œä½“éªŒæ•™ç¨‹ï¼Œæœ‰ç”¨åˆ° QFramework.cs                                                                      | [b ç«™](https://space.bilibili.com/656352)                                                                                                                                                                                   |\r\n| ã€ŠåŸåˆ›ç‹¬ç«‹æ¸¸æˆåˆ¶ä½œã€‹ï¼ˆå‡‰é‹ï¼‰                  | åŸåˆ›ç‹¬ç«‹æ¸¸æˆåˆ¶ä½œæ•™ç¨‹ï¼Œæœ‰ç”¨åˆ° QFramework.cs                                                                      | [b ç«™](https://space.bilibili.com/60450548/channel/collectiondetail?sid=125221)                                                                                                                                             |\r\n\r\n**å…¸å‹çš„ QFramework.cs æ¶æ„ä»£ç **\r\n\r\n```csharp\r\nnamespace QFramework.Exmaple\r\n{\r\n    public class CounterAppController : MonoBehaviour , IController\r\n    {\r\n        // View\r\n        private Button mBtnAdd;\r\n        private Button mBtnSub;\r\n        private Text mCountText;\r\n        \r\n        // Model\r\n        private ICounterAppModel mModel;\r\n\r\n        void Start()\r\n        {\r\n            // è·å–æ¨¡å‹\r\n            mModel = this.GetModel<ICounterAppModel>();\r\n            \r\n            // View ç»„ä»¶è·å–\r\n            mBtnAdd = transform.Find(\"BtnAdd\").GetComponent<Button>();\r\n            mBtnSub = transform.Find(\"BtnSub\").GetComponent<Button>();\r\n            mCountText = transform.Find(\"CountText\").GetComponent<Text>();\r\n            \r\n            \r\n            // ç›‘å¬è¾“å…¥\r\n            mBtnAdd.onClick.AddListener(() =>\r\n            {\r\n                // äº¤äº’é€»è¾‘\r\n                this.SendCommand<IncreaseCountCommand>();\r\n            });\r\n            \r\n            mBtnSub.onClick.AddListener(() =>\r\n            {\r\n                // äº¤äº’é€»è¾‘\r\n                this.SendCommand(new DecreaseCountCommand(/* è¿™é‡Œå¯ä»¥ä¼ å‚ï¼ˆå¦‚æœæœ‰ï¼‰ */));\r\n            });\r\n\r\n            // è¡¨ç°é€»è¾‘\r\n            mModel.Count.RegisterWithInitValue(newCount => // -+\r\n            {\r\n                UpdateView();\r\n\r\n            }).UnRegisterWhenGameObjectDestroyed(gameObject);\r\n        }\r\n        \r\n        void UpdateView()\r\n        {\r\n            mCountText.text = mModel.Count.ToString();\r\n        }\r\n\r\n        public IArchitecture GetArchitecture()\r\n        {\r\n            return CounterApp.Interface;\r\n        }\r\n\r\n        private void OnDestroy()\r\n        {\r\n          \r\n            mModel = null;\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n**å…¸å‹çš„ QFramework.Toolkits ä»£ç **\r\n\r\n```csharp\r\nusing QFramework;\r\nusing UnityEngine;\r\nusing UnityEngine.UI;\r\n\r\nnamespace liangxiegame\r\n{\r\n    public partial class UIGamePanel : UIPanel\r\n    {\r\n        private ResLoader mResLoader;\r\n        \r\n        protected override void OnInit(IUIData uiData = null)\r\n        {\r\n            mResLoader = ResLoader.Allocate();\r\n            \r\n            mResLoader.LoadSync<GameObject>(\"GameplayRoot\")\r\n                .Instantiate()\r\n                .Identity()\r\n                .GetComponent<GameplayRoot>()\r\n                .InitGameplayRoot();\r\n            \r\n            \r\n            BtnPause.onClick.AddListener(() =>\r\n            {\r\n                AudioKit.PlaySound(\"btn_click\");\r\n                \r\n                ActionKit.Sequence()\r\n                    .Callback(() => BtnPause.interactable = false)\r\n                    .Callback(() => BtnPause.PlayBtnFadeAnimation())\r\n                    .Delay(0.3f)\r\n                    .Callback(() => UIKit.OpenPanel<UIPausePanel>())\r\n                    .Start(this);\r\n            });\r\n        }\r\n\r\n        protected override void OnClose()\r\n        {\r\n            mResLoader.Recycle2Cache();\r\n            mResLoader = null;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n## å¤§é‡çš„ç¤ºä¾‹\r\n\r\n### å°æ¸¸æˆã€Šç‚¹ç‚¹ç‚¹ã€‹\r\n\r\n![b5966b31-f004-4b5f-a38d-25753fb2eb8f.gif](https://file.liangxiegame.com/5a10aa95-4c93-4dae-acec-667a113c30ca.gif)\r\n\r\n### å°æ¸¸æˆã€ŠFlappyBirdã€‹\r\n\r\n![430b7f31-508d-4569-aa51-b75d5553b8c4.gif](https://file.liangxiegame.com/9845122b-93d9-4106-a027-2d7c129a096a.gif)\r\n\r\nä½œè€…ï¼šç‹äºŒ soso <https://github.com/so-sos-so>\r\n\r\n### å°æ¸¸æˆã€ŠCube Masterã€‹\r\n\r\n![b1334ef2-f6d4-4a9c-a5c4-b6cd6508595c.gif](https://file.liangxiegame.com/f51abab0-9dc9-478b-b1f1-67f2cd588477.gif) ä½œè€…ï¼šç‹äºŒ soso <https://github.com/so-sos-so>\r\n\r\n### ç®€æ˜“å…³å¡ç¼–è¾‘å™¨2D\r\n\r\n![c57c20cf-5ee6-4346-8be8-8ad1ea2d63b9.gif](https://file.liangxiegame.com/6492498b-6c22-478d-8785-9f43453c34db.gif)\r\n\r\n![ea2cb545-4b5b-4d02-b494-dde4afa4e190.gif](https://file.liangxiegame.com/34b775c6-6a49-4141-9b9a-1377a6c15673.gif)\r\n\r\n### å°æ¸¸æˆã€Šè´ªåƒè›‡ã€‹\r\n\r\n![fb907355-c06c-4bde-8ca3-5638ba9b3ef7.gif](https://file.liangxiegame.com/ac70d14e-ea89-445d-899e-06f18f11f8d1.gif)\r\n\r\nä½œè€…ï¼šä¸€åªçš®çš®è™¾ <https://gitee.com/PantyNeko/>\r\n\r\nä»¥ä¸Šçš„ç¤ºä¾‹éƒ½æ˜¯ç”± QFramework.cs åˆ¶ä½œè€Œæˆçš„å®˜æ–¹ç¤ºä¾‹ã€‚\r\n\r\nå¦å¤–è¿˜æœ‰ç¾¤å‹åˆ¶ä½œçš„å¼€æºæ¸¸æˆ\r\n\r\n### CrazyCar\r\n\r\nUnityåˆ¶ä½œçš„è”æœºèµ›è½¦æ¸¸æˆï¼Œåå°ä¸ºSpringBoot + Mybatisï¼›æ¸¸æˆé‡‡ç”¨QFrameworkæ¡†æ¶ï¼Œæ”¯æŒKCPå’ŒWebSocketç½‘ç»œ(å•†ç”¨çº§)\r\n\r\n![Login.jpg](https://file.liangxiegame.com/0ab6cb1d-2374-4aa2-b27d-f04eb72792cd.png)\r\n\r\n![Setting.png](https://file.liangxiegame.com/a113dcba-9ba8-4a40-b000-be3b61719ecc.png)\r\n\r\n![Homepage.png](https://file.liangxiegame.com/9075c10d-6d21-411c-b1a4-7f92a08f9bfa.png)\r\n\r\n![Avatar.png](https://file.liangxiegame.com/32b48b5b-cdcc-433e-b1b2-4b1333211a70.png) ![Profile.png](https://file.liangxiegame.com/bda476e4-0ede-4fd9-a5bb-e993bce8a786.png)\r\n\r\n![Equip.png](https://file.liangxiegame.com/158b0ce0-6e67-47c5-81b5-cee6388dd99c.png)\r\n\r\n![Rank.png](https://file.liangxiegame.com/2bd0ef1f-d639-48e8-8c48-320995d20de4.png)\r\n\r\n![TimeTrial.png](https://file.liangxiegame.com/aa337718-b868-41d2-bc6b-2ef51c157481.png) ![Match.png](https://file.liangxiegame.com/06157781-3271-438c-bf3f-613e6ec00fb0.png)\r\n\r\nä½œè€…: TastSone  <https://github.com/TastSong>\r\n\r\né¡¹ç›®åœ°å€: <https://github.com/TastSong/CrazyCar>\r\n\r\n## æ¡ˆä¾‹ã€Šäº”å­æ£‹ã€‹\r\n\r\n![2f4dacbd-e59b-43af-b7be-44220fac664e.png](https://file.liangxiegame.com/a76bc24a-1828-46f2-94c5-8bd24884f932.png)\r\n\r\næºç åœ°å€:\r\n\r\n*   github <https://github.com/liangxiegame/QFramework>\r\n*   gitee <https://gitee.com/liangxiegame/QFramework>\r\n\r\n![image.png](https://file.liangxiegame.com/3abceb70-2d17-4457-aff1-ef8a6ef4bd66.png)\r\n\r\n## æ¡ˆä¾‹ã€Šæ‰«é›·ã€‹\r\n\r\nä½œè€…ï¼šJoker\r\n\r\n![æ‰«é›·](https://file.liangxiegame.com/4c42d227-11b9-4485-8884-a2f04a62460c.png)\r\n\r\næºç åœ°å€:\r\n\r\n*   github <https://github.com/liangxiegame/QFramework>\r\n*   gitee <https://gitee.com/liangxiegame/QFramework>\r\n\r\n![image.png](https://file.liangxiegame.com/6482d4eb-5af9-4932-a2f8-2164cb22e931.png)\r\n\r\n## æœ¬æ•™ç¨‹ç®€ä»‹\r\n\r\nåœ¨ä¸Šä¸€ç‰ˆå®˜æ–¹æ•™ç¨‹ã€ŠQFramework ä½¿ç”¨æŒ‡å— 2020ã€‹å†™å®Œä¹‹åï¼Œç»è¿‡ä¸¤å¹´ï¼ˆ2022 å¹´ï¼‰ï¼ŒQFramework æ”¹è¿›äº†å¾ˆå¤šå·¥å…·çš„ä½¿ç”¨ä½“éªŒï¼ŒåŒæ—¶åˆæ–°å¢äº†ä¸€å¥—éå¸¸ç®€å•ä¸”å¼ºå¤§çš„å¼€å‘æ¶æ„ï¼Œè¿™æ ·å°±è¿æ¥äº† QFramework ç¬¬ä¸€ä¸ªæ­£å¼ç‰ˆæœ¬ QFramework v1ï¼Œè¿™æ ·å°±å¯¼è‡´å¯¼è‡´ QFramework çš„æ¨èä½¿ç”¨çš„ API å‘ç”Ÿäº†ä¸€äº›å˜åŒ–ï¼Œè™½ç„¶æ—§ç‰ˆæœ¬çš„ API è¿˜èƒ½ç”¨ï¼Œä½†æ˜¯æŒ‰ç…§ã€ŠQFramework ä½¿ç”¨æŒ‡å— 2020ã€‹å†™çš„å¾ˆå¤šä»£ç ä¼šæŠ¥å¾ˆå¤šè­¦å‘Šï¼Œè¿™ä¼šè®©å¾ˆå¤šåˆå­¦è€…æ„Ÿåˆ°ç–‘æƒ‘ï¼Œæ‰€ä»¥ç¬”è€…æ‰“ç®—åœ¨ã€ŠQFramework ä½¿ç”¨æŒ‡å— 2020ã€‹çš„åŸºç¡€ä¸Šï¼Œé‡åˆ¶ä¸€å¥—æ–°çš„ QFramework ä½¿ç”¨æ•™ç¨‹ï¼Œåå­—å«åšã€ŠQFramework v1.0 ä½¿ç”¨æŒ‡å—ã€‹ã€‚\r\n\r\næ•™ç¨‹åˆ†ä¸ºæ¶æ„ç¯‡å’Œå·¥å…·é›†ç¯‡ï¼Œæ¶æ„ç¯‡ç€é‡ä»‹ç» QFramework.cs è¿™å¥—æ¶æ„å…¥é—¨ä»¥åŠä½¿ç”¨è§„èŒƒï¼Œå·¥å…·ç¯‡ç€é‡ä»‹ç» QFramework ä¸­çš„å¤§é‡çš„å·¥å…·é›†çš„ä½¿ç”¨ã€‚\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>ix ç‹¬ç«‹æ¸¸æˆå­¦é™¢ & Unity è¿›é˜¶å°ç­åœ°å€ï¼š[https://www.gamepixedu.com/](https://www.gamepixedu.com/)\r\n# 02.Roadmap-è·¯çº¿å›¾\r\n\r\n**å°†æ¥ä¹Ÿè®¸**\r\n* sLuaã€toLuaã€xLuaã€ILRuntime æ”¯æŒ\r\n* Pro ç‰ˆæœ¬æ¨è¿›\r\n  * Architecture Designer ä½¿ç”¨å¯è§†åŒ–è®¾è®¡æ¶æ„ï¼Œä¸€é”®ç”Ÿæˆæ¶æ„ä»£ç \r\n* ResKit æ”¯æŒè‡ªå®šä¹‰ç›®å½•æ–¹æ¡ˆ\r\n* UIKit æ”¯æŒå¤šä¸ª Canvas Root å’Œ æ‘„åƒæœºæ–¹æ¡ˆ\r\n* CodeGenKit åŒæ­¥\r\n* æ’ä»¶å¹³å°çš„æ’ä»¶æ•´ç†\r\n* ResKit é‡æ„ï¼ˆæ”¯æŒçƒ­æ›´ï¼‰\r\n* UIKit é‡æ„\r\n* AudioKit é‡æ„\r\n\r\n**v1.0.x**ï¼ˆå½“å‰ï¼‰\r\n* QFramework.Toolkits æ”¶å½•å››ä¸ªç¤ºä¾‹\r\n* ç¼–è¾‘å™¨ä½¿ç”¨ä½“éªŒæ”¹è¿›\r\n* QFramework Pro v0.5 Architecture Designer å‘å¸ƒ\r\n\r\n**v0.16.x**ï¼ˆå·²å®Œæˆï¼‰\r\n*ã€ŠQFramework v1.0 ä½¿ç”¨æŒ‡å—ã€‹ å®Œæˆ\r\n* ç¼–è¾‘å™¨æ–‡æ¡£ æ”¯æŒ gif åŠ¨ç”» å’Œ ç®€å•çš„ C# ä»£ç é«˜äº®\r\n* ç¤ºä¾‹å®Œå–„\r\n\r\n**v0.15.x**ï¼ˆå·²å®Œæˆï¼‰\r\n* æ–‡æ¡£æ•´ç† & åœ¨ç¼–è¾‘å™¨å†…éƒ¨å†…ç½®\r\n\r\n**v0.14.xï¼ˆå·²å®Œæˆï¼‰**\r\n* Asset Store å…¼å®¹ & å‡å°‘ç¬¬ä¸‰æ–¹ä¾èµ–\r\n\r\n**v0.11.xï¼ˆå·²å®Œæˆï¼‰**\r\n* æ‰“ dll ä¼˜åŒ–æ—§è®¾å¤‡çš„ç¼–è¯‘é€Ÿåº¦\r\n\r\n**v0.10.xï¼ˆå·²å®Œæˆï¼‰**\r\n* ILRuntime æ”¯æŒï¼ˆåªå®Œæˆä¸€éƒ¨åˆ†ï¼Œåç»­å†æ”¯æŒï¼‰\r\n\r\n**v0.9.xï¼ˆå·²å®Œæˆï¼‰**\r\n* å•å…ƒæµ‹è¯•è¦†ç›–\r\n* PackageKitã€Frameworkã€Extensions çš„ç¤ºä¾‹å…¨éƒ¨è¦†ç›–\r\n* 3 ~ 5 ä¸ª Demo å‘å¸ƒ\r\n\r\n**v0.2.x ~ v0.8.xï¼ˆå·²å®Œæˆï¼‰**\r\n* PackageManager ç‹¬ç«‹æˆ PackageKit\r\n* å‰¥ç¦»æ‰ç¬¬ä¸‰æ–¹æ’ä»¶ï¼Œæœ€ä¸ºæ‰©å±•æ’ä»¶æ”¯æŒ\r\n* æ’ä»¶å¹³å°å‘å¸ƒï¼šhttps://liangxiegame.com/qf/package\r\n* å‘½åç©ºé—´ä» QF æ”¹å› QFramework\r\n* å¤§é‡ Bug ä¿®å¤ã€å¤§é‡ç¤ºä¾‹ç¼–å†™\r\n* äº”å­æ£‹ Demo å‘å¸ƒï¼šDemoï¼šäº”å­æ£‹\r\n* QFramework ä½¿ç”¨æŒ‡å— 2020 å®Œç»“ï¼šQFramework ä½¿ç”¨æŒ‡å— 2020\r\n\r\n**v0.1.xï¼ˆå·²å®Œæˆ)**\r\n* UniRxã€Zenjectã€uFrameã€JsonDotnetã€CatLib é›†æˆå’Œå¢å¼º\r\n* IOC å¢åŠ  IOC éƒ¨åˆ†\r\n* æ¡†æ¶è‡ªåŠ¨æ›´æ–°æœºåˆ¶ => PackageManager\r\n* å‘½åç©ºé—´ä» QFramework æ”¹æˆ QF\r\n\r\n**v0.0.xï¼ˆå·²å®Œæˆ**\r\n* æ¡†æ¶æ­å»º 2017 çš„å·¥å…·é›†æ”¶å½•\r\n* æ¡†æ¶æ­å»º 2018 çš„ ResKit å’Œ UI Kit æ¨¡å—å®ç°\r\n* ActionKit æ¨¡å—å®ç°\r\n* Manager Of Managers æ”¯æŒ\r\n* æ¡†æ¶è‡ªåŠ¨æ›´æ–°æœºåˆ¶\r\n\r\n* Pro ç‰ˆæœ¬ï¼ˆå¼€æºæ”¶è´¹ç‰ˆæœ¬ï¼‰\r\n  * CoreKitProï¼ˆæœªå¼€å§‹ï¼‰\r\n  * LuaKit-è½»é‡çº§ Lua è„šæœ¬æ–¹æ¡ˆï¼Œç”± MoonSharp é­”æ”¹è€Œæ¥(æœªå¼€å§‹)\r\n  * CodeGenKitPro ä»£ç ç”Ÿæˆåº“\r\n  * ActionKitPro(æœªå¼€å§‹)\r\n  * ResKitPro(æœªå¼€å§‹)\r\n  * UIKitPro\r\n  * LuaKitProï¼ˆåŸºäº xLua)(æœªå¼€å§‹)\r\n  * ILRuntimeKitProï¼ˆåŸºäº ILRuntime çš„çƒ­æ›´æ¡†æ¶ï¼‰(æœªå¼€å§‹)\r\n  * DocKit-å¯è§†åŒ–ç¼–ç¨‹å†™æ–‡æ¡£ï¼Œä¸€é”®ç”Ÿæˆç±»å›¾åŠŸèƒ½ï¼ˆè¿›è¡Œä¸­ï¼‰\r\n  * DialogueKit-å¯¹è¯ç¼–è¾‘å™¨ï¼ˆæœªå¼€å§‹ï¼‰\r\n  * InventoryKit-èƒŒåŒ…ç³»ç»Ÿï¼ˆæœªå¼€å§‹ï¼‰\r\n  * ArchitectureKit-æ¶æ„è®¾è®¡å™¨ï¼ˆæœªå¼€å§‹ï¼‰\r\n  * QuestKit-ä»»åŠ¡ç¼–è¾‘å™¨ï¼ˆæœªå¼€å§‹ï¼‰\r\n  * å­˜æ¡£-æœªå¼€å§‹ï¼‰\r\n\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n# 2. æ¶æ„ç¯‡ï¼šQFramework.cs\r\n# 01. QFramework æ¶æ„ç®€ä»‹\r\n\r\nQFramework æ¶æ„æ˜¯ä¸€å¥—ç®€å•ã€å¼ºå¤§ã€æ˜“ä¸Šæ‰‹çš„ç³»ç»Ÿè®¾è®¡æ¶æ„ã€‚\r\n\r\nè¿™å¥—æ¶æ„çš„ç‰¹æ€§å¦‚ä¸‹ï¼š\r\n* åŸºäº MVC\r\n* åˆ†å±‚\r\n* (å¯é€‰)CQRS æ”¯æŒ\r\n* (å¯é€‰)äº‹ä»¶é©±åŠ¨\r\n* (å¯é€‰)æ•°æ®é©±åŠ¨\r\n* (å¯é€‰)IOC æ¨¡å—åŒ–\r\n* (å¯é€‰)é¢†åŸŸé©±åŠ¨è®¾è®¡ï¼ˆDDDï¼‰æ”¯æŒ\r\n* ç¬¦åˆ SOLID åŸåˆ™\r\n* æºç ä¸åˆ° 1000 è¡Œ\r\n\r\n## æä¾›çš„æ¶æ„å›¾\r\n![image.png](https://file.liangxiegame.com/5e9f1682-1907-47a2-a23a-2d5a4ba2e7a4.png)\r\n## ä¸¾ä¸ªä¾‹å­ï¼ˆä¸€å›¾èƒœåƒè¨€ğŸ˜‚ï¼‰\r\n![](https://file.liangxiegame.com/6bf42306-0b2a-4417-bbcf-354af0132596.png)\r\n\r\nè¿™ä¸¤å¼ å›¾ç°åœ¨å¤§å®¶å¯èƒ½è¿˜çœ‹ä¸å¤ªæ‡‚ï¼Œæ²¡å…³ç³»ï¼Œæˆ‘ä»¬è¿‡ä¸€éå¿«é€Ÿå…¥é—¨å°±æ‡‚äº†ã€‚\r\n\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n# 02. QFramework çš„ MVC\r\nQFramework åŸºäº MVC çš„å¼€å‘æ¨¡å¼\r\n\r\næ‰€ä»¥æˆ‘ä»¬å…ˆä»æœ€ç†ŸçŸ¥çš„ MVC æ¶æ„å¼€å§‹ç€æ‰‹ QFramework çš„å­¦ä¹ ã€‚\r\n\r\næˆ‘ä»¬å…ˆåšä¸€ä¸ªéå¸¸ç®€å•çš„è®¡æ•°å™¨åº”ç”¨ã€‚\r\n\r\n\r\né¦–å…ˆæˆ‘ä»¬ä½¿ç”¨ UGUI åˆ›å»ºä¸€ä¸ªæœ€ç®€å•çš„ç•Œé¢ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\r\n\r\n![image.png](https://file.liangxiegame.com/902ef543-64b1-45ad-ae45-ea180ebec133.png)\r\n\r\nåœºæ™¯ç»“æ„å¦‚ä¸‹æ‰€ç¤ºï¼š\r\n\r\n![image.png](https://file.liangxiegame.com/1db2c50c-cb8b-4b1c-92f6-432ff4083105.png)\r\n\r\nå¤åˆ¶å®Œä¹‹åï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªè„šæœ¬å«åš CounterAppControllerï¼Œä»£ç å¦‚ä¸‹ï¼š\r\n\r\n```csharp\r\nusing UnityEngine;\r\nusing UnityEngine.UI;\r\n\r\nnamespace QFramework.Example\r\n{\r\n    // Controller\r\n    public class CounterAppController : MonoBehaviour\r\n    {\r\n        // View\r\n        private Button mBtnAdd;\r\n        private Button mBtnSub;\r\n        private Text mCountText;\r\n        \r\n        // Model\r\n        private int mCount = 0;\r\n\r\n        void Start()\r\n        {\r\n            // View ç»„ä»¶è·å–\r\n            mBtnAdd = transform.Find(\"BtnAdd\").GetComponent<Button>();\r\n            mBtnSub = transform.Find(\"BtnSub\").GetComponent<Button>();\r\n            mCountText = transform.Find(\"CountText\").GetComponent<Text>();\r\n            \r\n            \r\n            // ç›‘å¬è¾“å…¥\r\n            mBtnAdd.onClick.AddListener(() =>\r\n            {\r\n                // äº¤äº’é€»è¾‘\r\n                mCount++;\r\n                // è¡¨ç°é€»è¾‘\r\n                UpdateView();        \r\n            });\r\n            \r\n            mBtnSub.onClick.AddListener(() =>\r\n            {\r\n                // äº¤äº’é€»è¾‘\r\n                mCount--;\r\n                // è¡¨ç°é€»è¾‘\r\n                UpdateView();\r\n            });\r\n            \r\n            UpdateView();\r\n        }\r\n        \r\n        void UpdateView()\r\n        {\r\n            mCountText.text = mCount.ToString();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nä»£ç å¾ˆç®€å•ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸ç®€æ˜“çš„ MVC çš„å®ç°ã€‚\r\n\r\næˆ‘ä»¬å°†æ­¤è„šæœ¬æŒ‚åœ¨ Canvas èŠ‚ç‚¹ä¸Šï¼Œè¿è¡Œ Unity ç»“æœå¦‚ä¸‹ï¼š\r\n\r\n\r\n![282fcc3c-96fa-46e1-b4c6-7f4528b04271.gif](https://file.liangxiegame.com/1b934e4f-8f72-44c2-800a-a97f1e707950.gif)\r\n\r\néå¸¸ç®€å•ã€‚\r\n\r\næ­¤æ—¶æˆ‘ä»¬è¿˜æ²¡æœ‰å¯¼å…¥æˆ‘ä»¬çš„ QFrameworkï¼Œä¸ç€æ€¥ï¼Œæˆ‘ä»¬å…ˆçœ‹çœ‹ä»£ç ä¸­æ‰€ä»‹ç»çš„æ¦‚å¿µã€‚\r\n\r\né¦–å…ˆæ˜¯ Modelã€Viewã€Controller\r\n\r\nModel çš„ä»£ç å¦‚ä¸‹:\r\n```csharp\r\n// Model\r\nprivate int mCount = 0;\r\n```\r\n\r\néå¸¸ç®€å•ï¼Œåªæœ‰ä¸€ä¸ªæˆå‘˜å˜é‡ï¼Œä½†æ˜¯åœ¨è¿™é‡Œå®ƒå…¶å®å¹¶ä¸ç®—æ˜¯ä¸€ä¸ª Modelï¼Œä»–åªæ˜¯è¦åœ¨ View ä¸­æ˜¾ç¤ºçš„ä¸€ä¸ªæ•°æ®è€Œå·²ï¼Œå…·ä½“ä¸ºä»€ä¹ˆä¸æ˜¯ Model æˆ‘ä»¬åœ¨åè¾¹å†è¯´ã€‚\r\n\r\nView çš„ä»£ç å¦‚ä¸‹:\r\n```csharp\r\n// View\r\nprivate Button mBtnAdd;\r\nprivate Button mBtnSub;\r\nprivate Text mCountText;\r\n```\r\n\r\nView çš„ä»£ç ä¹Ÿå¾ˆç®€å•ï¼ŒView åœ¨ QFramework çš„ MVC å®šä¹‰é‡Œå°±æ˜¯æä¾›å…³é”®ç»„ä»¶çš„å¼•ç”¨ï¼Œæ¯”å¦‚è¿™ä¸‰ä¸ªç»„ä»¶æ˜¯è¦åœ¨ Controller ä»£ç é‡Œè¦ç”¨åˆ°çš„ã€‚è€Œå…¶ä»–çš„ä¾‹å¦‚ Canvas Scaler ç­‰è¿™äº›ç»„ä»¶ç›®å‰ Controller ä¸éœ€è¦ï¼Œæ‰€ä»¥å°±ä¸ç”¨å£°æ˜ã€‚\r\n\r\nController çš„ä»£ç ï¼Œå¦‚ä¸‹ï¼š\r\n\r\n```csharp\r\nvoid Start()\r\n{\r\n    ...\r\n      \r\n    // ç›‘å¬è¾“å…¥\r\n    mBtnAdd.onClick.AddListener(() =>\r\n    {\r\n        // äº¤äº’é€»è¾‘\r\n        mCount++;\r\n        // è¡¨ç°é€»è¾‘\r\n        UpdateView();        \r\n    });\r\n            \r\n    mBtnSub.onClick.AddListener(() =>\r\n    {\r\n        // äº¤äº’é€»è¾‘\r\n        mCount--;\r\n        // è¡¨ç°é€»è¾‘\r\n        UpdateView();\r\n    });\r\n            \r\n    UpdateView();\r\n}\r\n        \r\nvoid UpdateView()\r\n{\r\n    mCountText.text = mCount.ToString();\r\n}\r\n```\r\n\r\nä»¥ä¸Šå°±æ˜¯ Controller çš„ä»£ç ã€‚\r\n\r\nå¥½äº†ï¼Œæˆ‘ä»¬å›å¤´å†çœ‹ä¸‹å®Œæ•´ä»£ç ã€‚\r\n\r\n\r\n```csharp\r\nusing UnityEngine;\r\nusing UnityEngine.UI;\r\n\r\nnamespace QFramework.Example\r\n{\r\n    // Controller\r\n    public class CounterAppController : MonoBehaviour\r\n    {\r\n        // View\r\n        private Button mBtnAdd;\r\n        private Button mBtnSub;\r\n        private Text mCountText;\r\n        \r\n        // Model\r\n        private int mCount = 0;\r\n\r\n        void Start()\r\n        {\r\n            // View ç»„ä»¶è·å–\r\n            mBtnAdd = transform.Find(\"BtnAdd\").GetComponent<Button>();\r\n            mBtnSub = transform.Find(\"BtnSub\").GetComponent<Button>();\r\n            mCountText = transform.Find(\"CountText\").GetComponent<Text>();\r\n            \r\n            \r\n            // ç›‘å¬è¾“å…¥\r\n            mBtnAdd.onClick.AddListener(() =>\r\n            {\r\n                // äº¤äº’é€»è¾‘\r\n                mCount++;\r\n                // è¡¨ç°é€»è¾‘\r\n                UpdateView();        \r\n            });\r\n            \r\n            mBtnSub.onClick.AddListener(() =>\r\n            {\r\n                // äº¤äº’é€»è¾‘\r\n                mCount--;\r\n                // è¡¨ç°é€»è¾‘\r\n                UpdateView();\r\n            });\r\n            \r\n            UpdateView();\r\n        }\r\n        \r\n        void UpdateView()\r\n        {\r\n            mCountText.text = mCount.ToString();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nç›®å‰åƒè®¡æ•°å™¨è¿™æ ·çš„é€»è¾‘ï¼Œä»¥ä¸Šçš„ä»£ç å®Œå…¨æ²¡æœ‰é—®é¢˜ã€‚\r\n\r\nä½†æ˜¯æˆ‘ä»¬è¦ç”¨å‘å±•çš„çœ¼å…‰çœ‹å¾…é—®é¢˜ã€‚\r\n\r\nå‡å¦‚è¿™æ˜¯ä¸€ä¸ªåˆåˆ›é¡¹ç›®ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥å¾ˆæœ‰å¯èƒ½éœ€è¦æ·»åŠ å¤§é‡çš„ä¸šåŠ¡é€»è¾‘ã€‚\r\n\r\nå…¶ä¸­å¾ˆæœ‰å¯èƒ½è®© mCount åœ¨å¤šä¸ª Controller ä¸­ä½¿ç”¨ï¼Œç”šè‡³éœ€è¦é’ˆå¯¹ mCount è¿™ä¸ªæ•°æ®å†™ä¸€äº›å…¶ä»–é€»è¾‘ï¼Œæ¯”å¦‚å¢åŠ  mCount åˆ™å¢åŠ  5 ä¸ªåˆ†æ•°ï¼Œæˆ–è€… mCount éœ€è¦å­˜å‚¨ç­‰ï¼Œæ€»ä¹‹ mCount åœ¨æœªæ¥å¯èƒ½ä¼šå‘å±•æˆä¸€ä¸ªéœ€è¦å…±äº«çš„æ•°æ®ï¼Œè€Œ mCount ç›®å‰åªå±äº CounterAppControllerï¼Œæ˜¾ç„¶åœ¨æœªæ¥è¿™æ˜¯ä¸å¤Ÿç”¨çš„ã€‚\r\n\r\næˆ‘ä»¬å°±éœ€è¦è®© mCount æˆå‘˜å˜é‡å˜æˆä¸€ä¸ªå…±äº«çš„æ•°æ®ï¼Œæœ€å¿«çš„åšæ³•æ˜¯å§ mCount å˜é‡å˜æˆé™æ€å˜é‡æˆ–è€…å•ä¾‹ï¼Œä½†æ˜¯è¿™æ ·è™½ç„¶å†™èµ·æ¥å¾ˆå¿«ï¼Œä½†æ˜¯åœ¨åæœŸç»´æŠ¤é¢åº¦æ—¶å€™ä¼šäº§ç”Ÿå¾ˆå¤šçš„é—®é¢˜ã€‚\r\n\r\nè€Œ QFramework æ¶æ„æä¾›äº† Model çš„æ¦‚å¿µã€‚\r\n\r\næˆ‘ä»¬æ¥ä½¿ç”¨ä¸€ä¸‹ã€‚\r\n\r\næˆ‘ä»¬å…ˆå¯¼å…¥ QFramework æ¶æ„ã€‚\r\n\r\nå¯¼å…¥ QFramework çš„æ–¹å¼éå¸¸ç®€å•ï¼Œåªéœ€è¦å¤åˆ¶ QFramework.cs çš„ä»£ç åˆ° Unity å·¥ç¨‹ä¸­å³å¯ã€‚\r\n\r\nQFramework.cs åœ°å€ï¼š\r\n* Gitee: https://gitee.com/liangxiegame/QFramework/blob/master/QFramework.cs\r\n* Github: https://github.com/liangxiegame/QFramework/blob/master/QFramework.cs\r\n\r\nå¯¼å…¥ä¹‹åï¼Œæˆ‘ä»¬å°† CounterAppController çš„ä»£ç æ”¹æˆå¦‚ä¸‹ï¼š\r\n\r\n```csharp\r\nusing UnityEngine;\r\nusing UnityEngine.UI;\r\n\r\nnamespace QFramework.Example\r\n{\r\n    \r\n    // 1. å®šä¹‰ä¸€ä¸ª Model å¯¹è±¡\r\n    public class CounterAppModel : AbstractModel\r\n    {\r\n        public int Count;\r\n        \r\n        protected override void OnInit()\r\n        {\r\n            Count = 0;\r\n        }\r\n    }\r\n\r\n\r\n    // 2.å®šä¹‰ä¸€ä¸ªæ¶æ„ï¼ˆæä¾› MVCã€åˆ†å±‚ã€æ¨¡å—ç®¡ç†ç­‰ï¼‰\r\n    public class CounterApp : Architecture<CounterApp>\r\n    {\r\n        protected override void Init()\r\n        {\r\n            // æ³¨å†Œ Model\r\n            this.RegisterModel(new CounterAppModel());\r\n        }\r\n    }\r\n\r\n    // Controller\r\n    public class CounterAppController : MonoBehaviour , IController /* 3.å®ç° IController æ¥å£ */\r\n    {\r\n        // View\r\n        private Button mBtnAdd;\r\n        private Button mBtnSub;\r\n        private Text mCountText;\r\n        \r\n        // 4. Model\r\n        private CounterAppModel mModel;\r\n\r\n        void Start()\r\n        {\r\n            // 5. è·å–æ¨¡å‹\r\n            mModel = this.GetModel<CounterAppModel>();\r\n            \r\n            // View ç»„ä»¶è·å–\r\n            mBtnAdd = transform.Find(\"BtnAdd\").GetComponent<Button>();\r\n            mBtnSub = transform.Find(\"BtnSub\").GetComponent<Button>();\r\n            mCountText = transform.Find(\"CountText\").GetComponent<Text>();\r\n            \r\n            \r\n            // ç›‘å¬è¾“å…¥\r\n            mBtnAdd.onClick.AddListener(() =>\r\n            {\r\n                // 6. äº¤äº’é€»è¾‘\r\n                mModel.Count++;\r\n                // è¡¨ç°é€»è¾‘\r\n                UpdateView();        \r\n            });\r\n            \r\n            mBtnSub.onClick.AddListener(() =>\r\n            {\r\n                // 7. äº¤äº’é€»è¾‘\r\n                mModel.Count--;\r\n                // è¡¨ç°é€»è¾‘\r\n                UpdateView();\r\n            });\r\n            \r\n            UpdateView();\r\n        }\r\n        \r\n        void UpdateView()\r\n        {\r\n            mCountText.text = mModel.Count.ToString();\r\n        }\r\n\r\n        // 3.æŒ‡å®šæ¶æ„\r\n        public IArchitecture GetArchitecture()\r\n        {\r\n            return CounterApp.Interface;\r\n        }\r\n\r\n        private void OnDestroy()\r\n        {\r\n            // 8. å°† Model è®¾ç½®ä¸ºç©º\r\n            mModel = null;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nå¥½äº†ï¼Œä»£ç å¼•å…¥äº†ä¸¤ä¸ªæ–°çš„æ¦‚å¿µï¼Œä¸€ä¸ªæ˜¯ Architectureï¼Œå¦ä¸€ä¸ªæ˜¯ Modelã€‚\r\n\r\nArchitecture ç”¨äºç®¡ç†æ¨¡å—ï¼Œæˆ–è€…è¯´ Architecture æä¾›ä¸€æ•´å¥—æ¶æ„çš„è§£å†³æ–¹æ¡ˆï¼Œè€Œæ¨¡å—ç®¡ç†å’Œæä¾› MVC åªæ˜¯å…¶åŠŸèƒ½çš„ä¸€å°éƒ¨åˆ†ã€‚\r\n\r\næˆ‘ä»¬è¿è¡Œä¸€ä¸‹ Unity ç»“æœå¦‚ä¸‹ï¼š\r\n\r\n![282fcc3c-96fa-46e1-b4c6-7f4528b04271.gif](https://file.liangxiegame.com/aa28ef15-11e9-49f2-9536-9db18b025a8f.gif)\r\n\r\nè¿è¡Œæ­£ç¡®ã€‚\r\n\r\nå¥½äº†ï¼Œæˆ‘ä»¬ä¸Šæ‰‹äº† QFramework æä¾›çš„ MVC æ¶æ„ã€‚\r\n\r\nè¿™é‡Œè¦æ³¨æ„ä¸€ç‚¹ï¼ŒModel çš„å¼•å…¥æ˜¯ä¸ºäº†è§£å†³æ•°æ®å…±äº«çš„é—®é¢˜ï¼Œè€Œä¸æ˜¯è¯´å•åªæ˜¯ä¸ºäº†è®©æ•°æ®å’Œè¡¨ç°åˆ†ç¦»ï¼Œè¿™ä¸€ç‚¹æ˜¯éå¸¸é‡è¦çš„ä¸€ç‚¹ã€‚\r\n\r\næ•°æ®å…±äº«åˆ†ä¸¤ç§ï¼šç©ºé—´ä¸Šçš„å…±äº«å’Œæ—¶é—´ä¸Šçš„å…±äº«ã€‚\r\n\r\nç©ºé—´çš„å…±äº«å¾ˆç®€å•ï¼Œå°±æ˜¯å¤šä¸ªç‚¹çš„ä»£ç éœ€è¦è®¿é—® Model é‡Œçš„æ•°æ®ã€‚\r\n\r\næ—¶é—´ä¸Šçš„å…±äº«å°±æ˜¯å­˜å‚¨åŠŸèƒ½ï¼Œå°†ä¸Šä¸€æ¬¡å…³é—­ App ä¹‹å‰çš„æ•°æ®å­˜å‚¨åˆ°ä¸€ä¸ªæ–‡ä»¶é‡Œï¼Œè¿™æ¬¡æ‰“å¼€æ—¶è·å¾—ä¸Šæ¬¡å…³é—­ App ä¹‹å‰çš„æ•°æ®ã€‚\r\n\r\nè™½ç„¶æˆ‘ä»¬ä¸Šæ‰‹äº† MVCï¼Œä½†æ˜¯è¿™æ ·çš„ MVC è¿˜æœ‰å¾ˆå¤šé—®é¢˜ï¼Œæˆ‘ä»¬ä¸‹ä¸€ç¯‡ç»§ç»­è§£å†³ã€‚\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n\r\n\r\n\r\n\r\n# 03. å¼•å…¥ Command\r\n\r\næˆ‘ä»¬å›é¡¾ä¸€ä¸‹ç›®å‰çš„ä»£ç ï¼Œå¦‚ä¸‹ï¼›\r\n```csharp\r\nusing UnityEngine;\r\nusing UnityEngine.UI;\r\n\r\nnamespace QFramework.Example\r\n{\r\n    \r\n    // 1. å®šä¹‰ä¸€ä¸ª Model å¯¹è±¡\r\n    public class CounterAppModel : AbstractModel\r\n    {\r\n        public int Count;\r\n        \r\n        protected override void OnInit()\r\n        {\r\n            Count = 0;\r\n        }\r\n    }\r\n\r\n\r\n    // 2.å®šä¹‰ä¸€ä¸ªæ¶æ„ï¼ˆæä¾› MVCã€åˆ†å±‚ã€æ¨¡å—ç®¡ç†ç­‰ï¼‰\r\n    public class CounterApp : Architecture<CounterApp>\r\n    {\r\n        protected override void Init()\r\n        {\r\n            // æ³¨å†Œ Model\r\n            this.RegisterModel(new CounterAppModel());\r\n        }\r\n    }\r\n\r\n    // Controller\r\n    public class CounterAppController : MonoBehaviour , IController /* 3.å®ç° IController æ¥å£ */\r\n    {\r\n        // View\r\n        private Button mBtnAdd;\r\n        private Button mBtnSub;\r\n        private Text mCountText;\r\n        \r\n        // 4. Model\r\n        private CounterAppModel mModel;\r\n\r\n        void Start()\r\n        {\r\n            // 5. è·å–æ¨¡å‹\r\n            mModel = this.GetModel<CounterAppModel>();\r\n            \r\n            // View ç»„ä»¶è·å–\r\n            mBtnAdd = transform.Find(\"BtnAdd\").GetComponent<Button>();\r\n            mBtnSub = transform.Find(\"BtnSub\").GetComponent<Button>();\r\n            mCountText = transform.Find(\"CountText\").GetComponent<Text>();\r\n            \r\n            \r\n            // ç›‘å¬è¾“å…¥\r\n            mBtnAdd.onClick.AddListener(() =>\r\n            {\r\n                // 6. äº¤äº’é€»è¾‘\r\n                mModel.Count++;\r\n                // è¡¨ç°é€»è¾‘\r\n                UpdateView();        \r\n            });\r\n            \r\n            mBtnSub.onClick.AddListener(() =>\r\n            {\r\n                // 7. äº¤äº’é€»è¾‘\r\n                mModel.Count--;\r\n                // è¡¨ç°é€»è¾‘\r\n                UpdateView();\r\n            });\r\n            \r\n            UpdateView();\r\n        }\r\n        \r\n        void UpdateView()\r\n        {\r\n            mCountText.text = mModel.Count.ToString();\r\n        }\r\n\r\n        // 3.\r\n        public IArchitecture GetArchitecture()\r\n        {\r\n            return CounterApp.Interface;\r\n        }\r\n\r\n        private void OnDestroy()\r\n        {\r\n            // 8. å°† Model è®¾ç½®ä¸ºç©º\r\n            mModel = null;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nç°åœ¨ï¼Œæ•°æ®å…±äº«çš„é—®é¢˜é€šè¿‡ å¼•å…¥ Model è§£å†³äº†ã€‚\r\n\r\nè¿™é‡Œå†æ¬¡å¼ºè°ƒä¸€ä¸‹ï¼Œéœ€è¦å…±äº«çš„æ•°æ®æ”¾ Model é‡Œï¼Œä¸éœ€è¦å…±äº«çš„ï¼Œèƒ½ä¸æ”¾å°±ä¸æ”¾ã€‚\r\n\r\nè™½ç„¶å¼•å…¥äº† Modelï¼Œä½†æ˜¯è¿™å¥—ä»£ç éšç€é¡¹ç›®è§„æ¨¡çš„å‘å±•è¿˜æ˜¯æœ‰å¾ˆå¤šçš„é—®é¢˜ã€‚\r\n\r\nå…¶ä¸­æœ€ä¸¥é‡ä¹Ÿæœ€å¸¸è§çš„å°±æ˜¯ Controller ä¼šè¶Šæ¥è¶Šè‡ƒè‚¿ã€‚\r\n\r\næˆ‘ä»¬ç®€å•åˆ†æä¸€ä¸‹ä¸ºä»€ä¹ˆ Controller ä¼šè¶Šæ¥è¶Šè‡ƒè‚¿ï¼Œæˆ‘ä»¬å…ˆçœ‹ä¸‹ç›‘å¬ç”¨æˆ·è¾“å…¥éƒ¨åˆ†çš„ä»£ç ï¼Œå¦‚ä¸‹ï¼š\r\n\r\n```csharp\r\n// ç›‘å¬è¾“å…¥\r\nmBtnAdd.onClick.AddListener(() =>\r\n{\r\n    // äº¤äº’é€»è¾‘\r\n    mModel.Count++;\r\n    // è¡¨ç°é€»è¾‘\r\n    UpdateView();        \r\n});\r\n            \r\nmBtnSub.onClick.AddListener(() =>\r\n{\r\n    // äº¤äº’é€»è¾‘\r\n    mModel.Count--;\r\n    // è¡¨ç°é€»è¾‘\r\n    UpdateView();\r\n});\r\n```\r\n\r\nåœ¨å¤„ç†ç”¨æˆ·è¾“å…¥çš„ä»£ç ä¸­ï¼Œç¬”è€…å†™äº†æ³¨é‡Šï¼Œäº¤äº’é€»è¾‘ å’Œ è¡¨ç°é€»è¾‘ã€‚\r\n\r\nä»€ä¹ˆæ˜¯äº¤äº’é€»è¾‘ å’Œ è¡¨ç°é€»è¾‘ï¼Ÿ\r\n\r\néå¸¸ç®€å•ã€‚\r\n\r\näº¤äº’é€»è¾‘ï¼Œå°±æ˜¯ä»ç”¨æˆ·è¾“å…¥å¼€å§‹åˆ°æ•°æ®å˜æ›´çš„é€»è¾‘\r\n\r\né¡ºåºæ˜¯ View->Controller->Model\r\n\r\nè¡¨ç°é€»è¾‘ï¼Œå°±æ˜¯æ•°æ®å˜æ›´åˆ°åœ¨ç•Œé¢æ˜¾ç¤ºçš„é€»è¾‘\r\n\r\né¡ºåºæ˜¯ Model->Controller->View\r\n\r\nå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\r\n\r\n![image.png](https://file.liangxiegame.com/0b4e1255-ee5d-4223-97a6-2e49cf68715c.png)\r\n\r\nè™½ç„¶äº¤äº’é€»è¾‘å’Œè¡¨ç°é€»è¾‘ç†è§£èµ·æ¥ç®€å•ï¼Œä½†æ˜¯å®ƒä»¬éå¸¸é‡è¦ï¼Œå› ä¸º QFramework æ¥ä¸‹æ¥çš„æ¦‚å¿µéƒ½æ˜¯å›´ç»•è¿™ä¸¤ä¸ªæ¦‚å¿µå±•å¼€çš„ã€‚\r\n\r\nViewã€Model ä»¥åŠ Controller çš„äº¤äº’é€»è¾‘å’Œè¡¨ç°é€»è¾‘å½¢æˆäº†ä¸€ä¸ªé—­ç¯ã€‚æ„æˆäº†å®Œæ•´çš„ MVC é—­ç¯ã€‚\r\n\r\n\r\nè€Œ Controller æœ¬èº«ä¹‹æ‰€ä»¥è‡ƒè‚¿ï¼Œæ˜¯å› ä¸ºï¼Œå®ƒè´Ÿè´£äº†ä¸¤ç§èŒè´£ï¼Œå³æ”¹å˜ Model æ•°æ® çš„äº¤äº’é€»è¾‘ï¼Œä»¥åŠ Model æ•°æ®å˜æ›´ä¹‹åæ›´æ–°åˆ°ç•Œé¢çš„è¡¨ç°é€»è¾‘ã€‚\r\n\r\nè€Œåœ¨ä¸€ä¸ªæœ‰ä¸€å®šè§„æ¨¡çš„é¡¹ç›®ä¸­ï¼Œè¡¨ç°é€»è¾‘å’Œäº¤äº’é€»è¾‘éå¸¸å¤šã€‚è€Œä¸€ä¸ª Controller å¾ˆå®¹æ˜“å°±åšåˆ°ä¸Šåƒè¡Œä»£ç ã€‚\r\n\r\nè€Œå¤§éƒ¨åˆ†çš„ MVC æ–¹æ¡ˆï¼Œè§£å†³ Controller è‡ƒè‚¿ç”¨çš„æ˜¯å¼•å…¥ Command çš„æ–¹å¼ï¼Œå³å¼•å…¥å‘½ä»¤æ¨¡å¼ï¼Œé€šè¿‡å‘½ä»¤æ¥åˆ†æ‹… Controller çš„äº¤äº’é€»è¾‘çš„èŒè´£ã€‚\r\n\r\nQFramework ä¹Ÿæ˜¯ä½¿ç”¨äº†åŒæ ·çš„æ–¹å¼è§£å†³ Controller è‡ƒè‚¿çš„é—®é¢˜ã€‚\r\n\r\n\r\næˆ‘ä»¬å°†ä»£ç æ”¹æˆå¦‚ä¸‹ï¼š\r\n\r\n```csharp\r\nusing UnityEngine;\r\nusing UnityEngine.UI;\r\n\r\nnamespace QFramework.Example\r\n{\r\n    \r\n    // 1. å®šä¹‰ä¸€ä¸ª Model å¯¹è±¡\r\n    public class CounterAppModel : AbstractModel\r\n    {\r\n        public int Count;\r\n        \r\n        protected override void OnInit()\r\n        {\r\n            Count = 0;\r\n        }\r\n    }\r\n\r\n\r\n    // 2.å®šä¹‰ä¸€ä¸ªæ¶æ„ï¼ˆæä¾› MVCã€åˆ†å±‚ã€æ¨¡å—ç®¡ç†ç­‰ï¼‰\r\n    public class CounterApp : Architecture<CounterApp>\r\n    {\r\n        protected override void Init()\r\n        {\r\n            // æ³¨å†Œ Model\r\n            this.RegisterModel(new CounterAppModel());\r\n        }\r\n    }\r\n    \r\n    // å¼•å…¥ Command\r\n    public class IncreaseCountCommand : AbstractCommand // ++\r\n    {\r\n        protected override void OnExecute()\r\n        {\r\n            this.GetModel<CounterAppModel>().Count++;\r\n        }\r\n    }\r\n    \r\n    public class DecreaseCountCommand : AbstractCommand // ++\r\n    {\r\n        protected override void OnExecute()\r\n        {\r\n            this.GetModel<CounterAppModel>().Count--;\r\n        }\r\n    }\r\n\r\n    // Controller\r\n    public class CounterAppController : MonoBehaviour , IController /* 3.å®ç° IController æ¥å£ */\r\n    {\r\n        // View\r\n        private Button mBtnAdd;\r\n        private Button mBtnSub;\r\n        private Text mCountText;\r\n        \r\n        // 4. Model\r\n        private CounterAppModel mModel;\r\n\r\n        void Start()\r\n        {\r\n            // 5. è·å–æ¨¡å‹\r\n            mModel = this.GetModel<CounterAppModel>();\r\n            \r\n            // View ç»„ä»¶è·å–\r\n            mBtnAdd = transform.Find(\"BtnAdd\").GetComponent<Button>();\r\n            mBtnSub = transform.Find(\"BtnSub\").GetComponent<Button>();\r\n            mCountText = transform.Find(\"CountText\").GetComponent<Text>();\r\n            \r\n            \r\n            // ç›‘å¬è¾“å…¥\r\n            mBtnAdd.onClick.AddListener(() =>\r\n            {\r\n                // äº¤äº’é€»è¾‘\r\n                this.SendCommand<IncreaseCountCommand>();\r\n                // è¡¨ç°é€»è¾‘\r\n                UpdateView();        \r\n            });\r\n            \r\n            mBtnSub.onClick.AddListener(() =>\r\n            {\r\n                // äº¤äº’é€»è¾‘\r\n                this.SendCommand<DecreaseCountCommand>();\r\n                // è¡¨ç°é€»è¾‘\r\n                UpdateView();\r\n            });\r\n            \r\n            UpdateView();\r\n        }\r\n        \r\n        void UpdateView()\r\n        {\r\n            mCountText.text = mModel.Count.ToString();\r\n        }\r\n\r\n        // 3.\r\n        public IArchitecture GetArchitecture()\r\n        {\r\n            return CounterApp.Interface;\r\n        }\r\n\r\n        private void OnDestroy()\r\n        {\r\n            // 8. å°† Model è®¾ç½®ä¸ºç©º\r\n            mModel = null;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nä»£ç å¾ˆç®€å•ï¼Œæˆ‘ä»¬ç”¨æµç¨‹å›¾è¡¨ç¤ºå¦‚ä¸‹ï¼š\r\n\r\n![image.png](https://file.liangxiegame.com/6544f785-0389-46bc-813d-b9c77abdd336.png)\r\n\r\nè¿è¡Œ Unityï¼Œç»“æœå¦‚ä¸‹ï¼š\r\n\r\n![282fcc3c-96fa-46e1-b4c6-7f4528b04271.gif](https://file.liangxiegame.com/1b934e4f-8f72-44c2-800a-a97f1e707950.gif)\r\n\r\n\r\næ²¡æœ‰å˜åŒ–ï¼Œè¿è¡Œæ­£ç¡®ã€‚\r\n\r\nå¤§å®¶å¯èƒ½ä¼šé—®ï¼Œä¸€ä¸ªç®€å•çš„æ•°æ®åŠ å‡æ“ä½œï¼Œè‡³äºåˆ›å»ºä¸€ä¸ª Command å¯¹è±¡æ¥æ‰¿æ‹…ä¹ˆï¼Ÿçœ‹ä¸å‡ºæ¥å¥½å¤„å‘€ï¼Œåè€Œä»£ç æ›´å¤šäº†ã€‚\r\n\r\nå¦‚æœæ•´ä¸ªé¡¹ç›®åªæœ‰ä¸€ä¸ªç®€å•çš„æ•°æ®åŠ å‡æ“ä½œï¼Œé‚£ä½¿ç”¨ Command æœ‰ç‚¹å¤šæ­¤ä¸€ä¸¾ï¼Œä½†æ˜¯ä¸€èˆ¬çš„é¡¹ç›®çš„äº¤äº’é€»è¾‘ï¼Œæ˜¯éå¸¸å¤æ‚çš„ï¼Œä»£ç é‡ä¹Ÿéå¸¸å¤šï¼Œæ•´ä¸ªæ—¶å€™ä½¿ç”¨ Command è¯æ±‡å‘æŒ¥ä½œç”¨ã€‚\r\n\r\nå…·ä½“å‘æŒ¥ä»€ä¹ˆä½œç”¨ï¼Œä½¿ç”¨ Command å¯ä»¥å¸¦æ¥å¾ˆå¤šä¾¿åˆ©ï¼Œæ¯”å¦‚ï¼š\r\n* Command å¯ä»¥å¤ç”¨ï¼ŒCommand ä¹Ÿå¯ä»¥è°ƒç”¨ Command\r\n* Command å¯ä»¥æ¯”è¾ƒæ–¹ä¾¿å®ç°æ’¤é”€åŠŸèƒ½ï¼Œå¦‚æœ App æˆ–è€… æ¸¸æˆéœ€è¦çš„è¯\r\n* å¦‚æœéµå¾ªä¸€å®šè§„èŒƒï¼Œå¯ä»¥å®ç°ä½¿ç”¨ Command è·‘è‡ªåŠ¨åŒ–æµ‹è¯•ã€‚\r\n* Command å¯ä»¥å®šåˆ¶ Command é˜Ÿåˆ—ï¼Œä¹Ÿå¯ä»¥è®© Command æŒ‰ç…§ç‰¹å®šçš„æ–¹å¼æ‰§è¡Œ\r\n* ä¸€ä¸ª Command ä¹Ÿå¯ä»¥å°è£…æˆä¸€ä¸ª Http æˆ–è€… TCP é‡Œçš„ä¸€æ¬¡æ•°æ®è¯·æ±‚\r\n* Command å¯ä»¥å®ç° Command ä¸­é—´ä»¶æ¨¡å¼\r\n* ç­‰ç­‰\r\n\r\nOKï¼Œé€šè¿‡å¼•å…¥ Commandï¼Œå¸®åŠ©åˆ†æ‹…äº† Controller çš„äº¤äº’é€»è¾‘ã€‚ä½¿å¾— Controller æˆä¸ºä¸€ä¸ªè–„è–„çš„ä¸€å±‚ï¼Œåœ¨éœ€è¦ä¿®æ”¹ Model çš„æ—¶å€™ï¼ŒController åªè¦è°ƒç”¨ä¸€å¥ç®€å•çš„ Command å³å¯ã€‚\r\n\r\nCommand æœ€æ˜æ˜¾çš„å¥½å¤„å°±æ˜¯ï¼š\r\n* å°±ç®—ä»£ç å†ä¹±ï¼Œä¹Ÿåªæ˜¯åœ¨ä¸€ä¸ª Command å¯¹è±¡é‡Œä¹±ï¼Œè€Œä¸ä¼šå½±å“å…¶ä»–çš„å¯¹è±¡ã€‚\r\n* è®²æ–¹æ³•å°è£…æˆå‘½ä»¤å¯¹è±¡ï¼Œå¯ä»¥å®ç°å¯¹å‘½ä»¤å¯¹è±¡çš„ç»„ç»‡ã€æ’åºã€å»¶æ—¶ç­‰æ“ä½œã€‚\r\n\r\næ›´å¤šå¥½å¤„ä¼šéšç€å¤§å®¶çš„å®è·µæ…¢æ…¢ä½“ä¼šåˆ°ã€‚\r\n\r\nå½“å‰çš„ MVC æµç¨‹å¦‚ä¸‹ï¼š\r\n\r\n![](https://file.liangxiegame.com/5ddfe754-110f-4417-8e29-d890e36d4a7a.png)\r\n\r\nè¿™ç¯‡å†…å®¹å°±è¿™äº›ã€‚\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n\r\n\r\n# 04. å¼•å…¥ Event\r\n\r\næˆ‘ä»¬çœ‹ä¸‹å½“å‰çš„ä»£ç :\r\n\r\n```csharp\r\nusing UnityEngine;\r\nusing UnityEngine.UI;\r\n\r\nnamespace QFramework.Example\r\n{\r\n    \r\n    // 1. å®šä¹‰ä¸€ä¸ª Model å¯¹è±¡\r\n    public class CounterAppModel : AbstractModel\r\n    {\r\n        public int Count;\r\n        \r\n        protected override void OnInit()\r\n        {\r\n            Count = 0;\r\n        }\r\n    }\r\n\r\n\r\n    // 2.å®šä¹‰ä¸€ä¸ªæ¶æ„ï¼ˆæä¾› MVCã€åˆ†å±‚ã€æ¨¡å—ç®¡ç†ç­‰ï¼‰\r\n    public class CounterApp : Architecture<CounterApp>\r\n    {\r\n        protected override void Init()\r\n        {\r\n            // æ³¨å†Œ Model\r\n            this.RegisterModel(new CounterAppModel());\r\n        }\r\n    }\r\n    \r\n    // å¼•å…¥ Command\r\n    public class IncreaseCountCommand : AbstractCommand\r\n    {\r\n        protected override void OnExecute()\r\n        {\r\n            this.GetModel<CounterAppModel>().Count++;\r\n        }\r\n    }\r\n    \r\n    public class DecreaseCountCommand : AbstractCommand\r\n    {\r\n        protected override void OnExecute()\r\n        {\r\n            this.GetModel<CounterAppModel>().Count--;\r\n        }\r\n    }\r\n\r\n    // Controller\r\n    public class CounterAppController : MonoBehaviour , IController /* 3.å®ç° IController æ¥å£ */\r\n    {\r\n        // View\r\n        private Button mBtnAdd;\r\n        private Button mBtnSub;\r\n        private Text mCountText;\r\n        \r\n        // 4. Model\r\n        private CounterAppModel mModel;\r\n\r\n        void Start()\r\n        {\r\n            // 5. è·å–æ¨¡å‹\r\n            mModel = this.GetModel<CounterAppModel>();\r\n            \r\n            // View ç»„ä»¶è·å–\r\n            mBtnAdd = transform.Find(\"BtnAdd\").GetComponent<Button>();\r\n            mBtnSub = transform.Find(\"BtnSub\").GetComponent<Button>();\r\n            mCountText = transform.Find(\"CountText\").GetComponent<Text>();\r\n            \r\n            \r\n            // ç›‘å¬è¾“å…¥\r\n            mBtnAdd.onClick.AddListener(() =>\r\n            {\r\n                // äº¤äº’é€»è¾‘\r\n                this.SendCommand<IncreaseCountCommand>();\r\n                // è¡¨ç°é€»è¾‘\r\n                UpdateView();        \r\n            });\r\n            \r\n            mBtnSub.onClick.AddListener(() =>\r\n            {\r\n                // äº¤äº’é€»è¾‘\r\n                this.SendCommand<DecreaseCountCommand>();\r\n                // è¡¨ç°é€»è¾‘\r\n                UpdateView();\r\n            });\r\n            \r\n            UpdateView();\r\n        }\r\n        \r\n        void UpdateView()\r\n        {\r\n            mCountText.text = mModel.Count.ToString();\r\n        }\r\n\r\n        // 3.\r\n        public IArchitecture GetArchitecture()\r\n        {\r\n            return CounterApp.Interface;\r\n        }\r\n\r\n        private void OnDestroy()\r\n        {\r\n            // 8. å°† Model è®¾ç½®ä¸ºç©º\r\n            mModel = null;\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\næˆ‘ä»¬é€šè¿‡å¼•å…¥äº† Command æ¥å¸®åŠ© Controller åˆ†æ‹…äº†ä¸€éƒ¨åˆ†çš„äº¤äº’é€»è¾‘ã€‚\r\n\r\nä½†æ˜¯è¡¨ç°é€»è¾‘çš„ä»£ç ç›®å‰çœ‹èµ·æ¥å¹¶ä¸æ˜¯å¾ˆæ™ºèƒ½ã€‚\r\n\r\nè¡¨ç°é€»è¾‘çš„ä»£ç å¦‚ä¸‹ï¼š\r\n\r\n```csharp\r\n// ç›‘å¬è¾“å…¥\r\nmBtnAdd.onClick.AddListener(() =>\r\n{\r\n    // äº¤äº’é€»è¾‘\r\n    this.SendCommand<IncreaseCountCommand>();\r\n    // è¡¨ç°é€»è¾‘\r\n    UpdateView();        \r\n});\r\n            \r\nmBtnSub.onClick.AddListener(() =>\r\n{\r\n    // äº¤äº’é€»è¾‘\r\n    this.SendCommand<DecreaseCountCommand>();\r\n    // è¡¨ç°é€»è¾‘\r\n    UpdateView();\r\n});\r\n```\r\n\r\næ¯æ¬¡è°ƒç”¨é€»è¾‘ä¹‹åï¼Œè¡¨ç°é€»è¾‘éƒ¨åˆ†éƒ½éœ€è¦æ‰‹åŠ¨è°ƒç”¨ä¸€æ¬¡ï¼ˆUpdateView æ–¹æ³•ï¼‰ã€‚\r\n\r\nåœ¨ä¸€ä¸ªé¡¹ç›®ä¸­ï¼Œè¡¨ç°é€»è¾‘çš„è°ƒç”¨æ¬¡æ•°ï¼Œè‡³å°‘ä¼šå’Œäº¤äº’é€»è¾‘çš„è°ƒç”¨æ¬¡æ•°ä¸€æ ·å¤šã€‚å› ä¸ºåªè¦ä¿®æ”¹äº†æ•°æ®ï¼Œå¯¹åº”åœ°å°±è¦æŠŠæ•°æ®çš„biangåœ¨ç•Œé¢ä¸Šè¡¨ç°å‡ºæ¥ã€‚\r\n\r\nè€Œè¿™éƒ¨åˆ†å—²ç”¨è¡¨ç°é€»è¾‘çš„ä»£ç ä¹Ÿä¼šå¾ˆå¤šï¼Œæ‰€ä»¥æˆ‘ä»¬å¼•å…¥ä¸€ä¸ªäº‹ä»¶æœºåˆ¶æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚\r\n\r\nè¿™ä¸ªäº‹ä»¶æœºåˆ¶çš„ä½¿ç”¨å…¶å®æ˜¯å’Œ Command ä¸€èµ·ä½¿ç”¨çš„ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªç®€å•çš„å°æ¨¡å¼ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\r\n\r\n![](https://file.liangxiegame.com/60ccd370-7c2c-4792-8435-ff5427dc5a1b.png)\r\n\r\nå³é€šè¿‡ Command ä¿®æ”¹æ•°æ®ï¼Œå½“æ•°æ®å‘ç”Ÿä¿®æ”¹åå‘é€å¯¹åº”çš„æ•°æ®å˜æ›´äº‹ä»¶ã€‚\r\n\r\nè¿™ä¸ªæ˜¯ç®€åŒ–ç‰ˆæœ¬çš„ CQRS åŸåˆ™ï¼Œå³ Command Query Responsibility Separiationï¼Œè¯»å†™åˆ†ç¦»åŸåˆ™ã€‚\r\n\r\nå¼•å…¥è¿™é¡¹åŸåˆ™ä¼šå¾ˆå®¹æ˜“å®ç° äº‹ä»¶é©±åŠ¨ã€æ•°æ®é©±åŠ¨ æ¶æ„ã€‚\r\n\r\nåœ¨ QFramework ä¸­ï¼Œç”¨æ³•éå¸¸ç®€å•ï¼Œä»£ç å¦‚ä¸‹:\r\n\r\n```csharp\r\nusing UnityEngine;\r\nusing UnityEngine.UI;\r\n\r\nnamespace QFramework.Example\r\n{\r\n    \r\n    // 1. å®šä¹‰ä¸€ä¸ª Model å¯¹è±¡\r\n    public class CounterAppModel : AbstractModel\r\n    {\r\n        public int Count;\r\n        \r\n        protected override void OnInit()\r\n        {\r\n            Count = 0;\r\n        }\r\n    }\r\n\r\n\r\n    // 2.å®šä¹‰ä¸€ä¸ªæ¶æ„ï¼ˆæä¾› MVCã€åˆ†å±‚ã€æ¨¡å—ç®¡ç†ç­‰ï¼‰\r\n    public class CounterApp : Architecture<CounterApp>\r\n    {\r\n        protected override void Init()\r\n        {\r\n            // æ³¨å†Œ Model\r\n            this.RegisterModel(new CounterAppModel());\r\n        }\r\n    }\r\n    \r\n    // å®šä¹‰æ•°æ®å˜æ›´äº‹ä»¶\r\n    public struct CountChangeEvent // ++\r\n    {\r\n        \r\n    }\r\n    \r\n    // å¼•å…¥ Command\r\n    public class IncreaseCountCommand : AbstractCommand \r\n    {\r\n        protected override void OnExecute()\r\n        {\r\n            this.GetModel<CounterAppModel>().Count++;\r\n            this.SendEvent<CountChangeEvent>(); // ++\r\n        }\r\n    }\r\n    \r\n    public class DecreaseCountCommand : AbstractCommand\r\n    {\r\n        protected override void OnExecute()\r\n        {\r\n            this.GetModel<CounterAppModel>().Count--;\r\n            this.SendEvent<CountChangeEvent>(); // ++\r\n        }\r\n    }\r\n\r\n    // Controller\r\n    public class CounterAppController : MonoBehaviour , IController /* 3.å®ç° IController æ¥å£ */\r\n    {\r\n        // View\r\n        private Button mBtnAdd;\r\n        private Button mBtnSub;\r\n        private Text mCountText;\r\n        \r\n        // 4. Model\r\n        private CounterAppModel mModel;\r\n\r\n        void Start()\r\n        {\r\n            // 5. è·å–æ¨¡å‹\r\n            mModel = this.GetModel<CounterAppModel>();\r\n            \r\n            // View ç»„ä»¶è·å–\r\n            mBtnAdd = transform.Find(\"BtnAdd\").GetComponent<Button>();\r\n            mBtnSub = transform.Find(\"BtnSub\").GetComponent<Button>();\r\n            mCountText = transform.Find(\"CountText\").GetComponent<Text>();\r\n            \r\n            \r\n            // ç›‘å¬è¾“å…¥\r\n            mBtnAdd.onClick.AddListener(() =>\r\n            {\r\n                // äº¤äº’é€»è¾‘\r\n                this.SendCommand<IncreaseCountCommand>();\r\n            });\r\n            \r\n            mBtnSub.onClick.AddListener(() =>\r\n            {\r\n                // äº¤äº’é€»è¾‘\r\n                this.SendCommand(new DecreaseCountCommand(/* è¿™é‡Œå¯ä»¥ä¼ å‚ï¼ˆå¦‚æœæœ‰ï¼‰ */));\r\n            });\r\n            \r\n            UpdateView();\r\n            \r\n            // è¡¨ç°é€»è¾‘\r\n            this.RegisterEvent<CountChangeEvent>(e =>\r\n            {\r\n                UpdateView();\r\n\r\n            }).UnRegisterWhenGameObjectDestroyed(gameObject);\r\n        }\r\n        \r\n        void UpdateView()\r\n        {\r\n            mCountText.text = mModel.Count.ToString();\r\n        }\r\n\r\n        // 3.\r\n        public IArchitecture GetArchitecture()\r\n        {\r\n            return CounterApp.Interface;\r\n        }\r\n\r\n        private void OnDestroy()\r\n        {\r\n            // 8. å°† Model è®¾ç½®ä¸ºç©º\r\n            mModel = null;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nä»£ç å¾ˆç®€å•ã€‚\r\n\r\næµç¨‹å›¾å¦‚ä¸‹ï¼š\r\n\r\n![image.png](https://file.liangxiegame.com/43474a6f-6a18-4d97-bdb9-9319a77481b9.png)\r\n\r\nè¿è¡Œç»“æœå¦‚ä¸‹:\r\n\r\n![282fcc3c-96fa-46e1-b4c6-7f4528b04271.gif](https://file.liangxiegame.com/1b934e4f-8f72-44c2-800a-a97f1e707950.gif)\r\n\r\nå¼•å…¥äº‹ä»¶æœºåˆ¶ å’Œ CQRS åŸåˆ™ä¹‹åï¼Œæˆ‘ä»¬çš„è¡¨ç°é€»è¾‘çš„ä»£ç å˜å°‘äº†å¾ˆå¤šã€‚\r\n\r\nç”±åŸæ¥çš„ä¸¤æ¬¡ä¸»åŠ¨è°ƒç”¨\r\n\r\n``` csharp\r\n// ç›‘å¬è¾“å…¥\r\nmBtnAdd.onClick.AddListener(() =>\r\n{\r\n    // äº¤äº’é€»è¾‘\r\n    this.SendCommand<IncreaseCountCommand>(); // æ²¡æœ‰å‚æ•°æ„é€ çš„å‘½ä»¤æ”¯æŒæ³›å‹\r\n    // è¡¨ç°é€»è¾‘\r\n    UpdateView();\r\n});\r\n            \r\nmBtnSub.onClick.AddListener(() =>\r\n{\r\n    // äº¤äº’é€»è¾‘\r\n    this.SendCommand(new DecreaseCountCommand()); // ä¹Ÿæ”¯æŒç›´æ¥ä¼ å…¥å¯¹è±¡ï¼ˆæ–¹ä¾¿é€šè¿‡æ„é€ ä¼ å‚)\r\n    // è¡¨ç°é€»è¾‘\r\n    UpdateView();\r\n});\r\n```\r\n\r\nå˜æˆäº†ä¸€å¤„ç›‘å¬äº‹ä»¶ï¼Œæ¥æ”¶äº‹ä»¶è¿›è¡Œè°ƒç”¨ã€‚\r\n\r\n``` csharp\r\n// ç›‘å¬è¾“å…¥\r\nmBtnAdd.onClick.AddListener(() =>\r\n{\r\n    // äº¤äº’é€»è¾‘\r\n    this.SendCommand<IncreaseCountCommand>(); // æ²¡æœ‰å‚æ•°æ„é€ çš„å‘½ä»¤æ”¯æŒæ³›å‹\r\n});\r\n            \r\nmBtnSub.onClick.AddListener(() =>\r\n{\r\n    // äº¤äº’é€»è¾‘\r\n    this.SendCommand(new DecreaseCountCommand()); // ä¹Ÿæ”¯æŒç›´æ¥ä¼ å…¥å¯¹è±¡ï¼ˆæ–¹ä¾¿é€šè¿‡æ„é€ ä¼ å‚)\r\n});\r\n            \r\nUpdateView();\r\n            \r\n// è¡¨ç°é€»è¾‘\r\nthis.RegisterEvent<CountChangeEvent>(e =>\r\n{\r\n    UpdateView();\r\n}).UnRegisterWhenGameObjectDestroyed(gameObject);\r\n```\r\n\r\nè¿™æ ·å‡ç¼“äº†å¾ˆå¤šäº¤äº’é€»è¾‘ã€‚\r\n\r\nOKï¼Œåˆ°æ­¤ï¼Œæˆ‘ä»¬ç®—æ˜¯ç”¨ä¸Šäº†è¿˜ç®—åˆæ ¼çš„ MVC çš„å®ç°ï¼Œè€Œ QFramework æ‰€æä¾›çš„æ¦‚å¿µä¸­ï¼Œæœ€é‡è¦çš„æ¦‚å¿µå·²ç»æ¥è§¦åˆ°äº†ï¼Œå³ CQRSï¼Œé€šè¿‡ Command å»ä¿®æ”¹æ•°æ®ï¼Œæ•°æ®å‘ç”Ÿä¿®æ”¹åå‘é€æ•°æ®å˜æ›´äº‹ä»¶ã€‚\r\n\r\nå½“å‰çš„ç¤ºæ„å›¾å¦‚ä¸‹ï¼š\r\n\r\n![](https://file.liangxiegame.com/d25c65e0-25ba-43ca-9060-69bd51efaf46.png)\r\n\r\n\r\nå­¦åˆ°è¿™é‡Œï¼Œå¯¹äº QFramework æ¶æ„çš„ä½¿ç”¨ç®—æ˜¯çœŸæ­£çš„å…¥é—¨äº†ã€‚\r\n\r\nä¸è¿‡æ¥ä¸‹æ¥è¿˜æœ‰ä¸€äº›æ¦‚å¿µï¼Œæˆ‘ä»¬ä¸‹ä¸€ç¯‡ç»§ç»­ã€‚\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n# 05. å¼•å…¥ Utility\r\n\r\nåœ¨è¿™ä¸€ç¯‡ï¼Œæˆ‘ä»¬æ¥æ”¯æŒ CounterApp çš„å­˜å‚¨åŠŸèƒ½ã€‚\r\n\r\nå…¶ä»£ç ä¹Ÿéå¸¸ç®€å•ï¼Œåªéœ€è¦ä¿®æ”¹ä¸€éƒ¨åˆ† Model çš„ä»£ç å³å¯ï¼Œå¦‚ä¸‹ï¼š\r\n\r\n```csharp\r\n    // å®šä¹‰ä¸€ä¸ª Model å¯¹è±¡\r\n    public class CounterAppModel : AbstractModel\r\n    {\r\n        private int mCount;\r\n\r\n        public int Count\r\n        {\r\n            get => mCount;\r\n            set\r\n            {\r\n                if (mCount != value)\r\n                {\r\n                    mCount = value;\r\n                    PlayerPrefs.SetInt(nameof(Count),mCount);\r\n                }\r\n            }\r\n        }\r\n\r\n        protected override void OnInit()\r\n        {\r\n            Count = PlayerPrefs.GetInt(nameof(Count), mCount);\r\n        }\r\n    }\r\n```\r\n\r\nè¿™æ ·å°±æ”¯æŒäº†éå¸¸åŸºæœ¬çš„æ•°æ®å­˜å‚¨åŠŸèƒ½ã€‚\r\n\r\nå½“ç„¶è¿˜æ˜¯æœ‰ä¸€äº›é—®é¢˜ï¼Œå¦‚æœæ—¶å€™æœªæ¥æˆ‘ä»¬éœ€è¦å­˜å‚¨çš„æ•°æ®éå¸¸å¤šçš„æ—¶å€™ï¼ŒModel å±‚å°±ä¼šå……æ–¥å¤§é‡å­˜å‚¨ã€åŠ è½½ç›¸å…³çš„ä»£ç ã€‚\r\n\r\nè¿˜æœ‰å°±æ˜¯ï¼Œæˆ‘ä»¬ä»¥åå¦‚æœä¸æƒ³ä½¿ç”¨ PlayperPrefs äº†ï¼Œæƒ³ä½¿ç”¨ EasySave æˆ–è€… SQLite çš„æ—¶å€™ï¼Œå°±ä¼šé€ æˆå¤§é‡çš„ä¿®æ”¹å·¥ä½œé‡ã€‚\r\n\r\näºæ˜¯ QFramework æä¾›äº†ä¸€ä¸ª Utility å±‚ï¼Œä¸“é—¨ç”¨æ¥è§£å†³ä¸Šè¿°ä¸¤ä¸ªé—®é¢˜çš„ï¼Œä½¿ç”¨æ–¹æ³•éå¸¸ç®€å•ï¼Œå¦‚ä¸‹ï¼š\r\n\r\n```csharp\r\nusing UnityEngine;\r\nusing UnityEngine.UI;\r\n\r\nnamespace QFramework.Example\r\n{\r\n    \r\n    // 1. å®šä¹‰ä¸€ä¸ª Model å¯¹è±¡\r\n    public class CounterAppModel : AbstractModel\r\n    {\r\n        private int mCount;\r\n\r\n        public int Count\r\n        {\r\n            get => mCount;\r\n            set\r\n            {\r\n                if (mCount != value)\r\n                {\r\n                    mCount = value;\r\n                    PlayerPrefs.SetInt(nameof(Count),mCount);\r\n                }\r\n            }\r\n        }\r\n\r\n        protected override void OnInit()\r\n        {\r\n            var storage = this.GetUtility<Storage>();\r\n\r\n            Count = storage.LoadInt(nameof(Count));\r\n\r\n            // å¯ä»¥é€šè¿‡ CounterApp.Interface ç›‘å¬æ•°æ®å˜æ›´äº‹ä»¶\r\n            CounterApp.Interface.RegisterEvent<CountChangeEvent>(e =>\r\n            {\r\n                this.GetUtility<Storage>().SaveInt(nameof(Count), Count);\r\n            });\r\n        }\r\n    }\r\n\r\n    // å®šä¹‰ utility å±‚\r\n    public class Storage : IUtility\r\n    {\r\n        public void SaveInt(string key, int value)\r\n        {\r\n            PlayerPrefs.SetInt(key,value);\r\n        }\r\n\r\n        public int LoadInt(string key, int defaultValue = 0)\r\n        {\r\n            return PlayerPrefs.GetInt(key, defaultValue);\r\n        }\r\n    }\r\n\r\n\r\n    // 2.å®šä¹‰ä¸€ä¸ªæ¶æ„ï¼ˆæä¾› MVCã€åˆ†å±‚ã€æ¨¡å—ç®¡ç†ç­‰ï¼‰\r\n    public class CounterApp : Architecture<CounterApp>\r\n    {\r\n        protected override void Init()\r\n        {\r\n            // æ³¨å†Œ Model\r\n            this.RegisterModel(new CounterAppModel());\r\n            \r\n            // æ³¨å†Œå­˜å‚¨å·¥å…·çš„å¯¹è±¡\r\n            this.RegisterUtility(new Storage());\r\n        }\r\n    }\r\n    \r\n    // å®šä¹‰æ•°æ®å˜æ›´äº‹ä»¶\r\n    public struct CountChangeEvent // ++\r\n    {\r\n        \r\n    }\r\n    \r\n    // å¼•å…¥ Command\r\n    public class IncreaseCountCommand : AbstractCommand \r\n    {\r\n        protected override void OnExecute()\r\n        {\r\n            this.GetModel<CounterAppModel>().Count++;\r\n            this.SendEvent<CountChangeEvent>(); // ++\r\n        }\r\n    }\r\n    \r\n    public class DecreaseCountCommand : AbstractCommand\r\n    {\r\n        protected override void OnExecute()\r\n        {\r\n            this.GetModel<CounterAppModel>().Count--;\r\n            this.SendEvent<CountChangeEvent>(); // ++\r\n        }\r\n    }\r\n\r\n    // Controller\r\n    public class CounterAppController : MonoBehaviour , IController /* 3.å®ç° IController æ¥å£ */\r\n    {\r\n        // View\r\n        private Button mBtnAdd;\r\n        private Button mBtnSub;\r\n        private Text mCountText;\r\n        \r\n        // 4. Model\r\n        private CounterAppModel mModel;\r\n\r\n        void Start()\r\n        {\r\n            // 5. è·å–æ¨¡å‹\r\n            mModel = this.GetModel<CounterAppModel>();\r\n            \r\n            // View ç»„ä»¶è·å–\r\n            mBtnAdd = transform.Find(\"BtnAdd\").GetComponent<Button>();\r\n            mBtnSub = transform.Find(\"BtnSub\").GetComponent<Button>();\r\n            mCountText = transform.Find(\"CountText\").GetComponent<Text>();\r\n            \r\n            \r\n            // ç›‘å¬è¾“å…¥\r\n            mBtnAdd.onClick.AddListener(() =>\r\n            {\r\n                // äº¤äº’é€»è¾‘\r\n                this.SendCommand<IncreaseCountCommand>();\r\n            });\r\n            \r\n            mBtnSub.onClick.AddListener(() =>\r\n            {\r\n                // äº¤äº’é€»è¾‘\r\n                this.SendCommand(new DecreaseCountCommand(/* è¿™é‡Œå¯ä»¥ä¼ å‚ï¼ˆå¦‚æœæœ‰ï¼‰ */));\r\n            });\r\n            \r\n            UpdateView();\r\n            \r\n            // è¡¨ç°é€»è¾‘\r\n            this.RegisterEvent<CountChangeEvent>(e =>\r\n            {\r\n                UpdateView();\r\n\r\n            }).UnRegisterWhenGameObjectDestroyed(gameObject);\r\n        }\r\n        \r\n        void UpdateView()\r\n        {\r\n            mCountText.text = mModel.Count.ToString();\r\n        }\r\n\r\n        // 3.\r\n        public IArchitecture GetArchitecture()\r\n        {\r\n            return CounterApp.Interface;\r\n        }\r\n\r\n        private void OnDestroy()\r\n        {\r\n            // 8. å°† Model è®¾ç½®ä¸ºç©º\r\n            mModel = null;\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nä»£ç éå¸¸ç®€å•ï¼Œæˆ‘ä»¬è¿è¡Œä¸‹ Unity çœ‹ä¸‹ç»“æœï¼š\r\n\r\n![f55b6c09-f5a0-402f-bffa-5ceb0bc3d8fb.gif](https://file.liangxiegame.com/1c622976-b32a-4b62-92a3-d34b2c628e27.gif)\r\n\r\nè¿è¡Œæ­£ç¡®ã€‚\r\n\r\nè¿™æ ·å½“æˆ‘ä»¬ï¼Œæƒ³è¦å°† PlayerPrefs æ–¹æ¡ˆæ›¿æ¢æˆ EasySave çš„æ—¶å€™ï¼Œåªéœ€è¦å¯¹ Storage é‡Œçš„ä»£ç è¿›è¡Œä¿®æ”¹å³å¯ã€‚\r\n\r\næœ€åç»™å‡ºæµç¨‹å›¾ï¼Œå¦‚ä¸‹ï¼š\r\n\r\n![image.png](https://file.liangxiegame.com/f2329b2f-700a-4693-b22e-b1afc50c7364.png)\r\n\r\nå¥½äº†ï¼Œè¿™ç¯‡å°±ä»‹ç»åˆ°è¿™é‡Œã€‚\r\n\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n# 06. å¼•å…¥ System\r\nåœ¨è¿™ä¸€ç¯‡ï¼Œæˆ‘ä»¬æ¥å¼•å…¥æœ€åä¸€ä¸ªåŸºæœ¬æ¦‚å¿µ Systemã€‚\r\n\r\né¦–å…ˆæˆ‘ä»¬æ¥çœ‹ä¸‹ä»£ç ï¼Œå¦‚ä¸‹:\r\n\r\n```csharp\r\nusing UnityEngine;\r\nusing UnityEngine.UI;\r\n\r\nnamespace QFramework.Example\r\n{\r\n    \r\n    // 1. å®šä¹‰ä¸€ä¸ª Model å¯¹è±¡\r\n    public class CounterAppModel : AbstractModel\r\n    {\r\n        private int mCount;\r\n\r\n        public int Count\r\n        {\r\n            get => mCount;\r\n            set\r\n            {\r\n                if (mCount != value)\r\n                {\r\n                    mCount = value;\r\n                    PlayerPrefs.SetInt(nameof(Count),mCount);\r\n                }\r\n            }\r\n        }\r\n\r\n        protected override void OnInit()\r\n        {\r\n            var storage = this.GetUtility<Storage>();\r\n\r\n            Count = storage.LoadInt(nameof(Count));\r\n\r\n            // å¯ä»¥é€šè¿‡ CounterApp.Interface ç›‘å¬æ•°æ®å˜æ›´äº‹ä»¶\r\n            CounterApp.Interface.RegisterEvent<CountChangeEvent>(e =>\r\n            {\r\n                this.GetUtility<Storage>().SaveInt(nameof(Count), Count);\r\n            });\r\n        }\r\n    }\r\n\r\n    // å®šä¹‰ utility å±‚\r\n    public class Storage : IUtility\r\n    {\r\n        public void SaveInt(string key, int value)\r\n        {\r\n            PlayerPrefs.SetInt(key,value);\r\n        }\r\n\r\n        public int LoadInt(string key, int defaultValue = 0)\r\n        {\r\n            return PlayerPrefs.GetInt(key, defaultValue);\r\n        }\r\n    }\r\n\r\n\r\n    // 2.å®šä¹‰ä¸€ä¸ªæ¶æ„ï¼ˆæä¾› MVCã€åˆ†å±‚ã€æ¨¡å—ç®¡ç†ç­‰ï¼‰\r\n    public class CounterApp : Architecture<CounterApp>\r\n    {\r\n        protected override void Init()\r\n        {\r\n            // æ³¨å†Œ Model\r\n            this.RegisterModel(new CounterAppModel());\r\n            \r\n            // æ³¨å†Œå­˜å‚¨å·¥å…·çš„å¯¹è±¡\r\n            this.RegisterUtility(new Storage());\r\n        }\r\n    }\r\n    \r\n    // å®šä¹‰æ•°æ®å˜æ›´äº‹ä»¶\r\n    public struct CountChangeEvent // ++\r\n    {\r\n        \r\n    }\r\n    \r\n    // å¼•å…¥ Command\r\n    public class IncreaseCountCommand : AbstractCommand \r\n    {\r\n        protected override void OnExecute()\r\n        {\r\n            this.GetModel<CounterAppModel>().Count++;\r\n            this.SendEvent<CountChangeEvent>(); // ++\r\n        }\r\n    }\r\n    \r\n    public class DecreaseCountCommand : AbstractCommand\r\n    {\r\n        protected override void OnExecute()\r\n        {\r\n            this.GetModel<CounterAppModel>().Count--;\r\n            this.SendEvent<CountChangeEvent>(); // ++\r\n        }\r\n    }\r\n\r\n    // Controller\r\n    public class CounterAppController : MonoBehaviour , IController /* 3.å®ç° IController æ¥å£ */\r\n    {\r\n        // View\r\n        private Button mBtnAdd;\r\n        private Button mBtnSub;\r\n        private Text mCountText;\r\n        \r\n        // 4. Model\r\n        private CounterAppModel mModel;\r\n\r\n        void Start()\r\n        {\r\n            // 5. è·å–æ¨¡å‹\r\n            mModel = this.GetModel<CounterAppModel>();\r\n            \r\n            // View ç»„ä»¶è·å–\r\n            mBtnAdd = transform.Find(\"BtnAdd\").GetComponent<Button>();\r\n            mBtnSub = transform.Find(\"BtnSub\").GetComponent<Button>();\r\n            mCountText = transform.Find(\"CountText\").GetComponent<Text>();\r\n            \r\n            \r\n            // ç›‘å¬è¾“å…¥\r\n            mBtnAdd.onClick.AddListener(() =>\r\n            {\r\n                // äº¤äº’é€»è¾‘\r\n                this.SendCommand<IncreaseCountCommand>();\r\n            });\r\n            \r\n            mBtnSub.onClick.AddListener(() =>\r\n            {\r\n                // äº¤äº’é€»è¾‘\r\n                this.SendCommand(new DecreaseCountCommand(/* è¿™é‡Œå¯ä»¥ä¼ å‚ï¼ˆå¦‚æœæœ‰ï¼‰ */));\r\n            });\r\n            \r\n            UpdateView();\r\n            \r\n            // è¡¨ç°é€»è¾‘\r\n            this.RegisterEvent<CountChangeEvent>(e =>\r\n            {\r\n                UpdateView();\r\n\r\n            }).UnRegisterWhenGameObjectDestroyed(gameObject);\r\n        }\r\n        \r\n        void UpdateView()\r\n        {\r\n            mCountText.text = mModel.Count.ToString();\r\n        }\r\n\r\n        // 3.\r\n        public IArchitecture GetArchitecture()\r\n        {\r\n            return CounterApp.Interface;\r\n        }\r\n\r\n        private void OnDestroy()\r\n        {\r\n            // 8. å°† Model è®¾ç½®ä¸ºç©º\r\n            mModel = null;\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nè¿™é‡Œæˆ‘ä»¬å‡è®¾ä¸€ä¸ªåŠŸèƒ½ï¼Œå³ç­–åˆ’æå‡ºäº†ä¸€ä¸ªæˆå°±è¾¾æˆçš„åŠŸèƒ½ï¼Œå³ Count åˆ° 10 çš„æ—¶å€™ï¼Œè§¦å‘ä¸€ä¸ªç‚¹å‡»è¾¾äººæˆå°±ï¼Œç‚¹å‡»äºŒåæ¬¡ åˆ™è§¦å‘ä¸€ä¸ª ç‚¹å‡»ä¸“å®¶æˆå°±ã€‚\r\n\r\né€»è¾‘å¬èµ·æ¥å¾ˆç®€å•ï¼Œæˆ‘ä»¬ç›´æ¥åœ¨ IncreaseCountCommand é‡Œç¼–å†™å³å¯ï¼Œå¦‚ä¸‹ï¼š\r\n\r\n```csharp\r\n    public class IncreaseCountCommand : AbstractCommand \r\n    {\r\n        protected override void OnExecute()\r\n        {\r\n            var model = this.GetModel<CounterAppModel>();\r\n                \r\n            model.Count++;\r\n            this.SendEvent<CountChangeEvent>(); // ++\r\n\r\n            if (model.Count == 10)\r\n            {\r\n                Debug.Log(\"è§¦å‘ ç‚¹å‡»è¾¾äºº æˆå°±\");\r\n            }\r\n            else if (model.Count == 20)\r\n            {\r\n                Debug.Log(\"è§¦å‘ ç‚¹å‡»ä¸“å®¶ æˆå°±\");\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nä»£ç å¾ˆç®€å•ï¼Œæˆ‘ä»¬è¿è¡Œæµ‹è¯•ä¸€ä¸‹ã€‚\r\n\r\nè¿è¡Œä¹‹åï¼Œç¬”è€…ç‚¹å‡»äº† 20 æ¬¡ + å·ï¼Œç»“æœå¦‚ä¸‹ï¼š\r\n\r\n![image.png](https://file.liangxiegame.com/826d5513-059e-41ba-8f5a-4fbea78dbde7.png)\r\n\r\nè¿™ä¸ªåŠŸèƒ½å¾ˆå¿«å°±å®Œæˆäº†ã€‚\r\n\r\nä½†æ˜¯è¿™ä¸ªæ—¶å€™ç­–åˆ’è¯´ï¼Œå¸Œæœ›å†å¢åŠ ä¸€ä¸ªå½“ç‚¹å‡» - å·åˆ° -10 æ—¶ï¼Œè§¦å‘ä¸€ä¸ª ç‚¹å‡»èœé¸Ÿæˆå°±ï¼Œç„¶åç­–åˆ’è¿˜è¯´ï¼Œç‚¹å‡»è¾¾äºº å’Œ ç‚¹å‡»ä¸“å®¶ æˆå°±å¤ªå®¹æ˜“è¾¾æˆäº†ï¼Œéœ€è¦åˆ†åˆ«æ”¹æˆ 1000 æ¬¡ å’Œ 2000 æ¬¡ã€‚\r\n\r\nè€Œè¿™æ¬¡ç­–åˆ’æå‡ºçš„éœ€æ±‚ï¼Œéœ€è¦æˆ‘ä»¬ä¿®æ”¹ä¸¤å¤„çš„ä»£ç ï¼Œå³ IncreaseCountCommand é‡Œéœ€è¦ä¿®æ”¹æ•°å€¼ä¸º 1000 å’Œ 2000ï¼Œç„¶åå† DecreaseCountCommand å¢åŠ ä¸€ä¸ªåˆ¤æ–­é€»è¾‘ã€‚\r\n\r\nä¸€æ¬¡æå‡ºçš„éœ€æ±‚ï¼Œç»“æœé€ æˆäº†å¤šå¤„ä¿®æ”¹ï¼Œè¿™è¯´æ˜ä»£ç æœ‰é—®é¢˜ã€‚\r\n\r\né¦–å…ˆåƒè¿™ç§è§„åˆ™ç±»çš„é€»è¾‘ï¼Œæ¯”å¦‚åˆ†æ•°ç»Ÿè®¡æˆ–è€…æˆå°±ç»Ÿè®¡ç­‰ä»£ç ï¼Œä¸é€‚åˆåˆ†æ•£å†™åœ¨ Command é‡Œï¼Œè€Œé€‚åˆç»Ÿä¸€å†™åœ¨ä¸€ä¸ªå¯¹è±¡é‡Œï¼Œè€Œè¿™ç§å¯¹è±¡ï¼Œåœ¨ QFramework é‡Œæœ‰æä¾›ï¼Œå°±æ˜¯ System å¯¹è±¡ã€‚\r\n\r\nä½¿ç”¨ä»£ç å¦‚ä¸‹:\r\n\r\n```csharp\r\nusing UnityEngine;\r\nusing UnityEngine.UI;\r\n\r\nnamespace QFramework.Example\r\n{\r\n    \r\n    // 1. å®šä¹‰ä¸€ä¸ª Model å¯¹è±¡\r\n    public class CounterAppModel : AbstractModel\r\n    {\r\n        private int mCount;\r\n\r\n        public int Count\r\n        {\r\n            get => mCount;\r\n            set\r\n            {\r\n                if (mCount != value)\r\n                {\r\n                    mCount = value;\r\n                    PlayerPrefs.SetInt(nameof(Count),mCount);\r\n                }\r\n            }\r\n        }\r\n\r\n        protected override void OnInit()\r\n        {\r\n            var storage = this.GetUtility<Storage>();\r\n\r\n            Count = storage.LoadInt(nameof(Count));\r\n\r\n            // å¯ä»¥é€šè¿‡ CounterApp.Interface ç›‘å¬æ•°æ®å˜æ›´äº‹ä»¶\r\n            CounterApp.Interface.RegisterEvent<CountChangeEvent>(e =>\r\n            {\r\n                this.GetUtility<Storage>().SaveInt(nameof(Count), Count);\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    public class AchievementSystem : AbstractSystem // +\r\n    {\r\n        protected override void OnInit()\r\n        {\r\n            var model = this.GetModel<CounterAppModel>();\r\n\r\n            this.RegisterEvent<CountChangeEvent>(e =>\r\n            {\r\n                if (model.Count == 10)\r\n                {\r\n                    Debug.Log(\"è§¦å‘ ç‚¹å‡»è¾¾äºº æˆå°±\");\r\n                }\r\n                else if (model.Count == 20)\r\n                {\r\n                    Debug.Log(\"è§¦å‘ ç‚¹å‡»ä¸“å®¶ æˆå°±\");\r\n                } else if (model.Count == -10)\r\n                {\r\n                    Debug.Log(\"è§¦å‘ ç‚¹å‡»èœé¸Ÿ æˆå°±\");\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    // å®šä¹‰ utility å±‚\r\n    public class Storage : IUtility\r\n    {\r\n        public void SaveInt(string key, int value)\r\n        {\r\n            PlayerPrefs.SetInt(key,value);\r\n        }\r\n\r\n        public int LoadInt(string key, int defaultValue = 0)\r\n        {\r\n            return PlayerPrefs.GetInt(key, defaultValue);\r\n        }\r\n    }\r\n\r\n\r\n    // 2.å®šä¹‰ä¸€ä¸ªæ¶æ„ï¼ˆæä¾› MVCã€åˆ†å±‚ã€æ¨¡å—ç®¡ç†ç­‰ï¼‰\r\n    public class CounterApp : Architecture<CounterApp>\r\n    {\r\n        protected override void Init()\r\n        {\r\n            // æ³¨å†Œ System \r\n            this.RegisterSystem(new AchievementSystem()); // +\r\n             \r\n            // æ³¨å†Œ Model\r\n            this.RegisterModel(new CounterAppModel());\r\n            \r\n            // æ³¨å†Œå­˜å‚¨å·¥å…·çš„å¯¹è±¡\r\n            this.RegisterUtility(new Storage());\r\n        }\r\n    }\r\n    \r\n    // å®šä¹‰æ•°æ®å˜æ›´äº‹ä»¶\r\n    public struct CountChangeEvent // ++\r\n    {\r\n        \r\n    }\r\n    \r\n    // å¼•å…¥ Command\r\n    public class IncreaseCountCommand : AbstractCommand \r\n    {\r\n        protected override void OnExecute()\r\n        {\r\n            var model = this.GetModel<CounterAppModel>();\r\n                \r\n            model.Count++;\r\n            this.SendEvent<CountChangeEvent>(); // ++\r\n        }\r\n    }\r\n    \r\n    public class DecreaseCountCommand : AbstractCommand\r\n    {\r\n        protected override void OnExecute()\r\n        {\r\n            this.GetModel<CounterAppModel>().Count--;\r\n            this.SendEvent<CountChangeEvent>(); // ++\r\n        }\r\n    }\r\n\r\n    // Controller\r\n    public class CounterAppController : MonoBehaviour , IController /* 3.å®ç° IController æ¥å£ */\r\n    {\r\n        // View\r\n        private Button mBtnAdd;\r\n        private Button mBtnSub;\r\n        private Text mCountText;\r\n        \r\n        // 4. Model\r\n        private CounterAppModel mModel;\r\n\r\n        void Start()\r\n        {\r\n            // 5. è·å–æ¨¡å‹\r\n            mModel = this.GetModel<CounterAppModel>();\r\n            \r\n            // View ç»„ä»¶è·å–\r\n            mBtnAdd = transform.Find(\"BtnAdd\").GetComponent<Button>();\r\n            mBtnSub = transform.Find(\"BtnSub\").GetComponent<Button>();\r\n            mCountText = transform.Find(\"CountText\").GetComponent<Text>();\r\n            \r\n            \r\n            // ç›‘å¬è¾“å…¥\r\n            mBtnAdd.onClick.AddListener(() =>\r\n            {\r\n                // äº¤äº’é€»è¾‘\r\n                this.SendCommand<IncreaseCountCommand>();\r\n            });\r\n            \r\n            mBtnSub.onClick.AddListener(() =>\r\n            {\r\n                // äº¤äº’é€»è¾‘\r\n                this.SendCommand(new DecreaseCountCommand(/* è¿™é‡Œå¯ä»¥ä¼ å‚ï¼ˆå¦‚æœæœ‰ï¼‰ */));\r\n            });\r\n            \r\n            UpdateView();\r\n            \r\n            // è¡¨ç°é€»è¾‘\r\n            this.RegisterEvent<CountChangeEvent>(e =>\r\n            {\r\n                UpdateView();\r\n\r\n            }).UnRegisterWhenGameObjectDestroyed(gameObject);\r\n        }\r\n        \r\n        void UpdateView()\r\n        {\r\n            mCountText.text = mModel.Count.ToString();\r\n        }\r\n\r\n        // 3.\r\n        public IArchitecture GetArchitecture()\r\n        {\r\n            return CounterApp.Interface;\r\n        }\r\n\r\n        private void OnDestroy()\r\n        {\r\n            // 8. å°† Model è®¾ç½®ä¸ºç©º\r\n            mModel = null;\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nä»£ç è¶Šæ¥è¶Šå¤šï¼Œä½†æ˜¯ä¸éš¾ã€‚\r\n\r\nè¿è¡Œæ¸¸æˆï¼Œç¬”è€…ç‚¹å‡»çš„ç»“æœå¦‚ä¸‹ï¼š\r\n\r\n![](https://file.liangxiegame.com/a1adc1e8-6bb9-49c1-ae74-e0e55673e865.png)\r\n\r\nç»“æœæ²¡é—®é¢˜ã€‚\r\n\r\nå¥½äº†ï¼Œç¬”è€…å†™çš„æˆå°±ç³»ç»Ÿéå¸¸ç®€é™‹ï¼Œå®é™…ä¸Šé¢åº¦æˆå°±ç³»ç»Ÿå¯ä»¥å†™å¾—éå¸¸å®Œå–„ï¼Œæ¯”å¦‚å¯ä»¥å†æˆå°±ç³»ç»Ÿé‡Œè¿›è¡Œå­˜å‚¨åŠ è½½ç­‰æ“ä½œï¼Œè€Œæ­¤æ–‡çš„æˆå°±ç³»ç»Ÿä»…ä»…æ˜¯å±•ç¤ºç›®çš„ã€‚\r\n\r\nåˆ°æ­¤ï¼Œæˆ‘ä»¬å°±æ¥è§¦åˆ°äº† QFramework æ¶æ„æ‰€æä¾›çš„æ ¸å¿ƒæ¦‚å¿µã€‚\r\n\r\næˆ‘ä»¬å›é¡¾ä¸€ä¸‹ç¬¬ä¸€ç¯‡çš„ä¸¤å¼ å›¾ï¼Œå¦‚ä¸‹:\r\n\r\n![](https://file.liangxiegame.com/39bdcf54-0240-46e0-8f68-9eb708505695.png)\r\n\r\n\r\n\r\n![](https://file.liangxiegame.com/6bf42306-0b2a-4417-bbcf-354af0132596.png)\r\n\r\nåˆ°æ­¤ï¼Œå¤§å®¶åº”è¯¥èƒ½çœ‹æ‡‚è¿™ä¸¤å¼ å›¾äº†ã€‚\r\n\r\nQFramework æ€»å…±åˆ†å››ä¸ªå±‚çº§ï¼Œå³\r\n* è¡¨ç°å±‚ï¼šIController\r\n* ç³»ç»Ÿå±‚ï¼šISystem\r\n* æ•°æ®å±‚ï¼šIModel\r\n* å·¥å…·å±‚ï¼šIUtility\r\n\r\né™¤äº†å››ä¸ªå±‚çº§ï¼Œè¿˜æ¥è§¦äº†ä¸º Controller çš„äº¤äº’é€»è¾‘å‡è´Ÿçš„ Command å’Œ ä¸ºè¡¨ç°é€»è¾‘å‡è´Ÿçš„ Eventã€‚\r\n\r\nè¿˜æœ‰ä¸€ä¸ªéå¸¸é‡è¦çš„ CQRS åŸåˆ™çš„ç®€æ˜“ç‰ˆæœ¬ï¼ŒCommand->Model->State Changed Eventã€‚\r\n\r\nåˆ°ç›®å‰ä¸ºæ­¢ QFramework çš„åŸºæœ¬ç”¨æ³•æˆ‘ä»¬è¿‡äº†ä¸€éäº†ã€‚\r\n\r\nä»ä¸‹ä¸€ç¯‡å¼€å§‹ï¼Œæˆ‘ä»¬å¼€å§‹ä»‹ç» QFramework æ¶æ„æä¾›çš„å‰©ä½™åŠŸèƒ½ï¼Œè¿™äº›åŠŸèƒ½æ˜¯å¯é€‰çš„ã€‚\r\n\r\nè¿™ç¯‡å°±åˆ°è¿™é‡Œã€‚\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n\r\n\r\n\r\n\r\n\r\n# 07. ä½¿ç”¨ BindableProperty ä¼˜åŒ–äº‹ä»¶\r\n\r\nåœ¨è¿™ç¯‡æˆ‘ä»¬ä»‹ç»ä¸€ä¸ªæ–°çš„æ¦‚å¿µ BindablePropertyã€‚\r\n\r\nBindableProperty æ˜¯åŒ…å« æ•°æ® + æ•°æ®å˜æ›´äº‹ä»¶ çš„ä¸€ä¸ªå¯¹è±¡ã€‚\r\n\r\n## BindableProperty åŸºæœ¬ä½¿ç”¨\r\nç®€å•çš„ç”¨æ³•å¦‚ä¸‹:\r\n\r\n```csharp\r\nvar age = new BindableProperty<int>(10);\r\n\r\nage.Register(newAge=>{\r\n  \r\n  Debug.Log(newAge)\r\n}).UnRegisterWhenGameObjectDestoryed(gameObject);\r\n\r\n\r\nage++;\r\nage--;\r\n\r\n\r\n// è¾“å‡ºç»“æœ\r\n// 11\r\n// 10\r\n```\r\n\r\néå¸¸ç®€å•ï¼Œå°±æ˜¯å½“è°ƒç”¨ age++ å’Œ age-- çš„æ—¶å€™ï¼Œå°±ä¼šè§¦å‘æ•°æ®å˜æ›´äº‹ä»¶ã€‚\r\n\r\nBindableProperty é™¤äº†æä¾› Register è¿™ä¸ª API ä¹‹å¤–ï¼Œè¿˜æä¾›äº† RegisterWithInitValue API,æ„æ€æ˜¯ æ³¨å†Œæ—¶ å…ˆæŠŠå½“å‰å€¼è¿”å›è¿‡æ¥ã€‚\r\n\r\nå…·ä½“ç”¨æ³•å¦‚ä¸‹:\r\n\r\n```csharp\r\nvar age = new BindableProperty<int>(5);\r\n\r\nage.RegisterWithInitValue(newAge => {\r\n  \r\n  Debug.Log(newAge);\r\n  \r\n});\r\n\r\n// è¾“å‡ºç»“æœ\r\n// 5\r\n```\r\n\r\nè¿™ä¸ª API å°±æ˜¯ï¼Œæ²¡æœ‰ä»»ä½•å˜åŒ–çš„æƒ…å†µä¸‹ï¼Œage å…ˆè¿”å›ä¸€ä¸ªå½“å‰çš„å€¼ï¼Œæ¯”è¾ƒæ–¹ä¾¿ç”¨äºæ˜¾ç¤ºåˆå§‹ç•Œé¢ã€‚\r\n\r\nBindableProperty æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å·¥å…·ï¼Œå¯ä»¥è„±ç¦» QFramework æ¶æ„ä½¿ç”¨ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸ç”¨éè¦ç”¨ QFramework çš„ MVC æ‰èƒ½ç”¨ BindablePropertyï¼Œè€Œæ˜¯å¯ä»¥å†è‡ªå·±é¡¹ç›®ä¸­éšæ„ä½¿ç”¨ã€‚\r\n\r\n## ä½¿ç”¨ BindableProperty ä¼˜åŒ–  CounterApp çš„ä»£ç \r\n\r\næˆ‘ä»¬ç›´æ¥ä¼˜åŒ–å³å¯ï¼Œä¼˜åŒ–åä»£ç å¦‚ä¸‹:\r\n\r\n```csharp\r\nusing UnityEngine;\r\nusing UnityEngine.UI;\r\n\r\nnamespace QFramework.Example\r\n{\r\n    \r\n    // 1. å®šä¹‰ä¸€ä¸ª Model å¯¹è±¡\r\n    public class CounterAppModel : AbstractModel\r\n    {\r\n        public BindableProperty<int> Count { get; } = new BindableProperty<int>();\r\n\r\n        protected override void OnInit()\r\n        {\r\n            var storage = this.GetUtility<Storage>();\r\n            \r\n            // è®¾ç½®åˆå§‹å€¼ï¼ˆä¸è§¦å‘äº‹ä»¶ï¼‰\r\n            Count.SetValueWithoutEvent(storage.LoadInt(nameof(Count)));\r\n\r\n            // å½“æ•°æ®å˜æ›´æ—¶ å­˜å‚¨æ•°æ®\r\n            Count.Register(newCount =>\r\n            {\r\n                storage.SaveInt(nameof(Count),newCount);\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    public class AchievementSystem : AbstractSystem \r\n    {\r\n        protected override void OnInit()\r\n        {\r\n            this.GetModel<CounterAppModel>() // -+\r\n                .Count\r\n                .Register(newCount =>\r\n                {\r\n                    if (newCount == 10)\r\n                    {\r\n                        Debug.Log(\"è§¦å‘ ç‚¹å‡»è¾¾äºº æˆå°±\");\r\n                    }\r\n                    else if (newCount == 20)\r\n                    {\r\n                        Debug.Log(\"è§¦å‘ ç‚¹å‡»ä¸“å®¶ æˆå°±\");\r\n                    }\r\n                    else if (newCount == -10)\r\n                    {\r\n                        Debug.Log(\"è§¦å‘ ç‚¹å‡»èœé¸Ÿ æˆå°±\");\r\n                    }\r\n                });\r\n        }\r\n    }\r\n\r\n    // å®šä¹‰ utility å±‚\r\n    public class Storage : IUtility\r\n    {\r\n        public void SaveInt(string key, int value)\r\n        {\r\n            PlayerPrefs.SetInt(key,value);\r\n        }\r\n\r\n        public int LoadInt(string key, int defaultValue = 0)\r\n        {\r\n            return PlayerPrefs.GetInt(key, defaultValue);\r\n        }\r\n    }\r\n\r\n\r\n    // 2.å®šä¹‰ä¸€ä¸ªæ¶æ„ï¼ˆæä¾› MVCã€åˆ†å±‚ã€æ¨¡å—ç®¡ç†ç­‰ï¼‰\r\n    public class CounterApp : Architecture<CounterApp>\r\n    {\r\n        protected override void Init()\r\n        {\r\n            // æ³¨å†Œ System \r\n            this.RegisterSystem(new AchievementSystem()); // +\r\n             \r\n            // æ³¨å†Œ Model\r\n            this.RegisterModel(new CounterAppModel());\r\n            \r\n            // æ³¨å†Œå­˜å‚¨å·¥å…·çš„å¯¹è±¡\r\n            this.RegisterUtility(new Storage());\r\n        }\r\n    }\r\n\r\n    // å¼•å…¥ Command\r\n    public class IncreaseCountCommand : AbstractCommand \r\n    {\r\n        protected override void OnExecute()\r\n        {\r\n            var model = this.GetModel<CounterAppModel>();\r\n                \r\n            model.Count.Value++; // -+\r\n        }\r\n    }\r\n    \r\n    public class DecreaseCountCommand : AbstractCommand\r\n    {\r\n        protected override void OnExecute()\r\n        {\r\n            this.GetModel<CounterAppModel>().Count.Value--; // -+\r\n        }\r\n    }\r\n\r\n    // Controller\r\n    public class CounterAppController : MonoBehaviour , IController /* 3.å®ç° IController æ¥å£ */\r\n    {\r\n        // View\r\n        private Button mBtnAdd;\r\n        private Button mBtnSub;\r\n        private Text mCountText;\r\n        \r\n        // 4. Model\r\n        private CounterAppModel mModel;\r\n\r\n        void Start()\r\n        {\r\n            // 5. è·å–æ¨¡å‹\r\n            mModel = this.GetModel<CounterAppModel>();\r\n            \r\n            // View ç»„ä»¶è·å–\r\n            mBtnAdd = transform.Find(\"BtnAdd\").GetComponent<Button>();\r\n            mBtnSub = transform.Find(\"BtnSub\").GetComponent<Button>();\r\n            mCountText = transform.Find(\"CountText\").GetComponent<Text>();\r\n            \r\n            \r\n            // ç›‘å¬è¾“å…¥\r\n            mBtnAdd.onClick.AddListener(() =>\r\n            {\r\n                // äº¤äº’é€»è¾‘\r\n                this.SendCommand<IncreaseCountCommand>();\r\n            });\r\n            \r\n            mBtnSub.onClick.AddListener(() =>\r\n            {\r\n                // äº¤äº’é€»è¾‘\r\n                this.SendCommand(new DecreaseCountCommand(/* è¿™é‡Œå¯ä»¥ä¼ å‚ï¼ˆå¦‚æœæœ‰ï¼‰ */));\r\n            });\r\n\r\n            // è¡¨ç°é€»è¾‘\r\n            mModel.Count.RegisterWithInitValue(newCount => // -+\r\n            {\r\n                UpdateView();\r\n\r\n            }).UnRegisterWhenGameObjectDestroyed(gameObject);\r\n        }\r\n        \r\n        void UpdateView()\r\n        {\r\n            mCountText.text = mModel.Count.ToString();\r\n        }\r\n\r\n        // 3.\r\n        public IArchitecture GetArchitecture()\r\n        {\r\n            return CounterApp.Interface;\r\n        }\r\n\r\n        private void OnDestroy()\r\n        {\r\n            // 8. å°† Model è®¾ç½®ä¸ºç©º\r\n            mModel = null;\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nä»£ç æ”¹åŠ¨å¾ˆå¤šï¼Œé‡è¦çš„æ”¹åŠ¨ä¸ºï¼š\r\n* Model ä¸­çš„ Count å’Œ mCount æ”¹æˆäº†ä¸€ä¸ªå«åš Count çš„ BindableProperty\r\n* åˆ æ‰äº† CountChangeEvent æ”¹ç”¨ç›‘å¬ BindableProperty\r\n* Controller åœ¨åˆå§‹åŒ–ä¸­å»æ‰ä¸€æ¬¡ UpdateView çš„ä¸»åŠ¨è°ƒç”¨\r\n\r\nå¯ä»¥è¯´ä»£ç é‡ä¸€ä¸‹å­å°‘äº†å¾ˆå¤šã€‚\r\n\r\næˆ‘ä»¬çœ‹ä¸‹è¿è¡Œç»“æœï¼š\r\n\r\n![282fcc3c-96fa-46e1-b4c6-7f4528b04271.gif](https://file.liangxiegame.com/1b934e4f-8f72-44c2-800a-a97f1e707950.gif)\r\n\r\n\r\nè¿è¡Œæ²¡é—®é¢˜ã€‚\r\n\r\nç”±äºæˆ‘ä»¬çš„ Count æ•°æ®ï¼Œæ˜¯å•ä¸ªæ•°æ® + äº‹ä»¶å˜æ›´çš„å½¢å¼ï¼Œæ‰€ä»¥ç”¨ BindableProperty éå¸¸åˆé€‚ï¼Œå¯ä»¥å°‘å†™å¾ˆå¤šä»£ç ã€‚\r\n\r\nä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåƒä¸»è§’çš„é‡‘å¸ã€åˆ†æ•°ç­‰æ•°æ®éå¸¸é€‚åˆç”¨ BindableProperty çš„æ–¹å¼å®ç°ã€‚\r\n\r\nå¥½äº† BindableProperty æˆ‘ä»¬å°±ä»‹ç»åˆ°è¿™é‡Œã€‚\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n# 08. ç”¨æ¥å£è®¾è®¡æ¨¡å—ï¼ˆä¾èµ–å€’ç½®åŸåˆ™ï¼‰\r\n\r\nQFramework æœ¬èº«æ”¯æŒä¾èµ–å€’ç½®åŸåˆ™ï¼Œå°±æ˜¯æ‰€æœ‰çš„æ¨¡å—è®¿é—®å’Œäº¤äº’éƒ½å¯ä»¥é€šè¿‡æ¥å£æ¥å®Œæˆï¼Œä»£ç å¦‚ä¸‹:\r\n\r\n```csharp\r\nusing UnityEngine;\r\nusing UnityEngine.UI;\r\n\r\nnamespace QFramework.Example\r\n{\r\n    \r\n    // 1. å®šä¹‰ä¸€ä¸ª Model å¯¹è±¡\r\n    public interface ICounterAppModel : IModel\r\n    {\r\n        BindableProperty<int> Count { get; }\r\n    }\r\n    public class CounterAppModel : AbstractModel,ICounterAppModel\r\n    {\r\n        public BindableProperty<int> Count { get; } = new BindableProperty<int>();\r\n\r\n        protected override void OnInit()\r\n        {\r\n            var storage = this.GetUtility<IStorage>();\r\n            \r\n            // è®¾ç½®åˆå§‹å€¼ï¼ˆä¸è§¦å‘äº‹ä»¶ï¼‰\r\n            Count.SetValueWithoutEvent(storage.LoadInt(nameof(Count)));\r\n\r\n            // å½“æ•°æ®å˜æ›´æ—¶ å­˜å‚¨æ•°æ®\r\n            Count.Register(newCount =>\r\n            {\r\n                storage.SaveInt(nameof(Count),newCount);\r\n            });\r\n        }\r\n    }\r\n\r\n    public interface IAchievementSystem : ISystem\r\n    {\r\n        \r\n    }\r\n\r\n    public class AchievementSystem : AbstractSystem ,IAchievementSystem\r\n    {\r\n        protected override void OnInit()\r\n        {\r\n            this.GetModel<ICounterAppModel>() // -+\r\n                .Count\r\n                .Register(newCount =>\r\n                {\r\n                    if (newCount == 10)\r\n                    {\r\n                        Debug.Log(\"è§¦å‘ ç‚¹å‡»è¾¾äºº æˆå°±\");\r\n                    }\r\n                    else if (newCount == 20)\r\n                    {\r\n                        Debug.Log(\"è§¦å‘ ç‚¹å‡»ä¸“å®¶ æˆå°±\");\r\n                    }\r\n                    else if (newCount == -10)\r\n                    {\r\n                        Debug.Log(\"è§¦å‘ ç‚¹å‡»èœé¸Ÿ æˆå°±\");\r\n                    }\r\n                });\r\n        }\r\n    }\r\n\r\n    public interface IStorage : IUtility\r\n    {\r\n        void SaveInt(string key, int value);\r\n        int LoadInt(string key, int defaultValue = 0);\r\n    }\r\n    \r\n    public class Storage : IStorage\r\n    {\r\n        public void SaveInt(string key, int value)\r\n        {\r\n            PlayerPrefs.SetInt(key,value);\r\n        }\r\n\r\n        public int LoadInt(string key, int defaultValue = 0)\r\n        {\r\n            return PlayerPrefs.GetInt(key, defaultValue);\r\n        }\r\n    }\r\n\r\n\r\n    // 2.å®šä¹‰ä¸€ä¸ªæ¶æ„ï¼ˆæä¾› MVCã€åˆ†å±‚ã€æ¨¡å—ç®¡ç†ç­‰ï¼‰\r\n    public class CounterApp : Architecture<CounterApp>\r\n    {\r\n        protected override void Init()\r\n        {\r\n            // æ³¨å†Œ System \r\n            this.RegisterSystem<IAchievementSystem>(new AchievementSystem()); \r\n             \r\n            // æ³¨å†Œ Model\r\n            this.RegisterModel<ICounterAppModel>(new CounterAppModel());\r\n            \r\n            // æ³¨å†Œå­˜å‚¨å·¥å…·çš„å¯¹è±¡\r\n            this.RegisterUtility<IStorage>(new Storage());\r\n        }\r\n    }\r\n\r\n    // å¼•å…¥ Command\r\n    public class IncreaseCountCommand : AbstractCommand \r\n    {\r\n        protected override void OnExecute()\r\n        {\r\n            var model = this.GetModel<ICounterAppModel>();\r\n                \r\n            model.Count.Value++; // -+\r\n        }\r\n    }\r\n    \r\n    public class DecreaseCountCommand : AbstractCommand\r\n    {\r\n        protected override void OnExecute()\r\n        {\r\n            this.GetModel<ICounterAppModel>().Count.Value--; // -+\r\n        }\r\n    }\r\n\r\n    // Controller\r\n    public class CounterAppController : MonoBehaviour , IController /* 3.å®ç° IController æ¥å£ */\r\n    {\r\n        // View\r\n        private Button mBtnAdd;\r\n        private Button mBtnSub;\r\n        private Text mCountText;\r\n        \r\n        // 4. Model\r\n        private ICounterAppModel mModel;\r\n\r\n        void Start()\r\n        {\r\n            // 5. è·å–æ¨¡å‹\r\n            mModel = this.GetModel<ICounterAppModel>();\r\n            \r\n            // View ç»„ä»¶è·å–\r\n            mBtnAdd = transform.Find(\"BtnAdd\").GetComponent<Button>();\r\n            mBtnSub = transform.Find(\"BtnSub\").GetComponent<Button>();\r\n            mCountText = transform.Find(\"CountText\").GetComponent<Text>();\r\n            \r\n            \r\n            // ç›‘å¬è¾“å…¥\r\n            mBtnAdd.onClick.AddListener(() =>\r\n            {\r\n                // äº¤äº’é€»è¾‘\r\n                this.SendCommand<IncreaseCountCommand>();\r\n            });\r\n            \r\n            mBtnSub.onClick.AddListener(() =>\r\n            {\r\n                // äº¤äº’é€»è¾‘\r\n                this.SendCommand(new DecreaseCountCommand(/* è¿™é‡Œå¯ä»¥ä¼ å‚ï¼ˆå¦‚æœæœ‰ï¼‰ */));\r\n            });\r\n\r\n            // è¡¨ç°é€»è¾‘\r\n            mModel.Count.RegisterWithInitValue(newCount => // -+\r\n            {\r\n                UpdateView();\r\n\r\n            }).UnRegisterWhenGameObjectDestroyed(gameObject);\r\n        }\r\n        \r\n        void UpdateView()\r\n        {\r\n            mCountText.text = mModel.Count.ToString();\r\n        }\r\n\r\n        // 3.\r\n        public IArchitecture GetArchitecture()\r\n        {\r\n            return CounterApp.Interface;\r\n        }\r\n\r\n        private void OnDestroy()\r\n        {\r\n            // 8. å°† Model è®¾ç½®ä¸ºç©º\r\n            mModel = null;\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nä»£ç ä¸éš¾ã€‚\r\n\r\næ‰€æœ‰çš„æ¨¡å—æ³¨å†Œï¼Œæ¨¡å—è·å– ç­‰ä»£ç éƒ½æ˜¯é€šè¿‡æ¥å£å®Œæˆï¼Œè¿™ä¸€ç‚¹ç¬¦åˆ SOLID åŸåˆ™ä¸­çš„ ä¾èµ–å€’ç½®åŸåˆ™ã€‚\r\n\r\né€šè¿‡æ¥å£è®¾è®¡æ¨¡å—å¯ä»¥è®©æˆ‘ä»¬æ›´å®¹æ˜“æ€è€ƒæ¨¡å—ä¹‹é—´çš„äº¤äº’å’ŒèŒè´£æœ¬èº«ï¼Œè€Œä¸æ˜¯å…·ä½“å®ç°ï¼Œåœ¨è®¾è®¡çš„æ—¶å€™å¯ä»¥å‡å°‘å¾ˆå¤šçš„å¹²æ‰°ã€‚\r\n\r\nå½“ç„¶é¢å‘æ¥å£çš„æ–¹å¼å»åšå¼€å‘ä¹Ÿæœ‰å¾ˆå¤šå…¶ä»–çš„å¥½å¤„ï¼Œè¿™å½“ç„¶æ˜¯å¤§å®¶éšç€ä½¿ç”¨æ—¶é•¿ä¼šæ…¢æ…¢ä½“ä¼šçš„ã€‚\r\n\r\nå…¶ä¸­æœ‰ä¸€ä¸ªé‡è¦çš„å¤§ä¸€ç‚¹ï¼Œå°±æ˜¯æˆ‘ä»¬ä¹‹å‰è¯´çš„ Storageï¼Œå¦‚æœæƒ³æŠŠå­˜å‚¨çš„ API ä» PlayerPrefs åˆ‡æ¢æˆ EasySaveï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±ä¸éœ€è¦å»ä¿®æ”¹ Storage å¯¹è±¡ï¼Œè€Œæ˜¯æ‰©å±•ä¸€ä¸ª IStorage æ¥å£å³å¯ï¼Œä¼ªä»£ç å¦‚ä¸‹:\r\n```csharp\r\n    public class EasySaveStorage : IStorage\r\n    {\r\n        public void SaveInt(string key, int value)\r\n        {\r\n            // todo\r\n        }\r\n\r\n        public int LoadInt(string key, int defaultValue = 0)\r\n        {\r\n            // todo\r\n            throw new System.NotImplementedException();\r\n        }\r\n    }\r\n```\r\n\r\næ³¨å†Œæ¨¡å—çš„ä¼ªä»£ç å¦‚ä¸‹:\r\n\r\n```csharp\r\n    // å®šä¹‰ä¸€ä¸ªæ¶æ„ï¼ˆç”¨äºç®¡ç†æ¨¡å—ï¼‰\r\n    public class CounterApp : Architecture<CounterApp>\r\n    {\r\n        protected override void Init()\r\n        {\r\n            // æ³¨å†Œæˆå°±ç³»ç»Ÿ\r\n            this.RegisterSystem<IAchievementSystem>(new AchievementSystem());\r\n            \r\n            this.RegisterModel<ICounterAppModel>(new CounterAppModel());\r\n            \r\n            // æ³¨å†Œå­˜å‚¨å·¥å…·å¯¹è±¡\r\n            // this.RegisterUtility<IStorage>(new Storage());\r\n            this.RegisterUtility<IStorage>(new EasySaveStorage());\r\n        }\r\n    }\r\n```\r\n\r\nè¿™æ ·ï¼Œåº•å±‚æ‰€æœ‰å­˜å‚¨çš„ä»£ç éƒ½åˆ‡æ¢æˆäº† EasySave çš„å­˜å‚¨ï¼Œæ›¿æ¢ä¸€å¥—æ–¹æ¡ˆéå¸¸ç®€å•ã€‚\r\n\r\nå¥½äº†ï¼Œç”¨æ¥å£è®¾è®¡æ¨¡å—çš„åŠŸèƒ½å°±ä»‹ç»å®Œäº†ã€‚\r\n\r\nè¿™ç¯‡å†…å®¹å°±è¿™äº›ã€‚\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n# 09. Query ä»‹ç»\r\n\r\nQuery æ˜¯ CQRS ä¸­çš„ Qï¼Œä¹Ÿå°±æ˜¯ Command Query Responsibility Saperation ä¸­çš„ Queryã€‚\r\n\r\nå…³äº Command æˆ‘ä»¬å·²ç»ä»‹ç»äº†ã€‚\r\n\r\nè€Œ Query æ˜¯å’Œ Command å¯¹åº”çš„æŸ¥è¯¢å¯¹è±¡ã€‚\r\n\r\né¦–å…ˆ Controller ä¸­çš„è¡¨ç°é€»è¾‘æ›´å¤šæ˜¯æ¥æ”¶åˆ°æ•°æ®å˜æ›´äº‹ä»¶ä¹‹åï¼Œå¯¹ Model æˆ–è€… System è¿›è¡ŒæŸ¥è¯¢ï¼Œè€ŒæŸ¥è¯¢çš„æ—¶å€™ï¼Œæœ‰çš„æ—¶å€™éœ€è¦ç»„åˆæŸ¥è¯¢ï¼Œæ¯”å¦‚å¤šä¸ª Model ä¸€èµ·æŸ¥è¯¢ï¼ŒæŸ¥è¯¢çš„æ•°æ®å¯èƒ½è¿˜éœ€è¦è½¬æ¢ä¸€ä¸‹ï¼Œè¿™ç§æŸ¥è¯¢çš„ä»£ç é‡æ¯”è¾ƒå¤šã€‚å°¤å…¶æ˜¯åƒæ¨¡æ‹Ÿè­¦ç”¨æˆ–è€…éå¸¸é‡æ•°æ®çš„é¡¹ç›®ï¼Œæ‰€ä»¥ QFramework æ”¯æŒé€šè¿‡ Query è¿™æ ·çš„ä¸€ä¸ªæ¦‚å¿µï¼Œæ¥è§£å†³è¿™éƒ¨åˆ†é—®é¢˜ã€‚\r\n\r\nä½¿ç”¨çš„æ–¹å¼ä¹Ÿå¾ˆç®€å•ï¼Œå’Œ Command ç”¨æ³•ä¸€è‡´ï¼Œè¿™é‡Œæˆ‘ä»¬å†™ä¸€ä¸ªå°çš„ Appï¼Œ å«åš QueryExampleApp ä»£ç å¦‚ä¸‹:\r\n\r\n```csharp\r\nusing System.Collections.Generic;\r\nusing UnityEngine;\r\n\r\nnamespace QFramework.Example\r\n{\r\n    public class QueryExampleController : MonoBehaviour,IController\r\n    {\r\n        public class StudentModel : AbstractModel\r\n        {\r\n\r\n            public List<string> StudentNames = new List<string>()\r\n            {\r\n                \"å¼ ä¸‰\",\r\n                \"æå››\"\r\n            };\r\n            \r\n            protected override void OnInit()\r\n            {\r\n                \r\n            }\r\n        }\r\n        \r\n        public class TeacherModel : AbstractModel\r\n        {\r\n            public List<string> TeacherNames = new List<string>()\r\n            {\r\n                \"ç‹äº”\",\r\n                \"èµµå…­\"\r\n            };\r\n                \r\n            protected override void OnInit()\r\n            {\r\n                \r\n            }\r\n        }\r\n\r\n        // Architecture\r\n        public class QueryExampleApp : Architecture<QueryExampleApp>\r\n        {\r\n            protected override void Init()\r\n            {\r\n                this.RegisterModel(new StudentModel());\r\n                this.RegisterModel(new TeacherModel());\r\n            }\r\n        }\r\n        \r\n        \r\n        /// <summary>\r\n        /// è·å–å­¦æ ¡çš„å…¨éƒ¨äººæ•°\r\n        /// </summary>\r\n        public class SchoolAllPersonCountQuery : AbstractQuery<int>\r\n        {\r\n            protected override int OnDo()\r\n            {\r\n                return this.GetModel<StudentModel>().StudentNames.Count +\r\n                       this.GetModel<TeacherModel>().TeacherNames.Count;\r\n            }\r\n        }\r\n\r\n        private int mAllPersonCount = 0;\r\n\r\n        private void OnGUI()\r\n        {\r\n            GUILayout.Label(mAllPersonCount.ToString());\r\n\r\n            if (GUILayout.Button(\"æŸ¥è¯¢å­¦æ ¡æ€»äººæ•°\"))\r\n            {\r\n                mAllPersonCount = this.SendQuery(new SchoolAllPersonCountQuery());\r\n            }\r\n        }\r\n\r\n        public IArchitecture GetArchitecture()\r\n        {\r\n            return QueryExampleApp.Interface;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nä»£ç ä¸éš¾ã€‚\r\n\r\nè¿è¡Œä¹‹åï¼Œå½“æŒ‰ä¸‹æŸ¥è¯¢æŒ‰é’®æ—¶ç»“æœå¦‚ä¸‹ï¼š\r\n\r\n\r\n![image.png](https://file.liangxiegame.com/1736bf69-b795-408a-8c09-6e413f57b0b1.png)\r\n\r\n\r\nå¥½äº†ï¼Œè¿™æ · Query çš„ç¤ºä¾‹å°±å†™å®Œäº†ã€‚\r\n\r\nQuery æ˜¯ä¸€ä¸ªå¯é€‰çš„æ¦‚å¿µï¼Œå¦‚æœæ¸¸æˆä¸­æ•°æ®çš„æŸ¥è¯¢é€»è¾‘å¹¶ä¸æ˜¯å¾ˆé‡çš„è¯ï¼Œç›´æ¥åœ¨ Controller çš„è¡¨ç°é€»è¾‘é‡Œå†™å°±å¯ä»¥äº†ï¼Œä½†æ˜¯æŸ¥è¯¢æ•°æ®æ¯”è¾ƒé‡ï¼Œæˆ–è€…é¡¹ç›®è§„æ¨¡éå¸¸å¤§çš„è¯ï¼Œæœ€å¥½æ˜¯ç”¨ Query æ¥æ‰¿æ‹…æŸ¥è¯¢çš„é€»è¾‘ã€‚\r\n\r\n\r\nCommand ä¸€èˆ¬è´Ÿè´£æ•°æ®çš„ å¢ åˆ  æ”¹ï¼Œè€Œ Query è´Ÿè´£æ•°æ®çš„ æŸ¥ã€‚\r\n\r\n\r\nå¦‚æœæ¸¸æˆéœ€è¦ä»æœåŠ¡å™¨åŒæ­¥æ•°æ®ï¼Œä¸€èˆ¬æ‹‰å–æœåŠ¡å™¨æ•°æ®çš„è¯·æ±‚å¯ä»¥å†™åœ¨ Query ä¸­ï¼Œè€Œå¢åˆ æ”¹æœåŠ¡å™¨è¾“çš„è¯·æ±‚å¯ä»¥å†™åœ¨ Command ä¸­ã€‚\r\n\r\nå¥½äº†ï¼Œå…³äº Query å°±ä»‹ç»åˆ°è¿™é‡Œã€‚\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n# 10. æ¶æ„è§„èŒƒ ä¸ æ¨èç”¨æ³•\r\n\r\nQFramework æ¶æ„æä¾›äº†å››ä¸ªå±‚çº§ï¼š\r\n* è¡¨ç°å±‚ï¼šIController\r\n* ç³»ç»Ÿå±‚ï¼šISystem\r\n* æ•°æ®å±‚ï¼šIModel\r\n* å·¥å…·å±‚ï¼šIUtility\r\n\r\n\r\né™¤äº†å››ä¸ªå±‚çº§ï¼Œè¿˜æä¾›äº† Commandã€Queryã€Eventã€BindableProperty ç­‰æ¦‚å¿µå’Œå·¥å…·ã€‚\r\n\r\nè¿™é‡Œæœ‰ä¸€å¥—å±‚çº§çš„è§„åˆ™ï¼Œå¦‚ä¸‹ï¼š\r\n\r\n* è¡¨ç°å±‚ï¼šViewController å±‚ã€‚IControlleræ¥å£ï¼Œè´Ÿè´£æ¥æ”¶è¾“å…¥å’ŒçŠ¶æ€å˜åŒ–æ—¶çš„è¡¨ç°ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒMonoBehaviour å‡ä¸ºè¡¨ç°å±‚\r\n  * å¯ä»¥è·å– Systemã€Model\r\n  * å¯ä»¥å‘é€ Commandã€Query\r\n  * å¯ä»¥ç›‘å¬ Event\r\n\r\nController çš„æ¥å£å®šä¹‰å¦‚ä¸‹ï¼š\r\n\r\n```csharp\r\n#region Controller\r\n\r\npublic interface IController : IBelongToArchitecture, ICanSendCommand, ICanGetSystem, ICanGetModel,ICanRegisterEvent, ICanSendQuery\r\n{\r\n}\r\n\r\n#endregion\r\n```\r\n\r\n* ç³»ç»Ÿå±‚ï¼šSystemå±‚ã€‚ISystemæ¥å£ï¼Œå¸®åŠ©IControlleræ‰¿æ‹…ä¸€éƒ¨åˆ†é€»è¾‘ï¼Œåœ¨å¤šä¸ªè¡¨ç°å±‚å…±äº«çš„é€»è¾‘ï¼Œæ¯”å¦‚è®¡æ—¶ç³»ç»Ÿã€å•†åŸç³»ç»Ÿã€æˆå°±ç³»ç»Ÿç­‰\r\n  * å¯ä»¥è·å– Systemã€Model\r\n  * å¯ä»¥ç›‘å¬Event\r\n  *  å¯ä»¥å‘é€Event\r\n\r\nSystem çš„æ¥å£å®šä¹‰å¦‚ä¸‹ï¼š\r\n\r\n```csharp\r\n#region System\r\n\r\npublic interface ISystem : IBelongToArchitecture, ICanSetArchitecture, ICanGetModel, ICanGetUtility,ICanRegisterEvent, ICanSendEvent, ICanGetSystem\r\n{\r\n    void Init();\r\n}\r\n```\r\n\r\n\r\n* æ•°æ®å±‚ï¼šModelå±‚ã€‚IModelæ¥å£ï¼Œè´Ÿè´£æ•°æ®çš„å®šä¹‰ã€æ•°æ®çš„å¢åˆ æŸ¥æ”¹æ–¹æ³•çš„æä¾›\r\n  * å¯ä»¥è·å– Utility\r\n  * å¯ä»¥å‘é€ Event\r\n\r\n\r\nModel çš„æ¥å£å®šä¹‰å¦‚ä¸‹ï¼š\r\n```csharp\r\npublic interface IModel : IBelongToArchitecture, ICanSetArchitecture, ICanGetUtility, ICanSendEvent\r\n{\r\n    void Init();\r\n}\r\n```\r\n\r\n\r\n* å·¥å…·å±‚ï¼šUtilityå±‚ã€‚IUtilityæ¥å£ï¼Œè´Ÿè´£æä¾›åŸºç¡€è®¾æ–½ï¼Œæ¯”å¦‚å­˜å‚¨æ–¹æ³•ã€åºåˆ—åŒ–æ–¹æ³•ã€ç½‘ç»œè¿æ¥æ–¹æ³•ã€è“ç‰™æ–¹æ³•ã€SDKã€æ¡†æ¶ç»§æ‰¿ç­‰ã€‚å•¥éƒ½å¹²ä¸äº†ï¼Œå¯ä»¥é›†æˆç¬¬ä¸‰æ–¹åº“ï¼Œæˆ–è€…å°è£…API\r\n\r\nUtility çš„æ¥å£å®šä¹‰å¦‚ä¸‹:\r\n```csharp\r\n#region Utility\r\n\r\npublic interface IUtility\r\n{\r\n}\r\n\r\n#endregion\r\n```\r\n\r\n\r\n* Commandï¼šå‘½ä»¤ï¼Œè´Ÿè´£æ•°æ®çš„å¢åˆ æ”¹ã€‚\r\n  * å¯ä»¥è·å– Systemã€Model\r\n  * å¯ä»¥å‘é€ Eventã€Command\r\n\r\nCommand çš„æ¥å£å®šä¹‰å¦‚ä¸‹ï¼š\r\n\r\n```csharp\r\npublic interface ICommand : IBelongToArchitecture, ICanSetArchitecture, ICanGetSystem, ICanGetModel, ICanGetUtility,ICanSendEvent, ICanSendCommand, ICanSendQuery\r\n{\r\n    void Execute();\r\n}\r\n```\r\n\r\n* Queryï¼šæŸ¥è¯¢ã€è´Ÿè´£æ•°æ®çš„æŸ¥è¯¢\r\n  * å¯ä»¥è·å– Systemã€Model\r\n  * å¯ä»¥å‘é€ Query\r\n\r\n```csharp\r\npublic interface IQuery<TResult> : IBelongToArchitecture, ICanSetArchitecture, ICanGetModel, ICanGetSystem,ICanSendQuery\r\n{\r\n    TResult Do();\r\n}\r\n```\r\n\r\n\r\n* é€šç”¨è§„åˆ™ï¼š\r\n  - IController æ›´æ”¹ ISystemã€IModel çš„çŠ¶æ€å¿…é¡»ç”¨Command\r\n  - ISystemã€IModel çŠ¶æ€å‘ç”Ÿå˜æ›´åé€šçŸ¥ IController å¿…é¡»ç”¨äº‹ä»¶æˆ–BindableProperty\r\n  - IControllerå¯ä»¥è·å–ISystemã€IModelå¯¹è±¡æ¥è¿›è¡Œæ•°æ®æŸ¥è¯¢\r\n  - ICommandã€IQuery ä¸èƒ½æœ‰çŠ¶æ€,\r\n  - ä¸Šå±‚å¯ä»¥ç›´æ¥è·å–ä¸‹å±‚ï¼Œä¸‹å±‚ä¸èƒ½è·å–ä¸Šå±‚å¯¹è±¡\r\n  - ä¸‹å±‚å‘ä¸Šå±‚é€šä¿¡ç”¨äº‹ä»¶\r\n  - ä¸Šå±‚å‘ä¸‹å±‚é€šä¿¡ç”¨æ–¹æ³•è°ƒç”¨ï¼ˆåªæ˜¯åšæŸ¥è¯¢ï¼ŒçŠ¶æ€å˜æ›´ç”¨ Commandï¼‰ï¼ŒIController çš„äº¤äº’é€»è¾‘ä¸ºç‰¹åˆ«æƒ…å†µï¼Œåªèƒ½ç”¨ Command\r\n\r\né€šç”¨è§„åˆ™æ˜¯ç†æƒ³çŠ¶æ€ä¸‹çš„ä¸€å¥—è§„åˆ™ï¼Œä½†æ˜¯è½å®çš„å®é™…é¡¹ç›®ï¼Œå¾ˆæœ‰å¯èƒ½éœ€è¦å¯¹ä»¥ä¸Šè§„åˆ™åšä¸€äº›ä¿®æ”¹ã€‚\r\n\r\nä¿®æ”¹çš„æ–¹å¼éå¸¸ç®€å•ï¼Œæ¯”å¦‚æˆ‘å¸Œæœ› IController å¯ä»¥å‘é€äº‹ä»¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬åªéœ€è¦åœ¨ IController æ¥å£ä¸Šå¢åŠ ä¸€ä¸ª ICanSendEvent æ¥å£å³å¯ï¼Œä»£ç å¦‚ä¸‹:\r\n\r\n```csharp\r\n    #region Controller\r\n\r\n    public interface IController : IBelongToArchitecture, ICanSendCommand, ICanGetSystem, ICanGetModel,\r\n        ICanRegisterEvent, ICanSendQuery,\r\n        ICanSendEvent // +\r\n    {\r\n    }\r\n\r\n    #endregion\r\n```\r\n\r\nè¿™æ ·ï¼Œå°±å¯ä»¥åœ¨ Controller å¯¹è±¡é‡Œï¼Œé€šè¿‡ this.SendEvent æ¥å‘é€äº‹ä»¶äº†ã€‚\r\n\r\nå¦‚æœæ˜¯æ‰“ç®—å…ˆäº†è§£æˆ–å­¦ä¹  QFramework æ¶æ„ï¼Œé‚£ä¹ˆæˆ‘æ¨èå°±å…ˆæŒ‰ç…§ QFramework é»˜è®¤çš„æ¶æ„è§„èŒƒæ¥åšç»ƒä¹ é¡¹ç›®ã€‚\r\n\r\nå¦‚æœæ˜¯æ‰“ç®—é©¬ä¸Šç”¨ QFramework åšé¡¹ç›®ï¼Œé‚£ä¹ˆå¯ä»¥å†ä¿æŒåŸæœ‰å¼€å‘ä¹ æƒ¯çš„åŸºç¡€ä¸Šï¼Œä¸€ç‚¹ç‚¹å¼•å…¥ QFramework çš„æ¦‚å¿µï¼Œæ¯”å¦‚ä¸€å¼€å§‹ç”¨ BindableProperty å’Œ Architecture æ¥è§£å†³ Model å’Œæ•°æ®æ›´æ–°çš„é—®é¢˜ã€‚\r\n\r\nå†æ…¢æ…¢å¼€å§‹ç”¨ Command æ¥è§£å†³äº¤äº’é€»è¾‘è‡ƒè‚¿çš„é—®é¢˜ï¼Œä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°èƒ½å®Œå…¨æŒæ¡å…¨éƒ¨æ¦‚å¿µï¼Œæœ€ç»ˆèƒ½ä¿®æ”¹å’Œå®šåˆ¶ QFramework.cs æºç ã€‚\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n# 11. å…‰é€Ÿå®ç° EditorCounterApp å’Œ ç»™ä¸»ç¨‹çœ‹çš„å¼€å‘æ¨¡å¼\r\n\r\né¦–å…ˆï¼Œæˆ‘ä»¬æ¥å®ç°ä¸€ä¸ªå¥½ç©çš„äº‹æƒ…ï¼Œå°±æ˜¯åœ¨å‰è¾¹å·²ç»å®ç°å¥½çš„ CounterApp çš„åŸºç¡€ä¸Šï¼Œå…‰é€Ÿå®ç°ä¸€ä¸ªç¼–è¾‘å™¨ç‰ˆæœ¬çš„ CounterAppã€‚\r\n\r\nä»£ç éå¸¸ç®€å•ï¼Œå¦‚ä¸‹:\r\n\r\n```csharp\r\n#if UNITY_EDITOR\r\nusing System;\r\nusing UnityEditor;\r\nusing UnityEngine;\r\n\r\nnamespace QFramework.Example\r\n{\r\n    public class EditorCounterAppWindow : EditorWindow,IController\r\n    {\r\n\r\n        [MenuItem(\"QFramework/Example/EditorCounterAppWindow\")]\r\n        static void Open()\r\n        {\r\n            GetWindow<EditorCounterAppWindow>().Show();\r\n        }\r\n        \r\n        private ICounterAppModel mCounterAppModel;\r\n\r\n        private void OnEnable()\r\n        {\r\n            mCounterAppModel = this.GetModel<ICounterAppModel>();\r\n        }\r\n\r\n        private void OnDisable()\r\n        {\r\n            mCounterAppModel = null;\r\n        }\r\n\r\n        private void OnGUI()\r\n        {\r\n            if (GUILayout.Button(\"+\"))\r\n            {\r\n                this.SendCommand<IncreaseCountCommand>();\r\n            }\r\n            \r\n            GUILayout.Label(mCounterAppModel.Count.Value.ToString());\r\n\r\n\r\n            if (GUILayout.Button(\"-\"))\r\n            {\r\n                this.SendCommand<DecreaseCountCommand>();\r\n            }\r\n        }\r\n\r\n        public IArchitecture GetArchitecture()\r\n        {\r\n            return CounterApp.Interface;\r\n        }\r\n    }\r\n}\r\n\r\n#endif\r\n```\r\n\r\nä»£ç é‡ä¸å¤šï¼Œè¿è¡Œç»“æœå¦‚ä¸‹ï¼š\r\n\r\n![image.png](https://file.liangxiegame.com/3b685522-d4ef-4648-ba3d-5726aaee7b62.png)\r\n\r\n\r\nè¿™æ ·å°±éå¸¸å¿«é€Ÿåœ°å®ç°äº† CounterApp çš„ ç¼–è¾‘å™¨ç‰ˆæœ¬ã€‚\r\n\r\nå› ä¸º QFramework å†™çš„ App ï¼Œåº•å±‚ä¸‰å±‚æ˜¯å¯ä»¥å¤ç”¨çš„ã€‚\r\n\r\nå¦‚å›¾æ‰€ç¤ºï¼š\r\n\r\n![image.png](https://file.liangxiegame.com/fc803d9e-2868-4b5b-af29-d39dd9e37891.png)\r\n\r\nåº•å±‚çš„ä¸‰å±‚ ä¸ è¡¨ç°å±‚ çš„é€šä¿¡æ–¹å¼æœ‰ Commandã€å›è°ƒ/äº‹ä»¶ã€æ–¹æ³•/Queryã€‚\r\n\r\n\r\næˆ‘ä»¬å¯ä»¥æŠŠè¡¨ç°å±‚ç±»æ¯”æˆç½‘é¡µå‰ç«¯ï¼Œè€Œåº•å±‚ä¸‰å±‚ç±»æ¯”æˆæœåŠ¡å™¨ã€‚\r\n\r\né‚£ä¹ˆ Commandã€å›è°ƒ/äº‹ä»¶ã€æ–¹æ³•/Query å…¶å®å°±æ˜¯ç±»ä¼¼äº HTTP æˆ–è€… TCP çš„æ¥å£æˆ–åè®®ã€‚\r\n\r\nè€Œæ¥å£æˆ–è€…åè®®åªè¦åšå¥½çº¦å®šï¼Œé‚£ä¹ˆå‰ç«¯å°±ä¸éœ€è¦å…³å¿ƒæœåŠ¡ç«¯çš„å…·ä½“å®ç°äº†ï¼Œè€ŒæœåŠ¡ç«¯ä¹Ÿä¸éœ€è¦å…³å¿ƒå‰ç«¯çš„å…·ä½“å®ç°ã€‚\r\n\r\nè¿™å°±åšåˆ°äº†åœ¨åˆ†å·¥æ—¶ï¼Œå°†è¡¨ç°å±‚å’Œåº•å±‚ä¸‰å±‚çš„å·¥ä½œåˆ†åˆ«ç»™ä¸åŒçš„äººæ¥è´Ÿè´£ã€‚\r\n\r\nè€Œç¬”è€…æ›¾ç»åšè¿‡ä¸€ä¸ªè¿™æ ·çš„é¡¹ç›®ã€‚\r\n\r\nåœ¨é¡¹ç›®ä¸­ç¬”è€…è´Ÿè´£å°† åº•å±‚ä¸‰å±‚å®ç°å¥½ï¼Œç„¶åå’ŒæœåŠ¡å™¨æŠŠæ•°æ®å’Œæ¥å£è°ƒå¥½ï¼Œæ•°æ®çš„æ˜¾ç¤ºéƒ¨åˆ†ç¬”è€…ç”¨çš„ä¸€ä¸ªå¿«é€Ÿå†™ç•Œé¢çš„æ–¹æ¡ˆï¼Œæ¯”å¦‚ xmllayout æˆ–è€… delightï¼Œè¿™ç§æ–¹æ¡ˆå†™ç•Œé¢éå¸¸å¿«ï¼Œå¯ä»¥ç”¨æ¥å®ç°ç³»ç»ŸåŸå‹ã€‚\r\n\r\nç„¶åç­‰æ•°æ®å’Œæ¥å£è°ƒå¥½ï¼Œç³»ç»ŸåŸå‹å®ç°å¥½åï¼ŒæŠŠç•Œé¢ã€åšåœºæ™¯æµç¨‹ã€åšè¡¨ç°çš„å·¥ä½œéƒ½åˆ†é…ç»™äº†åˆå­¦è€…çš„åŒäº‹ä»¬ï¼ŒåŒäº‹ä»¬åªè¦çœ‹å®ç°çš„ç³»ç»ŸåŸå‹ï¼Œå°±çŸ¥é“è°ƒç”¨å“ªäº› Command/Queryã€ç›‘å¬å“ªäº›äº‹ä»¶ã€æˆ–è°ƒç”¨å“ªäº›æ–¹æ³•ï¼Œè¿™æ ·å°±å¯ä»¥åšå¥½åˆ†å·¥åä½œäº†ã€‚\r\n\r\nç”¨ä¸€å¼ å›¾è¡¨ç¤ºå¦‚ä¸‹ï¼š\r\n\r\n![image.png](https://file.liangxiegame.com/430968f9-68a8-470a-8450-b70316a31419.png)\r\n\r\n\r\nå½“ç„¶è¿™åªæ˜¯å…¶ä¸­ä¸€ç§çš„é¡¹ç›®å¼€å‘æ¨¡å¼ã€‚\r\n\r\néšç€æ—¶é—´ï¼Œåˆå­¦è€…åŒäº‹ä»¬ç”¨ç†Ÿäº†è¿™å¥—æ¶æ„ä¹‹åï¼Œæ¸æ¸åœ°ä¹Ÿèƒ½è‡ªå·±å†™åº•å±‚ä¸‰å±‚äº†ï¼Œäºæ˜¯ç¬”è€…å°±æ…¢æ…¢æŠŠåº•å±‚çš„å·¥ä½œé‡ä¹Ÿåˆ†å‡ºå»äº†ï¼Œè‡ªå·±å°±æ²¡å•¥äº‹å¹²äº†ã€‚\r\n\r\nå¥½äº†ï¼Œè¿™å°±æ˜¯ä¸€æ¬¡ç¬”è€…æ›¾ç»ä½¿ç”¨çš„ä¸€ç§å¼€å‘æ¨¡å¼çš„åˆ†äº«ï¼Œè€Œå…·ä½“è‡ªå·±çš„å¼€å‘æ¨¡å¼ï¼Œéœ€è¦æ ¹æ®å®é™…æƒ…å†µæ¥åˆ¶å®šï¼Œæœ€ç®€å•çš„æ–¹å¼å°±æ˜¯å…ˆæŒ‰ç…§åŸæœ‰çš„ä¹ æƒ¯çš„å¼€å‘æ¨¡å¼ï¼Œç„¶åé€æ¸æŒæ¡è¿™å¥—æ¶æ„ï¼ŒæŒæ¡äº†ä¹‹åæ…¢æ…¢æ”¹è¿›ä¹‹å‰çš„å¼€å‘æ¨¡å¼ã€‚\r\n\r\nè¿™ç¯‡å°±ä»‹ç»åˆ°è¿™é‡Œã€‚\r\n\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n\r\n\r\n# 12. çº¸ä¸Šè®¾è®¡\r\nç”±äº QFramework æ”¯æŒ MVCã€åˆ†å±‚ å’Œ CQRSï¼Œå†åŠ ä¸Šæä¾›äº†ä½¿ç”¨è§„èŒƒï¼Œé‚£ä¹ˆ QFramework å°±å¯ä»¥è¾¾åˆ°é«˜åº¦çš„æ ‡å‡†åŒ–ï¼Œè¾¾åˆ°é«˜åº¦çš„æ ‡å‡†åŒ–é‚£ä¹ˆå°±æœ‰äº†åšä¸€ä»¶äº‹æƒ…çš„æ¡ä»¶ï¼Œå°±æ˜¯çº¸ä¸Šè®¾è®¡ã€‚\r\n\r\nå‡å¦‚æˆ‘ä»¬æƒ³å®ç°ä¸€ä¸ªä¸»è§’åƒé‡‘å¸ï¼Œé‡‘å¸æ•°é‡å¢åŠ çš„åŠŸèƒ½ï¼Œåˆ™å¯ä»¥æŒ‰ç…§å¦‚ä¸‹é¡ºåºè®¾è®¡å›¾ã€‚\r\n\r\n\r\né¦–å…ˆéœ€è¦ç¡®å®šæ•°æ®ç»“æ„ã€‚\r\n\r\næˆ‘ä»¬å¯ä»¥ç”¨ç±»å›¾æ¥ç¡®å®šï¼Œä¹Ÿå¯ä»¥ç”¨æ›´ç®€å•çš„æ–¹å¼ç»˜åˆ¶ã€‚\r\n\r\n![image.png](https://file.liangxiegame.com/fb76cf87-9758-4289-8b6b-29621beba7c4.png)\r\n\r\n\r\n\r\nç„¶åï¼Œæˆ‘ä»¬éœ€è¦ç¡®å®šè¡¨ç°å±‚å¦‚ä½•æ˜¾ç¤ºé‡‘å¸ã€‚\r\n\r\n![image.png](https://file.liangxiegame.com/6f4dcfce-75a6-4e5d-bfc0-edc5f2e20f16.png)\r\n\r\næ¥ç€ï¼Œæˆ‘ä»¬è¦å¼€å§‹è®¾è®¡ Commandã€‚\r\n\r\n![image.png](https://file.liangxiegame.com/ed1b486b-4ea7-45e1-8af2-6c238952c83e.png)\r\n\r\nç„¶åï¼Œå¯ä»¥æŠŠå¦‚ä½•è§¦å‘ï¼Œå’Œå¦‚ä½•æ›´æ–°çš„å›¾éƒ½ç”»å¥½ã€‚\r\n\r\n![image.png](https://file.liangxiegame.com/504fc46e-351a-4b56-874e-bbb9d2879642.png)\r\n\r\nè¿™æ ·ä¸€ä¸ªåƒé‡‘å¸çš„åŠŸèƒ½æ€è·¯å°±è®¾è®¡å¥½äº†ã€‚\r\n\r\nå½“ç„¶åƒé‡‘å¸è¿™ä¸ªä¾‹å­å¾ˆç®€å•ã€‚\r\n\r\nä¸è¿‡ç¬”è€…å»ºè®®ï¼Œå¦‚æœ QFramework æ¶æ„ç”¨å¾—ä¸æ˜¯å¾ˆç†Ÿæ‚‰çš„æ—¶å€™ï¼Œå°±ç”¨è¿™ç§å°åŠŸèƒ½æ¥åšä¸€äº›çº¸ä¸Šè®¾è®¡æ¯”è¾ƒåˆé€‚ã€‚\r\n\r\nè€Œå½“ QFramework æ¶æ„ç”¨å¾—å¾ˆç†Ÿçš„æ—¶å€™ï¼Œå¯ä»¥åœ¨çº¸ä¸Šè®¾è®¡ä¸€äº›æ›´å¤æ‚çš„åŠŸèƒ½ã€‚\r\n\r\næ¯”å¦‚æŠ€èƒ½ç³»ç»Ÿã€å¼ºåŒ–é“å…·ç³»ç»Ÿã€èƒŒåŒ…ç³»ç»Ÿã€ä»»åŠ¡ç³»ç»Ÿç­‰ç­‰ã€‚\r\n\r\n\r\næˆ‘ä»¬çœ‹ä¸€ä¸‹ç¬¬ä¸€ç¯‡ä¸­çš„ä¸€å¼ å›¾ã€‚\r\n\r\n![](https://file.liangxiegame.com/6bf42306-0b2a-4417-bbcf-354af0132596.png)\r\n\r\nè¿™å¼ å›¾ï¼Œå…¶å®å°±æ˜¯ä¸€å¼ çº¸ä¸Šè®¾è®¡å›¾ï¼Œå³ å½“ä¸»è§’æ‰“æ­»æ•Œäººå è§¦å‘åˆ†æ•°å˜æ›´ã€è§¦å‘æˆå°±è¾¾æˆ çš„åŠŸèƒ½ã€‚\r\n\r\nè¿™ç§å›¾åŠ ä¸Šåƒé‡‘å¸å›¾ï¼Œæ˜¯ QFramework çº¸ä¸Šè®¾è®¡ä¸­çš„ åŠŸèƒ½å›¾ã€‚\r\n\r\n\r\né™¤äº†åŠŸèƒ½å›¾ ï¼Œè¿˜æœ‰ QFrameowrk çº¸ä¸Šè®¾è®¡çš„ æ¶æ„å›¾ã€‚\r\n\r\næ¶æ„å›¾çš„ç¤ºä¾‹å¦‚ä¸‹æ‰€ç¤ºï¼š\r\n\r\n![image.png](https://file.liangxiegame.com/c1584a3b-f8be-49a1-897a-9f1b684864bf.png)\r\n\r\n\r\næ¶æ„å›¾åªæ˜¯ç½—åˆ—äº†æ¯ä¸ªæ¨¡å—éƒ½åœ¨å“ªä¸ªå±‚çº§ï¼Œå¹¶æ²¡æœ‰å±•ç¤ºå…·ä½“å¦‚ä½•äº¤äº’ã€‚\r\n\r\nè€ŒåŠŸèƒ½åˆ™æ˜¯å±•ç¤ºäº†ä¸€ä¸ªåŠŸèƒ½å…·ä½“çš„é€»è¾‘æ§åˆ¶æµå‘ã€‚\r\n\r\nåœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ¶æ„å›¾ å’Œ åŠŸèƒ½å›¾ éƒ½ä¸æ˜¯å¿…é¡»çš„ã€‚\r\n\r\nåŠŸèƒ½å›¾åœ¨æ—©æœŸæ›´å¤šæ˜¯å¸®åŠ© QFramework ä¸ç†Ÿæ‚‰çš„äººæ¢³ç†æ€è·¯ç”¨çš„ã€‚\r\n\r\nä½†æ˜¯ä¹Ÿæœ‰å¼€å‘äººå‘˜ä¸åœ¨ç”µè„‘æ—çš„æ—¶å€™ï¼Œè€Œæ­¤æ—¶é¡¹ç›®ä¹Ÿæ¯”è¾ƒç´§ï¼Œè¿™ä¸ªæ—¶å€™ çº¸ä¸Šè®¾è®¡ å°±ä¼šæ’ä¸Šç”¨åœºäº†ã€‚\r\n\r\nå¼€å‘äººå‘˜å®Œå…¨å¯ä»¥çº¸ä¸ŠæŠŠæ•´ä¸ªé¡¹ç›®çš„åŠŸèƒ½æ€è·¯éƒ½å®ç°å‡ºæ¥ã€‚\r\n\r\nè¿˜æœ‰ä¸€ç§ç”¨æ³•å°±æ˜¯ï¼Œå¼€å‘äººå‘˜æ‹¿åˆ°éœ€æ±‚ä¹‹åï¼Œé›†åˆå…¨éƒ¨å¼€å‘äººå‘˜å¼€ä¸€æ¬¡ä¼šè®®ï¼Œåœ¨ä¼šè®®ä¸­è¾¹ç ”è¯»ç­–åˆ’æ–‡æ¡£è¾¹å’Œå¤§å®¶ä¸€èµ·ç”¨çº¸ä¸Šè®¾è®¡æŠŠæ•´ä¸ªé¡¹ç›®çš„åŠŸèƒ½æ€è·¯éƒ½å®ç°å‡ºæ¥ï¼Œç„¶åå†æŠŠç¼–ç å’Œå…·ä½“å®ç°çš„å·¥ä½œé‡åˆ†é…ç»™æ¯ä¸ªäººï¼Œè¿™ä¹Ÿæ˜¯ä¸€ç§ç”¨æ³•ã€‚\r\n\r\næ€»ä¹‹ çº¸ä¸Šè®¾è®¡ æ˜¯éå¸¸æœ‰ç”¨çš„ä¸€ä¸ªæ–¹æ³•ã€‚\r\n\r\nå¯èƒ½æœ‰äººä¼šé—®ï¼Œçº¸ä¸Šè®¾è®¡éœ€è¦éµå¾ªä»€ä¹ˆæ ¼å¼å—ï¼Ÿ\r\n\r\nç­”æ¡ˆæ˜¯æ²¡æœ‰çš„ã€‚\r\n\r\nå¦‚æœä¹ æƒ¯ç”¨ UML ç±»å›¾ï¼Œé‚£å°±ç”¨ UML ç±»å›¾ç»˜åˆ¶ï¼Œå¦‚æœä¹ æƒ¯ç”¨æ–¹å—ã€åœ†åœˆã€æ£±è§’é‚£å°±ç”¨æ–¹å—ã€åœ†åœˆã€æ£±è§’ï¼Œå¦‚æœä¹ æƒ¯ç”¨çº¸ç¬”ï¼Œé‚£å°±ç”¨çº¸ç¬”ã€‚\r\n\r\næ€»ä¹‹æ€ä¹ˆå¿«æ€ä¹ˆæ–¹ä¾¿å°±æ€ä¹ˆç”¨ã€‚\r\n\r\n\r\nçº¸ä¸Šè®¾è®¡ é™¤äº†æ–¹ä¾¿åŠŸèƒ½å®ç°ï¼Œä¹Ÿæ–¹ä¾¿åœ¨å›¢é˜Ÿå†…æ²Ÿé€šï¼Œæ¯”å¦‚ä¸€ä½å¼€å‘äººå‘˜å¦‚æœå¯¹å®ç°ä¸€ä¸ªåŠŸèƒ½æ²¡æœ‰æ€è·¯ï¼Œé‚£ä¹ˆå°±å¯ä»¥é—®ä¸»ç¨‹æˆ–è€… QFramework é«˜æ‰‹ï¼Œè®©é«˜æ‰‹ç”¨ä¸€å¼ çº¸æ¥æ¢³ç†æ€è·¯ï¼Œè¿™æ ·å¼€å‘äººå‘˜æ‹¿åˆ°è¿™å¼ çº¸å°±å¯ä»¥å»å®ç°äº†ã€‚è¿˜å¯ä»¥æ¯æ¬¡è®©å¼€å‘äººå‘˜å…ˆåœ¨çº¸ä¸Šè®¾è®¡å¥½ï¼Œç„¶åæŠŠè¿™å¼ çº¸æ‹¿ç»™ä¸»ç¨‹æˆ–è€… QFramework é«˜æ‰‹ï¼Œä¸»ç¨‹æˆ– QFramework é«˜æ‰‹éªŒè¯å®Œæ‰å¯ä»¥è¿›è¡Œç¼–ç å®ç°ï¼Œè¿™æ ·ç”¨ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚\r\n\r\nå¥½äº†å…³äºçº¸ä¸Šè®¾è®¡çš„å…¥é—¨å’Œä¸€äº›æ‹“å±•ç”¨æ³•å°±ä»‹ç»åˆ°è¿™é‡Œã€‚\r\n\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n# 13. Architecture çš„å¥½å¤„\r\n\r\n\r\nä¸ç®¡æ˜¯ Systemã€Model è¿˜æ˜¯ Utilityï¼Œéƒ½ä¼šæ³¨å†Œåˆ° Architecture ä¸­ã€‚\r\n\r\nä¼ªä»£ç å¦‚ä¸‹:\r\n```csharp\r\nnamespace QFramework.PointGame\r\n{\r\n    public class PointGame : Architecture<PointGame>\r\n    {\r\n        protected override void Init()\r\n        {\r\n            RegisterSystem<IScoreSystem>(new ScoreSystem());\r\n            RegisterSystem<ICountDownSystem>(new CountDownSystem());\r\n            RegisterSystem<IAchievementSystem>(new AchievementSystem());\r\n\r\n            RegisterModel<IGameModel>(new GameModel());\r\n\r\n            RegisterUtility<IStorage>(new PlayerPrefsStorage());\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nå¤§å®¶å¯èƒ½ä¼šé—®ï¼Œå¦‚æœä¸€ä¸ªé¡¹ç›®æœ‰éå¸¸å¤šçš„ Systemã€Modelã€Utility å…¨éƒ¨æ³¨å†Œåˆ° Architectureï¼Œè¿™æ · Architecture çš„ä»£ç é‡å°±å˜å¤šäº†ï¼Œä¼šä¸ä¼šè®©é¡¹ç›®å˜å¾—éš¾ä»¥ç®¡ç†ï¼Ÿ\r\n\r\nç­”æ¡ˆæ˜¯ä¸ä¼šï¼ŒArchitecture æ³¨å†Œçš„æ¨¡å—è¶Šå¤šï¼Œè¿™å¥—æ¶æ„å‘æŒ¥çš„ä½œç”¨å°±è¶Šå¤§ã€‚\r\n\r\nå› ä¸º Architecture æœ¬èº«å°±èƒ½å¾ˆå¥½åœ°å±•ç¤ºé¡¹ç›®çš„ç»“æ„ï¼Œå¯ä»¥æŠŠ Architecture æœ¬èº«å½“åšä¸€ä¸ªæ¶æ„å›¾ã€‚\r\n\r\næ¯”å¦‚ä»¥ä¸Šä¼ªä»£ç å¯¹åº”çš„æ¶æ„å›¾å¦‚ä¸‹ï¼š\r\n\r\n![image.png](https://file.liangxiegame.com/cc294f03-4171-4cb3-b774-b487688e51fb.png)\r\néå¸¸æ¸…æ™°ã€‚\r\n\r\nè€Œä¼ªä»£ç ä¸­åªæœ‰ 5 ä¸ªæ³¨å†Œæ¨¡å—ï¼Œæ˜¯éå¸¸å°‘è§çš„ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œé¡¹ç›®éƒ½ä¼šæ³¨å†Œåå‡ ä¸ªç”šè‡³å‡ åä¸ªæ¨¡å—ï¼Œä¹Ÿæœ‰ä¸Šç™¾ä¸ªæ¨¡å—çš„æ—¶å€™ã€‚\r\n\r\nè€Œå¦‚æœè¿™äº›æ¨¡å—æ²¡æœ‰ç”¨ QFramework è€Œå…¨éƒ¨ä½¿ç”¨å•ä¾‹å®ç°çš„è¯ï¼Œé¡¹ç›®å°±ä¼šå˜å¾—å¾ˆæ··ä¹±ã€‚\r\n\r\nè€Œä½¿ç”¨äº† QFrameworkï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨ Architecture ä¸­ç»Ÿä¸€é›†ä¸­ç®¡ç†è¿™äº›æ¨¡å—ï¼Œæ˜¯æ–¹ä¾¿é¡¹ç›®ç®¡ç†çš„ã€‚\r\n\r\nè¿™å°±æ˜¯ä½¿ç”¨ Architecture çš„ä¼˜åŠ¿ã€‚\r\n\r\nè¿™é‡Œï¼Œå†è´´å‡ºä¸€ä¸‹ç¬”è€…æ›¾ç»å†™çš„é¡¹ç›®çš„ Architectureï¼Œä»£ç å¦‚ä¸‹:\r\n\r\n```csharp\r\nusing IndieGame.Models;\r\nusing IndieGame.Utility;\r\nusing QFramework;\r\nusing UnityEngine;\r\nusing UTGM;\r\n\r\nnamespace IndieGame\r\n{\r\n    public class LiangxiesGame : Architecture<LiangxiesGame>\r\n    {\r\n        public static bool IsTestMode = true;\r\n\r\n        public static void SetTestMode(bool testMode)\r\n        {\r\n            IsTestMode = testMode;\r\n        }\r\n\r\n        protected override void Init()\r\n        {\r\n            RegisterSystem<ISaveSystem>(new SaveSystem());\r\n            RegisterSystem<IInputSystem>(new InputSystem());\r\n            RegisterSystem<ILevelSystem>(new LevelSystem());\r\n            RegisterSystem<IBookSystem>(new BookSystem());\r\n            RegisterSystem<IMapSystem>(new MapSystem());\r\n            RegisterSystem<IGameTimeSystem>(new GameTimeSystem());\r\n            RegisterSystem<IRankSystem>(new RankSystem());\r\n            RegisterSystem<IGameSystem>(new GameSystem());\r\n            RegisterSystem<ILuaSystem>(new LuaSystem());\r\n            RegisterSystem<IAchievementSystem>(new AchievementSystem());\r\n            RegisterSystem<IEnemyRecycleSystem>(new EnemyRecycleSystem());\r\n            RegisterSystem<IUISystem>(new UISystem());\r\n            RegisterSystem<IHurtSystem>(new HurtSystem());\r\n            RegisterSystem<ILevelUpSystem>(new LevelUpSystem());\r\n            RegisterSystem<ILevelConfigSystem>(new LevelConfigSystem());\r\n        \r\n            RegisterModel<ICoinModel>(new CoinModel());\r\n            RegisterModel<ISettingModel>(new SettingModel());\r\n            RegisterModel<IBookModel>(new BookModel());\r\n            RegisterModel<IMechanismModel>(new MechanismModel());\r\n            RegisterModel<IPlayerModel>(new PlayerModel());\r\n            \r\n            RegisterUtility<IStorage>(new EasySaveStorage());\r\n\r\n            Application.persistentDataPath.CreateDirIfNotExists();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nSystem å±‚æœ‰ä»€ä¹ˆã€Model å±‚æœ‰ä»€ä¹ˆã€Utility å±‚æœ‰ä»€ä¹ˆï¼Œä¸€ç›®äº†ç„¶ã€‚\r\n\r\nå¥½äº†ï¼Œè¿™ç¯‡å°±åˆ°è¿™é‡Œã€‚\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n# 14. Command æ‹¦æˆª\r\n\r\nQFramework æä¾›äº†æ‹¦æˆª Command çš„ APIã€‚\r\n\r\næˆ‘ä»¬å°è¯•åœ¨ CounterApp ä¸­å®ç°ä¸€ä¸ª Command æ—¥å¿—ã€‚\r\n\r\nä»£ç å¾ˆç®€å•ï¼Œå¦‚ä¸‹:\r\n\r\n```csharp\r\npublic class CounterApp : Architecture<CounterApp>\r\n{\r\n    protected override void Init()\r\n    {\r\n        // æ³¨å†Œ System \r\n        this.RegisterSystem<IAchievementSystem>(new AchievementSystem()); \r\n             \r\n        // æ³¨å†Œ Model\r\n        this.RegisterModel<ICounterAppModel>(new CounterAppModel());\r\n            \r\n        // æ³¨å†Œå­˜å‚¨å·¥å…·çš„å¯¹è±¡\r\n        this.RegisterUtility<IStorage>(new Storage());\r\n    }\r\n\r\n    protected override void ExecuteCommand(ICommand command)\r\n    {\r\n        Debug.Log(\"Before \" + command.GetType().Name + \"Execute\");\r\n        base.ExecuteCommand(command);\r\n        Debug.Log(\"After \" + command.GetType().Name + \"Execute\");\r\n    }\r\n}\r\n```\r\n\r\nåªéœ€è¦åœ¨ Architecture ä¸­è¦†å†™ ExecuteCommand å³å¯ã€‚\r\n\r\nè¿è¡Œä¹‹åï¼Œç¬”è€…éšæ„ç‚¹å‡»äº†å‡ æ¬¡æŒ‰é’®ï¼Œç»“æœå¦‚ä¸‹:\r\n\r\n![image.png](https://file.liangxiegame.com/96bdc2f4-222d-4e91-a10e-dc2128e50fb4.png)\r\n\r\nè¿™æ ·å°±å®ç°äº†ä¸€ä¸ªéå¸¸ç®€å•çš„ Command æ—¥å¿—åŠŸèƒ½ã€‚\r\n\r\n\r\n## æœ‰äº† Command æ‹¦æˆªæœ‰ä»€ä¹ˆç”¨ï¼Ÿ\r\n\r\næœ‰äº† Command æ‹¦æˆªåŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥åšéå¸¸å¤šçš„äº‹æƒ…ï¼Œæ¯”å¦‚ï¼š\r\n* Command æ—¥å¿—å¯ä»¥ç”¨æ¥æ–¹ä¾¿è°ƒè¯•\r\n* å¯ä»¥å®ç° Command ä¸­é—´ä»¶æ¨¡å¼ å¯ä»¥å†™å„ç§å„æ ·é¢åº¦ Command ä¸­é—´ä»¶ï¼Œæ¯”å¦‚ Command æ—¥å¿—ä¸­é—´ä»¶\r\n* å¯ä»¥æ–¹ä¾¿ä½ å…ˆæ’¤é”€åŠŸèƒ½\r\n* å¯ä»¥ç”¨ Command åšè‡ªåŠ¨åŒ–æµ‹è¯•\r\n* ç­‰ç­‰\r\n\r\nå¥½äº†è¿™ç¯‡å°±ä»‹ç»åˆ°è¿™é‡Œã€‚\r\n\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n# 15. å†…ç½®å·¥å…·ï¼šTypeEventSystem\r\n\r\nQFramework é™¤äº†æä¾›äº†ä¸€å¥—æ¶æ„ä¹‹å¤–ï¼ŒQFramework è¿˜æä¾›ä¸‰ä¸ªå¯ä»¥è„±ç¦»æ¶æ„ä½¿ç”¨çš„å·¥å…· TypeEventSystemã€EasyEventã€BindablePropertyã€IOCContainerã€‚\r\n\r\nè¿™äº›å·¥å…·å¹¶ä¸æ˜¯æœ‰æ„æä¾›ï¼Œè€Œæ˜¯ QFramework çš„æ¶æ„åœ¨è®¾è®¡ä¹‹åˆæ˜¯é€šè¿‡è¿™ä¸‰ä¸ªå·¥å…·ç»„åˆä½¿ç”¨è€Œæˆçš„ã€‚\r\n\r\nåœ¨è¿™ä¸€ç¯‡ï¼Œæˆ‘ä»¬æ¥å­¦ä¹  TypeEventSystem çš„ä½¿ç”¨ã€‚\r\n\r\n## åŸºæœ¬ä½¿ç”¨\r\n\r\n```csharp\r\nusing UnityEngine;\r\n\r\nnamespace QFramework.Example\r\n{\r\n    public class TypeEventSystemBasicExample : MonoBehaviour\r\n    {\r\n        public struct TestEventA\r\n        {\r\n            public int Age;\r\n        }\r\n\r\n        private void Start()\r\n        {\r\n            TypeEventSystem.Global.Register<TestEventA>(e =>\r\n            {\r\n                Debug.Log(e.Age);\r\n            }).UnRegisterWhenGameObjectDestroyed(gameObject);\r\n        }\r\n        \r\n        private void Update()\r\n        {\r\n            // é¼ æ ‡å·¦é”®ç‚¹å‡»\r\n            if (Input.GetMouseButtonDown(0))\r\n            {\r\n                TypeEventSystem.Global.Send(new TestEventA()\r\n                {\r\n                    Age = 18\r\n                });\r\n            }\r\n\r\n            // é¼ æ ‡å³é”®ç‚¹å‡»\r\n            if (Input.GetMouseButtonDown(1))\r\n            {\r\n                TypeEventSystem.Global.Send<TestEventA>();\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n// è¾“å‡ºç»“æœ\r\n// ç‚¹å‡»é¼ æ ‡å·¦é”®ï¼Œåˆ™è¾“å‡º:\r\n// 18\r\n// ç‚¹å‡»é¼ æ ‡å³é”®ï¼Œåˆ™è¾“å‡º:\r\n// 0\r\n```\r\n\r\nè¿™å°±æ˜¯ TypeEventSystem çš„æœ€åŸºæœ¬ç”¨æ³•ã€‚\r\n\r\n## äº‹ä»¶ç»§æ‰¿æ”¯æŒ\r\né™¤äº†åŸºæœ¬ç”¨æ³•ï¼ŒTypeEventSystem çš„äº‹ä»¶è¿˜æ”¯æŒç»§æ‰¿å…³ç³»ã€‚\r\n\r\nç¤ºä¾‹ä»£ç å¦‚ä¸‹:\r\n```csharp\r\nusing UnityEngine;\r\n\r\nnamespace QFramework.Example\r\n{\r\n    public class TypeEventSystemInheritEventExample : MonoBehaviour\r\n    {\r\n        public interface IEventA\r\n        {\r\n            \r\n        }\r\n        \r\n        public struct EventB : IEventA\r\n        {\r\n            \r\n        }\r\n\r\n        private void Start()\r\n        {\r\n            TypeEventSystem.Global.Register<IEventA>(e =>\r\n            {\r\n                Debug.Log(e.GetType().Name);\r\n            }).UnRegisterWhenGameObjectDestroyed(gameObject);\r\n        }\r\n\r\n        private void Update()\r\n        {\r\n            if (Input.GetMouseButtonDown(0))\r\n            {\r\n                TypeEventSystem.Global.Send<IEventA>(new EventB());\r\n                \r\n                // æ— æ•ˆ\r\n                TypeEventSystem.Global.Send<EventB>();\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n// è¾“å‡ºç»“æœ:\r\n// å½“æŒ‰ä¸‹é¼ æ ‡å·¦é”®æ—¶ï¼Œè¾“å‡º:\r\n// EventB\r\n```\r\n\r\nä»£ç ä¸éš¾ã€‚\r\n\r\n## TypeEventSystem æ‰‹åŠ¨æ³¨é”€\r\n\r\nå¦‚æœæƒ³æ§åˆ¶ TypeEventSystem çš„æ³¨é”€ï¼Œè€Œä¸æ˜¯è‡ªåŠ¨æ³¨é”€ä¹Ÿå¾ˆç®€å•ï¼Œä»£ç å¦‚ä¸‹:\r\n\r\n```csharp\r\nusing UnityEngine;\r\n\r\nnamespace QFramework.Example\r\n{\r\n    public class TypeEventSystemUnRegisterExample : MonoBehaviour\r\n    {\r\n\r\n        public struct EventA\r\n        {\r\n            \r\n        }\r\n        \r\n        private void Start()\r\n        {\r\n            TypeEventSystem.Global.Register<EventA>(OnEventA);\r\n        }\r\n\r\n        void OnEventA(EventA e)\r\n        {\r\n            \r\n        }\r\n\r\n        private void OnDestroy()\r\n        {\r\n            TypeEventSystem.Global.UnRegister<EventA>(OnEventA);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nä»£ç ä¹Ÿå¾ˆç®€å•ã€‚\r\n\r\n## æ¥å£äº‹ä»¶\r\n\r\nTypeEventSystem è¿˜æ”¯æŒæ¥å£äº‹ä»¶æ¨¡å¼ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹:\r\n\r\n```csharp\r\nusing System;\r\nusing System.Collections;\r\nusing System.Collections.Generic;\r\nusing UnityEngine;\r\n\r\nnamespace QFramework.Example\r\n{\r\n    public struct InterfaceEventA\r\n    {\r\n            \r\n    }\r\n\r\n    public struct InterfaceEventB\r\n    {\r\n        \r\n    }\r\n\r\n    public class InterfaceEventModeExample : MonoBehaviour\r\n        , IOnEvent<InterfaceEventA>\r\n        , IOnEvent<InterfaceEventB>\r\n    {\r\n        public void OnEvent(InterfaceEventA e)\r\n        {\r\n            Debug.Log(e.GetType().Name);\r\n        }\r\n        \r\n        public void OnEvent(InterfaceEventB e)\r\n        {\r\n            Debug.Log(e.GetType().Name);\r\n        }\r\n\r\n        private void Start()\r\n        {\r\n            this.RegisterEvent<InterfaceEventA>()\r\n                .UnRegisterWhenGameObjectDestroyed(gameObject);\r\n\r\n            this.RegisterEvent<InterfaceEventB>();\r\n        }\r\n\r\n        private void OnDestroy()\r\n        {\r\n            this.UnRegisterEvent<InterfaceEventB>();\r\n        }\r\n\r\n        private void Update()\r\n        {\r\n            if (Input.GetMouseButtonDown(0))\r\n            {\r\n                TypeEventSystem.Global.Send<InterfaceEventA>();\r\n                TypeEventSystem.Global.Send<InterfaceEventB>();\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n// è¾“å‡ºç»“æœ\r\n// å½“æŒ‰ä¸‹é¼ æ ‡å·¦é”®æ—¶ï¼Œè¾“å‡º:\r\n// InterfaceEventA\r\n// InterfaceEventB\r\n```\r\n\r\nä»£ç å¾ˆç®€å•ã€‚\r\n\r\nåŒæ ·æ¥å£äº‹ä»¶ä¹Ÿæ”¯æŒäº‹ä»¶ä¹‹é—´çš„ç»§æ‰¿ã€‚\r\n\r\næ¥å£äº‹ä»¶æ‹¥æœ‰æ›´å¥½çš„çº¦æŸï¼Œåªè¦å®Œæˆå®ç°æ¥å£ï¼Œå°±å¯ä»¥é€šè¿‡ IDE çš„ä»£ç ç”Ÿæˆå°‘å†™å¾ˆå¤šä»£ç ï¼Œå…¶çµæ„Ÿå— CorgiEngineã€TopDownEngine å¯å‘ã€‚\r\n\r\n## é MonoBehavior è„šæœ¬å¦‚ä½•è‡ªåŠ¨é”€æ¯\r\n\r\n```csharp\r\npublic class NoneMonoScript : IUnRegisterList\r\n{\r\n    public List<IUnRegister> UnregisterList { get; } = new List<IUnRegister>();\r\n\r\n\r\n    void Start()\r\n    {\r\n        TypeEventSystem.Global.Register<EasyEventExample.EventA>(a =>\r\n        {\r\n                    \r\n        }).AddToUnregisterList(this);\r\n    }\r\n\r\n    void OnDestroy()\r\n    {\r\n        this.UnRegisterAll();\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n## å°ç»“\r\nå¦‚æœæƒ³æ‰‹åŠ¨æ³¨é”€ï¼Œå¿…é¡»è¦åˆ›å»ºä¸€ä¸ªç”¨äºæ¥æ”¶äº‹ä»¶çš„æ–¹æ³•ã€‚\r\n\r\nè€Œç”¨è‡ªåŠ¨æ³¨é”€åˆ™ç›´æ¥ç”¨å§”æ‰˜å³å¯ã€‚\r\n\r\nè¿™ä¸¤ä¸ªå„æœ‰ä¼˜åŠ£ï¼ŒæŒ‰éœ€ä½¿ç”¨ã€‚\r\n\r\nå¦å¤–ï¼Œäº‹ä»¶çš„å®šä¹‰æœ€å¥½ä½¿ç”¨ structï¼Œå› ä¸º struct çš„ gc æ›´å°‘ï¼Œå¯ä»¥è·å¾—æ›´å¥½çš„æ€§èƒ½ã€‚\r\n\r\næ¥å£äº‹ä»¶æ‹¥æœ‰æ›´å¥½çš„çº¦æŸï¼Œä¹Ÿå¯ä»¥é€šè¿‡ IDE çš„ä»£ç ç”Ÿæˆæ¥æé«˜å¼€å‘æ•ˆç‡ã€‚\r\n\r\næ€»ä¹‹ TypeEventSystem æ˜¯ä¸€ä¸ªéå¸¸å¼ºå¤§çš„äº‹ä»¶å·¥å…·ã€‚\r\n\r\nå¦å¤–å†è¡¥å……ä¸€ä¸‹ï¼Œå¦‚æœæƒ³è¦è¿›è¡Œè‡ªåŠ¨é”€æ¯ï¼Œè¿˜æœ‰ä¸€ä¸ªæ›´ç®€å•çš„æ–¹æ³•ï¼Œå°±æ˜¯ä½¿ç”¨ UnRegisterWhenCurrentSceneUnloaded æ–¹å¼æ³¨é”€ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹:\r\n```csharp\r\nTypeEventSystem.Global.Register<EasyEventExample.EventA>(a =>\r\n{\r\n                    \r\n}).UnRegisterWhenCurrentSceneUnloaded();\r\n```\r\n\r\nè¿™ç§å¯ä»¥ä¸ç”¨ä¼ ä»»ä½•çš„ GameObjectï¼Œåªä¸è¿‡åŠ è½½æ–°çš„åœºæ™¯æ—¶è‡ªåŠ¨æ³¨é”€ã€‚\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n# 16. å†…ç½®å·¥å…·ï¼šEasyEvent\r\n\r\nTypeEventSystem æ˜¯åŸºäº EasyEvent å®ç°çš„ã€‚\r\n\r\nEasyEvent ä¹Ÿæ˜¯ä¸€ä¸ªå¯ä»¥è„±ç¦»æ¶æ„ä½¿ç”¨çš„å·¥å…·ã€‚\r\n\r\nè¿™é‡Œæˆ‘ä»¬æ¥å­¦ä¹ ä¸€ä¸‹åŸºæœ¬ç”¨æ³•ã€‚\r\n\r\n## åŸºæœ¬ä½¿ç”¨\r\nä»£ç å¦‚ä¸‹:\r\n\r\n```csharp\r\nusing UnityEngine;\r\n\r\nnamespace QFramework.Example\r\n{\r\n    public class EasyEventExample : MonoBehaviour\r\n    {\r\n        private EasyEvent mOnMouseLeftClickEvent = new EasyEvent();\r\n        \r\n        private EasyEvent<int> mOnValueChanged = new EasyEvent<int>();\r\n        \r\n        public class EventA : EasyEvent<int,int> { }\r\n\r\n        private EventA mEventA = new EventA();\r\n\r\n        private void Start()\r\n        {\r\n            mOnMouseLeftClickEvent.Register(() =>\r\n            {\r\n                Debug.Log(\"é¼ æ ‡å·¦é”®ç‚¹å‡»\");\r\n            }).UnRegisterWhenGameObjectDestroyed(gameObject);\r\n\r\n            mOnValueChanged.Register(value =>\r\n            {\r\n\r\n                Debug.Log($\"å€¼å˜æ›´:{value}\");\r\n            }).UnRegisterWhenGameObjectDestroyed(gameObject);\r\n\r\n\r\n            mEventA.Register((a, b) =>\r\n            {\r\n                Debug.Log($\"è‡ªå®šä¹‰äº‹ä»¶:{a} {b}\");\r\n            }).UnRegisterWhenGameObjectDestroyed(gameObject);\r\n        }\r\n\r\n        private void Update()\r\n        {\r\n            if (Input.GetMouseButtonDown(0))\r\n            {\r\n                mOnMouseLeftClickEvent.Trigger();\r\n            }\r\n            \r\n            if (Input.GetMouseButtonDown(1))\r\n            {\r\n                mOnValueChanged.Trigger(10);\r\n            }\r\n\r\n            // é¼ æ ‡ä¸­é”®\r\n            if (Input.GetMouseButtonDown(2))\r\n            {\r\n                mEventA.Trigger(1,2);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n// è¾“å‡ºç»“æœï¼š\r\n// æŒ‰é¼ æ ‡å·¦é”®æ—¶ï¼Œè¾“å‡º:\r\n// é¼ æ ‡å·¦é”®ç‚¹å‡»\r\n// æŒ‰é¼ æ ‡å³é”®æ—¶ï¼Œè¾“å‡º:\r\n// å€¼å˜æ›´:10\r\n// æŒ‰é¼ æ ‡ä¸­é”®æ—¶ï¼Œè¾“å‡º:\r\n// è‡ªå®šä¹‰äº‹ä»¶:1 2\r\n```\r\n\r\nåŸºæœ¬ä½¿ç”¨éå¸¸ç®€å•ã€‚\r\n\r\nEasyEvent æœ€å¤šæ”¯æŒä¸‰ä¸ªæ³›å‹ã€‚\r\n\r\n## EasyEvent çš„ä¼˜åŠ¿\r\nEasyEvent æ˜¯ C# å§”æ‰˜å’Œäº‹ä»¶çš„æ›¿ä»£ã€‚\r\n\r\nEasyEvent ç›¸æ¯” C# å§”æ‰˜å’Œäº‹ä»¶ï¼Œä¼˜åŠ¿æ˜¯å¯ä»¥è‡ªåŠ¨æ³¨é”€ã€‚\r\n\r\nç›¸æ¯” TypeEventSystemï¼Œä¼˜åŠ¿æ˜¯æ›´è½»é‡ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ä¸ç”¨å£°æ˜äº‹ä»¶ç±»ï¼Œè€Œä¸”æ€§èƒ½æ›´å¥½ï¼ˆæ¥è¿‘ C# å§”æ‰˜ï¼‰ã€‚\r\n\r\nç¼ºç‚¹åˆ™æ˜¯å…¶æºå¸¦çš„å‚æ•°æ²¡æœ‰åå­—ï¼Œéœ€è¦è‡ªå·±å®šä¹‰åå­—ã€‚\r\n\r\nåœ¨è®¾è®¡ä¸€äº›é€šç”¨ç³»ç»Ÿçš„æ—¶å€™ï¼ŒEasyEvent ä¼šæ´¾ä¸Šç”¨åœºï¼Œæ¯”å¦‚èƒŒåŒ…ç³»ç»Ÿã€å¯¹è¯ç³»ç»Ÿï¼ŒTypeEventSystem æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„ä¾‹å­ã€‚\r\n\r\nåœ¨ä¸€ä¸ªé¡¹ç›®æ—©æœŸåšåŸå‹éªŒè¯æ—¶ï¼ŒEasyEvent ä¹Ÿä¼šèµ·éå¸¸å¤§çš„ä½œç”¨ï¼ŒQFramework æ¶æ„ä¸­çš„äº‹ä»¶ï¼Œå…¶å®å†™èµ·æ¥æœ‰ç‚¹ç¹çï¼Œè€Œåœ¨é¡¹ç›®æ—©æœŸå¿«é€Ÿè¿­ä»£åŸå‹æ˜¯é‡ç‚¹ï¼Œæ­¤æ—¶ç”¨ EasyEvent å¯ä»¥è·å¾—æ›´å¿«çš„å¼€å‘æ•ˆç‡ï¼Œè€Œä½¿ç”¨ QFramework æ¶æ„ä¸­çš„äº‹ä»¶åœ¨é¡¹ç›®è§„æ¨¡æ›´å¤§çš„æ—¶å€™ä¼šå‘æŒ¥å¾ˆå¤§çš„ä½œç”¨ï¼Œå®ƒæ›´æ–¹ä¾¿åä½œæ›´å®¹æ˜“ç»´æŠ¤ï¼Œä¹Ÿæ›´å®¹æ˜“æ ‡å‡†åŒ–ã€‚\r\n\r\nå¥½äº†ï¼Œå…³äº EasyEvent çš„ä»‹ç»å°±åˆ°è¿™é‡Œã€‚\r\n\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n# 17. å†…ç½®å·¥å…·ï¼šBindableProperty\r\n\r\nåœ¨æ­¤ç¯‡ä»‹ç» BindablePropertyã€‚\r\n\r\nBindableProperty æä¾› æ•°æ® + æ•°æ®å˜æ›´äº‹ä»¶ çš„ä¸€ä¸ªå¯¹è±¡ã€‚\r\n\r\n## åŸºæœ¬ä½¿ç”¨\r\n\r\n```csharp\r\nusing UnityEngine;\r\n\r\nnamespace QFramework.Example\r\n{\r\n    public class BindablePropertyExample : MonoBehaviour\r\n    {\r\n        private BindableProperty<int> mSomeValue = new BindableProperty<int>(0);\r\n\r\n        private BindableProperty<string> mName = new BindableProperty<string>(\"QFramework\");\r\n        \r\n        void Start()\r\n        {\r\n            mSomeValue.Register(newValue =>\r\n            {\r\n                Debug.Log(newValue);\r\n            }).UnRegisterWhenGameObjectDestroyed(gameObject);\r\n\r\n            mName.RegisterWithInitValue(newName =>\r\n            {\r\n                Debug.Log(mName);\r\n            }).UnRegisterWhenGameObjectDestroyed(gameObject);\r\n        }\r\n        \r\n        void Update()\r\n        {\r\n\r\n            if (Input.GetMouseButtonDown(0))\r\n            {\r\n                mSomeValue.Value++;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n// è¾“å‡ºç»“æœ\r\n// QFramework\r\n// æŒ‰ä¸‹é¼ æ ‡å·¦é”®,è¾“å‡º:\r\n// 1\r\n// æŒ‰ä¸‹é¼ æ ‡å·¦é”®,è¾“å‡º:\r\n// 2\r\n```\r\n\r\néå¸¸ç®€å•ã€‚\r\n\r\n\r\nå…³äº BindablePropertyï¼Œåœ¨ä¹‹å‰å†™ CounterApp çš„æ—¶å€™æœ‰ä»‹ç»è¿‡ï¼Œæ‰€ä»¥è¿™ç¯‡å°±ä»‹ç»åˆ°è¿™é‡Œã€‚\r\n\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n# 18. å†…ç½®å·¥å…·ï¼šIOCContainer\r\n\r\nQFramework æ¶æ„çš„æ¨¡å—æ³¨å†Œä¸è·å–æ˜¯é€šè¿‡ IOCContainer å®ç°çš„ã€‚\r\n\r\nIOC çš„æ„æ€æ˜¯æ§åˆ¶åè½¬ï¼Œå³æ§åˆ¶åè½¬å®¹å™¨ã€‚\r\n\r\nå…¶æŠ€æœ¯çš„æœ¬è´¨å¾ˆç®€å•ï¼Œæœ¬è´¨å°±æ˜¯ä¸€ä¸ªå­—å…¸ï¼ŒKey æ˜¯ Typeï¼ŒValue æ˜¯ Objectï¼Œå³ï¼šDictionary<Type,object>ã€‚\r\n\r\nQFramework æ¶æ„ä¸­çš„ IOCContainer æ˜¯ä¸€ä¸ªéå¸¸ç®€æ˜“ç‰ˆæœ¬çš„æ§åˆ¶ç¿»è½¬å®¹å™¨ï¼Œä»…æ”¯æŒäº†æ³¨å†Œå¯¹è±¡ä¸ºå•ä¾‹çš„æ¨¡å¼ã€‚\r\n\r\nä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå…¶ä»–çš„æ§åˆ¶åè½¬å®¹å™¨ä¼šæœ‰å„ç§å„æ ·çš„å¯¹è±¡æ³¨å†Œæ¨¡å¼ï¼Œæœ‰çš„ç”šè‡³ä¼šå†…ç½®å¯¹è±¡æ± å’Œå¯¹è±¡å·¥å‚ï¼Œæ¯”å¦‚ Zenjectã€‚\r\n\r\nä¸è¿‡ï¼Œæˆ‘ä»¬å…ˆä¸ç”¨ç†ä¼šé‚£äº›ï¼Œå¦‚æœå…ˆä¸Šæ‰‹ä½¿ç”¨äº†æœ€ç®€æ˜“çš„ç‰ˆæœ¬ï¼Œå…¶ä»–ç‰ˆæœ¬ä¼šæ›´å®¹æ˜“ä¸Šæ‰‹ã€‚\r\n\r\næˆ‘ä»¬çœ‹ä¸‹ IOCContainer çš„åŸºæœ¬ä½¿ç”¨ã€‚\r\n\r\nä»£ç å¦‚ä¸‹:\r\n\r\n```csharp\r\nusing System;\r\nusing UnityEngine;\r\n\r\nnamespace QFramework.Example\r\n{\r\n    public class IOCContainerExample : MonoBehaviour\r\n    {\r\n        \r\n        public class SomeService\r\n        {\r\n            public void Say()\r\n            {\r\n                Debug.Log(\"SomeService Say Hi\");\r\n            }\r\n        }\r\n        \r\n        \r\n        public interface INetworkService\r\n        {\r\n            void Connect();\r\n        }\r\n        \r\n        public class NetworkService : INetworkService\r\n        {\r\n            public void Connect()\r\n            {\r\n                Debug.Log(\"NetworkService Connect Succeed\");\r\n            }\r\n        }\r\n\r\n        private void Start()\r\n        {\r\n            var container = new IOCContainer();\r\n            \r\n            container.Register(new SomeService());\r\n            \r\n            container.Register<INetworkService>(new NetworkService());\r\n            \r\n            \r\n            container.Get<SomeService>().Say();\r\n            container.Get<INetworkService>().Connect();\r\n        }\r\n    }\r\n}\r\n\r\n// è¾“å‡ºç»“æœ:\r\n// SomeService Say Hi\r\n// NetworkService Connect Succeed\r\n```\r\n\r\néå¸¸ç®€å•ã€‚\r\n\r\nä½†æ˜¯å¯¹äºå¾ˆå¤šåˆå­¦è€…ï¼ŒIOCContainer æ„Ÿè§‰ä¸çŸ¥é“æ€ä¹ˆç”¨ï¼Œä¹Ÿæ— æ³•ç†è§£ã€‚\r\n\r\nè¿™é‡Œç»™ä¸€ä¸ªç®€å•çš„è¯´æ³•ï¼Œä½¿ç”¨ IOCContainer æ›´å®¹æ˜“è®¾è®¡å‡ºç¬¦åˆä¾èµ–å€’ç½®åŸåˆ™çš„æ¨¡å—ã€‚\r\n\r\nè€Œ QFramework æ¶æ„çš„ç”¨æ¥å£è®¾è®¡æ¨¡å—çš„æ”¯æŒå°±æ˜¯é€šè¿‡ IOCContainer æ”¯æŒçš„ï¼ŒåŒæ ·ä½¿ç”¨ IOCContainer ä¹Ÿæ›´å®¹æ˜“è®¾è®¡å‡ºåˆ†å±‚çš„æ¶æ„ã€‚\r\n\r\nå¥½äº†ï¼Œå…³äº IOCContainer å°±ä»‹ç»åˆ°è¿™é‡Œã€‚\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n# 19. å¿ƒä¸­æœ‰æ¶æ„\r\n\r\nQFramework.cs æä¾›äº† MVCã€åˆ†å±‚ã€CQRSã€äº‹ä»¶é©±åŠ¨ã€æ•°æ®é©±åŠ¨ç­‰å·¥å…·ï¼Œé™¤äº†è¿™äº›å·¥å…·ï¼ŒQFramework.cs è¿˜æä¾›äº†æ¶æ„ä½¿ç”¨è§„èŒƒã€‚\r\n\r\nè€Œå½“ä½¿ç”¨ QFramework ç†Ÿç»ƒåˆ°ä¸€å®šçš„ç¨‹åº¦ä¹‹åï¼Œå°±å¯ä»¥è¾¾åˆ°å¿ƒä¸­æœ‰æ¶æ„çš„å¢ƒç•Œã€‚\r\n\r\nå¦‚æœè¾¾åˆ°è¿™ä¸ªå¢ƒç•Œï¼Œä½ å°±æ—©å·²ä¸æ˜¯å½“å¹´çš„ä½ äº†ï¼ˆå¼€ç©ç¬‘ï¼‰ã€‚\r\n\r\nå¿ƒä¸­æœ‰æ¶æ„çš„å¢ƒç•Œï¼Œå…·ä½“æ˜¯æŒ‡å¯ä»¥ä¸ä¾èµ– QFramework.cs å°±å¯ä»¥å†é¡¹ç›®ä¸­å®è·µ QFramework.cs æ¶æ„ã€‚\r\n\r\nå…·ä½“çš„ç¤ºä¾‹å¦‚ä¸‹:\r\n\r\n```csharp\r\nusing System;\r\nusing System.Collections.Generic;\r\nusing UnityEngine;\r\n\r\nnamespace QFramework.Example\r\n{\r\n    public class ArchitectureInHeartExample : MonoBehaviour\r\n    {\r\n\r\n        #region Framework\r\n\r\n        public interface ICommand\r\n        {\r\n            void Execute();\r\n        }\r\n\r\n        public class BindableProperty<T>\r\n        {\r\n            private T mValue = default;\r\n\r\n            public T Value\r\n            {\r\n                get => mValue;\r\n                set\r\n                {\r\n                    if (mValue != null && mValue.Equals(value)) return;\r\n                    mValue = value;\r\n                    OnValueChanged?.Invoke(mValue);\r\n                }\r\n            }\r\n\r\n            public event Action<T> OnValueChanged = _ => { };\r\n        }\r\n\r\n        #endregion\r\n\r\n\r\n        #region å®šä¹‰ Model\r\n\r\n        public static class CounterModel\r\n        {\r\n            public static BindableProperty<int> Counter = new BindableProperty<int>()\r\n            {\r\n                Value = 0\r\n            };\r\n        }\r\n        \r\n        #endregion\r\n\r\n        #region å®šä¹‰ Command\r\n        public struct IncreaseCountCommand : ICommand\r\n        {\r\n            public void Execute()\r\n            {\r\n                CounterModel.Counter.Value++;\r\n            }\r\n        }\r\n        \r\n        public struct DecreaseCountCommand : ICommand\r\n        {\r\n            public void Execute()\r\n            {\r\n                CounterModel.Counter.Value--;\r\n            }\r\n        }\r\n        #endregion\r\n\r\n\r\n        private void OnGUI()\r\n        {\r\n            if (GUILayout.Button(\"+\"))\r\n            {\r\n                new IncreaseCountCommand().Execute();\r\n            }\r\n\r\n            GUILayout.Label(CounterModel.Counter.Value.ToString());\r\n\r\n            if (GUILayout.Button(\"-\"))\r\n            {\r\n                new DecreaseCountCommand().Execute();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nä¸Šå›¾æ˜¯ä¸€ä¸ªè®¡æ•°å™¨åº”ç”¨çš„å®ç°ã€‚\r\n\r\nåœ¨è¿™ä¸ªå®ç°é‡Œï¼Œæ²¡æœ‰ä½¿ç”¨ QFramework.cs é‡Œçš„ä»»ä½•å†…å®¹ï¼Œä½†æ˜¯ä¹Ÿå†™å‡ºæ¥äº†ç¬¦åˆ QFramework.cs æ¶æ„è§„èŒƒçš„è®¡æ•°å™¨åº”ç”¨å®ç°ã€‚\r\n\r\nå½“å¤§å®¶ä½¿ç”¨ QFramework.cs åˆ°ä¸€å®šç¨‹åº¦ä¹‹åï¼Œåœ¨æœªæ¥ä¸ä½¿ç”¨ QFramework.cs ï¼Œä¹Ÿå¯ä»¥æŒ‰ç…§ QFramework.cs æ¶æ„è§„èŒƒæ¥å†™é¡¹ç›®ï¼Œè€Œåˆ°æ­¤æ—¶ï¼Œå¯¹äºå¤§å®¶æ¥è¯´æœ‰æ²¡æœ‰  QFramework.cs å°±æ— æ‰€è°“äº†ï¼Œå› ä¸º QFramework.cs çš„æ¶æ„è§„èŒƒå·²ç»åˆ»åœ¨å¤§å®¶çš„éª¨å­é‡Œäº†ã€‚\r\n\r\n\r\n\r\nå½“å¤§å®¶ç†Ÿç»ƒä½¿ç”¨ QFramework.cs ä¹‹åï¼Œæœ‰ä¸€å¤©å¦‚æœå¤§å®¶å»ç ”ç©¶ ç½‘é¡µå‰ç«¯ã€æœåŠ¡å™¨ã€App å¼€å‘ï¼Œä¼šå‘ç°å®ƒä»¬çš„å¾ˆå¤šæ¡†æ¶ä¸ QFramework.cs æ¶æ„æœ‰å…±é€šä¹‹å¤„ï¼Œç”šè‡³è¯´ï¼Œé€šè¿‡ QFramework.cs ä¸­ç§¯ç´¯çš„å¼€å‘ç»éªŒå¯ä»¥ç›´æ¥ç…§æ¬åˆ°å…¶ä»–é¢†åŸŸçš„å¼€å‘ä¸­ã€‚\r\n\r\nè¿™æ˜¯å› ä¸º QFramework.cs æœ€åˆçš„è®¾è®¡ç›®çš„ï¼Œå°±æ˜¯ä¸ºäº†ç³…åˆå’Œç®€åŒ–å¤§é‡å…¶ä»–é¢†åŸŸçš„æ¶æ„æ¦‚å¿µï¼Œæ¯”å¦‚ React ä¸­çš„ Reduxï¼ˆFluxï¼‰ã€.Net Core å¼€å‘ä¸­çš„é¢†åŸŸé©±åŠ¨è®¾è®¡ã€CQRSã€ä»“å‚¨æ¨¡å¼ç­‰ã€App å¼€å‘ä¸­çš„ MVCã€MVPã€MVVM ç­‰ã€‚\r\n\r\næˆ‘ä»¬ç®€å•çœ‹ä¸€ä¸‹è¿™äº›å›¾ï¼Œå¤§å®¶å°±æ¸…æ¥šäº†ã€‚\r\n\r\né¦–å…ˆæ˜¯å‰ç«¯ React ä¸­çš„ Redux çš„å·¥ä½œæµç¨‹ï¼Œå¦‚ä¸‹ï¼š\r\n![bg2016091802.jpg](https://file.liangxiegame.com/8b854e1e-4772-4a79-b595-c0ded004a569.png)\r\n\r\n\r\n\r\n\r\nå…¶ä¸­ React Components å¯¹åº”çš„æ˜¯ QFramework.cs  ä¸­çš„ Controllerã€‚\r\n\r\nAction + Reducers å¯¹åº”çš„æ˜¯ QFramework.cs ä¸­çš„ Command\r\n\r\nStore å¯¹åº”çš„æ˜¯ QFramework.cs ä¸­çš„ Modelã€‚\r\n\r\n\r\næ¥ç€æ˜¯é¢†åŸŸé©±åŠ¨è®¾è®¡ï¼š\r\n\r\n![image.png](https://file.liangxiegame.com/f966558b-c616-46cd-9eee-4ba56de64b2c.png)\r\n\r\n\r\nå…¶ä¸­ Interface å¯¹åº”çš„æ˜¯ IControllerã€‚\r\n\r\nApplication å¯¹åº”çš„æ˜¯ ISystemã€‚\r\n\r\nDomain å¯¹åº”çš„æ˜¯ Modelã€‚\r\n\r\nInfrustracture å¯¹åº”çš„æ˜¯ Utility + ä¸€éƒ¨åˆ† Modelã€‚\r\n\r\n\r\næ¥ç€çœ‹ä¸‹ CQRSï¼ŒCQRS ä¸€èˆ¬æ˜¯é¢†åŸŸé©±åŠ¨è®¾è®¡åŒ…å«çš„æ¨¡å¼ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º:\r\n\r\n![v2-da8a89f95e09bb518ad8c770b1413e5e_720w.jpg](https://file.liangxiegame.com/5f45fb20-537e-4574-80ac-c8d6a2d7921e.png)\r\n\r\n\r\n\r\nå…¶ä¸­ User Interface å¯¹åº”çš„æ˜¯ IControllerã€‚\r\n\r\nCommand å’Œ Query å¯¹åº”çš„æ˜¯ Command å’Œ Queryã€‚\r\n\r\nDomain Model å’Œ Data å¯¹åº”çš„æ˜¯ Model\r\n\r\nEvent å¯¹åº”çš„æ˜¯ Eventã€‚\r\n\r\néå¸¸æ¥è¿‘ã€‚\r\n\r\næ¥ç€çœ‹ä¸‹ä»“å‚¨æ¨¡å¼:\r\n\r\n![20150922190750314.png](https://file.liangxiegame.com/5bf7ddeb-702d-4e05-aa4a-b3751a7547eb.png)\r\n\r\n\r\nä»“å‚¨æ¨¡å¼æ²¡æœ‰å…·ä½“çš„å›¾ï¼Œè€Œæ­¤å›¾æ˜¯ä»ç½‘ä¸Šéšä¾¿æ‰¾çš„ï¼Œå¾ˆæ¸…æ™°åœ°è¡¨è¾¾å‡ºäº†ä»“å‚¨æ¨¡å¼çš„ç»“æ„ã€‚\r\n\r\nå…¶ä¸­ IRepository å¯¹åº”çš„æ˜¯ IModelã€‚\r\n\r\nRepository å¯¹åº”çš„æ˜¯ AbstractModelã€‚\r\n\r\nIBookRepository å¯¹åº”çš„æ˜¯ ICounterModelã€‚\r\n\r\nBookRespository å¯¹åº”çš„æ˜¯ CounterModelã€‚\r\n\r\nä½¿ç”¨ ICounterModel å’Œ CounterModel ä¸¾ä¾‹ä¸æ˜¯å¾ˆåˆé€‚ï¼Œå› ä¸º CounterModel åªæœ‰ä¸€ä¸ª Counter æ•°æ®ã€‚\r\n\r\næ›´é€‚åˆçš„ä¸¾ä¾‹æ˜¯ IStudentModelï¼ŒStudentModel ï¼Œå› ä¸º StudentModel ä¼šç»´æŠ¤ä¸€ä¸ª Student çš„ Listã€‚\r\n\r\nä»“å‚¨æ¨¡å¼çš„ä¼˜åŠ¿åœ¨äºï¼Œå¯ä»¥è®©ä¸Šå±‚ï¼ˆSystemã€Controllerï¼‰ä¸“æ³¨äºæ•°æ®çš„å¢åˆ æ”¹æŸ¥åŠŸèƒ½ï¼Œè€Œä¸æ˜¯å…·ä½“çš„å¢åˆ æ”¹æŸ¥å®ç°ï¼Œå› ä¸ºåœ¨æœåŠ¡å™¨ç«¯ï¼Œæ•°æ®éƒ½æ˜¯å­˜å‚¨åœ¨æ•°æ®åº“ä¸­çš„ï¼Œæ•°æ®åº“æœ‰å¾ˆå¤šç±»å‹ï¼Œæ¯”å¦‚ MySQLã€MongoDB ç­‰ï¼Œè€Œåœ¨æœåŠ¡å™¨ç«¯å¼€å‘æ—¶ï¼Œå¾ˆæœ‰å¯èƒ½åœ¨å¼€å‘é˜¶æ®µç”¨ SQLite æˆ–è€… MongoDBï¼Œè€Œåœ¨ç”Ÿäº§ç¯å¢ƒç”¨çš„æ˜¯ MySQLã€PostgreSQLï¼Œæ‰€ä»¥åœ¨é™æ€ç±»å‹è¯­è¨€ä¸­ï¼Œä»“å‚¨æ¨¡å¼ä¼šå’Œ ORM ä¸€èµ·é…åˆï¼Œè®©å¼€å‘è€…ä¸“æ³¨åœ¨æ•°æ®çš„å¢åˆ æ”¹æŸ¥å’Œæ•°æ®ä¹‹é—´çš„å…³è”ä¸Šï¼Œè€Œä¸æ˜¯å…·ä½“çš„æŸ¥è¯¢è¯­å¥ï¼Œè¿™æ ·èƒ½æé«˜å¼€å‘æ•ˆç‡ã€‚\r\n\r\n\r\næœ€åï¼ŒMVCã€MVPã€MVVM è¿™é‡Œå°±ä¸ä»‹ç»äº†ï¼Œå…¶ä¸­ MVP å’Œ MVVM çš„å®ç°ä¼šç”¨ BindablePropertyï¼Œæœ‰çš„ä¼šç”¨åå°„çš„å½¢å¼å®ç°ã€‚\r\n\r\nè€Œ QFramework.cs ä¸­çš„ BindableProperty å’Œ MVC åˆ†å±‚ï¼Œåˆ™æ˜¯æ¥è‡ªè¿™äº›æ¶æ„ä¸­ã€‚\r\n\r\nå¥½äº†ï¼Œæ­¤ç¯‡çš„å†…å®¹å°±è¯´å®Œäº†ã€‚\r\n\r\nå¤§å®¶å¯èƒ½ä¼šé—®ï¼Œä¸ºä»€ä¹ˆ QFramework.cs è¦ç³…åˆè¿™äº›æ¶æ„æ¦‚å¿µï¼Ÿ\r\n\r\nå› ä¸ºåœ¨ 2019 å¹´å·¦å³ï¼Œç¬”è€…åˆšå¥½åœ¨ä¸šä½™æ—¶é—´ç ”ç©¶äº†ä¸€å¹´ React å¼€å‘ï¼Œç”¨ React å‰ç«¯å¼€å‘åšäº†ä¸€äº› SideProjectï¼ŒæœåŠ¡å™¨åˆ™æ˜¯ç”¨çš„ .Net Coreï¼Œå†åŠ ä¸Šä¹‹å‰ç¬”è€…ä¹Ÿæœ‰åš iOSã€Android ç­‰å¼€å‘ç»éªŒã€‚è€Œåœ¨å½“æ—¶ï¼Œç¬”è€…çªç„¶å‘ç°è¿™äº›é¢†åŸŸçš„æ¶æ„æ¦‚å¿µå¾ˆå¤šéƒ½æ˜¯ç›¸é€šçš„ï¼Œå¯èƒ½åœ¨è¿™ä¸ªé¢†åŸŸå«è¿™ä¸ªï¼Œåœ¨å¦ä¸€ä¸ªé¢†åŸŸåªæ˜¯æ¢äº†ä¸€ä¸ªåå­—è€Œå·²ï¼Œäºæ˜¯å°±äº§ç”Ÿäº†å¯ä¸å¯ä»¥æŠŠè¿™äº›æ¶æ„æ¦‚å¿µéƒ½ç³…åˆåœ¨ä¸€èµ·ï¼Œç„¶åå»æ‰ç¹ççš„ä¿ç•™æœ‰ç”¨çš„éƒ¨åˆ†ï¼Œäºæ˜¯å°±å¼€å§‹äº† QFramework.cs çš„è®¾è®¡ã€‚\r\n\r\næ‚ç³…å’Œç®€åŒ–è¿™äº›æ¦‚å¿µçš„  QFramework.cs æœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿ\r\n\r\né¦–å…ˆ QFramework.cs æ˜¯éå¸¸å®¹æ˜“ä¸Šæ‰‹çš„æ¶æ„ï¼Œå› ä¸ºå…¶ä¸­çš„ MVC ä¸‰å±‚æ¦‚å¿µè®©å¤§å®¶ä¼šè§‰å¾—éå¸¸äº²åˆ‡ï¼Œæ‰€ä»¥ä¸Šæ‰‹æˆæœ¬å¹¶ä¸æ˜¯å¾ˆé«˜ã€‚\r\n\r\nå…¶æ¬¡ QFramework.cs æ˜¯ä¸€ä¸ªèƒ½æé«˜å¤§å®¶æŠ€æœ¯æ°´å¹³çš„æ¶æ„ï¼Œåœ¨æ¶æ„æ–¹é¢ï¼Œå¤©èŠ±æ¿æ˜¯é¢†åŸŸé©±åŠ¨è®¾è®¡çš„å®ç°ï¼Œæ˜¯æ¶æ„å¸ˆå¿…ç ”ç©¶çš„å†…å®¹ï¼Œå¦‚æœ QFramework.cs ç”¨ç†Ÿæ‚‰äº†ï¼Œå†å»ç ”ç©¶é¢†åŸŸé©±åŠ¨è®¾è®¡ä¼šå®¹æ˜“å¾—å¤šï¼Œè€Œé¢†åŸŸé©±åŠ¨è®¾è®¡ä¸ç®¡åœ¨é¡¹ç›®ä¸­æœ‰æ²¡æœ‰ä½¿ç”¨ï¼Œåªè¦å»ç ”ç©¶å°±ä¼šå¯¹æ¶æ„æ°´å¹³æœ‰å¾ˆå¤§çš„æå‡ï¼Œè€Œ QFramework.cs ç®—æ˜¯ç®€åŒ–ç‰ˆæœ¬çš„é¢†åŸŸé©±åŠ¨è®¾è®¡çš„å®ç°ã€‚\r\n\r\nç„¶å QFramework.cs å¯ä»¥ç”¨æ¥åšç³»ç»Ÿè®¾è®¡ã€å¯ä»¥åšæ¸¸æˆã€åšé¡¹ç›®ã€åšæ’ä»¶éƒ½æ˜¯å¾ˆé€‚åˆçš„ï¼Œå› ä¸ºç¬”è€…è‡ªå·±çš„å¾ˆå¤šé¡¹ç›®ã€æ’ä»¶ã€æœåŠ¡å™¨éƒ½æ˜¯ç”¨ QFramework.cs æ¶æ„æ¥åšçš„ã€‚\r\n\r\næœ€å QFramework.cs æœ¬èº«æ˜¯å¾ˆå¼ºå¤§çš„ï¼Œæ˜“ä¸Šæ‰‹ã€ç®€å•ã€ä»£ç ç²¾ç®€ã€å¯ç»´æŠ¤æ€§å¼ºã€å¼€å‘æ•ˆç‡é«˜ã€å¯å®šåˆ¶æ€§å¼ºã€æ‰©å±•æ€§å¼ºï¼Œå› ä¸º QFramework.cs å¸å–äº†å¤§é‡å…¶ä»–é¢†åŸŸæ¶æ„çš„ä¼˜ç‚¹ï¼ŒåŒæ—¶ä¹Ÿç»å†è¿‡å¤§é‡é¡¹ç›®çš„æ‰“ç£¨è€Œæˆï¼Œæ€»ä½“çš„ä»£ç ç²¾ç®€åˆ°äº† 900 è¡Œå·¦å³ã€‚\r\n\r\n\r\nå¦‚æœå¤§å®¶æƒ³åœ¨æ›´è¿›ä¸€æ­¥å¼ºåŒ–è¿™äº›æ¦‚å¿µï¼Œæœ€å¥½çš„æ–¹å¼å°±æ˜¯å°è¯•å»å­¦ä¹ å…¶ä»–é¢†åŸŸçš„æ¶æ„ï¼Œæ¯”å¦‚:\r\n* React ä¸  RedUå‹\r\n* Java/.Net Core ä¸ DDD å®ç°ï¼ŒCQRSã€ä»“å‚¨æ¨¡å¼\r\n* App å¼€å‘ä¸­çš„ MVCã€MVPã€MVVM\r\n\r\nå¥½äº†ï¼Œè¿™ç¯‡å†…å®¹å°±è¯´åˆ°è¿™é‡Œã€‚\r\n\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n# 20. QFramework.cs çš„æ›´å¤šå†…å®¹\r\n\r\nç»ˆäºæŠŠæƒ³ä»‹ç»çš„å†…å®¹éƒ½è®²å®Œäº†ã€‚\r\n\r\nå¦‚æœæƒ³è¿›ä¸€æ­¥äº†è§£å’Œå­¦ä¹  QFramework.cs å¯ä»¥çœ‹å¦‚ä¸‹å†…å®¹ã€‚\r\n\r\n## ä½¿ç”¨ QFramework.cs çš„æ¡ˆä¾‹ä¸é¡¹ç›®\r\n\r\næ›´å¤šçš„æ¡ˆä¾‹å¯ä»¥åˆ° QFramework github ä¸»é¡µæŸ¥çœ‹ã€‚\r\n\r\nåœ°å€:\r\n* github: https://github.com/liangxiegame/QFramework\r\n* gitee: https://gitee.com/liangxiegame/QFramework\r\n\r\nå›½å†…ç«¥é‹å»ºè®®æ‰“å¼€ gitee ç‰ˆæœ¬ä»“åº“ã€‚\r\n\r\nåœ¨ Readme ä¸­å¯ä»¥çœ‹åˆ°å¦‚ä¸‹å†…å®¹:\r\n\r\n![image.png](https://file.liangxiegame.com/26d4141d-b622-4fed-8dd3-f87979ae5c25.png)\r\n\r\nåœ¨è¿™é‡Œå¯ä»¥å®‰è£… QFramework.cs ä¸å®˜æ–¹ç¤ºä¾‹ã€‚\r\n\r\nç‚¹å‡»ä¹‹åï¼Œå†ç‚¹å‡»ä¸‹å›¾ä¸­çš„ä¸‹è½½æŒ‰é’®ã€‚\r\n\r\n![image.png](https://file.liangxiegame.com/78c1b225-4cfb-4f0c-ab98-33049e2068f2.png)\r\nå°±å¯ä»¥ä¸‹è½½ QFramework.cs å®˜æ–¹ç¤ºä¾‹äº†ã€‚\r\n\r\n\r\nç¤ºä¾‹ä¸­ï¼Œé™¤äº†æœ¬æ•™ç¨‹åŒ…å«çš„ CounterAppï¼Œè¿˜æœ‰å¾ˆå¤šå…¶ä»–ç¤ºä¾‹ï¼Œå¦‚ä¸‹:\r\n\r\n### å°æ¸¸æˆã€Šç‚¹ç‚¹ç‚¹ã€‹\r\n\r\n![b5966b31-f004-4b5f-a38d-25753fb2eb8f.gif](https://file.liangxiegame.com/5a10aa95-4c93-4dae-acec-667a113c30ca.gif)\r\n\r\n### å°æ¸¸æˆã€ŠFlappyBirdã€‹\r\n\r\n![430b7f31-508d-4569-aa51-b75d5553b8c4.gif](https://file.liangxiegame.com/9845122b-93d9-4106-a027-2d7c129a096a.gif)\r\n\r\nä½œè€…ï¼šç‹äºŒ soso https://github.com/so-sos-so\r\n\r\n### å°æ¸¸æˆã€ŠCube Masterã€‹\r\n\r\n![b1334ef2-f6d4-4a9c-a5c4-b6cd6508595c.gif](https://file.liangxiegame.com/f51abab0-9dc9-478b-b1f1-67f2cd588477.gif)\r\nä½œè€…ï¼šç‹äºŒ soso https://github.com/so-sos-so\r\n\r\n### ç®€æ˜“å…³å¡ç¼–è¾‘å™¨2D\r\n![c57c20cf-5ee6-4346-8be8-8ad1ea2d63b9.gif](https://file.liangxiegame.com/6492498b-6c22-478d-8785-9f43453c34db.gif)\r\n\r\n![ea2cb545-4b5b-4d02-b494-dde4afa4e190.gif](https://file.liangxiegame.com/34b775c6-6a49-4141-9b9a-1377a6c15673.gif)\r\n\r\n\r\n### å°æ¸¸æˆã€Šè´ªåƒè›‡ã€‹\r\n\r\n![fb907355-c06c-4bde-8ca3-5638ba9b3ef7.gif](https://file.liangxiegame.com/ac70d14e-ea89-445d-899e-06f18f11f8d1.gif)\r\n\r\nä½œè€…ï¼šä¸€åªçš®çš®è™¾ https://gitee.com/PantyNeko/\r\n\r\nä»¥ä¸Šçš„ç¤ºä¾‹éƒ½æ˜¯ç”± QFramework.cs åˆ¶ä½œè€Œæˆçš„å®˜æ–¹ç¤ºä¾‹ã€‚\r\n\r\n\r\nå¦å¤–è¿˜æœ‰ç¾¤å‹åˆ¶ä½œçš„å¼€æºæ¸¸æˆ\r\n\r\n### CrazyCar\r\n\r\nUnityåˆ¶ä½œçš„è”æœºèµ›è½¦æ¸¸æˆï¼Œåå°ä¸ºSpringBoot + Mybatisï¼›æ¸¸æˆé‡‡ç”¨QFrameworkæ¡†æ¶ï¼Œæ”¯æŒKCPå’ŒWebSocketç½‘ç»œ(å•†ç”¨çº§)\r\n\r\n\r\n![Login.jpg](https://file.liangxiegame.com/0ab6cb1d-2374-4aa2-b27d-f04eb72792cd.png)\r\n\r\n![Setting.png](https://file.liangxiegame.com/a113dcba-9ba8-4a40-b000-be3b61719ecc.png)\r\n\r\n![Homepage.png](https://file.liangxiegame.com/9075c10d-6d21-411c-b1a4-7f92a08f9bfa.png)\r\n\r\n![Avatar.png](https://file.liangxiegame.com/32b48b5b-cdcc-433e-b1b2-4b1333211a70.png) ![Profile.png](https://file.liangxiegame.com/bda476e4-0ede-4fd9-a5bb-e993bce8a786.png)\r\n\r\n\r\n![Equip.png](https://file.liangxiegame.com/158b0ce0-6e67-47c5-81b5-cee6388dd99c.png)\r\n\r\n![Rank.png](https://file.liangxiegame.com/2bd0ef1f-d639-48e8-8c48-320995d20de4.png)\r\n\r\n![TimeTrial.png](https://file.liangxiegame.com/aa337718-b868-41d2-bc6b-2ef51c157481.png)\r\n![Match.png](https://file.liangxiegame.com/06157781-3271-438c-bf3f-613e6ec00fb0.png)\r\n\r\nä½œè€…: TastSone  https://github.com/TastSong\r\n\r\né¡¹ç›®åœ°å€: https://github.com/TastSong/CrazyCar\r\n\r\n\r\n## QFramework.cs çš„æ¶æ„å¦‚ä½•æ¼”åŒ–å‡ºæ¥çš„?\r\n\r\nQFramework.cs çš„æ¶æ„å½“å‰çš„ç‰ˆæœ¬ï¼Œæ˜¯ä» ã€Šæ¡†æ¶æ­å»º å†³å®šç‰ˆã€‹ä¸­è®¾è®¡å‡ºæ¥çš„ï¼Œå¦‚æœå­¦ä¹ è¿™é—¨è¯¾ç¨‹ï¼Œå¯ä»¥å¯¹ QFramework.cs çš„åŸç†å’Œç†å¿µç†è§£å¾—æ›´æ·±åˆ»ï¼Œæ›´å®¹æ˜“å¯¹ QFramework.cs åšä¿®æ”¹å’Œå®šåˆ¶ã€‚\r\n\r\n* ã€Šæ¡†æ¶æ­å»º å†³å®šç‰ˆã€‹B ç«™è¯•å¬ï¼šhttps://www.bilibili.com/video/BV1wh411U7X6\r\n* ã€Šæ¡†æ¶æ­å»º å†³å®šç‰ˆã€‹å®Œæ•´ç‰ˆ\r\n  *  Unity å®˜æ–¹ä¸­æ–‡è¯¾å ‚ï¼šhttps://learn.u3d.cn/tutorial/framework_design\r\n  *  siki å­¦é™¢ï¼šhttps://www.sikiedu.com/my/course/871\r\n  *  GamePix ç‹¬ç«‹æ¸¸æˆå­¦é™¢ï¼šhttps://www.gamepixedu.com/my/course/2\r\n\r\n\r\nå¦å¤– QFramework.Toolkits å’Œ QFramework.ToolkitsPro é‡ŒåŒ…å«çš„å·¥å…·å¾ˆå¤šéƒ½æ˜¯ç”± QFramework.cs è®¾è®¡çš„ï¼Œ å·¥å…·çš„æºç æœ¬èº«ä¹Ÿæ˜¯ä¸é”™çš„å­¦ä¹ èµ„æ–™ã€‚\r\n\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n# 3. å·¥å…·ç¯‡ï¼šQFramework.Toolkits\r\n# 01. QFramework.Toolkits ç®€ä»‹\r\n\r\nQFramework.Toolkits æ˜¯åŒ…å« QFramework.cs å’Œ å¤§é‡å·¥å…·é›†çš„è§£å†³æ–¹æ¡ˆã€‚\r\n\r\nåœ¨ QFramework v1.0 ä¹‹å‰ï¼ŒQFramework.Toolkits å°±æ˜¯ QFramework æœ¬èº«ï¼Œè€Œåœ¨ QFramework v1.0 å¼€å§‹ï¼ŒQFramework æ‹¥æœ‰äº†è‡ªå·±çš„å¼€å‘æ¶æ„â€”QFramework.csï¼Œäºæ˜¯åŸæ¥çš„ QFramework å°±å˜æˆäº† QFramework.Toolkitsã€‚\r\n\r\nQFramework.Toolkits ç§°ä¸º QFramework å·¥å…·é›†ï¼Œæ˜¯ä¸€å¥—**å¼€ç®±å³ç”¨çš„ã€æ¸è¿›å¼**çš„**å¿«é€Ÿå¼€å‘**æ¡†æ¶ã€‚\r\n\r\nç›®æ ‡æ˜¯ä½œä¸ºæ— æ¡†æ¶ç»éªŒçš„å…¬å¸ã€ç‹¬ç«‹å¼€å‘è€…ã€ä»¥åŠ Unity3D åˆå­¦è€…ä»¬çš„**ç¬¬ä¸€å¥—æ¡†æ¶**ã€‚æ¡†æ¶å†…éƒ¨ç§¯ç´¯äº†å¤šä¸ªé¡¹ç›®åœ¨å„ä¸ªæŠ€æœ¯æ–¹å‘çš„è§£å†³æ–¹æ¡ˆã€‚å­¦ä¹ æˆæœ¬ä½ï¼Œæ¥å…¥æˆæœ¬ä½ï¼ˆä¾µå…¥æ€§ä½ï¼‰ï¼Œé‡æ„æˆæœ¬ä½ï¼ŒäºŒæ¬¡å¼€å‘æˆæœ¬ä½ã€‚æ–‡æ¡£å†…å®¹ä¸°å¯Œã€‚\r\n\r\nQFramework å·¥å…·é›†çš„è®¾è®¡å“²å­¦æ˜¯è¿½æ±‚æè‡´çš„å¼€å‘æ•ˆç‡å’Œå¼€å‘ä½“éªŒã€‚\r\n\r\n**QFramework.Toolkits ç‰¹æ€§ä¸€è§ˆ**\r\n\r\n* å·¥å…·é›†ï¼ˆQFramework.Toolkits v0.16ï¼‰\r\n    * UIKit ç•Œé¢&Viewå¿«é€Ÿå¼€å‘&ç®¡ç†è§£å†³æ–¹æ¡ˆ\r\n        * UIã€GameObject çš„ä»£ç ç”Ÿæˆ&è‡ªåŠ¨èµ‹å€¼\r\n        * ç•Œé¢ç®¡ç†\r\n        * å±‚çº§ç®¡ç†\r\n        * ç•Œé¢å †æ ˆ\r\n        * é»˜è®¤ä½¿ç”¨ ResKit æ–¹å¼ç®¡ç†ç•Œé¢èµ„æº\r\n        * å¯è‡ªå®šä¹‰ç•Œé¢çš„åŠ è½½ã€å¸è½½æ–¹å¼\r\n        * Manager Of Manager æ¶æ„é›†æˆï¼ˆä¸æ¨èä½¿ç”¨ï¼‰\r\n    * ResKit èµ„æºå¿«é€Ÿå¼€å‘&ç®¡ç†è§£å†³æ–¹æ¡ˆ\r\n        * AssetBundle æä¾›æ¨¡æ‹Ÿæ¨¡å¼ï¼Œå¼€å‘é˜¶æ®µæ— éœ€æ‰“åŒ…å³å¯åŠ è½½èµ„æº\r\n        * èµ„æºåç§°ä»£ç ç”Ÿæˆæ”¯æŒ\r\n        * åŒä¸€ä¸ª API å¯åŠ è½½ AssetBundleã€Resourcesã€ç½‘ç»œ å’Œ è‡ªå®šä¹‰æ¥æºçš„èµ„æº\r\n        * æä¾›ä¸€å¥—å¼•ç”¨è®¡æ•°çš„èµ„æºç®¡ç†æ¨¡å‹\r\n    * AudioKit éŸ³é¢‘ç®¡ç†è§£å†³æ–¹æ¡ˆ\r\n        * æä¾›èƒŒæ™¯éŸ³ä¹ã€äººå£°ã€éŸ³æ•ˆ ä¸‰ç§éŸ³é¢‘æ’­æ”¾ API\r\n        * éŸ³é‡æ§åˆ¶\r\n        * é»˜è®¤ä½¿ç”¨ ResKit æ–¹å¼ç®¡ç†éŸ³é¢‘èµ„æº\r\n        * å¯è‡ªå®šä¹‰éŸ³é¢‘çš„åŠ è½½ã€å¸è½½æ–¹å¼\r\n    * CoreKit æä¾›å¤§é‡çš„ä»£ç å·¥å…·\r\n        * ActionKitï¼šåŠ¨ä½œåºåˆ—æ‰§è¡Œç³»ç»Ÿ\r\n        * CodeGenKitï¼šä»£ç ç”Ÿæˆ & è‡ªåŠ¨åºåˆ—åŒ–èµ‹å€¼å·¥å…·\r\n        * EventKitï¼šæä¾›åŸºäºç±»ã€å­—ç¬¦ä¸²ã€æšä¸¾ä»¥åŠä¿¡å·ç±»å‹çš„äº‹ä»¶å·¥å…·é›†\r\n        * FluentAPIï¼šå¯¹å¤§é‡çš„ Unity å’Œ C# å¸¸ç”¨çš„ API æä¾›äº†é™æ€æ‰©å±•çš„å°è£…ï¼ˆé“¾å¼ APIï¼‰\r\n        * IOCKitï¼šæä¾›ä¾èµ–æ³¨å…¥å®¹å™¨\r\n        * LocaleKitï¼šæœ¬åœ°åŒ–&å¤šè¯­è¨€å·¥å…·é›†\r\n        * LogKitï¼šæ—¥å¿—å·¥å…·é›†\r\n        * PackageKitï¼šåŒ…ç®¡ç†å·¥å…·ï¼Œç”±æ­¤å¯æ›´æ–°æ¡†æ¶å’Œå¯¹åº”çš„æ’ä»¶æ¨¡å—ã€‚\r\n        * PoolKitï¼šå¯¹è±¡æ± å·¥å…·é›†ï¼Œæä¾›å¯¹è±¡æ± çš„åŸºç¡€ä¸Šï¼Œä¹Ÿæä¾› ListPool å’Œ Dictionary Pool ç­‰å·¥å…·ã€‚\r\n        * SingletonKitï¼šå•ä¾‹å·¥å…·é›†\r\n        * TableKitï¼šæä¾›è¡¨æ ¼ç±»æ•°æ®ç»“æ„çš„å·¥å…·é›†\r\n\r\n\r\n**å…¸å‹çš„ QFrameowrk.Toolkits ä»£ç **\r\n\r\n```csharp\r\nusing QFramework;\r\nusing UnityEngine;\r\nusing UnityEngine.UI;\r\n\r\nnamespace liangxiegame\r\n{\r\n    public partial class UIGamePanel : UIPanel\r\n    {\r\n        private ResLoader mResLoader;\r\n        \r\n        protected override void OnInit(IUIData uiData = null)\r\n        {\r\n            mResLoader = ResLoader.Allocate();\r\n            \r\n            mResLoader.LoadSync<GameObject>(\"GameplayRoot\")\r\n                .Instantiate()\r\n                .Identity()\r\n                .GetComponent<GameplayRoot>()\r\n                .InitGameplayRoot();\r\n            \r\n            \r\n            BtnPause.onClick.AddListener(() =>\r\n            {\r\n                AudioKit.PlaySound(\"btn_click\");\r\n                \r\n                ActionKit.Sequence()\r\n                    .Callback(() => BtnPause.interactable = false)\r\n                    .Callback(() => BtnPause.PlayBtnFadeAnimation())\r\n                    .Delay(0.3f)\r\n                    .Callback(() => UIKit.OpenPanel<UIPausePanel>())\r\n                    .Start(this);\r\n            });\r\n        }\r\n\r\n        protected override void OnClose()\r\n        {\r\n            mResLoader.Recycle2Cache();\r\n            mResLoader = null;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n# 02. ä¸‹è½½ä¸å®‰è£…\r\n\r\n\r\n## å¦‚ä½•ä¸‹è½½&å®‰è£…\r\nQFramework.Toolkits çš„æœ€æ–° unitypackage å­˜æ”¾åœ¨  git ä»“åº“é‡Œï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º:\r\n\r\n![image.png](https://file.liangxiegame.com/e5ff0b03-e593-4720-b077-1b0af817cdf0.png)\r\n\r\ngit ä»“åº“åœ°å€:\r\n* githubï¼š https://github.com/liangxiegame/QFramework\r\n* giteeï¼ˆå›½å†…é•œåƒï¼‰ï¼š https://gitee.com/liangxiegame/QFramework\r\n\r\nç‚¹å‡»åŒ…æ–‡ä»¶åï¼Œå†ç‚¹å‡»ä¸‹è½½æŒ‰é’®ã€‚\r\n\r\n![image.png](https://file.liangxiegame.com/4cfddfa3-a27a-4454-9cd9-8ebeef6ae8cc.png)\r\n\r\nä¸‹è½½å®Œæˆåå¯¼å…¥åˆ° Unity å·¥ç¨‹å³å¯ã€‚\r\n\r\n## å¦‚ä½•æ›´æ–°\r\n\r\nå½“æœ‰æ–°ç‰ˆæœ¬æ—¶ï¼Œåœ¨ QFramework çš„ç¼–è¾‘å™¨é¢æ¿å†…å°±å¯ä»¥å‡çº§ï¼Œæ‰“å¼€æ–¹å¼ ctrl + e æˆ– ctrl + shift + eï¼Œæ‰“å¼€åå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\r\n\r\n![image.png](https://file.liangxiegame.com/af6ae4cb-312b-413b-a92e-a57c27820a60.png)\r\n\r\nå½“æœ‰æ–°ç‰ˆæœ¬æ—¶ï¼Œå›¾ä¸­çš„æŒ‰é’®ä¼šæ˜¾ç¤ºä¸º\"æ›´æ–°\"ï¼Œç‚¹å‡»å°±å¯ä»¥ä¸€é”®æ›´æ–°ã€‚\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n\r\n## UI Kit å°ç»“\r\n\r\nåœ¨è¿™ä¸€ç« ï¼ŒUI Kit çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œæˆ‘ä»¬éƒ½æ¥è§¦è¿‡äº†ï¼Œå¦‚ä¸‹ï¼š\r\n\r\n* UIPanel/UIElement ä»£ç ç”Ÿæˆ\r\n* UIKit å¸¸ç”¨ API\r\n  * UIKit.OpenPanelï¼ˆAsyncï¼‰\r\n  * UIKit.ClosePanel\r\n  * UIKit.CloseSelf\r\n  * UIKit.SetResolution\r\n  * UIKit.Stack.Pushã€UIPanel.Back(Pop)\r\n* UIPanel ç”Ÿå‘½å‘¨æœŸ\r\n* UIPanel æµ‹è¯•åœºæ™¯ç”Ÿæˆå·¥å…·\r\n* è‡ªå®šä¹‰åŠ è½½ç•Œé¢\r\n\r\nåªè¦æŒæ¡äº†ä»¥ä¸Šè¿™äº›ï¼ŒåŸºæœ¬ä¸Šå¼€å‘ä¸€äº›ç•Œé¢å°±æ²¡å•¥é—®é¢˜äº†ã€‚\r\n\r\nå…³äº UIKit å°±ä»‹ç»åˆ°è¿™é‡Œã€‚\r\n\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  \r\n# 01. FluentAPI é“¾å¼ API\r\n\r\n## FluentAPI ç®€ä»‹\r\nFluentAPI æ˜¯ ç¬”è€…ç§¯ç´¯çš„ Unity API çš„ä¸€äº›é“¾å¼å°è£…ã€‚\r\n\r\nåŸºæœ¬ä½¿ç”¨éå¸¸ç®€å•ï¼Œå¦‚ä¸‹ï¼š\r\n```csharp\r\n// traditional style\r\nvar playerPrefab = Resources.Load<GameObject>(\"no prefab don't run\");\r\nvar playerObj = Instantiate(playerPrefab);\r\n\r\nplayerObj.transform.SetParent(null);\r\nplayerObj.transform.localRotation = Quaternion.identity;\r\nplayerObj.transform.localPosition = Vector3.left;\r\nplayerObj.transform.localScale = Vector3.one;\r\nplayerObj.layer = 1;\r\nplayerObj.layer = LayerMask.GetMask(\"Default\");\r\n\r\nDebug.Log(\"playerPrefab instantiated\");\r\n\r\n// Extension's Style,same as above \r\nResources.Load<GameObject>(\"playerPrefab\")\r\n    .Instantiate()\r\n    .transform\r\n    .Parent(null)\r\n    .LocalRotationIdentity()\r\n    .LocalPosition(Vector3.left)\r\n    .LocalScaleIdentity()\r\n    .Layer(1)\r\n    .Layer(\"Default\")\r\n    .ApplySelfTo(_ => { Debug.Log(\"playerPrefab instantiated\"); });\r\n```\r\n\r\nä»£ç å¾ˆç®€å•ã€‚\r\n\r\nFluentAPI åŒ…å« 100 å¤šä¸ªå¸¸ç”¨ API çš„é“¾å¼å°è£…ï¼Œå…·ä½“å¯ä»¥å‚è€ƒç¼–è¾‘å™¨å†…æ–‡æ¡£ã€‚\r\n\r\n![image.png](https://file.liangxiegame.com/67604baa-a9ca-4f03-8f7a-c1f88be322b7.png)\r\n\r\nå¦å¤– é“¾å¼ API å¯ä»¥ä¸ QFramework çš„å…¶ä»–æ¨¡å—é…åˆä½¿ç”¨äº‹åŠåŠŸå€ï¼Œæ¯”å¦‚ ResKit ä¸ FluentAPI ç»“åˆï¼Œå‚è€ƒä»£ç å¦‚ä¸‹:\r\n\r\n```csharp\r\nmResLoader.LoadSync<GameObject>(\"mygameobj\")\r\n  .InstantiateWithParent(parent)\r\n  .transform\r\n  .LocalIdentity()\r\n  .Name(\"MyGameObj\")\r\n  .Show();\r\n```\r\n\r\n\r\né“¾å¼ API å°±ä»‹ç»åˆ°è¿™é‡Œã€‚\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n# 01. FSMKit çŠ¶æ€æœº\r\n\r\nQFramework å†…ç½®äº†ä¸€ä¸ªç®€æ˜“çš„çŠ¶æ€æœºï¼ŒåŸºæœ¬ä½¿ç”¨å¦‚ä¸‹:\r\n\r\n## é“¾å¼\r\n\r\n```csharp\r\nusing UnityEngine;\r\n\r\nnamespace QFramework.Example\r\n{\r\n    public class IStateBasicUsageExample : MonoBehaviour\r\n    {\r\n        public enum States\r\n        {\r\n            A,\r\n            B\r\n        }\r\n\r\n        public FSM<States> FSM = new FSM<States>();\r\n\r\n        void Start()\r\n        {\r\n            FSM.State(States.A)\r\n                .OnCondition(()=>FSM.CurrentStateId == States.B)\r\n                .OnEnter(() =>\r\n                {\r\n                    Debug.Log(\"Enter A\");\r\n                })\r\n                .OnUpdate(() =>\r\n                {\r\n                    \r\n                })\r\n                .OnFixedUpdate(() =>\r\n                {\r\n                    \r\n                })\r\n                .OnGUI(() =>\r\n                {\r\n                    GUILayout.Label(\"State A\");\r\n                    if (GUILayout.Button(\"To State B\"))\r\n                    {\r\n                        FSM.ChangeState(States.B);\r\n                    }\r\n                })\r\n                .OnExit(() =>\r\n                {\r\n                    Debug.Log(\"Enter B\");\r\n\r\n                });\r\n\r\n            FSM.State(States.B)\r\n                .OnCondition(() => FSM.CurrentStateId == States.A)\r\n                .OnGUI(() =>\r\n                {\r\n                    GUILayout.Label(\"State B\");\r\n                    if (GUILayout.Button(\"To State A\"))\r\n                    {\r\n                        FSM.ChangeState(States.A);\r\n                    }\r\n                });\r\n            \r\n            FSM.StartState(States.A);\r\n        }\r\n\r\n        private void Update()\r\n        {\r\n            FSM.Update();\r\n        }\r\n\r\n        private void FixedUpdate()\r\n        {\r\n            FSM.FixedUpdate();\r\n        }\r\n\r\n        private void OnGUI()\r\n        {\r\n            FSM.OnGUI();\r\n        }\r\n\r\n        private void OnDestroy()\r\n        {\r\n            FSM.Clear();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nè¿è¡Œä¹‹åï¼Œç»“æœå¦‚ä¸‹:\r\n\r\n![1](https://file.liangxiegame.com/c263fec3-02eb-4af6-bb84-a3310440cfa9.gif)\r\n\r\næ²¡å•¥é—®é¢˜ã€‚\r\n\r\n\r\n\r\n## ç±»æ¨¡å¼\r\n\r\né“¾å¼é€‚åˆåœ¨å¿«é€Ÿå¼€å‘é˜¶æ®µï¼Œæˆ–è€…åœ¨çŠ¶æ€éå¸¸å°‘çš„é˜¶æ®µä½¿ç”¨ã€‚\r\n\r\n\r\n\r\nè€Œå¦‚æœçŠ¶æ€è¾ƒå¤šï¼Œæˆ–è€…ç›¸åº”ä»£ç é‡è¾ƒå¤šçš„é˜¶æ®µï¼Œå¯ä»¥ä½¿ç”¨ç±»æ¨¡å¼ï¼Œä»£ç å¦‚ä¸‹:\r\n\r\n\r\n\r\n```csharp\r\nusing UnityEngine;\r\n\r\nnamespace QFramework.Example\r\n{\r\n    public class IStateClassExample : MonoBehaviour\r\n    {\r\n\r\n        public enum States\r\n        {\r\n            A,\r\n            B,\r\n            C\r\n        }\r\n\r\n        public FSM<States> FSM = new FSM<States>();\r\n\r\n        public class StateA : AbstractState<States,IStateClassExample>\r\n        {\r\n            public StateA(FSM<States> fsm, IStateClassExample target) : base(fsm, target)\r\n            {\r\n            }\r\n\r\n            protected override bool OnCondition()\r\n            {\r\n                return mFSM.CurrentStateId == States.B;\r\n            }\r\n\r\n            public override void OnGUI()\r\n            {\r\n                GUILayout.Label(\"State A\");\r\n\r\n                if (GUILayout.Button(\"To State B\"))\r\n                {\r\n                    mFSM.ChangeState(States.B);\r\n                }\r\n            }\r\n        }\r\n        \r\n        \r\n        public class StateB: AbstractState<States,IStateClassExample>\r\n        {\r\n            public StateB(FSM<States> fsm, IStateClassExample target) : base(fsm, target)\r\n            {\r\n            }\r\n\r\n            protected override bool OnCondition()\r\n            {\r\n                return mFSM.CurrentStateId == States.A;\r\n            }\r\n\r\n            public override void OnGUI()\r\n            {\r\n                GUILayout.Label(\"State B\");\r\n\r\n                if (GUILayout.Button(\"To State A\"))\r\n                {\r\n                    mFSM.ChangeState(States.A);\r\n                }\r\n            }\r\n        }\r\n\r\n        private void Start()\r\n        {\r\n            FSM.AddState(States.A, new StateA(FSM, this));\r\n            FSM.AddState(States.B, new StateB(FSM, this));\r\n\r\n            // æ”¯æŒå’Œé“¾å¼æ¨¡å¼æ··ç”¨\r\n            // FSM.State(States.C)\r\n            //     .OnEnter(() =>\r\n            //     {\r\n            //\r\n            //     });\r\n            \r\n            FSM.StartState(States.A);\r\n        }\r\n\r\n        private void OnGUI()\r\n        {\r\n            FSM.OnGUI();\r\n        }\r\n\r\n        private void OnDestroy()\r\n        {\r\n            FSM.Clear();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nè¿è¡Œä¹‹åç»“æœå¦‚ä¸‹ã€‚\r\n\r\n\r\n\r\n![1](https://file.liangxiegame.com/c263fec3-02eb-4af6-bb84-a3310440cfa9.gif)\r\n\r\nå…³äºçŠ¶æ€æœºçš„ä»‹ç»å°±åˆ°è¿™é‡Œã€‚\r\n\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n\r\n# 01. PoolKit å¯¹è±¡æ± å¥—ä»¶\r\n\r\n\r\n## SimpleObjectPool ç®€æ˜“å¯¹è±¡æ± \r\n\r\n```csharp\r\nclass Fish\r\n{\r\n             \r\n}\r\n\r\nvar pool = new SimpleObjectPool<Fish>(() => new Fish(),initCount:50);\r\n \r\nDebug.Log(pool.CurCount);\r\n// 50 \r\nvar fish = pool.Allocate();\r\n \r\nDebug.Log(pool.CurCount);\r\n// 49\r\npool.Recycle(fish);\r\n\r\nDebug.Log(pool.CurCount);\r\n// 50\r\n\r\n\r\n// ---- GameObject ----\r\nvar gameObjPool = new SimpleObjectPool<GameObject>(() =>\r\n{\r\n    var gameObj = new GameObject(\"\"AGameObject\"\");\r\n    // init gameObj code \r\n\r\n    // gameObjPrefab = Resources.Load<GameObject>(\"\"somePath/someGameObj\"\");\r\n                \r\n    return gameObj;\r\n}, (gameObj) =>\r\n{\r\n    // reset code here\r\n});\r\n```\r\n\r\n## SafeObjectPool å®‰å…¨å¯¹è±¡æ± \r\n\r\n```csharp\r\nclass Bullet :IPoolable,IPoolType\r\n{\r\n    public void OnRecycled()\r\n    {\r\n        Debug.Log(\"\"å›æ”¶äº†\"\");\r\n    }\r\n \r\n    public  bool IsRecycled { get; set; }\r\n \r\n    public static Bullet Allocate()\r\n    {\r\n        return SafeObjectPool<Bullet>.Instance.Allocate();\r\n    }\r\n             \r\n    public void Recycle2Cache()\r\n    {\r\n        SafeObjectPool<Bullet>.Instance.Recycle(this);\r\n    }\r\n}\r\n \r\nSafeObjectPool<Bullet>.Instance.Init(50,25);\r\n             \r\nvar bullet = Bullet.Allocate();\r\n \r\nDebug.Log(SafeObjectPool<Bullet>.Instance.CurCount);\r\n             \r\nbullet.Recycle2Cache();\r\n \r\nDebug.Log(SafeObjectPool<Bullet>.Instance.CurCount);\r\n \r\n// can config object factory\r\n// å¯ä»¥é…ç½®å¯¹è±¡å·¥å‚\r\nSafeObjectPool<Bullet>.Instance.SetFactoryMethod(() =>\r\n{\r\n    // bullet can be mono behaviour\r\n    return new Bullet();\r\n});\r\n             \r\nSafeObjectPool<Bullet>.Instance.SetObjectFactory(new DefaultObjectFactory<Bullet>());\r\n \r\n// can set\r\n// å¯ä»¥è®¾ç½®\r\n// NonPublicObjectFactory: å¯ä»¥é€šè¿‡è°ƒç”¨ç§æœ‰æ„é€ æ¥åˆ›å»ºå¯¹è±¡,can call private constructor to create object\r\n// CustomObjectFactory: è‡ªå®šä¹‰åˆ›å»ºå¯¹è±¡çš„æ–¹å¼,can create object by Func<T>\r\n// DefaultObjectFactory: é€šè¿‡ new åˆ›å»ºå¯¹è±¡, can create object by new \r\n```\r\n\r\n## åŸºæœ¬çš„æ•°æ®ç»“æ„å°è£… Listã€Dictionary\r\n\r\n```csharp\r\nvar names = ListPool<string>.Get()\r\nnames.Add(\"\"Hello\"\");\r\n\r\nnames.Release2Pool();\r\n// or ListPool<string>.Release(names);\r\n```\r\n\r\n\r\n```csharp\r\nvar infos = DictionaryPool<string,string>.Get()\r\ninfos.Add(\"\"name\"\",\"\"liangxie\"\");\r\n\r\ninfos.Release2Pool();\r\n// or DictionaryPool<string,string>.Release(names);\r\n```\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n# 01. TableKit è¡¨æ•°æ®ç»“æ„\r\n\r\nåœ¨è®¾è®¡ UIKitã€ResKit ç­‰ç³»ç»Ÿæ—¶ï¼Œå¦‚æœåªä½¿ç”¨é»˜è®¤çš„ List å’Œ Dictionary æ¥ç®¡ç†æ•°æ®å’Œå¯¹è±¡éœ€è¦åšå¾ˆå¤šçš„å°è£…ã€‚\r\n\r\nå› ä¸ºæœ¬èº« List å’Œ Dictionary æ”¯æŒçš„æŸ¥è¯¢æ–¹å¼æ¯”è¾ƒå•ä¸€ï¼Œå¦‚æœæƒ³åšä¸€äº›æ¯”è¾ƒå¤æ‚çš„æŸ¥è¯¢ï¼Œæ¯”å¦‚è”åˆæŸ¥è¯¢ï¼Œé‚£ä¹ˆ List å’Œ Dictionary çš„æ€§èƒ½ä¼šæ¯”è¾ƒå·®ã€‚\r\n\r\næ‰€ä»¥ä¸ºæ­¤ï¼Œç¬”è€…ç®€å•å°è£…äº†ä¸€ä¸ª Table æ•°æ®ç»“æ„ã€‚\r\n\r\nä½¿ç”¨ç¤ºä¾‹å¦‚ä¸‹:\r\n\r\n```csharp\r\nusing System;\r\nusing System.Collections.Generic;\r\nusing System.Linq;\r\nusing UnityEngine;\r\n\r\nnamespace QFramework\r\n{\r\n    public class TableKitExample : MonoBehaviour\r\n    {\r\n        public class Student\r\n        {\r\n            public string Name { get; set; }\r\n            public int Age { get; set; }\r\n            public int Level { get; set; }\r\n        }\r\n        public class School : Table<Student>\r\n        {\r\n            public TableIndex<int, Student> AgeIndex = new TableIndex<int, Student>((student) => student.Age);\r\n            public TableIndex<int, Student> LevelIndex = new TableIndex<int, Student>((student) => student.Level);\r\n            \r\n            protected override void OnAdd(Student item)\r\n            {\r\n                AgeIndex.Add(item);\r\n                LevelIndex.Add(item);\r\n            }\r\n\r\n            protected override void OnRemove(Student item)\r\n            {\r\n                AgeIndex.Remove(item);\r\n                LevelIndex.Remove(item);\r\n            }\r\n\r\n            protected override void OnClear()\r\n            {\r\n                AgeIndex.Clear();\r\n                LevelIndex.Clear();\r\n            }\r\n\r\n            public override IEnumerator<Student> GetEnumerator()\r\n            {\r\n                return AgeIndex.Dictionary.Values.SelectMany(s=>s).GetEnumerator();\r\n            }\r\n\r\n            protected override void OnDispose()\r\n            {\r\n                AgeIndex.Dispose();\r\n                LevelIndex.Dispose();\r\n            }\r\n        }\r\n\r\n\r\n        private void Start()\r\n        {\r\n            var school = new School();\r\n            school.Add(new Student(){Age = 1,Level = 2,Name = \"liangxie\"});\r\n            school.Add(new Student(){Age = 2,Level = 2,Name = \"ava\"});\r\n            school.Add(new Student(){Age = 3,Level = 2,Name = \"abc\"});\r\n            school.Add(new Student(){Age = 3,Level = 3,Name = \"efg\"});\r\n            \r\n            foreach (var student in school.LevelIndex.Get(2).Where(s=>s.Age < 3))\r\n            {\r\n                Debug.Log(student.Age + \":\" + student.Level + \":\" + student.Name);\r\n            }\r\n        }\r\n    }\r\n}\r\n// 1:2:liangxie\r\n// 2:2:ava\r\n```\r\n\r\n\r\nTableKit å…¼é¡¾æŸ¥è¯¢åŠŸèƒ½æ”¯æŒå’Œæ€§èƒ½ï¼Œåœ¨åŠŸèƒ½å’Œæ€§èƒ½ä¹‹é—´å–å¾—äº†ä¸€ä¸ªå¹³è¡¡ã€‚\r\n\r\nResKitã€UIKit çš„æ•°æ®ç®¡ç†å…¨éƒ¨ç”± TableKit æ”¯æŒã€‚\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n\r\n\r\n# 01. å…¶ä»–äº‹ä»¶å·¥å…·\r\n\r\nQFramework é™¤äº†æ”¯æŒäº†  TypeEventSystemã€EasyEvent è¿˜æ”¯æŒäº† EnumEventSystemã€StringEventSystemã€‚\r\n\r\n\r\n## EnumEventSystem\r\n\r\nEnumEventSystem å‰èº«æ˜¯ è€ç‰ˆæœ¬ QFramework çš„ QEventSystem\r\n\r\n``` csharp\r\nusing UnityEngine;\r\n\r\nnamespace QFramework\r\n{\r\n\tpublic class EnumEventExample : MonoBehaviour\r\n\t{\r\n\t\t#region äº‹ä»¶å®šä¹‰\r\n\r\n\t\tpublic enum TestEvent\r\n\t\t{\r\n\t\t\tStart,\r\n\t\t\tTestOne,\r\n\t\t\tEnd,\r\n\t\t}\r\n\r\n\t\tpublic enum TestEventB\r\n\t\t{\r\n\t\t\tStart = TestEvent.End, // ä¸ºäº†ä¿è¯æ¯ä¸ªæ¶ˆæ¯ Id å”¯ä¸€ï¼Œéœ€è¦å¤´å°¾ç›¸æ¥\r\n\t\t\tTestB,\r\n\t\t\tEnd,\r\n\t\t}\r\n\r\n\t\t#endregion äº‹ä»¶å®šä¹‰\r\n\t\t\r\n\t\tvoid Start()\r\n\t\t{\r\n\t\t\tEnumEventSystem.Global.Register(TestEvent.TestOne, OnEvent);\r\n\t\t}\r\n\r\n\t\tvoid OnEvent(int key, params object[] obj)\r\n\t\t{\r\n\t\t\tswitch (key)\r\n\t\t\t{\r\n\t\t\t\tcase (int) TestEvent.TestOne:\r\n\t\t\t\t\tDebug.Log(obj[0]);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tprivate void Update()\r\n\t\t{\r\n\t\t\tif (Input.GetMouseButtonDown(0))\r\n\t\t\t{\r\n\t\t\t\tEnumEventSystem.Global.Send(TestEvent.TestOne, \"Hello World!\");\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tprivate void OnDestroy()\r\n\t\t{\r\n\t\t\tEnumEventSystem.Global.UnRegister(TestEvent.TestOne, OnEvent);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n\r\n## StringEventSystem\r\n\r\nStringEventSystem çš„å‰èº«æ˜¯ï¼Œè€ç‰ˆæœ¬çš„ MsgDispatcher\r\n\r\n``` csharp\r\nusing UnityEngine;\r\n\r\nnamespace QFramework\r\n{\r\n\tpublic class EnumEventExample : MonoBehaviour\r\n\t{\r\n\t\t#region äº‹ä»¶å®šä¹‰\r\n\r\n\t\tpublic enum TestEvent\r\n\t\t{\r\n\t\t\tStart,\r\n\t\t\tTestOne,\r\n\t\t\tEnd,\r\n\t\t}\r\n\r\n\t\tpublic enum TestEventB\r\n\t\t{\r\n\t\t\tStart = TestEvent.End, // ä¸ºäº†ä¿è¯æ¯ä¸ªæ¶ˆæ¯ Id å”¯ä¸€ï¼Œéœ€è¦å¤´å°¾ç›¸æ¥\r\n\t\t\tTestB,\r\n\t\t\tEnd,\r\n\t\t}\r\n\r\n\t\t#endregion äº‹ä»¶å®šä¹‰\r\n\t\t\r\n\t\tvoid Start()\r\n\t\t{\r\n\t\t\tEnumEventSystem.Global.Register(TestEvent.TestOne, OnEvent);\r\n\t\t}\r\n\r\n\t\tvoid OnEvent(int key, params object[] obj)\r\n\t\t{\r\n\t\t\tswitch (key)\r\n\t\t\t{\r\n\t\t\t\tcase (int) TestEvent.TestOne:\r\n\t\t\t\t\tDebug.Log(obj[0]);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tprivate void Update()\r\n\t\t{\r\n\t\t\tif (Input.GetMouseButtonDown(0))\r\n\t\t\t{\r\n\t\t\t\tEnumEventSystem.Global.Send(TestEvent.TestOne, \"Hello World!\");\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tprivate void OnDestroy()\r\n\t\t{\r\n\t\t\tEnumEventSystem.Global.UnRegister(TestEvent.TestOne, OnEvent);\r\n\t\t}\r\n\t}\r\n}\r\n// è¾“å‡ºç»“æœ\r\n// ç‚¹å‡»é¼ æ ‡å·¦é”®\r\n// Hello World\r\n```\r\n\r\n\r\n## StringEventSystem\r\n\r\n``` csharp\r\nusing UnityEngine;\r\n\r\nnamespace QFramework.Example\r\n{\r\n    public class StringEventSystemExample : MonoBehaviour\r\n    {\r\n        void Start()\r\n        {\r\n            StringEventSystem.Global.Register(\"TEST_ONE\", () =>\r\n            {\r\n                Debug.Log(\"TEST_ONE\");\r\n            }).UnRegisterWhenGameObjectDestroyed(gameObject);\r\n            \r\n            // äº‹ä»¶ + å‚æ•°\r\n            StringEventSystem.Global.Register<int>(\"TEST_TWO\", (count) =>\r\n            {\r\n                Debug.Log(\"TEST_TWO:\" + count);\r\n\r\n            }).UnRegisterWhenGameObjectDestroyed(gameObject);\r\n        }\r\n\r\n        private void Update()\r\n        {\r\n            if (Input.GetMouseButtonDown(0))\r\n            {\r\n                StringEventSystem.Global.Send(\"TEST_ONE\");\r\n                StringEventSystem.Global.Send(\"TEST_TWO\",10);\r\n                \r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n// è¾“å‡ºç»“æœ\r\n// ç‚¹å‡»é¼ æ ‡å·¦é”®\r\n// TEST_ONE\r\n// TEST_TWO:10\r\n\r\n```\r\n\r\n\r\n\r\n\r\n## å¯¹æ¯”\r\n\r\n* TypeEventSystemï¼š\r\n  * äº‹ä»¶ä½“å®šä¹‰ç®€æ´\r\n  * æ¯”è¾ƒé€‚åˆç”¨äºè®¾è®¡æ¡†æ¶\r\n  * æ”¯æŒ struct è·å¾—è¾ƒå¥½å†…å­˜æ€§èƒ½\r\n  * ä½¿ç”¨åå°„ï¼ŒCPU æ€§èƒ½ç›¸å¯¹æ¯”è¾ƒå·®\r\n\r\n* EasyEvent\r\n  * æ–¹ä¾¿ã€æ˜“ç”¨ã€å¼€å‘æ•ˆç‡é«˜\r\n  * CPU æ€§èƒ½ã€å†…å­˜æ€§èƒ½è¾ƒå¥½ï¼Œæ¥è¿‘å§”æ‰˜\r\n  * åŠŸèƒ½æœ‰é™\r\n  * æ¯”è¾ƒé€‚åˆè®¾è®¡é€šç”¨è§£å†³å·¥å…·ï¼Œæ¯”å¦‚é€šç”¨èƒŒåŒ…ã€å…¨å±€ç”Ÿå‘½å‘¨æœŸè§¦å‘ç­‰\r\n  * StringEventSystemã€TypeEventSystem çš„åº•å±‚ç”± EasyEvent å®ç°\r\n\r\n* EnumEventSystem\r\n  * ä½¿ç”¨æšä¸¾ä½œä¸ºäº‹ä»¶ idï¼Œæ¯”è¾ƒé€‚åˆå’ŒæœåŠ¡ç«¯çš„ protobuf æˆ–å¸¦æœ‰æ¶ˆæ¯ id çš„é•¿é“¾æ¥é€šä¿¡\r\n  * æ€§èƒ½è¾ƒå¥½\r\n  * æšä¸¾ç”¨äºå®šä¹‰æ¶ˆæ¯ä½“æœ‰ç»´æŠ¤æˆæœ¬\r\n\r\n* StringEventSystem\r\n  * ä½¿ç”¨å­—ç¬¦ä¸²ä½œä¸ºäº‹ä»¶ idï¼Œæ¯”è¾ƒé€‚åˆå’Œå…¶ä»–è„šæœ¬å±‚é€šä¿¡ï¼Œæ¯”å¦‚ Luaã€ILRuntimeã€PlayMaker ç­‰ã€‚\r\n  * æ€§èƒ½ä¸€èˆ¬\r\n\r\n\r\nç›®å‰å®˜æ–¹æ¨èä½¿ç”¨ TypeEventSystem å’Œ EasyEvent è¿™ä¸¤ä¸ªå·¥å…·ã€‚\r\n\r\nå¦‚æœè¦å’Œç½‘ç»œé€šä¿¡åˆ™é€‰æ‹©ç”¨ EnumEventSystemã€‚\r\n\r\nå¦‚æœè¦å’Œå…¶ä»–è„šæœ¬å±‚é€šä¿¡é€‰æ‹©ç”¨ StringEventSystemã€‚\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n    \r\n    \r\n    \r\n        \r\n# 01. æ›´å¤šå†…å®¹\r\n\r\n\r\n## æ¡ˆä¾‹ã€Šäº”å­æ£‹ã€‹\r\n\r\n![2f4dacbd-e59b-43af-b7be-44220fac664e.png](https://file.liangxiegame.com/a76bc24a-1828-46f2-94c5-8bd24884f932.png)\r\n\r\n\r\næºç åœ°å€:\r\n* github https://github.com/liangxiegame/QFramework\r\n* gitee https://gitee.com/liangxiegame/QFramework\r\n\r\n![image.png](https://file.liangxiegame.com/3abceb70-2d17-4457-aff1-ef8a6ef4bd66.png)\r\n\r\n## æ¡ˆä¾‹ã€Šæ‰«é›·ã€‹\r\n\r\nä½œè€…ï¼šJoker\r\n\r\n![æ‰«é›·](https://file.liangxiegame.com/4c42d227-11b9-4485-8884-a2f04a62460c.png)\r\næºç åœ°å€:\r\n* github https://github.com/liangxiegame/QFramework\r\n* gitee https://gitee.com/liangxiegame/QFramework\r\n\r\n![image.png](https://file.liangxiegame.com/6482d4eb-5af9-4932-a2f8-2164cb22e931.png)\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n# 01. GridKit äºŒç»´æ ¼å­æ•°æ®ç»“æ„\r\n\r\nåœ¨åšæ¸¸æˆçš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦å¤„ç†äºŒç»´æ ¼å­ç±»çš„æ•°æ®ï¼Œæ¯”å¦‚æ¶ˆé™¤ç±»æ¸¸æˆã€ä¿„ç½—æ–¯æ–¹å—ã€å„ç§æ£‹ç±»æ¸¸æˆï¼Œè¿˜æœ‰æˆ‘ä»¬æœ€å¸¸ç”¨çš„ Tilemap çš„åœ°å—æ•°æ®ï¼Œè¿™äº›éƒ½éœ€è¦äºŒç»´æ ¼å­æ•°æ®ç»“æ„ã€‚\r\n\r\nè€Œåœ¨ GameMaker Studio å¼•æ“ä¸­ï¼Œè¿™æ ·çš„æ•°æ®ç»“æ„ç›´æ¥åœ¨å¼•æ“å±‚é¢æä¾›ï¼Œåå­—å«åš ds_gridã€‚\r\n\r\nå—åˆ° GameMaker Stdio çš„ ds_grid å¯å‘ï¼ŒQFramework ä¹Ÿå®ç°äº†ä¸€ä¸ªç±»ä¼¼çš„æ•°æ®ç»“æ„ï¼Œåå­—å«åš EasyGridï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹:\r\n``` csharp\r\nusing UnityEngine;\r\n\r\nnamespace QFramework.Example\r\n{\r\n    public class GridKitExample : MonoBehaviour\r\n    {\r\n        // Start is called before the first frame update\r\n        void Start()\r\n        {\r\n            var grid = new EasyGrid<string>(4, 4);\r\n\r\n            grid.Fill(\"Empty\");\r\n            \r\n            grid[2, 3] = \"Hello\";\r\n\r\n            grid.ForEach((x, y, content) => Debug.Log($\"({x},{y}):{content})\");\r\n\r\n            grid.Clear();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nè¿è¡Œåï¼Œä»£ç å¦‚ä¸‹:\r\n``` \r\n(0,0):Empty\r\n(0,1):Empty\r\n(0,2):Empty\r\n(0,3):Empty\r\n(1,0):Empty\r\n(1,1):Empty\r\n(1,2):Empty\r\n(1,3):Empty\r\n(2,0):Empty\r\n(2,1):Empty\r\n(2,2):Empty\r\n(2,3):Hello\r\n(3,0):Empty\r\n(3,1):Empty\r\n(3,2):Empty\r\n(3,3):Empty\r\n```\r\n\r\nå¥½äº†è¿™ä¸ªå°±æ˜¯å…³äº GridKit çš„ç®€å•ä»‹ç»ã€‚\r\n\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n# 01. LiveCodingKit çƒ­é‡è½½\r\n\r\næˆ‘ä»¬åœ¨ç”¨ Unity å¼€å‘çš„æ—¶å€™ï¼Œæ¯æ¬¡ç¼–å†™æˆ–ä¿®æ”¹ä¸€ç‚¹ä»£ç å°±éœ€è¦è¿›è¡Œ åœæ­¢è¿è¡Œ->ç¼–å†™ä»£ç ->ç­‰å¾…ç¼–è¯‘->è¿è¡Œæ¸¸æˆã€‚\r\n\r\nè€Œåœ¨å¾ˆå¤šæƒ…å†µä¸‹è¿™ä¸ªè¿‡ç¨‹æ˜¯ä¸€ä¸ªæ¯”è¾ƒè€—ç¥çš„è¿‡ç¨‹ï¼Œå› ä¸ºå¼€å‘è€…éœ€è¦ç­‰å¾…ï¼Œè¿˜éœ€è¦åŠ¨æ‰‹æ“ä½œã€‚\r\n\r\nåœ¨ç¬”è€…ä½“éªŒè¿‡ GameMakerStudio çš„ GMLive æ’ä»¶åï¼Œå‘ç°ä¸åœæ­¢è¿è¡Œå°±å¯ä»¥ç›´æ¥æŸ¥çœ‹ä»£ç ç¼–å†™çš„ç»“æœçš„ä½“éªŒéå¸¸ä¸æ»‘ã€‚\r\n\r\näºæ˜¯ç¬”è€…å°±åœ¨ QFramework ä¸­å†™äº†ä¸€ä¸ªç±»ä¼¼çš„æ–¹æ¡ˆ LiveCodingKitã€‚\r\n\r\nä½¿ç”¨æ–¹å¼å¾ˆç®€å•ï¼Œé¦–å…ˆåœ¨ QFramework ç¼–è¾‘å™¨ä¸­å¯ä»¥çœ‹åˆ° LiveCodingKit é¢æ¿ï¼Œå¦‚ä¸‹:\r\n\r\n![image-20230112105034532](https://file.liangxiegame.com/4e7b25f6-cb59-4283-8e74-9d2c951c39e5.png)\r\n\r\nç¡®ä¿å¼€å¯æ˜¯å‹¾é€‰çŠ¶æ€ã€‚\r\n\r\nç„¶åæ ¹æ®è‡ªå·±éœ€è¦é€‰æ‹©å½“ç¼–è¯‘å®Œæˆæ—¶ï¼Œå¯¹åº”çš„æ“ä½œï¼Œä¸€èˆ¬æƒ…å†µä¸‹é‡æ–°åŠ è½½å½“å‰åœºæ™¯å°±å¤Ÿç”¨äº†ã€‚\r\n\r\nå½“ç„¶å¦‚æœæ˜¯åœºæ™¯å’Œåœºæ™¯é—´æœ‰ä¾èµ–å…³ç³»ï¼Œé‚£ä¹ˆå¯ä»¥é€‰æ‹©é‡å¯æ¸¸æˆã€‚\r\n\r\nç„¶åéšæ„è¿è¡Œä¸€ä¸ªå¸¦æœ‰è„šæœ¬çš„åœºæ™¯ï¼Œç¬”è€…é€‰æ‹©çš„æ˜¯ QFramework è‡ªå¸¦çš„ç¤ºä¾‹ï¼Œå¦‚ä¸‹:\r\n\r\n![image-20230112105245671](https://file.liangxiegame.com/907db129-95aa-4674-a63a-3c47f82d4dc9.png)\r\n\r\nç„¶åæ–°å¢ä»£ç å¦‚ä¸‹:\r\n\r\n```csharp\r\npublic partial class UIBasicPanel : UIPanel\r\n{\r\n   protected override void OnInit(IUIData uiData = null)\r\n   {\r\n      mData = uiData as UIBasicPanelData ?? new UIBasicPanelData();\r\n      \r\n      BtnStart.onClick.AddListener(() =>\r\n      {\r\n         Debug.Log(\"å¼€å§‹æ¸¸æˆ\");\r\n      });\r\n\r\n      BtnStart.Rotation(Quaternion.Euler(0, 0, 90)); // æ–°å¢ä»£ç \r\n   }\r\n   \r\n```\r\n\r\nä¹‹åå›åˆ° Unity ç›´æ¥ç­‰å¾…ç¼–è¯‘ï¼ˆä¸ç”¨åœæ­¢è¿è¡Œï¼‰ã€‚\r\n\r\n\r\n\r\nç¼–è¯‘å®Œæˆåç»“æœå¦‚ä¸‹:\r\n\r\n![image-20230112105456694](https://file.liangxiegame.com/5185ab09-938c-4bd7-9259-6ff08ebaf779.png)\r\n\r\n\r\n\r\nOKï¼Œç»“æœæ²¡é—®é¢˜ã€‚\r\n\r\nè¿™å°±æ˜¯ LiveCodingKit çš„ä»‹ç»ï¼Œå½“ä½ éœ€è¦åœ¨ä»£ç ä¸­è°ƒæ•´ä¸€äº›æ•°å€¼ï¼Œå†™ OnGUI ä»£ç ï¼Œä¼šéå¸¸æ–¹ä¾¿ï¼Œå½“ç„¶ä¹Ÿæœ‰ä¸€äº›ä¸é€‚ç”¨çš„æƒ…å†µï¼Œè¿™ä¸ªå°±éœ€è¦å¤§å®¶è‡ªè¡Œä½“éªŒäº†ã€‚\r\n\r\n\r\n\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n# 01. åŠ¨æ€äºŒç»´æ ¼å­æ•°æ®ç»“æ„ DynaGridï¼ˆGridKitï¼‰\r\n\r\nä¹‹å‰ä»‹ç»çš„ EasyGrid åªæ”¯æŒå›ºå®šå®½åº¦å’Œé«˜åº¦ï¼Œä½†æ˜¯åœ¨å¾ˆå¤šæƒ…å†µä¸‹æˆ‘ä»¬éœ€è¦ä¸€ä¸ªåŠ¨æ€å®½é«˜çš„äºŒç»´æ ¼å­æ•°æ®ç»“æ„ã€‚\r\n\r\näºæ˜¯ QFramework å¢åŠ äº† DynaGridã€‚\r\n\r\nç¤ºä¾‹ä»£ç å¦‚ä¸‹:\r\n``` csharp\r\nusing UnityEngine;\r\n\r\nnamespace QFramework.Example\r\n{\r\n    public class DynaGridExample : MonoBehaviour\r\n    {\r\n        public class MyData\r\n        {\r\n            public string Key;\r\n        }\r\n\r\n        void Start()\r\n        {\r\n            var dynaGrid = new DynaGrid<MyData>();\r\n            dynaGrid[1, 1] = new MyData() { Key = \"\"Hero\"\" };\r\n            dynaGrid[-1, -10] = new MyData() { Key = \"\"Enemy\"\" };\r\n\r\n            dynaGrid.ForEach((x, y, data) => { Debug.Log($\"\"{x} {y} {data.Key}\"\"); });\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nè¿è¡Œåï¼Œä»£ç å¦‚ä¸‹:\r\n``` \r\n// 1 1 Hero\r\n// -1 -10 Enemy\r\n```\r\n\r\nå¥½äº†è¿™ä¸ªå°±æ˜¯å…³äº DynaGrid çš„ç®€å•ä»‹ç»ã€‚\r\n\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263 \r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n\r\n# 03. CodeGenKit è„šæœ¬ç”Ÿæˆ\r\nåœ¨è¿™ä¸€ç¯‡ï¼Œæˆ‘ä»¬å­¦ä¹ å‡ ä¹æ¯ä¸ªé¡¹ç›®éƒ½è¦ç”¨åˆ°å¹¶ä¸”ä»ä¸­å—ç›Šçš„åŠŸèƒ½ï¼šè‡ªåŠ¨ç”Ÿæˆè„šæœ¬å¹¶ç»‘å®šï¼Œç®€ç§°è„šæœ¬ç”Ÿæˆã€‚\r\n\r\n## åŸºæœ¬ä½¿ç”¨\r\n\r\næˆ‘ä»¬å…ˆåœ¨åœºæ™¯ä¸­ï¼Œéšä¾¿åˆ›å»ºä¸€äº›æœ‰çˆ¶å­ç»“æ„çš„ GameObjectï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\r\n\r\n![image.png](https://file.liangxiegame.com/ed37997b-614b-4fb1-baa8-c23d7748c67d.png)\r\n\r\næ¥ç€ç»™ Player æŒ‚ä¸Š ViewControllerï¼Œå¿«æ·é”® ï¼ˆAlt + Vï¼‰ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\r\n\r\n![image.png](https://file.liangxiegame.com/cfb5f767-120f-4e0f-a69b-bdef1b6e9c98.png)\r\n\r\n\r\nç„¶åå¡«å†™ åˆšåˆšæ·»åŠ çš„ç»„ä»¶ä¿¡æ¯:\r\n\r\n![image.png](https://file.liangxiegame.com/a2bc2a07-02bf-46e3-ad65-36309c290bce.png)\r\n\r\n\r\nåœ¨è¿™é‡Œï¼Œå¯ä»¥å¡«å†™å‘½åç©ºé—´ï¼Œè¦ç”Ÿæˆçš„è„šæœ¬åï¼Œä»¥åŠè„šæœ¬ç”Ÿæˆçš„ç›®å½•ï¼Œå½“ç„¶è¿™é‡Œä¹Ÿå¯ä»¥ç›´æ¥å°†è¦ç”Ÿæˆçš„ç›®å½•æ‹–åˆ°å¤§æ–¹å—ä¸­ã€‚\r\n\r\nå¦‚æœæ‹–æ‹½äº†ç›®å½•ï¼Œå°±ä¼šè‡ªåŠ¨å¡«å†™è„šæœ¬ç”Ÿæˆç›®å½•ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\r\n\r\n![image.png](https://file.liangxiegame.com/41f2abac-2fcf-4c03-8ba0-ab45f71859f3.png)\r\n\r\nä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥ç»™ Player GameObject ä¸€ä¸ªå­èŠ‚ç‚¹æŒ‚ä¸Š Bind ç»„ä»¶ï¼ˆå¿«æ·é”®ï¼Œalt + b)ï¼Œå¦‚ä¸‹æ‰€ç¤º\r\n\r\n![image.png](https://file.liangxiegame.com/e818f0e5-6bfc-436b-8f61-20fb90da4bd6.png)\r\n\r\n\r\n\r\nWeapon æŒ‚ä¸Šçš„ç»„ä»¶å¦‚ä¸‹æ‰€ç¤º:\r\n![image.png](https://file.liangxiegame.com/04e7c9a4-0bc6-4257-9793-41531c3faa64.png)\r\n\r\n\r\næ¥ä¸‹æ¥æˆ‘ä»¬å¯ä»¥ç‚¹å‡»å›¾ä¸­çš„ ç”Ÿæˆä»£ç æŒ‰é’® æˆ–è€…æ˜¯ Player ä¸Š ViewController çš„ ç”Ÿæˆä»£ç æŒ‰é’®ï¼Œä¸¤è€…ç‚¹å‡»å“ªä¸ªéƒ½å¯ä»¥ã€‚\r\n\r\nç‚¹å‡»ä¹‹åï¼Œå°±ä¼šç”Ÿæˆä»£ç ï¼Œç­‰å¾…ç¼–è¯‘ï¼Œç»“æœå¦‚ä¸‹:\r\n\r\nè„šæœ¬ç›®å½•:\r\n![image.png](https://file.liangxiegame.com/d3fc5522-6655-4318-8bec-7f4721753110.png)\r\n\r\næˆ‘ä»¬åœ¨çœ‹ä¸‹åœºæ™¯ä¸­çš„ Player çš„ Inspector å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\r\n\r\n![image.png](https://file.liangxiegame.com/07c51906-6c1d-49be-bb9b-faef8ce999ae.png)\r\n\r\n\r\næˆ‘ä»¬çœ‹åˆ°ï¼ŒPlayer è‡ªåŠ¨è·å¾—äº† Weapon çš„å¼•ç”¨ã€‚\r\n\r\nè€Œä¸”ï¼Œåœ¨ Player.cs ä¸­å¯ä»¥ç›´æ¥è®¿é—®åˆ° Weaponï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º:\r\n\r\n![image.png](https://file.liangxiegame.com/3a9f0ac1-c05c-4cdf-b442-c33fadb6897a.png)\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n\r\n## å¢é‡ç”Ÿæˆ\r\næˆ‘ä»¬å†çœ‹ä¸‹ç›®å½•ï¼š\r\n\r\n![image.png](https://file.liangxiegame.com/47398560-791c-4e41-8586-6b76347f2758.png)\r\n\r\nè¿™é‡Œæœ‰ä¸¤ä¸ªæ–‡ä»¶ Player å’Œ Player.Designerã€‚\r\n\r\nå…¶ä¸­ Player æ˜¯ç”¨æ¥ç»™å¤§å®¶å†™é€»è¾‘ç”¨çš„ï¼Œæ‰€ä»¥ Player åªä¼šç”Ÿæˆä¸€æ¬¡ã€‚\r\n\r\nè€Œ Player.Designer æ¯æ¬¡ç‚¹å‡»ç”Ÿæˆä»£ç éƒ½ä¼šé‡æ–°ç”Ÿæˆã€‚\r\n\r\næˆ‘ä»¬çœ‹ä¸‹ Player.Designer çš„ä»£ç ï¼Œå¦‚ä¸‹:\r\n\r\n```csharp\r\n// Generate Id:471bf5e6-b60b-42b8-b5c8-b070a963ab4a\r\nusing UnityEngine;\r\n\r\n// 1.è¯·åœ¨èœå• ç¼–è¾‘å™¨æ‰©å±•/Namespace Settings é‡Œè®¾ç½®å‘½åç©ºé—´\r\n// 2.å‘½åç©ºé—´æ›´æ”¹åï¼Œç”Ÿæˆä»£ç ä¹‹åï¼Œéœ€è¦æŠŠé€»è¾‘ä»£ç æ–‡ä»¶ï¼ˆé Designerï¼‰çš„å‘½åç©ºé—´æ‰‹åŠ¨æ›´æ”¹\r\nnamespace QFramework.Example\r\n{\r\n\tpublic partial class Player\r\n\t{\r\n\r\n\t\tpublic Transform Weapon;\r\n\r\n\t}\r\n}\r\n```\r\n\r\nä»£ç ä¸­åªæœ‰ä¸€ä¸ª Weapon ã€‚\r\n\r\næ¥ç€ï¼Œæˆ‘ä»¬å†ç»™ Player çš„å¦ä¸€ä¸ªå­ GameObject æŒ‚ä¸Š Bind è„šæœ¬ï¼Œå¦‚ä¸‹:\r\n\r\n![image.png](https://file.liangxiegame.com/acde8a1e-2e6f-4bee-8aa9-02cec82f2808.png)\r\n\r\nç„¶åç‚¹å‡»ç”Ÿæˆä»£ç ï¼Œæ“ä½œå¦‚ä¸‹:\r\n\r\n![image.png](https://file.liangxiegame.com/991db32f-8212-4d7a-8176-0065cebad93f.png)\r\n\r\n\r\nç”Ÿæˆä¹‹åï¼Œç»“æœå¦‚ä¸‹:\r\n\r\nPlayer å¤šäº†ä¸€ä¸ª Ground Check\r\n![image.png](https://file.liangxiegame.com/d769f7e4-1e70-4dfc-9962-27d6b99998a4.png)\r\n\r\nå†çœ‹ä¸‹  Player.Designer çš„ä»£ç ï¼Œå¦‚ä¸‹:\r\n\r\n```csharp\r\n// Generate Id:f512c2ed-6243-4a89-897e-bdaaabe50d63\r\nusing UnityEngine;\r\n\r\n// 1.è¯·åœ¨èœå• ç¼–è¾‘å™¨æ‰©å±•/Namespace Settings é‡Œè®¾ç½®å‘½åç©ºé—´\r\n// 2.å‘½åç©ºé—´æ›´æ”¹åï¼Œç”Ÿæˆä»£ç ä¹‹åï¼Œéœ€è¦æŠŠé€»è¾‘ä»£ç æ–‡ä»¶ï¼ˆé Designerï¼‰çš„å‘½åç©ºé—´æ‰‹åŠ¨æ›´æ”¹\r\nnamespace QFramework.Example\r\n{\r\n\tpublic partial class Player\r\n\t{\r\n\r\n\t\tpublic Transform Weapon;\r\n\r\n\t\tpublic Transform GroundCheck;\r\n\r\n\t}\r\n}\r\n```\r\n\r\nè¿™æ¬¡å¤šäº†ä¸€ä¸ª GroundCheckã€‚\r\n\r\nè€Œ Player ä»£ç åˆ™æœªå‘ç”Ÿä»»ä½•å˜åŒ–ã€‚\r\n\r\næ‰€ä»¥æ¯æ¬¡ç”Ÿæˆä»£ç ï¼ŒPlayer.cs åªä¼šç”Ÿæˆä¸€æ¬¡ï¼ŒPlayer.Designer.cs æ¯æ¬¡éƒ½é‡æ–°ç”Ÿæˆï¼Œæ‰€ä»¥å¤§å®¶æ”¾å¿ƒåœ¨ Player.cs é‡Œå†™ä»£ç ã€‚\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n## ç±»å‹é€‰æ‹©\r\nä¹‹å‰æˆ‘ä»¬ç”¨ Bind ç»‘å®šçš„ GameObject éƒ½æ˜¯ Transform ç±»å‹çš„ï¼Œè¿™æ¬¡æˆ‘ä»¬å°è¯•ç»‘å®šä¸€ä¸‹å…¶ä»–ç±»å‹ã€‚\r\n\r\næˆ‘ä»¬ç»™ Weapon GameObject æŒ‚ä¸Šä¸€ä¸ª Sprite Renderer å¦‚ä¸‹æ‰€ç¤º:\r\n\r\n![image.png](https://file.liangxiegame.com/913a4dcb-7e35-433c-a50a-454614ddf89d.png)\r\n\r\n\r\nç„¶åï¼Œæˆ‘ä»¬ç‚¹å‡» Bind çš„ç±»å‹ï¼Œæ˜¾ç¤ºå¦‚ä¸‹ï¼š\r\n\r\n![image.png](https://file.liangxiegame.com/9ff5d52d-61bb-43b7-b4f0-5e9c118329e1.png)\r\n\r\nä¹Ÿå°±æ˜¯è¯´ Bind å¯ä»¥é€‰æ‹©æŒ‚åœ¨æ­¤ GameObject ä¸Šçš„ç»„ä»¶ã€‚\r\n\r\næˆ‘ä»¬é€‰æ‹© Sprite Render ç±»å‹ï¼Œå¦‚ä¸‹:\r\n\r\n![image.png](https://file.liangxiegame.com/720ec620-1ca4-42b7-afa8-ec94ee846d06.png)\r\n\r\nç„¶åç‚¹å‡»ç”Ÿæˆä»£ç ï¼Œç»“æœå¦‚ä¸‹:\r\n\r\n![image.png](https://file.liangxiegame.com/dd6a1012-6721-4c71-9291-de008a5b8614.png)\r\n\r\n\r\nPlayer å¼•ç”¨çš„  Weapon å˜æˆäº† Sprite Renderer ç±»å‹ã€‚\r\n\r\nPlayer.Designer.cs çš„ä»£ç å˜æˆäº†å¦‚ä¸‹:\r\n\r\n```csharp\r\n// Generate Id:de59e915-d1b6-40aa-a8e5-6fc4a8bf8e3e\r\nusing UnityEngine;\r\n\r\n// 1.è¯·åœ¨èœå• ç¼–è¾‘å™¨æ‰©å±•/Namespace Settings é‡Œè®¾ç½®å‘½åç©ºé—´\r\n// 2.å‘½åç©ºé—´æ›´æ”¹åï¼Œç”Ÿæˆä»£ç ä¹‹åï¼Œéœ€è¦æŠŠé€»è¾‘ä»£ç æ–‡ä»¶ï¼ˆé Designerï¼‰çš„å‘½åç©ºé—´æ‰‹åŠ¨æ›´æ”¹\r\nnamespace QFramework.Example\r\n{\r\n\tpublic partial class Player\r\n\t{\r\n\r\n\t\tpublic UnityEngine.SpriteRenderer Weapon;\r\n\r\n\t\tpublic Transform GroundCheck;\r\n\r\n\t}\r\n}\r\n```\r\n\r\nWeapon ä»åŸæ¥çš„ Transform ç±»å‹å˜æˆäº† SpriteRenderer ç±»å‹ã€‚\r\n\r\nè¿™æ ·æˆ‘ä»¬åœ¨ Player.cs å°±å¯ä»¥æ‹¿åˆ° SpriteRenderer ç±»å‹çš„ Weapon äº†ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\r\n\r\n![image.png](https://file.liangxiegame.com/534d8275-5d63-4307-89a8-378722f0bffc.png)\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n## ViewController ä¸ ViewController åµŒå¥—\r\nViewController ä¸ ViewController ä¹‹é—´å¯ä»¥åµŒå¥—\r\n\r\næˆ‘ä»¬åœ¨ Player çš„ Weapon GameObject å†åˆ›å»ºä¸€ä¸ª WeaponEffect GameObject å¦‚ä¸‹:\r\n\r\n![image.png](https://file.liangxiegame.com/e9ef6d43-7e8c-42ff-9593-76dced914c7a.png)\r\n\r\nç„¶åå°† WeaponEffect æŒ‚ä¸Š Bind è„šæœ¬ï¼Œå¦‚ä¸‹:\r\n\r\n![image.png](https://file.liangxiegame.com/0eed4e49-2a89-4d36-af02-4e42647cfe3a.png)\r\n\r\næ¥ç€ç»™ Weapon æŒ‚ä¸€ä¸ª ViewController è„šæœ¬ï¼Œå¦‚ä¸‹:\r\n\r\n![image.png](https://file.liangxiegame.com/e0b90b3b-cf9a-4688-ab6d-c73c8feb9f72.png)\r\n\r\næˆ‘ä»¬å°†è„šæœ¬ç”Ÿæˆç›®å½•ä¿®æ”¹ä¸€ä¸‹ï¼Œä¿®æ”¹æˆä¸ Player.cs åŒä¸€ä¸ªç›®å½•ï¼Œå¦‚ä¸‹:\r\n\r\n![image.png](https://file.liangxiegame.com/f7c52c1e-0437-48a3-b3e1-7c9d77a080bf.png)\r\n\r\n\r\nç‚¹å‡»ç”Ÿæˆä»£ç ï¼Œå¦‚ä¸‹æ‰€ç¤º:\r\n\r\n![image.png](https://file.liangxiegame.com/29e139ca-9fc4-4422-9d4c-7831ad6d75c6.png)\r\n\r\nç”Ÿæˆå®Œäº†ä¹‹åï¼Œæˆ‘ä»¬å†å°† Weapon ä¸Šçš„ Bind ç±»å‹æ”¹æˆ Weaponï¼Œå¦‚ä¸‹:\r\n\r\n![image.png](https://file.liangxiegame.com/54a25732-61ea-4dd9-84dd-7bb80d66fd2d.png)\r\n\r\nç„¶åç‚¹å‡» Bind ä¸Šçš„ç”Ÿæˆä»£ç ï¼Œç»“æœå¦‚ä¸‹:\r\n\r\n![image.png](https://file.liangxiegame.com/83beb081-fb7a-48df-85f5-5caf01cac1fb.png)\r\n\r\nè¿™æ · ViewController ä¸ ViewController åµŒå¥—ç»‘å®šå°±å®ç°äº†ã€‚\r\n\r\nåœ¨ Player.cs ä¸­å¯ä»¥æŒ‰ç…§å¦‚ä¸‹çš„æ–¹å¼è°ƒç”¨ Weapon çš„å­ GameObject å¦‚ä¸‹:\r\n\r\n![image.png](https://file.liangxiegame.com/c29ba2f9-39b0-436a-8084-781edaf959fe.png)\r\n\r\nå½“ç„¶å¯ä»¥å† Weapon.cs ä¸­å†™ Weapon è‡ªå·±çš„é€»è¾‘ã€‚\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n## å¦‚ä½•è®¾ç½®é»˜è®¤çš„ å‘½åç©ºé—´ å’Œ è„šæœ¬ç”Ÿæˆç›®å½•\r\nå¾ˆç®€å•ï¼Œæ‰“å¼€ QFramework ç¼–è¾‘å™¨é¢æ¿ï¼Œï¼ˆå¿«æ·é”® ctrl + e æˆ– ctrl + shift + e)\r\n\r\n![image.png](https://file.liangxiegame.com/4322e7cc-8f5e-4e45-abbe-d63110d2e605.png)\r\n\r\nåœ¨ CodeGenKit è®¾ç½®é‡Œå°±å¯ä»¥æ›´æ”¹é»˜è®¤çš„å‘½åç©ºé—´å’Œé»˜è®¤çš„è„šæœ¬ç”Ÿæˆä½ç½®ã€‚\r\n\r\nå½“ç„¶åœ¨è¿™é‡Œç”Ÿæˆäº†ï¼Œä¹Ÿè¿˜æ˜¯å¯ä»¥åœ¨ ViewController Inspector ä¸Šè¿›è¡Œè®¾ç½®ã€‚\r\n\r\næˆ‘ä»¬å…ˆæ”¹ä¸‹å‘½åç©ºé—´å’Œè„šæœ¬ç”Ÿæˆè·¯å¾„ï¼Œå¦‚ä¸‹:\r\n\r\n![image.png](https://file.liangxiegame.com/72f7df2a-40cb-443c-a1f3-f4c5d5656a4b.png)\r\n\r\nç„¶åæˆ‘ä»¬åˆ›å»ºä¸€ä¸ª GameObject æŒ‚ä¸Š ViewController ç»„ä»¶ï¼Œç»“æœå¦‚ä¸‹:\r\n\r\n![image.png](https://file.liangxiegame.com/f461ade5-8cf6-4bfd-a94d-c86f523cf8e8.png)\r\n\r\nè¿™æ ·é»˜è®¤çš„å‘½åç©ºé—´å°±ç”Ÿæ•ˆäº†ã€‚\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n## ç”Ÿæˆ Prefab\r\nåœ¨ ViewController æˆ– ç”Ÿæˆè„šæœ¬çš„ Inspector ä¸Šï¼Œæœ‰ä¸€ä¸ªç”Ÿæˆ prefab çš„é€‰é¡¹\r\n\r\n![image.png](https://file.liangxiegame.com/f88d06e7-2b95-47fe-ac91-c446fc550447.png)\r\n\r\nå‹¾é€‰åï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\r\n\r\n![image.png](https://file.liangxiegame.com/0b9de93d-12c9-498f-b38c-c2682aa98287.png)\r\n\r\nè¿™é‡Œå¯ä»¥ä¿®æ”¹è¦ç”Ÿæˆçš„ç›®å½•ï¼Œç¬”è€…é€‰æ‹©å’Œè„šæœ¬ç”Ÿæˆçš„ç›®å½•ä¸€è‡´ï¼Œå¦‚ä¸‹:\r\n\r\n![image.png](https://file.liangxiegame.com/7628fcb6-c9de-4fe5-9f80-8967d745b3aa.png)\r\n\r\nç„¶åç‚¹å‡»ï¼Œç”Ÿæˆä»£ç ï¼Œç»“æœå¦‚ä¸‹:\r\n\r\nåœºæ™¯ä¸­çš„ Player å˜æˆäº† prefab\r\n![image.png](https://file.liangxiegame.com/9e71ac1b-874e-47dd-b9ab-8d64e605f8a1.png)\r\n\r\nç”Ÿæˆç›®å½•ä¸­ä¹Ÿæœ‰äº† prefab\r\n\r\n![image.png](https://file.liangxiegame.com/18caef79-77b1-41a6-a102-9d53683be04d.png)\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n\r\n## Whyï¼Ÿ\r\nä¸ºä»€ä¹ˆè¦æä¸€ä¸ª  CodeGenKitï¼Ÿ\r\n\r\nå› ä¸ºåˆ›å»ºè„šæœ¬ç›®å½•ã€åˆ›å»ºè„šæœ¬æ–‡ä»¶ã€å£°æ˜æˆå‘˜å˜é‡æˆ–è€…é€šè¿‡ transform.Find è·å–å­èŠ‚ç‚¹çš„å¼•ç”¨ã€ç„¶åæŒ‚è„šæœ¬ã€æ‹–æ‹½èµ‹å€¼ï¼Œè¿™äº›å·¥ä½œé‡éå¸¸å¤šï¼Œè€Œä¸”å¾ˆç¹é‡ï¼Œå¦‚æœèƒ½å¤ŸæŠŠè¿™éƒ¨åˆ†å·¥ä½œé‡é€šè¿‡ä»£ç ç”Ÿæˆå¹¶è‡ªåŠ¨èµ‹å€¼çš„æ–¹å¼ç»™ä¼˜åŒ–æ‰ï¼Œé‚£ä¹ˆé¡¹ç›®çš„å¼€å‘æ•ˆç‡å°±ä¼šå¾—åˆ°åŠå¤§åœ°æå‡ã€‚\r\n\r\nCodeGenKit ä¸­çš„  ViewController é™¤äº†å¯ä»¥ç”¨äºæ™®é€šçš„ GameObjectï¼Œè¿˜å¯ä»¥æ”¯æŒ NGUI å’Œ UGUI ç­‰ UI ç»„ä»¶ã€‚\r\n\r\nå¥½äº†ï¼Œå…³äºè„šæœ¬ç”Ÿæˆçš„åŠŸèƒ½ä»‹ç»åˆ°è¿™é‡Œã€‚\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n## å¦‚ä½•è®¾ç½® ViewController çš„çˆ¶ç±»\r\n\r\nå½“æˆ‘ä»¬ç»™ GameObject æŒ‚ä¸Š ViewController ä¹‹åï¼Œæˆ‘ä»¬å°±ä¼šçœ‹åˆ°å¦‚ä¸‹å›¾:\r\n\r\n![image-20240508162552269](https://file.liangxiegame.com/59a62ce9-a4a9-4de0-b1b8-9d31e3a5ec72.png)\r\n\r\nå›¾ä¸­æˆ‘ä»¬é»˜è®¤ç»§æ‰¿äº† ViewControllerã€‚\r\n\r\nåœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ˜¯æœ‰éœ€è¦è®¾ç½®å…¬å…±çˆ¶ç±»çš„éœ€æ±‚çš„ï¼Œè¦æƒ³è®¾ç½®å…¬å…±çˆ¶ç±»éå¸¸ç®€å•ã€‚\r\n\r\nåªéœ€è¦ç»§æ‰¿ ViewController çš„åŒæ—¶ï¼ŒåŠ ä¸Š ViewControllerChildAttribute å³å¯ï¼Œä»£ç å¦‚ä¸‹:\r\n```csharp\r\nnamespace QFramework.Gungeon\r\n{\r\n    [ViewControllerChild]\r\n    public abstract class PowerUp : ViewController\r\n    {\r\n        \r\n    }\r\n}\r\n```\r\n\r\nç­‰å¾…ç¼–è¯‘åï¼Œå°±å¯ä»¥é€‰æ‹©äº†ï¼Œç»“æœå¦‚ä¸‹:\r\n![img.png](https://file.liangxiegame.com/5fa3e200-832b-45a1-abf2-0c54e25fcc65.png)\r\n\r\n\r\n\r\n\r\n# 04. ActionKit æ—¶åºåŠ¨ä½œæ‰§è¡Œç³»ç»Ÿ\r\nAciontKit æ˜¯ä¸€ä¸ªæ—¶åºåŠ¨ä½œæ‰§è¡Œç³»ç»Ÿã€‚\r\n\r\næ¸¸æˆä¸­ï¼ŒåŠ¨ç”»çš„æ’­æ”¾ã€å»¶æ—¶ã€èµ„æºçš„å¼‚æ­¥åŠ è½½ã€Tween çš„æ‰§è¡Œã€ç½‘ç»œè¯·æ±‚ç­‰ï¼Œè¿™äº›å…¨éƒ¨éƒ½æ˜¯æ—¶åºä»»åŠ¡ï¼Œè€Œ ActionKitï¼Œå¯ä»¥æŠŠè¿™äº›ä»»åŠ¡å…¨éƒ¨æ•´åˆåœ¨ä¸€èµ·ï¼Œä½¿ç”¨ç»Ÿä¸€çš„ APIï¼Œæ¥å¯¹ä»–ä»¬çš„æ‰§è¡Œè¿›è¡Œ**è®¡åˆ’**ã€‚\r\n\r\nOKï¼Œæˆ‘ä»¬å…ˆçœ‹ä¸‹ ActionKitçš„åŸºæœ¬ç”¨æ³•ã€‚\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n## å»¶æ—¶å›è°ƒ\r\n\r\nç¤ºä¾‹ä»£ç å¦‚ä¸‹:\r\n\r\n```csharp\r\nusing UnityEngine;\r\n\r\nnamespace QFramework.Example\r\n{\r\n    public class DelayExample : MonoBehaviour\r\n    {\r\n        void Start()\r\n        {\r\n            Debug.Log(\"Start Time:\" + Time.time);\r\n            \r\n            ActionKit.Delay(1.0f, () =>\r\n            {\r\n                Debug.Log(\"End Time:\" + Time.time);\r\n                \r\n            }).Start(this);\r\n        }\r\n    }\r\n}\r\n\r\n// è¾“å‡ºç»“æœ\r\n// Start Time: 0\r\n// End Time: 1.00781\r\n```\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n## åºåˆ—å’Œå®Œæˆå›è°ƒ\r\n```csharp\r\nusing UnityEngine;\r\n\r\nnamespace QFramework.Example\r\n{\r\n    public class SequenceAndCallback : MonoBehaviour\r\n    {\r\n        void Start()\r\n        {\r\n            Debug.Log(\"Sequence Start:\" + Time.time);\r\n\r\n            ActionKit.Sequence()\r\n                .Callback(() => Debug.Log(\"Delay Start:\" + Time.time))\r\n                .Delay(1.0f)\r\n                .Callback(() => Debug.Log(\"Delay Finish:\" + Time.time))\r\n                .Start(this, _ => { Debug.Log(\"Sequence Finish:\" + Time.time); });\r\n        }\r\n    }\r\n}\r\n// è¾“å‡ºç»“æœ\r\n// Sequence Start:0\r\n// Delay Start:0\r\n// Delay Finish:1.00537\r\n// Sequence Finish:1.00537\r\n```\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n## å¸§å»¶æ—¶\r\n\r\n```csharp\r\nusing UnityEngine;\r\n\r\nnamespace QFramework.Example\r\n{\r\n    public class DelayFrameExample : MonoBehaviour\r\n    {\r\n        void Start()\r\n        {\r\n            Debug.Log(\"Delay Frame Start FrameCount:\" + Time.frameCount);\r\n            \r\n            ActionKit.DelayFrame(1, () => { Debug.Log(\"Delay Frame Finish FrameCount:\" + Time.frameCount); })\r\n                .Start(this);\r\n\r\n\r\n            ActionKit.Sequence()\r\n                .DelayFrame(10)\r\n                .Callback(() => Debug.Log(\"Sequence Delay FrameCount:\" + Time.frameCount))\r\n                .Start(this);\r\n\r\n            // ActionKit.Sequence()\r\n            //      .NextFrame()\r\n            //      .Start(this);\r\n\r\n            ActionKit.NextFrame(() => { }).Start(this);\r\n        }\r\n    }\r\n}\r\n\r\n// è¾“å‡ºç»“æœ\r\n// Delay Frame Start FrameCount:1\r\n// Delay Frame Finish FrameCount:2\r\n// Sequence Delay FrameCount:11\r\n```\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n\r\n## æ¡ä»¶æ‰§è¡Œ\r\n\r\n```csharp\r\nusing UnityEngine;\r\n\r\nnamespace QFramework.Example\r\n{\r\n    public class ConditionExample : MonoBehaviour\r\n    {\r\n        private void Start()\r\n        {\r\n            ActionKit.Sequence()\r\n                .Callback(() => Debug.Log(\"Before Condition\"))\r\n                .Condition(() => Input.GetMouseButtonDown(0))\r\n                .Callback(() => Debug.Log(\"Mouse Clicked\"))\r\n                .Start(this);\r\n        }\r\n    }\r\n}\r\n\r\n// è¾“å‡ºç»“æœ\r\n// Before Condition\r\n// é¼ æ ‡å·¦é”®æŒ‰ä¸‹å\r\n// Mouse Clicked\r\n```\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n## é‡å¤æ‰§è¡Œ\r\n\r\n```csharp\r\nusing UnityEngine;\r\n\r\nnamespace QFramework.Example\r\n{\r\n    public class RepeatExample : MonoBehaviour\r\n    {\r\n        private void Start()\r\n        {\r\n            ActionKit.Repeat()\r\n                .Condition(() => Input.GetMouseButtonDown(0))\r\n                .Callback(() => Debug.Log(\"Mouse Clicked\"))\r\n                .Start(this);\r\n\r\n\r\n            ActionKit.Repeat(5)\r\n                .Condition(() => Input.GetMouseButtonDown(1))\r\n                .Callback(() => Debug.Log(\"Mouse right clicked\"))\r\n                .Start(this, () =>\r\n                {\r\n                    Debug.Log(\"Right click finished\");\r\n                });\r\n        }\r\n    }\r\n}\r\n\r\n// è¾“å‡ºç»“æœ\r\n// æ¯æ¬¡ç‚¹å‡»é¼ æ ‡å·¦é”®éƒ½ä¼šè¾“å‡ºï¼šMouse Clicked \r\n// ç‚¹å‡»é¼ æ ‡å³é”®ï¼Œåªä¼šè¾“å‡ºäº”æ¬¡ï¼šMouse right clickedï¼Œç¬¬äº”æ¬¡è¾“å‡º  Right click finished\r\n// \r\n```\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n## å¹¶è¡Œæ‰§è¡Œ\r\n```csharp\r\nusing UnityEngine;\r\n\r\nnamespace QFramework.Example\r\n{\r\n    public class ParallelExample : MonoBehaviour\r\n    {\r\n        void Start()\r\n        {\r\n            Debug.Log(\"Parallel Start:\" + Time.time);\r\n\r\n            ActionKit.Parallel()\r\n                .Delay(1.0f, () => { Debug.Log(Time.time); })\r\n                .Delay(2.0f, () => { Debug.Log(Time.time); })\r\n                .Delay(3.0f, () => { Debug.Log(Time.time); })\r\n                .Start(this, () =>\r\n                {\r\n                    Debug.Log(\"Parallel Finish:\" + Time.time);\r\n                });\r\n        }\r\n    }\r\n}\r\n\r\n// è¾“å‡ºç»“æœ\r\n// Parallel Start:0\r\n// 1.030884\r\n// 2.025135\r\n// 3.018883\r\n// Parallel Finish:3.018883\r\n```\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n## æ›´å¤æ‚çš„ç¤ºä¾‹\r\n\r\n```csharp\r\nusing UnityEngine;\r\n\r\nnamespace QFramework.Example\r\n{\r\n    public class ComplexExample : MonoBehaviour\r\n    {\r\n        private void Start()\r\n        {\r\n            ActionKit.Sequence()\r\n                .Callback(() => Debug.Log(\"Sequence Start\"))\r\n                .Callback(() => Debug.Log(\"Parallel Start\"))\r\n                .Parallel(p =>\r\n                {\r\n                    p.Delay(1.0f, () => Debug.Log(\"Delay 1s Finished\"))\r\n                        .Delay(2.0f, () => Debug.Log(\"Delay 2s Finished\"));\r\n                })\r\n                .Callback(() => Debug.Log(\"Parallel Finished\"))\r\n                .Callback(() => Debug.Log(\"Check Mouse Clicked\"))\r\n                .Sequence(s =>\r\n                {\r\n                    s.Condition(() => Input.GetMouseButton(0))\r\n                        .Callback(() => Debug.Log(\"Mouse Clicked\"));\r\n                })\r\n                .Start(this, () =>\r\n                {\r\n                    Debug.Log(\"Finish\");\r\n                    \r\n                });\r\n        }\r\n    }\r\n}\r\n\r\n// Sequence Start\r\n// Parallel Start\r\n// Delay 1s Finished\r\n// Delay 2s Finished\r\n// Parallel Finished\r\n// Check Mouse Clicked\r\n// æ­¤æ—¶æŒ‰ä¸‹é¼ æ ‡å·¦é”®\r\n// Mouse Clicked\r\n// Finish\r\n```\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n\r\n## è‡ªå®šä¹‰åŠ¨ä½œ\r\n\r\n```csharp\r\nusing UnityEngine;\r\n\r\nnamespace QFramework.Example\r\n{\r\n    public class CustomExample : MonoBehaviour\r\n    {\r\n        class SomeData\r\n        {\r\n            public int ExecuteCount = 0;\r\n        }\r\n\r\n        private void Start()\r\n        {\r\n            ActionKit.Custom(a =>\r\n            {\r\n                a\r\n                    .OnStart(() => { Debug.Log(\"OnStart\"); })\r\n                    .OnExecute(dt =>\r\n                    {\r\n                        Debug.Log(\"OnExecute\");\r\n\r\n                        a.Finish();\r\n                    })\r\n                    .OnFinish(() => { Debug.Log(\"OnFinish\"); });\r\n            }).Start(this);\r\n            \r\n            // OnStart\r\n            // OnExecute\r\n            // OnFinish\r\n\r\n            ActionKit.Custom<SomeData>(a =>\r\n                {\r\n                    a\r\n                        .OnStart(() =>\r\n                        {\r\n                            a.Data = new SomeData()\r\n                            {\r\n                                ExecuteCount = 0\r\n                            };\r\n                        })\r\n                        .OnExecute(dt =>\r\n                        {\r\n                            Debug.Log(a.Data.ExecuteCount);\r\n                            a.Data.ExecuteCount++;\r\n\r\n                            if (a.Data.ExecuteCount >= 5)\r\n                            {\r\n                                a.Finish();\r\n                            }\r\n                        }).OnFinish(() => { Debug.Log(\"Finished\"); });\r\n                })\r\n                .Start(this);\r\n            \r\n            // 0\r\n            // 1\r\n            // 2\r\n            // 3\r\n            // 4\r\n            // Finished\r\n\r\n            // è¿˜æ”¯æŒ Sequenceã€Repeatã€Spawn ç­‰\r\n            // Also support sequence repeat spawn\r\n            // ActionKit.Sequence()\r\n            //     .Custom(c =>\r\n            //     {\r\n            //         c.OnStart(() => c.Finish());\r\n            //     }).Start(this);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n## åç¨‹æ”¯æŒ\r\n\r\n```csharp\r\nusing System.Collections;\r\nusing UnityEngine;\r\n\r\nnamespace QFramework.Example\r\n{\r\n    public class CoroutineExample : MonoBehaviour\r\n    {\r\n        private void Start()\r\n        {\r\n            ActionKit.Coroutine(SomeCoroutine).Start(this);\r\n            \r\n            SomeCoroutine().ToAction().Start(this);\r\n\r\n            ActionKit.Sequence()\r\n                .Coroutine(SomeCoroutine)\r\n                .Start(this);\r\n        }\r\n\r\n        IEnumerator SomeCoroutine()\r\n        {\r\n            yield return new WaitForSeconds(1.0f);\r\n            Debug.Log(\"Hello:\" + Time.time);\r\n        }\r\n    }\r\n}\r\n\r\n// è¾“å‡ºç»“æœ\r\n// Hello:1.002077\r\n// Hello:1.002077\r\n// Hello:1.002077\r\n```\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n## å…¨å±€ Mono ç”Ÿå‘½å‘¨æœŸ\r\n```csharp\r\nusing UnityEngine;\r\n\r\nnamespace QFramework.Example\r\n{\r\n    public class GlobalMonoEventsExample : MonoBehaviour\r\n    {\r\n        void Start()\r\n        {\r\n            ActionKit.OnUpdate.Register(() =>\r\n            {\r\n                if (Time.frameCount % 30 == 0)\r\n                {\r\n                    Debug.Log(\"Update\");\r\n                }\r\n            }).UnRegisterWhenGameObjectDestroyed(gameObject);\r\n\r\n            ActionKit.OnFixedUpdate.Register(() =>\r\n            {\r\n                // fixed update code here\r\n                // è¿™é‡Œå†™ fixed update ç›¸å…³ä»£ç \r\n            }).UnRegisterWhenGameObjectDestroyed(gameObject);\r\n            \r\n            ActionKit.OnLateUpdate.Register(() =>\r\n            {\r\n                // late update code here\r\n                // è¿™é‡Œå†™ late update ç›¸å…³ä»£ç \r\n            }).UnRegisterWhenGameObjectDestroyed(gameObject);\r\n\r\n            ActionKit.OnGUI.Register(() =>\r\n            {\r\n                GUILayout.Label(\"See Example Code\");\r\n                GUILayout.Label(\"è¯·æŸ¥çœ‹ç¤ºä¾‹ä»£ç \");\r\n            }).UnRegisterWhenGameObjectDestroyed(gameObject);\r\n\r\n            ActionKit.OnApplicationFocus.Register(focus =>\r\n            {\r\n                Debug.Log(\"focus:\" + focus);\r\n            }).UnRegisterWhenGameObjectDestroyed(gameObject);\r\n\r\n            ActionKit.OnApplicationPause.Register(pause =>\r\n            {\r\n                Debug.Log(\"pause:\" + pause);\r\n            }).UnRegisterWhenGameObjectDestroyed(gameObject);\r\n\r\n            ActionKit.OnApplicationQuit.Register(() =>\r\n            {\r\n                Debug.Log(\"quit\");\r\n            }).UnRegisterWhenGameObjectDestroyed(gameObject);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n## DOTween é›†æˆ\r\n\r\néœ€è¦å…ˆæå‰è£…å¥½ DOTweenã€‚\r\n\r\nç„¶åå¯¼å…¥ Example ä¸­çš„å¦‚ä¸‹åŒ…ã€‚\r\n\r\n![image.png](https://file.liangxiegame.com/63e3eba5-0dfc-4d53-af56-242d6a308124.png)\r\n\r\nå¯¼å…¥ä¹‹åï¼Œå°±å¯ä»¥ç”¨ è®© ActionKit è·‘ DOTween äº†ï¼Œä»£ç å¦‚ä¸‹:\r\n\r\n```csharp\r\nusing DG.Tweening;\r\nusing UnityEngine;\r\n\r\nnamespace QFramework.Example\r\n{\r\n    public class DOTweenExample : MonoBehaviour\r\n    {\r\n        private void Start()\r\n        {\r\n            // ä½¿ç”¨ Custom å°±å¯ä»¥æ–¹ä¾¿æ¥å…¥\r\n            // Just Use Custom \r\n            ActionKit.Custom(c =>\r\n            {\r\n                c.OnStart(() => { transform.DOLocalMove(Vector3.one, 0.5f).OnComplete(c.Finish); });\r\n            }).Start(this);\r\n            \r\n            // ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ IAction\r\n            // Also implement with IAction\r\n            DOTweenAction.Allocate(() => transform.DOLocalRotate(Vector3.one, 0.5f))\r\n                .Start(this);\r\n            \r\n            // ä½¿ç”¨ ToAction\r\n            // Use ToAction\r\n            DOVirtual.DelayedCall(2.0f, () => LogKit.I(\"2.0f\")).ToAction().Start(this);\r\n\r\n            // é“¾å¼ API æ”¯æŒ\r\n            // fluent api support\r\n            ActionKit.Sequence()\r\n                .DOTween(() => transform.DOScale(Vector3.one, 0.5f))\r\n                .Start(this);\r\n        }\r\n    }\r\n    \r\n  \r\n}\r\n```\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n## UniRx é›†æˆ\r\néœ€è¦å…ˆæå‰è£…å¥½ UniRxã€‚\r\n\r\nç„¶åå¯¼å…¥ Example ä¸­çš„å¦‚ä¸‹åŒ…ã€‚\r\n\r\n![image.png](https://file.liangxiegame.com/9b687ee1-83ec-49f5-b315-5795cc72b3ce.png)\r\n\r\n\r\nå¯¼å…¥æˆåŠŸåï¼Œä½¿ç”¨ç¤ºä¾‹å¦‚ä¸‹:\r\n\r\n```csharp\r\nusing System;\r\nusing UniRx;\r\nusing UnityEngine;\r\n\r\nnamespace QFramework.Example\r\n{\r\n    public class UniRxExample : MonoBehaviour\r\n    {\r\n        void Start()\r\n        {\r\n            // å¯ä»¥ç›´æ¥ä½¿ç”¨ Custom\r\n            // directly use custom\r\n            ActionKit.Custom(c =>\r\n            {\r\n                c.OnStart(() => { Observable.Timer(TimeSpan.FromSeconds(1.0f)).Subscribe(_ => c.Finish()); });\r\n            }).Start(this, () => LogKit.I(\"1.0f\"));\r\n\r\n            // ä½¿ç”¨ UniRxAction ä¸æ–¹ä¾¿...\r\n            // Use UniRxAction \r\n            UniRxAction<long>.Allocate(() => Observable.Timer(TimeSpan.FromSeconds(2.0f))).Start(this,()=>LogKit.I(\"2.0f\"));\r\n\r\n\r\n            // ä½¿ç”¨ ToAction æ–¹ä¾¿æ˜“ç”¨\r\n            // Use ToAction\r\n            Observable.Timer(TimeSpan.FromSeconds(3.0f)).ToAction().Start(this, () => LogKit.I(\"3.0f\"));\r\n\r\n            ActionKit.Sequence()\r\n                .UniRx(() => Observable.Timer(TimeSpan.FromSeconds(4.0f)))\r\n                .Start(this, () => LogKit.I(\"4.0f\"));\r\n        }\r\n    }\r\n \r\n}\r\n```\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n## é€šè¿‡åœºæ™¯æ—¶åœæ­¢\r\n\r\né™¤äº† Start(Component/GameObject) StartGlobalï¼ŒActionKit è¿˜æä¾›äº† StartCurrentScene çš„å¯åŠ¨æ–¹å¼ã€‚\r\n\r\nStartCurrentScene ä¼šåœ¨å½“å‰åœºæ™¯åˆ‡æ¢æ—¶ä¼šè‡ªåŠ¨åœæ­¢å’Œå›æ”¶ Actionã€‚\r\n\r\nç¤ºä¾‹ä»£ç å¦‚ä¸‹:\r\n```csharp\r\nusing UnityEngine;\r\nusing UnityEngine.SceneManagement;\r\n\r\nnamespace QFramework.Example\r\n{\r\n    public class StartCurrentSceneExample : MonoBehaviour\r\n    {\r\n        void Start()\r\n        {\r\n            ActionKit.Sequence()\r\n                .Delay(1.0f)\r\n                .Callback(() =>\r\n                {\r\n                    Debug.Log(\"printed\");\r\n                    SceneManager.LoadScene(SceneManager.GetActiveScene().name);\r\n                })\r\n                .Delay(1.0f)\r\n                .Callback(() =>\r\n                {\r\n                    Debug.Log(\"Not print\");\r\n                })\r\n                .StartCurrentScene();\r\n        }\r\n    }\r\n}\r\n```\r\nè¿è¡Œç»“æœå¦‚ä¸‹:\r\n```csharp\r\n// printed\r\n// é—´éš” 1 ç§’\r\n// printed\r\n// é—´éš” 1 ç§’\r\n// printed\r\n// é—´éš” 1 ç§’\r\n// printed\r\n// é—´éš” 1 ç§’\r\n// printed\r\n// ...\r\n```\r\n\r\næ°¸è¿œä¸ä¼šè¾“å‡ºä»£ç ä¸­çš„ Not printï¼Œå› ä¸ºå½“åœºæ™¯å˜æ›´æ—¶ï¼Œä¼šè‡ªåŠ¨åœæ­¢åŠ¨ä½œåºåˆ—çš„æ‰§è¡Œã€‚\r\n\r\nå¥½äº†ï¼Œè¿™å°±æ˜¯ StartCurrentScene çš„ä»‹ç»äº†ã€‚\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n## ä¸å— TimeScale é™åˆ¶æ‰§è¡ŒåŠ¨ä½œ\r\n\r\næŸå¤©ç¾¤å‹æäº†ä¸ªåŠŸèƒ½å»ºè®®ï¼Œéœ€è¦æ”¯æŒä¸å— TimeScale çš„æ–¹å¼æ‰§è¡ŒåŠ¨ä½œã€‚\r\n\r\näºæ˜¯ç¬”è€…ç»™ ActionKit æ–°å¢äº†ä¸€ä¸ª APIï¼šIgnoreTimeScaleã€‚\r\n\r\nå‘½åæ–¹å¼å’Œ DOTween çš„ä¸€æ ·ã€‚\r\n\r\nçœ‹ä¸‹ç¤ºä¾‹ï¼š\r\n\r\n```csharp\r\nusing UnityEngine;\r\n\r\nnamespace QFramework.Example\r\n{\r\n    public class IgnoreTimeScaleExample : MonoBehaviour\r\n    {\r\n        private void Start()\r\n        {\r\n            Time.timeScale = 0.25f;\r\n            ActionKit.Sequence()\r\n                .Delay(3.0f)\r\n                .Callback(() =>\r\n                {\r\n                    Debug.Log(\"Scaled Time:\" + Time.time);\r\n                    Debug.Log(\"Unscaled Time:\" + Time.unscaledTime);\r\n                })\r\n                .Start(this)\r\n                .IgnoreTimeScale();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nè¿è¡Œçš„ç»“æœä¸º:\r\n```csharp\r\n// Scaled Time: 0.7585141\r\n// Unscaled Time: 3.02394;\r\n```\r\n\r\nç¬¬ä¸€ä¸ªå€¼æ˜¯ç†è®ºå€¼ï¼Œå› ä¸º UnscaledTime ä¼šæŠŠå¼•æ“å¯åŠ¨çš„æ—¶é—´è®¡ç®—è¿›å»ï¼Œç¬”è€…å®é™…çš„ç¬¬ä¸€ä¸ªå€¼æ˜¯ 0.3 å·¦å³ã€‚\r\n\r\nä¸è¿‡ï¼Œåœ¨å®é™…æ¸¸æˆé‡Œå¯åŠ¨çš„è¯ï¼Œè¿™ä¸ªå€¼ä¼šæ¯”è¾ƒç²¾å‡†ã€‚\r\n\r\nè¿™å°±æ˜¯ IgnoreTimeScale çš„ç”¨æ³•ä»‹ç»å•¦ã€‚\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n\r\n\r\n\r\n\r\n# 05. SingletonKit å•ä¾‹å¥—ä»¶\r\nSingletonKit æ˜¯ QFramework çš„ç¬¬ä¸€ä¸ªæ”¶é›†çš„å·¥å…·ï¼Œç»è¿‡äº† 8 å¹´çš„è¿­ä»£ï¼Œç°åœ¨å·²ç»éå¸¸æˆç†Ÿäº†ã€‚\r\n\r\nå¥½ä¹…ä¸è§ ï¼ä¹‹å‰æƒ³ç€è®©å„ä½ç›´æ¥ç”¨ QFrameworkï¼Œä½†æ˜¯åæ¥æƒ³æƒ³ï¼Œå¦‚æœæ­£åœ¨è¿›è¡Œçš„é¡¹ç›®ç›´æ¥ä½¿ç”¨QFrameworkï¼Œè¿™æ ·é£é™©å¤ªé«˜äº†ï¼Œè¦æ”¹çš„ä»£ç å¤ªå¤šï¼Œæ‰€ä»¥æ‰“ç®—é™†ç»­ç‹¬ç«‹å‡ºæ¥ä¸€äº›å·¥å…·å’Œæ¨¡å—,å…è®¸å„ä½ä¸€ä¸ªæ¨¡å—ä¸€ä¸ªæ¨¡å—çš„è¿›è¡Œæ›´æ¢ï¼Œå‡å°‘æ›´æ¢å¸¦æ¥çš„é£é™©ã€‚\r\n\r\n## SingletonKit:\r\n\r\nä¹‹å‰æœ‰å‡ ç¯‡æ–‡ç« ä»‹ç»è¿‡å•ä¾‹æ¨¡æ¿åœ¨ Unity ä¸­çš„å‡ ç§å®ç°ã€‚ä¹‹ååˆå‚è€ƒäº†å…¶ä»–çš„å•ä¾‹åº“çš„å®ç°ï¼Œå€Ÿé‰´(chao)äº†å®ƒä»¬çš„ä¼˜ç‚¹,å€Ÿé‰´äº†å“ªé‡Œæœ‰å£°æ˜åŸä½œè€…ã€‚\r\n\r\n## å¿«é€Ÿå¼€å§‹:\r\n\r\nå®ç°ä¸€ä¸ªç»§æ‰¿ MonoBehaviour çš„å•ä¾‹ç±»\r\n\r\n```csharp\r\nnamespace QFramework.Example\r\n{\r\n\t[MonoSingletonPath(\"[Audio]/AudioManager\")]\r\n\tpublic class AudioManager : ManagerBase,ISingleton\r\n\t{\r\n\t\tpublic static AudioManager Instance\r\n\t\t{\r\n\t\t\tget { return QMonoSingletonProperty<AudioManager>.Instance; }\r\n\t\t}\r\n\t\t\r\n\t\tpublic void OnSingletonInit()\r\n\t\t{\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\tpublic void Dispose()\r\n\t\t{\r\n\t\t\tQMonoSingletonProperty<AudioManager>.Dispose();\r\n\t\t}\r\n\r\n\r\n\t\tpublic void PlaySound(string soundName)\r\n\t\t{\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\tpublic void StopSound(string soundName)\r\n\t\t{\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nç»“æœå¦‚ä¸‹:\r\n![DraggedImage.png](https://upload-images.jianshu.io/upload_images/2296785-a0d55653522f9037.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\r\nè¿™æ ·ä»å¤´åˆ°å°¾éƒ½å¾ˆï¼ä¼˜ï¼é›…ï¼\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n## C# å•ä¾‹ç±»\r\n\r\n*   Singleton.cs\r\n\r\n```csharp\r\npublic class GameDataManager : Singleton<GameDataManager>\r\n{\r\n    private static int mIndex = 0;\r\n\r\n    private Class2Singleton() {}\r\n\r\n    public override void OnSingletonInit()\r\n    {\r\n        mIndex++;\r\n    }\r\n\r\n    public void Log(string content)\r\n    {\r\n        Debug.Log(\"\"GameDataManager\"\" + mIndex + \"\":\"\" + content);\r\n    }\r\n}\r\n\r\nGameDataManager.Instance.Log(\"\"Hello\"\");\r\n// GameDataManager1:OnSingletonInit:Hello\r\nGameDataManager.Instance.Log(\"\"Hello\"\");\r\n// GameDataManager1:OnSingletonInit:Hello\r\nGameDataManager.Instance.Dispose();\r\n```\r\n\r\nåªéœ€ç®€å•ç»§æ‰¿QSingletonï¼Œå¹¶å£°æ˜épublicæ„é€ æ–¹æ³•å³å¯ã€‚å¦‚æœæœ‰éœ€è¦è·å–å•ä¾‹åˆå§‹åŒ–çš„æ—¶æœºï¼Œåˆ™å¯ä»¥é€‰æ‹©é‡è½½OnSingletonInitæ–¹æ³•ã€‚\r\n\r\n## ç»“æœ:\r\n``` \r\nHello World!\r\nHello World!\r\n```\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n## Mono å•ä¾‹\r\n\r\n* MonoSingleton.cs\r\n```csharp\r\npublic class GameManager : MonoSingleton<GameManager>\r\n{\r\n    public override void OnSingletonInit()\r\n    {\r\n        Debug.Log(name + \"\":\"\" + \"\"OnSingletonInit\"\");\r\n    }\r\n\r\n    private void Awake()\r\n    {\r\n        Debug.Log(name + \"\":\"\" + \"\"Awake\"\");\r\n    }\r\n\r\n    private void Start()\r\n    {\r\n        Debug.Log(name + \"\":\"\" + \"\"Start\"\");\r\n    }\r\n\r\n    protected override void OnDestroy()\r\n    {\r\n        base.OnDestroy();\r\n\t\t\t\r\n        Debug.Log(name + \"\":\"\" + \"\"OnDestroy\"\");\r\n    }\r\n}\r\n\r\nvar gameManager = GameManager.Instance;\r\n// GameManager:OnSingletonInit\r\n// GameManager:Awake\r\n// GameManager:Start\r\n// ---------------------\r\n// GameManager:OnDestroy\r\n```\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n## Mono å±æ€§å•ä¾‹\r\nä»£ç å¦‚ä¸‹:\r\n\r\n* MonoSingletonProperty.cs\r\n```csharp\r\npublic class GameManager : MonoBehaviour,ISingleton\r\n{\r\n    public static GameManager Instance\r\n    {\r\n        get { return MonoSingletonProperty<GameManager>.Instance; }\r\n    }\r\n\t\t\r\n    public void Dispose()\r\n    {\r\n    \tMonoSingletonProperty<GameManager>.Dispose();\r\n    }\r\n\t\t\r\n    public void OnSingletonInit()\r\n    {\r\n    \tDebug.Log(name + \"\":\"\" + \"\"OnSingletonInit\"\");\r\n    }\r\n    \r\n    private void Awake()\r\n    {\r\n        Debug.Log(name + \"\":\"\" + \"\"Awake\"\");\r\n    }\r\n    \r\n    private void Start()\r\n    {\r\n        Debug.Log(name + \"\":\"\" + \"\"Start\"\");\r\n    }\r\n    \r\n    protected void OnDestroy()\r\n    {\r\n        Debug.Log(name + \"\":\"\" + \"\"OnDestroy\"\");\r\n    }\r\n}\r\nvar gameManager = GameManager.Instance;\r\n// GameManager:OnSingletonInit\r\n// GameManager:Awake\r\n// GameManager:Start\r\n// ---------------------\r\n// GameManager:OnDestroy\r\n```\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n## C# å±æ€§å•ä¾‹\r\n\r\nä»£ç å¦‚ä¸‹ï¼š\r\n\r\n* SingletonProperty.cs\r\n```csharp\r\npublic class GameDataManager : ISingleton\r\n{\r\n    public static GameDataManager Instance\r\n    {\r\n        get { return SingletonProperty<GameDataManager>.Instance; }\r\n    }\r\n\r\n    private GameDataManager() {}\r\n\t\t\r\n    private static int mIndex = 0;\r\n\r\n    public void OnSingletonInit()\r\n    {\r\n        mIndex++;\r\n    }\r\n\r\n    public void Dispose()\r\n    {\r\n        SingletonProperty<GameDataManager>.Dispose();\r\n    }\r\n\t\t\r\n    public void Log(string content)\r\n    {\r\n        Debug.Log(\"\"GameDataManager\"\" + mIndex + \"\":\"\" + content);\r\n    }\r\n}\r\n \r\nGameDataManager.Instance.Log(\"\"Hello\"\");\r\n// GameDataManager1:OnSingletonInit:Hello\r\n \r\nGameDataManager.Instance.Log(\"\"Hello\"\");\r\n// GameDataManager1:OnSingletonInit:Hello\r\n \r\nGameDataManager.Instance.Dispose();\r\n```\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n\r\n## MonoSingletPath é‡å‘½å\r\n\r\n\r\nä»£ç å¦‚ä¸‹ï¼š\r\nMonoSingletonPath.csï¼š\r\n\r\n```csharp\r\nnamespace QFramework.Example\r\n{\r\n\tusing UnityEngine;\r\n\r\n\t[MonoSingletonPath(\"[Example]/MonoSingeltonPath\")]\r\n\tclass ClassUseMonoSingletonPath : QMonoSingleton<ClassUseMonoSingletonPath>\r\n\t{\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic class MonoSingletonPath : MonoBehaviour\r\n\t{\r\n\t\tprivate void Start()\r\n\t\t{\r\n\t\t\tvar intance = ClassUseMonoSingletonPath.Instance;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n## ç»“æœ:\r\n![DraggedImage.png](https://upload-images.jianshu.io/upload_images/2296785-8bf380c8327ffbce.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n\r\n## PersistentMonoSingleton\r\n\r\nå½“åœºæ™¯é‡ŒåŒ…å«ä¸¤ä¸ª PersistentMonoSingletonï¼Œä¿ç•™å…ˆåˆ›å»ºçš„\r\n\r\n```csharp\r\npublic class GameManager : PersistentMonoSingleton<GameManager>\r\n{\r\n \r\n}\r\n \r\nIEnumerator Start()\r\n{\r\n    var gameManager = GameManager.Instance;\r\n \r\n    var newGameManager = new GameObject().AddComponent<GameManager>();\r\n \r\n    yield return new WaitForEndOfFrame();\r\n \r\n    Debug.Log(FindObjectOfTypes<GameManager>().Length);\r\n    // 1\r\n    Debug.Log(gameManager == null);\r\n    // false\r\n    Debug.Log(newGameManager == null);\r\n    // true\r\n}\r\n```\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n## ReplaceableMonoSingleton\r\n\r\nå½“åœºæ™¯é‡ŒåŒ…å«ä¸¤ä¸ª ReplaceableMonoSingletonï¼Œä¿ç•™æœ€ååˆ›å»ºçš„\r\n\r\n```csharp\r\npublic class GameManager : ReplaceableMonoSingleton<GameManager>\r\n{\r\n \r\n}\r\n\r\nIEnumerator Start()\r\n{\r\n    var gameManager = GameManager.Instance;\r\n \r\n    var newGameManager = new GameObject().AddComponent<GameManager>();\r\n \r\n    yield return new WaitForEndOfFrame();\r\n \r\n    Debug.Log(FindObjectOfTypes<GameManager>().Length);\r\n    // 1\r\n    Debug.Log(gameManager == null);\r\n    // true\r\n    Debug.Log(newGameManager == null);\r\n    // false\r\n}\r\n```\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n# 4. è§£å†³æ–¹æ¡ˆç¯‡\r\n# 01. ResKitï¼šèµ„æºç®¡ç†&å¼€å‘è§£å†³æ–¹æ¡ˆ\r\n## Res Kit ç®€ä»‹\r\nRes Kitï¼Œæ˜¯èµ„æºç®¡ç†&å¿«é€Ÿå¼€å‘è§£å†³æ–¹æ¡ˆ\r\n\r\n**ç‰¹æ€§å¦‚ä¸‹:**\r\n* å¯ä»¥ä½¿ç”¨ä¸€ä¸ª API ä»  dataPathã€Resourcesã€StreammingAssetPathã€PersistentDataPathã€ç½‘ç»œç­‰åœ°æ–¹åŠ è½½èµ„æºã€‚\r\n* åŸºäºå¼•ç”¨è®¡æ•°ï¼Œç®€åŒ–èµ„æºåŠ è½½å’Œå¸è½½ã€‚\r\n* æ‹¥æŠ±æ¸¸æˆå¼€å‘æµç¨‹ä¸­çš„ä¸åŒé˜¶æ®µ\r\n    * å¼€å‘é˜¶æ®µä¸ç”¨æ‰“ AB ç›´æ¥ä» dataPath åŠ è½½ã€‚\r\n    * æµ‹è¯•é˜¶æ®µæ”¯æŒåªéœ€æ‰“ä¸€æ¬¡ AB å³å¯ã€‚\r\n* å¯é€‰æ‹©ç”Ÿæˆèµ„æºåå¸¸é‡ä»£ç ï¼Œå‡å°‘æ‹¼å†™é”™è¯¯ã€‚\r\n* å¼‚æ­¥åŠ è½½é˜Ÿåˆ—æ”¯æŒ\r\n* å¯¹äº AssetBundle èµ„æºï¼Œå¯ä»¥åªé€šè¿‡èµ„æºåè€Œä¸æ˜¯ AssetBundle å + èµ„æºå åŠ è½½èµ„æºï¼Œç®€åŒ– API ä½¿ç”¨ã€‚\r\n\r\n\r\n## Res Kit å¿«é€Ÿå…¥é—¨\r\næˆ‘ä»¬çŸ¥é“ï¼Œåœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæœ‰ä¸¤ç§æ–¹å¼å¯ä»¥è®©æˆ‘ä»¬å®ç°åŠ¨æ€åŠ è½½èµ„æºï¼š\r\n* Resources\r\n* AssetBundle\r\n\r\nåœ¨ Res Kit ä¸­ï¼Œæ¨èä½¿ç”¨ AssetBundle çš„æ–¹å¼è¿›è¡ŒåŠ è½½ï¼Œå› ä¸º Res Kit æ‰€å°è£…çš„ AssetBundle æ–¹å¼ï¼Œæ¯” Resources çš„æ–¹å¼æ›´å¥½ç”¨ã€‚\r\n\r\né™¤äº† Res Kit ä¸­çš„ AsseBundle æ–¹å¼æ›´æ˜“ç”¨å¤–ï¼ŒAssetBundle æœ¬èº«ç›¸æ¯” Resources æœ‰æ›´å¤šçš„ä¼˜ç‚¹ï¼Œæ¯”å¦‚æ›´å°çš„åŒ…ä½“ï¼Œæ”¯æŒçƒ­æ›´ç­‰ã€‚\r\n\r\nåºŸè¯ä¸å¤šè¯´ï¼Œæˆ‘ä»¬çœ‹ä¸‹ Res Kit çš„åŸºæœ¬ä½¿ç”¨ã€‚\r\n\r\nRes Kit åœ¨å¼€å‘é˜¶æ®µï¼Œåˆ†ä¸ºä¸¤æ­¥ã€‚\r\n* æ ‡è®°èµ„æº\r\n* å†™ä»£ç \r\n\r\nåœ¨å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬è¦ç¡®ä¿ï¼Œå½“å‰çš„ Res Kit ç¯å¢ƒä¸ºæ¨¡æ‹Ÿæ¨¡å¼ã€‚\r\n\r\næŒ‰ä¸‹å¿«æ·é”® ctrl + e æˆ–è€… ctrl + shift + r ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¦‚ä¸‹é¢æ¿:\r\n\r\n![image.png](https://file.liangxiegame.com/d6d1ac25-4c60-4b42-81ec-51b1628b640a.png)\r\n\r\nç¡®ä¿æ¨¡æ‹Ÿæ¨¡å¼å‹¾é€‰ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥è¿›å…¥ä½¿ç”¨æµç¨‹äº†ã€‚\r\n\r\n### 1. èµ„æºæ ‡è®°\r\n\r\nåœ¨ Asset ç›®å½•ä¸‹ï¼Œåªéœ€å¯¹éœ€è¦æ ‡è®°çš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹å³é”®->@ResKit- AssetBundle Markï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\r\n\r\n![image.png](https://file.liangxiegame.com/2d793421-94cb-457f-80da-ee976f700f02.png)\r\n\r\næ ‡è®°å®Œäº†ï¼Œ\r\n\r\næ ‡è®°æˆåŠŸåï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¦‚ä¸‹ç»“æœï¼š\r\n\r\n1. è¯¥èµ„æºæ ‡è®°çš„é€‰é¡¹ä¸ºå‹¾é€‰çŠ¶æ€\r\n\r\n![image.png](https://file.liangxiegame.com/1ced7efd-a328-4c5e-a76a-4a85020acdd2.png)\r\n\r\n2. è¯¥èµ„æºçš„ AssetLabel ä¸­çš„åå­—å¦‚ä¸‹\r\n   ![image.png](https://file.liangxiegame.com/a7e20396-e553-4ead-8291-e4395fe53b30.png)\r\n\r\nè¿™æ ·å°±æ ‡è®°æˆåŠŸäº†ã€‚\r\n\r\nè¿™é‡Œæ³¨æ„ï¼Œä¸€æ¬¡æ ‡è®°å°±æ˜¯ä¸€ä¸ª AssetBundleï¼Œå¦‚æœæƒ³è¦è®© AssetBundle åŒ…å«å¤šä¸ªèµ„æºï¼Œå¯ä»¥å°†å¤šä¸ªèµ„æºæ”¾åˆ°ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­ï¼Œç„¶åæ ‡è®°æ–‡ä»¶å¤¹ã€‚\r\n\r\n\r\n### 2.èµ„æºåŠ è½½\r\næ¥ä¸‹æ¥æˆ‘ä»¬ç›´æ¥å†™èµ„æºåŠ è½½çš„ä»£ç å³å¯ï¼Œä»£ç å¦‚ä¸‹ï¼Œå…·ä½“çš„ä»£ç å«ä¹‰ï¼Œçœ‹æ³¨é‡Šå³å¯ã€‚ã€‚\r\n\r\n```csharp\r\nusing UnityEngine;\r\n\r\nnamespace QFramework.Example\r\n{\r\n    public class ResKitExample : MonoBehaviour\r\n    {\r\n        // æ¯ä¸ªè„šæœ¬éƒ½éœ€è¦\r\n        private ResLoader mResLoader = ResLoader.Allocate();\r\n\r\n        private void Start()\r\n        {\r\n            // é¡¹ç›®å¯åŠ¨åªè°ƒç”¨ä¸€æ¬¡å³å¯\r\n            ResKit.Init();\r\n            \r\n            // é€šè¿‡èµ„æºå + ç±»å‹æœç´¢å¹¶åŠ è½½èµ„æºï¼ˆæ›´æ–¹ä¾¿ï¼‰\r\n            var prefab = mResLoader.LoadSync<GameObject>(\"AssetObj\");\r\n            var gameObj = Instantiate(prefab);\r\n            gameObj.name = \"è¿™æ˜¯ä½¿ç”¨é€šè¿‡ AssetName åŠ è½½çš„å¯¹è±¡\";\r\n\r\n            // é€šè¿‡ AssetBundleName å’Œ èµ„æºåæœç´¢å¹¶åŠ è½½èµ„æºï¼ˆæ›´ç²¾ç¡®ï¼‰\r\n            prefab = mResLoader.LoadSync<GameObject>(\"assetobj_prefab\", \"AssetObj\");\r\n            gameObj = Instantiate(prefab);\r\n            gameObj.name = \"è¿™æ˜¯ä½¿ç”¨é€šè¿‡ AssetName  å’Œ AssetBundle åŠ è½½çš„å¯¹è±¡\";\r\n        }\r\n\r\n        private void OnDestroy()\r\n        {\r\n            // é‡Šæ”¾æ‰€æœ‰æœ¬è„šæœ¬åŠ è½½è¿‡çš„èµ„æº\r\n            // é‡Šæ”¾åªæ˜¯é‡Šæ”¾èµ„æºçš„å¼•ç”¨\r\n            // å½“èµ„æºçš„å¼•ç”¨æ•°é‡ä¸º 0 æ—¶ï¼Œä¼šè¿›è¡ŒçœŸæ­£çš„èµ„æºå¸è½½æ“ä½œ\r\n            mResLoader.Recycle2Cache();\r\n            mResLoader = null;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nå°†æ­¤è„šæœ¬æŒ‚åˆ°ä»»æ„ GameObject ä¸Šï¼Œè¿è¡Œåï¼Œç»“æœå¦‚ä¸‹:\r\n\r\n\r\n![image.png](https://file.liangxiegame.com/04cd1727-b7ad-436d-988c-80b70c0fc106.png)\r\n\r\nèµ„æºåŠ è½½æˆåŠŸã€‚\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n## æ¨¡æ‹Ÿæ¨¡å¼ä¸éæ¨¡æ‹Ÿæ¨¡å¼\r\n\r\n### AssetBundle çš„ä¸ä¾¿ä¹‹å¤„\r\nåœ¨ä½¿ç”¨ Res Kit ä¹‹å‰ï¼Œç›¸ä¿¡å¤§å®¶å¤šå¤šå°‘å°‘æ¥è§¦è¿‡ AssetBundleã€‚ æœ‰çš„ç«¥é‹å¯èƒ½æ˜¯åœ¨é¡¹ç›®ä¸­ç”¨è¿‡ AssetBundleï¼Œæœ‰çš„ç«¥é‹å¯èƒ½åªæ˜¯ç®€å•å­¦ä¹ è¿‡ AssetBundleã€‚æ€»ä¹‹ï¼ŒAssetBundle åœ¨ä¸é€šè¿‡ Res Kit ä½¿ç”¨ä¹‹å‰ï¼Œæ€»ç»“ä¸‹æ¥å°±ä¸¤ä¸ªå­—ï¼šéº»çƒ¦ã€‚\r\n\r\nAssetBundle éº»çƒ¦åœ¨å“ªé‡Œå‘¢ï¼Ÿ\r\n\r\né¦–å…ˆ AssetBundleï¼Œéœ€è¦æ‰“åŒ…æ‰èƒ½åœ¨è¿è¡Œæ—¶åŠ è½½èµ„æºã€‚è€Œæ‰“åŒ…éœ€è¦æˆ‘ä»¬å†™ç¼–è¾‘å™¨æ‰©å±•è„šæœ¬ï¼Œåœ¨ç¼–è¾‘å™¨æ‰©å±•è„šæœ¬ä¸­è¿˜è¦å¤„ç†å¹³å°å’Œè·¯å¾„ç›¸å…³çš„é€»è¾‘ã€‚\r\n\r\nåœ¨è¿è¡Œæ—¶ï¼Œè¿˜éœ€è¦æ ¹æ®å¹³å°å’Œè·¯å¾„å»åŠ è½½å¯¹åº”çš„ AssetBundleã€‚\r\n\r\nè¿™äº›æ“ä½œæƒ³æƒ³å°±æ¯”è¾ƒå¤´ç—›ã€‚\r\n\r\næ—¢ç„¶ AssetBundle è¿™ä¹ˆéº»çƒ¦ï¼Œæˆ‘ä»¬ä¸ºä»€ä¹ˆè¿˜è¦ç”¨ AssetBundle å‘¢ï¼Ÿ\r\n\r\nå› ä¸º AssetBundle å¯ä»¥ç»™é¡¹ç›®å¸¦æ¥æ›´å¥½çš„æ€§èƒ½ï¼Œè€Œä¸” AssetBundle æ”¯æŒçƒ­æ›´æ–°ã€‚\r\n\r\næœ‰äº†è¿™ä¸¤ä¸ªä¼˜åŠ¿ï¼ŒAssetBundle å°±æˆäº†å¾ˆå¤šé¡¹ç›®çš„å¿…ç„¶é€‰æ‹©ã€‚\r\n\r\nè€Œ Res Kit ä¸­ï¼Œä¸ºäº†è§£å†³é¢‘ç¹æ‰“åŒ…çš„é—®é¢˜ï¼Œå¼•å…¥äº†ä¸€ä¸ªæ¦‚å¿µï¼šæ¨¡æ‹Ÿæ¨¡å¼ï¼ˆSimulation Modeï¼‰ã€‚\r\n\r\n#### æ¨¡æ‹Ÿæ¨¡å¼ï¼ˆSimulation Modeï¼‰\r\n\r\n**ä»€ä¹ˆæ˜¯æ¨¡æ‹Ÿæ¨¡å¼ï¼Ÿ**\r\n\r\né¡¾åæ€ä¹‰ï¼Œå°±æ˜¯æ¨¡æ‹ŸåŠ è½½ AssetBundle çš„æ¨¡å¼ï¼Œè¿™é‡Œåªæ˜¯æ¨¡æ‹Ÿï¼Œå¹¶æ²¡æœ‰çœŸæ­£å»åŠ è½½ AssetBundleï¼Œè€Œæ˜¯å»åŠ è½½ Application.dataPath ç›®å½•ä¸‹çš„èµ„æºï¼Œä¹Ÿå°±æ˜¯ Assets ç›®å½•ä¸‹çš„èµ„æºã€‚\r\n\r\n**è¿™æ ·åšæœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿ**\r\n\r\nå¥½å¤„å°±æ˜¯æ¯å½“æœ‰èµ„æºä¿®æ”¹çš„æ—¶å€™ï¼Œå°±ä¸ç”¨å†æ‰“ AB åŒ…äº†ï¼Œå°±å¯ä»¥åœ¨è¿è¡Œæ—¶åŠ è½½åˆ°ä¿®æ”¹åçš„èµ„æºã€‚\r\n\r\nå¦‚æœæ˜¯éæ¨¡æ‹Ÿæ¨¡å¼ä¸‹ï¼Œæ¯å½“æœ‰èµ„æºä¿®æ”¹æ—¶ï¼Œå°±éœ€è¦å†æ‰“ä¸€æ¬¡ AB åŒ…ï¼Œæ‰èƒ½åŠ è½½åˆ°ä¿®æ”¹åçš„èµ„æºã€‚\r\n\r\næ‰€ä»¥ä¸€ä¸ªæ¨¡æ‹Ÿæ¨¡å¼ï¼Œè§£å†³äº†é¢‘ç¹æ‰“ AB åŒ…çš„é—®é¢˜ï¼Œä»è€Œåœ¨å¼€å‘é˜¶æ®µæé«˜æˆ‘ä»¬çš„å¼€å‘æ•ˆç‡ã€‚\r\n\r\né‚£ä¹ˆåœ¨ä½¿ç”¨ Res Kit çš„æ—¶å€™ï¼Œæ¨¡æ‹Ÿæ¨¡å¼å¯¹åº”çš„é˜¶æ®µæ˜¯å¼€å‘é˜¶æ®µï¼Œé‚£ä¹ˆéæ¨¡æ‹Ÿæ¨¡å¼å¯¹åº”çš„æ˜¯ä»€ä¹ˆé˜¶æ®µå‘¢ï¼Ÿ\r\n\r\nç­”æ¡ˆå°±æ˜¯çœŸæœºé˜¶æ®µã€‚\r\n\r\n### å¼€å‘é˜¶æ®µã€çœŸæœºé˜¶æ®µ\r\nå¼€å‘é˜¶æ®µã€çœŸæœºé˜¶æ®µå¹¶ä¸æ˜¯ Unity æä¾›çš„æ¦‚å¿µï¼Œè€Œæ˜¯ç¬”è€…åœ¨è¿­ä»£ Res Kit ä¸­æå‡ºçš„ä¸¤ä¸ªæ¦‚å¿µã€‚\r\n\r\nè¿™ä¸¤ä¸ªæ¦‚å¿µå¾ˆå®¹æ˜“ç†è§£ï¼š\r\n* å¼€å‘é˜¶æ®µï¼šå¼€å‘é€»è¾‘çš„é˜¶æ®µï¼Œéœ€è¦ç¼–å†™å¤§é‡çš„é€»è¾‘ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹éƒ½åœ¨ Unity Editor ç¯å¢ƒä¸‹å¼€å‘ã€‚\r\n* çœŸæœºé˜¶æ®µï¼šéœ€è¦åœ¨çœŸæœºä¸Šè¿è¡Œçš„é˜¶æ®µï¼Œè¿™ä¸ªé˜¶æ®µä¸»è¦æ˜¯åšå¤§é‡çš„æµ‹è¯•æˆ–è€…çœŸæ­£å‘å¸ƒäº†ã€‚\r\n\r\nç›¸ä¿¡æœ‰ç‚¹è§„æ¨¡çš„é¡¹ç›®éƒ½ä¼šåˆ†é˜¶æ®µå‡ºæ¥çš„ï¼Œæ¯”å¦‚å¼€å‘é˜¶æ®µã€æµ‹è¯•é˜¶æ®µã€ç”Ÿäº§é˜¶æ®µç­‰ç­‰ï¼Œå¤§å®¶ç†è§£èµ·æ¥åº”è¯¥ä¸éš¾ã€‚\r\n\r\næ¥ä¸‹æ¥ç®€å•åˆ†æä¸€ä¸‹å¼€å‘é˜¶æ®µã€çœŸæœºé˜¶æ®µçš„ç‰¹ç‚¹ã€‚\r\n\r\n**å¼€å‘é˜¶æ®µ**\r\nåœ¨å¼€å‘é˜¶æ®µï¼Œå¼€å‘è€…éœ€è¦å†™å¤§é‡çš„é€»è¾‘ï¼Œè€Œä¸”èµ„æºçš„ç›®å½•è¿˜æ²¡æœ‰ç¨³å®šï¼Œä¸€èˆ¬åœ¨å¼€å‘è¿‡ç¨‹ä¸­ä¼šæœ‰å¾ˆå¤§çš„å˜åŒ–ã€‚\r\nå¦‚æœæ¯æ¬¡èµ„æºçš„ä¿®æ”¹éƒ½éœ€è¦æ‰“ AB åŒ…çš„è¯ï¼Œä¼šéå¸¸å½±å“å¼€å‘è¿›åº¦ã€‚\r\n\r\n**çœŸæœºé˜¶æ®µ**\r\nçœŸæœºé˜¶æ®µï¼Œä¸€èˆ¬å°±æ˜¯ä¸€ä¸ªç‰ˆæœ¬çš„é€»è¾‘éƒ½å†™å®Œäº†ï¼Œåªéœ€è¦åšä¸€äº›æµ‹è¯•å’Œ debug å·¥ä½œã€‚åœ¨è¿™ä¸ªé˜¶æ®µï¼Œèµ„æºç›®å½•éƒ½ç¨³å®šäº†ï¼Œä¸éœ€è¦åšå¾ˆå¤§çš„è°ƒæ•´ã€‚\r\n\r\nåœ¨çœŸæœºé˜¶æ®µï¼Œæ¯æ¬¡æ‰“ App åŒ…ä¹‹å‰ï¼Œåªéœ€è¦ Build ä¸€æ¬¡ AB å³å¯ã€‚\r\n\r\nå½“ç„¶ï¼Œåœ¨ Unity Editor ç¯å¢ƒä¸­ï¼Œå¯ä»¥å–æ¶ˆå‹¾é€‰æ¨¡æ‹Ÿæ¨¡å¼ï¼Œè¿™æ ·åœ¨ Unity Editor ç¯å¢ƒä¸‹å¯ä»¥åŠ è½½çœŸæ­£çš„ AssetBundle åŒ…ã€‚\r\n\r\nåœ¨ä¸Šä¸€ç¯‡æ–‡ç« æ‰€è¯´çš„ï¼Œæ‹¥æŠ±å„ä¸ªå¼€å‘é˜¶æ®µæŒ‡çš„å°±æ˜¯ä¸ºå¼€å‘é˜¶æ®µã€å’ŒçœŸæœºé˜¶æ®µåšäº†è€ƒè™‘ã€‚\r\n\r\næ­¤ç¯‡çš„å†…å®¹å°±è¿™äº›ã€‚\r\n\r\n### å°ç»“\r\n* å¼€å‘é˜¶æ®µï¼š\r\n    *  æ¨¡æ‹Ÿæ¨¡å¼\r\n* çœŸæœºé˜¶æ®µï¼š\r\n    * æ¯æ¬¡æ‰“ App åŒ…ä¹‹å‰ï¼Œæ‰“ä¸€æ¬¡ AB åŒ…ã€‚\r\n    * å¯ä»¥åœ¨ Unity Editor ç¯å¢ƒä¸‹ï¼Œå–æ¶ˆå‹¾é€‰æ¨¡æ‹Ÿæ¨¡å¼ï¼Œè¿™æ—¶åœ¨è¿è¡Œæ—¶åŠ è½½çš„èµ„æºåˆ™æ˜¯çœŸæ­£çš„ AssetBundle èµ„æº\r\n\r\n\r\n## å¦‚ä½•æ‰“ AssetBundleï¼ˆçœŸæœºæ¨¡å¼ï¼‰\r\n\r\n\r\n![image.png](https://file.liangxiegame.com/bcc21643-8c4a-4f6f-b3a9-db1ec3071119.png)\r\n\r\nå–æ¶ˆå‹¾é€‰æ¨¡æ‹Ÿæ¨¡å¼æƒ…å†µä¸‹ï¼Œç‚¹å‡»æ‰“ AB åŒ… å³å¯ã€‚\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n## å¼‚æ­¥åŠ è½½\r\nå¼‚æ­¥åŠ è½½ä»£ç å¦‚ä¸‹:\r\n``` csharp\r\n// æ·»åŠ åˆ°åŠ è½½é˜Ÿåˆ—\r\nmResLoader.Add2Load(\"TestObj\",(succeed,res)=>{\r\n    if (succeed) \r\n    {\r\n        res.Asset.As<GameObject>()\r\n\t\t\t\t\t\t.Instantiate();\r\n    }\r\n});\r\n\r\n// æ‰§è¡Œå¼‚æ­¥åŠ è½½\r\nmResLoader.LoadAsync();\r\n```\r\nä¸ LoadSync ä¸åŒçš„æ˜¯ï¼Œå¼‚æ­¥åŠ è½½æ˜¯åˆ†ä¸¤æ­¥çš„ï¼Œç¬¬ä¸€æ­¥æ˜¯æ·»åŠ åˆ°åŠ è½½é˜Ÿåˆ—ï¼Œç¬¬äºŒæ­¥æ˜¯æ‰§è¡Œå¼‚æ­¥åŠ è½½ã€‚\r\n\r\nè¿™æ ·åšæ˜¯ä¸ºäº†æ”¯æŒåŒæ—¶å¼‚æ­¥åŠ è½½å¤šä¸ªèµ„æºçš„ã€‚\r\n\r\n## å¼‚æ­¥åŠ è½½\r\nä»£ç å¦‚ä¸‹:\r\n```csharp\r\nusing System.Collections;\r\nusing UnityEngine;\r\n\r\nnamespace QFramework.Example\r\n{\r\n    public class AsyncLoadExample : MonoBehaviour\r\n    {\r\n        IEnumerator Start()\r\n        {\r\n            yield return ResKit.InitAsync();\r\n\r\n            var resLoader = ResLoader.Allocate();\r\n            \r\n            resLoader.Add2Load<GameObject>(\"AssetObj 1\",(b, res) =>\r\n            {\r\n                if (b)\r\n                {\r\n                    res.Asset.As<GameObject>().Instantiate();\r\n                }\r\n            });\r\n\r\n            // AssetBundleName + AssetName\r\n            resLoader.Add2Load<GameObject>(\"assetobj 2_prefab\",\"AssetObj 2\",(b, res) =>\r\n            {\r\n                if (b)\r\n                {\r\n                    res.Asset.As<GameObject>().Instantiate();\r\n                }\r\n            });\r\n            \r\n            resLoader.Add2Load<GameObject>(\"AssetObj 3\",(b, res) =>\r\n            {\r\n                if (b)\r\n                {\r\n                    res.Asset.As<GameObject>().Instantiate();\r\n                }\r\n            });\r\n\r\n            resLoader.LoadAsync(() =>\r\n            {\r\n                // åŠ è½½æˆåŠŸ 5 ç§’åå›æ”¶\r\n                ActionKit.Delay(5.0f, () =>\r\n                {\r\n                    resLoader.Recycle2Cache();\r\n\r\n                }).Start(this);\r\n            });\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\nç»“æœå¦‚ä¸‹:\r\n\r\n![image.png](https://file.liangxiegame.com/8ad406e4-f59c-43d2-bd4a-e7de57560958.png)\r\n\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n## åŠ è½½åœºæ™¯\r\n\r\næ³¨æ„ï¼šæ ‡è®°åœºæ™¯æ—¶è¦ç¡®ä¿ï¼Œä¸€ä¸ªåœºæ™¯æ˜¯ä¸€ä¸ª AssetBundleã€‚\r\n\r\n```csharp\r\nusing UnityEngine;\r\n\r\nnamespace QFramework.Example\r\n{\r\n\tpublic class LoadSceneExample : MonoBehaviour\r\n\t{\r\n\t\tprivate ResLoader mResLoader = null;\r\n\r\n\t\tvoid Start()\r\n\t\t{\r\n\t\t\tResKit.Init();\r\n\r\n\t\t\tmResLoader = ResLoader.Allocate();\r\n\r\n\t\t\t// åŒæ­¥åŠ è½½\r\n\t\t\tmResLoader.LoadSceneSync(\"SceneRes\");\r\n\r\n\t\t\t// å¼‚æ­¥åŠ è½½\r\n\t\t\tmResLoader.LoadSceneAsync(\"SceneRes\");\r\n\r\n\t\t\t// å¼‚æ­¥åŠ è½½\r\n\t\t\tmResLoader.LoadSceneAsync(\"SceneRes\", onStartLoading: operation =>\r\n\t\t\t{\r\n\t\t\t\t// åšä¸€äº›åŠ è½½æ“ä½œ\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tprivate void OnDestroy()\r\n\t\t{\r\n\t\t\tmResLoader.Recycle2Cache();\r\n\t\t\tmResLoader = null;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n## åŠ è½½ Resources ä¸­çš„èµ„æº\r\n\r\n```csharp\r\nusing UnityEngine;\r\nusing UnityEngine.UI;\r\n\r\nnamespace QFramework.Example\r\n{\r\n\tpublic class LoadResourcesResExample : MonoBehaviour\r\n\t{\r\n\t\tpublic RawImage RawImage;\r\n\t\t\r\n\t\tprivate ResLoader mResLoader = ResLoader.Allocate();\r\n\t\t\r\n\t\tprivate void Start()\r\n\t\t{\r\n\t\t\t//  åŠ è½½ Resources ç›®å½•é‡Œçš„èµ„æºä¸ç”¨è°ƒç”¨ ResKit.Init\r\n\t\t\t\r\n\t\t\tRawImage.texture = mResLoader.LoadSync<Texture2D>(\"resources://TestTexture\");\r\n\t\t}\r\n\r\n\t\tprivate void OnDestroy()\r\n\t\t{\r\n\t\t\tDebug.Log(\"On Destroy \");\r\n\t\t\tmResLoader.Recycle2Cache();\r\n\t\t\tmResLoader = null;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n## å…³è”å¯¹è±¡ç®¡ç†\r\n\r\n```csharp\r\nusing System.Collections;\r\nusing UnityEngine;\r\nusing UnityEngine.UI;\r\n\r\nnamespace QFramework.Example\r\n{\r\n    public class ResLoaderRelateUnloadAssetExample : MonoBehaviour\r\n    {\r\n        // Use this for initialization\r\n        IEnumerator Start()\r\n        {\r\n            var image = transform.Find(\"Image\").GetComponent<Image>();\r\n\r\n            ResKit.Init();\r\n\r\n            var resLoader = ResLoader.Allocate();\r\n            \r\n            var texture2D = resLoader.LoadSync<Texture2D>(\"TextureExample1\");\r\n\r\n            // create Sprite æ‰©å±•\r\n            var sprite = Sprite.Create(texture2D, new Rect(0, 0, texture2D.width, texture2D.height), Vector2.one * 0.5f);\r\n\r\n            image.sprite = sprite;\r\n\r\n            // æ·»åŠ å…³è”çš„ Sprite\r\n            resLoader.AddObjectForDestroyWhenRecycle2Cache(sprite);\r\n\r\n            yield return new WaitForSeconds(5.0f);\r\n            \r\n            // å½“é‡Šæ”¾æ—¶ sprite ä¹Ÿä¼šé”€æ¯\r\n            resLoader.Recycle2Cache();\r\n            resLoader = null;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n## SpriteAtlas åŠ è½½\r\n\r\n```csharp\r\nusing System.Collections;\r\nusing UnityEngine;\r\nusing UnityEngine.U2D;\r\nusing UnityEngine.UI;\r\n\r\nnamespace QFramework\r\n{\r\n\t/// <inheritdoc />\r\n\t/// <summary>\r\n\t/// å‚è€ƒ:http://www.cnblogs.com/TheChenLin/p/9763710.html\r\n\t/// </summary>\r\n\tpublic class TestSpriteAtlas : MonoBehaviour\r\n\t{\r\n\t\t[SerializeField] private Image mImage;\r\n\r\n\t\t// Use this for initialization\r\n\t\tprivate IEnumerator Start()\r\n\t\t{\r\n\t\t\tvar loader = ResLoader.Allocate();\r\n\r\n\t\t\tResKit.Init();\r\n\r\n\t\t\tvar spriteAtlas = loader.LoadSync<SpriteAtlas>(\"spriteatlas\");\r\n\t\t\tvar square = spriteAtlas.GetSprite(\"shop\");\r\n\t\t\t\r\n\t\t\tloader.AddObjectForDestroyWhenRecycle2Cache(square);\r\n\r\n\t\t\tmImage.sprite = square;\r\n\r\n\t\t\tyield return new WaitForSeconds(5.0f);\r\n\r\n\t\t\tloader.Recycle2Cache();\r\n\t\t\tloader = null;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n## åŠ è½½ç½‘ç»œå›¾ç‰‡\r\n\r\n```csharp\r\nusing UnityEngine;\r\nusing UnityEngine.UI;\r\n\r\nnamespace QFramework.Example\r\n{\r\n    public class NetImageExample : MonoBehaviour\r\n    {\r\n        ResLoader mResLoader = ResLoader.Allocate();\r\n\r\n        // Use this for initialization\r\n        void Start()\r\n        {\r\n            var image = transform.Find(\"Image\").GetComponent<Image>();\r\n            \r\n            mResLoader.Add2Load<Texture2D>(\r\n                \"http://pic.616pic.com/ys_b_img/00/44/76/IUJ3YQSjx1.jpg\".ToNetImageResName(),\r\n                (b, res) =>\r\n                {\r\n                    if (b)\r\n                    {\r\n                        var texture = res.Asset as Texture2D;\r\n\r\n                        var sprite = Sprite.Create(texture, new Rect(0, 0, texture.width, texture.height),\r\n                            Vector2.one * 0.5f);\r\n                        image.sprite = sprite;\r\n                        mResLoader.AddObjectForDestroyWhenRecycle2Cache(sprite);\r\n                    }\r\n                });\r\n            \r\n            mResLoader.LoadAsync();\r\n        }\r\n        \r\n        private void OnDestroy()\r\n        {\r\n            mResLoader.Recycle2Cache();\r\n            mResLoader = null;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n## ä» PersistentDataPath åŠ è½½å›¾ç‰‡\r\n```csharp\r\nnamespace QFramework.Example\r\n{\r\n\tusing System.Collections;\r\n\tusing UnityEngine.UI;\r\n\tusing UnityEngine;\r\n\t\r\n\tpublic class ImageLoaderExample : MonoBehaviour\r\n\t{\r\n\t\tprivate ResLoader mResLoader = null;\r\n\r\n\t\tprivate IEnumerator Start()\r\n\t\t{\r\n\t\t\tResMgr.Init();\r\n\t\t\t\r\n\t\t\tmResLoader = ResLoader.Allocate();\r\n\r\n\t\t\t// local image\r\n\t\t\tvar localImageUrl = \"file://\" + Application.persistentDataPath + \"/Workspaces/lM1wmsLQtfzRQc6fsdEU.jpg\";\r\n\r\n\t\t\tmResLoader.Add2Load(localImageUrl.ToLocalImageResName(),\r\n\t\t\t\tdelegate(bool b, IRes res)\r\n\t\t\t\t{\r\n\t\t\t\t\tDebug.LogError(b);\r\n\t\t\t\t\tif (b)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar texture2D = res.Asset as Texture2D;\r\n\t\t\t\t\t\ttransform.Find(\"Image\").GetComponent<Image>().sprite = Sprite.Create(texture2D,\r\n\t\t\t\t\t\t\tnew Rect(0, 0, texture2D.width, texture2D.height), Vector2.one * 0.5f);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\r\n\t\t\tmResLoader.LoadAsync();\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tyield return new WaitForSeconds(5.0f);\r\n\t\t\tmResLoader.Recycle2Cache();\r\n\t\t\tmResLoader = null;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n## è‡ªå®šä¹‰ Res\r\n\r\nResKit æä¾›äº† è‡ªå®šä¹‰ Res ï¼Œé€šè¿‡è‡ªå®šä¹‰ Res å¯ä»¥éå¸¸æ–¹ä¾¿åœ°è‡ªå®šä¹‰ Res çš„åŠ è½½æ¥æºï¼Œæ¯”å¦‚ PersistentDataPathã€StreamingAssetPathã€AssetBundle ç­‰ï¼Œç”šè‡³æ˜¯å†…å­˜ä¸­çš„ GameObject ç­‰èµ„äº§ï¼Œè¿˜å¯ä»¥é›†æˆ Addressables æˆ–è€…å…¶ä»–çš„èµ„æºç®¡ç†æ–¹æ¡ˆï¼ŒResKit å†…ç½®æ”¯æŒçš„ AssetBundleã€Resourcesã€ç½‘ç»œå›¾ç‰‡åŠ è½½ã€PersistentDataPath å›¾ç‰‡åŠ è½½éƒ½æ˜¯é€šè¿‡è‡ªå®šä¹‰ Res çš„æ–¹å¼æ‰©å±•è€Œæ¥ã€‚\r\n\r\næˆ‘ä»¬çœ‹ä¸‹è‡ªå®šä¹‰ Res çš„ç”¨æ³•ï¼Œå¦‚ä¸‹:\r\n```csharp\r\nusing UnityEngine;\r\n\r\nnamespace QFramework\r\n{\r\n    public class CustomResExample : MonoBehaviour\r\n    {\r\n        // è‡ªå®šä¹‰çš„ Res\r\n        public class MyRes : Res\r\n        {\r\n            public MyRes(string name)\r\n            {\r\n                mAssetName = name;\r\n            }\r\n\r\n            // åŒæ­¥åŠ è½½ï¼ˆè‡ªå·±å®ç°ï¼‰\r\n            public override bool LoadSync()\r\n            {\r\n                // Asset = åŠ è½½çš„ç»“æœç»™ Asset èµ‹å€¼ \r\n                State = ResState.Ready;\r\n                return true;\r\n            }\r\n\r\n            // å¼‚æ­¥åŠ è½½(è‡ªå·±å®ç°)\r\n            public override void LoadAsync()\r\n            {\r\n                // Asset = åŠ è½½çš„ç»“æœç»™ Asset èµ‹å€¼ \r\n                State = ResState.Ready;\r\n            }\r\n            \r\n\r\n            // é‡Šæ”¾èµ„æºï¼ˆè‡ªå·±å®ç°)\r\n            protected override void OnReleaseRes()\r\n            {\r\n                // å¸è½½æ“ä½œ\r\n                // Asset = null\r\n                State = ResState.Waiting;\r\n            }\r\n        }\r\n\r\n        // è‡ªå®šä¹‰çš„ Res åˆ›å»ºå™¨ï¼ˆåŒ…å«è¯†åˆ«åŠŸèƒ½ï¼‰\r\n        public class MyResCreator : IResCreator\r\n        {\r\n            // è¯†åˆ«\r\n            public bool Match(ResSearchKeys resSearchKeys)\r\n            {\r\n                return resSearchKeys.AssetName.StartsWith(\"myres://\");\r\n            }\r\n\r\n            // åˆ›å»º\r\n            public IRes Create(ResSearchKeys resSearchKeys)\r\n            {\r\n                return new MyRes(resSearchKeys.AssetName);\r\n            }\r\n        }\r\n\r\n        void Start()\r\n        {\r\n            // æ·»åŠ åˆ›å»ºå™¨\r\n            ResFactory.AddResCreator<MyResCreator>();\r\n\r\n            var resLoader = ResLoader.Allocate();\r\n\r\n            var resSearchKeys = ResSearchKeys.Allocate(\"myres://hello_world\");\r\n            \r\n            var myRes =  resLoader.LoadResSync(resSearchKeys);\r\n            \r\n            resSearchKeys.Recycle2Cache();\r\n            \r\n            Debug.Log(myRes.AssetName);\r\n            Debug.Log(myRes.State);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\néå¸¸ç®€å•ã€‚\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n## ä»£ç ç”Ÿæˆ\r\n\r\nRes Kit æ”¯æŒä»£ç ç”Ÿæˆï¼Œç”ŸæˆæŒ‰é’®çš„ä½ç½®å¦‚ä¸‹æ‰€ç¤º:\r\n![image.png](https://file.liangxiegame.com/e482f08e-2e8e-4b43-84bf-f32722cc5f5c.png)\r\nç‚¹å‡»ç”Ÿæˆä»£ç å³å¯ï¼Œç”Ÿæˆåç»“æœå¦‚ä¸‹ã€‚\r\n![image.png](https://file.liangxiegame.com/0ea13581-4960-4bc8-bbf1-b49a03455271.png)\r\n\r\nç”Ÿæˆäº† QAssets ä»£ç æ–‡ä»¶ï¼Œä»£ç å†…å®¹å¦‚ä¸‹:\r\n\r\n```csharp\r\nnamespace QAssetBundle\r\n{\r\n  \r\n    public class Testobj_prefab\r\n    {\r\n        public const string BundleName = \"testobj_prefab\";\r\n        public const string TESTOBJ = \"testobj\";\r\n    }\r\n    public class Testsprite_png\r\n    {\r\n        public const string BundleName = \"testsprite_png\";\r\n        public const string TESTSPRITE = \"testsprite\";\r\n    }\r\n}\r\n\r\n```\r\n\r\nç”Ÿæˆäº†ä»£ç ï¼Œé‚£ä¹ˆåœ¨å†™èµ„æºåŠ è½½çš„ä»£ç çš„æ—¶å€™å°±ä¼šçˆ½çš„é£èµ·ï¼Œå¦‚ä¸‹å›¾ç¤º:\r\n![image.png](https://file.liangxiegame.com/7b8ae854-aafe-49d8-9318-5f7d1190c8cc.png)\r\n\r\nå›¾ä¸­ï¼Œç»™å‡ºäº†èµ„æºåå­—çš„æç¤ºã€‚\r\n\r\nè¿™æ ·å°±ä¸å®¹æ˜“å‡ºç°å­—ç¬¦ä¸²çš„æ‹¼å†™é”™è¯¯äº†ã€‚\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n## ResLoader æ¨èç”¨æ³•\r\n\r\nResLoader çš„æ¨èç”¨æ³•ï¼Œæ˜¯ä¸€ä¸ªéœ€è¦åŠ è½½çš„å•å…ƒç”³è¯·ä¸€ä¸ª ResLoaderã€‚\r\n\r\nä»£ç å¦‚ä¸‹:\r\n\r\n```csharp\r\nusing QF.Res;\r\nusing QF.Extensions;\r\nusing UnityEngine;\r\n\r\nnamespace QF.Example \r\n{\r\n\tpublic class TestResKit : MonoBehaviour \r\n\t{\r\n\t\t/// <summary>\r\n\t\t/// æ¯ä¸€ä¸ªéœ€è¦åŠ è½½èµ„æºçš„å•å…ƒï¼ˆè„šæœ¬ã€ç•Œé¢ï¼‰ç”³è¯·ä¸€ä¸ª ResLoader\r\n\t\t/// ResLoader æœ¬èº«ä¼šè®°å½•è¯¥è„šæœ¬åŠ è½½è¿‡çš„èµ„æº\r\n\t\t/// </summary>\r\n\t\t/// <returns></returns>\r\n\t\tResLoader mResLoader = ResLoader.Allocate ();\r\n  \r\n    ...\r\n  \r\n        void Destroy()\r\n\t\t{\r\n\t\t\t// é‡Šæ”¾æ‰€æœ‰æœ¬è„šæœ¬åŠ è½½è¿‡çš„èµ„æº\r\n\t\t\t// é‡Šæ”¾åªæ˜¯é‡Šæ”¾èµ„æºçš„å¼•ç”¨\r\n\t\t\t// å½“èµ„æºçš„å¼•ç”¨æ•°é‡ä¸º 0 æ—¶ï¼Œä¼šè¿›è¡ŒçœŸæ­£çš„èµ„æºå¸è½½æ“ä½œ\r\n\t\t\tmResLoader.Recycle2Cache();\r\n\t\t\tmResLoader = null;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nåœ¨ä»¥ä¸Šä»£ç ä¸­ï¼ŒTestResKit æ˜¯ä¸€ä¸ªéœ€è¦åŠ è½½èµ„æºçš„å•å…ƒã€‚\r\n\r\n**è¿™ä¸ªå•å…ƒæ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ**\r\n\r\nå…¶å®å¾ˆç®€å•ï¼Œå•å…ƒå¯ä»¥æ˜¯ UIPanel ï¼ˆç•Œé¢ï¼‰ï¼Œæˆ–è€…ä»»ä½•éœ€è¦åŠ è½½èµ„æºæœåŠ¡çš„ MonoBehaviourã€‚\r\n\r\n## ResLoader çš„èŒè´£\r\n\r\nResLoader çš„èŒè´£å­—å¦‚å…¶æ„ï¼Œå°±æ˜¯è´Ÿè´£åŠ è½½èµ„æºçš„ï¼Œå³èµ„æºåŠ è½½å™¨ã€‚\r\n\r\nä¸€ä¸ª ResLoader ä¼šè®°å½•æ‰€æœ‰å®ƒåŠ è½½è¿‡çš„èµ„æºã€‚\r\n\r\nè¿™æ ·å®ƒåœ¨é‡Šæ”¾èµ„æºçš„æ—¶å€™åªéœ€è¦æ ¹æ®åŠ è½½è®°å½•ï¼Œè¿›è¡Œé‡Šæ”¾å³å¯ã€‚\r\n\r\nResLoader ä¸ å•å…ƒï¼ˆTest è„šæœ¬ï¼‰çš„ç¤ºæ„å›¾å¦‚ä¸‹:\r\n![image.png](https://file.liangxiegame.com/296b0166-bdea-47d5-ac87-4b55c91df16f.png)\r\n\r\nè¿™é‡Œæˆ‘ä»¬è¦æ³¨æ„ï¼ŒResLoader ä¸æ˜¯è¿›è¡ŒçœŸæ­£çš„èµ„æºåŠ è½½æ“ä½œï¼Œè€Œæ˜¯è¿›è¡Œèµ„æºçš„å¼•ç”¨è·å–ã€‚\r\n\r\nçœŸæ­£çš„èµ„æºåŠ è½½æ˜¯åœ¨ ResMgr ä¸­å®Œæˆï¼Œè¿™ä¸ªè¿‡ç¨‹ç”¨æˆ·æ˜¯æ— æ³•æ„ŸçŸ¥çš„åˆ°çš„ã€‚\r\n\r\nResLoader è·å–èµ„æºå¼•ç”¨çš„è¿‡ç¨‹å¦‚ä¸‹:\r\n\r\n1. ä» ResLoader çš„å¼•ç”¨è®°å½•ä¸­æŸ¥è¯¢æ˜¯å¦å·²ç»è·å–äº†å¼•ç”¨ï¼Œå¦‚æœä¹‹å‰å·²ç»åœ¨ ResLoader è®°å½•è¿‡èµ„æºå¼•ç”¨åˆ™è¿”å›èµ„æºã€‚å¦åˆ™æ‰§è¡Œ 2.\r\n2. ä» ResMgr ä¸­æŸ¥è¯¢æ˜¯å¦å·²ç»æœ‰èµ„æºå¯¹è±¡ï¼Œå¦‚æœæœ‰èµ„æºå¯¹è±¡ï¼Œè¿”å›èµ„æºï¼Œå¹¶åœ¨ ResLoader ä¸­è®°å½•å¼•ç”¨ï¼ŒåŒæ—¶å¯¹èµ„æºå¯¹è±¡è¿›è¡Œå¼•ç”¨è®¡æ•° +1 æ“ä½œï¼Œå¦åˆ™æ‰§è¡Œ 3.\r\n3. è®© ResMgr è¿›è¡Œèµ„æºåŠ è½½ï¼ŒåŒæ—¶åˆ›å»ºèµ„æºå¯¹è±¡ï¼Œå‰©ä¸‹çš„æ­¥éª¤åŒ 2ã€‚\r\n\r\nå¤§è‡´çš„è®¿é—®èµ„æºçš„è¿‡ç¨‹å°±æ˜¯å¦‚æ­¤ï¼Œä¸ç†è§£çš„ç«¥é‹ä¸è¦ç´§ï¼Œå› ä¸ºå¯¹ä½¿ç”¨ä¸Šæ¥è¯´ä¸é‡è¦ã€‚\r\n\r\næˆ‘ä»¬åªéœ€è¦çŸ¥é“ï¼Œå»ºè®®æ¯ä¸ªéœ€è¦åŠ è½½çš„è„šæœ¬ç”³è¯·ä¸€ä¸ª ResLoaderï¼Œæ˜¯ä¸ºäº†æ›´æ–¹ä¾¿åœ°è®©å¤§å®¶è¿›è¡Œèµ„æºç®¡ç†ã€‚\r\n\r\nä¸ç®¡è¿™ä¸ªè„šæœ¬åŠ è½½è¿‡å¤šå°‘ä¸ªä¸œè¥¿ï¼Œä¹Ÿä¸ç®¡åˆ«çš„è„šæœ¬åŠ è½½è¿‡å¤šå°‘ï¼Œåªéœ€è¦å„è‡ªè„šæœ¬é‡Šæ”¾è‡ªå·±çš„ ResLoader å³å¯ã€‚\r\n\r\nå› ä¸ºæ¯ä¸ªèµ„æºå¯¹è±¡å¯¹é›†æˆäº†å¼•ç”¨è®¡æ•°çš„ã€‚\r\n\r\n## ç”³è¯· ResLoader çš„æ¶ˆè€—\r\n\r\nå‡ ä¹æ²¡æœ‰æ¶ˆè€—ï¼Œå› ä¸º ResLoader æ˜¯ä»å¯¹è±¡æ± ä¸­ç”³è¯·çš„ã€‚\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n## WebGL æ³¨æ„äº‹é¡¹è¡¥å……\r\n\r\nåœ¨ WebGL å¹³å° ResKit åŠ è½½ AssetBundle èµ„æºåªæ”¯æŒå¼‚æ­¥åŠ è½½ã€‚\r\n\r\n\r\nå¼‚æ­¥åˆå§‹åŒ–\r\n```csharp\r\nStartCoroutine(ResKit.InitAsync());\r\n// æˆ–è€…\r\nResKit.InitAsync().ToAction().StartGlobal();\r\n```\r\n\r\nå¼‚æ­¥åŠ è½½èµ„æº\r\n* å…ˆ Add2Load\r\n* å†è°ƒç”¨ LoadAsync()\r\n\r\n\r\nå¥½äº†ï¼ŒResKit çš„åŠŸèƒ½å°±å…¨éƒ¨ä»‹ç»å®Œäº†ã€‚\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n\r\n\r\n\r\n\r\n\r\n# 02. UIKitï¼šç•Œé¢ç®¡ç†&å¿«é€Ÿå¼€å‘è§£å†³æ–¹æ¡ˆ\r\n## UI Kit ç®€ä»‹\r\n\r\nUI Kit æ˜¯ä¸€å¥—ç•Œé¢ç®¡ç†&å¿«é€Ÿå¼€å‘è§£å†³æ–¹æ¡ˆ\r\n\r\nUI Kit çš„ç‰¹æ€§å¦‚ä¸‹ï¼š\r\n\r\n* ç•Œé¢ç®¡ç†\r\n* å±‚çº§ç®¡ç†\r\n* ä»£ç ç”ŸæˆåŠç»„ä»¶è‡ªåŠ¨ç»‘å®šï¼ˆåº•å±‚ç”¨çš„ ViewController)\r\n\r\n\r\n## UI Kit åŸºæœ¬ä½¿ç”¨\r\n\r\nUI Kit æœ¬èº«æœ‰ä¸€å¥—æ¨èä½¿ç”¨çš„å·¥ä½œæµç¨‹ï¼Œè€Œæ­¤å·¥ä½œæµç¨‹çš„è®¾è®¡æ˜¯ä¸ºäº†ä½¿æ¯ä¸ªç•Œé¢åªè´Ÿè´£å±•ç¤ºæ•°æ®å’Œç›‘å¬ç”¨æˆ·è¾“å…¥ï¼Œç•Œé¢ä¸ç•Œé¢ä¹‹é—´äº’ç›¸ç‹¬ç«‹ï¼Œå¹¶ä¸”å¯ç‹¬ç«‹æµ‹è¯•ã€‚\r\n\r\nä¸‹é¢æˆ‘ä»¬å°†ä»‹ç»å¦‚ä½•åˆ¶ä½œä¸€ä¸ªæ¸¸æˆä¸»é¡µï¼ˆUIBasicPanelï¼‰ã€‚\r\n\r\né¦–å…ˆæˆ‘ä»¬å…ˆåˆ›å»ºä¸€ä¸ªåœºæ™¯ï¼šTestUIBasicPanelï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º:\r\n\r\n![image-20220725171613899](https://file.liangxiegame.com/1b23e2de-9af1-4ce7-b5fd-7f1af8f1688b.png)\r\n\r\nåœ¨è¿™é‡Œå¤§å®¶è¦æ³¨æ„ä¸€ä¸‹ï¼ŒUI Kit æ¨èæ¯ä¸ªç•Œé¢åˆ›å»ºä¸€ä¸ªå¯¹åº”çš„æµ‹è¯•åœºæ™¯ï¼Œè¦ä¿è¯æ¯ä¸ªç•Œé¢æ˜¯å¯ä»¥ç‹¬ç«‹æµ‹è¯•çš„ã€‚\r\n\r\n\r\n\r\næ¥ç€æ‰“å¼€ TestUIBasicPanel å¦‚ä¸‹æ‰€ç¤ºï¼š\r\n\r\n![image-20220725171641152](https://file.liangxiegame.com/0f2accd3-1836-4d38-9858-3cc7828dc72f.png)\r\n\r\næˆ‘ä»¬æ‹–å‡ºæ¥ä¸€ä¸ª UIRoot prefabï¼Œå¦‚ä¸‹æ‰€ç¤º:\r\n\r\n![image-20220725171556290](https://file.liangxiegame.com/3804bb25-0112-4798-bee8-d1b9bf13f134.png)\r\n\r\nè¿™é‡Œéå¸¸æ¸…æ™°åœ°å¯ä»¥çœ‹åˆ° UI Kit æ‰€æ”¯æŒçš„æ‰€æœ‰å±‚çº§ã€‚\r\n\r\næ¥ç€æˆ‘ä»¬åœ¨ Design å±‚çº§ä¸‹åˆ›å»ºä¸€ä¸ª Panelï¼ˆå³å‡» Design->UI->Panel) ï¼Œå¹¶å‘½åä¸º UIBasicPanelï¼Œå¦‚ä¸‹æ‰€ç¤º:\r\n\r\n![image-20220725171752004](https://file.liangxiegame.com/6b626de9-223f-4d32-9031-285c1d537c75.png)\r\n\r\nè¿™é‡Œè¦è¯´ä¸€ç‚¹ï¼ŒDesign å±‚çº§ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯ç”¨æ¥åšè®¾è®¡çš„å±‚çº§ï¼Œä»€ä¹ˆæ˜¯è®¾è®¡ï¼Ÿå°±æ˜¯æ‹¼ç•Œé¢ï¼Œè¿™ä¸ªå±‚çº§å°±æ˜¯ä¸“é—¨ç”¨æ¥æ‹¼ç•Œé¢çš„ï¼ŒDesign å±‚çº§ä¼šåœ¨è¿è¡Œçš„æ—¶å€™ä¼šè‡ªåŠ¨éšè—æ‰è‡ªå·±ä»¥åŠæ‰€æœ‰çš„å­èŠ‚ç‚¹ã€‚\r\n\r\nOKï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°† UIBasic åˆ¶ä½œæˆ prefabï¼Œå°†å…¶æ”¾åˆ° Assets/Art/UIPrefabs ç›®å½•ä¸‹ï¼Œå¦‚æœæ²¡æœ‰è¿™ä¸ªç›®å½•å°±è‡ªå·±æ‰‹åŠ¨åˆ›å»ºä¸€ä¸‹ã€‚\r\n\r\næ”¾å…¥åå¦‚ä¸‹å›¾æ‰€ç¤º:\r\n\r\n![image-20220725172338703](https://file.liangxiegame.com/584225aa-eb8a-4a7d-a44e-32ecd6732aa2.png)\r\n\r\nAssets/Art/UIPrefab è¿™ä¸ªç›®å½•æ˜¯æ€ä¹ˆæ¥çš„å‘¢ï¼Ÿå®ƒæ˜¯ QFramework çº¦å®šçš„ä¸“é—¨æ”¾ç½® UI ç•Œé¢ prefab çš„ä½ç½®ã€‚è€Œ Assets/Art æ˜¯æ¡†æ¶æ¨èå­˜æ”¾èµ„æºçš„ä½ç½®ï¼Œå½“ç„¶å…³äºèµ„æºçš„å­˜æ”¾ä½ç½®åªæ˜¯æ¨èï¼Œè€Œä¸æ˜¯å¼ºåˆ¶çš„ã€‚\r\n\r\nä½†æ˜¯ UI ç•Œé¢çš„ prefab å¿…é¡»æ”¾åœ¨ Assets/Art/UIPrefab ç›®å½•ä¸‹ï¼Œå› ä¸ºè¿™ä¸ªéƒ¨åˆ†åœ¨ä»£ç ç”Ÿæˆçš„æ—¶å€™éœ€è¦ã€‚\r\n\r\né‚£ä¹ˆæœ‰çš„ç«¥é‹å¯èƒ½ä¼šé—®ï¼ŒAssets/Art/UIPrefab è¿™ä¸ªè·¯å¾„å¯ä»¥ä¸å¯ä»¥æ›´æ”¹ï¼Ÿ\r\n\r\nå½“ç„¶å¯ä»¥ï¼Œæ›´æ”¹çš„æ–¹å¼ä¹Ÿå¾ˆç®€å•ï¼Œå°±æ˜¯æ‰“å¼€åŒ…ç®¡ç†é¢æ¿(QFramework/Preference ctrl + e)ï¼Œæ‰“å¼€åå¯ä»¥çœ‹åˆ°å¦‚ä¸‹é¢æ¿:\r\n\r\n![image-20220725172030417](https://file.liangxiegame.com/146ffecf-e9b8-46fc-8e6e-1b95832256fd.png)\r\n\r\nè¯¦ç»†çš„è®¾ç½®æ–¹å¼åœ¨ä¸Šè¾¹ä»‹ç»äº†ï¼Œè¿™é‡Œå°±ä¸å¤šä»‹ç»äº†ã€‚\r\n\r\næ¥ä¸‹æ¥éœ€è¦å°† UIHomePanel prefab æ ‡è®°ä¸º AssetBundleï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º:\r\n\r\n![image-20220725172438374](https://file.liangxiegame.com/f999ac89-5b91-453f-a865-1dea7045a1d3.png)\r\n\r\næ ‡è®°æˆåŠŸåã€‚\r\n\r\nä¼šçœ‹åˆ°å¦‚ä¸‹ç»“æœ:\r\n\r\n![image-20220725172140857](https://file.liangxiegame.com/3c313f23-2350-4e88-a7b3-88958e9e6219.png)\r\n\r\næ¥ç€ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œè¦ç¡®ä¿ä¸€ä»¶äº‹æƒ…ï¼Œå°±æ˜¯ Res Kit éœ€è¦ä¿è¯å½“å‰ç¯å¢ƒæ˜¯æ¨¡æ‹Ÿç¯å¢ƒï¼ˆSimulation Modeï¼‰ï¼Œå…·ä½“çœ‹é¢æ¿ä¸­çš„å¦‚ä¸‹é€‰é¡¹æ˜¯å¦æ˜¯å‹¾ä¸Šå³å¯ã€‚\r\n\r\n![image-20220725172213241](https://file.liangxiegame.com/98e4043d-bd1b-4a29-9363-890f9f545b12.png)\r\n\r\nç¡®ä¿å‹¾ä¸Šä¹‹åï¼Œæˆ‘ä»¬å°±å¼€å§‹ç”Ÿæˆä»£ç ï¼Œå…·ä½“æ“ä½œå¦‚ä¸‹æ‰€ç¤ºï¼ˆå³é”®->@UI-Kit Create UI Code):\r\n\r\n![image-20220725172505171](https://file.liangxiegame.com/de51f6ad-fef7-46dd-adee-c286b77511fe.png)\r\n\r\nç‚¹å‡»ä¹‹åç­‰å¾…ç¼–è¯‘ï¼Œç¼–è¯‘ç»“æŸåï¼Œæˆ‘ä»¬çœ‹åˆ°å¦‚ä¸‹ç»“æœ:\r\n\r\n**è„šæœ¬ç”ŸæˆæˆåŠŸ**\r\n\r\n![image-20220725172532517](https://file.liangxiegame.com/7f3959f1-66fc-44de-a8b1-97e31383dcdd.png)\r\n\r\n\r\n\r\n**è„šæœ¬è‡ªåŠ¨æŒ‚è½½äº† UIBasicPanel Prefab ä¸Š**\r\n\r\n![image-20220725172550535](https://file.liangxiegame.com/b386fd53-1f84-4ede-a79c-a20533361fa1.png)\r\n\r\nåˆ°æ­¤ï¼Œä»£ç ç”Ÿæˆéƒ¨åˆ†å°±ä»‹ç»å®Œäº†ã€‚\r\n\r\næ¥ç€ï¼Œæˆ‘ä»¬æƒ³åŠæ³•è®©è¿™ä¸ªåœºæ™¯ç‹¬ç«‹è¿è¡Œã€‚\r\n\r\nç°åœ¨ï¼Œæˆ‘ä»¬ç›´æ¥è¿è¡Œåœºæ™¯ï¼Œæ˜¯ä¸ä¼šåŠ è½½ä»»ä½•ç•Œé¢çš„ï¼Œå¦‚ä¸‹æ‰€ç¤º:\r\n\r\n![image-20220725172721472](https://file.liangxiegame.com/4ecc5084-4f8b-4ac3-a62b-d4b7a4c9967e.png)\r\n\r\nå¦‚ä½•è®©è¿™ä¸ªåœºæ™¯åŠ è½½ UIBasicPanel å‘¢ï¼Ÿ\r\n\r\nå¾ˆç®€å•ï¼Œä½¿ç”¨ UIPanelTester å¦‚ä¸‹æ‰€ç¤º:\r\n\r\n![image-20220725172923702](https://file.liangxiegame.com/dd934412-abfd-4d92-9906-3e084a2b761d.png)\r\n\r\næŒ‰ç…§å›¾ä¸­æ ·å­è®¾ç½®å°±å¥½ï¼Œç„¶åè¿è¡Œåœºæ™¯ã€‚\r\nç»“æœå¦‚ä¸‹:\r\n\r\n![image-20220725173003435](https://file.liangxiegame.com/71acdc41-14a2-42c3-a9c7-6fef2af9757b.png)\r\n\r\nå›¾ä¸­æˆåŠŸåŠ è½½äº†æ”¹ç•Œé¢ã€‚\r\n\r\nè¿™æ ·ï¼Œæœ€åŸºæœ¬çš„ UIBasicPanel æµ‹è¯•åœºæ™¯å°±ç®—æ­å»ºå®Œäº†ï¼ŒåŒæ—¶æˆ‘ä»¬æ˜¯å®Œå…¨æŒ‰ç…§ QFramework æ¨èçš„å·¥ä½œæµç¨‹å®Œæˆçš„ã€‚\r\n\r\nè™½ç„¶æ­¥éª¤ä¼šç¨å¾®ç¹çä¸€ç‚¹ï¼Œä½†æ˜¯ç”¨ä¸€æ®µæ—¶é—´å¤§å®¶å°±ä¼šè§‰å¾—è¿™æ˜¯å€¼å¾—çš„ã€‚\r\n\r\nOKï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ¥ä»‹ç»æ§ä»¶çš„è‡ªåŠ¨ç»‘å®šåŠŸèƒ½ã€‚\r\n\r\n## æ§ä»¶çš„è‡ªåŠ¨ç»‘å®šåŠŸèƒ½\r\n\r\næˆ‘ä»¬åœ¨ UIBasicPanel ä¸Šæ·»åŠ ä¸€äº›æŒ‰é’®ï¼Œå¹¶åœ¨æ¯ä¸ªæŒ‰é’®ä¸ŠæŒ‚ä¸Š Bind è„šæœ¬ï¼Œå¦‚ä¸‹æ‰€ç¤º:\r\n\r\n![image-20220725173212119](https://file.liangxiegame.com/9f099faf-d488-491c-bb74-444816c48d6f.png)\r\n\r\næ¥ç€ Apply UIBasicPanelï¼Œå¦‚ä¸‹æ‰€ç¤º:\r\n\r\n![image-20220725173259294](https://file.liangxiegame.com/5782a40b-f683-41a2-9db7-7481853aa6a8.png)\r\n\r\nè¿™é‡Œè¦æ³¨æ„ï¼Œä¸€å®šè¦é€‰å®š UIBasicPanel å†è¿›è¡Œ Applyï¼Œåƒä¸‡åˆ«é€‰æˆ UIRoot äº†ã€‚\r\n\r\nApply ä¹‹åï¼Œå†æ¬¡ç”Ÿæˆä¸€æ¬¡ä»£ç ï¼Œæ“ä½œå¦‚ä¸‹æ‰€ç¤º:\r\n\r\n![image-20220725172505171](https://file.liangxiegame.com/de51f6ad-fef7-46dd-adee-c286b77511fe.png)\r\n\r\nç”Ÿæˆä¹‹åï¼Œç»“æœå¦‚ä¸‹:\r\n\r\n![image-20220725191039907](https://file.liangxiegame.com/3f332d24-b7cc-403e-a8d0-e628bf186f9e.png)\r\n\r\næ¥ç€ï¼Œæˆ‘ä»¬æ‰“å¼€ UIHomePanel.cs è„šæœ¬ï¼Œè¯•ç€å†™ä¸€äº›ä»£ç :\r\n\r\n```csharp\r\nusing UnityEngine;\r\nusing UnityEngine.UI;\r\nusing QFramework;\r\n\r\nnamespace QFramework.Example\r\n{\r\n\tpublic class UIBasicPanelData : UIPanelData\r\n\t{\r\n\t}\r\n\tpublic partial class UIBasicPanel : UIPanel\r\n\t{\r\n\t\tprotected override void OnInit(IUIData uiData = null)\r\n\t\t{\r\n\t\t\tmData = uiData as UIBasicPanelData ?? new UIBasicPanelData();\r\n\t\t\t\r\n\t\t\tBtnStart.onClick.AddListener(() =>\r\n\t\t\t{\r\n\t\t\t\tDebug.Log(\"å¼€å§‹æ¸¸æˆ\");\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\tprotected override void OnOpen(IUIData uiData = null)\r\n\t\t{\r\n\t\t}\r\n\t\t\r\n\t\tprotected override void OnShow()\r\n\t\t{\r\n\t\t}\r\n\t\t\r\n\t\tprotected override void OnHide()\r\n\t\t{\r\n\t\t}\r\n\t\t\r\n\t\tprotected override void OnClose()\r\n\t\t{\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```\r\n\r\nä»£ç å¾ˆç®€å•ï¼Œä¸»è¦æ˜¯åœ¨ OnInit çš„æ—¶å€™æ³¨å†Œäº† BtnStart æŒ‰é’®ã€‚\r\n\r\næ¥ç€æˆ‘ä»¬è¿è¡Œåœºæ™¯ï¼Œæ¥ç€ç‚¹å‡» BtnStart æŒ‰é’®ï¼Œå¾—åˆ°ç»“æœå¦‚ä¸‹:\r\n![image.png](http://file.liangxiegame.com/70f2fbb8-1267-407a-960f-bb019f114a83.png)\r\n\r\nè¿™æ ·æ§ä»¶è‡ªåŠ¨ç»‘å®šåŠŸèƒ½å°±ä»‹ç»å®Œäº†ã€‚\r\n\r\n\r\n\r\nè‡ªåŠ¨ç»‘å®šçš„åŠŸèƒ½ä¸ View Controller + Bind æ˜¯ä½¿ç”¨çš„æ˜¯åŒä¸€å¥—æœºåˆ¶ã€‚\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n## æ‰“å¼€ã€å…³é—­ç•Œé¢\r\n\r\næˆ‘ä»¬è¿è¡Œ UIBasicPanel æ˜¯é€šè¿‡ UIPanelTester å®ç°çš„ã€‚\r\n\r\nUIPanelTester æ˜¯ä¸€ä¸ª UI ç•Œé¢çš„æµ‹è¯•å™¨ï¼Œå®ƒåªèƒ½åœ¨ç¼–è¾‘å™¨ç¯å¢ƒä¸‹è¿è¡Œã€‚\r\n\r\nçœŸæ­£æ‰“å¼€ä¸€ä¸ª UI ç•Œé¢ï¼Œæ˜¯é€šè¿‡ UIKit.OpenPanel è¿™ä¸ª API å®Œæˆçš„ã€‚\r\n\r\nåªéœ€è¦å†™å¦‚ä¸‹ä»£ç å³å¯:\r\n\r\n```csharp\r\nUIKit.OpenPanel<UIBasicPanel>();\r\n```\r\n\r\nä»£ç éå¸¸ç®€å•ã€‚\r\n\r\nè€Œæˆ‘ä»¬è¦å…³é—­æ‰ä¸€ä¸ª UI ç•Œé¢ä¹Ÿæ¯”è¾ƒå®¹æ˜“ï¼Œä»£ç å¦‚ä¸‹:\r\n\r\n```csharp\r\nUIKit.ClosePanel<UIBasicPanel>();\r\n```\r\n\r\nå¦‚æœæ˜¯åœ¨ä¸€ä¸ªç•Œé¢å†…éƒ¨å…³æ‰è‡ªå·±çš„è¯ï¼Œä»£ç å¦‚ä¸‹:\r\n\r\n```csharp\r\nthis.CloseSelf(); // this ç»§æ‰¿è‡ª UIPanel \r\n```\r\n\r\nOKï¼Œåˆ°æ­¤æˆ‘ä»¬æ¥è§¦äº† 3 ä¸ª APIï¼š\r\n\r\n* UIKit.OpenPanel\\<T\\>();\r\n* UIKit.ClosePanel\\<T\\>();\r\n* UIPanel.CloseSelf();\r\n\r\nåè¾¹çš„ä¸¤ä¸ªæ²¡ä»€ä¹ˆå¥½è®²çš„ï¼Œå¾ˆç®€å•ï¼Œä½†æ˜¯ç¬¬ä¸€ä¸ª API æ¯”è¾ƒé‡è¦ï¼Œå› ä¸ºå®ƒæœ‰ä¸€äº›å‚æ•°æˆ‘ä»¬å¯ä»¥å¡«ã€‚\r\n\r\n## UIKit.OpenPanel\r\n\r\nUIKit.OpenPanel çš„å‚æ•°å®šä¹‰åŠé‡è½½å¦‚ä¸‹ï¼š\r\n\r\n```csharp\r\npublic static T OpenPanel<T>(UILevel canvasLevel = UILevel.Common, IUIData uiData = null,\r\n            string assetBundleName = null,\r\n            string prefabName = null) where T : UIPanel\r\n{\r\n\t...\r\n}\r\n\r\npublic static T OpenPanel<T>(IUIData uiData, PanelOpenType panelOpenType = PanelOpenType.Single,\r\n            string assetBundleName = null,\r\n            string prefabName = null) where T : UIPanel\r\n{\r\n\t...\r\n}\r\n\r\npublic static UIPanel OpenPanel(string panelName, UILevel level = UILevel.Common, string assetBundleName = null)\r\n{\r\n\t...\r\n}\r\n```\r\n\r\n\r\n\r\næ‰€æœ‰å‚æ•°å¦‚ä¸‹ï¼š\r\n\r\n* canvasLevelï¼šç•Œé¢åœ¨å“ªä¸ªå±‚çº§æ‰“å¼€\r\n  * é»˜è®¤å€¼ï¼šCommon\r\n* uiDataï¼šæ‰“å¼€æ—¶å¯ä»¥ç»™ç•Œé¢ä¼ çš„åˆå§‹æ•°æ®\r\n  * é»˜è®¤å€¼ï¼šnull\r\n* assetBundleNameï¼šç•Œé¢èµ„æºæ‰€åœ¨çš„ assetBundle å\r\n  * é»˜è®¤å€¼ï¼šnull\r\n* prefabNameï¼šå¦‚æœç•Œé¢åå­—å’Œ prefab åå­—ä¸åŒï¼Œåˆ™ä»¥è¿™ä¸ªå‚æ•°ä¸ºå‡†å»åŠ è½½ç•Œé¢èµ„æº\r\n  * é»˜è®¤å€¼ï¼šnull\r\n\r\néƒ½æœ‰é»˜è®¤å€¼ï¼Œæ‰€ä»¥è¿™å››ä¸ªå‚æ•°éƒ½å¯ä»¥ä¸ç”¨ä¼ ã€‚\r\n\r\nä¸è¿‡è¿™å››ä¸ª API åœ¨æŸç§æƒ…å†µä¸‹éå¸¸å®ç”¨ã€‚\r\n\r\nä¸‹è¾¹ä¸¾ä¸€äº›ä¾‹å­ã€‚\r\n\r\n```csharp\r\n// åœ¨ Forward å±‚çº§æ‰“å¼€\r\nUIKit.OpenPanel<UIBasicPanel>(UILevel.Forward);\r\n\r\n// ä¼ é€’åˆå§‹æ•°æ®ç»™ UIHomePanel\r\nUIKit.OpenPanel<UIBasicPanel>(new UIHomePanelData()\r\n{\r\n    Coin = 10\r\n});\r\n            \r\n// ä» UIHomePanelTest.prefab åŠ è½½ç•Œé¢ \r\nUIKit.OpenPanel<UIBasicPanel>(prefabName: \"UIBasicPanel\");\r\n```\r\n\r\néƒ½æ¯”è¾ƒå®¹æ˜“ç†è§£ã€‚\r\n\r\næœ‰çš„ç«¥é‹å¯èƒ½ä¼šé—®ï¼Œæˆ‘ä»¬ç»™ UIHomePanel ä¼ é€’çš„  UIHomePanelDataï¼Œåœ¨å“ªé‡Œä½¿ç”¨å‘¢ï¼Ÿ\r\n\r\nç­”æ¡ˆæ˜¯åœ¨ï¼ŒOnInit å’Œ OnOpen ä¸­ï¼Œå¦‚ä¸‹æ‰€ç¤º:\r\n\r\n```csharp\r\nnamespace QFramework.Example\r\n{\r\n    using System;\r\n    using System.Collections;\r\n    using System.Collections.Generic;\r\n    using System.Linq;\r\n    using UnityEngine;\r\n    using UnityEngine.UI;\r\n    \r\n    \r\n    public class UIBasicPanelData : QFramework.UIPanelData\r\n    {\r\n        public int Coin;\r\n    }\r\n    \r\n    public partial class UIBasicPanel : QFramework.UIPanel\r\n    {\r\n        protected override void OnInit(QFramework.IUIData uiData)\r\n        {\r\n            mData = uiData as UIBasicPanelData ?? new UIBasicPanelData();\r\n            // please add init code here\r\n            \r\n            // å¤–è¾¹ä¼ è¿›æ¥çš„ï¼Œç¬¬ä¸€æ¬¡åˆå§‹åŒ–çš„æ—¶å€™ä½¿ç”¨\r\n            Debug.Log(mData.Coin);\r\n        }\r\n        \r\n        protected override void OnOpen(QFramework.IUIData uiData)\r\n        {\r\n            // æ¯æ¬¡ OpenPanel çš„æ—¶å€™ä½¿ç”¨\r\n            Debug.Log((uiData as UIBasicPanelData).Coin);\r\n        }\r\n        \r\n        protected override void OnShow()\r\n        {\r\n\r\n        }\r\n        \r\n        protected override void OnHide()\r\n        {\r\n        }\r\n        \r\n        protected override void OnClose()\r\n        {\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nä¸ºä»€ä¹ˆè¦è¿™æ ·åšå‘¢ï¼Ÿ\r\n\r\nç¬”è€…è®¤ä¸ºï¼Œç•Œé¢æœ‰ä¸¤ç§æ˜¾ç¤ºæ•°æ®çš„ç”¨æ³•ï¼Œä¸€ç§æ˜¯æœ‰çš„ç•Œé¢æ˜¯éœ€è¦ä»å¤–è¾¹å¡«å……çš„ï¼Œæ¯”å¦‚è­¦å‘Šã€å¼¹æ¡†ã€æˆ–è€…é“å…·ä¿¡æ¯é¡µé¢ç­‰ã€‚å¦ä¸€ç§ç•Œé¢æ˜¯éœ€è¦è‡ªå·±è·å–æ•°æ®å¹¶å±•ç¤ºçš„ï¼Œæ¯”å¦‚æ¸¸æˆä¸­çš„ä¸»è§’é‡‘å¸ã€ç­‰çº§ã€ç»éªŒå€¼ç­‰ã€‚\r\n\r\n\r\n\r\nå¦‚æœç•Œé¢çš„æ•°æ®éƒ½ä»å¤–è¾¹å¡«å……ï¼Œé‚£ä¹ˆè¿™ä¸ªç•Œé¢ä¼šæ‹¥æœ‰æ›´å¥½çš„å¯å¤ç”¨æ€§ã€‚\r\n\r\n\r\n\r\nå½“ç„¶éœ€è¦ä¸€ä¸ªå¯å¤ç”¨æ€§çš„ç•Œé¢è¿˜æ˜¯éœ€è¦ä¸€ä¸ªæ™®é€šç•Œé¢å°±çœ‹å¤§å®¶çš„éœ€æ±‚äº†ï¼Œå¹¶ä¸æ˜¯è¯´æœ‰å¯å¤ç”¨æ€§çš„ç•Œé¢å°±æ˜¯å¥½çš„ã€‚\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n\r\n## å¼‚æ­¥åŠ è½½ç•Œé¢\r\n\r\n```csharp\r\nStartCoroutine(UIKit.OpenPanelAsync<UIHomePanel>());\r\n// æˆ–è€…\r\nUIKit.OpenPanelAsync<UIHomePanel>().ToAction().Start(this);\r\n```\r\n\r\nåœ¨ WebGL å¹³å°ä¸Š, AssetBundle åŠ è½½èµ„æºåªæ”¯æŒå¼‚æ­¥åŠ è½½ï¼Œæ‰€ä»¥ä¸ºæ­¤æä¾›äº† UIKit çš„å¼‚æ­¥åŠ è½½æ”¯æŒã€‚\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n\r\n\r\n\r\n\r\n\r\n## UIPanel ç”Ÿå‘½å‘¨æœŸ\r\n\r\næˆ‘ä»¬å…ˆçœ‹ä¸‹  UIBasicPanel çš„ä»£ç ï¼Œå¦‚ä¸‹:\r\n\r\n```csharp\r\nnamespace QFramework.Example\r\n{\r\n    using System;\r\n    using System.Collections;\r\n    using System.Collections.Generic;\r\n    using System.Linq;\r\n    using UnityEngine;\r\n    using UnityEngine.UI;\r\n    \r\n    \r\n    public class UIBasicPanelData : QFramework.UIPanelData\r\n    {\r\n    }\r\n    \r\n    public partial class UIBasicPanel : QFramework.UIPanel\r\n    {        \r\n        protected override void OnInit(QFramework.IUIData uiData)\r\n        {\r\n            mData = uiData as UIHomePanelData ?? new UIHomePanelData();\r\n            // please add init code here\r\n            \r\n            \r\n        }\r\n        \r\n        protected override void OnOpen(QFramework.IUIData uiData)\r\n        {\r\n        }\r\n        \r\n        protected override void OnShow()\r\n        {\r\n\r\n        }\r\n        \r\n        protected override void OnHide()\r\n        {\r\n        }\r\n        \r\n        protected override void OnClose()\r\n        {\r\n        }\r\n    }\r\n}\r\n```\r\n\r\né»˜è®¤çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°å¦‚ä¸‹:\r\n\r\n* OnInit\r\n* OnOpen\r\n* OnShow\r\n* OnHide\r\n* OnClose\r\n\r\nOnInit åˆ™æ˜¯åœ¨ UIPanel æ‰€åœ¨çš„ prefab åˆå§‹åŒ–çš„æ—¶å€™è¿›è¡Œè°ƒç”¨çš„ï¼Œåœ¨è°ƒç”¨ UIKit.OpenPanel æ—¶ï¼Œåªè¦åœ¨ UIKit ä¸­æ²¡æœ‰å¯¹åº”çš„ç¼“å­˜ç•Œé¢æ—¶ï¼Œå°±ä¼šè°ƒç”¨ä¸€æ¬¡ OnInit è¿™ä¸ªå‘¨æœŸã€‚\r\n\r\nOnOpen å°±æ˜¯æ¯æ¬¡ UIKit.OpenPanel è°ƒç”¨æ—¶ï¼Œå°±ä¼šè°ƒç”¨ã€‚\r\n\r\nOnShow  å®é™…ä¸Šè°ƒç”¨æ—¶æœºä¸ UIKit.OpenPanel æ˜¯ä¸€æ ·çš„ï¼Œåªä¸è¿‡ OnShow æ˜¯æœ€åˆç‰ˆæœ¬é—ç•™ä¸‹æ‹‰çš„ APIï¼Œæ‰€ä»¥å°±ä¿ç•™äº†ã€‚å½“ç„¶è¿˜æœ‰ UIMgr.ShowPanel è°ƒç”¨æ—¶ï¼ŒOnShow ä¼šè¢«è°ƒç”¨\r\n\r\nOnHide åˆ™æ˜¯åœ¨ UIKit.HidePanel è°ƒç”¨æ—¶ï¼ŒOnHide ä¼šè¢«è°ƒç”¨ã€‚\r\n\r\næœ€å OnClose å°±æ˜¯åœ¨ UIKit.ClosePanel è°ƒç”¨æ—¶ï¼Œå°±ä¼šè§¦å‘ï¼Œå®é™…ä¸Š OnClose ç›¸å½“äº OnDestory è¿™ä¸ªå‘¨æœŸã€‚\r\n\r\nå¤§æ¦‚å°±è¿™äº›ï¼Œå…¶ä¸­ UIKit.OpenPanel ä¼šè§¦å‘èµ„æºçš„åŠ è½½å’Œåˆå§‹åŒ–æ“ä½œï¼Œè€Œ UIKit.ClosePanel åˆ™ä¼šè§¦å‘å¸è½½å’Œé”€æ¯æ“ä½œï¼Œåªè¦è®°å¾—è¿™ä¸¤ç‚¹å°±å¥½ã€‚\r\n\r\nç¬”è€…åŸºæœ¬ä¸Šå°±åªä¼šç”¨åˆ° OnInit å’Œ OnClose è¿™äº›å‘¨æœŸï¼Œå¶å°”ä¼šç”¨ä¸€ç”¨ OnOpenã€‚\r\n\r\n\r\n\r\nOKï¼Œæ­¤ç¯‡çš„å†…å®¹å°±è¿™äº›ã€‚\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n\r\n\r\n\r\n\r\n\r\n\r\n## UIKit å‰©ä¸‹çš„å¸¸ç”¨ API\r\n\r\n### UIKit.Root.SetResolution\r\n\r\nå‚æ•°å®šä¹‰å¦‚ä¸‹ï¼š\r\n\r\n![image.png](http://file.liangxiegame.com/bac63766-0f9a-4d9c-92fd-cb6b90324262.png)\r\n\r\nå¯¹åº” UIRoot ä¸Šçš„ Canvas Scaler å¦‚ä¸‹:\r\n\r\n![image.png](http://file.liangxiegame.com/bc2c2122-c559-48bf-8b2f-ea4609826493.png)\r\n\r\nå¤§éƒ¨åˆ†é¡¹ç›®ï¼Œç”¨è¿™ä¸ª API åšå±å¹•é€‚é…è¶³å¤Ÿäº†ã€‚\r\n\r\n### UIKit.Root.Camera\r\n\r\nè·å– UIRoot çš„æ‘„åƒæœºã€‚\r\n\r\n```csharp\r\nvar uiCamera = UIKit.Root.Camera;\r\n```\r\n\r\n### UIKit.Stack.Pushã€UIPanel.Backï¼ˆPopï¼‰\r\n\r\næœ‰çš„æ—¶å€™ï¼ŒUI éœ€è¦å®ç°ä¸€ä¸ª UI ç•Œé¢çš„å †æ ˆï¼Œä»¥ä¾¿äºæ”¯æŒè¿”å›ä¸Šä¸€é¡µè¿™æ ·çš„æ“ä½œã€‚\r\n\r\nè¿™ä¸ªæ—¶å€™å°±å¯ä»¥ç”¨ Push å’Œ UIPanel.Back å®ç°ã€‚\r\n\r\nç¤ºä¾‹ä»£ç :\r\n\r\n```csharp\r\nUIKit.Stack.Push(this); // this æ˜¯ Panel\r\n// UIHomePanel éœ€è¦ç¡®ä¿æ˜¯æ‰“å¼€çš„çŠ¶æ€ï¼Œå¦‚æœä¸æ‰“å¼€ä¼šæŠ¥é”™ã€‚\r\nUIKit.Stack.Push<UIHomePanel>();\r\n            \r\nthis.Back(); // å¼¹å‡º UIHomePanel\r\nthis.Back(); // å¼¹å‡º this\r\n```\r\n\r\néå¸¸ç®€å•ã€‚\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n## UIPanel è‡ªåŠ¨ç”Ÿæˆå·¥å…·\r\n\r\nåœ¨æ­¤ç¯‡çš„æœ€å¼€å§‹ï¼Œç¬”è€…æ‰‹åŠ¨åˆ›å»ºäº†ä¸€å¥—å›´ç»• UIBasicPanel çš„æµ‹è¯•ã€å¼€å‘åœºæ™¯ï¼Œå…¶è¿‡ç¨‹æ¯”è¾ƒç¹çã€‚\r\n\r\nä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œç¬”è€…å†™äº†ä¸€ä¸ªç®€å•çš„ UIPanel è‡ªåŠ¨ç”Ÿæˆå·¥å…·ã€‚\r\n\r\næ¥ä¸‹æ¥çœ‹ä¸‹å®ƒçš„åŸºæœ¬ä½¿ç”¨æµç¨‹ã€‚\r\n\r\n### åŸºæœ¬ä½¿ç”¨\r\n\r\né¦–å…ˆï¼Œå¿«æ·é”® ctrl + e æ‰“å¼€ PackageKit é¢æ¿ï¼Œå¦‚ä¸‹:\r\n\r\n![image-20220725213353833](https://file.liangxiegame.com/12dcb73a-c255-45f4-869e-a00700d3b3c1.png)\r\n\r\nåœ¨ä¸Šå›¾ä¸­ç•Œé¢åå­—çš„è¾“å…¥æ¡†ä¸­è¾“å…¥ Game/UIGamePanelï¼Œç„¶åç‚¹å‡»åˆ›å»º UI Panelï¼Œå¦‚ä¸‹æ‰€ç¤º:\r\n\r\n![image-20220725213736831](https://file.liangxiegame.com/19dfe911-4cdd-4432-a99c-00423b38d781.png)\r\n\r\n\r\n\r\nè¾“å…¥ä¹‹åå¯ä»¥çœ‹åˆ°å³å°†ç”Ÿæˆæ–‡ä»¶çš„é¢„è§ˆã€‚\r\n\r\nåœ¨è¿™ä¸ªé¢æ¿ä¸­ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥è®¾ç½® åˆ†è¾¨ç‡ä¸é€‚é…å¯¹é½ï¼Œè¿˜æœ‰æ¨¡å—çš„ç›®å½•ï¼Œå¦‚æœä¸æƒ³åœ¨æ›´ç›®å½•åˆ›å»ºæŒ‰ç…§è§„èŒƒç”Ÿæˆæ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥åœ¨å…¶ä»–å­ç›®å½•ä¸­åˆ›å»ºã€‚\r\n\r\næˆ‘ä»¬ç‚¹å‡» \"åˆ›å»º UI Panel\" è¿™ä¸ªæŒ‰é’®ã€‚\r\n\r\n\r\n\r\nç‚¹å‡»ä¹‹åç»“æœå¦‚ä¸‹:\r\n\r\n\r\n\r\n![image-20220725214053092](https://file.liangxiegame.com/daf92af1-1e66-4b86-bf4b-e331c272570b.png)\r\n\r\n\r\n\r\nç›¸å…³çš„ prefabï¼Œåœºæ™¯ã€è„šæœ¬éƒ½ç”Ÿæˆå¥½äº†ï¼Œå°±è¿ AssetBundle ä¹Ÿéƒ½æ ‡è®°å¥½äº†ï¼Œå¦‚ä¸‹:\r\n\r\n\r\n\r\n![image-20220725214155564](https://file.liangxiegame.com/a0a6c3e3-c4b6-4602-8b92-a47506714a98.png)\r\n\r\nè¿™å°±æ˜¯è¿™ä¸ªå·¥å…·çš„ä¸€ä¸ªç”¨å¤„ï¼Œéå¸¸æ–¹ä¾¿ï¼Œè§£å†³äº†ç¬”è€…å¤§é‡çš„å¼€å‘å·¥ä½œé‡ã€‚\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n## UI Element ç®€ä»‹\r\n\r\nåœ¨å‰ç¯‡ï¼Œæˆ‘ä»¬äº†è§£åˆ°ï¼Œä¸€ä¸ª UIPanel æ˜¯å¯ä»¥è‡ªåŠ¨ç»‘å®šå‡ ä¸ª å­æ§ä»¶çš„ï¼ˆBindï¼‰ã€‚ä½†æ˜¯å½“ä¸€ä¸ªç•Œé¢ç»“æ„æ¯”è¾ƒå¤æ‚çš„æ—¶å€™ï¼Œä¸å¯èƒ½ä¸€ä¸ª UIPanel ç®¡ç†æ•°åä¸ª Bindï¼Œè¿™æ—¶å€™å°±éœ€è¦å¯¹ Bind è¿›è¡Œä¸€äº›æ‰“ç»„æ“ä½œã€‚æˆ‘ä»¬çš„ UIElement å°±å¯ä»¥ç™»åœºäº†ã€‚\r\n\r\n## UIElement åŸºæœ¬ä½¿ç”¨\r\n\r\nä½¿ç”¨æ–¹å¼éå¸¸ç®€å•ï¼Œå°±æ˜¯å°† Bind ä¸­çš„ æ ‡è®°ç±»å‹ æ”¹æˆ Elementå³å¯,å¦‚ä¸‹æ‰€ç¤ºã€‚\r\n\r\n![image.png](https://file.liangxiegame.com/47b78081-62cd-41e2-b96b-47383dc80e04.png)\r\n\r\n![image.png](https://file.liangxiegame.com/b9533003-b30b-406e-b14c-4f8f777b1e95.png)\r\n\r\nå¹¶ä¸”è¦ç»™ ç”Ÿæˆç±»å å¡«å†™ä¸€ä¸ªåå­—ï¼Œè¿™ä¸ªåå­—å†³å®šç”Ÿæˆçš„ç±»çš„åå­—ã€‚è¿™é‡Œå¡«å†™äº† UIAboutSubPanelã€‚\r\n\r\n\r\nä¹‹åè¿›è¡Œ Apply æ“ä½œã€‚\r\n\r\n![image-20220728141929443](https://file.liangxiegame.com/46876a38-e980-49a8-bbc8-59e74f968f3d.png)\r\n\r\n\r\n\r\næ³¨æ„è¿™é‡Œ Apply çš„æ˜¯ UIBasicPanelã€‚\r\n\r\næ¥ç€ç”Ÿæˆä»£ç ï¼Œ å¦‚ä¸‹:\r\n\r\n![image-20220728142010223](https://file.liangxiegame.com/800b53e4-0d6a-43f4-9aa1-ce3815d5fc87.png)\r\n\r\n\r\nç­‰å¾…ç¼–è¯‘åï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\r\n\r\n\r\n\r\n![image-20220728142048854](https://file.liangxiegame.com/3c05a2b9-f815-421b-b0b4-379a0477e401.png)\r\n\r\n\r\n\r\n\r\n\r\nBtnClose ç”± UIAboutSubPanel ç®¡ç†äº†\r\n\r\n![image-20220728142125763](https://file.liangxiegame.com/956e3e01-32a3-4582-a691-59e2d9e647de.png)\r\n\r\næˆ‘ä»¬çœ‹ä¸‹è„šæœ¬ç›®å½•:\r\n\r\n![image-20220728142202239](https://file.liangxiegame.com/76847346-79ad-4003-84f7-6111152e457a.png)\r\n\r\nç›®å½•ç”Ÿæˆäº†ä¸€ä¸ªæ–°çš„æ–‡ä»¶å¤¹ï¼Œæ˜¯ä»¥çˆ¶ Panel ï¼ˆUIBasicPanelï¼‰ä¸ºåçš„ã€‚\r\n\r\næ‰“å¼€ UIAboutSubPanel è„šæœ¬ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤º:\r\n\r\n```csharp\r\n/****************************************************************************\r\n * 2022.7 LIANGXIEWIN\r\n ****************************************************************************/\r\n\r\nusing System;\r\nusing System.Collections.Generic;\r\nusing UnityEngine;\r\nusing UnityEngine.UI;\r\nusing QFramework;\r\n\r\nnamespace QFramework.Example\r\n{\r\n\tpublic partial class SubPanel1 : UIElement\r\n\t{\r\n\t\tprivate void Awake()\r\n\t\t{\r\n\t\t}\r\n\r\n\t\tprotected override void OnBeforeDestroy()\r\n\t\t{\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nå†çœ‹ä¸‹ UILoginView.Designer.cs è„šæœ¬ï¼Œå¦‚ä¸‹æ‰€ç¤º:\r\n\r\n```csharp\r\n/****************************************************************************\r\n * 2022.7 LIANGXIEWIN\r\n ****************************************************************************/\r\n\r\nusing UnityEngine;\r\nusing UnityEngine.UI;\r\nusing QFramework;\r\n\r\nnamespace QFramework.Example\r\n{\r\n\tpublic partial class SubPanel1\r\n\t{\r\n\t\t[SerializeField] public UnityEngine.UI.Button BtnStart2;\r\n\t\t[SerializeField] public UnityEngine.UI.Button BtnStart3;\r\n\r\n\t\tpublic void Clear()\r\n\t\t{\r\n\t\t\tBtnStart2 = null;\r\n\t\t\tBtnStart3 = null;\r\n\t\t}\r\n\r\n\t\tpublic override string ComponentName\r\n\t\t{\r\n\t\t\tget { return \"SubPanel1\";}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nç»“æ„ä¸ä¹‹å‰çš„ UIBasicPanel éå¸¸ç›¸ä¼¼ã€‚\r\n\r\næ¥ä¸‹æ¥ï¼Œå°±å¯ä»¥å†™ä¸€äº›ä¸å­æ¨¡å—ç›¸å…³çš„é€»è¾‘äº†ï¼Œå…³äº UIElement çš„åŸºæœ¬ä½¿ç”¨å°±ä»‹ç»åˆ°è¿™é‡Œã€‚\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n\r\n\r\n\r\n\r\n## åŒä¸€ä¸ªç±»å‹çš„ç•Œé¢æ‰“å¼€å¤šä¸ª\r\n\r\n```csharp\r\nUIKit.OpenPanel<UIMultiPanel>(new UIMultiPanelData(), PanelOpenType.Multiple);\r\n```\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n## å¦‚ä½•è‡ªå®šä¹‰ç•Œé¢åŠ è½½æ–¹å¼?\r\n\r\n\r\n\r\nç»§æ‰¿ AbstractPanelLoaderPool ç±»ï¼Œå†å®ç°ä¸€ä¸ª IPanelLoader çš„ç±»ï¼Œå‚è€ƒä»£ç å¦‚ä¸‹:\r\n\r\n\r\n\r\n```csharp\r\nusing System;\r\nusing UnityEngine;\r\n\r\nnamespace QFramework.Example\r\n{\r\n    public class CustomPanelLoaderExample : MonoBehaviour\r\n    {\r\n        public class ResourcesPanelLoaderPool : AbstractPanelLoaderPool\r\n        {\r\n            /// <summary>\r\n            /// Load Panel from Resources\r\n            /// </summary>\r\n            public class ResourcesPanelLoader : IPanelLoader\r\n            {\r\n                private GameObject mPanelPrefab;\r\n\r\n                public GameObject LoadPanelPrefab(PanelSearchKeys panelSearchKeys)\r\n                {\r\n                    mPanelPrefab = Resources.Load<GameObject>(panelSearchKeys.GameObjName);\r\n                    return mPanelPrefab;\r\n                }\r\n\r\n                public void LoadPanelPrefabAsync(PanelSearchKeys panelSearchKeys, Action<GameObject> onPanelLoad)\r\n                {\r\n                    var request = Resources.LoadAsync<GameObject>(panelSearchKeys.GameObjName);\r\n\r\n                    request.completed += operation => { onPanelLoad(request.asset as GameObject); };\r\n                }\r\n\r\n                public void Unload()\r\n                {\r\n                    mPanelPrefab = null;\r\n                }\r\n            }\r\n\r\n            protected override IPanelLoader CreatePanelLoader()\r\n            {\r\n                return new ResourcesPanelLoader();\r\n            }\r\n        }\r\n\r\n        void Start()\r\n        {\r\n            // æ¸¸æˆå¯åŠ¨æ—¶ï¼Œè®¾ç½®ä¸€æ¬¡\r\n            UIKit.Config.PanelLoaderPool = new ResourcesPanelLoaderPool();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nå¦‚æœæƒ³è¦æ”¯æŒ å…¶ä»–æ–¹å¼åŠ è½½ç•Œé¢åˆ™å¯ä»¥é€šè¿‡æ­¤æ–¹å¼å®šåˆ¶ã€‚\r\n\r\n\r\n\r\nå¦å¤–ï¼ŒQFramework ä¸­çš„ UIKit é»˜è®¤ä½¿ç”¨ ResKit çš„æ–¹å¼åŠ è½½ç•Œé¢ã€‚\r\n\r\n\r\n\r\nå¯ä»¥åœ¨ QFramework æºç ä¸­çœ‹åˆ°å¦‚ä¸‹ä»£ç :\r\n\r\n\r\n\r\n```csharp\r\nusing System;\r\nusing UnityEngine;\r\n\r\nnamespace QFramework\r\n{\r\n    public class UIKitWithResKitInit\r\n    {\r\n        [RuntimeInitializeOnLoadMethod(RuntimeInitializeLoadType.BeforeSceneLoad)]\r\n        public static void Init()\r\n        {\r\n            UIKit.Config.PanelLoaderPool = new ResKitPanelLoaderPool();\r\n        }\r\n    }\r\n    \r\n    ...\r\n}\r\n```\r\n\r\n\r\n\r\nå¦‚æœæƒ³è¦ä½¿ç”¨è‡ªå®šä¹‰çš„æ–¹å¼åŠ è½½ç•Œé¢ï¼Œéœ€è¦å°†ä»¥ä¸Šä»£ç æ³¨é‡Šæ‰ã€‚\r\n\r\n\r\n\r\nå¥½äº†ï¼Œå…³äº UIKit è‡ªå®šä¹‰åŠ è½½ç•Œé¢å°±ç®€å•ä»‹ç»åˆ°è¿™é‡Œã€‚\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n# 03. AudioKit éŸ³é¢‘ç®¡ç†è§£å†³æ–¹æ¡ˆ\r\n## åŸºæœ¬ä½¿ç”¨\r\n\r\nAudioKit éŸ³é¢‘æ’­æ”¾ç›¸å…³çš„åŠŸèƒ½å¦‚ä¸‹:\r\n* æ’­æ”¾èƒŒæ™¯éŸ³ä¹ï¼ŒåŒä¸€æ—¶é—´åªèƒ½æ’­æ”¾ä¸€ä¸ªéŸ³ä¹ï¼Œæ’­æ”¾åˆ«çš„éŸ³ä¹ä¼šç›´æ¥å¸è½½æ‰æ­£åœ¨æ’­æ”¾çš„éŸ³ä¹ã€‚\r\n* æ’­æ”¾éŸ³æ•ˆï¼ŒåŒä¸€æ—¶é—´å¯ä»¥æ’­æ”¾å¤šä¸ªéŸ³æ•ˆï¼Œå½“å¤šäººè¯´è¯æ—¶ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥æ’­æ”¾äººå£°ã€‚\r\n* æ’­æ”¾äººå£°ï¼Œä¸æ’­æ”¾èƒŒæ™¯éŸ³ä¹ä¸€è‡´ï¼ŒåŒä¸€æ—¶é—´åªèƒ½æ’­æ”¾ä¸€ä¸ªäººå£°ï¼Œç”¨äºæ’­æ”¾ä¸€äº›æ—ç™½ä¹‹ç±»çš„å£°éŸ³éå¸¸é€‚åˆã€‚\r\n\r\nå¯¹åº”çš„ API è°ƒç”¨æ–¹å¼å¦‚ä¸‹:\r\n\r\n```csharp\r\nbtnPlayGame.onClick.AddListener(() => { AudioKit.PlayMusic(\"resources://game_bg\"); });\r\n\r\nbtnPlaySound.onClick.AddListener(() => { AudioKit.PlaySound(\"resources://game_bg\"); });\r\n\r\nbtnPlayVoiceA.onClick.AddListener(() => { AudioKit.PlayVoice(\"resources://game_bg\"); });\r\n```\r\n\r\n\r\nAudioKit è®¾ç½®ç›¸å…³çš„åŠŸèƒ½å¦‚ä¸‹:\r\n* èƒŒæ™¯éŸ³ä¹å¼€å…³\r\n* éŸ³æ•ˆå¼€å…³\r\n* äººå£°å¼€å…³\r\n\r\nè°ƒç”¨ç¤ºä¾‹å¦‚ä¸‹ï¼š\r\n\r\n```csharp\r\nbtnSoundOn.onClick.AddListener(() => { AudioKit.Settings.IsSoundOn.Value = true; });\r\n\r\nbtnSoundOff.onClick.AddListener(() => { AudioKit.Settings.IsSoundOn.Value = false; });\r\n\r\nbtnMusicOn.onClick.AddListener(() => { AudioKit.Settings.IsMusicOn.Value = true; });\r\n\r\nbtnMusicOff.onClick.AddListener(() => { AudioKit.Settings.IsMusicOn.Value = false; });\r\n\r\nbtnVoiceOn.onClick.AddListener(() => { AudioKit.Settings.IsVoiceOn.Value = true; });\r\n\r\nbtnVoiceOff.onClick.AddListener(() => { AudioKit.Settings.IsVoiceOn.Value = false; });\r\n```\r\nè¿™æ˜¯æ‰“å¼€å£°éŸ³è¿™ä¸ªåŠŸèƒ½çš„ä½¿ç”¨æ–¹å¼ã€‚\r\n\r\n\r\nè°ƒæ•´éŸ³é‡å¤§å°çš„ä»£ç å¦‚ä¸‹:\r\n\r\n```csharp\r\nAudioKit.Settings.MusicVolume.RegisterWithInitValue(v => musicVolumeSlider.value = v);\r\nAudioKit.Settings.VoiceVolume.RegisterWithInitValue(v => voiceVolumeSlider.value = v);\r\nAudioKit.Settings.SoundVolume.RegisterWithInitValue(v => soundVolumeSlider.value = v);\r\n            \r\nmusicVolumeSlider.onValueChanged.AddListener(v => { AudioKit.Settings.MusicVolume.Value = v; });\r\nvoiceVolumeSlider.onValueChanged.AddListener(v => { AudioKit.Settings.VoiceVolume.Value = v; });\r\nsoundVolumeSlider.onValueChanged.AddListener(v => { AudioKit.Settings.SoundVolume.Value = v; });\r\n```\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n## å¦‚ä½•è‡ªå®šä¹‰éŸ³é¢‘åŠ è½½\r\n\r\nä¸ UIKit ä¸€æ ·, AudioKit ä¹Ÿæ”¯æŒäº†è‡ªå®šä¹‰éŸ³é¢‘åŠ è½½çš„æ–¹å¼ã€‚\r\n\r\nå‚è€ƒä»£ç å¦‚ä¸‹:\r\n\r\n```csharp\r\nusing System;\r\nusing UnityEngine;\r\n\r\nnamespace QFramework.Example\r\n{\r\n    public class CustomAudioLoaderExample : MonoBehaviour\r\n    {\r\n        /// <summary>\r\n        /// å®šä¹‰ä» Resources åŠ è½½éŸ³é¢‘\r\n        /// </summary>\r\n        class ResourcesAudioLoaderPool : AbstractAudioLoaderPool\r\n        {\r\n            protected override IAudioLoader CreateLoader()\r\n            {\r\n                return new ResourcesAudioLoader();\r\n            }\r\n        }\r\n\r\n        class ResourcesAudioLoader : IAudioLoader\r\n        {\r\n            private AudioClip mClip;\r\n        \r\n            public AudioClip Clip => mClip;\r\n\r\n            public AudioClip LoadClip(AudioSearchKeys panelSearchKeys)\r\n            {\r\n                mClip = Resources.Load<AudioClip>(panelSearchKeys.AssetName);\r\n                return mClip;\r\n            }\r\n\r\n            public void LoadClipAsync(AudioSearchKeys audioSearchKeys, Action<bool,AudioClip> onLoad)\r\n            {\r\n                var resourceRequest = Resources.LoadAsync<AudioClip>(audioSearchKeys.AssetName);\r\n                resourceRequest.completed += operation =>\r\n                {\r\n                    var clip = resourceRequest.asset as AudioClip;\r\n                    onLoad(clip, clip);\r\n                };\r\n            }\r\n\r\n            public void Unload()\r\n            {\r\n                Resources.UnloadAsset(mClip);\r\n            }\r\n        }\r\n        \r\n        \r\n        void Start()\r\n        {\r\n            // å¯åŠ¨æ—¶éœ€è¦è°ƒç”¨ä¸€æ¬¡\r\n            AudioKit.Config.AudioLoaderPool = new ResourcesAudioLoaderPool();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nç”±äº QFramework ä¸­çš„ AudioKit é»˜è®¤æ˜¯é€šè¿‡ ResKit åŠ è½½ï¼Œæ‰€ä»¥ä½¿ç”¨è‡ªå®šä¹‰åŠ è½½æ–¹å¼æ—¶ï¼Œè¯·å°†é¡¹ç›®ä¸­å¦‚ä¸‹ä»£ç æ³¨é‡Šæ‰:\r\n\r\n```csharp\r\n    public class AudioKitWithResKitInit \r\n    {\r\n        [RuntimeInitializeOnLoadMethod(RuntimeInitializeLoadType.BeforeSceneLoad)]\r\n        public static void Init()\r\n        {\r\n            AudioKit.Config.AudioLoaderPool = new ResKitAudioLoaderPool();\r\n        }\r\n    }\r\n```\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\nåœ¨ç¬”è€…è‡ªå·±åšæ¸¸æˆçš„æ—¶å€™é‡åˆ°å¾ˆå¤šæƒ…å†µä¸‹éœ€è¦ç­‰å¾…éŸ³æ•ˆæ’­æ”¾å®Œï¼Œä¹‹ååšä¸€äº›æ—¶åºæ€§çš„äº‹æƒ…ï¼Œæ‰€ä»¥ç¬”è€…å®ç°äº†è®© AudioKit çš„ ActionKit\r\næ”¯æŒçš„åŠŸèƒ½ã€‚\r\n\r\n## åŸºæœ¬ä½¿ç”¨\r\n\r\n```csharp\r\nusing UnityEngine;\r\n\r\nnamespace QFramework.Example\r\n{\r\n    public class AudioKitActionExample : MonoBehaviour\r\n    {\r\n        private void Start()\r\n        {\r\n            PlaySoundAction\r\n                .Allocate(\"resources://button_clicked\", () =>\r\n                {\r\n                    Debug.Log(\"button_clicked finish\");\r\n                })\r\n                .Start(this);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nè¿™æ ·å°±å®ç°äº†ä¸€ä¸ªç®€å•çš„å½“éŸ³æ•ˆæ’­æ”¾å®Œä¹‹ååš XXX çš„åŠŸèƒ½ã€‚\r\n\r\n## ä¸ Sequenceã€Repeatã€Parallel é…åˆ\r\n\r\nè¿™ä¸‰ä¸ªæœ¬è´¨éƒ½æ˜¯ Sequenceï¼Œæ‰€ä»¥è¿™é‡Œåªå±•ç¤º PlaySound åœ¨ Sequence çš„ç”¨æ³•ï¼Œå¦‚ä¸‹:\r\n\r\n```csharp\r\nusing UnityEngine;\r\n\r\nnamespace QFramework.Example\r\n{\r\n    public class AudioKitActionExample : MonoBehaviour\r\n    {\r\n        private void Start()\r\n        {\r\n            var heroClip = Resources.Load<AudioClip>(\"hero_hurt\");\r\n\r\n            ActionKit.Sequence()\r\n                .Delay(1.0f)\r\n                .PlaySound(\"resources://button_clicked\")\r\n                .Delay(1.0f)\r\n                .PlaySound(heroClip)\r\n                .Start(this);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nä¸ ActionKit çš„ Sequence é…åˆï¼Œå¯ä»¥åšä¸€äº›å¤æ‚çš„æ•ˆæœï¼Œæ¯”å¦‚å»¶æ—¶å‡ ç§’åæ’­æ”¾æŸä¸ªéŸ³æ•ˆç­‰ã€‚\r\n\r\nPlaySound å°±ä»‹ç»åˆ°è¿™é‡Œã€‚\r\n\r\næœ¬æ–‡ç”± QFramework æ•™ç¨‹å¹´ä¼šå‘˜èµåŠ©ï¼Œåœ°å€ï¼š[https://www.gamepixedu.com/goods/show/55](https://www.gamepixedu.com/goods/show/55)\r\n\r\n* QFramework ä¸»é¡µï¼š[qframework.cn](https://qframework.cn)\r\n* QFramework äº¤æµç¾¤: 623597263\r\n* QFramework Github åœ°å€: <https://github.com/liangxiegame/qframework>\r\n* QFramework Gitee åœ°å€ï¼š<https://gitee.com/liangxiegame/QFramework>\r\n"
        },
        {
          "name": "Example.png",
          "type": "blob",
          "size": 575.7138671875,
          "content": null
        },
        {
          "name": "LICENSE",
          "type": "blob",
          "size": 1.05859375,
          "content": "MIT License\r\n\r\nCopyright (c) 2023 å‡‰é‹\r\n\r\nPermission is hereby granted, free of charge, to any person obtaining a copy\r\nof this software and associated documentation files (the \"Software\"), to deal\r\nin the Software without restriction, including without limitation the rights\r\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\ncopies of the Software, and to permit persons to whom the Software is\r\nfurnished to do so, subject to the following conditions:\r\n\r\nThe above copyright notice and this permission notice shall be included in all\r\ncopies or substantial portions of the Software.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\r\nSOFTWARE.\r\n"
        },
        {
          "name": "LOGO.png",
          "type": "blob",
          "size": 3.7998046875,
          "content": null
        },
        {
          "name": "QFramework API.md",
          "type": "blob",
          "size": 20.544921875,
          "content": "- - QFramework API æ–‡æ¡£\r\n\r\n    \r\n\r\n    ## 1. æ¶æ„ï¼ˆArchitectureï¼‰\r\n\r\n    \r\n\r\n    ### 1.1 IArchitecture æ¥å£\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** å®šä¹‰äº†æ¶æ„çš„åŸºæœ¬åŠŸèƒ½ï¼ŒåŒ…æ‹¬æ³¨å†Œã€è·å–å’Œå‘é€å‘½ä»¤ã€æŸ¥è¯¢ã€äº‹ä»¶ä»¥åŠååˆå§‹åŒ–ã€‚\r\n    - **æ–¹æ³•ï¼š**\r\n      - `void RegisterSystem<T>(T system) where T : ISystem`ï¼šæ³¨å†Œä¸€ä¸ªç³»ç»Ÿã€‚\r\n      - `void RegisterModel<T>(T model) where T : IModel`ï¼šæ³¨å†Œä¸€ä¸ªæ¨¡å‹ã€‚\r\n      - `void RegisterUtility<T>(T utility) where T : IUtility`ï¼šæ³¨å†Œä¸€ä¸ªå·¥å…·ç±»ã€‚\r\n      - `T GetSystem<T>() where T : class, ISystem`ï¼šè·å–ä¸€ä¸ªç³»ç»Ÿã€‚\r\n      - `T GetModel<T>() where T : class, IModel`ï¼šè·å–ä¸€ä¸ªæ¨¡å‹ã€‚\r\n      - `T GetUtility<T>() where T : class, IUtility`ï¼šè·å–ä¸€ä¸ªå·¥å…·ç±»ã€‚\r\n      - `void SendCommand<T>(T command) where T : ICommand`ï¼šå‘é€ä¸€ä¸ªæ— è¿”å›å€¼çš„å‘½ä»¤ã€‚\r\n      - `TResult SendCommand<TResult>(ICommand<TResult> command)`ï¼šå‘é€ä¸€ä¸ªæœ‰è¿”å›å€¼çš„å‘½ä»¤ã€‚\r\n      - `TResult SendQuery<TResult>(IQuery<TResult> query)`ï¼šå‘é€ä¸€ä¸ªæŸ¥è¯¢ã€‚\r\n      - `void SendEvent<T>() where T : new()`ï¼šå‘é€ä¸€ä¸ªæ— å‚æ„é€ å‡½æ•°çš„äº‹ä»¶ã€‚\r\n      - `void SendEvent<T>(T e)`ï¼šå‘é€ä¸€ä¸ªäº‹ä»¶ã€‚\r\n      - `IUnRegister RegisterEvent<T>(Action<T> onEvent)`ï¼šæ³¨å†Œä¸€ä¸ªäº‹ä»¶ç›‘å¬å™¨ã€‚\r\n      - `void UnRegisterEvent<T>(Action<T> onEvent)`ï¼šç§»é™¤ä¸€ä¸ªäº‹ä»¶ç›‘å¬å™¨ã€‚\r\n      - `void Deinit()`ï¼šååˆå§‹åŒ–æ¶æ„ã€‚\r\n\r\n    \r\n\r\n    ### 1.2 Architecture<T> æŠ½è±¡ç±»\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** æ¶æ„çš„æŠ½è±¡åŸºç±»ï¼Œå®ç°äº† IArchitecture æ¥å£ã€‚\r\n    - **ç±»å‹å‚æ•°ï¼š**\r\n      - `T`ï¼šå…·ä½“çš„æ¶æ„ç±»å‹ï¼Œå¿…é¡»ç»§æ‰¿è‡ª Architecture<T>ã€‚\r\n    - **å­—æ®µï¼š**\r\n      - `public static Action<T> OnRegisterPatch`ï¼šæ³¨å†Œè¡¥ä¸æ—¶çš„å›è°ƒå‡½æ•°ã€‚\r\n      - `protected static T mArchitecture`ï¼šæ¶æ„çš„å•ä¾‹å®ä¾‹ã€‚\r\n      - `public static IArchitecture Interface`ï¼šè·å–æ¶æ„çš„æ¥å£ã€‚\r\n    - **æ–¹æ³•ï¼š**\r\n      - `protected abstract void Init()`ï¼šåˆå§‹åŒ–æ¶æ„ï¼Œå­ç±»å¿…é¡»å®ç°ã€‚\r\n      - `public void Deinit()`ï¼šååˆå§‹åŒ–æ¶æ„ã€‚\r\n      - `protected virtual void OnDeinit()`ï¼šååˆå§‹åŒ–æ—¶çš„å›è°ƒå‡½æ•°ï¼Œå­ç±»å¯é‡å†™ã€‚\r\n    - **å—ä¿æŠ¤çš„æˆå‘˜ï¼š**\r\n      - `private IOCContainer mContainer`ï¼šç”¨äºç®¡ç†ä¾èµ–æ³¨å…¥çš„å®¹å™¨ã€‚\r\n      - `protected virtual TResult ExecuteCommand<TResult>(ICommand<TResult> command)`ï¼šæ‰§è¡Œæœ‰è¿”å›å€¼çš„å‘½ä»¤ã€‚\r\n      - `protected virtual void ExecuteCommand(ICommand command)`ï¼šæ‰§è¡Œæ— è¿”å›å€¼çš„å‘½ä»¤ã€‚\r\n      - `protected virtual TResult DoQuery<TResult>(IQuery<TResult> query)`ï¼šæ‰§è¡ŒæŸ¥è¯¢ã€‚\r\n      - `private TypeEventSystem mTypeEventSystem`ï¼šç±»å‹äº‹ä»¶ç³»ç»Ÿï¼Œç”¨äºç®¡ç†äº‹ä»¶çš„å‘é€å’Œæ¥æ”¶ã€‚\r\n\r\n    \r\n\r\n    ### 1.3 IOnEvent<T> æ¥å£\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** å®šä¹‰äº†äº‹ä»¶å¤„ç†æ–¹æ³•çš„æ¥å£ã€‚\r\n    - **ç±»å‹å‚æ•°ï¼š**\r\n      - `T`ï¼šäº‹ä»¶ç±»å‹ã€‚\r\n    - **æ–¹æ³•ï¼š**\r\n      - `void OnEvent(T e)`ï¼šäº‹ä»¶å¤„ç†æ–¹æ³•ã€‚\r\n\r\n    \r\n\r\n    ### 1.4 OnGlobalEventExtension é™æ€ç±»\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** æä¾›äº† IOnEvent<T> æ¥å£çš„æ‰©å±•æ–¹æ³•ï¼Œç”¨äºæ³¨å†Œå’Œç§»é™¤å…¨å±€äº‹ä»¶ç›‘å¬å™¨ã€‚\r\n    - **æ–¹æ³•ï¼š**\r\n      - `public static IUnRegister RegisterEvent<T>(this IOnEvent<T> self) where T : struct`ï¼šæ³¨å†Œä¸€ä¸ªå…¨å±€äº‹ä»¶ç›‘å¬å™¨ã€‚\r\n      - `public static void UnRegisterEvent<T>(this IOnEvent<T> self) where T : struct`ï¼šç§»é™¤ä¸€ä¸ªå…¨å±€äº‹ä»¶ç›‘å¬å™¨ã€‚\r\n\r\n    \r\n\r\n    ## 2. æ§åˆ¶å™¨ï¼ˆControllerï¼‰\r\n\r\n    \r\n\r\n    ### 2.1 IController æ¥å£\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** å®šä¹‰äº†æ§åˆ¶å™¨çš„åŸºæœ¬åŠŸèƒ½ï¼Œç»§æ‰¿è‡ªå¤šä¸ªæ¥å£ï¼ŒåŒ…æ‹¬ IBelongToArchitectureã€ICanSendCommandã€ICanGetSystemã€ICanGetModelã€ICanRegisterEventã€ICanSendQuery å’Œ ICanGetUtilityã€‚\r\n\r\n    \r\n\r\n    ## 3. ç³»ç»Ÿï¼ˆSystemï¼‰\r\n\r\n    \r\n\r\n    ### 3.1 ISystem æ¥å£\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** å®šä¹‰äº†ç³»ç»Ÿçš„åŸºæœ¬åŠŸèƒ½ï¼Œç»§æ‰¿è‡ªå¤šä¸ªæ¥å£ï¼ŒåŒ…æ‹¬ IBelongToArchitectureã€ICanSetArchitectureã€ICanGetModelã€ICanGetUtilityã€ICanRegisterEventã€ICanSendEventã€ICanGetSystem å’Œ ICanInitã€‚\r\n\r\n    \r\n\r\n    ### 3.2 AbstractSystem æŠ½è±¡ç±»\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** ç³»ç»Ÿçš„æŠ½è±¡åŸºç±»ï¼Œå®ç°äº† ISystem æ¥å£ã€‚\r\n    - **å­—æ®µï¼š**\r\n      - `public bool Initialized { get; set; }`ï¼šæŒ‡ç¤ºç³»ç»Ÿæ˜¯å¦å·²åˆå§‹åŒ–ã€‚\r\n    - **æ–¹æ³•ï¼š**\r\n      - `protected abstract void OnInit()`ï¼šåˆå§‹åŒ–ç³»ç»Ÿï¼Œå­ç±»å¿…é¡»å®ç°ã€‚\r\n      - `public void Deinit()`ï¼šååˆå§‹åŒ–ç³»ç»Ÿã€‚\r\n      - `protected virtual void OnDeinit()`ï¼šååˆå§‹åŒ–æ—¶çš„å›è°ƒå‡½æ•°ï¼Œå­ç±»å¯é‡å†™ã€‚\r\n\r\n    \r\n\r\n    ## 4. æ¨¡å‹ï¼ˆModelï¼‰\r\n\r\n    \r\n\r\n    ### 4.1 IModel æ¥å£\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** å®šä¹‰äº†æ¨¡å‹çš„åŸºæœ¬åŠŸèƒ½ï¼Œç»§æ‰¿è‡ªå¤šä¸ªæ¥å£ï¼ŒåŒ…æ‹¬ IBelongToArchitectureã€ICanSetArchitectureã€ICanGetUtilityã€ICanSendEvent å’Œ ICanInitã€‚\r\n\r\n    \r\n\r\n    ### 4.2 AbstractModel æŠ½è±¡ç±»\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** æ¨¡å‹çš„æŠ½è±¡åŸºç±»ï¼Œå®ç°äº† IModel æ¥å£ã€‚\r\n    - **å­—æ®µï¼š**\r\n      - `public bool Initialized { get; set; }`ï¼šæŒ‡ç¤ºæ¨¡å‹æ˜¯å¦å·²åˆå§‹åŒ–ã€‚\r\n    - **æ–¹æ³•ï¼š**\r\n      - `protected abstract void OnInit()`ï¼šåˆå§‹åŒ–æ¨¡å‹ï¼Œå­ç±»å¿…é¡»å®ç°ã€‚\r\n      - `public void Deinit()`ï¼šååˆå§‹åŒ–æ¨¡å‹ã€‚\r\n      - `protected virtual void OnDeinit()`ï¼šååˆå§‹åŒ–æ—¶çš„å›è°ƒå‡½æ•°ï¼Œå­ç±»å¯é‡å†™ã€‚\r\n\r\n    \r\n\r\n    ## 5. å·¥å…·ç±»ï¼ˆUtilityï¼‰\r\n\r\n    \r\n\r\n    ### 5.1 IUtility æ¥å£\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** å®šä¹‰äº†å·¥å…·ç±»çš„åŸºæœ¬åŠŸèƒ½ï¼Œæ²¡æœ‰ä»»ä½•æ–¹æ³•ã€‚\r\n\r\n    \r\n\r\n    ## 6. å‘½ä»¤ï¼ˆCommandï¼‰\r\n\r\n    \r\n\r\n    ### 6.1 ICommand æ¥å£\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** å®šä¹‰äº†æ— è¿”å›å€¼å‘½ä»¤çš„åŸºæœ¬åŠŸèƒ½ï¼Œç»§æ‰¿è‡ªå¤šä¸ªæ¥å£ï¼ŒåŒ…æ‹¬ IBelongToArchitectureã€ICanSetArchitectureã€ICanGetSystemã€ICanGetModelã€ICanGetUtilityã€ICanSendEventã€ICanSendCommand å’Œ ICanSendQueryã€‚\r\n    - **æ–¹æ³•ï¼š**\r\n      - `void Execute()`ï¼šæ‰§è¡Œå‘½ä»¤ã€‚\r\n\r\n    \r\n\r\n    ### 6.2 ICommand<TResult> æ¥å£\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** å®šä¹‰äº†æœ‰è¿”å›å€¼å‘½ä»¤çš„åŸºæœ¬åŠŸèƒ½ï¼Œç»§æ‰¿è‡ªå¤šä¸ªæ¥å£ï¼ŒåŒ…æ‹¬ IBelongToArchitectureã€ICanSetArchitectureã€ICanGetSystemã€ICanGetModelã€ICanGetUtilityã€ICanSendEventã€ICanSendCommand å’Œ ICanSendQueryã€‚\r\n    - **ç±»å‹å‚æ•°ï¼š**\r\n      - `TResult`ï¼šå‘½ä»¤æ‰§è¡Œç»“æœçš„ç±»å‹ã€‚\r\n    - **æ–¹æ³•ï¼š**\r\n      - `TResult Execute()`ï¼šæ‰§è¡Œå‘½ä»¤å¹¶è¿”å›ç»“æœã€‚\r\n\r\n    \r\n\r\n    ### 6.3 AbstractCommand æŠ½è±¡ç±»\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** æ— è¿”å›å€¼å‘½ä»¤çš„æŠ½è±¡åŸºç±»ï¼Œå®ç°äº† ICommand æ¥å£ã€‚\r\n    - **æ–¹æ³•ï¼š**\r\n      - `protected abstract void OnExecute()`ï¼šæ‰§è¡Œå‘½ä»¤çš„å…·ä½“é€»è¾‘ï¼Œå­ç±»å¿…é¡»å®ç°ã€‚\r\n\r\n    \r\n\r\n    ### 6.4 AbstractCommand<TResult> æŠ½è±¡ç±»\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** æœ‰è¿”å›å€¼å‘½ä»¤çš„æŠ½è±¡åŸºç±»ï¼Œå®ç°äº† ICommand<TResult> æ¥å£ã€‚\r\n    - **ç±»å‹å‚æ•°ï¼š**\r\n      - `TResult`ï¼šå‘½ä»¤æ‰§è¡Œç»“æœçš„ç±»å‹ã€‚\r\n    - **æ–¹æ³•ï¼š**\r\n      - `protected abstract TResult OnExecute()`ï¼šæ‰§è¡Œå‘½ä»¤çš„å…·ä½“é€»è¾‘å¹¶è¿”å›ç»“æœï¼Œå­ç±»å¿…é¡»å®ç°ã€‚\r\n\r\n    \r\n\r\n    ## 7. æŸ¥è¯¢ï¼ˆQueryï¼‰\r\n\r\n    \r\n\r\n    ### 7.1 IQuery<TResult> æ¥å£\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** å®šä¹‰äº†æŸ¥è¯¢çš„åŸºæœ¬åŠŸèƒ½ï¼Œç»§æ‰¿è‡ªå¤šä¸ªæ¥å£ï¼ŒåŒ…æ‹¬ IBelongToArchitectureã€ICanSetArchitectureã€ICanGetModelã€ICanGetSystem å’Œ ICanSendQueryã€‚\r\n    - **ç±»å‹å‚æ•°ï¼š**\r\n      - `TResult`ï¼šæŸ¥è¯¢ç»“æœçš„ç±»å‹ã€‚\r\n    - **æ–¹æ³•ï¼š**\r\n      - `TResult Do()`ï¼šæ‰§è¡ŒæŸ¥è¯¢å¹¶è¿”å›ç»“æœã€‚\r\n\r\n    \r\n\r\n    ### 7.2 AbstractQuery<T> æŠ½è±¡ç±»\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** æŸ¥è¯¢çš„æŠ½è±¡åŸºç±»ï¼Œå®ç°äº† IQuery<T> æ¥å£ã€‚\r\n    - **ç±»å‹å‚æ•°ï¼š**\r\n      - `T`ï¼šæŸ¥è¯¢ç»“æœçš„ç±»å‹ã€‚\r\n    - **æ–¹æ³•ï¼š**\r\n      - `protected abstract T OnDo()`ï¼šæ‰§è¡ŒæŸ¥è¯¢çš„å…·ä½“é€»è¾‘å¹¶è¿”å›ç»“æœï¼Œå­ç±»å¿…é¡»å®ç°ã€‚\r\n\r\n    \r\n\r\n    ## 8. è§„åˆ™ï¼ˆRuleï¼‰\r\n\r\n    \r\n\r\n    ### 8.1 IBelongToArchitecture æ¥å£\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** å®šä¹‰äº†å±äºæ¶æ„çš„ç±»å‹çš„åŸºæœ¬åŠŸèƒ½ã€‚\r\n    - **æ–¹æ³•ï¼š**\r\n      - `IArchitecture GetArchitecture()`ï¼šè·å–æ‰€å±çš„æ¶æ„ã€‚\r\n\r\n    \r\n\r\n    ### 8.2 ICanSetArchitecture æ¥å£\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** å®šä¹‰äº†å¯ä»¥è®¾ç½®æ¶æ„çš„ç±»å‹çš„åŸºæœ¬åŠŸèƒ½ã€‚\r\n    - **æ–¹æ³•ï¼š**\r\n      - `void SetArchitecture(IArchitecture architecture)`ï¼šè®¾ç½®æ‰€å±çš„æ¶æ„ã€‚\r\n\r\n    \r\n\r\n    ### 8.3 ICanGetModel æ¥å£\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** å®šä¹‰äº†å¯ä»¥è·å–æ¨¡å‹çš„ç±»å‹çš„åŸºæœ¬åŠŸèƒ½ï¼Œç»§æ‰¿è‡ª IBelongToArchitecture æ¥å£ã€‚\r\n\r\n    \r\n\r\n    ### 8.4 CanGetModelExtension é™æ€ç±»\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** æä¾›äº† ICanGetModel æ¥å£çš„æ‰©å±•æ–¹æ³•ï¼Œç”¨äºè·å–æ¨¡å‹ã€‚\r\n    - **æ–¹æ³•ï¼š**\r\n      - `public static T GetModel<T>(this ICanGetModel self) where T : class, IModel`ï¼šè·å–æŒ‡å®šç±»å‹çš„æ¨¡å‹ã€‚\r\n\r\n    \r\n\r\n    ### 8.5 ICanGetSystem æ¥å£\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** å®šä¹‰äº†å¯ä»¥è·å–ç³»ç»Ÿçš„ç±»å‹çš„åŸºæœ¬åŠŸèƒ½ï¼Œç»§æ‰¿è‡ª IBelongToArchitecture æ¥å£ã€‚\r\n\r\n    \r\n\r\n    ### 8.6 CanGetSystemExtension é™æ€ç±»\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** æä¾›äº† ICanGetSystem æ¥å£çš„æ‰©å±•æ–¹æ³•ï¼Œç”¨äºè·å–ç³»ç»Ÿã€‚\r\n    - **æ–¹æ³•ï¼š**\r\n      - `public static T GetSystem<T>(this ICanGetSystem self) where T : class, ISystem`ï¼šè·å–æŒ‡å®šç±»å‹çš„ç³»ç»Ÿã€‚\r\n\r\n    \r\n\r\n    ### 8.7 ICanGetUtility æ¥å£\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** å®šä¹‰äº†å¯ä»¥è·å–å·¥å…·ç±»çš„ç±»å‹çš„åŸºæœ¬åŠŸèƒ½ï¼Œç»§æ‰¿è‡ª IBelongToArchitecture æ¥å£ã€‚\r\n\r\n    \r\n\r\n    ### 8.8 CanGetUtilityExtension é™æ€ç±»\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** æä¾›äº† ICanGetUtility æ¥å£çš„æ‰©å±•æ–¹æ³•ï¼Œç”¨äºè·å–å·¥å…·ç±»ã€‚\r\n    - **æ–¹æ³•ï¼š**\r\n      - `public static T GetUtility<T>(this ICanGetUtility self) where T : class, IUtility`ï¼šè·å–æŒ‡å®šç±»å‹çš„å·¥å…·ç±»ã€‚\r\n\r\n    \r\n\r\n    ### 8.9 ICanRegisterEvent æ¥å£\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** å®šä¹‰äº†å¯ä»¥æ³¨å†Œäº‹ä»¶ç›‘å¬å™¨çš„ç±»å‹çš„åŸºæœ¬åŠŸèƒ½ï¼Œç»§æ‰¿è‡ª IBelongToArchitecture æ¥å£ã€‚\r\n\r\n    \r\n\r\n    ### 8.10 CanRegisterEventExtension é™æ€ç±»\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** æä¾›äº† ICanRegisterEvent æ¥å£çš„æ‰©å±•æ–¹æ³•ï¼Œç”¨äºæ³¨å†Œå’Œç§»é™¤äº‹ä»¶ç›‘å¬å™¨ã€‚\r\n    - **æ–¹æ³•ï¼š**\r\n      - `public static IUnRegister RegisterEvent<T>(this ICanRegisterEvent self, Action<T> onEvent)`ï¼šæ³¨å†Œä¸€ä¸ªäº‹ä»¶ç›‘å¬å™¨ã€‚\r\n      - `public static void UnRegisterEvent<T>(this ICanRegisterEvent self, Action<T> onEvent)`ï¼šç§»é™¤ä¸€ä¸ªäº‹ä»¶ç›‘å¬å™¨ã€‚\r\n\r\n    \r\n\r\n    ### 8.11 ICanSendCommand æ¥å£\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** å®šä¹‰äº†å¯ä»¥å‘é€å‘½ä»¤çš„ç±»å‹çš„åŸºæœ¬åŠŸèƒ½ï¼Œç»§æ‰¿è‡ª IBelongToArchitecture æ¥å£ã€‚\r\n\r\n    \r\n\r\n    ### 8.12 CanSendCommandExtension é™æ€ç±»\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** æä¾›äº† ICanSendCommand æ¥å£çš„æ‰©å±•æ–¹æ³•ï¼Œç”¨äºå‘é€å‘½ä»¤ã€‚\r\n    - **æ–¹æ³•ï¼š**\r\n      - `public static void SendCommand<T>(this ICanSendCommand self) where T : ICommand, new()`ï¼šå‘é€ä¸€ä¸ªæ— å‚æ„é€ å‡½æ•°çš„å‘½ä»¤ã€‚\r\n      - `public static void SendCommand<T>(this ICanSendCommand self, T command) where T : ICommand`ï¼šå‘é€ä¸€ä¸ªå‘½ä»¤ã€‚\r\n      - `public static TResult SendCommand<TResult>(this ICanSendCommand self, ICommand<TResult> command)`ï¼šå‘é€ä¸€ä¸ªæœ‰è¿”å›å€¼çš„å‘½ä»¤ã€‚\r\n\r\n    \r\n\r\n    ### 8.13 ICanSendEvent æ¥å£\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** å®šä¹‰äº†å¯ä»¥å‘é€äº‹ä»¶çš„ç±»å‹çš„åŸºæœ¬åŠŸèƒ½ï¼Œç»§æ‰¿è‡ª IBelongToArchitecture æ¥å£ã€‚\r\n\r\n    \r\n\r\n    ### 8.14 CanSendEventExtension é™æ€ç±»\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** æä¾›äº† ICanSendEvent æ¥å£çš„æ‰©å±•æ–¹æ³•ï¼Œç”¨äºå‘é€äº‹ä»¶ã€‚\r\n    - **æ–¹æ³•ï¼š**\r\n      - `public static void SendEvent<T>(this ICanSendEvent self) where T : new()`ï¼šå‘é€ä¸€ä¸ªæ— å‚æ„é€ å‡½æ•°çš„äº‹ä»¶ã€‚\r\n      - `public static void SendEvent<T>(this ICanSendEvent self, T e)`ï¼šå‘é€ä¸€ä¸ªäº‹ä»¶ã€‚\r\n\r\n    \r\n\r\n    ### 8.15 ICanSendQuery æ¥å£\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** å®šä¹‰äº†å¯ä»¥å‘é€æŸ¥è¯¢çš„ç±»å‹çš„åŸºæœ¬åŠŸèƒ½ï¼Œç»§æ‰¿è‡ª IBelongToArchitecture æ¥å£ã€‚\r\n\r\n    \r\n\r\n    ### 8.16 CanSendQueryExtension é™æ€ç±»\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** æä¾›äº† ICanSendQuery æ¥å£çš„æ‰©å±•æ–¹æ³•ï¼Œç”¨äºå‘é€æŸ¥è¯¢ã€‚\r\n    - **æ–¹æ³•ï¼š**\r\n      - `public static TResult SendQuery<TResult>(this ICanSendQuery self, IQuery<TResult> query)`ï¼šå‘é€ä¸€ä¸ªæŸ¥è¯¢ã€‚\r\n\r\n    \r\n\r\n    ### 8.17 ICanInit æ¥å£\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** å®šä¹‰äº†å¯ä»¥åˆå§‹åŒ–çš„ç±»å‹çš„åŸºæœ¬åŠŸèƒ½ã€‚\r\n    - **å­—æ®µï¼š**\r\n      - `bool Initialized { get; set; }`ï¼šæŒ‡ç¤ºæ˜¯å¦å·²åˆå§‹åŒ–ã€‚\r\n    - **æ–¹æ³•ï¼š**\r\n      - `void Init()`ï¼šåˆå§‹åŒ–ã€‚\r\n      - `void Deinit()`ï¼šååˆå§‹åŒ–ã€‚\r\n\r\n    \r\n\r\n    ## 9. ç±»å‹äº‹ä»¶ç³»ç»Ÿï¼ˆTypeEventSystemï¼‰\r\n\r\n    \r\n\r\n    ### 9.1 IUnRegister æ¥å£\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** å®šä¹‰äº†å–æ¶ˆæ³¨å†Œæ“ä½œçš„åŸºæœ¬åŠŸèƒ½ã€‚\r\n    - **æ–¹æ³•ï¼š**\r\n      - `void UnRegister()`ï¼šå–æ¶ˆæ³¨å†Œã€‚\r\n\r\n    \r\n\r\n    ### 9.2 IUnRegisterList æ¥å£\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** å®šä¹‰äº†å–æ¶ˆæ³¨å†Œåˆ—è¡¨çš„åŸºæœ¬åŠŸèƒ½ã€‚\r\n    - **å±æ€§ï¼š**\r\n      - `List<IUnRegister> UnregisterList { get; }`ï¼šå–æ¶ˆæ³¨å†Œåˆ—è¡¨ã€‚\r\n\r\n    \r\n\r\n    ### 9.3 IUnRegisterListExtension é™æ€ç±»\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** æä¾›äº† IUnRegisterList æ¥å£çš„æ‰©å±•æ–¹æ³•ï¼Œç”¨äºç®¡ç†å–æ¶ˆæ³¨å†Œåˆ—è¡¨ã€‚\r\n    - **æ–¹æ³•ï¼š**\r\n      - `public static void AddToUnregisterList(this IUnRegister self, IUnRegisterList unRegisterList)`ï¼šå°†ä¸€ä¸ªå–æ¶ˆæ³¨å†Œæ“ä½œæ·»åŠ åˆ°åˆ—è¡¨ä¸­ã€‚\r\n      - `public static void UnRegisterAll(this IUnRegisterList self)`ï¼šå–æ¶ˆæ³¨å†Œåˆ—è¡¨ä¸­çš„æ‰€æœ‰æ“ä½œã€‚\r\n\r\n    \r\n\r\n    ### 9.4 CustomUnRegister ç»“æ„ä½“\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** è‡ªå®šä¹‰çš„å–æ¶ˆæ³¨å†Œæ“ä½œï¼Œå®ç°äº† IUnRegister æ¥å£ã€‚\r\n    - **æ„é€ å‡½æ•°ï¼š**\r\n      - `public CustomUnRegister(Action onUnRegister)`ï¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ CustomUnRegister å®ä¾‹ã€‚\r\n\r\n    \r\n\r\n    ### 9.5 UnRegisterTrigger æŠ½è±¡ç±»\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** å–æ¶ˆæ³¨å†Œè§¦å‘å™¨çš„åŸºç±»ï¼Œç»§æ‰¿è‡ª UnityEngine.MonoBehaviourã€‚\r\n    - **æ–¹æ³•ï¼š**\r\n      - `public IUnRegister AddUnRegister(IUnRegister unRegister)`ï¼šæ·»åŠ ä¸€ä¸ªå–æ¶ˆæ³¨å†Œæ“ä½œã€‚\r\n      - `public void RemoveUnRegister(IUnRegister unRegister)`ï¼šç§»é™¤ä¸€ä¸ªå–æ¶ˆæ³¨å†Œæ“ä½œã€‚\r\n      - `public void UnRegister()`ï¼šå–æ¶ˆæ³¨å†Œæ‰€æœ‰æ“ä½œã€‚\r\n\r\n    \r\n\r\n    ### 9.6 UnRegisterOnDestroyTrigger ç±»\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** åœ¨æ¸¸æˆå¯¹è±¡é”€æ¯æ—¶å–æ¶ˆæ³¨å†Œçš„è§¦å‘å™¨ï¼Œç»§æ‰¿è‡ª UnRegisterTriggerã€‚\r\n\r\n    \r\n\r\n    ### 9.7 UnRegisterOnDisableTrigger ç±»\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** åœ¨æ¸¸æˆå¯¹è±¡ç¦ç”¨æ—¶å–æ¶ˆæ³¨å†Œçš„è§¦å‘å™¨ï¼Œç»§æ‰¿è‡ª UnRegisterTriggerã€‚\r\n\r\n    \r\n\r\n    ### 9.8 UnRegisterCurrentSceneUnloadedTrigger ç±»\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** åœ¨å½“å‰åœºæ™¯å¸è½½æ—¶å–æ¶ˆæ³¨å†Œçš„è§¦å‘å™¨ï¼Œç»§æ‰¿è‡ª UnRegisterTriggerã€‚\r\n    - **å±æ€§ï¼š**\r\n      - `public static UnRegisterCurrentSceneUnloadedTrigger Get`ï¼šè·å– UnRegisterCurrentSceneUnloadedTrigger çš„å®ä¾‹ã€‚\r\n\r\n    \r\n\r\n    ### 9.9 UnRegisterExtension é™æ€ç±»\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** æä¾›äº† IUnRegister æ¥å£çš„æ‰©å±•æ–¹æ³•ï¼Œç”¨äºåœ¨ç‰¹å®šæƒ…å†µä¸‹å–æ¶ˆæ³¨å†Œã€‚\r\n\r\n    \r\n\r\n    ### 9.10 TypeEventSystem ç±»\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** ç±»å‹äº‹ä»¶ç³»ç»Ÿï¼Œç”¨äºå‘é€å’Œæ¥æ”¶äº‹ä»¶ã€‚\r\n    - **å­—æ®µï¼š**\r\n      - `public static readonly TypeEventSystem Global`ï¼šå…¨å±€çš„ TypeEventSystem å®ä¾‹ã€‚\r\n    - **æ–¹æ³•ï¼š**\r\n      - `public void Send<T>() where T : new()`ï¼šå‘é€ä¸€ä¸ªæ— å‚æ„é€ å‡½æ•°çš„äº‹ä»¶ã€‚\r\n      - `public void Send<T>(T e)`ï¼šå‘é€ä¸€ä¸ªäº‹ä»¶ã€‚\r\n      - `public IUnRegister Register<T>(Action<T> onEvent)`ï¼šæ³¨å†Œä¸€ä¸ªäº‹ä»¶ç›‘å¬å™¨ã€‚\r\n      - `public void UnRegister<T>(Action<T> onEvent)`ï¼šç§»é™¤ä¸€ä¸ªäº‹ä»¶ç›‘å¬å™¨ã€‚\r\n\r\n    \r\n\r\n    ## 10. ä¾èµ–æ³¨å…¥å®¹å™¨ï¼ˆIOCï¼‰\r\n\r\n    \r\n\r\n    ### 10.1 IOCContainer ç±»\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** ä¾èµ–æ³¨å…¥å®¹å™¨ï¼Œç”¨äºç®¡ç†ä¾èµ–å…³ç³»ã€‚\r\n    - **æ–¹æ³•ï¼š**\r\n      - `public void Register<T>(T instance)`ï¼šæ³¨å†Œä¸€ä¸ªå®ä¾‹ã€‚\r\n      - `public T Get<T>() where T : class`ï¼šè·å–ä¸€ä¸ªå®ä¾‹ã€‚\r\n      - `public IEnumerable<T> GetInstancesByType<T>()`ï¼šè·å–æŒ‡å®šç±»å‹çš„æ‰€æœ‰å®ä¾‹ã€‚\r\n      - `public void Clear()`ï¼šæ¸…ç©ºå®¹å™¨ã€‚\r\n\r\n    \r\n\r\n    ## 11. å¯ç»‘å®šå±æ€§ï¼ˆBindablePropertyï¼‰\r\n\r\n    \r\n\r\n    ### 11.1 IBindableProperty<T> æ¥å£\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** å®šä¹‰äº†å¯ç»‘å®šå±æ€§çš„åŸºæœ¬åŠŸèƒ½ï¼Œç»§æ‰¿è‡ª IReadonlyBindableProperty<T> æ¥å£ã€‚\r\n    - **ç±»å‹å‚æ•°ï¼š**\r\n      - `T`ï¼šå±æ€§å€¼çš„ç±»å‹ã€‚\r\n    - **å±æ€§ï¼š**\r\n      - `new T Value { get; set; }`ï¼šå±æ€§å€¼ã€‚\r\n    - **æ–¹æ³•ï¼š**\r\n      - `void SetValueWithoutEvent(T newValue)`ï¼šè®¾ç½®å±æ€§å€¼ï¼Œä½†ä¸è§¦å‘äº‹ä»¶ã€‚\r\n\r\n    \r\n\r\n    ### 11.2 IReadonlyBindableProperty<T> æ¥å£\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** å®šä¹‰äº†åªè¯»å¯ç»‘å®šå±æ€§çš„åŸºæœ¬åŠŸèƒ½ï¼Œç»§æ‰¿è‡ª IEasyEvent æ¥å£ã€‚\r\n    - **ç±»å‹å‚æ•°ï¼š**\r\n      - `T`ï¼šå±æ€§å€¼çš„ç±»å‹ã€‚\r\n    - **å±æ€§ï¼š**\r\n      - `T Value { get; }`ï¼šå±æ€§å€¼ã€‚\r\n    - **æ–¹æ³•ï¼š**\r\n      - `IUnRegister RegisterWithInitValue(Action<T> action)`ï¼šæ³¨å†Œä¸€ä¸ªäº‹ä»¶ç›‘å¬å™¨ï¼Œå¹¶åœ¨æ³¨å†Œæ—¶è§¦å‘ä¸€æ¬¡äº‹ä»¶ã€‚\r\n      - `void UnRegister(Action<T> onValueChanged)`ï¼šç§»é™¤ä¸€ä¸ªäº‹ä»¶ç›‘å¬å™¨ã€‚\r\n      - `IUnRegister Register(Action<T> onValueChanged)`ï¼šæ³¨å†Œä¸€ä¸ªäº‹ä»¶ç›‘å¬å™¨ã€‚\r\n\r\n    \r\n\r\n    ### 11.3 BindableProperty<T> ç±»\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** å¯ç»‘å®šå±æ€§çš„å®ç°ç±»ï¼Œå®ç°äº† IBindableProperty<T> æ¥å£ã€‚\r\n    - **ç±»å‹å‚æ•°ï¼š**\r\n      - `T`ï¼šå±æ€§å€¼çš„ç±»å‹ã€‚\r\n    - **å­—æ®µï¼š**\r\n      - `public static Func<T, T, bool> Comparer { get; set; }`ï¼šç”¨äºæ¯”è¾ƒä¸¤ä¸ªå±æ€§å€¼æ˜¯å¦ç›¸ç­‰çš„æ¯”è¾ƒå™¨ã€‚\r\n    - **æ„é€ å‡½æ•°ï¼š**\r\n      - `public BindableProperty(T defaultValue = default)`ï¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ BindableProperty å®ä¾‹ã€‚\r\n      - `public BindableProperty<T> WithComparer(Func<T, T, bool> comparer)`ï¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ BindableProperty å®ä¾‹ï¼Œå¹¶æŒ‡å®šæ¯”è¾ƒå™¨ã€‚\r\n\r\n    \r\n\r\n    ### 11.4 ComparerAutoRegister ç±»\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** ç”¨äºè‡ªåŠ¨æ³¨å†Œå¸¸ç”¨ç±»å‹çš„æ¯”è¾ƒå™¨çš„ç±»ã€‚\r\n\r\n    \r\n\r\n    ## 12. ç®€å•äº‹ä»¶ï¼ˆEasyEventï¼‰\r\n\r\n    \r\n\r\n    ### 12.1 IEasyEvent æ¥å£\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** å®šä¹‰äº†ç®€å•äº‹ä»¶çš„åŸºæœ¬åŠŸèƒ½ã€‚\r\n    - **æ–¹æ³•ï¼š**\r\n      - `IUnRegister Register(Action onEvent)`ï¼šæ³¨å†Œä¸€ä¸ªäº‹ä»¶ç›‘å¬å™¨ã€‚\r\n\r\n    \r\n\r\n    ### 12.2 EasyEvent ç±»\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** æ— å‚æ•°ç®€å•äº‹ä»¶çš„å®ç°ç±»ï¼Œå®ç°äº† IEasyEvent æ¥å£ã€‚\r\n    - **æ–¹æ³•ï¼š**\r\n      - `public IUnRegister Register(Action onEvent)`ï¼šæ³¨å†Œä¸€ä¸ªäº‹ä»¶ç›‘å¬å™¨ã€‚\r\n      - `public void UnRegister(Action onEvent)`ï¼šç§»é™¤ä¸€ä¸ªäº‹ä»¶ç›‘å¬å™¨ã€‚\r\n      - `public void Trigger()`ï¼šè§¦å‘äº‹ä»¶ã€‚\r\n\r\n    \r\n\r\n    ### 12.3 EasyEvent<T> ç±»\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** å•å‚æ•°ç®€å•äº‹ä»¶çš„å®ç°ç±»ï¼Œå®ç°äº† IEasyEvent æ¥å£ã€‚\r\n    - **ç±»å‹å‚æ•°ï¼š**\r\n      - `T`ï¼šäº‹ä»¶å‚æ•°çš„ç±»å‹ã€‚\r\n    - **æ–¹æ³•ï¼š**\r\n      - `public IUnRegister Register(Action<T> onEvent)`ï¼šæ³¨å†Œä¸€ä¸ªäº‹ä»¶ç›‘å¬å™¨ã€‚\r\n      - `public void UnRegister(Action<T> onEvent)`ï¼šç§»é™¤ä¸€ä¸ªäº‹ä»¶ç›‘å¬å™¨ã€‚\r\n      - `public void Trigger(T t)`ï¼šè§¦å‘äº‹ä»¶ã€‚\r\n\r\n    \r\n\r\n    ### 12.4 EasyEvent<T, K> ç±»\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** åŒå‚æ•°ç®€å•äº‹ä»¶çš„å®ç°ç±»ï¼Œå®ç°äº† IEasyEvent æ¥å£ã€‚\r\n    - **ç±»å‹å‚æ•°ï¼š**\r\n      - `T`ï¼šç¬¬ä¸€ä¸ªäº‹ä»¶å‚æ•°çš„ç±»å‹ã€‚\r\n      - `K`ï¼šç¬¬äºŒä¸ªäº‹ä»¶å‚æ•°çš„ç±»å‹ã€‚\r\n    - **æ–¹æ³•ï¼š**\r\n      - `public IUnRegister Register(Action<T, K> onEvent)`ï¼šæ³¨å†Œä¸€ä¸ªäº‹ä»¶ç›‘å¬å™¨ã€‚\r\n      - `public void UnRegister(Action<T, K> onEvent)`ï¼šç§»é™¤ä¸€ä¸ªäº‹ä»¶ç›‘å¬å™¨ã€‚\r\n      - `public void Trigger(T t, K k)`ï¼šè§¦å‘äº‹ä»¶ã€‚\r\n\r\n    \r\n\r\n    ### 12.5 EasyEvent<T, K, S> ç±»\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** ä¸‰å‚æ•°ç®€å•äº‹ä»¶çš„å®ç°ç±»ï¼Œå®ç°äº† IEasyEvent æ¥å£ã€‚\r\n    - **ç±»å‹å‚æ•°ï¼š**\r\n      - `T`ï¼šç¬¬ä¸€ä¸ªäº‹ä»¶å‚æ•°çš„ç±»å‹ã€‚\r\n      - `K`ï¼šç¬¬äºŒä¸ªäº‹ä»¶å‚æ•°çš„ç±»å‹ã€‚\r\n      - `S`ï¼šç¬¬ä¸‰ä¸ªäº‹ä»¶å‚æ•°çš„ç±»å‹ã€‚\r\n    - **æ–¹æ³•ï¼š**\r\n      - `public IUnRegister Register(Action<T, K, S> onEvent)`ï¼šæ³¨å†Œä¸€ä¸ªäº‹ä»¶ç›‘å¬å™¨ã€‚\r\n      - `public void UnRegister(Action<T, K, S> onEvent)`ï¼šç§»é™¤ä¸€ä¸ªäº‹ä»¶ç›‘å¬å™¨ã€‚\r\n      - `public void Trigger(T t, K k, S s)`ï¼šè§¦å‘äº‹ä»¶ã€‚\r\n\r\n    \r\n\r\n    ### 12.6 EasyEvents ç±»\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** ç”¨äºç®¡ç†å¤šä¸ªç®€å•äº‹ä»¶çš„ç±»ã€‚\r\n    - **å­—æ®µï¼š**\r\n      - `public static readonly EasyEvents mGlobalEvents`ï¼šå…¨å±€çš„ EasyEvents å®ä¾‹ã€‚\r\n    - **æ–¹æ³•ï¼š**\r\n      - `public static T Get<T>() where T : IEasyEvent`ï¼šè·å–ä¸€ä¸ªç®€å•äº‹ä»¶ã€‚\r\n      - `public static void Register<T>() where T : IEasyEvent, new()`ï¼šæ³¨å†Œä¸€ä¸ªç®€å•äº‹ä»¶ã€‚\r\n      - `public void AddEvent<T>() where T : IEasyEvent, new()`ï¼šæ·»åŠ ä¸€ä¸ªç®€å•äº‹ä»¶ã€‚\r\n      - `public T GetEvent<T>() where T : IEasyEvent`ï¼šè·å–ä¸€ä¸ªç®€å•äº‹ä»¶ã€‚\r\n      - `public T GetOrAddEvent<T>() where T : IEasyEvent, new()`ï¼šè·å–æˆ–æ·»åŠ ä¸€ä¸ªç®€å•äº‹ä»¶ã€‚\r\n\r\n    \r\n\r\n    ## 13. äº‹ä»¶æ‰©å±•ï¼ˆEvent Extensionï¼‰\r\n\r\n    \r\n\r\n    ### 13.1 OrEvent ç±»\r\n\r\n    \r\n\r\n    - **æè¿°ï¼š** ç”¨äºç»„åˆå¤šä¸ªäº‹ä»¶"
        },
        {
          "name": "QFramework.Godot4+",
          "type": "tree",
          "content": null
        },
        {
          "name": "QFramework.NetworkExtension",
          "type": "tree",
          "content": null
        },
        {
          "name": "QFramework.Toolkits.Demo.SaoLei.unitypackage",
          "type": "blob",
          "size": 26.677734375,
          "content": null
        },
        {
          "name": "QFramework.Toolkits.Demo.WuZiQi.unitypackage",
          "type": "blob",
          "size": 134.9365234375,
          "content": null
        },
        {
          "name": "QFramework.Toolkits.unitypackage",
          "type": "blob",
          "size": 5452.4912109375,
          "content": ""
        },
        {
          "name": "QFramework.Unity2018+",
          "type": "tree",
          "content": null
        },
        {
          "name": "QFramework.cs",
          "type": "blob",
          "size": 27.1416015625,
          "content": "ï»¿/****************************************************************************\n * Copyright (c) 2015 ~ 2024 liangxiegame MIT License\n *\n * QFramework v1.0\n *\n * https://qframework.cn\n * https://github.com/liangxiegame/QFramework\n * https://gitee.com/liangxiegame/QFramework\n *\n * Author:\n *  liangxie        https://github.com/liangxie\n *  soso            https://github.com/so-sos-so\n *\n * Contributor\n *  TastSong        https://github.com/TastSong\n *  äº¬äº§è‚ é¥­         https://gitee.com/JingChanChangFan/hk_-unity-tools\n *  çŒ«å”(ä¸€åªçš®çš®è™¾) https://space.bilibili.com/656352/\n *  misakiMeiii     https://github.com/misakiMeiii\n *  Newä¸€å¤©\n *  å¹½é£å†·å‡é›ªï½å†·\n *\n * Community\n *  QQ Group: 623597263\n * \n * Latest Update: 2024.5.12 20:17 add UnRegisterWhenCurrentSceneUnloaded(Suggested by misakiMeiii) \n ****************************************************************************/\n\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing UnityEngine;\nusing UnityEngine.SceneManagement;\n\nnamespace QFramework\n{\n    #region Architecture\n\n    public interface IArchitecture\n    {\n        void RegisterSystem<T>(T system) where T : ISystem;\n\n        void RegisterModel<T>(T model) where T : IModel;\n\n        void RegisterUtility<T>(T utility) where T : IUtility;\n\n        T GetSystem<T>() where T : class, ISystem;\n\n        T GetModel<T>() where T : class, IModel;\n\n        T GetUtility<T>() where T : class, IUtility;\n\n        void SendCommand<T>(T command) where T : ICommand;\n\n        TResult SendCommand<TResult>(ICommand<TResult> command);\n\n        TResult SendQuery<TResult>(IQuery<TResult> query);\n\n        void SendEvent<T>() where T : new();\n        void SendEvent<T>(T e);\n\n        IUnRegister RegisterEvent<T>(Action<T> onEvent);\n        void UnRegisterEvent<T>(Action<T> onEvent);\n\n        void Deinit();\n    }\n\n    public abstract class Architecture<T> : IArchitecture where T : Architecture<T>, new()\n    {\n        private bool mInited = false;\n\n\n        public static Action<T> OnRegisterPatch = architecture => { };\n\n        protected static T mArchitecture;\n\n        public static IArchitecture Interface\n        {\n            get\n            {\n                if (mArchitecture == null) MakeSureArchitecture();\n                return mArchitecture;\n            }\n        }\n\n\n        static void MakeSureArchitecture()\n        {\n            if (mArchitecture == null)\n            {\n                mArchitecture = new T();\n                mArchitecture.Init();\n\n                OnRegisterPatch?.Invoke(mArchitecture);\n\n                foreach (var model in mArchitecture.mContainer.GetInstancesByType<IModel>().Where(m => !m.Initialized))\n                {\n                    model.Init();\n                    model.Initialized = true;\n                }\n\n                foreach (var system in mArchitecture.mContainer.GetInstancesByType<ISystem>()\n                             .Where(m => !m.Initialized))\n                {\n                    system.Init();\n                    system.Initialized = true;\n                }\n\n                mArchitecture.mInited = true;\n            }\n        }\n\n        protected abstract void Init();\n\n        public void Deinit()\n        {\n            OnDeinit();\n            foreach (var system in mContainer.GetInstancesByType<ISystem>().Where(s => s.Initialized)) system.Deinit();\n            foreach (var model in mContainer.GetInstancesByType<IModel>().Where(m => m.Initialized)) model.Deinit();\n            mContainer.Clear();\n            mArchitecture = null;\n        }\n\n        protected virtual void OnDeinit()\n        {\n        }\n\n        private IOCContainer mContainer = new IOCContainer();\n\n        public void RegisterSystem<TSystem>(TSystem system) where TSystem : ISystem\n        {\n            system.SetArchitecture(this);\n            mContainer.Register<TSystem>(system);\n\n            if (mInited)\n            {\n                system.Init();\n                system.Initialized = true;\n            }\n        }\n\n        public void RegisterModel<TModel>(TModel model) where TModel : IModel\n        {\n            model.SetArchitecture(this);\n            mContainer.Register<TModel>(model);\n\n            if (mInited)\n            {\n                model.Init();\n                model.Initialized = true;\n            }\n        }\n\n        public void RegisterUtility<TUtility>(TUtility utility) where TUtility : IUtility =>\n            mContainer.Register<TUtility>(utility);\n\n        public TSystem GetSystem<TSystem>() where TSystem : class, ISystem => mContainer.Get<TSystem>();\n\n        public TModel GetModel<TModel>() where TModel : class, IModel => mContainer.Get<TModel>();\n\n        public TUtility GetUtility<TUtility>() where TUtility : class, IUtility => mContainer.Get<TUtility>();\n\n        public TResult SendCommand<TResult>(ICommand<TResult> command) => ExecuteCommand(command);\n\n        public void SendCommand<TCommand>(TCommand command) where TCommand : ICommand => ExecuteCommand(command);\n\n        protected virtual TResult ExecuteCommand<TResult>(ICommand<TResult> command)\n        {\n            command.SetArchitecture(this);\n            return command.Execute();\n        }\n\n        protected virtual void ExecuteCommand(ICommand command)\n        {\n            command.SetArchitecture(this);\n            command.Execute();\n        }\n\n        public TResult SendQuery<TResult>(IQuery<TResult> query) => DoQuery<TResult>(query);\n\n        protected virtual TResult DoQuery<TResult>(IQuery<TResult> query)\n        {\n            query.SetArchitecture(this);\n            return query.Do();\n        }\n\n        private TypeEventSystem mTypeEventSystem = new TypeEventSystem();\n\n        public void SendEvent<TEvent>() where TEvent : new() => mTypeEventSystem.Send<TEvent>();\n\n        public void SendEvent<TEvent>(TEvent e) => mTypeEventSystem.Send<TEvent>(e);\n\n        public IUnRegister RegisterEvent<TEvent>(Action<TEvent> onEvent) => mTypeEventSystem.Register<TEvent>(onEvent);\n\n        public void UnRegisterEvent<TEvent>(Action<TEvent> onEvent) => mTypeEventSystem.UnRegister<TEvent>(onEvent);\n    }\n\n    public interface IOnEvent<T>\n    {\n        void OnEvent(T e);\n    }\n\n    public static class OnGlobalEventExtension\n    {\n        public static IUnRegister RegisterEvent<T>(this IOnEvent<T> self) where T : struct =>\n            TypeEventSystem.Global.Register<T>(self.OnEvent);\n\n        public static void UnRegisterEvent<T>(this IOnEvent<T> self) where T : struct =>\n            TypeEventSystem.Global.UnRegister<T>(self.OnEvent);\n    }\n\n    #endregion\n\n    #region Controller\n\n    public interface IController : IBelongToArchitecture, ICanSendCommand, ICanGetSystem, ICanGetModel,\n        ICanRegisterEvent, ICanSendQuery, ICanGetUtility\n    {\n    }\n\n    #endregion\n\n    #region System\n\n    public interface ISystem : IBelongToArchitecture, ICanSetArchitecture, ICanGetModel, ICanGetUtility,\n        ICanRegisterEvent, ICanSendEvent, ICanGetSystem, ICanInit\n    {\n    }\n\n    public abstract class AbstractSystem : ISystem\n    {\n        private IArchitecture mArchitecture;\n\n        IArchitecture IBelongToArchitecture.GetArchitecture() => mArchitecture;\n\n        void ICanSetArchitecture.SetArchitecture(IArchitecture architecture) => mArchitecture = architecture;\n\n        public bool Initialized { get; set; }\n        void ICanInit.Init() => OnInit();\n\n        public void Deinit() => OnDeinit();\n\n        protected virtual void OnDeinit()\n        {\n        }\n\n        protected abstract void OnInit();\n    }\n\n    #endregion\n\n    #region Model\n\n    public interface IModel : IBelongToArchitecture, ICanSetArchitecture, ICanGetUtility, ICanSendEvent, ICanInit\n    {\n    }\n\n    public abstract class AbstractModel : IModel\n    {\n        private IArchitecture mArchitecturel;\n\n        IArchitecture IBelongToArchitecture.GetArchitecture() => mArchitecturel;\n\n        void ICanSetArchitecture.SetArchitecture(IArchitecture architecture) => mArchitecturel = architecture;\n\n        public bool Initialized { get; set; }\n        void ICanInit.Init() => OnInit();\n        public void Deinit() => OnDeinit();\n\n        protected virtual void OnDeinit()\n        {\n        }\n\n        protected abstract void OnInit();\n    }\n\n    #endregion\n\n    #region Utility\n\n    public interface IUtility\n    {\n    }\n\n    #endregion\n\n    #region Command\n\n    public interface ICommand : IBelongToArchitecture, ICanSetArchitecture, ICanGetSystem, ICanGetModel, ICanGetUtility,\n        ICanSendEvent, ICanSendCommand, ICanSendQuery\n    {\n        void Execute();\n    }\n\n    public interface ICommand<TResult> : IBelongToArchitecture, ICanSetArchitecture, ICanGetSystem, ICanGetModel,\n        ICanGetUtility,\n        ICanSendEvent, ICanSendCommand, ICanSendQuery\n    {\n        TResult Execute();\n    }\n\n    public abstract class AbstractCommand : ICommand\n    {\n        private IArchitecture mArchitecture;\n\n        IArchitecture IBelongToArchitecture.GetArchitecture() => mArchitecture;\n\n        void ICanSetArchitecture.SetArchitecture(IArchitecture architecture) => mArchitecture = architecture;\n\n        void ICommand.Execute() => OnExecute();\n\n        protected abstract void OnExecute();\n    }\n\n    public abstract class AbstractCommand<TResult> : ICommand<TResult>\n    {\n        private IArchitecture mArchitecture;\n\n        IArchitecture IBelongToArchitecture.GetArchitecture() => mArchitecture;\n\n        void ICanSetArchitecture.SetArchitecture(IArchitecture architecture) => mArchitecture = architecture;\n\n        TResult ICommand<TResult>.Execute() => OnExecute();\n\n        protected abstract TResult OnExecute();\n    }\n\n    #endregion\n\n    #region Query\n\n    public interface IQuery<TResult> : IBelongToArchitecture, ICanSetArchitecture, ICanGetModel, ICanGetSystem,\n        ICanSendQuery\n    {\n        TResult Do();\n    }\n\n    public abstract class AbstractQuery<T> : IQuery<T>\n    {\n        public T Do() => OnDo();\n\n        protected abstract T OnDo();\n\n\n        private IArchitecture mArchitecture;\n\n        public IArchitecture GetArchitecture() => mArchitecture;\n\n        public void SetArchitecture(IArchitecture architecture) => mArchitecture = architecture;\n    }\n\n    #endregion\n\n    #region Rule\n\n    public interface IBelongToArchitecture\n    {\n        IArchitecture GetArchitecture();\n    }\n\n    public interface ICanSetArchitecture\n    {\n        void SetArchitecture(IArchitecture architecture);\n    }\n\n    public interface ICanGetModel : IBelongToArchitecture\n    {\n    }\n\n    public static class CanGetModelExtension\n    {\n        public static T GetModel<T>(this ICanGetModel self) where T : class, IModel =>\n            self.GetArchitecture().GetModel<T>();\n    }\n\n    public interface ICanGetSystem : IBelongToArchitecture\n    {\n    }\n\n    public static class CanGetSystemExtension\n    {\n        public static T GetSystem<T>(this ICanGetSystem self) where T : class, ISystem =>\n            self.GetArchitecture().GetSystem<T>();\n    }\n\n    public interface ICanGetUtility : IBelongToArchitecture\n    {\n    }\n\n    public static class CanGetUtilityExtension\n    {\n        public static T GetUtility<T>(this ICanGetUtility self) where T : class, IUtility =>\n            self.GetArchitecture().GetUtility<T>();\n    }\n\n    public interface ICanRegisterEvent : IBelongToArchitecture\n    {\n    }\n\n    public static class CanRegisterEventExtension\n    {\n        public static IUnRegister RegisterEvent<T>(this ICanRegisterEvent self, Action<T> onEvent) =>\n            self.GetArchitecture().RegisterEvent<T>(onEvent);\n\n        public static void UnRegisterEvent<T>(this ICanRegisterEvent self, Action<T> onEvent) =>\n            self.GetArchitecture().UnRegisterEvent<T>(onEvent);\n    }\n\n    public interface ICanSendCommand : IBelongToArchitecture\n    {\n    }\n\n    public static class CanSendCommandExtension\n    {\n        public static void SendCommand<T>(this ICanSendCommand self) where T : ICommand, new() =>\n            self.GetArchitecture().SendCommand<T>(new T());\n\n        public static void SendCommand<T>(this ICanSendCommand self, T command) where T : ICommand =>\n            self.GetArchitecture().SendCommand<T>(command);\n\n        public static TResult SendCommand<TResult>(this ICanSendCommand self, ICommand<TResult> command) =>\n            self.GetArchitecture().SendCommand(command);\n    }\n\n    public interface ICanSendEvent : IBelongToArchitecture\n    {\n    }\n\n    public static class CanSendEventExtension\n    {\n        public static void SendEvent<T>(this ICanSendEvent self) where T : new() =>\n            self.GetArchitecture().SendEvent<T>();\n\n        public static void SendEvent<T>(this ICanSendEvent self, T e) => self.GetArchitecture().SendEvent<T>(e);\n    }\n\n    public interface ICanSendQuery : IBelongToArchitecture\n    {\n    }\n\n    public static class CanSendQueryExtension\n    {\n        public static TResult SendQuery<TResult>(this ICanSendQuery self, IQuery<TResult> query) =>\n            self.GetArchitecture().SendQuery(query);\n    }\n\n    public interface ICanInit\n    {\n        bool Initialized { get; set; }\n        void Init();\n        void Deinit();\n    }\n\n    #endregion\n\n    #region TypeEventSystem\n\n    public interface IUnRegister\n    {\n        void UnRegister();\n    }\n\n    public interface IUnRegisterList\n    {\n        List<IUnRegister> UnregisterList { get; }\n    }\n\n    public static class IUnRegisterListExtension\n    {\n        public static void AddToUnregisterList(this IUnRegister self, IUnRegisterList unRegisterList) =>\n            unRegisterList.UnregisterList.Add(self);\n\n        public static void UnRegisterAll(this IUnRegisterList self)\n        {\n            foreach (var unRegister in self.UnregisterList)\n            {\n                unRegister.UnRegister();\n            }\n\n            self.UnregisterList.Clear();\n        }\n    }\n\n    public struct CustomUnRegister : IUnRegister\n    {\n        private Action mOnUnRegister { get; set; }\n        public CustomUnRegister(Action onUnRegister) => mOnUnRegister = onUnRegister;\n\n        public void UnRegister()\n        {\n            mOnUnRegister.Invoke();\n            mOnUnRegister = null;\n        }\n    }\n\n#if UNITY_5_6_OR_NEWER\n    public abstract class UnRegisterTrigger : UnityEngine.MonoBehaviour\n    {\n        private readonly HashSet<IUnRegister> mUnRegisters = new HashSet<IUnRegister>();\n\n        public IUnRegister AddUnRegister(IUnRegister unRegister)\n        {\n            mUnRegisters.Add(unRegister);\n            return unRegister;\n        }\n\n        public void RemoveUnRegister(IUnRegister unRegister) => mUnRegisters.Remove(unRegister);\n\n        public void UnRegister()\n        {\n            foreach (var unRegister in mUnRegisters)\n            {\n                unRegister.UnRegister();\n            }\n\n            mUnRegisters.Clear();\n        }\n    }\n\n    public class UnRegisterOnDestroyTrigger : UnRegisterTrigger\n    {\n        private void OnDestroy()\n        {\n            UnRegister();\n        }\n    }\n\n    public class UnRegisterOnDisableTrigger : UnRegisterTrigger\n    {\n        private void OnDisable()\n        {\n            UnRegister();\n        }\n    }\n\n    public class UnRegisterCurrentSceneUnloadedTrigger : UnRegisterTrigger\n    {\n        private static UnRegisterCurrentSceneUnloadedTrigger mDefault;\n\n        public static UnRegisterCurrentSceneUnloadedTrigger Get\n        {\n            get\n            {\n                if (!mDefault)\n                {\n                    mDefault = new GameObject(\"UnRegisterCurrentSceneUnloadedTrigger\")\n                        .AddComponent<UnRegisterCurrentSceneUnloadedTrigger>();\n                }\n\n                return mDefault;\n            }\n        }\n\n        private void Awake()\n        {\n            DontDestroyOnLoad(this);\n            hideFlags = HideFlags.HideInHierarchy;\n            SceneManager.sceneUnloaded += OnSceneUnloaded;\n        }\n\n        private void OnDestroy() => SceneManager.sceneUnloaded -= OnSceneUnloaded;\n        void OnSceneUnloaded(Scene scene) => UnRegister();\n    }\n#endif\n\n    public static class UnRegisterExtension\n    {\n#if UNITY_5_6_OR_NEWER\n\n        static T GetOrAddComponent<T>(GameObject gameObject) where T : Component\n        {\n            var trigger = gameObject.GetComponent<T>();\n\n            if (!trigger)\n            {\n                trigger = gameObject.AddComponent<T>();\n            }\n\n            return trigger;\n        }\n\n        public static IUnRegister UnRegisterWhenGameObjectDestroyed(this IUnRegister unRegister,\n            UnityEngine.GameObject gameObject) =>\n            GetOrAddComponent<UnRegisterOnDestroyTrigger>(gameObject)\n                .AddUnRegister(unRegister);\n\n        public static IUnRegister UnRegisterWhenGameObjectDestroyed<T>(this IUnRegister self, T component)\n            where T : UnityEngine.Component =>\n            self.UnRegisterWhenGameObjectDestroyed(component.gameObject);\n\n        public static IUnRegister UnRegisterWhenDisabled<T>(this IUnRegister self, T component)\n            where T : UnityEngine.Component =>\n            self.UnRegisterWhenDisabled(component.gameObject);\n\n        public static IUnRegister UnRegisterWhenDisabled(this IUnRegister unRegister,\n            UnityEngine.GameObject gameObject) =>\n            GetOrAddComponent<UnRegisterOnDisableTrigger>(gameObject)\n                .AddUnRegister(unRegister);\n        \n        public static IUnRegister UnRegisterWhenCurrentSceneUnloaded(this IUnRegister self) =>\n            UnRegisterCurrentSceneUnloadedTrigger.Get.AddUnRegister(self);\n#endif\n\n\n#if GODOT\n\t\tpublic static IUnRegister UnRegisterWhenNodeExitTree(this IUnRegister unRegister, Godot.Node node)\n\t\t{\n\t\t\tnode.TreeExiting += unRegister.UnRegister;\n\t\t\treturn unRegister;\n\t\t}\n#endif\n    }\n\n    public class TypeEventSystem\n    {\n        private readonly EasyEvents mEvents = new EasyEvents();\n\n        public static readonly TypeEventSystem Global = new TypeEventSystem();\n\n        public void Send<T>() where T : new() => mEvents.GetEvent<EasyEvent<T>>()?.Trigger(new T());\n\n        public void Send<T>(T e) => mEvents.GetEvent<EasyEvent<T>>()?.Trigger(e);\n\n        public IUnRegister Register<T>(Action<T> onEvent) => mEvents.GetOrAddEvent<EasyEvent<T>>().Register(onEvent);\n\n        public void UnRegister<T>(Action<T> onEvent)\n        {\n            var e = mEvents.GetEvent<EasyEvent<T>>();\n            e?.UnRegister(onEvent);\n        }\n    }\n\n    #endregion\n\n    #region IOC\n\n    public class IOCContainer\n    {\n        private Dictionary<Type, object> mInstances = new Dictionary<Type, object>();\n\n        public void Register<T>(T instance)\n        {\n            var key = typeof(T);\n\n            if (mInstances.ContainsKey(key))\n            {\n                mInstances[key] = instance;\n            }\n            else\n            {\n                mInstances.Add(key, instance);\n            }\n        }\n\n        public T Get<T>() where T : class\n        {\n            var key = typeof(T);\n\n            if (mInstances.TryGetValue(key, out var retInstance))\n            {\n                return retInstance as T;\n            }\n\n            return null;\n        }\n\n        public IEnumerable<T> GetInstancesByType<T>()\n        {\n            var type = typeof(T);\n            return mInstances.Values.Where(instance => type.IsInstanceOfType(instance)).Cast<T>();\n        }\n\n        public void Clear() => mInstances.Clear();\n    }\n\n    #endregion\n\n    #region BindableProperty\n\n    public interface IBindableProperty<T> : IReadonlyBindableProperty<T>\n    {\n        new T Value { get; set; }\n        void SetValueWithoutEvent(T newValue);\n    }\n\n    public interface IReadonlyBindableProperty<T> : IEasyEvent\n    {\n        T Value { get; }\n\n        IUnRegister RegisterWithInitValue(Action<T> action);\n        void UnRegister(Action<T> onValueChanged);\n        IUnRegister Register(Action<T> onValueChanged);\n    }\n\n    public class BindableProperty<T> : IBindableProperty<T>\n    {\n        public BindableProperty(T defaultValue = default) => mValue = defaultValue;\n\n        protected T mValue;\n\n        public static Func<T, T, bool> Comparer { get; set; } = (a, b) => a.Equals(b);\n\n        public BindableProperty<T> WithComparer(Func<T, T, bool> comparer)\n        {\n            Comparer = comparer;\n            return this;\n        }\n\n        public T Value\n        {\n            get => GetValue();\n            set\n            {\n                if (value == null && mValue == null) return;\n                if (value != null && Comparer(value, mValue)) return;\n\n                SetValue(value);\n                mOnValueChanged.Trigger(value);\n            }\n        }\n\n        protected virtual void SetValue(T newValue) => mValue = newValue;\n\n        protected virtual T GetValue() => mValue;\n\n        public void SetValueWithoutEvent(T newValue) => mValue = newValue;\n\n        private EasyEvent<T> mOnValueChanged = new EasyEvent<T>();\n\n        public IUnRegister Register(Action<T> onValueChanged)\n        {\n            return mOnValueChanged.Register(onValueChanged);\n        }\n\n        public IUnRegister RegisterWithInitValue(Action<T> onValueChanged)\n        {\n            onValueChanged(mValue);\n            return Register(onValueChanged);\n        }\n\n        public void UnRegister(Action<T> onValueChanged) => mOnValueChanged.UnRegister(onValueChanged);\n\n        IUnRegister IEasyEvent.Register(Action onEvent)\n        {\n            return Register(Action);\n            void Action(T _) => onEvent();\n        }\n\n        public override string ToString() => Value.ToString();\n    }\n\n    internal class ComparerAutoRegister\n    {\n#if UNITY_5_6_OR_NEWER\n        [UnityEngine.RuntimeInitializeOnLoadMethod(UnityEngine.RuntimeInitializeLoadType.BeforeSceneLoad)]\n        public static void AutoRegister()\n        {\n            BindableProperty<int>.Comparer = (a, b) => a == b;\n            BindableProperty<float>.Comparer = (a, b) => a == b;\n            BindableProperty<double>.Comparer = (a, b) => a == b;\n            BindableProperty<string>.Comparer = (a, b) => a == b;\n            BindableProperty<long>.Comparer = (a, b) => a == b;\n            BindableProperty<UnityEngine.Vector2>.Comparer = (a, b) => a == b;\n            BindableProperty<UnityEngine.Vector3>.Comparer = (a, b) => a == b;\n            BindableProperty<UnityEngine.Vector4>.Comparer = (a, b) => a == b;\n            BindableProperty<UnityEngine.Color>.Comparer = (a, b) => a == b;\n            BindableProperty<UnityEngine.Color32>.Comparer =\n                (a, b) => a.r == b.r && a.g == b.g && a.b == b.b && a.a == b.a;\n            BindableProperty<UnityEngine.Bounds>.Comparer = (a, b) => a == b;\n            BindableProperty<UnityEngine.Rect>.Comparer = (a, b) => a == b;\n            BindableProperty<UnityEngine.Quaternion>.Comparer = (a, b) => a == b;\n            BindableProperty<UnityEngine.Vector2Int>.Comparer = (a, b) => a == b;\n            BindableProperty<UnityEngine.Vector3Int>.Comparer = (a, b) => a == b;\n            BindableProperty<UnityEngine.BoundsInt>.Comparer = (a, b) => a == b;\n            BindableProperty<UnityEngine.RangeInt>.Comparer = (a, b) => a.start == b.start && a.length == b.length;\n            BindableProperty<UnityEngine.RectInt>.Comparer = (a, b) => a.Equals(b);\n        }\n#endif\n    }\n\n    #endregion\n\n    #region EasyEvent\n\n    public interface IEasyEvent\n    {\n        IUnRegister Register(Action onEvent);\n    }\n\n    public class EasyEvent : IEasyEvent\n    {\n        private Action mOnEvent = () => { };\n\n        public IUnRegister Register(Action onEvent)\n        {\n            mOnEvent += onEvent;\n            return new CustomUnRegister(() => { UnRegister(onEvent); });\n        }\n\n        public void UnRegister(Action onEvent) => mOnEvent -= onEvent;\n\n        public void Trigger() => mOnEvent?.Invoke();\n    }\n\n    public class EasyEvent<T> : IEasyEvent\n    {\n        private Action<T> mOnEvent = e => { };\n\n        public IUnRegister Register(Action<T> onEvent)\n        {\n            mOnEvent += onEvent;\n            return new CustomUnRegister(() => { UnRegister(onEvent); });\n        }\n\n        public void UnRegister(Action<T> onEvent) => mOnEvent -= onEvent;\n\n        public void Trigger(T t) => mOnEvent?.Invoke(t);\n\n        IUnRegister IEasyEvent.Register(Action onEvent)\n        {\n            return Register(Action);\n            void Action(T _) => onEvent();\n        }\n    }\n\n    public class EasyEvent<T, K> : IEasyEvent\n    {\n        private Action<T, K> mOnEvent = (t, k) => { };\n\n        public IUnRegister Register(Action<T, K> onEvent)\n        {\n            mOnEvent += onEvent;\n            return new CustomUnRegister(() => { UnRegister(onEvent); });\n        }\n\n        public void UnRegister(Action<T, K> onEvent) => mOnEvent -= onEvent;\n\n        public void Trigger(T t, K k) => mOnEvent?.Invoke(t, k);\n\n        IUnRegister IEasyEvent.Register(Action onEvent)\n        {\n            return Register(Action);\n            void Action(T _, K __) => onEvent();\n        }\n    }\n\n    public class EasyEvent<T, K, S> : IEasyEvent\n    {\n        private Action<T, K, S> mOnEvent = (t, k, s) => { };\n\n        public IUnRegister Register(Action<T, K, S> onEvent)\n        {\n            mOnEvent += onEvent;\n            return new CustomUnRegister(() => { UnRegister(onEvent); });\n        }\n\n        public void UnRegister(Action<T, K, S> onEvent) => mOnEvent -= onEvent;\n\n        public void Trigger(T t, K k, S s) => mOnEvent?.Invoke(t, k, s);\n\n        IUnRegister IEasyEvent.Register(Action onEvent)\n        {\n            return Register(Action);\n            void Action(T _, K __, S ___) => onEvent();\n        }\n    }\n\n    public class EasyEvents\n    {\n        private static readonly EasyEvents mGlobalEvents = new EasyEvents();\n\n        public static T Get<T>() where T : IEasyEvent => mGlobalEvents.GetEvent<T>();\n\n        public static void Register<T>() where T : IEasyEvent, new() => mGlobalEvents.AddEvent<T>();\n\n        private readonly Dictionary<Type, IEasyEvent> mTypeEvents = new Dictionary<Type, IEasyEvent>();\n\n        public void AddEvent<T>() where T : IEasyEvent, new() => mTypeEvents.Add(typeof(T), new T());\n\n        public T GetEvent<T>() where T : IEasyEvent\n        {\n            return mTypeEvents.TryGetValue(typeof(T), out var e) ? (T)e : default;\n        }\n\n        public T GetOrAddEvent<T>() where T : IEasyEvent, new()\n        {\n            var eType = typeof(T);\n            if (mTypeEvents.TryGetValue(eType, out var e))\n            {\n                return (T)e;\n            }\n\n            var t = new T();\n            mTypeEvents.Add(eType, t);\n            return t;\n        }\n    }\n\n    #endregion\n\n\n    #region Event Extension\n\n    public class OrEvent : IUnRegisterList\n    {\n        public OrEvent Or(IEasyEvent easyEvent)\n        {\n            easyEvent.Register(Trigger).AddToUnregisterList(this);\n            return this;\n        }\n\n        private Action mOnEvent = () => { };\n\n        public IUnRegister Register(Action onEvent)\n        {\n            mOnEvent += onEvent;\n            return new CustomUnRegister(() => { UnRegister(onEvent); });\n        }\n\n        public void UnRegister(Action onEvent)\n        {\n            mOnEvent -= onEvent;\n            this.UnRegisterAll();\n        }\n\n        private void Trigger() => mOnEvent?.Invoke();\n\n        public List<IUnRegister> UnregisterList { get; } = new List<IUnRegister>();\n    }\n\n    public static class OrEventExtensions\n    {\n        public static OrEvent Or(this IEasyEvent self, IEasyEvent e) => new OrEvent().Or(self).Or(e);\n    }\n\n    #endregion\n\n#if UNITY_EDITOR\n    internal class EditorMenus\n    {\n        [UnityEditor.MenuItem(\"QFramework/Install QFrameworkWithToolKits\")]\n        public static void InstallPackageKit() => UnityEngine.Application.OpenURL(\"https://qframework.cn/qf\");\n    }\n#endif\n}"
        },
        {
          "name": "QFramework.cs.Examples.unitypackage",
          "type": "blob",
          "size": 1998.306640625,
          "content": null
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 9.7197265625,
          "content": "\n\n\n\n\n\n\n\n![LOGO](LOGO.png)\n\n\n\n[![](https://img.shields.io/badge/license-MIT-blue.svg)](https://github.com/liangxiegame/QFramework/blob/master/LICENSE)\n\n# QFramework ç®€ä»‹ Intro\n\n[ä¸­æ–‡]()|[English](README_EN.md)\n\n[QFramework](https://github.com/liangxiegame/QFramework) æ˜¯æä¾›ä¸€å¥—ç®€å•ã€å¼ºå¤§ã€æ˜“ä¸Šæ‰‹ã€ç¬¦åˆ SOLID åŸåˆ™ã€æ”¯æŒé¢†åŸŸé©±åŠ¨è®¾è®¡ï¼ˆDDDï¼‰ã€äº‹ä»¶é©±åŠ¨ã€æ•°æ®é©±åŠ¨ã€åˆ†å±‚ã€MVC ã€CQRSã€æ¨¡å—åŒ–ã€æ˜“æ‰©å±•çš„æ¶æ„ï¼Œå¥¹çš„æºç åªæœ‰ä¸åˆ° 1000 è¡Œï¼Œä½ å¯ä»¥å®Œå…¨æŠŠå¥¹æ”¾åœ¨ä½ çš„ç¬”è®°åº”ç”¨é‡Œä¿å­˜ã€‚\n\n## æä¾›çš„æ¶æ„å›¾\n\n![](http://processon.com/chart_image/5c270aa6e4b007ba5d5029dc.png)\n\n## ä¸¾ä¸ªä¾‹å­ï¼ˆä¸€å›¾èƒœåƒè¨€ğŸ˜‚ï¼‰\n\n![](https://file.liangxiegame.com/6bf42306-0b2a-4417-bbcf-354af0132596.png)\n\n## å„ç§æƒ…å†µçš„ç¤ºæ„å›¾\n\n![](http://processon.com/chart_image/5cbb1edce4b0bab90960a4f6.png)\n\n## æ¶æ„ä½¿ç”¨è§„èŒƒ\n\n**QFrameworkç³»ç»Ÿè®¾è®¡æ¶æ„åˆ†ä¸ºå››å±‚åŠå…¶è§„åˆ™ï¼š**\n\n* è¡¨ç°å±‚ï¼šViewControllerå±‚ã€‚IControlleræ¥å£ï¼Œè´Ÿè´£æ¥æ”¶è¾“å…¥å’ŒçŠ¶æ€å˜åŒ–æ—¶çš„è¡¨ç°ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒMonoBehaviour å‡ä¸ºè¡¨ç°å±‚\n    * å¯ä»¥è·å–System\n    * å¯ä»¥è·å–Model\n    * å¯ä»¥å‘é€Command\n    * å¯ä»¥ç›‘å¬Event\n* ç³»ç»Ÿå±‚ï¼šSystemå±‚ã€‚ISystemæ¥å£ï¼Œå¸®åŠ©IControlleræ‰¿æ‹…ä¸€éƒ¨åˆ†é€»è¾‘ï¼Œåœ¨å¤šä¸ªè¡¨ç°å±‚å…±äº«çš„é€»è¾‘ï¼Œæ¯”å¦‚è®¡æ—¶ç³»ç»Ÿã€å•†åŸç³»ç»Ÿã€æˆå°±ç³»ç»Ÿç­‰\n    * å¯ä»¥è·å–System\n    * å¯ä»¥è·å–Model\n    * å¯ä»¥ç›‘å¬Event\n    * å¯ä»¥å‘é€Event\n* æ•°æ®å±‚ï¼šModelå±‚ã€‚IModelæ¥å£ï¼Œè´Ÿè´£æ•°æ®çš„å®šä¹‰ã€æ•°æ®çš„å¢åˆ æŸ¥æ”¹æ–¹æ³•çš„æä¾›\n    * å¯ä»¥è·å–Utility\n    * å¯ä»¥å‘é€Event\n* å·¥å…·å±‚ï¼šUtilityå±‚ã€‚IUtilityæ¥å£ï¼Œè´Ÿè´£æä¾›åŸºç¡€è®¾æ–½ï¼Œæ¯”å¦‚å­˜å‚¨æ–¹æ³•ã€åºåˆ—åŒ–æ–¹æ³•ã€ç½‘ç»œè¿æ¥æ–¹æ³•ã€è“ç‰™æ–¹æ³•ã€SDKã€æ¡†æ¶ç»§æ‰¿ç­‰ã€‚å•¥éƒ½å¹²ä¸äº†ï¼Œå¯ä»¥é›†æˆç¬¬ä¸‰æ–¹åº“ï¼Œæˆ–è€…å°è£…API\n* é™¤äº†å››ä¸ªå±‚çº§ï¼Œè¿˜æœ‰ä¸€ä¸ªæ ¸å¿ƒæ¦‚å¿µâ€”â€”Command\n    * å¯ä»¥è·å–System\n    * å¯ä»¥è·å–Model\n    * å¯ä»¥å‘é€Event\n    * å¯ä»¥å‘é€Command\n* å±‚çº§è§„åˆ™ï¼š\n    * IController æ›´æ”¹ ISystemã€IModel çš„çŠ¶æ€å¿…é¡»ç”¨Command\n    * ISystemã€IModelçŠ¶æ€å‘ç”Ÿå˜æ›´åé€šçŸ¥IControllerå¿…é¡»ç”¨äº‹ä»¶æˆ–BindableProperty\n    * IControllerå¯ä»¥è·å–ISystemã€IModelå¯¹è±¡æ¥è¿›è¡Œæ•°æ®æŸ¥è¯¢\n    * ICommandä¸èƒ½æœ‰çŠ¶æ€\n    * ä¸Šå±‚å¯ä»¥ç›´æ¥è·å–ä¸‹å±‚ï¼Œä¸‹å±‚ä¸èƒ½è·å–ä¸Šå±‚å¯¹è±¡\n    * ä¸‹å±‚å‘ä¸Šå±‚é€šä¿¡ç”¨äº‹ä»¶\n    * ä¸Šå±‚å‘ä¸‹å±‚é€šä¿¡ç”¨æ–¹æ³•è°ƒç”¨ï¼ˆåªæ˜¯åšæŸ¥è¯¢ï¼ŒçŠ¶æ€å˜æ›´ç”¨Commandï¼‰ï¼ŒIControllerçš„äº¤äº’é€»è¾‘ä¸ºç‰¹åˆ«æƒ…å†µï¼Œåªèƒ½ç”¨Command\n\nï¼ˆç…§æŠ„è‡ªï¼š[å­¦ç”Ÿè¯¾å ‚ç¬”è®°1](https://github.com/Haogehaojiu/FrameworkDesign)ï¼‰\n\n### è¿è¡Œç¯å¢ƒ\n\n* Unity 2018.4.x ~ Unity 6.x\n\n## å®‰è£…\n\n* QFramework.cs \n    * ç›´æ¥å¤åˆ¶[æ­¤ä»£ç ](QFramework.cs)åˆ°è‡ªå·±é¡¹ç›®ä¸­çš„ä»»æ„è„šæœ¬ä¸­\n* QFramework.cs ä¸ å®˜æ–¹ç¤ºä¾‹\n    * [ç‚¹æ­¤ä¸‹è½½ unitypackage](./QFramework.cs.Examples.unitypackage)\n\n* QFramework.ToolKits\n    * [ç‚¹æ­¤ä¸‹è½½ unitypackage](./QFramework.Toolkits.unitypackage)\n* QFramework.ToolKitsPro\n    * ä» [AssetStore](http://u3d.as/SJ9) å®‰è£…\n\n\n\n## èµ„æº\n\n| **ç‰ˆæœ¬** |                                      |                                                          |\n| ----------------------  | ---------------------------------------- | ------------------------------------------------------------ |\n| QFramework.cs | QFramework æœ¬ä½“æ¶æ„çš„å®ç° | [æ–‡ä»¶](QFramework.cs) |\n| QFramework.cs  ç¤ºä¾‹ | QFramework.cs ä¸å®˜æ–¹ç¤ºä¾‹ï¼š CounterAppã€ã€Šç‚¹ç‚¹ç‚¹ã€‹ã€FlappyBirdã€CubeMasterã€ShootingEditor2Dã€è´ªåƒè›‡ç­‰ | [ç‚¹æ­¤ä¸‹è½½ unitypackage](./QFramework.cs.Examples.unitypackage) |\n| QFramework.Toolkits | QFramework  é›†æˆ CoreKit/UIKit/ActionKit/ResKit/PackageKit/AudioKit ç­‰å…¨éƒ¨å®˜æ–¹å·¥å…·ï¼ˆå·²åŒ…å« QFramework.cs å’Œ ç¤ºä¾‹) | [ç‚¹æ­¤ä¸‹è½½ unitypackage](./QFramework.Toolkits.unitypackage) |\n| QFramework.Toolkits.Demo.WuZiQi | ä½¿ç”¨ QFramework.Toolkits å¼€å‘çš„äº”å­æ£‹ Demoï¼ˆéœ€è¦å®‰è£…å¥½  QFramework.Toolkitsï¼‰ | [ç‚¹æ­¤ä¸‹è½½ unitypackage](./QFramework.Toolkits.Demo.WuZiQi.unitypackage) |\n| QFramework.Toolkits.Demo.Saolei | ä½¿ç”¨ QFramework.Toolkits å¼€å‘çš„æ‰«é›· Demoï¼ˆéœ€è¦å®‰è£…å¥½  QFramework.Toolkitsï¼‰ | [ç‚¹æ­¤ä¸‹è½½ unitypackage](./QFramework.Toolkits.Demo.SaoLei.unitypackage) |\n| QFramework.ToolKitsPro | åœ¨ ToolKits åŸºç¡€ä¸Šé›†æˆæ›´å¤šå¥½ç”¨çš„å·¥å…·çš„ç‰ˆæœ¬ï¼ˆå·²åŒ…å« QFramework.Toolkitsï¼‰ | [AssetStore](http://u3d.as/SJ9) |\n| **ç¾¤å‹æ¡ˆä¾‹** |  |  |\n| èµ›è½¦æ¸¸æˆã€ŠCrazy Carã€‹ | ç¾¤å‹ [TastSong](https://github.com/TastSong) ä½¿ç”¨ QF è¿›è¡Œé‡æ„çš„å¼€æºèµ›è½¦æ¸¸æˆ | [æ¸¸æˆä¸»é¡µ(Github](https://github.com/TastSong/CrazyCar)) |\n| **ç¤¾åŒº** |  |  |\n| QQ ç¾¤1ï¼ˆå·²æ»¡ï¼‰ï¼š623597263 | äº¤æµç¾¤ | [ç‚¹å‡»åŠ ç¾¤](https://qm.qq.com/cgi-bin/qm/qr?k=G4DZ_6qMbN8miP8RcRD9NdhNcVyrD88F&jump_from=webapi&authKey=P8WO3esK/KbDxWPHI5F3EC04IPT6jDSkk/tl73/EHIcRkMTvnLhwpTK1PtHr6V+p) |\n| QQ ç¾¤2ï¼š541745166 | äº¤æµç¾¤ | [ç‚¹å‡»åŠ ç¾¤](https://qm.qq.com/q/VI5Od3rri4) |\n| QQ é¢‘é“ :qframework        | äº¤æµç¾¤&ç¤¾åŒº | [ç‚¹å‡»åŠ å…¥é¢‘é“](https://pd.qq.com/s/52bw86mlv) |\n| **æ•™ç¨‹** |  |  |\n| ã€Šæ¡†æ¶æ­å»º å†³å®šç‰ˆã€‹    | æ•™ç¨‹ QFramework  çš„æ ¸å¿ƒæ¶æ„æ˜¯æ€ä¹ˆæ¼”åŒ–è¿‡æ¥çš„ï¼Ÿ | [è¯¾ç¨‹ä¸»é¡µ](https://learn.u3d.cn/tutorial/framework_design)\\|[å­¦ç”Ÿè¯¾å ‚ç¬”è®°1](https://github.com/Haogehaojiu/FrameworkDesign)\\|[å­¦ç”Ÿè¯¾å ‚ç¬”è®°2](https://github.com/Haogehaojiu/ShootingEditor2D) |\n| **äº§å“æ¡ˆä¾‹** | å¦‚æœç”¨äº† qf å¹¶ä¸”æƒ³è¦åœ¨å¦‚ä¸‹åˆ—è¡¨ä¸­ç™»è®°ï¼Œå¯ä»¥åœ¨ github/gitee çš„ issue é‡Œå‘å¸–å­,ä¹Ÿå¯ä»¥åŠ  qq ç¾¤ï¼Œä¹Ÿå¯ä»¥ç”¨é‚®ç®±è”ç³»å‡‰é‹ liangxiegame@163.comï¼Œå½“ç„¶å¦‚æœçœ‹åˆ°ä½¿ç”¨ qf çš„é¡¹ç›®ï¼Œæˆ‘ä¹Ÿä¼šå…ˆå»å°è¯•å¾å¾—åŒæ„å†æ”¾åˆ°å¦‚ä¸‹åˆ—è¡¨ã€‚ |  |\n| ![](./README/boxbread.jpeg) | ç‹¬ç«‹æ¸¸æˆã€Šç›’å­é¢åŒ…åŠã€‹ | [TapTap](https://www.taptap.cn/app/384085) \\| [Steam](https://store.steampowered.com/app/2942950/_/) |\n| ![](./README/X-teroids.png) | ç‹¬ç«‹æ¸¸æˆã€ŠX-teriodsã€‹ | [Steam](https://store.steampowered.com/app/3342540/Xteroids/) |\n| ![](./README/hanchen.jpg) | ç‹¬ç«‹æ¸¸æˆã€Šæ±‰å°˜ï¼šè…è‰ä¸ºè¤ã€‹ | [Steam](https://store.steampowered.com/app/2078910/_/)\\|[æ‘©ç‚¹](https://m.modian.com/project/135490.html) |\n| ![](./README/thebirthofsprites.jpg) | ç‹¬ç«‹æ¸¸æˆã€Šä½ å¥½èŒ„å­ï¼šç²¾çµçš„è¯ç”Ÿã€‹ | [Steam](https://store.steampowered.com/app/2375290/_/) |\n| ![](./README/huoche.jpg) | ç‹¬ç«‹æ¸¸æˆã€Šå½“ç«è½¦é¸£ç¬›ä¸‰ç§’ã€‹ | [Steam](https://store.steampowered.com/app/1563700/_/)\\|[TapTap](https://www.taptap.cn/app/208258) |\n| ![](./README/qiezi1.jpg) | ç‹¬ç«‹æ¸¸æˆã€Šä½ å¥½èŒ„å­ã€‹ | [Steam](https://store.steampowered.com/app/2091640/Hi_Eggplant/) |\n| ![](./README/1stmountain.jpg) | ç‹¬ç«‹æ¸¸æˆã€Šç¬¬ä¸€åº§å±±ã€‹ | [Steam](https://store.steampowered.com/app/2149980/The_First_Mountain/) |\n| ![](./README/tuimiepaopaomu.webp) | ç‹¬ç«‹æ¸¸æˆã€Šæ¨ç­æ³¡æ³¡å§†ã€‹ | [TapTap](https://www.taptap.com/app/233228) |\n| ![](./README/utgm.jpg) | ç‹¬ç«‹æ¸¸æˆã€Šé¬¼å±±ä¹‹ä¸‹ã€‹ | [Steam](https://store.steampowered.com/app/1517160/_/) |\n| ![](./README/xieyingeng.png) | æ‰‹æœºæ¸¸æˆã€Šè°éŸ³æ¢—æŒ‘æˆ˜ã€‹ | [TapTap](https://www.taptap.com/app/201075)        |\n| **å…¶ä»–ç›¸å…³æ•™ç¨‹** |  |  |\n| ã€Šç‹¬ç«‹æ¸¸æˆä½“éªŒè®¡åˆ’ã€‹ï¼ˆçŒ«å”ï¼‰ | ç‹¬ç«‹æ¸¸æˆåˆ¶ä½œä½“éªŒæ•™ç¨‹ï¼Œæœ‰ç”¨åˆ° QFramework.cs | [b ç«™](https://space.bilibili.com/656352) |\n| ã€ŠåŸåˆ›ç‹¬ç«‹æ¸¸æˆåˆ¶ä½œï¼šå¹³å°å°„å‡» Roguelikeã€‹ï¼ˆå‡‰é‹ï¼‰ | åŸåˆ›ç‹¬ç«‹æ¸¸æˆåˆ¶ä½œæ•™ç¨‹ï¼Œæœ‰ç”¨åˆ° QFramework.cs | [b ç«™](https://space.bilibili.com/60450548/channel/collectiondetail?sid=125221) |\n| ã€ŠåŸåˆ›ç‹¬ç«‹æ¸¸æˆåˆ¶ä½œï¼šç±»æ˜Ÿéœ²è°·ã€‹ï¼ˆå‡‰é‹ï¼‰ | åŸåˆ›ç‹¬ç«‹æ¸¸æˆåˆ¶ä½œæ•™ç¨‹ï¼Œæœ‰ç”¨åˆ° PlayMakerã€QFramework.Tookits | [b ç«™](https://space.bilibili.com/60450548/channel/collectiondetail?sid=919279) |\n| ã€ŠQFramework æ¸¸æˆå¼€å‘ï¼šç±»å¹¸å­˜è€…ã€‹ | é¢å‘ QFramework çš„æ¸¸æˆå¼€å‘æ•™ç¨‹ï¼Œå®Œæˆä¸€æ¬¾ç±»å¸è¡€é¬¼å¹¸å­˜è€…æ¸¸æˆã€‚ | [b ç«™](https://www.bilibili.com/video/BV1Uu4y1i7WH/) |\n| ã€ŠQFramework æ•™ç¨‹å¹´ä¼šå‘˜ã€‹ | QFramework ç›¸å…³çš„è¯¾ç¨‹æ¡ˆä¾‹ | [GamePix](https://www.gamepixedu.com/goods/show/55) |\n\n\n\n## Star è¶‹åŠ¿ï¼ˆå¦‚æœé¡¹ç›®æœ‰å¸®åˆ°æ‚¨æ¬¢è¿ç‚¹èµï¼‰\n\n[![Stargazers over time](https://starchart.cc/liangxiegame/QFramework.svg)](https://starchart.cc/liangxiegame/QFramework)\n\n\n\n### ä½œè€…\n\n* [å‡‰é‹ liangxiegame](https://github.com/liangxiegame)\n\n### è´¡çŒ®è€…\n\n* [äº¬äº§è‚ é¥­]( https://gitee.com/JingChanChangFan/hk_-unity-tools)\n\n* [çŒ«å”(ä¸€åªçš®çš®è™¾)]( https://space.bilibili.com/656352/)\n\n* [TastSong]( https://github.com/TastSong)\n\n* [misakiMeiii](https://github.com/misakiMeiii)\n\n* [soso](https://github.com/so-sos-so)\n\n* [è“è‰²å­¤èˆŸ gdtdftdqtd](https://github.com/gdtdftdqtd)\n\n* [h3166179](https://github.com/h3166179)\n\n* [è‘«èŠ¦ WangEdgar](https://github.com/WangEdgar)\n\n* Newä¸€å¤©\n\n* å¹½é£å†·å‡é›ªï½å†·\n\n\n### ä¼˜ç§€çš„ Unity åº“ã€æ¡†æ¶\n\n- [ET](https://github.com/egametang/ET)ï¼šET Unity3D Client And C# Server Framework\n- [IFrameworkï¼ˆOnClickï¼‰](https://github.com/OnClick9927/IFramework) Simple Unity Tools\n- [JEngine](https://github.com/JasonXuDeveloper/JEngine)  ä½¿Unityå¼€å‘çš„æ¸¸æˆæ”¯æŒçƒ­æ›´æ–°çš„è§£å†³æ–¹æ¡ˆã€‚\n- [TinaX Framework](https://tinax.corala.space/) â€œå¼€ç®±å³ç”¨â€çš„Unityç‹¬ç«‹æ¸¸æˆå¼€å‘å·¥å…·\n\n### ä»£ç è§„èŒƒå®Œå…¨éµå¾ª:\n\n[QCSharpStyleGuide](https://github.com/liangxiegame/QCSharpStyleGuide)\n\n\n### èµåŠ© Donate:\n\n* å¦‚æœè§‰å¾—ä¸é”™å¯ä»¥åœ¨ [è¿™é‡Œ Asset Store](http://u3d.as/SJ9) ç»™ä¸ª 5 æ˜Ÿå“¦~ give 5 star\n* æˆ–è€…ç»™æ­¤ä»“åº“ä¸€ä¸ªå°å°çš„ Star~ star this repository\n* ä»¥ä¸Šè¿™äº›éƒ½ä¼šè½¬åŒ–æˆæˆ‘ä»¬çš„åŠ¨åŠ›,æä¾›æ›´å¥½çš„æŠ€æœ¯æœåŠ¡! \n\n\n\n### é¸£è°¢\n\næ„Ÿè°¢ JetBrains å…¬å¸æä¾›çš„ä½¿ç”¨è®¸å¯è¯ï¼\n\n<p><a href=\"https://www.jetbrains.com/?from=QFramework \">\n<img src=\"https://file.liangxiegame.com/2bf40802-c296-4bdc-bc8a-718000503771.png\" alt=\"JetBrainsçš„Logo\" width=\"20%\" height=\"20%\"></a></p>\n\næœ¬å¼€æºé¡¹ç›®ç”± [QFramework æ•™ç¨‹å¹´ä¼šå‘˜](https://www.gamepixedu.com/goods/show/55) æä¾›èµ„åŠ©\n"
        },
        {
          "name": "README",
          "type": "tree",
          "content": null
        },
        {
          "name": "README_EN.md",
          "type": "blob",
          "size": 8.7822265625,
          "content": "![LOGO](https://file.liangxiegame.com/67ca2c27-d711-40b2-96f3-d2f6071e3f3c.png)\n\n[![](https://img.shields.io/badge/license-MIT-blue.svg)](https://github.com/liangxiegame/QFramework/blob/master/LICENSE)\n[![Build Status](https://travis-ci.org/liangxiegame/QFramework.svg?branch=master)](https://travis-ci.org/liangxiegame/QFramework)\n\n\n# QFramework Intro\n\n[ä¸­æ–‡](README)|[English](README_EN.md)\n\n[QFramework](https://github.com/liangxiegame/QFramework)  is a framework. she support solid pricinpleã€domain design drivenã€event-drivenã€data-drivenã€layeredã€mvcã€cqrsã€modulizationã€extendableã€scalable architecture. Simple but powerful! she only has 800 lines of code.can save to a note-taking app. \n\n## Architecture diagram\n\n![](http://processon.com/chart_image/5c270aa6e4b007ba5d5029dc.png)\n\n## For Exampleï¼ˆğŸ˜‚ï¼‰\n\n![](https://file.liangxiegame.com/5fcdf6d1-0605-4ae6-b4bf-12e661eb2f1e.png)\n\n## Schematic diagram of various situations\n\n![](http://processon.com/chart_image/5cbb1edce4b0bab90960a4f6.png)\n\n## Architecture Rule\n\n**QFramework System Design Architecture has 4 layersï¼š**\n\n* Presentation Layerï¼šViewController Layer. Using IController interfaceï¼Œrecive input from user and state changed event from model. In unity MonoBehaviour is on presentation layer\n    * Can get System\n    * Can get Model\n    * Can send Command\n    * Can listen Event\n* System Layerï¼šUsing ISystem interface. share IController's part of responsibility. Sharing logic shared across multiple presentation layersï¼Œsuchas time systemã€shop systemã€archivement system.\n    * Can get System\n    * Can get Model\n    * Can listen Event\n    * Can send Event\n* Model Layerï¼šUsing IModel interface.Responsible for data definition, data addition, deletion, query and modification methods.\n    * Can get Utility\n    * Can send Event\n* Utility Layerï¼šUsing IUtility interface.Responsible for providing infrastructure, such as storage method, serialization method, network connection method, Bluetooth method, SDK, framework inheritance, etc. Nothing can be done. You can integrate third-party libraries or encapsulate APIs\n* In addition to the four layers, there is a core concept - command\n    * Can get System\n    * Can get Model\n    * Can send Event\n    * Can send Command\n* Layer Ruleï¼š\n    * IController change ISystemã€IModel's state by Command\n    * Notify icontroller after the change of ISystem and IModel must use event or bindableproperty\n    * IController can get ISystemã€IModel for data query\n    * ICommand cannot have state\n    * The upper layer can directly obtain the lower layer, and the lower layer cannot obtain the upper object\n    * Events for lower layer to upper layer communication\n    * The communication between the upper layer and the lower layer is called by method (only for query and command for state change). The interaction logic of IController is special, and command can only be used\n\nï¼ˆç…§æŠ„è‡ªï¼š[å­¦ç”Ÿè¯¾å ‚ç¬”è®°1](https://github.com/Haogehaojiu/FrameworkDesign)ï¼‰\n\n### Environment\n\n* Unity 2018.4.x ~ 2021.x\n\n## Install\n\n* QFramework.cs\n    * copy [this code](QFramework.cs) to your project\n\n* QFramework.cs With Examples\n    * [downlowd unitypackage](./QFramework.cs.Examples.unitypackage)\n* QFramework.ToolKits\n    * [downlowd unitypackage](./QFramework.Toolkits.unitypackage)\n* QFramework.ToolkitsPro\n    * install by [Asset Store](http://u3d.as/SJ9) \n\n\n\n\n## Resources\n\n| **Version**                                 |                                                              |                                                              |\n| ------------------------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |\n| QFramework.cs                               | Implementation of qframework ontology architecture           | [code file](./QFramework.cs)                                 |\n| QFramework.cs With Examples                 | QFramework.cs and  Examplesï¼šCounterAppã€Point Point Pointã€CubeMasterã€FlappyBirdã€ShootingEditor2Dã€SnakeGame  etc (QFramework.cs included) | [downlowd unitypackage](./QFramework.cs.Examples.unitypackage) |\n| QFramework.ToolKits                         | QFramework.cs  with UIKit/ActionKit/ResKit/PackageKit/AudioKit (QFramework.cs and examples included) | [downlowd unity package](./QFramework.Toolkits.unitypackage) |\n| QFramework.Toolkits.Demo.WuZiQi             | Gobang Demo by QFramework.Toolkitsï¼ˆNeed Install QFramework.Toolkitsï¼‰ | [download unitypackage](./QFramework.Toolkits.Demo.WuZiQi.unitypackage) |\n| QFramework.Toolkits.Demo.Saolei             | Mine clearance Demo by QFramework.Toolkitsï¼ˆNeed Install QFramework.Toolkitsï¼‰ | [download unitypackage](./QFramework.Toolkits.Demo.SaoLei.unitypackage) |\n| QFramework.ToolKitsPro                      | More Powerful Tools version based on QFramework.ToolKits (QFramework.Toolkits included) | [AssetStore](http://u3d.as/SJ9)                              |\n| **Community**                               |                                                              |                                                              |\n| github issue                                | github community                                             | [address](https://github.com/liangxiegame/QFramework/issues/new) |\n| gitee issue                                 | gitee community                                              | [address](https://gitee.com/liangxiegame/QFramework/issues)  |\n| **ShowCase**                                | email me or publish on github's issue. My email: liangxiegame@163.com |                                                              |\n| ã€ŠBox Bakeryã€‹                              |                                                              | [Steam](https://store.steampowered.com/app/2942950/Box_Bakery/) |\n| ã€ŠX-teroidsã€‹                               |                                                              | [Steam](https://store.steampowered.com/app/3342540/Xteroids/) |\n| ã€ŠThe last day of Han dynastyã€‹             |                                                              | [Steam](https://store.steampowered.com/app/2078910/_/)       |\n| ã€ŠHi Eggplantï¼šThe Birth Of Spritesã€‹       |                                                              | [Steam](https://store.steampowered.com/app/2375290/_/)       |\n| ã€ŠWhen The Train Buzzes For Three Secondsã€‹ |                                                              | [Steam](https://store.steampowered.com/app/1563700/_/)\\|[TapTap](https://www.taptap.cn/app/208258) |\n| ã€ŠHi Eggplantã€‹                             |                                                              | [Steam](https://store.steampowered.com/app/2091640/Hi_Eggplant/) |\n| ã€ŠThe First Mountainã€‹                      |                                                              | [Steam](https://store.steampowered.com/app/2149980/The_First_Mountain/) |\n| ã€ŠHi Eggplantã€‹                             |                                                              | [Steam](https://store.steampowered.com/app/2091640/Hi_Eggplant/) |\n| ã€ŠUnder The Ghost Mountainã€‹                |                                                              | [Steam](https://store.steampowered.com/app/1517160/_/)       |\n\n\n\n## Star Trends\n\n[![Stargazers over time](https://starchart.cc/liangxiegame/QFramework.svg)](https://starchart.cc/liangxiegame/QFramework)\n\n\n### Author\n\n* [å‡‰é‹ liangxiegame](https://github.com/liangxiegame)\n\n### Contributors\n\n* [äº¬äº§è‚ é¥­]( https://gitee.com/JingChanChangFan/hk_-unity-tools)\n\n* [çŒ«å”(ä¸€åªçš®çš®è™¾)]( https://space.bilibili.com/656352/)\n\n* [TastSong]( https://github.com/TastSong)\n\n* [misakiMeiii](https://github.com/misakiMeiii)\n\n* [soso](https://github.com/so-sos-so)\n\n* [è“è‰²å­¤èˆŸ gdtdftdqtd](https://github.com/gdtdftdqtd)\n\n* [h3166179](https://github.com/h3166179)\n\n* [è‘«èŠ¦ WangEdgar](https://github.com/WangEdgar)\n\n* Newä¸€å¤©\n\n* å¹½é£å†·å‡é›ªï½å†·\n\n\n### Other Awesome Framework\n\n- [ET](https://github.com/egametang/ET)ï¼šET Unity3D Client And C# Server Framework\n- [JEngine](https://github.com/JasonXuDeveloper/JEngine)  The solution that allows unity games update in runtime.\n- [TinaX Framework](https://tinax.corala.space/) â€œå¼€ç®±å³ç”¨â€çš„Unityç‹¬ç«‹æ¸¸æˆå¼€å‘å·¥å…·\n\n### Code Style:\n\n[QCSharpStyleGuide](https://github.com/liangxiegame/QCSharpStyleGuide)\n\n\n### Donate:\n\n* å¦‚æœè§‰å¾—ä¸é”™å¯ä»¥åœ¨ [Asset Store](http://u3d.as/SJ9) ç»™ä¸ª 5 æ˜Ÿå“¦~ give 5 star\n* æˆ–è€…ç»™æ­¤ä»“åº“ä¸€ä¸ªå°å°çš„  Star~ star this repository\n* ä»¥ä¸Šè¿™äº›éƒ½ä¼šè½¬åŒ–æˆæˆ‘ä»¬çš„åŠ¨åŠ›,æä¾›æ›´å¥½çš„æŠ€æœ¯æœåŠ¡! \n\n### Credits:\n\nThanks for Licenses Supporting by JetBrains Company\n\n<p><a href=\"https://www.jetbrains.com/?from=QFramework \">\n<img src=\"https://file.liangxiegame.com/2bf40802-c296-4bdc-bc8a-718000503771.png\" alt=\"JetBrainsçš„Logo\" width=\"20%\" height=\"20%\"></a></p>"
        }
      ]
    }
  ]
}