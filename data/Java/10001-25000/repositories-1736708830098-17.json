{
  "metadata": {
    "timestamp": 1736708830098,
    "page": 17,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjIw",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "google/ExoPlayer",
      "stars": 21759,
      "defaultBranch": "release-v2",
      "files": [
        {
          "name": ".github",
          "type": "tree",
          "content": null
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 1.0517578125,
          "content": "# Android generated\nbin\ngen\nlibs\nobj\nlint.xml\n\n# IntelliJ IDEA\n.idea\n*.iml\n*.ipr\n*.iws\nclasses\ngen-external-apklibs\n\n# Eclipse\n.project\n.classpath\n.settings\n.checkstyle\n.cproject\n\n# Gradle\n.gradle\nbuild\nbuildout\nout\n\n# Maven\ntarget\nrelease.properties\npom.xml.*\n\n# Ant\nant.properties\nlocal.properties\nproguard.cfg\nproguard-project.txt\n\n# Bazel\nbazel-bin\nbazel-genfiles\nbazel-out\nbazel-testlogs\n\n# Other\n.DS_Store\ncmake-build-debug\ndist\njacoco.exec\ntmp\n\n# External native builds\n.externalNativeBuild\n\n# VP9 extension\nextensions/vp9/src/main/jni/libvpx\nextensions/vp9/src/main/jni/libvpx_android_configs\nextensions/vp9/src/main/jni/libyuv\n\n# AV1 extension\nextensions/av1/src/main/jni/cpu_features\nextensions/av1/src/main/jni/libgav1\n\n# Opus extension\nextensions/opus/src/main/jni/libopus\n\n# FLAC extension\nextensions/flac/src/main/jni/flac\n\n# FFmpeg extension\nextensions/ffmpeg/src/main/jni/ffmpeg\n\n# Cronet extension\nextensions/cronet/jniLibs/*\n!extensions/cronet/jniLibs/README.md\nextensions/cronet/libs/*\n!extensions/cronet/libs/README.md\n\n# MIDI extension\nextensions/midi/lib\n"
        },
        {
          "name": ".idea",
          "type": "tree",
          "content": null
        },
        {
          "name": "CONTRIBUTING.md",
          "type": "blob",
          "size": 0.26953125,
          "content": "# How to contribute #\n\n## Reporting issues ##\n\nThe ExoPlayer project is now developed as part of the\n[AndroidX Media](https://github.com/androidx/media/blob/release/CONTRIBUTING.md)\nproject. Please use that project to file bugs, feature requests, questions and\npull requests.\n"
        },
        {
          "name": "LICENSE",
          "type": "blob",
          "size": 11.091796875,
          "content": "\n                                 Apache License\n                           Version 2.0, January 2004\n                        http://www.apache.org/licenses/\n\n   TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION\n\n   1. Definitions.\n\n      \"License\" shall mean the terms and conditions for use, reproduction,\n      and distribution as defined by Sections 1 through 9 of this document.\n\n      \"Licensor\" shall mean the copyright owner or entity authorized by\n      the copyright owner that is granting the License.\n\n      \"Legal Entity\" shall mean the union of the acting entity and all\n      other entities that control, are controlled by, or are under common\n      control with that entity. For the purposes of this definition,\n      \"control\" means (i) the power, direct or indirect, to cause the\n      direction or management of such entity, whether by contract or\n      otherwise, or (ii) ownership of fifty percent (50%) or more of the\n      outstanding shares, or (iii) beneficial ownership of such entity.\n\n      \"You\" (or \"Your\") shall mean an individual or Legal Entity\n      exercising permissions granted by this License.\n\n      \"Source\" form shall mean the preferred form for making modifications,\n      including but not limited to software source code, documentation\n      source, and configuration files.\n\n      \"Object\" form shall mean any form resulting from mechanical\n      transformation or translation of a Source form, including but\n      not limited to compiled object code, generated documentation,\n      and conversions to other media types.\n\n      \"Work\" shall mean the work of authorship, whether in Source or\n      Object form, made available under the License, as indicated by a\n      copyright notice that is included in or attached to the work\n      (an example is provided in the Appendix below).\n\n      \"Derivative Works\" shall mean any work, whether in Source or Object\n      form, that is based on (or derived from) the Work and for which the\n      editorial revisions, annotations, elaborations, or other modifications\n      represent, as a whole, an original work of authorship. For the purposes\n      of this License, Derivative Works shall not include works that remain\n      separable from, or merely link (or bind by name) to the interfaces of,\n      the Work and Derivative Works thereof.\n\n      \"Contribution\" shall mean any work of authorship, including\n      the original version of the Work and any modifications or additions\n      to that Work or Derivative Works thereof, that is intentionally\n      submitted to Licensor for inclusion in the Work by the copyright owner\n      or by an individual or Legal Entity authorized to submit on behalf of\n      the copyright owner. For the purposes of this definition, \"submitted\"\n      means any form of electronic, verbal, or written communication sent\n      to the Licensor or its representatives, including but not limited to\n      communication on electronic mailing lists, source code control systems,\n      and issue tracking systems that are managed by, or on behalf of, the\n      Licensor for the purpose of discussing and improving the Work, but\n      excluding communication that is conspicuously marked or otherwise\n      designated in writing by the copyright owner as \"Not a Contribution.\"\n\n      \"Contributor\" shall mean Licensor and any individual or Legal Entity\n      on behalf of whom a Contribution has been received by Licensor and\n      subsequently incorporated within the Work.\n\n   2. Grant of Copyright License. Subject to the terms and conditions of\n      this License, each Contributor hereby grants to You a perpetual,\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n      copyright license to reproduce, prepare Derivative Works of,\n      publicly display, publicly perform, sublicense, and distribute the\n      Work and such Derivative Works in Source or Object form.\n\n   3. Grant of Patent License. Subject to the terms and conditions of\n      this License, each Contributor hereby grants to You a perpetual,\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n      (except as stated in this section) patent license to make, have made,\n      use, offer to sell, sell, import, and otherwise transfer the Work,\n      where such license applies only to those patent claims licensable\n      by such Contributor that are necessarily infringed by their\n      Contribution(s) alone or by combination of their Contribution(s)\n      with the Work to which such Contribution(s) was submitted. If You\n      institute patent litigation against any entity (including a\n      cross-claim or counterclaim in a lawsuit) alleging that the Work\n      or a Contribution incorporated within the Work constitutes direct\n      or contributory patent infringement, then any patent licenses\n      granted to You under this License for that Work shall terminate\n      as of the date such litigation is filed.\n\n   4. Redistribution. You may reproduce and distribute copies of the\n      Work or Derivative Works thereof in any medium, with or without\n      modifications, and in Source or Object form, provided that You\n      meet the following conditions:\n\n      (a) You must give any other recipients of the Work or\n          Derivative Works a copy of this License; and\n\n      (b) You must cause any modified files to carry prominent notices\n          stating that You changed the files; and\n\n      (c) You must retain, in the Source form of any Derivative Works\n          that You distribute, all copyright, patent, trademark, and\n          attribution notices from the Source form of the Work,\n          excluding those notices that do not pertain to any part of\n          the Derivative Works; and\n\n      (d) If the Work includes a \"NOTICE\" text file as part of its\n          distribution, then any Derivative Works that You distribute must\n          include a readable copy of the attribution notices contained\n          within such NOTICE file, excluding those notices that do not\n          pertain to any part of the Derivative Works, in at least one\n          of the following places: within a NOTICE text file distributed\n          as part of the Derivative Works; within the Source form or\n          documentation, if provided along with the Derivative Works; or,\n          within a display generated by the Derivative Works, if and\n          wherever such third-party notices normally appear. The contents\n          of the NOTICE file are for informational purposes only and\n          do not modify the License. You may add Your own attribution\n          notices within Derivative Works that You distribute, alongside\n          or as an addendum to the NOTICE text from the Work, provided\n          that such additional attribution notices cannot be construed\n          as modifying the License.\n\n      You may add Your own copyright statement to Your modifications and\n      may provide additional or different license terms and conditions\n      for use, reproduction, or distribution of Your modifications, or\n      for any such Derivative Works as a whole, provided Your use,\n      reproduction, and distribution of the Work otherwise complies with\n      the conditions stated in this License.\n\n   5. Submission of Contributions. Unless You explicitly state otherwise,\n      any Contribution intentionally submitted for inclusion in the Work\n      by You to the Licensor shall be under the terms and conditions of\n      this License, without any additional terms or conditions.\n      Notwithstanding the above, nothing herein shall supersede or modify\n      the terms of any separate license agreement you may have executed\n      with Licensor regarding such Contributions.\n\n   6. Trademarks. This License does not grant permission to use the trade\n      names, trademarks, service marks, or product names of the Licensor,\n      except as required for reasonable and customary use in describing the\n      origin of the Work and reproducing the content of the NOTICE file.\n\n   7. Disclaimer of Warranty. Unless required by applicable law or\n      agreed to in writing, Licensor provides the Work (and each\n      Contributor provides its Contributions) on an \"AS IS\" BASIS,\n      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or\n      implied, including, without limitation, any warranties or conditions\n      of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A\n      PARTICULAR PURPOSE. You are solely responsible for determining the\n      appropriateness of using or redistributing the Work and assume any\n      risks associated with Your exercise of permissions under this License.\n\n   8. Limitation of Liability. In no event and under no legal theory,\n      whether in tort (including negligence), contract, or otherwise,\n      unless required by applicable law (such as deliberate and grossly\n      negligent acts) or agreed to in writing, shall any Contributor be\n      liable to You for damages, including any direct, indirect, special,\n      incidental, or consequential damages of any character arising as a\n      result of this License or out of the use or inability to use the\n      Work (including but not limited to damages for loss of goodwill,\n      work stoppage, computer failure or malfunction, or any and all\n      other commercial damages or losses), even if such Contributor\n      has been advised of the possibility of such damages.\n\n   9. Accepting Warranty or Additional Liability. While redistributing\n      the Work or Derivative Works thereof, You may choose to offer,\n      and charge a fee for, acceptance of support, warranty, indemnity,\n      or other liability obligations and/or rights consistent with this\n      License. However, in accepting such obligations, You may act only\n      on Your own behalf and on Your sole responsibility, not on behalf\n      of any other Contributor, and only if You agree to indemnify,\n      defend, and hold each Contributor harmless for any liability\n      incurred by, or claims asserted against, such Contributor by reason\n      of your accepting any such warranty or additional liability.\n\n   END OF TERMS AND CONDITIONS\n\n   APPENDIX: How to apply the Apache License to your work.\n\n      To apply the Apache License to your work, attach the following\n      boilerplate notice, with the fields enclosed by brackets \"[]\"\n      replaced with your own identifying information. (Don't include\n      the brackets!)  The text should be enclosed in the appropriate\n      comment syntax for the file format. We also recommend that a\n      file or class name and description of purpose be included on the\n      same \"printed page\" as the copyright notice for easier\n      identification within third-party archives.\n\n   Copyright [yyyy] [name of copyright owner]\n\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 0.755859375,
          "content": "# ExoPlayer\n\n**This GitHub project is deprecated.**  The latest version of ExoPlayer is\npublished as part of [AndroidX Media3][].\n\nAll users should migrate to AndroidX Media3. Please refer to our [migration\nguide and script][] to move your codebase to the Media3 package names.\n\n*   As of 2024-04-03 we have stopped pushing commits to the `dev-v2` branch in\n    this repository. New ExoPlayer code is available in the AndroidX Media\n    GitHub repository: https://github.com/androidx/media\n*   `exoplayer:2.19.1` was the last artifact released from this project, we\n    don't plan to release any more.\n\n[AndroidX Media3]: https://github.com/androidx/media\n[migration guide and script]: https://developer.android.com/guide/topics/media/media3/getting-started/migration-guide\n"
        },
        {
          "name": "RELEASENOTES.md",
          "type": "blob",
          "size": 276.2763671875,
          "content": "# Release notes\n\n### 2.19.1 (2023-08-14)\n\nThis is the last planned release of the `com.google.android.exoplayer2`\nartifacts. This project is now deprecated. All users should migrate to\n`androidx.media3` (which contains the same ExoPlayer code). See\n[the migration guide](https://developer.android.com/guide/topics/media/media3/getting-started/migration-guide)\nfor more details, including a script to help with the migration.\n\nThis release corresponds to the\n[AndroidX Media3 1.1.1 release](https://github.com/androidx/media/releases/tag/1.1.1).\n\n*   Common Library:\n    *   Remove accidentally added `multidex` dependency from all modules\n        ([#499](https://github.com/androidx/media/issues/499)).\n*   ExoPlayer:\n    *   Fix issue in `PlaybackStatsListener` where spurious `PlaybackStats` are\n        created after the playlist is cleared.\n    *   Add additional fields to Common Media Client Data (CMCD) logging:\n        streaming format (sf), stream type (st), version (v), top birate (tb),\n        object duration (d), measured throughput (mtp) and object type (ot)\n        ([#8699](https://github.com/google/ExoPlayer/issues/8699)).\n*   Audio:\n    *   Fix a bug where `Player.getState()` never transitioned to `STATE_ENDED`\n        when playing very short files\n        ([#538](https://github.com/androidx/media/issues/538)).\n*   Audio Offload:\n    *   Prepend Ogg ID Header and Comment Header Pages to bitstream for\n        offloaded Opus playback in accordance with RFC 7845.\n*   Video:\n    *   H.265/HEVC: Fix parsing SPS short and long term reference picture info.\n*   Text:\n    *   CEA-608: Change cue truncation logic to only consider visible text.\n        Previously indent and tab offset were included when limiting the cue\n        length to 32 characters (which was technically correct by the spec)\n        ([#11019](https://github.com/google/ExoPlayer/issues/11019)).\n*   IMA extension:\n    *   Bump IMA SDK version to 3.30.3.\n\n### 2.19.0 (2023-07-05)\n\nThis release corresponds to the\n[AndroidX Media3 1.1.0 release](https://github.com/androidx/media/releases/tag/1.1.0).\n\n*   Common Library:\n    *   Add suppression reason for unsuitable audio route and play when ready\n        change reason for suppressed too long.\n        ([#15](https://github.com/androidx/media/issues/15)).\n    *   Add commands to Player:\n        *   `COMMAND_GET_METADATA`\n        *   `COMMAND_SET_PLAYLIST_METADATA`\n        *   `COMMAND_SET_DEVICE_VOLUME_WITH_FLAGS`\n        *   `COMMAND_ADJUST_DEVICE_VOLUME_WITH_FLAGS`\n    *   Add overloaded methods to Player which allow users to specify volume\n        flags:\n        *   `void setDeviceVolume(int, int)`\n        *   `void increaseDeviceVolume(int)`\n        *   `void decreaseDeviceVolume(int)`\n        *   `void setDeviceMuted(boolean, int)`\n    *   Add `Builder` for `DeviceInfo` and deprecate existing constructor.\n    *   Add `DeviceInfo.routingControllerId` to specify the routing controller\n        ID for remote playbacks.\n    *   Add `Player.replaceMediaItem(s)` as a shortcut to adding and removing\n        items at the same position\n        ([#8046](https://github.com/google/ExoPlayer/issues/8046)).\n*   ExoPlayer:\n    *   Allow ExoPlayer to have control of device volume methods only if\n        explicitly opted in. Use\n        `ExoPlayer.Builder.setDeviceVolumeControlEnabled` to have access to:\n        *   `getDeviceVolume()`\n        *   `isDeviceMuted()`\n        *   `setDeviceVolume(int)` and `setDeviceVolume(int, int)`\n        *   `increaseDeviceVolume(int)` and `increaseDeviceVolume(int, int)`\n        *   `decreaseDeviceVolume(int)` and `decreaseDeviceVolume(int, int)`\n    *   Add `FilteringMediaSource` that allows to filter available track types\n        from a `MediaSource`.\n    *   Add support for including Common Media Client Data (CMCD) in the\n        outgoing requests of adaptive streaming formats DASH, HLS, and\n        SmoothStreaming. The following fields, `br`, `bl`, `cid`, `rtp`, and\n        `sid`, have been incorporated\n        ([#8699](https://github.com/google/ExoPlayer/issues/8699)). API\n        structure and API methods:\n        *   CMCD logging is disabled by default, use\n            `MediaSource.Factory.setCmcdConfigurationFactory(CmcdConfiguration.Factory\n            cmcdConfigurationFactory)` to enable it.\n        *   All keys are enabled by default, override\n            `CmcdConfiguration.RequestConfig.isKeyAllowed(String key)` to filter\n            out which keys are logged.\n        *   Override `CmcdConfiguration.RequestConfig.getCustomData()` to enable\n            custom key logging.\n    *   Add additional action to manifest of main demo to make it easier to\n        start the demo app with a custom `*.exolist.json` file\n        ([#439](https://github.com/androidx/media/pull/439)).\n    *   Add `ExoPlayer.setVideoEffects()` for using `Effect` during video\n        playback.\n    *   Update `SampleQueue` to store `sourceId` as a `long` rather than an\n        `int`. This changes the signatures of public methods\n        `SampleQueue.sourceId` and `SampleQueue.peekSourceId`.\n    *   Add parameters to `LoadControl` methods `shouldStartPlayback` and\n        `onTracksSelected` that allow associating these methods with the\n        relevant `MediaPeriod`.\n    *   Change signature of\n        `ServerSideAdInsertionMediaSource.setAdPlaybackStates(Map<Object,\n        AdPlaybackState>)` by adding a timeline parameter that contains the\n        periods with the UIDs used as keys in the map. This is required to avoid\n        concurrency issues with multi-period live streams.\n    *   Deprecate `EventDispatcher.withParameters(int windowIndex, @Nullable\n        MediaPeriodId mediaPeriodId, long mediaTimeOffsetMs)` and\n        `BaseMediaSource.createEventDispatcher(..., long mediaTimeOffsetMs)`.\n        The variant of the methods without the `mediaTimeOffsetUs` can be called\n        instead. Note that even for the deprecated variants, the offset is not\n        anymore added to `startTimeUs` and `endTimeUs` of the `MediaLoadData`\n        objects that are dispatched by the dispatcher.\n    *   Rename `ExoTrackSelection.blacklist` to `excludeTrack` and\n        `isBlacklisted` to `isTrackExcluded`.\n    *   Fix inconsistent behavior between `ExoPlayer.setMediaItem(s)` and\n        `addMediaItem(s)` when called on an empty playlist.\n*   Transformer:\n    *   Remove `Transformer.Builder.setMediaSourceFactory(MediaSource.Factory)`.\n        Use `ExoPlayerAssetLoader.Factory(MediaSource.Factory)` and\n        `Transformer.Builder.setAssetLoaderFactory(AssetLoader.Factory)`\n        instead.\n    *   Remove `Transformer.startTransformation(MediaItem,\n        ParcelFileDescriptor)`.\n    *   Fix a bug where transformation could get stuck (leading to muxer\n        timeout) if the end of the video stream was signaled at the moment when\n        an input frame was pending processing.\n    *   Query codecs via `MediaCodecList` instead of using\n        `findDecoder/EncoderForFormat` utilities, to expand support.\n    *   Remove B-frame configuration in `DefaultEncoderFactory` because it\n        doesn't work on some devices.\n*   Track selection:\n    *   Add\n        `DefaultTrackSelector.Parameters.allowInvalidateSelectionsForRendererCapabilitiesChange`\n        which is disabled by default. When enabled, the `DefaultTrackSelector`\n        will trigger a new track selection when the renderer capabilities\n        changed.\n*   Extractors:\n    *   Ogg: Fix bug when seeking in files with a long duration\n        ([#391](https://github.com/androidx/media/issues/391)).\n    *   FMP4: Fix issue where `TimestampAdjuster` initializes a wrong timestamp\n        offset with metadata sample time from emsg atom\n        ([#356](https://github.com/androidx/media/issues/356)).\n*   Audio:\n    *   Fix bug where some playbacks fail when tunneling is enabled and\n        `AudioProcessors` are active, e.g. for gapless trimming\n        ([#10847](https://github.com/google/ExoPlayer/issues/10847)).\n    *   Encapsulate Opus frames in Ogg packets in direct playbacks (offload).\n    *   Extrapolate current position during sleep with offload scheduling.\n    *   Add `Renderer.release()` and `AudioSink.release()` for releasing the\n        resources at the end of player's lifecycle.\n    *   Listen to audio capabilities changes in `DefaultAudioSink`. Add a\n        required parameter `context` in the constructor of `DefaultAudioSink`,\n        with which the `DefaultAudioSink` will register as the listener to the\n        `AudioCapabilitiesReceiver` and update its `audioCapabilities` property\n        when informed with a capabilities change.\n    *   Propagate audio capabilities changes via a new event\n        `onAudioCapabilitiesChanged` in `AudioSink.Listener` interface, and a\n        new interface `RendererCapabilities.Listener` which triggers\n        `onRendererCapabilitiesChanged` events.\n    *   Add `ChannelMixingAudioProcessor` for applying scaling/mixing to audio\n        channels.\n    *   Add new int value `DISCARD_REASON_AUDIO_BYPASS_POSSIBLE` to\n        `DecoderDiscardReasons` to discard audio decoder when bypass mode is\n        possible after audio capabilities change.\n    *   Add direct playback support for DTS Express and DTS:X\n        ([#335](https://github.com/androidx/media/pull/335)).\n*   Video:\n    *   Make `MediaCodecVideoRenderer` report a `VideoSize` with a width and\n        height of 0 when the renderer is disabled.\n        `Player.Listener.onVideoSizeChanged` is called accordingly when\n        `Player.getVideoSize()` changes. With this change, ExoPlayer's video\n        size with `MediaCodecVideoRenderer` has a width and height of 0 when\n        `Player.getCurrentTracks` does not support video, or the size of the\n        supported video track is not yet determined.\n*   DRM:\n    *   Reduce the visibility of several internal-only methods on\n        `DefaultDrmSession` that aren't expected to be called from outside the\n        DRM package:\n        *   `void onMediaDrmEvent(int)`\n        *   `void provision()`\n        *   `void onProvisionCompleted()`\n        *   `onProvisionError(Exception, boolean)`\n*   Muxer:\n    *   Add a new muxer library which can be used to create an MP4 container\n        file.\n*   IMA extension:\n    *   Enable multi-period live DASH streams for DAI. Please note that the\n        current implementation does not yet support seeking in live streams\n        ([#10912](https://github.com/google/ExoPlayer/issues/10912)).\n    *   Fix a bug where a new ad group is inserted in live streams because the\n        calculated content position in consecutive timelines varies slightly.\n*   UI:\n    *   Add Util methods `shouldShowPlayButton` and\n        `handlePlayPauseButtonAction` to write custom UI elements with a\n        play/pause button.\n*   RTSP Extension:\n    *   For MPEG4-LATM, use default profile-level-id value if absent in Describe\n        Response SDP message\n        ([#302](https://github.com/androidx/media/issues/302)).\n    *   Use base Uri for relative path resolution from the RTSP session if\n        present in DESCRIBE response header\n        ([#11160](https://github.com/google/ExoPlayer/issues/11160)).\n*   DASH Extension:\n    *   Remove the media time offset from `MediaLoadData.startTimeMs` and\n        `MediaLoadData.endTimeMs` for multi period DASH streams.\n    *   Fix a bug where re-preparing a multi-period live Dash media source\n        produced a `IndexOutOfBoundsException`\n        ([#10838](https://github.com/google/ExoPlayer/issues/10838)).\n*   HLS Extension:\n    *   Add\n        `HlsMediaSource.Factory.setTimestampAdjusterInitializationTimeoutMs(long)`\n        to set a timeout for the loading thread to wait for the\n        `TimestampAdjuster` to initialize. If the initialization doesn't\n        complete before the timeout, a `PlaybackException` is thrown to avoid\n        the playback endless stalling. The timeout is set to zero by default\n        ([#323](https://github.com/androidx/media/issues//323)).\n*   Test Utilities:\n    *   Check for URI scheme case insensitivity in `DataSourceContractTest`.\n*   Remove deprecated symbols:\n    *   Remove `DefaultAudioSink` constructors, use `DefaultAudioSink.Builder`\n        instead.\n    *   Remove `HlsMasterPlaylist`, use `HlsMultivariantPlaylist` instead.\n    *   Remove `Player.stop(boolean)`. Use `Player.stop()` and\n        `Player.clearMediaItems()` (if `reset` is `true`) instead.\n    *   Remove two deprecated `SimpleCache` constructors, use a non-deprecated\n        constructor that takes a `DatabaseProvider` instead for better\n        performance.\n    *   Remove `DefaultBandwidthMeter` constructor, use\n        `DefaultBandwidthMeter.Builder` instead.\n    *   Remove `DefaultDrmSessionManager` constructors, use\n        `DefaultDrmSessionManager.Builder` instead.\n    *   Remove two deprecated `HttpDataSource.InvalidResponseCodeException`\n        constructors, use a non-deprecated constructor that accepts additional\n        fields(`cause`, `responseBody`) to enhance error logging.\n    *   Remove `DownloadHelper.forProgressive`, `DownloadHelper.forHls`,\n        `DownloadHelper.forDash`, and `DownloadHelper.forSmoothStreaming`, use\n        `DownloadHelper.forMediaItem` instead.\n    *   Remove deprecated `DownloadService` constructor, use a non deprecated\n        constructor that includes the option to provide a\n        `channelDescriptionResourceId` parameter.\n    *   Remove deprecated String constants for Charsets (`ASCII_NAME`,\n        `UTF8_NAME`, `ISO88591_NAME`, `UTF16_NAME` and `UTF16LE_NAME`), use\n        Kotlin Charsets from the `kotlin.text` package, the\n        `java.nio.charset.StandardCharsets` or the\n        `com.google.common.base.Charsets` instead.\n    *   Remove deprecated `WorkManagerScheduler` constructor, use a non\n        deprecated constructor that includes the option to provide a `Context`\n        parameter instead.\n    *   Remove the deprecated methods `createVideoSampleFormat`,\n        `createAudioSampleFormat`, `createContainerFormat`, and\n        `createSampleFormat`, which were used to instantiate the `Format` class.\n        Instead use `Format.Builder` for creating instances of `Format`.\n    *   Remove the deprecated methods `copyWithMaxInputSize`,\n        `copyWithSubsampleOffsetUs`, `copyWithLabel`,\n        `copyWithManifestFormatInfo`, `copyWithGaplessInfo`,\n        `copyWithFrameRate`, `copyWithDrmInitData`, `copyWithMetadata`,\n        `copyWithBitrate` and `copyWithVideoSize`, use `Format.buildUpon()` and\n        setter methods instead.\n    *   Remove deprecated `ExoPlayer.retry()`, use `prepare()` instead.\n    *   Remove deprecated zero-arg `DefaultTrackSelector` constructor, use\n        `DefaultTrackSelector(Context)` instead.\n    *   Remove deprecated `OfflineLicenseHelper` constructor, use\n        `OfflineLicenseHelper(DefaultDrmSessionManager,\n        DrmSessionEventListener.EventDispatcher)` instead.\n    *   Remove deprecated `DownloadManager` constructor, use the constructor\n        that takes an `Executor` instead.\n    *   Remove deprecated `Cue` constructors, use `Cue.Builder` instead.\n    *   Remove deprecated `OfflineLicenseHelper` constructor, use\n        `OfflineLicenseHelper(DefaultDrmSessionManager,\n        DrmSessionEventListener.EventDispatcher)` instead.\n    *   Remove four deprecated `AnalyticsListener` methods:\n        *   `onDecoderEnabled`, use `onAudioEnabled` and/or `onVideoEnabled`\n            instead.\n        *   `onDecoderInitialized`, use `onAudioDecoderInitialized` and/or\n            `onVideoDecoderInitialized` instead.\n        *   `onDecoderInputFormatChanged`, use `onAudioInputFormatChanged`\n            and/or `onVideoInputFormatChanged` instead.\n        *   `onDecoderDisabled`, use `onAudioDisabled` and/or `onVideoDisabled`\n            instead.\n    *   Remove the deprecated `Player.Listener.onSeekProcessed` and\n        `AnalyticsListener.onSeekProcessed`, use `onPositionDiscontinuity` with\n        `DISCONTINUITY_REASON_SEEK` instead.\n    *   Remove `ExoPlayer.setHandleWakeLock(boolean)`, use `setWakeMode(int)`\n        instead.\n    *   Remove deprecated\n        `DefaultLoadControl.Builder.createDefaultLoadControl()`, use `build()`\n        instead.\n    *   Remove deprecated `MediaItem.PlaybackProperties`, use\n        `MediaItem.LocalConfiguration` instead. Deprecated field\n        `MediaItem.playbackProperties` is now of type\n        `MediaItem.LocalConfiguration`.\n\n### 2.18.7 (2023-05-18)\n\nThis release corresponds to the\n[AndroidX Media3 1.0.2 release](https://github.com/androidx/media/releases/tag/1.0.2).\n\n*   Core library:\n    *   Add `Buffer.isLastSample()` that denotes if `Buffer` contains flag\n        `C.BUFFER_FLAG_LAST_SAMPLE`.\n    *   Fix issue where last frame may not be rendered if the last sample with\n        frames is dequeued without reading the 'end of stream' sample.\n        ([#11079](https://github.com/google/ExoPlayer/issues/11079)).\n*   Extractors:\n    *   Fix parsing of H.265 SPS in MPEG-TS files by re-using the parsing logic\n        already used by RTSP and MP4 extractors\n        ([#303](https://github.com/androidx/media/issues/303)).\n*   Text:\n    *   SSA: Add support for UTF-16 files if they start with a byte order mark\n        ([#319](https://github.com/androidx/media/issues/319)).\n\n### 2.18.6 (2023-04-18)\n\nThis release corresponds to the\n[AndroidX Media3 1.0.1 release](https://github.com/androidx/media/releases/tag/1.0.1).\n\n*   Core library:\n    *   Reset target live stream override when seeking to default position\n        ([#11051](https://github.com/google/ExoPlayer/pull/11051)).\n    *   Fix bug where empty sample streams in the media could cause playback to\n        be stuck.\n*   DASH:\n    *   Fix handling of empty segment timelines\n        ([#11014](https://github.com/google/ExoPlayer/issues/11014)).\n*   RTSP:\n    *   Retry with TCP if RTSP Setup with UDP fails with RTSP Error 461\n        UnsupportedTransport\n        ([#11069](https://github.com/google/ExoPlayer/issues/11069)).\n\n### 2.18.5 (2023-03-22)\n\nThis release corresponds to the\n[AndroidX Media3 1.0.0 release](https://github.com/androidx/media/releases/tag/1.0.0).\n\n*   Migration script\n    *   Fix bug where backup files for each touched file were left in a migrated\n        project on OSX.\n\n### 2.18.4 (2023-03-02)\n\nThis release corresponds to the\n[AndroidX Media3 1.0.0-rc02 release](https://github.com/androidx/media/releases/tag/1.0.0-rc02).\n\n*   Core library:\n    *   Fix network type detection on API 33\n        ([#10970](https://github.com/google/ExoPlayer/issues/10970)).\n    *   Fix `NullPointerException` when calling `ExoPlayer.isTunnelingEnabled`\n        ([#10977](https://github.com/google/ExoPlayer/issues/10977)).\n*   Downloads:\n    *   Make the maximum difference of the start time of two segments to be\n        merged configurable in `SegmentDownloader` and subclasses\n        ([#248](https://github.com/androidx/media/pull/248)).\n*   Audio:\n    *   Fix broken gapless MP3 playback on Samsung devices\n        ([#8594](https://github.com/google/ExoPlayer/issues/8594)).\n    *   Fix bug where playback speeds set immediately after disabling audio may\n        be overridden by a previous speed change\n        ([#10882](https://github.com/google/ExoPlayer/issues/10882)).\n*   Video:\n    *   Map HEVC HDR10 format to `HEVCProfileMain10HDR10` instead of\n        `HEVCProfileMain10`.\n    *   Add workaround for a device issue on Chromecast with Google TV and\n        Lenovo M10 FHD Plus that causes 60fps AVC streams to be marked as\n        unsupported\n        ([#10898](https://github.com/google/ExoPlayer/issues/10898)).\n    *   Fix frame release performance issues when playing media with a frame\n        rate far higher than the screen refresh rate.\n*   Cast:\n    *   Fix transient `STATE_IDLE` when transitioning between media items\n        ([#245](https://github.com/androidx/media/issues/245)).\n*   RTSP:\n    *   Catch the IllegalArgumentException thrown in parsing of invalid RTSP\n        Describe response messages\n        ([#10971](https://github.com/google/ExoPlayer/issues/10971)).\n*   IMA extension:\n    *   Fix a bug which prevented DAI streams without any ads from starting\n        because the first (and in the case without ads the only) `LOADED` event\n        wasn't received.\n\n### 2.18.3 (2023-02-16)\n\nThis release corresponds to the\n[AndroidX Media3 1.0.0-rc01 release](https://github.com/androidx/media/releases/tag/1.0.0-rc01).\n\n*   Core library:\n    *   Tweak the renderer's decoder ordering logic to uphold the\n        `MediaCodecSelector`'s preferences, even if a decoder reports it may not\n        be able to play the media performantly. For example with default\n        selector, hardware decoder with only functional support will be\n        preferred over software decoder that fully supports the format\n        ([#10604](https://github.com/google/ExoPlayer/issues/10604)).\n    *   Add `ExoPlayer.Builder.setPlaybackLooper` that sets a pre-existing\n        playback thread for a new ExoPlayer instance.\n    *   Allow download manager helpers to be cleared\n        ([#10776](https://github.com/google/ExoPlayer/issues/10776)).\n    *   Add parameter to `BasePlayer.seekTo` to also indicate the command used\n        for seeking.\n    *   Use theme when loading drawables on API 21+\n        ([#220](https://github.com/androidx/media/issues/220)).\n    *   Add `ConcatenatingMediaSource2` that allows combining multiple media\n        items into a single window\n        ([#247](https://github.com/androidx/media/issues/247)).\n*   Extractors:\n    *   Throw a `ParserException` instead of a `NullPointerException` if the\n        sample table (stbl) is missing a required sample description (stsd) when\n        parsing trak atoms.\n    *   Correctly skip samples when seeking directly to a sync frame in fMP4\n        ([#10941](https://github.com/google/ExoPlayer/issues/10941)).\n*   Audio:\n    *   Use the compressed audio format bitrate to calculate the min buffer size\n        for `AudioTrack` in direct playbacks (passthrough).\n*   Text:\n    *   Fix `TextRenderer` passing an invalid (negative) index to\n        `Subtitle.getEventTime` if a subtitle file contains no cues.\n    *   SubRip: Add support for UTF-16 files if they start with a byte order\n        mark.\n*   Metadata:\n    *   Parse multiple null-separated values from ID3 frames, as permitted by\n        ID3 v2.4.\n    *   Add `MediaMetadata.mediaType` to denote the type of content or the type\n        of folder described by the metadata.\n    *   Add `MediaMetadata.isBrowsable` as a replacement for\n        `MediaMetadata.folderType`. The folder type will be deprecated in the\n        next release.\n*   DASH:\n    *   Add full parsing for image adaptation sets, including tile counts\n        ([#3752](https://github.com/google/ExoPlayer/issues/3752)).\n*   UI:\n    *   Fix the deprecated\n        `StyledPlayerView.setControllerVisibilityListener(StyledPlayerControlView.VisibilityListener)`\n        to ensure visibility changes are passed to the registered listener\n        ([#229](https://github.com/androidx/media/issues/229)).\n    *   Fix the ordering of the center player controls in `StyledPlayerView`\n        when using a right-to-left (RTL) layout\n        ([#227](https://github.com/androidx/media/issues/227)).\n*   Cast extension:\n    *   Bump Cast SDK version to 21.2.0.\n*   IMA extension:\n    *   Remove player listener of the `ImaServerSideAdInsertionMediaSource` on\n        the application thread to avoid threading issues.\n    *   Add a property `focusSkipButtonWhenAvailable` to the\n        `ImaServerSideAdInsertionMediaSource.AdsLoader.Builder` to request\n        focusing the skip button on TV devices and set it to true by default.\n    *   Add a method `focusSkipButton()` to the\n        `ImaServerSideAdInsertionMediaSource.AdsLoader` to programmatically\n        request to focus the skip button.\n    *   Fix a bug which prevented playback from starting for a DAI stream\n        without any ads.\n    *   Bump IMA SDK version to 3.29.0.\n*   Demo app:\n    *   Request notification permission for download notifications at runtime\n        ([#10884](https://github.com/google/ExoPlayer/issues/10884)).\n\n### 2.18.2 (2022-11-22)\n\nThis release corresponds to the\n[AndroidX Media3 1.0.0-beta03 release](https://github.com/androidx/media/releases/tag/1.0.0-beta03).\n\n*   Core library:\n    *   Add `ExoPlayer.isTunnelingEnabled` to check if tunneling is enabled for\n        the currently selected tracks\n        ([#2518](https://github.com/google/ExoPlayer/issues/2518)).\n    *   Add `WrappingMediaSource` to simplify wrapping a single `MediaSource`\n        ([#7279](https://github.com/google/ExoPlayer/issues/7279)).\n    *   Discard back buffer before playback gets stuck due to insufficient\n        available memory.\n    *   Close the Tracing \"doSomeWork\" block when offload is enabled.\n    *   Fix session tracking problem with fast seeks in `PlaybackStatsListener`\n        ([#180](https://github.com/androidx/media/issues/180)).\n    *   Send missing `onMediaItemTransition` callback when calling `seekToNext`\n        or `seekToPrevious` in a single-item playlist\n        ([#10667](https://github.com/google/ExoPlayer/issues/10667)).\n    *   Add `Player.getSurfaceSize` that returns the size of the surface on\n        which the video is rendered.\n    *   Fix bug where removing listeners during the player release can cause an\n        `IllegalStateException`\n        ([#10758](https://github.com/google/ExoPlayer/issues/10758)).\n*   Build:\n    *   Enforce minimum `compileSdkVersion` to avoid compilation errors\n        ([#10684](https://github.com/google/ExoPlayer/issues/10684)).\n*   Track selection:\n    *   Prefer other tracks to Dolby Vision if display does not support it.\n        ([#8944](https://github.com/google/ExoPlayer/issues/8944)).\n*   Downloads:\n    *   Fix potential infinite loop in `ProgressiveDownloader` caused by\n        simultaneous download and playback with the same `PriorityTaskManager`\n        ([#10570](https://github.com/google/ExoPlayer/pull/10570)).\n    *   Make download notification appear immediately\n        ([#183](https://github.com/androidx/media/pull/183)).\n    *   Limit parallel download removals to 1 to avoid excessive thread creation\n        ([#10458](https://github.com/google/ExoPlayer/issues/10458)).\n*   Video:\n    *   Try alternative decoder for Dolby Vision if display does not support it.\n        ([#9794](https://github.com/google/ExoPlayer/issues/9794)).\n*   Audio:\n    *   Use `SingleThreadExecutor` for releasing `AudioTrack` instances to avoid\n        OutOfMemory errors when releasing multiple players at the same time\n        ([#10057](https://github.com/google/ExoPlayer/issues/10057)).\n    *   Adds `AudioOffloadListener.onExperimentalOffloadedPlayback` for the\n        AudioTrack offload state.\n        ([#134](https://github.com/androidx/media/issues/134)).\n    *   Make `AudioTrackBufferSizeProvider` a public interface.\n    *   Add `ExoPlayer.setPreferredAudioDevice` to set the preferred audio\n        output device ([#135](https://github.com/androidx/media/issues/135)).\n    *   Map 8-channel and 12-channel audio to the 7.1 and 7.1.4 channel masks\n        respectively on all Android versions\n        ([#10701](https://github.com/google/ExoPlayer/issues/10701)).\n*   Metadata:\n    *   `MetadataRenderer` can now be configured to render metadata as soon as\n        they are available. Create an instance with\n        `MetadataRenderer(MetadataOutput, Looper, MetadataDecoderFactory,\n        boolean)` to specify whether the renderer will output metadata early or\n        in sync with the player position.\n*   DRM:\n    *   Work around a bug in the Android 13 ClearKey implementation that returns\n        a non-empty but invalid license URL.\n    *   Fix `setMediaDrmSession failed: session not opened` error when switching\n        between DRM schemes in a playlist (e.g. Widevine to ClearKey).\n*   Text:\n    *   CEA-608: Ensure service switch commands on field 2 are handled correctly\n        ([#10666](https://github.com/google/ExoPlayer/issues/10666)).\n*   DASH:\n    *   Parse `EventStream.presentationTimeOffset` from manifests\n        ([#10460](https://github.com/google/ExoPlayer/issues/10460)).\n*   UI:\n    *   Use current overrides of the player as preset in\n        `TrackSelectionDialogBuilder`\n        ([#10429](https://github.com/google/ExoPlayer/issues/10429)).\n*   RTSP:\n    *   Add H263 fragmented packet handling\n        ([#119](https://github.com/androidx/media/pull/119)).\n    *   Add support for MP4A-LATM\n        ([#162](https://github.com/androidx/media/pull/162)).\n*   IMA:\n    *   Add timeout for loading ad information to handle cases where the IMA SDK\n        gets stuck loading an ad\n        ([#10510](https://github.com/google/ExoPlayer/issues/10510)).\n    *   Prevent skipping mid-roll ads when seeking to the end of the content\n        ([#10685](https://github.com/google/ExoPlayer/issues/10685)).\n    *   Correctly calculate window duration for live streams with server-side\n        inserted ads, for example IMA DAI\n        ([#10764](https://github.com/google/ExoPlayer/issues/10764)).\n*   FFmpeg extension:\n    *   Add newly required flags to link FFmpeg libraries with NDK 23.1.7779620\n        and above ([#9933](https://github.com/google/ExoPlayer/issues/9933)).\n*   AV1 extension:\n    *   Update CMake version to avoid incompatibilities with the latest Android\n        Studio releases\n        ([#9933](https://github.com/google/ExoPlayer/issues/9933)).\n*   Cast extension:\n    *   Implement `getDeviceInfo()` to be able to identify `CastPlayer` when\n        controlling playback with a `MediaController`\n        ([#142](https://github.com/androidx/media/issues/142)).\n*   Transformer:\n    *   Add muxer watchdog timer to detect when generating an output sample is\n        too slow.\n*   Remove deprecated symbols:\n    *   Remove `Transformer.Builder.setOutputMimeType(String)`. This feature has\n        been removed. The MIME type will always be MP4 when the default muxer is\n        used.\n\n### 2.18.1 (2022-07-21)\n\nThis release corresponds to the\n[AndroidX media3 1.0.0-beta02 release](https://github.com/androidx/media/releases/tag/1.0.0-beta02).\n\n*   Core library:\n    *   Ensure that changing the `ShuffleOrder` with `ExoPlayer.setShuffleOrder`\n        results in a call to `Player.Listener#onTimelineChanged` with\n        `reason=Player.TIMELINE_CHANGE_REASON_PLAYLIST_CHANGED`\n        ([#9889](https://github.com/google/ExoPlayer/issues/9889)).\n    *   For progressive media, only include selected tracks in buffered position\n        ([#10361](https://github.com/google/ExoPlayer/issues/10361)).\n    *   Allow custom logger for all ExoPlayer log output\n        ([#9752](https://github.com/google/ExoPlayer/issues/9752)).\n    *   Fix implementation of `setDataSourceFactory` in\n        `DefaultMediaSourceFactory`, which was non-functional in some cases\n        ([#116](https://github.com/androidx/media/issues/116)).\n*   Extractors:\n    *   Fix parsing of H265 short term reference picture sets\n        ([#10316](https://github.com/google/ExoPlayer/issues/10316)).\n    *   Fix parsing of bitrates from `esds` boxes\n        ([#10381](https://github.com/google/ExoPlayer/issues/10381)).\n*   DASH:\n    *   Parse ClearKey license URL from manifests\n        ([#10246](https://github.com/google/ExoPlayer/issues/10246)).\n*   UI:\n    *   Ensure TalkBack announces the currently active speed option in the\n        playback controls menu\n        ([#10298](https://github.com/google/ExoPlayer/issues/10298)).\n*   RTSP:\n    *   Add VP8 fragmented packet handling\n        ([#110](https://github.com/androidx/media/pull/110)).\n*   Leanback extension:\n    *   Listen to `playWhenReady` changes in `LeanbackAdapter`\n        ([10420](https://github.com/google/ExoPlayer/issues/10420)).\n*   Cast:\n    *   Use the `MediaItem` that has been passed to the playlist methods as\n        `Window.mediaItem` in `CastTimeline`\n        ([#25](https://github.com/androidx/media/issues/25),\n        [#8212](https://github.com/google/ExoPlayer/issues/8212)).\n    *   Support `Player.getMetadata()` and `Listener.onMediaMetadataChanged()`\n        with `CastPlayer` ([#25](https://github.com/androidx/media/issues/25)).\n\n### 2.18.0 (2022-06-16)\n\nThis release corresponds to the\n[AndroidX media3 1.0.0-beta01 release](https://github.com/androidx/media/releases/tag/1.0.0-beta01).\n\n*   Core library:\n    *   Enable support for Android platform diagnostics via\n        `MediaMetricsManager`. ExoPlayer will forward playback events and\n        performance data to the platform, which helps to provide system\n        performance and debugging information on the device. This data may also\n        be collected by Google\n        [if sharing usage and diagnostics data is enabled](https://support.google.com/accounts/answer/6078260)\n        by the user of the device. Apps can opt-out of contributing to platform\n        diagnostics for ExoPlayer with\n        `ExoPlayer.Builder.setUsePlatformDiagnostics(false)`.\n    *   Fix bug that tracks are reset too often when using `MergingMediaSource`,\n        for example when side-loading subtitles and changing the selected\n        subtitle mid-playback\n        ([#10248](https://github.com/google/ExoPlayer/issues/10248)).\n    *   Stop detecting 5G-NSA network type on API 29 and 30. These playbacks\n        will assume a 4G network.\n    *   Disallow passing `null` to\n        `MediaSource.Factory.setDrmSessionManagerProvider` and\n        `MediaSource.Factory.setLoadErrorHandlingPolicy`. Instances of\n        `DefaultDrmSessionManagerProvider` and `DefaultLoadErrorHandlingPolicy`\n        can be passed explicitly if required.\n    *   Add `MediaItem.RequestMetadata` to represent metadata needed to play\n        media when the exact `LocalConfiguration` is not known. Also remove\n        `MediaMetadata.mediaUrl` as this is now included in `RequestMetadata`.\n    *   Add `Player.Command.COMMAND_SET_MEDIA_ITEM` to enable players to allow\n        setting a single item.\n*   Track selection:\n    *   Flatten `TrackSelectionOverrides` class into `TrackSelectionParameters`,\n        and promote `TrackSelectionOverride` to a top level class.\n    *   Rename `TracksInfo` to `Tracks` and `TracksInfo.TrackGroupInfo` to\n        `Tracks.Group`. `Player.getCurrentTracksInfo` and\n        `Player.Listener.onTracksInfoChanged` have also been renamed to\n        `Player.getCurrentTracks` and `Player.Listener.onTracksChanged`. This\n        includes 'un-deprecating' the `Player.Listener.onTracksChanged` method\n        name, but with different parameter types.\n    *   Change `DefaultTrackSelector.buildUponParameters` and\n        `DefaultTrackSelector.Parameters.buildUpon` to return\n        `DefaultTrackSelector.Parameters.Builder` instead of the deprecated\n        `DefaultTrackSelector.ParametersBuilder`.\n    *   Add\n        `DefaultTrackSelector.Parameters.constrainAudioChannelCountToDeviceCapabilities`\n        which is enabled by default. When enabled, the `DefaultTrackSelector`\n        will prefer audio tracks whose channel count does not exceed the device\n        output capabilities. On handheld devices, the `DefaultTrackSelector`\n        will prefer stereo/mono over multichannel audio formats, unless the\n        multichannel format can be\n        [Spatialized](https://developer.android.com/reference/android/media/Spatializer)\n        (Android 12L+) or is a Dolby surround sound format. In addition, on\n        devices that support audio spatialization, the `DefaultTrackSelector`\n        will monitor for changes in the\n        [Spatializer properties](https://developer.android.com/reference/android/media/Spatializer.OnSpatializerStateChangedListener)\n        and trigger a new track selection upon these. Devices with a\n        `television`\n        [UI mode](https://developer.android.com/guide/topics/resources/providing-resources#UiModeQualifier)\n        are excluded from these constraints and the format with the highest\n        channel count will be preferred. To enable this feature, the\n        `DefaultTrackSelector` instance must be constructed with a `Context`.\n*   Video:\n    *   Rename `DummySurface` to `PlaceholderSurface`.\n    *   Add AV1 support to the `MediaCodecVideoRenderer.getCodecMaxInputSize`.\n*   Audio:\n    *   Use LG AC3 audio decoder advertising non-standard MIME type.\n    *   Change the return type of `AudioAttributes.getAudioAttributesV21()` from\n        `android.media.AudioAttributes` to a new `AudioAttributesV21` wrapper\n        class, to prevent slow ART verification on API < 21.\n    *   Query the platform (API 29+) or assume the audio encoding channel count\n        for audio passthrough when the format audio channel count is unset,\n        which occurs with HLS chunkless preparation\n        ([10204](https://github.com/google/ExoPlayer/issues/10204)).\n    *   Configure `AudioTrack` with channel mask\n        `AudioFormat.CHANNEL_OUT_7POINT1POINT4` if the decoder outputs 12\n        channel PCM audio\n        ([#10322](#https://github.com/google/ExoPlayer/pull/10322).\n*   DRM\n    *   Ensure the DRM session is always correctly updated when seeking\n        immediately after a format change\n        ([10274](https://github.com/google/ExoPlayer/issues/10274)).\n*   Text:\n    *   Change `Player.getCurrentCues()` to return `CueGroup` instead of\n        `List<Cue>`.\n    *   SSA: Support `OutlineColour` style setting when `BorderStyle == 3` (i.e.\n        `OutlineColour` sets the background of the cue)\n        ([#8435](https://github.com/google/ExoPlayer/issues/8435)).\n    *   CEA-708: Parse data into multiple service blocks and ignore blocks not\n        associated with the currently selected service number.\n    *   Remove `RawCcExtractor`, which was only used to handle a Google-internal\n        subtitle format.\n*   Extractors:\n    *   Add support for AVI\n        ([#2092](https://github.com/google/ExoPlayer/issues/2092)).\n    *   Matroska: Parse `DiscardPadding` for Opus tracks.\n    *   MP4: Parse bitrates from `esds` boxes.\n    *   Ogg: Allow duplicate Opus ID and comment headers\n        ([#10038](https://github.com/google/ExoPlayer/issues/10038)).\n*   UI:\n    *   Fix delivery of events to `OnClickListener`s set on `StyledPlayerView`\n        and `PlayerView`, in the case that `useController=false`\n        ([#9605](https://github.com/google/ExoPlayer/issues/9605)). Also fix\n        delivery of events to `OnLongClickListener` for all view configurations.\n    *   Fix incorrectly treating a sequence of touch events that exit the bounds\n        of `StyledPlayerView` and `PlayerView` before `ACTION_UP` as a click\n        ([#9861](https://github.com/google/ExoPlayer/issues/9861)).\n    *   Fix `PlayerView` accessibility issue where tapping might toggle playback\n        rather than hiding the controls\n        ([#8627](https://github.com/google/ExoPlayer/issues/8627)).\n    *   Rewrite `TrackSelectionView` and `TrackSelectionDialogBuilder` to work\n        with the `Player` interface rather than `ExoPlayer`. This allows the\n        views to be used with other `Player` implementations, and removes the\n        dependency from the UI module to the ExoPlayer module. This is a\n        breaking change.\n    *   Don't show forced text tracks in the `PlayerView` track selector, and\n        keep a suitable forced text track selected if \"None\" is selected\n        ([#9432](https://github.com/google/ExoPlayer/issues/9432)).\n*   DASH:\n    *   Parse channel count from DTS `AudioChannelConfiguration` elements. This\n        re-enables audio passthrough for DTS streams\n        ([#10159](https://github.com/google/ExoPlayer/issues/10159)).\n    *   Disallow passing `null` to\n        `DashMediaSource.Factory.setCompositeSequenceableLoaderFactory`.\n        Instances of `DefaultCompositeSequenceableLoaderFactory` can be passed\n        explicitly if required.\n*   HLS:\n    *   Fallback to chunkful preparation if the playlist CODECS attribute does\n        not contain the audio codec\n        ([#10065](https://github.com/google/ExoPlayer/issues/10065)).\n    *   Disallow passing `null` to\n        `HlsMediaSource.Factory.setCompositeSequenceableLoaderFactory`,\n        `HlsMediaSource.Factory.setPlaylistParserFactory`, and\n        `HlsMediaSource.Factory.setPlaylistTrackerFactory`. Instances of\n        `DefaultCompositeSequenceableLoaderFactory`,\n        `DefaultHlsPlaylistParserFactory`, or a reference to\n        `DefaultHlsPlaylistTracker.FACTORY` can be passed explicitly if\n        required.\n*   Smooth Streaming:\n    *   Disallow passing `null` to\n        `SsMediaSource.Factory.setCompositeSequenceableLoaderFactory`. Instances\n        of `DefaultCompositeSequenceableLoaderFactory` can be passed explicitly\n        if required.\n*   RTSP:\n    *   Add RTP reader for H263\n        ([#63](https://github.com/androidx/media/pull/63)).\n    *   Add RTP reader for MPEG4\n        ([#35](https://github.com/androidx/media/pull/35)).\n    *   Add RTP reader for HEVC\n        ([#36](https://github.com/androidx/media/pull/36)).\n    *   Add RTP reader for AMR. Currently only mono-channel, non-interleaved AMR\n        streams are supported. Compound AMR RTP payload is not supported.\n        ([#46](https://github.com/androidx/media/pull/46))\n    *   Add RTP reader for VP8\n        ([#47](https://github.com/androidx/media/pull/47)).\n    *   Add RTP reader for WAV\n        ([#56](https://github.com/androidx/media/pull/56)).\n    *   Fix RTSP basic authorization header.\n        ([#9544](https://github.com/google/ExoPlayer/issues/9544)).\n    *   Stop checking mandatory SDP fields as ExoPlayer doesn't need them\n        ([#10049](https://github.com/google/ExoPlayer/issues/10049)).\n    *   Throw checked exception when parsing RTSP timing\n        ([#10165](https://github.com/google/ExoPlayer/issues/10165)).\n    *   Add RTP reader for VP9\n        ([#47](https://github.com/androidx/media/pull/64)).\n    *   Add RTP reader for OPUS\n        ([#53](https://github.com/androidx/media/pull/53)).\n*   Data sources:\n    *   Rename `DummyDataSource` to `PlaceholderDataSource`.\n    *   Workaround OkHttp interrupt handling.\n*   Ad playback / IMA:\n    *   Decrease ad polling rate from every 100ms to every 200ms, to line up\n        with Media Rating Council (MRC) recommendations.\n*   FFmpeg extension:\n    *   Update CMake version to `3.21.0+` to avoid a CMake bug causing\n        AndroidStudio's gradle sync to fail\n        ([#9933](https://github.com/google/ExoPlayer/issues/9933)).\n*   Remove deprecated symbols:\n    *   Remove `Player.Listener.onTracksChanged(TrackGroupArray,\n        TrackSelectionArray)`. Use `Player.Listener.onTracksChanged(Tracks)`\n        instead.\n    *   Remove `Player.getCurrentTrackGroups` and\n        `Player.getCurrentTrackSelections`. Use `Player.getCurrentTracks`\n        instead. You can also continue to use `ExoPlayer.getCurrentTrackGroups`\n        and `ExoPlayer.getCurrentTrackSelections`, although these methods remain\n        deprecated.\n    *   Remove `DownloadHelper`\n        `DEFAULT_TRACK_SELECTOR_PARAMETERS_WITHOUT_VIEWPORT` and\n        `DEFAULT_TRACK_SELECTOR_PARAMETERS` constants. Use\n        `getDefaultTrackSelectorParameters(Context)` instead when possible, and\n        `DEFAULT_TRACK_SELECTOR_PARAMETERS_WITHOUT_CONTEXT` otherwise.\n    *   Remove constructor `DefaultTrackSelector(ExoTrackSelection.Factory)`.\n        Use `DefaultTrackSelector(Context, ExoTrackSelection.Factory)` instead.\n    *   Remove `Transformer.Builder.setContext`. The `Context` should be passed\n        to the `Transformer.Builder` constructor instead.\n\n### 2.17.1 (2022-03-10)\n\nThis release corresponds to the\n[AndroidX media3 1.0.0-alpha03 release](https://github.com/androidx/media/releases/tag/1.0.0-alpha03).\n\n*   Audio:\n    *   Fix error checking audio capabilities for Dolby Atmos (E-AC3-JOC) in\n        HLS.\n*   Extractors:\n    *   FMP4: Fix issue where emsg sample metadata could be output in the wrong\n        order for streams containing both v0 and v1 emsg atoms\n        ([#9996](https://github.com/google/ExoPlayer/issues/9996)).\n*   Text:\n    *   Fix the interaction of `SingleSampleMediaSource.Factory.setTrackId` and\n        `MediaItem.SubtitleConfiguration.Builder.setId` to prioritise the\n        `SubtitleConfiguration` field and fall back to the `Factory` value if\n        it's not set\n        ([#10016](https://github.com/google/ExoPlayer/issues/10016)).\n*   Ad playback:\n    *   Fix audio underruns between ad periods in live HLS SSAI streams.\n\n### 2.17.0 (2022-02-24)\n\nThis release corresponds to the\n[AndroidX media3 1.0.0-alpha02 release](https://github.com/androidx/media/releases/tag/1.0.0-alpha02).\n\n*   Core library:\n    *   Sleep and retry when creating a `MediaCodec` instance fails. This works\n        around an issue that occurs on some devices when switching a surface\n        from a secure codec to another codec\n        ([#8696](https://github.com/google/ExoPlayer/issues/8696)).\n    *   Add `MediaCodecAdapter.getMetrics()` to allow users obtain metrics data\n        from `MediaCodec`.\n        ([#9766](https://github.com/google/ExoPlayer/issues/9766)).\n    *   Fix Maven dependency resolution\n        ([#8353](https://github.com/google/ExoPlayer/issues/8353)).\n    *   Disable automatic speed adjustment for live streams that neither have\n        low-latency features nor a user request setting the speed\n        ([#9329](https://github.com/google/ExoPlayer/issues/9329)).\n    *   Rename `DecoderCounters#inputBufferCount` to `queuedInputBufferCount`.\n    *   Make `SimpleExoPlayer.renderers` private. Renderers can be accessed via\n        `ExoPlayer.getRenderer`.\n    *   Updated some `AnalyticsListener.EventFlags` constant values to match\n        values in `Player.EventFlags`.\n    *   Split `AnalyticsCollector` into an interface and default implementation\n        to allow it to be stripped by R8 if an app doesn't need it.\n*   Track selection:\n    *   Support preferred video role flags in track selection\n        ([#9402](https://github.com/google/ExoPlayer/issues/9402)).\n    *   Update video track selection logic to take preferred MIME types and role\n        flags into account when selecting multiple video tracks for adaptation\n        ([#9519](https://github.com/google/ExoPlayer/issues/9519)).\n    *   Update video and audio track selection logic to only choose formats for\n        adaptive selections that have the same level of decoder and hardware\n        support ([#9565](https://github.com/google/ExoPlayer/issues/9565)).\n    *   Update video track selection logic to prefer more efficient codecs if\n        multiple codecs are supported by primary, hardware-accelerated decoders\n        ([#4835](https://github.com/google/ExoPlayer/issues/4835)).\n    *   Prefer audio content preferences (for example, the \"default\" audio track\n        or a track matching the system locale language) over technical track\n        selection constraints (for example, preferred MIME type, or maximum\n        channel count).\n    *   Prohibit duplicate `TrackGroup`s in a `TrackGroupArray`. `TrackGroup`s\n        can always be made distinguishable by setting an `id` in the\n        `TrackGroup` constructor. This fixes a crash when resuming playback\n        after backgrounding the app with an active track override\n        ([#9718](https://github.com/google/ExoPlayer/issues/9718)).\n    *   Amend logic in `AdaptiveTrackSelection` to allow a quality increase\n        under sufficient network bandwidth even if playback is very close to the\n        live edge ([#9784](https://github.com/google/ExoPlayer/issues/9784)).\n*   Video:\n    *   Fix decoder fallback logic for Dolby Vision to use a compatible\n        H264/H265 decoder if needed.\n*   Audio:\n    *   Fix decoder fallback logic for Dolby Atmos (E-AC3-JOC) to use a\n        compatible E-AC3 decoder if needed.\n    *   Change `AudioCapabilities` APIs to require passing explicitly\n        `AudioCapabilities.DEFAULT_AUDIO_CAPABILITIES` instead of `null`.\n    *   Allow customization of the `AudioTrack` buffer size calculation by\n        injecting an `AudioTrackBufferSizeProvider` to `DefaultAudioSink`\n        ([#8891](https://github.com/google/ExoPlayer/issues/8891)).\n    *   Retry `AudioTrack` creation if the requested buffer size was > 1MB\n        ([#9712](https://github.com/google/ExoPlayer/issues/9712)).\n*   Extractors:\n    *   Fix incorrect parsing of H.265 SPS NAL units\n        ([#9719](https://github.com/google/ExoPlayer/issues/9719)).\n    *   Parse Vorbis Comments (including `METADATA_BLOCK_PICTURE`) in Ogg Opus\n        and Ogg Vorbis files.\n*   Text:\n    *   Add a `MediaItem.SubtitleConfiguration.id` field which is propagated to\n        the `Format.id` field of the subtitle track created from the\n        configuration\n        ([#9673](https://github.com/google/ExoPlayer/issues/9673)).\n    *   Add basic support for WebVTT subtitles in Matroska containers\n        ([#9886](https://github.com/google/ExoPlayer/issues/9886)).\n    *   Prevent `Cea708Decoder` from reading more than the declared size of a\n        service block.\n*   DRM:\n    *   Remove `playbackLooper` from `DrmSessionManager.(pre)acquireSession`.\n        When a `DrmSessionManager` is used by an app in a custom `MediaSource`,\n        the `playbackLooper` needs to be passed to `DrmSessionManager.setPlayer`\n        instead.\n*   Ad playback / IMA:\n    *   Add support for\n        [IMA Dynamic Ad Insertion (DAI)](https://support.google.com/admanager/answer/6147120)\n        ([#8213](https://github.com/google/ExoPlayer/issues/8213)).\n    *   Add a method to `AdPlaybackState` to allow resetting an ad group so that\n        it can be played again\n        ([#9615](https://github.com/google/ExoPlayer/issues/9615)).\n    *   Enforce playback speed of 1.0 during ad playback\n        ([#9018](https://github.com/google/ExoPlayer/issues/9018)).\n    *   Fix issue where an ad group that failed to load caused an immediate\n        playback reset\n        ([#9929](https://github.com/google/ExoPlayer/issues/9929)).\n*   UI:\n    *   Fix the color of the numbers in `StyledPlayerView` rewind and\n        fastforward buttons when using certain themes\n        ([#9765](https://github.com/google/ExoPlayer/issues/9765)).\n    *   Correctly translate playback speed strings\n        ([#9811](https://github.com/google/ExoPlayer/issues/9811)).\n*   DASH:\n    *   Support the `forced-subtitle` track role\n        ([#9727](https://github.com/google/ExoPlayer/issues/9727)).\n    *   Stop interpreting the `main` track role as `C.SELECTION_FLAG_DEFAULT`.\n    *   Fix base URL exclusion logic for manifests that do not declare the DVB\n        namespace ([#9856](https://github.com/google/ExoPlayer/issues/9856)).\n    *   Support relative `MPD.Location` URLs\n        ([#9939](https://github.com/google/ExoPlayer/issues/9939)).\n*   HLS:\n    *   Use chunkless preparation by default to improve start up time. If your\n        renditions contain muxed closed-caption tracks that are **not** declared\n        in the master playlist, you should add them to the master playlist to be\n        available for playback, or turn off chunkless preparation with\n        `HlsMediaSource.Factory.setAllowChunklessPreparation(false)`.\n    *   Support key-frame accurate seeking in HLS\n        ([#2882](https://github.com/google/ExoPlayer/issues/2882)).\n    *   Correctly populate `Format.label` for audio only HLS streams\n        ([#9608](https://github.com/google/ExoPlayer/issues/9608)).\n*   RTSP:\n    *   Provide a client API to override the `SocketFactory` used for any server\n        connection ([#9606](https://github.com/google/ExoPlayer/pull/9606)).\n    *   Prefer DIGEST authentication method over BASIC if both are present\n        ([#9800](https://github.com/google/ExoPlayer/issues/9800)).\n    *   Handle when RTSP track timing is not available\n        ([#9775](https://github.com/google/ExoPlayer/issues/9775)).\n    *   Ignore invalid RTP-Info header values\n        ([#9619](https://github.com/google/ExoPlayer/issues/9619)).\n*   Transformer:\n    *   Increase required min API version to 21.\n    *   `TransformationException` is now used to describe errors that occur\n        during a transformation.\n    *   Add `TransformationRequest` for specifying the transformation options.\n    *   Allow multiple listeners to be registered.\n    *   Fix Transformer being stuck when the codec output is partially read.\n    *   Fix potential NPE in `Transformer.getProgress` when releasing the muxer\n        throws.\n    *   Add a demo app for applying transformations.\n    *   The transformer module is no longer included by depending on\n        `com.google.android.exoplayer:exoplayer`. To continue using transformer,\n        add an additional dependency on\n        `com.google.android.exoplayer:exoplayer-transformer`.\n*   MediaSession extension:\n    *   By default, `MediaSessionConnector` now clears the playlist on stop.\n        Apps that want the playlist to be retained can call\n        `setClearMediaItemsOnStop(false)` on the connector.\n*   Cast extension:\n    *   Fix bug that prevented `CastPlayer` from calling `onIsPlayingChanged`\n        correctly ([#9792](https://github.com/google/ExoPlayer/issues/9792)).\n    *   Support audio metadata including artwork with\n        `DefaultMediaItemConverter`\n        ([#9663](https://github.com/google/ExoPlayer/issues/9663)).\n*   FFmpeg extension:\n    *   Make `build_ffmpeg.sh` depend on LLVM's bin utils instead of GNU's\n        ([#9933](https://github.com/google/ExoPlayer/issues/9933)).\n*   Android 12 compatibility:\n    *   Upgrade the Cast extension to depend on\n        `com.google.android.gms:play-services-cast-framework:20.1.0`. Earlier\n        versions of `play-services-cast-framework` are not compatible with apps\n        targeting Android 12, and will crash with an `IllegalArgumentException`\n        when creating `PendingIntent`s\n        ([#9528](https://github.com/google/ExoPlayer/issues/9528)).\n*   Remove deprecated symbols:\n    *   Remove `Player.EventListener`. Use `Player.Listener` instead.\n    *   Remove `MediaSourceFactory.setDrmSessionManager`,\n        `MediaSourceFactory.setDrmHttpDataSourceFactory`, and\n        `MediaSourceFactory.setDrmUserAgent`. Use\n        `MediaSourceFactory.setDrmSessionManagerProvider` instead.\n    *   Remove `MediaSourceFactory.setStreamKeys`. Use\n        `MediaItem.Builder.setStreamKeys` instead.\n    *   Remove `MediaSourceFactory.createMediaSource(Uri)`. Use\n        `MediaSourceFactory.createMediaSource(MediaItem)` instead.\n    *   Remove `setTag` from `DashMediaSource`, `HlsMediaSource` and\n        `SsMediaSource`. Use `MediaItem.Builder.setTag` instead.\n    *   Remove `DashMediaSource.setLivePresentationDelayMs(long, boolean)`. Use\n        `MediaItem.Builder.setLiveConfiguration` and\n        `MediaItem.LiveConfiguration.Builder.setTargetOffsetMs` to override the\n        manifest, or `DashMediaSource.setFallbackTargetLiveOffsetMs` to provide\n        a fallback value.\n    *   Remove `(Simple)ExoPlayer.setThrowsWhenUsingWrongThread`. Opting out of\n        the thread enforcement is no longer possible.\n    *   Remove `ActionFile` and `ActionFileUpgradeUtil`. Use ExoPlayer 2.16.1 or\n        before to use `ActionFileUpgradeUtil` to merge legacy action files into\n        `DefaultDownloadIndex`.\n    *   Remove `ProgressiveMediaSource.setExtractorsFactory`. Use\n        `ProgressiveMediaSource.Factory(DataSource.Factory, ExtractorsFactory)`\n        constructor instead.\n    *   Remove `ProgressiveMediaSource.Factory.setTag` and\n        `ProgressiveMediaSource.Factory.setCustomCacheKey`. Use\n        `MediaItem.Builder.setTag` and `MediaItem.Builder.setCustomCacheKey`\n        instead.\n    *   Remove `DefaultRenderersFactory(Context, @ExtensionRendererMode int)`\n        and `DefaultRenderersFactory(Context, @ExtensionRendererMode int, long)`\n        constructors. Use the `DefaultRenderersFactory(Context)` constructor,\n        `DefaultRenderersFactory.setExtensionRendererMode`, and\n        `DefaultRenderersFactory.setAllowedVideoJoiningTimeMs` instead.\n    *   Remove all public `CronetDataSource` constructors. Use\n        `CronetDataSource.Factory` instead.\n*   Change the following `IntDefs` to `@Target(TYPE_USE)` only. This may break\n    the compilation of usages in Kotlin, which can be fixed by moving the\n    annotation to annotate the type (`Int`).\n    *   `@AacAudioObjectType`\n    *   `@Ac3Util.SyncFrameInfo.StreamType`\n    *   `@AdLoadException.Type`\n    *   `@AdtsExtractor.Flags`\n    *   `@AmrExtractor.Flags`\n    *   `@AspectRatioFrameLayout.ResizeMode`\n    *   `@AudioFocusManager.PlayerCommand`\n    *   `@AudioSink.SinkFormatSupport`\n    *   `@BinarySearchSeeker.TimestampSearchResult.Type`\n    *   `@BufferReplacementMode`\n    *   `@C.BufferFlags`\n    *   `@C.ColorRange`\n    *   `@C.ColorSpace`\n    *   `@C.ColorTransfer`\n    *   `@C.CryptoMode`\n    *   `@C.Encoding`\n    *   `@C.PcmEncoding`\n    *   `@C.Projection`\n    *   `@C.SelectionReason`\n    *   `@C.StereoMode`\n    *   `@C.VideoOutputMode`\n    *   `@CacheDataSource.Flags`\n    *   `@CaptionStyleCompat.EdgeType`\n    *   `@DataSpec.Flags`\n    *   `@DataSpec.HttpMethods`\n    *   `@DecoderDiscardReasons`\n    *   `@DecoderReuseResult`\n    *   `@DefaultAudioSink.OutputMode`\n    *   `@DefaultDrmSessionManager.Mode`\n    *   `@DefaultTrackSelector.SelectionEligibility`\n    *   `@DefaultTsPayloadReaderFactory.Flags`\n    *   `@EGLSurfaceTexture.SecureMode`\n    *   `@EbmlProcessor.ElementType`\n    *   `@ExoMediaDrm.KeyRequest.RequestType`\n    *   `@ExtensionRendererMode`\n    *   `@Extractor.ReadResult`\n    *   `@FileTypes.Type`\n    *   `@FlacExtractor.Flags` (in `com.google.android.exoplayer2.ext.flac`\n        package)\n    *   `@FlacExtractor.Flags` (in\n        `com.google.android.exoplayer2.extractor.flac` package)\n    *   `@FragmentedMp4Extractor.Flags`\n    *   `@HlsMediaPlaylist.PlaylistType`\n    *   `@HttpDataSourceException.Type`\n    *   `@IllegalClippingException.Reason`\n    *   `@IllegalMergeException.Reason`\n    *   `@LoadErrorHandlingPolicy.FallbackType`\n    *   `@MatroskaExtractor.Flags`\n    *   `@Mp3Extractor.Flags`\n    *   `@Mp4Extractor.Flags`\n    *   `@NotificationUtil.Importance`\n    *   `@PlaybackException.FieldNumber`\n    *   `@PlayerNotificationManager.Priority`\n    *   `@PlayerNotificationManager.Visibility`\n    *   `@PlayerView.ShowBuffering`\n    *   `@Renderer.State`\n    *   `@RendererCapabilities.AdaptiveSupport`\n    *   `@RendererCapabilities.Capabilities`\n    *   `@RendererCapabilities.DecoderSupport`\n    *   `@RendererCapabilities.FormatSupport`\n    *   `@RendererCapabilities.HardwareAccelerationSupport`\n    *   `@RendererCapabilities.TunnelingSupport`\n    *   `@SampleStream.ReadDataResult`\n    *   `@SampleStream.ReadFlags`\n    *   `@StyledPlayerView.ShowBuffering`\n    *   `@SubtitleView.ViewType`\n    *   `@TextAnnotation.Position`\n    *   `@TextEmphasisSpan.MarkFill`\n    *   `@TextEmphasisSpan.MarkShape`\n    *   `@Track.Transformation`\n    *   `@TrackOutput.SampleDataPart`\n    *   `@Transformer.ProgressState`\n    *   `@TsExtractor.Mode`\n    *   `@TsPayloadReader.Flags`\n    *   `@WebvttCssStyle.FontSizeUnit`\n\n### 2.16.1 (2021-11-18)\n\n*   Core Library:\n    *   Fix track selection issue where overriding one track group did not\n        disable other track groups of the same type\n        ([#9675](https://github.com/google/ExoPlayer/issues/9675)).\n    *   Fix track selection issue where a mixture of non-empty and empty track\n        overrides is not applied correctly\n        ([#9649](https://github.com/google/ExoPlayer/issues/9649)).\n    *   Add protected method `DefaultRenderersFactory.getCodecAdapterFactory()`\n        so that subclasses of `DefaultRenderersFactory` that override\n        `buildVideoRenderers()` or `buildAudioRenderers()` can access the codec\n        adapter factory and pass it to `MediaCodecRenderer` instances they\n        create.\n    *   Propagate ICY header fields `name` and `genre` to\n        `MediaMetadata.station` and `MediaMetadata.genre` respectively so that\n        they reach the app via `Player.Listener.onMediaMetadataChanged()`\n        ([#9677](https://github.com/google/ExoPlayer/issues/9677)).\n    *   Remove null keys from `DefaultHttpDataSource#getResponseHeaders`.\n*   Extractors:\n    *   WAV: Add support for RF64 streams\n        ([#9543](https://github.com/google/ExoPlayer/issues/9543)).\n*   DASH:\n    *   Add parsed essential and supplemental properties to the `Representation`\n        ([#9579](https://github.com/google/ExoPlayer/issues/9579)).\n*   HLS:\n    *   Correctly populate `Format.label` for audio only HLS streams\n        ([#9608](https://github.com/google/ExoPlayer/issues/9608)).\n\n### 2.16.0 (2021-11-04)\n\n*   Core Library:\n    *   Deprecate `SimpleExoPlayer`. All functionality has been moved to\n        `ExoPlayer` instead. `ExoPlayer.Builder` can be used instead of\n        `SimpleExoPlayer.Builder`.\n    *   Add track selection methods to the `Player` interface, for example,\n        `Player.getCurrentTracksInfo` and `Player.setTrackSelectionParameters`.\n        These methods can be used instead of directly accessing the track\n        selector.\n    *   Enable MediaCodec asynchronous queueing by default on devices with API\n        level >= 31. Add methods in `DefaultMediaCodecRendererFactory` and\n        `DefaultRenderersFactory` to force enable or force disable asynchronous\n        queueing ([6348](https://github.com/google/ExoPlayer/issues/6348)).\n    *   Remove final dependency on `jcenter()`.\n    *   Fix `mediaMetadata` being reset when media is repeated\n        ([#9458](https://github.com/google/ExoPlayer/issues/9458)).\n    *   Adjust `ExoPlayer` `MediaMetadata` update priority, such that values\n        input through the `MediaItem.MediaMetadata` are used above media derived\n        values.\n    *   Move `com.google.android.exoplayer2.device.DeviceInfo` to\n        `com.google.android.exoplayer2.DeviceInfo`.\n    *   Move `com.google.android.exoplayer2.drm.DecryptionException` to\n        `com.google.android.exoplayer2.decoder.CryptoException`.\n    *   Move `com.google.android.exoplayer2.upstream.cache.CachedRegionTracker`\n        to `com.google.android.exoplayer2.upstream.CachedRegionTracker`.\n    *   Move `Player.addListener(EventListener)` and\n        `Player.removeListener(EventListener)` out of `Player` into subclasses.\n*   Android 12 compatibility:\n    *   Keep `DownloadService` started and in the foreground whilst waiting for\n        requirements to be met on Android 12. This is necessary due to new\n        [foreground service launch restrictions](https://developer.android.com/about/versions/12/foreground-services).\n        `DownloadService.getScheduler` will not be called on Android 12 devices.\n    *   Disable platform transcoding when playing content URIs on Android 12.\n    *   Add `ExoPlayer.setVideoChangeFrameRateStrategy` to allow disabling of\n        calls from the player to `Surface.setFrameRate`. This is useful for\n        applications wanting to call `Surface.setFrameRate` directly from\n        application code with Android 12's `Surface.CHANGE_FRAME_RATE_ALWAYS`.\n    *   Upgrade the WorkManager extension to depend on\n        `androidx.work:work-runtime:2.7.0`. Earlier versions of `work-runtime`\n        are not compatible with apps targeting Android 12, and will crash with\n        an `IllegalArgumentException` when creating `PendingIntent`s\n        ([#9181](https://github.com/google/ExoPlayer/issues/9181)).\n*   Video:\n    *   Fix bug in `MediaCodecVideoRenderer` that resulted in re-using a\n        released `Surface` when playing without an app-provided `Surface`\n        ([#9476](https://github.com/google/ExoPlayer/issues/9476)).\n*   DRM:\n    *   Log an error (instead of throwing `IllegalStateException`) when calling\n        `DefaultDrmSession#release()` on a fully released session\n        ([#9392](https://github.com/google/ExoPlayer/issues/9392)).\n*   UI:\n    *   `SubtitleView` no longer implements `TextOutput`. `SubtitleView`\n        implements `Player.Listener`, so can be registered to a player with\n        `Player.addListener`.\n    *   Fix initial timestamp display in `PlayerControlView`\n        ([#9524](https://github.com/google/ExoPlayer/issues/9254)).\n    *   Fix capitalization of languages in the track selector\n        ([#9452](https://github.com/google/ExoPlayer/issues/9452)).\n*   Extractors:\n    *   MP4: Correctly handle HEVC tracks with pixel aspect ratios other than 1.\n    *   MP4: Add support for Dolby TrueHD (only for unfragmented streams)\n        ([#9496](https://github.com/google/ExoPlayer/issues/9496)).\n    *   MP4: Avoid throwing `ArrayIndexOutOfBoundsException` when parsing\n        invalid `colr` boxes produced by some device cameras\n        ([#9332](https://github.com/google/ExoPlayer/issues/9332)).\n    *   MP4: Parse HDR static metadata from the `clli` and `mdcv` boxes.\n    *   TS: Correctly handle HEVC tracks with pixel aspect ratios other than 1.\n    *   TS: Map stream type 0x80 to H262\n        ([#9472](https://github.com/google/ExoPlayer/issues/9472)).\n*   Downloads and caching:\n    *   Modify `DownloadService` behavior when `DownloadService.getScheduler`\n        returns `null`, or returns a `Scheduler` that does not support the\n        requirements for downloads to continue. In both cases, `DownloadService`\n        will now remain started and in the foreground whilst waiting for\n        requirements to be met.\n    *   Modify `DownloadService` behavior when running on Android 12 and above.\n        See the \"Android 12 compatibility\" section above.\n*   RTSP:\n    *   Support RFC4566 SDP attribute field grammar\n        ([#9430](https://github.com/google/ExoPlayer/issues/9430)).\n*   DASH:\n    *   Populate `Format.sampleMimeType`, `width` and `height` for image\n        `AdaptationSet` elements\n        ([#9500](https://github.com/google/ExoPlayer/issues/9500)).\n*   HLS:\n    *   Fix rounding error in HLS playlists\n        ([#9575](https://github.com/google/ExoPlayer/issues/9575)).\n    *   Fix `NoSuchElementException` thrown when an HLS manifest declares\n        `#EXT-X-RENDITION-REPORT` at the beginning of the playlist\n        ([#9592](https://github.com/google/ExoPlayer/issues/9592)).\n*   RTMP extension:\n    *   Upgrade to `io.antmedia:rtmp_client`, which does not rely on `jcenter()`\n        ([#9591](https://github.com/google/ExoPlayer/issues/9591)).\n*   MediaSession extension:\n    *   Rename\n        `MediaSessionConnector.QueueNavigator#onCurrentWindowIndexChanged` to\n        `onCurrentMediaItemIndexChanged`.\n*   Transformer:\n    *   Avoid sending a duplicate timestamp to the encoder with the end of\n        stream buffer.\n*   Remove deprecated symbols:\n    *   Remove `Renderer.VIDEO_SCALING_MODE_*` constants. Use identically named\n        constants in `C` instead.\n    *   Remove `C.MSG_*` constants. Use identically named constants in\n        `Renderer` instead, except for `C.MSG_SET_SURFACE`, which is replaced\n        with `Renderer.MSG_SET_VIDEO_OUTPUT`.\n    *   Remove `DeviceListener`. Use `Player.Listener` instead.\n    *   Remove `CacheDataSourceFactory`. Use `CacheDataSource.Factory` instead.\n    *   Remove `CacheDataSinkFactory`. Use `CacheDataSink.Factory` instead.\n    *   Remove `FileDataSourceFactory`. Use `FileDataSource.Factory` instead.\n    *   Remove `SimpleExoPlayer.addMetadataOutput` and `removeMetadataOutput`.\n        Use `Player.addListener` and `Player.Listener` instead.\n    *   Remove `SimpleExoPlayer.addAudioListener`, `removeAudioListener` and\n        `AudioListener`. Use `Player.addListener` and `Player.Listener` instead.\n    *   Remove `SimpleExoPlayer.addVideoListener`, `removeVideoListener` and\n        `VideoListener`. Use `Player.addListener` and `Player.Listener` instead.\n    *   Remove `DefaultHttpDataSourceFactory`. Use\n        `DefaultHttpDataSource.Factory` instead.\n    *   Remove `SingleSampleMediaSource.createMediaSource(Uri, Format, long)`.\n        Use `SingleSampleMediaSource.createMediaSource(MediaItem.Subtitle,\n        long)` instead.\n    *   Remove `HttpDataSource.Factory.getDefaultRequestProperties`. Use\n        `HttpDataSource.Factory.setDefaultRequestProperties` instead.\n    *   Remove `GvrAudioProcessor` and the GVR extension, which has been\n        deprecated since 2.11.0.\n    *   Remove `DownloadService.onDownloadChanged` and\n        `DownloadService.onDownloadRemoved`. Instead, use\n        `DownloadManager.addListener` to register a listener directly to the\n        `DownloadManager` returned through `DownloadService.getDownloadManager`.\n    *   Remove `Player.getCurrentStaticMetadata`,\n        `Player.Listener.onStaticMetadataChanged` and\n        `Player.EVENT_STATIC_METADATA_CHANGED`. Use `Player.getMediaMetadata`,\n        `Player.Listener.onMediaMetadataChanged` and\n        `Player.EVENT_MEDIA_METADATA_CHANGED` for convenient access to\n        structured metadata, or access the raw static metadata directly from the\n        `TrackSelection#getFormat()`.\n    *   Remove `ControlDispatcher` and `DefaultControlDispatcher`. Operations\n        can be customized by using a `ForwardingPlayer`, or when configuring the\n        player (for example by using\n        `ExoPlayer.Builder.setSeekBackIncrementMs`).\n\n### 2.15.1 (2021-09-20)\n\n*   Core Library:\n    *   Fix track selection in `StyledPlayerControlView` when using\n        `ForwardingPlayer`.\n    *   Fix `FlagSet#equals` on API levels below 24.\n    *   Fix `NullPointerException` being thrown from `CacheDataSource` when\n        reading a fully cached resource with `DataSpec.position` equal to the\n        resource length.\n    *   Fix a bug when [depending on ExoPlayer locally](README.md#locally) with\n        a relative path\n        ([#9403](https://github.com/google/ExoPlayer/issues/9403)).\n    *   Better handle invalid seek requests. Seeks to positions that are before\n        the start or after the end of the media are now handled as seeks to the\n        start and end respectively\n        ([8906](https://github.com/google/ExoPlayer/issues/8906)).\n    *   Rename `MimeTypes.AUDIO_DTS_UHD` to `MimeTypes.AUDIO_DTS_X` and add\n        required profile to its value\n        ([#9429](https://github.com/google/ExoPlayer/issues/9429)).\n*   Extractors:\n    *   Support TS packets without PTS flag\n        ([#9294](https://github.com/google/ExoPlayer/issues/9294)).\n    *   Fix issue decoding ID3 tags containing UTF-16 encoded strings\n        ([#9087](https://github.com/google/ExoPlayer/issues/9087)).\n*   Video:\n    *   Request smaller decoder input buffers for Dolby Vision. This fixes an\n        issue that could cause UHD Dolby Vision playbacks to fail on some\n        devices, including Amazon Fire TV 4K.\n*   DRM:\n    *   Fix `DefaultDrmSessionManager` to correctly eagerly release preacquired\n        DRM sessions when there's a shortage of DRM resources on the device.\n*   Downloads and caching:\n    *   Workaround platform issue that can cause a `SecurityException` to be\n        thrown from `Requirements.isInternetConnectivityValidated` on devices\n        running Android 11\n        ([#9002](https://github.com/google/ExoPlayer/issues/9002)).\n*   DASH:\n    *   Use identical cache keys for downloading and playing DASH segments\n        ([#9370](https://github.com/google/ExoPlayer/issues/9370)).\n    *   Fix base URL selection and load error handling when base URLs are shared\n        across adaptation sets.\n*   HLS:\n    *   Fix bug where the player would get stuck if all download attempts fail\n        and would not raise an error to the application\n        ([#9390](https://github.com/google/ExoPlayer/issues/9390)).\n*   RTSP:\n    *   Handle when additional spaces are in SDP's RTPMAP atrribute\n        ([#9379](https://github.com/google/ExoPlayer/issues/9379)).\n    *   Handle partial URIs in RTP-Info headers\n        ([#9346](https://github.com/google/ExoPlayer/issues/9346)).\n    *   Fix RTSP Session header handling\n        ([#9416](https://github.com/google/ExoPlayer/issues/9416)).\n    *   Fix RTSP WWW-Authenticate header parsing\n        ([#9428](https://github.com/google/ExoPlayer/issues/9428)).\n*   UI:\n    *   Use `defStyleAttr` when obtaining styled attributes in\n        `StyledPlayerView`, `PlayerView` and `PlayerControlView`\n        ([#9024](https://github.com/google/ExoPlayer/issues/9024)).\n    *   Fix accessibility focus in `PlayerControlView`\n        ([#9111](https://github.com/google/ExoPlayer/issues/9111)).\n    *   Fix issue that `StyledPlayerView` and `PlayerView` don't update UI when\n        available player commands change.\n*   Cast extension:\n    *   Implement `CastPlayer.setPlaybackParameters(PlaybackParameters)` to\n        support setting the playback speed\n        ([#6784](https://github.com/google/ExoPlayer/issues/6784)).\n\n### 2.15.0 (2021-08-10)\n\n*   Core Library:\n    *   Add `MediaCodecAdapter.needsReconfiguration` method.\n    *   Add `getSeekBackIncrement`, `seekBack`, `getSeekForwardIncrement`,\n        `seekForward`, `getMaxSeekToPreviousPosition`, `seekToPrevious` and\n        `seekToNext` methods to `Player`.\n    *   Rename `Player` methods:\n        *   `hasPrevious` to `hasPreviousWindow`.\n        *   `previous` to `seekToPreviousWindow`.\n        *   `hasNext` to `hasNextWindow`.\n        *   `next` to `seekToNextWindow`.\n    *   Rename `Player` commands:\n        *   `COMMAND_SEEK_IN_CURRENT_MEDIA_ITEM` to\n            `COMMAND_SEEK_IN_CURRENT_WINDOW`.\n        *   `COMMAND_SEEK_TO_NEXT_MEDIA_ITEM` to `COMMAND_SEEK_TO_NEXT_WINDOW`.\n        *   `COMMAND_SEEK_TO_PREVIOUS_MEDIA_ITEM` to\n            `COMMAND_SEEK_TO_PREVIOUS_WINDOW`.\n        *   `COMMAND_SEEK_TO_MEDIA_ITEM` to `COMMAND_SEEK_TO_WINDOW`.\n        *   `COMMAND_GET_MEDIA_ITEMS` to `COMMAND_GET_TIMELINE`.\n    *   Rename `Player.EventFlags` IntDef to `Player.Event`.\n    *   Make `Player` depend on the new `PlaybackException` class instead of\n        `ExoPlaybackException`:\n        *   `Player.getPlayerError` now returns a `PlaybackException`.\n        *   `Player.Listener.onPlayerError` now receives a `PlaybackException`.\n        *   Add a new listener method `Player.Listener.onPlayerErrorChanged`,\n            which is equivalent to `onPlayerError` except that it is also called\n            when the player error becomes `null`.\n        *   `Player` implementations like `ExoPlayer` may use\n            `PlaybackException` subclasses (like `ExoPlaybackException`), so\n            users can downcast the `PlaybackException` instance to obtain\n            implementation-specific fields (like\n            `ExoPlaybackException.rendererIndex`).\n    *   `PlaybackException` introduces an `errorCode` which identifies the cause\n        of the failure in order to simplify error handling\n        ([#1611](https://github.com/google/ExoPlayer/issues/1611)).\n    *   Add a `DefaultMediaDescriptionAdapter` for the\n        `PlayerNotificationManager`, that makes use of the `Player`\n        `MediaMetadata` to populate the notification fields.\n    *   Add `@FallbackType` to `LoadErrorHandlingPolicy` to support\n        customization of the exclusion duration for locations and tracks.\n    *   Change interface of `LoadErrorHandlingPolicy` to support configuring the\n        behavior of track and location fallback. Location fallback is currently\n        only supported for DASH manifests with multiple base URLs.\n    *   Restrict use of `AudioTrack.isDirectPlaybackSupported` to TVs, to avoid\n        listing audio offload encodings as supported for passthrough mode on\n        mobile devices\n        ([#9239](https://github.com/google/ExoPlayer/issues/9239)).\n*   Extractors:\n    *   Add support for DTS-UHD in MP4\n        ([#9163](https://github.com/google/ExoPlayer/issues/9163)).\n*   Text:\n    *   TTML: Inherit the `rubyPosition` value from a containing `<span\n        ruby=\"container\">` element.\n    *   WebVTT: Add support for CSS `font-size` property\n        ([#8964](https://github.com/google/ExoPlayer/issues/8964)).\n*   Ad playback:\n    *   Support changing ad break positions in the player logic\n        ([#5067](https://github.com/google/ExoPlayer/issues/5067)).\n    *   Support resuming content with an offset after an ad group.\n*   UI:\n    *   Add `setUseRewindAction` and `setUseFastForwardAction` to\n        `PlayerNotificationManager`, and `setUseFastForwardActionInCompactView`\n        and `setUseRewindActionInCompactView` to show the actions in compact\n        view mode.\n    *   Remove `rewind_increment` and `fastforward_increment` attributes from\n        `PlayerControlView` and `StyledPlayerControlView`. These increments can\n        be customized by configuring the `Player` (see `setSeekBackIncrementMs`\n        and `setSeekForwardIncrementMs` in `SimpleExoPlayer.Builder`), or by\n        using a `ForwardingPlayer` that overrides `getSeekBackIncrement`,\n        `seekBack`, `getSeekForwardIncrement` and `seekForward`. The rewind and\n        fast forward buttons can be disabled by using a `ForwardingPlayer` that\n        removes `COMMAND_SEEK_BACK` and `COMMAND_SEEK_FORWARD` from the\n        available commands.\n    *   Update `DefaultControlDispatcher` `getRewindIncrementMs` and\n        `getFastForwardIncrementMs` to take the player as parameter.\n*   DASH:\n    *   Add support for multiple base URLs and DVB attributes in the manifest.\n        Apps that are using `DefaultLoadErrorHandlingPolicy` with such manifests\n        have base URL fallback automatically enabled\n        ([#771](https://github.com/google/ExoPlayer/issues/771),\n        [#7654](https://github.com/google/ExoPlayer/issues/7654)).\n*   HLS:\n    *   Fix issue that could cause some playbacks to be stuck buffering\n        ([#8850](https://github.com/google/ExoPlayer/issues/8850),\n        [#9153](https://github.com/google/ExoPlayer/issues/9153)).\n    *   Report audio track type in\n        `AnalyticsListener.onDownstreamFormatChanged()` for audio-only\n        playlists, so that the `PlaybackStatsListener` can derive audio\n        format-related information\n        ([#9175](https://github.com/google/ExoPlayer/issues/9175)).\n*   RTSP:\n    *   Use standard RTSP header names\n        ([#9182](https://github.com/google/ExoPlayer/issues/9182)).\n    *   Handle an extra semicolon in SDP fmtp attribute\n        ([#9247](https://github.com/google/ExoPlayer/pull/9247)).\n    *   Fix handling of special characters in the RTSP session ID\n        ([#9254](https://github.com/google/ExoPlayer/issues/9254)).\n*   SmoothStreaming:\n    *   Propagate `StreamIndex` element `Name` attribute value as `Format` label\n        ([#9252](https://github.com/google/ExoPlayer/issues/9252)).\n*   Cronet extension:\n    *   Add `CronetDataSource.Factory.setRequestPriority` to allow setting the\n        priority of requests made by `CronetDataSource` instances.\n*   OkHttp extension:\n    *   Switch to OkHttp 4.9.1. This increases the extension's minimum SDK\n        version requirement from 16 to 21.\n*   Remove deprecated symbols:\n    *   Remove `CastPlayer` specific playlist manipulation methods. Use\n        `setMediaItems`, `addMediaItems`, `removeMediaItem` and `moveMediaItem`\n        instead.\n    *   Remove `Format.create` methods. Use `Format.Builder` instead.\n    *   Remove `MediaSource.getTag`. Use `MediaSource.getMediaItem` and\n        `MediaItem.PlaybackProperties.tag` instead.\n    *   Remove `PlaybackPreparer`. UI components that previously had\n        `setPlaybackPreparer` methods will now call `Player.prepare` by default.\n        If this behavior is sufficient, use of `PlaybackPreparer` can be removed\n        from application code without replacement. For custom preparation logic,\n        use a `ForwardingPlayer` that implements custom preparation logic in\n        `prepare`.\n    *   Remove `Player.Listener.onTimelineChanged(Timeline, Object, int)`. Use\n        `Player.Listener.onTimelineChanged(Timeline, int)` instead. The manifest\n        can be accessed using `Player.getCurrentManifest`.\n    *   Remove `Player.getCurrentTag`. Use `Player.getCurrentMediaItem` and\n        `MediaItem.PlaybackProperties.tag` instead.\n    *   Remove `Player.getPlaybackError`. Use `Player.getPlayerError` instead.\n    *   Remove `PlayerNotificationManager` constructors and `createWith`\n        methods. Use `PlayerNotificationManager.Builder` instead.\n    *   Remove `PlayerNotificationManager.setNotificationListener`. Use\n        `PlayerNotificationManager.Builder.setNotificationListener` instead.\n    *   Remove `PlayerNotificationManager` `setUseNavigationActions` and\n        `setUseNavigationActionsInCompactView`. Use `setUseNextAction`,\n        `setUsePreviousAction`, `setUseNextActionInCompactView` and\n        `setUsePreviousActionInCompactView` instead.\n    *   Remove `setRewindIncrementMs` and `setFastForwardIncrementMs` from UI\n        components. These increments can be customized by configuring the\n        `Player` (see `setSeekBackIncrementMs` and `setSeekForwardIncrementMs`\n        in `SimpleExoPlayer.Builder`), or by using a `ForwardingPlayer` that\n        overrides `getSeekBackIncrement`, `seekBack`, `getSeekForwardIncrement`\n        and `seekForward`. The rewind and fast forward buttons can be disabled\n        by using a `ForwardingPlayer` that removes `COMMAND_SEEK_BACK` and\n        `COMMAND_SEEK_FORWARD` from the available commands.\n    *   Remove `Timeline.getWindow(int, Window, boolean)`. Use\n        `Timeline.getWindow(int, Window)` instead, which will always set tags.\n\n### 2.14.2 (2021-07-20)\n\n*   Core Library:\n    *   Explicitly mark several methods on `SimpleExoPlayer` as `@Deprecated`.\n        These methods are all overrides and are already deprecated on `Player`\n        and the respective `ExoPlayer` component classes (since 2.14.0).\n*   Video:\n    *   Fix `IncorrectContextUseViolation` strict mode warning on Android 11\n        ([#8246](https://github.com/google/ExoPlayer/pull/8246)).\n*   Audio:\n    *   Fix track selection for E-AC-3 streams.\n    *   Use `AudioTrack.isDirectPlaybackSupported` to check for encoded audio\n        passthrough capability from API 29 onwards, instead of using the HDMI\n        audio plug intent\n        ([#6500](https://github.com/google/ExoPlayer/pull/6500)).\n*   Extractors:\n    *   Fix issue where a `trun` atom could be associated with the wrong track\n        in an FMP4 stream\n        ([#9056](https://github.com/google/ExoPlayer/pull/9056)). The fix\n        removes a previous workaround to handle content in which the `track_ID`\n        is set incorrectly\n        ([#4083](https://github.com/google/ExoPlayer/issues/4083)). Such content\n        is malformed and should be re-encoded.\n    *   Improve support for truncated Ogg streams\n        ([#7608](https://github.com/google/ExoPlayer/issues/7608)).\n    *   Add support for MP4 H263 atom type\n        ([#9158](https://github.com/google/ExoPlayer/issues/9158)).\n    *   Fix issue around TS synchronization when reading a file's duration\n        ([#9100](https://github.com/google/ExoPlayer/pull/9100)).\n*   HLS:\n    *   Fix issue where playback of a live event could become stuck rather than\n        transitioning to `STATE_ENDED` when the event ends\n        ([#9067](https://github.com/google/ExoPlayer/issues/9067)).\n    *   Fix issue where a new initialization segment, as specified by an\n        `EXT-X-MAP` tag in a media playlist, would not be loaded when\n        encountered during playback\n        ([#9004](https://github.com/google/ExoPlayer/issues/9004)).\n    *   Forward the `FRAME-RATE` value from the master playlist to renditions.\n        ([#8960](https://github.com/google/ExoPlayer/issues/8960)).\n    *   Fix issue where HLS events would start at positions greater than\n        specified by an `EXT-X-START` tag when placed in a playlist\n        ([#9037](https://github.com/google/ExoPlayer/issues/9037)).\n*   Ad playback:\n    *   Use the content URI when auto-generating an ad ID (in addition to the\n        media ID and ad tag URI)\n        ([#9106](https://github.com/google/ExoPlayer/issues/9106).\n*   DRM:\n    *   Allow repeated provisioning in `DefaultDrmSession(Manager)`.\n    *   Fix a crash due to `DefaultDrmSessionManager.release()` incorrectly\n        releasing too many keep-alive `DefaultDrmSession` references, resulting\n        in `DefaultDrmSession.release()` throwing an `IllegalStateException`\n        ([#9193](https://github.com/google/ExoPlayer/issues/9193)).\n*   Metadata:\n    *   Fix handling of emsg messages with an unset duration\n        ([#9123](https://github.com/google/ExoPlayer/issues/9123)).\n*   UI:\n    *   Add `PendingIntent.FLAG_IMMUTABLE` when creating broadcast intents in\n        `PlayerNotificationManager`. This is required by a\n        [behaviour change](https://developer.android.com/about/versions/12/behavior-changes-12#pending-intent-mutability)\n        in Android 12.\n    *   Fix focusability of `StyledPlayerView` and `StyledPlayerControlView`\n        popup menus on API levels prior to 26\n        ([#9061](https://github.com/google/ExoPlayer/issues/9061)).\n    *   Fix progress bar flickering immediately after the user seeks\n        ([#9049](https://github.com/google/ExoPlayer/pull/9049)).\n    *   Fix `StyledPlayerView` and `StyledPlayerControlView` popup menu items\n        not expanding to occupy the full width of the popup\n        ([#9086](https://github.com/google/ExoPlayer/issues/9086)).\n    *   Don't propagate `AttributeSet` from `SubtitleView` constructor into\n        `CanvasSubtitleOutput`. Just passing the `Context` is enough, and\n        ensures programmatic changes to the `SubtitleView` will propagate down.\n*   RTSP:\n    *   Fix session description (SDP) parsing to use a HashMap-like behaviour\n        for duplicated attributes.\n        ([#9014](https://github.com/google/ExoPlayer/issues/9014)).\n    *   Allow using absolute URI in the control attribute in a media description\n        ([#9183](https://github.com/google/ExoPlayer/issues/9183)).\n    *   Allow the timeout to be customised via\n        `RtspMediaSource.Factory.setTimeoutMs`.\n\n### 2.14.1 (2021-06-11)\n\n*   Core Library:\n    *   Fix gradle config to allow specifying a relative path for\n        `exoplayerRoot` when [depending on ExoPlayer locally](README.md#locally)\n        ([#8927](https://github.com/google/ExoPlayer/issues/8927)).\n    *   Update `MediaItem.Builder` javadoc to discourage calling setters that\n        will be (currently) ignored if another setter is not also called.\n*   Extractors:\n    *   Add support for MPEG-H 3D Audio in MP4 extractors\n        ([#8860](https://github.com/google/ExoPlayer/pull/8860)).\n*   Video:\n    *   Fix bug that could cause `CodecException: Error 0xffffffff` to be thrown\n        from `MediaCodec.native_setSurface` in use cases that involve both\n        swapping the output `Surface` and a mixture of secure and non-secure\n        content being played\n        ([#8776](https://github.com/google/ExoPlayer/issues/8776)).\n*   HLS:\n    *   Use the `PRECISE` attribute in `EXT-X-START` to select the default start\n        position.\n    *   Fix a bug where skipping into spliced-in chunks triggered an assertion\n        error ([#8937](https://github.com/google/ExoPlayer/issues/8937)).\n*   DRM:\n    *   Keep secure `MediaCodec` instances initialized when disabling (but not\n        resetting) `MediaCodecRenderer`. This helps re-use secure decoders in\n        more contexts, which avoids the 'black flash' caused by detaching a\n        `Surface` from a secure decoder on some devices\n        ([#8842](https://github.com/google/ExoPlayer/issues/8842)). It will also\n        result in DRM license refresh network requests while the player is\n        stopped if `Player#setForegroundMode` is true.\n    *   Fix issue where offline keys were unnecessarily (and incorrectly)\n        restored into a session before being released. This call sequence is\n        explicitly disallowed in OEMCrypto v16.\n*   UI:\n    *   Keep subtitle language features embedded (e.g. rubies & tate-chu-yoko)\n        in `Cue.text` even when `SubtitleView#setApplyEmbeddedStyles()` is\n        `false`.\n    *   Fix `NullPointerException` in `StyledPlayerView` that could occur after\n        calling `StyledPlayerView.setPlayer(null)`\n        ([#8985](https://github.com/google/ExoPlayer/issues/8985)).\n*   RTSP:\n    *   Add support for RTSP basic and digest authentication\n        ([#8941](https://github.com/google/ExoPlayer/issues/8941)).\n    *   Enable using repeat mode and playlist with RTSP\n        ([#8994](https://github.com/google/ExoPlayer/issues/8994)).\n    *   Add `RtspMediaSource.Factory` option to set the RTSP user agent.\n    *   Add `RtspMediaSource.Factory` option to force using TCP for streaming.\n*   GL demo app:\n    *   Fix texture transformation to avoid green bars shown on some videos\n        ([#8992](https://github.com/google/ExoPlayer/issues/8992)).\n\n### 2.14.0 (2021-05-13)\n\n*   Core Library:\n    *   Move `Player` components to `ExoPlayer`. For example\n        `Player.VideoComponent` is now `ExoPlayer.VideoComponent`.\n    *   The most used methods of `Player`'s audio, video, text and metadata\n        components have been added directly to `Player`.\n    *   Add `Player.getAvailableCommands`, `Player.isCommandAvailable` and\n        `Listener.onAvailableCommandsChanged` to query which commands that can\n        be executed on the player.\n    *   Add a `Player.Listener` interface to receive all player events.\n        Component listeners and `EventListener` have been deprecated.\n    *   Add `Player.getMediaMetadata`, which returns a combined and structured\n        `MediaMetadata` object. Changes to metadata are reported to\n        `Listener.onMediaMetadataChanged`.\n    *   `Player.setPlaybackParameters` no longer accepts null, use\n        `PlaybackParameters.DEFAULT` instead.\n    *   Report information about the old and the new playback positions to\n        `Listener.onPositionDiscontinuity`. Add `DISCONTINUITY_REASON_SKIP` and\n        `DISCONTINUITY_REASON_REMOVE` as discontinuity reasons, and rename\n        `DISCONTINUITY_REASON_PERIOD_TRANSITION` to\n        `DISCONTINUITY_REASON_AUTO_TRANSITION`. Remove\n        `DISCONTINUITY_REASON_AD_INSERTION`, for which\n        `DISCONTINUITY_REASON_AUTO_TRANSITION` is used instead\n        ([#6163](https://github.com/google/ExoPlayer/issues/6163),\n        [#4768](https://github.com/google/ExoPlayer/issues/4768)).\n    *   Deprecate `ExoPlayer.Builder`. Use `SimpleExoPlayer.Builder` instead.\n    *   Move `Player.getRendererCount` and `Player.getRendererType` to\n        `ExoPlayer`.\n    *   Use an empty string instead of the URI if the media ID is not explicitly\n        set with `MediaItem.Builder.setMediaId(String)`.\n    *   Remove `MediaCodecRenderer.configureCodec()` and add\n        `MediaCodecRenderer.getMediaCodecConfiguration()`. The new method is\n        called just before the `MediaCodec` is created and returns the\n        parameters needed to create and configure the `MediaCodec` instance.\n        Applications can override `MediaCodecRenderer.onCodecInitialized()` to\n        be notified after a `MediaCodec` is initialized, or they can inject a\n        custom `MediaCodecAdapter.Factory` if they want to control how the\n        `MediaCodec` is configured.\n    *   Promote `AdaptiveTrackSelection.AdaptationCheckpoint` to `public`\n        visibility to allow Kotlin subclasses of\n        `AdaptiveTrackSelection.Factory`\n        ([#8830](https://github.com/google/ExoPlayer/issues/8830)).\n    *   Fix bug when transitions from content to ad periods called\n        `onMediaItemTransition` by mistake.\n    *   `AdsLoader.AdViewProvider` and `AdsLoader.OverlayInfo` have been renamed\n        `com.google.android.exoplayer2.ui.AdViewProvider` and\n        `com.google.android.exoplayer2.ui.AdOverlayInfo` respectively.\n    *   `CaptionStyleCompat` has been moved to the\n        `com.google.android.exoplayer2.ui` package.\n    *   `DebugTextViewHelper` has been moved from the `ui` package to the `util`\n        package.\n*   RTSP:\n    *   Initial support for RTSP playbacks\n        ([#55](https://github.com/google/ExoPlayer/issues/55)).\n*   Downloads and caching:\n    *   Fix `CacheWriter` to correctly handle cases where the request `DataSpec`\n        extends beyond the end of the underlying resource. Caching will now\n        succeed in this case, with data up to the end of the resource being\n        cached. This behaviour is enabled by default, and so the\n        `allowShortContent` parameter has been removed\n        ([#7326](https://github.com/google/ExoPlayer/issues/7326)).\n    *   Fix `CacheWriter` to correctly handle `DataSource.close` failures, for\n        which it cannot be assumed that data was successfully written to the\n        cache.\n*   DRM:\n    *   Prepare DRM sessions (and fetch keys) ahead of the playback position\n        ([#4133](https://github.com/google/ExoPlayer/issues/4133)).\n    *   Only dispatch DRM session acquire and release events once per period\n        when playing content that uses the same encryption keys for both audio &\n        video tracks. Previously, separate acquire and release events were\n        dispatched for each track in each period.\n    *   Include the session state in DRM session-acquired listener methods.\n*   UI:\n    *   Add `PlayerNotificationManager.Builder`, with the ability to specify\n        which group the notification should belong to.\n    *   Remove `setUseSensorRotation` from `PlayerView` and `StyledPlayerView`.\n        Instead, cast the view returned by `getVideoSurfaceView` to\n        `SphericalGLSurfaceView`, and then call `setUseSensorRotation` on the\n        `SphericalGLSurfaceView` directly.\n*   Analytics:\n    *   Add `onAudioCodecError` and `onVideoCodecError` to `AnalyticsListener`.\n*   Video:\n    *   Add `Player.getVideoSize()` to retrieve the current size of the video\n        stream. Add `Listener.onVideoSizeChanged(VideoSize)` and deprecate\n        `Listener.onVideoSizeChanged(int, int, int, float)`.\n*   Audio:\n    *   Report unexpected audio discontinuities to\n        `AnalyticsListener.onAudioSinkError`\n        ([#6384](https://github.com/google/ExoPlayer/issues/6384)).\n    *   Allow forcing offload for gapless content even if gapless playback is\n        not supported.\n    *   Allow fall back from DTS-HD to DTS when playing via passthrough.\n*   Text:\n    *   Fix overlapping lines when using `SubtitleView.VIEW_TYPE_WEB`.\n    *   Parse SSA/ASS underline & strikethrough info in `Style:` lines\n        ([#8435](https://github.com/google/ExoPlayer/issues/8435)).\n    *   Ensure TTML `tts:textAlign` is correctly propagated from `<p>` nodes to\n        child nodes.\n    *   Support TTML `ebutts:multiRowAlign` attributes.\n*   Allow the use of Android platform extractors through\n    [MediaParser](https://developer.android.com/reference/android/media/MediaParser).\n    Only supported on API 30+.\n    *   You can use platform extractors for progressive media by passing\n        `MediaParserExtractorAdapter.FACTORY` when creating a\n        `ProgressiveMediaSource.Factory`.\n    *   You can use platform extractors for HLS by passing\n        `MediaParserHlsMediaChunkExtractor.FACTORY` when creating a\n        `HlsMediaSource.Factory`.\n    *   You can use platform extractors for DASH by passing a\n        `DefaultDashChunkSource` that uses `MediaParserChunkExtractor.FACTORY`\n        when creating a `DashMediaSource.Factory`.\n*   Cast extension:\n    *   Trigger `onMediaItemTransition` event for all reasons except\n        `MEDIA_ITEM_TRANSITION_REASON_REPEAT`.\n*   MediaSession extension:\n    *   Remove dependency on `exoplayer-core`, relying only `exoplayer-common`\n        instead. To achieve this, `TimelineQueueEditor` uses a new\n        `MediaDescriptionConverter` interface, and no longer relies on\n        `ConcatenatingMediaSource`.\n*   Remove deprecated symbols:\n    *   Remove `ExoPlayerFactory`. Use `SimpleExoPlayer.Builder` instead.\n    *   Remove `Player.DefaultEventListener`. Use `Player.Listener` instead.\n    *   Remove `ExtractorMediaSource`. Use `ProgressiveMediaSource` instead.\n    *   Remove `DefaultMediaSourceEventListener`. Use `MediaSourceEventListener`\n        instead.\n    *   Remove `DashManifest` constructor. Use the remaining constructor with\n        `programInformation` and `serviceDescription` set to `null` instead.\n    *   Remove `CryptoInfo.getFrameworkCryptoInfoV16`. Use\n        `CryptoInfo.getFrameworkCryptoInfo` instead.\n    *   Remove `NotificationUtil.createNotificationChannel(Context, String, int,\n        int)`. Use `createNotificationChannel(Context, String, int, int, int)`\n        instead.\n    *   Remove `PlayerNotificationManager.setNotificationListener`. Use\n        `PlayerNotificationManager.Builder.setNotificationListener` instead.\n    *   Remove `PlayerNotificationManager.NotificationListener`\n        `onNotificationStarted(int, Notification)` and\n        `onNotificationCancelled(int)`. Use `onNotificationPosted(int,\n        Notification, boolean)` and `onNotificationCancelled(int, boolean)`\n        instead.\n    *   Remove `DownloadNotificationUtil`. Use `DownloadNotificationHelper`\n        instead.\n    *   Remove `extension-jobdispatcher` module. Use the `extension-workmanager`\n        module instead.\n\n### 2.13.3 (2021-04-14)\n\n*   Published via the Google Maven repository (i.e., google()) rather than\n    JCenter.\n*   Core:\n    *   Reset playback speed when live playback speed control becomes unused\n        ([#8664](https://github.com/google/ExoPlayer/issues/8664)).\n    *   Fix playback position issue when re-preparing playback after a\n        `BehindLiveWindowException`\n        ([#8675](https://github.com/google/ExoPlayer/issues/8675)).\n    *   Assume Dolby Vision content is encoded as H264 when calculating maximum\n        codec input size\n        ([#8705](https://github.com/google/ExoPlayer/issues/8705)).\n*   UI:\n    *   Fix `StyledPlayerView` scrubber not reappearing correctly in some cases\n        ([#8646](https://github.com/google/ExoPlayer/issues/8646)).\n    *   Fix measurement of `StyledPlayerView` and `StyledPlayerControlView` when\n        `wrap_content` is used\n        ([#8726](https://github.com/google/ExoPlayer/issues/8726)).\n    *   Fix `StyledPlayerControlView` to stay in full mode (rather than minimal\n        mode) when possible\n        ([#8763](https://github.com/google/ExoPlayer/issues/8763)).\n*   DASH:\n    *   Parse `forced_subtitle` role from DASH manifests\n        ([#8781](https://github.com/google/ExoPlayer/issues/8781)).\n*   DASH:\n    *   Fix rounding error that could cause `SegmentTemplate.getSegmentCount()`\n        to return incorrect values\n        ([#8804](https://github.com/google/ExoPlayer/issues/8804)).\n*   HLS:\n    *   Fix bug of ignoring `EXT-X-START` when setting the live target offset\n        ([#8764](https://github.com/google/ExoPlayer/pull/8764)).\n    *   Fix incorrect application of byte ranges to `EXT-X-MAP` tags\n        ([#8783](https://github.com/google/ExoPlayer/issues/8783)).\n    *   Fix issue that could cause playback to become stuck if corresponding\n        `EXT-X-DISCONTINUITY` tags in different media playlists occur at\n        different positions in time\n        ([#8372](https://github.com/google/ExoPlayer/issues/8372)).\n    *   Fix issue that could cause playback of on-demand content to not start in\n        cases where the media playlists referenced by the master playlist have\n        different starting `EXT-X-PROGRAM-DATE-TIME` tags.\n    *   Fix container type detection for segments with incorrect file extension\n        or HTTP Content-Type\n        ([#8733](https://github.com/google/ExoPlayer/issues/8733)).\n*   Extractors:\n    *   Add support for `GContainer` and `GContainerItem` XMP namespace prefixes\n        in JPEG motion photo parsing.\n    *   Allow JFIF APP0 marker segment preceding Exif APP1 segment in\n        `JpegExtractor`.\n*   Text:\n    *   Parse SSA/ASS bold & italic info in `Style:` lines\n        ([#8435](https://github.com/google/ExoPlayer/issues/8435)).\n    *   Don't display subtitles after the end position of the current media\n        period (if known). This ensures sideloaded subtitles respect the end\n        point of `ClippingMediaPeriod` and prevents content subtitles from\n        continuing to be displayed over mid-roll ads\n        ([#5317](https://github.com/google/ExoPlayer/issues/5317),\n        [#8456](https://github.com/google/ExoPlayer/issues/8456)).\n    *   Fix CEA-708 priority handling to sort cues in the order defined by the\n        spec ([#8704](https://github.com/google/ExoPlayer/issues/8704)).\n    *   Support TTML `textEmphasis` attributes, used for Japanese boutens.\n    *   Support TTML `shear` attributes.\n*   Metadata:\n    *   Ensure that timed metadata near the end of a period is not dropped\n        ([#8710](https://github.com/google/ExoPlayer/issues/8710)).\n*   Cast extension:\n    *   Fix `onPositionDiscontinuity` event so that it is not triggered with\n        reason `DISCONTINUITY_REASON_PERIOD_TRANSITION` after a seek to another\n        media item and so that it is not triggered after a timeline change.\n*   IMA extension:\n    *   Fix error caused by `AdPlaybackState` ad group times being cleared,\n        which can occur if the `ImaAdsLoader` is released while an ad is pending\n        loading ([#8693](https://github.com/google/ExoPlayer/issues/8693)).\n    *   Upgrade IMA SDK dependency to 3.23.0, fixing an issue with\n        `NullPointerExceptions` within `WebView` callbacks\n        ([#8447](https://github.com/google/ExoPlayer/issues/8447)).\n*   FFmpeg extension: Fix playback failure when switching to TrueHD tracks\n    during playback ([#8616](https://github.com/google/ExoPlayer/issues/8616)).\n\n### 2.13.2 (2021-02-25)\n\n*   Extractors:\n    *   Add support for MP4 and QuickTime meta atoms that are not full atoms.\n*   UI:\n    *   Make conditions to enable UI actions consistent in\n        `DefaultControlDispatcher`, `PlayerControlView`,\n        `StyledPlayerControlView`, `PlayerNotificationManager` and\n        `TimelineQueueNavigator`.\n    *   Fix conditions to enable seeking to next/previous media item to handle\n        the case where a live stream has ended.\n*   Audio:\n    *   Fix `SimpleExoPlayer` reporting audio session ID as 0 in some cases\n        ([#8585](https://github.com/google/ExoPlayer/issues/8585)).\n*   IMA extension:\n    *   Fix a bug where playback could get stuck when seeking into a playlist\n        item with ads, if the preroll ad had preloaded but the window position\n        of the seek should instead trigger playback of a midroll.\n    *   Fix a bug with playback of ads in playlists, where the incorrect period\n        index was used when deciding whether to trigger playback of an ad after\n        a seek.\n*   Text:\n    *   Parse SSA/ASS font size in `Style:` lines\n        ([#8435](https://github.com/google/ExoPlayer/issues/8435)).\n*   VP9 extension: Update to use NDK r21\n    ([#8581](https://github.com/google/ExoPlayer/issues/8581)).\n*   FLAC extension: Update to use NDK r21\n    ([#8581](https://github.com/google/ExoPlayer/issues/8581)).\n*   Opus extension: Update to use NDK r21\n    ([#8581](https://github.com/google/ExoPlayer/issues/8581)).\n*   FFmpeg extension: Update to use NDK r21\n    ([#8581](https://github.com/google/ExoPlayer/issues/8581)).\n\n### 2.13.1 (2021-02-12)\n\n*   Live streaming:\n    *   Fix playback issue for HLS live streams without program date time\n        information ([#8560](https://github.com/google/ExoPlayer/issues/8560)).\n    *   Fix playback issue for multi-period DASH live streams\n        ([#8537](https://github.com/google/ExoPlayer/issues/8537)).\n    *   Fix playback failures when playing live streams with video tunneling\n        enabled ([#8570](https://github.com/google/ExoPlayer/issues/8570)).\n*   IMA extension:\n    *   Fix handling of repeated ad loads, to avoid ads being discarded if the\n        user seeks away and then back to a preloaded postroll (for example).\n    *   Fix a bug where an assertion would fail if the player started to buffer\n        an ad media period before the ad URI was known then an ad state update\n        arrived that didn't set the ad URI.\n    *   Add `ImaAdsLoader.focusSkipButton` to allow apps to request that the\n        skip button should receive UI focus, if shown\n        ([#8565](https://github.com/google/ExoPlayer/issues/8565)).\n*   DRM:\n    *   Re-use the previous `DrmSessionManager` instance when playing a playlist\n        (if possible)\n        ([#8523](https://github.com/google/ExoPlayer/issues/8523)).\n    *   Propagate DRM configuration when creating media sources for ad content\n        ([#8568](https://github.com/google/ExoPlayer/issues/8568)).\n    *   Only release 'keepalive' references to `DrmSession` in\n        `DefaultDrmSessionManager#release()` if keepalive is enabled\n        ([#8576](https://github.com/google/ExoPlayer/issues/8576)).\n\n### 2.13.0 (2021-02-04)\n\n*   Core library:\n    *   Verify correct thread usage in `SimpleExoPlayer` by default. Opt-out is\n        still possible until the next major release using\n        `setThrowsWhenUsingWrongThread(false)`\n        ([#4463](https://github.com/google/ExoPlayer/issues/4463)).\n    *   Add `Player.getCurrentStaticMetadata` and\n        `EventListener.onStaticMetadataChanged` to expose static metadata\n        belonging to the currently playing stream\n        ([#7266](https://github.com/google/ExoPlayer/issues/7266)).\n    *   Add `PlayerMessage.setLooper` and deprecate `PlayerMessage.setHandler`.\n    *   Add option to `MergingMediaSource` to clip the durations of all sources\n        to have the same length\n        ([#8422](https://github.com/google/ExoPlayer/issues/8422)).\n    *   Remove `Player.setVideoDecoderOutputBufferRenderer` from Player API. Use\n        `setVideoSurfaceView` and `clearVideoSurfaceView` instead.\n    *   Default `SingleSampleMediaSource.treatLoadErrorsAsEndOfStream` to `true`\n        so that errors loading external subtitle files do not cause playback to\n        fail ([#8430](https://github.com/google/ExoPlayer/issues/8430)). A\n        warning will be logged by `SingleSampleMediaPeriod` whenever a load\n        error is treated as though the end of the stream has been reached.\n    *   Time out on release to prevent ANRs if an underlying platform call is\n        stuck ([#4352](https://github.com/google/ExoPlayer/issues/4352)).\n    *   Time out when detaching a surface to prevent ANRs if the underlying\n        platform call is stuck\n        ([#5887](https://github.com/google/ExoPlayer/issues/5887)).\n    *   Fix bug where `AnalyticsListener` callbacks could arrive in the wrong\n        order ([#8048](https://github.com/google/ExoPlayer/issues/8048)).\n*   Media transformation:\n    *   Add a new `transformer` module for converting media streams. The\n        initially available transformations are changing the container format,\n        removing tracks, and slow motion flattening.\n*   Low latency live streaming:\n    *   Support low-latency DASH (also known as ULL-CMAF) and Apple's\n        low-latency HLS extension.\n    *   Add `LiveConfiguration` to `MediaItem` to define live offset and\n        playback speed adjustment parameters. The same parameters can be set on\n        `DefaultMediaSourceFactory` to apply for all `MediaItems`.\n    *   Add `LivePlaybackSpeedControl` to control playback speed adjustments\n        during live playbacks. Such adjustments allow the player to stay close\n        to the live offset. `DefaultLivePlaybackSpeedControl` is provided as a\n        default implementation.\n    *   Add `targetLiveOffsetUs` parameter to `LoadControl.shouldStartPlayback`.\n*   Extractors:\n    *   Populate codecs string for H.264/AVC in MP4, Matroska and FLV streams to\n        allow decoder capability checks based on codec profile and level\n        ([#8393](https://github.com/google/ExoPlayer/issues/8393)).\n    *   Populate codecs string for H.265/HEVC in MP4, Matroska and MPEG-TS\n        streams to allow decoder capability checks based on codec profile and\n        level ([#8393](https://github.com/google/ExoPlayer/issues/8393)).\n    *   Add support for playing JPEG motion photos\n        ([#5405](https://github.com/google/ExoPlayer/issues/5405)).\n    *   Handle sample size mismatches between raw audio `stsd` information and\n        `stsz` fixed sample size in MP4 extractors.\n    *   Fix Vorbis private codec data parsing in the Matroska extractor\n        ([#8496](https://github.com/google/ExoPlayer/issues/8496)).\n*   Track selection:\n    *   Move `Player.getTrackSelector` to the `ExoPlayer` interface.\n    *   Move the mutable parts of `TrackSelection` into an `ExoTrackSelection`\n        subclass.\n    *   Allow parallel adaptation of video and audio\n        ([#5111](https://github.com/google/ExoPlayer/issues/5111)).\n    *   Simplify enabling tunneling with `DefaultTrackSelector`.\n        `ParametersBuilder.setTunnelingAudioSessionId` has been replaced with\n        `ParametersBuilder.setTunnelingEnabled`. The player's audio session ID\n        will be used, and so a tunneling specific ID is no longer needed.\n    *   Add additional configuration parameters to `DefaultTrackSelector`.\n        `DefaultTrackSelector.ParametersBuilder` now includes:\n        *   `setPreferredVideoMimeType`, `setPreferredVideoMimeTypes`,\n            `setPreferredAudioMimeType` and `setPreferredAudioMimeTypes` for\n            specifying preferred video and audio MIME type(s)\n            ([#8320](https://github.com/google/ExoPlayer/issues/8320)).\n        *   `setPreferredAudioLanguages` and `setPreferredTextLanguages` for\n            specifying multiple preferred audio and text languages.\n        *   `setPreferredAudioRoleFlags` for specifying preferred audio role\n            flags.\n    *   Forward `Timeline` and `MediaPeriodId` to `TrackSelection.Factory`.\n*   DASH:\n    *   Support low-latency DASH playback (`availabilityTimeOffset` and\n        `ServiceDescription` tags)\n        ([#4904](https://github.com/google/ExoPlayer/issues/4904)).\n    *   Improve logic for determining whether to refresh the manifest when a\n        chunk load error occurs in a live streams that contains EMSG data\n        ([#8408](https://github.com/google/ExoPlayer/issues/8408)).\n*   HLS:\n    *   Support playlist delta updates, blocking playlist reloads and rendition\n        reports.\n    *   Support low-latency HLS playback (`EXT-X-PART` and preload hints)\n        ([#5011](https://github.com/google/ExoPlayer/issues/5011)).\n*   UI:\n    *   Improve `StyledPlayerControlView` button animations.\n    *   Miscellaneous fixes for `StyledPlayerControlView` in minimal mode.\n*   DRM:\n    *   Fix playback failure when switching from PlayReady protected content to\n        Widevine or Clearkey protected content in a playlist.\n    *   Add `ExoMediaDrm.KeyRequest.getRequestType`\n        ([#7847](https://github.com/google/ExoPlayer/issues/7847)).\n    *   Drop key and provision responses if `DefaultDrmSession` is released\n        while waiting for the response. This prevents harmless log messages of\n        the form: `IllegalStateException: sending message to a Handler on a dead\n        thread` ([#8328](https://github.com/google/ExoPlayer/issues/8328)).\n    *   Allow apps to fully customize DRM behaviour for each `MediaItem` by\n        passing a `DrmSessionManagerProvider` to `MediaSourceFactory`\n        ([#8466](https://github.com/google/ExoPlayer/issues/8466)).\n*   Analytics:\n    *   Add an `onEvents` callback to `Player.EventListener` and\n        `AnalyticsListener`. When one or more player states change\n        simultaneously, `onEvents` is called once after all of the callbacks\n        associated with the individual state changes.\n    *   Pass a `DecoderReuseEvaluation` to `AnalyticsListener`'s\n        `onVideoInputFormatChanged` and `onAudioInputFormatChanged` methods. The\n        `DecoderReuseEvaluation` indicates whether it was possible to re-use an\n        existing decoder instance for the new format, and if not then the\n        reasons why.\n*   Video:\n    *   Fall back to AVC/HEVC decoders for Dolby Vision streams with level 10 to\n        13 ([#8530](https://github.com/google/ExoPlayer/issues/8530)).\n    *   Fix VP9 format capability checks on API level 23 and earlier. The\n        platform does not correctly report the VP9 level supported by the\n        decoder in this case, so we estimate it based on the decoder's maximum\n        supported bitrate.\n*   Audio:\n    *   Fix handling of audio session IDs\n        ([#8190](https://github.com/google/ExoPlayer/issues/8190)).\n        `SimpleExoPlayer` now generates an audio session ID on construction,\n        which can be immediately queried by calling\n        `SimpleExoPlayer.getAudioSessionId`. The audio session ID will only\n        change if application code calls `SimpleExoPlayer.setAudioSessionId`.\n    *   Replace `onAudioSessionId` with `onAudioSessionIdChanged` in\n        `AudioListener` and `AnalyticsListener`. Note that\n        `onAudioSessionIdChanged` is called in fewer cases than\n        `onAudioSessionId` was called, due to the improved handling of audio\n        session IDs as described above.\n    *   Retry playback after some types of `AudioTrack` error.\n    *   Create E-AC3 JOC passthrough `AudioTrack` instances using the maximum\n        supported channel count (instead of assuming 6 channels) from API 29.\n*   Text:\n    *   Add support for the SSA `primaryColour` style attribute\n        ([#8435](https://github.com/google/ExoPlayer/issues/8435)).\n    *   Fix CEA-708 sequence number discontinuity handling\n        ([#1807](https://github.com/google/ExoPlayer/issues/1807)).\n    *   Fix CEA-708 handling of unexpectedly small packets\n        ([#1807](https://github.com/google/ExoPlayer/issues/1807)).\n*   Data sources:\n    *   For `HttpDataSource` implementations, default to using the user agent of\n        the underlying network stack.\n    *   Deprecate `HttpDataSource.Factory.getDefaultRequestProperties`.\n        `HttpDataSource.Factory.setDefaultRequestProperties` instead.\n    *   Add `DefaultHttpDataSource.Factory` and deprecate\n        `DefaultHttpDataSourceFactory`.\n*   Metadata retriever:\n    *   Parse Google Photos HEIC and JPEG motion photo metadata.\n*   IMA extension:\n    *   Add support for playback of ads in playlists\n        ([#3750](https://github.com/google/ExoPlayer/issues/3750)).\n    *   Add `ImaAdsLoader.Builder.setEnableContinuousPlayback` for setting\n        whether to request ads for continuous playback.\n    *   Upgrade IMA SDK dependency to 3.22.0. This fixes leaking of the ad view\n        group ([#7344](https://github.com/google/ExoPlayer/issues/7344),\n        [#8339](https://github.com/google/ExoPlayer/issues/8339)).\n    *   Fix a bug that could cause the next content position played after a seek\n        to snap back to the cue point of the preceding ad, rather than the\n        requested content position.\n    *   Fix a regression that caused an ad group to be skipped after an initial\n        seek to a non-zero position. Unsupported VPAID ads will still be\n        skipped, but only after the preload timeout rather than instantly\n        ([#8428](https://github.com/google/ExoPlayer/issues/8428),\n        [#7832](https://github.com/google/ExoPlayer/issues/7832)).\n    *   Fix a regression that caused a short ad followed by another ad to be\n        skipped due to playback being stuck buffering waiting for the second ad\n        to load ([#8492](https://github.com/google/ExoPlayer/issues/8492)).\n*   FFmpeg extension:\n    *   Link the FFmpeg library statically, saving 350KB in binary size on\n        average.\n*   OkHttp extension:\n    *   Add `OkHttpDataSource.Factory` and deprecate `OkHttpDataSourceFactory`.\n*   Cronet extension:\n    *   Add `CronetDataSource.Factory` and deprecate `CronetDataSourceFactory`.\n    *   Support setting the user agent on `CronetDataSource.Factory` and\n        `CronetEngineWrapper`.\n*   MediaSession extension:\n    *   Support `setPlaybackSpeed(float)` and disable it by default. Use\n        `MediaSessionConnector.setEnabledPlaybackActions(long)` to enable\n        ([#8229](https://github.com/google/ExoPlayer/issues/8229)).\n*   Remove deprecated symbols:\n    *   `AdaptiveMediaSourceEventListener`. Use `MediaSourceEventListener`\n        instead.\n    *   `DashMediaSource.Factory.setMinLoadableRetryCount(int)`. Use\n        `DashMediaSource.Factory.setLoadErrorHandlingPolicy(LoadErrorHandlingPolicy)`\n        instead.\n    *   `DefaultAnalyticsListener`. Use `AnalyticsListener` instead.\n    *   `DefaultLoadControl` constructors. Use `DefaultLoadControl.Builder`\n        instead.\n    *   `DrmInitData.get(UUID)`. Use `DrmInitData.get(int)` and\n        `DrmInitData.SchemeData.matches(UUID)` instead.\n    *   `ExtractorsMediaSource.Factory.setMinLoadableRetryCount(int)`. Use\n        `ExtractorsMediaSource.Factory.setLoadErrorHandlingPolicy(LoadErrorHandlingPolicy)`\n        instead.\n    *   `FixedTrackSelection.Factory`. If you need to disable adaptive selection\n        in `DefaultTrackSelector`, enable the\n        `DefaultTrackSelector.Parameters.forceHighestSupportedBitrate` flag.\n    *   `HlsMediaSource.Factory.setMinLoadableRetryCount(int)`. Use\n        `HlsMediaSource.Factory.setLoadErrorHandlingPolicy(LoadErrorHandlingPolicy)`\n        instead.\n    *   `MappedTrackInfo.getTrackFormatSupport(int, int, int)`. Use\n        `MappedTrackInfo.getTrackSupport(int, int, int)` instead.\n    *   `MappedTrackInfo.getTrackTypeRendererSupport(int)`. Use\n        `MappedTrackInfo.getTypeSupport(int)` instead.\n    *   `MappedTrackInfo.getUnassociatedTrackGroups()`. Use\n        `MappedTrackInfo.getUnmappedTrackGroups()` instead.\n    *   `MappedTrackInfo.length`. Use `MappedTrackInfo.getRendererCount()`\n        instead.\n    *   `Player.DefaultEventListener.onTimelineChanged(Timeline, Object)`. Use\n        `Player.EventListener.onTimelineChanged(Timeline, int)` instead.\n    *   `Player.setAudioAttributes(AudioAttributes)`. Use\n        `Player.AudioComponent.setAudioAttributes(AudioAttributes, boolean)`\n        instead.\n    *   `PlayerView.setDefaultArtwork(Bitmap)`. Use\n        `PlayerView.setDefaultArtwork(Drawable)` instead.\n    *   `PlayerView.setShowBuffering(boolean)`. Use\n        `PlayerView.setShowBuffering(int)` instead.\n    *   `SimpleExoPlayer.clearMetadataOutput(MetadataOutput)`. Use\n        `SimpleExoPlayer.removeMetadataOutput(MetadataOutput)` instead.\n    *   `SimpleExoPlayer.clearTextOutput(TextOutput)`. Use\n        `SimpleExoPlayer.removeTextOutput(TextOutput)` instead.\n    *   `SimpleExoPlayer.clearVideoListener()`. Use\n        `SimpleExoPlayer.removeVideoListener(VideoListener)` instead.\n    *   `SimpleExoPlayer.getAudioStreamType()`. Use\n        `SimpleExoPlayer.getAudioAttributes()` instead.\n    *   `SimpleExoPlayer.setAudioDebugListener(AudioRendererEventListener)`. Use\n        `SimpleExoPlayer.addAnalyticsListener(AnalyticsListener)` instead.\n    *   `SimpleExoPlayer.setAudioStreamType(int)`. Use\n        `SimpleExoPlayer.setAudioAttributes(AudioAttributes)` instead.\n    *   `SimpleExoPlayer.setMetadataOutput(MetadataOutput)`. Use\n        `SimpleExoPlayer.addMetadataOutput(MetadataOutput)` instead. If your\n        application is calling `SimpleExoPlayer.setMetadataOutput(null)`, make\n        sure to replace this call with a call to\n        `SimpleExoPlayer.removeMetadataOutput(MetadataOutput)`.\n    *   `SimpleExoPlayer.setPlaybackParams(PlaybackParams)`. Use\n        `SimpleExoPlayer.setPlaybackParameters(PlaybackParameters)` instead.\n    *   `SimpleExoPlayer.setTextOutput(TextOutput)`. Use\n        `SimpleExoPlayer.addTextOutput(TextOutput)` instead. If your application\n        is calling `SimpleExoPlayer.setTextOutput(null)`, make sure to replace\n        this call with a call to `SimpleExoPlayer.removeTextOutput(TextOutput)`.\n    *   `SimpleExoPlayer.setVideoDebugListener(VideoRendererEventListener)`. Use\n        `SimpleExoPlayer.addAnalyticsListener(AnalyticsListener)` instead.\n    *   `SimpleExoPlayer.setVideoListener(VideoListener)`. Use\n        `SimpleExoPlayer.addVideoListener(VideoListener)` instead. If your\n        application is calling `SimpleExoPlayer.setVideoListener(null)`, make\n        sure to replace this call with a call to\n        `SimpleExoPlayer.removeVideoListener(VideoListener)`.\n    *   `SimpleExoPlayer.VideoListener`. Use\n        `com.google.android.exoplayer2.video.VideoListener` instead.\n    *   `SingleSampleMediaSource.EventListener` and constructors. Use\n        `MediaSourceEventListener` and `SingleSampleMediaSource.Factory`\n        instead.\n    *   `SimpleExoPlayer.addVideoDebugListener`,\n        `SimpleExoPlayer.removeVideoDebugListener`,\n        `SimpleExoPlayer.addAudioDebugListener` and\n        `SimpleExoPlayer.removeAudioDebugListener`. Use\n        `SimpleExoPlayer.addAnalyticsListener` and\n        `SimpleExoPlayer.removeAnalyticsListener` instead.\n    *   `SingleSampleMediaSource.Factory.setMinLoadableRetryCount(int)`. Use\n        `SingleSampleMediaSource.Factory.setLoadErrorHandlingPolicy(LoadErrorHandlingPolicy)`\n        instead.\n    *   `SsMediaSource.Factory.setMinLoadableRetryCount(int)`. Use\n        `SsMediaSource.Factory.setLoadErrorHandlingPolicy(LoadErrorHandlingPolicy)`\n        instead.\n\n### 2.12.3 (2021-01-13)\n\n*   Core library:\n    *   Fix `MediaCodecRenderer` issue where empty streams would fail to play in\n        bypass mode ([#8374](https://github.com/google/ExoPlayer/issues/8374)).\n    *   Fix playback issues after seeking during an ad\n        ([#8349](https://github.com/google/ExoPlayer/issues/8349)).\n    *   Fix propagation of `LoadErrorHandlingPolicy` from\n        `DefaultMediaSourceFactory` into `SingleSampleMediaSource.Factory` when\n        creating subtitle media sources from\n        `MediaItem.playbackProperties.subtitles`\n        ([#8430](https://github.com/google/ExoPlayer/issues/8430)).\n*   UI:\n    *   Fix issue where pop-up menus belonging to `StyledPlayerControlView`\n        would not be dismissed when tapping outside of the menu area or pressing\n        the back button, on API level 22 and earlier\n        ([#8272](https://github.com/google/ExoPlayer/issues/8272)).\n*   Downloads:\n    *   Fix crash in `DownloadManager` that could occur when adding a stopped\n        download with the same ID as a download currently being removed\n        ([#8419](https://github.com/google/ExoPlayer/issues/8419)).\n*   Text:\n    *   Gracefully handle null-terminated subtitle content in Matroska\n        containers.\n    *   Fix CEA-708 anchor positioning\n        ([#1807](https://github.com/google/ExoPlayer/issues/1807)).\n*   IMA extension:\n    *   Fix a condition where playback could get stuck before an empty ad\n        ([#8205](https://github.com/google/ExoPlayer/issues/8205)).\n    *   Log a warning rather than throwing when reaching the end of the stream\n        with an ad playing but without ad media info\n        ([#8290](https://github.com/google/ExoPlayer/issues/8290)).\n*   Media2 extension:\n    *   Make media2-extension depend on AndroidX media2:media2-session:1.1.0 to\n        fix a deadlock while creating PlaybackStateCompat internally.\n        ([#8011](https://github.com/google/ExoPlayer/issues/8011)).\n\n### 2.12.2 (2020-12-01)\n\n*   Core library:\n    *   Suppress exceptions from registering and unregistering the stream volume\n        receiver ([#8087](https://github.com/google/ExoPlayer/issues/8087),\n        [#8106](https://github.com/google/ExoPlayer/issues/8106)).\n    *   Suppress ProGuard warnings caused by Guava's compile-only dependencies\n        ([#8103](https://github.com/google/ExoPlayer/issues/8103)).\n    *   Fix issue that could cause playback to freeze when selecting tracks, if\n        extension audio renderers are being used\n        ([#8203](https://github.com/google/ExoPlayer/issues/8203)).\n*   UI:\n    *   Fix incorrect color and text alignment of the `StyledPlayerControlView`\n        fast forward and rewind buttons, when used together with the\n        `com.google.android.material` library\n        ([#7898](https://github.com/google/ExoPlayer/issues/7898)).\n    *   Add `dispatchPrepare(Player)` to `ControlDispatcher` and implement it in\n        `DefaultControlDispatcher`. Deprecate `PlaybackPreparer` and\n        `setPlaybackPreparer` in `StyledPlayerView`, `StyledPlayerControlView`,\n        `PlayerView`, `PlayerControlView`, `PlayerNotificationManager` and\n        `LeanbackPlayerAdapter` and use `ControlDispatcher` for dispatching\n        prepare instead\n        ([#7882](https://github.com/google/ExoPlayer/issues/7882)).\n    *   Increase seekbar's touch target height in `StyledPlayerControlView`.\n    *   Update `StyledPlayerControlView` menu items to behave correctly for\n        right-to-left languages.\n    *   Support enabling the previous and next actions individually in\n        `PlayerNotificationManager`.\n*   Audio:\n    *   Work around `AudioManager` crashes when calling `getStreamVolume`\n        ([#8191](https://github.com/google/ExoPlayer/issues/8191)).\n*   Extractors:\n    *   Matroska: Add support for 32-bit floating point PCM, and 8-bit and\n        16-bit big endian integer PCM\n        ([#8142](https://github.com/google/ExoPlayer/issues/8142)).\n    *   MP4: Add support for mpeg1 video box\n        ([#8257](https://github.com/google/ExoPlayer/issues/8257)).\n*   IMA extension:\n    *   Upgrade IMA SDK dependency to 3.21.0, and release the `AdsLoader`\n        ([#7344](https://github.com/google/ExoPlayer/issues/7344)).\n    *   Improve handling of ad tags with unsupported VPAID ads\n        ([#7832](https://github.com/google/ExoPlayer/issues/7832)).\n    *   Fix a bug that caused multiple ads in an ad pod to be skipped when one\n        ad in the ad pod was skipped.\n    *   Fix a bug that caused ad progress not to be updated if the player\n        resumed after buffering during an ad\n        ([#8239](https://github.com/google/ExoPlayer/issues/8239)).\n    *   Fix passing an ads response to the `ImaAdsLoader` builder.\n    *   Set the overlay language based on the device locale by default.\n*   Cronet extension:\n    *   Fix handling of HTTP status code 200 when making unbounded length range\n        requests ([#8090](https://github.com/google/ExoPlayer/issues/8090)).\n*   Text\n    *   Allow tx3g subtitles with `styl` boxes with start and/or end offsets\n        that lie outside the length of the cue text.\n*   Media2 extension:\n    *   Notify onBufferingEnded when the state of origin player becomes\n        `STATE_IDLE` or `STATE_ENDED`.\n    *   Allow to remove all playlist items that makes the player reset\n        ([#8047](https://github.com/google/ExoPlayer/issues/8047)).\n\n### 2.12.1 (2020-10-23)\n\n*   Core library:\n    *   Fix issue where `Player.setMediaItems` would ignore its `resetPosition`\n        argument ([#8024](https://github.com/google/ExoPlayer/issues/8024)).\n    *   Fix bug where streams with highly uneven track durations may get stuck\n        in a buffering state\n        ([#7943](https://github.com/google/ExoPlayer/issues/7943)).\n    *   Switch Guava dependency from `implementation` to `api`\n        ([#7905](https://github.com/google/ExoPlayer/issues/7905),\n        [#7993](https://github.com/google/ExoPlayer/issues/7993)).\n    *   Add 403, 500 and 503 to the list of HTTP status codes that can trigger\n        failover to another quality variant during adaptive playbacks.\n*   Data sources:\n    *   Add support for `android.resource` URI scheme in `RawResourceDataSource`\n        ([#7866](https://github.com/google/ExoPlayer/issues/7866)).\n*   Text:\n    *   Add support for `\\h` SSA/ASS style override code (non-breaking space).\n    *   Fix playback of WebVTT subtitles in MP4 containers in DASH streams\n        ([#7985](https://github.com/google/ExoPlayer/issues/7985)).\n    *   Fix `NullPointerException` in `TextRenderer` when playing content with a\n        single subtitle buffer\n        ([#8017](https://github.com/google/ExoPlayer/issues/8017)).\n*   UI:\n    *   Fix animation when `StyledPlayerView` first shows its playback controls.\n    *   Improve touch targets in `StyledPlayerView` to make tapping easier.\n    *   Allow `subtitleButton` to be omitted in custom `StyledPlayerView`\n        layouts ([#7962](https://github.com/google/ExoPlayer/issues/7962)).\n    *   Add an option to sort tracks by `Format` in `TrackSelectionView` and\n        `TrackSelectionDialogBuilder`\n        ([#7709](https://github.com/google/ExoPlayer/issues/7709)).\n*   Audio:\n    *   Fix the default audio sink position not advancing correctly when using\n        `AudioTrack` based speed adjustment\n        ([#7982](https://github.com/google/ExoPlayer/issues/7982)).\n    *   Fix `NoClassDefFoundError` warning for `AudioTrack$StreamEventCallback`\n        ([#8058](https://github.com/google/ExoPlayer/issues/8058)).\n*   Extractors:\n    *   MP4:\n        *   Add support for `_mp2` boxes\n            ([#7967](https://github.com/google/ExoPlayer/issues/7967)).\n        *   Fix playback of files containing `pcm_alaw` or `pcm_mulaw` audio\n            tracks, by enabling sample rechunking for such tracks.\n    *   MPEG-TS:\n        *   Add `TsExtractor` parameter to configure the number of bytes in\n            which to search for timestamps when seeking and determining stream\n            duration ([#7988](https://github.com/google/ExoPlayer/issues/7988)).\n        *   Ignore negative payload size in PES packets\n            ([#8005](https://github.com/google/ExoPlayer/issues/8005)).\n    *   MP3: Use TLEN ID3 tag to compute the stream duration\n        ([#7949](https://github.com/google/ExoPlayer/issues/7949)).\n    *   Ogg: Fix regression playing files with packets that span multiple pages\n        ([#7992](https://github.com/google/ExoPlayer/issues/7992)).\n    *   FLV: Make files seekable by using the key frame index\n        ([#7378](https://github.com/google/ExoPlayer/issues/7378)).\n*   Downloads: Fix issue retrying progressive downloads, which could also result\n    in a crash in `DownloadManager.InternalHandler.onContentLengthChanged`\n    ([#8078](https://github.com/google/ExoPlayer/issues/8078)).\n*   HLS: Fix crash affecting chunkful preparation of master playlists that start\n    with an I-FRAME only variant\n    ([#8025](https://github.com/google/ExoPlayer/issues/8025)).\n*   IMA extension:\n    *   Fix position reporting after fetch errors\n        ([#7956](https://github.com/google/ExoPlayer/issues/7956)).\n    *   Allow apps to specify a `VideoAdPlayerCallback`\n        ([#7944](https://github.com/google/ExoPlayer/issues/7944)).\n    *   Accept ad tags via the `AdsMediaSource` constructor and deprecate\n        passing them via the `ImaAdsLoader` constructor/builders. Passing the ad\n        tag via media item playback properties continues to be supported. This\n        is in preparation for supporting ads in playlists\n        ([#3750](https://github.com/google/ExoPlayer/issues/3750)).\n    *   Add a way to override ad media MIME types\n        ([#7961](https://github.com/google/ExoPlayer/issues/7961)).\n    *   Fix incorrect truncation of large cue point positions\n        ([#8067](https://github.com/google/ExoPlayer/issues/8067)).\n    *   Upgrade IMA SDK dependency to 3.20.1. This brings in a fix for companion\n        ads rendering when targeting API 29\n        ([#6432](https://github.com/google/ExoPlayer/issues/6432)).\n\n### 2.12.0 (2020-09-11)\n\nTo learn more about what's new in 2.12, read the corresponding\n[blog post](https://medium.com/google-exoplayer/exoplayer-2-12-whats-new-e43ef8ff72e7).\n\n*   Core library:\n    *   `Player`:\n        *   Add a top level playlist API based on a new `MediaItem` class\n            ([#6161](https://github.com/google/ExoPlayer/issues/6161)). The new\n            methods for playlist manipulation are `setMediaItem(s)`,\n            `addMediaItem(s)`, `moveMediaItem(s)`, `removeMediaItem(s)` and\n            `clearMediaItems`. The playlist can be queried using\n            `getMediaItemCount` and `getMediaItemAt`. This API should be used\n            instead of `ConcatenatingMediaSource` in most cases. Learn more by\n            reading\n            [this blog post](https://medium.com/google-exoplayer/a-top-level-playlist-api-for-exoplayer-abe0a24edb55).\n        *   Add `getCurrentMediaItem` for getting the currently playing item in\n            the playlist.\n        *   Add `EventListener.onMediaItemTransition` to report when playback\n            transitions from one item to another in the playlist.\n        *   Add `play` and `pause` convenience methods. They are equivalent to\n            `setPlayWhenReady(true)` and `setPlayWhenReady(false)` respectively.\n        *   Add `getCurrentLiveOffset` for getting the offset of the current\n            playback position from the live edge of a live stream.\n        *   Add `getTrackSelector` for getting the `TrackSelector` used by the\n            player.\n        *   Add `AudioComponent.setAudioSessionId` to set the audio session ID.\n            This method is also available on `SimpleExoPlayer`.\n        *   Remove `PlaybackParameters.skipSilence`, and replace it with\n            `AudioComponent.setSkipSilenceEnabled`. This method is also\n            available on `SimpleExoPlayer`. An\n            `AudioListener.onSkipSilenceEnabledChanged` callback is also added.\n        *   Add `TextComponent.getCurrentCues` to get the current cues. This\n            method is also available on `SimpleExoPlayer`. The current cues are\n            no longer automatically forwarded to a `TextOutput` when it's added\n            to a `SimpleExoPlayer`.\n        *   Add `Player.DeviceComponent` to query and control the device volume.\n            `SimpleExoPlayer` implements this interface.\n        *   Deprecate and rename `getPlaybackError` to `getPlayerError` for\n            consistency.\n        *   Deprecate and rename `onLoadingChanged` to `onIsLoadingChanged` for\n            consistency.\n        *   Deprecate `EventListener.onPlayerStateChanged`, replacing it with\n            `EventListener.onPlayWhenReadyChanged` and\n            `EventListener.onPlaybackStateChanged`.\n        *   Deprecate `EventListener.onSeekProcessed` because seek changes now\n            happen instantly and listening to `onPositionDiscontinuity` is\n            sufficient.\n    *   `ExoPlayer`:\n        *   Add `setMediaSource(s)` and `addMediaSource(s)` to `ExoPlayer`, for\n            adding `MediaSource` instances directly to the playlist.\n        *   Add `ExoPlayer.setPauseAtEndOfMediaItems` to let the player pause at\n            the end of each media item\n            ([#5660](https://github.com/google/ExoPlayer/issues/5660)).\n        *   Allow passing `C.TIME_END_OF_SOURCE` to `PlayerMessage.setPosition`\n            to send a `PlayerMessage` at the end of a stream.\n    *   `SimpleExoPlayer`:\n        *   `SimpleExoPlayer` implements the new `MediaItem` based playlist API,\n            using a `MediaSourceFactory` to convert `MediaItem` instances to\n            playable `MediaSource` instances. A `DefaultMediaSourceFactory` is\n            used by default. `Builder.setMediaSourceFactory` allows setting a\n            custom factory.\n        *   Update [APK shrinking guide](https://exoplayer.dev/shrinking.html)\n            to explain how shrinking works with the new `MediaItem` and\n            `DefaultMediaSourceFactory` implementations\n            ([#7937](https://github.com/google/ExoPlayer/issues/7937)).\n        *   Add additional options to `Builder` that were previously only\n            accessible via setters.\n        *   Add opt-in to verify correct thread usage with\n            `setThrowsWhenUsingWrongThread(true)`\n            ([#4463](https://github.com/google/ExoPlayer/issues/4463)).\n    *   `Format`:\n        *   Add a `Builder` and deprecate all `create` methods and most\n            `Format.copyWith` methods.\n        *   Split `bitrate` into `averageBitrate` and `peakBitrate`\n            ([#2863](https://github.com/google/ExoPlayer/issues/2863)).\n    *   `LoadControl`:\n        *   Add a `playbackPositionUs` parameter to `shouldContinueLoading`.\n        *   Set the default minimum buffer duration in `DefaultLoadControl` to\n            50 seconds (equal to the default maximum buffer), and treat audio\n            and video the same.\n    *   Add a `MetadataRetriever` API for retrieving track information and\n        static metadata for a media item\n        ([#3609](https://github.com/google/ExoPlayer/issues/3609)).\n    *   Attach an identifier and extra information to load error events passed\n        to `LoadErrorHandlingPolicy`\n        ([#7309](https://github.com/google/ExoPlayer/issues/7309)).\n        `LoadErrorHandlingPolicy` implementations should migrate to implementing\n        the non-deprecated methods of the interface.\n    *   Add an option to `MergingMediaSource` to adjust the time offsets between\n        the merged sources\n        ([#6103](https://github.com/google/ExoPlayer/issues/6103)).\n    *   Move `MediaSourceEventListener.LoadEventInfo` and\n        `MediaSourceEventListener.MediaLoadData` to be top-level classes in\n        `com.google.android.exoplayer2.source`.\n    *   Move `SimpleDecoderVideoRenderer` and `SimpleDecoderAudioRenderer` to\n        `DecoderVideoRenderer` and `DecoderAudioRenderer` respectively, and\n        generalize them to work with `Decoder` rather than `SimpleDecoder`.\n    *   Deprecate `C.MSG_*` constants, replacing them with constants in\n        `Renderer`.\n    *   Split the `library-core` module into `library-core`, `library-common`\n        and `library-extractor`. The `library-core` module has an API dependency\n        on both of the new modules, so this change should be transparent to\n        developers including ExoPlayer using Gradle dependencies.\n    *   Add a dependency on Guava.\n*   Video:\n    *   Pass frame rate hint to `Surface.setFrameRate` on Android 11.\n    *   Fix incorrect aspect ratio when transitioning from one video to another\n        with the same resolution, but a different pixel aspect ratio\n        ([#6646](https://github.com/google/ExoPlayer/issues/6646)).\n*   Audio:\n    *   Add experimental support for power efficient playback using audio\n        offload.\n    *   Add support for using framework audio speed adjustment instead of\n        ExoPlayer's implementation\n        ([#7502](https://github.com/google/ExoPlayer/issues/7502)). This option\n        can be set using\n        `DefaultRenderersFactory.setEnableAudioTrackPlaybackParams`.\n    *   Add an event for the audio position starting to advance, to make it\n        easier for apps to determine when audio playout started\n        ([#7577](https://github.com/google/ExoPlayer/issues/7577)).\n    *   Generalize support for floating point audio.\n        *   Add an option to `DefaultAudioSink` for enabling floating point\n            output. This option can also be set using\n            `DefaultRenderersFactory.setEnableAudioFloatOutput`.\n        *   Add floating point output capability to `MediaCodecAudioRenderer`\n            and `LibopusAudioRenderer`, which is enabled automatically if the\n            audio sink supports floating point output and if it makes sense for\n            the content being played.\n        *   Enable the floating point output capability of `FfmpegAudioRenderer`\n            automatically if the audio sink supports floating point output and\n            if it makes sense for the content being played. The option to\n            manually enable floating point output has been removed, since this\n            now done with the generalized option on `DefaultAudioSink`.\n    *   In `MediaCodecAudioRenderer`, stop passing audio samples through\n        `MediaCodec` when playing PCM audio or encoded audio using passthrough\n        mode.\n    *   Reuse audio decoders when transitioning through playlists of gapless\n        audio, rather than reinstantiating them.\n    *   Check `DefaultAudioSink` supports passthrough, in addition to checking\n        the `AudioCapabilities`\n        ([#7404](https://github.com/google/ExoPlayer/issues/7404)).\n*   Text:\n    *   Many of the changes described below improve support for Japanese\n        subtitles. Read\n        [this blog post](https://medium.com/google-exoplayer/improved-japanese-subtitle-support-7598fee12cf4)\n        to learn more.\n    *   Add a WebView-based output option to `SubtitleView`. This can display\n        some features not supported by the existing Canvas-based output such as\n        vertical text and rubies. It can be enabled by calling\n        `SubtitleView#setViewType(VIEW_TYPE_WEB)`.\n    *   Recreate the decoder when handling and swallowing decode errors in\n        `TextRenderer`. This fixes a case where playback would never end when\n        playing content with malformed subtitles\n        ([#7590](https://github.com/google/ExoPlayer/issues/7590)).\n    *   Only apply `CaptionManager` font scaling in\n        `SubtitleView.setUserDefaultTextSize` if the `CaptionManager` is\n        enabled.\n    *   Improve positioning of vertical cues when rendered horizontally.\n    *   Redefine `Cue.lineType=LINE_TYPE_NUMBER` in terms of aligning the cue\n        text lines to grid of viewport lines. Only consider `Cue.lineAnchor`\n        when `Cue.lineType=LINE_TYPE_FRACTION`.\n    *   WebVTT:\n        *   Add support for default\n            [text](https://www.w3.org/TR/webvtt1/#default-text-color) and\n            [background](https://www.w3.org/TR/webvtt1/#default-text-background)\n            colors ([#6581](https://github.com/google/ExoPlayer/issues/6581)).\n        *   Update position alignment parsing to recognise `line-left`, `center`\n            and `line-right`.\n        *   Implement steps 4-10 of the\n            [WebVTT line computation algorithm](https://www.w3.org/TR/webvtt1/#cue-computed-line).\n        *   Stop parsing unsupported CSS properties. The spec provides an\n            [exhaustive list](https://www.w3.org/TR/webvtt1/#the-cue-pseudo-element)\n            of which properties are supported.\n        *   Parse the `ruby-position` CSS property.\n        *   Parse the `text-combine-upright` CSS property (i.e., tate-chu-yoko).\n        *   Parse the `<ruby>` and `<rt>` tags.\n    *   TTML:\n        *   Parse the `tts:combineText` property (i.e., tate-chu-yoko).\n        *   Parse t`tts:ruby` and `tts:rubyPosition` properties.\n    *   CEA-608:\n        *   Implement timing-out of stuck captions, as permitted by\n            ANSI/CTA-608-E R-2014 Annex C.9. The default timeout is set to 16\n            seconds ([#7181](https://github.com/google/ExoPlayer/issues/7181)).\n        *   Trim lines that exceed the maximum length of 32 characters\n            ([#7341](https://github.com/google/ExoPlayer/issues/7341)).\n        *   Fix positioning of roll-up captions in the top half of the screen\n            ([#7475](https://github.com/google/ExoPlayer/issues/7475)).\n        *   Stop automatically generating a CEA-608 track when playing\n            standalone MPEG-TS files. The previous behavior can still be\n            obtained by manually injecting a customized\n            `DefaultTsPayloadReaderFactory` into `TsExtractor`.\n*   Metadata: Add minimal DVB Application Information Table (AIT) support.\n*   DASH:\n    *   Add support for canceling in-progress segment fetches\n        ([#2848](https://github.com/google/ExoPlayer/issues/2848)).\n    *   Add support for CEA-708 embedded in FMP4.\n*   SmoothStreaming:\n    *   Add support for canceling in-progress segment fetches\n        ([#2848](https://github.com/google/ExoPlayer/issues/2848)).\n*   HLS:\n    *   Add support for discarding buffered media (e.g., to allow faster\n        adaptation to a higher quality variant)\n        ([#6322](https://github.com/google/ExoPlayer/issues/6322)).\n    *   Add support for canceling in-progress segment fetches\n        ([#2848](https://github.com/google/ExoPlayer/issues/2848)).\n    *   Respect 33-bit PTS wrapping when applying `X-TIMESTAMP-MAP` to WebVTT\n        timestamps ([#7464](https://github.com/google/ExoPlayer/issues/7464)).\n*   Extractors:\n    *   Optimize the `Extractor` sniffing order to reduce start-up latency in\n        `DefaultExtractorsFactory` and `DefaultHlsExtractorsFactory`\n        ([#6410](https://github.com/google/ExoPlayer/issues/6410)).\n    *   Use filename extensions and response header MIME types to further\n        optimize `Extractor` sniffing order on a per-media basis.\n    *   MP3: Add `IndexSeeker` for accurate seeks in VBR MP3 streams\n        ([#6787](https://github.com/google/ExoPlayer/issues/6787)). This seeker\n        can be enabled by passing `FLAG_ENABLE_INDEX_SEEKING` to the\n        `Mp3Extractor`. A significant portion of the file may need to be scanned\n        when a seek is performed, which may be costly for large files.\n    *   MP4: Fix playback of MP4 streams that contain Opus audio.\n    *   FMP4: Add support for partially fragmented MP4s\n        ([#7308](https://github.com/google/ExoPlayer/issues/7308)).\n    *   Matroska:\n        *   Support Dolby Vision\n            ([#7267](https://github.com/google/ExoPlayer/issues/7267)).\n        *   Populate `Format.label` with track titles.\n        *   Remove support for the `Invisible` block header flag.\n    *   MPEG-TS: Add support for MPEG-4 Part 2 and H.263\n        ([#1603](https://github.com/google/ExoPlayer/issues/1603),\n        [#5107](https://github.com/google/ExoPlayer/issues/5107)).\n    *   Ogg: Fix handling of non-contiguous pages\n        ([#7230](https://github.com/google/ExoPlayer/issues/7230)).\n*   UI:\n    *   Add `StyledPlayerView` and `StyledPlayerControlView`, which provide a\n        more polished user experience than `PlayerView` and `PlayerControlView`\n        at the cost of decreased customizability.\n    *   Remove the previously deprecated `SimpleExoPlayerView` and\n        `PlaybackControlView` classes, along with the corresponding\n        `exo_simple_player_view.xml` and `exo_playback_control_view.xml` layout\n        resources. Use the equivalent `PlayerView`, `PlayerControlView`,\n        `exo_player_view.xml` and `exo_player_control_view.xml` instead.\n    *   Add setter methods to `PlayerView` and `PlayerControlView` to set\n        whether the rewind, fast forward, previous and next buttons are shown\n        ([#7410](https://github.com/google/ExoPlayer/issues/7410)).\n    *   Update `TrackSelectionDialogBuilder` to use the AndroidX app compat\n        `AlertDialog` rather than the platform version, if available\n        ([#7357](https://github.com/google/ExoPlayer/issues/7357)).\n    *   Make UI components dispatch previous, next, fast forward and rewind\n        actions via their `ControlDispatcher`\n        ([#6926](https://github.com/google/ExoPlayer/issues/6926)).\n*   Downloads and caching:\n    *   Add `DownloadRequest.Builder`.\n    *   Add `DownloadRequest.keySetId` to make it easier to store an offline\n        license keyset identifier alongside the other information that's\n        persisted in `DownloadIndex`.\n    *   Support passing an `Executor` to `DefaultDownloaderFactory` on which\n        data downloads are performed.\n    *   Parallelize and merge downloads in `SegmentDownloader` to improve\n        download speeds\n        ([#5978](https://github.com/google/ExoPlayer/issues/5978)).\n    *   Replace `CacheDataSinkFactory` and `CacheDataSourceFactory` with\n        `CacheDataSink.Factory` and `CacheDataSource.Factory` respectively.\n    *   Remove `DownloadConstructorHelper` and instead use\n        `CacheDataSource.Factory` directly.\n    *   Add `Requirements.DEVICE_STORAGE_NOT_LOW`, which can be specified as a\n        requirement to a `DownloadManager` for it to proceed with downloading.\n    *   For failed downloads, propagate the `Exception` that caused the failure\n        to `DownloadManager.Listener.onDownloadChanged`.\n    *   Support multiple non-overlapping write locks for the same key in\n        `SimpleCache`.\n    *   Remove `CacheUtil`. Equivalent functionality is provided by a new\n        `CacheWriter` class, `Cache.getCachedBytes`, `Cache.removeResource` and\n        `CacheKeyFactory.DEFAULT`.\n*   DRM:\n    *   Remove previously deprecated APIs to inject `DrmSessionManager` into\n        `Renderer` instances. `DrmSessionManager` must now be injected into\n        `MediaSource` instances via the `MediaSource` factories.\n    *   Add the ability to inject a custom `DefaultDrmSessionManager` into\n        `OfflineLicenseHelper`\n        ([#7078](https://github.com/google/ExoPlayer/issues/7078)).\n    *   Keep DRM sessions alive for a short time before fully releasing them\n        ([#7011](https://github.com/google/ExoPlayer/issues/7011),\n        [#6725](https://github.com/google/ExoPlayer/issues/6725),\n        [#7066](https://github.com/google/ExoPlayer/issues/7066)).\n    *   Remove support for `cbc1` and `cens` encrytion schemes. Support for\n        these schemes was removed from the Android platform from API level 30,\n        and the range of API levels for which they are supported is too small to\n        be useful.\n    *   Remove generic types from DRM components.\n    *   Rename `DefaultDrmSessionEventListener` to `DrmSessionEventListener`.\n*   Track selection:\n    *   Add `TrackSelection.shouldCancelMediaChunkLoad` to check whether an\n        ongoing load should be canceled\n        ([#2848](https://github.com/google/ExoPlayer/issues/2848)).\n    *   Add `DefaultTrackSelector` constraints for minimum video resolution,\n        bitrate and frame rate\n        ([#4511](https://github.com/google/ExoPlayer/issues/4511)).\n    *   Remove previously deprecated `DefaultTrackSelector` members.\n*   Data sources:\n    *   Add `HttpDataSource.InvalidResponseCodeException#responseBody` field\n        ([#6853](https://github.com/google/ExoPlayer/issues/6853)).\n    *   Add `DataSpec.Builder` and deprecate most `DataSpec` constructors.\n    *   Add `DataSpec.customData` to allow applications to pass custom data\n        through `DataSource` chains.\n    *   Deprecate `CacheDataSinkFactory` and `CacheDataSourceFactory`, which are\n        replaced by `CacheDataSink.Factory` and `CacheDataSource.Factory`\n        respectively.\n*   Analytics:\n    *   Extend `EventTime` with more details about the current player state\n        ([#7332](https://github.com/google/ExoPlayer/issues/7332)).\n    *   Add `AnalyticsListener.onVideoFrameProcessingOffset` to report how early\n        or late video frames are processed relative to them needing to be\n        presented. Video frame processing offset fields are also added to\n        `DecoderCounters`.\n    *   Fix incorrect `MediaPeriodId` for some renderer errors reported by\n        `AnalyticsListener.onPlayerError`.\n    *   Remove `onMediaPeriodCreated`, `onMediaPeriodReleased` and\n        `onReadingStarted` from `AnalyticsListener`.\n*   Test utils: Add `TestExoPlayer`, a utility class with APIs to create\n    `SimpleExoPlayer` instances with fake components for testing.\n*   Media2 extension: This is a new extension that makes it easy to use\n    ExoPlayer together with AndroidX Media2. Read\n    [this blog post](https://medium.com/google-exoplayer/the-media2-extension-for-exoplayer-d6b7d89b9063)\n    to learn more.\n*   Cast extension: Implement playlist API and deprecate the old queue\n    manipulation API.\n*   IMA extension:\n    *   Migrate to new 'friendly obstruction' IMA SDK APIs, and allow apps to\n        register a purpose and detail reason for overlay views via\n        `AdsLoader.AdViewProvider`.\n    *   Add support for audio-only ads display containers by returning `null`\n        from `AdsLoader.AdViewProvider.getAdViewGroup`, and allow skipping\n        audio-only ads via `ImaAdsLoader.skipAd`\n        ([#7689](https://github.com/google/ExoPlayer/issues/7689)).\n    *   Add `ImaAdsLoader.Builder.setCompanionAdSlots` so it's possible to set\n        companion ad slots without accessing the `AdDisplayContainer`.\n    *   Add missing notification of `VideoAdPlayerCallback.onLoaded`.\n    *   Fix handling of incompatible VPAID ads\n        ([#7832](https://github.com/google/ExoPlayer/issues/7832)).\n    *   Fix handling of empty ads at non-integer cue points\n        ([#7889](https://github.com/google/ExoPlayer/issues/7889)).\n*   Demo app:\n    *   Replace the `extensions` variant with `decoderExtensions` and update the\n        demo app use the Cronet and IMA extensions by default.\n    *   Expand the `exolist.json` schema, as well the structure of intents that\n        can be used to launch `PlayerActivity`. See the\n        [Demo application page](https://exoplayer.dev/demo-application.html#playing-your-own-content)\n        for the latest versions. Changes include:\n        *   Add `drm_session_for_clear_content` to allow attaching DRM sessions\n            to clear audio and video tracks.\n        *   Add `clip_start_position_ms` and `clip_end_position_ms` to allow\n            clipped samples.\n    *   Use `StyledPlayerControlView` rather than `PlayerView`.\n    *   Remove support for media tunneling, random ABR and playback of spherical\n        video. Developers wishing to experiment with these features can enable\n        them by modifying the demo app source code.\n    *   Add support for downloading DRM-protected content using offline Widevine\n        licenses.\n\n### 2.11.8 (2020-08-25)\n\n*   Fix distorted playback of floating point audio when samples exceed the `[-1,\n    1]` nominal range.\n*   MP4:\n    *   Add support for `piff` and `isml` brands\n        ([#7584](https://github.com/google/ExoPlayer/issues/7584)).\n    *   Fix playback of very short MP4 files.\n*   FMP4:\n    *   Fix `saiz` and `senc` sample count checks, resolving a \"length mismatch\"\n        `ParserException` when playing certain protected FMP4 streams\n        ([#7592](https://github.com/google/ExoPlayer/issues/7592)).\n    *   Fix handling of `traf` boxes containing multiple `sbgp` or `sgpd` boxes.\n*   FLV: Ignore `SCRIPTDATA` segments with invalid name types, rather than\n    failing playback ([#7675](https://github.com/google/ExoPlayer/issues/7675)).\n*   Better infer the content type of `.ism` and `.isml` streaming URLs.\n*   Workaround an issue on Broadcom based devices where playbacks would not\n    transition to `STATE_ENDED` when using video tunneling mode\n    ([#7647](https://github.com/google/ExoPlayer/issues/7647)).\n*   IMA extension: Upgrade to IMA SDK 3.19.4, bringing in a fix for setting the\n    media load timeout\n    ([#7170](https://github.com/google/ExoPlayer/issues/7170)).\n*   Demo app: Fix playback of ClearKey protected content on API level 26 and\n    earlier ([#7735](https://github.com/google/ExoPlayer/issues/7735)).\n\n### 2.11.7 (2020-06-29)\n\n*   IMA extension: Fix the way postroll \"content complete\" notifications are\n    handled to avoid repeatedly refreshing the timeline after playback ends.\n\n### 2.11.6 (2020-06-19)\n\n*   UI: Prevent `PlayerView` from temporarily hiding the video surface when\n    seeking to an unprepared period within the current window. For example when\n    seeking over an ad group, or to the next period in a multi-period DASH\n    stream ([#5507](https://github.com/google/ExoPlayer/issues/5507)).\n*   IMA extension:\n    *   Add option to skip ads before the start position.\n    *   Catch unexpected errors in `stopAd` to avoid a crash\n        ([#7492](https://github.com/google/ExoPlayer/issues/7492)).\n    *   Fix a bug that caused playback to be stuck buffering on resuming from\n        the background after all ads had played to the end\n        ([#7508](https://github.com/google/ExoPlayer/issues/7508)).\n    *   Fix a bug where the number of ads in an ad group couldn't change\n        ([#7477](https://github.com/google/ExoPlayer/issues/7477)).\n    *   Work around unexpected `pauseAd`/`stopAd` for ads that have preloaded on\n        seeking to another position\n        ([#7492](https://github.com/google/ExoPlayer/issues/7492)).\n    *   Fix incorrect rounding of ad cue points.\n    *   Fix handling of postrolls preloading\n        ([#7518](https://github.com/google/ExoPlayer/issues/7518)).\n\n### 2.11.5 (2020-06-05)\n\n*   Improve the smoothness of video playback immediately after starting, seeking\n    or resuming a playback\n    ([#6901](https://github.com/google/ExoPlayer/issues/6901)).\n*   Add `SilenceMediaSource.Factory` to support tags.\n*   Enable the configuration of `SilenceSkippingAudioProcessor`\n    ([#6705](https://github.com/google/ExoPlayer/issues/6705)).\n*   Fix bug where `PlayerMessages` throw an exception after `MediaSources` are\n    removed from the playlist\n    ([#7278](https://github.com/google/ExoPlayer/issues/7278)).\n*   Fix \"Not allowed to start service\" `IllegalStateException` in\n    `DownloadService`\n    ([#7306](https://github.com/google/ExoPlayer/issues/7306)).\n*   Fix issue in `AudioTrackPositionTracker` that could cause negative positions\n    to be reported at the start of playback and immediately after seeking\n    ([#7456](https://github.com/google/ExoPlayer/issues/7456)).\n*   Fix further cases where downloads would sometimes not resume after their\n    network requirements are met\n    ([#7453](https://github.com/google/ExoPlayer/issues/7453)).\n*   DASH:\n    *   Merge trick play adaptation sets (i.e., adaptation sets marked with\n        `http://dashif.org/guidelines/trickmode`) into the same `TrackGroup` as\n        the main adaptation sets to which they refer. Trick play tracks are\n        marked with the `C.ROLE_FLAG_TRICK_PLAY` flag.\n    *   Fix assertion failure in `SampleQueue` when playing DASH streams with\n        EMSG tracks ([#7273](https://github.com/google/ExoPlayer/issues/7273)).\n*   MP4: Store the Android capture frame rate only in `Format.metadata`.\n    `Format.frameRate` now stores the calculated frame rate.\n*   FMP4: Avoid throwing an exception while parsing default sample values whose\n    most significant bits are set\n    ([#7207](https://github.com/google/ExoPlayer/issues/7207)).\n*   MP3: Fix issue parsing the XING headers belonging to files larger than 2GB\n    ([#7337](https://github.com/google/ExoPlayer/issues/7337)).\n*   MPEG-TS: Fix issue where SEI NAL units were incorrectly dropped from H.265\n    samples ([#7113](https://github.com/google/ExoPlayer/issues/7113)).\n*   UI:\n    *   Fix `DefaultTimeBar` to respect touch transformations\n        ([#7303](https://github.com/google/ExoPlayer/issues/7303)).\n    *   Add `showScrubber` and `hideScrubber` methods to `DefaultTimeBar`.\n*   Text:\n    *   Use anti-aliasing and bitmap filtering when displaying bitmap subtitles.\n    *   Fix `SubtitlePainter` to render `EDGE_TYPE_OUTLINE` using the correct\n        color.\n*   IMA extension:\n    *   Upgrade to IMA SDK version 3.19.0, and migrate to new preloading APIs\n        ([#6429](https://github.com/google/ExoPlayer/issues/6429)). This fixes\n        several issues involving preloading and handling of ad loading error\n        cases: ([#4140](https://github.com/google/ExoPlayer/issues/4140),\n        [#5006](https://github.com/google/ExoPlayer/issues/5006),\n        [#6030](https://github.com/google/ExoPlayer/issues/6030),\n        [#6097](https://github.com/google/ExoPlayer/issues/6097),\n        [#6425](https://github.com/google/ExoPlayer/issues/6425),\n        [#6967](https://github.com/google/ExoPlayer/issues/6967),\n        [#7041](https://github.com/google/ExoPlayer/issues/7041),\n        [#7161](https://github.com/google/ExoPlayer/issues/7161),\n        [#7212](https://github.com/google/ExoPlayer/issues/7212),\n        [#7340](https://github.com/google/ExoPlayer/issues/7340)).\n    *   Add support for timing out ad preloading, to avoid playback getting\n        stuck if an ad group unexpectedly fails to load\n        ([#5444](https://github.com/google/ExoPlayer/issues/5444),\n        [#5966](https://github.com/google/ExoPlayer/issues/5966),\n        [#7002](https://github.com/google/ExoPlayer/issues/7002)).\n    *   Fix `AdsMediaSource` child `MediaSource`s not being released.\n*   Cronet extension: Default to using the Cronet implementation in Google Play\n    Services rather than Cronet Embedded. This allows Cronet to be used with a\n    negligible increase in application size, compared to approximately 8MB when\n    embedding the library.\n*   OkHttp extension: Upgrade OkHttp dependency to 3.12.11.\n*   MediaSession extension:\n    *   Only set the playback state to `BUFFERING` if `playWhenReady` is true\n        ([#7206](https://github.com/google/ExoPlayer/issues/7206)).\n    *   Add missing `@Nullable` annotations to `MediaSessionConnector`\n        ([#7234](https://github.com/google/ExoPlayer/issues/7234)).\n*   AV1 extension: Add a heuristic to determine the default number of threads\n    used for AV1 playback using the extension.\n\n### 2.11.4 (2020-04-08)\n\n*   Add `SimpleExoPlayer.setWakeMode` to allow automatic `WifiLock` and\n    `WakeLock` handling\n    ([#6914](https://github.com/google/ExoPlayer/issues/6914)). To use this\n    feature, you must add the\n    [WAKE_LOCK](https://developer.android.com/reference/android/Manifest.permission.html#WAKE_LOCK)\n    permission to your application's manifest file.\n*   Text:\n    *   Catch and log exceptions in `TextRenderer` rather than re-throwing. This\n        allows playback to continue even if subtitle decoding fails\n        ([#6885](https://github.com/google/ExoPlayer/issues/6885)).\n    *   Allow missing hours and milliseconds in SubRip (.srt) timecodes\n        ([#7122](https://github.com/google/ExoPlayer/issues/7122)).\n*   Audio:\n    *   Enable playback speed adjustment and silence skipping for floating point\n        PCM audio, via resampling to 16-bit integer PCM. To output the original\n        floating point audio without adjustment, pass `enableFloatOutput=true`\n        to the `DefaultAudioSink` constructor\n        ([#7134](https://github.com/google/ExoPlayer/issues/7134)).\n    *   Workaround issue that could cause slower than realtime playback of AAC\n        on Android 10\n        ([#6671](https://github.com/google/ExoPlayer/issues/6671)).\n    *   Fix case where another app spuriously holding transient audio focus\n        could prevent ExoPlayer from acquiring audio focus for an indefinite\n        period of time\n        ([#7182](https://github.com/google/ExoPlayer/issues/7182)).\n    *   Fix case where the player volume could be permanently ducked if audio\n        focus was released whilst ducking.\n    *   Fix playback of WAV files with trailing non-media bytes\n        ([#7129](https://github.com/google/ExoPlayer/issues/7129)).\n    *   Fix playback of ADTS files with mid-stream ID3 metadata.\n*   DRM:\n    *   Fix stuck ad playbacks with DRM protected content\n        ([#7188](https://github.com/google/ExoPlayer/issues/7188)).\n    *   Fix playback of Widevine protected content that only provides V1 PSSH\n        atoms on API levels 21 and 22.\n    *   Fix playback of PlayReady content on Fire TV Stick (Gen 2).\n*   DASH:\n    *   Update the manifest URI to avoid repeated HTTP redirects\n        ([#6907](https://github.com/google/ExoPlayer/issues/6907)).\n    *   Parse period `AssetIdentifier` elements.\n*   HLS: Recognize IMSC subtitles\n    ([#7185](https://github.com/google/ExoPlayer/issues/7185)).\n*   UI: Add an option to set whether to use the orientation sensor for rotation\n    in spherical playbacks\n    ([#6761](https://github.com/google/ExoPlayer/issues/6761)).\n*   Analytics: Fix `PlaybackStatsListener` behavior when not keeping history\n    ([#7160](https://github.com/google/ExoPlayer/issues/7160)).\n*   FFmpeg extension: Add support for `x86_64` architecture.\n*   Opus extension: Fix parsing of negative gain values\n    ([#7046](https://github.com/google/ExoPlayer/issues/7046)).\n*   Cast extension: Upgrade `play-services-cast-framework` dependency to 18.1.0.\n    This fixes an issue where `RemoteServiceException` was thrown due to\n    `Context.startForegroundService()` not calling `Service.startForeground()`\n    ([#7191](https://github.com/google/ExoPlayer/issues/7191)).\n\n### 2.11.3 (2020-02-19)\n\n*   SmoothStreaming: Fix regression that broke playback in 2.11.2\n    ([#6981](https://github.com/google/ExoPlayer/issues/6981)).\n*   DRM: Fix issue switching from protected content that uses a 16-byte\n    initialization vector to one that uses an 8-byte initialization vector\n    ([#6982](https://github.com/google/ExoPlayer/issues/6982)).\n\n### 2.11.2 (2020-02-13)\n\n*   Add Java FLAC extractor\n    ([#6406](https://github.com/google/ExoPlayer/issues/6406)).\n*   Startup latency optimization:\n    *   Reduce startup latency for DASH and SmoothStreaming playbacks by\n        allowing codec initialization to occur before the network connection for\n        the first media segment has been established.\n    *   Reduce startup latency for on-demand DASH playbacks by allowing codec\n        initialization to occur before the sidx box has been loaded.\n*   Downloads:\n    *   Fix download resumption when the requirements for them to continue are\n        met ([#6733](https://github.com/google/ExoPlayer/issues/6733),\n        [#6798](https://github.com/google/ExoPlayer/issues/6798)).\n    *   Fix `DownloadHelper.createMediaSource` to use `customCacheKey` when\n        creating `ProgressiveMediaSource` instances.\n*   DRM: Fix `NullPointerException` when playing DRM protected content\n    ([#6951](https://github.com/google/ExoPlayer/issues/6951)).\n*   Metadata:\n    *   Update `IcyDecoder` to try ISO-8859-1 decoding if UTF-8 decoding fails.\n        Also change `IcyInfo.rawMetadata` from `String` to `byte[]` to allow\n        developers to handle data that's neither UTF-8 nor ISO-8859-1\n        ([#6753](https://github.com/google/ExoPlayer/issues/6753)).\n    *   Select multiple metadata tracks if multiple metadata renderers are\n        available ([#6676](https://github.com/google/ExoPlayer/issues/6676)).\n    *   Add support for ID3 genres added in Wimamp 5.6 (2010).\n*   UI:\n    *   Show ad group markers in `DefaultTimeBar` even if they are after the end\n        of the current window\n        ([#6552](https://github.com/google/ExoPlayer/issues/6552)).\n    *   Don't use notification chronometer if playback speed is != 1.0\n        ([#6816](https://github.com/google/ExoPlayer/issues/6816)).\n*   HLS: Fix playback of DRM protected content that uses key rotation\n    ([#6903](https://github.com/google/ExoPlayer/issues/6903)).\n*   WAV:\n    *   Support IMA ADPCM encoded data.\n    *   Improve support for G.711 A-law and mu-law encoded data.\n*   MP4: Support \"twos\" codec (big endian PCM)\n    ([#5789](https://github.com/google/ExoPlayer/issues/5789)).\n*   FMP4: Add support for encrypted AC-4 tracks.\n*   HLS: Fix slow seeking into long MP3 segments\n    ([#6155](https://github.com/google/ExoPlayer/issues/6155)).\n*   Fix handling of E-AC-3 streams that contain AC-3 syncframes\n    ([#6602](https://github.com/google/ExoPlayer/issues/6602)).\n*   Fix playback of TrueHD streams in Matroska\n    ([#6845](https://github.com/google/ExoPlayer/issues/6845)).\n*   Fix MKV subtitles to disappear when intended instead of lasting until the\n    next cue ([#6833](https://github.com/google/ExoPlayer/issues/6833)).\n*   OkHttp extension: Upgrade OkHttp dependency to 3.12.8, which fixes a class\n    of `SocketTimeoutException` issues when using HTTP/2\n    ([#4078](https://github.com/google/ExoPlayer/issues/4078)).\n*   FLAC extension: Fix handling of bit depths other than 16 in `FLACDecoder`.\n    This issue caused FLAC streams with other bit depths to sound like white\n    noise on earlier releases, but only when embedded in a non-FLAC container\n    such as Matroska or MP4.\n*   Demo apps: Add\n    [GL demo app](https://github.com/google/ExoPlayer/tree/dev-v2/demos/gl) to\n    show how to render video to a `GLSurfaceView` while applying a GL shader.\n    ([#6920](https://github.com/google/ExoPlayer/issues/6920)).\n\n### 2.11.1 (2019-12-20)\n\n*   UI: Exclude `DefaultTimeBar` region from system gesture detection\n    ([#6685](https://github.com/google/ExoPlayer/issues/6685)).\n*   ProGuard fixes:\n    *   Ensure `Libgav1VideoRenderer` constructor is kept for use by\n        `DefaultRenderersFactory`\n        ([#6773](https://github.com/google/ExoPlayer/issues/6773)).\n    *   Ensure `VideoDecoderOutputBuffer` and its members are kept for use by\n        video decoder extensions.\n    *   Ensure raw resources used with `RawResourceDataSource` are kept.\n    *   Suppress spurious warnings about the `javax.annotation` package, and\n        restructure use of `IntDef` annotations to remove spurious warnings\n        about `SsaStyle$SsaAlignment`\n        ([#6771](https://github.com/google/ExoPlayer/issues/6771)).\n*   Fix `CacheDataSource` to correctly propagate `DataSpec.httpRequestHeaders`.\n*   Fix issue with `DefaultDownloadIndex` that could result in an\n    `IllegalStateException` being thrown from\n    `DefaultDownloadIndex.getDownloadForCurrentRow`\n    ([#6785](https://github.com/google/ExoPlayer/issues/6785)).\n*   Fix `IndexOutOfBoundsException` in `SinglePeriodTimeline.getWindow`\n    ([#6776](https://github.com/google/ExoPlayer/issues/6776)).\n*   Add missing `@Nullable` to `MediaCodecAudioRenderer.getMediaClock` and\n    `SimpleDecoderAudioRenderer.getMediaClock`\n    ([#6792](https://github.com/google/ExoPlayer/issues/6792)).\n\n### 2.11.0 (2019-12-11)\n\n*   Core library:\n    *   Replace `ExoPlayerFactory` by `SimpleExoPlayer.Builder` and\n        `ExoPlayer.Builder`.\n    *   Add automatic `WakeLock` handling to `SimpleExoPlayer`, which can be\n        enabled by calling `SimpleExoPlayer.setHandleWakeLock`\n        ([#5846](https://github.com/google/ExoPlayer/issues/5846)). To use this\n        feature, you must add the\n        [WAKE_LOCK](https://developer.android.com/reference/android/Manifest.permission.html#WAKE_LOCK)\n        permission to your application's manifest file.\n    *   Add automatic \"audio becoming noisy\" handling to `SimpleExoPlayer`,\n        which can be enabled by calling\n        `SimpleExoPlayer.setHandleAudioBecomingNoisy`.\n    *   Wrap decoder exceptions in a new `DecoderException` class and report\n        them as renderer errors.\n    *   Add `Timeline.Window.isLive` to indicate that a window is a live stream\n        ([#2668](https://github.com/google/ExoPlayer/issues/2668) and\n        [#5973](https://github.com/google/ExoPlayer/issues/5973)).\n    *   Add `Timeline.Window.uid` to uniquely identify window instances.\n    *   Deprecate `setTag` parameter of `Timeline.getWindow`. Tags will always\n        be set.\n    *   Deprecate passing the manifest directly to\n        `Player.EventListener.onTimelineChanged`. It can be accessed through\n        `Timeline.Window.manifest` or `Player.getCurrentManifest()`\n    *   Add `MediaSource.enable` and `MediaSource.disable` to improve resource\n        management in playlists.\n    *   Add `MediaPeriod.isLoading` to improve `Player.isLoading` state.\n    *   Fix issue where player errors are thrown too early at playlist\n        transitions ([#5407](https://github.com/google/ExoPlayer/issues/5407)).\n    *   Add `Format` and renderer support flags to renderer\n        `ExoPlaybackException`s.\n    *   Where there are multiple platform decoders for a given MIME type, prefer\n        to use one that advertises support for the profile and level of the\n        media being played over one that does not, even if it does not come\n        first in the `MediaCodecList`.\n*   DRM:\n    *   Inject `DrmSessionManager` into the `MediaSources` instead of\n        `Renderers`. This allows each `MediaSource` in a\n        `ConcatenatingMediaSource` to use a different `DrmSessionManager`\n        ([#5619](https://github.com/google/ExoPlayer/issues/5619)).\n    *   Add `DefaultDrmSessionManager.Builder`, and remove\n        `DefaultDrmSessionManager` static factory methods that leaked\n        `ExoMediaDrm` instances\n        ([#4721](https://github.com/google/ExoPlayer/issues/4721)).\n    *   Add support for the use of secure decoders when playing clear content\n        ([#4867](https://github.com/google/ExoPlayer/issues/4867)). This can be\n        enabled using `DefaultDrmSessionManager.Builder`'s\n        `setUseDrmSessionsForClearContent` method.\n    *   Add support for custom `LoadErrorHandlingPolicies` in key and\n        provisioning requests\n        ([#6334](https://github.com/google/ExoPlayer/issues/6334)). Custom\n        policies can be passed via `DefaultDrmSessionManager.Builder`'s\n        `setLoadErrorHandlingPolicy` method.\n    *   Use `ExoMediaDrm.Provider` in `OfflineLicenseHelper` to avoid leaking\n        `ExoMediaDrm` instances\n        ([#4721](https://github.com/google/ExoPlayer/issues/4721)).\n*   Track selection:\n    *   Update `DefaultTrackSelector` to set a viewport constraint for the\n        default display by default.\n    *   Update `DefaultTrackSelector` to set text language and role flag\n        constraints for the device's accessibility settings by default\n        ([#5749](https://github.com/google/ExoPlayer/issues/5749)).\n    *   Add option to set preferred text role flags using\n        `DefaultTrackSelector.ParametersBuilder.setPreferredTextRoleFlags`.\n*   LoadControl:\n    *   Default `prioritizeTimeOverSizeThresholds` to false to prevent OOM\n        errors ([#6647](https://github.com/google/ExoPlayer/issues/6647)).\n*   Android 10:\n    *   Set `compileSdkVersion` to 29 to enable use of Android 10 APIs.\n    *   Expose new `isHardwareAccelerated`, `isSoftwareOnly` and `isVendor`\n        flags in `MediaCodecInfo`\n        ([#5839](https://github.com/google/ExoPlayer/issues/5839)).\n    *   Add `allowedCapturePolicy` field to `AudioAttributes` to allow to\n        configuration of the audio capture policy.\n*   Video:\n    *   Pass the codec output `MediaFormat` to `VideoFrameMetadataListener`.\n    *   Fix byte order of HDR10+ static metadata to match CTA-861.3.\n    *   Support out-of-band HDR10+ dynamic metadata for VP9 in WebM/Matroska.\n    *   Assume that protected content requires a secure decoder when evaluating\n        whether `MediaCodecVideoRenderer` supports a given video format\n        ([#5568](https://github.com/google/ExoPlayer/issues/5568)).\n    *   Fix Dolby Vision fallback to AVC and HEVC.\n    *   Fix early end-of-stream detection when using video tunneling, on API\n        level 23 and above.\n    *   Fix an issue where a keyframe was rendered rather than skipped when\n        performing an exact seek to a non-zero position close to the start of\n        the stream.\n*   Audio:\n    *   Fix the start of audio getting truncated when transitioning to a new\n        item in a playlist of Opus streams.\n    *   Workaround broken raw audio decoding on Oppo R9\n        ([#5782](https://github.com/google/ExoPlayer/issues/5782)).\n    *   Reconfigure audio sink when PCM encoding changes\n        ([#6601](https://github.com/google/ExoPlayer/issues/6601)).\n    *   Allow `AdtsExtractor` to encounter EOF when calculating average frame\n        size ([#6700](https://github.com/google/ExoPlayer/issues/6700)).\n*   Text:\n    *   Add support for position and overlapping start/end times in SSA/ASS\n        subtitles ([#6320](https://github.com/google/ExoPlayer/issues/6320)).\n    *   Require an end time or duration for SubRip (SRT) and SubStation Alpha\n        (SSA/ASS) subtitles. This applies to both sidecar files & subtitles\n        [embedded in Matroska streams](https://matroska.org/technical/specs/subtitles/index.html).\n*   UI:\n    *   Make showing and hiding player controls accessible to TalkBack in\n        `PlayerView`.\n    *   Rename `spherical_view` surface type to `spherical_gl_surface_view`.\n    *   Make it easier to override the shuffle, repeat, fullscreen, VR and small\n        notification icon assets\n        ([#6709](https://github.com/google/ExoPlayer/issues/6709)).\n*   Analytics:\n    *   Remove `AnalyticsCollector.Factory`. Instances should be created\n        directly, and the `Player` should be set by calling\n        `AnalyticsCollector.setPlayer`.\n    *   Add `PlaybackStatsListener` to collect `PlaybackStats` for analysis and\n        analytics reporting.\n*   DataSource\n    *   Add `DataSpec.httpRequestHeaders` to support setting per-request headers\n        for HTTP and HTTPS.\n    *   Remove the `DataSpec.FLAG_ALLOW_ICY_METADATA` flag. Use is replaced by\n        setting the `IcyHeaders.REQUEST_HEADER_ENABLE_METADATA_NAME` header in\n        `DataSpec.httpRequestHeaders`.\n    *   Fail more explicitly when local file URIs contain invalid parts (e.g. a\n        fragment) ([#6470](https://github.com/google/ExoPlayer/issues/6470)).\n*   DASH: Support negative @r values in segment timelines\n    ([#1787](https://github.com/google/ExoPlayer/issues/1787)).\n*   HLS:\n    *   Use peak bitrate rather than average bitrate for adaptive track\n        selection.\n    *   Fix issue where streams could get stuck in an infinite buffering state\n        after a postroll ad\n        ([#6314](https://github.com/google/ExoPlayer/issues/6314)).\n*   Matroska: Support lacing in Blocks\n    ([#3026](https://github.com/google/ExoPlayer/issues/3026)).\n*   AV1 extension:\n    *   New in this release. The AV1 extension allows use of the\n        [libgav1 software decoder](https://chromium.googlesource.com/codecs/libgav1/)\n        in ExoPlayer. You can read more about playing AV1 videos with ExoPlayer\n        [here](https://medium.com/google-exoplayer/playing-av1-videos-with-exoplayer-a7cb19bedef9).\n*   VP9 extension:\n    *   Update to use NDK r20.\n    *   Rename `VpxVideoSurfaceView` to `VideoDecoderSurfaceView` and move it to\n        the core library.\n    *   Move `LibvpxVideoRenderer.MSG_SET_OUTPUT_BUFFER_RENDERER` to\n        `C.MSG_SET_OUTPUT_BUFFER_RENDERER`.\n    *   Use `VideoDecoderRenderer` as an implementation of\n        `VideoDecoderOutputBufferRenderer`, instead of\n        `VideoDecoderSurfaceView`.\n*   FLAC extension: Update to use NDK r20.\n*   Opus extension: Update to use NDK r20.\n*   FFmpeg extension:\n    *   Update to use NDK r20.\n    *   Update to use FFmpeg version 4.2. It is necessary to rebuild the native\n        part of the extension after this change, following the instructions in\n        the extension's readme.\n*   MediaSession extension: Add `MediaSessionConnector.setCaptionCallback` to\n    support `ACTION_SET_CAPTIONING_ENABLED` events.\n*   GVR extension: This extension is now deprecated.\n*   Demo apps:\n    *   Add\n        [SurfaceControl demo app](https://github.com/google/ExoPlayer/tree/r2.11.0/demos/surface)\n        to show how to use the Android 10 `SurfaceControl` API with ExoPlayer\n        ([#677](https://github.com/google/ExoPlayer/issues/677)).\n    *   Add support for subtitle files to the\n        [Main demo app](https://github.com/google/ExoPlayer/tree/r2.11.0/demos/main)\n        ([#5523](https://github.com/google/ExoPlayer/issues/5523)).\n    *   Remove the IMA demo app. IMA functionality is demonstrated by the\n        [main demo app](https://github.com/google/ExoPlayer/tree/r2.11.0/demos/main).\n    *   Add basic DRM support to the\n        [Cast demo app](https://github.com/google/ExoPlayer/tree/r2.11.0/demos/cast).\n*   TestUtils: Publish the `testutils` module to simplify unit testing with\n    ExoPlayer ([#6267](https://github.com/google/ExoPlayer/issues/6267)).\n*   IMA extension: Remove `AdsManager` listeners on release to avoid leaking an\n    `AdEventListener` provided by the app\n    ([#6687](https://github.com/google/ExoPlayer/issues/6687)).\n\n### 2.10.8 (2019-11-19)\n\n*   E-AC3 JOC\n    *   Handle new signaling in DASH manifests\n        ([#6636](https://github.com/google/ExoPlayer/issues/6636)).\n    *   Fix E-AC3 JOC passthrough playback failing to initialize due to\n        incorrect channel count check.\n*   FLAC\n    *   Fix sniffing for some FLAC streams.\n    *   Fix FLAC `Format.bitrate` values.\n*   Parse ALAC channel count and sample rate information from a more robust\n    source when contained in MP4\n    ([#6648](https://github.com/google/ExoPlayer/issues/6648)).\n*   Fix seeking into multi-period content in the edge case that the period\n    containing the seek position has just been removed\n    ([#6641](https://github.com/google/ExoPlayer/issues/6641)).\n\n### 2.10.7 (2019-11-06)\n\n*   HLS: Fix detection of Dolby Atmos to match the HLS authoring specification.\n*   MediaSession extension: Update shuffle and repeat modes when playback state\n    is invalidated ([#6582](https://github.com/google/ExoPlayer/issues/6582)).\n*   Fix the start of audio getting truncated when transitioning to a new item in\n    a playlist of Opus streams.\n\n### 2.10.6 (2019-10-17)\n\n*   Add `Player.onPlaybackSuppressionReasonChanged` to allow listeners to detect\n    playbacks suppressions (e.g. transient audio focus loss) directly\n    ([#6203](https://github.com/google/ExoPlayer/issues/6203)).\n*   DASH:\n    *   Support `Label` elements\n        ([#6297](https://github.com/google/ExoPlayer/issues/6297)).\n    *   Support legacy audio channel configuration\n        ([#6523](https://github.com/google/ExoPlayer/issues/6523)).\n*   HLS: Add support for ID3 in EMSG when using FMP4 streams\n    ([spec](https://aomediacodec.github.io/av1-id3/)).\n*   MP3: Add workaround to avoid prematurely ending playback of some SHOUTcast\n    live streams ([#6537](https://github.com/google/ExoPlayer/issues/6537),\n    [#6315](https://github.com/google/ExoPlayer/issues/6315) and\n    [#5658](https://github.com/google/ExoPlayer/issues/5658)).\n*   Metadata: Expose the raw ICY metadata through `IcyInfo`\n    ([#6476](https://github.com/google/ExoPlayer/issues/6476)).\n*   UI:\n    *   Setting `app:played_color` on `PlayerView` and `PlayerControlView` no\n        longer adjusts the colors of the scrubber handle , buffered and unplayed\n        parts of the time bar. These can be set separately using\n        `app:scrubber_color`, `app:buffered_color` and `app_unplayed_color`\n        respectively.\n    *   Setting `app:ad_marker_color` on `PlayerView` and `PlayerControlView` no\n        longer adjusts the color of played ad markers. The color of played ad\n        markers can be set separately using `app:played_ad_marker_color`.\n\n### 2.10.5 (2019-09-20)\n\n*   Add `Player.isPlaying` and `EventListener.onIsPlayingChanged` to check\n    whether the playback position is advancing. This helps to determine if\n    playback is suppressed due to audio focus loss. Also add\n    `Player.getPlaybackSuppressedReason` to determine the reason of the\n    suppression ([#6203](https://github.com/google/ExoPlayer/issues/6203)).\n*   Track selection\n    *   Add `allowAudioMixedChannelCountAdaptiveness` parameter to\n        `DefaultTrackSelector` to allow adaptive selections of audio tracks with\n        different channel counts.\n    *   Improve text selection logic to always prefer the better language\n        matches over other selection parameters.\n    *   Fix audio selection issue where languages are compared by bitrate\n        ([#6335](https://github.com/google/ExoPlayer/issues/6335)).\n*   Performance\n    *   Increase maximum video buffer size from 13MB to 32MB. The previous\n        default was too small for high quality streams.\n    *   Reset `DefaultBandwidthMeter` to initial values on network change.\n    *   Bypass sniffing in `ProgressiveMediaPeriod` in case a single extractor\n        is provided ([#6325](https://github.com/google/ExoPlayer/issues/6325)).\n*   Metadata\n    *   Support EMSG V1 boxes in FMP4.\n    *   Support unwrapping of nested metadata (e.g. ID3 and SCTE-35 in EMSG).\n*   Add `HttpDataSource.getResponseCode` to provide the status code associated\n    with the most recent HTTP response.\n*   Fix transitions between packed audio and non-packed audio segments in HLS\n    ([#6444](https://github.com/google/ExoPlayer/issues/6444)).\n*   Fix issue where a request would be retried after encountering an error, even\n    though the `LoadErrorHandlingPolicy` classified the error as fatal.\n*   Fix initialization data handling for FLAC in MP4\n    ([#6396](https://github.com/google/ExoPlayer/issues/6396),\n    [#6397](https://github.com/google/ExoPlayer/issues/6397)).\n*   Fix decoder selection for E-AC3 JOC streams\n    ([#6398](https://github.com/google/ExoPlayer/issues/6398)).\n*   Fix `PlayerNotificationManager` to show play icon rather than pause icon\n    when playback is ended\n    ([#6324](https://github.com/google/ExoPlayer/issues/6324)).\n*   RTMP extension: Upgrade LibRtmp-Client-for-Android to fix RTMP playback\n    issues ([#4200](https://github.com/google/ExoPlayer/issues/4200),\n    [#4249](https://github.com/google/ExoPlayer/issues/4249),\n    [#4319](https://github.com/google/ExoPlayer/issues/4319),\n    [#4337](https://github.com/google/ExoPlayer/issues/4337)).\n*   IMA extension: Fix crash in `ImaAdsLoader.onTimelineChanged`\n    ([#5831](https://github.com/google/ExoPlayer/issues/5831)).\n\n### 2.10.4 (2019-07-26)\n\n*   Offline: Add `Scheduler` implementation that uses `WorkManager`.\n*   Add ability to specify a description when creating notification channels via\n    ExoPlayer library classes.\n*   Switch normalized BCP-47 language codes to use 2-letter ISO 639-1 language\n    tags instead of 3-letter ISO 639-2 language tags.\n*   Ensure the `SilenceMediaSource` position is in range\n    ([#6229](https://github.com/google/ExoPlayer/issues/6229)).\n*   WAV: Calculate correct duration for clipped streams\n    ([#6241](https://github.com/google/ExoPlayer/issues/6241)).\n*   MP3: Use CBR header bitrate, not calculated bitrate. This reverts a change\n    from 2.9.3 ([#6238](https://github.com/google/ExoPlayer/issues/6238)).\n*   FLAC extension: Parse `VORBIS_COMMENT` and `PICTURE` metadata\n    ([#5527](https://github.com/google/ExoPlayer/issues/5527)).\n*   Fix issue where initial seek positions get ignored when playing a preroll ad\n    ([#6201](https://github.com/google/ExoPlayer/issues/6201)).\n*   Fix issue where invalid language tags were normalized to \"und\" instead of\n    keeping the original\n    ([#6153](https://github.com/google/ExoPlayer/issues/6153)).\n*   Fix `DataSchemeDataSource` re-opening and range requests\n    ([#6192](https://github.com/google/ExoPlayer/issues/6192)).\n*   Fix FLAC and ALAC playback on some LG devices\n    ([#5938](https://github.com/google/ExoPlayer/issues/5938)).\n*   Fix issue when calling `performClick` on `PlayerView` without\n    `PlayerControlView`\n    ([#6260](https://github.com/google/ExoPlayer/issues/6260)).\n*   Fix issue where playback speeds are not used in adaptive track selections\n    after manual selection changes for other renderers\n    ([#6256](https://github.com/google/ExoPlayer/issues/6256)).\n\n### 2.10.3 (2019-07-09)\n\n*   Display last frame when seeking to end of stream\n    ([#2568](https://github.com/google/ExoPlayer/issues/2568)).\n*   Audio:\n    *   Fix an issue where not all audio was played out when the configuration\n        for the underlying track was changing (e.g., at some period\n        transitions).\n    *   Fix an issue where playback speed was applied inaccurately in playlists\n        ([#6117](https://github.com/google/ExoPlayer/issues/6117)).\n*   UI: Fix `PlayerView` incorrectly consuming touch events if no controller is\n    attached ([#6109](https://github.com/google/ExoPlayer/issues/6109)).\n*   CEA608: Fix repetition of special North American characters\n    ([#6133](https://github.com/google/ExoPlayer/issues/6133)).\n*   FLV: Fix bug that caused playback of some live streams to not start\n    ([#6111](https://github.com/google/ExoPlayer/issues/6111)).\n*   SmoothStreaming: Parse text stream `Subtype` into `Format.roleFlags`.\n*   MediaSession extension: Fix `MediaSessionConnector.play()` not resuming\n    playback ([#6093](https://github.com/google/ExoPlayer/issues/6093)).\n\n### 2.10.2 (2019-06-03)\n\n*   Add `ResolvingDataSource` for just-in-time resolution of `DataSpec`s\n    ([#5779](https://github.com/google/ExoPlayer/issues/5779)).\n*   Add `SilenceMediaSource` that can be used to play silence of a given\n    duration ([#5735](https://github.com/google/ExoPlayer/issues/5735)).\n*   Offline:\n    *   Prevent unexpected `DownloadHelper.Callback.onPrepared` callbacks after\n        preparation of a `DownloadHelper` fails\n        ([#5915](https://github.com/google/ExoPlayer/issues/5915)).\n    *   Fix `CacheUtil.cache()` downloading too much data\n        ([#5927](https://github.com/google/ExoPlayer/issues/5927)).\n    *   Fix misreporting cached bytes when caching is paused\n        ([#5573](https://github.com/google/ExoPlayer/issues/5573)).\n*   UI:\n    *   Allow setting `DefaultTimeBar` attributes on `PlayerView` and\n        `PlayerControlView`.\n    *   Change playback controls toggle from touch down to touch up events\n        ([#5784](https://github.com/google/ExoPlayer/issues/5784)).\n    *   Fix issue where playback controls were not kept visible on key presses\n        ([#5963](https://github.com/google/ExoPlayer/issues/5963)).\n*   Subtitles:\n    *   CEA-608: Handle XDS and TEXT modes\n        ([#5807](https://github.com/google/ExoPlayer/pull/5807)).\n    *   TTML: Fix bitmap rendering\n        ([#5633](https://github.com/google/ExoPlayer/pull/5633)).\n*   IMA: Fix ad pod index offset calculation without preroll\n    ([#5928](https://github.com/google/ExoPlayer/issues/5928)).\n*   Add a `playWhenReady` flag to MediaSessionConnector.PlaybackPreparer methods\n    to indicate whether a controller sent a play or only a prepare command. This\n    allows to take advantage of decoder reuse with the MediaSessionConnector\n    ([#5891](https://github.com/google/ExoPlayer/issues/5891)).\n*   Add `ProgressUpdateListener` to `PlayerControlView`\n    ([#5834](https://github.com/google/ExoPlayer/issues/5834)).\n*   Add support for auto-detecting UDP streams in `DefaultDataSource`\n    ([#6036](https://github.com/google/ExoPlayer/pull/6036)).\n*   Allow enabling decoder fallback with `DefaultRenderersFactory`\n    ([#5942](https://github.com/google/ExoPlayer/issues/5942)).\n*   Gracefully handle revoked `ACCESS_NETWORK_STATE` permission\n    ([#6019](https://github.com/google/ExoPlayer/issues/6019)).\n*   Fix decoding problems when seeking back after seeking beyond a mid-roll ad\n    ([#6009](https://github.com/google/ExoPlayer/issues/6009)).\n*   Fix application of `maxAudioBitrate` for adaptive audio track groups\n    ([#6006](https://github.com/google/ExoPlayer/issues/6006)).\n*   Fix bug caused by parallel adaptive track selection using `Format`s without\n    bitrate information\n    ([#5971](https://github.com/google/ExoPlayer/issues/5971)).\n*   Fix bug in `CastPlayer.getCurrentWindowIndex()`\n    ([#5955](https://github.com/google/ExoPlayer/issues/5955)).\n\n### 2.10.1 (2019-05-16)\n\n*   Offline: Add option to remove all downloads.\n*   HLS: Fix `NullPointerException` when using HLS chunkless preparation\n    ([#5868](https://github.com/google/ExoPlayer/issues/5868)).\n*   Fix handling of empty values and line terminators in SHOUTcast ICY metadata\n    ([#5876](https://github.com/google/ExoPlayer/issues/5876)).\n*   Fix DVB subtitles for SDK 28\n    ([#5862](https://github.com/google/ExoPlayer/issues/5862)).\n*   Add a workaround for a decoder failure on ZTE Axon7 mini devices when\n    playing 48kHz audio\n    ([#5821](https://github.com/google/ExoPlayer/issues/5821)).\n\n### 2.10.0 (2019-04-15)\n\n*   Core library:\n    *   Improve decoder re-use between playbacks\n        ([#2826](https://github.com/google/ExoPlayer/issues/2826)). Read\n        [this blog post](https://medium.com/google-exoplayer/improved-decoder-reuse-in-exoplayer-ef4c6d99591d)\n        for more details.\n    *   Rename `ExtractorMediaSource` to `ProgressiveMediaSource`.\n    *   Fix issue where using `ProgressiveMediaSource.Factory` would mean that\n        `DefaultExtractorsFactory` would be kept by proguard. Custom\n        `ExtractorsFactory` instances must now be passed via the\n        `ProgressiveMediaSource.Factory` constructor, and `setExtractorsFactory`\n        is deprecated.\n    *   Make the default minimum buffer size equal the maximum buffer size for\n        video playbacks\n        ([#2083](https://github.com/google/ExoPlayer/issues/2083)).\n    *   Move `PriorityTaskManager` from `DefaultLoadControl` to\n        `SimpleExoPlayer`.\n    *   Add new `ExoPlaybackException` types for remote exceptions and\n        out-of-memory errors.\n    *   Use full BCP 47 language tags in `Format`.\n    *   Do not retry failed loads whose error is `FileNotFoundException`.\n    *   Fix issue where not resetting the position for a new `MediaSource` in\n        calls to `ExoPlayer.prepare` causes an `IndexOutOfBoundsException`\n        ([#5520](https://github.com/google/ExoPlayer/issues/5520)).\n*   Offline:\n    *   Improve offline support. `DownloadManager` now tracks all offline\n        content, not just tasks in progress. Read\n        [this page](https://exoplayer.dev/downloading-media.html) for more\n        details.\n*   Caching:\n    *   Improve performance of `SimpleCache`\n        ([#4253](https://github.com/google/ExoPlayer/issues/4253)).\n    *   Cache data with unknown length by default. The previous flag to opt in\n        to this behavior (`DataSpec.FLAG_ALLOW_CACHING_UNKNOWN_LENGTH`) has been\n        replaced with an opt out flag\n        (`DataSpec.FLAG_DONT_CACHE_IF_LENGTH_UNKNOWN`).\n*   Extractors:\n    *   MP4/FMP4: Add support for Dolby Vision.\n    *   MP4: Fix issue handling meta atoms in some streams\n        ([#5698](https://github.com/google/ExoPlayer/issues/5698),\n        [#5694](https://github.com/google/ExoPlayer/issues/5694)).\n    *   MP3: Add support for SHOUTcast ICY metadata\n        ([#3735](https://github.com/google/ExoPlayer/issues/3735)).\n    *   MP3: Fix ID3 frame unsychronization\n        ([#5673](https://github.com/google/ExoPlayer/issues/5673)).\n    *   MP3: Fix playback of badly clipped files\n        ([#5772](https://github.com/google/ExoPlayer/issues/5772)).\n    *   MPEG-TS: Enable HDMV DTS stream detection only if a flag is set. By\n        default (i.e. if the flag is not set), the 0x82 elementary stream type\n        is now treated as an SCTE subtitle track\n        ([#5330](https://github.com/google/ExoPlayer/issues/5330)).\n*   Track selection:\n    *   Add options for controlling audio track selections to\n        `DefaultTrackSelector`\n        ([#3314](https://github.com/google/ExoPlayer/issues/3314)).\n    *   Update `TrackSelection.Factory` interface to support creating all track\n        selections together.\n    *   Allow to specify a selection reason for a `SelectionOverride`.\n    *   Select audio track based on system language if no preference is\n        provided.\n    *   When no text language preference matches, only select forced text tracks\n        whose language matches the selected audio language.\n*   UI:\n    *   Update `DefaultTimeBar` based on duration of media and add parameter to\n        set the minimum update interval to control the smoothness of the updates\n        ([#5040](https://github.com/google/ExoPlayer/issues/5040)).\n    *   Move creation of dialogs for `TrackSelectionView`s to\n        `TrackSelectionDialogBuilder` and add option to select multiple\n        overrides.\n    *   Change signature of `PlayerNotificationManager.NotificationListener` to\n        better fit service requirements.\n    *   Add option to include navigation actions in the compact mode of\n        notifications created using `PlayerNotificationManager`.\n    *   Fix issues with flickering notifications on KitKat when using\n        `PlayerNotificationManager` and `DownloadNotificationUtil`. For the\n        latter, applications should switch to using\n        `DownloadNotificationHelper`.\n    *   Fix accuracy of D-pad seeking in `DefaultTimeBar`\n        ([#5767](https://github.com/google/ExoPlayer/issues/5767)).\n*   Audio:\n    *   Allow `AudioProcessor`s to be drained of pending output after they are\n        reconfigured.\n    *   Fix an issue that caused audio to be truncated at the end of a period\n        when switching to a new period where gapless playback information was\n        newly present or newly absent.\n    *   Add support for reading AC-4 streams\n        ([#5303](https://github.com/google/ExoPlayer/pull/5303)).\n*   Video:\n    *   Remove `MediaCodecSelector.DEFAULT_WITH_FALLBACK`. Apps should instead\n        signal that fallback should be used by passing `true` as the\n        `enableDecoderFallback` parameter when instantiating the video renderer.\n    *   Support video tunneling when the decoder is not listed first for the\n        MIME type ([#3100](https://github.com/google/ExoPlayer/issues/3100)).\n    *   Query `MediaCodecList.ALL_CODECS` when selecting a tunneling decoder\n        ([#5547](https://github.com/google/ExoPlayer/issues/5547)).\n*   DRM:\n    *   Fix black flicker when keys rotate in DRM protected content\n        ([#3561](https://github.com/google/ExoPlayer/issues/3561)).\n    *   Work around lack of LA_URL attribute in PlayReady key request init data.\n*   CEA-608: Improved conformance to the specification\n    ([#3860](https://github.com/google/ExoPlayer/issues/3860)).\n*   DASH:\n    *   Parse role and accessibility descriptors into `Format.roleFlags`.\n    *   Support multiple CEA-608 channels muxed into FMP4 representations\n        ([#5656](https://github.com/google/ExoPlayer/issues/5656)).\n*   HLS:\n    *   Prevent unnecessary reloads of initialization segments.\n    *   Form an adaptive track group out of audio renditions with matching name.\n    *   Support encrypted initialization segments\n        ([#5441](https://github.com/google/ExoPlayer/issues/5441)).\n    *   Parse `EXT-X-MEDIA` `CHARACTERISTICS` attribute into `Format.roleFlags`.\n    *   Add metadata entry for HLS tracks to expose master playlist information.\n    *   Prevent `IndexOutOfBoundsException` in some live HLS scenarios\n        ([#5816](https://github.com/google/ExoPlayer/issues/5816)).\n*   Support for playing spherical videos on Daydream.\n*   Cast extension: Work around Cast framework returning a limited-size queue\n    items list ([#4964](https://github.com/google/ExoPlayer/issues/4964)).\n*   VP9 extension: Remove RGB output mode and libyuv dependency, and switch to\n    surface YUV output as the default. Remove constructor parameters\n    `scaleToFit` and `useSurfaceYuvOutput`.\n*   MediaSession extension:\n    *   Let apps intercept media button events\n        ([#5179](https://github.com/google/ExoPlayer/issues/5179)).\n    *   Fix issue with `TimelineQueueNavigator` not publishing the queue in\n        shuffled order when in shuffle mode.\n    *   Allow handling of custom commands via `registerCustomCommandReceiver`.\n    *   Add ability to include an extras `Bundle` when reporting a custom error.\n*   Log warnings when extension native libraries can't be used, to help with\n    diagnosing playback failures\n    ([#5788](https://github.com/google/ExoPlayer/issues/5788)).\n\n### 2.9.6 (2019-02-19)\n\n*   Remove `player` and `isTopLevelSource` parameters from\n    `MediaSource.prepare`.\n*   IMA extension:\n    *   Require setting the `Player` on `AdsLoader` instances before playback.\n    *   Remove deprecated `ImaAdsMediaSource`. Create `AdsMediaSource` with an\n        `ImaAdsLoader` instead.\n    *   Remove deprecated `AdsMediaSource` constructors. Listen for media source\n        events using `AdsMediaSource.addEventListener`, and ad interaction\n        events by adding a listener when building `ImaAdsLoader`.\n    *   Allow apps to register playback-related obstructing views that are on\n        top of their ad display containers via `AdsLoader.AdViewProvider`.\n        `PlayerView` implements this interface and will register its control\n        view. This makes it possible for ad loading SDKs to calculate ad\n        viewability accurately.\n*   DASH: Fix issue handling large `EventStream` presentation timestamps\n    ([#5490](https://github.com/google/ExoPlayer/issues/5490)).\n*   HLS: Fix transition to STATE_ENDED when playing fragmented mp4 in chunkless\n    preparation ([#5524](https://github.com/google/ExoPlayer/issues/5524)).\n*   Revert workaround for video quality problems with Amlogic decoders, as this\n    may cause problems for some devices and/or non-interlaced content\n    ([#5003](https://github.com/google/ExoPlayer/issues/5003)).\n\n### 2.9.5 (2019-01-31)\n\n*   HLS: Parse `CHANNELS` attribute from `EXT-X-MEDIA` tag.\n*   ConcatenatingMediaSource:\n    *   Add `Handler` parameter to methods that take a callback `Runnable`.\n    *   Fix issue with dropped messages when releasing the source\n        ([#5464](https://github.com/google/ExoPlayer/issues/5464)).\n*   ExtractorMediaSource: Fix issue that could cause the player to get stuck\n    buffering at the end of the media.\n*   PlayerView: Fix issue preventing `OnClickListener` from receiving events\n    ([#5433](https://github.com/google/ExoPlayer/issues/5433)).\n*   IMA extension: Upgrade IMA dependency to 3.10.6.\n*   Cronet extension: Upgrade Cronet dependency to 71.3578.98.\n*   OkHttp extension: Upgrade OkHttp dependency to 3.12.1.\n*   MP3: Wider fix for issue where streams would play twice on some Samsung\n    devices ([#4519](https://github.com/google/ExoPlayer/issues/4519)).\n\n### 2.9.4 (2019-01-15)\n\n*   IMA extension: Clear ads loader listeners on release\n    ([#4114](https://github.com/google/ExoPlayer/issues/4114)).\n*   SmoothStreaming: Fix support for subtitles in DRM protected streams\n    ([#5378](https://github.com/google/ExoPlayer/issues/5378)).\n*   FFmpeg extension: Treat invalid data errors as non-fatal to match the\n    behavior of MediaCodec\n    ([#5293](https://github.com/google/ExoPlayer/issues/5293)).\n*   GVR extension: upgrade GVR SDK dependency to 1.190.0.\n*   Associate fatal player errors of type SOURCE with the loading source in\n    `AnalyticsListener.EventTime`\n    ([#5407](https://github.com/google/ExoPlayer/issues/5407)).\n*   Add `startPositionUs` to `MediaSource.createPeriod`. This fixes an issue\n    where using lazy preparation in `ConcatenatingMediaSource` with an\n    `ExtractorMediaSource` overrides initial seek positions\n    ([#5350](https://github.com/google/ExoPlayer/issues/5350)).\n*   Add subtext to the `MediaDescriptionAdapter` of the\n    `PlayerNotificationManager`.\n*   Add workaround for video quality problems with Amlogic decoders\n    ([#5003](https://github.com/google/ExoPlayer/issues/5003)).\n*   Fix issue where sending callbacks for playlist changes may cause problems\n    because of parallel player access\n    ([#5240](https://github.com/google/ExoPlayer/issues/5240)).\n*   Fix issue with reusing a `ClippingMediaSource` with an inner\n    `ExtractorMediaSource` and a non-zero start position\n    ([#5351](https://github.com/google/ExoPlayer/issues/5351)).\n*   Fix issue where uneven track durations in MP4 streams can cause OOM problems\n    ([#3670](https://github.com/google/ExoPlayer/issues/3670)).\n\n### 2.9.3 (2018-12-20)\n\n*   Captions: Support PNG subtitles in SMPTE-TT\n    ([#1583](https://github.com/google/ExoPlayer/issues/1583)).\n*   MPEG-TS: Use random access indicators to minimize the need for\n    `FLAG_ALLOW_NON_IDR_KEYFRAMES`.\n*   Downloading: Reduce time taken to remove downloads\n    ([#5136](https://github.com/google/ExoPlayer/issues/5136)).\n*   MP3:\n    *   Use the true bitrate for constant-bitrate MP3 seeking.\n    *   Fix issue where streams would play twice on some Samsung devices\n        ([#4519](https://github.com/google/ExoPlayer/issues/4519)).\n*   Fix regression where some audio formats were incorrectly marked as being\n    unplayable due to under-reporting of platform decoder capabilities\n    ([#5145](https://github.com/google/ExoPlayer/issues/5145)).\n*   Fix decode-only frame skipping on Nvidia Shield TV devices.\n*   Workaround for MiTV (dangal) issue when swapping output surface\n    ([#5169](https://github.com/google/ExoPlayer/issues/5169)).\n\n### 2.9.2 (2018-11-28)\n\n*   HLS:\n    *   Fix issue causing unnecessary media playlist requests when playing live\n        streams ([#5059](https://github.com/google/ExoPlayer/issues/5059)).\n    *   Fix decoder re-instantiation issue for packed audio streams\n        ([#5063](https://github.com/google/ExoPlayer/issues/5063)).\n*   MP4: Support Opus and FLAC in the MP4 container, and in DASH\n    ([#4883](https://github.com/google/ExoPlayer/issues/4883)).\n*   DASH: Fix detecting the end of live events\n    ([#4780](https://github.com/google/ExoPlayer/issues/4780)).\n*   Spherical video: Fall back to `TYPE_ROTATION_VECTOR` if\n    `TYPE_GAME_ROTATION_VECTOR` is unavailable\n    ([#5119](https://github.com/google/ExoPlayer/issues/5119)).\n*   Support seeking for a wider range of MPEG-TS streams\n    ([#5097](https://github.com/google/ExoPlayer/issues/5097)).\n*   Include channel count in audio capabilities check\n    ([#4690](https://github.com/google/ExoPlayer/issues/4690)).\n*   Fix issue with applying the `show_buffering` attribute in `PlayerView`\n    ([#5139](https://github.com/google/ExoPlayer/issues/5139)).\n*   Fix issue where null `Metadata` was output when it failed to decode\n    ([#5149](https://github.com/google/ExoPlayer/issues/5149)).\n*   Fix playback of some invalid but playable MP4 streams by replacing\n    assertions with logged warnings in sample table parsing code\n    ([#5162](https://github.com/google/ExoPlayer/issues/5162)).\n*   Fix UUID passed to `MediaCrypto` when using `C.CLEARKEY_UUID` before API 27.\n\n### 2.9.1 (2018-11-01)\n\n*   Add convenience methods `Player.next`, `Player.previous`, `Player.hasNext`\n    and `Player.hasPrevious`\n    ([#4863](https://github.com/google/ExoPlayer/issues/4863)).\n*   Improve initial bandwidth meter estimates using the current country and\n    network type.\n*   IMA extension:\n    *   For preroll to live stream transitions, project forward the loading\n        position to avoid being behind the live window.\n    *   Let apps specify whether to focus the skip button on ATV\n        ([#5019](https://github.com/google/ExoPlayer/issues/5019)).\n*   MP3:\n    *   Support seeking based on MLLT metadata\n        ([#3241](https://github.com/google/ExoPlayer/issues/3241)).\n    *   Fix handling of streams with appended data\n        ([#4954](https://github.com/google/ExoPlayer/issues/4954)).\n*   DASH: Parse ProgramInformation element if present in the manifest.\n*   HLS:\n    *   Add constructor to `DefaultHlsExtractorFactory` for adding TS payload\n        reader factory flags\n        ([#4861](https://github.com/google/ExoPlayer/issues/4861)).\n    *   Fix bug in segment sniffing\n        ([#5039](https://github.com/google/ExoPlayer/issues/5039)).\n*   SubRip: Add support for alignment tags, and remove tags from the displayed\n    captions ([#4306](https://github.com/google/ExoPlayer/issues/4306)).\n*   Fix issue with blind seeking to windows with non-zero offset in a\n    `ConcatenatingMediaSource`\n    ([#4873](https://github.com/google/ExoPlayer/issues/4873)).\n*   Fix logic for enabling next and previous actions in `TimelineQueueNavigator`\n    ([#5065](https://github.com/google/ExoPlayer/issues/5065)).\n*   Fix issue where audio focus handling could not be disabled after enabling it\n    ([#5055](https://github.com/google/ExoPlayer/issues/5055)).\n*   Fix issue where subtitles were positioned incorrectly if `SubtitleView` had\n    a non-zero position offset to its parent\n    ([#4788](https://github.com/google/ExoPlayer/issues/4788)).\n*   Fix issue where the buffered position was not updated correctly when\n    transitioning between periods\n    ([#4899](https://github.com/google/ExoPlayer/issues/4899)).\n*   Fix issue where a `NullPointerException` is thrown when removing an\n    unprepared media source from a `ConcatenatingMediaSource` with the\n    `useLazyPreparation` option enabled\n    ([#4986](https://github.com/google/ExoPlayer/issues/4986)).\n*   Work around an issue where a non-empty end-of-stream audio buffer would be\n    output with timestamp zero, causing the player position to jump backwards\n    ([#5045](https://github.com/google/ExoPlayer/issues/5045)).\n*   Suppress a spurious assertion failure on some Samsung devices\n    ([#4532](https://github.com/google/ExoPlayer/issues/4532)).\n*   Suppress spurious \"references unknown class member\" shrinking warning\n    ([#4890](https://github.com/google/ExoPlayer/issues/4890)).\n*   Swap recommended order for google() and jcenter() in gradle config\n    ([#4997](https://github.com/google/ExoPlayer/issues/4997)).\n\n### 2.9.0 (2018-09-06)\n\n*   Turn on Java 8 compiler support for the ExoPlayer library. Apps may need to\n    add `compileOptions { targetCompatibility JavaVersion.VERSION_1_8 }` to\n    their gradle settings to ensure bytecode compatibility.\n*   Set `compileSdkVersion` and `targetSdkVersion` to 28.\n*   Support for automatic audio focus handling via\n    `SimpleExoPlayer.setAudioAttributes`.\n*   Add `ExoPlayer.retry` convenience method.\n*   Add `AudioListener` for listening to changes in audio configuration during\n    playback ([#3994](https://github.com/google/ExoPlayer/issues/3994)).\n*   Add `LoadErrorHandlingPolicy` to allow configuration of load error handling\n    across `MediaSource` implementations\n    ([#3370](https://github.com/google/ExoPlayer/issues/3370)).\n*   Allow passing a `Looper`, which specifies the thread that must be used to\n    access the player, when instantiating player instances using\n    `ExoPlayerFactory`\n    ([#4278](https://github.com/google/ExoPlayer/issues/4278)).\n*   Allow setting log level for ExoPlayer logcat output\n    ([#4665](https://github.com/google/ExoPlayer/issues/4665)).\n*   Simplify `BandwidthMeter` injection: The `BandwidthMeter` should now be\n    passed directly to `ExoPlayerFactory`, instead of to\n    `TrackSelection.Factory` and `DataSource.Factory`. The `BandwidthMeter` is\n    passed to the components that need it internally. The `BandwidthMeter` may\n    also be omitted, in which case a default instance will be used.\n*   Spherical video:\n    *   Support for spherical video by setting `surface_type=\"spherical_view\"`\n        on `PlayerView`.\n    *   Support for\n        [VR180](https://github.com/google/spatial-media/blob/master/docs/vr180.md).\n*   HLS:\n    *   Support PlayReady.\n    *   Add container format sniffing\n        ([#2025](https://github.com/google/ExoPlayer/issues/2025)).\n    *   Support alternative `EXT-X-KEY` tags.\n    *   Support `EXT-X-INDEPENDENT-SEGMENTS` in the master playlist.\n    *   Support variable substitution\n        ([#4422](https://github.com/google/ExoPlayer/issues/4422)).\n    *   Fix the bitrate being unset on primary track sample formats\n        ([#3297](https://github.com/google/ExoPlayer/issues/3297)).\n    *   Make `HlsMediaSource.Factory` take a factory of trackers instead of a\n        tracker instance\n        ([#4814](https://github.com/google/ExoPlayer/issues/4814)).\n*   DASH:\n    *   Support `messageData` attribute for in-manifest event streams.\n    *   Clip periods to their specified durations\n        ([#4185](https://github.com/google/ExoPlayer/issues/4185)).\n*   Improve seeking support for progressive streams:\n    *   Support seeking in MPEG-TS\n        ([#966](https://github.com/google/ExoPlayer/issues/966)).\n    *   Support seeking in MPEG-PS\n        ([#4476](https://github.com/google/ExoPlayer/issues/4476)).\n    *   Support approximate seeking in ADTS using a constant bitrate assumption\n        ([#4548](https://github.com/google/ExoPlayer/issues/4548)). The\n        `FLAG_ENABLE_CONSTANT_BITRATE_SEEKING` flag must be set on the extractor\n        to enable this functionality.\n    *   Support approximate seeking in AMR using a constant bitrate assumption.\n        The `FLAG_ENABLE_CONSTANT_BITRATE_SEEKING` flag must be set on the\n        extractor to enable this functionality.\n    *   Add `DefaultExtractorsFactory.setConstantBitrateSeekingEnabled` to\n        enable approximate seeking using a constant bitrate assumption on all\n        extractors that support it.\n*   Video:\n    *   Add callback to `VideoListener` to notify of surface size changes.\n    *   Improve performance when playing high frame-rate content, and when\n        playing at greater than 1x speed\n        ([#2777](https://github.com/google/ExoPlayer/issues/2777)).\n    *   Scale up the initial video decoder maximum input size so playlist\n        transitions with small increases in maximum sample size do not require\n        reinitialization\n        ([#4510](https://github.com/google/ExoPlayer/issues/4510)).\n    *   Fix a bug where the player would not transition to the ended state when\n        playing video in tunneled mode.\n*   Audio:\n    *   Support attaching auxiliary audio effects to the `AudioTrack` via\n        `Player.setAuxEffectInfo` and `Player.clearAuxEffectInfo`.\n    *   Support seamless adaptation while playing xHE-AAC streams.\n        ([#4360](https://github.com/google/ExoPlayer/issues/4360)).\n    *   Increase `AudioTrack` buffer sizes to the theoretical maximum required\n        for each encoding for passthrough playbacks\n        ([#3803](https://github.com/google/ExoPlayer/issues/3803)).\n    *   WAV: Fix issue where white noise would be output at the end of playback\n        ([#4724](https://github.com/google/ExoPlayer/issues/4724)).\n    *   MP3: Fix issue where streams would play twice on the SM-T530\n        ([#4519](https://github.com/google/ExoPlayer/issues/4519)).\n*   Analytics:\n    *   Add callbacks to `DefaultDrmSessionEventListener` and\n        `AnalyticsListener` to be notified of acquired and released DRM\n        sessions.\n    *   Add uri field to `LoadEventInfo` in `MediaSourceEventListener` and\n        `AnalyticsListener` callbacks. This uri is the redirected uri if\n        redirection occurred\n        ([#2054](https://github.com/google/ExoPlayer/issues/2054)).\n    *   Add response headers field to `LoadEventInfo` in\n        `MediaSourceEventListener` and `AnalyticsListener` callbacks\n        ([#4361](https://github.com/google/ExoPlayer/issues/4361) and\n        [#4615](https://github.com/google/ExoPlayer/issues/4615)).\n*   UI:\n    *   Add option to `PlayerView` to show buffering view when playWhenReady is\n        false ([#4304](https://github.com/google/ExoPlayer/issues/4304)).\n    *   Allow any `Drawable` to be used as `PlayerView` default artwork.\n*   ConcatenatingMediaSource:\n    *   Support lazy preparation of playlist media sources\n        ([#3972](https://github.com/google/ExoPlayer/issues/3972)).\n    *   Support range removal with `removeMediaSourceRange` methods\n        ([#4542](https://github.com/google/ExoPlayer/issues/4542)).\n    *   Support setting a new shuffle order with `setShuffleOrder`\n        ([#4791](https://github.com/google/ExoPlayer/issues/4791)).\n*   MPEG-TS: Support CEA-608/708 in H262\n    ([#2565](https://github.com/google/ExoPlayer/issues/2565)).\n*   Allow configuration of the back buffer in `DefaultLoadControl.Builder`\n    ([#4857](https://github.com/google/ExoPlayer/issues/4857)).\n*   Allow apps to pass a `CacheKeyFactory` for setting custom cache keys when\n    creating a `CacheDataSource`.\n*   Provide additional information for adaptive track selection.\n    `TrackSelection.updateSelectedTrack` has two new parameters for the current\n    queue of media chunks and iterators for information about upcoming chunks.\n*   Allow `MediaCodecSelector`s to return multiple compatible decoders for\n    `MediaCodecRenderer`, and provide an (optional) `MediaCodecSelector` that\n    falls back to less preferred decoders like `MediaCodec.createDecoderByType`\n    ([#273](https://github.com/google/ExoPlayer/issues/273)).\n*   Enable gzip for requests made by `SingleSampleMediaSource`\n    ([#4771](https://github.com/google/ExoPlayer/issues/4771)).\n*   Fix bug reporting buffered position for multi-period windows, and add\n    convenience methods `Player.getTotalBufferedDuration` and\n    `Player.getContentBufferedDuration`\n    ([#4023](https://github.com/google/ExoPlayer/issues/4023)).\n*   Fix bug where transitions to clipped media sources would happen too early\n    ([#4583](https://github.com/google/ExoPlayer/issues/4583)).\n*   Fix bugs reporting events for multi-period media sources\n    ([#4492](https://github.com/google/ExoPlayer/issues/4492) and\n    [#4634](https://github.com/google/ExoPlayer/issues/4634)).\n*   Fix issue where removing looping media from a playlist throws an exception\n    ([#4871](https://github.com/google/ExoPlayer/issues/4871)).\n*   Fix issue where the preferred audio or text track would not be selected if\n    mapped onto a secondary renderer of the corresponding type\n    ([#4711](http://github.com/google/ExoPlayer/issues/4711)).\n*   Fix issue where errors of upcoming playlist items are thrown too early\n    ([#4661](https://github.com/google/ExoPlayer/issues/4661)).\n*   Allow edit lists which do not start with a sync sample.\n    ([#4774](https://github.com/google/ExoPlayer/issues/4774)).\n*   Fix issue with audio discontinuities at period transitions, e.g. when\n    looping ([#3829](https://github.com/google/ExoPlayer/issues/3829)).\n*   Fix issue where `player.getCurrentTag()` throws an\n    `IndexOutOfBoundsException`\n    ([#4822](https://github.com/google/ExoPlayer/issues/4822)).\n*   Fix bug preventing use of multiple key session support (`multiSession=true`)\n    for non-Widevine `DefaultDrmSessionManager` instances\n    ([#4834](https://github.com/google/ExoPlayer/issues/4834)).\n*   Fix issue where audio and video would desynchronize when playing\n    concatenations of gapless content\n    ([#4559](https://github.com/google/ExoPlayer/issues/4559)).\n*   IMA extension:\n    *   Refine the previous fix for empty ad groups to avoid discarding ad\n        breaks unnecessarily\n        ([#4030](https://github.com/google/ExoPlayer/issues/4030) and\n        [#4280](https://github.com/google/ExoPlayer/issues/4280)).\n    *   Fix handling of empty postrolls\n        ([#4681](https://github.com/google/ExoPlayer/issues/4681)).\n    *   Fix handling of postrolls with multiple ads\n        ([#4710](https://github.com/google/ExoPlayer/issues/4710)).\n*   MediaSession extension:\n    *   Add `MediaSessionConnector.setCustomErrorMessage` to support setting\n        custom error messages.\n    *   Add `MediaMetadataProvider` to support setting custom metadata\n        ([#3497](https://github.com/google/ExoPlayer/issues/3497)).\n*   Cronet extension: Now distributed via jCenter.\n*   FFmpeg extension: Support mu-law and A-law PCM.\n\n### 2.8.4 (2018-08-17)\n\n*   IMA extension: Improve handling of consecutive empty ad groups\n    ([#4030](https://github.com/google/ExoPlayer/issues/4030)),\n    ([#4280](https://github.com/google/ExoPlayer/issues/4280)).\n\n### 2.8.3 (2018-07-23)\n\n*   IMA extension:\n    *   Fix behavior when creating/releasing the player then releasing\n        `ImaAdsLoader`\n        ([#3879](https://github.com/google/ExoPlayer/issues/3879)).\n    *   Add support for setting slots for companion ads.\n*   Captions:\n    *   TTML: Fix an issue with TTML using font size as % of cell resolution\n        that makes `SubtitleView.setApplyEmbeddedFontSizes()` not work\n        correctly. ([#4491](https://github.com/google/ExoPlayer/issues/4491)).\n    *   CEA-608: Improve handling of embedded styles\n        ([#4321](https://github.com/google/ExoPlayer/issues/4321)).\n*   DASH:\n    *   Exclude text streams from duration calculations\n        ([#4029](https://github.com/google/ExoPlayer/issues/4029)).\n    *   Fix freezing when playing multi-period manifests with `EventStream`s\n        ([#4492](https://github.com/google/ExoPlayer/issues/4492)).\n*   DRM: Allow DrmInitData to carry a license server URL\n    ([#3393](https://github.com/google/ExoPlayer/issues/3393)).\n*   MPEG-TS: Fix bug preventing SCTE-35 cues from being output\n    ([#4573](https://github.com/google/ExoPlayer/issues/4573)).\n*   Expose all internal ID3 data stored in MP4 udta boxes, and switch from using\n    CommentFrame to InternalFrame for frames with gapless metadata in MP4.\n*   Add `PlayerView.isControllerVisible`\n    ([#4385](https://github.com/google/ExoPlayer/issues/4385)).\n*   Fix issue playing DRM protected streams on Asus Zenfone 2\n    ([#4403](https://github.com/google/ExoPlayer/issues/4413)).\n*   Add support for multiple audio and video tracks in MPEG-PS streams\n    ([#4406](https://github.com/google/ExoPlayer/issues/4406)).\n*   Add workaround for track index mismatches between trex and tkhd boxes in\n    fragmented MP4 files\n    ([#4477](https://github.com/google/ExoPlayer/issues/4477)).\n*   Add workaround for track index mismatches between tfhd and tkhd boxes in\n    fragmented MP4 files\n    ([#4083](https://github.com/google/ExoPlayer/issues/4083)).\n*   Ignore all MP4 edit lists if one edit list couldn't be handled\n    ([#4348](https://github.com/google/ExoPlayer/issues/4348)).\n*   Fix issue when switching track selection from an embedded track to a primary\n    track in DASH ([#4477](https://github.com/google/ExoPlayer/issues/4477)).\n*   Fix accessibility class name for `DefaultTimeBar`\n    ([#4611](https://github.com/google/ExoPlayer/issues/4611)).\n*   Improved compatibility with FireOS devices.\n\n### 2.8.2 (2018-06-06)\n\n*   IMA extension: Don't advertise support for video/mpeg ad media, as we don't\n    have an extractor for this\n    ([#4297](https://github.com/google/ExoPlayer/issues/4297)).\n*   DASH: Fix playback getting stuck when playing representations that have both\n    sidx atoms and non-zero presentationTimeOffset values.\n*   HLS:\n    *   Allow injection of custom playlist trackers.\n    *   Fix adaptation in live playlists with EXT-X-PROGRAM-DATE-TIME tags.\n*   Mitigate memory leaks when `MediaSource` loads are slow to cancel\n    ([#4249](https://github.com/google/ExoPlayer/issues/4249)).\n*   Fix inconsistent `Player.EventListener` invocations for recursive player\n    state changes ([#4276](https://github.com/google/ExoPlayer/issues/4276)).\n*   Fix `MediaCodec.native_setSurface` crash on Moto C\n    ([#4315](https://github.com/google/ExoPlayer/issues/4315)).\n*   Fix missing whitespace in CEA-608\n    ([#3906](https://github.com/google/ExoPlayer/issues/3906)).\n*   Fix crash downloading HLS media playlists\n    ([#4396](https://github.com/google/ExoPlayer/issues/4396)).\n*   Fix a bug where download cancellation was ignored\n    ([#4403](https://github.com/google/ExoPlayer/issues/4403)).\n*   Set `METADATA_KEY_TITLE` on media descriptions\n    ([#4292](https://github.com/google/ExoPlayer/issues/4292)).\n*   Allow apps to register custom MIME types\n    ([#4264](https://github.com/google/ExoPlayer/issues/4264)).\n\n### 2.8.1 (2018-05-22)\n\n*   HLS:\n    *   Fix playback of livestreams with EXT-X-PROGRAM-DATE-TIME tags\n        ([#4239](https://github.com/google/ExoPlayer/issues/4239)).\n    *   Fix playback of clipped streams starting from non-keyframe positions\n        ([#4241](https://github.com/google/ExoPlayer/issues/4241)).\n*   OkHttp extension: Fix to correctly include response headers in thrown\n    `InvalidResponseCodeException`s.\n*   Add possibility to cancel `PlayerMessage`s.\n*   UI:\n    *   Add `PlayerView.setKeepContentOnPlayerReset` to keep the currently\n        displayed video frame or media artwork visible when the player is reset\n        ([#2843](https://github.com/google/ExoPlayer/issues/2843)).\n*   Fix crash when switching surface on Moto E(4)\n    ([#4134](https://github.com/google/ExoPlayer/issues/4134)).\n*   Fix a bug that could cause event listeners to be called with inconsistent\n    information if an event listener interacted with the player\n    ([#4262](https://github.com/google/ExoPlayer/issues/4262)).\n*   Audio:\n    *   Fix extraction of PCM in MP4/MOV\n        ([#4228](https://github.com/google/ExoPlayer/issues/4228)).\n    *   FLAC: Supports seeking for FLAC files without SEEKTABLE\n        ([#1808](https://github.com/google/ExoPlayer/issues/1808)).\n*   Captions:\n    *   TTML:\n    *   Fix a styling issue when there are multiple regions displayed at the\n        same time that can make text size of each region much smaller than\n        defined.\n    *   Fix an issue when the caption line has no text (empty line or only line\n        break), and the line's background is still displayed.\n    *   Support TTML font size using % correctly (as percentage of document cell\n        resolution).\n\n### 2.8.0 (2018-05-03)\n\n*   Downloading:\n    *   Add `DownloadService`, `DownloadManager` and related classes\n        ([#2643](https://github.com/google/ExoPlayer/issues/2643)). Information\n        on using these components to download progressive formats can be found\n        [here](https://medium.com/google-exoplayer/downloading-streams-6d259eec7f95).\n        To see how to download DASH, HLS and SmoothStreaming media, take a look\n        at the app.\n    *   Updated main demo app to support downloading DASH, HLS, SmoothStreaming\n        and progressive media.\n*   MediaSources:\n    *   Allow reusing media sources after they have been released and also in\n        parallel to allow adding them multiple times to a concatenation.\n        ([#3498](https://github.com/google/ExoPlayer/issues/3498)).\n    *   Merged `DynamicConcatenatingMediaSource` into `ConcatenatingMediaSource`\n        and deprecated `DynamicConcatenatingMediaSource`.\n    *   Allow clipping of child media sources where the period and window have a\n        non-zero offset with `ClippingMediaSource`.\n    *   Allow adding and removing `MediaSourceEventListener`s to MediaSources\n        after they have been created. Listening to events is now supported for\n        all media sources including composite sources.\n    *   Added callbacks to `MediaSourceEventListener` to get notified when media\n        periods are created, released and being read from.\n    *   Support live stream clipping with `ClippingMediaSource`.\n    *   Allow setting tags for all media sources in their factories. The tag of\n        the current window can be retrieved with `Player.getCurrentTag`.\n*   UI:\n    *   Add support for displaying error messages and a buffering spinner in\n        `PlayerView`.\n    *   Add support for listening to `AspectRatioFrameLayout`'s aspect ratio\n        update ([#3736](https://github.com/google/ExoPlayer/issues/3736)).\n    *   Add `PlayerNotificationManager` for displaying notifications reflecting\n        the player state.\n    *   Add `TrackSelectionView` for selecting tracks with\n        `DefaultTrackSelector`.\n    *   Add `TrackNameProvider` for converting track `Format`s to textual\n        descriptions, and `DefaultTrackNameProvider` as a default\n        implementation.\n*   Track selection:\n    *   Reworked `MappingTrackSelector` and `DefaultTrackSelector`.\n    *   `DefaultTrackSelector.Parameters` now implements `Parcelable`.\n    *   Added UI components for track selection (see above).\n*   Audio:\n    *   Support extracting data from AMR container formats, including both\n        narrow and wide band\n        ([#2527](https://github.com/google/ExoPlayer/issues/2527)).\n    *   FLAC:\n    *   Sniff FLAC files correctly if they have ID3 headers\n        ([#4055](https://github.com/google/ExoPlayer/issues/4055)).\n    *   Supports FLAC files with high sample rate (176400 and 192000)\n        ([#3769](https://github.com/google/ExoPlayer/issues/3769)).\n    *   Factor out `AudioTrack` position tracking from `DefaultAudioSink`.\n    *   Fix an issue where the playback position would pause just after playback\n        begins, and poll the audio timestamp less frequently once it starts\n        advancing ([#3841](https://github.com/google/ExoPlayer/issues/3841)).\n    *   Add an option to skip silent audio in `PlaybackParameters`\n        ([#2635](https://github.com/google/ExoPlayer/issues/2635)).\n    *   Fix an issue where playback of TrueHD streams would get stuck after\n        seeking due to not finding a syncframe\n        ([#3845](https://github.com/google/ExoPlayer/issues/3845)).\n    *   Fix an issue with eac3-joc playback where a codec would fail to\n        configure ([#4165](https://github.com/google/ExoPlayer/issues/4165)).\n    *   Handle non-empty end-of-stream buffers, to fix gapless playback of\n        streams with encoder padding when the decoder returns a non-empty final\n        buffer.\n    *   Allow trimming more than one sample when applying an elst audio edit via\n        gapless playback info.\n    *   Allow overriding skipping/scaling with custom `AudioProcessor`s\n        ([#3142](https://github.com/google/ExoPlayer/issues/3142)).\n*   Caching:\n    *   Add release method to the `Cache` interface, and prevent multiple\n        instances of `SimpleCache` using the same folder at the same time.\n    *   Cache redirect URLs\n        ([#2360](https://github.com/google/ExoPlayer/issues/2360)).\n*   DRM:\n    *   Allow multiple listeners for `DefaultDrmSessionManager`.\n    *   Pass `DrmSessionManager` to `ExoPlayerFactory` instead of\n        `RendererFactory`.\n    *   Change minimum API requirement for CBC and pattern encryption from 24 to\n        25 ([#4022](https://github.com/google/ExoPlayer/issues/4022)).\n    *   Fix handling of 307/308 redirects when making license requests\n        ([#4108](https://github.com/google/ExoPlayer/issues/4108)).\n*   HLS:\n    *   Fix playlist loading error propagation when the current selection does\n        not include all of the playlist's variants.\n    *   Fix SAMPLE-AES-CENC and SAMPLE-AES-CTR EXT-X-KEY methods\n        ([#4145](https://github.com/google/ExoPlayer/issues/4145)).\n    *   Preeptively declare an ID3 track in chunkless preparation\n        ([#4016](https://github.com/google/ExoPlayer/issues/4016)).\n    *   Add support for multiple #EXT-X-MAP tags in a media playlist\n        ([#4164](https://github.com/google/ExoPlayer/issues/4182)).\n    *   Fix seeking in live streams\n        ([#4187](https://github.com/google/ExoPlayer/issues/4187)).\n*   IMA extension:\n    *   Allow setting the ad media load timeout\n        ([#3691](https://github.com/google/ExoPlayer/issues/3691)).\n    *   Expose ad load errors via `MediaSourceEventListener` on\n        `AdsMediaSource`, and allow setting an ad event listener on\n        `ImaAdsLoader`. Deprecate the `AdsMediaSource.EventListener`.\n*   Add `AnalyticsListener` interface which can be registered in\n    `SimpleExoPlayer` to receive detailed metadata for each ExoPlayer event.\n*   Optimize seeking in FMP4 by enabling seeking to the nearest sync sample\n    within a fragment. This benefits standalone FMP4 playbacks, DASH and\n    SmoothStreaming.\n*   Updated default max buffer length in `DefaultLoadControl`.\n*   Fix ClearKey decryption error if the key contains a forward slash\n    ([#4075](https://github.com/google/ExoPlayer/issues/4075)).\n*   Fix crash when switching surface on Huawei P9 Lite\n    ([#4084](https://github.com/google/ExoPlayer/issues/4084)), and Philips\n    QM163E ([#4104](https://github.com/google/ExoPlayer/issues/4104)).\n*   Support ZLIB compressed PGS subtitles.\n*   Added `getPlaybackError` to `Player` interface.\n*   Moved initial bitrate estimate from `AdaptiveTrackSelection` to\n    `DefaultBandwidthMeter`.\n*   Removed default renderer time offset of 60000000 from internal player. The\n    actual renderer timestamp offset can be obtained by listening to\n    `BaseRenderer.onStreamChanged`.\n*   Added dependencies on checkerframework annotations for static code analysis.\n\n### 2.7.3 (2018-04-04)\n\n*   Fix ProGuard configuration for Cast, IMA and OkHttp extensions.\n*   Update OkHttp extension to depend on OkHttp 3.10.0.\n\n### 2.7.2 (2018-03-29)\n\n*   Gradle: Upgrade Gradle version from 4.1 to 4.4 so it can work with Android\n    Studio 3.1 ([#3708](https://github.com/google/ExoPlayer/issues/3708)).\n*   Match codecs starting with \"mp4a\" to different Audio MimeTypes\n    ([#3779](https://github.com/google/ExoPlayer/issues/3779)).\n*   Fix ANR issue on Redmi 4X and Redmi Note 4\n    ([#4006](https://github.com/google/ExoPlayer/issues/4006)).\n*   Fix handling of zero padded strings when parsing Matroska streams\n    ([#4010](https://github.com/google/ExoPlayer/issues/4010)).\n*   Fix \"Decoder input buffer too small\" error when playing some FLAC streams.\n*   MediaSession extension: Omit fast forward and rewind actions when media is\n    not seekable ([#4001](https://github.com/google/ExoPlayer/issues/4001)).\n\n### 2.7.1 (2018-03-09)\n\n*   Gradle: Replaced 'compile' (deprecated) with 'implementation' and 'api'.\n    This may lead to build breakage for applications upgrading from previous\n    version that rely on indirect dependencies of certain modules. In such\n    cases, application developers need to add the missing dependency to their\n    gradle file. You can read more about the new dependency configurations\n    [here](https://developer.android.com/studio/build/gradle-plugin-3-0-0-migration.html#new_configurations).\n*   HlsMediaSource: Make HLS periods start at zero instead of the epoch.\n    Applications that rely on HLS timelines having a period starting at the\n    epoch will need to update their handling of HLS timelines. The program date\n    time is still available via the informational\n    `Timeline.Window.windowStartTimeMs` field\n    ([#3865](https://github.com/google/ExoPlayer/issues/3865),\n    [#3888](https://github.com/google/ExoPlayer/issues/3888)).\n*   Enable seeking in MP4 streams where duration is set incorrectly in the track\n    header ([#3926](https://github.com/google/ExoPlayer/issues/3926)).\n*   Video: Force rendering a frame periodically in `MediaCodecVideoRenderer` and\n    `LibvpxVideoRenderer`, even if it is late.\n\n### 2.7.0 (2018-02-19)\n\n*   Player interface:\n    *   Add optional parameter to `stop` to reset the player when stopping.\n    *   Add a reason to `EventListener.onTimelineChanged` to distinguish between\n        initial preparation, reset and dynamic updates.\n    *   Add `Player.DISCONTINUITY_REASON_AD_INSERTION` to the possible reasons\n        reported in `Eventlistener.onPositionDiscontinuity` to distinguish\n        transitions to and from ads within one period from transitions between\n        periods.\n    *   Replaced `ExoPlayer.sendMessages` with `ExoPlayer.createMessage` to\n        allow more customization of the message. Now supports setting a message\n        delivery playback position and/or a delivery handler\n        ([#2189](https://github.com/google/ExoPlayer/issues/2189)).\n    *   Add `Player.VideoComponent`, `Player.TextComponent` and\n        `Player.MetadataComponent` interfaces that define optional video, text\n        and metadata output functionality. New `getVideoComponent`,\n        `getTextComponent` and `getMetadataComponent` methods provide access to\n        this functionality.\n*   Add `ExoPlayer.setSeekParameters` for controlling how seek operations are\n    performed. The `SeekParameters` class contains defaults for exact seeking\n    and seeking to the closest sync points before, either side or after\n    specified seek positions. `SeekParameters` are not currently supported when\n    playing HLS streams.\n*   DefaultTrackSelector:\n    *   Replace `DefaultTrackSelector.Parameters` copy methods with a builder.\n    *   Support disabling of individual text track selection flags.\n*   Buffering:\n    *   Allow a back-buffer of media to be retained behind the current playback\n        position, for fast backward seeking. The back-buffer can be configured\n        by custom `LoadControl` implementations.\n    *   Add ability for `SequenceableLoader` to re-evaluate its buffer and\n        discard buffered media so that it can be re-buffered in a different\n        quality.\n    *   Allow more flexible loading strategy when playing media containing\n        multiple sub-streams, by allowing injection of custom\n        `CompositeSequenceableLoader` factories through\n        `DashMediaSource.Factory`, `HlsMediaSource.Factory`,\n        `SsMediaSource.Factory`, and `MergingMediaSource`.\n    *   Play out existing buffer before retrying for progressive live streams\n        ([#1606](https://github.com/google/ExoPlayer/issues/1606)).\n*   UI:\n    *   Generalized player and control views to allow them to bind with any\n        `Player`, and renamed them to `PlayerView` and `PlayerControlView`\n        respectively.\n    *   Made `PlayerView` automatically apply video rotation when configured to\n        use `TextureView`\n        ([#91](https://github.com/google/ExoPlayer/issues/91)).\n    *   Made `PlayerView` play button behave correctly when the player is ended\n        ([#3689](https://github.com/google/ExoPlayer/issues/3689)), and call a\n        `PlaybackPreparer` when the player is idle.\n*   DRM: Optimistically attempt playback of DRM protected content that does not\n    declare scheme specific init data in the manifest. If playback of clear\n    samples without keys is allowed, delay DRM session error propagation until\n    keys are actually needed\n    ([#3630](https://github.com/google/ExoPlayer/issues/3630)).\n*   DASH:\n    *   Support in-band Emsg events targeting the player with scheme id\n        `urn:mpeg:dash:event:2012` and scheme values \"1\", \"2\" and \"3\".\n    *   Support EventStream elements in DASH manifests.\n*   HLS:\n    *   Add opt-in support for chunkless preparation in HLS. This allows an HLS\n        source to finish preparation without downloading any chunks, which can\n        significantly reduce initial buffering time\n        ([#3149](https://github.com/google/ExoPlayer/issues/3149)). More details\n        can be found\n        [here](https://medium.com/google-exoplayer/faster-hls-preparation-f6611aa15ea6).\n    *   Fail if unable to sync with the Transport Stream, rather than entering\n        stuck in an indefinite buffering state.\n    *   Fix mime type propagation\n        ([#3653](https://github.com/google/ExoPlayer/issues/3653)).\n    *   Fix ID3 context reuse across segment format changes\n        ([#3622](https://github.com/google/ExoPlayer/issues/3622)).\n    *   Use long for media sequence numbers\n        ([#3747](https://github.com/google/ExoPlayer/issues/3747))\n    *   Add initial support for the EXT-X-GAP tag.\n*   Audio:\n    *   Support TrueHD passthrough for rechunked samples in Matroska files\n        ([#2147](https://github.com/google/ExoPlayer/issues/2147)).\n    *   Support resampling 24-bit and 32-bit integer to 32-bit float for high\n        resolution output in `DefaultAudioSink`\n        ([#3635](https://github.com/google/ExoPlayer/pull/3635)).\n*   Captions:\n    *   Basic support for PGS subtitles\n        ([#3008](https://github.com/google/ExoPlayer/issues/3008)).\n    *   Fix handling of CEA-608 captions where multiple buffers have the same\n        presentation timestamp\n        ([#3782](https://github.com/google/ExoPlayer/issues/3782)).\n*   Caching:\n    *   Fix cache corruption issue\n        ([#3762](https://github.com/google/ExoPlayer/issues/3762)).\n    *   Implement periodic check in `CacheDataSource` to see whether it's\n        possible to switch to reading/writing the cache having initially\n        bypassed it.\n*   IMA extension:\n    *   Fix the player getting stuck when an ad group fails to load\n        ([#3584](https://github.com/google/ExoPlayer/issues/3584)).\n    *   Work around loadAd not being called beore the LOADED AdEvent arrives\n        ([#3552](https://github.com/google/ExoPlayer/issues/3552)).\n    *   Handle asset mismatch errors\n        ([#3801](https://github.com/google/ExoPlayer/issues/3801)).\n    *   Add support for playing non-Extractor content MediaSources in the IMA\n        demo app ([#3676](https://github.com/google/ExoPlayer/issues/3676)).\n    *   Fix handling of ad tags where ad groups are out of order\n        ([#3716](https://github.com/google/ExoPlayer/issues/3716)).\n    *   Fix handling of ad tags with only preroll/postroll ad groups\n        ([#3715](https://github.com/google/ExoPlayer/issues/3715)).\n    *   Propagate ad media preparation errors to IMA so that the ads can be\n        skipped.\n    *   Handle exceptions in IMA callbacks so that can be logged less verbosely.\n*   New Cast extension. Simplifies toggling between local and Cast playbacks.\n*   `EventLogger` moved from the demo app into the core library.\n*   Fix ANR issue on the Huawei P8 Lite, Huawei Y6II, Moto C+, Meizu M5C, Lenovo\n    K4 Note and Sony Xperia E5.\n    ([#3724](https://github.com/google/ExoPlayer/issues/3724),\n    [#3835](https://github.com/google/ExoPlayer/issues/3835)).\n*   Fix potential NPE when removing media sources from a\n    DynamicConcatenatingMediaSource\n    ([#3796](https://github.com/google/ExoPlayer/issues/3796)).\n*   Check `sys.display-size` on Philips ATVs\n    ([#3807](https://github.com/google/ExoPlayer/issues/3807)).\n*   Release `Extractor`s on the loading thread to avoid potentially leaking\n    resources when the playback thread has quit by the time the loading task has\n    completed.\n*   ID3: Better handle malformed ID3 data\n    ([#3792](https://github.com/google/ExoPlayer/issues/3792)).\n*   Support 14-bit mode and little endianness in DTS PES packets\n    ([#3340](https://github.com/google/ExoPlayer/issues/3340)).\n*   Demo app: Add ability to download not DRM protected content.\n\n### 2.6.1 (2017-12-15)\n\n*   Add factories to `ExtractorMediaSource`, `HlsMediaSource`, `SsMediaSource`,\n    `DashMediaSource` and `SingleSampleMediaSource`.\n*   Use the same listener `MediaSourceEventListener` for all MediaSource\n    implementations.\n*   IMA extension:\n    *   Support non-ExtractorMediaSource ads\n        ([#3302](https://github.com/google/ExoPlayer/issues/3302)).\n    *   Skip ads before the ad preceding the player's initial seek position\n        ([#3527](https://github.com/google/ExoPlayer/issues/3527)).\n    *   Fix ad loading when there is no preroll.\n    *   Add an option to turn off hiding controls during ad playback\n        ([#3532](https://github.com/google/ExoPlayer/issues/3532)).\n    *   Support specifying an ads response instead of an ad tag\n        ([#3548](https://github.com/google/ExoPlayer/issues/3548)).\n    *   Support overriding the ad load timeout\n        ([#3556](https://github.com/google/ExoPlayer/issues/3556)).\n*   DASH: Support time zone designators in ISO8601 UTCTiming elements\n    ([#3524](https://github.com/google/ExoPlayer/issues/3524)).\n*   Audio:\n    *   Support 32-bit PCM float output from `DefaultAudioSink`, and add an\n        option to use this with `FfmpegAudioRenderer`.\n    *   Add support for extracting 32-bit WAVE files\n        ([#3379](https://github.com/google/ExoPlayer/issues/3379)).\n    *   Support extraction and decoding of Dolby Atmos\n        ([#2465](https://github.com/google/ExoPlayer/issues/2465)).\n    *   Fix handling of playback parameter changes while paused when followed by\n        a seek.\n*   SimpleExoPlayer: Allow multiple audio and video debug listeners.\n*   DefaultTrackSelector: Support undefined language text track selection when\n    the preferred language is not available\n    ([#2980](https://github.com/google/ExoPlayer/issues/2980)).\n*   Add options to `DefaultLoadControl` to set maximum buffer size in bytes and\n    to choose whether size or time constraints are prioritized.\n*   Use surfaceless context for secure `DummySurface`, if available\n    ([#3558](https://github.com/google/ExoPlayer/issues/3558)).\n*   FLV: Fix playback of live streams that do not contain an audio track\n    ([#3188](https://github.com/google/ExoPlayer/issues/3188)).\n*   CEA-608: Fix handling of row count changes in roll-up mode\n    ([#3513](https://github.com/google/ExoPlayer/issues/3513)).\n*   Prevent period transitions when seeking to the end of a period when paused\n    ([#2439](https://github.com/google/ExoPlayer/issues/2439)).\n\n### 2.6.0 (2017-11-03)\n\n*   Removed \"r\" prefix from versions. This release is \"2.6.0\", not \"r2.6.0\".\n*   New `Player.DefaultEventListener` abstract class can be extended to avoid\n    having to implement all methods defined by `Player.EventListener`.\n*   Added a reason to `EventListener.onPositionDiscontinuity`\n    ([#3252](https://github.com/google/ExoPlayer/issues/3252)).\n*   New `setShuffleModeEnabled` method for enabling shuffled playback.\n*   SimpleExoPlayer: Support for multiple video, text and metadata outputs.\n*   Support for `Renderer`s that don't consume any media\n    ([#3212](https://github.com/google/ExoPlayer/issues/3212)).\n*   Fix reporting of internal position discontinuities via\n    `Player.onPositionDiscontinuity`. `DISCONTINUITY_REASON_SEEK_ADJUSTMENT` is\n    added to disambiguate position adjustments during seeks from other types of\n    internal position discontinuity.\n*   Fix potential `IndexOutOfBoundsException` when calling\n    `ExoPlayer.getDuration`\n    ([#3362](https://github.com/google/ExoPlayer/issues/3362)).\n*   Fix playbacks involving looping, concatenation and ads getting stuck when\n    media contains tracks with uneven durations\n    ([#1874](https://github.com/google/ExoPlayer/issues/1874)).\n*   Fix issue with `ContentDataSource` when reading from certain\n    `ContentProvider` implementations\n    ([#3426](https://github.com/google/ExoPlayer/issues/3426)).\n*   Better playback experience when the video decoder cannot keep up, by\n    skipping to key-frames. This is particularly relevant for variable speed\n    playbacks.\n*   Allow `SingleSampleMediaSource` to suppress load errors\n    ([#3140](https://github.com/google/ExoPlayer/issues/3140)).\n*   `DynamicConcatenatingMediaSource`: Allow specifying a callback to be invoked\n    after a dynamic playlist modification has been applied\n    ([#3407](https://github.com/google/ExoPlayer/issues/3407)).\n*   Audio: New `AudioSink` interface allows customization of audio output path.\n*   Offline: Added `Downloader` implementations for DASH, HLS, SmoothStreaming\n    and progressive streams.\n*   Track selection:\n    *   Fixed adaptive track selection logic for live playbacks\n        ([#3017](https://github.com/google/ExoPlayer/issues/3017)).\n    *   Added ability to select the lowest bitrate tracks.\n*   DASH:\n    *   Don't crash when a malformed or unexpected manifest update occurs\n        ([#2795](https://github.com/google/ExoPlayer/issues/2795)).\n*   HLS:\n    *   Support for Widevine protected FMP4 variants.\n    *   Support CEA-608 in FMP4 variants.\n    *   Support extractor injection\n        ([#2748](https://github.com/google/ExoPlayer/issues/2748)).\n*   DRM:\n    *   Improved compatibility with ClearKey content\n        ([#3138](https://github.com/google/ExoPlayer/issues/3138)).\n    *   Support multiple PSSH boxes of the same type.\n    *   Retry initial provisioning and key requests if they fail\n    *   Fix incorrect parsing of non-CENC sinf boxes.\n*   IMA extension:\n    *   Expose `AdsLoader` via getter\n        ([#3322](https://github.com/google/ExoPlayer/issues/3322)).\n    *   Handle `setPlayWhenReady` calls during ad playbacks\n        ([#3303](https://github.com/google/ExoPlayer/issues/3303)).\n    *   Ignore seeks if an ad is playing\n        ([#3309](https://github.com/google/ExoPlayer/issues/3309)).\n    *   Improve robustness of `ImaAdsLoader` in case content is not paused\n        between content to ad transitions\n        ([#3430](https://github.com/google/ExoPlayer/issues/3430)).\n*   UI:\n    *   Allow specifying a `Drawable` for the `TimeBar` scrubber\n        ([#3337](https://github.com/google/ExoPlayer/issues/3337)).\n    *   Allow multiple listeners on `TimeBar`\n        ([#3406](https://github.com/google/ExoPlayer/issues/3406)).\n*   New Leanback extension: Simplifies binding Exoplayer to Leanback UI\n    components.\n*   Unit tests moved to Robolectric.\n*   Misc bugfixes.\n\n### r2.5.4 (2017-10-19)\n\n*   Remove unnecessary media playlist fetches during playback of live HLS\n    streams.\n*   Add the ability to inject a HLS playlist parser through `HlsMediaSource`.\n*   Fix potential `IndexOutOfBoundsException` when using `ImaMediaSource`\n    ([#3334](https://github.com/google/ExoPlayer/issues/3334)).\n*   Fix an issue parsing MP4 content containing non-CENC sinf boxes.\n*   Fix memory leak when seeking with repeated periods.\n*   Fix playback position when `ExoPlayer.prepare` is called with\n    `resetPosition` set to false.\n*   Ignore MP4 edit lists that seem invalid\n    ([#3351](https://github.com/google/ExoPlayer/issues/3351)).\n*   Add extractor flag for ignoring all MP4 edit lists\n    ([#3358](https://github.com/google/ExoPlayer/issues/3358)).\n*   Improve extensibility by exposing public constructors for\n    `FrameworkMediaCrypto` and by making `DefaultDashChunkSource.getNextChunk`\n    non-final.\n\n### r2.5.3 (2017-09-20)\n\n*   IMA extension: Support skipping of skippable ads on AndroidTV and other\n    non-touch devices\n    ([#3258](https://github.com/google/ExoPlayer/issues/3258)).\n*   HLS: Fix broken WebVTT captions when PTS wraps around\n    ([#2928](https://github.com/google/ExoPlayer/issues/2928)).\n*   Captions: Fix issues rendering CEA-608 captions\n    ([#3250](https://github.com/google/ExoPlayer/issues/3250)).\n*   Workaround broken AAC decoders on Galaxy S6\n    ([#3249](https://github.com/google/ExoPlayer/issues/3249)).\n*   Caching: Fix infinite loop when cache eviction fails\n    ([#3260](https://github.com/google/ExoPlayer/issues/3260)).\n*   Caching: Force use of BouncyCastle on JellyBean to fix decryption issue\n    ([#2755](https://github.com/google/ExoPlayer/issues/2755)).\n\n### r2.5.2 (2017-09-11)\n\n*   IMA extension: Fix issue where ad playback could end prematurely for some\n    content types ([#3180](https://github.com/google/ExoPlayer/issues/3180)).\n*   RTMP extension: Fix SIGABRT on fast RTMP stream restart\n    ([#3156](https://github.com/google/ExoPlayer/issues/3156)).\n*   UI: Allow app to manually specify ad markers\n    ([#3184](https://github.com/google/ExoPlayer/issues/3184)).\n*   DASH: Expose segment indices to subclasses of DefaultDashChunkSource\n    ([#3037](https://github.com/google/ExoPlayer/issues/3037)).\n*   Captions: Added robustness against malformed WebVTT captions\n    ([#3228](https://github.com/google/ExoPlayer/issues/3228)).\n*   DRM: Support forcing a specific license URL.\n*   Fix playback error when seeking in media loaded through content:// URIs\n    ([#3216](https://github.com/google/ExoPlayer/issues/3216)).\n*   Fix issue playing MP4s in which the last atom specifies a size of zero\n    ([#3191](https://github.com/google/ExoPlayer/issues/3191)).\n*   Workaround playback failures on some Xiaomi devices\n    ([#3171](https://github.com/google/ExoPlayer/issues/3171)).\n*   Workaround SIGSEGV issue on some devices when setting and swapping surface\n    for secure playbacks\n    ([#3215](https://github.com/google/ExoPlayer/issues/3215)).\n*   Workaround for Nexus 7 issue when swapping output surface\n    ([#3236](https://github.com/google/ExoPlayer/issues/3236)).\n*   Workaround for SimpleExoPlayerView's surface not being hidden properly\n    ([#3160](https://github.com/google/ExoPlayer/issues/3160)).\n\n### r2.5.1 (2017-08-08)\n\n*   Fix an issue that could cause the reported playback position to stop\n    advancing in some cases.\n*   Fix an issue where a Surface could be released whilst still in use by the\n    player.\n\n### r2.5.0 (2017-08-07)\n\n*   IMA extension: Wraps the Google Interactive Media Ads (IMA) SDK to provide\n    an easy and seamless way of incorporating display ads into ExoPlayer\n    playbacks. You can read more about the IMA extension\n    [here](https://medium.com/google-exoplayer/playing-ads-with-exoplayer-and-ima-868dfd767ea).\n*   MediaSession extension: Provides an easy way to connect ExoPlayer with\n    MediaSessionCompat in the Android Support Library.\n*   RTMP extension: An extension for playing streams over RTMP.\n*   Build: Made it easier for application developers to depend on a local\n    checkout of ExoPlayer. You can learn how to do this\n    [here](https://medium.com/google-exoplayer/howto-2-depend-on-a-local-checkout-of-exoplayer-bcd7f8531720).\n*   Core playback improvements:\n    *   Eliminated re-buffering when changing audio and text track selections\n        during playback of progressive streams\n        ([#2926](https://github.com/google/ExoPlayer/issues/2926)).\n    *   New DynamicConcatenatingMediaSource class to support playback of dynamic\n        playlists.\n    *   New ExoPlayer.setRepeatMode method for dynamic toggling of repeat mode\n        during playback. Use of setRepeatMode should be preferred to\n        LoopingMediaSource for most looping use cases. You can read more about\n        setRepeatMode\n        [here](https://medium.com/google-exoplayer/repeat-modes-in-exoplayer-19dd85f036d3).\n    *   Eliminated jank when switching video playback from one Surface to\n        another on API level 23+ for unencrypted content, and on devices that\n        support the EGL_EXT_protected_content OpenGL extension for protected\n        content ([#677](https://github.com/google/ExoPlayer/issues/677)).\n    *   Enabled ExoPlayer instantiation on background threads without Loopers.\n        Events from such players are delivered on the application's main thread.\n*   HLS improvements:\n    *   Optimized adaptive switches for playlists that specify the\n        EXT-X-INDEPENDENT-SEGMENTS tag.\n    *   Optimized in-buffer seeking\n        ([#551](https://github.com/google/ExoPlayer/issues/551)).\n    *   Eliminated re-buffering when changing audio and text track selections\n        during playback, provided the new selection does not require switching\n        to different renditions\n        ([#2718](https://github.com/google/ExoPlayer/issues/2718)).\n    *   Exposed all media playlist tags in ExoPlayer's MediaPlaylist object.\n*   DASH: Support for seamless switching across streams in different\n    AdaptationSet elements\n    ([#2431](https://github.com/google/ExoPlayer/issues/2431)).\n*   DRM: Support for additional crypto schemes (cbc1, cbcs and cens) on API\n    level 24+ ([#1989](https://github.com/google/ExoPlayer/issues/1989)).\n*   Captions: Initial support for SSA/ASS subtitles\n    ([#889](https://github.com/google/ExoPlayer/issues/889)).\n*   AndroidTV: Fixed issue where tunneled video playback would not start on some\n    devices ([#2985](https://github.com/google/ExoPlayer/issues/2985)).\n*   MPEG-TS: Fixed segmentation issue when parsing H262\n    ([#2891](https://github.com/google/ExoPlayer/issues/2891)).\n*   Cronet extension: Support for a user-defined fallback if Cronet library is\n    not present.\n*   Fix buffer too small IllegalStateException issue affecting some composite\n    media playbacks ([#2900](https://github.com/google/ExoPlayer/issues/2900)).\n*   Misc bugfixes.\n\n### r2.4.4 (2017-07-19)\n\n*   HLS/MPEG-TS: Some initial optimizations of MPEG-TS extractor performance\n    ([#3040](https://github.com/google/ExoPlayer/issues/3040)).\n*   HLS: Fix propagation of format identifier for CEA-608\n    ([#3033](https://github.com/google/ExoPlayer/issues/3033)).\n*   HLS: Detect playlist stuck and reset conditions\n    ([#2872](https://github.com/google/ExoPlayer/issues/2872)).\n*   Video: Fix video dimension reporting on some devices\n    ([#3007](https://github.com/google/ExoPlayer/issues/3007)).\n\n### r2.4.3 (2017-06-30)\n\n*   Audio: Workaround custom audio decoders misreporting their maximum supported\n    channel counts ([#2940](https://github.com/google/ExoPlayer/issues/2940)).\n*   Audio: Workaround for broken MediaTek raw decoder on some devices\n    ([#2873](https://github.com/google/ExoPlayer/issues/2873)).\n*   Captions: Fix TTML captions appearing at the top of the screen\n    ([#2953](https://github.com/google/ExoPlayer/issues/2953)).\n*   Captions: Fix handling of some DVB subtitles\n    ([#2957](https://github.com/google/ExoPlayer/issues/2957)).\n*   Track selection: Fix setSelectionOverride(index, tracks, null)\n    ([#2988](https://github.com/google/ExoPlayer/issues/2988)).\n*   GVR extension: Add support for mono input\n    ([#2710](https://github.com/google/ExoPlayer/issues/2710)).\n*   FLAC extension: Fix failing build\n    ([#2977](https://github.com/google/ExoPlayer/pull/2977)).\n*   Misc bugfixes.\n\n### r2.4.2 (2017-06-06)\n\n*   Stability: Work around Nexus 10 reboot when playing certain content\n    ([#2806](https://github.com/google/ExoPlayer/issues/2806)).\n*   MP3: Correctly treat MP3s with INFO headers as constant bitrate\n    ([#2895](https://github.com/google/ExoPlayer/issues/2895)).\n*   HLS: Use average rather than peak bandwidth when available\n    ([#2863](https://github.com/google/ExoPlayer/issues/2863)).\n*   SmoothStreaming: Fix timeline for live streams\n    ([#2760](https://github.com/google/ExoPlayer/issues/2760)).\n*   UI: Fix DefaultTimeBar invalidation\n    ([#2871](https://github.com/google/ExoPlayer/issues/2871)).\n*   Misc bugfixes.\n\n### r2.4.1 (2017-05-23)\n\n*   Stability: Avoid OutOfMemoryError in extractors when parsing malformed media\n    ([#2780](https://github.com/google/ExoPlayer/issues/2780)).\n*   Stability: Avoid native crash on Galaxy Nexus. Avoid unnecessarily large\n    codec input buffer allocations on all devices\n    ([#2607](https://github.com/google/ExoPlayer/issues/2607)).\n*   Variable speed playback: Fix interpolation for rate/pitch adjustment\n    ([#2774](https://github.com/google/ExoPlayer/issues/2774)).\n*   HLS: Include EXT-X-DATERANGE tags in HlsMediaPlaylist.\n*   HLS: Don't expose CEA-608 track if CLOSED-CAPTIONS=NONE\n    ([#2743](https://github.com/google/ExoPlayer/issues/2743)).\n*   HLS: Correctly propagate errors loading the media playlist\n    ([#2623](https://github.com/google/ExoPlayer/issues/2623)).\n*   UI: DefaultTimeBar enhancements and bug fixes\n    ([#2740](https://github.com/google/ExoPlayer/issues/2740)).\n*   Ogg: Fix failure to play some Ogg files\n    ([#2782](https://github.com/google/ExoPlayer/issues/2782)).\n*   Captions: Don't select text tack with no language by default.\n*   Captions: TTML positioning fixes\n    ([#2824](https://github.com/google/ExoPlayer/issues/2824)).\n*   Misc bugfixes.\n\n### r2.4.0 (2017-04-25)\n\n*   New modular library structure. You can read more about depending on\n    individual library modules\n    [here](https://medium.com/google-exoplayer/exoplayers-new-modular-structure-a916c0874907).\n*   Variable speed playback support on API level 16+. You can read more about\n    changing the playback speed\n    [here](https://medium.com/google-exoplayer/variable-speed-playback-with-exoplayer-e6e6a71e0343)\n    ([#26](https://github.com/google/ExoPlayer/issues/26)).\n*   New time bar view, including support for displaying ad break markers.\n*   Support DVB subtitles in MPEG-TS and MKV.\n*   Support adaptive playback for audio only DASH, HLS and SmoothStreaming\n    ([#1975](https://github.com/google/ExoPlayer/issues/1975)).\n*   Support for setting extractor flags on DefaultExtractorsFactory\n    ([#2657](https://github.com/google/ExoPlayer/issues/2657)).\n*   Support injecting custom renderers into SimpleExoPlayer using a new\n    RenderersFactory interface.\n*   Correctly set ExoPlayer's internal thread priority to\n    `THREAD_PRIORITY_AUDIO`.\n*   TX3G: Support styling and positioning.\n*   FLV:\n    *   Support MP3 in FLV.\n    *   Skip unhandled metadata rather than failing\n        ([#2634](https://github.com/google/ExoPlayer/issues/2634)).\n    *   Fix potential OutOfMemory errors.\n*   ID3: Better handle malformed ID3 data\n    ([#2604](https://github.com/google/ExoPlayer/issues/2604),\n    [#2663](https://github.com/google/ExoPlayer/issues/2663)).\n*   FFmpeg extension: Fixed build instructions\n    ([#2561](https://github.com/google/ExoPlayer/issues/2561)).\n*   VP9 extension: Reduced binary size.\n*   FLAC extension: Enabled 64 bit targets.\n*   Misc bugfixes.\n\n### r2.3.1 (2017-03-23)\n\n*   Fix NPE enabling WebVTT subtitles in DASH streams\n    ([#2596](https://github.com/google/ExoPlayer/issues/2596)).\n*   Fix skipping to keyframes when MediaCodecVideoRenderer is enabled but\n    without a Surface\n    ([#2575](https://github.com/google/ExoPlayer/issues/2575)).\n*   Minor fix for CEA-708 decoder\n    ([#2595](https://github.com/google/ExoPlayer/issues/2595)).\n\n### r2.3.0 (2017-03-16)\n\n*   GVR extension: Wraps the Google VR Audio SDK to provide spatial audio\n    rendering. You can read more about the GVR extension\n    [here](https://medium.com/google-exoplayer/spatial-audio-with-exoplayer-and-gvr-cecb00e9da5f#.xdjebjd7g).\n*   DASH improvements:\n    *   Support embedded CEA-608 closed captions\n        ([#2362](https://github.com/google/ExoPlayer/issues/2362)).\n    *   Support embedded EMSG events\n        ([#2176](https://github.com/google/ExoPlayer/issues/2176)).\n    *   Support mspr:pro manifest element\n        ([#2386](https://github.com/google/ExoPlayer/issues/2386)).\n    *   Correct handling of empty segment indices at the start of live events\n        ([#1865](https://github.com/google/ExoPlayer/issues/1865)).\n*   HLS improvements:\n    *   Respect initial track selection\n        ([#2353](https://github.com/google/ExoPlayer/issues/2353)).\n    *   Reduced frequency of media playlist requests when playback position is\n        close to the live edge\n        ([#2548](https://github.com/google/ExoPlayer/issues/2548)).\n    *   Exposed the master playlist through ExoPlayer.getCurrentManifest()\n        ([#2537](https://github.com/google/ExoPlayer/issues/2537)).\n    *   Support CLOSED-CAPTIONS #EXT-X-MEDIA type\n        ([#341](https://github.com/google/ExoPlayer/issues/341)).\n    *   Fixed handling of negative values in #EXT-X-SUPPORT\n        ([#2495](https://github.com/google/ExoPlayer/issues/2495)).\n    *   Fixed potential endless buffering state for streams with WebVTT\n        subtitles ([#2424](https://github.com/google/ExoPlayer/issues/2424)).\n*   MPEG-TS improvements:\n    *   Support for multiple programs.\n    *   Support for multiple closed captions and caption service descriptors\n        ([#2161](https://github.com/google/ExoPlayer/issues/2161)).\n*   MP3: Add `FLAG_ENABLE_CONSTANT_BITRATE_SEEKING` extractor option to enable\n    constant bitrate seeking in MP3 files that would otherwise be unseekable\n    ([#2445](https://github.com/google/ExoPlayer/issues/2445)).\n*   ID3: Better handle malformed ID3 data\n    ([#2486](https://github.com/google/ExoPlayer/issues/2486)).\n*   Track selection: Added maxVideoBitrate parameter to DefaultTrackSelector.\n*   DRM: Add support for CENC ClearKey on API level 21+\n    ([#2361](https://github.com/google/ExoPlayer/issues/2361)).\n*   DRM: Support dynamic setting of key request headers\n    ([#1924](https://github.com/google/ExoPlayer/issues/1924)).\n*   SmoothStreaming: Fixed handling of start_time placeholder\n    ([#2447](https://github.com/google/ExoPlayer/issues/2447)).\n*   FLAC extension: Fix proguard configuration\n    ([#2427](https://github.com/google/ExoPlayer/issues/2427)).\n*   Misc bugfixes.\n\n### r2.2.0 (2017-01-30)\n\n*   Demo app: Automatic recovery from BehindLiveWindowException, plus improved\n    handling of pausing and resuming live streams\n    ([#2344](https://github.com/google/ExoPlayer/issues/2344)).\n*   AndroidTV: Added Support for tunneled video playback\n    ([#1688](https://github.com/google/ExoPlayer/issues/1688)).\n*   DRM: Renamed StreamingDrmSessionManager to DefaultDrmSessionManager and\n    added support for using offline licenses\n    ([#876](https://github.com/google/ExoPlayer/issues/876)).\n*   DRM: Introduce OfflineLicenseHelper to help with offline license\n    acquisition, renewal and release.\n*   UI: Updated player control assets. Added vector drawables for use on API\n    level 21 and above.\n*   UI: Made player control seek bar work correctly with key events if focusable\n    ([#2278](https://github.com/google/ExoPlayer/issues/2278)).\n*   HLS: Improved support for streams that use EXT-X-DISCONTINUITY without\n    EXT-X-DISCONTINUITY-SEQUENCE\n    ([#1789](https://github.com/google/ExoPlayer/issues/1789)).\n*   HLS: Support for EXT-X-START tag\n    ([#1544](https://github.com/google/ExoPlayer/issues/1544)).\n*   HLS: Check #EXTM3U header is present when parsing the playlist. Fail\n    gracefully if not\n    ([#2301](https://github.com/google/ExoPlayer/issues/2301)).\n*   HLS: Fix memory leak\n    ([#2319](https://github.com/google/ExoPlayer/issues/2319)).\n*   HLS: Fix non-seamless first adaptation where master playlist omits\n    resolution tags ([#2096](https://github.com/google/ExoPlayer/issues/2096)).\n*   HLS: Fix handling of WebVTT subtitle renditions with non-standard segment\n    file extensions ([#2025](https://github.com/google/ExoPlayer/issues/2025)\n    and [#2355](https://github.com/google/ExoPlayer/issues/2355)).\n*   HLS: Better handle inconsistent HLS playlist update\n    ([#2249](https://github.com/google/ExoPlayer/issues/2249)).\n*   DASH: Don't overflow when dealing with large segment numbers\n    ([#2311](https://github.com/google/ExoPlayer/issues/2311)).\n*   DASH: Fix propagation of language from the manifest\n    ([#2335](https://github.com/google/ExoPlayer/issues/2335)).\n*   SmoothStreaming: Work around \"Offset to sample data was negative\" failures\n    ([#2292](https://github.com/google/ExoPlayer/issues/2292),\n    [#2101](https://github.com/google/ExoPlayer/issues/2101) and\n    [#1152](https://github.com/google/ExoPlayer/issues/1152)).\n*   MP3/ID3: Added support for parsing Chapter and URL link frames\n    ([#2316](https://github.com/google/ExoPlayer/issues/2316)).\n*   MP3/ID3: Handle ID3 frames that end with empty text field\n    ([#2309](https://github.com/google/ExoPlayer/issues/2309)).\n*   Added ClippingMediaSource for playing clipped portions of media\n    ([#1988](https://github.com/google/ExoPlayer/issues/1988)).\n*   Added convenience methods to query whether the current window is dynamic and\n    seekable ([#2320](https://github.com/google/ExoPlayer/issues/2320)).\n*   Support setting of default headers on HttpDataSource.Factory implementations\n    ([#2166](https://github.com/google/ExoPlayer/issues/2166)).\n*   Fixed cache failures when using an encrypted cache content index.\n*   Fix visual artifacts when switching output surface\n    ([#2093](https://github.com/google/ExoPlayer/issues/2093)).\n*   Fix gradle + proguard configurations.\n*   Fix player position when replacing the MediaSource\n    ([#2369](https://github.com/google/ExoPlayer/issues/2369)).\n*   Misc bug fixes, including\n    [#2330](https://github.com/google/ExoPlayer/issues/2330),\n    [#2269](https://github.com/google/ExoPlayer/issues/2269),\n    [#2252](https://github.com/google/ExoPlayer/issues/2252),\n    [#2264](https://github.com/google/ExoPlayer/issues/2264) and\n    [#2290](https://github.com/google/ExoPlayer/issues/2290).\n\n### r2.1.1 (2016-12-20)\n\n*   Fix some subtitle types (e.g. WebVTT) being displayed out of sync\n    ([#2208](https://github.com/google/ExoPlayer/issues/2208)).\n*   Fix incorrect position reporting for on-demand HLS media that includes\n    EXT-X-PROGRAM-DATE-TIME tags\n    ([#2224](https://github.com/google/ExoPlayer/issues/2224)).\n*   Fix issue where playbacks could get stuck in the initial buffering state if\n    over 1MB of data needs to be read to initialize the playback.\n\n### r2.1.0 (2016-12-14)\n\n*   HLS: Support for seeking in live streams\n    ([#87](https://github.com/google/ExoPlayer/issues/87)).\n*   HLS: Improved support:\n    *   Support for EXT-X-PROGRAM-DATE-TIME\n        ([#747](https://github.com/google/ExoPlayer/issues/747)).\n    *   Improved handling of sample timestamps and their alignment across\n        variants and renditions.\n    *   Fix issue that could cause playbacks to get stuck in an endless initial\n        buffering state.\n    *   Correctly propagate BehindLiveWindowException instead of\n        IndexOutOfBoundsException exception\n        ([#1695](https://github.com/google/ExoPlayer/issues/1695)).\n*   MP3/MP4: Support for ID3 metadata, including embedded album art\n    ([#979](https://github.com/google/ExoPlayer/issues/979)).\n*   Improved customization of UI components. You can read about customization of\n    ExoPlayer's UI components\n    [here](https://medium.com/google-exoplayer/customizing-exoplayers-ui-components-728cf55ee07a#.9ewjg7avi).\n*   Robustness improvements when handling MediaSource timeline changes and\n    MediaPeriod transitions.\n*   CEA-608: Support for caption styling and positioning.\n*   MPEG-TS: Improved support:\n    *   Support injection of custom TS payload readers.\n    *   Support injection of custom section payload readers.\n    *   Support SCTE-35 splice information messages.\n    *   Support multiple table sections in a single PSI section.\n    *   Fix NullPointerException when an unsupported stream type is encountered\n        ([#2149](https://github.com/google/ExoPlayer/issues/2149)).\n    *   Avoid failure when expected ID3 header not found\n        ([#1966](https://github.com/google/ExoPlayer/issues/1966)).\n*   Improvements to the upstream cache package.\n    *   Support caching of media segments for DASH, HLS and SmoothStreaming.\n        Note that caching of manifest and playlist files is still not supported\n        in the (normal) case where the corresponding responses are compressed.\n    *   Support caching for ExtractorMediaSource based playbacks.\n*   Improved flexibility of SimpleExoPlayer\n    ([#2102](https://github.com/google/ExoPlayer/issues/2102)).\n*   Fix issue where only the audio of a video would play due to capability\n    detection issues ([#2007](https://github.com/google/ExoPlayer/issues/2007),\n    [#2034](https://github.com/google/ExoPlayer/issues/2034) and\n    [#2157](https://github.com/google/ExoPlayer/issues/2157)).\n*   Fix issues that could cause ExtractorMediaSource based playbacks to get\n    stuck buffering ([#1962](https://github.com/google/ExoPlayer/issues/1962)).\n*   Correctly set SimpleExoPlayerView surface aspect ratio when an active player\n    is attached ([#2077](https://github.com/google/ExoPlayer/issues/2077)).\n*   OGG: Fix playback of short OGG files\n    ([#1976](https://github.com/google/ExoPlayer/issues/1976)).\n*   MP4: Support `.mp3` tracks\n    ([#2066](https://github.com/google/ExoPlayer/issues/2066)).\n*   SubRip: Don't fail playbacks if SubRip file contains negative timestamps\n    ([#2145](https://github.com/google/ExoPlayer/issues/2145)).\n*   Misc bugfixes.\n\n### r2.0.4 (2016-10-20)\n\n*   Fix crash on Jellybean devices when using playback controls\n    ([#1965](https://github.com/google/ExoPlayer/issues/1965)).\n\n### r2.0.3 (2016-10-17)\n\n*   Fixed NullPointerException in ExtractorMediaSource\n    ([#1914](https://github.com/google/ExoPlayer/issues/1914)).\n*   Fixed NullPointerException in HlsMediaPeriod\n    ([#1907](https://github.com/google/ExoPlayer/issues/1907)).\n*   Fixed memory leak in PlaybackControlView\n    ([#1908](https://github.com/google/ExoPlayer/issues/1908)).\n*   Fixed strict mode violation when using\n    SimpleExoPlayer.setVideoPlayerTextureView().\n*   Fixed L3 Widevine provisioning\n    ([#1925](https://github.com/google/ExoPlayer/issues/1925)).\n*   Fixed hiding of controls with use_controller=\"false\"\n    ([#1919](https://github.com/google/ExoPlayer/issues/1919)).\n*   Improvements to Cronet network stack extension.\n*   Misc bug fixes.\n\n### r2.0.2 (2016-10-06)\n\n*   Fixes for MergingMediaSource and sideloaded subtitles.\n    ([#1882](https://github.com/google/ExoPlayer/issues/1882),\n    [#1854](https://github.com/google/ExoPlayer/issues/1854),\n    [#1900](https://github.com/google/ExoPlayer/issues/1900)).\n*   Reduced effect of application code leaking player references\n    ([#1855](https://github.com/google/ExoPlayer/issues/1855)).\n*   Initial support for fragmented MP4 in HLS.\n*   Misc bug fixes and minor features.\n\n### r2.0.1 (2016-09-30)\n\n*   Fix playback of short duration content\n    ([#1837](https://github.com/google/ExoPlayer/issues/1837)).\n*   Fix MergingMediaSource preparation issue\n    ([#1853](https://github.com/google/ExoPlayer/issues/1853)).\n*   Fix live stream buffering (out of memory) issue\n    ([#1825](https://github.com/google/ExoPlayer/issues/1825)).\n\n### r2.0.0 (2016-09-14)\n\nExoPlayer 2.x is a major iteration of the library. It includes significant API\nand architectural changes, new features and many bug fixes. You can read about\nsome of the motivations behind ExoPlayer 2.x\n[here](https://medium.com/google-exoplayer/exoplayer-2-x-why-what-and-when-74fd9cb139#.am7h8nytm).\n\n*   Root package name changed to `com.google.android.exoplayer2`. The library\n    structure and class names have also been sanitized. Read more\n    [here](https://medium.com/google-exoplayer/exoplayer-2-x-new-package-and-class-names-ef8e1d9ba96f#.lv8sd4nez).\n*   Key architectural changes:\n    *   Late binding between rendering and media source components. Allows the\n        same rendering components to be re-used from one playback to another.\n        Enables features such as gapless playback through playlists and DASH\n        multi-period support.\n    *   Improved track selection design. More details can be found\n        [here](https://medium.com/google-exoplayer/exoplayer-2-x-track-selection-2b62ff712cc9#.n00zo76b6).\n    *   LoadControl now used to control buffering and loading across all\n        playback types.\n    *   Media source components given additional structure. A new MediaSource\n        class has been introduced. MediaSources expose Timelines that describe\n        the media they expose, and can consist of multiple MediaPeriods. This\n        enables features such as seeking in live playbacks and DASH multi-period\n        support.\n    *   Responsibility for loading the initial DASH/SmoothStreaming/HLS manifest\n        is promoted to the corresponding MediaSource components and is no longer\n        the application's responsibility.\n    *   Higher level abstractions such as SimpleExoPlayer have been added to the\n        library. These make the library easier to use for common use cases. The\n        demo app is halved in size as a result, whilst at the same time gaining\n        more functionality. Read more\n        [here](https://medium.com/google-exoplayer/exoplayer-2-x-improved-demo-app-d97171aaaaa1).\n    *   Enhanced library support for implementing audio extensions. Read more\n        [here](https://medium.com/google-exoplayer/exoplayer-2-x-new-audio-features-cfb26c2883a#.ua75vu4s3).\n    *   Format and MediaFormat are replaced by a single Format class.\n*   Key new features:\n    *   Playlist support. Includes support for gapless playback between playlist\n        items and consistent application of LoadControl and TrackSelector\n        policies when transitioning between items\n        ([#1270](https://github.com/google/ExoPlayer/issues/1270)).\n    *   Seeking in live playbacks for DASH and SmoothStreaming\n        ([#291](https://github.com/google/ExoPlayer/issues/291)).\n    *   DASH multi-period support\n        ([#557](https://github.com/google/ExoPlayer/issues/557)).\n    *   MediaSource composition allows MediaSources to be concatenated into a\n        playlist, merged and looped. Read more\n        [here](https://medium.com/google-exoplayer/exoplayer-2-x-mediasource-composition-6c285fcbca1f#.zfha8qupz).\n    *   Looping support (see above)\n        ([#490](https://github.com/google/ExoPlayer/issues/490)).\n    *   Ability to query information about all tracks in a piece of media\n        (including those not supported by the device)\n        ([#1121](https://github.com/google/ExoPlayer/issues/1121)).\n    *   Improved player controls.\n    *   Support for PSSH in fMP4 moof atoms\n        ([#1143](https://github.com/google/ExoPlayer/issues/1143)).\n    *   Support for Opus in Ogg\n        ([#1447](https://github.com/google/ExoPlayer/issues/1447)).\n    *   CacheDataSource support for standalone media file playbacks (mp3, mp4\n        etc).\n    *   FFMPEG extension (for audio only).\n*   Key bug fixes:\n    *   Removed unnecessary secondary requests when playing standalone media\n        files ([#1041](https://github.com/google/ExoPlayer/issues/1041)).\n    *   Fixed playback of video only (i.e. no audio) live streams\n        ([#758](https://github.com/google/ExoPlayer/issues/758)).\n    *   Fixed silent failure when media buffer is too small\n        ([#583](https://github.com/google/ExoPlayer/issues/583)).\n    *   Suppressed \"Sending message to a Handler on a dead thread\" warnings\n        ([#426](https://github.com/google/ExoPlayer/issues/426)).\n\n# Legacy release notes\n\nNote: Since ExoPlayer V1 is still being maintained alongside V2, there is some\noverlap between these notes and the notes above. r2.0.0 followed from r1.5.11,\nand hence it can be assumed that all changes in r1.5.11 and earlier are included\nin all V2 releases. This cannot be assumed for changes in r1.5.12 and later,\nhowever it can be assumed that all such changes are included in the most recent\nV2 release.\n\n### r1.5.16\n\n*   VP9 extension: Reduced binary size.\n*   FLAC extension: Enabled 64 bit targets and fixed proguard config.\n*   Misc bugfixes.\n\n### r1.5.15\n\n*   SmoothStreaming: Fixed handling of start_time placeholder\n    ([#2447](https://github.com/google/ExoPlayer/issues/2447)).\n*   Misc bugfixes.\n\n### r1.5.14\n\n*   Fixed cache failures when using an encrypted cache content index.\n*   SmoothStreaming: Work around \"Offset to sample data was negative\" failures\n    ([#2292](https://github.com/google/ExoPlayer/issues/2292),\n    [#2101](https://github.com/google/ExoPlayer/issues/2101) and\n    [#1152](https://github.com/google/ExoPlayer/issues/1152)).\n\n### r1.5.13\n\n*   Improvements to the upstream cache package.\n*   MP4: Support `.mp3` tracks\n    ([#2066](https://github.com/google/ExoPlayer/issues/2066)).\n*   SubRip: Don't fail playbacks if SubRip file contains negative timestamps\n    ([#2145](https://github.com/google/ExoPlayer/issues/2145)).\n*   MPEG-TS: Avoid failure when expected ID3 header not found\n    ([#1966](https://github.com/google/ExoPlayer/issues/1966)).\n*   Misc bugfixes.\n\n### r1.5.12\n\n*   Improvements to Cronet network stack extension.\n*   Fix bug in demo app introduced in r1.5.11 that caused L3 Widevine\n    provisioning requests to fail.\n*   Misc bugfixes.\n\n### r1.5.11\n\n*   Cronet network stack extension.\n*   HLS: Fix propagation of language for alternative audio renditions\n    ([#1784](https://github.com/google/ExoPlayer/issues/1784)).\n*   WebM: Support for subsample encryption.\n*   ID3: Fix EOS detection for 2-byte encodings\n    ([#1774](https://github.com/google/ExoPlayer/issues/1774)).\n*   MPEG-TS: Support multiple tracks of the same type.\n*   MPEG-TS: Work toward robust handling of stream corruption.\n*   Fix ContentDataSource failures triggered by garbage collector\n    ([#1759](https://github.com/google/ExoPlayer/issues/1759)).\n\n### r1.5.10\n\n*   HLS: Stability fixes.\n*   MP4: Support for stz2 Atoms.\n*   Enable 4K format selection on Sony AndroidTV + nVidia SHIELD.\n*   TX3G caption fixes.\n\n### r1.5.9\n\n*   MP4: Fixed incorrect sniffing in some cases (#1523).\n*   MP4: Improved file compatibility (#1567).\n*   ID3: Support for TIT2 and APIC frames.\n*   Fixed querying of platform decoders on some devices.\n*   Misc bug fixes.\n\n### r1.5.8\n\n*   HLS: Fix handling of HTTP redirects.\n*   Audio: Minor adjustment to improve A/V sync.\n*   OGG: Support FLAC in OGG.\n*   TTML: Support regions.\n*   WAV/PCM: Support 8, 24 and 32-bit WAV and PCM audio.\n*   Misc bug fixes and performance optimizations.\n\n### r1.5.7\n\n*   OGG: Support added for OGG.\n*   FLAC: Support for FLAC extraction and playback (via an extension).\n*   HLS: Multiple audio track support (via Renditions).\n*   FMP4: Support multiple tracks in fragmented MP4 (not applicable to\n    DASH/SmoothStreaming).\n*   WAV: Support for 16-bit WAV files.\n*   MKV: Support non-square pixel formats.\n*   Misc bug fixes.\n\n### r1.5.6\n\n*   MP3: Fix mono streams playing at 2x speed on some MediaTek based devices\n    (#801).\n*   MP3: Fix playback of some streams when stream length is unknown.\n*   ID3: Support multiple frames of the same type in a single tag.\n*   CEA-608: Correctly handle repeated control characters, fixing an issue in\n    which captions would immediately disappear.\n*   AVC3: Fix decoder failures on some MediaTek devices in the case where the\n    first buffer fed to the decoder does not start with SPS/PPS NAL units.\n*   Misc bug fixes.\n\n### r1.5.5\n\n*   DASH: Enable MP4 embedded WebVTT playback (#1185)\n*   HLS: Fix handling of extended ID3 tags in MPEG-TS (#1181)\n*   MP3: Fix incorrect position calculation in VBRI header (#1197)\n*   Fix issue seeking backward using SingleSampleSource (#1193)\n\n### r1.5.4\n\n*   HLS: Support for variant selection and WebVtt subtitles.\n*   MP4: Support for embedded WebVtt.\n*   Improved device compatibility.\n*   Fix for resource leak (Issue #1066).\n*   Misc bug fixes + minor features.\n\n### r1.5.3\n\n*   Support for FLV (without seeking).\n*   MP4: Fix for playback of media containing basic edit lists.\n*   QuickTime: Fix parsing of QuickTime style audio sample entry.\n*   HLS: Add H262 support for devices that have an H262 decoder.\n*   Allow AudioTrack PlaybackParams (e.g. speed/pitch) on API level 23+.\n*   Correctly detect 4K displays on API level 23+.\n*   Misc bug fixes.\n\n### r1.5.2\n\n*   MPEG-TS/HLS: Fix frame drops playing H265 video.\n*   SmoothStreaming: Fix parsing of ProtectionHeader.\n\n### r1.5.1\n\n*   Enable smooth frame release by default.\n*   Added OkHttpDataSource extension.\n*   AndroidTV: Correctly detect 4K display size on Bravia devices.\n*   FMP4: Handle non-sample data in mdat boxes.\n*   TTML: Fix parsing of some colors on Jellybean.\n*   SmoothStreaming: Ignore tfdt boxes.\n*   Misc bug fixes.\n\n### r1.5.0\n\n*   Multi-track support.\n*   DASH: Limited support for multi-period manifests.\n*   HLS: Smoother format adaptation.\n*   HLS: Support for MP3 media segments.\n*   TTML: Support for most embedded TTML styling.\n*   WebVTT: Enhanced positioning support.\n*   Initial playback tests.\n*   Misc bug fixes.\n\n### r1.4.2\n\n*   Implemented automatic format detection for regular container formats.\n*   Added UdpDataSource for connecting to multicast streams.\n*   Improved robustness for MP4 playbacks.\n*   Misc bug fixes.\n\n### r1.4.1\n\n*   HLS: Fix premature playback failures that could occur in some cases.\n\n### r1.4.0\n\n*   Support for extracting Matroska streams (implemented by WebmExtractor).\n*   Support for tx3g captions in MP4 streams.\n*   Support for H.265 in MPEG-TS streams on supported devices.\n*   HLS: Added support for MPEG audio (e.g. MP3) in TS media segments.\n*   HLS: Improved robustness against missing chunks and variants.\n*   MP4: Added support for embedded MPEG audio (e.g. MP3).\n*   TTML: Improved handling of whitespace.\n*   DASH: Support Mpd.Location element.\n*   Add option to TsExtractor to allow non-IDR keyframes.\n*   Added MulticastDataSource for connecting to multicast streams.\n*   (WorkInProgress) - First steps to supporting seeking in DASH DVR window.\n*   (WorkInProgress) - First steps to supporting styled + positioned subtitles.\n*   Misc bug fixes.\n\n### r1.3.3\n\n*   HLS: Fix failure when playing HLS AAC streams.\n*   Misc bug fixes.\n\n### r1.3.2\n\n*   DataSource improvements: `DefaultUriDataSource` now handles http://,\n    https://, file://, asset:// and content:// URIs automatically. It also\n    handles file:///android_asset/* URIs, and file paths like /path/to/media.mp4\n    where the scheme is omitted.\n*   HLS: Fix for some ID3 events being dropped.\n*   HLS: Correctly handle 0x0 and floating point RESOLUTION tags.\n*   Mp3Extractor: robustness improvements.\n\n### r1.3.1\n\n*   No notes provided.\n"
        },
        {
          "name": "SECURITY.md",
          "type": "blob",
          "size": 0.4423828125,
          "content": "# Security policy #\n\nTo report a security issue, please email\nandroid-media-support+security@google.com with a description of the issue, the\nsteps you took to create the issue, affected versions, and, if known,\nmitigations for the issue. Our vulnerability management team will respond within\n3 working days of your email. If the issue is confirmed as a vulnerability, we\nwill open a Security Advisory. This project follows a 90 day disclosure\ntimeline.\n"
        },
        {
          "name": "build.gradle",
          "type": "blob",
          "size": 1.294921875,
          "content": "// Copyright (C) 2016 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nbuildscript {\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.2.2'\n        classpath 'com.google.android.gms:strict-version-matcher-plugin:1.2.4'\n        classpath 'org.jetbrains.kotlin:kotlin-gradle-plugin:1.8.20'\n    }\n}\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n    if (it.hasProperty('externalBuildDir')) {\n        if (!new File(externalBuildDir).isAbsolute()) {\n            externalBuildDir = new File(rootDir, externalBuildDir)\n        }\n        buildDir = \"${externalBuildDir}/${project.name}\"\n    }\n group = 'com.google.android.exoplayer'\n}\n\napply from: 'javadoc_combined.gradle'\n"
        },
        {
          "name": "common_library_config.gradle",
          "type": "blob",
          "size": 1.59765625,
          "content": "// Copyright (C) 2020 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n apply from: \"$gradle.ext.exoplayerSettingsDir/constants.gradle\"\napply plugin: 'com.android.library'\n\nandroid {\n    compileSdkVersion project.ext.compileSdkVersion\n\n    defaultConfig {\n        minSdkVersion project.ext.minSdkVersion\n        targetSdkVersion project.ext.targetSdkVersion\n        consumerProguardFiles 'proguard-rules.txt'\n        testInstrumentationRunner 'androidx.test.runner.AndroidJUnitRunner'\n        aarMetadata {\n            minCompileSdk = project.ext.compileSdkVersion\n        }\n        multiDexEnabled true\n    }\n\n    compileOptions {\n        coreLibraryDesugaringEnabled true\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    testOptions {\n        unitTests.all {\n            jvmArgs \"-Xmx2g\"\n        }\n        unitTests.includeAndroidResources true\n    }\n}\n\ndependencies {\n    androidTestImplementation 'androidx.multidex:multidex:' + androidxMultidexVersion\n    coreLibraryDesugaring 'com.android.tools:desugar_jdk_libs:1.1.5'\n}\n"
        },
        {
          "name": "constants.gradle",
          "type": "blob",
          "size": 2.6376953125,
          "content": "// Copyright 2017 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nproject.ext {\n // ExoPlayer version and version code.\n releaseVersion = '2.19.1'\n releaseVersionCode = 2_019_001\n    minSdkVersion = 16\n    appTargetSdkVersion = 33\n    // API version before restricting local file access.\n    // https://developer.android.com/training/data-storage/app-specific\n    mainDemoAppTargetSdkVersion = 29\n    // Upgrading this requires [Internal ref: b/193254928] to be fixed, or some\n    // additional robolectric config.\n    targetSdkVersion = 30\n    compileSdkVersion = 33\n    dexmakerVersion = '2.28.3'\n    junitVersion = '4.13.2'\n    // Use the same Guava version as the Android repo:\n    // https://cs.android.com/android/platform/superproject/+/master:external/guava/METADATA\n    guavaVersion = '31.1-android'\n    mockitoVersion = '3.12.4'\n    robolectricVersion = '4.8.1'\n    // Keep this in sync with Google's internal Checker Framework version.\n    checkerframeworkVersion = '3.13.0'\n    checkerframeworkCompatVersion = '2.5.5'\n    errorProneVersion = '2.18.0'\n    jsr305Version = '3.0.2'\n    kotlinAnnotationsVersion = '1.8.20'\n    // Updating this to 1.4.0+ will import Kotlin stdlib [internal ref: b/277891049].\n    androidxAnnotationVersion = '1.3.0'\n    androidxAppCompatVersion = '1.6.1'\n    androidxCollectionVersion = '1.2.0'\n    androidxConstraintLayoutVersion = '2.1.4'\n    // Updating this to 1.9.0+ will import Kotlin stdlib [internal ref: b/277891049].\n    androidxCoreVersion = '1.8.0'\n    androidxFuturesVersion = '1.1.0'\n    androidxMediaVersion = '1.6.0'\n    androidxMedia2Version = '1.2.1'\n    androidxMultidexVersion = '2.0.1'\n    androidxRecyclerViewVersion = '1.3.0'\n    androidxMaterialVersion = '1.8.0'\n    androidxTestCoreVersion = '1.5.0'\n    androidxTestJUnitVersion = '1.1.5'\n    androidxTestRunnerVersion = '1.5.2'\n    androidxTestRulesVersion = '1.5.0'\n    androidxTestServicesStorageVersion = '1.4.2'\n    androidxTestTruthVersion = '1.5.0'\n    truthVersion = '1.1.3'\n    okhttpVersion = '4.11.0'\n    modulePrefix = ':'\n if (gradle.ext.has('exoplayerModulePrefix')) {\n     modulePrefix += gradle.ext.exoplayerModulePrefix\n }\n}\n"
        },
        {
          "name": "core_settings.gradle",
          "type": "blob",
          "size": 5.14453125,
          "content": "// Copyright (C) 2017 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\ndef rootDir = file(\".\")\n if (!gradle.ext.has('exoplayerSettingsDir')) {\n     gradle.ext.exoplayerSettingsDir = rootDir.getCanonicalPath()\n }\n\ndef modulePrefix = ':'\n if (gradle.ext.has('exoplayerModulePrefix')) {\n     modulePrefix += gradle.ext.exoplayerModulePrefix\n }\n\ninclude modulePrefix + 'library-common'\nproject(modulePrefix + 'library-common').projectDir = new File(rootDir, 'library/common')\n\ninclude modulePrefix + 'library-container'\nproject(modulePrefix + 'library-container').projectDir = new File(rootDir, 'library/container')\n\ninclude modulePrefix + 'extension-mediasession'\nproject(modulePrefix + 'extension-mediasession').projectDir = new File(rootDir, 'extensions/mediasession')\ninclude modulePrefix + 'extension-media2'\nproject(modulePrefix + 'extension-media2').projectDir = new File(rootDir, 'extensions/media2')\n\ninclude modulePrefix + 'library-core'\nproject(modulePrefix + 'library-core').projectDir = new File(rootDir, 'library/core')\ninclude modulePrefix + 'library'\nproject(modulePrefix + 'library').projectDir = new File(rootDir, 'library/all')\ninclude modulePrefix + 'library-dash'\nproject(modulePrefix + 'library-dash').projectDir = new File(rootDir, 'library/dash')\ninclude modulePrefix + 'library-hls'\nproject(modulePrefix + 'library-hls').projectDir = new File(rootDir, 'library/hls')\ninclude modulePrefix + 'library-rtsp'\nproject(modulePrefix + 'library-rtsp').projectDir = new File(rootDir, 'library/rtsp')\ninclude modulePrefix + 'library-smoothstreaming'\nproject(modulePrefix + 'library-smoothstreaming').projectDir = new File(rootDir, 'library/smoothstreaming')\ninclude modulePrefix + 'extension-ima'\nproject(modulePrefix + 'extension-ima').projectDir = new File(rootDir, 'extensions/ima')\ninclude modulePrefix + 'extension-workmanager'\nproject(modulePrefix + 'extension-workmanager').projectDir = new File(rootDir, 'extensions/workmanager')\n\ninclude modulePrefix + 'library-ui'\nproject(modulePrefix + 'library-ui').projectDir = new File(rootDir, 'library/ui')\ninclude modulePrefix + 'extension-leanback'\nproject(modulePrefix + 'extension-leanback').projectDir = new File(rootDir, 'extensions/leanback')\n\ninclude modulePrefix + 'library-database'\nproject(modulePrefix + 'library-database').projectDir = new File(rootDir, 'library/database')\n\ninclude modulePrefix + 'library-datasource'\nproject(modulePrefix + 'library-datasource').projectDir = new File(rootDir, 'library/datasource')\ninclude modulePrefix + 'extension-cronet'\nproject(modulePrefix + 'extension-cronet').projectDir = new File(rootDir, 'extensions/cronet')\ninclude modulePrefix + 'extension-rtmp'\nproject(modulePrefix + 'extension-rtmp').projectDir = new File(rootDir, 'extensions/rtmp')\ninclude modulePrefix + 'extension-okhttp'\nproject(modulePrefix + 'extension-okhttp').projectDir = new File(rootDir, 'extensions/okhttp')\n\ninclude modulePrefix + 'library-decoder'\nproject(modulePrefix + 'library-decoder').projectDir = new File(rootDir, 'library/decoder')\ninclude modulePrefix + 'extension-av1'\nproject(modulePrefix + 'extension-av1').projectDir = new File(rootDir, 'extensions/av1')\ninclude modulePrefix + 'extension-ffmpeg'\nproject(modulePrefix + 'extension-ffmpeg').projectDir = new File(rootDir, 'extensions/ffmpeg')\ninclude modulePrefix + 'extension-flac'\nproject(modulePrefix + 'extension-flac').projectDir = new File(rootDir, 'extensions/flac')\ninclude modulePrefix + 'extension-opus'\nproject(modulePrefix + 'extension-opus').projectDir = new File(rootDir, 'extensions/opus')\ninclude modulePrefix + 'extension-vp9'\nproject(modulePrefix + 'extension-vp9').projectDir = new File(rootDir, 'extensions/vp9')\n\ninclude modulePrefix + 'library-extractor'\nproject(modulePrefix + 'library-extractor').projectDir = new File(rootDir, 'library/extractor')\n\ninclude modulePrefix + 'extension-cast'\nproject(modulePrefix + 'extension-cast').projectDir = new File(rootDir, 'extensions/cast')\n\ninclude modulePrefix + 'library-effect'\nproject(modulePrefix + 'library-effect').projectDir = new File(rootDir, 'library/effect')\n\ninclude modulePrefix + 'library-muxer'\nproject(modulePrefix + 'library-muxer').projectDir = new File(rootDir, 'library/muxer')\n\ninclude modulePrefix + 'library-transformer'\nproject(modulePrefix + 'library-transformer').projectDir = new File(rootDir, 'library/transformer')\n\ninclude modulePrefix + 'robolectricutils'\nproject(modulePrefix + 'robolectricutils').projectDir = new File(rootDir, 'robolectricutils')\ninclude modulePrefix + 'testdata'\nproject(modulePrefix + 'testdata').projectDir = new File(rootDir, 'testdata')\ninclude modulePrefix + 'testutils'\nproject(modulePrefix + 'testutils').projectDir = new File(rootDir, 'testutils')\n"
        },
        {
          "name": "demos",
          "type": "tree",
          "content": null
        },
        {
          "name": "docs",
          "type": "tree",
          "content": null
        },
        {
          "name": "extensions",
          "type": "tree",
          "content": null
        },
        {
          "name": "gradle.properties",
          "type": "blob",
          "size": 0.2646484375,
          "content": "## Project-wide Gradle settings.\nandroid.useAndroidX=true\nandroid.enableJetifier=true\n# https://github.com/robolectric/robolectric/issues/6521#issuecomment-851736355\nandroid.jetifier.ignorelist=bcprov\nbuildDir=buildout\norg.gradle.jvmargs=-Xmx2g -XX:MaxMetaspaceSize=512m\n"
        },
        {
          "name": "gradle",
          "type": "tree",
          "content": null
        },
        {
          "name": "gradlew",
          "type": "blob",
          "size": 7.880859375,
          "content": "#!/bin/sh\n\n#\n# Copyright  2015-2021 the original authors.\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#      https://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n#\n\n##############################################################################\n#\n#   Gradle start up script for POSIX generated by Gradle.\n#\n#   Important for running:\n#\n#   (1) You need a POSIX-compliant shell to run this script. If your /bin/sh is\n#       noncompliant, but you have some other compliant shell such as ksh or\n#       bash, then to run this script, type that shell name before the whole\n#       command line, like:\n#\n#           ksh Gradle\n#\n#       Busybox and similar reduced shells will NOT work, because this script\n#       requires all of these POSIX shell features:\n#         * functions;\n#         * expansions $var, ${var}, ${var:-default}, ${var+SET},\n#           ${var#prefix}, ${var%suffix}, and $( cmd );\n#         * compound commands having a testable exit status, especially case;\n#         * various built-in commands including command, set, and ulimit.\n#\n#   Important for patching:\n#\n#   (2) This script targets any POSIX shell, so it avoids extensions provided\n#       by Bash, Ksh, etc; in particular arrays are avoided.\n#\n#       The \"traditional\" practice of packing multiple parameters into a\n#       space-separated string is a well documented source of bugs and security\n#       problems, so this is (mostly) avoided, by progressively accumulating\n#       options in \"$@\", and eventually passing that to Java.\n#\n#       Where the inherited environment variables (DEFAULT_JVM_OPTS, JAVA_OPTS,\n#       and GRADLE_OPTS) rely on word-splitting, this is performed explicitly;\n#       see the in-line comments for details.\n#\n#       There are tweaks for specific operating systems such as AIX, CygWin,\n#       Darwin, MinGW, and NonStop.\n#\n#   (3) This script is generated from the Groovy template\n#       https://github.com/gradle/gradle/blob/master/subprojects/plugins/src/main/resources/org/gradle/api/internal/plugins/unixStartScript.txt\n#       within the Gradle project.\n#\n#       You can find Gradle at https://github.com/gradle/gradle/.\n#\n##############################################################################\n\n# Attempt to set APP_HOME\n\n# Resolve links: $0 may be a link\napp_path=$0\n\n# Need this for daisy-chained symlinks.\nwhile\n    APP_HOME=${app_path%\"${app_path##*/}\"}  # leaves a trailing /; empty if no leading path\n    [ -h \"$app_path\" ]\ndo\n    ls=$( ls -ld \"$app_path\" )\n    link=${ls#*' -> '}\n    case $link in             #(\n      /*)   app_path=$link ;; #(\n      *)    app_path=$APP_HOME$link ;;\n    esac\ndone\n\nAPP_HOME=$( cd \"${APP_HOME:-./}\" && pwd -P ) || exit\n\nAPP_NAME=\"Gradle\"\nAPP_BASE_NAME=${0##*/}\n\n# Add default JVM options here. You can also use JAVA_OPTS and GRADLE_OPTS to pass JVM options to this script.\nDEFAULT_JVM_OPTS='\"-Xmx64m\" \"-Xms64m\"'\n\n# Use the maximum available, or set MAX_FD != -1 to use that value.\nMAX_FD=maximum\n\nwarn () {\n    echo \"$*\"\n} >&2\n\ndie () {\n    echo\n    echo \"$*\"\n    echo\n    exit 1\n} >&2\n\n# OS specific support (must be 'true' or 'false').\ncygwin=false\nmsys=false\ndarwin=false\nnonstop=false\ncase \"$( uname )\" in                #(\n  CYGWIN* )         cygwin=true  ;; #(\n  Darwin* )         darwin=true  ;; #(\n  MSYS* | MINGW* )  msys=true    ;; #(\n  NONSTOP* )        nonstop=true ;;\nesac\n\nCLASSPATH=$APP_HOME/gradle/wrapper/gradle-wrapper.jar\n\n\n# Determine the Java command to use to start the JVM.\nif [ -n \"$JAVA_HOME\" ] ; then\n    if [ -x \"$JAVA_HOME/jre/sh/java\" ] ; then\n        # IBM's JDK on AIX uses strange locations for the executables\n        JAVACMD=$JAVA_HOME/jre/sh/java\n    else\n        JAVACMD=$JAVA_HOME/bin/java\n    fi\n    if [ ! -x \"$JAVACMD\" ] ; then\n        die \"ERROR: JAVA_HOME is set to an invalid directory: $JAVA_HOME\n\nPlease set the JAVA_HOME variable in your environment to match the\nlocation of your Java installation.\"\n    fi\nelse\n    JAVACMD=java\n    which java >/dev/null 2>&1 || die \"ERROR: JAVA_HOME is not set and no 'java' command could be found in your PATH.\n\nPlease set the JAVA_HOME variable in your environment to match the\nlocation of your Java installation.\"\nfi\n\n# Increase the maximum file descriptors if we can.\nif ! \"$cygwin\" && ! \"$darwin\" && ! \"$nonstop\" ; then\n    case $MAX_FD in #(\n      max*)\n        MAX_FD=$( ulimit -H -n ) ||\n            warn \"Could not query maximum file descriptor limit\"\n    esac\n    case $MAX_FD in  #(\n      '' | soft) :;; #(\n      *)\n        ulimit -n \"$MAX_FD\" ||\n            warn \"Could not set maximum file descriptor limit to $MAX_FD\"\n    esac\nfi\n\n# Collect all arguments for the java command, stacking in reverse order:\n#   * args from the command line\n#   * the main class name\n#   * -classpath\n#   * -D...appname settings\n#   * --module-path (only if needed)\n#   * DEFAULT_JVM_OPTS, JAVA_OPTS, and GRADLE_OPTS environment variables.\n\n# For Cygwin or MSYS, switch paths to Windows format before running java\nif \"$cygwin\" || \"$msys\" ; then\n    APP_HOME=$( cygpath --path --mixed \"$APP_HOME\" )\n    CLASSPATH=$( cygpath --path --mixed \"$CLASSPATH\" )\n\n    JAVACMD=$( cygpath --unix \"$JAVACMD\" )\n\n    # Now convert the arguments - kludge to limit ourselves to /bin/sh\n    for arg do\n        if\n            case $arg in                                #(\n              -*)   false ;;                            # don't mess with options #(\n              /?*)  t=${arg#/} t=/${t%%/*}              # looks like a POSIX filepath\n                    [ -e \"$t\" ] ;;                      #(\n              *)    false ;;\n            esac\n        then\n            arg=$( cygpath --path --ignore --mixed \"$arg\" )\n        fi\n        # Roll the args list around exactly as many times as the number of\n        # args, so each arg winds up back in the position where it started, but\n        # possibly modified.\n        #\n        # NB: a `for` loop captures its iteration list before it begins, so\n        # changing the positional parameters here affects neither the number of\n        # iterations, nor the values presented in `arg`.\n        shift                   # remove old arg\n        set -- \"$@\" \"$arg\"      # push replacement arg\n    done\nfi\n\n# Collect all arguments for the java command;\n#   * $DEFAULT_JVM_OPTS, $JAVA_OPTS, and $GRADLE_OPTS can contain fragments of\n#     shell script including quotes and variable substitutions, so put them in\n#     double quotes to make sure that they get re-expanded; and\n#   * put everything else in single quotes, so that it's not re-expanded.\n\nset -- \\\n        \"-Dorg.gradle.appname=$APP_BASE_NAME\" \\\n        -classpath \"$CLASSPATH\" \\\n        org.gradle.wrapper.GradleWrapperMain \\\n        \"$@\"\n\n# Use \"xargs\" to parse quoted args.\n#\n# With -n1 it outputs one arg per line, with the quotes and backslashes removed.\n#\n# In Bash we could simply go:\n#\n#   readarray ARGS < <( xargs -n1 <<<\"$var\" ) &&\n#   set -- \"${ARGS[@]}\" \"$@\"\n#\n# but POSIX shell has neither arrays nor command substitution, so instead we\n# post-process each arg (as a line of input to sed) to backslash-escape any\n# character that might be a shell metacharacter, then use eval to reverse\n# that process (while maintaining the separation between arguments), and wrap\n# the whole thing up as a single \"set\" statement.\n#\n# This will of course break if any of these variables contains a newline or\n# an unmatched quote.\n#\n\neval \"set -- $(\n        printf '%s\\n' \"$DEFAULT_JVM_OPTS $JAVA_OPTS $GRADLE_OPTS\" |\n        xargs -n1 |\n        sed ' s~[^-[:alnum:]+,./:=@_]~\\\\&~g; ' |\n        tr '\\n' ' '\n    )\" '\"$@\"'\n\nexec \"$JAVACMD\" \"$@\"\n"
        },
        {
          "name": "gradlew.bat",
          "type": "blob",
          "size": 2.6982421875,
          "content": "@rem\r\n@rem Copyright 2015 the original author or authors.\r\n@rem\r\n@rem Licensed under the Apache License, Version 2.0 (the \"License\");\r\n@rem you may not use this file except in compliance with the License.\r\n@rem You may obtain a copy of the License at\r\n@rem\r\n@rem      https://www.apache.org/licenses/LICENSE-2.0\r\n@rem\r\n@rem Unless required by applicable law or agreed to in writing, software\r\n@rem distributed under the License is distributed on an \"AS IS\" BASIS,\r\n@rem WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n@rem See the License for the specific language governing permissions and\r\n@rem limitations under the License.\r\n@rem\r\n\r\n@if \"%DEBUG%\" == \"\" @echo off\r\n@rem ##########################################################################\r\n@rem\r\n@rem  Gradle startup script for Windows\r\n@rem\r\n@rem ##########################################################################\r\n\r\n@rem Set local scope for the variables with windows NT shell\r\nif \"%OS%\"==\"Windows_NT\" setlocal\r\n\r\nset DIRNAME=%~dp0\r\nif \"%DIRNAME%\" == \"\" set DIRNAME=.\r\nset APP_BASE_NAME=%~n0\r\nset APP_HOME=%DIRNAME%\r\n\r\n@rem Resolve any \".\" and \"..\" in APP_HOME to make it shorter.\r\nfor %%i in (\"%APP_HOME%\") do set APP_HOME=%%~fi\r\n\r\n@rem Add default JVM options here. You can also use JAVA_OPTS and GRADLE_OPTS to pass JVM options to this script.\r\nset DEFAULT_JVM_OPTS=\"-Xmx64m\" \"-Xms64m\"\r\n\r\n@rem Find java.exe\r\nif defined JAVA_HOME goto findJavaFromJavaHome\r\n\r\nset JAVA_EXE=java.exe\r\n%JAVA_EXE% -version >NUL 2>&1\r\nif \"%ERRORLEVEL%\" == \"0\" goto execute\r\n\r\necho.\r\necho ERROR: JAVA_HOME is not set and no 'java' command could be found in your PATH.\r\necho.\r\necho Please set the JAVA_HOME variable in your environment to match the\r\necho location of your Java installation.\r\n\r\ngoto fail\r\n\r\n:findJavaFromJavaHome\r\nset JAVA_HOME=%JAVA_HOME:\"=%\r\nset JAVA_EXE=%JAVA_HOME%/bin/java.exe\r\n\r\nif exist \"%JAVA_EXE%\" goto execute\r\n\r\necho.\r\necho ERROR: JAVA_HOME is set to an invalid directory: %JAVA_HOME%\r\necho.\r\necho Please set the JAVA_HOME variable in your environment to match the\r\necho location of your Java installation.\r\n\r\ngoto fail\r\n\r\n:execute\r\n@rem Setup the command line\r\n\r\nset CLASSPATH=%APP_HOME%\\gradle\\wrapper\\gradle-wrapper.jar\r\n\r\n\r\n@rem Execute Gradle\r\n\"%JAVA_EXE%\" %DEFAULT_JVM_OPTS% %JAVA_OPTS% %GRADLE_OPTS% \"-Dorg.gradle.appname=%APP_BASE_NAME%\" -classpath \"%CLASSPATH%\" org.gradle.wrapper.GradleWrapperMain %*\r\n\r\n:end\r\n@rem End local scope for the variables with windows NT shell\r\nif \"%ERRORLEVEL%\"==\"0\" goto mainEnd\r\n\r\n:fail\r\nrem Set variable GRADLE_EXIT_CONSOLE if you need the _script_ return code instead of\r\nrem the _cmd.exe /c_ return code!\r\nif  not \"\" == \"%GRADLE_EXIT_CONSOLE%\" exit 1\r\nexit /b 1\r\n\r\n:mainEnd\r\nif \"%OS%\"==\"Windows_NT\" endlocal\r\n\r\n:omega\r\n"
        },
        {
          "name": "javadoc_combined.gradle",
          "type": "blob",
          "size": 3.662109375,
          "content": "// Copyright (C) 2017 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\napply from: \"${buildscript.sourceFile.parentFile}/constants.gradle\"\napply from: \"${buildscript.sourceFile.parentFile}/javadoc_util.gradle\"\n\nclass CombinedJavadocPlugin implements Plugin<Project> {\n\n  static final String JAVADOC_TASK_NAME = \"generateCombinedJavadoc\"\n\n  @Override\n  void apply(Project project) {\n    project.gradle.projectsEvaluated {\n      Set<Project> libraryModules = getLibraryModules(project)\n      if (!libraryModules.isEmpty()) {\n        def guavaReferenceUrl = \"https://guava.dev/releases/$project.ext.guavaVersion/api/docs\"\n\n        project.task(JAVADOC_TASK_NAME, type: Javadoc) {\n          description = \"Generates combined Javadoc.\"\n          title = \"ExoPlayer library\"\n          source = libraryModules.generateJavadoc.source\n          classpath = project.files([])\n          destinationDir = project.file(\"$project.buildDir/docs/javadoc\")\n          options {\n            links \"https://developer.android.com/reference\", guavaReferenceUrl\n            encoding = \"UTF-8\"\n          }\n          exclude \"**/BuildConfig.java\"\n          exclude \"**/R.java\"\n          doFirst {\n            libraryModules.each { libraryModule ->\n              libraryModule.android.libraryVariants.all { variant ->\n                def name = variant.buildType.name\n                if (name == \"release\") {\n                  // Works around b/234569640 that causes different versions of the androidx.media\n                  // jar to be on the classpath.\n                  def allJarFiles = []\n                  allJarFiles.addAll(variant.javaCompileProvider.get().classpath.files)\n                  def filteredJarFiles = allJarFiles.findAll { file ->\n                    if (file ==~ /.*media-.\\..\\..-api.jar$/\n                        && !file.path.endsWith(\n                            \"media-\" + project.ext.androidxMediaVersion + \"-api.jar\")) {\n                      return false;\n                    }\n                    if (file ==~ /.*\\/core-.\\..\\..-api.jar$/\n                            && !file.path.endsWith(\n                            \"core-\" + project.ext.androidxCoreVersion + \"-api.jar\")) {\n                      return false;\n                    }\n                    return true;\n                  }\n                  classpath +=\n                      libraryModule.project.files(\n                          filteredJarFiles,\n                          libraryModule.project.android.getBootClasspath())\n                }\n              }\n            }\n          }\n          doLast {\n            libraryModules.each { libraryModule ->\n              project.copy {\n                from \"${libraryModule.projectDir}/src/main/javadoc\"\n                into \"${project.buildDir}/docs/javadoc\"\n              }\n            }\n            project.fixJavadoc()\n          }\n        }\n      }\n    }\n  }\n\n  // Returns Android library modules that declare a generateJavadoc task.\n  private static Set<Project> getLibraryModules(Project project) {\n    project.subprojects.findAll {\n      it.plugins.findPlugin(\"com.android.library\") &&\n      it.tasks.findByName(\"generateJavadoc\")\n    }\n  }\n\n}\n\napply plugin: CombinedJavadocPlugin\n"
        },
        {
          "name": "javadoc_library.gradle",
          "type": "blob",
          "size": 1.869140625,
          "content": "// Copyright (C) 2017 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\napply from: \"${buildscript.sourceFile.parentFile}/constants.gradle\"\napply from: \"${buildscript.sourceFile.parentFile}/javadoc_util.gradle\"\n\nandroid.libraryVariants.all { variant ->\n    def name = variant.buildType.name\n    if (name != \"release\") {\n        return // Skip non-release builds.\n    }\n    def allSourceDirs = variant.sourceSets.inject ([]) {\n        acc, val -> acc << val.javaDirectories\n    }\n    task(\"generateJavadoc\", type: Javadoc) {\n        description = \"Generates Javadoc for the ${javadocTitle}.\"\n        title = \"ExoPlayer ${javadocTitle}\"\n        source = allSourceDirs + \"${buildDir}/generated/aidl_source_output_dir/\"\n        options {\n            links \"https://developer.android.com/reference\",\n                  \"https://guava.dev/releases/$project.ext.guavaVersion/api/docs\"\n            encoding = \"UTF-8\"\n        }\n        exclude \"**/BuildConfig.java\"\n        exclude \"**/R.java\"\n        doFirst {\n            classpath =\n                files(\n                    variant.javaCompileProvider.get().classpath.files,\n                    project.android.getBootClasspath())\n        }\n        doLast {\n            copy {\n                from \"src/main/javadoc\"\n                into \"$buildDir/docs/javadoc\"\n            }\n            project.fixJavadoc()\n        }\n    }\n}\n"
        },
        {
          "name": "javadoc_util.gradle",
          "type": "blob",
          "size": 2.5009765625,
          "content": "// Copyright (C) 2018 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\next.fixJavadoc = {\n  def javadocPath = \"${project.buildDir}/docs/javadoc\"\n  // Fix external Android links to target the top frame.\n  def androidRoot = \"https://developer.android.com/reference/\"\n  def androidLink = \"<a href=\\\"(${androidRoot}.*?)\\\\?is-external=true(.*)\\\"\"\n  def androidFixed = \"<a href=\\\"\\\\1\\\\2\\\" target=\\\"_top\\\"\"\n  ant.replaceregexp(match:androidLink, replace:androidFixed, flags:'g') {\n    fileset(dir: \"${javadocPath}\", includes: \"**/*.html\")\n  }\n  // Add favicon to each page\n  def headTag = \"<head>\"\n  def headTagWithFavicon = \"<head>\" +\n    \"<!-- start favicons snippet, use https://realfavicongenerator.net/ -->\" +\n    \"<link rel=\\\"apple-touch-icon\\\" sizes=\\\"180x180\\\" href=\\\"/assets/apple-touch-icon.png\\\">\" +\n    \"<link rel=\\\"icon\\\" type=\\\"image/png\\\" sizes=\\\"32x32\\\" href=\\\"/assets/favicon-32x32.png\\\">\" +\n    \"<link rel=\\\"icon\\\" type=\\\"image/png\\\" sizes=\\\"16x16\\\" href=\\\"/assets/favicon-16x16.png\\\">\" +\n    \"<link rel=\\\"manifest\\\" href=\\\"/assets/site.webmanifest\\\">\" +\n    \"<link rel=\\\"mask-icon\\\" href=\\\"/assets/safari-pinned-tab.svg\\\" color=\\\"#fc4d50\\\">\" +\n    \"<link rel=\\\"shortcut icon\\\" href=\\\"/assets/favicon.ico\\\">\" +\n    \"<meta name=\\\"msapplication-TileColor\\\" content=\\\"#ffc40d\\\">\" +\n    \"<meta name=\\\"msapplication-config\\\" content=\\\"/assets/browserconfig.xml\\\">\" +\n    \"<meta name=\\\"theme-color\\\" content=\\\"#ffffff\\\">\" +\n    \"<!-- end favicons snippet -->\"\n  ant.replaceregexp(match:headTag, replace:headTagWithFavicon, flags:'g') {\n    fileset(dir: \"${javadocPath}\", includes: \"**/*.html\")\n  }\n  // Remove date metadata that changes every time Javadoc is generated.\n  def javadocGeneratedBy = \"<!-- Generated by javadoc.*?-->\\n\"\n  ant.replaceregexp(match:javadocGeneratedBy, replace:\"\") {\n    fileset(dir: \"${javadocPath}\", includes: \"**/*.html\")\n  }\n  def dateMeta = \"<meta name=\\\"date\\\".*?>\\n\"\n  ant.replaceregexp(match:dateMeta, replace:\"\") {\n    fileset(dir: \"${javadocPath}\", includes: \"**/*.html\")\n  }\n}\n"
        },
        {
          "name": "library",
          "type": "tree",
          "content": null
        },
        {
          "name": "media3-migration.sh",
          "type": "blob",
          "size": 16.7919921875,
          "content": "#!/bin/bash\n# Copyright (C) 2022 The Android Open Source Project\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#      http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n##\nshopt -s extglob\n\nPACKAGE_MAPPINGS='com.google.android.exoplayer2 androidx.media3.exoplayer\ncom.google.android.exoplayer2.analytics androidx.media3.exoplayer.analytics\ncom.google.android.exoplayer2.audio androidx.media3.exoplayer.audio\ncom.google.android.exoplayer2.castdemo androidx.media3.demo.cast\ncom.google.android.exoplayer2.container androidx.media3.container\ncom.google.android.exoplayer2.database androidx.media3.database\ncom.google.android.exoplayer2.decoder androidx.media3.decoder\ncom.google.android.exoplayer2.demo androidx.media3.demo.main\ncom.google.android.exoplayer2.drm androidx.media3.exoplayer.drm\ncom.google.android.exoplayer2.effect androidx.media3.effect\ncom.google.android.exoplayer2.ext.av1 androidx.media3.decoder.av1\ncom.google.android.exoplayer2.ext.cast androidx.media3.cast\ncom.google.android.exoplayer2.ext.cronet androidx.media3.datasource.cronet\ncom.google.android.exoplayer2.ext.ffmpeg androidx.media3.decoder.ffmpeg\ncom.google.android.exoplayer2.ext.flac androidx.media3.decoder.flac\ncom.google.android.exoplayer2.ext.ima androidx.media3.exoplayer.ima\ncom.google.android.exoplayer2.ext.leanback androidx.media3.ui.leanback\ncom.google.android.exoplayer2.ext.midi androidx.media3.decoder.midi\ncom.google.android.exoplayer2.ext.okhttp androidx.media3.datasource.okhttp\ncom.google.android.exoplayer2.ext.opus androidx.media3.decoder.opus\ncom.google.android.exoplayer2.ext.rtmp androidx.media3.datasource.rtmp\ncom.google.android.exoplayer2.ext.vp9 androidx.media3.decoder.vp9\ncom.google.android.exoplayer2.ext.workmanager androidx.media3.exoplayer.workmanager\ncom.google.android.exoplayer2.extractor androidx.media3.extractor\ncom.google.android.exoplayer2.gldemo androidx.media3.demo.gl\ncom.google.android.exoplayer2.mediacodec androidx.media3.exoplayer.mediacodec\ncom.google.android.exoplayer2.metadata androidx.media3.extractor.metadata\ncom.google.android.exoplayer2.muxer androidx.media3.muxer\ncom.google.android.exoplayer2.offline androidx.media3.exoplayer.offline\ncom.google.android.exoplayer2.playbacktests androidx.media3.test.exoplayer.playback\ncom.google.android.exoplayer2.robolectric androidx.media3.test.utils.robolectric\ncom.google.android.exoplayer2.scheduler androidx.media3.exoplayer.scheduler\ncom.google.android.exoplayer2.source androidx.media3.exoplayer.source\ncom.google.android.exoplayer2.source.dash androidx.media3.exoplayer.dash\ncom.google.android.exoplayer2.source.hls androidx.media3.exoplayer.hls\ncom.google.android.exoplayer2.source.rtsp androidx.media3.exoplayer.rtsp\ncom.google.android.exoplayer2.source.smoothstreaming androidx.media3.exoplayer.smoothstreaming\ncom.google.android.exoplayer2.surfacedemo androidx.media3.demo.surface\ncom.google.android.exoplayer2.testdata androidx.media3.test.data\ncom.google.android.exoplayer2.testutil androidx.media3.test.utils\ncom.google.android.exoplayer2.text androidx.media3.extractor.text\ncom.google.android.exoplayer2.trackselection androidx.media3.exoplayer.trackselection\ncom.google.android.exoplayer2.transformer androidx.media3.transformer\ncom.google.android.exoplayer2.transformerdemo androidx.media3.demo.transformer\ncom.google.android.exoplayer2.ui androidx.media3.ui\ncom.google.android.exoplayer2.upstream androidx.media3.datasource\ncom.google.android.exoplayer2.upstream.cache androidx.media3.datasource.cache\ncom.google.android.exoplayer2.upstream.crypto androidx.media3.exoplayer.upstream.crypto\ncom.google.android.exoplayer2.util androidx.media3.common.util\ncom.google.android.exoplayer2.util androidx.media3.exoplayer.util\ncom.google.android.exoplayer2.video androidx.media3.exoplayer.video'\n\nCLASS_RENAMINGS='com.google.android.exoplayer2.ui.StyledPlayerView androidx.media3.ui.PlayerView\nStyledPlayerView PlayerView\ncom.google.android.exoplayer2.ui.StyledPlayerControlView androidx.media3.ui.PlayerControlView\nStyledPlayerControlView PlayerControlView\ncom.google.android.exoplayer2.ExoPlayerLibraryInfo androidx.media3.common.MediaLibraryInfo\nExoPlayerLibraryInfo MediaLibraryInfo\ncom.google.android.exoplayer2.SimpleExoPlayer androidx.media3.exoplayer.ExoPlayer\nSimpleExoPlayer ExoPlayer'\n\nCLASS_MAPPINGS='com.google.android.exoplayer2.text.span androidx.media3.common.text HorizontalTextInVerticalContextSpan LanguageFeatureSpan RubySpan SpanUtil TextAnnotation TextEmphasisSpan\ncom.google.android.exoplayer2.text androidx.media3.common.text CueGroup Cue\ncom.google.android.exoplayer2.text androidx.media3.exoplayer.text ExoplayerCuesDecoder SubtitleDecoderFactory TextOutput TextRenderer\ncom.google.android.exoplayer2.upstream.crypto androidx.media3.datasource AesCipherDataSource AesCipherDataSink AesFlushingCipher\ncom.google.android.exoplayer2.util androidx.media3.common.util AtomicFile Assertions BitmapLoader BundleableUtil BundleUtil Clock ClosedSource CodecSpecificDataUtil ColorParser ConditionVariable Consumer CopyOnWriteMultiset EGLSurfaceTexture GlProgram GlUtil HandlerWrapper LibraryLoader ListenerSet Log LongArray MediaFormatUtil NetworkTypeObserver NonNullApi NotificationUtil NullableType ParsableBitArray ParsableByteArray RepeatModeUtil RunnableFutureTask Size SystemClock SystemHandlerWrapper TimedValueQueue TimestampAdjuster TraceUtil UnknownNull UnstableApi UriUtil Util XmlPullParserUtil\ncom.google.android.exoplayer2.util androidx.media3.common DebugViewProvider Effect ErrorMessageProvider FlagSet FileTypes FrameInfo GlObjectsProvider GlTextureInfo VideoFrameProcessingException VideoFrameProcessor OnInputFrameProcessedListener MimeTypes PriorityTaskManager SurfaceInfo\ncom.google.android.exoplayer2.metadata androidx.media3.common Metadata\ncom.google.android.exoplayer2.metadata androidx.media3.exoplayer.metadata MetadataDecoderFactory MetadataOutput MetadataRenderer\ncom.google.android.exoplayer2.audio androidx.media3.common AudioAttributes AuxEffectInfo\ncom.google.android.exoplayer2.ui androidx.media3.common AdOverlayInfo AdViewProvider\ncom.google.android.exoplayer2.source.ads androidx.media3.common AdPlaybackState\ncom.google.android.exoplayer2.source androidx.media3.common MediaPeriodId TrackGroup\ncom.google.android.exoplayer2.offline androidx.media3.common StreamKey\ncom.google.android.exoplayer2.ui androidx.media3.exoplayer.offline DownloadNotificationHelper\ncom.google.android.exoplayer2.trackselection androidx.media3.common TrackSelectionParameters TrackSelectionOverride\ncom.google.android.exoplayer2.video androidx.media3.common ColorInfo VideoSize VideoGraph PreviewingVideoGraph\ncom.google.android.exoplayer2.upstream androidx.media3.common DataReader\ncom.google.android.exoplayer2.upstream androidx.media3.exoplayer.upstream Allocation Allocator BandwidthMeter CachedRegionTracker DefaultAllocator DefaultBandwidthMeter DefaultLoadErrorHandlingPolicy Loader LoaderErrorThrower ParsingLoadable SlidingPercentile TimeToFirstByteEstimator\ncom.google.android.exoplayer2.audio androidx.media3.extractor AacUtil Ac3Util Ac4Util DtsUtil MpegAudioUtil OpusUtil WavUtil\ncom.google.android.exoplayer2.util androidx.media3.container NalUnitUtil ParsableNalUnitBitArray\ncom.google.android.exoplayer2.metadata.mp4 androidx.media3.container MdtaMetadataEntry\ncom.google.android.exoplayer2.video androidx.media3.extractor AvcConfig DolbyVisionConfig HevcConfig\ncom.google.android.exoplayer2.decoder androidx.media3.exoplayer DecoderCounters DecoderReuseEvaluation\ncom.google.android.exoplayer2.util androidx.media3.exoplayer MediaClock StandaloneMediaClock\ncom.google.android.exoplayer2 androidx.media3.exoplayer FormatHolder PlayerMessage\ncom.google.android.exoplayer2 androidx.media3.common BasePlayer BundleListRetriever Bundleable ControlDispatcher C DefaultControlDispatcher DeviceInfo ErrorMessageProvider ExoPlayerLibraryInfo Format ForwardingPlayer HeartRating IllegalSeekPositionException LegacyMediaPlayerWrapper MediaItem MediaMetadata ParserException PercentageRating PlaybackException PlaybackParameters Player PositionInfo Rating SimpleBasePlayer StarRating ThumbRating Timeline Tracks\ncom.google.android.exoplayer2.drm androidx.media3.common DrmInitData'\n\nDEPENDENCY_MAPPINGS='exoplayer media3-exoplayer\nexoplayer-common media3-common\nexoplayer-core media3-exoplayer\nexoplayer-dash media3-exoplayer-dash\nexoplayer-database media3-database\nexoplayer-datasource media-datasource\nexoplayer-decoder media3-decoder\nexoplayer-extractor media3-extractor\nexoplayer-hls media3-exoplayer-hls\nexoplayer-robolectricutils media3-test-utils-robolectric\nexoplayer-rtsp media3-exoplayer-rtsp\nexoplayer-smoothstreaming media3-exoplayer-smoothstreaming\nexoplayer-testutils media3-test-utils\nexoplayer-transformer media3-transformer\nexoplayer-effect media3-effect\nexoplayer-ui media3-ui\nextension-cast media3-cast\nextension-cronet media3-datasource-cronet\nextension-ima media3-exoplayer-ima\nextension-leanback media3-ui-leanback\nextension-okhttp media3-datasource-okhttp\nextension-rtmp media3-datasource-rtmp\nextension-workmanager media3-exoplayer-workmanager'\n\n# Rewrites classes, packages and dependencies from the legacy ExoPlayer package structure\n# to androidx.media3 structure.\n\nMEDIA3_VERSION=\"1.1.1\"\nLEGACY_PEER_VERSION=\"2.19.1\"\n\nfunction usage() {\n  echo \"usage: $0 [-p|-c|-d|-v]|[-m|-l [-x <path>] [-f] PROJECT_ROOT]\"\n  echo \" PROJECT_ROOT: path to your project root (location of 'gradlew')\"\n  echo \" -p: list package mappings and then exit\"\n  echo \" -c: list class mappings (precedence over package mappings) and then exit\"\n  echo \" -d: list dependency mappings and then exit\"\n  echo \" -m: migrate packages, classes and dependencies to AndroidX Media3\"\n  echo \" -l: list files that will be considered for rewrite and then exit\"\n  echo \" -x: exclude the path from the list of file to be changed: 'app/src/test'\"\n  echo \" -f: force the action even when validation fails\"\n  echo \" -v: print the exoplayer2/media3 version strings of this script and exit\"\n  echo \" --noclean : Do not call './gradlew clean' in project directory.\"\n  echo \" -h, --help: show this help text\"\n}\n\nfunction print_pairs {\n  while read -r line;\n  do\n    IFS=' ' read -ra PAIR <<< \"$line\"\n    printf \"%-55s %-30s\\n\" \"${PAIR[0]}\" \"${PAIR[1]}\"\n  done <<< \"$(echo \"$@\")\"\n}\n\nfunction print_class_mappings {\n  while read -r mapping;\n  do\n    old=$(echo \"$mapping\" | cut -d ' ' -f1)\n    new=$(echo \"$mapping\" | cut -d ' ' -f2)\n    classes=$(echo \"$mapping\" | cut -d ' ' -f3-)\n    for clazz in $classes;\n    do\n      printf \"%-80s %-30s\\n\" \"$old.$clazz\" \"$new.$clazz\"\n    done\n  done <<< \"$(echo \"$CLASS_MAPPINGS\" | sort)\"\n}\n\nERROR_COUNTER=0\nVALIDATION_ERRORS=''\n\nfunction add_validation_error {\n  let ERROR_COUNTER++\n  VALIDATION_ERRORS+=\"\\033[31m[$ERROR_COUNTER] ->\\033[0m ${1}\"\n}\n\nfunction validate_exoplayer_version() {\n  has_exoplayer_dependency=''\n  while read -r file;\n  do\n    local version\n    version=$(grep -m 1 \"com\\.google\\.android\\.exoplayer:\" \"$file\" | cut -d \":\" -f3 | tr -d \\\" | tr -d \\')\n    if [[ ! -z $version ]] && [[ ! \"$version\" =~ $LEGACY_PEER_VERSION ]];\n    then\n      add_validation_error \"The version does not match '$LEGACY_PEER_VERSION'. \\\nUpdate to '$LEGACY_PEER_VERSION' or use the migration script matching your \\\ncurrent version. Current version '$version' found in\\n    $file\\n\"\n    fi\n  done <<< \"$(find . -type f -name \"build.gradle\")\"\n}\n\nfunction validate_string_not_contained {\n  local pattern=$1 # regex\n  local failure_message=$2\n  while read -r file;\n  do\n    if grep -q -e \"$pattern\" \"$file\";\n    then\n      add_validation_error \"$failure_message:\\n    $file\\n\"\n    fi\n  done <<< \"$files\"\n}\n\nfunction validate_string_patterns {\n  validate_string_not_contained \\\n    'com\\.google\\.android\\.exoplayer2\\..*\\*' \\\n    'Replace wildcard import statements with fully qualified import statements';\n  validate_string_not_contained \\\n    'com\\.google\\.android\\.exoplayer2\\.ui\\.PlayerView' \\\n    'Migrate PlayerView to StyledPlayerView before migrating';\n  validate_string_not_contained \\\n    'LegacyPlayerView' \\\n    'Migrate LegacyPlayerView to StyledPlayerView before migrating';\n  validate_string_not_contained \\\n    'com\\.google\\.android\\.exoplayer2\\.ext\\.mediasession' \\\n    'The MediaSessionConnector is integrated in androidx.media3.session.MediaSession'\n}\n\nSED_CMD_INPLACE='sed --in-place=.bak '\nif [[ \"$OSTYPE\" == \"darwin\"* ]]; then\n  SED_CMD_INPLACE=\"sed -i .bak \"\nfi\n\nMIGRATE_FILES='1'\nLIST_FILES_ONLY='1'\nPRINT_CLASS_MAPPINGS='1'\nPRINT_PACKAGE_MAPPINGS='1'\nPRINT_DEPENDENCY_MAPPINGS='1'\nPRINT_VERSION='1'\nNO_CLEAN='1'\nFORCE='1'\nIGNORE_VERSION='1'\nEXCLUDED_PATHS=''\n\nwhile [[ $1 =~ ^-.* ]];\ndo\n  case \"$1\" in\n   -m     ) MIGRATE_FILES='';;\n   -l     ) LIST_FILES_ONLY='';;\n   -c     ) PRINT_CLASS_MAPPINGS='';;\n   -p     ) PRINT_PACKAGE_MAPPINGS='';;\n   -d     ) PRINT_DEPENDENCY_MAPPINGS='';;\n   -v     ) PRINT_VERSION='';;\n   -f     ) FORCE='';;\n   -x     ) shift; EXCLUDED_PATHS=\"$(printf \"%s\\n%s\" $EXCLUDED_PATHS $1)\";;\n   --noclean     ) NO_CLEAN='';;\n   *      ) usage && exit 1;;\n  esac\n  shift\ndone\n\nif [[ -z $PRINT_DEPENDENCY_MAPPINGS ]];\nthen\n  print_pairs \"$DEPENDENCY_MAPPINGS\"\n  exit 0\nelif [[ -z $PRINT_PACKAGE_MAPPINGS ]];\nthen\n  print_pairs \"$PACKAGE_MAPPINGS\"\n  exit 0\nelif [[ -z $PRINT_CLASS_MAPPINGS ]];\nthen\n  print_class_mappings\n  exit 0\nelif [[ -z $PRINT_VERSION ]];\nthen\n  echo \"$LEGACY_PEER_VERSION -> $MEDIA3_VERSION. This script is written to migrate from ExoPlayer $LEGACY_PEER_VERSION to AndroidX Media3 $MEDIA3_VERSION\"\n  exit 0\nelif [[ -z $1 ]];\nthen\n  usage\n  exit 1\nfi\n\nif [[ ! -f $1/gradlew ]];\nthen\n  echo \"directory seems not to exist or is not a gradle project (missing 'gradlew')\"\n  usage\n  exit 1\nfi\n\nPROJECT_ROOT=$1\ncd \"$PROJECT_ROOT\"\n\n# Create the set of files to transform\nexclusion=\"/build/|/.idea/|/res/drawable|/res/color|/res/mipmap|/res/values|\"\nif [[ ! -z $EXCLUDED_PATHS ]];\nthen\n  while read -r path;\n  do\n    exclusion=\"$exclusion./$path|\"\n  done <<< \"$EXCLUDED_PATHS\"\nfi\nfiles=$(find . -name '*\\.java' -o -name '*\\.kt' -o -name '*\\.xml' | grep -Ev \"'$exclusion'\")\n\n# Validate project and exit in case of validation errors\nvalidate_string_patterns\nvalidate_exoplayer_version \"$PROJECT_ROOT\"\nif [[ ! -z $FORCE && ! -z \"$VALIDATION_ERRORS\" ]];\nthen\n  echo \"=============================================\"\n  echo \"Validation errors (use -f to force execution)\"\n  echo \"---------------------------------------------\"\n  echo -e \"$VALIDATION_ERRORS\"\n  exit 1\nfi\n\nif [[ -z $LIST_FILES_ONLY ]];\nthen\n  echo \"$files\" | cut -c 3-\n  find . -type f -name 'build\\.gradle' | cut -c 3-\n  exit 0\nfi\n\n# start migration after successful validation or when forced to disregard validation\n# errors\n\nif [[ ! -z \"$MIGRATE_FILES\" ]];\nthen\n  echo \"nothing to do\"\n  usage\n  exit 0\nfi\n\nif [[ ! -z $NO_CLEAN ]];\nthen\n  ./gradlew clean\nfi\n\n# create expressions for class renamings\nrenaming_expressions=''\nwhile read -r renaming;\ndo\n  src=$(echo \"$renaming\" | cut -d ' ' -f1 | sed -e 's/\\./\\\\\\./g')\n  dest=$(echo \"$renaming\" | cut -d ' ' -f2)\n  renaming_expressions+=\"-e s/$src/$dest/g \"\ndone <<< \"$CLASS_RENAMINGS\"\n\n# create expressions for class mappings\nclasses_expressions=''\nwhile read -r mapping;\ndo\n  src=$(echo \"$mapping\" | cut -d ' ' -f1 | sed -e 's/\\./\\\\\\./g')\n  dest=$(echo \"$mapping\" | cut -d ' ' -f2)\n  classes=$(echo \"$mapping\" | cut -d ' ' -f3-)\n  for clazz in $classes;\n  do\n    classes_expressions+=\"-e s/$src\\.$clazz/$dest.$clazz/g \"\n  done\ndone <<< \"$CLASS_MAPPINGS\"\n\n# create expressions for package mappings\npackages_expressions=''\nwhile read -r mapping;\ndo\n  src=$(echo \"$mapping\" | cut -d ' ' -f1 | sed -e 's/\\./\\\\\\./g')\n  dest=$(echo \"$mapping\" | cut -d ' ' -f2)\n  packages_expressions+=\"-e s/$src/$dest/g \"\ndone <<< \"$PACKAGE_MAPPINGS\"\n\n# do search and replace with expressions in each selected file\nwhile read -r file;\ndo\n  echo \"migrating $file\"\n  expr=\"$renaming_expressions $classes_expressions $packages_expressions\"\n  $SED_CMD_INPLACE $expr $file\n  rm ${file}.bak\ndone <<< \"$files\"\n\n# create expressions for dependencies in gradle files\nEXOPLAYER_GROUP=\"com\\.google\\.android\\.exoplayer\"\nMEDIA3_GROUP=\"androidx.media3\"\ndependency_expressions=\"\"\nwhile read -r mapping\ndo\n  OLD=$(echo \"$mapping\" | cut -d ' ' -f1 | sed -e 's/\\./\\\\\\./g')\n  NEW=$(echo \"$mapping\" | cut -d ' ' -f2)\n  dependency_expressions=\"$dependency_expressions -e s/$EXOPLAYER_GROUP:$OLD:.*\\\"/$MEDIA3_GROUP:$NEW:$MEDIA3_VERSION\\\"/g -e s/$EXOPLAYER_GROUP:$OLD:.*'/$MEDIA3_GROUP:$NEW:$MEDIA3_VERSION'/\"\ndone <<< \"$DEPENDENCY_MAPPINGS\"\n\n## do search and replace for dependencies in gradle files\nwhile read -r build_file;\ndo\n  echo \"migrating build file $build_file\"\n  $SED_CMD_INPLACE $dependency_expressions $build_file\n  rm ${build_file}.bak\ndone <<< \"$(find . -type f -name 'build\\.gradle')\"\n"
        },
        {
          "name": "missing_aar_type_workaround.gradle",
          "type": "blob",
          "size": 4.4609375,
          "content": "// Copyright 2021 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n// Workaround for https://github.com/gradle/gradle/issues/3170, adding\n// <type>aar</type> in the POM to all dependencies that have AAR files.\ndef addMissingAarTypeToXml(xml) {\n    // Dependencies that have JARs only (=don't contain an AAR file).\n    def jar_only_dependencies = [\n        \"androidx.annotation:annotation\",\n        \"androidx.collection:collection\",\n        \"androidx.concurrent:concurrent-futures\",\n        \"junit:junit\",\n        \"com.google.ads.interactivemedia.v3:interactivemedia\",\n        \"com.google.guava:guava\",\n        \"com.google.truth:truth\",\n        \"com.google.truth.extensions:truth-java8-extension\",\n        \"com.squareup.okhttp3:okhttp\",\n        \"com.squareup.okhttp3:mockwebserver\",\n        \"org.mockito:mockito-core\",\n        \"org.robolectric:robolectric\",\n    ]\n    // Dependencies that have AAR files.\n    def aar_dependencies = [\n        \"androidx.annotation:annotation-experimental\",\n        \"androidx.appcompat:appcompat\",\n        \"androidx.core:core\",\n        \"androidx.core:core-ktx\",\n        \"androidx.leanback:leanback\",\n        \"androidx.media:media\",\n        \"androidx.media2:media2-session\",\n        \"androidx.multidex:multidex\",\n        \"androidx.recyclerview:recyclerview\",\n        \"androidx.test:core\",\n        \"androidx.test.ext:junit\",\n        \"androidx.test.ext:truth\",\n        \"androidx.work:work-runtime\",\n        \"com.google.android.gms:play-services-cast-framework\",\n        \"com.google.android.gms:play-services-cronet\",\n        \"com.google.android.material:material\",\n        \"io.antmedia:rtmp-client\",\n    ]\n    xml.asNode().children().stream()\n        .filter { it.name().toString().endsWith(\"dependencies\") }\n        .forEach {\n            it.children().stream()\n                .forEach {\n                    String groupId =\n                        it.children().stream()\n                            .filter { it.name().toString().endsWith(\"groupId\") }\n                            .findFirst()\n                            .get()\n                            .children()[0]\n                    String artifactId =\n                        it.children().stream()\n                            .filter {\n                                it.name().toString().endsWith(\"artifactId\")\n                            }\n                            .findFirst()\n                            .get()\n                            .children()[0]\n                    String dependencyName = groupId + \":\" + artifactId\n                    boolean isProjectLibrary =\n     groupId == 'com.google.android.exoplayer'\n                    boolean hasJar =\n                        jar_only_dependencies.contains(dependencyName)\n                    boolean hasAar =\n                        (isProjectLibrary\n                            || aar_dependencies.contains(dependencyName))\n                    if (!hasJar && !hasAar) {\n                        // To look for what kind of dependency it is i.e. aar or jar type,\n                        // please expand the External Libraries in Project view in Android Studio\n                        // and search for your dependency inside Gradle Script dependencies.\n                        // .aar files have @aar suffix at the end of their name,\n                        // while .jar files have nothing.\n                        throw new IllegalStateException(\n                            dependencyName + \" is not on the JAR or AAR list in missing_aar_type_workaround.gradle\")\n                    }\n                    boolean hasTypeDeclaration =\n                        it.children().stream()\n                            .filter { it.name().toString().endsWith(\"type\") }\n                            .findFirst()\n                            .isPresent()\n                    if (hasAar && !hasTypeDeclaration) {\n                        it.appendNode(\"type\", \"aar\")\n                    }\n                }\n        }\n}\n\next {\n    addMissingAarTypeToXml = this.&addMissingAarTypeToXml\n}\n"
        },
        {
          "name": "playbacktests",
          "type": "tree",
          "content": null
        },
        {
          "name": "publish.gradle",
          "type": "blob",
          "size": 2.3076171875,
          "content": "// Copyright (C) 2017 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\napply plugin: 'maven-publish'\napply from: \"$gradle.ext.exoplayerSettingsDir/missing_aar_type_workaround.gradle\"\n\nafterEvaluate {\n    publishing {\n        repositories {\n            maven {\n                url = findProperty('mavenRepo') ?: \"${buildDir}/repo\"\n            }\n        }\n        publications {\n            release(MavenPublication) {\n                from components.release\n                artifact androidSourcesJar\n                groupId = 'com.google.android.exoplayer'\n                artifactId = releaseArtifactId\n                version releaseVersion\n                pom {\n                    name = releaseArtifactId\n                    description = releaseDescription\n                    licenses {\n                        license {\n                            name = 'The Apache Software License, Version 2.0'\n                            url = 'http://www.apache.org/licenses/LICENSE-2.0.txt'\n                            distribution = 'repo'\n                        }\n                    }\n                    developers {\n                        developer {\n                            name = 'The Android Open Source Project'\n                        }\n                    }\n                    scm {\n                        connection = 'scm:git:https://github.com/google/ExoPlayer.git'\n                        url = 'https://github.com/google/ExoPlayer'\n                    }\n                    withXml {\n                        addMissingAarTypeToXml(it)\n                    }\n                }\n            }\n        }\n    }\n}\ntasks.withType(PublishToMavenRepository) { it.dependsOn lint, test }\n\ntask androidSourcesJar(type: Jar) {\n    archiveClassifier.set('sources')\n    from android.sourceSets.main.java.srcDirs\n}\n"
        },
        {
          "name": "robolectricutils",
          "type": "tree",
          "content": null
        },
        {
          "name": "settings.gradle",
          "type": "blob",
          "size": 1.537109375,
          "content": "// Copyright (C) 2016 The Android Open Source Project\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n gradle.ext.exoplayerModulePrefix = ''\n\ndef modulePrefix = ':'\n if (gradle.ext.has('exoplayerModulePrefix')) {\n     modulePrefix += gradle.ext.exoplayerModulePrefix\n }\n\n rootProject.name = 'exoplayer2'\n\ninclude modulePrefix + 'demo'\nproject(modulePrefix + 'demo').projectDir = new File(rootDir, 'demos/main')\ninclude modulePrefix + 'demo-cast'\nproject(modulePrefix + 'demo-cast').projectDir = new File(rootDir, 'demos/cast')\ninclude modulePrefix + 'demo-gl'\nproject(modulePrefix + 'demo-gl').projectDir = new File(rootDir, 'demos/gl')\ninclude modulePrefix + 'demo-surface'\nproject(modulePrefix + 'demo-surface').projectDir = new File(rootDir, 'demos/surface')\ninclude modulePrefix + 'demo-transformer'\nproject(modulePrefix + 'demo-transformer').projectDir = new File(rootDir, 'demos/transformer')\n\ninclude modulePrefix + 'playbacktests'\nproject(modulePrefix + 'playbacktests').projectDir = new File(rootDir, 'playbacktests')\n\napply from: 'core_settings.gradle'\n"
        },
        {
          "name": "testdata",
          "type": "tree",
          "content": null
        },
        {
          "name": "testutils",
          "type": "tree",
          "content": null
        }
      ]
    }
  ]
}