{
  "metadata": {
    "timestamp": 1736708168971,
    "page": 625,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjYzMA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "brianway/webporter",
      "stars": 2780,
      "defaultBranch": "master",
      "files": [
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.1376953125,
          "content": "# Eclipse\n.classpath\n.project\n.settings/\n\n# Intellij\n.idea/\n*.iml\n*.iws\n\n# Mac\n.DS_Store\n\n# Maven\nlog/\ntarget/\nout/\n\n# Others\nbin/\n.myeclipse"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 5.3740234375,
          "content": "# webporter\n\nwebporter 是一个基于垂直爬虫框架 [webmagic](http://webmagic.io/) 的 Java 爬虫应用，旨在提供一套完整的数据爬取，持久化存储和可视化展示的实践样例。\n\nwebporter 寓意“我们不生产数据，我们只是互联网的搬运工～”\n\n**如果觉得不错，请先在这个仓库上点个 star 吧**，这也是对我的肯定和鼓励，谢谢了。\n\n目前只提供了知乎用户数据的爬虫示例。不定时进行调整和补充，需要关注更新的请 watch、star、fork\n\n---\n\nwebporter 的主要特色：\n\n- 基于国产 Java 爬虫框架 webmagic，是众多 Python 爬虫中的一股清流\n- 完全模块化的设计，强大的可扩展性\n- 核心简单，但是涵盖爬虫应用的完整流程，是爬虫应用的实践样例\n- 使用 JSON 配置，无需改动源码\n- 支持多线程\n- 支持向 Elasticsearch 批量导入\n\n**注意：webporter 不是爬虫框架，而是如何使用爬虫框架进行实战的样例，偏休闲性质，不建议使用在生产环境。** 生产环境建议使用 webmagic 或者 scrapy\n\nwebporter 核心模块的架构和设计主要参考了  **webmagic**\n[https://github.com/code4craft/webmagic](https://github.com/code4craft/webmagic)\n\nwebporter 的 github 地址：[https://github.com/brianway/webporter](https://github.com/brianway/webporter)\n\n## 效果展示\n\n详细的数据分析文章请看我的博客 [《爬取知乎60万用户信息之后的简单分析》](http://brianway.github.io/2016/12/20/webporter-zhihu-user-analysis/)\n\n- 下载数据：去重导入 Elasticsearch 后大概有 60+ 万用户数据(目前没有遇到反爬限制)\n\n![索引状态图](https://pic1.zhimg.com/80/v2-f28d4e4a9eb3e3407bec6b8f2cde2348_1440w.jpg)\n\n- 示例分析：通过聚合得到知乎用户 top 10 行业分布情况(1:男，0:女，-1:未知)\n\n![top 10 行业分布](https://pic1.zhimg.com/80/v2-8b11f37c69db727cb3d8abbc978c4d5c_1440w.png)\n\n\n## 仓库目录\n\n- [webporter-core](/webporter-core):核心基础模块，包括自动配置，抽象逻辑等部分\n- [webporter-data-elasticsearch](/webporter-data-elasticsearch):将数据导入 Elasticsearch 的工具模块\n- [webporter-collector-zhihu](/webporter-collector-zhihu):知乎用户信息的业务模块，完成爬取和持久化存储的功能\n\n## 环境要求\n\n- JDK 1.8+\n- Maven 3.3+\n- Elasticsearch 5.0.1\n- Kibana 5.0.1\n\n新手可参考我的博客 [《Elasticsearch 5.0-安装使用》](http://brianway.github.io/2016/12/13/elasticsearch-installation/)快速上手 Elasticsearch+Kibana\n\n## 快速开始\n\n以爬取知乎用户数据为例\n\n1.定制配置文件\n\n配置文件位于 `webporter-collector-zhihu/src/main/resources/config.json`, 示例：\n\n```json\n{\n  \"site\": {\n    \"domain\": \"www.zhihu.com\",\n    \"headers\": {\n      \"User-Agent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36\",\n      \"authorization\": \"Your own authorization here.\"\n    },\n    \"retryTimes\": 3,\n    \"sleepTime\": 500\n  },\n  \"base_dir\": \"/Users/brian/todo/data/zhihu/\"\n}\n```\n\n**仅需要修改两处：`authorization` 和 `base_dir` 即可**\n\n- `authorization`: 需要知乎账户在已登录状态下自行在浏览器抓包提取该 HTTP 响应头。若有疑问请参考 [issue 3](https://github.com/brianway/webporter/issues/3)\n- `base_dir`: 为保存数据文件的根目录，需具有写权限\n\n配完就可以直接使用了。更多关于 `site` 的属性配置请参考 [WebMagic in Action - Site Config](http://webmagic.io/docs/zh/posts/ch4-basic-page-processor/spider-config.html)\n\n2.启动爬虫\n\n依次运行 `webporter-collector-zhihu` 模块的下面两个类的 `main` 方法即可。(*注意：由于这两个阶段是串行的,不要同时启动这两个类*)\n\n- [`ZhihuFolloweePageProcessor`](/webporter-collector-zhihu/src/main/java/com/brianway/webporter/collector/zhihu/download/ZhihuFolloweePageProcessor.java):该类用于从知乎下载用户信息，下载的数据可以复制粘贴在 [在线 json 格式化工具](http://tool.oschina.net/codeformat/json)中查看\n- [`FolloweeUploader`](/webporter-collector-zhihu/src/main/java/com/brianway/webporter/collector/zhihu/upload/FolloweeUploader.java):该类用于将用户信息上传到 Elasticsearch (需要提前安装并运行 Elasticsearch)，知乎数据的 index 名称为 `zhihu`\n\n\n3.可视化\n\n安装好 [Elasticsearch](https://www.elastic.co/guide/en/elasticsearch/reference/5.0/index.html) 和 [Kibana](https://www.elastic.co/guide/en/kibana/5.0/index.html) 后，在 Kibana 中使用 Visualize 对数据可视化即可\n\n## 赞助\n\n如果您觉得该项目对您有帮助，请扫描下方二维码对我进行鼓励，以便我更好的维护和更新，谢谢支持！\n\n![支付宝](https://brianway.github.io/img/wechatpay_small.png)\n![微信](https://brianway.github.io/img/alipay_small.png)\n\n\n## TODO\n\n* [x] 数据爬取，获取知乎用户数据\n* [x] 数据持久化，将数据导入到 Elasticsearch 中\n* [x] 可视化展示，通过前端框架对数据进行简单的分析和展示\n* [ ] 使用 Java 8 新特性完善代码\n* [ ] Dockerize 这个仓库，方便用户直接使用\n\n\n-----\n\n## 联系作者\n\n- [Brian's Personal Website](http://brianway.github.io/)\n- [CSDN](http://blog.csdn.net/h3243212/)\n- [oschina](http://my.oschina.net/brianway)\n\n\nEmail: weichuyang@163.com\n\n\n\n## Lisence\n\nLisenced under [Apache 2.0 lisence](http://opensource.org/licenses/Apache-2.0)\n"
        },
        {
          "name": "pom.xml",
          "type": "blob",
          "size": 12.3740234375,
          "content": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n    <modelVersion>4.0.0</modelVersion>\n\n    <groupId>com.github.brianway</groupId>\n    <artifactId>webporter-parent</artifactId>\n    <packaging>pom</packaging>\n    <version>1.1-SNAPSHOT</version>\n    <name>webporter-parent</name>\n\n    <properties>\n        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\n        <project.reporting.outputEncoding>UTF-8</project.reporting.outputEncoding>\n        <maven.compiler.source>1.8</maven.compiler.source>\n        <maven.compiler.target>1.8</maven.compiler.target>\n        <junit.version>4.11</junit.version>\n        <webmagic.version>0.6.1</webmagic.version>\n        <log4j.version>2.6.2</log4j.version>\n        <slf4j.version>1.7.21</slf4j.version>\n        <elasticsearch.version>5.0.1</elasticsearch.version>\n        <guava.version>15.0</guava.version>\n        <!-- plugin -->\n        <plugin.surefire.version>2.20</plugin.surefire.version>\n        <plugin.compiler.version>3.6.1</plugin.compiler.version>\n        <plugin.dependency.version>3.0.0</plugin.dependency.version>\n        <plugin.resources.version>3.0.2</plugin.resources.version>\n        <plugin.jar.version>3.0.2</plugin.jar.version>\n        <plugin.source.version>3.0.1</plugin.source.version>\n        <plugin.javadoc.version>2.10.4</plugin.javadoc.version>\n        <plugin.release.version>2.5.3</plugin.release.version>\n        <plugin.gpg.version>1.6</plugin.gpg.version>\n    </properties>\n\n    <description>\n        Java crawler application based on webmagic.\n    </description>\n    <url>https://github.com/brianway/webporter/</url>\n\n    <developers>\n        <developer>\n            <id>brianway</id>\n            <name>Chuyang Wei</name>\n            <email>weichuyang@163.com</email>\n        </developer>\n    </developers>\n\n    <scm>\n        <connection>scm:git:git@github.com:brianway/webporter.git</connection>\n        <developerConnection>scm:git:git@github.com:brianway/webporter.git</developerConnection>\n        <url>git@github.com:brianway/webporter.git</url>\n      <tag>HEAD</tag>\n  </scm>\n\n    <licenses>\n        <license>\n            <name>Apache License, Version 2.0</name>\n            <url>http://www.apache.org/licenses/LICENSE-2.0</url>\n        </license>\n    </licenses>\n\n    <modules>\n        <module>webporter-core</module>\n        <module>webporter-collector-zhihu</module>\n        <module>webporter-data-elasticsearch</module>\n    </modules>\n\n    <dependencyManagement>\n        <dependencies>\n            <dependency>\n                <groupId>junit</groupId>\n                <artifactId>junit</artifactId>\n                <version>${junit.version}</version>\n                <scope>test</scope>\n            </dependency>\n\n            <dependency>\n                <groupId>com.google.guava</groupId>\n                <artifactId>guava</artifactId>\n                <version>${guava.version}</version>\n            </dependency>\n\n            <dependency>\n                <groupId>us.codecraft</groupId>\n                <artifactId>webmagic-core</artifactId>\n                <version>${webmagic.version}</version>\n                <!--exclusions>\n                    <exclusion>\n                        <groupId>org.slf4j</groupId>\n                        <artifactId>slf4j-log4j12</artifactId>\n                    </exclusion>\n                </exclusions-->\n            </dependency>\n\n            <dependency>\n                <groupId>us.codecraft</groupId>\n                <artifactId>webmagic-extension</artifactId>\n                <version>${webmagic.version}</version>\n            </dependency>\n\n            <dependency>\n                <groupId>org.elasticsearch.client</groupId>\n                <artifactId>transport</artifactId>\n                <version>${elasticsearch.version}</version>\n            </dependency>\n\n            <!-- log -->\n            <dependency>\n                <groupId>org.apache.logging.log4j</groupId>\n                <artifactId>log4j-to-slf4j</artifactId>\n                <version>${log4j.version}</version>\n            </dependency>\n            <dependency>\n                <groupId>org.slf4j</groupId>\n                <artifactId>slf4j-api</artifactId>\n                <version>${slf4j.version}</version>\n            </dependency>\n            <dependency>\n                <groupId>org.slf4j</groupId>\n                <artifactId>slf4j-log4j12</artifactId>\n                <version>${slf4j.version}</version>\n            </dependency>\n        </dependencies>\n    </dependencyManagement>\n\n    <build>\n        <plugins>\n            <plugin>\n                <groupId>org.apache.maven.plugins</groupId>\n                <artifactId>maven-surefire-plugin</artifactId>\n                <version>${plugin.surefire.version}</version>\n                <configuration>\n                    <forkCount>1</forkCount>\n                    <reuseForks>true</reuseForks>\n                    <argLine>-Xms1024m -Xmx1024m -Xss1m</argLine>\n                </configuration>\n            </plugin>\n            <plugin>\n                <groupId>org.apache.maven.plugins</groupId>\n                <artifactId>maven-compiler-plugin</artifactId>\n                <version>${plugin.compiler.version}</version>\n                <configuration>\n                    <source>1.8</source>\n                    <target>1.8</target>\n                    <encoding>UTF-8</encoding>\n                </configuration>\n            </plugin>\n            <!--<plugin>-->\n                <!--<groupId>org.apache.maven.plugins</groupId>-->\n                <!--<artifactId>maven-dependency-plugin</artifactId>-->\n                <!--<version>${plugin.dependency.version}</version>-->\n                <!--<executions>-->\n                    <!--<execution>-->\n                        <!--<id>copy-dependencies</id>-->\n                        <!--<phase>package</phase>-->\n                        <!--<goals>-->\n                            <!--<goal>copy-dependencies</goal>-->\n                        <!--</goals>-->\n                        <!--<configuration>-->\n                            <!--<outputDirectory>${project.build.directory}/lib</outputDirectory>-->\n                            <!--<overWriteReleases>false</overWriteReleases>-->\n                            <!--<overWriteSnapshots>false</overWriteSnapshots>-->\n                            <!--<overWriteIfNewer>true</overWriteIfNewer>-->\n                        <!--</configuration>-->\n                    <!--</execution>-->\n                <!--</executions>-->\n            <!--</plugin>-->\n            <plugin>\n                <groupId>org.apache.maven.plugins</groupId>\n                <artifactId>maven-resources-plugin</artifactId>\n                <version>${plugin.resources.version}</version>\n                <configuration>\n                    <encoding>UTF-8</encoding>\n                </configuration>\n            </plugin>\n            <plugin>\n                <groupId>org.apache.maven.plugins</groupId>\n                <artifactId>maven-jar-plugin</artifactId>\n                <version>${plugin.jar.version}</version>\n                <configuration>\n                    <excludes>\n                        <exclude>log4j.xml</exclude>\n                    </excludes>\n                </configuration>\n            </plugin>\n            <plugin>\n                <groupId>org.apache.maven.plugins</groupId>\n                <artifactId>maven-source-plugin</artifactId>\n                <version>${plugin.source.version}</version>\n                <executions>\n                    <execution>\n                        <id>attach-sources</id>\n                        <goals>\n                            <goal>jar</goal>\n                        </goals>\n                    </execution>\n                </executions>\n            </plugin>\n            <plugin>\n                <groupId>org.apache.maven.plugins</groupId>\n                <artifactId>maven-javadoc-plugin</artifactId>\n                <version>${plugin.javadoc.version}</version>\n                <configuration>\n                    <encoding>UTF-8</encoding>\n                    <doctitle>webporter 1.0</doctitle>\n                    <locale>zh_CN</locale>\n                </configuration>\n                <executions>\n                    <execution>\n                        <id>aggregate</id>\n                        <goals>\n                            <goal>aggregate</goal>\n                        </goals>\n                        <phase>site</phase>\n                    </execution>\n                    <execution>\n                        <id>attach-javadocs</id>\n                        <goals>\n                            <goal>jar</goal>\n                        </goals>\n                    </execution>\n                </executions>\n            </plugin>\n            <plugin>\n                <groupId>org.apache.maven.plugins</groupId>\n                <artifactId>maven-release-plugin</artifactId>\n                <version>${plugin.release.version}</version>\n                <configuration>\n                    <tagNameFormat>v@{project.version}</tagNameFormat>\n                    <autoVersionSubmodules>true</autoVersionSubmodules>\n                </configuration>\n            </plugin>\n        </plugins>\n    </build>\n\n    <profiles>\n        <profile>\n            <id>release</id>\n            <build>\n                <plugins>\n                    <!-- Source -->\n                    <plugin>\n                        <groupId>org.apache.maven.plugins</groupId>\n                        <artifactId>maven-source-plugin</artifactId>\n                        <version>${plugin.source.version}</version>\n                        <executions>\n                            <execution>\n                                <phase>package</phase>\n                                <goals>\n                                    <goal>jar-no-fork</goal>\n                                </goals>\n                            </execution>\n                        </executions>\n                    </plugin>\n                    <!-- Javadoc -->\n                    <plugin>\n                        <groupId>org.apache.maven.plugins</groupId>\n                        <artifactId>maven-javadoc-plugin</artifactId>\n                        <version>${plugin.javadoc.version}</version>\n                        <executions>\n                            <execution>\n                                <phase>package</phase>\n                                <goals>\n                                    <goal>jar</goal>\n                                </goals>\n                            </execution>\n                        </executions>\n                    </plugin>\n                    <!-- GPG -->\n                    <plugin>\n                        <groupId>org.apache.maven.plugins</groupId>\n                        <artifactId>maven-gpg-plugin</artifactId>\n                        <version>${plugin.gpg.version}</version>\n                        <executions>\n                            <execution>\n                                <phase>verify</phase>\n                                <goals>\n                                    <goal>sign</goal>\n                                </goals>\n                            </execution>\n                        </executions>\n                    </plugin>\n                    <plugin>\n                        <groupId>org.sonatype.plugins</groupId>\n                        <artifactId>nexus-staging-maven-plugin</artifactId>\n                        <version>1.6.7</version>\n                        <extensions>true</extensions>\n                        <configuration>\n                            <serverId>sonatype-nexus-staging</serverId>\n                            <nexusUrl>https://oss.sonatype.org/</nexusUrl>\n                            <autoReleaseAfterClose>true</autoReleaseAfterClose>\n                        </configuration>\n                    </plugin>\n                </plugins>\n            </build>\n            <distributionManagement>\n                <snapshotRepository>\n                    <id>sonatype-nexus-snapshots</id>\n                    <url>https://oss.sonatype.org/content/repositories/snapshots/</url>\n                </snapshotRepository>\n                <repository>\n                    <id>sonatype-nexus-staging</id>\n                    <url>https://oss.sonatype.org/service/local/staging/deploy/maven2/</url>\n                </repository>\n            </distributionManagement>\n        </profile>\n    </profiles>\n\n</project>"
        },
        {
          "name": "webporter-collector-zhihu",
          "type": "tree",
          "content": null
        },
        {
          "name": "webporter-core",
          "type": "tree",
          "content": null
        },
        {
          "name": "webporter-data-elasticsearch",
          "type": "tree",
          "content": null
        }
      ]
    }
  ]
}