{
  "metadata": {
    "timestamp": 1736608866666,
    "page": 36,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjQw",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "roncoo/roncoo-pay",
      "stars": 4868,
      "defaultBranch": "master",
      "files": [
        {
          "name": ".gitattributes",
          "type": "blob",
          "size": 0.0849609375,
          "content": "*.js linguist-language=java\n*.css linguist-language=java\n*.html linguist-language=java\n"
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.0947265625,
          "content": "/.idea/*\n*/target/\n*.project\n*.classpath\n*.settings\n*.mvn\n*.springBeans\n.project\nroncoo-pay.iml\n\n"
        },
        {
          "name": "LICENSE",
          "type": "blob",
          "size": 11.0908203125,
          "content": "                                 Apache License\n                           Version 2.0, January 2004\n                        http://www.apache.org/licenses/\n\n   TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION\n\n   1. Definitions.\n\n      \"License\" shall mean the terms and conditions for use, reproduction,\n      and distribution as defined by Sections 1 through 9 of this document.\n\n      \"Licensor\" shall mean the copyright owner or entity authorized by\n      the copyright owner that is granting the License.\n\n      \"Legal Entity\" shall mean the union of the acting entity and all\n      other entities that control, are controlled by, or are under common\n      control with that entity. For the purposes of this definition,\n      \"control\" means (i) the power, direct or indirect, to cause the\n      direction or management of such entity, whether by contract or\n      otherwise, or (ii) ownership of fifty percent (50%) or more of the\n      outstanding shares, or (iii) beneficial ownership of such entity.\n\n      \"You\" (or \"Your\") shall mean an individual or Legal Entity\n      exercising permissions granted by this License.\n\n      \"Source\" form shall mean the preferred form for making modifications,\n      including but not limited to software source code, documentation\n      source, and configuration files.\n\n      \"Object\" form shall mean any form resulting from mechanical\n      transformation or translation of a Source form, including but\n      not limited to compiled object code, generated documentation,\n      and conversions to other media types.\n\n      \"Work\" shall mean the work of authorship, whether in Source or\n      Object form, made available under the License, as indicated by a\n      copyright notice that is included in or attached to the work\n      (an example is provided in the Appendix below).\n\n      \"Derivative Works\" shall mean any work, whether in Source or Object\n      form, that is based on (or derived from) the Work and for which the\n      editorial revisions, annotations, elaborations, or other modifications\n      represent, as a whole, an original work of authorship. For the purposes\n      of this License, Derivative Works shall not include works that remain\n      separable from, or merely link (or bind by name) to the interfaces of,\n      the Work and Derivative Works thereof.\n\n      \"Contribution\" shall mean any work of authorship, including\n      the original version of the Work and any modifications or additions\n      to that Work or Derivative Works thereof, that is intentionally\n      submitted to Licensor for inclusion in the Work by the copyright owner\n      or by an individual or Legal Entity authorized to submit on behalf of\n      the copyright owner. For the purposes of this definition, \"submitted\"\n      means any form of electronic, verbal, or written communication sent\n      to the Licensor or its representatives, including but not limited to\n      communication on electronic mailing lists, source code control systems,\n      and issue tracking systems that are managed by, or on behalf of, the\n      Licensor for the purpose of discussing and improving the Work, but\n      excluding communication that is conspicuously marked or otherwise\n      designated in writing by the copyright owner as \"Not a Contribution.\"\n\n      \"Contributor\" shall mean Licensor and any individual or Legal Entity\n      on behalf of whom a Contribution has been received by Licensor and\n      subsequently incorporated within the Work.\n\n   2. Grant of Copyright License. Subject to the terms and conditions of\n      this License, each Contributor hereby grants to You a perpetual,\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n      copyright license to reproduce, prepare Derivative Works of,\n      publicly display, publicly perform, sublicense, and distribute the\n      Work and such Derivative Works in Source or Object form.\n\n   3. Grant of Patent License. Subject to the terms and conditions of\n      this License, each Contributor hereby grants to You a perpetual,\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n      (except as stated in this section) patent license to make, have made,\n      use, offer to sell, sell, import, and otherwise transfer the Work,\n      where such license applies only to those patent claims licensable\n      by such Contributor that are necessarily infringed by their\n      Contribution(s) alone or by combination of their Contribution(s)\n      with the Work to which such Contribution(s) was submitted. If You\n      institute patent litigation against any entity (including a\n      cross-claim or counterclaim in a lawsuit) alleging that the Work\n      or a Contribution incorporated within the Work constitutes direct\n      or contributory patent infringement, then any patent licenses\n      granted to You under this License for that Work shall terminate\n      as of the date such litigation is filed.\n\n   4. Redistribution. You may reproduce and distribute copies of the\n      Work or Derivative Works thereof in any medium, with or without\n      modifications, and in Source or Object form, provided that You\n      meet the following conditions:\n\n      (a) You must give any other recipients of the Work or\n          Derivative Works a copy of this License; and\n\n      (b) You must cause any modified files to carry prominent notices\n          stating that You changed the files; and\n\n      (c) You must retain, in the Source form of any Derivative Works\n          that You distribute, all copyright, patent, trademark, and\n          attribution notices from the Source form of the Work,\n          excluding those notices that do not pertain to any part of\n          the Derivative Works; and\n\n      (d) If the Work includes a \"NOTICE\" text file as part of its\n          distribution, then any Derivative Works that You distribute must\n          include a readable copy of the attribution notices contained\n          within such NOTICE file, excluding those notices that do not\n          pertain to any part of the Derivative Works, in at least one\n          of the following places: within a NOTICE text file distributed\n          as part of the Derivative Works; within the Source form or\n          documentation, if provided along with the Derivative Works; or,\n          within a display generated by the Derivative Works, if and\n          wherever such third-party notices normally appear. The contents\n          of the NOTICE file are for informational purposes only and\n          do not modify the License. You may add Your own attribution\n          notices within Derivative Works that You distribute, alongside\n          or as an addendum to the NOTICE text from the Work, provided\n          that such additional attribution notices cannot be construed\n          as modifying the License.\n\n      You may add Your own copyright statement to Your modifications and\n      may provide additional or different license terms and conditions\n      for use, reproduction, or distribution of Your modifications, or\n      for any such Derivative Works as a whole, provided Your use,\n      reproduction, and distribution of the Work otherwise complies with\n      the conditions stated in this License.\n\n   5. Submission of Contributions. Unless You explicitly state otherwise,\n      any Contribution intentionally submitted for inclusion in the Work\n      by You to the Licensor shall be under the terms and conditions of\n      this License, without any additional terms or conditions.\n      Notwithstanding the above, nothing herein shall supersede or modify\n      the terms of any separate license agreement you may have executed\n      with Licensor regarding such Contributions.\n\n   6. Trademarks. This License does not grant permission to use the trade\n      names, trademarks, service marks, or product names of the Licensor,\n      except as required for reasonable and customary use in describing the\n      origin of the Work and reproducing the content of the NOTICE file.\n\n   7. Disclaimer of Warranty. Unless required by applicable law or\n      agreed to in writing, Licensor provides the Work (and each\n      Contributor provides its Contributions) on an \"AS IS\" BASIS,\n      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or\n      implied, including, without limitation, any warranties or conditions\n      of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A\n      PARTICULAR PURPOSE. You are solely responsible for determining the\n      appropriateness of using or redistributing the Work and assume any\n      risks associated with Your exercise of permissions under this License.\n\n   8. Limitation of Liability. In no event and under no legal theory,\n      whether in tort (including negligence), contract, or otherwise,\n      unless required by applicable law (such as deliberate and grossly\n      negligent acts) or agreed to in writing, shall any Contributor be\n      liable to You for damages, including any direct, indirect, special,\n      incidental, or consequential damages of any character arising as a\n      result of this License or out of the use or inability to use the\n      Work (including but not limited to damages for loss of goodwill,\n      work stoppage, computer failure or malfunction, or any and all\n      other commercial damages or losses), even if such Contributor\n      has been advised of the possibility of such damages.\n\n   9. Accepting Warranty or Additional Liability. While redistributing\n      the Work or Derivative Works thereof, You may choose to offer,\n      and charge a fee for, acceptance of support, warranty, indemnity,\n      or other liability obligations and/or rights consistent with this\n      License. However, in accepting such obligations, You may act only\n      on Your own behalf and on Your sole responsibility, not on behalf\n      of any other Contributor, and only if You agree to indemnify,\n      defend, and hold each Contributor harmless for any liability\n      incurred by, or claims asserted against, such Contributor by reason\n      of your accepting any such warranty or additional liability.\n\n   END OF TERMS AND CONDITIONS\n\n   APPENDIX: How to apply the Apache License to your work.\n\n      To apply the Apache License to your work, attach the following\n      boilerplate notice, with the fields enclosed by brackets \"{}\"\n      replaced with your own identifying information. (Don't include\n      the brackets!)  The text should be enclosed in the appropriate\n      comment syntax for the file format. We also recommend that a\n      file or class name and description of purpose be included on the\n      same \"printed page\" as the copyright notice for easier\n      identification within third-party archives.\n\n   Copyright {yyyy} {name of copyright owner}\n\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 4.8623046875,
          "content": "![logo](logo.png \"logo\") \n\n# 龙果支付系统 roncoo-pay\n\n龙果支付系统（roncoo-pay）是国内首款开源的互联网支付系统，拥有独立的账户体系、用户体系、支付接入体系、支付交易体系、对账清结算体系。目标是打造一款集成主流支付方式且轻量易用的支付收款系统，满足互联网业务系统打通支付通道实现支付收款和业务资金管理等功能。\n\n###### 主要特点：\n\n1. 拥有支付系统通用的支付通道接入、用户管理、资金账户管理、对账清算管理、支付订单管理等功能；\n\n2. 已接通支付宝支付和微信支付的多种支付方式，满足大部分企业业务系统的支付需求；\n\n3. 独立的支付网关接入系统，为下游商户或业务平台提供统一支付接入接口，轻松实现统一支付接入；\n\n4. 项目代码免费开源且定期更新维护，扩展自由、使用无忧；\n\n5. 配套完善的系统使用文档、部署文档、视频教程，学习使用更轻松；\n\n6. 拥有活跃的产品技术学习交流社群，学习交流更高效；\n\n7. 由专业的支付系统产品技术团队提供服务支持，专业性及持续性有保障；\n\n----------------------------------------------------------------------------------\n\n###### 应用架构：\n![应用架构图](应用架构图.jpg \"应用架构图\")\n\n###### 支付流程：\n![支付流程图](pay-flow.png \"支付流程图\")\n\n----------------------------------------------------------------------------------\n\n##### 技术框架\n| 技术 | 描述|\n|---|--- |\n| [Spring Boot](https://spring.io/projects/spring-boot) | 核心框架 |\n| [Apache Shiro](http://shiro.apache.org)  | 安全框架 |\n| [MyBatis](http://www.mybatis.org/mybatis-3/zh/index.html) | ORM框架 |\n| [Druid](https://github.com/alibaba/druid/wiki/%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98) | 数据连接池 |\n| [Redis](https://redis.io) | 缓存数据库 |\n| [Ehcache](http://www.ehcache.org/) | 进程内缓存框架 |\n| [Maven](http://maven.apache.org/) | 项目管理 |\n\n##### 项目结构\n```\nroncoo-pay //龙果支付\n|\n├── roncoo-pay-app-notify //商户通知模块\n|\n├── roncoo-pay-app-order-polling //订单轮询模块\n|\n├── roncoo-pay-app-reconciliation //交易对账模块\n|\n├── roncoo-pay-app-settlement //交易结算模块\n|\n├── roncoo-pay-common-core //公共基础模块，不需要单独部署\n|\n├── roncoo-pay-service //核心业务模块，不需要单独部署\n|\n├── roncoo-pay-web-boss //运营后台模块\n|\n├── roncoo-pay-web-gateway //支付网关模块\n|\n├── roncoo-pay-web-merchant //商户后台模块\n|\n├── roncoo-pay-web-sample-shop //模拟商城模块\n```\n\n##### 模块介绍\n> roncoo-pay-app-notify\n\n说明：商户通知模块，把交易成功的订单信息按一定的通知策略通知相应的商户\n\n> roncoo-pay-app-order-polling\n\n说明：订单轮询模块，按制定的查询策略对平台支付中的订单进行结果查询，然后对获取到的订单结果做相应的处理（注意：除了轮询还能通过异步通知获取订单结果进行处理）\n\n> roncoo-pay-app-reconciliation\n\n说明：交易对账模块，每天定时对前一天平台的交易订单和银行方（例如：微信、支付宝...）订单进行匹配校验，校验订单状态、手续费、交易金额等\n\n> roncoo-pay-app-settlement\n\n说明：交易结算模块，每天定时对前一天已对完账后确认无误的交易订单进行结算，把钱结算给对应的商家和平台\n\n> roncoo-pay-common-core\n\n说明：公共基础模块，包含公共的工具类、枚举、配置、基础实体、基础DAO层等\n\n> roncoo-pay-service\n\n说明：核心业务模块，整个系统的核心，所有业务功能（下单，查询、账户操作......）的实现，所有web工程和app服务都需要引用该模块\n\n> roncoo-pay-web-boss\n\n说明：运营后台模块，提供对支付系统功能的配置和维护，例如维护银行信息、支付产品，商户信息、费率、交易查询等\n\n> roncoo-pay-web-gateway\n\n说明：支付网关模块，对商家提供对外的网关支付接口（包含支付下单，支付查询......）\n\n> roncoo-pay-web-merchant\n\n说明：商户后台模块，提供商户查看交易订单信息\n\n> roncoo-pay-web-sample-shop\n\n说明：模拟商城模块，提供向支付系统发起支付请求的商城，提供测试方法\n\n---------\n\n在线演示（后台管理）：http://demo.pay.roncoo.com/boss\n\n在线演示(商户系统)： http://demo.pay.roncoo.com/mch\n\n系统操作说明：https://blog.roncoo.com/article/124375\n\n系统详细介绍：https://blog.roncoo.com/article/124373\n\n系统搭建部署：https://blog.roncoo.com/article/124511\n\n\n###### 欢迎加群\nQQ群：608537272   \n\n欢迎加群，共同探讨互联网支付行业的技术经验！\n\n龙果支付系统官网：http://pay.roncoo.net\n\n![logo](logo.png \"logo\") \n\n\n \n\n\n\n\n\n\n"
        },
        {
          "name": "UPDATELOG.md",
          "type": "blob",
          "size": 1.724609375,
          "content": "###### v1.1.0-2022-07-07\n1.升级系统依赖包，优化有依赖包引起的漏洞\norg.apache.shiro:shiro-core、shiro-web、shiro-spring、shiro-ehcache\norg.dom4j:dom4j\norg.jdom:jdom2\ncom.alibaba:fastjson\n\n###### v1.0.2-2017.04.26\n1. 增加支付宝、微信查询接口\n2. 增加订单轮询工程\n3. 增加网关下单后发起订单轮询业务流程\n----------------------------------------------------------------------------------\n\n###### v1.0.1-2017.04.05\n1. 修复分页乱码bug\n2. 增加支付密码字段、商户服务器IP字段\n3. 商户后台增加结算记录查询\n4. 商户后台增加支付密码修改\n5. 运营后台用户支付配置增加商户安全等级\n6. 网关增加商户服务器IP白名单拦截\n----------------------------------------------------------------------------------\n\n###### v1.0.0-2016.9.11\n1. 修复条码支付bug\n2. boss后台增加用户手机、密码录入\n3. 增加商户后台系统\n\n----------------------------------------------------------------------------------\n\n###### v0.0.4-2016.8.15\n1. 修复权限模块bug\n2. 修改对账模块配置文件路径\n3. 去除登录指引\n4. 修复网关界面轮询bug\n\n----------------------------------------------------------------------------------\n\n###### v0.0.3-2016.8.7\n1. 修改taglib.jsp路径\n2. 更新maven 依赖jar包，去除javaee-api.jar\n3. 增加支付宝当面付通道\n4. 发起结算时增加可结算余额查询\n\n----------------------------------------------------------------------------------\n\n###### v0.0.2-2016.8.1\n1. 修复账户、用户查询bug\n2. 添加结算金额验证\n3. 修复结算定时器路径配置错误\n\n----------------------------------------------------------------------------------\n\n###### v0.0.1-2016.7.25\n初始版本\n"
        },
        {
          "name": "database.sql",
          "type": "blob",
          "size": 57.849609375,
          "content": "/*==============================================================*/\n/* dbms name:      mysql 5.0                                    */\n/* created on:     2016-6-29 18:28:57   www.roncoo.com          */\n/*==============================================================*/\n\n\ndrop table if exists rp_account;\n\ndrop table if exists rp_account_history;\n\ndrop table if exists rp_pay_product;\n\ndrop table if exists rp_pay_way;\n\ndrop table if exists rp_sett_daily_collect;\n\ndrop table if exists rp_sett_record;\n\ndrop table if exists rp_sett_record_annex;\n\ndrop table if exists rp_user_bank_account;\n\ndrop table if exists rp_user_info;\n\ndrop table if exists rp_user_pay_config;\n\ndrop table if exists rp_user_pay_info;\n\ndrop table if exists rp_account_check_batch;\n\ndrop table if exists rp_account_check_mistake;\n\ndrop table if exists rp_account_check_mistake_scratch_pool;\n\ndrop table if exists rp_notify_record;\n\ndrop table if exists rp_notify_record_log;\n\ndrop table if exists rp_refund_record;\n\ndrop table if exists rp_trade_payment_order;\n\ndrop table if exists rp_trade_payment_record;\n\ndrop table if exists seq_table;\n\n/*==============================================================*/\n/* table: rp_account                                            */\n/*==============================================================*/\ncreate table rp_account\n(\n   id                   varchar(50) not null,\n   create_time          datetime not null,\n   edit_time            datetime,\n   version              bigint not null,\n   remark               varchar(200),\n   account_no           varchar(50) not null,\n   balance              decimal(20,6) not null,\n   unbalance            decimal(20,6) not null,\n   security_money       decimal(20,6) not null,\n   status               varchar(36) not null,\n   total_income         decimal(20,6) not null,\n   total_expend         decimal(20,6) not null,\n   today_income         decimal(20,6) not null,\n   today_expend         decimal(20,6) not null,\n   account_type         varchar(50) not null,\n   sett_amount          decimal(20,6) not null,\n   user_no              varchar(50),\n   primary key (id)\n);\n\nalter table rp_account comment '资金账户表';\n\n/*==============================================================*/\n/* table: rp_account_history                                    */\n/*==============================================================*/\ncreate table rp_account_history\n(\n   id                   varchar(50) not null,\n   create_time          datetime not null,\n   edit_time            datetime,\n   version              bigint not null,\n   remark               varchar(200),\n   account_no           varchar(50) not null,\n   amount               decimal(20,6) not null,\n   balance              decimal(20,6) not null,\n   fund_direction       varchar(36) not null,\n   is_allow_sett        varchar(36) not null,\n   is_complete_sett     varchar(36) not null,\n   request_no           varchar(36) not null,\n   bank_trx_no          varchar(30),\n   trx_type             varchar(36) not null,\n   risk_day             int,\n   user_no              varchar(50),\n   primary key (id)\n);\n\nalter table rp_account_history comment '资金账户流水表';\n\n/*==============================================================*/\n/* table: rp_pay_product                                        */\n/*==============================================================*/\ncreate table rp_pay_product\n(\n   id                   varchar(50) not null,\n   create_time          datetime not null,\n   edit_time            datetime,\n   version              bigint not null,\n   status               varchar(36) not null,\n   product_code         varchar(50) not null comment '支付产品编号',\n   product_name         varchar(200) not null comment '支付产品名称',\n   audit_status         varchar(45),\n   primary key (id)\n);\n\nalter table rp_pay_product comment '支付产品表';\n\n/*==============================================================*/\n/* table: rp_pay_way                                            */\n/*==============================================================*/\ncreate table rp_pay_way\n(\n   id                   varchar(50) not null comment 'id',\n   version              bigint not null default 0 comment 'version',\n   create_time          datetime not null comment '创建时间',\n   edit_time            datetime comment '修改时间',\n   pay_way_code         varchar(50) not null comment '支付方式编号',\n   pay_way_name         varchar(100) not null comment '支付方式名称',\n   pay_type_code        varchar(50) not null comment '支付类型编号',\n   pay_type_name        varchar(100) not null comment '支付类型名称',\n   pay_product_code     varchar(50) comment '支付产品编号',\n   status               varchar(36) not null comment '状态(100:正常状态,101非正常状态)',\n   sorts                int default 1000 comment '排序(倒序排序,默认值1000)',\n   pay_rate             double not null comment '商户支付费率',\n   primary key (id)\n);\n\nalter table rp_pay_way comment '支付方式';\n\n/*==============================================================*/\n/* table: rp_sett_daily_collect                                 */\n/*==============================================================*/\ncreate table rp_sett_daily_collect\n(\n   id                   varchar(50) not null comment 'id',\n   version              int not null default 0 comment '版本号',\n   create_time          datetime not null comment '创建时间',\n   edit_time            datetime not null comment '修改时间',\n   account_no           varchar(20) not null comment '账户编号',\n   user_name            varchar(200) comment '用户姓名',\n   collect_date         date not null comment '汇总日期',\n   collect_type         varchar(50) not null comment '汇总类型(参考枚举:settdailycollecttypeenum)',\n   total_amount         decimal(24,10) not null comment '交易总金额',\n   total_count          int not null comment '交易总笔数',\n   sett_status          varchar(50) not null comment '结算状态(参考枚举:settdailycollectstatusenum)',\n   remark               varchar(300) comment '备注',\n   risk_day             int comment '风险预存期天数',\n   primary key (id)\n);\n\nalter table rp_sett_daily_collect comment '每日待结算汇总';\n\n/*==============================================================*/\n/* table: rp_sett_record                                        */\n/*==============================================================*/\ncreate table rp_sett_record\n(\n   id                   varchar(50) not null comment 'id',\n   version              int not null default 0 comment '版本号',\n   create_time          datetime not null comment '创建时间',\n   edit_time            datetime not null comment '修改时间',\n   sett_mode            varchar(50) comment '结算发起方式(参考settmodetypeenum)',\n   account_no           varchar(20) not null comment '账户编号',\n   user_no              varchar(20) comment '用户编号',\n   user_name            varchar(200) comment '用户姓名',\n   user_type            varchar(50) comment '用户类型',\n   sett_date            date comment '结算日期',\n   bank_code            varchar(20) comment '银行编码',\n   bank_name            varchar(100) comment '银行名称',\n   bank_account_name    varchar(60) comment '开户名',\n   bank_account_no      varchar(20) comment '开户账户',\n   bank_account_type    varchar(50) comment '开户账户',\n   country              varchar(200) comment '开户行所在国家',\n   province             varchar(50) comment '开户行所在省份',\n   city                 varchar(50) comment '开户行所在城市',\n   areas                varchar(50) comment '开户行所在区',\n   bank_account_address varchar(300) comment '开户行全称',\n   mobile_no            varchar(20) comment '收款人手机号',\n   sett_amount          decimal(24,10) comment '结算金额',\n   sett_fee             decimal(16,6) comment '结算手续费',\n   remit_amount         decimal(16,2) comment '结算打款金额',\n   sett_status          varchar(50) comment '结算状态(参考枚举:settrecordstatusenum)',\n   remit_confirm_time   datetime comment '打款确认时间',\n   remark               varchar(200) comment '描述',\n   remit_remark         varchar(200) comment '打款备注',\n   operator_loginname   varchar(50) comment '操作员登录名',\n   operator_realname    varchar(50) comment '操作员姓名',\n   primary key (id)\n);\n\nalter table rp_sett_record comment '结算记录';\n\n/*==============================================================*/\n/* table: rp_sett_record_annex                                  */\n/*==============================================================*/\ncreate table rp_sett_record_annex\n(\n   id                   varchar(50) not null,\n   create_time          datetime not null,\n   edit_time            datetime,\n   version              bigint not null,\n   remark               varchar(200),\n   is_delete            varchar(36) not null,\n   annex_name           varchar(200),\n   annex_address        varchar(500) not null,\n   settlement_id        varchar(50) not null,\n   primary key (id)\n);\n\n/*==============================================================*/\n/* table: rp_user_bank_account                                  */\n/*==============================================================*/\ncreate table rp_user_bank_account\n(\n   id                   varchar(50) not null,\n   create_time          datetime not null,\n   edit_time            datetime,\n   version              bigint not null,\n   remark               varchar(200),\n   status               varchar(36) not null,\n   user_no              varchar(50) not null,\n   bank_name            varchar(200) not null,\n   bank_code            varchar(50) not null,\n   bank_account_name    varchar(100) not null,\n   bank_account_no      varchar(36) not null,\n   card_type            varchar(36) not null,\n   card_no              varchar(36) not null,\n   mobile_no            varchar(50) not null,\n   is_default           varchar(36),\n   province             varchar(20),\n   city                 varchar(20),\n   areas                varchar(20),\n   street               varchar(300),\n   bank_account_type    varchar(36) not null,\n   primary key (id)\n);\n\nalter table rp_user_bank_account comment '用户银行账户表';\n\n/*==============================================================*/\n/* table: rp_user_info                                          */\n/*==============================================================*/\ncreate table rp_user_info\n(\n   id                   varchar(50) not null,\n   create_time          datetime not null,\n   status               varchar(36) not null,\n   user_no              varchar(50),\n   user_name            varchar(100),\n   account_no           varchar(50) not null,\n   primary key (id),\n   unique key ak_key_2 (account_no)\n);\n\nalter table rp_user_info comment '该表用来存放用户的基本信息';\n\n/*==============================================================*/\n/* table: rp_user_pay_config                                    */\n/*==============================================================*/\ncreate table rp_user_pay_config\n(\n   id                   varchar(50) not null,\n   create_time          datetime not null,\n   edit_time            datetime,\n   version              bigint not null,\n   remark               varchar(200),\n   status               varchar(36) not null,\n   audit_status         varchar(45),\n   is_auto_sett         varchar(36) not null default 'no',\n   product_code         varchar(50) not null comment '支付产品编号',\n   product_name         varchar(200) not null comment '支付产品名称',\n   user_no              varchar(50),\n   user_name            varchar(100),\n   risk_day             int,\n   pay_key              varchar(50),\n   fund_into_type       varchar(50),\n   pay_secret           varchar(50),\n   primary key (id)\n);\n\nalter table rp_user_pay_config comment '支付设置表';\n\n/*==============================================================*/\n/* table: rp_user_pay_info                                      */\n/*==============================================================*/\ncreate table rp_user_pay_info\n(\n   id_                  varchar(50) not null,\n   create_time          datetime not null,\n   edit_time            datetime,\n   version              bigint not null,\n   remark               varchar(200),\n   status               varchar(36) not null,\n   app_id               varchar(50) not null,\n   app_sectet           varchar(100),\n   merchant_id          varchar(50),\n   app_type             varchar(50),\n   user_no              varchar(50),\n   user_name            varchar(100),\n   partner_key          varchar(100),\n   pay_way_code         varchar(50) not null comment '支付方式编号',\n   pay_way_name         varchar(100) not null comment '支付方式名称',\n   primary key (id_)\n);\n\nalter table rp_user_pay_info comment '该表用来存放用户开通的第三方支付信息';\n\n\ncreate table rp_account_check_batch\n(\n   id                   varchar(50) not null,\n   version              int unsigned not null,\n   create_time          datetime not null,\n   editor               varchar(100) comment '修改者',\n   creater              varchar(100) comment '创建者',\n   edit_time            datetime comment '最后修改时间',\n   status               varchar(30) not null,\n   remark               varchar(500),\n   batch_no             varchar(30) not null,\n   bill_date            date not null,\n   bill_type            varchar(30),\n   handle_status        varchar(10),\n   bank_type            varchar(30),\n   mistake_count        int(8),\n   unhandle_mistake_count int(8),\n   trade_count          int(8),\n   bank_trade_count     int(8),\n   trade_amount         decimal(20,6),\n   bank_trade_amount    decimal(20,6),\n   refund_amount        decimal(20,6),\n   bank_refund_amount   decimal(20,6),\n   bank_fee             decimal(20,6),\n   org_check_file_path  varchar(500),\n   release_check_file_path varchar(500),\n   release_status       varchar(15),\n   check_fail_msg       varchar(300),\n   bank_err_msg         varchar(300),\n   primary key (id)\n);\n\nalter table rp_account_check_batch comment '对账批次表 rp_account_check_batch';\n\ncreate table rp_account_check_mistake\n(\n   id                   varchar(50) not null,\n   version              int unsigned not null,\n   create_time          datetime not null,\n   editor               varchar(100) comment '修改者',\n   creater              varchar(100) comment '创建者',\n   edit_time            datetime comment '最后修改时间',\n   status               varchar(30),\n   remark               varchar(500),\n   account_check_batch_no varchar(50) not null,\n   bill_date            date not null,\n   bank_type            varchar(30) not null,\n   order_time           datetime,\n   merchant_name        varchar(100),\n   merchant_no          varchar(50),\n   order_no             varchar(40),\n   trade_time           datetime,\n   trx_no               varchar(20),\n   order_amount         decimal(20,6),\n   refund_amount        decimal(20,6),\n   trade_status         varchar(30),\n   fee                  decimal(20,6),\n   bank_trade_time      datetime,\n   bank_order_no        varchar(40),\n   bank_trx_no          varchar(40),\n   bank_trade_status    varchar(30),\n   bank_amount          decimal(20,6),\n   bank_refund_amount   decimal(20,6),\n   bank_fee             decimal(20,6),\n   err_type             varchar(30) not null,\n   handle_status        varchar(10) not null,\n   handle_value         varchar(1000),\n   handle_remark        varchar(1000),\n   operator_name        varchar(100),\n   operator_account_no  varchar(50),\n   primary key (id)\n);\n\nalter table rp_account_check_mistake comment '对账差错表 rp_account_check_mistake';\n\ncreate table rp_account_check_mistake_scratch_pool\n(\n   id                   varchar(50) not null,\n   version              int unsigned not null,\n   create_time          datetime not null,\n   editor               varchar(100) comment '修改者',\n   creater              varchar(100) comment '创建者',\n   edit_time            datetime comment '最后修改时间',\n   product_name         varchar(50) comment '商品名称',\n   merchant_order_no    varchar(30) not null comment '商户订单号',\n   trx_no               char(20) not null comment '支付流水号',\n   bank_order_no        char(20) comment '银行订单号',\n   bank_trx_no          varchar(30) comment '银行流水号',\n   order_amount         decimal(20,6) default 0 comment '订单金额',\n   plat_income          decimal(20,6) comment '平台收入',\n   fee_rate             decimal(20,6) comment '费率',\n   plat_cost            decimal(20,6) comment '平台成本',\n   plat_profit          decimal(20,6) comment '平台利润',\n   status               varchar(30) comment '状态(参考枚举:paymentrecordstatusenum)',\n   pay_way_code         varchar(50) comment '支付通道编号',\n   pay_way_name         varchar(100) comment '支付通道名称',\n   pay_success_time     datetime comment '支付成功时间',\n   complete_time        datetime comment '完成时间',\n   is_refund            varchar(30) default '101' comment '是否退款(100:是,101:否,默认值为:101)',\n   refund_times         smallint default 0 comment '退款次数(默认值为:0)',\n   success_refund_amount decimal(20,6) comment '成功退款总金额',\n   remark               varchar(500) comment '备注',\n   batch_no             varchar(50),\n   bill_date            datetime\n);\n\nalter table rp_account_check_mistake_scratch_pool comment '差错暂存池';\n\ncreate table rp_notify_record\n(\n   id                   varchar(50) not null,\n   version              int not null,\n   create_time          datetime not null,\n   editor               varchar(100) comment '修改者',\n   creater              varchar(100) comment '创建者',\n   edit_time            datetime comment '最后修改时间',\n   notify_times         int not null,\n   limit_notify_times   int not null,\n   url                  varchar(2000) not null,\n   merchant_order_no    varchar(50) not null,\n   merchant_no          varchar(50) not null,\n   status               varchar(50) not null comment '100:成功 101:失败',\n   notify_type          varchar(30) comment '通知类型',\n   primary key (id),\n   key ak_key_2 (merchant_order_no)\n);\n\nalter table rp_notify_record comment '通知记录表 rp_notify_record';\n\ncreate table rp_notify_record_log\n(\n   id                   varchar(50) not null,\n   version              int not null,\n   editor               varchar(100) comment '修改者',\n   creater              varchar(100) comment '创建者',\n   edit_time            datetime comment '最后修改时间',\n   create_time          datetime not null,\n   notify_id            varchar(50) not null,\n   request              varchar(2000) not null,\n   response             varchar(2000) not null,\n   merchant_no          varchar(50) not null,\n   merchant_order_no    varchar(50) not null comment '商户订单号',\n   http_status          varchar(50) not null comment 'http状态',\n   primary key (id)\n);\n\nalter table rp_notify_record_log comment '通知记录日志表 rp_notify_record_log';\n\ncreate table rp_refund_record\n(\n   id                   varchar(50) not null comment 'id',\n   version              int not null comment '版本号',\n   create_time          datetime comment '创建时间',\n   editor               varchar(100) comment '修改者',\n   creater              varchar(100) comment '创建者',\n   edit_time            datetime comment '最后修改时间',\n   org_merchant_order_no varchar(50) comment '原商户订单号',\n   org_trx_no           varchar(50) comment '原支付流水号',\n   org_bank_order_no    varchar(50) comment '原银行订单号',\n   org_bank_trx_no      varchar(50) comment '原银行流水号',\n   merchant_name        varchar(100) comment '商家名称',\n   merchant_no          varchar(100) not null comment '商家编号',\n   org_product_name     varchar(60) comment '原商品名称',\n   org_biz_type         varchar(30) comment '原业务类型',\n   org_payment_type     varchar(30) comment '原支付方式类型',\n   refund_amount        decimal(20,6) comment '订单退款金额',\n   refund_trx_no        varchar(50) not null comment '退款流水号',\n   refund_order_no      varchar(50) not null comment '退款订单号',\n   bank_refund_order_no varchar(50) comment '银行退款订单号',\n   bank_refund_trx_no   varchar(30) comment '银行退款流水号',\n   result_notify_url    varchar(500) comment '退款结果通知url',\n   refund_status        varchar(30) comment '退款状态',\n   refund_from          varchar(30) comment '退款来源（分发平台）',\n   refund_way           varchar(30) comment '退款方式',\n   refund_request_time  datetime comment '退款请求时间',\n   refund_success_time  datetime comment ' 退款成功时间',\n   refund_complete_time datetime comment '退款完成时间',\n   request_apply_user_id varchar(50) comment '退款请求,申请人登录名',\n   request_apply_user_name varchar(90) comment '退款请求,申请人姓名',\n   refund_reason        varchar(500) comment '退款原因',\n   remark               varchar(3000) comment '备注',\n   primary key (id),\n   unique key ak_key_2 (refund_trx_no)\n);\n\nalter table rp_refund_record comment '退款记录表';\n\ncreate table rp_trade_payment_order\n(\n   id                   varchar(50) not null comment 'id',\n   version              int not null default 0 comment '版本号',\n   create_time          datetime not null comment '创建时间',\n   editor               varchar(100) comment '修改者',\n   creater              varchar(100) comment '创建者',\n   edit_time            datetime comment '最后修改时间',\n   status               varchar(50) comment '状态(参考枚举:orderstatusenum)',\n   product_name         varchar(300) comment '商品名称',\n   merchant_order_no    varchar(30) not null comment '商户订单号',\n   order_amount         decimal(20,6) default 0 comment '订单金额',\n   order_from           varchar(30) comment '订单来源',\n   merchant_name        varchar(100) comment '商家名称',\n   merchant_no          varchar(100) not null comment '商户编号',\n   order_time           datetime comment '下单时间',\n   order_date           date comment '下单日期',\n   order_ip             varchar(50) comment '下单ip(客户端ip,在网关页面获取)',\n   order_referer_url    varchar(100) comment '从哪个页面链接过来的(可用于防诈骗)',\n   return_url           varchar(600) comment '页面回调通知url',\n   notify_url           varchar(600) comment '后台异步通知url',\n   cancel_reason        varchar(600) comment '订单撤销原因',\n   order_period         smallint comment '订单有效期(单位分钟)',\n   expire_time          datetime comment '到期时间',\n   pay_way_code         varchar(50) comment '支付方式编号',\n   pay_way_name         varchar(100) comment '支付方式名称',\n   remark               varchar(200) comment '支付备注',\n   trx_type             varchar(30) comment '交易业务类型  ：消费、充值等',\n   trx_no               varchar(50) comment '支付流水号',\n   pay_type_code        varchar(50) comment '支付类型编号',\n   pay_type_name        varchar(100) comment '支付类型名称',\n   fund_into_type       varchar(30) comment '资金流入类型',\n   is_refund            varchar(30) default '101' comment '是否退款(100:是,101:否,默认值为:101)',\n   refund_times         int default 0 comment '退款次数(默认值为:0)',\n   success_refund_amount decimal(20,6) comment '成功退款总金额',\n   field1               varchar(500),\n   field2               varchar(500),\n   field3               varchar(500),\n   field4               varchar(500),\n   field5               varchar(500),\n   primary key (id),\n   unique key ak_key_2 (merchant_order_no, merchant_no)\n);\n\nalter table rp_trade_payment_order comment 'roncoo pay 龙果支付 支付订单表';\n\ncreate table rp_trade_payment_record\n(\n   id                   varchar(50) not null comment 'id',\n   version              int not null default 0 comment '版本号',\n   create_time          datetime comment '创建时间',\n   status               varchar(30) comment '状态(参考枚举:paymentrecordstatusenum)',\n   editor               varchar(100) comment '修改者',\n   creater              varchar(100) comment '创建者',\n   edit_time            datetime comment '最后修改时间',\n   product_name         varchar(50) comment '商品名称',\n   merchant_order_no    varchar(50) not null comment '商户订单号',\n   trx_no               varchar(50) not null comment '支付流水号',\n   bank_order_no        varchar(50) comment '银行订单号',\n   bank_trx_no          varchar(50) comment '银行流水号',\n   merchant_name        varchar(300) comment '商家名称',\n   merchant_no          varchar(50) not null comment '商家编号',\n   payer_user_no        varchar(50) comment '付款人编号',\n   payer_name           varchar(60) comment '付款人名称',\n   payer_pay_amount     decimal(20,6) default 0 comment '付款方支付金额',\n   payer_fee            decimal(20,6) default 0 comment '付款方手续费',\n   payer_account_type   varchar(30) comment '付款方账户类型(参考账户类型枚举:accounttypeenum)',\n   receiver_user_no     varchar(15) comment '收款人编号',\n   receiver_name        varchar(60) comment '收款人名称',\n   receiver_pay_amount  decimal(20,6) default 0 comment '收款方支付金额',\n   receiver_fee         decimal(20,6) default 0 comment '收款方手续费',\n   receiver_account_type varchar(30) comment '收款方账户类型(参考账户类型枚举:accounttypeenum)',\n   order_ip             varchar(30) comment '下单ip(客户端ip,从网关中获取)',\n   order_referer_url    varchar(100) comment '从哪个页面链接过来的(可用于防诈骗)',\n   order_amount         decimal(20,6) default 0 comment '订单金额',\n   plat_income          decimal(20,6) comment '平台收入',\n   fee_rate             decimal(20,6) comment '费率',\n   plat_cost            decimal(20,6) comment '平台成本',\n   plat_profit          decimal(20,6) comment '平台利润',\n   return_url           varchar(600) comment '页面回调通知url',\n   notify_url           varchar(600) comment '后台异步通知url',\n   pay_way_code         varchar(50) comment '支付方式编号',\n   pay_way_name         varchar(100) comment '支付方式名称',\n   pay_success_time     datetime comment '支付成功时间',\n   complete_time        datetime comment '完成时间',\n   is_refund            varchar(30) default '101' comment '是否退款(100:是,101:否,默认值为:101)',\n   refund_times         int default 0 comment '退款次数(默认值为:0)',\n   success_refund_amount decimal(20,6) comment '成功退款总金额',\n   trx_type             varchar(30) comment '交易业务类型  ：消费、充值等',\n   order_from           varchar(30) comment '订单来源',\n   pay_type_code        varchar(50) comment '支付类型编号',\n   pay_type_name        varchar(100) comment '支付类型名称',\n   fund_into_type       varchar(30) comment '资金流入类型',\n   remark               varchar(3000) comment '备注',\n   field1               varchar(500),\n   field2               varchar(500),\n   field3               varchar(500),\n   field4               varchar(500),\n   field5               varchar(500),\n   bank_return_msg      varchar(2000) comment '银行返回信息',\n   primary key (id),\n   unique key ak_key_2 (trx_no)\n);\n\nalter table rp_trade_payment_record comment '支付记录表';\n\n-- CREATE TABLE seq_table (SEQ_NAME varchar(50) NOT NULL, CURRENT_VALUE bigint DEFAULT '1000000002' NOT NULL, INCREMENT smallint DEFAULT '1' NOT NULL, REMARK varchar(100) NOT NULL, PRIMARY KEY (SEQ_NAME)) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n-- INSERT INTO seq_table (SEQ_NAME, CURRENT_VALUE, INCREMENT, REMARK) VALUES ('ACCOUNT_NO_SEQ', 10000000, 1, '账户--账户编号');\n-- INSERT INTO seq_table (SEQ_NAME, CURRENT_VALUE, INCREMENT, REMARK) VALUES ('ACTIVITY_NO_SEQ', 10000006, 1, '活动--活动编号');\n-- INSERT INTO seq_table (SEQ_NAME, CURRENT_VALUE, INCREMENT, REMARK) VALUES ('USER_NO_SEQ', 10001113, 1, '用户--用户编号');\n-- INSERT INTO seq_table (SEQ_NAME, CURRENT_VALUE, INCREMENT, REMARK) VALUES ('TRX_NO_SEQ', 10000000, 1, '交易—-支付流水号');\n-- INSERT INTO seq_table (SEQ_NAME, CURRENT_VALUE, INCREMENT, REMARK) VALUES ('BANK_ORDER_NO_SEQ', 10000000, 1, '交易—-银行订单号');\n-- INSERT INTO seq_table (SEQ_NAME, CURRENT_VALUE, INCREMENT, REMARK) VALUES ('RECONCILIATION_BATCH_NO_SEQ', 10000000, 1, '对账—-批次号');\n\n/*==============================================================*/\n/* create function                                              */\n/*==============================================================*/\n\nCREATE FUNCTION  FUN_NOW()\n RETURNS DATETIME\nBEGIN\nRETURN now();\nEND;\n\n\n-- 时间函数\n\nCREATE FUNCTION `FUN_DATE_ADD`(STR_DATE VARCHAR(10), STR_INTERVAL INTEGER) RETURNS DATE\nBEGIN\n     RETURN date_add(STR_DATE, INTERVAL STR_INTERVAL DAY);\nEND;\n\n\n\n\n\n\n-- -----------------------------------------------------------------------------------------------------------------------------------\n--                                   注意：该脚本运行在mysql环境下，如果是其他数据库，如有需要请先修改，再执行。                    --\n--                                                                                           编写人：沈佳龙   （www.roncoo.com）    --\n-- -----------------------------------------------------------------------------------------------------------------------------------\n\ndrop table if exists pms_menu;\n\ndrop table if exists pms_menu_role;\n\ndrop table if exists pms_operator;\n\ndrop table if exists pms_operator_log;\n\ndrop table if exists pms_permission;\n\ndrop table if exists pms_role;\n\ndrop table if exists pms_role_operator;\n\ndrop table if exists pms_role_permission;\n\ncreate table pms_menu\n(\n   id                   bigint not null auto_increment,\n   version              bigint not null,\n   creater              varchar(50) not null comment '创建人',\n   create_time          datetime not null comment '创建时间',\n   editor               varchar(50) comment '修改人',\n   edit_time            datetime comment '修改时间',\n   status               varchar(20) not null,\n   remark               varchar(300),\n   is_leaf              varchar(20),\n   level                smallint,\n   parent_id            bigint not null,\n   target_name          varchar(100),\n   number               varchar(20),\n   name                 varchar(100),\n   url                  varchar(100),\n   primary key (id)\n)auto_increment = 1000;\n\nalter table pms_menu comment '菜单表';\n\n\nalter table pms_menu comment '菜单表';\n\ncreate table pms_menu_role\n(\n   id                   bigint not null auto_increment comment '主键',\n   version              bigint,\n   creater              varchar(50) comment '创建人',\n   create_time          datetime comment '创建时间',\n   editor               varchar(50) comment '修改人',\n   edit_time            datetime comment '修改时间',\n   status               varchar(20),\n   remark               varchar(300),\n   role_id              bigint not null,\n   menu_id              bigint not null,\n   primary key (id),\n   key ak_key_2 (role_id, menu_id)\n) auto_increment = 1000;\n\nalter table pms_menu_role comment '权限与角色关联表';\n\ncreate table pms_operator\n(\n   id                   bigint not null auto_increment comment '主键',\n   version              bigint not null,\n   creater              varchar(50) not null comment '创建人',\n   create_time          datetime not null comment '创建时间',\n   editor               varchar(50) comment '修改人',\n   edit_time            datetime comment '修改时间',\n   status               varchar(20) not null,\n   remark               varchar(300),\n   real_name            varchar(50) not null,\n   mobile_no            varchar(15) not null,\n   login_name           varchar(50) not null,\n   login_pwd            varchar(256) not null,\n   type                 varchar(20) not null,\n   salt                 varchar(50) not null,\n   primary key (id),\n   key ak_key_2 (login_name)\n) auto_increment = 1000;\n\nalter table pms_operator comment '操作员表';\n\ncreate table pms_operator_log\n(\n   id                   bigint not null auto_increment comment '主键',\n   version              bigint not null,\n   creater              varchar(50) not null comment '创建人',\n   create_time          datetime not null comment '创建时间',\n   editor               varchar(50) comment '修改人',\n   edit_time            datetime comment '修改时间',\n   status               varchar(20) not null,\n   remark               varchar(300),\n   operator_id          bigint not null,\n   operator_name        varchar(50) not null,\n   operate_type         varchar(50) not null comment '操作类型（1:增加，2:修改，3:删除，4:查询）',\n   ip                   varchar(100) not null,\n   content              varchar(3000),\n   primary key (id)\n) auto_increment = 1000;\n\nalter table pms_operator_log comment '权限_操作员操作日志表';\n\ncreate table pms_permission\n(\n   id                   bigint not null auto_increment comment '主键',\n   version              bigint not null,\n   creater              varchar(50) not null comment '创建人',\n   create_time          datetime not null comment '创建时间',\n   editor               varchar(50) comment '修改人',\n   edit_time            datetime comment '修改时间',\n   status               varchar(20) not null,\n   remark               varchar(300),\n   permission_name      varchar(100) not null,\n   permission           varchar(100) not null,\n   primary key (id),\n   key ak_key_2 (permission),\n   key ak_key_3 (permission_name)\n) auto_increment = 1000;\n\nalter table pms_permission comment '权限表';\n\ncreate table pms_role\n(\n   id                   bigint not null auto_increment comment '主键',\n   version              bigint,\n   creater              varchar(50) comment '创建人',\n   create_time          datetime comment '创建时间',\n   editor               varchar(50) comment '修改人',\n   edit_time            datetime comment '修改时间',\n   status               varchar(20),\n   remark               varchar(300),\n   role_code            varchar(20) not null comment '角色类型（1:超级管理员角色，0:普通操作员角色）',\n   role_name            varchar(100) not null,\n   primary key (id),\n   key ak_key_2 (role_name)\n) auto_increment = 1000;\n\nalter table pms_role comment '角色表';\n\ncreate table pms_role_operator\n(\n   id                   bigint not null auto_increment comment '主键',\n   version              bigint not null,\n   creater              varchar(50) not null comment '创建人',\n   create_time          datetime not null comment '创建时间',\n   editor               varchar(50) comment '修改人',\n   edit_time            datetime comment '修改时间',\n   status               varchar(20) not null,\n   remark               varchar(300),\n   role_id              bigint not null,\n   operator_id          bigint not null,\n   primary key (id),\n   key ak_key_2 (role_id, operator_id)\n) auto_increment = 1000;\n\nalter table pms_role_operator comment '操作员与角色关联表';\n\ncreate table pms_role_permission\n(\n   id                   bigint not null auto_increment comment '主键',\n   version              bigint,\n   creater              varchar(50) comment '创建人',\n   create_time          datetime comment '创建时间',\n   editor               varchar(50) comment '修改人',\n   edit_time            datetime comment '修改时间',\n   status               varchar(20),\n   remark               varchar(300),\n   role_id              bigint not null,\n   permission_id        bigint not null,\n   primary key (id),\n   key ak_key_2 (role_id, permission_id)\n) auto_increment = 1000;\n\nalter table pms_role_permission comment '权限与角色关联表';\n\n\n\n\n\n-- ------------------------------step 1  菜单-------------------------------------------------\n-- 菜单初始化数据\n--  -- 菜单的初始化数据\ninsert into pms_menu (id,version,status,creater,create_time, editor, edit_time, remark, name, url, number, is_leaf, level, parent_id, target_name) values\n(1,0, 'ACTIVE','roncoo','2016-06-03 11:07:43', 'admin','2016-06-03 11:07:43', '', '权限管理', '##', '001', 'NO', 1, 0, '#'),\n(2,0, 'ACTIVE','roncoo','2016-06-03 11:07:43', 'admin','2016-06-03 11:07:43', '', '菜单管理', 'pms/menu/list', '00101', 'YES', 2, 1, 'cdgl'),\n(3,0, 'ACTIVE','roncoo','2016-06-03 11:07:43', 'admin','2016-06-03 11:07:43', '', '权限管理', 'pms/permission/list', '00102', 'YES',2, 1, 'qxgl'),\n(4,0, 'ACTIVE','roncoo','2016-06-03 11:07:43', 'admin','2016-06-03 11:07:43', '', '角色管理', 'pms/role/list', '00103', 'YES',2, 1, 'jsgl'),\n(5,0, 'ACTIVE','roncoo','2016-06-03 11:07:43', 'admin','2016-06-03 11:07:43', '', '操作员管理', 'pms/operator/list', '00104', 'YES',2, 1, 'czygl'),\n\n(10,0, 'ACTIVE','roncoo','2016-06-03 11:07:43', 'admin','2016-06-03 11:07:43', '', '账户管理', '##', '002', 'NO', 1, 0, '#'),\n(12,0, 'ACTIVE','roncoo','2016-06-03 11:07:43', 'admin','2016-06-03 11:07:43', '', '账户信息', 'account/list', '00201', 'YES',2, 10, 'zhxx'),\n(13,0, 'ACTIVE','roncoo','2016-06-03 11:07:43', 'admin','2016-06-03 11:07:43', '', '账户历史信息', 'account/historyList', '00202', 'YES',2, 10, 'zhlsxx'),\n\n(20,0, 'ACTIVE','roncoo','2016-06-03 11:07:43', 'admin','2016-06-03 11:07:43', '', '用户管理', '##', '003', 'NO', 1, 0, '#'),\n(22,0, 'ACTIVE','roncoo','2016-06-03 11:07:43', 'admin','2016-06-03 11:07:43', '', '用户信息', 'user/info/list', '00301', 'YES',2, 20, 'yhxx'),\n\n(30,0, 'ACTIVE','roncoo','2016-06-03 11:07:43', 'admin','2016-06-03 11:07:43', '', '支付管理', '##', '004', 'NO', 1, 0, '#'),\n(32,0, 'ACTIVE','roncoo','2016-06-03 11:07:43', 'admin','2016-06-03 11:07:43', '', '支付产品信息', 'pay/product/list', '00401', 'YES',2, 30, 'zfcpgl'),\n(33,0, 'ACTIVE','roncoo','2016-06-03 11:07:43', 'admin','2016-06-03 11:07:43', '', '用户支付配置', 'pay/config/list', '00402', 'YES',2, 30, 'yhzfpz'),\n\n(40,0, 'ACTIVE','roncoo','2016-06-03 11:07:43', 'admin','2016-06-03 11:07:43', '', '交易管理', '##', '005', 'NO', 1, 0, '#'),\n(42,0, 'ACTIVE','roncoo','2016-06-03 11:07:43', 'admin','2016-06-03 11:07:43', '', '支付订单管理', 'trade/listPaymentOrder', '00501', 'YES',2, 40, 'zfddgl'),\n(43,0, 'ACTIVE','roncoo','2016-06-03 11:07:43', 'admin','2016-06-03 11:07:43', '', '支付记录管理', 'trade/listPaymentRecord', '00502', 'YES',2, 40, 'zfjjgl'),\n(47,0, 'ACTIVE','roncoo','2016-06-03 11:07:43', 'admin','2016-06-03 11:07:43', '', '进件记录管理', '/trade/micro/submit/record/list', '00107', 'YES',2, 40, 'jjjlgl'),\n\n(50,0, 'ACTIVE','roncoo','2016-06-03 11:07:43', 'admin','2016-06-03 11:07:43', '', '结算管理', '##', '006', 'NO', 1, 0, '#'),\n(52,0, 'ACTIVE','roncoo','2016-06-03 11:07:43', 'admin','2016-06-03 11:07:43', '', '结算记录管理', 'sett/list', '00601', 'YES',2, 50, 'jsjlgl'),\n\n(60,0, 'ACTIVE','roncoo','2016-06-03 11:07:43', 'admin','2016-06-03 11:07:43', '', '对账管理', '##', '007', 'NO', 1, 0, '#'),\n(62,0, 'ACTIVE','roncoo','2016-06-03 11:07:43', 'admin','2016-06-03 11:07:43', '', '对账差错列表', 'reconciliation/list/mistake', '00701', 'YES',2, 60, 'dzcclb'),\n(63,0, 'ACTIVE','roncoo','2016-06-03 11:07:43', 'admin','2016-06-03 11:07:43', '', '对账批次列表', 'reconciliation/list/checkbatch', '00702', 'YES',2, 60, 'dzpclb'),\n(64,0, 'ACTIVE','roncoo','2016-06-03 11:07:43', 'admin','2016-06-03 11:07:43', '', '对账缓冲池列表', 'reconciliation/list/scratchPool', '00703', 'YES',2, 60, 'dzhcclb');\n\n-- ------------------------------step 2：权限功能点-------------------------------------------------\n-- 权限功能点的初始化数据\n\n\ninsert into pms_permission (id,version,status,creater,create_time, editor, edit_time, remark, permission_name, permission) values\n (1, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','权限管理-菜单-查看','权限管理-菜单-查看','pms:menu:view'),\n (2, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','权限管理-菜单-添加','权限管理-菜单-添加','pms:menu:add'),\n (3, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','权限管理-菜单-查看','权限管理-菜单-修改','pms:menu:edit'),\n (4, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','权限管理-菜单-删除','权限管理-菜单-删除','pms:menu:delete'),\n\n (11, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','权限管理-权限-查看','权限管理-权限-查看','pms:permission:view'),\n (12, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','权限管理-权限-添加','权限管理-权限-添加','pms:permission:add'),\n (13, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','权限管理-权限-修改','权限管理-权限-修改','pms:permission:edit'),\n (14, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','权限管理-权限-删除','权限管理-权限-删除','pms:permission:delete'),\n\n (21, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','权限管理-角色-查看','权限管理-角色-查看','pms:role:view'),\n (22, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','权限管理-角色-添加','权限管理-角色-添加','pms:role:add'),\n (23, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','权限管理-角色-修改','权限管理-角色-修改','pms:role:edit'),\n (24, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','权限管理-角色-删除','权限管理-角色-删除','pms:role:delete'),\n (25, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','权限管理-角色-分配权限','权限管理-角色-分配权限','pms:role:assignpermission'),\n\n (31, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','权限管理-操作员-查看','权限管理-操作员-查看','pms:operator:view'),\n (32, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','权限管理-操作员-添加','权限管理-操作员-添加','pms:operator:add'),\n (33, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','权限管理-操作员-查看','权限管理-操作员-修改','pms:operator:edit'),\n (34, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','权限管理-操作员-冻结与解冻','权限管理-操作员-冻结与解冻','pms:operator:changestatus'),\n (35, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','权限管理-操作员-重置密码','权限管理-操作员-重置密码','pms:operator:resetpwd'),\n\n\n (51, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','账户管理-账户-查看','账户管理-账户-查看','account:accountInfo:view'),\n (52, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','账户管理-账户-添加','账户管理-账户-添加','account:accountInfo:add'),\n (53, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','账户管理-账户-查看','账户管理-账户-修改','account:accountInfo:edit'),\n (54, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','账户管理-账户-删除','账户管理-账户-删除','account:accountInfo:delete'),\n\n (61, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','账户管理-账户历史-查看','账户管理-账户历史-查看','account:accountHistory:view'),\n\n (71, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','用户管理-用户信息-查看','用户管理-用户信息-查看','user:userInfo:view'),\n (72, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','用户管理-用户信息-添加','用户管理-用户信息-添加','user:userInfo:add'),\n (73, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','用户管理-用户信息-查看','用户管理-用户信息-修改','user:userInfo:edit'),\n (74, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','用户管理-用户信息-删除','用户管理-用户信息-删除','user:userInfo:delete'),\n\n (81, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','支付管理-支付产品-查看','支付管理-支付产品-查看','pay:product:view'),\n (82, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','支付管理-支付产品-添加','支付管理-支付产品-添加','pay:product:add'),\n (83, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','支付管理-支付产品-查看','支付管理-支付产品-修改','pay:product:edit'),\n (84, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','支付管理-支付产品-删除','支付管理-支付产品-删除','pay:product:delete'),\n\n (85, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','支付管理-支付方式-查看','支付管理-支付方式-查看','pay:way:view'),\n (86, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','支付管理-支付方式-添加','支付管理-支付方式-添加','pay:way:add'),\n (87, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','支付管理-支付方式-查看','支付管理-支付方式-修改','pay:way:edit'),\n (88, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','支付管理-支付方式-删除','支付管理-支付方式-删除','pay:way:delete'),\n\n (91, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','支付管理-支付配置-查看','支付管理-支付配置-查看','pay:config:view'),\n (92, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','支付管理-支付配置-添加','支付管理-支付配置-添加','pay:config:add'),\n (93, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','支付管理-支付配置-查看','支付管理-支付配置-修改','pay:config:edit'),\n (94, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','支付管理-支付配置-删除','支付管理-支付配置-删除','pay:config:delete'),\n\n (101, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','交易管理-订单-查看','交易管理-订单-查看','trade:order:view'),\n (102, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','交易管理-订单-添加','交易管理-订单-添加','trade:order:add'),\n (103, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','交易管理-订单-查看','交易管理-订单-修改','trade:order:edit'),\n (104, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','交易管理-订单-删除','交易管理-订单-删除','trade:order:delete'),\n\n (111, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','交易管理-记录-查看','交易管理-记录-查看','trade:record:view'),\n (112, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','交易管理-记录-添加','交易管理-记录-添加','trade:record:add'),\n (113, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','交易管理-记录-查看','交易管理-记录-修改','trade:record:edit'),\n (114, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','交易管理-记录-删除','交易管理-记录-删除','trade:record:delete'),\n\n (121, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','结算管理-记录-查看','结算管理-记录-查看','sett:record:view'),\n (122, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','结算管理-记录-添加','结算管理-记录-添加','sett:record:add'),\n (123, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','结算管理-记录-查看','结算管理-记录-修改','sett:record:edit'),\n (124, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','结算管理-记录-删除','结算管理-记录-删除','sett:record:delete'),\n\n (131, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','对账管理-差错-查看','对账管理-差错-查看','recon:mistake:view'),\n (132, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','对账管理-差错-添加','对账管理-差错-添加','recon:mistake:add'),\n (133, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','对账管理-差错-查看','对账管理-差错-修改','recon:mistake:edit'),\n (134, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','对账管理-差错-删除','对账管理-差错-删除','recon:mistake:delete'),\n\n (141, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','对账管理-批次-查看','对账管理-批次-查看','recon:batch:view'),\n (142, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','对账管理-批次-添加','对账管理-批次-添加','recon:batch:add'),\n (143, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','对账管理-批次-查看','对账管理-批次-修改','recon:batch:edit'),\n (144, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','对账管理-批次-删除','对账管理-批次-删除','recon:batch:delete'),\n\n (151, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','对账管理-缓冲池-查看','对账管理-缓冲池-查看','recon:scratchPool:view'),\n (152, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','对账管理-缓冲池-添加','对账管理-缓冲池-添加','recon:scratchPool:add'),\n (153, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','对账管理-缓冲池-查看','对账管理-缓冲池-修改','recon:scratchPool:edit'),\n (154, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','对账管理-缓冲池-删除','对账管理-缓冲池-删除','recon:scratchPool:delete'),\n\n (266, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','进件记录管理--查看','进件记录管理--查看','trade:micro:submit:record:list'),\n (267, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','进件记录管理--添加','进件记录管理--添加','trade:micro:submit:record:add'),\n (268, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','进件记录管理--查询','进件记录管理--查询','trade:micro:submit:record:query');\n\n-- -----------------------------------step3：操作员--------------------------------------------\n-- -- 操作员的初始化数据\n--  admin 超级管理员\ninsert into pms_operator (id,version,status,creater,create_time, editor, edit_time, remark, login_name, login_pwd,real_name,mobile_no,type,salt)\nvalues (1, 0, 'ACTIVE','roncoo','2016-06-03 11:07:43', 'admin','2016-06-03 11:07:43', '超级管理员', 'admin', 'd3c59d25033dbf980d29554025c23a75','超级管理员', '18620936193', 'ADMIN','8d78869f470951332959580424d4bf4f');\n\n--  guest  游客\ninsert into pms_operator (id,version,status,creater,create_time, editor, edit_time, remark, login_name, login_pwd,real_name,mobile_no,type,salt)\nvalues (2, 0, 'ACTIVE','roncoo','2016-06-03 11:07:43', 'guest','2016-06-03 11:07:43', '游客', 'guest', '3f0dbf580ee39ec03b632cb33935a363','游客', '18926215592', 'USER','183d9f2f0f2ce760e98427a5603d1c73');\n\n-- ------------------------------------step4：角色-------------------------------------------\n-- -- 角色的初始化数据\ninsert into pms_role (id,version,status,creater,create_time, editor, edit_time, remark, role_code, role_name)\nvalues (1, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'admin', '2016-06-03 11:07:43','超级管理员角色','admin', '超级管理员角色');\n\ninsert into pms_role (id,version,status,creater,create_time, editor, edit_time, remark, role_code, role_name)\nvalues (2, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'guest', '2016-06-03 11:07:43','游客角色','guest', '游客角色');\n\n-- ------------------------------------step5：操作员和角色关联-------------------------------------------\n-- -- 操作员与角色关联的初始化数据\n\n--  admin  关联admin 和test两个角色\ninsert into pms_role_operator (id,version,status,creater,create_time, editor, edit_time, remark,role_id,operator_id) values (1, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','',1,1);\ninsert into pms_role_operator (id,version,status,creater,create_time, editor, edit_time, remark,role_id,operator_id) values (2, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','',2,1);\n\n-- guest  关联游客角色  （游客角色只有查看交易记录的信息）\ninsert into pms_role_operator (id,version,status,creater,create_time, editor, edit_time, remark,role_id,operator_id) values (3, 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','',2,2);\n\n-- -------------------------------------step6：角色和权限关联------------------------------------------\n-- -- 角色与用户功能点关联的初始化数据\n\n-- admin（拥有所有的权限点）\ninsert into pms_role_permission  (role_id, permission_id) select 1,id from PMS_PERMISSION;\n\n\n-- guest （只有所有的查看权限）\ninsert into pms_role_permission (version,status,creater,create_time, editor, edit_time, remark,role_id,permission_id)\nvalues\n ( 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','',2,1),\n ( 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','',2,11),\n ( 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','',2,21),\n ( 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','',2,31),\n ( 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','',2,41),\n ( 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','',2,51),\n ( 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','',2,61),\n ( 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','',2,71),\n ( 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','',2,81),\n ( 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','',2,85),\n ( 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','',2,91),\n ( 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','',2,101),\n ( 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','',2,111),\n ( 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','',2,121),\n ( 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','',2,131),\n ( 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','',2,141),\n ( 0,'ACTIVE', 'roncoo','2016-06-03 11:07:43', 'test', '2016-06-03 11:07:43','',2,151);\n\n-- -------------------------------------step7：角色和菜单关联------------------------------------------\n--  角色与信息关联初始化数据\n-- admin\n\ninsert into pms_menu_role(role_id, menu_id) select 1,id from PMS_MENU;\n\n-- guest  所有的菜单（只有查看权限）\ninsert into pms_menu_role (role_id, menu_id) select 2,id from PMS_MENU;\n\n-- 2016.8.5 第三方支付信息表增加支付宝线下产品字段\nalter table rp_user_pay_info add offline_app_id varchar(50);\nalter table rp_user_pay_info add rsa_private_key varchar(100);\nalter table rp_user_pay_info add rsa_public_key varchar(100);\n\n-- 2016.9.5 增加登录信息字段\nalter table rp_user_info add mobile varchar(15);\nalter table rp_user_info add password varchar(50);\n\n-- 2017.4.4 用户信息表增加支付密码字段\nalter table rp_user_info add pay_pwd varchar(50) comment '支付密码' default '123456';\n\n-- 2017.4.5 增加用户支付配置表安全等级字段 商户服务器IP字段\nalter table rp_user_pay_config add security_rating varchar(20)  comment '安全等级' default 'MD5';\n\nalter table rp_user_pay_config add merchant_server_ip varchar(200) comment '商户服务器IP';\n\n/*==============================小微商户进件==start=================================*/\ndrop table if exists rp_micro_submit_record;\ncreate table rp_micro_submit_record\n(\n   id                   varchar(50) not null comment '编号',\n   version              int(11) not null default 0 comment '版本号',\n   create_time          datetime not null comment '创建时间',\n   creater              varchar(100) comment '创建者',\n   edit_time            datetime not null comment '修改时间',\n   editor               varchar(100) comment '修改者',\n   status               varchar(50) not null comment '状态',\n   business_code        varchar(32) not null comment '业务申请编号',\n   sub_mch_id           varchar(32) comment '小微商户号',\n   id_card_copy         varchar(256) not null comment '身份证人像面照片',\n   id_card_national     varchar(256) not null comment '身份证国徽面照片',\n   id_card_name         varchar(64) not null comment '身份证姓名',\n   id_card_number       varchar(18) not null comment '身份证号码',\n   id_card_valid_time   varchar(50) not null comment '身份证有效期限',\n   account_bank         varchar(50) not null comment '开户名称',\n   bank_address_code    varchar(6) not null comment '开户银行省市编码',\n   account_number       varchar(50) not null comment '银行账号',\n   store_name           varchar(128) not null comment '门店名称',\n   store_address_code   varchar(6) not null comment '门店省市编码',\n   store_street         varchar(500) not null comment '门店街道名称',\n   store_entrance_pic   varchar(256) not null comment '门店门口照片',\n   indoor_pic           varchar(256) not null comment '店内环境照片',\n   merchant_shortname   varchar(50) not null comment '商户简称',\n   service_phone        varchar(50) not null comment '客服电话',\n   product_desc         varchar(50) not null comment '服务描述',\n   rate                 varchar(50) not null comment '费率',\n   contact_phone        varchar(11) not null comment '手机号码',\n   primary key (id)\n);\nalter table rp_micro_submit_record comment '小微商户进件记录';\n/*==============================小微商户进件==end=================================*/\n"
        },
        {
          "name": "logo.png",
          "type": "blob",
          "size": 6.3115234375,
          "content": null
        },
        {
          "name": "pay-flow.png",
          "type": "blob",
          "size": 275.4580078125,
          "content": null
        },
        {
          "name": "pom.xml",
          "type": "blob",
          "size": 5.9609375,
          "content": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n\txsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n\t<modelVersion>4.0.0</modelVersion>\n\n\t<parent>\n\t\t<groupId>org.springframework.boot</groupId>\n\t\t<artifactId>spring-boot-starter-parent</artifactId>\n\t\t<version>2.1.2.RELEASE</version>\n\t\t<relativePath/>\n\t</parent>\n\n\t<groupId>com.roncoo.pay</groupId>\n\t<artifactId>roncoo-pay</artifactId>\n\t<version>2.1.2-SNAPSHOT</version>\n\t<packaging>pom</packaging>\n\n\t<name>roncoo-pay</name>\n\t<description>龙果开源支付</description>\n\n\t<organization>\n\t\t<name>Roncoo</name>\n\t\t<url>http://www.roncoo.com</url>\n\t</organization>\n\n\t<!--项目模块-->\n\t<modules>\n\t\t<!--平台通知消息的处理-->\n\t\t<module>roncoo-pay-app-notify</module>\n\t\t<!--商户订单通知-->\n\t\t<module>roncoo-pay-app-order-polling</module>\n\t\t<!--对账流程app,发起对账核心业务-->\n\t\t<module>roncoo-pay-app-reconciliation</module>\n\t\t<!--结算定时处理app，发起定时跑批处理，统计结算数据-->\n\t\t<module>roncoo-pay-app-settlement</module>\n\t\t<!--core 是支付系统核心基础包-->\n\t\t<module>roncoo-pay-common-core</module>\n\t\t<!--支付系统核心业务-->\n\t\t<module>roncoo-pay-service</module>\n\t\t<!--运营boss后台-->\n\t\t<module>roncoo-pay-web-boss</module>\n\t\t<!--支付网关web-->\n\t\t<module>roncoo-pay-web-gateway</module>\n\t\t<!--商户后台-->\n\t\t\t<module>roncoo-pay-web-merchant</module>\n\t\t<!--模拟工程-->\n\t\t<module>roncoo-pay-web-sample-shop</module>\n\t</modules>\n\n\t<!--版本维护-->\n\t<properties>\n\t\t<mybatis-spring-boot-starter.version>2.0.0</mybatis-spring-boot-starter.version>\n\t\t<fastjson.version>2.0.8</fastjson.version>\n\t\t<druid.version>1.1.13</druid.version>\n\t\t<alipay-sdk-java.version>3.4.49.ALL</alipay-sdk-java.version>\n\t\t<!--<alipay-trade-sdk.version>1.0</alipay-trade-sdk.version>-->\n\n\t\t<org.apache.shiro.version>1.9.1</org.apache.shiro.version>\n\n\t\t<slf4j-api.version>1.8.0-beta2</slf4j-api.version>\n\t\t<slf4j-log4j12.version>1.8.0-beta2</slf4j-log4j12.version>\n\t\t<log4j.version>1.2.17</log4j.version>\n\n\t\t<commons-lang.version>2.6</commons-lang.version>\n\t\t<commons-httpclient.version>3.1</commons-httpclient.version>\n\t\t<dom4j.version>2.1.3</dom4j.version>\n\t\t<jdom.version>2.0.6</jdom.version>\n\t\t<javax.json-api.version>1.1.4</javax.json-api.version>\n\t\t<commons-io.version>2.7</commons-io.version>\n\t\t<httpclient.version>4.5.7</httpclient.version>\n\t\t<java.version>1.8</java.version>\n\t</properties>\n\n\t<!--版本管理-->\n\t<dependencyManagement>\n\t\t<dependencies>\n\t\t\t<!--项目模块-->\n\t\t\t<dependency>\n\t\t\t\t<groupId>com.roncoo.pay.common</groupId>\n\t\t\t\t<artifactId>roncoo-pay-common-core</artifactId>\n\t\t\t\t<version>${project.version}</version>\n\t\t\t</dependency>\n\t\t\t<dependency>\n\t\t\t\t<groupId>com.roncoo.pay.service</groupId>\n\t\t\t\t<artifactId>roncoo-pay-service</artifactId>\n\t\t\t\t<version>${project.version}</version>\n\t\t\t</dependency>\n\n\t\t\t<!--spring boot-->\n\t\t\t<dependency>\n\t\t\t\t<groupId>org.mybatis.spring.boot</groupId>\n\t\t\t\t<artifactId>mybatis-spring-boot-starter</artifactId>\n\t\t\t\t<version>${mybatis-spring-boot-starter.version}</version>\n\t\t\t</dependency>\n\n\t\t\t<dependency>\n\t\t\t\t<groupId>com.baomidou</groupId>\n\t\t\t\t<artifactId>mybatis-plus</artifactId>\n\t\t\t\t<version>2.1.0</version>\n\t\t\t</dependency>\n\n\t\t\t<!--Alibaba-->\n\t\t\t<dependency>\n\t\t\t\t<groupId>com.alibaba</groupId>\n\t\t\t\t<artifactId>fastjson</artifactId>\n\t\t\t\t<version>${fastjson.version}</version>\n\t\t\t</dependency>\n\t\t\t<dependency>\n\t\t\t\t<groupId>com.alibaba</groupId>\n\t\t\t\t<artifactId>druid</artifactId>\n\t\t\t\t<version>${druid.version}</version>\n\t\t\t</dependency>\n\t\t\t<dependency>\n\t\t\t\t<groupId>com.alipay.sdk</groupId>\n\t\t\t\t<artifactId>alipay-sdk-java</artifactId>\n\t\t\t\t<version>${alipay-sdk-java.version}</version>\n\t\t\t</dependency>\n\n\t\t\t<!-- shiro -->\n\t\t\t<dependency>\n\t\t\t\t<groupId>org.apache.shiro</groupId>\n\t\t\t\t<artifactId>shiro-core</artifactId>\n\t\t\t\t<version>${org.apache.shiro.version}</version>\n\t\t\t</dependency>\n\t\t\t<dependency>\n\t\t\t\t<groupId>org.apache.shiro</groupId>\n\t\t\t\t<artifactId>shiro-web</artifactId>\n\t\t\t\t<version>${org.apache.shiro.version}</version>\n\t\t\t</dependency>\n\t\t\t<dependency>\n\t\t\t\t<groupId>org.apache.shiro</groupId>\n\t\t\t\t<artifactId>shiro-spring</artifactId>\n\t\t\t\t<version>${org.apache.shiro.version}</version>\n\t\t\t</dependency>\n\t\t\t<dependency>\n\t\t\t\t<groupId>org.apache.shiro</groupId>\n\t\t\t\t<artifactId>shiro-ehcache</artifactId>\n\t\t\t\t<version>${org.apache.shiro.version}</version>\n\t\t\t</dependency>\n\n\t\t\t<!--第三方jar-->\n\t\t\t<dependency>\n\t\t\t\t<groupId>commons-lang</groupId>\n\t\t\t\t<artifactId>commons-lang</artifactId>\n\t\t\t\t<version>${commons-lang.version}</version>\n\t\t\t</dependency>\n\t\t\t<dependency>\n\t\t\t\t<groupId>commons-httpclient</groupId>\n\t\t\t\t<artifactId>commons-httpclient</artifactId>\n\t\t\t\t<version>${commons-httpclient.version}</version>\n\t\t\t</dependency>\n\t\t\t<dependency>\n\t\t\t\t<groupId>org.dom4j</groupId>\n\t\t\t\t<artifactId>dom4j</artifactId>\n\t\t\t\t<version>${dom4j.version}</version>\n\t\t\t</dependency>\n\t\t\t<dependency>\n\t\t\t\t<groupId>org.jdom</groupId>\n\t\t\t\t<artifactId>jdom2</artifactId>\n\t\t\t\t<version>${jdom.version}</version>\n\t\t\t</dependency>\n\t\t\t<dependency>\n\t\t\t\t<groupId>javax.json</groupId>\n\t\t\t\t<artifactId>javax.json-api</artifactId>\n\t\t\t\t<version>${javax.json-api.version}</version>\n\t\t\t</dependency>\n\t\t\t<dependency>\n\t\t\t\t<groupId>commons-io</groupId>\n\t\t\t\t<artifactId>commons-io</artifactId>\n\t\t\t\t<version>${commons-io.version}</version>\n\t\t\t</dependency>\n\n\t\t</dependencies>\n\t</dependencyManagement>\n\n\t<!-- developer -->\n\t<developers>\n\t\t<developer>\n\t\t\t<name>Along</name>\n\t\t\t<id>shen.jialong</id>\n\t\t\t<email>shenjl@roncoo.com</email>\n\t\t\t<roles>\n\t\t\t\t<role>Developer</role>\n\t\t\t</roles>\n\t\t\t<timezone>+8</timezone>\n\t\t</developer>\n\t\t<developer>\n\t\t\t<name>peter</name>\n\t\t\t<id>hu.peter</id>\n\t\t\t<email>hupt@roncoo.com</email>\n\t\t\t<roles>\n\t\t\t\t<role>Developer</role>\n\t\t\t</roles>\n\t\t\t<timezone>+8</timezone>\n\t\t</developer>\n\t\t<developer>\n\t\t\t<name>hugo</name>\n\t\t\t<id>zeng.hao</id>\n\t\t\t<email>zengh@roncoo.com</email>\n\t\t\t<roles>\n\t\t\t\t<role>Developer</role>\n\t\t\t</roles>\n\t\t\t<timezone>+8</timezone>\n\t\t</developer>\n\t</developers>\n</project>\n"
        },
        {
          "name": "roncoo-pay-app-notify",
          "type": "tree",
          "content": null
        },
        {
          "name": "roncoo-pay-app-order-polling",
          "type": "tree",
          "content": null
        },
        {
          "name": "roncoo-pay-app-reconciliation",
          "type": "tree",
          "content": null
        },
        {
          "name": "roncoo-pay-app-settlement",
          "type": "tree",
          "content": null
        },
        {
          "name": "roncoo-pay-common-core",
          "type": "tree",
          "content": null
        },
        {
          "name": "roncoo-pay-service",
          "type": "tree",
          "content": null
        },
        {
          "name": "roncoo-pay-web-boss",
          "type": "tree",
          "content": null
        },
        {
          "name": "roncoo-pay-web-gateway",
          "type": "tree",
          "content": null
        },
        {
          "name": "roncoo-pay-web-merchant",
          "type": "tree",
          "content": null
        },
        {
          "name": "roncoo-pay-web-sample-shop",
          "type": "tree",
          "content": null
        },
        {
          "name": "应用架构图.jpg",
          "type": "blob",
          "size": 149.82421875,
          "content": null
        },
        {
          "name": "更新说明.txt",
          "type": "blob",
          "size": 0.2890625,
          "content": "更新说明：\n\n2019-12-13 更新\n1、优化序列生成方式，使用IdWork取代数据库函数生成\n\n2019-09-27 更新\n1、优化所有交易流程，简化请求参数，使交易流程更合理\n\n2、升级支付宝交易签名方式，MD5改为RSA2\n\n3、增加支付宝花呗分期支付\n"
        }
      ]
    }
  ]
}