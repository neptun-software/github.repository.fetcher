{
  "metadata": {
    "timestamp": 1736708683165,
    "page": 94,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjEwMA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "goldze/MVVMHabit",
      "stars": 7620,
      "defaultBranch": "master",
      "files": [
        {
          "name": ".gitattributes",
          "type": "blob",
          "size": 0.0634765625,
          "content": "# Auto detect text files and perform LF normalization\n* text=auto"
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.16796875,
          "content": "*.iml\n.gradle\nkey.jks\n/local.properties\n/.idea/workspace.xml\n/.idea/libraries\n/.idea\n.DS_Store\n/build\n/captures\n.externalNativeBuild\n/app/release\n/mvvmhabit/bintray.gradle\n"
        },
        {
          "name": "LICENSE",
          "type": "blob",
          "size": 11.0478515625,
          "content": "Apache License\n                           Version 2.0, January 2004\n                        http://www.apache.org/licenses/\n\n   TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION\n\n   1. Definitions.\n\n      \"License\" shall mean the terms and conditions for use, reproduction,\n      and distribution as defined by Sections 1 through 9 of this document.\n\n      \"Licensor\" shall mean the copyright owner or entity authorized by\n      the copyright owner that is granting the License.\n\n      \"Legal Entity\" shall mean the union of the acting entity and all\n      other entities that control, are controlled by, or are under common\n      control with that entity. For the purposes of this definition,\n      \"control\" means (i) the power, direct or indirect, to cause the\n      direction or management of such entity, whether by contract or\n      otherwise, or (ii) ownership of fifty percent (50%) or more of the\n      outstanding shares, or (iii) beneficial ownership of such entity.\n\n      \"You\" (or \"Your\") shall mean an individual or Legal Entity\n      exercising permissions granted by this License.\n\n      \"Source\" form shall mean the preferred form for making modifications,\n      including but not limited to software source code, documentation\n      source, and configuration files.\n\n      \"Object\" form shall mean any form resulting from mechanical\n      transformation or translation of a Source form, including but\n      not limited to compiled object code, generated documentation,\n      and conversions to other media types.\n\n      \"Work\" shall mean the work of authorship, whether in Source or\n      Object form, made available under the License, as indicated by a\n      copyright notice that is included in or attached to the work\n      (an example is provided in the Appendix below).\n\n      \"Derivative Works\" shall mean any work, whether in Source or Object\n      form, that is based on (or derived from) the Work and for which the\n      editorial revisions, annotations, elaborations, or other modifications\n      represent, as a whole, an original work of authorship. For the purposes\n      of this License, Derivative Works shall not include works that remain\n      separable from, or merely link (or bind by name) to the interfaces of,\n      the Work and Derivative Works thereof.\n\n      \"Contribution\" shall mean any work of authorship, including\n      the original version of the Work and any modifications or additions\n      to that Work or Derivative Works thereof, that is intentionally\n      submitted to Licensor for inclusion in the Work by the copyright owner\n      or by an individual or Legal Entity authorized to submit on behalf of\n      the copyright owner. For the purposes of this definition, \"submitted\"\n      means any form of electronic, verbal, or written communication sent\n      to the Licensor or its representatives, including but not limited to\n      communication on electronic mailing lists, source code control systems,\n      and issue tracking systems that are managed by, or on behalf of, the\n      Licensor for the purpose of discussing and improving the Work, but\n      excluding communication that is conspicuously marked or otherwise\n      designated in writing by the copyright owner as \"Not a Contribution.\"\n\n      \"Contributor\" shall mean Licensor and any individual or Legal Entity\n      on behalf of whom a Contribution has been received by Licensor and\n      subsequently incorporated within the Work.\n\n   2. Grant of Copyright License. Subject to the terms and conditions of\n      this License, each Contributor hereby grants to You a perpetual,\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n      copyright license to reproduce, prepare Derivative Works of,\n      publicly display, publicly perform, sublicense, and distribute the\n      Work and such Derivative Works in Source or Object form.\n\n   3. Grant of Patent License. Subject to the terms and conditions of\n      this License, each Contributor hereby grants to You a perpetual,\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n      (except as stated in this section) patent license to make, have made,\n      use, offer to sell, sell, import, and otherwise transfer the Work,\n      where such license applies only to those patent claims licensable\n      by such Contributor that are necessarily infringed by their\n      Contribution(s) alone or by combination of their Contribution(s)\n      with the Work to which such Contribution(s) was submitted. If You\n      institute patent litigation against any entity (including a\n      cross-claim or counterclaim in a lawsuit) alleging that the Work\n      or a Contribution incorporated within the Work constitutes direct\n      or contributory patent infringement, then any patent licenses\n      granted to You under this License for that Work shall terminate\n      as of the date such litigation is filed.\n\n   4. Redistribution. You may reproduce and distribute copies of the\n      Work or Derivative Works thereof in any medium, with or without\n      modifications, and in Source or Object form, provided that You\n      meet the following conditions:\n\n      (a) You must give any other recipients of the Work or\n          Derivative Works a copy of this License; and\n\n      (b) You must cause any modified files to carry prominent notices\n          stating that You changed the files; and\n\n      (c) You must retain, in the Source form of any Derivative Works\n          that You distribute, all copyright, patent, trademark, and\n          attribution notices from the Source form of the Work,\n          excluding those notices that do not pertain to any part of\n          the Derivative Works; and\n\n      (d) If the Work includes a \"NOTICE\" text file as part of its\n          distribution, then any Derivative Works that You distribute must\n          include a readable copy of the attribution notices contained\n          within such NOTICE file, excluding those notices that do not\n          pertain to any part of the Derivative Works, in at least one\n          of the following places: within a NOTICE text file distributed\n          as part of the Derivative Works; within the Source form or\n          documentation, if provided along with the Derivative Works; or,\n          within a display generated by the Derivative Works, if and\n          wherever such third-party notices normally appear. The contents\n          of the NOTICE file are for informational purposes only and\n          do not modify the License. You may add Your own attribution\n          notices within Derivative Works that You distribute, alongside\n          or as an addendum to the NOTICE text from the Work, provided\n          that such additional attribution notices cannot be construed\n          as modifying the License.\n\n      You may add Your own copyright statement to Your modifications and\n      may provide additional or different license terms and conditions\n      for use, reproduction, or distribution of Your modifications, or\n      for any such Derivative Works as a whole, provided Your use,\n      reproduction, and distribution of the Work otherwise complies with\n      the conditions stated in this License.\n\n   5. Submission of Contributions. Unless You explicitly state otherwise,\n      any Contribution intentionally submitted for inclusion in the Work\n      by You to the Licensor shall be under the terms and conditions of\n      this License, without any additional terms or conditions.\n      Notwithstanding the above, nothing herein shall supersede or modify\n      the terms of any separate license agreement you may have executed\n      with Licensor regarding such Contributions.\n\n   6. Trademarks. This License does not grant permission to use the trade\n      names, trademarks, service marks, or product names of the Licensor,\n      except as required for reasonable and customary use in describing the\n      origin of the Work and reproducing the content of the NOTICE file.\n\n   7. Disclaimer of Warranty. Unless required by applicable law or\n      agreed to in writing, Licensor provides the Work (and each\n      Contributor provides its Contributions) on an \"AS IS\" BASIS,\n      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or\n      implied, including, without limitation, any warranties or conditions\n      of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A\n      PARTICULAR PURPOSE. You are solely responsible for determining the\n      appropriateness of using or redistributing the Work and assume any\n      risks associated with Your exercise of permissions under this License.\n\n   8. Limitation of Liability. In no event and under no legal theory,\n      whether in tort (including negligence), contract, or otherwise,\n      unless required by applicable law (such as deliberate and grossly\n      negligent acts) or agreed to in writing, shall any Contributor be\n      liable to You for damages, including any direct, indirect, special,\n      incidental, or consequential damages of any character arising as a\n      result of this License or out of the use or inability to use the\n      Work (including but not limited to damages for loss of goodwill,\n      work stoppage, computer failure or malfunction, or any and all\n      other commercial damages or losses), even if such Contributor\n      has been advised of the possibility of such damages.\n\n   9. Accepting Warranty or Additional Liability. While redistributing\n      the Work or Derivative Works thereof, You may choose to offer,\n      and charge a fee for, acceptance of support, warranty, indemnity,\n      or other liability obligations and/or rights consistent with this\n      License. However, in accepting such obligations, You may act only\n      on Your own behalf and on Your sole responsibility, not on behalf\n      of any other Contributor, and only if You agree to indemnify,\n      defend, and hold each Contributor harmless for any liability\n      incurred by, or claims asserted against, such Contributor by reason\n      of your accepting any such warranty or additional liability.\n\n   END OF TERMS AND CONDITIONS\n\n   APPENDIX: How to apply the Apache License to your work.\n\n      To apply the Apache License to your work, attach the following\n      boilerplate notice, with the fields enclosed by brackets \"{}\"\n      replaced with your own identifying information. (Don't include\n      the brackets!)  The text should be enclosed in the appropriate\n      comment syntax for the file format. We also recommend that a\n      file or class name and description of purpose be included on the\n      same \"printed page\" as the copyright notice for easier\n      identification within third-party archives.\n\n   Copyright 2017 goldze(曾宪泽)\n\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License."
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 36.8349609375,
          "content": "## 最新日志\n**v4.0.0：2021年07月16日**\n\n- 迁移AndroidX分支作为主线分支；\n- 升级第三方框架依赖版本；\n- 升级gradle插件版本支持；\n- 优化框架代码，解决已知Bug；\n- 修改文档说明。\n#### [更多日志](./UpdateLog.md)\n\n***\n\n**注：** \n\n[3.x：Support版（最后版本：3.1.6）](https://github.com/goldze/MVVMHabit/tree/20210716_v3.1.6_android) \n\n[4.x：AndroidX版（最后版本：4.0.0）](https://github.com/goldze/MVVMHabit) 建议使用当前版本\n\n> **原文地址：** [https://github.com/goldze/MVVMHabit](https://github.com/goldze/MVVMHabit)\n\n②群 <a target=\"_blank\" href=\"https://jq.qq.com/?_wv=1027&k=V3luKUW7\"><img border=\"0\" src=\"http://pub.idqqimg.com/wpa/images/group.png\" alt=\"MVVMHabit-Family2\" title=\"MVVMHabit-Family2\"></a>\n\n①群 <a target=\"_blank\" href=\"https://jq.qq.com/?_wv=1027&k=Fv9et98F\"><img border=\"0\" src=\"http://pub.idqqimg.com/wpa/images/group.png\" alt=\"MVVMHabit-Family\" title=\"MVVMHabit-Family\"></a>（已满）\n\n# MVVMHabit\n##\n目前，android流行的MVC、MVP模式的开发框架很多，然而一款基于MVVM模式开发框架却很少。**MVVMHabit是以谷歌DataBinding+LiveData+ViewModel框架为基础，整合Okhttp+RxJava+Retrofit+Glide等流行模块，加上各种原生控件自定义的BindingAdapter，让事件与数据源完美绑定的一款容易上瘾的实用性MVVM快速开发框架**。从此告别findViewById()，告别setText()，告别setOnClickListener()...\n\n## 框架流程\n![](./img/fc.png) \n\n## 框架特点\n- **快速开发**\n\n\t只需要写项目的业务逻辑，不用再去关心网络请求、权限申请、View的生命周期等问题，撸起袖子就是干。\n\n- **维护方便**\n\n\tMVVM开发模式，低耦合，逻辑分明。Model层负责将请求的数据交给ViewModel；ViewModel层负责将请求到的数据做业务逻辑处理，最后交给View层去展示，与View一一对应；View层只负责界面绘制刷新，不处理业务逻辑，非常适合分配独立模块开发。\n\n- **流行框架**\n\n\t[retrofit](https://github.com/square/retrofit)+[okhttp](https://github.com/square/okhttp)+[rxJava](https://github.com/ReactiveX/RxJava)负责网络请求；[gson](https://github.com/google/gson)负责解析json数据；[glide](https://github.com/bumptech/glide)负责加载图片；[rxlifecycle](https://github.com/trello/RxLifecycle)负责管理view的生命周期；与网络请求共存亡；[rxbinding](https://github.com/JakeWharton/RxBinding)结合databinding扩展UI事件；[rxpermissions](https://github.com/tbruyelle/RxPermissions)负责Android 6.0权限申请；[material-dialogs](https://github.com/afollestad/material-dialogs)一个漂亮的、流畅的、可定制的material design风格的对话框。\n\n- **数据绑定**\n\n\t满足google目前控件支持的databinding双向绑定，并扩展原控件一些不支持的数据绑定。例如将图片的url路径绑定到ImageView控件中，在BindingAdapter方法里面则使用Glide加载图片；View的OnClick事件在BindingAdapter中方法使用RxView防重复点击，再把事件回调到ViewModel层，实现xml与ViewModel之间数据和事件的绑定(框架里面部分扩展控件和回调命令使用的是@kelin原创的)。\n\n- **基类封装**\n\n\t专门针对MVVM模式打造的BaseActivity、BaseFragment、BaseViewModel，在View层中不再需要定义ViewDataBinding和ViewModel，直接在BaseActivity、BaseFragment上限定泛型即可使用。普通界面只需要编写Fragment，然后使用ContainerActivity盛装(代理)，这样就不需要每个界面都在AndroidManifest中注册一遍。\n\n- **全局操作**\n\t1. 全局的Activity堆栈式管理，在程序任何地方可以打开、结束指定的Activity，一键退出应用程序。\n\t2. LoggingInterceptor全局拦截网络请求日志，打印Request和Response，格式化json、xml数据显示，方便与后台调试接口。\n\t3. 全局Cookie，支持SharedPreferences和内存两种管理模式。\n\t4. 通用的网络请求异常监听，根据不同的状态码或异常设置相应的message。\n\t5. 全局的异常捕获，程序发生异常时不会崩溃，可跳入异常界面重启应用。\n\t6. 全局事件回调，提供RxBus、Messenger两种回调方式。\n\t7. 全局任意位置一行代码实现文件下载进度监听（暂不支持多文件进度监听）。\n    8. 全局点击事件防抖动处理，防止点击过快。\n\n\n## 1、准备工作\n> 网上的很多有关MVVM的资料，在此就不再阐述什么是MVVM了，不清楚的朋友可以先去了解一下。[todo-mvvm-live](https://github.com/googlesamples/android-architecture/tree/todo-mvvm-live)\n### 1.1、启用databinding\n在主工程app的build.gradle的android {}中加入：\n```gradle\ndataBinding {\n    enabled true\n}\n```\n### 1.2、依赖Library\n从远程依赖：\n\n在根目录的build.gradle中加入\n```gradle\nallprojects {\n    repositories {\n\t\t...\n        google()\n        jcenter()\n        maven { url 'https://jitpack.io' }\n    }\n}\n```\n在主项目app的build.gradle中依赖\n```gradle\ndependencies {\n    ...\n    implementation 'com.github.goldze:MVVMHabit:4.0.0'\n}\n```\n或\n\n下载例子程序，在主项目app的build.gradle中依赖例子程序中的**mvvmhabit**：\n```gradle\ndependencies {\t\n    ...\n    implementation project(':mvvmhabit')\n}\n```\n\n### 1.3、配置config.gradle\n如果不是远程依赖，而是下载的例子程序，那么还需要将例子程序中的config.gradle放入你的主项目根目录中，然后在根目录build.gradle的第一行加入：\n\n```gradle\napply from: \"config.gradle\"\n```\n\n**注意：** config.gradle中的 \n\nandroid = [] 是你的开发相关版本配置，可自行修改\n\nsupport = [] 是你的support相关配置，可自行修改\n\ndependencies = [] 是依赖第三方库的配置，可以加新库，但不要去修改原有第三方库的版本号，不然可能会编译不过\n### 1.4、配置AndroidManifest\n添加权限：\n```xml\n<uses-permission android:name=\"android.permission.INTERNET\" />\n<uses-permission android:name=\"android.permission.ACCESS_WIFI_STATE\" />\n<uses-permission android:name=\"android.permission.READ_PHONE_STATE\" />\n<uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" />\n<uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" />\n<uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" />\n```\n配置Application：\n\n继承**mvvmhabit**中的BaseApplication，或者调用\n\n```java\nBaseApplication.setApplication(this);\n```\n来初始化你的Application\n\n可以在你的自己AppApplication中配置\n\n```java\n//是否开启日志打印\nKLog.init(true);\n//配置全局异常崩溃操作\nCaocConfig.Builder.create()\n    .backgroundMode(CaocConfig.BACKGROUND_MODE_SILENT) //背景模式,开启沉浸式\n    .enabled(true) //是否启动全局异常捕获\n    .showErrorDetails(true) //是否显示错误详细信息\n    .showRestartButton(true) //是否显示重启按钮\n    .trackActivities(true) //是否跟踪Activity\n    .minTimeBetweenCrashesMs(2000) //崩溃的间隔时间(毫秒)\n    .errorDrawable(R.mipmap.ic_launcher) //错误图标\n    .restartActivity(LoginActivity.class) //重新启动后的activity\n    //.errorActivity(YourCustomErrorActivity.class) //崩溃后的错误activity\n    //.eventListener(new YourCustomEventListener()) //崩溃后的错误监听\n    .apply();\n```\n\n## 2、快速上手\n\n### 2.1、第一个Activity\n> 以大家都熟悉的登录操作为例：三个文件**LoginActivty.java**、**LoginViewModel.java**、**activity_login.xml**\n\n##### 2.1.1、关联ViewModel\n在activity_login.xml中关联LoginViewModel。\n```xml\n<layout>\n    <data>\n        <variable\n            type=\"com.goldze.mvvmhabit.ui.login.LoginViewModel\"\n            name=\"viewModel\"\n        />\n    </data>\n    .....\n\n</layout>\n```\n\n> variable - type：类的全路径 <br>variable - name：变量名\n\n##### 2.1.2、继承BaseActivity\n\nLoginActivity继承BaseActivity\n```java\n\npublic class LoginActivity extends BaseActivity<ActivityLoginBinding, LoginViewModel> {\n    //ActivityLoginBinding类是databinding框架自定生成的,对activity_login.xml\n    @Override\n    public int initContentView(Bundle savedInstanceState) {\n        return R.layout.activity_login;\n    }\n\n    @Override\n    public int initVariableId() {\n        return BR.viewModel;\n    }\n\n    @Override\n    public LoginViewModel initViewModel() {\n        //View持有ViewModel的引用，如果没有特殊业务处理，这个方法可以不重写\n        return ViewModelProviders.of(this).get(LoginViewModel.class);\n    }\n}\n```\n> 保存activity_login.xml后databinding会生成一个ActivityLoginBinding类。（如果没有生成，试着点击Build->Clean Project）\n\nBaseActivity是一个抽象类，有两个泛型参数，一个是ViewDataBinding，另一个是BaseViewModel，上面的ActivityLoginBinding则是继承的ViewDataBinding作为第一个泛型约束，LoginViewModel继承BaseViewModel作为第二个泛型约束。\n\n重写BaseActivity的二个抽象方法\n\ninitContentView() 返回界面layout的id<br>\ninitVariableId() 返回变量的id，对应activity_login中name=\"viewModel\"，就像一个控件的id，可以使用R.id.xxx，这里的BR跟R文件一样，由系统生成，使用BR.xxx找到这个ViewModel的id。<br>\n\n选择性重写initViewModel()方法，返回ViewModel对象\n```java\n@Override\npublic LoginViewModel initViewModel() {\n    //View持有ViewModel的引用，如果没有特殊业务处理，这个方法可以不重写\n    return ViewModelProviders.of(this).get(LoginViewModel.class);\n}\n```\n\n**注意：** 不重写initViewModel()，默认会创建LoginActivity中第二个泛型约束的LoginViewModel，如果没有指定第二个泛型，则会创建BaseViewModel\n\n##### 2.1.3、继承BaseViewModel\n\nLoginViewModel继承BaseViewModel\n```java\npublic class LoginViewModel extends BaseViewModel {\n    public LoginViewModel(@NonNull Application application) {\n        super(application);\n    }\n    ....\n}\n```\nBaseViewModel与BaseActivity通过LiveData来处理常用UI逻辑，即可在ViewModel中使用父类的showDialog()、startActivity()等方法。在这个LoginViewModel中就可以尽情的写你的逻辑了！\n> BaseFragment的使用和BaseActivity一样，详情参考Demo。\n\n### 2.2、数据绑定\n> 拥有databinding框架自带的双向绑定，也有扩展\n##### 2.2.1、传统绑定\n绑定用户名：\n\n在LoginViewModel中定义\n```java\n//用户名的绑定\npublic ObservableField<String> userName = new ObservableField<>(\"\");\n```\n在用户名EditText标签中绑定\n```xml\nandroid:text=\"@={viewModel.userName}\"\n```\n这样一来，输入框中输入了什么，userName.get()的内容就是什么，userName.set(\"\")设置什么，输入框中就显示什么。\n**注意：** @符号后面需要加=号才能达到双向绑定效果；userName需要是public的，不然viewModel无法找到它。\n\n点击事件绑定：\n\n在LoginViewModel中定义\n```java\n//登录按钮的点击事件\npublic View.OnClickListener loginOnClick = new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n            \n    }\n};\n```\n在登录按钮标签中绑定\n```xml\nandroid:onClick=\"@{viewModel.loginOnClick}\"\n```\n这样一来，用户的点击事件直接被回调到ViewModel层了，更好的维护了业务逻辑\n\n这就是强大的databinding框架双向绑定的特性，不用再给控件定义id，setText()，setOnClickListener()。\n\n**但是，光有这些，完全满足不了我们复杂业务的需求啊！MVVMHabit闪亮登场：它有一套自定义的绑定规则，可以满足大部分的场景需求，请继续往下看。**\n\n##### 2.2.2、自定义绑定\n还拿点击事件说吧，不用传统的绑定方式，使用自定义的点击事件绑定。\n\n在LoginViewModel中定义\n```java\n//登录按钮的点击事件\npublic BindingCommand loginOnClickCommand = new BindingCommand(new BindingAction() {\n    @Override\n    public void call() {\n            \n    }\n});\n```\n在activity_login中定义命名空间\n```xml\nxmlns:binding=\"http://schemas.android.com/apk/res-auto\"\n```\n在登录按钮标签中绑定\n```xml\nbinding:onClickCommand=\"@{viewModel.loginOnClickCommand}\"\n```\n这和原本传统的绑定不是一样吗？不，这其实是有差别的。使用这种形式的绑定，在原本事件绑定的基础之上，带有防重复点击的功能，1秒内多次点击也只会执行一次操作。如果不需要防重复点击，可以加入这条属性\n```xml\nbinding:isThrottleFirst=\"@{Boolean.TRUE}\"\n```\n那这功能是在哪里做的呢？答案在下面的代码中。\n```java\n//防重复点击间隔(秒)\npublic static final int CLICK_INTERVAL = 1;\n\n/**\n* requireAll 是意思是是否需要绑定全部参数, false为否\n* View的onClick事件绑定\n* onClickCommand 绑定的命令,\n* isThrottleFirst 是否开启防止过快点击\n*/\n@BindingAdapter(value = {\"onClickCommand\", \"isThrottleFirst\"}, requireAll = false)\npublic static void onClickCommand(View view, final BindingCommand clickCommand, final boolean isThrottleFirst) {\n    if (isThrottleFirst) {\n        RxView.clicks(view)\n        .subscribe(new Consumer<Object>() {\n            @Override\n            public void accept(Object object) throws Exception {\n                if (clickCommand != null) {\n                    clickCommand.execute();\n                }\n            }\n        });\n    } else {\n        RxView.clicks(view)\n        .throttleFirst(CLICK_INTERVAL, TimeUnit.SECONDS)//1秒钟内只允许点击1次\n        .subscribe(new Consumer<Object>() {\n            @Override\n            public void accept(Object object) throws Exception {\n                if (clickCommand != null) {\n                    clickCommand.execute();\n                }\n            }\n        });\n    }\n}\n```\nonClickCommand方法是自定义的，使用@BindingAdapter注解来标明这是一个绑定方法。在方法中使用了RxView来增强view的clicks事件，.throttleFirst()限制订阅者在指定的时间内重复执行，最后通过BindingCommand将事件回调出去，就好比有一种拦截器，在点击时先做一下判断，然后再把事件沿着他原有的方向传递。\n\n是不是觉得有点意思，好戏还在后头呢！\n##### 2.2.3、自定义ImageView图片加载\n绑定图片路径：\n\n在ViewModel中定义\n```java\npublic String imgUrl = \"http://img0.imgtn.bdimg.com/it/u=2183314203,562241301&fm=26&gp=0.jpg\";\n```\n在ImageView标签中\n```xml\nbinding:url=\"@{viewModel.imgUrl}\"\n```\nurl是图片路径，这样绑定后，这个ImageView就会去显示这张图片，不限网络图片还是本地图片。\n\n如果需要给一个默认加载中的图片，可以加这一句\n```xml\nbinding:placeholderRes=\"@{R.mipmap.ic_launcher_round}\"\n```\n> R文件需要在data标签中导入使用，如：`<import type=\"com.goldze.mvvmhabit.R\" />`\n\nBindingAdapter中的实现\n```java\n@BindingAdapter(value = {\"url\", \"placeholderRes\"}, requireAll = false)\npublic static void setImageUri(ImageView imageView, String url, int placeholderRes) {\n    if (!TextUtils.isEmpty(url)) {\n        //使用Glide框架加载图片\n        Glide.with(imageView.getContext())\n            .load(url)\n            .placeholder(placeholderRes)\n            .into(imageView);\n    }\n}\n```\n很简单就自定义了一个ImageView图片加载的绑定，学会这种方式，可自定义扩展。\n> 如果你对这些感兴趣，可以下载源码，在binding包中可以看到各类控件的绑定实现方式\n\n##### 2.2.4、RecyclerView绑定\n> RecyclerView也是很常用的一种控件，传统的方式需要针对各种业务要写各种Adapter，如果你使用了mvvmhabit，则可大大简化这种工作量，从此告别setAdapter()。\n\n在ViewModel中定义：\n```java\n//给RecyclerView添加items\npublic final ObservableList<NetWorkItemViewModel> observableList = new ObservableArrayList<>();\n//给RecyclerView添加ItemBinding\npublic final ItemBinding<NetWorkItemViewModel> itemBinding = ItemBinding.of(BR.viewModel, R.layout.item_network);\n```\nObservableList<>和ItemBinding<>的泛型是Item布局所对应的ItemViewModel\n\n在xml中绑定\n```xml\n<android.support.v7.widget.RecyclerView\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    binding:itemBinding=\"@{viewModel.itemBinding}\"\n    binding:items=\"@{viewModel.observableList}\"\n    binding:layoutManager=\"@{LayoutManagers.linear()}\"\n    binding:lineManager=\"@{LineManagers.horizontal()}\" />\n```\nlayoutManager控制是线性(包含水平和垂直)排列还是网格排列，lineManager是设置分割线\n\n网格布局的写法：`binding:layoutManager=\"@{LayoutManagers.grid(3)}`</br>\n水平布局的写法：`binding:layoutManager=\"@{LayoutManagers.linear(LinearLayoutManager.HORIZONTAL,Boolean.FALSE)}\"`</br>\n\n使用到相关类，则需要导入该类才能使用，和导入Java类相似\n\n> `<import type=\"me.tatarka.bindingcollectionadapter2.LayoutManagers\" />`</br>\n> `<import type=\"me.goldze.mvvmhabit.binding.viewadapter.recyclerview.LineManagers\" />`</br>\n> `<import type=\"android.support.v7.widget.LinearLayoutManager\" />`\n\n\n这样绑定后，在ViewModel中调用ObservableList的add()方法，添加一个ItemViewModel，界面上就会实时绘制出一个Item。在Item对应的ViewModel中，同样可以以绑定的形式完成逻辑\n> 可以在请求到数据后，循环添加`observableList.add(new NetWorkItemViewModel(NetWorkViewModel.this, entity));`详细可以参考例子程序中NetWorkViewModel类。\n\n**注意：** 在以前的版本中，ItemViewModel是继承BaseViewModel，传入Context，新版本3.x中可继承ItemViewModel，传入当前页面的ViewModel\n\n更多RecyclerView、ListView、ViewPager等绑定方式，请参考 [https://github.com/evant/binding-collection-adapter](https://github.com/evant/binding-collection-adapter)\n\n### 2.3、网络请求\n> 网络请求一直都是一个项目的核心，现在的项目基本都离不开网络，一个好用网络请求框架可以让开发事半功倍。\n#### 2.3.1、Retrofit+Okhttp+RxJava\n> 现今，这三个组合基本是网络请求的标配，如果你对这三个框架不了解，建议先去查阅相关资料。\n\nsquare出品的框架，用起来确实非常方便。**MVVMHabit**中引入了\n```gradle\napi \"com.squareup.okhttp3:okhttp:3.10.0\"\napi \"com.squareup.retrofit2:retrofit:2.4.0\"\napi \"com.squareup.retrofit2:converter-gson:2.4.0\"\napi \"com.squareup.retrofit2:adapter-rxjava2:2.4.0\"\n```\n构建Retrofit时加入\n```java\nRetrofit retrofit = new Retrofit.Builder()\n    .addConverterFactory(GsonConverterFactory.create())\n    .addCallAdapterFactory(RxJavaCallAdapterFactory.create())\n    .build();\n```\n或者直接使用例子程序中封装好的RetrofitClient\n#### 2.3.2、网络拦截器\n**LoggingInterceptor：** 全局拦截请求信息，格式化打印Request、Response，可以清晰的看到与后台接口对接的数据，\n```java\nLoggingInterceptor mLoggingInterceptor = new LoggingInterceptor\n    .Builder()//构建者模式\n    .loggable(true) //是否开启日志打印\n    .setLevel(Level.BODY) //打印的等级\n    .log(Platform.INFO) // 打印类型\n    .request(\"Request\") // request的Tag\n    .response(\"Response\")// Response的Tag\n    .addHeader(\"version\", BuildConfig.VERSION_NAME)//打印版本\n    .build()\n```\n构建okhttp时加入\n```java\nOkHttpClient okHttpClient = new OkHttpClient.Builder()\n    .addInterceptor(mLoggingInterceptor)\n    .build();\n```\n**CacheInterceptor：** 缓存拦截器，当没有网络连接的时候自动读取缓存中的数据，缓存存放时间默认为3天。</br>\n创建缓存对象\n```java\n//缓存时间\nint CACHE_TIMEOUT = 10 * 1024 * 1024\n//缓存存放的文件\nFile httpCacheDirectory = new File(mContext.getCacheDir(), \"goldze_cache\");\n//缓存对象\nCache cache = new Cache(httpCacheDirectory, CACHE_TIMEOUT);\n```\n构建okhttp时加入\n```java\nOkHttpClient okHttpClient = new OkHttpClient.Builder()\n    .cache(cache)\n    .addInterceptor(new CacheInterceptor(mContext))\n    .build();\n```\n#### 2.3.3、Cookie管理\n**MVVMHabit**提供两种CookieStore：**PersistentCookieStore** (SharedPreferences管理)和**MemoryCookieStore** (内存管理)，可以根据自己的业务需求，在构建okhttp时加入相应的cookieJar\n```java\nOkHttpClient okHttpClient = new OkHttpClient.Builder()\n    .cookieJar(new CookieJarImpl(new PersistentCookieStore(mContext)))\n    .build();\n```\n或者\n```java\nOkHttpClient okHttpClient = new OkHttpClient.Builder()\n    .cookieJar(new CookieJarImpl(new MemoryCookieStore()))\n    .build();\n```\n#### 2.3.4、绑定生命周期\n请求在ViewModel层。默认在BaseActivity中注入了LifecycleProvider对象到ViewModel，用于绑定请求的生命周期，View与请求共存亡。\n```java\nRetrofitClient.getInstance().create(DemoApiService.class)\n    .demoGet()\n    .compose(RxUtils.bindToLifecycle(getLifecycleProvider())) // 请求与View周期同步\n    .compose(RxUtils.schedulersTransformer())  // 线程调度\n    .compose(RxUtils.exceptionTransformer())   // 网络错误的异常转换\n    .subscribe(new Consumer<BaseResponse<DemoEntity>>() {\n        @Override\n        public void accept(BaseResponse<DemoEntity> response) throws Exception {\n                       \n        }\n    }, new Consumer<ResponseThrowable>() {\n        @Override\n        public void accept(ResponseThrowable throwable) throws Exception {\n                        \n        }\n    });\n\n```\n在请求时关键需要加入组合操作符`.compose(RxUtils.bindToLifecycle(getLifecycleProvider()))`<br>\n**注意：** 由于BaseActivity/BaseFragment都实现了LifecycleProvider接口，并且默认注入到ViewModel中，所以在调用请求方法时可以直接调用getLifecycleProvider()拿到生命周期接口。如果你没有使用 **mvvmabit** 里面的BaseActivity或BaseFragment，使用自己定义的Base，那么需要让你自己的Activity继承RxAppCompatActivity、Fragment继承RxFragment才能用`RxUtils.bindToLifecycle(lifecycle)`方法。\n#### 2.3.5、网络异常处理\n网络异常在网络请求中非常常见，比如请求超时、解析错误、资源不存在、服务器内部错误等，在客户端则需要做相应的处理(当然，你可以把一部分异常甩锅给网络，比如当出现code 500时，提示：请求超时，请检查网络连接，此时偷偷将异常信息发送至后台(手动滑稽))。<br>\n\n在使用Retrofit请求时，加入组合操作符`.compose(RxUtils.exceptionTransformer())`，当发生网络异常时，回调onError(ResponseThrowable)方法，可以拿到异常的code和message，做相应处理。<br>\n\n> mvvmhabit中自定义了一个[ExceptionHandle](./mvvmhabit/src/main/java/me/goldze/mvvmhabit/http/ExceptionHandle.java)，已为你完成了大部分网络异常的判断，也可自行根据项目的具体需求调整逻辑。<br>\n\n**注意：** 这里的网络异常code，并非是与服务端协议约定的code。网络异常可以分为两部分，一部分是协议异常，即出现code = 404、500等，属于HttpException，另一部分为请求异常，即出现：连接超时、解析错误、证书验证失等。而与服务端约定的code规则，它不属于网络异常，它是属于一种业务异常。在请求中可以使用RxJava的filter(过滤器)，也可以自定义BaseSubscriber统一处理网络请求的业务逻辑异常。由于每个公司的业务协议不一样，所以具体需要你自己来处理该类异常。\n## 3、辅助功能\n> 一个完整的快速开发框架，当然也少不了常用的辅助类。下面来介绍一下**MVVMabit**中有哪些辅助功能。\n### 3.1、事件总线\n> 事件总线存在的优点想必大家都很清楚了，android自带的广播机制对于组件间的通信而言，使用非常繁琐，通信组件彼此之间的订阅和发布的耦合也比较严重，特别是对于事件的定义，广播机制局限于序列化的类（通过Intent传递），不够灵活。\n#### 3.3.1、RxBus\nRxBus并不是一个库，而是一种模式。相信大多数开发者都使用过EventBus，对RxBus也是很熟悉。由于**MVVMabit**中已经加入RxJava，所以采用了RxBus代替EventBus作为事件总线通信，以减少库的依赖。\n\n使用方法：\n\n在ViewModel中重写registerRxBus()方法来注册RxBus，重写removeRxBus()方法来移除RxBus\n```java\n//订阅者\nprivate Disposable mSubscription;\n//注册RxBus\n@Override\npublic void registerRxBus() {\n    super.registerRxBus();\n    mSubscription = RxBus.getDefault().toObservable(String.class)\n        .subscribe(new Consumer<String>() {\n            @Override\n            public void accept(String s) throws Exception {\n\n            }\n        });\n    //将订阅者加入管理站\n    RxSubscriptions.add(mSubscription);\n}\n\n//移除RxBus\n@Override\npublic void removeRxBus() {\n    super.removeRxBus();\n    //将订阅者从管理站中移除\n    RxSubscriptions.remove(mSubscription);\n}\n```\n在需要执行回调的地方发送\n```java\nRxBus.getDefault().post(object);\n```\n#### 3.3.2、Messenger\nMessenger是一个轻量级全局的消息通信工具，在我们的复杂业务中，难免会出现一些交叉的业务，比如ViewModel与ViewModel之间需要有数据交换，这时候可以轻松地使用Messenger发送一个实体或一个空消息，将事件从一个ViewModel回调到另一个ViewModel中。\n\n使用方法：\n\n定义一个静态String类型的字符串token\n```java\npublic static final String TOKEN_LOGINVIEWMODEL_REFRESH = \"token_loginviewmodel_refresh\";\n```\n在ViewModel中注册消息监听\n```java\n//注册一个空消息监听 \n//参数1：接受人（上下文）\n//参数2：定义的token\n//参数3：执行的回调监听\nMessenger.getDefault().register(this, LoginViewModel.TOKEN_LOGINVIEWMODEL_REFRESH, new BindingAction() {\n    @Override\n    public void call() {\n\t\n    }\n});\n\n//注册一个带数据回调的消息监听 \n//参数1：接受人（上下文）\n//参数2：定义的token\n//参数3：实体的泛型约束\n//参数4：执行的回调监听\nMessenger.getDefault().register(this, LoginViewModel.TOKEN_LOGINVIEWMODEL_REFRESH, String.class, new BindingConsumer<String>() {\n    @Override\n    public void call(String s) {\n         \n    }\n});\n```\n在需要回调的地方使用token发送消息\n```java\n//发送一个空消息\n//参数1：定义的token\nMessenger.getDefault().sendNoMsg(LoginViewModel.TOKEN_LOGINVIEWMODEL_REFRESH);\n\n//发送一个带数据回调消息\n//参数1：回调的实体\n//参数2：定义的token\nMessenger.getDefault().send(\"refresh\",LoginViewModel.TOKEN_LOGINVIEWMODEL_REFRESH);\n```\n> token最好不要重名，不然可能就会出现逻辑上的bug，为了更好的维护和清晰逻辑，建议以`aa_bb_cc`的格式来定义token。aa：TOKEN，bb：ViewModel的类名，cc：动作名（功能名）。\n\n> 为了避免大量使用Messenger，建议只在ViewModel与ViewModel之间使用，View与ViewModel之间采用ObservableField去监听UI上的逻辑，可在继承了Base的Activity或Fragment中重写initViewObservable()方法来初始化UI的监听\n\n\n注册了监听，当然也要解除它。在BaseActivity、BaseFragment的onDestroy()方法里已经调用`Messenger.getDefault().unregister(viewModel);`解除注册，所以不用担心忘记解除导致的逻辑错误和内存泄漏。\n### 3.2、文件下载\n文件下载几乎是每个app必备的功能，图文的下载，软件的升级等都要用到，mvvmhabit使用Retrofit+Okhttp+RxJava+RxBus实现一行代码监听带进度的文件下载。\n\n下载文件\n```java\nString loadUrl = \"你的文件下载路径\";\nString destFileDir = context.getCacheDir().getPath();  //文件存放的路径\nString destFileName = System.currentTimeMillis() + \".apk\";//文件存放的名称\nDownLoadManager.getInstance().load(loadUrl, new ProgressCallBack<ResponseBody>(destFileDir, destFileName) {\n    @Override\n    public void onStart() {\n        //RxJava的onStart()\n    }\n\n    @Override\n    public void onCompleted() {\n        //RxJava的onCompleted()\n    }\n\n    @Override\n    public void onSuccess(ResponseBody responseBody) {\n        //下载成功的回调\n    }\n\n    @Override\n    public void progress(final long progress, final long total) {\n        //下载中的回调 progress：当前进度 ，total：文件总大小\n    }\n\n    @Override\n    public void onError(Throwable e) {\n        //下载错误回调\n    }\n});\n```\n> 在ProgressResponseBody中使用了RxBus，发送下载进度信息到ProgressCallBack中，继承ProgressCallBack就可以监听到下载状态。回调方法全部执行在主线程，方便UI的更新，详情请参考例子程序。\n### 3.3、ContainerActivity\n一个盛装Fragment的一个容器(代理)Activity，普通界面只需要编写Fragment，使用此Activity盛装，这样就不需要每个界面都在AndroidManifest中注册一遍\n\n使用方法：\n\n在ViewModel中调用BaseViewModel的方法开一个Fragment\n```java\nstartContainerActivity(你的Fragment类名.class.getCanonicalName())\n```\n在ViewModel中调用BaseViewModel的方法，携带一个序列化实体打开一个Fragment\n```java\nBundle mBundle = new Bundle();\nmBundle.putParcelable(\"entity\", entity);\nstartContainerActivity(你的Fragment类名.class.getCanonicalName(), mBundle);\n```\n在你的Fragment中取出实体\n```java\nBundle mBundle = getArguments();\nif (mBundle != null) {\n    entity = mBundle.getParcelable(\"entity\");\n}\n```\n### 3.4、6.0权限申请\n> 对RxPermissions已经熟悉的朋友可以跳过。\n\n使用方法：\n\n例如请求相机权限，在ViewModel中调用\n```java\n//请求打开相机权限\nRxPermissions rxPermissions = new RxPermissions((Activity) context);\nrxPermissions.request(Manifest.permission.CAMERA)\n    .subscribe(new Consumer<Boolean>() {\n        @Override\n        public void accept(Boolean aBoolean) throws Exception {\n            if (aBoolean) {\n                ToastUtils.showShort(\"权限已经打开，直接跳入相机\");\n            } else {\n                ToastUtils.showShort(\"权限被拒绝\");\n            }\n        }\n    });\n```\n更多权限申请方式请参考[RxPermissions原项目地址](https://github.com/tbruyelle/RxPermissions)\n### 3.5、图片压缩\n> 为了节约用户流量和加快图片上传的速度，某些场景将图片在本地压缩后再传给后台，所以特此提供一个图片压缩的辅助功能。\n\n使用方法：\n\nRxJava的方式压缩单张图片，得到一个压缩后的图片文件对象\n```java\nString filePath = \"mnt/sdcard/1.png\";\nImageUtils.compressWithRx(filePath, new Consumer<File>() {\n    @Override\n    public void accept(File file) throws Exception {\n        //将文件放入RequestBody\n        ...\n    }\n});\n```\nRxJava的方式压缩多张图片，按集合顺序每压缩成功一张，都将在onNext方法中得到一个压缩后的图片文件对象\n```java\nList<String> filePaths = new ArrayList<>();\nfilePaths.add(\"mnt/sdcard/1.png\");\nfilePaths.add(\"mnt/sdcard/2.png\");\nImageUtils.compressWithRx(filePaths, new Subscriber() {\n    @Override\n    public void onCompleted() {\n\t\n    }\n\t\n    @Override\n    public void onError(Throwable e) {\n\t\n    }\n\t\n    @Override\n    public void onNext(File file) {\n\n    }\n});\n```\n### 3.6、其他辅助类\n**ToastUtils：** 吐司工具类\n\n**MaterialDialogUtils：** Material风格对话框工具类\n\n**SPUtils：** SharedPreferences工具类\n\n**SDCardUtils：** SD卡相关工具类\n\n**ConvertUtils：** 转换相关工具类\n\n**StringUtils：** 字符串相关工具类\n\n**RegexUtils：** 正则相关工具类\n\n**KLog：** 日志打印，含json格式打印\n\n## 4、附加\n\n### 4.1、编译错误解决方法\n> 使用databinding其实有个缺点，就是会遇到一些编译错误，而AS不能很好的定位到错误的位置，这对于刚开始使用databinding的开发者来说是一个比较郁闷的事。那么我在此把我自己在开发中遇到的各种编译问题的解决方法分享给大家，希望这对你会有所帮助。\n\n##### 4.1.1、绑定错误\n绑定错误是一个很常见的错误，基本都会犯。比如TextView的 `android:text=\"\"` ，本来要绑定的是一个String类型，结果你不小心，可能绑了一个Boolean上去，或者变量名写错了，这时候编辑器不会报红错，而是在点编译运行的时候，在AS的Messages中会出现错误提示，如下图：\n\n<img src=\"./img/error1.png\" width=\"640\" hegiht=\"640\" align=center />\n\n解决方法：把错误提示拉到最下面 (上面的提示找不到BR类这个不要管它)，看最后一个错误 ，这里会提示是哪个xml出了错，并且会定位到行数，按照提示找到对应位置，即可解决该编译错误的问题。\n\n**注意：** 行数要+1，意思是上面报出第33行错误，实际是第34行错误，AS定位的不准确 (这可能是它的一个bug)\n\n##### 4.1.2、xml导包错误\n在xml中需要导入ViewModel或者一些业务相关的类，假如在xml中导错了类，那一行则会报红，但是res/layout却没有错误提示，有一种场景，非常特殊，不容易找出错误位置。就是你写了一个xml，导入了一个类，比如XXXUtils，后来因为业务需求，把那个XXXUtils删了，这时候res/layout下不会出现任何错误，而你在编译运行的时候，才会出现错误日志。苦逼的是，不会像上面那样提示哪一个xml文件，哪一行出错了，最后一个错误只是一大片的报错报告。如下图：\n\n<img src=\"./img/error2.png\" width=\"640\" hegiht=\"640\" align=center />\n\n解决方法：同样找到最后一个错误提示，找到Cannot resolve type for **xxx**这一句 (xxx是类名)，然后使用全局搜索 (Ctrl+H) ，搜索哪个xml引用了这个类，跟踪点击进去，在xml就会出现一个红错，看到错误你就会明白了，这样就可解决该编译错误的问题。\n\n##### 4.1.3、build错误\n构建多module工程时，如出现【4.1.1、绑定错误】，且你能确定这个绑定是没有问题的，经过修改后出现下图错误：\n\n<img src=\"./img/error3.png\" width=\"640\" hegiht=\"640\" align=center />\n\n解决方法：\n这种是databinding比较大的坑，清理、重构和删build都不起作用，网上很难找到方法。经过试验，解决办法是手动创建异常中提到的文件夹，或者拷贝上一个没有报错的版本中对应的文件夹，可以解决这个异常\n\n##### 4.1.4、自动生成类错误\n有时候在写完xml时，databinding没有自动生成对应的Binding类及属性。比如新建了一个activity_login.xml，按照databinding的写法加入```<layout> <variable>```后，理论上会自动对应生成ActivityLoginBinding.java类和variable的属性，可能是as对databding的支持还不够吧，有时候偏偏就不生成，导致BR.xxx报红等一些莫名的错误。\n\n解决方法：其实确保自己的写法没有问题，是可以直接运行的，报红不一定是你写的有问题，也有可能是编译器抽风了。或者使用下面的办法</br>\n第一招：Build->Clean Project；</br>第二招：Build->Rebuild Project；</br>第三招：重启大法。\n\n##### 4.1.5、gradle错误\n如果遇到以下编译问题：\n\n错误: 无法将类 BindingRecyclerViewAdapters中的方法 setAdapter应用到给定类型;\n需要: RecyclerView,ItemBinding,List,BindingRecyclerViewAdapter,ItemIds<? super T>,ViewHolderFactory\n找到: RecyclerView,ItemBinding,ObservableList,BindingRecyclerViewAdapter<CAP#1>,ItemIds,ViewHolderFactory\n原因: 推断类型不符合等式约束条件\n推断: CAP#1\n等式约束条件: CAP#1,NetWorkItemViewModel\n其中, T是类型变量:\nT扩展已在方法 setAdapter(RecyclerView,ItemBinding,List,BindingRecyclerViewAdapter,ItemIds<? super T>,ViewHolderFactory)中声明的Object\n其中, CAP#1是新类型变量:\nCAP#1从?的捕获扩展Object\n\n一般是由于gradle plugin版本3.5.1造成的，请换成gradle plugin 3.5.0以下版本\n\n## 混淆\n例子程序中给出了最新的【MVVMHabit混淆规则】，包含MVVMHabit中依赖的所有第三方library，可以将规则直接拷贝到自己app的混淆规则中。在此基础上你只需要关注自己业务代码以及自己引入第三方的混淆，【MVVMHabit混淆规则】请参考app目录下的[proguard-rules.pro](./app/proguard-rules.pro)文件。\n\n## 组件化\n进阶Android组件化方案，请移步：[MVVMHabitComponent](https://github.com/goldze/MVVMHabitComponent)\n\n## About\n**goldze：** 本人喜欢尝试新的技术，以后发现有好用的东西，我将会在企业项目中实战，没有问题了就会把它引入到**MVVMHabit**中，一直维护着这套框架，谢谢各位朋友的支持。如果觉得这套框架不错的话，麻烦点个 **star**，你的支持则是我前进的动力！\n\n**QQ群**：84692105\n\n## Thank\n感谢[【zhangxiaoxiao】](https://github.com/zhanghacker)小伙伴长期提供的技术支持与帮助，为项目开源做出了很多的贡献。\n\n## License\n\n    Copyright 2017 goldze(曾宪泽)\n \n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n \n        http://www.apache.org/licenses/LICENSE-2.0\n \n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n"
        },
        {
          "name": "UpdateLog.md",
          "type": "blob",
          "size": 0.9580078125,
          "content": "## 更新日志\n**v4.0.0：2021年07月16日**\n\n- 迁移AndroidX分支作为主线分支；\n- 升级第三方框架依赖版本；\n- 升级gradle插件版本支持；\n- 优化框架代码，解决已知Bug；\n- 修改文档说明。\n***\n**v3.0.7：2019年1月25日**\n\n- 优化框架代码，解决已知Bug；\n- 新增ViewPager+Fragment例子；\n- 新增RecycleView多布局例子；\n- 升级第三方依赖库；\n- 修改文档说明。\n***\n**v3.0.0：2018年10月8日**\n\n- 全面升级AAC，引入谷歌lifecycle组件；\n- 修改Base基类，满足新一套模式；\n- 升级第三方依赖库；\n- 修改例子程序；\n- 修改文档说明。\n***\n**v2.0.6：2018年7月19日**\n\n- 优化框架性能、基类逻辑，新增绑定命令；\n- 补充例子程序及注释；\n- 升级/修改第三方依赖库；\n- 补充文档说明。\n***\n**v2.0.0：2018年4月10日**\n\n- 全面升级RxJava2；\n- 优化绑定回调方式；\n- 升级第三方依赖库；\n- 微调例子程序。\n"
        },
        {
          "name": "app",
          "type": "tree",
          "content": null
        },
        {
          "name": "build.gradle",
          "type": "blob",
          "size": 0.8095703125,
          "content": "// Top-level build file where you can add configuration options common to all sub-projects/modules.\napply from: \"config.gradle\"\nbuildscript {\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.5.2'\n//        classpath 'com.github.dcendents:android-maven-gradle-plugin:1.3'\n//        classpath 'com.github.dcendents:android-maven-gradle-plugin:1.5'\n//        classpath 'com.jfrog.bintray.gradle:gradle-bintray-plugin:1.7.3'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n        maven { url 'https://jitpack.io' }\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n\n\n"
        },
        {
          "name": "config.gradle",
          "type": "blob",
          "size": 3.791015625,
          "content": "ext {\n    //android开发版本配置\n    android = [\n            compileSdkVersion: 28,\n            buildToolsVersion: \"28.0.0\",\n            applicationId    : \"com.goldze.mvvmhabit\",\n            minSdkVersion    : 15,\n            targetSdkVersion : 28,\n            versionCode      : 1,\n            versionName      : \"1.0\",\n    ]\n    //version配置\n    versions = [\n            \"support-version\": \"1.0.0\",\n            \"junit-version\"  : \"4.12\",\n    ]\n    //support配置\n    support = [\n            'support-v4'              : \"androidx.legacy:legacy-support-v4:${versions[\"support-version\"]}\",\n            'appcompat-v7'            : \"androidx.appcompat:appcompat:${versions[\"support-version\"]}\",\n            'recyclerview-v7'         : \"androidx.recyclerview:recyclerview:${versions[\"support-version\"]}\",\n            'support-v13'             : \"androidx.legacy:legacy-support-v13:${versions[\"support-version\"]}\",\n            'support-fragment'        : \"androidx.fragment:fragment:${versions[\"support-version\"]}\",\n            'design'                  : \"com.google.android.material:material:${versions[\"support-version\"]}\",\n            'animated-vector-drawable': \"androidx.vectordrawable:vectordrawable-animated:${versions[\"support-version\"]}\",\n            'junit'                   : \"junit:junit:${versions[\"junit-version\"]}\",\n    ]\n    //依赖第三方配置\n    dependencies = [\n            //rxjava\n            \"rxjava\"                               : \"io.reactivex.rxjava2:rxjava:2.2.3\",\n            \"rxandroid\"                            : \"io.reactivex.rxjava2:rxandroid:2.1.0\",\n            //rx系列与View生命周期同步\n            \"rxlifecycle\"                          : \"com.trello.rxlifecycle2:rxlifecycle:2.2.2\",\n            \"rxlifecycle-components\"               : \"com.trello.rxlifecycle2:rxlifecycle-components:2.2.2\",\n            //rxbinding\n            \"rxbinding\"                            : \"com.jakewharton.rxbinding2:rxbinding:2.1.1\",\n            //rx 6.0权限请求\n            \"rxpermissions\"                        : \"com.github.tbruyelle:rxpermissions:0.10.2\",\n            //network\n            \"okhttp\"                               : \"com.squareup.okhttp3:okhttp:3.10.0\",\n            \"retrofit\"                             : \"com.squareup.retrofit2:retrofit:2.4.0\",\n            \"converter-gson\"                       : \"com.squareup.retrofit2:converter-gson:2.4.0\",\n            \"adapter-rxjava\"                       : \"com.squareup.retrofit2:adapter-rxjava2:2.4.0\",\n            //glide图片加载\n            \"glide\"                                : \"com.github.bumptech.glide:glide:4.11.0\",\n            \"glide-compiler\"                       : \"com.github.bumptech.glide:compiler:4.11.0\",\n            //json解析\n            \"gson\"                                 : \"com.google.code.gson:gson:2.8.6\",\n            //material-dialogs\n            \"material-dialogs-core\"                : \"com.afollestad.material-dialogs:core:0.9.6.0\",\n            \"material-dialogs-commons\"             : \"com.afollestad.material-dialogs:commons:0.9.6.0\",\n            //recyclerview的databinding套装\n            \"bindingcollectionadapter\"             : \"me.tatarka.bindingcollectionadapter2:bindingcollectionadapter:4.0.0\",\n            \"bindingcollectionadapter-recyclerview\": \"me.tatarka.bindingcollectionadapter2:bindingcollectionadapter-recyclerview:4.0.0\",\n            \"bindingcollectionadapter-viewpager2\"  : \"me.tatarka.bindingcollectionadapter2:bindingcollectionadapter-viewpager2:4.0.0\",\n            //Google AAC\n            \"lifecycle-extensions\"                 : \"androidx.lifecycle:lifecycle-extensions:2.0.0\",\n            \"lifecycle-compiler\"                   : \"androidx.lifecycle:lifecycle-compiler:2.0.0\",\n            //MVVMHabit\n            \"MVVMHabit\"                            : \"com.github.goldze:MVVMHabit:4.0.0\",\n    ]\n}\n\n\n"
        },
        {
          "name": "gradle.properties",
          "type": "blob",
          "size": 0.7998046875,
          "content": "# Project-wide Gradle settings.\n\n# IDE (e.g. Android Studio) users:\n# Gradle settings configured through the IDE *will override*\n# any settings specified in this file.\n\n# For more details on how to configure your build environment visit\n# http://www.gradle.org/docs/current/userguide/build_environment.html\n\n# Specifies the JVM arguments used for the daemon process.\n# The setting is particularly useful for tweaking memory settings.\norg.gradle.jvmargs=-Xmx1536m\n\n# When configured, Gradle will run in incubating parallel mode.\n# This option should only be used with decoupled projects. More details, visit\n# http://www.gradle.org/docs/current/userguide/multi_project_builds.html#sec:decoupled_projects\n# org.gradle.parallel=true\n# android.databinding.enableV2=true\n\nandroid.useAndroidX=true\nandroid.enableJetifier=true"
        },
        {
          "name": "gradle",
          "type": "tree",
          "content": null
        },
        {
          "name": "gradlew",
          "type": "blob",
          "size": 4.8544921875,
          "content": "#!/usr/bin/env bash\n\n##############################################################################\n##\n##  Gradle start up script for UN*X\n##\n##############################################################################\n\n# Add default JVM options here. You can also use JAVA_OPTS and GRADLE_OPTS to pass JVM options to this script.\nDEFAULT_JVM_OPTS=\"\"\n\nAPP_NAME=\"Gradle\"\nAPP_BASE_NAME=`basename \"$0\"`\n\n# Use the maximum available, or set MAX_FD != -1 to use that value.\nMAX_FD=\"maximum\"\n\nwarn ( ) {\n    echo \"$*\"\n}\n\ndie ( ) {\n    echo\n    echo \"$*\"\n    echo\n    exit 1\n}\n\n# OS specific support (must be 'true' or 'false').\ncygwin=false\nmsys=false\ndarwin=false\ncase \"`uname`\" in\n  CYGWIN* )\n    cygwin=true\n    ;;\n  Darwin* )\n    darwin=true\n    ;;\n  MINGW* )\n    msys=true\n    ;;\nesac\n\n# Attempt to set APP_HOME\n# Resolve links: $0 may be a link\nPRG=\"$0\"\n# Need this for relative symlinks.\nwhile [ -h \"$PRG\" ] ; do\n    ls=`ls -ld \"$PRG\"`\n    link=`expr \"$ls\" : '.*-> \\(.*\\)$'`\n    if expr \"$link\" : '/.*' > /dev/null; then\n        PRG=\"$link\"\n    else\n        PRG=`dirname \"$PRG\"`\"/$link\"\n    fi\ndone\nSAVED=\"`pwd`\"\ncd \"`dirname \\\"$PRG\\\"`/\" >/dev/null\nAPP_HOME=\"`pwd -P`\"\ncd \"$SAVED\" >/dev/null\n\nCLASSPATH=$APP_HOME/gradle/wrapper/gradle-wrapper.jar\n\n# Determine the Java command to use to start the JVM.\nif [ -n \"$JAVA_HOME\" ] ; then\n    if [ -x \"$JAVA_HOME/jre/sh/java\" ] ; then\n        # IBM's JDK on AIX uses strange locations for the executables\n        JAVACMD=\"$JAVA_HOME/jre/sh/java\"\n    else\n        JAVACMD=\"$JAVA_HOME/bin/java\"\n    fi\n    if [ ! -x \"$JAVACMD\" ] ; then\n        die \"ERROR: JAVA_HOME is set to an invalid directory: $JAVA_HOME\n\nPlease set the JAVA_HOME variable in your environment to match the\nlocation of your Java installation.\"\n    fi\nelse\n    JAVACMD=\"java\"\n    which java >/dev/null 2>&1 || die \"ERROR: JAVA_HOME is not set and no 'java' command could be found in your PATH.\n\nPlease set the JAVA_HOME variable in your environment to match the\nlocation of your Java installation.\"\nfi\n\n# Increase the maximum file descriptors if we can.\nif [ \"$cygwin\" = \"false\" -a \"$darwin\" = \"false\" ] ; then\n    MAX_FD_LIMIT=`ulimit -H -n`\n    if [ $? -eq 0 ] ; then\n        if [ \"$MAX_FD\" = \"maximum\" -o \"$MAX_FD\" = \"max\" ] ; then\n            MAX_FD=\"$MAX_FD_LIMIT\"\n        fi\n        ulimit -n $MAX_FD\n        if [ $? -ne 0 ] ; then\n            warn \"Could not set maximum file descriptor limit: $MAX_FD\"\n        fi\n    else\n        warn \"Could not query maximum file descriptor limit: $MAX_FD_LIMIT\"\n    fi\nfi\n\n# For Darwin, add options to specify how the application appears in the dock\nif $darwin; then\n    GRADLE_OPTS=\"$GRADLE_OPTS \\\"-Xdock:name=$APP_NAME\\\" \\\"-Xdock:icon=$APP_HOME/media/gradle.icns\\\"\"\nfi\n\n# For Cygwin, switch paths to Windows format before running java\nif $cygwin ; then\n    APP_HOME=`cygpath --path --mixed \"$APP_HOME\"`\n    CLASSPATH=`cygpath --path --mixed \"$CLASSPATH\"`\n    JAVACMD=`cygpath --unix \"$JAVACMD\"`\n\n    # We build the pattern for arguments to be converted via cygpath\n    ROOTDIRSRAW=`find -L / -maxdepth 1 -mindepth 1 -type d 2>/dev/null`\n    SEP=\"\"\n    for dir in $ROOTDIRSRAW ; do\n        ROOTDIRS=\"$ROOTDIRS$SEP$dir\"\n        SEP=\"|\"\n    done\n    OURCYGPATTERN=\"(^($ROOTDIRS))\"\n    # Add a user-defined pattern to the cygpath arguments\n    if [ \"$GRADLE_CYGPATTERN\" != \"\" ] ; then\n        OURCYGPATTERN=\"$OURCYGPATTERN|($GRADLE_CYGPATTERN)\"\n    fi\n    # Now convert the arguments - kludge to limit ourselves to /bin/sh\n    i=0\n    for arg in \"$@\" ; do\n        CHECK=`echo \"$arg\"|egrep -c \"$OURCYGPATTERN\" -`\n        CHECK2=`echo \"$arg\"|egrep -c \"^-\"`                                 ### Determine if an option\n\n        if [ $CHECK -ne 0 ] && [ $CHECK2 -eq 0 ] ; then                    ### Added a condition\n            eval `echo args$i`=`cygpath --path --ignore --mixed \"$arg\"`\n        else\n            eval `echo args$i`=\"\\\"$arg\\\"\"\n        fi\n        i=$((i+1))\n    done\n    case $i in\n        (0) set -- ;;\n        (1) set -- \"$args0\" ;;\n        (2) set -- \"$args0\" \"$args1\" ;;\n        (3) set -- \"$args0\" \"$args1\" \"$args2\" ;;\n        (4) set -- \"$args0\" \"$args1\" \"$args2\" \"$args3\" ;;\n        (5) set -- \"$args0\" \"$args1\" \"$args2\" \"$args3\" \"$args4\" ;;\n        (6) set -- \"$args0\" \"$args1\" \"$args2\" \"$args3\" \"$args4\" \"$args5\" ;;\n        (7) set -- \"$args0\" \"$args1\" \"$args2\" \"$args3\" \"$args4\" \"$args5\" \"$args6\" ;;\n        (8) set -- \"$args0\" \"$args1\" \"$args2\" \"$args3\" \"$args4\" \"$args5\" \"$args6\" \"$args7\" ;;\n        (9) set -- \"$args0\" \"$args1\" \"$args2\" \"$args3\" \"$args4\" \"$args5\" \"$args6\" \"$args7\" \"$args8\" ;;\n    esac\nfi\n\n# Split up the JVM_OPTS And GRADLE_OPTS values into an array, following the shell quoting and substitution rules\nfunction splitJvmOpts() {\n    JVM_OPTS=(\"$@\")\n}\neval splitJvmOpts $DEFAULT_JVM_OPTS $JAVA_OPTS $GRADLE_OPTS\nJVM_OPTS[${#JVM_OPTS[*]}]=\"-Dorg.gradle.appname=$APP_BASE_NAME\"\n\nexec \"$JAVACMD\" \"${JVM_OPTS[@]}\" -classpath \"$CLASSPATH\" org.gradle.wrapper.GradleWrapperMain \"$@\"\n"
        },
        {
          "name": "gradlew.bat",
          "type": "blob",
          "size": 2.259765625,
          "content": "@if \"%DEBUG%\" == \"\" @echo off\n@rem ##########################################################################\n@rem\n@rem  Gradle startup script for Windows\n@rem\n@rem ##########################################################################\n\n@rem Set local scope for the variables with windows NT shell\nif \"%OS%\"==\"Windows_NT\" setlocal\n\n@rem Add default JVM options here. You can also use JAVA_OPTS and GRADLE_OPTS to pass JVM options to this script.\nset DEFAULT_JVM_OPTS=\n\nset DIRNAME=%~dp0\nif \"%DIRNAME%\" == \"\" set DIRNAME=.\nset APP_BASE_NAME=%~n0\nset APP_HOME=%DIRNAME%\n\n@rem Find java.exe\nif defined JAVA_HOME goto findJavaFromJavaHome\n\nset JAVA_EXE=java.exe\n%JAVA_EXE% -version >NUL 2>&1\nif \"%ERRORLEVEL%\" == \"0\" goto init\n\necho.\necho ERROR: JAVA_HOME is not set and no 'java' command could be found in your PATH.\necho.\necho Please set the JAVA_HOME variable in your environment to match the\necho location of your Java installation.\n\ngoto fail\n\n:findJavaFromJavaHome\nset JAVA_HOME=%JAVA_HOME:\"=%\nset JAVA_EXE=%JAVA_HOME%/bin/java.exe\n\nif exist \"%JAVA_EXE%\" goto init\n\necho.\necho ERROR: JAVA_HOME is set to an invalid directory: %JAVA_HOME%\necho.\necho Please set the JAVA_HOME variable in your environment to match the\necho location of your Java installation.\n\ngoto fail\n\n:init\n@rem Get command-line arguments, handling Windowz variants\n\nif not \"%OS%\" == \"Windows_NT\" goto win9xME_args\nif \"%@eval[2+2]\" == \"4\" goto 4NT_args\n\n:win9xME_args\n@rem Slurp the command line arguments.\nset CMD_LINE_ARGS=\nset _SKIP=2\n\n:win9xME_args_slurp\nif \"x%~1\" == \"x\" goto execute\n\nset CMD_LINE_ARGS=%*\ngoto execute\n\n:4NT_args\n@rem Get arguments from the 4NT Shell from JP Software\nset CMD_LINE_ARGS=%$\n\n:execute\n@rem Setup the command line\n\nset CLASSPATH=%APP_HOME%\\gradle\\wrapper\\gradle-wrapper.jar\n\n@rem Execute Gradle\n\"%JAVA_EXE%\" %DEFAULT_JVM_OPTS% %JAVA_OPTS% %GRADLE_OPTS% \"-Dorg.gradle.appname=%APP_BASE_NAME%\" -classpath \"%CLASSPATH%\" org.gradle.wrapper.GradleWrapperMain %CMD_LINE_ARGS%\n\n:end\n@rem End local scope for the variables with windows NT shell\nif \"%ERRORLEVEL%\"==\"0\" goto mainEnd\n\n:fail\nrem Set variable GRADLE_EXIT_CONSOLE if you need the _script_ return code instead of\nrem the _cmd.exe /c_ return code!\nif  not \"\" == \"%GRADLE_EXIT_CONSOLE%\" exit 1\nexit /b 1\n\n:mainEnd\nif \"%OS%\"==\"Windows_NT\" endlocal\n\n:omega\n"
        },
        {
          "name": "img",
          "type": "tree",
          "content": null
        },
        {
          "name": "mvvmhabit",
          "type": "tree",
          "content": null
        },
        {
          "name": "settings.gradle",
          "type": "blob",
          "size": 0.0283203125,
          "content": "include ':app', ':mvvmhabit'\n"
        }
      ]
    }
  ]
}