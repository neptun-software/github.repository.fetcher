{
  "metadata": {
    "timestamp": 1736708693794,
    "page": 117,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjEyMA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "Qihoo360/RePlugin",
      "stars": 7291,
      "defaultBranch": "dev",
      "files": [
        {
          "name": ".github",
          "type": "tree",
          "content": null
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 3.5390625,
          "content": "# --------\n# Git Global Ignores\n# Power By github/gitignore (License: CC0 1.0)\n# Collect by RePlugin Team\n# --------\n\n\n# --------\n# Android\n# https://github.com/github/gitignore/blob/master/Android.gitignore\n# Date: 17 Feb 2017\n# --------\n\n# Built application files\n*.apk\n*.ap_\n\n# Files for the ART/Dalvik VM\n*.dex\n\n# Java class files\n*.class\n\n# Generated files\nbin/\ngen/\nout/\n\n# Gradle files\n.gradle/\nbuild/\n\n# Local configuration file (sdk path, etc)\nlocal.properties\n\n# Proguard folder generated by Eclipse\nproguard/\n\n# Log Files\n*.log\n\n# Android Studio Navigation editor temp files\n.navigation/\n\n# Android Studio captures folder\ncaptures/\n\n# Intellij\n*.iml\n.idea\n\n# Keystore files\n*.jks\n\n# External native build folder generated in Android Studio 2.2 and later\n.externalNativeBuild\n\n# Google Services (e.g. APIs or Firebase)\ngoogle-services.json\n\n# Freeline\nfreeline.py\nfreeline/\nfreeline_project_description.json\n\n\n# --------\n# Gradle\n# https://raw.githubusercontent.com/github/gitignore/master/Gradle.gitignore\n# Date: 25 Jun 2016\n# --------\n\n.gradle\n/build/\n\n# Ignore Gradle GUI config\ngradle-app.setting\n\n# Avoid ignoring Gradle wrapper jar file (.jar files are usually ignored)\n!gradle-wrapper.jar\n\n# Cache of project\n.gradletasknamecache\n\n# # Work around https://youtrack.jetbrains.com/issue/IDEA-116898\n# gradle/wrapper/gradle-wrapper.properties\n\n\n# --------\n# Eclipse\n# https://github.com/github/gitignore/blob/master/Global/Eclipse.gitignore\n# Date: 28 Mar 2017\n# --------\n\n.metadata\nbin/\ntmp/\n*.tmp\n*.bak\n*.swp\n*~.nib\nlocal.properties\n.settings/\n.loadpath\n.recommenders\n\n# External tool builders\n.externalToolBuilders/\n\n# Locally stored \"Eclipse launch configurations\"\n*.launch\n\n# PyDev specific (Python IDE for Eclipse)\n*.pydevproject\n\n# CDT-specific (C/C++ Development Tooling)\n.cproject\n\n# Java annotation processor (APT)\n.factorypath\n\n# PDT-specific (PHP Development Tools)\n.buildpath\n\n# sbteclipse plugin\n.target\n\n# Tern plugin\n.tern-project\n\n# TeXlipse plugin\n.texlipse\n\n# STS (Spring Tool Suite)\n.springBeans\n\n# Code Recommenders\n.recommenders/\n\n# Scala IDE specific (Scala & Java development for Eclipse)\n.cache-main\n.scala_dependencies\n.worksheet\n\n# --------\n# Windows\n# https://github.com/github/gitignore/blob/master/Global/Windows.gitignore\n# Date: 10 May 2017\n# --------\n\n# Windows thumbnail cache files\nThumbs.db\nehthumbs.db\nehthumbs_vista.db\n\n# Dump file\n*.stackdump\n\n# Folder config file\nDesktop.ini\n\n# Recycle Bin used on file shares\n$RECYCLE.BIN/\n\n# Windows Installer files\n*.cab\n*.msi\n*.msm\n*.msp\n\n# Windows shortcuts\n*.lnk\n\n# --------\n# Linux\n# https://github.com/github/gitignore/blob/master/Global/Linux.gitignore\n# --------\n\n*~\n\n# temporary files which can be created if a process still has a handle open of a deleted file\n.fuse_hidden*\n\n# KDE directory preferences\n.directory\n\n# Linux trash folder which might appear on any partition or disk\n.Trash-*\n\n# .nfs files are created when an open file is removed but is still being accessed\n.nfs*\n\n# --------\n# Mac OS\n# https://github.com/github/gitignore/blob/master/Global/macOS.gitignore\n# Date: 01 Apr 2017\n# --------\n# General\n*.DS_Store\n.AppleDouble\n.LSOverride\n\n# Icon must end with two \\r\nIcon\n\n\n# Thumbnails\n._*\n\n# Files that might appear in the root of a volume\n.DocumentRevisions-V100\n.fseventsd\n.Spotlight-V100\n.TemporaryItems\n.Trashes\n.VolumeIcon.icns\n.com.apple.timemachine.donotpresent\n\n# Directories potentially created on remote AFP share\n.AppleDB\n.AppleDesktop\nNetwork Trash Folder\nTemporary Items\n.apdisk\n\n# --------\n# Tortoise Git\n# Author: RePlugin Team\n# Date: 20 Dec 2016\n# --------\n# Project-level settings\n/.tgitconfig"
        },
        {
          "name": "CONTRIBUTING.md",
          "type": "blob",
          "size": 2.7509765625,
          "content": "欢迎关注和使用RePlugin。为了让解决问题、贡献代码的效率更高，请务必按照下面流程来做。\n\n## 有关Issue\n\n如果遇到接入上的问题，请随时提出**【有效的】**Issue。\n\n#### 如果是问题反馈\n\n> 出于效率考虑，请**务必按照 Issue模板 所列来完整的填写反馈**（我们已自动帮您建立模板，您在写新Issue时会有，您也可以[点击此处查看模板内容](https://github.com/Qihoo360/RePlugin/blob/dev/.github/ISSUE_TEMPLATE.md)）\n> \n> 注意：**未按照模板填写，且不能帮助我们定位问题的，我们将其标记为“Invalid”，并直接关闭，不会进一步问询。直到按照完整模板填写后，再行Reopen**。\n> \n> 此外，我们都希望提出的问题是**“高质量的”**。因此，请[点击此处阅读《提出Issue》](https://github.com/Qihoo360/RePlugin/wiki/%E6%8F%90%E5%87%BAIssue)一文，来详细了解提交Issue的最佳实践，帮助更快的解决您遇到的问题。\n\n#### 如果是意见和建议\n\n我们的Issue模板只针对“问题反馈”而设计。而若您在RePlugin中有一些新的想法想讨论的话，可“无需按照Issue模板”来提，但请留意：\n\n1. 请尽量将您的建议、提出建议的原因等描述清楚。不要只写个标题（除非这个标题让人一看就全懂）\n2. 如果可能，请尽可能发动所有牛人的力量，共同参与讨论，并由社区（尤其是您自己）提出Pull Request，帮助所有人解决问题\n3. 我们（以及社区大牛）会对您提的建议做评估，并将其贴上标签并待完成。有些建议虽然很好，但由于时间和精力关系，可能不会很快实现，对此我们不能、也不会承诺最终时间。\n\n如果提出的Issue是“模棱两可”、无法看懂的，在一次回复没有答复后，我们可能将其标记为Invalid，并直接关闭。还请理解。\n\n## 有关 Pull Request\n\n当然，和Issue相比，我们非常欢迎您研究RePlugin的源码，发现相应的问题和改善方案，并提交自己的Pull Request。**高质量的PR将有助于打造自己的技术品牌，好处很多**。\n\n在提出Pull Request之前，**建议请先提下Issue，这样可以在编写代码前，和大家做较为充分的讨论**，以免在后期出现“大量修改”的情况。\n\n> 有关如何完成一个“高质量”的Pull Request，请[点击此处阅读《贡献力量》](https://github.com/Qihoo360/RePlugin/wiki/%E8%B4%A1%E7%8C%AE%E5%8A%9B%E9%87%8F)一文了解更多。\n\n> 如果想知道哪些“牛人”为RePlugin做出了杰出贡献，请[点击此处阅读《金牌贡献者》](https://github.com/Qihoo360/RePlugin/wiki/%E9%87%91%E7%89%8C%E8%B4%A1%E7%8C%AE%E8%80%85)，看看哪些您熟知的人也在其中。\n"
        },
        {
          "name": "LICENSE",
          "type": "blob",
          "size": 11.0859375,
          "content": "                                 Apache License\n                           Version 2.0, January 2004\n                        http://www.apache.org/licenses/\n\n   TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION\n\n   1. Definitions.\n\n      \"License\" shall mean the terms and conditions for use, reproduction,\n      and distribution as defined by Sections 1 through 9 of this document.\n\n      \"Licensor\" shall mean the copyright owner or entity authorized by\n      the copyright owner that is granting the License.\n\n      \"Legal Entity\" shall mean the union of the acting entity and all\n      other entities that control, are controlled by, or are under common\n      control with that entity. For the purposes of this definition,\n      \"control\" means (i) the power, direct or indirect, to cause the\n      direction or management of such entity, whether by contract or\n      otherwise, or (ii) ownership of fifty percent (50%) or more of the\n      outstanding shares, or (iii) beneficial ownership of such entity.\n\n      \"You\" (or \"Your\") shall mean an individual or Legal Entity\n      exercising permissions granted by this License.\n\n      \"Source\" form shall mean the preferred form for making modifications,\n      including but not limited to software source code, documentation\n      source, and configuration files.\n\n      \"Object\" form shall mean any form resulting from mechanical\n      transformation or translation of a Source form, including but\n      not limited to compiled object code, generated documentation,\n      and conversions to other media types.\n\n      \"Work\" shall mean the work of authorship, whether in Source or\n      Object form, made available under the License, as indicated by a\n      copyright notice that is included in or attached to the work\n      (an example is provided in the Appendix below).\n\n      \"Derivative Works\" shall mean any work, whether in Source or Object\n      form, that is based on (or derived from) the Work and for which the\n      editorial revisions, annotations, elaborations, or other modifications\n      represent, as a whole, an original work of authorship. For the purposes\n      of this License, Derivative Works shall not include works that remain\n      separable from, or merely link (or bind by name) to the interfaces of,\n      the Work and Derivative Works thereof.\n\n      \"Contribution\" shall mean any work of authorship, including\n      the original version of the Work and any modifications or additions\n      to that Work or Derivative Works thereof, that is intentionally\n      submitted to Licensor for inclusion in the Work by the copyright owner\n      or by an individual or Legal Entity authorized to submit on behalf of\n      the copyright owner. For the purposes of this definition, \"submitted\"\n      means any form of electronic, verbal, or written communication sent\n      to the Licensor or its representatives, including but not limited to\n      communication on electronic mailing lists, source code control systems,\n      and issue tracking systems that are managed by, or on behalf of, the\n      Licensor for the purpose of discussing and improving the Work, but\n      excluding communication that is conspicuously marked or otherwise\n      designated in writing by the copyright owner as \"Not a Contribution.\"\n\n      \"Contributor\" shall mean Licensor and any individual or Legal Entity\n      on behalf of whom a Contribution has been received by Licensor and\n      subsequently incorporated within the Work.\n\n   2. Grant of Copyright License. Subject to the terms and conditions of\n      this License, each Contributor hereby grants to You a perpetual,\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n      copyright license to reproduce, prepare Derivative Works of,\n      publicly display, publicly perform, sublicense, and distribute the\n      Work and such Derivative Works in Source or Object form.\n\n   3. Grant of Patent License. Subject to the terms and conditions of\n      this License, each Contributor hereby grants to You a perpetual,\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n      (except as stated in this section) patent license to make, have made,\n      use, offer to sell, sell, import, and otherwise transfer the Work,\n      where such license applies only to those patent claims licensable\n      by such Contributor that are necessarily infringed by their\n      Contribution(s) alone or by combination of their Contribution(s)\n      with the Work to which such Contribution(s) was submitted. If You\n      institute patent litigation against any entity (including a\n      cross-claim or counterclaim in a lawsuit) alleging that the Work\n      or a Contribution incorporated within the Work constitutes direct\n      or contributory patent infringement, then any patent licenses\n      granted to You under this License for that Work shall terminate\n      as of the date such litigation is filed.\n\n   4. Redistribution. You may reproduce and distribute copies of the\n      Work or Derivative Works thereof in any medium, with or without\n      modifications, and in Source or Object form, provided that You\n      meet the following conditions:\n\n      (a) You must give any other recipients of the Work or\n          Derivative Works a copy of this License; and\n\n      (b) You must cause any modified files to carry prominent notices\n          stating that You changed the files; and\n\n      (c) You must retain, in the Source form of any Derivative Works\n          that You distribute, all copyright, patent, trademark, and\n          attribution notices from the Source form of the Work,\n          excluding those notices that do not pertain to any part of\n          the Derivative Works; and\n\n      (d) If the Work includes a \"NOTICE\" text file as part of its\n          distribution, then any Derivative Works that You distribute must\n          include a readable copy of the attribution notices contained\n          within such NOTICE file, excluding those notices that do not\n          pertain to any part of the Derivative Works, in at least one\n          of the following places: within a NOTICE text file distributed\n          as part of the Derivative Works; within the Source form or\n          documentation, if provided along with the Derivative Works; or,\n          within a display generated by the Derivative Works, if and\n          wherever such third-party notices normally appear. The contents\n          of the NOTICE file are for informational purposes only and\n          do not modify the License. You may add Your own attribution\n          notices within Derivative Works that You distribute, alongside\n          or as an addendum to the NOTICE text from the Work, provided\n          that such additional attribution notices cannot be construed\n          as modifying the License.\n\n      You may add Your own copyright statement to Your modifications and\n      may provide additional or different license terms and conditions\n      for use, reproduction, or distribution of Your modifications, or\n      for any such Derivative Works as a whole, provided Your use,\n      reproduction, and distribution of the Work otherwise complies with\n      the conditions stated in this License.\n\n   5. Submission of Contributions. Unless You explicitly state otherwise,\n      any Contribution intentionally submitted for inclusion in the Work\n      by You to the Licensor shall be under the terms and conditions of\n      this License, without any additional terms or conditions.\n      Notwithstanding the above, nothing herein shall supersede or modify\n      the terms of any separate license agreement you may have executed\n      with Licensor regarding such Contributions.\n\n   6. Trademarks. This License does not grant permission to use the trade\n      names, trademarks, service marks, or product names of the Licensor,\n      except as required for reasonable and customary use in describing the\n      origin of the Work and reproducing the content of the NOTICE file.\n\n   7. Disclaimer of Warranty. Unless required by applicable law or\n      agreed to in writing, Licensor provides the Work (and each\n      Contributor provides its Contributions) on an \"AS IS\" BASIS,\n      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or\n      implied, including, without limitation, any warranties or conditions\n      of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A\n      PARTICULAR PURPOSE. You are solely responsible for determining the\n      appropriateness of using or redistributing the Work and assume any\n      risks associated with Your exercise of permissions under this License.\n\n   8. Limitation of Liability. In no event and under no legal theory,\n      whether in tort (including negligence), contract, or otherwise,\n      unless required by applicable law (such as deliberate and grossly\n      negligent acts) or agreed to in writing, shall any Contributor be\n      liable to You for damages, including any direct, indirect, special,\n      incidental, or consequential damages of any character arising as a\n      result of this License or out of the use or inability to use the\n      Work (including but not limited to damages for loss of goodwill,\n      work stoppage, computer failure or malfunction, or any and all\n      other commercial damages or losses), even if such Contributor\n      has been advised of the possibility of such damages.\n\n   9. Accepting Warranty or Additional Liability. While redistributing\n      the Work or Derivative Works thereof, You may choose to offer,\n      and charge a fee for, acceptance of support, warranty, indemnity,\n      or other liability obligations and/or rights consistent with this\n      License. However, in accepting such obligations, You may act only\n      on Your own behalf and on Your sole responsibility, not on behalf\n      of any other Contributor, and only if You agree to indemnify,\n      defend, and hold each Contributor harmless for any liability\n      incurred by, or claims asserted against, such Contributor by reason\n      of your accepting any such warranty or additional liability.\n\n   END OF TERMS AND CONDITIONS\n\n   APPENDIX: How to apply the Apache License to your work.\n\n      To apply the Apache License to your work, attach the following\n      boilerplate notice, with the fields enclosed by brackets \"{}\"\n      replaced with your own identifying information. (Don't include\n      the brackets!)  The text should be enclosed in the appropriate\n      comment syntax for the file format. We also recommend that a\n      file or class name and description of purpose be included on the\n      same \"printed page\" as the copyright notice for easier\n      identification within third-party archives.\n\n   Copyright (C) 2005-2017 Qihoo 360 Inc.\n\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License."
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 9.6435546875,
          "content": "<p align=\"center\">\n  <a href=\"https://github.com/Qihoo360/RePlugin/wiki\">\n    <img alt=\"RePlugin Logo\" src=\"https://github.com/Qihoo360/RePlugin/wiki/img/RePlugin.png\" width=\"400\"/>\n  </a>\n</p>\n\n[![license](http://img.shields.io/badge/license-Apache2.0-brightgreen.svg?style=flat)](https://github.com/Qihoo360/RePlugin/blob/master/LICENSE)\n\n[![Release Version](https://img.shields.io/badge/release-2.3.3-brightgreen.svg)](https://github.com/Qihoo360/RePlugin/releases)\n\n## ！！！重要通知！！！\n\n由于jcenter停服原因，RePlugin将迁移到http://maven.geelib.360.cn/nexus上\n\n如果需要继续接入RePlugin，需要在项目的build.gradle内增加新的仓库地址:\n\nmaven {url \"http://maven.geelib.360.cn/nexus/repository/replugin/\"}\n\n\n## 通知\n\n\n**360开源又一力作——[ArgusAPM移动性能监控平台](https://github.com/Qihoo360/ArgusAPM)**\n\n[ArgusAPM](https://github.com/Qihoo360/ArgusAPM)是360手机卫士客户端团队继RePlugin之后开源的又一个重量级开源项目。ArgusAPM是360移动端产品使用的可视化性能监控平台，为移动端APP提供性能监控与管理，可以迅速发现和定位各类APP性能和使用问题，帮助APP不断的提升用户体验。\n\n\n**360移动技术最新活动通知：**\n\n2018年12月16日，360移动性能开放日邀您参加，届时将会有360、美团技术大牛为大家分享Android、iOS性能监控实践。\n欢迎报名参加，戳戳戳!!!-->https://mp.weixin.qq.com/s/-7DCnXI_EBMBwYG_PUuUDg\n\n## RePlugin —— A flexible, stable, easy-to-use Android Plug-in Framework\n\nRePlugin is a complete Android plug-in solution which is suitable for general use.\n\n（[文档，还是中文的好](./README_CN.md)）\n\nIt is major strengths are:\n* **Extreme flexibility**: Apps do not need to be upgraded to support new components, **even brand new plug-ins**.\n* **Extraordinary stability**: With only **ONE** hook (ClassLoader), **NO BINDER HOOK**. RePlugin’s Crash ratio is **as low as Ten thousandth (0.01%)**. In addition, RePlugin is compatible with almost **ALL Android ROMs** in the market.\n* **Rich features**: RePlugin supports **almost all features seamlessly as an installed application**, including static Receiver, Task-Affinity, user-defined Theme, AppCompat, DataBinding, etc.\n* **Easy integration**: It takes only couple lines to access, whether plug-ins or main programs. \n* **Mature management**:　RePlugin owns stable plug-in management solution which supports installation, upgrade, uninstallation and version management. Process communication, protocol versions and security check are also included. \n* **Hundreds of millions support**: RePlugin possesses **hundreds of millions users from 360 MobileSafe.** After more than three-year verification, we guarantee the solution that Apps use is the most stable and suitable.\n\nBy the end of June 2017, RePlugin has already made some achievements:\n\n| Feature | Achievement |\n|:-------------:|:-------------:|\n| **Plug-in Number** | **103** |\n| **Ratio of plug-ins to applications** | **83%** |\n| **Version released pre year** | **596** |\n| **Crash** | **0.01%, Extraordinary stability** |\n| **First Release** | **2014** |\n\nAt present, almost **all Apps with hundreds of millions users from 360, and many mainstream third-party Apps, are using RePlugin solution**. \n\n### We support:\n\n| Feature | Description |\n|:-------------:|:-------------:|\n| Components | **Activity, Service, Provider, Receiver(Including static)** |\n| Not need to upgrade when brand a new Plug-in | **Supported** |\n| Android Feature | **Supported almost all features** |\n| TaskAffinity & Multi-Process | **Perfect supported!** |\n| Support Plug-in Type | **Built-in (Only Two Step) and External(Download)** |\n| Plug-in Coupling | **Binder, Class Loader, Resources, etc.** |\n| Interprocess communication | **Sync, Async, Binder and Cross-plug-in broadcast** |\n| User-Defined Theme & AppComat | **Supported** |\n| DataBinding | **Supported** |\n| Safety check when installed | **Supported** |\n| Resources Solution | **Independent Resources + Context pass(No Adaptation ROM)** |\n| Android Version | **API Level 9 (Android 2.3 and above)** |\n\n## Our Vision\nMake RePlugin be used in all kinds of ordinary Apps; and provide stable, flexible, liberal plug-ins which adopt for both large and small projects.\n\n## Latest features\nSolved the Android P (Android 9.0) related adaptation issues, fully support the official version of Android P (Android 9.0).\n\n## RePlugin Architecture\n\n<p align=\"center\">\n  <a href=\"https://github.com/Qihoo360/RePlugin/wiki\">\n    <img alt=\"RePlugin Framework\" src=\"https://github.com/Qihoo360/RePlugin/wiki/img/RePluginFramePic.jpeg\" height=\"600\" />\n  </a>\n</p>\n\n## How to Use RePlugin\nUsing RePlugin is very simple. Under most conditions, using it is no different than developing an App.\n\nIf you are **the first-time user, please [click here to read Quick Start Guide(Chinese Version)](https://github.com/Qihoo360/RePlugin/wiki/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B).** Following our guide, you will learn more about RePlugin.\n\nIf you wish to **learn more gameplays about RePlugin, please [click here to read Step-by-step Tutorial(Chinese Version)](https://github.com/Qihoo360/RePlugin/wiki/%E8%AF%A6%E7%BB%86%E6%95%99%E7%A8%8B)**.\n\nIf you want to **view RePlugin’s sample project, and learn concrete usage of the frame, please [click here to check Sample SC](https://github.com/Qihoo360/RePlugin/blob/master/replugin-sample)**.\n\nIf you **have any question, please [click here to read FAQ(Chinese Version)](https://github.com/Qihoo360/RePlugin/wiki/FAQ)**.\n\n\n## These apps are using RePlugin\n\n<table align=\"center\">\n    <tr align=\"center\">\n        <td><img src=\"https://github.com/Qihoo360/RePlugin/wiki/img/apps/mobilesafe.png\" width=\"80\" height=\"80\"/></td>\n        <td><img src=\"https://github.com/Qihoo360/RePlugin/wiki/img/apps/appstore.png\" width=\"80\" height=\"80\"/></td>\n        <td><img src=\"https://github.com/Qihoo360/RePlugin/wiki/img/apps/browser.png\" width=\"80\" height=\"80\"/></td>\n        <td><img src=\"https://github.com/Qihoo360/RePlugin/wiki/img/apps/camera.png\" width=\"80\" height=\"80\"/></td>\n        <td><img src=\"https://github.com/Qihoo360/RePlugin/wiki/img/apps/clean.png\" width=\"80\" height=\"80\"/></td>\n    </tr>\n    <tr align=\"center\">\n        <td><b><a href=\"https://shouji.360.cn/index.html\">360 Mobile Safe</a></b></td>\n        <td><b><a href=\"http://sj.360.cn/index.html\">360 App Store</a></b></td>\n        <td><b><a href=\"http://mse.360.cn/m/index.html\">360 Mobile Browser</a></b></td>\n        <td><b><a href=\"http://xj.huajiao.com/xji/home/pc\">HuaJiao Camera</a></b></td>\n        <td><b><a href=\"https://shouji.360.cn/360cleandroid/index.html\">360 Clean Master</a></b></td>\n    </tr>\n    <tr align=\"center\">\n        <td><img src=\"https://github.com/Qihoo360/RePlugin/wiki/img/apps/movie.png\" width=\"80\" height=\"80\"/></td>\n        <td><img src=\"https://github.com/Qihoo360/RePlugin/wiki/img/apps/jieqianba.png\" width=\"80\" height=\"80\"/></td>\n        <td><img src=\"https://github.com/Qihoo360/RePlugin/wiki/img/apps/haitao1hao.png\" width=\"80\" height=\"80\"/></td>\n        <td><img src=\"https://github.com/Qihoo360/RePlugin/wiki/img/apps/huaruntong.png\" width=\"80\" height=\"80\"/></td>\n        <td><img src=\"https://github.com/Qihoo360/RePlugin/wiki/img/apps/jielema.png\" width=\"80\" height=\"80\"/></td>\n    </tr>\n    <tr align=\"center\">\n        <td><b><a href=\"http://www.360kan.com/appdownload\">360 Kan Movie</a></b></td>\n        <td><b><a href=\"\">JieQianBa</a></b></td>\n        <td><b><a href=\"http://www.1haitao.com/\">1 HaiTao</a></b></td>\n        <td><b><a href=\"http://www.huaruntong.com/\">HuaRun Tong</a></b></td>\n        <td><b><a href=\"http://www.jielem.com/\">JieLeMa</a></b></td>\n    </tr>\n    <tr align=\"center\">\n        <td><img src=\"https://raw.githubusercontent.com/wiki/Qihoo360/RePlugin/img/apps/qihoo_os.jpg\" width=\"80\" height=\"80\"/></td>\n        <td><img src=\"https://raw.githubusercontent.com/wiki/Qihoo360/RePlugin/img/apps/qihoo_jietiao.jpg\" width=\"80\" height=\"80\"/></td>\n        <td><img src=\"https://github.com/Qihoo360/RePlugin/wiki/img/apps/yourapps.png\" width=\"80\" height=\"80\"/></td>\n        <td><img src=\"https://github.com/Qihoo360/RePlugin/wiki/img/apps/yourapps.png\" width=\"80\" height=\"80\"/></td>\n        <td><img src=\"https://github.com/Qihoo360/RePlugin/wiki/img/apps/yourapps.png\" width=\"80\" height=\"80\"/></td>\n    </tr>\n    <tr align=\"center\">\n        <td><b><a href=\"http://www.qiku.com/product/360os2/index.html\">360OS App</a></b></td>\n        <td><b><a href=\"https://www.360jie.com.cn/\">360 Loan</a></b></td>\n        <td><b><a href=\"\">(Internal App)</a></b></td>\n        <td><b><a href=\"\">(Internal App)</a></b></td>\n        <td><b><a href=\"\">(Internal App)</a></b></td>\n    </tr>\n</table>\n\n## Plug-ins Accessed in RePlugin\n\nFor your reference, plug-ins accessed can be classified into following categories: \n\n* **Expo plug-ins**: Safe Home Page, physical examination, information flow, etc. \n* **Business plug-ins**: cleaning, disturbance intercept, floating window, etc.\n* **Cooperation plug-ins**: App Lock, free Wi-Fi, security desktop, etc.\n* **Background plug-ins**: Push, service management, Protobuf, etc.\n* **Base plug-ins**: Security WebView, share, location service, etc.\n\nBy the end of June 2017, we already have 102 plug-ins like these. We look forward to you becoming a part of RePlugin family!\n\n## Contribute Your Share\nWe sincerely welcome and appreciate your contribution of any kind. You can submit code, raise suggestions, write documentation, etc. For more information, please [click here to read Contribute Your Share(Chinese Version)](https://github.com/Qihoo360/RePlugin/wiki/%E8%B4%A1%E7%8C%AE%E5%8A%9B%E9%87%8F).\n\n\n## License\n\nRePlugin is [Apache v2.0 licensed](./LICENSE).\n\n(Thanks Xiezihan（谢子晗） for providing the translations.)\n"
        },
        {
          "name": "README_CN.md",
          "type": "blob",
          "size": 12.3115234375,
          "content": "<p align=\"center\">\n  <a href=\"https://github.com/Qihoo360/RePlugin/wiki\">\n    <img alt=\"RePlugin Logo\" src=\"https://github.com/Qihoo360/RePlugin/wiki/img/RePlugin.png\" width=\"400\"/>\n  </a>\n</p>\n\n[![license](http://img.shields.io/badge/license-Apache2.0-brightgreen.svg?style=flat)](https://github.com/Qihoo360/RePlugin/blob/master/LICENSE)\n\n[![Release Version](https://img.shields.io/badge/release-2.3.3-brightgreen.svg)](https://github.com/Qihoo360/RePlugin/releases)\n\n## 通知\n\n**360开源又一力作——[ArgusAPM移动性能监控平台](https://github.com/Qihoo360/ArgusAPM)**\n\n[ArgusAPM](https://github.com/Qihoo360/ArgusAPM)是360手机卫士客户端团队继RePlugin之后开源的又一个重量级开源项目。ArgusAPM是360移动端产品使用的可视化性能监控平台，为移动端APP提供性能监控与管理，可以迅速发现和定位各类APP性能和使用问题，帮助APP不断的提升用户体验。\n\n\n**360移动技术最新活动通知：**\n\n2018年12月16日，360移动性能开放日邀您参加，届时将会有360、美团技术大牛为大家分享Android、iOS性能监控实践。\n欢迎报名参加，戳戳戳!!!-->https://mp.weixin.qq.com/s/-7DCnXI_EBMBwYG_PUuUDg\n\n## RePlugin —— 历经三年多考验，数亿设备使用的，稳定占坑类插件化方案\n\nRePlugin是一套完整的、稳定的、适合全面使用的，占坑类插件化方案，由360手机卫士的RePlugin Team研发，也是业内首个提出”全面插件化“（全面特性、全面兼容、全面使用）的方案。\n\n其主要优势有：\n* **极其灵活**：主程序无需升级（无需在Manifest中预埋组件），即可支持新增的四大组件，甚至全新的插件\n* **非常稳定**：Hook点**仅有一处（ClassLoader），无任何Binder Hook**！如此可做到其**崩溃率仅为“万分之一”，并完美兼容市面上近乎所有的Android ROM**\n* **特性丰富**：支持近乎所有在“单品”开发时的特性。**包括静态Receiver、Task-Affinity坑位、自定义Theme、进程坑位、AppCompat、DataBinding等**\n* **易于集成**：无论插件还是主程序，**只需“数行”就能完成接入**\n* **管理成熟**：拥有成熟稳定的“插件管理方案”，支持插件安装、升级、卸载、版本管理，甚至包括进程通讯、协议版本、安全校验等\n* **数亿支撑**：有360手机卫士庞大的**数亿**用户做支撑，**三年多的残酷验证**，确保App用到的方案是最稳定、最适合使用的\n\n截止2017年6月底，RePlugin的：\n\n| 特性 | 描述 |\n|:-------------:|:-------------:|\n| **插件数** | **103（核心57个）** |\n| **插件占应用比** | **高达83%** |\n| **年发版次数** | **高达596次（工作日均2次）** |\n| **崩溃率** | **万分之一（0.01%），极低** |\n| **时间** | **2014年应用，3年验证** |\n\n目前360公司几乎**所有的亿级用户量的APP**，以及多款主流第三方APP，都采用了RePlugin方案。\n\n有关RePlugin的详细介绍，请[点击这里阅读《RePlugin 官方 WiKi》](https://github.com/Qihoo360/RePlugin/wiki)。\n\n### 我们还支持以下特性\n\n| 特性 | 描述 |\n|:-------------:|:-------------:|\n| 组件 | **四大组件（含静态Receiver）** |\n| 升级无需改主程序Manifest | **完美支持** |\n| Android特性 | **支持近乎所有（包括SO库等）** |\n| TaskAffinity & 多进程 | **支持（*坑位方案*）** |\n| 插件类型 | **支持自带插件（*自识别*）、外置插件** |\n| 插件间耦合 | **支持Binder、Class Loader、资源等** |\n| 进程间通讯 | **支持同步、异步、Binder、广播等** |\n| 自定义Theme & AppComat | **支持** |\n| DataBinding | **支持** |\n| 安全校验 | **支持** |\n| 资源方案 | **独立资源 + Context传递（相对稳定）** |\n| Android 版本 | **API Level 9+ （2.3及以上）** |\n\n## 愿景\n\n让插件化能**飞入寻常应用家**，做到稳定、灵活、自由，大小项目兼用。\n\n## 最新特性\n\n解决了Android P（Android 9.0）相关适配问题，全面支持Android P（Android 9.0）正式版。\n\n## RePlugin 架构图\n\n<p align=\"center\">\n  <a href=\"https://github.com/Qihoo360/RePlugin/wiki\">\n    <img alt=\"RePlugin Framework\" src=\"https://github.com/Qihoo360/RePlugin/wiki/img/RePluginFramePic.jpeg\" height=\"600\" />\n  </a>\n</p>\n\n以360手机卫士为例：\n\n* **系统层——Android**：为Android Framework层。**只有ClassLoader是Hook的**，而AMS、Resources等都没有做Hook，确保了其稳定性。\n* **框架层——RePlugin框架**：RePlugin框架层，**只有RePlugin是对“上层完全公开”的**，其余均为Internal，或“动态编译方案”生效后的调用，对开发者而言是“无需关心”的。\n* **插件层——各插件**：“标蓝部分”是各插件，包括大部分的业务插件（如体检、清理、桌面插件等）。而其中“标黄部分”是支撑一个应用的各种基础插件，如WebView、Download、Share，甚至Protobuf都能成为基础插件。\n\n## 使用方法\n\nRePlugin的使用方法非常简单，大部分情况下和“单品”开发无异。\n\n若您是**第一次接触RePlugin，则[请点击这里阅读《快速上手》](https://github.com/Qihoo360/RePlugin/wiki/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B)**，跟随我们的指引，了解更多的内容。\n\n若您想**了解更多有关RePlugin的玩法，则[请点击这里阅读《详细教程》](https://github.com/Qihoo360/RePlugin/wiki/%E8%AF%A6%E7%BB%86%E6%95%99%E7%A8%8B)**，了解更多好玩的玩法。\n\n若您想**看下RePlugin的Sample工程，进而了解框架的具体用法，则[请点击这里查看Sample源代码](https://github.com/Qihoo360/RePlugin/blob/master/replugin-sample)**。\n\n若您在接入RePlugin中**遇到了任何问题，则[请点击这里阅读《FAQ》](https://github.com/Qihoo360/RePlugin/wiki/FAQ)**，相信会有您想要的答案。\n\n## 插件管理服务—与RePlugin配套的插件管理、下发、统计服务\n\n至今为止有数不清的用户联系我们让做配套的插件管理功能，所以 RePlugin 团队联合 360 Web 平台部，合力推出 RePlugin 插件管理服务，再次大幅降低了用户使用RePlugin的门槛，插件管理服务功能介绍如下：\n\n* **插件版本管理**：对APK插件包名、别名和版本号的交集限制，防止下发出错。\n\n* **打点统计**：上报即显示下发量、下载量、安装量和错误量数据。\n\n* **升版管理**：严格要求用户新建下发任务为面向虚拟用户或部分真实用户的“测试版”下发任务（适用于内测、AB和灰度），测试没问题以后才能切换到面对所有真实用户的“线上版”下发任务，防止出错。\n\n* **下发限速**：开发者可自定义自己想要的插件下发速度。\n\n* **运营商和厂商限制**：开发者可自定义自己想下发的运营商和目标终端厂商。\n\n* **灵活的下发条件设置**：根据用户群体对下发条件的要求程度，我们提供了4种条件设置功能，对下发条件要求不高的用户可直接使用便捷条件下发（包括按人数和指定设备下发）；对下发条件要求高的用户可使用自定义条件下发（包括文字条件编辑器和代码条件编辑器）。\n\n**PS**：我们原创的文字版条件编辑器很有意思哦，它能将复杂繁琐的条件代码还原成有语法有逻辑的中国话，真的是能让非技术人员第一次使用就看得懂会操作的优秀功能，目前为止我们应该是第一个将体验做到如此细腻的产品。\n\n使用地址：[360移动开发者-RePlugin插件管理](https://dc.360.cn/)\n\n## 已接入RePlugin的应用\n\n我们诚挚期待您成为咱们RePlugin应用大家庭中的一员！\n\n除了**360集团旗下的亿级别应用**以外，还有一些对**稳定要求极其严苛的“金融类”产品**，及第三方合作应用也接入了RePlugin（含SDK）：\n\n\n<table align=\"center\">\n    <tr align=\"center\">\n        <td><img src=\"https://github.com/Qihoo360/RePlugin/wiki/img/apps/mobilesafe.png\" width=\"80\" height=\"80\"/></td>\n        <td><img src=\"https://github.com/Qihoo360/RePlugin/wiki/img/apps/appstore.png\" width=\"80\" height=\"80\"/></td>\n        <td><img src=\"https://github.com/Qihoo360/RePlugin/wiki/img/apps/browser.png\" width=\"80\" height=\"80\"/></td>\n        <td><img src=\"https://github.com/Qihoo360/RePlugin/wiki/img/apps/camera.png\" width=\"80\" height=\"80\"/></td>\n        <td><img src=\"https://github.com/Qihoo360/RePlugin/wiki/img/apps/clean.png\" width=\"80\" height=\"80\"/></td>\n    </tr>\n    <tr align=\"center\">\n        <td><b><a href=\"https://shouji.360.cn/index.html\">360 手机卫士</a></b></td>\n        <td><b><a href=\"http://sj.360.cn/index.html\">360 手机助手</a></b></td>\n        <td><b><a href=\"http://mse.360.cn/m/index.html\">360 手机浏览器</a></b></td>\n        <td><b><a href=\"http://xj.huajiao.com/xji/home/pc\">花椒相机</a></b></td>\n        <td><b><a href=\"https://shouji.360.cn/360cleandroid/index.html\">360 清理大师</a></b></td>\n    </tr>\n    <tr align=\"center\">\n        <td><img src=\"https://github.com/Qihoo360/RePlugin/wiki/img/apps/movie.png\" width=\"80\" height=\"80\"/></td>\n        <td><img src=\"https://github.com/Qihoo360/RePlugin/wiki/img/apps/jieqianba.png\" width=\"80\" height=\"80\"/></td>\n        <td><img src=\"https://github.com/Qihoo360/RePlugin/wiki/img/apps/haitao1hao.png\" width=\"80\" height=\"80\"/></td>\n        <td><img src=\"https://github.com/Qihoo360/RePlugin/wiki/img/apps/huaruntong.png\" width=\"80\" height=\"80\"/></td>\n        <td><img src=\"https://github.com/Qihoo360/RePlugin/wiki/img/apps/jielema.png\" width=\"80\" height=\"80\"/></td>\n    </tr>\n    <tr align=\"center\">\n        <td><b><a href=\"http://www.360kan.com/appdownload\">360 影视大全</a></b></td>\n        <td><b><a href=\"\">J借钱吧</a></b></td>\n        <td><b><a href=\"http://www.1haitao.com/\">海淘1号</a></b></td>\n        <td><b><a href=\"http://www.huaruntong.com/\">华润通</a></b></td>\n        <td><b><a href=\"http://www.jielem.com/\">借了吗</a></b></td>\n    </tr>\n    <tr align=\"center\">\n        <td><img src=\"https://raw.githubusercontent.com/wiki/Qihoo360/RePlugin/img/apps/qihoo_os.jpg\" width=\"80\" height=\"80\"/></td>\n        <td><img src=\"https://raw.githubusercontent.com/wiki/Qihoo360/RePlugin/img/apps/qihoo_jietiao.jpg\" width=\"80\" height=\"80\"/></td>\n        <td><img src=\"https://github.com/Qihoo360/RePlugin/wiki/img/apps/yourapps.png\" width=\"80\" height=\"80\"/></td>\n        <td><img src=\"https://github.com/Qihoo360/RePlugin/wiki/img/apps/yourapps.png\" width=\"80\" height=\"80\"/></td>\n        <td><img src=\"https://github.com/Qihoo360/RePlugin/wiki/img/apps/yourapps.png\" width=\"80\" height=\"80\"/></td>\n    </tr>\n    <tr align=\"center\">\n        <td><b><a href=\"http://www.qiku.com/product/360os2/index.html\">360OS 系统应用</a></b></td>\n        <td><b><a href=\"https://www.360jie.com.cn/\">360 借条</a></b></td>\n        <td><b><a href=\"\">(即将发布)</a></b></td>\n        <td><b><a href=\"\">(即将发布)</a></b></td>\n        <td><b><a href=\"\">(即将发布)</a></b></td>\n    </tr>\n</table>\n\n这里**衷心感谢** “360手机助手”，以及其它各App团队成员，帮助我们发现了很多需要改进的地方，并给予了非常积极的反馈。您们的鼓励与支持，让咱们的RePlugin能走的更远、更好！\n\n## 已接入RePlugin的插件\n\n目前已有的插件，可以分为以下几类，供各App开发者参考：\n* **展示插件**：如**卫士首页**（是的，你没看错）、体检、信息流等\n* **业务插件**：如清理、骚扰拦截、悬浮窗等\n* **合作插件**：如程序锁、免费WiFi、安全桌面等\n* **后台插件**：如Push、服务管理、Protobuf等\n* **基础插件**：如安全WebView、分享、定位等\n\n截止2017年6月底，这样的插件，我们有**103**个。衷心希望您能成为这个数字中的新的一员！\n\n## 贡献自己的力量\n\n我们欢迎任何形式的贡献，并致以诚挚的感谢！\n\n你可以贡献代码、提出问题、编写文档等。有关“贡献”相关的内容，请[点击这里阅读《贡献力量》](https://github.com/Qihoo360/RePlugin/wiki/%E8%B4%A1%E7%8C%AE%E5%8A%9B%E9%87%8F)\n\n## 与我们联系\n\n欢迎您加入到我们的RePlugin微信群、QQ群大家庭。\n\n微信群已超过上限，请进入我们的QQ群\n\nQQ群 1：**653205923** QQ群 2：**589652294**\n\n## License\n\nRePlugin is [Apache v2.0 licensed](./LICENSE).\n"
        },
        {
          "name": "deploy.sh",
          "type": "blob",
          "size": 1.94921875,
          "content": "#!/bin/bash\n\nexport RP_BASE_DIR=$(cd \"$(dirname \"$0\")\"; pwd)\n\nexport TARGET_PROJECTS=(\nreplugin-host-gradle\nreplugin-host-library\nreplugin-plugin-gradle\nreplugin-plugin-library\n)\n\n__gradle_exec(){ if [[ -x gradlew ]];then ./gradlew ${@}; else gradle ${@}; fi; }\n\n__rp_deploy_project(){\n\t[[ ! -d ${1} ]] && echo \">>> INVALID ${1}!!! <<<\" && return\n\t# execute deploying\n\techo \">>> ${1} <<<\" && cd ${1} && __gradle_exec -p ${1} clean bintrayUpload\n\t# revert changed files\n\tgit checkout ${1}\n}\n\nrp_revert_AppConstant(){\n\tgit status -s | sed s/^...// | grep '/AppConstant.groovy' | git checkout ${f}\n}\n\nrp_deploy(){\n\tlocal current=`pwd` && cd ${RP_BASE_DIR}\n\t# revert AppConstant.groovy\n\trp_revert_AppConstant\n\t# saving all changes: git stash save \"saving stash for deploying!!!\"\n\t# deploy\n\tfor p in ${TARGET_PROJECTS}; do __rp_deploy_project ${RP_BASE_DIR}/${p}; done\n\t# revert local changes: git revert --hard HEAD; git stash pop\n\trp_revert_AppConstant\n\t# back\n\tcd ${current}\n}\n\nrp_test(){\n\tlocal projects=(\n\t\t# replugin-sample/host/app\n\t\treplugin-sample/host\n\t\t# replugin-sample/plugin/plugin-demo1/app\n\t\treplugin-sample/plugin/plugin-demo1\n\t\t# replugin-sample/plugin/plugin-demo2/app\n\t\treplugin-sample/plugin/plugin-demo2\n\t\t# replugin-sample/plugin/plugin-demo3-kotlin/app\n\t\treplugin-sample/plugin/plugin-demo3-kotlin\n\t\t# replugin-sample/plugin/plugin-webview/app\n\t\treplugin-sample/plugin/plugin-webview\n\t\t# replugin-sample-extra/fresco/FrescoHost/app\n\t\treplugin-sample-extra/fresco/FrescoHost\n\t\t# replugin-sample-extra/fresco/FrescoPlugin/app\n\t\treplugin-sample-extra/fresco/FrescoPlugin\n\t)\n\tlocal log=${RP_BASE_DIR}/build/rp_test.log && [[ -f $log ]] && rm -f $log && touch $log\n\tlocal current=`pwd`\n\tfor p in ${projects}; do\n\t\tlocal p=${RP_BASE_DIR}/${p}\n\t\techo -e \">>> BUILDING ${RP_BASE_DIR}/${p}\"\n\t\tcd ${p} && { __gradle_exec -p ${p} clean asDebug  }\n\t\tls -l ${p}/app/build/outputs/apk\n\tdone\n\tcd ${current}\n}\n\n# grep --exclude-dir={.bzr,CVS,.git,.hg,.svn,.idea,build,.gradle} -inr '2\\.3\\.0' ."
        },
        {
          "name": "replugin-host-gradle",
          "type": "tree",
          "content": null
        },
        {
          "name": "replugin-host-library",
          "type": "tree",
          "content": null
        },
        {
          "name": "replugin-plugin-gradle",
          "type": "tree",
          "content": null
        },
        {
          "name": "replugin-plugin-library",
          "type": "tree",
          "content": null
        },
        {
          "name": "replugin-sample-extra",
          "type": "tree",
          "content": null
        },
        {
          "name": "replugin-sample",
          "type": "tree",
          "content": null
        },
        {
          "name": "rp-config.gradle",
          "type": "blob",
          "size": 0.5078125,
          "content": "project.ext{\n\tRP_USER = 'replugin'\n\tRP_REPO = 'replugin'\n\tRP_USERORG = 'qihoo360' // unset this if you an't belong to any orgnization\n\t//\n\tRP_SITE = 'https://github.com/Qihoo360/Replugin'\n\tRP_DESC = 'RePlugin - A flexible, stable, easy-to-use Android Plug-in Framework'\n\tRP_EMAIL = 'replugin@gmail.com'\n\tRP_GIT_URL = 'https://github.com/Qihoo360/RePlugin'\n\tRP_LICENSES_URL = 'http://www.apache.org/licenses/LICENSE-2.0.txt'\n\tRP_LICENSES_NAME = 'Apache-2.0'\n\t//\n\tRP_GROUP = 'com.qihoo360.replugin'\n\tRP_VERSION = '3.1.0'\n}"
        },
        {
          "name": "rp-publish.gradle",
          "type": "blob",
          "size": 4.576171875,
          "content": "// utilities\n\ndef static replaceVariables(File file, String key, String value) {\n    if(!file.exists()) return\n    def regex = '\\\\$\\\\{' + key + '\\\\}'\n    file.write((file.text =~ /${regex}/).replaceAll(value))\n}\n\ndef isAndroid(){ return project.hasProperty(\"android\"); }\n\ndef getPropertySafe(name, defaultValue = ''){\n\tif(hasProperty(name) && getProperty(name).trim() != '') return getProperty(name)\n\treturn defaultValue\n}\n\ndef getPropertyExt(name, defaultValue = ''){\n    if ( project.ext.has(name) && project.ext[name] != null ) return project.ext[name]\n    return getPropertySafe(name, defaultValue)\n}\n\n// def pbHelp(){\n// \tprintln(\">>> Please make sure MUST-HVAE Properties defined in 'project.ext' or gradle.properties.\"\n// \t\t+ \"\\ne.g.: \" \n// \t\t+ \"\\n PB_USER = hyongbai\"\n// \t\t+ \"\\n PB_ARTIFACT_ID = HelloWorld\"\n// \t)\n// }\n\ndef pbUpdateVariables(){\n    [\n        \"src/main/groovy/com/qihoo360/replugin/gradle/host/AppConstant.groovy\",\n        \"src/main/groovy/com/qihoo360/replugin/gradle/plugin/AppConstant.groovy\"\n    ].forEach { replaceVariables(project.file(it), \"RP_VERSION\", version) }\n}\n\n// pbHelp()\n\n///// CONFIG\n\napply from: \"${buildscript.sourceFile.parent}/rp-config.gradle\"\n\ngroup = getPropertyExt('RP_GROUP')\n\nversion = getPropertyExt('RP_VERSION')\n\ndef pbArtifactId = getPropertyExt('RP_ARTIFACT_ID')\n\npbUpdateVariables()\n\n//\n\ndef pbUser = getPropertyExt('RP_USER')\n\ndef pbRepo = getPropertyExt('RP_REPO', 'maven')\n\ndef pbEmail = getPropertyExt('RP_EMAIL', pbUser)\n\ndef pbUserId = getPropertyExt('RP_USER_ID', pbUser)\n\ndef pbUserOrg = getPropertyExt('RP_USERORG', '')\n\ndef pbBintayKey = getPropertyExt('RP_BINTRAY_KEY', System.getenv('RP_BINTRAY_KEY'))\n\n//\n\ndef pbDesc = getPropertyExt('RP_DESC', 'DONT BE EVIL')\n\ndef pbLicense = getPropertyExt('RP_LICENSES_NAME', 'The Apache Software License, Version 2.0')\n\ndef pbLicenseUrl = getPropertyExt('RP_LICENSES_URL', 'http://www.apache.org/licenses/LICENSE-2.0.txt')\n\n//\n\ndef pbSiteUrl = getPropertyExt('RP_SITE', \"https://github.com\")\n\ndef pbGitUrl = getPropertyExt('RP_GIT_URL', pbSiteUrl)\n\ndef pbIssueUrl = getPropertyExt('RP_ISSUE_URL', pbSiteUrl)\n\ndef mUser = getPropertyExt('RP_MAVEN_USER')\n\ndef mPwd = getPropertyExt('RP_MAVEN_PWD')\n\nprintln(\n\t\">>>「publish.gradle」 CONFIGURATIONS:\"\n    + \"\\n ${group}:${pbArtifactId}:${version}\"\n    + \"\\n ${pbDesc}\"\n    + \"\\n Android = ${project.hasProperty(\"android\")}\"\n    + \"\\n pbUser = ${pbUser}:${pbEmail}\"\n\t+ \"\\n pbSite = ${pbSiteUrl}\"\n\t+ \"\\n pbGitUrl = ${pbGitUrl}\"\n\t+ \"\\n pbIssueUrl = ${pbIssueUrl}\"\n    + \"\\n License = ${pbLicense}(${pbLicenseUrl})\"\n    + \"\\n pbArtifactId = ${pbArtifactId}\"\n    + \"\\n mUser = ${mUser}\"\n    + \"\\n mPwd = ${mPwd}\"\n\t+ \"\\n pbBintayKey = ${pbBintayKey}\"\n)\n\n//// task\n\nif (isAndroid()) { // Android libraries\n    task androidSourcesJar(type: Jar) {\n        archiveClassifier.set('sources')\n        from android.sourceSets.main.java.srcDirs\n    }\n    task androidJavadocs(type: Javadoc) {\n        failOnError = false\n        source = android.sourceSets.main.java.srcDirs\n        ext.androidJar = \"${android.sdkDirectory}/platforms/${android.compileSdkVersion}/android.jar\"\n        classpath += files(ext.androidJar)\n    }\n    task androidJavadocsJar(type: Jar, dependsOn: androidJavadocs) {\n        archiveClassifier.set('javadoc')\n        from androidJavadocs.destinationDir\n   }\n} else { // Java libraries\n    task sourcesJar(type: Jar, dependsOn: classes) {\n        classifier = 'sources'\n        from sourceSets.main.allSource\n    }\n    task javadocJar(type: Jar, dependsOn: javadoc) {\n    classifier = 'javadoc'\n    from javadoc.destinationDir\n    }\n    artifacts {\n    archives sourcesJar, javadocJar\n}\n}\n\ntasks.withType(JavaCompile) {\n    options.encoding = \"UTF-8\"\n}\n\napply plugin: 'maven-publish'\nfinal def theGroup = group // group will be reset to 'upload'\npublishing {\n    repositories {\n        maven {\n            url = uri('file://${System.getenv('HOME')}/.m2/repository')\n            if (mUser && mPwd) {\n                credentials {\n                    username = mUser\n                    password = mPwd\n                }\n            }\n        }\n    }\n    publications {\n        mavenJava(MavenPublication) {\n            groupId = theGroup\n            version = version\n            artifactId = pbArtifactId\n            if (pbArtifactId.endsWith('gradle')) {\n                from components.java\n            } else {\n                // 必须有这个 否则不会上传AAR包\n                afterEvaluate {\n                    artifact(androidSourcesJar)\n                    artifact(androidJavadocsJar)\n                    artifact(tasks.getByName(\"bundleReleaseAar\"))\n                }\n            }\n        }\n    }\n}"
        }
      ]
    }
  ]
}