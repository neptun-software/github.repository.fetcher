{
  "metadata": {
    "timestamp": 1736557731011,
    "page": 873,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjkwMA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "dragonflydb/dragonfly",
      "stars": 26729,
      "defaultBranch": "main",
      "files": [
        {
          "name": ".circleci",
          "type": "tree",
          "content": null
        },
        {
          "name": ".clang-format",
          "type": "blob",
          "size": 0.47,
          "content": "# ---\n# We'll use defaults from the Google style, but with 2 columns indentation.\nBasedOnStyle: Google\nIndentWidth: 2\nColumnLimit: 100\n---\nLanguage: Cpp\nAllowShortLoopsOnASingleLine: false\nAllowShortFunctionsOnASingleLine: false\nAllowShortIfStatementsOnASingleLine: false\nAlwaysBreakTemplateDeclarations: false\nPackConstructorInitializers: NextLine\nDerivePointerAlignment: false\nPointerAlignment: Left\nBasedOnStyle: Google\nColumnLimit: 100\n---\nLanguage: Proto\nBasedOnStyle: Google\n"
        },
        {
          "name": ".clang-tidy",
          "type": "blob",
          "size": 2.53,
          "content": "---\n\nChecks: >\n  -abseil-no-namespace,\n  bugprone*,\n  # Sadly narrowing conversions is too noisy\n  -bugprone-narrowing-conversions,\n  -bugprone-easily-swappable-parameters,\n  -bugprone-branch-clone,\n  -bugprone-implicit-widening-of-multiplication-result,\n  boost-use-to-string,\n  performance*,\n  cert*,\n  -cert-err58-cpp,\n  # Doesn't work with abseil flags\n  clang-analyzer*,\n  google-*,\n  -google-runtime-int,\n  -google-readability-*,\n  -google-build-using-namespace,\n  misc-definitions-in-headers,\n  misc-misleading*,\n  misc-misplaced-const,\n  misc-new-delete-overloads,\n  misc-non-copyable-objects,\n  misc-redundant-expression,\n  misc-static-assert,\n  misc-throw-by-value-catch-by-reference,\n  misc-unconventional-assign-operator,\n  misc-uniqueptr-reset-release,\n  misc-unused-alias-decls,\n  misc-unused-using-decls,\n  modernize-deprecated-headers,\n  modernize-macro-to-enum,\n  modernize-make-shared,\n  modernize-make-unique,\n  modernize-pass-by-value,\n  modernize-raw-string-literal,\n  modernize-redundant-void-arg,\n  modernize-replace-disallow-copy-and-assign-macro,\n  modernize-return-braced-init-list,\n  modernize-shrink-to-fit,\n  modernize-unary-static-assert,\n  modernize-use-emplace,\n  modernize-use-equals-delete,\n  modernize-use-noexcept,\n  modernize-use-transparent-functors,\n  modernize-use-uncaught-exceptions,\n  modernize-use-using,\n  readability-avoid-const-params-in-decls,\n  readability-const-return-type,\n  readability-container-contains,\n  readability-container-size-empty,\n  readability-delete-null-pointer,\n  readability-duplicate-include,\n  readability-function-size,\n  readability-identifier-naming,\n  readability-inconsistent-declaration-parameter-name,\n  readability-make-member-function-const,\n  readability-misplaced-array-index,\n  readability-named-parameter,\n  readability-non-const-parameter,\n  readability-redundant-access-specifiers,\n  readability-redundant-control-flow,\n  readability-redundant-declaration,\n  readability-redundant-function-ptr-dereference,\n  readability-redundant-member-init,\n  readability-redundant-preprocessor,\n  readability-redundant-smartptr-get,\n  readability-redundant-string-cstr,\n  readability-redundant-string-init,\n  readability-simplify-subscript-expr,\n  readability-static-definition-in-anonymous-namespace,\n  readability-string-compare,\n  readability-suspicious-call-argument,\n  readability-uniqueptr-delete-release,\n  readability-use-anyofallof\n\n\n# Disabled because they're currently too disruptive, but one day might be nice to have:\n# modernize-use-nullptr,\n# modernize-use-equals-default,\n# readability-qualified-auto,\n"
        },
        {
          "name": ".ct.yaml",
          "type": "blob",
          "size": 0.22,
          "content": "# See https://github.com/helm/chart-testing#configuration\nremote: origin\ntarget-branch: main\nchart-dirs:\n  - contrib/charts\nhelm-extra-args: --debug --timeout 60s\ncheck-version-increment: false\nvalidate-maintainers: false\n"
        },
        {
          "name": ".devcontainer",
          "type": "tree",
          "content": null
        },
        {
          "name": ".dockerignore",
          "type": "blob",
          "size": 0.03,
          "content": "_deps/*\nbuild-*\ntools/packaging/*\n"
        },
        {
          "name": ".github",
          "type": "tree",
          "content": null
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.23,
          "content": "build/*\nbuild-*\nclang/*\nclang-*\n.vscode/*.db\n.vscode/settings.json\n.vscode/launch.json\nthird_party\ngenfiles/*\n*.sublime-*\n*.orig\n.tags\n!third_party/include/*\n*.pyc\n/CMakeLists.txt.user\n_deps\nreleases\n.DS_Store\n.idea/*\n.hypothesis\n.secrets\n"
        },
        {
          "name": ".gitmodules",
          "type": "blob",
          "size": 0.08,
          "content": "[submodule \"helio\"]\n\tpath = helio\n\turl = https://github.com/romange/helio.git\n"
        },
        {
          "name": ".gitorderfile",
          "type": "blob",
          "size": 0.05,
          "content": "*.py\n*.md\n*.in\n*.txt\n*.sh\n*.yml\n*.h\n*.cc\n*.lua\n*.go\n*\n"
        },
        {
          "name": ".pre-commit-config.yaml",
          "type": "blob",
          "size": 0.8,
          "content": "default_stages: [commit]\nexclude: |\n    (?x)(\n      src/redis/.* |\n      contrib/charts/dragonfly/ci/.* |\n      patches/.*\n    )\nrepos:\n  - repo: local\n    hooks:\n      - id: conventional-commits\n        name: Conventional Commit Minder\n        entry: contrib/scripts/conventional-commits\n        language: script\n        stages: [commit-msg]\n\n  - repo: https://github.com/pre-commit/pre-commit-hooks\n    rev: v4.3.0\n    hooks:\n      - id: trailing-whitespace\n      - id: end-of-file-fixer\n\n  - repo: https://github.com/pre-commit/mirrors-clang-format\n    rev: v14.0.6\n    hooks:\n      - id: clang-format\n        name: Clang formatting\n\n  - repo: https://github.com/psf/black\n    rev: 23.7.0\n    hooks:\n      - id: black\n\n  - repo: https://github.com/gitleaks/gitleaks\n    rev: v8.16.3\n    hooks:\n      - id: gitleaks\n"
        },
        {
          "name": ".pre-commit-hooks.yaml",
          "type": "blob",
          "size": 0.25,
          "content": "- id: conventional-commits\n  name: Conventional Commits Minder\n  entry: contrib/scripts/conventional-commits\n  language: script\n  description: Conventional Commits Enforcement at the `git commit` client-side level\n  always_run: true\n  stages: [commit-msg]"
        },
        {
          "name": ".snyk",
          "type": "blob",
          "size": 0.1,
          "content": "# Snyk (https://snyk.io) policy file\nexclude:\n global:\n   - tests/integration/**\n   - contrib/charts/**\n"
        },
        {
          "name": ".vscode",
          "type": "tree",
          "content": null
        },
        {
          "name": "CLA.txt",
          "type": "blob",
          "size": 1.06,
          "content": "Thanks for your interest in contributing to Dragonflyâ„¢. By contributing to this project\nin any way form or media you grant DragonflyDB Ltd. and its affiliates a perpetual, worldwide, non-exclusive, free of charge, royalty-free, irrevocable license to use,\nmodify, make available, reproduce, make derivatives, publicly display and perform, sublicense, sell, and distribute your contributions and any derivatives thereof as part of Dragonflyâ„¢.\nYou represent that You are legally entitled to grant the above license. You acknowledge that DragonflyDB currently distributes Dragonflyâ„¢ under the Business Source License 1.1 (BSL-1.1) license, and agree that your contribution may be distributed under BSL-1.1 as part of Dragonflyâ„¢. You also represent that your contributions are your original work and that neither the content contributed, nor making the contribution to Dragonflyâ„¢ violates any third partyâ€™ rights. If you are making this contribution while being engaged by any other company or entity, please make sure you have the necessary permissions required to do so.\n"
        },
        {
          "name": "CMakeLists.txt",
          "type": "blob",
          "size": 1.94,
          "content": "cmake_minimum_required(VERSION 3.15 FATAL_ERROR)\nset(PROJECT_CONTACT romange@gmail.com)\n\ninclude(CheckCXXCompilerFlag)\n\nenable_testing()\n\nset(CMAKE_EXPORT_COMPILE_COMMANDS 1)\n\n# Set targets in folders\nset_property(GLOBAL PROPERTY USE_FOLDERS ON)\nproject(DRAGONFLY C CXX)\nset(CMAKE_CXX_STANDARD 17)\n\n# Disabled because it has false positives with ref-counted intrusive pointers.\nCHECK_CXX_COMPILER_FLAG(\"-Wuse-after-free\" HAS_USE_AFTER_FREE_WARN)\nif (HAS_USE_AFTER_FREE_WARN)\n    set(CMAKE_CXX_FLAGS \"-Wno-use-after-free ${CMAKE_CXX_FLAGS}\")\nendif()\n\nif (CMAKE_CXX_COMPILER_ID STREQUAL \"Clang\")\n    set(CMAKE_CXX_FLAGS \"-Wthread-safety ${CMAKE_CXX_FLAGS}\")\n    add_compile_options(-Werror=thread-safety)\nendif()\n\n# We can not use here CHECK_CXX_COMPILER_FLAG because systems that do not support sanitizers\n# fail during linking time.\nset(CMAKE_REQUIRED_FLAGS \"-fsanitize=address\")\ncheck_cxx_source_compiles(\"int main() { return 0; }\" SUPPORT_ASAN)\n\nset(CMAKE_REQUIRED_FLAGS \"-fsanitize=undefined\")\ncheck_cxx_source_compiles(\"int main() { return 0; }\" SUPPORT_USAN)\nset(CMAKE_REQUIRED_FLAGS \"\")\n\n# We must define all the required variables from the root cmakefile, otherwise\n# they just disappear.\nset(CMAKE_MODULE_PATH \"${CMAKE_CURRENT_SOURCE_DIR}/helio/cmake\" ${CMAKE_MODULE_PATH})\noption(BUILD_SHARED_LIBS \"Build shared libraries\" OFF)\noption(DF_USE_SSL \"Provide support for SSL connections\" ON)\n\nfind_package(OpenSSL)\n\noption(WITH_ASAN \"Enable -fsanitize=address\" OFF)\nif (SUPPORT_ASAN AND WITH_ASAN)\n  message(STATUS \"address sanitizer enabled\")\n  set(CMAKE_CXX_FLAGS_DEBUG \"${CMAKE_CXX_FLAGS_DEBUG} -fsanitize=address\")\nendif()\n\noption(WITH_USAN \"Enable -fsanitize=undefined\" OFF)\nif (SUPPORT_USAN AND WITH_USAN)\n  message(STATUS \"ub sanitizer enabled\")\n  set(CMAKE_CXX_FLAGS_DEBUG \"${CMAKE_CXX_FLAGS_DEBUG} -fsanitize=undefined\")\nendif()\n\ninclude(third_party)\ninclude(internal)\n\ninclude_directories(src)\ninclude_directories(helio)\n\nadd_subdirectory(helio)\nadd_subdirectory(src)\n"
        },
        {
          "name": "CODE_OF_CONDUCT.md",
          "type": "blob",
          "size": 5.13,
          "content": "# Contributor Covenant Code of Conduct\n\n## Our Pledge\n\nWe as members, contributors, and leaders pledge to make participation in our\ncommunity a harassment-free experience for everyone, regardless of age, body\nsize, visible or invisible disability, ethnicity, sex characteristics, gender\nidentity and expression, level of experience, education, socio-economic status,\nnationality, personal appearance, race, religion, or sexual identity\nand orientation.\n\nWe pledge to act and interact in ways that contribute to an open, welcoming,\ndiverse, inclusive, and healthy community.\n\n## Our Standards\n\nExamples of behavior that contributes to a positive environment for our\ncommunity include:\n\n* Demonstrating empathy and kindness toward other people\n* Being respectful of differing opinions, viewpoints, and experiences\n* Giving and gracefully accepting constructive feedback\n* Accepting responsibility and apologizing to those affected by our mistakes,\n  and learning from the experience\n* Focusing on what is best not just for us as individuals, but for the\n  overall community\n\nExamples of unacceptable behavior include:\n\n* The use of sexualized language or imagery, and sexual attention or\n  advances of any kind\n* Trolling, insulting or derogatory comments, and personal or political attacks\n* Public or private harassment\n* Publishing others' private information, such as a physical or email\n  address, without their explicit permission\n* Other conduct which could reasonably be considered inappropriate in a\n  professional setting\n\n## Enforcement Responsibilities\n\nCommunity leaders are responsible for clarifying and enforcing our standards of\nacceptable behavior and will take appropriate and fair corrective action in\nresponse to any behavior that they deem inappropriate, threatening, offensive,\nor harmful.\n\nCommunity leaders have the right and responsibility to remove, edit, or reject\ncomments, commits, code, wiki edits, issues, and other contributions that are\nnot aligned to this Code of Conduct, and will communicate reasons for moderation\ndecisions when appropriate.\n\n## Scope\n\nThis Code of Conduct applies within all community spaces, and also applies when\nan individual is officially representing the community in public spaces.\nExamples of representing our community include using an official e-mail address,\nposting via an official social media account, or acting as an appointed\nrepresentative at an online or offline event.\n\n## Enforcement\n\nInstances of abusive, harassing, or otherwise unacceptable behavior may be\nreported to the community leaders responsible for enforcement at\nhttps://github.com/dragonflydb/dragonfly/discussions.\nAll complaints will be reviewed and investigated promptly and fairly.\n\nAll community leaders are obligated to respect the privacy and security of the\nreporter of any incident.\n\n## Enforcement Guidelines\n\nCommunity leaders will follow these Community Impact Guidelines in determining\nthe consequences for any action they deem in violation of this Code of Conduct:\n\n### 1. Correction\n\n**Community Impact**: Use of inappropriate language or other behavior deemed\nunprofessional or unwelcome in the community.\n\n**Consequence**: A private, written warning from community leaders, providing\nclarity around the nature of the violation and an explanation of why the\nbehavior was inappropriate. A public apology may be requested.\n\n### 2. Warning\n\n**Community Impact**: A violation through a single incident or series\nof actions.\n\n**Consequence**: A warning with consequences for continued behavior. No\ninteraction with the people involved, including unsolicited interaction with\nthose enforcing the Code of Conduct, for a specified period of time. This\nincludes avoiding interactions in community spaces as well as external channels\nlike social media. Violating these terms may lead to a temporary or\npermanent ban.\n\n### 3. Temporary Ban\n\n**Community Impact**: A serious violation of community standards, including\nsustained inappropriate behavior.\n\n**Consequence**: A temporary ban from any sort of interaction or public\ncommunication with the community for a specified period of time. No public or\nprivate interaction with the people involved, including unsolicited interaction\nwith those enforcing the Code of Conduct, is allowed during this period.\nViolating these terms may lead to a permanent ban.\n\n### 4. Permanent Ban\n\n**Community Impact**: Demonstrating a pattern of violation of community\nstandards, including sustained inappropriate behavior,  harassment of an\nindividual, or aggression toward or disparagement of classes of individuals.\n\n**Consequence**: A permanent ban from any sort of public interaction within\nthe community.\n\n## Attribution\n\nThis Code of Conduct is adapted from the [Contributor Covenant][homepage],\nversion 2.0, available at\nhttps://www.contributor-covenant.org/version/2/0/code_of_conduct.html.\n\nCommunity Impact Guidelines were inspired by [Mozilla's code of conduct\nenforcement ladder](https://github.com/mozilla/diversity).\n\n[homepage]: https://www.contributor-covenant.org\n\nFor answers to common questions about this code of conduct, see the FAQ at\nhttps://www.contributor-covenant.org/faq. Translations are available at\nhttps://www.contributor-covenant.org/translations.\n"
        },
        {
          "name": "CONTRIBUTING.md",
          "type": "blob",
          "size": 3.52,
          "content": "# Contributing to Dragonfly DB\n\nThank you for your interest in Dragonfly DB.\n\nFeel free to browse our [Discussions](https://github.com/dragonflydb/dragonfly/discussions) and [Issues](https://github.com/dragonflydb/dragonfly/issues)\n\n## Build from source\n\nSee [building from source](./docs/build-from-source.md)\n\nPlease note that to build a development/debug version,\nit's better to alter the configure and build steps above with:\n\n```sh\n./helio/blaze.sh   # without '-release' flag. Creates build-dbg subfolder\ncd build-dbg && ninja dragonfly\n```\n\n## Before you make your changes\n\n```sh\ncd dragonfly   # project root\n\n# Make sure you have 'pre-commit' and 'clang-format' installed\npip install pre-commit clang-format\n\n# IMPORTANT! Enable our pre-commit message hooks\n# This will ensure your commits match our formatting requirements\npre-commit install\n```\n\nThis step must be done on each machine you wish to develop and contribute from to activate the `commit-msg` and `commit` hooks client-side.\n\nOnce you have done these things, we look forward to adding your contributions and improvements to the Dragonfly DB project.\n\n## Unit testing\n\n```\n# Build a specific test\ncd build-dbg && ninja [test_name]\n# e.g cd build-dbg && ninja generic_family_test\n\n# Run\n./[test_name]\n# e.g ./generic_family_test\n```\n\n## Rendering Helm golden files\n\nA Golang golden test is included in the dragonfly helm chart. This test will render the chart and compare the output to a golden file. If the output has changed, the test will fail and the golden file will need to be updated. This can be done by running:\n\n```bash\ncd contrib/charts/dragonfly\ngo test -v ./... -update\n```\n\nThis makes it easy to see the changes in the rendered output without having to manually run the `helm template` and diff the output.\n\n## Signoff Commits\n\nAll community submissions must include a signoff.\n\n```bash\ngit commit -s -m '...'\n```\n\n## Squash Commits\n\nPlease squash all commits for a change into a single commit (this can be done using \"git rebase -i\"). Do your best to have a well-formed commit message for the change.\n\n## Use Conventional Commits\n\nThis repo uses [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/)\n\nThe Conventional Commits specification is a lightweight convention on top of commit messages.\nIt provides an easy set of rules for creating an explicit commit history;\nwhich makes it easier to write automated tools on top of.\nThis convention dovetails with [SemVer](http://semver.org),\nby describing the features, fixes, and breaking changes made in commit messages.\n\nThe commit message should be structured as follows:\n\n---\n\n```\n<type>[optional scope]: <description>\n\n[optional body]\n\n[optional footer(s)]\n```\n\n---\n\nThis repo uses automated tools to standardize the formatting of code, text files, and commits.\n\n- [Pre-commit hooks](#pre-commit-hooks) validate and automatically apply code\n   formatting rules.\n\n## `pre-commit` hooks\n\nThe Dragonfly DB team has agreed to systematically use several pre-commit hooks to\nnormalize the formatting of code. You need to install and enable pre-commit to have these used\nwhen you do your commits.\n\n## Codebase guidelines\n\nThis repo conforms to the Google's C++ Style Guide. Keep in mind we use an older version of the\nstyle guide which can be found [here](https://github.com/google/styleguide/blob/505ba68c74eb97e6966f60907ce893001bedc706/cppguide.html).\n\nAny exceptions to the rules specified in the style guide will be documented here.\n\n## License terms for contributions\n\nPlease see our [CLA agreement](./CLA.txt)\n\n## THANK YOU FOR YOUR CONTRIBUTIONS\n"
        },
        {
          "name": "CONTRIBUTORS.md",
          "type": "blob",
          "size": 0.81,
          "content": "# Contributors (alphabetical by surname)\n\n* **[Amir Alperin](https://github.com/iko1)**\n* **[Philipp Born](https://github.com/tamcore)**\n  * Helm Chart\n* **[Meng Chen](https://github.com/matchyc)**\n* **[Yuxuan Chen](https://github.com/YuxuanChen98)**\n* **[Pawel Kaplinski](https://github.com/pawelKapl)**\n* **[Redha Lhimeur](https://github.com/redhal)**\n* **[Braydn Moore](https://github.com/braydnm)**\n* **[Logan Raarup](https://github.com/logandk)**\n* **[Ryan Russell](https://github.com/ryanrussell)**\n  * Docs & Code Readability\n* **[Ali-Akber Saifee](https://github.com/alisaifee)**\n* **[Elle Y](https://github.com/inohime)**\n* **[ATM SALEH](https://github.com/ATM-SALEH)**\n* **[Shohei Shiraki](https://github.com/highpon)**\n* **[Leonardo Mello](https://github.com/lsvmello)**\n* **[Nico Coetzee](https://github.com/nicc777)**\n"
        },
        {
          "name": "LICENSE.md",
          "type": "blob",
          "size": 3.22,
          "content": "# Dragonfly Business Source License 1.1\n\n<u>License</u>: Business Source License 1.1 [BSL 1.1](https://spdx.org/licenses/BUSL-1.1.html)\n\n<u>Licensor</u>: DragonflyDB, Ltd.\n\n<u>Licensed Work</u>: Dragonfly including the software components, or any portion of them, and any modification.\n\n<u>Change Date</u>: March 1, 2029\n\n<u>Change License</u>: [Apache License, Version\n2.0](https://www.apache.org/licenses/LICENSE-2.0), as published by the\nApache Foundation.\n\n<u>Additional Use Grant</u>: You may make use of the Licensed Work (i) only as part of your own product or service, provided it is not an in-memory data store product or service; and (ii) provided that you do not use, provide, distribute, or make available the Licensed Work as a Service.\nA â€œServiceâ€ is a commercial offering, product, hosted, or managed service, that allows third parties (other than your own employees and contractors acting on your behalf) to access and/or use the Licensed Work or a substantial set of the features or functionality of the Licensed Work to third parties as a software-as-a-service, platform-as-a-service, infrastructure-as-a-service or other similar services that compete with Licensor products or services.\n\nText of BSL 1.1\n\nThe Licensor hereby grants you the right to copy, modify, create\nderivative works, redistribute, and make non-production use of the\nLicensed Work. The Licensor may make an Additional Use Grant, above,\npermitting limited production use.\n\nEffective on the Change Date, or the fourth anniversary of the first\npublicly available distribution of a specific version of the Licensed\nWork under this License, whichever comes first, the Licensor hereby\ngrants you rights under the terms of the Change License, and the rights\ngranted in the paragraph above terminate.\n\nIf your use of the Licensed Work does not comply with the requirements\ncurrently in effect as described in this License, you must purchase a\ncommercial license from the Licensor, its affiliated entities, or\nauthorized resellers, or you must refrain from using the Licensed Work.\n\nAll copies of the original and modified Licensed Work, and derivative\nworks of the Licensed Work, are subject to this License. This License\napplies separately for each version of the Licensed Work and the Change\nDate may vary for each version of the Licensed Work released by\nLicensor.\n\nYou must conspicuously display this License on each original or modified\ncopy of the Licensed Work. If you receive the Licensed Work in original\nor modified form from a third party, the terms and conditions set forth\nin this License apply to your use of that work.\n\nAny use of the Licensed Work in violation of this License will\nautomatically terminate your rights under this License for the current\nand all other versions of the Licensed Work.\n\nThis License does not grant you any right in any trademark or logo of\nLicensor or its affiliates (provided that you may use a trademark or\nlogo of Licensor as expressly required by this License).\n\nTO THE EXTENT PERMITTED BY APPLICABLE LAW, THE LICENSED WORK IS PROVIDED\nON AN â€œAS ISâ€ BASIS. LICENSOR HEREBY DISCLAIMS ALL WARRANTIES AND\nCONDITIONS, EXPRESS OR IMPLIED, INCLUDING (WITHOUT LIMITATION)\nWARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE,\nNON-INFRINGEMENT, AND TITLE.\n"
        },
        {
          "name": "Makefile",
          "type": "blob",
          "size": 1.6,
          "content": "BUILD_ARCH := $(shell uname -m)\nRELEASE_NAME := \"dragonfly-${BUILD_ARCH}\"\nHELIO_RELEASE_FLAGS = -DHELIO_RELEASE_FLAGS=\"-g\"\nHELIO_USE_STATIC_LIBS = ON\nHELIO_OPENSSL_USE_STATIC_LIBS = ON\nHELIO_ENABLE_GIT_VERSION = ON\nHELIO_WITH_UNWIND = OFF\nRELEASE_DIR=build-release\n\n# Some distributions (old fedora) have incorrect dependencies for crypto\n# so we add -lz for them.\nLINKER_FLAGS=-lz\n\n# equivalent to: if $(uname_m) == x86_64 || $(uname_m) == amd64\nifneq (, $(filter $(BUILD_ARCH),x86_64 amd64))\nHELIO_MARCH_OPT := -march=core2 -msse4.1 -mpopcnt -mtune=skylake\nendif\n\n# For release builds we link statically libstdc++ and libgcc. Currently,\n# all the release builds are performed by gcc.\nLINKER_FLAGS += -static-libstdc++ -static-libgcc\n\nHELIO_FLAGS = -DHELIO_RELEASE_FLAGS=\"-g\" \\\n\t\t\t  -DCMAKE_EXE_LINKER_FLAGS=\"$(LINKER_FLAGS)\" \\\n              -DBoost_USE_STATIC_LIBS=$(HELIO_USE_STATIC_LIBS) \\\n              -DOPENSSL_USE_STATIC_LIBS=$(HELIO_OPENSSL_USE_STATIC_LIBS) \\\n              -DENABLE_GIT_VERSION=$(HELIO_ENABLE_GIT_VERSION) \\\n              -DWITH_UNWIND=$(HELIO_WITH_UNWIND) -DMARCH_OPT=\"$(HELIO_MARCH_OPT)\"\n\n.PHONY: default\n\nconfigure:\n\tcmake -L -B $(RELEASE_DIR) -DCMAKE_BUILD_TYPE=Release -GNinja $(HELIO_FLAGS)\n\nbuild:\n\tcd $(RELEASE_DIR); \\\n\tninja dragonfly && ldd dragonfly\n\npackage:\n\tcd $(RELEASE_DIR); \\\n\ttar cvfz $(RELEASE_NAME)-dbgsym.tar.gz dragonfly ../LICENSE.md; \\\n\tobjcopy \\\n\t\t--remove-section=\".debug_*\" \\\n\t\t--remove-section=\"!.debug_line\" \\\n\t\t--compress-debug-sections \\\n\t\tdragonfly \\\n\t\t$(RELEASE_NAME); \\\n\ttar cvfz $(RELEASE_NAME).tar.gz $(RELEASE_NAME) ../LICENSE.md\n\nrelease: configure build\n\ndefault: release\n"
        },
        {
          "name": "README.ja-JP.md",
          "type": "blob",
          "size": 16.63,
          "content": "<p align=\"center\">\n  <a href=\"https://dragonflydb.io\">\n    <img  src=\"/.github/images/logo-full.svg\"\n      width=\"284\" border=\"0\" alt=\"Dragonfly\">\n  </a>\n</p>\n\n[![ci-tests](https://github.com/dragonflydb/dragonfly/actions/workflows/ci.yml/badge.svg)](https://github.com/dragonflydb/dragonfly/actions/workflows/ci.yml) [![Twitter URL](https://img.shields.io/twitter/follow/dragonflydbio?style=social)](https://twitter.com/dragonflydbio)\n\nãã®ä»–ã®è¨€èª:  [English](README.md) [ç®€ä½“ä¸­æ–‡](README.zh-CN.md) [í•œêµ­ì–´](README.ko-KR.md)\n\n[Web ã‚µã‚¤ãƒˆ](https://www.dragonflydb.io/) â€¢ [ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://dragonflydb.io/docs) â€¢ [ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ](https://www.dragonflydb.io/docs/getting-started) â€¢ [ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ Discord](https://discord.gg/HsPjXGVH85) â€¢ [Dragonfly Forum](https://dragonfly.discourse.group/) â€¢ [Join the Dragonfly Community](https://www.dragonflydb.io/community)\n\n[GitHub Discussions](https://github.com/dragonflydb/dragonfly/discussions) â€¢ [GitHub Issues](https://github.com/dragonflydb/dragonfly/issues) â€¢ [ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ãƒˆ](https://github.com/dragonflydb/dragonfly/blob/main/CONTRIBUTING.md)\n\n## ä¸–ç•Œæœ€é€Ÿã®ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢\n\nDragonfly ã¯æœ€æ–°ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¯ãƒ¼ã‚¯ãƒ­ãƒ¼ãƒ‰ã®ãŸã‚ã«æ§‹ç¯‰ã•ã‚ŒãŸã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ã§ã™ã€‚\n\nRedis ã‚„ Memcached ã® API ã¨å®Œå…¨ã«äº’æ›æ€§ãŒã‚ã‚‹ãŸã‚ã€Dragonfly ã‚’æ¡ç”¨ã™ã‚‹ãŸã‚ã«ã‚³ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚å¾“æ¥ã®ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ã¨æ¯”è¼ƒã—ã¦ã€Dragonfly ã¯ 25 å€ã®ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆã€ã‚ˆã‚Šä½ã„ãƒ†ãƒ¼ãƒ«ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ã§ã‚ˆã‚Šé«˜ã„ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆç‡ã€ãã—ã¦å®¹æ˜“ãªå‚ç›´ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ã‚’æä¾›ã—ã¾ã™ã€‚\n\n## ã‚³ãƒ³ãƒ†ãƒ³ãƒ„\n\n- [ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯](#ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯)\n- [ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ](https://github.com/dragonflydb/dragonfly/tree/main/docs/quick-start)\n- [ã‚³ãƒ³ãƒ•ã‚£ã‚°](#ã‚³ãƒ³ãƒ•ã‚£ã‚°)\n- [ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ã¨ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹](#ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ã¨ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹)\n- [ãƒ‡ã‚¶ã‚¤ãƒ³æ±ºå®š](#ãƒ‡ã‚¶ã‚¤ãƒ³æ±ºå®š)\n- [ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰](#ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰)\n\n## <a name=\"ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯\"><a/>ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯\n\n<img src=\"http://static.dragonflydb.io/repo-assets/aws-throughput.svg\" width=\"80%\" border=\"0\"/>\n\nãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã§ã¯ã€Dragonfly ã¯ Redis ã¨æ¯”è¼ƒã—ã¦ 25 å€ã®ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆã‚’ç¤ºã—ã€c6gn.16xlarge ã§ 3.8M QPS ã‚’è¶…ãˆã¾ã—ãŸã€‚\n\nDragonfly ã®ãƒ”ãƒ¼ã‚¯ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆã«ãŠã‘ã‚‹ 99 ãƒ‘ãƒ¼ã‚»ãƒ³ã‚¿ã‚¤ãƒ«ã®ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·æŒ‡æ¨™:\n\n| op    | r6g   | c6gn  | c7g   |\n|-------|-------|-------|-------|\n| set   | 0.8ms | 1ms   | 1ms   |\n| get   | 0.9ms | 0.9ms | 0.8ms |\n| setex | 0.9ms | 1.1ms | 1.3ms |\n\n*ã™ã¹ã¦ã®ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã¯ `memtier_benchmark` (ä¸‹è¨˜å‚ç…§) ã‚’ä½¿ã„ã€ã‚¹ãƒ¬ãƒƒãƒ‰æ•°ã¯ã‚µãƒ¼ãƒãƒ¼ã¨ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚¿ã‚¤ãƒ—ã”ã¨ã«èª¿æ•´ã—ã¾ã—ãŸã€‚`memtier` ã¯åˆ¥ã® c6gn.16xlarge ãƒã‚·ãƒ³ã§å®Ÿè¡Œã—ãŸã€‚SETEX ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã®æœ‰åŠ¹æœŸé™ã¯ 500 ã«è¨­å®šã—ã€ãƒ†ã‚¹ãƒˆãŒçµ‚äº†ã—ã¦ã‚‚æœ‰åŠ¹ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã—ãŸã€‚*\n\n```bash\n  memtier_benchmark --ratio ... -t <threads> -c 30 -n 200000 --distinct-client-seed -d 256 \\\n     --expiry-range=...\n```\n\nãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ãƒ¢ãƒ¼ãƒ‰ `--pipeline=30` ã§ã¯ã€Dragonfly ã¯ SET æ“ä½œã§ **10M QPS**ã€GET æ“ä½œã§ **15M QPS** ã«é”ã™ã‚‹ã€‚\n\n### Dragonfly vs. Memcached\n\nAWS ä¸Šã® c6gn.16xlarge ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã§ Dragonfly ã¨ Memcached ã‚’æ¯”è¼ƒã—ãŸã€‚\n\nåŒç¨‹åº¦ã®ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ã§ã€Dragonfly ã®ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆã¯ Memcached ã®ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆã‚’æ›¸ãè¾¼ã¿ã¨èª­ã¿è¾¼ã¿ã®ä¸¡æ–¹ã®ãƒ¯ãƒ¼ã‚¯ãƒ­ãƒ¼ãƒ‰ã§ä¸Šå›ã£ãŸã€‚Dragonfly ã¯ã€[Memcached ã®æ›¸ãè¾¼ã¿ãƒ‘ã‚¹](docs/memcached_benchmark.md)ã§ã®ç«¶åˆã«ã‚ˆã‚Šã€æ›¸ãè¾¼ã¿ãƒ¯ãƒ¼ã‚¯ãƒ­ãƒ¼ãƒ‰ã§ã‚ˆã‚Šå„ªã‚ŒãŸãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ã‚’ç¤ºã—ã¾ã—ãŸã€‚\n\n#### SET ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯\n\n| Server    | QPS(thousands qps) | latency 99% | 99.9%   |\n|:---------:|:------------------:|:-----------:|:-------:|\n| Dragonfly |  ğŸŸ© 3844           |ğŸŸ© 0.9ms     | ğŸŸ© 2.4ms |\n| Memcached |   806              |   1.6ms     | 3.2ms    |\n\n#### GET ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯\n\n| Server    | QPS(thousands qps) | latency 99% | 99.9%   |\n|-----------|:------------------:|:-----------:|:-------:|\n| Dragonfly | ğŸŸ© 3717            |   1ms       | 2.4ms   |\n| Memcached |   2100             |  ğŸŸ© 0.34ms  | ğŸŸ© 0.6ms |\n\n\nMemcached ã¯èª­ã¿å–ã‚Šãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã§ã‚ˆã‚Šä½ã„ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ã‚’ç¤ºã—ãŸãŒã€ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆã‚‚ä½ã‹ã£ãŸã€‚\n\n### ãƒ¡ãƒ¢ãƒªåŠ¹ç‡\n\nãƒ¡ãƒ¢ãƒªåŠ¹ç‡ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ãŸã‚ã«ã€`debug populate 5000000 key 1024` ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¦ Dragonfly ã¨ Redis ã« ~5GB ã®ãƒ‡ãƒ¼ã‚¿ã‚’å…¥ã‚Œã€`memtier` ã‚³ãƒãƒ³ãƒ‰ã§æ›´æ–°ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚’é€ä¿¡ã—ã€`bgsave` ã‚³ãƒãƒ³ãƒ‰ã§ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã‚’é–‹å§‹ã—ã¾ã—ãŸã€‚\n\nã“ã®å›³ã¯ã€å„ã‚µãƒ¼ãƒãŒãƒ¡ãƒ¢ãƒªåŠ¹ç‡ã®é¢ã§ã©ã®ã‚ˆã†ãªæŒ™å‹•ã‚’ç¤ºã—ãŸã‹ã‚’ç¤ºã—ã¦ã„ã‚‹ã€‚\n\n<img src=\"http://static.dragonflydb.io/repo-assets/bgsave-memusage.svg\" width=\"70%\" border=\"0\"/>\n\nDragonfly ã¯ã‚¢ã‚¤ãƒ‰ãƒ«çŠ¶æ…‹ã§ã¯ Redis ã‚ˆã‚Šã‚‚ 30% ãƒ¡ãƒ¢ãƒªåŠ¹ç‡ãŒé«˜ãã€ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆãƒ•ã‚§ãƒ¼ã‚ºã§ã¯ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã®ç›®ã«è¦‹ãˆã‚‹å¢—åŠ ã¯è¦‹ã‚‰ã‚Œãªã‹ã£ãŸã€‚ãƒ”ãƒ¼ã‚¯æ™‚ã«ã¯ Redis ã®ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã¯ Dragonfly ã® 3 å€è¿‘ãã¾ã§å¢—åŠ ã—ã¾ã—ãŸã€‚\n\nDragonfly ã¯ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã‚’ã‚ˆã‚Šæ—©ãã€æ•°ç§’ä»¥å†…ã«çµ‚äº†ã•ã›ã¾ã—ãŸã€‚\n\nDragonfly ã®ãƒ¡ãƒ¢ãƒªåŠ¹ç‡ã®è©³ç´°ã«ã¤ã„ã¦ã¯ã€[Dashtable ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](/docs/dashtable.md)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\n\n\n\n## <a name=\"ã‚³ãƒ³ãƒ•ã‚£ã‚°\"><a/>ã‚³ãƒ³ãƒ•ã‚£ã‚°\n\nDragonfly ã¯ä¸€èˆ¬çš„ãª Redis ã®å¼•æ•°ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚ä¾‹ãˆã° `dragonfly --requirepass=foo --bind localhost`ã€‚\n\nDragonfly ã¯ç¾åœ¨ã€ä»¥ä¸‹ã® Redis å›ºæœ‰ã®å¼•æ•°ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™:\n * `port`ï¼š Redis æ¥ç¶šãƒãƒ¼ãƒˆ (`default: 6379`).\n * `bind`ï¼š ãƒ­ãƒ¼ã‚«ãƒ«ãƒ›ã‚¹ãƒˆã‹ã‚‰ã®æ¥ç¶šã®ã¿ã‚’è¨±å¯ã™ã‚‹å ´åˆã¯ `localhost` ã‚’ã€**ãã® IP** ã‚¢ãƒ‰ãƒ¬ã‚¹ã¸ã®æ¥ç¶š (ã¤ã¾ã‚Šå¤–éƒ¨ã‹ã‚‰ã®æ¥ç¶š) ã‚’è¨±å¯ã™ã‚‹å ´åˆã¯ãƒ‘ãƒ–ãƒªãƒƒã‚¯ IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’æŒ‡å®šã™ã‚‹ã€‚\n * `requirepass`ï¼š AUTH èªè¨¼ç”¨ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ (`default: \"\"`)ã€‚\n * `maxmemory`ï¼š ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãŒä½¿ç”¨ã™ã‚‹ãƒ¡ãƒ¢ãƒªã®ä¸Šé™ (äººé–“ãŒèª­ã‚ã‚‹ãƒã‚¤ãƒˆæ•°) (`default: 0`)ã€‚ `maxmemory` ã« `0` ã‚’æŒ‡å®šã™ã‚‹ã¨ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒ ãŒè‡ªå‹•çš„ã«æœ€å¤§ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã‚’æ±ºå®šã™ã‚‹ã€‚\n * `dir`ï¼š Dragonfly Docker ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ `/data` ãƒ•ã‚©ãƒ«ãƒ€ã‚’ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã«ä½¿ç”¨ã—ã€CLI ã¯ `\"\"` ã‚’ä½¿ç”¨ã™ã‚‹ã€‚`v` ã® Docker ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ãƒ›ã‚¹ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã«ãƒãƒƒãƒ”ãƒ³ã‚°ã§ãã‚‹ã€‚\n * `dbfilename`ï¼š ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ä¿å­˜ãƒ»ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«å (`default: dump`).\n\nDragonfly ç‰¹æœ‰ã®è­°è«–ã‚‚ã‚ã‚‹:\n * `memcached_port`: Memcached äº’æ› API ã‚’æœ‰åŠ¹ã«ã™ã‚‹ãƒãƒ¼ãƒˆ (`default: disabled`)ã€‚\n * `keys_output_limit`: `keys` ã‚³ãƒãƒ³ãƒ‰ã§è¿”ã•ã‚Œã‚‹ã‚­ãƒ¼ã®æœ€å¤§æ•°ï¼ˆ`default: 8192`ï¼‰ã€‚`keys` ã¯å±é™ºãªã‚³ãƒãƒ³ãƒ‰ã§ã‚ã‚‹ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚ã‚ã¾ã‚Šã«å¤šãã®ã‚­ãƒ¼ã‚’å–å¾—ã™ã‚‹ã¨ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ãŒå¢—å¤§ã™ã‚‹ãŸã‚ã€çµæœã‚’åˆ‡ã‚Šæ¨ã¦ã¦ã„ã¾ã™ã€‚\n * `dbnum`: `select` ã§ã‚µãƒãƒ¼ãƒˆã•ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®æœ€å¤§æ•°ã€‚\n * `cache_mode`: ä»¥ä¸‹ã®[æ–¬æ–°ãªã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ‡ã‚¶ã‚¤ãƒ³](#æ–¬æ–°ãªã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ‡ã‚¶ã‚¤ãƒ³)ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\n * `hz`: ã‚­ãƒ¼ã®æœ‰åŠ¹æœŸé™è©•ä¾¡é »åº¦ (`default: 100`)ã€‚ã“ã®é »åº¦ãŒä½ã„ã¨ã€ã‚¢ã‚¤ãƒ‰ãƒ«æ™‚ã® CPU ä½¿ç”¨é‡ãŒå°‘ãªããªã‚‹ãŒã€ãã®åˆ†å¤ããªã£ãŸã‚­ãƒ¼ã‚’ã‚¯ãƒªã‚¢ã™ã‚‹é€Ÿåº¦ãŒé…ããªã‚‹ã€‚\n * `primary_port_http_enabled`: ã‚‚ã— `true` (`default: true`) ãªã‚‰ã€ãƒ¡ã‚¤ãƒ³ TCP ãƒãƒ¼ãƒˆã§ HTTP ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚\n * `admin_port`: å‰²ã‚Šå½“ã¦ã‚‰ã‚ŒãŸãƒãƒ¼ãƒˆã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã¸ã®ç®¡ç†è€…ã‚¢ã‚¯ã‚»ã‚¹ã‚’æœ‰åŠ¹ã«ã™ã‚‹(`default: disabled`)ã€‚HTTP ã¨ RESP ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã®ä¸¡æ–¹ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ã€‚\n * `admin_bind`: ç®¡ç†ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã® TCP æ¥ç¶šã‚’æŒ‡å®šã•ã‚ŒãŸã‚¢ãƒ‰ãƒ¬ã‚¹ã«ãƒã‚¤ãƒ³ãƒ‰ã™ã‚‹(`default: any`)ã€‚HTTP ã¨ RESP ã®ä¸¡æ–¹ã®ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ã€‚\n * `admin_nopass`: å‰²ã‚Šå½“ã¦ã‚‰ã‚ŒãŸãƒãƒ¼ãƒˆã§ã€èªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³ãªã—ã§ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã¸ã®ã‚ªãƒ¼ãƒ—ãƒ³ç®¡ç†ã‚¢ã‚¯ã‚»ã‚¹ã‚’æœ‰åŠ¹ã«ã™ã‚‹ (`default: false`)ã€‚HTTP ã¨ RESP ã®ä¸¡æ–¹ã®ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ã€‚\n * `cluster_mode`: ã‚µãƒãƒ¼ãƒˆã™ã‚‹ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ãƒ¢ãƒ¼ãƒ‰ (`default: \"\"`)ã€‚ç¾åœ¨ã¯ `emulated` ã®ã¿ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã‚‹ã€‚\n * `cluster_announce_ip`: ã‚¯ãƒ©ã‚¹ã‚¿ã‚³ãƒãƒ³ãƒ‰ãŒã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«ã‚¢ãƒŠã‚¦ãƒ³ã‚¹ã™ã‚‹ IPã€‚\n\n### ä¸€èˆ¬çš„ãªã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã—ãŸé–‹å§‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ä¾‹:\n\n```bash\n./dragonfly-x86_64 --logtostderr --requirepass=youshallnotpass --cache_mode=true -dbnum 1 --bind localhost --port 6379  --maxmemory=12gb --keys_output_limit=12288 --dbfilename dump.rdb\n```\n\nã¾ãŸã€`dragonfly --flagfile <filename>` ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã§ã€è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰å¼•æ•°ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã‚‚ã§ãã‚‹ã€‚ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¯ 1 è¡Œã« 1 ã¤ã®ãƒ•ãƒ©ã‚°ã‚’è¨˜è¿°ã—ã€ã‚­ãƒ¼ã¨å€¤ã®ãƒ•ãƒ©ã‚°ã«ã¯ç©ºç™½ã®ä»£ã‚ã‚Šã«ç­‰å·ã‚’è¨˜è¿°ã—ã¾ã™ã€‚\n\nãƒ­ã‚°ã®ç®¡ç†ã‚„ TLS ã®ã‚µãƒãƒ¼ãƒˆãªã©ã€ãã®ä»–ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«ã¤ã„ã¦ã¯ `dragonfly --help` ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚\n\n## <a name=\"ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ã¨ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹\"><a/>ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ã¨ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹\n\nDragonfly ã¯ç¾åœ¨ã€~185 å€‹ã® Redis ã‚³ãƒãƒ³ãƒ‰ã¨ã€`cas` ä»¥å¤–ã®ã™ã¹ã¦ã® Memcached ã‚³ãƒãƒ³ãƒ‰ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã‚‹ã€‚ã»ã¼ Redis 5 API ã¨åŒç­‰ã§ã™ãŒã€Dragonfly ã®æ¬¡ã®ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã¯åŸºæœ¬çš„ãªæ©Ÿèƒ½ã‚’å®‰å®šã•ã›ã€ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ API ã‚’å®Ÿè£…ã™ã‚‹ã“ã¨ã§ã™ã€‚ã¾ã å®Ÿè£…ã•ã‚Œã¦ã„ãªã„ã‚³ãƒãƒ³ãƒ‰ã§å¿…è¦ãªã‚‚ã®ãŒã‚ã‚Œã°ã€issue ã‚’é–‹ã„ã¦ãã ã•ã„ã€‚\n\nDragonfly ãƒã‚¤ãƒ†ã‚£ãƒ–ã®ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ã¤ã„ã¦ã¯ã€æ¡é•ã„ã«é«˜é€Ÿãªåˆ†æ•£ãƒ­ã‚°ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’è¨­è¨ˆä¸­ã§ã™ã€‚\n\nãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ã«ç¶šã„ã¦ã€Redis ãƒãƒ¼ã‚¸ãƒ§ãƒ³ 3-6 ã® API ã«ä¸è¶³ã—ã¦ã„ã‚‹ã‚³ãƒãƒ³ãƒ‰ã‚’è¿½åŠ ã—ã¦ã„ãäºˆå®šã§ã™ã€‚\n\nç¾åœ¨ Dragonfly ãŒã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã‚‹ã‚³ãƒãƒ³ãƒ‰ã«ã¤ã„ã¦ã¯ã€[ã‚³ãƒãƒ³ãƒ‰ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹](https://dragonflydb.io/docs/category/command-reference)ã‚’ã”è¦§ãã ã•ã„ã€‚\n\n## <a name=\"ãƒ‡ã‚¶ã‚¤ãƒ³æ±ºå®š\"><a/> ãƒ‡ã‚¶ã‚¤ãƒ³æ±ºå®š\n\n### æ–¬æ–°ãªã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ‡ã‚¶ã‚¤ãƒ³\n\nDragonfly ã«ã¯ã€ã‚·ãƒ³ãƒ—ãƒ«ã§ãƒ¡ãƒ¢ãƒªåŠ¹ç‡ã®è‰¯ã„ã€å˜ä¸€ã®çµ±ä¸€ã•ã‚ŒãŸé©å¿œå‹ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ãŒã‚ã‚Šã¾ã™ã€‚\n\n`cache_mode=true` ãƒ•ãƒ©ã‚°ã‚’æ¸¡ã™ã“ã¨ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ¢ãƒ¼ãƒ‰ã‚’æœ‰åŠ¹ã«ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã®ãƒ¢ãƒ¼ãƒ‰ã‚’ã‚ªãƒ³ã«ã™ã‚‹ã¨ã€Dragonfly ã¯å°†æ¥ã¤ã¾ãšãå¯èƒ½æ€§ãŒæœ€ã‚‚ä½ã„ã‚¢ã‚¤ãƒ†ãƒ ã‚’é€€é¿ã•ã›ã¾ã™ãŒã€`maxmemory` ã®é™ç•Œã«è¿‘ã¥ã„ãŸã¨ãã®ã¿é€€é¿ã•ã›ã¾ã™ã€‚\n\n### æ¯”è¼ƒçš„æ­£ç¢ºãªæœ‰åŠ¹æœŸé™\n\næœ‰åŠ¹æœŸé™ã¯ 8 å¹´ä»¥å†…ã€‚\n\nãƒŸãƒªç§’ç²¾åº¦ã®æœ‰åŠ¹æœŸé™ï¼ˆPEXPIREã€PSETEX ãªã©ï¼‰ã¯ã€**2^28ms** ã‚’è¶…ãˆã‚‹æœŸé™ã«ã¤ã„ã¦ã¯ã€æœ€ã‚‚è¿‘ã„ç§’ã«ä¸¸ã‚ã‚‰ã‚Œã¾ã™ã€‚ã“ã®èª¤å·®ã¯ 0.001% ä»¥ä¸‹ã§ã‚ã‚Šã€å¤§ããªç¯„å›²ã§ã‚ã‚Œã°è¨±å®¹ç¯„å›²ã¨ãªã‚Šã¾ã™ã€‚\n\nDragonfly ã®æœŸé™ã¨ Redis ã®å®Ÿè£…ã®è©³ç´°ãªé•ã„ã«ã¤ã„ã¦ã¯ã€[ã“ã¡ã‚‰](docs/differences.md)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\n\n### ãƒã‚¤ãƒ†ã‚£ãƒ– HTTP ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã¨ Prometheus äº’æ›ãƒ¡ãƒˆãƒªã‚¯ã‚¹\n\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€Dragonfly ã¯ãƒ¡ã‚¤ãƒ³ TCP ãƒãƒ¼ãƒˆ(6379)çµŒç”±ã§ã® HTTP ã‚¢ã‚¯ã‚»ã‚¹ã‚’è¨±å¯ã—ã¦ã„ã¾ã™ã€‚ãã®é€šã‚Šã€Redis ãƒ—ãƒ­ãƒˆã‚³ãƒ«çµŒç”±ã§ã‚‚ HTTP ãƒ—ãƒ­ãƒˆã‚³ãƒ«çµŒç”±ã§ã‚‚ Dragonfly ã«æ¥ç¶šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ãƒ–ãƒ©ã‚¦ã‚¶ã§è©¦ã—ã¦ã¿ã¦ãã ã•ã„ã€‚HTTP ã‚¢ã‚¯ã‚»ã‚¹ã«ã¯ç¾åœ¨ã‚ã¾ã‚Šæƒ…å ±ãŒã‚ã‚Šã¾ã›ã‚“ãŒã€å°†æ¥çš„ã«ã¯ãƒ‡ãƒãƒƒã‚°ã‚„ç®¡ç†ã«å½¹ç«‹ã¤æƒ…å ±ãŒå«ã¾ã‚Œã‚‹ã‚ˆã†ã«ãªã‚‹äºˆå®šã§ã™ã€‚\n\nPrometheus äº’æ›ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’è¦‹ã‚‹ã«ã¯ã€URL `:6379/metrics` ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ãã ã•ã„ã€‚\n\nPrometheus ã‹ã‚‰ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã•ã‚ŒãŸãƒ¡ãƒˆãƒªã‚¯ã‚¹ã¯ Grafana ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã¨äº’æ›æ€§ãŒã‚ã‚Šã¾ã™[ã“ã¡ã‚‰ã‚’å‚ç…§](tools/local/monitoring/grafana/provisioning/dashboards/dashboard.json)ã€‚\n\n\né‡è¦ã§ã™ï¼HTTP ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã¯å®‰å…¨ãªãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å†…ã§ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ã‚’æƒ³å®šã—ã¦ã„ã¾ã™ã€‚Dragonfly ã® TCP ãƒãƒ¼ãƒˆã‚’å¤–éƒ¨ã«å…¬é–‹ã™ã‚‹å ´åˆã¯ã€`--http_admin_console=false` ã¾ãŸã¯ `--nohttp_admin_console` ã§ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚’ç„¡åŠ¹ã«ã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚\n\n\n## <a name=\"ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰\"><a/>ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰\n\nDragonfly ã¯ã€ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ã‚’ 2022 å¹´ã«è¨­è¨ˆã—ãŸã‚‰ã©ã®ã‚ˆã†ã«ãªã‚‹ã‹ã¨ã„ã†å®Ÿé¨“ã‹ã‚‰å§‹ã¾ã‚Šã¾ã—ãŸã€‚ãƒ¡ãƒ¢ãƒªã‚¹ãƒˆã‚¢ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ã—ã¦ã€ã¾ãŸã‚¯ãƒ©ã‚¦ãƒ‰ä¼æ¥­ã§åƒã„ãŸã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã¨ã—ã¦ã®çµŒé¨“ã‹ã‚‰å­¦ã‚“ã æ•™è¨“ã‚’ã‚‚ã¨ã«ã€Dragonfly ã§ã¯ 2 ã¤ã®é‡è¦ãªç‰¹æ€§ã‚’ç¶­æŒã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã¨è€ƒãˆã¾ã—ãŸ: ãã‚Œã¯ã€ã™ã¹ã¦ã®ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã«ãŠã‘ã‚‹åŸå­æ€§ã®ä¿è¨¼ã¨ã€éå¸¸ã«é«˜ã„ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆã«ãŠã‘ã‚‹ãƒŸãƒªç§’ä»¥ä¸‹ã®ä½ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ãƒ¼ã§ã™ã€‚\n\nç§ãŸã¡ã®æœ€åˆã®èª²é¡Œã¯ã€ãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚¯ãƒ©ã‚¦ãƒ‰ã§ç¾åœ¨åˆ©ç”¨å¯èƒ½ãªã‚µãƒ¼ãƒãƒ¼ã‚’ä½¿ç”¨ã—ã¦ã€CPUã€ãƒ¡ãƒ¢ãƒªãƒ¼ã€I/O ãƒªã‚½ãƒ¼ã‚¹ã‚’ãƒ•ãƒ«ã«æ´»ç”¨ã™ã‚‹æ–¹æ³•ã§ã—ãŸã€‚ã“ã‚Œã‚’è§£æ±ºã™ã‚‹ãŸã‚ã«ã€ç§ãŸã¡ã¯[ã‚·ã‚§ã‚¢ãƒ¼ãƒ‰ãƒŠãƒƒã‚·ãƒ³ã‚°ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](https://en.wikipedia.org/wiki/Shared-nothing_architecture)ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚ã“ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã§ã¯ã€å„ã‚¹ãƒ¬ãƒƒãƒ‰ãŒè¾æ›¸ãƒ‡ãƒ¼ã‚¿ã®ã‚¹ãƒ©ã‚¤ã‚¹ã‚’ç‹¬è‡ªã«ç®¡ç†ã§ãã‚‹ã‚ˆã†ã«ã€ã‚¹ãƒ¬ãƒƒãƒ‰é–“ã§ãƒ¡ãƒ¢ãƒªã‚¹ãƒˆã‚¢ã®éµç©ºé–“ã‚’åˆ†å‰²ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã‚Œã‚‰ã®ã‚¹ãƒ©ã‚¤ã‚¹ã‚’ \"shards\" ã¨å‘¼ã¶ã€‚ã‚·ã‚§ã‚¢ãƒ¼ãƒ‰ãƒŠãƒƒã‚·ãƒ³ã‚°ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®ã‚¹ãƒ¬ãƒƒãƒ‰ã¨ I/O ç®¡ç†ã®ãŸã‚ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ã€[ã“ã¡ã‚‰](https://github.com/romange/helio)ã§ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã§æä¾›ã•ã‚Œã¦ã„ã¾ã™ã€‚\n\nè¤‡æ•°ã‚­ãƒ¼æ“ä½œã«å¯¾ã™ã‚‹åŸå­æ€§ä¿è¨¼ã‚’æä¾›ã™ã‚‹ãŸã‚ã«ã€æˆ‘ã€…ã¯æœ€è¿‘ã®å­¦è¡“ç ”ç©¶ã®é€²æ­©ã‚’åˆ©ç”¨ã—ã¦ã„ã‚‹ã€‚Dragonfly ã®ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®é–‹ç™ºã«ã¯ã€è«–æ–‡ [\"VLL: a lock manager redesign for main memory database systems\"](https://www.cs.umd.edu/~abadi/papers/vldbj-vll.pdf) ã‚’é¸ã³ã¾ã—ãŸã€‚ã‚·ã‚§ã‚¢ãƒ¼ãƒ‰ãƒŠãƒƒã‚·ãƒ³ã‚°ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¨ VLL ã®é¸æŠã«ã‚ˆã‚Šã€ãƒŸãƒ¥ãƒ¼ãƒ†ãƒƒã‚¯ã‚¹ã‚„ã‚¹ãƒ”ãƒ³ãƒ­ãƒƒã‚¯ã‚’ä½¿ç”¨ã›ãšã«ã‚¢ãƒˆãƒŸãƒƒã‚¯ãªãƒãƒ«ãƒã‚­ãƒ¼æ“ä½œã‚’æ§‹æˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚ã“ã‚Œã¯æˆ‘ã€…ã® PoC ã«ã¨ã£ã¦å¤§ããªãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã§ã‚ã‚Šã€ãã®æ€§èƒ½ã¯ä»–ã®å•†ç”¨ã‚„ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã®ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚ˆã‚Šã‚‚éš›ç«‹ã£ã¦ã„ã¾ã—ãŸã€‚\n\nç§ãŸã¡ã®ç¬¬äºŒã®èª²é¡Œã¯ã€æ–°ã—ã„ã‚¹ãƒˆã‚¢ã®ãŸã‚ã«ã€ã‚ˆã‚ŠåŠ¹ç‡çš„ãªãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’è¨­è¨ˆã™ã‚‹ã“ã¨ã ã£ãŸã€‚ã“ã®ç›®æ¨™ã‚’é”æˆã™ã‚‹ãŸã‚ã«ã€æˆ‘ã€…ã¯è«–æ–‡ [\"Dash: Scalable Hashing on Persistent Memory\"](https://arxiv.org/pdf/2003.07302.pdf) ã«åŸºã¥ã„ãŸãƒãƒƒã‚·ãƒ¥ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹é€ ã‚’æ ¸ã¨ã—ãŸã€‚ã“ã®è«–æ–‡è‡ªä½“ã¯ã€æ°¸ç¶šãƒ¡ãƒ¢ãƒªé ˜åŸŸã‚’ä¸­å¿ƒã«ã—ã¦ãŠã‚Šã€ãƒ¡ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªã‚¹ãƒˆã‚¢ã¨ã¯ç›´æ¥é–¢ä¿‚ã‚ã‚Šã¾ã›ã‚“ãŒã€ãã‚Œã§ã‚‚ç§ãŸã¡ã®å•é¡Œã«æœ€ã‚‚å½“ã¦ã¯ã¾ã‚Šã¾ã™ã€‚ã“ã®è«–æ–‡ã§ææ¡ˆã•ã‚Œã¦ã„ã‚‹ãƒãƒƒã‚·ãƒ¥ãƒ†ãƒ¼ãƒ–ãƒ«è¨­è¨ˆã«ã‚ˆã‚Šã€Redis ã®è¾æ›¸ã«å­˜åœ¨ã™ã‚‹ 2 ã¤ã®ç‰¹åˆ¥ãªç‰¹æ€§ã‚’ç¶­æŒã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸ: ãã‚Œã¯ã€ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ã®æˆé•·ä¸­ã«ãƒãƒƒã‚·ãƒ¥ã‚’ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ã‚¿ãƒ«ã™ã‚‹æ©Ÿèƒ½ã¨ã€ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¬ã‚¹ã‚¹ã‚­ãƒ£ãƒ³æ“ä½œã‚’ä½¿ã£ã¦å¤‰æ›´ä¸­ã®è¾æ›¸ã‚’ãƒˆãƒ©ãƒãƒ¼ã‚¹ã™ã‚‹æ©Ÿèƒ½ã§ã™ã€‚ã“ã‚Œã‚‰2ã¤ã®ç‰¹æ€§ã«åŠ ãˆã€Dash ã¯ CPU ã¨ãƒ¡ãƒ¢ãƒªã®ä½¿ç”¨åŠ¹ç‡ãŒé«˜ã„ã€‚Dash ã®è¨­è¨ˆã‚’æ´»ç”¨ã™ã‚‹ã“ã¨ã§ã€ç§ãŸã¡ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªæ©Ÿèƒ½ã‚’ã•ã‚‰ã«é©æ–°ã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸ:\n * TTL ãƒ¬ã‚³ãƒ¼ãƒ‰ã®åŠ¹ç‡çš„ãªãƒ¬ã‚³ãƒ¼ãƒ‰æœŸé™åˆ‡ã‚Œã€‚\n * LRU ã‚„ LFU ã®ã‚ˆã†ãªä»–ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ã‚ˆã‚Šã‚‚é«˜ã„ãƒ’ãƒƒãƒˆç‡ã‚’ã€**ã‚¼ãƒ­ãƒ¡ãƒ¢ãƒªã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰** ã§é”æˆã™ã‚‹æ–°ã—ã„ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¨ãƒ“ã‚¯ã‚·ãƒ§ãƒ³ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã€‚\n * æ–°ã—ã„ **ãƒ•ã‚©ãƒ¼ã‚¯ãƒ¬ã‚¹** ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã€‚\n\nDragonfly ã®åŸºç›¤ã‚’æ§‹ç¯‰ã—ã€[ãã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«æº€è¶³ã—ãŸã‚‰](#ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯)ã€Redis ã¨ Memcached ã®æ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã¦ã„ãã¾ã—ãŸã€‚ç¾åœ¨ã¾ã§ã« 185 å€‹ã® Redis ã‚³ãƒãƒ³ãƒ‰ï¼ˆRedis 5.0 API ã¨ã»ã¼åŒç­‰ï¼‰ã¨ 13 å€‹ã® Memcached ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè£…ã—ã¾ã—ãŸã€‚\n\nãã—ã¦æœ€å¾Œã«ã€<br>\n<em>ç§ãŸã¡ã®ä½¿å‘½ã¯ã€æœ€æ–°ã®ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã®é€²æ­©ã‚’æ´»ç”¨ã—ãŸã€ã‚¯ãƒ©ã‚¦ãƒ‰ãƒ¯ãƒ¼ã‚¯ãƒ­ãƒ¼ãƒ‰å‘ã‘ã®ã€å„ªã‚ŒãŸè¨­è¨ˆã€è¶…é«˜é€Ÿã€ã‚³ã‚¹ãƒˆåŠ¹ç‡ã®è‰¯ã„ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ã‚’æ§‹ç¯‰ã™ã‚‹ã“ã¨ã§ã™ã€‚ç¾åœ¨ã®ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã® API ã¨ææ¡ˆã‚’ç¶­æŒã—ãªãŒã‚‰ã€ãã®å•é¡Œç‚¹ã‚’è§£æ±ºã™ã‚‹ã¤ã‚‚ã‚Šã§ã™ã€‚\n</em>\n"
        },
        {
          "name": "README.ko-KR.md",
          "type": "blob",
          "size": 15.7,
          "content": "<p align=\"center\">\n  <a href=\"https://dragonflydb.io\">\n    <img  src=\"/.github/images/logo-full.svg\"\n      width=\"284\" border=\"0\" alt=\"Dragonfly\">\n  </a>\n</p>\n\n[![ci-tests](https://github.com/dragonflydb/dragonfly/actions/workflows/ci.yml/badge.svg)](https://github.com/dragonflydb/dragonfly/actions/workflows/ci.yml) [![Twitter URL](https://img.shields.io/twitter/follow/dragonflydbio?style=social)](https://twitter.com/dragonflydbio)\n\në‹¤ë¥¸ ì–¸ì–´ ë²ˆì—­ë³¸:  [English](README.zh-CN.md) [ç®€ä½“ä¸­æ–‡](README.zh-CN.md) [æ—¥æœ¬èª](README.ja-JP.md)\n\n[Website](https://www.dragonflydb.io/) â€¢ [Docs](https://dragonflydb.io/docs) â€¢ [Quick Start](https://www.dragonflydb.io/docs/getting-started) â€¢ [Community Discord](https://discord.gg/HsPjXGVH85) â€¢ [Dragonfly Forum](https://dragonfly.discourse.group/) â€¢ [Join the Dragonfly Community](https://www.dragonflydb.io/community)\n\n[GitHub Discussions](https://github.com/dragonflydb/dragonfly/discussions) â€¢ [GitHub Issues](https://github.com/dragonflydb/dragonfly/issues) â€¢ [Contributing](https://github.com/dragonflydb/dragonfly/blob/main/CONTRIBUTING.md) â€¢ [Dragonfly Cloud](https://www.dragonflydb.io/cloud)\n\n## ì„¸ìƒì—ì„œ ê°€ì¥ ë¹ ë¥¸ ì¸-ë©”ëª¨ë¦¬ ìŠ¤í† ì–´\n\nDragonflyëŠ” í˜„ëŒ€ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‘ì—…ì„ ìœ„í•œ ì¸-ë©”ëª¨ë¦¬ ë°ì´í„°ìŠ¤í† ì–´ì…ë‹ˆë‹¤.\n\nDragonflyëŠ” Redisì™€ Memcached APIì™€ ì™„ë²½í•˜ê²Œ í˜¸í™˜ë˜ë©°, ì´ë¥¼ ì ìš©í•˜ê¸° ìœ„í•œ ì½”ë“œ ë³€ê²½ì„ í•„ìš”ë¡œ í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. DragonflyëŠ” ê¸°ì¡´ ë ˆê±°ì‹œ ì¸-ë©”ëª¨ë¦¬ ë°ì´í„°ìŠ¤í† ì–´ì™€ ë¹„êµí•˜ì—¬ 25ë°° ì´ìƒì˜ ë†’ì€ ì²˜ë¦¬ëŸ‰ê³¼ ìºì‹œ íˆíŠ¸ìœ¨, ë‚®ì€ ê¼¬ë¦¬ ì§€ì—°ì‹œê°„ì„ ê°–ê³ ìˆìœ¼ë©° ê°„í¸í•œ ìˆ˜ì§ í™•ì¥ì„±ì„ ì§€ë‹ˆê³  ìˆìŠµë‹ˆë‹¤.\n\n## ì½˜í…ì¸ \n\n- [ë²¤ì¹˜ë§ˆí¬](#benchmarks)\n- [ë¹ ë¥¸ ì‹œì‘](https://github.com/dragonflydb/dragonfly/tree/main/docs/quick-start)\n- [ì„¤ì •](#configuration)\n- [ë¡œë“œë§µê³¼ ìƒíƒœ](#roadmap-status)\n- [ì„¤ê³„ ì˜ì‚¬ê²°ì •](#design-decisions)\n- [ê°œë°œ ë°°ê²½](#background)\n\n## <a name=\"benchmarks\"><a/>ë²¤ì¹˜ë§ˆí¬\n\n<img src=\"http://static.dragonflydb.io/repo-assets/aws-throughput.svg\" width=\"80%\" border=\"0\"/>\n\në²¤ì¹˜ë§ˆí¬ì— ë”°ë¥´ë©´, DragonflyëŠ” ë ˆë””ìŠ¤ì™€ ë¹„êµí•˜ì—¬ ì²˜ë¦¬ëŸ‰ì´ 25ë°°ì´ìƒ ì¦ê°€í•˜ì˜€ê³ , c6gn.16xlarge ì¸ìŠ¤í„´ìŠ¤ì—ì„œ 3.8M QPSë¥¼ ëŒíŒŒí•˜ì˜€ìŒì„ ë³´ì—¬ì¤ë‹ˆë‹¤.\n\nDragonflyì˜ í”¼í¬ ì²˜ë¦¬ëŸ‰ì—ì„œì˜ 99í¼ì„¼íŠ¸ ì§€ì—° ì‹œê°„ ì§€í‘œ:\n\n| op    | r6g   | c6gn  | c7g   |\n|-------|-------|-------|-------|\n| set   | 0.8ms | 1ms   | 1ms   |\n| get   | 0.9ms | 0.9ms | 0.8ms |\n| setex | 0.9ms | 1.1ms | 1.3ms |\n\n*ëª¨ë“  ë²¤ì¹˜ë§ˆí¬ëŠ” ì„œë²„ ë° ì¸ìŠ¤í„´ìŠ¤ ìœ í˜•ë³„ë¡œ ì¡°ì •ëœ ìŠ¤ë ˆë“œ ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ `memtier_benchmark`(ì•„ë˜ë¥¼ ì°¸ê³ ) ìˆ˜í–‰ë˜ì—ˆìŠµë‹ˆë‹¤. `memtier`ëŠ” ë³„ë„ì˜ c6gn.16xlarge ë¨¸ì‹ ì—ì„œ ì‹¤í–‰ë˜ì—ˆìŠµë‹ˆë‹¤. ì €í¬ëŠ” í…ŒìŠ¤íŠ¸ ì¢…ë£Œ ì´í›„ì—ë„ ìœ íš¨í•˜ê²Œ ìœ ì§€ë˜ë„ë¡ ë³´ì¥í•˜ê¸° ìœ„í•´ SETEX ë²¤ì¹˜ë§ˆí¬ì˜ ë§Œë£Œ ì‹œê°„ì„ 500ìœ¼ë¡œ ì„¤ì •í•˜ì˜€ìŠµë‹ˆë‹¤.*\n\n```bash\n  memtier_benchmark --ratio ... -t <threads> -c 30 -n 200000 --distinct-client-seed -d 256 \\\n     --expiry-range=...\n```\n\níŒŒì´í”„ë¼ì¸ ëª¨ë“œì—ì„œ `--pipeline=30`ì€ Dragonflyê°€ SET ì—°ì‚°ìœ¼ë¡œ **10M QPS**, GET ì—°ì‚°ìœ¼ë¡œ **15M QPS**ì— ë„ë‹¬í•  ìˆ˜ ìˆìŒì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.\n\n### Dragonfly vs. Memcached\n\nì €í¬ëŠ” AWSì˜ c6gn.16xlarge ì¸ìŠ¤í„´ìŠ¤ì—ì„œ Dragonflyì™€ Memcachedë¥¼ ë¹„êµí•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í–ˆìŠµë‹ˆë‹¤.\n\në¹„ìŠ·í•œ ì§€ì—°ì‹œê°„ì„ ê°€ì§„ ìƒí™©ì—ì„œ, Dragonflyì˜ ì²˜ë¦¬ëŸ‰ì€ ì“°ê¸° ë° ì½ê¸° ì‘ì—… ëª¨ë‘ì—ì„œ Memcachedë³´ë‹¤ ì„±ëŠ¥ì´ ë›°ì–´ë‚¬ìŠµë‹ˆë‹¤. ì“°ê¸° ì‘ì—…ì—ì„œëŠ” [Memcachedì˜ ì“°ê¸° ê²½ë¡œ](docs/memcached_benchmark.md)ì—ì„œì˜ ê²½í•©ìœ¼ë¡œ ì¸í•˜ì—¬ Dragonflyê°€ ë³´ë‹¤ ì ì€ ì§€ì—°ì‹œê°„ì„ ë³´ì˜€ë‹¤ëŠ” ì ì´ ì…ì¦ë˜ì—ˆìŠµë‹ˆë‹¤.\n\n#### SET ë²¤ì¹˜ë§ˆí¬\n\n| Server    | QPS(thousands qps) | latency 99% | 99.9%   |\n|:---------:|:------------------:|:-----------:|:-------:|\n| Dragonfly |  ğŸŸ© 3844           |ğŸŸ© 0.9ms     | ğŸŸ© 2.4ms |\n| Memcached |   806              |   1.6ms     | 3.2ms    |\n\n#### GET ë²¤ì¹˜ë§ˆí¬\n\n| Server    | QPS(thousands qps) | latency 99% | 99.9%   |\n|-----------|:------------------:|:-----------:|:-------:|\n| Dragonfly | ğŸŸ© 3717            |   1ms       | 2.4ms   |\n| Memcached |   2100             |  ğŸŸ© 0.34ms  | ğŸŸ© 0.6ms |\n\nMemcachedëŠ” ì½ê¸° ë²¤ì¹˜ë§ˆí¬ì˜ ì§€ì—° ì‹œê°„ì€ ì ì—ˆì§€ë§Œ, ì²˜ë¦¬ëŸ‰ë„ ë‚®ì•˜ìŠµë‹ˆë‹¤.\n\n### ë©”ëª¨ë¦¬ íš¨ìœ¨\n\në©”ëª¨ë¦¬ íš¨ìœ¨ì„ í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•´ì„œ, ì €í¬ëŠ” `debug populate 5000000 key 1024` ëª…ë ¹ì–´ë¥¼ í™œìš©í•˜ì—¬ Dragonflyì™€ Redisì— ~5GB ì •ë„ì˜ ë°ì´í„°ë¥¼ ì±„ìš´ í›„, `memtier` ë¥¼ í†µí•˜ì—¬ ì—…ë°ì´íŠ¸ íŠ¸ë˜í”½ì„ ì „ì†¡í•œ í›„, `bgsave` ëª…ë ¹ì„ í†µí•˜ì—¬ ìŠ¤ëƒ…ìƒ·ì„ ì‹œì‘í–ˆìŠµë‹ˆë‹¤.\n\nì´ ê·¸ë¦¼ì€ ë©”ëª¨ë¦¬ íš¨ìœ¨ ì¸¡ë©´ì—ì„œ ê° ì„œë²„ê°€ ì–´ë–»ê²Œ ë™ì‘í–ˆëŠ”ì§€ ë³´ì—¬ì¤ë‹ˆë‹¤.\n\n<img src=\"http://static.dragonflydb.io/repo-assets/bgsave-memusage.svg\" width=\"70%\" border=\"0\"/>\n\nDragonflyëŠ” ìœ íœ´ ìƒíƒœì—ì„œ Redisë³´ë‹¤ ë©”ëª¨ë¦¬ íš¨ìœ¨ì´ 30% ë” ì¢‹ì•˜ìœ¼ë©°, ìŠ¤ëƒ…ìƒ· ë‹¨ê³„ì—ì„œ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ ëˆˆì— ë„ê²Œ ì¦ê°€í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. RedisëŠ” ê³ ì ì—ì„œ Dragonflyì— ë¹„í•´ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ ì•½ 3ë°° ì¦ê°€í•˜ì˜€ìŠµë‹ˆë‹¤.\n\nDragonflyëŠ” ìŠ¤ëƒ…ìƒ· ë‹¨ê³„ë¥¼ ëª‡ ì´ˆì•ˆì— ë” ë¹¨ë¦¬ ë§ˆì³¤ìŠµë‹ˆë‹¤.\n\nDragonflyì˜ ë©”ëª¨ë¦¬ íš¨ìœ¨ì— ëŒ€í•œ ì •ë³´ê°€ ë” í•„ìš”í•˜ì‹œë‹¤ë©´, ì €í¬ì˜ [Dastable ë¬¸ì„œ](/docs/dashtable.md)ë¥¼ ì°¸ê³ í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.\n\n\n## <a name=\"configuration\"><a/>ì„¤ì •\n\nDragonflyëŠ” ì ìš© ê°€ëŠ¥í•œ Redis ì¸ìˆ˜ë¥¼ ì§€ì›í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ë©´, `dragonfly --requirepass=foo --bind localhost`ì™€ ê°™ì€ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nDragonflyëŠ” í˜„ì¬ ì•„ë˜ì™€ ê°™ì€ Redis ì¸ìˆ˜ë“¤ì„ ì§€ì›í•©ë‹ˆë‹¤ :\n  * `port`: Redis ì—°ê²° í¬íŠ¸ (`ê¸°ë³¸ê°’: 6379`).\n  * `bind`: `localhost`ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¡œì»¬í˜¸ìŠ¤íŠ¸ ì—°ê²°ë§Œ í—ˆìš©í•˜ê±°ë‚˜ ê³µìš© IP ì£¼ì†Œë¥¼ ì‚¬ìš©í•˜ì—¬ í•´ë‹¹ IP ì£¼ì†Œì— ì—°ê²°ì„ í—ˆìš©í•©ë‹ˆë‹¤.(ì¦‰, ì™¸ë¶€ì—ì„œë„ ê°€ëŠ¥)\n  * `requirepass`: AUTH ì¸ì¦ì„ ìœ„í•œ íŒ¨ìŠ¤ì›Œë“œ (`ê¸°ë³¸ê°’: \"\"`).\n  * `maxmemory`: ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì‚¬ìš©í•˜ëŠ” ìµœëŒ€ ë©”ëª¨ë¦¬ ì œí•œ(ì‚¬ëŒì´ ì½ì„ ìˆ˜ ìˆëŠ” ë°”ì´íŠ¸ ë‹¨ìœ„) (`ê¸°ë³¸ê°’: 0`). `maxmemory` ì˜ ê°’ì´ `0` ì´ë©´ í”„ë¡œê·¸ë¨ì´ ìµœëŒ€ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ìë™ìœ¼ë¡œ ê²°ì •í•©ë‹ˆë‹¤.\n  * `dir`: Dragonfly DockerëŠ” ìŠ¤ëƒ…ìƒ·ì„ ìœ„í•´ ê¸°ë³¸ì ìœ¼ë¡œ `/data` í´ë”ë¥¼ ì‚¬ìš©í•˜ê³ , CLIì€ `\"\"`ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. Docker ì˜µì…˜ì¸ `-v` ì„ í†µí•´ì„œ í˜¸ìŠ¤íŠ¸ í´ë”ì— ë§¤í•‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n  * `dbfilename`: ì €ì¥í•˜ê³  ë¶ˆëŸ¬ì˜¬ ë°ì´í„°ë² ì´ìŠ¤ íŒŒì¼ ì´ë¦„ (`ê¸°ë³¸ê°’: dump`).\n\nì•„ë˜ëŠ” Dragonfly ì „ìš© ì¸ìˆ˜ ì…ë‹ˆë‹¤ :\n  * `memcached_port`: Memcached í˜¸í™˜ APIë¥¼ ìœ„í•œ í¬íŠ¸ (`ê¸°ë³¸ê°’: disabled`).\n  * `keys_output_limit`: `keys` ëª…ë ¹ì„ í†µí•´ ë°˜í™˜ ë˜ëŠ” ìµœëŒ€ í‚¤ì˜ ìˆ˜ (`ê¸°ë³¸ê°’: 8192`). `keys` ëª…ë ¹ì€ ìœ„í—˜í•˜ê¸° ë•Œë¬¸ì—, ë„ˆë¬´ ë§ì€ í‚¤ë¥¼ ê°€ì ¸ì˜¬ ë•Œ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ ê¸‰ì¦í•˜ì§€ ì•Šë„ë¡ ê²°ê³¼ë¥¼ í•´ë‹¹ ì¸ìˆ˜ë§Œí¼ ì˜ë¼ëƒ…ë‹ˆë‹¤.\n  * `dbnum`: `select` ëª…ë ¹ì— ëŒ€í•´ ì§€ì›ë˜ëŠ” ìµœëŒ€ ë°ì´í„°ë² ì´ìŠ¤ ìˆ˜.\n  * `cache_mode`: ì•„ë˜ì˜ ì„¹ì…˜ [ìƒˆë¡œìš´ ìºì‹œ ì„¤ê³„](#novel-cache-design)ì„ ì°¸ê³ í•´ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.\n  * `hz`: í‚¤ê°€ ë§Œë£Œë˜ì—ˆëŠ”ì§€ë¥¼ íŒë‹¨í•˜ëŠ” ë¹ˆë„(`ê¸°ë³¸ê°’: 100`). ë‚®ì€ ë¹ˆë„ëŠ” í‚¤ ë°©ì¶œì´ ëŠë ¤ì§€ëŠ” ëŒ€ì‹ , ìœ íœ´ ìƒíƒœì¼ ë•Œ CPU ì‚¬ìš©ëŸ‰ì„ ì¤„ì…ë‹ˆë‹¤.\n  * `primary_port_http_enabled`: `true` ì¸ ê²½ìš° HTTP ì½˜ì†”ë¡œ ë©”ì¸ TCP í¬íŠ¸ ì ‘ê·¼ì„ í—ˆìš©í•©ë‹ˆë‹¤. (`ê¸°ë³¸ê°’: true`).\n  * `admin_port`: í• ë‹¹ëœ í¬íŠ¸ì—ì„œ ê´€ë¦¬ì ì½˜ì†” ì ‘ê·¼ì„ í™œì„±í™”í•©ë‹ˆë‹¤. (`ê¸°ë³¸ê°’: disabled`). HTTPì™€ RESP í”„ë¡œí† ì½œ ëª¨ë‘ë¥¼ ì§€ì›í•©ë‹ˆë‹¤.\n  * `admin_bind`: ì£¼ì–´ì§„ ì£¼ì†Œì— ê´€ë¦¬ì ì½˜ì†” TCP ì—°ê²°ì„ ë°”ì¸ë”©í•©ë‹ˆë‹¤. (`ê¸°ë³¸ê°’: any`). HTTPì™€ RESP í”„ë¡œí† ì½œ ëª¨ë‘ë¥¼ ì§€ì›í•©ë‹ˆë‹¤.\n  * `admin_nopass`: í• ë‹¹ëœ í¬íŠ¸ì— ëŒ€í•´ì„œ ì¸ì¦ í† í° ì—†ì´ ê´€ë¦¬ì ì½˜ì†” ì ‘ê·¼ì„ í™œì„±í™”í•©ë‹ˆë‹¤. (`default: false`). HTTPì™€ RESP í”„ë¡œí† ì½œ ëª¨ë‘ë¥¼ ì§€ì›í•©ë‹ˆë‹¤.\n  * `cluster_mode`: í´ëŸ¬ìŠ¤í„° ëª¨ë“œê°€ ì§€ì›ë©ë‹ˆë‹¤. (`ê¸°ë³¸ê°’: \"\"`). í˜„ì¬ëŠ”`emulated` ë§Œ ì§€ì›í•©ë‹ˆë‹¤.\n  * `cluster_announce_ip`: í´ëŸ¬ìŠ¤í„° ëª…ë ¹ì„ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì•Œë¦¬ëŠ” IP ì£¼ì†Œ.\n\n\n### ì£¼ìš” ì˜µì…˜ì„ í™œìš©í•œ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸ ì˜ˆì‹œ:\n\n```bash\n./dragonfly-x86_64 --logtostderr --requirepass=youshallnotpass --cache_mode=true -dbnum 1 --bind localhost --port 6379  --maxmemory=12gb --keys_output_limit=12288 --dbfilename dump.rdb\n```\n\nì¸ìˆ˜ë“¤ì€ `dragonfly --flagfile <filename>`ì„ ì‹¤í–‰í•˜ì—¬ ì„¤ì • íŒŒì¼ì„ í†µí•´ì„œë„ ì „ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì „ë‹¬ë  íŒŒì¼ì€ ê° ì¤„ì— í‚¤-ê°’ í˜•íƒœì˜ í”Œë˜ê·¸ ë‚˜ì—´ í•˜ê¸°ìœ„í•´ ë“±í˜¸ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.\n\në¡œê·¸ ê´€ë¦¬ë‚˜ TLS ì§€ì›ê³¼ ê°™ì€ ì¶”ê°€ ì˜µì…˜ì„ í™•ì¸í•˜ê³  ì‹¶ë‹¤ë©´, `dragonfly --help` ë¥¼ ì‹¤í–‰í•´ë³´ì‹œê¸¸ ë°”ëë‹ˆë‹¤.\n\n## <a name=\"roadmap-status\"><a/>ë¡œë“œë§µê³¼ ìƒíƒœ\n\nDragonflyëŠ” í˜„ì¬ ~185ê°œì˜ Redis ëª…ë ¹ì–´ë“¤ê³¼ `cas` ë¿ë§Œ ì•„ë‹ˆë¼ ëª¨ë“  Memcached ëª…ë ¹ì–´ë¥¼ ì§€ì›í•©ë‹ˆë‹¤. ì´ëŠ” ê±°ì˜ Redis 5 APIì™€ ë™ë“±í•˜ë©°, Dragonflyì˜ ë‹¤ìŒ ë§ˆì¼ìŠ¤í†¤ì€ ê¸°ë³¸ ê¸°ëŠ¥ ì„ ì•ˆì •í™”í•˜ê³  ë³µì œ APIë¥¼ êµ¬í˜„í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì•„ì§ êµ¬í˜„ë˜ì§€ ì•Šì€ í•„ìš”í•œ ëª…ë ¹ê°€ ìˆë‹¤ë©´, ì´ìŠˆë¥¼ ì˜¤í”ˆí•´ì£¼ì„¸ìš”.\n\nDraginfly ê³ ìœ  ë³µì œê¸°ëŠ¥ì„ ìœ„í•´, ì €í¬ëŠ” ëª‡ ë°° ë†’ì€ ì†ë„ë¥¼ ì§€ì›í•  ìˆ˜ ìˆëŠ” ë¶„ì‚° ë¡œê·¸ í˜•ì‹ì„ ì„¤ê³„í•˜ê³  ìˆìŠµë‹ˆë‹¤.\n\në³µì œ ê¸°ëŠ¥ì„ ì¶”ê°€í•œ ë’¤ì— ì €í¬ëŠ” Redis 3-6 APIì— í•´ë‹¹ë˜ëŠ” ëˆ„ë½ ëª…ë ¹ì–´ë“¤ì„ ê³„ì† ì¶”ê°€í•  ì˜ˆì •ì…ë‹ˆë‹¤.\n\nDragonflyì— ì˜í•´ í˜„ì¬ ì§€ì›ë˜ëŠ” ëª…ë ¹ì–´ë¥¼ í™•ì¸í•˜ê¸° ìœ„í•´ì„œ [ëª…ë ¹ì–´ ë ˆí¼ëŸ°ìŠ¤](https://dragonflydb.io/docs/category/command-reference)ë¥¼ ì°¸ê³ í•´ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.\n\n## <a name=\"design-decisions\"><a/>ì„¤ê³„ ì˜ì‚¬ê²°ì •\n\n### ìƒˆë¡œìš´ ìºì‹œ ì„¤ê³„\n\nDragonflyëŠ” ë‹¨ìˆœí•˜ê³  ë©”ëª¨ë¦¬ íš¨ìœ¨ì ì¸ ë‹¨ì¼, í†µí•©, ì ì‘í˜• ìºì‹± ì•Œê³ ë¦¬ì¦˜ì„ ì œê³µí•©ë‹ˆë‹¤.\n\n`--cache_mode=true` í”Œë˜ê·¸ë¥¼ ì „ë‹¬í•˜ì—¬ ìºì‹± ëª¨ë“œë¥¼ í™œì„±í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ëª¨ë“œê°€ í™œì„±í™”ë˜ë©´, DragonflyëŠ” `maxmemory` í•œë„ì— ê°€ê¹Œì›Œì§ˆ ë•Œë§Œ, ë¯¸ë˜ì— ì¬ì‚¬ìš© ë  ê°€ëŠ¥ì„±ì´ ê°€ì¥ ë‚®ì€ í•­ëª©ì„ ë°©ì¶œí•©ë‹ˆë‹¤.\n\n### ìƒëŒ€ì ì¸ ì •í™•ì„±ì„ ê°€ì§„ ë§Œë£Œ ê¸°í•œ\n\në§Œë£Œ ë²”ìœ„ëŠ” ì•½ ~8ë…„ìœ¼ë¡œ ì œí•œë©ë‹ˆë‹¤.\n\në°€ë¦¬ì´ˆ ë‹¨ìœ„ì˜ ì •ë°€í•œ ë§Œë£Œ ê¸°í•œ(PEXPIRE, PSETEX, ë“±)ì€ **2^28msë³´ë‹¤ í° ê¸°í•œì— ëŒ€í•´** ê°€ì¥ ê°€ê¹Œìš´ ì´ˆë¡œ ë°˜ì˜¬ë¦¼ë©ë‹ˆë‹¤. ì´ëŠ” 0.001% ë¯¸ë§Œì˜ ì˜¤ì°¨ë¥¼ ê°€ì§€ë©°, í° ë²”ìœ„ì— ëŒ€í•´ ì ìš©ë  ë•ŒëŠ” ìˆ˜ìš© ê°€ëŠ¥í•œ ìˆ˜ì¤€ì…ë‹ˆë‹¤. ë§Œì•½ ì´ëŸ° ë°©ì‹ì´ ì‚¬ìš©ì‚¬ë¡€ì— ì í•©í•˜ì§€ ì•Šë‹¤ë©´, ë¬¸ì˜ë¥¼ ì£¼ì‹œê±°ë‚˜ í•´ë‹¹ ì‚¬ìš©ì‚¬ë¡€ë¥¼ ì„¤ëª…í•˜ëŠ” ì´ìŠˆë¥¼ ì˜¤í”ˆí•´ì£¼ì„¸ìš”.\n\nDragonflyì™€ Redisì˜ ë§Œë£Œ ê¸°í•œì— ëŒ€í•œ êµ¬í˜„ì˜ ì°¨ì´ëŠ” [ì—¬ê¸°ì„œ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤](docs/differences.md).\n\n### ë„¤ì´í‹°ë¸Œ HTTP ì½˜ì†”ê³¼ Prometheus í˜¸í™˜ ë§¤íŠ¸ë¦­\n\nê¸°ë³¸ì ìœ¼ë¡œ, DragonflyëŠ” ë©”ì¸ TCP í¬íŠ¸(6379)ì— HTTP ì ‘ê·¼ì„ í—ˆìš©í•©ë‹ˆë‹¤. ì¦‰, Redis í”„ë¡œí† ì½œê³¼ HTTP í”„ë¡œí† ì½œ ëª¨ë‘ë¥¼ í†µí•´ Dragonflyì— ì—°ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. - ì„œë²„ëŠ” ì—°ê²° ì´ˆê¸°í™” ê³¼ì •ì—ì„œ í”„ë¡œí† ì½œì„ ìë™ìœ¼ë¡œ ì¸ì‹í•©ë‹ˆë‹¤. ì›¹ ë¸Œë¼ìš°ì €ë¥¼ í†µí•˜ì—¬ ì‹œë„í•´ë³´ì‹œê¸° ë°”ëë‹ˆë‹¤. í˜„ì¬ HTTP ì ‘ê·¼ì€ ë§ì€ ì •ë³´ë¥¼ ì œê³µí•˜ì§€ ì•Šì§€ë§Œ, ìœ ìš©í•œ ë””ë²„ê¹… ë° ê´€ë¦¬ ì •ë³´ë¥¼ í–¥í›„ ì¶”ê°€í•  ì˜ˆì •ì…ë‹ˆë‹¤.\n\n`:6379/metrics` ì— ì ‘ê·¼í•˜ê²Œ ë˜ë©´, Prometheus í˜¸í™˜ ë§¤íŠ¸ë¦­ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nPrometheusì—ì„œ ë‚´ë³´ë‚´ëŠ” ë§¤íŠ¸ë¦­ë“¤ì€ Grafana ëŒ€ì‹œë³´ë“œì™€ í˜¸í™˜ë©ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ [ì—¬ê¸°](tools/local/monitoring/grafana/provisioning/dashboards/dashboard.json)ë¥¼ ì°¸ì¡°í•´ì£¼ì„¸ìš”.\n\nì¤‘ìš”! HTTP ë…¸ì†”ì€ ì•ˆì „í•œ ë„¤íŠ¸ì›Œí¬ ë‚´ì—ì„œ ì ‘ê·¼í•˜ë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤. Dragonflyì˜ TCP í¬íŠ¸ë¥¼ ì™¸ë¶€ë¡œ ë…¸ì¶œí•œë‹¤ë©´, `--http_admin_console=false` í˜¹ì€ `--nohttp_admin_console`ê³¼ ê°™ì€ ì¸ìˆ˜ë¥¼ í™œìš©í•˜ì—¬ ì½˜ì†”ì„ ë¹„í™œì„±í™”í•˜ëŠ” ê²ƒì„ ì¡°ì–¸í•´ë“œë¦½ë‹ˆë‹¤.\n\n\n## <a name=\"background\"><a/>ê°œë°œë°°ê²½\n\nDragonflyëŠ” 2022ë…„ì— ì¸-ë©”ëª¨ë¦¬ ë°ì´í„°ìŠ¤í† ì–´ë¥¼ ì„¤ê³„í•œë‹¤ë©´ ì–´ë• ì„ê¹Œì— ëŒ€í•œ ì‹¤í—˜ìœ¼ë¡œ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤. í´ë¼ìš°ë“œ íšŒì‚¬ì—ì„œ ê·¼ë¬´í•œ ì—”ì§€ë‹ˆì–´ ë° ë©”ëª¨ë¦¬ ìŠ¤í† ì–´ ì‚¬ìš©ìì˜ ê²½í—˜ì„ ë°”íƒ•ìœ¼ë¡œ, ì €í¬ëŠ” Dragonflyì— í•µì‹¬ì ì¸ ë‘ ê°€ì§€ í•µì‹¬ íŠ¹ì„±ì„ ë³´ì¡´í•´ì•¼í•¨ì„ ì•Œì•˜ìŠµë‹ˆë‹¤: ëª¨ë“  ì‘ì—…ì— ëŒ€í•œ ì›ìì„± ë³´ì¥ê³¼ ë§¤ìš° ë†’ì€ ì²˜ë¦¬ëŸ‰ì— ëŒ€í•œ ë°€ë¦¬ì´ˆ ì´í•˜ì˜ ë‚®ì€ ì§€ì—° ì‹œê°„ì„ ë³´ì¥í•˜ëŠ” ê²ƒì´ì—ˆìŠµë‹ˆë‹¤.\n\nì²« ë²ˆì§¸ ë¬¸ì œëŠ” ì˜¤ëŠ˜ë‚  í¼ë¸”ë¦­ í´ë¼ìš°ë“œ í™˜ê²½ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ ì„œë²„ë¥¼ ì‚¬ìš©í•˜ì—¬ CPU, ë©”ëª¨ë¦¬ ë° I/O ìì›ì„ ì–´ë–»ê²Œ ìµœëŒ€í•œ í™œìš©í•  ìˆ˜ ìˆì„ì§€ì˜€ìŠµë‹ˆë‹¤. ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ì €í¬ëŠ” [ë¹„ê³µìœ  ì•„í‚¤í…ì²˜(Shared Nothing Architecture)](https://en.wikipedia.org/wiki/Shared-nothing_architecture)ë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. ì´ëŠ” ì €í¬ê°€ ë©”ëª¨ë¦¬ ìŠ¤í† ì–´ì˜ ê° ìŠ¤ë ˆë“œ ì‚¬ì´ì˜ í‚¤ ê³µê°„ì„ ë¶„í• í•  ìˆ˜ ìˆê²Œí•˜ì˜€ìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ê° ìŠ¤ë ˆë“œë“¤ì€ ê·¸ë“¤ì˜ ë”•ì…”ë„ˆë¦¬ ë°ì´í„°ë“¤ì˜ ì¡°ê°ì„ ê´€ë¦¬í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ì €í¬ëŠ” ì´ ì¡°ê°ë“¤ì„ \"ìƒ¤ë“œ(shards)\"ë¼ ë¶ˆë €ìŠµë‹ˆë‹¤. ë¹„ê³µìœ  ì•„í‚¤í…ì²˜ì— ëŒ€í•œ ìŠ¤ë ˆë“œ ë° I/O ê´€ë¦¬ë¥¼ ìœ„í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” [ì—¬ê¸°](https://github.com/romange/helio)ì—ì„œ ì˜¤í”ˆì†ŒìŠ¤ë¡œ ì œê³µë©ë‹ˆë‹¤.\n\në©€í‹°-í‚¤ ì‘ì—…ì— ëŒ€í•œ ì›ìì„± ë³´ì¥ì„ ìœ„í•´, Dragonflyì˜ íŠ¸ëœì­ì…˜ í”„ë ˆì„ì›Œí¬ë¥¼ ê°œë°œí•˜ê¸° ìœ„í•´ ì €í¬ëŠ” ìµœê·¼ í•™ê³„ì˜ ì—°êµ¬ ë°œì „ì„ í™œìš©í–ˆê³  [\"VLL: a lock manager redesign for main memory database systemsâ€](https://www.cs.umd.edu/~abadi/papers/vldbj-vll.pdf) ë…¼ë¬¸ì„ ì±„íƒí–ˆìŠµë‹ˆë‹¤. ë¹„ê³µìœ  ì•„í‚¤í…ì²˜ì™€ VLLì˜ ì„ íƒì€ ìš°ë¦¬ê°€ ë®¤í…ìŠ¤ë‚˜ ìŠ¤í•€ë½ì„ ì‚¬ìš©í•˜ì§€ ì•Šê³ ë„ ì›ìì  ë©€í‹°-í‚¤ ì‘ì—…ì„ êµ¬ì„±í•  ìˆ˜ ìˆê²Œ í–ˆìŠµë‹ˆë‹¤.\nì´ê²ƒì€ ì €í¬ì˜ PoCì— ìˆì–´ì„œ ì£¼ìš”í•œ ë§ˆì¼ìŠ¤í†¤ì´ì—ˆê³ , ê·¸ ì„±ëŠ¥ì€ ë‹¤ë¥¸ ìƒìš© ë° ì˜¤í”ˆì†ŒìŠ¤ ì†”ë£¨ì…˜ë³´ë‹¤ ì„±ëŠ¥ì´ ë›°ì–´ë‚¬ìŠµë‹ˆë‹¤.\n\në‘ ë²ˆì§¸ ë¬¸ì œëŠ” ìƒˆë¡œìš´ ì €ì¥ì†Œë¥¼ ìœ„í•˜ì—¬ ë” íš¨ìœ¨ì ì¸ ë°ì´í„° êµ¬ì¡°ë¥¼ ì„¤ê³„í•˜ëŠ” ê²ƒì´ì—ˆìŠµë‹ˆë‹¤. ì´ ëª©í‘œë¥¼ ë‹¬ì„±í•˜ê¸° ìœ„í•´ì„œ ì €í¬ëŠ” í•µì‹¬ í•´ì‹œí…Œì´ë¸” êµ¬ì¡°ë¥¼ [\"Dash: Scalable Hashing on Persistent Memory\"](https://arxiv.org/pdf/2003.07302.pdf) ë…¼ë¬¸ì„ ê¸°ë°˜ìœ¼ë¡œ ì‘ì—…í–ˆìŠµë‹ˆë‹¤. ì´ ë…¼ë¬¸ì€ ì˜ì†ì ì¸ ë©”ëª¨ë¦¬ ë„ë©”ì¸ì„ ì¤‘ì‹¬ìœ¼ë¡œ ë‹¤ë£¨ë©°, ì´ëŠ” ë©”ì¸-ë©”ëª¨ë¦¬ ì €ì¥ì†Œì™€ ì§ì ‘ì ì¸ ì—°ê´€ê´€ê³„ëŠ” ì—†ì—ˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì—¬ì „íˆ ì €í¬ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œ ê°€ì¥ ì í•©í–ˆìŠµë‹ˆë‹¤. í•´ë‹¹ ë…¼ë¬¸ì˜ ì œì•ˆëœ í•´ì‹œí…Œì´ë¸” ì„¤ê³„ëŠ” ì €í¬ê°€ ë ˆë””ìŠ¤ ë”•ì…”ë„ˆë¦¬ì— í‘œí˜„ëœ ë‘ ê°€ì§€ íŠ¹ë³„í•œ íŠ¹ì„±ì„ ìœ ì§€ ê°€ëŠ¥í•˜ê²Œ í•´ì¤¬ìŠµë‹ˆë‹¤: ë°ì´í„°ìŠ¤í† ì–´ í™•ì¥ ì¤‘ ì¦ë¶„ í•´ì‹± ê¸°ëŠ¥ê³¼ ìƒíƒœ ì—†ëŠ” ìŠ¤ìº” ì‘ì—…ì„ ì‚¬ìš©í•˜ì—¬ ë³€í™”í•˜ëŠ” ë”•ì…”ë„ˆë¦¬ë¥¼ ìˆœíšŒí•˜ëŠ” ëŠ¥ë ¥ì´ì—ˆìŠµë‹ˆë‹¤. ì´ ë‘ ê°€ì§€ ì†ì„± ì™¸ì—ë„ DashëŠ” CPUì™€ ë©”ëª¨ë¦¬ ì‚¬ìš©ì—ì„œ ë” íš¨ìœ¨ì ì…ë‹ˆë‹¤. ì €í¬ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ê¸°ëŠ¥ë“¤ë¡œ ë”ìš± í˜ì‹ í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤:\n * TTL ë ˆì½”ë“œì— ëŒ€í•œ íš¨ìœ¨ì ì¸ ë§Œë£Œ ì²˜ë¦¬\n * LRUì™€ LFU ê°™ì€ ë‹¤ë¥¸ ìºì‹œ ì „ëµë³´ë‹¤ ë” ë†’ì€ íˆíŠ¸ìœ¨ì„ ë‹¬ì„±í•˜ëŠ” ìƒˆë¡œìš´ ìºì‹œ ë°©ì¶œ ì•Œê³ ë¦¬ì¦˜ê³¼ **ì œë¡œ ë©”ëª¨ë¦¬ ì˜¤ë²„í—¤ë“œ**.\n * ìƒˆë¡œìš´ **fork-less** ìŠ¤ëƒ…ìƒ· ì•Œê³ ë¦¬ì¦˜.\n\nì €í¬ëŠ” Dragonflyì˜ ê¸°ë°˜ì„ êµ¬ì¶•í•˜ê³  ì„±ëŠ¥ì— ë§Œì¡±í•˜ê²Œ ë˜ì—ˆì„ ë•Œ, Redisì™€ Memcachedì˜ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê¸° ì‹œì‘í–ˆìŠµë‹ˆë‹¤. ì €í¬ëŠ” ì•½ 185ê°œì˜ Redis ëª…ë ¹(ëŒ€ëµì ìœ¼ë¡œ Redis 5.0 APIì™€ ë™ë“±)ê³¼ 13ê°œì˜ Memecached ëª…ë ¹ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.\n\në§ˆì§€ë§‰ìœ¼ë¡œ, <br>\n<em>ì €í¬ì˜ ì„ë¬´ëŠ” ìµœì‹  í•˜ë“œì›¨ì–´ ë°œì „ì„ í™œìš©í•˜ëŠ” í´ë¼ìš°ë“œ ì‘ì—…ì„ ìœ„í•œ ë©‹ì§„ ì„¤ê³„ì™€ ì´ˆê³ ì† ì²˜ë¦¬ëŸ‰ ê·¸ë¦¬ê³  ë¹„ìš©íš¨ìœ¨ì ì¸ ì¸-ë©”ëª¨ë¦¬ ë°ì´í„°ìŠ¤í† ì–´ë¥¼ ë§Œë“œëŠ” ê²ƒì…ë‹ˆë‹¤. ì €í¬ëŠ” í˜„ì¬ ì†”ë£¨ì…˜ì˜ ì œí’ˆ APIë“¤ì´ë‚˜ ì œì•ˆì„ ìœ ì§€í•˜ë©´ì„œ ë‹¹ë©´ ê³¼ì œë¥¼ í•´ê²°í•˜ê³ ì í•©ë‹ˆë‹¤.\n</em>\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 16.37,
          "content": "<p align=\"center\">\n  <a href=\"https://dragonflydb.io\">\n    <img  src=\"/.github/images/logo-full.svg\"\n      width=\"284\" border=\"0\" alt=\"Dragonfly\">\n  </a>\n</p>\n\n[![ci-tests](https://github.com/dragonflydb/dragonfly/actions/workflows/ci.yml/badge.svg)](https://github.com/dragonflydb/dragonfly/actions/workflows/ci.yml) [![Twitter URL](https://img.shields.io/twitter/follow/dragonflydbio?style=social)](https://twitter.com/dragonflydbio)\n\n> Before moving on, please consider giving us a GitHub star â­ï¸. Thank you!\n\nOther languages:  [ç®€ä½“ä¸­æ–‡](README.zh-CN.md) [æ—¥æœ¬èª](README.ja-JP.md) [í•œêµ­ì–´](README.ko-KR.md)\n\n[Website](https://www.dragonflydb.io/) â€¢ [Docs](https://dragonflydb.io/docs) â€¢ [Quick Start](https://www.dragonflydb.io/docs/getting-started) â€¢ [Community Discord](https://discord.gg/HsPjXGVH85) â€¢ [Dragonfly Forum](https://dragonfly.discourse.group/) â€¢ [Join the Dragonfly Community](https://www.dragonflydb.io/community)\n\n[GitHub Discussions](https://github.com/dragonflydb/dragonfly/discussions) â€¢ [GitHub Issues](https://github.com/dragonflydb/dragonfly/issues) â€¢ [Contributing](https://github.com/dragonflydb/dragonfly/blob/main/CONTRIBUTING.md) â€¢ [Dragonfly Cloud](https://www.dragonflydb.io/cloud)\n\n## The world's most efficient in-memory data store\n\nDragonfly is an in-memory data store built for modern application workloads.\n\nFully compatible with Redis and Memcached APIs, Dragonfly requires no code changes to adopt. Compared to legacy in-memory datastores, Dragonfly delivers 25X more throughput, higher cache hit rates with lower tail latency, and can run on up to 80% less resources for the same sized workload.\n\n## Contents\n\n- [Benchmarks](#benchmarks)\n- [Quick start](https://github.com/dragonflydb/dragonfly/tree/main/docs/quick-start)\n- [Configuration](#configuration)\n- [Roadmap and status](#roadmap-status)\n- [Design decisions](#design-decisions)\n- [Background](#background)\n- [Build from source](./docs/build-from-source.md)\n\n## <a name=\"benchmarks\"><a/>Benchmarks\n\nWe first compare Dragonfly with Redis on `m5.large` instance which is commonly used to run Redis\ndue to its single-threaded architecture. The benchmark program runs from another\nload-test instance (c5n) in the same AZ using `memtier_benchmark  -c 20 --test-time 100 -t 4 -d 256 --distinct-client-seed`\n\nDragonfly shows a comparable performance:\n\n1. SETs (`--ratio 1:0`):\n\n|  Redis                                   |      DF                                |\n| -----------------------------------------|----------------------------------------|\n| QPS: 159K, P99.9: 1.16ms, P99: 0.82ms    | QPS:173K, P99.9: 1.26ms, P99: 0.9ms    |\n|                                          |                                        |\n\n2. GETs (`--ratio 0:1`):\n\n|  Redis                                  |      DF                                |\n| ----------------------------------------|----------------------------------------|\n| QPS: 194K, P99.9: 0.8ms, P99: 0.65ms    | QPS: 191K, P99.9: 0.95ms, P99: 0.8ms   |\n\nThe benchmark above shows that the algorithmic layer inside DF that allows it to scale vertically\ndoes not take a large toll when running single-threaded.\n\nHowever, if we take a bit stronger instance (m5.xlarge), the gap between DF and Redis starts growing.\n(`memtier_benchmark  -c 20 --test-time 100 -t 6 -d 256 --distinct-client-seed`):\n1. SETs (`--ratio 1:0`):\n\n|  Redis                                  |      DF                                |\n| ----------------------------------------|----------------------------------------|\n| QPS: 190K, P99.9: 2.45ms, P99: 0.97ms   |  QPS: 279K , P99.9: 1.95ms, P99: 1.48ms|\n\n2. GETs (`--ratio 0:1`):\n\n|  Redis                                  |      DF                                |\n| ----------------------------------------|----------------------------------------|\n| QPS: 220K, P99.9: 0.98ms , P99: 0.8ms   |  QPS: 305K, P99.9: 1.03ms, P99: 0.87ms |\n\n\nDragonfly throughput capacity continues to grow with instance size,\nwhile single-threaded Redis is bottlenecked on CPU and reaches local maxima in terms of performance.\n\n<img src=\"http://static.dragonflydb.io/repo-assets/aws-throughput.svg\" width=\"80%\" border=\"0\"/>\n\nIf we compare Dragonfly and Redis on the most network-capable instance c6gn.16xlarge,\nDragonfly showed a 25X increase in throughput compared to Redis single process, crossing 3.8M QPS.\n\nDragonfly's 99th percentile latency metrics at its peak throughput:\n\n| op    | r6g   | c6gn  | c7g   |\n|-------|-------|-------|-------|\n| set   | 0.8ms | 1ms   | 1ms   |\n| get   | 0.9ms | 0.9ms | 0.8ms |\n| setex | 0.9ms | 1.1ms | 1.3ms |\n\n*All benchmarks were performed using `memtier_benchmark` (see below) with number of threads tuned per server and instance type. `memtier` was run on a separate c6gn.16xlarge machine. We set the expiry time to 500 for the SETEX benchmark to ensure it would survive the end of the test.*\n\n```bash\n  memtier_benchmark --ratio ... -t <threads> -c 30 -n 200000 --distinct-client-seed -d 256 \\\n     --expiry-range=...\n```\n\nIn pipeline mode `--pipeline=30`, Dragonfly reaches **10M QPS** for SET and **15M QPS** for GET operations.\n\n### Dragonfly vs. Memcached\n\nWe compared Dragonfly with Memcached on a c6gn.16xlarge instance on AWS.\n\nWith a comparable latency, Dragonfly throughput outperformed Memcached throughput in both write and read workloads. Dragonfly demonstrated better latency in write workloads due to contention on the [write path in Memcached](docs/memcached_benchmark.md).\n\n#### SET benchmark\n\n| Server    | QPS(thousands qps) | latency 99% | 99.9%   |\n|:---------:|:------------------:|:-----------:|:-------:|\n| Dragonfly |  ğŸŸ© 3844           |ğŸŸ© 0.9ms     | ğŸŸ© 2.4ms |\n| Memcached |   806              |   1.6ms     | 3.2ms    |\n\n#### GET benchmark\n\n| Server    | QPS(thousands qps) | latency 99% | 99.9%   |\n|-----------|:------------------:|:-----------:|:-------:|\n| Dragonfly | ğŸŸ© 3717            |   1ms       | 2.4ms   |\n| Memcached |   2100             |  ğŸŸ© 0.34ms  | ğŸŸ© 0.6ms |\n\n\nMemcached exhibited lower latency for the read benchmark, but also lower throughput.\n\n### Memory efficiency\n\nTo test memory efficiency, we filled Dragonfly and Redis with ~5GB of data using the `debug populate 5000000 key 1024` command, sent update traffic with `memtier`, and kicked off the snapshotting with the `bgsave` command.\n\nThis figure demonstrates how each server behaved in terms of memory efficiency.\n\n<img src=\"http://static.dragonflydb.io/repo-assets/bgsave-memusage.svg\" width=\"70%\" border=\"0\"/>\n\nDragonfly was 30% more memory efficient than Redis in the idle state and did not show any visible increase in memory use during the snapshot phase. At peak, Redis memory use increased to almost 3X that of Dragonfly.\n\nDragonfly finished the snapshot faster, within a few seconds.\n\nFor more info about memory efficiency in Dragonfly, see our [Dashtable doc](/docs/dashtable.md).\n\n\n\n## <a name=\"configuration\"><a/>Configuration\n\nDragonfly supports common Redis arguments where applicable. For example, you can run: `dragonfly --requirepass=foo --bind localhost`.\n\nDragonfly currently supports the following Redis-specific arguments:\n * `port`: Redis connection port (`default: 6379`).\n * `bind`: Use `localhost` to only allow localhost connections or a public IP address to allow connections **to that IP** address (i.e. from outside too). Use `0.0.0.0` to allow all IPv4.\n * `requirepass`: The password for AUTH authentication (`default: \"\"`).\n * `maxmemory`: Limit on maximum memory (in human-readable bytes) used by the database (`default: 0`). A `maxmemory` value of `0` means the program will automatically determine its maximum memory usage.\n * `dir`: Dragonfly Docker uses the `/data` folder for snapshotting by default, the CLI uses `\"\"`. You can use the `-v` Docker option to map it to your host folder.\n * `dbfilename`: The filename to save and load the database (`default: dump`).\n\nThere are also some Dragonfly-specific arguments:\n * `memcached_port`: The port to enable Memcached-compatible API on (`default: disabled`).\n * `keys_output_limit`: Maximum number of returned keys in `keys` command (`default: 8192`). Note that `keys` is a dangerous command. We truncate its result to avoid a blowup in memory use when fetching too many keys.\n * `dbnum`: Maximum number of supported databases for `select`.\n * `cache_mode`: See the [novel cache design](#novel-cache-design) section below.\n * `hz`: Key expiry evaluation frequency (`default: 100`). Lower frequency uses less CPU when idle at the expense of a slower eviction rate.\n * `snapshot_cron`: Cron schedule expression for automatic backup snapshots using standard cron syntax with the granularity of minutes (`default: \"\"`).\n   Here are some cron schedule expression examples below, and feel free to read more about this argument in our [documentation](https://www.dragonflydb.io/docs/managing-dragonfly/backups#the-snapshot_cron-flag).\n\n   | Cron Schedule Expression | Description                                |\n   |--------------------------|--------------------------------------------|\n   | `* * * * *`              | At every minute                            |\n   | `*/5 * * * *`            | At every 5th minute                        |\n   | `5 */2 * * *`            | At minute 5 past every 2nd hour            |\n   | `0 0 * * *`              | At 00:00 (midnight) every day              |\n   | `0 6 * * 1-5`            | At 06:00 (dawn) from Monday through Friday |\n\n * `primary_port_http_enabled`: Allows accessing HTTP console on main TCP port if `true` (`default: true`).\n * `admin_port`: To enable admin access to the console on the assigned port (`default: disabled`). Supports both HTTP and RESP protocols.\n * `admin_bind`: To bind the admin console TCP connection to a given address (`default: any`). Supports both HTTP and RESP protocols.\n * `admin_nopass`: To enable open admin access to console on the assigned port, without auth token needed (`default: false`). Supports both HTTP and RESP protocols.\n * `cluster_mode`: Cluster mode supported (`default: \"\"`). Currently supports only `emulated`.\n * `cluster_announce_ip`: The IP that cluster commands announce to the client.\n * `announce_port`: The port that cluster commands announce to the client, and to replication master.\n\n### Example start script with popular options:\n\n```bash\n./dragonfly-x86_64 --logtostderr --requirepass=youshallnotpass --cache_mode=true -dbnum 1 --bind localhost --port 6379 --maxmemory=12gb --keys_output_limit=12288 --dbfilename dump.rdb\n```\n\nArguments can be also provided via:\n * `--flagfile <filename>`: The file should list one flag per line, with equal signs instead of spaces for key-value flags. No quotes are needed for flag values.\n * Setting environment variables. Set `DFLY_x`, where `x` is the exact name of the flag, case sensitive.\n\nFor more options like logs management or TLS support, run `dragonfly --help`.\n\n## <a name=\"roadmap-status\"><a/>Roadmap and status\n\nDragonfly currently supports ~185 Redis commands and all Memcached commands besides `cas`. Almost on par with the Redis 5 API, Dragonfly's next milestone will be to stabilize basic functionality and implement the replication API. If there is a command you need that is not implemented yet, please open an issue.\n\nFor Dragonfly-native replication, we are designing a distributed log format that will support order-of-magnitude higher speeds.\n\nFollowing the replication feature, we will continue adding missing commands for Redis versions 3-6 APIs.\n\nPlease see our [Command Reference](https://dragonflydb.io/docs/category/command-reference) for the current commands supported by Dragonfly.\n\n## <a name=\"design-decisions\"><a/> Design decisions\n\n### Novel cache design\n\nDragonfly has a single, unified, adaptive caching algorithm that is simple and memory efficient.\n\nYou can enable caching mode by passing the `--cache_mode=true` flag. Once this mode is on, Dragonfly will evict items least likely to be stumbled upon in the future but only when it is near the `maxmemory` limit.\n\n### Expiration deadlines with relative accuracy\n\nExpiration ranges are limited to ~8 years.\n\nExpiration deadlines with millisecond precision (PEXPIRE, PSETEX, etc.) are rounded to the closest second **for deadlines greater than 2^28ms**, which has less than 0.001% error and should be acceptable for large ranges. If this is not suitable for your use case, get in touch or open an issue explaining your case.\n\nFor more detailed differences between Dragonfly expiration deadlines and Redis implementations, [see here](docs/differences.md).\n\n### Native HTTP console and Prometheus-compatible metrics\n\nBy default, Dragonfly allows HTTP access via its main TCP port (6379). That's right, you can connect to Dragonfly via Redis protocol and via HTTP protocol â€” the server recognizes the protocol automatically during the connection initiation. Go ahead and try it with your browser. HTTP access currently does not have much info but will include useful debugging and management info in the future.\n\nGo to the URL `:6379/metrics` to view Prometheus-compatible metrics.\n\nThe Prometheus exported metrics are compatible with the Grafana dashboard, [see here](tools/local/monitoring/grafana/provisioning/dashboards/dashboard.json).\n\n\nImportant! The HTTP console is meant to be accessed within a safe network. If you expose Dragonfly's TCP port externally, we advise you to disable the console with `--http_admin_console=false` or `--nohttp_admin_console`.\n\n\n## <a name=\"background\"><a/>Background\n\nDragonfly started as an experiment to see how an in-memory datastore could look if it was designed in 2022. Based on lessons learned from our experience as users of memory stores and engineers who worked for cloud companies, we knew that we need to preserve two key properties for Dragonfly: Atomicity guarantees for all operations and low, sub-millisecond latency over very high throughput.\n\nOur first challenge was how to fully utilize CPU, memory, and I/O resources using servers that are available today in public clouds. To solve this, we use [shared-nothing architecture](https://en.wikipedia.org/wiki/Shared-nothing_architecture), which allows us to partition the keyspace of the memory store between threads so that each thread can manage its own slice of dictionary data. We call these slices \"shards\". The library that powers thread and I/O management for shared-nothing architecture is open-sourced [here](https://github.com/romange/helio).\n\nTo provide atomicity guarantees for multi-key operations, we use the advancements from recent academic research. We chose the paper [\"VLL: a lock manager redesign for main memory database systemsâ€](https://www.cs.umd.edu/~abadi/papers/vldbj-vll.pdf) to develop the transactional framework for Dragonfly. The choice of shared-nothing architecture and VLL allowed us to compose atomic multi-key operations without using mutexes or spinlocks. This was a major milestone for our PoC and its performance stood out from other commercial and open-source solutions.\n\nOur second challenge was to engineer more efficient data structures for the new store. To achieve this goal, we based our core hashtable structure on the paper [\"Dash: Scalable Hashing on Persistent Memory\"](https://arxiv.org/pdf/2003.07302.pdf). The paper itself is centered around the persistent memory domain and is not directly related to main-memory stores, but it's still most applicable to our problem. The hashtable design suggested in the paper allowed us to maintain two special properties that are present in the Redis dictionary: The incremental hashing ability during datastore growth the ability to traverse the dictionary under changes using a stateless scan operation. In addition to these two properties, Dash is more efficient in CPU and memory use. By leveraging Dash's design, we were able to innovate further with the following features:\n * Efficient record expiry for TTL records.\n * A novel cache eviction algorithm that achieves higher hit rates than other caching strategies like LRU and LFU with **zero memory overhead**.\n * A novel **fork-less** snapshotting algorithm.\n\nOnce we had built the foundation for Dragonfly and [we were happy with its performance](#benchmarks), we went on to implement the Redis and Memcached functionality. We have to date implemented ~185 Redis commands (roughly equivalent to Redis 5.0 API) and 13 Memcached commands.\n\nAnd finally, <br>\n<em>Our mission is to build a well-designed, ultra-fast, cost-efficient in-memory datastore for cloud workloads that takes advantage of the latest hardware advancements. We intend to address the pain points of current solutions while preserving their product APIs and propositions.\n</em>\n"
        },
        {
          "name": "README.zh-CN.md",
          "type": "blob",
          "size": 13.29,
          "content": "<p align=\"center\">\n  <a href=\"https://dragonflydb.io\">\n    <img  src=\"/.github/images/logo-full.svg\"\n      width=\"284\" border=\"0\" alt=\"Dragonfly\">\n  </a>\n</p>\n\n\n\n[![ci-tests](https://github.com/dragonflydb/dragonfly/actions/workflows/ci.yml/badge.svg)](https://github.com/dragonflydb/dragonfly/actions/workflows/ci.yml) [![Twitter URL](https://img.shields.io/twitter/follow/dragonflydbio?style=social)](https://twitter.com/dragonflydbio)\n\n> åœ¨æ‚¨ç»§ç»­ä¹‹å‰ï¼Œè¯·è€ƒè™‘ç»™æˆ‘ä»¬ä¸€ä¸ª GitHub æ˜Ÿæ ‡ â­ï¸ã€‚è°¢è°¢ï¼\n\nå…¶ä»–è¯­è¨€:  [English](README.md) [æ—¥æœ¬èª](README.ja-JP.md) [í•œêµ­ì–´](README.ko-KR.md)\n\n[ä¸»é¡µ](https://dragonflydb.io/) â€¢ [å¿«é€Ÿå…¥é—¨](https://github.com/dragonflydb/dragonfly/tree/main/docs/quick-start) â€¢ [ç¤¾åŒº Discord](https://discord.gg/HsPjXGVH85) â€¢ [Dragonfly è®ºå›](https://dragonfly.discourse.group/) â€¢ [åŠ å…¥ Dragonfly ç¤¾åŒº](https://www.dragonflydb.io/community)\n\n[GitHub Discussions](https://github.com/dragonflydb/dragonfly/discussions) â€¢ [GitHub Issues](https://github.com/dragonflydb/dragonfly/issues) â€¢ [è´¡çŒ®æŒ‡å—](https://github.com/dragonflydb/dragonfly/blob/main/CONTRIBUTING.md)\n\n## å…¨ä¸–ç•Œæœ€å¿«çš„å†…å­˜æ•°æ®åº“\n\nDragonflyæ˜¯ä¸€ç§é’ˆå¯¹ç°ä»£åº”ç”¨ç¨‹åºè´Ÿè·éœ€æ±‚è€Œæ„å»ºçš„å†…å­˜æ•°æ®åº“ï¼Œå®Œå…¨å…¼å®¹Rediså’ŒMemcachedçš„ APIï¼Œè¿ç§»æ—¶æ— éœ€ä¿®æ”¹ä»»ä½•ä»£ç ã€‚ç›¸æ¯”äºè¿™äº›ä¼ ç»Ÿçš„å†…å­˜æ•°æ®åº“ï¼ŒDragonflyæä¾›äº†å…¶25å€çš„ååé‡ï¼Œé«˜ç¼“å­˜å‘½ä¸­ç‡å’Œä½å°¾å»¶è¿Ÿï¼Œå¹¶ä¸”å¯¹äºç›¸åŒå¤§å°çš„å·¥ä½œè´Ÿè½½è¿è¡Œèµ„æºæœ€å¤šå¯å‡å°‘80%ã€‚\n\n## ç›®å½•\n\n- [åŸºå‡†æµ‹è¯•](#åŸºå‡†æµ‹è¯•)\n- [å¿«é€Ÿå…¥é—¨](https://github.com/dragonflydb/dragonfly/tree/main/docs/quick-start)\n- [é…ç½®æ–¹æ³•](#é…ç½®æ–¹æ³•)\n- [å¼€å‘è·¯çº¿å’Œå¼€å‘ç°çŠ¶](#å¼€å‘è·¯çº¿å’Œå¼€å‘ç°çŠ¶)\n- [è®¾è®¡å†³ç­–](#è®¾è®¡å†³ç­–)\n- [å¼€å‘èƒŒæ™¯](#å¼€å‘èƒŒæ™¯)\n\n## <a name=\"åŸºå‡†æµ‹è¯•\"><a/> åŸºå‡†æµ‹è¯•\n\n<img src=\"http://static.dragonflydb.io/repo-assets/aws-throughput.svg\" width=\"80%\" border=\"0\"/>\n\nDragonflyåœ¨c6gn.16xlargeä¸Šè¾¾åˆ°äº†æ¯ç§’380ä¸‡ä¸ªæŸ¥è¯¢ï¼ˆQPSï¼‰ï¼Œç›¸æ¯”äºRedisï¼Œååé‡æé«˜äº†25å€ã€‚\n\nåœ¨Dragonflyçš„å³°å€¼ååé‡ä¸‹ï¼ŒP99å»¶è¿Ÿå¦‚ä¸‹ï¼š\n\n| op    | r6g   | c6gn  | c7g   |\n| ----- | ----- | ----- | ----- |\n| set   | 0.8ms | 1ms   | 1ms   |\n| get   | 0.9ms | 0.9ms | 0.8ms |\n| setex | 0.9ms | 1.1ms | 1.3ms |\n\n*æ‰€æœ‰åŸºå‡†æµ‹è¯•å‡ä½¿ç”¨`memtier_benchmark`ï¼ˆè§ä¸‹æ–‡ï¼‰ï¼Œæ ¹æ®æœåŠ¡å™¨ç±»å‹å’Œå®ä¾‹ç±»å‹è°ƒæ•´çº¿ç¨‹æ•°ã€‚`memtier`è¿è¡Œåœ¨ç‹¬ç«‹çš„c6gn.16xlargeæœºå™¨ä¸Šã€‚å¯¹äºsetexåŸºå‡†æµ‹è¯•ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†500çš„åˆ°æœŸèŒƒå›´ï¼Œä»¥ä¾¿å…¶èƒ½å¤Ÿå­˜æ´»ç›´åˆ°æµ‹è¯•ç»“æŸã€‚*\n\n```bash\n  memtier_benchmark --ratio ... -t <threads> -c 30 -n 200000 --distinct-client-seed -d 256 \\\n     --expiry-range=...\n```\n\nå½“ä»¥ç®¡é“æ¨¡å¼è¿è¡Œï¼Œå¹¶è®¾ç½®å‚æ•°`--pipeline=30`æ—¶ï¼ŒDragonflyå¯ä»¥å®ç°**10M qps**çš„SETæ“ä½œå’Œ **15M qps**çš„GETæ“ä½œã€‚\n\n### Memcached / Dragonfly\n\næˆ‘ä»¬åœ¨ AWS çš„ `c6gn.16xlarge` å®ä¾‹ä¸Šæ¯”è¾ƒäº† memcached å’Œ Dragonflyã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä¸ memcached ç›¸æ¯”ï¼ŒDragonfly çš„ååé‡åœ¨è¯»å†™ä¸¤æ–¹é¢ä¸Šéƒ½å æ®äº†ä¼˜åŠ¿ï¼Œå¹¶ä¸”åœ¨å»¶è¿Ÿæ–¹é¢ä¹Ÿè¿˜ä¸é”™ã€‚å¯¹äºå†™å…¥å·¥ä½œï¼ŒDragonfly çš„å»¶è¿Ÿæ›´ä½ï¼Œè¿™æ˜¯ç”±äºåœ¨ memcached çš„å†™å…¥è·¯å¾„ä¸Šå­˜åœ¨ç«äº‰ï¼ˆè¯·å‚è§[æ­¤å¤„](docs/memcached_benchmark.md)ï¼‰ã€‚\n\n#### SET benchmark\n\n|  Server   | QPS(thousands qps) | latency 99% |  99.9%  |\n| :-------: | :----------------: | :---------: | :-----: |\n| Dragonfly |       ğŸŸ© 3844       |   ğŸŸ© 0.9ms   | ğŸŸ© 2.4ms |\n| Memcached |        806         |    1.6ms    |  3.2ms  |\n\n#### GET benchmark\n\n| Server    | QPS(thousands qps) | latency 99% |  99.9%  |\n| --------- | :----------------: | :---------: | :-----: |\n| Dragonfly |       ğŸŸ© 3717       |     1ms     |  2.4ms  |\n| Memcached |        2100        |  ğŸŸ© 0.34ms   | ğŸŸ© 0.6ms |\n\n\nå¯¹äºè¯»å–åŸºå‡†æµ‹è¯•ï¼ŒMemcached è¡¨ç°å‡ºäº†æ›´ä½çš„å»¶è¿Ÿï¼Œä½†åœ¨ååé‡æ–¹é¢æ¯”ä¸ä¸ŠDragonflyã€‚\n\n### å†…å­˜æ•ˆç‡\n\nåœ¨æ¥ä¸‹æ¥çš„æµ‹è¯•ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ `debug populate 5000000 key 1024` å‘½ä»¤å‘ Dragonfly å’Œ Redis åˆ†åˆ«å†™å…¥äº†çº¦ 5GB çš„æ•°æ®ã€‚ç„¶åæˆ‘ä»¬ä½¿ç”¨ `memtier` å‘é€æ›´æ–°æµé‡å¹¶ä½¿ç”¨ `bgsave` å‘½ä»¤å¯åŠ¨å¿«ç…§ã€‚ä¸‹å›¾æ¸…æ¥šåœ°å±•ç¤ºäº†è¿™ä¸¤ä¸ªæœåŠ¡å™¨åœ¨å†…å­˜æ•ˆç‡æ–¹é¢çš„è¡¨ç°ã€‚\n\n<img src=\"http://static.dragonflydb.io/repo-assets/bgsave-memusage.svg\" width=\"70%\" border=\"0\"/>\n\nåœ¨ç©ºé—²çŠ¶æ€ä¸‹ï¼ŒDragonfly æ¯” Redis èŠ‚çœçº¦ 30% çš„å†…å­˜ã€‚\nåœ¨å¿«ç…§é˜¶æ®µï¼ŒDragonfly ä¹Ÿæ²¡æœ‰æ˜¾ç¤ºå‡ºä»»ä½•æ˜æ˜¾çš„å†…å­˜å¢åŠ ã€‚\nä½†åŒæ—¶ï¼ŒRedis åœ¨å³°å€¼æ—¶çš„å†…å­˜å‡ ä¹è¾¾åˆ°äº† Dragonfly çš„ 3 å€ã€‚\nDragonfly å®Œæˆå¿«ç…§ä¹Ÿå¾ˆå¿«ï¼Œä»…åœ¨å¯åŠ¨åå‡ ç§’é’Ÿå†…å°±å®Œæˆäº†ã€‚\næœ‰å…³ Dragonfly å†…å­˜æ•ˆç‡çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è§ [dashtable æ–‡æ¡£](/docs/dashtable.md)ã€‚\n\n\n\n## <a name=\"å¼€å‘è·¯çº¿å’Œå¼€å‘ç°çŠ¶\"><a/>é…ç½®æ–¹æ³•\n\nDragonfly æ”¯æŒ Redis çš„å¸¸è§å‚æ•°ã€‚\nä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥è¿è¡Œï¼š`dragonfly --requirepass=foo --bind localhost`ã€‚\n\nç›®å‰ï¼ŒDragonfly æ”¯æŒä»¥ä¸‹ Redis ç‰¹å®šå‚æ•°ï¼š\n\n* `port`ï¼šRedis è¿æ¥ç«¯å£ï¼Œé»˜è®¤ä¸º `6379`ã€‚\n* `bind`ï¼šä½¿ç”¨æœ¬åœ°ä¸»æœºåä»…å…è®¸æœ¬åœ°è¿æ¥ï¼Œä½¿ç”¨å…¬å…± IP åœ°å€å…è®¸å¤–éƒ¨è¿æ¥åˆ°**è¯¥ IP åœ°å€**ã€‚\n* `requirepass`ï¼šAUTH è®¤è¯å¯†ç ï¼Œé»˜è®¤ä¸ºç©º `\"\"`ã€‚\n* `maxmemory`ï¼šé™åˆ¶æ•°æ®åº“ä½¿ç”¨çš„æœ€å¤§å†…å­˜ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰ã€‚`0` è¡¨ç¤ºç¨‹åºå°†è‡ªåŠ¨ç¡®å®šå…¶æœ€å¤§å†…å­˜ä½¿ç”¨é‡ã€‚é»˜è®¤ä¸º `0`ã€‚\n* `dir`ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œdragonfly docker ä½¿ç”¨ `/data` æ–‡ä»¶å¤¹è¿›è¡Œå¿«ç…§ã€‚CLI ä½¿ç”¨çš„æ˜¯ `\"\"`ã€‚ä½ å¯ä»¥ä½¿ç”¨ `-v` docker é€‰é¡¹å°†å…¶æ˜ å°„åˆ°ä¸»æœºæ–‡ä»¶å¤¹ã€‚\n* `dbfilename`ï¼šä¿å­˜/åŠ è½½æ•°æ®åº“çš„æ–‡ä»¶åã€‚é»˜è®¤ä¸º `dump`ï¼›\n\næ­¤å¤–ï¼Œè¿˜æœ‰ Dragonfly ç‰¹å®šçš„å‚æ•°é€‰é¡¹ï¼š\n\n* `memcached_port`ï¼šåœ¨æ­¤ç«¯å£ä¸Šå¯ç”¨ memcached å…¼å®¹çš„ APIã€‚é»˜è®¤ç¦ç”¨ã€‚\n\n* `keys_output_limit`ï¼šåœ¨`keys` å‘½ä»¤ä¸­è¿”å›çš„æœ€å¤§é”®æ•°ã€‚é»˜è®¤ä¸º `8192`ã€‚\n\n  `keys` å‘½ä»¤æ˜¯å±é™©å‘½ä»¤ã€‚æˆ‘ä»¬ä¼šæˆªæ–­ç»“æœä»¥é¿å…åœ¨è·å–å¤ªå¤šé”®æ—¶å†…å­˜æº¢å‡ºã€‚\n\n* `dbnum`ï¼š`select` æ”¯æŒçš„æœ€å¤§æ•°æ®åº“æ•°ã€‚\n\n* `cache_mode`ï¼šè¯·å‚è§ä¸‹é¢çš„ [ç¼“å­˜](#å…¨æ–°çš„ç¼“å­˜è®¾è®¡) éƒ¨åˆ†ã€‚\n\n* `hz`ï¼šé”®åˆ°æœŸè¯„ä¼°é¢‘ç‡ã€‚é»˜è®¤ä¸º `100`ã€‚ç©ºé—²æ—¶ï¼Œä½¿ç”¨è¾ƒä½çš„é¢‘ç‡å¯ä»¥å ç”¨è¾ƒå°‘çš„ CPUèµ„æºï¼Œä½†è¿™ä¼šå¯¼è‡´æ¸…ç†è¿‡æœŸé”®çš„é€Ÿåº¦ä¸‹é™ã€‚\n\n* `snapshot_cron`ï¼šå®šæ—¶è‡ªåŠ¨å¤‡ä»½å¿«ç…§çš„ cron è¡¨è¾¾å¼ï¼Œä½¿ç”¨æ ‡å‡†çš„ã€ç²¾ç¡®åˆ°åˆ†é’Ÿçš„ cron è¯­æ³•ã€‚é»˜è®¤ä¸ºç©º `\"\"`ã€‚\n\n  ä¸‹é¢æ˜¯ä¸€äº› cron è¡¨è¾¾å¼çš„ç¤ºä¾‹ï¼Œæ›´å¤šå…³äºæ­¤å‚æ•°çš„ç»†èŠ‚è¯·å‚è§[æ–‡æ¡£](https://www.dragonflydb.io/docs/managing-dragonfly/backups#the-snapshot_cron-flag)ã€‚\n\n  | Cron è¡¨è¾¾å¼      | æè¿°                               |\n  |---------------|----------------------------------|\n  | `* * * * *`   | æ¯åˆ†é’Ÿ                              |\n  | `*/5 * * * *` | æ¯éš” 5 åˆ†é’Ÿ (00:00, 00:05, 00:10...) |\n  | `5 */2 * * *` | æ¯éš” 2 å°æ—¶çš„ç¬¬ 5 åˆ†é’Ÿ                   |\n  | `0 0 * * *`   | æ¯å¤©çš„ 00:00 åˆå¤œ                     |\n  | `0 6 * * 1-5` | ä»æ˜ŸæœŸä¸€åˆ°æ˜ŸæœŸäº”çš„æ¯å¤© 06:00 é»æ˜             |\n* `primary_port_http_enabled`ï¼šå¦‚æœä¸º trueï¼Œåˆ™å…è®¸åœ¨ä¸» TCP ç«¯å£ä¸Šè®¿é—® HTTP æ§åˆ¶å°ã€‚é»˜è®¤ä¸º `true`ã€‚\n\n* `admin_port`ï¼šå¦‚æœè®¾ç½®ï¼Œå°†åœ¨æŒ‡å®šçš„ç«¯å£ä¸Šå¯ç”¨å¯¹æ§åˆ¶å°çš„ç®¡ç†è®¿é—®ã€‚æ”¯æŒ HTTP å’Œ RESP åè®®ã€‚é»˜è®¤ç¦ç”¨ã€‚\n\n* `admin_bind`ï¼šå¦‚æœè®¾ç½®ï¼Œå°†ç®¡ç†æ§åˆ¶å° TCP è¿æ¥ç»‘å®šåˆ°ç»™å®šåœ°å€ã€‚æ”¯æŒ HTTP å’Œ RESP åè®®ã€‚é»˜è®¤ä¸º `any`ã€‚\n\n* `admin_nopass`: å¦‚æœè®¾ç½®ï¼Œå…è®¸åœ¨ä¸æä¾›ä»»ä½•è®¤è¯ä»¤ç‰Œçš„æƒ…å†µä¸‹ï¼Œé€šè¿‡æŒ‡å®šçš„ç«¯å£è®¿é—®ç®¡ç†æ§åˆ¶å°ã€‚åŒæ—¶æ”¯æŒ HTTP å’Œ RESP åè®®ã€‚ é»˜è®¤ä¸º `false`ã€‚\n\n* `cluster_mode`ï¼šæ”¯æŒé›†ç¾¤æ¨¡å¼ã€‚ç›®å‰ä»…æ”¯æŒ `emulated`ã€‚é»˜è®¤ä¸ºç©º `\"\"`ã€‚\n\n* `cluster_announce_ip`ï¼šé›†ç¾¤æ¨¡å¼ä¸‹å‘å®¢æˆ·ç«¯å…¬å¼€çš„ IPã€‚\n\n### å¯åŠ¨è„šæœ¬ç¤ºä¾‹ï¼ŒåŒ…å«å¸¸ç”¨é€‰é¡¹ï¼š\n\n```bash\n./dragonfly-x86_64 --logtostderr --requirepass=youshallnotpass --cache_mode=true -dbnum 1 --bind localhost --port 6379 --maxmemory=12gb --keys_output_limit=12288 --dbfilename dump.rdb\n```\nè¿˜å¯ä»¥é€šè¿‡è¿è¡Œ `dragonfly --flagfile <filename>` ä»é…ç½®æ–‡ä»¶ä¸­è·å–å‚æ•°ï¼Œé…ç½®æ–‡ä»¶çš„æ¯è¡Œåº”è¯¥åˆ—å‡ºä¸€ä¸ªå‚æ•°ï¼Œå¹¶ç”¨ç­‰å·ä»£æ›¿é”®å€¼å‚æ•°çš„ç©ºæ ¼ã€‚\n\nè¦è·å–æ›´å¤šé€‰é¡¹ï¼Œå¦‚æ—¥å¿—ç®¡ç†æˆ–TLSæ”¯æŒï¼Œè¯·è¿è¡Œ `dragonfly --help`ã€‚\n\n## <a name=\"å¼€å‘è·¯çº¿å’Œå¼€å‘ç°çŠ¶\"><a/>å¼€å‘è·¯çº¿å’Œå¼€å‘ç°çŠ¶\n\nç›®å‰ï¼ŒDragonflyæ”¯æŒçº¦185ä¸ªRediså‘½ä»¤ä»¥åŠé™¤ `cas` ä¹‹å¤–çš„æ‰€æœ‰ Memcached å‘½ä»¤ã€‚\næˆ‘ä»¬å‡ ä¹è¾¾åˆ°äº†Redis 5 APIçš„æ°´å¹³ã€‚æˆ‘ä»¬çš„ä¸‹ä¸€ä¸ªé‡Œç¨‹ç¢‘æ›´æ–°å°†ä¼šç¨³å®šåŸºæœ¬åŠŸèƒ½å¹¶å®ç°å¤åˆ»APIã€‚\nå¦‚æœæ‚¨å‘ç°æ‚¨éœ€è¦çš„å‘½ä»¤å°šæœªå®ç°ï¼Œè¯·æå‡ºä¸€ä¸ªIssueã€‚\n\nå¯¹äºdragonfly-nativeå¤åˆ¶æŠ€æœ¯ï¼Œæˆ‘ä»¬æ­£åœ¨è®¾è®¡ä¸€ç§åˆ†å¸ƒå¼æ—¥å¿—æ ¼å¼ï¼Œè¯¥æ ¼å¼å°†æ”¯æŒæ›´é«˜çš„é€Ÿåº¦ã€‚\n\nåœ¨å®ç°å¤åˆ¶åŠŸèƒ½ä¹‹åï¼Œæˆ‘ä»¬å°†ç»§ç»­å®ç°API 3-6ä¸­å…¶ä»–ç¼ºå¤±çš„Rediså‘½ä»¤ã€‚\n\nè¯·å‚è§[å‘½ä»¤å‚è€ƒ](https://dragonflydb.io/docs/category/command-reference)ä»¥äº†è§£Dragonflyå½“å‰æ”¯æŒçš„å‘½ä»¤ã€‚\n\n## <a name=\"è®¾è®¡å†³ç­–\"><a/> è®¾è®¡å†³ç­–\n\n### å…¨æ–°çš„ç¼“å­˜è®¾è®¡\n\nDragonflyé‡‡ç”¨å•ä¸€çš„è‡ªé€‚åº”ç¼“å­˜ç®—æ³•ï¼Œè¯¥ç®—æ³•éå¸¸ç®€å•ä¸”å…·å¤‡é«˜å†…å­˜æ•ˆç‡ã€‚\nä½ å¯ä»¥é€šè¿‡ä½¿ç”¨ `--cache_mode=true` å‚æ•°æ¥å¯ç”¨ç¼“å­˜æ¨¡å¼ã€‚ä¸€æ—¦å¯ç”¨äº†æ­¤æ¨¡å¼ï¼ŒDragonflyå°†ä¼šåˆ é™¤æœ€ä½æ¦‚ç‡å¯èƒ½è¢«ä½¿ç”¨çš„å†…å®¹ï¼Œä½†è¿™åªä¼šåœ¨æ¥è¿‘æœ€å¤§å†…å­˜é™åˆ¶æ—¶å‘ç”Ÿã€‚\n\n### ç›¸å¯¹å‡†ç¡®çš„è¿‡æœŸæœŸé™\n\nè¿‡æœŸèŒƒå›´é™åˆ¶æœ€é«˜ä¸ºçº¦8å¹´ã€‚æ­¤å¤–ï¼Œ**å¯¹äºå¤§äº2^28msçš„åˆ°æœŸæœŸé™**ï¼Œæ¯«ç§’ç²¾åº¦çº§åˆ«ï¼ˆPEXPIRE/PSETEXç­‰ï¼‰ä¼šè¢«ç®€åŒ–åˆ°ç§’çº§ã€‚\nè¿™ç§èˆå…¥çš„è¯¯å·®å°äº0.001ï¼…ï¼Œæˆ‘å¸Œæœ›è¿™åœ¨é•¿æ—¶é—´èŒƒå›´æƒ…å†µä¸‹æ˜¯å¯ä»¥æ¥å—çš„ã€‚\nå¦‚æœè¿™ä¸ç¬¦åˆä½ çš„ä½¿ç”¨éœ€æ±‚ï¼Œè¯·ä¸æˆ‘è”ç³»æˆ–æå‡ºä¸€ä¸ªIssueï¼Œå¹¶è§£é‡Šæ‚¨çš„æƒ…å†µã€‚\n\nå…³äºä¸Rediså®ç°ä¹‹é—´çš„æ›´å¤šå·®å¼‚ï¼Œè¯·å‚è§[æ­¤å¤„](docs/differences.md)ã€‚\n\n### åŸç”ŸHTTPæ§åˆ¶å°å’Œå…¼å®¹Prometheusçš„æ ‡å‡†\n\né»˜è®¤æƒ…å†µä¸‹ï¼ŒDragonflyå…è®¸é€šè¿‡å…¶ä¸»TCPç«¯å£ï¼ˆ6379ï¼‰è¿›è¡ŒHTTPè®¿é—®ã€‚æ²¡é”™ï¼Œæ‚¨å¯ä»¥é€šè¿‡Redisåè®®æˆ–HTTPåè®®è¿æ¥åˆ°Dragonfly - æœåŠ¡å™¨ä¼šåœ¨è¿æ¥åˆå§‹åŒ–æœŸé—´è‡ªåŠ¨è¯†åˆ«åè®®ã€‚ ä¸å¦¨åœ¨ä½ è‡ªå·±çš„æµè§ˆå™¨ä¸­å°è¯•ä¸€ä¸‹ã€‚ç°åœ¨HTTPè®¿é—®æ²¡æœ‰å¤ªå¤šä¿¡æ¯å¯ä¾›å‚è€ƒï¼Œä½†åœ¨å°†æ¥ï¼Œæˆ‘ä»¬è®¡åˆ’æ·»åŠ æœ‰ç”¨çš„è°ƒè¯•å’Œç®¡ç†ä¿¡æ¯ã€‚å¦‚æœæ‚¨è½¬åˆ°`: 6379/metrics` URLï¼Œæ‚¨å°†çœ‹åˆ°ä¸€äº›å…¼å®¹Prometheusçš„æ ‡å‡†ã€‚\n\nPrometheuså¯¼å‡ºçš„æ ‡å‡†ä¸Grafanaä»ªè¡¨ç›˜å…¼å®¹ï¼Œ[è¯·å‚è§æ­¤å¤„](tools/local/monitoring/grafana/provisioning/dashboards/dashboard.json)ã€‚\n\né‡è¦ï¼HTTPæ§åˆ¶å°ä»…åº”åœ¨å®‰å…¨ç½‘ç»œå†…è®¿é—®ã€‚å¦‚æœæ‚¨å°†Dragonflyçš„TCPç«¯å£æš´éœ²åœ¨å¤–éƒ¨ï¼Œåˆ™å»ºè®®ä½¿ç”¨`--http_admin_console=false`æˆ–`--nohttp_admin_console`ç¦ç”¨æ§åˆ¶å°ã€‚\n\n\n## <a name=\"å¼€å‘èƒŒæ™¯\"><a/>å¼€å‘èƒŒæ™¯\n\nDragonflyå§‹äºä¸€é¡¹å®éªŒï¼Œæ—¨åœ¨æ¢ç´¢å¦‚æœåœ¨2022å¹´é‡æ–°è®¾è®¡å†…å­˜æ•°æ®åº“ï¼Œå®ƒä¼šæ˜¯ä»€ä¹ˆæ ·å­ã€‚åŸºäºæˆ‘ä»¬ä½œä¸ºå†…å­˜å­˜å‚¨çš„ç”¨æˆ·ä»¥åŠä½œä¸ºäº‘æœåŠ¡å…¬å¸çš„å·¥ç¨‹å¸ˆçš„ç»éªŒæ•™è®­ï¼Œæˆ‘ä»¬å¾—çŸ¥éœ€è¦ä¿ç•™Dragonflyçš„ä¸¤ä¸ªå…³é”®å±æ€§ï¼ša) ä¸ºå…¶æ‰€æœ‰æ“ä½œæä¾›åŸå­æ€§ä¿è¯ï¼Œb) ä¿è¯åœ¨éå¸¸é«˜çš„ååé‡ä¸‹å®ç°ä½äºæ¯«ç§’çš„å»¶è¿Ÿã€‚\n\næˆ‘ä»¬é¢ä¸´çš„é¦–è¦æŒ‘æˆ˜æ˜¯å¦‚ä½•å……åˆ†åˆ©ç”¨å½“ä»Šäº‘æœåŠ¡å™¨çš„CPUã€å†…å­˜å’ŒI/Oèµ„æºã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬ä½¿ç”¨äº† [æ— å…±äº«å¼æ¶æ„ï¼ˆshared-nothing architectureï¼‰](https://en.wikipedia.org/wiki/Shared-nothing_architecture)ï¼Œå®ƒå…è®¸æˆ‘ä»¬åœ¨ä¸åŒçš„çº¿ç¨‹ä¹‹é—´åˆ†å‰²å†…å­˜å­˜å‚¨çš„ç©ºé—´ï¼Œä½¿å¾—æ¯ä¸ªçº¿ç¨‹å¯ä»¥ç®¡ç†è‡ªå·±çš„å­—å…¸æ•°æ®åˆ‡ç‰‡ã€‚æˆ‘ä»¬ç§°è¿™äº›åˆ‡ç‰‡ä¸ºâ€œåˆ†ç‰‡ï¼ˆshardsï¼‰â€ã€‚ä¸ºæ— å…±äº«å¼æ¶æ„æä¾›çº¿ç¨‹å’ŒI/Oç®¡ç†åŠŸèƒ½çš„åº“åœ¨[è¿™é‡Œ](https://github.com/romange/helio)å¼€æºã€‚\n\nä¸ºäº†æä¾›å¯¹å¤šé”®å¹¶å‘æ“ä½œçš„åŸå­æ€§ä¿è¯ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†æœ€è¿‘å­¦æœ¯ç ”ç©¶çš„è¿›å±•ã€‚æˆ‘ä»¬é€‰æ‹©äº†è®ºæ–‡ [\"VLL: a lock manager redesign for main memory database systemsâ€](https://www.cs.umd.edu/~abadi/papers/vldbj-vll.pdf) æ¥å¼€å‘Dragonflyçš„äº‹åŠ¡æ¡†æ¶ã€‚æ— å…±äº«å¼æ¶æ„å’ŒVLLçš„é€‰æ‹©ä½¿æˆ‘ä»¬èƒ½å¤Ÿåœ¨ä¸ä½¿ç”¨äº’æ–¥é”æˆ–è‡ªæ—‹é”çš„æƒ…å†µä¸‹ç»„åˆåŸå­çš„å¤šé”®æ“ä½œã€‚è¿™æ˜¯æˆ‘ä»¬ PoC çš„ä¸€ä¸ªé‡è¦é‡Œç¨‹ç¢‘ï¼Œå®ƒçš„æ€§èƒ½åœ¨å•†ä¸šå’Œå¼€æºè§£å†³æ–¹æ¡ˆä¸­è„±é¢–è€Œå‡ºã€‚\n\næˆ‘ä»¬é¢ä¸´çš„ç¬¬äºŒä¸ªæŒ‘æˆ˜æ˜¯ä¸ºæ–°å­˜å‚¨è®¾è®¡æ›´é«˜æ•ˆçš„æ•°æ®ç»“æ„ã€‚ä¸ºäº†å®ç°è¿™ä¸ªç›®æ ‡ï¼Œæˆ‘ä»¬åŸºäºè®ºæ–‡[\"Dash: Scalable Hashing on Persistent Memory\"](https://arxiv.org/pdf/2003.07302.pdf)æ„å»ºäº†æ ¸å¿ƒå“ˆå¸Œè¡¨ç»“æ„ã€‚è¿™ç¯‡è®ºæ–‡æœ¬èº«æ˜¯ä»¥æŒä¹…æ€§å†…å­˜ä¸ºä¸­å¿ƒçš„ï¼Œä¸ä¸»å­˜æ²¡æœ‰ç›´æ¥ç›¸å…³æ€§ã€‚\n\nç„¶è€Œï¼Œå®ƒéå¸¸é€‚ç”¨äºæˆ‘ä»¬çš„é—®é¢˜ã€‚å®ƒæå‡ºäº†ä¸€ç§å“ˆå¸Œè¡¨è®¾è®¡ï¼Œå…è®¸æˆ‘ä»¬ç»´æŠ¤Rediså­—å…¸ä¸­å­˜åœ¨çš„ä¸¤ä¸ªç‰¹æ®Šå±æ€§ï¼ša) æ•°æ®å­˜å‚¨å¢é•¿æ—¶çš„æ¸è¿›å¼å“ˆå¸Œèƒ½åŠ›ï¼›bï¼‰ä½¿ç”¨æ— çŠ¶æ€æ‰«ææ“ä½œæ—¶ï¼Œéå†å˜åŒ–çš„å­—å…¸çš„èƒ½åŠ›ã€‚é™¤äº†è¿™ä¸¤ä¸ªå±æ€§ä¹‹å¤–ï¼ŒDashåœ¨CPUå’Œå†…å­˜æ–¹é¢éƒ½æ›´åŠ é«˜æ•ˆã€‚é€šè¿‡åˆ©ç”¨Dashçš„è®¾è®¡ï¼Œæˆ‘ä»¬èƒ½å¤Ÿè¿›ä¸€æ­¥åˆ›æ–°ï¼Œå®ç°ä»¥ä¸‹åŠŸèƒ½ï¼š\n\n- é’ˆå¯¹TTLçš„é«˜æ•ˆè®°å½•è¿‡æœŸåŠŸèƒ½ã€‚\n- ä¸€ç§æ–°é¢–çš„ç¼“å­˜é©±é€ç®—æ³•ï¼Œå…·æœ‰æ¯”å…¶ä»–ç¼“å­˜ç­–ç•¥ï¼ˆå¦‚LRUå’ŒLFUï¼‰æ›´é«˜çš„å‘½ä¸­ç‡ï¼ŒåŒæ—¶**é›¶å†…å­˜å¼€é”€**ã€‚\n- ä¸€ç§æ–°é¢–çš„æ— forkå¿«ç…§ç®—æ³•ã€‚\n\nåœ¨æˆ‘ä»¬ä¸ºDragonflyæ‰“ä¸‹åŸºç¡€å¹¶æ»¡æ„å…¶[æ€§èƒ½](#åŸºå‡†æµ‹è¯•)åï¼Œæˆ‘ä»¬å¼€å§‹å®ç°Rediså’ŒMemcachedåŠŸèƒ½ã€‚\nç›®å‰ï¼Œæˆ‘ä»¬å·²ç»å®ç°äº†çº¦185ä¸ªRediså‘½ä»¤ï¼ˆå¤§è‡´ç›¸å½“äºRedis 5.0 APIï¼‰å’Œ13ä¸ªMemcachedå‘½ä»¤ã€‚\n\næœ€åï¼Œ<br>\n<em>æˆ‘ä»¬çš„ä½¿å‘½æ˜¯æ„å»ºä¸€ä¸ªè®¾è®¡è‰¯å¥½ã€è¶…é«˜é€Ÿã€æˆæœ¬æ•ˆç›Šé«˜çš„äº‘å·¥ä½œè´Ÿè½½å†…å­˜æ•°æ®å­˜å‚¨ç³»ç»Ÿï¼Œåˆ©ç”¨æœ€æ–°çš„ç¡¬ä»¶æŠ€æœ¯ã€‚æˆ‘ä»¬æ—¨åœ¨è§£å†³å½“å‰è§£å†³æ–¹æ¡ˆçš„ç—›ç‚¹ï¼ŒåŒæ—¶ä¿ç•™å…¶äº§å“APIå’Œä¼˜åŠ¿ã€‚</em>\n"
        },
        {
          "name": "TODO.md",
          "type": "blob",
          "size": 1.55,
          "content": "1. To move lua_project to dragonfly from helio (DONE)\n2. To limit lua stack to something reasonable like 4096.\n3. To inject our own allocator to lua to track its memory.\n\n\n## Object lifecycle and thread-safety.\n\nCurrently our transactional and locking model is based on an assumption that any READ or WRITE\naccess to objects must be performed in a shard where they belong.\n\nHowever, this assumption can be relaxed to get significant gains for read-only queries.\n\n### Explanation\nOur transactional framework prevents from READ-locked objects to be mutated. It does not prevent from their PrimaryTable to grow or change, of course. These objects can move to different entries inside the table. However, our CompactObject maintains the following property - its reference CompactObject.AsRef() is valid no matter where the master object moves and it's valid and safe for reading even from other threads. The exception regarding thread safety is SmallString which uses translation table for its pointers.\n\nIf we change the SmallString translation table to be global and thread-safe (it should not have lots of write contention anyway) we may access primetable keys and values from another thread and write them directly to sockets.\n\nUse-case: large strings that need to be copied. Sets that need to be serialized for SMEMBERS/HGETALL commands etc. Additional complexity - we will need to lock those variables even for single hop transactions and unlock them afterwards. The unlocking hop does not need to increase user-visible latency since it can be done after we send reply to the socket."
        },
        {
          "name": "cmake",
          "type": "tree",
          "content": null
        },
        {
          "name": "contrib",
          "type": "tree",
          "content": null
        },
        {
          "name": "docs",
          "type": "tree",
          "content": null
        },
        {
          "name": "go.work",
          "type": "blob",
          "size": 0.06,
          "content": "go 1.20\n\nuse (\n\t./contrib/charts/dragonfly\n\t./tools/replay\n)\n"
        },
        {
          "name": "go.work.sum",
          "type": "blob",
          "size": 0.37,
          "content": "github.com/kr/pretty v0.3.1/go.mod h1:hoEshYVHaxMs3cyo3Yncou5ZscifuDolrwPKZanG3xk=\ngithub.com/pkg/diff v0.0.0-20210226163009-20ebb0f2a09e/go.mod h1:pJLUxLENpZxwdsKMEsNbx1VGcRFpLqf3715MtcvvzbA=\ngithub.com/rogpeppe/go-internal v1.9.0/go.mod h1:WtVeX8xhTBvf0smdhujwtBcq4Qrzq/fJaraNFVN+nFs=\ngithub.com/rogpeppe/go-internal v1.10.0/go.mod h1:UQnix2H7Ngw/k4C5ijL5+65zddjncjaFoBhdsK/akog=\n"
        },
        {
          "name": "helio",
          "type": "commit",
          "content": null
        },
        {
          "name": "pyproject.toml",
          "type": "blob",
          "size": 0.15,
          "content": "[tool.black]\nline-length = 100\ninclude = '\\.py$'\nextend-exclude = '''\n/(\n    | .git\n    | .__pycache__\n    | build-dbg\n    | build-opt\n    | helio\n)/\n'''\n"
        },
        {
          "name": "src",
          "type": "tree",
          "content": null
        },
        {
          "name": "tests",
          "type": "tree",
          "content": null
        },
        {
          "name": "tools",
          "type": "tree",
          "content": null
        }
      ]
    }
  ]
}