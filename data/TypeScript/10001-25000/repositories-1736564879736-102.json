{
  "metadata": {
    "timestamp": 1736564879736,
    "page": 102,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjExMA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "baidu/amis",
      "stars": 17661,
      "defaultBranch": "master",
      "files": [
        {
          "name": ".dockerignore",
          "type": "blob",
          "size": 0.068359375,
          "content": "node_modules/\npublic/\nlib/\nnpm/\n.git/\n.github/\n.vscode/\n.rollup.cache\n"
        },
        {
          "name": ".editorconfig",
          "type": "blob",
          "size": 0.28125,
          "content": "root = true\n\n[*]\nend_of_line = lf\ncharset = utf-8\ntrim_trailing_whitespace = true\ninsert_final_newline = true\n\n[**.{js,ts,tsx,scss}]\nindent_style = space\nindent_size = 2\n\n[**.{py}]\nindent_style = space\nindent_size = 4\n\n[*.md]\ntrim_trailing_whitespace = false\n\n[**.tsv]\nindent_style = tab\n"
        },
        {
          "name": ".gitattributes",
          "type": "blob",
          "size": 0.216796875,
          "content": "# 避免 windows 下自动转\n* text eol=lf\n*.jpg   -text\n*.png   -text\n*.eot   -text\n*.otf binary\n*.eot binary\n*.svg binary\n*.ttf binary\n*.woff binary\n*.docx binary\n*.xlsx binary\n*.pptx binary\n*.TTF binary\n*.sketch binary"
        },
        {
          "name": ".github",
          "type": "tree",
          "content": null
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.427734375,
          "content": "# Files\n.DS_Store\n.ruby-version\ntest.sass\nnpm-debug.log\nyarn.lock\n\n\n# Folders\n.idea/\n.sass-cache\ngh_pages\n_site\nnode_modules\n/dist\n/lib\n**/esm\n**/lib\n/sdk\n/public\n/gh-pages\n/.vscode/*\n/output\n/toolkit/amis-renderer\n/toolkit/output\n/coverage\n/npm\n/mock/cfc/cfc.zip\n.rollup.cache\n/theme-npm\n\ndist\ntsconfig.tsbuildinfo\nlerna-debug.log\n.rollup.cache\npackage-lock.json\nrevision.json\n**/revision.json\n~$*\n\n\n!/.vscode/iconConfig.json\npublish.sh\n"
        },
        {
          "name": ".gitpod.yml",
          "type": "blob",
          "size": 0.6845703125,
          "content": "# This configuration file was automatically generated by Gitpod.\n# Please adjust to your needs (see https://www.gitpod.io/docs/introduction/learn-gitpod/gitpod-yaml)\n# and commit this file to your remote git repository to share the goodness with others.\n\n# Learn more from ready-to-use templates: https://www.gitpod.io/docs/introduction/getting-started/quickstart\n\nports:\n  - port: 3000\n    onOpen: ignore\n    visibility: public\n  - port: 8888\n    onOpen: ignore\n    visibility: public\n\ntasks:\n  - name: SDK\n    command: |\n      npm i\n      npm run build --workspace amis --workspace amis-ui\n      npx -y serve packages/amis/\n  - name: Amis\n    command: |\n      gp await-port 3000\n      npm run start\n"
        },
        {
          "name": ".husky",
          "type": "tree",
          "content": null
        },
        {
          "name": ".npmrc",
          "type": "blob",
          "size": 0.0400390625,
          "content": "legacy-peer-deps=true\npackage-lock=false\n"
        },
        {
          "name": ".prettierrc",
          "type": "blob",
          "size": 0.3525390625,
          "content": "{\n  \"printWidth\": 80,\n  \"tabWidth\": 2,\n  \"useTabs\": false,\n  \"singleQuote\": true,\n  \"semi\": true,\n  \"trailingComma\": \"none\",\n  \"bracketSpacing\": false,\n  \"quoteProps\": \"consistent\",\n  \"arrowParens\": \"avoid\",\n  \"jsxBracketSameLine\": false,\n  \"overrides\": [\n    {\n      \"files\": \"src/locale/*.ts\",\n      \"options\": {\n        \"printWidth\": 800\n      }\n    }\n  ]\n}\n"
        },
        {
          "name": ".stylelintrc.json",
          "type": "blob",
          "size": 0.2978515625,
          "content": "{\n  \"rules\": {\n    \"color-hex-case\": \"lower\",\n    \"no-extra-semicolons\": true,\n    \"declaration-colon-space-after\": \"always-single-line\",\n    \"block-no-empty\": true\n  },\n  \"overrides\": [\n    {\n      \"files\": [\n        \"*.scss\",\n        \"**/*.scss\"\n      ],\n      \"customSyntax\": \"postcss-scss\"\n    }\n  ]\n}"
        },
        {
          "name": ".swcrc",
          "type": "blob",
          "size": 0.4462890625,
          "content": "{\n  \"$schema\": \"https://json.schemastore.org/swcrc\",\n  \"jsc\": {\n    \"parser\": {\n      \"syntax\": \"typescript\",\n      \"tsx\": true,\n      \"decorators\": true,\n      \"dynamicImport\": true\n    },\n    \"transform\": {\n      \"decoratorMetadata\": true,\n      \"legacyDecorator\": true,\n      \"react\": {\n        \"runtime\": \"classic\"\n      }\n    },\n    \"keepClassNames\": true,\n    \"externalHelpers\": true,\n    \"loose\": false\n  },\n  \"sourceMaps\": true,\n  \"minify\": false\n}\n"
        },
        {
          "name": ".travis.yml",
          "type": "blob",
          "size": 0.0625,
          "content": "language: node_js\nnode_js:\n  - 12\nscript: sh deploy-gh-pages.sh\n"
        },
        {
          "name": ".vscode",
          "type": "tree",
          "content": null
        },
        {
          "name": "LICENSE",
          "type": "blob",
          "size": 11.0693359375,
          "content": "                                 Apache License\n                           Version 2.0, January 2004\n                        http://www.apache.org/licenses/\n\n   TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION\n\n   1. Definitions.\n\n      \"License\" shall mean the terms and conditions for use, reproduction,\n      and distribution as defined by Sections 1 through 9 of this document.\n\n      \"Licensor\" shall mean the copyright owner or entity authorized by\n      the copyright owner that is granting the License.\n\n      \"Legal Entity\" shall mean the union of the acting entity and all\n      other entities that control, are controlled by, or are under common\n      control with that entity. For the purposes of this definition,\n      \"control\" means (i) the power, direct or indirect, to cause the\n      direction or management of such entity, whether by contract or\n      otherwise, or (ii) ownership of fifty percent (50%) or more of the\n      outstanding shares, or (iii) beneficial ownership of such entity.\n\n      \"You\" (or \"Your\") shall mean an individual or Legal Entity\n      exercising permissions granted by this License.\n\n      \"Source\" form shall mean the preferred form for making modifications,\n      including but not limited to software source code, documentation\n      source, and configuration files.\n\n      \"Object\" form shall mean any form resulting from mechanical\n      transformation or translation of a Source form, including but\n      not limited to compiled object code, generated documentation,\n      and conversions to other media types.\n\n      \"Work\" shall mean the work of authorship, whether in Source or\n      Object form, made available under the License, as indicated by a\n      copyright notice that is included in or attached to the work\n      (an example is provided in the Appendix below).\n\n      \"Derivative Works\" shall mean any work, whether in Source or Object\n      form, that is based on (or derived from) the Work and for which the\n      editorial revisions, annotations, elaborations, or other modifications\n      represent, as a whole, an original work of authorship. For the purposes\n      of this License, Derivative Works shall not include works that remain\n      separable from, or merely link (or bind by name) to the interfaces of,\n      the Work and Derivative Works thereof.\n\n      \"Contribution\" shall mean any work of authorship, including\n      the original version of the Work and any modifications or additions\n      to that Work or Derivative Works thereof, that is intentionally\n      submitted to Licensor for inclusion in the Work by the copyright owner\n      or by an individual or Legal Entity authorized to submit on behalf of\n      the copyright owner. For the purposes of this definition, \"submitted\"\n      means any form of electronic, verbal, or written communication sent\n      to the Licensor or its representatives, including but not limited to\n      communication on electronic mailing lists, source code control systems,\n      and issue tracking systems that are managed by, or on behalf of, the\n      Licensor for the purpose of discussing and improving the Work, but\n      excluding communication that is conspicuously marked or otherwise\n      designated in writing by the copyright owner as \"Not a Contribution.\"\n\n      \"Contributor\" shall mean Licensor and any individual or Legal Entity\n      on behalf of whom a Contribution has been received by Licensor and\n      subsequently incorporated within the Work.\n\n   2. Grant of Copyright License. Subject to the terms and conditions of\n      this License, each Contributor hereby grants to You a perpetual,\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n      copyright license to reproduce, prepare Derivative Works of,\n      publicly display, publicly perform, sublicense, and distribute the\n      Work and such Derivative Works in Source or Object form.\n\n   3. Grant of Patent License. Subject to the terms and conditions of\n      this License, each Contributor hereby grants to You a perpetual,\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n      (except as stated in this section) patent license to make, have made,\n      use, offer to sell, sell, import, and otherwise transfer the Work,\n      where such license applies only to those patent claims licensable\n      by such Contributor that are necessarily infringed by their\n      Contribution(s) alone or by combination of their Contribution(s)\n      with the Work to which such Contribution(s) was submitted. If You\n      institute patent litigation against any entity (including a\n      cross-claim or counterclaim in a lawsuit) alleging that the Work\n      or a Contribution incorporated within the Work constitutes direct\n      or contributory patent infringement, then any patent licenses\n      granted to You under this License for that Work shall terminate\n      as of the date such litigation is filed.\n\n   4. Redistribution. You may reproduce and distribute copies of the\n      Work or Derivative Works thereof in any medium, with or without\n      modifications, and in Source or Object form, provided that You\n      meet the following conditions:\n\n      (a) You must give any other recipients of the Work or\n          Derivative Works a copy of this License; and\n\n      (b) You must cause any modified files to carry prominent notices\n          stating that You changed the files; and\n\n      (c) You must retain, in the Source form of any Derivative Works\n          that You distribute, all copyright, patent, trademark, and\n          attribution notices from the Source form of the Work,\n          excluding those notices that do not pertain to any part of\n          the Derivative Works; and\n\n      (d) If the Work includes a \"NOTICE\" text file as part of its\n          distribution, then any Derivative Works that You distribute must\n          include a readable copy of the attribution notices contained\n          within such NOTICE file, excluding those notices that do not\n          pertain to any part of the Derivative Works, in at least one\n          of the following places: within a NOTICE text file distributed\n          as part of the Derivative Works; within the Source form or\n          documentation, if provided along with the Derivative Works; or,\n          within a display generated by the Derivative Works, if and\n          wherever such third-party notices normally appear. The contents\n          of the NOTICE file are for informational purposes only and\n          do not modify the License. You may add Your own attribution\n          notices within Derivative Works that You distribute, alongside\n          or as an addendum to the NOTICE text from the Work, provided\n          that such additional attribution notices cannot be construed\n          as modifying the License.\n\n      You may add Your own copyright statement to Your modifications and\n      may provide additional or different license terms and conditions\n      for use, reproduction, or distribution of Your modifications, or\n      for any such Derivative Works as a whole, provided Your use,\n      reproduction, and distribution of the Work otherwise complies with\n      the conditions stated in this License.\n\n   5. Submission of Contributions. Unless You explicitly state otherwise,\n      any Contribution intentionally submitted for inclusion in the Work\n      by You to the Licensor shall be under the terms and conditions of\n      this License, without any additional terms or conditions.\n      Notwithstanding the above, nothing herein shall supersede or modify\n      the terms of any separate license agreement you may have executed\n      with Licensor regarding such Contributions.\n\n   6. Trademarks. This License does not grant permission to use the trade\n      names, trademarks, service marks, or product names of the Licensor,\n      except as required for reasonable and customary use in describing the\n      origin of the Work and reproducing the content of the NOTICE file.\n\n   7. Disclaimer of Warranty. Unless required by applicable law or\n      agreed to in writing, Licensor provides the Work (and each\n      Contributor provides its Contributions) on an \"AS IS\" BASIS,\n      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or\n      implied, including, without limitation, any warranties or conditions\n      of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A\n      PARTICULAR PURPOSE. You are solely responsible for determining the\n      appropriateness of using or redistributing the Work and assume any\n      risks associated with Your exercise of permissions under this License.\n\n   8. Limitation of Liability. In no event and under no legal theory,\n      whether in tort (including negligence), contract, or otherwise,\n      unless required by applicable law (such as deliberate and grossly\n      negligent acts) or agreed to in writing, shall any Contributor be\n      liable to You for damages, including any direct, indirect, special,\n      incidental, or consequential damages of any character arising as a\n      result of this License or out of the use or inability to use the\n      Work (including but not limited to damages for loss of goodwill,\n      work stoppage, computer failure or malfunction, or any and all\n      other commercial damages or losses), even if such Contributor\n      has been advised of the possibility of such damages.\n\n   9. Accepting Warranty or Additional Liability. While redistributing\n      the Work or Derivative Works thereof, You may choose to offer,\n      and charge a fee for, acceptance of support, warranty, indemnity,\n      or other liability obligations and/or rights consistent with this\n      License. However, in accepting such obligations, You may act only\n      on Your own behalf and on Your sole responsibility, not on behalf\n      of any other Contributor, and only if You agree to indemnify,\n      defend, and hold each Contributor harmless for any liability\n      incurred by, or claims asserted against, such Contributor by reason\n      of your accepting any such warranty or additional liability.\n\n   END OF TERMS AND CONDITIONS\n\n   APPENDIX: How to apply the Apache License to your work.\n\n      To apply the Apache License to your work, attach the following\n      boilerplate notice, with the fields enclosed by brackets \"[]\"\n      replaced with your own identifying information. (Don't include\n      the brackets!)  The text should be enclosed in the appropriate\n      comment syntax for the file format. We also recommend that a\n      file or class name and description of purpose be included on the\n      same \"printed page\" as the copyright notice for easier\n      identification within third-party archives.\n\n   Copyright 2023 Baidu\n\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n"
        },
        {
          "name": "README-en.md",
          "type": "blob",
          "size": 3.7392578125,
          "content": "<div align=\"center\">\n  <p>\n    <img width=\"284\" src=\"https://github.com/baidu/amis/raw/master/examples/static/logo.png\">\n  </p>\n\n[Documentation (China)](https://aisuda.bce.baidu.com/amis/) |\n[Documentation (Global)](https://baidu.github.io/amis/) |\n[Visual Editor](https://aisuda.github.io/amis-editor-demo/) |\n[amis-admin](https://github.com/aisuda/amis-admin) |\n[AiSuDa](https://aisuda.baidu.com/)\n\n</div>\n\n<div align=\"center\">\n  Ruliu Group: 3395342 |\n  Ruliu Group 2: 5511067 |\n</div>\n\n<div align=\"center\">\n\n![build](https://img.shields.io/github/actions/workflow/status/baidu/amis/gh-pages.yml)\n![license](https://img.shields.io/github/license/baidu/amis.svg)\n![version](https://img.shields.io/npm/v/amis)\n![language](https://img.shields.io/github/languages/top/baidu/amis)\n[![codecov](https://codecov.io/gh/baidu/amis/branch/master/graph/badge.svg?token=9LwimHGoE5)](https://codecov.io/gh/baidu/amis)\n![last](https://img.shields.io/github/last-commit/baidu/amis.svg)\n\n</div>\n\nA low-code front-end framework that allows you to generate various backend pages using JSON configuration, greatly reducing development costs, and even eliminating the need for front-end expertise.\n\n## Development Guide\n\nThe following is for those who want to contribute to the development of amis. For usage, refer to the documentation above.\n\n> If GitHub downloads are slow, you can use the mirror on [gitee](https://gitee.com/baidu/amis).\n\nNode.js versions 12/14/16 are recommended. Use npm 7+ because the workspaces feature is required.\n\n```bash\n# Install project dependencies. There may be errors with Node.js 12, but they don't affect normal use.\nnpm i --legacy-peer-deps\n\n# Start the project. Once compilation is complete, access it at http://127.0.0.1:8888/examples/pages/simple.\nnpm start\n```\n\nIf you're developing the editor, access it at `http://127.0.0.1:8888/packages/amis-editor/`.\n\n### Testing\n\n> Note: After modifying code locally, you must run npm run build to complete compilation before executing test cases (`npm test --workspaces`), as Jest doesn't support TypeScript directly.\n\n```bash\n# Install dependencies\nnpm i --legacy-peer-deps\n\n# Build the project\nnpm run build\n\n# Run all test cases\nnpm test --workspaces\n\n# Run a specific test case\n# <spec-name> is the name of the test case, e.g., inputImage\nnpm test --workspace amis -- -t <spec-name>\n\n# Run a specific test file\n./node_modules/.bin/jest packages/amis/__tests__/renderers/Form/buttonToolBar.test.tsx\n\n# Run a specific example in a test file\n./node_modules/.bin/jest packages/amis/__tests__/renderers/Form/buttonToolBar.test.tsx -t 'Renderer:button-toolbar'\n\n# View test coverage\nnpm run coverage\n\n# Update snapshots\nnpm run update-snapshot\n\n# Update a single snapshot\n# <spec-name> is the name of the test case, e.g., inputImage\nnpm run update-snapshot --workspace amis -- -t <spec-name>\n```\n\n### Release Version\n\n```bash\n# Publish to internal registry\nnpm run publish\n\n# Publish to external environment\n# First, set the version number with the following command\nnpm run version\nnpm run release\n```\n\n### How to Contribute\n\nPlease use a branch for development. First, create a branch:\n\n    git checkout -b feat-xxx\n\nAfter committing your changes, use `git push --set-upstream origin feat-xxx` to create a remote branch.\n\nThen submit a PR using the system-generated link: https://github.com/xxx/amis/pull/new/feat-xxx.\n\nPlease write in TypeScript. All reasonable changes, new public renderers, test cases, or documentation submissions will be accepted.\n\n## Contributors\n\n<a href=\"https://github.com/baidu/amis/graphs/contributors\"><img src=\"https://opencollective.com/amis/contributors.svg?width=890\" /></a>\n\n## Low-Code Platform\n\namis enables low-code front-end development. For a complete low-code platform, we recommend using [AiSuDa](https://aisuda.baidu.com/).\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 3.40234375,
          "content": "<div align=\"center\">\n  <p>\n    <img width=\"284\" src=\"https://github.com/baidu/amis/raw/master/examples/static/logo.png\">\n  </p>\n\n[文档（国内）](https://aisuda.bce.baidu.com/amis/) |\n[文档（国外）](https://baidu.github.io/amis/) |\n[可视化编辑器](https://aisuda.github.io/amis-editor-demo/) |\n[amis-admin](https://github.com/aisuda/amis-admin) |\n[爱速搭](https://aisuda.baidu.com/)\n\n</div>\n\n<div align=\"center\">\n  如流群：3395342 |\n  如流群2：5511067|\n</div>\n\n<div align=\"center\">\n\n![build](https://img.shields.io/github/actions/workflow/status/baidu/amis/gh-pages.yml)\n![license](https://img.shields.io/github/license/baidu/amis.svg)\n![version](https://img.shields.io/npm/v/amis)\n![language](https://img.shields.io/github/languages/top/baidu/amis)\n[![codecov](https://codecov.io/gh/baidu/amis/branch/master/graph/badge.svg?token=9LwimHGoE5)](https://codecov.io/gh/baidu/amis)\n![last](https://img.shields.io/github/last-commit/baidu/amis.svg)\n\n</div>\n\n前端低代码框架，通过 JSON 配置就能生成各种后台页面，极大减少开发成本，甚至可以不需要了解前端。\n\n## 开发指南\n\n以下是参与开发 amis 才需要看的，使用请看前面的文档。\n\n> 如果 github 下载慢可以使用 [gitee](https://gitee.com/baidu/amis) 上的镜像。\n\n推荐使用 node 12/14/16。npm 7+， 因为用到了 workspaces 功能。\n\n```bash\n# 安装项目 npm 依赖，在 node 12 下会有报错但不影响正常使用。\nnpm i --legacy-peer-deps\n\n# 启动项目，等编译结束后通过 http://127.0.0.1:8888/examples/pages/simple 访问。\nnpm start\n```\n\n如果是开发编辑器，需要访问 `http://127.0.0.1:8888/packages/amis-editor/`\n\n### 测试\n\n> 注意：本地修改代码后，执行测试用例（`npm test --workspaces`）之前需要先执行`npm run build`完成编译，因为 jest 并不支持 TypeScript\n\n```bash\n# 安装依赖\nnpm i --legacy-peer-deps\n\n# 执行构建\nnpm run build\n\n# 执行测试用例\nnpm test --workspaces\n\n# 测试某个用例\n# <spec-name>为用例名称，比如inputImage\nnpm test --workspace amis -- -t <spec-name>\n\n# 运行某个单测文件\n./node_modules/.bin/jest packages/amis/__tests__/renderers/Form/buttonToolBar.test.tsx\n\n# 运行某个单测文件里的某个例子\n./node_modules/.bin/jest packages/amis/__tests__/renderers/Form/buttonToolBar.test.tsx -t 'Renderer:button-toolbar'\n\n# 查看测试用例覆盖率\nnpm run coverage\n\n# 更新 snapshot\nnpm run update-snapshot\n\n# 更新单个 snapshot\n# <spec-name>为用例名称，比如inputImage\nnpm run update-snapshot --workspace amis -- -t  <spec-name>\n```\n\n### 发布版本\n\n```bash\n# 发布内部 registry\nnpm run publish\n\n# 发布外网环境\n# 先通过一下命令设置版本号\nnpm run version\nnpm run release\n```\n\n### 如何贡献\n\n请使用分支开发，首先创建分支\n\n    git checkout -b feat-xxx\n\n开发提交后使用 `git push --set-upstream origin feat-xxx` 创建远程分支。\n\n然后通过系统提示的 https://github.com/xxx/amis/pull/new/feat-xxx 链接来提交 PR。\n\n请采用 typescript 编写，所有合理的改动、新的公用渲染器、用例或者文档的提交都会被接收。\n\n## 贡献者\n\n<a href=\"https://github.com/baidu/amis/graphs/contributors\"><img src=\"https://opencollective.com/amis/contributors.svg?width=890\" /></a>\n\n## 低代码平台\n\namis 只能实现前端低代码，如果需要完整的低代码平台推荐使用[爱速搭](https://aisuda.baidu.com/)。\n"
        },
        {
          "name": "__mocks__",
          "type": "tree",
          "content": null
        },
        {
          "name": "amis.code-workspace",
          "type": "blob",
          "size": 1.41796875,
          "content": "{\n  \"folders\": [\n    {\n      \"path\": \"./\",\n      \"name\": \"monorepo\"\n    },\n    {\n      \"path\": \"./packages/amis-formula\"\n    },\n    {\n      \"path\": \"./packages/amis-core\"\n    },\n    {\n      \"path\": \"./packages/amis-ui\"\n    },\n    {\n      \"path\": \"./packages/amis\"\n    },\n    {\n      \"path\": \"./packages/office-viewer\"\n    },\n    {\n      \"path\": \"./packages/amis-editor-core\"\n    },\n    {\n      \"path\": \"./packages/amis-editor\"\n    },\n    {\n      \"path\": \"./packages/amis-theme-editor-helper\"\n    }\n  ],\n  \"settings\": {\n    \"editor.formatOnSave\": true,\n    \"editor.defaultFormatter\": \"esbenp.prettier-vscode\",\n    \"editor.tabSize\": 2,\n    \"typescript.tsdk\": \"node_modules/typescript/lib\",\n    \"files.exclude\": {\n      \"**/lib\": true,\n      \"**/esm\": true,\n      \"**/sdk\": true,\n      \"**/tsconfig.tsbuildinfo\": true,\n      \"**/schema.json\": true,\n      \"**/lerna-debug.log\": true,\n      \"**/package-lock.json\": true,\n      \"**/.rollup.cache\": true,\n      \"public/**\": true\n    },\n    \"search.exclude\": {\n      \"**/lib\": true,\n      \"**/esm\": true,\n      \"**/sdk\": true,\n      \"**/tsconfig.tsbuildinfo\": true,\n      \"**/schema.json\": true,\n      \"**/lerna-debug.log\": true,\n      \"**/package-lock.json\": true,\n      \"**/.rollup.cache\": true,\n      \"public/**\": true,\n      \"examples/docs.json\": true,\n      \"examples/components/EChartsEditor/option-parts/**/*\": true\n    },\n    \"[xml]\": {\n      \"editor.defaultFormatter\": \"redhat.vscode-xml\"\n    }\n  }\n}\n"
        },
        {
          "name": "deploy-gh-pages.sh",
          "type": "blob",
          "size": 0.41796875,
          "content": "#!/bin/bash\nset -e\n\n\necho \"building\"\nnode ./scripts/generate-search-data.js\n\n./node_modules/.bin/fis3 release gh-pages -c\n\n# 拷贝一份兼容之前的访问路径\ncp -r gh-pages/zh-CN/docs/* gh-pages/docs/\n\ncp ./packages/amis/schema.json ./gh-pages\n\ncp -r mock gh-pages/\n\ntar -zcvf sdk.tar.gz packages/amis/sdk\n\nmv sdk.tar.gz gh-pages/\n\n# 加这个 github page 就不会忽略下划线开头的文件\ntouch gh-pages/.nojekyll\n"
        },
        {
          "name": "docs",
          "type": "tree",
          "content": null
        },
        {
          "name": "examples",
          "type": "tree",
          "content": null
        },
        {
          "name": "fis-conf.js",
          "type": "blob",
          "size": 28.068359375,
          "content": "/**\n * @file fis-conf.js 配置\n */\nconst path = require('path');\nconst fs = require('fs');\nconst package = require('./packages/amis/package.json');\nconst parserMarkdown = require('./scripts/md-parser');\nconst convertSCSSIE11 = require('./scripts/scss-ie11');\nconst parserCodeMarkdown = require('./scripts/code-md-parser');\nconst transformNodeEnvInline = require('./scripts/transform-node-env-inline');\nfis.set('project.ignore', [\n  'public/**',\n  'scripts/**',\n  'npm/**',\n  'gh-pages/**',\n  '.*/**',\n  'node_modules/**'\n]);\n// 配置只编译哪些文件。\n\nconst Resource = fis.require('postpackager-loader/lib/resource.js');\nconst versionHash = fis.util.md5(package.version);\n\nResource.extend({\n  buildResourceMap: function () {\n    const resourceMap = this.__super();\n    if (resourceMap === '') {\n      return '';\n    }\n\n    const map = JSON.parse(resourceMap.substring(20, resourceMap.length - 2));\n    const self = this;\n\n    Object.keys(map.res).forEach(function (key) {\n      const item = map.res[key];\n      if (item.pkg) {\n        const pkgNode = self.getNode(item.pkg, 'pkg');\n        item.pkg = `${versionHash}-${item.pkg}`;\n\n        // if (Array.isArray(item.deps) && pkgNode) {\n        //   item.deps = item.deps.filter(\n        //     dep =>\n        //       !pkgNode.has.find(id => {\n        //         const node = self.getNode(id);\n        //         const file = self.getFileById(id);\n        //         const moduleId =\n        //           (node.extras && node.extras.moduleId) ||\n        //           (file && file.moduleId) ||\n        //           id.replace(/\\.js$/i, '');\n\n        //         return moduleId === dep;\n        //       })\n        //   );\n        //   if (!item.deps.length) {\n        //     delete item.deps;\n        //   }\n        // }\n      }\n    });\n    Object.keys(map.pkg).forEach(function (key) {\n      map.pkg[`${versionHash}-${key}`] = map.pkg[key];\n      delete map.pkg[key];\n    });\n\n    return `amis.require.resourceMap(${JSON.stringify(map)});`;\n  },\n\n  calculate: function () {\n    this.__super.apply(this);\n\n    // 标记这个文件，肯定是异步资源，即便是同步加载了。\n    Object.keys(this.loaded).forEach(id => {\n      const file = this.getFileById(id);\n\n      if (file && file.subpath === '/examples/loadMonacoEditor.ts') {\n        this.loaded[id] = true;\n      }\n    });\n  }\n});\n\nfis.set('project.files', [\n  'schema.json',\n  '/examples/map.json',\n  '/scss/helper.scss',\n  '/scss/themes/*.scss',\n  '/examples/*.html',\n  '/examples/app/*.html',\n  '/examples/*.tpl',\n  '/examples/static/*.png',\n  '/examples/static/*.svg',\n  '/examples/static/*.jpg',\n  '/examples/static/*.jpeg',\n  '/examples/static/*.docx',\n  '/examples/static/*.xlsx',\n  '/examples/static/photo/*.jpeg',\n  '/examples/static/photo/*.png',\n  '/examples/static/audio/*.mp3',\n  '/examples/static/video/*.mp4',\n  '/examples/static/font/*.ttf',\n  'mock/**'\n]);\n\nfis.match('/schema.json', {\n  release: '/$0'\n});\n\nfis.match('/mock/**', {\n  useCompile: false\n});\n\n// fis.match('mod.js', {\n//   useCompile: false\n// });\n\nfis.match('*.scss', {\n  parser: fis.plugin('sass', {\n    sourceMap: true\n  }),\n  rExt: '.css'\n});\n\nfis.match('icons/**.svg', {\n  rExt: '.js',\n  isJsXLike: true,\n  isJsLike: true,\n  isMod: true,\n  parser: [\n    fis.plugin('svgr', {\n      svgProps: {\n        className: 'icon'\n      },\n      prettier: false,\n      dimensions: false\n    }),\n    fis.plugin('typescript', {\n      importHelpers: true,\n      esModuleInterop: true,\n      experimentalDecorators: true,\n      sourceMap: false\n    })\n  ]\n});\n\nfis.match('/node_modules/**.{js,cjs}', {\n  isMod: true,\n  rExt: 'js'\n});\n\nfis.match('pdfjs-dist/**/pdf.mjs', {\n  isMod: true,\n  rExt: 'js',\n  parser: fis.plugin('typescript', {\n    sourceMap: false,\n    importHelpers: true,\n    esModuleInterop: true,\n    emitDecoratorMetadata: false,\n    experimentalDecorators: false\n  })\n});\n\nfis.set('project.fileType.text', 'cjs,mjs');\n\nfis.match('tinymce/{tinymce.js,plugins/**.js,themes/silver/theme.js}', {\n  ignoreDependencies: true\n});\n\nfis.match('tinymce/plugins/*/index.js', {\n  ignoreDependencies: false\n});\n\nfis.match(/(?:mpegts\\.js|object\\-inspect\\/util\\.inspect\\.js)/, {\n  ignoreDependencies: true\n});\n\nfis.match('monaco-editor/min/**.js', {\n  isMod: false,\n  ignoreDependencies: true\n});\n\nfis.match('{/docs,/packages/amis-ui/scss/helper}/**.md', {\n  rExt: 'js',\n  ignoreDependencies: true,\n  parser: [\n    parserMarkdown,\n    function (contents, file) {\n      return contents.replace(\n        /\\bhref=\\\\('|\")(.+?)\\\\\\1/g,\n        function (_, quota, link) {\n          if (/\\.md($|#)/.test(link) && !/^https?\\:/.test(link)) {\n            let parts = link.split('#');\n            parts[0] = parts[0].replace('.md', '');\n            return 'href=\\\\' + quota + parts.join('#') + '\\\\' + quota;\n          }\n\n          return _;\n        }\n      );\n    }\n  ],\n  isMod: true\n});\n\nfis.on('compile:optimizer', function (file) {\n  if (file.isJsLike && file.isMod) {\n    var contents = file.getContent();\n\n    if (\n      typeof contents === 'string' &&\n      contents.substring(0, 7) === 'define('\n    ) {\n      contents = 'amis.' + contents;\n\n      contents = contents.replace(\n        'function(require, exports, module)',\n        'function(require, exports, module, define)'\n      );\n\n      file.setContent(contents);\n    }\n  }\n});\n\nfis.match('{*.ts,*.jsx,*.tsx,/examples/**.js,/src/**.js,/src/**.ts}', {\n  parser: [\n    // docsGennerator,\n    fis.plugin('typescript', {\n      importHelpers: true,\n      esModuleInterop: true,\n      experimentalDecorators: true,\n      inlineSourceMap: true,\n      target: 4\n    }),\n\n    function (content) {\n      return (\n        content\n          // ts 4.4 生成的代码是 (0, tslib_1.__importStar)，直接改成 tslib_1.__importStar\n          .replace(/\\(\\d+, (tslib_\\d+\\.__importStar)\\)/g, '$1')\n          .replace(/\\b[a-zA-Z_0-9$]+\\.__uri\\s*\\(/g, '__uri(')\n          .replace(\n            /(return|=>)\\s*(tslib_\\d+)\\.__importStar\\(require\\(('|\")(.*?)\\3\\)\\)/g,\n            function (_, r, tslib, quto, value) {\n              return `${r} new Promise(function(resolve){require(['${value}'], function(ret) {resolve(${tslib}.__importStar(ret));})})`;\n            }\n          )\n      );\n    }\n  ],\n  preprocessor: fis.plugin('js-require-css'),\n  isMod: true,\n  rExt: '.js'\n});\nfis.match('/examples/mod.js', {\n  isMod: false\n});\n\nfis.match('{markdown-it,moment-timezone,pdfjs-dist}/**', {\n  preprocessor: fis.plugin('js-require-file')\n});\n\nfis.match('*.html:jsx', {\n  parser: fis.plugin('typescript'),\n  rExt: '.js',\n  isMod: false\n});\n\n// 这些用了 esm\nfis.match(\n  '{echarts/**.js,zrender/**.js,echarts-wordcloud/**.js,markdown-it-html5-media/**.js,react-hook-form/**.js,qrcode.react/**.js,axios/**.js,downshift/**.js,react-intersection-observer/**.js,react-pdf/**.js}',\n  {\n    parser: fis.plugin('typescript', {\n      sourceMap: false,\n      importHelpers: true,\n      esModuleInterop: true,\n      emitDecoratorMetadata: false,\n      experimentalDecorators: false\n    })\n  }\n);\n\n// 过滤掉 process.env.NODE_ENV 分支中无关代码\n// 避免被分析成依赖，因为 fis 中是通过正则分析 require 语句的\nfis.on('process:start', transformNodeEnvInline);\n\nif (fis.project.currentMedia() === 'dev') {\n  fis.match('/packages/**/*.{ts,tsx,js}', {\n    isMod: true\n  });\n\n  // 将子工程的查找，跳转到 src 目录去\n  // 可能 windows 下跑不了\n  const projects = [];\n  fs.readdirSync(path.join(__dirname, 'packages')).forEach(file => {\n    if (fs.lstatSync(path.join(__dirname, 'packages', file)).isDirectory()) {\n      projects.push(file);\n    }\n  });\n  projects.sort(function (a, b) {\n    return a.length < b.length ? 1 : a.length === b.length ? 0 : -1;\n  });\n  projects.length &&\n    fis.on('lookup:file', function (info, file) {\n      const uri = info.rest;\n      let newName = '';\n      let pkg = '';\n\n      if (/^amis\\/lib\\/themes\\/(.*)\\.css$/.test(uri)) {\n        newName = `/packages/amis-ui/scss/themes/${RegExp.$1}.scss`;\n      } else if (/^amis\\/lib\\/(.*)\\.css$/.test(uri)) {\n        newName = `/packages/amis-ui/scss/${RegExp.$1}.scss`;\n      } else if (\n        uri === 'amis-formula/lib/doc' ||\n        uri === 'amis-formula/lib/doc.md'\n      ) {\n        // 啥也不干\n      } else if ((pkg = projects.find(pkg => uri.indexOf(pkg) === 0))) {\n        const parts = uri.split('/');\n        if (parts[1] === 'lib') {\n          parts.splice(1, 1, 'src');\n        } else if (parts.length === 1) {\n          parts.push('src', 'index');\n        }\n\n        newName = `/packages/${parts.join('/')}`;\n      }\n\n      if (newName) {\n        delete info.file;\n        var result = fis.project.lookup(newName, file);\n        if (result.file) {\n          info.file = result.file;\n          info.id = result.file.getId();\n        } else {\n          console.log(`\\`${newName}\\` 找不到`);\n        }\n      }\n    });\n  fis.on('compile:end', function (file) {\n    if (file.subpath === '/packages/amis-core/src/index.tsx') {\n      file.setContent(\n        file\n          .getContent()\n          .replace(/__buildVersion/g, JSON.stringify(package.version))\n      );\n    }\n  });\n}\n\nfis.unhook('components');\nfis.hook('node_modules', {\n  shimProcess: false,\n  shimGlobal: false,\n  shimBuffer: false\n  // shutup: true\n});\nfis.hook('commonjs', {\n  sourceMap: false,\n  extList: ['.js', '.jsx', '.tsx', '.ts', '.cjs', '.mjs'],\n  paths: {\n    'monaco-editor': '/examples/loadMonacoEditor'\n  }\n});\n\nfis.match('_*.scss', {\n  release: false\n});\n\nfis.media('dev').match('_*.scss', {\n  parser: [\n    parserCodeMarkdown,\n    function (contents, file) {\n      return contents.replace(\n        /\\bhref=\\\\('|\")(.+?)\\\\\\1/g,\n        function (_, quota, link) {\n          if (/\\.md($|#)/.test(link) && !/^https?\\:/.test(link)) {\n            let parts = link.split('#');\n            parts[0] = parts[0].replace('.md', '');\n\n            if (parts[0][0] !== '/') {\n              parts[0] = path\n                .resolve(path.dirname(file.subpath), parts[0])\n                .replace(/^\\/docs/, '');\n            }\n\n            return 'href=\\\\' + quota + parts.join('#') + '\\\\' + quota;\n          }\n\n          return _;\n        }\n      );\n    }\n  ],\n  release: '$0',\n  isMod: true,\n  rExt: '.js'\n});\n\nfis.media('dev').match('::package', {\n  postpackager: fis.plugin('loader', {\n    useInlineMap: false,\n    resourceType: 'mod'\n  })\n});\n\nfis.media('dev').match('/node_modules/**.js', {\n  packTo: '/pkg/npm.js'\n});\n\nfis.match('{monaco-editor,amis,amis-core}/**', {\n  packTo: null\n});\n\nif (fis.project.currentMedia() === 'publish-sdk') {\n  const sdkEnv = fis.media('publish-sdk');\n\n  fis.on('compile:end', function (file) {\n    if (\n      file.subpath === '/packages/amis/src/index.tsx' ||\n      file.subpath === '/examples/mod.js' ||\n      file.subpath === '/examples/loader.ts'\n    ) {\n      file.setContent(file.getContent().replace(/@version/g, package.version));\n    } else if (file.subpath === '/packages/amis-core/src/index.tsx') {\n      file.setContent(\n        file\n          .getContent()\n          .replace(/__buildVersion/g, JSON.stringify(package.version))\n      );\n    }\n  });\n\n  sdkEnv.get('project.ignore').push('sdk/**');\n  sdkEnv.set('project.files', ['examples/sdk-placeholder.html']);\n\n  sdkEnv.match('/{examples,scss,src}/(**)', {\n    release: '/$1'\n  });\n\n  sdkEnv.match('*.map', {\n    release: false\n  });\n\n  sdkEnv.match('/node_modules/(**)', {\n    release: '/thirds/$1'\n  });\n\n  sdkEnv.match('/node_modules/(*)/dist/(**)', {\n    release: '/thirds/$1/$2'\n  });\n\n  sdkEnv.match('*.scss', {\n    parser: fis.plugin('sass', {\n      sourceMap: false\n    })\n  });\n\n  sdkEnv.match('{*.ts,*.jsx,*.tsx,/examples/**.js,/src/**.js,/src/**.ts}', {\n    parser: [\n      // docsGennerator,\n      fis.plugin('typescript', {\n        importHelpers: true,\n        esModuleInterop: true,\n        experimentalDecorators: true,\n        sourceMap: false\n      }),\n      function (content) {\n        return content\n          .replace(/\\b[a-zA-Z_0-9$]+\\.__uri\\s*\\(/g, '__uri(')\n          .replace(/\\(\\d+, (tslib_\\d+\\.__importStar)\\)/g, '$1')\n          .replace(\n            /return\\s+(tslib_\\d+)\\.__importStar\\(require\\(('|\")(.*?)\\2\\)\\);/g,\n            function (_, tslib, quto, value) {\n              return `return new Promise(function(resolve){require(['${value}'], function(ret) {resolve(${tslib}.__importStar(ret));})});`;\n            }\n          );\n      }\n    ],\n    preprocessor: fis.plugin('js-require-css'),\n    isMod: true,\n    rExt: '.js'\n  });\n\n  sdkEnv.match('/examples/mod.js', {\n    isMod: false,\n    optimizer: fis.plugin('terser')\n  });\n\n  sdkEnv.match('*.{js,jsx,ts,tsx}', {\n    optimizer: fis.plugin('terser'),\n    moduleId: function (m, path) {\n      return fis.util.md5(package.version + 'amis-sdk' + path);\n    }\n  });\n\n  sdkEnv.match('::package', {\n    packager: fis.plugin('deps-pack', {\n      'sdk.js': [\n        'examples/mod.js',\n        'examples/embed.tsx',\n        'examples/embed.tsx:deps',\n        'examples/loadMonacoEditor.ts',\n        '!mpegts.js/**',\n        '!hls.js/**',\n        '!froala-editor/**',\n        '!codemirror/**',\n        '!tinymce/**',\n        '!zrender/**',\n        '!echarts/**',\n        '!echarts-stat/**',\n        '!echarts-wordcloud/**',\n        '!papaparse/**',\n        '!exceljs/**',\n        '!xlsx/**',\n        '!docsearch.js/**',\n        '!monaco-editor/**.css',\n        '!amis-ui/lib/components/RichText.js',\n        '!amis-ui/lib/components/Tinymce.js',\n        '!amis-ui/lib/components/ColorPicker.js',\n        '!amis-ui/lib/components/PdfViewer.js',\n        '!react-pdf/**',\n        '!pdfjs-dist/**',\n        '!react-color/**',\n        '!material-colors/**',\n        '!reactcss/**',\n        '!tinycolor2/**',\n        '!cropperjs/**',\n        '!react-json-view/**',\n        '!react-cropper/**',\n        '!jsbarcode/**',\n        '!amis-ui/lib/components/BarCode.js',\n        '!amis-ui/lib/renderers/Form/CityDB.js',\n        '!amis-ui/lib/components/Markdown.js',\n        '!amis-core/lib/utils/markdown.js',\n        '!highlight.js/**',\n        '!entities/**',\n        '!linkify-it/**',\n        '!mdurl/**',\n        '!uc.micro/**',\n        '!markdown-it/**',\n        '!markdown-it-html5-media/**',\n        '!punycode/**',\n        '!office-viewer/**',\n        '!numfmt/**',\n        '!amis-formula/lib/doc.js'\n      ],\n\n      'rich-text.js': [\n        'amis-ui/lib/components/RichText.js',\n        'froala-editor/**'\n      ],\n\n      'tinymce.js': ['amis-ui/lib/components/Tinymce.js', 'tinymce/**'],\n\n      'codemirror.js': ['codemirror/**'],\n      'papaparse.js': ['papaparse/**'],\n\n      'exceljs.js': ['exceljs/**'],\n\n      'xlsx.js': ['xlsx/**'],\n\n      'markdown.js': [\n        'amis-ui/lib/components/Markdown.js',\n        'highlight.js/**',\n        'entities/**',\n        'linkify-it/**',\n        'mdurl/**',\n        'uc.micro/**',\n        'markdown-it/**',\n        'markdown-it-html5-media/**',\n        'punycode/**'\n      ],\n\n      'color-picker.js': [\n        'amis-ui/lib/components/ColorPicker.js',\n        'react-color/**',\n        'material-colors/**',\n        'reactcss/**',\n        'tinycolor2/**'\n      ],\n\n      'pdf-viewer.js': ['amis-ui/lib/components/PdfViewer.js', 'react-pdf/**'],\n\n      'cropperjs.js': ['cropperjs/**', 'react-cropper/**'],\n\n      'barcode.js': ['src/components/BarCode.tsx', 'jsbarcode/**'],\n\n      'charts.js': [\n        'zrender/**',\n        'echarts/**',\n        'echarts-stat/**',\n        'echarts-wordcloud/**'\n      ],\n\n      'office-viewer.js': ['office-viewer/**', 'numfmt/**'],\n      'json-view.js': 'react-json-view/**',\n      'fomula-doc.js': 'amis-formula/lib/doc.js',\n\n      'rest.js': [\n        '*.js',\n        '!monaco-editor/**',\n        '!codemirror/**',\n        '!mpegts.js/**',\n        '!hls.js/**',\n        '!froala-editor/**',\n        '!react-pdf/**',\n        '!pdfjs-dist/**',\n        '!amis-ui/lib/components/RichText.js',\n        '!zrender/**',\n        '!echarts/**',\n        '!echarts-wordcloud/**',\n        '!papaparse/**',\n        '!exceljs/**',\n        '!xlsx/**',\n        '!highlight.js/**',\n        '!argparse/**',\n        '!entities/**',\n        '!linkify-it/**',\n        '!mdurl/**',\n        '!uc.micro/**',\n        '!markdown-it/**',\n        '!markdown-it-html5-media/**',\n        '!office-viewer/**',\n        '!numfmt/**'\n      ]\n    }),\n    postpackager: [\n      fis.plugin('loader', {\n        useInlineMap: false,\n        resourceType: 'mod'\n      }),\n\n      require('./scripts/embed-packager')\n    ]\n  });\n\n  sdkEnv.match('{*.min.js,monaco-editor/min/**.js}', {\n    optimizer: null\n  });\n\n  sdkEnv.match('monaco-editor/**.css', {\n    standard: false\n  });\n\n  fis.on('compile:optimizer', function (file) {\n    if (file.isJsLike && file.isMod) {\n      var contents = file.getContent();\n\n      // 替换 worker 地址的路径，让 sdk 加载同目录下的文件。\n      // 如果 sdk 和 worker 不是部署在一个地方，请通过指定 MonacoEnvironment.getWorkerUrl\n      if (\n        file.subpath === '/node_modules/amis-ui/lib/components/Editor.js' ||\n        file.subpath === '/examples/loadMonacoEditor.ts' ||\n        file.subpath === '/examples/loadPdfjsWorker.ts'\n      ) {\n        contents = contents.replace(\n          /function\\sfilterUrl\\(url\\)\\s\\{\\s*return\\s*url;/m,\n          function () {\n            return `function filterUrl(url) {\n      return amis['sdk@${package.version}BasePath'] + url.substring(1);`;\n          }\n        );\n\n        file.setContent(contents);\n      }\n    }\n  });\n\n  sdkEnv.match('/examples/loader.ts', {\n    isMod: false\n  });\n\n  sdkEnv.match('*', {\n    domain: '.',\n    deploy: [\n      fis.plugin('skip-packed'),\n      function (_, modified, total, callback) {\n        var i = modified.length - 1;\n        var file;\n\n        while ((file = modified[i--])) {\n          if (file.skiped || /\\.map$/.test(file.subpath)) {\n            modified.splice(i + 1, 1);\n          }\n        }\n\n        i = total.length - 1;\n        while ((file = total[i--])) {\n          if (file.skiped || /\\.map$/.test(file.subpath)) {\n            total.splice(i + 1, 1);\n          }\n        }\n\n        callback();\n      },\n      fis.plugin('local-deliver', {\n        to: './sdk'\n      })\n    ]\n  });\n} else if (fis.project.currentMedia() === 'gh-pages') {\n  fis.match('*-ie11.scss', {\n    postprocessor: convertSCSSIE11\n  });\n  const ghPages = fis.media('gh-pages');\n  ghPages.set('project.files', [\n    'examples/index.html',\n    'examples/app/index.html',\n    '/examples/static/*.docx',\n    '/examples/static/*.xlsx'\n    // '/examples/map.json'\n  ]);\n\n  ghPages.match('*.scss', {\n    parser: fis.plugin('sass', {\n      sourceMap: false\n    }),\n    rExt: '.css'\n  });\n\n  ghPages.match('{/docs,/packages/amis-ui/scss/helper}/**.md', {\n    rExt: 'js',\n    isMod: true,\n    useHash: true,\n    parser: [\n      parserMarkdown,\n      function (contents, file) {\n        return contents.replace(\n          /\\bhref=\\\\('|\")(.+?)\\\\\\1/g,\n          function (_, quota, link) {\n            if (/\\.md($|#)/.test(link) && !/^https?\\:/.test(link)) {\n              let parts = link.split('#');\n              parts[0] = parts[0].replace('.md', '');\n\n              return (\n                'href=\\\\' + quota + '/amis' + parts.join('#') + '\\\\' + quota\n              );\n            }\n\n            return _;\n          }\n        );\n      }\n    ]\n  });\n\n  ghPages.match(/^(\\/.*)(_)(.+\\.scss)$/, {\n    parser: [\n      parserCodeMarkdown,\n      function (contents, file) {\n        return contents.replace(\n          /\\bhref=\\\\('|\")(.+?)\\\\\\1/g,\n          function (_, quota, link) {\n            if (/\\.md($|#)/.test(link) && !/^https?\\:/.test(link)) {\n              let parts = link.split('#');\n              parts[0] = parts[0].replace('.md', '');\n\n              if (parts[0][0] !== '/') {\n                parts[0] = path\n                  .resolve(path.dirname(file.subpath), parts[0])\n                  .replace(/^\\/docs/, '/amis');\n              }\n\n              return 'href=\\\\' + quota + parts.join('#') + '\\\\' + quota;\n            }\n\n            return _;\n          }\n        );\n      }\n    ],\n    isMod: true,\n    rExt: '.js',\n    release: '$1$3'\n  });\n\n  ghPages.match('/node_modules/(**)', {\n    release: '/n/$1'\n  });\n\n  ghPages.match('/examples/(**)', {\n    release: '/$1'\n  });\n\n  // 在爱速搭中不用 cfc，而是放 amis 目录下的路由接管\n  let cfcAddress =\n    'https://3xsw4ap8wah59.cfc-execute.bj.baidubce.com/api/amis-mock';\n  if (process.env.IS_AISUDA) {\n    cfcAddress = '/amis/api';\n  }\n\n  ghPages.match('/{examples,docs}/**', {\n    preprocessor: function (contents, file) {\n      if (!file.isText() || typeof contents !== 'string') {\n        return contents;\n      }\n\n      return contents.replace(\n        /(\\\\?(?:'|\"))((?:get|post|delete|put)\\:)?\\/api\\/(\\w+)/gi,\n        function (_, qutoa, method, path) {\n          return qutoa + (method || '') + `${cfcAddress}/` + path;\n        }\n      );\n    }\n  });\n\n  ghPages.match('mock/**.{json,js,conf}', {\n    release: false\n  });\n\n  ghPages.match('::package', {\n    packager: fis.plugin('deps-pack', {\n      'pkg/npm.js': [\n        '/examples/mod.js',\n        'node_modules/**.js',\n        '!monaco-editor/**',\n        '!codemirror/**',\n        '!mpegts.js/**',\n        '!hls.js/**',\n        '!froala-editor/**',\n\n        '!tinymce/**',\n        '!zrender/**',\n        '!echarts/**',\n        '!echarts-stat/**',\n        '!echarts-wordcloud/**',\n        '!papaparse/**',\n        '!exceljs/**',\n        '!xlsx/**',\n        '!docsearch.js/**',\n        '!monaco-editor/**.css',\n        '!src/components/RichText.tsx',\n        '!src/components/Tinymce.tsx',\n        '!src/components/ColorPicker.tsx',\n        '!react-color/**',\n        '!material-colors/**',\n        '!reactcss/**',\n        '!tinycolor2/**',\n        '!cropperjs/**',\n        '!react-cropper/**',\n        '!jsbarcode/**',\n        '!src/components/BarCode.tsx',\n        '!src/lib/renderers/Form/CityDB.js',\n        '!src/components/Markdown.tsx',\n        '!src/utils/markdown.ts',\n        '!highlight.js/**',\n        '!entities/**',\n        '!linkify-it/**',\n        '!mdurl/**',\n        '!uc.micro/**',\n        '!markdown-it/**',\n        '!markdown-it-html5-media/**',\n        '!punycode/**',\n        '!amis-formula/**',\n        '!numfmt/**',\n        '!office-viewer/**',\n        '!amis-core/**',\n        '!amis-ui/**',\n        '!amis/**',\n        '!react-pdf/**',\n        '!pdfjs-dist/**'\n      ],\n\n      'pkg/rich-text.js': [\n        'amis-ui/lib/components/RichText.js',\n        'froala-editor/**'\n      ],\n\n      'pkg/tinymce.js': ['amis-ui/lib/components/Tinymce.tsx', 'tinymce/**'],\n\n      'pkg/codemirror.js': ['codemirror/**'],\n\n      'pkg/papaparse.js': ['papaparse/**'],\n\n      'pkg/exceljs.js': ['exceljs/**'],\n\n      'pkg/xlsx.js': ['xlsx/**'],\n\n      'pkg/barcode.js': ['amis-ui/lib/components/BarCode.tsx', 'jsbarcode/**'],\n\n      'pkg/markdown.js': [\n        'amis-ui/lib/components/Markdown.tsx',\n        'amis-core/lib/utils/markdown.ts',\n        'highlight.js/**',\n        'entities/**',\n        'linkify-it/**',\n        'mdurl/**',\n        'uc.micro/**',\n        'markdown-it/**',\n        'markdown-it-html5-media/**',\n        'punycode/**'\n      ],\n\n      'pkg/pdf-viewer.js': [\n        'amis-ui/lib/components/PdfViewer.js',\n        'react-pdf/**'\n      ],\n\n      'pkg/color-picker.js': [\n        'amis-ui/lib/components/ColorPicker.tsx',\n        'react-color/**',\n        'material-colors/**',\n        'reactcss/**',\n        'tinycolor2/**'\n      ],\n\n      'pkg/cropperjs.js': ['cropperjs/**', 'react-cropper/**'],\n\n      'pkg/charts.js': [\n        'zrender/**',\n        'echarts/**',\n        'echarts-stat/**',\n        'echarts-wordcloud/**'\n      ],\n\n      'pkg/api-mock.js': ['mock/*.ts'],\n\n      'pkg/app.js': [\n        '/examples/components/App.tsx',\n        '/examples/components/App.tsx:deps'\n      ],\n\n      'pkg/echarts-editor.js': [\n        '/examples/components/EChartsEditor/*.tsx',\n        '!/examples/components/EChartsEditor/Example.tsx',\n        '!/examples/components/EChartsEditor/Common.tsx'\n      ],\n\n      'pkg/office-viewer.js': ['office-viewer/**', 'numfmt/**'],\n\n      'pkg/rest.js': [\n        '**.{js,jsx,ts,tsx}',\n        '!monaco-editor/**',\n        '!mpegts.js/**',\n        '!hls.js/**',\n        '!froala-editor/**',\n\n        '!amis-ui/lib/components/RichText.tsx',\n        '!zrender/**',\n        '!echarts/**',\n        '!echarts-wordcloud/**',\n        '!papaparse/**',\n        '!exceljs/**',\n        '!xlsx/**',\n        '!amis-core/lib/utils/markdown.ts',\n        '!highlight.js/**',\n        '!argparse/**',\n        '!entities/**',\n        '!linkify-it/**',\n        '!mdurl/**',\n        '!uc.micro/**',\n        '!markdown-it/**',\n        '!markdown-it-html5-media/**',\n        '!numfmt/**'\n      ],\n\n      'pkg/npm.css': ['node_modules/*/**.css', '!monaco-editor/**', '!amis/**'],\n\n      // css 打包\n      'pkg/style.css': [\n        '*.scss',\n        '*.css',\n        '!scss/themes/*.scss',\n        // 要切换主题，不能打在一起。'/scss/*.scss',\n        '!/examples/style.scss',\n        '!monaco-editor/**',\n        '!scss/helper.scss',\n        '!amis/**',\n        '/examples/style.scss' // 让它在最下面\n      ]\n    }),\n\n    postpackager: [\n      fis.plugin('loader', {\n        useInlineMap: false,\n        resourceType: 'mod'\n      }),\n      function (ret) {\n        const indexHtml = ret.src['/examples/index.html'];\n        const appJs = ret.src['/examples/components/App.tsx'];\n        const DocJs = ret.src['/examples/components/Doc.tsx'];\n        const DocNavCN = ret.src['/examples/components/DocNavCN.ts'];\n        const Components = ret.src['/examples/components/Components.tsx'];\n        const DocCSS = ret.src['/examples/components/CssDocs.tsx'];\n        const ExampleJs = ret.src['/examples/components/Example.jsx'];\n\n        const pages = [];\n        const source = [\n          appJs.getContent(),\n          DocJs.getContent(),\n          DocNavCN.getContent(),\n          Components.getContent(),\n          DocCSS.getContent(),\n          ExampleJs.getContent()\n        ].join('\\n');\n        source.replace(\n          /\\bpath\\b\\s*\\:\\s*('|\")(.*?)\\1/g,\n          function (_, qutoa, path) {\n            if (path === '*') {\n              return;\n            }\n\n            pages.push(path.replace(/^\\//, ''));\n            return _;\n          }\n        );\n\n        const contents = indexHtml.getContent();\n        pages.forEach(function (path) {\n          const file = fis.file(\n            fis.project.getProjectPath(),\n            '/examples/' + path + '.html'\n          );\n          file.setContent(contents);\n          ret.pkg[file.getId()] = file;\n        });\n      }\n    ]\n  });\n\n  ghPages.match('*.{css,less,scss}', {\n    optimizer: [\n      function (contents) {\n        if (typeof contents === 'string') {\n          contents = contents.replace(/\\/\\*\\!markdown[\\s\\S]*?\\*\\//g, '');\n        }\n\n        return contents;\n      },\n      fis.plugin('clean-css')\n    ],\n    useHash: true\n  });\n\n  ghPages.match('::image', {\n    useHash: true\n  });\n\n  ghPages.match('*.{docx,xlsx}', {\n    useHash: false\n  });\n\n  ghPages.match('*.{js,ts,tsx,jsx}', {\n    optimizer: fis.plugin('terser'),\n    useHash: true\n  });\n\n  ghPages.match('*.map', {\n    release: false,\n    url: 'null',\n    useHash: false\n  });\n  ghPages.match('{*.jsx,*.tsx,*.ts,/examples/**.js,}', {\n    moduleId: function (m, path) {\n      return fis.util.md5('amis' + path);\n    },\n    parser: [\n      // docsGennerator,\n      fis.plugin('typescript', {\n        sourceMap: false,\n        importHelpers: true,\n        esModuleInterop: true\n      }),\n\n      function (contents) {\n        return contents\n          .replace(\n            /(?:\\w+\\.)?\\b__uri\\s*\\(\\s*('|\")(.*?)\\1\\s*\\)/g,\n            function (_, quote, value) {\n              let str = quote + value + quote;\n              return (\n                '(function(){try {return __uri(' +\n                str +\n                ')} catch(e) {return ' +\n                str +\n                '}})()'\n              );\n            }\n          )\n          .replace(/\\(\\d+, (tslib_\\d+\\.__importStar)\\)/g, '$1')\n          .replace(\n            /return\\s+(tslib_\\d+)\\.__importStar\\(require\\(('|\")(.*?)\\2\\)\\);/g,\n            function (_, tslib, quto, value) {\n              return `return new Promise(function(resolve){require(['${value}'], function(ret) {resolve(${tslib}.__importStar(ret));})});`;\n            }\n          );\n      }\n    ]\n  });\n  ghPages.match('*', {\n    domain: '/amis',\n    deploy: [\n      fis.plugin('skip-packed'),\n      fis.plugin('local-deliver', {\n        to: './gh-pages'\n      })\n    ]\n  });\n  ghPages.match('{*.min.js,monaco-editor/min/**.js}', {\n    optimizer: null\n  });\n  ghPages.match('docs.json', {\n    domain: null\n  });\n}\n"
        },
        {
          "name": "i18nConfig.ts",
          "type": "blob",
          "size": 0.7568359375,
          "content": "export default {\n  entry: {\n    dir: './packages/amis-editor-core/src'\n  },\n  file: {\n    test: /.*(ts|tsx|js|jsx)$/\n  },\n  ignore: {\n    list: [\n      'packages/**/locale/*',\n      'packages/amis/*',\n      'packages/amis-ui/*',\n      'packages/amis-core/*',\n      'packages/amis-formula/*',\n      'packages/**/examples/*'\n    ]\n  },\n  importInfo: {\n    source: 'i18n-runtime',\n    imported: 'i18n',\n    local: '_i18n'\n  },\n  i18nModule: 'i18n-runtime',\n  languages: [\n    {\n      name: 'en-US',\n      path: [\n        './packages/amis-editor-core/src/locale',\n        './packages/amis-editor/src/locale'\n      ]\n    },\n    {\n      name: 'zh-CN',\n      path: [\n        './packages/amis-editor-core/src/locale',\n        './packages/amis-editor/src/locale'\n      ]\n    }\n  ]\n};\n"
        },
        {
          "name": "index.html",
          "type": "blob",
          "size": 3.279296875,
          "content": "<!DOCTYPE html>\n<html lang=\"zh\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <title>amis - 低代码前端框架</title>\n    <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" />\n    <link\n      type=\"image/x-icon\"\n      rel=\"shortcut icon\"\n      href=\"/examples/static/favicon.png\"\n    />\n    <meta\n      name=\"viewport\"\n      content=\"width=device-width, initial-scale=1, maximum-scale=1\"\n    />\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=Edge\" />\n    <link rel=\"stylesheet\" href=\"/examples/static/iconfont.css\" />\n    <link rel=\"stylesheet\" href=\"/examples/static/officefont.css\" />\n    <link\n      rel=\"stylesheet\"\n      href=\"/node_modules/@fortawesome/fontawesome-free/css/all.css\"\n    />\n    <link\n      rel=\"stylesheet\"\n      href=\"/node_modules/@fortawesome/fontawesome-free/css/v4-shims.css\"\n    />\n    <link rel=\"stylesheet\" href=\"/node_modules/katex/dist/katex.min.css\" />\n    <link rel=\"stylesheet\" href=\"/node_modules/prismjs/themes/prism.css\" />\n    <link\n      rel=\"stylesheet\"\n      href=\"/node_modules/github-markdown-css/github-markdown-light.css\"\n    />\n    <link rel=\"stylesheet\" href=\"/examples/doc.css\" />\n\n    <link rel=\"stylesheet\" href=\"/examples/style.scss\" />\n    <style>\n      .app-wrapper,\n      .schema-wrapper {\n        position: relative;\n        width: 100%;\n        height: 100%;\n      }\n    </style>\n    <script type=\"module\">\n      let theme = localStorage.getItem('amis-theme') || 'cxd';\n      if (theme === 'default') {\n        theme = 'cxd';\n      }\n\n      ['ang', 'cxd', 'antd', 'dark'].forEach(key => {\n        const link = document.createElement('link');\n        link.setAttribute('rel', 'stylesheet');\n        link.setAttribute('title', key);\n        if (theme !== key) {\n          link.setAttribute('disabled', 'disabled');\n        }\n        link.setAttribute(\n          'href',\n          new URL(`./packages/amis-ui/scss/themes/${key}.scss`, import.meta.url)\n            .href\n        );\n        document.head.appendChild(link);\n      });\n\n      // helper 放在末尾提高优先级\n      const helper = document.createElement('link');\n      helper.setAttribute('rel', 'stylesheet');\n      helper.setAttribute(\n        'href',\n        new URL(`./packages/amis-ui/scss/helper.scss`, import.meta.url).href\n      );\n      document.head.appendChild(helper);\n    </script>\n    <!-- <link rel=\"stylesheet\" href=\"./packages/amis-ui/scss/helper.scss\" /> -->\n  </head>\n\n  <body>\n    <div id=\"root\" class=\"app-wrapper\"></div>\n    <script type=\"text/javascript\">\n      if (location.hostname !== 'localhost') {\n        var _hmt = _hmt || [];\n\n        // 百度统计\n        (function () {\n          var hm = document.createElement('script');\n          hm.src =\n            'https://hm.baidu.com/hm.js?286766a21abb57abefedbd5257a26dc8';\n          var s = document.getElementsByTagName('script')[0];\n          s.parentNode.insertBefore(hm, s);\n        })();\n      }\n    </script>\n    <script type=\"module\">\n      import {bootstrap} from './examples/index.jsx';\n\n      window.enableAMISDebug = true;\n\n      const initialState = {};\n      bootstrap(document.getElementById('root'), initialState);\n    </script>\n    <script defer src=\"/node_modules/katex/dist/katex.min.js\"></script>\n    <script\n      defer\n      src=\"/node_modules/katex/dist/contrib/auto-render.min.js\"\n    ></script>\n  </body>\n</html>\n"
        },
        {
          "name": "lerna.json",
          "type": "blob",
          "size": 0.2275390625,
          "content": "{\n  \"packages\": [\n    \"packages/amis-formula\",\n    \"packages/amis-core\",\n    \"packages/amis-ui\",\n    \"packages/amis\",\n    \"packages/amis-editor-core\",\n    \"packages/amis-editor\"\n  ],\n  \"useWorkspaces\": false,\n  \"version\": \"6.10.0\"\n}\n"
        },
        {
          "name": "mock",
          "type": "tree",
          "content": null
        },
        {
          "name": "package.json",
          "type": "blob",
          "size": 5.03125,
          "content": "{\n  \"name\": \"aisuda\",\n  \"workspaces\": [\n    \"packages/amis-formula\",\n    \"packages/amis-core\",\n    \"packages/amis-ui\",\n    \"packages/amis\",\n    \"packages/amis-editor-core\",\n    \"packages/amis-editor\",\n    \"packages/amis-theme-editor-helper\"\n  ],\n  \"scripts\": {\n    \"fis3-serve\": \"fis3 server start --www ./public --port 8888 --no-daemon --no-browse\",\n    \"fis3\": \"concurrently --restart-tries -1 npm:fis3-serve npm:fis3-dev\",\n    \"fis3-stop\": \"fis3 server stop\",\n    \"start\": \"vite\",\n    \"fis3-dev\": \"fis3 release -cwd ./public\",\n    \"deploy-gh-page\": \"sh ./deploy-gh-pages.sh\",\n    \"build\": \"npm run build --workspaces\",\n    \"build-esm\": \"npm run build-esm --workspaces\",\n    \"test\": \"npm test --workspaces\",\n    \"update-snapshot\": \"npm run update-snapshot --workspaces\",\n    \"prepare\": \"husky install\",\n    \"coverage\": \"jest --coverage --collectCoverage=v8\",\n    \"version\": \"lerna version\",\n    \"release\": \"npm run build --workspaces && lerna publish from-package --registry=https://registry.npmjs.org --ignore-scripts\",\n    \"revision\": \"ts-node ./scripts/generate-revision.ts\",\n    \"getChangeLog\": \"ts-node ./scripts/getChangeLog\",\n    \"stylelint\": \"npx stylelint 'packages/**/*.scss'\",\n    \"typecheck\": \"tsc --noEmit\",\n    \"publish\": \"npx publish\"\n  },\n  \"husky\": {\n    \"hooks\": {\n      \"pre-commit\": \"lint-staged\"\n    }\n  },\n  \"lint-staged\": {\n    \"{packages,examples}/**/{src,examples}/**/**/*.{tsx,jsx,ts,scss}\": [\n      \"prettier --write\"\n    ],\n    \"*.{scss}\": [\n      \"stylelint --fix\"\n    ]\n  },\n  \"dependencies\": {\n    \"path-to-regexp\": \"^6.2.0\",\n    \"postcss\": \"^8.4.14\",\n    \"qs\": \"6.9.7\",\n    \"tslib\": \"^2.8.1\"\n  },\n  \"devDependencies\": {\n    \"@babel/generator\": \"^7.22.9\",\n    \"@babel/parser\": \"^7.22.7\",\n    \"@babel/traverse\": \"^7.22.8\",\n    \"@babel/types\": \"^7.22.5\",\n    \"@fortawesome/fontawesome-free\": \"^6.1.1\",\n    \"@rollup/plugin-replace\": \"^5.0.1\",\n    \"@swc/core\": \"^1.3.107\",\n    \"@swc/helpers\": \"^0.5.3\",\n    \"@swc/jest\": \"^0.2.34\",\n    \"@types/express\": \"^4.17.14\",\n    \"@types/jest\": \"^28.1.0\",\n    \"@types/js-yaml\": \"^4.0.5\",\n    \"@types/marked\": \"^4.0.7\",\n    \"@types/node\": \"^14.0.24\",\n    \"@types/prismjs\": \"^1.26.0\",\n    \"@types/react\": \"^18.0.24\",\n    \"@types/react-dom\": \"^18.0.8\",\n    \"@types/react-syntax-highlighter\": \"^15.5.11\",\n    \"@vitejs/plugin-react\": \"^2.2.0\",\n    \"amis-publish\": \"^1.0.5\",\n    \"copy-to-clipboard\": \"3.3.1\",\n    \"echarts\": \"5.4.0\",\n    \"express\": \"^4.18.2\",\n    \"fis-optimizer-terser\": \"^1.0.1\",\n    \"fis-parser-sass\": \"^1.2.0\",\n    \"fis-parser-svgr\": \"^1.0.0\",\n    \"fis3\": \"^3.5.0-beta.2\",\n    \"fis3-deploy-skip-packed\": \"0.0.5\",\n    \"fis3-hook-commonjs\": \"^0.1.31\",\n    \"fis3-hook-node_modules\": \"^2.3.1\",\n    \"fis3-hook-relative\": \"^2.0.3\",\n    \"fis3-packager-deps-pack\": \"^0.1.2\",\n    \"fis3-parser-typescript\": \"^1.4.0\",\n    \"fis3-postpackager-loader\": \"^2.1.12\",\n    \"fis3-prepackager-stand-alone-pack\": \"^1.0.0\",\n    \"fis3-preprocessor-js-require-css\": \"^0.1.3\",\n    \"fis3-preprocessor-js-require-file\": \"^0.1.3\",\n    \"github-markdown-css\": \"^5.5.1\",\n    \"husky\": \"^8.0.0\",\n    \"jest\": \"^29.0.3\",\n    \"jest-environment-jsdom\": \"^29.0.3\",\n    \"js-yaml\": \"^4.1.0\",\n    \"katex\": \"^0.16.9\",\n    \"lerna\": \"^6.6.2\",\n    \"lint-staged\": \"^12.1.2\",\n    \"magic-string\": \"^0.26.7\",\n    \"marked\": \"^4.2.1\",\n    \"monaco-editor\": \"0.30.1\",\n    \"plugin-react-i18n\": \"1.0.10\",\n    \"postcss-scss\": \"^4.0.6\",\n    \"prismjs\": \"^1.29.0\",\n    \"react\": \"^18.2.0\",\n    \"react-dom\": \"^18.2.0\",\n    \"react-markdown\": \"^9.0.1\",\n    \"react-overlays\": \"5.1.1\",\n    \"react-syntax-highlighter\": \"^15.5.0\",\n    \"remark-gfm\": \"^4.0.0\",\n    \"rollup\": \"^2.79.1\",\n    \"rollup-pluginutils\": \"^2.8.2\",\n    \"setprototypeof\": \"^1.2.0\",\n    \"ts-jest\": \"^29.0.2\",\n    \"vite\": \"^4.3.9\",\n    \"vite-plugin-monaco-editor\": \"^1.1.0\",\n    \"vite-plugin-svgr\": \"^2.2.2\",\n    \"zrender\": \"^5.3.2\"\n  },\n  \"jest\": {\n    \"verbose\": true,\n    \"testEnvironment\": \"jsdom\",\n    \"coverageReporters\": [\n      \"text\",\n      \"cobertura\"\n    ],\n    \"collectCoverageFrom\": [\n      \"packages/*/src/**/*\"\n    ],\n    \"moduleFileExtensions\": [\n      \"ts\",\n      \"tsx\",\n      \"js\"\n    ],\n    \"transform\": {\n      \"^.+\\\\.(t|j)sx?$\": \"@swc/jest\"\n    },\n    \"setupFiles\": [\n      \"jest-canvas-mock\"\n    ],\n    \"testRegex\": \"/.*\\\\.test\\\\.(ts|tsx|js)$\",\n    \"moduleNameMapper\": {\n      \"\\\\.(css|less|sass|scss)$\": \"<rootDir>/__mocks__/styleMock.js\",\n      \"\\\\.(svg)$\": \"<rootDir>/__mocks__/svgMock.js\",\n      \"\\\\.svg\\\\.js$\": \"<rootDir>/__mocks__/svgJsMock.js\",\n      \"^amis\\\\-ui$\": \"<rootDir>/packages/amis-ui/src/index.tsx\",\n      \"^amis\\\\-ui/lib/(.*)$\": \"<rootDir>/packages/amis-ui/src/$1\",\n      \"^amis\\\\-core$\": \"<rootDir>/packages/amis-core/src/index.tsx\",\n      \"^amis\\\\-formula$\": \"<rootDir>/packages/amis-formula/src/index.ts\",\n      \"^office\\\\-viewer$\": \"<rootDir>/packages/office-viewer/src/index.ts\",\n      \"^amis$\": \"<rootDir>/packages/amis/src/index.tsx\"\n    },\n    \"setupFilesAfterEnv\": [\n      \"<rootDir>/packages/amis-core/__tests__/jest.setup.js\"\n    ],\n    \"testPathIgnorePatterns\": [\n      \"/node_modules/\",\n      \"/.rollup.cache/\"\n    ],\n    \"snapshotFormat\": {\n      \"escapeString\": false,\n      \"printBasicPrototype\": false\n    }\n  }\n}\n"
        },
        {
          "name": "packages",
          "type": "tree",
          "content": null
        },
        {
          "name": "publish.json",
          "type": "blob",
          "size": 0.1962890625,
          "content": "{\n  \"privateKeyPath\": \"../npm.key\",\n  \"companyKey\": \"npm\",\n  \"appKey\": \"npm\",\n  \"pageKey\": \"npm\",\n  \"clientId\": \"u8w6gTAeR9gfMdxxPMsCyv\",\n  \"package\": [\n    \"amis\",\n    \"amis-theme-editor-helper\"\n  ]\n}"
        },
        {
          "name": "pull_request_template.md",
          "type": "blob",
          "size": 0.0263671875,
          "content": "### What\n\n### Why\n\n### How\n"
        },
        {
          "name": "scripts",
          "type": "tree",
          "content": null
        },
        {
          "name": "tsconfig.json",
          "type": "blob",
          "size": 1.7041015625,
          "content": "{\n  \"compilerOptions\": {\n    \"outDir\": \"lib\",\n    \"rootDir\": \"./\",\n    \"module\": \"commonjs\",\n    \"target\": \"es5\",\n    \"lib\": [\"ES6\", \"DOM\", \"ES2015\", \"ES2021\"],\n    \"jsx\": \"react\",\n    \"moduleResolution\": \"node\",\n    \"importHelpers\": true,\n    \"esModuleInterop\": true,\n    \"allowSyntheticDefaultImports\": true,\n    \"sourceRoot\": \"\",\n    \"noImplicitReturns\": true,\n    \"noImplicitThis\": true,\n    \"noImplicitAny\": true,\n    \"strictNullChecks\": true,\n    \"experimentalDecorators\": true,\n    \"emitDecoratorMetadata\": true,\n    \"skipLibCheck\": true,\n    \"downlevelIteration\": true,\n    \"composite\": true,\n    \"allowJs\": true,\n    \"baseUrl\": \"./\",\n    \"paths\": {\n      \"amis-core\": [\"./packages/amis-core/src/index.tsx\"],\n      \"amis-formula\": [\"./packages/amis-formula/src/index.ts\"],\n      \"amis-ui\": [\"./packages/amis-ui/src/index.tsx\"],\n      \"amis\": [\"./packages/amis/src/index.tsx\"],\n      \"office-viewer\": [\"./packages/office-viewer/src/index.ts\"],\n      \"amis-editor-core\": [\"./packages/amis-editor-core/src/index.ts\"],\n      \"amis-editor\": [\"./packages/amis-editor/src/index.tsx\"],\n      \"amis-theme-editor-helper\": [\n        \"./packages/amis-theme-editor-helper/src/index.ts\"\n      ]\n    }\n  },\n  \"watchOptions\": {\n    \"watchFile\": \"useFsEvents\",\n    \"watchDirectory\": \"useFsEvents\",\n    \"fallbackPolling\": \"dynamicPriority\",\n    \"synchronousWatchDirectory\": true,\n    \"excludeDirectories\": [\"**/node_modules\"]\n  },\n  \"types\": [\"typePatches\"],\n  \"references\": [],\n  \"include\": [\n    \"**/*.ts\",\n    \"**/*.tsx\",\n    \"**/*.jsx\",\n    \"scripts/fis3plugin.ts\",\n    \"scripts/markdownPlugin.ts\",\n    \"scripts/mockApiPlugin.ts\",\n    \"packages/amis-ui/src/custom.d.ts\",\n    \"examples/polyfills/cloest.js\",\n    \"examples/polyfills/classList.js\"\n  ]\n}\n"
        },
        {
          "name": "types",
          "type": "tree",
          "content": null
        },
        {
          "name": "vite.config.ts",
          "type": "blob",
          "size": 3.1005859375,
          "content": "import {defineConfig} from 'vite';\nimport react from '@vitejs/plugin-react';\nimport path from 'path';\nimport svgr from 'vite-plugin-svgr';\nimport monacoEditorPlugin from 'vite-plugin-monaco-editor';\nimport replace from '@rollup/plugin-replace';\nimport fis3 from './scripts/fis3plugin';\nimport markdown from './scripts/markdownPlugin';\nimport mockApi from './scripts/mockApiPlugin';\nimport transformMobileHtml from './scripts/transformMobileHtml';\n//@ts-ignore\nimport i18nPlugin from 'plugin-react-i18n';\nimport i18nConfig from './i18nConfig';\n\nvar I18N = process.env.I18N;\n\n// https://vitejs.dev/config/\nexport default defineConfig({\n  plugins: [\n    I18N && i18nPlugin(i18nConfig),\n\n    fis3(),\n    markdown(),\n    mockApi(),\n    transformMobileHtml(),\n\n    react({\n      babel: {\n        parserOpts: {\n          plugins: ['decorators-legacy', 'classProperties']\n        }\n      }\n    }),\n    svgr({\n      exportAsDefault: true,\n      svgrOptions: {\n        svgProps: {\n          className: 'icon'\n        },\n        prettier: false,\n        dimensions: false\n      }\n    }),\n    monacoEditorPlugin({}),\n    replace({\n      __editor_i18n: !!I18N,\n      preventAssignment: true\n    })\n  ].filter(n => n),\n  optimizeDeps: {\n    include: ['amis-formula/lib/doc'],\n    exclude: ['amis-core', 'amis-formula', 'amis', 'amis-ui'],\n    esbuildOptions: {\n      target: 'esnext'\n    }\n  },\n  css: {\n    preprocessorOptions: {\n      scss: {\n        silenceDeprecations: ['legacy-js-api']\n      }\n    }\n  },\n  server: {\n    host: '0.0.0.0',\n    port: 8888\n  },\n  resolve: {\n    alias: [\n      {\n        find: 'moment/locale',\n        replacement: 'moment/dist/locale'\n      },\n      {\n        find: 'amis-formula/lib',\n        replacement: path.resolve(__dirname, './packages/amis-formula/src')\n      },\n      {\n        find: 'amis-formula',\n        replacement: path.resolve(__dirname, './packages/amis-formula/src')\n      },\n      {\n        find: 'amis-ui/lib',\n        replacement: path.resolve(__dirname, './packages/amis-ui/src')\n      },\n      {\n        find: 'amis-ui',\n        replacement: path.resolve(__dirname, './packages/amis-ui/src')\n      },\n      {\n        find: 'amis-core',\n        replacement: path.resolve(__dirname, './packages/amis-core/src')\n      },\n      {\n        find: 'amis/lib',\n        replacement: path.resolve(__dirname, './packages/amis/src')\n      },\n      {\n        find: 'amis/schema.json',\n        replacement: path.resolve(__dirname, './packages/amis/schema.json')\n      },\n      {\n        find: 'amis',\n        replacement: path.resolve(__dirname, './packages/amis/src')\n      },\n      {\n        find: 'amis-editor',\n        replacement: path.resolve(__dirname, './packages/amis-editor/src')\n      },\n      {\n        find: 'amis-editor-core',\n        replacement: path.resolve(__dirname, './packages/amis-editor-core/src')\n      },\n      {\n        find: 'office-viewer',\n        replacement: path.resolve(__dirname, './packages/office-viewer/src')\n      },\n      {\n        find: 'amis-theme-editor-helper',\n        replacement: path.resolve(\n          __dirname,\n          './packages/amis-theme-editor-helper/src'\n        )\n      }\n    ]\n  }\n});\n"
        }
      ]
    }
  ]
}