{
  "metadata": {
    "timestamp": 1736564015152,
    "page": 555,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjU2MA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "hujiulong/gcoord",
      "stars": 3108,
      "defaultBranch": "master",
      "files": [
        {
          "name": ".eslintrc.js",
          "type": "blob",
          "size": 0.6181640625,
          "content": "module.exports = {\n  parser: '@typescript-eslint/parser',\n  parserOptions: {\n    sourceType: 'module',\n  },\n  extends: ['eslint:recommended', 'plugin:@typescript-eslint/recommended'],\n  rules: {\n    '@typescript-eslint/no-explicit-any': 'off',\n    '@typescript-eslint/explicit-module-boundary-types': 'off',\n    '@typescript-eslint/ban-types': 'off',\n    '@typescript-eslint/ban-ts-comment': 'off',\n    '@typescript-eslint/no-non-null-assertion': 'off',\n    'no-continue': 'off',\n    'no-mixed-operators': 'off',\n    'no-plusplus': 'off',\n    'no-nested-ternary': 'off',\n    'consistent-return': 'off',\n    'max-len': 'off',\n  },\n};\n"
        },
        {
          "name": ".github",
          "type": "tree",
          "content": null
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.1396484375,
          "content": ".DS_Store\nnode_modules/\ndist/\ncoverage/\nnpm-debug.log\nyarn-error.log\n.tmp/\n\n# Editor directories and files\n.idea\n*.suo\n*.ntvs*\n*.njsproj\n*.sln\n"
        },
        {
          "name": ".prettierrc",
          "type": "blob",
          "size": 0.0595703125,
          "content": "{\n  \"semi\": true,\n  \"singleQuote\": true,\n  \"printWidth\": 80\n}"
        },
        {
          "name": "CHANGELOG.md",
          "type": "blob",
          "size": 4.6943359375,
          "content": "## [1.0.6](https://github.com/hujiulong/gcoord/compare/v1.0.5...v1.0.6) (2024-03-12)\n\n\n### Bug Fixes\n\n* support for mini-program (closes [#232](https://github.com/hujiulong/gcoord/issues/232)) ([b62a3b9](https://github.com/hujiulong/gcoord/commit/b62a3b96ddd897ca067ed51f7fd117c0268dded3))\n\n\n\n## [1.0.5](https://github.com/hujiulong/gcoord/compare/v1.0.4...v1.0.5) (2023-02-02)\n\n\n\n## [1.0.4](https://github.com/hujiulong/gcoord/compare/v1.0.3...v1.0.4) (2023-02-02)\n\n\n\n## [1.0.3](https://github.com/hujiulong/gcoord/compare/v1.0.2...v1.0.3) (2023-02-02)\n\n\n\n## [1.0.2](https://github.com/hujiulong/gcoord/compare/v1.0.1...v1.0.2) (2023-02-02)\n\n\n\n## [1.0.1](https://github.com/hujiulong/gcoord/compare/v0.3.2...v1.0.1) (2023-01-17)\n\n\n### Bug Fixes\n\n* fix export of global and cjs formats ([c9be685](https://github.com/hujiulong/gcoord/commit/c9be685b61730b3e3b6d53ba54582b6a463699e4))\n\n\n### Features\n\n* provide building products in more formats ([549931c](https://github.com/hujiulong/gcoord/commit/549931c50e701ab17e4a44bb667b9f0dc6f2da27))\n* type-friendly export mode ([dc48766](https://github.com/hujiulong/gcoord/commit/dc4876628603ec099066962473fa769f66bb035b))\n\n\n\n# [1.0.0](https://github.com/hujiulong/gcoord/compare/v0.3.2...v1.0.0) (2023-01-16)\n\n\n### Features\n\n* provide building products in more formats ([da8d857](https://github.com/hujiulong/gcoord/commit/da8d857b9af372fe5edb9436a46c7f9be12e78da))\n* type-friendly export mode ([dc48766](https://github.com/hujiulong/gcoord/commit/dc4876628603ec099066962473fa769f66bb035b))\n\n\n\n## [0.3.1](https://github.com/hujiulong/gcoord/compare/v0.3.0...v0.3.1) (2021-02-23)\n\n\n### Bug Fixes\n\n* use default export only ([ae0d806](https://github.com/hujiulong/gcoord/commit/ae0d80602934589f57f53e97dd0c6b9b187e53e7))\n\n\n\n# [0.3.0](https://github.com/hujiulong/gcoord/compare/v0.3.0-beta.2...v0.3.0) (2021-02-18)\n\n\n\n## [0.2.3](https://github.com/hujiulong/gcoord/compare/v0.2.2...v0.2.3) (2019-04-15)\n\n\n### Bug Fixes\n\n* geojson.d.ts -> geojson.ts ([132e52a](https://github.com/hujiulong/gcoord/commit/132e52adbe9cbbce1e76feae0b4ccacee3e1cc66))\n\n\n\n## [0.2.2](https://github.com/hujiulong/gcoord/compare/v0.2.1...v0.2.2) (2019-04-08)\n\n\n\n## [0.2.1](https://github.com/hujiulong/gcoord/compare/v0.2.0...v0.2.1) (2019-04-07)\n\n\n### Bug Fixes\n\n* compatible string array(closes [#13](https://github.com/hujiulong/gcoord/issues/13)) ([d9501d2](https://github.com/hujiulong/gcoord/commit/d9501d292412b06c2e2128d1bba0a99c85cdbec7))\n\n\n\n# [0.2.0](https://github.com/hujiulong/gcoord/compare/1c066864ddf5e4e23d67d041e333f60b61955b67...v0.2.0) (2018-12-29)\n\n\n### Bug Fixes\n\n* fix a bug throwing an exception when transforming the EPSG3857([#3](https://github.com/hujiulong/gcoord/issues/3)) ([cd8db56](https://github.com/hujiulong/gcoord/commit/cd8db562ff8b94691540632330a549aa6521cc29))\n* fix assert ([742c937](https://github.com/hujiulong/gcoord/commit/742c937e3dbd2d4c3c98f2c7d85fe06cb40178d5))\n* fix circular dependency ([51e5ca3](https://github.com/hujiulong/gcoord/commit/51e5ca3b296ea9fc913d12f9485458cf08895113))\n* fix circular dependency ([4ab8127](https://github.com/hujiulong/gcoord/commit/4ab8127d14e8c7ebe8bf153ca431e4add1295b68))\n* fix CRS module import ([05c88b3](https://github.com/hujiulong/gcoord/commit/05c88b3a2cfe0d8827fd9e09956335920c88e637))\n* fix the wrong variable name ([8a9e9b0](https://github.com/hujiulong/gcoord/commit/8a9e9b05a9ded06ca711f98f0eab64710b19942f))\n* original CRS is allowed to be equal to target CRS ([15b8776](https://github.com/hujiulong/gcoord/commit/15b8776ead7c9152900f2271a006dd46d5cd548f))\n\n\n### Features\n\n* add CRS aliases & format code ([c1c99ea](https://github.com/hujiulong/gcoord/commit/c1c99ea4bb87f7b6ef5bdc7f47b2649e4110dd2f))\n* add EPSG900913 ([e702c37](https://github.com/hujiulong/gcoord/commit/e702c3781847eda82b3043b7e6e3045d670730b7))\n* add support for conversion between BD09 and BD09Meter ([#10](https://github.com/hujiulong/gcoord/issues/10)) ([6b837ec](https://github.com/hujiulong/gcoord/commit/6b837eca19bd06ca9c3e699be119c549f8aabdb3))\n* mixing named and default exports ([abfdb2e](https://github.com/hujiulong/gcoord/commit/abfdb2e6b5bdd5c2ba295a467c63410ca0895e5f))\n* mixing named and default exports ([be244cf](https://github.com/hujiulong/gcoord/commit/be244cf6f51abad9968c312a1e570728174855b8))\n* remove geojson([#1](https://github.com/hujiulong/gcoord/issues/1)) ([a9d08ab](https://github.com/hujiulong/gcoord/commit/a9d08ab69f5d157c61a5fb9031b4fd2a9bed0e8b))\n* support the mutual conversion of WGS84, GCJ02 and BD09. ([1c06686](https://github.com/hujiulong/gcoord/commit/1c066864ddf5e4e23d67d041e333f60b61955b67))\n* support web mercator projection([#2](https://github.com/hujiulong/gcoord/issues/2)) ([8d230d4](https://github.com/hujiulong/gcoord/commit/8d230d42800452efafb3e1bfa0209becceb6d6e9))\n\n\n\n"
        },
        {
          "name": "LICENSE",
          "type": "blob",
          "size": 1.05078125,
          "content": "MIT License\n\nCopyright (c) 2018-present, Jiulong Hu\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 5.7578125,
          "content": "# Gcoord\n\n[![npm version](https://img.shields.io/npm/v/gcoord.svg)](https://www.npmjs.com/package/gcoord)\n[![codecov](https://codecov.io/gh/hujiulong/gcoord/branch/master/graph/badge.svg)](https://codecov.io/gh/hujiulong/gcoord)\n[![gzip size](http://img.badgesize.io/https://unpkg.com/gcoord/dist/gcoord.global.prod.js?compression=gzip)](https://unpkg.com/gcoord/dist/gcoord.global.prod.js)\n[![LICENSE](https://img.shields.io/npm/l/gcoord.svg)](https://www.npmjs.com/package/gcoord)\n[![996.icu](https://img.shields.io/badge/link-996.icu-red.svg)](https://996.icu)\n\n**gcoord**(**g**eographic **coord**inates)是一个处理地理坐标系的JS库，用来修正百度地图、高德地图及其它互联网地图坐标系不统一的问题。\n\n支持转换坐标数组和 GeoJSON 数据，无外部依赖，能在 nodejs、所有现代浏览器（IE8+）和 React Native 等环境中运行，gzip后仅3kb。\n\n更多信息可以阅读[地理坐标系](https://github.com/hujiulong/gcoord/wiki/%E5%9C%B0%E7%90%86%E5%9D%90%E6%A0%87%E7%B3%BB)\n\n## 🚨 注意\n在发布、展示、传播数据时，请务必遵守相关法律规定\n\n> （禁止）未经批准，在测绘活动中擅自采用国际坐标系统 <br> — 中华人民共和国测绘法，40 (1)\n\n> 导航电子地图在公开出版、销售、传播、展示和使用前，必须进行空间位置技术处理。<br> — GB 20263―2006《导航电子地图安全处理技术基本要求》，4.1\n\n## 安装\n通过npm安装:\n```bash\nnpm install gcoord --save\n```\n\n或者直接在页面中通过 script 标签引入:\n```html\n<script src=\"https://unpkg.com/gcoord/dist/gcoord.global.prod.js\"></script>\n```\n注意：通过 script 标签引入时请务必指定版本号\n\n## 引入\nCommonJS:\n```js\nconst gcoord = require('gcoord');\n```\n\nES Module:\n```js\nimport gcoord from 'gcoord';\n```\n\n通过 script 标签引入可以直接使用全局变量 `gcoord` 或 `window.gcoord`\n\n\n## 使用\n例如从手机的GPS得到一个经纬度坐标，需要将其展示在百度地图上，则应该将当前坐标从[WGS-84](https://github.com/hujiulong/gcoord/wiki/%E5%9C%B0%E7%90%86%E5%9D%90%E6%A0%87%E7%B3%BB#wgs-84---%E4%B8%96%E7%95%8C%E5%A4%A7%E5%9C%B0%E6%B5%8B%E9%87%8F%E7%B3%BB%E7%BB%9F)坐标系转换为[BD-09](https://github.com/hujiulong/gcoord/wiki/%E5%9C%B0%E7%90%86%E5%9D%90%E6%A0%87%E7%B3%BB#bd-09---%E7%99%BE%E5%BA%A6%E5%9D%90%E6%A0%87%E7%B3%BB)坐标系\n```js\nvar result = gcoord.transform(\n  [116.403988, 39.914266],    // 经纬度坐标\n  gcoord.WGS84,               // 当前坐标系\n  gcoord.BD09                 // 目标坐标系\n);\n\nconsole.log(result);  // [116.41661560068297, 39.92196580126834]\n```\n同时gcoord还可以转换GeoJSON对象的坐标系，详细使用方式可以参考[API](#api)\n\n## API\n\n### transform(input, from, to)\n进行坐标转换\n\n**参数**\n-   `input` **[GeoJSON][GeoJSON] | [string][string] | [Array][Array]&lt;[number][number]>** GeoJSON对象，或GeoJSON字符串，或经纬度数组\n-   `from` **[CRS](#crs)** 当前坐标系\n-   `to` **[CRS](#crs)** 目标坐标系\n\n**返回值**\n\n**[GeoJSON][GeoJSON] | [Array][Array]&lt;[number][number]>**\n\n**示例**\n```js\n// 将GCJ02坐标转换为WGS84坐标\nvar result = gcoord.transform([123, 45], gcoord.GCJ02, gcoord.WGS84);\nconsole.log(result);  // [122.99395597, 44.99804071]\n```\n\n```js\n// 转换GeoJSON坐标\nvar geojson = {\n  \"type\": \"Point\",\n  \"coordinates\": [123, 45]\n}\ngcoord.transform(geojson, gcoord.GCJ02, gcoord.WGS84);\nconsole.log(geojson.coordinates); // [122.99395597, 44.99804071]\n```\n\n返回数组或GeoJSON对象（由输入决定），**注意：当输入为GeoJSON时，transform会改变输入对象**\n\n### CRS\nCRS为坐标系，目标支持以下几种坐标系\n\n| CRS                | 坐标格式   | 说明    |\n| --------           | --------- | ----- |\n| gcoord.WGS84       | [lng,lat] | WGS-84坐标系，GPS设备获取的经纬度坐标   |\n| gcoord.GCJ02       | [lng,lat] | GCJ-02坐标系，google中国地图、soso地图、aliyun地图、mapabc地图和高德地图所用的经纬度坐标   |\n| gcoord.BD09        | [lng,lat] | BD-09坐标系，百度地图采用的经纬度坐标    |\n| gcoord.BD09LL      | [lng,lat] | 同BD09  |\n| gcoord.BD09MC      | [x,y]     | BD-09米制坐标，百度地图采用的米制坐标，单位：米  |\n| gcoord.BD09Meter   | [x,y]     | 同BD09MC |\n| gcoord.Baidu       | [lng,lat] | 百度坐标系，BD-09坐标系别名，同BD-09  |\n| gcoord.BMap        | [lng,lat] | 百度地图，BD-09坐标系别名，同BD-09  |\n| gcoord.AMap        | [lng,lat] | 高德地图，同GCJ-02  |\n| gcoord.WebMercator | [x,y]     | Web Mercator投影，墨卡托投影，同EPSG3857，单位：米 |\n| gcoord.WGS1984     | [lng,lat] | WGS-84坐标系别名，同WGS-84  |\n| gcoord.EPSG4326    | [lng,lat] | WGS-84坐标系别名，同WGS-84  |\n| gcoord.EPSG3857    | [x,y]     | Web Mercator投影，同WebMercator，单位：米  |\n| gcoord.EPSG900913  | [x,y]     | Web Mercator投影，同WebMercator，单位：米  |\n\n**支持更多坐标系？**\ngcoord的目标是处理web地图中的坐标，目前支持的坐标系已经能满足绝大部分要求了，同时gcoord也能保持轻量。如果需要更专业的坐标系处理工具，可以使用[proj4js](https://github.com/proj4js/proj4js)等开源库\n\n\n## LICENSE\nMIT\n\n[number]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number\n[string]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String\n[Array]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array\n[Object]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object\n[Error]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error\n\n[GeoJSON]: https://tools.ietf.org/html/rfc7946#page-6\n"
        },
        {
          "name": "api-extractor.json",
          "type": "blob",
          "size": 1.1025390625,
          "content": "{\n  \"$schema\": \"https://developer.microsoft.com/json-schemas/api-extractor/v7/api-extractor.schema.json\",\n\n  \"mainEntryPointFilePath\": \"./dist/types/index.d.ts\",\n\n  \"apiReport\": {\n    \"enabled\": false\n  },\n\n  \"docModel\": {\n    \"enabled\": false\n  },\n\n  \"dtsRollup\": {\n    \"enabled\": true\n  },\n\n  \"tsdocMetadata\": {\n    \"enabled\": false\n  },\n\n  \"messages\": {\n    \"compilerMessageReporting\": {\n      \"default\": {\n        \"logLevel\": \"warning\"\n      }\n    },\n\n    \"extractorMessageReporting\": {\n      \"default\": {\n        \"logLevel\": \"warning\",\n        \"addToApiReportFile\": true\n      },\n\n      \"ae-missing-release-tag\": {\n        \"logLevel\": \"none\"\n      }\n    },\n\n    \"tsdocMessageReporting\": {\n      \"default\": {\n        \"logLevel\": \"warning\"\n      },\n\n      \"tsdoc-undefined-tag\": {\n        \"logLevel\": \"none\"\n      },\n\n      \"tsdoc-escape-greater-than\": {\n        \"logLevel\": \"none\"\n      },\n\n      \"tsdoc-malformed-inline-tag\": {\n        \"logLevel\": \"none\"\n      },\n\n      \"tsdoc-escape-right-brace\": {\n        \"logLevel\": \"none\"\n      },\n\n      \"tsdoc-unnecessary-backslash\": {\n        \"logLevel\": \"none\"\n      }\n    }\n  }\n}\n"
        },
        {
          "name": "index.js",
          "type": "blob",
          "size": 0.208984375,
          "content": "'use strict';\n\nif (typeof process === 'undefined' || process.env.NODE_ENV === 'production') {\n  module.exports = require('./dist/gcoord.cjs.prod.js');\n} else {\n  module.exports = require('./dist/gcoord.cjs.js');\n}\n"
        },
        {
          "name": "jest.config.js",
          "type": "blob",
          "size": 0.404296875,
          "content": "module.exports = {\n  preset: 'ts-jest',\n  testEnvironment: 'node',\n  verbose: true,\n  roots: ['<rootDir>/test/'],\n  transform: {\n    '^.+\\\\.tsx?$': [\n      'ts-jest',\n      {\n        tsconfig: {\n          target: 'esnext',\n          sourceMap: true,\n        },\n      },\n    ],\n  },\n  coveragePathIgnorePatterns: ['/node_modules/', '/test/helpers/'],\n  coverageDirectory: './coverage/',\n  collectCoverage: true,\n};\n"
        },
        {
          "name": "package.json",
          "type": "blob",
          "size": 2.0185546875,
          "content": "{\n  \"name\": \"gcoord\",\n  \"version\": \"1.0.6\",\n  \"description\": \"geographic coordinate library\",\n  \"main\": \"index.js\",\n  \"module\": \"dist/gcoord.esm-bundler.js\",\n  \"types\": \"dist/gcoord.d.ts\",\n  \"unpkg\": \"dist/gcoord.global.js\",\n  \"jsdelivr\": \"dist/gcoord.global.js\",\n  \"files\": [\n    \"src\",\n    \"dist\",\n    \"index.js\"\n  ],\n  \"sideEffects\": false,\n  \"scripts\": {\n    \"build\": \"node scripts/build.js\",\n    \"lint\": \"eslint --ext .js,.ts, ./src\",\n    \"test\": \"jest && codecov\",\n    \"release\": \"node scripts/release.js\",\n    \"changelog\": \"conventional-changelog -p angular -i CHANGELOG.md -s\",\n    \"format\": \"prettier --write \\\"src/**/*.ts\\\"\",\n    \"gpr-setup\": \"node scripts/gpr-setup.js\"\n  },\n  \"gitHooks\": {\n    \"pre-commit\": \"lint-staged\",\n    \"commit-msg\": \"node scripts/verify-commit.js\"\n  },\n  \"lint-staged\": {\n    \"*.js\": [\n      \"prettier --write\"\n    ],\n    \"*.ts?(x)\": [\n      \"eslint\",\n      \"prettier --write\"\n    ]\n  },\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"git+https://github.com/hujiulong/gcoord.git\"\n  },\n  \"author\": \"Jiulong Hu <me@hujiulong.com>\",\n  \"license\": \"MIT\",\n  \"bugs\": {\n    \"url\": \"https://github.com/hujiulong/gcoord/issues\"\n  },\n  \"homepage\": \"https://github.com/hujiulong/gcoord#readme\",\n  \"keywords\": [\n    \"map\",\n    \"coordinate\",\n    \"wgs84\",\n    \"gcj02\",\n    \"bd09\"\n  ],\n  \"engines\": {\n    \"node\": \">=16.11.0\"\n  },\n  \"devDependencies\": {\n    \"@microsoft/api-extractor\": \"^7.33.7\",\n    \"@rollup/plugin-json\": \"^6.0.0\",\n    \"@rollup/plugin-terser\": \"^0.4.0\",\n    \"@types/jest\": \"^29.2.5\",\n    \"@typescript-eslint/eslint-plugin\": \"^5.50.0\",\n    \"@typescript-eslint/parser\": \"^5.48.1\",\n    \"chalk\": \"^4.1.2\",\n    \"codecov\": \"^3.8.1\",\n    \"conventional-changelog-cli\": \"^2.2.2\",\n    \"enquirer\": \"^2.3.6\",\n    \"eslint\": \"^8.33.0\",\n    \"execa\": \"^4.1.0\",\n    \"jest\": \"^29.3.1\",\n    \"lint-staged\": \"^13.1.0\",\n    \"minimist\": \"^1.2.5\",\n    \"prettier\": \"^2.2.1\",\n    \"rollup\": \"^3.10.0\",\n    \"rollup-plugin-typescript2\": \"^0.34.1\",\n    \"semver\": \"^7.3.4\",\n    \"ts-jest\": \"^29.0.4\",\n    \"typescript\": \"^4.0.5\",\n    \"yorkie\": \"^2.0.0\"\n  }\n}\n"
        },
        {
          "name": "rollup.config.mjs",
          "type": "blob",
          "size": 3.6845703125,
          "content": "// @ts-check\nimport { createRequire } from 'module'\nimport { fileURLToPath } from 'url'\nimport path from 'path'\nimport ts from 'rollup-plugin-typescript2'\nimport json from '@rollup/plugin-json'\nimport chalk from 'chalk'\nimport terser from '@rollup/plugin-terser'\n\nconst require = createRequire(import.meta.url)\nconst __dirname = fileURLToPath(new URL('.', import.meta.url))\n\nconst resolve = p => path.resolve(__dirname, p)\nconst pkg = require(resolve(`package.json`))\n\n// ensure TS checks only once for each build\nlet hasTSChecked = false\n\nconst outputConfigs = {\n  'esm-bundler': {\n    file: resolve(`dist/gcoord.esm-bundler.js`),\n    format: `es`\n  },\n  'esm-browser': {\n    file: resolve(`dist/gcoord.esm-browser.js`),\n    format: `es`\n  },\n  cjs: {\n    file: resolve(`dist/gcoord.cjs.js`),\n    format: `cjs`\n  },\n  global: {\n    file: resolve(`dist/gcoord.global.js`),\n    format: `iife`\n  },\n}\n\nconst defaultFormats = Object.keys(outputConfigs)\nconst inlineFormats = process.env.FORMATS && process.env.FORMATS.split(',')\nconst formats = inlineFormats || defaultFormats\nconst configs = process.env.PROD_ONLY\n  ? []\n  : formats.map(format => createConfig(format, outputConfigs[format]))\n\nif (process.env.NODE_ENV === 'production') {\n  formats.forEach(format => {\n    if (format === 'cjs') {\n      configs.push(createProductionConfig(format))\n    }\n    if (/^(global|esm-browser)/.test(format)) {\n      configs.push(createMinifiedConfig(format))\n    }\n  })\n}\n\nexport default configs\n\nfunction createConfig(format, output, plugins = []) {\n  if (!output) {\n    console.log(chalk.yellow(`invalid format: \"${format}\"`))\n    process.exit(1)\n  }\n\n  const isGlobalBuild = /global/.test(format)\n\n  output.exports = 'default';\n  output.sourcemap = !!process.env.SOURCE_MAP\n  output.banner = `/**\n * @preserve\n * gcoord ${pkg.version}, ${pkg.description}\n * Copyright (c) ${new Date().getFullYear()} Jiulong Hu <me@hujiulong.com>\n */`;\n\n  if (isGlobalBuild) {\n    output.name = 'gcoord';\n  }\n\n  const shouldEmitDeclarations =\n    pkg.types && process.env.TYPES != null && !hasTSChecked\n\n  const tsPlugin = ts({\n    check: process.env.NODE_ENV === 'production' && !hasTSChecked,\n    tsconfig: path.resolve(__dirname, 'tsconfig.json'),\n    cacheRoot: path.resolve(__dirname, 'node_modules/.rts2_cache'),\n    useTsconfigDeclarationDir: true,\n    tsconfigOverride: {\n      compilerOptions: {\n        target: isGlobalBuild ? 'es3' : 'es2015',\n        sourceMap: output.sourcemap,\n        declaration: shouldEmitDeclarations,\n        declarationMap: shouldEmitDeclarations,\n        declarationDir: shouldEmitDeclarations ? 'dist/types' : undefined,\n      },\n      exclude: ['test', 'test-dts']\n    }\n  })\n  // we only need to check TS and generate declarations once for each build.\n  // it also seems to run into weird issues when checking multiple times\n  // during a single build.\n  hasTSChecked = true\n\n  return {\n    input: resolve('src/index.ts'),\n    plugins: [\n      json({\n        namedExports: false\n      }),\n      tsPlugin,\n      ...plugins\n    ],\n    output,\n    onwarn: (msg, warn) => {\n      if (!/Circular/.test(msg)) {\n        warn(msg)\n      }\n    },\n    treeshake: {\n      moduleSideEffects: false\n    }\n  }\n}\n\nfunction createProductionConfig(format) {\n  return createConfig(format, {\n    file: resolve(`dist/gcoord.${format}.prod.js`),\n    format: outputConfigs[format].format\n  })\n}\n\nfunction createMinifiedConfig(format) {\n  return createConfig(\n    format,\n    {\n      file: outputConfigs[format].file.replace(/\\.js$/, '.prod.js'),\n      format: outputConfigs[format].format\n    },\n    [\n      terser({\n        module: /^esm/.test(format),\n        compress: {\n          ecma: 2015,\n          pure_getters: true\n        },\n        safari10: true\n      })\n    ]\n  )\n}"
        },
        {
          "name": "scripts",
          "type": "tree",
          "content": null
        },
        {
          "name": "src",
          "type": "tree",
          "content": null
        },
        {
          "name": "test",
          "type": "tree",
          "content": null
        },
        {
          "name": "tsconfig.json",
          "type": "blob",
          "size": 0.3076171875,
          "content": "{\n  \"compilerOptions\": {\n    \"target\": \"ES2016\",\n    \"sourceMap\": false,\n    \"newLine\": \"LF\",\n    \"outDir\": \"./.tmp/ts\",\n    \"strict\": true,\n    \"module\": \"esnext\",\n    \"moduleResolution\": \"node\",\n    \"resolveJsonModule\": true,\n    \"esModuleInterop\": true,\n    \"lib\": [\"ESNext\"]\n  },\n  \"include\": [\n    \"src\"\n  ]\n}\n"
        }
      ]
    }
  ]
}