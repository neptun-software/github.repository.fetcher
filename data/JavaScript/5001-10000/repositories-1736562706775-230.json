{
  "metadata": {
    "timestamp": 1736562706775,
    "page": 230,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjI3MA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "sindresorhus/np",
      "stars": 7593,
      "defaultBranch": "main",
      "files": [
        {
          "name": ".editorconfig",
          "type": "blob",
          "size": 0.1708984375,
          "content": "root = true\n\n[*]\nindent_style = tab\nend_of_line = lf\ncharset = utf-8\ntrim_trailing_whitespace = true\ninsert_final_newline = true\n\n[*.yml]\nindent_style = space\nindent_size = 2\n"
        },
        {
          "name": ".gitattributes",
          "type": "blob",
          "size": 0.0185546875,
          "content": "* text=auto eol=lf\n"
        },
        {
          "name": ".github",
          "type": "tree",
          "content": null
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.0224609375,
          "content": "node_modules\nyarn.lock\n"
        },
        {
          "name": ".npmrc",
          "type": "blob",
          "size": 0.0185546875,
          "content": "package-lock=false\n"
        },
        {
          "name": "license",
          "type": "blob",
          "size": 1.0908203125,
          "content": "MIT License\n\nCopyright (c) Sindre Sorhus <sindresorhus@gmail.com> (https://sindresorhus.com)\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n"
        },
        {
          "name": "media",
          "type": "tree",
          "content": null
        },
        {
          "name": "package.json",
          "type": "blob",
          "size": 2.1923828125,
          "content": "{\n\t\"name\": \"np\",\n\t\"version\": \"10.1.0\",\n\t\"description\": \"A better `npm publish`\",\n\t\"license\": \"MIT\",\n\t\"repository\": \"sindresorhus/np\",\n\t\"funding\": \"https://github.com/sindresorhus/np?sponsor=1\",\n\t\"type\": \"module\",\n\t\"bin\": \"./source/cli.js\",\n\t\"engines\": {\n\t\t\"node\": \">=18\",\n\t\t\"npm\": \">=9\",\n\t\t\"git\": \">=2.11.0\",\n\t\t\"yarn\": \">=1.7.0\",\n\t\t\"pnpm\": \">=8\",\n\t\t\"bun\": \">=1\"\n\t},\n\t\"scripts\": {\n\t\t\"test\": \"xo && ava\"\n\t},\n\t\"files\": [\n\t\t\"source\"\n\t],\n\t\"keywords\": [\n\t\t\"cli-app\",\n\t\t\"cli\",\n\t\t\"npm\",\n\t\t\"publish\",\n\t\t\"git\",\n\t\t\"push\",\n\t\t\"version\",\n\t\t\"bump\",\n\t\t\"commit\"\n\t],\n\t\"dependencies\": {\n\t\t\"chalk\": \"^5.3.0\",\n\t\t\"chalk-template\": \"^1.1.0\",\n\t\t\"cosmiconfig\": \"^8.3.6\",\n\t\t\"del\": \"^8.0.0\",\n\t\t\"escape-goat\": \"^4.0.0\",\n\t\t\"escape-string-regexp\": \"^5.0.0\",\n\t\t\"execa\": \"^8.0.1\",\n\t\t\"exit-hook\": \"^4.0.0\",\n\t\t\"github-url-from-git\": \"^1.5.0\",\n\t\t\"hosted-git-info\": \"^8.0.2\",\n\t\t\"ignore-walk\": \"^7.0.0\",\n\t\t\"import-local\": \"^3.2.0\",\n\t\t\"inquirer\": \"^9.2.15\",\n\t\t\"is-installed-globally\": \"^1.0.0\",\n\t\t\"is-interactive\": \"^2.0.0\",\n\t\t\"is-scoped\": \"^3.0.0\",\n\t\t\"issue-regex\": \"^4.3.0\",\n\t\t\"listr\": \"^0.14.3\",\n\t\t\"listr-input\": \"^0.2.1\",\n\t\t\"log-symbols\": \"^7.0.0\",\n\t\t\"meow\": \"^13.2.0\",\n\t\t\"new-github-release-url\": \"^2.0.0\",\n\t\t\"npm-name\": \"^8.0.0\",\n\t\t\"onetime\": \"^7.0.0\",\n\t\t\"open\": \"^10.0.4\",\n\t\t\"p-memoize\": \"^7.1.1\",\n\t\t\"p-timeout\": \"^6.1.3\",\n\t\t\"path-exists\": \"^5.0.0\",\n\t\t\"pkg-dir\": \"^8.0.0\",\n\t\t\"read-package-up\": \"^11.0.0\",\n\t\t\"read-pkg\": \"^9.0.1\",\n\t\t\"rxjs\": \"^7.8.1\",\n\t\t\"semver\": \"^7.6.0\",\n\t\t\"symbol-observable\": \"^4.0.0\",\n\t\t\"terminal-link\": \"^3.0.0\",\n\t\t\"update-notifier\": \"^7.3.1\"\n\t},\n\t\"devDependencies\": {\n\t\t\"@sindresorhus/is\": \"^7.0.1\",\n\t\t\"@types/semver\": \"^7.5.8\",\n\t\t\"ava\": \"^6.2.0\",\n\t\t\"common-tags\": \"^1.8.2\",\n\t\t\"esmock\": \"^2.6.9\",\n\t\t\"fs-extra\": \"^11.2.0\",\n\t\t\"map-obj\": \"^5.0.2\",\n\t\t\"sinon\": \"^19.0.2\",\n\t\t\"strip-ansi\": \"^7.1.0\",\n\t\t\"tempy\": \"^3.1.0\",\n\t\t\"write-package\": \"^7.1.0\",\n\t\t\"xo\": \"^0.59.3\"\n\t},\n\t\"ava\": {\n\t\t\"files\": [\n\t\t\t\"!test/fixtures\",\n\t\t\t\"!test/_helpers\"\n\t\t],\n\t\t\"environmentVariables\": {\n\t\t\t\"FORCE_HYPERLINK\": \"1\",\n\t\t\t\"HOME\": \"/tmp\",\n\t\t\t\"GIT_AUTHOR_NAME\": \"test\",\n\t\t\t\"GIT_COMMITTER_NAME\": \"test\",\n\t\t\t\"GIT_AUTHOR_EMAIL\": \"test@example.com\",\n\t\t\t\"GIT_COMMITTER_EMAIL\": \"test@example.com\"\n\t\t},\n\t\t\"nodeArguments\": [\n\t\t\t\"--loader=esmock\",\n\t\t\t\"--no-warnings=ExperimentalWarning\"\n\t\t]\n\t}\n}\n"
        },
        {
          "name": "readme.md",
          "type": "blob",
          "size": 13.0166015625,
          "content": "# np [![XO code style](https://img.shields.io/badge/code_style-XO-5ed9c7.svg)](https://github.com/xojs/xo)\n\n> A better `npm publish`\n\n<img src=\"media/screenshot.gif\" width=\"688\">\n\n## Why\n\n- [Interactive UI](#interactive-ui)\n- Ensures you are publishing from your release branch (`main` and `master` by default)\n- Ensures the working directory is clean and that there are no unpulled changes\n- Reinstalls dependencies to ensure your project works with the latest dependency tree\n- Ensures your Node.js and npm versions are supported by the project and its dependencies\n- Runs the tests\n- Bumps the version in package.json and npm-shrinkwrap.json (if present) and creates a git tag\n- Prevents [accidental publishing](https://github.com/npm/npm/issues/13248) of pre-release versions under the `latest` [dist-tag](https://docs.npmjs.com/cli/dist-tag)\n- Publishes the new version to npm, optionally under a dist-tag\n- Rolls back the project to its previous state in case publishing fails\n- Pushes commits and tags (newly & previously created) to GitHub/GitLab\n- Supports [two-factor authentication](https://docs.npmjs.com/getting-started/using-two-factor-authentication)\n- Enables two-factor authentication on new repositories\n  <br>\n  <sub>(does not apply to external registries)</sub>\n- Opens a prefilled GitHub Releases draft after publish\n- Warns about the possibility of extraneous files being published\n- See exactly what will be executed with [preview mode](https://github.com/sindresorhus/np/issues/391), without pushing or publishing anything remotely\n- Supports [GitHub Packages](https://github.com/features/packages)\n- Supports npm 9+, Yarn (Classic and Berry), pnpm 8+, and Bun\n\n### Why not\n\n- Monorepos are not supported.\n- Custom registries are not supported ([but could be with your help](https://github.com/sindresorhus/np/issues/420)).\n- CI is [not an ideal environment](https://github.com/sindresorhus/np/issues/619#issuecomment-994493179) for `np`. It's meant to be used locally as an interactive tool.\n\n## Prerequisite\n\n- Node.js 18 or later\n- npm 9 or later\n- Git 2.11 or later\n\n## Install\n\n```sh\nnpm install --global np\n```\n\n## Usage\n\n```\n$ np --help\n\n  Usage\n    $ np <version>\n\n    Version can be:\n      patch | minor | major | prepatch | preminor | premajor | prerelease | 1.2.3\n\n  Options\n    --any-branch            Allow publishing from any branch\n    --branch                Name of the release branch (default: main | master)\n    --no-cleanup            Skips cleanup of node_modules\n    --no-tests              Skips tests\n    --yolo                  Skips cleanup and testing\n    --no-publish            Skips publishing\n    --preview               Show tasks without actually executing them\n    --tag                   Publish under a given dist-tag\n    --contents              Subdirectory to publish\n    --no-release-draft      Skips opening a GitHub release draft\n    --release-draft-only    Only opens a GitHub release draft for the latest published version\n    --test-script           Name of npm run script to run tests before publishing (default: test)\n    --no-2fa                Don't enable 2FA on new packages (not recommended)\n    --message               Version bump commit message, '%s' will be replaced with version (default: '%s' with npm and 'v%s' with yarn)\n    --package-manager       Use a specific package manager (default: 'packageManager' field in package.json)\n\n  Examples\n    $ np\n    $ np patch\n    $ np 1.0.2\n    $ np 1.0.2-beta.3 --tag=beta\n    $ np 1.0.2-beta.3 --tag=beta --contents=dist\n```\n\n## Interactive UI\n\nRun `np` without arguments to launch the interactive UI that guides you through publishing a new version.\n\n<img src=\"media/screenshot-ui.png\" width=\"1290\">\n\n## Config\n\n`np` can be configured both globally and locally. When using the global `np` binary, you can configure any of the CLI flags in either a `.np-config.js` (as CJS), `.np-config.cjs`, `.np-config.mjs`, or `.np-config.json` file in the home directory. When using the local `np` binary, for example, in a `npm run` script, you can configure `np` by setting the flags in either a top-level `np` field in `package.json` or in one of the aforementioned file types in the project directory. If it exists, the local installation will always take precedence. This ensures any local config matches the version of `np` it was designed for.\n\nCurrently, these are the flags you can configure:\n\n- `anyBranch` - Allow publishing from any branch (`false` by default).\n- `branch` - Name of the release branch (`main` or `master` by default).\n- `cleanup` - Cleanup `node_modules` (`true` by default).\n- `tests` - Run `npm test` (`true` by default).\n- `yolo` - Skip cleanup and testing (`false` by default).\n- `publish` - Publish (`true` by default).\n- `preview` - Show tasks without actually executing them (`false` by default).\n- `tag` - Publish under a given dist-tag (`latest` by default).\n- `contents` - Subdirectory to publish (`.` by default).\n- `releaseDraft` - Open a GitHub release draft after releasing (`true` by default).\n- `testScript` - Name of npm run script to run tests before publishing (`test` by default).\n- `2fa` - Enable 2FA on new packages (`true` by default) (setting this to `false` is not recommended).\n- `message` - The commit message used for the version bump. Any `%s` in the string will be replaced with the new version. By default, npm uses `%s` and Yarn uses `v%s`.\n- `packageManager` - Set the package manager to be used. Defaults to the [packageManager field in package.json](https://nodejs.org/api/packages.html#packagemanager), so only use if you can't update package.json for some reason.\n\nFor example, this configures `np` to use `unit-test` as a test script, and to use `dist` as the subdirectory to publish:\n\n`package.json`\n```json\n{\n\t\"name\": \"superb-package\",\n\t\"np\": {\n\t\t\"testScript\": \"unit-test\",\n\t\t\"contents\": \"dist\"\n\t}\n}\n```\n\n`.np-config.json`\n```json\n{\n\t\"testScript\": \"unit-test\",\n\t\"contents\": \"dist\"\n}\n```\n\n`.np-config.js` or `.np-config.cjs`\n```js\nmodule.exports = {\n\ttestScript: 'unit-test',\n\tcontents: 'dist'\n};\n```\n\n`.np-config.mjs`\n```js\nexport default {\n\ttestScript: 'unit-test',\n\tcontents: 'dist'\n};\n```\n\n_**Note:** The global config only applies when using the global `np` binary, and is never inherited when using a local binary._\n\n## Tips\n\n### npm hooks\n\nYou can use any of the test/version/publish related [npm lifecycle hooks](https://docs.npmjs.com/misc/scripts) in your package.json to add extra behavior.\n\nFor example, here we build the documentation before tagging the release:\n\n```json\n{\n\t\"name\": \"my-awesome-package\",\n\t\"scripts\": {\n\t\t\"version\": \"./build-docs && git add docs\"\n\t}\n}\n```\n\n### Release script\n\nYou can also add `np` to a custom script in `package.json`. This can be useful if you want all maintainers of a package to release the same way (Not forgetting to push Git tags, for example). However, you can't use `publish` as name of your script because it's an [npm defined lifecycle hook](https://docs.npmjs.com/misc/scripts).\n\n```json\n{\n\t\"name\": \"my-awesome-package\",\n\t\"scripts\": {\n\t\t\"release\": \"np\"\n\t},\n\t\"devDependencies\": {\n\t\t\"np\": \"*\"\n\t}\n}\n```\n\n### User-defined tests\n\nIf you want to run a user-defined test script before publishing instead of the normal `npm test` or `yarn test`, you can use `--test-script` flag or the `testScript` config. This can be useful when your normal test script is running with a `--watch` flag or in case you want to run some specific tests (maybe on the packaged files) before publishing.\n\nFor example, `np --test-script=publish-test` would run the `publish-test` script instead of the default `test`.\n\n```json\n{\n\t\"name\": \"my-awesome-package\",\n\t\"scripts\": {\n\t\t\"test\": \"ava --watch\",\n\t\t\"publish-test\": \"ava\"\n\t},\n\t\"devDependencies\": {\n\t\t\"np\": \"*\"\n\t}\n}\n```\n\n### Signed Git tag\n\nSet the [`sign-git-tag`](https://docs.npmjs.com/misc/config#sign-git-tag) npm config to have the Git tag signed:\n\n```\n$ npm config set sign-git-tag true\n```\n\nOr set the [`version-sign-git-tag`](https://yarnpkg.com/lang/en/docs/cli/version/#toc-git-tags) Yarn config:\n\n```\n$ yarn config set version-sign-git-tag true\n```\n\n### Private packages\n\n<img src=\"media/private-packages.png\" width=\"260\" align=\"right\">\n\nYou can use `np` for packages that aren't publicly published to npm (perhaps installed from a private git repo).\n\nSet `\"private\": true` in your `package.json` and the publishing step will be skipped. All other steps\nincluding versioning and pushing tags will still be completed.\n\n### Public scoped packages\n\nTo publish [scoped packages](https://docs.npmjs.com/misc/scope#publishing-public-scoped-packages-to-the-public-npm-registry) to the public registry, you need to set the access level to `public`. You can do that by adding the following to your `package.json`:\n\n```json\n\"publishConfig\": {\n\t\"access\": \"public\"\n}\n```\n\nIf publishing a scoped package for the first time, `np` will prompt you to ask if you want to publish it publicly.\n\n**Note:** When publishing a scoped package, the first ever version you publish has to be done interactively using `np`. If not, you cannot use `np` to publish future versions of the package.\n\n### Private Org-scoped packages\n\nTo publish a [private Org-scoped package](https://docs.npmjs.com/creating-and-publishing-an-org-scoped-package#publishing-a-private-org-scoped-package), you need to set the access level to `restricted`. You can do that by adding the following to your `package.json`:\n\n```json\n\"publishConfig\": {\n\t\"access\": \"restricted\"\n}\n```\n\n### Publish to a custom registry\n\nSet the [`registry` option](https://docs.npmjs.com/misc/config#registry) in package.json to the URL of your registry:\n\n```json\n\"publishConfig\": {\n\t\"registry\": \"https://my-internal-registry.local\"\n}\n```\n\n### Package managers\n\nIf a package manager is not set in package.json, via configuration (`packageManager`), or via the CLI (`--package-manager`), `np` will attempt to infer the best package manager to use by looking for lockfiles. But it's recommended to set the [`packageManager` field](https://nodejs.org/api/packages.html#packagemanager) in your package.json to be consistent with other tools. See also the [corepack docs](https://nodejs.org/api/corepack.html).\n\n### Publish with a CI\n\nIf you use a Continuous Integration server to publish your tagged commits, use the `--no-publish` flag to skip the publishing step of `np`.\n\n### Publish to gh-pages\n\nTo publish to `gh-pages` (or any other branch that serves your static assets), install [`branchsite`](https://github.com/enriquecaballero/branchsite), an `np`-like CLI tool aimed to complement `np`, and create an [npm \"post\" hook](https://docs.npmjs.com/misc/scripts) that runs after `np`.\n\n```sh\nnpm install --save-dev branchsite\n```\n\n```json\n\"scripts\": {\n\t\"deploy\": \"np\",\n\t\"postdeploy\": \"bs\"\n}\n```\n\n### Initial version\n\nFor new packages, start the `version` field in package.json at `0.0.0` and let `np` bump it to `1.0.0` or `0.1.0` when publishing.\n\n### Release an update to an old major version\n\nTo release a minor/patch version for an old major version, create a branch from the major version's git tag and run `np`:\n\n```console\n$ git checkout -b fix-old-bug v1.0.0 # Where 1.0.0 is the previous major version\n# Create some commits…\n$ git push --set-upstream origin HEAD\n$ np patch --any-branch --tag=v1\n```\n\n### The prerequisite step runs forever on macOS\n\nIf you're using macOS Sierra 10.12.2 or later, your SSH key passphrase is no longer stored into the keychain by default. This may cause the `prerequisite` step to run forever because it prompts for your passphrase in the background. To fix this, add the following lines to your `~/.ssh/config` and run a simple Git command like `git fetch`.\n\n```\nHost *\n AddKeysToAgent yes\n UseKeychain yes\n```\n\nIf you're running into other issues when using SSH, please consult [GitHub's support article](https://help.github.com/articles/connecting-to-github-with-ssh/).\n\n### Ignore strategy\n\nThe [ignore strategy](https://docs.npmjs.com/files/package.json#files), either maintained in the `files`-property in `package.json` or in `.npmignore`, is meant to help reduce the package size. To avoid broken packages caused by essential files being accidentally ignored, `np` prints out all the new and unpublished files added to Git. Test files and other [common files](https://docs.npmjs.com/files/package.json#files) that are never published are not considered. `np` assumes either a standard directory layout or a customized layout represented in the `directories` property in `package.json`.\n\n## FAQ\n\n### I get an error when publishing my package through Yarn\n\nIf you get an error like this…\n\n```shell\n❯ Prerequisite check\n✔ Ping npm registry\n✔ Check npm version\n✔ Check yarn version\n✖ Verify user is authenticated\n\nnpm ERR! code E403\nnpm ERR! 403 Forbidden - GET https://registry.yarnpkg.com/-/package/my-awesome-package/collaborators?format=cli - Forbidden\n```\n\n…please check whether the command `npm access list collaborators my-awesome-package` succeeds. If it doesn't, Yarn has overwritten your registry URL. To fix this, add the correct registry URL to `package.json`:\n\n```json\n\"publishConfig\": {\n\t\"registry\": \"https://registry.npmjs.org\"\n}\n```\n\n## Maintainers\n\n- [Sindre Sorhus](https://github.com/sindresorhus)\n- [Tommy Mitchell](https://github.com/tommy-mitchell)\n"
        },
        {
          "name": "source",
          "type": "tree",
          "content": null
        },
        {
          "name": "test",
          "type": "tree",
          "content": null
        }
      ]
    }
  ]
}