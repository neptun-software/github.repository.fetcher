{
  "metadata": {
    "timestamp": 1736562558525,
    "page": 24,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjYw",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "c3js/c3",
      "stars": 9347,
      "defaultBranch": "master",
      "files": [
        {
          "name": ".bmp.yml",
          "type": "blob",
          "size": 0.17578125,
          "content": "---\nversion: 0.7.20\ncommit: 'chore(version): bump to v%.%.%'\nfiles:\n  src/core.ts: 'version: ''%.%.%'''\n  package.json: '\"version\": \"%.%.%\"'\n  component.json: '\"version\": \"%.%.%\"'\n"
        },
        {
          "name": ".circleci",
          "type": "tree",
          "content": null
        },
        {
          "name": ".editorconfig",
          "type": "blob",
          "size": 0.2626953125,
          "content": "# editorconfig.org\nroot = true\n\n[*]\nindent_style = space\nindent_size = 4\nend_of_line = lf\ncharset = utf-8\ntrim_trailing_whitespace = true\ninsert_final_newline = true\n\n[*.yml]\nindent_size = 2\n\n[*.json]\nindent_size = 2\n\n[*.haml]\nindent_size = 2\n\n[*.html]\nindent_size = 2\n"
        },
        {
          "name": ".github",
          "type": "tree",
          "content": null
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.35546875,
          "content": "# npm modules\nnode_modules\nbower_components\nd3.js\nd3.min.js\ncomponents\npackage-lock.json\n\n# build\n/htdocs/js/c3.js\n/htdocs/js/c3.min.js\n/htdocs/js/c3.esm.js\n/htdocs/css/c3.css\n/htdocs/css/c3.min.css\n/build\n\n# sass\n.sass-cache\n\n# jetbrains\n.idea/\n\n# coverage report\n/coverage\n\n# OS related\n.DS_Store\n\n# IDE related\n.idea\n.iml\n\n# bundle\n.bundle/config\nvendor/bundle\n"
        },
        {
          "name": ".jshintrc",
          "type": "blob",
          "size": 0.4443359375,
          "content": "{\n    \"esversion\": 6,\n    \"eqeqeq\": true,\n    \"curly\": true,\n    \"strict\": false,\n    \"trailing\": true,\n    \"white\": true,\n    \"maxlen\": 210,\n    \"undef\": true,\n    \"unused\": true,\n    \"indent\": 2,\n    \"eqnull\": true,\n    \"expr\": true,\n    \"newcap\": false,\n    \"loopfunc\": true,\n    \"bitwise\": false,\n    \"asi\": true,\n    \"laxbreak\": true,\n\n    \"browser\": true,\n    \"jasmine\": true,\n\n    \"globals\": {\n        \"d3\": false,\n        \"require\": false\n    }\n}\n"
        },
        {
          "name": ".prettierrc.json",
          "type": "blob",
          "size": 0.05859375,
          "content": "{\n  \"tabWidth\": 2,\n  \"semi\": false,\n  \"singleQuote\": true\n}\n"
        },
        {
          "name": ".travis.yml",
          "type": "blob",
          "size": 0.23828125,
          "content": "language: ruby\nrvm:\n  - 2.4\n\nbranches:\n  only:\n    - master\n\nscript:\n  - bundle exec middleman build\n\ndeploy:\n  provider: pages\n  skip-cleanup: true\n  local-dir: build\n  github-token: $GITHUB_TOKEN\n  keep-history: true\n  on:\n    branch: master\n"
        },
        {
          "name": "CONTRIBUTING.md",
          "type": "blob",
          "size": 2.3818359375,
          "content": "## Filing an issue\n\nBefore filing an issue, please [search the queue](https://github.com/c3js/c3/issues) to make sure it hasn't already been reported.\n\nIf a bug, please include the following â€”\n\n1. What version of C3?\n1. What browsers have you confirmed it in?\n1. Can you isolate the issue by providing a jsFiddle demonstrating it in a minimalist capacity?\n\nPlease *do not* ask for support using the issue queue. For support, please ask [on chat](https://gitter.im/c3js/c3) or [the mailing list](groups.google.com/forum/#!forum/c3js).\n\n## Setup\n 1. **Clone the repo from GitHub**\n\n        git clone https://github.com/c3js/c3.git\n        cd c3\n\n 2. **Acquire build dependencies.** Make sure you have [Node.js](http://nodejs.org/) installed on your workstation. This is only needed to _build_ C3 from sources. C3 itself has no dependency on Node.js once it is built. Now run:\n\n        npm install -g grunt-cli\n        npm install\n\n    The first `npm` command sets up the popular [Grunt](http://gruntjs.com/) build tool. You might need to run this command with `sudo` if you're on Linux or Mac OS X, or in an Administrator command prompt on Windows. The second `npm` command fetches the remaining build dependencies.\n\n## Building C3 from sources\n    npm run build\n\n\n## Distribution\n    npm run dist\n\nNow you'll find the built files in `c3.js`, `c3.min.js`, `c3.css` & `c3.min.css`.\n\n## Running the tests\n    npm run test\n\nThis command will automatically run the specification suite and report its results.\n\nIf you want to see specs running live in browser (e.g., for debugging), simply open `http://localhost:9876/` in your browser when phantomjs starts.\n\n## Building the document site (c3js.org)\n\nFirst you need ruby and [bundler][] to build the documentation site.\n\n**Note:** Currently the site doesn't build with ruby 2.5.x, so you need ruby 2.4.4 or below. ([rbenv][] is useful for switching between ruby versions.)\n\n```console\n$ gem install bundler\n```\n\nThen you need to install bundler dependencies.\n\n```console\n$ bundle install\n```\n\nThen hit the following command to build the site.\n\n```console\n$ npm run watch:docs\n```\n\nThen access `http://0.0.0.0:4567`.\n\n## Contributing your changes\n\nAdd something about PRs here, indicate that PRs should not bump the version number & the build output files (`c3.js`, `c3.min.js`, `c3.css` & `c3.min.css`) should be excluded\n\n[bundler]: https://bundler.io\n[rbenv]: https://github.com/rbenv/rbenv\n"
        },
        {
          "name": "Gemfile",
          "type": "blob",
          "size": 0.3603515625,
          "content": "# If you have OpenSSL installed, we recommend updating\n# the following line to use \"https\"\nsource 'http://rubygems.org'\n\ngem \"middleman\", \"~>3.2.2\"\n\n# Live-reloading plugin\ngem \"middleman-livereload\", \"~> 3.1.0\"\n\n# Sync plugin\ngem 'middleman-sync', '3.0.12'\ngem 'unf'\n\n# For faster file watcher updates on Windows:\ngem \"wdm\", \"~> 0.1.0\", :platforms => [:mswin, :mingw]\n"
        },
        {
          "name": "Gemfile.lock",
          "type": "blob",
          "size": 6.3359375,
          "content": "GEM\n  remote: http://rubygems.org/\n  specs:\n    CFPropertyList (2.3.5)\n    activemodel (3.2.22.5)\n      activesupport (= 3.2.22.5)\n      builder (~> 3.0.0)\n    activesupport (3.2.22.5)\n      i18n (~> 0.6, >= 0.6.4)\n      multi_json (~> 1.0)\n    asset_sync (1.0.0)\n      activemodel\n      fog (>= 1.8.0)\n    builder (3.0.4)\n    chunky_png (1.3.8)\n    coffee-script (2.2.0)\n      coffee-script-source\n      execjs\n    coffee-script-source (1.12.2)\n    compass (1.0.3)\n      chunky_png (~> 1.2)\n      compass-core (~> 1.0.2)\n      compass-import-once (~> 1.0.5)\n      rb-fsevent (>= 0.9.3)\n      rb-inotify (>= 0.9)\n      sass (>= 3.3.13, < 3.5)\n    compass-core (1.0.3)\n      multi_json (~> 1.0)\n      sass (>= 3.3.0, < 3.5)\n    compass-import-once (1.0.5)\n      sass (>= 3.2, < 3.5)\n    em-websocket (0.5.1)\n      eventmachine (>= 0.12.9)\n      http_parser.rb (~> 0.6.0)\n    eventmachine (1.2.3)\n    eventmachine (1.2.3-x86-mingw32)\n    excon (0.71.0)\n    execjs (1.4.1)\n      multi_json (~> 1.0)\n    ffi (1.11.1)\n    ffi (1.11.1-x86-mingw32)\n    fission (0.5.0)\n      CFPropertyList (~> 2.2)\n    fog (1.40.0)\n      fog-aliyun (>= 0.1.0)\n      fog-atmos\n      fog-aws (>= 0.6.0)\n      fog-brightbox (~> 0.4)\n      fog-cloudatcost (~> 0.1.0)\n      fog-core (~> 1.43)\n      fog-digitalocean (>= 0.3.0)\n      fog-dnsimple (~> 1.0)\n      fog-dynect (~> 0.0.2)\n      fog-ecloud (~> 0.1)\n      fog-google (<= 0.1.0)\n      fog-json\n      fog-local\n      fog-openstack\n      fog-powerdns (>= 0.1.1)\n      fog-profitbricks\n      fog-rackspace\n      fog-radosgw (>= 0.0.2)\n      fog-riakcs\n      fog-sakuracloud (>= 0.0.4)\n      fog-serverlove\n      fog-softlayer\n      fog-storm_on_demand\n      fog-terremark\n      fog-vmfusion\n      fog-voxel\n      fog-vsphere (>= 0.4.0)\n      fog-xenserver\n      fog-xml (~> 0.1.1)\n      ipaddress (~> 0.5)\n      json (>= 1.8, < 2.0)\n    fog-aliyun (0.1.0)\n      fog-core (~> 1.27)\n      fog-json (~> 1.0)\n      ipaddress (~> 0.8)\n      xml-simple (~> 1.1)\n    fog-atmos (0.1.0)\n      fog-core\n      fog-xml\n    fog-aws (1.3.0)\n      fog-core (~> 1.38)\n      fog-json (~> 1.0)\n      fog-xml (~> 0.1)\n      ipaddress (~> 0.8)\n    fog-brightbox (0.11.0)\n      fog-core (~> 1.22)\n      fog-json\n      inflecto (~> 0.0.2)\n    fog-cloudatcost (0.1.2)\n      fog-core (~> 1.36)\n      fog-json (~> 1.0)\n      fog-xml (~> 0.1)\n      ipaddress (~> 0.8)\n    fog-core (1.44.3)\n      builder\n      excon (~> 0.49)\n      formatador (~> 0.2)\n    fog-digitalocean (0.3.0)\n      fog-core (~> 1.42)\n      fog-json (>= 1.0)\n      fog-xml (>= 0.1)\n      ipaddress (>= 0.5)\n    fog-dnsimple (1.0.0)\n      fog-core (~> 1.38)\n      fog-json (~> 1.0)\n    fog-dynect (0.0.3)\n      fog-core\n      fog-json\n      fog-xml\n    fog-ecloud (0.3.0)\n      fog-core\n      fog-xml\n    fog-google (0.1.0)\n      fog-core\n      fog-json\n      fog-xml\n    fog-json (1.0.2)\n      fog-core (~> 1.0)\n      multi_json (~> 1.10)\n    fog-local (0.3.1)\n      fog-core (~> 1.27)\n    fog-openstack (0.1.20)\n      fog-core (>= 1.40)\n      fog-json (>= 1.0)\n      ipaddress (>= 0.8)\n    fog-powerdns (0.1.1)\n      fog-core (~> 1.27)\n      fog-json (~> 1.0)\n      fog-xml (~> 0.1)\n    fog-profitbricks (3.0.0)\n      fog-core (~> 1.42)\n      fog-json (~> 1.0)\n    fog-rackspace (0.1.5)\n      fog-core (>= 1.35)\n      fog-json (>= 1.0)\n      fog-xml (>= 0.1)\n      ipaddress (>= 0.8)\n    fog-radosgw (0.0.5)\n      fog-core (>= 1.21.0)\n      fog-json\n      fog-xml (>= 0.0.1)\n    fog-riakcs (0.1.0)\n      fog-core\n      fog-json\n      fog-xml\n    fog-sakuracloud (1.7.5)\n      fog-core\n      fog-json\n    fog-serverlove (0.1.2)\n      fog-core\n      fog-json\n    fog-softlayer (1.1.4)\n      fog-core\n      fog-json\n    fog-storm_on_demand (0.1.1)\n      fog-core\n      fog-json\n    fog-terremark (0.1.0)\n      fog-core\n      fog-xml\n    fog-vmfusion (0.1.0)\n      fission\n      fog-core\n    fog-voxel (0.1.0)\n      fog-core\n      fog-xml\n    fog-vsphere (1.10.0)\n      fog-core\n      rbvmomi (~> 1.9)\n    fog-xenserver (0.3.0)\n      fog-core\n      fog-xml\n    fog-xml (0.1.3)\n      fog-core\n      nokogiri (>= 1.5.11, < 2.0.0)\n    formatador (0.2.5)\n    haml (5.0.1)\n      temple (>= 0.8.0)\n      tilt\n    hike (1.2.3)\n    http_parser.rb (0.6.0)\n    i18n (0.6.11)\n    inflecto (0.0.2)\n    ipaddress (0.8.3)\n    json (1.8.6)\n    kramdown (1.13.2)\n    listen (1.3.1)\n      rb-fsevent (>= 0.9.3)\n      rb-inotify (>= 0.9)\n      rb-kqueue (>= 0.2)\n    middleman (3.2.2)\n      coffee-script (~> 2.2.0)\n      compass (>= 0.12.2)\n      execjs (~> 1.4.0)\n      haml (>= 3.1.6)\n      kramdown (~> 1.2)\n      middleman-core (= 3.2.2)\n      middleman-sprockets (>= 3.1.2)\n      sass (>= 3.1.20)\n      uglifier (~> 2.4.0)\n    middleman-core (3.2.2)\n      activesupport (~> 3.2.6)\n      bundler (~> 1.1)\n      i18n (~> 0.6.9)\n      listen (~> 1.1)\n      rack (>= 1.4.5)\n      rack-test (~> 0.6.1)\n      thor (>= 0.15.2, < 2.0)\n      tilt (~> 1.4.1)\n    middleman-livereload (3.1.1)\n      em-websocket (>= 0.2.0)\n      middleman-core (>= 3.0.2)\n      multi_json (~> 1.0)\n      rack-livereload\n    middleman-sprockets (3.3.3)\n      middleman-core (>= 3.2)\n      sprockets (~> 2.2)\n      sprockets-helpers (~> 1.1.0)\n      sprockets-sass (~> 1.1.0)\n    middleman-sync (3.0.12)\n      asset_sync (~> 1.0.0)\n      middleman-core (>= 3.0.0)\n    mini_portile2 (2.4.0)\n    multi_json (1.13.1)\n    nokogiri (1.10.8)\n      mini_portile2 (~> 2.4.0)\n    nokogiri (1.10.8-x86-mingw32)\n      mini_portile2 (~> 2.4.0)\n    rack (1.6.12)\n    rack-livereload (0.3.16)\n      rack\n    rack-test (0.6.3)\n      rack (>= 1.0)\n    rb-fsevent (0.9.8)\n    rb-inotify (0.9.8)\n      ffi (>= 0.5.0)\n    rb-kqueue (0.2.5)\n      ffi (>= 0.5.0)\n    rbvmomi (1.11.2)\n      builder (~> 3.0)\n      json (>= 1.8)\n      nokogiri (~> 1.5)\n      trollop (~> 2.1)\n    sass (3.4.24)\n    sprockets (2.12.5)\n      hike (~> 1.2)\n      multi_json (~> 1.0)\n      rack (~> 1.0)\n      tilt (~> 1.1, != 1.3.0)\n    sprockets-helpers (1.1.0)\n      sprockets (~> 2.0)\n    sprockets-sass (1.1.0)\n      sprockets (~> 2.0)\n      tilt (~> 1.1)\n    temple (0.8.0)\n    thor (0.19.4)\n    tilt (1.4.1)\n    trollop (2.1.2)\n    uglifier (2.4.0)\n      execjs (>= 0.3.0)\n      json (>= 1.8.0)\n    unf (0.1.4)\n      unf_ext\n    unf_ext (0.0.7.4)\n    unf_ext (0.0.7.4-x86-mingw32)\n    wdm (0.1.1)\n    xml-simple (1.1.5)\n\nPLATFORMS\n  ruby\n  x86-mingw32\n\nDEPENDENCIES\n  middleman (~> 3.2.2)\n  middleman-livereload (~> 3.1.0)\n  middleman-sync (= 3.0.12)\n  unf\n  wdm (~> 0.1.0)\n\nBUNDLED WITH\n   1.17.3\n"
        },
        {
          "name": "LICENSE",
          "type": "blob",
          "size": 1.056640625,
          "content": "The MIT License (MIT)\n\nCopyright (c) 2013 Masayuki Tanaka\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of\nthis software and associated documentation files (the \"Software\"), to deal in\nthe Software without restriction, including without limitation the rights to\nuse, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\nthe Software, and to permit persons to whom the Software is furnished to do so,\nsubject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\nFOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\nCOPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\nIN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\nCONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n"
        },
        {
          "name": "MAINTAINANCE.md",
          "type": "blob",
          "size": 0.701171875,
          "content": "# Release process\n\nIf you don't have `bmp` command installed, first install `bmp` ruby gem:\n\n    gem install bmp\n\nWhen master is ready for the next release, hit the command:\n\n    bmp -p\n\nThis automatically updates all the version numbers with a new one in the repository.\n\nThen hit the command:\n\n    npm run dist\n\nThis builds the scripts and stylesheets. Then hit:\n\n    bmp -c\n\nThis commits all the changes (including the built assets) and git-tags a new version (like v0.4.16):\n\nThen publish it to the npm registry (you need admin access to c3 module):\n\n    npm publish\n\nAt this point, the new version is available through npm.\n\nThen push master and the tag to github:\n\n    git push origin master vX.Y.Z\n\nThat's all.\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 3.1591796875,
          "content": "# c3\n\n[![CircleCI](https://circleci.com/gh/c3js/c3.svg?style=shield)](https://circleci.com/gh/c3js/c3)\n[![license](http://img.shields.io/badge/license-MIT-brightgreen.svg?style=flat)](https://github.com/c3js/c3/blob/master/LICENSE)\n[![codecov.io](https://codecov.io/github/c3js/c3/coverage.svg?branch=master)](https://codecov.io/github/c3js/c3?branch=master)\n\n[![jsDelivr Hits](https://data.jsdelivr.com/v1/package/npm/c3/badge?style=rounded)](https://www.jsdelivr.com/package/npm/c3)\n\n> c3 is a D3-based reusable chart library that enables deeper integration of charts into web applications.\n\nFollow the link for more information: [http://c3js.org](http://c3js.org/)\n\n## Documentation\n\n+ [Getting Started](http://c3js.org/gettingstarted.html)\n+ [Examples](http://c3js.org/examples.html)\n+ [Full API Reference](https://c3js.org/reference.html)\n\nAdditional samples can be found in this repository:\n+ [https://github.com/c3js/c3/tree/master/htdocs/samples](https://github.com/c3js/c3/tree/master/htdocs/samples)\n\nYou can run these samples as:\n```\n$ npm run serve-static\n```\n\n## Google Group\nFor general C3.js-related discussion, please visit our [Google Group at https://groups.google.com/forum/#!forum/c3js](https://groups.google.com/forum/#!forum/c3js).\n\n## Gitter\n[![Join the chat at https://gitter.im/c3js/c3](https://badges.gitter.im/Join%20Chat.svg)](https://gitter.im/c3js/c3?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge&utm_content=badge)\n\n## Using the issue queue\nThe [issue queue](https://github.com/c3js/c3/issues) is to be used for reporting defects and problems with C3.js, in addition to feature requests and ideas. It is **not** a catch-all support forum. **For general support enquiries, please use the [Google Group](https://groups.google.com/forum/#!forum/c3js) at https://groups.google.com/forum/#!forum/c3js.** All questions involving the interplay between C3.js and any other library (such as AngularJS) should be posted there first!\n\nBefore reporting an issue, please do the following:\n\n1. [Search for existing issues](https://github.com/c3js/c3/issues) to ensure you're not posting a duplicate.\n\n1.  [Search the Google Group](https://groups.google.com/forum/#!forum/c3js) to ensure it hasn't been addressed there already.\n\n1. Create a JSFiddle or Plunkr highlighting the issue. Please don't include any unnecessary dependencies so we can isolate that the issue is in fact with C3. *Please be advised that custom CSS can modify C3.js output!*\n\n1. When posting the issue, please use a descriptive title and include the version of C3 (or, if cloning from Git, the commit hash â€” C3 is under active development and the master branch contains the latest dev commits!), along with any platform/browser/OS information that may be relevant.\n\n## Pull requests\nPull requests are welcome, though please post an issue first to see whether such a change is desirable.\nIf you choose to submit a pull request, please do not bump the version number unless asked to, and please include test cases for any new features. Squash all your commits as well, please.\n\n## Playground\nPlease fork this fiddle:\n\n+ http://jsfiddle.net/7kYJu/4742/\n\n## Dependency\n\n+ [D3.js](https://github.com/mbostock/d3) `^5.0.0`\n\n## License\n\nMIT\n"
        },
        {
          "name": "bower.json",
          "type": "blob",
          "size": 0.4677734375,
          "content": "{\n  \"name\": \"c3\",\n  \"main\": [\"c3.css\", \"c3.js\"],\n  \"homepage\": \"https://github.com/c3js/c3\",\n  \"authors\": [\"Masayuki Tanaka <masayuki0812@mac.com>\"],\n  \"description\": \"D3-based reusable chart library\",\n  \"keywords\": [\"chart\", \"d3\"],\n  \"license\": \"MIT\",\n  \"ignore\": [\n    \"**/.*\",\n    \"node_modules\",\n    \"bower_components\",\n    \"htdocs\",\n    \"spec\",\n    \"src/**/*.js\",\n    \"package.json\",\n    \"component.json\",\n    \"Gruntfile.*\"\n  ],\n  \"dependencies\": {\n    \"d3\": \"^5.0.0\"\n  }\n}\n"
        },
        {
          "name": "c3.css",
          "type": "blob",
          "size": 3.2900390625,
          "content": "/*-- Chart --*/\n.c3 svg {\n  font: 10px sans-serif;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\n.c3 path, .c3 line {\n  fill: none;\n  stroke: #000;\n}\n\n.c3 text {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  user-select: none;\n}\n\n.c3-legend-item-tile,\n.c3-xgrid-focus,\n.c3-ygrid,\n.c3-event-rect,\n.c3-bars path {\n  shape-rendering: crispEdges;\n}\n\n.c3-chart-arc path {\n  stroke: #fff;\n}\n\n.c3-chart-arc rect {\n  stroke: white;\n  stroke-width: 1;\n}\n\n.c3-chart-arc text {\n  fill: #fff;\n  font-size: 13px;\n}\n\n/*-- Axis --*/\n/*-- Grid --*/\n.c3-grid line {\n  stroke: #aaa;\n}\n\n.c3-grid text {\n  fill: #aaa;\n}\n\n.c3-xgrid, .c3-ygrid {\n  stroke-dasharray: 3 3;\n}\n\n/*-- Text on Chart --*/\n.c3-text.c3-empty {\n  fill: #808080;\n  font-size: 2em;\n}\n\n/*-- Line --*/\n.c3-line {\n  stroke-width: 1px;\n}\n\n/*-- Point --*/\n.c3-circle {\n  fill: currentColor;\n}\n\n.c3-circle._expanded_ {\n  stroke-width: 1px;\n  stroke: white;\n}\n\n.c3-selected-circle {\n  fill: white;\n  stroke-width: 2px;\n}\n\n/*-- Bar --*/\n.c3-bar {\n  stroke-width: 0;\n}\n\n.c3-bar._expanded_ {\n  fill-opacity: 1;\n  fill-opacity: 0.75;\n}\n\n/*-- Focus --*/\n.c3-target.c3-focused {\n  opacity: 1;\n}\n\n.c3-target.c3-focused path.c3-line, .c3-target.c3-focused path.c3-step {\n  stroke-width: 2px;\n}\n\n.c3-target.c3-defocused {\n  opacity: 0.3 !important;\n}\n\n/*-- Region --*/\n.c3-region {\n  fill: steelblue;\n  fill-opacity: 0.1;\n}\n.c3-region text {\n  fill-opacity: 1;\n}\n\n/*-- Brush --*/\n.c3-brush .extent {\n  fill-opacity: 0.1;\n}\n\n/*-- Select - Drag --*/\n/*-- Legend --*/\n.c3-legend-item {\n  font-size: 12px;\n}\n\n.c3-legend-item-hidden {\n  opacity: 0.15;\n}\n\n.c3-legend-background {\n  opacity: 0.75;\n  fill: white;\n  stroke: lightgray;\n  stroke-width: 1;\n}\n\n/*-- Title --*/\n.c3-title {\n  font: 14px sans-serif;\n}\n\n/*-- Tooltip --*/\n.c3-tooltip-container {\n  z-index: 10;\n}\n\n.c3-tooltip {\n  border-collapse: collapse;\n  border-spacing: 0;\n  background-color: #fff;\n  empty-cells: show;\n  -webkit-box-shadow: 7px 7px 12px -9px #777777;\n  -moz-box-shadow: 7px 7px 12px -9px #777777;\n  box-shadow: 7px 7px 12px -9px #777777;\n  opacity: 0.9;\n}\n\n.c3-tooltip tr {\n  border: 1px solid #CCC;\n}\n\n.c3-tooltip th {\n  background-color: #aaa;\n  font-size: 14px;\n  padding: 2px 5px;\n  text-align: left;\n  color: #FFF;\n}\n\n.c3-tooltip td {\n  font-size: 13px;\n  padding: 3px 6px;\n  background-color: #fff;\n  border-left: 1px dotted #999;\n}\n\n.c3-tooltip td > span {\n  display: inline-block;\n  width: 10px;\n  height: 10px;\n  margin-right: 6px;\n}\n\n.c3-tooltip .value {\n  text-align: right;\n}\n\n/*-- Area --*/\n.c3-area {\n  stroke-width: 0;\n  opacity: 0.2;\n}\n\n/*-- Arc --*/\n.c3-chart-arcs-title {\n  dominant-baseline: middle;\n  font-size: 1.3em;\n}\n\n.c3-chart-arcs .c3-chart-arcs-background {\n  fill: #e0e0e0;\n  stroke: #FFF;\n}\n\n.c3-chart-arcs .c3-chart-arcs-gauge-unit {\n  fill: #000;\n  font-size: 16px;\n}\n\n.c3-chart-arcs .c3-chart-arcs-gauge-max {\n  fill: #777;\n}\n\n.c3-chart-arcs .c3-chart-arcs-gauge-min {\n  fill: #777;\n}\n\n.c3-chart-arc .c3-gauge-value {\n  fill: #000;\n  /*  font-size: 28px !important;*/\n}\n\n.c3-chart-arc.c3-target g path {\n  opacity: 1;\n}\n\n.c3-chart-arc.c3-target.c3-focused g path {\n  opacity: 1;\n}\n\n/*-- Zoom --*/\n.c3-drag-zoom.enabled {\n  pointer-events: all !important;\n  visibility: visible;\n}\n\n.c3-drag-zoom.disabled {\n  pointer-events: none !important;\n  visibility: hidden;\n}\n\n.c3-drag-zoom .extent {\n  fill-opacity: 0.1;\n}\n"
        },
        {
          "name": "c3.esm.js",
          "type": "blob",
          "size": 378.466796875,
          "content": "/* @license C3.js v0.7.18 | (c) C3 Team and other contributors | http://c3js.org/ */\nimport * as d3 from 'd3';\n\nfunction ChartInternal(api) {\n  var $$ = this;\n  // Note: This part will be replaced by rollup-plugin-modify\n  // When bundling esm output. Beware of changing this line.\n  // TODO: Maybe we should check that the modification by rollup-plugin-modify\n  // is valid during unit tests.\n  $$.d3 = window.d3\n    ? window.d3\n    : typeof require !== 'undefined'\n    ? require('d3')\n    : undefined;\n  $$.api = api;\n  $$.config = $$.getDefaultConfig();\n  $$.data = {};\n  $$.cache = {};\n  $$.axes = {};\n}\n\n/**\n * The Chart class\n *\n * The methods of this class is the public APIs of the chart object.\n */\nfunction Chart(config) {\n  this.internal = new ChartInternal(this);\n  this.internal.loadConfig(config);\n\n  this.internal.beforeInit(config);\n  this.internal.init();\n  this.internal.afterInit(config)\n\n  // bind \"this\" to nested API\n  ;(function bindThis(fn, target, argThis) {\n    Object.keys(fn).forEach(function(key) {\n      target[key] = fn[key].bind(argThis);\n      if (Object.keys(fn[key]).length > 0) {\n        bindThis(fn[key], target[key], argThis);\n      }\n    });\n  })(Chart.prototype, this, this);\n}\n\nvar asHalfPixel = function(n) {\n  return Math.ceil(n) + 0.5\n};\nvar ceil10 = function(v) {\n  return Math.ceil(v / 10) * 10\n};\nvar diffDomain = function(d) {\n  return d[1] - d[0]\n};\nvar getOption = function(options, key, defaultValue) {\n  return isDefined(options[key]) ? options[key] : defaultValue\n};\nvar getPathBox = function(path) {\n  var box = getBBox(path),\n    items = [path.pathSegList.getItem(0), path.pathSegList.getItem(1)],\n    minX = items[0].x,\n    minY = Math.min(items[0].y, items[1].y);\n  return { x: minX, y: minY, width: box.width, height: box.height }\n};\nvar getBBox = function(element) {\n  try {\n    return element.getBBox()\n  } catch (ignore) {\n    // Firefox will throw an exception if getBBox() is called whereas the\n    // element is rendered with display:none\n    // See https://github.com/c3js/c3/issues/2692\n\n    // The previous code was using `getBoundingClientRect` which was returning\n    // everything at 0 in this case so let's reproduce this behavior here.\n\n    return { x: 0, y: 0, width: 0, height: 0 }\n  }\n};\nvar hasValue = function(dict, value) {\n  var found = false;\n  Object.keys(dict).forEach(function(key) {\n    if (dict[key] === value) {\n      found = true;\n    }\n  });\n  return found\n};\nvar isArray = function(o) {\n  return Array.isArray(o)\n};\nvar isDefined = function(v) {\n  return typeof v !== 'undefined'\n};\nvar isEmpty = function(o) {\n  return (\n    typeof o === 'undefined' ||\n    o === null ||\n    (isString(o) && o.length === 0) ||\n    (typeof o === 'object' && Object.keys(o).length === 0)\n  )\n};\nvar isFunction = function(o) {\n  return typeof o === 'function'\n};\nvar isNumber = function(o) {\n  return typeof o === 'number'\n};\nvar isString = function(o) {\n  return typeof o === 'string'\n};\nvar isUndefined = function(v) {\n  return typeof v === 'undefined'\n};\nvar isValue = function(v) {\n  return v || v === 0\n};\nvar notEmpty = function(o) {\n  return !isEmpty(o)\n};\nvar sanitise = function(str) {\n  return typeof str === 'string'\n    ? str.replace(/</g, '&lt;').replace(/>/g, '&gt;')\n    : str\n};\nvar flattenArray = function(arr) {\n  return Array.isArray(arr) ? [].concat(...arr) : []\n};\n/**\n * Returns whether the point is within the given box.\n *\n * @param {Array} point An [x,y] coordinate\n * @param {Object} box An object with {x, y, width, height} keys\n * @param {Number} sensitivity An offset to ease check on very small boxes\n */\nvar isWithinBox = function(point, box, sensitivity = 0) {\n  const xStart = box.x - sensitivity;\n  const xEnd = box.x + box.width + sensitivity;\n  const yStart = box.y + box.height + sensitivity;\n  const yEnd = box.y - sensitivity;\n\n  return (\n    xStart < point[0] && point[0] < xEnd && yEnd < point[1] && point[1] < yStart\n  )\n};\n\n/**\n * Returns Internet Explorer version number (or false if no Internet Explorer used).\n *\n * @param string agent Optional parameter to specify user agent\n */\nvar getIEVersion = function(agent) {\n  // https://stackoverflow.com/questions/19999388/check-if-user-is-using-ie\n  if (typeof agent === 'undefined') {\n    agent = window.navigator.userAgent;\n  }\n\n  let pos = agent.indexOf('MSIE '); // up to IE10\n  if (pos > 0) {\n    return parseInt(agent.substring(pos + 5, agent.indexOf('.', pos)), 10)\n  }\n\n  pos = agent.indexOf('Trident/'); // IE11\n  if (pos > 0) {\n    pos = agent.indexOf('rv:');\n    return parseInt(agent.substring(pos + 3, agent.indexOf('.', pos)), 10)\n  }\n\n  return false\n};\n\n/**\n * Returns whether the used browser is Internet Explorer.\n *\n * @param {Number} version Optional parameter to specify IE version\n */\nvar isIE = function(version) {\n  const ver = getIEVersion();\n\n  if (typeof version === 'undefined') {\n    return !!ver\n  }\n\n  return version === ver\n};\n\nfunction AxisInternal(component, params) {\n  var internal = this;\n  internal.component = component;\n  internal.params = params || {};\n\n  internal.d3 = component.d3;\n  internal.scale = internal.d3.scaleLinear();\n  internal.range;\n  internal.orient = 'bottom';\n  internal.innerTickSize = 6;\n  internal.outerTickSize = this.params.withOuterTick ? 6 : 0;\n  internal.tickPadding = 3;\n  internal.tickValues = null;\n  internal.tickFormat;\n  internal.tickArguments;\n\n  internal.tickOffset = 0;\n  internal.tickCulling = true;\n  internal.tickCentered;\n  internal.tickTextCharSize;\n  internal.tickTextRotate = internal.params.tickTextRotate;\n  internal.tickLength;\n\n  internal.axis = internal.generateAxis();\n}\n\nAxisInternal.prototype.axisX = function(selection, x, tickOffset) {\n  selection.attr('transform', function(d) {\n    return 'translate(' + Math.ceil(x(d) + tickOffset) + ', 0)'\n  });\n};\nAxisInternal.prototype.axisY = function(selection, y) {\n  selection.attr('transform', function(d) {\n    return 'translate(0,' + Math.ceil(y(d)) + ')'\n  });\n};\nAxisInternal.prototype.scaleExtent = function(domain) {\n  var start = domain[0],\n    stop = domain[domain.length - 1];\n  return start < stop ? [start, stop] : [stop, start]\n};\nAxisInternal.prototype.generateTicks = function(scale) {\n  var internal = this;\n  var i,\n    domain,\n    ticks = [];\n  if (scale.ticks) {\n    return scale.ticks.apply(scale, internal.tickArguments)\n  }\n  domain = scale.domain();\n  for (i = Math.ceil(domain[0]); i < domain[1]; i++) {\n    ticks.push(i);\n  }\n  if (ticks.length > 0 && ticks[0] > 0) {\n    ticks.unshift(ticks[0] - (ticks[1] - ticks[0]));\n  }\n  return ticks\n};\nAxisInternal.prototype.copyScale = function() {\n  var internal = this;\n  var newScale = internal.scale.copy(),\n    domain;\n  if (internal.params.isCategory) {\n    domain = internal.scale.domain();\n    newScale.domain([domain[0], domain[1] - 1]);\n  }\n  return newScale\n};\nAxisInternal.prototype.textFormatted = function(v) {\n  var internal = this,\n    formatted = internal.tickFormat ? internal.tickFormat(v) : v;\n  return typeof formatted !== 'undefined' ? formatted : ''\n};\nAxisInternal.prototype.updateRange = function() {\n  var internal = this;\n  internal.range = internal.scale.rangeExtent\n    ? internal.scale.rangeExtent()\n    : internal.scaleExtent(internal.scale.range());\n  return internal.range\n};\nAxisInternal.prototype.updateTickTextCharSize = function(tick) {\n  var internal = this;\n  if (internal.tickTextCharSize) {\n    return internal.tickTextCharSize\n  }\n  var size = {\n    h: 11.5,\n    w: 5.5\n  };\n  tick\n    .select('text')\n    .text(function(d) {\n      return internal.textFormatted(d)\n    })\n    .each(function(d) {\n      var box = getBBox(this),\n        text = internal.textFormatted(d),\n        h = box.height,\n        w = text ? box.width / text.length : undefined;\n      if (h && w) {\n        size.h = h;\n        size.w = w;\n      }\n    })\n    .text('');\n  internal.tickTextCharSize = size;\n  return size\n};\nAxisInternal.prototype.isVertical = function() {\n  return this.orient === 'left' || this.orient === 'right'\n};\nAxisInternal.prototype.tspanData = function(d, i, scale) {\n  var internal = this;\n  var splitted = internal.params.tickMultiline\n    ? internal.splitTickText(d, scale)\n    : [].concat(internal.textFormatted(d));\n\n  if (internal.params.tickMultiline && internal.params.tickMultilineMax > 0) {\n    splitted = internal.ellipsify(splitted, internal.params.tickMultilineMax);\n  }\n\n  return splitted.map(function(s) {\n    return { index: i, splitted: s, length: splitted.length }\n  })\n};\nAxisInternal.prototype.splitTickText = function(d, scale) {\n  var internal = this,\n    tickText = internal.textFormatted(d),\n    maxWidth = internal.params.tickWidth,\n    subtext,\n    spaceIndex,\n    textWidth,\n    splitted = [];\n\n  if (Object.prototype.toString.call(tickText) === '[object Array]') {\n    return tickText\n  }\n\n  if (!maxWidth || maxWidth <= 0) {\n    maxWidth = internal.isVertical()\n      ? 95\n      : internal.params.isCategory\n      ? Math.ceil(scale(1) - scale(0)) - 12\n      : 110;\n  }\n\n  function split(splitted, text) {\n    spaceIndex = undefined;\n    for (var i = 1; i < text.length; i++) {\n      if (text.charAt(i) === ' ') {\n        spaceIndex = i;\n      }\n      subtext = text.substr(0, i + 1);\n      textWidth = internal.tickTextCharSize.w * subtext.length;\n      // if text width gets over tick width, split by space index or crrent index\n      if (maxWidth < textWidth) {\n        return split(\n          splitted.concat(text.substr(0, spaceIndex ? spaceIndex : i)),\n          text.slice(spaceIndex ? spaceIndex + 1 : i)\n        )\n      }\n    }\n    return splitted.concat(text)\n  }\n\n  return split(splitted, tickText + '')\n};\nAxisInternal.prototype.ellipsify = function(splitted, max) {\n  if (splitted.length <= max) {\n    return splitted\n  }\n\n  var ellipsified = splitted.slice(0, max);\n  var remaining = 3;\n  for (var i = max - 1; i >= 0; i--) {\n    var available = ellipsified[i].length;\n\n    ellipsified[i] = ellipsified[i]\n      .substr(0, available - remaining)\n      .padEnd(available, '.');\n\n    remaining -= available;\n\n    if (remaining <= 0) {\n      break\n    }\n  }\n\n  return ellipsified\n};\nAxisInternal.prototype.updateTickLength = function() {\n  var internal = this;\n  internal.tickLength =\n    Math.max(internal.innerTickSize, 0) + internal.tickPadding;\n};\nAxisInternal.prototype.lineY2 = function(d) {\n  var internal = this,\n    tickPosition =\n      internal.scale(d) + (internal.tickCentered ? 0 : internal.tickOffset);\n  return internal.range[0] < tickPosition && tickPosition < internal.range[1]\n    ? internal.innerTickSize\n    : 0\n};\nAxisInternal.prototype.textY = function() {\n  var internal = this,\n    rotate = internal.tickTextRotate;\n  return rotate\n    ? 11.5 - 2.5 * (rotate / 15) * (rotate > 0 ? 1 : -1)\n    : internal.tickLength\n};\nAxisInternal.prototype.textTransform = function() {\n  var internal = this,\n    rotate = internal.tickTextRotate;\n  return rotate ? 'rotate(' + rotate + ')' : ''\n};\nAxisInternal.prototype.textTextAnchor = function() {\n  var internal = this,\n    rotate = internal.tickTextRotate;\n  return rotate ? (rotate > 0 ? 'start' : 'end') : 'middle'\n};\nAxisInternal.prototype.tspanDx = function() {\n  var internal = this,\n    rotate = internal.tickTextRotate;\n  return rotate ? 8 * Math.sin(Math.PI * (rotate / 180)) : 0\n};\nAxisInternal.prototype.tspanDy = function(d, i) {\n  var internal = this,\n    dy = internal.tickTextCharSize.h;\n  if (i === 0) {\n    if (internal.isVertical()) {\n      dy = -((d.length - 1) * (internal.tickTextCharSize.h / 2) - 3);\n    } else {\n      dy = '.71em';\n    }\n  }\n  return dy\n};\n\nAxisInternal.prototype.generateAxis = function() {\n  var internal = this,\n    d3 = internal.d3,\n    params = internal.params;\n  function axis(g, transition) {\n    var self;\n    g.each(function() {\n      var g = (axis.g = d3.select(this));\n\n      var scale0 = this.__chart__ || internal.scale,\n        scale1 = (this.__chart__ = internal.copyScale());\n\n      var ticksValues = internal.tickValues\n          ? internal.tickValues\n          : internal.generateTicks(scale1),\n        ticks = g.selectAll('.tick').data(ticksValues, scale1),\n        tickEnter = ticks\n          .enter()\n          .insert('g', '.domain')\n          .attr('class', 'tick')\n          .style('opacity', 1e-6),\n        // MEMO: No exit transition. The reason is this transition affects max tick width calculation because old tick will be included in the ticks.\n        tickExit = ticks.exit().remove(),\n        tickUpdate = ticks.merge(tickEnter),\n        tickTransform,\n        tickX,\n        tickY;\n\n      if (params.isCategory) {\n        internal.tickOffset = Math.ceil((scale1(1) - scale1(0)) / 2);\n        tickX = internal.tickCentered ? 0 : internal.tickOffset;\n        tickY = internal.tickCentered ? internal.tickOffset : 0;\n      } else {\n        internal.tickOffset = tickX = 0;\n      }\n\n      internal.updateRange();\n      internal.updateTickLength();\n      internal.updateTickTextCharSize(g.select('.tick'));\n\n      var lineUpdate = tickUpdate\n          .select('line')\n          .merge(tickEnter.append('line')),\n        textUpdate = tickUpdate.select('text').merge(tickEnter.append('text'));\n\n      var tspans = tickUpdate\n          .selectAll('text')\n          .selectAll('tspan')\n          .data(function(d, i) {\n            return internal.tspanData(d, i, scale1)\n          }),\n        tspanEnter = tspans.enter().append('tspan'),\n        tspanUpdate = tspanEnter.merge(tspans).text(function(d) {\n          return d.splitted\n        });\n      tspans.exit().remove();\n\n      var path = g.selectAll('.domain').data([0]),\n        pathUpdate = path\n          .enter()\n          .append('path')\n          .merge(path)\n          .attr('class', 'domain');\n\n      // TODO: each attr should be one function and change its behavior by internal.orient, probably\n      switch (internal.orient) {\n        case 'bottom': {\n          tickTransform = internal.axisX;\n          lineUpdate\n            .attr('x1', tickX)\n            .attr('x2', tickX)\n            .attr('y2', function(d, i) {\n              return internal.lineY2(d, i)\n            });\n          textUpdate\n            .attr('x', 0)\n            .attr('y', function(d, i) {\n              return internal.textY(d, i)\n            })\n            .attr('transform', function(d, i) {\n              return internal.textTransform(d, i)\n            })\n            .style('text-anchor', function(d, i) {\n              return internal.textTextAnchor(d, i)\n            });\n          tspanUpdate\n            .attr('x', 0)\n            .attr('dy', function(d, i) {\n              return internal.tspanDy(d, i)\n            })\n            .attr('dx', function(d, i) {\n              return internal.tspanDx(d, i)\n            });\n          pathUpdate.attr(\n            'd',\n            'M' +\n              internal.range[0] +\n              ',' +\n              internal.outerTickSize +\n              'V0H' +\n              internal.range[1] +\n              'V' +\n              internal.outerTickSize\n          );\n          break\n        }\n        case 'top': {\n          // TODO: rotated tick text\n          tickTransform = internal.axisX;\n          lineUpdate\n            .attr('x1', tickX)\n            .attr('x2', tickX)\n            .attr('y2', function(d, i) {\n              return -1 * internal.lineY2(d, i)\n            });\n          textUpdate\n            .attr('x', 0)\n            .attr('y', function(d, i) {\n              return (\n                -1 * internal.textY(d, i) -\n                (params.isCategory ? 2 : internal.tickLength - 2)\n              )\n            })\n            .attr('transform', function(d, i) {\n              return internal.textTransform(d, i)\n            })\n            .style('text-anchor', function(d, i) {\n              return internal.textTextAnchor(d, i)\n            });\n          tspanUpdate\n            .attr('x', 0)\n            .attr('dy', function(d, i) {\n              return internal.tspanDy(d, i)\n            })\n            .attr('dx', function(d, i) {\n              return internal.tspanDx(d, i)\n            });\n          pathUpdate.attr(\n            'd',\n            'M' +\n              internal.range[0] +\n              ',' +\n              -internal.outerTickSize +\n              'V0H' +\n              internal.range[1] +\n              'V' +\n              -internal.outerTickSize\n          );\n          break\n        }\n        case 'left': {\n          tickTransform = internal.axisY;\n          lineUpdate\n            .attr('x2', -internal.innerTickSize)\n            .attr('y1', tickY)\n            .attr('y2', tickY);\n          textUpdate\n            .attr('x', -internal.tickLength)\n            .attr('y', internal.tickOffset)\n            .style('text-anchor', 'end');\n          tspanUpdate\n            .attr('x', -internal.tickLength)\n            .attr('dy', function(d, i) {\n              return internal.tspanDy(d, i)\n            });\n          pathUpdate.attr(\n            'd',\n            'M' +\n              -internal.outerTickSize +\n              ',' +\n              internal.range[0] +\n              'H0V' +\n              internal.range[1] +\n              'H' +\n              -internal.outerTickSize\n          );\n          break\n        }\n        case 'right': {\n          tickTransform = internal.axisY;\n          lineUpdate\n            .attr('x2', internal.innerTickSize)\n            .attr('y1', tickY)\n            .attr('y2', tickY);\n          textUpdate\n            .attr('x', internal.tickLength)\n            .attr('y', internal.tickOffset)\n            .style('text-anchor', 'start');\n          tspanUpdate.attr('x', internal.tickLength).attr('dy', function(d, i) {\n            return internal.tspanDy(d, i)\n          });\n          pathUpdate.attr(\n            'd',\n            'M' +\n              internal.outerTickSize +\n              ',' +\n              internal.range[0] +\n              'H0V' +\n              internal.range[1] +\n              'H' +\n              internal.outerTickSize\n          );\n          break\n        }\n      }\n      if (scale1.rangeBand) {\n        var x = scale1,\n          dx = x.rangeBand() / 2;\n        scale0 = scale1 = function(d) {\n          return x(d) + dx\n        };\n      } else if (scale0.rangeBand) {\n        scale0 = scale1;\n      } else {\n        tickExit.call(tickTransform, scale1, internal.tickOffset);\n      }\n      tickEnter.call(tickTransform, scale0, internal.tickOffset);\n      self = (transition ? tickUpdate.transition(transition) : tickUpdate)\n        .style('opacity', 1)\n        .call(tickTransform, scale1, internal.tickOffset);\n    });\n    return self\n  }\n  axis.scale = function(x) {\n    if (!arguments.length) {\n      return internal.scale\n    }\n    internal.scale = x;\n    return axis\n  };\n  axis.orient = function(x) {\n    if (!arguments.length) {\n      return internal.orient\n    }\n    internal.orient =\n      x in { top: 1, right: 1, bottom: 1, left: 1 } ? x + '' : 'bottom';\n    return axis\n  };\n  axis.tickFormat = function(format) {\n    if (!arguments.length) {\n      return internal.tickFormat\n    }\n    internal.tickFormat = format;\n    return axis\n  };\n  axis.tickCentered = function(isCentered) {\n    if (!arguments.length) {\n      return internal.tickCentered\n    }\n    internal.tickCentered = isCentered;\n    return axis\n  };\n  axis.tickOffset = function() {\n    return internal.tickOffset\n  };\n  axis.tickInterval = function() {\n    var interval, length;\n    if (params.isCategory) {\n      interval = internal.tickOffset * 2;\n    } else {\n      length =\n        axis.g\n          .select('path.domain')\n          .node()\n          .getTotalLength() -\n        internal.outerTickSize * 2;\n      interval = length / axis.g.selectAll('line').size();\n    }\n    return interval === Infinity ? 0 : interval\n  };\n  axis.ticks = function() {\n    if (!arguments.length) {\n      return internal.tickArguments\n    }\n    internal.tickArguments = arguments;\n    return axis\n  };\n  axis.tickCulling = function(culling) {\n    if (!arguments.length) {\n      return internal.tickCulling\n    }\n    internal.tickCulling = culling;\n    return axis\n  };\n  axis.tickValues = function(x) {\n    if (typeof x === 'function') {\n      internal.tickValues = function() {\n        return x(internal.scale.domain())\n      };\n    } else {\n      if (!arguments.length) {\n        return internal.tickValues\n      }\n      internal.tickValues = x;\n    }\n    return axis\n  };\n  return axis\n};\n\nvar CLASS = {\n  target: 'c3-target',\n  chart: 'c3-chart',\n  chartLine: 'c3-chart-line',\n  chartLines: 'c3-chart-lines',\n  chartBar: 'c3-chart-bar',\n  chartBars: 'c3-chart-bars',\n  chartText: 'c3-chart-text',\n  chartTexts: 'c3-chart-texts',\n  chartArc: 'c3-chart-arc',\n  chartArcs: 'c3-chart-arcs',\n  chartArcsTitle: 'c3-chart-arcs-title',\n  chartArcsBackground: 'c3-chart-arcs-background',\n  chartArcsGaugeUnit: 'c3-chart-arcs-gauge-unit',\n  chartArcsGaugeMax: 'c3-chart-arcs-gauge-max',\n  chartArcsGaugeMin: 'c3-chart-arcs-gauge-min',\n  selectedCircle: 'c3-selected-circle',\n  selectedCircles: 'c3-selected-circles',\n  eventRect: 'c3-event-rect',\n  eventRects: 'c3-event-rects',\n  eventRectsSingle: 'c3-event-rects-single',\n  eventRectsMultiple: 'c3-event-rects-multiple',\n  zoomRect: 'c3-zoom-rect',\n  brush: 'c3-brush',\n  dragZoom: 'c3-drag-zoom',\n  focused: 'c3-focused',\n  defocused: 'c3-defocused',\n  region: 'c3-region',\n  regions: 'c3-regions',\n  title: 'c3-title',\n  tooltipContainer: 'c3-tooltip-container',\n  tooltip: 'c3-tooltip',\n  tooltipName: 'c3-tooltip-name',\n  shape: 'c3-shape',\n  shapes: 'c3-shapes',\n  line: 'c3-line',\n  lines: 'c3-lines',\n  bar: 'c3-bar',\n  bars: 'c3-bars',\n  circle: 'c3-circle',\n  circles: 'c3-circles',\n  arc: 'c3-arc',\n  arcLabelLine: 'c3-arc-label-line',\n  arcs: 'c3-arcs',\n  area: 'c3-area',\n  areas: 'c3-areas',\n  empty: 'c3-empty',\n  text: 'c3-text',\n  texts: 'c3-texts',\n  gaugeValue: 'c3-gauge-value',\n  grid: 'c3-grid',\n  gridLines: 'c3-grid-lines',\n  xgrid: 'c3-xgrid',\n  xgrids: 'c3-xgrids',\n  xgridLine: 'c3-xgrid-line',\n  xgridLines: 'c3-xgrid-lines',\n  xgridFocus: 'c3-xgrid-focus',\n  ygrid: 'c3-ygrid',\n  ygrids: 'c3-ygrids',\n  ygridLine: 'c3-ygrid-line',\n  ygridLines: 'c3-ygrid-lines',\n  colorScale: 'c3-colorscale',\n  stanfordElements: 'c3-stanford-elements',\n  stanfordLine: 'c3-stanford-line',\n  stanfordLines: 'c3-stanford-lines',\n  stanfordRegion: 'c3-stanford-region',\n  stanfordRegions: 'c3-stanford-regions',\n  stanfordText: 'c3-stanford-text',\n  stanfordTexts: 'c3-stanford-texts',\n  axis: 'c3-axis',\n  axisX: 'c3-axis-x',\n  axisXLabel: 'c3-axis-x-label',\n  axisY: 'c3-axis-y',\n  axisYLabel: 'c3-axis-y-label',\n  axisY2: 'c3-axis-y2',\n  axisY2Label: 'c3-axis-y2-label',\n  legendBackground: 'c3-legend-background',\n  legendItem: 'c3-legend-item',\n  legendItemEvent: 'c3-legend-item-event',\n  legendItemTile: 'c3-legend-item-tile',\n  legendItemHidden: 'c3-legend-item-hidden',\n  legendItemFocused: 'c3-legend-item-focused',\n  dragarea: 'c3-dragarea',\n  EXPANDED: '_expanded_',\n  SELECTED: '_selected_',\n  INCLUDED: '_included_'\n};\n\nclass Axis {\n  constructor(owner) {\n    this.owner = owner;\n    this.d3 = owner.d3;\n    this.internal = AxisInternal;\n  }\n}\nAxis.prototype.init = function init() {\n  var $$ = this.owner,\n    config = $$.config,\n    main = $$.main;\n  $$.axes.x = main\n    .append('g')\n    .attr('class', CLASS.axis + ' ' + CLASS.axisX)\n    .attr('clip-path', config.axis_x_inner ? '' : $$.clipPathForXAxis)\n    .attr('transform', $$.getTranslate('x'))\n    .style('visibility', config.axis_x_show ? 'visible' : 'hidden');\n  $$.axes.x\n    .append('text')\n    .attr('class', CLASS.axisXLabel)\n    .attr('transform', config.axis_rotated ? 'rotate(-90)' : '')\n    .style('text-anchor', this.textAnchorForXAxisLabel.bind(this));\n  $$.axes.y = main\n    .append('g')\n    .attr('class', CLASS.axis + ' ' + CLASS.axisY)\n    .attr('clip-path', config.axis_y_inner ? '' : $$.clipPathForYAxis)\n    .attr('transform', $$.getTranslate('y'))\n    .style('visibility', config.axis_y_show ? 'visible' : 'hidden');\n  $$.axes.y\n    .append('text')\n    .attr('class', CLASS.axisYLabel)\n    .attr('transform', config.axis_rotated ? '' : 'rotate(-90)')\n    .style('text-anchor', this.textAnchorForYAxisLabel.bind(this));\n\n  $$.axes.y2 = main\n    .append('g')\n    .attr('class', CLASS.axis + ' ' + CLASS.axisY2)\n    // clip-path?\n    .attr('transform', $$.getTranslate('y2'))\n    .style('visibility', config.axis_y2_show ? 'visible' : 'hidden');\n  $$.axes.y2\n    .append('text')\n    .attr('class', CLASS.axisY2Label)\n    .attr('transform', config.axis_rotated ? '' : 'rotate(-90)')\n    .style('text-anchor', this.textAnchorForY2AxisLabel.bind(this));\n};\nAxis.prototype.getXAxis = function getXAxis(\n  scale,\n  orient,\n  tickFormat,\n  tickValues,\n  withOuterTick,\n  withoutTransition,\n  withoutRotateTickText\n) {\n  var $$ = this.owner,\n    config = $$.config,\n    axisParams = {\n      isCategory: $$.isCategorized(),\n      withOuterTick: withOuterTick,\n      tickMultiline: config.axis_x_tick_multiline,\n      tickMultilineMax: config.axis_x_tick_multiline\n        ? Number(config.axis_x_tick_multilineMax)\n        : 0,\n      tickWidth: config.axis_x_tick_width,\n      tickTextRotate: withoutRotateTickText ? 0 : config.axis_x_tick_rotate,\n      withoutTransition: withoutTransition\n    },\n    axis = new this.internal(this, axisParams).axis.scale(scale).orient(orient);\n\n  if ($$.isTimeSeries() && tickValues && typeof tickValues !== 'function') {\n    tickValues = tickValues.map(function(v) {\n      return $$.parseDate(v)\n    });\n  }\n\n  // Set tick\n  axis.tickFormat(tickFormat).tickValues(tickValues);\n  if ($$.isCategorized()) {\n    axis.tickCentered(config.axis_x_tick_centered);\n    if (isEmpty(config.axis_x_tick_culling)) {\n      config.axis_x_tick_culling = false;\n    }\n  }\n\n  return axis\n};\nAxis.prototype.updateXAxisTickValues = function updateXAxisTickValues(\n  targets,\n  axis\n) {\n  var $$ = this.owner,\n    config = $$.config,\n    tickValues;\n  if (config.axis_x_tick_fit || config.axis_x_tick_count) {\n    tickValues = this.generateTickValues(\n      $$.mapTargetsToUniqueXs(targets),\n      config.axis_x_tick_count,\n      $$.isTimeSeries()\n    );\n  }\n  if (axis) {\n    axis.tickValues(tickValues);\n  } else {\n    $$.xAxis.tickValues(tickValues);\n    $$.subXAxis.tickValues(tickValues);\n  }\n  return tickValues\n};\nAxis.prototype.getYAxis = function getYAxis(\n  axisId,\n  scale,\n  orient,\n  tickValues,\n  withOuterTick,\n  withoutTransition,\n  withoutRotateTickText\n) {\n  const $$ = this.owner;\n  const config = $$.config;\n\n  let tickFormat = config[`axis_${axisId}_tick_format`];\n  if (!tickFormat && $$.isAxisNormalized(axisId)) {\n    tickFormat = x => `${x}%`;\n  }\n\n  const axis = new this.internal(this, {\n    withOuterTick: withOuterTick,\n    withoutTransition: withoutTransition,\n    tickTextRotate: withoutRotateTickText ? 0 : config.axis_y_tick_rotate\n  }).axis\n    .scale(scale)\n    .orient(orient);\n\n  if (tickFormat) {\n    axis.tickFormat(tickFormat);\n  }\n\n  if ($$.isTimeSeriesY()) {\n    axis.ticks(config.axis_y_tick_time_type, config.axis_y_tick_time_interval);\n  } else {\n    axis.tickValues(tickValues);\n  }\n  return axis\n};\nAxis.prototype.getId = function getId(id) {\n  var config = this.owner.config;\n  return id in config.data_axes ? config.data_axes[id] : 'y'\n};\nAxis.prototype.getXAxisTickFormat = function getXAxisTickFormat() {\n  // #2251 previously set any negative values to a whole number,\n  // however both should be truncated according to the users format specification\n  var $$ = this.owner,\n    config = $$.config;\n  let format = $$.isTimeSeries()\n    ? $$.defaultAxisTimeFormat\n    : $$.isCategorized()\n    ? $$.categoryName\n    : function(v) {\n        return v\n      };\n\n  if (config.axis_x_tick_format) {\n    if (isFunction(config.axis_x_tick_format)) {\n      format = config.axis_x_tick_format;\n    } else if ($$.isTimeSeries()) {\n      format = function(date) {\n        return date ? $$.axisTimeFormat(config.axis_x_tick_format)(date) : ''\n      };\n    }\n  }\n  return isFunction(format)\n    ? function(v) {\n        return format.call($$, v)\n      }\n    : format\n};\nAxis.prototype.getTickValues = function getTickValues(tickValues, axis) {\n  return tickValues ? tickValues : axis ? axis.tickValues() : undefined\n};\nAxis.prototype.getXAxisTickValues = function getXAxisTickValues() {\n  return this.getTickValues(\n    this.owner.config.axis_x_tick_values,\n    this.owner.xAxis\n  )\n};\nAxis.prototype.getYAxisTickValues = function getYAxisTickValues() {\n  return this.getTickValues(\n    this.owner.config.axis_y_tick_values,\n    this.owner.yAxis\n  )\n};\nAxis.prototype.getY2AxisTickValues = function getY2AxisTickValues() {\n  return this.getTickValues(\n    this.owner.config.axis_y2_tick_values,\n    this.owner.y2Axis\n  )\n};\nAxis.prototype.getLabelOptionByAxisId = function getLabelOptionByAxisId(\n  axisId\n) {\n  var $$ = this.owner,\n    config = $$.config,\n    option;\n  if (axisId === 'y') {\n    option = config.axis_y_label;\n  } else if (axisId === 'y2') {\n    option = config.axis_y2_label;\n  } else if (axisId === 'x') {\n    option = config.axis_x_label;\n  }\n  return option\n};\nAxis.prototype.getLabelText = function getLabelText(axisId) {\n  var option = this.getLabelOptionByAxisId(axisId);\n  return isString(option) ? option : option ? option.text : null\n};\nAxis.prototype.setLabelText = function setLabelText(axisId, text) {\n  var $$ = this.owner,\n    config = $$.config,\n    option = this.getLabelOptionByAxisId(axisId);\n  if (isString(option)) {\n    if (axisId === 'y') {\n      config.axis_y_label = text;\n    } else if (axisId === 'y2') {\n      config.axis_y2_label = text;\n    } else if (axisId === 'x') {\n      config.axis_x_label = text;\n    }\n  } else if (option) {\n    option.text = text;\n  }\n};\nAxis.prototype.getLabelPosition = function getLabelPosition(\n  axisId,\n  defaultPosition\n) {\n  var option = this.getLabelOptionByAxisId(axisId),\n    position =\n      option && typeof option === 'object' && option.position\n        ? option.position\n        : defaultPosition;\n  return {\n    isInner: position.indexOf('inner') >= 0,\n    isOuter: position.indexOf('outer') >= 0,\n    isLeft: position.indexOf('left') >= 0,\n    isCenter: position.indexOf('center') >= 0,\n    isRight: position.indexOf('right') >= 0,\n    isTop: position.indexOf('top') >= 0,\n    isMiddle: position.indexOf('middle') >= 0,\n    isBottom: position.indexOf('bottom') >= 0\n  }\n};\nAxis.prototype.getXAxisLabelPosition = function getXAxisLabelPosition() {\n  return this.getLabelPosition(\n    'x',\n    this.owner.config.axis_rotated ? 'inner-top' : 'inner-right'\n  )\n};\nAxis.prototype.getYAxisLabelPosition = function getYAxisLabelPosition() {\n  return this.getLabelPosition(\n    'y',\n    this.owner.config.axis_rotated ? 'inner-right' : 'inner-top'\n  )\n};\nAxis.prototype.getY2AxisLabelPosition = function getY2AxisLabelPosition() {\n  return this.getLabelPosition(\n    'y2',\n    this.owner.config.axis_rotated ? 'inner-right' : 'inner-top'\n  )\n};\nAxis.prototype.getLabelPositionById = function getLabelPositionById(id) {\n  return id === 'y2'\n    ? this.getY2AxisLabelPosition()\n    : id === 'y'\n    ? this.getYAxisLabelPosition()\n    : this.getXAxisLabelPosition()\n};\nAxis.prototype.textForXAxisLabel = function textForXAxisLabel() {\n  return this.getLabelText('x')\n};\nAxis.prototype.textForYAxisLabel = function textForYAxisLabel() {\n  return this.getLabelText('y')\n};\nAxis.prototype.textForY2AxisLabel = function textForY2AxisLabel() {\n  return this.getLabelText('y2')\n};\nAxis.prototype.xForAxisLabel = function xForAxisLabel(forHorizontal, position) {\n  var $$ = this.owner;\n  if (forHorizontal) {\n    return position.isLeft ? 0 : position.isCenter ? $$.width / 2 : $$.width\n  } else {\n    return position.isBottom\n      ? -$$.height\n      : position.isMiddle\n      ? -$$.height / 2\n      : 0\n  }\n};\nAxis.prototype.dxForAxisLabel = function dxForAxisLabel(\n  forHorizontal,\n  position\n) {\n  if (forHorizontal) {\n    return position.isLeft ? '0.5em' : position.isRight ? '-0.5em' : '0'\n  } else {\n    return position.isTop ? '-0.5em' : position.isBottom ? '0.5em' : '0'\n  }\n};\nAxis.prototype.textAnchorForAxisLabel = function textAnchorForAxisLabel(\n  forHorizontal,\n  position\n) {\n  if (forHorizontal) {\n    return position.isLeft ? 'start' : position.isCenter ? 'middle' : 'end'\n  } else {\n    return position.isBottom ? 'start' : position.isMiddle ? 'middle' : 'end'\n  }\n};\nAxis.prototype.xForXAxisLabel = function xForXAxisLabel() {\n  return this.xForAxisLabel(\n    !this.owner.config.axis_rotated,\n    this.getXAxisLabelPosition()\n  )\n};\nAxis.prototype.xForYAxisLabel = function xForYAxisLabel() {\n  return this.xForAxisLabel(\n    this.owner.config.axis_rotated,\n    this.getYAxisLabelPosition()\n  )\n};\nAxis.prototype.xForY2AxisLabel = function xForY2AxisLabel() {\n  return this.xForAxisLabel(\n    this.owner.config.axis_rotated,\n    this.getY2AxisLabelPosition()\n  )\n};\nAxis.prototype.dxForXAxisLabel = function dxForXAxisLabel() {\n  return this.dxForAxisLabel(\n    !this.owner.config.axis_rotated,\n    this.getXAxisLabelPosition()\n  )\n};\nAxis.prototype.dxForYAxisLabel = function dxForYAxisLabel() {\n  return this.dxForAxisLabel(\n    this.owner.config.axis_rotated,\n    this.getYAxisLabelPosition()\n  )\n};\nAxis.prototype.dxForY2AxisLabel = function dxForY2AxisLabel() {\n  return this.dxForAxisLabel(\n    this.owner.config.axis_rotated,\n    this.getY2AxisLabelPosition()\n  )\n};\nAxis.prototype.dyForXAxisLabel = function dyForXAxisLabel() {\n  var $$ = this.owner,\n    config = $$.config,\n    position = this.getXAxisLabelPosition();\n  if (config.axis_rotated) {\n    return position.isInner\n      ? '1.2em'\n      : -25 - ($$.config.axis_x_inner ? 0 : this.getMaxTickWidth('x'))\n  } else {\n    return position.isInner ? '-0.5em' : $$.getHorizontalAxisHeight('x') - 10\n  }\n};\nAxis.prototype.dyForYAxisLabel = function dyForYAxisLabel() {\n  var $$ = this.owner,\n    position = this.getYAxisLabelPosition();\n  if ($$.config.axis_rotated) {\n    return position.isInner ? '-0.5em' : '3em'\n  } else {\n    return position.isInner\n      ? '1.2em'\n      : -10 - ($$.config.axis_y_inner ? 0 : this.getMaxTickWidth('y') + 10)\n  }\n};\nAxis.prototype.dyForY2AxisLabel = function dyForY2AxisLabel() {\n  var $$ = this.owner,\n    position = this.getY2AxisLabelPosition();\n  if ($$.config.axis_rotated) {\n    return position.isInner ? '1.2em' : '-2.2em'\n  } else {\n    return position.isInner\n      ? '-0.5em'\n      : 15 + ($$.config.axis_y2_inner ? 0 : this.getMaxTickWidth('y2') + 15)\n  }\n};\nAxis.prototype.textAnchorForXAxisLabel = function textAnchorForXAxisLabel() {\n  var $$ = this.owner;\n  return this.textAnchorForAxisLabel(\n    !$$.config.axis_rotated,\n    this.getXAxisLabelPosition()\n  )\n};\nAxis.prototype.textAnchorForYAxisLabel = function textAnchorForYAxisLabel() {\n  var $$ = this.owner;\n  return this.textAnchorForAxisLabel(\n    $$.config.axis_rotated,\n    this.getYAxisLabelPosition()\n  )\n};\nAxis.prototype.textAnchorForY2AxisLabel = function textAnchorForY2AxisLabel() {\n  var $$ = this.owner;\n  return this.textAnchorForAxisLabel(\n    $$.config.axis_rotated,\n    this.getY2AxisLabelPosition()\n  )\n};\nAxis.prototype.getMaxTickWidth = function getMaxTickWidth(\n  id,\n  withoutRecompute\n) {\n  var $$ = this.owner,\n    maxWidth = 0,\n    targetsToShow,\n    scale,\n    axis,\n    dummy,\n    svg;\n  if (withoutRecompute && $$.currentMaxTickWidths[id]) {\n    return $$.currentMaxTickWidths[id]\n  }\n  if ($$.svg) {\n    targetsToShow = $$.filterTargetsToShow($$.data.targets);\n    if (id === 'y') {\n      scale = $$.y.copy().domain($$.getYDomain(targetsToShow, 'y'));\n      axis = this.getYAxis(\n        id,\n        scale,\n        $$.yOrient,\n        $$.yAxisTickValues,\n        false,\n        true,\n        true\n      );\n    } else if (id === 'y2') {\n      scale = $$.y2.copy().domain($$.getYDomain(targetsToShow, 'y2'));\n      axis = this.getYAxis(\n        id,\n        scale,\n        $$.y2Orient,\n        $$.y2AxisTickValues,\n        false,\n        true,\n        true\n      );\n    } else {\n      scale = $$.x.copy().domain($$.getXDomain(targetsToShow));\n      axis = this.getXAxis(\n        scale,\n        $$.xOrient,\n        $$.xAxisTickFormat,\n        $$.xAxisTickValues,\n        false,\n        true,\n        true\n      );\n      this.updateXAxisTickValues(targetsToShow, axis);\n    }\n    dummy = $$.d3\n      .select('body')\n      .append('div')\n      .classed('c3', true)\n    ;(svg = dummy\n      .append('svg')\n      .style('visibility', 'hidden')\n      .style('position', 'fixed')\n      .style('top', 0)\n      .style('left', 0)),\n      svg\n        .append('g')\n        .call(axis)\n        .each(function() {\n          $$.d3\n            .select(this)\n            .selectAll('text')\n            .each(function() {\n              var box = getBBox(this);\n              if (maxWidth < box.width) {\n                maxWidth = box.width;\n              }\n            });\n          dummy.remove();\n        });\n  }\n  $$.currentMaxTickWidths[id] =\n    maxWidth <= 0 ? $$.currentMaxTickWidths[id] : maxWidth;\n  return $$.currentMaxTickWidths[id]\n};\n\nAxis.prototype.updateLabels = function updateLabels(withTransition) {\n  var $$ = this.owner;\n  var axisXLabel = $$.main.select('.' + CLASS.axisX + ' .' + CLASS.axisXLabel),\n    axisYLabel = $$.main.select('.' + CLASS.axisY + ' .' + CLASS.axisYLabel),\n    axisY2Label = $$.main.select('.' + CLASS.axisY2 + ' .' + CLASS.axisY2Label)\n  ;(withTransition ? axisXLabel.transition() : axisXLabel)\n    .attr('x', this.xForXAxisLabel.bind(this))\n    .attr('dx', this.dxForXAxisLabel.bind(this))\n    .attr('dy', this.dyForXAxisLabel.bind(this))\n    .text(this.textForXAxisLabel.bind(this))\n  ;(withTransition ? axisYLabel.transition() : axisYLabel)\n    .attr('x', this.xForYAxisLabel.bind(this))\n    .attr('dx', this.dxForYAxisLabel.bind(this))\n    .attr('dy', this.dyForYAxisLabel.bind(this))\n    .text(this.textForYAxisLabel.bind(this))\n  ;(withTransition ? axisY2Label.transition() : axisY2Label)\n    .attr('x', this.xForY2AxisLabel.bind(this))\n    .attr('dx', this.dxForY2AxisLabel.bind(this))\n    .attr('dy', this.dyForY2AxisLabel.bind(this))\n    .text(this.textForY2AxisLabel.bind(this));\n};\nAxis.prototype.getPadding = function getPadding(\n  padding,\n  key,\n  defaultValue,\n  domainLength\n) {\n  var p = typeof padding === 'number' ? padding : padding[key];\n  if (!isValue(p)) {\n    return defaultValue\n  }\n  if (padding.unit === 'ratio') {\n    return padding[key] * domainLength\n  }\n  // assume padding is pixels if unit is not specified\n  return this.convertPixelsToAxisPadding(p, domainLength)\n};\nAxis.prototype.convertPixelsToAxisPadding = function convertPixelsToAxisPadding(\n  pixels,\n  domainLength\n) {\n  var $$ = this.owner,\n    length = $$.config.axis_rotated ? $$.width : $$.height;\n  return domainLength * (pixels / length)\n};\nAxis.prototype.generateTickValues = function generateTickValues(\n  values,\n  tickCount,\n  forTimeSeries\n) {\n  var tickValues = values,\n    targetCount,\n    start,\n    end,\n    count,\n    interval,\n    i,\n    tickValue;\n  if (tickCount) {\n    targetCount = isFunction(tickCount) ? tickCount() : tickCount;\n    // compute ticks according to tickCount\n    if (targetCount === 1) {\n      tickValues = [values[0]];\n    } else if (targetCount === 2) {\n      tickValues = [values[0], values[values.length - 1]];\n    } else if (targetCount > 2) {\n      count = targetCount - 2;\n      start = values[0];\n      end = values[values.length - 1];\n      interval = (end - start) / (count + 1);\n      // re-construct unique values\n      tickValues = [start];\n      for (i = 0; i < count; i++) {\n        tickValue = +start + interval * (i + 1);\n        tickValues.push(forTimeSeries ? new Date(tickValue) : tickValue);\n      }\n      tickValues.push(end);\n    }\n  }\n  if (!forTimeSeries) {\n    tickValues = tickValues.sort(function(a, b) {\n      return a - b\n    });\n  }\n  return tickValues\n};\nAxis.prototype.generateTransitions = function generateTransitions(duration) {\n  var $$ = this.owner,\n    axes = $$.axes;\n  return {\n    axisX: duration ? axes.x.transition().duration(duration) : axes.x,\n    axisY: duration ? axes.y.transition().duration(duration) : axes.y,\n    axisY2: duration ? axes.y2.transition().duration(duration) : axes.y2,\n    axisSubX: duration ? axes.subx.transition().duration(duration) : axes.subx\n  }\n};\nAxis.prototype.redraw = function redraw(duration, isHidden) {\n  var $$ = this.owner,\n    transition = duration ? $$.d3.transition().duration(duration) : null;\n  $$.axes.x.style('opacity', isHidden ? 0 : 1).call($$.xAxis, transition);\n  $$.axes.y.style('opacity', isHidden ? 0 : 1).call($$.yAxis, transition);\n  $$.axes.y2.style('opacity', isHidden ? 0 : 1).call($$.y2Axis, transition);\n  $$.axes.subx.style('opacity', isHidden ? 0 : 1).call($$.subXAxis, transition);\n};\n\nvar c3 = {\n  version: '0.7.18',\n  chart: {\n    fn: Chart.prototype,\n    internal: {\n      fn: ChartInternal.prototype,\n      axis: {\n        fn: Axis.prototype,\n        internal: {\n          fn: AxisInternal.prototype\n        }\n      }\n    }\n  },\n  generate: function(config) {\n    return new Chart(config)\n  }\n};\n\nChartInternal.prototype.beforeInit = function() {\n  // can do something\n};\nChartInternal.prototype.afterInit = function() {\n  // can do something\n};\nChartInternal.prototype.init = function() {\n  var $$ = this,\n    config = $$.config;\n\n  $$.initParams();\n\n  if (config.data_url) {\n    $$.convertUrlToData(\n      config.data_url,\n      config.data_mimeType,\n      config.data_headers,\n      config.data_keys,\n      $$.initWithData\n    );\n  } else if (config.data_json) {\n    $$.initWithData($$.convertJsonToData(config.data_json, config.data_keys));\n  } else if (config.data_rows) {\n    $$.initWithData($$.convertRowsToData(config.data_rows));\n  } else if (config.data_columns) {\n    $$.initWithData($$.convertColumnsToData(config.data_columns));\n  } else {\n    throw Error('url or json or rows or columns is required.')\n  }\n};\n\nChartInternal.prototype.initParams = function() {\n  var $$ = this,\n    d3 = $$.d3,\n    config = $$.config;\n\n  // MEMO: clipId needs to be unique because it conflicts when multiple charts exist\n  $$.clipId = 'c3-' + new Date().valueOf() + '-clip';\n  $$.clipIdForXAxis = $$.clipId + '-xaxis';\n  $$.clipIdForYAxis = $$.clipId + '-yaxis';\n  $$.clipIdForGrid = $$.clipId + '-grid';\n  $$.clipIdForSubchart = $$.clipId + '-subchart';\n  $$.clipPath = $$.getClipPath($$.clipId);\n  $$.clipPathForXAxis = $$.getClipPath($$.clipIdForXAxis);\n  $$.clipPathForYAxis = $$.getClipPath($$.clipIdForYAxis);\n  $$.clipPathForGrid = $$.getClipPath($$.clipIdForGrid);\n  $$.clipPathForSubchart = $$.getClipPath($$.clipIdForSubchart);\n\n  $$.dragStart = null;\n  $$.dragging = false;\n  $$.flowing = false;\n  $$.cancelClick = false;\n  $$.mouseover = undefined;\n  $$.transiting = false;\n\n  $$.color = $$.generateColor();\n  $$.levelColor = $$.generateLevelColor();\n\n  $$.dataTimeParse = (config.data_xLocaltime ? d3.timeParse : d3.utcParse)(\n    $$.config.data_xFormat\n  );\n  $$.axisTimeFormat = config.axis_x_localtime ? d3.timeFormat : d3.utcFormat;\n  $$.defaultAxisTimeFormat = function(date) {\n    if (date.getMilliseconds()) {\n      return d3.timeFormat('.%L')(date)\n    }\n    if (date.getSeconds()) {\n      return d3.timeFormat(':%S')(date)\n    }\n    if (date.getMinutes()) {\n      return d3.timeFormat('%I:%M')(date)\n    }\n    if (date.getHours()) {\n      return d3.timeFormat('%I %p')(date)\n    }\n    if (date.getDay() && date.getDate() !== 1) {\n      return d3.timeFormat('%-m/%-d')(date)\n    }\n    if (date.getDate() !== 1) {\n      return d3.timeFormat('%-m/%-d')(date)\n    }\n    if (date.getMonth()) {\n      return d3.timeFormat('%-m/%-d')(date)\n    }\n    return d3.timeFormat('%Y/%-m/%-d')(date)\n  };\n  $$.hiddenTargetIds = [];\n  $$.hiddenLegendIds = [];\n  $$.focusedTargetIds = [];\n  $$.defocusedTargetIds = [];\n\n  $$.xOrient = config.axis_rotated\n    ? config.axis_x_inner\n      ? 'right'\n      : 'left'\n    : config.axis_x_inner\n    ? 'top'\n    : 'bottom';\n  $$.yOrient = config.axis_rotated\n    ? config.axis_y_inner\n      ? 'top'\n      : 'bottom'\n    : config.axis_y_inner\n    ? 'right'\n    : 'left';\n  $$.y2Orient = config.axis_rotated\n    ? config.axis_y2_inner\n      ? 'bottom'\n      : 'top'\n    : config.axis_y2_inner\n    ? 'left'\n    : 'right';\n  $$.subXOrient = config.axis_rotated ? 'left' : 'bottom';\n\n  $$.isLegendRight = config.legend_position === 'right';\n  $$.isLegendInset = config.legend_position === 'inset';\n  $$.isLegendTop =\n    config.legend_inset_anchor === 'top-left' ||\n    config.legend_inset_anchor === 'top-right';\n  $$.isLegendLeft =\n    config.legend_inset_anchor === 'top-left' ||\n    config.legend_inset_anchor === 'bottom-left';\n  $$.legendStep = 0;\n  $$.legendItemWidth = 0;\n  $$.legendItemHeight = 0;\n\n  $$.currentMaxTickWidths = {\n    x: 0,\n    y: 0,\n    y2: 0\n  };\n\n  $$.rotated_padding_left = 30;\n  $$.rotated_padding_right = config.axis_rotated && !config.axis_x_show ? 0 : 30;\n  $$.rotated_padding_top = 5;\n\n  $$.withoutFadeIn = {};\n\n  $$.intervalForObserveInserted = undefined;\n\n  $$.axes.subx = d3.selectAll([]); // needs when excluding subchart.js\n};\n\nChartInternal.prototype.initChartElements = function() {\n  if (this.initBar) {\n    this.initBar();\n  }\n  if (this.initLine) {\n    this.initLine();\n  }\n  if (this.initArc) {\n    this.initArc();\n  }\n  if (this.initGauge) {\n    this.initGauge();\n  }\n  if (this.initText) {\n    this.initText();\n  }\n};\n\nChartInternal.prototype.initWithData = function(data) {\n  var $$ = this,\n    d3 = $$.d3,\n    config = $$.config;\n  var defs,\n    main,\n    binding = true;\n\n  $$.axis = new Axis($$);\n\n  if (!config.bindto) {\n    $$.selectChart = d3.selectAll([]);\n  } else if (typeof config.bindto.node === 'function') {\n    $$.selectChart = config.bindto;\n  } else {\n    $$.selectChart = d3.select(config.bindto);\n  }\n  if ($$.selectChart.empty()) {\n    $$.selectChart = d3\n      .select(document.createElement('div'))\n      .style('opacity', 0);\n    $$.observeInserted($$.selectChart);\n    binding = false;\n  }\n  $$.selectChart.html('').classed('c3', true);\n\n  // Init data as targets\n  $$.data.xs = {};\n  $$.data.targets = $$.convertDataToTargets(data);\n\n  if (config.data_filter) {\n    $$.data.targets = $$.data.targets.filter(config.data_filter);\n  }\n\n  // Set targets to hide if needed\n  if (config.data_hide) {\n    $$.addHiddenTargetIds(\n      config.data_hide === true\n        ? $$.mapToIds($$.data.targets)\n        : config.data_hide\n    );\n  }\n  if (config.legend_hide) {\n    $$.addHiddenLegendIds(\n      config.legend_hide === true\n        ? $$.mapToIds($$.data.targets)\n        : config.legend_hide\n    );\n  }\n\n  if ($$.isStanfordGraphType()) {\n    $$.initStanfordData();\n  }\n\n  // Init sizes and scales\n  $$.updateSizes();\n  $$.updateScales();\n\n  // Set domains for each scale\n  $$.x.domain(d3.extent($$.getXDomain($$.data.targets)));\n  $$.y.domain($$.getYDomain($$.data.targets, 'y'));\n  $$.y2.domain($$.getYDomain($$.data.targets, 'y2'));\n  $$.subX.domain($$.x.domain());\n  $$.subY.domain($$.y.domain());\n  $$.subY2.domain($$.y2.domain());\n\n  // Save original x domain for zoom update\n  $$.orgXDomain = $$.x.domain();\n\n  /*-- Basic Elements --*/\n\n  // Define svgs\n  $$.svg = $$.selectChart\n    .append('svg')\n    .style('overflow', 'hidden')\n    .on('mouseenter', function() {\n      return config.onmouseover.call($$)\n    })\n    .on('mouseleave', function() {\n      return config.onmouseout.call($$)\n    });\n\n  if ($$.config.svg_classname) {\n    $$.svg.attr('class', $$.config.svg_classname);\n  }\n\n  // Define defs\n  defs = $$.svg.append('defs');\n  $$.clipChart = $$.appendClip(defs, $$.clipId);\n  $$.clipXAxis = $$.appendClip(defs, $$.clipIdForXAxis);\n  $$.clipYAxis = $$.appendClip(defs, $$.clipIdForYAxis);\n  $$.clipGrid = $$.appendClip(defs, $$.clipIdForGrid);\n  $$.clipSubchart = $$.appendClip(defs, $$.clipIdForSubchart);\n  $$.updateSvgSize();\n\n  // Define regions\n  main = $$.main = $$.svg.append('g').attr('transform', $$.getTranslate('main'));\n\n  if ($$.initPie) {\n    $$.initPie();\n  }\n  if ($$.initDragZoom) {\n    $$.initDragZoom();\n  }\n  if (config.subchart_show && $$.initSubchart) {\n    $$.initSubchart();\n  }\n  if ($$.initTooltip) {\n    $$.initTooltip();\n  }\n  if ($$.initLegend) {\n    $$.initLegend();\n  }\n  if ($$.initTitle) {\n    $$.initTitle();\n  }\n  if ($$.initZoom) {\n    $$.initZoom();\n  }\n  if ($$.isStanfordGraphType()) {\n    $$.drawColorScale();\n  }\n\n  // Update selection based on size and scale\n  // TODO: currently this must be called after initLegend because of update of sizes, but it should be done in initSubchart.\n  if (config.subchart_show && $$.initSubchartBrush) {\n    $$.initSubchartBrush();\n  }\n\n  /*-- Main Region --*/\n\n  // text when empty\n  main\n    .append('text')\n    .attr('class', CLASS.text + ' ' + CLASS.empty)\n    .attr('text-anchor', 'middle') // horizontal centering of text at x position in all browsers.\n    .attr('dominant-baseline', 'middle'); // vertical centering of text at y position in all browsers, except IE.\n\n  // Regions\n  $$.initRegion();\n\n  // Grids\n  $$.initGrid();\n\n  // Define g for chart area\n  main\n    .append('g')\n    .attr('clip-path', $$.clipPath)\n    .attr('class', CLASS.chart);\n\n  // Grid lines\n  if (config.grid_lines_front) {\n    $$.initGridLines();\n  }\n\n  $$.initStanfordElements();\n\n  // Cover whole with rects for events\n  $$.initEventRect();\n\n  // Define g for chart\n  $$.initChartElements();\n\n  // Add Axis\n  $$.axis.init();\n\n  // Set targets\n  $$.updateTargets($$.data.targets);\n\n  // Set default extent if defined\n  if (config.axis_x_selection) {\n    $$.brush.selectionAsValue($$.getDefaultSelection());\n  }\n\n  // Draw with targets\n  if (binding) {\n    $$.updateDimension();\n    $$.config.oninit.call($$);\n    $$.redraw({\n      withTransition: false,\n      withTransform: true,\n      withUpdateXDomain: true,\n      withUpdateOrgXDomain: true,\n      withTransitionForAxis: false\n    });\n  }\n\n  // Bind to resize event\n  $$.bindResize();\n\n  // Bind to window focus event\n  $$.bindWindowFocus();\n\n  // export element of the chart\n  $$.api.element = $$.selectChart.node();\n};\n\nChartInternal.prototype.smoothLines = function(el, type) {\n  var $$ = this;\n  if (type === 'grid') {\n    el.each(function() {\n      var g = $$.d3.select(this),\n        x1 = g.attr('x1'),\n        x2 = g.attr('x2'),\n        y1 = g.attr('y1'),\n        y2 = g.attr('y2');\n      g.attr({\n        x1: Math.ceil(x1),\n        x2: Math.ceil(x2),\n        y1: Math.ceil(y1),\n        y2: Math.ceil(y2)\n      });\n    });\n  }\n};\n\nChartInternal.prototype.updateSizes = function() {\n  var $$ = this,\n    config = $$.config;\n  var legendHeight = $$.legend ? $$.getLegendHeight() : 0,\n    legendWidth = $$.legend ? $$.getLegendWidth() : 0,\n    legendHeightForBottom =\n      $$.isLegendRight || $$.isLegendInset ? 0 : legendHeight,\n    hasArc = $$.hasArcType(),\n    xAxisHeight =\n      config.axis_rotated || hasArc ? 0 : $$.getHorizontalAxisHeight('x'),\n    subchartHeight =\n      config.subchart_show && !hasArc\n        ? config.subchart_size_height + xAxisHeight\n        : 0;\n\n  $$.currentWidth = $$.getCurrentWidth();\n  $$.currentHeight = $$.getCurrentHeight();\n\n  // for main\n  $$.margin = config.axis_rotated\n    ? {\n        top: $$.getHorizontalAxisHeight('y2') + $$.getCurrentPaddingTop(),\n        right: hasArc ? 0 : $$.getCurrentPaddingRight(),\n        bottom:\n          $$.getHorizontalAxisHeight('y') +\n          legendHeightForBottom +\n          $$.getCurrentPaddingBottom(),\n        left: subchartHeight + (hasArc ? 0 : $$.getCurrentPaddingLeft())\n      }\n    : {\n        top: 4 + $$.getCurrentPaddingTop(), // for top tick text\n        right: hasArc ? 0 : $$.getCurrentPaddingRight(),\n        bottom:\n          xAxisHeight +\n          subchartHeight +\n          legendHeightForBottom +\n          $$.getCurrentPaddingBottom(),\n        left: hasArc ? 0 : $$.getCurrentPaddingLeft()\n      };\n\n  // for subchart\n  $$.margin2 = config.axis_rotated\n    ? {\n        top: $$.margin.top,\n        right: NaN,\n        bottom: 20 + legendHeightForBottom,\n        left: $$.rotated_padding_left\n      }\n    : {\n        top: $$.currentHeight - subchartHeight - legendHeightForBottom,\n        right: NaN,\n        bottom: xAxisHeight + legendHeightForBottom,\n        left: $$.margin.left\n      };\n\n  // for legend\n  $$.margin3 = {\n    top: 0,\n    right: NaN,\n    bottom: 0,\n    left: 0\n  };\n  if ($$.updateSizeForLegend) {\n    $$.updateSizeForLegend(legendHeight, legendWidth);\n  }\n\n  $$.width = $$.currentWidth - $$.margin.left - $$.margin.right;\n  $$.height = $$.currentHeight - $$.margin.top - $$.margin.bottom;\n  if ($$.width < 0) {\n    $$.width = 0;\n  }\n  if ($$.height < 0) {\n    $$.height = 0;\n  }\n\n  $$.width2 = config.axis_rotated\n    ? $$.margin.left - $$.rotated_padding_left - $$.rotated_padding_right\n    : $$.width;\n  $$.height2 = config.axis_rotated\n    ? $$.height\n    : $$.currentHeight - $$.margin2.top - $$.margin2.bottom;\n  if ($$.width2 < 0) {\n    $$.width2 = 0;\n  }\n  if ($$.height2 < 0) {\n    $$.height2 = 0;\n  }\n\n  // for arc\n  $$.arcWidth = $$.width - ($$.isLegendRight ? legendWidth + 10 : 0);\n  $$.arcHeight = $$.height - ($$.isLegendRight ? 0 : 10);\n  if ($$.hasType('gauge') && !config.gauge_fullCircle) {\n    $$.arcHeight += $$.height - $$.getGaugeLabelHeight();\n  }\n  if ($$.updateRadius) {\n    $$.updateRadius();\n  }\n\n  if ($$.isLegendRight && hasArc) {\n    $$.margin3.left = $$.arcWidth / 2 + $$.radiusExpanded * 1.1;\n  }\n};\n\nChartInternal.prototype.updateTargets = function(targets) {\n  var $$ = this,\n    config = $$.config;\n\n  /*-- Main --*/\n\n  //-- Text --//\n  $$.updateTargetsForText(targets);\n\n  //-- Bar --//\n  $$.updateTargetsForBar(targets);\n\n  //-- Line --//\n  $$.updateTargetsForLine(targets);\n\n  //-- Arc --//\n  if ($$.hasArcType() && $$.updateTargetsForArc) {\n    $$.updateTargetsForArc(targets);\n  }\n\n  /*-- Sub --*/\n\n  if (config.subchart_show && $$.updateTargetsForSubchart) {\n    $$.updateTargetsForSubchart(targets);\n  }\n\n  // Fade-in each chart\n  $$.showTargets();\n};\nChartInternal.prototype.showTargets = function() {\n  var $$ = this;\n  $$.svg\n    .selectAll('.' + CLASS.target)\n    .filter(function(d) {\n      return $$.isTargetToShow(d.id)\n    })\n    .transition()\n    .duration($$.config.transition_duration)\n    .style('opacity', 1);\n};\n\nChartInternal.prototype.redraw = function(options, transitions) {\n  var $$ = this,\n    main = $$.main,\n    d3 = $$.d3,\n    config = $$.config;\n  var areaIndices = $$.getShapeIndices($$.isAreaType),\n    barIndices = $$.getShapeIndices($$.isBarType),\n    lineIndices = $$.getShapeIndices($$.isLineType);\n  var withY,\n    withSubchart,\n    withTransition,\n    withTransitionForExit,\n    withTransitionForAxis,\n    withTransform,\n    withUpdateXDomain,\n    withUpdateOrgXDomain,\n    withTrimXDomain,\n    withLegend,\n    withEventRect,\n    withDimension,\n    withUpdateXAxis;\n  var hideAxis = $$.hasArcType();\n  var drawArea, drawBar, drawLine, xForText, yForText;\n  var duration, durationForExit, durationForAxis;\n  var transitionsToWait, waitForDraw, flow, transition;\n  var targetsToShow = $$.filterTargetsToShow($$.data.targets),\n    tickValues,\n    i,\n    intervalForCulling,\n    xDomainForZoom;\n  var xv = $$.xv.bind($$),\n    cx,\n    cy;\n\n  options = options || {};\n  withY = getOption(options, 'withY', true);\n  withSubchart = getOption(options, 'withSubchart', true);\n  withTransition = getOption(options, 'withTransition', true);\n  withTransform = getOption(options, 'withTransform', false);\n  withUpdateXDomain = getOption(options, 'withUpdateXDomain', false);\n  withUpdateOrgXDomain = getOption(options, 'withUpdateOrgXDomain', false);\n  withTrimXDomain = getOption(options, 'withTrimXDomain', true);\n  withUpdateXAxis = getOption(options, 'withUpdateXAxis', withUpdateXDomain);\n  withLegend = getOption(options, 'withLegend', false);\n  withEventRect = getOption(options, 'withEventRect', true);\n  withDimension = getOption(options, 'withDimension', true);\n  withTransitionForExit = getOption(\n    options,\n    'withTransitionForExit',\n    withTransition\n  );\n  withTransitionForAxis = getOption(\n    options,\n    'withTransitionForAxis',\n    withTransition\n  );\n\n  duration = withTransition ? config.transition_duration : 0;\n  durationForExit = withTransitionForExit ? duration : 0;\n  durationForAxis = withTransitionForAxis ? duration : 0;\n\n  transitions = transitions || $$.axis.generateTransitions(durationForAxis);\n\n  // update legend and transform each g\n  if (withLegend && config.legend_show) {\n    $$.updateLegend($$.mapToIds($$.data.targets), options, transitions);\n  } else if (withDimension) {\n    // need to update dimension (e.g. axis.y.tick.values) because y tick values should change\n    // no need to update axis in it because they will be updated in redraw()\n    $$.updateDimension(true);\n  }\n\n  // MEMO: needed for grids calculation\n  if ($$.isCategorized() && targetsToShow.length === 0) {\n    $$.x.domain([0, $$.axes.x.selectAll('.tick').size()]);\n  }\n\n  if (targetsToShow.length) {\n    $$.updateXDomain(\n      targetsToShow,\n      withUpdateXDomain,\n      withUpdateOrgXDomain,\n      withTrimXDomain\n    );\n    if (!config.axis_x_tick_values) {\n      tickValues = $$.axis.updateXAxisTickValues(targetsToShow);\n    }\n  } else {\n    $$.xAxis.tickValues([]);\n    $$.subXAxis.tickValues([]);\n  }\n\n  if (config.zoom_rescale && !options.flow) {\n    xDomainForZoom = $$.x.orgDomain();\n  }\n\n  $$.y.domain($$.getYDomain(targetsToShow, 'y', xDomainForZoom));\n  $$.y2.domain($$.getYDomain(targetsToShow, 'y2', xDomainForZoom));\n\n  if (!config.axis_y_tick_values && config.axis_y_tick_count) {\n    $$.yAxis.tickValues(\n      $$.axis.generateTickValues($$.y.domain(), config.axis_y_tick_count)\n    );\n  }\n  if (!config.axis_y2_tick_values && config.axis_y2_tick_count) {\n    $$.y2Axis.tickValues(\n      $$.axis.generateTickValues($$.y2.domain(), config.axis_y2_tick_count)\n    );\n  }\n\n  // axes\n  $$.axis.redraw(durationForAxis, hideAxis);\n\n  // Update axis label\n  $$.axis.updateLabels(withTransition);\n\n  // show/hide if manual culling needed\n  if ((withUpdateXDomain || withUpdateXAxis) && targetsToShow.length) {\n    if (config.axis_x_tick_culling && tickValues) {\n      for (i = 1; i < tickValues.length; i++) {\n        if (tickValues.length / i < config.axis_x_tick_culling_max) {\n          intervalForCulling = i;\n          break\n        }\n      }\n      $$.svg.selectAll('.' + CLASS.axisX + ' .tick text').each(function(e) {\n        var index = tickValues.indexOf(e);\n        if (index >= 0) {\n          d3.select(this).style(\n            'display',\n            index % intervalForCulling ? 'none' : 'block'\n          );\n        }\n      });\n    } else {\n      $$.svg\n        .selectAll('.' + CLASS.axisX + ' .tick text')\n        .style('display', 'block');\n    }\n  }\n\n  // setup drawer - MEMO: these must be called after axis updated\n  drawArea = $$.generateDrawArea\n    ? $$.generateDrawArea(areaIndices, false)\n    : undefined;\n  drawBar = $$.generateDrawBar ? $$.generateDrawBar(barIndices) : undefined;\n  drawLine = $$.generateDrawLine\n    ? $$.generateDrawLine(lineIndices, false)\n    : undefined;\n  xForText = $$.generateXYForText(areaIndices, barIndices, lineIndices, true);\n  yForText = $$.generateXYForText(areaIndices, barIndices, lineIndices, false);\n\n  // update circleY based on updated parameters\n  $$.updateCircleY();\n  // generate circle x/y functions depending on updated params\n  cx = ($$.config.axis_rotated ? $$.circleY : $$.circleX).bind($$);\n  cy = ($$.config.axis_rotated ? $$.circleX : $$.circleY).bind($$);\n\n  // Update sub domain\n  if (withY) {\n    $$.subY.domain($$.getYDomain(targetsToShow, 'y'));\n    $$.subY2.domain($$.getYDomain(targetsToShow, 'y2'));\n  }\n\n  // xgrid focus\n  $$.updateXgridFocus();\n\n  // Data empty label positioning and text.\n  main\n    .select('text.' + CLASS.text + '.' + CLASS.empty)\n    .attr('x', $$.width / 2)\n    .attr('y', $$.height / 2)\n    .text(config.data_empty_label_text)\n    .transition()\n    .style('opacity', targetsToShow.length ? 0 : 1);\n\n  // event rect\n  if (withEventRect) {\n    $$.redrawEventRect();\n  }\n\n  // grid\n  $$.updateGrid(duration);\n\n  $$.updateStanfordElements(duration);\n\n  // rect for regions\n  $$.updateRegion(duration);\n\n  // bars\n  $$.updateBar(durationForExit);\n\n  // lines, areas and circles\n  $$.updateLine(durationForExit);\n  $$.updateArea(durationForExit);\n  $$.updateCircle(cx, cy);\n\n  // text\n  if ($$.hasDataLabel()) {\n    $$.updateText(xForText, yForText, durationForExit);\n  }\n\n  // title\n  if ($$.redrawTitle) {\n    $$.redrawTitle();\n  }\n\n  // arc\n  if ($$.redrawArc) {\n    $$.redrawArc(duration, durationForExit, withTransform);\n  }\n\n  // subchart\n  if (config.subchart_show && $$.redrawSubchart) {\n    $$.redrawSubchart(\n      withSubchart,\n      transitions,\n      duration,\n      durationForExit,\n      areaIndices,\n      barIndices,\n      lineIndices\n    );\n  }\n\n  if ($$.isStanfordGraphType()) {\n    $$.drawColorScale();\n  }\n\n  // circles for select\n  main\n    .selectAll('.' + CLASS.selectedCircles)\n    .filter($$.isBarType.bind($$))\n    .selectAll('circle')\n    .remove();\n\n  if (options.flow) {\n    flow = $$.generateFlow({\n      targets: targetsToShow,\n      flow: options.flow,\n      duration: options.flow.duration,\n      drawBar: drawBar,\n      drawLine: drawLine,\n      drawArea: drawArea,\n      cx: cx,\n      cy: cy,\n      xv: xv,\n      xForText: xForText,\n      yForText: yForText\n    });\n  }\n\n  if (duration && $$.isTabVisible()) {\n    // Only use transition if tab visible. See #938.\n    // transition should be derived from one transition\n    transition = d3.transition().duration(duration);\n    transitionsToWait = []\n    ;[\n      $$.redrawBar(drawBar, true, transition),\n      $$.redrawLine(drawLine, true, transition),\n      $$.redrawArea(drawArea, true, transition),\n      $$.redrawCircle(cx, cy, true, transition),\n      $$.redrawText(xForText, yForText, options.flow, true, transition),\n      $$.redrawRegion(true, transition),\n      $$.redrawGrid(true, transition)\n    ].forEach(function(transitions) {\n      transitions.forEach(function(transition) {\n        transitionsToWait.push(transition);\n      });\n    });\n    // Wait for end of transitions to call flow and onrendered callback\n    waitForDraw = $$.generateWait();\n    transitionsToWait.forEach(function(t) {\n      waitForDraw.add(t);\n    });\n    waitForDraw(function() {\n      if (flow) {\n        flow();\n      }\n      if (config.onrendered) {\n        config.onrendered.call($$);\n      }\n    });\n  } else {\n    $$.redrawBar(drawBar);\n    $$.redrawLine(drawLine);\n    $$.redrawArea(drawArea);\n    $$.redrawCircle(cx, cy);\n    $$.redrawText(xForText, yForText, options.flow);\n    $$.redrawRegion();\n    $$.redrawGrid();\n    if (flow) {\n      flow();\n    }\n    if (config.onrendered) {\n      config.onrendered.call($$);\n    }\n  }\n\n  // update fadein condition\n  $$.mapToIds($$.data.targets).forEach(function(id) {\n    $$.withoutFadeIn[id] = true;\n  });\n};\n\nChartInternal.prototype.updateAndRedraw = function(options) {\n  var $$ = this,\n    config = $$.config,\n    transitions;\n  options = options || {};\n  // same with redraw\n  options.withTransition = getOption(options, 'withTransition', true);\n  options.withTransform = getOption(options, 'withTransform', false);\n  options.withLegend = getOption(options, 'withLegend', false);\n  // NOT same with redraw\n  options.withUpdateXDomain = getOption(options, 'withUpdateXDomain', true);\n  options.withUpdateOrgXDomain = getOption(\n    options,\n    'withUpdateOrgXDomain',\n    true\n  );\n  options.withTransitionForExit = false;\n  options.withTransitionForTransform = getOption(\n    options,\n    'withTransitionForTransform',\n    options.withTransition\n  );\n  // MEMO: this needs to be called before updateLegend and it means this ALWAYS needs to be called)\n  $$.updateSizes();\n  // MEMO: called in updateLegend in redraw if withLegend\n  if (!(options.withLegend && config.legend_show)) {\n    transitions = $$.axis.generateTransitions(\n      options.withTransitionForAxis ? config.transition_duration : 0\n    );\n    // Update scales\n    $$.updateScales();\n    $$.updateSvgSize();\n    // Update g positions\n    $$.transformAll(options.withTransitionForTransform, transitions);\n  }\n  // Draw with new sizes & scales\n  $$.redraw(options, transitions);\n};\nChartInternal.prototype.redrawWithoutRescale = function() {\n  this.redraw({\n    withY: false,\n    withSubchart: false,\n    withEventRect: false,\n    withTransitionForAxis: false\n  });\n};\n\nChartInternal.prototype.isTimeSeries = function() {\n  return this.config.axis_x_type === 'timeseries'\n};\nChartInternal.prototype.isCategorized = function() {\n  return this.config.axis_x_type.indexOf('categor') >= 0\n};\nChartInternal.prototype.isCustomX = function() {\n  var $$ = this,\n    config = $$.config;\n  return !$$.isTimeSeries() && (config.data_x || notEmpty(config.data_xs))\n};\n\nChartInternal.prototype.isTimeSeriesY = function() {\n  return this.config.axis_y_type === 'timeseries'\n};\n\nChartInternal.prototype.getTranslate = function(target) {\n  var $$ = this,\n    config = $$.config,\n    x,\n    y;\n  if (target === 'main') {\n    x = asHalfPixel($$.margin.left);\n    y = asHalfPixel($$.margin.top);\n  } else if (target === 'context') {\n    x = asHalfPixel($$.margin2.left);\n    y = asHalfPixel($$.margin2.top);\n  } else if (target === 'legend') {\n    x = $$.margin3.left;\n    y = $$.margin3.top;\n  } else if (target === 'x') {\n    x = 0;\n    y = config.axis_rotated ? 0 : $$.height;\n  } else if (target === 'y') {\n    x = 0;\n    y = config.axis_rotated ? $$.height : 0;\n  } else if (target === 'y2') {\n    x = config.axis_rotated ? 0 : $$.width;\n    y = config.axis_rotated ? 1 : 0;\n  } else if (target === 'subx') {\n    x = 0;\n    y = config.axis_rotated ? 0 : $$.height2;\n  } else if (target === 'arc') {\n    x = $$.arcWidth / 2;\n    y = $$.arcHeight / 2 - ($$.hasType('gauge') ? 6 : 0); // to prevent wrong display of min and max label\n  }\n  return 'translate(' + x + ',' + y + ')'\n};\nChartInternal.prototype.initialOpacity = function(d) {\n  return d.value !== null && this.withoutFadeIn[d.id] ? 1 : 0\n};\nChartInternal.prototype.initialOpacityForCircle = function(d) {\n  return d.value !== null && this.withoutFadeIn[d.id]\n    ? this.opacityForCircle(d)\n    : 0\n};\nChartInternal.prototype.opacityForCircle = function(d) {\n  var isPointShouldBeShown = isFunction(this.config.point_show)\n    ? this.config.point_show(d)\n    : this.config.point_show;\n  var opacity = isPointShouldBeShown || this.isStanfordType(d) ? 1 : 0;\n  return isValue(d.value) ? (this.isScatterType(d) ? 0.5 : opacity) : 0\n};\nChartInternal.prototype.opacityForText = function() {\n  return this.hasDataLabel() ? 1 : 0\n};\nChartInternal.prototype.xx = function(d) {\n  return d ? this.x(d.x) : null\n};\nChartInternal.prototype.xvCustom = function(d, xyValue) {\n  var $$ = this,\n    value = xyValue ? d[xyValue] : d.value;\n  if ($$.isTimeSeries()) {\n    value = $$.parseDate(d.value);\n  } else if ($$.isCategorized() && typeof d.value === 'string') {\n    value = $$.config.axis_x_categories.indexOf(d.value);\n  }\n  return Math.ceil($$.x(value))\n};\nChartInternal.prototype.yvCustom = function(d, xyValue) {\n  var $$ = this,\n    yScale = d.axis && d.axis === 'y2' ? $$.y2 : $$.y,\n    value = xyValue ? d[xyValue] : d.value;\n  return Math.ceil(yScale(value))\n};\nChartInternal.prototype.xv = function(d) {\n  var $$ = this,\n    value = d.value;\n  if ($$.isTimeSeries()) {\n    value = $$.parseDate(d.value);\n  } else if ($$.isCategorized() && typeof d.value === 'string') {\n    value = $$.config.axis_x_categories.indexOf(d.value);\n  }\n  return Math.ceil($$.x(value))\n};\nChartInternal.prototype.yv = function(d) {\n  var $$ = this,\n    yScale = d.axis && d.axis === 'y2' ? $$.y2 : $$.y;\n  return Math.ceil(yScale(d.value))\n};\nChartInternal.prototype.subxx = function(d) {\n  return d ? this.subX(d.x) : null\n};\n\nChartInternal.prototype.transformMain = function(withTransition, transitions) {\n  var $$ = this,\n    xAxis,\n    yAxis,\n    y2Axis;\n  if (transitions && transitions.axisX) {\n    xAxis = transitions.axisX;\n  } else {\n    xAxis = $$.main.select('.' + CLASS.axisX);\n    if (withTransition) {\n      xAxis = xAxis.transition();\n    }\n  }\n  if (transitions && transitions.axisY) {\n    yAxis = transitions.axisY;\n  } else {\n    yAxis = $$.main.select('.' + CLASS.axisY);\n    if (withTransition) {\n      yAxis = yAxis.transition();\n    }\n  }\n  if (transitions && transitions.axisY2) {\n    y2Axis = transitions.axisY2;\n  } else {\n    y2Axis = $$.main.select('.' + CLASS.axisY2);\n    if (withTransition) {\n      y2Axis = y2Axis.transition();\n    }\n  }\n(withTransition ? $$.main.transition() : $$.main).attr(\n    'transform',\n    $$.getTranslate('main')\n  );\n  xAxis.attr('transform', $$.getTranslate('x'));\n  yAxis.attr('transform', $$.getTranslate('y'));\n  y2Axis.attr('transform', $$.getTranslate('y2'));\n  $$.main\n    .select('.' + CLASS.chartArcs)\n    .attr('transform', $$.getTranslate('arc'));\n};\nChartInternal.prototype.transformAll = function(withTransition, transitions) {\n  var $$ = this;\n  $$.transformMain(withTransition, transitions);\n  if ($$.config.subchart_show) {\n    $$.transformContext(withTransition, transitions);\n  }\n  if ($$.legend) {\n    $$.transformLegend(withTransition);\n  }\n};\n\nChartInternal.prototype.updateSvgSize = function() {\n  var $$ = this,\n    brush = $$.svg.select(`.${CLASS.brush} .overlay`);\n  $$.svg.attr('width', $$.currentWidth).attr('height', $$.currentHeight);\n  $$.svg\n    .selectAll(['#' + $$.clipId, '#' + $$.clipIdForGrid])\n    .select('rect')\n    .attr('width', $$.width)\n    .attr('height', $$.height);\n  $$.svg\n    .select('#' + $$.clipIdForXAxis)\n    .select('rect')\n    .attr('x', $$.getXAxisClipX.bind($$))\n    .attr('y', $$.getXAxisClipY.bind($$))\n    .attr('width', $$.getXAxisClipWidth.bind($$))\n    .attr('height', $$.getXAxisClipHeight.bind($$));\n  $$.svg\n    .select('#' + $$.clipIdForYAxis)\n    .select('rect')\n    .attr('x', $$.getYAxisClipX.bind($$))\n    .attr('y', $$.getYAxisClipY.bind($$))\n    .attr('width', $$.getYAxisClipWidth.bind($$))\n    .attr('height', $$.getYAxisClipHeight.bind($$));\n  $$.svg\n    .select('#' + $$.clipIdForSubchart)\n    .select('rect')\n    .attr('width', $$.width)\n    .attr('height', (brush.size() && brush.attr('height')) || 0);\n  // MEMO: parent div's height will be bigger than svg when <!DOCTYPE html>\n  $$.selectChart.style('max-height', $$.currentHeight + 'px');\n};\n\nChartInternal.prototype.updateDimension = function(withoutAxis) {\n  var $$ = this;\n  if (!withoutAxis) {\n    if ($$.config.axis_rotated) {\n      $$.axes.x.call($$.xAxis);\n      $$.axes.subx.call($$.subXAxis);\n    } else {\n      $$.axes.y.call($$.yAxis);\n      $$.axes.y2.call($$.y2Axis);\n    }\n  }\n  $$.updateSizes();\n  $$.updateScales();\n  $$.updateSvgSize();\n  $$.transformAll(false);\n};\n\nChartInternal.prototype.observeInserted = function(selection) {\n  var $$ = this,\n    observer;\n  if (typeof MutationObserver === 'undefined') {\n    window.console.error('MutationObserver not defined.');\n    return\n  }\n  observer = new MutationObserver(function(mutations) {\n    mutations.forEach(function(mutation) {\n      if (mutation.type === 'childList' && mutation.previousSibling) {\n        observer.disconnect();\n        // need to wait for completion of load because size calculation requires the actual sizes determined after that completion\n        $$.intervalForObserveInserted = window.setInterval(function() {\n          // parentNode will NOT be null when completed\n          if (selection.node().parentNode) {\n            window.clearInterval($$.intervalForObserveInserted);\n            $$.updateDimension();\n            if ($$.brush) {\n              $$.brush.update();\n            }\n            $$.config.oninit.call($$);\n            $$.redraw({\n              withTransform: true,\n              withUpdateXDomain: true,\n              withUpdateOrgXDomain: true,\n              withTransition: false,\n              withTransitionForTransform: false,\n              withLegend: true\n            });\n            selection.transition().style('opacity', 1);\n          }\n        }, 10);\n      }\n    });\n  });\n  observer.observe(selection.node(), {\n    attributes: true,\n    childList: true,\n    characterData: true\n  });\n};\n\n/**\n * Binds handlers to the window resize event.\n */\nChartInternal.prototype.bindResize = function() {\n  var $$ = this,\n    config = $$.config;\n\n  $$.resizeFunction = $$.generateResize(); // need to call .remove\n\n  $$.resizeFunction.add(function() {\n    config.onresize.call($$);\n  });\n  if (config.resize_auto) {\n    $$.resizeFunction.add(function() {\n      if ($$.resizeTimeout !== undefined) {\n        window.clearTimeout($$.resizeTimeout);\n      }\n      $$.resizeTimeout = window.setTimeout(function() {\n        delete $$.resizeTimeout;\n        $$.updateAndRedraw({\n          withUpdateXDomain: false,\n          withUpdateOrgXDomain: false,\n          withTransition: false,\n          withTransitionForTransform: false,\n          withLegend: true\n        });\n        if ($$.brush) {\n          $$.brush.update();\n        }\n      }, 100);\n    });\n  }\n  $$.resizeFunction.add(function() {\n    config.onresized.call($$);\n  });\n\n  $$.resizeIfElementDisplayed = function() {\n    // if element not displayed skip it\n    if ($$.api == null || !$$.api.element.offsetParent) {\n      return\n    }\n\n    $$.resizeFunction();\n  };\n\n  if (window.attachEvent) {\n    window.attachEvent('onresize', $$.resizeIfElementDisplayed);\n  } else if (window.addEventListener) {\n    window.addEventListener('resize', $$.resizeIfElementDisplayed, false);\n  } else {\n    // fallback to this, if this is a very old browser\n    var wrapper = window.onresize;\n    if (!wrapper) {\n      // create a wrapper that will call all charts\n      wrapper = $$.generateResize();\n    } else if (!wrapper.add || !wrapper.remove) {\n      // there is already a handler registered, make sure we call it too\n      wrapper = $$.generateResize();\n      wrapper.add(window.onresize);\n    }\n    // add this graph to the wrapper, we will be removed if the user calls destroy\n    wrapper.add($$.resizeFunction);\n    window.onresize = function() {\n      // if element not displayed skip it\n      if (!$$.api.element.offsetParent) {\n        return\n      }\n\n      wrapper();\n    };\n  }\n};\n\n/**\n * Binds handlers to the window focus event.\n */\nChartInternal.prototype.bindWindowFocus = function() {\n  if (this.windowFocusHandler) {\n    // The handler is already set\n    return\n  }\n\n  this.windowFocusHandler = () => {\n    this.redraw();\n  };\n\n  window.addEventListener('focus', this.windowFocusHandler);\n};\n\n/**\n * Unbinds from the window focus event.\n */\nChartInternal.prototype.unbindWindowFocus = function() {\n  window.removeEventListener('focus', this.windowFocusHandler);\n  delete this.windowFocusHandler;\n};\n\nChartInternal.prototype.generateResize = function() {\n  var resizeFunctions = [];\n\n  function callResizeFunctions() {\n    resizeFunctions.forEach(function(f) {\n      f();\n    });\n  }\n  callResizeFunctions.add = function(f) {\n    resizeFunctions.push(f);\n  };\n  callResizeFunctions.remove = function(f) {\n    for (var i = 0; i < resizeFunctions.length; i++) {\n      if (resizeFunctions[i] === f) {\n        resizeFunctions.splice(i, 1);\n        break\n      }\n    }\n  };\n  return callResizeFunctions\n};\n\nChartInternal.prototype.endall = function(transition, callback) {\n  var n = 0;\n  transition\n    .each(function() {\n      ++n;\n    })\n    .on('end', function() {\n      if (!--n) {\n        callback.apply(this, arguments);\n      }\n    });\n};\nChartInternal.prototype.generateWait = function() {\n  var $$ = this;\n  var transitionsToWait = [],\n    f = function(callback) {\n      var timer = setInterval(function() {\n        if (!$$.isTabVisible()) {\n          return\n        }\n\n        var done = 0;\n        transitionsToWait.forEach(function(t) {\n          if (t.empty()) {\n            done += 1;\n            return\n          }\n          try {\n            t.transition();\n          } catch (e) {\n            done += 1;\n          }\n        });\n        if (done === transitionsToWait.length) {\n          clearInterval(timer);\n          if (callback) {\n            callback();\n          }\n        }\n      }, 50);\n    };\n  f.add = function(transition) {\n    transitionsToWait.push(transition);\n  };\n  return f\n};\n\nChartInternal.prototype.parseDate = function(date) {\n  var $$ = this,\n    parsedDate;\n  if (date instanceof Date) {\n    parsedDate = date;\n  } else if (typeof date === 'string') {\n    parsedDate = $$.dataTimeParse(date);\n  } else if (typeof date === 'object') {\n    parsedDate = new Date(+date);\n  } else if (typeof date === 'number' && !isNaN(date)) {\n    parsedDate = new Date(+date);\n  }\n  if (!parsedDate || isNaN(+parsedDate)) {\n    window.console.error(\"Failed to parse x '\" + date + \"' to Date object\");\n  }\n  return parsedDate\n};\n\nChartInternal.prototype.isTabVisible = function() {\n  return !document.hidden\n};\n\nChartInternal.prototype.getPathBox = getPathBox;\nChartInternal.prototype.CLASS = CLASS;\n\n/* jshint ignore:start */\n(function() {\n  if (!('SVGPathSeg' in window)) {\n    // Spec: http://www.w3.org/TR/SVG11/single-page.html#paths-InterfaceSVGPathSeg\n    window.SVGPathSeg = function(type, typeAsLetter, owningPathSegList) {\n      this.pathSegType = type;\n      this.pathSegTypeAsLetter = typeAsLetter;\n      this._owningPathSegList = owningPathSegList;\n    };\n\n    window.SVGPathSeg.prototype.classname = 'SVGPathSeg';\n\n    window.SVGPathSeg.PATHSEG_UNKNOWN = 0;\n    window.SVGPathSeg.PATHSEG_CLOSEPATH = 1;\n    window.SVGPathSeg.PATHSEG_MOVETO_ABS = 2;\n    window.SVGPathSeg.PATHSEG_MOVETO_REL = 3;\n    window.SVGPathSeg.PATHSEG_LINETO_ABS = 4;\n    window.SVGPathSeg.PATHSEG_LINETO_REL = 5;\n    window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS = 6;\n    window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL = 7;\n    window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS = 8;\n    window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL = 9;\n    window.SVGPathSeg.PATHSEG_ARC_ABS = 10;\n    window.SVGPathSeg.PATHSEG_ARC_REL = 11;\n    window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS = 12;\n    window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL = 13;\n    window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS = 14;\n    window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL = 15;\n    window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS = 16;\n    window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL = 17;\n    window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS = 18;\n    window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL = 19;\n\n    // Notify owning PathSegList on any changes so they can be synchronized back to the path element.\n    window.SVGPathSeg.prototype._segmentChanged = function() {\n      if (this._owningPathSegList) this._owningPathSegList.segmentChanged(this);\n    };\n\n    window.SVGPathSegClosePath = function(owningPathSegList) {\n      window.SVGPathSeg.call(\n        this,\n        window.SVGPathSeg.PATHSEG_CLOSEPATH,\n        'z',\n        owningPathSegList\n      );\n    };\n    window.SVGPathSegClosePath.prototype = Object.create(\n      window.SVGPathSeg.prototype\n    );\n    window.SVGPathSegClosePath.prototype.toString = function() {\n      return '[object SVGPathSegClosePath]'\n    };\n    window.SVGPathSegClosePath.prototype._asPathString = function() {\n      return this.pathSegTypeAsLetter\n    };\n    window.SVGPathSegClosePath.prototype.clone = function() {\n      return new window.SVGPathSegClosePath(undefined)\n    };\n\n    window.SVGPathSegMovetoAbs = function(owningPathSegList, x, y) {\n      window.SVGPathSeg.call(\n        this,\n        window.SVGPathSeg.PATHSEG_MOVETO_ABS,\n        'M',\n        owningPathSegList\n      );\n      this._x = x;\n      this._y = y;\n    };\n    window.SVGPathSegMovetoAbs.prototype = Object.create(\n      window.SVGPathSeg.prototype\n    );\n    window.SVGPathSegMovetoAbs.prototype.toString = function() {\n      return '[object SVGPathSegMovetoAbs]'\n    };\n    window.SVGPathSegMovetoAbs.prototype._asPathString = function() {\n      return this.pathSegTypeAsLetter + ' ' + this._x + ' ' + this._y\n    };\n    window.SVGPathSegMovetoAbs.prototype.clone = function() {\n      return new window.SVGPathSegMovetoAbs(undefined, this._x, this._y)\n    };\n    Object.defineProperty(window.SVGPathSegMovetoAbs.prototype, 'x', {\n      get: function() {\n        return this._x\n      },\n      set: function(x) {\n        this._x = x;\n        this._segmentChanged();\n      },\n      enumerable: true\n    });\n    Object.defineProperty(window.SVGPathSegMovetoAbs.prototype, 'y', {\n      get: function() {\n        return this._y\n      },\n      set: function(y) {\n        this._y = y;\n        this._segmentChanged();\n      },\n      enumerable: true\n    });\n\n    window.SVGPathSegMovetoRel = function(owningPathSegList, x, y) {\n      window.SVGPathSeg.call(\n        this,\n        window.SVGPathSeg.PATHSEG_MOVETO_REL,\n        'm',\n        owningPathSegList\n      );\n      this._x = x;\n      this._y = y;\n    };\n    window.SVGPathSegMovetoRel.prototype = Object.create(\n      window.SVGPathSeg.prototype\n    );\n    window.SVGPathSegMovetoRel.prototype.toString = function() {\n      return '[object SVGPathSegMovetoRel]'\n    };\n    window.SVGPathSegMovetoRel.prototype._asPathString = function() {\n      return this.pathSegTypeAsLetter + ' ' + this._x + ' ' + this._y\n    };\n    window.SVGPathSegMovetoRel.prototype.clone = function() {\n      return new window.SVGPathSegMovetoRel(undefined, this._x, this._y)\n    };\n    Object.defineProperty(window.SVGPathSegMovetoRel.prototype, 'x', {\n      get: function() {\n        return this._x\n      },\n      set: function(x) {\n        this._x = x;\n        this._segmentChanged();\n      },\n      enumerable: true\n    });\n    Object.defineProperty(window.SVGPathSegMovetoRel.prototype, 'y', {\n      get: function() {\n        return this._y\n      },\n      set: function(y) {\n        this._y = y;\n        this._segmentChanged();\n      },\n      enumerable: true\n    });\n\n    window.SVGPathSegLinetoAbs = function(owningPathSegList, x, y) {\n      window.SVGPathSeg.call(\n        this,\n        window.SVGPathSeg.PATHSEG_LINETO_ABS,\n        'L',\n        owningPathSegList\n      );\n      this._x = x;\n      this._y = y;\n    };\n    window.SVGPathSegLinetoAbs.prototype = Object.create(\n      window.SVGPathSeg.prototype\n    );\n    window.SVGPathSegLinetoAbs.prototype.toString = function() {\n      return '[object SVGPathSegLinetoAbs]'\n    };\n    window.SVGPathSegLinetoAbs.prototype._asPathString = function() {\n      return this.pathSegTypeAsLetter + ' ' + this._x + ' ' + this._y\n    };\n    window.SVGPathSegLinetoAbs.prototype.clone = function() {\n      return new window.SVGPathSegLinetoAbs(undefined, this._x, this._y)\n    };\n    Object.defineProperty(window.SVGPathSegLinetoAbs.prototype, 'x', {\n      get: function() {\n        return this._x\n      },\n      set: function(x) {\n        this._x = x;\n        this._segmentChanged();\n      },\n      enumerable: true\n    });\n    Object.defineProperty(window.SVGPathSegLinetoAbs.prototype, 'y', {\n      get: function() {\n        return this._y\n      },\n      set: function(y) {\n        this._y = y;\n        this._segmentChanged();\n      },\n      enumerable: true\n    });\n\n    window.SVGPathSegLinetoRel = function(owningPathSegList, x, y) {\n      window.SVGPathSeg.call(\n        this,\n        window.SVGPathSeg.PATHSEG_LINETO_REL,\n        'l',\n        owningPathSegList\n      );\n      this._x = x;\n      this._y = y;\n    };\n    window.SVGPathSegLinetoRel.prototype = Object.create(\n      window.SVGPathSeg.prototype\n    );\n    window.SVGPathSegLinetoRel.prototype.toString = function() {\n      return '[object SVGPathSegLinetoRel]'\n    };\n    window.SVGPathSegLinetoRel.prototype._asPathString = function() {\n      return this.pathSegTypeAsLetter + ' ' + this._x + ' ' + this._y\n    };\n    window.SVGPathSegLinetoRel.prototype.clone = function() {\n      return new window.SVGPathSegLinetoRel(undefined, this._x, this._y)\n    };\n    Object.defineProperty(window.SVGPathSegLinetoRel.prototype, 'x', {\n      get: function() {\n        return this._x\n      },\n      set: function(x) {\n        this._x = x;\n        this._segmentChanged();\n      },\n      enumerable: true\n    });\n    Object.defineProperty(window.SVGPathSegLinetoRel.prototype, 'y', {\n      get: function() {\n        return this._y\n      },\n      set: function(y) {\n        this._y = y;\n        this._segmentChanged();\n      },\n      enumerable: true\n    });\n\n    window.SVGPathSegCurvetoCubicAbs = function(\n      owningPathSegList,\n      x,\n      y,\n      x1,\n      y1,\n      x2,\n      y2\n    ) {\n      window.SVGPathSeg.call(\n        this,\n        window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,\n        'C',\n        owningPathSegList\n      );\n      this._x = x;\n      this._y = y;\n      this._x1 = x1;\n      this._y1 = y1;\n      this._x2 = x2;\n      this._y2 = y2;\n    };\n    window.SVGPathSegCurvetoCubicAbs.prototype = Object.create(\n      window.SVGPathSeg.prototype\n    );\n    window.SVGPathSegCurvetoCubicAbs.prototype.toString = function() {\n      return '[object SVGPathSegCurvetoCubicAbs]'\n    };\n    window.SVGPathSegCurvetoCubicAbs.prototype._asPathString = function() {\n      return (\n        this.pathSegTypeAsLetter +\n        ' ' +\n        this._x1 +\n        ' ' +\n        this._y1 +\n        ' ' +\n        this._x2 +\n        ' ' +\n        this._y2 +\n        ' ' +\n        this._x +\n        ' ' +\n        this._y\n      )\n    };\n    window.SVGPathSegCurvetoCubicAbs.prototype.clone = function() {\n      return new window.SVGPathSegCurvetoCubicAbs(\n        undefined,\n        this._x,\n        this._y,\n        this._x1,\n        this._y1,\n        this._x2,\n        this._y2\n      )\n    };\n    Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype, 'x', {\n      get: function() {\n        return this._x\n      },\n      set: function(x) {\n        this._x = x;\n        this._segmentChanged();\n      },\n      enumerable: true\n    });\n    Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype, 'y', {\n      get: function() {\n        return this._y\n      },\n      set: function(y) {\n        this._y = y;\n        this._segmentChanged();\n      },\n      enumerable: true\n    });\n    Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype, 'x1', {\n      get: function() {\n        return this._x1\n      },\n      set: function(x1) {\n        this._x1 = x1;\n        this._segmentChanged();\n      },\n      enumerable: true\n    });\n    Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype, 'y1', {\n      get: function() {\n        return this._y1\n      },\n      set: function(y1) {\n        this._y1 = y1;\n        this._segmentChanged();\n      },\n      enumerable: true\n    });\n    Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype, 'x2', {\n      get: function() {\n        return this._x2\n      },\n      set: function(x2) {\n        this._x2 = x2;\n        this._segmentChanged();\n      },\n      enumerable: true\n    });\n    Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype, 'y2', {\n      get: function() {\n        return this._y2\n      },\n      set: function(y2) {\n        this._y2 = y2;\n        this._segmentChanged();\n      },\n      enumerable: true\n    });\n\n    window.SVGPathSegCurvetoCubicRel = function(\n      owningPathSegList,\n      x,\n      y,\n      x1,\n      y1,\n      x2,\n      y2\n    ) {\n      window.SVGPathSeg.call(\n        this,\n        window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,\n        'c',\n        owningPathSegList\n      );\n      this._x = x;\n      this._y = y;\n      this._x1 = x1;\n      this._y1 = y1;\n      this._x2 = x2;\n      this._y2 = y2;\n    };\n    window.SVGPathSegCurvetoCubicRel.prototype = Object.create(\n      window.SVGPathSeg.prototype\n    );\n    window.SVGPathSegCurvetoCubicRel.prototype.toString = function() {\n      return '[object SVGPathSegCurvetoCubicRel]'\n    };\n    window.SVGPathSegCurvetoCubicRel.prototype._asPathString = function() {\n      return (\n        this.pathSegTypeAsLetter +\n        ' ' +\n        this._x1 +\n        ' ' +\n        this._y1 +\n        ' ' +\n        this._x2 +\n        ' ' +\n        this._y2 +\n        ' ' +\n        this._x +\n        ' ' +\n        this._y\n      )\n    };\n    window.SVGPathSegCurvetoCubicRel.prototype.clone = function() {\n      return new window.SVGPathSegCurvetoCubicRel(\n        undefined,\n        this._x,\n        this._y,\n        this._x1,\n        this._y1,\n        this._x2,\n        this._y2\n      )\n    };\n    Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype, 'x', {\n      get: function() {\n        return this._x\n      },\n      set: function(x) {\n        this._x = x;\n        this._segmentChanged();\n      },\n      enumerable: true\n    });\n    Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype, 'y', {\n      get: function() {\n        return this._y\n      },\n      set: function(y) {\n        this._y = y;\n        this._segmentChanged();\n      },\n      enumerable: true\n    });\n    Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype, 'x1', {\n      get: function() {\n        return this._x1\n      },\n      set: function(x1) {\n        this._x1 = x1;\n        this._segmentChanged();\n      },\n      enumerable: true\n    });\n    Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype, 'y1', {\n      get: function() {\n        return this._y1\n      },\n      set: function(y1) {\n        this._y1 = y1;\n        this._segmentChanged();\n      },\n      enumerable: true\n    });\n    Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype, 'x2', {\n      get: function() {\n        return this._x2\n      },\n      set: function(x2) {\n        this._x2 = x2;\n        this._segmentChanged();\n      },\n      enumerable: true\n    });\n    Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype, 'y2', {\n      get: function() {\n        return this._y2\n      },\n      set: function(y2) {\n        this._y2 = y2;\n        this._segmentChanged();\n      },\n      enumerable: true\n    });\n\n    window.SVGPathSegCurvetoQuadraticAbs = function(\n      owningPathSegList,\n      x,\n      y,\n      x1,\n      y1\n    ) {\n      window.SVGPathSeg.call(\n        this,\n        window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,\n        'Q',\n        owningPathSegList\n      );\n      this._x = x;\n      this._y = y;\n      this._x1 = x1;\n      this._y1 = y1;\n    };\n    window.SVGPathSegCurvetoQuadraticAbs.prototype = Object.create(\n      window.SVGPathSeg.prototype\n    );\n    window.SVGPathSegCurvetoQuadraticAbs.prototype.toString = function() {\n      return '[object SVGPathSegCurvetoQuadraticAbs]'\n    };\n    window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString = function() {\n      return (\n        this.pathSegTypeAsLetter +\n        ' ' +\n        this._x1 +\n        ' ' +\n        this._y1 +\n        ' ' +\n        this._x +\n        ' ' +\n        this._y\n      )\n    };\n    window.SVGPathSegCurvetoQuadraticAbs.prototype.clone = function() {\n      return new window.SVGPathSegCurvetoQuadraticAbs(\n        undefined,\n        this._x,\n        this._y,\n        this._x1,\n        this._y1\n      )\n    };\n    Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype, 'x', {\n      get: function() {\n        return this._x\n      },\n      set: function(x) {\n        this._x = x;\n        this._segmentChanged();\n      },\n      enumerable: true\n    });\n    Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype, 'y', {\n      get: function() {\n        return this._y\n      },\n      set: function(y) {\n        this._y = y;\n        this._segmentChanged();\n      },\n      enumerable: true\n    });\n    Object.defineProperty(\n      window.SVGPathSegCurvetoQuadraticAbs.prototype,\n      'x1',\n      {\n        get: function() {\n          return this._x1\n        },\n        set: function(x1) {\n          this._x1 = x1;\n          this._segmentChanged();\n        },\n        enumerable: true\n      }\n    );\n    Object.defineProperty(\n      window.SVGPathSegCurvetoQuadraticAbs.prototype,\n      'y1',\n      {\n        get: function() {\n          return this._y1\n        },\n        set: function(y1) {\n          this._y1 = y1;\n          this._segmentChanged();\n        },\n        enumerable: true\n      }\n    );\n\n    window.SVGPathSegCurvetoQuadraticRel = function(\n      owningPathSegList,\n      x,\n      y,\n      x1,\n      y1\n    ) {\n      window.SVGPathSeg.call(\n        this,\n        window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,\n        'q',\n        owningPathSegList\n      );\n      this._x = x;\n      this._y = y;\n      this._x1 = x1;\n      this._y1 = y1;\n    };\n    window.SVGPathSegCurvetoQuadraticRel.prototype = Object.create(\n      window.SVGPathSeg.prototype\n    );\n    window.SVGPathSegCurvetoQuadraticRel.prototype.toString = function() {\n      return '[object SVGPathSegCurvetoQuadraticRel]'\n    };\n    window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString = function() {\n      return (\n        this.pathSegTypeAsLetter +\n        ' ' +\n        this._x1 +\n        ' ' +\n        this._y1 +\n        ' ' +\n        this._x +\n        ' ' +\n        this._y\n      )\n    };\n    window.SVGPathSegCurvetoQuadraticRel.prototype.clone = function() {\n      return new window.SVGPathSegCurvetoQuadraticRel(\n        undefined,\n        this._x,\n        this._y,\n        this._x1,\n        this._y1\n      )\n    };\n    Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype, 'x', {\n      get: function() {\n        return this._x\n      },\n      set: function(x) {\n        this._x = x;\n        this._segmentChanged();\n      },\n      enumerable: true\n    });\n    Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype, 'y', {\n      get: function() {\n        return this._y\n      },\n      set: function(y) {\n        this._y = y;\n        this._segmentChanged();\n      },\n      enumerable: true\n    });\n    Object.defineProperty(\n      window.SVGPathSegCurvetoQuadraticRel.prototype,\n      'x1',\n      {\n        get: function() {\n          return this._x1\n        },\n        set: function(x1) {\n          this._x1 = x1;\n          this._segmentChanged();\n        },\n        enumerable: true\n      }\n    );\n    Object.defineProperty(\n      window.SVGPathSegCurvetoQuadraticRel.prototype,\n      'y1',\n      {\n        get: function() {\n          return this._y1\n        },\n        set: function(y1) {\n          this._y1 = y1;\n          this._segmentChanged();\n        },\n        enumerable: true\n      }\n    );\n\n    window.SVGPathSegArcAbs = function(\n      owningPathSegList,\n      x,\n      y,\n      r1,\n      r2,\n      angle,\n      largeArcFlag,\n      sweepFlag\n    ) {\n      window.SVGPathSeg.call(\n        this,\n        window.SVGPathSeg.PATHSEG_ARC_ABS,\n        'A',\n        owningPathSegList\n      );\n      this._x = x;\n      this._y = y;\n      this._r1 = r1;\n      this._r2 = r2;\n      this._angle = angle;\n      this._largeArcFlag = largeArcFlag;\n      this._sweepFlag = sweepFlag;\n    };\n    window.SVGPathSegArcAbs.prototype = Object.create(\n      window.SVGPathSeg.prototype\n    );\n    window.SVGPathSegArcAbs.prototype.toString = function() {\n      return '[object SVGPathSegArcAbs]'\n    };\n    window.SVGPathSegArcAbs.prototype._asPathString = function() {\n      return (\n        this.pathSegTypeAsLetter +\n        ' ' +\n        this._r1 +\n        ' ' +\n        this._r2 +\n        ' ' +\n        this._angle +\n        ' ' +\n        (this._largeArcFlag ? '1' : '0') +\n        ' ' +\n        (this._sweepFlag ? '1' : '0') +\n        ' ' +\n        this._x +\n        ' ' +\n        this._y\n      )\n    };\n    window.SVGPathSegArcAbs.prototype.clone = function() {\n      return new window.SVGPathSegArcAbs(\n        undefined,\n        this._x,\n        this._y,\n        this._r1,\n        this._r2,\n        this._angle,\n        this._largeArcFlag,\n        this._sweepFlag\n      )\n    };\n    Object.defineProperty(window.SVGPathSegArcAbs.prototype, 'x', {\n      get: function() {\n        return this._x\n      },\n      set: function(x) {\n        this._x = x;\n        this._segmentChanged();\n      },\n      enumerable: true\n    });\n    Object.defineProperty(window.SVGPathSegArcAbs.prototype, 'y', {\n      get: function() {\n        return this._y\n      },\n      set: function(y) {\n        this._y = y;\n        this._segmentChanged();\n      },\n      enumerable: true\n    });\n    Object.defineProperty(window.SVGPathSegArcAbs.prototype, 'r1', {\n      get: function() {\n        return this._r1\n      },\n      set: function(r1) {\n        this._r1 = r1;\n        this._segmentChanged();\n      },\n      enumerable: true\n    });\n    Object.defineProperty(window.SVGPathSegArcAbs.prototype, 'r2', {\n      get: function() {\n        return this._r2\n      },\n      set: function(r2) {\n        this._r2 = r2;\n        this._segmentChanged();\n      },\n      enumerable: true\n    });\n    Object.defineProperty(window.SVGPathSegArcAbs.prototype, 'angle', {\n      get: function() {\n        return this._angle\n      },\n      set: function(angle) {\n        this._angle = angle;\n        this._segmentChanged();\n      },\n      enumerable: true\n    });\n    Object.defineProperty(window.SVGPathSegArcAbs.prototype, 'largeArcFlag', {\n      get: function() {\n        return this._largeArcFlag\n      },\n      set: function(largeArcFlag) {\n        this._largeArcFlag = largeArcFlag;\n        this._segmentChanged();\n      },\n      enumerable: true\n    });\n    Object.defineProperty(window.SVGPathSegArcAbs.prototype, 'sweepFlag', {\n      get: function() {\n        return this._sweepFlag\n      },\n      set: function(sweepFlag) {\n        this._sweepFlag = sweepFlag;\n        this._segmentChanged();\n      },\n      enumerable: true\n    });\n\n    window.SVGPathSegArcRel = function(\n      owningPathSegList,\n      x,\n      y,\n      r1,\n      r2,\n      angle,\n      largeArcFlag,\n      sweepFlag\n    ) {\n      window.SVGPathSeg.call(\n        this,\n        window.SVGPathSeg.PATHSEG_ARC_REL,\n        'a',\n        owningPathSegList\n      );\n      this._x = x;\n      this._y = y;\n      this._r1 = r1;\n      this._r2 = r2;\n      this._angle = angle;\n      this._largeArcFlag = largeArcFlag;\n      this._sweepFlag = sweepFlag;\n    };\n    window.SVGPathSegArcRel.prototype = Object.create(\n      window.SVGPathSeg.prototype\n    );\n    window.SVGPathSegArcRel.prototype.toString = function() {\n      return '[object SVGPathSegArcRel]'\n    };\n    window.SVGPathSegArcRel.prototype._asPathString = function() {\n      return (\n        this.pathSegTypeAsLetter +\n        ' ' +\n        this._r1 +\n        ' ' +\n        this._r2 +\n        ' ' +\n        this._angle +\n        ' ' +\n        (this._largeArcFlag ? '1' : '0') +\n        ' ' +\n        (this._sweepFlag ? '1' : '0') +\n        ' ' +\n        this._x +\n        ' ' +\n        this._y\n      )\n    };\n    window.SVGPathSegArcRel.prototype.clone = function() {\n      return new window.SVGPathSegArcRel(\n        undefined,\n        this._x,\n        this._y,\n        this._r1,\n        this._r2,\n        this._angle,\n        this._largeArcFlag,\n        this._sweepFlag\n      )\n    };\n    Object.defineProperty(window.SVGPathSegArcRel.prototype, 'x', {\n      get: function() {\n        return this._x\n      },\n      set: function(x) {\n        this._x = x;\n        this._segmentChanged();\n      },\n      enumerable: true\n    });\n    Object.defineProperty(window.SVGPathSegArcRel.prototype, 'y', {\n      get: function() {\n        return this._y\n      },\n      set: function(y) {\n        this._y = y;\n        this._segmentChanged();\n      },\n      enumerable: true\n    });\n    Object.defineProperty(window.SVGPathSegArcRel.prototype, 'r1', {\n      get: function() {\n        return this._r1\n      },\n      set: function(r1) {\n        this._r1 = r1;\n        this._segmentChanged();\n      },\n      enumerable: true\n    });\n    Object.defineProperty(window.SVGPathSegArcRel.prototype, 'r2', {\n      get: function() {\n        return this._r2\n      },\n      set: function(r2) {\n        this._r2 = r2;\n        this._segmentChanged();\n      },\n      enumerable: true\n    });\n    Object.defineProperty(window.SVGPathSegArcRel.prototype, 'angle', {\n      get: function() {\n        return this._angle\n      },\n      set: function(angle) {\n        this._angle = angle;\n        this._segmentChanged();\n      },\n      enumerable: true\n    });\n    Object.defineProperty(window.SVGPathSegArcRel.prototype, 'largeArcFlag', {\n      get: function() {\n        return this._largeArcFlag\n      },\n      set: function(largeArcFlag) {\n        this._largeArcFlag = largeArcFlag;\n        this._segmentChanged();\n      },\n      enumerable: true\n    });\n    Object.defineProperty(window.SVGPathSegArcRel.prototype, 'sweepFlag', {\n      get: function() {\n        return this._sweepFlag\n      },\n      set: function(sweepFlag) {\n        this._sweepFlag = sweepFlag;\n        this._segmentChanged();\n      },\n      enumerable: true\n    });\n\n    window.SVGPathSegLinetoHorizontalAbs = function(owningPathSegList, x) {\n      window.SVGPathSeg.call(\n        this,\n        window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,\n        'H',\n        owningPathSegList\n      );\n      this._x = x;\n    };\n    window.SVGPathSegLinetoHorizontalAbs.prototype = Object.create(\n      window.SVGPathSeg.prototype\n    );\n    window.SVGPathSegLinetoHorizontalAbs.prototype.toString = function() {\n      return '[object SVGPathSegLinetoHorizontalAbs]'\n    };\n    window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString = function() {\n      return this.pathSegTypeAsLetter + ' ' + this._x\n    };\n    window.SVGPathSegLinetoHorizontalAbs.prototype.clone = function() {\n      return new window.SVGPathSegLinetoHorizontalAbs(undefined, this._x)\n    };\n    Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype, 'x', {\n      get: function() {\n        return this._x\n      },\n      set: function(x) {\n        this._x = x;\n        this._segmentChanged();\n      },\n      enumerable: true\n    });\n\n    window.SVGPathSegLinetoHorizontalRel = function(owningPathSegList, x) {\n      window.SVGPathSeg.call(\n        this,\n        window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,\n        'h',\n        owningPathSegList\n      );\n      this._x = x;\n    };\n    window.SVGPathSegLinetoHorizontalRel.prototype = Object.create(\n      window.SVGPathSeg.prototype\n    );\n    window.SVGPathSegLinetoHorizontalRel.prototype.toString = function() {\n      return '[object SVGPathSegLinetoHorizontalRel]'\n    };\n    window.SVGPathSegLinetoHorizontalRel.prototype._asPathString = function() {\n      return this.pathSegTypeAsLetter + ' ' + this._x\n    };\n    window.SVGPathSegLinetoHorizontalRel.prototype.clone = function() {\n      return new window.SVGPathSegLinetoHorizontalRel(undefined, this._x)\n    };\n    Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype, 'x', {\n      get: function() {\n        return this._x\n      },\n      set: function(x) {\n        this._x = x;\n        this._segmentChanged();\n      },\n      enumerable: true\n    });\n\n    window.SVGPathSegLinetoVerticalAbs = function(owningPathSegList, y) {\n      window.SVGPathSeg.call(\n        this,\n        window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,\n        'V',\n        owningPathSegList\n      );\n      this._y = y;\n    };\n    window.SVGPathSegLinetoVerticalAbs.prototype = Object.create(\n      window.SVGPathSeg.prototype\n    );\n    window.SVGPathSegLinetoVerticalAbs.prototype.toString = function() {\n      return '[object SVGPathSegLinetoVerticalAbs]'\n    };\n    window.SVGPathSegLinetoVerticalAbs.prototype._asPathString = function() {\n      return this.pathSegTypeAsLetter + ' ' + this._y\n    };\n    window.SVGPathSegLinetoVerticalAbs.prototype.clone = function() {\n      return new window.SVGPathSegLinetoVerticalAbs(undefined, this._y)\n    };\n    Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype, 'y', {\n      get: function() {\n        return this._y\n      },\n      set: function(y) {\n        this._y = y;\n        this._segmentChanged();\n      },\n      enumerable: true\n    });\n\n    window.SVGPathSegLinetoVerticalRel = function(owningPathSegList, y) {\n      window.SVGPathSeg.call(\n        this,\n        window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,\n        'v',\n        owningPathSegList\n      );\n      this._y = y;\n    };\n    window.SVGPathSegLinetoVerticalRel.prototype = Object.create(\n      window.SVGPathSeg.prototype\n    );\n    window.SVGPathSegLinetoVerticalRel.prototype.toString = function() {\n      return '[object SVGPathSegLinetoVerticalRel]'\n    };\n    window.SVGPathSegLinetoVerticalRel.prototype._asPathString = function() {\n      return this.pathSegTypeAsLetter + ' ' + this._y\n    };\n    window.SVGPathSegLinetoVerticalRel.prototype.clone = function() {\n      return new window.SVGPathSegLinetoVerticalRel(undefined, this._y)\n    };\n    Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype, 'y', {\n      get: function() {\n        return this._y\n      },\n      set: function(y) {\n        this._y = y;\n        this._segmentChanged();\n      },\n      enumerable: true\n    });\n\n    window.SVGPathSegCurvetoCubicSmoothAbs = function(\n      owningPathSegList,\n      x,\n      y,\n      x2,\n      y2\n    ) {\n      window.SVGPathSeg.call(\n        this,\n        window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,\n        'S',\n        owningPathSegList\n      );\n      this._x = x;\n      this._y = y;\n      this._x2 = x2;\n      this._y2 = y2;\n    };\n    window.SVGPathSegCurvetoCubicSmoothAbs.prototype = Object.create(\n      window.SVGPathSeg.prototype\n    );\n    window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString = function() {\n      return '[object SVGPathSegCurvetoCubicSmoothAbs]'\n    };\n    window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString = function() {\n      return (\n        this.pathSegTypeAsLetter +\n        ' ' +\n        this._x2 +\n        ' ' +\n        this._y2 +\n        ' ' +\n        this._x +\n        ' ' +\n        this._y\n      )\n    };\n    window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone = function() {\n      return new window.SVGPathSegCurvetoCubicSmoothAbs(\n        undefined,\n        this._x,\n        this._y,\n        this._x2,\n        this._y2\n      )\n    };\n    Object.defineProperty(\n      window.SVGPathSegCurvetoCubicSmoothAbs.prototype,\n      'x',\n      {\n        get: function() {\n          return this._x\n        },\n        set: function(x) {\n          this._x = x;\n          this._segmentChanged();\n        },\n        enumerable: true\n      }\n    );\n    Object.defineProperty(\n      window.SVGPathSegCurvetoCubicSmoothAbs.prototype,\n      'y',\n      {\n        get: function() {\n          return this._y\n        },\n        set: function(y) {\n          this._y = y;\n          this._segmentChanged();\n        },\n        enumerable: true\n      }\n    );\n    Object.defineProperty(\n      window.SVGPathSegCurvetoCubicSmoothAbs.prototype,\n      'x2',\n      {\n        get: function() {\n          return this._x2\n        },\n        set: function(x2) {\n          this._x2 = x2;\n          this._segmentChanged();\n        },\n        enumerable: true\n      }\n    );\n    Object.defineProperty(\n      window.SVGPathSegCurvetoCubicSmoothAbs.prototype,\n      'y2',\n      {\n        get: function() {\n          return this._y2\n        },\n        set: function(y2) {\n          this._y2 = y2;\n          this._segmentChanged();\n        },\n        enumerable: true\n      }\n    );\n\n    window.SVGPathSegCurvetoCubicSmoothRel = function(\n      owningPathSegList,\n      x,\n      y,\n      x2,\n      y2\n    ) {\n      window.SVGPathSeg.call(\n        this,\n        window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,\n        's',\n        owningPathSegList\n      );\n      this._x = x;\n      this._y = y;\n      this._x2 = x2;\n      this._y2 = y2;\n    };\n    window.SVGPathSegCurvetoCubicSmoothRel.prototype = Object.create(\n      window.SVGPathSeg.prototype\n    );\n    window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString = function() {\n      return '[object SVGPathSegCurvetoCubicSmoothRel]'\n    };\n    window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString = function() {\n      return (\n        this.pathSegTypeAsLetter +\n        ' ' +\n        this._x2 +\n        ' ' +\n        this._y2 +\n        ' ' +\n        this._x +\n        ' ' +\n        this._y\n      )\n    };\n    window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone = function() {\n      return new window.SVGPathSegCurvetoCubicSmoothRel(\n        undefined,\n        this._x,\n        this._y,\n        this._x2,\n        this._y2\n      )\n    };\n    Object.defineProperty(\n      window.SVGPathSegCurvetoCubicSmoothRel.prototype,\n      'x',\n      {\n        get: function() {\n          return this._x\n        },\n        set: function(x) {\n          this._x = x;\n          this._segmentChanged();\n        },\n        enumerable: true\n      }\n    );\n    Object.defineProperty(\n      window.SVGPathSegCurvetoCubicSmoothRel.prototype,\n      'y',\n      {\n        get: function() {\n          return this._y\n        },\n        set: function(y) {\n          this._y = y;\n          this._segmentChanged();\n        },\n        enumerable: true\n      }\n    );\n    Object.defineProperty(\n      window.SVGPathSegCurvetoCubicSmoothRel.prototype,\n      'x2',\n      {\n        get: function() {\n          return this._x2\n        },\n        set: function(x2) {\n          this._x2 = x2;\n          this._segmentChanged();\n        },\n        enumerable: true\n      }\n    );\n    Object.defineProperty(\n      window.SVGPathSegCurvetoCubicSmoothRel.prototype,\n      'y2',\n      {\n        get: function() {\n          return this._y2\n        },\n        set: function(y2) {\n          this._y2 = y2;\n          this._segmentChanged();\n        },\n        enumerable: true\n      }\n    );\n\n    window.SVGPathSegCurvetoQuadraticSmoothAbs = function(\n      owningPathSegList,\n      x,\n      y\n    ) {\n      window.SVGPathSeg.call(\n        this,\n        window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,\n        'T',\n        owningPathSegList\n      );\n      this._x = x;\n      this._y = y;\n    };\n    window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype = Object.create(\n      window.SVGPathSeg.prototype\n    );\n    window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString = function() {\n      return '[object SVGPathSegCurvetoQuadraticSmoothAbs]'\n    };\n    window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString = function() {\n      return this.pathSegTypeAsLetter + ' ' + this._x + ' ' + this._y\n    };\n    window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone = function() {\n      return new window.SVGPathSegCurvetoQuadraticSmoothAbs(\n        undefined,\n        this._x,\n        this._y\n      )\n    };\n    Object.defineProperty(\n      window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,\n      'x',\n      {\n        get: function() {\n          return this._x\n        },\n        set: function(x) {\n          this._x = x;\n          this._segmentChanged();\n        },\n        enumerable: true\n      }\n    );\n    Object.defineProperty(\n      window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,\n      'y',\n      {\n        get: function() {\n          return this._y\n        },\n        set: function(y) {\n          this._y = y;\n          this._segmentChanged();\n        },\n        enumerable: true\n      }\n    );\n\n    window.SVGPathSegCurvetoQuadraticSmoothRel = function(\n      owningPathSegList,\n      x,\n      y\n    ) {\n      window.SVGPathSeg.call(\n        this,\n        window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,\n        't',\n        owningPathSegList\n      );\n      this._x = x;\n      this._y = y;\n    };\n    window.SVGPathSegCurvetoQuadraticSmoothRel.prototype = Object.create(\n      window.SVGPathSeg.prototype\n    );\n    window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString = function() {\n      return '[object SVGPathSegCurvetoQuadraticSmoothRel]'\n    };\n    window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString = function() {\n      return this.pathSegTypeAsLetter + ' ' + this._x + ' ' + this._y\n    };\n    window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone = function() {\n      return new window.SVGPathSegCurvetoQuadraticSmoothRel(\n        undefined,\n        this._x,\n        this._y\n      )\n    };\n    Object.defineProperty(\n      window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,\n      'x',\n      {\n        get: function() {\n          return this._x\n        },\n        set: function(x) {\n          this._x = x;\n          this._segmentChanged();\n        },\n        enumerable: true\n      }\n    );\n    Object.defineProperty(\n      window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,\n      'y',\n      {\n        get: function() {\n          return this._y\n        },\n        set: function(y) {\n          this._y = y;\n          this._segmentChanged();\n        },\n        enumerable: true\n      }\n    );\n\n    // Add createSVGPathSeg* functions to window.SVGPathElement.\n    // Spec: http://www.w3.org/TR/SVG11/single-page.html#paths-Interfacewindow.SVGPathElement.\n    window.SVGPathElement.prototype.createSVGPathSegClosePath = function() {\n      return new window.SVGPathSegClosePath(undefined)\n    };\n    window.SVGPathElement.prototype.createSVGPathSegMovetoAbs = function(x, y) {\n      return new window.SVGPathSegMovetoAbs(undefined, x, y)\n    };\n    window.SVGPathElement.prototype.createSVGPathSegMovetoRel = function(x, y) {\n      return new window.SVGPathSegMovetoRel(undefined, x, y)\n    };\n    window.SVGPathElement.prototype.createSVGPathSegLinetoAbs = function(x, y) {\n      return new window.SVGPathSegLinetoAbs(undefined, x, y)\n    };\n    window.SVGPathElement.prototype.createSVGPathSegLinetoRel = function(x, y) {\n      return new window.SVGPathSegLinetoRel(undefined, x, y)\n    };\n    window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs = function(\n      x,\n      y,\n      x1,\n      y1,\n      x2,\n      y2\n    ) {\n      return new window.SVGPathSegCurvetoCubicAbs(\n        undefined,\n        x,\n        y,\n        x1,\n        y1,\n        x2,\n        y2\n      )\n    };\n    window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel = function(\n      x,\n      y,\n      x1,\n      y1,\n      x2,\n      y2\n    ) {\n      return new window.SVGPathSegCurvetoCubicRel(\n        undefined,\n        x,\n        y,\n        x1,\n        y1,\n        x2,\n        y2\n      )\n    };\n    window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs = function(\n      x,\n      y,\n      x1,\n      y1\n    ) {\n      return new window.SVGPathSegCurvetoQuadraticAbs(undefined, x, y, x1, y1)\n    };\n    window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel = function(\n      x,\n      y,\n      x1,\n      y1\n    ) {\n      return new window.SVGPathSegCurvetoQuadraticRel(undefined, x, y, x1, y1)\n    };\n    window.SVGPathElement.prototype.createSVGPathSegArcAbs = function(\n      x,\n      y,\n      r1,\n      r2,\n      angle,\n      largeArcFlag,\n      sweepFlag\n    ) {\n      return new window.SVGPathSegArcAbs(\n        undefined,\n        x,\n        y,\n        r1,\n        r2,\n        angle,\n        largeArcFlag,\n        sweepFlag\n      )\n    };\n    window.SVGPathElement.prototype.createSVGPathSegArcRel = function(\n      x,\n      y,\n      r1,\n      r2,\n      angle,\n      largeArcFlag,\n      sweepFlag\n    ) {\n      return new window.SVGPathSegArcRel(\n        undefined,\n        x,\n        y,\n        r1,\n        r2,\n        angle,\n        largeArcFlag,\n        sweepFlag\n      )\n    };\n    window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs = function(\n      x\n    ) {\n      return new window.SVGPathSegLinetoHorizontalAbs(undefined, x)\n    };\n    window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel = function(\n      x\n    ) {\n      return new window.SVGPathSegLinetoHorizontalRel(undefined, x)\n    };\n    window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs = function(\n      y\n    ) {\n      return new window.SVGPathSegLinetoVerticalAbs(undefined, y)\n    };\n    window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel = function(\n      y\n    ) {\n      return new window.SVGPathSegLinetoVerticalRel(undefined, y)\n    };\n    window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs = function(\n      x,\n      y,\n      x2,\n      y2\n    ) {\n      return new window.SVGPathSegCurvetoCubicSmoothAbs(undefined, x, y, x2, y2)\n    };\n    window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel = function(\n      x,\n      y,\n      x2,\n      y2\n    ) {\n      return new window.SVGPathSegCurvetoCubicSmoothRel(undefined, x, y, x2, y2)\n    };\n    window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs = function(\n      x,\n      y\n    ) {\n      return new window.SVGPathSegCurvetoQuadraticSmoothAbs(undefined, x, y)\n    };\n    window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel = function(\n      x,\n      y\n    ) {\n      return new window.SVGPathSegCurvetoQuadraticSmoothRel(undefined, x, y)\n    };\n\n    if (!('getPathSegAtLength' in window.SVGPathElement.prototype)) {\n      // Add getPathSegAtLength to SVGPathElement.\n      // Spec: https://www.w3.org/TR/SVG11/single-page.html#paths-__svg__SVGPathElement__getPathSegAtLength\n      // This polyfill requires SVGPathElement.getTotalLength to implement the distance-along-a-path algorithm.\n      window.SVGPathElement.prototype.getPathSegAtLength = function(distance) {\n        if (distance === undefined || !isFinite(distance))\n          throw 'Invalid arguments.'\n\n        var measurementElement = document.createElementNS(\n          'http://www.w3.org/2000/svg',\n          'path'\n        );\n        measurementElement.setAttribute('d', this.getAttribute('d'));\n        var lastPathSegment = measurementElement.pathSegList.numberOfItems - 1;\n\n        // If the path is empty, return 0.\n        if (lastPathSegment <= 0) return 0\n\n        do {\n          measurementElement.pathSegList.removeItem(lastPathSegment);\n          if (distance > measurementElement.getTotalLength()) break\n          lastPathSegment--;\n        } while (lastPathSegment > 0)\n        return lastPathSegment\n      };\n    }\n  }\n\n  if (!('SVGPathSegList' in window)) {\n    // Spec: http://www.w3.org/TR/SVG11/single-page.html#paths-InterfaceSVGPathSegList\n    window.SVGPathSegList = function(pathElement) {\n      this._pathElement = pathElement;\n      this._list = this._parsePath(this._pathElement.getAttribute('d'));\n\n      // Use a MutationObserver to catch changes to the path's \"d\" attribute.\n      this._mutationObserverConfig = {\n        attributes: true,\n        attributeFilter: ['d']\n      };\n      this._pathElementMutationObserver = new MutationObserver(\n        this._updateListFromPathMutations.bind(this)\n      );\n      this._pathElementMutationObserver.observe(\n        this._pathElement,\n        this._mutationObserverConfig\n      );\n    };\n\n    window.SVGPathSegList.prototype.classname = 'SVGPathSegList';\n\n    Object.defineProperty(window.SVGPathSegList.prototype, 'numberOfItems', {\n      get: function() {\n        this._checkPathSynchronizedToList();\n        return this._list.length\n      },\n      enumerable: true\n    });\n\n    // Add the pathSegList accessors to window.SVGPathElement.\n    // Spec: http://www.w3.org/TR/SVG11/single-page.html#paths-InterfaceSVGAnimatedPathData\n    Object.defineProperty(window.SVGPathElement.prototype, 'pathSegList', {\n      get: function() {\n        if (!this._pathSegList)\n          this._pathSegList = new window.SVGPathSegList(this);\n        return this._pathSegList\n      },\n      enumerable: true\n    });\n    // FIXME: The following are not implemented and simply return window.SVGPathElement.pathSegList.\n    Object.defineProperty(\n      window.SVGPathElement.prototype,\n      'normalizedPathSegList',\n      {\n        get: function() {\n          return this.pathSegList\n        },\n        enumerable: true\n      }\n    );\n    Object.defineProperty(\n      window.SVGPathElement.prototype,\n      'animatedPathSegList',\n      {\n        get: function() {\n          return this.pathSegList\n        },\n        enumerable: true\n      }\n    );\n    Object.defineProperty(\n      window.SVGPathElement.prototype,\n      'animatedNormalizedPathSegList',\n      {\n        get: function() {\n          return this.pathSegList\n        },\n        enumerable: true\n      }\n    );\n\n    // Process any pending mutations to the path element and update the list as needed.\n    // This should be the first call of all public functions and is needed because\n    // MutationObservers are not synchronous so we can have pending asynchronous mutations.\n    window.SVGPathSegList.prototype._checkPathSynchronizedToList = function() {\n      this._updateListFromPathMutations(\n        this._pathElementMutationObserver.takeRecords()\n      );\n    };\n\n    window.SVGPathSegList.prototype._updateListFromPathMutations = function(\n      mutationRecords\n    ) {\n      if (!this._pathElement) return\n      var hasPathMutations = false;\n      mutationRecords.forEach(function(record) {\n        if (record.attributeName == 'd') hasPathMutations = true;\n      });\n      if (hasPathMutations)\n        this._list = this._parsePath(this._pathElement.getAttribute('d'));\n    };\n\n    // Serialize the list and update the path's 'd' attribute.\n    window.SVGPathSegList.prototype._writeListToPath = function() {\n      this._pathElementMutationObserver.disconnect();\n      this._pathElement.setAttribute(\n        'd',\n        window.SVGPathSegList._pathSegArrayAsString(this._list)\n      );\n      this._pathElementMutationObserver.observe(\n        this._pathElement,\n        this._mutationObserverConfig\n      );\n    };\n\n    // When a path segment changes the list needs to be synchronized back to the path element.\n    window.SVGPathSegList.prototype.segmentChanged = function(pathSeg) {\n      this._writeListToPath();\n    };\n\n    window.SVGPathSegList.prototype.clear = function() {\n      this._checkPathSynchronizedToList();\n\n      this._list.forEach(function(pathSeg) {\n        pathSeg._owningPathSegList = null;\n      });\n      this._list = [];\n      this._writeListToPath();\n    };\n\n    window.SVGPathSegList.prototype.initialize = function(newItem) {\n      this._checkPathSynchronizedToList();\n\n      this._list = [newItem];\n      newItem._owningPathSegList = this;\n      this._writeListToPath();\n      return newItem\n    };\n\n    window.SVGPathSegList.prototype._checkValidIndex = function(index) {\n      if (isNaN(index) || index < 0 || index >= this.numberOfItems)\n        throw 'INDEX_SIZE_ERR'\n    };\n\n    window.SVGPathSegList.prototype.getItem = function(index) {\n      this._checkPathSynchronizedToList();\n\n      this._checkValidIndex(index);\n      return this._list[index]\n    };\n\n    window.SVGPathSegList.prototype.insertItemBefore = function(\n      newItem,\n      index\n    ) {\n      this._checkPathSynchronizedToList();\n\n      // Spec: If the index is greater than or equal to numberOfItems, then the new item is appended to the end of the list.\n      if (index > this.numberOfItems) index = this.numberOfItems;\n      if (newItem._owningPathSegList) {\n        // SVG2 spec says to make a copy.\n        newItem = newItem.clone();\n      }\n      this._list.splice(index, 0, newItem);\n      newItem._owningPathSegList = this;\n      this._writeListToPath();\n      return newItem\n    };\n\n    window.SVGPathSegList.prototype.replaceItem = function(newItem, index) {\n      this._checkPathSynchronizedToList();\n\n      if (newItem._owningPathSegList) {\n        // SVG2 spec says to make a copy.\n        newItem = newItem.clone();\n      }\n      this._checkValidIndex(index);\n      this._list[index] = newItem;\n      newItem._owningPathSegList = this;\n      this._writeListToPath();\n      return newItem\n    };\n\n    window.SVGPathSegList.prototype.removeItem = function(index) {\n      this._checkPathSynchronizedToList();\n\n      this._checkValidIndex(index);\n      var item = this._list[index];\n      this._list.splice(index, 1);\n      this._writeListToPath();\n      return item\n    };\n\n    window.SVGPathSegList.prototype.appendItem = function(newItem) {\n      this._checkPathSynchronizedToList();\n\n      if (newItem._owningPathSegList) {\n        // SVG2 spec says to make a copy.\n        newItem = newItem.clone();\n      }\n      this._list.push(newItem);\n      newItem._owningPathSegList = this;\n      // TODO: Optimize this to just append to the existing attribute.\n      this._writeListToPath();\n      return newItem\n    };\n\n    window.SVGPathSegList._pathSegArrayAsString = function(pathSegArray) {\n      var string = '';\n      var first = true;\n      pathSegArray.forEach(function(pathSeg) {\n        if (first) {\n          first = false;\n          string += pathSeg._asPathString();\n        } else {\n          string += ' ' + pathSeg._asPathString();\n        }\n      });\n      return string\n    };\n\n    // This closely follows SVGPathParser::parsePath from Source/core/svg/SVGPathParser.cpp.\n    window.SVGPathSegList.prototype._parsePath = function(string) {\n      if (!string || string.length == 0) return []\n\n      var owningPathSegList = this;\n\n      var Builder = function() {\n        this.pathSegList = [];\n      };\n\n      Builder.prototype.appendSegment = function(pathSeg) {\n        this.pathSegList.push(pathSeg);\n      };\n\n      var Source = function(string) {\n        this._string = string;\n        this._currentIndex = 0;\n        this._endIndex = this._string.length;\n        this._previousCommand = window.SVGPathSeg.PATHSEG_UNKNOWN;\n\n        this._skipOptionalSpaces();\n      };\n\n      Source.prototype._isCurrentSpace = function() {\n        var character = this._string[this._currentIndex];\n        return (\n          character <= ' ' &&\n          (character == ' ' ||\n            character == '\\n' ||\n            character == '\\t' ||\n            character == '\\r' ||\n            character == '\\f')\n        )\n      };\n\n      Source.prototype._skipOptionalSpaces = function() {\n        while (this._currentIndex < this._endIndex && this._isCurrentSpace())\n          this._currentIndex++;\n        return this._currentIndex < this._endIndex\n      };\n\n      Source.prototype._skipOptionalSpacesOrDelimiter = function() {\n        if (\n          this._currentIndex < this._endIndex &&\n          !this._isCurrentSpace() &&\n          this._string.charAt(this._currentIndex) != ','\n        )\n          return false\n        if (this._skipOptionalSpaces()) {\n          if (\n            this._currentIndex < this._endIndex &&\n            this._string.charAt(this._currentIndex) == ','\n          ) {\n            this._currentIndex++;\n            this._skipOptionalSpaces();\n          }\n        }\n        return this._currentIndex < this._endIndex\n      };\n\n      Source.prototype.hasMoreData = function() {\n        return this._currentIndex < this._endIndex\n      };\n\n      Source.prototype.peekSegmentType = function() {\n        var lookahead = this._string[this._currentIndex];\n        return this._pathSegTypeFromChar(lookahead)\n      };\n\n      Source.prototype._pathSegTypeFromChar = function(lookahead) {\n        switch (lookahead) {\n          case 'Z':\n          case 'z':\n            return window.SVGPathSeg.PATHSEG_CLOSEPATH\n          case 'M':\n            return window.SVGPathSeg.PATHSEG_MOVETO_ABS\n          case 'm':\n            return window.SVGPathSeg.PATHSEG_MOVETO_REL\n          case 'L':\n            return window.SVGPathSeg.PATHSEG_LINETO_ABS\n          case 'l':\n            return window.SVGPathSeg.PATHSEG_LINETO_REL\n          case 'C':\n            return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS\n          case 'c':\n            return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL\n          case 'Q':\n            return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS\n          case 'q':\n            return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL\n          case 'A':\n            return window.SVGPathSeg.PATHSEG_ARC_ABS\n          case 'a':\n            return window.SVGPathSeg.PATHSEG_ARC_REL\n          case 'H':\n            return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS\n          case 'h':\n            return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL\n          case 'V':\n            return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS\n          case 'v':\n            return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL\n          case 'S':\n            return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS\n          case 's':\n            return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL\n          case 'T':\n            return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS\n          case 't':\n            return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL\n          default:\n            return window.SVGPathSeg.PATHSEG_UNKNOWN\n        }\n      };\n\n      Source.prototype._nextCommandHelper = function(\n        lookahead,\n        previousCommand\n      ) {\n        // Check for remaining coordinates in the current command.\n        if (\n          (lookahead == '+' ||\n            lookahead == '-' ||\n            lookahead == '.' ||\n            (lookahead >= '0' && lookahead <= '9')) &&\n          previousCommand != window.SVGPathSeg.PATHSEG_CLOSEPATH\n        ) {\n          if (previousCommand == window.SVGPathSeg.PATHSEG_MOVETO_ABS)\n            return window.SVGPathSeg.PATHSEG_LINETO_ABS\n          if (previousCommand == window.SVGPathSeg.PATHSEG_MOVETO_REL)\n            return window.SVGPathSeg.PATHSEG_LINETO_REL\n          return previousCommand\n        }\n        return window.SVGPathSeg.PATHSEG_UNKNOWN\n      };\n\n      Source.prototype.initialCommandIsMoveTo = function() {\n        // If the path is empty it is still valid, so return true.\n        if (!this.hasMoreData()) return true\n        var command = this.peekSegmentType();\n        // Path must start with moveTo.\n        return (\n          command == window.SVGPathSeg.PATHSEG_MOVETO_ABS ||\n          command == window.SVGPathSeg.PATHSEG_MOVETO_REL\n        )\n      };\n\n      // Parse a number from an SVG path. This very closely follows genericParseNumber(...) from Source/core/svg/SVGParserUtilities.cpp.\n      // Spec: http://www.w3.org/TR/SVG11/single-page.html#paths-PathDataBNF\n      Source.prototype._parseNumber = function() {\n        var exponent = 0;\n        var integer = 0;\n        var frac = 1;\n        var decimal = 0;\n        var sign = 1;\n        var expsign = 1;\n\n        var startIndex = this._currentIndex;\n\n        this._skipOptionalSpaces();\n\n        // Read the sign.\n        if (\n          this._currentIndex < this._endIndex &&\n          this._string.charAt(this._currentIndex) == '+'\n        )\n          this._currentIndex++;\n        else if (\n          this._currentIndex < this._endIndex &&\n          this._string.charAt(this._currentIndex) == '-'\n        ) {\n          this._currentIndex++;\n          sign = -1;\n        }\n\n        if (\n          this._currentIndex == this._endIndex ||\n          ((this._string.charAt(this._currentIndex) < '0' ||\n            this._string.charAt(this._currentIndex) > '9') &&\n            this._string.charAt(this._currentIndex) != '.')\n        )\n          // The first character of a number must be one of [0-9+-.].\n          return undefined\n\n        // Read the integer part, build right-to-left.\n        var startIntPartIndex = this._currentIndex;\n        while (\n          this._currentIndex < this._endIndex &&\n          this._string.charAt(this._currentIndex) >= '0' &&\n          this._string.charAt(this._currentIndex) <= '9'\n        )\n          this._currentIndex++; // Advance to first non-digit.\n\n        if (this._currentIndex != startIntPartIndex) {\n          var scanIntPartIndex = this._currentIndex - 1;\n          var multiplier = 1;\n          while (scanIntPartIndex >= startIntPartIndex) {\n            integer +=\n              multiplier * (this._string.charAt(scanIntPartIndex--) - '0');\n            multiplier *= 10;\n          }\n        }\n\n        // Read the decimals.\n        if (\n          this._currentIndex < this._endIndex &&\n          this._string.charAt(this._currentIndex) == '.'\n        ) {\n          this._currentIndex++;\n\n          // There must be a least one digit following the .\n          if (\n            this._currentIndex >= this._endIndex ||\n            this._string.charAt(this._currentIndex) < '0' ||\n            this._string.charAt(this._currentIndex) > '9'\n          )\n            return undefined\n          while (\n            this._currentIndex < this._endIndex &&\n            this._string.charAt(this._currentIndex) >= '0' &&\n            this._string.charAt(this._currentIndex) <= '9'\n          ) {\n            frac *= 10;\n            decimal += (this._string.charAt(this._currentIndex) - '0') / frac;\n            this._currentIndex += 1;\n          }\n        }\n\n        // Read the exponent part.\n        if (\n          this._currentIndex != startIndex &&\n          this._currentIndex + 1 < this._endIndex &&\n          (this._string.charAt(this._currentIndex) == 'e' ||\n            this._string.charAt(this._currentIndex) == 'E') &&\n          this._string.charAt(this._currentIndex + 1) != 'x' &&\n          this._string.charAt(this._currentIndex + 1) != 'm'\n        ) {\n          this._currentIndex++;\n\n          // Read the sign of the exponent.\n          if (this._string.charAt(this._currentIndex) == '+') {\n            this._currentIndex++;\n          } else if (this._string.charAt(this._currentIndex) == '-') {\n            this._currentIndex++;\n            expsign = -1;\n          }\n\n          // There must be an exponent.\n          if (\n            this._currentIndex >= this._endIndex ||\n            this._string.charAt(this._currentIndex) < '0' ||\n            this._string.charAt(this._currentIndex) > '9'\n          )\n            return undefined\n\n          while (\n            this._currentIndex < this._endIndex &&\n            this._string.charAt(this._currentIndex) >= '0' &&\n            this._string.charAt(this._currentIndex) <= '9'\n          ) {\n            exponent *= 10;\n            exponent += this._string.charAt(this._currentIndex) - '0';\n            this._currentIndex++;\n          }\n        }\n\n        var number = integer + decimal;\n        number *= sign;\n\n        if (exponent) number *= Math.pow(10, expsign * exponent);\n\n        if (startIndex == this._currentIndex) return undefined\n\n        this._skipOptionalSpacesOrDelimiter();\n\n        return number\n      };\n\n      Source.prototype._parseArcFlag = function() {\n        if (this._currentIndex >= this._endIndex) return undefined\n        var flag = false;\n        var flagChar = this._string.charAt(this._currentIndex++);\n        if (flagChar == '0') flag = false;\n        else if (flagChar == '1') flag = true;\n        else return undefined\n\n        this._skipOptionalSpacesOrDelimiter();\n        return flag\n      };\n\n      Source.prototype.parseSegment = function() {\n        var lookahead = this._string[this._currentIndex];\n        var command = this._pathSegTypeFromChar(lookahead);\n        if (command == window.SVGPathSeg.PATHSEG_UNKNOWN) {\n          // Possibly an implicit command. Not allowed if this is the first command.\n          if (this._previousCommand == window.SVGPathSeg.PATHSEG_UNKNOWN)\n            return null\n          command = this._nextCommandHelper(lookahead, this._previousCommand);\n          if (command == window.SVGPathSeg.PATHSEG_UNKNOWN) return null\n        } else {\n          this._currentIndex++;\n        }\n\n        this._previousCommand = command;\n\n        switch (command) {\n          case window.SVGPathSeg.PATHSEG_MOVETO_REL:\n            return new window.SVGPathSegMovetoRel(\n              owningPathSegList,\n              this._parseNumber(),\n              this._parseNumber()\n            )\n          case window.SVGPathSeg.PATHSEG_MOVETO_ABS:\n            return new window.SVGPathSegMovetoAbs(\n              owningPathSegList,\n              this._parseNumber(),\n              this._parseNumber()\n            )\n          case window.SVGPathSeg.PATHSEG_LINETO_REL:\n            return new window.SVGPathSegLinetoRel(\n              owningPathSegList,\n              this._parseNumber(),\n              this._parseNumber()\n            )\n          case window.SVGPathSeg.PATHSEG_LINETO_ABS:\n            return new window.SVGPathSegLinetoAbs(\n              owningPathSegList,\n              this._parseNumber(),\n              this._parseNumber()\n            )\n          case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:\n            return new window.SVGPathSegLinetoHorizontalRel(\n              owningPathSegList,\n              this._parseNumber()\n            )\n          case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:\n            return new window.SVGPathSegLinetoHorizontalAbs(\n              owningPathSegList,\n              this._parseNumber()\n            )\n          case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:\n            return new window.SVGPathSegLinetoVerticalRel(\n              owningPathSegList,\n              this._parseNumber()\n            )\n          case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:\n            return new window.SVGPathSegLinetoVerticalAbs(\n              owningPathSegList,\n              this._parseNumber()\n            )\n          case window.SVGPathSeg.PATHSEG_CLOSEPATH:\n            this._skipOptionalSpaces();\n            return new window.SVGPathSegClosePath(owningPathSegList)\n          case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:\n            var points = {\n              x1: this._parseNumber(),\n              y1: this._parseNumber(),\n              x2: this._parseNumber(),\n              y2: this._parseNumber(),\n              x: this._parseNumber(),\n              y: this._parseNumber()\n            };\n            return new window.SVGPathSegCurvetoCubicRel(\n              owningPathSegList,\n              points.x,\n              points.y,\n              points.x1,\n              points.y1,\n              points.x2,\n              points.y2\n            )\n          case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:\n            var points = {\n              x1: this._parseNumber(),\n              y1: this._parseNumber(),\n              x2: this._parseNumber(),\n              y2: this._parseNumber(),\n              x: this._parseNumber(),\n              y: this._parseNumber()\n            };\n            return new window.SVGPathSegCurvetoCubicAbs(\n              owningPathSegList,\n              points.x,\n              points.y,\n              points.x1,\n              points.y1,\n              points.x2,\n              points.y2\n            )\n          case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:\n            var points = {\n              x2: this._parseNumber(),\n              y2: this._parseNumber(),\n              x: this._parseNumber(),\n              y: this._parseNumber()\n            };\n            return new window.SVGPathSegCurvetoCubicSmoothRel(\n              owningPathSegList,\n              points.x,\n              points.y,\n              points.x2,\n              points.y2\n            )\n          case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:\n            var points = {\n              x2: this._parseNumber(),\n              y2: this._parseNumber(),\n              x: this._parseNumber(),\n              y: this._parseNumber()\n            };\n            return new window.SVGPathSegCurvetoCubicSmoothAbs(\n              owningPathSegList,\n              points.x,\n              points.y,\n              points.x2,\n              points.y2\n            )\n          case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:\n            var points = {\n              x1: this._parseNumber(),\n              y1: this._parseNumber(),\n              x: this._parseNumber(),\n              y: this._parseNumber()\n            };\n            return new window.SVGPathSegCurvetoQuadraticRel(\n              owningPathSegList,\n              points.x,\n              points.y,\n              points.x1,\n              points.y1\n            )\n          case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:\n            var points = {\n              x1: this._parseNumber(),\n              y1: this._parseNumber(),\n              x: this._parseNumber(),\n              y: this._parseNumber()\n            };\n            return new window.SVGPathSegCurvetoQuadraticAbs(\n              owningPathSegList,\n              points.x,\n              points.y,\n              points.x1,\n              points.y1\n            )\n          case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:\n            return new window.SVGPathSegCurvetoQuadraticSmoothRel(\n              owningPathSegList,\n              this._parseNumber(),\n              this._parseNumber()\n            )\n          case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:\n            return new window.SVGPathSegCurvetoQuadraticSmoothAbs(\n              owningPathSegList,\n              this._parseNumber(),\n              this._parseNumber()\n            )\n          case window.SVGPathSeg.PATHSEG_ARC_REL:\n            var points = {\n              x1: this._parseNumber(),\n              y1: this._parseNumber(),\n              arcAngle: this._parseNumber(),\n              arcLarge: this._parseArcFlag(),\n              arcSweep: this._parseArcFlag(),\n              x: this._parseNumber(),\n              y: this._parseNumber()\n            };\n            return new window.SVGPathSegArcRel(\n              owningPathSegList,\n              points.x,\n              points.y,\n              points.x1,\n              points.y1,\n              points.arcAngle,\n              points.arcLarge,\n              points.arcSweep\n            )\n          case window.SVGPathSeg.PATHSEG_ARC_ABS:\n            var points = {\n              x1: this._parseNumber(),\n              y1: this._parseNumber(),\n              arcAngle: this._parseNumber(),\n              arcLarge: this._parseArcFlag(),\n              arcSweep: this._parseArcFlag(),\n              x: this._parseNumber(),\n              y: this._parseNumber()\n            };\n            return new window.SVGPathSegArcAbs(\n              owningPathSegList,\n              points.x,\n              points.y,\n              points.x1,\n              points.y1,\n              points.arcAngle,\n              points.arcLarge,\n              points.arcSweep\n            )\n          default:\n            throw 'Unknown path seg type.'\n        }\n      };\n\n      var builder = new Builder();\n      var source = new Source(string);\n\n      if (!source.initialCommandIsMoveTo()) return []\n      while (source.hasMoreData()) {\n        var pathSeg = source.parseSegment();\n        if (!pathSeg) return []\n        builder.appendSegment(pathSeg);\n      }\n\n      return builder.pathSegList\n    };\n  }\n})();\n\n// String.padEnd polyfill for IE11\n//\n// https://github.com/uxitten/polyfill/blob/master/string.polyfill.js\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/padEnd\nif (!String.prototype.padEnd) {\n  String.prototype.padEnd = function padEnd(targetLength, padString) {\n    targetLength = targetLength >> 0; //floor if number or convert non-number to 0;\n    padString = String(typeof padString !== 'undefined' ? padString : ' ');\n    if (this.length > targetLength) {\n      return String(this)\n    } else {\n      targetLength = targetLength - this.length;\n      if (targetLength > padString.length) {\n        padString += padString.repeat(targetLength / padString.length); //append to original to ensure we are longer than needed\n      }\n      return String(this) + padString.slice(0, targetLength)\n    }\n  };\n}\n\n// Object.assign polyfill for IE11\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign#Polyfill\nif (typeof Object.assign !== 'function') {\n  // Must be writable: true, enumerable: false, configurable: true\n  Object.defineProperty(Object, 'assign', {\n    value: function assign(target, varArgs) {\n      if (target === null || target === undefined) {\n        throw new TypeError('Cannot convert undefined or null to object')\n      }\n\n      var to = Object(target);\n\n      for (var index = 1; index < arguments.length; index++) {\n        var nextSource = arguments[index];\n\n        if (nextSource !== null && nextSource !== undefined) {\n          for (var nextKey in nextSource) {\n            // Avoid bugs when hasOwnProperty is shadowed\n            if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n              to[nextKey] = nextSource[nextKey];\n            }\n          }\n        }\n      }\n      return to\n    },\n    writable: true,\n    configurable: true\n  });\n}\n\n/* jshint ignore:end */\n\nChart.prototype.axis = function() {};\nChart.prototype.axis.labels = function(labels) {\n  var $$ = this.internal;\n  if (arguments.length) {\n    Object.keys(labels).forEach(function(axisId) {\n      $$.axis.setLabelText(axisId, labels[axisId]);\n    });\n    $$.axis.updateLabels();\n  }\n  // TODO: return some values?\n};\nChart.prototype.axis.max = function(max) {\n  var $$ = this.internal,\n    config = $$.config;\n  if (arguments.length) {\n    if (typeof max === 'object') {\n      if (isValue(max.x)) {\n        config.axis_x_max = max.x;\n      }\n      if (isValue(max.y)) {\n        config.axis_y_max = max.y;\n      }\n      if (isValue(max.y2)) {\n        config.axis_y2_max = max.y2;\n      }\n    } else {\n      config.axis_y_max = config.axis_y2_max = max;\n    }\n    $$.redraw({ withUpdateOrgXDomain: true, withUpdateXDomain: true });\n  } else {\n    return {\n      x: config.axis_x_max,\n      y: config.axis_y_max,\n      y2: config.axis_y2_max\n    }\n  }\n};\nChart.prototype.axis.min = function(min) {\n  var $$ = this.internal,\n    config = $$.config;\n  if (arguments.length) {\n    if (typeof min === 'object') {\n      if (isValue(min.x)) {\n        config.axis_x_min = min.x;\n      }\n      if (isValue(min.y)) {\n        config.axis_y_min = min.y;\n      }\n      if (isValue(min.y2)) {\n        config.axis_y2_min = min.y2;\n      }\n    } else {\n      config.axis_y_min = config.axis_y2_min = min;\n    }\n    $$.redraw({ withUpdateOrgXDomain: true, withUpdateXDomain: true });\n  } else {\n    return {\n      x: config.axis_x_min,\n      y: config.axis_y_min,\n      y2: config.axis_y2_min\n    }\n  }\n};\nChart.prototype.axis.range = function(range) {\n  if (arguments.length) {\n    if (isDefined(range.max)) {\n      this.axis.max(range.max);\n    }\n    if (isDefined(range.min)) {\n      this.axis.min(range.min);\n    }\n  } else {\n    return {\n      max: this.axis.max(),\n      min: this.axis.min()\n    }\n  }\n};\n\nChart.prototype.axis.types = function(types) {\n  const $$ = this.internal;\n  if (types === undefined) {\n    return {\n      y: $$.config.axis_y_type,\n      y2: $$.config.axis_y2_type\n    }\n  } else {\n    if (isDefined(types.y)) {\n      $$.config.axis_y_type = types.y;\n    }\n\n    if (isDefined(types.y2)) {\n      $$.config.axis_y2_type = types.y2;\n    }\n\n    $$.updateScales();\n    $$.redraw();\n  }\n};\n\nChart.prototype.category = function(i, category) {\n  var $$ = this.internal,\n    config = $$.config;\n  if (arguments.length > 1) {\n    config.axis_x_categories[i] = category;\n    $$.redraw();\n  }\n  return config.axis_x_categories[i]\n};\nChart.prototype.categories = function(categories) {\n  var $$ = this.internal,\n    config = $$.config;\n  if (!arguments.length) {\n    return config.axis_x_categories\n  }\n  config.axis_x_categories = categories;\n  $$.redraw();\n  return config.axis_x_categories\n};\n\nChart.prototype.resize = function(size) {\n  var $$ = this.internal,\n    config = $$.config;\n  config.size_width = size ? size.width : null;\n  config.size_height = size ? size.height : null;\n  this.flush();\n};\n\nChart.prototype.flush = function() {\n  var $$ = this.internal;\n  $$.updateAndRedraw({\n    withLegend: true,\n    withTransition: false,\n    withTransitionForTransform: false\n  });\n};\n\nChart.prototype.destroy = function() {\n  var $$ = this.internal;\n\n  window.clearInterval($$.intervalForObserveInserted);\n\n  if ($$.resizeTimeout !== undefined) {\n    window.clearTimeout($$.resizeTimeout);\n  }\n\n  if (window.detachEvent) {\n    window.detachEvent('onresize', $$.resizeIfElementDisplayed);\n  } else if (window.removeEventListener) {\n    window.removeEventListener('resize', $$.resizeIfElementDisplayed);\n  } else {\n    var wrapper = window.onresize;\n    // check if no one else removed our wrapper and remove our resizeFunction from it\n    if (wrapper && wrapper.add && wrapper.remove) {\n      wrapper.remove($$.resizeFunction);\n    }\n  }\n\n  // Removes the inner resize functions\n  $$.resizeFunction.remove();\n\n  // Unbinds from the window focus event\n  $$.unbindWindowFocus();\n\n  $$.selectChart.classed('c3', false).html('');\n\n  // MEMO: this is needed because the reference of some elements will not be released, then memory leak will happen.\n  Object.keys($$).forEach(function(key) {\n    $$[key] = null;\n  });\n\n  return null\n};\n\n// TODO: fix\nChart.prototype.color = function(id) {\n  var $$ = this.internal;\n  return $$.color(id) // more patterns\n};\n\nChart.prototype.data = function(targetIds) {\n  var targets = this.internal.data.targets;\n  return typeof targetIds === 'undefined'\n    ? targets\n    : targets.filter(function(t) {\n        return [].concat(targetIds).indexOf(t.id) >= 0\n      })\n};\nChart.prototype.data.shown = function(targetIds) {\n  return this.internal.filterTargetsToShow(this.data(targetIds))\n};\n\n/**\n * Get values of the data loaded in the chart.\n *\n * @param {String|Array} targetId This API returns the value of specified target.\n * @param flat\n * @return {Array} Data values\n */\nChart.prototype.data.values = function(targetId, flat = true) {\n  let values = null;\n\n  if (targetId) {\n    const targets = this.data(targetId);\n    if (targets && isArray(targets)) {\n      values = targets.reduce((ret, v) => {\n        const dataValue = v.values.map(d => d.value);\n        if (flat) {\n          ret = ret.concat(dataValue);\n        } else {\n          ret.push(dataValue);\n        }\n        return ret\n      }, []);\n    }\n  }\n\n  return values\n};\nChart.prototype.data.names = function(names) {\n  this.internal.clearLegendItemTextBoxCache();\n  return this.internal.updateDataAttributes('names', names)\n};\nChart.prototype.data.colors = function(colors) {\n  return this.internal.updateDataAttributes('colors', colors)\n};\nChart.prototype.data.axes = function(axes) {\n  return this.internal.updateDataAttributes('axes', axes)\n};\n\nChart.prototype.data.stackNormalized = function(normalized) {\n  if (normalized === undefined) {\n    return this.internal.isStackNormalized()\n  }\n\n  this.internal.config.data_stack_normalize = !!normalized;\n  this.internal.redraw();\n};\n\nChart.prototype.donut = function() {};\n\nChart.prototype.donut.padAngle = function(padAngle) {\n  if (padAngle === undefined) {\n    return this.internal.config.donut_padAngle\n  }\n  this.internal.config.donut_padAngle = padAngle;\n  this.flush();\n};\n\nChart.prototype.flow = function(args) {\n  var $$ = this.internal,\n    targets,\n    data,\n    notfoundIds = [],\n    orgDataCount = $$.getMaxDataCount(),\n    dataCount,\n    domain,\n    baseTarget,\n    baseValue,\n    length = 0,\n    tail = 0,\n    diff,\n    to;\n\n  if (args.json) {\n    data = $$.convertJsonToData(args.json, args.keys);\n  } else if (args.rows) {\n    data = $$.convertRowsToData(args.rows);\n  } else if (args.columns) {\n    data = $$.convertColumnsToData(args.columns);\n  } else {\n    return\n  }\n  targets = $$.convertDataToTargets(data, true);\n\n  // Update/Add data\n  $$.data.targets.forEach(function(t) {\n    var found = false,\n      i,\n      j;\n    for (i = 0; i < targets.length; i++) {\n      if (t.id === targets[i].id) {\n        found = true;\n\n        if (t.values[t.values.length - 1]) {\n          tail = t.values[t.values.length - 1].index + 1;\n        }\n        length = targets[i].values.length;\n\n        for (j = 0; j < length; j++) {\n          targets[i].values[j].index = tail + j;\n          if (!$$.isTimeSeries()) {\n            targets[i].values[j].x = tail + j;\n          }\n        }\n        t.values = t.values.concat(targets[i].values);\n\n        targets.splice(i, 1);\n        break\n      }\n    }\n    if (!found) {\n      notfoundIds.push(t.id);\n    }\n  });\n\n  // Append null for not found targets\n  $$.data.targets.forEach(function(t) {\n    var i, j;\n    for (i = 0; i < notfoundIds.length; i++) {\n      if (t.id === notfoundIds[i]) {\n        tail = t.values[t.values.length - 1].index + 1;\n        for (j = 0; j < length; j++) {\n          t.values.push({\n            id: t.id,\n            index: tail + j,\n            x: $$.isTimeSeries() ? $$.getOtherTargetX(tail + j) : tail + j,\n            value: null\n          });\n        }\n      }\n    }\n  });\n\n  // Generate null values for new target\n  if ($$.data.targets.length) {\n    targets.forEach(function(t) {\n      var i,\n        missing = [];\n      for (i = $$.data.targets[0].values[0].index; i < tail; i++) {\n        missing.push({\n          id: t.id,\n          index: i,\n          x: $$.isTimeSeries() ? $$.getOtherTargetX(i) : i,\n          value: null\n        });\n      }\n      t.values.forEach(function(v) {\n        v.index += tail;\n        if (!$$.isTimeSeries()) {\n          v.x += tail;\n        }\n      });\n      t.values = missing.concat(t.values);\n    });\n  }\n  $$.data.targets = $$.data.targets.concat(targets); // add remained\n\n  // check data count because behavior needs to change when it's only one\n  dataCount = $$.getMaxDataCount();\n  baseTarget = $$.data.targets[0];\n  baseValue = baseTarget.values[0];\n\n  // Update length to flow if needed\n  if (isDefined(args.to)) {\n    length = 0;\n    to = $$.isTimeSeries() ? $$.parseDate(args.to) : args.to;\n    baseTarget.values.forEach(function(v) {\n      if (v.x < to) {\n        length++;\n      }\n    });\n  } else if (isDefined(args.length)) {\n    length = args.length;\n  }\n\n  // If only one data, update the domain to flow from left edge of the chart\n  if (!orgDataCount) {\n    if ($$.isTimeSeries()) {\n      if (baseTarget.values.length > 1) {\n        diff = baseTarget.values[baseTarget.values.length - 1].x - baseValue.x;\n      } else {\n        diff = baseValue.x - $$.getXDomain($$.data.targets)[0];\n      }\n    } else {\n      diff = 1;\n    }\n    domain = [baseValue.x - diff, baseValue.x];\n    $$.updateXDomain(null, true, true, false, domain);\n  } else if (orgDataCount === 1) {\n    if ($$.isTimeSeries()) {\n      diff =\n        (baseTarget.values[baseTarget.values.length - 1].x - baseValue.x) / 2;\n      domain = [new Date(+baseValue.x - diff), new Date(+baseValue.x + diff)];\n      $$.updateXDomain(null, true, true, false, domain);\n    }\n  }\n\n  // Set targets\n  $$.updateTargets($$.data.targets);\n\n  // Redraw with new targets\n  $$.redraw({\n    flow: {\n      index: baseValue.index,\n      length: length,\n      duration: isValue(args.duration)\n        ? args.duration\n        : $$.config.transition_duration,\n      done: args.done,\n      orgDataCount: orgDataCount\n    },\n    withLegend: true,\n    withTransition: orgDataCount > 1,\n    withTrimXDomain: false,\n    withUpdateXAxis: true\n  });\n};\n\nChartInternal.prototype.generateFlow = function(args) {\n  var $$ = this,\n    config = $$.config,\n    d3 = $$.d3;\n\n  return function() {\n    var targets = args.targets,\n      flow = args.flow,\n      drawBar = args.drawBar,\n      drawLine = args.drawLine,\n      drawArea = args.drawArea,\n      cx = args.cx,\n      cy = args.cy,\n      xv = args.xv,\n      xForText = args.xForText,\n      yForText = args.yForText,\n      duration = args.duration;\n\n    var translateX,\n      scaleX = 1,\n      transform,\n      flowIndex = flow.index,\n      flowLength = flow.length,\n      flowStart = $$.getValueOnIndex($$.data.targets[0].values, flowIndex),\n      flowEnd = $$.getValueOnIndex(\n        $$.data.targets[0].values,\n        flowIndex + flowLength\n      ),\n      orgDomain = $$.x.domain(),\n      domain,\n      durationForFlow = flow.duration || duration,\n      done = flow.done || function() {},\n      wait = $$.generateWait();\n\n    var xgrid,\n      xgridLines,\n      mainRegion,\n      mainText,\n      mainBar,\n      mainLine,\n      mainArea,\n      mainCircle;\n\n    // set flag\n    $$.flowing = true;\n\n    // remove head data after rendered\n    $$.data.targets.forEach(function(d) {\n      d.values.splice(0, flowLength);\n    });\n\n    // update x domain to generate axis elements for flow\n    domain = $$.updateXDomain(targets, true, true);\n    // update elements related to x scale\n    if ($$.updateXGrid) {\n      $$.updateXGrid(true);\n    }\n\n    xgrid = $$.xgrid || d3.selectAll([]); // xgrid needs to be obtained after updateXGrid\n    xgridLines = $$.xgridLines || d3.selectAll([]);\n    mainRegion = $$.mainRegion || d3.selectAll([]);\n    mainText = $$.mainText || d3.selectAll([]);\n    mainBar = $$.mainBar || d3.selectAll([]);\n    mainLine = $$.mainLine || d3.selectAll([]);\n    mainArea = $$.mainArea || d3.selectAll([]);\n    mainCircle = $$.mainCircle || d3.selectAll([]);\n\n    // generate transform to flow\n    if (!flow.orgDataCount) {\n      // if empty\n      if ($$.data.targets[0].values.length !== 1) {\n        translateX = $$.x(orgDomain[0]) - $$.x(domain[0]);\n      } else {\n        if ($$.isTimeSeries()) {\n          flowStart = $$.getValueOnIndex($$.data.targets[0].values, 0);\n          flowEnd = $$.getValueOnIndex(\n            $$.data.targets[0].values,\n            $$.data.targets[0].values.length - 1\n          );\n          translateX = $$.x(flowStart.x) - $$.x(flowEnd.x);\n        } else {\n          translateX = diffDomain(domain) / 2;\n        }\n      }\n    } else if (\n      flow.orgDataCount === 1 ||\n      (flowStart && flowStart.x) === (flowEnd && flowEnd.x)\n    ) {\n      translateX = $$.x(orgDomain[0]) - $$.x(domain[0]);\n    } else {\n      if ($$.isTimeSeries()) {\n        translateX = $$.x(orgDomain[0]) - $$.x(domain[0]);\n      } else {\n        translateX = $$.x(flowStart.x) - $$.x(flowEnd.x);\n      }\n    }\n    scaleX = diffDomain(orgDomain) / diffDomain(domain);\n    transform = 'translate(' + translateX + ',0) scale(' + scaleX + ',1)';\n\n    $$.hideXGridFocus();\n\n    var flowTransition = d3\n      .transition()\n      .ease(d3.easeLinear)\n      .duration(durationForFlow);\n    wait.add($$.xAxis($$.axes.x, flowTransition));\n    wait.add(mainBar.transition(flowTransition).attr('transform', transform));\n    wait.add(mainLine.transition(flowTransition).attr('transform', transform));\n    wait.add(mainArea.transition(flowTransition).attr('transform', transform));\n    wait.add(mainCircle.transition(flowTransition).attr('transform', transform));\n    wait.add(mainText.transition(flowTransition).attr('transform', transform));\n    wait.add(\n      mainRegion\n        .filter($$.isRegionOnX)\n        .transition(flowTransition)\n        .attr('transform', transform)\n    );\n    wait.add(xgrid.transition(flowTransition).attr('transform', transform));\n    wait.add(xgridLines.transition(flowTransition).attr('transform', transform));\n    wait(function() {\n      var i,\n        shapes = [],\n        texts = [];\n\n      // remove flowed elements\n      if (flowLength) {\n        for (i = 0; i < flowLength; i++) {\n          shapes.push('.' + CLASS.shape + '-' + (flowIndex + i));\n          texts.push('.' + CLASS.text + '-' + (flowIndex + i));\n        }\n        $$.svg\n          .selectAll('.' + CLASS.shapes)\n          .selectAll(shapes)\n          .remove();\n        $$.svg\n          .selectAll('.' + CLASS.texts)\n          .selectAll(texts)\n          .remove();\n        $$.svg.select('.' + CLASS.xgrid).remove();\n      }\n\n      // draw again for removing flowed elements and reverting attr\n      xgrid\n        .attr('transform', null)\n        .attr('x1', $$.xgridAttr.x1)\n        .attr('x2', $$.xgridAttr.x2)\n        .attr('y1', $$.xgridAttr.y1)\n        .attr('y2', $$.xgridAttr.y2)\n        .style('opacity', $$.xgridAttr.opacity);\n      xgridLines.attr('transform', null);\n      xgridLines\n        .select('line')\n        .attr('x1', config.axis_rotated ? 0 : xv)\n        .attr('x2', config.axis_rotated ? $$.width : xv);\n      xgridLines\n        .select('text')\n        .attr('x', config.axis_rotated ? $$.width : 0)\n        .attr('y', xv);\n      mainBar.attr('transform', null).attr('d', drawBar);\n      mainLine.attr('transform', null).attr('d', drawLine);\n      mainArea.attr('transform', null).attr('d', drawArea);\n      mainCircle\n        .attr('transform', null)\n        .attr('cx', cx)\n        .attr('cy', cy);\n      mainText\n        .attr('transform', null)\n        .attr('x', xForText)\n        .attr('y', yForText)\n        .style('fill-opacity', $$.opacityForText.bind($$));\n      mainRegion.attr('transform', null);\n      mainRegion\n        .filter($$.isRegionOnX)\n        .attr('x', $$.regionX.bind($$))\n        .attr('width', $$.regionWidth.bind($$));\n\n      // callback for end of flow\n      done();\n\n      $$.flowing = false;\n    });\n  }\n};\n\nChart.prototype.focus = function(targetIds) {\n  var $$ = this.internal,\n    candidates;\n\n  targetIds = $$.mapToTargetIds(targetIds)\n  ;(candidates = $$.svg.selectAll(\n    $$.selectorTargets(targetIds.filter($$.isTargetToShow, $$))\n  )),\n    this.revert();\n  this.defocus();\n  candidates.classed(CLASS.focused, true).classed(CLASS.defocused, false);\n  if ($$.hasArcType()) {\n    $$.expandArc(targetIds);\n  }\n  $$.toggleFocusLegend(targetIds, true);\n\n  $$.focusedTargetIds = targetIds;\n  $$.defocusedTargetIds = $$.defocusedTargetIds.filter(function(id) {\n    return targetIds.indexOf(id) < 0\n  });\n};\n\nChart.prototype.defocus = function(targetIds) {\n  var $$ = this.internal,\n    candidates;\n\n  targetIds = $$.mapToTargetIds(targetIds)\n  ;(candidates = $$.svg.selectAll(\n    $$.selectorTargets(targetIds.filter($$.isTargetToShow, $$))\n  )),\n    candidates.classed(CLASS.focused, false).classed(CLASS.defocused, true);\n  if ($$.hasArcType()) {\n    $$.unexpandArc(targetIds);\n  }\n  $$.toggleFocusLegend(targetIds, false);\n\n  $$.focusedTargetIds = $$.focusedTargetIds.filter(function(id) {\n    return targetIds.indexOf(id) < 0\n  });\n  $$.defocusedTargetIds = targetIds;\n};\n\nChart.prototype.revert = function(targetIds) {\n  var $$ = this.internal,\n    candidates;\n\n  targetIds = $$.mapToTargetIds(targetIds);\n  candidates = $$.svg.selectAll($$.selectorTargets(targetIds)); // should be for all targets\n\n  candidates.classed(CLASS.focused, false).classed(CLASS.defocused, false);\n  if ($$.hasArcType()) {\n    $$.unexpandArc(targetIds);\n  }\n  if ($$.config.legend_show) {\n    $$.showLegend(targetIds.filter($$.isLegendToShow.bind($$)));\n    $$.legend\n      .selectAll($$.selectorLegends(targetIds))\n      .filter(function() {\n        return $$.d3.select(this).classed(CLASS.legendItemFocused)\n      })\n      .classed(CLASS.legendItemFocused, false);\n  }\n\n  $$.focusedTargetIds = [];\n  $$.defocusedTargetIds = [];\n};\n\nChart.prototype.xgrids = function(grids) {\n  var $$ = this.internal,\n    config = $$.config;\n  if (!grids) {\n    return config.grid_x_lines\n  }\n  config.grid_x_lines = grids;\n  $$.redrawWithoutRescale();\n  return config.grid_x_lines\n};\nChart.prototype.xgrids.add = function(grids) {\n  var $$ = this.internal;\n  return this.xgrids($$.config.grid_x_lines.concat(grids ? grids : []))\n};\nChart.prototype.xgrids.remove = function(params) {\n  // TODO: multiple\n  var $$ = this.internal;\n  $$.removeGridLines(params, true);\n};\n\nChart.prototype.ygrids = function(grids) {\n  var $$ = this.internal,\n    config = $$.config;\n  if (!grids) {\n    return config.grid_y_lines\n  }\n  config.grid_y_lines = grids;\n  $$.redrawWithoutRescale();\n  return config.grid_y_lines\n};\nChart.prototype.ygrids.add = function(grids) {\n  var $$ = this.internal;\n  return this.ygrids($$.config.grid_y_lines.concat(grids ? grids : []))\n};\nChart.prototype.ygrids.remove = function(params) {\n  // TODO: multiple\n  var $$ = this.internal;\n  $$.removeGridLines(params, false);\n};\n\nChart.prototype.groups = function(groups) {\n  var $$ = this.internal,\n    config = $$.config;\n  if (isUndefined(groups)) {\n    return config.data_groups\n  }\n  config.data_groups = groups;\n  $$.redraw();\n  return config.data_groups\n};\n\nChart.prototype.legend = function() {};\nChart.prototype.legend.show = function(targetIds) {\n  var $$ = this.internal;\n  $$.showLegend($$.mapToTargetIds(targetIds));\n  $$.updateAndRedraw({ withLegend: true });\n};\nChart.prototype.legend.hide = function(targetIds) {\n  var $$ = this.internal;\n  $$.hideLegend($$.mapToTargetIds(targetIds));\n  $$.updateAndRedraw({ withLegend: false });\n};\n\nChart.prototype.load = function(args) {\n  var $$ = this.internal,\n    config = $$.config;\n  // update xs if specified\n  if (args.xs) {\n    $$.addXs(args.xs);\n  }\n  // update names if exists\n  if ('names' in args) {\n    Chart.prototype.data.names.bind(this)(args.names);\n  }\n  // update classes if exists\n  if ('classes' in args) {\n    Object.keys(args.classes).forEach(function(id) {\n      config.data_classes[id] = args.classes[id];\n    });\n  }\n  // update categories if exists\n  if ('categories' in args && $$.isCategorized()) {\n    config.axis_x_categories = args.categories;\n  }\n  // update axes if exists\n  if ('axes' in args) {\n    Object.keys(args.axes).forEach(function(id) {\n      config.data_axes[id] = args.axes[id];\n    });\n  }\n  // update colors if exists\n  if ('colors' in args) {\n    Object.keys(args.colors).forEach(function(id) {\n      config.data_colors[id] = args.colors[id];\n    });\n  }\n  // use cache if exists\n  if ('cacheIds' in args && $$.hasCaches(args.cacheIds)) {\n    $$.load($$.getCaches(args.cacheIds), args.done);\n    return\n  }\n  // unload if needed\n  if (args.unload) {\n    // TODO: do not unload if target will load (included in url/rows/columns)\n    $$.unload(\n      $$.mapToTargetIds(args.unload === true ? null : args.unload),\n      function() {\n        $$.loadFromArgs(args);\n      }\n    );\n  } else {\n    $$.loadFromArgs(args);\n  }\n};\n\nChart.prototype.unload = function(args) {\n  var $$ = this.internal;\n  args = args || {};\n  if (args instanceof Array) {\n    args = { ids: args };\n  } else if (typeof args === 'string') {\n    args = { ids: [args] };\n  }\n  $$.unload($$.mapToTargetIds(args.ids), function() {\n    $$.redraw({\n      withUpdateOrgXDomain: true,\n      withUpdateXDomain: true,\n      withLegend: true\n    });\n    if (args.done) {\n      args.done();\n    }\n  });\n};\n\nChart.prototype.pie = function() {};\n\nChart.prototype.pie.padAngle = function(padAngle) {\n  if (padAngle === undefined) {\n    return this.internal.config.pie_padAngle\n  }\n  this.internal.config.pie_padAngle = padAngle;\n  this.flush();\n};\n\nChart.prototype.regions = function(regions) {\n  var $$ = this.internal,\n    config = $$.config;\n  if (!regions) {\n    return config.regions\n  }\n  config.regions = regions;\n  $$.redrawWithoutRescale();\n  return config.regions\n};\nChart.prototype.regions.add = function(regions) {\n  var $$ = this.internal,\n    config = $$.config;\n  if (!regions) {\n    return config.regions\n  }\n  config.regions = config.regions.concat(regions);\n  $$.redrawWithoutRescale();\n  return config.regions\n};\nChart.prototype.regions.remove = function(options) {\n  var $$ = this.internal,\n    config = $$.config,\n    duration,\n    classes,\n    regions;\n\n  options = options || {};\n  duration = getOption(options, 'duration', config.transition_duration);\n  classes = getOption(options, 'classes', [CLASS.region]);\n\n  regions = $$.main.select('.' + CLASS.regions).selectAll(\n    classes.map(function(c) {\n      return '.' + c\n    })\n  )\n  ;(duration ? regions.transition().duration(duration) : regions)\n    .style('opacity', 0)\n    .remove();\n\n  config.regions = config.regions.filter(function(region) {\n    var found = false;\n    if (!region['class']) {\n      return true\n    }\n    region['class'].split(' ').forEach(function(c) {\n      if (classes.indexOf(c) >= 0) {\n        found = true;\n      }\n    });\n    return !found\n  });\n\n  return config.regions\n};\n\nChart.prototype.selected = function(targetId) {\n  var $$ = this.internal,\n    d3 = $$.d3;\n  return $$.main\n    .selectAll('.' + CLASS.shapes + $$.getTargetSelectorSuffix(targetId))\n    .selectAll('.' + CLASS.shape)\n    .filter(function() {\n      return d3.select(this).classed(CLASS.SELECTED)\n    })\n    .nodes()\n    .map(function(d) {\n      var data = d.__data__;\n      return data.data ? data.data : data\n    })\n};\nChart.prototype.select = function(ids, indices, resetOther) {\n  var $$ = this.internal,\n    d3 = $$.d3,\n    config = $$.config;\n  if (!config.data_selection_enabled) {\n    return\n  }\n  $$.main\n    .selectAll('.' + CLASS.shapes)\n    .selectAll('.' + CLASS.shape)\n    .each(function(d, i) {\n      var shape = d3.select(this),\n        id = d.data ? d.data.id : d.id,\n        toggle = $$.getToggle(this, d).bind($$),\n        isTargetId =\n          config.data_selection_grouped || !ids || ids.indexOf(id) >= 0,\n        isTargetIndex = !indices || indices.indexOf(i) >= 0,\n        isSelected = shape.classed(CLASS.SELECTED);\n      // line/area selection not supported yet\n      if (shape.classed(CLASS.line) || shape.classed(CLASS.area)) {\n        return\n      }\n      if (isTargetId && isTargetIndex) {\n        if (config.data_selection_isselectable(d) && !isSelected) {\n          toggle(true, shape.classed(CLASS.SELECTED, true), d, i);\n        }\n      } else if (isDefined(resetOther) && resetOther) {\n        if (isSelected) {\n          toggle(false, shape.classed(CLASS.SELECTED, false), d, i);\n        }\n      }\n    });\n};\nChart.prototype.unselect = function(ids, indices) {\n  var $$ = this.internal,\n    d3 = $$.d3,\n    config = $$.config;\n  if (!config.data_selection_enabled) {\n    return\n  }\n  $$.main\n    .selectAll('.' + CLASS.shapes)\n    .selectAll('.' + CLASS.shape)\n    .each(function(d, i) {\n      var shape = d3.select(this),\n        id = d.data ? d.data.id : d.id,\n        toggle = $$.getToggle(this, d).bind($$),\n        isTargetId =\n          config.data_selection_grouped || !ids || ids.indexOf(id) >= 0,\n        isTargetIndex = !indices || indices.indexOf(i) >= 0,\n        isSelected = shape.classed(CLASS.SELECTED);\n      // line/area selection not supported yet\n      if (shape.classed(CLASS.line) || shape.classed(CLASS.area)) {\n        return\n      }\n      if (isTargetId && isTargetIndex) {\n        if (config.data_selection_isselectable(d)) {\n          if (isSelected) {\n            toggle(false, shape.classed(CLASS.SELECTED, false), d, i);\n          }\n        }\n      }\n    });\n};\n\nChart.prototype.show = function(targetIds, options) {\n  var $$ = this.internal,\n    targets;\n\n  targetIds = $$.mapToTargetIds(targetIds);\n  options = options || {};\n\n  $$.removeHiddenTargetIds(targetIds);\n  targets = $$.svg.selectAll($$.selectorTargets(targetIds));\n\n  targets\n    .transition()\n    .style('display', isIE() ? 'block' : 'initial', 'important')\n    .style('opacity', 1, 'important')\n    .call($$.endall, function() {\n      targets.style('opacity', null).style('opacity', 1);\n    });\n\n  if (options.withLegend) {\n    $$.showLegend(targetIds);\n  }\n\n  $$.redraw({\n    withUpdateOrgXDomain: true,\n    withUpdateXDomain: true,\n    withLegend: true\n  });\n};\n\nChart.prototype.hide = function(targetIds, options) {\n  var $$ = this.internal,\n    targets;\n\n  targetIds = $$.mapToTargetIds(targetIds);\n  options = options || {};\n\n  $$.addHiddenTargetIds(targetIds);\n  targets = $$.svg.selectAll($$.selectorTargets(targetIds));\n\n  targets\n    .transition()\n    .style('opacity', 0, 'important')\n    .call($$.endall, function() {\n      targets.style('opacity', null).style('opacity', 0);\n      targets.style('display', 'none');\n    });\n\n  if (options.withLegend) {\n    $$.hideLegend(targetIds);\n  }\n\n  $$.redraw({\n    withUpdateOrgXDomain: true,\n    withUpdateXDomain: true,\n    withLegend: true\n  });\n};\n\nChart.prototype.toggle = function(targetIds, options) {\n  var that = this,\n    $$ = this.internal;\n  $$.mapToTargetIds(targetIds).forEach(function(targetId) {\n    $$.isTargetToShow(targetId)\n      ? that.hide(targetId, options)\n      : that.show(targetId, options);\n  });\n};\n\nChart.prototype.subchart = function() {};\n\nChart.prototype.subchart.isShown = function() {\n  const $$ = this.internal;\n\n  return $$.config.subchart_show\n};\n\nChart.prototype.subchart.show = function() {\n  const $$ = this.internal;\n\n  if ($$.config.subchart_show) {\n    return\n  }\n\n  $$.config.subchart_show = true;\n\n  // insert DOM\n  $$.initSubchart();\n\n  // update dimensions with sub chart now visible\n  $$.updateDimension();\n\n  // insert brush (depends on sizes previously updated)\n  $$.initSubchartBrush();\n\n  // attach data\n  $$.updateTargetsForSubchart($$.getTargets());\n\n  // reset fade-in state\n  $$.mapToIds($$.data.targets).forEach(function(id) {\n    $$.withoutFadeIn[id] = false;\n  });\n\n  // redraw chart !\n  $$.updateAndRedraw();\n\n  // update visible targets !\n  $$.showTargets();\n};\n\nChart.prototype.subchart.hide = function() {\n  const $$ = this.internal;\n\n  if (!$$.config.subchart_show) {\n    return\n  }\n\n  $$.config.subchart_show = false;\n\n  // remove DOM\n  $$.removeSubchart();\n\n  // re-render chart\n  $$.redraw();\n};\n\nChart.prototype.tooltip = function() {};\nChart.prototype.tooltip.show = function(args) {\n  var $$ = this.internal,\n    targets,\n    data,\n    mouse = {};\n\n  // determine mouse position on the chart\n  if (args.mouse) {\n    mouse = args.mouse;\n  } else {\n    // determine focus data\n    if (args.data) {\n      data = args.data;\n    } else if (typeof args.x !== 'undefined') {\n      if (args.id) {\n        targets = $$.data.targets.filter(function(t) {\n          return t.id === args.id\n        });\n      } else {\n        targets = $$.data.targets;\n      }\n      data = $$.filterByX(targets, args.x).slice(0, 1)[0];\n    }\n    mouse = data ? $$.getMousePosition(data) : null;\n  }\n\n  // emulate mouse events to show\n  $$.dispatchEvent('mousemove', mouse);\n\n  $$.config.tooltip_onshow.call($$, data);\n};\nChart.prototype.tooltip.hide = function() {\n  // TODO: get target data by checking the state of focus\n  this.internal.dispatchEvent('mouseout', 0);\n\n  this.internal.config.tooltip_onhide.call(this);\n};\n\nChart.prototype.transform = function(type, targetIds) {\n  var $$ = this.internal,\n    options =\n      ['pie', 'donut'].indexOf(type) >= 0 ? { withTransform: true } : null;\n  $$.transformTo(targetIds, type, options);\n};\n\nChartInternal.prototype.transformTo = function(\n  targetIds,\n  type,\n  optionsForRedraw\n) {\n  var $$ = this,\n    withTransitionForAxis = !$$.hasArcType(),\n    options = optionsForRedraw || {\n      withTransitionForAxis: withTransitionForAxis\n    };\n  options.withTransitionForTransform = false;\n  $$.transiting = false;\n  $$.setTargetType(targetIds, type);\n  $$.updateTargets($$.data.targets); // this is needed when transforming to arc\n  $$.updateAndRedraw(options);\n};\n\nChart.prototype.x = function(x) {\n  var $$ = this.internal;\n  if (arguments.length) {\n    $$.updateTargetX($$.data.targets, x);\n    $$.redraw({ withUpdateOrgXDomain: true, withUpdateXDomain: true });\n  }\n  return $$.data.xs\n};\nChart.prototype.xs = function(xs) {\n  var $$ = this.internal;\n  if (arguments.length) {\n    $$.updateTargetXs($$.data.targets, xs);\n    $$.redraw({ withUpdateOrgXDomain: true, withUpdateXDomain: true });\n  }\n  return $$.data.xs\n};\n\nChart.prototype.zoom = function(domain) {\n  var $$ = this.internal;\n  if (domain) {\n    if ($$.isTimeSeries()) {\n      domain = domain.map(function(x) {\n        return $$.parseDate(x)\n      });\n    }\n    if ($$.config.subchart_show) {\n      $$.brush.selectionAsValue(domain, true);\n    } else {\n      $$.updateXDomain(null, true, false, false, domain);\n      $$.redraw({ withY: $$.config.zoom_rescale, withSubchart: false });\n    }\n    $$.config.zoom_onzoom.call(this, $$.x.orgDomain());\n    return domain\n  } else {\n    return $$.x.domain()\n  }\n};\nChart.prototype.zoom.enable = function(enabled) {\n  var $$ = this.internal;\n  $$.config.zoom_enabled = enabled;\n  $$.updateAndRedraw();\n};\nChart.prototype.unzoom = function() {\n  var $$ = this.internal;\n  if ($$.config.subchart_show) {\n    $$.brush.clear();\n  } else {\n    $$.updateXDomain(null, true, false, false, $$.subX.domain());\n    $$.redraw({ withY: $$.config.zoom_rescale, withSubchart: false });\n  }\n};\n\nChart.prototype.zoom.max = function(max) {\n  var $$ = this.internal,\n    config = $$.config,\n    d3 = $$.d3;\n  if (max === 0 || max) {\n    config.zoom_x_max = d3.max([$$.orgXDomain[1], max]);\n  } else {\n    return config.zoom_x_max\n  }\n};\n\nChart.prototype.zoom.min = function(min) {\n  var $$ = this.internal,\n    config = $$.config,\n    d3 = $$.d3;\n  if (min === 0 || min) {\n    config.zoom_x_min = d3.min([$$.orgXDomain[0], min]);\n  } else {\n    return config.zoom_x_min\n  }\n};\n\nChart.prototype.zoom.range = function(range) {\n  if (arguments.length) {\n    if (isDefined(range.max)) {\n      this.domain.max(range.max);\n    }\n    if (isDefined(range.min)) {\n      this.domain.min(range.min);\n    }\n  } else {\n    return {\n      max: this.domain.max(),\n      min: this.domain.min()\n    }\n  }\n};\n\nChartInternal.prototype.initPie = function() {\n  var $$ = this,\n    d3 = $$.d3;\n  $$.pie = d3\n    .pie()\n    .padAngle(this.getPadAngle.bind(this))\n    .value(function(d) {\n      return d.values.reduce(function(a, b) {\n        return a + b.value\n      }, 0)\n    });\n\n  let orderFct = $$.getOrderFunction();\n\n  // we need to reverse the returned order if asc or desc to have the slice in expected order.\n  if (orderFct && ($$.isOrderAsc() || $$.isOrderDesc())) {\n    let defaultSort = orderFct;\n    orderFct = (t1, t2) => defaultSort(t1, t2) * -1;\n  }\n\n  $$.pie.sort(orderFct || null);\n};\n\nChartInternal.prototype.updateRadius = function() {\n  var $$ = this,\n    config = $$.config,\n    w = config.gauge_width || config.donut_width,\n    gaugeArcWidth =\n      $$.filterTargetsToShow($$.data.targets).length *\n      $$.config.gauge_arcs_minWidth;\n  $$.radiusExpanded =\n    (Math.min($$.arcWidth, $$.arcHeight) / 2) * ($$.hasType('gauge') ? 0.85 : 1);\n  $$.radius = $$.radiusExpanded * 0.95;\n  $$.innerRadiusRatio = w ? ($$.radius - w) / $$.radius : 0.6;\n  $$.innerRadius =\n    $$.hasType('donut') || $$.hasType('gauge')\n      ? $$.radius * $$.innerRadiusRatio\n      : 0;\n  $$.gaugeArcWidth = w\n    ? w\n    : gaugeArcWidth <= $$.radius - $$.innerRadius\n    ? $$.radius - $$.innerRadius\n    : gaugeArcWidth <= $$.radius\n    ? gaugeArcWidth\n    : $$.radius;\n};\n\nChartInternal.prototype.getPadAngle = function() {\n  if (this.hasType('pie')) {\n    return this.config.pie_padAngle || 0\n  } else if (this.hasType('donut')) {\n    return this.config.donut_padAngle || 0\n  } else {\n    return 0\n  }\n};\n\nChartInternal.prototype.updateArc = function() {\n  var $$ = this;\n  $$.svgArc = $$.getSvgArc();\n  $$.svgArcExpanded = $$.getSvgArcExpanded();\n  $$.svgArcExpandedSub = $$.getSvgArcExpanded(0.98);\n};\n\nChartInternal.prototype.updateAngle = function(d) {\n  var $$ = this,\n    config = $$.config,\n    found = false,\n    index = 0,\n    gMin,\n    gMax,\n    gTic,\n    gValue;\n\n  if (!config) {\n    return null\n  }\n\n  $$.pie($$.filterTargetsToShow($$.data.targets)).forEach(function(t) {\n    if (!found && t.data.id === d.data.id) {\n      found = true;\n      d = t;\n      d.index = index;\n    }\n    index++;\n  });\n  if (isNaN(d.startAngle)) {\n    d.startAngle = 0;\n  }\n  if (isNaN(d.endAngle)) {\n    d.endAngle = d.startAngle;\n  }\n  if ($$.isGaugeType(d.data)) {\n    gMin = config.gauge_min;\n    gMax = config.gauge_max;\n    gTic = (Math.PI * (config.gauge_fullCircle ? 2 : 1)) / (gMax - gMin);\n    gValue = d.value < gMin ? 0 : d.value < gMax ? d.value - gMin : gMax - gMin;\n    d.startAngle = config.gauge_startingAngle;\n    d.endAngle = d.startAngle + gTic * gValue;\n  }\n  return found ? d : null\n};\n\nChartInternal.prototype.getSvgArc = function() {\n  var $$ = this,\n    hasGaugeType = $$.hasType('gauge'),\n    singleArcWidth =\n      $$.gaugeArcWidth / $$.filterTargetsToShow($$.data.targets).length,\n    arc = $$.d3\n      .arc()\n      .outerRadius(function(d) {\n        return hasGaugeType ? $$.radius - singleArcWidth * d.index : $$.radius\n      })\n      .innerRadius(function(d) {\n        return hasGaugeType\n          ? $$.radius - singleArcWidth * (d.index + 1)\n          : $$.innerRadius\n      }),\n    newArc = function(d, withoutUpdate) {\n      var updated;\n      if (withoutUpdate) {\n        return arc(d)\n      } // for interpolate\n      updated = $$.updateAngle(d);\n      return updated ? arc(updated) : 'M 0 0'\n    };\n  // TODO: extends all function\n  newArc.centroid = arc.centroid;\n  return newArc\n};\n\nChartInternal.prototype.getSvgArcExpanded = function(rate) {\n  rate = rate || 1;\n  var $$ = this,\n    hasGaugeType = $$.hasType('gauge'),\n    singleArcWidth =\n      $$.gaugeArcWidth / $$.filterTargetsToShow($$.data.targets).length,\n    expandWidth = Math.min(\n      $$.radiusExpanded * rate - $$.radius,\n      singleArcWidth * 0.8 - (1 - rate) * 100\n    ),\n    arc = $$.d3\n      .arc()\n      .outerRadius(function(d) {\n        return hasGaugeType\n          ? $$.radius - singleArcWidth * d.index + expandWidth\n          : $$.radiusExpanded * rate\n      })\n      .innerRadius(function(d) {\n        return hasGaugeType\n          ? $$.radius - singleArcWidth * (d.index + 1)\n          : $$.innerRadius\n      });\n  return function(d) {\n    var updated = $$.updateAngle(d);\n    return updated ? arc(updated) : 'M 0 0'\n  }\n};\n\nChartInternal.prototype.getArc = function(d, withoutUpdate, force) {\n  return force || this.isArcType(d.data)\n    ? this.svgArc(d, withoutUpdate)\n    : 'M 0 0'\n};\n\nChartInternal.prototype.transformForArcLabel = function(d) {\n  var $$ = this,\n    config = $$.config,\n    updated = $$.updateAngle(d),\n    c,\n    x,\n    y,\n    h,\n    ratio,\n    translate = '',\n    hasGauge = $$.hasType('gauge');\n  if (updated && !hasGauge) {\n    c = this.svgArc.centroid(updated);\n    x = isNaN(c[0]) ? 0 : c[0];\n    y = isNaN(c[1]) ? 0 : c[1];\n    h = Math.sqrt(x * x + y * y);\n    if ($$.hasType('donut') && config.donut_label_ratio) {\n      ratio = isFunction(config.donut_label_ratio)\n        ? config.donut_label_ratio(d, $$.radius, h)\n        : config.donut_label_ratio;\n    } else if ($$.hasType('pie') && config.pie_label_ratio) {\n      ratio = isFunction(config.pie_label_ratio)\n        ? config.pie_label_ratio(d, $$.radius, h)\n        : config.pie_label_ratio;\n    } else {\n      ratio =\n        $$.radius && h\n          ? ((36 / $$.radius > 0.375 ? 1.175 - 36 / $$.radius : 0.8) *\n              $$.radius) /\n            h\n          : 0;\n    }\n    translate = 'translate(' + x * ratio + ',' + y * ratio + ')';\n  } else if (\n    updated &&\n    hasGauge &&\n    $$.filterTargetsToShow($$.data.targets).length > 1\n  ) {\n    var y1 = Math.sin(updated.endAngle - Math.PI / 2);\n    x = Math.cos(updated.endAngle - Math.PI / 2) * ($$.radiusExpanded + 25);\n    y = y1 * ($$.radiusExpanded + 15 - Math.abs(y1 * 10)) + 3;\n    translate = 'translate(' + x + ',' + y + ')';\n  }\n  return translate\n};\n\n/**\n * @deprecated Use `getRatio('arc', d)` instead.\n */\nChartInternal.prototype.getArcRatio = function(d) {\n  return this.getRatio('arc', d)\n};\n\nChartInternal.prototype.convertToArcData = function(d) {\n  return this.addName({\n    id: d.data.id,\n    value: d.value,\n    ratio: this.getRatio('arc', d),\n    index: d.index\n  })\n};\n\nChartInternal.prototype.textForArcLabel = function(d) {\n  var $$ = this,\n    updated,\n    value,\n    ratio,\n    id,\n    format;\n  if (!$$.shouldShowArcLabel()) {\n    return ''\n  }\n  updated = $$.updateAngle(d);\n  value = updated ? updated.value : null;\n  ratio = $$.getRatio('arc', updated);\n  id = d.data.id;\n  if (!$$.hasType('gauge') && !$$.meetsArcLabelThreshold(ratio)) {\n    return ''\n  }\n  format = $$.getArcLabelFormat();\n  return format\n    ? format(value, ratio, id)\n    : $$.defaultArcValueFormat(value, ratio)\n};\n\nChartInternal.prototype.textForGaugeMinMax = function(value, isMax) {\n  var $$ = this,\n    format = $$.getGaugeLabelExtents();\n\n  return format ? format(value, isMax) : value\n};\n\nChartInternal.prototype.expandArc = function(targetIds) {\n  var $$ = this,\n    interval;\n\n  // MEMO: avoid to cancel transition\n  if ($$.transiting) {\n    interval = window.setInterval(function() {\n      if (!$$.transiting) {\n        window.clearInterval(interval);\n        if ($$.legend.selectAll('.c3-legend-item-focused').size() > 0) {\n          $$.expandArc(targetIds);\n        }\n      }\n    }, 10);\n    return\n  }\n\n  targetIds = $$.mapToTargetIds(targetIds);\n\n  $$.svg\n    .selectAll($$.selectorTargets(targetIds, '.' + CLASS.chartArc))\n    .each(function(d) {\n      if (!$$.shouldExpand(d.data.id)) {\n        return\n      }\n      $$.d3\n        .select(this)\n        .selectAll('path')\n        .transition()\n        .duration($$.expandDuration(d.data.id))\n        .attr('d', $$.svgArcExpanded)\n        .transition()\n        .duration($$.expandDuration(d.data.id) * 2)\n        .attr('d', $$.svgArcExpandedSub)\n        .each(function(d) {\n          if ($$.isDonutType(d.data)) ;\n        });\n    });\n};\n\nChartInternal.prototype.unexpandArc = function(targetIds) {\n  var $$ = this;\n\n  if ($$.transiting) {\n    return\n  }\n\n  targetIds = $$.mapToTargetIds(targetIds);\n\n  $$.svg\n    .selectAll($$.selectorTargets(targetIds, '.' + CLASS.chartArc))\n    .selectAll('path')\n    .transition()\n    .duration(function(d) {\n      return $$.expandDuration(d.data.id)\n    })\n    .attr('d', $$.svgArc);\n  $$.svg.selectAll('.' + CLASS.arc);\n};\n\nChartInternal.prototype.expandDuration = function(id) {\n  var $$ = this,\n    config = $$.config;\n\n  if ($$.isDonutType(id)) {\n    return config.donut_expand_duration\n  } else if ($$.isGaugeType(id)) {\n    return config.gauge_expand_duration\n  } else if ($$.isPieType(id)) {\n    return config.pie_expand_duration\n  } else {\n    return 50\n  }\n};\n\nChartInternal.prototype.shouldExpand = function(id) {\n  var $$ = this,\n    config = $$.config;\n  return (\n    ($$.isDonutType(id) && config.donut_expand) ||\n    ($$.isGaugeType(id) && config.gauge_expand) ||\n    ($$.isPieType(id) && config.pie_expand)\n  )\n};\n\nChartInternal.prototype.shouldShowArcLabel = function() {\n  var $$ = this,\n    config = $$.config,\n    shouldShow = true;\n  if ($$.hasType('donut')) {\n    shouldShow = config.donut_label_show;\n  } else if ($$.hasType('pie')) {\n    shouldShow = config.pie_label_show;\n  }\n  // when gauge, always true\n  return shouldShow\n};\n\nChartInternal.prototype.meetsArcLabelThreshold = function(ratio) {\n  var $$ = this,\n    config = $$.config,\n    threshold = $$.hasType('donut')\n      ? config.donut_label_threshold\n      : config.pie_label_threshold;\n  return ratio >= threshold\n};\n\nChartInternal.prototype.getArcLabelFormat = function() {\n  var $$ = this,\n    config = $$.config,\n    format = config.pie_label_format;\n  if ($$.hasType('gauge')) {\n    format = config.gauge_label_format;\n  } else if ($$.hasType('donut')) {\n    format = config.donut_label_format;\n  }\n  return format\n};\n\nChartInternal.prototype.getGaugeLabelExtents = function() {\n  var $$ = this,\n    config = $$.config;\n  return config.gauge_label_extents\n};\n\nChartInternal.prototype.getArcTitle = function() {\n  var $$ = this;\n  return $$.hasType('donut') ? $$.config.donut_title : ''\n};\n\nChartInternal.prototype.updateTargetsForArc = function(targets) {\n  var $$ = this,\n    main = $$.main,\n    mainPies,\n    mainPieEnter,\n    classChartArc = $$.classChartArc.bind($$),\n    classArcs = $$.classArcs.bind($$),\n    classFocus = $$.classFocus.bind($$);\n  mainPies = main\n    .select('.' + CLASS.chartArcs)\n    .selectAll('.' + CLASS.chartArc)\n    .data($$.pie(targets))\n    .attr('class', function(d) {\n      return classChartArc(d) + classFocus(d.data)\n    });\n  mainPieEnter = mainPies\n    .enter()\n    .append('g')\n    .attr('class', classChartArc);\n  mainPieEnter.append('g').attr('class', classArcs);\n  mainPieEnter\n    .append('text')\n    .attr('dy', $$.hasType('gauge') ? '-.1em' : '.35em')\n    .style('opacity', 0)\n    .style('text-anchor', 'middle')\n    .style('pointer-events', 'none');\n  // MEMO: can not keep same color..., but not bad to update color in redraw\n  //mainPieUpdate.exit().remove();\n};\n\nChartInternal.prototype.initArc = function() {\n  var $$ = this;\n  $$.arcs = $$.main\n    .select('.' + CLASS.chart)\n    .append('g')\n    .attr('class', CLASS.chartArcs)\n    .attr('transform', $$.getTranslate('arc'));\n  $$.arcs\n    .append('text')\n    .attr('class', CLASS.chartArcsTitle)\n    .style('text-anchor', 'middle')\n    .text($$.getArcTitle());\n};\n\nChartInternal.prototype.redrawArc = function(\n  duration,\n  durationForExit,\n  withTransform\n) {\n  var $$ = this,\n    d3 = $$.d3,\n    config = $$.config,\n    main = $$.main,\n    arcs,\n    mainArc,\n    arcLabelLines,\n    mainArcLabelLine,\n    hasGaugeType = $$.hasType('gauge');\n  arcs = main\n    .selectAll('.' + CLASS.arcs)\n    .selectAll('.' + CLASS.arc)\n    .data($$.arcData.bind($$));\n  mainArc = arcs\n    .enter()\n    .append('path')\n    .attr('class', $$.classArc.bind($$))\n    .style('fill', function(d) {\n      return $$.color(d.data)\n    })\n    .style('cursor', function(d) {\n      return config.interaction_enabled && config.data_selection_isselectable(d)\n        ? 'pointer'\n        : null\n    })\n    .each(function(d) {\n      if ($$.isGaugeType(d.data)) {\n        d.startAngle = d.endAngle = config.gauge_startingAngle;\n      }\n      this._current = d;\n    })\n    .merge(arcs);\n  if (hasGaugeType) {\n    arcLabelLines = main\n      .selectAll('.' + CLASS.arcs)\n      .selectAll('.' + CLASS.arcLabelLine)\n      .data($$.arcData.bind($$));\n    mainArcLabelLine = arcLabelLines\n      .enter()\n      .append('rect')\n      .attr('class', function(d) {\n        return (\n          CLASS.arcLabelLine +\n          ' ' +\n          CLASS.target +\n          ' ' +\n          CLASS.target +\n          '-' +\n          d.data.id\n        )\n      })\n      .merge(arcLabelLines);\n\n    if ($$.filterTargetsToShow($$.data.targets).length === 1) {\n      mainArcLabelLine.style('display', 'none');\n    } else {\n      mainArcLabelLine\n        .style('fill', function(d) {\n          return $$.levelColor\n            ? $$.levelColor(\n                d.data.values.reduce(function(total, item) {\n                  return total + item.value\n                }, 0)\n              )\n            : $$.color(d.data)\n        })\n        .style('display', config.gauge_labelLine_show ? '' : 'none')\n        .each(function(d) {\n          var lineLength = 0,\n            lineThickness = 2,\n            x = 0,\n            y = 0,\n            transform = '';\n          if ($$.hiddenTargetIds.indexOf(d.data.id) < 0) {\n            var updated = $$.updateAngle(d),\n              innerLineLength =\n                ($$.gaugeArcWidth /\n                  $$.filterTargetsToShow($$.data.targets).length) *\n                (updated.index + 1),\n              lineAngle = updated.endAngle - Math.PI / 2,\n              arcInnerRadius = $$.radius - innerLineLength,\n              linePositioningAngle =\n                lineAngle - (arcInnerRadius === 0 ? 0 : 1 / arcInnerRadius);\n            lineLength = $$.radiusExpanded - $$.radius + innerLineLength;\n            x = Math.cos(linePositioningAngle) * arcInnerRadius;\n            y = Math.sin(linePositioningAngle) * arcInnerRadius;\n            transform =\n              'rotate(' +\n              (lineAngle * 180) / Math.PI +\n              ', ' +\n              x +\n              ', ' +\n              y +\n              ')';\n          }\n          d3.select(this)\n            .attr('x', x)\n            .attr('y', y)\n            .attr('width', lineLength)\n            .attr('height', lineThickness)\n            .attr('transform', transform)\n            .style(\n              'stroke-dasharray',\n              '0, ' + (lineLength + lineThickness) + ', 0'\n            );\n        });\n    }\n  }\n  mainArc\n    .attr('transform', function(d) {\n      return !$$.isGaugeType(d.data) && withTransform ? 'scale(0)' : ''\n    })\n    .on(\n      'mouseover',\n      config.interaction_enabled\n        ? function(d) {\n            var updated, arcData;\n            if ($$.transiting) {\n              // skip while transiting\n              return\n            }\n            updated = $$.updateAngle(d);\n            if (updated) {\n              arcData = $$.convertToArcData(updated);\n              // transitions\n              $$.expandArc(updated.data.id);\n              $$.api.focus(updated.data.id);\n              $$.toggleFocusLegend(updated.data.id, true);\n              $$.config.data_onmouseover(arcData, this);\n            }\n          }\n        : null\n    )\n    .on(\n      'mousemove',\n      config.interaction_enabled\n        ? function(d) {\n            var updated = $$.updateAngle(d),\n              arcData,\n              selectedData;\n            if (updated) {\n(arcData = $$.convertToArcData(updated)),\n                (selectedData = [arcData]);\n              $$.showTooltip(selectedData, this);\n            }\n          }\n        : null\n    )\n    .on(\n      'mouseout',\n      config.interaction_enabled\n        ? function(d) {\n            var updated, arcData;\n            if ($$.transiting) {\n              // skip while transiting\n              return\n            }\n            updated = $$.updateAngle(d);\n            if (updated) {\n              arcData = $$.convertToArcData(updated);\n              // transitions\n              $$.unexpandArc(updated.data.id);\n              $$.api.revert();\n              $$.revertLegend();\n              $$.hideTooltip();\n              $$.config.data_onmouseout(arcData, this);\n            }\n          }\n        : null\n    )\n    .on(\n      'click',\n      config.interaction_enabled\n        ? function(d, i) {\n            var updated = $$.updateAngle(d),\n              arcData;\n            if (updated) {\n              arcData = $$.convertToArcData(updated);\n              if ($$.toggleShape) {\n                $$.toggleShape(this, arcData, i);\n              }\n              $$.config.data_onclick.call($$.api, arcData, this);\n            }\n          }\n        : null\n    )\n    .each(function() {\n      $$.transiting = true;\n    })\n    .transition()\n    .duration(duration)\n    .attrTween('d', function(d) {\n      var updated = $$.updateAngle(d),\n        interpolate;\n      if (!updated) {\n        return function() {\n          return 'M 0 0'\n        }\n      }\n      //                if (this._current === d) {\n      //                    this._current = {\n      //                        startAngle: Math.PI*2,\n      //                        endAngle: Math.PI*2,\n      //                    };\n      //                }\n      if (isNaN(this._current.startAngle)) {\n        this._current.startAngle = 0;\n      }\n      if (isNaN(this._current.endAngle)) {\n        this._current.endAngle = this._current.startAngle;\n      }\n      interpolate = d3.interpolate(this._current, updated);\n      this._current = interpolate(0);\n      return function(t) {\n        // prevents crashing the charts once in transition and chart.destroy() has been called\n        if ($$.config === null) {\n          return 'M 0 0'\n        }\n        var interpolated = interpolate(t);\n        interpolated.data = d.data; // data.id will be updated by interporator\n        return $$.getArc(interpolated, true)\n      }\n    })\n    .attr('transform', withTransform ? 'scale(1)' : '')\n    .style('fill', function(d) {\n      return $$.levelColor\n        ? $$.levelColor(\n            d.data.values.reduce(function(total, item) {\n              return total + item.value\n            }, 0)\n          )\n        : $$.color(d.data.id)\n    }) // Where gauge reading color would receive customization.\n    .call($$.endall, function() {\n      $$.transiting = false;\n    });\n  arcs\n    .exit()\n    .transition()\n    .duration(durationForExit)\n    .style('opacity', 0)\n    .remove();\n  main\n    .selectAll('.' + CLASS.chartArc)\n    .select('text')\n    .style('opacity', 0)\n    .attr('class', function(d) {\n      return $$.isGaugeType(d.data) ? CLASS.gaugeValue : ''\n    })\n    .text($$.textForArcLabel.bind($$))\n    .attr('transform', $$.transformForArcLabel.bind($$))\n    .style('font-size', function(d) {\n      return $$.isGaugeType(d.data) &&\n        $$.filterTargetsToShow($$.data.targets).length === 1\n        ? Math.round($$.radius / 5) + 'px'\n        : ''\n    })\n    .transition()\n    .duration(duration)\n    .style('opacity', function(d) {\n      return $$.isTargetToShow(d.data.id) && $$.isArcType(d.data) ? 1 : 0\n    });\n  main\n    .select('.' + CLASS.chartArcsTitle)\n    .style('opacity', $$.hasType('donut') || hasGaugeType ? 1 : 0);\n\n  if (hasGaugeType) {\n    let index = 0;\n    const backgroundArc = $$.arcs\n      .select('g.' + CLASS.chartArcsBackground)\n      .selectAll('path.' + CLASS.chartArcsBackground)\n      .data($$.data.targets);\n\n    backgroundArc\n      .enter()\n      .append('path')\n      .attr(\n        'class',\n        (d, i) =>\n          CLASS.chartArcsBackground + ' ' + CLASS.chartArcsBackground + '-' + i\n      )\n      .merge(backgroundArc)\n      .attr('d', d1 => {\n        if ($$.hiddenTargetIds.indexOf(d1.id) >= 0) {\n          return 'M 0 0'\n        }\n\n        var d = {\n          data: [{ value: config.gauge_max }],\n          startAngle: config.gauge_startingAngle,\n          endAngle:\n            -1 *\n            config.gauge_startingAngle *\n            (config.gauge_fullCircle ? Math.PI : 1),\n          index: index++\n        };\n        return $$.getArc(d, true, true)\n      });\n\n    backgroundArc.exit().remove();\n\n    $$.arcs\n      .select('.' + CLASS.chartArcsGaugeUnit)\n      .attr('dy', '.75em')\n      .text(config.gauge_label_show ? config.gauge_units : '');\n    $$.arcs\n      .select('.' + CLASS.chartArcsGaugeMin)\n      .attr(\n        'dx',\n        -1 *\n          ($$.innerRadius +\n            ($$.radius - $$.innerRadius) / (config.gauge_fullCircle ? 1 : 2)) +\n          'px'\n      )\n      .attr('dy', '1.2em')\n      .text(\n        config.gauge_label_show\n          ? $$.textForGaugeMinMax(config.gauge_min, false)\n          : ''\n      );\n    $$.arcs\n      .select('.' + CLASS.chartArcsGaugeMax)\n      .attr(\n        'dx',\n        $$.innerRadius +\n          ($$.radius - $$.innerRadius) / (config.gauge_fullCircle ? 1 : 2) +\n          'px'\n      )\n      .attr('dy', '1.2em')\n      .text(\n        config.gauge_label_show\n          ? $$.textForGaugeMinMax(config.gauge_max, true)\n          : ''\n      );\n  }\n};\nChartInternal.prototype.initGauge = function() {\n  var arcs = this.arcs;\n  if (this.hasType('gauge')) {\n    arcs.append('g').attr('class', CLASS.chartArcsBackground);\n    arcs\n      .append('text')\n      .attr('class', CLASS.chartArcsGaugeUnit)\n      .style('text-anchor', 'middle')\n      .style('pointer-events', 'none');\n    arcs\n      .append('text')\n      .attr('class', CLASS.chartArcsGaugeMin)\n      .style('text-anchor', 'middle')\n      .style('pointer-events', 'none');\n    arcs\n      .append('text')\n      .attr('class', CLASS.chartArcsGaugeMax)\n      .style('text-anchor', 'middle')\n      .style('pointer-events', 'none');\n  }\n};\nChartInternal.prototype.getGaugeLabelHeight = function() {\n  return this.config.gauge_label_show ? 20 : 0\n};\n\n/**\n * Store value into cache\n *\n * @param key\n * @param value\n */\nChartInternal.prototype.addToCache = function(key, value) {\n  this.cache[`$${key}`] = value;\n};\n\n/**\n * Returns a cached value or undefined\n *\n * @param key\n * @return {*}\n */\nChartInternal.prototype.getFromCache = function(key) {\n  return this.cache[`$${key}`]\n};\n\n/**\n * Reset cached data\n */\nChartInternal.prototype.resetCache = function() {\n  Object.keys(this.cache)\n    .filter(key => /^\\$/.test(key))\n    .forEach(key => {\n      delete this.cache[key];\n    });\n};\n\n// Old API that stores Targets\n\nChartInternal.prototype.hasCaches = function(ids) {\n  for (var i = 0; i < ids.length; i++) {\n    if (!(ids[i] in this.cache)) {\n      return false\n    }\n  }\n  return true\n};\nChartInternal.prototype.addCache = function(id, target) {\n  this.cache[id] = this.cloneTarget(target);\n};\nChartInternal.prototype.getCaches = function(ids) {\n  var targets = [],\n    i;\n  for (i = 0; i < ids.length; i++) {\n    if (ids[i] in this.cache) {\n      targets.push(this.cloneTarget(this.cache[ids[i]]));\n    }\n  }\n  return targets\n};\n\nChartInternal.prototype.categoryName = function(i) {\n  var config = this.config;\n  return i < config.axis_x_categories.length ? config.axis_x_categories[i] : i\n};\n\nChartInternal.prototype.generateTargetClass = function(targetId) {\n  return targetId || targetId === 0 ? ('-' + targetId).replace(/\\s/g, '-') : ''\n};\nChartInternal.prototype.generateClass = function(prefix, targetId) {\n  return ' ' + prefix + ' ' + prefix + this.generateTargetClass(targetId)\n};\nChartInternal.prototype.classText = function(d) {\n  return this.generateClass(CLASS.text, d.index)\n};\nChartInternal.prototype.classTexts = function(d) {\n  return this.generateClass(CLASS.texts, d.id)\n};\nChartInternal.prototype.classShape = function(d) {\n  return this.generateClass(CLASS.shape, d.index)\n};\nChartInternal.prototype.classShapes = function(d) {\n  return this.generateClass(CLASS.shapes, d.id)\n};\nChartInternal.prototype.classLine = function(d) {\n  return this.classShape(d) + this.generateClass(CLASS.line, d.id)\n};\nChartInternal.prototype.classLines = function(d) {\n  return this.classShapes(d) + this.generateClass(CLASS.lines, d.id)\n};\nChartInternal.prototype.classCircle = function(d) {\n  return this.classShape(d) + this.generateClass(CLASS.circle, d.index)\n};\nChartInternal.prototype.classCircles = function(d) {\n  return this.classShapes(d) + this.generateClass(CLASS.circles, d.id)\n};\nChartInternal.prototype.classBar = function(d) {\n  return this.classShape(d) + this.generateClass(CLASS.bar, d.index)\n};\nChartInternal.prototype.classBars = function(d) {\n  return this.classShapes(d) + this.generateClass(CLASS.bars, d.id)\n};\nChartInternal.prototype.classArc = function(d) {\n  return this.classShape(d.data) + this.generateClass(CLASS.arc, d.data.id)\n};\nChartInternal.prototype.classArcs = function(d) {\n  return this.classShapes(d.data) + this.generateClass(CLASS.arcs, d.data.id)\n};\nChartInternal.prototype.classArea = function(d) {\n  return this.classShape(d) + this.generateClass(CLASS.area, d.id)\n};\nChartInternal.prototype.classAreas = function(d) {\n  return this.classShapes(d) + this.generateClass(CLASS.areas, d.id)\n};\nChartInternal.prototype.classRegion = function(d, i) {\n  return (\n    this.generateClass(CLASS.region, i) + ' ' + ('class' in d ? d['class'] : '')\n  )\n};\nChartInternal.prototype.classEvent = function(d) {\n  return this.generateClass(CLASS.eventRect, d.index)\n};\nChartInternal.prototype.classTarget = function(id) {\n  var $$ = this;\n  var additionalClassSuffix = $$.config.data_classes[id],\n    additionalClass = '';\n  if (additionalClassSuffix) {\n    additionalClass = ' ' + CLASS.target + '-' + additionalClassSuffix;\n  }\n  return $$.generateClass(CLASS.target, id) + additionalClass\n};\nChartInternal.prototype.classFocus = function(d) {\n  return this.classFocused(d) + this.classDefocused(d)\n};\nChartInternal.prototype.classFocused = function(d) {\n  return ' ' + (this.focusedTargetIds.indexOf(d.id) >= 0 ? CLASS.focused : '')\n};\nChartInternal.prototype.classDefocused = function(d) {\n  return (\n    ' ' + (this.defocusedTargetIds.indexOf(d.id) >= 0 ? CLASS.defocused : '')\n  )\n};\nChartInternal.prototype.classChartText = function(d) {\n  return CLASS.chartText + this.classTarget(d.id)\n};\nChartInternal.prototype.classChartLine = function(d) {\n  return CLASS.chartLine + this.classTarget(d.id)\n};\nChartInternal.prototype.classChartBar = function(d) {\n  return CLASS.chartBar + this.classTarget(d.id)\n};\nChartInternal.prototype.classChartArc = function(d) {\n  return CLASS.chartArc + this.classTarget(d.data.id)\n};\nChartInternal.prototype.getTargetSelectorSuffix = function(targetId) {\n  const targetClass = this.generateTargetClass(targetId);\n  if (window.CSS && window.CSS.escape) {\n    return window.CSS.escape(targetClass)\n  }\n\n  // fallback on imperfect method for old browsers (does not handles unicode)\n  return targetClass.replace(/([?!@#$%^&*()=+,.<>'\":;\\[\\]\\/|~`{}\\\\])/g, '\\\\$1')\n};\nChartInternal.prototype.selectorTarget = function(id, prefix) {\n  return (prefix || '') + '.' + CLASS.target + this.getTargetSelectorSuffix(id)\n};\nChartInternal.prototype.selectorTargets = function(ids, prefix) {\n  var $$ = this;\n  ids = ids || [];\n  return ids.length\n    ? ids.map(function(id) {\n        return $$.selectorTarget(id, prefix)\n      })\n    : null\n};\nChartInternal.prototype.selectorLegend = function(id) {\n  return '.' + CLASS.legendItem + this.getTargetSelectorSuffix(id)\n};\nChartInternal.prototype.selectorLegends = function(ids) {\n  var $$ = this;\n  return ids && ids.length\n    ? ids.map(function(id) {\n        return $$.selectorLegend(id)\n      })\n    : null\n};\n\nChartInternal.prototype.getClipPath = function(id) {\n  return 'url(' + (isIE(9) ? '' : document.URL.split('#')[0]) + '#' + id + ')'\n};\nChartInternal.prototype.appendClip = function(parent, id) {\n  return parent\n    .append('clipPath')\n    .attr('id', id)\n    .append('rect')\n};\nChartInternal.prototype.getAxisClipX = function(forHorizontal) {\n  // axis line width + padding for left\n  var left = Math.max(30, this.margin.left);\n  return forHorizontal ? -(1 + left) : -(left - 1)\n};\nChartInternal.prototype.getAxisClipY = function(forHorizontal) {\n  return forHorizontal ? -20 : -this.margin.top\n};\nChartInternal.prototype.getXAxisClipX = function() {\n  var $$ = this;\n  return $$.getAxisClipX(!$$.config.axis_rotated)\n};\nChartInternal.prototype.getXAxisClipY = function() {\n  var $$ = this;\n  return $$.getAxisClipY(!$$.config.axis_rotated)\n};\nChartInternal.prototype.getYAxisClipX = function() {\n  var $$ = this;\n  return $$.config.axis_y_inner ? -1 : $$.getAxisClipX($$.config.axis_rotated)\n};\nChartInternal.prototype.getYAxisClipY = function() {\n  var $$ = this;\n  return $$.getAxisClipY($$.config.axis_rotated)\n};\nChartInternal.prototype.getAxisClipWidth = function(forHorizontal) {\n  var $$ = this,\n    left = Math.max(30, $$.margin.left),\n    right = Math.max(30, $$.margin.right);\n  // width + axis line width + padding for left/right\n  return forHorizontal ? $$.width + 2 + left + right : $$.margin.left + 20\n};\nChartInternal.prototype.getAxisClipHeight = function(forHorizontal) {\n  // less than 20 is not enough to show the axis label 'outer' without legend\n  return (\n    (forHorizontal ? this.margin.bottom : this.margin.top + this.height) + 20\n  )\n};\nChartInternal.prototype.getXAxisClipWidth = function() {\n  var $$ = this;\n  return $$.getAxisClipWidth(!$$.config.axis_rotated)\n};\nChartInternal.prototype.getXAxisClipHeight = function() {\n  var $$ = this;\n  return $$.getAxisClipHeight(!$$.config.axis_rotated)\n};\nChartInternal.prototype.getYAxisClipWidth = function() {\n  var $$ = this;\n  return (\n    $$.getAxisClipWidth($$.config.axis_rotated) +\n    ($$.config.axis_y_inner ? 20 : 0)\n  )\n};\nChartInternal.prototype.getYAxisClipHeight = function() {\n  var $$ = this;\n  return $$.getAxisClipHeight($$.config.axis_rotated)\n};\n\nChartInternal.prototype.generateColor = function() {\n  var $$ = this,\n    config = $$.config,\n    d3 = $$.d3,\n    colors = config.data_colors,\n    pattern = notEmpty(config.color_pattern)\n      ? config.color_pattern\n      : d3.schemeCategory10,\n    callback = config.data_color,\n    ids = [];\n\n  return function(d) {\n    var id = d.id || (d.data && d.data.id) || d,\n      color;\n\n    // if callback function is provided\n    if (colors[id] instanceof Function) {\n      color = colors[id](d);\n    }\n    // if specified, choose that color\n    else if (colors[id]) {\n      color = colors[id];\n    }\n    // if not specified, choose from pattern\n    else {\n      if (ids.indexOf(id) < 0) {\n        ids.push(id);\n      }\n      color = pattern[ids.indexOf(id) % pattern.length];\n      colors[id] = color;\n    }\n    return callback instanceof Function ? callback(color, d) : color\n  }\n};\nChartInternal.prototype.generateLevelColor = function() {\n  var $$ = this,\n    config = $$.config,\n    colors = config.color_pattern,\n    threshold = config.color_threshold,\n    asValue = threshold.unit === 'value',\n    values =\n      threshold.values && threshold.values.length ? threshold.values : [],\n    max = threshold.max || 100;\n  return notEmpty(threshold) && notEmpty(colors)\n    ? function(value) {\n        var i,\n          v,\n          color = colors[colors.length - 1];\n        for (i = 0; i < values.length; i++) {\n          v = asValue ? value : (value * 100) / max;\n          if (v < values[i]) {\n            color = colors[i];\n            break\n          }\n        }\n        return color\n      }\n    : null\n};\n\nChartInternal.prototype.getDefaultConfig = function() {\n  var config = {\n    bindto: '#chart',\n    svg_classname: undefined,\n    size_width: undefined,\n    size_height: undefined,\n    padding_left: undefined,\n    padding_right: undefined,\n    padding_top: undefined,\n    padding_bottom: undefined,\n    resize_auto: true,\n    zoom_enabled: false,\n    zoom_initialRange: undefined,\n    zoom_type: 'scroll',\n    zoom_disableDefaultBehavior: false,\n    zoom_privileged: false,\n    zoom_rescale: false,\n    zoom_onzoom: function() {},\n    zoom_onzoomstart: function() {},\n    zoom_onzoomend: function() {},\n    zoom_x_min: undefined,\n    zoom_x_max: undefined,\n    interaction_brighten: true,\n    interaction_enabled: true,\n    onmouseover: function() {},\n    onmouseout: function() {},\n    onresize: function() {},\n    onresized: function() {},\n    oninit: function() {},\n    onrendered: function() {},\n    transition_duration: 350,\n    data_epochs: 'epochs',\n    data_x: undefined,\n    data_xs: {},\n    data_xFormat: '%Y-%m-%d',\n    data_xLocaltime: true,\n    data_xSort: true,\n    data_idConverter: function(id) {\n      return id\n    },\n    data_names: {},\n    data_classes: {},\n    data_groups: [],\n    data_axes: {},\n    data_type: undefined,\n    data_types: {},\n    data_labels: {},\n    data_order: 'desc',\n    data_regions: {},\n    data_color: undefined,\n    data_colors: {},\n    data_hide: false,\n    data_filter: undefined,\n    data_selection_enabled: false,\n    data_selection_grouped: false,\n    data_selection_isselectable: function() {\n      return true\n    },\n    data_selection_multiple: true,\n    data_selection_draggable: false,\n    data_stack_normalize: false,\n    data_onclick: function() {},\n    data_onmouseover: function() {},\n    data_onmouseout: function() {},\n    data_onselected: function() {},\n    data_onunselected: function() {},\n    data_url: undefined,\n    data_headers: undefined,\n    data_json: undefined,\n    data_rows: undefined,\n    data_columns: undefined,\n    data_mimeType: undefined,\n    data_keys: undefined,\n    // configuration for no plot-able data supplied.\n    data_empty_label_text: '',\n    // subchart\n    subchart_show: false,\n    subchart_size_height: 60,\n    subchart_axis_x_show: true,\n    subchart_onbrush: function() {},\n    // color\n    color_pattern: [],\n    color_threshold: {},\n    // legend\n    legend_show: true,\n    legend_hide: false,\n    legend_position: 'bottom',\n    legend_inset_anchor: 'top-left',\n    legend_inset_x: 10,\n    legend_inset_y: 0,\n    legend_inset_step: undefined,\n    legend_item_onclick: undefined,\n    legend_item_onmouseover: undefined,\n    legend_item_onmouseout: undefined,\n    legend_equally: false,\n    legend_padding: 0,\n    legend_item_tile_width: 10,\n    legend_item_tile_height: 10,\n    // axis\n    axis_rotated: false,\n    axis_x_show: true,\n    axis_x_type: 'indexed',\n    axis_x_localtime: true,\n    axis_x_categories: [],\n    axis_x_tick_centered: false,\n    axis_x_tick_format: undefined,\n    axis_x_tick_culling: {},\n    axis_x_tick_culling_max: 10,\n    axis_x_tick_count: undefined,\n    axis_x_tick_fit: true,\n    axis_x_tick_values: null,\n    axis_x_tick_rotate: 0,\n    axis_x_tick_outer: true,\n    axis_x_tick_multiline: true,\n    axis_x_tick_multilineMax: 0,\n    axis_x_tick_width: null,\n    axis_x_max: undefined,\n    axis_x_min: undefined,\n    axis_x_padding: {},\n    axis_x_height: undefined,\n    axis_x_selection: undefined,\n    axis_x_label: {},\n    axis_x_inner: undefined,\n    axis_y_show: true,\n    axis_y_type: 'linear',\n    axis_y_max: undefined,\n    axis_y_min: undefined,\n    axis_y_inverted: false,\n    axis_y_center: undefined,\n    axis_y_inner: undefined,\n    axis_y_label: {},\n    axis_y_tick_format: undefined,\n    axis_y_tick_outer: true,\n    axis_y_tick_values: null,\n    axis_y_tick_rotate: 0,\n    axis_y_tick_count: undefined,\n    axis_y_tick_time_type: undefined,\n    axis_y_tick_time_interval: undefined,\n    axis_y_padding: {},\n    axis_y_default: undefined,\n    axis_y2_show: false,\n    axis_y2_type: 'linear',\n    axis_y2_max: undefined,\n    axis_y2_min: undefined,\n    axis_y2_inverted: false,\n    axis_y2_center: undefined,\n    axis_y2_inner: undefined,\n    axis_y2_label: {},\n    axis_y2_tick_format: undefined,\n    axis_y2_tick_outer: true,\n    axis_y2_tick_values: null,\n    axis_y2_tick_count: undefined,\n    axis_y2_padding: {},\n    axis_y2_default: undefined,\n    // grid\n    grid_x_show: false,\n    grid_x_type: 'tick',\n    grid_x_lines: [],\n    grid_y_show: false,\n    // not used\n    // grid_y_type: 'tick',\n    grid_y_lines: [],\n    grid_y_ticks: 10,\n    grid_focus_show: true,\n    grid_lines_front: true,\n    // point - point of each data\n    point_show: true,\n    point_r: 2.5,\n    point_sensitivity: 10,\n    point_focus_expand_enabled: true,\n    point_focus_expand_r: undefined,\n    point_select_r: undefined,\n    // line\n    line_connectNull: false,\n    line_step_type: 'step',\n    // bar\n    bar_width: undefined,\n    bar_width_ratio: 0.6,\n    bar_width_max: undefined,\n    bar_zerobased: true,\n    bar_space: 0,\n    // area\n    area_zerobased: true,\n    area_above: false,\n    // pie\n    pie_label_show: true,\n    pie_label_format: undefined,\n    pie_label_threshold: 0.05,\n    pie_label_ratio: undefined,\n    pie_expand: {},\n    pie_expand_duration: 50,\n    pie_padAngle: 0,\n    // gauge\n    gauge_fullCircle: false,\n    gauge_label_show: true,\n    gauge_labelLine_show: true,\n    gauge_label_format: undefined,\n    gauge_min: 0,\n    gauge_max: 100,\n    gauge_startingAngle: (-1 * Math.PI) / 2,\n    gauge_label_extents: undefined,\n    gauge_units: undefined,\n    gauge_width: undefined,\n    gauge_arcs_minWidth: 5,\n    gauge_expand: {},\n    gauge_expand_duration: 50,\n    // donut\n    donut_label_show: true,\n    donut_label_format: undefined,\n    donut_label_threshold: 0.05,\n    donut_label_ratio: undefined,\n    donut_width: undefined,\n    donut_title: '',\n    donut_expand: {},\n    donut_expand_duration: 50,\n    donut_padAngle: 0,\n    // spline\n    spline_interpolation_type: 'cardinal',\n    // stanford\n    stanford_lines: [],\n    stanford_regions: [],\n    stanford_texts: [],\n    stanford_scaleMin: undefined,\n    stanford_scaleMax: undefined,\n    stanford_scaleWidth: undefined,\n    stanford_scaleFormat: undefined,\n    stanford_scaleValues: undefined,\n    stanford_colors: undefined,\n    stanford_padding: {\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0\n    },\n    // region - region to change style\n    regions: [],\n    // tooltip - show when mouseover on each data\n    tooltip_show: true,\n    tooltip_grouped: true,\n    tooltip_order: undefined,\n    tooltip_format_title: undefined,\n    tooltip_format_name: undefined,\n    tooltip_format_value: undefined,\n    tooltip_horizontal: undefined,\n    tooltip_position: undefined,\n    tooltip_contents: function(\n      d,\n      defaultTitleFormat,\n      defaultValueFormat,\n      color\n    ) {\n      return this.getTooltipContent\n        ? this.getTooltipContent(\n            d,\n            defaultTitleFormat,\n            defaultValueFormat,\n            color\n          )\n        : ''\n    },\n    tooltip_init_show: false,\n    tooltip_init_x: 0,\n    tooltip_init_position: { top: '0px', left: '50px' },\n    tooltip_onshow: function() {},\n    tooltip_onhide: function() {},\n    // title\n    title_text: undefined,\n    title_padding: {\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0\n    },\n    title_position: 'top-center'\n  };\n\n  Object.keys(this.additionalConfig).forEach(function(key) {\n    config[key] = this.additionalConfig[key];\n  }, this);\n\n  return config\n};\nChartInternal.prototype.additionalConfig = {};\n\nChartInternal.prototype.loadConfig = function(config) {\n  var this_config = this.config,\n    target,\n    keys,\n    read;\n  function find() {\n    var key = keys.shift();\n    //        console.log(\"key =>\", key, \", target =>\", target);\n    if (key && target && typeof target === 'object' && key in target) {\n      target = target[key];\n      return find()\n    } else if (!key) {\n      return target\n    } else {\n      return undefined\n    }\n  }\n  Object.keys(this_config).forEach(function(key) {\n    target = config;\n    keys = key.split('_');\n    read = find();\n    //        console.log(\"CONFIG : \", key, read);\n    if (isDefined(read)) {\n      this_config[key] = read;\n    }\n  });\n};\n\nChartInternal.prototype.convertUrlToData = function(\n  url,\n  mimeType,\n  headers,\n  keys,\n  done\n) {\n  var $$ = this,\n    type = mimeType ? mimeType : 'csv',\n    f,\n    converter;\n\n  if (type === 'json') {\n    f = $$.d3.json;\n    converter = $$.convertJsonToData;\n  } else if (type === 'tsv') {\n    f = $$.d3.tsv;\n    converter = $$.convertXsvToData;\n  } else {\n    f = $$.d3.csv;\n    converter = $$.convertXsvToData;\n  }\n\n  f(url, headers)\n    .then(function(data) {\n      done.call($$, converter.call($$, data, keys));\n    })\n    .catch(function(error) {\n      throw error\n    });\n};\nChartInternal.prototype.convertXsvToData = function(xsv) {\n  var keys = xsv.columns,\n    rows = xsv;\n  if (rows.length === 0) {\n    return {\n      keys,\n      rows: [keys.reduce((row, key) => Object.assign(row, { [key]: null }), {})]\n    }\n  } else {\n    // [].concat() is to convert result into a plain array otherwise\n    // test is not happy because rows have properties.\n    return { keys, rows: [].concat(xsv) }\n  }\n};\nChartInternal.prototype.convertJsonToData = function(json, keys) {\n  var $$ = this,\n    new_rows = [],\n    targetKeys,\n    data;\n  if (keys) {\n    // when keys specified, json would be an array that includes objects\n    if (keys.x) {\n      targetKeys = keys.value.concat(keys.x);\n      $$.config.data_x = keys.x;\n    } else {\n      targetKeys = keys.value;\n    }\n    new_rows.push(targetKeys);\n    json.forEach(function(o) {\n      var new_row = [];\n      targetKeys.forEach(function(key) {\n        // convert undefined to null because undefined data will be removed in convertDataToTargets()\n        var v = $$.findValueInJson(o, key);\n        if (isUndefined(v)) {\n          v = null;\n        }\n        new_row.push(v);\n      });\n      new_rows.push(new_row);\n    });\n    data = $$.convertRowsToData(new_rows);\n  } else {\n    Object.keys(json).forEach(function(key) {\n      new_rows.push([key].concat(json[key]));\n    });\n    data = $$.convertColumnsToData(new_rows);\n  }\n  return data\n};\n/**\n * Finds value from the given nested object by the given path.\n * If it's not found, then this returns undefined.\n * @param {Object} object the object\n * @param {string} path the path\n */\nChartInternal.prototype.findValueInJson = function(object, path) {\n  if (path in object) {\n    // If object has a key that contains . or [], return the key's value\n    // instead of searching for an inner object.\n    // See https://github.com/c3js/c3/issues/1691 for details.\n    return object[path]\n  }\n\n  path = path.replace(/\\[(\\w+)\\]/g, '.$1'); // convert indexes to properties (replace [] with .)\n  path = path.replace(/^\\./, ''); // strip a leading dot\n  var pathArray = path.split('.');\n  for (var i = 0; i < pathArray.length; ++i) {\n    var k = pathArray[i];\n    if (k in object) {\n      object = object[k];\n    } else {\n      return\n    }\n  }\n  return object\n};\n\n/**\n * Converts the rows to normalized data.\n * @param {any[][]} rows The row data\n * @return {Object}\n */\nChartInternal.prototype.convertRowsToData = rows => {\n  const newRows = [];\n  const keys = rows[0];\n\n  for (let i = 1; i < rows.length; i++) {\n    const newRow = {};\n    for (let j = 0; j < rows[i].length; j++) {\n      if (isUndefined(rows[i][j])) {\n        throw new Error(\n          'Source data is missing a component at (' + i + ',' + j + ')!'\n        )\n      }\n      newRow[keys[j]] = rows[i][j];\n    }\n    newRows.push(newRow);\n  }\n  return { keys, rows: newRows }\n};\n\n/**\n * Converts the columns to normalized data.\n * @param {any[][]} columns The column data\n * @return {Object}\n */\nChartInternal.prototype.convertColumnsToData = columns => {\n  const newRows = [];\n  const keys = [];\n\n  for (let i = 0; i < columns.length; i++) {\n    const key = columns[i][0];\n    for (let j = 1; j < columns[i].length; j++) {\n      if (isUndefined(newRows[j - 1])) {\n        newRows[j - 1] = {};\n      }\n      if (isUndefined(columns[i][j])) {\n        throw new Error(\n          'Source data is missing a component at (' + i + ',' + j + ')!'\n        )\n      }\n      newRows[j - 1][key] = columns[i][j];\n    }\n    keys.push(key);\n  }\n\n  return { keys, rows: newRows }\n};\n\n/**\n * Converts the data format into the target format.\n * @param {!Object} data\n * @param {!Array} data.keys Ordered list of target IDs.\n * @param {!Array} data.rows Rows of data to convert.\n * @param {boolean} appendXs True to append to $$.data.xs, False to replace.\n * @return {!Array}\n */\nChartInternal.prototype.convertDataToTargets = function(data, appendXs) {\n  var $$ = this,\n    config = $$.config,\n    targets,\n    ids,\n    xs,\n    keys,\n    epochs;\n\n  // handles format where keys are not orderly provided\n  if (isArray(data)) {\n    keys = Object.keys(data[0]);\n  } else {\n    keys = data.keys;\n    data = data.rows;\n  }\n\n  xs = keys.filter($$.isX, $$);\n\n  if (!$$.isStanfordGraphType()) {\n    ids = keys.filter($$.isNotX, $$);\n  } else {\n    epochs = keys.filter($$.isEpochs, $$);\n    ids = keys.filter($$.isNotXAndNotEpochs, $$);\n\n    if (xs.length !== 1 || epochs.length !== 1 || ids.length !== 1) {\n      throw new Error(\n        \"You must define the 'x' key name and the 'epochs' for Stanford Diagrams\"\n      )\n    }\n  }\n\n  // save x for update data by load when custom x and c3.x API\n  ids.forEach(function(id) {\n    var xKey = $$.getXKey(id);\n\n    if ($$.isCustomX() || $$.isTimeSeries()) {\n      // if included in input data\n      if (xs.indexOf(xKey) >= 0) {\n        $$.data.xs[id] = (appendXs && $$.data.xs[id]\n          ? $$.data.xs[id]\n          : []\n        ).concat(\n          data\n            .map(function(d) {\n              return d[xKey]\n            })\n            .filter(isValue)\n            .map(function(rawX, i) {\n              return $$.generateTargetX(rawX, id, i)\n            })\n        );\n      }\n      // if not included in input data, find from preloaded data of other id's x\n      else if (config.data_x) {\n        $$.data.xs[id] = $$.getOtherTargetXs();\n      }\n      // if not included in input data, find from preloaded data\n      else if (notEmpty(config.data_xs)) {\n        $$.data.xs[id] = $$.getXValuesOfXKey(xKey, $$.data.targets);\n      }\n      // MEMO: if no x included, use same x of current will be used\n    } else {\n      $$.data.xs[id] = data.map(function(d, i) {\n        return i\n      });\n    }\n  });\n\n  // check x is defined\n  ids.forEach(function(id) {\n    if (!$$.data.xs[id]) {\n      throw new Error('x is not defined for id = \"' + id + '\".')\n    }\n  });\n\n  // convert to target\n  targets = ids.map(function(id, index) {\n    var convertedId = config.data_idConverter(id);\n    return {\n      id: convertedId,\n      id_org: id,\n      values: data\n        .map(function(d, i) {\n          var xKey = $$.getXKey(id),\n            rawX = d[xKey],\n            value = d[id] !== null && !isNaN(d[id]) ? +d[id] : null,\n            x,\n            returnData;\n          // use x as categories if custom x and categorized\n          if ($$.isCustomX() && $$.isCategorized() && !isUndefined(rawX)) {\n            if (index === 0 && i === 0) {\n              config.axis_x_categories = [];\n            }\n            x = config.axis_x_categories.indexOf(rawX);\n            if (x === -1) {\n              x = config.axis_x_categories.length;\n              config.axis_x_categories.push(rawX);\n            }\n          } else {\n            x = $$.generateTargetX(rawX, id, i);\n          }\n          // mark as x = undefined if value is undefined and filter to remove after mapped\n          if (isUndefined(d[id]) || $$.data.xs[id].length <= i) {\n            x = undefined;\n          }\n\n          returnData = { x: x, value: value, id: convertedId };\n\n          if ($$.isStanfordGraphType()) {\n            returnData.epochs = d[epochs];\n          }\n\n          return returnData\n        })\n        .filter(function(v) {\n          return isDefined(v.x)\n        })\n    }\n  });\n\n  // finish targets\n  targets.forEach(function(t) {\n    var i;\n    // sort values by its x\n    if (config.data_xSort) {\n      t.values = t.values.sort(function(v1, v2) {\n        var x1 = v1.x || v1.x === 0 ? v1.x : Infinity,\n          x2 = v2.x || v2.x === 0 ? v2.x : Infinity;\n        return x1 - x2\n      });\n    }\n    // indexing each value\n    i = 0;\n    t.values.forEach(function(v) {\n      v.index = i++;\n    });\n    // this needs to be sorted because its index and value.index is identical\n    $$.data.xs[t.id].sort(function(v1, v2) {\n      return v1 - v2\n    });\n  });\n\n  // cache information about values\n  $$.hasNegativeValue = $$.hasNegativeValueInTargets(targets);\n  $$.hasPositiveValue = $$.hasPositiveValueInTargets(targets);\n\n  // set target types\n  if (config.data_type) {\n    $$.setTargetType(\n      $$.mapToIds(targets).filter(function(id) {\n        return !(id in config.data_types)\n      }),\n      config.data_type\n    );\n  }\n\n  // cache as original id keyed\n  targets.forEach(function(d) {\n    $$.addCache(d.id_org, d);\n  });\n\n  return targets\n};\n\nChartInternal.prototype.isEpochs = function(key) {\n  var $$ = this,\n    config = $$.config;\n  return config.data_epochs && key === config.data_epochs\n};\nChartInternal.prototype.isX = function(key) {\n  var $$ = this,\n    config = $$.config;\n  return (\n    (config.data_x && key === config.data_x) ||\n    (notEmpty(config.data_xs) && hasValue(config.data_xs, key))\n  )\n};\nChartInternal.prototype.isNotX = function(key) {\n  return !this.isX(key)\n};\nChartInternal.prototype.isNotXAndNotEpochs = function(key) {\n  return !this.isX(key) && !this.isEpochs(key)\n};\n\n/**\n * Returns whether the normalized stack option is enabled or not.\n *\n * To be enabled it must also have data.groups defined.\n *\n * @return {boolean}\n */\nChartInternal.prototype.isStackNormalized = function() {\n  return this.config.data_stack_normalize && this.config.data_groups.length > 0\n};\n\n/**\n * Returns whether the axis is normalized or not.\n *\n * An axis is normalized as long as one of its associated target\n * is normalized.\n *\n * @param axisId Axis ID (y or y2)\n * @return {Boolean}\n */\nChartInternal.prototype.isAxisNormalized = function(axisId) {\n  const $$ = this;\n\n  if (!$$.isStackNormalized()) {\n    // shortcut\n    return false\n  }\n\n  return $$.data.targets\n    .filter(target => $$.axis.getId(target.id) === axisId)\n    .some(target => $$.isTargetNormalized(target.id))\n};\n\n/**\n * Returns whether the values for this target ID is normalized or not.\n *\n * To be normalized the option needs to be enabled and target needs\n * to be defined in `data.groups`.\n *\n * @param targetId ID of the target\n * @return {Boolean} True if the target is normalized, false otherwise.\n */\nChartInternal.prototype.isTargetNormalized = function(targetId) {\n  const $$ = this;\n\n  return (\n    $$.isStackNormalized() &&\n    $$.config.data_groups.some(group => group.includes(targetId))\n  )\n};\n\nChartInternal.prototype.getXKey = function(id) {\n  var $$ = this,\n    config = $$.config;\n  return config.data_x\n    ? config.data_x\n    : notEmpty(config.data_xs)\n    ? config.data_xs[id]\n    : null\n};\n\n/**\n * Get sum of visible data per index for given axis.\n *\n * Expect axisId to be either 'y' or 'y2'.\n *\n * @private\n * @param axisId Compute sum for data associated to given axis.\n * @return {Array}\n */\nChartInternal.prototype.getTotalPerIndex = function(axisId) {\n  const $$ = this;\n\n  if (!$$.isStackNormalized()) {\n    return null\n  }\n\n  const cached = $$.getFromCache('getTotalPerIndex');\n  if (cached !== undefined) {\n    return cached[axisId]\n  }\n\n  const sum = { y: [], y2: [] };\n\n  $$.data.targets\n    // keep only target that are normalized\n    .filter(target => $$.isTargetNormalized(target.id))\n\n    // keep only target that are visible\n    .filter(target => $$.isTargetToShow(target.id))\n\n    // compute sum per axis\n    .forEach(target => {\n      const sumByAxis = sum[$$.axis.getId(target.id)];\n\n      target.values.forEach((v, i) => {\n        if (!sumByAxis[i]) {\n          sumByAxis[i] = 0;\n        }\n        sumByAxis[i] += isNumber(v.value) ? v.value : 0;\n      });\n    });\n\n  $$.addToCache('getTotalPerIndex', sum);\n\n  return sum[axisId]\n};\n\n/**\n * Get sum of visible data.\n *\n * Should be used for normalised data only since all values\n * are expected to be positive.\n *\n * @private\n * @return {Number}\n */\nChartInternal.prototype.getTotalDataSum = function() {\n  const $$ = this;\n\n  const cached = $$.getFromCache('getTotalDataSum');\n  if (cached !== undefined) {\n    return cached\n  }\n\n  const totalDataSum = flattenArray(\n    $$.data.targets\n      .filter(target => $$.isTargetToShow(target.id))\n      .map(target => target.values)\n  )\n    .map(d => d.value)\n    .reduce((p, c) => p + c, 0);\n\n  $$.addToCache('getTotalDataSum', totalDataSum);\n\n  return totalDataSum\n};\n\nChartInternal.prototype.getXValuesOfXKey = function(key, targets) {\n  var $$ = this,\n    xValues,\n    ids = targets && notEmpty(targets) ? $$.mapToIds(targets) : [];\n  ids.forEach(function(id) {\n    if ($$.getXKey(id) === key) {\n      xValues = $$.data.xs[id];\n    }\n  });\n  return xValues\n};\nChartInternal.prototype.getXValue = function(id, i) {\n  var $$ = this;\n  return id in $$.data.xs && $$.data.xs[id] && isValue($$.data.xs[id][i])\n    ? $$.data.xs[id][i]\n    : i\n};\nChartInternal.prototype.getOtherTargetXs = function() {\n  var $$ = this,\n    idsForX = Object.keys($$.data.xs);\n  return idsForX.length ? $$.data.xs[idsForX[0]] : null\n};\nChartInternal.prototype.getOtherTargetX = function(index) {\n  var xs = this.getOtherTargetXs();\n  return xs && index < xs.length ? xs[index] : null\n};\nChartInternal.prototype.addXs = function(xs) {\n  var $$ = this;\n  Object.keys(xs).forEach(function(id) {\n    $$.config.data_xs[id] = xs[id];\n  });\n};\nChartInternal.prototype.addName = function(data) {\n  var $$ = this,\n    name;\n  if (data) {\n    name = $$.config.data_names[data.id];\n    data.name = name !== undefined ? name : data.id;\n  }\n  return data\n};\nChartInternal.prototype.getValueOnIndex = function(values, index) {\n  var valueOnIndex = values.filter(function(v) {\n    return v.index === index\n  });\n  return valueOnIndex.length ? valueOnIndex[0] : null\n};\nChartInternal.prototype.updateTargetX = function(targets, x) {\n  var $$ = this;\n  targets.forEach(function(t) {\n    t.values.forEach(function(v, i) {\n      v.x = $$.generateTargetX(x[i], t.id, i);\n    });\n    $$.data.xs[t.id] = x;\n  });\n};\nChartInternal.prototype.updateTargetXs = function(targets, xs) {\n  var $$ = this;\n  targets.forEach(function(t) {\n    if (xs[t.id]) {\n      $$.updateTargetX([t], xs[t.id]);\n    }\n  });\n};\nChartInternal.prototype.generateTargetX = function(rawX, id, index) {\n  var $$ = this,\n    x;\n  if ($$.isTimeSeries()) {\n    x = rawX ? $$.parseDate(rawX) : $$.parseDate($$.getXValue(id, index));\n  } else if ($$.isCustomX() && !$$.isCategorized()) {\n    x = isValue(rawX) ? +rawX : $$.getXValue(id, index);\n  } else {\n    x = index;\n  }\n  return x\n};\nChartInternal.prototype.cloneTarget = function(target) {\n  return {\n    id: target.id,\n    id_org: target.id_org,\n    values: target.values.map(function(d) {\n      return {\n        x: d.x,\n        value: d.value,\n        id: d.id\n      }\n    })\n  }\n};\nChartInternal.prototype.getMaxDataCount = function() {\n  var $$ = this;\n  return $$.d3.max($$.data.targets, function(t) {\n    return t.values.length\n  })\n};\nChartInternal.prototype.mapToIds = function(targets) {\n  return targets.map(function(d) {\n    return d.id\n  })\n};\nChartInternal.prototype.mapToTargetIds = function(ids) {\n  var $$ = this;\n  return ids ? [].concat(ids) : $$.mapToIds($$.data.targets)\n};\nChartInternal.prototype.hasTarget = function(targets, id) {\n  var ids = this.mapToIds(targets),\n    i;\n  for (i = 0; i < ids.length; i++) {\n    if (ids[i] === id) {\n      return true\n    }\n  }\n  return false\n};\nChartInternal.prototype.isTargetToShow = function(targetId) {\n  return this.hiddenTargetIds.indexOf(targetId) < 0\n};\nChartInternal.prototype.isLegendToShow = function(targetId) {\n  return this.hiddenLegendIds.indexOf(targetId) < 0\n};\n\n/**\n * Returns only visible targets.\n *\n * This is the same as calling {@link filterTargetsToShow} on $$.data.targets.\n *\n * @return {Array}\n */\nChartInternal.prototype.getTargetsToShow = function() {\n  const $$ = this;\n  return $$.filterTargetsToShow($$.data.targets)\n};\n\nChartInternal.prototype.filterTargetsToShow = function(targets) {\n  var $$ = this;\n  return targets.filter(function(t) {\n    return $$.isTargetToShow(t.id)\n  })\n};\n\n/**\n * @return {Array} Returns all the targets attached to the chart, visible or not\n */\nChartInternal.prototype.getTargets = function() {\n  const $$ = this;\n  return $$.data.targets\n};\n\nChartInternal.prototype.mapTargetsToUniqueXs = function(targets) {\n  var $$ = this;\n  var xs = $$.d3\n    .set(\n      $$.d3.merge(\n        targets.map(function(t) {\n          return t.values.map(function(v) {\n            return +v.x\n          })\n        })\n      )\n    )\n    .values();\n  xs = $$.isTimeSeries()\n    ? xs.map(function(x) {\n        return new Date(+x)\n      })\n    : xs.map(function(x) {\n        return +x\n      });\n  return xs.sort(function(a, b) {\n    return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN\n  })\n};\nChartInternal.prototype.addHiddenTargetIds = function(targetIds) {\n  targetIds = targetIds instanceof Array ? targetIds : new Array(targetIds);\n  for (var i = 0; i < targetIds.length; i++) {\n    if (this.hiddenTargetIds.indexOf(targetIds[i]) < 0) {\n      this.hiddenTargetIds = this.hiddenTargetIds.concat(targetIds[i]);\n    }\n  }\n  this.resetCache();\n};\nChartInternal.prototype.removeHiddenTargetIds = function(targetIds) {\n  this.hiddenTargetIds = this.hiddenTargetIds.filter(function(id) {\n    return targetIds.indexOf(id) < 0\n  });\n  this.resetCache();\n};\nChartInternal.prototype.addHiddenLegendIds = function(targetIds) {\n  targetIds = targetIds instanceof Array ? targetIds : new Array(targetIds);\n  for (var i = 0; i < targetIds.length; i++) {\n    if (this.hiddenLegendIds.indexOf(targetIds[i]) < 0) {\n      this.hiddenLegendIds = this.hiddenLegendIds.concat(targetIds[i]);\n    }\n  }\n};\nChartInternal.prototype.removeHiddenLegendIds = function(targetIds) {\n  this.hiddenLegendIds = this.hiddenLegendIds.filter(function(id) {\n    return targetIds.indexOf(id) < 0\n  });\n};\nChartInternal.prototype.getValuesAsIdKeyed = function(targets) {\n  var ys = {};\n  targets.forEach(function(t) {\n    ys[t.id] = [];\n    t.values.forEach(function(v) {\n      ys[t.id].push(v.value);\n    });\n  });\n  return ys\n};\nChartInternal.prototype.checkValueInTargets = function(targets, checker) {\n  var ids = Object.keys(targets),\n    i,\n    j,\n    values;\n  for (i = 0; i < ids.length; i++) {\n    values = targets[ids[i]].values;\n    for (j = 0; j < values.length; j++) {\n      if (checker(values[j].value)) {\n        return true\n      }\n    }\n  }\n  return false\n};\nChartInternal.prototype.hasNegativeValueInTargets = function(targets) {\n  return this.checkValueInTargets(targets, function(v) {\n    return v < 0\n  })\n};\nChartInternal.prototype.hasPositiveValueInTargets = function(targets) {\n  return this.checkValueInTargets(targets, function(v) {\n    return v > 0\n  })\n};\nChartInternal.prototype.isOrderDesc = function() {\n  var config = this.config;\n  return (\n    typeof config.data_order === 'string' &&\n    config.data_order.toLowerCase() === 'desc'\n  )\n};\nChartInternal.prototype.isOrderAsc = function() {\n  var config = this.config;\n  return (\n    typeof config.data_order === 'string' &&\n    config.data_order.toLowerCase() === 'asc'\n  )\n};\nChartInternal.prototype.getOrderFunction = function() {\n  var $$ = this,\n    config = $$.config,\n    orderAsc = $$.isOrderAsc(),\n    orderDesc = $$.isOrderDesc();\n  if (orderAsc || orderDesc) {\n    var reducer = function(p, c) {\n      return p + Math.abs(c.value)\n    };\n    return function(t1, t2) {\n      var t1Sum = t1.values.reduce(reducer, 0),\n        t2Sum = t2.values.reduce(reducer, 0);\n      return orderAsc ? t2Sum - t1Sum : t1Sum - t2Sum\n    }\n  } else if (isFunction(config.data_order)) {\n    return config.data_order\n  } else if (isArray(config.data_order)) {\n    var order = config.data_order;\n    return function(t1, t2) {\n      return order.indexOf(t1.id) - order.indexOf(t2.id)\n    }\n  }\n};\nChartInternal.prototype.orderTargets = function(targets) {\n  var fct = this.getOrderFunction();\n  if (fct) {\n    targets.sort(fct);\n  }\n  return targets\n};\n\n/**\n * Returns all the values from the given targets at the given index.\n *\n * @param {Array} targets\n * @param {Number} index\n * @return {Array}\n */\nChartInternal.prototype.filterByIndex = function(targets, index) {\n  return this.d3.merge(\n    targets.map(t => t.values.filter(v => v.index === index))\n  )\n};\n\nChartInternal.prototype.filterByX = function(targets, x) {\n  return this.d3\n    .merge(\n      targets.map(function(t) {\n        return t.values\n      })\n    )\n    .filter(function(v) {\n      return v.x - x === 0\n    })\n};\nChartInternal.prototype.filterRemoveNull = function(data) {\n  return data.filter(function(d) {\n    return isValue(d.value)\n  })\n};\nChartInternal.prototype.filterByXDomain = function(targets, xDomain) {\n  return targets.map(function(t) {\n    return {\n      id: t.id,\n      id_org: t.id_org,\n      values: t.values.filter(function(v) {\n        return xDomain[0] <= v.x && v.x <= xDomain[1]\n      })\n    }\n  })\n};\nChartInternal.prototype.hasDataLabel = function() {\n  var config = this.config;\n  if (typeof config.data_labels === 'boolean' && config.data_labels) {\n    return true\n  } else if (\n    typeof config.data_labels === 'object' &&\n    notEmpty(config.data_labels)\n  ) {\n    return true\n  }\n  return false\n};\nChartInternal.prototype.getDataLabelLength = function(min, max, key) {\n  var $$ = this,\n    lengths = [0, 0],\n    paddingCoef = 1.3;\n  $$.selectChart\n    .select('svg')\n    .selectAll('.dummy')\n    .data([min, max])\n    .enter()\n    .append('text')\n    .text(function(d) {\n      return $$.dataLabelFormat(d.id)(d)\n    })\n    .each(function(d, i) {\n      lengths[i] = getBBox(this)[key] * paddingCoef;\n    })\n    .remove();\n  return lengths\n};\n/**\n * Returns true if the given data point is not arc type, otherwise false.\n * @param {Object} d The data point\n * @return {boolean}\n */\nChartInternal.prototype.isNoneArc = function(d) {\n  return this.hasTarget(this.data.targets, d.id)\n};\n\n/**\n * Returns true if the given data point is arc type, otherwise false.\n * @param {Object} d The data point\n * @return {boolean}\n */\nChartInternal.prototype.isArc = function(d) {\n  return 'data' in d && this.hasTarget(this.data.targets, d.data.id)\n};\n\n/**\n * Find the closest point from the given pos among the given targets or\n * undefined if none satisfies conditions.\n *\n * @param {Array} targets\n * @param {Array} pos An [x,y] coordinate\n * @return {Object|undefined}\n */\nChartInternal.prototype.findClosestFromTargets = function(targets, pos) {\n  const $$ = this;\n\n  // for each target, find the closest point\n  const candidates = targets\n    .map(t =>\n      $$.findClosest(\n        t.values,\n        pos,\n        $$.config.tooltip_horizontal\n          ? $$.horizontalDistance.bind($$)\n          : $$.dist.bind($$),\n        $$.config.point_sensitivity\n      )\n    )\n    .filter(v => v);\n\n  // returns the closest of candidates\n  if (candidates.length === 0) {\n    return undefined\n  } else if (candidates.length === 1) {\n    return candidates[0]\n  } else {\n    return $$.findClosest(candidates, pos, $$.dist.bind($$))\n  }\n};\n\n/**\n * Find the closest point from the x value or undefined if none satisfies conditions.\n *\n * @param {Array} targets\n * @param {Array} x A value on X axis\n * @return {Object|undefined}\n */\nChartInternal.prototype.findClosestFromTargetsByX = function(targets, x) {\n  let closest;\n  let diff;\n\n  targets.forEach(t => {\n    t.values.forEach(d => {\n      let newDiff = Math.abs(x - d.x);\n\n      if (diff === undefined || newDiff < diff) {\n        closest = d;\n        diff = newDiff;\n      }\n    });\n  });\n\n  return closest\n};\n\n/**\n * Using given compute distance method, returns the closest data point from the\n * given position.\n *\n * Giving optionally a minimum distance to satisfy.\n *\n * @param {Array} dataPoints List of DataPoints\n * @param {Array} pos An [x,y] coordinate\n * @param {Function} computeDist Function to compute distance between 2 points\n * @param {Number} minDist Minimal distance to satisfy\n * @return {Object|undefined} Closest data point\n */\nChartInternal.prototype.findClosest = function(\n  dataPoints,\n  pos,\n  computeDist,\n  minDist = Infinity\n) {\n  const $$ = this;\n\n  let closest;\n\n  // find closest bar\n  dataPoints\n    .filter(v => v && $$.isBarType(v.id))\n    .forEach(function(v) {\n      if (!closest) {\n        const shape = $$.main\n          .select(\n            '.' +\n              CLASS.bars +\n              $$.getTargetSelectorSuffix(v.id) +\n              ' .' +\n              CLASS.bar +\n              '-' +\n              v.index\n          )\n          .node();\n        if ($$.isWithinBar(pos, shape)) {\n          closest = v;\n        }\n      }\n    });\n\n  // find closest point from non-bar\n  dataPoints\n    .filter(v => v && !$$.isBarType(v.id))\n    .forEach(v => {\n      let d = computeDist(v, pos);\n      if (d < minDist) {\n        minDist = d;\n        closest = v;\n      }\n    });\n\n  return closest\n};\nChartInternal.prototype.dist = function(data, pos) {\n  var $$ = this,\n    config = $$.config,\n    xIndex = config.axis_rotated ? 1 : 0,\n    yIndex = config.axis_rotated ? 0 : 1,\n    y = $$.circleY(data, data.index),\n    x = $$.x(data.x);\n  return Math.sqrt(Math.pow(x - pos[xIndex], 2) + Math.pow(y - pos[yIndex], 2))\n};\nChartInternal.prototype.horizontalDistance = function(data, pos) {\n  var $$ = this,\n    config = $$.config,\n    xIndex = config.axis_rotated ? 1 : 0,\n    x = $$.x(data.x);\n\n  return Math.abs(x - pos[xIndex])\n};\nChartInternal.prototype.convertValuesToStep = function(values) {\n  var converted = [].concat(values),\n    i;\n\n  if (!this.isCategorized()) {\n    return values\n  }\n\n  for (i = values.length + 1; 0 < i; i--) {\n    converted[i] = converted[i - 1];\n  }\n\n  converted[0] = {\n    x: converted[0].x - 1,\n    value: converted[0].value,\n    id: converted[0].id\n  };\n  converted[values.length + 1] = {\n    x: converted[values.length].x + 1,\n    value: converted[values.length].value,\n    id: converted[values.length].id\n  };\n\n  return converted\n};\n\n/**\n * Get ratio value\n *\n * @param {String} type Ratio for given type\n * @param {Object} d Data value object\n * @param {Boolean} asPercent Convert the return as percent or not\n * @return {Number} Ratio value\n * @private\n */\nChartInternal.prototype.getRatio = function(type, d, asPercent = false) {\n  const $$ = this;\n  const api = $$.api;\n  let ratio = 0;\n\n  if (d && api.data.shown.call(api).length) {\n    ratio = d.ratio || d.value;\n\n    if (type === 'arc') {\n      if ($$.hasType('gauge')) {\n        ratio =\n          (d.endAngle - d.startAngle) /\n          (Math.PI * ($$.config.gauge_fullCircle ? 2 : 1));\n      } else {\n        const total = $$.getTotalDataSum();\n\n        ratio = d.value / total;\n      }\n    } else if (type === 'index') {\n      const total = $$.getTotalPerIndex($$.axis.getId(d.id));\n\n      d.ratio =\n        isNumber(d.value) && total && total[d.index] > 0\n          ? d.value / total[d.index]\n          : 0;\n\n      ratio = d.ratio;\n    }\n  }\n\n  return asPercent && ratio ? ratio * 100 : ratio\n};\n\nChartInternal.prototype.updateDataAttributes = function(name, attrs) {\n  var $$ = this,\n    config = $$.config,\n    current = config['data_' + name];\n  if (typeof attrs === 'undefined') {\n    return current\n  }\n  Object.keys(attrs).forEach(function(id) {\n    current[id] = attrs[id];\n  });\n  $$.redraw({\n    withLegend: true\n  });\n  return current\n};\n\nChartInternal.prototype.load = function(targets, args) {\n  var $$ = this;\n  if (targets) {\n    // filter loading targets if needed\n    if (args.filter) {\n      targets = targets.filter(args.filter);\n    }\n    // set type if args.types || args.type specified\n    if (args.type || args.types) {\n      targets.forEach(function(t) {\n        var type = args.types && args.types[t.id] ? args.types[t.id] : args.type;\n        $$.setTargetType(t.id, type);\n      });\n    }\n    // Update/Add data\n    $$.data.targets.forEach(function(d) {\n      for (var i = 0; i < targets.length; i++) {\n        if (d.id === targets[i].id) {\n          d.values = targets[i].values;\n          targets.splice(i, 1);\n          break\n        }\n      }\n    });\n    $$.data.targets = $$.data.targets.concat(targets); // add remained\n  }\n\n  // Set targets\n  $$.updateTargets($$.data.targets);\n\n  // Redraw with new targets\n  $$.redraw({\n    withUpdateOrgXDomain: true,\n    withUpdateXDomain: true,\n    withLegend: true\n  });\n\n  if (args.done) {\n    args.done();\n  }\n};\nChartInternal.prototype.loadFromArgs = function(args) {\n  var $$ = this;\n\n  $$.resetCache();\n\n  if (args.data) {\n    $$.load($$.convertDataToTargets(args.data), args);\n  } else if (args.url) {\n    $$.convertUrlToData(\n      args.url,\n      args.mimeType,\n      args.headers,\n      args.keys,\n      function(data) {\n        $$.load($$.convertDataToTargets(data), args);\n      }\n    );\n  } else if (args.json) {\n    $$.load(\n      $$.convertDataToTargets($$.convertJsonToData(args.json, args.keys)),\n      args\n    );\n  } else if (args.rows) {\n    $$.load($$.convertDataToTargets($$.convertRowsToData(args.rows)), args);\n  } else if (args.columns) {\n    $$.load(\n      $$.convertDataToTargets($$.convertColumnsToData(args.columns)),\n      args\n    );\n  } else {\n    $$.load(null, args);\n  }\n};\nChartInternal.prototype.unload = function(targetIds, done) {\n  var $$ = this;\n\n  $$.resetCache();\n\n  if (!done) {\n    done = function() {};\n  }\n  // filter existing target\n  targetIds = targetIds.filter(function(id) {\n    return $$.hasTarget($$.data.targets, id)\n  });\n  // If no target, call done and return\n  if (!targetIds || targetIds.length === 0) {\n    done();\n    return\n  }\n  $$.svg\n    .selectAll(\n      targetIds.map(function(id) {\n        return $$.selectorTarget(id)\n      })\n    )\n    .transition()\n    .style('opacity', 0)\n    .remove()\n    .call($$.endall, done);\n  targetIds.forEach(function(id) {\n    // Reset fadein for future load\n    $$.withoutFadeIn[id] = false;\n    // Remove target's elements\n    if ($$.legend) {\n      $$.legend\n        .selectAll('.' + CLASS.legendItem + $$.getTargetSelectorSuffix(id))\n        .remove();\n    }\n    // Remove target\n    $$.data.targets = $$.data.targets.filter(function(t) {\n      return t.id !== id\n    });\n  });\n};\n\nChartInternal.prototype.getYDomainMin = function(targets) {\n  var $$ = this,\n    config = $$.config,\n    ids = $$.mapToIds(targets),\n    ys = $$.getValuesAsIdKeyed(targets),\n    j,\n    k,\n    baseId,\n    idsInGroup,\n    id,\n    hasNegativeValue;\n  if (config.data_groups.length > 0) {\n    hasNegativeValue = $$.hasNegativeValueInTargets(targets);\n    for (j = 0; j < config.data_groups.length; j++) {\n      // Determine baseId\n      idsInGroup = config.data_groups[j].filter(function(id) {\n        return ids.indexOf(id) >= 0\n      });\n      if (idsInGroup.length === 0) {\n        continue\n      }\n      baseId = idsInGroup[0];\n      // Consider negative values\n      if (hasNegativeValue && ys[baseId]) {\n        ys[baseId].forEach(function(v, i) {\n          ys[baseId][i] = v < 0 ? v : 0;\n        });\n      }\n      // Compute min\n      for (k = 1; k < idsInGroup.length; k++) {\n        id = idsInGroup[k];\n        if (!ys[id]) {\n          continue\n        }\n        ys[id].forEach(function(v, i) {\n          if (\n            $$.axis.getId(id) === $$.axis.getId(baseId) &&\n            ys[baseId] &&\n            !(hasNegativeValue && +v > 0)\n          ) {\n            ys[baseId][i] += +v;\n          }\n        });\n      }\n    }\n  }\n  return $$.d3.min(\n    Object.keys(ys).map(function(key) {\n      return $$.d3.min(ys[key])\n    })\n  )\n};\nChartInternal.prototype.getYDomainMax = function(targets) {\n  var $$ = this,\n    config = $$.config,\n    ids = $$.mapToIds(targets),\n    ys = $$.getValuesAsIdKeyed(targets),\n    j,\n    k,\n    baseId,\n    idsInGroup,\n    id,\n    hasPositiveValue;\n  if (config.data_groups.length > 0) {\n    hasPositiveValue = $$.hasPositiveValueInTargets(targets);\n    for (j = 0; j < config.data_groups.length; j++) {\n      // Determine baseId\n      idsInGroup = config.data_groups[j].filter(function(id) {\n        return ids.indexOf(id) >= 0\n      });\n      if (idsInGroup.length === 0) {\n        continue\n      }\n      baseId = idsInGroup[0];\n      // Consider positive values\n      if (hasPositiveValue && ys[baseId]) {\n        ys[baseId].forEach(function(v, i) {\n          ys[baseId][i] = v > 0 ? v : 0;\n        });\n      }\n      // Compute max\n      for (k = 1; k < idsInGroup.length; k++) {\n        id = idsInGroup[k];\n        if (!ys[id]) {\n          continue\n        }\n        ys[id].forEach(function(v, i) {\n          if (\n            $$.axis.getId(id) === $$.axis.getId(baseId) &&\n            ys[baseId] &&\n            !(hasPositiveValue && +v < 0)\n          ) {\n            ys[baseId][i] += +v;\n          }\n        });\n      }\n    }\n  }\n  return $$.d3.max(\n    Object.keys(ys).map(function(key) {\n      return $$.d3.max(ys[key])\n    })\n  )\n};\nChartInternal.prototype.getYDomain = function(targets, axisId, xDomain) {\n  var $$ = this,\n    config = $$.config;\n\n  if ($$.isAxisNormalized(axisId)) {\n    return [0, 100]\n  }\n\n  var targetsByAxisId = targets.filter(function(t) {\n      return $$.axis.getId(t.id) === axisId\n    }),\n    yTargets = xDomain\n      ? $$.filterByXDomain(targetsByAxisId, xDomain)\n      : targetsByAxisId,\n    yMin = axisId === 'y2' ? config.axis_y2_min : config.axis_y_min,\n    yMax = axisId === 'y2' ? config.axis_y2_max : config.axis_y_max,\n    yDomainMin = $$.getYDomainMin(yTargets),\n    yDomainMax = $$.getYDomainMax(yTargets),\n    domain,\n    domainLength,\n    padding_top,\n    padding_bottom,\n    center = axisId === 'y2' ? config.axis_y2_center : config.axis_y_center,\n    yDomainAbs,\n    lengths,\n    diff,\n    ratio,\n    isAllPositive,\n    isAllNegative,\n    isZeroBased =\n      ($$.hasType('bar', yTargets) && config.bar_zerobased) ||\n      ($$.hasType('area', yTargets) && config.area_zerobased),\n    isInverted =\n      axisId === 'y2' ? config.axis_y2_inverted : config.axis_y_inverted,\n    showHorizontalDataLabel = $$.hasDataLabel() && config.axis_rotated,\n    showVerticalDataLabel = $$.hasDataLabel() && !config.axis_rotated;\n\n  // MEMO: avoid inverting domain unexpectedly\n  yDomainMin = isValue(yMin)\n    ? yMin\n    : isValue(yMax)\n    ? yDomainMin < yMax\n      ? yDomainMin\n      : yMax - 10\n    : yDomainMin;\n  yDomainMax = isValue(yMax)\n    ? yMax\n    : isValue(yMin)\n    ? yMin < yDomainMax\n      ? yDomainMax\n      : yMin + 10\n    : yDomainMax;\n\n  if (yTargets.length === 0) {\n    // use current domain if target of axisId is none\n    return axisId === 'y2' ? $$.y2.domain() : $$.y.domain()\n  }\n  if (isNaN(yDomainMin)) {\n    // set minimum to zero when not number\n    yDomainMin = 0;\n  }\n  if (isNaN(yDomainMax)) {\n    // set maximum to have same value as yDomainMin\n    yDomainMax = yDomainMin;\n  }\n  if (yDomainMin === yDomainMax) {\n    yDomainMin < 0 ? (yDomainMax = 0) : (yDomainMin = 0);\n  }\n  isAllPositive = yDomainMin >= 0 && yDomainMax >= 0;\n  isAllNegative = yDomainMin <= 0 && yDomainMax <= 0;\n\n  // Cancel zerobased if axis_*_min / axis_*_max specified\n  if ((isValue(yMin) && isAllPositive) || (isValue(yMax) && isAllNegative)) {\n    isZeroBased = false;\n  }\n\n  // Bar/Area chart should be 0-based if all positive|negative\n  if (isZeroBased) {\n    if (isAllPositive) {\n      yDomainMin = 0;\n    }\n    if (isAllNegative) {\n      yDomainMax = 0;\n    }\n  }\n\n  domainLength = Math.abs(yDomainMax - yDomainMin);\n  padding_top = padding_bottom = domainLength * 0.1;\n\n  if (typeof center !== 'undefined') {\n    yDomainAbs = Math.max(Math.abs(yDomainMin), Math.abs(yDomainMax));\n    yDomainMax = center + yDomainAbs;\n    yDomainMin = center - yDomainAbs;\n  }\n  // add padding for data label\n  if (showHorizontalDataLabel) {\n    lengths = $$.getDataLabelLength(yDomainMin, yDomainMax, 'width');\n    diff = diffDomain($$.y.range());\n    ratio = [lengths[0] / diff, lengths[1] / diff];\n    padding_top += domainLength * (ratio[1] / (1 - ratio[0] - ratio[1]));\n    padding_bottom += domainLength * (ratio[0] / (1 - ratio[0] - ratio[1]));\n  } else if (showVerticalDataLabel) {\n    lengths = $$.getDataLabelLength(yDomainMin, yDomainMax, 'height');\n\n    const pixelsToAxisPadding = $$.getY(\n      config[`axis_${axisId}_type`],\n      // input domain as pixels\n      [0, config.axis_rotated ? $$.width : $$.height],\n      // output range as axis padding\n      [0, domainLength]\n    );\n\n    padding_top += pixelsToAxisPadding(lengths[1]);\n    padding_bottom += pixelsToAxisPadding(lengths[0]);\n  }\n  if (axisId === 'y' && notEmpty(config.axis_y_padding)) {\n    padding_top = $$.axis.getPadding(\n      config.axis_y_padding,\n      'top',\n      padding_top,\n      domainLength\n    );\n    padding_bottom = $$.axis.getPadding(\n      config.axis_y_padding,\n      'bottom',\n      padding_bottom,\n      domainLength\n    );\n  }\n  if (axisId === 'y2' && notEmpty(config.axis_y2_padding)) {\n    padding_top = $$.axis.getPadding(\n      config.axis_y2_padding,\n      'top',\n      padding_top,\n      domainLength\n    );\n    padding_bottom = $$.axis.getPadding(\n      config.axis_y2_padding,\n      'bottom',\n      padding_bottom,\n      domainLength\n    );\n  }\n  // Bar/Area chart should be 0-based if all positive|negative\n  if (isZeroBased) {\n    if (isAllPositive) {\n      padding_bottom = yDomainMin;\n    }\n    if (isAllNegative) {\n      padding_top = -yDomainMax;\n    }\n  }\n  domain = [yDomainMin - padding_bottom, yDomainMax + padding_top];\n  return isInverted ? domain.reverse() : domain\n};\nChartInternal.prototype.getXDomainMin = function(targets) {\n  var $$ = this,\n    config = $$.config;\n  return isDefined(config.axis_x_min)\n    ? $$.isTimeSeries()\n      ? this.parseDate(config.axis_x_min)\n      : config.axis_x_min\n    : $$.d3.min(targets, function(t) {\n        return $$.d3.min(t.values, function(v) {\n          return v.x\n        })\n      })\n};\nChartInternal.prototype.getXDomainMax = function(targets) {\n  var $$ = this,\n    config = $$.config;\n  return isDefined(config.axis_x_max)\n    ? $$.isTimeSeries()\n      ? this.parseDate(config.axis_x_max)\n      : config.axis_x_max\n    : $$.d3.max(targets, function(t) {\n        return $$.d3.max(t.values, function(v) {\n          return v.x\n        })\n      })\n};\nChartInternal.prototype.getXDomainPadding = function(domain) {\n  var $$ = this,\n    config = $$.config,\n    diff = domain[1] - domain[0],\n    maxDataCount,\n    padding,\n    paddingLeft,\n    paddingRight;\n  if ($$.isCategorized()) {\n    padding = 0;\n  } else if ($$.hasType('bar')) {\n    maxDataCount = $$.getMaxDataCount();\n    padding = maxDataCount > 1 ? diff / (maxDataCount - 1) / 2 : 0.5;\n  } else {\n    padding = diff * 0.01;\n  }\n  if (\n    typeof config.axis_x_padding === 'object' &&\n    notEmpty(config.axis_x_padding)\n  ) {\n    paddingLeft = isValue(config.axis_x_padding.left)\n      ? config.axis_x_padding.left\n      : padding;\n    paddingRight = isValue(config.axis_x_padding.right)\n      ? config.axis_x_padding.right\n      : padding;\n  } else if (typeof config.axis_x_padding === 'number') {\n    paddingLeft = paddingRight = config.axis_x_padding;\n  } else {\n    paddingLeft = paddingRight = padding;\n  }\n  return { left: paddingLeft, right: paddingRight }\n};\nChartInternal.prototype.getXDomain = function(targets) {\n  var $$ = this,\n    xDomain = [$$.getXDomainMin(targets), $$.getXDomainMax(targets)],\n    firstX = xDomain[0],\n    lastX = xDomain[1],\n    padding = $$.getXDomainPadding(xDomain),\n    min = 0,\n    max = 0;\n  // show center of x domain if min and max are the same\n  if (firstX - lastX === 0 && !$$.isCategorized()) {\n    if ($$.isTimeSeries()) {\n      firstX = new Date(firstX.getTime() * 0.5);\n      lastX = new Date(lastX.getTime() * 1.5);\n    } else {\n      firstX = firstX === 0 ? 1 : firstX * 0.5;\n      lastX = lastX === 0 ? -1 : lastX * 1.5;\n    }\n  }\n  if (firstX || firstX === 0) {\n    min = $$.isTimeSeries()\n      ? new Date(firstX.getTime() - padding.left)\n      : firstX - padding.left;\n  }\n  if (lastX || lastX === 0) {\n    max = $$.isTimeSeries()\n      ? new Date(lastX.getTime() + padding.right)\n      : lastX + padding.right;\n  }\n  return [min, max]\n};\nChartInternal.prototype.updateXDomain = function(\n  targets,\n  withUpdateXDomain,\n  withUpdateOrgXDomain,\n  withTrim,\n  domain\n) {\n  var $$ = this,\n    config = $$.config;\n\n  if (withUpdateOrgXDomain) {\n    $$.x.domain(domain ? domain : $$.d3.extent($$.getXDomain(targets)));\n    $$.orgXDomain = $$.x.domain();\n    if (config.zoom_enabled) {\n      $$.zoom.update();\n    }\n    $$.subX.domain($$.x.domain());\n    if ($$.brush) {\n      $$.brush.updateScale($$.subX);\n    }\n  }\n  if (withUpdateXDomain) {\n    $$.x.domain(\n      domain\n        ? domain\n        : !$$.brush || $$.brush.empty()\n        ? $$.orgXDomain\n        : $$.brush.selectionAsValue()\n    );\n  }\n\n  // Trim domain when too big by zoom mousemove event\n  if (withTrim) {\n    $$.x.domain($$.trimXDomain($$.x.orgDomain()));\n  }\n\n  return $$.x.domain()\n};\nChartInternal.prototype.trimXDomain = function(domain) {\n  var zoomDomain = this.getZoomDomain(),\n    min = zoomDomain[0],\n    max = zoomDomain[1];\n  if (domain[0] <= min) {\n    domain[1] = +domain[1] + (min - domain[0]);\n    domain[0] = min;\n  }\n  if (max <= domain[1]) {\n    domain[0] = +domain[0] - (domain[1] - max);\n    domain[1] = max;\n  }\n  return domain\n};\n\nChartInternal.prototype.drag = function(mouse) {\n  var $$ = this,\n    config = $$.config,\n    main = $$.main,\n    d3 = $$.d3;\n  var sx, sy, mx, my, minX, maxX, minY, maxY;\n\n  if ($$.hasArcType()) {\n    return\n  }\n  if (!config.data_selection_enabled) {\n    return\n  } // do nothing if not selectable\n  if (!config.data_selection_multiple) {\n    return\n  } // skip when single selection because drag is used for multiple selection\n\n  sx = $$.dragStart[0];\n  sy = $$.dragStart[1];\n  mx = mouse[0];\n  my = mouse[1];\n  minX = Math.min(sx, mx);\n  maxX = Math.max(sx, mx);\n  minY = config.data_selection_grouped ? $$.margin.top : Math.min(sy, my);\n  maxY = config.data_selection_grouped ? $$.height : Math.max(sy, my);\n\n  main\n    .select('.' + CLASS.dragarea)\n    .attr('x', minX)\n    .attr('y', minY)\n    .attr('width', maxX - minX)\n    .attr('height', maxY - minY);\n  // TODO: binary search when multiple xs\n  main\n    .selectAll('.' + CLASS.shapes)\n    .selectAll('.' + CLASS.shape)\n    .each(function(d, i) {\n      if (!config.data_selection_isselectable(d)) {\n        return\n      }\n      var shape = d3.select(this),\n        isSelected = shape.classed(CLASS.SELECTED),\n        isIncluded = shape.classed(CLASS.INCLUDED),\n        _x,\n        _y,\n        _w,\n        _h,\n        toggle,\n        isWithin = false,\n        box;\n      if (shape.classed(CLASS.circle)) {\n        _x = shape.attr('cx') * 1;\n        _y = shape.attr('cy') * 1;\n        toggle = $$.togglePoint;\n        isWithin = minX < _x && _x < maxX && minY < _y && _y < maxY;\n      } else if (shape.classed(CLASS.bar)) {\n        box = getPathBox(this);\n        _x = box.x;\n        _y = box.y;\n        _w = box.width;\n        _h = box.height;\n        toggle = $$.togglePath;\n        isWithin =\n          !(maxX < _x || _x + _w < minX) && !(maxY < _y || _y + _h < minY);\n      } else {\n        // line/area selection not supported yet\n        return\n      }\n      if (isWithin ^ isIncluded) {\n        shape.classed(CLASS.INCLUDED, !isIncluded);\n        // TODO: included/unincluded callback here\n        shape.classed(CLASS.SELECTED, !isSelected);\n        toggle.call($$, !isSelected, shape, d, i);\n      }\n    });\n};\n\nChartInternal.prototype.dragstart = function(mouse) {\n  var $$ = this,\n    config = $$.config;\n  if ($$.hasArcType()) {\n    return\n  }\n  if (!config.data_selection_enabled) {\n    return\n  } // do nothing if not selectable\n  $$.dragStart = mouse;\n  $$.main\n    .select('.' + CLASS.chart)\n    .append('rect')\n    .attr('class', CLASS.dragarea)\n    .style('opacity', 0.1);\n  $$.dragging = true;\n};\n\nChartInternal.prototype.dragend = function() {\n  var $$ = this,\n    config = $$.config;\n  if ($$.hasArcType()) {\n    return\n  }\n  if (!config.data_selection_enabled) {\n    return\n  } // do nothing if not selectable\n  $$.main\n    .select('.' + CLASS.dragarea)\n    .transition()\n    .duration(100)\n    .style('opacity', 0)\n    .remove();\n  $$.main.selectAll('.' + CLASS.shape).classed(CLASS.INCLUDED, false);\n  $$.dragging = false;\n};\n\nChartInternal.prototype.getYFormat = function(forArc) {\n  var $$ = this,\n    formatForY =\n      forArc && !$$.hasType('gauge') ? $$.defaultArcValueFormat : $$.yFormat,\n    formatForY2 =\n      forArc && !$$.hasType('gauge') ? $$.defaultArcValueFormat : $$.y2Format;\n  return function(v, ratio, id) {\n    var format = $$.axis.getId(id) === 'y2' ? formatForY2 : formatForY;\n    return format.call($$, v, ratio)\n  }\n};\nChartInternal.prototype.yFormat = function(v) {\n  var $$ = this,\n    config = $$.config,\n    format = config.axis_y_tick_format\n      ? config.axis_y_tick_format\n      : $$.defaultValueFormat;\n  return format(v)\n};\nChartInternal.prototype.y2Format = function(v) {\n  var $$ = this,\n    config = $$.config,\n    format = config.axis_y2_tick_format\n      ? config.axis_y2_tick_format\n      : $$.defaultValueFormat;\n  return format(v)\n};\nChartInternal.prototype.defaultValueFormat = function(v) {\n  return isValue(v) ? +v : ''\n};\nChartInternal.prototype.defaultArcValueFormat = function(v, ratio) {\n  return (ratio * 100).toFixed(1) + '%'\n};\nChartInternal.prototype.dataLabelFormat = function(targetId) {\n  var $$ = this,\n    data_labels = $$.config.data_labels,\n    format,\n    defaultFormat = function(v) {\n      return isValue(v) ? +v : ''\n    };\n  // find format according to axis id\n  if (typeof data_labels.format === 'function') {\n    format = data_labels.format;\n  } else if (typeof data_labels.format === 'object') {\n    if (data_labels.format[targetId]) {\n      format =\n        data_labels.format[targetId] === true\n          ? defaultFormat\n          : data_labels.format[targetId];\n    } else {\n      format = function() {\n        return ''\n      };\n    }\n  } else {\n    format = defaultFormat;\n  }\n  return format\n};\n\nChartInternal.prototype.initGrid = function() {\n  var $$ = this,\n    config = $$.config,\n    d3 = $$.d3;\n  $$.grid = $$.main\n    .append('g')\n    .attr('clip-path', $$.clipPathForGrid)\n    .attr('class', CLASS.grid);\n  if (config.grid_x_show) {\n    $$.grid.append('g').attr('class', CLASS.xgrids);\n  }\n  if (config.grid_y_show) {\n    $$.grid.append('g').attr('class', CLASS.ygrids);\n  }\n  if (config.grid_focus_show) {\n    $$.grid\n      .append('g')\n      .attr('class', CLASS.xgridFocus)\n      .append('line')\n      .attr('class', CLASS.xgridFocus);\n  }\n  $$.xgrid = d3.selectAll([]);\n  if (!config.grid_lines_front) {\n    $$.initGridLines();\n  }\n};\nChartInternal.prototype.initGridLines = function() {\n  var $$ = this,\n    d3 = $$.d3;\n  $$.gridLines = $$.main\n    .append('g')\n    .attr('clip-path', $$.clipPathForGrid)\n    .attr('class', CLASS.grid + ' ' + CLASS.gridLines);\n  $$.gridLines.append('g').attr('class', CLASS.xgridLines);\n  $$.gridLines.append('g').attr('class', CLASS.ygridLines);\n  $$.xgridLines = d3.selectAll([]);\n};\nChartInternal.prototype.updateXGrid = function(withoutUpdate) {\n  var $$ = this,\n    config = $$.config,\n    d3 = $$.d3,\n    xgridData = $$.generateGridData(config.grid_x_type, $$.x),\n    tickOffset = $$.isCategorized() ? $$.xAxis.tickOffset() : 0;\n\n  $$.xgridAttr = config.axis_rotated\n    ? {\n        x1: 0,\n        x2: $$.width,\n        y1: function(d) {\n          return $$.x(d) - tickOffset\n        },\n        y2: function(d) {\n          return $$.x(d) - tickOffset\n        }\n      }\n    : {\n        x1: function(d) {\n          return $$.x(d) + tickOffset\n        },\n        x2: function(d) {\n          return $$.x(d) + tickOffset\n        },\n        y1: 0,\n        y2: $$.height\n      };\n  $$.xgridAttr.opacity = function() {\n    var pos = +d3.select(this).attr(config.axis_rotated ? 'y1' : 'x1');\n    return pos === (config.axis_rotated ? $$.height : 0) ? 0 : 1\n  };\n\n  var xgrid = $$.main\n    .select('.' + CLASS.xgrids)\n    .selectAll('.' + CLASS.xgrid)\n    .data(xgridData);\n  var xgridEnter = xgrid\n    .enter()\n    .append('line')\n    .attr('class', CLASS.xgrid)\n    .attr('x1', $$.xgridAttr.x1)\n    .attr('x2', $$.xgridAttr.x2)\n    .attr('y1', $$.xgridAttr.y1)\n    .attr('y2', $$.xgridAttr.y2)\n    .style('opacity', 0);\n  $$.xgrid = xgridEnter.merge(xgrid);\n  if (!withoutUpdate) {\n    $$.xgrid\n      .attr('x1', $$.xgridAttr.x1)\n      .attr('x2', $$.xgridAttr.x2)\n      .attr('y1', $$.xgridAttr.y1)\n      .attr('y2', $$.xgridAttr.y2)\n      .style('opacity', $$.xgridAttr.opacity);\n  }\n  xgrid.exit().remove();\n};\n\nChartInternal.prototype.updateYGrid = function() {\n  var $$ = this,\n    config = $$.config,\n    gridValues = $$.yAxis.tickValues() || $$.y.ticks(config.grid_y_ticks);\n  var ygrid = $$.main\n    .select('.' + CLASS.ygrids)\n    .selectAll('.' + CLASS.ygrid)\n    .data(gridValues);\n  var ygridEnter = ygrid\n    .enter()\n    .append('line')\n    // TODO: x1, x2, y1, y2, opacity need to be set here maybe\n    .attr('class', CLASS.ygrid);\n  $$.ygrid = ygridEnter.merge(ygrid);\n  $$.ygrid\n    .attr('x1', config.axis_rotated ? $$.y : 0)\n    .attr('x2', config.axis_rotated ? $$.y : $$.width)\n    .attr('y1', config.axis_rotated ? 0 : $$.y)\n    .attr('y2', config.axis_rotated ? $$.height : $$.y);\n  ygrid.exit().remove();\n  $$.smoothLines($$.ygrid, 'grid');\n};\n\nChartInternal.prototype.gridTextAnchor = function(d) {\n  return d.position ? d.position : 'end'\n};\nChartInternal.prototype.gridTextDx = function(d) {\n  return d.position === 'start' ? 4 : d.position === 'middle' ? 0 : -4\n};\nChartInternal.prototype.xGridTextX = function(d) {\n  return d.position === 'start'\n    ? -this.height\n    : d.position === 'middle'\n    ? -this.height / 2\n    : 0\n};\nChartInternal.prototype.yGridTextX = function(d) {\n  return d.position === 'start'\n    ? 0\n    : d.position === 'middle'\n    ? this.width / 2\n    : this.width\n};\nChartInternal.prototype.updateGrid = function(duration) {\n  var $$ = this,\n    main = $$.main,\n    config = $$.config,\n    xgridLine,\n    xgridLineEnter,\n    ygridLine,\n    ygridLineEnter,\n    xv = $$.xv.bind($$),\n    yv = $$.yv.bind($$),\n    xGridTextX = $$.xGridTextX.bind($$),\n    yGridTextX = $$.yGridTextX.bind($$);\n\n  // hide if arc type\n  $$.grid.style('visibility', $$.hasArcType() ? 'hidden' : 'visible');\n\n  main.select('line.' + CLASS.xgridFocus).style('visibility', 'hidden');\n  if (config.grid_x_show) {\n    $$.updateXGrid();\n  }\n  xgridLine = main\n    .select('.' + CLASS.xgridLines)\n    .selectAll('.' + CLASS.xgridLine)\n    .data(config.grid_x_lines);\n  // enter\n  xgridLineEnter = xgridLine\n    .enter()\n    .append('g')\n    .attr('class', function(d) {\n      return CLASS.xgridLine + (d['class'] ? ' ' + d['class'] : '')\n    });\n  xgridLineEnter\n    .append('line')\n    .attr('x1', config.axis_rotated ? 0 : xv)\n    .attr('x2', config.axis_rotated ? $$.width : xv)\n    .attr('y1', config.axis_rotated ? xv : 0)\n    .attr('y2', config.axis_rotated ? xv : $$.height)\n    .style('opacity', 0);\n  xgridLineEnter\n    .append('text')\n    .attr('text-anchor', $$.gridTextAnchor)\n    .attr('transform', config.axis_rotated ? '' : 'rotate(-90)')\n    .attr('x', config.axis_rotated ? yGridTextX : xGridTextX)\n    .attr('y', xv)\n    .attr('dx', $$.gridTextDx)\n    .attr('dy', -5)\n    .style('opacity', 0);\n  // udpate\n  $$.xgridLines = xgridLineEnter.merge(xgridLine);\n  // done in d3.transition() of the end of this function\n  // exit\n  xgridLine\n    .exit()\n    .transition()\n    .duration(duration)\n    .style('opacity', 0)\n    .remove();\n\n  // Y-Grid\n  if (config.grid_y_show) {\n    $$.updateYGrid();\n  }\n  ygridLine = main\n    .select('.' + CLASS.ygridLines)\n    .selectAll('.' + CLASS.ygridLine)\n    .data(config.grid_y_lines);\n  // enter\n  ygridLineEnter = ygridLine\n    .enter()\n    .append('g')\n    .attr('class', function(d) {\n      return CLASS.ygridLine + (d['class'] ? ' ' + d['class'] : '')\n    });\n  ygridLineEnter\n    .append('line')\n    .attr('x1', config.axis_rotated ? yv : 0)\n    .attr('x2', config.axis_rotated ? yv : $$.width)\n    .attr('y1', config.axis_rotated ? 0 : yv)\n    .attr('y2', config.axis_rotated ? $$.height : yv)\n    .style('opacity', 0);\n  ygridLineEnter\n    .append('text')\n    .attr('text-anchor', $$.gridTextAnchor)\n    .attr('transform', config.axis_rotated ? 'rotate(-90)' : '')\n    .attr('x', config.axis_rotated ? xGridTextX : yGridTextX)\n    .attr('y', yv)\n    .attr('dx', $$.gridTextDx)\n    .attr('dy', -5)\n    .style('opacity', 0);\n  // update\n  $$.ygridLines = ygridLineEnter.merge(ygridLine);\n  $$.ygridLines\n    .select('line')\n    .transition()\n    .duration(duration)\n    .attr('x1', config.axis_rotated ? yv : 0)\n    .attr('x2', config.axis_rotated ? yv : $$.width)\n    .attr('y1', config.axis_rotated ? 0 : yv)\n    .attr('y2', config.axis_rotated ? $$.height : yv)\n    .style('opacity', 1);\n  $$.ygridLines\n    .select('text')\n    .transition()\n    .duration(duration)\n    .attr(\n      'x',\n      config.axis_rotated ? $$.xGridTextX.bind($$) : $$.yGridTextX.bind($$)\n    )\n    .attr('y', yv)\n    .text(function(d) {\n      return d.text\n    })\n    .style('opacity', 1);\n  // exit\n  ygridLine\n    .exit()\n    .transition()\n    .duration(duration)\n    .style('opacity', 0)\n    .remove();\n};\nChartInternal.prototype.redrawGrid = function(withTransition, transition) {\n  var $$ = this,\n    config = $$.config,\n    xv = $$.xv.bind($$),\n    lines = $$.xgridLines.select('line'),\n    texts = $$.xgridLines.select('text');\n  return [\n    (withTransition ? lines.transition(transition) : lines)\n      .attr('x1', config.axis_rotated ? 0 : xv)\n      .attr('x2', config.axis_rotated ? $$.width : xv)\n      .attr('y1', config.axis_rotated ? xv : 0)\n      .attr('y2', config.axis_rotated ? xv : $$.height)\n      .style('opacity', 1),\n    (withTransition ? texts.transition(transition) : texts)\n      .attr(\n        'x',\n        config.axis_rotated ? $$.yGridTextX.bind($$) : $$.xGridTextX.bind($$)\n      )\n      .attr('y', xv)\n      .text(function(d) {\n        return d.text\n      })\n      .style('opacity', 1)\n  ]\n};\nChartInternal.prototype.showXGridFocus = function(selectedData) {\n  var $$ = this,\n    config = $$.config,\n    dataToShow = selectedData.filter(function(d) {\n      return d && isValue(d.value)\n    }),\n    focusEl = $$.main.selectAll('line.' + CLASS.xgridFocus),\n    xx = $$.xx.bind($$);\n  if (!config.tooltip_show) {\n    return\n  }\n  // Hide when stanford plot exists\n  if ($$.hasType('stanford') || $$.hasArcType()) {\n    return\n  }\n  focusEl\n    .style('visibility', 'visible')\n    .data([dataToShow[0]])\n    .attr(config.axis_rotated ? 'y1' : 'x1', xx)\n    .attr(config.axis_rotated ? 'y2' : 'x2', xx);\n  $$.smoothLines(focusEl, 'grid');\n};\nChartInternal.prototype.hideXGridFocus = function() {\n  this.main.select('line.' + CLASS.xgridFocus).style('visibility', 'hidden');\n};\nChartInternal.prototype.updateXgridFocus = function() {\n  var $$ = this,\n    config = $$.config;\n  $$.main\n    .select('line.' + CLASS.xgridFocus)\n    .attr('x1', config.axis_rotated ? 0 : -10)\n    .attr('x2', config.axis_rotated ? $$.width : -10)\n    .attr('y1', config.axis_rotated ? -10 : 0)\n    .attr('y2', config.axis_rotated ? -10 : $$.height);\n};\nChartInternal.prototype.generateGridData = function(type, scale) {\n  var $$ = this,\n    gridData = [],\n    xDomain,\n    firstYear,\n    lastYear,\n    i,\n    tickNum = $$.main\n      .select('.' + CLASS.axisX)\n      .selectAll('.tick')\n      .size();\n  if (type === 'year') {\n    xDomain = $$.getXDomain();\n    firstYear = xDomain[0].getFullYear();\n    lastYear = xDomain[1].getFullYear();\n    for (i = firstYear; i <= lastYear; i++) {\n      gridData.push(new Date(i + '-01-01 00:00:00'));\n    }\n  } else {\n    gridData = scale.ticks(10);\n    if (gridData.length > tickNum) {\n      // use only int\n      gridData = gridData.filter(function(d) {\n        return ('' + d).indexOf('.') < 0\n      });\n    }\n  }\n  return gridData\n};\nChartInternal.prototype.getGridFilterToRemove = function(params) {\n  return params\n    ? function(line) {\n        var found = false\n        ;[].concat(params).forEach(function(param) {\n          if (\n            ('value' in param && line.value === param.value) ||\n            ('class' in param && line['class'] === param['class'])\n          ) {\n            found = true;\n          }\n        });\n        return found\n      }\n    : function() {\n        return true\n      }\n};\nChartInternal.prototype.removeGridLines = function(params, forX) {\n  var $$ = this,\n    config = $$.config,\n    toRemove = $$.getGridFilterToRemove(params),\n    toShow = function(line) {\n      return !toRemove(line)\n    },\n    classLines = forX ? CLASS.xgridLines : CLASS.ygridLines,\n    classLine = forX ? CLASS.xgridLine : CLASS.ygridLine;\n  $$.main\n    .select('.' + classLines)\n    .selectAll('.' + classLine)\n    .filter(toRemove)\n    .transition()\n    .duration(config.transition_duration)\n    .style('opacity', 0)\n    .remove();\n  if (forX) {\n    config.grid_x_lines = config.grid_x_lines.filter(toShow);\n  } else {\n    config.grid_y_lines = config.grid_y_lines.filter(toShow);\n  }\n};\n\nChartInternal.prototype.initEventRect = function() {\n  var $$ = this,\n    config = $$.config;\n\n  $$.main\n    .select('.' + CLASS.chart)\n    .append('g')\n    .attr('class', CLASS.eventRects)\n    .style('fill-opacity', 0);\n  $$.eventRect = $$.main\n    .select('.' + CLASS.eventRects)\n    .append('rect')\n    .attr('class', CLASS.eventRect);\n\n  // event rect handle zoom event as well\n  if (config.zoom_enabled && $$.zoom) {\n    $$.eventRect.call($$.zoom).on('dblclick.zoom', null);\n    if (config.zoom_initialRange) {\n      // WORKAROUND: Add transition to apply transform immediately when no subchart\n      $$.eventRect\n        .transition()\n        .duration(0)\n        .call($$.zoom.transform, $$.zoomTransform(config.zoom_initialRange));\n    }\n  }\n};\nChartInternal.prototype.redrawEventRect = function() {\n  const $$ = this,\n    d3 = $$.d3,\n    config = $$.config;\n\n  function mouseout() {\n    $$.svg.select('.' + CLASS.eventRect).style('cursor', null);\n    $$.hideXGridFocus();\n    $$.hideTooltip();\n    $$.unexpandCircles();\n    $$.unexpandBars();\n  }\n\n  const isHoveringDataPoint = (mouse, closest) =>\n    closest &&\n    ($$.isBarType(closest.id) ||\n      $$.dist(closest, mouse) < config.point_sensitivity);\n\n  const withName = d => (d ? $$.addName(Object.assign({}, d)) : null);\n\n  // rects for mouseover\n  $$.main\n    .select('.' + CLASS.eventRects)\n    .style(\n      'cursor',\n      config.zoom_enabled\n        ? config.axis_rotated\n          ? 'ns-resize'\n          : 'ew-resize'\n        : null\n    );\n\n  $$.eventRect\n    .attr('x', 0)\n    .attr('y', 0)\n    .attr('width', $$.width)\n    .attr('height', $$.height)\n    .on(\n      'mouseout',\n      config.interaction_enabled\n        ? function() {\n            if (!config) {\n              return\n            } // chart is destroyed\n            if ($$.hasArcType()) {\n              return\n            }\n            if ($$.mouseover) {\n              config.data_onmouseout.call($$.api, $$.mouseover);\n              $$.mouseover = undefined;\n            }\n            mouseout();\n          }\n        : null\n    )\n    .on(\n      'mousemove',\n      config.interaction_enabled\n        ? function() {\n            // do nothing when dragging\n            if ($$.dragging) {\n              return\n            }\n\n            const targetsToShow = $$.getTargetsToShow();\n\n            // do nothing if arc type\n            if ($$.hasArcType(targetsToShow)) {\n              return\n            }\n\n            const mouse = d3.mouse(this);\n            const closest = withName(\n              $$.findClosestFromTargets(targetsToShow, mouse)\n            );\n            const isMouseCloseToDataPoint = isHoveringDataPoint(mouse, closest);\n\n            // ensure onmouseout is always called if mousemove switch between 2 targets\n            if (\n              $$.mouseover &&\n              (!closest ||\n                closest.id !== $$.mouseover.id ||\n                closest.index !== $$.mouseover.index)\n            ) {\n              config.data_onmouseout.call($$.api, $$.mouseover);\n              $$.mouseover = undefined;\n            }\n            if (closest && !$$.mouseover) {\n              config.data_onmouseover.call($$.api, closest);\n              $$.mouseover = closest;\n            }\n\n            // show cursor as pointer if we're hovering a data point close enough\n            $$.svg\n              .select('.' + CLASS.eventRect)\n              .style('cursor', isMouseCloseToDataPoint ? 'pointer' : null);\n\n            // if tooltip not grouped, we want to display only data from closest data point\n            const showSingleDataPoint =\n              !config.tooltip_grouped || $$.hasType('stanford', targetsToShow);\n\n            // find data to highlight\n            let selectedData;\n            if (showSingleDataPoint) {\n              if (closest) {\n                selectedData = [closest];\n              }\n            } else {\n              let closestByX;\n              if (closest) {\n                // reuse closest value\n                closestByX = closest;\n              } else {\n                // try to find the closest value by X values from the mouse position\n                const mouseX = config.axis_rotated ? mouse[1] : mouse[0];\n                closestByX = $$.findClosestFromTargetsByX(\n                  targetsToShow,\n                  $$.x.invert(mouseX)\n                );\n              }\n\n              // highlight all data for this 'x' value\n              if (closestByX) {\n                selectedData = $$.filterByX(targetsToShow, closestByX.x);\n              }\n            }\n\n            // ensure we have data to show\n            if (!selectedData || selectedData.length === 0) {\n              return mouseout()\n            }\n\n            // inject names for each point\n            selectedData = selectedData.map(withName);\n\n            // show tooltip\n            $$.showTooltip(selectedData, this);\n\n            // expand points\n            if (config.point_focus_expand_enabled) {\n              $$.unexpandCircles();\n              selectedData.forEach(function(d) {\n                $$.expandCircles(d.index, d.id, false);\n              });\n            }\n\n            // expand bars\n            $$.unexpandBars();\n            selectedData.forEach(function(d) {\n              $$.expandBars(d.index, d.id, false);\n            });\n\n            // Show xgrid focus line\n            $$.showXGridFocus(selectedData);\n          }\n        : null\n    )\n    .on(\n      'click',\n      config.interaction_enabled\n        ? function() {\n            const targetsToShow = $$.getTargetsToShow();\n\n            if ($$.hasArcType(targetsToShow)) {\n              return\n            }\n\n            const mouse = d3.mouse(this);\n            const closest = withName(\n              $$.findClosestFromTargets(targetsToShow, mouse)\n            );\n\n            if (!isHoveringDataPoint(mouse, closest)) {\n              return\n            }\n\n            // select if selection enabled\n            let sameXData;\n            if (!config.data_selection_grouped || $$.isStanfordType(closest)) {\n              sameXData = [closest];\n            } else {\n              sameXData = $$.filterByX(targetsToShow, closest.x);\n            }\n\n            // toggle selected state\n            sameXData.forEach(function(d) {\n              $$.main\n                .selectAll(\n                  '.' + CLASS.shapes + $$.getTargetSelectorSuffix(d.id)\n                )\n                .selectAll('.' + CLASS.shape + '-' + d.index)\n                .each(function() {\n                  if (\n                    config.data_selection_grouped ||\n                    $$.isWithinShape(this, d)\n                  ) {\n                    $$.toggleShape(this, d, d.index);\n                  }\n                });\n            });\n\n            // call data_onclick on the closest data point\n            if (closest) {\n              const shape = $$.main\n                .selectAll(\n                  '.' + CLASS.shapes + $$.getTargetSelectorSuffix(closest.id)\n                )\n                .select('.' + CLASS.shape + '-' + closest.index);\n              config.data_onclick.call($$.api, closest, shape.node());\n            }\n          }\n        : null\n    )\n    .call(\n      config.interaction_enabled && config.data_selection_draggable && $$.drag\n        ? d3\n            .drag()\n            .on('drag', function() {\n              $$.drag(d3.mouse(this));\n            })\n            .on('start', function() {\n              $$.dragstart(d3.mouse(this));\n            })\n            .on('end', function() {\n              $$.dragend();\n            })\n        : function() {}\n    );\n};\nChartInternal.prototype.getMousePosition = function(data) {\n  var $$ = this;\n  return [$$.x(data.x), $$.getYScale(data.id)(data.value)]\n};\nChartInternal.prototype.dispatchEvent = function(type, mouse) {\n  var $$ = this,\n    selector = '.' + CLASS.eventRect,\n    eventRect = $$.main.select(selector).node(),\n    box = eventRect.getBoundingClientRect(),\n    x = box.left + (mouse ? mouse[0] : 0),\n    y = box.top + (mouse ? mouse[1] : 0),\n    event = document.createEvent('MouseEvents');\n\n  event.initMouseEvent(\n    type,\n    true,\n    true,\n    window,\n    0,\n    x,\n    y,\n    x,\n    y,\n    false,\n    false,\n    false,\n    false,\n    0,\n    null\n  );\n  eventRect.dispatchEvent(event);\n};\n\nChartInternal.prototype.initLegend = function() {\n  var $$ = this;\n  $$.legendItemTextBox = {};\n  $$.legendHasRendered = false;\n  $$.legend = $$.svg.append('g').attr('transform', $$.getTranslate('legend'));\n  if (!$$.config.legend_show) {\n    $$.legend.style('visibility', 'hidden');\n    $$.hiddenLegendIds = $$.mapToIds($$.data.targets);\n    return\n  }\n  // MEMO: call here to update legend box and tranlate for all\n  // MEMO: translate will be updated by this, so transform not needed in updateLegend()\n  $$.updateLegendWithDefaults();\n};\nChartInternal.prototype.updateLegendWithDefaults = function() {\n  var $$ = this;\n  $$.updateLegend($$.mapToIds($$.data.targets), {\n    withTransform: false,\n    withTransitionForTransform: false,\n    withTransition: false\n  });\n};\nChartInternal.prototype.updateSizeForLegend = function(\n  legendHeight,\n  legendWidth\n) {\n  var $$ = this,\n    config = $$.config,\n    insetLegendPosition = {\n      top: $$.isLegendTop\n        ? $$.getCurrentPaddingTop() + config.legend_inset_y + 5.5\n        : $$.currentHeight -\n          legendHeight -\n          $$.getCurrentPaddingBottom() -\n          config.legend_inset_y,\n      left: $$.isLegendLeft\n        ? $$.getCurrentPaddingLeft() + config.legend_inset_x + 0.5\n        : $$.currentWidth -\n          legendWidth -\n          $$.getCurrentPaddingRight() -\n          config.legend_inset_x +\n          0.5\n    };\n\n  $$.margin3 = {\n    top: $$.isLegendRight\n      ? 0\n      : $$.isLegendInset\n      ? insetLegendPosition.top\n      : $$.currentHeight - legendHeight,\n    right: NaN,\n    bottom: 0,\n    left: $$.isLegendRight\n      ? $$.currentWidth - legendWidth\n      : $$.isLegendInset\n      ? insetLegendPosition.left\n      : 0\n  };\n};\nChartInternal.prototype.transformLegend = function(withTransition) {\n  var $$ = this\n  ;(withTransition ? $$.legend.transition() : $$.legend).attr(\n    'transform',\n    $$.getTranslate('legend')\n  );\n};\nChartInternal.prototype.updateLegendStep = function(step) {\n  this.legendStep = step;\n};\nChartInternal.prototype.updateLegendItemWidth = function(w) {\n  this.legendItemWidth = w;\n};\nChartInternal.prototype.updateLegendItemHeight = function(h) {\n  this.legendItemHeight = h;\n};\nChartInternal.prototype.getLegendWidth = function() {\n  var $$ = this;\n  return $$.config.legend_show\n    ? $$.isLegendRight || $$.isLegendInset\n      ? $$.legendItemWidth * ($$.legendStep + 1)\n      : $$.currentWidth\n    : 0\n};\nChartInternal.prototype.getLegendHeight = function() {\n  var $$ = this,\n    h = 0;\n  if ($$.config.legend_show) {\n    if ($$.isLegendRight) {\n      h = $$.currentHeight;\n    } else {\n      h = Math.max(20, $$.legendItemHeight) * ($$.legendStep + 1);\n    }\n  }\n  return h\n};\nChartInternal.prototype.opacityForLegend = function(legendItem) {\n  return legendItem.classed(CLASS.legendItemHidden) ? null : 1\n};\nChartInternal.prototype.opacityForUnfocusedLegend = function(legendItem) {\n  return legendItem.classed(CLASS.legendItemHidden) ? null : 0.3\n};\nChartInternal.prototype.toggleFocusLegend = function(targetIds, focus) {\n  var $$ = this;\n  targetIds = $$.mapToTargetIds(targetIds);\n  $$.legend\n    .selectAll('.' + CLASS.legendItem)\n    .filter(function(id) {\n      return targetIds.indexOf(id) >= 0\n    })\n    .classed(CLASS.legendItemFocused, focus)\n    .transition()\n    .duration(100)\n    .style('opacity', function() {\n      var opacity = focus ? $$.opacityForLegend : $$.opacityForUnfocusedLegend;\n      return opacity.call($$, $$.d3.select(this))\n    });\n};\nChartInternal.prototype.revertLegend = function() {\n  var $$ = this,\n    d3 = $$.d3;\n  $$.legend\n    .selectAll('.' + CLASS.legendItem)\n    .classed(CLASS.legendItemFocused, false)\n    .transition()\n    .duration(100)\n    .style('opacity', function() {\n      return $$.opacityForLegend(d3.select(this))\n    });\n};\nChartInternal.prototype.showLegend = function(targetIds) {\n  var $$ = this,\n    config = $$.config;\n  if (!config.legend_show) {\n    config.legend_show = true;\n    $$.legend.style('visibility', 'visible');\n    if (!$$.legendHasRendered) {\n      $$.updateLegendWithDefaults();\n    }\n  }\n  $$.removeHiddenLegendIds(targetIds);\n  $$.legend\n    .selectAll($$.selectorLegends(targetIds))\n    .style('visibility', 'visible')\n    .transition()\n    .style('opacity', function() {\n      return $$.opacityForLegend($$.d3.select(this))\n    });\n};\nChartInternal.prototype.hideLegend = function(targetIds) {\n  var $$ = this,\n    config = $$.config;\n  if (config.legend_show && isEmpty(targetIds)) {\n    config.legend_show = false;\n    $$.legend.style('visibility', 'hidden');\n  }\n  $$.addHiddenLegendIds(targetIds);\n  $$.legend\n    .selectAll($$.selectorLegends(targetIds))\n    .style('opacity', 0)\n    .style('visibility', 'hidden');\n};\nChartInternal.prototype.clearLegendItemTextBoxCache = function() {\n  this.legendItemTextBox = {};\n};\nChartInternal.prototype.updateLegend = function(\n  targetIds,\n  options,\n  transitions\n) {\n  var $$ = this,\n    config = $$.config;\n  var xForLegend,\n    xForLegendText,\n    xForLegendRect,\n    yForLegend,\n    yForLegendText,\n    yForLegendRect,\n    x1ForLegendTile,\n    x2ForLegendTile,\n    yForLegendTile;\n  var paddingTop = 4,\n    paddingRight = 10,\n    maxWidth = 0,\n    maxHeight = 0,\n    posMin = 10,\n    tileWidth = config.legend_item_tile_width + 5;\n  var l,\n    totalLength = 0,\n    offsets = {},\n    widths = {},\n    heights = {},\n    margins = [0],\n    steps = {},\n    step = 0;\n  var withTransition, withTransitionForTransform;\n  var texts, rects, tiles, background;\n\n  // Skip elements when their name is set to null\n  targetIds = targetIds.filter(function(id) {\n    return !isDefined(config.data_names[id]) || config.data_names[id] !== null\n  });\n\n  options = options || {};\n  withTransition = getOption(options, 'withTransition', true);\n  withTransitionForTransform = getOption(\n    options,\n    'withTransitionForTransform',\n    true\n  );\n\n  function getTextBox(textElement, id) {\n    if (!$$.legendItemTextBox[id]) {\n      $$.legendItemTextBox[id] = $$.getTextRect(\n        textElement.textContent,\n        CLASS.legendItem,\n        textElement\n      );\n    }\n    return $$.legendItemTextBox[id]\n  }\n\n  function updatePositions(textElement, id, index) {\n    var reset = index === 0,\n      isLast = index === targetIds.length - 1,\n      box = getTextBox(textElement, id),\n      itemWidth =\n        box.width +\n        tileWidth +\n        (isLast && !($$.isLegendRight || $$.isLegendInset) ? 0 : paddingRight) +\n        config.legend_padding,\n      itemHeight = box.height + paddingTop,\n      itemLength =\n        $$.isLegendRight || $$.isLegendInset ? itemHeight : itemWidth,\n      areaLength =\n        $$.isLegendRight || $$.isLegendInset\n          ? $$.getLegendHeight()\n          : $$.getLegendWidth(),\n      margin,\n      maxLength;\n\n    // MEMO: care about condifion of step, totalLength\n    function updateValues(id, withoutStep) {\n      if (!withoutStep) {\n        margin = (areaLength - totalLength - itemLength) / 2;\n        if (margin < posMin) {\n          margin = (areaLength - itemLength) / 2;\n          totalLength = 0;\n          step++;\n        }\n      }\n      steps[id] = step;\n      margins[step] = $$.isLegendInset ? 10 : margin;\n      offsets[id] = totalLength;\n      totalLength += itemLength;\n    }\n\n    if (reset) {\n      totalLength = 0;\n      step = 0;\n      maxWidth = 0;\n      maxHeight = 0;\n    }\n\n    if (config.legend_show && !$$.isLegendToShow(id)) {\n      widths[id] = heights[id] = steps[id] = offsets[id] = 0;\n      return\n    }\n\n    widths[id] = itemWidth;\n    heights[id] = itemHeight;\n\n    if (!maxWidth || itemWidth >= maxWidth) {\n      maxWidth = itemWidth;\n    }\n    if (!maxHeight || itemHeight >= maxHeight) {\n      maxHeight = itemHeight;\n    }\n    maxLength = $$.isLegendRight || $$.isLegendInset ? maxHeight : maxWidth;\n\n    if (config.legend_equally) {\n      Object.keys(widths).forEach(function(id) {\n        widths[id] = maxWidth;\n      });\n      Object.keys(heights).forEach(function(id) {\n        heights[id] = maxHeight;\n      });\n      margin = (areaLength - maxLength * targetIds.length) / 2;\n      if (margin < posMin) {\n        totalLength = 0;\n        step = 0;\n        targetIds.forEach(function(id) {\n          updateValues(id);\n        });\n      } else {\n        updateValues(id, true);\n      }\n    } else {\n      updateValues(id);\n    }\n  }\n\n  if ($$.isLegendInset) {\n    step = config.legend_inset_step\n      ? config.legend_inset_step\n      : targetIds.length;\n    $$.updateLegendStep(step);\n  }\n\n  if ($$.isLegendRight) {\n    xForLegend = function(id) {\n      return maxWidth * steps[id]\n    };\n    yForLegend = function(id) {\n      return margins[steps[id]] + offsets[id]\n    };\n  } else if ($$.isLegendInset) {\n    xForLegend = function(id) {\n      return maxWidth * steps[id] + 10\n    };\n    yForLegend = function(id) {\n      return margins[steps[id]] + offsets[id]\n    };\n  } else {\n    xForLegend = function(id) {\n      return margins[steps[id]] + offsets[id]\n    };\n    yForLegend = function(id) {\n      return maxHeight * steps[id]\n    };\n  }\n  xForLegendText = function(id, i) {\n    return xForLegend(id, i) + 4 + config.legend_item_tile_width\n  };\n  yForLegendText = function(id, i) {\n    return yForLegend(id, i) + 9\n  };\n  xForLegendRect = function(id, i) {\n    return xForLegend(id, i)\n  };\n  yForLegendRect = function(id, i) {\n    return yForLegend(id, i) - 5\n  };\n  x1ForLegendTile = function(id, i) {\n    return xForLegend(id, i) - 2\n  };\n  x2ForLegendTile = function(id, i) {\n    return xForLegend(id, i) - 2 + config.legend_item_tile_width\n  };\n  yForLegendTile = function(id, i) {\n    return yForLegend(id, i) + 4\n  };\n\n  // Define g for legend area\n  l = $$.legend\n    .selectAll('.' + CLASS.legendItem)\n    .data(targetIds)\n    .enter()\n    .append('g')\n    .attr('class', function(id) {\n      return $$.generateClass(CLASS.legendItem, id)\n    })\n    .style('visibility', function(id) {\n      return $$.isLegendToShow(id) ? 'visible' : 'hidden'\n    })\n    .style('cursor', function() {\n      return config.interaction_enabled ? 'pointer' : 'auto'\n    })\n    .on(\n      'click',\n      config.interaction_enabled\n        ? function(id) {\n            if (config.legend_item_onclick) {\n              config.legend_item_onclick.call($$, id);\n            } else {\n              if ($$.d3.event.altKey) {\n                $$.api.hide();\n                $$.api.show(id);\n              } else {\n                $$.api.toggle(id);\n                $$.isTargetToShow(id) ? $$.api.focus(id) : $$.api.revert();\n              }\n            }\n          }\n        : null\n    )\n    .on(\n      'mouseover',\n      config.interaction_enabled\n        ? function(id) {\n            if (config.legend_item_onmouseover) {\n              config.legend_item_onmouseover.call($$, id);\n            } else {\n              $$.d3.select(this).classed(CLASS.legendItemFocused, true);\n              if (!$$.transiting && $$.isTargetToShow(id)) {\n                $$.api.focus(id);\n              }\n            }\n          }\n        : null\n    )\n    .on(\n      'mouseout',\n      config.interaction_enabled\n        ? function(id) {\n            if (config.legend_item_onmouseout) {\n              config.legend_item_onmouseout.call($$, id);\n            } else {\n              $$.d3.select(this).classed(CLASS.legendItemFocused, false);\n              $$.api.revert();\n            }\n          }\n        : null\n    );\n\n  l.append('text')\n    .text(function(id) {\n      return isDefined(config.data_names[id]) ? config.data_names[id] : id\n    })\n    .each(function(id, i) {\n      updatePositions(this, id, i);\n    })\n    .style('pointer-events', 'none')\n    .attr('x', $$.isLegendRight || $$.isLegendInset ? xForLegendText : -200)\n    .attr('y', $$.isLegendRight || $$.isLegendInset ? -200 : yForLegendText);\n\n  l.append('rect')\n    .attr('class', CLASS.legendItemEvent)\n    .style('fill-opacity', 0)\n    .attr('x', $$.isLegendRight || $$.isLegendInset ? xForLegendRect : -200)\n    .attr('y', $$.isLegendRight || $$.isLegendInset ? -200 : yForLegendRect);\n\n  l.append('line')\n    .attr('class', CLASS.legendItemTile)\n    .style('stroke', $$.color)\n    .style('pointer-events', 'none')\n    .attr('x1', $$.isLegendRight || $$.isLegendInset ? x1ForLegendTile : -200)\n    .attr('y1', $$.isLegendRight || $$.isLegendInset ? -200 : yForLegendTile)\n    .attr('x2', $$.isLegendRight || $$.isLegendInset ? x2ForLegendTile : -200)\n    .attr('y2', $$.isLegendRight || $$.isLegendInset ? -200 : yForLegendTile)\n    .attr('stroke-width', config.legend_item_tile_height);\n\n  // Set background for inset legend\n  background = $$.legend.select('.' + CLASS.legendBackground + ' rect');\n  if ($$.isLegendInset && maxWidth > 0 && background.size() === 0) {\n    background = $$.legend\n      .insert('g', '.' + CLASS.legendItem)\n      .attr('class', CLASS.legendBackground)\n      .append('rect');\n  }\n\n  texts = $$.legend\n    .selectAll('text')\n    .data(targetIds)\n    .text(function(id) {\n      return isDefined(config.data_names[id]) ? config.data_names[id] : id\n    }) // MEMO: needed for update\n    .each(function(id, i) {\n      updatePositions(this, id, i);\n    })\n  ;(withTransition ? texts.transition() : texts)\n    .attr('x', xForLegendText)\n    .attr('y', yForLegendText);\n\n  rects = $$.legend.selectAll('rect.' + CLASS.legendItemEvent).data(targetIds)\n  ;(withTransition ? rects.transition() : rects)\n    .attr('width', function(id) {\n      return widths[id]\n    })\n    .attr('height', function(id) {\n      return heights[id]\n    })\n    .attr('x', xForLegendRect)\n    .attr('y', yForLegendRect);\n\n  tiles = $$.legend.selectAll('line.' + CLASS.legendItemTile).data(targetIds)\n  ;(withTransition ? tiles.transition() : tiles)\n    .style(\n      'stroke',\n      $$.levelColor\n        ? function(id) {\n            return $$.levelColor(\n              $$.cache[id].values.reduce(function(total, item) {\n                return total + item.value\n              }, 0)\n            )\n          }\n        : $$.color\n    )\n    .attr('x1', x1ForLegendTile)\n    .attr('y1', yForLegendTile)\n    .attr('x2', x2ForLegendTile)\n    .attr('y2', yForLegendTile);\n\n  if (background) {\n(withTransition ? background.transition() : background)\n      .attr('height', $$.getLegendHeight() - 12)\n      .attr('width', maxWidth * (step + 1) + 10);\n  }\n\n  // toggle legend state\n  $$.legend\n    .selectAll('.' + CLASS.legendItem)\n    .classed(CLASS.legendItemHidden, function(id) {\n      return !$$.isTargetToShow(id)\n    });\n\n  // Update all to reflect change of legend\n  $$.updateLegendItemWidth(maxWidth);\n  $$.updateLegendItemHeight(maxHeight);\n  $$.updateLegendStep(step);\n  // Update size and scale\n  $$.updateSizes();\n  $$.updateScales();\n  $$.updateSvgSize();\n  // Update g positions\n  $$.transformAll(withTransitionForTransform, transitions);\n  $$.legendHasRendered = true;\n};\n\nChartInternal.prototype.initRegion = function() {\n  var $$ = this;\n  $$.region = $$.main\n    .append('g')\n    .attr('clip-path', $$.clipPath)\n    .attr('class', CLASS.regions);\n};\nChartInternal.prototype.updateRegion = function(duration) {\n  var $$ = this,\n    config = $$.config;\n\n  // hide if arc type\n  $$.region.style('visibility', $$.hasArcType() ? 'hidden' : 'visible');\n\n  var mainRegion = $$.main\n    .select('.' + CLASS.regions)\n    .selectAll('.' + CLASS.region)\n    .data(config.regions);\n  var g = mainRegion.enter().append('g');\n  g.append('rect')\n    .attr('x', $$.regionX.bind($$))\n    .attr('y', $$.regionY.bind($$))\n    .attr('width', $$.regionWidth.bind($$))\n    .attr('height', $$.regionHeight.bind($$))\n    .style('fill-opacity', function(d) {\n      return isValue(d.opacity) ? d.opacity : 0.1\n    });\n  g.append('text').text($$.labelRegion.bind($$));\n  $$.mainRegion = g.merge(mainRegion).attr('class', $$.classRegion.bind($$));\n  mainRegion\n    .exit()\n    .transition()\n    .duration(duration)\n    .style('opacity', 0)\n    .remove();\n};\nChartInternal.prototype.redrawRegion = function(withTransition, transition) {\n  var $$ = this,\n    regions = $$.mainRegion,\n    regionLabels = $$.mainRegion.selectAll('text');\n  return [\n    (withTransition ? regions.transition(transition) : regions)\n      .attr('x', $$.regionX.bind($$))\n      .attr('y', $$.regionY.bind($$))\n      .attr('width', $$.regionWidth.bind($$))\n      .attr('height', $$.regionHeight.bind($$))\n      .style('fill-opacity', function(d) {\n        return isValue(d.opacity) ? d.opacity : 0.1\n      }),\n    (withTransition ? regionLabels.transition(transition) : regionLabels)\n      .attr('x', $$.labelOffsetX.bind($$))\n      .attr('y', $$.labelOffsetY.bind($$))\n      .attr('transform', $$.labelTransform.bind($$))\n      .attr('style', 'text-anchor: left;')\n  ]\n};\nChartInternal.prototype.regionX = function(d) {\n  var $$ = this,\n    config = $$.config,\n    xPos,\n    yScale = d.axis === 'y' ? $$.y : $$.y2;\n  if (d.axis === 'y' || d.axis === 'y2') {\n    xPos = config.axis_rotated ? ('start' in d ? yScale(d.start) : 0) : 0;\n  } else {\n    xPos = config.axis_rotated\n      ? 0\n      : 'start' in d\n      ? $$.x($$.isTimeSeries() ? $$.parseDate(d.start) : d.start)\n      : 0;\n  }\n  return xPos\n};\nChartInternal.prototype.regionY = function(d) {\n  var $$ = this,\n    config = $$.config,\n    yPos,\n    yScale = d.axis === 'y' ? $$.y : $$.y2;\n  if (d.axis === 'y' || d.axis === 'y2') {\n    yPos = config.axis_rotated ? 0 : 'end' in d ? yScale(d.end) : 0;\n  } else {\n    yPos = config.axis_rotated\n      ? 'start' in d\n        ? $$.x($$.isTimeSeries() ? $$.parseDate(d.start) : d.start)\n        : 0\n      : 0;\n  }\n  return yPos\n};\nChartInternal.prototype.regionWidth = function(d) {\n  var $$ = this,\n    config = $$.config,\n    start = $$.regionX(d),\n    end,\n    yScale = d.axis === 'y' ? $$.y : $$.y2;\n  if (d.axis === 'y' || d.axis === 'y2') {\n    end = config.axis_rotated\n      ? 'end' in d\n        ? yScale(d.end)\n        : $$.width\n      : $$.width;\n  } else {\n    end = config.axis_rotated\n      ? $$.width\n      : 'end' in d\n      ? $$.x($$.isTimeSeries() ? $$.parseDate(d.end) : d.end)\n      : $$.width;\n  }\n  return end < start ? 0 : end - start\n};\nChartInternal.prototype.regionHeight = function(d) {\n  var $$ = this,\n    config = $$.config,\n    start = this.regionY(d),\n    end,\n    yScale = d.axis === 'y' ? $$.y : $$.y2;\n  if (d.axis === 'y' || d.axis === 'y2') {\n    end = config.axis_rotated\n      ? $$.height\n      : 'start' in d\n      ? yScale(d.start)\n      : $$.height;\n  } else {\n    end = config.axis_rotated\n      ? 'end' in d\n        ? $$.x($$.isTimeSeries() ? $$.parseDate(d.end) : d.end)\n        : $$.height\n      : $$.height;\n  }\n  return end < start ? 0 : end - start\n};\nChartInternal.prototype.isRegionOnX = function(d) {\n  return !d.axis || d.axis === 'x'\n};\nChartInternal.prototype.labelRegion = function(d) {\n  return 'label' in d ? d.label : ''\n};\nChartInternal.prototype.labelTransform = function(d) {\n  return 'vertical' in d && d.vertical ? 'rotate(90)' : ''\n};\nChartInternal.prototype.labelOffsetX = function(d) {\n  var paddingX = 'paddingX' in d ? d.paddingX : 3;\n  var paddingY = 'paddingY' in d ? d.paddingY : 3;\n  return 'vertical' in d && d.vertical\n    ? this.regionY(d) + paddingY\n    : this.regionX(d) + paddingX\n};\nChartInternal.prototype.labelOffsetY = function(d) {\n  var paddingX = 'paddingX' in d ? d.paddingX : 3;\n  var paddingY = 'paddingY' in d ? d.paddingY : 3;\n  return 'vertical' in d && d.vertical\n    ? -(this.regionX(d) + paddingX)\n    : this.regionY(d) + 10 + paddingY\n};\n\nfunction c3LogScale(d3, linearScale, logScale) {\n  var PROJECTION = [0.01, 10];\n\n  if (!linearScale) {\n    linearScale = d3.scaleLinear();\n    linearScale.range(PROJECTION);\n  }\n\n  if (!logScale) {\n    logScale = d3.scaleLog();\n    logScale.domain(PROJECTION);\n    logScale.nice();\n  }\n\n  // copied from https://github.com/compute-io/logspace\n  function logspace(a, b, len) {\n    var arr, end, tmp, d;\n\n    if (arguments.length < 3) {\n      len = 10;\n    } else {\n      if (len === 0) {\n        return []\n      }\n    }\n    // Calculate the increment:\n    end = len - 1;\n    d = (b - a) / end;\n\n    // Build the output array...\n    arr = new Array(len);\n    tmp = a;\n    arr[0] = Math.pow(10, tmp);\n    for (var i = 1; i < end; i++) {\n      tmp += d;\n      arr[i] = Math.pow(10, tmp);\n    }\n    arr[end] = Math.pow(10, b);\n    return arr\n  }\n\n  function scale(x) {\n    return logScale(linearScale(x))\n  }\n\n  scale.domain = function(x) {\n    if (!arguments.length) {\n      return linearScale.domain()\n    }\n    linearScale.domain(x);\n    return scale\n  };\n\n  scale.range = function(x) {\n    if (!arguments.length) {\n      return logScale.range()\n    }\n    logScale.range(x);\n    return scale\n  };\n\n  scale.ticks = function(m) {\n    return logspace(-2, 1, m || 10).map(function(v) {\n      return linearScale.invert(v)\n    })\n  };\n\n  scale.copy = function() {\n    return c3LogScale(d3, linearScale.copy(), logScale.copy())\n  };\n\n  return scale\n}\n\nChartInternal.prototype.getScale = function(min, max, forTimeseries) {\n  return (forTimeseries ? this.d3.scaleTime() : this.d3.scaleLinear()).range([\n    min,\n    max\n  ])\n};\nChartInternal.prototype.getX = function(min, max, domain, offset) {\n  var $$ = this,\n    scale = $$.getScale(min, max, $$.isTimeSeries()),\n    _scale = domain ? scale.domain(domain) : scale,\n    key;\n  // Define customized scale if categorized axis\n  if ($$.isCategorized()) {\n    offset =\n      offset ||\n      function() {\n        return 0\n      };\n    scale = function(d, raw) {\n      var v = _scale(d) + offset(d);\n      return raw ? v : Math.ceil(v)\n    };\n  } else {\n    scale = function(d, raw) {\n      var v = _scale(d);\n      return raw ? v : Math.ceil(v)\n    };\n  }\n  // define functions\n  for (key in _scale) {\n    scale[key] = _scale[key];\n  }\n  scale.orgDomain = function() {\n    return _scale.domain()\n  };\n  // define custom domain() for categorized axis\n  if ($$.isCategorized()) {\n    scale.domain = function(domain) {\n      if (!arguments.length) {\n        domain = this.orgDomain();\n        return [domain[0], domain[1] + 1]\n      }\n      _scale.domain(domain);\n      return scale\n    };\n  }\n  return scale\n};\n\n/**\n * Creates and configures a D3 scale instance for the given type.\n *\n * By defaults it returns a Linear scale.\n *\n * @param {String} type Type of d3-scale to create. Type can be 'linear', 'time', 'timeseries' or 'log'.\n * @param {Array} domain The scale domain such as [from, to]\n * @param {Array} range The scale's range such as [from, to]\n *\n * @return A d3-scale instance\n */\nChartInternal.prototype.getY = function(type, domain, range) {\n  let scale;\n  if (type === 'timeseries' || type === 'time') {\n    scale = this.d3.scaleTime();\n  } else if (type === 'log') {\n    scale = c3LogScale(this.d3);\n  } else if (type === 'linear' || type === undefined) {\n    scale = this.d3.scaleLinear();\n  } else {\n    throw new Error(`Invalid Y axis type: \"${type}\"`)\n  }\n\n  if (domain) {\n    scale.domain(domain);\n  }\n\n  if (range) {\n    scale.range(range);\n  }\n\n  return scale\n};\nChartInternal.prototype.getYScale = function(id) {\n  return this.axis.getId(id) === 'y2' ? this.y2 : this.y\n};\nChartInternal.prototype.getSubYScale = function(id) {\n  return this.axis.getId(id) === 'y2' ? this.subY2 : this.subY\n};\nChartInternal.prototype.updateScales = function() {\n  var $$ = this,\n    config = $$.config,\n    forInit = !$$.x;\n  // update edges\n  $$.xMin = config.axis_rotated ? 1 : 0;\n  $$.xMax = config.axis_rotated ? $$.height : $$.width;\n  $$.yMin = config.axis_rotated ? 0 : $$.height;\n  $$.yMax = config.axis_rotated ? $$.width : 1;\n  $$.subXMin = $$.xMin;\n  $$.subXMax = $$.xMax;\n  $$.subYMin = config.axis_rotated ? 0 : $$.height2;\n  $$.subYMax = config.axis_rotated ? $$.width2 : 1;\n  // update scales\n  $$.x = $$.getX(\n    $$.xMin,\n    $$.xMax,\n    forInit ? undefined : $$.x.orgDomain(),\n    function() {\n      return $$.xAxis.tickOffset()\n    }\n  );\n  $$.y = $$.getY(\n    config.axis_y_type,\n    forInit ? config.axis_y_default : $$.y.domain(),\n    [$$.yMin, $$.yMax]\n  );\n  $$.y2 = $$.getY(\n    config.axis_y2_type,\n    forInit ? config.axis_y2_default : $$.y2.domain(),\n    [$$.yMin, $$.yMax]\n  );\n  $$.subX = $$.getX($$.xMin, $$.xMax, $$.orgXDomain, function(d) {\n    return d % 1 ? 0 : $$.subXAxis.tickOffset()\n  });\n  $$.subY = $$.getY(\n    config.axis_y_type,\n    forInit ? config.axis_y_default : $$.subY.domain(),\n    [$$.subYMin, $$.subYMax]\n  );\n  $$.subY2 = $$.getY(\n    config.axis_y2_type,\n    forInit ? config.axis_y2_default : $$.subY2.domain(),\n    [$$.subYMin, $$.subYMax]\n  );\n  // update axes\n  $$.xAxisTickFormat = $$.axis.getXAxisTickFormat();\n  $$.xAxisTickValues = $$.axis.getXAxisTickValues();\n  $$.yAxisTickValues = $$.axis.getYAxisTickValues();\n  $$.y2AxisTickValues = $$.axis.getY2AxisTickValues();\n\n  $$.xAxis = $$.axis.getXAxis(\n    $$.x,\n    $$.xOrient,\n    $$.xAxisTickFormat,\n    $$.xAxisTickValues,\n    config.axis_x_tick_outer\n  );\n  $$.subXAxis = $$.axis.getXAxis(\n    $$.subX,\n    $$.subXOrient,\n    $$.xAxisTickFormat,\n    $$.xAxisTickValues,\n    config.axis_x_tick_outer\n  );\n  $$.yAxis = $$.axis.getYAxis(\n    'y',\n    $$.y,\n    $$.yOrient,\n    $$.yAxisTickValues,\n    config.axis_y_tick_outer\n  );\n  $$.y2Axis = $$.axis.getYAxis(\n    'y2',\n    $$.y2,\n    $$.y2Orient,\n    $$.y2AxisTickValues,\n    config.axis_y2_tick_outer\n  );\n\n  // Set initialized scales to brush and zoom\n  if (!forInit) {\n    if ($$.brush) {\n      $$.brush.updateScale($$.subX);\n    }\n  }\n  // update for arc\n  if ($$.updateArc) {\n    $$.updateArc();\n  }\n};\n\nChartInternal.prototype.selectPoint = function(target, d, i) {\n  var $$ = this,\n    config = $$.config,\n    cx = (config.axis_rotated ? $$.circleY : $$.circleX).bind($$),\n    cy = (config.axis_rotated ? $$.circleX : $$.circleY).bind($$),\n    r = $$.pointSelectR.bind($$);\n  config.data_onselected.call($$.api, d, target.node());\n  // add selected-circle on low layer g\n  $$.main\n    .select('.' + CLASS.selectedCircles + $$.getTargetSelectorSuffix(d.id))\n    .selectAll('.' + CLASS.selectedCircle + '-' + i)\n    .data([d])\n    .enter()\n    .append('circle')\n    .attr('class', function() {\n      return $$.generateClass(CLASS.selectedCircle, i)\n    })\n    .attr('cx', cx)\n    .attr('cy', cy)\n    .attr('stroke', function() {\n      return $$.color(d)\n    })\n    .attr('r', function(d) {\n      return $$.pointSelectR(d) * 1.4\n    })\n    .transition()\n    .duration(100)\n    .attr('r', r);\n};\nChartInternal.prototype.unselectPoint = function(target, d, i) {\n  var $$ = this;\n  $$.config.data_onunselected.call($$.api, d, target.node());\n  // remove selected-circle from low layer g\n  $$.main\n    .select('.' + CLASS.selectedCircles + $$.getTargetSelectorSuffix(d.id))\n    .selectAll('.' + CLASS.selectedCircle + '-' + i)\n    .transition()\n    .duration(100)\n    .attr('r', 0)\n    .remove();\n};\nChartInternal.prototype.togglePoint = function(selected, target, d, i) {\n  selected ? this.selectPoint(target, d, i) : this.unselectPoint(target, d, i);\n};\nChartInternal.prototype.selectPath = function(target, d) {\n  var $$ = this;\n  $$.config.data_onselected.call($$, d, target.node());\n  if ($$.config.interaction_brighten) {\n    target\n      .transition()\n      .duration(100)\n      .style('fill', function() {\n        return $$.d3.rgb($$.color(d)).brighter(0.75)\n      });\n  }\n};\nChartInternal.prototype.unselectPath = function(target, d) {\n  var $$ = this;\n  $$.config.data_onunselected.call($$, d, target.node());\n  if ($$.config.interaction_brighten) {\n    target\n      .transition()\n      .duration(100)\n      .style('fill', function() {\n        return $$.color(d)\n      });\n  }\n};\nChartInternal.prototype.togglePath = function(selected, target, d, i) {\n  selected ? this.selectPath(target, d, i) : this.unselectPath(target, d, i);\n};\nChartInternal.prototype.getToggle = function(that, d) {\n  var $$ = this,\n    toggle;\n  if (that.nodeName === 'circle') {\n    if ($$.isStepType(d)) {\n      // circle is hidden in step chart, so treat as within the click area\n      toggle = function() {}; // TODO: how to select step chart?\n    } else {\n      toggle = $$.togglePoint;\n    }\n  } else if (that.nodeName === 'path') {\n    toggle = $$.togglePath;\n  }\n  return toggle\n};\nChartInternal.prototype.toggleShape = function(that, d, i) {\n  var $$ = this,\n    d3 = $$.d3,\n    config = $$.config,\n    shape = d3.select(that),\n    isSelected = shape.classed(CLASS.SELECTED),\n    toggle = $$.getToggle(that, d).bind($$);\n\n  if (config.data_selection_enabled && config.data_selection_isselectable(d)) {\n    if (!config.data_selection_multiple) {\n      $$.main\n        .selectAll(\n          '.' +\n            CLASS.shapes +\n            (config.data_selection_grouped\n              ? $$.getTargetSelectorSuffix(d.id)\n              : '')\n        )\n        .selectAll('.' + CLASS.shape)\n        .each(function(d, i) {\n          var shape = d3.select(this);\n          if (shape.classed(CLASS.SELECTED)) {\n            toggle(false, shape.classed(CLASS.SELECTED, false), d, i);\n          }\n        });\n    }\n    shape.classed(CLASS.SELECTED, !isSelected);\n    toggle(!isSelected, shape, d, i);\n  }\n};\n\nChartInternal.prototype.initBar = function() {\n  var $$ = this;\n  $$.main\n    .select('.' + CLASS.chart)\n    .append('g')\n    .attr('class', CLASS.chartBars);\n};\nChartInternal.prototype.updateTargetsForBar = function(targets) {\n  var $$ = this,\n    config = $$.config,\n    mainBars,\n    mainBarEnter,\n    classChartBar = $$.classChartBar.bind($$),\n    classBars = $$.classBars.bind($$),\n    classFocus = $$.classFocus.bind($$);\n  mainBars = $$.main\n    .select('.' + CLASS.chartBars)\n    .selectAll('.' + CLASS.chartBar)\n    .data(targets)\n    .attr('class', function(d) {\n      return classChartBar(d) + classFocus(d)\n    });\n  mainBarEnter = mainBars\n    .enter()\n    .append('g')\n    .attr('class', classChartBar)\n    .style('pointer-events', 'none');\n  // Bars for each data\n  mainBarEnter\n    .append('g')\n    .attr('class', classBars)\n    .style('cursor', function(d) {\n      return config.data_selection_isselectable(d) ? 'pointer' : null\n    });\n};\nChartInternal.prototype.updateBar = function(durationForExit) {\n  var $$ = this,\n    barData = $$.barData.bind($$),\n    classBar = $$.classBar.bind($$),\n    initialOpacity = $$.initialOpacity.bind($$),\n    color = function(d) {\n      return $$.color(d.id)\n    };\n  var mainBar = $$.main\n    .selectAll('.' + CLASS.bars)\n    .selectAll('.' + CLASS.bar)\n    .data(barData);\n  var mainBarEnter = mainBar\n    .enter()\n    .append('path')\n    .attr('class', classBar)\n    .style('stroke', color)\n    .style('fill', color);\n  $$.mainBar = mainBarEnter.merge(mainBar).style('opacity', initialOpacity);\n  mainBar\n    .exit()\n    .transition()\n    .duration(durationForExit)\n    .style('opacity', 0);\n};\nChartInternal.prototype.redrawBar = function(\n  drawBar,\n  withTransition,\n  transition\n) {\n  const $$ = this;\n\n  return [\n    (withTransition ? this.mainBar.transition(transition) : this.mainBar)\n      .attr('d', drawBar)\n      .style('stroke', this.color)\n      .style('fill', this.color)\n      .style('opacity', d => ($$.isTargetToShow(d.id) ? 1 : 0))\n  ]\n};\nChartInternal.prototype.getBarW = function(axis, barTargetsNum) {\n  var $$ = this,\n    config = $$.config,\n    w =\n      typeof config.bar_width === 'number'\n        ? config.bar_width\n        : barTargetsNum\n        ? (axis.tickInterval() * config.bar_width_ratio) / barTargetsNum\n        : 0;\n  return config.bar_width_max && w > config.bar_width_max\n    ? config.bar_width_max\n    : w\n};\nChartInternal.prototype.getBars = function(i, id) {\n  var $$ = this;\n  return (id\n    ? $$.main.selectAll('.' + CLASS.bars + $$.getTargetSelectorSuffix(id))\n    : $$.main\n  ).selectAll('.' + CLASS.bar + (isValue(i) ? '-' + i : ''))\n};\nChartInternal.prototype.expandBars = function(i, id, reset) {\n  var $$ = this;\n  if (reset) {\n    $$.unexpandBars();\n  }\n  $$.getBars(i, id).classed(CLASS.EXPANDED, true);\n};\nChartInternal.prototype.unexpandBars = function(i) {\n  var $$ = this;\n  $$.getBars(i).classed(CLASS.EXPANDED, false);\n};\nChartInternal.prototype.generateDrawBar = function(barIndices, isSub) {\n  var $$ = this,\n    config = $$.config,\n    getPoints = $$.generateGetBarPoints(barIndices, isSub);\n  return function(d, i) {\n    // 4 points that make a bar\n    var points = getPoints(d, i);\n\n    // switch points if axis is rotated, not applicable for sub chart\n    var indexX = config.axis_rotated ? 1 : 0;\n    var indexY = config.axis_rotated ? 0 : 1;\n\n    var path =\n      'M ' +\n      points[0][indexX] +\n      ',' +\n      points[0][indexY] +\n      ' ' +\n      'L' +\n      points[1][indexX] +\n      ',' +\n      points[1][indexY] +\n      ' ' +\n      'L' +\n      points[2][indexX] +\n      ',' +\n      points[2][indexY] +\n      ' ' +\n      'L' +\n      points[3][indexX] +\n      ',' +\n      points[3][indexY] +\n      ' ' +\n      'z';\n\n    return path\n  }\n};\nChartInternal.prototype.generateGetBarPoints = function(barIndices, isSub) {\n  var $$ = this,\n    axis = isSub ? $$.subXAxis : $$.xAxis,\n    barTargetsNum = barIndices.__max__ + 1,\n    barW = $$.getBarW(axis, barTargetsNum),\n    barX = $$.getShapeX(barW, barTargetsNum, barIndices, !!isSub),\n    barY = $$.getShapeY(!!isSub),\n    barOffset = $$.getShapeOffset($$.isBarType, barIndices, !!isSub),\n    barSpaceOffset = barW * ($$.config.bar_space / 2),\n    yScale = isSub ? $$.getSubYScale : $$.getYScale;\n  return function(d, i) {\n    var y0 = yScale.call($$, d.id)(0),\n      offset = barOffset(d, i) || y0, // offset is for stacked bar chart\n      posX = barX(d),\n      posY = barY(d);\n    // fix posY not to overflow opposite quadrant\n    if ($$.config.axis_rotated) {\n      if ((0 < d.value && posY < y0) || (d.value < 0 && y0 < posY)) {\n        posY = y0;\n      }\n    }\n\n    posY -= y0 - offset;\n\n    // 4 points that make a bar\n    return [\n      [posX + barSpaceOffset, offset],\n      [posX + barSpaceOffset, posY],\n      [posX + barW - barSpaceOffset, posY],\n      [posX + barW - barSpaceOffset, offset]\n    ]\n  }\n};\n\n/**\n * Returns whether the data point is within the given bar shape.\n *\n * @param mouse\n * @param barShape\n * @return {boolean}\n */\nChartInternal.prototype.isWithinBar = function(mouse, barShape) {\n  return isWithinBox(mouse, getBBox(barShape), 2)\n};\n\nChartInternal.prototype.getShapeIndices = function(typeFilter) {\n  var $$ = this,\n    config = $$.config,\n    indices = {},\n    i = 0,\n    j,\n    k;\n  $$.filterTargetsToShow($$.data.targets.filter(typeFilter, $$)).forEach(\n    function(d) {\n      for (j = 0; j < config.data_groups.length; j++) {\n        if (config.data_groups[j].indexOf(d.id) < 0) {\n          continue\n        }\n        for (k = 0; k < config.data_groups[j].length; k++) {\n          if (config.data_groups[j][k] in indices) {\n            indices[d.id] = indices[config.data_groups[j][k]];\n            break\n          }\n        }\n      }\n      if (isUndefined(indices[d.id])) {\n        indices[d.id] = i++;\n      }\n    }\n  );\n  indices.__max__ = i - 1;\n  return indices\n};\nChartInternal.prototype.getShapeX = function(\n  offset,\n  targetsNum,\n  indices,\n  isSub\n) {\n  var $$ = this,\n    scale = isSub ? $$.subX : $$.x;\n  return function(d) {\n    var index = d.id in indices ? indices[d.id] : 0;\n    return d.x || d.x === 0 ? scale(d.x) - offset * (targetsNum / 2 - index) : 0\n  }\n};\nChartInternal.prototype.getShapeY = function(isSub) {\n  const $$ = this;\n\n  return function(d) {\n    const scale = isSub ? $$.getSubYScale(d.id) : $$.getYScale(d.id);\n    return scale(\n      $$.isTargetNormalized(d.id) ? $$.getRatio('index', d, true) : d.value\n    )\n  }\n};\nChartInternal.prototype.getShapeOffset = function(typeFilter, indices, isSub) {\n  var $$ = this,\n    targets = $$.orderTargets(\n      $$.filterTargetsToShow($$.data.targets.filter(typeFilter, $$))\n    ),\n    targetIds = targets.map(function(t) {\n      return t.id\n    });\n  return function(d, i) {\n    var scale = isSub ? $$.getSubYScale(d.id) : $$.getYScale(d.id),\n      y0 = scale(0),\n      offset = y0;\n    targets.forEach(function(t) {\n      const rowValues = $$.isStepType(d)\n        ? $$.convertValuesToStep(t.values)\n        : t.values;\n      const isTargetNormalized = $$.isTargetNormalized(d.id);\n      const values = rowValues.map(v =>\n        isTargetNormalized ? $$.getRatio('index', v, true) : v.value\n      );\n\n      if (t.id === d.id || indices[t.id] !== indices[d.id]) {\n        return\n      }\n      if (targetIds.indexOf(t.id) < targetIds.indexOf(d.id)) {\n        // check if the x values line up\n        if (isUndefined(rowValues[i]) || +rowValues[i].x !== +d.x) {\n          // \"+\" for timeseries\n          // if not, try to find the value that does line up\n          i = -1;\n          rowValues.forEach(function(v, j) {\n            const x1 = v.x.constructor === Date ? +v.x : v.x;\n            const x2 = d.x.constructor === Date ? +d.x : d.x;\n\n            if (x1 === x2) {\n              i = j;\n            }\n          });\n        }\n        if (i in rowValues && rowValues[i].value * d.value >= 0) {\n          offset += scale(values[i]) - y0;\n        }\n      }\n    });\n    return offset\n  }\n};\nChartInternal.prototype.isWithinShape = function(that, d) {\n  var $$ = this,\n    shape = $$.d3.select(that),\n    isWithin;\n  if (!$$.isTargetToShow(d.id)) {\n    isWithin = false;\n  } else if (that.nodeName === 'circle') {\n    isWithin = $$.isStepType(d)\n      ? $$.isWithinStep(that, $$.getYScale(d.id)(d.value))\n      : $$.isWithinCircle(that, $$.pointSelectR(d) * 1.5);\n  } else if (that.nodeName === 'path') {\n    isWithin = shape.classed(CLASS.bar)\n      ? $$.isWithinBar($$.d3.mouse(that), that)\n      : true;\n  }\n  return isWithin\n};\n\nChartInternal.prototype.getInterpolate = function(d) {\n  var $$ = this,\n    d3 = $$.d3,\n    types = {\n      linear: d3.curveLinear,\n      'linear-closed': d3.curveLinearClosed,\n      basis: d3.curveBasis,\n      'basis-open': d3.curveBasisOpen,\n      'basis-closed': d3.curveBasisClosed,\n      bundle: d3.curveBundle,\n      cardinal: d3.curveCardinal,\n      'cardinal-open': d3.curveCardinalOpen,\n      'cardinal-closed': d3.curveCardinalClosed,\n      monotone: d3.curveMonotoneX,\n      step: d3.curveStep,\n      'step-before': d3.curveStepBefore,\n      'step-after': d3.curveStepAfter\n    },\n    type;\n\n  if ($$.isSplineType(d)) {\n    type = types[$$.config.spline_interpolation_type] || types.cardinal;\n  } else if ($$.isStepType(d)) {\n    type = types[$$.config.line_step_type];\n  } else {\n    type = types.linear;\n  }\n  return type\n};\n\nChartInternal.prototype.initLine = function() {\n  var $$ = this;\n  $$.main\n    .select('.' + CLASS.chart)\n    .append('g')\n    .attr('class', CLASS.chartLines);\n};\nChartInternal.prototype.updateTargetsForLine = function(targets) {\n  var $$ = this,\n    config = $$.config,\n    mainLines,\n    mainLineEnter,\n    classChartLine = $$.classChartLine.bind($$),\n    classLines = $$.classLines.bind($$),\n    classAreas = $$.classAreas.bind($$),\n    classCircles = $$.classCircles.bind($$),\n    classFocus = $$.classFocus.bind($$);\n  mainLines = $$.main\n    .select('.' + CLASS.chartLines)\n    .selectAll('.' + CLASS.chartLine)\n    .data(targets)\n    .attr('class', function(d) {\n      return classChartLine(d) + classFocus(d)\n    });\n  mainLineEnter = mainLines\n    .enter()\n    .append('g')\n    .attr('class', classChartLine)\n    .style('opacity', 0)\n    .style('pointer-events', 'none');\n  // Lines for each data\n  mainLineEnter.append('g').attr('class', classLines);\n  // Areas\n  mainLineEnter.append('g').attr('class', classAreas);\n  // Circles for each data point on lines\n  mainLineEnter.append('g').attr('class', function(d) {\n    return $$.generateClass(CLASS.selectedCircles, d.id)\n  });\n  mainLineEnter\n    .append('g')\n    .attr('class', classCircles)\n    .style('cursor', function(d) {\n      return config.data_selection_isselectable(d) ? 'pointer' : null\n    });\n  // Update date for selected circles\n  targets.forEach(function(t) {\n    $$.main\n      .selectAll('.' + CLASS.selectedCircles + $$.getTargetSelectorSuffix(t.id))\n      .selectAll('.' + CLASS.selectedCircle)\n      .each(function(d) {\n        d.value = t.values[d.index].value;\n      });\n  });\n  // MEMO: can not keep same color...\n  //mainLineUpdate.exit().remove();\n};\nChartInternal.prototype.updateLine = function(durationForExit) {\n  var $$ = this;\n  var mainLine = $$.main\n    .selectAll('.' + CLASS.lines)\n    .selectAll('.' + CLASS.line)\n    .data($$.lineData.bind($$));\n  var mainLineEnter = mainLine\n    .enter()\n    .append('path')\n    .attr('class', $$.classLine.bind($$))\n    .style('stroke', $$.color);\n  $$.mainLine = mainLineEnter\n    .merge(mainLine)\n    .style('opacity', $$.initialOpacity.bind($$))\n    .style('shape-rendering', function(d) {\n      return $$.isStepType(d) ? 'crispEdges' : ''\n    })\n    .attr('transform', null);\n  mainLine\n    .exit()\n    .transition()\n    .duration(durationForExit)\n    .style('opacity', 0);\n};\nChartInternal.prototype.redrawLine = function(\n  drawLine,\n  withTransition,\n  transition\n) {\n  return [\n    (withTransition ? this.mainLine.transition(transition) : this.mainLine)\n      .attr('d', drawLine)\n      .style('stroke', this.color)\n      .style('opacity', 1)\n  ]\n};\nChartInternal.prototype.generateDrawLine = function(lineIndices, isSub) {\n  var $$ = this,\n    config = $$.config,\n    line = $$.d3.line(),\n    getPoints = $$.generateGetLinePoints(lineIndices, isSub),\n    yScaleGetter = isSub ? $$.getSubYScale : $$.getYScale,\n    xValue = function(d) {\n      return (isSub ? $$.subxx : $$.xx).call($$, d)\n    },\n    yValue = function(d, i) {\n      return config.data_groups.length > 0\n        ? getPoints(d, i)[0][1]\n        : yScaleGetter.call($$, d.id)(d.value)\n    };\n\n  line = config.axis_rotated\n    ? line.x(yValue).y(xValue)\n    : line.x(xValue).y(yValue);\n  if (!config.line_connectNull) {\n    line = line.defined(function(d) {\n      return d.value != null\n    });\n  }\n  return function(d) {\n    var values = config.line_connectNull\n        ? $$.filterRemoveNull(d.values)\n        : d.values,\n      x = isSub ? $$.subX : $$.x,\n      y = yScaleGetter.call($$, d.id),\n      x0 = 0,\n      y0 = 0,\n      path;\n    if ($$.isLineType(d)) {\n      if (config.data_regions[d.id]) {\n        path = $$.lineWithRegions(values, x, y, config.data_regions[d.id]);\n      } else {\n        if ($$.isStepType(d)) {\n          values = $$.convertValuesToStep(values);\n        }\n        path = line.curve($$.getInterpolate(d))(values);\n      }\n    } else {\n      if (values[0]) {\n        x0 = x(values[0].x);\n        y0 = y(values[0].value);\n      }\n      path = config.axis_rotated ? 'M ' + y0 + ' ' + x0 : 'M ' + x0 + ' ' + y0;\n    }\n    return path ? path : 'M 0 0'\n  }\n};\nChartInternal.prototype.generateGetLinePoints = function(lineIndices, isSub) {\n  // partial duplication of generateGetBarPoints\n  var $$ = this,\n    config = $$.config,\n    lineTargetsNum = lineIndices.__max__ + 1,\n    x = $$.getShapeX(0, lineTargetsNum, lineIndices, !!isSub),\n    y = $$.getShapeY(!!isSub),\n    lineOffset = $$.getShapeOffset($$.isLineType, lineIndices, !!isSub),\n    yScale = isSub ? $$.getSubYScale : $$.getYScale;\n  return function(d, i) {\n    var y0 = yScale.call($$, d.id)(0),\n      offset = lineOffset(d, i) || y0, // offset is for stacked area chart\n      posX = x(d),\n      posY = y(d);\n    // fix posY not to overflow opposite quadrant\n    if (config.axis_rotated) {\n      if ((0 < d.value && posY < y0) || (d.value < 0 && y0 < posY)) {\n        posY = y0;\n      }\n    }\n    // 1 point that marks the line position\n    return [\n      [posX, posY - (y0 - offset)],\n      [posX, posY - (y0 - offset)], // needed for compatibility\n      [posX, posY - (y0 - offset)], // needed for compatibility\n      [posX, posY - (y0 - offset)] // needed for compatibility\n    ]\n  }\n};\n\nChartInternal.prototype.lineWithRegions = function(d, x, y, _regions) {\n  var $$ = this,\n    config = $$.config,\n    prev = -1,\n    i,\n    j,\n    s = 'M',\n    sWithRegion,\n    xp,\n    yp,\n    dx,\n    dy,\n    dd,\n    diff,\n    diffx2,\n    xOffset = $$.isCategorized() ? 0.5 : 0,\n    xValue,\n    yValue,\n    regions = [];\n\n  function isWithinRegions(x, regions) {\n    var i;\n    for (i = 0; i < regions.length; i++) {\n      if (regions[i].start < x && x <= regions[i].end) {\n        return true\n      }\n    }\n    return false\n  }\n\n  // Check start/end of regions\n  if (isDefined(_regions)) {\n    for (i = 0; i < _regions.length; i++) {\n      regions[i] = {};\n      if (isUndefined(_regions[i].start)) {\n        regions[i].start = d[0].x;\n      } else {\n        regions[i].start = $$.isTimeSeries()\n          ? $$.parseDate(_regions[i].start)\n          : _regions[i].start;\n      }\n      if (isUndefined(_regions[i].end)) {\n        regions[i].end = d[d.length - 1].x;\n      } else {\n        regions[i].end = $$.isTimeSeries()\n          ? $$.parseDate(_regions[i].end)\n          : _regions[i].end;\n      }\n    }\n  }\n\n  // Set scales\n  xValue = config.axis_rotated\n    ? function(d) {\n        return y(d.value)\n      }\n    : function(d) {\n        return x(d.x)\n      };\n  yValue = config.axis_rotated\n    ? function(d) {\n        return x(d.x)\n      }\n    : function(d) {\n        return y(d.value)\n      };\n\n  // Define svg generator function for region\n  function generateM(points) {\n    return (\n      'M' +\n      points[0][0] +\n      ' ' +\n      points[0][1] +\n      ' ' +\n      points[1][0] +\n      ' ' +\n      points[1][1]\n    )\n  }\n  if ($$.isTimeSeries()) {\n    sWithRegion = function(d0, d1, j, diff) {\n      var x0 = d0.x.getTime(),\n        x_diff = d1.x - d0.x,\n        xv0 = new Date(x0 + x_diff * j),\n        xv1 = new Date(x0 + x_diff * (j + diff)),\n        points;\n      if (config.axis_rotated) {\n        points = [\n          [y(yp(j)), x(xv0)],\n          [y(yp(j + diff)), x(xv1)]\n        ];\n      } else {\n        points = [\n          [x(xv0), y(yp(j))],\n          [x(xv1), y(yp(j + diff))]\n        ];\n      }\n      return generateM(points)\n    };\n  } else {\n    sWithRegion = function(d0, d1, j, diff) {\n      var points;\n      if (config.axis_rotated) {\n        points = [\n          [y(yp(j), true), x(xp(j))],\n          [y(yp(j + diff), true), x(xp(j + diff))]\n        ];\n      } else {\n        points = [\n          [x(xp(j), true), y(yp(j))],\n          [x(xp(j + diff), true), y(yp(j + diff))]\n        ];\n      }\n      return generateM(points)\n    };\n  }\n\n  // Generate\n  for (i = 0; i < d.length; i++) {\n    // Draw as normal\n    if (isUndefined(regions) || !isWithinRegions(d[i].x, regions)) {\n      s += ' ' + xValue(d[i]) + ' ' + yValue(d[i]);\n    }\n    // Draw with region // TODO: Fix for horizotal charts\n    else {\n      xp = $$.getScale(\n        d[i - 1].x + xOffset,\n        d[i].x + xOffset,\n        $$.isTimeSeries()\n      );\n      yp = $$.getScale(d[i - 1].value, d[i].value);\n\n      dx = x(d[i].x) - x(d[i - 1].x);\n      dy = y(d[i].value) - y(d[i - 1].value);\n      dd = Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2));\n      diff = 2 / dd;\n      diffx2 = diff * 2;\n\n      for (j = diff; j <= 1; j += diffx2) {\n        s += sWithRegion(d[i - 1], d[i], j, diff);\n      }\n    }\n    prev = d[i].x;\n  }\n\n  return s\n};\n\nChartInternal.prototype.updateArea = function(durationForExit) {\n  var $$ = this,\n    d3 = $$.d3;\n  var mainArea = $$.main\n    .selectAll('.' + CLASS.areas)\n    .selectAll('.' + CLASS.area)\n    .data($$.lineData.bind($$));\n  var mainAreaEnter = mainArea\n    .enter()\n    .append('path')\n    .attr('class', $$.classArea.bind($$))\n    .style('fill', $$.color)\n    .style('opacity', function() {\n      $$.orgAreaOpacity = +d3.select(this).style('opacity');\n      return 0\n    });\n  $$.mainArea = mainAreaEnter\n    .merge(mainArea)\n    .style('opacity', $$.orgAreaOpacity);\n  mainArea\n    .exit()\n    .transition()\n    .duration(durationForExit)\n    .style('opacity', 0);\n};\nChartInternal.prototype.redrawArea = function(\n  drawArea,\n  withTransition,\n  transition\n) {\n  return [\n    (withTransition ? this.mainArea.transition(transition) : this.mainArea)\n      .attr('d', drawArea)\n      .style('fill', this.color)\n      .style('opacity', this.orgAreaOpacity)\n  ]\n};\nChartInternal.prototype.generateDrawArea = function(areaIndices, isSub) {\n  var $$ = this,\n    config = $$.config,\n    area = $$.d3.area(),\n    getPoints = $$.generateGetAreaPoints(areaIndices, isSub),\n    yScaleGetter = isSub ? $$.getSubYScale : $$.getYScale,\n    xValue = function(d) {\n      return (isSub ? $$.subxx : $$.xx).call($$, d)\n    },\n    value0 = function(d, i) {\n      return config.data_groups.length > 0\n        ? getPoints(d, i)[0][1]\n        : yScaleGetter.call($$, d.id)($$.getAreaBaseValue(d.id))\n    },\n    value1 = function(d, i) {\n      return config.data_groups.length > 0\n        ? getPoints(d, i)[1][1]\n        : yScaleGetter.call($$, d.id)(d.value)\n    };\n\n  area = config.axis_rotated\n    ? area\n        .x0(value0)\n        .x1(value1)\n        .y(xValue)\n    : area\n        .x(xValue)\n        .y0(config.area_above ? 0 : value0)\n        .y1(value1);\n  if (!config.line_connectNull) {\n    area = area.defined(function(d) {\n      return d.value !== null\n    });\n  }\n\n  return function(d) {\n    var values = config.line_connectNull\n        ? $$.filterRemoveNull(d.values)\n        : d.values,\n      x0 = 0,\n      y0 = 0,\n      path;\n    if ($$.isAreaType(d)) {\n      if ($$.isStepType(d)) {\n        values = $$.convertValuesToStep(values);\n      }\n      path = area.curve($$.getInterpolate(d))(values);\n    } else {\n      if (values[0]) {\n        x0 = $$.x(values[0].x);\n        y0 = $$.getYScale(d.id)(values[0].value);\n      }\n      path = config.axis_rotated ? 'M ' + y0 + ' ' + x0 : 'M ' + x0 + ' ' + y0;\n    }\n    return path ? path : 'M 0 0'\n  }\n};\nChartInternal.prototype.getAreaBaseValue = function() {\n  return 0\n};\nChartInternal.prototype.generateGetAreaPoints = function(areaIndices, isSub) {\n  // partial duplication of generateGetBarPoints\n  var $$ = this,\n    config = $$.config,\n    areaTargetsNum = areaIndices.__max__ + 1,\n    x = $$.getShapeX(0, areaTargetsNum, areaIndices, !!isSub),\n    y = $$.getShapeY(!!isSub),\n    areaOffset = $$.getShapeOffset($$.isAreaType, areaIndices, !!isSub),\n    yScale = isSub ? $$.getSubYScale : $$.getYScale;\n  return function(d, i) {\n    var y0 = yScale.call($$, d.id)(0),\n      offset = areaOffset(d, i) || y0, // offset is for stacked area chart\n      posX = x(d),\n      posY = y(d);\n    // fix posY not to overflow opposite quadrant\n    if (config.axis_rotated) {\n      if ((0 < d.value && posY < y0) || (d.value < 0 && y0 < posY)) {\n        posY = y0;\n      }\n    }\n    // 1 point that marks the area position\n    return [\n      [posX, offset],\n      [posX, posY - (y0 - offset)],\n      [posX, posY - (y0 - offset)], // needed for compatibility\n      [posX, offset] // needed for compatibility\n    ]\n  }\n};\n\nChartInternal.prototype.updateCircle = function(cx, cy) {\n  var $$ = this;\n  var mainCircle = $$.main\n    .selectAll('.' + CLASS.circles)\n    .selectAll('.' + CLASS.circle)\n    .data($$.lineOrScatterOrStanfordData.bind($$));\n\n  var mainCircleEnter = mainCircle\n    .enter()\n    .append('circle')\n    .attr('shape-rendering', $$.isStanfordGraphType() ? 'crispEdges' : '')\n    .attr('class', $$.classCircle.bind($$))\n    .attr('cx', cx)\n    .attr('cy', cy)\n    .attr('r', $$.pointR.bind($$))\n    .style(\n      'color',\n      $$.isStanfordGraphType() ? $$.getStanfordPointColor.bind($$) : $$.color\n    );\n\n  $$.mainCircle = mainCircleEnter\n    .merge(mainCircle)\n    .style(\n      'opacity',\n      $$.isStanfordGraphType() ? 1 : $$.initialOpacityForCircle.bind($$)\n    );\n\n  mainCircle.exit().style('opacity', 0);\n};\nChartInternal.prototype.redrawCircle = function(\n  cx,\n  cy,\n  withTransition,\n  transition\n) {\n  var $$ = this,\n    selectedCircles = $$.main.selectAll('.' + CLASS.selectedCircle);\n  return [\n    (withTransition ? $$.mainCircle.transition(transition) : $$.mainCircle)\n      .style('opacity', this.opacityForCircle.bind($$))\n      .style(\n        'color',\n        $$.isStanfordGraphType() ? $$.getStanfordPointColor.bind($$) : $$.color\n      )\n      .attr('cx', cx)\n      .attr('cy', cy),\n    (withTransition ? selectedCircles.transition(transition) : selectedCircles)\n      .attr('cx', cx)\n      .attr('cy', cy)\n  ]\n};\nChartInternal.prototype.circleX = function(d) {\n  return d.x || d.x === 0 ? this.x(d.x) : null\n};\nChartInternal.prototype.updateCircleY = function() {\n  var $$ = this,\n    lineIndices,\n    getPoints;\n  if ($$.config.data_groups.length > 0) {\n(lineIndices = $$.getShapeIndices($$.isLineType)),\n      (getPoints = $$.generateGetLinePoints(lineIndices));\n    $$.circleY = function(d, i) {\n      return getPoints(d, i)[0][1]\n    };\n  } else {\n    $$.circleY = function(d) {\n      return $$.getYScale(d.id)(d.value)\n    };\n  }\n};\nChartInternal.prototype.getCircles = function(i, id) {\n  var $$ = this;\n  return (id\n    ? $$.main.selectAll('.' + CLASS.circles + $$.getTargetSelectorSuffix(id))\n    : $$.main\n  ).selectAll('.' + CLASS.circle + (isValue(i) ? '-' + i : ''))\n};\nChartInternal.prototype.expandCircles = function(i, id, reset) {\n  var $$ = this,\n    r = $$.pointExpandedR.bind($$);\n  if (reset) {\n    $$.unexpandCircles();\n  }\n  $$.getCircles(i, id)\n    .classed(CLASS.EXPANDED, true)\n    .attr('r', r);\n};\nChartInternal.prototype.unexpandCircles = function(i) {\n  var $$ = this,\n    r = $$.pointR.bind($$);\n  $$.getCircles(i)\n    .filter(function() {\n      return $$.d3.select(this).classed(CLASS.EXPANDED)\n    })\n    .classed(CLASS.EXPANDED, false)\n    .attr('r', r);\n};\nChartInternal.prototype.pointR = function(d) {\n  var $$ = this,\n    config = $$.config;\n  return $$.isStepType(d)\n    ? 0\n    : isFunction(config.point_r)\n    ? config.point_r(d)\n    : config.point_r\n};\nChartInternal.prototype.pointExpandedR = function(d) {\n  var $$ = this,\n    config = $$.config;\n  if (config.point_focus_expand_enabled) {\n    return isFunction(config.point_focus_expand_r)\n      ? config.point_focus_expand_r(d)\n      : config.point_focus_expand_r\n      ? config.point_focus_expand_r\n      : $$.pointR(d) * 1.75\n  } else {\n    return $$.pointR(d)\n  }\n};\nChartInternal.prototype.pointSelectR = function(d) {\n  var $$ = this,\n    config = $$.config;\n  return isFunction(config.point_select_r)\n    ? config.point_select_r(d)\n    : config.point_select_r\n    ? config.point_select_r\n    : $$.pointR(d) * 4\n};\nChartInternal.prototype.isWithinCircle = function(that, r) {\n  var d3 = this.d3,\n    mouse = d3.mouse(that),\n    d3_this = d3.select(that),\n    cx = +d3_this.attr('cx'),\n    cy = +d3_this.attr('cy');\n  return Math.sqrt(Math.pow(cx - mouse[0], 2) + Math.pow(cy - mouse[1], 2)) < r\n};\nChartInternal.prototype.isWithinStep = function(that, y) {\n  return Math.abs(y - this.d3.mouse(that)[1]) < 30\n};\n\nChartInternal.prototype.getCurrentWidth = function() {\n  var $$ = this,\n    config = $$.config;\n  return config.size_width ? config.size_width : $$.getParentWidth()\n};\nChartInternal.prototype.getCurrentHeight = function() {\n  var $$ = this,\n    config = $$.config,\n    h = config.size_height ? config.size_height : $$.getParentHeight();\n  return h > 0\n    ? h\n    : 320 / ($$.hasType('gauge') && !config.gauge_fullCircle ? 2 : 1)\n};\nChartInternal.prototype.getCurrentPaddingTop = function() {\n  var $$ = this,\n    config = $$.config,\n    padding = isValue(config.padding_top) ? config.padding_top : 0;\n  if ($$.title && $$.title.node()) {\n    padding += $$.getTitlePadding();\n  }\n  return padding\n};\nChartInternal.prototype.getCurrentPaddingBottom = function() {\n  var config = this.config;\n  return isValue(config.padding_bottom) ? config.padding_bottom : 0\n};\nChartInternal.prototype.getCurrentPaddingLeft = function(withoutRecompute) {\n  var $$ = this,\n    config = $$.config;\n  if (isValue(config.padding_left)) {\n    return config.padding_left\n  } else if (config.axis_rotated) {\n    return !config.axis_x_show || config.axis_x_inner\n      ? 1\n      : Math.max(ceil10($$.getAxisWidthByAxisId('x', withoutRecompute)), 40)\n  } else if (!config.axis_y_show || config.axis_y_inner) {\n    // && !config.axis_rotated\n    return $$.axis.getYAxisLabelPosition().isOuter ? 30 : 1\n  } else {\n    return ceil10($$.getAxisWidthByAxisId('y', withoutRecompute))\n  }\n};\nChartInternal.prototype.getCurrentPaddingRight = function() {\n  var $$ = this,\n    config = $$.config,\n    padding = 0,\n    defaultPadding = 10,\n    legendWidthOnRight = $$.isLegendRight ? $$.getLegendWidth() + 20 : 0;\n\n  if (isValue(config.padding_right)) {\n    padding = config.padding_right + 1; // 1 is needed not to hide tick line\n  } else if (config.axis_rotated) {\n    padding = defaultPadding + legendWidthOnRight;\n  } else if (!config.axis_y2_show || config.axis_y2_inner) {\n    // && !config.axis_rotated\n    padding =\n      2 +\n      legendWidthOnRight +\n      ($$.axis.getY2AxisLabelPosition().isOuter ? 20 : 0);\n  } else {\n    padding = ceil10($$.getAxisWidthByAxisId('y2')) + legendWidthOnRight;\n  }\n\n  if ($$.colorScale && $$.colorScale.node()) {\n    padding += $$.getColorScalePadding();\n  }\n\n  return padding\n};\n\nChartInternal.prototype.getParentRectValue = function(key) {\n  var parent = this.selectChart.node(),\n    v;\n  while (parent && parent.tagName !== 'BODY') {\n    try {\n      v = parent.getBoundingClientRect()[key];\n    } catch (e) {\n      if (key === 'width') {\n        // In IE in certain cases getBoundingClientRect\n        // will cause an \"unspecified error\"\n        v = parent.offsetWidth;\n      }\n    }\n    if (v) {\n      break\n    }\n    parent = parent.parentNode;\n  }\n  return v\n};\nChartInternal.prototype.getParentWidth = function() {\n  return this.getParentRectValue('width')\n};\nChartInternal.prototype.getParentHeight = function() {\n  var h = this.selectChart.style('height');\n  return h.indexOf('px') > 0 ? +h.replace('px', '') : 0\n};\n\nChartInternal.prototype.getSvgLeft = function(withoutRecompute) {\n  var $$ = this,\n    config = $$.config,\n    hasLeftAxisRect =\n      config.axis_rotated || (!config.axis_rotated && !config.axis_y_inner),\n    leftAxisClass = config.axis_rotated ? CLASS.axisX : CLASS.axisY,\n    leftAxis = $$.main.select('.' + leftAxisClass).node(),\n    svgRect =\n      leftAxis && hasLeftAxisRect\n        ? leftAxis.getBoundingClientRect()\n        : { right: 0 },\n    chartRect = $$.selectChart.node().getBoundingClientRect(),\n    hasArc = $$.hasArcType(),\n    svgLeft =\n      svgRect.right -\n      chartRect.left -\n      (hasArc ? 0 : $$.getCurrentPaddingLeft(withoutRecompute));\n  return svgLeft > 0 ? svgLeft : 0\n};\n\nChartInternal.prototype.getAxisWidthByAxisId = function(id, withoutRecompute) {\n  var $$ = this,\n    position = $$.axis.getLabelPositionById(id);\n  return (\n    $$.axis.getMaxTickWidth(id, withoutRecompute) + (position.isInner ? 20 : 40)\n  )\n};\nChartInternal.prototype.getHorizontalAxisHeight = function(axisId) {\n  var $$ = this,\n    config = $$.config,\n    h = 30;\n  if (axisId === 'x' && !config.axis_x_show) {\n    return 8\n  }\n  if (axisId === 'x' && config.axis_x_height) {\n    return config.axis_x_height\n  }\n  if (axisId === 'y' && !config.axis_y_show) {\n    return config.legend_show && !$$.isLegendRight && !$$.isLegendInset ? 10 : 1\n  }\n  if (axisId === 'y2' && !config.axis_y2_show) {\n    return $$.rotated_padding_top\n  }\n  // Calculate x axis height when tick rotated\n  if (axisId === 'x' && !config.axis_rotated && config.axis_x_tick_rotate) {\n    h =\n      30 +\n      $$.axis.getMaxTickWidth(axisId) *\n        Math.cos((Math.PI * (90 - Math.abs(config.axis_x_tick_rotate))) / 180);\n  }\n  // Calculate y axis height when tick rotated\n  if (axisId === 'y' && config.axis_rotated && config.axis_y_tick_rotate) {\n    h =\n      30 +\n      $$.axis.getMaxTickWidth(axisId) *\n        Math.cos((Math.PI * (90 - Math.abs(config.axis_y_tick_rotate))) / 180);\n  }\n  return (\n    h +\n    ($$.axis.getLabelPositionById(axisId).isInner ? 0 : 10) +\n    (axisId === 'y2' ? -10 : 0)\n  )\n};\n\nChartInternal.prototype.initBrush = function(scale) {\n  var $$ = this,\n    d3 = $$.d3;\n  // TODO: dynamically change brushY/brushX according to axis_rotated.\n  $$.brush = ($$.config.axis_rotated ? d3.brushY() : d3.brushX())\n    .on('brush', function() {\n      var event = d3.event.sourceEvent;\n      if (event && event.type === 'zoom') {\n        return\n      }\n      $$.redrawForBrush();\n    })\n    .on('end', function() {\n      var event = d3.event.sourceEvent;\n      if (event && event.type === 'zoom') {\n        return\n      }\n      if ($$.brush.empty() && event && event.type !== 'end') {\n        $$.brush.clear();\n      }\n    });\n  $$.brush.updateExtent = function() {\n    var range = this.scale.range(),\n      extent;\n    if ($$.config.axis_rotated) {\n      extent = [\n        [0, range[0]],\n        [$$.width2, range[1]]\n      ];\n    } else {\n      extent = [\n        [range[0], 0],\n        [range[1], $$.height2]\n      ];\n    }\n    this.extent(extent);\n    return this\n  };\n  $$.brush.updateScale = function(scale) {\n    this.scale = scale;\n    return this\n  };\n  $$.brush.update = function(scale) {\n    this.updateScale(scale || $$.subX).updateExtent();\n    $$.context.select('.' + CLASS.brush).call(this);\n  };\n  $$.brush.clear = function() {\n    $$.context.select('.' + CLASS.brush).call($$.brush.move, null);\n  };\n  $$.brush.selection = function() {\n    return d3.brushSelection($$.context.select('.' + CLASS.brush).node())\n  };\n  $$.brush.selectionAsValue = function(selectionAsValue, withTransition) {\n    var selection, brush;\n    if (selectionAsValue) {\n      if ($$.context) {\n        selection = [\n          this.scale(selectionAsValue[0]),\n          this.scale(selectionAsValue[1])\n        ];\n        brush = $$.context.select('.' + CLASS.brush);\n        if (withTransition) {\n          brush = brush.transition();\n        }\n        $$.brush.move(brush, selection);\n      }\n      return []\n    }\n    selection = $$.brush.selection() || [0, 0];\n    return [this.scale.invert(selection[0]), this.scale.invert(selection[1])]\n  };\n  $$.brush.empty = function() {\n    var selection = $$.brush.selection();\n    return !selection || selection[0] === selection[1]\n  };\n  return $$.brush.updateScale(scale)\n};\nChartInternal.prototype.initSubchart = function() {\n  var $$ = this,\n    config = $$.config,\n    context = ($$.context = $$.svg\n      .append('g')\n      .attr('transform', $$.getTranslate('context')));\n\n  // set style\n  context.style('visibility', 'visible');\n\n  // Define g for chart area\n  context\n    .append('g')\n    .attr('clip-path', $$.clipPathForSubchart)\n    .attr('class', CLASS.chart);\n\n  // Define g for bar chart area\n  context\n    .select('.' + CLASS.chart)\n    .append('g')\n    .attr('class', CLASS.chartBars);\n\n  // Define g for line chart area\n  context\n    .select('.' + CLASS.chart)\n    .append('g')\n    .attr('class', CLASS.chartLines);\n\n  // Add extent rect for Brush\n  context\n    .append('g')\n    .attr('clip-path', $$.clipPath)\n    .attr('class', CLASS.brush);\n\n  // ATTENTION: This must be called AFTER chart added\n  // Add Axis\n  $$.axes.subx = context\n    .append('g')\n    .attr('class', CLASS.axisX)\n    .attr('transform', $$.getTranslate('subx'))\n    .attr('clip-path', config.axis_rotated ? '' : $$.clipPathForXAxis);\n};\nChartInternal.prototype.initSubchartBrush = function() {\n  var $$ = this;\n  // Add extent rect for Brush\n  $$.initBrush($$.subX).updateExtent();\n  $$.context.select('.' + CLASS.brush).call($$.brush);\n};\nChartInternal.prototype.updateTargetsForSubchart = function(targets) {\n  var $$ = this,\n    context = $$.context,\n    config = $$.config,\n    contextLineEnter,\n    contextLine,\n    contextBarEnter,\n    contextBar,\n    classChartBar = $$.classChartBar.bind($$),\n    classBars = $$.classBars.bind($$),\n    classChartLine = $$.classChartLine.bind($$),\n    classLines = $$.classLines.bind($$),\n    classAreas = $$.classAreas.bind($$);\n\n  //-- Bar --//\n  contextBar = context\n    .select('.' + CLASS.chartBars)\n    .selectAll('.' + CLASS.chartBar)\n    .data(targets);\n  contextBarEnter = contextBar\n    .enter()\n    .append('g')\n    .style('opacity', 0);\n  contextBarEnter.merge(contextBar).attr('class', classChartBar);\n  // Bars for each data\n  contextBarEnter.append('g').attr('class', classBars);\n\n  //-- Line --//\n  contextLine = context\n    .select('.' + CLASS.chartLines)\n    .selectAll('.' + CLASS.chartLine)\n    .data(targets);\n  contextLineEnter = contextLine\n    .enter()\n    .append('g')\n    .style('opacity', 0);\n  contextLineEnter.merge(contextLine).attr('class', classChartLine);\n  // Lines for each data\n  contextLineEnter.append('g').attr('class', classLines);\n  // Area\n  contextLineEnter.append('g').attr('class', classAreas);\n\n  //-- Brush --//\n  context\n    .selectAll('.' + CLASS.brush + ' rect')\n    .attr(\n      config.axis_rotated ? 'width' : 'height',\n      config.axis_rotated ? $$.width2 : $$.height2\n    );\n};\nChartInternal.prototype.updateBarForSubchart = function(durationForExit) {\n  var $$ = this;\n  var contextBar = $$.context\n    .selectAll('.' + CLASS.bars)\n    .selectAll('.' + CLASS.bar)\n    .data($$.barData.bind($$));\n  var contextBarEnter = contextBar\n    .enter()\n    .append('path')\n    .attr('class', $$.classBar.bind($$))\n    .style('stroke', 'none')\n    .style('fill', $$.color);\n  contextBar\n    .exit()\n    .transition()\n    .duration(durationForExit)\n    .style('opacity', 0)\n    .remove();\n  $$.contextBar = contextBarEnter\n    .merge(contextBar)\n    .style('opacity', $$.initialOpacity.bind($$));\n};\nChartInternal.prototype.redrawBarForSubchart = function(\n  drawBarOnSub,\n  withTransition,\n  duration\n) {\n(withTransition\n    ? this.contextBar.transition(Math.random().toString()).duration(duration)\n    : this.contextBar\n  )\n    .attr('d', drawBarOnSub)\n    .style('opacity', 1);\n};\nChartInternal.prototype.updateLineForSubchart = function(durationForExit) {\n  var $$ = this;\n  var contextLine = $$.context\n    .selectAll('.' + CLASS.lines)\n    .selectAll('.' + CLASS.line)\n    .data($$.lineData.bind($$));\n  var contextLineEnter = contextLine\n    .enter()\n    .append('path')\n    .attr('class', $$.classLine.bind($$))\n    .style('stroke', $$.color);\n  contextLine\n    .exit()\n    .transition()\n    .duration(durationForExit)\n    .style('opacity', 0)\n    .remove();\n  $$.contextLine = contextLineEnter\n    .merge(contextLine)\n    .style('opacity', $$.initialOpacity.bind($$));\n};\nChartInternal.prototype.redrawLineForSubchart = function(\n  drawLineOnSub,\n  withTransition,\n  duration\n) {\n(withTransition\n    ? this.contextLine.transition(Math.random().toString()).duration(duration)\n    : this.contextLine\n  )\n    .attr('d', drawLineOnSub)\n    .style('opacity', 1);\n};\nChartInternal.prototype.updateAreaForSubchart = function(durationForExit) {\n  var $$ = this,\n    d3 = $$.d3;\n  var contextArea = $$.context\n    .selectAll('.' + CLASS.areas)\n    .selectAll('.' + CLASS.area)\n    .data($$.lineData.bind($$));\n  var contextAreaEnter = contextArea\n    .enter()\n    .append('path')\n    .attr('class', $$.classArea.bind($$))\n    .style('fill', $$.color)\n    .style('opacity', function() {\n      $$.orgAreaOpacity = +d3.select(this).style('opacity');\n      return 0\n    });\n  contextArea\n    .exit()\n    .transition()\n    .duration(durationForExit)\n    .style('opacity', 0)\n    .remove();\n  $$.contextArea = contextAreaEnter.merge(contextArea).style('opacity', 0);\n};\nChartInternal.prototype.redrawAreaForSubchart = function(\n  drawAreaOnSub,\n  withTransition,\n  duration\n) {\n(withTransition\n    ? this.contextArea.transition(Math.random().toString()).duration(duration)\n    : this.contextArea\n  )\n    .attr('d', drawAreaOnSub)\n    .style('fill', this.color)\n    .style('opacity', this.orgAreaOpacity);\n};\nChartInternal.prototype.redrawSubchart = function(\n  withSubchart,\n  transitions,\n  duration,\n  durationForExit,\n  areaIndices,\n  barIndices,\n  lineIndices\n) {\n  var $$ = this,\n    d3 = $$.d3,\n    drawAreaOnSub,\n    drawBarOnSub,\n    drawLineOnSub;\n\n  // reflect main chart to extent on subchart if zoomed\n  if (d3.event && d3.event.type === 'zoom') {\n    $$.brush.selectionAsValue($$.x.orgDomain());\n  }\n  // update subchart elements if needed\n  if (withSubchart) {\n    // extent rect\n    if (!$$.brush.empty()) {\n      $$.brush.selectionAsValue($$.x.orgDomain());\n    }\n    // setup drawer - MEMO: this must be called after axis updated\n    drawAreaOnSub = $$.generateDrawArea(areaIndices, true);\n    drawBarOnSub = $$.generateDrawBar(barIndices, true);\n    drawLineOnSub = $$.generateDrawLine(lineIndices, true);\n\n    $$.updateBarForSubchart(duration);\n    $$.updateLineForSubchart(duration);\n    $$.updateAreaForSubchart(duration);\n\n    $$.redrawBarForSubchart(drawBarOnSub, duration, duration);\n    $$.redrawLineForSubchart(drawLineOnSub, duration, duration);\n    $$.redrawAreaForSubchart(drawAreaOnSub, duration, duration);\n  }\n};\nChartInternal.prototype.redrawForBrush = function() {\n  var $$ = this,\n    x = $$.x,\n    d3 = $$.d3,\n    s;\n  $$.redraw({\n    withTransition: false,\n    withY: $$.config.zoom_rescale,\n    withSubchart: false,\n    withUpdateXDomain: true,\n    withEventRect: false,\n    withDimension: false\n  });\n  // update zoom transation binded to event rect\n  s = d3.event.selection || $$.brush.scale.range();\n  $$.main\n    .select('.' + CLASS.eventRect)\n    .call(\n      $$.zoom.transform,\n      d3.zoomIdentity.scale($$.width / (s[1] - s[0])).translate(-s[0], 0)\n    );\n  $$.config.subchart_onbrush.call($$.api, x.orgDomain());\n};\nChartInternal.prototype.transformContext = function(\n  withTransition,\n  transitions\n) {\n  var $$ = this,\n    subXAxis;\n  if (transitions && transitions.axisSubX) {\n    subXAxis = transitions.axisSubX;\n  } else {\n    subXAxis = $$.context.select('.' + CLASS.axisX);\n    if (withTransition) {\n      subXAxis = subXAxis.transition();\n    }\n  }\n  $$.context.attr('transform', $$.getTranslate('context'));\n  subXAxis.attr('transform', $$.getTranslate('subx'));\n};\nChartInternal.prototype.getDefaultSelection = function() {\n  var $$ = this,\n    config = $$.config,\n    selection = isFunction(config.axis_x_selection)\n      ? config.axis_x_selection($$.getXDomain($$.data.targets))\n      : config.axis_x_selection;\n  if ($$.isTimeSeries()) {\n    selection = [$$.parseDate(selection[0]), $$.parseDate(selection[1])];\n  }\n  return selection\n};\n\nChartInternal.prototype.removeSubchart = function() {\n  const $$ = this;\n\n  $$.brush = null;\n  $$.context.remove();\n  $$.context = null;\n};\n\nChartInternal.prototype.initText = function() {\n  var $$ = this;\n  $$.main\n    .select('.' + CLASS.chart)\n    .append('g')\n    .attr('class', CLASS.chartTexts);\n  $$.mainText = $$.d3.selectAll([]);\n};\nChartInternal.prototype.updateTargetsForText = function(targets) {\n  var $$ = this,\n    classChartText = $$.classChartText.bind($$),\n    classTexts = $$.classTexts.bind($$),\n    classFocus = $$.classFocus.bind($$);\n  var mainText = $$.main\n    .select('.' + CLASS.chartTexts)\n    .selectAll('.' + CLASS.chartText)\n    .data(targets);\n  var mainTextEnter = mainText\n    .enter()\n    .append('g')\n    .attr('class', classChartText)\n    .style('opacity', 0)\n    .style('pointer-events', 'none');\n  mainTextEnter.append('g').attr('class', classTexts);\n  mainTextEnter.merge(mainText).attr('class', function(d) {\n    return classChartText(d) + classFocus(d)\n  });\n};\nChartInternal.prototype.updateText = function(\n  xForText,\n  yForText,\n  durationForExit\n) {\n  var $$ = this,\n    config = $$.config,\n    barOrLineData = $$.barOrLineData.bind($$),\n    classText = $$.classText.bind($$);\n  var mainText = $$.main\n    .selectAll('.' + CLASS.texts)\n    .selectAll('.' + CLASS.text)\n    .data(barOrLineData);\n  var mainTextEnter = mainText\n    .enter()\n    .append('text')\n    .attr('class', classText)\n    .attr('text-anchor', function(d) {\n      return config.axis_rotated ? (d.value < 0 ? 'end' : 'start') : 'middle'\n    })\n    .style('stroke', 'none')\n    .attr('x', xForText)\n    .attr('y', yForText)\n    .style('fill', function(d) {\n      return $$.color(d)\n    })\n    .style('fill-opacity', 0);\n  $$.mainText = mainTextEnter.merge(mainText).text(function(d, i, j) {\n    return $$.dataLabelFormat(d.id)(d.value, d.id, i, j)\n  });\n  mainText\n    .exit()\n    .transition()\n    .duration(durationForExit)\n    .style('fill-opacity', 0)\n    .remove();\n};\nChartInternal.prototype.redrawText = function(\n  xForText,\n  yForText,\n  forFlow,\n  withTransition,\n  transition\n) {\n  return [\n    (withTransition ? this.mainText.transition(transition) : this.mainText)\n      .attr('x', xForText)\n      .attr('y', yForText)\n      .style('fill', this.color)\n      .style('fill-opacity', forFlow ? 0 : this.opacityForText.bind(this))\n  ]\n};\nChartInternal.prototype.getTextRect = function(text, cls, element) {\n  var dummy = this.d3\n      .select('body')\n      .append('div')\n      .classed('c3', true),\n    svg = dummy\n      .append('svg')\n      .style('visibility', 'hidden')\n      .style('position', 'fixed')\n      .style('top', 0)\n      .style('left', 0),\n    font = this.d3.select(element).style('font'),\n    rect;\n  svg\n    .selectAll('.dummy')\n    .data([text])\n    .enter()\n    .append('text')\n    .classed(cls ? cls : '', true)\n    .style('font', font)\n    .text(text)\n    .each(function() {\n      rect = getBBox(this);\n    });\n  dummy.remove();\n  return rect\n};\nChartInternal.prototype.generateXYForText = function(\n  areaIndices,\n  barIndices,\n  lineIndices,\n  forX\n) {\n  var $$ = this,\n    getAreaPoints = $$.generateGetAreaPoints(areaIndices, false),\n    getBarPoints = $$.generateGetBarPoints(barIndices, false),\n    getLinePoints = $$.generateGetLinePoints(lineIndices, false),\n    getter = forX ? $$.getXForText : $$.getYForText;\n  return function(d, i) {\n    var getPoints = $$.isAreaType(d)\n      ? getAreaPoints\n      : $$.isBarType(d)\n      ? getBarPoints\n      : getLinePoints;\n    return getter.call($$, getPoints(d, i), d, this)\n  }\n};\nChartInternal.prototype.getXForText = function(points, d, textElement) {\n  var $$ = this,\n    box = getBBox(textElement),\n    xPos,\n    padding;\n  if ($$.config.axis_rotated) {\n    padding = $$.isBarType(d) ? 4 : 6;\n    xPos = points[2][1] + padding * (d.value < 0 ? -1 : 1);\n  } else {\n    xPos = $$.hasType('bar') ? (points[2][0] + points[0][0]) / 2 : points[0][0];\n  }\n  // show labels regardless of the domain if value is null\n  if (d.value === null) {\n    if (xPos > $$.width) {\n      xPos = $$.width - box.width;\n    } else if (xPos < 0) {\n      xPos = 4;\n    }\n  }\n  return xPos\n};\nChartInternal.prototype.getYForText = function(points, d, textElement) {\n  var $$ = this,\n    box = getBBox(textElement),\n    yPos;\n  if ($$.config.axis_rotated) {\n    yPos = (points[0][0] + points[2][0] + box.height * 0.6) / 2;\n  } else {\n    yPos = points[2][1];\n    if (d.value < 0 || (d.value === 0 && !$$.hasPositiveValue)) {\n      yPos += box.height;\n      if ($$.isBarType(d) && $$.isSafari()) {\n        yPos -= 3;\n      } else if (!$$.isBarType(d) && $$.isChrome()) {\n        yPos += 3;\n      }\n    } else {\n      yPos += $$.isBarType(d) ? -3 : -6;\n    }\n  }\n  // show labels regardless of the domain if value is null\n  if (d.value === null && !$$.config.axis_rotated) {\n    if (yPos < box.height) {\n      yPos = box.height;\n    } else if (yPos > this.height) {\n      yPos = this.height - 4;\n    }\n  }\n  return yPos\n};\n\nChartInternal.prototype.initTitle = function() {\n  var $$ = this;\n  $$.title = $$.svg\n    .append('text')\n    .text($$.config.title_text)\n    .attr('class', $$.CLASS.title);\n};\nChartInternal.prototype.redrawTitle = function() {\n  var $$ = this;\n  $$.title.attr('x', $$.xForTitle.bind($$)).attr('y', $$.yForTitle.bind($$));\n};\nChartInternal.prototype.xForTitle = function() {\n  var $$ = this,\n    config = $$.config,\n    position = config.title_position || 'left',\n    x;\n  if (position.indexOf('right') >= 0) {\n    x =\n      $$.currentWidth -\n      $$.getTextRect(\n        $$.title.node().textContent,\n        $$.CLASS.title,\n        $$.title.node()\n      ).width -\n      config.title_padding.right;\n  } else if (position.indexOf('center') >= 0) {\n    x = Math.max(\n      ($$.currentWidth -\n        $$.getTextRect(\n          $$.title.node().textContent,\n          $$.CLASS.title,\n          $$.title.node()\n        ).width) /\n        2,\n      0\n    );\n  } else {\n    // left\n    x = config.title_padding.left;\n  }\n  return x\n};\nChartInternal.prototype.yForTitle = function() {\n  var $$ = this;\n  return (\n    $$.config.title_padding.top +\n    $$.getTextRect($$.title.node().textContent, $$.CLASS.title, $$.title.node())\n      .height\n  )\n};\nChartInternal.prototype.getTitlePadding = function() {\n  var $$ = this;\n  return $$.yForTitle() + $$.config.title_padding.bottom\n};\n\nfunction powerOfTen(d) {\n  return d / Math.pow(10, Math.ceil(Math.log(d) / Math.LN10 - 1e-12)) === 1\n}\n\nChartInternal.prototype.drawColorScale = function() {\n  var $$ = this,\n    d3 = $$.d3,\n    config = $$.config,\n    target = $$.data.targets[0],\n    barWidth,\n    barHeight,\n    axis,\n    points,\n    legendAxis,\n    axisScale,\n    inverseScale,\n    height;\n\n  barWidth = !isNaN(config.stanford_scaleWidth)\n    ? config.stanford_scaleWidth\n    : 20;\n  barHeight = 5;\n\n  if (barHeight < 0 || barWidth < 0) {\n    throw Error(\"Colorscale's barheight and barwidth must be greater than 0.\")\n  }\n\n  height =\n    $$.height - config.stanford_padding.bottom - config.stanford_padding.top;\n\n  points = d3.range(config.stanford_padding.bottom, height, barHeight);\n\n  inverseScale = d3\n    .scaleSequential(target.colors)\n    .domain([points[points.length - 1], points[0]]);\n\n  if ($$.colorScale) {\n    $$.colorScale.remove();\n  }\n\n  $$.colorScale = $$.svg\n    .append('g')\n    .attr('width', 50)\n    .attr('height', height)\n    .attr('class', CLASS.colorScale);\n\n  $$.colorScale\n    .append('g')\n    .attr('transform', `translate(0, ${config.stanford_padding.top})`)\n    .selectAll('bars')\n    .data(points)\n    .enter()\n    .append('rect')\n    .attr('y', (d, i) => i * barHeight)\n    .attr('x', 0)\n    .attr('width', barWidth)\n    .attr('height', barHeight)\n    .attr('fill', function(d) {\n      return inverseScale(d)\n    });\n\n  // Legend Axis\n  axisScale = d3\n    .scaleLog()\n    .domain([target.minEpochs, target.maxEpochs])\n    .range([\n      points[0] +\n        config.stanford_padding.top +\n        points[points.length - 1] +\n        barHeight -\n        1,\n      points[0] + config.stanford_padding.top\n    ]);\n\n  legendAxis = d3.axisRight(axisScale);\n\n  if (config.stanford_scaleFormat === 'pow10') {\n    legendAxis.tickValues([1, 10, 100, 1000, 10000, 100000, 1000000, 10000000]);\n  } else if (isFunction(config.stanford_scaleFormat)) {\n    legendAxis.tickFormat(config.stanford_scaleFormat);\n  } else {\n    legendAxis.tickFormat(d3.format('d'));\n  }\n\n  if (isFunction(config.stanford_scaleValues)) {\n    legendAxis.tickValues(\n      config.stanford_scaleValues(target.minEpochs, target.maxEpochs)\n    );\n  }\n\n  // Draw Axis\n  axis = $$.colorScale\n    .append('g')\n    .attr('class', 'legend axis')\n    .attr('transform', `translate(${barWidth},0)`)\n    .call(legendAxis);\n\n  if (config.stanford_scaleFormat === 'pow10') {\n    axis\n      .selectAll('.tick text')\n      .text(null)\n      .filter(powerOfTen)\n      .text(10)\n      .append('tspan')\n      .attr('dy', '-.7em') // https://bl.ocks.org/mbostock/6738229\n      .text(function(d) {\n        return Math.round(Math.log(d) / Math.LN10)\n      });\n  }\n\n  $$.colorScale.attr(\n    'transform',\n    `translate(${$$.currentWidth - $$.xForColorScale()}, 0)`\n  );\n};\n\nChartInternal.prototype.xForColorScale = function() {\n  var $$ = this;\n\n  return $$.config.stanford_padding.right + getBBox($$.colorScale.node()).width\n};\n\nChartInternal.prototype.getColorScalePadding = function() {\n  var $$ = this;\n  return $$.xForColorScale() + $$.config.stanford_padding.left + 20\n};\n\nChartInternal.prototype.isStanfordGraphType = function() {\n  var $$ = this;\n\n  return $$.config.data_type === 'stanford'\n};\n\nChartInternal.prototype.initStanfordData = function() {\n  var $$ = this,\n    d3 = $$.d3,\n    config = $$.config,\n    target = $$.data.targets[0],\n    epochs,\n    maxEpochs,\n    minEpochs;\n\n  // Make larger values appear on top\n  target.values.sort(compareEpochs);\n\n  // Get array of epochs\n  epochs = target.values.map(a => a.epochs);\n\n  minEpochs = !isNaN(config.stanford_scaleMin)\n    ? config.stanford_scaleMin\n    : d3.min(epochs);\n  maxEpochs = !isNaN(config.stanford_scaleMax)\n    ? config.stanford_scaleMax\n    : d3.max(epochs);\n\n  if (minEpochs > maxEpochs) {\n    throw Error('Number of minEpochs has to be smaller than maxEpochs')\n  }\n\n  target.colors = isFunction(config.stanford_colors)\n    ? config.stanford_colors\n    : d3.interpolateHslLong(d3.hsl(250, 1, 0.5), d3.hsl(0, 1, 0.5));\n\n  target.colorscale = d3\n    .scaleSequentialLog(target.colors)\n    .domain([minEpochs, maxEpochs]);\n\n  target.minEpochs = minEpochs;\n  target.maxEpochs = maxEpochs;\n};\n\nChartInternal.prototype.getStanfordPointColor = function(d) {\n  var $$ = this,\n    target = $$.data.targets[0];\n\n  return target.colorscale(d.epochs)\n};\n\n// http://jsfiddle.net/Xotic750/KtzLq/\nChartInternal.prototype.getCentroid = function(points) {\n  var area = getRegionArea(points);\n\n  var x = 0,\n    y = 0,\n    i,\n    j,\n    f,\n    point1,\n    point2;\n\n  for (i = 0, j = points.length - 1; i < points.length; j = i, i += 1) {\n    point1 = points[i];\n    point2 = points[j];\n    f = point1.x * point2.y - point2.x * point1.y;\n    x += (point1.x + point2.x) * f;\n    y += (point1.y + point2.y) * f;\n  }\n\n  f = area * 6;\n\n  return {\n    x: x / f,\n    y: y / f\n  }\n};\n\nChartInternal.prototype.getStanfordTooltipTitle = function(d) {\n  var $$ = this,\n    labelX = $$.axis.getLabelText('x'),\n    labelY = $$.axis.getLabelText('y');\n\n  return `\n      <tr><th>${labelX ? sanitise(labelX) : 'x'}</th><th class='value'>${\n    d.x\n  }</th></tr>\n      <tr><th>${labelY ? sanitise(labelY) : 'y'}</th><th class='value'>${\n    d.value\n  }</th></tr>\n    `\n};\n\nChartInternal.prototype.countEpochsInRegion = function(region) {\n  var $$ = this,\n    target = $$.data.targets[0],\n    total,\n    count;\n\n  total = target.values.reduce(\n    (accumulator, currentValue) => accumulator + Number(currentValue.epochs),\n    0\n  );\n\n  count = target.values.reduce((accumulator, currentValue) => {\n    if (pointInRegion(currentValue, region)) {\n      return accumulator + Number(currentValue.epochs)\n    }\n\n    return accumulator\n  }, 0);\n\n  return {\n    value: count,\n    percentage: count !== 0 ? ((count / total) * 100).toFixed(1) : 0\n  }\n};\n\nvar getRegionArea = function(points) {\n  // thanks to: https://stackoverflow.com/questions/16282330/find-centerpoint-of-polygon-in-javascript\n  var area = 0,\n    i,\n    j,\n    point1,\n    point2;\n\n  for (i = 0, j = points.length - 1; i < points.length; j = i, i += 1) {\n    point1 = points[i];\n    point2 = points[j];\n    area += point1.x * point2.y;\n    area -= point1.y * point2.x;\n  }\n\n  area /= 2;\n\n  return area\n};\n\nvar pointInRegion = function(point, region) {\n  // thanks to: http://bl.ocks.org/bycoffe/5575904\n  // ray-casting algorithm based on\n  // http://www.ecse.rpi.edu/Homepages/wrf/Research/Short_Notes/pnpoly.html\n  let xi,\n    yi,\n    yj,\n    xj,\n    intersect,\n    x = point.x,\n    y = point.value,\n    inside = false;\n\n  for (let i = 0, j = region.length - 1; i < region.length; j = i++) {\n    xi = region[i].x;\n    yi = region[i].y;\n\n    xj = region[j].x;\n    yj = region[j].y;\n\n    intersect = yi > y !== yj > y && x < ((xj - xi) * (y - yi)) / (yj - yi) + xi;\n\n    if (intersect) {\n      inside = !inside;\n    }\n  }\n\n  return inside\n};\n\nvar compareEpochs = function(a, b) {\n  if (a.epochs < b.epochs) {\n    return -1\n  }\n  if (a.epochs > b.epochs) {\n    return 1\n  }\n\n  return 0\n};\n\nChartInternal.prototype.initStanfordElements = function() {\n  var $$ = this;\n\n  // Avoid blocking eventRect\n  $$.stanfordElements = $$.main\n    .select('.' + CLASS.chart)\n    .append('g')\n    .attr('class', CLASS.stanfordElements);\n\n  $$.stanfordElements.append('g').attr('class', CLASS.stanfordLines);\n  $$.stanfordElements.append('g').attr('class', CLASS.stanfordTexts);\n  $$.stanfordElements.append('g').attr('class', CLASS.stanfordRegions);\n};\n\nChartInternal.prototype.updateStanfordElements = function(duration) {\n  var $$ = this,\n    main = $$.main,\n    config = $$.config,\n    stanfordLine,\n    stanfordLineEnter,\n    stanfordRegion,\n    stanfordRegionEnter,\n    stanfordText,\n    stanfordTextEnter,\n    xvCustom = $$.xvCustom.bind($$),\n    yvCustom = $$.yvCustom.bind($$),\n    countPointsInRegion = $$.countEpochsInRegion.bind($$);\n\n  // Stanford-Lines\n  stanfordLine = main\n    .select('.' + CLASS.stanfordLines)\n    .style('shape-rendering', 'geometricprecision')\n    .selectAll('.' + CLASS.stanfordLine)\n    .data(config.stanford_lines);\n\n  // enter\n  stanfordLineEnter = stanfordLine\n    .enter()\n    .append('g')\n    .attr('class', function(d) {\n      return CLASS.stanfordLine + (d['class'] ? ' ' + d['class'] : '')\n    });\n  stanfordLineEnter\n    .append('line')\n    .attr('x1', d =>\n      config.axis_rotated ? yvCustom(d, 'value_y1') : xvCustom(d, 'value_x1')\n    )\n    .attr('x2', d =>\n      config.axis_rotated ? yvCustom(d, 'value_y2') : xvCustom(d, 'value_x2')\n    )\n    .attr('y1', d =>\n      config.axis_rotated ? xvCustom(d, 'value_x1') : yvCustom(d, 'value_y1')\n    )\n    .attr('y2', d =>\n      config.axis_rotated ? xvCustom(d, 'value_x2') : yvCustom(d, 'value_y2')\n    )\n    .style('opacity', 0);\n\n  // update\n  $$.stanfordLines = stanfordLineEnter.merge(stanfordLine);\n  $$.stanfordLines\n    .select('line')\n    .transition()\n    .duration(duration)\n    .attr('x1', d =>\n      config.axis_rotated ? yvCustom(d, 'value_y1') : xvCustom(d, 'value_x1')\n    )\n    .attr('x2', d =>\n      config.axis_rotated ? yvCustom(d, 'value_y2') : xvCustom(d, 'value_x2')\n    )\n    .attr('y1', d =>\n      config.axis_rotated ? xvCustom(d, 'value_x1') : yvCustom(d, 'value_y1')\n    )\n    .attr('y2', d =>\n      config.axis_rotated ? xvCustom(d, 'value_x2') : yvCustom(d, 'value_y2')\n    )\n    .style('opacity', 1);\n\n  // exit\n  stanfordLine\n    .exit()\n    .transition()\n    .duration(duration)\n    .style('opacity', 0)\n    .remove();\n\n  // Stanford-Text\n  stanfordText = main\n    .select('.' + CLASS.stanfordTexts)\n    .selectAll('.' + CLASS.stanfordText)\n    .data(config.stanford_texts);\n\n  // enter\n  stanfordTextEnter = stanfordText\n    .enter()\n    .append('g')\n    .attr('class', function(d) {\n      return CLASS.stanfordText + (d['class'] ? ' ' + d['class'] : '')\n    });\n  stanfordTextEnter\n    .append('text')\n    .attr('x', d => (config.axis_rotated ? yvCustom(d, 'y') : xvCustom(d, 'x')))\n    .attr('y', d => (config.axis_rotated ? xvCustom(d, 'x') : yvCustom(d, 'y')))\n    .style('opacity', 0);\n\n  // update\n  $$.stanfordTexts = stanfordTextEnter.merge(stanfordText);\n  $$.stanfordTexts\n    .select('text')\n    .transition()\n    .duration(duration)\n    .attr('x', d => (config.axis_rotated ? yvCustom(d, 'y') : xvCustom(d, 'x')))\n    .attr('y', d => (config.axis_rotated ? xvCustom(d, 'x') : yvCustom(d, 'y')))\n    .text(function(d) {\n      return d.content\n    })\n    .style('opacity', 1);\n\n  // exit\n  stanfordText\n    .exit()\n    .transition()\n    .duration(duration)\n    .style('opacity', 0)\n    .remove();\n\n  // Stanford-Regions\n  stanfordRegion = main\n    .select('.' + CLASS.stanfordRegions)\n    .selectAll('.' + CLASS.stanfordRegion)\n    .data(config.stanford_regions);\n\n  // enter\n  stanfordRegionEnter = stanfordRegion\n    .enter()\n    .append('g')\n    .attr('class', function(d) {\n      return CLASS.stanfordRegion + (d['class'] ? ' ' + d['class'] : '')\n    });\n  stanfordRegionEnter\n    .append('polygon')\n    .attr('points', d => {\n      return d.points\n        .map(value => {\n          return [\n            config.axis_rotated ? yvCustom(value, 'y') : xvCustom(value, 'x'),\n            config.axis_rotated ? xvCustom(value, 'x') : yvCustom(value, 'y')\n          ].join(',')\n        })\n        .join(' ')\n    })\n    .style('opacity', 0);\n  stanfordRegionEnter\n    .append('text')\n    .attr('x', d => $$.getCentroid(d.points).x)\n    .attr('y', d => $$.getCentroid(d.points).y)\n    .style('opacity', 0);\n\n  // update\n  $$.stanfordRegions = stanfordRegionEnter.merge(stanfordRegion);\n  $$.stanfordRegions\n    .select('polygon')\n    .transition()\n    .duration(duration)\n    .attr('points', d => {\n      return d.points\n        .map(value => {\n          return [\n            config.axis_rotated ? yvCustom(value, 'y') : xvCustom(value, 'x'),\n            config.axis_rotated ? xvCustom(value, 'x') : yvCustom(value, 'y')\n          ].join(',')\n        })\n        .join(' ')\n    })\n    .style('opacity', d => {\n      return d.opacity ? d.opacity : 0.2\n    });\n  $$.stanfordRegions\n    .select('text')\n    .transition()\n    .duration(duration)\n    .attr('x', d =>\n      config.axis_rotated\n        ? yvCustom($$.getCentroid(d.points), 'y')\n        : xvCustom($$.getCentroid(d.points), 'x')\n    )\n    .attr('y', d =>\n      config.axis_rotated\n        ? xvCustom($$.getCentroid(d.points), 'x')\n        : yvCustom($$.getCentroid(d.points), 'y')\n    )\n    .text(function(d) {\n      if (d.text) {\n        var value, percentage, temp;\n\n        if ($$.isStanfordGraphType()) {\n          temp = countPointsInRegion(d.points);\n          value = temp.value;\n          percentage = temp.percentage;\n        }\n\n        return d.text(value, percentage)\n      }\n\n      return ''\n    })\n    .attr('text-anchor', 'middle')\n    .attr('dominant-baseline', 'middle')\n    .style('opacity', 1);\n  // exit\n  stanfordRegion\n    .exit()\n    .transition()\n    .duration(duration)\n    .style('opacity', 0)\n    .remove();\n};\n\nChartInternal.prototype.initTooltip = function() {\n  var $$ = this,\n    config = $$.config,\n    i;\n  $$.tooltip = $$.selectChart\n    .style('position', 'relative')\n    .append('div')\n    .attr('class', CLASS.tooltipContainer)\n    .style('position', 'absolute')\n    .style('pointer-events', 'none')\n    .style('display', 'none');\n  // Show tooltip if needed\n  if (config.tooltip_init_show) {\n    if ($$.isTimeSeries() && isString(config.tooltip_init_x)) {\n      config.tooltip_init_x = $$.parseDate(config.tooltip_init_x);\n      for (i = 0; i < $$.data.targets[0].values.length; i++) {\n        if ($$.data.targets[0].values[i].x - config.tooltip_init_x === 0) {\n          break\n        }\n      }\n      config.tooltip_init_x = i;\n    }\n    $$.tooltip.html(\n      config.tooltip_contents.call(\n        $$,\n        $$.data.targets.map(function(d) {\n          return $$.addName(d.values[config.tooltip_init_x])\n        }),\n        $$.axis.getXAxisTickFormat(),\n        $$.getYFormat($$.hasArcType()),\n        $$.color\n      )\n    );\n    $$.tooltip\n      .style('top', config.tooltip_init_position.top)\n      .style('left', config.tooltip_init_position.left)\n      .style('display', 'block');\n  }\n};\nChartInternal.prototype.getTooltipSortFunction = function() {\n  var $$ = this,\n    config = $$.config;\n\n  if (config.data_groups.length === 0 || config.tooltip_order !== undefined) {\n    // if data are not grouped or if an order is specified\n    // for the tooltip values we sort them by their values\n\n    var order = config.tooltip_order;\n    if (order === undefined) {\n      order = config.data_order;\n    }\n\n    var valueOf = function(obj) {\n      return obj ? obj.value : null\n    };\n\n    // if data are not grouped, we sort them by their value\n    if (isString(order) && order.toLowerCase() === 'asc') {\n      return function(a, b) {\n        return valueOf(a) - valueOf(b)\n      }\n    } else if (isString(order) && order.toLowerCase() === 'desc') {\n      return function(a, b) {\n        return valueOf(b) - valueOf(a)\n      }\n    } else if (isFunction(order)) {\n      // if the function is from data_order we need\n      // to wrap the returned function in order to format\n      // the sorted value to the expected format\n\n      var sortFunction = order;\n\n      if (config.tooltip_order === undefined) {\n        sortFunction = function(a, b) {\n          return order(\n            a\n              ? {\n                  id: a.id,\n                  values: [a]\n                }\n              : null,\n            b\n              ? {\n                  id: b.id,\n                  values: [b]\n                }\n              : null\n          )\n        };\n      }\n\n      return sortFunction\n    } else if (isArray(order)) {\n      return function(a, b) {\n        return order.indexOf(a.id) - order.indexOf(b.id)\n      }\n    }\n  } else {\n    // if data are grouped, we follow the order of grouped targets\n    var ids = $$.orderTargets($$.data.targets).map(function(i) {\n      return i.id\n    });\n\n    // if it was either asc or desc we need to invert the order\n    // returned by orderTargets\n    if ($$.isOrderAsc() || $$.isOrderDesc()) {\n      ids = ids.reverse();\n    }\n\n    return function(a, b) {\n      return ids.indexOf(a.id) - ids.indexOf(b.id)\n    }\n  }\n};\nChartInternal.prototype.getTooltipContent = function(\n  d,\n  defaultTitleFormat,\n  defaultValueFormat,\n  color\n) {\n  var $$ = this,\n    config = $$.config,\n    titleFormat = config.tooltip_format_title || defaultTitleFormat,\n    nameFormat =\n      config.tooltip_format_name ||\n      function(name) {\n        return name\n      },\n    text,\n    i,\n    title,\n    value,\n    name,\n    bgcolor;\n\n  var valueFormat = config.tooltip_format_value;\n  if (!valueFormat) {\n    valueFormat = $$.isTargetNormalized(d.id)\n      ? (v, ratio) => `${(ratio * 100).toFixed(2)}%`\n      : defaultValueFormat;\n  }\n\n  var tooltipSortFunction = this.getTooltipSortFunction();\n  if (tooltipSortFunction) {\n    d.sort(tooltipSortFunction);\n  }\n\n  for (i = 0; i < d.length; i++) {\n    if (!(d[i] && (d[i].value || d[i].value === 0))) {\n      continue\n    }\n\n    if ($$.isStanfordGraphType()) {\n      // Custom tooltip for stanford plots\n      if (!text) {\n        title = $$.getStanfordTooltipTitle(d[i]);\n        text = \"<table class='\" + $$.CLASS.tooltip + \"'>\" + title;\n      }\n\n      bgcolor = $$.getStanfordPointColor(d[i]);\n      name = sanitise(config.data_epochs); // Epochs key name\n      value = d[i].epochs;\n    } else {\n      // Regular tooltip\n      if (!text) {\n        title = sanitise(titleFormat ? titleFormat(d[i].x, d[i].index) : d[i].x);\n        text =\n          \"<table class='\" +\n          $$.CLASS.tooltip +\n          \"'>\" +\n          (title || title === 0\n            ? \"<tr><th colspan='2'>\" + title + '</th></tr>'\n            : '');\n      }\n\n      value = sanitise(\n        valueFormat(d[i].value, d[i].ratio, d[i].id, d[i].index, d)\n      );\n      if (value !== undefined) {\n        // Skip elements when their name is set to null\n        if (d[i].name === null) {\n          continue\n        }\n\n        name = sanitise(nameFormat(d[i].name, d[i].ratio, d[i].id, d[i].index));\n        bgcolor = $$.levelColor ? $$.levelColor(d[i].value) : color(d[i].id);\n      }\n    }\n\n    if (value !== undefined) {\n      text +=\n        \"<tr class='\" +\n        $$.CLASS.tooltipName +\n        '-' +\n        $$.getTargetSelectorSuffix(d[i].id) +\n        \"'>\";\n      text +=\n        \"<td class='name'><span style='background-color:\" +\n        bgcolor +\n        \"'></span>\" +\n        name +\n        '</td>';\n      text += \"<td class='value'>\" + value + '</td>';\n      text += '</tr>';\n    }\n  }\n  return text + '</table>'\n};\nChartInternal.prototype.tooltipPosition = function(\n  dataToShow,\n  tWidth,\n  tHeight,\n  element\n) {\n  var $$ = this,\n    config = $$.config,\n    d3 = $$.d3;\n  var svgLeft, tooltipLeft, tooltipRight, tooltipTop, chartRight;\n  var forArc = $$.hasArcType(),\n    mouse = d3.mouse(element);\n  // Determin tooltip position\n  if (forArc) {\n    tooltipLeft =\n      ($$.width - ($$.isLegendRight ? $$.getLegendWidth() : 0)) / 2 + mouse[0];\n    tooltipTop =\n      ($$.hasType('gauge') ? $$.height : $$.height / 2) + mouse[1] + 20;\n  } else {\n    svgLeft = $$.getSvgLeft(true);\n    if (config.axis_rotated) {\n      tooltipLeft = svgLeft + mouse[0] + 100;\n      tooltipRight = tooltipLeft + tWidth;\n      chartRight = $$.currentWidth - $$.getCurrentPaddingRight();\n      tooltipTop = $$.x(dataToShow[0].x) + 20;\n    } else {\n      tooltipLeft =\n        svgLeft + $$.getCurrentPaddingLeft(true) + $$.x(dataToShow[0].x) + 20;\n      tooltipRight = tooltipLeft + tWidth;\n      chartRight = svgLeft + $$.currentWidth - $$.getCurrentPaddingRight();\n      tooltipTop = mouse[1] + 15;\n    }\n\n    if (tooltipRight > chartRight) {\n      // 20 is needed for Firefox to keep tooltip width\n      tooltipLeft -= tooltipRight - chartRight + 20;\n    }\n    if (tooltipTop + tHeight > $$.currentHeight) {\n      tooltipTop -= tHeight + 30;\n    }\n  }\n  if (tooltipTop < 0) {\n    tooltipTop = 0;\n  }\n  return {\n    top: tooltipTop,\n    left: tooltipLeft\n  }\n};\nChartInternal.prototype.showTooltip = function(selectedData, element) {\n  var $$ = this,\n    config = $$.config;\n  var tWidth, tHeight, position;\n  var forArc = $$.hasArcType(),\n    dataToShow = selectedData.filter(function(d) {\n      return d && isValue(d.value)\n    }),\n    positionFunction =\n      config.tooltip_position || ChartInternal.prototype.tooltipPosition;\n  if (dataToShow.length === 0 || !config.tooltip_show) {\n    $$.hideTooltip();\n    return\n  }\n  $$.tooltip\n    .html(\n      config.tooltip_contents.call(\n        $$,\n        selectedData,\n        $$.axis.getXAxisTickFormat(),\n        $$.getYFormat(forArc),\n        $$.color\n      )\n    )\n    .style('display', 'block');\n\n  // Get tooltip dimensions\n  tWidth = $$.tooltip.property('offsetWidth');\n  tHeight = $$.tooltip.property('offsetHeight');\n\n  position = positionFunction.call(this, dataToShow, tWidth, tHeight, element);\n  // Set tooltip\n  $$.tooltip\n    .style('top', position.top + 'px')\n    .style('left', position.left + 'px');\n};\nChartInternal.prototype.hideTooltip = function() {\n  this.tooltip.style('display', 'none');\n};\n\nChartInternal.prototype.setTargetType = function(targetIds, type) {\n  var $$ = this,\n    config = $$.config;\n  $$.mapToTargetIds(targetIds).forEach(function(id) {\n    $$.withoutFadeIn[id] = type === config.data_types[id];\n    config.data_types[id] = type;\n  });\n  if (!targetIds) {\n    config.data_type = type;\n  }\n};\nChartInternal.prototype.hasType = function(type, targets) {\n  var $$ = this,\n    types = $$.config.data_types,\n    has = false;\n  targets = targets || $$.data.targets;\n  if (targets && targets.length) {\n    targets.forEach(function(target) {\n      var t = types[target.id];\n      if ((t && t.indexOf(type) >= 0) || (!t && type === 'line')) {\n        has = true;\n      }\n    });\n  } else if (Object.keys(types).length) {\n    Object.keys(types).forEach(function(id) {\n      if (types[id] === type) {\n        has = true;\n      }\n    });\n  } else {\n    has = $$.config.data_type === type;\n  }\n  return has\n};\nChartInternal.prototype.hasArcType = function(targets) {\n  return (\n    this.hasType('pie', targets) ||\n    this.hasType('donut', targets) ||\n    this.hasType('gauge', targets)\n  )\n};\nChartInternal.prototype.isLineType = function(d) {\n  var config = this.config,\n    id = isString(d) ? d : d.id;\n  return (\n    !config.data_types[id] ||\n    ['line', 'spline', 'area', 'area-spline', 'step', 'area-step'].indexOf(\n      config.data_types[id]\n    ) >= 0\n  )\n};\nChartInternal.prototype.isStepType = function(d) {\n  var id = isString(d) ? d : d.id;\n  return ['step', 'area-step'].indexOf(this.config.data_types[id]) >= 0\n};\nChartInternal.prototype.isSplineType = function(d) {\n  var id = isString(d) ? d : d.id;\n  return ['spline', 'area-spline'].indexOf(this.config.data_types[id]) >= 0\n};\nChartInternal.prototype.isAreaType = function(d) {\n  var id = isString(d) ? d : d.id;\n  return (\n    ['area', 'area-spline', 'area-step'].indexOf(this.config.data_types[id]) >=\n    0\n  )\n};\nChartInternal.prototype.isBarType = function(d) {\n  var id = isString(d) ? d : d.id;\n  return this.config.data_types[id] === 'bar'\n};\nChartInternal.prototype.isScatterType = function(d) {\n  var id = isString(d) ? d : d.id;\n  return this.config.data_types[id] === 'scatter'\n};\nChartInternal.prototype.isStanfordType = function(d) {\n  var id = isString(d) ? d : d.id;\n  return this.config.data_types[id] === 'stanford'\n};\nChartInternal.prototype.isPieType = function(d) {\n  var id = isString(d) ? d : d.id;\n  return this.config.data_types[id] === 'pie'\n};\nChartInternal.prototype.isGaugeType = function(d) {\n  var id = isString(d) ? d : d.id;\n  return this.config.data_types[id] === 'gauge'\n};\nChartInternal.prototype.isDonutType = function(d) {\n  var id = isString(d) ? d : d.id;\n  return this.config.data_types[id] === 'donut'\n};\nChartInternal.prototype.isArcType = function(d) {\n  return this.isPieType(d) || this.isDonutType(d) || this.isGaugeType(d)\n};\nChartInternal.prototype.lineData = function(d) {\n  return this.isLineType(d) ? [d] : []\n};\nChartInternal.prototype.arcData = function(d) {\n  return this.isArcType(d.data) ? [d] : []\n};\n/* not used\n function scatterData(d) {\n return isScatterType(d) ? d.values : [];\n }\n */\nChartInternal.prototype.barData = function(d) {\n  return this.isBarType(d) ? d.values : []\n};\nChartInternal.prototype.lineOrScatterOrStanfordData = function(d) {\n  return this.isLineType(d) || this.isScatterType(d) || this.isStanfordType(d)\n    ? d.values\n    : []\n};\nChartInternal.prototype.barOrLineData = function(d) {\n  return this.isBarType(d) || this.isLineType(d) ? d.values : []\n};\n\nChartInternal.prototype.isSafari = function() {\n  var ua = window.navigator.userAgent;\n  return ua.indexOf('Safari') >= 0 && ua.indexOf('Chrome') < 0\n};\nChartInternal.prototype.isChrome = function() {\n  var ua = window.navigator.userAgent;\n  return ua.indexOf('Chrome') >= 0\n};\n\nChartInternal.prototype.initZoom = function() {\n  var $$ = this,\n    d3 = $$.d3,\n    config = $$.config,\n    startEvent;\n\n  $$.zoom = d3\n    .zoom()\n    .on('start', function() {\n      if (config.zoom_type !== 'scroll') {\n        return\n      }\n\n      var e = d3.event.sourceEvent;\n      if (e && e.type === 'brush') {\n        return\n      }\n      startEvent = e;\n      config.zoom_onzoomstart.call($$.api, e);\n    })\n    .on('zoom', function() {\n      if (config.zoom_type !== 'scroll') {\n        return\n      }\n\n      var e = d3.event.sourceEvent;\n      if (e && e.type === 'brush') {\n        return\n      }\n\n      $$.redrawForZoom();\n\n      config.zoom_onzoom.call($$.api, $$.x.orgDomain());\n    })\n    .on('end', function() {\n      if (config.zoom_type !== 'scroll') {\n        return\n      }\n\n      var e = d3.event.sourceEvent;\n      if (e && e.type === 'brush') {\n        return\n      }\n      // if click, do nothing. otherwise, click interaction will be canceled.\n      if (\n        e &&\n        startEvent.clientX === e.clientX &&\n        startEvent.clientY === e.clientY\n      ) {\n        return\n      }\n      config.zoom_onzoomend.call($$.api, $$.x.orgDomain());\n    });\n\n  $$.zoom.updateDomain = function() {\n    if (d3.event && d3.event.transform) {\n      $$.x.domain(d3.event.transform.rescaleX($$.subX).domain());\n    }\n    return this\n  };\n  $$.zoom.updateExtent = function() {\n    this.scaleExtent([1, Infinity])\n      .translateExtent([\n        [0, 0],\n        [$$.width, $$.height]\n      ])\n      .extent([\n        [0, 0],\n        [$$.width, $$.height]\n      ]);\n    return this\n  };\n  $$.zoom.update = function() {\n    return this.updateExtent().updateDomain()\n  };\n\n  return $$.zoom.updateExtent()\n};\nChartInternal.prototype.zoomTransform = function(range) {\n  var $$ = this,\n    s = [$$.x(range[0]), $$.x(range[1])];\n  return $$.d3.zoomIdentity.scale($$.width / (s[1] - s[0])).translate(-s[0], 0)\n};\n\nChartInternal.prototype.initDragZoom = function() {\n  const $$ = this;\n  const d3 = $$.d3;\n  const config = $$.config;\n  const context = ($$.context = $$.svg);\n  const brushXPos = $$.margin.left + 20.5;\n  const brushYPos = $$.margin.top + 0.5;\n\n  if (!(config.zoom_type === 'drag' && config.zoom_enabled)) {\n    return\n  }\n\n  const getZoomedDomain = selection =>\n    selection && selection.map(x => $$.x.invert(x));\n\n  const brush = ($$.dragZoomBrush = d3\n    .brushX()\n    .on('start', () => {\n      $$.api.unzoom();\n\n      $$.svg.select('.' + CLASS.dragZoom).classed('disabled', false);\n\n      config.zoom_onzoomstart.call($$.api, d3.event.sourceEvent);\n    })\n    .on('brush', () => {\n      config.zoom_onzoom.call($$.api, getZoomedDomain(d3.event.selection));\n    })\n    .on('end', () => {\n      if (d3.event.selection == null) {\n        return\n      }\n\n      const zoomedDomain = getZoomedDomain(d3.event.selection);\n\n      if (!config.zoom_disableDefaultBehavior) {\n        $$.api.zoom(zoomedDomain);\n      }\n\n      $$.svg.select('.' + CLASS.dragZoom).classed('disabled', true);\n\n      config.zoom_onzoomend.call($$.api, zoomedDomain);\n    }));\n\n  context\n    .append('g')\n    .classed(CLASS.dragZoom, true)\n    .attr('clip-path', $$.clipPath)\n    .attr('transform', 'translate(' + brushXPos + ',' + brushYPos + ')')\n    .call(brush);\n};\n\nChartInternal.prototype.getZoomDomain = function() {\n  var $$ = this,\n    config = $$.config,\n    d3 = $$.d3,\n    min = d3.min([$$.orgXDomain[0], config.zoom_x_min]),\n    max = d3.max([$$.orgXDomain[1], config.zoom_x_max]);\n  return [min, max]\n};\nChartInternal.prototype.redrawForZoom = function() {\n  var $$ = this,\n    d3 = $$.d3,\n    config = $$.config,\n    zoom = $$.zoom,\n    x = $$.x;\n  if (!config.zoom_enabled) {\n    return\n  }\n  if ($$.filterTargetsToShow($$.data.targets).length === 0) {\n    return\n  }\n\n  zoom.update();\n\n  if (config.zoom_disableDefaultBehavior) {\n    return\n  }\n\n  if ($$.isCategorized() && x.orgDomain()[0] === $$.orgXDomain[0]) {\n    x.domain([$$.orgXDomain[0] - 1e-10, x.orgDomain()[1]]);\n  }\n\n  $$.redraw({\n    withTransition: false,\n    withY: config.zoom_rescale,\n    withSubchart: false,\n    withEventRect: false,\n    withDimension: false\n  });\n\n  if (d3.event.sourceEvent && d3.event.sourceEvent.type === 'mousemove') {\n    $$.cancelClick = true;\n  }\n};\n\nexport default c3;\n"
        },
        {
          "name": "c3.js",
          "type": "blob",
          "size": 442.4384765625,
          "content": "/* @license C3.js v0.7.20 | (c) C3 Team and other contributors | http://c3js.org/ */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.c3 = factory());\n}(this, (function () { 'use strict';\n\n  function ChartInternal(api) {\r\n      var $$ = this;\r\n      // Note: This part will be replaced by rollup-plugin-modify\r\n      // When bundling esm output. Beware of changing this line.\r\n      // TODO: Maybe we should check that the modification by rollup-plugin-modify\r\n      // is valid during unit tests.\r\n      $$.d3 = window.d3\r\n          ? window.d3\r\n          : typeof require !== 'undefined'\r\n              ? require('d3')\r\n              : undefined;\r\n      $$.api = api;\r\n      $$.config = $$.getDefaultConfig();\r\n      $$.data = {};\r\n      $$.cache = {};\r\n      $$.axes = {};\r\n  }\n\n  /**\r\n   * The Chart class\r\n   *\r\n   * The methods of this class is the public APIs of the chart object.\r\n   */\r\n  function Chart(config) {\r\n      this.internal = new ChartInternal(this);\r\n      this.internal.loadConfig(config);\r\n      this.internal.beforeInit(config);\r\n      this.internal.init();\r\n      this.internal.afterInit(config);\r\n      (function bindThis(fn, target, argThis) {\r\n          Object.keys(fn).forEach(function (key) {\r\n              target[key] = fn[key].bind(argThis);\r\n              if (Object.keys(fn[key]).length > 0) {\r\n                  bindThis(fn[key], target[key], argThis);\r\n              }\r\n          });\r\n      })(Chart.prototype, this, this);\r\n  }\n\n  var asHalfPixel = function (n) {\r\n      return Math.ceil(n) + 0.5;\r\n  };\r\n  var ceil10 = function (v) {\r\n      return Math.ceil(v / 10) * 10;\r\n  };\r\n  var diffDomain = function (d) {\r\n      return d[1] - d[0];\r\n  };\r\n  var getOption = function (options, key, defaultValue) {\r\n      return isDefined(options[key]) ? options[key] : defaultValue;\r\n  };\r\n  var getPathBox = function (path) {\r\n      var box = getBBox(path), items = [path.pathSegList.getItem(0), path.pathSegList.getItem(1)], minX = items[0].x, minY = Math.min(items[0].y, items[1].y);\r\n      return { x: minX, y: minY, width: box.width, height: box.height };\r\n  };\r\n  var getBBox = function (element) {\r\n      try {\r\n          return element.getBBox();\r\n      }\r\n      catch (ignore) {\r\n          // Firefox will throw an exception if getBBox() is called whereas the\r\n          // element is rendered with display:none\r\n          // See https://github.com/c3js/c3/issues/2692\r\n          // The previous code was using `getBoundingClientRect` which was returning\r\n          // everything at 0 in this case so let's reproduce this behavior here.\r\n          return { x: 0, y: 0, width: 0, height: 0 };\r\n      }\r\n  };\r\n  var hasValue = function (dict, value) {\r\n      var found = false;\r\n      Object.keys(dict).forEach(function (key) {\r\n          if (dict[key] === value) {\r\n              found = true;\r\n          }\r\n      });\r\n      return found;\r\n  };\r\n  var isArray = function (o) {\r\n      return Array.isArray(o);\r\n  };\r\n  var isDefined = function (v) {\r\n      return typeof v !== 'undefined';\r\n  };\r\n  var isEmpty = function (o) {\r\n      return (typeof o === 'undefined' ||\r\n          o === null ||\r\n          (isString(o) && o.length === 0) ||\r\n          (typeof o === 'object' && Object.keys(o).length === 0));\r\n  };\r\n  var isFunction = function (o) {\r\n      return typeof o === 'function';\r\n  };\r\n  var isNumber = function (o) {\r\n      return typeof o === 'number';\r\n  };\r\n  var isString = function (o) {\r\n      return typeof o === 'string';\r\n  };\r\n  var isUndefined = function (v) {\r\n      return typeof v === 'undefined';\r\n  };\r\n  var isValue = function (v) {\r\n      return v || v === 0;\r\n  };\r\n  var notEmpty = function (o) {\r\n      return !isEmpty(o);\r\n  };\r\n  var sanitise = function (str) {\r\n      return typeof str === 'string'\r\n          ? str.replace(/</g, '&lt;').replace(/>/g, '&gt;')\r\n          : str;\r\n  };\r\n  var flattenArray = function (arr) {\r\n      return Array.isArray(arr) ? [].concat.apply([], arr) : [];\r\n  };\r\n  /**\r\n   * Returns whether the point is within the given box.\r\n   *\r\n   * @param {Array} point An [x,y] coordinate\r\n   * @param {Object} box An object with {x, y, width, height} keys\r\n   * @param {Number} sensitivity An offset to ease check on very small boxes\r\n   */\r\n  var isWithinBox = function (point, box, sensitivity) {\r\n      if (sensitivity === void 0) { sensitivity = 0; }\r\n      var xStart = box.x - sensitivity;\r\n      var xEnd = box.x + box.width + sensitivity;\r\n      var yStart = box.y + box.height + sensitivity;\r\n      var yEnd = box.y - sensitivity;\r\n      return (xStart < point[0] && point[0] < xEnd && yEnd < point[1] && point[1] < yStart);\r\n  };\r\n  /**\r\n   * Returns Internet Explorer version number (or false if no Internet Explorer used).\r\n   *\r\n   * @param string agent Optional parameter to specify user agent\r\n   */\r\n  var getIEVersion = function (agent) {\r\n      // https://stackoverflow.com/questions/19999388/check-if-user-is-using-ie\r\n      if (typeof agent === 'undefined') {\r\n          agent = window.navigator.userAgent;\r\n      }\r\n      var pos = agent.indexOf('MSIE '); // up to IE10\r\n      if (pos > 0) {\r\n          return parseInt(agent.substring(pos + 5, agent.indexOf('.', pos)), 10);\r\n      }\r\n      pos = agent.indexOf('Trident/'); // IE11\r\n      if (pos > 0) {\r\n          pos = agent.indexOf('rv:');\r\n          return parseInt(agent.substring(pos + 3, agent.indexOf('.', pos)), 10);\r\n      }\r\n      return false;\r\n  };\r\n  /**\r\n   * Returns whether the used browser is Internet Explorer.\r\n   *\r\n   * @param version Optional parameter to specify IE version\r\n   */\r\n  var isIE = function (version) {\r\n      var ver = getIEVersion();\r\n      if (typeof version === 'undefined') {\r\n          return !!ver;\r\n      }\r\n      return version === ver;\r\n  };\n\n  function AxisInternal(component, params) {\r\n      var internal = this;\r\n      internal.component = component;\r\n      internal.params = params || {};\r\n      internal.d3 = component.d3;\r\n      internal.scale = internal.d3.scaleLinear();\r\n      internal.range;\r\n      internal.orient = 'bottom';\r\n      internal.innerTickSize = 6;\r\n      internal.outerTickSize = this.params.withOuterTick ? 6 : 0;\r\n      internal.tickPadding = 3;\r\n      internal.tickValues = null;\r\n      internal.tickFormat;\r\n      internal.tickArguments;\r\n      internal.tickOffset = 0;\r\n      internal.tickCulling = true;\r\n      internal.tickCentered;\r\n      internal.tickTextCharSize;\r\n      internal.tickTextRotate = internal.params.tickTextRotate;\r\n      internal.tickLength;\r\n      internal.axis = internal.generateAxis();\r\n  }\r\n  AxisInternal.prototype.axisX = function (selection, x, tickOffset) {\r\n      selection.attr('transform', function (d) {\r\n          return 'translate(' + Math.ceil(x(d) + tickOffset) + ', 0)';\r\n      });\r\n  };\r\n  AxisInternal.prototype.axisY = function (selection, y) {\r\n      selection.attr('transform', function (d) {\r\n          return 'translate(0,' + Math.ceil(y(d)) + ')';\r\n      });\r\n  };\r\n  AxisInternal.prototype.scaleExtent = function (domain) {\r\n      var start = domain[0], stop = domain[domain.length - 1];\r\n      return start < stop ? [start, stop] : [stop, start];\r\n  };\r\n  AxisInternal.prototype.generateTicks = function (scale) {\r\n      var internal = this;\r\n      var i, domain, ticks = [];\r\n      if (scale.ticks) {\r\n          return scale.ticks.apply(scale, internal.tickArguments);\r\n      }\r\n      domain = scale.domain();\r\n      for (i = Math.ceil(domain[0]); i < domain[1]; i++) {\r\n          ticks.push(i);\r\n      }\r\n      if (ticks.length > 0 && ticks[0] > 0) {\r\n          ticks.unshift(ticks[0] - (ticks[1] - ticks[0]));\r\n      }\r\n      return ticks;\r\n  };\r\n  AxisInternal.prototype.copyScale = function () {\r\n      var internal = this;\r\n      var newScale = internal.scale.copy(), domain;\r\n      if (internal.params.isCategory) {\r\n          domain = internal.scale.domain();\r\n          newScale.domain([domain[0], domain[1] - 1]);\r\n      }\r\n      return newScale;\r\n  };\r\n  AxisInternal.prototype.textFormatted = function (v) {\r\n      var internal = this, formatted = internal.tickFormat ? internal.tickFormat(v) : v;\r\n      return typeof formatted !== 'undefined' ? formatted : '';\r\n  };\r\n  AxisInternal.prototype.updateRange = function () {\r\n      var internal = this;\r\n      internal.range = internal.scale.rangeExtent\r\n          ? internal.scale.rangeExtent()\r\n          : internal.scaleExtent(internal.scale.range());\r\n      return internal.range;\r\n  };\r\n  AxisInternal.prototype.updateTickTextCharSize = function (tick) {\r\n      var internal = this;\r\n      if (internal.tickTextCharSize) {\r\n          return internal.tickTextCharSize;\r\n      }\r\n      var size = {\r\n          h: 11.5,\r\n          w: 5.5\r\n      };\r\n      tick\r\n          .select('text')\r\n          .text(function (d) {\r\n          return internal.textFormatted(d);\r\n      })\r\n          .each(function (d) {\r\n          var box = getBBox(this), text = internal.textFormatted(d), h = box.height, w = text ? box.width / text.length : undefined;\r\n          if (h && w) {\r\n              size.h = h;\r\n              size.w = w;\r\n          }\r\n      })\r\n          .text('');\r\n      internal.tickTextCharSize = size;\r\n      return size;\r\n  };\r\n  AxisInternal.prototype.isVertical = function () {\r\n      return this.orient === 'left' || this.orient === 'right';\r\n  };\r\n  AxisInternal.prototype.tspanData = function (d, i, scale) {\r\n      var internal = this;\r\n      var splitted = internal.params.tickMultiline\r\n          ? internal.splitTickText(d, scale)\r\n          : [].concat(internal.textFormatted(d));\r\n      if (internal.params.tickMultiline && internal.params.tickMultilineMax > 0) {\r\n          splitted = internal.ellipsify(splitted, internal.params.tickMultilineMax);\r\n      }\r\n      return splitted.map(function (s) {\r\n          return { index: i, splitted: s, length: splitted.length };\r\n      });\r\n  };\r\n  AxisInternal.prototype.splitTickText = function (d, scale) {\r\n      var internal = this, tickText = internal.textFormatted(d), maxWidth = internal.params.tickWidth, subtext, spaceIndex, textWidth, splitted = [];\r\n      if (Object.prototype.toString.call(tickText) === '[object Array]') {\r\n          return tickText;\r\n      }\r\n      if (!maxWidth || maxWidth <= 0) {\r\n          maxWidth = internal.isVertical()\r\n              ? 95\r\n              : internal.params.isCategory\r\n                  ? Math.ceil(scale(1) - scale(0)) - 12\r\n                  : 110;\r\n      }\r\n      function split(splitted, text) {\r\n          spaceIndex = undefined;\r\n          for (var i = 1; i < text.length; i++) {\r\n              if (text.charAt(i) === ' ') {\r\n                  spaceIndex = i;\r\n              }\r\n              subtext = text.substr(0, i + 1);\r\n              textWidth = internal.tickTextCharSize.w * subtext.length;\r\n              // if text width gets over tick width, split by space index or crrent index\r\n              if (maxWidth < textWidth) {\r\n                  return split(splitted.concat(text.substr(0, spaceIndex ? spaceIndex : i)), text.slice(spaceIndex ? spaceIndex + 1 : i));\r\n              }\r\n          }\r\n          return splitted.concat(text);\r\n      }\r\n      return split(splitted, tickText + '');\r\n  };\r\n  AxisInternal.prototype.ellipsify = function (splitted, max) {\r\n      if (splitted.length <= max) {\r\n          return splitted;\r\n      }\r\n      var ellipsified = splitted.slice(0, max);\r\n      var remaining = 3;\r\n      for (var i = max - 1; i >= 0; i--) {\r\n          var available = ellipsified[i].length;\r\n          ellipsified[i] = ellipsified[i]\r\n              .substr(0, available - remaining)\r\n              .padEnd(available, '.');\r\n          remaining -= available;\r\n          if (remaining <= 0) {\r\n              break;\r\n          }\r\n      }\r\n      return ellipsified;\r\n  };\r\n  AxisInternal.prototype.updateTickLength = function () {\r\n      var internal = this;\r\n      internal.tickLength =\r\n          Math.max(internal.innerTickSize, 0) + internal.tickPadding;\r\n  };\r\n  AxisInternal.prototype.lineY2 = function (d) {\r\n      var internal = this, tickPosition = internal.scale(d) + (internal.tickCentered ? 0 : internal.tickOffset);\r\n      return internal.range[0] < tickPosition && tickPosition < internal.range[1]\r\n          ? internal.innerTickSize\r\n          : 0;\r\n  };\r\n  AxisInternal.prototype.textY = function () {\r\n      var internal = this, rotate = internal.tickTextRotate;\r\n      return rotate\r\n          ? 11.5 - 2.5 * (rotate / 15) * (rotate > 0 ? 1 : -1)\r\n          : internal.tickLength;\r\n  };\r\n  AxisInternal.prototype.textTransform = function () {\r\n      var internal = this, rotate = internal.tickTextRotate;\r\n      return rotate ? 'rotate(' + rotate + ')' : '';\r\n  };\r\n  AxisInternal.prototype.textTextAnchor = function () {\r\n      var internal = this, rotate = internal.tickTextRotate;\r\n      return rotate ? (rotate > 0 ? 'start' : 'end') : 'middle';\r\n  };\r\n  AxisInternal.prototype.tspanDx = function () {\r\n      var internal = this, rotate = internal.tickTextRotate;\r\n      return rotate ? 8 * Math.sin(Math.PI * (rotate / 180)) : 0;\r\n  };\r\n  AxisInternal.prototype.tspanDy = function (d, i) {\r\n      var internal = this, dy = internal.tickTextCharSize.h;\r\n      if (i === 0) {\r\n          if (internal.isVertical()) {\r\n              dy = -((d.length - 1) * (internal.tickTextCharSize.h / 2) - 3);\r\n          }\r\n          else {\r\n              dy = '.71em';\r\n          }\r\n      }\r\n      return dy;\r\n  };\r\n  AxisInternal.prototype.generateAxis = function () {\r\n      var internal = this, d3 = internal.d3, params = internal.params;\r\n      function axis(g, transition) {\r\n          var self;\r\n          g.each(function () {\r\n              var g = (axis.g = d3.select(this));\r\n              var scale0 = this.__chart__ || internal.scale, scale1 = (this.__chart__ = internal.copyScale());\r\n              var ticksValues = internal.tickValues\r\n                  ? internal.tickValues\r\n                  : internal.generateTicks(scale1), ticks = g.selectAll('.tick').data(ticksValues, scale1), tickEnter = ticks\r\n                  .enter()\r\n                  .insert('g', '.domain')\r\n                  .attr('class', 'tick')\r\n                  .style('opacity', 1e-6), \r\n              // MEMO: No exit transition. The reason is this transition affects max tick width calculation because old tick will be included in the ticks.\r\n              tickExit = ticks.exit().remove(), tickUpdate = ticks.merge(tickEnter), tickTransform, tickX, tickY;\r\n              if (params.isCategory) {\r\n                  internal.tickOffset = Math.ceil((scale1(1) - scale1(0)) / 2);\r\n                  tickX = internal.tickCentered ? 0 : internal.tickOffset;\r\n                  tickY = internal.tickCentered ? internal.tickOffset : 0;\r\n              }\r\n              else {\r\n                  internal.tickOffset = tickX = 0;\r\n              }\r\n              internal.updateRange();\r\n              internal.updateTickLength();\r\n              internal.updateTickTextCharSize(g.select('.tick'));\r\n              var lineUpdate = tickUpdate\r\n                  .select('line')\r\n                  .merge(tickEnter.append('line')), textUpdate = tickUpdate.select('text').merge(tickEnter.append('text'));\r\n              var tspans = tickUpdate\r\n                  .selectAll('text')\r\n                  .selectAll('tspan')\r\n                  .data(function (d, i) {\r\n                  return internal.tspanData(d, i, scale1);\r\n              }), tspanEnter = tspans.enter().append('tspan'), tspanUpdate = tspanEnter.merge(tspans).text(function (d) {\r\n                  return d.splitted;\r\n              });\r\n              tspans.exit().remove();\r\n              var path = g.selectAll('.domain').data([0]), pathUpdate = path\r\n                  .enter()\r\n                  .append('path')\r\n                  .merge(path)\r\n                  .attr('class', 'domain');\r\n              // TODO: each attr should be one function and change its behavior by internal.orient, probably\r\n              switch (internal.orient) {\r\n                  case 'bottom': {\r\n                      tickTransform = internal.axisX;\r\n                      lineUpdate\r\n                          .attr('x1', tickX)\r\n                          .attr('x2', tickX)\r\n                          .attr('y2', function (d, i) {\r\n                          return internal.lineY2(d, i);\r\n                      });\r\n                      textUpdate\r\n                          .attr('x', 0)\r\n                          .attr('y', function (d, i) {\r\n                          return internal.textY(d, i);\r\n                      })\r\n                          .attr('transform', function (d, i) {\r\n                          return internal.textTransform(d, i);\r\n                      })\r\n                          .style('text-anchor', function (d, i) {\r\n                          return internal.textTextAnchor(d, i);\r\n                      });\r\n                      tspanUpdate\r\n                          .attr('x', 0)\r\n                          .attr('dy', function (d, i) {\r\n                          return internal.tspanDy(d, i);\r\n                      })\r\n                          .attr('dx', function (d, i) {\r\n                          return internal.tspanDx(d, i);\r\n                      });\r\n                      pathUpdate.attr('d', 'M' +\r\n                          internal.range[0] +\r\n                          ',' +\r\n                          internal.outerTickSize +\r\n                          'V0H' +\r\n                          internal.range[1] +\r\n                          'V' +\r\n                          internal.outerTickSize);\r\n                      break;\r\n                  }\r\n                  case 'top': {\r\n                      // TODO: rotated tick text\r\n                      tickTransform = internal.axisX;\r\n                      lineUpdate\r\n                          .attr('x1', tickX)\r\n                          .attr('x2', tickX)\r\n                          .attr('y2', function (d, i) {\r\n                          return -1 * internal.lineY2(d, i);\r\n                      });\r\n                      textUpdate\r\n                          .attr('x', 0)\r\n                          .attr('y', function (d, i) {\r\n                          return (-1 * internal.textY(d, i) -\r\n                              (params.isCategory ? 2 : internal.tickLength - 2));\r\n                      })\r\n                          .attr('transform', function (d, i) {\r\n                          return internal.textTransform(d, i);\r\n                      })\r\n                          .style('text-anchor', function (d, i) {\r\n                          return internal.textTextAnchor(d, i);\r\n                      });\r\n                      tspanUpdate\r\n                          .attr('x', 0)\r\n                          .attr('dy', function (d, i) {\r\n                          return internal.tspanDy(d, i);\r\n                      })\r\n                          .attr('dx', function (d, i) {\r\n                          return internal.tspanDx(d, i);\r\n                      });\r\n                      pathUpdate.attr('d', 'M' +\r\n                          internal.range[0] +\r\n                          ',' +\r\n                          -internal.outerTickSize +\r\n                          'V0H' +\r\n                          internal.range[1] +\r\n                          'V' +\r\n                          -internal.outerTickSize);\r\n                      break;\r\n                  }\r\n                  case 'left': {\r\n                      tickTransform = internal.axisY;\r\n                      lineUpdate\r\n                          .attr('x2', -internal.innerTickSize)\r\n                          .attr('y1', tickY)\r\n                          .attr('y2', tickY);\r\n                      textUpdate\r\n                          .attr('x', -internal.tickLength)\r\n                          .attr('y', internal.tickOffset)\r\n                          .style('text-anchor', 'end');\r\n                      tspanUpdate\r\n                          .attr('x', -internal.tickLength)\r\n                          .attr('dy', function (d, i) {\r\n                          return internal.tspanDy(d, i);\r\n                      });\r\n                      pathUpdate.attr('d', 'M' +\r\n                          -internal.outerTickSize +\r\n                          ',' +\r\n                          internal.range[0] +\r\n                          'H0V' +\r\n                          internal.range[1] +\r\n                          'H' +\r\n                          -internal.outerTickSize);\r\n                      break;\r\n                  }\r\n                  case 'right': {\r\n                      tickTransform = internal.axisY;\r\n                      lineUpdate\r\n                          .attr('x2', internal.innerTickSize)\r\n                          .attr('y1', tickY)\r\n                          .attr('y2', tickY);\r\n                      textUpdate\r\n                          .attr('x', internal.tickLength)\r\n                          .attr('y', internal.tickOffset)\r\n                          .style('text-anchor', 'start');\r\n                      tspanUpdate.attr('x', internal.tickLength).attr('dy', function (d, i) {\r\n                          return internal.tspanDy(d, i);\r\n                      });\r\n                      pathUpdate.attr('d', 'M' +\r\n                          internal.outerTickSize +\r\n                          ',' +\r\n                          internal.range[0] +\r\n                          'H0V' +\r\n                          internal.range[1] +\r\n                          'H' +\r\n                          internal.outerTickSize);\r\n                      break;\r\n                  }\r\n              }\r\n              if (scale1.rangeBand) {\r\n                  var x = scale1, dx = x.rangeBand() / 2;\r\n                  scale0 = scale1 = function (d) {\r\n                      return x(d) + dx;\r\n                  };\r\n              }\r\n              else if (scale0.rangeBand) {\r\n                  scale0 = scale1;\r\n              }\r\n              else {\r\n                  tickExit.call(tickTransform, scale1, internal.tickOffset);\r\n              }\r\n              tickEnter.call(tickTransform, scale0, internal.tickOffset);\r\n              self = (transition ? tickUpdate.transition(transition) : tickUpdate)\r\n                  .style('opacity', 1)\r\n                  .call(tickTransform, scale1, internal.tickOffset);\r\n          });\r\n          return self;\r\n      }\r\n      axis.scale = function (x) {\r\n          if (!arguments.length) {\r\n              return internal.scale;\r\n          }\r\n          internal.scale = x;\r\n          return axis;\r\n      };\r\n      axis.orient = function (x) {\r\n          if (!arguments.length) {\r\n              return internal.orient;\r\n          }\r\n          internal.orient =\r\n              x in { top: 1, right: 1, bottom: 1, left: 1 } ? x + '' : 'bottom';\r\n          return axis;\r\n      };\r\n      axis.tickFormat = function (format) {\r\n          if (!arguments.length) {\r\n              return internal.tickFormat;\r\n          }\r\n          internal.tickFormat = format;\r\n          return axis;\r\n      };\r\n      axis.tickCentered = function (isCentered) {\r\n          if (!arguments.length) {\r\n              return internal.tickCentered;\r\n          }\r\n          internal.tickCentered = isCentered;\r\n          return axis;\r\n      };\r\n      axis.tickOffset = function () {\r\n          return internal.tickOffset;\r\n      };\r\n      axis.tickInterval = function () {\r\n          var interval, length;\r\n          if (params.isCategory) {\r\n              interval = internal.tickOffset * 2;\r\n          }\r\n          else {\r\n              length =\r\n                  axis.g\r\n                      .select('path.domain')\r\n                      .node()\r\n                      .getTotalLength() -\r\n                      internal.outerTickSize * 2;\r\n              interval = length / axis.g.selectAll('line').size();\r\n          }\r\n          return interval === Infinity ? 0 : interval;\r\n      };\r\n      axis.ticks = function () {\r\n          if (!arguments.length) {\r\n              return internal.tickArguments;\r\n          }\r\n          internal.tickArguments = arguments;\r\n          return axis;\r\n      };\r\n      axis.tickCulling = function (culling) {\r\n          if (!arguments.length) {\r\n              return internal.tickCulling;\r\n          }\r\n          internal.tickCulling = culling;\r\n          return axis;\r\n      };\r\n      axis.tickValues = function (x) {\r\n          if (typeof x === 'function') {\r\n              internal.tickValues = function () {\r\n                  return x(internal.scale.domain());\r\n              };\r\n          }\r\n          else {\r\n              if (!arguments.length) {\r\n                  return internal.tickValues;\r\n              }\r\n              internal.tickValues = x;\r\n          }\r\n          return axis;\r\n      };\r\n      return axis;\r\n  };\n\n  var CLASS = {\r\n      target: 'c3-target',\r\n      chart: 'c3-chart',\r\n      chartLine: 'c3-chart-line',\r\n      chartLines: 'c3-chart-lines',\r\n      chartBar: 'c3-chart-bar',\r\n      chartBars: 'c3-chart-bars',\r\n      chartText: 'c3-chart-text',\r\n      chartTexts: 'c3-chart-texts',\r\n      chartArc: 'c3-chart-arc',\r\n      chartArcs: 'c3-chart-arcs',\r\n      chartArcsTitle: 'c3-chart-arcs-title',\r\n      chartArcsBackground: 'c3-chart-arcs-background',\r\n      chartArcsGaugeUnit: 'c3-chart-arcs-gauge-unit',\r\n      chartArcsGaugeMax: 'c3-chart-arcs-gauge-max',\r\n      chartArcsGaugeMin: 'c3-chart-arcs-gauge-min',\r\n      selectedCircle: 'c3-selected-circle',\r\n      selectedCircles: 'c3-selected-circles',\r\n      eventRect: 'c3-event-rect',\r\n      eventRects: 'c3-event-rects',\r\n      eventRectsSingle: 'c3-event-rects-single',\r\n      eventRectsMultiple: 'c3-event-rects-multiple',\r\n      zoomRect: 'c3-zoom-rect',\r\n      brush: 'c3-brush',\r\n      dragZoom: 'c3-drag-zoom',\r\n      focused: 'c3-focused',\r\n      defocused: 'c3-defocused',\r\n      region: 'c3-region',\r\n      regions: 'c3-regions',\r\n      title: 'c3-title',\r\n      tooltipContainer: 'c3-tooltip-container',\r\n      tooltip: 'c3-tooltip',\r\n      tooltipName: 'c3-tooltip-name',\r\n      shape: 'c3-shape',\r\n      shapes: 'c3-shapes',\r\n      line: 'c3-line',\r\n      lines: 'c3-lines',\r\n      bar: 'c3-bar',\r\n      bars: 'c3-bars',\r\n      circle: 'c3-circle',\r\n      circles: 'c3-circles',\r\n      arc: 'c3-arc',\r\n      arcLabelLine: 'c3-arc-label-line',\r\n      arcs: 'c3-arcs',\r\n      area: 'c3-area',\r\n      areas: 'c3-areas',\r\n      empty: 'c3-empty',\r\n      text: 'c3-text',\r\n      texts: 'c3-texts',\r\n      gaugeValue: 'c3-gauge-value',\r\n      grid: 'c3-grid',\r\n      gridLines: 'c3-grid-lines',\r\n      xgrid: 'c3-xgrid',\r\n      xgrids: 'c3-xgrids',\r\n      xgridLine: 'c3-xgrid-line',\r\n      xgridLines: 'c3-xgrid-lines',\r\n      xgridFocus: 'c3-xgrid-focus',\r\n      ygrid: 'c3-ygrid',\r\n      ygrids: 'c3-ygrids',\r\n      ygridLine: 'c3-ygrid-line',\r\n      ygridLines: 'c3-ygrid-lines',\r\n      colorScale: 'c3-colorscale',\r\n      stanfordElements: 'c3-stanford-elements',\r\n      stanfordLine: 'c3-stanford-line',\r\n      stanfordLines: 'c3-stanford-lines',\r\n      stanfordRegion: 'c3-stanford-region',\r\n      stanfordRegions: 'c3-stanford-regions',\r\n      stanfordText: 'c3-stanford-text',\r\n      stanfordTexts: 'c3-stanford-texts',\r\n      axis: 'c3-axis',\r\n      axisX: 'c3-axis-x',\r\n      axisXLabel: 'c3-axis-x-label',\r\n      axisY: 'c3-axis-y',\r\n      axisYLabel: 'c3-axis-y-label',\r\n      axisY2: 'c3-axis-y2',\r\n      axisY2Label: 'c3-axis-y2-label',\r\n      legendBackground: 'c3-legend-background',\r\n      legendItem: 'c3-legend-item',\r\n      legendItemEvent: 'c3-legend-item-event',\r\n      legendItemTile: 'c3-legend-item-tile',\r\n      legendItemHidden: 'c3-legend-item-hidden',\r\n      legendItemFocused: 'c3-legend-item-focused',\r\n      dragarea: 'c3-dragarea',\r\n      EXPANDED: '_expanded_',\r\n      SELECTED: '_selected_',\r\n      INCLUDED: '_included_'\r\n  };\n\n  var AxisClass = /** @class */ (function () {\r\n      function AxisClass(owner) {\r\n          this.owner = owner;\r\n          this.d3 = owner.d3;\r\n          this.internal = AxisInternal;\r\n      }\r\n      return AxisClass;\r\n  }());\r\n  var Axis = AxisClass;\r\n  Axis.prototype.init = function init() {\r\n      var $$ = this.owner, config = $$.config, main = $$.main;\r\n      $$.axes.x = main\r\n          .append('g')\r\n          .attr('class', CLASS.axis + ' ' + CLASS.axisX)\r\n          .attr('clip-path', config.axis_x_inner ? '' : $$.clipPathForXAxis)\r\n          .attr('transform', $$.getTranslate('x'))\r\n          .style('visibility', config.axis_x_show ? 'visible' : 'hidden');\r\n      $$.axes.x\r\n          .append('text')\r\n          .attr('class', CLASS.axisXLabel)\r\n          .attr('transform', config.axis_rotated ? 'rotate(-90)' : '')\r\n          .style('text-anchor', this.textAnchorForXAxisLabel.bind(this));\r\n      $$.axes.y = main\r\n          .append('g')\r\n          .attr('class', CLASS.axis + ' ' + CLASS.axisY)\r\n          .attr('clip-path', config.axis_y_inner ? '' : $$.clipPathForYAxis)\r\n          .attr('transform', $$.getTranslate('y'))\r\n          .style('visibility', config.axis_y_show ? 'visible' : 'hidden');\r\n      $$.axes.y\r\n          .append('text')\r\n          .attr('class', CLASS.axisYLabel)\r\n          .attr('transform', config.axis_rotated ? '' : 'rotate(-90)')\r\n          .style('text-anchor', this.textAnchorForYAxisLabel.bind(this));\r\n      $$.axes.y2 = main\r\n          .append('g')\r\n          .attr('class', CLASS.axis + ' ' + CLASS.axisY2)\r\n          // clip-path?\r\n          .attr('transform', $$.getTranslate('y2'))\r\n          .style('visibility', config.axis_y2_show ? 'visible' : 'hidden');\r\n      $$.axes.y2\r\n          .append('text')\r\n          .attr('class', CLASS.axisY2Label)\r\n          .attr('transform', config.axis_rotated ? '' : 'rotate(-90)')\r\n          .style('text-anchor', this.textAnchorForY2AxisLabel.bind(this));\r\n  };\r\n  Axis.prototype.getXAxis = function getXAxis(scale, orient, tickFormat, tickValues, withOuterTick, withoutTransition, withoutRotateTickText) {\r\n      var $$ = this.owner, config = $$.config, axisParams = {\r\n          isCategory: $$.isCategorized(),\r\n          withOuterTick: withOuterTick,\r\n          tickMultiline: config.axis_x_tick_multiline,\r\n          tickMultilineMax: config.axis_x_tick_multiline\r\n              ? Number(config.axis_x_tick_multilineMax)\r\n              : 0,\r\n          tickWidth: config.axis_x_tick_width,\r\n          tickTextRotate: withoutRotateTickText ? 0 : config.axis_x_tick_rotate,\r\n          withoutTransition: withoutTransition\r\n      }, axis = new this.internal(this, axisParams).axis.scale(scale).orient(orient);\r\n      if ($$.isTimeSeries() && tickValues && typeof tickValues !== 'function') {\r\n          tickValues = tickValues.map(function (v) {\r\n              return $$.parseDate(v);\r\n          });\r\n      }\r\n      // Set tick\r\n      axis.tickFormat(tickFormat).tickValues(tickValues);\r\n      if ($$.isCategorized()) {\r\n          axis.tickCentered(config.axis_x_tick_centered);\r\n          if (isEmpty(config.axis_x_tick_culling)) {\r\n              config.axis_x_tick_culling = false;\r\n          }\r\n      }\r\n      return axis;\r\n  };\r\n  Axis.prototype.updateXAxisTickValues = function updateXAxisTickValues(targets, axis) {\r\n      var $$ = this.owner, config = $$.config, tickValues;\r\n      if (config.axis_x_tick_fit || config.axis_x_tick_count) {\r\n          tickValues = this.generateTickValues($$.mapTargetsToUniqueXs(targets), config.axis_x_tick_count, $$.isTimeSeries());\r\n      }\r\n      if (axis) {\r\n          axis.tickValues(tickValues);\r\n      }\r\n      else {\r\n          $$.xAxis.tickValues(tickValues);\r\n          $$.subXAxis.tickValues(tickValues);\r\n      }\r\n      return tickValues;\r\n  };\r\n  Axis.prototype.getYAxis = function getYAxis(axisId, scale, orient, tickValues, withOuterTick, withoutTransition, withoutRotateTickText) {\r\n      var $$ = this.owner;\r\n      var config = $$.config;\r\n      var tickFormat = config[\"axis_\" + axisId + \"_tick_format\"];\r\n      if (!tickFormat && $$.isAxisNormalized(axisId)) {\r\n          tickFormat = function (x) { return x + \"%\"; };\r\n      }\r\n      var axis = new this.internal(this, {\r\n          withOuterTick: withOuterTick,\r\n          withoutTransition: withoutTransition,\r\n          tickTextRotate: withoutRotateTickText ? 0 : config.axis_y_tick_rotate\r\n      }).axis\r\n          .scale(scale)\r\n          .orient(orient);\r\n      if (tickFormat) {\r\n          axis.tickFormat(tickFormat);\r\n      }\r\n      if ($$.isTimeSeriesY()) {\r\n          axis.ticks(config.axis_y_tick_time_type, config.axis_y_tick_time_interval);\r\n      }\r\n      else {\r\n          axis.tickValues(tickValues);\r\n      }\r\n      return axis;\r\n  };\r\n  Axis.prototype.getId = function getId(id) {\r\n      var config = this.owner.config;\r\n      return id in config.data_axes ? config.data_axes[id] : 'y';\r\n  };\r\n  Axis.prototype.getXAxisTickFormat = function getXAxisTickFormat() {\r\n      // #2251 previously set any negative values to a whole number,\r\n      // however both should be truncated according to the users format specification\r\n      var $$ = this.owner, config = $$.config;\r\n      var format = $$.isTimeSeries()\r\n          ? $$.defaultAxisTimeFormat\r\n          : $$.isCategorized()\r\n              ? $$.categoryName\r\n              : function (v) {\r\n                  return v;\r\n              };\r\n      if (config.axis_x_tick_format) {\r\n          if (isFunction(config.axis_x_tick_format)) {\r\n              format = config.axis_x_tick_format;\r\n          }\r\n          else if ($$.isTimeSeries()) {\r\n              format = function (date) {\r\n                  return date ? $$.axisTimeFormat(config.axis_x_tick_format)(date) : '';\r\n              };\r\n          }\r\n      }\r\n      return isFunction(format)\r\n          ? function (v) {\r\n              return format.call($$, v);\r\n          }\r\n          : format;\r\n  };\r\n  Axis.prototype.getTickValues = function getTickValues(tickValues, axis) {\r\n      return tickValues ? tickValues : axis ? axis.tickValues() : undefined;\r\n  };\r\n  Axis.prototype.getXAxisTickValues = function getXAxisTickValues() {\r\n      return this.getTickValues(this.owner.config.axis_x_tick_values, this.owner.xAxis);\r\n  };\r\n  Axis.prototype.getYAxisTickValues = function getYAxisTickValues() {\r\n      return this.getTickValues(this.owner.config.axis_y_tick_values, this.owner.yAxis);\r\n  };\r\n  Axis.prototype.getY2AxisTickValues = function getY2AxisTickValues() {\r\n      return this.getTickValues(this.owner.config.axis_y2_tick_values, this.owner.y2Axis);\r\n  };\r\n  Axis.prototype.getLabelOptionByAxisId = function getLabelOptionByAxisId(axisId) {\r\n      var $$ = this.owner, config = $$.config, option;\r\n      if (axisId === 'y') {\r\n          option = config.axis_y_label;\r\n      }\r\n      else if (axisId === 'y2') {\r\n          option = config.axis_y2_label;\r\n      }\r\n      else if (axisId === 'x') {\r\n          option = config.axis_x_label;\r\n      }\r\n      return option;\r\n  };\r\n  Axis.prototype.getLabelText = function getLabelText(axisId) {\r\n      var option = this.getLabelOptionByAxisId(axisId);\r\n      return isString(option) ? option : option ? option.text : null;\r\n  };\r\n  Axis.prototype.setLabelText = function setLabelText(axisId, text) {\r\n      var $$ = this.owner, config = $$.config, option = this.getLabelOptionByAxisId(axisId);\r\n      if (isString(option)) {\r\n          if (axisId === 'y') {\r\n              config.axis_y_label = text;\r\n          }\r\n          else if (axisId === 'y2') {\r\n              config.axis_y2_label = text;\r\n          }\r\n          else if (axisId === 'x') {\r\n              config.axis_x_label = text;\r\n          }\r\n      }\r\n      else if (option) {\r\n          option.text = text;\r\n      }\r\n  };\r\n  Axis.prototype.getLabelPosition = function getLabelPosition(axisId, defaultPosition) {\r\n      var option = this.getLabelOptionByAxisId(axisId), position = option && typeof option === 'object' && option.position\r\n          ? option.position\r\n          : defaultPosition;\r\n      return {\r\n          isInner: position.indexOf('inner') >= 0,\r\n          isOuter: position.indexOf('outer') >= 0,\r\n          isLeft: position.indexOf('left') >= 0,\r\n          isCenter: position.indexOf('center') >= 0,\r\n          isRight: position.indexOf('right') >= 0,\r\n          isTop: position.indexOf('top') >= 0,\r\n          isMiddle: position.indexOf('middle') >= 0,\r\n          isBottom: position.indexOf('bottom') >= 0\r\n      };\r\n  };\r\n  Axis.prototype.getXAxisLabelPosition = function getXAxisLabelPosition() {\r\n      return this.getLabelPosition('x', this.owner.config.axis_rotated ? 'inner-top' : 'inner-right');\r\n  };\r\n  Axis.prototype.getYAxisLabelPosition = function getYAxisLabelPosition() {\r\n      return this.getLabelPosition('y', this.owner.config.axis_rotated ? 'inner-right' : 'inner-top');\r\n  };\r\n  Axis.prototype.getY2AxisLabelPosition = function getY2AxisLabelPosition() {\r\n      return this.getLabelPosition('y2', this.owner.config.axis_rotated ? 'inner-right' : 'inner-top');\r\n  };\r\n  Axis.prototype.getLabelPositionById = function getLabelPositionById(id) {\r\n      return id === 'y2'\r\n          ? this.getY2AxisLabelPosition()\r\n          : id === 'y'\r\n              ? this.getYAxisLabelPosition()\r\n              : this.getXAxisLabelPosition();\r\n  };\r\n  Axis.prototype.textForXAxisLabel = function textForXAxisLabel() {\r\n      return this.getLabelText('x');\r\n  };\r\n  Axis.prototype.textForYAxisLabel = function textForYAxisLabel() {\r\n      return this.getLabelText('y');\r\n  };\r\n  Axis.prototype.textForY2AxisLabel = function textForY2AxisLabel() {\r\n      return this.getLabelText('y2');\r\n  };\r\n  Axis.prototype.xForAxisLabel = function xForAxisLabel(forHorizontal, position) {\r\n      var $$ = this.owner;\r\n      if (forHorizontal) {\r\n          return position.isLeft ? 0 : position.isCenter ? $$.width / 2 : $$.width;\r\n      }\r\n      else {\r\n          return position.isBottom\r\n              ? -$$.height\r\n              : position.isMiddle\r\n                  ? -$$.height / 2\r\n                  : 0;\r\n      }\r\n  };\r\n  Axis.prototype.dxForAxisLabel = function dxForAxisLabel(forHorizontal, position) {\r\n      if (forHorizontal) {\r\n          return position.isLeft ? '0.5em' : position.isRight ? '-0.5em' : '0';\r\n      }\r\n      else {\r\n          return position.isTop ? '-0.5em' : position.isBottom ? '0.5em' : '0';\r\n      }\r\n  };\r\n  Axis.prototype.textAnchorForAxisLabel = function textAnchorForAxisLabel(forHorizontal, position) {\r\n      if (forHorizontal) {\r\n          return position.isLeft ? 'start' : position.isCenter ? 'middle' : 'end';\r\n      }\r\n      else {\r\n          return position.isBottom ? 'start' : position.isMiddle ? 'middle' : 'end';\r\n      }\r\n  };\r\n  Axis.prototype.xForXAxisLabel = function xForXAxisLabel() {\r\n      return this.xForAxisLabel(!this.owner.config.axis_rotated, this.getXAxisLabelPosition());\r\n  };\r\n  Axis.prototype.xForYAxisLabel = function xForYAxisLabel() {\r\n      return this.xForAxisLabel(this.owner.config.axis_rotated, this.getYAxisLabelPosition());\r\n  };\r\n  Axis.prototype.xForY2AxisLabel = function xForY2AxisLabel() {\r\n      return this.xForAxisLabel(this.owner.config.axis_rotated, this.getY2AxisLabelPosition());\r\n  };\r\n  Axis.prototype.dxForXAxisLabel = function dxForXAxisLabel() {\r\n      return this.dxForAxisLabel(!this.owner.config.axis_rotated, this.getXAxisLabelPosition());\r\n  };\r\n  Axis.prototype.dxForYAxisLabel = function dxForYAxisLabel() {\r\n      return this.dxForAxisLabel(this.owner.config.axis_rotated, this.getYAxisLabelPosition());\r\n  };\r\n  Axis.prototype.dxForY2AxisLabel = function dxForY2AxisLabel() {\r\n      return this.dxForAxisLabel(this.owner.config.axis_rotated, this.getY2AxisLabelPosition());\r\n  };\r\n  Axis.prototype.dyForXAxisLabel = function dyForXAxisLabel() {\r\n      var $$ = this.owner, config = $$.config, position = this.getXAxisLabelPosition();\r\n      if (config.axis_rotated) {\r\n          return position.isInner\r\n              ? '1.2em'\r\n              : -25 - ($$.config.axis_x_inner ? 0 : this.getMaxTickWidth('x'));\r\n      }\r\n      else {\r\n          return position.isInner ? '-0.5em' : $$.getHorizontalAxisHeight('x') - 10;\r\n      }\r\n  };\r\n  Axis.prototype.dyForYAxisLabel = function dyForYAxisLabel() {\r\n      var $$ = this.owner, position = this.getYAxisLabelPosition();\r\n      if ($$.config.axis_rotated) {\r\n          return position.isInner ? '-0.5em' : '3em';\r\n      }\r\n      else {\r\n          return position.isInner\r\n              ? '1.2em'\r\n              : -10 - ($$.config.axis_y_inner ? 0 : this.getMaxTickWidth('y') + 10);\r\n      }\r\n  };\r\n  Axis.prototype.dyForY2AxisLabel = function dyForY2AxisLabel() {\r\n      var $$ = this.owner, position = this.getY2AxisLabelPosition();\r\n      if ($$.config.axis_rotated) {\r\n          return position.isInner ? '1.2em' : '-2.2em';\r\n      }\r\n      else {\r\n          return position.isInner\r\n              ? '-0.5em'\r\n              : 15 + ($$.config.axis_y2_inner ? 0 : this.getMaxTickWidth('y2') + 15);\r\n      }\r\n  };\r\n  Axis.prototype.textAnchorForXAxisLabel = function textAnchorForXAxisLabel() {\r\n      var $$ = this.owner;\r\n      return this.textAnchorForAxisLabel(!$$.config.axis_rotated, this.getXAxisLabelPosition());\r\n  };\r\n  Axis.prototype.textAnchorForYAxisLabel = function textAnchorForYAxisLabel() {\r\n      var $$ = this.owner;\r\n      return this.textAnchorForAxisLabel($$.config.axis_rotated, this.getYAxisLabelPosition());\r\n  };\r\n  Axis.prototype.textAnchorForY2AxisLabel = function textAnchorForY2AxisLabel() {\r\n      var $$ = this.owner;\r\n      return this.textAnchorForAxisLabel($$.config.axis_rotated, this.getY2AxisLabelPosition());\r\n  };\r\n  Axis.prototype.getMaxTickWidth = function getMaxTickWidth(id, withoutRecompute) {\r\n      var $$ = this.owner, maxWidth = 0, targetsToShow, scale, axis, dummy, svg;\r\n      if (withoutRecompute && $$.currentMaxTickWidths[id]) {\r\n          return $$.currentMaxTickWidths[id];\r\n      }\r\n      if ($$.svg) {\r\n          targetsToShow = $$.filterTargetsToShow($$.data.targets);\r\n          if (id === 'y') {\r\n              scale = $$.y.copy().domain($$.getYDomain(targetsToShow, 'y'));\r\n              axis = this.getYAxis(id, scale, $$.yOrient, $$.yAxisTickValues, false, true, true);\r\n          }\r\n          else if (id === 'y2') {\r\n              scale = $$.y2.copy().domain($$.getYDomain(targetsToShow, 'y2'));\r\n              axis = this.getYAxis(id, scale, $$.y2Orient, $$.y2AxisTickValues, false, true, true);\r\n          }\r\n          else {\r\n              scale = $$.x.copy().domain($$.getXDomain(targetsToShow));\r\n              axis = this.getXAxis(scale, $$.xOrient, $$.xAxisTickFormat, $$.xAxisTickValues, false, true, true);\r\n              this.updateXAxisTickValues(targetsToShow, axis);\r\n          }\r\n          dummy = $$.d3\r\n              .select('body')\r\n              .append('div')\r\n              .classed('c3', true);\r\n          (svg = dummy\r\n              .append('svg')\r\n              .style('visibility', 'hidden')\r\n              .style('position', 'fixed')\r\n              .style('top', 0)\r\n              .style('left', 0)),\r\n              svg\r\n                  .append('g')\r\n                  .call(axis)\r\n                  .each(function () {\r\n                  $$.d3\r\n                      .select(this)\r\n                      .selectAll('text')\r\n                      .each(function () {\r\n                      var box = getBBox(this);\r\n                      if (maxWidth < box.width) {\r\n                          maxWidth = box.width;\r\n                      }\r\n                  });\r\n                  dummy.remove();\r\n              });\r\n      }\r\n      $$.currentMaxTickWidths[id] =\r\n          maxWidth <= 0 ? $$.currentMaxTickWidths[id] : maxWidth;\r\n      return $$.currentMaxTickWidths[id];\r\n  };\r\n  Axis.prototype.updateLabels = function updateLabels(withTransition) {\r\n      var $$ = this.owner;\r\n      var axisXLabel = $$.main.select('.' + CLASS.axisX + ' .' + CLASS.axisXLabel), axisYLabel = $$.main.select('.' + CLASS.axisY + ' .' + CLASS.axisYLabel), axisY2Label = $$.main.select('.' + CLASS.axisY2 + ' .' + CLASS.axisY2Label);\r\n      (withTransition ? axisXLabel.transition() : axisXLabel)\r\n          .attr('x', this.xForXAxisLabel.bind(this))\r\n          .attr('dx', this.dxForXAxisLabel.bind(this))\r\n          .attr('dy', this.dyForXAxisLabel.bind(this))\r\n          .text(this.textForXAxisLabel.bind(this));\r\n      (withTransition ? axisYLabel.transition() : axisYLabel)\r\n          .attr('x', this.xForYAxisLabel.bind(this))\r\n          .attr('dx', this.dxForYAxisLabel.bind(this))\r\n          .attr('dy', this.dyForYAxisLabel.bind(this))\r\n          .text(this.textForYAxisLabel.bind(this));\r\n      (withTransition ? axisY2Label.transition() : axisY2Label)\r\n          .attr('x', this.xForY2AxisLabel.bind(this))\r\n          .attr('dx', this.dxForY2AxisLabel.bind(this))\r\n          .attr('dy', this.dyForY2AxisLabel.bind(this))\r\n          .text(this.textForY2AxisLabel.bind(this));\r\n  };\r\n  Axis.prototype.getPadding = function getPadding(padding, key, defaultValue, domainLength) {\r\n      var p = typeof padding === 'number' ? padding : padding[key];\r\n      if (!isValue(p)) {\r\n          return defaultValue;\r\n      }\r\n      if (padding.unit === 'ratio') {\r\n          return padding[key] * domainLength;\r\n      }\r\n      // assume padding is pixels if unit is not specified\r\n      return this.convertPixelsToAxisPadding(p, domainLength);\r\n  };\r\n  Axis.prototype.convertPixelsToAxisPadding = function convertPixelsToAxisPadding(pixels, domainLength) {\r\n      var $$ = this.owner, length = $$.config.axis_rotated ? $$.width : $$.height;\r\n      return domainLength * (pixels / length);\r\n  };\r\n  Axis.prototype.generateTickValues = function generateTickValues(values, tickCount, forTimeSeries) {\r\n      var tickValues = values, targetCount, start, end, count, interval, i, tickValue;\r\n      if (tickCount) {\r\n          targetCount = isFunction(tickCount) ? tickCount() : tickCount;\r\n          // compute ticks according to tickCount\r\n          if (targetCount === 1) {\r\n              tickValues = [values[0]];\r\n          }\r\n          else if (targetCount === 2) {\r\n              tickValues = [values[0], values[values.length - 1]];\r\n          }\r\n          else if (targetCount > 2) {\r\n              count = targetCount - 2;\r\n              start = values[0];\r\n              end = values[values.length - 1];\r\n              interval = (end - start) / (count + 1);\r\n              // re-construct unique values\r\n              tickValues = [start];\r\n              for (i = 0; i < count; i++) {\r\n                  tickValue = +start + interval * (i + 1);\r\n                  tickValues.push(forTimeSeries ? new Date(tickValue) : tickValue);\r\n              }\r\n              tickValues.push(end);\r\n          }\r\n      }\r\n      if (!forTimeSeries) {\r\n          tickValues = tickValues.sort(function (a, b) {\r\n              return a - b;\r\n          });\r\n      }\r\n      return tickValues;\r\n  };\r\n  Axis.prototype.generateTransitions = function generateTransitions(duration) {\r\n      var $$ = this.owner, axes = $$.axes;\r\n      return {\r\n          axisX: duration ? axes.x.transition().duration(duration) : axes.x,\r\n          axisY: duration ? axes.y.transition().duration(duration) : axes.y,\r\n          axisY2: duration ? axes.y2.transition().duration(duration) : axes.y2,\r\n          axisSubX: duration ? axes.subx.transition().duration(duration) : axes.subx\r\n      };\r\n  };\r\n  Axis.prototype.redraw = function redraw(duration, isHidden) {\r\n      var $$ = this.owner, transition = duration ? $$.d3.transition().duration(duration) : null;\r\n      $$.axes.x.style('opacity', isHidden ? 0 : 1).call($$.xAxis, transition);\r\n      $$.axes.y.style('opacity', isHidden ? 0 : 1).call($$.yAxis, transition);\r\n      $$.axes.y2.style('opacity', isHidden ? 0 : 1).call($$.y2Axis, transition);\r\n      $$.axes.subx.style('opacity', isHidden ? 0 : 1).call($$.subXAxis, transition);\r\n  };\n\n  var c3 = {\r\n      version: '0.7.20',\r\n      chart: {\r\n          fn: Chart.prototype,\r\n          internal: {\r\n              fn: ChartInternal.prototype,\r\n              axis: {\r\n                  fn: AxisClass.prototype,\r\n                  internal: {\r\n                      fn: AxisInternal.prototype\r\n                  }\r\n              }\r\n          }\r\n      },\r\n      generate: function (config) {\r\n          return new Chart(config);\r\n      }\r\n  };\r\n  ChartInternal.prototype.beforeInit = function () {\r\n      // can do something\r\n  };\r\n  ChartInternal.prototype.afterInit = function () {\r\n      // can do something\r\n  };\r\n  ChartInternal.prototype.init = function () {\r\n      var $$ = this, config = $$.config;\r\n      $$.initParams();\r\n      if (config.data_url) {\r\n          $$.convertUrlToData(config.data_url, config.data_mimeType, config.data_headers, config.data_keys, $$.initWithData);\r\n      }\r\n      else if (config.data_json) {\r\n          $$.initWithData($$.convertJsonToData(config.data_json, config.data_keys));\r\n      }\r\n      else if (config.data_rows) {\r\n          $$.initWithData($$.convertRowsToData(config.data_rows));\r\n      }\r\n      else if (config.data_columns) {\r\n          $$.initWithData($$.convertColumnsToData(config.data_columns));\r\n      }\r\n      else {\r\n          throw Error('url or json or rows or columns is required.');\r\n      }\r\n  };\r\n  ChartInternal.prototype.initParams = function () {\r\n      var $$ = this, d3 = $$.d3, config = $$.config;\r\n      // MEMO: clipId needs to be unique because it conflicts when multiple charts exist\r\n      $$.clipId = 'c3-' + new Date().valueOf() + '-clip';\r\n      $$.clipIdForXAxis = $$.clipId + '-xaxis';\r\n      $$.clipIdForYAxis = $$.clipId + '-yaxis';\r\n      $$.clipIdForGrid = $$.clipId + '-grid';\r\n      $$.clipIdForSubchart = $$.clipId + '-subchart';\r\n      $$.clipPath = $$.getClipPath($$.clipId);\r\n      $$.clipPathForXAxis = $$.getClipPath($$.clipIdForXAxis);\r\n      $$.clipPathForYAxis = $$.getClipPath($$.clipIdForYAxis);\r\n      $$.clipPathForGrid = $$.getClipPath($$.clipIdForGrid);\r\n      $$.clipPathForSubchart = $$.getClipPath($$.clipIdForSubchart);\r\n      $$.dragStart = null;\r\n      $$.dragging = false;\r\n      $$.flowing = false;\r\n      $$.cancelClick = false;\r\n      $$.mouseover = undefined;\r\n      $$.transiting = false;\r\n      $$.color = $$.generateColor();\r\n      $$.levelColor = $$.generateLevelColor();\r\n      $$.dataTimeParse = (config.data_xLocaltime ? d3.timeParse : d3.utcParse)($$.config.data_xFormat);\r\n      $$.axisTimeFormat = config.axis_x_localtime ? d3.timeFormat : d3.utcFormat;\r\n      $$.defaultAxisTimeFormat = function (date) {\r\n          if (date.getMilliseconds()) {\r\n              return d3.timeFormat('.%L')(date);\r\n          }\r\n          if (date.getSeconds()) {\r\n              return d3.timeFormat(':%S')(date);\r\n          }\r\n          if (date.getMinutes()) {\r\n              return d3.timeFormat('%I:%M')(date);\r\n          }\r\n          if (date.getHours()) {\r\n              return d3.timeFormat('%I %p')(date);\r\n          }\r\n          if (date.getDay() && date.getDate() !== 1) {\r\n              return d3.timeFormat('%-m/%-d')(date);\r\n          }\r\n          if (date.getDate() !== 1) {\r\n              return d3.timeFormat('%-m/%-d')(date);\r\n          }\r\n          if (date.getMonth()) {\r\n              return d3.timeFormat('%-m/%-d')(date);\r\n          }\r\n          return d3.timeFormat('%Y/%-m/%-d')(date);\r\n      };\r\n      $$.hiddenTargetIds = [];\r\n      $$.hiddenLegendIds = [];\r\n      $$.focusedTargetIds = [];\r\n      $$.defocusedTargetIds = [];\r\n      $$.xOrient = config.axis_rotated\r\n          ? config.axis_x_inner\r\n              ? 'right'\r\n              : 'left'\r\n          : config.axis_x_inner\r\n              ? 'top'\r\n              : 'bottom';\r\n      $$.yOrient = config.axis_rotated\r\n          ? config.axis_y_inner\r\n              ? 'top'\r\n              : 'bottom'\r\n          : config.axis_y_inner\r\n              ? 'right'\r\n              : 'left';\r\n      $$.y2Orient = config.axis_rotated\r\n          ? config.axis_y2_inner\r\n              ? 'bottom'\r\n              : 'top'\r\n          : config.axis_y2_inner\r\n              ? 'left'\r\n              : 'right';\r\n      $$.subXOrient = config.axis_rotated ? 'left' : 'bottom';\r\n      $$.isLegendRight = config.legend_position === 'right';\r\n      $$.isLegendInset = config.legend_position === 'inset';\r\n      $$.isLegendTop =\r\n          config.legend_inset_anchor === 'top-left' ||\r\n              config.legend_inset_anchor === 'top-right';\r\n      $$.isLegendLeft =\r\n          config.legend_inset_anchor === 'top-left' ||\r\n              config.legend_inset_anchor === 'bottom-left';\r\n      $$.legendStep = 0;\r\n      $$.legendItemWidth = 0;\r\n      $$.legendItemHeight = 0;\r\n      $$.currentMaxTickWidths = {\r\n          x: 0,\r\n          y: 0,\r\n          y2: 0\r\n      };\r\n      $$.rotated_padding_left = 30;\r\n      $$.rotated_padding_right = config.axis_rotated && !config.axis_x_show ? 0 : 30;\r\n      $$.rotated_padding_top = 5;\r\n      $$.withoutFadeIn = {};\r\n      $$.intervalForObserveInserted = undefined;\r\n      $$.axes.subx = d3.selectAll([]); // needs when excluding subchart.js\r\n  };\r\n  ChartInternal.prototype.initChartElements = function () {\r\n      if (this.initBar) {\r\n          this.initBar();\r\n      }\r\n      if (this.initLine) {\r\n          this.initLine();\r\n      }\r\n      if (this.initArc) {\r\n          this.initArc();\r\n      }\r\n      if (this.initGauge) {\r\n          this.initGauge();\r\n      }\r\n      if (this.initText) {\r\n          this.initText();\r\n      }\r\n  };\r\n  ChartInternal.prototype.initWithData = function (data) {\r\n      var $$ = this, d3 = $$.d3, config = $$.config;\r\n      var defs, main, binding = true;\r\n      $$.axis = new AxisClass($$);\r\n      if (!config.bindto) {\r\n          $$.selectChart = d3.selectAll([]);\r\n      }\r\n      else if (typeof config.bindto.node === 'function') {\r\n          $$.selectChart = config.bindto;\r\n      }\r\n      else {\r\n          $$.selectChart = d3.select(config.bindto);\r\n      }\r\n      if ($$.selectChart.empty()) {\r\n          $$.selectChart = d3\r\n              .select(document.createElement('div'))\r\n              .style('opacity', 0);\r\n          $$.observeInserted($$.selectChart);\r\n          binding = false;\r\n      }\r\n      $$.selectChart.html('').classed('c3', true);\r\n      // Init data as targets\r\n      $$.data.xs = {};\r\n      $$.data.targets = $$.convertDataToTargets(data);\r\n      if (config.data_filter) {\r\n          $$.data.targets = $$.data.targets.filter(config.data_filter);\r\n      }\r\n      // Set targets to hide if needed\r\n      if (config.data_hide) {\r\n          $$.addHiddenTargetIds(config.data_hide === true\r\n              ? $$.mapToIds($$.data.targets)\r\n              : config.data_hide);\r\n      }\r\n      if (config.legend_hide) {\r\n          $$.addHiddenLegendIds(config.legend_hide === true\r\n              ? $$.mapToIds($$.data.targets)\r\n              : config.legend_hide);\r\n      }\r\n      if ($$.isStanfordGraphType()) {\r\n          $$.initStanfordData();\r\n      }\r\n      // Init sizes and scales\r\n      $$.updateSizes();\r\n      $$.updateScales();\r\n      // Set domains for each scale\r\n      $$.x.domain(d3.extent($$.getXDomain($$.data.targets)));\r\n      $$.y.domain($$.getYDomain($$.data.targets, 'y'));\r\n      $$.y2.domain($$.getYDomain($$.data.targets, 'y2'));\r\n      $$.subX.domain($$.x.domain());\r\n      $$.subY.domain($$.y.domain());\r\n      $$.subY2.domain($$.y2.domain());\r\n      // Save original x domain for zoom update\r\n      $$.orgXDomain = $$.x.domain();\r\n      /*-- Basic Elements --*/\r\n      // Define svgs\r\n      $$.svg = $$.selectChart\r\n          .append('svg')\r\n          .style('overflow', 'hidden')\r\n          .on('mouseenter', function () {\r\n          return config.onmouseover.call($$);\r\n      })\r\n          .on('mouseleave', function () {\r\n          return config.onmouseout.call($$);\r\n      });\r\n      if ($$.config.svg_classname) {\r\n          $$.svg.attr('class', $$.config.svg_classname);\r\n      }\r\n      // Define defs\r\n      defs = $$.svg.append('defs');\r\n      $$.clipChart = $$.appendClip(defs, $$.clipId);\r\n      $$.clipXAxis = $$.appendClip(defs, $$.clipIdForXAxis);\r\n      $$.clipYAxis = $$.appendClip(defs, $$.clipIdForYAxis);\r\n      $$.clipGrid = $$.appendClip(defs, $$.clipIdForGrid);\r\n      $$.clipSubchart = $$.appendClip(defs, $$.clipIdForSubchart);\r\n      $$.updateSvgSize();\r\n      // Define regions\r\n      main = $$.main = $$.svg.append('g').attr('transform', $$.getTranslate('main'));\r\n      if ($$.initPie) {\r\n          $$.initPie();\r\n      }\r\n      if ($$.initDragZoom) {\r\n          $$.initDragZoom();\r\n      }\r\n      if (config.subchart_show && $$.initSubchart) {\r\n          $$.initSubchart();\r\n      }\r\n      if ($$.initTooltip) {\r\n          $$.initTooltip();\r\n      }\r\n      if ($$.initLegend) {\r\n          $$.initLegend();\r\n      }\r\n      if ($$.initTitle) {\r\n          $$.initTitle();\r\n      }\r\n      if ($$.initZoom) {\r\n          $$.initZoom();\r\n      }\r\n      if ($$.isStanfordGraphType()) {\r\n          $$.drawColorScale();\r\n      }\r\n      // Update selection based on size and scale\r\n      // TODO: currently this must be called after initLegend because of update of sizes, but it should be done in initSubchart.\r\n      if (config.subchart_show && $$.initSubchartBrush) {\r\n          $$.initSubchartBrush();\r\n      }\r\n      /*-- Main Region --*/\r\n      // text when empty\r\n      main\r\n          .append('text')\r\n          .attr('class', CLASS.text + ' ' + CLASS.empty)\r\n          .attr('text-anchor', 'middle') // horizontal centering of text at x position in all browsers.\r\n          .attr('dominant-baseline', 'middle'); // vertical centering of text at y position in all browsers, except IE.\r\n      // Regions\r\n      $$.initRegion();\r\n      // Grids\r\n      $$.initGrid();\r\n      // Define g for chart area\r\n      main\r\n          .append('g')\r\n          .attr('clip-path', $$.clipPath)\r\n          .attr('class', CLASS.chart);\r\n      // Grid lines\r\n      if (config.grid_lines_front) {\r\n          $$.initGridLines();\r\n      }\r\n      $$.initStanfordElements();\r\n      // Cover whole with rects for events\r\n      $$.initEventRect();\r\n      // Define g for chart\r\n      $$.initChartElements();\r\n      // Add Axis\r\n      $$.axis.init();\r\n      // Set targets\r\n      $$.updateTargets($$.data.targets);\r\n      // Set default extent if defined\r\n      if (config.axis_x_selection) {\r\n          $$.brush.selectionAsValue($$.getDefaultSelection());\r\n      }\r\n      // Draw with targets\r\n      if (binding) {\r\n          $$.updateDimension();\r\n          $$.config.oninit.call($$);\r\n          $$.redraw({\r\n              withTransition: false,\r\n              withTransform: true,\r\n              withUpdateXDomain: true,\r\n              withUpdateOrgXDomain: true,\r\n              withTransitionForAxis: false\r\n          });\r\n      }\r\n      // Bind to resize event\r\n      $$.bindResize();\r\n      // Bind to window focus event\r\n      $$.bindWindowFocus();\r\n      // export element of the chart\r\n      $$.api.element = $$.selectChart.node();\r\n  };\r\n  ChartInternal.prototype.smoothLines = function (el, type) {\r\n      var $$ = this;\r\n      if (type === 'grid') {\r\n          el.each(function () {\r\n              var g = $$.d3.select(this), x1 = g.attr('x1'), x2 = g.attr('x2'), y1 = g.attr('y1'), y2 = g.attr('y2');\r\n              g.attr({\r\n                  x1: Math.ceil(x1),\r\n                  x2: Math.ceil(x2),\r\n                  y1: Math.ceil(y1),\r\n                  y2: Math.ceil(y2)\r\n              });\r\n          });\r\n      }\r\n  };\r\n  ChartInternal.prototype.updateSizes = function () {\r\n      var $$ = this, config = $$.config;\r\n      var legendHeight = $$.legend ? $$.getLegendHeight() : 0, legendWidth = $$.legend ? $$.getLegendWidth() : 0, legendHeightForBottom = $$.isLegendRight || $$.isLegendInset ? 0 : legendHeight, hasArc = $$.hasArcType(), xAxisHeight = config.axis_rotated || hasArc ? 0 : $$.getHorizontalAxisHeight('x'), subchartXAxisHeight = config.axis_rotated || hasArc ? 0 : $$.getHorizontalAxisHeight('x', true), subchartHeight = config.subchart_show && !hasArc\r\n          ? config.subchart_size_height + subchartXAxisHeight\r\n          : 0;\r\n      $$.currentWidth = $$.getCurrentWidth();\r\n      $$.currentHeight = $$.getCurrentHeight();\r\n      // for main\r\n      $$.margin = config.axis_rotated\r\n          ? {\r\n              top: $$.getHorizontalAxisHeight('y2') + $$.getCurrentPaddingTop(),\r\n              right: hasArc ? 0 : $$.getCurrentPaddingRight(),\r\n              bottom: $$.getHorizontalAxisHeight('y') +\r\n                  legendHeightForBottom +\r\n                  $$.getCurrentPaddingBottom(),\r\n              left: subchartHeight + (hasArc ? 0 : $$.getCurrentPaddingLeft())\r\n          }\r\n          : {\r\n              top: 4 + $$.getCurrentPaddingTop(),\r\n              right: hasArc ? 0 : $$.getCurrentPaddingRight(),\r\n              bottom: xAxisHeight +\r\n                  subchartHeight +\r\n                  legendHeightForBottom +\r\n                  $$.getCurrentPaddingBottom(),\r\n              left: hasArc ? 0 : $$.getCurrentPaddingLeft()\r\n          };\r\n      // for subchart\r\n      $$.margin2 = config.axis_rotated\r\n          ? {\r\n              top: $$.margin.top,\r\n              right: NaN,\r\n              bottom: 20 + legendHeightForBottom,\r\n              left: $$.rotated_padding_left\r\n          }\r\n          : {\r\n              top: $$.currentHeight - subchartHeight - legendHeightForBottom,\r\n              right: NaN,\r\n              bottom: subchartXAxisHeight + legendHeightForBottom,\r\n              left: $$.margin.left\r\n          };\r\n      // for legend\r\n      $$.margin3 = {\r\n          top: 0,\r\n          right: NaN,\r\n          bottom: 0,\r\n          left: 0\r\n      };\r\n      if ($$.updateSizeForLegend) {\r\n          $$.updateSizeForLegend(legendHeight, legendWidth);\r\n      }\r\n      $$.width = $$.currentWidth - $$.margin.left - $$.margin.right;\r\n      $$.height = $$.currentHeight - $$.margin.top - $$.margin.bottom;\r\n      if ($$.width < 0) {\r\n          $$.width = 0;\r\n      }\r\n      if ($$.height < 0) {\r\n          $$.height = 0;\r\n      }\r\n      $$.width2 = config.axis_rotated\r\n          ? $$.margin.left - $$.rotated_padding_left - $$.rotated_padding_right\r\n          : $$.width;\r\n      $$.height2 = config.axis_rotated\r\n          ? $$.height\r\n          : $$.currentHeight - $$.margin2.top - $$.margin2.bottom;\r\n      if ($$.width2 < 0) {\r\n          $$.width2 = 0;\r\n      }\r\n      if ($$.height2 < 0) {\r\n          $$.height2 = 0;\r\n      }\r\n      // for arc\r\n      $$.arcWidth = $$.width - ($$.isLegendRight ? legendWidth + 10 : 0);\r\n      $$.arcHeight = $$.height - ($$.isLegendRight ? 0 : 10);\r\n      if ($$.hasType('gauge') && !config.gauge_fullCircle) {\r\n          $$.arcHeight += $$.height - $$.getGaugeLabelHeight();\r\n      }\r\n      if ($$.updateRadius) {\r\n          $$.updateRadius();\r\n      }\r\n      if ($$.isLegendRight && hasArc) {\r\n          $$.margin3.left = $$.arcWidth / 2 + $$.radiusExpanded * 1.1;\r\n      }\r\n  };\r\n  ChartInternal.prototype.updateTargets = function (targets) {\r\n      var $$ = this, config = $$.config;\r\n      /*-- Main --*/\r\n      //-- Text --//\r\n      $$.updateTargetsForText(targets);\r\n      //-- Bar --//\r\n      $$.updateTargetsForBar(targets);\r\n      //-- Line --//\r\n      $$.updateTargetsForLine(targets);\r\n      //-- Arc --//\r\n      if ($$.hasArcType() && $$.updateTargetsForArc) {\r\n          $$.updateTargetsForArc(targets);\r\n      }\r\n      /*-- Sub --*/\r\n      if (config.subchart_show && $$.updateTargetsForSubchart) {\r\n          $$.updateTargetsForSubchart(targets);\r\n      }\r\n      // Fade-in each chart\r\n      $$.showTargets();\r\n  };\r\n  ChartInternal.prototype.showTargets = function () {\r\n      var $$ = this;\r\n      $$.svg\r\n          .selectAll('.' + CLASS.target)\r\n          .filter(function (d) {\r\n          return $$.isTargetToShow(d.id);\r\n      })\r\n          .transition()\r\n          .duration($$.config.transition_duration)\r\n          .style('opacity', 1);\r\n  };\r\n  ChartInternal.prototype.redraw = function (options, transitions) {\r\n      var $$ = this, main = $$.main, d3 = $$.d3, config = $$.config;\r\n      var areaIndices = $$.getShapeIndices($$.isAreaType), barIndices = $$.getShapeIndices($$.isBarType), lineIndices = $$.getShapeIndices($$.isLineType);\r\n      var withY, withSubchart, withTransition, withTransitionForExit, withTransitionForAxis, withTransform, withUpdateXDomain, withUpdateOrgXDomain, withTrimXDomain, withLegend, withEventRect, withDimension, withUpdateXAxis;\r\n      var hideAxis = $$.hasArcType();\r\n      var drawArea, drawBar, drawLine, xForText, yForText;\r\n      var duration, durationForExit, durationForAxis;\r\n      var transitionsToWait, waitForDraw, flow, transition;\r\n      var targetsToShow = $$.filterTargetsToShow($$.data.targets), tickValues, i, intervalForCulling, xDomainForZoom;\r\n      var xv = $$.xv.bind($$), cx, cy;\r\n      options = options || {};\r\n      withY = getOption(options, 'withY', true);\r\n      withSubchart = getOption(options, 'withSubchart', true);\r\n      withTransition = getOption(options, 'withTransition', true);\r\n      withTransform = getOption(options, 'withTransform', false);\r\n      withUpdateXDomain = getOption(options, 'withUpdateXDomain', false);\r\n      withUpdateOrgXDomain = getOption(options, 'withUpdateOrgXDomain', false);\r\n      withTrimXDomain = getOption(options, 'withTrimXDomain', true);\r\n      withUpdateXAxis = getOption(options, 'withUpdateXAxis', withUpdateXDomain);\r\n      withLegend = getOption(options, 'withLegend', false);\r\n      withEventRect = getOption(options, 'withEventRect', true);\r\n      withDimension = getOption(options, 'withDimension', true);\r\n      withTransitionForExit = getOption(options, 'withTransitionForExit', withTransition);\r\n      withTransitionForAxis = getOption(options, 'withTransitionForAxis', withTransition);\r\n      duration = withTransition ? config.transition_duration : 0;\r\n      durationForExit = withTransitionForExit ? duration : 0;\r\n      durationForAxis = withTransitionForAxis ? duration : 0;\r\n      transitions = transitions || $$.axis.generateTransitions(durationForAxis);\r\n      // update legend and transform each g\r\n      if (withLegend && config.legend_show) {\r\n          $$.updateLegend($$.mapToIds($$.data.targets), options, transitions);\r\n      }\r\n      else if (withDimension) {\r\n          // need to update dimension (e.g. axis.y.tick.values) because y tick values should change\r\n          // no need to update axis in it because they will be updated in redraw()\r\n          $$.updateDimension(true);\r\n      }\r\n      // MEMO: needed for grids calculation\r\n      if ($$.isCategorized() && targetsToShow.length === 0) {\r\n          $$.x.domain([0, $$.axes.x.selectAll('.tick').size()]);\r\n      }\r\n      if (targetsToShow.length) {\r\n          $$.updateXDomain(targetsToShow, withUpdateXDomain, withUpdateOrgXDomain, withTrimXDomain);\r\n          if (!config.axis_x_tick_values) {\r\n              tickValues = $$.axis.updateXAxisTickValues(targetsToShow);\r\n          }\r\n      }\r\n      else {\r\n          $$.xAxis.tickValues([]);\r\n          $$.subXAxis.tickValues([]);\r\n      }\r\n      if (config.zoom_rescale && !options.flow) {\r\n          xDomainForZoom = $$.x.orgDomain();\r\n      }\r\n      $$.y.domain($$.getYDomain(targetsToShow, 'y', xDomainForZoom));\r\n      $$.y2.domain($$.getYDomain(targetsToShow, 'y2', xDomainForZoom));\r\n      if (!config.axis_y_tick_values && config.axis_y_tick_count) {\r\n          $$.yAxis.tickValues($$.axis.generateTickValues($$.y.domain(), config.axis_y_tick_count));\r\n      }\r\n      if (!config.axis_y2_tick_values && config.axis_y2_tick_count) {\r\n          $$.y2Axis.tickValues($$.axis.generateTickValues($$.y2.domain(), config.axis_y2_tick_count));\r\n      }\r\n      // axes\r\n      $$.axis.redraw(durationForAxis, hideAxis);\r\n      // Update axis label\r\n      $$.axis.updateLabels(withTransition);\r\n      // show/hide if manual culling needed\r\n      if ((withUpdateXDomain || withUpdateXAxis) && targetsToShow.length) {\r\n          if (config.axis_x_tick_culling && tickValues) {\r\n              for (i = 1; i < tickValues.length; i++) {\r\n                  if (tickValues.length / i < config.axis_x_tick_culling_max) {\r\n                      intervalForCulling = i;\r\n                      break;\r\n                  }\r\n              }\r\n              $$.svg.selectAll('.' + CLASS.axisX + ' .tick text').each(function (e) {\r\n                  var index = tickValues.indexOf(e);\r\n                  if (index >= 0) {\r\n                      d3.select(this).style('display', index % intervalForCulling ? 'none' : 'block');\r\n                  }\r\n              });\r\n          }\r\n          else {\r\n              $$.svg\r\n                  .selectAll('.' + CLASS.axisX + ' .tick text')\r\n                  .style('display', 'block');\r\n          }\r\n      }\r\n      // setup drawer - MEMO: these must be called after axis updated\r\n      drawArea = $$.generateDrawArea\r\n          ? $$.generateDrawArea(areaIndices, false)\r\n          : undefined;\r\n      drawBar = $$.generateDrawBar ? $$.generateDrawBar(barIndices) : undefined;\r\n      drawLine = $$.generateDrawLine\r\n          ? $$.generateDrawLine(lineIndices, false)\r\n          : undefined;\r\n      xForText = $$.generateXYForText(areaIndices, barIndices, lineIndices, true);\r\n      yForText = $$.generateXYForText(areaIndices, barIndices, lineIndices, false);\r\n      // update circleY based on updated parameters\r\n      $$.updateCircleY();\r\n      // generate circle x/y functions depending on updated params\r\n      cx = ($$.config.axis_rotated ? $$.circleY : $$.circleX).bind($$);\r\n      cy = ($$.config.axis_rotated ? $$.circleX : $$.circleY).bind($$);\r\n      // Update sub domain\r\n      if (withY) {\r\n          $$.subY.domain($$.getYDomain(targetsToShow, 'y'));\r\n          $$.subY2.domain($$.getYDomain(targetsToShow, 'y2'));\r\n      }\r\n      // xgrid focus\r\n      $$.updateXgridFocus();\r\n      // Data empty label positioning and text.\r\n      main\r\n          .select('text.' + CLASS.text + '.' + CLASS.empty)\r\n          .attr('x', $$.width / 2)\r\n          .attr('y', $$.height / 2)\r\n          .text(config.data_empty_label_text)\r\n          .transition()\r\n          .style('opacity', targetsToShow.length ? 0 : 1);\r\n      // event rect\r\n      if (withEventRect) {\r\n          $$.redrawEventRect();\r\n      }\r\n      // grid\r\n      $$.updateGrid(duration);\r\n      $$.updateStanfordElements(duration);\r\n      // rect for regions\r\n      $$.updateRegion(duration);\r\n      // bars\r\n      $$.updateBar(durationForExit);\r\n      // lines, areas and circles\r\n      $$.updateLine(durationForExit);\r\n      $$.updateArea(durationForExit);\r\n      $$.updateCircle(cx, cy);\r\n      // text\r\n      if ($$.hasDataLabel()) {\r\n          $$.updateText(xForText, yForText, durationForExit);\r\n      }\r\n      // title\r\n      if ($$.redrawTitle) {\r\n          $$.redrawTitle();\r\n      }\r\n      // arc\r\n      if ($$.redrawArc) {\r\n          $$.redrawArc(duration, durationForExit, withTransform);\r\n      }\r\n      // subchart\r\n      if (config.subchart_show && $$.redrawSubchart) {\r\n          $$.redrawSubchart(withSubchart, transitions, duration, durationForExit, areaIndices, barIndices, lineIndices);\r\n      }\r\n      if ($$.isStanfordGraphType()) {\r\n          $$.drawColorScale();\r\n      }\r\n      // circles for select\r\n      main\r\n          .selectAll('.' + CLASS.selectedCircles)\r\n          .filter($$.isBarType.bind($$))\r\n          .selectAll('circle')\r\n          .remove();\r\n      if (options.flow) {\r\n          flow = $$.generateFlow({\r\n              targets: targetsToShow,\r\n              flow: options.flow,\r\n              duration: options.flow.duration,\r\n              drawBar: drawBar,\r\n              drawLine: drawLine,\r\n              drawArea: drawArea,\r\n              cx: cx,\r\n              cy: cy,\r\n              xv: xv,\r\n              xForText: xForText,\r\n              yForText: yForText\r\n          });\r\n      }\r\n      if (duration && $$.isTabVisible()) {\r\n          // Only use transition if tab visible. See #938.\r\n          // transition should be derived from one transition\r\n          transition = d3.transition().duration(duration);\r\n          transitionsToWait = [];\r\n          [\r\n              $$.redrawBar(drawBar, true, transition),\r\n              $$.redrawLine(drawLine, true, transition),\r\n              $$.redrawArea(drawArea, true, transition),\r\n              $$.redrawCircle(cx, cy, true, transition),\r\n              $$.redrawText(xForText, yForText, options.flow, true, transition),\r\n              $$.redrawRegion(true, transition),\r\n              $$.redrawGrid(true, transition)\r\n          ].forEach(function (transitions) {\r\n              transitions.forEach(function (transition) {\r\n                  transitionsToWait.push(transition);\r\n              });\r\n          });\r\n          // Wait for end of transitions to call flow and onrendered callback\r\n          waitForDraw = $$.generateWait();\r\n          transitionsToWait.forEach(function (t) {\r\n              waitForDraw.add(t);\r\n          });\r\n          waitForDraw(function () {\r\n              if (flow) {\r\n                  flow();\r\n              }\r\n              if (config.onrendered) {\r\n                  config.onrendered.call($$);\r\n              }\r\n          });\r\n      }\r\n      else {\r\n          $$.redrawBar(drawBar);\r\n          $$.redrawLine(drawLine);\r\n          $$.redrawArea(drawArea);\r\n          $$.redrawCircle(cx, cy);\r\n          $$.redrawText(xForText, yForText, options.flow);\r\n          $$.redrawRegion();\r\n          $$.redrawGrid();\r\n          if (flow) {\r\n              flow();\r\n          }\r\n          if (config.onrendered) {\r\n              config.onrendered.call($$);\r\n          }\r\n      }\r\n      // update fadein condition\r\n      $$.mapToIds($$.data.targets).forEach(function (id) {\r\n          $$.withoutFadeIn[id] = true;\r\n      });\r\n  };\r\n  ChartInternal.prototype.updateAndRedraw = function (options) {\r\n      var $$ = this, config = $$.config, transitions;\r\n      options = options || {};\r\n      // same with redraw\r\n      options.withTransition = getOption(options, 'withTransition', true);\r\n      options.withTransform = getOption(options, 'withTransform', false);\r\n      options.withLegend = getOption(options, 'withLegend', false);\r\n      // NOT same with redraw\r\n      options.withUpdateXDomain = getOption(options, 'withUpdateXDomain', true);\r\n      options.withUpdateOrgXDomain = getOption(options, 'withUpdateOrgXDomain', true);\r\n      options.withTransitionForExit = false;\r\n      options.withTransitionForTransform = getOption(options, 'withTransitionForTransform', options.withTransition);\r\n      // MEMO: this needs to be called before updateLegend and it means this ALWAYS needs to be called)\r\n      $$.updateSizes();\r\n      // MEMO: called in updateLegend in redraw if withLegend\r\n      if (!(options.withLegend && config.legend_show)) {\r\n          transitions = $$.axis.generateTransitions(options.withTransitionForAxis ? config.transition_duration : 0);\r\n          // Update scales\r\n          $$.updateScales();\r\n          $$.updateSvgSize();\r\n          // Update g positions\r\n          $$.transformAll(options.withTransitionForTransform, transitions);\r\n      }\r\n      // Draw with new sizes & scales\r\n      $$.redraw(options, transitions);\r\n  };\r\n  ChartInternal.prototype.redrawWithoutRescale = function () {\r\n      this.redraw({\r\n          withY: false,\r\n          withSubchart: false,\r\n          withEventRect: false,\r\n          withTransitionForAxis: false\r\n      });\r\n  };\r\n  ChartInternal.prototype.isTimeSeries = function () {\r\n      return this.config.axis_x_type === 'timeseries';\r\n  };\r\n  ChartInternal.prototype.isCategorized = function () {\r\n      return this.config.axis_x_type.indexOf('categor') >= 0;\r\n  };\r\n  ChartInternal.prototype.isCustomX = function () {\r\n      var $$ = this, config = $$.config;\r\n      return !$$.isTimeSeries() && (config.data_x || notEmpty(config.data_xs));\r\n  };\r\n  ChartInternal.prototype.isTimeSeriesY = function () {\r\n      return this.config.axis_y_type === 'timeseries';\r\n  };\r\n  ChartInternal.prototype.getTranslate = function (target) {\r\n      var $$ = this, config = $$.config, x, y;\r\n      if (target === 'main') {\r\n          x = asHalfPixel($$.margin.left);\r\n          y = asHalfPixel($$.margin.top);\r\n      }\r\n      else if (target === 'context') {\r\n          x = asHalfPixel($$.margin2.left);\r\n          y = asHalfPixel($$.margin2.top);\r\n      }\r\n      else if (target === 'legend') {\r\n          x = $$.margin3.left;\r\n          y = $$.margin3.top;\r\n      }\r\n      else if (target === 'x') {\r\n          x = 0;\r\n          y = config.axis_rotated ? 0 : $$.height;\r\n      }\r\n      else if (target === 'y') {\r\n          x = 0;\r\n          y = config.axis_rotated ? $$.height : 0;\r\n      }\r\n      else if (target === 'y2') {\r\n          x = config.axis_rotated ? 0 : $$.width;\r\n          y = config.axis_rotated ? 1 : 0;\r\n      }\r\n      else if (target === 'subx') {\r\n          x = 0;\r\n          y = config.axis_rotated ? 0 : $$.height2;\r\n      }\r\n      else if (target === 'arc') {\r\n          x = $$.arcWidth / 2;\r\n          y = $$.arcHeight / 2 - ($$.hasType('gauge') ? 6 : 0); // to prevent wrong display of min and max label\r\n      }\r\n      return 'translate(' + x + ',' + y + ')';\r\n  };\r\n  ChartInternal.prototype.initialOpacity = function (d) {\r\n      return d.value !== null && this.withoutFadeIn[d.id] ? 1 : 0;\r\n  };\r\n  ChartInternal.prototype.initialOpacityForCircle = function (d) {\r\n      return d.value !== null && this.withoutFadeIn[d.id]\r\n          ? this.opacityForCircle(d)\r\n          : 0;\r\n  };\r\n  ChartInternal.prototype.opacityForCircle = function (d) {\r\n      var isPointShouldBeShown = isFunction(this.config.point_show)\r\n          ? this.config.point_show(d)\r\n          : this.config.point_show;\r\n      var opacity = isPointShouldBeShown || this.isStanfordType(d) ? 1 : 0;\r\n      return isValue(d.value) ? (this.isScatterType(d) ? 0.5 : opacity) : 0;\r\n  };\r\n  ChartInternal.prototype.opacityForText = function () {\r\n      return this.hasDataLabel() ? 1 : 0;\r\n  };\r\n  ChartInternal.prototype.xx = function (d) {\r\n      return d ? this.x(d.x) : null;\r\n  };\r\n  ChartInternal.prototype.xvCustom = function (d, xyValue) {\r\n      var $$ = this, value = xyValue ? d[xyValue] : d.value;\r\n      if ($$.isTimeSeries()) {\r\n          value = $$.parseDate(d.value);\r\n      }\r\n      else if ($$.isCategorized() && typeof d.value === 'string') {\r\n          value = $$.config.axis_x_categories.indexOf(d.value);\r\n      }\r\n      return Math.ceil($$.x(value));\r\n  };\r\n  ChartInternal.prototype.yvCustom = function (d, xyValue) {\r\n      var $$ = this, yScale = d.axis && d.axis === 'y2' ? $$.y2 : $$.y, value = xyValue ? d[xyValue] : d.value;\r\n      return Math.ceil(yScale(value));\r\n  };\r\n  ChartInternal.prototype.xv = function (d) {\r\n      var $$ = this, value = d.value;\r\n      if ($$.isTimeSeries()) {\r\n          value = $$.parseDate(d.value);\r\n      }\r\n      else if ($$.isCategorized() && typeof d.value === 'string') {\r\n          value = $$.config.axis_x_categories.indexOf(d.value);\r\n      }\r\n      return Math.ceil($$.x(value));\r\n  };\r\n  ChartInternal.prototype.yv = function (d) {\r\n      var $$ = this, yScale = d.axis && d.axis === 'y2' ? $$.y2 : $$.y;\r\n      return Math.ceil(yScale(d.value));\r\n  };\r\n  ChartInternal.prototype.subxx = function (d) {\r\n      return d ? this.subX(d.x) : null;\r\n  };\r\n  ChartInternal.prototype.transformMain = function (withTransition, transitions) {\r\n      var $$ = this, xAxis, yAxis, y2Axis;\r\n      if (transitions && transitions.axisX) {\r\n          xAxis = transitions.axisX;\r\n      }\r\n      else {\r\n          xAxis = $$.main.select('.' + CLASS.axisX);\r\n          if (withTransition) {\r\n              xAxis = xAxis.transition();\r\n          }\r\n      }\r\n      if (transitions && transitions.axisY) {\r\n          yAxis = transitions.axisY;\r\n      }\r\n      else {\r\n          yAxis = $$.main.select('.' + CLASS.axisY);\r\n          if (withTransition) {\r\n              yAxis = yAxis.transition();\r\n          }\r\n      }\r\n      if (transitions && transitions.axisY2) {\r\n          y2Axis = transitions.axisY2;\r\n      }\r\n      else {\r\n          y2Axis = $$.main.select('.' + CLASS.axisY2);\r\n          if (withTransition) {\r\n              y2Axis = y2Axis.transition();\r\n          }\r\n      }\r\n      (withTransition ? $$.main.transition() : $$.main).attr('transform', $$.getTranslate('main'));\r\n      xAxis.attr('transform', $$.getTranslate('x'));\r\n      yAxis.attr('transform', $$.getTranslate('y'));\r\n      y2Axis.attr('transform', $$.getTranslate('y2'));\r\n      $$.main\r\n          .select('.' + CLASS.chartArcs)\r\n          .attr('transform', $$.getTranslate('arc'));\r\n  };\r\n  ChartInternal.prototype.transformAll = function (withTransition, transitions) {\r\n      var $$ = this;\r\n      $$.transformMain(withTransition, transitions);\r\n      if ($$.config.subchart_show) {\r\n          $$.transformContext(withTransition, transitions);\r\n      }\r\n      if ($$.legend) {\r\n          $$.transformLegend(withTransition);\r\n      }\r\n  };\r\n  ChartInternal.prototype.updateSvgSize = function () {\r\n      var $$ = this, brush = $$.svg.select(\".\" + CLASS.brush + \" .overlay\");\r\n      $$.svg.attr('width', $$.currentWidth).attr('height', $$.currentHeight);\r\n      $$.svg\r\n          .selectAll(['#' + $$.clipId, '#' + $$.clipIdForGrid])\r\n          .select('rect')\r\n          .attr('width', $$.width)\r\n          .attr('height', $$.height);\r\n      $$.svg\r\n          .select('#' + $$.clipIdForXAxis)\r\n          .select('rect')\r\n          .attr('x', $$.getXAxisClipX.bind($$))\r\n          .attr('y', $$.getXAxisClipY.bind($$))\r\n          .attr('width', $$.getXAxisClipWidth.bind($$))\r\n          .attr('height', $$.getXAxisClipHeight.bind($$));\r\n      $$.svg\r\n          .select('#' + $$.clipIdForYAxis)\r\n          .select('rect')\r\n          .attr('x', $$.getYAxisClipX.bind($$))\r\n          .attr('y', $$.getYAxisClipY.bind($$))\r\n          .attr('width', $$.getYAxisClipWidth.bind($$))\r\n          .attr('height', $$.getYAxisClipHeight.bind($$));\r\n      $$.svg\r\n          .select('#' + $$.clipIdForSubchart)\r\n          .select('rect')\r\n          .attr('width', $$.width)\r\n          .attr('height', (brush.size() && brush.attr('height')) || 0);\r\n      // MEMO: parent div's height will be bigger than svg when <!DOCTYPE html>\r\n      $$.selectChart.style('max-height', $$.currentHeight + 'px');\r\n  };\r\n  ChartInternal.prototype.updateDimension = function (withoutAxis) {\r\n      var $$ = this;\r\n      if (!withoutAxis) {\r\n          if ($$.config.axis_rotated) {\r\n              $$.axes.x.call($$.xAxis);\r\n              $$.axes.subx.call($$.subXAxis);\r\n          }\r\n          else {\r\n              $$.axes.y.call($$.yAxis);\r\n              $$.axes.y2.call($$.y2Axis);\r\n          }\r\n      }\r\n      $$.updateSizes();\r\n      $$.updateScales();\r\n      $$.updateSvgSize();\r\n      $$.transformAll(false);\r\n  };\r\n  ChartInternal.prototype.observeInserted = function (selection) {\r\n      var $$ = this, observer;\r\n      if (typeof MutationObserver === 'undefined') {\r\n          window.console.error('MutationObserver not defined.');\r\n          return;\r\n      }\r\n      observer = new MutationObserver(function (mutations) {\r\n          mutations.forEach(function (mutation) {\r\n              if (mutation.type === 'childList' && mutation.previousSibling) {\r\n                  observer.disconnect();\r\n                  // need to wait for completion of load because size calculation requires the actual sizes determined after that completion\r\n                  $$.intervalForObserveInserted = window.setInterval(function () {\r\n                      // parentNode will NOT be null when completed\r\n                      if (selection.node().parentNode) {\r\n                          window.clearInterval($$.intervalForObserveInserted);\r\n                          $$.updateDimension();\r\n                          if ($$.brush) {\r\n                              $$.brush.update();\r\n                          }\r\n                          $$.config.oninit.call($$);\r\n                          $$.redraw({\r\n                              withTransform: true,\r\n                              withUpdateXDomain: true,\r\n                              withUpdateOrgXDomain: true,\r\n                              withTransition: false,\r\n                              withTransitionForTransform: false,\r\n                              withLegend: true\r\n                          });\r\n                          selection.transition().style('opacity', 1);\r\n                      }\r\n                  }, 10);\r\n              }\r\n          });\r\n      });\r\n      observer.observe(selection.node(), {\r\n          attributes: true,\r\n          childList: true,\r\n          characterData: true\r\n      });\r\n  };\r\n  /**\r\n   * Binds handlers to the window resize event.\r\n   */\r\n  ChartInternal.prototype.bindResize = function () {\r\n      var $$ = this, config = $$.config;\r\n      $$.resizeFunction = $$.generateResize(); // need to call .remove\r\n      $$.resizeFunction.add(function () {\r\n          config.onresize.call($$);\r\n      });\r\n      if (config.resize_auto) {\r\n          $$.resizeFunction.add(function () {\r\n              if ($$.resizeTimeout !== undefined) {\r\n                  window.clearTimeout($$.resizeTimeout);\r\n              }\r\n              $$.resizeTimeout = window.setTimeout(function () {\r\n                  delete $$.resizeTimeout;\r\n                  $$.updateAndRedraw({\r\n                      withUpdateXDomain: false,\r\n                      withUpdateOrgXDomain: false,\r\n                      withTransition: false,\r\n                      withTransitionForTransform: false,\r\n                      withLegend: true\r\n                  });\r\n                  if ($$.brush) {\r\n                      $$.brush.update();\r\n                  }\r\n              }, 100);\r\n          });\r\n      }\r\n      $$.resizeFunction.add(function () {\r\n          config.onresized.call($$);\r\n      });\r\n      $$.resizeIfElementDisplayed = function () {\r\n          // if element not displayed skip it\r\n          if ($$.api == null || !$$.api.element.offsetParent) {\r\n              return;\r\n          }\r\n          $$.resizeFunction();\r\n      };\r\n      window.addEventListener('resize', $$.resizeIfElementDisplayed, false);\r\n  };\r\n  /**\r\n   * Binds handlers to the window focus event.\r\n   */\r\n  ChartInternal.prototype.bindWindowFocus = function () {\r\n      var _this = this;\r\n      if (this.windowFocusHandler) {\r\n          // The handler is already set\r\n          return;\r\n      }\r\n      this.windowFocusHandler = function () {\r\n          _this.redraw();\r\n      };\r\n      window.addEventListener('focus', this.windowFocusHandler);\r\n  };\r\n  /**\r\n   * Unbinds from the window focus event.\r\n   */\r\n  ChartInternal.prototype.unbindWindowFocus = function () {\r\n      window.removeEventListener('focus', this.windowFocusHandler);\r\n      delete this.windowFocusHandler;\r\n  };\r\n  ChartInternal.prototype.generateResize = function () {\r\n      var resizeFunctions = [];\r\n      function callResizeFunctions() {\r\n          resizeFunctions.forEach(function (f) {\r\n              f();\r\n          });\r\n      }\r\n      callResizeFunctions.add = function (f) {\r\n          resizeFunctions.push(f);\r\n      };\r\n      callResizeFunctions.remove = function (f) {\r\n          for (var i = 0; i < resizeFunctions.length; i++) {\r\n              if (resizeFunctions[i] === f) {\r\n                  resizeFunctions.splice(i, 1);\r\n                  break;\r\n              }\r\n          }\r\n      };\r\n      return callResizeFunctions;\r\n  };\r\n  ChartInternal.prototype.endall = function (transition, callback) {\r\n      var n = 0;\r\n      transition\r\n          .each(function () {\r\n          ++n;\r\n      })\r\n          .on('end', function () {\r\n          if (!--n) {\r\n              callback.apply(this, arguments);\r\n          }\r\n      });\r\n  };\r\n  ChartInternal.prototype.generateWait = function () {\r\n      var $$ = this;\r\n      var transitionsToWait = [], f = function (callback) {\r\n          var timer = setInterval(function () {\r\n              if (!$$.isTabVisible()) {\r\n                  return;\r\n              }\r\n              var done = 0;\r\n              transitionsToWait.forEach(function (t) {\r\n                  if (t.empty()) {\r\n                      done += 1;\r\n                      return;\r\n                  }\r\n                  try {\r\n                      t.transition();\r\n                  }\r\n                  catch (e) {\r\n                      done += 1;\r\n                  }\r\n              });\r\n              if (done === transitionsToWait.length) {\r\n                  clearInterval(timer);\r\n                  if (callback) {\r\n                      callback();\r\n                  }\r\n              }\r\n          }, 50);\r\n      };\r\n      f.add = function (transition) {\r\n          transitionsToWait.push(transition);\r\n      };\r\n      return f;\r\n  };\r\n  ChartInternal.prototype.parseDate = function (date) {\r\n      var $$ = this, parsedDate;\r\n      if (date instanceof Date) {\r\n          parsedDate = date;\r\n      }\r\n      else if (typeof date === 'string') {\r\n          parsedDate = $$.dataTimeParse(date);\r\n      }\r\n      else if (typeof date === 'object') {\r\n          parsedDate = new Date(+date);\r\n      }\r\n      else if (typeof date === 'number' && !isNaN(date)) {\r\n          parsedDate = new Date(+date);\r\n      }\r\n      if (!parsedDate || isNaN(+parsedDate)) {\r\n          window.console.error(\"Failed to parse x '\" + date + \"' to Date object\");\r\n      }\r\n      return parsedDate;\r\n  };\r\n  ChartInternal.prototype.isTabVisible = function () {\r\n      return !document.hidden;\r\n  };\r\n  ChartInternal.prototype.getPathBox = getPathBox;\r\n  ChartInternal.prototype.CLASS = CLASS;\n\n  /* jshint ignore:start */\r\n  (function () {\r\n      if (!('SVGPathSeg' in window)) {\r\n          // Spec: http://www.w3.org/TR/SVG11/single-page.html#paths-InterfaceSVGPathSeg\r\n          window.SVGPathSeg = function (type, typeAsLetter, owningPathSegList) {\r\n              this.pathSegType = type;\r\n              this.pathSegTypeAsLetter = typeAsLetter;\r\n              this._owningPathSegList = owningPathSegList;\r\n          };\r\n          window.SVGPathSeg.prototype.classname = 'SVGPathSeg';\r\n          window.SVGPathSeg.PATHSEG_UNKNOWN = 0;\r\n          window.SVGPathSeg.PATHSEG_CLOSEPATH = 1;\r\n          window.SVGPathSeg.PATHSEG_MOVETO_ABS = 2;\r\n          window.SVGPathSeg.PATHSEG_MOVETO_REL = 3;\r\n          window.SVGPathSeg.PATHSEG_LINETO_ABS = 4;\r\n          window.SVGPathSeg.PATHSEG_LINETO_REL = 5;\r\n          window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS = 6;\r\n          window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL = 7;\r\n          window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS = 8;\r\n          window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL = 9;\r\n          window.SVGPathSeg.PATHSEG_ARC_ABS = 10;\r\n          window.SVGPathSeg.PATHSEG_ARC_REL = 11;\r\n          window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS = 12;\r\n          window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL = 13;\r\n          window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS = 14;\r\n          window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL = 15;\r\n          window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS = 16;\r\n          window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL = 17;\r\n          window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS = 18;\r\n          window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL = 19;\r\n          // Notify owning PathSegList on any changes so they can be synchronized back to the path element.\r\n          window.SVGPathSeg.prototype._segmentChanged = function () {\r\n              if (this._owningPathSegList)\r\n                  this._owningPathSegList.segmentChanged(this);\r\n          };\r\n          window.SVGPathSegClosePath = function (owningPathSegList) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CLOSEPATH, 'z', owningPathSegList);\r\n          };\r\n          window.SVGPathSegClosePath.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegClosePath.prototype.toString = function () {\r\n              return '[object SVGPathSegClosePath]';\r\n          };\r\n          window.SVGPathSegClosePath.prototype._asPathString = function () {\r\n              return this.pathSegTypeAsLetter;\r\n          };\r\n          window.SVGPathSegClosePath.prototype.clone = function () {\r\n              return new window.SVGPathSegClosePath(undefined);\r\n          };\r\n          window.SVGPathSegMovetoAbs = function (owningPathSegList, x, y) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_MOVETO_ABS, 'M', owningPathSegList);\r\n              this._x = x;\r\n              this._y = y;\r\n          };\r\n          window.SVGPathSegMovetoAbs.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegMovetoAbs.prototype.toString = function () {\r\n              return '[object SVGPathSegMovetoAbs]';\r\n          };\r\n          window.SVGPathSegMovetoAbs.prototype._asPathString = function () {\r\n              return this.pathSegTypeAsLetter + ' ' + this._x + ' ' + this._y;\r\n          };\r\n          window.SVGPathSegMovetoAbs.prototype.clone = function () {\r\n              return new window.SVGPathSegMovetoAbs(undefined, this._x, this._y);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegMovetoAbs.prototype, 'x', {\r\n              get: function () {\r\n                  return this._x;\r\n              },\r\n              set: function (x) {\r\n                  this._x = x;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegMovetoAbs.prototype, 'y', {\r\n              get: function () {\r\n                  return this._y;\r\n              },\r\n              set: function (y) {\r\n                  this._y = y;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegMovetoRel = function (owningPathSegList, x, y) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_MOVETO_REL, 'm', owningPathSegList);\r\n              this._x = x;\r\n              this._y = y;\r\n          };\r\n          window.SVGPathSegMovetoRel.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegMovetoRel.prototype.toString = function () {\r\n              return '[object SVGPathSegMovetoRel]';\r\n          };\r\n          window.SVGPathSegMovetoRel.prototype._asPathString = function () {\r\n              return this.pathSegTypeAsLetter + ' ' + this._x + ' ' + this._y;\r\n          };\r\n          window.SVGPathSegMovetoRel.prototype.clone = function () {\r\n              return new window.SVGPathSegMovetoRel(undefined, this._x, this._y);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegMovetoRel.prototype, 'x', {\r\n              get: function () {\r\n                  return this._x;\r\n              },\r\n              set: function (x) {\r\n                  this._x = x;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegMovetoRel.prototype, 'y', {\r\n              get: function () {\r\n                  return this._y;\r\n              },\r\n              set: function (y) {\r\n                  this._y = y;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegLinetoAbs = function (owningPathSegList, x, y) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_LINETO_ABS, 'L', owningPathSegList);\r\n              this._x = x;\r\n              this._y = y;\r\n          };\r\n          window.SVGPathSegLinetoAbs.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegLinetoAbs.prototype.toString = function () {\r\n              return '[object SVGPathSegLinetoAbs]';\r\n          };\r\n          window.SVGPathSegLinetoAbs.prototype._asPathString = function () {\r\n              return this.pathSegTypeAsLetter + ' ' + this._x + ' ' + this._y;\r\n          };\r\n          window.SVGPathSegLinetoAbs.prototype.clone = function () {\r\n              return new window.SVGPathSegLinetoAbs(undefined, this._x, this._y);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegLinetoAbs.prototype, 'x', {\r\n              get: function () {\r\n                  return this._x;\r\n              },\r\n              set: function (x) {\r\n                  this._x = x;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegLinetoAbs.prototype, 'y', {\r\n              get: function () {\r\n                  return this._y;\r\n              },\r\n              set: function (y) {\r\n                  this._y = y;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegLinetoRel = function (owningPathSegList, x, y) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_LINETO_REL, 'l', owningPathSegList);\r\n              this._x = x;\r\n              this._y = y;\r\n          };\r\n          window.SVGPathSegLinetoRel.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegLinetoRel.prototype.toString = function () {\r\n              return '[object SVGPathSegLinetoRel]';\r\n          };\r\n          window.SVGPathSegLinetoRel.prototype._asPathString = function () {\r\n              return this.pathSegTypeAsLetter + ' ' + this._x + ' ' + this._y;\r\n          };\r\n          window.SVGPathSegLinetoRel.prototype.clone = function () {\r\n              return new window.SVGPathSegLinetoRel(undefined, this._x, this._y);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegLinetoRel.prototype, 'x', {\r\n              get: function () {\r\n                  return this._x;\r\n              },\r\n              set: function (x) {\r\n                  this._x = x;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegLinetoRel.prototype, 'y', {\r\n              get: function () {\r\n                  return this._y;\r\n              },\r\n              set: function (y) {\r\n                  this._y = y;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegCurvetoCubicAbs = function (owningPathSegList, x, y, x1, y1, x2, y2) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS, 'C', owningPathSegList);\r\n              this._x = x;\r\n              this._y = y;\r\n              this._x1 = x1;\r\n              this._y1 = y1;\r\n              this._x2 = x2;\r\n              this._y2 = y2;\r\n          };\r\n          window.SVGPathSegCurvetoCubicAbs.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegCurvetoCubicAbs.prototype.toString = function () {\r\n              return '[object SVGPathSegCurvetoCubicAbs]';\r\n          };\r\n          window.SVGPathSegCurvetoCubicAbs.prototype._asPathString = function () {\r\n              return (this.pathSegTypeAsLetter +\r\n                  ' ' +\r\n                  this._x1 +\r\n                  ' ' +\r\n                  this._y1 +\r\n                  ' ' +\r\n                  this._x2 +\r\n                  ' ' +\r\n                  this._y2 +\r\n                  ' ' +\r\n                  this._x +\r\n                  ' ' +\r\n                  this._y);\r\n          };\r\n          window.SVGPathSegCurvetoCubicAbs.prototype.clone = function () {\r\n              return new window.SVGPathSegCurvetoCubicAbs(undefined, this._x, this._y, this._x1, this._y1, this._x2, this._y2);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype, 'x', {\r\n              get: function () {\r\n                  return this._x;\r\n              },\r\n              set: function (x) {\r\n                  this._x = x;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype, 'y', {\r\n              get: function () {\r\n                  return this._y;\r\n              },\r\n              set: function (y) {\r\n                  this._y = y;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype, 'x1', {\r\n              get: function () {\r\n                  return this._x1;\r\n              },\r\n              set: function (x1) {\r\n                  this._x1 = x1;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype, 'y1', {\r\n              get: function () {\r\n                  return this._y1;\r\n              },\r\n              set: function (y1) {\r\n                  this._y1 = y1;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype, 'x2', {\r\n              get: function () {\r\n                  return this._x2;\r\n              },\r\n              set: function (x2) {\r\n                  this._x2 = x2;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype, 'y2', {\r\n              get: function () {\r\n                  return this._y2;\r\n              },\r\n              set: function (y2) {\r\n                  this._y2 = y2;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegCurvetoCubicRel = function (owningPathSegList, x, y, x1, y1, x2, y2) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL, 'c', owningPathSegList);\r\n              this._x = x;\r\n              this._y = y;\r\n              this._x1 = x1;\r\n              this._y1 = y1;\r\n              this._x2 = x2;\r\n              this._y2 = y2;\r\n          };\r\n          window.SVGPathSegCurvetoCubicRel.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegCurvetoCubicRel.prototype.toString = function () {\r\n              return '[object SVGPathSegCurvetoCubicRel]';\r\n          };\r\n          window.SVGPathSegCurvetoCubicRel.prototype._asPathString = function () {\r\n              return (this.pathSegTypeAsLetter +\r\n                  ' ' +\r\n                  this._x1 +\r\n                  ' ' +\r\n                  this._y1 +\r\n                  ' ' +\r\n                  this._x2 +\r\n                  ' ' +\r\n                  this._y2 +\r\n                  ' ' +\r\n                  this._x +\r\n                  ' ' +\r\n                  this._y);\r\n          };\r\n          window.SVGPathSegCurvetoCubicRel.prototype.clone = function () {\r\n              return new window.SVGPathSegCurvetoCubicRel(undefined, this._x, this._y, this._x1, this._y1, this._x2, this._y2);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype, 'x', {\r\n              get: function () {\r\n                  return this._x;\r\n              },\r\n              set: function (x) {\r\n                  this._x = x;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype, 'y', {\r\n              get: function () {\r\n                  return this._y;\r\n              },\r\n              set: function (y) {\r\n                  this._y = y;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype, 'x1', {\r\n              get: function () {\r\n                  return this._x1;\r\n              },\r\n              set: function (x1) {\r\n                  this._x1 = x1;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype, 'y1', {\r\n              get: function () {\r\n                  return this._y1;\r\n              },\r\n              set: function (y1) {\r\n                  this._y1 = y1;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype, 'x2', {\r\n              get: function () {\r\n                  return this._x2;\r\n              },\r\n              set: function (x2) {\r\n                  this._x2 = x2;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype, 'y2', {\r\n              get: function () {\r\n                  return this._y2;\r\n              },\r\n              set: function (y2) {\r\n                  this._y2 = y2;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegCurvetoQuadraticAbs = function (owningPathSegList, x, y, x1, y1) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS, 'Q', owningPathSegList);\r\n              this._x = x;\r\n              this._y = y;\r\n              this._x1 = x1;\r\n              this._y1 = y1;\r\n          };\r\n          window.SVGPathSegCurvetoQuadraticAbs.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegCurvetoQuadraticAbs.prototype.toString = function () {\r\n              return '[object SVGPathSegCurvetoQuadraticAbs]';\r\n          };\r\n          window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString = function () {\r\n              return (this.pathSegTypeAsLetter +\r\n                  ' ' +\r\n                  this._x1 +\r\n                  ' ' +\r\n                  this._y1 +\r\n                  ' ' +\r\n                  this._x +\r\n                  ' ' +\r\n                  this._y);\r\n          };\r\n          window.SVGPathSegCurvetoQuadraticAbs.prototype.clone = function () {\r\n              return new window.SVGPathSegCurvetoQuadraticAbs(undefined, this._x, this._y, this._x1, this._y1);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype, 'x', {\r\n              get: function () {\r\n                  return this._x;\r\n              },\r\n              set: function (x) {\r\n                  this._x = x;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype, 'y', {\r\n              get: function () {\r\n                  return this._y;\r\n              },\r\n              set: function (y) {\r\n                  this._y = y;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype, 'x1', {\r\n              get: function () {\r\n                  return this._x1;\r\n              },\r\n              set: function (x1) {\r\n                  this._x1 = x1;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype, 'y1', {\r\n              get: function () {\r\n                  return this._y1;\r\n              },\r\n              set: function (y1) {\r\n                  this._y1 = y1;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegCurvetoQuadraticRel = function (owningPathSegList, x, y, x1, y1) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL, 'q', owningPathSegList);\r\n              this._x = x;\r\n              this._y = y;\r\n              this._x1 = x1;\r\n              this._y1 = y1;\r\n          };\r\n          window.SVGPathSegCurvetoQuadraticRel.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegCurvetoQuadraticRel.prototype.toString = function () {\r\n              return '[object SVGPathSegCurvetoQuadraticRel]';\r\n          };\r\n          window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString = function () {\r\n              return (this.pathSegTypeAsLetter +\r\n                  ' ' +\r\n                  this._x1 +\r\n                  ' ' +\r\n                  this._y1 +\r\n                  ' ' +\r\n                  this._x +\r\n                  ' ' +\r\n                  this._y);\r\n          };\r\n          window.SVGPathSegCurvetoQuadraticRel.prototype.clone = function () {\r\n              return new window.SVGPathSegCurvetoQuadraticRel(undefined, this._x, this._y, this._x1, this._y1);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype, 'x', {\r\n              get: function () {\r\n                  return this._x;\r\n              },\r\n              set: function (x) {\r\n                  this._x = x;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype, 'y', {\r\n              get: function () {\r\n                  return this._y;\r\n              },\r\n              set: function (y) {\r\n                  this._y = y;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype, 'x1', {\r\n              get: function () {\r\n                  return this._x1;\r\n              },\r\n              set: function (x1) {\r\n                  this._x1 = x1;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype, 'y1', {\r\n              get: function () {\r\n                  return this._y1;\r\n              },\r\n              set: function (y1) {\r\n                  this._y1 = y1;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegArcAbs = function (owningPathSegList, x, y, r1, r2, angle, largeArcFlag, sweepFlag) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_ARC_ABS, 'A', owningPathSegList);\r\n              this._x = x;\r\n              this._y = y;\r\n              this._r1 = r1;\r\n              this._r2 = r2;\r\n              this._angle = angle;\r\n              this._largeArcFlag = largeArcFlag;\r\n              this._sweepFlag = sweepFlag;\r\n          };\r\n          window.SVGPathSegArcAbs.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegArcAbs.prototype.toString = function () {\r\n              return '[object SVGPathSegArcAbs]';\r\n          };\r\n          window.SVGPathSegArcAbs.prototype._asPathString = function () {\r\n              return (this.pathSegTypeAsLetter +\r\n                  ' ' +\r\n                  this._r1 +\r\n                  ' ' +\r\n                  this._r2 +\r\n                  ' ' +\r\n                  this._angle +\r\n                  ' ' +\r\n                  (this._largeArcFlag ? '1' : '0') +\r\n                  ' ' +\r\n                  (this._sweepFlag ? '1' : '0') +\r\n                  ' ' +\r\n                  this._x +\r\n                  ' ' +\r\n                  this._y);\r\n          };\r\n          window.SVGPathSegArcAbs.prototype.clone = function () {\r\n              return new window.SVGPathSegArcAbs(undefined, this._x, this._y, this._r1, this._r2, this._angle, this._largeArcFlag, this._sweepFlag);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegArcAbs.prototype, 'x', {\r\n              get: function () {\r\n                  return this._x;\r\n              },\r\n              set: function (x) {\r\n                  this._x = x;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegArcAbs.prototype, 'y', {\r\n              get: function () {\r\n                  return this._y;\r\n              },\r\n              set: function (y) {\r\n                  this._y = y;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegArcAbs.prototype, 'r1', {\r\n              get: function () {\r\n                  return this._r1;\r\n              },\r\n              set: function (r1) {\r\n                  this._r1 = r1;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegArcAbs.prototype, 'r2', {\r\n              get: function () {\r\n                  return this._r2;\r\n              },\r\n              set: function (r2) {\r\n                  this._r2 = r2;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegArcAbs.prototype, 'angle', {\r\n              get: function () {\r\n                  return this._angle;\r\n              },\r\n              set: function (angle) {\r\n                  this._angle = angle;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegArcAbs.prototype, 'largeArcFlag', {\r\n              get: function () {\r\n                  return this._largeArcFlag;\r\n              },\r\n              set: function (largeArcFlag) {\r\n                  this._largeArcFlag = largeArcFlag;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegArcAbs.prototype, 'sweepFlag', {\r\n              get: function () {\r\n                  return this._sweepFlag;\r\n              },\r\n              set: function (sweepFlag) {\r\n                  this._sweepFlag = sweepFlag;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegArcRel = function (owningPathSegList, x, y, r1, r2, angle, largeArcFlag, sweepFlag) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_ARC_REL, 'a', owningPathSegList);\r\n              this._x = x;\r\n              this._y = y;\r\n              this._r1 = r1;\r\n              this._r2 = r2;\r\n              this._angle = angle;\r\n              this._largeArcFlag = largeArcFlag;\r\n              this._sweepFlag = sweepFlag;\r\n          };\r\n          window.SVGPathSegArcRel.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegArcRel.prototype.toString = function () {\r\n              return '[object SVGPathSegArcRel]';\r\n          };\r\n          window.SVGPathSegArcRel.prototype._asPathString = function () {\r\n              return (this.pathSegTypeAsLetter +\r\n                  ' ' +\r\n                  this._r1 +\r\n                  ' ' +\r\n                  this._r2 +\r\n                  ' ' +\r\n                  this._angle +\r\n                  ' ' +\r\n                  (this._largeArcFlag ? '1' : '0') +\r\n                  ' ' +\r\n                  (this._sweepFlag ? '1' : '0') +\r\n                  ' ' +\r\n                  this._x +\r\n                  ' ' +\r\n                  this._y);\r\n          };\r\n          window.SVGPathSegArcRel.prototype.clone = function () {\r\n              return new window.SVGPathSegArcRel(undefined, this._x, this._y, this._r1, this._r2, this._angle, this._largeArcFlag, this._sweepFlag);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegArcRel.prototype, 'x', {\r\n              get: function () {\r\n                  return this._x;\r\n              },\r\n              set: function (x) {\r\n                  this._x = x;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegArcRel.prototype, 'y', {\r\n              get: function () {\r\n                  return this._y;\r\n              },\r\n              set: function (y) {\r\n                  this._y = y;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegArcRel.prototype, 'r1', {\r\n              get: function () {\r\n                  return this._r1;\r\n              },\r\n              set: function (r1) {\r\n                  this._r1 = r1;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegArcRel.prototype, 'r2', {\r\n              get: function () {\r\n                  return this._r2;\r\n              },\r\n              set: function (r2) {\r\n                  this._r2 = r2;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegArcRel.prototype, 'angle', {\r\n              get: function () {\r\n                  return this._angle;\r\n              },\r\n              set: function (angle) {\r\n                  this._angle = angle;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegArcRel.prototype, 'largeArcFlag', {\r\n              get: function () {\r\n                  return this._largeArcFlag;\r\n              },\r\n              set: function (largeArcFlag) {\r\n                  this._largeArcFlag = largeArcFlag;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegArcRel.prototype, 'sweepFlag', {\r\n              get: function () {\r\n                  return this._sweepFlag;\r\n              },\r\n              set: function (sweepFlag) {\r\n                  this._sweepFlag = sweepFlag;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegLinetoHorizontalAbs = function (owningPathSegList, x) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS, 'H', owningPathSegList);\r\n              this._x = x;\r\n          };\r\n          window.SVGPathSegLinetoHorizontalAbs.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegLinetoHorizontalAbs.prototype.toString = function () {\r\n              return '[object SVGPathSegLinetoHorizontalAbs]';\r\n          };\r\n          window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString = function () {\r\n              return this.pathSegTypeAsLetter + ' ' + this._x;\r\n          };\r\n          window.SVGPathSegLinetoHorizontalAbs.prototype.clone = function () {\r\n              return new window.SVGPathSegLinetoHorizontalAbs(undefined, this._x);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype, 'x', {\r\n              get: function () {\r\n                  return this._x;\r\n              },\r\n              set: function (x) {\r\n                  this._x = x;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegLinetoHorizontalRel = function (owningPathSegList, x) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL, 'h', owningPathSegList);\r\n              this._x = x;\r\n          };\r\n          window.SVGPathSegLinetoHorizontalRel.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegLinetoHorizontalRel.prototype.toString = function () {\r\n              return '[object SVGPathSegLinetoHorizontalRel]';\r\n          };\r\n          window.SVGPathSegLinetoHorizontalRel.prototype._asPathString = function () {\r\n              return this.pathSegTypeAsLetter + ' ' + this._x;\r\n          };\r\n          window.SVGPathSegLinetoHorizontalRel.prototype.clone = function () {\r\n              return new window.SVGPathSegLinetoHorizontalRel(undefined, this._x);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype, 'x', {\r\n              get: function () {\r\n                  return this._x;\r\n              },\r\n              set: function (x) {\r\n                  this._x = x;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegLinetoVerticalAbs = function (owningPathSegList, y) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS, 'V', owningPathSegList);\r\n              this._y = y;\r\n          };\r\n          window.SVGPathSegLinetoVerticalAbs.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegLinetoVerticalAbs.prototype.toString = function () {\r\n              return '[object SVGPathSegLinetoVerticalAbs]';\r\n          };\r\n          window.SVGPathSegLinetoVerticalAbs.prototype._asPathString = function () {\r\n              return this.pathSegTypeAsLetter + ' ' + this._y;\r\n          };\r\n          window.SVGPathSegLinetoVerticalAbs.prototype.clone = function () {\r\n              return new window.SVGPathSegLinetoVerticalAbs(undefined, this._y);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype, 'y', {\r\n              get: function () {\r\n                  return this._y;\r\n              },\r\n              set: function (y) {\r\n                  this._y = y;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegLinetoVerticalRel = function (owningPathSegList, y) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL, 'v', owningPathSegList);\r\n              this._y = y;\r\n          };\r\n          window.SVGPathSegLinetoVerticalRel.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegLinetoVerticalRel.prototype.toString = function () {\r\n              return '[object SVGPathSegLinetoVerticalRel]';\r\n          };\r\n          window.SVGPathSegLinetoVerticalRel.prototype._asPathString = function () {\r\n              return this.pathSegTypeAsLetter + ' ' + this._y;\r\n          };\r\n          window.SVGPathSegLinetoVerticalRel.prototype.clone = function () {\r\n              return new window.SVGPathSegLinetoVerticalRel(undefined, this._y);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype, 'y', {\r\n              get: function () {\r\n                  return this._y;\r\n              },\r\n              set: function (y) {\r\n                  this._y = y;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegCurvetoCubicSmoothAbs = function (owningPathSegList, x, y, x2, y2) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS, 'S', owningPathSegList);\r\n              this._x = x;\r\n              this._y = y;\r\n              this._x2 = x2;\r\n              this._y2 = y2;\r\n          };\r\n          window.SVGPathSegCurvetoCubicSmoothAbs.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString = function () {\r\n              return '[object SVGPathSegCurvetoCubicSmoothAbs]';\r\n          };\r\n          window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString = function () {\r\n              return (this.pathSegTypeAsLetter +\r\n                  ' ' +\r\n                  this._x2 +\r\n                  ' ' +\r\n                  this._y2 +\r\n                  ' ' +\r\n                  this._x +\r\n                  ' ' +\r\n                  this._y);\r\n          };\r\n          window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone = function () {\r\n              return new window.SVGPathSegCurvetoCubicSmoothAbs(undefined, this._x, this._y, this._x2, this._y2);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype, 'x', {\r\n              get: function () {\r\n                  return this._x;\r\n              },\r\n              set: function (x) {\r\n                  this._x = x;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype, 'y', {\r\n              get: function () {\r\n                  return this._y;\r\n              },\r\n              set: function (y) {\r\n                  this._y = y;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype, 'x2', {\r\n              get: function () {\r\n                  return this._x2;\r\n              },\r\n              set: function (x2) {\r\n                  this._x2 = x2;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype, 'y2', {\r\n              get: function () {\r\n                  return this._y2;\r\n              },\r\n              set: function (y2) {\r\n                  this._y2 = y2;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegCurvetoCubicSmoothRel = function (owningPathSegList, x, y, x2, y2) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL, 's', owningPathSegList);\r\n              this._x = x;\r\n              this._y = y;\r\n              this._x2 = x2;\r\n              this._y2 = y2;\r\n          };\r\n          window.SVGPathSegCurvetoCubicSmoothRel.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString = function () {\r\n              return '[object SVGPathSegCurvetoCubicSmoothRel]';\r\n          };\r\n          window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString = function () {\r\n              return (this.pathSegTypeAsLetter +\r\n                  ' ' +\r\n                  this._x2 +\r\n                  ' ' +\r\n                  this._y2 +\r\n                  ' ' +\r\n                  this._x +\r\n                  ' ' +\r\n                  this._y);\r\n          };\r\n          window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone = function () {\r\n              return new window.SVGPathSegCurvetoCubicSmoothRel(undefined, this._x, this._y, this._x2, this._y2);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype, 'x', {\r\n              get: function () {\r\n                  return this._x;\r\n              },\r\n              set: function (x) {\r\n                  this._x = x;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype, 'y', {\r\n              get: function () {\r\n                  return this._y;\r\n              },\r\n              set: function (y) {\r\n                  this._y = y;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype, 'x2', {\r\n              get: function () {\r\n                  return this._x2;\r\n              },\r\n              set: function (x2) {\r\n                  this._x2 = x2;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype, 'y2', {\r\n              get: function () {\r\n                  return this._y2;\r\n              },\r\n              set: function (y2) {\r\n                  this._y2 = y2;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegCurvetoQuadraticSmoothAbs = function (owningPathSegList, x, y) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS, 'T', owningPathSegList);\r\n              this._x = x;\r\n              this._y = y;\r\n          };\r\n          window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString = function () {\r\n              return '[object SVGPathSegCurvetoQuadraticSmoothAbs]';\r\n          };\r\n          window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString = function () {\r\n              return this.pathSegTypeAsLetter + ' ' + this._x + ' ' + this._y;\r\n          };\r\n          window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone = function () {\r\n              return new window.SVGPathSegCurvetoQuadraticSmoothAbs(undefined, this._x, this._y);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype, 'x', {\r\n              get: function () {\r\n                  return this._x;\r\n              },\r\n              set: function (x) {\r\n                  this._x = x;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype, 'y', {\r\n              get: function () {\r\n                  return this._y;\r\n              },\r\n              set: function (y) {\r\n                  this._y = y;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          window.SVGPathSegCurvetoQuadraticSmoothRel = function (owningPathSegList, x, y) {\r\n              window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL, 't', owningPathSegList);\r\n              this._x = x;\r\n              this._y = y;\r\n          };\r\n          window.SVGPathSegCurvetoQuadraticSmoothRel.prototype = Object.create(window.SVGPathSeg.prototype);\r\n          window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString = function () {\r\n              return '[object SVGPathSegCurvetoQuadraticSmoothRel]';\r\n          };\r\n          window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString = function () {\r\n              return this.pathSegTypeAsLetter + ' ' + this._x + ' ' + this._y;\r\n          };\r\n          window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone = function () {\r\n              return new window.SVGPathSegCurvetoQuadraticSmoothRel(undefined, this._x, this._y);\r\n          };\r\n          Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype, 'x', {\r\n              get: function () {\r\n                  return this._x;\r\n              },\r\n              set: function (x) {\r\n                  this._x = x;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype, 'y', {\r\n              get: function () {\r\n                  return this._y;\r\n              },\r\n              set: function (y) {\r\n                  this._y = y;\r\n                  this._segmentChanged();\r\n              },\r\n              enumerable: true\r\n          });\r\n          // Add createSVGPathSeg* functions to window.SVGPathElement.\r\n          // Spec: http://www.w3.org/TR/SVG11/single-page.html#paths-Interfacewindow.SVGPathElement.\r\n          window.SVGPathElement.prototype.createSVGPathSegClosePath = function () {\r\n              return new window.SVGPathSegClosePath(undefined);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegMovetoAbs = function (x, y) {\r\n              return new window.SVGPathSegMovetoAbs(undefined, x, y);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegMovetoRel = function (x, y) {\r\n              return new window.SVGPathSegMovetoRel(undefined, x, y);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegLinetoAbs = function (x, y) {\r\n              return new window.SVGPathSegLinetoAbs(undefined, x, y);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegLinetoRel = function (x, y) {\r\n              return new window.SVGPathSegLinetoRel(undefined, x, y);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs = function (x, y, x1, y1, x2, y2) {\r\n              return new window.SVGPathSegCurvetoCubicAbs(undefined, x, y, x1, y1, x2, y2);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel = function (x, y, x1, y1, x2, y2) {\r\n              return new window.SVGPathSegCurvetoCubicRel(undefined, x, y, x1, y1, x2, y2);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs = function (x, y, x1, y1) {\r\n              return new window.SVGPathSegCurvetoQuadraticAbs(undefined, x, y, x1, y1);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel = function (x, y, x1, y1) {\r\n              return new window.SVGPathSegCurvetoQuadraticRel(undefined, x, y, x1, y1);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegArcAbs = function (x, y, r1, r2, angle, largeArcFlag, sweepFlag) {\r\n              return new window.SVGPathSegArcAbs(undefined, x, y, r1, r2, angle, largeArcFlag, sweepFlag);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegArcRel = function (x, y, r1, r2, angle, largeArcFlag, sweepFlag) {\r\n              return new window.SVGPathSegArcRel(undefined, x, y, r1, r2, angle, largeArcFlag, sweepFlag);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs = function (x) {\r\n              return new window.SVGPathSegLinetoHorizontalAbs(undefined, x);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel = function (x) {\r\n              return new window.SVGPathSegLinetoHorizontalRel(undefined, x);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs = function (y) {\r\n              return new window.SVGPathSegLinetoVerticalAbs(undefined, y);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel = function (y) {\r\n              return new window.SVGPathSegLinetoVerticalRel(undefined, y);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs = function (x, y, x2, y2) {\r\n              return new window.SVGPathSegCurvetoCubicSmoothAbs(undefined, x, y, x2, y2);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel = function (x, y, x2, y2) {\r\n              return new window.SVGPathSegCurvetoCubicSmoothRel(undefined, x, y, x2, y2);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs = function (x, y) {\r\n              return new window.SVGPathSegCurvetoQuadraticSmoothAbs(undefined, x, y);\r\n          };\r\n          window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel = function (x, y) {\r\n              return new window.SVGPathSegCurvetoQuadraticSmoothRel(undefined, x, y);\r\n          };\r\n          if (!('getPathSegAtLength' in window.SVGPathElement.prototype)) {\r\n              // Add getPathSegAtLength to SVGPathElement.\r\n              // Spec: https://www.w3.org/TR/SVG11/single-page.html#paths-__svg__SVGPathElement__getPathSegAtLength\r\n              // This polyfill requires SVGPathElement.getTotalLength to implement the distance-along-a-path algorithm.\r\n              window.SVGPathElement.prototype.getPathSegAtLength = function (distance) {\r\n                  if (distance === undefined || !isFinite(distance))\r\n                      throw 'Invalid arguments.';\r\n                  var measurementElement = document.createElementNS('http://www.w3.org/2000/svg', 'path');\r\n                  measurementElement.setAttribute('d', this.getAttribute('d'));\r\n                  var lastPathSegment = measurementElement.pathSegList.numberOfItems - 1;\r\n                  // If the path is empty, return 0.\r\n                  if (lastPathSegment <= 0)\r\n                      return 0;\r\n                  do {\r\n                      measurementElement.pathSegList.removeItem(lastPathSegment);\r\n                      if (distance > measurementElement.getTotalLength())\r\n                          break;\r\n                      lastPathSegment--;\r\n                  } while (lastPathSegment > 0);\r\n                  return lastPathSegment;\r\n              };\r\n          }\r\n      }\r\n      if (!('SVGPathSegList' in window)) {\r\n          // Spec: http://www.w3.org/TR/SVG11/single-page.html#paths-InterfaceSVGPathSegList\r\n          window.SVGPathSegList = function (pathElement) {\r\n              this._pathElement = pathElement;\r\n              this._list = this._parsePath(this._pathElement.getAttribute('d'));\r\n              // Use a MutationObserver to catch changes to the path's \"d\" attribute.\r\n              this._mutationObserverConfig = {\r\n                  attributes: true,\r\n                  attributeFilter: ['d']\r\n              };\r\n              this._pathElementMutationObserver = new MutationObserver(this._updateListFromPathMutations.bind(this));\r\n              this._pathElementMutationObserver.observe(this._pathElement, this._mutationObserverConfig);\r\n          };\r\n          window.SVGPathSegList.prototype.classname = 'SVGPathSegList';\r\n          Object.defineProperty(window.SVGPathSegList.prototype, 'numberOfItems', {\r\n              get: function () {\r\n                  this._checkPathSynchronizedToList();\r\n                  return this._list.length;\r\n              },\r\n              enumerable: true\r\n          });\r\n          // Add the pathSegList accessors to window.SVGPathElement.\r\n          // Spec: http://www.w3.org/TR/SVG11/single-page.html#paths-InterfaceSVGAnimatedPathData\r\n          Object.defineProperty(window.SVGPathElement.prototype, 'pathSegList', {\r\n              get: function () {\r\n                  if (!this._pathSegList)\r\n                      this._pathSegList = new window.SVGPathSegList(this);\r\n                  return this._pathSegList;\r\n              },\r\n              enumerable: true\r\n          });\r\n          // FIXME: The following are not implemented and simply return window.SVGPathElement.pathSegList.\r\n          Object.defineProperty(window.SVGPathElement.prototype, 'normalizedPathSegList', {\r\n              get: function () {\r\n                  return this.pathSegList;\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathElement.prototype, 'animatedPathSegList', {\r\n              get: function () {\r\n                  return this.pathSegList;\r\n              },\r\n              enumerable: true\r\n          });\r\n          Object.defineProperty(window.SVGPathElement.prototype, 'animatedNormalizedPathSegList', {\r\n              get: function () {\r\n                  return this.pathSegList;\r\n              },\r\n              enumerable: true\r\n          });\r\n          // Process any pending mutations to the path element and update the list as needed.\r\n          // This should be the first call of all public functions and is needed because\r\n          // MutationObservers are not synchronous so we can have pending asynchronous mutations.\r\n          window.SVGPathSegList.prototype._checkPathSynchronizedToList = function () {\r\n              this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords());\r\n          };\r\n          window.SVGPathSegList.prototype._updateListFromPathMutations = function (mutationRecords) {\r\n              if (!this._pathElement)\r\n                  return;\r\n              var hasPathMutations = false;\r\n              mutationRecords.forEach(function (record) {\r\n                  if (record.attributeName == 'd')\r\n                      hasPathMutations = true;\r\n              });\r\n              if (hasPathMutations)\r\n                  this._list = this._parsePath(this._pathElement.getAttribute('d'));\r\n          };\r\n          // Serialize the list and update the path's 'd' attribute.\r\n          window.SVGPathSegList.prototype._writeListToPath = function () {\r\n              this._pathElementMutationObserver.disconnect();\r\n              this._pathElement.setAttribute('d', window.SVGPathSegList._pathSegArrayAsString(this._list));\r\n              this._pathElementMutationObserver.observe(this._pathElement, this._mutationObserverConfig);\r\n          };\r\n          // When a path segment changes the list needs to be synchronized back to the path element.\r\n          window.SVGPathSegList.prototype.segmentChanged = function (pathSeg) {\r\n              this._writeListToPath();\r\n          };\r\n          window.SVGPathSegList.prototype.clear = function () {\r\n              this._checkPathSynchronizedToList();\r\n              this._list.forEach(function (pathSeg) {\r\n                  pathSeg._owningPathSegList = null;\r\n              });\r\n              this._list = [];\r\n              this._writeListToPath();\r\n          };\r\n          window.SVGPathSegList.prototype.initialize = function (newItem) {\r\n              this._checkPathSynchronizedToList();\r\n              this._list = [newItem];\r\n              newItem._owningPathSegList = this;\r\n              this._writeListToPath();\r\n              return newItem;\r\n          };\r\n          window.SVGPathSegList.prototype._checkValidIndex = function (index) {\r\n              if (isNaN(index) || index < 0 || index >= this.numberOfItems)\r\n                  throw 'INDEX_SIZE_ERR';\r\n          };\r\n          window.SVGPathSegList.prototype.getItem = function (index) {\r\n              this._checkPathSynchronizedToList();\r\n              this._checkValidIndex(index);\r\n              return this._list[index];\r\n          };\r\n          window.SVGPathSegList.prototype.insertItemBefore = function (newItem, index) {\r\n              this._checkPathSynchronizedToList();\r\n              // Spec: If the index is greater than or equal to numberOfItems, then the new item is appended to the end of the list.\r\n              if (index > this.numberOfItems)\r\n                  index = this.numberOfItems;\r\n              if (newItem._owningPathSegList) {\r\n                  // SVG2 spec says to make a copy.\r\n                  newItem = newItem.clone();\r\n              }\r\n              this._list.splice(index, 0, newItem);\r\n              newItem._owningPathSegList = this;\r\n              this._writeListToPath();\r\n              return newItem;\r\n          };\r\n          window.SVGPathSegList.prototype.replaceItem = function (newItem, index) {\r\n              this._checkPathSynchronizedToList();\r\n              if (newItem._owningPathSegList) {\r\n                  // SVG2 spec says to make a copy.\r\n                  newItem = newItem.clone();\r\n              }\r\n              this._checkValidIndex(index);\r\n              this._list[index] = newItem;\r\n              newItem._owningPathSegList = this;\r\n              this._writeListToPath();\r\n              return newItem;\r\n          };\r\n          window.SVGPathSegList.prototype.removeItem = function (index) {\r\n              this._checkPathSynchronizedToList();\r\n              this._checkValidIndex(index);\r\n              var item = this._list[index];\r\n              this._list.splice(index, 1);\r\n              this._writeListToPath();\r\n              return item;\r\n          };\r\n          window.SVGPathSegList.prototype.appendItem = function (newItem) {\r\n              this._checkPathSynchronizedToList();\r\n              if (newItem._owningPathSegList) {\r\n                  // SVG2 spec says to make a copy.\r\n                  newItem = newItem.clone();\r\n              }\r\n              this._list.push(newItem);\r\n              newItem._owningPathSegList = this;\r\n              // TODO: Optimize this to just append to the existing attribute.\r\n              this._writeListToPath();\r\n              return newItem;\r\n          };\r\n          window.SVGPathSegList._pathSegArrayAsString = function (pathSegArray) {\r\n              var string = '';\r\n              var first = true;\r\n              pathSegArray.forEach(function (pathSeg) {\r\n                  if (first) {\r\n                      first = false;\r\n                      string += pathSeg._asPathString();\r\n                  }\r\n                  else {\r\n                      string += ' ' + pathSeg._asPathString();\r\n                  }\r\n              });\r\n              return string;\r\n          };\r\n          // This closely follows SVGPathParser::parsePath from Source/core/svg/SVGPathParser.cpp.\r\n          window.SVGPathSegList.prototype._parsePath = function (string) {\r\n              if (!string || string.length == 0)\r\n                  return [];\r\n              var owningPathSegList = this;\r\n              var Builder = function () {\r\n                  this.pathSegList = [];\r\n              };\r\n              Builder.prototype.appendSegment = function (pathSeg) {\r\n                  this.pathSegList.push(pathSeg);\r\n              };\r\n              var Source = function (string) {\r\n                  this._string = string;\r\n                  this._currentIndex = 0;\r\n                  this._endIndex = this._string.length;\r\n                  this._previousCommand = window.SVGPathSeg.PATHSEG_UNKNOWN;\r\n                  this._skipOptionalSpaces();\r\n              };\r\n              Source.prototype._isCurrentSpace = function () {\r\n                  var character = this._string[this._currentIndex];\r\n                  return (character <= ' ' &&\r\n                      (character == ' ' ||\r\n                          character == '\\n' ||\r\n                          character == '\\t' ||\r\n                          character == '\\r' ||\r\n                          character == '\\f'));\r\n              };\r\n              Source.prototype._skipOptionalSpaces = function () {\r\n                  while (this._currentIndex < this._endIndex && this._isCurrentSpace())\r\n                      this._currentIndex++;\r\n                  return this._currentIndex < this._endIndex;\r\n              };\r\n              Source.prototype._skipOptionalSpacesOrDelimiter = function () {\r\n                  if (this._currentIndex < this._endIndex &&\r\n                      !this._isCurrentSpace() &&\r\n                      this._string.charAt(this._currentIndex) != ',')\r\n                      return false;\r\n                  if (this._skipOptionalSpaces()) {\r\n                      if (this._currentIndex < this._endIndex &&\r\n                          this._string.charAt(this._currentIndex) == ',') {\r\n                          this._currentIndex++;\r\n                          this._skipOptionalSpaces();\r\n                      }\r\n                  }\r\n                  return this._currentIndex < this._endIndex;\r\n              };\r\n              Source.prototype.hasMoreData = function () {\r\n                  return this._currentIndex < this._endIndex;\r\n              };\r\n              Source.prototype.peekSegmentType = function () {\r\n                  var lookahead = this._string[this._currentIndex];\r\n                  return this._pathSegTypeFromChar(lookahead);\r\n              };\r\n              Source.prototype._pathSegTypeFromChar = function (lookahead) {\r\n                  switch (lookahead) {\r\n                      case 'Z':\r\n                      case 'z':\r\n                          return window.SVGPathSeg.PATHSEG_CLOSEPATH;\r\n                      case 'M':\r\n                          return window.SVGPathSeg.PATHSEG_MOVETO_ABS;\r\n                      case 'm':\r\n                          return window.SVGPathSeg.PATHSEG_MOVETO_REL;\r\n                      case 'L':\r\n                          return window.SVGPathSeg.PATHSEG_LINETO_ABS;\r\n                      case 'l':\r\n                          return window.SVGPathSeg.PATHSEG_LINETO_REL;\r\n                      case 'C':\r\n                          return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;\r\n                      case 'c':\r\n                          return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;\r\n                      case 'Q':\r\n                          return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;\r\n                      case 'q':\r\n                          return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;\r\n                      case 'A':\r\n                          return window.SVGPathSeg.PATHSEG_ARC_ABS;\r\n                      case 'a':\r\n                          return window.SVGPathSeg.PATHSEG_ARC_REL;\r\n                      case 'H':\r\n                          return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;\r\n                      case 'h':\r\n                          return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;\r\n                      case 'V':\r\n                          return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;\r\n                      case 'v':\r\n                          return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;\r\n                      case 'S':\r\n                          return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;\r\n                      case 's':\r\n                          return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;\r\n                      case 'T':\r\n                          return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;\r\n                      case 't':\r\n                          return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;\r\n                      default:\r\n                          return window.SVGPathSeg.PATHSEG_UNKNOWN;\r\n                  }\r\n              };\r\n              Source.prototype._nextCommandHelper = function (lookahead, previousCommand) {\r\n                  // Check for remaining coordinates in the current command.\r\n                  if ((lookahead == '+' ||\r\n                      lookahead == '-' ||\r\n                      lookahead == '.' ||\r\n                      (lookahead >= '0' && lookahead <= '9')) &&\r\n                      previousCommand != window.SVGPathSeg.PATHSEG_CLOSEPATH) {\r\n                      if (previousCommand == window.SVGPathSeg.PATHSEG_MOVETO_ABS)\r\n                          return window.SVGPathSeg.PATHSEG_LINETO_ABS;\r\n                      if (previousCommand == window.SVGPathSeg.PATHSEG_MOVETO_REL)\r\n                          return window.SVGPathSeg.PATHSEG_LINETO_REL;\r\n                      return previousCommand;\r\n                  }\r\n                  return window.SVGPathSeg.PATHSEG_UNKNOWN;\r\n              };\r\n              Source.prototype.initialCommandIsMoveTo = function () {\r\n                  // If the path is empty it is still valid, so return true.\r\n                  if (!this.hasMoreData())\r\n                      return true;\r\n                  var command = this.peekSegmentType();\r\n                  // Path must start with moveTo.\r\n                  return (command == window.SVGPathSeg.PATHSEG_MOVETO_ABS ||\r\n                      command == window.SVGPathSeg.PATHSEG_MOVETO_REL);\r\n              };\r\n              // Parse a number from an SVG path. This very closely follows genericParseNumber(...) from Source/core/svg/SVGParserUtilities.cpp.\r\n              // Spec: http://www.w3.org/TR/SVG11/single-page.html#paths-PathDataBNF\r\n              Source.prototype._parseNumber = function () {\r\n                  var exponent = 0;\r\n                  var integer = 0;\r\n                  var frac = 1;\r\n                  var decimal = 0;\r\n                  var sign = 1;\r\n                  var expsign = 1;\r\n                  var startIndex = this._currentIndex;\r\n                  this._skipOptionalSpaces();\r\n                  // Read the sign.\r\n                  if (this._currentIndex < this._endIndex &&\r\n                      this._string.charAt(this._currentIndex) == '+')\r\n                      this._currentIndex++;\r\n                  else if (this._currentIndex < this._endIndex &&\r\n                      this._string.charAt(this._currentIndex) == '-') {\r\n                      this._currentIndex++;\r\n                      sign = -1;\r\n                  }\r\n                  if (this._currentIndex == this._endIndex ||\r\n                      ((this._string.charAt(this._currentIndex) < '0' ||\r\n                          this._string.charAt(this._currentIndex) > '9') &&\r\n                          this._string.charAt(this._currentIndex) != '.'))\r\n                      // The first character of a number must be one of [0-9+-.].\r\n                      return undefined;\r\n                  // Read the integer part, build right-to-left.\r\n                  var startIntPartIndex = this._currentIndex;\r\n                  while (this._currentIndex < this._endIndex &&\r\n                      this._string.charAt(this._currentIndex) >= '0' &&\r\n                      this._string.charAt(this._currentIndex) <= '9')\r\n                      this._currentIndex++; // Advance to first non-digit.\r\n                  if (this._currentIndex != startIntPartIndex) {\r\n                      var scanIntPartIndex = this._currentIndex - 1;\r\n                      var multiplier = 1;\r\n                      while (scanIntPartIndex >= startIntPartIndex) {\r\n                          integer +=\r\n                              multiplier * (this._string.charAt(scanIntPartIndex--) - '0');\r\n                          multiplier *= 10;\r\n                      }\r\n                  }\r\n                  // Read the decimals.\r\n                  if (this._currentIndex < this._endIndex &&\r\n                      this._string.charAt(this._currentIndex) == '.') {\r\n                      this._currentIndex++;\r\n                      // There must be a least one digit following the .\r\n                      if (this._currentIndex >= this._endIndex ||\r\n                          this._string.charAt(this._currentIndex) < '0' ||\r\n                          this._string.charAt(this._currentIndex) > '9')\r\n                          return undefined;\r\n                      while (this._currentIndex < this._endIndex &&\r\n                          this._string.charAt(this._currentIndex) >= '0' &&\r\n                          this._string.charAt(this._currentIndex) <= '9') {\r\n                          frac *= 10;\r\n                          decimal += (this._string.charAt(this._currentIndex) - '0') / frac;\r\n                          this._currentIndex += 1;\r\n                      }\r\n                  }\r\n                  // Read the exponent part.\r\n                  if (this._currentIndex != startIndex &&\r\n                      this._currentIndex + 1 < this._endIndex &&\r\n                      (this._string.charAt(this._currentIndex) == 'e' ||\r\n                          this._string.charAt(this._currentIndex) == 'E') &&\r\n                      this._string.charAt(this._currentIndex + 1) != 'x' &&\r\n                      this._string.charAt(this._currentIndex + 1) != 'm') {\r\n                      this._currentIndex++;\r\n                      // Read the sign of the exponent.\r\n                      if (this._string.charAt(this._currentIndex) == '+') {\r\n                          this._currentIndex++;\r\n                      }\r\n                      else if (this._string.charAt(this._currentIndex) == '-') {\r\n                          this._currentIndex++;\r\n                          expsign = -1;\r\n                      }\r\n                      // There must be an exponent.\r\n                      if (this._currentIndex >= this._endIndex ||\r\n                          this._string.charAt(this._currentIndex) < '0' ||\r\n                          this._string.charAt(this._currentIndex) > '9')\r\n                          return undefined;\r\n                      while (this._currentIndex < this._endIndex &&\r\n                          this._string.charAt(this._currentIndex) >= '0' &&\r\n                          this._string.charAt(this._currentIndex) <= '9') {\r\n                          exponent *= 10;\r\n                          exponent += this._string.charAt(this._currentIndex) - '0';\r\n                          this._currentIndex++;\r\n                      }\r\n                  }\r\n                  var number = integer + decimal;\r\n                  number *= sign;\r\n                  if (exponent)\r\n                      number *= Math.pow(10, expsign * exponent);\r\n                  if (startIndex == this._currentIndex)\r\n                      return undefined;\r\n                  this._skipOptionalSpacesOrDelimiter();\r\n                  return number;\r\n              };\r\n              Source.prototype._parseArcFlag = function () {\r\n                  if (this._currentIndex >= this._endIndex)\r\n                      return undefined;\r\n                  var flag = false;\r\n                  var flagChar = this._string.charAt(this._currentIndex++);\r\n                  if (flagChar == '0')\r\n                      flag = false;\r\n                  else if (flagChar == '1')\r\n                      flag = true;\r\n                  else\r\n                      return undefined;\r\n                  this._skipOptionalSpacesOrDelimiter();\r\n                  return flag;\r\n              };\r\n              Source.prototype.parseSegment = function () {\r\n                  var lookahead = this._string[this._currentIndex];\r\n                  var command = this._pathSegTypeFromChar(lookahead);\r\n                  if (command == window.SVGPathSeg.PATHSEG_UNKNOWN) {\r\n                      // Possibly an implicit command. Not allowed if this is the first command.\r\n                      if (this._previousCommand == window.SVGPathSeg.PATHSEG_UNKNOWN)\r\n                          return null;\r\n                      command = this._nextCommandHelper(lookahead, this._previousCommand);\r\n                      if (command == window.SVGPathSeg.PATHSEG_UNKNOWN)\r\n                          return null;\r\n                  }\r\n                  else {\r\n                      this._currentIndex++;\r\n                  }\r\n                  this._previousCommand = command;\r\n                  switch (command) {\r\n                      case window.SVGPathSeg.PATHSEG_MOVETO_REL:\r\n                          return new window.SVGPathSegMovetoRel(owningPathSegList, this._parseNumber(), this._parseNumber());\r\n                      case window.SVGPathSeg.PATHSEG_MOVETO_ABS:\r\n                          return new window.SVGPathSegMovetoAbs(owningPathSegList, this._parseNumber(), this._parseNumber());\r\n                      case window.SVGPathSeg.PATHSEG_LINETO_REL:\r\n                          return new window.SVGPathSegLinetoRel(owningPathSegList, this._parseNumber(), this._parseNumber());\r\n                      case window.SVGPathSeg.PATHSEG_LINETO_ABS:\r\n                          return new window.SVGPathSegLinetoAbs(owningPathSegList, this._parseNumber(), this._parseNumber());\r\n                      case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:\r\n                          return new window.SVGPathSegLinetoHorizontalRel(owningPathSegList, this._parseNumber());\r\n                      case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:\r\n                          return new window.SVGPathSegLinetoHorizontalAbs(owningPathSegList, this._parseNumber());\r\n                      case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:\r\n                          return new window.SVGPathSegLinetoVerticalRel(owningPathSegList, this._parseNumber());\r\n                      case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:\r\n                          return new window.SVGPathSegLinetoVerticalAbs(owningPathSegList, this._parseNumber());\r\n                      case window.SVGPathSeg.PATHSEG_CLOSEPATH:\r\n                          this._skipOptionalSpaces();\r\n                          return new window.SVGPathSegClosePath(owningPathSegList);\r\n                      case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:\r\n                          var points = {\r\n                              x1: this._parseNumber(),\r\n                              y1: this._parseNumber(),\r\n                              x2: this._parseNumber(),\r\n                              y2: this._parseNumber(),\r\n                              x: this._parseNumber(),\r\n                              y: this._parseNumber()\r\n                          };\r\n                          return new window.SVGPathSegCurvetoCubicRel(owningPathSegList, points.x, points.y, points.x1, points.y1, points.x2, points.y2);\r\n                      case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:\r\n                          var points = {\r\n                              x1: this._parseNumber(),\r\n                              y1: this._parseNumber(),\r\n                              x2: this._parseNumber(),\r\n                              y2: this._parseNumber(),\r\n                              x: this._parseNumber(),\r\n                              y: this._parseNumber()\r\n                          };\r\n                          return new window.SVGPathSegCurvetoCubicAbs(owningPathSegList, points.x, points.y, points.x1, points.y1, points.x2, points.y2);\r\n                      case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:\r\n                          var points = {\r\n                              x2: this._parseNumber(),\r\n                              y2: this._parseNumber(),\r\n                              x: this._parseNumber(),\r\n                              y: this._parseNumber()\r\n                          };\r\n                          return new window.SVGPathSegCurvetoCubicSmoothRel(owningPathSegList, points.x, points.y, points.x2, points.y2);\r\n                      case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:\r\n                          var points = {\r\n                              x2: this._parseNumber(),\r\n                              y2: this._parseNumber(),\r\n                              x: this._parseNumber(),\r\n                              y: this._parseNumber()\r\n                          };\r\n                          return new window.SVGPathSegCurvetoCubicSmoothAbs(owningPathSegList, points.x, points.y, points.x2, points.y2);\r\n                      case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:\r\n                          var points = {\r\n                              x1: this._parseNumber(),\r\n                              y1: this._parseNumber(),\r\n                              x: this._parseNumber(),\r\n                              y: this._parseNumber()\r\n                          };\r\n                          return new window.SVGPathSegCurvetoQuadraticRel(owningPathSegList, points.x, points.y, points.x1, points.y1);\r\n                      case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:\r\n                          var points = {\r\n                              x1: this._parseNumber(),\r\n                              y1: this._parseNumber(),\r\n                              x: this._parseNumber(),\r\n                              y: this._parseNumber()\r\n                          };\r\n                          return new window.SVGPathSegCurvetoQuadraticAbs(owningPathSegList, points.x, points.y, points.x1, points.y1);\r\n                      case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:\r\n                          return new window.SVGPathSegCurvetoQuadraticSmoothRel(owningPathSegList, this._parseNumber(), this._parseNumber());\r\n                      case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:\r\n                          return new window.SVGPathSegCurvetoQuadraticSmoothAbs(owningPathSegList, this._parseNumber(), this._parseNumber());\r\n                      case window.SVGPathSeg.PATHSEG_ARC_REL:\r\n                          var points = {\r\n                              x1: this._parseNumber(),\r\n                              y1: this._parseNumber(),\r\n                              arcAngle: this._parseNumber(),\r\n                              arcLarge: this._parseArcFlag(),\r\n                              arcSweep: this._parseArcFlag(),\r\n                              x: this._parseNumber(),\r\n                              y: this._parseNumber()\r\n                          };\r\n                          return new window.SVGPathSegArcRel(owningPathSegList, points.x, points.y, points.x1, points.y1, points.arcAngle, points.arcLarge, points.arcSweep);\r\n                      case window.SVGPathSeg.PATHSEG_ARC_ABS:\r\n                          var points = {\r\n                              x1: this._parseNumber(),\r\n                              y1: this._parseNumber(),\r\n                              arcAngle: this._parseNumber(),\r\n                              arcLarge: this._parseArcFlag(),\r\n                              arcSweep: this._parseArcFlag(),\r\n                              x: this._parseNumber(),\r\n                              y: this._parseNumber()\r\n                          };\r\n                          return new window.SVGPathSegArcAbs(owningPathSegList, points.x, points.y, points.x1, points.y1, points.arcAngle, points.arcLarge, points.arcSweep);\r\n                      default:\r\n                          throw 'Unknown path seg type.';\r\n                  }\r\n              };\r\n              var builder = new Builder();\r\n              var source = new Source(string);\r\n              if (!source.initialCommandIsMoveTo())\r\n                  return [];\r\n              while (source.hasMoreData()) {\r\n                  var pathSeg = source.parseSegment();\r\n                  if (!pathSeg)\r\n                      return [];\r\n                  builder.appendSegment(pathSeg);\r\n              }\r\n              return builder.pathSegList;\r\n          };\r\n      }\r\n  })();\r\n  // String.padEnd polyfill for IE11\r\n  //\r\n  // https://github.com/uxitten/polyfill/blob/master/string.polyfill.js\r\n  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/padEnd\r\n  if (!String.prototype.padEnd) {\r\n      String.prototype.padEnd = function padEnd(targetLength, padString) {\r\n          targetLength = targetLength >> 0; //floor if number or convert non-number to 0;\r\n          padString = String(typeof padString !== 'undefined' ? padString : ' ');\r\n          if (this.length > targetLength) {\r\n              return String(this);\r\n          }\r\n          else {\r\n              targetLength = targetLength - this.length;\r\n              if (targetLength > padString.length) {\r\n                  padString += padString.repeat(targetLength / padString.length); //append to original to ensure we are longer than needed\r\n              }\r\n              return String(this) + padString.slice(0, targetLength);\r\n          }\r\n      };\r\n  }\r\n  // Object.assign polyfill for IE11\r\n  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign#Polyfill\r\n  if (typeof Object.assign !== 'function') {\r\n      // Must be writable: true, enumerable: false, configurable: true\r\n      Object.defineProperty(Object, 'assign', {\r\n          value: function assign(target, varArgs) {\r\n              if (target === null || target === undefined) {\r\n                  throw new TypeError('Cannot convert undefined or null to object');\r\n              }\r\n              var to = Object(target);\r\n              for (var index = 1; index < arguments.length; index++) {\r\n                  var nextSource = arguments[index];\r\n                  if (nextSource !== null && nextSource !== undefined) {\r\n                      for (var nextKey in nextSource) {\r\n                          // Avoid bugs when hasOwnProperty is shadowed\r\n                          if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\r\n                              to[nextKey] = nextSource[nextKey];\r\n                          }\r\n                      }\r\n                  }\r\n              }\r\n              return to;\r\n          },\r\n          writable: true,\r\n          configurable: true\r\n      });\r\n  }\r\n  /* jshint ignore:end */\n\n  Chart.prototype.axis = function () { };\r\n  Chart.prototype.axis.labels = function (labels) {\r\n      var $$ = this.internal;\r\n      if (arguments.length) {\r\n          Object.keys(labels).forEach(function (axisId) {\r\n              $$.axis.setLabelText(axisId, labels[axisId]);\r\n          });\r\n          $$.axis.updateLabels();\r\n      }\r\n      // TODO: return some values?\r\n  };\r\n  Chart.prototype.axis.max = function (max) {\r\n      var $$ = this.internal, config = $$.config;\r\n      if (arguments.length) {\r\n          if (typeof max === 'object') {\r\n              if (isValue(max.x)) {\r\n                  config.axis_x_max = max.x;\r\n              }\r\n              if (isValue(max.y)) {\r\n                  config.axis_y_max = max.y;\r\n              }\r\n              if (isValue(max.y2)) {\r\n                  config.axis_y2_max = max.y2;\r\n              }\r\n          }\r\n          else {\r\n              config.axis_y_max = config.axis_y2_max = max;\r\n          }\r\n          $$.redraw({ withUpdateOrgXDomain: true, withUpdateXDomain: true });\r\n      }\r\n      else {\r\n          return {\r\n              x: config.axis_x_max,\r\n              y: config.axis_y_max,\r\n              y2: config.axis_y2_max\r\n          };\r\n      }\r\n  };\r\n  Chart.prototype.axis.min = function (min) {\r\n      var $$ = this.internal, config = $$.config;\r\n      if (arguments.length) {\r\n          if (typeof min === 'object') {\r\n              if (isValue(min.x)) {\r\n                  config.axis_x_min = min.x;\r\n              }\r\n              if (isValue(min.y)) {\r\n                  config.axis_y_min = min.y;\r\n              }\r\n              if (isValue(min.y2)) {\r\n                  config.axis_y2_min = min.y2;\r\n              }\r\n          }\r\n          else {\r\n              config.axis_y_min = config.axis_y2_min = min;\r\n          }\r\n          $$.redraw({ withUpdateOrgXDomain: true, withUpdateXDomain: true });\r\n      }\r\n      else {\r\n          return {\r\n              x: config.axis_x_min,\r\n              y: config.axis_y_min,\r\n              y2: config.axis_y2_min\r\n          };\r\n      }\r\n  };\r\n  Chart.prototype.axis.range = function (range) {\r\n      if (arguments.length) {\r\n          if (isDefined(range.max)) {\r\n              this.axis.max(range.max);\r\n          }\r\n          if (isDefined(range.min)) {\r\n              this.axis.min(range.min);\r\n          }\r\n      }\r\n      else {\r\n          return {\r\n              max: this.axis.max(),\r\n              min: this.axis.min()\r\n          };\r\n      }\r\n  };\r\n  Chart.prototype.axis.types = function (types) {\r\n      var $$ = this.internal;\r\n      if (types === undefined) {\r\n          return {\r\n              y: $$.config.axis_y_type,\r\n              y2: $$.config.axis_y2_type\r\n          };\r\n      }\r\n      else {\r\n          if (isDefined(types.y)) {\r\n              $$.config.axis_y_type = types.y;\r\n          }\r\n          if (isDefined(types.y2)) {\r\n              $$.config.axis_y2_type = types.y2;\r\n          }\r\n          $$.updateScales();\r\n          $$.redraw();\r\n      }\r\n  };\n\n  Chart.prototype.category = function (i, category) {\r\n      var $$ = this.internal, config = $$.config;\r\n      if (arguments.length > 1) {\r\n          config.axis_x_categories[i] = category;\r\n          $$.redraw();\r\n      }\r\n      return config.axis_x_categories[i];\r\n  };\r\n  Chart.prototype.categories = function (categories) {\r\n      var $$ = this.internal, config = $$.config;\r\n      if (!arguments.length) {\r\n          return config.axis_x_categories;\r\n      }\r\n      config.axis_x_categories = categories;\r\n      $$.redraw();\r\n      return config.axis_x_categories;\r\n  };\n\n  Chart.prototype.resize = function (size) {\r\n      var $$ = this.internal, config = $$.config;\r\n      config.size_width = size ? size.width : null;\r\n      config.size_height = size ? size.height : null;\r\n      this.flush();\r\n  };\r\n  Chart.prototype.flush = function () {\r\n      var $$ = this.internal;\r\n      $$.updateAndRedraw({\r\n          withLegend: true,\r\n          withTransition: false,\r\n          withTransitionForTransform: false\r\n      });\r\n  };\r\n  Chart.prototype.destroy = function () {\r\n      var $$ = this.internal;\r\n      window.clearInterval($$.intervalForObserveInserted);\r\n      if ($$.resizeTimeout !== undefined) {\r\n          window.clearTimeout($$.resizeTimeout);\r\n      }\r\n      window.removeEventListener('resize', $$.resizeIfElementDisplayed);\r\n      // Removes the inner resize functions\r\n      $$.resizeFunction.remove();\r\n      // Unbinds from the window focus event\r\n      $$.unbindWindowFocus();\r\n      $$.selectChart.classed('c3', false).html('');\r\n      // MEMO: this is needed because the reference of some elements will not be released, then memory leak will happen.\r\n      Object.keys($$).forEach(function (key) {\r\n          $$[key] = null;\r\n      });\r\n      return null;\r\n  };\n\n  // TODO: fix\r\n  Chart.prototype.color = function (id) {\r\n      var $$ = this.internal;\r\n      return $$.color(id); // more patterns\r\n  };\n\n  Chart.prototype.data = function (targetIds) {\r\n      var targets = this.internal.data.targets;\r\n      return typeof targetIds === 'undefined'\r\n          ? targets\r\n          : targets.filter(function (t) {\r\n              return [].concat(targetIds).indexOf(t.id) >= 0;\r\n          });\r\n  };\r\n  Chart.prototype.data.shown = function (targetIds) {\r\n      return this.internal.filterTargetsToShow(this.data(targetIds));\r\n  };\r\n  /**\r\n   * Get values of the data loaded in the chart.\r\n   *\r\n   * @param {String|Array} targetId This API returns the value of specified target.\r\n   * @param flat\r\n   * @return {Array} Data values\r\n   */\r\n  Chart.prototype.data.values = function (targetId, flat) {\r\n      if (flat === void 0) { flat = true; }\r\n      var values = null;\r\n      if (targetId) {\r\n          var targets = this.data(targetId);\r\n          if (targets && isArray(targets)) {\r\n              values = targets.reduce(function (ret, v) {\r\n                  var dataValue = v.values.map(function (d) { return d.value; });\r\n                  if (flat) {\r\n                      ret = ret.concat(dataValue);\r\n                  }\r\n                  else {\r\n                      ret.push(dataValue);\r\n                  }\r\n                  return ret;\r\n              }, []);\r\n          }\r\n      }\r\n      return values;\r\n  };\r\n  Chart.prototype.data.names = function (names) {\r\n      this.internal.clearLegendItemTextBoxCache();\r\n      return this.internal.updateDataAttributes('names', names);\r\n  };\r\n  Chart.prototype.data.colors = function (colors) {\r\n      return this.internal.updateDataAttributes('colors', colors);\r\n  };\r\n  Chart.prototype.data.axes = function (axes) {\r\n      return this.internal.updateDataAttributes('axes', axes);\r\n  };\r\n  Chart.prototype.data.stackNormalized = function (normalized) {\r\n      if (normalized === undefined) {\r\n          return this.internal.isStackNormalized();\r\n      }\r\n      this.internal.config.data_stack_normalize = !!normalized;\r\n      this.internal.redraw();\r\n  };\n\n  Chart.prototype.donut = function () { };\r\n  Chart.prototype.donut.padAngle = function (padAngle) {\r\n      if (padAngle === undefined) {\r\n          return this.internal.config.donut_padAngle;\r\n      }\r\n      this.internal.config.donut_padAngle = padAngle;\r\n      this.flush();\r\n  };\n\n  Chart.prototype.flow = function (args) {\r\n      var $$ = this.internal, targets, data, notfoundIds = [], orgDataCount = $$.getMaxDataCount(), dataCount, domain, baseTarget, baseValue, length = 0, tail = 0, diff, to;\r\n      if (args.json) {\r\n          data = $$.convertJsonToData(args.json, args.keys);\r\n      }\r\n      else if (args.rows) {\r\n          data = $$.convertRowsToData(args.rows);\r\n      }\r\n      else if (args.columns) {\r\n          data = $$.convertColumnsToData(args.columns);\r\n      }\r\n      else {\r\n          return;\r\n      }\r\n      targets = $$.convertDataToTargets(data, true);\r\n      // Update/Add data\r\n      $$.data.targets.forEach(function (t) {\r\n          var found = false, i, j;\r\n          for (i = 0; i < targets.length; i++) {\r\n              if (t.id === targets[i].id) {\r\n                  found = true;\r\n                  if (t.values[t.values.length - 1]) {\r\n                      tail = t.values[t.values.length - 1].index + 1;\r\n                  }\r\n                  length = targets[i].values.length;\r\n                  for (j = 0; j < length; j++) {\r\n                      targets[i].values[j].index = tail + j;\r\n                      if (!$$.isTimeSeries()) {\r\n                          targets[i].values[j].x = tail + j;\r\n                      }\r\n                  }\r\n                  t.values = t.values.concat(targets[i].values);\r\n                  targets.splice(i, 1);\r\n                  break;\r\n              }\r\n          }\r\n          if (!found) {\r\n              notfoundIds.push(t.id);\r\n          }\r\n      });\r\n      // Append null for not found targets\r\n      $$.data.targets.forEach(function (t) {\r\n          var i, j;\r\n          for (i = 0; i < notfoundIds.length; i++) {\r\n              if (t.id === notfoundIds[i]) {\r\n                  tail = t.values[t.values.length - 1].index + 1;\r\n                  for (j = 0; j < length; j++) {\r\n                      t.values.push({\r\n                          id: t.id,\r\n                          index: tail + j,\r\n                          x: $$.isTimeSeries() ? $$.getOtherTargetX(tail + j) : tail + j,\r\n                          value: null\r\n                      });\r\n                  }\r\n              }\r\n          }\r\n      });\r\n      // Generate null values for new target\r\n      if ($$.data.targets.length) {\r\n          targets.forEach(function (t) {\r\n              var i, missing = [];\r\n              for (i = $$.data.targets[0].values[0].index; i < tail; i++) {\r\n                  missing.push({\r\n                      id: t.id,\r\n                      index: i,\r\n                      x: $$.isTimeSeries() ? $$.getOtherTargetX(i) : i,\r\n                      value: null\r\n                  });\r\n              }\r\n              t.values.forEach(function (v) {\r\n                  v.index += tail;\r\n                  if (!$$.isTimeSeries()) {\r\n                      v.x += tail;\r\n                  }\r\n              });\r\n              t.values = missing.concat(t.values);\r\n          });\r\n      }\r\n      $$.data.targets = $$.data.targets.concat(targets); // add remained\r\n      // check data count because behavior needs to change when it's only one\r\n      dataCount = $$.getMaxDataCount();\r\n      baseTarget = $$.data.targets[0];\r\n      baseValue = baseTarget.values[0];\r\n      // Update length to flow if needed\r\n      if (isDefined(args.to)) {\r\n          length = 0;\r\n          to = $$.isTimeSeries() ? $$.parseDate(args.to) : args.to;\r\n          baseTarget.values.forEach(function (v) {\r\n              if (v.x < to) {\r\n                  length++;\r\n              }\r\n          });\r\n      }\r\n      else if (isDefined(args.length)) {\r\n          length = args.length;\r\n      }\r\n      // If only one data, update the domain to flow from left edge of the chart\r\n      if (!orgDataCount) {\r\n          if ($$.isTimeSeries()) {\r\n              if (baseTarget.values.length > 1) {\r\n                  diff = baseTarget.values[baseTarget.values.length - 1].x - baseValue.x;\r\n              }\r\n              else {\r\n                  diff = baseValue.x - $$.getXDomain($$.data.targets)[0];\r\n              }\r\n          }\r\n          else {\r\n              diff = 1;\r\n          }\r\n          domain = [baseValue.x - diff, baseValue.x];\r\n          $$.updateXDomain(null, true, true, false, domain);\r\n      }\r\n      else if (orgDataCount === 1) {\r\n          if ($$.isTimeSeries()) {\r\n              diff =\r\n                  (baseTarget.values[baseTarget.values.length - 1].x - baseValue.x) / 2;\r\n              domain = [new Date(+baseValue.x - diff), new Date(+baseValue.x + diff)];\r\n              $$.updateXDomain(null, true, true, false, domain);\r\n          }\r\n      }\r\n      // Set targets\r\n      $$.updateTargets($$.data.targets);\r\n      // Redraw with new targets\r\n      $$.redraw({\r\n          flow: {\r\n              index: baseValue.index,\r\n              length: length,\r\n              duration: isValue(args.duration)\r\n                  ? args.duration\r\n                  : $$.config.transition_duration,\r\n              done: args.done,\r\n              orgDataCount: orgDataCount\r\n          },\r\n          withLegend: true,\r\n          withTransition: orgDataCount > 1,\r\n          withTrimXDomain: false,\r\n          withUpdateXAxis: true\r\n      });\r\n  };\r\n  ChartInternal.prototype.generateFlow = function (args) {\r\n      var $$ = this, config = $$.config, d3 = $$.d3;\r\n      return function () {\r\n          var targets = args.targets, flow = args.flow, drawBar = args.drawBar, drawLine = args.drawLine, drawArea = args.drawArea, cx = args.cx, cy = args.cy, xv = args.xv, xForText = args.xForText, yForText = args.yForText, duration = args.duration;\r\n          var translateX, scaleX = 1, transform, flowIndex = flow.index, flowLength = flow.length, flowStart = $$.getValueOnIndex($$.data.targets[0].values, flowIndex), flowEnd = $$.getValueOnIndex($$.data.targets[0].values, flowIndex + flowLength), orgDomain = $$.x.domain(), domain, durationForFlow = flow.duration || duration, done = flow.done || function () { }, wait = $$.generateWait();\r\n          var xgrid, xgridLines, mainRegion, mainText, mainBar, mainLine, mainArea, mainCircle;\r\n          // set flag\r\n          $$.flowing = true;\r\n          // remove head data after rendered\r\n          $$.data.targets.forEach(function (d) {\r\n              d.values.splice(0, flowLength);\r\n          });\r\n          // update x domain to generate axis elements for flow\r\n          domain = $$.updateXDomain(targets, true, true);\r\n          // update elements related to x scale\r\n          if ($$.updateXGrid) {\r\n              $$.updateXGrid(true);\r\n          }\r\n          xgrid = $$.xgrid || d3.selectAll([]); // xgrid needs to be obtained after updateXGrid\r\n          xgridLines = $$.xgridLines || d3.selectAll([]);\r\n          mainRegion = $$.mainRegion || d3.selectAll([]);\r\n          mainText = $$.mainText || d3.selectAll([]);\r\n          mainBar = $$.mainBar || d3.selectAll([]);\r\n          mainLine = $$.mainLine || d3.selectAll([]);\r\n          mainArea = $$.mainArea || d3.selectAll([]);\r\n          mainCircle = $$.mainCircle || d3.selectAll([]);\r\n          // generate transform to flow\r\n          if (!flow.orgDataCount) {\r\n              // if empty\r\n              if ($$.data.targets[0].values.length !== 1) {\r\n                  translateX = $$.x(orgDomain[0]) - $$.x(domain[0]);\r\n              }\r\n              else {\r\n                  if ($$.isTimeSeries()) {\r\n                      flowStart = $$.getValueOnIndex($$.data.targets[0].values, 0);\r\n                      flowEnd = $$.getValueOnIndex($$.data.targets[0].values, $$.data.targets[0].values.length - 1);\r\n                      translateX = $$.x(flowStart.x) - $$.x(flowEnd.x);\r\n                  }\r\n                  else {\r\n                      translateX = diffDomain(domain) / 2;\r\n                  }\r\n              }\r\n          }\r\n          else if (flow.orgDataCount === 1 ||\r\n              (flowStart && flowStart.x) === (flowEnd && flowEnd.x)) {\r\n              translateX = $$.x(orgDomain[0]) - $$.x(domain[0]);\r\n          }\r\n          else {\r\n              if ($$.isTimeSeries()) {\r\n                  translateX = $$.x(orgDomain[0]) - $$.x(domain[0]);\r\n              }\r\n              else {\r\n                  translateX = $$.x(flowStart.x) - $$.x(flowEnd.x);\r\n              }\r\n          }\r\n          scaleX = diffDomain(orgDomain) / diffDomain(domain);\r\n          transform = 'translate(' + translateX + ',0) scale(' + scaleX + ',1)';\r\n          $$.hideXGridFocus();\r\n          var flowTransition = d3\r\n              .transition()\r\n              .ease(d3.easeLinear)\r\n              .duration(durationForFlow);\r\n          wait.add($$.xAxis($$.axes.x, flowTransition));\r\n          wait.add(mainBar.transition(flowTransition).attr('transform', transform));\r\n          wait.add(mainLine.transition(flowTransition).attr('transform', transform));\r\n          wait.add(mainArea.transition(flowTransition).attr('transform', transform));\r\n          wait.add(mainCircle.transition(flowTransition).attr('transform', transform));\r\n          wait.add(mainText.transition(flowTransition).attr('transform', transform));\r\n          wait.add(mainRegion\r\n              .filter($$.isRegionOnX)\r\n              .transition(flowTransition)\r\n              .attr('transform', transform));\r\n          wait.add(xgrid.transition(flowTransition).attr('transform', transform));\r\n          wait.add(xgridLines.transition(flowTransition).attr('transform', transform));\r\n          wait(function () {\r\n              var i, shapes = [], texts = [];\r\n              // remove flowed elements\r\n              if (flowLength) {\r\n                  for (i = 0; i < flowLength; i++) {\r\n                      shapes.push('.' + CLASS.shape + '-' + (flowIndex + i));\r\n                      texts.push('.' + CLASS.text + '-' + (flowIndex + i));\r\n                  }\r\n                  $$.svg\r\n                      .selectAll('.' + CLASS.shapes)\r\n                      .selectAll(shapes)\r\n                      .remove();\r\n                  $$.svg\r\n                      .selectAll('.' + CLASS.texts)\r\n                      .selectAll(texts)\r\n                      .remove();\r\n                  $$.svg.select('.' + CLASS.xgrid).remove();\r\n              }\r\n              // draw again for removing flowed elements and reverting attr\r\n              xgrid\r\n                  .attr('transform', null)\r\n                  .attr('x1', $$.xgridAttr.x1)\r\n                  .attr('x2', $$.xgridAttr.x2)\r\n                  .attr('y1', $$.xgridAttr.y1)\r\n                  .attr('y2', $$.xgridAttr.y2)\r\n                  .style('opacity', $$.xgridAttr.opacity);\r\n              xgridLines.attr('transform', null);\r\n              xgridLines\r\n                  .select('line')\r\n                  .attr('x1', config.axis_rotated ? 0 : xv)\r\n                  .attr('x2', config.axis_rotated ? $$.width : xv);\r\n              xgridLines\r\n                  .select('text')\r\n                  .attr('x', config.axis_rotated ? $$.width : 0)\r\n                  .attr('y', xv);\r\n              mainBar.attr('transform', null).attr('d', drawBar);\r\n              mainLine.attr('transform', null).attr('d', drawLine);\r\n              mainArea.attr('transform', null).attr('d', drawArea);\r\n              mainCircle\r\n                  .attr('transform', null)\r\n                  .attr('cx', cx)\r\n                  .attr('cy', cy);\r\n              mainText\r\n                  .attr('transform', null)\r\n                  .attr('x', xForText)\r\n                  .attr('y', yForText)\r\n                  .style('fill-opacity', $$.opacityForText.bind($$));\r\n              mainRegion.attr('transform', null);\r\n              mainRegion\r\n                  .filter($$.isRegionOnX)\r\n                  .attr('x', $$.regionX.bind($$))\r\n                  .attr('width', $$.regionWidth.bind($$));\r\n              // callback for end of flow\r\n              done();\r\n              $$.flowing = false;\r\n          });\r\n      };\r\n  };\n\n  Chart.prototype.focus = function (targetIds) {\r\n      var $$ = this.internal, candidates;\r\n      targetIds = $$.mapToTargetIds(targetIds);\r\n      (candidates = $$.svg.selectAll($$.selectorTargets(targetIds.filter($$.isTargetToShow, $$)))),\r\n          this.revert();\r\n      this.defocus();\r\n      candidates.classed(CLASS.focused, true).classed(CLASS.defocused, false);\r\n      if ($$.hasArcType()) {\r\n          $$.expandArc(targetIds);\r\n      }\r\n      $$.toggleFocusLegend(targetIds, true);\r\n      $$.focusedTargetIds = targetIds;\r\n      $$.defocusedTargetIds = $$.defocusedTargetIds.filter(function (id) {\r\n          return targetIds.indexOf(id) < 0;\r\n      });\r\n  };\r\n  Chart.prototype.defocus = function (targetIds) {\r\n      var $$ = this.internal, candidates;\r\n      targetIds = $$.mapToTargetIds(targetIds);\r\n      (candidates = $$.svg.selectAll($$.selectorTargets(targetIds.filter($$.isTargetToShow, $$)))),\r\n          candidates.classed(CLASS.focused, false).classed(CLASS.defocused, true);\r\n      if ($$.hasArcType()) {\r\n          $$.unexpandArc(targetIds);\r\n      }\r\n      $$.toggleFocusLegend(targetIds, false);\r\n      $$.focusedTargetIds = $$.focusedTargetIds.filter(function (id) {\r\n          return targetIds.indexOf(id) < 0;\r\n      });\r\n      $$.defocusedTargetIds = targetIds;\r\n  };\r\n  Chart.prototype.revert = function (targetIds) {\r\n      var $$ = this.internal, candidates;\r\n      targetIds = $$.mapToTargetIds(targetIds);\r\n      candidates = $$.svg.selectAll($$.selectorTargets(targetIds)); // should be for all targets\r\n      candidates.classed(CLASS.focused, false).classed(CLASS.defocused, false);\r\n      if ($$.hasArcType()) {\r\n          $$.unexpandArc(targetIds);\r\n      }\r\n      if ($$.config.legend_show) {\r\n          $$.showLegend(targetIds.filter($$.isLegendToShow.bind($$)));\r\n          $$.legend\r\n              .selectAll($$.selectorLegends(targetIds))\r\n              .filter(function () {\r\n              return $$.d3.select(this).classed(CLASS.legendItemFocused);\r\n          })\r\n              .classed(CLASS.legendItemFocused, false);\r\n      }\r\n      $$.focusedTargetIds = [];\r\n      $$.defocusedTargetIds = [];\r\n  };\n\n  Chart.prototype.xgrids = function (grids) {\r\n      var $$ = this.internal, config = $$.config;\r\n      if (!grids) {\r\n          return config.grid_x_lines;\r\n      }\r\n      config.grid_x_lines = grids;\r\n      $$.redrawWithoutRescale();\r\n      return config.grid_x_lines;\r\n  };\r\n  Chart.prototype.xgrids.add = function (grids) {\r\n      var $$ = this.internal;\r\n      return this.xgrids($$.config.grid_x_lines.concat(grids ? grids : []));\r\n  };\r\n  Chart.prototype.xgrids.remove = function (params) {\r\n      // TODO: multiple\r\n      var $$ = this.internal;\r\n      $$.removeGridLines(params, true);\r\n  };\r\n  Chart.prototype.ygrids = function (grids) {\r\n      var $$ = this.internal, config = $$.config;\r\n      if (!grids) {\r\n          return config.grid_y_lines;\r\n      }\r\n      config.grid_y_lines = grids;\r\n      $$.redrawWithoutRescale();\r\n      return config.grid_y_lines;\r\n  };\r\n  Chart.prototype.ygrids.add = function (grids) {\r\n      var $$ = this.internal;\r\n      return this.ygrids($$.config.grid_y_lines.concat(grids ? grids : []));\r\n  };\r\n  Chart.prototype.ygrids.remove = function (params) {\r\n      // TODO: multiple\r\n      var $$ = this.internal;\r\n      $$.removeGridLines(params, false);\r\n  };\n\n  Chart.prototype.groups = function (groups) {\r\n      var $$ = this.internal, config = $$.config;\r\n      if (isUndefined(groups)) {\r\n          return config.data_groups;\r\n      }\r\n      config.data_groups = groups;\r\n      $$.redraw();\r\n      return config.data_groups;\r\n  };\n\n  Chart.prototype.legend = function () { };\r\n  Chart.prototype.legend.show = function (targetIds) {\r\n      var $$ = this.internal;\r\n      $$.showLegend($$.mapToTargetIds(targetIds));\r\n      $$.updateAndRedraw({ withLegend: true });\r\n  };\r\n  Chart.prototype.legend.hide = function (targetIds) {\r\n      var $$ = this.internal;\r\n      $$.hideLegend($$.mapToTargetIds(targetIds));\r\n      $$.updateAndRedraw({ withLegend: false });\r\n  };\n\n  Chart.prototype.load = function (args) {\r\n      var $$ = this.internal, config = $$.config;\r\n      // update xs if specified\r\n      if (args.xs) {\r\n          $$.addXs(args.xs);\r\n      }\r\n      // update names if exists\r\n      if ('names' in args) {\r\n          Chart.prototype.data.names.bind(this)(args.names);\r\n      }\r\n      // update classes if exists\r\n      if ('classes' in args) {\r\n          Object.keys(args.classes).forEach(function (id) {\r\n              config.data_classes[id] = args.classes[id];\r\n          });\r\n      }\r\n      // update categories if exists\r\n      if ('categories' in args && $$.isCategorized()) {\r\n          config.axis_x_categories = args.categories;\r\n      }\r\n      // update axes if exists\r\n      if ('axes' in args) {\r\n          Object.keys(args.axes).forEach(function (id) {\r\n              config.data_axes[id] = args.axes[id];\r\n          });\r\n      }\r\n      // update colors if exists\r\n      if ('colors' in args) {\r\n          Object.keys(args.colors).forEach(function (id) {\r\n              config.data_colors[id] = args.colors[id];\r\n          });\r\n      }\r\n      // use cache if exists\r\n      if ('cacheIds' in args && $$.hasCaches(args.cacheIds)) {\r\n          $$.load($$.getCaches(args.cacheIds), args.done);\r\n          return;\r\n      }\r\n      // unload if needed\r\n      if (args.unload) {\r\n          // TODO: do not unload if target will load (included in url/rows/columns)\r\n          $$.unload($$.mapToTargetIds(args.unload === true ? null : args.unload), function () {\r\n              $$.loadFromArgs(args);\r\n          });\r\n      }\r\n      else {\r\n          $$.loadFromArgs(args);\r\n      }\r\n  };\r\n  Chart.prototype.unload = function (args) {\r\n      var $$ = this.internal;\r\n      args = args || {};\r\n      if (args instanceof Array) {\r\n          args = { ids: args };\r\n      }\r\n      else if (typeof args === 'string') {\r\n          args = { ids: [args] };\r\n      }\r\n      $$.unload($$.mapToTargetIds(args.ids), function () {\r\n          $$.redraw({\r\n              withUpdateOrgXDomain: true,\r\n              withUpdateXDomain: true,\r\n              withLegend: true\r\n          });\r\n          if (args.done) {\r\n              args.done();\r\n          }\r\n      });\r\n  };\n\n  Chart.prototype.pie = function () { };\r\n  Chart.prototype.pie.padAngle = function (padAngle) {\r\n      if (padAngle === undefined) {\r\n          return this.internal.config.pie_padAngle;\r\n      }\r\n      this.internal.config.pie_padAngle = padAngle;\r\n      this.flush();\r\n  };\n\n  Chart.prototype.regions = function (regions) {\r\n      var $$ = this.internal, config = $$.config;\r\n      if (!regions) {\r\n          return config.regions;\r\n      }\r\n      config.regions = regions;\r\n      $$.redrawWithoutRescale();\r\n      return config.regions;\r\n  };\r\n  Chart.prototype.regions.add = function (regions) {\r\n      var $$ = this.internal, config = $$.config;\r\n      if (!regions) {\r\n          return config.regions;\r\n      }\r\n      config.regions = config.regions.concat(regions);\r\n      $$.redrawWithoutRescale();\r\n      return config.regions;\r\n  };\r\n  Chart.prototype.regions.remove = function (options) {\r\n      var $$ = this.internal, config = $$.config, duration, classes, regions;\r\n      options = options || {};\r\n      duration = getOption(options, 'duration', config.transition_duration);\r\n      classes = getOption(options, 'classes', [CLASS.region]);\r\n      regions = $$.main.select('.' + CLASS.regions).selectAll(classes.map(function (c) {\r\n          return '.' + c;\r\n      }));\r\n      (duration ? regions.transition().duration(duration) : regions)\r\n          .style('opacity', 0)\r\n          .remove();\r\n      config.regions = config.regions.filter(function (region) {\r\n          var found = false;\r\n          if (!region['class']) {\r\n              return true;\r\n          }\r\n          region['class'].split(' ').forEach(function (c) {\r\n              if (classes.indexOf(c) >= 0) {\r\n                  found = true;\r\n              }\r\n          });\r\n          return !found;\r\n      });\r\n      return config.regions;\r\n  };\n\n  Chart.prototype.selected = function (targetId) {\r\n      var $$ = this.internal, d3 = $$.d3;\r\n      return $$.main\r\n          .selectAll('.' + CLASS.shapes + $$.getTargetSelectorSuffix(targetId))\r\n          .selectAll('.' + CLASS.shape)\r\n          .filter(function () {\r\n          return d3.select(this).classed(CLASS.SELECTED);\r\n      })\r\n          .nodes()\r\n          .map(function (d) {\r\n          var data = d.__data__;\r\n          return data.data ? data.data : data;\r\n      });\r\n  };\r\n  Chart.prototype.select = function (ids, indices, resetOther) {\r\n      var $$ = this.internal, d3 = $$.d3, config = $$.config;\r\n      if (!config.data_selection_enabled) {\r\n          return;\r\n      }\r\n      $$.main\r\n          .selectAll('.' + CLASS.shapes)\r\n          .selectAll('.' + CLASS.shape)\r\n          .each(function (d, i) {\r\n          var shape = d3.select(this), id = d.data ? d.data.id : d.id, toggle = $$.getToggle(this, d).bind($$), isTargetId = config.data_selection_grouped || !ids || ids.indexOf(id) >= 0, isTargetIndex = !indices || indices.indexOf(i) >= 0, isSelected = shape.classed(CLASS.SELECTED);\r\n          // line/area selection not supported yet\r\n          if (shape.classed(CLASS.line) || shape.classed(CLASS.area)) {\r\n              return;\r\n          }\r\n          if (isTargetId && isTargetIndex) {\r\n              if (config.data_selection_isselectable(d) && !isSelected) {\r\n                  toggle(true, shape.classed(CLASS.SELECTED, true), d, i);\r\n              }\r\n          }\r\n          else if (isDefined(resetOther) && resetOther) {\r\n              if (isSelected) {\r\n                  toggle(false, shape.classed(CLASS.SELECTED, false), d, i);\r\n              }\r\n          }\r\n      });\r\n  };\r\n  Chart.prototype.unselect = function (ids, indices) {\r\n      var $$ = this.internal, d3 = $$.d3, config = $$.config;\r\n      if (!config.data_selection_enabled) {\r\n          return;\r\n      }\r\n      $$.main\r\n          .selectAll('.' + CLASS.shapes)\r\n          .selectAll('.' + CLASS.shape)\r\n          .each(function (d, i) {\r\n          var shape = d3.select(this), id = d.data ? d.data.id : d.id, toggle = $$.getToggle(this, d).bind($$), isTargetId = config.data_selection_grouped || !ids || ids.indexOf(id) >= 0, isTargetIndex = !indices || indices.indexOf(i) >= 0, isSelected = shape.classed(CLASS.SELECTED);\r\n          // line/area selection not supported yet\r\n          if (shape.classed(CLASS.line) || shape.classed(CLASS.area)) {\r\n              return;\r\n          }\r\n          if (isTargetId && isTargetIndex) {\r\n              if (config.data_selection_isselectable(d)) {\r\n                  if (isSelected) {\r\n                      toggle(false, shape.classed(CLASS.SELECTED, false), d, i);\r\n                  }\r\n              }\r\n          }\r\n      });\r\n  };\n\n  Chart.prototype.show = function (targetIds, options) {\r\n      var $$ = this.internal, targets;\r\n      targetIds = $$.mapToTargetIds(targetIds);\r\n      options = options || {};\r\n      $$.removeHiddenTargetIds(targetIds);\r\n      targets = $$.svg.selectAll($$.selectorTargets(targetIds));\r\n      targets\r\n          .transition()\r\n          .style('display', isIE() ? 'block' : 'initial', 'important')\r\n          .style('opacity', 1, 'important')\r\n          .call($$.endall, function () {\r\n          targets.style('opacity', null).style('opacity', 1);\r\n      });\r\n      if (options.withLegend) {\r\n          $$.showLegend(targetIds);\r\n      }\r\n      $$.redraw({\r\n          withUpdateOrgXDomain: true,\r\n          withUpdateXDomain: true,\r\n          withLegend: true\r\n      });\r\n  };\r\n  Chart.prototype.hide = function (targetIds, options) {\r\n      var $$ = this.internal, targets;\r\n      targetIds = $$.mapToTargetIds(targetIds);\r\n      options = options || {};\r\n      $$.addHiddenTargetIds(targetIds);\r\n      targets = $$.svg.selectAll($$.selectorTargets(targetIds));\r\n      targets\r\n          .transition()\r\n          .style('opacity', 0, 'important')\r\n          .call($$.endall, function () {\r\n          targets.style('opacity', null).style('opacity', 0);\r\n          targets.style('display', 'none');\r\n      });\r\n      if (options.withLegend) {\r\n          $$.hideLegend(targetIds);\r\n      }\r\n      $$.redraw({\r\n          withUpdateOrgXDomain: true,\r\n          withUpdateXDomain: true,\r\n          withLegend: true\r\n      });\r\n  };\r\n  Chart.prototype.toggle = function (targetIds, options) {\r\n      var that = this, $$ = this.internal;\r\n      $$.mapToTargetIds(targetIds).forEach(function (targetId) {\r\n          $$.isTargetToShow(targetId)\r\n              ? that.hide(targetId, options)\r\n              : that.show(targetId, options);\r\n      });\r\n  };\n\n  Chart.prototype.subchart = function () { };\r\n  Chart.prototype.subchart.isShown = function () {\r\n      var $$ = this.internal;\r\n      return $$.config.subchart_show;\r\n  };\r\n  Chart.prototype.subchart.show = function () {\r\n      var $$ = this.internal;\r\n      if ($$.config.subchart_show) {\r\n          return;\r\n      }\r\n      $$.config.subchart_show = true;\r\n      // insert DOM\r\n      $$.initSubchart();\r\n      // update dimensions with sub chart now visible\r\n      $$.updateDimension();\r\n      // insert brush (depends on sizes previously updated)\r\n      $$.initSubchartBrush();\r\n      // attach data\r\n      $$.updateTargetsForSubchart($$.getTargets());\r\n      // reset fade-in state\r\n      $$.mapToIds($$.data.targets).forEach(function (id) {\r\n          $$.withoutFadeIn[id] = false;\r\n      });\r\n      // redraw chart !\r\n      $$.updateAndRedraw();\r\n      // update visible targets !\r\n      $$.showTargets();\r\n  };\r\n  Chart.prototype.subchart.hide = function () {\r\n      var $$ = this.internal;\r\n      if (!$$.config.subchart_show) {\r\n          return;\r\n      }\r\n      $$.config.subchart_show = false;\r\n      // remove DOM\r\n      $$.removeSubchart();\r\n      // re-render chart\r\n      $$.redraw();\r\n  };\n\n  Chart.prototype.tooltip = function () { };\r\n  Chart.prototype.tooltip.show = function (args) {\r\n      var $$ = this.internal, targets, data, mouse = {};\r\n      // determine mouse position on the chart\r\n      if (args.mouse) {\r\n          mouse = args.mouse;\r\n      }\r\n      else {\r\n          // determine focus data\r\n          if (args.data) {\r\n              data = args.data;\r\n          }\r\n          else if (typeof args.x !== 'undefined') {\r\n              if (args.id) {\r\n                  targets = $$.data.targets.filter(function (t) {\r\n                      return t.id === args.id;\r\n                  });\r\n              }\r\n              else {\r\n                  targets = $$.data.targets;\r\n              }\r\n              data = $$.filterByX(targets, args.x).slice(0, 1)[0];\r\n          }\r\n          mouse = data ? $$.getMousePosition(data) : null;\r\n      }\r\n      // emulate mouse events to show\r\n      $$.dispatchEvent('mousemove', mouse);\r\n      $$.config.tooltip_onshow.call($$, data);\r\n  };\r\n  Chart.prototype.tooltip.hide = function () {\r\n      // TODO: get target data by checking the state of focus\r\n      this.internal.dispatchEvent('mouseout', 0);\r\n      this.internal.config.tooltip_onhide.call(this);\r\n  };\n\n  Chart.prototype.transform = function (type, targetIds) {\r\n      var $$ = this.internal, options = ['pie', 'donut'].indexOf(type) >= 0 ? { withTransform: true } : null;\r\n      $$.transformTo(targetIds, type, options);\r\n  };\r\n  ChartInternal.prototype.transformTo = function (targetIds, type, optionsForRedraw) {\r\n      var $$ = this, withTransitionForAxis = !$$.hasArcType(), options = optionsForRedraw || {\r\n          withTransitionForAxis: withTransitionForAxis\r\n      };\r\n      options.withTransitionForTransform = false;\r\n      $$.transiting = false;\r\n      $$.setTargetType(targetIds, type);\r\n      $$.updateTargets($$.data.targets); // this is needed when transforming to arc\r\n      $$.updateAndRedraw(options);\r\n  };\n\n  Chart.prototype.x = function (x) {\r\n      var $$ = this.internal;\r\n      if (arguments.length) {\r\n          $$.updateTargetX($$.data.targets, x);\r\n          $$.redraw({ withUpdateOrgXDomain: true, withUpdateXDomain: true });\r\n      }\r\n      return $$.data.xs;\r\n  };\r\n  Chart.prototype.xs = function (xs) {\r\n      var $$ = this.internal;\r\n      if (arguments.length) {\r\n          $$.updateTargetXs($$.data.targets, xs);\r\n          $$.redraw({ withUpdateOrgXDomain: true, withUpdateXDomain: true });\r\n      }\r\n      return $$.data.xs;\r\n  };\n\n  Chart.prototype.zoom = function (domain) {\r\n      var $$ = this.internal;\r\n      if (domain) {\r\n          if ($$.isTimeSeries()) {\r\n              domain = domain.map(function (x) {\r\n                  return $$.parseDate(x);\r\n              });\r\n          }\r\n          if ($$.config.subchart_show) {\r\n              $$.brush.selectionAsValue(domain, true);\r\n          }\r\n          else {\r\n              $$.updateXDomain(null, true, false, false, domain);\r\n              $$.redraw({ withY: $$.config.zoom_rescale, withSubchart: false });\r\n          }\r\n          $$.config.zoom_onzoom.call(this, $$.x.orgDomain());\r\n          return domain;\r\n      }\r\n      else {\r\n          return $$.x.domain();\r\n      }\r\n  };\r\n  Chart.prototype.zoom.enable = function (enabled) {\r\n      var $$ = this.internal;\r\n      $$.config.zoom_enabled = enabled;\r\n      $$.updateAndRedraw();\r\n  };\r\n  Chart.prototype.unzoom = function () {\r\n      var $$ = this.internal;\r\n      if ($$.config.subchart_show) {\r\n          $$.brush.clear();\r\n      }\r\n      else {\r\n          $$.updateXDomain(null, true, false, false, $$.subX.domain());\r\n          $$.redraw({ withY: $$.config.zoom_rescale, withSubchart: false });\r\n      }\r\n  };\r\n  Chart.prototype.zoom.max = function (max) {\r\n      var $$ = this.internal, config = $$.config, d3 = $$.d3;\r\n      if (max === 0 || max) {\r\n          config.zoom_x_max = d3.max([$$.orgXDomain[1], max]);\r\n      }\r\n      else {\r\n          return config.zoom_x_max;\r\n      }\r\n  };\r\n  Chart.prototype.zoom.min = function (min) {\r\n      var $$ = this.internal, config = $$.config, d3 = $$.d3;\r\n      if (min === 0 || min) {\r\n          config.zoom_x_min = d3.min([$$.orgXDomain[0], min]);\r\n      }\r\n      else {\r\n          return config.zoom_x_min;\r\n      }\r\n  };\r\n  Chart.prototype.zoom.range = function (range) {\r\n      if (arguments.length) {\r\n          if (isDefined(range.max)) {\r\n              this.domain.max(range.max);\r\n          }\r\n          if (isDefined(range.min)) {\r\n              this.domain.min(range.min);\r\n          }\r\n      }\r\n      else {\r\n          return {\r\n              max: this.domain.max(),\r\n              min: this.domain.min()\r\n          };\r\n      }\r\n  };\n\n  ChartInternal.prototype.initPie = function () {\r\n      var $$ = this, d3 = $$.d3;\r\n      $$.pie = d3\r\n          .pie()\r\n          .padAngle(this.getPadAngle.bind(this))\r\n          .value(function (d) {\r\n          return d.values.reduce(function (a, b) {\r\n              return a + b.value;\r\n          }, 0);\r\n      });\r\n      var orderFct = $$.getOrderFunction();\r\n      // we need to reverse the returned order if asc or desc to have the slice in expected order.\r\n      if (orderFct && ($$.isOrderAsc() || $$.isOrderDesc())) {\r\n          var defaultSort_1 = orderFct;\r\n          orderFct = function (t1, t2) { return defaultSort_1(t1, t2) * -1; };\r\n      }\r\n      $$.pie.sort(orderFct || null);\r\n  };\r\n  ChartInternal.prototype.updateRadius = function () {\r\n      var $$ = this, config = $$.config, w = config.gauge_width || config.donut_width, gaugeArcWidth = $$.filterTargetsToShow($$.data.targets).length *\r\n          $$.config.gauge_arcs_minWidth;\r\n      $$.radiusExpanded =\r\n          (Math.min($$.arcWidth, $$.arcHeight) / 2) * ($$.hasType('gauge') ? 0.85 : 1);\r\n      $$.radius = $$.radiusExpanded * 0.95;\r\n      $$.innerRadiusRatio = w ? ($$.radius - w) / $$.radius : 0.6;\r\n      $$.innerRadius =\r\n          $$.hasType('donut') || $$.hasType('gauge')\r\n              ? $$.radius * $$.innerRadiusRatio\r\n              : 0;\r\n      $$.gaugeArcWidth = w\r\n          ? w\r\n          : gaugeArcWidth <= $$.radius - $$.innerRadius\r\n              ? $$.radius - $$.innerRadius\r\n              : gaugeArcWidth <= $$.radius\r\n                  ? gaugeArcWidth\r\n                  : $$.radius;\r\n  };\r\n  ChartInternal.prototype.getPadAngle = function () {\r\n      if (this.hasType('pie')) {\r\n          return this.config.pie_padAngle || 0;\r\n      }\r\n      else if (this.hasType('donut')) {\r\n          return this.config.donut_padAngle || 0;\r\n      }\r\n      else {\r\n          return 0;\r\n      }\r\n  };\r\n  ChartInternal.prototype.updateArc = function () {\r\n      var $$ = this;\r\n      $$.svgArc = $$.getSvgArc();\r\n      $$.svgArcExpanded = $$.getSvgArcExpanded();\r\n      $$.svgArcExpandedSub = $$.getSvgArcExpanded(0.98);\r\n  };\r\n  ChartInternal.prototype.updateAngle = function (d) {\r\n      var $$ = this, config = $$.config, found = false, index = 0, gMin, gMax, gTic, gValue;\r\n      if (!config) {\r\n          return null;\r\n      }\r\n      $$.pie($$.filterTargetsToShow($$.data.targets)).forEach(function (t) {\r\n          if (!found && t.data.id === d.data.id) {\r\n              found = true;\r\n              d = t;\r\n              d.index = index;\r\n          }\r\n          index++;\r\n      });\r\n      if (isNaN(d.startAngle)) {\r\n          d.startAngle = 0;\r\n      }\r\n      if (isNaN(d.endAngle)) {\r\n          d.endAngle = d.startAngle;\r\n      }\r\n      if ($$.isGaugeType(d.data)) {\r\n          gMin = config.gauge_min;\r\n          gMax = config.gauge_max;\r\n          gTic = (Math.PI * (config.gauge_fullCircle ? 2 : 1)) / (gMax - gMin);\r\n          gValue = d.value < gMin ? 0 : d.value < gMax ? d.value - gMin : gMax - gMin;\r\n          d.startAngle = config.gauge_startingAngle;\r\n          d.endAngle = d.startAngle + gTic * gValue;\r\n      }\r\n      return found ? d : null;\r\n  };\r\n  ChartInternal.prototype.getSvgArc = function () {\r\n      var $$ = this, hasGaugeType = $$.hasType('gauge'), singleArcWidth = $$.gaugeArcWidth / $$.filterTargetsToShow($$.data.targets).length, arc = $$.d3\r\n          .arc()\r\n          .outerRadius(function (d) {\r\n          return hasGaugeType ? $$.radius - singleArcWidth * d.index : $$.radius;\r\n      })\r\n          .innerRadius(function (d) {\r\n          return hasGaugeType\r\n              ? $$.radius - singleArcWidth * (d.index + 1)\r\n              : $$.innerRadius;\r\n      }), newArc = function (d, withoutUpdate) {\r\n          var updated;\r\n          if (withoutUpdate) {\r\n              return arc(d);\r\n          } // for interpolate\r\n          updated = $$.updateAngle(d);\r\n          return updated ? arc(updated) : 'M 0 0';\r\n      };\r\n      newArc.centroid = arc.centroid;\r\n      return newArc;\r\n  };\r\n  ChartInternal.prototype.getSvgArcExpanded = function (rate) {\r\n      rate = rate || 1;\r\n      var $$ = this, hasGaugeType = $$.hasType('gauge'), singleArcWidth = $$.gaugeArcWidth / $$.filterTargetsToShow($$.data.targets).length, expandWidth = Math.min($$.radiusExpanded * rate - $$.radius, singleArcWidth * 0.8 - (1 - rate) * 100), arc = $$.d3\r\n          .arc()\r\n          .outerRadius(function (d) {\r\n          return hasGaugeType\r\n              ? $$.radius - singleArcWidth * d.index + expandWidth\r\n              : $$.radiusExpanded * rate;\r\n      })\r\n          .innerRadius(function (d) {\r\n          return hasGaugeType\r\n              ? $$.radius - singleArcWidth * (d.index + 1)\r\n              : $$.innerRadius;\r\n      });\r\n      return function (d) {\r\n          var updated = $$.updateAngle(d);\r\n          return updated ? arc(updated) : 'M 0 0';\r\n      };\r\n  };\r\n  ChartInternal.prototype.getArc = function (d, withoutUpdate, force) {\r\n      return force || this.isArcType(d.data)\r\n          ? this.svgArc(d, withoutUpdate)\r\n          : 'M 0 0';\r\n  };\r\n  ChartInternal.prototype.transformForArcLabel = function (d) {\r\n      var $$ = this, config = $$.config, updated = $$.updateAngle(d), c, x, y, h, ratio, translate = '', hasGauge = $$.hasType('gauge');\r\n      if (updated && !hasGauge) {\r\n          c = this.svgArc.centroid(updated);\r\n          x = isNaN(c[0]) ? 0 : c[0];\r\n          y = isNaN(c[1]) ? 0 : c[1];\r\n          h = Math.sqrt(x * x + y * y);\r\n          if ($$.hasType('donut') && config.donut_label_ratio) {\r\n              ratio = isFunction(config.donut_label_ratio)\r\n                  ? config.donut_label_ratio(d, $$.radius, h)\r\n                  : config.donut_label_ratio;\r\n          }\r\n          else if ($$.hasType('pie') && config.pie_label_ratio) {\r\n              ratio = isFunction(config.pie_label_ratio)\r\n                  ? config.pie_label_ratio(d, $$.radius, h)\r\n                  : config.pie_label_ratio;\r\n          }\r\n          else {\r\n              ratio =\r\n                  $$.radius && h\r\n                      ? ((36 / $$.radius > 0.375 ? 1.175 - 36 / $$.radius : 0.8) *\r\n                          $$.radius) /\r\n                          h\r\n                      : 0;\r\n          }\r\n          translate = 'translate(' + x * ratio + ',' + y * ratio + ')';\r\n      }\r\n      else if (updated &&\r\n          hasGauge &&\r\n          $$.filterTargetsToShow($$.data.targets).length > 1) {\r\n          var y1 = Math.sin(updated.endAngle - Math.PI / 2);\r\n          x = Math.cos(updated.endAngle - Math.PI / 2) * ($$.radiusExpanded + 25);\r\n          y = y1 * ($$.radiusExpanded + 15 - Math.abs(y1 * 10)) + 3;\r\n          translate = 'translate(' + x + ',' + y + ')';\r\n      }\r\n      return translate;\r\n  };\r\n  /**\r\n   * @deprecated Use `getRatio('arc', d)` instead.\r\n   */\r\n  ChartInternal.prototype.getArcRatio = function (d) {\r\n      return this.getRatio('arc', d);\r\n  };\r\n  ChartInternal.prototype.convertToArcData = function (d) {\r\n      return this.addName({\r\n          id: d.data.id,\r\n          value: d.value,\r\n          ratio: this.getRatio('arc', d),\r\n          index: d.index\r\n      });\r\n  };\r\n  ChartInternal.prototype.textForArcLabel = function (d) {\r\n      var $$ = this, updated, value, ratio, id, format;\r\n      if (!$$.shouldShowArcLabel()) {\r\n          return '';\r\n      }\r\n      updated = $$.updateAngle(d);\r\n      value = updated ? updated.value : null;\r\n      ratio = $$.getRatio('arc', updated);\r\n      id = d.data.id;\r\n      if (!$$.hasType('gauge') && !$$.meetsArcLabelThreshold(ratio)) {\r\n          return '';\r\n      }\r\n      format = $$.getArcLabelFormat();\r\n      return format\r\n          ? format(value, ratio, id)\r\n          : $$.defaultArcValueFormat(value, ratio);\r\n  };\r\n  ChartInternal.prototype.textForGaugeMinMax = function (value, isMax) {\r\n      var $$ = this, format = $$.getGaugeLabelExtents();\r\n      return format ? format(value, isMax) : value;\r\n  };\r\n  ChartInternal.prototype.expandArc = function (targetIds) {\r\n      var $$ = this, interval;\r\n      // MEMO: avoid to cancel transition\r\n      if ($$.transiting) {\r\n          interval = window.setInterval(function () {\r\n              if (!$$.transiting) {\r\n                  window.clearInterval(interval);\r\n                  if ($$.legend.selectAll('.c3-legend-item-focused').size() > 0) {\r\n                      $$.expandArc(targetIds);\r\n                  }\r\n              }\r\n          }, 10);\r\n          return;\r\n      }\r\n      targetIds = $$.mapToTargetIds(targetIds);\r\n      $$.svg\r\n          .selectAll($$.selectorTargets(targetIds, '.' + CLASS.chartArc))\r\n          .each(function (d) {\r\n          if (!$$.shouldExpand(d.data.id)) {\r\n              return;\r\n          }\r\n          $$.d3\r\n              .select(this)\r\n              .selectAll('path')\r\n              .transition()\r\n              .duration($$.expandDuration(d.data.id))\r\n              .attr('d', $$.svgArcExpanded)\r\n              .transition()\r\n              .duration($$.expandDuration(d.data.id) * 2)\r\n              .attr('d', $$.svgArcExpandedSub)\r\n              .each(function (d) {\r\n              if ($$.isDonutType(d.data)) ;\r\n          });\r\n      });\r\n  };\r\n  ChartInternal.prototype.unexpandArc = function (targetIds) {\r\n      var $$ = this;\r\n      if ($$.transiting) {\r\n          return;\r\n      }\r\n      targetIds = $$.mapToTargetIds(targetIds);\r\n      $$.svg\r\n          .selectAll($$.selectorTargets(targetIds, '.' + CLASS.chartArc))\r\n          .selectAll('path')\r\n          .transition()\r\n          .duration(function (d) {\r\n          return $$.expandDuration(d.data.id);\r\n      })\r\n          .attr('d', $$.svgArc);\r\n      $$.svg.selectAll('.' + CLASS.arc);\r\n  };\r\n  ChartInternal.prototype.expandDuration = function (id) {\r\n      var $$ = this, config = $$.config;\r\n      if ($$.isDonutType(id)) {\r\n          return config.donut_expand_duration;\r\n      }\r\n      else if ($$.isGaugeType(id)) {\r\n          return config.gauge_expand_duration;\r\n      }\r\n      else if ($$.isPieType(id)) {\r\n          return config.pie_expand_duration;\r\n      }\r\n      else {\r\n          return 50;\r\n      }\r\n  };\r\n  ChartInternal.prototype.shouldExpand = function (id) {\r\n      var $$ = this, config = $$.config;\r\n      return (($$.isDonutType(id) && config.donut_expand) ||\r\n          ($$.isGaugeType(id) && config.gauge_expand) ||\r\n          ($$.isPieType(id) && config.pie_expand));\r\n  };\r\n  ChartInternal.prototype.shouldShowArcLabel = function () {\r\n      var $$ = this, config = $$.config, shouldShow = true;\r\n      if ($$.hasType('donut')) {\r\n          shouldShow = config.donut_label_show;\r\n      }\r\n      else if ($$.hasType('pie')) {\r\n          shouldShow = config.pie_label_show;\r\n      }\r\n      // when gauge, always true\r\n      return shouldShow;\r\n  };\r\n  ChartInternal.prototype.meetsArcLabelThreshold = function (ratio) {\r\n      var $$ = this, config = $$.config, threshold = $$.hasType('donut')\r\n          ? config.donut_label_threshold\r\n          : config.pie_label_threshold;\r\n      return ratio >= threshold;\r\n  };\r\n  ChartInternal.prototype.getArcLabelFormat = function () {\r\n      var $$ = this, config = $$.config, format = config.pie_label_format;\r\n      if ($$.hasType('gauge')) {\r\n          format = config.gauge_label_format;\r\n      }\r\n      else if ($$.hasType('donut')) {\r\n          format = config.donut_label_format;\r\n      }\r\n      return format;\r\n  };\r\n  ChartInternal.prototype.getGaugeLabelExtents = function () {\r\n      var $$ = this, config = $$.config;\r\n      return config.gauge_label_extents;\r\n  };\r\n  ChartInternal.prototype.getArcTitle = function () {\r\n      var $$ = this;\r\n      return $$.hasType('donut') ? $$.config.donut_title : '';\r\n  };\r\n  ChartInternal.prototype.updateTargetsForArc = function (targets) {\r\n      var $$ = this, main = $$.main, mainPies, mainPieEnter, classChartArc = $$.classChartArc.bind($$), classArcs = $$.classArcs.bind($$), classFocus = $$.classFocus.bind($$);\r\n      mainPies = main\r\n          .select('.' + CLASS.chartArcs)\r\n          .selectAll('.' + CLASS.chartArc)\r\n          .data($$.pie(targets))\r\n          .attr('class', function (d) {\r\n          return classChartArc(d) + classFocus(d.data);\r\n      });\r\n      mainPieEnter = mainPies\r\n          .enter()\r\n          .append('g')\r\n          .attr('class', classChartArc);\r\n      mainPieEnter.append('g').attr('class', classArcs);\r\n      mainPieEnter\r\n          .append('text')\r\n          .attr('dy', $$.hasType('gauge') ? '-.1em' : '.35em')\r\n          .style('opacity', 0)\r\n          .style('text-anchor', 'middle')\r\n          .style('pointer-events', 'none');\r\n      // MEMO: can not keep same color..., but not bad to update color in redraw\r\n      //mainPieUpdate.exit().remove();\r\n  };\r\n  ChartInternal.prototype.initArc = function () {\r\n      var $$ = this;\r\n      $$.arcs = $$.main\r\n          .select('.' + CLASS.chart)\r\n          .append('g')\r\n          .attr('class', CLASS.chartArcs)\r\n          .attr('transform', $$.getTranslate('arc'));\r\n      $$.arcs\r\n          .append('text')\r\n          .attr('class', CLASS.chartArcsTitle)\r\n          .style('text-anchor', 'middle')\r\n          .text($$.getArcTitle());\r\n  };\r\n  ChartInternal.prototype.redrawArc = function (duration, durationForExit, withTransform) {\r\n      var $$ = this, d3 = $$.d3, config = $$.config, main = $$.main, arcs, mainArc, arcLabelLines, mainArcLabelLine, hasGaugeType = $$.hasType('gauge');\r\n      arcs = main\r\n          .selectAll('.' + CLASS.arcs)\r\n          .selectAll('.' + CLASS.arc)\r\n          .data($$.arcData.bind($$));\r\n      mainArc = arcs\r\n          .enter()\r\n          .append('path')\r\n          .attr('class', $$.classArc.bind($$))\r\n          .style('fill', function (d) {\r\n          return $$.color(d.data);\r\n      })\r\n          .style('cursor', function (d) {\r\n          return config.interaction_enabled && config.data_selection_isselectable(d)\r\n              ? 'pointer'\r\n              : null;\r\n      })\r\n          .each(function (d) {\r\n          if ($$.isGaugeType(d.data)) {\r\n              d.startAngle = d.endAngle = config.gauge_startingAngle;\r\n          }\r\n          this._current = d;\r\n      })\r\n          .merge(arcs);\r\n      if (hasGaugeType) {\r\n          arcLabelLines = main\r\n              .selectAll('.' + CLASS.arcs)\r\n              .selectAll('.' + CLASS.arcLabelLine)\r\n              .data($$.arcData.bind($$));\r\n          mainArcLabelLine = arcLabelLines\r\n              .enter()\r\n              .append('rect')\r\n              .attr('class', function (d) {\r\n              return (CLASS.arcLabelLine +\r\n                  ' ' +\r\n                  CLASS.target +\r\n                  ' ' +\r\n                  CLASS.target +\r\n                  '-' +\r\n                  d.data.id);\r\n          })\r\n              .merge(arcLabelLines);\r\n          if ($$.filterTargetsToShow($$.data.targets).length === 1) {\r\n              mainArcLabelLine.style('display', 'none');\r\n          }\r\n          else {\r\n              mainArcLabelLine\r\n                  .style('fill', function (d) {\r\n                  return $$.levelColor\r\n                      ? $$.levelColor(d.data.values.reduce(function (total, item) {\r\n                          return total + item.value;\r\n                      }, 0))\r\n                      : $$.color(d.data);\r\n              })\r\n                  .style('display', config.gauge_labelLine_show ? '' : 'none')\r\n                  .each(function (d) {\r\n                  var lineLength = 0, lineThickness = 2, x = 0, y = 0, transform = '';\r\n                  if ($$.hiddenTargetIds.indexOf(d.data.id) < 0) {\r\n                      var updated = $$.updateAngle(d), innerLineLength = ($$.gaugeArcWidth /\r\n                          $$.filterTargetsToShow($$.data.targets).length) *\r\n                          (updated.index + 1), lineAngle = updated.endAngle - Math.PI / 2, arcInnerRadius = $$.radius - innerLineLength, linePositioningAngle = lineAngle - (arcInnerRadius === 0 ? 0 : 1 / arcInnerRadius);\r\n                      lineLength = $$.radiusExpanded - $$.radius + innerLineLength;\r\n                      x = Math.cos(linePositioningAngle) * arcInnerRadius;\r\n                      y = Math.sin(linePositioningAngle) * arcInnerRadius;\r\n                      transform =\r\n                          'rotate(' +\r\n                              (lineAngle * 180) / Math.PI +\r\n                              ', ' +\r\n                              x +\r\n                              ', ' +\r\n                              y +\r\n                              ')';\r\n                  }\r\n                  d3.select(this)\r\n                      .attr('x', x)\r\n                      .attr('y', y)\r\n                      .attr('width', lineLength)\r\n                      .attr('height', lineThickness)\r\n                      .attr('transform', transform)\r\n                      .style('stroke-dasharray', '0, ' + (lineLength + lineThickness) + ', 0');\r\n              });\r\n          }\r\n      }\r\n      mainArc\r\n          .attr('transform', function (d) {\r\n          return !$$.isGaugeType(d.data) && withTransform ? 'scale(0)' : '';\r\n      })\r\n          .on('mouseover', config.interaction_enabled\r\n          ? function (d) {\r\n              var updated, arcData;\r\n              if ($$.transiting) {\r\n                  // skip while transiting\r\n                  return;\r\n              }\r\n              updated = $$.updateAngle(d);\r\n              if (updated) {\r\n                  arcData = $$.convertToArcData(updated);\r\n                  // transitions\r\n                  $$.expandArc(updated.data.id);\r\n                  $$.api.focus(updated.data.id);\r\n                  $$.toggleFocusLegend(updated.data.id, true);\r\n                  $$.config.data_onmouseover(arcData, this);\r\n              }\r\n          }\r\n          : null)\r\n          .on('mousemove', config.interaction_enabled\r\n          ? function (d) {\r\n              var updated = $$.updateAngle(d), arcData, selectedData;\r\n              if (updated) {\r\n                  (arcData = $$.convertToArcData(updated)),\r\n                      (selectedData = [arcData]);\r\n                  $$.showTooltip(selectedData, this);\r\n              }\r\n          }\r\n          : null)\r\n          .on('mouseout', config.interaction_enabled\r\n          ? function (d) {\r\n              var updated, arcData;\r\n              if ($$.transiting) {\r\n                  // skip while transiting\r\n                  return;\r\n              }\r\n              updated = $$.updateAngle(d);\r\n              if (updated) {\r\n                  arcData = $$.convertToArcData(updated);\r\n                  // transitions\r\n                  $$.unexpandArc(updated.data.id);\r\n                  $$.api.revert();\r\n                  $$.revertLegend();\r\n                  $$.hideTooltip();\r\n                  $$.config.data_onmouseout(arcData, this);\r\n              }\r\n          }\r\n          : null)\r\n          .on('click', config.interaction_enabled\r\n          ? function (d, i) {\r\n              var updated = $$.updateAngle(d), arcData;\r\n              if (updated) {\r\n                  arcData = $$.convertToArcData(updated);\r\n                  if ($$.toggleShape) {\r\n                      $$.toggleShape(this, arcData, i);\r\n                  }\r\n                  $$.config.data_onclick.call($$.api, arcData, this);\r\n              }\r\n          }\r\n          : null)\r\n          .each(function () {\r\n          $$.transiting = true;\r\n      })\r\n          .transition()\r\n          .duration(duration)\r\n          .attrTween('d', function (d) {\r\n          var updated = $$.updateAngle(d), interpolate;\r\n          if (!updated) {\r\n              return function () {\r\n                  return 'M 0 0';\r\n              };\r\n          }\r\n          //                if (this._current === d) {\r\n          //                    this._current = {\r\n          //                        startAngle: Math.PI*2,\r\n          //                        endAngle: Math.PI*2,\r\n          //                    };\r\n          //                }\r\n          if (isNaN(this._current.startAngle)) {\r\n              this._current.startAngle = 0;\r\n          }\r\n          if (isNaN(this._current.endAngle)) {\r\n              this._current.endAngle = this._current.startAngle;\r\n          }\r\n          interpolate = d3.interpolate(this._current, updated);\r\n          this._current = interpolate(0);\r\n          return function (t) {\r\n              // prevents crashing the charts once in transition and chart.destroy() has been called\r\n              if ($$.config === null) {\r\n                  return 'M 0 0';\r\n              }\r\n              var interpolated = interpolate(t);\r\n              interpolated.data = d.data; // data.id will be updated by interporator\r\n              return $$.getArc(interpolated, true);\r\n          };\r\n      })\r\n          .attr('transform', withTransform ? 'scale(1)' : '')\r\n          .style('fill', function (d) {\r\n          return $$.levelColor\r\n              ? $$.levelColor(d.data.values.reduce(function (total, item) {\r\n                  return total + item.value;\r\n              }, 0))\r\n              : $$.color(d.data.id);\r\n      }) // Where gauge reading color would receive customization.\r\n          .call($$.endall, function () {\r\n          $$.transiting = false;\r\n      });\r\n      arcs\r\n          .exit()\r\n          .transition()\r\n          .duration(durationForExit)\r\n          .style('opacity', 0)\r\n          .remove();\r\n      main\r\n          .selectAll('.' + CLASS.chartArc)\r\n          .select('text')\r\n          .style('opacity', 0)\r\n          .attr('class', function (d) {\r\n          return $$.isGaugeType(d.data) ? CLASS.gaugeValue : '';\r\n      })\r\n          .text($$.textForArcLabel.bind($$))\r\n          .attr('transform', $$.transformForArcLabel.bind($$))\r\n          .style('font-size', function (d) {\r\n          return $$.isGaugeType(d.data) &&\r\n              $$.filterTargetsToShow($$.data.targets).length === 1\r\n              ? Math.round($$.radius / 5) + 'px'\r\n              : '';\r\n      })\r\n          .transition()\r\n          .duration(duration)\r\n          .style('opacity', function (d) {\r\n          return $$.isTargetToShow(d.data.id) && $$.isArcType(d.data) ? 1 : 0;\r\n      });\r\n      main\r\n          .select('.' + CLASS.chartArcsTitle)\r\n          .style('opacity', $$.hasType('donut') || hasGaugeType ? 1 : 0);\r\n      if (hasGaugeType) {\r\n          var index_1 = 0;\r\n          var backgroundArc = $$.arcs\r\n              .select('g.' + CLASS.chartArcsBackground)\r\n              .selectAll('path.' + CLASS.chartArcsBackground)\r\n              .data($$.data.targets);\r\n          backgroundArc\r\n              .enter()\r\n              .append('path')\r\n              .attr('class', function (d, i) {\r\n              return CLASS.chartArcsBackground + ' ' + CLASS.chartArcsBackground + '-' + i;\r\n          })\r\n              .merge(backgroundArc)\r\n              .attr('d', function (d1) {\r\n              if ($$.hiddenTargetIds.indexOf(d1.id) >= 0) {\r\n                  return 'M 0 0';\r\n              }\r\n              var d = {\r\n                  data: [{ value: config.gauge_max }],\r\n                  startAngle: config.gauge_startingAngle,\r\n                  endAngle: -1 *\r\n                      config.gauge_startingAngle *\r\n                      (config.gauge_fullCircle ? Math.PI : 1),\r\n                  index: index_1++\r\n              };\r\n              return $$.getArc(d, true, true);\r\n          });\r\n          backgroundArc.exit().remove();\r\n          $$.arcs\r\n              .select('.' + CLASS.chartArcsGaugeUnit)\r\n              .attr('dy', '.75em')\r\n              .text(config.gauge_label_show ? config.gauge_units : '');\r\n          $$.arcs\r\n              .select('.' + CLASS.chartArcsGaugeMin)\r\n              .attr('dx', -1 *\r\n              ($$.innerRadius +\r\n                  ($$.radius - $$.innerRadius) / (config.gauge_fullCircle ? 1 : 2)) +\r\n              'px')\r\n              .attr('dy', '1.2em')\r\n              .text(config.gauge_label_show\r\n              ? $$.textForGaugeMinMax(config.gauge_min, false)\r\n              : '');\r\n          $$.arcs\r\n              .select('.' + CLASS.chartArcsGaugeMax)\r\n              .attr('dx', $$.innerRadius +\r\n              ($$.radius - $$.innerRadius) / (config.gauge_fullCircle ? 1 : 2) +\r\n              'px')\r\n              .attr('dy', '1.2em')\r\n              .text(config.gauge_label_show\r\n              ? $$.textForGaugeMinMax(config.gauge_max, true)\r\n              : '');\r\n      }\r\n  };\r\n  ChartInternal.prototype.initGauge = function () {\r\n      var arcs = this.arcs;\r\n      if (this.hasType('gauge')) {\r\n          arcs.append('g').attr('class', CLASS.chartArcsBackground);\r\n          arcs\r\n              .append('text')\r\n              .attr('class', CLASS.chartArcsGaugeUnit)\r\n              .style('text-anchor', 'middle')\r\n              .style('pointer-events', 'none');\r\n          arcs\r\n              .append('text')\r\n              .attr('class', CLASS.chartArcsGaugeMin)\r\n              .style('text-anchor', 'middle')\r\n              .style('pointer-events', 'none');\r\n          arcs\r\n              .append('text')\r\n              .attr('class', CLASS.chartArcsGaugeMax)\r\n              .style('text-anchor', 'middle')\r\n              .style('pointer-events', 'none');\r\n      }\r\n  };\r\n  ChartInternal.prototype.getGaugeLabelHeight = function () {\r\n      return this.config.gauge_label_show ? 20 : 0;\r\n  };\n\n  /**\r\n   * Store value into cache\r\n   *\r\n   * @param key\r\n   * @param value\r\n   */\r\n  ChartInternal.prototype.addToCache = function (key, value) {\r\n      this.cache[\"$\" + key] = value;\r\n  };\r\n  /**\r\n   * Returns a cached value or undefined\r\n   *\r\n   * @param key\r\n   * @return {*}\r\n   */\r\n  ChartInternal.prototype.getFromCache = function (key) {\r\n      return this.cache[\"$\" + key];\r\n  };\r\n  /**\r\n   * Reset cached data\r\n   */\r\n  ChartInternal.prototype.resetCache = function () {\r\n      var _this = this;\r\n      Object.keys(this.cache)\r\n          .filter(function (key) { return /^\\$/.test(key); })\r\n          .forEach(function (key) {\r\n          delete _this.cache[key];\r\n      });\r\n  };\r\n  // Old API that stores Targets\r\n  ChartInternal.prototype.hasCaches = function (ids) {\r\n      for (var i = 0; i < ids.length; i++) {\r\n          if (!(ids[i] in this.cache)) {\r\n              return false;\r\n          }\r\n      }\r\n      return true;\r\n  };\r\n  ChartInternal.prototype.addCache = function (id, target) {\r\n      this.cache[id] = this.cloneTarget(target);\r\n  };\r\n  ChartInternal.prototype.getCaches = function (ids) {\r\n      var targets = [], i;\r\n      for (i = 0; i < ids.length; i++) {\r\n          if (ids[i] in this.cache) {\r\n              targets.push(this.cloneTarget(this.cache[ids[i]]));\r\n          }\r\n      }\r\n      return targets;\r\n  };\n\n  ChartInternal.prototype.categoryName = function (i) {\r\n      var config = this.config;\r\n      return i < config.axis_x_categories.length ? config.axis_x_categories[i] : i;\r\n  };\n\n  ChartInternal.prototype.generateTargetClass = function (targetId) {\r\n      return targetId || targetId === 0 ? ('-' + targetId).replace(/\\s/g, '-') : '';\r\n  };\r\n  ChartInternal.prototype.generateClass = function (prefix, targetId) {\r\n      return ' ' + prefix + ' ' + prefix + this.generateTargetClass(targetId);\r\n  };\r\n  ChartInternal.prototype.classText = function (d) {\r\n      return this.generateClass(CLASS.text, d.index);\r\n  };\r\n  ChartInternal.prototype.classTexts = function (d) {\r\n      return this.generateClass(CLASS.texts, d.id);\r\n  };\r\n  ChartInternal.prototype.classShape = function (d) {\r\n      return this.generateClass(CLASS.shape, d.index);\r\n  };\r\n  ChartInternal.prototype.classShapes = function (d) {\r\n      return this.generateClass(CLASS.shapes, d.id);\r\n  };\r\n  ChartInternal.prototype.classLine = function (d) {\r\n      return this.classShape(d) + this.generateClass(CLASS.line, d.id);\r\n  };\r\n  ChartInternal.prototype.classLines = function (d) {\r\n      return this.classShapes(d) + this.generateClass(CLASS.lines, d.id);\r\n  };\r\n  ChartInternal.prototype.classCircle = function (d) {\r\n      return this.classShape(d) + this.generateClass(CLASS.circle, d.index);\r\n  };\r\n  ChartInternal.prototype.classCircles = function (d) {\r\n      return this.classShapes(d) + this.generateClass(CLASS.circles, d.id);\r\n  };\r\n  ChartInternal.prototype.classBar = function (d) {\r\n      return this.classShape(d) + this.generateClass(CLASS.bar, d.index);\r\n  };\r\n  ChartInternal.prototype.classBars = function (d) {\r\n      return this.classShapes(d) + this.generateClass(CLASS.bars, d.id);\r\n  };\r\n  ChartInternal.prototype.classArc = function (d) {\r\n      return this.classShape(d.data) + this.generateClass(CLASS.arc, d.data.id);\r\n  };\r\n  ChartInternal.prototype.classArcs = function (d) {\r\n      return this.classShapes(d.data) + this.generateClass(CLASS.arcs, d.data.id);\r\n  };\r\n  ChartInternal.prototype.classArea = function (d) {\r\n      return this.classShape(d) + this.generateClass(CLASS.area, d.id);\r\n  };\r\n  ChartInternal.prototype.classAreas = function (d) {\r\n      return this.classShapes(d) + this.generateClass(CLASS.areas, d.id);\r\n  };\r\n  ChartInternal.prototype.classRegion = function (d, i) {\r\n      return (this.generateClass(CLASS.region, i) + ' ' + ('class' in d ? d['class'] : ''));\r\n  };\r\n  ChartInternal.prototype.classEvent = function (d) {\r\n      return this.generateClass(CLASS.eventRect, d.index);\r\n  };\r\n  ChartInternal.prototype.classTarget = function (id) {\r\n      var $$ = this;\r\n      var additionalClassSuffix = $$.config.data_classes[id], additionalClass = '';\r\n      if (additionalClassSuffix) {\r\n          additionalClass = ' ' + CLASS.target + '-' + additionalClassSuffix;\r\n      }\r\n      return $$.generateClass(CLASS.target, id) + additionalClass;\r\n  };\r\n  ChartInternal.prototype.classFocus = function (d) {\r\n      return this.classFocused(d) + this.classDefocused(d);\r\n  };\r\n  ChartInternal.prototype.classFocused = function (d) {\r\n      return ' ' + (this.focusedTargetIds.indexOf(d.id) >= 0 ? CLASS.focused : '');\r\n  };\r\n  ChartInternal.prototype.classDefocused = function (d) {\r\n      return (' ' + (this.defocusedTargetIds.indexOf(d.id) >= 0 ? CLASS.defocused : ''));\r\n  };\r\n  ChartInternal.prototype.classChartText = function (d) {\r\n      return CLASS.chartText + this.classTarget(d.id);\r\n  };\r\n  ChartInternal.prototype.classChartLine = function (d) {\r\n      return CLASS.chartLine + this.classTarget(d.id);\r\n  };\r\n  ChartInternal.prototype.classChartBar = function (d) {\r\n      return CLASS.chartBar + this.classTarget(d.id);\r\n  };\r\n  ChartInternal.prototype.classChartArc = function (d) {\r\n      return CLASS.chartArc + this.classTarget(d.data.id);\r\n  };\r\n  ChartInternal.prototype.getTargetSelectorSuffix = function (targetId) {\r\n      var targetClass = this.generateTargetClass(targetId);\r\n      if (window.CSS && window.CSS.escape) {\r\n          return window.CSS.escape(targetClass);\r\n      }\r\n      // fallback on imperfect method for old browsers (does not handles unicode)\r\n      return targetClass.replace(/([?!@#$%^&*()=+,.<>'\":;\\[\\]\\/|~`{}\\\\])/g, '\\\\$1');\r\n  };\r\n  ChartInternal.prototype.selectorTarget = function (id, prefix) {\r\n      return (prefix || '') + '.' + CLASS.target + this.getTargetSelectorSuffix(id);\r\n  };\r\n  ChartInternal.prototype.selectorTargets = function (ids, prefix) {\r\n      var $$ = this;\r\n      ids = ids || [];\r\n      return ids.length\r\n          ? ids.map(function (id) {\r\n              return $$.selectorTarget(id, prefix);\r\n          })\r\n          : null;\r\n  };\r\n  ChartInternal.prototype.selectorLegend = function (id) {\r\n      return '.' + CLASS.legendItem + this.getTargetSelectorSuffix(id);\r\n  };\r\n  ChartInternal.prototype.selectorLegends = function (ids) {\r\n      var $$ = this;\r\n      return ids && ids.length\r\n          ? ids.map(function (id) {\r\n              return $$.selectorLegend(id);\r\n          })\r\n          : null;\r\n  };\n\n  ChartInternal.prototype.getClipPath = function (id) {\r\n      return 'url(' + (isIE(9) ? '' : document.URL.split('#')[0]) + '#' + id + ')';\r\n  };\r\n  ChartInternal.prototype.appendClip = function (parent, id) {\r\n      return parent\r\n          .append('clipPath')\r\n          .attr('id', id)\r\n          .append('rect');\r\n  };\r\n  ChartInternal.prototype.getAxisClipX = function (forHorizontal) {\r\n      // axis line width + padding for left\r\n      var left = Math.max(30, this.margin.left);\r\n      return forHorizontal ? -(1 + left) : -(left - 1);\r\n  };\r\n  ChartInternal.prototype.getAxisClipY = function (forHorizontal) {\r\n      return forHorizontal ? -20 : -this.margin.top;\r\n  };\r\n  ChartInternal.prototype.getXAxisClipX = function () {\r\n      var $$ = this;\r\n      return $$.getAxisClipX(!$$.config.axis_rotated);\r\n  };\r\n  ChartInternal.prototype.getXAxisClipY = function () {\r\n      var $$ = this;\r\n      return $$.getAxisClipY(!$$.config.axis_rotated);\r\n  };\r\n  ChartInternal.prototype.getYAxisClipX = function () {\r\n      var $$ = this;\r\n      return $$.config.axis_y_inner ? -1 : $$.getAxisClipX($$.config.axis_rotated);\r\n  };\r\n  ChartInternal.prototype.getYAxisClipY = function () {\r\n      var $$ = this;\r\n      return $$.getAxisClipY($$.config.axis_rotated);\r\n  };\r\n  ChartInternal.prototype.getAxisClipWidth = function (forHorizontal) {\r\n      var $$ = this, left = Math.max(30, $$.margin.left), right = Math.max(30, $$.margin.right);\r\n      // width + axis line width + padding for left/right\r\n      return forHorizontal ? $$.width + 2 + left + right : $$.margin.left + 20;\r\n  };\r\n  ChartInternal.prototype.getAxisClipHeight = function (forHorizontal) {\r\n      // less than 20 is not enough to show the axis label 'outer' without legend\r\n      return ((forHorizontal ? this.margin.bottom : this.margin.top + this.height) + 20);\r\n  };\r\n  ChartInternal.prototype.getXAxisClipWidth = function () {\r\n      var $$ = this;\r\n      return $$.getAxisClipWidth(!$$.config.axis_rotated);\r\n  };\r\n  ChartInternal.prototype.getXAxisClipHeight = function () {\r\n      var $$ = this;\r\n      return $$.getAxisClipHeight(!$$.config.axis_rotated);\r\n  };\r\n  ChartInternal.prototype.getYAxisClipWidth = function () {\r\n      var $$ = this;\r\n      return ($$.getAxisClipWidth($$.config.axis_rotated) +\r\n          ($$.config.axis_y_inner ? 20 : 0));\r\n  };\r\n  ChartInternal.prototype.getYAxisClipHeight = function () {\r\n      var $$ = this;\r\n      return $$.getAxisClipHeight($$.config.axis_rotated);\r\n  };\n\n  ChartInternal.prototype.generateColor = function () {\r\n      var $$ = this, config = $$.config, d3 = $$.d3, colors = config.data_colors, pattern = notEmpty(config.color_pattern)\r\n          ? config.color_pattern\r\n          : d3.schemeCategory10, callback = config.data_color, ids = [];\r\n      return function (d) {\r\n          var id = d.id || (d.data && d.data.id) || d, color;\r\n          // if callback function is provided\r\n          if (colors[id] instanceof Function) {\r\n              color = colors[id](d);\r\n          }\r\n          // if specified, choose that color\r\n          else if (colors[id]) {\r\n              color = colors[id];\r\n          }\r\n          // if not specified, choose from pattern\r\n          else {\r\n              if (ids.indexOf(id) < 0) {\r\n                  ids.push(id);\r\n              }\r\n              color = pattern[ids.indexOf(id) % pattern.length];\r\n              colors[id] = color;\r\n          }\r\n          return callback instanceof Function ? callback(color, d) : color;\r\n      };\r\n  };\r\n  ChartInternal.prototype.generateLevelColor = function () {\r\n      var $$ = this, config = $$.config, colors = config.color_pattern, threshold = config.color_threshold, asValue = threshold.unit === 'value', values = threshold.values && threshold.values.length ? threshold.values : [], max = threshold.max || 100;\r\n      return notEmpty(threshold) && notEmpty(colors)\r\n          ? function (value) {\r\n              var i, v, color = colors[colors.length - 1];\r\n              for (i = 0; i < values.length; i++) {\r\n                  v = asValue ? value : (value * 100) / max;\r\n                  if (v < values[i]) {\r\n                      color = colors[i];\r\n                      break;\r\n                  }\r\n              }\r\n              return color;\r\n          }\r\n          : null;\r\n  };\n\n  ChartInternal.prototype.getDefaultConfig = function () {\r\n      var config = {\r\n          bindto: '#chart',\r\n          svg_classname: undefined,\r\n          size_width: undefined,\r\n          size_height: undefined,\r\n          padding_left: undefined,\r\n          padding_right: undefined,\r\n          padding_top: undefined,\r\n          padding_bottom: undefined,\r\n          resize_auto: true,\r\n          zoom_enabled: false,\r\n          zoom_initialRange: undefined,\r\n          zoom_type: 'scroll',\r\n          zoom_disableDefaultBehavior: false,\r\n          zoom_privileged: false,\r\n          zoom_rescale: false,\r\n          zoom_onzoom: function () { },\r\n          zoom_onzoomstart: function () { },\r\n          zoom_onzoomend: function () { },\r\n          zoom_x_min: undefined,\r\n          zoom_x_max: undefined,\r\n          interaction_brighten: true,\r\n          interaction_enabled: true,\r\n          onmouseover: function () { },\r\n          onmouseout: function () { },\r\n          onresize: function () { },\r\n          onresized: function () { },\r\n          oninit: function () { },\r\n          onrendered: function () { },\r\n          transition_duration: 350,\r\n          data_epochs: 'epochs',\r\n          data_x: undefined,\r\n          data_xs: {},\r\n          data_xFormat: '%Y-%m-%d',\r\n          data_xLocaltime: true,\r\n          data_xSort: true,\r\n          data_idConverter: function (id) {\r\n              return id;\r\n          },\r\n          data_names: {},\r\n          data_classes: {},\r\n          data_groups: [],\r\n          data_axes: {},\r\n          data_type: undefined,\r\n          data_types: {},\r\n          data_labels: {},\r\n          data_order: 'desc',\r\n          data_regions: {},\r\n          data_color: undefined,\r\n          data_colors: {},\r\n          data_hide: false,\r\n          data_filter: undefined,\r\n          data_selection_enabled: false,\r\n          data_selection_grouped: false,\r\n          data_selection_isselectable: function () {\r\n              return true;\r\n          },\r\n          data_selection_multiple: true,\r\n          data_selection_draggable: false,\r\n          data_stack_normalize: false,\r\n          data_onclick: function () { },\r\n          data_onmouseover: function () { },\r\n          data_onmouseout: function () { },\r\n          data_onselected: function () { },\r\n          data_onunselected: function () { },\r\n          data_url: undefined,\r\n          data_headers: undefined,\r\n          data_json: undefined,\r\n          data_rows: undefined,\r\n          data_columns: undefined,\r\n          data_mimeType: undefined,\r\n          data_keys: undefined,\r\n          // configuration for no plot-able data supplied.\r\n          data_empty_label_text: '',\r\n          // subchart\r\n          subchart_show: false,\r\n          subchart_size_height: 60,\r\n          subchart_axis_x_show: true,\r\n          subchart_onbrush: function () { },\r\n          // color\r\n          color_pattern: [],\r\n          color_threshold: {},\r\n          // legend\r\n          legend_show: true,\r\n          legend_hide: false,\r\n          legend_position: 'bottom',\r\n          legend_inset_anchor: 'top-left',\r\n          legend_inset_x: 10,\r\n          legend_inset_y: 0,\r\n          legend_inset_step: undefined,\r\n          legend_item_onclick: undefined,\r\n          legend_item_onmouseover: undefined,\r\n          legend_item_onmouseout: undefined,\r\n          legend_equally: false,\r\n          legend_padding: 0,\r\n          legend_item_tile_width: 10,\r\n          legend_item_tile_height: 10,\r\n          // axis\r\n          axis_rotated: false,\r\n          axis_x_show: true,\r\n          axis_x_type: 'indexed',\r\n          axis_x_localtime: true,\r\n          axis_x_categories: [],\r\n          axis_x_tick_centered: false,\r\n          axis_x_tick_format: undefined,\r\n          axis_x_tick_culling: {},\r\n          axis_x_tick_culling_max: 10,\r\n          axis_x_tick_count: undefined,\r\n          axis_x_tick_fit: true,\r\n          axis_x_tick_values: null,\r\n          axis_x_tick_rotate: 0,\r\n          axis_x_tick_outer: true,\r\n          axis_x_tick_multiline: true,\r\n          axis_x_tick_multilineMax: 0,\r\n          axis_x_tick_width: null,\r\n          axis_x_max: undefined,\r\n          axis_x_min: undefined,\r\n          axis_x_padding: {},\r\n          axis_x_height: undefined,\r\n          axis_x_selection: undefined,\r\n          axis_x_label: {},\r\n          axis_x_inner: undefined,\r\n          axis_y_show: true,\r\n          axis_y_type: 'linear',\r\n          axis_y_max: undefined,\r\n          axis_y_min: undefined,\r\n          axis_y_inverted: false,\r\n          axis_y_center: undefined,\r\n          axis_y_inner: undefined,\r\n          axis_y_label: {},\r\n          axis_y_tick_format: undefined,\r\n          axis_y_tick_outer: true,\r\n          axis_y_tick_values: null,\r\n          axis_y_tick_rotate: 0,\r\n          axis_y_tick_count: undefined,\r\n          axis_y_tick_time_type: undefined,\r\n          axis_y_tick_time_interval: undefined,\r\n          axis_y_padding: {},\r\n          axis_y_default: undefined,\r\n          axis_y2_show: false,\r\n          axis_y2_type: 'linear',\r\n          axis_y2_max: undefined,\r\n          axis_y2_min: undefined,\r\n          axis_y2_inverted: false,\r\n          axis_y2_center: undefined,\r\n          axis_y2_inner: undefined,\r\n          axis_y2_label: {},\r\n          axis_y2_tick_format: undefined,\r\n          axis_y2_tick_outer: true,\r\n          axis_y2_tick_values: null,\r\n          axis_y2_tick_count: undefined,\r\n          axis_y2_padding: {},\r\n          axis_y2_default: undefined,\r\n          // grid\r\n          grid_x_show: false,\r\n          grid_x_type: 'tick',\r\n          grid_x_lines: [],\r\n          grid_y_show: false,\r\n          // not used\r\n          // grid_y_type: 'tick',\r\n          grid_y_lines: [],\r\n          grid_y_ticks: 10,\r\n          grid_focus_show: true,\r\n          grid_lines_front: true,\r\n          // point - point of each data\r\n          point_show: true,\r\n          point_r: 2.5,\r\n          point_sensitivity: 10,\r\n          point_focus_expand_enabled: true,\r\n          point_focus_expand_r: undefined,\r\n          point_select_r: undefined,\r\n          // line\r\n          line_connectNull: false,\r\n          line_step_type: 'step',\r\n          // bar\r\n          bar_width: undefined,\r\n          bar_width_ratio: 0.6,\r\n          bar_width_max: undefined,\r\n          bar_zerobased: true,\r\n          bar_space: 0,\r\n          // area\r\n          area_zerobased: true,\r\n          area_above: false,\r\n          // pie\r\n          pie_label_show: true,\r\n          pie_label_format: undefined,\r\n          pie_label_threshold: 0.05,\r\n          pie_label_ratio: undefined,\r\n          pie_expand: {},\r\n          pie_expand_duration: 50,\r\n          pie_padAngle: 0,\r\n          // gauge\r\n          gauge_fullCircle: false,\r\n          gauge_label_show: true,\r\n          gauge_labelLine_show: true,\r\n          gauge_label_format: undefined,\r\n          gauge_min: 0,\r\n          gauge_max: 100,\r\n          gauge_startingAngle: (-1 * Math.PI) / 2,\r\n          gauge_label_extents: undefined,\r\n          gauge_units: undefined,\r\n          gauge_width: undefined,\r\n          gauge_arcs_minWidth: 5,\r\n          gauge_expand: {},\r\n          gauge_expand_duration: 50,\r\n          // donut\r\n          donut_label_show: true,\r\n          donut_label_format: undefined,\r\n          donut_label_threshold: 0.05,\r\n          donut_label_ratio: undefined,\r\n          donut_width: undefined,\r\n          donut_title: '',\r\n          donut_expand: {},\r\n          donut_expand_duration: 50,\r\n          donut_padAngle: 0,\r\n          // spline\r\n          spline_interpolation_type: 'cardinal',\r\n          // stanford\r\n          stanford_lines: [],\r\n          stanford_regions: [],\r\n          stanford_texts: [],\r\n          stanford_scaleMin: undefined,\r\n          stanford_scaleMax: undefined,\r\n          stanford_scaleWidth: undefined,\r\n          stanford_scaleFormat: undefined,\r\n          stanford_scaleValues: undefined,\r\n          stanford_colors: undefined,\r\n          stanford_padding: {\r\n              top: 0,\r\n              right: 0,\r\n              bottom: 0,\r\n              left: 0\r\n          },\r\n          // region - region to change style\r\n          regions: [],\r\n          // tooltip - show when mouseover on each data\r\n          tooltip_show: true,\r\n          tooltip_grouped: true,\r\n          tooltip_order: undefined,\r\n          tooltip_format_title: undefined,\r\n          tooltip_format_name: undefined,\r\n          tooltip_format_value: undefined,\r\n          tooltip_horizontal: undefined,\r\n          tooltip_position: undefined,\r\n          tooltip_contents: function (d, defaultTitleFormat, defaultValueFormat, color) {\r\n              return this.getTooltipContent\r\n                  ? this.getTooltipContent(d, defaultTitleFormat, defaultValueFormat, color)\r\n                  : '';\r\n          },\r\n          tooltip_init_show: false,\r\n          tooltip_init_x: 0,\r\n          tooltip_init_position: { top: '0px', left: '50px' },\r\n          tooltip_onshow: function () { },\r\n          tooltip_onhide: function () { },\r\n          // title\r\n          title_text: undefined,\r\n          title_padding: {\r\n              top: 0,\r\n              right: 0,\r\n              bottom: 0,\r\n              left: 0\r\n          },\r\n          title_position: 'top-center'\r\n      };\r\n      Object.keys(this.additionalConfig).forEach(function (key) {\r\n          config[key] = this.additionalConfig[key];\r\n      }, this);\r\n      return config;\r\n  };\r\n  ChartInternal.prototype.additionalConfig = {};\r\n  ChartInternal.prototype.loadConfig = function (config) {\r\n      var this_config = this.config, target, keys, read;\r\n      function find() {\r\n          var key = keys.shift();\r\n          //        console.log(\"key =>\", key, \", target =>\", target);\r\n          if (key && target && typeof target === 'object' && key in target) {\r\n              target = target[key];\r\n              return find();\r\n          }\r\n          else if (!key) {\r\n              return target;\r\n          }\r\n          else {\r\n              return undefined;\r\n          }\r\n      }\r\n      Object.keys(this_config).forEach(function (key) {\r\n          target = config;\r\n          keys = key.split('_');\r\n          read = find();\r\n          //        console.log(\"CONFIG : \", key, read);\r\n          if (isDefined(read)) {\r\n              this_config[key] = read;\r\n          }\r\n      });\r\n  };\n\n  ChartInternal.prototype.convertUrlToData = function (url, mimeType, headers, keys, done) {\r\n      var $$ = this, type = mimeType ? mimeType : 'csv', f, converter;\r\n      if (type === 'json') {\r\n          f = $$.d3.json;\r\n          converter = $$.convertJsonToData;\r\n      }\r\n      else if (type === 'tsv') {\r\n          f = $$.d3.tsv;\r\n          converter = $$.convertXsvToData;\r\n      }\r\n      else {\r\n          f = $$.d3.csv;\r\n          converter = $$.convertXsvToData;\r\n      }\r\n      f(url, headers)\r\n          .then(function (data) {\r\n          done.call($$, converter.call($$, data, keys));\r\n      })\r\n          .catch(function (error) {\r\n          throw error;\r\n      });\r\n  };\r\n  ChartInternal.prototype.convertXsvToData = function (xsv) {\r\n      var keys = xsv.columns, rows = xsv;\r\n      if (rows.length === 0) {\r\n          return {\r\n              keys: keys,\r\n              rows: [keys.reduce(function (row, key) {\r\n                      var _a;\r\n                      return Object.assign(row, (_a = {}, _a[key] = null, _a));\r\n                  }, {})]\r\n          };\r\n      }\r\n      else {\r\n          // [].concat() is to convert result into a plain array otherwise\r\n          // test is not happy because rows have properties.\r\n          return { keys: keys, rows: [].concat(xsv) };\r\n      }\r\n  };\r\n  ChartInternal.prototype.convertJsonToData = function (json, keys) {\r\n      var $$ = this, new_rows = [], targetKeys, data;\r\n      if (keys) {\r\n          // when keys specified, json would be an array that includes objects\r\n          if (keys.x) {\r\n              targetKeys = keys.value.concat(keys.x);\r\n              $$.config.data_x = keys.x;\r\n          }\r\n          else {\r\n              targetKeys = keys.value;\r\n          }\r\n          new_rows.push(targetKeys);\r\n          json.forEach(function (o) {\r\n              var new_row = [];\r\n              targetKeys.forEach(function (key) {\r\n                  // convert undefined to null because undefined data will be removed in convertDataToTargets()\r\n                  var v = $$.findValueInJson(o, key);\r\n                  if (isUndefined(v)) {\r\n                      v = null;\r\n                  }\r\n                  new_row.push(v);\r\n              });\r\n              new_rows.push(new_row);\r\n          });\r\n          data = $$.convertRowsToData(new_rows);\r\n      }\r\n      else {\r\n          Object.keys(json).forEach(function (key) {\r\n              new_rows.push([key].concat(json[key]));\r\n          });\r\n          data = $$.convertColumnsToData(new_rows);\r\n      }\r\n      return data;\r\n  };\r\n  /**\r\n   * Finds value from the given nested object by the given path.\r\n   * If it's not found, then this returns undefined.\r\n   * @param {Object} object the object\r\n   * @param {string} path the path\r\n   */\r\n  ChartInternal.prototype.findValueInJson = function (object, path) {\r\n      if (path in object) {\r\n          // If object has a key that contains . or [], return the key's value\r\n          // instead of searching for an inner object.\r\n          // See https://github.com/c3js/c3/issues/1691 for details.\r\n          return object[path];\r\n      }\r\n      path = path.replace(/\\[(\\w+)\\]/g, '.$1'); // convert indexes to properties (replace [] with .)\r\n      path = path.replace(/^\\./, ''); // strip a leading dot\r\n      var pathArray = path.split('.');\r\n      for (var i = 0; i < pathArray.length; ++i) {\r\n          var k = pathArray[i];\r\n          if (k in object) {\r\n              object = object[k];\r\n          }\r\n          else {\r\n              return;\r\n          }\r\n      }\r\n      return object;\r\n  };\r\n  /**\r\n   * Converts the rows to normalized data.\r\n   * @param {any[][]} rows The row data\r\n   * @return {Object}\r\n   */\r\n  ChartInternal.prototype.convertRowsToData = function (rows) {\r\n      var newRows = [];\r\n      var keys = rows[0];\r\n      for (var i = 1; i < rows.length; i++) {\r\n          var newRow = {};\r\n          for (var j = 0; j < rows[i].length; j++) {\r\n              if (isUndefined(rows[i][j])) {\r\n                  throw new Error('Source data is missing a component at (' + i + ',' + j + ')!');\r\n              }\r\n              newRow[keys[j]] = rows[i][j];\r\n          }\r\n          newRows.push(newRow);\r\n      }\r\n      return { keys: keys, rows: newRows };\r\n  };\r\n  /**\r\n   * Converts the columns to normalized data.\r\n   * @param {any[][]} columns The column data\r\n   * @return {Object}\r\n   */\r\n  ChartInternal.prototype.convertColumnsToData = function (columns) {\r\n      var newRows = [];\r\n      var keys = [];\r\n      for (var i = 0; i < columns.length; i++) {\r\n          var key = columns[i][0];\r\n          for (var j = 1; j < columns[i].length; j++) {\r\n              if (isUndefined(newRows[j - 1])) {\r\n                  newRows[j - 1] = {};\r\n              }\r\n              if (isUndefined(columns[i][j])) {\r\n                  throw new Error('Source data is missing a component at (' + i + ',' + j + ')!');\r\n              }\r\n              newRows[j - 1][key] = columns[i][j];\r\n          }\r\n          keys.push(key);\r\n      }\r\n      return { keys: keys, rows: newRows };\r\n  };\r\n  /**\r\n   * Converts the data format into the target format.\r\n   * @param {!Object} data\r\n   * @param {!Array} data.keys Ordered list of target IDs.\r\n   * @param {!Array} data.rows Rows of data to convert.\r\n   * @param {boolean} appendXs True to append to $$.data.xs, False to replace.\r\n   * @return {!Array}\r\n   */\r\n  ChartInternal.prototype.convertDataToTargets = function (data, appendXs) {\r\n      var $$ = this, config = $$.config, targets, ids, xs, keys, epochs;\r\n      // handles format where keys are not orderly provided\r\n      if (isArray(data)) {\r\n          keys = Object.keys(data[0]);\r\n      }\r\n      else {\r\n          keys = data.keys;\r\n          data = data.rows;\r\n      }\r\n      xs = keys.filter($$.isX, $$);\r\n      if (!$$.isStanfordGraphType()) {\r\n          ids = keys.filter($$.isNotX, $$);\r\n      }\r\n      else {\r\n          epochs = keys.filter($$.isEpochs, $$);\r\n          ids = keys.filter($$.isNotXAndNotEpochs, $$);\r\n          if (xs.length !== 1 || epochs.length !== 1 || ids.length !== 1) {\r\n              throw new Error(\"You must define the 'x' key name and the 'epochs' for Stanford Diagrams\");\r\n          }\r\n      }\r\n      // save x for update data by load when custom x and c3.x API\r\n      ids.forEach(function (id) {\r\n          var xKey = $$.getXKey(id);\r\n          if ($$.isCustomX() || $$.isTimeSeries()) {\r\n              // if included in input data\r\n              if (xs.indexOf(xKey) >= 0) {\r\n                  $$.data.xs[id] = (appendXs && $$.data.xs[id]\r\n                      ? $$.data.xs[id]\r\n                      : []).concat(data\r\n                      .map(function (d) {\r\n                      return d[xKey];\r\n                  })\r\n                      .filter(isValue)\r\n                      .map(function (rawX, i) {\r\n                      return $$.generateTargetX(rawX, id, i);\r\n                  }));\r\n              }\r\n              // if not included in input data, find from preloaded data of other id's x\r\n              else if (config.data_x) {\r\n                  $$.data.xs[id] = $$.getOtherTargetXs();\r\n              }\r\n              // if not included in input data, find from preloaded data\r\n              else if (notEmpty(config.data_xs)) {\r\n                  $$.data.xs[id] = $$.getXValuesOfXKey(xKey, $$.data.targets);\r\n              }\r\n              // MEMO: if no x included, use same x of current will be used\r\n          }\r\n          else {\r\n              $$.data.xs[id] = data.map(function (d, i) {\r\n                  return i;\r\n              });\r\n          }\r\n      });\r\n      // check x is defined\r\n      ids.forEach(function (id) {\r\n          if (!$$.data.xs[id]) {\r\n              throw new Error('x is not defined for id = \"' + id + '\".');\r\n          }\r\n      });\r\n      // convert to target\r\n      targets = ids.map(function (id, index) {\r\n          var convertedId = config.data_idConverter(id);\r\n          return {\r\n              id: convertedId,\r\n              id_org: id,\r\n              values: data\r\n                  .map(function (d, i) {\r\n                  var xKey = $$.getXKey(id), rawX = d[xKey], value = d[id] !== null && !isNaN(d[id]) ? +d[id] : null, x, returnData;\r\n                  // use x as categories if custom x and categorized\r\n                  if ($$.isCustomX() && $$.isCategorized() && !isUndefined(rawX)) {\r\n                      if (index === 0 && i === 0) {\r\n                          config.axis_x_categories = [];\r\n                      }\r\n                      x = config.axis_x_categories.indexOf(rawX);\r\n                      if (x === -1) {\r\n                          x = config.axis_x_categories.length;\r\n                          config.axis_x_categories.push(rawX);\r\n                      }\r\n                  }\r\n                  else {\r\n                      x = $$.generateTargetX(rawX, id, i);\r\n                  }\r\n                  // mark as x = undefined if value is undefined and filter to remove after mapped\r\n                  if (isUndefined(d[id]) || $$.data.xs[id].length <= i) {\r\n                      x = undefined;\r\n                  }\r\n                  returnData = { x: x, value: value, id: convertedId };\r\n                  if ($$.isStanfordGraphType()) {\r\n                      returnData.epochs = d[epochs];\r\n                  }\r\n                  return returnData;\r\n              })\r\n                  .filter(function (v) {\r\n                  return isDefined(v.x);\r\n              })\r\n          };\r\n      });\r\n      // finish targets\r\n      targets.forEach(function (t) {\r\n          var i;\r\n          // sort values by its x\r\n          if (config.data_xSort) {\r\n              t.values = t.values.sort(function (v1, v2) {\r\n                  var x1 = v1.x || v1.x === 0 ? v1.x : Infinity, x2 = v2.x || v2.x === 0 ? v2.x : Infinity;\r\n                  return x1 - x2;\r\n              });\r\n          }\r\n          // indexing each value\r\n          i = 0;\r\n          t.values.forEach(function (v) {\r\n              v.index = i++;\r\n          });\r\n          // this needs to be sorted because its index and value.index is identical\r\n          $$.data.xs[t.id].sort(function (v1, v2) {\r\n              return v1 - v2;\r\n          });\r\n      });\r\n      // cache information about values\r\n      $$.hasNegativeValue = $$.hasNegativeValueInTargets(targets);\r\n      $$.hasPositiveValue = $$.hasPositiveValueInTargets(targets);\r\n      // set target types\r\n      if (config.data_type) {\r\n          $$.setTargetType($$.mapToIds(targets).filter(function (id) {\r\n              return !(id in config.data_types);\r\n          }), config.data_type);\r\n      }\r\n      // cache as original id keyed\r\n      targets.forEach(function (d) {\r\n          $$.addCache(d.id_org, d);\r\n      });\r\n      return targets;\r\n  };\n\n  ChartInternal.prototype.isEpochs = function (key) {\r\n      var $$ = this, config = $$.config;\r\n      return config.data_epochs && key === config.data_epochs;\r\n  };\r\n  ChartInternal.prototype.isX = function (key) {\r\n      var $$ = this, config = $$.config;\r\n      return ((config.data_x && key === config.data_x) ||\r\n          (notEmpty(config.data_xs) && hasValue(config.data_xs, key)));\r\n  };\r\n  ChartInternal.prototype.isNotX = function (key) {\r\n      return !this.isX(key);\r\n  };\r\n  ChartInternal.prototype.isNotXAndNotEpochs = function (key) {\r\n      return !this.isX(key) && !this.isEpochs(key);\r\n  };\r\n  /**\r\n   * Returns whether the normalized stack option is enabled or not.\r\n   *\r\n   * To be enabled it must also have data.groups defined.\r\n   *\r\n   * @return {boolean}\r\n   */\r\n  ChartInternal.prototype.isStackNormalized = function () {\r\n      return this.config.data_stack_normalize && this.config.data_groups.length > 0;\r\n  };\r\n  /**\r\n   * Returns whether the axis is normalized or not.\r\n   *\r\n   * An axis is normalized as long as one of its associated target\r\n   * is normalized.\r\n   *\r\n   * @param axisId Axis ID (y or y2)\r\n   * @return {Boolean}\r\n   */\r\n  ChartInternal.prototype.isAxisNormalized = function (axisId) {\r\n      var $$ = this;\r\n      if (!$$.isStackNormalized()) {\r\n          // shortcut\r\n          return false;\r\n      }\r\n      return $$.data.targets\r\n          .filter(function (target) { return $$.axis.getId(target.id) === axisId; })\r\n          .some(function (target) { return $$.isTargetNormalized(target.id); });\r\n  };\r\n  /**\r\n   * Returns whether the values for this target ID is normalized or not.\r\n   *\r\n   * To be normalized the option needs to be enabled and target needs\r\n   * to be defined in `data.groups`.\r\n   *\r\n   * @param targetId ID of the target\r\n   * @return {Boolean} True if the target is normalized, false otherwise.\r\n   */\r\n  ChartInternal.prototype.isTargetNormalized = function (targetId) {\r\n      var $$ = this;\r\n      return ($$.isStackNormalized() &&\r\n          $$.config.data_groups.some(function (group) { return group.includes(targetId); }));\r\n  };\r\n  ChartInternal.prototype.getXKey = function (id) {\r\n      var $$ = this, config = $$.config;\r\n      return config.data_x\r\n          ? config.data_x\r\n          : notEmpty(config.data_xs)\r\n              ? config.data_xs[id]\r\n              : null;\r\n  };\r\n  /**\r\n   * Get sum of visible data per index for given axis.\r\n   *\r\n   * Expect axisId to be either 'y' or 'y2'.\r\n   *\r\n   * @private\r\n   * @param axisId Compute sum for data associated to given axis.\r\n   * @return {Array}\r\n   */\r\n  ChartInternal.prototype.getTotalPerIndex = function (axisId) {\r\n      var $$ = this;\r\n      if (!$$.isStackNormalized()) {\r\n          return null;\r\n      }\r\n      var cached = $$.getFromCache('getTotalPerIndex');\r\n      if (cached !== undefined) {\r\n          return cached[axisId];\r\n      }\r\n      var sum = { y: [], y2: [] };\r\n      $$.data.targets\r\n          // keep only target that are normalized\r\n          .filter(function (target) { return $$.isTargetNormalized(target.id); })\r\n          // keep only target that are visible\r\n          .filter(function (target) { return $$.isTargetToShow(target.id); })\r\n          // compute sum per axis\r\n          .forEach(function (target) {\r\n          var sumByAxis = sum[$$.axis.getId(target.id)];\r\n          target.values.forEach(function (v, i) {\r\n              if (!sumByAxis[i]) {\r\n                  sumByAxis[i] = 0;\r\n              }\r\n              sumByAxis[i] += isNumber(v.value) ? v.value : 0;\r\n          });\r\n      });\r\n      $$.addToCache('getTotalPerIndex', sum);\r\n      return sum[axisId];\r\n  };\r\n  /**\r\n   * Get sum of visible data.\r\n   *\r\n   * Should be used for normalised data only since all values\r\n   * are expected to be positive.\r\n   *\r\n   * @private\r\n   * @return {Number}\r\n   */\r\n  ChartInternal.prototype.getTotalDataSum = function () {\r\n      var $$ = this;\r\n      var cached = $$.getFromCache('getTotalDataSum');\r\n      if (cached !== undefined) {\r\n          return cached;\r\n      }\r\n      var totalDataSum = flattenArray($$.data.targets\r\n          .filter(function (target) { return $$.isTargetToShow(target.id); })\r\n          .map(function (target) { return target.values; }))\r\n          .map(function (d) { return d.value; })\r\n          .reduce(function (p, c) { return p + c; }, 0);\r\n      $$.addToCache('getTotalDataSum', totalDataSum);\r\n      return totalDataSum;\r\n  };\r\n  ChartInternal.prototype.getXValuesOfXKey = function (key, targets) {\r\n      var $$ = this, xValues, ids = targets && notEmpty(targets) ? $$.mapToIds(targets) : [];\r\n      ids.forEach(function (id) {\r\n          if ($$.getXKey(id) === key) {\r\n              xValues = $$.data.xs[id];\r\n          }\r\n      });\r\n      return xValues;\r\n  };\r\n  ChartInternal.prototype.getXValue = function (id, i) {\r\n      var $$ = this;\r\n      return id in $$.data.xs && $$.data.xs[id] && isValue($$.data.xs[id][i])\r\n          ? $$.data.xs[id][i]\r\n          : i;\r\n  };\r\n  ChartInternal.prototype.getOtherTargetXs = function () {\r\n      var $$ = this, idsForX = Object.keys($$.data.xs);\r\n      return idsForX.length ? $$.data.xs[idsForX[0]] : null;\r\n  };\r\n  ChartInternal.prototype.getOtherTargetX = function (index) {\r\n      var xs = this.getOtherTargetXs();\r\n      return xs && index < xs.length ? xs[index] : null;\r\n  };\r\n  ChartInternal.prototype.addXs = function (xs) {\r\n      var $$ = this;\r\n      Object.keys(xs).forEach(function (id) {\r\n          $$.config.data_xs[id] = xs[id];\r\n      });\r\n  };\r\n  ChartInternal.prototype.addName = function (data) {\r\n      var $$ = this, name;\r\n      if (data) {\r\n          name = $$.config.data_names[data.id];\r\n          data.name = name !== undefined ? name : data.id;\r\n      }\r\n      return data;\r\n  };\r\n  ChartInternal.prototype.getValueOnIndex = function (values, index) {\r\n      var valueOnIndex = values.filter(function (v) {\r\n          return v.index === index;\r\n      });\r\n      return valueOnIndex.length ? valueOnIndex[0] : null;\r\n  };\r\n  ChartInternal.prototype.updateTargetX = function (targets, x) {\r\n      var $$ = this;\r\n      targets.forEach(function (t) {\r\n          t.values.forEach(function (v, i) {\r\n              v.x = $$.generateTargetX(x[i], t.id, i);\r\n          });\r\n          $$.data.xs[t.id] = x;\r\n      });\r\n  };\r\n  ChartInternal.prototype.updateTargetXs = function (targets, xs) {\r\n      var $$ = this;\r\n      targets.forEach(function (t) {\r\n          if (xs[t.id]) {\r\n              $$.updateTargetX([t], xs[t.id]);\r\n          }\r\n      });\r\n  };\r\n  ChartInternal.prototype.generateTargetX = function (rawX, id, index) {\r\n      var $$ = this, x;\r\n      if ($$.isTimeSeries()) {\r\n          x = rawX ? $$.parseDate(rawX) : $$.parseDate($$.getXValue(id, index));\r\n      }\r\n      else if ($$.isCustomX() && !$$.isCategorized()) {\r\n          x = isValue(rawX) ? +rawX : $$.getXValue(id, index);\r\n      }\r\n      else {\r\n          x = index;\r\n      }\r\n      return x;\r\n  };\r\n  ChartInternal.prototype.cloneTarget = function (target) {\r\n      return {\r\n          id: target.id,\r\n          id_org: target.id_org,\r\n          values: target.values.map(function (d) {\r\n              return {\r\n                  x: d.x,\r\n                  value: d.value,\r\n                  id: d.id\r\n              };\r\n          })\r\n      };\r\n  };\r\n  ChartInternal.prototype.getMaxDataCount = function () {\r\n      var $$ = this;\r\n      return $$.d3.max($$.data.targets, function (t) {\r\n          return t.values.length;\r\n      });\r\n  };\r\n  ChartInternal.prototype.mapToIds = function (targets) {\r\n      return targets.map(function (d) {\r\n          return d.id;\r\n      });\r\n  };\r\n  ChartInternal.prototype.mapToTargetIds = function (ids) {\r\n      var $$ = this;\r\n      return ids ? [].concat(ids) : $$.mapToIds($$.data.targets);\r\n  };\r\n  ChartInternal.prototype.hasTarget = function (targets, id) {\r\n      var ids = this.mapToIds(targets), i;\r\n      for (i = 0; i < ids.length; i++) {\r\n          if (ids[i] === id) {\r\n              return true;\r\n          }\r\n      }\r\n      return false;\r\n  };\r\n  ChartInternal.prototype.isTargetToShow = function (targetId) {\r\n      return this.hiddenTargetIds.indexOf(targetId) < 0;\r\n  };\r\n  ChartInternal.prototype.isLegendToShow = function (targetId) {\r\n      return this.hiddenLegendIds.indexOf(targetId) < 0;\r\n  };\r\n  /**\r\n   * Returns only visible targets.\r\n   *\r\n   * This is the same as calling {@link filterTargetsToShow} on $$.data.targets.\r\n   *\r\n   * @return {Array}\r\n   */\r\n  ChartInternal.prototype.getTargetsToShow = function () {\r\n      var $$ = this;\r\n      return $$.filterTargetsToShow($$.data.targets);\r\n  };\r\n  ChartInternal.prototype.filterTargetsToShow = function (targets) {\r\n      var $$ = this;\r\n      return targets.filter(function (t) {\r\n          return $$.isTargetToShow(t.id);\r\n      });\r\n  };\r\n  /**\r\n   * @return {Array} Returns all the targets attached to the chart, visible or not\r\n   */\r\n  ChartInternal.prototype.getTargets = function () {\r\n      var $$ = this;\r\n      return $$.data.targets;\r\n  };\r\n  ChartInternal.prototype.mapTargetsToUniqueXs = function (targets) {\r\n      var $$ = this;\r\n      var xs = $$.d3\r\n          .set($$.d3.merge(targets.map(function (t) {\r\n          return t.values.map(function (v) {\r\n              return +v.x;\r\n          });\r\n      })))\r\n          .values();\r\n      xs = $$.isTimeSeries()\r\n          ? xs.map(function (x) {\r\n              return new Date(+x);\r\n          })\r\n          : xs.map(function (x) {\r\n              return +x;\r\n          });\r\n      return xs.sort(function (a, b) {\r\n          return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\r\n      });\r\n  };\r\n  ChartInternal.prototype.addHiddenTargetIds = function (targetIds) {\r\n      targetIds = targetIds instanceof Array ? targetIds : new Array(targetIds);\r\n      for (var i = 0; i < targetIds.length; i++) {\r\n          if (this.hiddenTargetIds.indexOf(targetIds[i]) < 0) {\r\n              this.hiddenTargetIds = this.hiddenTargetIds.concat(targetIds[i]);\r\n          }\r\n      }\r\n      this.resetCache();\r\n  };\r\n  ChartInternal.prototype.removeHiddenTargetIds = function (targetIds) {\r\n      this.hiddenTargetIds = this.hiddenTargetIds.filter(function (id) {\r\n          return targetIds.indexOf(id) < 0;\r\n      });\r\n      this.resetCache();\r\n  };\r\n  ChartInternal.prototype.addHiddenLegendIds = function (targetIds) {\r\n      targetIds = targetIds instanceof Array ? targetIds : new Array(targetIds);\r\n      for (var i = 0; i < targetIds.length; i++) {\r\n          if (this.hiddenLegendIds.indexOf(targetIds[i]) < 0) {\r\n              this.hiddenLegendIds = this.hiddenLegendIds.concat(targetIds[i]);\r\n          }\r\n      }\r\n  };\r\n  ChartInternal.prototype.removeHiddenLegendIds = function (targetIds) {\r\n      this.hiddenLegendIds = this.hiddenLegendIds.filter(function (id) {\r\n          return targetIds.indexOf(id) < 0;\r\n      });\r\n  };\r\n  ChartInternal.prototype.getValuesAsIdKeyed = function (targets) {\r\n      var ys = {};\r\n      targets.forEach(function (t) {\r\n          ys[t.id] = [];\r\n          t.values.forEach(function (v) {\r\n              ys[t.id].push(v.value);\r\n          });\r\n      });\r\n      return ys;\r\n  };\r\n  ChartInternal.prototype.checkValueInTargets = function (targets, checker) {\r\n      var ids = Object.keys(targets), i, j, values;\r\n      for (i = 0; i < ids.length; i++) {\r\n          values = targets[ids[i]].values;\r\n          for (j = 0; j < values.length; j++) {\r\n              if (checker(values[j].value)) {\r\n                  return true;\r\n              }\r\n          }\r\n      }\r\n      return false;\r\n  };\r\n  ChartInternal.prototype.hasNegativeValueInTargets = function (targets) {\r\n      return this.checkValueInTargets(targets, function (v) {\r\n          return v < 0;\r\n      });\r\n  };\r\n  ChartInternal.prototype.hasPositiveValueInTargets = function (targets) {\r\n      return this.checkValueInTargets(targets, function (v) {\r\n          return v > 0;\r\n      });\r\n  };\r\n  ChartInternal.prototype.isOrderDesc = function () {\r\n      var config = this.config;\r\n      return (typeof config.data_order === 'string' &&\r\n          config.data_order.toLowerCase() === 'desc');\r\n  };\r\n  ChartInternal.prototype.isOrderAsc = function () {\r\n      var config = this.config;\r\n      return (typeof config.data_order === 'string' &&\r\n          config.data_order.toLowerCase() === 'asc');\r\n  };\r\n  ChartInternal.prototype.getOrderFunction = function () {\r\n      var $$ = this, config = $$.config, orderAsc = $$.isOrderAsc(), orderDesc = $$.isOrderDesc();\r\n      if (orderAsc || orderDesc) {\r\n          var reducer = function (p, c) {\r\n              return p + Math.abs(c.value);\r\n          };\r\n          return function (t1, t2) {\r\n              var t1Sum = t1.values.reduce(reducer, 0), t2Sum = t2.values.reduce(reducer, 0);\r\n              return orderAsc ? t2Sum - t1Sum : t1Sum - t2Sum;\r\n          };\r\n      }\r\n      else if (isFunction(config.data_order)) {\r\n          return config.data_order;\r\n      }\r\n      else if (isArray(config.data_order)) {\r\n          var order = config.data_order;\r\n          return function (t1, t2) {\r\n              return order.indexOf(t1.id) - order.indexOf(t2.id);\r\n          };\r\n      }\r\n  };\r\n  ChartInternal.prototype.orderTargets = function (targets) {\r\n      var fct = this.getOrderFunction();\r\n      if (fct) {\r\n          targets.sort(fct);\r\n      }\r\n      return targets;\r\n  };\r\n  /**\r\n   * Returns all the values from the given targets at the given index.\r\n   *\r\n   * @param {Array} targets\r\n   * @param {Number} index\r\n   * @return {Array}\r\n   */\r\n  ChartInternal.prototype.filterByIndex = function (targets, index) {\r\n      return this.d3.merge(targets.map(function (t) { return t.values.filter(function (v) { return v.index === index; }); }));\r\n  };\r\n  ChartInternal.prototype.filterByX = function (targets, x) {\r\n      return this.d3\r\n          .merge(targets.map(function (t) {\r\n          return t.values;\r\n      }))\r\n          .filter(function (v) {\r\n          return v.x - x === 0;\r\n      });\r\n  };\r\n  ChartInternal.prototype.filterRemoveNull = function (data) {\r\n      return data.filter(function (d) {\r\n          return isValue(d.value);\r\n      });\r\n  };\r\n  ChartInternal.prototype.filterByXDomain = function (targets, xDomain) {\r\n      return targets.map(function (t) {\r\n          return {\r\n              id: t.id,\r\n              id_org: t.id_org,\r\n              values: t.values.filter(function (v) {\r\n                  return xDomain[0] <= v.x && v.x <= xDomain[1];\r\n              })\r\n          };\r\n      });\r\n  };\r\n  ChartInternal.prototype.hasDataLabel = function () {\r\n      var config = this.config;\r\n      if (typeof config.data_labels === 'boolean' && config.data_labels) {\r\n          return true;\r\n      }\r\n      else if (typeof config.data_labels === 'object' &&\r\n          notEmpty(config.data_labels)) {\r\n          return true;\r\n      }\r\n      return false;\r\n  };\r\n  ChartInternal.prototype.getDataLabelLength = function (min, max, key) {\r\n      var $$ = this, lengths = [0, 0], paddingCoef = 1.3;\r\n      $$.selectChart\r\n          .select('svg')\r\n          .selectAll('.dummy')\r\n          .data([min, max])\r\n          .enter()\r\n          .append('text')\r\n          .text(function (d) {\r\n          return $$.dataLabelFormat(d.id)(d);\r\n      })\r\n          .each(function (d, i) {\r\n          lengths[i] = getBBox(this)[key] * paddingCoef;\r\n      })\r\n          .remove();\r\n      return lengths;\r\n  };\r\n  /**\r\n   * Returns true if the given data point is not arc type, otherwise false.\r\n   * @param {Object} d The data point\r\n   * @return {boolean}\r\n   */\r\n  ChartInternal.prototype.isNoneArc = function (d) {\r\n      return this.hasTarget(this.data.targets, d.id);\r\n  };\r\n  /**\r\n   * Returns true if the given data point is arc type, otherwise false.\r\n   * @param {Object} d The data point\r\n   * @return {boolean}\r\n   */\r\n  ChartInternal.prototype.isArc = function (d) {\r\n      return 'data' in d && this.hasTarget(this.data.targets, d.data.id);\r\n  };\r\n  /**\r\n   * Find the closest point from the given pos among the given targets or\r\n   * undefined if none satisfies conditions.\r\n   *\r\n   * @param {Array} targets\r\n   * @param {Array} pos An [x,y] coordinate\r\n   * @return {Object|undefined}\r\n   */\r\n  ChartInternal.prototype.findClosestFromTargets = function (targets, pos) {\r\n      var $$ = this;\r\n      // for each target, find the closest point\r\n      var candidates = targets\r\n          .map(function (t) {\r\n          return $$.findClosest(t.values, pos, $$.config.tooltip_horizontal\r\n              ? $$.horizontalDistance.bind($$)\r\n              : $$.dist.bind($$), $$.config.point_sensitivity);\r\n      })\r\n          .filter(function (v) { return v; });\r\n      // returns the closest of candidates\r\n      if (candidates.length === 0) {\r\n          return undefined;\r\n      }\r\n      else if (candidates.length === 1) {\r\n          return candidates[0];\r\n      }\r\n      else {\r\n          return $$.findClosest(candidates, pos, $$.dist.bind($$));\r\n      }\r\n  };\r\n  /**\r\n   * Find the closest point from the x value or undefined if none satisfies conditions.\r\n   *\r\n   * @param {Array} targets\r\n   * @param {Array} x A value on X axis\r\n   * @return {Object|undefined}\r\n   */\r\n  ChartInternal.prototype.findClosestFromTargetsByX = function (targets, x) {\r\n      var closest;\r\n      var diff;\r\n      targets.forEach(function (t) {\r\n          t.values.forEach(function (d) {\r\n              var newDiff = Math.abs(x - d.x);\r\n              if (diff === undefined || newDiff < diff) {\r\n                  closest = d;\r\n                  diff = newDiff;\r\n              }\r\n          });\r\n      });\r\n      return closest;\r\n  };\r\n  /**\r\n   * Using given compute distance method, returns the closest data point from the\r\n   * given position.\r\n   *\r\n   * Giving optionally a minimum distance to satisfy.\r\n   *\r\n   * @param {Array} dataPoints List of DataPoints\r\n   * @param {Array} pos An [x,y] coordinate\r\n   * @param {Function} computeDist Function to compute distance between 2 points\r\n   * @param {Number} minDist Minimal distance to satisfy\r\n   * @return {Object|undefined} Closest data point\r\n   */\r\n  ChartInternal.prototype.findClosest = function (dataPoints, pos, computeDist, minDist) {\r\n      if (minDist === void 0) { minDist = Infinity; }\r\n      var $$ = this;\r\n      var closest;\r\n      // find closest bar\r\n      dataPoints\r\n          .filter(function (v) { return v && $$.isBarType(v.id); })\r\n          .forEach(function (v) {\r\n          if (!closest) {\r\n              var shape = $$.main\r\n                  .select('.' +\r\n                  CLASS.bars +\r\n                  $$.getTargetSelectorSuffix(v.id) +\r\n                  ' .' +\r\n                  CLASS.bar +\r\n                  '-' +\r\n                  v.index)\r\n                  .node();\r\n              if ($$.isWithinBar(pos, shape)) {\r\n                  closest = v;\r\n              }\r\n          }\r\n      });\r\n      // find closest point from non-bar\r\n      dataPoints\r\n          .filter(function (v) { return v && !$$.isBarType(v.id); })\r\n          .forEach(function (v) {\r\n          var d = computeDist(v, pos);\r\n          if (d < minDist) {\r\n              minDist = d;\r\n              closest = v;\r\n          }\r\n      });\r\n      return closest;\r\n  };\r\n  ChartInternal.prototype.dist = function (data, pos) {\r\n      var $$ = this, config = $$.config, xIndex = config.axis_rotated ? 1 : 0, yIndex = config.axis_rotated ? 0 : 1, y = $$.circleY(data, data.index), x = $$.x(data.x);\r\n      return Math.sqrt(Math.pow(x - pos[xIndex], 2) + Math.pow(y - pos[yIndex], 2));\r\n  };\r\n  ChartInternal.prototype.horizontalDistance = function (data, pos) {\r\n      var $$ = this, config = $$.config, xIndex = config.axis_rotated ? 1 : 0, x = $$.x(data.x);\r\n      return Math.abs(x - pos[xIndex]);\r\n  };\r\n  ChartInternal.prototype.convertValuesToStep = function (values) {\r\n      var converted = [].concat(values), i;\r\n      if (!this.isCategorized()) {\r\n          return values;\r\n      }\r\n      for (i = values.length + 1; 0 < i; i--) {\r\n          converted[i] = converted[i - 1];\r\n      }\r\n      converted[0] = {\r\n          x: converted[0].x - 1,\r\n          value: converted[0].value,\r\n          id: converted[0].id\r\n      };\r\n      converted[values.length + 1] = {\r\n          x: converted[values.length].x + 1,\r\n          value: converted[values.length].value,\r\n          id: converted[values.length].id\r\n      };\r\n      return converted;\r\n  };\r\n  /**\r\n   * Get ratio value\r\n   *\r\n   * @param {String} type Ratio for given type\r\n   * @param {Object} d Data value object\r\n   * @param {Boolean} asPercent Convert the return as percent or not\r\n   * @return {Number} Ratio value\r\n   * @private\r\n   */\r\n  ChartInternal.prototype.getRatio = function (type, d, asPercent) {\r\n      if (asPercent === void 0) { asPercent = false; }\r\n      var $$ = this;\r\n      var api = $$.api;\r\n      var ratio = 0;\r\n      if (d && api.data.shown.call(api).length) {\r\n          ratio = d.ratio || d.value;\r\n          if (type === 'arc') {\r\n              if ($$.hasType('gauge')) {\r\n                  ratio =\r\n                      (d.endAngle - d.startAngle) /\r\n                          (Math.PI * ($$.config.gauge_fullCircle ? 2 : 1));\r\n              }\r\n              else {\r\n                  var total = $$.getTotalDataSum();\r\n                  ratio = d.value / total;\r\n              }\r\n          }\r\n          else if (type === 'index') {\r\n              var total = $$.getTotalPerIndex($$.axis.getId(d.id));\r\n              d.ratio =\r\n                  isNumber(d.value) && total && total[d.index] > 0\r\n                      ? d.value / total[d.index]\r\n                      : 0;\r\n              ratio = d.ratio;\r\n          }\r\n      }\r\n      return asPercent && ratio ? ratio * 100 : ratio;\r\n  };\r\n  ChartInternal.prototype.updateDataAttributes = function (name, attrs) {\r\n      var $$ = this, config = $$.config, current = config['data_' + name];\r\n      if (typeof attrs === 'undefined') {\r\n          return current;\r\n      }\r\n      Object.keys(attrs).forEach(function (id) {\r\n          current[id] = attrs[id];\r\n      });\r\n      $$.redraw({\r\n          withLegend: true\r\n      });\r\n      return current;\r\n  };\n\n  ChartInternal.prototype.load = function (targets, args) {\r\n      var $$ = this;\r\n      if (targets) {\r\n          // filter loading targets if needed\r\n          if (args.filter) {\r\n              targets = targets.filter(args.filter);\r\n          }\r\n          // set type if args.types || args.type specified\r\n          if (args.type || args.types) {\r\n              targets.forEach(function (t) {\r\n                  var type = args.types && args.types[t.id] ? args.types[t.id] : args.type;\r\n                  $$.setTargetType(t.id, type);\r\n              });\r\n          }\r\n          // Update/Add data\r\n          $$.data.targets.forEach(function (d) {\r\n              for (var i = 0; i < targets.length; i++) {\r\n                  if (d.id === targets[i].id) {\r\n                      d.values = targets[i].values;\r\n                      targets.splice(i, 1);\r\n                      break;\r\n                  }\r\n              }\r\n          });\r\n          $$.data.targets = $$.data.targets.concat(targets); // add remained\r\n      }\r\n      // Set targets\r\n      $$.updateTargets($$.data.targets);\r\n      // Redraw with new targets\r\n      $$.redraw({\r\n          withUpdateOrgXDomain: true,\r\n          withUpdateXDomain: true,\r\n          withLegend: true\r\n      });\r\n      if (args.done) {\r\n          args.done();\r\n      }\r\n  };\r\n  ChartInternal.prototype.loadFromArgs = function (args) {\r\n      var $$ = this;\r\n      $$.resetCache();\r\n      if (args.data) {\r\n          $$.load($$.convertDataToTargets(args.data), args);\r\n      }\r\n      else if (args.url) {\r\n          $$.convertUrlToData(args.url, args.mimeType, args.headers, args.keys, function (data) {\r\n              $$.load($$.convertDataToTargets(data), args);\r\n          });\r\n      }\r\n      else if (args.json) {\r\n          $$.load($$.convertDataToTargets($$.convertJsonToData(args.json, args.keys)), args);\r\n      }\r\n      else if (args.rows) {\r\n          $$.load($$.convertDataToTargets($$.convertRowsToData(args.rows)), args);\r\n      }\r\n      else if (args.columns) {\r\n          $$.load($$.convertDataToTargets($$.convertColumnsToData(args.columns)), args);\r\n      }\r\n      else {\r\n          $$.load(null, args);\r\n      }\r\n  };\r\n  ChartInternal.prototype.unload = function (targetIds, done) {\r\n      var $$ = this;\r\n      $$.resetCache();\r\n      if (!done) {\r\n          done = function () { };\r\n      }\r\n      // filter existing target\r\n      targetIds = targetIds.filter(function (id) {\r\n          return $$.hasTarget($$.data.targets, id);\r\n      });\r\n      // If no target, call done and return\r\n      if (!targetIds || targetIds.length === 0) {\r\n          done();\r\n          return;\r\n      }\r\n      $$.svg\r\n          .selectAll(targetIds.map(function (id) {\r\n          return $$.selectorTarget(id);\r\n      }))\r\n          .transition()\r\n          .style('opacity', 0)\r\n          .remove()\r\n          .call($$.endall, done);\r\n      targetIds.forEach(function (id) {\r\n          // Reset fadein for future load\r\n          $$.withoutFadeIn[id] = false;\r\n          // Remove target's elements\r\n          if ($$.legend) {\r\n              $$.legend\r\n                  .selectAll('.' + CLASS.legendItem + $$.getTargetSelectorSuffix(id))\r\n                  .remove();\r\n          }\r\n          // Remove target\r\n          $$.data.targets = $$.data.targets.filter(function (t) {\r\n              return t.id !== id;\r\n          });\r\n      });\r\n  };\n\n  ChartInternal.prototype.getYDomainMin = function (targets) {\r\n      var $$ = this, config = $$.config, ids = $$.mapToIds(targets), ys = $$.getValuesAsIdKeyed(targets), j, k, baseId, idsInGroup, id, hasNegativeValue;\r\n      if (config.data_groups.length > 0) {\r\n          hasNegativeValue = $$.hasNegativeValueInTargets(targets);\r\n          for (j = 0; j < config.data_groups.length; j++) {\r\n              // Determine baseId\r\n              idsInGroup = config.data_groups[j].filter(function (id) {\r\n                  return ids.indexOf(id) >= 0;\r\n              });\r\n              if (idsInGroup.length === 0) {\r\n                  continue;\r\n              }\r\n              baseId = idsInGroup[0];\r\n              // Consider negative values\r\n              if (hasNegativeValue && ys[baseId]) {\r\n                  ys[baseId].forEach(function (v, i) {\r\n                      ys[baseId][i] = v < 0 ? v : 0;\r\n                  });\r\n              }\r\n              // Compute min\r\n              for (k = 1; k < idsInGroup.length; k++) {\r\n                  id = idsInGroup[k];\r\n                  if (!ys[id]) {\r\n                      continue;\r\n                  }\r\n                  ys[id].forEach(function (v, i) {\r\n                      if ($$.axis.getId(id) === $$.axis.getId(baseId) &&\r\n                          ys[baseId] &&\r\n                          !(hasNegativeValue && +v > 0)) {\r\n                          ys[baseId][i] += +v;\r\n                      }\r\n                  });\r\n              }\r\n          }\r\n      }\r\n      return $$.d3.min(Object.keys(ys).map(function (key) {\r\n          return $$.d3.min(ys[key]);\r\n      }));\r\n  };\r\n  ChartInternal.prototype.getYDomainMax = function (targets) {\r\n      var $$ = this, config = $$.config, ids = $$.mapToIds(targets), ys = $$.getValuesAsIdKeyed(targets), j, k, baseId, idsInGroup, id, hasPositiveValue;\r\n      if (config.data_groups.length > 0) {\r\n          hasPositiveValue = $$.hasPositiveValueInTargets(targets);\r\n          for (j = 0; j < config.data_groups.length; j++) {\r\n              // Determine baseId\r\n              idsInGroup = config.data_groups[j].filter(function (id) {\r\n                  return ids.indexOf(id) >= 0;\r\n              });\r\n              if (idsInGroup.length === 0) {\r\n                  continue;\r\n              }\r\n              baseId = idsInGroup[0];\r\n              // Consider positive values\r\n              if (hasPositiveValue && ys[baseId]) {\r\n                  ys[baseId].forEach(function (v, i) {\r\n                      ys[baseId][i] = v > 0 ? v : 0;\r\n                  });\r\n              }\r\n              // Compute max\r\n              for (k = 1; k < idsInGroup.length; k++) {\r\n                  id = idsInGroup[k];\r\n                  if (!ys[id]) {\r\n                      continue;\r\n                  }\r\n                  ys[id].forEach(function (v, i) {\r\n                      if ($$.axis.getId(id) === $$.axis.getId(baseId) &&\r\n                          ys[baseId] &&\r\n                          !(hasPositiveValue && +v < 0)) {\r\n                          ys[baseId][i] += +v;\r\n                      }\r\n                  });\r\n              }\r\n          }\r\n      }\r\n      return $$.d3.max(Object.keys(ys).map(function (key) {\r\n          return $$.d3.max(ys[key]);\r\n      }));\r\n  };\r\n  ChartInternal.prototype.getYDomain = function (targets, axisId, xDomain) {\r\n      var $$ = this, config = $$.config;\r\n      if ($$.isAxisNormalized(axisId)) {\r\n          return [0, 100];\r\n      }\r\n      var targetsByAxisId = targets.filter(function (t) {\r\n          return $$.axis.getId(t.id) === axisId;\r\n      }), yTargets = xDomain\r\n          ? $$.filterByXDomain(targetsByAxisId, xDomain)\r\n          : targetsByAxisId, yMin = axisId === 'y2' ? config.axis_y2_min : config.axis_y_min, yMax = axisId === 'y2' ? config.axis_y2_max : config.axis_y_max, yDomainMin = $$.getYDomainMin(yTargets), yDomainMax = $$.getYDomainMax(yTargets), domain, domainLength, padding_top, padding_bottom, center = axisId === 'y2' ? config.axis_y2_center : config.axis_y_center, yDomainAbs, lengths, diff, ratio, isAllPositive, isAllNegative, isZeroBased = ($$.hasType('bar', yTargets) && config.bar_zerobased) ||\r\n          ($$.hasType('area', yTargets) && config.area_zerobased), isInverted = axisId === 'y2' ? config.axis_y2_inverted : config.axis_y_inverted, showHorizontalDataLabel = $$.hasDataLabel() && config.axis_rotated, showVerticalDataLabel = $$.hasDataLabel() && !config.axis_rotated;\r\n      // MEMO: avoid inverting domain unexpectedly\r\n      yDomainMin = isValue(yMin)\r\n          ? yMin\r\n          : isValue(yMax)\r\n              ? yDomainMin < yMax\r\n                  ? yDomainMin\r\n                  : yMax - 10\r\n              : yDomainMin;\r\n      yDomainMax = isValue(yMax)\r\n          ? yMax\r\n          : isValue(yMin)\r\n              ? yMin < yDomainMax\r\n                  ? yDomainMax\r\n                  : yMin + 10\r\n              : yDomainMax;\r\n      if (yTargets.length === 0) {\r\n          // use current domain if target of axisId is none\r\n          return axisId === 'y2' ? $$.y2.domain() : $$.y.domain();\r\n      }\r\n      if (isNaN(yDomainMin)) {\r\n          // set minimum to zero when not number\r\n          yDomainMin = 0;\r\n      }\r\n      if (isNaN(yDomainMax)) {\r\n          // set maximum to have same value as yDomainMin\r\n          yDomainMax = yDomainMin;\r\n      }\r\n      if (yDomainMin === yDomainMax) {\r\n          yDomainMin < 0 ? (yDomainMax = 0) : (yDomainMin = 0);\r\n      }\r\n      isAllPositive = yDomainMin >= 0 && yDomainMax >= 0;\r\n      isAllNegative = yDomainMin <= 0 && yDomainMax <= 0;\r\n      // Cancel zerobased if axis_*_min / axis_*_max specified\r\n      if ((isValue(yMin) && isAllPositive) || (isValue(yMax) && isAllNegative)) {\r\n          isZeroBased = false;\r\n      }\r\n      // Bar/Area chart should be 0-based if all positive|negative\r\n      if (isZeroBased) {\r\n          if (isAllPositive) {\r\n              yDomainMin = 0;\r\n          }\r\n          if (isAllNegative) {\r\n              yDomainMax = 0;\r\n          }\r\n      }\r\n      domainLength = Math.abs(yDomainMax - yDomainMin);\r\n      padding_top = padding_bottom = domainLength * 0.1;\r\n      if (typeof center !== 'undefined') {\r\n          yDomainAbs = Math.max(Math.abs(yDomainMin), Math.abs(yDomainMax));\r\n          yDomainMax = center + yDomainAbs;\r\n          yDomainMin = center - yDomainAbs;\r\n      }\r\n      // add padding for data label\r\n      if (showHorizontalDataLabel) {\r\n          lengths = $$.getDataLabelLength(yDomainMin, yDomainMax, 'width');\r\n          diff = diffDomain($$.y.range());\r\n          ratio = [lengths[0] / diff, lengths[1] / diff];\r\n          padding_top += domainLength * (ratio[1] / (1 - ratio[0] - ratio[1]));\r\n          padding_bottom += domainLength * (ratio[0] / (1 - ratio[0] - ratio[1]));\r\n      }\r\n      else if (showVerticalDataLabel) {\r\n          lengths = $$.getDataLabelLength(yDomainMin, yDomainMax, 'height');\r\n          var pixelsToAxisPadding = $$.getY(config[\"axis_\" + axisId + \"_type\"], \r\n          // input domain as pixels\r\n          [0, config.axis_rotated ? $$.width : $$.height], \r\n          // output range as axis padding\r\n          [0, domainLength]);\r\n          padding_top += pixelsToAxisPadding(lengths[1]);\r\n          padding_bottom += pixelsToAxisPadding(lengths[0]);\r\n      }\r\n      if (axisId === 'y' && notEmpty(config.axis_y_padding)) {\r\n          padding_top = $$.axis.getPadding(config.axis_y_padding, 'top', padding_top, domainLength);\r\n          padding_bottom = $$.axis.getPadding(config.axis_y_padding, 'bottom', padding_bottom, domainLength);\r\n      }\r\n      if (axisId === 'y2' && notEmpty(config.axis_y2_padding)) {\r\n          padding_top = $$.axis.getPadding(config.axis_y2_padding, 'top', padding_top, domainLength);\r\n          padding_bottom = $$.axis.getPadding(config.axis_y2_padding, 'bottom', padding_bottom, domainLength);\r\n      }\r\n      // Bar/Area chart should be 0-based if all positive|negative\r\n      if (isZeroBased) {\r\n          if (isAllPositive) {\r\n              padding_bottom = yDomainMin;\r\n          }\r\n          if (isAllNegative) {\r\n              padding_top = -yDomainMax;\r\n          }\r\n      }\r\n      domain = [yDomainMin - padding_bottom, yDomainMax + padding_top];\r\n      return isInverted ? domain.reverse() : domain;\r\n  };\r\n  ChartInternal.prototype.getXDomainMin = function (targets) {\r\n      var $$ = this, config = $$.config;\r\n      return isDefined(config.axis_x_min)\r\n          ? $$.isTimeSeries()\r\n              ? this.parseDate(config.axis_x_min)\r\n              : config.axis_x_min\r\n          : $$.d3.min(targets, function (t) {\r\n              return $$.d3.min(t.values, function (v) {\r\n                  return v.x;\r\n              });\r\n          });\r\n  };\r\n  ChartInternal.prototype.getXDomainMax = function (targets) {\r\n      var $$ = this, config = $$.config;\r\n      return isDefined(config.axis_x_max)\r\n          ? $$.isTimeSeries()\r\n              ? this.parseDate(config.axis_x_max)\r\n              : config.axis_x_max\r\n          : $$.d3.max(targets, function (t) {\r\n              return $$.d3.max(t.values, function (v) {\r\n                  return v.x;\r\n              });\r\n          });\r\n  };\r\n  ChartInternal.prototype.getXDomainPadding = function (domain) {\r\n      var $$ = this, config = $$.config, diff = domain[1] - domain[0], maxDataCount, padding, paddingLeft, paddingRight;\r\n      if ($$.isCategorized()) {\r\n          padding = 0;\r\n      }\r\n      else if ($$.hasType('bar')) {\r\n          maxDataCount = $$.getMaxDataCount();\r\n          padding = maxDataCount > 1 ? diff / (maxDataCount - 1) / 2 : 0.5;\r\n      }\r\n      else {\r\n          padding = diff * 0.01;\r\n      }\r\n      if (typeof config.axis_x_padding === 'object' &&\r\n          notEmpty(config.axis_x_padding)) {\r\n          paddingLeft = isValue(config.axis_x_padding.left)\r\n              ? config.axis_x_padding.left\r\n              : padding;\r\n          paddingRight = isValue(config.axis_x_padding.right)\r\n              ? config.axis_x_padding.right\r\n              : padding;\r\n      }\r\n      else if (typeof config.axis_x_padding === 'number') {\r\n          paddingLeft = paddingRight = config.axis_x_padding;\r\n      }\r\n      else {\r\n          paddingLeft = paddingRight = padding;\r\n      }\r\n      return { left: paddingLeft, right: paddingRight };\r\n  };\r\n  ChartInternal.prototype.getXDomain = function (targets) {\r\n      var $$ = this, xDomain = [$$.getXDomainMin(targets), $$.getXDomainMax(targets)], firstX = xDomain[0], lastX = xDomain[1], padding = $$.getXDomainPadding(xDomain), min = 0, max = 0;\r\n      // show center of x domain if min and max are the same\r\n      if (firstX - lastX === 0 && !$$.isCategorized()) {\r\n          if ($$.isTimeSeries()) {\r\n              firstX = new Date(firstX.getTime() * 0.5);\r\n              lastX = new Date(lastX.getTime() * 1.5);\r\n          }\r\n          else {\r\n              firstX = firstX === 0 ? 1 : firstX * 0.5;\r\n              lastX = lastX === 0 ? -1 : lastX * 1.5;\r\n          }\r\n      }\r\n      if (firstX || firstX === 0) {\r\n          min = $$.isTimeSeries()\r\n              ? new Date(firstX.getTime() - padding.left)\r\n              : firstX - padding.left;\r\n      }\r\n      if (lastX || lastX === 0) {\r\n          max = $$.isTimeSeries()\r\n              ? new Date(lastX.getTime() + padding.right)\r\n              : lastX + padding.right;\r\n      }\r\n      return [min, max];\r\n  };\r\n  ChartInternal.prototype.updateXDomain = function (targets, withUpdateXDomain, withUpdateOrgXDomain, withTrim, domain) {\r\n      var $$ = this, config = $$.config;\r\n      if (withUpdateOrgXDomain) {\r\n          $$.x.domain(domain ? domain : $$.d3.extent($$.getXDomain(targets)));\r\n          $$.orgXDomain = $$.x.domain();\r\n          if (config.zoom_enabled) {\r\n              $$.zoom.update();\r\n          }\r\n          $$.subX.domain($$.x.domain());\r\n          if ($$.brush) {\r\n              $$.brush.updateScale($$.subX);\r\n          }\r\n      }\r\n      if (withUpdateXDomain) {\r\n          $$.x.domain(domain\r\n              ? domain\r\n              : !$$.brush || $$.brush.empty()\r\n                  ? $$.orgXDomain\r\n                  : $$.brush.selectionAsValue());\r\n      }\r\n      // Trim domain when too big by zoom mousemove event\r\n      if (withTrim) {\r\n          $$.x.domain($$.trimXDomain($$.x.orgDomain()));\r\n      }\r\n      return $$.x.domain();\r\n  };\r\n  ChartInternal.prototype.trimXDomain = function (domain) {\r\n      var zoomDomain = this.getZoomDomain(), min = zoomDomain[0], max = zoomDomain[1];\r\n      if (domain[0] <= min) {\r\n          domain[1] = +domain[1] + (min - domain[0]);\r\n          domain[0] = min;\r\n      }\r\n      if (max <= domain[1]) {\r\n          domain[0] = +domain[0] - (domain[1] - max);\r\n          domain[1] = max;\r\n      }\r\n      return domain;\r\n  };\n\n  ChartInternal.prototype.drag = function (mouse) {\r\n      var $$ = this, config = $$.config, main = $$.main, d3 = $$.d3;\r\n      var sx, sy, mx, my, minX, maxX, minY, maxY;\r\n      if ($$.hasArcType()) {\r\n          return;\r\n      }\r\n      if (!config.data_selection_enabled) {\r\n          return;\r\n      } // do nothing if not selectable\r\n      if (!config.data_selection_multiple) {\r\n          return;\r\n      } // skip when single selection because drag is used for multiple selection\r\n      sx = $$.dragStart[0];\r\n      sy = $$.dragStart[1];\r\n      mx = mouse[0];\r\n      my = mouse[1];\r\n      minX = Math.min(sx, mx);\r\n      maxX = Math.max(sx, mx);\r\n      minY = config.data_selection_grouped ? $$.margin.top : Math.min(sy, my);\r\n      maxY = config.data_selection_grouped ? $$.height : Math.max(sy, my);\r\n      main\r\n          .select('.' + CLASS.dragarea)\r\n          .attr('x', minX)\r\n          .attr('y', minY)\r\n          .attr('width', maxX - minX)\r\n          .attr('height', maxY - minY);\r\n      // TODO: binary search when multiple xs\r\n      main\r\n          .selectAll('.' + CLASS.shapes)\r\n          .selectAll('.' + CLASS.shape)\r\n          .each(function (d, i) {\r\n          if (!config.data_selection_isselectable(d)) {\r\n              return;\r\n          }\r\n          var shape = d3.select(this), isSelected = shape.classed(CLASS.SELECTED), isIncluded = shape.classed(CLASS.INCLUDED), _x, _y, _w, _h, toggle, isWithin = false, box;\r\n          if (shape.classed(CLASS.circle)) {\r\n              _x = shape.attr('cx') * 1;\r\n              _y = shape.attr('cy') * 1;\r\n              toggle = $$.togglePoint;\r\n              isWithin = minX < _x && _x < maxX && minY < _y && _y < maxY;\r\n          }\r\n          else if (shape.classed(CLASS.bar)) {\r\n              box = getPathBox(this);\r\n              _x = box.x;\r\n              _y = box.y;\r\n              _w = box.width;\r\n              _h = box.height;\r\n              toggle = $$.togglePath;\r\n              isWithin =\r\n                  !(maxX < _x || _x + _w < minX) && !(maxY < _y || _y + _h < minY);\r\n          }\r\n          else {\r\n              // line/area selection not supported yet\r\n              return;\r\n          }\r\n          if (isWithin ^ isIncluded) {\r\n              shape.classed(CLASS.INCLUDED, !isIncluded);\r\n              // TODO: included/unincluded callback here\r\n              shape.classed(CLASS.SELECTED, !isSelected);\r\n              toggle.call($$, !isSelected, shape, d, i);\r\n          }\r\n      });\r\n  };\r\n  ChartInternal.prototype.dragstart = function (mouse) {\r\n      var $$ = this, config = $$.config;\r\n      if ($$.hasArcType()) {\r\n          return;\r\n      }\r\n      if (!config.data_selection_enabled) {\r\n          return;\r\n      } // do nothing if not selectable\r\n      $$.dragStart = mouse;\r\n      $$.main\r\n          .select('.' + CLASS.chart)\r\n          .append('rect')\r\n          .attr('class', CLASS.dragarea)\r\n          .style('opacity', 0.1);\r\n      $$.dragging = true;\r\n  };\r\n  ChartInternal.prototype.dragend = function () {\r\n      var $$ = this, config = $$.config;\r\n      if ($$.hasArcType()) {\r\n          return;\r\n      }\r\n      if (!config.data_selection_enabled) {\r\n          return;\r\n      } // do nothing if not selectable\r\n      $$.main\r\n          .select('.' + CLASS.dragarea)\r\n          .transition()\r\n          .duration(100)\r\n          .style('opacity', 0)\r\n          .remove();\r\n      $$.main.selectAll('.' + CLASS.shape).classed(CLASS.INCLUDED, false);\r\n      $$.dragging = false;\r\n  };\n\n  ChartInternal.prototype.getYFormat = function (forArc) {\r\n      var $$ = this, formatForY = forArc && !$$.hasType('gauge') ? $$.defaultArcValueFormat : $$.yFormat, formatForY2 = forArc && !$$.hasType('gauge') ? $$.defaultArcValueFormat : $$.y2Format;\r\n      return function (v, ratio, id) {\r\n          var format = $$.axis.getId(id) === 'y2' ? formatForY2 : formatForY;\r\n          return format.call($$, v, ratio);\r\n      };\r\n  };\r\n  ChartInternal.prototype.yFormat = function (v) {\r\n      var $$ = this, config = $$.config, format = config.axis_y_tick_format\r\n          ? config.axis_y_tick_format\r\n          : $$.defaultValueFormat;\r\n      return format(v);\r\n  };\r\n  ChartInternal.prototype.y2Format = function (v) {\r\n      var $$ = this, config = $$.config, format = config.axis_y2_tick_format\r\n          ? config.axis_y2_tick_format\r\n          : $$.defaultValueFormat;\r\n      return format(v);\r\n  };\r\n  ChartInternal.prototype.defaultValueFormat = function (v) {\r\n      return isValue(v) ? +v : '';\r\n  };\r\n  ChartInternal.prototype.defaultArcValueFormat = function (v, ratio) {\r\n      return (ratio * 100).toFixed(1) + '%';\r\n  };\r\n  ChartInternal.prototype.dataLabelFormat = function (targetId) {\r\n      var $$ = this, data_labels = $$.config.data_labels, format, defaultFormat = function (v) {\r\n          return isValue(v) ? +v : '';\r\n      };\r\n      // find format according to axis id\r\n      if (typeof data_labels.format === 'function') {\r\n          format = data_labels.format;\r\n      }\r\n      else if (typeof data_labels.format === 'object') {\r\n          if (data_labels.format[targetId]) {\r\n              format =\r\n                  data_labels.format[targetId] === true\r\n                      ? defaultFormat\r\n                      : data_labels.format[targetId];\r\n          }\r\n          else {\r\n              format = function () {\r\n                  return '';\r\n              };\r\n          }\r\n      }\r\n      else {\r\n          format = defaultFormat;\r\n      }\r\n      return format;\r\n  };\n\n  ChartInternal.prototype.initGrid = function () {\r\n      var $$ = this, config = $$.config, d3 = $$.d3;\r\n      $$.grid = $$.main\r\n          .append('g')\r\n          .attr('clip-path', $$.clipPathForGrid)\r\n          .attr('class', CLASS.grid);\r\n      if (config.grid_x_show) {\r\n          $$.grid.append('g').attr('class', CLASS.xgrids);\r\n      }\r\n      if (config.grid_y_show) {\r\n          $$.grid.append('g').attr('class', CLASS.ygrids);\r\n      }\r\n      if (config.grid_focus_show) {\r\n          $$.grid\r\n              .append('g')\r\n              .attr('class', CLASS.xgridFocus)\r\n              .append('line')\r\n              .attr('class', CLASS.xgridFocus);\r\n      }\r\n      $$.xgrid = d3.selectAll([]);\r\n      if (!config.grid_lines_front) {\r\n          $$.initGridLines();\r\n      }\r\n  };\r\n  ChartInternal.prototype.initGridLines = function () {\r\n      var $$ = this, d3 = $$.d3;\r\n      $$.gridLines = $$.main\r\n          .append('g')\r\n          .attr('clip-path', $$.clipPathForGrid)\r\n          .attr('class', CLASS.grid + ' ' + CLASS.gridLines);\r\n      $$.gridLines.append('g').attr('class', CLASS.xgridLines);\r\n      $$.gridLines.append('g').attr('class', CLASS.ygridLines);\r\n      $$.xgridLines = d3.selectAll([]);\r\n  };\r\n  ChartInternal.prototype.updateXGrid = function (withoutUpdate) {\r\n      var $$ = this, config = $$.config, d3 = $$.d3, xgridData = $$.generateGridData(config.grid_x_type, $$.x), tickOffset = $$.isCategorized() ? $$.xAxis.tickOffset() : 0;\r\n      $$.xgridAttr = config.axis_rotated\r\n          ? {\r\n              x1: 0,\r\n              x2: $$.width,\r\n              y1: function (d) {\r\n                  return $$.x(d) - tickOffset;\r\n              },\r\n              y2: function (d) {\r\n                  return $$.x(d) - tickOffset;\r\n              }\r\n          }\r\n          : {\r\n              x1: function (d) {\r\n                  return $$.x(d) + tickOffset;\r\n              },\r\n              x2: function (d) {\r\n                  return $$.x(d) + tickOffset;\r\n              },\r\n              y1: 0,\r\n              y2: $$.height\r\n          };\r\n      $$.xgridAttr.opacity = function () {\r\n          var pos = +d3.select(this).attr(config.axis_rotated ? 'y1' : 'x1');\r\n          return pos === (config.axis_rotated ? $$.height : 0) ? 0 : 1;\r\n      };\r\n      var xgrid = $$.main\r\n          .select('.' + CLASS.xgrids)\r\n          .selectAll('.' + CLASS.xgrid)\r\n          .data(xgridData);\r\n      var xgridEnter = xgrid\r\n          .enter()\r\n          .append('line')\r\n          .attr('class', CLASS.xgrid)\r\n          .attr('x1', $$.xgridAttr.x1)\r\n          .attr('x2', $$.xgridAttr.x2)\r\n          .attr('y1', $$.xgridAttr.y1)\r\n          .attr('y2', $$.xgridAttr.y2)\r\n          .style('opacity', 0);\r\n      $$.xgrid = xgridEnter.merge(xgrid);\r\n      if (!withoutUpdate) {\r\n          $$.xgrid\r\n              .attr('x1', $$.xgridAttr.x1)\r\n              .attr('x2', $$.xgridAttr.x2)\r\n              .attr('y1', $$.xgridAttr.y1)\r\n              .attr('y2', $$.xgridAttr.y2)\r\n              .style('opacity', $$.xgridAttr.opacity);\r\n      }\r\n      xgrid.exit().remove();\r\n  };\r\n  ChartInternal.prototype.updateYGrid = function () {\r\n      var $$ = this, config = $$.config, gridValues = $$.yAxis.tickValues() || $$.y.ticks(config.grid_y_ticks);\r\n      var ygrid = $$.main\r\n          .select('.' + CLASS.ygrids)\r\n          .selectAll('.' + CLASS.ygrid)\r\n          .data(gridValues);\r\n      var ygridEnter = ygrid\r\n          .enter()\r\n          .append('line')\r\n          // TODO: x1, x2, y1, y2, opacity need to be set here maybe\r\n          .attr('class', CLASS.ygrid);\r\n      $$.ygrid = ygridEnter.merge(ygrid);\r\n      $$.ygrid\r\n          .attr('x1', config.axis_rotated ? $$.y : 0)\r\n          .attr('x2', config.axis_rotated ? $$.y : $$.width)\r\n          .attr('y1', config.axis_rotated ? 0 : $$.y)\r\n          .attr('y2', config.axis_rotated ? $$.height : $$.y);\r\n      ygrid.exit().remove();\r\n      $$.smoothLines($$.ygrid, 'grid');\r\n  };\r\n  ChartInternal.prototype.gridTextAnchor = function (d) {\r\n      return d.position ? d.position : 'end';\r\n  };\r\n  ChartInternal.prototype.gridTextDx = function (d) {\r\n      return d.position === 'start' ? 4 : d.position === 'middle' ? 0 : -4;\r\n  };\r\n  ChartInternal.prototype.xGridTextX = function (d) {\r\n      return d.position === 'start'\r\n          ? -this.height\r\n          : d.position === 'middle'\r\n              ? -this.height / 2\r\n              : 0;\r\n  };\r\n  ChartInternal.prototype.yGridTextX = function (d) {\r\n      return d.position === 'start'\r\n          ? 0\r\n          : d.position === 'middle'\r\n              ? this.width / 2\r\n              : this.width;\r\n  };\r\n  ChartInternal.prototype.updateGrid = function (duration) {\r\n      var $$ = this, main = $$.main, config = $$.config, xgridLine, xgridLineEnter, ygridLine, ygridLineEnter, xv = $$.xv.bind($$), yv = $$.yv.bind($$), xGridTextX = $$.xGridTextX.bind($$), yGridTextX = $$.yGridTextX.bind($$);\r\n      // hide if arc type\r\n      $$.grid.style('visibility', $$.hasArcType() ? 'hidden' : 'visible');\r\n      main.select('line.' + CLASS.xgridFocus).style('visibility', 'hidden');\r\n      if (config.grid_x_show) {\r\n          $$.updateXGrid();\r\n      }\r\n      xgridLine = main\r\n          .select('.' + CLASS.xgridLines)\r\n          .selectAll('.' + CLASS.xgridLine)\r\n          .data(config.grid_x_lines);\r\n      // enter\r\n      xgridLineEnter = xgridLine\r\n          .enter()\r\n          .append('g')\r\n          .attr('class', function (d) {\r\n          return CLASS.xgridLine + (d['class'] ? ' ' + d['class'] : '');\r\n      });\r\n      xgridLineEnter\r\n          .append('line')\r\n          .attr('x1', config.axis_rotated ? 0 : xv)\r\n          .attr('x2', config.axis_rotated ? $$.width : xv)\r\n          .attr('y1', config.axis_rotated ? xv : 0)\r\n          .attr('y2', config.axis_rotated ? xv : $$.height)\r\n          .style('opacity', 0);\r\n      xgridLineEnter\r\n          .append('text')\r\n          .attr('text-anchor', $$.gridTextAnchor)\r\n          .attr('transform', config.axis_rotated ? '' : 'rotate(-90)')\r\n          .attr('x', config.axis_rotated ? yGridTextX : xGridTextX)\r\n          .attr('y', xv)\r\n          .attr('dx', $$.gridTextDx)\r\n          .attr('dy', -5)\r\n          .style('opacity', 0);\r\n      // udpate\r\n      $$.xgridLines = xgridLineEnter.merge(xgridLine);\r\n      // done in d3.transition() of the end of this function\r\n      // exit\r\n      xgridLine\r\n          .exit()\r\n          .transition()\r\n          .duration(duration)\r\n          .style('opacity', 0)\r\n          .remove();\r\n      // Y-Grid\r\n      if (config.grid_y_show) {\r\n          $$.updateYGrid();\r\n      }\r\n      ygridLine = main\r\n          .select('.' + CLASS.ygridLines)\r\n          .selectAll('.' + CLASS.ygridLine)\r\n          .data(config.grid_y_lines);\r\n      // enter\r\n      ygridLineEnter = ygridLine\r\n          .enter()\r\n          .append('g')\r\n          .attr('class', function (d) {\r\n          return CLASS.ygridLine + (d['class'] ? ' ' + d['class'] : '');\r\n      });\r\n      ygridLineEnter\r\n          .append('line')\r\n          .attr('x1', config.axis_rotated ? yv : 0)\r\n          .attr('x2', config.axis_rotated ? yv : $$.width)\r\n          .attr('y1', config.axis_rotated ? 0 : yv)\r\n          .attr('y2', config.axis_rotated ? $$.height : yv)\r\n          .style('opacity', 0);\r\n      ygridLineEnter\r\n          .append('text')\r\n          .attr('text-anchor', $$.gridTextAnchor)\r\n          .attr('transform', config.axis_rotated ? 'rotate(-90)' : '')\r\n          .attr('x', config.axis_rotated ? xGridTextX : yGridTextX)\r\n          .attr('y', yv)\r\n          .attr('dx', $$.gridTextDx)\r\n          .attr('dy', -5)\r\n          .style('opacity', 0);\r\n      // update\r\n      $$.ygridLines = ygridLineEnter.merge(ygridLine);\r\n      $$.ygridLines\r\n          .select('line')\r\n          .transition()\r\n          .duration(duration)\r\n          .attr('x1', config.axis_rotated ? yv : 0)\r\n          .attr('x2', config.axis_rotated ? yv : $$.width)\r\n          .attr('y1', config.axis_rotated ? 0 : yv)\r\n          .attr('y2', config.axis_rotated ? $$.height : yv)\r\n          .style('opacity', 1);\r\n      $$.ygridLines\r\n          .select('text')\r\n          .transition()\r\n          .duration(duration)\r\n          .attr('x', config.axis_rotated ? $$.xGridTextX.bind($$) : $$.yGridTextX.bind($$))\r\n          .attr('y', yv)\r\n          .text(function (d) {\r\n          return d.text;\r\n      })\r\n          .style('opacity', 1);\r\n      // exit\r\n      ygridLine\r\n          .exit()\r\n          .transition()\r\n          .duration(duration)\r\n          .style('opacity', 0)\r\n          .remove();\r\n  };\r\n  ChartInternal.prototype.redrawGrid = function (withTransition, transition) {\r\n      var $$ = this, config = $$.config, xv = $$.xv.bind($$), lines = $$.xgridLines.select('line'), texts = $$.xgridLines.select('text');\r\n      return [\r\n          (withTransition ? lines.transition(transition) : lines)\r\n              .attr('x1', config.axis_rotated ? 0 : xv)\r\n              .attr('x2', config.axis_rotated ? $$.width : xv)\r\n              .attr('y1', config.axis_rotated ? xv : 0)\r\n              .attr('y2', config.axis_rotated ? xv : $$.height)\r\n              .style('opacity', 1),\r\n          (withTransition ? texts.transition(transition) : texts)\r\n              .attr('x', config.axis_rotated ? $$.yGridTextX.bind($$) : $$.xGridTextX.bind($$))\r\n              .attr('y', xv)\r\n              .text(function (d) {\r\n              return d.text;\r\n          })\r\n              .style('opacity', 1)\r\n      ];\r\n  };\r\n  ChartInternal.prototype.showXGridFocus = function (selectedData) {\r\n      var $$ = this, config = $$.config, dataToShow = selectedData.filter(function (d) {\r\n          return d && isValue(d.value);\r\n      }), focusEl = $$.main.selectAll('line.' + CLASS.xgridFocus), xx = $$.xx.bind($$);\r\n      if (!config.tooltip_show) {\r\n          return;\r\n      }\r\n      // Hide when stanford plot exists\r\n      if ($$.hasType('stanford') || $$.hasArcType()) {\r\n          return;\r\n      }\r\n      focusEl\r\n          .style('visibility', 'visible')\r\n          .data([dataToShow[0]])\r\n          .attr(config.axis_rotated ? 'y1' : 'x1', xx)\r\n          .attr(config.axis_rotated ? 'y2' : 'x2', xx);\r\n      $$.smoothLines(focusEl, 'grid');\r\n  };\r\n  ChartInternal.prototype.hideXGridFocus = function () {\r\n      this.main.select('line.' + CLASS.xgridFocus).style('visibility', 'hidden');\r\n  };\r\n  ChartInternal.prototype.updateXgridFocus = function () {\r\n      var $$ = this, config = $$.config;\r\n      $$.main\r\n          .select('line.' + CLASS.xgridFocus)\r\n          .attr('x1', config.axis_rotated ? 0 : -10)\r\n          .attr('x2', config.axis_rotated ? $$.width : -10)\r\n          .attr('y1', config.axis_rotated ? -10 : 0)\r\n          .attr('y2', config.axis_rotated ? -10 : $$.height);\r\n  };\r\n  ChartInternal.prototype.generateGridData = function (type, scale) {\r\n      var $$ = this, gridData = [], xDomain, firstYear, lastYear, i, tickNum = $$.main\r\n          .select('.' + CLASS.axisX)\r\n          .selectAll('.tick')\r\n          .size();\r\n      if (type === 'year') {\r\n          xDomain = $$.getXDomain();\r\n          firstYear = xDomain[0].getFullYear();\r\n          lastYear = xDomain[1].getFullYear();\r\n          for (i = firstYear; i <= lastYear; i++) {\r\n              gridData.push(new Date(i + '-01-01 00:00:00'));\r\n          }\r\n      }\r\n      else {\r\n          gridData = scale.ticks(10);\r\n          if (gridData.length > tickNum) {\r\n              // use only int\r\n              gridData = gridData.filter(function (d) {\r\n                  return ('' + d).indexOf('.') < 0;\r\n              });\r\n          }\r\n      }\r\n      return gridData;\r\n  };\r\n  ChartInternal.prototype.getGridFilterToRemove = function (params) {\r\n      return params\r\n          ? function (line) {\r\n              var found = false;\r\n              [].concat(params).forEach(function (param) {\r\n                  if (('value' in param && line.value === param.value) ||\r\n                      ('class' in param && line['class'] === param['class'])) {\r\n                      found = true;\r\n                  }\r\n              });\r\n              return found;\r\n          }\r\n          : function () {\r\n              return true;\r\n          };\r\n  };\r\n  ChartInternal.prototype.removeGridLines = function (params, forX) {\r\n      var $$ = this, config = $$.config, toRemove = $$.getGridFilterToRemove(params), toShow = function (line) {\r\n          return !toRemove(line);\r\n      }, classLines = forX ? CLASS.xgridLines : CLASS.ygridLines, classLine = forX ? CLASS.xgridLine : CLASS.ygridLine;\r\n      $$.main\r\n          .select('.' + classLines)\r\n          .selectAll('.' + classLine)\r\n          .filter(toRemove)\r\n          .transition()\r\n          .duration(config.transition_duration)\r\n          .style('opacity', 0)\r\n          .remove();\r\n      if (forX) {\r\n          config.grid_x_lines = config.grid_x_lines.filter(toShow);\r\n      }\r\n      else {\r\n          config.grid_y_lines = config.grid_y_lines.filter(toShow);\r\n      }\r\n  };\n\n  ChartInternal.prototype.initEventRect = function () {\r\n      var $$ = this, config = $$.config;\r\n      $$.main\r\n          .select('.' + CLASS.chart)\r\n          .append('g')\r\n          .attr('class', CLASS.eventRects)\r\n          .style('fill-opacity', 0);\r\n      $$.eventRect = $$.main\r\n          .select('.' + CLASS.eventRects)\r\n          .append('rect')\r\n          .attr('class', CLASS.eventRect);\r\n      // event rect handle zoom event as well\r\n      if (config.zoom_enabled && $$.zoom) {\r\n          $$.eventRect.call($$.zoom).on('dblclick.zoom', null);\r\n          if (config.zoom_initialRange) {\r\n              // WORKAROUND: Add transition to apply transform immediately when no subchart\r\n              $$.eventRect\r\n                  .transition()\r\n                  .duration(0)\r\n                  .call($$.zoom.transform, $$.zoomTransform(config.zoom_initialRange));\r\n          }\r\n      }\r\n  };\r\n  ChartInternal.prototype.redrawEventRect = function () {\r\n      var $$ = this, d3 = $$.d3, config = $$.config;\r\n      function mouseout() {\r\n          $$.svg.select('.' + CLASS.eventRect).style('cursor', null);\r\n          $$.hideXGridFocus();\r\n          $$.hideTooltip();\r\n          $$.unexpandCircles();\r\n          $$.unexpandBars();\r\n      }\r\n      var isHoveringDataPoint = function (mouse, closest) {\r\n          return closest &&\r\n              ($$.isBarType(closest.id) ||\r\n                  $$.dist(closest, mouse) < config.point_sensitivity);\r\n      };\r\n      var withName = function (d) { return (d ? $$.addName(Object.assign({}, d)) : null); };\r\n      // rects for mouseover\r\n      $$.main\r\n          .select('.' + CLASS.eventRects)\r\n          .style('cursor', config.zoom_enabled\r\n          ? config.axis_rotated\r\n              ? 'ns-resize'\r\n              : 'ew-resize'\r\n          : null);\r\n      $$.eventRect\r\n          .attr('x', 0)\r\n          .attr('y', 0)\r\n          .attr('width', $$.width)\r\n          .attr('height', $$.height)\r\n          .on('mouseout', config.interaction_enabled\r\n          ? function () {\r\n              if (!config) {\r\n                  return;\r\n              } // chart is destroyed\r\n              if ($$.hasArcType()) {\r\n                  return;\r\n              }\r\n              if ($$.mouseover) {\r\n                  config.data_onmouseout.call($$.api, $$.mouseover);\r\n                  $$.mouseover = undefined;\r\n              }\r\n              mouseout();\r\n          }\r\n          : null)\r\n          .on('mousemove', config.interaction_enabled\r\n          ? function () {\r\n              // do nothing when dragging\r\n              if ($$.dragging) {\r\n                  return;\r\n              }\r\n              var targetsToShow = $$.getTargetsToShow();\r\n              // do nothing if arc type\r\n              if ($$.hasArcType(targetsToShow)) {\r\n                  return;\r\n              }\r\n              var mouse = d3.mouse(this);\r\n              var closest = withName($$.findClosestFromTargets(targetsToShow, mouse));\r\n              var isMouseCloseToDataPoint = isHoveringDataPoint(mouse, closest);\r\n              // ensure onmouseout is always called if mousemove switch between 2 targets\r\n              if ($$.mouseover &&\r\n                  (!closest ||\r\n                      closest.id !== $$.mouseover.id ||\r\n                      closest.index !== $$.mouseover.index)) {\r\n                  config.data_onmouseout.call($$.api, $$.mouseover);\r\n                  $$.mouseover = undefined;\r\n              }\r\n              if (closest && !$$.mouseover) {\r\n                  config.data_onmouseover.call($$.api, closest);\r\n                  $$.mouseover = closest;\r\n              }\r\n              // show cursor as pointer if we're hovering a data point close enough\r\n              $$.svg\r\n                  .select('.' + CLASS.eventRect)\r\n                  .style('cursor', isMouseCloseToDataPoint ? 'pointer' : null);\r\n              // if tooltip not grouped, we want to display only data from closest data point\r\n              var showSingleDataPoint = !config.tooltip_grouped || $$.hasType('stanford', targetsToShow);\r\n              // find data to highlight\r\n              var selectedData;\r\n              if (showSingleDataPoint) {\r\n                  if (closest) {\r\n                      selectedData = [closest];\r\n                  }\r\n              }\r\n              else {\r\n                  var closestByX = void 0;\r\n                  if (closest) {\r\n                      // reuse closest value\r\n                      closestByX = closest;\r\n                  }\r\n                  else {\r\n                      // try to find the closest value by X values from the mouse position\r\n                      var mouseX = config.axis_rotated ? mouse[1] : mouse[0];\r\n                      closestByX = $$.findClosestFromTargetsByX(targetsToShow, $$.x.invert(mouseX));\r\n                  }\r\n                  // highlight all data for this 'x' value\r\n                  if (closestByX) {\r\n                      selectedData = $$.filterByX(targetsToShow, closestByX.x);\r\n                  }\r\n              }\r\n              // ensure we have data to show\r\n              if (!selectedData || selectedData.length === 0) {\r\n                  return mouseout();\r\n              }\r\n              // inject names for each point\r\n              selectedData = selectedData.map(withName);\r\n              // show tooltip\r\n              $$.showTooltip(selectedData, this);\r\n              // expand points\r\n              if (config.point_focus_expand_enabled) {\r\n                  $$.unexpandCircles();\r\n                  selectedData.forEach(function (d) {\r\n                      $$.expandCircles(d.index, d.id, false);\r\n                  });\r\n              }\r\n              // expand bars\r\n              $$.unexpandBars();\r\n              selectedData.forEach(function (d) {\r\n                  $$.expandBars(d.index, d.id, false);\r\n              });\r\n              // Show xgrid focus line\r\n              $$.showXGridFocus(selectedData);\r\n          }\r\n          : null)\r\n          .on('click', config.interaction_enabled\r\n          ? function () {\r\n              var targetsToShow = $$.getTargetsToShow();\r\n              if ($$.hasArcType(targetsToShow)) {\r\n                  return;\r\n              }\r\n              var mouse = d3.mouse(this);\r\n              var closest = withName($$.findClosestFromTargets(targetsToShow, mouse));\r\n              if (!isHoveringDataPoint(mouse, closest)) {\r\n                  return;\r\n              }\r\n              // select if selection enabled\r\n              var sameXData;\r\n              if (!config.data_selection_grouped || $$.isStanfordType(closest)) {\r\n                  sameXData = [closest];\r\n              }\r\n              else {\r\n                  sameXData = $$.filterByX(targetsToShow, closest.x);\r\n              }\r\n              // toggle selected state\r\n              sameXData.forEach(function (d) {\r\n                  $$.main\r\n                      .selectAll('.' + CLASS.shapes + $$.getTargetSelectorSuffix(d.id))\r\n                      .selectAll('.' + CLASS.shape + '-' + d.index)\r\n                      .each(function () {\r\n                      if (config.data_selection_grouped ||\r\n                          $$.isWithinShape(this, d)) {\r\n                          $$.toggleShape(this, d, d.index);\r\n                      }\r\n                  });\r\n              });\r\n              // call data_onclick on the closest data point\r\n              if (closest) {\r\n                  var shape = $$.main\r\n                      .selectAll('.' + CLASS.shapes + $$.getTargetSelectorSuffix(closest.id))\r\n                      .select('.' + CLASS.shape + '-' + closest.index);\r\n                  config.data_onclick.call($$.api, closest, shape.node());\r\n              }\r\n          }\r\n          : null)\r\n          .call(config.interaction_enabled && config.data_selection_draggable && $$.drag\r\n          ? d3\r\n              .drag()\r\n              .on('drag', function () {\r\n              $$.drag(d3.mouse(this));\r\n          })\r\n              .on('start', function () {\r\n              $$.dragstart(d3.mouse(this));\r\n          })\r\n              .on('end', function () {\r\n              $$.dragend();\r\n          })\r\n          : function () { });\r\n  };\r\n  ChartInternal.prototype.getMousePosition = function (data) {\r\n      var $$ = this;\r\n      return [$$.x(data.x), $$.getYScale(data.id)(data.value)];\r\n  };\r\n  ChartInternal.prototype.dispatchEvent = function (type, mouse) {\r\n      var $$ = this, selector = '.' + CLASS.eventRect, eventRect = $$.main.select(selector).node(), box = eventRect.getBoundingClientRect(), x = box.left + (mouse ? mouse[0] : 0), y = box.top + (mouse ? mouse[1] : 0), event = document.createEvent('MouseEvents');\r\n      event.initMouseEvent(type, true, true, window, 0, x, y, x, y, false, false, false, false, 0, null);\r\n      eventRect.dispatchEvent(event);\r\n  };\n\n  ChartInternal.prototype.initLegend = function () {\r\n      var $$ = this;\r\n      $$.legendItemTextBox = {};\r\n      $$.legendHasRendered = false;\r\n      $$.legend = $$.svg.append('g').attr('transform', $$.getTranslate('legend'));\r\n      if (!$$.config.legend_show) {\r\n          $$.legend.style('visibility', 'hidden');\r\n          $$.hiddenLegendIds = $$.mapToIds($$.data.targets);\r\n          return;\r\n      }\r\n      // MEMO: call here to update legend box and tranlate for all\r\n      // MEMO: translate will be updated by this, so transform not needed in updateLegend()\r\n      $$.updateLegendWithDefaults();\r\n  };\r\n  ChartInternal.prototype.updateLegendWithDefaults = function () {\r\n      var $$ = this;\r\n      $$.updateLegend($$.mapToIds($$.data.targets), {\r\n          withTransform: false,\r\n          withTransitionForTransform: false,\r\n          withTransition: false\r\n      });\r\n  };\r\n  ChartInternal.prototype.updateSizeForLegend = function (legendHeight, legendWidth) {\r\n      var $$ = this, config = $$.config, insetLegendPosition = {\r\n          top: $$.isLegendTop\r\n              ? $$.getCurrentPaddingTop() + config.legend_inset_y + 5.5\r\n              : $$.currentHeight -\r\n                  legendHeight -\r\n                  $$.getCurrentPaddingBottom() -\r\n                  config.legend_inset_y,\r\n          left: $$.isLegendLeft\r\n              ? $$.getCurrentPaddingLeft() + config.legend_inset_x + 0.5\r\n              : $$.currentWidth -\r\n                  legendWidth -\r\n                  $$.getCurrentPaddingRight() -\r\n                  config.legend_inset_x +\r\n                  0.5\r\n      };\r\n      $$.margin3 = {\r\n          top: $$.isLegendRight\r\n              ? 0\r\n              : $$.isLegendInset\r\n                  ? insetLegendPosition.top\r\n                  : $$.currentHeight - legendHeight,\r\n          right: NaN,\r\n          bottom: 0,\r\n          left: $$.isLegendRight\r\n              ? $$.currentWidth - legendWidth\r\n              : $$.isLegendInset\r\n                  ? insetLegendPosition.left\r\n                  : 0\r\n      };\r\n  };\r\n  ChartInternal.prototype.transformLegend = function (withTransition) {\r\n      var $$ = this;\r\n      (withTransition ? $$.legend.transition() : $$.legend).attr('transform', $$.getTranslate('legend'));\r\n  };\r\n  ChartInternal.prototype.updateLegendStep = function (step) {\r\n      this.legendStep = step;\r\n  };\r\n  ChartInternal.prototype.updateLegendItemWidth = function (w) {\r\n      this.legendItemWidth = w;\r\n  };\r\n  ChartInternal.prototype.updateLegendItemHeight = function (h) {\r\n      this.legendItemHeight = h;\r\n  };\r\n  ChartInternal.prototype.getLegendWidth = function () {\r\n      var $$ = this;\r\n      return $$.config.legend_show\r\n          ? $$.isLegendRight || $$.isLegendInset\r\n              ? $$.legendItemWidth * ($$.legendStep + 1)\r\n              : $$.currentWidth\r\n          : 0;\r\n  };\r\n  ChartInternal.prototype.getLegendHeight = function () {\r\n      var $$ = this, h = 0;\r\n      if ($$.config.legend_show) {\r\n          if ($$.isLegendRight) {\r\n              h = $$.currentHeight;\r\n          }\r\n          else {\r\n              h = Math.max(20, $$.legendItemHeight) * ($$.legendStep + 1);\r\n          }\r\n      }\r\n      return h;\r\n  };\r\n  ChartInternal.prototype.opacityForLegend = function (legendItem) {\r\n      return legendItem.classed(CLASS.legendItemHidden) ? null : 1;\r\n  };\r\n  ChartInternal.prototype.opacityForUnfocusedLegend = function (legendItem) {\r\n      return legendItem.classed(CLASS.legendItemHidden) ? null : 0.3;\r\n  };\r\n  ChartInternal.prototype.toggleFocusLegend = function (targetIds, focus) {\r\n      var $$ = this;\r\n      targetIds = $$.mapToTargetIds(targetIds);\r\n      $$.legend\r\n          .selectAll('.' + CLASS.legendItem)\r\n          .filter(function (id) {\r\n          return targetIds.indexOf(id) >= 0;\r\n      })\r\n          .classed(CLASS.legendItemFocused, focus)\r\n          .transition()\r\n          .duration(100)\r\n          .style('opacity', function () {\r\n          var opacity = focus ? $$.opacityForLegend : $$.opacityForUnfocusedLegend;\r\n          return opacity.call($$, $$.d3.select(this));\r\n      });\r\n  };\r\n  ChartInternal.prototype.revertLegend = function () {\r\n      var $$ = this, d3 = $$.d3;\r\n      $$.legend\r\n          .selectAll('.' + CLASS.legendItem)\r\n          .classed(CLASS.legendItemFocused, false)\r\n          .transition()\r\n          .duration(100)\r\n          .style('opacity', function () {\r\n          return $$.opacityForLegend(d3.select(this));\r\n      });\r\n  };\r\n  ChartInternal.prototype.showLegend = function (targetIds) {\r\n      var $$ = this, config = $$.config;\r\n      if (!config.legend_show) {\r\n          config.legend_show = true;\r\n          $$.legend.style('visibility', 'visible');\r\n          if (!$$.legendHasRendered) {\r\n              $$.updateLegendWithDefaults();\r\n          }\r\n      }\r\n      $$.removeHiddenLegendIds(targetIds);\r\n      $$.legend\r\n          .selectAll($$.selectorLegends(targetIds))\r\n          .style('visibility', 'visible')\r\n          .transition()\r\n          .style('opacity', function () {\r\n          return $$.opacityForLegend($$.d3.select(this));\r\n      });\r\n  };\r\n  ChartInternal.prototype.hideLegend = function (targetIds) {\r\n      var $$ = this, config = $$.config;\r\n      if (config.legend_show && isEmpty(targetIds)) {\r\n          config.legend_show = false;\r\n          $$.legend.style('visibility', 'hidden');\r\n      }\r\n      $$.addHiddenLegendIds(targetIds);\r\n      $$.legend\r\n          .selectAll($$.selectorLegends(targetIds))\r\n          .style('opacity', 0)\r\n          .style('visibility', 'hidden');\r\n  };\r\n  ChartInternal.prototype.clearLegendItemTextBoxCache = function () {\r\n      this.legendItemTextBox = {};\r\n  };\r\n  ChartInternal.prototype.updateLegend = function (targetIds, options, transitions) {\r\n      var $$ = this, config = $$.config;\r\n      var xForLegend, xForLegendText, xForLegendRect, yForLegend, yForLegendText, yForLegendRect, x1ForLegendTile, x2ForLegendTile, yForLegendTile;\r\n      var paddingTop = 4, paddingRight = 10, maxWidth = 0, maxHeight = 0, posMin = 10, tileWidth = config.legend_item_tile_width + 5;\r\n      var l, totalLength = 0, offsets = {}, widths = {}, heights = {}, margins = [0], steps = {}, step = 0;\r\n      var withTransition, withTransitionForTransform;\r\n      var texts, rects, tiles, background;\r\n      // Skip elements when their name is set to null\r\n      targetIds = targetIds.filter(function (id) {\r\n          return !isDefined(config.data_names[id]) || config.data_names[id] !== null;\r\n      });\r\n      options = options || {};\r\n      withTransition = getOption(options, 'withTransition', true);\r\n      withTransitionForTransform = getOption(options, 'withTransitionForTransform', true);\r\n      function getTextBox(textElement, id) {\r\n          if (!$$.legendItemTextBox[id]) {\r\n              $$.legendItemTextBox[id] = $$.getTextRect(textElement.textContent, CLASS.legendItem, textElement);\r\n          }\r\n          return $$.legendItemTextBox[id];\r\n      }\r\n      function updatePositions(textElement, id, index) {\r\n          var reset = index === 0, isLast = index === targetIds.length - 1, box = getTextBox(textElement, id), itemWidth = box.width +\r\n              tileWidth +\r\n              (isLast && !($$.isLegendRight || $$.isLegendInset) ? 0 : paddingRight) +\r\n              config.legend_padding, itemHeight = box.height + paddingTop, itemLength = $$.isLegendRight || $$.isLegendInset ? itemHeight : itemWidth, areaLength = $$.isLegendRight || $$.isLegendInset\r\n              ? $$.getLegendHeight()\r\n              : $$.getLegendWidth(), margin, maxLength;\r\n          // MEMO: care about condifion of step, totalLength\r\n          function updateValues(id, withoutStep) {\r\n              if (!withoutStep) {\r\n                  margin = (areaLength - totalLength - itemLength) / 2;\r\n                  if (margin < posMin) {\r\n                      margin = (areaLength - itemLength) / 2;\r\n                      totalLength = 0;\r\n                      step++;\r\n                  }\r\n              }\r\n              steps[id] = step;\r\n              margins[step] = $$.isLegendInset ? 10 : margin;\r\n              offsets[id] = totalLength;\r\n              totalLength += itemLength;\r\n          }\r\n          if (reset) {\r\n              totalLength = 0;\r\n              step = 0;\r\n              maxWidth = 0;\r\n              maxHeight = 0;\r\n          }\r\n          if (config.legend_show && !$$.isLegendToShow(id)) {\r\n              widths[id] = heights[id] = steps[id] = offsets[id] = 0;\r\n              return;\r\n          }\r\n          widths[id] = itemWidth;\r\n          heights[id] = itemHeight;\r\n          if (!maxWidth || itemWidth >= maxWidth) {\r\n              maxWidth = itemWidth;\r\n          }\r\n          if (!maxHeight || itemHeight >= maxHeight) {\r\n              maxHeight = itemHeight;\r\n          }\r\n          maxLength = $$.isLegendRight || $$.isLegendInset ? maxHeight : maxWidth;\r\n          if (config.legend_equally) {\r\n              Object.keys(widths).forEach(function (id) {\r\n                  widths[id] = maxWidth;\r\n              });\r\n              Object.keys(heights).forEach(function (id) {\r\n                  heights[id] = maxHeight;\r\n              });\r\n              margin = (areaLength - maxLength * targetIds.length) / 2;\r\n              if (margin < posMin) {\r\n                  totalLength = 0;\r\n                  step = 0;\r\n                  targetIds.forEach(function (id) {\r\n                      updateValues(id);\r\n                  });\r\n              }\r\n              else {\r\n                  updateValues(id, true);\r\n              }\r\n          }\r\n          else {\r\n              updateValues(id);\r\n          }\r\n      }\r\n      if ($$.isLegendInset) {\r\n          step = config.legend_inset_step\r\n              ? config.legend_inset_step\r\n              : targetIds.length;\r\n          $$.updateLegendStep(step);\r\n      }\r\n      if ($$.isLegendRight) {\r\n          xForLegend = function (id) {\r\n              return maxWidth * steps[id];\r\n          };\r\n          yForLegend = function (id) {\r\n              return margins[steps[id]] + offsets[id];\r\n          };\r\n      }\r\n      else if ($$.isLegendInset) {\r\n          xForLegend = function (id) {\r\n              return maxWidth * steps[id] + 10;\r\n          };\r\n          yForLegend = function (id) {\r\n              return margins[steps[id]] + offsets[id];\r\n          };\r\n      }\r\n      else {\r\n          xForLegend = function (id) {\r\n              return margins[steps[id]] + offsets[id];\r\n          };\r\n          yForLegend = function (id) {\r\n              return maxHeight * steps[id];\r\n          };\r\n      }\r\n      xForLegendText = function (id, i) {\r\n          return xForLegend(id, i) + 4 + config.legend_item_tile_width;\r\n      };\r\n      yForLegendText = function (id, i) {\r\n          return yForLegend(id, i) + 9;\r\n      };\r\n      xForLegendRect = function (id, i) {\r\n          return xForLegend(id, i);\r\n      };\r\n      yForLegendRect = function (id, i) {\r\n          return yForLegend(id, i) - 5;\r\n      };\r\n      x1ForLegendTile = function (id, i) {\r\n          return xForLegend(id, i) - 2;\r\n      };\r\n      x2ForLegendTile = function (id, i) {\r\n          return xForLegend(id, i) - 2 + config.legend_item_tile_width;\r\n      };\r\n      yForLegendTile = function (id, i) {\r\n          return yForLegend(id, i) + 4;\r\n      };\r\n      // Define g for legend area\r\n      l = $$.legend\r\n          .selectAll('.' + CLASS.legendItem)\r\n          .data(targetIds)\r\n          .enter()\r\n          .append('g')\r\n          .attr('class', function (id) {\r\n          return $$.generateClass(CLASS.legendItem, id);\r\n      })\r\n          .style('visibility', function (id) {\r\n          return $$.isLegendToShow(id) ? 'visible' : 'hidden';\r\n      })\r\n          .style('cursor', function () {\r\n          return config.interaction_enabled ? 'pointer' : 'auto';\r\n      })\r\n          .on('click', config.interaction_enabled\r\n          ? function (id) {\r\n              if (config.legend_item_onclick) {\r\n                  config.legend_item_onclick.call($$, id);\r\n              }\r\n              else {\r\n                  if ($$.d3.event.altKey) {\r\n                      $$.api.hide();\r\n                      $$.api.show(id);\r\n                  }\r\n                  else {\r\n                      $$.api.toggle(id);\r\n                      $$.isTargetToShow(id) ? $$.api.focus(id) : $$.api.revert();\r\n                  }\r\n              }\r\n          }\r\n          : null)\r\n          .on('mouseover', config.interaction_enabled\r\n          ? function (id) {\r\n              if (config.legend_item_onmouseover) {\r\n                  config.legend_item_onmouseover.call($$, id);\r\n              }\r\n              else {\r\n                  $$.d3.select(this).classed(CLASS.legendItemFocused, true);\r\n                  if (!$$.transiting && $$.isTargetToShow(id)) {\r\n                      $$.api.focus(id);\r\n                  }\r\n              }\r\n          }\r\n          : null)\r\n          .on('mouseout', config.interaction_enabled\r\n          ? function (id) {\r\n              if (config.legend_item_onmouseout) {\r\n                  config.legend_item_onmouseout.call($$, id);\r\n              }\r\n              else {\r\n                  $$.d3.select(this).classed(CLASS.legendItemFocused, false);\r\n                  $$.api.revert();\r\n              }\r\n          }\r\n          : null);\r\n      l.append('text')\r\n          .text(function (id) {\r\n          return isDefined(config.data_names[id]) ? config.data_names[id] : id;\r\n      })\r\n          .each(function (id, i) {\r\n          updatePositions(this, id, i);\r\n      })\r\n          .style('pointer-events', 'none')\r\n          .attr('x', $$.isLegendRight || $$.isLegendInset ? xForLegendText : -200)\r\n          .attr('y', $$.isLegendRight || $$.isLegendInset ? -200 : yForLegendText);\r\n      l.append('rect')\r\n          .attr('class', CLASS.legendItemEvent)\r\n          .style('fill-opacity', 0)\r\n          .attr('x', $$.isLegendRight || $$.isLegendInset ? xForLegendRect : -200)\r\n          .attr('y', $$.isLegendRight || $$.isLegendInset ? -200 : yForLegendRect);\r\n      l.append('line')\r\n          .attr('class', CLASS.legendItemTile)\r\n          .style('stroke', $$.color)\r\n          .style('pointer-events', 'none')\r\n          .attr('x1', $$.isLegendRight || $$.isLegendInset ? x1ForLegendTile : -200)\r\n          .attr('y1', $$.isLegendRight || $$.isLegendInset ? -200 : yForLegendTile)\r\n          .attr('x2', $$.isLegendRight || $$.isLegendInset ? x2ForLegendTile : -200)\r\n          .attr('y2', $$.isLegendRight || $$.isLegendInset ? -200 : yForLegendTile)\r\n          .attr('stroke-width', config.legend_item_tile_height);\r\n      // Set background for inset legend\r\n      background = $$.legend.select('.' + CLASS.legendBackground + ' rect');\r\n      if ($$.isLegendInset && maxWidth > 0 && background.size() === 0) {\r\n          background = $$.legend\r\n              .insert('g', '.' + CLASS.legendItem)\r\n              .attr('class', CLASS.legendBackground)\r\n              .append('rect');\r\n      }\r\n      texts = $$.legend\r\n          .selectAll('text')\r\n          .data(targetIds)\r\n          .text(function (id) {\r\n          return isDefined(config.data_names[id]) ? config.data_names[id] : id;\r\n      }) // MEMO: needed for update\r\n          .each(function (id, i) {\r\n          updatePositions(this, id, i);\r\n      });\r\n      (withTransition ? texts.transition() : texts)\r\n          .attr('x', xForLegendText)\r\n          .attr('y', yForLegendText);\r\n      rects = $$.legend.selectAll('rect.' + CLASS.legendItemEvent).data(targetIds);\r\n      (withTransition ? rects.transition() : rects)\r\n          .attr('width', function (id) {\r\n          return widths[id];\r\n      })\r\n          .attr('height', function (id) {\r\n          return heights[id];\r\n      })\r\n          .attr('x', xForLegendRect)\r\n          .attr('y', yForLegendRect);\r\n      tiles = $$.legend.selectAll('line.' + CLASS.legendItemTile).data(targetIds);\r\n      (withTransition ? tiles.transition() : tiles)\r\n          .style('stroke', $$.levelColor\r\n          ? function (id) {\r\n              return $$.levelColor($$.cache[id].values.reduce(function (total, item) {\r\n                  return total + item.value;\r\n              }, 0));\r\n          }\r\n          : $$.color)\r\n          .attr('x1', x1ForLegendTile)\r\n          .attr('y1', yForLegendTile)\r\n          .attr('x2', x2ForLegendTile)\r\n          .attr('y2', yForLegendTile);\r\n      if (background) {\r\n          (withTransition ? background.transition() : background)\r\n              .attr('height', $$.getLegendHeight() - 12)\r\n              .attr('width', maxWidth * (step + 1) + 10);\r\n      }\r\n      // toggle legend state\r\n      $$.legend\r\n          .selectAll('.' + CLASS.legendItem)\r\n          .classed(CLASS.legendItemHidden, function (id) {\r\n          return !$$.isTargetToShow(id);\r\n      });\r\n      // Update all to reflect change of legend\r\n      $$.updateLegendItemWidth(maxWidth);\r\n      $$.updateLegendItemHeight(maxHeight);\r\n      $$.updateLegendStep(step);\r\n      // Update size and scale\r\n      $$.updateSizes();\r\n      $$.updateScales();\r\n      $$.updateSvgSize();\r\n      // Update g positions\r\n      $$.transformAll(withTransitionForTransform, transitions);\r\n      $$.legendHasRendered = true;\r\n  };\n\n  ChartInternal.prototype.initRegion = function () {\r\n      var $$ = this;\r\n      $$.region = $$.main\r\n          .append('g')\r\n          .attr('clip-path', $$.clipPath)\r\n          .attr('class', CLASS.regions);\r\n  };\r\n  ChartInternal.prototype.updateRegion = function (duration) {\r\n      var $$ = this, config = $$.config;\r\n      // hide if arc type\r\n      $$.region.style('visibility', $$.hasArcType() ? 'hidden' : 'visible');\r\n      var mainRegion = $$.main\r\n          .select('.' + CLASS.regions)\r\n          .selectAll('.' + CLASS.region)\r\n          .data(config.regions);\r\n      var g = mainRegion.enter().append('g');\r\n      g.append('rect')\r\n          .attr('x', $$.regionX.bind($$))\r\n          .attr('y', $$.regionY.bind($$))\r\n          .attr('width', $$.regionWidth.bind($$))\r\n          .attr('height', $$.regionHeight.bind($$))\r\n          .style('fill-opacity', function (d) {\r\n          return isValue(d.opacity) ? d.opacity : 0.1;\r\n      });\r\n      g.append('text').text($$.labelRegion.bind($$));\r\n      $$.mainRegion = g.merge(mainRegion).attr('class', $$.classRegion.bind($$));\r\n      mainRegion\r\n          .exit()\r\n          .transition()\r\n          .duration(duration)\r\n          .style('opacity', 0)\r\n          .remove();\r\n  };\r\n  ChartInternal.prototype.redrawRegion = function (withTransition, transition) {\r\n      var $$ = this, regions = $$.mainRegion, regionLabels = $$.mainRegion.selectAll('text');\r\n      return [\r\n          (withTransition ? regions.transition(transition) : regions)\r\n              .attr('x', $$.regionX.bind($$))\r\n              .attr('y', $$.regionY.bind($$))\r\n              .attr('width', $$.regionWidth.bind($$))\r\n              .attr('height', $$.regionHeight.bind($$))\r\n              .style('fill-opacity', function (d) {\r\n              return isValue(d.opacity) ? d.opacity : 0.1;\r\n          }),\r\n          (withTransition ? regionLabels.transition(transition) : regionLabels)\r\n              .attr('x', $$.labelOffsetX.bind($$))\r\n              .attr('y', $$.labelOffsetY.bind($$))\r\n              .attr('transform', $$.labelTransform.bind($$))\r\n              .attr('style', 'text-anchor: left;')\r\n      ];\r\n  };\r\n  ChartInternal.prototype.regionX = function (d) {\r\n      var $$ = this, config = $$.config, xPos, yScale = d.axis === 'y' ? $$.y : $$.y2;\r\n      if (d.axis === 'y' || d.axis === 'y2') {\r\n          xPos = config.axis_rotated ? ('start' in d ? yScale(d.start) : 0) : 0;\r\n      }\r\n      else {\r\n          xPos = config.axis_rotated\r\n              ? 0\r\n              : 'start' in d\r\n                  ? $$.x($$.isTimeSeries() ? $$.parseDate(d.start) : d.start)\r\n                  : 0;\r\n      }\r\n      return xPos;\r\n  };\r\n  ChartInternal.prototype.regionY = function (d) {\r\n      var $$ = this, config = $$.config, yPos, yScale = d.axis === 'y' ? $$.y : $$.y2;\r\n      if (d.axis === 'y' || d.axis === 'y2') {\r\n          yPos = config.axis_rotated ? 0 : 'end' in d ? yScale(d.end) : 0;\r\n      }\r\n      else {\r\n          yPos = config.axis_rotated\r\n              ? 'start' in d\r\n                  ? $$.x($$.isTimeSeries() ? $$.parseDate(d.start) : d.start)\r\n                  : 0\r\n              : 0;\r\n      }\r\n      return yPos;\r\n  };\r\n  ChartInternal.prototype.regionWidth = function (d) {\r\n      var $$ = this, config = $$.config, start = $$.regionX(d), end, yScale = d.axis === 'y' ? $$.y : $$.y2;\r\n      if (d.axis === 'y' || d.axis === 'y2') {\r\n          end = config.axis_rotated\r\n              ? 'end' in d\r\n                  ? yScale(d.end)\r\n                  : $$.width\r\n              : $$.width;\r\n      }\r\n      else {\r\n          end = config.axis_rotated\r\n              ? $$.width\r\n              : 'end' in d\r\n                  ? $$.x($$.isTimeSeries() ? $$.parseDate(d.end) : d.end)\r\n                  : $$.width;\r\n      }\r\n      return end < start ? 0 : end - start;\r\n  };\r\n  ChartInternal.prototype.regionHeight = function (d) {\r\n      var $$ = this, config = $$.config, start = this.regionY(d), end, yScale = d.axis === 'y' ? $$.y : $$.y2;\r\n      if (d.axis === 'y' || d.axis === 'y2') {\r\n          end = config.axis_rotated\r\n              ? $$.height\r\n              : 'start' in d\r\n                  ? yScale(d.start)\r\n                  : $$.height;\r\n      }\r\n      else {\r\n          end = config.axis_rotated\r\n              ? 'end' in d\r\n                  ? $$.x($$.isTimeSeries() ? $$.parseDate(d.end) : d.end)\r\n                  : $$.height\r\n              : $$.height;\r\n      }\r\n      return end < start ? 0 : end - start;\r\n  };\r\n  ChartInternal.prototype.isRegionOnX = function (d) {\r\n      return !d.axis || d.axis === 'x';\r\n  };\r\n  ChartInternal.prototype.labelRegion = function (d) {\r\n      return 'label' in d ? d.label : '';\r\n  };\r\n  ChartInternal.prototype.labelTransform = function (d) {\r\n      return 'vertical' in d && d.vertical ? 'rotate(90)' : '';\r\n  };\r\n  ChartInternal.prototype.labelOffsetX = function (d) {\r\n      var paddingX = 'paddingX' in d ? d.paddingX : 3;\r\n      var paddingY = 'paddingY' in d ? d.paddingY : 3;\r\n      return 'vertical' in d && d.vertical\r\n          ? this.regionY(d) + paddingY\r\n          : this.regionX(d) + paddingX;\r\n  };\r\n  ChartInternal.prototype.labelOffsetY = function (d) {\r\n      var paddingX = 'paddingX' in d ? d.paddingX : 3;\r\n      var paddingY = 'paddingY' in d ? d.paddingY : 3;\r\n      return 'vertical' in d && d.vertical\r\n          ? -(this.regionX(d) + paddingX)\r\n          : this.regionY(d) + 10 + paddingY;\r\n  };\n\n  function c3LogScale(d3, linearScale, logScale) {\r\n      var PROJECTION = [0.01, 10];\r\n      if (!linearScale) {\r\n          linearScale = d3.scaleLinear();\r\n          linearScale.range(PROJECTION);\r\n      }\r\n      if (!logScale) {\r\n          logScale = d3.scaleLog();\r\n          logScale.domain(PROJECTION);\r\n          logScale.nice();\r\n      }\r\n      // copied from https://github.com/compute-io/logspace\r\n      function logspace(a, b, len) {\r\n          var arr, end, tmp, d;\r\n          if (arguments.length < 3) {\r\n              len = 10;\r\n          }\r\n          else {\r\n              if (len === 0) {\r\n                  return [];\r\n              }\r\n          }\r\n          // Calculate the increment:\r\n          end = len - 1;\r\n          d = (b - a) / end;\r\n          // Build the output array...\r\n          arr = new Array(len);\r\n          tmp = a;\r\n          arr[0] = Math.pow(10, tmp);\r\n          for (var i = 1; i < end; i++) {\r\n              tmp += d;\r\n              arr[i] = Math.pow(10, tmp);\r\n          }\r\n          arr[end] = Math.pow(10, b);\r\n          return arr;\r\n      }\r\n      function scale(x) {\r\n          return logScale(linearScale(x));\r\n      }\r\n      scale.domain = function (x) {\r\n          if (!arguments.length) {\r\n              return linearScale.domain();\r\n          }\r\n          linearScale.domain(x);\r\n          return scale;\r\n      };\r\n      scale.range = function (x) {\r\n          if (!arguments.length) {\r\n              return logScale.range();\r\n          }\r\n          logScale.range(x);\r\n          return scale;\r\n      };\r\n      scale.ticks = function (m) {\r\n          return logspace(-2, 1, m || 10).map(function (v) {\r\n              return linearScale.invert(v);\r\n          });\r\n      };\r\n      scale.copy = function () {\r\n          return c3LogScale(d3, linearScale.copy(), logScale.copy());\r\n      };\r\n      return scale;\r\n  }\r\n  ChartInternal.prototype.getScale = function (min, max, forTimeseries) {\r\n      return (forTimeseries ? this.d3.scaleTime() : this.d3.scaleLinear()).range([\r\n          min,\r\n          max\r\n      ]);\r\n  };\r\n  ChartInternal.prototype.getX = function (min, max, domain, offset) {\r\n      var $$ = this, scale = $$.getScale(min, max, $$.isTimeSeries()), _scale = domain ? scale.domain(domain) : scale, key;\r\n      // Define customized scale if categorized axis\r\n      if ($$.isCategorized()) {\r\n          offset =\r\n              offset ||\r\n                  function () {\r\n                      return 0;\r\n                  };\r\n          scale = function (d, raw) {\r\n              var v = _scale(d) + offset(d);\r\n              return raw ? v : Math.ceil(v);\r\n          };\r\n      }\r\n      else {\r\n          scale = function (d, raw) {\r\n              var v = _scale(d);\r\n              return raw ? v : Math.ceil(v);\r\n          };\r\n      }\r\n      // define functions\r\n      for (key in _scale) {\r\n          scale[key] = _scale[key];\r\n      }\r\n      scale.orgDomain = function () {\r\n          return _scale.domain();\r\n      };\r\n      // define custom domain() for categorized axis\r\n      if ($$.isCategorized()) {\r\n          scale.domain = function (domain) {\r\n              if (!arguments.length) {\r\n                  domain = this.orgDomain();\r\n                  return [domain[0], domain[1] + 1];\r\n              }\r\n              _scale.domain(domain);\r\n              return scale;\r\n          };\r\n      }\r\n      return scale;\r\n  };\r\n  /**\r\n   * Creates and configures a D3 scale instance for the given type.\r\n   *\r\n   * By defaults it returns a Linear scale.\r\n   *\r\n   * @param {String} type Type of d3-scale to create. Type can be 'linear', 'time', 'timeseries' or 'log'.\r\n   * @param {Array} domain The scale domain such as [from, to]\r\n   * @param {Array} range The scale's range such as [from, to]\r\n   *\r\n   * @return A d3-scale instance\r\n   */\r\n  ChartInternal.prototype.getY = function (type, domain, range) {\r\n      var scale;\r\n      if (type === 'timeseries' || type === 'time') {\r\n          scale = this.d3.scaleTime();\r\n      }\r\n      else if (type === 'log') {\r\n          scale = c3LogScale(this.d3);\r\n      }\r\n      else if (type === 'linear' || type === undefined) {\r\n          scale = this.d3.scaleLinear();\r\n      }\r\n      else {\r\n          throw new Error(\"Invalid Y axis type: \\\"\" + type + \"\\\"\");\r\n      }\r\n      if (domain) {\r\n          scale.domain(domain);\r\n      }\r\n      if (range) {\r\n          scale.range(range);\r\n      }\r\n      return scale;\r\n  };\r\n  ChartInternal.prototype.getYScale = function (id) {\r\n      return this.axis.getId(id) === 'y2' ? this.y2 : this.y;\r\n  };\r\n  ChartInternal.prototype.getSubYScale = function (id) {\r\n      return this.axis.getId(id) === 'y2' ? this.subY2 : this.subY;\r\n  };\r\n  ChartInternal.prototype.updateScales = function () {\r\n      var $$ = this, config = $$.config, forInit = !$$.x;\r\n      // update edges\r\n      $$.xMin = config.axis_rotated ? 1 : 0;\r\n      $$.xMax = config.axis_rotated ? $$.height : $$.width;\r\n      $$.yMin = config.axis_rotated ? 0 : $$.height;\r\n      $$.yMax = config.axis_rotated ? $$.width : 1;\r\n      $$.subXMin = $$.xMin;\r\n      $$.subXMax = $$.xMax;\r\n      $$.subYMin = config.axis_rotated ? 0 : $$.height2;\r\n      $$.subYMax = config.axis_rotated ? $$.width2 : 1;\r\n      // update scales\r\n      $$.x = $$.getX($$.xMin, $$.xMax, forInit ? undefined : $$.x.orgDomain(), function () {\r\n          return $$.xAxis.tickOffset();\r\n      });\r\n      $$.y = $$.getY(config.axis_y_type, forInit ? config.axis_y_default : $$.y.domain(), [$$.yMin, $$.yMax]);\r\n      $$.y2 = $$.getY(config.axis_y2_type, forInit ? config.axis_y2_default : $$.y2.domain(), [$$.yMin, $$.yMax]);\r\n      $$.subX = $$.getX($$.xMin, $$.xMax, $$.orgXDomain, function (d) {\r\n          return d % 1 ? 0 : $$.subXAxis.tickOffset();\r\n      });\r\n      $$.subY = $$.getY(config.axis_y_type, forInit ? config.axis_y_default : $$.subY.domain(), [$$.subYMin, $$.subYMax]);\r\n      $$.subY2 = $$.getY(config.axis_y2_type, forInit ? config.axis_y2_default : $$.subY2.domain(), [$$.subYMin, $$.subYMax]);\r\n      // update axes\r\n      $$.xAxisTickFormat = $$.axis.getXAxisTickFormat();\r\n      $$.xAxisTickValues = $$.axis.getXAxisTickValues();\r\n      $$.yAxisTickValues = $$.axis.getYAxisTickValues();\r\n      $$.y2AxisTickValues = $$.axis.getY2AxisTickValues();\r\n      $$.xAxis = $$.axis.getXAxis($$.x, $$.xOrient, $$.xAxisTickFormat, $$.xAxisTickValues, config.axis_x_tick_outer);\r\n      $$.subXAxis = $$.axis.getXAxis($$.subX, $$.subXOrient, $$.xAxisTickFormat, $$.xAxisTickValues, config.axis_x_tick_outer);\r\n      $$.yAxis = $$.axis.getYAxis('y', $$.y, $$.yOrient, $$.yAxisTickValues, config.axis_y_tick_outer);\r\n      $$.y2Axis = $$.axis.getYAxis('y2', $$.y2, $$.y2Orient, $$.y2AxisTickValues, config.axis_y2_tick_outer);\r\n      // Set initialized scales to brush and zoom\r\n      if (!forInit) {\r\n          if ($$.brush) {\r\n              $$.brush.updateScale($$.subX);\r\n          }\r\n      }\r\n      // update for arc\r\n      if ($$.updateArc) {\r\n          $$.updateArc();\r\n      }\r\n  };\n\n  ChartInternal.prototype.selectPoint = function (target, d, i) {\r\n      var $$ = this, config = $$.config, cx = (config.axis_rotated ? $$.circleY : $$.circleX).bind($$), cy = (config.axis_rotated ? $$.circleX : $$.circleY).bind($$), r = $$.pointSelectR.bind($$);\r\n      config.data_onselected.call($$.api, d, target.node());\r\n      // add selected-circle on low layer g\r\n      $$.main\r\n          .select('.' + CLASS.selectedCircles + $$.getTargetSelectorSuffix(d.id))\r\n          .selectAll('.' + CLASS.selectedCircle + '-' + i)\r\n          .data([d])\r\n          .enter()\r\n          .append('circle')\r\n          .attr('class', function () {\r\n          return $$.generateClass(CLASS.selectedCircle, i);\r\n      })\r\n          .attr('cx', cx)\r\n          .attr('cy', cy)\r\n          .attr('stroke', function () {\r\n          return $$.color(d);\r\n      })\r\n          .attr('r', function (d) {\r\n          return $$.pointSelectR(d) * 1.4;\r\n      })\r\n          .transition()\r\n          .duration(100)\r\n          .attr('r', r);\r\n  };\r\n  ChartInternal.prototype.unselectPoint = function (target, d, i) {\r\n      var $$ = this;\r\n      $$.config.data_onunselected.call($$.api, d, target.node());\r\n      // remove selected-circle from low layer g\r\n      $$.main\r\n          .select('.' + CLASS.selectedCircles + $$.getTargetSelectorSuffix(d.id))\r\n          .selectAll('.' + CLASS.selectedCircle + '-' + i)\r\n          .transition()\r\n          .duration(100)\r\n          .attr('r', 0)\r\n          .remove();\r\n  };\r\n  ChartInternal.prototype.togglePoint = function (selected, target, d, i) {\r\n      selected ? this.selectPoint(target, d, i) : this.unselectPoint(target, d, i);\r\n  };\r\n  ChartInternal.prototype.selectPath = function (target, d) {\r\n      var $$ = this;\r\n      $$.config.data_onselected.call($$, d, target.node());\r\n      if ($$.config.interaction_brighten) {\r\n          target\r\n              .transition()\r\n              .duration(100)\r\n              .style('fill', function () {\r\n              return $$.d3.rgb($$.color(d)).brighter(0.75);\r\n          });\r\n      }\r\n  };\r\n  ChartInternal.prototype.unselectPath = function (target, d) {\r\n      var $$ = this;\r\n      $$.config.data_onunselected.call($$, d, target.node());\r\n      if ($$.config.interaction_brighten) {\r\n          target\r\n              .transition()\r\n              .duration(100)\r\n              .style('fill', function () {\r\n              return $$.color(d);\r\n          });\r\n      }\r\n  };\r\n  ChartInternal.prototype.togglePath = function (selected, target, d, i) {\r\n      selected ? this.selectPath(target, d, i) : this.unselectPath(target, d, i);\r\n  };\r\n  ChartInternal.prototype.getToggle = function (that, d) {\r\n      var $$ = this, toggle;\r\n      if (that.nodeName === 'circle') {\r\n          if ($$.isStepType(d)) {\r\n              // circle is hidden in step chart, so treat as within the click area\r\n              toggle = function () { }; // TODO: how to select step chart?\r\n          }\r\n          else {\r\n              toggle = $$.togglePoint;\r\n          }\r\n      }\r\n      else if (that.nodeName === 'path') {\r\n          toggle = $$.togglePath;\r\n      }\r\n      return toggle;\r\n  };\r\n  ChartInternal.prototype.toggleShape = function (that, d, i) {\r\n      var $$ = this, d3 = $$.d3, config = $$.config, shape = d3.select(that), isSelected = shape.classed(CLASS.SELECTED), toggle = $$.getToggle(that, d).bind($$);\r\n      if (config.data_selection_enabled && config.data_selection_isselectable(d)) {\r\n          if (!config.data_selection_multiple) {\r\n              $$.main\r\n                  .selectAll('.' +\r\n                  CLASS.shapes +\r\n                  (config.data_selection_grouped\r\n                      ? $$.getTargetSelectorSuffix(d.id)\r\n                      : ''))\r\n                  .selectAll('.' + CLASS.shape)\r\n                  .each(function (d, i) {\r\n                  var shape = d3.select(this);\r\n                  if (shape.classed(CLASS.SELECTED)) {\r\n                      toggle(false, shape.classed(CLASS.SELECTED, false), d, i);\r\n                  }\r\n              });\r\n          }\r\n          shape.classed(CLASS.SELECTED, !isSelected);\r\n          toggle(!isSelected, shape, d, i);\r\n      }\r\n  };\n\n  ChartInternal.prototype.initBar = function () {\r\n      var $$ = this;\r\n      $$.main\r\n          .select('.' + CLASS.chart)\r\n          .append('g')\r\n          .attr('class', CLASS.chartBars);\r\n  };\r\n  ChartInternal.prototype.updateTargetsForBar = function (targets) {\r\n      var $$ = this, config = $$.config, mainBars, mainBarEnter, classChartBar = $$.classChartBar.bind($$), classBars = $$.classBars.bind($$), classFocus = $$.classFocus.bind($$);\r\n      mainBars = $$.main\r\n          .select('.' + CLASS.chartBars)\r\n          .selectAll('.' + CLASS.chartBar)\r\n          .data(targets)\r\n          .attr('class', function (d) {\r\n          return classChartBar(d) + classFocus(d);\r\n      });\r\n      mainBarEnter = mainBars\r\n          .enter()\r\n          .append('g')\r\n          .attr('class', classChartBar)\r\n          .style('pointer-events', 'none');\r\n      // Bars for each data\r\n      mainBarEnter\r\n          .append('g')\r\n          .attr('class', classBars)\r\n          .style('cursor', function (d) {\r\n          return config.data_selection_isselectable(d) ? 'pointer' : null;\r\n      });\r\n  };\r\n  ChartInternal.prototype.updateBar = function (durationForExit) {\r\n      var $$ = this, barData = $$.barData.bind($$), classBar = $$.classBar.bind($$), initialOpacity = $$.initialOpacity.bind($$), color = function (d) {\r\n          return $$.color(d.id);\r\n      };\r\n      var mainBar = $$.main\r\n          .selectAll('.' + CLASS.bars)\r\n          .selectAll('.' + CLASS.bar)\r\n          .data(barData);\r\n      var mainBarEnter = mainBar\r\n          .enter()\r\n          .append('path')\r\n          .attr('class', classBar)\r\n          .style('stroke', color)\r\n          .style('fill', color);\r\n      $$.mainBar = mainBarEnter.merge(mainBar).style('opacity', initialOpacity);\r\n      mainBar\r\n          .exit()\r\n          .transition()\r\n          .duration(durationForExit)\r\n          .style('opacity', 0);\r\n  };\r\n  ChartInternal.prototype.redrawBar = function (drawBar, withTransition, transition) {\r\n      var $$ = this;\r\n      return [\r\n          (withTransition ? this.mainBar.transition(transition) : this.mainBar)\r\n              .attr('d', drawBar)\r\n              .style('stroke', this.color)\r\n              .style('fill', this.color)\r\n              .style('opacity', function (d) { return ($$.isTargetToShow(d.id) ? 1 : 0); })\r\n      ];\r\n  };\r\n  ChartInternal.prototype.getBarW = function (axis, barTargetsNum) {\r\n      var $$ = this, config = $$.config, w = typeof config.bar_width === 'number'\r\n          ? config.bar_width\r\n          : barTargetsNum\r\n              ? (axis.tickInterval() * config.bar_width_ratio) / barTargetsNum\r\n              : 0;\r\n      return config.bar_width_max && w > config.bar_width_max\r\n          ? config.bar_width_max\r\n          : w;\r\n  };\r\n  ChartInternal.prototype.getBars = function (i, id) {\r\n      var $$ = this;\r\n      return (id\r\n          ? $$.main.selectAll('.' + CLASS.bars + $$.getTargetSelectorSuffix(id))\r\n          : $$.main).selectAll('.' + CLASS.bar + (isValue(i) ? '-' + i : ''));\r\n  };\r\n  ChartInternal.prototype.expandBars = function (i, id, reset) {\r\n      var $$ = this;\r\n      if (reset) {\r\n          $$.unexpandBars();\r\n      }\r\n      $$.getBars(i, id).classed(CLASS.EXPANDED, true);\r\n  };\r\n  ChartInternal.prototype.unexpandBars = function (i) {\r\n      var $$ = this;\r\n      $$.getBars(i).classed(CLASS.EXPANDED, false);\r\n  };\r\n  ChartInternal.prototype.generateDrawBar = function (barIndices, isSub) {\r\n      var $$ = this, config = $$.config, getPoints = $$.generateGetBarPoints(barIndices, isSub);\r\n      return function (d, i) {\r\n          // 4 points that make a bar\r\n          var points = getPoints(d, i);\r\n          // switch points if axis is rotated, not applicable for sub chart\r\n          var indexX = config.axis_rotated ? 1 : 0;\r\n          var indexY = config.axis_rotated ? 0 : 1;\r\n          var path = 'M ' +\r\n              points[0][indexX] +\r\n              ',' +\r\n              points[0][indexY] +\r\n              ' ' +\r\n              'L' +\r\n              points[1][indexX] +\r\n              ',' +\r\n              points[1][indexY] +\r\n              ' ' +\r\n              'L' +\r\n              points[2][indexX] +\r\n              ',' +\r\n              points[2][indexY] +\r\n              ' ' +\r\n              'L' +\r\n              points[3][indexX] +\r\n              ',' +\r\n              points[3][indexY] +\r\n              ' ' +\r\n              'z';\r\n          return path;\r\n      };\r\n  };\r\n  ChartInternal.prototype.generateGetBarPoints = function (barIndices, isSub) {\r\n      var $$ = this, axis = isSub ? $$.subXAxis : $$.xAxis, barTargetsNum = barIndices.__max__ + 1, barW = $$.getBarW(axis, barTargetsNum), barX = $$.getShapeX(barW, barTargetsNum, barIndices, !!isSub), barY = $$.getShapeY(!!isSub), barOffset = $$.getShapeOffset($$.isBarType, barIndices, !!isSub), barSpaceOffset = barW * ($$.config.bar_space / 2), yScale = isSub ? $$.getSubYScale : $$.getYScale;\r\n      return function (d, i) {\r\n          var y0 = yScale.call($$, d.id)(0), offset = barOffset(d, i) || y0, // offset is for stacked bar chart\r\n          posX = barX(d), posY = barY(d);\r\n          // fix posY not to overflow opposite quadrant\r\n          if ($$.config.axis_rotated) {\r\n              if ((0 < d.value && posY < y0) || (d.value < 0 && y0 < posY)) {\r\n                  posY = y0;\r\n              }\r\n          }\r\n          posY -= y0 - offset;\r\n          // 4 points that make a bar\r\n          return [\r\n              [posX + barSpaceOffset, offset],\r\n              [posX + barSpaceOffset, posY],\r\n              [posX + barW - barSpaceOffset, posY],\r\n              [posX + barW - barSpaceOffset, offset]\r\n          ];\r\n      };\r\n  };\r\n  /**\r\n   * Returns whether the data point is within the given bar shape.\r\n   *\r\n   * @param mouse\r\n   * @param barShape\r\n   * @return {boolean}\r\n   */\r\n  ChartInternal.prototype.isWithinBar = function (mouse, barShape) {\r\n      return isWithinBox(mouse, getBBox(barShape), 2);\r\n  };\n\n  ChartInternal.prototype.getShapeIndices = function (typeFilter) {\r\n      var $$ = this, config = $$.config, indices = {}, i = 0, j, k;\r\n      $$.filterTargetsToShow($$.data.targets.filter(typeFilter, $$)).forEach(function (d) {\r\n          for (j = 0; j < config.data_groups.length; j++) {\r\n              if (config.data_groups[j].indexOf(d.id) < 0) {\r\n                  continue;\r\n              }\r\n              for (k = 0; k < config.data_groups[j].length; k++) {\r\n                  if (config.data_groups[j][k] in indices) {\r\n                      indices[d.id] = indices[config.data_groups[j][k]];\r\n                      break;\r\n                  }\r\n              }\r\n          }\r\n          if (isUndefined(indices[d.id])) {\r\n              indices[d.id] = i++;\r\n          }\r\n      });\r\n      indices.__max__ = i - 1;\r\n      return indices;\r\n  };\r\n  ChartInternal.prototype.getShapeX = function (offset, targetsNum, indices, isSub) {\r\n      var $$ = this, scale = isSub ? $$.subX : $$.x;\r\n      return function (d) {\r\n          var index = d.id in indices ? indices[d.id] : 0;\r\n          return d.x || d.x === 0 ? scale(d.x) - offset * (targetsNum / 2 - index) : 0;\r\n      };\r\n  };\r\n  ChartInternal.prototype.getShapeY = function (isSub) {\r\n      var $$ = this;\r\n      return function (d) {\r\n          var scale = isSub ? $$.getSubYScale(d.id) : $$.getYScale(d.id);\r\n          return scale($$.isTargetNormalized(d.id) ? $$.getRatio('index', d, true) : d.value);\r\n      };\r\n  };\r\n  ChartInternal.prototype.getShapeOffset = function (typeFilter, indices, isSub) {\r\n      var $$ = this, targets = $$.orderTargets($$.filterTargetsToShow($$.data.targets.filter(typeFilter, $$))), targetIds = targets.map(function (t) {\r\n          return t.id;\r\n      });\r\n      return function (d, i) {\r\n          var scale = isSub ? $$.getSubYScale(d.id) : $$.getYScale(d.id), y0 = scale(0), offset = y0;\r\n          targets.forEach(function (t) {\r\n              var rowValues = $$.isStepType(d)\r\n                  ? $$.convertValuesToStep(t.values)\r\n                  : t.values;\r\n              var isTargetNormalized = $$.isTargetNormalized(d.id);\r\n              var values = rowValues.map(function (v) {\r\n                  return isTargetNormalized ? $$.getRatio('index', v, true) : v.value;\r\n              });\r\n              if (t.id === d.id || indices[t.id] !== indices[d.id]) {\r\n                  return;\r\n              }\r\n              if (targetIds.indexOf(t.id) < targetIds.indexOf(d.id)) {\r\n                  // check if the x values line up\r\n                  if (isUndefined(rowValues[i]) || +rowValues[i].x !== +d.x) {\r\n                      // \"+\" for timeseries\r\n                      // if not, try to find the value that does line up\r\n                      i = -1;\r\n                      rowValues.forEach(function (v, j) {\r\n                          var x1 = v.x.constructor === Date ? +v.x : v.x;\r\n                          var x2 = d.x.constructor === Date ? +d.x : d.x;\r\n                          if (x1 === x2) {\r\n                              i = j;\r\n                          }\r\n                      });\r\n                  }\r\n                  if (i in rowValues && rowValues[i].value * d.value >= 0) {\r\n                      offset += scale(values[i]) - y0;\r\n                  }\r\n              }\r\n          });\r\n          return offset;\r\n      };\r\n  };\r\n  ChartInternal.prototype.isWithinShape = function (that, d) {\r\n      var $$ = this, shape = $$.d3.select(that), isWithin;\r\n      if (!$$.isTargetToShow(d.id)) {\r\n          isWithin = false;\r\n      }\r\n      else if (that.nodeName === 'circle') {\r\n          isWithin = $$.isStepType(d)\r\n              ? $$.isWithinStep(that, $$.getYScale(d.id)(d.value))\r\n              : $$.isWithinCircle(that, $$.pointSelectR(d) * 1.5);\r\n      }\r\n      else if (that.nodeName === 'path') {\r\n          isWithin = shape.classed(CLASS.bar)\r\n              ? $$.isWithinBar($$.d3.mouse(that), that)\r\n              : true;\r\n      }\r\n      return isWithin;\r\n  };\r\n  ChartInternal.prototype.getInterpolate = function (d) {\r\n      var $$ = this, d3 = $$.d3, types = {\r\n          linear: d3.curveLinear,\r\n          'linear-closed': d3.curveLinearClosed,\r\n          basis: d3.curveBasis,\r\n          'basis-open': d3.curveBasisOpen,\r\n          'basis-closed': d3.curveBasisClosed,\r\n          bundle: d3.curveBundle,\r\n          cardinal: d3.curveCardinal,\r\n          'cardinal-open': d3.curveCardinalOpen,\r\n          'cardinal-closed': d3.curveCardinalClosed,\r\n          monotone: d3.curveMonotoneX,\r\n          step: d3.curveStep,\r\n          'step-before': d3.curveStepBefore,\r\n          'step-after': d3.curveStepAfter\r\n      }, type;\r\n      if ($$.isSplineType(d)) {\r\n          type = types[$$.config.spline_interpolation_type] || types.cardinal;\r\n      }\r\n      else if ($$.isStepType(d)) {\r\n          type = types[$$.config.line_step_type];\r\n      }\r\n      else {\r\n          type = types.linear;\r\n      }\r\n      return type;\r\n  };\n\n  ChartInternal.prototype.initLine = function () {\r\n      var $$ = this;\r\n      $$.main\r\n          .select('.' + CLASS.chart)\r\n          .append('g')\r\n          .attr('class', CLASS.chartLines);\r\n  };\r\n  ChartInternal.prototype.updateTargetsForLine = function (targets) {\r\n      var $$ = this, config = $$.config, mainLines, mainLineEnter, classChartLine = $$.classChartLine.bind($$), classLines = $$.classLines.bind($$), classAreas = $$.classAreas.bind($$), classCircles = $$.classCircles.bind($$), classFocus = $$.classFocus.bind($$);\r\n      mainLines = $$.main\r\n          .select('.' + CLASS.chartLines)\r\n          .selectAll('.' + CLASS.chartLine)\r\n          .data(targets)\r\n          .attr('class', function (d) {\r\n          return classChartLine(d) + classFocus(d);\r\n      });\r\n      mainLineEnter = mainLines\r\n          .enter()\r\n          .append('g')\r\n          .attr('class', classChartLine)\r\n          .style('opacity', 0)\r\n          .style('pointer-events', 'none');\r\n      // Lines for each data\r\n      mainLineEnter.append('g').attr('class', classLines);\r\n      // Areas\r\n      mainLineEnter.append('g').attr('class', classAreas);\r\n      // Circles for each data point on lines\r\n      mainLineEnter.append('g').attr('class', function (d) {\r\n          return $$.generateClass(CLASS.selectedCircles, d.id);\r\n      });\r\n      mainLineEnter\r\n          .append('g')\r\n          .attr('class', classCircles)\r\n          .style('cursor', function (d) {\r\n          return config.data_selection_isselectable(d) ? 'pointer' : null;\r\n      });\r\n      // Update date for selected circles\r\n      targets.forEach(function (t) {\r\n          $$.main\r\n              .selectAll('.' + CLASS.selectedCircles + $$.getTargetSelectorSuffix(t.id))\r\n              .selectAll('.' + CLASS.selectedCircle)\r\n              .each(function (d) {\r\n              d.value = t.values[d.index].value;\r\n          });\r\n      });\r\n      // MEMO: can not keep same color...\r\n      //mainLineUpdate.exit().remove();\r\n  };\r\n  ChartInternal.prototype.updateLine = function (durationForExit) {\r\n      var $$ = this;\r\n      var mainLine = $$.main\r\n          .selectAll('.' + CLASS.lines)\r\n          .selectAll('.' + CLASS.line)\r\n          .data($$.lineData.bind($$));\r\n      var mainLineEnter = mainLine\r\n          .enter()\r\n          .append('path')\r\n          .attr('class', $$.classLine.bind($$))\r\n          .style('stroke', $$.color);\r\n      $$.mainLine = mainLineEnter\r\n          .merge(mainLine)\r\n          .style('opacity', $$.initialOpacity.bind($$))\r\n          .style('shape-rendering', function (d) {\r\n          return $$.isStepType(d) ? 'crispEdges' : '';\r\n      })\r\n          .attr('transform', null);\r\n      mainLine\r\n          .exit()\r\n          .transition()\r\n          .duration(durationForExit)\r\n          .style('opacity', 0);\r\n  };\r\n  ChartInternal.prototype.redrawLine = function (drawLine, withTransition, transition) {\r\n      return [\r\n          (withTransition ? this.mainLine.transition(transition) : this.mainLine)\r\n              .attr('d', drawLine)\r\n              .style('stroke', this.color)\r\n              .style('opacity', 1)\r\n      ];\r\n  };\r\n  ChartInternal.prototype.generateDrawLine = function (lineIndices, isSub) {\r\n      var $$ = this, config = $$.config, line = $$.d3.line(), getPoints = $$.generateGetLinePoints(lineIndices, isSub), yScaleGetter = isSub ? $$.getSubYScale : $$.getYScale, xValue = function (d) {\r\n          return (isSub ? $$.subxx : $$.xx).call($$, d);\r\n      }, yValue = function (d, i) {\r\n          return config.data_groups.length > 0\r\n              ? getPoints(d, i)[0][1]\r\n              : yScaleGetter.call($$, d.id)(d.value);\r\n      };\r\n      line = config.axis_rotated\r\n          ? line.x(yValue).y(xValue)\r\n          : line.x(xValue).y(yValue);\r\n      if (!config.line_connectNull) {\r\n          line = line.defined(function (d) {\r\n              return d.value != null;\r\n          });\r\n      }\r\n      return function (d) {\r\n          var values = config.line_connectNull\r\n              ? $$.filterRemoveNull(d.values)\r\n              : d.values, x = isSub ? $$.subX : $$.x, y = yScaleGetter.call($$, d.id), x0 = 0, y0 = 0, path;\r\n          if ($$.isLineType(d)) {\r\n              if (config.data_regions[d.id]) {\r\n                  path = $$.lineWithRegions(values, x, y, config.data_regions[d.id]);\r\n              }\r\n              else {\r\n                  if ($$.isStepType(d)) {\r\n                      values = $$.convertValuesToStep(values);\r\n                  }\r\n                  path = line.curve($$.getInterpolate(d))(values);\r\n              }\r\n          }\r\n          else {\r\n              if (values[0]) {\r\n                  x0 = x(values[0].x);\r\n                  y0 = y(values[0].value);\r\n              }\r\n              path = config.axis_rotated ? 'M ' + y0 + ' ' + x0 : 'M ' + x0 + ' ' + y0;\r\n          }\r\n          return path ? path : 'M 0 0';\r\n      };\r\n  };\r\n  ChartInternal.prototype.generateGetLinePoints = function (lineIndices, isSub) {\r\n      // partial duplication of generateGetBarPoints\r\n      var $$ = this, config = $$.config, lineTargetsNum = lineIndices.__max__ + 1, x = $$.getShapeX(0, lineTargetsNum, lineIndices, !!isSub), y = $$.getShapeY(!!isSub), lineOffset = $$.getShapeOffset($$.isLineType, lineIndices, !!isSub), yScale = isSub ? $$.getSubYScale : $$.getYScale;\r\n      return function (d, i) {\r\n          var y0 = yScale.call($$, d.id)(0), offset = lineOffset(d, i) || y0, // offset is for stacked area chart\r\n          posX = x(d), posY = y(d);\r\n          // fix posY not to overflow opposite quadrant\r\n          if (config.axis_rotated) {\r\n              if ((0 < d.value && posY < y0) || (d.value < 0 && y0 < posY)) {\r\n                  posY = y0;\r\n              }\r\n          }\r\n          // 1 point that marks the line position\r\n          return [\r\n              [posX, posY - (y0 - offset)],\r\n              [posX, posY - (y0 - offset)],\r\n              [posX, posY - (y0 - offset)],\r\n              [posX, posY - (y0 - offset)] // needed for compatibility\r\n          ];\r\n      };\r\n  };\r\n  ChartInternal.prototype.lineWithRegions = function (d, x, y, _regions) {\r\n      var $$ = this, config = $$.config, prev = -1, i, j, s = 'M', sWithRegion, xp, yp, dx, dy, dd, diff, diffx2, xOffset = $$.isCategorized() ? 0.5 : 0, xValue, yValue, regions = [];\r\n      function isWithinRegions(x, regions) {\r\n          var i;\r\n          for (i = 0; i < regions.length; i++) {\r\n              if (regions[i].start < x && x <= regions[i].end) {\r\n                  return true;\r\n              }\r\n          }\r\n          return false;\r\n      }\r\n      // Check start/end of regions\r\n      if (isDefined(_regions)) {\r\n          for (i = 0; i < _regions.length; i++) {\r\n              regions[i] = {};\r\n              if (isUndefined(_regions[i].start)) {\r\n                  regions[i].start = d[0].x;\r\n              }\r\n              else {\r\n                  regions[i].start = $$.isTimeSeries()\r\n                      ? $$.parseDate(_regions[i].start)\r\n                      : _regions[i].start;\r\n              }\r\n              if (isUndefined(_regions[i].end)) {\r\n                  regions[i].end = d[d.length - 1].x;\r\n              }\r\n              else {\r\n                  regions[i].end = $$.isTimeSeries()\r\n                      ? $$.parseDate(_regions[i].end)\r\n                      : _regions[i].end;\r\n              }\r\n          }\r\n      }\r\n      // Set scales\r\n      xValue = config.axis_rotated\r\n          ? function (d) {\r\n              return y(d.value);\r\n          }\r\n          : function (d) {\r\n              return x(d.x);\r\n          };\r\n      yValue = config.axis_rotated\r\n          ? function (d) {\r\n              return x(d.x);\r\n          }\r\n          : function (d) {\r\n              return y(d.value);\r\n          };\r\n      // Define svg generator function for region\r\n      function generateM(points) {\r\n          return ('M' +\r\n              points[0][0] +\r\n              ' ' +\r\n              points[0][1] +\r\n              ' ' +\r\n              points[1][0] +\r\n              ' ' +\r\n              points[1][1]);\r\n      }\r\n      if ($$.isTimeSeries()) {\r\n          sWithRegion = function (d0, d1, j, diff) {\r\n              var x0 = d0.x.getTime(), x_diff = d1.x - d0.x, xv0 = new Date(x0 + x_diff * j), xv1 = new Date(x0 + x_diff * (j + diff)), points;\r\n              if (config.axis_rotated) {\r\n                  points = [\r\n                      [y(yp(j)), x(xv0)],\r\n                      [y(yp(j + diff)), x(xv1)]\r\n                  ];\r\n              }\r\n              else {\r\n                  points = [\r\n                      [x(xv0), y(yp(j))],\r\n                      [x(xv1), y(yp(j + diff))]\r\n                  ];\r\n              }\r\n              return generateM(points);\r\n          };\r\n      }\r\n      else {\r\n          sWithRegion = function (d0, d1, j, diff) {\r\n              var points;\r\n              if (config.axis_rotated) {\r\n                  points = [\r\n                      [y(yp(j), true), x(xp(j))],\r\n                      [y(yp(j + diff), true), x(xp(j + diff))]\r\n                  ];\r\n              }\r\n              else {\r\n                  points = [\r\n                      [x(xp(j), true), y(yp(j))],\r\n                      [x(xp(j + diff), true), y(yp(j + diff))]\r\n                  ];\r\n              }\r\n              return generateM(points);\r\n          };\r\n      }\r\n      // Generate\r\n      for (i = 0; i < d.length; i++) {\r\n          // Draw as normal\r\n          if (isUndefined(regions) || !isWithinRegions(d[i].x, regions)) {\r\n              s += ' ' + xValue(d[i]) + ' ' + yValue(d[i]);\r\n          }\r\n          // Draw with region // TODO: Fix for horizotal charts\r\n          else {\r\n              xp = $$.getScale(d[i - 1].x + xOffset, d[i].x + xOffset, $$.isTimeSeries());\r\n              yp = $$.getScale(d[i - 1].value, d[i].value);\r\n              dx = x(d[i].x) - x(d[i - 1].x);\r\n              dy = y(d[i].value) - y(d[i - 1].value);\r\n              dd = Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2));\r\n              diff = 2 / dd;\r\n              diffx2 = diff * 2;\r\n              for (j = diff; j <= 1; j += diffx2) {\r\n                  s += sWithRegion(d[i - 1], d[i], j, diff);\r\n              }\r\n          }\r\n          prev = d[i].x;\r\n      }\r\n      return s;\r\n  };\r\n  ChartInternal.prototype.updateArea = function (durationForExit) {\r\n      var $$ = this, d3 = $$.d3;\r\n      var mainArea = $$.main\r\n          .selectAll('.' + CLASS.areas)\r\n          .selectAll('.' + CLASS.area)\r\n          .data($$.lineData.bind($$));\r\n      var mainAreaEnter = mainArea\r\n          .enter()\r\n          .append('path')\r\n          .attr('class', $$.classArea.bind($$))\r\n          .style('fill', $$.color)\r\n          .style('opacity', function () {\r\n          $$.orgAreaOpacity = +d3.select(this).style('opacity');\r\n          return 0;\r\n      });\r\n      $$.mainArea = mainAreaEnter\r\n          .merge(mainArea)\r\n          .style('opacity', $$.orgAreaOpacity);\r\n      mainArea\r\n          .exit()\r\n          .transition()\r\n          .duration(durationForExit)\r\n          .style('opacity', 0);\r\n  };\r\n  ChartInternal.prototype.redrawArea = function (drawArea, withTransition, transition) {\r\n      return [\r\n          (withTransition ? this.mainArea.transition(transition) : this.mainArea)\r\n              .attr('d', drawArea)\r\n              .style('fill', this.color)\r\n              .style('opacity', this.orgAreaOpacity)\r\n      ];\r\n  };\r\n  ChartInternal.prototype.generateDrawArea = function (areaIndices, isSub) {\r\n      var $$ = this, config = $$.config, area = $$.d3.area(), getPoints = $$.generateGetAreaPoints(areaIndices, isSub), yScaleGetter = isSub ? $$.getSubYScale : $$.getYScale, xValue = function (d) {\r\n          return (isSub ? $$.subxx : $$.xx).call($$, d);\r\n      }, value0 = function (d, i) {\r\n          return config.data_groups.length > 0\r\n              ? getPoints(d, i)[0][1]\r\n              : yScaleGetter.call($$, d.id)($$.getAreaBaseValue(d.id));\r\n      }, value1 = function (d, i) {\r\n          return config.data_groups.length > 0\r\n              ? getPoints(d, i)[1][1]\r\n              : yScaleGetter.call($$, d.id)(d.value);\r\n      };\r\n      area = config.axis_rotated\r\n          ? area\r\n              .x0(value0)\r\n              .x1(value1)\r\n              .y(xValue)\r\n          : area\r\n              .x(xValue)\r\n              .y0(config.area_above ? 0 : value0)\r\n              .y1(value1);\r\n      if (!config.line_connectNull) {\r\n          area = area.defined(function (d) {\r\n              return d.value !== null;\r\n          });\r\n      }\r\n      return function (d) {\r\n          var values = config.line_connectNull\r\n              ? $$.filterRemoveNull(d.values)\r\n              : d.values, x0 = 0, y0 = 0, path;\r\n          if ($$.isAreaType(d)) {\r\n              if ($$.isStepType(d)) {\r\n                  values = $$.convertValuesToStep(values);\r\n              }\r\n              path = area.curve($$.getInterpolate(d))(values);\r\n          }\r\n          else {\r\n              if (values[0]) {\r\n                  x0 = $$.x(values[0].x);\r\n                  y0 = $$.getYScale(d.id)(values[0].value);\r\n              }\r\n              path = config.axis_rotated ? 'M ' + y0 + ' ' + x0 : 'M ' + x0 + ' ' + y0;\r\n          }\r\n          return path ? path : 'M 0 0';\r\n      };\r\n  };\r\n  ChartInternal.prototype.getAreaBaseValue = function () {\r\n      return 0;\r\n  };\r\n  ChartInternal.prototype.generateGetAreaPoints = function (areaIndices, isSub) {\r\n      // partial duplication of generateGetBarPoints\r\n      var $$ = this, config = $$.config, areaTargetsNum = areaIndices.__max__ + 1, x = $$.getShapeX(0, areaTargetsNum, areaIndices, !!isSub), y = $$.getShapeY(!!isSub), areaOffset = $$.getShapeOffset($$.isAreaType, areaIndices, !!isSub), yScale = isSub ? $$.getSubYScale : $$.getYScale;\r\n      return function (d, i) {\r\n          var y0 = yScale.call($$, d.id)(0), offset = areaOffset(d, i) || y0, // offset is for stacked area chart\r\n          posX = x(d), posY = y(d);\r\n          // fix posY not to overflow opposite quadrant\r\n          if (config.axis_rotated) {\r\n              if ((0 < d.value && posY < y0) || (d.value < 0 && y0 < posY)) {\r\n                  posY = y0;\r\n              }\r\n          }\r\n          // 1 point that marks the area position\r\n          return [\r\n              [posX, offset],\r\n              [posX, posY - (y0 - offset)],\r\n              [posX, posY - (y0 - offset)],\r\n              [posX, offset] // needed for compatibility\r\n          ];\r\n      };\r\n  };\r\n  ChartInternal.prototype.updateCircle = function (cx, cy) {\r\n      var $$ = this;\r\n      var mainCircle = $$.main\r\n          .selectAll('.' + CLASS.circles)\r\n          .selectAll('.' + CLASS.circle)\r\n          .data($$.lineOrScatterOrStanfordData.bind($$));\r\n      var mainCircleEnter = mainCircle\r\n          .enter()\r\n          .append('circle')\r\n          .attr('shape-rendering', $$.isStanfordGraphType() ? 'crispEdges' : '')\r\n          .attr('class', $$.classCircle.bind($$))\r\n          .attr('cx', cx)\r\n          .attr('cy', cy)\r\n          .attr('r', $$.pointR.bind($$))\r\n          .style('color', $$.isStanfordGraphType() ? $$.getStanfordPointColor.bind($$) : $$.color);\r\n      $$.mainCircle = mainCircleEnter\r\n          .merge(mainCircle)\r\n          .style('opacity', $$.isStanfordGraphType() ? 1 : $$.initialOpacityForCircle.bind($$));\r\n      mainCircle.exit().style('opacity', 0);\r\n  };\r\n  ChartInternal.prototype.redrawCircle = function (cx, cy, withTransition, transition) {\r\n      var $$ = this, selectedCircles = $$.main.selectAll('.' + CLASS.selectedCircle);\r\n      return [\r\n          (withTransition ? $$.mainCircle.transition(transition) : $$.mainCircle)\r\n              .style('opacity', this.opacityForCircle.bind($$))\r\n              .style('color', $$.isStanfordGraphType() ? $$.getStanfordPointColor.bind($$) : $$.color)\r\n              .attr('cx', cx)\r\n              .attr('cy', cy),\r\n          (withTransition ? selectedCircles.transition(transition) : selectedCircles)\r\n              .attr('cx', cx)\r\n              .attr('cy', cy)\r\n      ];\r\n  };\r\n  ChartInternal.prototype.circleX = function (d) {\r\n      return d.x || d.x === 0 ? this.x(d.x) : null;\r\n  };\r\n  ChartInternal.prototype.updateCircleY = function () {\r\n      var $$ = this, lineIndices, getPoints;\r\n      if ($$.config.data_groups.length > 0) {\r\n          (lineIndices = $$.getShapeIndices($$.isLineType)),\r\n              (getPoints = $$.generateGetLinePoints(lineIndices));\r\n          $$.circleY = function (d, i) {\r\n              return getPoints(d, i)[0][1];\r\n          };\r\n      }\r\n      else {\r\n          $$.circleY = function (d) {\r\n              return $$.getYScale(d.id)(d.value);\r\n          };\r\n      }\r\n  };\r\n  ChartInternal.prototype.getCircles = function (i, id) {\r\n      var $$ = this;\r\n      return (id\r\n          ? $$.main.selectAll('.' + CLASS.circles + $$.getTargetSelectorSuffix(id))\r\n          : $$.main).selectAll('.' + CLASS.circle + (isValue(i) ? '-' + i : ''));\r\n  };\r\n  ChartInternal.prototype.expandCircles = function (i, id, reset) {\r\n      var $$ = this, r = $$.pointExpandedR.bind($$);\r\n      if (reset) {\r\n          $$.unexpandCircles();\r\n      }\r\n      $$.getCircles(i, id)\r\n          .classed(CLASS.EXPANDED, true)\r\n          .attr('r', r);\r\n  };\r\n  ChartInternal.prototype.unexpandCircles = function (i) {\r\n      var $$ = this, r = $$.pointR.bind($$);\r\n      $$.getCircles(i)\r\n          .filter(function () {\r\n          return $$.d3.select(this).classed(CLASS.EXPANDED);\r\n      })\r\n          .classed(CLASS.EXPANDED, false)\r\n          .attr('r', r);\r\n  };\r\n  ChartInternal.prototype.pointR = function (d) {\r\n      var $$ = this, config = $$.config;\r\n      return $$.isStepType(d)\r\n          ? 0\r\n          : isFunction(config.point_r)\r\n              ? config.point_r(d)\r\n              : config.point_r;\r\n  };\r\n  ChartInternal.prototype.pointExpandedR = function (d) {\r\n      var $$ = this, config = $$.config;\r\n      if (config.point_focus_expand_enabled) {\r\n          return isFunction(config.point_focus_expand_r)\r\n              ? config.point_focus_expand_r(d)\r\n              : config.point_focus_expand_r\r\n                  ? config.point_focus_expand_r\r\n                  : $$.pointR(d) * 1.75;\r\n      }\r\n      else {\r\n          return $$.pointR(d);\r\n      }\r\n  };\r\n  ChartInternal.prototype.pointSelectR = function (d) {\r\n      var $$ = this, config = $$.config;\r\n      return isFunction(config.point_select_r)\r\n          ? config.point_select_r(d)\r\n          : config.point_select_r\r\n              ? config.point_select_r\r\n              : $$.pointR(d) * 4;\r\n  };\r\n  ChartInternal.prototype.isWithinCircle = function (that, r) {\r\n      var d3 = this.d3, mouse = d3.mouse(that), d3_this = d3.select(that), cx = +d3_this.attr('cx'), cy = +d3_this.attr('cy');\r\n      return Math.sqrt(Math.pow(cx - mouse[0], 2) + Math.pow(cy - mouse[1], 2)) < r;\r\n  };\r\n  ChartInternal.prototype.isWithinStep = function (that, y) {\r\n      return Math.abs(y - this.d3.mouse(that)[1]) < 30;\r\n  };\n\n  ChartInternal.prototype.getCurrentWidth = function () {\r\n      var $$ = this, config = $$.config;\r\n      return config.size_width ? config.size_width : $$.getParentWidth();\r\n  };\r\n  ChartInternal.prototype.getCurrentHeight = function () {\r\n      var $$ = this, config = $$.config, h = config.size_height ? config.size_height : $$.getParentHeight();\r\n      return h > 0\r\n          ? h\r\n          : 320 / ($$.hasType('gauge') && !config.gauge_fullCircle ? 2 : 1);\r\n  };\r\n  ChartInternal.prototype.getCurrentPaddingTop = function () {\r\n      var $$ = this, config = $$.config, padding = isValue(config.padding_top) ? config.padding_top : 0;\r\n      if ($$.title && $$.title.node()) {\r\n          padding += $$.getTitlePadding();\r\n      }\r\n      return padding;\r\n  };\r\n  ChartInternal.prototype.getCurrentPaddingBottom = function () {\r\n      var config = this.config;\r\n      return isValue(config.padding_bottom) ? config.padding_bottom : 0;\r\n  };\r\n  ChartInternal.prototype.getCurrentPaddingLeft = function (withoutRecompute) {\r\n      var $$ = this, config = $$.config;\r\n      if (isValue(config.padding_left)) {\r\n          return config.padding_left;\r\n      }\r\n      else if (config.axis_rotated) {\r\n          return !config.axis_x_show || config.axis_x_inner\r\n              ? 1\r\n              : Math.max(ceil10($$.getAxisWidthByAxisId('x', withoutRecompute)), 40);\r\n      }\r\n      else if (!config.axis_y_show || config.axis_y_inner) {\r\n          // && !config.axis_rotated\r\n          return $$.axis.getYAxisLabelPosition().isOuter ? 30 : 1;\r\n      }\r\n      else {\r\n          return ceil10($$.getAxisWidthByAxisId('y', withoutRecompute));\r\n      }\r\n  };\r\n  ChartInternal.prototype.getCurrentPaddingRight = function () {\r\n      var $$ = this, config = $$.config, padding = 0, defaultPadding = 10, legendWidthOnRight = $$.isLegendRight ? $$.getLegendWidth() + 20 : 0;\r\n      if (isValue(config.padding_right)) {\r\n          padding = config.padding_right + 1; // 1 is needed not to hide tick line\r\n      }\r\n      else if (config.axis_rotated) {\r\n          padding = defaultPadding + legendWidthOnRight;\r\n      }\r\n      else if (!config.axis_y2_show || config.axis_y2_inner) {\r\n          // && !config.axis_rotated\r\n          padding =\r\n              2 +\r\n                  legendWidthOnRight +\r\n                  ($$.axis.getY2AxisLabelPosition().isOuter ? 20 : 0);\r\n      }\r\n      else {\r\n          padding = ceil10($$.getAxisWidthByAxisId('y2')) + legendWidthOnRight;\r\n      }\r\n      if ($$.colorScale && $$.colorScale.node()) {\r\n          padding += $$.getColorScalePadding();\r\n      }\r\n      return padding;\r\n  };\r\n  ChartInternal.prototype.getParentRectValue = function (key) {\r\n      var parent = this.selectChart.node(), v;\r\n      while (parent && parent.tagName !== 'BODY') {\r\n          try {\r\n              v = parent.getBoundingClientRect()[key];\r\n          }\r\n          catch (e) {\r\n              if (key === 'width') {\r\n                  // In IE in certain cases getBoundingClientRect\r\n                  // will cause an \"unspecified error\"\r\n                  v = parent.offsetWidth;\r\n              }\r\n          }\r\n          if (v) {\r\n              break;\r\n          }\r\n          parent = parent.parentNode;\r\n      }\r\n      return v;\r\n  };\r\n  ChartInternal.prototype.getParentWidth = function () {\r\n      return this.getParentRectValue('width');\r\n  };\r\n  ChartInternal.prototype.getParentHeight = function () {\r\n      var h = this.selectChart.style('height');\r\n      return h.indexOf('px') > 0 ? +h.replace('px', '') : 0;\r\n  };\r\n  ChartInternal.prototype.getSvgLeft = function (withoutRecompute) {\r\n      var $$ = this, config = $$.config, hasLeftAxisRect = config.axis_rotated || (!config.axis_rotated && !config.axis_y_inner), leftAxisClass = config.axis_rotated ? CLASS.axisX : CLASS.axisY, leftAxis = $$.main.select('.' + leftAxisClass).node(), svgRect = leftAxis && hasLeftAxisRect\r\n          ? leftAxis.getBoundingClientRect()\r\n          : { right: 0 }, chartRect = $$.selectChart.node().getBoundingClientRect(), hasArc = $$.hasArcType(), svgLeft = svgRect.right -\r\n          chartRect.left -\r\n          (hasArc ? 0 : $$.getCurrentPaddingLeft(withoutRecompute));\r\n      return svgLeft > 0 ? svgLeft : 0;\r\n  };\r\n  ChartInternal.prototype.getAxisWidthByAxisId = function (id, withoutRecompute) {\r\n      var $$ = this, position = $$.axis.getLabelPositionById(id);\r\n      return ($$.axis.getMaxTickWidth(id, withoutRecompute) + (position.isInner ? 20 : 40));\r\n  };\r\n  ChartInternal.prototype.getHorizontalAxisHeight = function (axisId, isSubchart) {\r\n      var $$ = this, config = $$.config, h = 30;\r\n      if (axisId === 'x' && !(isDefined(isSubchart) && isSubchart ? config.subchart_axis_x_show : config.axis_x_show)) {\r\n          return 8;\r\n      }\r\n      if (axisId === 'x' && config.axis_x_height) {\r\n          return config.axis_x_height;\r\n      }\r\n      if (axisId === 'y' && !config.axis_y_show) {\r\n          return config.legend_show && !$$.isLegendRight && !$$.isLegendInset ? 10 : 1;\r\n      }\r\n      if (axisId === 'y2' && !config.axis_y2_show) {\r\n          return $$.rotated_padding_top;\r\n      }\r\n      // Calculate x axis height when tick rotated\r\n      if (axisId === 'x' && !config.axis_rotated && config.axis_x_tick_rotate) {\r\n          h =\r\n              30 +\r\n                  $$.axis.getMaxTickWidth(axisId) *\r\n                      Math.cos((Math.PI * (90 - Math.abs(config.axis_x_tick_rotate))) / 180);\r\n      }\r\n      // Calculate y axis height when tick rotated\r\n      if (axisId === 'y' && config.axis_rotated && config.axis_y_tick_rotate) {\r\n          h =\r\n              30 +\r\n                  $$.axis.getMaxTickWidth(axisId) *\r\n                      Math.cos((Math.PI * (90 - Math.abs(config.axis_y_tick_rotate))) / 180);\r\n      }\r\n      return (h +\r\n          ($$.axis.getLabelPositionById(axisId).isInner ? 0 : 10) +\r\n          (axisId === 'y2' ? -10 : 0));\r\n  };\n\n  ChartInternal.prototype.initBrush = function (scale) {\r\n      var $$ = this, d3 = $$.d3;\r\n      // TODO: dynamically change brushY/brushX according to axis_rotated.\r\n      $$.brush = ($$.config.axis_rotated ? d3.brushY() : d3.brushX())\r\n          .on('brush', function () {\r\n          var event = d3.event.sourceEvent;\r\n          if (event && event.type === 'zoom') {\r\n              return;\r\n          }\r\n          $$.redrawForBrush();\r\n      })\r\n          .on('end', function () {\r\n          var event = d3.event.sourceEvent;\r\n          if (event && event.type === 'zoom') {\r\n              return;\r\n          }\r\n          if ($$.brush.empty() && event && event.type !== 'end') {\r\n              $$.brush.clear();\r\n          }\r\n      });\r\n      $$.brush.updateExtent = function () {\r\n          var range = this.scale.range(), extent;\r\n          if ($$.config.axis_rotated) {\r\n              extent = [\r\n                  [0, range[0]],\r\n                  [$$.width2, range[1]]\r\n              ];\r\n          }\r\n          else {\r\n              extent = [\r\n                  [range[0], 0],\r\n                  [range[1], $$.height2]\r\n              ];\r\n          }\r\n          this.extent(extent);\r\n          return this;\r\n      };\r\n      $$.brush.updateScale = function (scale) {\r\n          this.scale = scale;\r\n          return this;\r\n      };\r\n      $$.brush.update = function (scale) {\r\n          this.updateScale(scale || $$.subX).updateExtent();\r\n          $$.context.select('.' + CLASS.brush).call(this);\r\n      };\r\n      $$.brush.clear = function () {\r\n          $$.context.select('.' + CLASS.brush).call($$.brush.move, null);\r\n      };\r\n      $$.brush.selection = function () {\r\n          return d3.brushSelection($$.context.select('.' + CLASS.brush).node());\r\n      };\r\n      $$.brush.selectionAsValue = function (selectionAsValue, withTransition) {\r\n          var selection, brush;\r\n          if (selectionAsValue) {\r\n              if ($$.context) {\r\n                  selection = [\r\n                      this.scale(selectionAsValue[0]),\r\n                      this.scale(selectionAsValue[1])\r\n                  ];\r\n                  brush = $$.context.select('.' + CLASS.brush);\r\n                  if (withTransition) {\r\n                      brush = brush.transition();\r\n                  }\r\n                  $$.brush.move(brush, selection);\r\n              }\r\n              return [];\r\n          }\r\n          selection = $$.brush.selection() || [0, 0];\r\n          return [this.scale.invert(selection[0]), this.scale.invert(selection[1])];\r\n      };\r\n      $$.brush.empty = function () {\r\n          var selection = $$.brush.selection();\r\n          return !selection || selection[0] === selection[1];\r\n      };\r\n      return $$.brush.updateScale(scale);\r\n  };\r\n  ChartInternal.prototype.initSubchart = function () {\r\n      var $$ = this, config = $$.config, context = ($$.context = $$.svg\r\n          .append('g')\r\n          .attr('transform', $$.getTranslate('context')));\r\n      // set style\r\n      context.style('visibility', 'visible');\r\n      // Define g for chart area\r\n      context\r\n          .append('g')\r\n          .attr('clip-path', $$.clipPathForSubchart)\r\n          .attr('class', CLASS.chart);\r\n      // Define g for bar chart area\r\n      context\r\n          .select('.' + CLASS.chart)\r\n          .append('g')\r\n          .attr('class', CLASS.chartBars);\r\n      // Define g for line chart area\r\n      context\r\n          .select('.' + CLASS.chart)\r\n          .append('g')\r\n          .attr('class', CLASS.chartLines);\r\n      // Add extent rect for Brush\r\n      context\r\n          .append('g')\r\n          .attr('clip-path', $$.clipPath)\r\n          .attr('class', CLASS.brush);\r\n      // ATTENTION: This must be called AFTER chart added\r\n      // Add Axis\r\n      $$.axes.subx = context\r\n          .append('g')\r\n          .attr('class', CLASS.axisX)\r\n          .attr('transform', $$.getTranslate('subx'))\r\n          .attr('clip-path', config.axis_rotated ? '' : $$.clipPathForXAxis)\r\n          .style('visibility', config.subchart_axis_x_show ? 'visible' : 'hidden');\r\n  };\r\n  ChartInternal.prototype.initSubchartBrush = function () {\r\n      var $$ = this;\r\n      // Add extent rect for Brush\r\n      $$.initBrush($$.subX).updateExtent();\r\n      $$.context.select('.' + CLASS.brush).call($$.brush);\r\n  };\r\n  ChartInternal.prototype.updateTargetsForSubchart = function (targets) {\r\n      var $$ = this, context = $$.context, config = $$.config, contextLineEnter, contextLine, contextBarEnter, contextBar, classChartBar = $$.classChartBar.bind($$), classBars = $$.classBars.bind($$), classChartLine = $$.classChartLine.bind($$), classLines = $$.classLines.bind($$), classAreas = $$.classAreas.bind($$);\r\n      //-- Bar --//\r\n      contextBar = context\r\n          .select('.' + CLASS.chartBars)\r\n          .selectAll('.' + CLASS.chartBar)\r\n          .data(targets);\r\n      contextBarEnter = contextBar\r\n          .enter()\r\n          .append('g')\r\n          .style('opacity', 0);\r\n      contextBarEnter.merge(contextBar).attr('class', classChartBar);\r\n      // Bars for each data\r\n      contextBarEnter.append('g').attr('class', classBars);\r\n      //-- Line --//\r\n      contextLine = context\r\n          .select('.' + CLASS.chartLines)\r\n          .selectAll('.' + CLASS.chartLine)\r\n          .data(targets);\r\n      contextLineEnter = contextLine\r\n          .enter()\r\n          .append('g')\r\n          .style('opacity', 0);\r\n      contextLineEnter.merge(contextLine).attr('class', classChartLine);\r\n      // Lines for each data\r\n      contextLineEnter.append('g').attr('class', classLines);\r\n      // Area\r\n      contextLineEnter.append('g').attr('class', classAreas);\r\n      //-- Brush --//\r\n      context\r\n          .selectAll('.' + CLASS.brush + ' rect')\r\n          .attr(config.axis_rotated ? 'width' : 'height', config.axis_rotated ? $$.width2 : $$.height2);\r\n  };\r\n  ChartInternal.prototype.updateBarForSubchart = function (durationForExit) {\r\n      var $$ = this;\r\n      var contextBar = $$.context\r\n          .selectAll('.' + CLASS.bars)\r\n          .selectAll('.' + CLASS.bar)\r\n          .data($$.barData.bind($$));\r\n      var contextBarEnter = contextBar\r\n          .enter()\r\n          .append('path')\r\n          .attr('class', $$.classBar.bind($$))\r\n          .style('stroke', 'none')\r\n          .style('fill', $$.color);\r\n      contextBar\r\n          .exit()\r\n          .transition()\r\n          .duration(durationForExit)\r\n          .style('opacity', 0)\r\n          .remove();\r\n      $$.contextBar = contextBarEnter\r\n          .merge(contextBar)\r\n          .style('opacity', $$.initialOpacity.bind($$));\r\n  };\r\n  ChartInternal.prototype.redrawBarForSubchart = function (drawBarOnSub, withTransition, duration) {\r\n      (withTransition\r\n          ? this.contextBar.transition(Math.random().toString()).duration(duration)\r\n          : this.contextBar)\r\n          .attr('d', drawBarOnSub)\r\n          .style('opacity', 1);\r\n  };\r\n  ChartInternal.prototype.updateLineForSubchart = function (durationForExit) {\r\n      var $$ = this;\r\n      var contextLine = $$.context\r\n          .selectAll('.' + CLASS.lines)\r\n          .selectAll('.' + CLASS.line)\r\n          .data($$.lineData.bind($$));\r\n      var contextLineEnter = contextLine\r\n          .enter()\r\n          .append('path')\r\n          .attr('class', $$.classLine.bind($$))\r\n          .style('stroke', $$.color);\r\n      contextLine\r\n          .exit()\r\n          .transition()\r\n          .duration(durationForExit)\r\n          .style('opacity', 0)\r\n          .remove();\r\n      $$.contextLine = contextLineEnter\r\n          .merge(contextLine)\r\n          .style('opacity', $$.initialOpacity.bind($$));\r\n  };\r\n  ChartInternal.prototype.redrawLineForSubchart = function (drawLineOnSub, withTransition, duration) {\r\n      (withTransition\r\n          ? this.contextLine.transition(Math.random().toString()).duration(duration)\r\n          : this.contextLine)\r\n          .attr('d', drawLineOnSub)\r\n          .style('opacity', 1);\r\n  };\r\n  ChartInternal.prototype.updateAreaForSubchart = function (durationForExit) {\r\n      var $$ = this, d3 = $$.d3;\r\n      var contextArea = $$.context\r\n          .selectAll('.' + CLASS.areas)\r\n          .selectAll('.' + CLASS.area)\r\n          .data($$.lineData.bind($$));\r\n      var contextAreaEnter = contextArea\r\n          .enter()\r\n          .append('path')\r\n          .attr('class', $$.classArea.bind($$))\r\n          .style('fill', $$.color)\r\n          .style('opacity', function () {\r\n          $$.orgAreaOpacity = +d3.select(this).style('opacity');\r\n          return 0;\r\n      });\r\n      contextArea\r\n          .exit()\r\n          .transition()\r\n          .duration(durationForExit)\r\n          .style('opacity', 0)\r\n          .remove();\r\n      $$.contextArea = contextAreaEnter.merge(contextArea).style('opacity', 0);\r\n  };\r\n  ChartInternal.prototype.redrawAreaForSubchart = function (drawAreaOnSub, withTransition, duration) {\r\n      (withTransition\r\n          ? this.contextArea.transition(Math.random().toString()).duration(duration)\r\n          : this.contextArea)\r\n          .attr('d', drawAreaOnSub)\r\n          .style('fill', this.color)\r\n          .style('opacity', this.orgAreaOpacity);\r\n  };\r\n  ChartInternal.prototype.redrawSubchart = function (withSubchart, transitions, duration, durationForExit, areaIndices, barIndices, lineIndices) {\r\n      var $$ = this, d3 = $$.d3, drawAreaOnSub, drawBarOnSub, drawLineOnSub;\r\n      // reflect main chart to extent on subchart if zoomed\r\n      if (d3.event && d3.event.type === 'zoom') {\r\n          $$.brush.selectionAsValue($$.x.orgDomain());\r\n      }\r\n      // update subchart elements if needed\r\n      if (withSubchart) {\r\n          // extent rect\r\n          if (!$$.brush.empty()) {\r\n              $$.brush.selectionAsValue($$.x.orgDomain());\r\n          }\r\n          // setup drawer - MEMO: this must be called after axis updated\r\n          drawAreaOnSub = $$.generateDrawArea(areaIndices, true);\r\n          drawBarOnSub = $$.generateDrawBar(barIndices, true);\r\n          drawLineOnSub = $$.generateDrawLine(lineIndices, true);\r\n          $$.updateBarForSubchart(duration);\r\n          $$.updateLineForSubchart(duration);\r\n          $$.updateAreaForSubchart(duration);\r\n          $$.redrawBarForSubchart(drawBarOnSub, duration, duration);\r\n          $$.redrawLineForSubchart(drawLineOnSub, duration, duration);\r\n          $$.redrawAreaForSubchart(drawAreaOnSub, duration, duration);\r\n      }\r\n  };\r\n  ChartInternal.prototype.redrawForBrush = function () {\r\n      var $$ = this, x = $$.x, d3 = $$.d3, s;\r\n      $$.redraw({\r\n          withTransition: false,\r\n          withY: $$.config.zoom_rescale,\r\n          withSubchart: false,\r\n          withUpdateXDomain: true,\r\n          withEventRect: false,\r\n          withDimension: false\r\n      });\r\n      // update zoom transation binded to event rect\r\n      s = d3.event.selection || $$.brush.scale.range();\r\n      $$.main\r\n          .select('.' + CLASS.eventRect)\r\n          .call($$.zoom.transform, d3.zoomIdentity.scale($$.width / (s[1] - s[0])).translate(-s[0], 0));\r\n      $$.config.subchart_onbrush.call($$.api, x.orgDomain());\r\n  };\r\n  ChartInternal.prototype.transformContext = function (withTransition, transitions) {\r\n      var $$ = this, subXAxis;\r\n      if (transitions && transitions.axisSubX) {\r\n          subXAxis = transitions.axisSubX;\r\n      }\r\n      else {\r\n          subXAxis = $$.context.select('.' + CLASS.axisX);\r\n          if (withTransition) {\r\n              subXAxis = subXAxis.transition();\r\n          }\r\n      }\r\n      $$.context.attr('transform', $$.getTranslate('context'));\r\n      subXAxis.attr('transform', $$.getTranslate('subx'));\r\n  };\r\n  ChartInternal.prototype.getDefaultSelection = function () {\r\n      var $$ = this, config = $$.config, selection = isFunction(config.axis_x_selection)\r\n          ? config.axis_x_selection($$.getXDomain($$.data.targets))\r\n          : config.axis_x_selection;\r\n      if ($$.isTimeSeries()) {\r\n          selection = [$$.parseDate(selection[0]), $$.parseDate(selection[1])];\r\n      }\r\n      return selection;\r\n  };\r\n  ChartInternal.prototype.removeSubchart = function () {\r\n      var $$ = this;\r\n      $$.brush = null;\r\n      $$.context.remove();\r\n      $$.context = null;\r\n  };\n\n  ChartInternal.prototype.initText = function () {\r\n      var $$ = this;\r\n      $$.main\r\n          .select('.' + CLASS.chart)\r\n          .append('g')\r\n          .attr('class', CLASS.chartTexts);\r\n      $$.mainText = $$.d3.selectAll([]);\r\n  };\r\n  ChartInternal.prototype.updateTargetsForText = function (targets) {\r\n      var $$ = this, classChartText = $$.classChartText.bind($$), classTexts = $$.classTexts.bind($$), classFocus = $$.classFocus.bind($$);\r\n      var mainText = $$.main\r\n          .select('.' + CLASS.chartTexts)\r\n          .selectAll('.' + CLASS.chartText)\r\n          .data(targets);\r\n      var mainTextEnter = mainText\r\n          .enter()\r\n          .append('g')\r\n          .attr('class', classChartText)\r\n          .style('opacity', 0)\r\n          .style('pointer-events', 'none');\r\n      mainTextEnter.append('g').attr('class', classTexts);\r\n      mainTextEnter.merge(mainText).attr('class', function (d) {\r\n          return classChartText(d) + classFocus(d);\r\n      });\r\n  };\r\n  ChartInternal.prototype.updateText = function (xForText, yForText, durationForExit) {\r\n      var $$ = this, config = $$.config, barOrLineData = $$.barOrLineData.bind($$), classText = $$.classText.bind($$);\r\n      var mainText = $$.main\r\n          .selectAll('.' + CLASS.texts)\r\n          .selectAll('.' + CLASS.text)\r\n          .data(barOrLineData);\r\n      var mainTextEnter = mainText\r\n          .enter()\r\n          .append('text')\r\n          .attr('class', classText)\r\n          .attr('text-anchor', function (d) {\r\n          return config.axis_rotated ? (d.value < 0 ? 'end' : 'start') : 'middle';\r\n      })\r\n          .style('stroke', 'none')\r\n          .attr('x', xForText)\r\n          .attr('y', yForText)\r\n          .style('fill', function (d) {\r\n          return $$.color(d);\r\n      })\r\n          .style('fill-opacity', 0);\r\n      $$.mainText = mainTextEnter.merge(mainText).text(function (d, i, j) {\r\n          return $$.dataLabelFormat(d.id)(d.value, d.id, i, j);\r\n      });\r\n      mainText\r\n          .exit()\r\n          .transition()\r\n          .duration(durationForExit)\r\n          .style('fill-opacity', 0)\r\n          .remove();\r\n  };\r\n  ChartInternal.prototype.redrawText = function (xForText, yForText, forFlow, withTransition, transition) {\r\n      return [\r\n          (withTransition ? this.mainText.transition(transition) : this.mainText)\r\n              .attr('x', xForText)\r\n              .attr('y', yForText)\r\n              .style('fill', this.color)\r\n              .style('fill-opacity', forFlow ? 0 : this.opacityForText.bind(this))\r\n      ];\r\n  };\r\n  ChartInternal.prototype.getTextRect = function (text, cls, element) {\r\n      var dummy = this.d3\r\n          .select('body')\r\n          .append('div')\r\n          .classed('c3', true), svg = dummy\r\n          .append('svg')\r\n          .style('visibility', 'hidden')\r\n          .style('position', 'fixed')\r\n          .style('top', 0)\r\n          .style('left', 0), font = this.d3.select(element).style('font'), rect;\r\n      svg\r\n          .selectAll('.dummy')\r\n          .data([text])\r\n          .enter()\r\n          .append('text')\r\n          .classed(cls ? cls : '', true)\r\n          .style('font', font)\r\n          .text(text)\r\n          .each(function () {\r\n          rect = getBBox(this);\r\n      });\r\n      dummy.remove();\r\n      return rect;\r\n  };\r\n  ChartInternal.prototype.generateXYForText = function (areaIndices, barIndices, lineIndices, forX) {\r\n      var $$ = this, getAreaPoints = $$.generateGetAreaPoints(areaIndices, false), getBarPoints = $$.generateGetBarPoints(barIndices, false), getLinePoints = $$.generateGetLinePoints(lineIndices, false), getter = forX ? $$.getXForText : $$.getYForText;\r\n      return function (d, i) {\r\n          var getPoints = $$.isAreaType(d)\r\n              ? getAreaPoints\r\n              : $$.isBarType(d)\r\n                  ? getBarPoints\r\n                  : getLinePoints;\r\n          return getter.call($$, getPoints(d, i), d, this);\r\n      };\r\n  };\r\n  ChartInternal.prototype.getXForText = function (points, d, textElement) {\r\n      var $$ = this, box = getBBox(textElement), xPos, padding;\r\n      if ($$.config.axis_rotated) {\r\n          padding = $$.isBarType(d) ? 4 : 6;\r\n          xPos = points[2][1] + padding * (d.value < 0 ? -1 : 1);\r\n      }\r\n      else {\r\n          xPos = $$.hasType('bar') ? (points[2][0] + points[0][0]) / 2 : points[0][0];\r\n      }\r\n      // show labels regardless of the domain if value is null\r\n      if (d.value === null) {\r\n          if (xPos > $$.width) {\r\n              xPos = $$.width - box.width;\r\n          }\r\n          else if (xPos < 0) {\r\n              xPos = 4;\r\n          }\r\n      }\r\n      return xPos;\r\n  };\r\n  ChartInternal.prototype.getYForText = function (points, d, textElement) {\r\n      var $$ = this, box = getBBox(textElement), yPos;\r\n      if ($$.config.axis_rotated) {\r\n          yPos = (points[0][0] + points[2][0] + box.height * 0.6) / 2;\r\n      }\r\n      else {\r\n          yPos = points[2][1];\r\n          if (d.value < 0 || (d.value === 0 && !$$.hasPositiveValue)) {\r\n              yPos += box.height;\r\n              if ($$.isBarType(d) && $$.isSafari()) {\r\n                  yPos -= 3;\r\n              }\r\n              else if (!$$.isBarType(d) && $$.isChrome()) {\r\n                  yPos += 3;\r\n              }\r\n          }\r\n          else {\r\n              yPos += $$.isBarType(d) ? -3 : -6;\r\n          }\r\n      }\r\n      // show labels regardless of the domain if value is null\r\n      if (d.value === null && !$$.config.axis_rotated) {\r\n          if (yPos < box.height) {\r\n              yPos = box.height;\r\n          }\r\n          else if (yPos > this.height) {\r\n              yPos = this.height - 4;\r\n          }\r\n      }\r\n      return yPos;\r\n  };\n\n  ChartInternal.prototype.initTitle = function () {\r\n      var $$ = this;\r\n      $$.title = $$.svg\r\n          .append('text')\r\n          .text($$.config.title_text)\r\n          .attr('class', $$.CLASS.title);\r\n  };\r\n  ChartInternal.prototype.redrawTitle = function () {\r\n      var $$ = this;\r\n      $$.title.attr('x', $$.xForTitle.bind($$)).attr('y', $$.yForTitle.bind($$));\r\n  };\r\n  ChartInternal.prototype.xForTitle = function () {\r\n      var $$ = this, config = $$.config, position = config.title_position || 'left', x;\r\n      if (position.indexOf('right') >= 0) {\r\n          x =\r\n              $$.currentWidth -\r\n                  $$.getTextRect($$.title.node().textContent, $$.CLASS.title, $$.title.node()).width -\r\n                  config.title_padding.right;\r\n      }\r\n      else if (position.indexOf('center') >= 0) {\r\n          x = Math.max(($$.currentWidth -\r\n              $$.getTextRect($$.title.node().textContent, $$.CLASS.title, $$.title.node()).width) /\r\n              2, 0);\r\n      }\r\n      else {\r\n          // left\r\n          x = config.title_padding.left;\r\n      }\r\n      return x;\r\n  };\r\n  ChartInternal.prototype.yForTitle = function () {\r\n      var $$ = this;\r\n      return ($$.config.title_padding.top +\r\n          $$.getTextRect($$.title.node().textContent, $$.CLASS.title, $$.title.node())\r\n              .height);\r\n  };\r\n  ChartInternal.prototype.getTitlePadding = function () {\r\n      var $$ = this;\r\n      return $$.yForTitle() + $$.config.title_padding.bottom;\r\n  };\n\n  function powerOfTen(d) {\r\n      return d / Math.pow(10, Math.ceil(Math.log(d) / Math.LN10 - 1e-12)) === 1;\r\n  }\r\n  ChartInternal.prototype.drawColorScale = function () {\r\n      var $$ = this, d3 = $$.d3, config = $$.config, target = $$.data.targets[0], barWidth, barHeight, axis, points, legendAxis, axisScale, inverseScale, height;\r\n      barWidth = !isNaN(config.stanford_scaleWidth)\r\n          ? config.stanford_scaleWidth\r\n          : 20;\r\n      barHeight = 5;\r\n      if (barHeight < 0 || barWidth < 0) {\r\n          throw Error(\"Colorscale's barheight and barwidth must be greater than 0.\");\r\n      }\r\n      height =\r\n          $$.height - config.stanford_padding.bottom - config.stanford_padding.top;\r\n      points = d3.range(config.stanford_padding.bottom, height, barHeight);\r\n      inverseScale = d3\r\n          .scaleSequential(target.colors)\r\n          .domain([points[points.length - 1], points[0]]);\r\n      if ($$.colorScale) {\r\n          $$.colorScale.remove();\r\n      }\r\n      $$.colorScale = $$.svg\r\n          .append('g')\r\n          .attr('width', 50)\r\n          .attr('height', height)\r\n          .attr('class', CLASS.colorScale);\r\n      $$.colorScale\r\n          .append('g')\r\n          .attr('transform', \"translate(0, \" + config.stanford_padding.top + \")\")\r\n          .selectAll('bars')\r\n          .data(points)\r\n          .enter()\r\n          .append('rect')\r\n          .attr('y', function (d, i) { return i * barHeight; })\r\n          .attr('x', 0)\r\n          .attr('width', barWidth)\r\n          .attr('height', barHeight)\r\n          .attr('fill', function (d) {\r\n          return inverseScale(d);\r\n      });\r\n      // Legend Axis\r\n      axisScale = d3\r\n          .scaleLog()\r\n          .domain([target.minEpochs, target.maxEpochs])\r\n          .range([\r\n          points[0] +\r\n              config.stanford_padding.top +\r\n              points[points.length - 1] +\r\n              barHeight -\r\n              1,\r\n          points[0] + config.stanford_padding.top\r\n      ]);\r\n      legendAxis = d3.axisRight(axisScale);\r\n      if (config.stanford_scaleFormat === 'pow10') {\r\n          legendAxis.tickValues([1, 10, 100, 1000, 10000, 100000, 1000000, 10000000]);\r\n      }\r\n      else if (isFunction(config.stanford_scaleFormat)) {\r\n          legendAxis.tickFormat(config.stanford_scaleFormat);\r\n      }\r\n      else {\r\n          legendAxis.tickFormat(d3.format('d'));\r\n      }\r\n      if (isFunction(config.stanford_scaleValues)) {\r\n          legendAxis.tickValues(config.stanford_scaleValues(target.minEpochs, target.maxEpochs));\r\n      }\r\n      // Draw Axis\r\n      axis = $$.colorScale\r\n          .append('g')\r\n          .attr('class', 'legend axis')\r\n          .attr('transform', \"translate(\" + barWidth + \",0)\")\r\n          .call(legendAxis);\r\n      if (config.stanford_scaleFormat === 'pow10') {\r\n          axis\r\n              .selectAll('.tick text')\r\n              .text(null)\r\n              .filter(powerOfTen)\r\n              .text(10)\r\n              .append('tspan')\r\n              .attr('dy', '-.7em') // https://bl.ocks.org/mbostock/6738229\r\n              .text(function (d) {\r\n              return Math.round(Math.log(d) / Math.LN10);\r\n          });\r\n      }\r\n      $$.colorScale.attr('transform', \"translate(\" + ($$.currentWidth - $$.xForColorScale()) + \", 0)\");\r\n  };\r\n  ChartInternal.prototype.xForColorScale = function () {\r\n      var $$ = this;\r\n      return $$.config.stanford_padding.right + getBBox($$.colorScale.node()).width;\r\n  };\r\n  ChartInternal.prototype.getColorScalePadding = function () {\r\n      var $$ = this;\r\n      return $$.xForColorScale() + $$.config.stanford_padding.left + 20;\r\n  };\n\n  ChartInternal.prototype.isStanfordGraphType = function () {\r\n      var $$ = this;\r\n      return $$.config.data_type === 'stanford';\r\n  };\r\n  ChartInternal.prototype.initStanfordData = function () {\r\n      var $$ = this, d3 = $$.d3, config = $$.config, target = $$.data.targets[0], epochs, maxEpochs, minEpochs;\r\n      // Make larger values appear on top\r\n      target.values.sort(compareEpochs);\r\n      // Get array of epochs\r\n      epochs = target.values.map(function (a) { return a.epochs; });\r\n      minEpochs = !isNaN(config.stanford_scaleMin)\r\n          ? config.stanford_scaleMin\r\n          : d3.min(epochs);\r\n      maxEpochs = !isNaN(config.stanford_scaleMax)\r\n          ? config.stanford_scaleMax\r\n          : d3.max(epochs);\r\n      if (minEpochs > maxEpochs) {\r\n          throw Error('Number of minEpochs has to be smaller than maxEpochs');\r\n      }\r\n      target.colors = isFunction(config.stanford_colors)\r\n          ? config.stanford_colors\r\n          : d3.interpolateHslLong(d3.hsl(250, 1, 0.5), d3.hsl(0, 1, 0.5));\r\n      target.colorscale = d3\r\n          .scaleSequentialLog(target.colors)\r\n          .domain([minEpochs, maxEpochs]);\r\n      target.minEpochs = minEpochs;\r\n      target.maxEpochs = maxEpochs;\r\n  };\r\n  ChartInternal.prototype.getStanfordPointColor = function (d) {\r\n      var $$ = this, target = $$.data.targets[0];\r\n      return target.colorscale(d.epochs);\r\n  };\r\n  // http://jsfiddle.net/Xotic750/KtzLq/\r\n  ChartInternal.prototype.getCentroid = function (points) {\r\n      var area = getRegionArea(points);\r\n      var x = 0, y = 0, i, j, f, point1, point2;\r\n      for (i = 0, j = points.length - 1; i < points.length; j = i, i += 1) {\r\n          point1 = points[i];\r\n          point2 = points[j];\r\n          f = point1.x * point2.y - point2.x * point1.y;\r\n          x += (point1.x + point2.x) * f;\r\n          y += (point1.y + point2.y) * f;\r\n      }\r\n      f = area * 6;\r\n      return {\r\n          x: x / f,\r\n          y: y / f\r\n      };\r\n  };\r\n  ChartInternal.prototype.getStanfordTooltipTitle = function (d) {\r\n      var $$ = this, labelX = $$.axis.getLabelText('x'), labelY = $$.axis.getLabelText('y');\r\n      return \"\\n      <tr><th>\" + (labelX ? sanitise(labelX) : 'x') + \"</th><th class='value'>\" + d.x + \"</th></tr>\\n      <tr><th>\" + (labelY ? sanitise(labelY) : 'y') + \"</th><th class='value'>\" + d.value + \"</th></tr>\\n    \";\r\n  };\r\n  ChartInternal.prototype.countEpochsInRegion = function (region) {\r\n      var $$ = this, target = $$.data.targets[0], total, count;\r\n      total = target.values.reduce(function (accumulator, currentValue) { return accumulator + Number(currentValue.epochs); }, 0);\r\n      count = target.values.reduce(function (accumulator, currentValue) {\r\n          if (pointInRegion(currentValue, region)) {\r\n              return accumulator + Number(currentValue.epochs);\r\n          }\r\n          return accumulator;\r\n      }, 0);\r\n      return {\r\n          value: count,\r\n          percentage: count !== 0 ? ((count / total) * 100).toFixed(1) : 0\r\n      };\r\n  };\r\n  var getRegionArea = function (points) {\r\n      // thanks to: https://stackoverflow.com/questions/16282330/find-centerpoint-of-polygon-in-javascript\r\n      var area = 0, i, j, point1, point2;\r\n      for (i = 0, j = points.length - 1; i < points.length; j = i, i += 1) {\r\n          point1 = points[i];\r\n          point2 = points[j];\r\n          area += point1.x * point2.y;\r\n          area -= point1.y * point2.x;\r\n      }\r\n      area /= 2;\r\n      return area;\r\n  };\r\n  var pointInRegion = function (point, region) {\r\n      // thanks to: http://bl.ocks.org/bycoffe/5575904\r\n      // ray-casting algorithm based on\r\n      // http://www.ecse.rpi.edu/Homepages/wrf/Research/Short_Notes/pnpoly.html\r\n      var xi, yi, yj, xj, intersect, x = point.x, y = point.value, inside = false;\r\n      for (var i = 0, j = region.length - 1; i < region.length; j = i++) {\r\n          xi = region[i].x;\r\n          yi = region[i].y;\r\n          xj = region[j].x;\r\n          yj = region[j].y;\r\n          intersect = yi > y !== yj > y && x < ((xj - xi) * (y - yi)) / (yj - yi) + xi;\r\n          if (intersect) {\r\n              inside = !inside;\r\n          }\r\n      }\r\n      return inside;\r\n  };\r\n  var compareEpochs = function (a, b) {\r\n      if (a.epochs < b.epochs) {\r\n          return -1;\r\n      }\r\n      if (a.epochs > b.epochs) {\r\n          return 1;\r\n      }\r\n      return 0;\r\n  };\n\n  ChartInternal.prototype.initStanfordElements = function () {\r\n      var $$ = this;\r\n      // Avoid blocking eventRect\r\n      $$.stanfordElements = $$.main\r\n          .select('.' + CLASS.chart)\r\n          .append('g')\r\n          .attr('class', CLASS.stanfordElements);\r\n      $$.stanfordElements.append('g').attr('class', CLASS.stanfordLines);\r\n      $$.stanfordElements.append('g').attr('class', CLASS.stanfordTexts);\r\n      $$.stanfordElements.append('g').attr('class', CLASS.stanfordRegions);\r\n  };\r\n  ChartInternal.prototype.updateStanfordElements = function (duration) {\r\n      var $$ = this, main = $$.main, config = $$.config, stanfordLine, stanfordLineEnter, stanfordRegion, stanfordRegionEnter, stanfordText, stanfordTextEnter, xvCustom = $$.xvCustom.bind($$), yvCustom = $$.yvCustom.bind($$), countPointsInRegion = $$.countEpochsInRegion.bind($$);\r\n      // Stanford-Lines\r\n      stanfordLine = main\r\n          .select('.' + CLASS.stanfordLines)\r\n          .style('shape-rendering', 'geometricprecision')\r\n          .selectAll('.' + CLASS.stanfordLine)\r\n          .data(config.stanford_lines);\r\n      // enter\r\n      stanfordLineEnter = stanfordLine\r\n          .enter()\r\n          .append('g')\r\n          .attr('class', function (d) {\r\n          return CLASS.stanfordLine + (d['class'] ? ' ' + d['class'] : '');\r\n      });\r\n      stanfordLineEnter\r\n          .append('line')\r\n          .attr('x1', function (d) {\r\n          return config.axis_rotated ? yvCustom(d, 'value_y1') : xvCustom(d, 'value_x1');\r\n      })\r\n          .attr('x2', function (d) {\r\n          return config.axis_rotated ? yvCustom(d, 'value_y2') : xvCustom(d, 'value_x2');\r\n      })\r\n          .attr('y1', function (d) {\r\n          return config.axis_rotated ? xvCustom(d, 'value_x1') : yvCustom(d, 'value_y1');\r\n      })\r\n          .attr('y2', function (d) {\r\n          return config.axis_rotated ? xvCustom(d, 'value_x2') : yvCustom(d, 'value_y2');\r\n      })\r\n          .style('opacity', 0);\r\n      // update\r\n      $$.stanfordLines = stanfordLineEnter.merge(stanfordLine);\r\n      $$.stanfordLines\r\n          .select('line')\r\n          .transition()\r\n          .duration(duration)\r\n          .attr('x1', function (d) {\r\n          return config.axis_rotated ? yvCustom(d, 'value_y1') : xvCustom(d, 'value_x1');\r\n      })\r\n          .attr('x2', function (d) {\r\n          return config.axis_rotated ? yvCustom(d, 'value_y2') : xvCustom(d, 'value_x2');\r\n      })\r\n          .attr('y1', function (d) {\r\n          return config.axis_rotated ? xvCustom(d, 'value_x1') : yvCustom(d, 'value_y1');\r\n      })\r\n          .attr('y2', function (d) {\r\n          return config.axis_rotated ? xvCustom(d, 'value_x2') : yvCustom(d, 'value_y2');\r\n      })\r\n          .style('opacity', 1);\r\n      // exit\r\n      stanfordLine\r\n          .exit()\r\n          .transition()\r\n          .duration(duration)\r\n          .style('opacity', 0)\r\n          .remove();\r\n      // Stanford-Text\r\n      stanfordText = main\r\n          .select('.' + CLASS.stanfordTexts)\r\n          .selectAll('.' + CLASS.stanfordText)\r\n          .data(config.stanford_texts);\r\n      // enter\r\n      stanfordTextEnter = stanfordText\r\n          .enter()\r\n          .append('g')\r\n          .attr('class', function (d) {\r\n          return CLASS.stanfordText + (d['class'] ? ' ' + d['class'] : '');\r\n      });\r\n      stanfordTextEnter\r\n          .append('text')\r\n          .attr('x', function (d) { return (config.axis_rotated ? yvCustom(d, 'y') : xvCustom(d, 'x')); })\r\n          .attr('y', function (d) { return (config.axis_rotated ? xvCustom(d, 'x') : yvCustom(d, 'y')); })\r\n          .style('opacity', 0);\r\n      // update\r\n      $$.stanfordTexts = stanfordTextEnter.merge(stanfordText);\r\n      $$.stanfordTexts\r\n          .select('text')\r\n          .transition()\r\n          .duration(duration)\r\n          .attr('x', function (d) { return (config.axis_rotated ? yvCustom(d, 'y') : xvCustom(d, 'x')); })\r\n          .attr('y', function (d) { return (config.axis_rotated ? xvCustom(d, 'x') : yvCustom(d, 'y')); })\r\n          .text(function (d) {\r\n          return d.content;\r\n      })\r\n          .style('opacity', 1);\r\n      // exit\r\n      stanfordText\r\n          .exit()\r\n          .transition()\r\n          .duration(duration)\r\n          .style('opacity', 0)\r\n          .remove();\r\n      // Stanford-Regions\r\n      stanfordRegion = main\r\n          .select('.' + CLASS.stanfordRegions)\r\n          .selectAll('.' + CLASS.stanfordRegion)\r\n          .data(config.stanford_regions);\r\n      // enter\r\n      stanfordRegionEnter = stanfordRegion\r\n          .enter()\r\n          .append('g')\r\n          .attr('class', function (d) {\r\n          return CLASS.stanfordRegion + (d['class'] ? ' ' + d['class'] : '');\r\n      });\r\n      stanfordRegionEnter\r\n          .append('polygon')\r\n          .attr('points', function (d) {\r\n          return d.points\r\n              .map(function (value) {\r\n              return [\r\n                  config.axis_rotated ? yvCustom(value, 'y') : xvCustom(value, 'x'),\r\n                  config.axis_rotated ? xvCustom(value, 'x') : yvCustom(value, 'y')\r\n              ].join(',');\r\n          })\r\n              .join(' ');\r\n      })\r\n          .style('opacity', 0);\r\n      stanfordRegionEnter\r\n          .append('text')\r\n          .attr('x', function (d) { return $$.getCentroid(d.points).x; })\r\n          .attr('y', function (d) { return $$.getCentroid(d.points).y; })\r\n          .style('opacity', 0);\r\n      // update\r\n      $$.stanfordRegions = stanfordRegionEnter.merge(stanfordRegion);\r\n      $$.stanfordRegions\r\n          .select('polygon')\r\n          .transition()\r\n          .duration(duration)\r\n          .attr('points', function (d) {\r\n          return d.points\r\n              .map(function (value) {\r\n              return [\r\n                  config.axis_rotated ? yvCustom(value, 'y') : xvCustom(value, 'x'),\r\n                  config.axis_rotated ? xvCustom(value, 'x') : yvCustom(value, 'y')\r\n              ].join(',');\r\n          })\r\n              .join(' ');\r\n      })\r\n          .style('opacity', function (d) {\r\n          return d.opacity ? d.opacity : 0.2;\r\n      });\r\n      $$.stanfordRegions\r\n          .select('text')\r\n          .transition()\r\n          .duration(duration)\r\n          .attr('x', function (d) {\r\n          return config.axis_rotated\r\n              ? yvCustom($$.getCentroid(d.points), 'y')\r\n              : xvCustom($$.getCentroid(d.points), 'x');\r\n      })\r\n          .attr('y', function (d) {\r\n          return config.axis_rotated\r\n              ? xvCustom($$.getCentroid(d.points), 'x')\r\n              : yvCustom($$.getCentroid(d.points), 'y');\r\n      })\r\n          .text(function (d) {\r\n          if (d.text) {\r\n              var value, percentage, temp;\r\n              if ($$.isStanfordGraphType()) {\r\n                  temp = countPointsInRegion(d.points);\r\n                  value = temp.value;\r\n                  percentage = temp.percentage;\r\n              }\r\n              return d.text(value, percentage);\r\n          }\r\n          return '';\r\n      })\r\n          .attr('text-anchor', 'middle')\r\n          .attr('dominant-baseline', 'middle')\r\n          .style('opacity', 1);\r\n      // exit\r\n      stanfordRegion\r\n          .exit()\r\n          .transition()\r\n          .duration(duration)\r\n          .style('opacity', 0)\r\n          .remove();\r\n  };\n\n  ChartInternal.prototype.initTooltip = function () {\r\n      var $$ = this, config = $$.config, i;\r\n      $$.tooltip = $$.selectChart\r\n          .style('position', 'relative')\r\n          .append('div')\r\n          .attr('class', CLASS.tooltipContainer)\r\n          .style('position', 'absolute')\r\n          .style('pointer-events', 'none')\r\n          .style('display', 'none');\r\n      // Show tooltip if needed\r\n      if (config.tooltip_init_show) {\r\n          if ($$.isTimeSeries() && isString(config.tooltip_init_x)) {\r\n              config.tooltip_init_x = $$.parseDate(config.tooltip_init_x);\r\n              for (i = 0; i < $$.data.targets[0].values.length; i++) {\r\n                  if ($$.data.targets[0].values[i].x - config.tooltip_init_x === 0) {\r\n                      break;\r\n                  }\r\n              }\r\n              config.tooltip_init_x = i;\r\n          }\r\n          $$.tooltip.html(config.tooltip_contents.call($$, $$.data.targets.map(function (d) {\r\n              return $$.addName(d.values[config.tooltip_init_x]);\r\n          }), $$.axis.getXAxisTickFormat(), $$.getYFormat($$.hasArcType()), $$.color));\r\n          $$.tooltip\r\n              .style('top', config.tooltip_init_position.top)\r\n              .style('left', config.tooltip_init_position.left)\r\n              .style('display', 'block');\r\n      }\r\n  };\r\n  ChartInternal.prototype.getTooltipSortFunction = function () {\r\n      var $$ = this, config = $$.config;\r\n      if (config.data_groups.length === 0 || config.tooltip_order !== undefined) {\r\n          // if data are not grouped or if an order is specified\r\n          // for the tooltip values we sort them by their values\r\n          var order = config.tooltip_order;\r\n          if (order === undefined) {\r\n              order = config.data_order;\r\n          }\r\n          var valueOf = function (obj) {\r\n              return obj ? obj.value : null;\r\n          };\r\n          // if data are not grouped, we sort them by their value\r\n          if (isString(order) && order.toLowerCase() === 'asc') {\r\n              return function (a, b) {\r\n                  return valueOf(a) - valueOf(b);\r\n              };\r\n          }\r\n          else if (isString(order) && order.toLowerCase() === 'desc') {\r\n              return function (a, b) {\r\n                  return valueOf(b) - valueOf(a);\r\n              };\r\n          }\r\n          else if (isFunction(order)) {\r\n              // if the function is from data_order we need\r\n              // to wrap the returned function in order to format\r\n              // the sorted value to the expected format\r\n              var sortFunction = order;\r\n              if (config.tooltip_order === undefined) {\r\n                  sortFunction = function (a, b) {\r\n                      return order(a\r\n                          ? {\r\n                              id: a.id,\r\n                              values: [a]\r\n                          }\r\n                          : null, b\r\n                          ? {\r\n                              id: b.id,\r\n                              values: [b]\r\n                          }\r\n                          : null);\r\n                  };\r\n              }\r\n              return sortFunction;\r\n          }\r\n          else if (isArray(order)) {\r\n              return function (a, b) {\r\n                  return order.indexOf(a.id) - order.indexOf(b.id);\r\n              };\r\n          }\r\n      }\r\n      else {\r\n          // if data are grouped, we follow the order of grouped targets\r\n          var ids = $$.orderTargets($$.data.targets).map(function (i) {\r\n              return i.id;\r\n          });\r\n          // if it was either asc or desc we need to invert the order\r\n          // returned by orderTargets\r\n          if ($$.isOrderAsc() || $$.isOrderDesc()) {\r\n              ids = ids.reverse();\r\n          }\r\n          return function (a, b) {\r\n              return ids.indexOf(a.id) - ids.indexOf(b.id);\r\n          };\r\n      }\r\n  };\r\n  ChartInternal.prototype.getTooltipContent = function (d, defaultTitleFormat, defaultValueFormat, color) {\r\n      var $$ = this, config = $$.config, titleFormat = config.tooltip_format_title || defaultTitleFormat, nameFormat = config.tooltip_format_name ||\r\n          function (name) {\r\n              return name;\r\n          }, text, i, title, value, name, bgcolor;\r\n      var valueFormat = config.tooltip_format_value;\r\n      if (!valueFormat) {\r\n          valueFormat = $$.isTargetNormalized(d.id)\r\n              ? function (v, ratio) { return (ratio * 100).toFixed(2) + \"%\"; }\r\n              : defaultValueFormat;\r\n      }\r\n      var tooltipSortFunction = this.getTooltipSortFunction();\r\n      if (tooltipSortFunction) {\r\n          d.sort(tooltipSortFunction);\r\n      }\r\n      for (i = 0; i < d.length; i++) {\r\n          if (!(d[i] && (d[i].value || d[i].value === 0))) {\r\n              continue;\r\n          }\r\n          if ($$.isStanfordGraphType()) {\r\n              // Custom tooltip for stanford plots\r\n              if (!text) {\r\n                  title = $$.getStanfordTooltipTitle(d[i]);\r\n                  text = \"<table class='\" + $$.CLASS.tooltip + \"'>\" + title;\r\n              }\r\n              bgcolor = $$.getStanfordPointColor(d[i]);\r\n              name = sanitise(config.data_epochs); // Epochs key name\r\n              value = d[i].epochs;\r\n          }\r\n          else {\r\n              // Regular tooltip\r\n              if (!text) {\r\n                  title = sanitise(titleFormat ? titleFormat(d[i].x, d[i].index) : d[i].x);\r\n                  text =\r\n                      \"<table class='\" +\r\n                          $$.CLASS.tooltip +\r\n                          \"'>\" +\r\n                          (title || title === 0\r\n                              ? \"<tr><th colspan='2'>\" + title + '</th></tr>'\r\n                              : '');\r\n              }\r\n              value = sanitise(valueFormat(d[i].value, d[i].ratio, d[i].id, d[i].index, d));\r\n              if (value !== undefined) {\r\n                  // Skip elements when their name is set to null\r\n                  if (d[i].name === null) {\r\n                      continue;\r\n                  }\r\n                  name = sanitise(nameFormat(d[i].name, d[i].ratio, d[i].id, d[i].index));\r\n                  bgcolor = $$.levelColor ? $$.levelColor(d[i].value) : color(d[i].id);\r\n              }\r\n          }\r\n          if (value !== undefined) {\r\n              text +=\r\n                  \"<tr class='\" +\r\n                      $$.CLASS.tooltipName +\r\n                      '-' +\r\n                      $$.getTargetSelectorSuffix(d[i].id) +\r\n                      \"'>\";\r\n              text +=\r\n                  \"<td class='name'><span style='background-color:\" +\r\n                      bgcolor +\r\n                      \"'></span>\" +\r\n                      name +\r\n                      '</td>';\r\n              text += \"<td class='value'>\" + value + '</td>';\r\n              text += '</tr>';\r\n          }\r\n      }\r\n      return text + '</table>';\r\n  };\r\n  ChartInternal.prototype.tooltipPosition = function (dataToShow, tWidth, tHeight, element) {\r\n      var $$ = this, config = $$.config, d3 = $$.d3;\r\n      var svgLeft, tooltipLeft, tooltipRight, tooltipTop, chartRight;\r\n      var forArc = $$.hasArcType(), mouse = d3.mouse(element);\r\n      // Determin tooltip position\r\n      if (forArc) {\r\n          tooltipLeft =\r\n              ($$.width - ($$.isLegendRight ? $$.getLegendWidth() : 0)) / 2 + mouse[0];\r\n          tooltipTop =\r\n              ($$.hasType('gauge') ? $$.height : $$.height / 2) + mouse[1] + 20;\r\n      }\r\n      else {\r\n          svgLeft = $$.getSvgLeft(true);\r\n          if (config.axis_rotated) {\r\n              tooltipLeft = svgLeft + mouse[0] + 100;\r\n              tooltipRight = tooltipLeft + tWidth;\r\n              chartRight = $$.currentWidth - $$.getCurrentPaddingRight();\r\n              tooltipTop = $$.x(dataToShow[0].x) + 20;\r\n          }\r\n          else {\r\n              tooltipLeft =\r\n                  svgLeft + $$.getCurrentPaddingLeft(true) + $$.x(dataToShow[0].x) + 20;\r\n              tooltipRight = tooltipLeft + tWidth;\r\n              chartRight = svgLeft + $$.currentWidth - $$.getCurrentPaddingRight();\r\n              tooltipTop = mouse[1] + 15;\r\n          }\r\n          if (tooltipRight > chartRight) {\r\n              // 20 is needed for Firefox to keep tooltip width\r\n              tooltipLeft -= tooltipRight - chartRight + 20;\r\n          }\r\n          if (tooltipTop + tHeight > $$.currentHeight) {\r\n              tooltipTop -= tHeight + 30;\r\n          }\r\n      }\r\n      if (tooltipTop < 0) {\r\n          tooltipTop = 0;\r\n      }\r\n      return {\r\n          top: tooltipTop,\r\n          left: tooltipLeft\r\n      };\r\n  };\r\n  ChartInternal.prototype.showTooltip = function (selectedData, element) {\r\n      var $$ = this, config = $$.config;\r\n      var tWidth, tHeight, position;\r\n      var forArc = $$.hasArcType(), dataToShow = selectedData.filter(function (d) {\r\n          return d && isValue(d.value);\r\n      }), positionFunction = config.tooltip_position || ChartInternal.prototype.tooltipPosition;\r\n      if (dataToShow.length === 0 || !config.tooltip_show) {\r\n          $$.hideTooltip();\r\n          return;\r\n      }\r\n      $$.tooltip\r\n          .html(config.tooltip_contents.call($$, selectedData, $$.axis.getXAxisTickFormat(), $$.getYFormat(forArc), $$.color))\r\n          .style('display', 'block');\r\n      // Get tooltip dimensions\r\n      tWidth = $$.tooltip.property('offsetWidth');\r\n      tHeight = $$.tooltip.property('offsetHeight');\r\n      position = positionFunction.call(this, dataToShow, tWidth, tHeight, element);\r\n      // Set tooltip\r\n      $$.tooltip\r\n          .style('top', position.top + 'px')\r\n          .style('left', position.left + 'px');\r\n  };\r\n  ChartInternal.prototype.hideTooltip = function () {\r\n      this.tooltip.style('display', 'none');\r\n  };\n\n  ChartInternal.prototype.setTargetType = function (targetIds, type) {\r\n      var $$ = this, config = $$.config;\r\n      $$.mapToTargetIds(targetIds).forEach(function (id) {\r\n          $$.withoutFadeIn[id] = type === config.data_types[id];\r\n          config.data_types[id] = type;\r\n      });\r\n      if (!targetIds) {\r\n          config.data_type = type;\r\n      }\r\n  };\r\n  ChartInternal.prototype.hasType = function (type, targets) {\r\n      var $$ = this, types = $$.config.data_types, has = false;\r\n      targets = targets || $$.data.targets;\r\n      if (targets && targets.length) {\r\n          targets.forEach(function (target) {\r\n              var t = types[target.id];\r\n              if ((t && t.indexOf(type) >= 0) || (!t && type === 'line')) {\r\n                  has = true;\r\n              }\r\n          });\r\n      }\r\n      else if (Object.keys(types).length) {\r\n          Object.keys(types).forEach(function (id) {\r\n              if (types[id] === type) {\r\n                  has = true;\r\n              }\r\n          });\r\n      }\r\n      else {\r\n          has = $$.config.data_type === type;\r\n      }\r\n      return has;\r\n  };\r\n  ChartInternal.prototype.hasArcType = function (targets) {\r\n      return (this.hasType('pie', targets) ||\r\n          this.hasType('donut', targets) ||\r\n          this.hasType('gauge', targets));\r\n  };\r\n  ChartInternal.prototype.isLineType = function (d) {\r\n      var config = this.config, id = isString(d) ? d : d.id;\r\n      return (!config.data_types[id] ||\r\n          ['line', 'spline', 'area', 'area-spline', 'step', 'area-step'].indexOf(config.data_types[id]) >= 0);\r\n  };\r\n  ChartInternal.prototype.isStepType = function (d) {\r\n      var id = isString(d) ? d : d.id;\r\n      return ['step', 'area-step'].indexOf(this.config.data_types[id]) >= 0;\r\n  };\r\n  ChartInternal.prototype.isSplineType = function (d) {\r\n      var id = isString(d) ? d : d.id;\r\n      return ['spline', 'area-spline'].indexOf(this.config.data_types[id]) >= 0;\r\n  };\r\n  ChartInternal.prototype.isAreaType = function (d) {\r\n      var id = isString(d) ? d : d.id;\r\n      return (['area', 'area-spline', 'area-step'].indexOf(this.config.data_types[id]) >=\r\n          0);\r\n  };\r\n  ChartInternal.prototype.isBarType = function (d) {\r\n      var id = isString(d) ? d : d.id;\r\n      return this.config.data_types[id] === 'bar';\r\n  };\r\n  ChartInternal.prototype.isScatterType = function (d) {\r\n      var id = isString(d) ? d : d.id;\r\n      return this.config.data_types[id] === 'scatter';\r\n  };\r\n  ChartInternal.prototype.isStanfordType = function (d) {\r\n      var id = isString(d) ? d : d.id;\r\n      return this.config.data_types[id] === 'stanford';\r\n  };\r\n  ChartInternal.prototype.isPieType = function (d) {\r\n      var id = isString(d) ? d : d.id;\r\n      return this.config.data_types[id] === 'pie';\r\n  };\r\n  ChartInternal.prototype.isGaugeType = function (d) {\r\n      var id = isString(d) ? d : d.id;\r\n      return this.config.data_types[id] === 'gauge';\r\n  };\r\n  ChartInternal.prototype.isDonutType = function (d) {\r\n      var id = isString(d) ? d : d.id;\r\n      return this.config.data_types[id] === 'donut';\r\n  };\r\n  ChartInternal.prototype.isArcType = function (d) {\r\n      return this.isPieType(d) || this.isDonutType(d) || this.isGaugeType(d);\r\n  };\r\n  ChartInternal.prototype.lineData = function (d) {\r\n      return this.isLineType(d) ? [d] : [];\r\n  };\r\n  ChartInternal.prototype.arcData = function (d) {\r\n      return this.isArcType(d.data) ? [d] : [];\r\n  };\r\n  /* not used\r\n   function scatterData(d) {\r\n   return isScatterType(d) ? d.values : [];\r\n   }\r\n   */\r\n  ChartInternal.prototype.barData = function (d) {\r\n      return this.isBarType(d) ? d.values : [];\r\n  };\r\n  ChartInternal.prototype.lineOrScatterOrStanfordData = function (d) {\r\n      return this.isLineType(d) || this.isScatterType(d) || this.isStanfordType(d)\r\n          ? d.values\r\n          : [];\r\n  };\r\n  ChartInternal.prototype.barOrLineData = function (d) {\r\n      return this.isBarType(d) || this.isLineType(d) ? d.values : [];\r\n  };\n\n  ChartInternal.prototype.isSafari = function () {\r\n      var ua = window.navigator.userAgent;\r\n      return ua.indexOf('Safari') >= 0 && ua.indexOf('Chrome') < 0;\r\n  };\r\n  ChartInternal.prototype.isChrome = function () {\r\n      var ua = window.navigator.userAgent;\r\n      return ua.indexOf('Chrome') >= 0;\r\n  };\n\n  ChartInternal.prototype.initZoom = function () {\r\n      var $$ = this, d3 = $$.d3, config = $$.config, startEvent;\r\n      $$.zoom = d3\r\n          .zoom()\r\n          .on('start', function () {\r\n          if (config.zoom_type !== 'scroll') {\r\n              return;\r\n          }\r\n          var e = d3.event.sourceEvent;\r\n          if (e && e.type === 'brush') {\r\n              return;\r\n          }\r\n          startEvent = e;\r\n          config.zoom_onzoomstart.call($$.api, e);\r\n      })\r\n          .on('zoom', function () {\r\n          if (config.zoom_type !== 'scroll') {\r\n              return;\r\n          }\r\n          var e = d3.event.sourceEvent;\r\n          if (e && e.type === 'brush') {\r\n              return;\r\n          }\r\n          $$.redrawForZoom();\r\n          config.zoom_onzoom.call($$.api, $$.x.orgDomain());\r\n      })\r\n          .on('end', function () {\r\n          if (config.zoom_type !== 'scroll') {\r\n              return;\r\n          }\r\n          var e = d3.event.sourceEvent;\r\n          if (e && e.type === 'brush') {\r\n              return;\r\n          }\r\n          // if click, do nothing. otherwise, click interaction will be canceled.\r\n          if (e &&\r\n              startEvent.clientX === e.clientX &&\r\n              startEvent.clientY === e.clientY) {\r\n              return;\r\n          }\r\n          config.zoom_onzoomend.call($$.api, $$.x.orgDomain());\r\n      });\r\n      $$.zoom.updateDomain = function () {\r\n          if (d3.event && d3.event.transform) {\r\n              if (config.axis_rotated && config.zoom_type === 'scroll' && d3.event.sourceEvent.type === 'mousemove') {\r\n                  // we're moving the mouse in a rotated chart with zoom = \"scroll\", so we need rescaleY (i.e. vertical)\r\n                  $$.x.domain(d3.event.transform.rescaleY($$.subX).domain());\r\n              }\r\n              else {\r\n                  $$.x.domain(d3.event.transform.rescaleX($$.subX).domain());\r\n              }\r\n          }\r\n          return this;\r\n      };\r\n      $$.zoom.updateExtent = function () {\r\n          this.scaleExtent([1, Infinity])\r\n              .translateExtent([\r\n              [0, 0],\r\n              [$$.width, $$.height]\r\n          ])\r\n              .extent([\r\n              [0, 0],\r\n              [$$.width, $$.height]\r\n          ]);\r\n          return this;\r\n      };\r\n      $$.zoom.update = function () {\r\n          return this.updateExtent().updateDomain();\r\n      };\r\n      return $$.zoom.updateExtent();\r\n  };\r\n  ChartInternal.prototype.zoomTransform = function (range) {\r\n      var $$ = this, s = [$$.x(range[0]), $$.x(range[1])];\r\n      return $$.d3.zoomIdentity.scale($$.width / (s[1] - s[0])).translate(-s[0], 0);\r\n  };\r\n  ChartInternal.prototype.initDragZoom = function () {\r\n      var $$ = this;\r\n      var d3 = $$.d3;\r\n      var config = $$.config;\r\n      var context = ($$.context = $$.svg);\r\n      var brushXPos = $$.margin.left + 20.5;\r\n      var brushYPos = $$.margin.top + 0.5;\r\n      if (!(config.zoom_type === 'drag' && config.zoom_enabled)) {\r\n          return;\r\n      }\r\n      var getZoomedDomain = function (selection) {\r\n          return selection && selection.map(function (x) { return $$.x.invert(x); });\r\n      };\r\n      var brush = ($$.dragZoomBrush = d3\r\n          .brushX()\r\n          .on('start', function () {\r\n          $$.api.unzoom();\r\n          $$.svg.select('.' + CLASS.dragZoom).classed('disabled', false);\r\n          config.zoom_onzoomstart.call($$.api, d3.event.sourceEvent);\r\n      })\r\n          .on('brush', function () {\r\n          config.zoom_onzoom.call($$.api, getZoomedDomain(d3.event.selection));\r\n      })\r\n          .on('end', function () {\r\n          if (d3.event.selection == null) {\r\n              return;\r\n          }\r\n          var zoomedDomain = getZoomedDomain(d3.event.selection);\r\n          if (!config.zoom_disableDefaultBehavior) {\r\n              $$.api.zoom(zoomedDomain);\r\n          }\r\n          $$.svg.select('.' + CLASS.dragZoom).classed('disabled', true);\r\n          config.zoom_onzoomend.call($$.api, zoomedDomain);\r\n      }));\r\n      context\r\n          .append('g')\r\n          .classed(CLASS.dragZoom, true)\r\n          .attr('clip-path', $$.clipPath)\r\n          .attr('transform', 'translate(' + brushXPos + ',' + brushYPos + ')')\r\n          .call(brush);\r\n  };\r\n  ChartInternal.prototype.getZoomDomain = function () {\r\n      var $$ = this, config = $$.config, d3 = $$.d3, min = d3.min([$$.orgXDomain[0], config.zoom_x_min]), max = d3.max([$$.orgXDomain[1], config.zoom_x_max]);\r\n      return [min, max];\r\n  };\r\n  ChartInternal.prototype.redrawForZoom = function () {\r\n      var $$ = this, d3 = $$.d3, config = $$.config, zoom = $$.zoom, x = $$.x;\r\n      if (!config.zoom_enabled) {\r\n          return;\r\n      }\r\n      if ($$.filterTargetsToShow($$.data.targets).length === 0) {\r\n          return;\r\n      }\r\n      zoom.update();\r\n      if (config.zoom_disableDefaultBehavior) {\r\n          return;\r\n      }\r\n      if ($$.isCategorized() && x.orgDomain()[0] === $$.orgXDomain[0]) {\r\n          x.domain([$$.orgXDomain[0] - 1e-10, x.orgDomain()[1]]);\r\n      }\r\n      $$.redraw({\r\n          withTransition: false,\r\n          withY: config.zoom_rescale,\r\n          withSubchart: false,\r\n          withEventRect: false,\r\n          withDimension: false\r\n      });\r\n      if (d3.event.sourceEvent && d3.event.sourceEvent.type === 'mousemove') {\r\n          $$.cancelClick = true;\r\n      }\r\n  };\n\n  return c3;\n\n})));\n"
        },
        {
          "name": "c3.min.css",
          "type": "blob",
          "size": 2.38671875,
          "content": ".c3 svg{font:10px sans-serif;-webkit-tap-highlight-color:transparent}.c3 line,.c3 path{fill:none;stroke:#000}.c3 text{-webkit-user-select:none;-moz-user-select:none;user-select:none}.c3-bars path,.c3-event-rect,.c3-legend-item-tile,.c3-xgrid-focus,.c3-ygrid{shape-rendering:crispEdges}.c3-chart-arc path{stroke:#fff}.c3-chart-arc rect{stroke:#fff;stroke-width:1}.c3-chart-arc text{fill:#fff;font-size:13px}.c3-grid line{stroke:#aaa}.c3-grid text{fill:#aaa}.c3-xgrid,.c3-ygrid{stroke-dasharray:3 3}.c3-text.c3-empty{fill:grey;font-size:2em}.c3-line{stroke-width:1px}.c3-circle{fill:currentColor}.c3-circle._expanded_{stroke-width:1px;stroke:#fff}.c3-selected-circle{fill:#fff;stroke-width:2px}.c3-bar{stroke-width:0}.c3-bar._expanded_{fill-opacity:1;fill-opacity:.75}.c3-target.c3-focused{opacity:1}.c3-target.c3-focused path.c3-line,.c3-target.c3-focused path.c3-step{stroke-width:2px}.c3-target.c3-defocused{opacity:.3!important}.c3-region{fill:#4682b4;fill-opacity:.1}.c3-region text{fill-opacity:1}.c3-brush .extent{fill-opacity:.1}.c3-legend-item{font-size:12px}.c3-legend-item-hidden{opacity:.15}.c3-legend-background{opacity:.75;fill:#fff;stroke:#d3d3d3;stroke-width:1}.c3-title{font:14px sans-serif}.c3-tooltip-container{z-index:10}.c3-tooltip{border-collapse:collapse;border-spacing:0;background-color:#fff;empty-cells:show;-webkit-box-shadow:7px 7px 12px -9px #777;-moz-box-shadow:7px 7px 12px -9px #777;box-shadow:7px 7px 12px -9px #777;opacity:.9}.c3-tooltip tr{border:1px solid #ccc}.c3-tooltip th{background-color:#aaa;font-size:14px;padding:2px 5px;text-align:left;color:#fff}.c3-tooltip td{font-size:13px;padding:3px 6px;background-color:#fff;border-left:1px dotted #999}.c3-tooltip td>span{display:inline-block;width:10px;height:10px;margin-right:6px}.c3-tooltip .value{text-align:right}.c3-area{stroke-width:0;opacity:.2}.c3-chart-arcs-title{dominant-baseline:middle;font-size:1.3em}.c3-chart-arcs .c3-chart-arcs-background{fill:#e0e0e0;stroke:#fff}.c3-chart-arcs .c3-chart-arcs-gauge-unit{fill:#000;font-size:16px}.c3-chart-arcs .c3-chart-arcs-gauge-max{fill:#777}.c3-chart-arcs .c3-chart-arcs-gauge-min{fill:#777}.c3-chart-arc .c3-gauge-value{fill:#000}.c3-chart-arc.c3-target g path{opacity:1}.c3-chart-arc.c3-target.c3-focused g path{opacity:1}.c3-drag-zoom.enabled{pointer-events:all!important;visibility:visible}.c3-drag-zoom.disabled{pointer-events:none!important;visibility:hidden}.c3-drag-zoom .extent{fill-opacity:.1}"
        },
        {
          "name": "c3.min.js",
          "type": "blob",
          "size": 202.8369140625,
          "content": "/* @license C3.js v0.7.20 | (c) C3 Team and other contributors | http://c3js.org/ */\n!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=t||self).c3=e()}(this,function(){\"use strict\";function l(t){var e=this;e.d3=window.d3?window.d3:\"undefined\"!=typeof require?require(\"d3\"):void 0,e.api=t,e.config=e.getDefaultConfig(),e.data={},e.cache={},e.axes={}}function n(t){this.internal=new l(this),this.internal.loadConfig(t),this.internal.beforeInit(t),this.internal.init(),this.internal.afterInit(t),function e(i,n,r){Object.keys(i).forEach(function(t){n[t]=i[t].bind(r),0<Object.keys(i[t]).length&&e(i[t],n[t],r)})}(n.prototype,this,this)}function a(t){return Math.ceil(t)+.5}function r(t){return 10*Math.ceil(t/10)}function R(t){return t[1]-t[0]}function B(t,e,i){return k(t[e])?t[e]:i}function m(t){var e=d(t),i=[t.pathSegList.getItem(0),t.pathSegList.getItem(1)];return{x:i[0].x,y:Math.min(i[0].y,i[1].y),width:e.width,height:e.height}}function o(t){return Array.isArray(t)}function u(t){return null==t||g(t)&&0===t.length||\"object\"==typeof t&&0===Object.keys(t).length}function h(t){return\"function\"==typeof t}function s(t){return\"number\"==typeof t}function w(t){return void 0===t}function C(t){return t||0===t}function L(t){return!u(t)}function _(t){return\"string\"==typeof t?t.replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\"):t}function c(t){var e=function(t){void 0===t&&(t=window.navigator.userAgent);var e=t.indexOf(\"MSIE \");return 0<e?parseInt(t.substring(e+5,t.indexOf(\".\",e)),10):0<(e=t.indexOf(\"Trident/\"))&&(e=t.indexOf(\"rv:\"),parseInt(t.substring(e+3,t.indexOf(\".\",e)),10))}();return void 0===t?!!e:t===e}var d=function(t){try{return t.getBBox()}catch(t){return{x:0,y:0,width:0,height:0}}},k=function(t){return void 0!==t},g=function(t){return\"string\"==typeof t};function e(t,e){var i=this;i.component=t,i.params=e||{},i.d3=t.d3,i.scale=i.d3.scaleLinear(),i.range,i.orient=\"bottom\",i.innerTickSize=6,i.outerTickSize=this.params.withOuterTick?6:0,i.tickPadding=3,i.tickValues=null,i.tickFormat,i.tickArguments,i.tickOffset=0,i.tickCulling=!0,i.tickCentered,i.tickTextCharSize,i.tickTextRotate=i.params.tickTextRotate,i.tickLength,i.axis=i.generateAxis()}e.prototype.axisX=function(t,e,i){t.attr(\"transform\",function(t){return\"translate(\"+Math.ceil(e(t)+i)+\", 0)\"})},e.prototype.axisY=function(t,e){t.attr(\"transform\",function(t){return\"translate(0,\"+Math.ceil(e(t))+\")\"})},e.prototype.scaleExtent=function(t){var e=t[0],i=t[t.length-1];return e<i?[e,i]:[i,e]},e.prototype.generateTicks=function(t){var e,i,n=[];if(t.ticks)return t.ticks.apply(t,this.tickArguments);for(i=t.domain(),e=Math.ceil(i[0]);e<i[1];e++)n.push(e);return 0<n.length&&0<n[0]&&n.unshift(n[0]-(n[1]-n[0])),n},e.prototype.copyScale=function(){var t,e=this.scale.copy();return this.params.isCategory&&(t=this.scale.domain(),e.domain([t[0],t[1]-1])),e},e.prototype.textFormatted=function(t){var e=this.tickFormat?this.tickFormat(t):t;return void 0!==e?e:\"\"},e.prototype.updateRange=function(){var t=this;return t.range=t.scale.rangeExtent?t.scale.rangeExtent():t.scaleExtent(t.scale.range()),t.range},e.prototype.updateTickTextCharSize=function(t){var a=this;if(a.tickTextCharSize)return a.tickTextCharSize;var o={h:11.5,w:5.5};return t.select(\"text\").text(function(t){return a.textFormatted(t)}).each(function(t){var e=d(this),i=a.textFormatted(t),n=e.height,r=i?e.width/i.length:void 0;n&&r&&(o.h=n,o.w=r)}).text(\"\"),a.tickTextCharSize=o},e.prototype.isVertical=function(){return\"left\"===this.orient||\"right\"===this.orient},e.prototype.tspanData=function(t,e,i){var n=this,r=n.params.tickMultiline?n.splitTickText(t,i):[].concat(n.textFormatted(t));return n.params.tickMultiline&&0<n.params.tickMultilineMax&&(r=n.ellipsify(r,n.params.tickMultilineMax)),r.map(function(t){return{index:e,splitted:t,length:r.length}})},e.prototype.splitTickText=function(t,e){var r,a,o,s=this,i=s.textFormatted(t),c=s.params.tickWidth;if(\"[object Array]\"===Object.prototype.toString.call(i))return i;return(!c||c<=0)&&(c=s.isVertical()?95:s.params.isCategory?Math.ceil(e(1)-e(0))-12:110),function t(e,i){a=void 0;for(var n=1;n<i.length;n++)if(\" \"===i.charAt(n)&&(a=n),r=i.substr(0,n+1),o=s.tickTextCharSize.w*r.length,c<o)return t(e.concat(i.substr(0,a||n)),i.slice(a?a+1:n));return e.concat(i)}([],i+\"\")},e.prototype.ellipsify=function(t,e){if(t.length<=e)return t;for(var i=t.slice(0,e),n=3,r=e-1;0<=r;r--){var a=i[r].length;if(i[r]=i[r].substr(0,a-n).padEnd(a,\".\"),(n-=a)<=0)break}return i},e.prototype.updateTickLength=function(){this.tickLength=Math.max(this.innerTickSize,0)+this.tickPadding},e.prototype.lineY2=function(t){var e=this,i=e.scale(t)+(e.tickCentered?0:e.tickOffset);return e.range[0]<i&&i<e.range[1]?e.innerTickSize:0},e.prototype.textY=function(){var t=this.tickTextRotate;return t?11.5-t/15*2.5*(0<t?1:-1):this.tickLength},e.prototype.textTransform=function(){var t=this.tickTextRotate;return t?\"rotate(\"+t+\")\":\"\"},e.prototype.textTextAnchor=function(){var t=this.tickTextRotate;return t?0<t?\"start\":\"end\":\"middle\"},e.prototype.tspanDx=function(){var t=this.tickTextRotate;return t?8*Math.sin(Math.PI*(t/180)):0},e.prototype.tspanDy=function(t,e){var i=this.tickTextCharSize.h;return 0===e&&(i=this.isVertical()?-((t.length-1)*(this.tickTextCharSize.h/2)-3):\".71em\"),i},e.prototype.generateAxis=function(){var w=this,v=w.d3,b=w.params;function T(t,m){var S;return t.each(function(){var t,e,i,n=T.g=v.select(this),r=this.__chart__||w.scale,a=this.__chart__=w.copyScale(),o=w.tickValues?w.tickValues:w.generateTicks(a),s=n.selectAll(\".tick\").data(o,a),c=s.enter().insert(\"g\",\".domain\").attr(\"class\",\"tick\").style(\"opacity\",1e-6),d=s.exit().remove(),l=s.merge(c);b.isCategory?(w.tickOffset=Math.ceil((a(1)-a(0))/2),e=w.tickCentered?0:w.tickOffset,i=w.tickCentered?w.tickOffset:0):w.tickOffset=e=0,w.updateRange(),w.updateTickLength(),w.updateTickTextCharSize(n.select(\".tick\"));var u=l.select(\"line\").merge(c.append(\"line\")),h=l.select(\"text\").merge(c.append(\"text\")),g=l.selectAll(\"text\").selectAll(\"tspan\").data(function(t,e){return w.tspanData(t,e,a)}),p=g.enter().append(\"tspan\").merge(g).text(function(t){return t.splitted});g.exit().remove();var f,_,x=n.selectAll(\".domain\").data([0]),y=x.enter().append(\"path\").merge(x).attr(\"class\",\"domain\");switch(w.orient){case\"bottom\":t=w.axisX,u.attr(\"x1\",e).attr(\"x2\",e).attr(\"y2\",function(t,e){return w.lineY2(t,e)}),h.attr(\"x\",0).attr(\"y\",function(t,e){return w.textY(t,e)}).attr(\"transform\",function(t,e){return w.textTransform(t,e)}).style(\"text-anchor\",function(t,e){return w.textTextAnchor(t,e)}),p.attr(\"x\",0).attr(\"dy\",function(t,e){return w.tspanDy(t,e)}).attr(\"dx\",function(t,e){return w.tspanDx(t,e)}),y.attr(\"d\",\"M\"+w.range[0]+\",\"+w.outerTickSize+\"V0H\"+w.range[1]+\"V\"+w.outerTickSize);break;case\"top\":t=w.axisX,u.attr(\"x1\",e).attr(\"x2\",e).attr(\"y2\",function(t,e){return-1*w.lineY2(t,e)}),h.attr(\"x\",0).attr(\"y\",function(t,e){return-1*w.textY(t,e)-(b.isCategory?2:w.tickLength-2)}).attr(\"transform\",function(t,e){return w.textTransform(t,e)}).style(\"text-anchor\",function(t,e){return w.textTextAnchor(t,e)}),p.attr(\"x\",0).attr(\"dy\",function(t,e){return w.tspanDy(t,e)}).attr(\"dx\",function(t,e){return w.tspanDx(t,e)}),y.attr(\"d\",\"M\"+w.range[0]+\",\"+-w.outerTickSize+\"V0H\"+w.range[1]+\"V\"+-w.outerTickSize);break;case\"left\":t=w.axisY,u.attr(\"x2\",-w.innerTickSize).attr(\"y1\",i).attr(\"y2\",i),h.attr(\"x\",-w.tickLength).attr(\"y\",w.tickOffset).style(\"text-anchor\",\"end\"),p.attr(\"x\",-w.tickLength).attr(\"dy\",function(t,e){return w.tspanDy(t,e)}),y.attr(\"d\",\"M\"+-w.outerTickSize+\",\"+w.range[0]+\"H0V\"+w.range[1]+\"H\"+-w.outerTickSize);break;case\"right\":t=w.axisY,u.attr(\"x2\",w.innerTickSize).attr(\"y1\",i).attr(\"y2\",i),h.attr(\"x\",w.tickLength).attr(\"y\",w.tickOffset).style(\"text-anchor\",\"start\"),p.attr(\"x\",w.tickLength).attr(\"dy\",function(t,e){return w.tspanDy(t,e)}),y.attr(\"d\",\"M\"+w.outerTickSize+\",\"+w.range[0]+\"H0V\"+w.range[1]+\"H\"+w.outerTickSize)}a.rangeBand?(_=(f=a).rangeBand()/2,r=a=function(t){return f(t)+_}):r.rangeBand?r=a:d.call(t,a,w.tickOffset),c.call(t,r,w.tickOffset),S=(m?l.transition(m):l).style(\"opacity\",1).call(t,a,w.tickOffset)}),S}return T.scale=function(t){return arguments.length?(w.scale=t,T):w.scale},T.orient=function(t){return arguments.length?(w.orient=t in{top:1,right:1,bottom:1,left:1}?t+\"\":\"bottom\",T):w.orient},T.tickFormat=function(t){return arguments.length?(w.tickFormat=t,T):w.tickFormat},T.tickCentered=function(t){return arguments.length?(w.tickCentered=t,T):w.tickCentered},T.tickOffset=function(){return w.tickOffset},T.tickInterval=function(){var t=b.isCategory?2*w.tickOffset:(T.g.select(\"path.domain\").node().getTotalLength()-2*w.outerTickSize)/T.g.selectAll(\"line\").size();return t===1/0?0:t},T.ticks=function(){return arguments.length?(w.tickArguments=arguments,T):w.tickArguments},T.tickCulling=function(t){return arguments.length?(w.tickCulling=t,T):w.tickCulling},T.tickValues=function(t){if(\"function\"==typeof t)w.tickValues=function(){return t(w.scale.domain())};else{if(!arguments.length)return w.tickValues;w.tickValues=t}return T},T};var Y={target:\"c3-target\",chart:\"c3-chart\",chartLine:\"c3-chart-line\",chartLines:\"c3-chart-lines\",chartBar:\"c3-chart-bar\",chartBars:\"c3-chart-bars\",chartText:\"c3-chart-text\",chartTexts:\"c3-chart-texts\",chartArc:\"c3-chart-arc\",chartArcs:\"c3-chart-arcs\",chartArcsTitle:\"c3-chart-arcs-title\",chartArcsBackground:\"c3-chart-arcs-background\",chartArcsGaugeUnit:\"c3-chart-arcs-gauge-unit\",chartArcsGaugeMax:\"c3-chart-arcs-gauge-max\",chartArcsGaugeMin:\"c3-chart-arcs-gauge-min\",selectedCircle:\"c3-selected-circle\",selectedCircles:\"c3-selected-circles\",eventRect:\"c3-event-rect\",eventRects:\"c3-event-rects\",eventRectsSingle:\"c3-event-rects-single\",eventRectsMultiple:\"c3-event-rects-multiple\",zoomRect:\"c3-zoom-rect\",brush:\"c3-brush\",dragZoom:\"c3-drag-zoom\",focused:\"c3-focused\",defocused:\"c3-defocused\",region:\"c3-region\",regions:\"c3-regions\",title:\"c3-title\",tooltipContainer:\"c3-tooltip-container\",tooltip:\"c3-tooltip\",tooltipName:\"c3-tooltip-name\",shape:\"c3-shape\",shapes:\"c3-shapes\",line:\"c3-line\",lines:\"c3-lines\",bar:\"c3-bar\",bars:\"c3-bars\",circle:\"c3-circle\",circles:\"c3-circles\",arc:\"c3-arc\",arcLabelLine:\"c3-arc-label-line\",arcs:\"c3-arcs\",area:\"c3-area\",areas:\"c3-areas\",empty:\"c3-empty\",text:\"c3-text\",texts:\"c3-texts\",gaugeValue:\"c3-gauge-value\",grid:\"c3-grid\",gridLines:\"c3-grid-lines\",xgrid:\"c3-xgrid\",xgrids:\"c3-xgrids\",xgridLine:\"c3-xgrid-line\",xgridLines:\"c3-xgrid-lines\",xgridFocus:\"c3-xgrid-focus\",ygrid:\"c3-ygrid\",ygrids:\"c3-ygrids\",ygridLine:\"c3-ygrid-line\",ygridLines:\"c3-ygrid-lines\",colorScale:\"c3-colorscale\",stanfordElements:\"c3-stanford-elements\",stanfordLine:\"c3-stanford-line\",stanfordLines:\"c3-stanford-lines\",stanfordRegion:\"c3-stanford-region\",stanfordRegions:\"c3-stanford-regions\",stanfordText:\"c3-stanford-text\",stanfordTexts:\"c3-stanford-texts\",axis:\"c3-axis\",axisX:\"c3-axis-x\",axisXLabel:\"c3-axis-x-label\",axisY:\"c3-axis-y\",axisYLabel:\"c3-axis-y-label\",axisY2:\"c3-axis-y2\",axisY2Label:\"c3-axis-y2-label\",legendBackground:\"c3-legend-background\",legendItem:\"c3-legend-item\",legendItemEvent:\"c3-legend-item-event\",legendItemTile:\"c3-legend-item-tile\",legendItemHidden:\"c3-legend-item-hidden\",legendItemFocused:\"c3-legend-item-focused\",dragarea:\"c3-dragarea\",EXPANDED:\"_expanded_\",SELECTED:\"_selected_\",INCLUDED:\"_included_\"},p=function(t){this.owner=t,this.d3=t.d3,this.internal=e},t=p;t.prototype.init=function(){var t=this.owner,e=t.config,i=t.main;t.axes.x=i.append(\"g\").attr(\"class\",Y.axis+\" \"+Y.axisX).attr(\"clip-path\",e.axis_x_inner?\"\":t.clipPathForXAxis).attr(\"transform\",t.getTranslate(\"x\")).style(\"visibility\",e.axis_x_show?\"visible\":\"hidden\"),t.axes.x.append(\"text\").attr(\"class\",Y.axisXLabel).attr(\"transform\",e.axis_rotated?\"rotate(-90)\":\"\").style(\"text-anchor\",this.textAnchorForXAxisLabel.bind(this)),t.axes.y=i.append(\"g\").attr(\"class\",Y.axis+\" \"+Y.axisY).attr(\"clip-path\",e.axis_y_inner?\"\":t.clipPathForYAxis).attr(\"transform\",t.getTranslate(\"y\")).style(\"visibility\",e.axis_y_show?\"visible\":\"hidden\"),t.axes.y.append(\"text\").attr(\"class\",Y.axisYLabel).attr(\"transform\",e.axis_rotated?\"\":\"rotate(-90)\").style(\"text-anchor\",this.textAnchorForYAxisLabel.bind(this)),t.axes.y2=i.append(\"g\").attr(\"class\",Y.axis+\" \"+Y.axisY2).attr(\"transform\",t.getTranslate(\"y2\")).style(\"visibility\",e.axis_y2_show?\"visible\":\"hidden\"),t.axes.y2.append(\"text\").attr(\"class\",Y.axisY2Label).attr(\"transform\",e.axis_rotated?\"\":\"rotate(-90)\").style(\"text-anchor\",this.textAnchorForY2AxisLabel.bind(this))},t.prototype.getXAxis=function(t,e,i,n,r,a,o){var s=this.owner,c=s.config,d={isCategory:s.isCategorized(),withOuterTick:r,tickMultiline:c.axis_x_tick_multiline,tickMultilineMax:c.axis_x_tick_multiline?Number(c.axis_x_tick_multilineMax):0,tickWidth:c.axis_x_tick_width,tickTextRotate:o?0:c.axis_x_tick_rotate,withoutTransition:a},l=new this.internal(this,d).axis.scale(t).orient(e);return s.isTimeSeries()&&n&&\"function\"!=typeof n&&(n=n.map(function(t){return s.parseDate(t)})),l.tickFormat(i).tickValues(n),s.isCategorized()&&(l.tickCentered(c.axis_x_tick_centered),u(c.axis_x_tick_culling)&&(c.axis_x_tick_culling=!1)),l},t.prototype.updateXAxisTickValues=function(t,e){var i,n=this.owner,r=n.config;return(r.axis_x_tick_fit||r.axis_x_tick_count)&&(i=this.generateTickValues(n.mapTargetsToUniqueXs(t),r.axis_x_tick_count,n.isTimeSeries())),e?e.tickValues(i):(n.xAxis.tickValues(i),n.subXAxis.tickValues(i)),i},t.prototype.getYAxis=function(t,e,i,n,r,a,o){var s=this.owner,c=s.config,d=c[\"axis_\"+t+\"_tick_format\"];!d&&s.isAxisNormalized(t)&&(d=function(t){return t+\"%\"});var l=new this.internal(this,{withOuterTick:r,withoutTransition:a,tickTextRotate:o?0:c.axis_y_tick_rotate}).axis.scale(e).orient(i);return d&&l.tickFormat(d),s.isTimeSeriesY()?l.ticks(c.axis_y_tick_time_type,c.axis_y_tick_time_interval):l.tickValues(n),l},t.prototype.getId=function(t){var e=this.owner.config;return t in e.data_axes?e.data_axes[t]:\"y\"},t.prototype.getXAxisTickFormat=function(){var e=this.owner,i=e.config,n=e.isTimeSeries()?e.defaultAxisTimeFormat:e.isCategorized()?e.categoryName:function(t){return t};return i.axis_x_tick_format&&(h(i.axis_x_tick_format)?n=i.axis_x_tick_format:e.isTimeSeries()&&(n=function(t){return t?e.axisTimeFormat(i.axis_x_tick_format)(t):\"\"})),h(n)?function(t){return n.call(e,t)}:n},t.prototype.getTickValues=function(t,e){return t||(e?e.tickValues():void 0)},t.prototype.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},t.prototype.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},t.prototype.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},t.prototype.getLabelOptionByAxisId=function(t){var e,i=this.owner.config;return\"y\"===t?e=i.axis_y_label:\"y2\"===t?e=i.axis_y2_label:\"x\"===t&&(e=i.axis_x_label),e},t.prototype.getLabelText=function(t){var e=this.getLabelOptionByAxisId(t);return g(e)?e:e?e.text:null},t.prototype.setLabelText=function(t,e){var i=this.owner.config,n=this.getLabelOptionByAxisId(t);g(n)?\"y\"===t?i.axis_y_label=e:\"y2\"===t?i.axis_y2_label=e:\"x\"===t&&(i.axis_x_label=e):n&&(n.text=e)},t.prototype.getLabelPosition=function(t,e){var i=this.getLabelOptionByAxisId(t),n=i&&\"object\"==typeof i&&i.position?i.position:e;return{isInner:0<=n.indexOf(\"inner\"),isOuter:0<=n.indexOf(\"outer\"),isLeft:0<=n.indexOf(\"left\"),isCenter:0<=n.indexOf(\"center\"),isRight:0<=n.indexOf(\"right\"),isTop:0<=n.indexOf(\"top\"),isMiddle:0<=n.indexOf(\"middle\"),isBottom:0<=n.indexOf(\"bottom\")}},t.prototype.getXAxisLabelPosition=function(){return this.getLabelPosition(\"x\",this.owner.config.axis_rotated?\"inner-top\":\"inner-right\")},t.prototype.getYAxisLabelPosition=function(){return this.getLabelPosition(\"y\",this.owner.config.axis_rotated?\"inner-right\":\"inner-top\")},t.prototype.getY2AxisLabelPosition=function(){return this.getLabelPosition(\"y2\",this.owner.config.axis_rotated?\"inner-right\":\"inner-top\")},t.prototype.getLabelPositionById=function(t){return\"y2\"===t?this.getY2AxisLabelPosition():\"y\"===t?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},t.prototype.textForXAxisLabel=function(){return this.getLabelText(\"x\")},t.prototype.textForYAxisLabel=function(){return this.getLabelText(\"y\")},t.prototype.textForY2AxisLabel=function(){return this.getLabelText(\"y2\")},t.prototype.xForAxisLabel=function(t,e){var i=this.owner;return t?e.isLeft?0:e.isCenter?i.width/2:i.width:e.isBottom?-i.height:e.isMiddle?-i.height/2:0},t.prototype.dxForAxisLabel=function(t,e){return t?e.isLeft?\"0.5em\":e.isRight?\"-0.5em\":\"0\":e.isTop?\"-0.5em\":e.isBottom?\"0.5em\":\"0\"},t.prototype.textAnchorForAxisLabel=function(t,e){return t?e.isLeft?\"start\":e.isCenter?\"middle\":\"end\":e.isBottom?\"start\":e.isMiddle?\"middle\":\"end\"},t.prototype.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},t.prototype.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},t.prototype.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},t.prototype.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},t.prototype.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},t.prototype.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},t.prototype.dyForXAxisLabel=function(){var t=this.owner,e=t.config,i=this.getXAxisLabelPosition();return e.axis_rotated?i.isInner?\"1.2em\":-25-(t.config.axis_x_inner?0:this.getMaxTickWidth(\"x\")):i.isInner?\"-0.5em\":t.getHorizontalAxisHeight(\"x\")-10},t.prototype.dyForYAxisLabel=function(){var t=this.owner,e=this.getYAxisLabelPosition();return t.config.axis_rotated?e.isInner?\"-0.5em\":\"3em\":e.isInner?\"1.2em\":-10-(t.config.axis_y_inner?0:this.getMaxTickWidth(\"y\")+10)},t.prototype.dyForY2AxisLabel=function(){var t=this.owner,e=this.getY2AxisLabelPosition();return t.config.axis_rotated?e.isInner?\"1.2em\":\"-2.2em\":e.isInner?\"-0.5em\":15+(t.config.axis_y2_inner?0:this.getMaxTickWidth(\"y2\")+15)},t.prototype.textAnchorForXAxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(!t.config.axis_rotated,this.getXAxisLabelPosition())},t.prototype.textAnchorForYAxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getYAxisLabelPosition())},t.prototype.textAnchorForY2AxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getY2AxisLabelPosition())},t.prototype.getMaxTickWidth=function(t,e){var i,n,r,a,o=this.owner,s=0;return e&&o.currentMaxTickWidths[t]||(o.svg&&(i=o.filterTargetsToShow(o.data.targets),\"y\"===t?(n=o.y.copy().domain(o.getYDomain(i,\"y\")),r=this.getYAxis(t,n,o.yOrient,o.yAxisTickValues,!1,!0,!0)):\"y2\"===t?(n=o.y2.copy().domain(o.getYDomain(i,\"y2\")),r=this.getYAxis(t,n,o.y2Orient,o.y2AxisTickValues,!1,!0,!0)):(n=o.x.copy().domain(o.getXDomain(i)),r=this.getXAxis(n,o.xOrient,o.xAxisTickFormat,o.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(i,r)),(a=o.d3.select(\"body\").append(\"div\").classed(\"c3\",!0)).append(\"svg\").style(\"visibility\",\"hidden\").style(\"position\",\"fixed\").style(\"top\",0).style(\"left\",0).append(\"g\").call(r).each(function(){o.d3.select(this).selectAll(\"text\").each(function(){var t=d(this);s<t.width&&(s=t.width)}),a.remove()})),o.currentMaxTickWidths[t]=s<=0?o.currentMaxTickWidths[t]:s),o.currentMaxTickWidths[t]},t.prototype.updateLabels=function(t){var e=this.owner,i=e.main.select(\".\"+Y.axisX+\" .\"+Y.axisXLabel),n=e.main.select(\".\"+Y.axisY+\" .\"+Y.axisYLabel),r=e.main.select(\".\"+Y.axisY2+\" .\"+Y.axisY2Label);(t?i.transition():i).attr(\"x\",this.xForXAxisLabel.bind(this)).attr(\"dx\",this.dxForXAxisLabel.bind(this)).attr(\"dy\",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(t?n.transition():n).attr(\"x\",this.xForYAxisLabel.bind(this)).attr(\"dx\",this.dxForYAxisLabel.bind(this)).attr(\"dy\",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(t?r.transition():r).attr(\"x\",this.xForY2AxisLabel.bind(this)).attr(\"dx\",this.dxForY2AxisLabel.bind(this)).attr(\"dy\",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},t.prototype.getPadding=function(t,e,i,n){var r=\"number\"==typeof t?t:t[e];return C(r)?\"ratio\"===t.unit?t[e]*n:this.convertPixelsToAxisPadding(r,n):i},t.prototype.convertPixelsToAxisPadding=function(t,e){var i=this.owner;return e*(t/(i.config.axis_rotated?i.width:i.height))},t.prototype.generateTickValues=function(t,e,i){var n,r,a,o,s,c,d,l=t;if(e)if(1===(n=h(e)?e():e))l=[t[0]];else if(2===n)l=[t[0],t[t.length-1]];else if(2<n){for(o=n-2,r=t[0],s=((a=t[t.length-1])-r)/(1+o),l=[r],c=0;c<o;c++)d=+r+s*(c+1),l.push(i?new Date(d):d);l.push(a)}return i||(l=l.sort(function(t,e){return t-e})),l},t.prototype.generateTransitions=function(t){var e=this.owner.axes;return{axisX:t?e.x.transition().duration(t):e.x,axisY:t?e.y.transition().duration(t):e.y,axisY2:t?e.y2.transition().duration(t):e.y2,axisSubX:t?e.subx.transition().duration(t):e.subx}},t.prototype.redraw=function(t,e){var i=this.owner,n=t?i.d3.transition().duration(t):null;i.axes.x.style(\"opacity\",e?0:1).call(i.xAxis,n),i.axes.y.style(\"opacity\",e?0:1).call(i.yAxis,n),i.axes.y2.style(\"opacity\",e?0:1).call(i.y2Axis,n),i.axes.subx.style(\"opacity\",e?0:1).call(i.subXAxis,n)};var i={version:\"0.7.20\",chart:{fn:n.prototype,internal:{fn:l.prototype,axis:{fn:p.prototype,internal:{fn:e.prototype}}}},generate:function(t){return new n(t)}};function f(t,e,i){var n=[.01,10];function r(t){return i(e(t))}return e||(e=t.scaleLinear()).range(n),i||((i=t.scaleLog()).domain(n),i.nice()),r.domain=function(t){return arguments.length?(e.domain(t),r):e.domain()},r.range=function(t){return arguments.length?(i.range(t),r):i.range()},r.ticks=function(t){return function(t,e,i){var n,r,a,o;if(arguments.length<3)i=10;else if(0===i)return[];o=(e-t)/(r=i-1),a=t,(n=new Array(i))[0]=Math.pow(10,a);for(var s=1;s<r;s++)a+=o,n[s]=Math.pow(10,a);return n[r]=Math.pow(10,e),n}(-2,1,t||10).map(function(t){return e.invert(t)})},r.copy=function(){return f(t,e.copy(),i.copy())},r}function x(t){return t/Math.pow(10,Math.ceil(Math.log(t)/Math.LN10-1e-12))==1}l.prototype.beforeInit=function(){},l.prototype.afterInit=function(){},l.prototype.init=function(){var t=this,e=t.config;if(t.initParams(),e.data_url)t.convertUrlToData(e.data_url,e.data_mimeType,e.data_headers,e.data_keys,t.initWithData);else if(e.data_json)t.initWithData(t.convertJsonToData(e.data_json,e.data_keys));else if(e.data_rows)t.initWithData(t.convertRowsToData(e.data_rows));else{if(!e.data_columns)throw Error(\"url or json or rows or columns is required.\");t.initWithData(t.convertColumnsToData(e.data_columns))}},l.prototype.initParams=function(){var t=this,e=t.d3,i=t.config;t.clipId=\"c3-\"+(new Date).valueOf()+\"-clip\",t.clipIdForXAxis=t.clipId+\"-xaxis\",t.clipIdForYAxis=t.clipId+\"-yaxis\",t.clipIdForGrid=t.clipId+\"-grid\",t.clipIdForSubchart=t.clipId+\"-subchart\",t.clipPath=t.getClipPath(t.clipId),t.clipPathForXAxis=t.getClipPath(t.clipIdForXAxis),t.clipPathForYAxis=t.getClipPath(t.clipIdForYAxis),t.clipPathForGrid=t.getClipPath(t.clipIdForGrid),t.clipPathForSubchart=t.getClipPath(t.clipIdForSubchart),t.dragStart=null,t.dragging=!1,t.flowing=!1,t.cancelClick=!1,t.mouseover=void 0,t.transiting=!1,t.color=t.generateColor(),t.levelColor=t.generateLevelColor(),t.dataTimeParse=(i.data_xLocaltime?e.timeParse:e.utcParse)(t.config.data_xFormat),t.axisTimeFormat=i.axis_x_localtime?e.timeFormat:e.utcFormat,t.defaultAxisTimeFormat=function(t){return(t.getMilliseconds()?e.timeFormat(\".%L\"):t.getSeconds()?e.timeFormat(\":%S\"):t.getMinutes()?e.timeFormat(\"%I:%M\"):t.getHours()?e.timeFormat(\"%I %p\"):t.getDay()&&1!==t.getDate()||1!==t.getDate()||t.getMonth()?e.timeFormat(\"%-m/%-d\"):e.timeFormat(\"%Y/%-m/%-d\"))(t)},t.hiddenTargetIds=[],t.hiddenLegendIds=[],t.focusedTargetIds=[],t.defocusedTargetIds=[],t.xOrient=i.axis_rotated?i.axis_x_inner?\"right\":\"left\":i.axis_x_inner?\"top\":\"bottom\",t.yOrient=i.axis_rotated?i.axis_y_inner?\"top\":\"bottom\":i.axis_y_inner?\"right\":\"left\",t.y2Orient=i.axis_rotated?i.axis_y2_inner?\"bottom\":\"top\":i.axis_y2_inner?\"left\":\"right\",t.subXOrient=i.axis_rotated?\"left\":\"bottom\",t.isLegendRight=\"right\"===i.legend_position,t.isLegendInset=\"inset\"===i.legend_position,t.isLegendTop=\"top-left\"===i.legend_inset_anchor||\"top-right\"===i.legend_inset_anchor,t.isLegendLeft=\"top-left\"===i.legend_inset_anchor||\"bottom-left\"===i.legend_inset_anchor,t.legendStep=0,t.legendItemWidth=0,t.legendItemHeight=0,t.currentMaxTickWidths={x:0,y:0,y2:0},t.rotated_padding_left=30,t.rotated_padding_right=i.axis_rotated&&!i.axis_x_show?0:30,t.rotated_padding_top=5,t.withoutFadeIn={},t.intervalForObserveInserted=void 0,t.axes.subx=e.selectAll([])},l.prototype.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},l.prototype.initWithData=function(t){var e,i,n=this,r=n.d3,a=n.config,o=!0;n.axis=new p(n),a.bindto?\"function\"==typeof a.bindto.node?n.selectChart=a.bindto:n.selectChart=r.select(a.bindto):n.selectChart=r.selectAll([]),n.selectChart.empty()&&(n.selectChart=r.select(document.createElement(\"div\")).style(\"opacity\",0),n.observeInserted(n.selectChart),o=!1),n.selectChart.html(\"\").classed(\"c3\",!0),n.data.xs={},n.data.targets=n.convertDataToTargets(t),a.data_filter&&(n.data.targets=n.data.targets.filter(a.data_filter)),a.data_hide&&n.addHiddenTargetIds(!0===a.data_hide?n.mapToIds(n.data.targets):a.data_hide),a.legend_hide&&n.addHiddenLegendIds(!0===a.legend_hide?n.mapToIds(n.data.targets):a.legend_hide),n.isStanfordGraphType()&&n.initStanfordData(),n.updateSizes(),n.updateScales(),n.x.domain(r.extent(n.getXDomain(n.data.targets))),n.y.domain(n.getYDomain(n.data.targets,\"y\")),n.y2.domain(n.getYDomain(n.data.targets,\"y2\")),n.subX.domain(n.x.domain()),n.subY.domain(n.y.domain()),n.subY2.domain(n.y2.domain()),n.orgXDomain=n.x.domain(),n.svg=n.selectChart.append(\"svg\").style(\"overflow\",\"hidden\").on(\"mouseenter\",function(){return a.onmouseover.call(n)}).on(\"mouseleave\",function(){return a.onmouseout.call(n)}),n.config.svg_classname&&n.svg.attr(\"class\",n.config.svg_classname),e=n.svg.append(\"defs\"),n.clipChart=n.appendClip(e,n.clipId),n.clipXAxis=n.appendClip(e,n.clipIdForXAxis),n.clipYAxis=n.appendClip(e,n.clipIdForYAxis),n.clipGrid=n.appendClip(e,n.clipIdForGrid),n.clipSubchart=n.appendClip(e,n.clipIdForSubchart),n.updateSvgSize(),i=n.main=n.svg.append(\"g\").attr(\"transform\",n.getTranslate(\"main\")),n.initPie&&n.initPie(),n.initDragZoom&&n.initDragZoom(),a.subchart_show&&n.initSubchart&&n.initSubchart(),n.initTooltip&&n.initTooltip(),n.initLegend&&n.initLegend(),n.initTitle&&n.initTitle(),n.initZoom&&n.initZoom(),n.isStanfordGraphType()&&n.drawColorScale(),a.subchart_show&&n.initSubchartBrush&&n.initSubchartBrush(),i.append(\"text\").attr(\"class\",Y.text+\" \"+Y.empty).attr(\"text-anchor\",\"middle\").attr(\"dominant-baseline\",\"middle\"),n.initRegion(),n.initGrid(),i.append(\"g\").attr(\"clip-path\",n.clipPath).attr(\"class\",Y.chart),a.grid_lines_front&&n.initGridLines(),n.initStanfordElements(),n.initEventRect(),n.initChartElements(),n.axis.init(),n.updateTargets(n.data.targets),a.axis_x_selection&&n.brush.selectionAsValue(n.getDefaultSelection()),o&&(n.updateDimension(),n.config.oninit.call(n),n.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),n.bindResize(),n.bindWindowFocus(),n.api.element=n.selectChart.node()},l.prototype.smoothLines=function(t,e){var a=this;\"grid\"===e&&t.each(function(){var t=a.d3.select(this),e=t.attr(\"x1\"),i=t.attr(\"x2\"),n=t.attr(\"y1\"),r=t.attr(\"y2\");t.attr({x1:Math.ceil(e),x2:Math.ceil(i),y1:Math.ceil(n),y2:Math.ceil(r)})})},l.prototype.updateSizes=function(){var t=this,e=t.config,i=t.legend?t.getLegendHeight():0,n=t.legend?t.getLegendWidth():0,r=t.isLegendRight||t.isLegendInset?0:i,a=t.hasArcType(),o=e.axis_rotated||a?0:t.getHorizontalAxisHeight(\"x\"),s=e.axis_rotated||a?0:t.getHorizontalAxisHeight(\"x\",!0),c=e.subchart_show&&!a?e.subchart_size_height+s:0;t.currentWidth=t.getCurrentWidth(),t.currentHeight=t.getCurrentHeight(),t.margin=e.axis_rotated?{top:t.getHorizontalAxisHeight(\"y2\")+t.getCurrentPaddingTop(),right:a?0:t.getCurrentPaddingRight(),bottom:t.getHorizontalAxisHeight(\"y\")+r+t.getCurrentPaddingBottom(),left:c+(a?0:t.getCurrentPaddingLeft())}:{top:4+t.getCurrentPaddingTop(),right:a?0:t.getCurrentPaddingRight(),bottom:o+c+r+t.getCurrentPaddingBottom(),left:a?0:t.getCurrentPaddingLeft()},t.margin2=e.axis_rotated?{top:t.margin.top,right:NaN,bottom:20+r,left:t.rotated_padding_left}:{top:t.currentHeight-c-r,right:NaN,bottom:s+r,left:t.margin.left},t.margin3={top:0,right:NaN,bottom:0,left:0},t.updateSizeForLegend&&t.updateSizeForLegend(i,n),t.width=t.currentWidth-t.margin.left-t.margin.right,t.height=t.currentHeight-t.margin.top-t.margin.bottom,t.width<0&&(t.width=0),t.height<0&&(t.height=0),t.width2=e.axis_rotated?t.margin.left-t.rotated_padding_left-t.rotated_padding_right:t.width,t.height2=e.axis_rotated?t.height:t.currentHeight-t.margin2.top-t.margin2.bottom,t.width2<0&&(t.width2=0),t.height2<0&&(t.height2=0),t.arcWidth=t.width-(t.isLegendRight?n+10:0),t.arcHeight=t.height-(t.isLegendRight?0:10),t.hasType(\"gauge\")&&!e.gauge_fullCircle&&(t.arcHeight+=t.height-t.getGaugeLabelHeight()),t.updateRadius&&t.updateRadius(),t.isLegendRight&&a&&(t.margin3.left=t.arcWidth/2+1.1*t.radiusExpanded)},l.prototype.updateTargets=function(t){var e=this,i=e.config;e.updateTargetsForText(t),e.updateTargetsForBar(t),e.updateTargetsForLine(t),e.hasArcType()&&e.updateTargetsForArc&&e.updateTargetsForArc(t),i.subchart_show&&e.updateTargetsForSubchart&&e.updateTargetsForSubchart(t),e.showTargets()},l.prototype.showTargets=function(){var e=this;e.svg.selectAll(\".\"+Y.target).filter(function(t){return e.isTargetToShow(t.id)}).transition().duration(e.config.transition_duration).style(\"opacity\",1)},l.prototype.redraw=function(t,e){var i,n,r,a,o,s,c,d,l,u,h,g,p,f,_,x=this,y=x.main,m=x.d3,S=x.config,w=x.getShapeIndices(x.isAreaType),v=x.getShapeIndices(x.isBarType),b=x.getShapeIndices(x.isLineType),T=x.hasArcType(),A=x.filterTargetsToShow(x.data.targets),P=x.xv.bind(x),C=B(t=t||{},\"withY\",!0),L=B(t,\"withSubchart\",!0),V=B(t,\"withTransition\",!0),G=B(t,\"withTransform\",!1),E=B(t,\"withUpdateXDomain\",!1),O=B(t,\"withUpdateOrgXDomain\",!1),I=B(t,\"withTrimXDomain\",!0),R=B(t,\"withUpdateXAxis\",E),k=B(t,\"withLegend\",!1),F=B(t,\"withEventRect\",!0),D=B(t,\"withDimension\",!0),X=B(t,\"withTransitionForExit\",V),M=B(t,\"withTransitionForAxis\",V),z=V?S.transition_duration:0,H=X?z:0,N=M?z:0;if(e=e||x.axis.generateTransitions(N),k&&S.legend_show?x.updateLegend(x.mapToIds(x.data.targets),t,e):D&&x.updateDimension(!0),x.isCategorized()&&0===A.length&&x.x.domain([0,x.axes.x.selectAll(\".tick\").size()]),A.length?(x.updateXDomain(A,E,O,I),S.axis_x_tick_values||(u=x.axis.updateXAxisTickValues(A))):(x.xAxis.tickValues([]),x.subXAxis.tickValues([])),S.zoom_rescale&&!t.flow&&(p=x.x.orgDomain()),x.y.domain(x.getYDomain(A,\"y\",p)),x.y2.domain(x.getYDomain(A,\"y2\",p)),!S.axis_y_tick_values&&S.axis_y_tick_count&&x.yAxis.tickValues(x.axis.generateTickValues(x.y.domain(),S.axis_y_tick_count)),!S.axis_y2_tick_values&&S.axis_y2_tick_count&&x.y2Axis.tickValues(x.axis.generateTickValues(x.y2.domain(),S.axis_y2_tick_count)),x.axis.redraw(N,T),x.axis.updateLabels(V),(E||R)&&A.length)if(S.axis_x_tick_culling&&u){for(h=1;h<u.length;h++)if(u.length/h<S.axis_x_tick_culling_max){g=h;break}x.svg.selectAll(\".\"+Y.axisX+\" .tick text\").each(function(t){var e=u.indexOf(t);0<=e&&m.select(this).style(\"display\",e%g?\"none\":\"block\")})}else x.svg.selectAll(\".\"+Y.axisX+\" .tick text\").style(\"display\",\"block\");i=x.generateDrawArea?x.generateDrawArea(w,!1):void 0,n=x.generateDrawBar?x.generateDrawBar(v):void 0,r=x.generateDrawLine?x.generateDrawLine(b,!1):void 0,a=x.generateXYForText(w,v,b,!0),o=x.generateXYForText(w,v,b,!1),x.updateCircleY(),f=(x.config.axis_rotated?x.circleY:x.circleX).bind(x),_=(x.config.axis_rotated?x.circleX:x.circleY).bind(x),C&&(x.subY.domain(x.getYDomain(A,\"y\")),x.subY2.domain(x.getYDomain(A,\"y2\"))),x.updateXgridFocus(),y.select(\"text.\"+Y.text+\".\"+Y.empty).attr(\"x\",x.width/2).attr(\"y\",x.height/2).text(S.data_empty_label_text).transition().style(\"opacity\",A.length?0:1),F&&x.redrawEventRect(),x.updateGrid(z),x.updateStanfordElements(z),x.updateRegion(z),x.updateBar(H),x.updateLine(H),x.updateArea(H),x.updateCircle(f,_),x.hasDataLabel()&&x.updateText(a,o,H),x.redrawTitle&&x.redrawTitle(),x.redrawArc&&x.redrawArc(z,H,G),S.subchart_show&&x.redrawSubchart&&x.redrawSubchart(L,e,z,H,w,v,b),x.isStanfordGraphType()&&x.drawColorScale(),y.selectAll(\".\"+Y.selectedCircles).filter(x.isBarType.bind(x)).selectAll(\"circle\").remove(),t.flow&&(d=x.generateFlow({targets:A,flow:t.flow,duration:t.flow.duration,drawBar:n,drawLine:r,drawArea:i,cx:f,cy:_,xv:P,xForText:a,yForText:o})),z&&x.isTabVisible()?(l=m.transition().duration(z),s=[],[x.redrawBar(n,!0,l),x.redrawLine(r,!0,l),x.redrawArea(i,!0,l),x.redrawCircle(f,_,!0,l),x.redrawText(a,o,t.flow,!0,l),x.redrawRegion(!0,l),x.redrawGrid(!0,l)].forEach(function(t){t.forEach(function(t){s.push(t)})}),c=x.generateWait(),s.forEach(function(t){c.add(t)}),c(function(){d&&d(),S.onrendered&&S.onrendered.call(x)})):(x.redrawBar(n),x.redrawLine(r),x.redrawArea(i),x.redrawCircle(f,_),x.redrawText(a,o,t.flow),x.redrawRegion(),x.redrawGrid(),d&&d(),S.onrendered&&S.onrendered.call(x)),x.mapToIds(x.data.targets).forEach(function(t){x.withoutFadeIn[t]=!0})},l.prototype.updateAndRedraw=function(t){var e,i=this,n=i.config;(t=t||{}).withTransition=B(t,\"withTransition\",!0),t.withTransform=B(t,\"withTransform\",!1),t.withLegend=B(t,\"withLegend\",!1),t.withUpdateXDomain=B(t,\"withUpdateXDomain\",!0),t.withUpdateOrgXDomain=B(t,\"withUpdateOrgXDomain\",!0),t.withTransitionForExit=!1,t.withTransitionForTransform=B(t,\"withTransitionForTransform\",t.withTransition),i.updateSizes(),t.withLegend&&n.legend_show||(e=i.axis.generateTransitions(t.withTransitionForAxis?n.transition_duration:0),i.updateScales(),i.updateSvgSize(),i.transformAll(t.withTransitionForTransform,e)),i.redraw(t,e)},l.prototype.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},l.prototype.isTimeSeries=function(){return\"timeseries\"===this.config.axis_x_type},l.prototype.isCategorized=function(){return 0<=this.config.axis_x_type.indexOf(\"categor\")},l.prototype.isCustomX=function(){var t=this.config;return!this.isTimeSeries()&&(t.data_x||L(t.data_xs))},l.prototype.isTimeSeriesY=function(){return\"timeseries\"===this.config.axis_y_type},l.prototype.getTranslate=function(t){var e,i,n=this,r=n.config;return\"main\"===t?(e=a(n.margin.left),i=a(n.margin.top)):\"context\"===t?(e=a(n.margin2.left),i=a(n.margin2.top)):\"legend\"===t?(e=n.margin3.left,i=n.margin3.top):\"x\"===t?(e=0,i=r.axis_rotated?0:n.height):\"y\"===t?(e=0,i=r.axis_rotated?n.height:0):\"y2\"===t?(e=r.axis_rotated?0:n.width,i=r.axis_rotated?1:0):\"subx\"===t?(e=0,i=r.axis_rotated?0:n.height2):\"arc\"===t&&(e=n.arcWidth/2,i=n.arcHeight/2-(n.hasType(\"gauge\")?6:0)),\"translate(\"+e+\",\"+i+\")\"},l.prototype.initialOpacity=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?1:0},l.prototype.initialOpacityForCircle=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?this.opacityForCircle(t):0},l.prototype.opacityForCircle=function(t){var e=(h(this.config.point_show)?this.config.point_show(t):this.config.point_show)||this.isStanfordType(t)?1:0;return C(t.value)?this.isScatterType(t)?.5:e:0},l.prototype.opacityForText=function(){return this.hasDataLabel()?1:0},l.prototype.xx=function(t){return t?this.x(t.x):null},l.prototype.xvCustom=function(t,e){var i=this,n=e?t[e]:t.value;return i.isTimeSeries()?n=i.parseDate(t.value):i.isCategorized()&&\"string\"==typeof t.value&&(n=i.config.axis_x_categories.indexOf(t.value)),Math.ceil(i.x(n))},l.prototype.yvCustom=function(t,e){var i=t.axis&&\"y2\"===t.axis?this.y2:this.y,n=e?t[e]:t.value;return Math.ceil(i(n))},l.prototype.xv=function(t){var e=this,i=t.value;return e.isTimeSeries()?i=e.parseDate(t.value):e.isCategorized()&&\"string\"==typeof t.value&&(i=e.config.axis_x_categories.indexOf(t.value)),Math.ceil(e.x(i))},l.prototype.yv=function(t){var e=t.axis&&\"y2\"===t.axis?this.y2:this.y;return Math.ceil(e(t.value))},l.prototype.subxx=function(t){return t?this.subX(t.x):null},l.prototype.transformMain=function(t,e){var i,n,r,a=this;e&&e.axisX?i=e.axisX:(i=a.main.select(\".\"+Y.axisX),t&&(i=i.transition())),e&&e.axisY?n=e.axisY:(n=a.main.select(\".\"+Y.axisY),t&&(n=n.transition())),e&&e.axisY2?r=e.axisY2:(r=a.main.select(\".\"+Y.axisY2),t&&(r=r.transition())),(t?a.main.transition():a.main).attr(\"transform\",a.getTranslate(\"main\")),i.attr(\"transform\",a.getTranslate(\"x\")),n.attr(\"transform\",a.getTranslate(\"y\")),r.attr(\"transform\",a.getTranslate(\"y2\")),a.main.select(\".\"+Y.chartArcs).attr(\"transform\",a.getTranslate(\"arc\"))},l.prototype.transformAll=function(t,e){var i=this;i.transformMain(t,e),i.config.subchart_show&&i.transformContext(t,e),i.legend&&i.transformLegend(t)},l.prototype.updateSvgSize=function(){var t=this,e=t.svg.select(\".\"+Y.brush+\" .overlay\");t.svg.attr(\"width\",t.currentWidth).attr(\"height\",t.currentHeight),t.svg.selectAll([\"#\"+t.clipId,\"#\"+t.clipIdForGrid]).select(\"rect\").attr(\"width\",t.width).attr(\"height\",t.height),t.svg.select(\"#\"+t.clipIdForXAxis).select(\"rect\").attr(\"x\",t.getXAxisClipX.bind(t)).attr(\"y\",t.getXAxisClipY.bind(t)).attr(\"width\",t.getXAxisClipWidth.bind(t)).attr(\"height\",t.getXAxisClipHeight.bind(t)),t.svg.select(\"#\"+t.clipIdForYAxis).select(\"rect\").attr(\"x\",t.getYAxisClipX.bind(t)).attr(\"y\",t.getYAxisClipY.bind(t)).attr(\"width\",t.getYAxisClipWidth.bind(t)).attr(\"height\",t.getYAxisClipHeight.bind(t)),t.svg.select(\"#\"+t.clipIdForSubchart).select(\"rect\").attr(\"width\",t.width).attr(\"height\",e.size()&&e.attr(\"height\")||0),t.selectChart.style(\"max-height\",t.currentHeight+\"px\")},l.prototype.updateDimension=function(t){var e=this;t||(e.config.axis_rotated?(e.axes.x.call(e.xAxis),e.axes.subx.call(e.subXAxis)):(e.axes.y.call(e.yAxis),e.axes.y2.call(e.y2Axis))),e.updateSizes(),e.updateScales(),e.updateSvgSize(),e.transformAll(!1)},l.prototype.observeInserted=function(e){var i,n=this;\"undefined\"!=typeof MutationObserver?(i=new MutationObserver(function(t){t.forEach(function(t){\"childList\"===t.type&&t.previousSibling&&(i.disconnect(),n.intervalForObserveInserted=window.setInterval(function(){e.node().parentNode&&(window.clearInterval(n.intervalForObserveInserted),n.updateDimension(),n.brush&&n.brush.update(),n.config.oninit.call(n),n.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),e.transition().style(\"opacity\",1))},10))})})).observe(e.node(),{attributes:!0,childList:!0,characterData:!0}):window.console.error(\"MutationObserver not defined.\")},l.prototype.bindResize=function(){var t=this,e=t.config;t.resizeFunction=t.generateResize(),t.resizeFunction.add(function(){e.onresize.call(t)}),e.resize_auto&&t.resizeFunction.add(function(){void 0!==t.resizeTimeout&&window.clearTimeout(t.resizeTimeout),t.resizeTimeout=window.setTimeout(function(){delete t.resizeTimeout,t.updateAndRedraw({withUpdateXDomain:!1,withUpdateOrgXDomain:!1,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),t.brush&&t.brush.update()},100)}),t.resizeFunction.add(function(){e.onresized.call(t)}),t.resizeIfElementDisplayed=function(){null!=t.api&&t.api.element.offsetParent&&t.resizeFunction()},window.addEventListener(\"resize\",t.resizeIfElementDisplayed,!1)},l.prototype.bindWindowFocus=function(){var t=this;this.windowFocusHandler||(this.windowFocusHandler=function(){t.redraw()},window.addEventListener(\"focus\",this.windowFocusHandler))},l.prototype.unbindWindowFocus=function(){window.removeEventListener(\"focus\",this.windowFocusHandler),delete this.windowFocusHandler},l.prototype.generateResize=function(){var i=[];function t(){i.forEach(function(t){t()})}return t.add=function(t){i.push(t)},t.remove=function(t){for(var e=0;e<i.length;e++)if(i[e]===t){i.splice(e,1);break}},t},l.prototype.endall=function(t,e){var i=0;t.each(function(){++i}).on(\"end\",function(){--i||e.apply(this,arguments)})},l.prototype.generateWait=function(){function t(t){var i=setInterval(function(){var e;n.isTabVisible()&&(e=0,r.forEach(function(t){if(t.empty())e+=1;else try{t.transition()}catch(t){e+=1}}),e===r.length&&(clearInterval(i),t&&t()))},50)}var n=this,r=[];return t.add=function(t){r.push(t)},t},l.prototype.parseDate=function(t){var e;return t instanceof Date?e=t:\"string\"==typeof t?e=this.dataTimeParse(t):\"object\"!=typeof t&&(\"number\"!=typeof t||isNaN(t))||(e=new Date(+t)),e&&!isNaN(+e)||window.console.error(\"Failed to parse x '\"+t+\"' to Date object\"),e},l.prototype.isTabVisible=function(){return!document.hidden},l.prototype.getPathBox=m,l.prototype.CLASS=Y,\"SVGPathSeg\"in window||(window.SVGPathSeg=function(t,e,i){this.pathSegType=t,this.pathSegTypeAsLetter=e,this._owningPathSegList=i},window.SVGPathSeg.prototype.classname=\"SVGPathSeg\",window.SVGPathSeg.PATHSEG_UNKNOWN=0,window.SVGPathSeg.PATHSEG_CLOSEPATH=1,window.SVGPathSeg.PATHSEG_MOVETO_ABS=2,window.SVGPathSeg.PATHSEG_MOVETO_REL=3,window.SVGPathSeg.PATHSEG_LINETO_ABS=4,window.SVGPathSeg.PATHSEG_LINETO_REL=5,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,window.SVGPathSeg.PATHSEG_ARC_ABS=10,window.SVGPathSeg.PATHSEG_ARC_REL=11,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,window.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,\"z\",t)},window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegClosePath.prototype.toString=function(){return\"[object SVGPathSegClosePath]\"},window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(t,e,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,\"M\",t),this._x=e,this._y=i},window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoAbs.prototype.toString=function(){return\"[object SVGPathSegMovetoAbs]\"},window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+\" \"+this._x+\" \"+this._y},window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,\"x\",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,\"y\",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(t,e,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,\"m\",t),this._x=e,this._y=i},window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoRel.prototype.toString=function(){return\"[object SVGPathSegMovetoRel]\"},window.SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+\" \"+this._x+\" \"+this._y},window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoRel.prototype,\"x\",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoRel.prototype,\"y\",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(t,e,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,\"L\",t),this._x=e,this._y=i},window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoAbs.prototype.toString=function(){return\"[object SVGPathSegLinetoAbs]\"},window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+\" \"+this._x+\" \"+this._y},window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,\"x\",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,\"y\",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(t,e,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,\"l\",t),this._x=e,this._y=i},window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoRel.prototype.toString=function(){return\"[object SVGPathSegLinetoRel]\"},window.SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+\" \"+this._x+\" \"+this._y},window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoRel.prototype,\"x\",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoRel.prototype,\"y\",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(t,e,i,n,r,a,o){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,\"C\",t),this._x=e,this._y=i,this._x1=n,this._y1=r,this._x2=a,this._y2=o},window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return\"[object SVGPathSegCurvetoCubicAbs]\"},window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+\" \"+this._x1+\" \"+this._y1+\" \"+this._x2+\" \"+this._y2+\" \"+this._x+\" \"+this._y},window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,\"x\",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,\"y\",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,\"x1\",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,\"y1\",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,\"x2\",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,\"y2\",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(t,e,i,n,r,a,o){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,\"c\",t),this._x=e,this._y=i,this._x1=n,this._y1=r,this._x2=a,this._y2=o},window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return\"[object SVGPathSegCurvetoCubicRel]\"},window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+\" \"+this._x1+\" \"+this._y1+\" \"+this._x2+\" \"+this._y2+\" \"+this._x+\" \"+this._y},window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,\"x\",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,\"y\",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,\"x1\",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,\"y1\",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,\"x2\",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,\"y2\",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(t,e,i,n,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,\"Q\",t),this._x=e,this._y=i,this._x1=n,this._y1=r},window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return\"[object SVGPathSegCurvetoQuadraticAbs]\"},window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+\" \"+this._x1+\" \"+this._y1+\" \"+this._x+\" \"+this._y},window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,\"x\",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,\"y\",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,\"x1\",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,\"y1\",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(t,e,i,n,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,\"q\",t),this._x=e,this._y=i,this._x1=n,this._y1=r},window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return\"[object SVGPathSegCurvetoQuadraticRel]\"},window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+\" \"+this._x1+\" \"+this._y1+\" \"+this._x+\" \"+this._y},window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,\"x\",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,\"y\",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,\"x1\",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,\"y1\",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(t,e,i,n,r,a,o,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,\"A\",t),this._x=e,this._y=i,this._r1=n,this._r2=r,this._angle=a,this._largeArcFlag=o,this._sweepFlag=s},window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcAbs.prototype.toString=function(){return\"[object SVGPathSegArcAbs]\"},window.SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+\" \"+this._r1+\" \"+this._r2+\" \"+this._angle+\" \"+(this._largeArcFlag?\"1\":\"0\")+\" \"+(this._sweepFlag?\"1\":\"0\")+\" \"+this._x+\" \"+this._y},window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcAbs.prototype,\"x\",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,\"y\",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,\"r1\",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,\"r2\",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,\"angle\",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,\"largeArcFlag\",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,\"sweepFlag\",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(t,e,i,n,r,a,o,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,\"a\",t),this._x=e,this._y=i,this._r1=n,this._r2=r,this._angle=a,this._largeArcFlag=o,this._sweepFlag=s},window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcRel.prototype.toString=function(){return\"[object SVGPathSegArcRel]\"},window.SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+\" \"+this._r1+\" \"+this._r2+\" \"+this._angle+\" \"+(this._largeArcFlag?\"1\":\"0\")+\" \"+(this._sweepFlag?\"1\":\"0\")+\" \"+this._x+\" \"+this._y},window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcRel.prototype,\"x\",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,\"y\",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,\"r1\",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,\"r2\",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,\"angle\",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,\"largeArcFlag\",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,\"sweepFlag\",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,\"H\",t),this._x=e},window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return\"[object SVGPathSegLinetoHorizontalAbs]\"},window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+\" \"+this._x},window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,\"x\",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,\"h\",t),this._x=e},window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return\"[object SVGPathSegLinetoHorizontalRel]\"},window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+\" \"+this._x},window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,\"x\",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,\"V\",t),this._y=e},window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return\"[object SVGPathSegLinetoVerticalAbs]\"},window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+\" \"+this._y},window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,\"y\",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,\"v\",t),this._y=e},window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return\"[object SVGPathSegLinetoVerticalRel]\"},window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+\" \"+this._y},window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,\"y\",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(t,e,i,n,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,\"S\",t),this._x=e,this._y=i,this._x2=n,this._y2=r},window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return\"[object SVGPathSegCurvetoCubicSmoothAbs]\"},window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+\" \"+this._x2+\" \"+this._y2+\" \"+this._x+\" \"+this._y},window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,\"x\",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,\"y\",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,\"x2\",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,\"y2\",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(t,e,i,n,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,\"s\",t),this._x=e,this._y=i,this._x2=n,this._y2=r},window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return\"[object SVGPathSegCurvetoCubicSmoothRel]\"},window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+\" \"+this._x2+\" \"+this._y2+\" \"+this._x+\" \"+this._y},window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,\"x\",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,\"y\",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,\"x2\",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,\"y2\",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(t,e,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,\"T\",t),this._x=e,this._y=i},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return\"[object SVGPathSegCurvetoQuadraticSmoothAbs]\"},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+\" \"+this._x+\" \"+this._y},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,\"x\",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,\"y\",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(t,e,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,\"t\",t),this._x=e,this._y=i},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return\"[object SVGPathSegCurvetoQuadraticSmoothRel]\"},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+\" \"+this._x+\" \"+this._y},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,\"x\",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,\"y\",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(t,e){return new window.SVGPathSegMovetoAbs(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(t,e){return new window.SVGPathSegMovetoRel(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(t,e){return new window.SVGPathSegLinetoAbs(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(t,e){return new window.SVGPathSegLinetoRel(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(t,e,i,n,r,a){return new window.SVGPathSegCurvetoCubicAbs(void 0,t,e,i,n,r,a)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(t,e,i,n,r,a){return new window.SVGPathSegCurvetoCubicRel(void 0,t,e,i,n,r,a)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(t,e,i,n){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,t,e,i,n)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(t,e,i,n){return new window.SVGPathSegCurvetoQuadraticRel(void 0,t,e,i,n)},window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(t,e,i,n,r,a,o){return new window.SVGPathSegArcAbs(void 0,t,e,i,n,r,a,o)},window.SVGPathElement.prototype.createSVGPathSegArcRel=function(t,e,i,n,r,a,o){return new window.SVGPathSegArcRel(void 0,t,e,i,n,r,a,o)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(t){return new window.SVGPathSegLinetoHorizontalAbs(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(t){return new window.SVGPathSegLinetoHorizontalRel(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(t){return new window.SVGPathSegLinetoVerticalAbs(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(t){return new window.SVGPathSegLinetoVerticalRel(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(t,e,i,n){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,t,e,i,n)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(t,e,i,n){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,t,e,i,n)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(t,e){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(t,e){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,t,e)},\"getPathSegAtLength\"in window.SVGPathElement.prototype||(window.SVGPathElement.prototype.getPathSegAtLength=function(t){if(void 0===t||!isFinite(t))throw\"Invalid arguments.\";var e=document.createElementNS(\"http://www.w3.org/2000/svg\",\"path\");e.setAttribute(\"d\",this.getAttribute(\"d\"));var i=e.pathSegList.numberOfItems-1;if(i<=0)return 0;do{if(e.pathSegList.removeItem(i),t>e.getTotalLength())break;i--}while(0<i);return i})),\"SVGPathSegList\"in window||(window.SVGPathSegList=function(t){this._pathElement=t,this._list=this._parsePath(this._pathElement.getAttribute(\"d\")),this._mutationObserverConfig={attributes:!0,attributeFilter:[\"d\"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.classname=\"SVGPathSegList\",Object.defineProperty(window.SVGPathSegList.prototype,\"numberOfItems\",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,\"pathSegList\",{get:function(){return this._pathSegList||(this._pathSegList=new window.SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,\"normalizedPathSegList\",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,\"animatedPathSegList\",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,\"animatedNormalizedPathSegList\",{get:function(){return this.pathSegList},enumerable:!0}),window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},window.SVGPathSegList.prototype._updateListFromPathMutations=function(t){var e;this._pathElement&&(e=!1,t.forEach(function(t){\"d\"==t.attributeName&&(e=!0)}),e&&(this._list=this._parsePath(this._pathElement.getAttribute(\"d\"))))},window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute(\"d\",window.SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.segmentChanged=function(t){this._writeListToPath()},window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(t){t._owningPathSegList=null}),this._list=[],this._writeListToPath()},window.SVGPathSegList.prototype.initialize=function(t){return this._checkPathSynchronizedToList(),this._list=[t],(t._owningPathSegList=this)._writeListToPath(),t},window.SVGPathSegList.prototype._checkValidIndex=function(t){if(isNaN(t)||t<0||t>=this.numberOfItems)throw\"INDEX_SIZE_ERR\"},window.SVGPathSegList.prototype.getItem=function(t){return this._checkPathSynchronizedToList(),this._checkValidIndex(t),this._list[t]},window.SVGPathSegList.prototype.insertItemBefore=function(t,e){return this._checkPathSynchronizedToList(),e>this.numberOfItems&&(e=this.numberOfItems),t._owningPathSegList&&(t=t.clone()),this._list.splice(e,0,t),(t._owningPathSegList=this)._writeListToPath(),t},window.SVGPathSegList.prototype.replaceItem=function(t,e){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._checkValidIndex(e),((this._list[e]=t)._owningPathSegList=this)._writeListToPath(),t},window.SVGPathSegList.prototype.removeItem=function(t){this._checkPathSynchronizedToList(),this._checkValidIndex(t);var e=this._list[t];return this._list.splice(t,1),this._writeListToPath(),e},window.SVGPathSegList.prototype.appendItem=function(t){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._list.push(t),(t._owningPathSegList=this)._writeListToPath(),t},window.SVGPathSegList._pathSegArrayAsString=function(t){var e=\"\",i=!0;return t.forEach(function(t){i?(i=!1,e+=t._asPathString()):e+=\" \"+t._asPathString()}),e},window.SVGPathSegList.prototype._parsePath=function(t){if(!t||0==t.length)return[];function e(){this.pathSegList=[]}var n=this;e.prototype.appendSegment=function(t){this.pathSegList.push(t)};function i(t){this._string=t,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()}i.prototype._isCurrentSpace=function(){var t=this._string[this._currentIndex];return t<=\" \"&&(\" \"==t||\"\\n\"==t||\"\\t\"==t||\"\\r\"==t||\"\\f\"==t)},i.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},i.prototype._skipOptionalSpacesOrDelimiter=function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&\",\"!=this._string.charAt(this._currentIndex))&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&\",\"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},i.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},i.prototype.peekSegmentType=function(){var t=this._string[this._currentIndex];return this._pathSegTypeFromChar(t)},i.prototype._pathSegTypeFromChar=function(t){switch(t){case\"Z\":case\"z\":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case\"M\":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case\"m\":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case\"L\":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case\"l\":return window.SVGPathSeg.PATHSEG_LINETO_REL;case\"C\":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case\"c\":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case\"Q\":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case\"q\":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case\"A\":return window.SVGPathSeg.PATHSEG_ARC_ABS;case\"a\":return window.SVGPathSeg.PATHSEG_ARC_REL;case\"H\":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case\"h\":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case\"V\":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case\"v\":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case\"S\":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case\"s\":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case\"T\":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case\"t\":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}},i.prototype._nextCommandHelper=function(t,e){return(\"+\"==t||\"-\"==t||\".\"==t||\"0\"<=t&&t<=\"9\")&&e!=window.SVGPathSeg.PATHSEG_CLOSEPATH?e==window.SVGPathSeg.PATHSEG_MOVETO_ABS?window.SVGPathSeg.PATHSEG_LINETO_ABS:e==window.SVGPathSeg.PATHSEG_MOVETO_REL?window.SVGPathSeg.PATHSEG_LINETO_REL:e:window.SVGPathSeg.PATHSEG_UNKNOWN},i.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var t=this.peekSegmentType();return t==window.SVGPathSeg.PATHSEG_MOVETO_ABS||t==window.SVGPathSeg.PATHSEG_MOVETO_REL},i.prototype._parseNumber=function(){var t=0,e=0,i=1,n=0,r=1,a=1,o=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&\"+\"==this._string.charAt(this._currentIndex)?this._currentIndex++:this._currentIndex<this._endIndex&&\"-\"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,r=-1),!(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<\"0\"||\"9\"<this._string.charAt(this._currentIndex))&&\".\"!=this._string.charAt(this._currentIndex))){for(var s=this._currentIndex;this._currentIndex<this._endIndex&&\"0\"<=this._string.charAt(this._currentIndex)&&this._string.charAt(this._currentIndex)<=\"9\";)this._currentIndex++;if(this._currentIndex!=s)for(var c=this._currentIndex-1,d=1;s<=c;)e+=d*(this._string.charAt(c--)-\"0\"),d*=10;if(this._currentIndex<this._endIndex&&\".\"==this._string.charAt(this._currentIndex)){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<\"0\"||\"9\"<this._string.charAt(this._currentIndex))return;for(;this._currentIndex<this._endIndex&&\"0\"<=this._string.charAt(this._currentIndex)&&this._string.charAt(this._currentIndex)<=\"9\";)i*=10,n+=(this._string.charAt(this._currentIndex)-\"0\")/i,this._currentIndex+=1}if(this._currentIndex!=o&&this._currentIndex+1<this._endIndex&&(\"e\"==this._string.charAt(this._currentIndex)||\"E\"==this._string.charAt(this._currentIndex))&&\"x\"!=this._string.charAt(this._currentIndex+1)&&\"m\"!=this._string.charAt(this._currentIndex+1)){if(this._currentIndex++,\"+\"==this._string.charAt(this._currentIndex)?this._currentIndex++:\"-\"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,a=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<\"0\"||\"9\"<this._string.charAt(this._currentIndex))return;for(;this._currentIndex<this._endIndex&&\"0\"<=this._string.charAt(this._currentIndex)&&this._string.charAt(this._currentIndex)<=\"9\";)t*=10,t+=this._string.charAt(this._currentIndex)-\"0\",this._currentIndex++}var l=e+n;if(l*=r,t&&(l*=Math.pow(10,a*t)),o!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),l}},i.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var t=!1,e=this._string.charAt(this._currentIndex++);if(\"0\"==e)t=!1;else{if(\"1\"!=e)return;t=!0}return this._skipOptionalSpacesOrDelimiter(),t}},i.prototype.parseSegment=function(){var t=this._string[this._currentIndex],e=this._pathSegTypeFromChar(t);if(e==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN)return null;if((e=this._nextCommandHelper(t,this._previousCommand))==window.SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;switch(this._previousCommand=e){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(n,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(n,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(n,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(n,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(n,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(n,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(n,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(n,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new window.SVGPathSegClosePath(n);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var i={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicRel(n,i.x,i.y,i.x1,i.y1,i.x2,i.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:i={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicAbs(n,i.x,i.y,i.x1,i.y1,i.x2,i.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:i={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicSmoothRel(n,i.x,i.y,i.x2,i.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:i={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicSmoothAbs(n,i.x,i.y,i.x2,i.y2);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:i={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoQuadraticRel(n,i.x,i.y,i.x1,i.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:i={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoQuadraticAbs(n,i.x,i.y,i.x1,i.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(n,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(n,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:i={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegArcRel(n,i.x,i.y,i.x1,i.y1,i.arcAngle,i.arcLarge,i.arcSweep);case window.SVGPathSeg.PATHSEG_ARC_ABS:i={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegArcAbs(n,i.x,i.y,i.x1,i.y1,i.arcAngle,i.arcLarge,i.arcSweep);default:throw\"Unknown path seg type.\"}};var r=new e,a=new i(t);if(!a.initialCommandIsMoveTo())return[];for(;a.hasMoreData();){var o=a.parseSegment();if(!o)return[];r.appendSegment(o)}return r.pathSegList}),String.prototype.padEnd||(String.prototype.padEnd=function(t,e){return t>>=0,e=String(void 0!==e?e:\" \"),this.length>t?String(this):((t-=this.length)>e.length&&(e+=e.repeat(t/e.length)),String(this)+e.slice(0,t))}),\"function\"!=typeof Object.assign&&Object.defineProperty(Object,\"assign\",{value:function(t,e){if(null==t)throw new TypeError(\"Cannot convert undefined or null to object\");for(var i=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])}return i},writable:!0,configurable:!0}),(n.prototype.axis=function(){}).labels=function(e){var i=this.internal;arguments.length&&(Object.keys(e).forEach(function(t){i.axis.setLabelText(t,e[t])}),i.axis.updateLabels())},n.prototype.axis.max=function(t){var e=this.internal,i=e.config;if(!arguments.length)return{x:i.axis_x_max,y:i.axis_y_max,y2:i.axis_y2_max};\"object\"==typeof t?(C(t.x)&&(i.axis_x_max=t.x),C(t.y)&&(i.axis_y_max=t.y),C(t.y2)&&(i.axis_y2_max=t.y2)):i.axis_y_max=i.axis_y2_max=t,e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},n.prototype.axis.min=function(t){var e=this.internal,i=e.config;if(!arguments.length)return{x:i.axis_x_min,y:i.axis_y_min,y2:i.axis_y2_min};\"object\"==typeof t?(C(t.x)&&(i.axis_x_min=t.x),C(t.y)&&(i.axis_y_min=t.y),C(t.y2)&&(i.axis_y2_min=t.y2)):i.axis_y_min=i.axis_y2_min=t,e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},n.prototype.axis.range=function(t){if(!arguments.length)return{max:this.axis.max(),min:this.axis.min()};k(t.max)&&this.axis.max(t.max),k(t.min)&&this.axis.min(t.min)},n.prototype.axis.types=function(t){var e=this.internal;if(void 0===t)return{y:e.config.axis_y_type,y2:e.config.axis_y2_type};k(t.y)&&(e.config.axis_y_type=t.y),k(t.y2)&&(e.config.axis_y2_type=t.y2),e.updateScales(),e.redraw()},n.prototype.category=function(t,e){var i=this.internal,n=i.config;return 1<arguments.length&&(n.axis_x_categories[t]=e,i.redraw()),n.axis_x_categories[t]},n.prototype.categories=function(t){var e=this.internal,i=e.config;return arguments.length&&(i.axis_x_categories=t,e.redraw()),i.axis_x_categories},n.prototype.resize=function(t){var e=this.internal.config;e.size_width=t?t.width:null,e.size_height=t?t.height:null,this.flush()},n.prototype.flush=function(){this.internal.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},n.prototype.destroy=function(){var e=this.internal;return window.clearInterval(e.intervalForObserveInserted),void 0!==e.resizeTimeout&&window.clearTimeout(e.resizeTimeout),window.removeEventListener(\"resize\",e.resizeIfElementDisplayed),e.resizeFunction.remove(),e.unbindWindowFocus(),e.selectChart.classed(\"c3\",!1).html(\"\"),Object.keys(e).forEach(function(t){e[t]=null}),null},n.prototype.color=function(t){return this.internal.color(t)},(n.prototype.data=function(e){var t=this.internal.data.targets;return void 0===e?t:t.filter(function(t){return 0<=[].concat(e).indexOf(t.id)})}).shown=function(t){return this.internal.filterTargetsToShow(this.data(t))},n.prototype.data.values=function(t,n){void 0===n&&(n=!0);var e,i=null;return!t||(e=this.data(t))&&o(e)&&(i=e.reduce(function(t,e){var i=e.values.map(function(t){return t.value});return n?t=t.concat(i):t.push(i),t},[])),i},n.prototype.data.names=function(t){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes(\"names\",t)},n.prototype.data.colors=function(t){return this.internal.updateDataAttributes(\"colors\",t)},n.prototype.data.axes=function(t){return this.internal.updateDataAttributes(\"axes\",t)},n.prototype.data.stackNormalized=function(t){if(void 0===t)return this.internal.isStackNormalized();this.internal.config.data_stack_normalize=!!t,this.internal.redraw()},(n.prototype.donut=function(){}).padAngle=function(t){if(void 0===t)return this.internal.config.donut_padAngle;this.internal.config.donut_padAngle=t,this.flush()},n.prototype.flow=function(t){var r,e,i,n,a,o,s,c=this.internal,d=[],l=c.getMaxDataCount(),u=0,h=0;if(t.json)e=c.convertJsonToData(t.json,t.keys);else if(t.rows)e=c.convertRowsToData(t.rows);else{if(!t.columns)return;e=c.convertColumnsToData(t.columns)}r=c.convertDataToTargets(e,!0),c.data.targets.forEach(function(t){for(var e,i=!1,n=0;n<r.length;n++)if(t.id===r[n].id){for(i=!0,t.values[t.values.length-1]&&(h=t.values[t.values.length-1].index+1),u=r[n].values.length,e=0;e<u;e++)r[n].values[e].index=h+e,c.isTimeSeries()||(r[n].values[e].x=h+e);t.values=t.values.concat(r[n].values),r.splice(n,1);break}i||d.push(t.id)}),c.data.targets.forEach(function(t){for(var e,i=0;i<d.length;i++)if(t.id===d[i])for(h=t.values[t.values.length-1].index+1,e=0;e<u;e++)t.values.push({id:t.id,index:h+e,x:c.isTimeSeries()?c.getOtherTargetX(h+e):h+e,value:null})}),c.data.targets.length&&r.forEach(function(t){for(var e=[],i=c.data.targets[0].values[0].index;i<h;i++)e.push({id:t.id,index:i,x:c.isTimeSeries()?c.getOtherTargetX(i):i,value:null});t.values.forEach(function(t){t.index+=h,c.isTimeSeries()||(t.x+=h)}),t.values=e.concat(t.values)}),c.data.targets=c.data.targets.concat(r),c.getMaxDataCount(),a=(n=c.data.targets[0]).values[0],k(t.to)?(u=0,s=c.isTimeSeries()?c.parseDate(t.to):t.to,n.values.forEach(function(t){t.x<s&&u++})):k(t.length)&&(u=t.length),l?1===l&&c.isTimeSeries()&&(o=(n.values[n.values.length-1].x-a.x)/2,i=[new Date(a.x-o),new Date(+a.x+o)],c.updateXDomain(null,!0,!0,!1,i)):(o=c.isTimeSeries()?1<n.values.length?n.values[n.values.length-1].x-a.x:a.x-c.getXDomain(c.data.targets)[0]:1,i=[a.x-o,a.x],c.updateXDomain(null,!0,!0,!1,i)),c.updateTargets(c.data.targets),c.redraw({flow:{index:a.index,length:u,duration:C(t.duration)?t.duration:c.config.transition_duration,done:t.done,orgDataCount:l},withLegend:!0,withTransition:1<l,withTrimXDomain:!1,withUpdateXAxis:!0})},l.prototype.generateFlow=function(G){var E=this,O=E.config,I=E.d3;return function(){var t,e,n,r,a,o,s,c,d,l,i=G.targets,u=G.flow,h=G.drawBar,g=G.drawLine,p=G.drawArea,f=G.cx,_=G.cy,x=G.xv,y=G.xForText,m=G.yForText,S=G.duration,w=u.index,v=u.length,b=E.getValueOnIndex(E.data.targets[0].values,w),T=E.getValueOnIndex(E.data.targets[0].values,w+v),A=E.x.domain(),P=u.duration||S,C=u.done||function(){},L=E.generateWait();E.flowing=!0,E.data.targets.forEach(function(t){t.values.splice(0,v)}),e=E.updateXDomain(i,!0,!0),E.updateXGrid&&E.updateXGrid(!0),n=E.xgrid||I.selectAll([]),r=E.xgridLines||I.selectAll([]),a=E.mainRegion||I.selectAll([]),o=E.mainText||I.selectAll([]),s=E.mainBar||I.selectAll([]),c=E.mainLine||I.selectAll([]),d=E.mainArea||I.selectAll([]),l=E.mainCircle||I.selectAll([]),t=\"translate(\"+(u.orgDataCount?1===u.orgDataCount||(b&&b.x)===(T&&T.x)||E.isTimeSeries()?E.x(A[0])-E.x(e[0]):E.x(b.x)-E.x(T.x):1!==E.data.targets[0].values.length?E.x(A[0])-E.x(e[0]):E.isTimeSeries()?(b=E.getValueOnIndex(E.data.targets[0].values,0),T=E.getValueOnIndex(E.data.targets[0].values,E.data.targets[0].values.length-1),E.x(b.x)-E.x(T.x)):R(e)/2)+\",0) scale(\"+R(A)/R(e)+\",1)\",E.hideXGridFocus();var V=I.transition().ease(I.easeLinear).duration(P);L.add(E.xAxis(E.axes.x,V)),L.add(s.transition(V).attr(\"transform\",t)),L.add(c.transition(V).attr(\"transform\",t)),L.add(d.transition(V).attr(\"transform\",t)),L.add(l.transition(V).attr(\"transform\",t)),L.add(o.transition(V).attr(\"transform\",t)),L.add(a.filter(E.isRegionOnX).transition(V).attr(\"transform\",t)),L.add(n.transition(V).attr(\"transform\",t)),L.add(r.transition(V).attr(\"transform\",t)),L(function(){var t,e=[],i=[];if(v){for(t=0;t<v;t++)e.push(\".\"+Y.shape+\"-\"+(w+t)),i.push(\".\"+Y.text+\"-\"+(w+t));E.svg.selectAll(\".\"+Y.shapes).selectAll(e).remove(),E.svg.selectAll(\".\"+Y.texts).selectAll(i).remove(),E.svg.select(\".\"+Y.xgrid).remove()}n.attr(\"transform\",null).attr(\"x1\",E.xgridAttr.x1).attr(\"x2\",E.xgridAttr.x2).attr(\"y1\",E.xgridAttr.y1).attr(\"y2\",E.xgridAttr.y2).style(\"opacity\",E.xgridAttr.opacity),r.attr(\"transform\",null),r.select(\"line\").attr(\"x1\",O.axis_rotated?0:x).attr(\"x2\",O.axis_rotated?E.width:x),r.select(\"text\").attr(\"x\",O.axis_rotated?E.width:0).attr(\"y\",x),s.attr(\"transform\",null).attr(\"d\",h),c.attr(\"transform\",null).attr(\"d\",g),d.attr(\"transform\",null).attr(\"d\",p),l.attr(\"transform\",null).attr(\"cx\",f).attr(\"cy\",_),o.attr(\"transform\",null).attr(\"x\",y).attr(\"y\",m).style(\"fill-opacity\",E.opacityForText.bind(E)),a.attr(\"transform\",null),a.filter(E.isRegionOnX).attr(\"x\",E.regionX.bind(E)).attr(\"width\",E.regionWidth.bind(E)),C(),E.flowing=!1})}},n.prototype.focus=function(e){var t,i=this.internal;e=i.mapToTargetIds(e),t=i.svg.selectAll(i.selectorTargets(e.filter(i.isTargetToShow,i))),this.revert(),this.defocus(),t.classed(Y.focused,!0).classed(Y.defocused,!1),i.hasArcType()&&i.expandArc(e),i.toggleFocusLegend(e,!0),i.focusedTargetIds=e,i.defocusedTargetIds=i.defocusedTargetIds.filter(function(t){return e.indexOf(t)<0})},n.prototype.defocus=function(e){var t=this.internal;e=t.mapToTargetIds(e),t.svg.selectAll(t.selectorTargets(e.filter(t.isTargetToShow,t))).classed(Y.focused,!1).classed(Y.defocused,!0),t.hasArcType()&&t.unexpandArc(e),t.toggleFocusLegend(e,!1),t.focusedTargetIds=t.focusedTargetIds.filter(function(t){return e.indexOf(t)<0}),t.defocusedTargetIds=e},n.prototype.revert=function(t){var e=this.internal;t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t)).classed(Y.focused,!1).classed(Y.defocused,!1),e.hasArcType()&&e.unexpandArc(t),e.config.legend_show&&(e.showLegend(t.filter(e.isLegendToShow.bind(e))),e.legend.selectAll(e.selectorLegends(t)).filter(function(){return e.d3.select(this).classed(Y.legendItemFocused)}).classed(Y.legendItemFocused,!1)),e.focusedTargetIds=[],e.defocusedTargetIds=[]},(n.prototype.xgrids=function(t){var e=this.internal,i=e.config;return t&&(i.grid_x_lines=t,e.redrawWithoutRescale()),i.grid_x_lines}).add=function(t){var e=this.internal;return this.xgrids(e.config.grid_x_lines.concat(t||[]))},n.prototype.xgrids.remove=function(t){this.internal.removeGridLines(t,!0)},(n.prototype.ygrids=function(t){var e=this.internal,i=e.config;return t&&(i.grid_y_lines=t,e.redrawWithoutRescale()),i.grid_y_lines}).add=function(t){var e=this.internal;return this.ygrids(e.config.grid_y_lines.concat(t||[]))},n.prototype.ygrids.remove=function(t){this.internal.removeGridLines(t,!1)},n.prototype.groups=function(t){var e=this.internal,i=e.config;return w(t)||(i.data_groups=t,e.redraw()),i.data_groups},(n.prototype.legend=function(){}).show=function(t){var e=this.internal;e.showLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},n.prototype.legend.hide=function(t){var e=this.internal;e.hideLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!1})},n.prototype.load=function(e){var t=this.internal,i=t.config;e.xs&&t.addXs(e.xs),\"names\"in e&&n.prototype.data.names.bind(this)(e.names),\"classes\"in e&&Object.keys(e.classes).forEach(function(t){i.data_classes[t]=e.classes[t]}),\"categories\"in e&&t.isCategorized()&&(i.axis_x_categories=e.categories),\"axes\"in e&&Object.keys(e.axes).forEach(function(t){i.data_axes[t]=e.axes[t]}),\"colors\"in e&&Object.keys(e.colors).forEach(function(t){i.data_colors[t]=e.colors[t]}),\"cacheIds\"in e&&t.hasCaches(e.cacheIds)?t.load(t.getCaches(e.cacheIds),e.done):e.unload?t.unload(t.mapToTargetIds(!0===e.unload?null:e.unload),function(){t.loadFromArgs(e)}):t.loadFromArgs(e)},n.prototype.unload=function(t){var e=this.internal;(t=t||{})instanceof Array?t={ids:t}:\"string\"==typeof t&&(t={ids:[t]}),e.unload(e.mapToTargetIds(t.ids),function(){e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),t.done&&t.done()})},(n.prototype.pie=function(){}).padAngle=function(t){if(void 0===t)return this.internal.config.pie_padAngle;this.internal.config.pie_padAngle=t,this.flush()},(n.prototype.regions=function(t){var e=this.internal,i=e.config;return t&&(i.regions=t,e.redrawWithoutRescale()),i.regions}).add=function(t){var e=this.internal,i=e.config;return t&&(i.regions=i.regions.concat(t),e.redrawWithoutRescale()),i.regions},n.prototype.regions.remove=function(t){var e=this.internal,i=e.config,n=B(t=t||{},\"duration\",i.transition_duration),r=B(t,\"classes\",[Y.region]),a=e.main.select(\".\"+Y.regions).selectAll(r.map(function(t){return\".\"+t}));return(n?a.transition().duration(n):a).style(\"opacity\",0).remove(),i.regions=i.regions.filter(function(t){var e=!1;return!t.class||(t.class.split(\" \").forEach(function(t){0<=r.indexOf(t)&&(e=!0)}),!e)}),i.regions},n.prototype.selected=function(t){var e=this.internal,i=e.d3;return e.main.selectAll(\".\"+Y.shapes+e.getTargetSelectorSuffix(t)).selectAll(\".\"+Y.shape).filter(function(){return i.select(this).classed(Y.SELECTED)}).nodes().map(function(t){var e=t.__data__;return e.data?e.data:e})},n.prototype.select=function(c,d,l){var u=this.internal,h=u.d3,g=u.config;g.data_selection_enabled&&u.main.selectAll(\".\"+Y.shapes).selectAll(\".\"+Y.shape).each(function(t,e){var i=h.select(this),n=t.data?t.data.id:t.id,r=u.getToggle(this,t).bind(u),a=g.data_selection_grouped||!c||0<=c.indexOf(n),o=!d||0<=d.indexOf(e),s=i.classed(Y.SELECTED);i.classed(Y.line)||i.classed(Y.area)||(a&&o?g.data_selection_isselectable(t)&&!s&&r(!0,i.classed(Y.SELECTED,!0),t,e):k(l)&&l&&s&&r(!1,i.classed(Y.SELECTED,!1),t,e))})},n.prototype.unselect=function(c,d){var l=this.internal,u=l.d3,h=l.config;h.data_selection_enabled&&l.main.selectAll(\".\"+Y.shapes).selectAll(\".\"+Y.shape).each(function(t,e){var i=u.select(this),n=t.data?t.data.id:t.id,r=l.getToggle(this,t).bind(l),a=h.data_selection_grouped||!c||0<=c.indexOf(n),o=!d||0<=d.indexOf(e),s=i.classed(Y.SELECTED);i.classed(Y.line)||i.classed(Y.area)||a&&o&&h.data_selection_isselectable(t)&&s&&r(!1,i.classed(Y.SELECTED,!1),t,e)})},n.prototype.show=function(t,e){var i,n=this.internal;t=n.mapToTargetIds(t),e=e||{},n.removeHiddenTargetIds(t),(i=n.svg.selectAll(n.selectorTargets(t))).transition().style(\"display\",c()?\"block\":\"initial\",\"important\").style(\"opacity\",1,\"important\").call(n.endall,function(){i.style(\"opacity\",null).style(\"opacity\",1)}),e.withLegend&&n.showLegend(t),n.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},n.prototype.hide=function(t,e){var i,n=this.internal;t=n.mapToTargetIds(t),e=e||{},n.addHiddenTargetIds(t),(i=n.svg.selectAll(n.selectorTargets(t))).transition().style(\"opacity\",0,\"important\").call(n.endall,function(){i.style(\"opacity\",null).style(\"opacity\",0),i.style(\"display\",\"none\")}),e.withLegend&&n.hideLegend(t),n.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},n.prototype.toggle=function(t,e){var i=this,n=this.internal;n.mapToTargetIds(t).forEach(function(t){n.isTargetToShow(t)?i.hide(t,e):i.show(t,e)})},(n.prototype.subchart=function(){}).isShown=function(){return this.internal.config.subchart_show},n.prototype.subchart.show=function(){var e=this.internal;e.config.subchart_show||(e.config.subchart_show=!0,e.initSubchart(),e.updateDimension(),e.initSubchartBrush(),e.updateTargetsForSubchart(e.getTargets()),e.mapToIds(e.data.targets).forEach(function(t){e.withoutFadeIn[t]=!1}),e.updateAndRedraw(),e.showTargets())},n.prototype.subchart.hide=function(){var t=this.internal;t.config.subchart_show&&(t.config.subchart_show=!1,t.removeSubchart(),t.redraw())},(n.prototype.tooltip=function(){}).show=function(e){var t,i,n=this.internal,r={},r=e.mouse?e.mouse:(e.data?i=e.data:void 0!==e.x&&(t=e.id?n.data.targets.filter(function(t){return t.id===e.id}):n.data.targets,i=n.filterByX(t,e.x).slice(0,1)[0]),i?n.getMousePosition(i):null);n.dispatchEvent(\"mousemove\",r),n.config.tooltip_onshow.call(n,i)},n.prototype.tooltip.hide=function(){this.internal.dispatchEvent(\"mouseout\",0),this.internal.config.tooltip_onhide.call(this)},n.prototype.transform=function(t,e){var i=this.internal,n=0<=[\"pie\",\"donut\"].indexOf(t)?{withTransform:!0}:null;i.transformTo(e,t,n)},l.prototype.transformTo=function(t,e,i){var n=this,r=!n.hasArcType(),a=i||{withTransitionForAxis:r};a.withTransitionForTransform=!1,n.transiting=!1,n.setTargetType(t,e),n.updateTargets(n.data.targets),n.updateAndRedraw(a)},n.prototype.x=function(t){var e=this.internal;return arguments.length&&(e.updateTargetX(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},n.prototype.xs=function(t){var e=this.internal;return arguments.length&&(e.updateTargetXs(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},(n.prototype.zoom=function(t){var e=this.internal;return t?(e.isTimeSeries()&&(t=t.map(function(t){return e.parseDate(t)})),e.config.subchart_show?e.brush.selectionAsValue(t,!0):(e.updateXDomain(null,!0,!1,!1,t),e.redraw({withY:e.config.zoom_rescale,withSubchart:!1})),e.config.zoom_onzoom.call(this,e.x.orgDomain()),t):e.x.domain()}).enable=function(t){var e=this.internal;e.config.zoom_enabled=t,e.updateAndRedraw()},n.prototype.unzoom=function(){var t=this.internal;t.config.subchart_show?t.brush.clear():(t.updateXDomain(null,!0,!1,!1,t.subX.domain()),t.redraw({withY:t.config.zoom_rescale,withSubchart:!1}))},n.prototype.zoom.max=function(t){var e=this.internal,i=e.config,n=e.d3;if(0!==t&&!t)return i.zoom_x_max;i.zoom_x_max=n.max([e.orgXDomain[1],t])},n.prototype.zoom.min=function(t){var e=this.internal,i=e.config,n=e.d3;if(0!==t&&!t)return i.zoom_x_min;i.zoom_x_min=n.min([e.orgXDomain[0],t])},n.prototype.zoom.range=function(t){if(!arguments.length)return{max:this.domain.max(),min:this.domain.min()};k(t.max)&&this.domain.max(t.max),k(t.min)&&this.domain.min(t.min)},l.prototype.initPie=function(){var t=this,e=t.d3;t.pie=e.pie().padAngle(this.getPadAngle.bind(this)).value(function(t){return t.values.reduce(function(t,e){return t+e.value},0)});var i,n=t.getOrderFunction();n&&(t.isOrderAsc()||t.isOrderDesc())&&(i=n,n=function(t,e){return-1*i(t,e)}),t.pie.sort(n||null)},l.prototype.updateRadius=function(){var t=this,e=t.config,i=e.gauge_width||e.donut_width,n=t.filterTargetsToShow(t.data.targets).length*t.config.gauge_arcs_minWidth;t.radiusExpanded=Math.min(t.arcWidth,t.arcHeight)/2*(t.hasType(\"gauge\")?.85:1),t.radius=.95*t.radiusExpanded,t.innerRadiusRatio=i?(t.radius-i)/t.radius:.6,t.innerRadius=t.hasType(\"donut\")||t.hasType(\"gauge\")?t.radius*t.innerRadiusRatio:0,t.gaugeArcWidth=i||(n<=t.radius-t.innerRadius?t.radius-t.innerRadius:n<=t.radius?n:t.radius)},l.prototype.getPadAngle=function(){return this.hasType(\"pie\")?this.config.pie_padAngle||0:this.hasType(\"donut\")&&this.config.donut_padAngle||0},l.prototype.updateArc=function(){var t=this;t.svgArc=t.getSvgArc(),t.svgArcExpanded=t.getSvgArcExpanded(),t.svgArcExpandedSub=t.getSvgArcExpanded(.98)},l.prototype.updateAngle=function(e){var t,i,n,r,a=this,o=a.config,s=!1,c=0;return o?(a.pie(a.filterTargetsToShow(a.data.targets)).forEach(function(t){s||t.data.id!==e.data.id||(s=!0,(e=t).index=c),c++}),isNaN(e.startAngle)&&(e.startAngle=0),isNaN(e.endAngle)&&(e.endAngle=e.startAngle),a.isGaugeType(e.data)&&(t=o.gauge_min,i=o.gauge_max,n=Math.PI*(o.gauge_fullCircle?2:1)/(i-t),r=e.value<t?0:e.value<i?e.value-t:i-t,e.startAngle=o.gauge_startingAngle,e.endAngle=e.startAngle+n*r),s?e:null):null},l.prototype.getSvgArc=function(){function t(t,e){var i;return e?r(t):(i=n.updateAngle(t))?r(i):\"M 0 0\"}var n=this,e=n.hasType(\"gauge\"),i=n.gaugeArcWidth/n.filterTargetsToShow(n.data.targets).length,r=n.d3.arc().outerRadius(function(t){return e?n.radius-i*t.index:n.radius}).innerRadius(function(t){return e?n.radius-i*(t.index+1):n.innerRadius});return t.centroid=r.centroid,t},l.prototype.getSvgArcExpanded=function(e){e=e||1;var i=this,n=i.hasType(\"gauge\"),r=i.gaugeArcWidth/i.filterTargetsToShow(i.data.targets).length,a=Math.min(i.radiusExpanded*e-i.radius,.8*r-100*(1-e)),o=i.d3.arc().outerRadius(function(t){return n?i.radius-r*t.index+a:i.radiusExpanded*e}).innerRadius(function(t){return n?i.radius-r*(t.index+1):i.innerRadius});return function(t){var e=i.updateAngle(t);return e?o(e):\"M 0 0\"}},l.prototype.getArc=function(t,e,i){return i||this.isArcType(t.data)?this.svgArc(t,e):\"M 0 0\"},l.prototype.transformForArcLabel=function(t){var e,i,n,r,a,o,s=this,c=s.config,d=s.updateAngle(t),l=\"\",u=s.hasType(\"gauge\");return d&&!u?(e=this.svgArc.centroid(d),a=isNaN(e[0])?0:e[0],o=isNaN(e[1])?0:e[1],i=Math.sqrt(a*a+o*o),l=\"translate(\"+a*(n=s.hasType(\"donut\")&&c.donut_label_ratio?h(c.donut_label_ratio)?c.donut_label_ratio(t,s.radius,i):c.donut_label_ratio:s.hasType(\"pie\")&&c.pie_label_ratio?h(c.pie_label_ratio)?c.pie_label_ratio(t,s.radius,i):c.pie_label_ratio:s.radius&&i?(.375<36/s.radius?1.175-36/s.radius:.8)*s.radius/i:0)+\",\"+o*n+\")\"):d&&u&&1<s.filterTargetsToShow(s.data.targets).length&&(r=Math.sin(d.endAngle-Math.PI/2),l=\"translate(\"+(a=Math.cos(d.endAngle-Math.PI/2)*(s.radiusExpanded+25))+\",\"+(o=r*(s.radiusExpanded+15-Math.abs(10*r))+3)+\")\"),l},l.prototype.getArcRatio=function(t){return this.getRatio(\"arc\",t)},l.prototype.convertToArcData=function(t){return this.addName({id:t.data.id,value:t.value,ratio:this.getRatio(\"arc\",t),index:t.index})},l.prototype.textForArcLabel=function(t){var e,i,n,r,a,o=this;return o.shouldShowArcLabel()?(i=(e=o.updateAngle(t))?e.value:null,n=o.getRatio(\"arc\",e),r=t.data.id,o.hasType(\"gauge\")||o.meetsArcLabelThreshold(n)?(a=o.getArcLabelFormat())?a(i,n,r):o.defaultArcValueFormat(i,n):\"\"):\"\"},l.prototype.textForGaugeMinMax=function(t,e){var i=this.getGaugeLabelExtents();return i?i(t,e):t},l.prototype.expandArc=function(t){var e,i=this;i.transiting?e=window.setInterval(function(){i.transiting||(window.clearInterval(e),0<i.legend.selectAll(\".c3-legend-item-focused\").size()&&i.expandArc(t))},10):(t=i.mapToTargetIds(t),i.svg.selectAll(i.selectorTargets(t,\".\"+Y.chartArc)).each(function(t){i.shouldExpand(t.data.id)&&i.d3.select(this).selectAll(\"path\").transition().duration(i.expandDuration(t.data.id)).attr(\"d\",i.svgArcExpanded).transition().duration(2*i.expandDuration(t.data.id)).attr(\"d\",i.svgArcExpandedSub).each(function(t){i.isDonutType(t.data)})}))},l.prototype.unexpandArc=function(t){var e=this;e.transiting||(t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t,\".\"+Y.chartArc)).selectAll(\"path\").transition().duration(function(t){return e.expandDuration(t.data.id)}).attr(\"d\",e.svgArc),e.svg.selectAll(\".\"+Y.arc))},l.prototype.expandDuration=function(t){var e=this.config;return this.isDonutType(t)?e.donut_expand_duration:this.isGaugeType(t)?e.gauge_expand_duration:this.isPieType(t)?e.pie_expand_duration:50},l.prototype.shouldExpand=function(t){var e=this.config;return this.isDonutType(t)&&e.donut_expand||this.isGaugeType(t)&&e.gauge_expand||this.isPieType(t)&&e.pie_expand},l.prototype.shouldShowArcLabel=function(){var t=this.config,e=!0;return this.hasType(\"donut\")?e=t.donut_label_show:this.hasType(\"pie\")&&(e=t.pie_label_show),e},l.prototype.meetsArcLabelThreshold=function(t){var e=this.config;return(this.hasType(\"donut\")?e.donut_label_threshold:e.pie_label_threshold)<=t},l.prototype.getArcLabelFormat=function(){var t=this.config,e=t.pie_label_format;return this.hasType(\"gauge\")?e=t.gauge_label_format:this.hasType(\"donut\")&&(e=t.donut_label_format),e},l.prototype.getGaugeLabelExtents=function(){return this.config.gauge_label_extents},l.prototype.getArcTitle=function(){return this.hasType(\"donut\")?this.config.donut_title:\"\"},l.prototype.updateTargetsForArc=function(t){var e=this,i=e.main,n=e.classChartArc.bind(e),r=e.classArcs.bind(e),a=e.classFocus.bind(e),o=i.select(\".\"+Y.chartArcs).selectAll(\".\"+Y.chartArc).data(e.pie(t)).attr(\"class\",function(t){return n(t)+a(t.data)}).enter().append(\"g\").attr(\"class\",n);o.append(\"g\").attr(\"class\",r),o.append(\"text\").attr(\"dy\",e.hasType(\"gauge\")?\"-.1em\":\".35em\").style(\"opacity\",0).style(\"text-anchor\",\"middle\").style(\"pointer-events\",\"none\")},l.prototype.initArc=function(){var t=this;t.arcs=t.main.select(\".\"+Y.chart).append(\"g\").attr(\"class\",Y.chartArcs).attr(\"transform\",t.getTranslate(\"arc\")),t.arcs.append(\"text\").attr(\"class\",Y.chartArcsTitle).style(\"text-anchor\",\"middle\").text(t.getArcTitle())},l.prototype.redrawArc=function(t,e,i){var n,r,a,o,l=this,u=l.d3,s=l.config,c=l.main,d=l.hasType(\"gauge\"),h=c.selectAll(\".\"+Y.arcs).selectAll(\".\"+Y.arc).data(l.arcData.bind(l)),g=h.enter().append(\"path\").attr(\"class\",l.classArc.bind(l)).style(\"fill\",function(t){return l.color(t.data)}).style(\"cursor\",function(t){return s.interaction_enabled&&s.data_selection_isselectable(t)?\"pointer\":null}).each(function(t){l.isGaugeType(t.data)&&(t.startAngle=t.endAngle=s.gauge_startingAngle),this._current=t}).merge(h);d&&(r=(n=c.selectAll(\".\"+Y.arcs).selectAll(\".\"+Y.arcLabelLine).data(l.arcData.bind(l))).enter().append(\"rect\").attr(\"class\",function(t){return Y.arcLabelLine+\" \"+Y.target+\" \"+Y.target+\"-\"+t.data.id}).merge(n),1===l.filterTargetsToShow(l.data.targets).length?r.style(\"display\",\"none\"):r.style(\"fill\",function(t){return l.levelColor?l.levelColor(t.data.values.reduce(function(t,e){return t+e.value},0)):l.color(t.data)}).style(\"display\",s.gauge_labelLine_show?\"\":\"none\").each(function(t){var e,i,n,r,a,o=0,s=0,c=0,d=\"\";l.hiddenTargetIds.indexOf(t.data.id)<0&&(e=l.updateAngle(t),i=l.gaugeArcWidth/l.filterTargetsToShow(l.data.targets).length*(e.index+1),a=(n=e.endAngle-Math.PI/2)-(0==(r=l.radius-i)?0:1/r),o=l.radiusExpanded-l.radius+i,s=Math.cos(a)*r,c=Math.sin(a)*r,d=\"rotate(\"+180*n/Math.PI+\", \"+s+\", \"+c+\")\"),u.select(this).attr(\"x\",s).attr(\"y\",c).attr(\"width\",o).attr(\"height\",2).attr(\"transform\",d).style(\"stroke-dasharray\",\"0, \"+(o+2)+\", 0\")})),g.attr(\"transform\",function(t){return!l.isGaugeType(t.data)&&i?\"scale(0)\":\"\"}).on(\"mouseover\",s.interaction_enabled?function(t){var e,i;l.transiting||(e=l.updateAngle(t))&&(i=l.convertToArcData(e),l.expandArc(e.data.id),l.api.focus(e.data.id),l.toggleFocusLegend(e.data.id,!0),l.config.data_onmouseover(i,this))}:null).on(\"mousemove\",s.interaction_enabled?function(t){var e,i=l.updateAngle(t);i&&(e=[l.convertToArcData(i)],l.showTooltip(e,this))}:null).on(\"mouseout\",s.interaction_enabled?function(t){var e,i;l.transiting||(e=l.updateAngle(t))&&(i=l.convertToArcData(e),l.unexpandArc(e.data.id),l.api.revert(),l.revertLegend(),l.hideTooltip(),l.config.data_onmouseout(i,this))}:null).on(\"click\",s.interaction_enabled?function(t,e){var i,n=l.updateAngle(t);n&&(i=l.convertToArcData(n),l.toggleShape&&l.toggleShape(this,i,e),l.config.data_onclick.call(l.api,i,this))}:null).each(function(){l.transiting=!0}).transition().duration(t).attrTween(\"d\",function(i){var n,t=l.updateAngle(i);return t?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),n=u.interpolate(this._current,t),this._current=n(0),function(t){if(null===l.config)return\"M 0 0\";var e=n(t);return e.data=i.data,l.getArc(e,!0)}):function(){return\"M 0 0\"}}).attr(\"transform\",i?\"scale(1)\":\"\").style(\"fill\",function(t){return l.levelColor?l.levelColor(t.data.values.reduce(function(t,e){return t+e.value},0)):l.color(t.data.id)}).call(l.endall,function(){l.transiting=!1}),h.exit().transition().duration(e).style(\"opacity\",0).remove(),c.selectAll(\".\"+Y.chartArc).select(\"text\").style(\"opacity\",0).attr(\"class\",function(t){return l.isGaugeType(t.data)?Y.gaugeValue:\"\"}).text(l.textForArcLabel.bind(l)).attr(\"transform\",l.transformForArcLabel.bind(l)).style(\"font-size\",function(t){return l.isGaugeType(t.data)&&1===l.filterTargetsToShow(l.data.targets).length?Math.round(l.radius/5)+\"px\":\"\"}).transition().duration(t).style(\"opacity\",function(t){return l.isTargetToShow(t.data.id)&&l.isArcType(t.data)?1:0}),c.select(\".\"+Y.chartArcsTitle).style(\"opacity\",l.hasType(\"donut\")||d?1:0),d&&(a=0,(o=l.arcs.select(\"g.\"+Y.chartArcsBackground).selectAll(\"path.\"+Y.chartArcsBackground).data(l.data.targets)).enter().append(\"path\").attr(\"class\",function(t,e){return Y.chartArcsBackground+\" \"+Y.chartArcsBackground+\"-\"+e}).merge(o).attr(\"d\",function(t){if(0<=l.hiddenTargetIds.indexOf(t.id))return\"M 0 0\";var e={data:[{value:s.gauge_max}],startAngle:s.gauge_startingAngle,endAngle:-1*s.gauge_startingAngle*(s.gauge_fullCircle?Math.PI:1),index:a++};return l.getArc(e,!0,!0)}),o.exit().remove(),l.arcs.select(\".\"+Y.chartArcsGaugeUnit).attr(\"dy\",\".75em\").text(s.gauge_label_show?s.gauge_units:\"\"),l.arcs.select(\".\"+Y.chartArcsGaugeMin).attr(\"dx\",-1*(l.innerRadius+(l.radius-l.innerRadius)/(s.gauge_fullCircle?1:2))+\"px\").attr(\"dy\",\"1.2em\").text(s.gauge_label_show?l.textForGaugeMinMax(s.gauge_min,!1):\"\"),l.arcs.select(\".\"+Y.chartArcsGaugeMax).attr(\"dx\",l.innerRadius+(l.radius-l.innerRadius)/(s.gauge_fullCircle?1:2)+\"px\").attr(\"dy\",\"1.2em\").text(s.gauge_label_show?l.textForGaugeMinMax(s.gauge_max,!0):\"\"))},l.prototype.initGauge=function(){var t=this.arcs;this.hasType(\"gauge\")&&(t.append(\"g\").attr(\"class\",Y.chartArcsBackground),t.append(\"text\").attr(\"class\",Y.chartArcsGaugeUnit).style(\"text-anchor\",\"middle\").style(\"pointer-events\",\"none\"),t.append(\"text\").attr(\"class\",Y.chartArcsGaugeMin).style(\"text-anchor\",\"middle\").style(\"pointer-events\",\"none\"),t.append(\"text\").attr(\"class\",Y.chartArcsGaugeMax).style(\"text-anchor\",\"middle\").style(\"pointer-events\",\"none\"))},l.prototype.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},l.prototype.addToCache=function(t,e){this.cache[\"$\"+t]=e},l.prototype.getFromCache=function(t){return this.cache[\"$\"+t]},l.prototype.resetCache=function(){var e=this;Object.keys(this.cache).filter(function(t){return/^\\$/.test(t)}).forEach(function(t){delete e.cache[t]})},l.prototype.hasCaches=function(t){for(var e=0;e<t.length;e++)if(!(t[e]in this.cache))return!1;return!0},l.prototype.addCache=function(t,e){this.cache[t]=this.cloneTarget(e)},l.prototype.getCaches=function(t){for(var e=[],i=0;i<t.length;i++)t[i]in this.cache&&e.push(this.cloneTarget(this.cache[t[i]]));return e},l.prototype.categoryName=function(t){var e=this.config;return t<e.axis_x_categories.length?e.axis_x_categories[t]:t},l.prototype.generateTargetClass=function(t){return t||0===t?(\"-\"+t).replace(/\\s/g,\"-\"):\"\"},l.prototype.generateClass=function(t,e){return\" \"+t+\" \"+t+this.generateTargetClass(e)},l.prototype.classText=function(t){return this.generateClass(Y.text,t.index)},l.prototype.classTexts=function(t){return this.generateClass(Y.texts,t.id)},l.prototype.classShape=function(t){return this.generateClass(Y.shape,t.index)},l.prototype.classShapes=function(t){return this.generateClass(Y.shapes,t.id)},l.prototype.classLine=function(t){return this.classShape(t)+this.generateClass(Y.line,t.id)},l.prototype.classLines=function(t){return this.classShapes(t)+this.generateClass(Y.lines,t.id)},l.prototype.classCircle=function(t){return this.classShape(t)+this.generateClass(Y.circle,t.index)},l.prototype.classCircles=function(t){return this.classShapes(t)+this.generateClass(Y.circles,t.id)},l.prototype.classBar=function(t){return this.classShape(t)+this.generateClass(Y.bar,t.index)},l.prototype.classBars=function(t){return this.classShapes(t)+this.generateClass(Y.bars,t.id)},l.prototype.classArc=function(t){return this.classShape(t.data)+this.generateClass(Y.arc,t.data.id)},l.prototype.classArcs=function(t){return this.classShapes(t.data)+this.generateClass(Y.arcs,t.data.id)},l.prototype.classArea=function(t){return this.classShape(t)+this.generateClass(Y.area,t.id)},l.prototype.classAreas=function(t){return this.classShapes(t)+this.generateClass(Y.areas,t.id)},l.prototype.classRegion=function(t,e){return this.generateClass(Y.region,e)+\" \"+(\"class\"in t?t.class:\"\")},l.prototype.classEvent=function(t){return this.generateClass(Y.eventRect,t.index)},l.prototype.classTarget=function(t){var e=this.config.data_classes[t],i=e?\" \"+Y.target+\"-\"+e:\"\";return this.generateClass(Y.target,t)+i},l.prototype.classFocus=function(t){return this.classFocused(t)+this.classDefocused(t)},l.prototype.classFocused=function(t){return\" \"+(0<=this.focusedTargetIds.indexOf(t.id)?Y.focused:\"\")},l.prototype.classDefocused=function(t){return\" \"+(0<=this.defocusedTargetIds.indexOf(t.id)?Y.defocused:\"\")},l.prototype.classChartText=function(t){return Y.chartText+this.classTarget(t.id)},l.prototype.classChartLine=function(t){return Y.chartLine+this.classTarget(t.id)},l.prototype.classChartBar=function(t){return Y.chartBar+this.classTarget(t.id)},l.prototype.classChartArc=function(t){return Y.chartArc+this.classTarget(t.data.id)},l.prototype.getTargetSelectorSuffix=function(t){var e=this.generateTargetClass(t);return window.CSS&&window.CSS.escape?window.CSS.escape(e):e.replace(/([?!@#$%^&*()=+,.<>'\":;\\[\\]\\/|~`{}\\\\])/g,\"\\\\$1\")},l.prototype.selectorTarget=function(t,e){return(e||\"\")+\".\"+Y.target+this.getTargetSelectorSuffix(t)},l.prototype.selectorTargets=function(t,e){var i=this;return(t=t||[]).length?t.map(function(t){return i.selectorTarget(t,e)}):null},l.prototype.selectorLegend=function(t){return\".\"+Y.legendItem+this.getTargetSelectorSuffix(t)},l.prototype.selectorLegends=function(t){var e=this;return t&&t.length?t.map(function(t){return e.selectorLegend(t)}):null},l.prototype.getClipPath=function(t){return\"url(\"+(c(9)?\"\":document.URL.split(\"#\")[0])+\"#\"+t+\")\"},l.prototype.appendClip=function(t,e){return t.append(\"clipPath\").attr(\"id\",e).append(\"rect\")},l.prototype.getAxisClipX=function(t){var e=Math.max(30,this.margin.left);return t?-(1+e):-(e-1)},l.prototype.getAxisClipY=function(t){return t?-20:-this.margin.top},l.prototype.getXAxisClipX=function(){return this.getAxisClipX(!this.config.axis_rotated)},l.prototype.getXAxisClipY=function(){return this.getAxisClipY(!this.config.axis_rotated)},l.prototype.getYAxisClipX=function(){return this.config.axis_y_inner?-1:this.getAxisClipX(this.config.axis_rotated)},l.prototype.getYAxisClipY=function(){return this.getAxisClipY(this.config.axis_rotated)},l.prototype.getAxisClipWidth=function(t){var e=Math.max(30,this.margin.left),i=Math.max(30,this.margin.right);return t?this.width+2+e+i:this.margin.left+20},l.prototype.getAxisClipHeight=function(t){return(t?this.margin.bottom:this.margin.top+this.height)+20},l.prototype.getXAxisClipWidth=function(){return this.getAxisClipWidth(!this.config.axis_rotated)},l.prototype.getXAxisClipHeight=function(){return this.getAxisClipHeight(!this.config.axis_rotated)},l.prototype.getYAxisClipWidth=function(){return this.getAxisClipWidth(this.config.axis_rotated)+(this.config.axis_y_inner?20:0)},l.prototype.getYAxisClipHeight=function(){return this.getAxisClipHeight(this.config.axis_rotated)},l.prototype.generateColor=function(){var t=this.config,e=this.d3,n=t.data_colors,r=L(t.color_pattern)?t.color_pattern:e.schemeCategory10,a=t.data_color,o=[];return function(t){var e,i=t.id||t.data&&t.data.id||t;return n[i]instanceof Function?e=n[i](t):n[i]?e=n[i]:(o.indexOf(i)<0&&o.push(i),e=r[o.indexOf(i)%r.length],n[i]=e),a instanceof Function?a(e,t):e}},l.prototype.generateLevelColor=function(){var t=this.config,n=t.color_pattern,e=t.color_threshold,r=\"value\"===e.unit,a=e.values&&e.values.length?e.values:[],o=e.max||100;return L(e)&&L(n)?function(t){for(var e=n[n.length-1],i=0;i<a.length;i++)if((r?t:100*t/o)<a[i]){e=n[i];break}return e}:null},l.prototype.getDefaultConfig=function(){var e={bindto:\"#chart\",svg_classname:void 0,size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,zoom_enabled:!1,zoom_initialRange:void 0,zoom_type:\"scroll\",zoom_disableDefaultBehavior:!1,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:void 0,zoom_x_max:void 0,interaction_brighten:!0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_epochs:\"epochs\",data_x:void 0,data_xs:{},data_xFormat:\"%Y-%m-%d\",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(t){return t},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:\"desc\",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_stack_normalize:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_headers:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:\"\",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:\"bottom\",legend_inset_anchor:\"top-left\",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:\"indexed\",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_multilineMax:0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_selection:void 0,axis_x_label:{},axis_x_inner:void 0,axis_y_show:!0,axis_y_type:\"linear\",axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:void 0,axis_y_tick_time_type:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_type:\"linear\",axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:\"tick\",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:\"step\",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,bar_space:0,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_label_ratio:void 0,pie_expand:{},pie_expand_duration:50,pie_padAngle:0,gauge_fullCircle:!1,gauge_label_show:!0,gauge_labelLine_show:!0,gauge_label_format:void 0,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_label_extents:void 0,gauge_units:void 0,gauge_width:void 0,gauge_arcs_minWidth:5,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_label_ratio:void 0,donut_width:void 0,donut_title:\"\",donut_expand:{},donut_expand_duration:50,donut_padAngle:0,spline_interpolation_type:\"cardinal\",stanford_lines:[],stanford_regions:[],stanford_texts:[],stanford_scaleMin:void 0,stanford_scaleMax:void 0,stanford_scaleWidth:void 0,stanford_scaleFormat:void 0,stanford_scaleValues:void 0,stanford_colors:void 0,stanford_padding:{top:0,right:0,bottom:0,left:0},regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_order:void 0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_horizontal:void 0,tooltip_position:void 0,tooltip_contents:function(t,e,i,n){return this.getTooltipContent?this.getTooltipContent(t,e,i,n):\"\"},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:\"0px\",left:\"50px\"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:\"top-center\"};return Object.keys(this.additionalConfig).forEach(function(t){e[t]=this.additionalConfig[t]},this),e},l.prototype.additionalConfig={},l.prototype.loadConfig=function(e){var i,n,r,a=this.config;Object.keys(a).forEach(function(t){i=e,n=t.split(\"_\"),r=function t(){var e=n.shift();return e&&i&&\"object\"==typeof i&&e in i?(i=i[e],t()):e?void 0:i}(),k(r)&&(a[t]=r)})},l.prototype.convertUrlToData=function(t,e,i,n,r){var a,o=this,s=e||\"csv\",c=\"json\"===s?(a=o.d3.json,o.convertJsonToData):(a=\"tsv\"===s?o.d3.tsv:o.d3.csv,o.convertXsvToData);a(t,i).then(function(t){r.call(o,c.call(o,t,n))}).catch(function(t){throw t})},l.prototype.convertXsvToData=function(t){var e=t.columns;return 0===t.length?{keys:e,rows:[e.reduce(function(t,e){var i;return Object.assign(t,((i={})[e]=null,i))},{})]}:{keys:e,rows:[].concat(t)}},l.prototype.convertJsonToData=function(e,t){var r,a=this,o=[],i=t?(t.x?(r=t.value.concat(t.x),a.config.data_x=t.x):r=t.value,o.push(r),e.forEach(function(i){var n=[];r.forEach(function(t){var e=a.findValueInJson(i,t);w(e)&&(e=null),n.push(e)}),o.push(n)}),a.convertRowsToData(o)):(Object.keys(e).forEach(function(t){o.push([t].concat(e[t]))}),a.convertColumnsToData(o));return i},l.prototype.findValueInJson=function(t,e){if(e in t)return t[e];for(var i=(e=(e=e.replace(/\\[(\\w+)\\]/g,\".$1\")).replace(/^\\./,\"\")).split(\".\"),n=0;n<i.length;++n){var r=i[n];if(!(r in t))return;t=t[r]}return t},l.prototype.convertRowsToData=function(t){for(var e=[],i=t[0],n=1;n<t.length;n++){for(var r={},a=0;a<t[n].length;a++){if(w(t[n][a]))throw new Error(\"Source data is missing a component at (\"+n+\",\"+a+\")!\");r[i[a]]=t[n][a]}e.push(r)}return{keys:i,rows:e}},l.prototype.convertColumnsToData=function(t){for(var e=[],i=[],n=0;n<t.length;n++){for(var r=t[n][0],a=1;a<t[n].length;a++){if(w(e[a-1])&&(e[a-1]={}),w(t[n][a]))throw new Error(\"Source data is missing a component at (\"+n+\",\"+a+\")!\");e[a-1][r]=t[n][a]}i.push(r)}return{keys:i,rows:e}},l.prototype.convertDataToTargets=function(t,n){var e,i,r,a,d,l=this,u=l.config;if(o(t)?a=Object.keys(t[0]):(a=t.keys,t=t.rows),r=a.filter(l.isX,l),l.isStanfordGraphType()){if(d=a.filter(l.isEpochs,l),i=a.filter(l.isNotXAndNotEpochs,l),1!==r.length||1!==d.length||1!==i.length)throw new Error(\"You must define the 'x' key name and the 'epochs' for Stanford Diagrams\")}else i=a.filter(l.isNotX,l);return i.forEach(function(i){var e=l.getXKey(i);l.isCustomX()||l.isTimeSeries()?0<=r.indexOf(e)?l.data.xs[i]=(n&&l.data.xs[i]?l.data.xs[i]:[]).concat(t.map(function(t){return t[e]}).filter(C).map(function(t,e){return l.generateTargetX(t,i,e)})):u.data_x?l.data.xs[i]=l.getOtherTargetXs():L(u.data_xs)&&(l.data.xs[i]=l.getXValuesOfXKey(e,l.data.targets)):l.data.xs[i]=t.map(function(t,e){return e})}),i.forEach(function(t){if(!l.data.xs[t])throw new Error('x is not defined for id = \"'+t+'\".')}),(e=i.map(function(o,s){var c=u.data_idConverter(o);return{id:c,id_org:o,values:t.map(function(t,e){var i,n,r=t[l.getXKey(o)],a=null===t[o]||isNaN(t[o])?null:+t[o];return l.isCustomX()&&l.isCategorized()&&!w(r)?(0===s&&0===e&&(u.axis_x_categories=[]),-1===(i=u.axis_x_categories.indexOf(r))&&(i=u.axis_x_categories.length,u.axis_x_categories.push(r))):i=l.generateTargetX(r,o,e),(w(t[o])||l.data.xs[o].length<=e)&&(i=void 0),n={x:i,value:a,id:c},l.isStanfordGraphType()&&(n.epochs=t[d]),n}).filter(function(t){return k(t.x)})}})).forEach(function(t){var e;u.data_xSort&&(t.values=t.values.sort(function(t,e){return(t.x||0===t.x?t.x:1/0)-(e.x||0===e.x?e.x:1/0)})),e=0,t.values.forEach(function(t){t.index=e++}),l.data.xs[t.id].sort(function(t,e){return t-e})}),l.hasNegativeValue=l.hasNegativeValueInTargets(e),l.hasPositiveValue=l.hasPositiveValueInTargets(e),u.data_type&&l.setTargetType(l.mapToIds(e).filter(function(t){return!(t in u.data_types)}),u.data_type),e.forEach(function(t){l.addCache(t.id_org,t)}),e},l.prototype.isEpochs=function(t){var e=this.config;return e.data_epochs&&t===e.data_epochs},l.prototype.isX=function(t){var e,i,n,r=this.config;return r.data_x&&t===r.data_x||L(r.data_xs)&&(e=r.data_xs,i=t,n=!1,Object.keys(e).forEach(function(t){e[t]===i&&(n=!0)}),n)},l.prototype.isNotX=function(t){return!this.isX(t)},l.prototype.isNotXAndNotEpochs=function(t){return!this.isX(t)&&!this.isEpochs(t)},l.prototype.isStackNormalized=function(){return this.config.data_stack_normalize&&0<this.config.data_groups.length},l.prototype.isAxisNormalized=function(e){var i=this;return!!i.isStackNormalized()&&i.data.targets.filter(function(t){return i.axis.getId(t.id)===e}).some(function(t){return i.isTargetNormalized(t.id)})},l.prototype.isTargetNormalized=function(e){return this.isStackNormalized()&&this.config.data_groups.some(function(t){return t.includes(e)})},l.prototype.getXKey=function(t){var e=this.config;return e.data_x?e.data_x:L(e.data_xs)?e.data_xs[t]:null},l.prototype.getTotalPerIndex=function(t){var e=this;if(!e.isStackNormalized())return null;var i=e.getFromCache(\"getTotalPerIndex\");if(void 0!==i)return i[t];var n={y:[],y2:[]};return e.data.targets.filter(function(t){return e.isTargetNormalized(t.id)}).filter(function(t){return e.isTargetToShow(t.id)}).forEach(function(t){var i=n[e.axis.getId(t.id)];t.values.forEach(function(t,e){i[e]||(i[e]=0),i[e]+=s(t.value)?t.value:0})}),e.addToCache(\"getTotalPerIndex\",n),n[t]},l.prototype.getTotalDataSum=function(){var e=this,t=e.getFromCache(\"getTotalDataSum\");if(void 0!==t)return t;var i,n=(i=e.data.targets.filter(function(t){return e.isTargetToShow(t.id)}).map(function(t){return t.values}),(Array.isArray(i)?[].concat.apply([],i):[]).map(function(t){return t.value}).reduce(function(t,e){return t+e},0));return e.addToCache(\"getTotalDataSum\",n),n},l.prototype.getXValuesOfXKey=function(e,t){var i,n=this;return(t&&L(t)?n.mapToIds(t):[]).forEach(function(t){n.getXKey(t)===e&&(i=n.data.xs[t])}),i},l.prototype.getXValue=function(t,e){return t in this.data.xs&&this.data.xs[t]&&C(this.data.xs[t][e])?this.data.xs[t][e]:e},l.prototype.getOtherTargetXs=function(){var t=Object.keys(this.data.xs);return t.length?this.data.xs[t[0]]:null},l.prototype.getOtherTargetX=function(t){var e=this.getOtherTargetXs();return e&&t<e.length?e[t]:null},l.prototype.addXs=function(e){var i=this;Object.keys(e).forEach(function(t){i.config.data_xs[t]=e[t]})},l.prototype.addName=function(t){var e;return t&&(e=this.config.data_names[t.id],t.name=void 0!==e?e:t.id),t},l.prototype.getValueOnIndex=function(t,e){var i=t.filter(function(t){return t.index===e});return i.length?i[0]:null},l.prototype.updateTargetX=function(t,n){var r=this;t.forEach(function(i){i.values.forEach(function(t,e){t.x=r.generateTargetX(n[e],i.id,e)}),r.data.xs[i.id]=n})},l.prototype.updateTargetXs=function(t,e){var i=this;t.forEach(function(t){e[t.id]&&i.updateTargetX([t],e[t.id])})},l.prototype.generateTargetX=function(t,e,i){var n=this,r=n.isTimeSeries()?t?n.parseDate(t):n.parseDate(n.getXValue(e,i)):n.isCustomX()&&!n.isCategorized()?C(t)?+t:n.getXValue(e,i):i;return r},l.prototype.cloneTarget=function(t){return{id:t.id,id_org:t.id_org,values:t.values.map(function(t){return{x:t.x,value:t.value,id:t.id}})}},l.prototype.getMaxDataCount=function(){return this.d3.max(this.data.targets,function(t){return t.values.length})},l.prototype.mapToIds=function(t){return t.map(function(t){return t.id})},l.prototype.mapToTargetIds=function(t){return t?[].concat(t):this.mapToIds(this.data.targets)},l.prototype.hasTarget=function(t,e){for(var i=this.mapToIds(t),n=0;n<i.length;n++)if(i[n]===e)return!0;return!1},l.prototype.isTargetToShow=function(t){return this.hiddenTargetIds.indexOf(t)<0},l.prototype.isLegendToShow=function(t){return this.hiddenLegendIds.indexOf(t)<0},l.prototype.getTargetsToShow=function(){return this.filterTargetsToShow(this.data.targets)},l.prototype.filterTargetsToShow=function(t){var e=this;return t.filter(function(t){return e.isTargetToShow(t.id)})},l.prototype.getTargets=function(){return this.data.targets},l.prototype.mapTargetsToUniqueXs=function(t){var e=this.d3.set(this.d3.merge(t.map(function(t){return t.values.map(function(t){return+t.x})}))).values();return(e=this.isTimeSeries()?e.map(function(t){return new Date(+t)}):e.map(function(t){return+t})).sort(function(t,e){return t<e?-1:e<t?1:e<=t?0:NaN})},l.prototype.addHiddenTargetIds=function(t){t=t instanceof Array?t:new Array(t);for(var e=0;e<t.length;e++)this.hiddenTargetIds.indexOf(t[e])<0&&(this.hiddenTargetIds=this.hiddenTargetIds.concat(t[e]));this.resetCache()},l.prototype.removeHiddenTargetIds=function(e){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(t){return e.indexOf(t)<0}),this.resetCache()},l.prototype.addHiddenLegendIds=function(t){t=t instanceof Array?t:new Array(t);for(var e=0;e<t.length;e++)this.hiddenLegendIds.indexOf(t[e])<0&&(this.hiddenLegendIds=this.hiddenLegendIds.concat(t[e]))},l.prototype.removeHiddenLegendIds=function(e){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(t){return e.indexOf(t)<0})},l.prototype.getValuesAsIdKeyed=function(t){var i={};return t.forEach(function(e){i[e.id]=[],e.values.forEach(function(t){i[e.id].push(t.value)})}),i},l.prototype.checkValueInTargets=function(t,e){for(var i,n,r=Object.keys(t),a=0;a<r.length;a++)for(n=t[r[a]].values,i=0;i<n.length;i++)if(e(n[i].value))return!0;return!1},l.prototype.hasNegativeValueInTargets=function(t){return this.checkValueInTargets(t,function(t){return t<0})},l.prototype.hasPositiveValueInTargets=function(t){return this.checkValueInTargets(t,function(t){return 0<t})},l.prototype.isOrderDesc=function(){var t=this.config;return\"string\"==typeof t.data_order&&\"desc\"===t.data_order.toLowerCase()},l.prototype.isOrderAsc=function(){var t=this.config;return\"string\"==typeof t.data_order&&\"asc\"===t.data_order.toLowerCase()},l.prototype.getOrderFunction=function(){var t=this.config,r=this.isOrderAsc(),e=this.isOrderDesc();if(r||e){var a=function(t,e){return t+Math.abs(e.value)};return function(t,e){var i=t.values.reduce(a,0),n=e.values.reduce(a,0);return r?n-i:i-n}}if(h(t.data_order))return t.data_order;if(o(t.data_order)){var i=t.data_order;return function(t,e){return i.indexOf(t.id)-i.indexOf(e.id)}}},l.prototype.orderTargets=function(t){var e=this.getOrderFunction();return e&&t.sort(e),t},l.prototype.filterByIndex=function(t,e){return this.d3.merge(t.map(function(t){return t.values.filter(function(t){return t.index===e})}))},l.prototype.filterByX=function(t,e){return this.d3.merge(t.map(function(t){return t.values})).filter(function(t){return t.x-e==0})},l.prototype.filterRemoveNull=function(t){return t.filter(function(t){return C(t.value)})},l.prototype.filterByXDomain=function(t,e){return t.map(function(t){return{id:t.id,id_org:t.id_org,values:t.values.filter(function(t){return e[0]<=t.x&&t.x<=e[1]})}})},l.prototype.hasDataLabel=function(){var t=this.config;return!(\"boolean\"!=typeof t.data_labels||!t.data_labels)||!(\"object\"!=typeof t.data_labels||!L(t.data_labels))},l.prototype.getDataLabelLength=function(t,e,i){var n=this,r=[0,0];return n.selectChart.select(\"svg\").selectAll(\".dummy\").data([t,e]).enter().append(\"text\").text(function(t){return n.dataLabelFormat(t.id)(t)}).each(function(t,e){r[e]=1.3*d(this)[i]}).remove(),r},l.prototype.isNoneArc=function(t){return this.hasTarget(this.data.targets,t.id)},l.prototype.isArc=function(t){return\"data\"in t&&this.hasTarget(this.data.targets,t.data.id)},l.prototype.findClosestFromTargets=function(t,e){var i=this,n=t.map(function(t){return i.findClosest(t.values,e,i.config.tooltip_horizontal?i.horizontalDistance.bind(i):i.dist.bind(i),i.config.point_sensitivity)}).filter(function(t){return t});return 0===n.length?void 0:1===n.length?n[0]:i.findClosest(n,e,i.dist.bind(i))},l.prototype.findClosestFromTargetsByX=function(t,i){var n,r;return t.forEach(function(t){t.values.forEach(function(t){var e=Math.abs(i-t.x);(void 0===r||e<r)&&(n=t,r=e)})}),n},l.prototype.findClosest=function(t,i,n,r){void 0===r&&(r=1/0);var a,o=this;return t.filter(function(t){return t&&o.isBarType(t.id)}).forEach(function(t){var e;a||(e=o.main.select(\".\"+Y.bars+o.getTargetSelectorSuffix(t.id)+\" .\"+Y.bar+\"-\"+t.index).node(),o.isWithinBar(i,e)&&(a=t))}),t.filter(function(t){return t&&!o.isBarType(t.id)}).forEach(function(t){var e=n(t,i);e<r&&(r=e,a=t)}),a},l.prototype.dist=function(t,e){var i=this.config,n=i.axis_rotated?1:0,r=i.axis_rotated?0:1,a=this.circleY(t,t.index),o=this.x(t.x);return Math.sqrt(Math.pow(o-e[n],2)+Math.pow(a-e[r],2))},l.prototype.horizontalDistance=function(t,e){var i=this.config.axis_rotated?1:0,n=this.x(t.x);return Math.abs(n-e[i])},l.prototype.convertValuesToStep=function(t){var e,i=[].concat(t);if(!this.isCategorized())return t;for(e=t.length+1;0<e;e--)i[e]=i[e-1];return i[0]={x:i[0].x-1,value:i[0].value,id:i[0].id},i[t.length+1]={x:i[t.length].x+1,value:i[t.length].value,id:i[t.length].id},i},l.prototype.getRatio=function(t,e,i){void 0===i&&(i=!1);var n,r=this,a=r.api,o=0;return e&&a.data.shown.call(a).length&&(o=e.ratio||e.value,\"arc\"===t?o=r.hasType(\"gauge\")?(e.endAngle-e.startAngle)/(Math.PI*(r.config.gauge_fullCircle?2:1)):(n=r.getTotalDataSum(),e.value/n):\"index\"===t&&(n=r.getTotalPerIndex(r.axis.getId(e.id)),e.ratio=s(e.value)&&n&&0<n[e.index]?e.value/n[e.index]:0,o=e.ratio)),i&&o?100*o:o},l.prototype.updateDataAttributes=function(t,e){var i=this.config[\"data_\"+t];return void 0===e||(Object.keys(e).forEach(function(t){i[t]=e[t]}),this.redraw({withLegend:!0})),i},l.prototype.load=function(i,n){var r=this;i&&(n.filter&&(i=i.filter(n.filter)),(n.type||n.types)&&i.forEach(function(t){var e=n.types&&n.types[t.id]?n.types[t.id]:n.type;r.setTargetType(t.id,e)}),r.data.targets.forEach(function(t){for(var e=0;e<i.length;e++)if(t.id===i[e].id){t.values=i[e].values,i.splice(e,1);break}}),r.data.targets=r.data.targets.concat(i)),r.updateTargets(r.data.targets),r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),n.done&&n.done()},l.prototype.loadFromArgs=function(e){var i=this;i.resetCache(),e.data?i.load(i.convertDataToTargets(e.data),e):e.url?i.convertUrlToData(e.url,e.mimeType,e.headers,e.keys,function(t){i.load(i.convertDataToTargets(t),e)}):e.json?i.load(i.convertDataToTargets(i.convertJsonToData(e.json,e.keys)),e):e.rows?i.load(i.convertDataToTargets(i.convertRowsToData(e.rows)),e):e.columns?i.load(i.convertDataToTargets(i.convertColumnsToData(e.columns)),e):i.load(null,e)},l.prototype.unload=function(t,e){var i=this;i.resetCache(),e=e||function(){},(t=t.filter(function(t){return i.hasTarget(i.data.targets,t)}))&&0!==t.length?(i.svg.selectAll(t.map(function(t){return i.selectorTarget(t)})).transition().style(\"opacity\",0).remove().call(i.endall,e),t.forEach(function(e){i.withoutFadeIn[e]=!1,i.legend&&i.legend.selectAll(\".\"+Y.legendItem+i.getTargetSelectorSuffix(e)).remove(),i.data.targets=i.data.targets.filter(function(t){return t.id!==e})})):e()},l.prototype.getYDomainMin=function(t){var e,i,n,r,a,o,s=this,c=s.config,d=s.mapToIds(t),l=s.getValuesAsIdKeyed(t);if(0<c.data_groups.length)for(o=s.hasNegativeValueInTargets(t),e=0;e<c.data_groups.length;e++)if(0!==(r=c.data_groups[e].filter(function(t){return 0<=d.indexOf(t)})).length)for(n=r[0],o&&l[n]&&l[n].forEach(function(t,e){l[n][e]=t<0?t:0}),i=1;i<r.length;i++)a=r[i],l[a]&&l[a].forEach(function(t,e){s.axis.getId(a)!==s.axis.getId(n)||!l[n]||o&&0<+t||(l[n][e]+=+t)});return s.d3.min(Object.keys(l).map(function(t){return s.d3.min(l[t])}))},l.prototype.getYDomainMax=function(t){var e,i,n,r,a,o,s=this,c=s.config,d=s.mapToIds(t),l=s.getValuesAsIdKeyed(t);if(0<c.data_groups.length)for(o=s.hasPositiveValueInTargets(t),e=0;e<c.data_groups.length;e++)if(0!==(r=c.data_groups[e].filter(function(t){return 0<=d.indexOf(t)})).length)for(n=r[0],o&&l[n]&&l[n].forEach(function(t,e){l[n][e]=0<t?t:0}),i=1;i<r.length;i++)a=r[i],l[a]&&l[a].forEach(function(t,e){s.axis.getId(a)!==s.axis.getId(n)||!l[n]||o&&+t<0||(l[n][e]+=+t)});return s.d3.max(Object.keys(l).map(function(t){return s.d3.max(l[t])}))},l.prototype.getYDomain=function(t,e,i){var n=this,r=n.config;if(n.isAxisNormalized(e))return[0,100];var a,o,s,c,d,l,u,h,g,p,f,_=t.filter(function(t){return n.axis.getId(t.id)===e}),x=i?n.filterByXDomain(_,i):_,y=\"y2\"===e?r.axis_y2_min:r.axis_y_min,m=\"y2\"===e?r.axis_y2_max:r.axis_y_max,S=n.getYDomainMin(x),w=n.getYDomainMax(x),v=\"y2\"===e?r.axis_y2_center:r.axis_y_center,b=n.hasType(\"bar\",x)&&r.bar_zerobased||n.hasType(\"area\",x)&&r.area_zerobased,T=\"y2\"===e?r.axis_y2_inverted:r.axis_y_inverted,A=n.hasDataLabel()&&r.axis_rotated,P=n.hasDataLabel()&&!r.axis_rotated,S=C(y)?y:!C(m)||S<m?S:m-10,w=C(m)?m:!C(y)||y<w?w:y+10;return 0===x.length?\"y2\"===e?n.y2.domain():n.y.domain():(isNaN(S)&&(S=0),isNaN(w)&&(w=S),S===w&&(S<0?w=0:S=0),g=0<=S&&0<=w,p=S<=0&&w<=0,(C(y)&&g||C(m)&&p)&&(b=!1),b&&(g&&(S=0),p&&(w=0)),s=c=.1*(o=Math.abs(w-S)),void 0!==v&&(w=v+(d=Math.max(Math.abs(S),Math.abs(w))),S=v-d),A?(l=n.getDataLabelLength(S,w,\"width\"),u=R(n.y.range()),s+=o*((h=[l[0]/u,l[1]/u])[1]/(1-h[0]-h[1])),c+=o*(h[0]/(1-h[0]-h[1]))):P&&(l=n.getDataLabelLength(S,w,\"height\"),s+=(f=n.getY(r[\"axis_\"+e+\"_type\"],[0,r.axis_rotated?n.width:n.height],[0,o]))(l[1]),c+=f(l[0])),\"y\"===e&&L(r.axis_y_padding)&&(s=n.axis.getPadding(r.axis_y_padding,\"top\",s,o),c=n.axis.getPadding(r.axis_y_padding,\"bottom\",c,o)),\"y2\"===e&&L(r.axis_y2_padding)&&(s=n.axis.getPadding(r.axis_y2_padding,\"top\",s,o),c=n.axis.getPadding(r.axis_y2_padding,\"bottom\",c,o)),b&&(g&&(c=S),p&&(s=-w)),a=[S-c,w+s],T?a.reverse():a)},l.prototype.getXDomainMin=function(t){var e=this,i=e.config;return k(i.axis_x_min)?e.isTimeSeries()?this.parseDate(i.axis_x_min):i.axis_x_min:e.d3.min(t,function(t){return e.d3.min(t.values,function(t){return t.x})})},l.prototype.getXDomainMax=function(t){var e=this,i=e.config;return k(i.axis_x_max)?e.isTimeSeries()?this.parseDate(i.axis_x_max):i.axis_x_max:e.d3.max(t,function(t){return e.d3.max(t.values,function(t){return t.x})})},l.prototype.getXDomainPadding=function(t){var e,i,n,r=this.config,a=t[1]-t[0],o=this.isCategorized()?0:this.hasType(\"bar\")?1<(e=this.getMaxDataCount())?a/(e-1)/2:.5:.01*a;return\"object\"==typeof r.axis_x_padding&&L(r.axis_x_padding)?(i=C(r.axis_x_padding.left)?r.axis_x_padding.left:o,n=C(r.axis_x_padding.right)?r.axis_x_padding.right:o):i=n=\"number\"==typeof r.axis_x_padding?r.axis_x_padding:o,{left:i,right:n}},l.prototype.getXDomain=function(t){var e=this,i=[e.getXDomainMin(t),e.getXDomainMax(t)],n=i[0],r=i[1],a=e.getXDomainPadding(i),o=0,s=0;return n-r!=0||e.isCategorized()||(r=e.isTimeSeries()?(n=new Date(.5*n.getTime()),new Date(1.5*r.getTime())):(n=0===n?1:.5*n,0===r?-1:1.5*r)),!n&&0!==n||(o=e.isTimeSeries()?new Date(n.getTime()-a.left):n-a.left),!r&&0!==r||(s=e.isTimeSeries()?new Date(r.getTime()+a.right):r+a.right),[o,s]},l.prototype.updateXDomain=function(t,e,i,n,r){var a=this,o=a.config;return i&&(a.x.domain(r||a.d3.extent(a.getXDomain(t))),a.orgXDomain=a.x.domain(),o.zoom_enabled&&a.zoom.update(),a.subX.domain(a.x.domain()),a.brush&&a.brush.updateScale(a.subX)),e&&a.x.domain(r||(!a.brush||a.brush.empty()?a.orgXDomain:a.brush.selectionAsValue())),n&&a.x.domain(a.trimXDomain(a.x.orgDomain())),a.x.domain()},l.prototype.trimXDomain=function(t){var e=this.getZoomDomain(),i=e[0],n=e[1];return t[0]<=i&&(t[1]=+t[1]+(i-t[0]),t[0]=i),n<=t[1]&&(t[0]=t[0]-(t[1]-n),t[1]=n),t},l.prototype.drag=function(t){var e,i,n,r,h,g,p,f,_=this,x=_.config,a=_.main,y=_.d3;_.hasArcType()||x.data_selection_enabled&&x.data_selection_multiple&&(e=_.dragStart[0],i=_.dragStart[1],n=t[0],r=t[1],h=Math.min(e,n),g=Math.max(e,n),p=x.data_selection_grouped?_.margin.top:Math.min(i,r),f=x.data_selection_grouped?_.height:Math.max(i,r),a.select(\".\"+Y.dragarea).attr(\"x\",h).attr(\"y\",p).attr(\"width\",g-h).attr(\"height\",f-p),a.selectAll(\".\"+Y.shapes).selectAll(\".\"+Y.shape).each(function(t,e){if(x.data_selection_isselectable(t)){var i,n,r,a,o,s,c=y.select(this),d=c.classed(Y.SELECTED),l=c.classed(Y.INCLUDED),u=!1;if(c.classed(Y.circle))i=+c.attr(\"cx\"),n=+c.attr(\"cy\"),o=_.togglePoint,u=h<i&&i<g&&p<n&&n<f;else{if(!c.classed(Y.bar))return;i=(s=m(this)).x,n=s.y,r=s.width,a=s.height,o=_.togglePath,u=!(g<i||i+r<h||f<n||n+a<p)}u^l&&(c.classed(Y.INCLUDED,!l),c.classed(Y.SELECTED,!d),o.call(_,!d,c,t,e))}}))},l.prototype.dragstart=function(t){var e=this,i=e.config;e.hasArcType()||i.data_selection_enabled&&(e.dragStart=t,e.main.select(\".\"+Y.chart).append(\"rect\").attr(\"class\",Y.dragarea).style(\"opacity\",.1),e.dragging=!0)},l.prototype.dragend=function(){var t=this,e=t.config;t.hasArcType()||e.data_selection_enabled&&(t.main.select(\".\"+Y.dragarea).transition().duration(100).style(\"opacity\",0).remove(),t.main.selectAll(\".\"+Y.shape).classed(Y.INCLUDED,!1),t.dragging=!1)},l.prototype.getYFormat=function(t){var n=this,r=t&&!n.hasType(\"gauge\")?n.defaultArcValueFormat:n.yFormat,a=t&&!n.hasType(\"gauge\")?n.defaultArcValueFormat:n.y2Format;return function(t,e,i){return(\"y2\"===n.axis.getId(i)?a:r).call(n,t,e)}},l.prototype.yFormat=function(t){var e=this.config;return(e.axis_y_tick_format?e.axis_y_tick_format:this.defaultValueFormat)(t)},l.prototype.y2Format=function(t){var e=this.config;return(e.axis_y2_tick_format?e.axis_y2_tick_format:this.defaultValueFormat)(t)},l.prototype.defaultValueFormat=function(t){return C(t)?+t:\"\"},l.prototype.defaultArcValueFormat=function(t,e){return(100*e).toFixed(1)+\"%\"},l.prototype.dataLabelFormat=function(t){function e(t){return C(t)?+t:\"\"}var i=this.config.data_labels,n=\"function\"==typeof i.format?i.format:\"object\"==typeof i.format?i.format[t]?!0===i.format[t]?e:i.format[t]:function(){return\"\"}:e;return n},l.prototype.initGrid=function(){var t=this,e=t.config,i=t.d3;t.grid=t.main.append(\"g\").attr(\"clip-path\",t.clipPathForGrid).attr(\"class\",Y.grid),e.grid_x_show&&t.grid.append(\"g\").attr(\"class\",Y.xgrids),e.grid_y_show&&t.grid.append(\"g\").attr(\"class\",Y.ygrids),e.grid_focus_show&&t.grid.append(\"g\").attr(\"class\",Y.xgridFocus).append(\"line\").attr(\"class\",Y.xgridFocus),t.xgrid=i.selectAll([]),e.grid_lines_front||t.initGridLines()},l.prototype.initGridLines=function(){var t=this,e=t.d3;t.gridLines=t.main.append(\"g\").attr(\"clip-path\",t.clipPathForGrid).attr(\"class\",Y.grid+\" \"+Y.gridLines),t.gridLines.append(\"g\").attr(\"class\",Y.xgridLines),t.gridLines.append(\"g\").attr(\"class\",Y.ygridLines),t.xgridLines=e.selectAll([])},l.prototype.updateXGrid=function(t){var e=this,i=e.config,n=e.d3,r=e.generateGridData(i.grid_x_type,e.x),a=e.isCategorized()?e.xAxis.tickOffset():0;e.xgridAttr=i.axis_rotated?{x1:0,x2:e.width,y1:function(t){return e.x(t)-a},y2:function(t){return e.x(t)-a}}:{x1:function(t){return e.x(t)+a},x2:function(t){return e.x(t)+a},y1:0,y2:e.height},e.xgridAttr.opacity=function(){return+n.select(this).attr(i.axis_rotated?\"y1\":\"x1\")===(i.axis_rotated?e.height:0)?0:1};var o=e.main.select(\".\"+Y.xgrids).selectAll(\".\"+Y.xgrid).data(r),s=o.enter().append(\"line\").attr(\"class\",Y.xgrid).attr(\"x1\",e.xgridAttr.x1).attr(\"x2\",e.xgridAttr.x2).attr(\"y1\",e.xgridAttr.y1).attr(\"y2\",e.xgridAttr.y2).style(\"opacity\",0);e.xgrid=s.merge(o),t||e.xgrid.attr(\"x1\",e.xgridAttr.x1).attr(\"x2\",e.xgridAttr.x2).attr(\"y1\",e.xgridAttr.y1).attr(\"y2\",e.xgridAttr.y2).style(\"opacity\",e.xgridAttr.opacity),o.exit().remove()},l.prototype.updateYGrid=function(){var t=this,e=t.config,i=t.yAxis.tickValues()||t.y.ticks(e.grid_y_ticks),n=t.main.select(\".\"+Y.ygrids).selectAll(\".\"+Y.ygrid).data(i),r=n.enter().append(\"line\").attr(\"class\",Y.ygrid);t.ygrid=r.merge(n),t.ygrid.attr(\"x1\",e.axis_rotated?t.y:0).attr(\"x2\",e.axis_rotated?t.y:t.width).attr(\"y1\",e.axis_rotated?0:t.y).attr(\"y2\",e.axis_rotated?t.height:t.y),n.exit().remove(),t.smoothLines(t.ygrid,\"grid\")},l.prototype.gridTextAnchor=function(t){return t.position?t.position:\"end\"},l.prototype.gridTextDx=function(t){return\"start\"===t.position?4:\"middle\"===t.position?0:-4},l.prototype.xGridTextX=function(t){return\"start\"===t.position?-this.height:\"middle\"===t.position?-this.height/2:0},l.prototype.yGridTextX=function(t){return\"start\"===t.position?0:\"middle\"===t.position?this.width/2:this.width},l.prototype.updateGrid=function(t){var e,i,n,r,a=this,o=a.main,s=a.config,c=a.xv.bind(a),d=a.yv.bind(a),l=a.xGridTextX.bind(a),u=a.yGridTextX.bind(a);a.grid.style(\"visibility\",a.hasArcType()?\"hidden\":\"visible\"),o.select(\"line.\"+Y.xgridFocus).style(\"visibility\",\"hidden\"),s.grid_x_show&&a.updateXGrid(),(i=(e=o.select(\".\"+Y.xgridLines).selectAll(\".\"+Y.xgridLine).data(s.grid_x_lines)).enter().append(\"g\").attr(\"class\",function(t){return Y.xgridLine+(t.class?\" \"+t.class:\"\")})).append(\"line\").attr(\"x1\",s.axis_rotated?0:c).attr(\"x2\",s.axis_rotated?a.width:c).attr(\"y1\",s.axis_rotated?c:0).attr(\"y2\",s.axis_rotated?c:a.height).style(\"opacity\",0),i.append(\"text\").attr(\"text-anchor\",a.gridTextAnchor).attr(\"transform\",s.axis_rotated?\"\":\"rotate(-90)\").attr(\"x\",s.axis_rotated?u:l).attr(\"y\",c).attr(\"dx\",a.gridTextDx).attr(\"dy\",-5).style(\"opacity\",0),a.xgridLines=i.merge(e),e.exit().transition().duration(t).style(\"opacity\",0).remove(),s.grid_y_show&&a.updateYGrid(),(r=(n=o.select(\".\"+Y.ygridLines).selectAll(\".\"+Y.ygridLine).data(s.grid_y_lines)).enter().append(\"g\").attr(\"class\",function(t){return Y.ygridLine+(t.class?\" \"+t.class:\"\")})).append(\"line\").attr(\"x1\",s.axis_rotated?d:0).attr(\"x2\",s.axis_rotated?d:a.width).attr(\"y1\",s.axis_rotated?0:d).attr(\"y2\",s.axis_rotated?a.height:d).style(\"opacity\",0),r.append(\"text\").attr(\"text-anchor\",a.gridTextAnchor).attr(\"transform\",s.axis_rotated?\"rotate(-90)\":\"\").attr(\"x\",s.axis_rotated?l:u).attr(\"y\",d).attr(\"dx\",a.gridTextDx).attr(\"dy\",-5).style(\"opacity\",0),a.ygridLines=r.merge(n),a.ygridLines.select(\"line\").transition().duration(t).attr(\"x1\",s.axis_rotated?d:0).attr(\"x2\",s.axis_rotated?d:a.width).attr(\"y1\",s.axis_rotated?0:d).attr(\"y2\",s.axis_rotated?a.height:d).style(\"opacity\",1),a.ygridLines.select(\"text\").transition().duration(t).attr(\"x\",s.axis_rotated?a.xGridTextX.bind(a):a.yGridTextX.bind(a)).attr(\"y\",d).text(function(t){return t.text}).style(\"opacity\",1),n.exit().transition().duration(t).style(\"opacity\",0).remove()},l.prototype.redrawGrid=function(t,e){var i=this,n=i.config,r=i.xv.bind(i),a=i.xgridLines.select(\"line\"),o=i.xgridLines.select(\"text\");return[(t?a.transition(e):a).attr(\"x1\",n.axis_rotated?0:r).attr(\"x2\",n.axis_rotated?i.width:r).attr(\"y1\",n.axis_rotated?r:0).attr(\"y2\",n.axis_rotated?r:i.height).style(\"opacity\",1),(t?o.transition(e):o).attr(\"x\",n.axis_rotated?i.yGridTextX.bind(i):i.xGridTextX.bind(i)).attr(\"y\",r).text(function(t){return t.text}).style(\"opacity\",1)]},l.prototype.showXGridFocus=function(t){var e=this,i=e.config,n=t.filter(function(t){return t&&C(t.value)}),r=e.main.selectAll(\"line.\"+Y.xgridFocus),a=e.xx.bind(e);i.tooltip_show&&(e.hasType(\"stanford\")||e.hasArcType()||(r.style(\"visibility\",\"visible\").data([n[0]]).attr(i.axis_rotated?\"y1\":\"x1\",a).attr(i.axis_rotated?\"y2\":\"x2\",a),e.smoothLines(r,\"grid\")))},l.prototype.hideXGridFocus=function(){this.main.select(\"line.\"+Y.xgridFocus).style(\"visibility\",\"hidden\")},l.prototype.updateXgridFocus=function(){var t=this.config;this.main.select(\"line.\"+Y.xgridFocus).attr(\"x1\",t.axis_rotated?0:-10).attr(\"x2\",t.axis_rotated?this.width:-10).attr(\"y1\",t.axis_rotated?-10:0).attr(\"y2\",t.axis_rotated?-10:this.height)},l.prototype.generateGridData=function(t,e){var i,n,r,a,o=[],s=this.main.select(\".\"+Y.axisX).selectAll(\".tick\").size();if(\"year\"===t)for(n=(i=this.getXDomain())[0].getFullYear(),r=i[1].getFullYear(),a=n;a<=r;a++)o.push(new Date(a+\"-01-01 00:00:00\"));else(o=e.ticks(10)).length>s&&(o=o.filter(function(t){return(\"\"+t).indexOf(\".\")<0}));return o},l.prototype.getGridFilterToRemove=function(t){return t?function(e){var i=!1;return[].concat(t).forEach(function(t){(\"value\"in t&&e.value===t.value||\"class\"in t&&e.class===t.class)&&(i=!0)}),i}:function(){return!0}},l.prototype.removeGridLines=function(t,e){function i(t){return!r(t)}var n=this.config,r=this.getGridFilterToRemove(t),a=e?Y.xgridLines:Y.ygridLines,o=e?Y.xgridLine:Y.ygridLine;this.main.select(\".\"+a).selectAll(\".\"+o).filter(r).transition().duration(n.transition_duration).style(\"opacity\",0).remove(),e?n.grid_x_lines=n.grid_x_lines.filter(i):n.grid_y_lines=n.grid_y_lines.filter(i)},l.prototype.initEventRect=function(){var t=this,e=t.config;t.main.select(\".\"+Y.chart).append(\"g\").attr(\"class\",Y.eventRects).style(\"fill-opacity\",0),t.eventRect=t.main.select(\".\"+Y.eventRects).append(\"rect\").attr(\"class\",Y.eventRect),e.zoom_enabled&&t.zoom&&(t.eventRect.call(t.zoom).on(\"dblclick.zoom\",null),e.zoom_initialRange&&t.eventRect.transition().duration(0).call(t.zoom.transform,t.zoomTransform(e.zoom_initialRange)))},l.prototype.redrawEventRect=function(){var s=this,c=s.d3,d=s.config;function l(){s.svg.select(\".\"+Y.eventRect).style(\"cursor\",null),s.hideXGridFocus(),s.hideTooltip(),s.unexpandCircles(),s.unexpandBars()}function u(t,e){return e&&(s.isBarType(e.id)||s.dist(e,t)<d.point_sensitivity)}function h(t){return t?s.addName(Object.assign({},t)):null}s.main.select(\".\"+Y.eventRects).style(\"cursor\",d.zoom_enabled?d.axis_rotated?\"ns-resize\":\"ew-resize\":null),s.eventRect.attr(\"x\",0).attr(\"y\",0).attr(\"width\",s.width).attr(\"height\",s.height).on(\"mouseout\",d.interaction_enabled?function(){d&&(s.hasArcType()||(s.mouseover&&(d.data_onmouseout.call(s.api,s.mouseover),s.mouseover=void 0),l()))}:null).on(\"mousemove\",d.interaction_enabled?function(){if(!s.dragging){var t=s.getTargetsToShow();if(!s.hasArcType(t)){var e,i,n,r=c.mouse(this),a=h(s.findClosestFromTargets(t,r)),o=u(r,a);if(!s.mouseover||a&&a.id===s.mouseover.id&&a.index===s.mouseover.index||(d.data_onmouseout.call(s.api,s.mouseover),s.mouseover=void 0),a&&!s.mouseover&&(d.data_onmouseover.call(s.api,a),s.mouseover=a),s.svg.select(\".\"+Y.eventRect).style(\"cursor\",o?\"pointer\":null),!d.tooltip_grouped||s.hasType(\"stanford\",t)?a&&(e=[a]):(n=void 0,(n=a||(i=d.axis_rotated?r[1]:r[0],s.findClosestFromTargetsByX(t,s.x.invert(i))))&&(e=s.filterByX(t,n.x))),!e||0===e.length)return l();e=e.map(h),s.showTooltip(e,this),d.point_focus_expand_enabled&&(s.unexpandCircles(),e.forEach(function(t){s.expandCircles(t.index,t.id,!1)})),s.unexpandBars(),e.forEach(function(t){s.expandBars(t.index,t.id,!1)}),s.showXGridFocus(e)}}}:null).on(\"click\",d.interaction_enabled?function(){var t,e,i,n=s.getTargetsToShow();s.hasArcType(n)||(t=c.mouse(this),e=h(s.findClosestFromTargets(n,t)),u(t,e)&&((!d.data_selection_grouped||s.isStanfordType(e)?[e]:s.filterByX(n,e.x)).forEach(function(t){s.main.selectAll(\".\"+Y.shapes+s.getTargetSelectorSuffix(t.id)).selectAll(\".\"+Y.shape+\"-\"+t.index).each(function(){(d.data_selection_grouped||s.isWithinShape(this,t))&&s.toggleShape(this,t,t.index)})}),e&&(i=s.main.selectAll(\".\"+Y.shapes+s.getTargetSelectorSuffix(e.id)).select(\".\"+Y.shape+\"-\"+e.index),d.data_onclick.call(s.api,e,i.node()))))}:null).call(d.interaction_enabled&&d.data_selection_draggable&&s.drag?c.drag().on(\"drag\",function(){s.drag(c.mouse(this))}).on(\"start\",function(){s.dragstart(c.mouse(this))}).on(\"end\",function(){s.dragend()}):function(){})},l.prototype.getMousePosition=function(t){return[this.x(t.x),this.getYScale(t.id)(t.value)]},l.prototype.dispatchEvent=function(t,e){var i=\".\"+Y.eventRect,n=this.main.select(i).node(),r=n.getBoundingClientRect(),a=r.left+(e?e[0]:0),o=r.top+(e?e[1]:0),s=document.createEvent(\"MouseEvents\");s.initMouseEvent(t,!0,!0,window,0,a,o,a,o,!1,!1,!1,!1,0,null),n.dispatchEvent(s)},l.prototype.initLegend=function(){var t=this;if(t.legendItemTextBox={},t.legendHasRendered=!1,t.legend=t.svg.append(\"g\").attr(\"transform\",t.getTranslate(\"legend\")),!t.config.legend_show)return t.legend.style(\"visibility\",\"hidden\"),void(t.hiddenLegendIds=t.mapToIds(t.data.targets));t.updateLegendWithDefaults()},l.prototype.updateLegendWithDefaults=function(){this.updateLegend(this.mapToIds(this.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},l.prototype.updateSizeForLegend=function(t,e){var i=this,n=i.config,r={top:i.isLegendTop?i.getCurrentPaddingTop()+n.legend_inset_y+5.5:i.currentHeight-t-i.getCurrentPaddingBottom()-n.legend_inset_y,left:i.isLegendLeft?i.getCurrentPaddingLeft()+n.legend_inset_x+.5:i.currentWidth-e-i.getCurrentPaddingRight()-n.legend_inset_x+.5};i.margin3={top:i.isLegendRight?0:i.isLegendInset?r.top:i.currentHeight-t,right:NaN,bottom:0,left:i.isLegendRight?i.currentWidth-e:i.isLegendInset?r.left:0}},l.prototype.transformLegend=function(t){(t?this.legend.transition():this.legend).attr(\"transform\",this.getTranslate(\"legend\"))},l.prototype.updateLegendStep=function(t){this.legendStep=t},l.prototype.updateLegendItemWidth=function(t){this.legendItemWidth=t},l.prototype.updateLegendItemHeight=function(t){this.legendItemHeight=t},l.prototype.getLegendWidth=function(){var t=this;return t.config.legend_show?t.isLegendRight||t.isLegendInset?t.legendItemWidth*(t.legendStep+1):t.currentWidth:0},l.prototype.getLegendHeight=function(){var t=this,e=0;return t.config.legend_show&&(e=t.isLegendRight?t.currentHeight:Math.max(20,t.legendItemHeight)*(t.legendStep+1)),e},l.prototype.opacityForLegend=function(t){return t.classed(Y.legendItemHidden)?null:1},l.prototype.opacityForUnfocusedLegend=function(t){return t.classed(Y.legendItemHidden)?null:.3},l.prototype.toggleFocusLegend=function(e,t){var i=this;e=i.mapToTargetIds(e),i.legend.selectAll(\".\"+Y.legendItem).filter(function(t){return 0<=e.indexOf(t)}).classed(Y.legendItemFocused,t).transition().duration(100).style(\"opacity\",function(){return(t?i.opacityForLegend:i.opacityForUnfocusedLegend).call(i,i.d3.select(this))})},l.prototype.revertLegend=function(){var t=this,e=t.d3;t.legend.selectAll(\".\"+Y.legendItem).classed(Y.legendItemFocused,!1).transition().duration(100).style(\"opacity\",function(){return t.opacityForLegend(e.select(this))})},l.prototype.showLegend=function(t){var e=this,i=e.config;i.legend_show||(i.legend_show=!0,e.legend.style(\"visibility\",\"visible\"),e.legendHasRendered||e.updateLegendWithDefaults()),e.removeHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style(\"visibility\",\"visible\").transition().style(\"opacity\",function(){return e.opacityForLegend(e.d3.select(this))})},l.prototype.hideLegend=function(t){var e=this,i=e.config;i.legend_show&&u(t)&&(i.legend_show=!1,e.legend.style(\"visibility\",\"hidden\")),e.addHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style(\"opacity\",0).style(\"visibility\",\"hidden\")},l.prototype.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},l.prototype.updateLegend=function(f,t,e){var i,n,r,a,o,s,c,d,l,u,h,g,p,_,x,y,m=this,S=m.config,w=4,v=10,b=0,T=0,A=10,P=S.legend_item_tile_width+5,C=0,L={},V={},G={},E=[0],O={},I=0;function R(t,e,i){var n,r,a,o,s=0===i,c=i===f.length-1,d=(a=t,o=e,m.legendItemTextBox[o]||(m.legendItemTextBox[o]=m.getTextRect(a.textContent,Y.legendItem,a)),m.legendItemTextBox[o]),l=d.width+P+(!c||m.isLegendRight||m.isLegendInset?v:0)+S.legend_padding,u=d.height+w,h=m.isLegendRight||m.isLegendInset?u:l,g=m.isLegendRight||m.isLegendInset?m.getLegendHeight():m.getLegendWidth();function p(t,e){e||(n=(g-C-h)/2)<A&&(n=(g-h)/2,C=0,I++),O[t]=I,E[I]=m.isLegendInset?10:n,L[t]=C,C+=h}s&&(T=b=I=C=0),!S.legend_show||m.isLegendToShow(e)?(V[e]=l,G[e]=u,(!b||b<=l)&&(b=l),(!T||T<=u)&&(T=u),r=m.isLegendRight||m.isLegendInset?T:b,S.legend_equally?(Object.keys(V).forEach(function(t){V[t]=b}),Object.keys(G).forEach(function(t){G[t]=T}),(n=(g-r*f.length)/2)<A?(I=C=0,f.forEach(function(t){p(t)})):p(e,!0)):p(e)):V[e]=G[e]=O[e]=L[e]=0}f=f.filter(function(t){return!k(S.data_names[t])||null!==S.data_names[t]}),h=B(t=t||{},\"withTransition\",!0),g=B(t,\"withTransitionForTransform\",!0),m.isLegendInset&&(I=S.legend_inset_step?S.legend_inset_step:f.length,m.updateLegendStep(I)),a=m.isLegendRight?(i=function(t){return b*O[t]},function(t){return E[O[t]]+L[t]}):m.isLegendInset?(i=function(t){return b*O[t]+10},function(t){return E[O[t]]+L[t]}):(i=function(t){return E[O[t]]+L[t]},function(t){return T*O[t]}),n=function(t,e){return i(t,e)+4+S.legend_item_tile_width},o=function(t,e){return a(t,e)+9},r=function(t,e){return i(t,e)},s=function(t,e){return a(t,e)-5},c=function(t,e){return i(t,e)-2},d=function(t,e){return i(t,e)-2+S.legend_item_tile_width},l=function(t,e){return a(t,e)+4},(u=m.legend.selectAll(\".\"+Y.legendItem).data(f).enter().append(\"g\").attr(\"class\",function(t){return m.generateClass(Y.legendItem,t)}).style(\"visibility\",function(t){return m.isLegendToShow(t)?\"visible\":\"hidden\"}).style(\"cursor\",function(){return S.interaction_enabled?\"pointer\":\"auto\"}).on(\"click\",S.interaction_enabled?function(t){S.legend_item_onclick?S.legend_item_onclick.call(m,t):m.d3.event.altKey?(m.api.hide(),m.api.show(t)):(m.api.toggle(t),m.isTargetToShow(t)?m.api.focus(t):m.api.revert())}:null).on(\"mouseover\",S.interaction_enabled?function(t){S.legend_item_onmouseover?S.legend_item_onmouseover.call(m,t):(m.d3.select(this).classed(Y.legendItemFocused,!0),!m.transiting&&m.isTargetToShow(t)&&m.api.focus(t))}:null).on(\"mouseout\",S.interaction_enabled?function(t){S.legend_item_onmouseout?S.legend_item_onmouseout.call(m,t):(m.d3.select(this).classed(Y.legendItemFocused,!1),m.api.revert())}:null)).append(\"text\").text(function(t){return k(S.data_names[t])?S.data_names[t]:t}).each(function(t,e){R(this,t,e)}).style(\"pointer-events\",\"none\").attr(\"x\",m.isLegendRight||m.isLegendInset?n:-200).attr(\"y\",m.isLegendRight||m.isLegendInset?-200:o),u.append(\"rect\").attr(\"class\",Y.legendItemEvent).style(\"fill-opacity\",0).attr(\"x\",m.isLegendRight||m.isLegendInset?r:-200).attr(\"y\",m.isLegendRight||m.isLegendInset?-200:s),u.append(\"line\").attr(\"class\",Y.legendItemTile).style(\"stroke\",m.color).style(\"pointer-events\",\"none\").attr(\"x1\",m.isLegendRight||m.isLegendInset?c:-200).attr(\"y1\",m.isLegendRight||m.isLegendInset?-200:l).attr(\"x2\",m.isLegendRight||m.isLegendInset?d:-200).attr(\"y2\",m.isLegendRight||m.isLegendInset?-200:l).attr(\"stroke-width\",S.legend_item_tile_height),y=m.legend.select(\".\"+Y.legendBackground+\" rect\"),m.isLegendInset&&0<b&&0===y.size()&&(y=m.legend.insert(\"g\",\".\"+Y.legendItem).attr(\"class\",Y.legendBackground).append(\"rect\")),p=m.legend.selectAll(\"text\").data(f).text(function(t){return k(S.data_names[t])?S.data_names[t]:t}).each(function(t,e){R(this,t,e)}),(h?p.transition():p).attr(\"x\",n).attr(\"y\",o),_=m.legend.selectAll(\"rect.\"+Y.legendItemEvent).data(f),(h?_.transition():_).attr(\"width\",function(t){return V[t]}).attr(\"height\",function(t){return G[t]}).attr(\"x\",r).attr(\"y\",s),x=m.legend.selectAll(\"line.\"+Y.legendItemTile).data(f),(h?x.transition():x).style(\"stroke\",m.levelColor?function(t){return m.levelColor(m.cache[t].values.reduce(function(t,e){return t+e.value},0))}:m.color).attr(\"x1\",c).attr(\"y1\",l).attr(\"x2\",d).attr(\"y2\",l),y&&(h?y.transition():y).attr(\"height\",m.getLegendHeight()-12).attr(\"width\",b*(I+1)+10),m.legend.selectAll(\".\"+Y.legendItem).classed(Y.legendItemHidden,function(t){return!m.isTargetToShow(t)}),m.updateLegendItemWidth(b),m.updateLegendItemHeight(T),m.updateLegendStep(I),m.updateSizes(),m.updateScales(),m.updateSvgSize(),m.transformAll(g,e),m.legendHasRendered=!0},l.prototype.initRegion=function(){this.region=this.main.append(\"g\").attr(\"clip-path\",this.clipPath).attr(\"class\",Y.regions)},l.prototype.updateRegion=function(t){var e=this,i=e.config;e.region.style(\"visibility\",e.hasArcType()?\"hidden\":\"visible\");var n=e.main.select(\".\"+Y.regions).selectAll(\".\"+Y.region).data(i.regions),r=n.enter().append(\"g\");r.append(\"rect\").attr(\"x\",e.regionX.bind(e)).attr(\"y\",e.regionY.bind(e)).attr(\"width\",e.regionWidth.bind(e)).attr(\"height\",e.regionHeight.bind(e)).style(\"fill-opacity\",function(t){return C(t.opacity)?t.opacity:.1}),r.append(\"text\").text(e.labelRegion.bind(e)),e.mainRegion=r.merge(n).attr(\"class\",e.classRegion.bind(e)),n.exit().transition().duration(t).style(\"opacity\",0).remove()},l.prototype.redrawRegion=function(t,e){var i=this,n=i.mainRegion,r=i.mainRegion.selectAll(\"text\");return[(t?n.transition(e):n).attr(\"x\",i.regionX.bind(i)).attr(\"y\",i.regionY.bind(i)).attr(\"width\",i.regionWidth.bind(i)).attr(\"height\",i.regionHeight.bind(i)).style(\"fill-opacity\",function(t){return C(t.opacity)?t.opacity:.1}),(t?r.transition(e):r).attr(\"x\",i.labelOffsetX.bind(i)).attr(\"y\",i.labelOffsetY.bind(i)).attr(\"transform\",i.labelTransform.bind(i)).attr(\"style\",\"text-anchor: left;\")]},l.prototype.regionX=function(t){var e=this,i=e.config,n=\"y\"===t.axis?e.y:e.y2,r=\"y\"===t.axis||\"y2\"===t.axis?i.axis_rotated&&\"start\"in t?n(t.start):0:!i.axis_rotated&&\"start\"in t?e.x(e.isTimeSeries()?e.parseDate(t.start):t.start):0;return r},l.prototype.regionY=function(t){var e=this,i=e.config,n=\"y\"===t.axis?e.y:e.y2,r=\"y\"===t.axis||\"y2\"===t.axis?!i.axis_rotated&&\"end\"in t?n(t.end):0:i.axis_rotated&&\"start\"in t?e.x(e.isTimeSeries()?e.parseDate(t.start):t.start):0;return r},l.prototype.regionWidth=function(t){var e=this,i=e.config,n=e.regionX(t),r=\"y\"===t.axis?e.y:e.y2,a=\"y\"===t.axis||\"y2\"===t.axis?i.axis_rotated&&\"end\"in t?r(t.end):e.width:!i.axis_rotated&&\"end\"in t?e.x(e.isTimeSeries()?e.parseDate(t.end):t.end):e.width;return a<n?0:a-n},l.prototype.regionHeight=function(t){var e=this,i=e.config,n=this.regionY(t),r=\"y\"===t.axis?e.y:e.y2,a=\"y\"===t.axis||\"y2\"===t.axis?!i.axis_rotated&&\"start\"in t?r(t.start):e.height:i.axis_rotated&&\"end\"in t?e.x(e.isTimeSeries()?e.parseDate(t.end):t.end):e.height;return a<n?0:a-n},l.prototype.isRegionOnX=function(t){return!t.axis||\"x\"===t.axis},l.prototype.labelRegion=function(t){return\"label\"in t?t.label:\"\"},l.prototype.labelTransform=function(t){return\"vertical\"in t&&t.vertical?\"rotate(90)\":\"\"},l.prototype.labelOffsetX=function(t){var e=\"paddingX\"in t?t.paddingX:3,i=\"paddingY\"in t?t.paddingY:3;return\"vertical\"in t&&t.vertical?this.regionY(t)+i:this.regionX(t)+e},l.prototype.labelOffsetY=function(t){var e=\"paddingX\"in t?t.paddingX:3,i=\"paddingY\"in t?t.paddingY:3;return\"vertical\"in t&&t.vertical?-(this.regionX(t)+e):this.regionY(t)+10+i},l.prototype.getScale=function(t,e,i){return(i?this.d3.scaleTime():this.d3.scaleLinear()).range([t,e])},l.prototype.getX=function(t,e,i,n){var r,a=this.getScale(t,e,this.isTimeSeries()),o=i?a.domain(i):a,a=this.isCategorized()?(n=n||function(){return 0},function(t,e){var i=o(t)+n(t);return e?i:Math.ceil(i)}):function(t,e){var i=o(t);return e?i:Math.ceil(i)};for(r in o)a[r]=o[r];return a.orgDomain=function(){return o.domain()},this.isCategorized()&&(a.domain=function(t){return arguments.length?(o.domain(t),a):[(t=this.orgDomain())[0],t[1]+1]}),a},l.prototype.getY=function(t,e,i){var n;if(\"timeseries\"===t||\"time\"===t)n=this.d3.scaleTime();else if(\"log\"===t)n=f(this.d3);else{if(\"linear\"!==t&&void 0!==t)throw new Error('Invalid Y axis type: \"'+t+'\"');n=this.d3.scaleLinear()}return e&&n.domain(e),i&&n.range(i),n},l.prototype.getYScale=function(t){return\"y2\"===this.axis.getId(t)?this.y2:this.y},l.prototype.getSubYScale=function(t){return\"y2\"===this.axis.getId(t)?this.subY2:this.subY},l.prototype.updateScales=function(){var e=this,t=e.config,i=!e.x;e.xMin=t.axis_rotated?1:0,e.xMax=t.axis_rotated?e.height:e.width,e.yMin=t.axis_rotated?0:e.height,e.yMax=t.axis_rotated?e.width:1,e.subXMin=e.xMin,e.subXMax=e.xMax,e.subYMin=t.axis_rotated?0:e.height2,e.subYMax=t.axis_rotated?e.width2:1,e.x=e.getX(e.xMin,e.xMax,i?void 0:e.x.orgDomain(),function(){return e.xAxis.tickOffset()}),e.y=e.getY(t.axis_y_type,i?t.axis_y_default:e.y.domain(),[e.yMin,e.yMax]),e.y2=e.getY(t.axis_y2_type,i?t.axis_y2_default:e.y2.domain(),[e.yMin,e.yMax]),e.subX=e.getX(e.xMin,e.xMax,e.orgXDomain,function(t){return t%1?0:e.subXAxis.tickOffset()}),e.subY=e.getY(t.axis_y_type,i?t.axis_y_default:e.subY.domain(),[e.subYMin,e.subYMax]),e.subY2=e.getY(t.axis_y2_type,i?t.axis_y2_default:e.subY2.domain(),[e.subYMin,e.subYMax]),e.xAxisTickFormat=e.axis.getXAxisTickFormat(),e.xAxisTickValues=e.axis.getXAxisTickValues(),e.yAxisTickValues=e.axis.getYAxisTickValues(),e.y2AxisTickValues=e.axis.getY2AxisTickValues(),e.xAxis=e.axis.getXAxis(e.x,e.xOrient,e.xAxisTickFormat,e.xAxisTickValues,t.axis_x_tick_outer),e.subXAxis=e.axis.getXAxis(e.subX,e.subXOrient,e.xAxisTickFormat,e.xAxisTickValues,t.axis_x_tick_outer),e.yAxis=e.axis.getYAxis(\"y\",e.y,e.yOrient,e.yAxisTickValues,t.axis_y_tick_outer),e.y2Axis=e.axis.getYAxis(\"y2\",e.y2,e.y2Orient,e.y2AxisTickValues,t.axis_y2_tick_outer),i||e.brush&&e.brush.updateScale(e.subX),e.updateArc&&e.updateArc()},l.prototype.selectPoint=function(t,e,i){var n=this,r=n.config,a=(r.axis_rotated?n.circleY:n.circleX).bind(n),o=(r.axis_rotated?n.circleX:n.circleY).bind(n),s=n.pointSelectR.bind(n);r.data_onselected.call(n.api,e,t.node()),n.main.select(\".\"+Y.selectedCircles+n.getTargetSelectorSuffix(e.id)).selectAll(\".\"+Y.selectedCircle+\"-\"+i).data([e]).enter().append(\"circle\").attr(\"class\",function(){return n.generateClass(Y.selectedCircle,i)}).attr(\"cx\",a).attr(\"cy\",o).attr(\"stroke\",function(){return n.color(e)}).attr(\"r\",function(t){return 1.4*n.pointSelectR(t)}).transition().duration(100).attr(\"r\",s)},l.prototype.unselectPoint=function(t,e,i){this.config.data_onunselected.call(this.api,e,t.node()),this.main.select(\".\"+Y.selectedCircles+this.getTargetSelectorSuffix(e.id)).selectAll(\".\"+Y.selectedCircle+\"-\"+i).transition().duration(100).attr(\"r\",0).remove()},l.prototype.togglePoint=function(t,e,i,n){t?this.selectPoint(e,i,n):this.unselectPoint(e,i,n)},l.prototype.selectPath=function(t,e){var i=this;i.config.data_onselected.call(i,e,t.node()),i.config.interaction_brighten&&t.transition().duration(100).style(\"fill\",function(){return i.d3.rgb(i.color(e)).brighter(.75)})},l.prototype.unselectPath=function(t,e){var i=this;i.config.data_onunselected.call(i,e,t.node()),i.config.interaction_brighten&&t.transition().duration(100).style(\"fill\",function(){return i.color(e)})},l.prototype.togglePath=function(t,e,i,n){t?this.selectPath(e,i,n):this.unselectPath(e,i,n)},l.prototype.getToggle=function(t,e){var i;return\"circle\"===t.nodeName?i=this.isStepType(e)?function(){}:this.togglePoint:\"path\"===t.nodeName&&(i=this.togglePath),i},l.prototype.toggleShape=function(t,e,i){var n=this,r=n.d3,a=n.config,o=r.select(t),s=o.classed(Y.SELECTED),c=n.getToggle(t,e).bind(n);a.data_selection_enabled&&a.data_selection_isselectable(e)&&(a.data_selection_multiple||n.main.selectAll(\".\"+Y.shapes+(a.data_selection_grouped?n.getTargetSelectorSuffix(e.id):\"\")).selectAll(\".\"+Y.shape).each(function(t,e){var i=r.select(this);i.classed(Y.SELECTED)&&c(!1,i.classed(Y.SELECTED,!1),t,e)}),o.classed(Y.SELECTED,!s),c(!s,o,e,i))},l.prototype.initBar=function(){this.main.select(\".\"+Y.chart).append(\"g\").attr(\"class\",Y.chartBars)},l.prototype.updateTargetsForBar=function(t){var e=this,i=e.config,n=e.classChartBar.bind(e),r=e.classBars.bind(e),a=e.classFocus.bind(e);e.main.select(\".\"+Y.chartBars).selectAll(\".\"+Y.chartBar).data(t).attr(\"class\",function(t){return n(t)+a(t)}).enter().append(\"g\").attr(\"class\",n).style(\"pointer-events\",\"none\").append(\"g\").attr(\"class\",r).style(\"cursor\",function(t){return i.data_selection_isselectable(t)?\"pointer\":null})},l.prototype.updateBar=function(t){function e(t){return i.color(t.id)}var i=this,n=i.barData.bind(i),r=i.classBar.bind(i),a=i.initialOpacity.bind(i),o=i.main.selectAll(\".\"+Y.bars).selectAll(\".\"+Y.bar).data(n),s=o.enter().append(\"path\").attr(\"class\",r).style(\"stroke\",e).style(\"fill\",e);i.mainBar=s.merge(o).style(\"opacity\",a),o.exit().transition().duration(t).style(\"opacity\",0)},l.prototype.redrawBar=function(t,e,i){var n=this;return[(e?this.mainBar.transition(i):this.mainBar).attr(\"d\",t).style(\"stroke\",this.color).style(\"fill\",this.color).style(\"opacity\",function(t){return n.isTargetToShow(t.id)?1:0})]},l.prototype.getBarW=function(t,e){var i=this.config,n=\"number\"==typeof i.bar_width?i.bar_width:e?t.tickInterval()*i.bar_width_ratio/e:0;return i.bar_width_max&&n>i.bar_width_max?i.bar_width_max:n},l.prototype.getBars=function(t,e){return(e?this.main.selectAll(\".\"+Y.bars+this.getTargetSelectorSuffix(e)):this.main).selectAll(\".\"+Y.bar+(C(t)?\"-\"+t:\"\"))},l.prototype.expandBars=function(t,e,i){i&&this.unexpandBars(),this.getBars(t,e).classed(Y.EXPANDED,!0)},l.prototype.unexpandBars=function(t){this.getBars(t).classed(Y.EXPANDED,!1)},l.prototype.generateDrawBar=function(t,e){var a=this.config,o=this.generateGetBarPoints(t,e);return function(t,e){var i=o(t,e),n=a.axis_rotated?1:0,r=a.axis_rotated?0:1;return\"M \"+i[0][n]+\",\"+i[0][r]+\" L\"+i[1][n]+\",\"+i[1][r]+\" L\"+i[2][n]+\",\"+i[2][r]+\" L\"+i[3][n]+\",\"+i[3][r]+\" z\"}},l.prototype.generateGetBarPoints=function(t,e){var o=this,i=e?o.subXAxis:o.xAxis,n=t.__max__+1,s=o.getBarW(i,n),c=o.getShapeX(s,n,t,!!e),d=o.getShapeY(!!e),l=o.getShapeOffset(o.isBarType,t,!!e),u=s*(o.config.bar_space/2),h=e?o.getSubYScale:o.getYScale;return function(t,e){var i=h.call(o,t.id)(0),n=l(t,e)||i,r=c(t),a=d(t);return o.config.axis_rotated&&(0<t.value&&a<i||t.value<0&&i<a)&&(a=i),[[r+u,n],[r+u,a-=i-n],[r+s-u,a],[r+s-u,n]]}},l.prototype.isWithinBar=function(t,e){return function(t,e,i){void 0===i&&(i=0);var n=e.x-i,r=e.x+e.width+i,a=e.y+e.height+i,o=e.y-i;return n<t[0]&&t[0]<r&&o<t[1]&&t[1]<a}(t,d(e),2)},l.prototype.getShapeIndices=function(t){var e,i,n=this.config,r={},a=0;return this.filterTargetsToShow(this.data.targets.filter(t,this)).forEach(function(t){for(e=0;e<n.data_groups.length;e++)if(!(n.data_groups[e].indexOf(t.id)<0))for(i=0;i<n.data_groups[e].length;i++)if(n.data_groups[e][i]in r){r[t.id]=r[n.data_groups[e][i]];break}w(r[t.id])&&(r[t.id]=a++)}),r.__max__=a-1,r},l.prototype.getShapeX=function(i,n,r,t){var a=t?this.subX:this.x;return function(t){var e=t.id in r?r[t.id]:0;return t.x||0===t.x?a(t.x)-i*(n/2-e):0}},l.prototype.getShapeY=function(e){var i=this;return function(t){return(e?i.getSubYScale(t.id):i.getYScale(t.id))(i.isTargetNormalized(t.id)?i.getRatio(\"index\",t,!0):t.value)}},l.prototype.getShapeOffset=function(t,d,e){var l=this,i=l.orderTargets(l.filterTargetsToShow(l.data.targets.filter(t,l))),u=i.map(function(t){return t.id});return function(r,a){var o=e?l.getSubYScale(r.id):l.getYScale(r.id),s=o(0),c=s;return i.forEach(function(t){var e=l.isStepType(r)?l.convertValuesToStep(t.values):t.values,i=l.isTargetNormalized(r.id),n=e.map(function(t){return i?l.getRatio(\"index\",t,!0):t.value});t.id!==r.id&&d[t.id]===d[r.id]&&u.indexOf(t.id)<u.indexOf(r.id)&&(!w(e[a])&&+e[a].x==+r.x||(a=-1,e.forEach(function(t,e){(t.x.constructor===Date?+t.x:t.x)===(r.x.constructor===Date?+r.x:r.x)&&(a=e)})),a in e&&0<=e[a].value*r.value&&(c+=o(n[a])-s))}),c}},l.prototype.isWithinShape=function(t,e){var i,n=this,r=n.d3.select(t);return n.isTargetToShow(e.id)?\"circle\"===t.nodeName?i=n.isStepType(e)?n.isWithinStep(t,n.getYScale(e.id)(e.value)):n.isWithinCircle(t,1.5*n.pointSelectR(e)):\"path\"===t.nodeName&&(i=!r.classed(Y.bar)||n.isWithinBar(n.d3.mouse(t),t)):i=!1,i},l.prototype.getInterpolate=function(t){var e=this,i=e.d3,n={linear:i.curveLinear,\"linear-closed\":i.curveLinearClosed,basis:i.curveBasis,\"basis-open\":i.curveBasisOpen,\"basis-closed\":i.curveBasisClosed,bundle:i.curveBundle,cardinal:i.curveCardinal,\"cardinal-open\":i.curveCardinalOpen,\"cardinal-closed\":i.curveCardinalClosed,monotone:i.curveMonotoneX,step:i.curveStep,\"step-before\":i.curveStepBefore,\"step-after\":i.curveStepAfter},r=e.isSplineType(t)?n[e.config.spline_interpolation_type]||n.cardinal:e.isStepType(t)?n[e.config.line_step_type]:n.linear;return r},l.prototype.initLine=function(){this.main.select(\".\"+Y.chart).append(\"g\").attr(\"class\",Y.chartLines)},l.prototype.updateTargetsForLine=function(t){var i=this,e=i.config,n=i.classChartLine.bind(i),r=i.classLines.bind(i),a=i.classAreas.bind(i),o=i.classCircles.bind(i),s=i.classFocus.bind(i),c=i.main.select(\".\"+Y.chartLines).selectAll(\".\"+Y.chartLine).data(t).attr(\"class\",function(t){return n(t)+s(t)}).enter().append(\"g\").attr(\"class\",n).style(\"opacity\",0).style(\"pointer-events\",\"none\");c.append(\"g\").attr(\"class\",r),c.append(\"g\").attr(\"class\",a),c.append(\"g\").attr(\"class\",function(t){return i.generateClass(Y.selectedCircles,t.id)}),c.append(\"g\").attr(\"class\",o).style(\"cursor\",function(t){return e.data_selection_isselectable(t)?\"pointer\":null}),t.forEach(function(e){i.main.selectAll(\".\"+Y.selectedCircles+i.getTargetSelectorSuffix(e.id)).selectAll(\".\"+Y.selectedCircle).each(function(t){t.value=e.values[t.index].value})})},l.prototype.updateLine=function(t){var e=this,i=e.main.selectAll(\".\"+Y.lines).selectAll(\".\"+Y.line).data(e.lineData.bind(e)),n=i.enter().append(\"path\").attr(\"class\",e.classLine.bind(e)).style(\"stroke\",e.color);e.mainLine=n.merge(i).style(\"opacity\",e.initialOpacity.bind(e)).style(\"shape-rendering\",function(t){return e.isStepType(t)?\"crispEdges\":\"\"}).attr(\"transform\",null),i.exit().transition().duration(t).style(\"opacity\",0)},l.prototype.redrawLine=function(t,e,i){return[(e?this.mainLine.transition(i):this.mainLine).attr(\"d\",t).style(\"stroke\",this.color).style(\"opacity\",1)]},l.prototype.generateDrawLine=function(t,s){function e(t){return(s?c.subxx:c.xx).call(c,t)}function i(t,e){return 0<d.data_groups.length?n(t,e)[0][1]:u.call(c,t.id)(t.value)}var c=this,d=c.config,l=c.d3.line(),n=c.generateGetLinePoints(t,s),u=s?c.getSubYScale:c.getYScale,l=d.axis_rotated?l.x(i).y(e):l.x(e).y(i);return d.line_connectNull||(l=l.defined(function(t){return null!=t.value})),function(t){var e=d.line_connectNull?c.filterRemoveNull(t.values):t.values,i=s?c.subX:c.x,n=u.call(c,t.id),r=0,a=0,o=c.isLineType(t)?d.data_regions[t.id]?c.lineWithRegions(e,i,n,d.data_regions[t.id]):(c.isStepType(t)&&(e=c.convertValuesToStep(e)),l.curve(c.getInterpolate(t))(e)):(e[0]&&(r=i(e[0].x),a=n(e[0].value)),d.axis_rotated?\"M \"+a+\" \"+r:\"M \"+r+\" \"+a);return o||\"M 0 0\"}},l.prototype.generateGetLinePoints=function(t,e){var o=this,s=o.config,i=t.__max__+1,c=o.getShapeX(0,i,t,!!e),d=o.getShapeY(!!e),l=o.getShapeOffset(o.isLineType,t,!!e),u=e?o.getSubYScale:o.getYScale;return function(t,e){var i=u.call(o,t.id)(0),n=l(t,e)||i,r=c(t),a=d(t);return s.axis_rotated&&(0<t.value&&a<i||t.value<0&&i<a)&&(a=i),[[r,a-(i-n)],[r,a-(i-n)],[r,a-(i-n)],[r,a-(i-n)]]}},l.prototype.lineWithRegions=function(t,d,l,e){var i,n,r,a,u,o,s,c,h,g,p,f=this,_=f.config,x=\"M\",y=f.isCategorized()?.5:0,m=[];if(k(e))for(i=0;i<e.length;i++)m[i]={},w(e[i].start)?m[i].start=t[0].x:m[i].start=f.isTimeSeries()?f.parseDate(e[i].start):e[i].start,w(e[i].end)?m[i].end=t[t.length-1].x:m[i].end=f.isTimeSeries()?f.parseDate(e[i].end):e[i].end;function S(t){return\"M\"+t[0][0]+\" \"+t[0][1]+\" \"+t[1][0]+\" \"+t[1][1]}for(g=_.axis_rotated?function(t){return l(t.value)}:function(t){return d(t.x)},p=_.axis_rotated?function(t){return d(t.x)}:function(t){return l(t.value)},r=f.isTimeSeries()?function(t,e,i,n){var r=t.x.getTime(),a=e.x-t.x,o=new Date(r+a*i),s=new Date(r+a*(i+n)),c=_.axis_rotated?[[l(u(i)),d(o)],[l(u(i+n)),d(s)]]:[[d(o),l(u(i))],[d(s),l(u(i+n))]];return S(c)}:function(t,e,i,n){var r=_.axis_rotated?[[l(u(i),!0),d(a(i))],[l(u(i+n),!0),d(a(i+n))]]:[[d(a(i),!0),l(u(i))],[d(a(i+n),!0),l(u(i+n))]];return S(r)},i=0;i<t.length;i++){if(w(m)||!function(t,e){for(var i=0;i<e.length;i++)if(e[i].start<t&&t<=e[i].end)return 1}(t[i].x,m))x+=\" \"+g(t[i])+\" \"+p(t[i]);else for(a=f.getScale(t[i-1].x+y,t[i].x+y,f.isTimeSeries()),u=f.getScale(t[i-1].value,t[i].value),o=d(t[i].x)-d(t[i-1].x),s=l(t[i].value)-l(t[i-1].value),h=2*(c=2/Math.sqrt(Math.pow(o,2)+Math.pow(s,2))),n=c;n<=1;n+=h)x+=r(t[i-1],t[i],n,c);t[i].x}return x},l.prototype.updateArea=function(t){var e=this,i=e.d3,n=e.main.selectAll(\".\"+Y.areas).selectAll(\".\"+Y.area).data(e.lineData.bind(e)),r=n.enter().append(\"path\").attr(\"class\",e.classArea.bind(e)).style(\"fill\",e.color).style(\"opacity\",function(){return e.orgAreaOpacity=+i.select(this).style(\"opacity\"),0});e.mainArea=r.merge(n).style(\"opacity\",e.orgAreaOpacity),n.exit().transition().duration(t).style(\"opacity\",0)},l.prototype.redrawArea=function(t,e,i){return[(e?this.mainArea.transition(i):this.mainArea).attr(\"d\",t).style(\"fill\",this.color).style(\"opacity\",this.orgAreaOpacity)]},l.prototype.generateDrawArea=function(t,e){function i(t){return(e?a.subxx:a.xx).call(a,t)}function n(t,e){return 0<o.data_groups.length?c(t,e)[0][1]:d.call(a,t.id)(a.getAreaBaseValue(t.id))}function r(t,e){return 0<o.data_groups.length?c(t,e)[1][1]:d.call(a,t.id)(t.value)}var a=this,o=a.config,s=a.d3.area(),c=a.generateGetAreaPoints(t,e),d=e?a.getSubYScale:a.getYScale,s=o.axis_rotated?s.x0(n).x1(r).y(i):s.x(i).y0(o.area_above?0:n).y1(r);return o.line_connectNull||(s=s.defined(function(t){return null!==t.value})),function(t){var e=o.line_connectNull?a.filterRemoveNull(t.values):t.values,i=0,n=0,r=a.isAreaType(t)?(a.isStepType(t)&&(e=a.convertValuesToStep(e)),s.curve(a.getInterpolate(t))(e)):(e[0]&&(i=a.x(e[0].x),n=a.getYScale(t.id)(e[0].value)),o.axis_rotated?\"M \"+n+\" \"+i:\"M \"+i+\" \"+n);return r||\"M 0 0\"}},l.prototype.getAreaBaseValue=function(){return 0},l.prototype.generateGetAreaPoints=function(t,e){var o=this,s=o.config,i=t.__max__+1,c=o.getShapeX(0,i,t,!!e),d=o.getShapeY(!!e),l=o.getShapeOffset(o.isAreaType,t,!!e),u=e?o.getSubYScale:o.getYScale;return function(t,e){var i=u.call(o,t.id)(0),n=l(t,e)||i,r=c(t),a=d(t);return s.axis_rotated&&(0<t.value&&a<i||t.value<0&&i<a)&&(a=i),[[r,n],[r,a-(i-n)],[r,a-(i-n)],[r,n]]}},l.prototype.updateCircle=function(t,e){var i=this,n=i.main.selectAll(\".\"+Y.circles).selectAll(\".\"+Y.circle).data(i.lineOrScatterOrStanfordData.bind(i)),r=n.enter().append(\"circle\").attr(\"shape-rendering\",i.isStanfordGraphType()?\"crispEdges\":\"\").attr(\"class\",i.classCircle.bind(i)).attr(\"cx\",t).attr(\"cy\",e).attr(\"r\",i.pointR.bind(i)).style(\"color\",i.isStanfordGraphType()?i.getStanfordPointColor.bind(i):i.color);i.mainCircle=r.merge(n).style(\"opacity\",i.isStanfordGraphType()?1:i.initialOpacityForCircle.bind(i)),n.exit().style(\"opacity\",0)},l.prototype.redrawCircle=function(t,e,i,n){var r=this,a=r.main.selectAll(\".\"+Y.selectedCircle);return[(i?r.mainCircle.transition(n):r.mainCircle).style(\"opacity\",this.opacityForCircle.bind(r)).style(\"color\",r.isStanfordGraphType()?r.getStanfordPointColor.bind(r):r.color).attr(\"cx\",t).attr(\"cy\",e),(i?a.transition(n):a).attr(\"cx\",t).attr(\"cy\",e)]},l.prototype.circleX=function(t){return t.x||0===t.x?this.x(t.x):null},l.prototype.updateCircleY=function(){var t,i,e=this;0<e.config.data_groups.length?(t=e.getShapeIndices(e.isLineType),i=e.generateGetLinePoints(t),e.circleY=function(t,e){return i(t,e)[0][1]}):e.circleY=function(t){return e.getYScale(t.id)(t.value)}},l.prototype.getCircles=function(t,e){return(e?this.main.selectAll(\".\"+Y.circles+this.getTargetSelectorSuffix(e)):this.main).selectAll(\".\"+Y.circle+(C(t)?\"-\"+t:\"\"))},l.prototype.expandCircles=function(t,e,i){var n=this.pointExpandedR.bind(this);i&&this.unexpandCircles(),this.getCircles(t,e).classed(Y.EXPANDED,!0).attr(\"r\",n)},l.prototype.unexpandCircles=function(t){var e=this,i=e.pointR.bind(e);e.getCircles(t).filter(function(){return e.d3.select(this).classed(Y.EXPANDED)}).classed(Y.EXPANDED,!1).attr(\"r\",i)},l.prototype.pointR=function(t){var e=this.config;return this.isStepType(t)?0:h(e.point_r)?e.point_r(t):e.point_r},l.prototype.pointExpandedR=function(t){var e=this.config;return e.point_focus_expand_enabled?h(e.point_focus_expand_r)?e.point_focus_expand_r(t):e.point_focus_expand_r?e.point_focus_expand_r:1.75*this.pointR(t):this.pointR(t)},l.prototype.pointSelectR=function(t){var e=this.config;return h(e.point_select_r)?e.point_select_r(t):e.point_select_r?e.point_select_r:4*this.pointR(t)},l.prototype.isWithinCircle=function(t,e){var i=this.d3,n=i.mouse(t),r=i.select(t),a=+r.attr(\"cx\"),o=+r.attr(\"cy\");return Math.sqrt(Math.pow(a-n[0],2)+Math.pow(o-n[1],2))<e},l.prototype.isWithinStep=function(t,e){return Math.abs(e-this.d3.mouse(t)[1])<30},l.prototype.getCurrentWidth=function(){var t=this.config;return t.size_width?t.size_width:this.getParentWidth()},l.prototype.getCurrentHeight=function(){var t=this.config,e=t.size_height?t.size_height:this.getParentHeight();return 0<e?e:320/(this.hasType(\"gauge\")&&!t.gauge_fullCircle?2:1)},l.prototype.getCurrentPaddingTop=function(){var t=this.config,e=C(t.padding_top)?t.padding_top:0;return this.title&&this.title.node()&&(e+=this.getTitlePadding()),e},l.prototype.getCurrentPaddingBottom=function(){var t=this.config;return C(t.padding_bottom)?t.padding_bottom:0},l.prototype.getCurrentPaddingLeft=function(t){var e=this.config;return C(e.padding_left)?e.padding_left:e.axis_rotated?!e.axis_x_show||e.axis_x_inner?1:Math.max(r(this.getAxisWidthByAxisId(\"x\",t)),40):!e.axis_y_show||e.axis_y_inner?this.axis.getYAxisLabelPosition().isOuter?30:1:r(this.getAxisWidthByAxisId(\"y\",t))},l.prototype.getCurrentPaddingRight=function(){var t=this,e=t.config,i=0,n=t.isLegendRight?t.getLegendWidth()+20:0,i=C(e.padding_right)?e.padding_right+1:e.axis_rotated?10+n:!e.axis_y2_show||e.axis_y2_inner?2+n+(t.axis.getY2AxisLabelPosition().isOuter?20:0):r(t.getAxisWidthByAxisId(\"y2\"))+n;return t.colorScale&&t.colorScale.node()&&(i+=t.getColorScalePadding()),i},l.prototype.getParentRectValue=function(e){for(var i,n=this.selectChart.node();n&&\"BODY\"!==n.tagName;){try{i=n.getBoundingClientRect()[e]}catch(t){\"width\"===e&&(i=n.offsetWidth)}if(i)break;n=n.parentNode}return i},l.prototype.getParentWidth=function(){return this.getParentRectValue(\"width\")},l.prototype.getParentHeight=function(){var t=this.selectChart.style(\"height\");return 0<t.indexOf(\"px\")?+t.replace(\"px\",\"\"):0},l.prototype.getSvgLeft=function(t){var e=this,i=e.config,n=i.axis_rotated||!i.axis_rotated&&!i.axis_y_inner,r=i.axis_rotated?Y.axisX:Y.axisY,a=e.main.select(\".\"+r).node(),o=a&&n?a.getBoundingClientRect():{right:0},s=e.selectChart.node().getBoundingClientRect(),c=e.hasArcType(),d=o.right-s.left-(c?0:e.getCurrentPaddingLeft(t));return 0<d?d:0},l.prototype.getAxisWidthByAxisId=function(t,e){var i=this.axis.getLabelPositionById(t);return this.axis.getMaxTickWidth(t,e)+(i.isInner?20:40)},l.prototype.getHorizontalAxisHeight=function(t,e){var i=this,n=i.config,r=30;return\"x\"!==t||(k(e)&&e?n.subchart_axis_x_show:n.axis_x_show)?\"x\"===t&&n.axis_x_height?n.axis_x_height:\"y\"!==t||n.axis_y_show?\"y2\"!==t||n.axis_y2_show?(\"x\"===t&&!n.axis_rotated&&n.axis_x_tick_rotate&&(r=30+i.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-Math.abs(n.axis_x_tick_rotate))/180)),\"y\"===t&&n.axis_rotated&&n.axis_y_tick_rotate&&(r=30+i.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-Math.abs(n.axis_y_tick_rotate))/180)),r+(i.axis.getLabelPositionById(t).isInner?0:10)+(\"y2\"===t?-10:0)):i.rotated_padding_top:!n.legend_show||i.isLegendRight||i.isLegendInset?1:10:8},l.prototype.initBrush=function(t){var r=this,e=r.d3;return r.brush=(r.config.axis_rotated?e.brushY():e.brushX()).on(\"brush\",function(){var t=e.event.sourceEvent;t&&\"zoom\"===t.type||r.redrawForBrush()}).on(\"end\",function(){var t=e.event.sourceEvent;t&&\"zoom\"===t.type||r.brush.empty()&&t&&\"end\"!==t.type&&r.brush.clear()}),r.brush.updateExtent=function(){var t=this.scale.range(),e=r.config.axis_rotated?[[0,t[0]],[r.width2,t[1]]]:[[t[0],0],[t[1],r.height2]];return this.extent(e),this},r.brush.updateScale=function(t){return this.scale=t,this},r.brush.update=function(t){this.updateScale(t||r.subX).updateExtent(),r.context.select(\".\"+Y.brush).call(this)},r.brush.clear=function(){r.context.select(\".\"+Y.brush).call(r.brush.move,null)},r.brush.selection=function(){return e.brushSelection(r.context.select(\".\"+Y.brush).node())},r.brush.selectionAsValue=function(t,e){var i,n;return t?(r.context&&(i=[this.scale(t[0]),this.scale(t[1])],n=r.context.select(\".\"+Y.brush),e&&(n=n.transition()),r.brush.move(n,i)),[]):(i=r.brush.selection()||[0,0],[this.scale.invert(i[0]),this.scale.invert(i[1])])},r.brush.empty=function(){var t=r.brush.selection();return!t||t[0]===t[1]},r.brush.updateScale(t)},l.prototype.initSubchart=function(){var t=this,e=t.config,i=t.context=t.svg.append(\"g\").attr(\"transform\",t.getTranslate(\"context\"));i.style(\"visibility\",\"visible\"),i.append(\"g\").attr(\"clip-path\",t.clipPathForSubchart).attr(\"class\",Y.chart),i.select(\".\"+Y.chart).append(\"g\").attr(\"class\",Y.chartBars),i.select(\".\"+Y.chart).append(\"g\").attr(\"class\",Y.chartLines),i.append(\"g\").attr(\"clip-path\",t.clipPath).attr(\"class\",Y.brush),t.axes.subx=i.append(\"g\").attr(\"class\",Y.axisX).attr(\"transform\",t.getTranslate(\"subx\")).attr(\"clip-path\",e.axis_rotated?\"\":t.clipPathForXAxis).style(\"visibility\",e.subchart_axis_x_show?\"visible\":\"hidden\")},l.prototype.initSubchartBrush=function(){this.initBrush(this.subX).updateExtent(),this.context.select(\".\"+Y.brush).call(this.brush)},l.prototype.updateTargetsForSubchart=function(t){var e,i,n=this,r=n.context,a=n.config,o=n.classChartBar.bind(n),s=n.classBars.bind(n),c=n.classChartLine.bind(n),d=n.classLines.bind(n),l=n.classAreas.bind(n),u=r.select(\".\"+Y.chartBars).selectAll(\".\"+Y.chartBar).data(t),h=u.enter().append(\"g\").style(\"opacity\",0);h.merge(u).attr(\"class\",o),h.append(\"g\").attr(\"class\",s),(e=(i=r.select(\".\"+Y.chartLines).selectAll(\".\"+Y.chartLine).data(t)).enter().append(\"g\").style(\"opacity\",0)).merge(i).attr(\"class\",c),e.append(\"g\").attr(\"class\",d),e.append(\"g\").attr(\"class\",l),r.selectAll(\".\"+Y.brush+\" rect\").attr(a.axis_rotated?\"width\":\"height\",a.axis_rotated?n.width2:n.height2)},l.prototype.updateBarForSubchart=function(t){var e=this,i=e.context.selectAll(\".\"+Y.bars).selectAll(\".\"+Y.bar).data(e.barData.bind(e)),n=i.enter().append(\"path\").attr(\"class\",e.classBar.bind(e)).style(\"stroke\",\"none\").style(\"fill\",e.color);i.exit().transition().duration(t).style(\"opacity\",0).remove(),e.contextBar=n.merge(i).style(\"opacity\",e.initialOpacity.bind(e))},l.prototype.redrawBarForSubchart=function(t,e,i){(e?this.contextBar.transition(Math.random().toString()).duration(i):this.contextBar).attr(\"d\",t).style(\"opacity\",1)},l.prototype.updateLineForSubchart=function(t){var e=this,i=e.context.selectAll(\".\"+Y.lines).selectAll(\".\"+Y.line).data(e.lineData.bind(e)),n=i.enter().append(\"path\").attr(\"class\",e.classLine.bind(e)).style(\"stroke\",e.color);i.exit().transition().duration(t).style(\"opacity\",0).remove(),e.contextLine=n.merge(i).style(\"opacity\",e.initialOpacity.bind(e))},l.prototype.redrawLineForSubchart=function(t,e,i){(e?this.contextLine.transition(Math.random().toString()).duration(i):this.contextLine).attr(\"d\",t).style(\"opacity\",1)},l.prototype.updateAreaForSubchart=function(t){var e=this,i=e.d3,n=e.context.selectAll(\".\"+Y.areas).selectAll(\".\"+Y.area).data(e.lineData.bind(e)),r=n.enter().append(\"path\").attr(\"class\",e.classArea.bind(e)).style(\"fill\",e.color).style(\"opacity\",function(){return e.orgAreaOpacity=+i.select(this).style(\"opacity\"),0});n.exit().transition().duration(t).style(\"opacity\",0).remove(),e.contextArea=r.merge(n).style(\"opacity\",0)},l.prototype.redrawAreaForSubchart=function(t,e,i){(e?this.contextArea.transition(Math.random().toString()).duration(i):this.contextArea).attr(\"d\",t).style(\"fill\",this.color).style(\"opacity\",this.orgAreaOpacity)},l.prototype.redrawSubchart=function(t,e,i,n,r,a,o){var s,c,d,l=this,u=l.d3;u.event&&\"zoom\"===u.event.type&&l.brush.selectionAsValue(l.x.orgDomain()),t&&(l.brush.empty()||l.brush.selectionAsValue(l.x.orgDomain()),s=l.generateDrawArea(r,!0),c=l.generateDrawBar(a,!0),d=l.generateDrawLine(o,!0),l.updateBarForSubchart(i),l.updateLineForSubchart(i),l.updateAreaForSubchart(i),l.redrawBarForSubchart(c,i,i),l.redrawLineForSubchart(d,i,i),l.redrawAreaForSubchart(s,i,i))},l.prototype.redrawForBrush=function(){var t,e=this,i=e.x,n=e.d3;e.redraw({withTransition:!1,withY:e.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withEventRect:!1,withDimension:!1}),t=n.event.selection||e.brush.scale.range(),e.main.select(\".\"+Y.eventRect).call(e.zoom.transform,n.zoomIdentity.scale(e.width/(t[1]-t[0])).translate(-t[0],0)),e.config.subchart_onbrush.call(e.api,i.orgDomain())},l.prototype.transformContext=function(t,e){var i;e&&e.axisSubX?i=e.axisSubX:(i=this.context.select(\".\"+Y.axisX),t&&(i=i.transition())),this.context.attr(\"transform\",this.getTranslate(\"context\")),i.attr(\"transform\",this.getTranslate(\"subx\"))},l.prototype.getDefaultSelection=function(){var t=this,e=t.config,i=h(e.axis_x_selection)?e.axis_x_selection(t.getXDomain(t.data.targets)):e.axis_x_selection;return t.isTimeSeries()&&(i=[t.parseDate(i[0]),t.parseDate(i[1])]),i},l.prototype.removeSubchart=function(){this.brush=null,this.context.remove(),this.context=null},l.prototype.initText=function(){this.main.select(\".\"+Y.chart).append(\"g\").attr(\"class\",Y.chartTexts),this.mainText=this.d3.selectAll([])},l.prototype.updateTargetsForText=function(t){var e=this,i=e.classChartText.bind(e),n=e.classTexts.bind(e),r=e.classFocus.bind(e),a=e.main.select(\".\"+Y.chartTexts).selectAll(\".\"+Y.chartText).data(t),o=a.enter().append(\"g\").attr(\"class\",i).style(\"opacity\",0).style(\"pointer-events\",\"none\");o.append(\"g\").attr(\"class\",n),o.merge(a).attr(\"class\",function(t){return i(t)+r(t)})},l.prototype.updateText=function(t,e,i){var n=this,r=n.config,a=n.barOrLineData.bind(n),o=n.classText.bind(n),s=n.main.selectAll(\".\"+Y.texts).selectAll(\".\"+Y.text).data(a),c=s.enter().append(\"text\").attr(\"class\",o).attr(\"text-anchor\",function(t){return r.axis_rotated?t.value<0?\"end\":\"start\":\"middle\"}).style(\"stroke\",\"none\").attr(\"x\",t).attr(\"y\",e).style(\"fill\",function(t){return n.color(t)}).style(\"fill-opacity\",0);n.mainText=c.merge(s).text(function(t,e,i){return n.dataLabelFormat(t.id)(t.value,t.id,e,i)}),s.exit().transition().duration(i).style(\"fill-opacity\",0).remove()},l.prototype.redrawText=function(t,e,i,n,r){return[(n?this.mainText.transition(r):this.mainText).attr(\"x\",t).attr(\"y\",e).style(\"fill\",this.color).style(\"fill-opacity\",i?0:this.opacityForText.bind(this))]},l.prototype.getTextRect=function(t,e,i){var n,r=this.d3.select(\"body\").append(\"div\").classed(\"c3\",!0),a=r.append(\"svg\").style(\"visibility\",\"hidden\").style(\"position\",\"fixed\").style(\"top\",0).style(\"left\",0),o=this.d3.select(i).style(\"font\");return a.selectAll(\".dummy\").data([t]).enter().append(\"text\").classed(e||\"\",!0).style(\"font\",o).text(t).each(function(){n=d(this)}),r.remove(),n},l.prototype.generateXYForText=function(t,e,i,n){var r=this,a=r.generateGetAreaPoints(t,!1),o=r.generateGetBarPoints(e,!1),s=r.generateGetLinePoints(i,!1),c=n?r.getXForText:r.getYForText;return function(t,e){var i=r.isAreaType(t)?a:r.isBarType(t)?o:s;return c.call(r,i(t,e),t,this)}},l.prototype.getXForText=function(t,e,i){var n,r=this,a=d(i),o=r.config.axis_rotated?(n=r.isBarType(e)?4:6,t[2][1]+n*(e.value<0?-1:1)):r.hasType(\"bar\")?(t[2][0]+t[0][0])/2:t[0][0];return null===e.value&&(o>r.width?o=r.width-a.width:o<0&&(o=4)),o},l.prototype.getYForText=function(t,e,i){var n,r=this,a=d(i);return r.config.axis_rotated?n=(t[0][0]+t[2][0]+.6*a.height)/2:(n=t[2][1],e.value<0||0===e.value&&!r.hasPositiveValue?(n+=a.height,r.isBarType(e)&&r.isSafari()?n-=3:!r.isBarType(e)&&r.isChrome()&&(n+=3)):n+=r.isBarType(e)?-3:-6),null!==e.value||r.config.axis_rotated||(n<a.height?n=a.height:n>this.height&&(n=this.height-4)),n},l.prototype.initTitle=function(){this.title=this.svg.append(\"text\").text(this.config.title_text).attr(\"class\",this.CLASS.title)},l.prototype.redrawTitle=function(){var t=this;t.title.attr(\"x\",t.xForTitle.bind(t)).attr(\"y\",t.yForTitle.bind(t))},l.prototype.xForTitle=function(){var t=this,e=t.config,i=e.title_position||\"left\",n=0<=i.indexOf(\"right\")?t.currentWidth-t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).width-e.title_padding.right:0<=i.indexOf(\"center\")?Math.max((t.currentWidth-t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).width)/2,0):e.title_padding.left;return n},l.prototype.yForTitle=function(){var t=this;return t.config.title_padding.top+t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).height},l.prototype.getTitlePadding=function(){return this.yForTitle()+this.config.title_padding.bottom},l.prototype.drawColorScale=function(){var t,e,i,n,r,a,o=this,s=o.d3,c=o.config,d=o.data.targets[0],l=isNaN(c.stanford_scaleWidth)?20:c.stanford_scaleWidth;if(l<0)throw Error(\"Colorscale's barheight and barwidth must be greater than 0.\");a=o.height-c.stanford_padding.bottom-c.stanford_padding.top,e=s.range(c.stanford_padding.bottom,a,5),r=s.scaleSequential(d.colors).domain([e[e.length-1],e[0]]),o.colorScale&&o.colorScale.remove(),o.colorScale=o.svg.append(\"g\").attr(\"width\",50).attr(\"height\",a).attr(\"class\",Y.colorScale),o.colorScale.append(\"g\").attr(\"transform\",\"translate(0, \"+c.stanford_padding.top+\")\").selectAll(\"bars\").data(e).enter().append(\"rect\").attr(\"y\",function(t,e){return 5*e}).attr(\"x\",0).attr(\"width\",l).attr(\"height\",5).attr(\"fill\",function(t){return r(t)}),n=s.scaleLog().domain([d.minEpochs,d.maxEpochs]).range([e[0]+c.stanford_padding.top+e[e.length-1]+5-1,e[0]+c.stanford_padding.top]),i=s.axisRight(n),\"pow10\"===c.stanford_scaleFormat?i.tickValues([1,10,100,1e3,1e4,1e5,1e6,1e7]):h(c.stanford_scaleFormat)?i.tickFormat(c.stanford_scaleFormat):i.tickFormat(s.format(\"d\")),h(c.stanford_scaleValues)&&i.tickValues(c.stanford_scaleValues(d.minEpochs,d.maxEpochs)),t=o.colorScale.append(\"g\").attr(\"class\",\"legend axis\").attr(\"transform\",\"translate(\"+l+\",0)\").call(i),\"pow10\"===c.stanford_scaleFormat&&t.selectAll(\".tick text\").text(null).filter(x).text(10).append(\"tspan\").attr(\"dy\",\"-.7em\").text(function(t){return Math.round(Math.log(t)/Math.LN10)}),o.colorScale.attr(\"transform\",\"translate(\"+(o.currentWidth-o.xForColorScale())+\", 0)\")},l.prototype.xForColorScale=function(){return this.config.stanford_padding.right+d(this.colorScale.node()).width},l.prototype.getColorScalePadding=function(){return this.xForColorScale()+this.config.stanford_padding.left+20},l.prototype.isStanfordGraphType=function(){return\"stanford\"===this.config.data_type},l.prototype.initStanfordData=function(){var t,e,i,n=this.d3,r=this.config,a=this.data.targets[0];if(a.values.sort(v),t=a.values.map(function(t){return t.epochs}),i=isNaN(r.stanford_scaleMin)?n.min(t):r.stanford_scaleMin,(e=isNaN(r.stanford_scaleMax)?n.max(t):r.stanford_scaleMax)<i)throw Error(\"Number of minEpochs has to be smaller than maxEpochs\");a.colors=h(r.stanford_colors)?r.stanford_colors:n.interpolateHslLong(n.hsl(250,1,.5),n.hsl(0,1,.5)),a.colorscale=n.scaleSequentialLog(a.colors).domain([i,e]),a.minEpochs=i,a.maxEpochs=e},l.prototype.getStanfordPointColor=function(t){return this.data.targets[0].colorscale(t.epochs)},l.prototype.getCentroid=function(t){for(var e,i,n,r=y(t),a=0,o=0,s=0,c=t.length-1;s<t.length;c=s,s+=1)i=t[s],n=t[c],e=i.x*n.y-n.x*i.y,a+=(i.x+n.x)*e,o+=(i.y+n.y)*e;return{x:a/(e=6*r),y:o/e}},l.prototype.getStanfordTooltipTitle=function(t){var e=this.axis.getLabelText(\"x\"),i=this.axis.getLabelText(\"y\");return\"\\n      <tr><th>\"+(e?_(e):\"x\")+\"</th><th class='value'>\"+t.x+\"</th></tr>\\n      <tr><th>\"+(i?_(i):\"y\")+\"</th><th class='value'>\"+t.value+\"</th></tr>\\n    \"},l.prototype.countEpochsInRegion=function(i){var t=this.data.targets[0],e=t.values.reduce(function(t,e){return t+Number(e.epochs)},0),n=t.values.reduce(function(t,e){return S(e,i)?t+Number(e.epochs):t},0);return{value:n,percentage:0!==n?(n/e*100).toFixed(1):0}};var y=function(t){for(var e,i,n=0,r=0,a=t.length-1;r<t.length;a=r,r+=1)e=t[r],i=t[a],n+=e.x*i.y,n-=e.y*i.x;return n/=2},S=function(t,e){for(var i,n,r,a,o=t.x,s=t.value,c=!1,d=0,l=e.length-1;d<e.length;l=d++)i=e[d].x,n=e[d].y,a=e[l].x,s<n!=s<(r=e[l].y)&&o<(a-i)*(s-n)/(r-n)+i&&(c=!c);return c},v=function(t,e){return t.epochs<e.epochs?-1:t.epochs>e.epochs?1:0};return l.prototype.initStanfordElements=function(){var t=this;t.stanfordElements=t.main.select(\".\"+Y.chart).append(\"g\").attr(\"class\",Y.stanfordElements),t.stanfordElements.append(\"g\").attr(\"class\",Y.stanfordLines),t.stanfordElements.append(\"g\").attr(\"class\",Y.stanfordTexts),t.stanfordElements.append(\"g\").attr(\"class\",Y.stanfordRegions)},l.prototype.updateStanfordElements=function(t){var e,i,n,r,a=this,o=a.main,s=a.config,c=a.xvCustom.bind(a),d=a.yvCustom.bind(a),l=a.countEpochsInRegion.bind(a),u=o.select(\".\"+Y.stanfordLines).style(\"shape-rendering\",\"geometricprecision\").selectAll(\".\"+Y.stanfordLine).data(s.stanford_lines),h=u.enter().append(\"g\").attr(\"class\",function(t){return Y.stanfordLine+(t.class?\" \"+t.class:\"\")});h.append(\"line\").attr(\"x1\",function(t){return s.axis_rotated?d(t,\"value_y1\"):c(t,\"value_x1\")}).attr(\"x2\",function(t){return s.axis_rotated?d(t,\"value_y2\"):c(t,\"value_x2\")}).attr(\"y1\",function(t){return s.axis_rotated?c(t,\"value_x1\"):d(t,\"value_y1\")}).attr(\"y2\",function(t){return s.axis_rotated?c(t,\"value_x2\"):d(t,\"value_y2\")}).style(\"opacity\",0),a.stanfordLines=h.merge(u),a.stanfordLines.select(\"line\").transition().duration(t).attr(\"x1\",function(t){return s.axis_rotated?d(t,\"value_y1\"):c(t,\"value_x1\")}).attr(\"x2\",function(t){return s.axis_rotated?d(t,\"value_y2\"):c(t,\"value_x2\")}).attr(\"y1\",function(t){return s.axis_rotated?c(t,\"value_x1\"):d(t,\"value_y1\")}).attr(\"y2\",function(t){return s.axis_rotated?c(t,\"value_x2\"):d(t,\"value_y2\")}).style(\"opacity\",1),u.exit().transition().duration(t).style(\"opacity\",0).remove(),(r=(n=o.select(\".\"+Y.stanfordTexts).selectAll(\".\"+Y.stanfordText).data(s.stanford_texts)).enter().append(\"g\").attr(\"class\",function(t){return Y.stanfordText+(t.class?\" \"+t.class:\"\")})).append(\"text\").attr(\"x\",function(t){return s.axis_rotated?d(t,\"y\"):c(t,\"x\")}).attr(\"y\",function(t){return s.axis_rotated?c(t,\"x\"):d(t,\"y\")}).style(\"opacity\",0),a.stanfordTexts=r.merge(n),a.stanfordTexts.select(\"text\").transition().duration(t).attr(\"x\",function(t){return s.axis_rotated?d(t,\"y\"):c(t,\"x\")}).attr(\"y\",function(t){return s.axis_rotated?c(t,\"x\"):d(t,\"y\")}).text(function(t){return t.content}).style(\"opacity\",1),n.exit().transition().duration(t).style(\"opacity\",0).remove(),(i=(e=o.select(\".\"+Y.stanfordRegions).selectAll(\".\"+Y.stanfordRegion).data(s.stanford_regions)).enter().append(\"g\").attr(\"class\",function(t){return Y.stanfordRegion+(t.class?\" \"+t.class:\"\")})).append(\"polygon\").attr(\"points\",function(t){return t.points.map(function(t){return[s.axis_rotated?d(t,\"y\"):c(t,\"x\"),s.axis_rotated?c(t,\"x\"):d(t,\"y\")].join(\",\")}).join(\" \")}).style(\"opacity\",0),i.append(\"text\").attr(\"x\",function(t){return a.getCentroid(t.points).x}).attr(\"y\",function(t){return a.getCentroid(t.points).y}).style(\"opacity\",0),a.stanfordRegions=i.merge(e),a.stanfordRegions.select(\"polygon\").transition().duration(t).attr(\"points\",function(t){return t.points.map(function(t){return[s.axis_rotated?d(t,\"y\"):c(t,\"x\"),s.axis_rotated?c(t,\"x\"):d(t,\"y\")].join(\",\")}).join(\" \")}).style(\"opacity\",function(t){return t.opacity?t.opacity:.2}),a.stanfordRegions.select(\"text\").transition().duration(t).attr(\"x\",function(t){return s.axis_rotated?d(a.getCentroid(t.points),\"y\"):c(a.getCentroid(t.points),\"x\")}).attr(\"y\",function(t){return s.axis_rotated?c(a.getCentroid(t.points),\"x\"):d(a.getCentroid(t.points),\"y\")}).text(function(t){var e,i,n;return t.text?(a.isStanfordGraphType()&&(e=(n=l(t.points)).value,i=n.percentage),t.text(e,i)):\"\"}).attr(\"text-anchor\",\"middle\").attr(\"dominant-baseline\",\"middle\").style(\"opacity\",1),e.exit().transition().duration(t).style(\"opacity\",0).remove()},l.prototype.initTooltip=function(){var t,e=this,i=e.config;if(e.tooltip=e.selectChart.style(\"position\",\"relative\").append(\"div\").attr(\"class\",Y.tooltipContainer).style(\"position\",\"absolute\").style(\"pointer-events\",\"none\").style(\"display\",\"none\"),i.tooltip_init_show){if(e.isTimeSeries()&&g(i.tooltip_init_x)){for(i.tooltip_init_x=e.parseDate(i.tooltip_init_x),t=0;t<e.data.targets[0].values.length&&e.data.targets[0].values[t].x-i.tooltip_init_x!=0;t++);i.tooltip_init_x=t}e.tooltip.html(i.tooltip_contents.call(e,e.data.targets.map(function(t){return e.addName(t.values[i.tooltip_init_x])}),e.axis.getXAxisTickFormat(),e.getYFormat(e.hasArcType()),e.color)),e.tooltip.style(\"top\",i.tooltip_init_position.top).style(\"left\",i.tooltip_init_position.left).style(\"display\",\"block\")}},l.prototype.getTooltipSortFunction=function(){var t=this,e=t.config;if(0!==e.data_groups.length&&void 0===e.tooltip_order){var i=t.orderTargets(t.data.targets).map(function(t){return t.id});return(t.isOrderAsc()||t.isOrderDesc())&&(i=i.reverse()),function(t,e){return i.indexOf(t.id)-i.indexOf(e.id)}}var n=e.tooltip_order;void 0===n&&(n=e.data_order);function r(t){return t?t.value:null}if(g(n)&&\"asc\"===n.toLowerCase())return function(t,e){return r(t)-r(e)};if(g(n)&&\"desc\"===n.toLowerCase())return function(t,e){return r(e)-r(t)};if(h(n)){var a=n;return void 0===e.tooltip_order&&(a=function(t,e){return n(t?{id:t.id,values:[t]}:null,e?{id:e.id,values:[e]}:null)}),a}return o(n)?function(t,e){return n.indexOf(t.id)-n.indexOf(e.id)}:void 0},l.prototype.getTooltipContent=function(t,e,i,n){var r,a,o,s,c,d,l=this,u=l.config,h=u.tooltip_format_title||e,g=u.tooltip_format_name||function(t){return t},p=(p=u.tooltip_format_value)||(l.isTargetNormalized(t.id)?function(t,e){return(100*e).toFixed(2)+\"%\"}:i),f=this.getTooltipSortFunction();for(f&&t.sort(f),a=0;a<t.length;a++)if(t[a]&&(t[a].value||0===t[a].value)){if(l.isStanfordGraphType())r||(o=l.getStanfordTooltipTitle(t[a]),r=\"<table class='\"+l.CLASS.tooltip+\"'>\"+o),d=l.getStanfordPointColor(t[a]),c=_(u.data_epochs),s=t[a].epochs;else if(r||(o=_(h?h(t[a].x,t[a].index):t[a].x),r=\"<table class='\"+l.CLASS.tooltip+\"'>\"+(o||0===o?\"<tr><th colspan='2'>\"+o+\"</th></tr>\":\"\")),void 0!==(s=_(p(t[a].value,t[a].ratio,t[a].id,t[a].index,t)))){if(null===t[a].name)continue;c=_(g(t[a].name,t[a].ratio,t[a].id,t[a].index)),d=l.levelColor?l.levelColor(t[a].value):n(t[a].id)}void 0!==s&&(r+=\"<tr class='\"+l.CLASS.tooltipName+\"-\"+l.getTargetSelectorSuffix(t[a].id)+\"'>\",r+=\"<td class='name'><span style='background-color:\"+d+\"'></span>\"+c+\"</td>\",r+=\"<td class='value'>\"+s+\"</td>\",r+=\"</tr>\")}return r+\"</table>\"},l.prototype.tooltipPosition=function(t,e,i,n){var r,a,o,s,c,d=this,l=d.config,u=d.d3,h=d.hasArcType(),g=u.mouse(n);return h?(a=(d.width-(d.isLegendRight?d.getLegendWidth():0))/2+g[0],s=(d.hasType(\"gauge\")?d.height:d.height/2)+g[1]+20):(r=d.getSvgLeft(!0),s=l.axis_rotated?(o=(a=r+g[0]+100)+e,c=d.currentWidth-d.getCurrentPaddingRight(),d.x(t[0].x)+20):(o=(a=r+d.getCurrentPaddingLeft(!0)+d.x(t[0].x)+20)+e,c=r+d.currentWidth-d.getCurrentPaddingRight(),g[1]+15),c<o&&(a-=o-c+20),s+i>d.currentHeight&&(s-=i+30)),s<0&&(s=0),{top:s,left:a}},l.prototype.showTooltip=function(t,e){var i,n,r,a=this,o=a.config,s=a.hasArcType(),c=t.filter(function(t){return t&&C(t.value)}),d=o.tooltip_position||l.prototype.tooltipPosition;0!==c.length&&o.tooltip_show?(a.tooltip.html(o.tooltip_contents.call(a,t,a.axis.getXAxisTickFormat(),a.getYFormat(s),a.color)).style(\"display\",\"block\"),i=a.tooltip.property(\"offsetWidth\"),n=a.tooltip.property(\"offsetHeight\"),r=d.call(this,c,i,n,e),a.tooltip.style(\"top\",r.top+\"px\").style(\"left\",r.left+\"px\")):a.hideTooltip()},l.prototype.hideTooltip=function(){this.tooltip.style(\"display\",\"none\")},l.prototype.setTargetType=function(t,e){var i=this,n=i.config;i.mapToTargetIds(t).forEach(function(t){i.withoutFadeIn[t]=e===n.data_types[t],n.data_types[t]=e}),t||(n.data_type=e)},l.prototype.hasType=function(i,t){var n=this.config.data_types,r=!1;return(t=t||this.data.targets)&&t.length?t.forEach(function(t){var e=n[t.id];(e&&0<=e.indexOf(i)||!e&&\"line\"===i)&&(r=!0)}):Object.keys(n).length?Object.keys(n).forEach(function(t){n[t]===i&&(r=!0)}):r=this.config.data_type===i,r},l.prototype.hasArcType=function(t){return this.hasType(\"pie\",t)||this.hasType(\"donut\",t)||this.hasType(\"gauge\",t)},l.prototype.isLineType=function(t){var e=this.config,i=g(t)?t:t.id;return!e.data_types[i]||0<=[\"line\",\"spline\",\"area\",\"area-spline\",\"step\",\"area-step\"].indexOf(e.data_types[i])},l.prototype.isStepType=function(t){var e=g(t)?t:t.id;return 0<=[\"step\",\"area-step\"].indexOf(this.config.data_types[e])},l.prototype.isSplineType=function(t){var e=g(t)?t:t.id;return 0<=[\"spline\",\"area-spline\"].indexOf(this.config.data_types[e])},l.prototype.isAreaType=function(t){var e=g(t)?t:t.id;return 0<=[\"area\",\"area-spline\",\"area-step\"].indexOf(this.config.data_types[e])},l.prototype.isBarType=function(t){var e=g(t)?t:t.id;return\"bar\"===this.config.data_types[e]},l.prototype.isScatterType=function(t){var e=g(t)?t:t.id;return\"scatter\"===this.config.data_types[e]},l.prototype.isStanfordType=function(t){var e=g(t)?t:t.id;return\"stanford\"===this.config.data_types[e]},l.prototype.isPieType=function(t){var e=g(t)?t:t.id;return\"pie\"===this.config.data_types[e]},l.prototype.isGaugeType=function(t){var e=g(t)?t:t.id;return\"gauge\"===this.config.data_types[e]},l.prototype.isDonutType=function(t){var e=g(t)?t:t.id;return\"donut\"===this.config.data_types[e]},l.prototype.isArcType=function(t){return this.isPieType(t)||this.isDonutType(t)||this.isGaugeType(t)},l.prototype.lineData=function(t){return this.isLineType(t)?[t]:[]},l.prototype.arcData=function(t){return this.isArcType(t.data)?[t]:[]},l.prototype.barData=function(t){return this.isBarType(t)?t.values:[]},l.prototype.lineOrScatterOrStanfordData=function(t){return this.isLineType(t)||this.isScatterType(t)||this.isStanfordType(t)?t.values:[]},l.prototype.barOrLineData=function(t){return this.isBarType(t)||this.isLineType(t)?t.values:[]},l.prototype.isSafari=function(){var t=window.navigator.userAgent;return 0<=t.indexOf(\"Safari\")&&t.indexOf(\"Chrome\")<0},l.prototype.isChrome=function(){return 0<=window.navigator.userAgent.indexOf(\"Chrome\")},l.prototype.initZoom=function(){var e,i=this,n=i.d3,r=i.config;return i.zoom=n.zoom().on(\"start\",function(){var t;\"scroll\"===r.zoom_type&&((t=n.event.sourceEvent)&&\"brush\"===t.type||(e=t,r.zoom_onzoomstart.call(i.api,t)))}).on(\"zoom\",function(){var t;\"scroll\"===r.zoom_type&&((t=n.event.sourceEvent)&&\"brush\"===t.type||(i.redrawForZoom(),r.zoom_onzoom.call(i.api,i.x.orgDomain())))}).on(\"end\",function(){var t;\"scroll\"===r.zoom_type&&((t=n.event.sourceEvent)&&\"brush\"===t.type||t&&e.clientX===t.clientX&&e.clientY===t.clientY||r.zoom_onzoomend.call(i.api,i.x.orgDomain()))}),i.zoom.updateDomain=function(){return n.event&&n.event.transform&&(r.axis_rotated&&\"scroll\"===r.zoom_type&&\"mousemove\"===n.event.sourceEvent.type?i.x.domain(n.event.transform.rescaleY(i.subX).domain()):i.x.domain(n.event.transform.rescaleX(i.subX).domain())),this},i.zoom.updateExtent=function(){return this.scaleExtent([1,1/0]).translateExtent([[0,0],[i.width,i.height]]).extent([[0,0],[i.width,i.height]]),this},i.zoom.update=function(){return this.updateExtent().updateDomain()},i.zoom.updateExtent()},l.prototype.zoomTransform=function(t){var e=[this.x(t[0]),this.x(t[1])];return this.d3.zoomIdentity.scale(this.width/(e[1]-e[0])).translate(-e[0],0)},l.prototype.initDragZoom=function(){var e,t,i=this,n=i.d3,r=i.config,a=i.context=i.svg,o=i.margin.left+20.5,s=i.margin.top+.5;\"drag\"===r.zoom_type&&r.zoom_enabled&&(e=function(t){return t&&t.map(function(t){return i.x.invert(t)})},t=i.dragZoomBrush=n.brushX().on(\"start\",function(){i.api.unzoom(),i.svg.select(\".\"+Y.dragZoom).classed(\"disabled\",!1),r.zoom_onzoomstart.call(i.api,n.event.sourceEvent)}).on(\"brush\",function(){r.zoom_onzoom.call(i.api,e(n.event.selection))}).on(\"end\",function(){var t;null!=n.event.selection&&(t=e(n.event.selection),r.zoom_disableDefaultBehavior||i.api.zoom(t),i.svg.select(\".\"+Y.dragZoom).classed(\"disabled\",!0),r.zoom_onzoomend.call(i.api,t))}),a.append(\"g\").classed(Y.dragZoom,!0).attr(\"clip-path\",i.clipPath).attr(\"transform\",\"translate(\"+o+\",\"+s+\")\").call(t))},l.prototype.getZoomDomain=function(){var t=this.config,e=this.d3;return[e.min([this.orgXDomain[0],t.zoom_x_min]),e.max([this.orgXDomain[1],t.zoom_x_max])]},l.prototype.redrawForZoom=function(){var t=this,e=t.d3,i=t.config,n=t.zoom,r=t.x;i.zoom_enabled&&0!==t.filterTargetsToShow(t.data.targets).length&&(n.update(),i.zoom_disableDefaultBehavior||(t.isCategorized()&&r.orgDomain()[0]===t.orgXDomain[0]&&r.domain([t.orgXDomain[0]-1e-10,r.orgDomain()[1]]),t.redraw({withTransition:!1,withY:i.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),e.event.sourceEvent&&\"mousemove\"===e.event.sourceEvent.type&&(t.cancelClick=!0)))},i});"
        },
        {
          "name": "codecov.yml",
          "type": "blob",
          "size": 0.0224609375,
          "content": "coverage:\n  status: no\n"
        },
        {
          "name": "component.json",
          "type": "blob",
          "size": 0.296875,
          "content": "{\n  \"name\": \"c3\",\n  \"repo\": \"masayuki0812/c3\",\n  \"description\": \"A D3-based reusable chart library\",\n  \"version\": \"0.7.20\",\n  \"keywords\": [],\n  \"dependencies\": {\n    \"mbostock/d3\": \"v5.0.0\"\n  },\n  \"development\": {},\n  \"license\": \"MIT\",\n  \"main\": \"c3.js\",\n  \"scripts\": [\"c3.js\"],\n  \"styles\": [\"c3.css\"]\n}\n"
        },
        {
          "name": "config.rb",
          "type": "blob",
          "size": 0.5869140625,
          "content": "helpers do\n  def js_as_plain(id)\n    f = open(\"docs/js/samples/\" + id + \".js\")\n    js = f.read\n    f.close\n    js\n  end\n  def data_as_plain(name)\n    f = open(\"docs/data/\" + name)\n    data = f.read\n    f.close\n    data\n  end\n  def css_as_plain(name)\n    f = open(\"docs/css/samples/\" + name)\n    css = f.read\n    f.close\n    css\n  end\n  def get_css_name(path)\n    path.gsub('.html', '')\n  end\nend\n\nset :source, 'docs'\nset :haml, { :ugly => true, :format => :html5 }\nset :css_dir, 'css'\nset :js_dir, 'js'\nset :images_dir, 'img'\n\nconfigure :build do\n  activate :asset_hash, :ignore => %r{^js/ace/.*}\nend\n"
        },
        {
          "name": "data",
          "type": "tree",
          "content": null
        },
        {
          "name": "design",
          "type": "tree",
          "content": null
        },
        {
          "name": "docs",
          "type": "tree",
          "content": null
        },
        {
          "name": "extensions",
          "type": "tree",
          "content": null
        },
        {
          "name": "htdocs",
          "type": "tree",
          "content": null
        },
        {
          "name": "karma.conf.js",
          "type": "blob",
          "size": 0.5244140625,
          "content": "const path = require('path')\n\nmodule.exports = config =>\n  config.set({\n    frameworks: ['jasmine', 'karma-typescript'],\n    files: ['htdocs/css/c3.css', 'src/**/*.ts', 'spec/**/*'],\n    preprocessors: {\n      'spec/**/*.ts': ['karma-typescript'],\n      'src/**/*.ts': ['karma-typescript']\n    },\n    karmaTypescriptConfig: {\n      coverageOptions: {\n        exclude: /spec/\n      },\n      reports: {\n        lcov: 'coverage'\n      }\n    },\n    reporters: ['spec', 'karma-typescript'],\n    browsers: ['Chrome'],\n    singleRun: true\n  })\n"
        },
        {
          "name": "package.json",
          "type": "blob",
          "size": 2.8876953125,
          "content": "{\n  \"name\": \"c3\",\n  \"version\": \"0.7.20\",\n  \"description\": \"D3-based reusable chart library\",\n  \"main\": \"c3.js\",\n  \"files\": [\n    \"c3.js\",\n    \"c3.min.js\",\n    \"c3.esm.js\",\n    \"c3.css\",\n    \"c3.min.css\",\n    \"src\"\n  ],\n  \"scripts\": {\n    \"start\": \"run-p serve-static watch\",\n    \"serve-static\": \"static -p 8080 htdocs/\",\n    \"lint\": \"jshint --reporter=node_modules/jshint-stylish src/ spec/\",\n    \"type\": \"tsc --noEmit\",\n    \"fmt\": \"prettier --write rollup.config.js karma.conf.js \\\"src/**/*.ts\\\" \\\"spec/**/*.ts\\\" *.json\",\n    \"docs\": \"bundle exec middleman\",\n    \"build\": \"run-s build:js build:css\",\n    \"build:js\": \"run-s build:js:rollup build:js:uglify\",\n    \"build:js:rollup\": \"rollup -c\",\n    \"build:js:uglify\": \"uglifyjs htdocs/js/c3.js --compress --mangle --comments -o htdocs/js/c3.min.js\",\n    \"build:css\": \"run-s build:css:sass build:css:min\",\n    \"build:css:sass\": \"sass src/scss/main.scss > htdocs/css/c3.css\",\n    \"build:css:min\": \"cleancss -o htdocs/css/c3.min.css htdocs/css/c3.css\",\n    \"build:docs\": \"bundle exec middleman build\",\n    \"publish-docs\": \"npm run build:docs && gh-pages -d build -m \\\"chore: update gh-pages [skip ci]\\\"\",\n    \"watch\": \"nodemon -e js,scss --watch src -x npm run build:js:rollup && npm run build:css:sass\",\n    \"watch:js\": \"nodemon -e js --watch src --ignore src/scss -x 'npm run build:js:rollup'\",\n    \"watch:css\": \"nodemon -e scss --watch src -x 'npm run build:css:sass'\",\n    \"watch:docs\": \"bundle exec middleman\",\n    \"karma\": \"karma start karma.conf.js\",\n    \"test\": \"run-s build lint karma\",\n    \"dist\": \"run-s build copy-to-root copy-to-docs\",\n    \"copy-to-docs\": \"cp htdocs/js/c3.* docs/js/ && cp htdocs/css/c3.* docs/css/\",\n    \"copy-to-root\": \"cp htdocs/{css,js}/c3.* ./\",\n    \"codecov\": \"codecov\"\n  },\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"git://github.com/c3js/c3.git\"\n  },\n  \"keywords\": [\n    \"d3\",\n    \"chart\",\n    \"graph\"\n  ],\n  \"authors\": [\n    \"Masayuki Tanaka\",\n    \"Ã†ndrew Rininsland\",\n    \"Yoshiya Hinosawa\"\n  ],\n  \"license\": \"MIT\",\n  \"gitHead\": \"84e03109d9a590f9c8ef687c03d751f666080c6f\",\n  \"readmeFilename\": \"README.md\",\n  \"dependencies\": {\n    \"d3\": \"^5.8.0\"\n  },\n  \"devDependencies\": {\n    \"@types/d3\": \"^5.7.2\",\n    \"@types/jasmine\": \"^3.5.10\",\n    \"clean-css-cli\": \"^4.1.11\",\n    \"codecov\": \"^3.0.4\",\n    \"gh-pages\": \"^5.0.0\",\n    \"jasmine-core\": \"^2.3.4\",\n    \"jshint\": \"^2.9.7\",\n    \"jshint-stylish\": \"^2.1.0\",\n    \"karma\": \"^6.3.14\",\n    \"karma-chrome-launcher\": \"^3.0.0\",\n    \"karma-jasmine\": \"^1.1.0\",\n    \"karma-spec-reporter\": \"^0.0.32\",\n    \"karma-typescript\": \"^5.0.3\",\n    \"node-static\": \"^0.7.9\",\n    \"nodemon\": \"^2.0.0\",\n    \"npm-run-all\": \"^4.1.3\",\n    \"prettier\": \"^1.19.1\",\n    \"rollup\": \"^2.79.2\",\n    \"rollup-plugin-typescript2\": \"^0.27.1\",\n    \"sass\": \"^1.10.3\",\n    \"status-back\": \"^1.1.0\",\n    \"typescript\": \"^3.9.5\",\n    \"uglify-js\": \"^3.6.4\",\n    \"watchify\": \"^3.11.1\"\n  },\n  \"nyc\": {\n    \"exclude\": [\n      \"src/polyfill.js\",\n      \"spec/\"\n    ]\n  }\n}\n"
        },
        {
          "name": "rollup.config.js",
          "type": "blob",
          "size": 0.408203125,
          "content": "import typescript from 'rollup-plugin-typescript2'\nimport pkg from './package.json'\n\nexport default [\n  {\n    input: 'src/index.ts',\n    output: {\n      file: 'htdocs/js/c3.js',\n      name: 'c3',\n      format: 'umd',\n      banner: `/* @license C3.js v${pkg.version} | (c) C3 Team and other contributors | http://c3js.org/ */`,\n      globals: { d3: 'd3' }\n    },\n    plugins: [typescript()],\n    external: ['d3']\n  }\n]\n"
        },
        {
          "name": "spec",
          "type": "tree",
          "content": null
        },
        {
          "name": "src",
          "type": "tree",
          "content": null
        },
        {
          "name": "tsconfig.json",
          "type": "blob",
          "size": 0.2216796875,
          "content": "{\n  \"compilerOptions\": {\n    \"target\": \"es5\",\n    \"module\": \"ESNext\",\n    \"strict\": false,\n    \"esModuleInterop\": true,\n    \"skipLibCheck\": true,\n    \"forceConsistentCasingInFileNames\": true\n  },\n  \"include\": [\"src\", \"spec\"]\n}\n"
        },
        {
          "name": "yarn.lock",
          "type": "blob",
          "size": 222.98046875,
          "content": "# THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\n# yarn lockfile v1\n\n\n\"@babel/code-frame@^7.10.1\":\n  version \"7.10.1\"\n  resolved \"https://registry.yarnpkg.com/@babel/code-frame/-/code-frame-7.10.1.tgz#d5481c5095daa1c57e16e54c6f9198443afb49ff\"\n  integrity sha512-IGhtTmpjGbYzcEDOw7DcQtbQSXcG9ftmAXtWTu9V936vDye4xjjekktFAtgZsWpzTj/X01jocB46mTywm/4SZw==\n  dependencies:\n    \"@babel/highlight\" \"^7.10.1\"\n\n\"@babel/code-frame@^7.22.13\":\n  version \"7.22.13\"\n  resolved \"https://registry.yarnpkg.com/@babel/code-frame/-/code-frame-7.22.13.tgz#e3c1c099402598483b7a8c46a721d1038803755e\"\n  integrity sha512-XktuhWlJ5g+3TJXc5upd9Ks1HutSArik6jf2eAjYFyIOf4ej3RN+184cZbzDvbPnuTJIUhPKKJE3cIsYTiAT3w==\n  dependencies:\n    \"@babel/highlight\" \"^7.22.13\"\n    chalk \"^2.4.2\"\n\n\"@babel/core@^7.7.5\":\n  version \"7.10.2\"\n  resolved \"https://registry.yarnpkg.com/@babel/core/-/core-7.10.2.tgz#bd6786046668a925ac2bd2fd95b579b92a23b36a\"\n  integrity sha512-KQmV9yguEjQsXqyOUGKjS4+3K8/DlOCE2pZcq4augdQmtTy5iv5EHtmMSJ7V4c1BIPjuwtZYqYLCq9Ga+hGBRQ==\n  dependencies:\n    \"@babel/code-frame\" \"^7.10.1\"\n    \"@babel/generator\" \"^7.10.2\"\n    \"@babel/helper-module-transforms\" \"^7.10.1\"\n    \"@babel/helpers\" \"^7.10.1\"\n    \"@babel/parser\" \"^7.10.2\"\n    \"@babel/template\" \"^7.10.1\"\n    \"@babel/traverse\" \"^7.10.1\"\n    \"@babel/types\" \"^7.10.2\"\n    convert-source-map \"^1.7.0\"\n    debug \"^4.1.0\"\n    gensync \"^1.0.0-beta.1\"\n    json5 \"^2.1.2\"\n    lodash \"^4.17.13\"\n    resolve \"^1.3.2\"\n    semver \"^5.4.1\"\n    source-map \"^0.5.0\"\n\n\"@babel/generator@^7.10.2\":\n  version \"7.10.2\"\n  resolved \"https://registry.yarnpkg.com/@babel/generator/-/generator-7.10.2.tgz#0fa5b5b2389db8bfdfcc3492b551ee20f5dd69a9\"\n  integrity sha512-AxfBNHNu99DTMvlUPlt1h2+Hn7knPpH5ayJ8OqDWSeLld+Fi2AYBTC/IejWDM9Edcii4UzZRCsbUt0WlSDsDsA==\n  dependencies:\n    \"@babel/types\" \"^7.10.2\"\n    jsesc \"^2.5.1\"\n    lodash \"^4.17.13\"\n    source-map \"^0.5.0\"\n\n\"@babel/generator@^7.23.0\":\n  version \"7.23.0\"\n  resolved \"https://registry.yarnpkg.com/@babel/generator/-/generator-7.23.0.tgz#df5c386e2218be505b34837acbcb874d7a983420\"\n  integrity sha512-lN85QRR+5IbYrMWM6Y4pE/noaQtg4pNiqeNGX60eqOfo6gtEj6uw/JagelB8vVztSd7R6M5n1+PQkDbHbBRU4g==\n  dependencies:\n    \"@babel/types\" \"^7.23.0\"\n    \"@jridgewell/gen-mapping\" \"^0.3.2\"\n    \"@jridgewell/trace-mapping\" \"^0.3.17\"\n    jsesc \"^2.5.1\"\n\n\"@babel/helper-environment-visitor@^7.22.20\":\n  version \"7.22.20\"\n  resolved \"https://registry.yarnpkg.com/@babel/helper-environment-visitor/-/helper-environment-visitor-7.22.20.tgz#96159db61d34a29dba454c959f5ae4a649ba9167\"\n  integrity sha512-zfedSIzFhat/gFhWfHtgWvlec0nqB9YEIVrpuwjruLlXfUSnA8cJB0miHKwqDnQ7d32aKo2xt88/xZptwxbfhA==\n\n\"@babel/helper-function-name@^7.23.0\":\n  version \"7.23.0\"\n  resolved \"https://registry.yarnpkg.com/@babel/helper-function-name/-/helper-function-name-7.23.0.tgz#1f9a3cdbd5b2698a670c30d2735f9af95ed52759\"\n  integrity sha512-OErEqsrxjZTJciZ4Oo+eoZqeW9UIiOcuYKRJA4ZAgV9myA+pOXhhmpfNCKjEH/auVfEYVFJ6y1Tc4r0eIApqiw==\n  dependencies:\n    \"@babel/template\" \"^7.22.15\"\n    \"@babel/types\" \"^7.23.0\"\n\n\"@babel/helper-hoist-variables@^7.22.5\":\n  version \"7.22.5\"\n  resolved \"https://registry.yarnpkg.com/@babel/helper-hoist-variables/-/helper-hoist-variables-7.22.5.tgz#c01a007dac05c085914e8fb652b339db50d823bb\"\n  integrity sha512-wGjk9QZVzvknA6yKIUURb8zY3grXCcOZt+/7Wcy8O2uctxhplmUPkOdlgoNhmdVee2c92JXbf1xpMtVNbfoxRw==\n  dependencies:\n    \"@babel/types\" \"^7.22.5\"\n\n\"@babel/helper-member-expression-to-functions@^7.10.1\":\n  version \"7.10.1\"\n  resolved \"https://registry.yarnpkg.com/@babel/helper-member-expression-to-functions/-/helper-member-expression-to-functions-7.10.1.tgz#432967fd7e12a4afef66c4687d4ca22bc0456f15\"\n  integrity sha512-u7XLXeM2n50gb6PWJ9hoO5oO7JFPaZtrh35t8RqKLT1jFKj9IWeD1zrcrYp1q1qiZTdEarfDWfTIP8nGsu0h5g==\n  dependencies:\n    \"@babel/types\" \"^7.10.1\"\n\n\"@babel/helper-module-imports@^7.10.1\":\n  version \"7.10.1\"\n  resolved \"https://registry.yarnpkg.com/@babel/helper-module-imports/-/helper-module-imports-7.10.1.tgz#dd331bd45bccc566ce77004e9d05fe17add13876\"\n  integrity sha512-SFxgwYmZ3HZPyZwJRiVNLRHWuW2OgE5k2nrVs6D9Iv4PPnXVffuEHy83Sfx/l4SqF+5kyJXjAyUmrG7tNm+qVg==\n  dependencies:\n    \"@babel/types\" \"^7.10.1\"\n\n\"@babel/helper-module-transforms@^7.10.1\":\n  version \"7.10.1\"\n  resolved \"https://registry.yarnpkg.com/@babel/helper-module-transforms/-/helper-module-transforms-7.10.1.tgz#24e2f08ee6832c60b157bb0936c86bef7210c622\"\n  integrity sha512-RLHRCAzyJe7Q7sF4oy2cB+kRnU4wDZY/H2xJFGof+M+SJEGhZsb+GFj5j1AD8NiSaVBJ+Pf0/WObiXu/zxWpFg==\n  dependencies:\n    \"@babel/helper-module-imports\" \"^7.10.1\"\n    \"@babel/helper-replace-supers\" \"^7.10.1\"\n    \"@babel/helper-simple-access\" \"^7.10.1\"\n    \"@babel/helper-split-export-declaration\" \"^7.10.1\"\n    \"@babel/template\" \"^7.10.1\"\n    \"@babel/types\" \"^7.10.1\"\n    lodash \"^4.17.13\"\n\n\"@babel/helper-optimise-call-expression@^7.10.1\":\n  version \"7.10.1\"\n  resolved \"https://registry.yarnpkg.com/@babel/helper-optimise-call-expression/-/helper-optimise-call-expression-7.10.1.tgz#b4a1f2561870ce1247ceddb02a3860fa96d72543\"\n  integrity sha512-a0DjNS1prnBsoKx83dP2falChcs7p3i8VMzdrSbfLhuQra/2ENC4sbri34dz/rWmDADsmF1q5GbfaXydh0Jbjg==\n  dependencies:\n    \"@babel/types\" \"^7.10.1\"\n\n\"@babel/helper-replace-supers@^7.10.1\":\n  version \"7.10.1\"\n  resolved \"https://registry.yarnpkg.com/@babel/helper-replace-supers/-/helper-replace-supers-7.10.1.tgz#ec6859d20c5d8087f6a2dc4e014db7228975f13d\"\n  integrity sha512-SOwJzEfpuQwInzzQJGjGaiG578UYmyi2Xw668klPWV5n07B73S0a9btjLk/52Mlcxa+5AdIYqws1KyXRfMoB7A==\n  dependencies:\n    \"@babel/helper-member-expression-to-functions\" \"^7.10.1\"\n    \"@babel/helper-optimise-call-expression\" \"^7.10.1\"\n    \"@babel/traverse\" \"^7.10.1\"\n    \"@babel/types\" \"^7.10.1\"\n\n\"@babel/helper-simple-access@^7.10.1\":\n  version \"7.10.1\"\n  resolved \"https://registry.yarnpkg.com/@babel/helper-simple-access/-/helper-simple-access-7.10.1.tgz#08fb7e22ace9eb8326f7e3920a1c2052f13d851e\"\n  integrity sha512-VSWpWzRzn9VtgMJBIWTZ+GP107kZdQ4YplJlCmIrjoLVSi/0upixezHCDG8kpPVTBJpKfxTH01wDhh+jS2zKbw==\n  dependencies:\n    \"@babel/template\" \"^7.10.1\"\n    \"@babel/types\" \"^7.10.1\"\n\n\"@babel/helper-split-export-declaration@^7.10.1\":\n  version \"7.10.1\"\n  resolved \"https://registry.yarnpkg.com/@babel/helper-split-export-declaration/-/helper-split-export-declaration-7.10.1.tgz#c6f4be1cbc15e3a868e4c64a17d5d31d754da35f\"\n  integrity sha512-UQ1LVBPrYdbchNhLwj6fetj46BcFwfS4NllJo/1aJsT+1dLTEnXJL0qHqtY7gPzF8S2fXBJamf1biAXV3X077g==\n  dependencies:\n    \"@babel/types\" \"^7.10.1\"\n\n\"@babel/helper-split-export-declaration@^7.22.6\":\n  version \"7.22.6\"\n  resolved \"https://registry.yarnpkg.com/@babel/helper-split-export-declaration/-/helper-split-export-declaration-7.22.6.tgz#322c61b7310c0997fe4c323955667f18fcefb91c\"\n  integrity sha512-AsUnxuLhRYsisFiaJwvp1QF+I3KjD5FOxut14q/GzovUe6orHLesW2C7d754kRm53h5gqrz6sFl6sxc4BVtE/g==\n  dependencies:\n    \"@babel/types\" \"^7.22.5\"\n\n\"@babel/helper-string-parser@^7.22.5\":\n  version \"7.22.5\"\n  resolved \"https://registry.yarnpkg.com/@babel/helper-string-parser/-/helper-string-parser-7.22.5.tgz#533f36457a25814cf1df6488523ad547d784a99f\"\n  integrity sha512-mM4COjgZox8U+JcXQwPijIZLElkgEpO5rsERVDJTc2qfCDfERyob6k5WegS14SX18IIjv+XD+GrqNumY5JRCDw==\n\n\"@babel/helper-validator-identifier@^7.10.1\":\n  version \"7.10.1\"\n  resolved \"https://registry.yarnpkg.com/@babel/helper-validator-identifier/-/helper-validator-identifier-7.10.1.tgz#5770b0c1a826c4f53f5ede5e153163e0318e94b5\"\n  integrity sha512-5vW/JXLALhczRCWP0PnFDMCJAchlBvM7f4uk/jXritBnIa6E1KmqmtrS3yn1LAnxFBypQ3eneLuXjsnfQsgILw==\n\n\"@babel/helper-validator-identifier@^7.22.20\":\n  version \"7.22.20\"\n  resolved \"https://registry.yarnpkg.com/@babel/helper-validator-identifier/-/helper-validator-identifier-7.22.20.tgz#c4ae002c61d2879e724581d96665583dbc1dc0e0\"\n  integrity sha512-Y4OZ+ytlatR8AI+8KZfKuL5urKp7qey08ha31L8b3BwewJAoJamTzyvxPR/5D+KkdJCGPq/+8TukHBlY10FX9A==\n\n\"@babel/helpers@^7.10.1\":\n  version \"7.10.1\"\n  resolved \"https://registry.yarnpkg.com/@babel/helpers/-/helpers-7.10.1.tgz#a6827b7cb975c9d9cef5fd61d919f60d8844a973\"\n  integrity sha512-muQNHF+IdU6wGgkaJyhhEmI54MOZBKsFfsXFhboz1ybwJ1Kl7IHlbm2a++4jwrmY5UYsgitt5lfqo1wMFcHmyw==\n  dependencies:\n    \"@babel/template\" \"^7.10.1\"\n    \"@babel/traverse\" \"^7.10.1\"\n    \"@babel/types\" \"^7.10.1\"\n\n\"@babel/highlight@^7.10.1\":\n  version \"7.10.1\"\n  resolved \"https://registry.yarnpkg.com/@babel/highlight/-/highlight-7.10.1.tgz#841d098ba613ba1a427a2b383d79e35552c38ae0\"\n  integrity sha512-8rMof+gVP8mxYZApLF/JgNDAkdKa+aJt3ZYxF8z6+j/hpeXL7iMsKCPHa2jNMHu/qqBwzQF4OHNoYi8dMA/rYg==\n  dependencies:\n    \"@babel/helper-validator-identifier\" \"^7.10.1\"\n    chalk \"^2.0.0\"\n    js-tokens \"^4.0.0\"\n\n\"@babel/highlight@^7.22.13\":\n  version \"7.22.20\"\n  resolved \"https://registry.yarnpkg.com/@babel/highlight/-/highlight-7.22.20.tgz#4ca92b71d80554b01427815e06f2df965b9c1f54\"\n  integrity sha512-dkdMCN3py0+ksCgYmGG8jKeGA/8Tk+gJwSYYlFGxG5lmhfKNoAy004YpLxpS1W2J8m/EK2Ew+yOs9pVRwO89mg==\n  dependencies:\n    \"@babel/helper-validator-identifier\" \"^7.22.20\"\n    chalk \"^2.4.2\"\n    js-tokens \"^4.0.0\"\n\n\"@babel/parser@^7.10.1\", \"@babel/parser@^7.10.2\":\n  version \"7.10.2\"\n  resolved \"https://registry.yarnpkg.com/@babel/parser/-/parser-7.10.2.tgz#871807f10442b92ff97e4783b9b54f6a0ca812d0\"\n  integrity sha512-PApSXlNMJyB4JiGVhCOlzKIif+TKFTvu0aQAhnTvfP/z3vVSN6ZypH5bfUNwFXXjRQtUEBNFd2PtmCmG2Py3qQ==\n\n\"@babel/parser@^7.22.15\", \"@babel/parser@^7.23.0\":\n  version \"7.23.0\"\n  resolved \"https://registry.yarnpkg.com/@babel/parser/-/parser-7.23.0.tgz#da950e622420bf96ca0d0f2909cdddac3acd8719\"\n  integrity sha512-vvPKKdMemU85V9WE/l5wZEmImpCtLqbnTvqDS2U1fJ96KrxoW7KrXhNsNCblQlg8Ck4b85yxdTyelsMUgFUXiw==\n\n\"@babel/template@^7.10.1\":\n  version \"7.10.1\"\n  resolved \"https://registry.yarnpkg.com/@babel/template/-/template-7.10.1.tgz#e167154a94cb5f14b28dc58f5356d2162f539811\"\n  integrity sha512-OQDg6SqvFSsc9A0ej6SKINWrpJiNonRIniYondK2ViKhB06i3c0s+76XUft71iqBEe9S1OKsHwPAjfHnuvnCig==\n  dependencies:\n    \"@babel/code-frame\" \"^7.10.1\"\n    \"@babel/parser\" \"^7.10.1\"\n    \"@babel/types\" \"^7.10.1\"\n\n\"@babel/template@^7.22.15\":\n  version \"7.22.15\"\n  resolved \"https://registry.yarnpkg.com/@babel/template/-/template-7.22.15.tgz#09576efc3830f0430f4548ef971dde1350ef2f38\"\n  integrity sha512-QPErUVm4uyJa60rkI73qneDacvdvzxshT3kksGqlGWYdOTIUOwJ7RDUL8sGqslY1uXWSL6xMFKEXDS3ox2uF0w==\n  dependencies:\n    \"@babel/code-frame\" \"^7.22.13\"\n    \"@babel/parser\" \"^7.22.15\"\n    \"@babel/types\" \"^7.22.15\"\n\n\"@babel/traverse@^7.10.1\":\n  version \"7.23.2\"\n  resolved \"https://registry.yarnpkg.com/@babel/traverse/-/traverse-7.23.2.tgz#329c7a06735e144a506bdb2cad0268b7f46f4ad8\"\n  integrity sha512-azpe59SQ48qG6nu2CzcMLbxUudtN+dOM9kDbUqGq3HXUJRlo7i8fvPoxQUzYgLZ4cMVmuZgm8vvBpNeRhd6XSw==\n  dependencies:\n    \"@babel/code-frame\" \"^7.22.13\"\n    \"@babel/generator\" \"^7.23.0\"\n    \"@babel/helper-environment-visitor\" \"^7.22.20\"\n    \"@babel/helper-function-name\" \"^7.23.0\"\n    \"@babel/helper-hoist-variables\" \"^7.22.5\"\n    \"@babel/helper-split-export-declaration\" \"^7.22.6\"\n    \"@babel/parser\" \"^7.23.0\"\n    \"@babel/types\" \"^7.23.0\"\n    debug \"^4.1.0\"\n    globals \"^11.1.0\"\n\n\"@babel/types@^7.10.1\", \"@babel/types@^7.10.2\":\n  version \"7.10.2\"\n  resolved \"https://registry.yarnpkg.com/@babel/types/-/types-7.10.2.tgz#30283be31cad0dbf6fb00bd40641ca0ea675172d\"\n  integrity sha512-AD3AwWBSz0AWF0AkCN9VPiWrvldXq+/e3cHa4J89vo4ymjz1XwrBFFVZmkJTsQIPNk+ZVomPSXUJqq8yyjZsng==\n  dependencies:\n    \"@babel/helper-validator-identifier\" \"^7.10.1\"\n    lodash \"^4.17.13\"\n    to-fast-properties \"^2.0.0\"\n\n\"@babel/types@^7.22.15\", \"@babel/types@^7.22.5\", \"@babel/types@^7.23.0\":\n  version \"7.23.0\"\n  resolved \"https://registry.yarnpkg.com/@babel/types/-/types-7.23.0.tgz#8c1f020c9df0e737e4e247c0619f58c68458aaeb\"\n  integrity sha512-0oIyUfKoI3mSqMvsxBdclDwxXKXAUA8v/apZbc+iSyARYou1o8ZGDxbUYyLFoW2arqS2jDGqJuZvv1d/io1axg==\n  dependencies:\n    \"@babel/helper-string-parser\" \"^7.22.5\"\n    \"@babel/helper-validator-identifier\" \"^7.22.20\"\n    to-fast-properties \"^2.0.0\"\n\n\"@istanbuljs/schema@^0.1.2\":\n  version \"0.1.2\"\n  resolved \"https://registry.yarnpkg.com/@istanbuljs/schema/-/schema-0.1.2.tgz#26520bf09abe4a5644cd5414e37125a8954241dd\"\n  integrity sha512-tsAQNx32a8CoFhjhijUIhI4kccIAgmGhy8LZMZgGfmXcpMbPRUqn5LWmgRttILi6yeGmBJd2xsPkFMs0PzgPCw==\n\n\"@jridgewell/gen-mapping@^0.3.2\":\n  version \"0.3.3\"\n  resolved \"https://registry.yarnpkg.com/@jridgewell/gen-mapping/-/gen-mapping-0.3.3.tgz#7e02e6eb5df901aaedb08514203b096614024098\"\n  integrity sha512-HLhSWOLRi875zjjMG/r+Nv0oCW8umGb0BgEhyX3dDX3egwZtB8PqLnjz3yedt8R5StBrzcg4aBpnh8UA9D1BoQ==\n  dependencies:\n    \"@jridgewell/set-array\" \"^1.0.1\"\n    \"@jridgewell/sourcemap-codec\" \"^1.4.10\"\n    \"@jridgewell/trace-mapping\" \"^0.3.9\"\n\n\"@jridgewell/resolve-uri@^3.1.0\":\n  version \"3.1.1\"\n  resolved \"https://registry.yarnpkg.com/@jridgewell/resolve-uri/-/resolve-uri-3.1.1.tgz#c08679063f279615a3326583ba3a90d1d82cc721\"\n  integrity sha512-dSYZh7HhCDtCKm4QakX0xFpsRDqjjtZf/kjI/v3T3Nwt5r8/qz/M19F9ySyOqU94SXBmeG9ttTul+YnR4LOxFA==\n\n\"@jridgewell/set-array@^1.0.1\":\n  version \"1.1.2\"\n  resolved \"https://registry.yarnpkg.com/@jridgewell/set-array/-/set-array-1.1.2.tgz#7c6cf998d6d20b914c0a55a91ae928ff25965e72\"\n  integrity sha512-xnkseuNADM0gt2bs+BvhO0p78Mk762YnZdsuzFV018NoG1Sj1SCQvpSqa7XUaTam5vAGasABV9qXASMKnFMwMw==\n\n\"@jridgewell/sourcemap-codec@^1.4.10\", \"@jridgewell/sourcemap-codec@^1.4.14\":\n  version \"1.4.15\"\n  resolved \"https://registry.yarnpkg.com/@jridgewell/sourcemap-codec/-/sourcemap-codec-1.4.15.tgz#d7c6e6755c78567a951e04ab52ef0fd26de59f32\"\n  integrity sha512-eF2rxCRulEKXHTRiDrDy6erMYWqNw4LPdQ8UQA4huuxaQsVeRPFl2oM8oDGxMFhJUWZf9McpLtJasDDZb/Bpeg==\n\n\"@jridgewell/trace-mapping@^0.3.17\", \"@jridgewell/trace-mapping@^0.3.9\":\n  version \"0.3.19\"\n  resolved \"https://registry.yarnpkg.com/@jridgewell/trace-mapping/-/trace-mapping-0.3.19.tgz#f8a3249862f91be48d3127c3cfe992f79b4b8811\"\n  integrity sha512-kf37QtfW+Hwx/buWGMPcR60iF9ziHa6r/CZJIHbmcm4+0qrXiVdxegAH0F6yddEVQ7zdkjcGCgCzUu+BcbhQxw==\n  dependencies:\n    \"@jridgewell/resolve-uri\" \"^3.1.0\"\n    \"@jridgewell/sourcemap-codec\" \"^1.4.14\"\n\n\"@rollup/pluginutils@^3.0.8\":\n  version \"3.1.0\"\n  resolved \"https://registry.yarnpkg.com/@rollup/pluginutils/-/pluginutils-3.1.0.tgz#706b4524ee6dc8b103b3c995533e5ad680c02b9b\"\n  integrity sha512-GksZ6pr6TpIjHm8h9lSQ8pi8BE9VeubNT0OMJ3B5uZJ8pz73NPiqOtCog/x2/QzM1ENChPKxMDhiQuRHsqc+lg==\n  dependencies:\n    \"@types/estree\" \"0.0.39\"\n    estree-walker \"^1.0.1\"\n    picomatch \"^2.2.2\"\n\n\"@sindresorhus/is@^0.14.0\":\n  version \"0.14.0\"\n  resolved \"https://registry.yarnpkg.com/@sindresorhus/is/-/is-0.14.0.tgz#9fb3a3cf3132328151f353de4632e01e52102bea\"\n  integrity sha512-9NET910DNaIPngYnLLPeg+Ogzqsi9uM4mSboU5y6p8S5DzMTVEsJZrawi+BoDNUVBa2DhJqQYUFvMDfgU062LQ==\n\n\"@socket.io/component-emitter@~3.1.0\":\n  version \"3.1.2\"\n  resolved \"https://registry.yarnpkg.com/@socket.io/component-emitter/-/component-emitter-3.1.2.tgz#821f8442f4175d8f0467b9daf26e3a18e2d02af2\"\n  integrity sha512-9BCxFwvbGg/RsZK9tjXd8s4UcwR0MWeFQ1XEKIQVVvAGJyINdrqKMcTRyLoK8Rse1GjzLV9cwjWV1olXRWEXVA==\n\n\"@szmarczak/http-timer@^1.1.2\":\n  version \"1.1.2\"\n  resolved \"https://registry.yarnpkg.com/@szmarczak/http-timer/-/http-timer-1.1.2.tgz#b1665e2c461a2cd92f4c1bbf50d5454de0d4b421\"\n  integrity sha512-XIB2XbzHTN6ieIjfIMV9hlVcfPU26s2vafYWQcZHWXHOxiaRZYEDKEwdl129Zyg50+foYV2jCgtrqSA6qNuNSA==\n  dependencies:\n    defer-to-connect \"^1.0.1\"\n\n\"@tootallnate/once@1\":\n  version \"1.1.2\"\n  resolved \"https://registry.yarnpkg.com/@tootallnate/once/-/once-1.1.2.tgz#ccb91445360179a04e7fe6aff78c00ffc1eeaf82\"\n  integrity sha512-RbzJvlNzmRq5c3O09UipeuXno4tA1FE6ikOjxZK0tuxVv3412l64l5t1W5pj4+rJq9vpkm/kwiR07aZXnsKPxw==\n\n\"@types/color-name@^1.1.1\":\n  version \"1.1.1\"\n  resolved \"https://registry.yarnpkg.com/@types/color-name/-/color-name-1.1.1.tgz#1c1261bbeaa10a8055bbc5d8ab84b7b2afc846a0\"\n  integrity sha512-rr+OQyAjxze7GgWrSaJwydHStIhHq2lvY3BOC2Mj7KnzI7XK0Uw1TOOdI9lDoajEbSWLiYgoo4f1R51erQfhPQ==\n\n\"@types/cookie@^0.4.1\":\n  version \"0.4.1\"\n  resolved \"https://registry.yarnpkg.com/@types/cookie/-/cookie-0.4.1.tgz#bfd02c1f2224567676c1545199f87c3a861d878d\"\n  integrity sha512-XW/Aa8APYr6jSVVA1y/DEIZX0/GMKLEVekNG727R8cs56ahETkRAy/3DR7+fJyh7oUgGwNQaRfXCun0+KbWY7Q==\n\n\"@types/cors@^2.8.12\":\n  version \"2.8.12\"\n  resolved \"https://registry.yarnpkg.com/@types/cors/-/cors-2.8.12.tgz#6b2c510a7ad7039e98e7b8d3d6598f4359e5c080\"\n  integrity sha512-vt+kDhq/M2ayberEtJcIN/hxXy1Pk+59g2FV/ZQceeaTyCtCucjL2Q7FXlFjtWn4n15KCr1NE2lNNFhp0lEThw==\n\n\"@types/d3-array@*\":\n  version \"2.0.0\"\n  resolved \"https://registry.yarnpkg.com/@types/d3-array/-/d3-array-2.0.0.tgz#a0d63a296a2d8435a9ec59393dcac746c6174a96\"\n  integrity sha512-rGqfPVowNDTszSFvwoZIXvrPG7s/qKzm9piCRIH6xwTTRu7pPZ3ootULFnPkTt74B6i5lN0FpLQL24qGOw1uZA==\n\n\"@types/d3-array@^1\":\n  version \"1.2.7\"\n  resolved \"https://registry.yarnpkg.com/@types/d3-array/-/d3-array-1.2.7.tgz#34dc654d34fc058c41c31dbca1ed68071a8fcc17\"\n  integrity sha512-51vHWuUyDOi+8XuwPrTw3cFqyh2Slg9y8COYkRfjCPG9TfYqY0hoNPzv/8BrcAy0FeQBzqEo/D/8Nk2caOQJnA==\n\n\"@types/d3-axis@*\":\n  version \"1.0.12\"\n  resolved \"https://registry.yarnpkg.com/@types/d3-axis/-/d3-axis-1.0.12.tgz#8c124edfcc02f3b3a9cdaa2a28b8a20341401799\"\n  integrity sha512-BZISgSD5M8TgURyNtcPAmUB9sk490CO1Thb6/gIn0WZTt3Y50IssX+2Z0vTccoqZksUDTep0b+o4ofXslvNbqg==\n  dependencies:\n    \"@types/d3-selection\" \"*\"\n\n\"@types/d3-brush@*\":\n  version \"1.1.1\"\n  resolved \"https://registry.yarnpkg.com/@types/d3-brush/-/d3-brush-1.1.1.tgz#906875ce42db22fc9cde6d1fb2808f17ecd2ea93\"\n  integrity sha512-Exx14trm/q2cskHyMjCrdDllOQ35r1/pmZXaOIt8bBHwYNk722vWY3VxHvN0jdFFX7p2iL3+gD+cGny/aEmhlw==\n  dependencies:\n    \"@types/d3-selection\" \"*\"\n\n\"@types/d3-chord@*\":\n  version \"1.0.9\"\n  resolved \"https://registry.yarnpkg.com/@types/d3-chord/-/d3-chord-1.0.9.tgz#ccc5de03ff079025491b7aa6b750670a140b45ae\"\n  integrity sha512-UA6lI9CVW5cT5Ku/RV4hxoFn4mKySHm7HEgodtfRthAj1lt9rKZEPon58vyYfk+HIAm33DtJJgZwMXy2QgyPXw==\n\n\"@types/d3-collection@*\":\n  version \"1.0.8\"\n  resolved \"https://registry.yarnpkg.com/@types/d3-collection/-/d3-collection-1.0.8.tgz#aa9552c570a96e33c132e0fd20e331f64baa9dd5\"\n  integrity sha512-y5lGlazdc0HNO0F3UUX2DPE7OmYvd9Kcym4hXwrJcNUkDaypR5pX+apuMikl9LfTxKItJsY9KYvzBulpCKyvuQ==\n\n\"@types/d3-color@*\":\n  version \"1.2.2\"\n  resolved \"https://registry.yarnpkg.com/@types/d3-color/-/d3-color-1.2.2.tgz#80cf7cfff7401587b8f89307ba36fe4a576bc7cf\"\n  integrity sha512-6pBxzJ8ZP3dYEQ4YjQ+NVbQaOflfgXq/JbDiS99oLobM2o72uAST4q6yPxHv6FOTCRC/n35ktuo8pvw/S4M7sw==\n\n\"@types/d3-contour@*\":\n  version \"1.3.0\"\n  resolved \"https://registry.yarnpkg.com/@types/d3-contour/-/d3-contour-1.3.0.tgz#1a408b121fa5e341f715e3055303ef3079fc7eb0\"\n  integrity sha512-AUCUIjEnC5lCGBM9hS+MryRaFLIrPls4Rbv6ktqbd+TK/RXZPwOy9rtBWmGpbeXcSOYCJTUDwNJuEnmYPJRxHQ==\n  dependencies:\n    \"@types/d3-array\" \"*\"\n    \"@types/geojson\" \"*\"\n\n\"@types/d3-dispatch@*\":\n  version \"1.0.7\"\n  resolved \"https://registry.yarnpkg.com/@types/d3-dispatch/-/d3-dispatch-1.0.7.tgz#6721aefbb9862ce78c20a87a1490c21f57c3ed7f\"\n  integrity sha512-M+z84G7UKwK6hEPnGCSccOg8zJ3Nk2hgDQ9sCstHXgsFU0sMxlIZVKqKB5oxUDbALqQG6ucg0G9e8cmOSlishg==\n\n\"@types/d3-drag@*\":\n  version \"1.2.3\"\n  resolved \"https://registry.yarnpkg.com/@types/d3-drag/-/d3-drag-1.2.3.tgz#d8ddccca28e939e9c689bea6f40a937e48c39051\"\n  integrity sha512-rWB5SPvkYVxW3sqUxHOJUZwifD0KqvKwvt1bhNqcLpW6Azsd0BJgRNcyVW8GAferaAk5r8dzeZnf9zKlg9+xMQ==\n  dependencies:\n    \"@types/d3-selection\" \"*\"\n\n\"@types/d3-dsv@*\":\n  version \"1.0.36\"\n  resolved \"https://registry.yarnpkg.com/@types/d3-dsv/-/d3-dsv-1.0.36.tgz#e91129d7c02b1b814838d001e921e8b9a67153d0\"\n  integrity sha512-jbIWQ27QJcBNMZbQv0NSQMHnBDCmxghAxePxgyiPH1XPCRkOsTBei7jcdi3fDrUCGpCV3lKrSZFSlOkhUQVClA==\n\n\"@types/d3-ease@*\":\n  version \"1.0.9\"\n  resolved \"https://registry.yarnpkg.com/@types/d3-ease/-/d3-ease-1.0.9.tgz#1dd849bd7edef6426e915e220ed9970db5ea4e04\"\n  integrity sha512-U5ADevQ+W6fy32FVZZC9EXallcV/Mi12A5Tkd0My5MrC7T8soMQEhlDAg88XUWm0zoCQlB4XV0en/24LvuDB4Q==\n\n\"@types/d3-fetch@*\":\n  version \"1.1.5\"\n  resolved \"https://registry.yarnpkg.com/@types/d3-fetch/-/d3-fetch-1.1.5.tgz#51601f79dd4653b5d84e6a3176d78145e065db5e\"\n  integrity sha512-o9c0ItT5/Gl3wbNuVpzRnYX1t3RghzeWAjHUVLuyZJudiTxC4f/fC0ZPFWLQ2lVY8pAMmxpV8TJ6ETYCgPeI3A==\n  dependencies:\n    \"@types/d3-dsv\" \"*\"\n\n\"@types/d3-force@*\":\n  version \"1.2.1\"\n  resolved \"https://registry.yarnpkg.com/@types/d3-force/-/d3-force-1.2.1.tgz#c28803ea36fe29788db69efa0ad6c2dc09544e83\"\n  integrity sha512-jqK+I36uz4kTBjyk39meed5y31Ab+tXYN/x1dn3nZEus9yOHCLc+VrcIYLc/aSQ0Y7tMPRlIhLetulME76EiiA==\n\n\"@types/d3-format@*\":\n  version \"1.3.1\"\n  resolved \"https://registry.yarnpkg.com/@types/d3-format/-/d3-format-1.3.1.tgz#35bf88264bd6bcda39251165bb827f67879c4384\"\n  integrity sha512-KAWvReOKMDreaAwOjdfQMm0HjcUMlQG47GwqdVKgmm20vTd2pucj0a70c3gUSHrnsmo6H2AMrkBsZU2UhJLq8A==\n\n\"@types/d3-geo@*\":\n  version \"1.11.1\"\n  resolved \"https://registry.yarnpkg.com/@types/d3-geo/-/d3-geo-1.11.1.tgz#e96ec91f16221d87507fec66b2cc889f52d2493e\"\n  integrity sha512-Ox8WWOG3igDRoep/dNsGbOiSJYdUG3ew/6z0ETvHyAtXZVBjOE0S96zSSmzgl0gqQ3RdZjn2eeJOj9oRcMZPkQ==\n  dependencies:\n    \"@types/geojson\" \"*\"\n\n\"@types/d3-hierarchy@*\":\n  version \"1.1.6\"\n  resolved \"https://registry.yarnpkg.com/@types/d3-hierarchy/-/d3-hierarchy-1.1.6.tgz#4c017521900813ea524c9ecb8d7985ec26a9ad9a\"\n  integrity sha512-vvSaIDf/Ov0o3KwMT+1M8+WbnnlRiGjlGD5uvk83a1mPCTd/E5x12bUJ/oP55+wUY/4Kb5kc67rVpVGJ2KUHxg==\n\n\"@types/d3-interpolate@*\":\n  version \"1.3.1\"\n  resolved \"https://registry.yarnpkg.com/@types/d3-interpolate/-/d3-interpolate-1.3.1.tgz#1c280511f622de9b0b47d463fa55f9a4fd6f5fc8\"\n  integrity sha512-z8Zmi08XVwe8e62vP6wcA+CNuRhpuUU5XPEfqpG0hRypDE5BWNthQHB1UNWWDB7ojCbGaN4qBdsWp5kWxhT1IQ==\n  dependencies:\n    \"@types/d3-color\" \"*\"\n\n\"@types/d3-path@*\":\n  version \"1.0.8\"\n  resolved \"https://registry.yarnpkg.com/@types/d3-path/-/d3-path-1.0.8.tgz#48e6945a8ff43ee0a1ce85c8cfa2337de85c7c79\"\n  integrity sha512-AZGHWslq/oApTAHu9+yH/Bnk63y9oFOMROtqPAtxl5uB6qm1x2lueWdVEjsjjV3Qc2+QfuzKIwIR5MvVBakfzA==\n\n\"@types/d3-polygon@*\":\n  version \"1.0.7\"\n  resolved \"https://registry.yarnpkg.com/@types/d3-polygon/-/d3-polygon-1.0.7.tgz#7b3947aa2d48287ff535230d3d396668ab17bfdf\"\n  integrity sha512-Xuw0eSjQQKs8jTiNbntWH0S+Xp+JyhqxmQ0YAQ3rDu6c3kKMFfgsaGN7Jv5u3zG6yVX/AsLP/Xs/QRjmi9g43Q==\n\n\"@types/d3-quadtree@*\":\n  version \"1.0.7\"\n  resolved \"https://registry.yarnpkg.com/@types/d3-quadtree/-/d3-quadtree-1.0.7.tgz#8e29464ff5b326f6612c1428d9362b4b35de2b70\"\n  integrity sha512-0ajFawWicfjsaCLh6NzxOyVDYhQAmMFbsiI3MPGLInorauHFEh9/Cl6UHNf+kt/J1jfoxKY/ZJaKAoDpbvde5Q==\n\n\"@types/d3-random@*\":\n  version \"1.1.2\"\n  resolved \"https://registry.yarnpkg.com/@types/d3-random/-/d3-random-1.1.2.tgz#6f77e8b7bb64ac393f92d33fe8f71038bc4f3cde\"\n  integrity sha512-Jui+Zn28pQw/3EayPKaN4c/PqTvqNbIPjHkgIIFnxne1FdwNjfHtAIsZIBMKlquQNrrMjFzCrlF2gPs3xckqaA==\n\n\"@types/d3-scale-chromatic@*\":\n  version \"1.5.0\"\n  resolved \"https://registry.yarnpkg.com/@types/d3-scale-chromatic/-/d3-scale-chromatic-1.5.0.tgz#315367557d51b823bec848614fac095325613fc3\"\n  integrity sha512-9/D7cOBKdZdTCPc6re0HeSUFBM0aFzdNdmYggUWT9SRRiYSOa6Ys2xdTwHKgc1WS3gGfwTMatBOdWCS863REsg==\n\n\"@types/d3-scale@*\":\n  version \"2.2.0\"\n  resolved \"https://registry.yarnpkg.com/@types/d3-scale/-/d3-scale-2.2.0.tgz#e5987a2857365823eb26ed5eb21bc566c4dcf1c0\"\n  integrity sha512-oQFanN0/PiR2oySHfj+zAAkK1/p4LD32Nt1TMVmzk+bYHk7vgIg/iTXQWitp1cIkDw4LMdcgvO63wL+mNs47YA==\n  dependencies:\n    \"@types/d3-time\" \"*\"\n\n\"@types/d3-selection@*\":\n  version \"1.4.1\"\n  resolved \"https://registry.yarnpkg.com/@types/d3-selection/-/d3-selection-1.4.1.tgz#fa1f8710a6b5d7cfe5c6caa61d161be7cae4a022\"\n  integrity sha512-bv8IfFYo/xG6dxri9OwDnK3yCagYPeRIjTlrcdYJSx+FDWlCeBDepIHUpqROmhPtZ53jyna0aUajZRk0I3rXNA==\n\n\"@types/d3-shape@*\":\n  version \"1.3.2\"\n  resolved \"https://registry.yarnpkg.com/@types/d3-shape/-/d3-shape-1.3.2.tgz#a41d9d6b10d02e221696b240caf0b5d0f5a588ec\"\n  integrity sha512-LtD8EaNYCaBRzHzaAiIPrfcL3DdIysc81dkGlQvv7WQP3+YXV7b0JJTtR1U3bzeRieS603KF4wUo+ZkJVenh8w==\n  dependencies:\n    \"@types/d3-path\" \"*\"\n\n\"@types/d3-time-format@*\":\n  version \"2.1.1\"\n  resolved \"https://registry.yarnpkg.com/@types/d3-time-format/-/d3-time-format-2.1.1.tgz#dd2c79ec4575f1355484ab6b10407824668eba42\"\n  integrity sha512-tJSyXta8ZyJ52wDDHA96JEsvkbL6jl7wowGmuf45+fAkj5Y+SQOnz0N7/H68OWmPshPsAaWMQh+GAws44IzH3g==\n\n\"@types/d3-time@*\":\n  version \"1.0.10\"\n  resolved \"https://registry.yarnpkg.com/@types/d3-time/-/d3-time-1.0.10.tgz#d338c7feac93a98a32aac875d1100f92c7b61f4f\"\n  integrity sha512-aKf62rRQafDQmSiv1NylKhIMmznsjRN+MnXRXTqHoqm0U/UZzVpdrtRnSIfdiLS616OuC1soYeX1dBg2n1u8Xw==\n\n\"@types/d3-timer@*\":\n  version \"1.0.9\"\n  resolved \"https://registry.yarnpkg.com/@types/d3-timer/-/d3-timer-1.0.9.tgz#aed1bde0cf18920d33f5d44839d73de393633fd3\"\n  integrity sha512-WvfJ3LFxBbWjqRGz9n7GJt08RrTHPJDVsIwwoCMROlqF+iDacYiAFjf9oqnq0mXpb2juA2N/qjKP+MKdal3YNQ==\n\n\"@types/d3-transition@*\":\n  version \"1.1.6\"\n  resolved \"https://registry.yarnpkg.com/@types/d3-transition/-/d3-transition-1.1.6.tgz#7e52da29749d874866cc803fad13925713a372da\"\n  integrity sha512-/F+O2r4oz4G9ATIH3cuSCMGphAnl7VDx7SbENEK0NlI/FE8Jx2oiIrv0uTrpg7yF/AmuWbqp7AGdEHAPIh24Gg==\n  dependencies:\n    \"@types/d3-selection\" \"*\"\n\n\"@types/d3-voronoi@*\":\n  version \"1.1.9\"\n  resolved \"https://registry.yarnpkg.com/@types/d3-voronoi/-/d3-voronoi-1.1.9.tgz#7bbc210818a3a5c5e0bafb051420df206617c9e5\"\n  integrity sha512-DExNQkaHd1F3dFPvGA/Aw2NGyjMln6E9QzsiqOcBgnE+VInYnFBHBBySbZQts6z6xD+5jTfKCP7M4OqMyVjdwQ==\n\n\"@types/d3-zoom@*\":\n  version \"1.7.4\"\n  resolved \"https://registry.yarnpkg.com/@types/d3-zoom/-/d3-zoom-1.7.4.tgz#9226ffd2bd3846ec0e4a4e2bff211612d3aafad5\"\n  integrity sha512-5jnFo/itYhJeB2khO/lKe730kW/h2EbKMOvY0uNp3+7NdPm4w63DwPEMxifQZ7n902xGYK5DdU67FmToSoy4VA==\n  dependencies:\n    \"@types/d3-interpolate\" \"*\"\n    \"@types/d3-selection\" \"*\"\n\n\"@types/d3@^5.7.2\":\n  version \"5.7.2\"\n  resolved \"https://registry.yarnpkg.com/@types/d3/-/d3-5.7.2.tgz#52235eb71a1d3ca171d6dca52a58f5ccbe0254cc\"\n  integrity sha512-7/wClB8ycneWGy3jdvLfXKTd5SoTg9hji7IdJ0RuO9xTY54YpJ8zlcFADcXhY1J3kCBwxp+/1jeN6a5OMwgYOw==\n  dependencies:\n    \"@types/d3-array\" \"^1\"\n    \"@types/d3-axis\" \"*\"\n    \"@types/d3-brush\" \"*\"\n    \"@types/d3-chord\" \"*\"\n    \"@types/d3-collection\" \"*\"\n    \"@types/d3-color\" \"*\"\n    \"@types/d3-contour\" \"*\"\n    \"@types/d3-dispatch\" \"*\"\n    \"@types/d3-drag\" \"*\"\n    \"@types/d3-dsv\" \"*\"\n    \"@types/d3-ease\" \"*\"\n    \"@types/d3-fetch\" \"*\"\n    \"@types/d3-force\" \"*\"\n    \"@types/d3-format\" \"*\"\n    \"@types/d3-geo\" \"*\"\n    \"@types/d3-hierarchy\" \"*\"\n    \"@types/d3-interpolate\" \"*\"\n    \"@types/d3-path\" \"*\"\n    \"@types/d3-polygon\" \"*\"\n    \"@types/d3-quadtree\" \"*\"\n    \"@types/d3-random\" \"*\"\n    \"@types/d3-scale\" \"*\"\n    \"@types/d3-scale-chromatic\" \"*\"\n    \"@types/d3-selection\" \"*\"\n    \"@types/d3-shape\" \"*\"\n    \"@types/d3-time\" \"*\"\n    \"@types/d3-time-format\" \"*\"\n    \"@types/d3-timer\" \"*\"\n    \"@types/d3-transition\" \"*\"\n    \"@types/d3-voronoi\" \"*\"\n    \"@types/d3-zoom\" \"*\"\n\n\"@types/estree@0.0.39\":\n  version \"0.0.39\"\n  resolved \"https://registry.yarnpkg.com/@types/estree/-/estree-0.0.39.tgz#e177e699ee1b8c22d23174caaa7422644389509f\"\n  integrity sha512-EYNwp3bU+98cpU4lAWYYL7Zz+2gryWH1qbdDTidVd6hkiR6weksdbMadyXKXNPEkQFhXM+hVO9ZygomHXp+AIw==\n\n\"@types/geojson@*\":\n  version \"7946.0.7\"\n  resolved \"https://registry.yarnpkg.com/@types/geojson/-/geojson-7946.0.7.tgz#c8fa532b60a0042219cdf173ca21a975ef0666ad\"\n  integrity sha512-wE2v81i4C4Ol09RtsWFAqg3BUitWbHSpSlIo+bNdsCJijO9sjme+zm+73ZMCa/qMC8UEERxzGbvmr1cffo2SiQ==\n\n\"@types/jasmine@^3.5.10\":\n  version \"3.5.10\"\n  resolved \"https://registry.yarnpkg.com/@types/jasmine/-/jasmine-3.5.10.tgz#a1a41012012b5da9d4b205ba9eba58f6cce2ab7b\"\n  integrity sha512-3F8qpwBAiVc5+HPJeXJpbrl+XjawGmciN5LgiO7Gv1pl1RHtjoMNqZpqEksaPJW05ViKe8snYInRs6xB25Xdew==\n\n\"@types/node@>=10.0.0\":\n  version \"17.0.17\"\n  resolved \"https://registry.yarnpkg.com/@types/node/-/node-17.0.17.tgz#a8ddf6e0c2341718d74ee3dc413a13a042c45a0c\"\n  integrity sha512-e8PUNQy1HgJGV3iU/Bp2+D/DXh3PYeyli8LgIwsQcs1Ar1LoaWHSIT6Rw+H2rNJmiq6SNWiDytfx8+gYj7wDHw==\n\nJSONStream@^1.0.3:\n  version \"1.3.5\"\n  resolved \"https://registry.yarnpkg.com/JSONStream/-/JSONStream-1.3.5.tgz#3208c1f08d3a4d99261ab64f92302bc15e111ca0\"\n  integrity sha512-E+iruNOY8VV9s4JEbe1aNEm6MiszPRr/UfcHMz0TQh1BXSxHK+ASV1R6W4HpjBhSeS+54PIsAMCBmwD06LLsqQ==\n  dependencies:\n    jsonparse \"^1.2.0\"\n    through \">=2.2.7 <3\"\n\nabbrev@1:\n  version \"1.1.1\"\n  resolved \"https://registry.yarnpkg.com/abbrev/-/abbrev-1.1.1.tgz#f8f2c887ad10bf67f634f005b6987fed3179aac8\"\n  integrity sha512-nne9/IiQ/hzIhY6pdDnbBtz7DjPTKrY00P/zvPSm5pOFkl6xuGrGnXn/VtTNNfNtAfZ9/1RtehkszU9qcTii0Q==\n\naccepts@~1.3.4:\n  version \"1.3.7\"\n  resolved \"https://registry.yarnpkg.com/accepts/-/accepts-1.3.7.tgz#531bc726517a3b2b41f850021c6cc15eaab507cd\"\n  integrity sha512-Il80Qs2WjYlJIBNzNkK6KYqlVMTbZLXgHx2oT0pU/fjRHyEp+PEfEPY0R3WCwAGVOtauxh1hOxNgIf5bv7dQpA==\n  dependencies:\n    mime-types \"~2.1.24\"\n    negotiator \"0.6.2\"\n\nacorn-node@^1.2.0, acorn-node@^1.3.0, acorn-node@^1.5.2, acorn-node@^1.6.1:\n  version \"1.8.2\"\n  resolved \"https://registry.yarnpkg.com/acorn-node/-/acorn-node-1.8.2.tgz#114c95d64539e53dede23de8b9d96df7c7ae2af8\"\n  integrity sha512-8mt+fslDufLYntIoPAaIMUe/lrbrehIiwmR3t2k9LljIzoigEPF27eLk2hy8zSGzmR/ogr7zbRKINMo1u0yh5A==\n  dependencies:\n    acorn \"^7.0.0\"\n    acorn-walk \"^7.0.0\"\n    xtend \"^4.0.2\"\n\nacorn-walk@^7.0.0:\n  version \"7.1.1\"\n  resolved \"https://registry.yarnpkg.com/acorn-walk/-/acorn-walk-7.1.1.tgz#345f0dffad5c735e7373d2fec9a1023e6a44b83e\"\n  integrity sha512-wdlPY2tm/9XBr7QkKlq0WQVgiuGTX6YWPyRyBviSoScBuLfTVQhvwg6wJ369GJ/1nPfTLMfnrFIfjqVg6d+jQQ==\n\nacorn@^7.0.0, acorn@^7.1.0:\n  version \"7.3.1\"\n  resolved \"https://registry.yarnpkg.com/acorn/-/acorn-7.3.1.tgz#85010754db53c3fbaf3b9ea3e083aa5c5d147ffd\"\n  integrity sha512-tLc0wSnatxAQHVHUapaHdz72pi9KUyHjq5KyHjGg9Y8Ifdc79pTh2XvI6I1/chZbnM7QtNKzh66ooDogPZSleA==\n\naction-selector@^1.0.1:\n  version \"1.0.1\"\n  resolved \"https://registry.yarnpkg.com/action-selector/-/action-selector-1.0.1.tgz#5ef40ded3321fd1df92e1536db3d2f2ad0ddc6e1\"\n  integrity sha1-XvQN7TMh/R35LhU22z0vKtDdxuE=\n\nagent-base@5:\n  version \"5.1.1\"\n  resolved \"https://registry.yarnpkg.com/agent-base/-/agent-base-5.1.1.tgz#e8fb3f242959db44d63be665db7a8e739537a32c\"\n  integrity sha512-TMeqbNl2fMW0nMjTEPOwe3J/PRFP4vqeoNuQMG0HlMrtm5QxKqdvAkZ1pRBQ/ulIyDD5Yq0nJ7YbdD8ey0TO3g==\n\nagent-base@6:\n  version \"6.0.0\"\n  resolved \"https://registry.yarnpkg.com/agent-base/-/agent-base-6.0.0.tgz#5d0101f19bbfaed39980b22ae866de153b93f09a\"\n  integrity sha512-j1Q7cSCqN+AwrmDd+pzgqc0/NpC655x2bUf5ZjRIO77DcNBFmh+OgRNzF6OKdCC9RSCb19fGd99+bhXFdkRNqw==\n  dependencies:\n    debug \"4\"\n\nansi-align@^3.0.0:\n  version \"3.0.0\"\n  resolved \"https://registry.yarnpkg.com/ansi-align/-/ansi-align-3.0.0.tgz#b536b371cf687caaef236c18d3e21fe3797467cb\"\n  integrity sha512-ZpClVKqXN3RGBmKibdfWzqCY4lnjEuoNzU5T0oEFpfd/z5qJHVarukridD4juLO2FXMiwUQxr9WqQtaYa8XRYw==\n  dependencies:\n    string-width \"^3.0.0\"\n\nansi-regex@^2.0.0:\n  version \"2.1.1\"\n  resolved \"https://registry.yarnpkg.com/ansi-regex/-/ansi-regex-2.1.1.tgz#c3b33ab5ee360d86e0e628f0468ae7ef27d654df\"\n  integrity sha1-w7M6te42DYbg5ijwRorn7yfWVN8=\n\nansi-regex@^4.1.0:\n  version \"4.1.0\"\n  resolved \"https://registry.yarnpkg.com/ansi-regex/-/ansi-regex-4.1.0.tgz#8b9f8f08cf1acb843756a839ca8c7e3168c51997\"\n  integrity sha512-1apePfXM1UOSqw0o9IiFAovVz9M5S1Dg+4TrDwfMewQ6p/rmMueb7tWZjQ1rx4Loy1ArBggoqGpfqqdI4rondg==\n\nansi-regex@^5.0.0:\n  version \"5.0.0\"\n  resolved \"https://registry.yarnpkg.com/ansi-regex/-/ansi-regex-5.0.0.tgz#388539f55179bf39339c81af30a654d69f87cb75\"\n  integrity sha512-bY6fj56OUQ0hU1KjFNDQuJFezqKdrAyFdIevADiqrWHwSlbmBNMHp5ak2f40Pm8JTFyM2mqxkG6ngkHO11f/lg==\n\nansi-regex@^5.0.1:\n  version \"5.0.1\"\n  resolved \"https://registry.yarnpkg.com/ansi-regex/-/ansi-regex-5.0.1.tgz#082cb2c89c9fe8659a311a53bd6a4dc5301db304\"\n  integrity sha512-quJQXlTSUGL2LH9SUXo8VwsY4soanhgo6LNSm84E1LBcE8s3O0wpdiRzyR9z/ZZJMlMWv37qOOb9pdJlMUEKFQ==\n\nansi-styles@^2.2.1:\n  version \"2.2.1\"\n  resolved \"https://registry.yarnpkg.com/ansi-styles/-/ansi-styles-2.2.1.tgz#b432dd3358b634cf75e1e4664368240533c1ddbe\"\n  integrity sha1-tDLdM1i2NM914eRmQ2gkBTPB3b4=\n\nansi-styles@^3.2.1:\n  version \"3.2.1\"\n  resolved \"https://registry.yarnpkg.com/ansi-styles/-/ansi-styles-3.2.1.tgz#41fbb20243e50b12be0f04b8dedbf07520ce841d\"\n  integrity sha512-VT0ZI6kZRdTh8YyJw3SMbYm/u+NqfsAxEpWO0Pf9sq8/e94WxxOpPKx9FR1FlyCtOVDNOQ+8ntlqFxiRc+r5qA==\n  dependencies:\n    color-convert \"^1.9.0\"\n\nansi-styles@^4.0.0:\n  version \"4.3.0\"\n  resolved \"https://registry.yarnpkg.com/ansi-styles/-/ansi-styles-4.3.0.tgz#edd803628ae71c04c85ae7a0906edad34b648937\"\n  integrity sha512-zbB9rCJAT1rbjiVDb2hqKFHNYLxgtk8NURxZ3IZwD3F6NtxbXZQCnnSi1Lkx+IDohdPlFp222wVALIheZJQSEg==\n  dependencies:\n    color-convert \"^2.0.1\"\n\nansi-styles@^4.1.0:\n  version \"4.2.1\"\n  resolved \"https://registry.yarnpkg.com/ansi-styles/-/ansi-styles-4.2.1.tgz#90ae75c424d008d2624c5bf29ead3177ebfcf359\"\n  integrity sha512-9VGjrMsG1vePxcSweQsN20KY/c4zN0h9fLjqAbwbPfahM3t+NL+M9HC8xeXG2I8pX5NoamTGNuomEUFI7fcUjA==\n  dependencies:\n    \"@types/color-name\" \"^1.1.1\"\n    color-convert \"^2.0.1\"\n\nanymatch@^2.0.0:\n  version \"2.0.0\"\n  resolved \"https://registry.yarnpkg.com/anymatch/-/anymatch-2.0.0.tgz#bcb24b4f37934d9aa7ac17b4adaf89e7c76ef2eb\"\n  integrity sha512-5teOsQWABXHHBFP9y3skS5P3d/WfWXpv3FUpy+LorMrNYaT9pI4oLMQX7jzQ2KklNpGpWHzdCXTDT2Y3XGlZBw==\n  dependencies:\n    micromatch \"^3.1.4\"\n    normalize-path \"^2.1.1\"\n\nanymatch@~3.1.2:\n  version \"3.1.2\"\n  resolved \"https://registry.yarnpkg.com/anymatch/-/anymatch-3.1.2.tgz#c0557c096af32f106198f4f4e2a383537e378716\"\n  integrity sha512-P43ePfOAIupkguHUycrc4qJ9kz8ZiuOUijaETwX7THt0Y/GNK7v0aa8rY816xWjZ7rJdA5XdMcpVFTKMq+RvWg==\n  dependencies:\n    normalize-path \"^3.0.0\"\n    picomatch \"^2.0.4\"\n\nargparse@^1.0.7:\n  version \"1.0.10\"\n  resolved \"https://registry.yarnpkg.com/argparse/-/argparse-1.0.10.tgz#bcd6791ea5ae09725e17e5ad988134cd40b3d911\"\n  integrity sha512-o5Roy6tNG4SL/FOkCAN6RzjiakZS25RLYFrcMttJqbdd8BWrnA+fGz57iN5Pb06pvBGvl5gQ0B48dJlslXvoTg==\n  dependencies:\n    sprintf-js \"~1.0.2\"\n\nargv@0.0.2:\n  version \"0.0.2\"\n  resolved \"https://registry.yarnpkg.com/argv/-/argv-0.0.2.tgz#ecbd16f8949b157183711b1bda334f37840185ab\"\n  integrity sha1-7L0W+JSbFXGDcRsb2jNPN4QBhas=\n\narr-diff@^4.0.0:\n  version \"4.0.0\"\n  resolved \"https://registry.yarnpkg.com/arr-diff/-/arr-diff-4.0.0.tgz#d6461074febfec71e7e15235761a329a5dc7c520\"\n  integrity sha1-1kYQdP6/7HHn4VI1dhoyml3HxSA=\n\narr-flatten@^1.1.0:\n  version \"1.1.0\"\n  resolved \"https://registry.yarnpkg.com/arr-flatten/-/arr-flatten-1.1.0.tgz#36048bbff4e7b47e136644316c99669ea5ae91f1\"\n  integrity sha512-L3hKV5R/p5o81R7O02IGnwpDmkp6E982XhtbuwSe3O4qOtMMMtodicASA1Cny2U+aCXcNpml+m4dPsvsJ3jatg==\n\narr-union@^3.1.0:\n  version \"3.1.0\"\n  resolved \"https://registry.yarnpkg.com/arr-union/-/arr-union-3.1.0.tgz#e39b09aea9def866a8f206e288af63919bae39c4\"\n  integrity sha1-45sJrqne+Gao8gbiiK9jkZuuOcQ=\n\narray-filter@^1.0.0:\n  version \"1.0.0\"\n  resolved \"https://registry.yarnpkg.com/array-filter/-/array-filter-1.0.0.tgz#baf79e62e6ef4c2a4c0b831232daffec251f9d83\"\n  integrity sha1-uveeYubvTCpMC4MSMtr/7CUfnYM=\n\narray-union@^1.0.1:\n  version \"1.0.2\"\n  resolved \"https://registry.yarnpkg.com/array-union/-/array-union-1.0.2.tgz#9a34410e4f4e3da23dea375be5be70f24778ec39\"\n  integrity sha1-mjRBDk9OPaI96jdb5b5w8kd47Dk=\n  dependencies:\n    array-uniq \"^1.0.1\"\n\narray-uniq@^1.0.1:\n  version \"1.0.3\"\n  resolved \"https://registry.yarnpkg.com/array-uniq/-/array-uniq-1.0.3.tgz#af6ac877a25cc7f74e058894753858dfdb24fdb6\"\n  integrity sha1-r2rId6Jcx/dOBYiUdThY39sk/bY=\n\narray-unique@^0.3.2:\n  version \"0.3.2\"\n  resolved \"https://registry.yarnpkg.com/array-unique/-/array-unique-0.3.2.tgz#a894b75d4bc4f6cd679ef3244a9fd8f46ae2d428\"\n  integrity sha1-qJS3XUvE9s1nnvMkSp/Y9Gri1Cg=\n\nasn1.js@^4.0.0:\n  version \"4.10.1\"\n  resolved \"https://registry.yarnpkg.com/asn1.js/-/asn1.js-4.10.1.tgz#b9c2bf5805f1e64aadeed6df3a2bfafb5a73f5a0\"\n  integrity sha512-p32cOF5q0Zqs9uBiONKYLm6BClCoBCM5O9JfeUSlnQLBTxYdTK+pW+nXflm8UkKd2UYlEbYz5qEi0JuZR9ckSw==\n  dependencies:\n    bn.js \"^4.0.0\"\n    inherits \"^2.0.1\"\n    minimalistic-assert \"^1.0.0\"\n\nasn1.js@^5.2.0:\n  version \"5.4.1\"\n  resolved \"https://registry.yarnpkg.com/asn1.js/-/asn1.js-5.4.1.tgz#11a980b84ebb91781ce35b0fdc2ee294e3783f07\"\n  integrity sha512-+I//4cYPccV8LdmBLiX8CYvf9Sp3vQsrqu2QNXRcrbiWvcx/UdlFiqUJJzxRQxgsZmvhXhn4cSKeSmoFjVdupA==\n  dependencies:\n    bn.js \"^4.0.0\"\n    inherits \"^2.0.1\"\n    minimalistic-assert \"^1.0.0\"\n    safer-buffer \"^2.1.0\"\n\nassert@^1.4.0:\n  version \"1.5.0\"\n  resolved \"https://registry.yarnpkg.com/assert/-/assert-1.5.0.tgz#55c109aaf6e0aefdb3dc4b71240c70bf574b18eb\"\n  integrity sha512-EDsgawzwoun2CZkCgtxJbv392v4nbk9XDD06zI+kQYoBM/3RBWLlEyJARDOmhAAosBjWACEkKL6S+lIZtcAubA==\n  dependencies:\n    object-assign \"^4.1.1\"\n    util \"0.10.3\"\n\nassert@^2.0.0:\n  version \"2.0.0\"\n  resolved \"https://registry.yarnpkg.com/assert/-/assert-2.0.0.tgz#95fc1c616d48713510680f2eaf2d10dd22e02d32\"\n  integrity sha512-se5Cd+js9dXJnu6Ag2JFc00t+HmHOen+8Q+L7O9zI0PqQXr20uk2J0XQqMxZEeo5U50o8Nvmmx7dZrl+Ufr35A==\n  dependencies:\n    es6-object-assign \"^1.1.0\"\n    is-nan \"^1.2.1\"\n    object-is \"^1.0.1\"\n    util \"^0.12.0\"\n\nassign-symbols@^1.0.0:\n  version \"1.0.0\"\n  resolved \"https://registry.yarnpkg.com/assign-symbols/-/assign-symbols-1.0.0.tgz#59667f41fadd4f20ccbc2bb96b8d4f7f78ec0367\"\n  integrity sha1-WWZ/QfrdTyDMvCu5a41Pf3jsA2c=\n\nasync-each@^1.0.1:\n  version \"1.0.3\"\n  resolved \"https://registry.yarnpkg.com/async-each/-/async-each-1.0.3.tgz#b727dbf87d7651602f06f4d4ac387f47d91b0cbf\"\n  integrity sha512-z/WhQ5FPySLdvREByI2vZiTWwCnF0moMJ1hK9YQwDTHKh6I7/uSckMetoRGb5UBZPC1z0jlw+n/XCgjeH7y1AQ==\n\nasync@^3.0.1, async@^3.2.4:\n  version \"3.2.5\"\n  resolved \"https://registry.yarnpkg.com/async/-/async-3.2.5.tgz#ebd52a8fdaf7a2289a24df399f8d8485c8a46b66\"\n  integrity sha512-baNZyqaaLhyLVKm/DlvdW051MSgO6b8eVfIezl9E5PqWxFgzLm/wQntEW4zOytVburDEr0JlALEpdOFwvErLsg==\n\natob@^2.1.2:\n  version \"2.1.2\"\n  resolved \"https://registry.yarnpkg.com/atob/-/atob-2.1.2.tgz#6d9517eb9e030d2436666651e86bd9f6f13533c9\"\n  integrity sha512-Wm6ukoaOGJi/73p/cl2GvLjTI5JM1k/O14isD73YML8StrH/7/lRFgmg8nICZgD3bZZvjwCGxtMOD3wWNAu8cg==\n\navailable-typed-arrays@^1.0.0, available-typed-arrays@^1.0.2:\n  version \"1.0.2\"\n  resolved \"https://registry.yarnpkg.com/available-typed-arrays/-/available-typed-arrays-1.0.2.tgz#6b098ca9d8039079ee3f77f7b783c4480ba513f5\"\n  integrity sha512-XWX3OX8Onv97LMk/ftVyBibpGwY5a8SmuxZPzeOxqmuEqUCOM9ZE+uIaD1VNJ5QnvU2UQusvmKbuM1FR8QWGfQ==\n  dependencies:\n    array-filter \"^1.0.0\"\n\nbalanced-match@^1.0.0:\n  version \"1.0.2\"\n  resolved \"https://registry.yarnpkg.com/balanced-match/-/balanced-match-1.0.2.tgz#e83e3a7e3f300b34cb9d87f615fa0cbf357690ee\"\n  integrity sha512-3oSeUO0TMV67hN1AmbXsK4yaqU7tjiHlbxRDZOpH0KW9+CeX4bRAaX0Anxt0tx2MrpRpWwQaPwIlISEJhYU5Pw==\n\nbase64-js@^1.0.2:\n  version \"1.3.1\"\n  resolved \"https://registry.yarnpkg.com/base64-js/-/base64-js-1.3.1.tgz#58ece8cb75dd07e71ed08c736abc5fac4dbf8df1\"\n  integrity sha512-mLQ4i2QO1ytvGWFWmcngKO//JXAQueZvwEKtjgQFM4jIK0kU+ytMfplL8j+n5mspOfjHwoAg+9yhb7BwAHm36g==\n\nbase64id@2.0.0, base64id@~2.0.0:\n  version \"2.0.0\"\n  resolved \"https://registry.yarnpkg.com/base64id/-/base64id-2.0.0.tgz#2770ac6bc47d312af97a8bf9a634342e0cd25cb6\"\n  integrity sha512-lGe34o6EHj9y3Kts9R4ZYs/Gr+6N7MCaMlIFA3F1R2O5/m7K06AxfSeO5530PEERE6/WyEg3lsuyw4GHlPZHog==\n\nbase@^0.11.1:\n  version \"0.11.2\"\n  resolved \"https://registry.yarnpkg.com/base/-/base-0.11.2.tgz#7bde5ced145b6d551a90db87f83c558b4eb48a8f\"\n  integrity sha512-5T6P4xPgpp0YDFvSWwEZ4NoE3aM4QBQXDzmVbraCkFj8zHM+mba8SyqB5DbZWyR7mYHo6Y7BdQo3MoA4m0TeQg==\n  dependencies:\n    cache-base \"^1.0.1\"\n    class-utils \"^0.3.5\"\n    component-emitter \"^1.2.1\"\n    define-property \"^1.0.0\"\n    isobject \"^3.0.1\"\n    mixin-deep \"^1.2.0\"\n    pascalcase \"^0.1.1\"\n\nbeeper@^1.1.0:\n  version \"1.1.1\"\n  resolved \"https://registry.yarnpkg.com/beeper/-/beeper-1.1.1.tgz#e6d5ea8c5dad001304a70b22638447f69cb2f809\"\n  integrity sha1-5tXqjF2tABMEpwsiY4RH9pyy+Ak=\n\nbinary-extensions@^1.0.0:\n  version \"1.13.1\"\n  resolved \"https://registry.yarnpkg.com/binary-extensions/-/binary-extensions-1.13.1.tgz#598afe54755b2868a5330d2aff9d4ebb53209b65\"\n  integrity sha512-Un7MIEDdUC5gNpcGDV97op1Ywk748MpHcFTHoYs6qnj1Z3j7I53VG3nwZhKzoBZmbdRNnb6WRdFlwl7tSDuZGw==\n\nbinary-extensions@^2.0.0:\n  version \"2.0.0\"\n  resolved \"https://registry.yarnpkg.com/binary-extensions/-/binary-extensions-2.0.0.tgz#23c0df14f6a88077f5f986c0d167ec03c3d5537c\"\n  integrity sha512-Phlt0plgpIIBOGTT/ehfFnbNlfsDEiqmzE2KRXoX1bLIlir4X/MR+zSyBEkL05ffWgnRSf/DXv+WrUAVr93/ow==\n\nbindings@^1.5.0:\n  version \"1.5.0\"\n  resolved \"https://registry.yarnpkg.com/bindings/-/bindings-1.5.0.tgz#10353c9e945334bc0511a6d90b38fbc7c9c504df\"\n  integrity sha512-p2q/t/mhvuOj/UeLlV6566GD/guowlr0hHxClI0W9m7MWYkL1F0hLo+0Aexs9HSPCtR1SXQ0TD3MMKrXZajbiQ==\n  dependencies:\n    file-uri-to-path \"1.0.0\"\n\nbn.js@^4.0.0, bn.js@^4.1.0, bn.js@^4.11.9:\n  version \"4.12.0\"\n  resolved \"https://registry.yarnpkg.com/bn.js/-/bn.js-4.12.0.tgz#775b3f278efbb9718eec7361f483fb36fbbfea88\"\n  integrity sha512-c98Bf3tPniI+scsdk237ku1Dc3ujXQTSgyiPUDEOe7tRkhrqridvh8klBv0HCEso1OLOYcHuCv/cS6DNxKH+ZA==\n\nbn.js@^5.0.0, bn.js@^5.2.1:\n  version \"5.2.1\"\n  resolved \"https://registry.yarnpkg.com/bn.js/-/bn.js-5.2.1.tgz#0bc527a6a0d18d0aa8d5b0538ce4a77dccfa7b70\"\n  integrity sha512-eXRvHzWyYPBuB4NBy0cmYQjGitUrtqwbvlzP3G6VFnNRbsZQIxQ10PbKKHt8gZ/HW/D/747aDl+QkDqg3KQLMQ==\n\nbody-parser@^1.19.0:\n  version \"1.20.3\"\n  resolved \"https://registry.yarnpkg.com/body-parser/-/body-parser-1.20.3.tgz#1953431221c6fb5cd63c4b36d53fab0928e548c6\"\n  integrity sha512-7rAxByjUMqQ3/bHJy7D6OGXvx/MMc4IqBn/X0fcM1QUcAItpZrBEYhWGem+tzXH90c+G01ypMcYJBO9Y30203g==\n  dependencies:\n    bytes \"3.1.2\"\n    content-type \"~1.0.5\"\n    debug \"2.6.9\"\n    depd \"2.0.0\"\n    destroy \"1.2.0\"\n    http-errors \"2.0.0\"\n    iconv-lite \"0.4.24\"\n    on-finished \"2.4.1\"\n    qs \"6.13.0\"\n    raw-body \"2.5.2\"\n    type-is \"~1.6.18\"\n    unpipe \"1.0.0\"\n\nboxen@^4.2.0:\n  version \"4.2.0\"\n  resolved \"https://registry.yarnpkg.com/boxen/-/boxen-4.2.0.tgz#e411b62357d6d6d36587c8ac3d5d974daa070e64\"\n  integrity sha512-eB4uT9RGzg2odpER62bBwSLvUeGC+WbRjjyyFhGsKnc8wp/m0+hQsMUvUe3H2V0D5vw0nBdO1hCJoZo5mKeuIQ==\n  dependencies:\n    ansi-align \"^3.0.0\"\n    camelcase \"^5.3.1\"\n    chalk \"^3.0.0\"\n    cli-boxes \"^2.2.0\"\n    string-width \"^4.1.0\"\n    term-size \"^2.1.0\"\n    type-fest \"^0.8.1\"\n    widest-line \"^3.1.0\"\n\nbrace-expansion@^1.1.7:\n  version \"1.1.11\"\n  resolved \"https://registry.yarnpkg.com/brace-expansion/-/brace-expansion-1.1.11.tgz#3c7fcbf529d87226f3d2f52b966ff5271eb441dd\"\n  integrity sha512-iCuPHDFgrHX7H2vEI/5xpz07zSHB00TpugqhmYtVmMO6518mCuRMoOYFldEBl0g187ufozdaHgWKcYFb61qGiA==\n  dependencies:\n    balanced-match \"^1.0.0\"\n    concat-map \"0.0.1\"\n\nbraces@^2.3.1, braces@^2.3.2:\n  version \"2.3.2\"\n  resolved \"https://registry.yarnpkg.com/braces/-/braces-2.3.2.tgz#5979fd3f14cd531565e5fa2df1abfff1dfaee729\"\n  integrity sha512-aNdbnj9P8PjdXU4ybaWLK2IF3jc/EoDYbC7AazW6to3TRsfXxscC9UXOB5iDiEQrkyIbWp2SLQda4+QAa7nc3w==\n  dependencies:\n    arr-flatten \"^1.1.0\"\n    array-unique \"^0.3.2\"\n    extend-shallow \"^2.0.1\"\n    fill-range \"^4.0.0\"\n    isobject \"^3.0.1\"\n    repeat-element \"^1.1.2\"\n    snapdragon \"^0.8.1\"\n    snapdragon-node \"^2.0.1\"\n    split-string \"^3.0.2\"\n    to-regex \"^3.0.1\"\n\nbraces@^3.0.2, braces@~3.0.2:\n  version \"3.0.2\"\n  resolved \"https://registry.yarnpkg.com/braces/-/braces-3.0.2.tgz#3454e1a462ee8d599e236df336cd9ea4f8afe107\"\n  integrity sha512-b8um+L1RzM3WDSzvhm6gIz1yfTbBt6YTlcEKAvsmqCZZFw46z626lVj9j1yEPW33H5H+lBQpZMP1k8l+78Ha0A==\n  dependencies:\n    fill-range \"^7.0.1\"\n\nbrorand@^1.0.1, brorand@^1.1.0:\n  version \"1.1.0\"\n  resolved \"https://registry.yarnpkg.com/brorand/-/brorand-1.1.0.tgz#12c25efe40a45e3c323eb8675a0a0ce57b22371f\"\n  integrity sha1-EsJe/kCkXjwyPrhnWgoM5XsiNx8=\n\nbrowser-pack@^6.0.1:\n  version \"6.1.0\"\n  resolved \"https://registry.yarnpkg.com/browser-pack/-/browser-pack-6.1.0.tgz#c34ba10d0b9ce162b5af227c7131c92c2ecd5774\"\n  integrity sha512-erYug8XoqzU3IfcU8fUgyHqyOXqIE4tUTTQ+7mqUjQlvnXkOO6OlT9c/ZoJVHYoAaqGxr09CN53G7XIsO4KtWA==\n  dependencies:\n    JSONStream \"^1.0.3\"\n    combine-source-map \"~0.8.0\"\n    defined \"^1.0.0\"\n    safe-buffer \"^5.1.1\"\n    through2 \"^2.0.0\"\n    umd \"^3.0.0\"\n\nbrowser-resolve@^1.11.0, browser-resolve@^1.11.3, browser-resolve@^1.7.0:\n  version \"1.11.3\"\n  resolved \"https://registry.yarnpkg.com/browser-resolve/-/browser-resolve-1.11.3.tgz#9b7cbb3d0f510e4cb86bdbd796124d28b5890af6\"\n  integrity sha512-exDi1BYWB/6raKHmDTCicQfTkqwN5fioMFV4j8BsfMU4R2DK/QfZfK7kOVkmWCNANf0snkBzqGqAJBao9gZMdQ==\n  dependencies:\n    resolve \"1.1.7\"\n\nbrowserify-aes@^1.0.0, browserify-aes@^1.0.4:\n  version \"1.2.0\"\n  resolved \"https://registry.yarnpkg.com/browserify-aes/-/browserify-aes-1.2.0.tgz#326734642f403dabc3003209853bb70ad428ef48\"\n  integrity sha512-+7CHXqGuspUn/Sl5aO7Ea0xWGAtETPXNSAjHo48JfLdPWcMng33Xe4znFvQweqc/uzk5zSOI3H52CYnjCfb5hA==\n  dependencies:\n    buffer-xor \"^1.0.3\"\n    cipher-base \"^1.0.0\"\n    create-hash \"^1.1.0\"\n    evp_bytestokey \"^1.0.3\"\n    inherits \"^2.0.1\"\n    safe-buffer \"^5.0.1\"\n\nbrowserify-cipher@^1.0.0:\n  version \"1.0.1\"\n  resolved \"https://registry.yarnpkg.com/browserify-cipher/-/browserify-cipher-1.0.1.tgz#8d6474c1b870bfdabcd3bcfcc1934a10e94f15f0\"\n  integrity sha512-sPhkz0ARKbf4rRQt2hTpAHqn47X3llLkUGn+xEJzLjwY8LRs2p0v7ljvI5EyoRO/mexrNunNECisZs+gw2zz1w==\n  dependencies:\n    browserify-aes \"^1.0.4\"\n    browserify-des \"^1.0.0\"\n    evp_bytestokey \"^1.0.0\"\n\nbrowserify-des@^1.0.0:\n  version \"1.0.2\"\n  resolved \"https://registry.yarnpkg.com/browserify-des/-/browserify-des-1.0.2.tgz#3af4f1f59839403572f1c66204375f7a7f703e9c\"\n  integrity sha512-BioO1xf3hFwz4kc6iBhI3ieDFompMhrMlnDFC4/0/vd5MokpuAc3R+LYbwTA9A5Yc9pq9UYPqffKpW2ObuwX5A==\n  dependencies:\n    cipher-base \"^1.0.1\"\n    des.js \"^1.0.0\"\n    inherits \"^2.0.1\"\n    safe-buffer \"^5.1.2\"\n\nbrowserify-rsa@^4.0.0:\n  version \"4.0.1\"\n  resolved \"https://registry.yarnpkg.com/browserify-rsa/-/browserify-rsa-4.0.1.tgz#21e0abfaf6f2029cf2fafb133567a701d4135524\"\n  integrity sha1-IeCr+vbyApzy+vsTNWenAdQTVSQ=\n  dependencies:\n    bn.js \"^4.1.0\"\n    randombytes \"^2.0.1\"\n\nbrowserify-rsa@^4.1.0:\n  version \"4.1.0\"\n  resolved \"https://registry.yarnpkg.com/browserify-rsa/-/browserify-rsa-4.1.0.tgz#b2fd06b5b75ae297f7ce2dc651f918f5be158c8d\"\n  integrity sha512-AdEER0Hkspgno2aR97SAf6vi0y0k8NuOpGnVH3O99rcA5Q6sh8QxcngtHuJ6uXwnfAXNM4Gn1Gb7/MV1+Ymbog==\n  dependencies:\n    bn.js \"^5.0.0\"\n    randombytes \"^2.0.1\"\n\nbrowserify-sign@^4.0.0:\n  version \"4.2.2\"\n  resolved \"https://registry.yarnpkg.com/browserify-sign/-/browserify-sign-4.2.2.tgz#e78d4b69816d6e3dd1c747e64e9947f9ad79bc7e\"\n  integrity sha512-1rudGyeYY42Dk6texmv7c4VcQ0EsvVbLwZkA+AQB7SxvXxmcD93jcHie8bzecJ+ChDlmAm2Qyu0+Ccg5uhZXCg==\n  dependencies:\n    bn.js \"^5.2.1\"\n    browserify-rsa \"^4.1.0\"\n    create-hash \"^1.2.0\"\n    create-hmac \"^1.1.7\"\n    elliptic \"^6.5.4\"\n    inherits \"^2.0.4\"\n    parse-asn1 \"^5.1.6\"\n    readable-stream \"^3.6.2\"\n    safe-buffer \"^5.2.1\"\n\nbrowserify-zlib@^0.2.0, browserify-zlib@~0.2.0:\n  version \"0.2.0\"\n  resolved \"https://registry.yarnpkg.com/browserify-zlib/-/browserify-zlib-0.2.0.tgz#2869459d9aa3be245fe8fe2ca1f46e2e7f54d73f\"\n  integrity sha512-Z942RysHXmJrhqk88FmKBVq/v5tqmSkDz7p54G/MGyjMnCFFnC79XWNbg+Vta8W6Wb2qtSZTSxIGkJrRpCFEiA==\n  dependencies:\n    pako \"~1.0.5\"\n\nbrowserify@^16.1.0:\n  version \"16.5.1\"\n  resolved \"https://registry.yarnpkg.com/browserify/-/browserify-16.5.1.tgz#3c13c97436802930d5c3ae28658ddc33bfd37dc2\"\n  integrity sha512-EQX0h59Pp+0GtSRb5rL6OTfrttlzv+uyaUVlK6GX3w11SQ0jKPKyjC/54RhPR2ib2KmfcELM06e8FxcI5XNU2A==\n  dependencies:\n    JSONStream \"^1.0.3\"\n    assert \"^1.4.0\"\n    browser-pack \"^6.0.1\"\n    browser-resolve \"^1.11.0\"\n    browserify-zlib \"~0.2.0\"\n    buffer \"~5.2.1\"\n    cached-path-relative \"^1.0.0\"\n    concat-stream \"^1.6.0\"\n    console-browserify \"^1.1.0\"\n    constants-browserify \"~1.0.0\"\n    crypto-browserify \"^3.0.0\"\n    defined \"^1.0.0\"\n    deps-sort \"^2.0.0\"\n    domain-browser \"^1.2.0\"\n    duplexer2 \"~0.1.2\"\n    events \"^2.0.0\"\n    glob \"^7.1.0\"\n    has \"^1.0.0\"\n    htmlescape \"^1.1.0\"\n    https-browserify \"^1.0.0\"\n    inherits \"~2.0.1\"\n    insert-module-globals \"^7.0.0\"\n    labeled-stream-splicer \"^2.0.0\"\n    mkdirp-classic \"^0.5.2\"\n    module-deps \"^6.0.0\"\n    os-browserify \"~0.3.0\"\n    parents \"^1.0.1\"\n    path-browserify \"~0.0.0\"\n    process \"~0.11.0\"\n    punycode \"^1.3.2\"\n    querystring-es3 \"~0.2.0\"\n    read-only-stream \"^2.0.0\"\n    readable-stream \"^2.0.2\"\n    resolve \"^1.1.4\"\n    shasum \"^1.0.0\"\n    shell-quote \"^1.6.1\"\n    stream-browserify \"^2.0.0\"\n    stream-http \"^3.0.0\"\n    string_decoder \"^1.1.1\"\n    subarg \"^1.0.0\"\n    syntax-error \"^1.1.1\"\n    through2 \"^2.0.0\"\n    timers-browserify \"^1.0.1\"\n    tty-browserify \"0.0.1\"\n    url \"~0.11.0\"\n    util \"~0.10.1\"\n    vm-browserify \"^1.0.0\"\n    xtend \"^4.0.0\"\n\nbuffer-from@^1.0.0:\n  version \"1.1.1\"\n  resolved \"https://registry.yarnpkg.com/buffer-from/-/buffer-from-1.1.1.tgz#32713bc028f75c02fdb710d7c7bcec1f2c6070ef\"\n  integrity sha512-MQcXEUbCKtEo7bhqEs6560Hyd4XaovZlO/k9V3hjVUF/zwW7KBVdSK4gIt/bzwS9MbR5qob+F5jusZsb0YQK2A==\n\nbuffer-xor@^1.0.3:\n  version \"1.0.3\"\n  resolved \"https://registry.yarnpkg.com/buffer-xor/-/buffer-xor-1.0.3.tgz#26e61ed1422fb70dd42e6e36729ed51d855fe8d9\"\n  integrity sha1-JuYe0UIvtw3ULm42cp7VHYVf6Nk=\n\nbuffer@^5.4.3:\n  version \"5.6.0\"\n  resolved \"https://registry.yarnpkg.com/buffer/-/buffer-5.6.0.tgz#a31749dc7d81d84db08abf937b6b8c4033f62786\"\n  integrity sha512-/gDYp/UtU0eA1ys8bOs9J6a+E/KWIY+DZ+Q2WESNUA0jFRsJOc0SNUO6xJ5SGA1xueg3NL65W6s+NY5l9cunuw==\n  dependencies:\n    base64-js \"^1.0.2\"\n    ieee754 \"^1.1.4\"\n\nbuffer@~5.2.1:\n  version \"5.2.1\"\n  resolved \"https://registry.yarnpkg.com/buffer/-/buffer-5.2.1.tgz#dd57fa0f109ac59c602479044dca7b8b3d0b71d6\"\n  integrity sha512-c+Ko0loDaFfuPWiL02ls9Xd3GO3cPVmUobQ6t3rXNUk304u6hGq+8N/kFi+QEIKhzK3uwolVhLzszmfLmMLnqg==\n  dependencies:\n    base64-js \"^1.0.2\"\n    ieee754 \"^1.1.4\"\n\nbuiltin-status-codes@^3.0.0:\n  version \"3.0.0\"\n  resolved \"https://registry.yarnpkg.com/builtin-status-codes/-/builtin-status-codes-3.0.0.tgz#85982878e21b98e1c66425e03d0174788f569ee8\"\n  integrity sha1-hZgoeOIbmOHGZCXgPQF0eI9Wnug=\n\nbytes@3.1.2:\n  version \"3.1.2\"\n  resolved \"https://registry.yarnpkg.com/bytes/-/bytes-3.1.2.tgz#8b0beeb98605adf1b128fa4386403c009e0221a5\"\n  integrity sha512-/Nf7TyzTx6S3yRJObOAV7956r8cr2+Oj8AC5dt8wSP3BQAoeX58NoHyCU8P8zGkNXStjTSi6fzO6F0pBdcYbEg==\n\ncache-base@^1.0.1:\n  version \"1.0.1\"\n  resolved \"https://registry.yarnpkg.com/cache-base/-/cache-base-1.0.1.tgz#0a7f46416831c8b662ee36fe4e7c59d76f666ab2\"\n  integrity sha512-AKcdTnFSWATd5/GCPRxr2ChwIJ85CeyrEyjRHlKxQ56d4XJMGym0uAiKn0xbLOGOl3+yRpOTi484dVCEc5AUzQ==\n  dependencies:\n    collection-visit \"^1.0.0\"\n    component-emitter \"^1.2.1\"\n    get-value \"^2.0.6\"\n    has-value \"^1.0.0\"\n    isobject \"^3.0.1\"\n    set-value \"^2.0.0\"\n    to-object-path \"^0.3.0\"\n    union-value \"^1.0.0\"\n    unset-value \"^1.0.0\"\n\ncacheable-request@^6.0.0:\n  version \"6.1.0\"\n  resolved \"https://registry.yarnpkg.com/cacheable-request/-/cacheable-request-6.1.0.tgz#20ffb8bd162ba4be11e9567d823db651052ca912\"\n  integrity sha512-Oj3cAGPCqOZX7Rz64Uny2GYAZNliQSqfbePrgAQ1wKAihYmCUnraBtJtKcGR4xz7wF+LoJC+ssFZvv5BgF9Igg==\n  dependencies:\n    clone-response \"^1.0.2\"\n    get-stream \"^5.1.0\"\n    http-cache-semantics \"^4.0.0\"\n    keyv \"^3.0.0\"\n    lowercase-keys \"^2.0.0\"\n    normalize-url \"^4.1.0\"\n    responselike \"^1.0.2\"\n\ncached-path-relative@^1.0.0, cached-path-relative@^1.0.2:\n  version \"1.1.0\"\n  resolved \"https://registry.yarnpkg.com/cached-path-relative/-/cached-path-relative-1.1.0.tgz#865576dfef39c0d6a7defde794d078f5308e3ef3\"\n  integrity sha512-WF0LihfemtesFcJgO7xfOoOcnWzY/QHR4qeDqV44jPU3HTI54+LnfXK3SA27AVVGCdZFgjjFFaqUA9Jx7dMJZA==\n\ncall-bind@^1.0.7:\n  version \"1.0.7\"\n  resolved \"https://registry.yarnpkg.com/call-bind/-/call-bind-1.0.7.tgz#06016599c40c56498c18769d2730be242b6fa3b9\"\n  integrity sha512-GHTSNSYICQ7scH7sZ+M2rFopRoLh8t2bLSW6BbgrtLsahOIB5iyAVJf9GjWK3cYTDaMj4XdBpM1cA6pIS0Kv2w==\n  dependencies:\n    es-define-property \"^1.0.0\"\n    es-errors \"^1.3.0\"\n    function-bind \"^1.1.2\"\n    get-intrinsic \"^1.2.4\"\n    set-function-length \"^1.2.1\"\n\ncamelcase@^5.3.1:\n  version \"5.3.1\"\n  resolved \"https://registry.yarnpkg.com/camelcase/-/camelcase-5.3.1.tgz#e3c9b31569e106811df242f715725a1f4c494320\"\n  integrity sha512-L28STB170nwWS63UjtlEOE3dldQApaJXZkOI1uMFfzf3rRuPegHaHesyee+YxQ+W6SvRDQV6UrdOdRiR153wJg==\n\nchalk@^1.0.0:\n  version \"1.1.3\"\n  resolved \"https://registry.yarnpkg.com/chalk/-/chalk-1.1.3.tgz#a8115c55e4a702fe4d150abd3872822a7e09fc98\"\n  integrity sha1-qBFcVeSnAv5NFQq9OHKCKn4J/Jg=\n  dependencies:\n    ansi-styles \"^2.2.1\"\n    escape-string-regexp \"^1.0.2\"\n    has-ansi \"^2.0.0\"\n    strip-ansi \"^3.0.0\"\n    supports-color \"^2.0.0\"\n\nchalk@^2.0.0, chalk@^2.4.1, chalk@^2.4.2:\n  version \"2.4.2\"\n  resolved \"https://registry.yarnpkg.com/chalk/-/chalk-2.4.2.tgz#cd42541677a54333cf541a49108c1432b44c9424\"\n  integrity sha512-Mti+f9lpJNcwF4tWV8/OrTTtF1gZi+f8FqlyAdouralcFWFQWF2+NgCHShjkCb+IFBLq9buZwE1xckQU4peSuQ==\n  dependencies:\n    ansi-styles \"^3.2.1\"\n    escape-string-regexp \"^1.0.5\"\n    supports-color \"^5.3.0\"\n\nchalk@^3.0.0:\n  version \"3.0.0\"\n  resolved \"https://registry.yarnpkg.com/chalk/-/chalk-3.0.0.tgz#3f73c2bf526591f574cc492c51e2456349f844e4\"\n  integrity sha512-4D3B6Wf41KOYRFdszmDqMCGq5VV/uMAB273JILmO+3jAlh8X4qDtdtgCR3fxtbLEMzSx22QdhnDcJvu2u1fVwg==\n  dependencies:\n    ansi-styles \"^4.1.0\"\n    supports-color \"^7.1.0\"\n\nchalk@^4.0.0:\n  version \"4.1.0\"\n  resolved \"https://registry.yarnpkg.com/chalk/-/chalk-4.1.0.tgz#4e14870a618d9e2edd97dd8345fd9d9dc315646a\"\n  integrity sha512-qwx12AxXe2Q5xQ43Ac//I6v5aXTipYrSESdOgzrN+9XjgEpyjpKuvSGaN4qE93f7TQTlerQQ8S+EQ0EyDoVL1A==\n  dependencies:\n    ansi-styles \"^4.1.0\"\n    supports-color \"^7.1.0\"\n\n\"chokidar@>=2.0.0 <4.0.0\", chokidar@^3.2.2, chokidar@^3.5.1:\n  version \"3.5.3\"\n  resolved \"https://registry.yarnpkg.com/chokidar/-/chokidar-3.5.3.tgz#1cf37c8707b932bd1af1ae22c0432e2acd1903bd\"\n  integrity sha512-Dr3sfKRP6oTcjf2JmUmFJfeVMvXBdegxB0iVQ5eb2V10uFJUCAS8OByZdVAyVb8xXNz3GjjTgj9kLWsZTqE6kw==\n  dependencies:\n    anymatch \"~3.1.2\"\n    braces \"~3.0.2\"\n    glob-parent \"~5.1.2\"\n    is-binary-path \"~2.1.0\"\n    is-glob \"~4.0.1\"\n    normalize-path \"~3.0.0\"\n    readdirp \"~3.6.0\"\n  optionalDependencies:\n    fsevents \"~2.3.2\"\n\nchokidar@^2.1.1:\n  version \"2.1.8\"\n  resolved \"https://registry.yarnpkg.com/chokidar/-/chokidar-2.1.8.tgz#804b3a7b6a99358c3c5c61e71d8728f041cff917\"\n  integrity sha512-ZmZUazfOzf0Nve7duiCKD23PFSCs4JPoYyccjUFF3aQkQadqBhfzhjkwBH2mNOG9cTBwhamM37EIsIkZw3nRgg==\n  dependencies:\n    anymatch \"^2.0.0\"\n    async-each \"^1.0.1\"\n    braces \"^2.3.2\"\n    glob-parent \"^3.1.0\"\n    inherits \"^2.0.3\"\n    is-binary-path \"^1.0.0\"\n    is-glob \"^4.0.0\"\n    normalize-path \"^3.0.0\"\n    path-is-absolute \"^1.0.0\"\n    readdirp \"^2.2.1\"\n    upath \"^1.1.1\"\n  optionalDependencies:\n    fsevents \"^1.2.7\"\n\nci-info@^2.0.0:\n  version \"2.0.0\"\n  resolved \"https://registry.yarnpkg.com/ci-info/-/ci-info-2.0.0.tgz#67a9e964be31a51e15e5010d58e6f12834002f46\"\n  integrity sha512-5tK7EtrZ0N+OLFMthtqOj4fI2Jeb88C4CAZPu25LDVUgXJ0A3Js4PMGqrn0JU1W0Mh1/Z8wZzYPxqUrXeBboCQ==\n\ncipher-base@^1.0.0, cipher-base@^1.0.1, cipher-base@^1.0.3:\n  version \"1.0.4\"\n  resolved \"https://registry.yarnpkg.com/cipher-base/-/cipher-base-1.0.4.tgz#8760e4ecc272f4c363532f926d874aae2c1397de\"\n  integrity sha512-Kkht5ye6ZGmwv40uUDZztayT2ThLQGfnj/T71N/XzeZeo3nf8foyW7zGTsPYkEya3m5f3cAypH+qe7YOrM1U2Q==\n  dependencies:\n    inherits \"^2.0.1\"\n    safe-buffer \"^5.0.1\"\n\nclass-utils@^0.3.5:\n  version \"0.3.6\"\n  resolved \"https://registry.yarnpkg.com/class-utils/-/class-utils-0.3.6.tgz#f93369ae8b9a7ce02fd41faad0ca83033190c463\"\n  integrity sha512-qOhPa/Fj7s6TY8H8esGu5QNpMMQxz79h+urzrNYN6mn+9BnxlDGf5QZ+XeCDsxSjPqsSR56XOZOJmpeurnLMeg==\n  dependencies:\n    arr-union \"^3.1.0\"\n    define-property \"^0.2.5\"\n    isobject \"^3.0.0\"\n    static-extend \"^0.1.1\"\n\nclean-css-cli@^4.1.11:\n  version \"4.3.0\"\n  resolved \"https://registry.yarnpkg.com/clean-css-cli/-/clean-css-cli-4.3.0.tgz#8502aa86d1879e5b111af51b3c2abb799e0684ce\"\n  integrity sha512-8GHZfr+mG3zB/Lgqrr27qHBFsPSn0fyEI3f2rIZpxPxUbn2J6A8xyyeBRVTW8duDuXigN0s80vsXiXJOEFIO5Q==\n  dependencies:\n    clean-css \"^4.2.1\"\n    commander \"2.x\"\n    glob \"7.x\"\n\nclean-css@^4.2.1:\n  version \"4.2.3\"\n  resolved \"https://registry.yarnpkg.com/clean-css/-/clean-css-4.2.3.tgz#507b5de7d97b48ee53d84adb0160ff6216380f78\"\n  integrity sha512-VcMWDN54ZN/DS+g58HYL5/n4Zrqe8vHJpGA8KdgUXFU4fuP/aHNw8eld9SyEIyabIMJX/0RaY/fplOo5hYLSFA==\n  dependencies:\n    source-map \"~0.6.0\"\n\ncli-boxes@^2.2.0:\n  version \"2.2.0\"\n  resolved \"https://registry.yarnpkg.com/cli-boxes/-/cli-boxes-2.2.0.tgz#538ecae8f9c6ca508e3c3c95b453fe93cb4c168d\"\n  integrity sha512-gpaBrMAizVEANOpfZp/EEUixTXDyGt7DFzdK5hU+UbWt/J0lB0w20ncZj59Z9a93xHb9u12zF5BS6i9RKbtg4w==\n\ncli@~1.0.0:\n  version \"1.0.1\"\n  resolved \"https://registry.yarnpkg.com/cli/-/cli-1.0.1.tgz#22817534f24bfa4950c34d532d48ecbc621b8c14\"\n  integrity sha1-IoF1NPJL+klQw01TLUjsvGIbjBQ=\n  dependencies:\n    exit \"0.1.2\"\n    glob \"^7.1.1\"\n\ncliui@^7.0.2:\n  version \"7.0.4\"\n  resolved \"https://registry.yarnpkg.com/cliui/-/cliui-7.0.4.tgz#a0265ee655476fc807aea9df3df8df7783808b4f\"\n  integrity sha512-OcRE68cOsVMXp1Yvonl/fzkQOyjLSu/8bhPDfQt0e0/Eb283TKP20Fs2MqoPsr9SwA595rRCA+QMzYc9nBP+JQ==\n  dependencies:\n    string-width \"^4.2.0\"\n    strip-ansi \"^6.0.0\"\n    wrap-ansi \"^7.0.0\"\n\nclone-response@^1.0.2:\n  version \"1.0.2\"\n  resolved \"https://registry.yarnpkg.com/clone-response/-/clone-response-1.0.2.tgz#d1dc973920314df67fbeb94223b4ee350239e96b\"\n  integrity sha1-0dyXOSAxTfZ/vrlCI7TuNQI56Ws=\n  dependencies:\n    mimic-response \"^1.0.0\"\n\nclone@^1.0.2:\n  version \"1.0.4\"\n  resolved \"https://registry.yarnpkg.com/clone/-/clone-1.0.4.tgz#da309cc263df15994c688ca902179ca3c7cd7c7e\"\n  integrity sha1-2jCcwmPfFZlMaIypAheco8fNfH4=\n\ncodecov@^3.0.4:\n  version \"3.7.1\"\n  resolved \"https://registry.yarnpkg.com/codecov/-/codecov-3.7.1.tgz#434cb8d55f18ef01672e5739d3d266696bebc202\"\n  integrity sha512-JHWxyPTkMLLJn9SmKJnwAnvY09kg2Os2+Ux+GG7LwZ9g8gzDDISpIN5wAsH1UBaafA/yGcd3KofMaorE8qd6Lw==\n  dependencies:\n    argv \"0.0.2\"\n    ignore-walk \"3.0.3\"\n    js-yaml \"3.13.1\"\n    teeny-request \"6.0.1\"\n    urlgrey \"0.4.4\"\n\ncollection-visit@^1.0.0:\n  version \"1.0.0\"\n  resolved \"https://registry.yarnpkg.com/collection-visit/-/collection-visit-1.0.0.tgz#4bc0373c164bc3291b4d368c829cf1a80a59dca0\"\n  integrity sha1-S8A3PBZLwykbTTaMgpzxqApZ3KA=\n  dependencies:\n    map-visit \"^1.0.0\"\n    object-visit \"^1.0.0\"\n\ncolor-convert@^1.9.0:\n  version \"1.9.3\"\n  resolved \"https://registry.yarnpkg.com/color-convert/-/color-convert-1.9.3.tgz#bb71850690e1f136567de629d2d5471deda4c1e8\"\n  integrity sha512-QfAUtd+vFdAtFQcC8CCyYt1fYWxSqAiK2cSD6zDB8N3cpsEBAvRxp9zOGg6G/SHHJYAT88/az/IuDGALsNVbGg==\n  dependencies:\n    color-name \"1.1.3\"\n\ncolor-convert@^2.0.1:\n  version \"2.0.1\"\n  resolved \"https://registry.yarnpkg.com/color-convert/-/color-convert-2.0.1.tgz#72d3a68d598c9bdb3af2ad1e84f21d896abd4de3\"\n  integrity sha512-RRECPsj7iu/xb5oKYcsFHSppFNnsj/52OVTRKb4zP5onXwVF3zVmmToNcOfGC+CRDpfK/U584fMg38ZHCaElKQ==\n  dependencies:\n    color-name \"~1.1.4\"\n\ncolor-name@1.1.3:\n  version \"1.1.3\"\n  resolved \"https://registry.yarnpkg.com/color-name/-/color-name-1.1.3.tgz#a7d0558bd89c42f795dd42328f740831ca53bc25\"\n  integrity sha1-p9BVi9icQveV3UIyj3QIMcpTvCU=\n\ncolor-name@~1.1.4:\n  version \"1.1.4\"\n  resolved \"https://registry.yarnpkg.com/color-name/-/color-name-1.1.4.tgz#c2a09a87acbde69543de6f63fa3995c826c536a2\"\n  integrity sha512-dOy+3AuW3a2wNbZHIuMZpTcgjGuLU/uBL/ubcZF9OXbDo8ff4O8yVp5Bf0efS8uEoYo5q4Fx7dY9OgQGXgAsQA==\n\ncolors@1.4.0, colors@>=0.6.0, colors@^1.1.2:\n  version \"1.4.0\"\n  resolved \"https://registry.yarnpkg.com/colors/-/colors-1.4.0.tgz#c50491479d4c1bdaed2c9ced32cf7c7dc2360f78\"\n  integrity sha512-a+UqTh4kgZg/SlGvfbzDHpgRu7AAQOmmqRHJnxhRZICKFUT91brVhNNt58CMWU9PsBbv3PDCZUHbVxuDiH2mtA==\n\ncombine-source-map@^0.8.0, combine-source-map@~0.8.0:\n  version \"0.8.0\"\n  resolved \"https://registry.yarnpkg.com/combine-source-map/-/combine-source-map-0.8.0.tgz#a58d0df042c186fcf822a8e8015f5450d2d79a8b\"\n  integrity sha1-pY0N8ELBhvz4IqjoAV9UUNLXmos=\n  dependencies:\n    convert-source-map \"~1.1.0\"\n    inline-source-map \"~0.6.0\"\n    lodash.memoize \"~3.0.3\"\n    source-map \"~0.5.3\"\n\ncommander@2, commander@2.x, commander@^2.18.0, commander@~2.20.3:\n  version \"2.20.3\"\n  resolved \"https://registry.yarnpkg.com/commander/-/commander-2.20.3.tgz#fd485e84c03eb4881c20722ba48035e8531aeb33\"\n  integrity sha512-GpVkmM8vF2vQUkj2LvZmD35JxeJOLCwJ9cUkugyk2nuhbv3+mJvpLYYt+0+USMxE+oj+ey/lJEnhZw75x/OMcQ==\n\ncommondir@^1.0.1:\n  version \"1.0.1\"\n  resolved \"https://registry.yarnpkg.com/commondir/-/commondir-1.0.1.tgz#ddd800da0c66127393cca5950ea968a3aaf1253b\"\n  integrity sha1-3dgA2gxmEnOTzKWVDqloo6rxJTs=\n\ncomponent-emitter@^1.2.1:\n  version \"1.3.0\"\n  resolved \"https://registry.yarnpkg.com/component-emitter/-/component-emitter-1.3.0.tgz#16e4070fba8ae29b679f2215853ee181ab2eabc0\"\n  integrity sha512-Rd3se6QB+sO1TwqZjscQrurpEPIfO0/yYnSin6Q/rD3mOutHvUrCAhJub3r90uNb+SESBuE0QYoB90YdfatsRg==\n\nconcat-map@0.0.1:\n  version \"0.0.1\"\n  resolved \"https://registry.yarnpkg.com/concat-map/-/concat-map-0.0.1.tgz#d8a96bd77fd68df7793a73036a3ba0d5405d477b\"\n  integrity sha512-/Srv4dswyQNBfohGpz9o6Yb3Gz3SrUDqBH5rTuhGR7ahtlbYKnVxw2bCFMRljaA7EXHaXZ8wsHdodFvbkhKmqg==\n\nconcat-stream@^1.6.0, concat-stream@^1.6.1, concat-stream@~1.6.0:\n  version \"1.6.2\"\n  resolved \"https://registry.yarnpkg.com/concat-stream/-/concat-stream-1.6.2.tgz#904bdf194cd3122fc675c77fc4ac3d4ff0fd1a34\"\n  integrity sha512-27HBghJxjiZtIk3Ycvn/4kbJk/1uZuJFfuPEns6LaEvpvG1f0hTea8lilrouyo9mVc2GWdcEZ8OLoGmSADlrCw==\n  dependencies:\n    buffer-from \"^1.0.0\"\n    inherits \"^2.0.3\"\n    readable-stream \"^2.2.2\"\n    typedarray \"^0.0.6\"\n\nconfigstore@^5.0.1:\n  version \"5.0.1\"\n  resolved \"https://registry.yarnpkg.com/configstore/-/configstore-5.0.1.tgz#d365021b5df4b98cdd187d6a3b0e3f6a7cc5ed96\"\n  integrity sha512-aMKprgk5YhBNyH25hj8wGt2+D52Sw1DRRIzqBwLp2Ya9mFmY8KPvvtvmna8SxVR9JMZ4kzMD68N22vlaRpkeFA==\n  dependencies:\n    dot-prop \"^5.2.0\"\n    graceful-fs \"^4.1.2\"\n    make-dir \"^3.0.0\"\n    unique-string \"^2.0.0\"\n    write-file-atomic \"^3.0.0\"\n    xdg-basedir \"^4.0.0\"\n\nconnect@^3.7.0:\n  version \"3.7.0\"\n  resolved \"https://registry.yarnpkg.com/connect/-/connect-3.7.0.tgz#5d49348910caa5e07a01800b030d0c35f20484f8\"\n  integrity sha512-ZqRXc+tZukToSNmh5C2iWMSoV3X1YUcPbqEM4DkEG5tNQXrQUZCNVGGv3IuicnkMtPfGf3Xtp8WCXs295iQ1pQ==\n  dependencies:\n    debug \"2.6.9\"\n    finalhandler \"1.1.2\"\n    parseurl \"~1.3.3\"\n    utils-merge \"1.0.1\"\n\nconsole-browserify@1.1.x:\n  version \"1.1.0\"\n  resolved \"https://registry.yarnpkg.com/console-browserify/-/console-browserify-1.1.0.tgz#f0241c45730a9fc6323b206dbf38edc741d0bb10\"\n  integrity sha1-8CQcRXMKn8YyOyBtvzjtx0HQuxA=\n  dependencies:\n    date-now \"^0.1.4\"\n\nconsole-browserify@^1.1.0, console-browserify@^1.2.0:\n  version \"1.2.0\"\n  resolved \"https://registry.yarnpkg.com/console-browserify/-/console-browserify-1.2.0.tgz#67063cef57ceb6cf4993a2ab3a55840ae8c49336\"\n  integrity sha512-ZMkYO/LkF17QvCPqM0gxw8yUzigAOZOSWSHg91FH6orS7vcEj5dVZTidN2fQ14yBSdg97RqhSNwLUXInd52OTA==\n\nconstants-browserify@^1.0.0, constants-browserify@~1.0.0:\n  version \"1.0.0\"\n  resolved \"https://registry.yarnpkg.com/constants-browserify/-/constants-browserify-1.0.0.tgz#c20b96d8c617748aaf1c16021760cd27fcb8cb75\"\n  integrity sha1-wguW2MYXdIqvHBYCF2DNJ/y4y3U=\n\ncontent-type@~1.0.5:\n  version \"1.0.5\"\n  resolved \"https://registry.yarnpkg.com/content-type/-/content-type-1.0.5.tgz#8b773162656d1d1086784c8f23a54ce6d73d7918\"\n  integrity sha512-nTjqfcBFEipKdXCv4YDQWCfmcLZKm81ldF0pAopTvyrFGVbcR6P/VAAd5G7N+0tTr8QqiU0tFadD6FK4NtJwOA==\n\nconvert-source-map@^1.7.0:\n  version \"1.7.0\"\n  resolved \"https://registry.yarnpkg.com/convert-source-map/-/convert-source-map-1.7.0.tgz#17a2cb882d7f77d3490585e2ce6c524424a3a442\"\n  integrity sha512-4FJkXzKXEDB1snCFZlLP4gpC3JILicCpGbzG9f9G7tGqGCzETQ2hWPrcinA9oU4wtf2biUaEH5065UnMeR33oA==\n  dependencies:\n    safe-buffer \"~5.1.1\"\n\nconvert-source-map@~1.1.0:\n  version \"1.1.3\"\n  resolved \"https://registry.yarnpkg.com/convert-source-map/-/convert-source-map-1.1.3.tgz#4829c877e9fe49b3161f3bf3673888e204699860\"\n  integrity sha1-SCnId+n+SbMWHzvzZziI4gRpmGA=\n\ncookie@~0.4.1:\n  version \"0.4.2\"\n  resolved \"https://registry.yarnpkg.com/cookie/-/cookie-0.4.2.tgz#0e41f24de5ecf317947c82fc789e06a884824432\"\n  integrity sha512-aSWTXFzaKWkvHO1Ny/s+ePFpvKsPnjc551iI41v3ny/ow6tBG5Vd+FuqGNhh1LxOmVzOlGUriIlOaokOvhaStA==\n\ncopy-descriptor@^0.1.0:\n  version \"0.1.1\"\n  resolved \"https://registry.yarnpkg.com/copy-descriptor/-/copy-descriptor-0.1.1.tgz#676f6eb3c39997c2ee1ac3a924fd6124748f578d\"\n  integrity sha1-Z29us8OZl8LuGsOpJP1hJHSPV40=\n\ncore-util-is@~1.0.0:\n  version \"1.0.2\"\n  resolved \"https://registry.yarnpkg.com/core-util-is/-/core-util-is-1.0.2.tgz#b5fd54220aa2bc5ab57aab7140c940754503c1a7\"\n  integrity sha1-tf1UIgqivFq1eqtxQMlAdUUDwac=\n\ncors@~2.8.5:\n  version \"2.8.5\"\n  resolved \"https://registry.yarnpkg.com/cors/-/cors-2.8.5.tgz#eac11da51592dd86b9f06f6e7ac293b3df875d29\"\n  integrity sha512-KIHbLJqu73RGr/hnbrO9uBeixNGuvSQjul/jdFvS/KFSIH1hWVd1ng7zOHx+YrEfInLG7q4n6GHQ9cDtxv/P6g==\n  dependencies:\n    object-assign \"^4\"\n    vary \"^1\"\n\ncreate-ecdh@^4.0.0:\n  version \"4.0.3\"\n  resolved \"https://registry.yarnpkg.com/create-ecdh/-/create-ecdh-4.0.3.tgz#c9111b6f33045c4697f144787f9254cdc77c45ff\"\n  integrity sha512-GbEHQPMOswGpKXM9kCWVrremUcBmjteUaQ01T9rkKCPDXfUHX0IoP9LpHYo2NPFampa4e+/pFDc3jQdxrxQLaw==\n  dependencies:\n    bn.js \"^4.1.0\"\n    elliptic \"^6.0.0\"\n\ncreate-hash@^1.1.0, create-hash@^1.1.2, create-hash@^1.2.0:\n  version \"1.2.0\"\n  resolved \"https://registry.yarnpkg.com/create-hash/-/create-hash-1.2.0.tgz#889078af11a63756bcfb59bd221996be3a9ef196\"\n  integrity sha512-z00bCGNHDG8mHAkP7CtT1qVu+bFQUPjYq/4Iv3C3kWjTFV10zIjfSoeqXo9Asws8gwSHDGj/hl2u4OGIjapeCg==\n  dependencies:\n    cipher-base \"^1.0.1\"\n    inherits \"^2.0.1\"\n    md5.js \"^1.3.4\"\n    ripemd160 \"^2.0.1\"\n    sha.js \"^2.4.0\"\n\ncreate-hmac@^1.1.0, create-hmac@^1.1.4, create-hmac@^1.1.7:\n  version \"1.1.7\"\n  resolved \"https://registry.yarnpkg.com/create-hmac/-/create-hmac-1.1.7.tgz#69170c78b3ab957147b2b8b04572e47ead2243ff\"\n  integrity sha512-MJG9liiZ+ogc4TzUwuvbER1JRdgvUFSB5+VR/g5h82fGaIRWMWddtKBHi7/sVhfjQZ6SehlyhvQYrcYkaUIpLg==\n  dependencies:\n    cipher-base \"^1.0.3\"\n    create-hash \"^1.1.0\"\n    inherits \"^2.0.1\"\n    ripemd160 \"^2.0.0\"\n    safe-buffer \"^5.0.1\"\n    sha.js \"^2.4.8\"\n\ncross-spawn@^6.0.5:\n  version \"6.0.6\"\n  resolved \"https://registry.yarnpkg.com/cross-spawn/-/cross-spawn-6.0.6.tgz#30d0efa0712ddb7eb5a76e1e8721bffafa6b5d57\"\n  integrity sha512-VqCUuhcd1iB+dsv8gxPttb5iZh/D0iubSP21g36KXdEuf6I5JiioesUVjpCdHV9MZRUfVFlvwtIUyPfxo5trtw==\n  dependencies:\n    nice-try \"^1.0.4\"\n    path-key \"^2.0.1\"\n    semver \"^5.5.0\"\n    shebang-command \"^1.2.0\"\n    which \"^1.2.9\"\n\ncrypto-browserify@^3.0.0, crypto-browserify@^3.12.0:\n  version \"3.12.0\"\n  resolved \"https://registry.yarnpkg.com/crypto-browserify/-/crypto-browserify-3.12.0.tgz#396cf9f3137f03e4b8e532c58f698254e00f80ec\"\n  integrity sha512-fz4spIh+znjO2VjL+IdhEpRJ3YN6sMzITSBijk6FK2UvTqruSQW+/cCZTSNsMiZNvUeq0CqurF+dAbyiGOY6Wg==\n  dependencies:\n    browserify-cipher \"^1.0.0\"\n    browserify-sign \"^4.0.0\"\n    create-ecdh \"^4.0.0\"\n    create-hash \"^1.1.0\"\n    create-hmac \"^1.1.0\"\n    diffie-hellman \"^5.0.0\"\n    inherits \"^2.0.1\"\n    pbkdf2 \"^3.0.3\"\n    public-encrypt \"^4.0.0\"\n    randombytes \"^2.0.0\"\n    randomfill \"^1.0.3\"\n\ncrypto-random-string@^2.0.0:\n  version \"2.0.0\"\n  resolved \"https://registry.yarnpkg.com/crypto-random-string/-/crypto-random-string-2.0.0.tgz#ef2a7a966ec11083388369baa02ebead229b30d5\"\n  integrity sha512-v1plID3y9r/lPhviJ1wrXpLeyUIGAZ2SHNYTEapm7/8A9nLPoyvVp3RK/EPFqn5kEznyWgYZNsRtYYIWbuG8KA==\n\ncustom-event@~1.0.0:\n  version \"1.0.1\"\n  resolved \"https://registry.yarnpkg.com/custom-event/-/custom-event-1.0.1.tgz#5d02a46850adf1b4a317946a3928fccb5bfd0425\"\n  integrity sha1-XQKkaFCt8bSjF5RqOSj8y1v9BCU=\n\nd3-array@1, d3-array@^1.1.1, d3-array@^1.2.0:\n  version \"1.2.4\"\n  resolved \"https://registry.yarnpkg.com/d3-array/-/d3-array-1.2.4.tgz#635ce4d5eea759f6f605863dbcfc30edc737f71f\"\n  integrity sha512-KHW6M86R+FUPYGb3R5XiYjXPq7VzwxZ22buHhAEVG5ztoEcZZMLov530mmccaqA1GghZArjQV46fuc8kUqhhHw==\n\nd3-axis@1:\n  version \"1.0.12\"\n  resolved \"https://registry.yarnpkg.com/d3-axis/-/d3-axis-1.0.12.tgz#cdf20ba210cfbb43795af33756886fb3638daac9\"\n  integrity sha512-ejINPfPSNdGFKEOAtnBtdkpr24c4d4jsei6Lg98mxf424ivoDP2956/5HDpIAtmHo85lqT4pruy+zEgvRUBqaQ==\n\nd3-brush@1:\n  version \"1.1.5\"\n  resolved \"https://registry.yarnpkg.com/d3-brush/-/d3-brush-1.1.5.tgz#066b8e84d17b192986030446c97c0fba7e1bacdc\"\n  integrity sha512-rEaJ5gHlgLxXugWjIkolTA0OyMvw8UWU1imYXy1v642XyyswmI1ybKOv05Ft+ewq+TFmdliD3VuK0pRp1VT/5A==\n  dependencies:\n    d3-dispatch \"1\"\n    d3-drag \"1\"\n    d3-interpolate \"1\"\n    d3-selection \"1\"\n    d3-transition \"1\"\n\nd3-chord@1:\n  version \"1.0.6\"\n  resolved \"https://registry.yarnpkg.com/d3-chord/-/d3-chord-1.0.6.tgz#309157e3f2db2c752f0280fedd35f2067ccbb15f\"\n  integrity sha512-JXA2Dro1Fxw9rJe33Uv+Ckr5IrAa74TlfDEhE/jfLOaXegMQFQTAgAw9WnZL8+HxVBRXaRGCkrNU7pJeylRIuA==\n  dependencies:\n    d3-array \"1\"\n    d3-path \"1\"\n\nd3-collection@1:\n  version \"1.0.7\"\n  resolved \"https://registry.yarnpkg.com/d3-collection/-/d3-collection-1.0.7.tgz#349bd2aa9977db071091c13144d5e4f16b5b310e\"\n  integrity sha512-ii0/r5f4sjKNTfh84Di+DpztYwqKhEyUlKoPrzUFfeSkWxjW49xU2QzO9qrPrNkpdI0XJkfzvmTu8V2Zylln6A==\n\nd3-color@1:\n  version \"1.4.1\"\n  resolved \"https://registry.yarnpkg.com/d3-color/-/d3-color-1.4.1.tgz#c52002bf8846ada4424d55d97982fef26eb3bc8a\"\n  integrity sha512-p2sTHSLCJI2QKunbGb7ocOh7DgTAn8IrLx21QRc/BSnodXM4sv6aLQlnfpvehFMLZEfBc6g9pH9SWQccFYfJ9Q==\n\nd3-contour@1:\n  version \"1.3.2\"\n  resolved \"https://registry.yarnpkg.com/d3-contour/-/d3-contour-1.3.2.tgz#652aacd500d2264cb3423cee10db69f6f59bead3\"\n  integrity sha512-hoPp4K/rJCu0ladiH6zmJUEz6+u3lgR+GSm/QdM2BBvDraU39Vr7YdDCicJcxP1z8i9B/2dJLgDC1NcvlF8WCg==\n  dependencies:\n    d3-array \"^1.1.1\"\n\nd3-dispatch@1:\n  version \"1.0.6\"\n  resolved \"https://registry.yarnpkg.com/d3-dispatch/-/d3-dispatch-1.0.6.tgz#00d37bcee4dd8cd97729dd893a0ac29caaba5d58\"\n  integrity sha512-fVjoElzjhCEy+Hbn8KygnmMS7Or0a9sI2UzGwoB7cCtvI1XpVN9GpoYlnb3xt2YV66oXYb1fLJ8GMvP4hdU1RA==\n\nd3-drag@1:\n  version \"1.2.5\"\n  resolved \"https://registry.yarnpkg.com/d3-drag/-/d3-drag-1.2.5.tgz#2537f451acd39d31406677b7dc77c82f7d988f70\"\n  integrity sha512-rD1ohlkKQwMZYkQlYVCrSFxsWPzI97+W+PaEIBNTMxRuxz9RF0Hi5nJWHGVJ3Om9d2fRTe1yOBINJyy/ahV95w==\n  dependencies:\n    d3-dispatch \"1\"\n    d3-selection \"1\"\n\nd3-dsv@1:\n  version \"1.2.0\"\n  resolved \"https://registry.yarnpkg.com/d3-dsv/-/d3-dsv-1.2.0.tgz#9d5f75c3a5f8abd611f74d3f5847b0d4338b885c\"\n  integrity sha512-9yVlqvZcSOMhCYzniHE7EVUws7Fa1zgw+/EAV2BxJoG3ME19V6BQFBwI855XQDsxyOuG7NibqRMTtiF/Qup46g==\n  dependencies:\n    commander \"2\"\n    iconv-lite \"0.4\"\n    rw \"1\"\n\nd3-ease@1:\n  version \"1.0.6\"\n  resolved \"https://registry.yarnpkg.com/d3-ease/-/d3-ease-1.0.6.tgz#ebdb6da22dfac0a22222f2d4da06f66c416a0ec0\"\n  integrity sha512-SZ/lVU7LRXafqp7XtIcBdxnWl8yyLpgOmzAk0mWBI9gXNzLDx5ybZgnRbH9dN/yY5tzVBqCQ9avltSnqVwessQ==\n\nd3-fetch@1:\n  version \"1.2.0\"\n  resolved \"https://registry.yarnpkg.com/d3-fetch/-/d3-fetch-1.2.0.tgz#15ce2ecfc41b092b1db50abd2c552c2316cf7fc7\"\n  integrity sha512-yC78NBVcd2zFAyR/HnUiBS7Lf6inSCoWcSxFfw8FYL7ydiqe80SazNwoffcqOfs95XaLo7yebsmQqDKSsXUtvA==\n  dependencies:\n    d3-dsv \"1\"\n\nd3-force@1:\n  version \"1.2.1\"\n  resolved \"https://registry.yarnpkg.com/d3-force/-/d3-force-1.2.1.tgz#fd29a5d1ff181c9e7f0669e4bd72bdb0e914ec0b\"\n  integrity sha512-HHvehyaiUlVo5CxBJ0yF/xny4xoaxFxDnBXNvNcfW9adORGZfyNF1dj6DGLKyk4Yh3brP/1h3rnDzdIAwL08zg==\n  dependencies:\n    d3-collection \"1\"\n    d3-dispatch \"1\"\n    d3-quadtree \"1\"\n    d3-timer \"1\"\n\nd3-format@1:\n  version \"1.4.4\"\n  resolved \"https://registry.yarnpkg.com/d3-format/-/d3-format-1.4.4.tgz#356925f28d0fd7c7983bfad593726fce46844030\"\n  integrity sha512-TWks25e7t8/cqctxCmxpUuzZN11QxIA7YrMbram94zMQ0PXjE4LVIMe/f6a4+xxL8HQ3OsAFULOINQi1pE62Aw==\n\nd3-geo@1:\n  version \"1.12.1\"\n  resolved \"https://registry.yarnpkg.com/d3-geo/-/d3-geo-1.12.1.tgz#7fc2ab7414b72e59fbcbd603e80d9adc029b035f\"\n  integrity sha512-XG4d1c/UJSEX9NfU02KwBL6BYPj8YKHxgBEw5om2ZnTRSbIcego6dhHwcxuSR3clxh0EpE38os1DVPOmnYtTPg==\n  dependencies:\n    d3-array \"1\"\n\nd3-hierarchy@1:\n  version \"1.1.9\"\n  resolved \"https://registry.yarnpkg.com/d3-hierarchy/-/d3-hierarchy-1.1.9.tgz#2f6bee24caaea43f8dc37545fa01628559647a83\"\n  integrity sha512-j8tPxlqh1srJHAtxfvOUwKNYJkQuBFdM1+JAUfq6xqH5eAqf93L7oG1NVqDa4CpFZNvnNKtCYEUC8KY9yEn9lQ==\n\nd3-interpolate@1:\n  version \"1.4.0\"\n  resolved \"https://registry.yarnpkg.com/d3-interpolate/-/d3-interpolate-1.4.0.tgz#526e79e2d80daa383f9e0c1c1c7dcc0f0583e987\"\n  integrity sha512-V9znK0zc3jOPV4VD2zZn0sDhZU3WAE2bmlxdIwwQPPzPjvyLkd8B3JUVdS1IDUFDkWZ72c9qnv1GK2ZagTZ8EA==\n  dependencies:\n    d3-color \"1\"\n\nd3-path@1:\n  version \"1.0.9\"\n  resolved \"https://registry.yarnpkg.com/d3-path/-/d3-path-1.0.9.tgz#48c050bb1fe8c262493a8caf5524e3e9591701cf\"\n  integrity sha512-VLaYcn81dtHVTjEHd8B+pbe9yHWpXKZUC87PzoFmsFrJqgFwDe/qxfp5MlfsfM1V5E/iVt0MmEbWQ7FVIXh/bg==\n\nd3-polygon@1:\n  version \"1.0.6\"\n  resolved \"https://registry.yarnpkg.com/d3-polygon/-/d3-polygon-1.0.6.tgz#0bf8cb8180a6dc107f518ddf7975e12abbfbd38e\"\n  integrity sha512-k+RF7WvI08PC8reEoXa/w2nSg5AUMTi+peBD9cmFc+0ixHfbs4QmxxkarVal1IkVkgxVuk9JSHhJURHiyHKAuQ==\n\nd3-quadtree@1:\n  version \"1.0.7\"\n  resolved \"https://registry.yarnpkg.com/d3-quadtree/-/d3-quadtree-1.0.7.tgz#ca8b84df7bb53763fe3c2f24bd435137f4e53135\"\n  integrity sha512-RKPAeXnkC59IDGD0Wu5mANy0Q2V28L+fNe65pOCXVdVuTJS3WPKaJlFHer32Rbh9gIo9qMuJXio8ra4+YmIymA==\n\nd3-random@1:\n  version \"1.1.2\"\n  resolved \"https://registry.yarnpkg.com/d3-random/-/d3-random-1.1.2.tgz#2833be7c124360bf9e2d3fd4f33847cfe6cab291\"\n  integrity sha512-6AK5BNpIFqP+cx/sreKzNjWbwZQCSUatxq+pPRmFIQaWuoD+NrbVWw7YWpHiXpCQ/NanKdtGDuB+VQcZDaEmYQ==\n\nd3-scale-chromatic@1:\n  version \"1.5.0\"\n  resolved \"https://registry.yarnpkg.com/d3-scale-chromatic/-/d3-scale-chromatic-1.5.0.tgz#54e333fc78212f439b14641fb55801dd81135a98\"\n  integrity sha512-ACcL46DYImpRFMBcpk9HhtIyC7bTBR4fNOPxwVSl0LfulDAwyiHyPOTqcDG1+t5d4P9W7t/2NAuWu59aKko/cg==\n  dependencies:\n    d3-color \"1\"\n    d3-interpolate \"1\"\n\nd3-scale@2:\n  version \"2.2.2\"\n  resolved \"https://registry.yarnpkg.com/d3-scale/-/d3-scale-2.2.2.tgz#4e880e0b2745acaaddd3ede26a9e908a9e17b81f\"\n  integrity sha512-LbeEvGgIb8UMcAa0EATLNX0lelKWGYDQiPdHj+gLblGVhGLyNbaCn3EvrJf0A3Y/uOOU5aD6MTh5ZFCdEwGiCw==\n  dependencies:\n    d3-array \"^1.2.0\"\n    d3-collection \"1\"\n    d3-format \"1\"\n    d3-interpolate \"1\"\n    d3-time \"1\"\n    d3-time-format \"2\"\n\nd3-selection@1, d3-selection@^1.1.0:\n  version \"1.4.1\"\n  resolved \"https://registry.yarnpkg.com/d3-selection/-/d3-selection-1.4.1.tgz#98eedbbe085fbda5bafa2f9e3f3a2f4d7d622a98\"\n  integrity sha512-BTIbRjv/m5rcVTfBs4AMBLKs4x8XaaLkwm28KWu9S2vKNqXkXt2AH2Qf0sdPZHjFxcWg/YL53zcqAz+3g4/7PA==\n\nd3-shape@1:\n  version \"1.3.7\"\n  resolved \"https://registry.yarnpkg.com/d3-shape/-/d3-shape-1.3.7.tgz#df63801be07bc986bc54f63789b4fe502992b5d7\"\n  integrity sha512-EUkvKjqPFUAZyOlhY5gzCxCeI0Aep04LwIRpsZ/mLFelJiUfnK56jo5JMDSE7yyP2kLSb6LtF+S5chMk7uqPqw==\n  dependencies:\n    d3-path \"1\"\n\nd3-time-format@2:\n  version \"2.2.3\"\n  resolved \"https://registry.yarnpkg.com/d3-time-format/-/d3-time-format-2.2.3.tgz#0c9a12ee28342b2037e5ea1cf0b9eb4dd75f29cb\"\n  integrity sha512-RAHNnD8+XvC4Zc4d2A56Uw0yJoM7bsvOlJR33bclxq399Rak/b9bhvu/InjxdWhPtkgU53JJcleJTGkNRnN6IA==\n  dependencies:\n    d3-time \"1\"\n\nd3-time@1:\n  version \"1.1.0\"\n  resolved \"https://registry.yarnpkg.com/d3-time/-/d3-time-1.1.0.tgz#b1e19d307dae9c900b7e5b25ffc5dcc249a8a0f1\"\n  integrity sha512-Xh0isrZ5rPYYdqhAVk8VLnMEidhz5aP7htAADH6MfzgmmicPkTo8LhkLxci61/lCB7n7UmE3bN0leRt+qvkLxA==\n\nd3-timer@1:\n  version \"1.0.10\"\n  resolved \"https://registry.yarnpkg.com/d3-timer/-/d3-timer-1.0.10.tgz#dfe76b8a91748831b13b6d9c793ffbd508dd9de5\"\n  integrity sha512-B1JDm0XDaQC+uvo4DT79H0XmBskgS3l6Ve+1SBCfxgmtIb1AVrPIoqd+nPSv+loMX8szQ0sVUhGngL7D5QPiXw==\n\nd3-transition@1:\n  version \"1.3.2\"\n  resolved \"https://registry.yarnpkg.com/d3-transition/-/d3-transition-1.3.2.tgz#a98ef2151be8d8600543434c1ca80140ae23b398\"\n  integrity sha512-sc0gRU4PFqZ47lPVHloMn9tlPcv8jxgOQg+0zjhfZXMQuvppjG6YuwdMBE0TuqCZjeJkLecku/l9R0JPcRhaDA==\n  dependencies:\n    d3-color \"1\"\n    d3-dispatch \"1\"\n    d3-ease \"1\"\n    d3-interpolate \"1\"\n    d3-selection \"^1.1.0\"\n    d3-timer \"1\"\n\nd3-voronoi@1:\n  version \"1.1.4\"\n  resolved \"https://registry.yarnpkg.com/d3-voronoi/-/d3-voronoi-1.1.4.tgz#dd3c78d7653d2bb359284ae478645d95944c8297\"\n  integrity sha512-dArJ32hchFsrQ8uMiTBLq256MpnZjeuBtdHpaDlYuQyjU0CVzCJl/BVW+SkszaAeH95D/8gxqAhgx0ouAWAfRg==\n\nd3-zoom@1:\n  version \"1.8.3\"\n  resolved \"https://registry.yarnpkg.com/d3-zoom/-/d3-zoom-1.8.3.tgz#b6a3dbe738c7763121cd05b8a7795ffe17f4fc0a\"\n  integrity sha512-VoLXTK4wvy1a0JpH2Il+F2CiOhVu7VRXWF5M/LroMIh3/zBAC3WAt7QoIvPibOavVo20hN6/37vwAsdBejLyKQ==\n  dependencies:\n    d3-dispatch \"1\"\n    d3-drag \"1\"\n    d3-interpolate \"1\"\n    d3-selection \"1\"\n    d3-transition \"1\"\n\nd3@^5.8.0:\n  version \"5.16.0\"\n  resolved \"https://registry.yarnpkg.com/d3/-/d3-5.16.0.tgz#9c5e8d3b56403c79d4ed42fbd62f6113f199c877\"\n  integrity sha512-4PL5hHaHwX4m7Zr1UapXW23apo6pexCgdetdJ5kTmADpG/7T9Gkxw0M0tf/pjoB63ezCCm0u5UaFYy2aMt0Mcw==\n  dependencies:\n    d3-array \"1\"\n    d3-axis \"1\"\n    d3-brush \"1\"\n    d3-chord \"1\"\n    d3-collection \"1\"\n    d3-color \"1\"\n    d3-contour \"1\"\n    d3-dispatch \"1\"\n    d3-drag \"1\"\n    d3-dsv \"1\"\n    d3-ease \"1\"\n    d3-fetch \"1\"\n    d3-force \"1\"\n    d3-format \"1\"\n    d3-geo \"1\"\n    d3-hierarchy \"1\"\n    d3-interpolate \"1\"\n    d3-path \"1\"\n    d3-polygon \"1\"\n    d3-quadtree \"1\"\n    d3-random \"1\"\n    d3-scale \"2\"\n    d3-scale-chromatic \"1\"\n    d3-selection \"1\"\n    d3-shape \"1\"\n    d3-time \"1\"\n    d3-time-format \"2\"\n    d3-timer \"1\"\n    d3-transition \"1\"\n    d3-voronoi \"1\"\n    d3-zoom \"1\"\n\ndash-ast@^1.0.0:\n  version \"1.0.0\"\n  resolved \"https://registry.yarnpkg.com/dash-ast/-/dash-ast-1.0.0.tgz#12029ba5fb2f8aa6f0a861795b23c1b4b6c27d37\"\n  integrity sha512-Vy4dx7gquTeMcQR/hDkYLGUnwVil6vk4FOOct+djUnHOUWt+zJPJAaRIXaAFkPXtJjvlY7o3rfRu0/3hpnwoUA==\n\ndate-format@^4.0.3:\n  version \"4.0.3\"\n  resolved \"https://registry.yarnpkg.com/date-format/-/date-format-4.0.3.tgz#f63de5dc08dc02efd8ef32bf2a6918e486f35873\"\n  integrity sha512-7P3FyqDcfeznLZp2b+OMitV9Sz2lUnsT87WaTat9nVwqsBkTzPG3lPLNwW3en6F4pHUiWzr6vb8CLhjdK9bcxQ==\n\ndate-now@^0.1.4:\n  version \"0.1.4\"\n  resolved \"https://registry.yarnpkg.com/date-now/-/date-now-0.1.4.tgz#eaf439fd4d4848ad74e5cc7dbef200672b9e345b\"\n  integrity sha1-6vQ5/U1ISK105cx9vvIAZyueNFs=\n\ndebug@2.6.9, debug@^2.2.0, debug@^2.3.3:\n  version \"2.6.9\"\n  resolved \"https://registry.yarnpkg.com/debug/-/debug-2.6.9.tgz#5d128515df134ff327e90a4c93f4e077a536341f\"\n  integrity sha512-bC7ElrdJaJnPbAP+1EotYvqZsb3ecl5wi6Bfi6BJTUcNowp6cvspg0jXznRTKDjm/E7AdgFBVeAPVMNcKGsHMA==\n  dependencies:\n    ms \"2.0.0\"\n\ndebug@4, debug@^4.1.0, debug@^4.1.1, debug@^4.3.3, debug@~4.3.1, debug@~4.3.2:\n  version \"4.3.4\"\n  resolved \"https://registry.yarnpkg.com/debug/-/debug-4.3.4.tgz#1319f6579357f2338d3337d2cdd4914bb5dcc865\"\n  integrity sha512-PRWFHuSU3eDtQJPvnNY7Jcket1j0t5OuOsFzPPzsekD52Zl8qUfFIPEiswXqIvHWGVHOgX+7G/vCNNhehwxfkQ==\n  dependencies:\n    ms \"2.1.2\"\n\ndebug@^3.2.6:\n  version \"3.2.6\"\n  resolved \"https://registry.yarnpkg.com/debug/-/debug-3.2.6.tgz#e83d17de16d8a7efb7717edbe5fb10135eee629b\"\n  integrity sha512-mel+jf7nrtEl5Pn1Qx46zARXKDpBbvzezse7p7LqINmdoIk8PYP5SySaxEmYv6TZ0JyEKA1hsCId6DIhgITtWQ==\n  dependencies:\n    ms \"^2.1.1\"\n\ndebug@~4.3.4:\n  version \"4.3.5\"\n  resolved \"https://registry.yarnpkg.com/debug/-/debug-4.3.5.tgz#e83444eceb9fedd4a1da56d671ae2446a01a6e1e\"\n  integrity sha512-pt0bNEmneDIvdL1Xsd9oDQ/wrQRkXDT4AUWlNZNPKvW5x/jyO9VFXkJUP07vQ2upmw5PlaITaPKc31jK13V+jg==\n  dependencies:\n    ms \"2.1.2\"\n\ndecode-uri-component@^0.2.0:\n  version \"0.2.2\"\n  resolved \"https://registry.yarnpkg.com/decode-uri-component/-/decode-uri-component-0.2.2.tgz#e69dbe25d37941171dd540e024c444cd5188e1e9\"\n  integrity sha512-FqUYQ+8o158GyGTrMFJms9qh3CqTKvAqgqsTnkLI8sKu0028orqBhxNMFkFen0zGyg6epACD32pjVk58ngIErQ==\n\ndecompress-response@^3.3.0:\n  version \"3.3.0\"\n  resolved \"https://registry.yarnpkg.com/decompress-response/-/decompress-response-3.3.0.tgz#80a4dd323748384bfa248083622aedec982adff3\"\n  integrity sha1-gKTdMjdIOEv6JICDYirt7Jgq3/M=\n  dependencies:\n    mimic-response \"^1.0.0\"\n\ndeep-extend@^0.6.0:\n  version \"0.6.0\"\n  resolved \"https://registry.yarnpkg.com/deep-extend/-/deep-extend-0.6.0.tgz#c4fa7c95404a17a9c3e8ca7e1537312b736330ac\"\n  integrity sha512-LOHxIOaPYdHlJRtCQfDIVZtfw/ufM8+rVj649RIHzcm/vGwQRXFt6OPqIFWsm2XEMrNIEtWR64sY1LEKD2vAOA==\n\ndefaults@^1.0.3:\n  version \"1.0.3\"\n  resolved \"https://registry.yarnpkg.com/defaults/-/defaults-1.0.3.tgz#c656051e9817d9ff08ed881477f3fe4019f3ef7d\"\n  integrity sha1-xlYFHpgX2f8I7YgUd/P+QBnz730=\n  dependencies:\n    clone \"^1.0.2\"\n\ndefer-to-connect@^1.0.1:\n  version \"1.1.3\"\n  resolved \"https://registry.yarnpkg.com/defer-to-connect/-/defer-to-connect-1.1.3.tgz#331ae050c08dcf789f8c83a7b81f0ed94f4ac591\"\n  integrity sha512-0ISdNousHvZT2EiFlZeZAHBUvSxmKswVCEf8hW7KWgG4a8MVEu/3Vb6uWYozkjylyCxe0JBIiRB1jV45S70WVQ==\n\ndefine-data-property@^1.1.4:\n  version \"1.1.4\"\n  resolved \"https://registry.yarnpkg.com/define-data-property/-/define-data-property-1.1.4.tgz#894dc141bb7d3060ae4366f6a0107e68fbe48c5e\"\n  integrity sha512-rBMvIzlpA8v6E+SJZoo++HAYqsLrkg7MSfIinMPFhmkorw7X+dOXVJQs+QT69zGkzMyfDnIMN2Wid1+NbL3T+A==\n  dependencies:\n    es-define-property \"^1.0.0\"\n    es-errors \"^1.3.0\"\n    gopd \"^1.0.1\"\n\ndefine-properties@^1.1.2, define-properties@^1.1.3:\n  version \"1.1.3\"\n  resolved \"https://registry.yarnpkg.com/define-properties/-/define-properties-1.1.3.tgz#cf88da6cbee26fe6db7094f61d870cbd84cee9f1\"\n  integrity sha512-3MqfYKj2lLzdMSf8ZIZE/V+Zuy+BgD6f164e8K2w7dgnpKArBDerGYpM46IYYcjnkdPNMjPk9A6VFB8+3SKlXQ==\n  dependencies:\n    object-keys \"^1.0.12\"\n\ndefine-property@^0.2.5:\n  version \"0.2.5\"\n  resolved \"https://registry.yarnpkg.com/define-property/-/define-property-0.2.5.tgz#c35b1ef918ec3c990f9a5bc57be04aacec5c8116\"\n  integrity sha1-w1se+RjsPJkPmlvFe+BKrOxcgRY=\n  dependencies:\n    is-descriptor \"^0.1.0\"\n\ndefine-property@^1.0.0:\n  version \"1.0.0\"\n  resolved \"https://registry.yarnpkg.com/define-property/-/define-property-1.0.0.tgz#769ebaaf3f4a63aad3af9e8d304c9bbe79bfb0e6\"\n  integrity sha1-dp66rz9KY6rTr56NMEybvnm/sOY=\n  dependencies:\n    is-descriptor \"^1.0.0\"\n\ndefine-property@^2.0.2:\n  version \"2.0.2\"\n  resolved \"https://registry.yarnpkg.com/define-property/-/define-property-2.0.2.tgz#d459689e8d654ba77e02a817f8710d702cb16e9d\"\n  integrity sha512-jwK2UV4cnPpbcG7+VRARKTZPUWowwXA8bzH5NP6ud0oeAxyYPuGZUAC7hMugpCdz4BeSZl2Dl9k66CHJ/46ZYQ==\n  dependencies:\n    is-descriptor \"^1.0.2\"\n    isobject \"^3.0.1\"\n\ndefined@^1.0.0:\n  version \"1.0.0\"\n  resolved \"https://registry.yarnpkg.com/defined/-/defined-1.0.0.tgz#c98d9bcef75674188e110969151199e39b1fa693\"\n  integrity sha1-yY2bzvdWdBiOEQlpFRGZ45sfppM=\n\ndepd@2.0.0:\n  version \"2.0.0\"\n  resolved \"https://registry.yarnpkg.com/depd/-/depd-2.0.0.tgz#b696163cc757560d09cf22cc8fad1571b79e76df\"\n  integrity sha512-g7nH6P6dyDioJogAAGprGpCtVImJhpPk/roCzdb3fIh61/s/nPsfR6onyMwkCAR/OlC3yBC0lESvUoQEAssIrw==\n\ndeps-sort@^2.0.0:\n  version \"2.0.1\"\n  resolved \"https://registry.yarnpkg.com/deps-sort/-/deps-sort-2.0.1.tgz#9dfdc876d2bcec3386b6829ac52162cda9fa208d\"\n  integrity sha512-1orqXQr5po+3KI6kQb9A4jnXT1PBwggGl2d7Sq2xsnOeI9GPcE/tGcF9UiSZtZBM7MukY4cAh7MemS6tZYipfw==\n  dependencies:\n    JSONStream \"^1.0.3\"\n    shasum-object \"^1.0.0\"\n    subarg \"^1.0.0\"\n    through2 \"^2.0.0\"\n\ndes.js@^1.0.0:\n  version \"1.0.1\"\n  resolved \"https://registry.yarnpkg.com/des.js/-/des.js-1.0.1.tgz#5382142e1bdc53f85d86d53e5f4aa7deb91e0843\"\n  integrity sha512-Q0I4pfFrv2VPd34/vfLrFOoRmlYj3OV50i7fskps1jZWK1kApMWWT9G6RRUeYedLcBDIhnSDaUvJMb3AhUlaEA==\n  dependencies:\n    inherits \"^2.0.1\"\n    minimalistic-assert \"^1.0.0\"\n\ndestroy@1.2.0:\n  version \"1.2.0\"\n  resolved \"https://registry.yarnpkg.com/destroy/-/destroy-1.2.0.tgz#4803735509ad8be552934c67df614f94e66fa015\"\n  integrity sha512-2sJGJTaXIIaR1w4iJSNoN0hnMY7Gpc/n8D4qSCJw8QqFWXf7cuAgnEHxBpweaVcPevC2l3KpjYCx3NypQQgaJg==\n\ndetective@^5.2.0:\n  version \"5.2.0\"\n  resolved \"https://registry.yarnpkg.com/detective/-/detective-5.2.0.tgz#feb2a77e85b904ecdea459ad897cc90a99bd2a7b\"\n  integrity sha512-6SsIx+nUUbuK0EthKjv0zrdnajCCXVYGmbYYiYjFVpzcjwEs/JMDZ8tPRG29J/HhN56t3GJp2cGSWDRjjot8Pg==\n  dependencies:\n    acorn-node \"^1.6.1\"\n    defined \"^1.0.0\"\n    minimist \"^1.1.1\"\n\ndi@^0.0.1:\n  version \"0.0.1\"\n  resolved \"https://registry.yarnpkg.com/di/-/di-0.0.1.tgz#806649326ceaa7caa3306d75d985ea2748ba913c\"\n  integrity sha1-gGZJMmzqp8qjMG112YXqJ0i6kTw=\n\ndiff@^4.0.1:\n  version \"4.0.2\"\n  resolved \"https://registry.yarnpkg.com/diff/-/diff-4.0.2.tgz#60f3aecb89d5fae520c11aa19efc2bb982aade7d\"\n  integrity sha512-58lmxKSA4BNyLz+HHMUzlOEpg09FV+ev6ZMe3vJihgdxzgcwZ8VoEEPmALCZG9LmqfVoNMMKpttIYTVG6uDY7A==\n\ndiffie-hellman@^5.0.0:\n  version \"5.0.3\"\n  resolved \"https://registry.yarnpkg.com/diffie-hellman/-/diffie-hellman-5.0.3.tgz#40e8ee98f55a2149607146921c63e1ae5f3d2875\"\n  integrity sha512-kqag/Nl+f3GwyK25fhUMYj81BUOrZ9IuJsjIcDE5icNM9FJHAVm3VcUDxdLPoQtTuUylWm6ZIknYJwwaPxsUzg==\n  dependencies:\n    bn.js \"^4.1.0\"\n    miller-rabin \"^4.0.0\"\n    randombytes \"^2.0.0\"\n\ndom-serialize@^2.2.1:\n  version \"2.2.1\"\n  resolved \"https://registry.yarnpkg.com/dom-serialize/-/dom-serialize-2.2.1.tgz#562ae8999f44be5ea3076f5419dcd59eb43ac95b\"\n  integrity sha1-ViromZ9Evl6jB29UGdzVnrQ6yVs=\n  dependencies:\n    custom-event \"~1.0.0\"\n    ent \"~2.2.0\"\n    extend \"^3.0.0\"\n    void-elements \"^2.0.0\"\n\ndom-serializer@0:\n  version \"0.2.2\"\n  resolved \"https://registry.yarnpkg.com/dom-serializer/-/dom-serializer-0.2.2.tgz#1afb81f533717175d478655debc5e332d9f9bb51\"\n  integrity sha512-2/xPb3ORsQ42nHYiSunXkDjPLBaEj/xTwUO4B7XCZQTRk7EBtTOPaygh10YAAh2OI1Qrp6NWfpAhzswj0ydt9g==\n  dependencies:\n    domelementtype \"^2.0.1\"\n    entities \"^2.0.0\"\n\ndomain-browser@^1.2.0:\n  version \"1.2.0\"\n  resolved \"https://registry.yarnpkg.com/domain-browser/-/domain-browser-1.2.0.tgz#3d31f50191a6749dd1375a7f522e823d42e54eda\"\n  integrity sha512-jnjyiM6eRyZl2H+W8Q/zLMA481hzi0eszAaBUzIVnmYVDBbnLxVNnfu1HgEBvCbL+71FrxMl3E6lpKH7Ge3OXA==\n\ndomain-browser@^4.0.0:\n  version \"4.6.0\"\n  resolved \"https://registry.yarnpkg.com/domain-browser/-/domain-browser-4.6.0.tgz#f61dd31507e44b8cc2cb012edaf32c7c06377dd2\"\n  integrity sha512-solVnUBCqwvori4KncIebL5e7LU3I979j0N6iPyv3wPs0Wx5h9CVtF9Od9LsqVC8fjtQmmSbfRbnq99hCeZo6w==\n\ndomelementtype@1:\n  version \"1.3.1\"\n  resolved \"https://registry.yarnpkg.com/domelementtype/-/domelementtype-1.3.1.tgz#d048c44b37b0d10a7f2a3d5fee3f4333d790481f\"\n  integrity sha512-BSKB+TSpMpFI/HOxCNr1O8aMOTZ8hT3pM3GQ0w/mWRmkhEDSFJkkyzz4XQsBV44BChwGkrDfMyjVD0eA2aFV3w==\n\ndomelementtype@^2.0.1:\n  version \"2.0.1\"\n  resolved \"https://registry.yarnpkg.com/domelementtype/-/domelementtype-2.0.1.tgz#1f8bdfe91f5a78063274e803b4bdcedf6e94f94d\"\n  integrity sha512-5HOHUDsYZWV8FGWN0Njbr/Rn7f/eWSQi1v7+HsUVwXgn8nWWlL64zKDkS0n8ZmQ3mlWOMuXOnR+7Nx/5tMO5AQ==\n\ndomhandler@2.3:\n  version \"2.3.0\"\n  resolved \"https://registry.yarnpkg.com/domhandler/-/domhandler-2.3.0.tgz#2de59a0822d5027fabff6f032c2b25a2a8abe738\"\n  integrity sha1-LeWaCCLVAn+r/28DLCsloqir5zg=\n  dependencies:\n    domelementtype \"1\"\n\ndomutils@1.5:\n  version \"1.5.1\"\n  resolved \"https://registry.yarnpkg.com/domutils/-/domutils-1.5.1.tgz#dcd8488a26f563d61079e48c9f7b7e32373682cf\"\n  integrity sha1-3NhIiib1Y9YQeeSMn3t+Mjc2gs8=\n  dependencies:\n    dom-serializer \"0\"\n    domelementtype \"1\"\n\ndot-prop@^5.2.0:\n  version \"5.2.0\"\n  resolved \"https://registry.yarnpkg.com/dot-prop/-/dot-prop-5.2.0.tgz#c34ecc29556dc45f1f4c22697b6f4904e0cc4fcb\"\n  integrity sha512-uEUyaDKoSQ1M4Oq8l45hSE26SnTxL6snNnqvK/VWx5wJhmff5z0FUVJDKDanor/6w3kzE3i7XZOk+7wC0EXr1A==\n  dependencies:\n    is-obj \"^2.0.0\"\n\nduplexer2@^0.1.2, duplexer2@~0.1.0, duplexer2@~0.1.2:\n  version \"0.1.4\"\n  resolved \"https://registry.yarnpkg.com/duplexer2/-/duplexer2-0.1.4.tgz#8b12dab878c0d69e3e7891051662a32fc6bddcc1\"\n  integrity sha1-ixLauHjA1p4+eJEFFmKjL8a93ME=\n  dependencies:\n    readable-stream \"^2.0.2\"\n\nduplexer3@^0.1.4:\n  version \"0.1.4\"\n  resolved \"https://registry.yarnpkg.com/duplexer3/-/duplexer3-0.1.4.tgz#ee01dd1cac0ed3cbc7fdbea37dc0a8f1ce002ce2\"\n  integrity sha1-7gHdHKwO08vH/b6jfcCo8c4ALOI=\n\nee-first@1.1.1:\n  version \"1.1.1\"\n  resolved \"https://registry.yarnpkg.com/ee-first/-/ee-first-1.1.1.tgz#590c61156b0ae2f4f0255732a158b266bc56b21d\"\n  integrity sha1-WQxhFWsK4vTwJVcyoViyZrxWsh0=\n\nelliptic@^6.0.0, elliptic@^6.5.4:\n  version \"6.6.0\"\n  resolved \"https://registry.yarnpkg.com/elliptic/-/elliptic-6.6.0.tgz#5919ec723286c1edf28685aa89261d4761afa210\"\n  integrity sha512-dpwoQcLc/2WLQvJvLRHKZ+f9FgOdjnq11rurqwekGQygGPsYSK29OMMD2WalatiqQ+XGFDglTNixpPfI+lpaAA==\n  dependencies:\n    bn.js \"^4.11.9\"\n    brorand \"^1.1.0\"\n    hash.js \"^1.0.0\"\n    hmac-drbg \"^1.0.1\"\n    inherits \"^2.0.4\"\n    minimalistic-assert \"^1.0.1\"\n    minimalistic-crypto-utils \"^1.0.1\"\n\nemail-addresses@^5.0.0:\n  version \"5.0.0\"\n  resolved \"https://registry.yarnpkg.com/email-addresses/-/email-addresses-5.0.0.tgz#7ae9e7f58eef7d5e3e2c2c2d3ea49b78dc854fa6\"\n  integrity sha512-4OIPYlA6JXqtVn8zpHpGiI7vE6EQOAg16aGnDMIAlZVinnoZ8208tW1hAbjWydgN/4PLTT9q+O1K6AH/vALJGw==\n\nemoji-regex@^7.0.1:\n  version \"7.0.3\"\n  resolved \"https://registry.yarnpkg.com/emoji-regex/-/emoji-regex-7.0.3.tgz#933a04052860c85e83c122479c4748a8e4c72156\"\n  integrity sha512-CwBLREIQ7LvYFB0WyRvwhq5N5qPhc6PMjD6bYggFlI5YyDgl+0vxq5VHbMOFqLg7hfWzmu8T5Z1QofhmTIhItA==\n\nemoji-regex@^8.0.0:\n  version \"8.0.0\"\n  resolved \"https://registry.yarnpkg.com/emoji-regex/-/emoji-regex-8.0.0.tgz#e818fd69ce5ccfcb404594f842963bf53164cc37\"\n  integrity sha512-MSjYzcWNOA0ewAHpz0MxpYFvwg6yjy1NG3xteoqz644VCo/RPgnr1/GGt+ic3iJTzQ8Eu3TdM14SawnVUmGE6A==\n\nencodeurl@~1.0.2:\n  version \"1.0.2\"\n  resolved \"https://registry.yarnpkg.com/encodeurl/-/encodeurl-1.0.2.tgz#ad3ff4c86ec2d029322f5a02c3a9a606c95b3f59\"\n  integrity sha1-rT/0yG7C0CkyL1oCw6mmBslbP1k=\n\nencoding@^0.1.11:\n  version \"0.1.12\"\n  resolved \"https://registry.yarnpkg.com/encoding/-/encoding-0.1.12.tgz#538b66f3ee62cd1ab51ec323829d1f9480c74beb\"\n  integrity sha1-U4tm8+5izRq1HsMjgp0flIDHS+s=\n  dependencies:\n    iconv-lite \"~0.4.13\"\n\nend-of-stream@^1.1.0:\n  version \"1.4.4\"\n  resolved \"https://registry.yarnpkg.com/end-of-stream/-/end-of-stream-1.4.4.tgz#5ae64a5f45057baf3626ec14da0ca5e4b2431eb0\"\n  integrity sha512-+uw1inIHVPQoaVuHzRyXd21icM+cnt4CzD5rW+NC1wjOUSTOs+Te7FOv7AhN7vS9x/oIyhLP5PR1H+phQAHu5Q==\n  dependencies:\n    once \"^1.4.0\"\n\nengine.io-parser@~5.2.1:\n  version \"5.2.2\"\n  resolved \"https://registry.yarnpkg.com/engine.io-parser/-/engine.io-parser-5.2.2.tgz#37b48e2d23116919a3453738c5720455e64e1c49\"\n  integrity sha512-RcyUFKA93/CXH20l4SoVvzZfrSDMOTUS3bWVpTt2FuFP+XYrL8i8oonHP7WInRyVHXh0n/ORtoeiE1os+8qkSw==\n\nengine.io@~6.5.2:\n  version \"6.5.5\"\n  resolved \"https://registry.yarnpkg.com/engine.io/-/engine.io-6.5.5.tgz#430b80d8840caab91a50e9e23cb551455195fc93\"\n  integrity sha512-C5Pn8Wk+1vKBoHghJODM63yk8MvrO9EWZUfkAt5HAqIgPE4/8FF0PEGHXtEd40l223+cE5ABWuPzm38PHFXfMA==\n  dependencies:\n    \"@types/cookie\" \"^0.4.1\"\n    \"@types/cors\" \"^2.8.12\"\n    \"@types/node\" \">=10.0.0\"\n    accepts \"~1.3.4\"\n    base64id \"2.0.0\"\n    cookie \"~0.4.1\"\n    cors \"~2.8.5\"\n    debug \"~4.3.1\"\n    engine.io-parser \"~5.2.1\"\n    ws \"~8.17.1\"\n\nent@~2.2.0:\n  version \"2.2.0\"\n  resolved \"https://registry.yarnpkg.com/ent/-/ent-2.2.0.tgz#e964219325a21d05f44466a2f686ed6ce5f5dd1d\"\n  integrity sha1-6WQhkyWiHQX0RGai9obtbOX13R0=\n\nentities@1.0:\n  version \"1.0.0\"\n  resolved \"https://registry.yarnpkg.com/entities/-/entities-1.0.0.tgz#b2987aa3821347fcde642b24fdfc9e4fb712bf26\"\n  integrity sha1-sph6o4ITR/zeZCsk/fyeT7cSvyY=\n\nentities@^2.0.0:\n  version \"2.0.3\"\n  resolved \"https://registry.yarnpkg.com/entities/-/entities-2.0.3.tgz#5c487e5742ab93c15abb5da22759b8590ec03b7f\"\n  integrity sha512-MyoZ0jgnLvB2X3Lg5HqpFmn1kybDiIfEQmKzTb5apr51Rb+T3KdmMiqa70T+bhGnyv7bQ6WMj2QMHpGMmlrUYQ==\n\nerror-ex@^1.3.1:\n  version \"1.3.2\"\n  resolved \"https://registry.yarnpkg.com/error-ex/-/error-ex-1.3.2.tgz#b4ac40648107fdcdcfae242f428bea8a14d4f1bf\"\n  integrity sha512-7dFHNmqeFSEt2ZBsCriorKnn3Z2pj+fd9kmI6QoWw4//DL+icEBfc0U7qJCisqrTsKTjw4fNFy2pW9OqStD84g==\n  dependencies:\n    is-arrayish \"^0.2.1\"\n\nes-abstract@^1.17.0-next.1, es-abstract@^1.17.4, es-abstract@^1.17.5:\n  version \"1.17.6\"\n  resolved \"https://registry.yarnpkg.com/es-abstract/-/es-abstract-1.17.6.tgz#9142071707857b2cacc7b89ecb670316c3e2d52a\"\n  integrity sha512-Fr89bON3WFyUi5EvAeI48QTWX0AyekGgLA8H+c+7fbfCkJwRWRMLd8CQedNEyJuoYYhmtEqY92pgte1FAhBlhw==\n  dependencies:\n    es-to-primitive \"^1.2.1\"\n    function-bind \"^1.1.1\"\n    has \"^1.0.3\"\n    has-symbols \"^1.0.1\"\n    is-callable \"^1.2.0\"\n    is-regex \"^1.1.0\"\n    object-inspect \"^1.7.0\"\n    object-keys \"^1.1.1\"\n    object.assign \"^4.1.0\"\n    string.prototype.trimend \"^1.0.1\"\n    string.prototype.trimstart \"^1.0.1\"\n\nes-define-property@^1.0.0:\n  version \"1.0.0\"\n  resolved \"https://registry.yarnpkg.com/es-define-property/-/es-define-property-1.0.0.tgz#c7faefbdff8b2696cf5f46921edfb77cc4ba3845\"\n  integrity sha512-jxayLKShrEqqzJ0eumQbVhTYQM27CfT1T35+gCgDFoL82JLsXqTJ76zv6A0YLOgEnLUMvLzsDsGIrl8NFpT2gQ==\n  dependencies:\n    get-intrinsic \"^1.2.4\"\n\nes-errors@^1.3.0:\n  version \"1.3.0\"\n  resolved \"https://registry.yarnpkg.com/es-errors/-/es-errors-1.3.0.tgz#05f75a25dab98e4fb1dcd5e1472c0546d5057c8f\"\n  integrity sha512-Zf5H2Kxt2xjTvbJvP2ZWLEICxA6j+hAmMzIlypy4xcBg1vKVnx89Wy0GbS+kf5cwCVFFzdCFh2XSCFNULS6csw==\n\nes-to-primitive@^1.2.1:\n  version \"1.2.1\"\n  resolved \"https://registry.yarnpkg.com/es-to-primitive/-/es-to-primitive-1.2.1.tgz#e55cd4c9cdc188bcefb03b366c736323fc5c898a\"\n  integrity sha512-QCOllgZJtaUo9miYBcLChTUaHNjJF3PYs1VidD7AwiEj1kYxKeQTctLAezAOH5ZKRH0g2IgPn6KwB4IT8iRpvA==\n  dependencies:\n    is-callable \"^1.1.4\"\n    is-date-object \"^1.0.1\"\n    is-symbol \"^1.0.2\"\n\nes6-object-assign@^1.1.0:\n  version \"1.1.0\"\n  resolved \"https://registry.yarnpkg.com/es6-object-assign/-/es6-object-assign-1.1.0.tgz#c2c3582656247c39ea107cb1e6652b6f9f24523c\"\n  integrity sha1-wsNYJlYkfDnqEHyx5mUrb58kUjw=\n\nescalade@^3.1.1:\n  version \"3.1.1\"\n  resolved \"https://registry.yarnpkg.com/escalade/-/escalade-3.1.1.tgz#d8cfdc7000965c5a0174b4a82eaa5c0552742e40\"\n  integrity sha512-k0er2gUkLf8O0zKJiAhmkTnJlTvINGv7ygDNPbeIsX/TJjGJZHuh9B2UxbsaEkmlEo9MfhrSzmhIlhRlI2GXnw==\n\nescape-goat@^2.0.0:\n  version \"2.1.1\"\n  resolved \"https://registry.yarnpkg.com/escape-goat/-/escape-goat-2.1.1.tgz#1b2dc77003676c457ec760b2dc68edb648188675\"\n  integrity sha512-8/uIhbG12Csjy2JEW7D9pHbreaVaS/OpN3ycnyvElTdwM5n6GY6W6e2IPemfvGZeUMqZ9A/3GqIZMgKnBhAw/Q==\n\nescape-html@~1.0.3:\n  version \"1.0.3\"\n  resolved \"https://registry.yarnpkg.com/escape-html/-/escape-html-1.0.3.tgz#0258eae4d3d0c0974de1c169188ef0051d1d1988\"\n  integrity sha1-Aljq5NPQwJdN4cFpGI7wBR0dGYg=\n\nescape-string-regexp@^1.0.2, escape-string-regexp@^1.0.5:\n  version \"1.0.5\"\n  resolved \"https://registry.yarnpkg.com/escape-string-regexp/-/escape-string-regexp-1.0.5.tgz#1b61c0562190a8dff6ae3bb2cf0200ca130b86d4\"\n  integrity sha1-G2HAViGQqN/2rjuyzwIAyhMLhtQ=\n\nesprima@^4.0.0:\n  version \"4.0.1\"\n  resolved \"https://registry.yarnpkg.com/esprima/-/esprima-4.0.1.tgz#13b04cdb3e6c5d19df91ab6987a8695619b0aa71\"\n  integrity sha512-eGuFFw7Upda+g4p+QHvnW0RyTX/SVeJBDM/gCtMARO0cLuT2HcEKnTPvhjV6aGeqrCB/sbNop0Kszm0jsaWU4A==\n\nestree-walker@^1.0.1:\n  version \"1.0.1\"\n  resolved \"https://registry.yarnpkg.com/estree-walker/-/estree-walker-1.0.1.tgz#31bc5d612c96b704106b477e6dd5d8aa138cb700\"\n  integrity sha512-1fMXF3YP4pZZVozF8j/ZLfvnR8NSIljt56UhbZ5PeeDmmGHpgpdwQt7ITlGvYaQukCvuBRMLEiKiYC+oeIg4cg==\n\neventemitter3@^4.0.0:\n  version \"4.0.4\"\n  resolved \"https://registry.yarnpkg.com/eventemitter3/-/eventemitter3-4.0.4.tgz#b5463ace635a083d018bdc7c917b4c5f10a85384\"\n  integrity sha512-rlaVLnVxtxvoyLsQQFBx53YmXHDxRIzzTLbdfxqi4yocpSjAxXwkU0cScM5JgSKMqEhrZpnvQ2D9gjylR0AimQ==\n\nevents@^2.0.0:\n  version \"2.1.0\"\n  resolved \"https://registry.yarnpkg.com/events/-/events-2.1.0.tgz#2a9a1e18e6106e0e812aa9ebd4a819b3c29c0ba5\"\n  integrity sha512-3Zmiobend8P9DjmKAty0Era4jV8oJ0yGYe2nJJAxgymF9+N8F2m0hhZiMoWtcfepExzNKZumFU3ksdQbInGWCg==\n\nevents@^3.0.0:\n  version \"3.1.0\"\n  resolved \"https://registry.yarnpkg.com/events/-/events-3.1.0.tgz#84279af1b34cb75aa88bf5ff291f6d0bd9b31a59\"\n  integrity sha512-Rv+u8MLHNOdMjTAFeT3nCjHn2aGlx435FP/sDHNaRhDEMwyI/aB22Kj2qIN8R0cw3z28psEQLYwxVKLsKrMgWg==\n\nevp_bytestokey@^1.0.0, evp_bytestokey@^1.0.3:\n  version \"1.0.3\"\n  resolved \"https://registry.yarnpkg.com/evp_bytestokey/-/evp_bytestokey-1.0.3.tgz#7fcbdb198dc71959432efe13842684e0525acb02\"\n  integrity sha512-/f2Go4TognH/KvCISP7OUsHn85hT9nUkxxA9BEWxFn+Oj9o8ZNLm/40hdlgSLyuOimsrTKLUMEorQexp/aPQeA==\n  dependencies:\n    md5.js \"^1.3.4\"\n    safe-buffer \"^5.1.1\"\n\nexit@0.1.2, exit@0.1.x:\n  version \"0.1.2\"\n  resolved \"https://registry.yarnpkg.com/exit/-/exit-0.1.2.tgz#0632638f8d877cc82107d30a0fff1a17cba1cd0c\"\n  integrity sha1-BjJjj42HfMghB9MKD/8aF8uhzQw=\n\nexpand-brackets@^2.1.4:\n  version \"2.1.4\"\n  resolved \"https://registry.yarnpkg.com/expand-brackets/-/expand-brackets-2.1.4.tgz#b77735e315ce30f6b6eff0f83b04151a22449622\"\n  integrity sha1-t3c14xXOMPa27/D4OwQVGiJEliI=\n  dependencies:\n    debug \"^2.3.3\"\n    define-property \"^0.2.5\"\n    extend-shallow \"^2.0.1\"\n    posix-character-classes \"^0.1.0\"\n    regex-not \"^1.0.0\"\n    snapdragon \"^0.8.1\"\n    to-regex \"^3.0.1\"\n\nextend-shallow@^2.0.1:\n  version \"2.0.1\"\n  resolved \"https://registry.yarnpkg.com/extend-shallow/-/extend-shallow-2.0.1.tgz#51af7d614ad9a9f610ea1bafbb989d6b1c56890f\"\n  integrity sha1-Ua99YUrZqfYQ6huvu5idaxxWiQ8=\n  dependencies:\n    is-extendable \"^0.1.0\"\n\nextend-shallow@^3.0.0, extend-shallow@^3.0.2:\n  version \"3.0.2\"\n  resolved \"https://registry.yarnpkg.com/extend-shallow/-/extend-shallow-3.0.2.tgz#26a71aaf073b39fb2127172746131c2704028db8\"\n  integrity sha1-Jqcarwc7OfshJxcnRhMcJwQCjbg=\n  dependencies:\n    assign-symbols \"^1.0.0\"\n    is-extendable \"^1.0.1\"\n\nextend@^3.0.0:\n  version \"3.0.2\"\n  resolved \"https://registry.yarnpkg.com/extend/-/extend-3.0.2.tgz#f8b1136b4071fbd8eb140aff858b1019ec2915fa\"\n  integrity sha512-fjquC59cD7CyW6urNXK0FBufkZcoiGG80wTuPujX590cB5Ttln20E2UB4S/WARVqhXffZl2LNgS+gQdPIIim/g==\n\nextglob@^2.0.4:\n  version \"2.0.4\"\n  resolved \"https://registry.yarnpkg.com/extglob/-/extglob-2.0.4.tgz#ad00fe4dc612a9232e8718711dc5cb5ab0285543\"\n  integrity sha512-Nmb6QXkELsuBr24CJSkilo6UHHgbekK5UiZgfE6UHD3Eb27YC6oD+bhcT+tJ6cl8dmsgdQxnWlcry8ksBIBLpw==\n  dependencies:\n    array-unique \"^0.3.2\"\n    define-property \"^1.0.0\"\n    expand-brackets \"^2.1.4\"\n    extend-shallow \"^2.0.1\"\n    fragment-cache \"^0.2.1\"\n    regex-not \"^1.0.0\"\n    snapdragon \"^0.8.1\"\n    to-regex \"^3.0.1\"\n\nfast-safe-stringify@^2.0.7:\n  version \"2.0.7\"\n  resolved \"https://registry.yarnpkg.com/fast-safe-stringify/-/fast-safe-stringify-2.0.7.tgz#124aa885899261f68aedb42a7c080de9da608743\"\n  integrity sha512-Utm6CdzT+6xsDk2m8S6uL8VHxNwI6Jub+e9NYTcAms28T84pTa25GJQV9j0CY0N1rM8hK4x6grpF2BQf+2qwVA==\n\nfetch-vcr@^1.1.0:\n  version \"1.1.2\"\n  resolved \"https://registry.yarnpkg.com/fetch-vcr/-/fetch-vcr-1.1.2.tgz#8cfee49c45b464366b97fe550487dde15b948d21\"\n  integrity sha512-bFOx3+5YtViximcqhG05tqMlsyPRXNOmiToDCf6TyVUCKHYP/vGPmn0HUhGVNd1jI0KpElwz+RH3X/ZQo0Asfg==\n  dependencies:\n    node-fetch \"^1.6.3\"\n    whatwg-fetch \"^2.0.3\"\n\nfile-uri-to-path@1.0.0:\n  version \"1.0.0\"\n  resolved \"https://registry.yarnpkg.com/file-uri-to-path/-/file-uri-to-path-1.0.0.tgz#553a7b8446ff6f684359c445f1e37a05dacc33dd\"\n  integrity sha512-0Zt+s3L7Vf1biwWZ29aARiVYLx7iMGnEUl9x33fbB/j3jR81u/O2LbqK+Bm1CDSNDKVtJ/YjwY7TUd5SkeLQLw==\n\nfilename-reserved-regex@^2.0.0:\n  version \"2.0.0\"\n  resolved \"https://registry.yarnpkg.com/filename-reserved-regex/-/filename-reserved-regex-2.0.0.tgz#abf73dfab735d045440abfea2d91f389ebbfa229\"\n  integrity sha512-lc1bnsSr4L4Bdif8Xb/qrtokGbq5zlsms/CYH8PP+WtCkGNF65DPiQY8vG3SakEdRn8Dlnm+gW/qWKKjS5sZzQ==\n\nfilenamify@^4.3.0:\n  version \"4.3.0\"\n  resolved \"https://registry.yarnpkg.com/filenamify/-/filenamify-4.3.0.tgz#62391cb58f02b09971c9d4f9d63b3cf9aba03106\"\n  integrity sha512-hcFKyUG57yWGAzu1CMt/dPzYZuv+jAJUT85bL8mrXvNe6hWj6yEHEc4EdcgiA6Z3oi1/9wXJdZPXF2dZNgwgOg==\n  dependencies:\n    filename-reserved-regex \"^2.0.0\"\n    strip-outer \"^1.0.1\"\n    trim-repeated \"^1.0.0\"\n\nfill-range@^4.0.0:\n  version \"4.0.0\"\n  resolved \"https://registry.yarnpkg.com/fill-range/-/fill-range-4.0.0.tgz#d544811d428f98eb06a63dc402d2403c328c38f7\"\n  integrity sha1-1USBHUKPmOsGpj3EAtJAPDKMOPc=\n  dependencies:\n    extend-shallow \"^2.0.1\"\n    is-number \"^3.0.0\"\n    repeat-string \"^1.6.1\"\n    to-regex-range \"^2.1.0\"\n\nfill-range@^7.0.1:\n  version \"7.0.1\"\n  resolved \"https://registry.yarnpkg.com/fill-range/-/fill-range-7.0.1.tgz#1919a6a7c75fe38b2c7c77e5198535da9acdda40\"\n  integrity sha512-qOo9F+dMUmC2Lcb4BbVvnKJxTPjCm+RRpe4gDuGrzkL7mEVl/djYSu2OdQ2Pa302N4oqkSg9ir6jaLWJ2USVpQ==\n  dependencies:\n    to-regex-range \"^5.0.1\"\n\nfinalhandler@1.1.2:\n  version \"1.1.2\"\n  resolved \"https://registry.yarnpkg.com/finalhandler/-/finalhandler-1.1.2.tgz#b7e7d000ffd11938d0fdb053506f6ebabe9f587d\"\n  integrity sha512-aAWcW57uxVNrQZqFXjITpW3sIUQmHGG3qSb9mUah9MgMC4NeWhNOlNjXEYq3HjRAvL6arUviZGGJsBg6z0zsWA==\n  dependencies:\n    debug \"2.6.9\"\n    encodeurl \"~1.0.2\"\n    escape-html \"~1.0.3\"\n    on-finished \"~2.3.0\"\n    parseurl \"~1.3.3\"\n    statuses \"~1.5.0\"\n    unpipe \"~1.0.0\"\n\nfind-cache-dir@^3.3.1:\n  version \"3.3.1\"\n  resolved \"https://registry.yarnpkg.com/find-cache-dir/-/find-cache-dir-3.3.1.tgz#89b33fad4a4670daa94f855f7fbe31d6d84fe880\"\n  integrity sha512-t2GDMt3oGC/v+BMwzmllWDuJF/xcDtE5j/fCGbqDD7OLuJkj0cfh1YSA5VKPvwMeLFLNDBkwOKZ2X85jGLVftQ==\n  dependencies:\n    commondir \"^1.0.1\"\n    make-dir \"^3.0.2\"\n    pkg-dir \"^4.1.0\"\n\nfind-up@^4.0.0:\n  version \"4.1.0\"\n  resolved \"https://registry.yarnpkg.com/find-up/-/find-up-4.1.0.tgz#97afe7d6cdc0bc5928584b7c8d7b16e8a9aa5d19\"\n  integrity sha512-PpOwAdQ/YlXQ2vj8a3h8IipDuYRi3wceVQQGYWxNINccq40Anw7BlsEXCMbt1Zt+OLA6Fq9suIpIWD0OsnISlw==\n  dependencies:\n    locate-path \"^5.0.0\"\n    path-exists \"^4.0.0\"\n\nflatted@^3.2.4:\n  version \"3.2.5\"\n  resolved \"https://registry.yarnpkg.com/flatted/-/flatted-3.2.5.tgz#76c8584f4fc843db64702a6bd04ab7a8bd666da3\"\n  integrity sha512-WIWGi2L3DyTUvUrwRKgGi9TwxQMUEqPOPQBVi71R96jZXJdFskXEmf54BoZaS1kknGODoIGASGEzBUYdyMCBJg==\n\nfollow-redirects@^1.0.0:\n  version \"1.15.4\"\n  resolved \"https://registry.yarnpkg.com/follow-redirects/-/follow-redirects-1.15.4.tgz#cdc7d308bf6493126b17ea2191ea0ccf3e535adf\"\n  integrity sha512-Cr4D/5wlrb0z9dgERpUL3LrmPKVDsETIJhaCMeDfuFYcqa5bldGV6wBsAN6X/vxlXQtFBMrXdXxdL8CbDTGniw==\n\nfor-in@^1.0.2:\n  version \"1.0.2\"\n  resolved \"https://registry.yarnpkg.com/for-in/-/for-in-1.0.2.tgz#81068d295a8142ec0ac726c6e2200c30fb6d5e80\"\n  integrity sha1-gQaNKVqBQuwKxybG4iAMMPttXoA=\n\nforeach@^2.0.5:\n  version \"2.0.5\"\n  resolved \"https://registry.yarnpkg.com/foreach/-/foreach-2.0.5.tgz#0bee005018aeb260d0a3af3ae658dd0136ec1b99\"\n  integrity sha1-C+4AUBiusmDQo6865ljdATbsG5k=\n\nfragment-cache@^0.2.1:\n  version \"0.2.1\"\n  resolved \"https://registry.yarnpkg.com/fragment-cache/-/fragment-cache-0.2.1.tgz#4290fad27f13e89be7f33799c6bc5a0abfff0d19\"\n  integrity sha1-QpD60n8T6Jvn8zeZxrxaCr//DRk=\n  dependencies:\n    map-cache \"^0.2.2\"\n\nfs-extra@8.1.0, fs-extra@^8.1.0:\n  version \"8.1.0\"\n  resolved \"https://registry.yarnpkg.com/fs-extra/-/fs-extra-8.1.0.tgz#49d43c45a88cd9677668cb7be1b46efdb8d2e1c0\"\n  integrity sha512-yhlQgA6mnOJUKOsRUFsgJdQCvkKhcz8tlZG5HBQfReYZy46OwLcY+Zia0mtdHsOo9y/hP+CxMN0TU9QxoOtG4g==\n  dependencies:\n    graceful-fs \"^4.2.0\"\n    jsonfile \"^4.0.0\"\n    universalify \"^0.1.0\"\n\nfs-extra@^10.0.0:\n  version \"10.0.0\"\n  resolved \"https://registry.yarnpkg.com/fs-extra/-/fs-extra-10.0.0.tgz#9ff61b655dde53fb34a82df84bb214ce802e17c1\"\n  integrity sha512-C5owb14u9eJwizKGdchcDUQeFtlSHHthBk8pbX9Vc1PFZrLombudjDnNns88aYslCyF6IY5SUw3Roz6xShcEIQ==\n  dependencies:\n    graceful-fs \"^4.2.0\"\n    jsonfile \"^6.0.1\"\n    universalify \"^2.0.0\"\n\nfs.realpath@^1.0.0:\n  version \"1.0.0\"\n  resolved \"https://registry.yarnpkg.com/fs.realpath/-/fs.realpath-1.0.0.tgz#1504ad2523158caa40db4a2787cb01411994ea4f\"\n  integrity sha1-FQStJSMVjKpA20onh8sBQRmU6k8=\n\nfsevents@^1.2.7:\n  version \"1.2.13\"\n  resolved \"https://registry.yarnpkg.com/fsevents/-/fsevents-1.2.13.tgz#f325cb0455592428bcf11b383370ef70e3bfcc38\"\n  integrity sha512-oWb1Z6mkHIskLzEJ/XWX0srkpkTQ7vaopMQkyaEIoq0fmtFVxOthb8cCxeT+p3ynTdkk/RZwbgG4brR5BeWECw==\n  dependencies:\n    bindings \"^1.5.0\"\n    nan \"^2.12.1\"\n\nfsevents@~2.3.2:\n  version \"2.3.2\"\n  resolved \"https://registry.yarnpkg.com/fsevents/-/fsevents-2.3.2.tgz#8a526f78b8fdf4623b709e0b975c52c24c02fd1a\"\n  integrity sha512-xiqMQR4xAeHTuB9uWm+fFRcIOgKBMiOBP+eXiyT7jsgVCq1bkVygt00oASowB7EdtpOHaaPgKt812P9ab+DDKA==\n\nfunction-bind@^1.1.1:\n  version \"1.1.1\"\n  resolved \"https://registry.yarnpkg.com/function-bind/-/function-bind-1.1.1.tgz#a56899d3ea3c9bab874bb9773b7c5ede92f4895d\"\n  integrity sha512-yIovAzMX49sF8Yl58fSCWJ5svSLuaibPxXQJFLmBObTuCr0Mf1KiPopGM9NiFjiYBCbfaa2Fh6breQ6ANVTI0A==\n\nfunction-bind@^1.1.2:\n  version \"1.1.2\"\n  resolved \"https://registry.yarnpkg.com/function-bind/-/function-bind-1.1.2.tgz#2c02d864d97f3ea6c8830c464cbd11ab6eab7a1c\"\n  integrity sha512-7XHNxH7qX9xG5mIwxkhumTox/MIRNcOgDrxWsMt2pAr23WHp6MrRlN7FBSFpCpr+oVO0F744iUgR82nJMfG2SA==\n\ngensync@^1.0.0-beta.1:\n  version \"1.0.0-beta.1\"\n  resolved \"https://registry.yarnpkg.com/gensync/-/gensync-1.0.0-beta.1.tgz#58f4361ff987e5ff6e1e7a210827aa371eaac269\"\n  integrity sha512-r8EC6NO1sngH/zdD9fiRDLdcgnbayXah+mLgManTaIZJqEC1MZstmnox8KpnI2/fxQwrp5OpCOYWLp4rBl4Jcg==\n\nget-assigned-identifiers@^1.2.0:\n  version \"1.2.0\"\n  resolved \"https://registry.yarnpkg.com/get-assigned-identifiers/-/get-assigned-identifiers-1.2.0.tgz#6dbf411de648cbaf8d9169ebb0d2d576191e2ff1\"\n  integrity sha512-mBBwmeGTrxEMO4pMaaf/uUEFHnYtwr8FTe8Y/mer4rcV/bye0qGm6pw1bGZFGStxC5O76c5ZAVBGnqHmOaJpdQ==\n\nget-caller-file@^2.0.5:\n  version \"2.0.5\"\n  resolved \"https://registry.yarnpkg.com/get-caller-file/-/get-caller-file-2.0.5.tgz#4f94412a82db32f36e3b0b9741f8a97feb031f7e\"\n  integrity sha512-DyFP3BM/3YHTQOCUL/w0OZHR0lpKeGrxotcHWcqNEdnltqFwXVfhEBQ94eIo34AfQpo0rGki4cyIiftY06h2Fg==\n\nget-intrinsic@^1.1.3, get-intrinsic@^1.2.4:\n  version \"1.2.4\"\n  resolved \"https://registry.yarnpkg.com/get-intrinsic/-/get-intrinsic-1.2.4.tgz#e385f5a4b5227d449c3eabbad05494ef0abbeadd\"\n  integrity sha512-5uYhsJH8VJBTv7oslg4BznJYhDoRI6waYCxMmCdnTrcCrHA/fCFKoTFz2JKKE0HdDFUF7/oQuhzumXJK7paBRQ==\n  dependencies:\n    es-errors \"^1.3.0\"\n    function-bind \"^1.1.2\"\n    has-proto \"^1.0.1\"\n    has-symbols \"^1.0.3\"\n    hasown \"^2.0.0\"\n\nget-stream@^4.1.0:\n  version \"4.1.0\"\n  resolved \"https://registry.yarnpkg.com/get-stream/-/get-stream-4.1.0.tgz#c1b255575f3dc21d59bfc79cd3d2b46b1c3a54b5\"\n  integrity sha512-GMat4EJ5161kIy2HevLlr4luNjBgvmj413KaQA7jt4V8B4RDsfpHk7WQ9GVqfYyyx8OS/L66Kox+rJRNklLK7w==\n  dependencies:\n    pump \"^3.0.0\"\n\nget-stream@^5.1.0:\n  version \"5.1.0\"\n  resolved \"https://registry.yarnpkg.com/get-stream/-/get-stream-5.1.0.tgz#01203cdc92597f9b909067c3e656cc1f4d3c4dc9\"\n  integrity sha512-EXr1FOzrzTfGeL0gQdeFEvOMm2mzMOglyiOXSTpPC+iAjAKftbr3jpCMWynogwYnM+eSj9sHGc6wjIcDvYiygw==\n  dependencies:\n    pump \"^3.0.0\"\n\nget-value@^2.0.3, get-value@^2.0.6:\n  version \"2.0.6\"\n  resolved \"https://registry.yarnpkg.com/get-value/-/get-value-2.0.6.tgz#dc15ca1c672387ca76bd37ac0a395ba2042a2c28\"\n  integrity sha1-3BXKHGcjh8p2vTesCjlbogQqLCg=\n\ngh-pages@^5.0.0:\n  version \"5.0.0\"\n  resolved \"https://registry.yarnpkg.com/gh-pages/-/gh-pages-5.0.0.tgz#e0893272a0e33f0453e53a3c017c33b91ddd6394\"\n  integrity sha512-Nqp1SjkPIB94Xw/3yYNTUL+G2dxlhjvv1zeN/4kMC1jfViTEqhtVz/Ba1zSXHuvXCN9ADNS1dN4r5/J/nZWEQQ==\n  dependencies:\n    async \"^3.2.4\"\n    commander \"^2.18.0\"\n    email-addresses \"^5.0.0\"\n    filenamify \"^4.3.0\"\n    find-cache-dir \"^3.3.1\"\n    fs-extra \"^8.1.0\"\n    globby \"^6.1.0\"\n\nglob-parent@^3.1.0:\n  version \"3.1.0\"\n  resolved \"https://registry.yarnpkg.com/glob-parent/-/glob-parent-3.1.0.tgz#9e6af6299d8d3bd2bd40430832bd113df906c5ae\"\n  integrity sha1-nmr2KZ2NO9K9QEMIMr0RPfkGxa4=\n  dependencies:\n    is-glob \"^3.1.0\"\n    path-dirname \"^1.0.0\"\n\nglob-parent@~5.1.2:\n  version \"5.1.2\"\n  resolved \"https://registry.yarnpkg.com/glob-parent/-/glob-parent-5.1.2.tgz#869832c58034fe68a4093c17dc15e8340d8401c4\"\n  integrity sha512-AOIgSQCepiJYwP3ARnGx+5VnTu2HBYdzbGP45eLw1vr3zB3vZLeyed1sC9hnbcOc9/SrMyM5RPQrkGz4aS9Zow==\n  dependencies:\n    is-glob \"^4.0.1\"\n\nglob@7.x, glob@^7.0.3, glob@^7.1.0, glob@^7.1.1, glob@^7.1.3, glob@^7.1.6, glob@^7.1.7:\n  version \"7.2.0\"\n  resolved \"https://registry.yarnpkg.com/glob/-/glob-7.2.0.tgz#d15535af7732e02e948f4c41628bd910293f6023\"\n  integrity sha512-lmLf6gtyrPq8tTjSmrO94wBeQbFR3HbLHbuyD69wuyQkImp2hWqMGB47OX65FBkPffO641IP9jWa1z4ivqG26Q==\n  dependencies:\n    fs.realpath \"^1.0.0\"\n    inflight \"^1.0.4\"\n    inherits \"2\"\n    minimatch \"^3.0.4\"\n    once \"^1.3.0\"\n    path-is-absolute \"^1.0.0\"\n\nglobal-dirs@^2.0.1:\n  version \"2.0.1\"\n  resolved \"https://registry.yarnpkg.com/global-dirs/-/global-dirs-2.0.1.tgz#acdf3bb6685bcd55cb35e8a052266569e9469201\"\n  integrity sha512-5HqUqdhkEovj2Of/ms3IeS/EekcO54ytHRLV4PEY2rhRwrHXLQjeVEES0Lhka0xwNDtGYn58wyC4s5+MHsOO6A==\n  dependencies:\n    ini \"^1.3.5\"\n\nglobals@^11.1.0:\n  version \"11.12.0\"\n  resolved \"https://registry.yarnpkg.com/globals/-/globals-11.12.0.tgz#ab8795338868a0babd8525758018c2a7eb95c42e\"\n  integrity sha512-WOBp/EEGUiIsJSp7wcv/y6MO+lV9UoncWqxuFfm8eBwzWNgyfBd6Gz+IeKQ9jCmyhoH99g15M3T+QaVHFjizVA==\n\nglobby@^6.1.0:\n  version \"6.1.0\"\n  resolved \"https://registry.yarnpkg.com/globby/-/globby-6.1.0.tgz#f5a6d70e8395e21c858fb0489d64df02424d506c\"\n  integrity sha1-9abXDoOV4hyFj7BInWTfAkJNUGw=\n  dependencies:\n    array-union \"^1.0.1\"\n    glob \"^7.0.3\"\n    object-assign \"^4.0.1\"\n    pify \"^2.0.0\"\n    pinkie-promise \"^2.0.0\"\n\ngopd@^1.0.1:\n  version \"1.0.1\"\n  resolved \"https://registry.yarnpkg.com/gopd/-/gopd-1.0.1.tgz#29ff76de69dac7489b7c0918a5788e56477c332c\"\n  integrity sha512-d65bNlIadxvpb/A2abVdlqKqV563juRnZ1Wtk6s1sIR8uNsXR70xqIzVqxVf1eTqDunwT2MkczEeaezCKTZhwA==\n  dependencies:\n    get-intrinsic \"^1.1.3\"\n\ngot@^9.6.0:\n  version \"9.6.0\"\n  resolved \"https://registry.yarnpkg.com/got/-/got-9.6.0.tgz#edf45e7d67f99545705de1f7bbeeeb121765ed85\"\n  integrity sha512-R7eWptXuGYxwijs0eV+v3o6+XH1IqVK8dJOEecQfTmkncw9AV4dcw/Dhxi8MdlqPthxxpZyizMzyg8RTmEsG+Q==\n  dependencies:\n    \"@sindresorhus/is\" \"^0.14.0\"\n    \"@szmarczak/http-timer\" \"^1.1.2\"\n    cacheable-request \"^6.0.0\"\n    decompress-response \"^3.3.0\"\n    duplexer3 \"^0.1.4\"\n    get-stream \"^4.1.0\"\n    lowercase-keys \"^1.0.1\"\n    mimic-response \"^1.0.1\"\n    p-cancelable \"^1.0.0\"\n    to-readable-stream \"^1.0.0\"\n    url-parse-lax \"^3.0.0\"\n\ngraceful-fs@^4.1.11, graceful-fs@^4.1.2, graceful-fs@^4.1.6, graceful-fs@^4.2.0, graceful-fs@^4.2.6:\n  version \"4.2.9\"\n  resolved \"https://registry.yarnpkg.com/graceful-fs/-/graceful-fs-4.2.9.tgz#041b05df45755e587a24942279b9d113146e1c96\"\n  integrity sha512-NtNxqUcXgpW2iMrfqSfR73Glt39K+BLwWsPs94yR63v45T0Wbej7eRmL5cWfwEgqXnmjQp3zaJTshdRW/qC2ZQ==\n\nhas-ansi@^2.0.0:\n  version \"2.0.0\"\n  resolved \"https://registry.yarnpkg.com/has-ansi/-/has-ansi-2.0.0.tgz#34f5049ce1ecdf2b0649af3ef24e45ed35416d91\"\n  integrity sha1-NPUEnOHs3ysGSa8+8k5F7TVBbZE=\n  dependencies:\n    ansi-regex \"^2.0.0\"\n\nhas-flag@^3.0.0:\n  version \"3.0.0\"\n  resolved \"https://registry.yarnpkg.com/has-flag/-/has-flag-3.0.0.tgz#b5d454dc2199ae225699f3467e5a07f3b955bafd\"\n  integrity sha1-tdRU3CGZriJWmfNGfloH87lVuv0=\n\nhas-flag@^4.0.0:\n  version \"4.0.0\"\n  resolved \"https://registry.yarnpkg.com/has-flag/-/has-flag-4.0.0.tgz#944771fd9c81c81265c4d6941860da06bb59479b\"\n  integrity sha512-EykJT/Q1KjTWctppgIAgfSO0tKVuZUjhgMr17kqTumMl6Afv3EISleU7qZUzoXDFTAHTDC4NOoG/ZxU3EvlMPQ==\n\nhas-property-descriptors@^1.0.2:\n  version \"1.0.2\"\n  resolved \"https://registry.yarnpkg.com/has-property-descriptors/-/has-property-descriptors-1.0.2.tgz#963ed7d071dc7bf5f084c5bfbe0d1b6222586854\"\n  integrity sha512-55JNKuIW+vq4Ke1BjOTjM2YctQIvCT7GFzHwmfZPGo5wnrgkid0YQtnAleFSqumZm4az3n2BS+erby5ipJdgrg==\n  dependencies:\n    es-define-property \"^1.0.0\"\n\nhas-proto@^1.0.1:\n  version \"1.0.3\"\n  resolved \"https://registry.yarnpkg.com/has-proto/-/has-proto-1.0.3.tgz#b31ddfe9b0e6e9914536a6ab286426d0214f77fd\"\n  integrity sha512-SJ1amZAJUiZS+PhsVLf5tGydlaVB8EdFpaSO4gmiUKUOxk8qzn5AIy4ZeJUmh22znIdk/uMAUT2pl3FxzVUH+Q==\n\nhas-symbols@^1.0.0, has-symbols@^1.0.1:\n  version \"1.0.1\"\n  resolved \"https://registry.yarnpkg.com/has-symbols/-/has-symbols-1.0.1.tgz#9f5214758a44196c406d9bd76cebf81ec2dd31e8\"\n  integrity sha512-PLcsoqu++dmEIZB+6totNFKq/7Do+Z0u4oT0zKOJNl3lYK6vGwwu2hjHs+68OEZbTjiUE9bgOABXbP/GvrS0Kg==\n\nhas-symbols@^1.0.3:\n  version \"1.0.3\"\n  resolved \"https://registry.yarnpkg.com/has-symbols/-/has-symbols-1.0.3.tgz#bb7b2c4349251dce87b125f7bdf874aa7c8b39f8\"\n  integrity sha512-l3LCuF6MgDNwTDKkdYGEihYjt5pRPbEg46rtlmnSPlUbgmB8LOIrKJbYYFBSbnPaJexMKtiPO8hmeRjRz2Td+A==\n\nhas-value@^0.3.1:\n  version \"0.3.1\"\n  resolved \"https://registry.yarnpkg.com/has-value/-/has-value-0.3.1.tgz#7b1f58bada62ca827ec0a2078025654845995e1f\"\n  integrity sha1-ex9YutpiyoJ+wKIHgCVlSEWZXh8=\n  dependencies:\n    get-value \"^2.0.3\"\n    has-values \"^0.1.4\"\n    isobject \"^2.0.0\"\n\nhas-value@^1.0.0:\n  version \"1.0.0\"\n  resolved \"https://registry.yarnpkg.com/has-value/-/has-value-1.0.0.tgz#18b281da585b1c5c51def24c930ed29a0be6b177\"\n  integrity sha1-GLKB2lhbHFxR3vJMkw7SmgvmsXc=\n  dependencies:\n    get-value \"^2.0.6\"\n    has-values \"^1.0.0\"\n    isobject \"^3.0.0\"\n\nhas-values@^0.1.4:\n  version \"0.1.4\"\n  resolved \"https://registry.yarnpkg.com/has-values/-/has-values-0.1.4.tgz#6d61de95d91dfca9b9a02089ad384bff8f62b771\"\n  integrity sha1-bWHeldkd/Km5oCCJrThL/49it3E=\n\nhas-values@^1.0.0:\n  version \"1.0.0\"\n  resolved \"https://registry.yarnpkg.com/has-values/-/has-values-1.0.0.tgz#95b0b63fec2146619a6fe57fe75628d5a39efe4f\"\n  integrity sha1-lbC2P+whRmGab+V/51Yo1aOe/k8=\n  dependencies:\n    is-number \"^3.0.0\"\n    kind-of \"^4.0.0\"\n\nhas-yarn@^2.1.0:\n  version \"2.1.0\"\n  resolved \"https://registry.yarnpkg.com/has-yarn/-/has-yarn-2.1.0.tgz#137e11354a7b5bf11aa5cb649cf0c6f3ff2b2e77\"\n  integrity sha512-UqBRqi4ju7T+TqGNdqAO0PaSVGsDGJUBQvk9eUWNGRY1CFGDzYhLWoM7JQEemnlvVcv/YEmc2wNW8BC24EnUsw==\n\nhas@^1.0.0, has@^1.0.3:\n  version \"1.0.3\"\n  resolved \"https://registry.yarnpkg.com/has/-/has-1.0.3.tgz#722d7cbfc1f6aa8241f16dd814e011e1f41e8796\"\n  integrity sha512-f2dvO0VU6Oej7RkWJGrehjbzMAjFp5/VKPp5tTpWIV4JHHZK1/BxbFRtf/siA2SWTe09caDmVtYYzWEIbBS4zw==\n  dependencies:\n    function-bind \"^1.1.1\"\n\nhash-base@^3.0.0:\n  version \"3.1.0\"\n  resolved \"https://registry.yarnpkg.com/hash-base/-/hash-base-3.1.0.tgz#55c381d9e06e1d2997a883b4a3fddfe7f0d3af33\"\n  integrity sha512-1nmYp/rhMDiE7AYkDw+lLwlAzz0AntGIe51F3RfFfEqyQ3feY2eI/NcwC6umIQVOASPMsWJLJScWKSSvzL9IVA==\n  dependencies:\n    inherits \"^2.0.4\"\n    readable-stream \"^3.6.0\"\n    safe-buffer \"^5.2.0\"\n\nhash.js@^1.0.0, hash.js@^1.0.3:\n  version \"1.1.7\"\n  resolved \"https://registry.yarnpkg.com/hash.js/-/hash.js-1.1.7.tgz#0babca538e8d4ee4a0f8988d68866537a003cf42\"\n  integrity sha512-taOaskGt4z4SOANNseOviYDvjEJinIkRgmp7LbKP2YTTmVxWBl87s/uzK9r+44BclBSp2X7K1hqeNfz9JbBeXA==\n  dependencies:\n    inherits \"^2.0.3\"\n    minimalistic-assert \"^1.0.1\"\n\nhasown@^2.0.0:\n  version \"2.0.2\"\n  resolved \"https://registry.yarnpkg.com/hasown/-/hasown-2.0.2.tgz#003eaf91be7adc372e84ec59dc37252cedb80003\"\n  integrity sha512-0hJU9SCPvmMzIBdZFqNPXWa6dqh7WdH0cII9y+CyS8rG3nL48Bclra9HmKhVVUHyPWNH5Y7xDwAB7bfgSjkUMQ==\n  dependencies:\n    function-bind \"^1.1.2\"\n\nhmac-drbg@^1.0.1:\n  version \"1.0.1\"\n  resolved \"https://registry.yarnpkg.com/hmac-drbg/-/hmac-drbg-1.0.1.tgz#d2745701025a6c775a6c545793ed502fc0c649a1\"\n  integrity sha1-0nRXAQJabHdabFRXk+1QL8DGSaE=\n  dependencies:\n    hash.js \"^1.0.3\"\n    minimalistic-assert \"^1.0.0\"\n    minimalistic-crypto-utils \"^1.0.1\"\n\nhosted-git-info@^2.1.4:\n  version \"2.8.9\"\n  resolved \"https://registry.yarnpkg.com/hosted-git-info/-/hosted-git-info-2.8.9.tgz#dffc0bf9a21c02209090f2aa69429e1414daf3f9\"\n  integrity sha512-mxIDAb9Lsm6DoOJ7xH+5+X4y1LU/4Hi50L9C5sIswK3JzULS4bwk1FvjdBgvYR4bzT4tuUQiC15FE2f5HbLvYw==\n\nhtml-escaper@^2.0.0:\n  version \"2.0.2\"\n  resolved \"https://registry.yarnpkg.com/html-escaper/-/html-escaper-2.0.2.tgz#dfd60027da36a36dfcbe236262c00a5822681453\"\n  integrity sha512-H2iMtd0I4Mt5eYiapRdIDjp+XzelXQ0tFE4JS7YFwFevXXMmOp9myNrUvCg0D6ws8iqkRPBfKHgbwig1SmlLfg==\n\nhtmlescape@^1.1.0:\n  version \"1.1.1\"\n  resolved \"https://registry.yarnpkg.com/htmlescape/-/htmlescape-1.1.1.tgz#3a03edc2214bca3b66424a3e7959349509cb0351\"\n  integrity sha1-OgPtwiFLyjtmQko+eVk0lQnLA1E=\n\nhtmlparser2@3.8.x:\n  version \"3.8.3\"\n  resolved \"https://registry.yarnpkg.com/htmlparser2/-/htmlparser2-3.8.3.tgz#996c28b191516a8be86501a7d79757e5c70c1068\"\n  integrity sha1-mWwosZFRaovoZQGn15dX5ccMEGg=\n  dependencies:\n    domelementtype \"1\"\n    domhandler \"2.3\"\n    domutils \"1.5\"\n    entities \"1.0\"\n    readable-stream \"1.1\"\n\nhttp-cache-semantics@^4.0.0:\n  version \"4.1.1\"\n  resolved \"https://registry.yarnpkg.com/http-cache-semantics/-/http-cache-semantics-4.1.1.tgz#abe02fcb2985460bf0323be664436ec3476a6d5a\"\n  integrity sha512-er295DKPVsV82j5kw1Gjt+ADA/XYHsajl82cGNQG2eyoPkvgUhX+nDIyelzhIWbbsXP39EHcI6l5tYs2FYqYXQ==\n\nhttp-errors@2.0.0:\n  version \"2.0.0\"\n  resolved \"https://registry.yarnpkg.com/http-errors/-/http-errors-2.0.0.tgz#b7774a1486ef73cf7667ac9ae0858c012c57b9d3\"\n  integrity sha512-FtwrG/euBzaEjYeRqOgly7G0qviiXoJWnvEH2Z1plBdXgbyjv34pHTSb9zoeHMyDy33+DWy5Wt9Wo+TURtOYSQ==\n  dependencies:\n    depd \"2.0.0\"\n    inherits \"2.0.4\"\n    setprototypeof \"1.2.0\"\n    statuses \"2.0.1\"\n    toidentifier \"1.0.1\"\n\nhttp-proxy-agent@^4.0.0:\n  version \"4.0.1\"\n  resolved \"https://registry.yarnpkg.com/http-proxy-agent/-/http-proxy-agent-4.0.1.tgz#8a8c8ef7f5932ccf953c296ca8291b95aa74aa3a\"\n  integrity sha512-k0zdNgqWTGA6aeIRVpvfVob4fL52dTfaehylg0Y4UvSySvOq/Y+BOyPrgpUrA7HylqvU8vIZGsRuXmspskV0Tg==\n  dependencies:\n    \"@tootallnate/once\" \"1\"\n    agent-base \"6\"\n    debug \"4\"\n\nhttp-proxy@^1.18.1:\n  version \"1.18.1\"\n  resolved \"https://registry.yarnpkg.com/http-proxy/-/http-proxy-1.18.1.tgz#401541f0534884bbf95260334e72f88ee3976549\"\n  integrity sha512-7mz/721AbnJwIVbnaSv1Cz3Am0ZLT/UBwkC92VlxhXv/k/BBQfM2fXElQNC27BVGr0uwUpplYPQM9LnaBMR5NQ==\n  dependencies:\n    eventemitter3 \"^4.0.0\"\n    follow-redirects \"^1.0.0\"\n    requires-port \"^1.0.0\"\n\nhttps-browserify@^1.0.0:\n  version \"1.0.0\"\n  resolved \"https://registry.yarnpkg.com/https-browserify/-/https-browserify-1.0.0.tgz#ec06c10e0a34c0f2faf199f7fd7fc78fffd03c73\"\n  integrity sha1-7AbBDgo0wPL68Zn3/X/Hj//QPHM=\n\nhttps-proxy-agent@^4.0.0:\n  version \"4.0.0\"\n  resolved \"https://registry.yarnpkg.com/https-proxy-agent/-/https-proxy-agent-4.0.0.tgz#702b71fb5520a132a66de1f67541d9e62154d82b\"\n  integrity sha512-zoDhWrkR3of1l9QAL8/scJZyLu8j/gBkcwcaQOZh7Gyh/+uJQzGVETdgT30akuwkpL8HTRfssqI3BZuV18teDg==\n  dependencies:\n    agent-base \"5\"\n    debug \"4\"\n\niconv-lite@0.4, iconv-lite@0.4.24, iconv-lite@~0.4.13:\n  version \"0.4.24\"\n  resolved \"https://registry.yarnpkg.com/iconv-lite/-/iconv-lite-0.4.24.tgz#2022b4b25fbddc21d2f524974a474aafe733908b\"\n  integrity sha512-v3MXnZAcvnywkTUEZomIActle7RXXeedOR31wwl7VlyoXO4Qi9arvSenNQWne1TcRwhCL1HwLI21bEqdpj8/rA==\n  dependencies:\n    safer-buffer \">= 2.1.2 < 3\"\n\nieee754@^1.1.4:\n  version \"1.1.13\"\n  resolved \"https://registry.yarnpkg.com/ieee754/-/ieee754-1.1.13.tgz#ec168558e95aa181fd87d37f55c32bbcb6708b84\"\n  integrity sha512-4vf7I2LYV/HaWerSo3XmlMkp5eZ83i+/CDluXi/IGTs/O1sejBNhTtnxzmRZfvOUqj7lZjqHkeTvpgSFDlWZTg==\n\nignore-by-default@^1.0.1:\n  version \"1.0.1\"\n  resolved \"https://registry.yarnpkg.com/ignore-by-default/-/ignore-by-default-1.0.1.tgz#48ca6d72f6c6a3af00a9ad4ae6876be3889e2b09\"\n  integrity sha1-SMptcvbGo68Aqa1K5odr44ieKwk=\n\nignore-walk@3.0.3:\n  version \"3.0.3\"\n  resolved \"https://registry.yarnpkg.com/ignore-walk/-/ignore-walk-3.0.3.tgz#017e2447184bfeade7c238e4aefdd1e8f95b1e37\"\n  integrity sha512-m7o6xuOaT1aqheYHKf8W6J5pYH85ZI9w077erOzLje3JsB1gkafkAhHHY19dqjulgIZHFm32Cp5uNZgcQqdJKw==\n  dependencies:\n    minimatch \"^3.0.4\"\n\nimport-lazy@^2.1.0:\n  version \"2.1.0\"\n  resolved \"https://registry.yarnpkg.com/import-lazy/-/import-lazy-2.1.0.tgz#05698e3d45c88e8d7e9d92cb0584e77f096f3e43\"\n  integrity sha1-BWmOPUXIjo1+nZLLBYTnfwlvPkM=\n\nimurmurhash@^0.1.4:\n  version \"0.1.4\"\n  resolved \"https://registry.yarnpkg.com/imurmurhash/-/imurmurhash-0.1.4.tgz#9218b9b2b928a238b13dc4fb6b6d576f231453ea\"\n  integrity sha1-khi5srkoojixPcT7a21XbyMUU+o=\n\ninflight@^1.0.4:\n  version \"1.0.6\"\n  resolved \"https://registry.yarnpkg.com/inflight/-/inflight-1.0.6.tgz#49bd6331d7d02d0c09bc910a1075ba8165b56df9\"\n  integrity sha1-Sb1jMdfQLQwJvJEKEHW6gWW1bfk=\n  dependencies:\n    once \"^1.3.0\"\n    wrappy \"1\"\n\ninherits@2, inherits@2.0.4, inherits@^2.0.1, inherits@^2.0.3, inherits@^2.0.4, inherits@~2.0.1, inherits@~2.0.3:\n  version \"2.0.4\"\n  resolved \"https://registry.yarnpkg.com/inherits/-/inherits-2.0.4.tgz#0fa2c64f932917c3433a0ded55363aae37416b7c\"\n  integrity sha512-k/vGaX4/Yla3WzyMCvTQOXYeIHvqOKtnqBduzTHpzpQZzAskKMhZ2K+EnBiSM9zGSoIFeMpXKxa4dYeZIQqewQ==\n\ninherits@2.0.1:\n  version \"2.0.1\"\n  resolved \"https://registry.yarnpkg.com/inherits/-/inherits-2.0.1.tgz#b17d08d326b4423e568eff719f91b0b1cbdf69f1\"\n  integrity sha1-sX0I0ya0Qj5Wjv9xn5GwscvfafE=\n\ninherits@2.0.3:\n  version \"2.0.3\"\n  resolved \"https://registry.yarnpkg.com/inherits/-/inherits-2.0.3.tgz#633c2c83e3da42a502f52466022480f4208261de\"\n  integrity sha1-Yzwsg+PaQqUC9SRmAiSA9CCCYd4=\n\nini@^1.3.5, ini@~1.3.0:\n  version \"1.3.8\"\n  resolved \"https://registry.yarnpkg.com/ini/-/ini-1.3.8.tgz#a29da425b48806f34767a4efce397269af28432c\"\n  integrity sha512-JV/yugV2uzW5iMRSiZAyDtQd+nxtUnjeLt0acNdw98kKLrvuRVyB80tsREOE7yvGVgalhZ6RNXCmEHkUKBKxew==\n\ninline-source-map@~0.6.0:\n  version \"0.6.2\"\n  resolved \"https://registry.yarnpkg.com/inline-source-map/-/inline-source-map-0.6.2.tgz#f9393471c18a79d1724f863fa38b586370ade2a5\"\n  integrity sha1-+Tk0ccGKedFyT4Y/o4tYY3Ct4qU=\n  dependencies:\n    source-map \"~0.5.3\"\n\ninsert-module-globals@^7.0.0:\n  version \"7.2.0\"\n  resolved \"https://registry.yarnpkg.com/insert-module-globals/-/insert-module-globals-7.2.0.tgz#ec87e5b42728479e327bd5c5c71611ddfb4752ba\"\n  integrity sha512-VE6NlW+WGn2/AeOMd496AHFYmE7eLKkUY6Ty31k4og5vmA3Fjuwe9v6ifH6Xx/Hz27QvdoMoviw1/pqWRB09Sw==\n  dependencies:\n    JSONStream \"^1.0.3\"\n    acorn-node \"^1.5.2\"\n    combine-source-map \"^0.8.0\"\n    concat-stream \"^1.6.1\"\n    is-buffer \"^1.1.0\"\n    path-is-absolute \"^1.0.1\"\n    process \"~0.11.0\"\n    through2 \"^2.0.0\"\n    undeclared-identifiers \"^1.1.2\"\n    xtend \"^4.0.0\"\n\nirregular-plurals@^1.0.0:\n  version \"1.4.0\"\n  resolved \"https://registry.yarnpkg.com/irregular-plurals/-/irregular-plurals-1.4.0.tgz#2ca9b033651111855412f16be5d77c62a458a766\"\n  integrity sha1-LKmwM2UREYVUEvFr5dd8YqRYp2Y=\n\nis-accessor-descriptor@^0.1.6:\n  version \"0.1.6\"\n  resolved \"https://registry.yarnpkg.com/is-accessor-descriptor/-/is-accessor-descriptor-0.1.6.tgz#a9e12cb3ae8d876727eeef3843f8a0897b5c98d6\"\n  integrity sha1-qeEss66Nh2cn7u84Q/igiXtcmNY=\n  dependencies:\n    kind-of \"^3.0.2\"\n\nis-accessor-descriptor@^1.0.0:\n  version \"1.0.0\"\n  resolved \"https://registry.yarnpkg.com/is-accessor-descriptor/-/is-accessor-descriptor-1.0.0.tgz#169c2f6d3df1f992618072365c9b0ea1f6878656\"\n  integrity sha512-m5hnHTkcVsPfqx3AKlyttIPb7J+XykHvJP2B9bZDjlhLIoEq4XoK64Vg7boZlVWYK6LUY94dYPEE7Lh0ZkZKcQ==\n  dependencies:\n    kind-of \"^6.0.0\"\n\nis-arguments@^1.0.4:\n  version \"1.0.4\"\n  resolved \"https://registry.yarnpkg.com/is-arguments/-/is-arguments-1.0.4.tgz#3faf966c7cba0ff437fb31f6250082fcf0448cf3\"\n  integrity sha512-xPh0Rmt8NE65sNzvyUmWgI1tz3mKq74lGA0mL8LYZcoIzKOzDh6HmrYm3d18k60nHerC8A9Km8kYu87zfSFnLA==\n\nis-arrayish@^0.2.1:\n  version \"0.2.1\"\n  resolved \"https://registry.yarnpkg.com/is-arrayish/-/is-arrayish-0.2.1.tgz#77c99840527aa8ecb1a8ba697b80645a7a926a9d\"\n  integrity sha1-d8mYQFJ6qOyxqLppe4BkWnqSap0=\n\nis-binary-path@^1.0.0:\n  version \"1.0.1\"\n  resolved \"https://registry.yarnpkg.com/is-binary-path/-/is-binary-path-1.0.1.tgz#75f16642b480f187a711c814161fd3a4a7655898\"\n  integrity sha1-dfFmQrSA8YenEcgUFh/TpKdlWJg=\n  dependencies:\n    binary-extensions \"^1.0.0\"\n\nis-binary-path@~2.1.0:\n  version \"2.1.0\"\n  resolved \"https://registry.yarnpkg.com/is-binary-path/-/is-binary-path-2.1.0.tgz#ea1f7f3b80f064236e83470f86c09c254fb45b09\"\n  integrity sha512-ZMERYes6pDydyuGidse7OsHxtbI7WVeUEozgR/g7rd0xUimYNlvZRE/K2MgZTjWy725IfelLeVcEM97mmtRGXw==\n  dependencies:\n    binary-extensions \"^2.0.0\"\n\nis-buffer@^1.1.0, is-buffer@^1.1.5:\n  version \"1.1.6\"\n  resolved \"https://registry.yarnpkg.com/is-buffer/-/is-buffer-1.1.6.tgz#efaa2ea9daa0d7ab2ea13a97b2b8ad51fefbe8be\"\n  integrity sha512-NcdALwpXkTm5Zvvbk7owOUSvVvBKDgKP5/ewfXEznmQFfs4ZRmanOeKBTjRVjka3QFoN6XJ+9F3USqfHqTaU5w==\n\nis-callable@^1.1.4, is-callable@^1.2.0:\n  version \"1.2.0\"\n  resolved \"https://registry.yarnpkg.com/is-callable/-/is-callable-1.2.0.tgz#83336560b54a38e35e3a2df7afd0454d691468bb\"\n  integrity sha512-pyVD9AaGLxtg6srb2Ng6ynWJqkHU9bEM087AKck0w8QwDarTfNcpIYoU8x8Hv2Icm8u6kFJM18Dag8lyqGkviw==\n\nis-ci@^2.0.0:\n  version \"2.0.0\"\n  resolved \"https://registry.yarnpkg.com/is-ci/-/is-ci-2.0.0.tgz#6bc6334181810e04b5c22b3d589fdca55026404c\"\n  integrity sha512-YfJT7rkpQB0updsdHLGWrvhBJfcfzNNawYDNIyQXJz0IViGf75O8EBPKSdvw2rF+LGCsX4FZ8tcr3b19LcZq4w==\n  dependencies:\n    ci-info \"^2.0.0\"\n\nis-data-descriptor@^0.1.4:\n  version \"0.1.4\"\n  resolved \"https://registry.yarnpkg.com/is-data-descriptor/-/is-data-descriptor-0.1.4.tgz#0b5ee648388e2c860282e793f1856fec3f301b56\"\n  integrity sha1-C17mSDiOLIYCgueT8YVv7D8wG1Y=\n  dependencies:\n    kind-of \"^3.0.2\"\n\nis-data-descriptor@^1.0.0:\n  version \"1.0.0\"\n  resolved \"https://registry.yarnpkg.com/is-data-descriptor/-/is-data-descriptor-1.0.0.tgz#d84876321d0e7add03990406abbbbd36ba9268c7\"\n  integrity sha512-jbRXy1FmtAoCjQkVmIVYwuuqDFUbaOeDjmed1tOGPrsMhtJA4rD9tkgA0F1qJ3gRFRXcHYVkdeaP50Q5rE/jLQ==\n  dependencies:\n    kind-of \"^6.0.0\"\n\nis-date-object@^1.0.1:\n  version \"1.0.2\"\n  resolved \"https://registry.yarnpkg.com/is-date-object/-/is-date-object-1.0.2.tgz#bda736f2cd8fd06d32844e7743bfa7494c3bfd7e\"\n  integrity sha512-USlDT524woQ08aoZFzh3/Z6ch9Y/EWXEHQ/AaRN0SkKq4t2Jw2R2339tSXmwuVoY7LLlBCbOIlx2myP/L5zk0g==\n\nis-descriptor@^0.1.0:\n  version \"0.1.6\"\n  resolved \"https://registry.yarnpkg.com/is-descriptor/-/is-descriptor-0.1.6.tgz#366d8240dde487ca51823b1ab9f07a10a78251ca\"\n  integrity sha512-avDYr0SB3DwO9zsMov0gKCESFYqCnE4hq/4z3TdUlukEy5t9C0YRq7HLrsN52NAcqXKaepeCD0n+B0arnVG3Hg==\n  dependencies:\n    is-accessor-descriptor \"^0.1.6\"\n    is-data-descriptor \"^0.1.4\"\n    kind-of \"^5.0.0\"\n\nis-descriptor@^1.0.0, is-descriptor@^1.0.2:\n  version \"1.0.2\"\n  resolved \"https://registry.yarnpkg.com/is-descriptor/-/is-descriptor-1.0.2.tgz#3b159746a66604b04f8c81524ba365c5f14d86ec\"\n  integrity sha512-2eis5WqQGV7peooDyLmNEPUrps9+SXX5c9pL3xEB+4e9HnGuDa7mB7kHxHw4CbqS9k1T2hOH3miL8n8WtiYVtg==\n  dependencies:\n    is-accessor-descriptor \"^1.0.0\"\n    is-data-descriptor \"^1.0.0\"\n    kind-of \"^6.0.2\"\n\nis-extendable@^0.1.0, is-extendable@^0.1.1:\n  version \"0.1.1\"\n  resolved \"https://registry.yarnpkg.com/is-extendable/-/is-extendable-0.1.1.tgz#62b110e289a471418e3ec36a617d472e301dfc89\"\n  integrity sha1-YrEQ4omkcUGOPsNqYX1HLjAd/Ik=\n\nis-extendable@^1.0.1:\n  version \"1.0.1\"\n  resolved \"https://registry.yarnpkg.com/is-extendable/-/is-extendable-1.0.1.tgz#a7470f9e426733d81bd81e1155264e3a3507cab4\"\n  integrity sha512-arnXMxT1hhoKo9k1LZdmlNyJdDDfy2v0fXjFlmok4+i8ul/6WlbVge9bhM74OpNPQPMGUToDtz+KXa1PneJxOA==\n  dependencies:\n    is-plain-object \"^2.0.4\"\n\nis-extglob@^2.1.0, is-extglob@^2.1.1:\n  version \"2.1.1\"\n  resolved \"https://registry.yarnpkg.com/is-extglob/-/is-extglob-2.1.1.tgz#a88c02535791f02ed37c76a1b9ea9773c833f8c2\"\n  integrity sha1-qIwCU1eR8C7TfHahueqXc8gz+MI=\n\nis-fullwidth-code-point@^2.0.0:\n  version \"2.0.0\"\n  resolved \"https://registry.yarnpkg.com/is-fullwidth-code-point/-/is-fullwidth-code-point-2.0.0.tgz#a3b30a5c4f199183167aaab93beefae3ddfb654f\"\n  integrity sha1-o7MKXE8ZkYMWeqq5O+764937ZU8=\n\nis-fullwidth-code-point@^3.0.0:\n  version \"3.0.0\"\n  resolved \"https://registry.yarnpkg.com/is-fullwidth-code-point/-/is-fullwidth-code-point-3.0.0.tgz#f116f8064fe90b3f7844a38997c0b75051269f1d\"\n  integrity sha512-zymm5+u+sCsSWyD9qNaejV3DFvhCKclKdizYaJUuHA83RLjb7nSuGnddCHGv0hk+KY7BMAlsWeK4Ueg6EV6XQg==\n\nis-generator-function@^1.0.7:\n  version \"1.0.7\"\n  resolved \"https://registry.yarnpkg.com/is-generator-function/-/is-generator-function-1.0.7.tgz#d2132e529bb0000a7f80794d4bdf5cd5e5813522\"\n  integrity sha512-YZc5EwyO4f2kWCax7oegfuSr9mFz1ZvieNYBEjmukLxgXfBUbxAWGVF7GZf0zidYtoBl3WvC07YK0wT76a+Rtw==\n\nis-glob@^3.1.0:\n  version \"3.1.0\"\n  resolved \"https://registry.yarnpkg.com/is-glob/-/is-glob-3.1.0.tgz#7ba5ae24217804ac70707b96922567486cc3e84a\"\n  integrity sha1-e6WuJCF4BKxwcHuWkiVnSGzD6Eo=\n  dependencies:\n    is-extglob \"^2.1.0\"\n\nis-glob@^4.0.0, is-glob@^4.0.1, is-glob@~4.0.1:\n  version \"4.0.1\"\n  resolved \"https://registry.yarnpkg.com/is-glob/-/is-glob-4.0.1.tgz#7567dbe9f2f5e2467bc77ab83c4a29482407a5dc\"\n  integrity sha512-5G0tKtBTFImOqDnLB2hG6Bp2qcKEFduo4tZu9MT/H6NQv/ghhy30o55ufafxJ/LdH79LLs2Kfrn85TLKyA7BUg==\n  dependencies:\n    is-extglob \"^2.1.1\"\n\nis-installed-globally@^0.3.1:\n  version \"0.3.2\"\n  resolved \"https://registry.yarnpkg.com/is-installed-globally/-/is-installed-globally-0.3.2.tgz#fd3efa79ee670d1187233182d5b0a1dd00313141\"\n  integrity sha512-wZ8x1js7Ia0kecP/CHM/3ABkAmujX7WPvQk6uu3Fly/Mk44pySulQpnHG46OMjHGXApINnV4QhY3SWnECO2z5g==\n  dependencies:\n    global-dirs \"^2.0.1\"\n    is-path-inside \"^3.0.1\"\n\nis-nan@^1.2.1:\n  version \"1.3.0\"\n  resolved \"https://registry.yarnpkg.com/is-nan/-/is-nan-1.3.0.tgz#85d1f5482f7051c2019f5673ccebdb06f3b0db03\"\n  integrity sha512-z7bbREymOqt2CCaZVly8aC4ML3Xhfi0ekuOnjO2L8vKdl+CttdVoGZQhd4adMFAsxQ5VeRVwORs4tU8RH+HFtQ==\n  dependencies:\n    define-properties \"^1.1.3\"\n\nis-npm@^4.0.0:\n  version \"4.0.0\"\n  resolved \"https://registry.yarnpkg.com/is-npm/-/is-npm-4.0.0.tgz#c90dd8380696df87a7a6d823c20d0b12bbe3c84d\"\n  integrity sha512-96ECIfh9xtDDlPylNPXhzjsykHsMJZ18ASpaWzQyBr4YRTcVjUvzaHayDAES2oU/3KpljhHUjtSRNiDwi0F0ig==\n\nis-number@^3.0.0:\n  version \"3.0.0\"\n  resolved \"https://registry.yarnpkg.com/is-number/-/is-number-3.0.0.tgz#24fd6201a4782cf50561c810276afc7d12d71195\"\n  integrity sha1-JP1iAaR4LPUFYcgQJ2r8fRLXEZU=\n  dependencies:\n    kind-of \"^3.0.2\"\n\nis-number@^7.0.0:\n  version \"7.0.0\"\n  resolved \"https://registry.yarnpkg.com/is-number/-/is-number-7.0.0.tgz#7535345b896734d5f80c4d06c50955527a14f12b\"\n  integrity sha512-41Cifkg6e8TylSpdtTpeLVMqvSBEVzTttHvERD741+pnZ8ANv0004MRL43QKPDlK9cGvNp6NZWZUBlbGXYxxng==\n\nis-obj@^2.0.0:\n  version \"2.0.0\"\n  resolved \"https://registry.yarnpkg.com/is-obj/-/is-obj-2.0.0.tgz#473fb05d973705e3fd9620545018ca8e22ef4982\"\n  integrity sha512-drqDG3cbczxxEJRoOXcOjtdp1J/lyp1mNn0xaznRs8+muBhgQcrnbspox5X5fOw0HnMnbfDzvnEMEtqDEJEo8w==\n\nis-path-inside@^3.0.1:\n  version \"3.0.2\"\n  resolved \"https://registry.yarnpkg.com/is-path-inside/-/is-path-inside-3.0.2.tgz#f5220fc82a3e233757291dddc9c5877f2a1f3017\"\n  integrity sha512-/2UGPSgmtqwo1ktx8NDHjuPwZWmHhO+gj0f93EkhLB5RgW9RZevWYYlIkS6zePc6U2WpOdQYIwHe9YC4DWEBVg==\n\nis-plain-object@^2.0.3, is-plain-object@^2.0.4:\n  version \"2.0.4\"\n  resolved \"https://registry.yarnpkg.com/is-plain-object/-/is-plain-object-2.0.4.tgz#2c163b3fafb1b606d9d17928f05c2a1c38e07677\"\n  integrity sha512-h5PpgXkWitc38BBMYawTYMWJHFZJVnBquFE57xFpjB8pJFiF6gZ+bU+WyI/yqXiFR5mdLsgYNaPe8uao6Uv9Og==\n  dependencies:\n    isobject \"^3.0.1\"\n\nis-regex@^1.1.0:\n  version \"1.1.0\"\n  resolved \"https://registry.yarnpkg.com/is-regex/-/is-regex-1.1.0.tgz#ece38e389e490df0dc21caea2bd596f987f767ff\"\n  integrity sha512-iI97M8KTWID2la5uYXlkbSDQIg4F6o1sYboZKKTDpnDQMLtUL86zxhgDet3Q2SriaYsyGqZ6Mn2SjbRKeLHdqw==\n  dependencies:\n    has-symbols \"^1.0.1\"\n\nis-stream@^1.0.1:\n  version \"1.1.0\"\n  resolved \"https://registry.yarnpkg.com/is-stream/-/is-stream-1.1.0.tgz#12d4a3dd4e68e0b79ceb8dbc84173ae80d91ca44\"\n  integrity sha1-EtSj3U5o4Lec6428hBc66A2RykQ=\n\nis-symbol@^1.0.2:\n  version \"1.0.3\"\n  resolved \"https://registry.yarnpkg.com/is-symbol/-/is-symbol-1.0.3.tgz#38e1014b9e6329be0de9d24a414fd7441ec61937\"\n  integrity sha512-OwijhaRSgqvhm/0ZdAcXNZt9lYdKFpcRDT5ULUuYXPoT794UNOdU+gpT6Rzo7b4V2HUl/op6GqY894AZwv9faQ==\n  dependencies:\n    has-symbols \"^1.0.1\"\n\nis-typed-array@^1.1.3:\n  version \"1.1.3\"\n  resolved \"https://registry.yarnpkg.com/is-typed-array/-/is-typed-array-1.1.3.tgz#a4ff5a5e672e1a55f99c7f54e59597af5c1df04d\"\n  integrity sha512-BSYUBOK/HJibQ30wWkWold5txYwMUXQct9YHAQJr8fSwvZoiglcqB0pd7vEN23+Tsi9IUEjztdOSzl4qLVYGTQ==\n  dependencies:\n    available-typed-arrays \"^1.0.0\"\n    es-abstract \"^1.17.4\"\n    foreach \"^2.0.5\"\n    has-symbols \"^1.0.1\"\n\nis-typedarray@^1.0.0:\n  version \"1.0.0\"\n  resolved \"https://registry.yarnpkg.com/is-typedarray/-/is-typedarray-1.0.0.tgz#e479c80858df0c1b11ddda6940f96011fcda4a9a\"\n  integrity sha1-5HnICFjfDBsR3dppQPlgEfzaSpo=\n\nis-windows@^1.0.2:\n  version \"1.0.2\"\n  resolved \"https://registry.yarnpkg.com/is-windows/-/is-windows-1.0.2.tgz#d1850eb9791ecd18e6182ce12a30f396634bb19d\"\n  integrity sha512-eXK1UInq2bPmjyX6e3VHIzMLobc4J94i4AWn+Hpq3OU5KkrRC96OAcR3PRJ/pGu6m8TRnBHP9dkXQVsT/COVIA==\n\nis-yarn-global@^0.3.0:\n  version \"0.3.0\"\n  resolved \"https://registry.yarnpkg.com/is-yarn-global/-/is-yarn-global-0.3.0.tgz#d502d3382590ea3004893746754c89139973e232\"\n  integrity sha512-VjSeb/lHmkoyd8ryPVIKvOCn4D1koMqY+vqyjjUfc3xyKtP4dYOxM44sZrnqQSzSds3xyOrUTLTC9LVCVgLngw==\n\nisarray@0.0.1:\n  version \"0.0.1\"\n  resolved \"https://registry.yarnpkg.com/isarray/-/isarray-0.0.1.tgz#8a18acfca9a8f4177e09abfc6038939b05d1eedf\"\n  integrity sha1-ihis/Kmo9Bd+Cav8YDiTmwXR7t8=\n\nisarray@1.0.0, isarray@~1.0.0:\n  version \"1.0.0\"\n  resolved \"https://registry.yarnpkg.com/isarray/-/isarray-1.0.0.tgz#bb935d48582cba168c06834957a54a3e07124f11\"\n  integrity sha1-u5NdSFgsuhaMBoNJV6VKPgcSTxE=\n\nisbinaryfile@^4.0.8:\n  version \"4.0.8\"\n  resolved \"https://registry.yarnpkg.com/isbinaryfile/-/isbinaryfile-4.0.8.tgz#5d34b94865bd4946633ecc78a026fc76c5b11fcf\"\n  integrity sha512-53h6XFniq77YdW+spoRrebh0mnmTxRPTlcuIArO57lmMdq4uBKFKaeTjnb92oYWrSn/LVL+LT+Hap2tFQj8V+w==\n\nisexe@^2.0.0:\n  version \"2.0.0\"\n  resolved \"https://registry.yarnpkg.com/isexe/-/isexe-2.0.0.tgz#e8fbf374dc556ff8947a10dcb0572d633f2cfa10\"\n  integrity sha1-6PvzdNxVb/iUehDcsFctYz8s+hA=\n\nisobject@^2.0.0:\n  version \"2.1.0\"\n  resolved \"https://registry.yarnpkg.com/isobject/-/isobject-2.1.0.tgz#f065561096a3f1da2ef46272f815c840d87e0c89\"\n  integrity sha1-8GVWEJaj8dou9GJy+BXIQNh+DIk=\n  dependencies:\n    isarray \"1.0.0\"\n\nisobject@^3.0.0, isobject@^3.0.1:\n  version \"3.0.1\"\n  resolved \"https://registry.yarnpkg.com/isobject/-/isobject-3.0.1.tgz#4e431e92b11a9731636aa1f9c8d1ccbcfdab78df\"\n  integrity sha1-TkMekrEalzFjaqH5yNHMvP2reN8=\n\nistanbul-lib-coverage@^3.0.0:\n  version \"3.0.0\"\n  resolved \"https://registry.yarnpkg.com/istanbul-lib-coverage/-/istanbul-lib-coverage-3.0.0.tgz#f5944a37c70b550b02a78a5c3b2055b280cec8ec\"\n  integrity sha512-UiUIqxMgRDET6eR+o5HbfRYP1l0hqkWOs7vNxC/mggutCMUIhWMm8gAHb8tHlyfD3/l6rlgNA5cKdDzEAf6hEg==\n\nistanbul-lib-instrument@^4.0.0:\n  version \"4.0.3\"\n  resolved \"https://registry.yarnpkg.com/istanbul-lib-instrument/-/istanbul-lib-instrument-4.0.3.tgz#873c6fff897450118222774696a3f28902d77c1d\"\n  integrity sha512-BXgQl9kf4WTCPCCpmFGoJkz/+uhvm7h7PFKUYxh7qarQd3ER33vHG//qaE8eN25l07YqZPpHXU9I09l/RD5aGQ==\n  dependencies:\n    \"@babel/core\" \"^7.7.5\"\n    \"@istanbuljs/schema\" \"^0.1.2\"\n    istanbul-lib-coverage \"^3.0.0\"\n    semver \"^6.3.0\"\n\nistanbul-lib-report@^3.0.0:\n  version \"3.0.0\"\n  resolved \"https://registry.yarnpkg.com/istanbul-lib-report/-/istanbul-lib-report-3.0.0.tgz#7518fe52ea44de372f460a76b5ecda9ffb73d8a6\"\n  integrity sha512-wcdi+uAKzfiGT2abPpKZ0hSU1rGQjUQnLvtY5MpQ7QCTahD3VODhcu4wcfY1YtkGaDD5yuydOLINXsfbus9ROw==\n  dependencies:\n    istanbul-lib-coverage \"^3.0.0\"\n    make-dir \"^3.0.0\"\n    supports-color \"^7.1.0\"\n\nistanbul-lib-source-maps@^4.0.0:\n  version \"4.0.0\"\n  resolved \"https://registry.yarnpkg.com/istanbul-lib-source-maps/-/istanbul-lib-source-maps-4.0.0.tgz#75743ce6d96bb86dc7ee4352cf6366a23f0b1ad9\"\n  integrity sha512-c16LpFRkR8vQXyHZ5nLpY35JZtzj1PQY1iZmesUbf1FZHbIupcWfjgOXBY9YHkLEQ6puz1u4Dgj6qmU/DisrZg==\n  dependencies:\n    debug \"^4.1.1\"\n    istanbul-lib-coverage \"^3.0.0\"\n    source-map \"^0.6.1\"\n\nistanbul-reports@^3.0.0:\n  version \"3.0.2\"\n  resolved \"https://registry.yarnpkg.com/istanbul-reports/-/istanbul-reports-3.0.2.tgz#d593210e5000683750cb09fc0644e4b6e27fd53b\"\n  integrity sha512-9tZvz7AiR3PEDNGiV9vIouQ/EAcqMXFmkcA1CDFTwOB98OZVDL0PH9glHotf5Ugp6GCOTypfzGWI/OqjWNCRUw==\n  dependencies:\n    html-escaper \"^2.0.0\"\n    istanbul-lib-report \"^3.0.0\"\n\njasmine-core@^2.3.4:\n  version \"2.99.1\"\n  resolved \"https://registry.yarnpkg.com/jasmine-core/-/jasmine-core-2.99.1.tgz#e6400df1e6b56e130b61c4bcd093daa7f6e8ca15\"\n  integrity sha1-5kAN8ea1bhMLYcS80JPap/boyhU=\n\njs-tokens@^4.0.0:\n  version \"4.0.0\"\n  resolved \"https://registry.yarnpkg.com/js-tokens/-/js-tokens-4.0.0.tgz#19203fb59991df98e3a287050d4647cdeaf32499\"\n  integrity sha512-RdJUflcE3cUzKiMqQgsCu06FPu9UdIJO0beYbPhHN4k6apgJtifcoCtT9bcxOpYBtpD2kCM6Sbzg4CausW/PKQ==\n\njs-yaml@3.13.1:\n  version \"3.13.1\"\n  resolved \"https://registry.yarnpkg.com/js-yaml/-/js-yaml-3.13.1.tgz#aff151b30bfdfa8e49e05da22e7415e9dfa37847\"\n  integrity sha512-YfbcO7jXDdyj0DGxYVSlSeQNHbD7XPWvrVWeVUujrQEoZzWJIRrCPoyk6kL6IAjAG2IolMK4T0hNUe0HOUs5Jw==\n  dependencies:\n    argparse \"^1.0.7\"\n    esprima \"^4.0.0\"\n\njsesc@^2.5.1:\n  version \"2.5.2\"\n  resolved \"https://registry.yarnpkg.com/jsesc/-/jsesc-2.5.2.tgz#80564d2e483dacf6e8ef209650a67df3f0c283a4\"\n  integrity sha512-OYu7XEzjkCQ3C5Ps3QIZsQfNpqoJyZZA99wd9aWd05NCtC5pWOkShK2mkL6HXQR6/Cy2lbNdPlZBpuQHXE63gA==\n\njshint-stylish@^2.1.0:\n  version \"2.2.1\"\n  resolved \"https://registry.yarnpkg.com/jshint-stylish/-/jshint-stylish-2.2.1.tgz#242082a2c035ae03fd81044e0570cc4208cf6e61\"\n  integrity sha1-JCCCosA1rgP9gQROBXDMQgjPbmE=\n  dependencies:\n    beeper \"^1.1.0\"\n    chalk \"^1.0.0\"\n    log-symbols \"^1.0.0\"\n    plur \"^2.1.0\"\n    string-length \"^1.0.0\"\n    text-table \"^0.2.0\"\n\njshint@^2.9.7:\n  version \"2.11.1\"\n  resolved \"https://registry.yarnpkg.com/jshint/-/jshint-2.11.1.tgz#28ec7d1cf7baaae5ce7bd37b9a70ed6cfd938570\"\n  integrity sha512-WXWePB8ssAH3DlD05IoqolsY6arhbll/1+i2JkRPpihQAuiNaR/gSt8VKIcxpV5m6XChP0hCwESQUqpuQMA8Tg==\n  dependencies:\n    cli \"~1.0.0\"\n    console-browserify \"1.1.x\"\n    exit \"0.1.x\"\n    htmlparser2 \"3.8.x\"\n    lodash \"~4.17.11\"\n    minimatch \"~3.0.2\"\n    shelljs \"0.3.x\"\n    strip-json-comments \"1.0.x\"\n\njson-buffer@3.0.0:\n  version \"3.0.0\"\n  resolved \"https://registry.yarnpkg.com/json-buffer/-/json-buffer-3.0.0.tgz#5b1f397afc75d677bde8bcfc0e47e1f9a3d9a898\"\n  integrity sha1-Wx85evx11ne96Lz8Dkfh+aPZqJg=\n\njson-parse-better-errors@^1.0.1:\n  version \"1.0.2\"\n  resolved \"https://registry.yarnpkg.com/json-parse-better-errors/-/json-parse-better-errors-1.0.2.tgz#bb867cfb3450e69107c131d1c514bab3dc8bcaa9\"\n  integrity sha512-mrqyZKfX5EhL7hvqcV6WG1yYjnjeuYDzDhhcAAUrq8Po85NBQBJP+ZDUT75qZQ98IkUoBqdkExkukOU7Ts2wrw==\n\njson-stable-stringify@~0.0.0:\n  version \"0.0.1\"\n  resolved \"https://registry.yarnpkg.com/json-stable-stringify/-/json-stable-stringify-0.0.1.tgz#611c23e814db375527df851193db59dd2af27f45\"\n  integrity sha1-YRwj6BTbN1Un34URk9tZ3Sryf0U=\n  dependencies:\n    jsonify \"~0.0.0\"\n\njson-stringify-safe@^5.0.1:\n  version \"5.0.1\"\n  resolved \"https://registry.yarnpkg.com/json-stringify-safe/-/json-stringify-safe-5.0.1.tgz#1296a2d58fd45f19a0f6ce01d65701e2c735b6eb\"\n  integrity sha1-Epai1Y/UXxmg9s4B1lcB4sc1tus=\n\njson5@^2.1.2:\n  version \"2.2.3\"\n  resolved \"https://registry.yarnpkg.com/json5/-/json5-2.2.3.tgz#78cd6f1a19bdc12b73db5ad0c61efd66c1e29283\"\n  integrity sha512-XmOWe7eyHYH14cLdVPoyg+GOH3rYX++KpzrylJwSW98t3Nk+U8XOl8FWKOgwtzdb8lXGf6zYwDUzeHMWfxasyg==\n\njsonfile@^4.0.0:\n  version \"4.0.0\"\n  resolved \"https://registry.yarnpkg.com/jsonfile/-/jsonfile-4.0.0.tgz#8771aae0799b64076b76640fca058f9c10e33ecb\"\n  integrity sha1-h3Gq4HmbZAdrdmQPygWPnBDjPss=\n  optionalDependencies:\n    graceful-fs \"^4.1.6\"\n\njsonfile@^6.0.1:\n  version \"6.1.0\"\n  resolved \"https://registry.yarnpkg.com/jsonfile/-/jsonfile-6.1.0.tgz#bc55b2634793c679ec6403094eb13698a6ec0aae\"\n  integrity sha512-5dgndWOriYSm5cnYaJNhalLNDKOqFwyDB/rr1E9ZsGciGvKPs8R2xYGCacuf3z6K1YKDz182fd+fY3cn3pMqXQ==\n  dependencies:\n    universalify \"^2.0.0\"\n  optionalDependencies:\n    graceful-fs \"^4.1.6\"\n\njsonify@~0.0.0:\n  version \"0.0.0\"\n  resolved \"https://registry.yarnpkg.com/jsonify/-/jsonify-0.0.0.tgz#2c74b6ee41d93ca51b7b5aaee8f503631d252a73\"\n  integrity sha1-LHS27kHZPKUbe1qu6PUDYx0lKnM=\n\njsonparse@^1.2.0:\n  version \"1.3.1\"\n  resolved \"https://registry.yarnpkg.com/jsonparse/-/jsonparse-1.3.1.tgz#3f4dae4a91fac315f71062f8521cc239f1366280\"\n  integrity sha1-P02uSpH6wxX3EGL4UhzCOfE2YoA=\n\nkarma-chrome-launcher@^3.0.0:\n  version \"3.1.0\"\n  resolved \"https://registry.yarnpkg.com/karma-chrome-launcher/-/karma-chrome-launcher-3.1.0.tgz#805a586799a4d05f4e54f72a204979f3f3066738\"\n  integrity sha512-3dPs/n7vgz1rxxtynpzZTvb9y/GIaW8xjAwcIGttLbycqoFtI7yo1NGnQi6oFTherRE+GIhCAHZC4vEqWGhNvg==\n  dependencies:\n    which \"^1.2.1\"\n\nkarma-jasmine@^1.1.0:\n  version \"1.1.2\"\n  resolved \"https://registry.yarnpkg.com/karma-jasmine/-/karma-jasmine-1.1.2.tgz#394f2b25ffb4a644b9ada6f22d443e2fd08886c3\"\n  integrity sha1-OU8rJf+0pkS5rabyLUQ+L9CIhsM=\n\nkarma-spec-reporter@^0.0.32:\n  version \"0.0.32\"\n  resolved \"https://registry.yarnpkg.com/karma-spec-reporter/-/karma-spec-reporter-0.0.32.tgz#2e9c7207ea726771260259f82becb543209e440a\"\n  integrity sha1-LpxyB+pyZ3EmAln4K+y1QyCeRAo=\n  dependencies:\n    colors \"^1.1.2\"\n\nkarma-typescript@^5.0.3:\n  version \"5.0.3\"\n  resolved \"https://registry.yarnpkg.com/karma-typescript/-/karma-typescript-5.0.3.tgz#3b2b5cfde328748fa9f077fea25f90c36db53fed\"\n  integrity sha512-Irs767Oc5BCMPLbZ+VdJmIxLL+1fB3L9dye8oQHDfHXFuYBx+uir5FDLzNNXFgDRUMYxEFT1T1eucAcb56v+0A==\n  dependencies:\n    acorn \"^7.1.0\"\n    acorn-walk \"^7.0.0\"\n    assert \"^2.0.0\"\n    async \"^3.0.1\"\n    browser-resolve \"^1.11.3\"\n    browserify-zlib \"^0.2.0\"\n    buffer \"^5.4.3\"\n    combine-source-map \"^0.8.0\"\n    console-browserify \"^1.2.0\"\n    constants-browserify \"^1.0.0\"\n    convert-source-map \"^1.7.0\"\n    crypto-browserify \"^3.12.0\"\n    diff \"^4.0.1\"\n    domain-browser \"^4.0.0\"\n    events \"^3.0.0\"\n    glob \"^7.1.6\"\n    https-browserify \"^1.0.0\"\n    istanbul-lib-coverage \"^3.0.0\"\n    istanbul-lib-instrument \"^4.0.0\"\n    istanbul-lib-report \"^3.0.0\"\n    istanbul-lib-source-maps \"^4.0.0\"\n    istanbul-reports \"^3.0.0\"\n    json-stringify-safe \"^5.0.1\"\n    lodash \"^4.17.15\"\n    log4js \"^6.1.0\"\n    minimatch \"^3.0.4\"\n    os-browserify \"^0.3.0\"\n    pad \"^3.2.0\"\n    path-browserify \"^1.0.0\"\n    process \"^0.11.10\"\n    punycode \"^2.1.1\"\n    querystring-es3 \"^0.2.1\"\n    readable-stream \"^3.1.1\"\n    source-map \"^0.7.3\"\n    stream-browserify \"^2.0.2\"\n    stream-http \"^3.1.0\"\n    string_decoder \"^1.3.0\"\n    timers-browserify \"^2.0.11\"\n    tmp \"^0.1.0\"\n    tty-browserify \"^0.0.1\"\n    url \"^0.11.0\"\n    util \"^0.12.1\"\n    vm-browserify \"^1.1.2\"\n\nkarma@^6.3.14:\n  version \"6.3.14\"\n  resolved \"https://registry.yarnpkg.com/karma/-/karma-6.3.14.tgz#1ed57a489249b9260bc604325ae333766d4cddc9\"\n  integrity sha512-SDFoU5F4LdosEiUVWUDRPCV/C1zQRNtIakx7rWkigf7R4sxGADlSEeOma4S1f/js7YAzvqLW92ByoiQptg+8oQ==\n  dependencies:\n    body-parser \"^1.19.0\"\n    braces \"^3.0.2\"\n    chokidar \"^3.5.1\"\n    colors \"1.4.0\"\n    connect \"^3.7.0\"\n    di \"^0.0.1\"\n    dom-serialize \"^2.2.1\"\n    glob \"^7.1.7\"\n    graceful-fs \"^4.2.6\"\n    http-proxy \"^1.18.1\"\n    isbinaryfile \"^4.0.8\"\n    lodash \"^4.17.21\"\n    log4js \"^6.4.1\"\n    mime \"^2.5.2\"\n    minimatch \"^3.0.4\"\n    qjobs \"^1.2.0\"\n    range-parser \"^1.2.1\"\n    rimraf \"^3.0.2\"\n    socket.io \"^4.2.0\"\n    source-map \"^0.6.1\"\n    tmp \"^0.2.1\"\n    ua-parser-js \"^0.7.30\"\n    yargs \"^16.1.1\"\n\nkeyv@^3.0.0:\n  version \"3.1.0\"\n  resolved \"https://registry.yarnpkg.com/keyv/-/keyv-3.1.0.tgz#ecc228486f69991e49e9476485a5be1e8fc5c4d9\"\n  integrity sha512-9ykJ/46SN/9KPM/sichzQ7OvXyGDYKGTaDlKMGCAlg2UK8KRy4jb0d8sFc+0Tt0YYnThq8X2RZgCg74RPxgcVA==\n  dependencies:\n    json-buffer \"3.0.0\"\n\nkind-of@^3.0.2, kind-of@^3.0.3, kind-of@^3.2.0:\n  version \"3.2.2\"\n  resolved \"https://registry.yarnpkg.com/kind-of/-/kind-of-3.2.2.tgz#31ea21a734bab9bbb0f32466d893aea51e4a3c64\"\n  integrity sha1-MeohpzS6ubuw8yRm2JOupR5KPGQ=\n  dependencies:\n    is-buffer \"^1.1.5\"\n\nkind-of@^4.0.0:\n  version \"4.0.0\"\n  resolved \"https://registry.yarnpkg.com/kind-of/-/kind-of-4.0.0.tgz#20813df3d712928b207378691a45066fae72dd57\"\n  integrity sha1-IIE989cSkosgc3hpGkUGb65y3Vc=\n  dependencies:\n    is-buffer \"^1.1.5\"\n\nkind-of@^5.0.0:\n  version \"5.1.0\"\n  resolved \"https://registry.yarnpkg.com/kind-of/-/kind-of-5.1.0.tgz#729c91e2d857b7a419a1f9aa65685c4c33f5845d\"\n  integrity sha512-NGEErnH6F2vUuXDh+OlbcKW7/wOcfdRHaZ7VWtqCztfHri/++YKmP51OdWeGPuqCOba6kk2OTe5d02VmTB80Pw==\n\nkind-of@^6.0.0, kind-of@^6.0.2:\n  version \"6.0.3\"\n  resolved \"https://registry.yarnpkg.com/kind-of/-/kind-of-6.0.3.tgz#07c05034a6c349fa06e24fa35aa76db4580ce4dd\"\n  integrity sha512-dcS1ul+9tmeD95T+x28/ehLgd9mENa3LsvDTtzm3vyBEO7RPptvAD+t44WVXaUjTBRcrpFeFlC8WCruUR456hw==\n\nlabeled-stream-splicer@^2.0.0:\n  version \"2.0.2\"\n  resolved \"https://registry.yarnpkg.com/labeled-stream-splicer/-/labeled-stream-splicer-2.0.2.tgz#42a41a16abcd46fd046306cf4f2c3576fffb1c21\"\n  integrity sha512-Ca4LSXFFZUjPScRaqOcFxneA0VpKZr4MMYCljyQr4LIewTLb3Y0IUTIsnBBsVubIeEfxeSZpSjSsRM8APEQaAw==\n  dependencies:\n    inherits \"^2.0.1\"\n    stream-splicer \"^2.0.0\"\n\nlatest-version@^5.0.0:\n  version \"5.1.0\"\n  resolved \"https://registry.yarnpkg.com/latest-version/-/latest-version-5.1.0.tgz#119dfe908fe38d15dfa43ecd13fa12ec8832face\"\n  integrity sha512-weT+r0kTkRQdCdYCNtkMwWXQTMEswKrFBkm4ckQOMVhhqhIMI1UT2hMj+1iigIhgSZm5gTmrRXBNoGUgaTY1xA==\n  dependencies:\n    package-json \"^6.3.0\"\n\nload-json-file@^4.0.0:\n  version \"4.0.0\"\n  resolved \"https://registry.yarnpkg.com/load-json-file/-/load-json-file-4.0.0.tgz#2f5f45ab91e33216234fd53adab668eb4ec0993b\"\n  integrity sha1-L19Fq5HjMhYjT9U62rZo607AmTs=\n  dependencies:\n    graceful-fs \"^4.1.2\"\n    parse-json \"^4.0.0\"\n    pify \"^3.0.0\"\n    strip-bom \"^3.0.0\"\n\nlocate-path@^5.0.0:\n  version \"5.0.0\"\n  resolved \"https://registry.yarnpkg.com/locate-path/-/locate-path-5.0.0.tgz#1afba396afd676a6d42504d0a67a3a7eb9f62aa0\"\n  integrity sha512-t7hw9pI+WvuwNJXwk5zVHpyhIqzg2qTlklJOf0mVxGSbe3Fp2VieZcduNYjaLDoy6p9uGpQEGWG87WpMKlNq8g==\n  dependencies:\n    p-locate \"^4.1.0\"\n\nlodash.memoize@~3.0.3:\n  version \"3.0.4\"\n  resolved \"https://registry.yarnpkg.com/lodash.memoize/-/lodash.memoize-3.0.4.tgz#2dcbd2c287cbc0a55cc42328bd0c736150d53e3f\"\n  integrity sha1-LcvSwofLwKVcxCMovQxzYVDVPj8=\n\nlodash@^4.16.4, lodash@^4.17.13, lodash@^4.17.15, lodash@^4.17.21, lodash@~4.17.11:\n  version \"4.17.21\"\n  resolved \"https://registry.yarnpkg.com/lodash/-/lodash-4.17.21.tgz#679591c564c3bffaae8454cf0b3df370c3d6911c\"\n  integrity sha512-v2kDEe57lecTulaDIuNTPy3Ry4gLGJ6Z1O3vE1krgXZNrsQ+LFTGHVxVjcXPs17LhbZVGedAJv8XZ1tvj5FvSg==\n\nlog-symbols@^1.0.0:\n  version \"1.0.2\"\n  resolved \"https://registry.yarnpkg.com/log-symbols/-/log-symbols-1.0.2.tgz#376ff7b58ea3086a0f09facc74617eca501e1a18\"\n  integrity sha1-N2/3tY6jCGoPCfrMdGF+ylAeGhg=\n  dependencies:\n    chalk \"^1.0.0\"\n\nlog4js@^6.1.0, log4js@^6.4.1:\n  version \"6.4.1\"\n  resolved \"https://registry.yarnpkg.com/log4js/-/log4js-6.4.1.tgz#9d3a8bf2c31c1e213fe3fc398a6053f7a2bc53e8\"\n  integrity sha512-iUiYnXqAmNKiIZ1XSAitQ4TmNs8CdZYTAWINARF3LjnsLN8tY5m0vRwd6uuWj/yNY0YHxeZodnbmxKFUOM2rMg==\n  dependencies:\n    date-format \"^4.0.3\"\n    debug \"^4.3.3\"\n    flatted \"^3.2.4\"\n    rfdc \"^1.3.0\"\n    streamroller \"^3.0.2\"\n\nlowercase-keys@^1.0.0, lowercase-keys@^1.0.1:\n  version \"1.0.1\"\n  resolved \"https://registry.yarnpkg.com/lowercase-keys/-/lowercase-keys-1.0.1.tgz#6f9e30b47084d971a7c820ff15a6c5167b74c26f\"\n  integrity sha512-G2Lj61tXDnVFFOi8VZds+SoQjtQC3dgokKdDG2mTm1tx4m50NUHBOZSBwQQHyy0V12A0JTG4icfZQH+xPyh8VA==\n\nlowercase-keys@^2.0.0:\n  version \"2.0.0\"\n  resolved \"https://registry.yarnpkg.com/lowercase-keys/-/lowercase-keys-2.0.0.tgz#2603e78b7b4b0006cbca2fbcc8a3202558ac9479\"\n  integrity sha512-tqNXrS78oMOE73NMxK4EMLQsQowWf8jKooH9g7xPavRT706R6bkQJ6DY2Te7QukaZsulxa30wQ7bk0pm4XiHmA==\n\nmake-dir@^3.0.0, make-dir@^3.0.2:\n  version \"3.1.0\"\n  resolved \"https://registry.yarnpkg.com/make-dir/-/make-dir-3.1.0.tgz#415e967046b3a7f1d185277d84aa58203726a13f\"\n  integrity sha512-g3FeP20LNwhALb/6Cz6Dd4F2ngze0jz7tbzrD2wAV+o9FeNHe4rL+yK2md0J/fiSf1sa1ADhXqi5+oVwOM/eGw==\n  dependencies:\n    semver \"^6.0.0\"\n\nmap-cache@^0.2.2:\n  version \"0.2.2\"\n  resolved \"https://registry.yarnpkg.com/map-cache/-/map-cache-0.2.2.tgz#c32abd0bd6525d9b051645bb4f26ac5dc98a0dbf\"\n  integrity sha1-wyq9C9ZSXZsFFkW7TyasXcmKDb8=\n\nmap-visit@^1.0.0:\n  version \"1.0.0\"\n  resolved \"https://registry.yarnpkg.com/map-visit/-/map-visit-1.0.0.tgz#ecdca8f13144e660f1b5bd41f12f3479d98dfb8f\"\n  integrity sha1-7Nyo8TFE5mDxtb1B8S80edmN+48=\n  dependencies:\n    object-visit \"^1.0.0\"\n\nmd5.js@^1.3.4:\n  version \"1.3.5\"\n  resolved \"https://registry.yarnpkg.com/md5.js/-/md5.js-1.3.5.tgz#b5d07b8e3216e3e27cd728d72f70d1e6a342005f\"\n  integrity sha512-xitP+WxNPcTTOgnTJcrhM0xvdPepipPSf3I8EIpGKeFLjt3PlJLIDG3u8EX53ZIubkb+5U2+3rELYpEhHhzdkg==\n  dependencies:\n    hash-base \"^3.0.0\"\n    inherits \"^2.0.1\"\n    safe-buffer \"^5.1.2\"\n\nmedia-typer@0.3.0:\n  version \"0.3.0\"\n  resolved \"https://registry.yarnpkg.com/media-typer/-/media-typer-0.3.0.tgz#8710d7af0aa626f8fffa1ce00168545263255748\"\n  integrity sha1-hxDXrwqmJvj/+hzgAWhUUmMlV0g=\n\nmemorystream@^0.3.1:\n  version \"0.3.1\"\n  resolved \"https://registry.yarnpkg.com/memorystream/-/memorystream-0.3.1.tgz#86d7090b30ce455d63fbae12dda51a47ddcaf9b2\"\n  integrity sha1-htcJCzDORV1j+64S3aUaR93K+bI=\n\nmicromatch@^3.1.10, micromatch@^3.1.4:\n  version \"3.1.10\"\n  resolved \"https://registry.yarnpkg.com/micromatch/-/micromatch-3.1.10.tgz#70859bc95c9840952f359a068a3fc49f9ecfac23\"\n  integrity sha512-MWikgl9n9M3w+bpsY3He8L+w9eF9338xRl8IAO5viDizwSzziFEyUzo2xrrloB64ADbTf8uA8vRqqttDTOmccg==\n  dependencies:\n    arr-diff \"^4.0.0\"\n    array-unique \"^0.3.2\"\n    braces \"^2.3.1\"\n    define-property \"^2.0.2\"\n    extend-shallow \"^3.0.2\"\n    extglob \"^2.0.4\"\n    fragment-cache \"^0.2.1\"\n    kind-of \"^6.0.2\"\n    nanomatch \"^1.2.9\"\n    object.pick \"^1.3.0\"\n    regex-not \"^1.0.0\"\n    snapdragon \"^0.8.1\"\n    to-regex \"^3.0.2\"\n\nmiller-rabin@^4.0.0:\n  version \"4.0.1\"\n  resolved \"https://registry.yarnpkg.com/miller-rabin/-/miller-rabin-4.0.1.tgz#f080351c865b0dc562a8462966daa53543c78a4d\"\n  integrity sha512-115fLhvZVqWwHPbClyntxEVfVDfl9DLLTuJvq3g2O/Oxi8AiNouAHvDSzHS0viUJc+V5vm3eq91Xwqn9dp4jRA==\n  dependencies:\n    bn.js \"^4.0.0\"\n    brorand \"^1.0.1\"\n\nmime-db@1.44.0:\n  version \"1.44.0\"\n  resolved \"https://registry.yarnpkg.com/mime-db/-/mime-db-1.44.0.tgz#fa11c5eb0aca1334b4233cb4d52f10c5a6272f92\"\n  integrity sha512-/NOTfLrsPBVeH7YtFPgsVWveuL+4SjjYxaQ1xtM1KMFj7HdxlBlxeyNLzhyJVx7r4rZGJAZ/6lkKCitSc/Nmpg==\n\nmime-types@~2.1.24:\n  version \"2.1.27\"\n  resolved \"https://registry.yarnpkg.com/mime-types/-/mime-types-2.1.27.tgz#47949f98e279ea53119f5722e0f34e529bec009f\"\n  integrity sha512-JIhqnCasI9yD+SsmkquHBxTSEuZdQX5BuQnS2Vc7puQQQ+8yiP5AY5uWhpdv4YL4VM5c6iliiYWPgJ/nJQLp7w==\n  dependencies:\n    mime-db \"1.44.0\"\n\nmime@^1.2.9:\n  version \"1.6.0\"\n  resolved \"https://registry.yarnpkg.com/mime/-/mime-1.6.0.tgz#32cd9e5c64553bd58d19a568af452acff04981b1\"\n  integrity sha512-x0Vn8spI+wuJ1O6S7gnbaQg8Pxh4NNHb7KSINmEWKiPE4RKOplvijn+NkmYmmRgP68mc70j2EbeTFRsrswaQeg==\n\nmime@^2.5.2:\n  version \"2.6.0\"\n  resolved \"https://registry.yarnpkg.com/mime/-/mime-2.6.0.tgz#a2a682a95cd4d0cb1d6257e28f83da7e35800367\"\n  integrity sha512-USPkMeET31rOMiarsBNIHZKLGgvKc/LrjofAnBlOttf5ajRvqiRA8QsenbcooctK6d6Ts6aqZXBA+XbkKthiQg==\n\nmimic-response@^1.0.0, mimic-response@^1.0.1:\n  version \"1.0.1\"\n  resolved \"https://registry.yarnpkg.com/mimic-response/-/mimic-response-1.0.1.tgz#4923538878eef42063cb8a3e3b0798781487ab1b\"\n  integrity sha512-j5EctnkH7amfV/q5Hgmoal1g2QHFJRraOtmx0JpIqkxhBhI/lJSl1nMpQ45hVarwNETOoWEimndZ4QK0RHxuxQ==\n\nminimalistic-assert@^1.0.0, minimalistic-assert@^1.0.1:\n  version \"1.0.1\"\n  resolved \"https://registry.yarnpkg.com/minimalistic-assert/-/minimalistic-assert-1.0.1.tgz#2e194de044626d4a10e7f7fbc00ce73e83e4d5c7\"\n  integrity sha512-UtJcAD4yEaGtjPezWuO9wC4nwUnVH/8/Im3yEHQP4b67cXlD/Qr9hdITCU1xDbSEXg2XKNaP8jsReV7vQd00/A==\n\nminimalistic-crypto-utils@^1.0.1:\n  version \"1.0.1\"\n  resolved \"https://registry.yarnpkg.com/minimalistic-crypto-utils/-/minimalistic-crypto-utils-1.0.1.tgz#f6c00c1c0b082246e5c4d99dfb8c7c083b2b582a\"\n  integrity sha1-9sAMHAsIIkblxNmd+4x8CDsrWCo=\n\nminimatch@^3.0.4, minimatch@~3.0.2:\n  version \"3.0.8\"\n  resolved \"https://registry.yarnpkg.com/minimatch/-/minimatch-3.0.8.tgz#5e6a59bd11e2ab0de1cfb843eb2d82e546c321c1\"\n  integrity sha512-6FsRAQsxQ61mw+qP1ZzbL9Bc78x2p5OqNgNpnoAFLTrX8n5Kxph0CsnhmKKNXTWjXqU5L0pGPR7hYk+XWZr60Q==\n  dependencies:\n    brace-expansion \"^1.1.7\"\n\nminimist@^1.1.0, minimist@^1.1.1, minimist@^1.2.0:\n  version \"1.2.5\"\n  resolved \"https://registry.yarnpkg.com/minimist/-/minimist-1.2.5.tgz#67d66014b66a6a8aaa0c083c5fd58df4e4e97602\"\n  integrity sha512-FM9nNUYrRBAELZQT3xeZQ7fmMOBg6nWNmJKTcgsJeaLstP/UODVpGsr5OhXhhXg6f+qtJ8uiZ+PUxkDWcgIXLw==\n\nminimist@~0.0.1:\n  version \"0.0.10\"\n  resolved \"https://registry.yarnpkg.com/minimist/-/minimist-0.0.10.tgz#de3f98543dbf96082be48ad1a0c7cda836301dcf\"\n  integrity sha1-3j+YVD2/lggr5IrRoMfNqDYwHc8=\n\nminimisted@^2.0.0:\n  version \"2.0.0\"\n  resolved \"https://registry.yarnpkg.com/minimisted/-/minimisted-2.0.0.tgz#5e3295e74ed701b1cbeaa863a888181d6efbe8ce\"\n  integrity sha512-oP88Dw3LK/pdrKyMdlbmg3W50969UNr4ctISzJfPl+YPYHTAOrS+dihXnsgRNKSRIzDsrnV3eE2CCVlZbpOKdQ==\n  dependencies:\n    minimist \"^1.2.0\"\n\nmixin-deep@^1.2.0:\n  version \"1.3.2\"\n  resolved \"https://registry.yarnpkg.com/mixin-deep/-/mixin-deep-1.3.2.tgz#1120b43dc359a785dce65b55b82e257ccf479566\"\n  integrity sha512-WRoDn//mXBiJ1H40rqa3vH0toePwSsGb45iInWlTySa+Uu4k3tYUSxa2v1KqAiLtvlrSzaExqS1gtk96A9zvEA==\n  dependencies:\n    for-in \"^1.0.2\"\n    is-extendable \"^1.0.1\"\n\nmkdirp-classic@^0.5.2:\n  version \"0.5.3\"\n  resolved \"https://registry.yarnpkg.com/mkdirp-classic/-/mkdirp-classic-0.5.3.tgz#fa10c9115cc6d8865be221ba47ee9bed78601113\"\n  integrity sha512-gKLcREMhtuZRwRAfqP3RFW+TK4JqApVBtOIftVgjuABpAtpxhPGaDcfvbhNvD0B8iD1oUr/txX35NjcaY6Ns/A==\n\nmodule-deps@^6.0.0:\n  version \"6.2.2\"\n  resolved \"https://registry.yarnpkg.com/module-deps/-/module-deps-6.2.2.tgz#d8a15c2265dfc119153c29bb47386987d0ee423b\"\n  integrity sha512-a9y6yDv5u5I4A+IPHTnqFxcaKr4p50/zxTjcQJaX2ws9tN/W6J6YXnEKhqRyPhl494dkcxx951onSKVezmI+3w==\n  dependencies:\n    JSONStream \"^1.0.3\"\n    browser-resolve \"^1.7.0\"\n    cached-path-relative \"^1.0.2\"\n    concat-stream \"~1.6.0\"\n    defined \"^1.0.0\"\n    detective \"^5.2.0\"\n    duplexer2 \"^0.1.2\"\n    inherits \"^2.0.1\"\n    parents \"^1.0.0\"\n    readable-stream \"^2.0.2\"\n    resolve \"^1.4.0\"\n    stream-combiner2 \"^1.1.1\"\n    subarg \"^1.0.0\"\n    through2 \"^2.0.0\"\n    xtend \"^4.0.0\"\n\nms@2.0.0:\n  version \"2.0.0\"\n  resolved \"https://registry.yarnpkg.com/ms/-/ms-2.0.0.tgz#5608aeadfc00be6c2901df5f9861788de0d597c8\"\n  integrity sha1-VgiurfwAvmwpAd9fmGF4jeDVl8g=\n\nms@2.1.2, ms@^2.1.1:\n  version \"2.1.2\"\n  resolved \"https://registry.yarnpkg.com/ms/-/ms-2.1.2.tgz#d09d1f357b443f493382a8eb3ccd183872ae6009\"\n  integrity sha512-sGkPx+VjMtmA6MX27oA4FBFELFCZZ4S4XqeGOXCv68tT+jb3vk/RyaKWP0PTKyWtmLSM0b+adUTEvbs1PEaH2w==\n\nnan@^2.12.1:\n  version \"2.14.1\"\n  resolved \"https://registry.yarnpkg.com/nan/-/nan-2.14.1.tgz#d7be34dfa3105b91494c3147089315eff8874b01\"\n  integrity sha512-isWHgVjnFjh2x2yuJ/tj3JbwoHu3UC2dX5G/88Cm24yB6YopVgxvBObDY7n5xW6ExmFhJpSEQqFPvq9zaXc8Jw==\n\nnanomatch@^1.2.9:\n  version \"1.2.13\"\n  resolved \"https://registry.yarnpkg.com/nanomatch/-/nanomatch-1.2.13.tgz#b87a8aa4fc0de8fe6be88895b38983ff265bd119\"\n  integrity sha512-fpoe2T0RbHwBTBUOftAfBPaDEi06ufaUai0mE6Yn1kacc3SnTErfb/h+X94VXzI64rKFHYImXSvdwGGCmwOqCA==\n  dependencies:\n    arr-diff \"^4.0.0\"\n    array-unique \"^0.3.2\"\n    define-property \"^2.0.2\"\n    extend-shallow \"^3.0.2\"\n    fragment-cache \"^0.2.1\"\n    is-windows \"^1.0.2\"\n    kind-of \"^6.0.2\"\n    object.pick \"^1.3.0\"\n    regex-not \"^1.0.0\"\n    snapdragon \"^0.8.1\"\n    to-regex \"^3.0.1\"\n\nnegotiator@0.6.2:\n  version \"0.6.2\"\n  resolved \"https://registry.yarnpkg.com/negotiator/-/negotiator-0.6.2.tgz#feacf7ccf525a77ae9634436a64883ffeca346fb\"\n  integrity sha512-hZXc7K2e+PgeI1eDBe/10Ard4ekbfrrqG8Ep+8Jmf4JID2bNg7NvCPOZN+kfF574pFQI7mum2AUqDidoKqcTOw==\n\nnice-try@^1.0.4:\n  version \"1.0.5\"\n  resolved \"https://registry.yarnpkg.com/nice-try/-/nice-try-1.0.5.tgz#a3378a7696ce7d223e88fc9b764bd7ef1089e366\"\n  integrity sha512-1nh45deeb5olNY7eX82BkPO7SSxR5SSYJiPTrTdFUVYwAl8CKMA5N9PjTYkHiRjisVcxcQ1HXdLhx2qxxJzLNQ==\n\nnode-fetch@^1.6.3:\n  version \"1.7.3\"\n  resolved \"https://registry.yarnpkg.com/node-fetch/-/node-fetch-1.7.3.tgz#980f6f72d85211a5347c6b2bc18c5b84c3eb47ef\"\n  integrity sha512-NhZ4CsKx7cYm2vSrBAr2PvFOe6sWDf0UYLRqA6svUYg7+/TSfVAu49jYC4BvQ4Sms9SZgdqGBgroqfDhJdTyKQ==\n  dependencies:\n    encoding \"^0.1.11\"\n    is-stream \"^1.0.1\"\n\nnode-fetch@^2.0.0, node-fetch@^2.2.0:\n  version \"2.6.0\"\n  resolved \"https://registry.yarnpkg.com/node-fetch/-/node-fetch-2.6.0.tgz#e633456386d4aa55863f676a7ab0daa8fdecb0fd\"\n  integrity sha512-8dG4H5ujfvFiqDmVu9fQ5bOHUC15JMjMY/Zumv26oOvvVJjM67KF8koCWIabKQ1GJIa9r2mMZscBq/TbdOcmNA==\n\nnode-static@^0.7.9:\n  version \"0.7.11\"\n  resolved \"https://registry.yarnpkg.com/node-static/-/node-static-0.7.11.tgz#60120d349f3cef533e4e820670057eb631882e7f\"\n  integrity sha512-zfWC/gICcqb74D9ndyvxZWaI1jzcoHmf4UTHWQchBNuNMxdBLJMDiUgZ1tjGLEIe/BMhj2DxKD8HOuc2062pDQ==\n  dependencies:\n    colors \">=0.6.0\"\n    mime \"^1.2.9\"\n    optimist \">=0.3.4\"\n\nnodemon@^2.0.0:\n  version \"2.0.4\"\n  resolved \"https://registry.yarnpkg.com/nodemon/-/nodemon-2.0.4.tgz#55b09319eb488d6394aa9818148c0c2d1c04c416\"\n  integrity sha512-Ltced+hIfTmaS28Zjv1BM552oQ3dbwPqI4+zI0SLgq+wpJhSyqgYude/aZa/3i31VCQWMfXJVxvu86abcam3uQ==\n  dependencies:\n    chokidar \"^3.2.2\"\n    debug \"^3.2.6\"\n    ignore-by-default \"^1.0.1\"\n    minimatch \"^3.0.4\"\n    pstree.remy \"^1.1.7\"\n    semver \"^5.7.1\"\n    supports-color \"^5.5.0\"\n    touch \"^3.1.0\"\n    undefsafe \"^2.0.2\"\n    update-notifier \"^4.0.0\"\n\nnopt@~1.0.10:\n  version \"1.0.10\"\n  resolved \"https://registry.yarnpkg.com/nopt/-/nopt-1.0.10.tgz#6ddd21bd2a31417b92727dd585f8a6f37608ebee\"\n  integrity sha1-bd0hvSoxQXuScn3Vhfim83YI6+4=\n  dependencies:\n    abbrev \"1\"\n\nnormalize-package-data@^2.3.2:\n  version \"2.5.0\"\n  resolved \"https://registry.yarnpkg.com/normalize-package-data/-/normalize-package-data-2.5.0.tgz#e66db1838b200c1dfc233225d12cb36520e234a8\"\n  integrity sha512-/5CMN3T0R4XTj4DcGaexo+roZSdSFW/0AOOTROrjxzCG1wrWXEsGbRKevjlIL+ZDE4sZlJr5ED4YW0yqmkK+eA==\n  dependencies:\n    hosted-git-info \"^2.1.4\"\n    resolve \"^1.10.0\"\n    semver \"2 || 3 || 4 || 5\"\n    validate-npm-package-license \"^3.0.1\"\n\nnormalize-path@^2.1.1:\n  version \"2.1.1\"\n  resolved \"https://registry.yarnpkg.com/normalize-path/-/normalize-path-2.1.1.tgz#1ab28b556e198363a8c1a6f7e6fa20137fe6aed9\"\n  integrity sha1-GrKLVW4Zg2Oowab35vogE3/mrtk=\n  dependencies:\n    remove-trailing-separator \"^1.0.1\"\n\nnormalize-path@^3.0.0, normalize-path@~3.0.0:\n  version \"3.0.0\"\n  resolved \"https://registry.yarnpkg.com/normalize-path/-/normalize-path-3.0.0.tgz#0dcd69ff23a1c9b11fd0978316644a0388216a65\"\n  integrity sha512-6eZs5Ls3WtCisHWp9S2GUy8dqkpGi4BVSz3GaqiE6ezub0512ESztXUwUB6C6IKbQkY2Pnb/mD4WYojCRwcwLA==\n\nnormalize-url@^4.1.0:\n  version \"4.5.0\"\n  resolved \"https://registry.yarnpkg.com/normalize-url/-/normalize-url-4.5.0.tgz#453354087e6ca96957bd8f5baf753f5982142129\"\n  integrity sha512-2s47yzUxdexf1OhyRi4Em83iQk0aPvwTddtFz4hnSSw9dCEsLEGf6SwIO8ss/19S9iBb5sJaOuTvTGDeZI00BQ==\n\nnpm-run-all@^4.1.3:\n  version \"4.1.5\"\n  resolved \"https://registry.yarnpkg.com/npm-run-all/-/npm-run-all-4.1.5.tgz#04476202a15ee0e2e214080861bff12a51d98fba\"\n  integrity sha512-Oo82gJDAVcaMdi3nuoKFavkIHBRVqQ1qvMb+9LHk/cF4P6B2m8aP04hGf7oL6wZ9BuGwX1onlLhpuoofSyoQDQ==\n  dependencies:\n    ansi-styles \"^3.2.1\"\n    chalk \"^2.4.1\"\n    cross-spawn \"^6.0.5\"\n    memorystream \"^0.3.1\"\n    minimatch \"^3.0.4\"\n    pidtree \"^0.3.0\"\n    read-pkg \"^3.0.0\"\n    shell-quote \"^1.6.1\"\n    string.prototype.padend \"^3.0.0\"\n\nobject-assign@^4, object-assign@^4.0.1, object-assign@^4.1.1:\n  version \"4.1.1\"\n  resolved \"https://registry.yarnpkg.com/object-assign/-/object-assign-4.1.1.tgz#2109adc7965887cfc05cbbd442cac8bfbb360863\"\n  integrity sha1-IQmtx5ZYh8/AXLvUQsrIv7s2CGM=\n\nobject-copy@^0.1.0:\n  version \"0.1.0\"\n  resolved \"https://registry.yarnpkg.com/object-copy/-/object-copy-0.1.0.tgz#7e7d858b781bd7c991a41ba975ed3812754e998c\"\n  integrity sha1-fn2Fi3gb18mRpBupde04EnVOmYw=\n  dependencies:\n    copy-descriptor \"^0.1.0\"\n    define-property \"^0.2.5\"\n    kind-of \"^3.0.3\"\n\nobject-inspect@^1.13.1:\n  version \"1.13.2\"\n  resolved \"https://registry.yarnpkg.com/object-inspect/-/object-inspect-1.13.2.tgz#dea0088467fb991e67af4058147a24824a3043ff\"\n  integrity sha512-IRZSRuzJiynemAXPYtPe5BoI/RESNYR7TYm50MC5Mqbd3Jmw5y790sErYw3V6SryFJD64b74qQQs9wn5Bg/k3g==\n\nobject-inspect@^1.7.0:\n  version \"1.7.0\"\n  resolved \"https://registry.yarnpkg.com/object-inspect/-/object-inspect-1.7.0.tgz#f4f6bd181ad77f006b5ece60bd0b6f398ff74a67\"\n  integrity sha512-a7pEHdh1xKIAgTySUGgLMx/xwDZskN1Ud6egYYN3EdRW4ZMPNEDUTF+hwy2LUC+Bl+SyLXANnwz/jyh/qutKUw==\n\nobject-is@^1.0.1:\n  version \"1.1.2\"\n  resolved \"https://registry.yarnpkg.com/object-is/-/object-is-1.1.2.tgz#c5d2e87ff9e119f78b7a088441519e2eec1573b6\"\n  integrity sha512-5lHCz+0uufF6wZ7CRFWJN3hp8Jqblpgve06U5CMQ3f//6iDjPr2PEo9MWCjEssDsa+UZEL4PkFpr+BMop6aKzQ==\n  dependencies:\n    define-properties \"^1.1.3\"\n    es-abstract \"^1.17.5\"\n\nobject-keys@^1.0.11, object-keys@^1.0.12, object-keys@^1.1.1:\n  version \"1.1.1\"\n  resolved \"https://registry.yarnpkg.com/object-keys/-/object-keys-1.1.1.tgz#1c47f272df277f3b1daf061677d9c82e2322c60e\"\n  integrity sha512-NuAESUOUMrlIXOfHKzD6bpPu3tYt3xvjNdRIQ+FeT0lNb4K8WR70CaDxhuNguS2XG+GjkyMwOzsN5ZktImfhLA==\n\nobject-visit@^1.0.0:\n  version \"1.0.1\"\n  resolved \"https://registry.yarnpkg.com/object-visit/-/object-visit-1.0.1.tgz#f79c4493af0c5377b59fe39d395e41042dd045bb\"\n  integrity sha1-95xEk68MU3e1n+OdOV5BBC3QRbs=\n  dependencies:\n    isobject \"^3.0.0\"\n\nobject.assign@^4.1.0:\n  version \"4.1.0\"\n  resolved \"https://registry.yarnpkg.com/object.assign/-/object.assign-4.1.0.tgz#968bf1100d7956bb3ca086f006f846b3bc4008da\"\n  integrity sha512-exHJeq6kBKj58mqGyTQ9DFvrZC/eR6OwxzoM9YRoGBqrXYonaFyGiFMuc9VZrXf7DarreEwMpurG3dd+CNyW5w==\n  dependencies:\n    define-properties \"^1.1.2\"\n    function-bind \"^1.1.1\"\n    has-symbols \"^1.0.0\"\n    object-keys \"^1.0.11\"\n\nobject.pick@^1.3.0:\n  version \"1.3.0\"\n  resolved \"https://registry.yarnpkg.com/object.pick/-/object.pick-1.3.0.tgz#87a10ac4c1694bd2e1cbf53591a66141fb5dd747\"\n  integrity sha1-h6EKxMFpS9Lhy/U1kaZhQftd10c=\n  dependencies:\n    isobject \"^3.0.1\"\n\noctokat@^0.10.0:\n  version \"0.10.0\"\n  resolved \"https://registry.yarnpkg.com/octokat/-/octokat-0.10.0.tgz#a56846178199f36ddfc8979c9749ffea65736508\"\n  integrity sha512-VJ21L1gMlByYMurduLYiOcI8AwlZkUV8OXRN8pMXsbkIqIVqn0tgdTfxzWM9spX4VJTTG02OgqwDTqQsOmDing==\n  dependencies:\n    fetch-vcr \"^1.1.0\"\n    lodash \"^4.16.4\"\n    node-fetch \"^2.0.0\"\n\non-finished@2.4.1:\n  version \"2.4.1\"\n  resolved \"https://registry.yarnpkg.com/on-finished/-/on-finished-2.4.1.tgz#58c8c44116e54845ad57f14ab10b03533184ac3f\"\n  integrity sha512-oVlzkg3ENAhCk2zdv7IJwd/QUD4z2RxRwpkcGY8psCVcCYZNq4wYnVWALHM+brtuJjePWiYF/ClmuDr8Ch5+kg==\n  dependencies:\n    ee-first \"1.1.1\"\n\non-finished@~2.3.0:\n  version \"2.3.0\"\n  resolved \"https://registry.yarnpkg.com/on-finished/-/on-finished-2.3.0.tgz#20f1336481b083cd75337992a16971aa2d906947\"\n  integrity sha1-IPEzZIGwg811M3mSoWlxqi2QaUc=\n  dependencies:\n    ee-first \"1.1.1\"\n\nonce@^1.3.0, once@^1.3.1, once@^1.4.0:\n  version \"1.4.0\"\n  resolved \"https://registry.yarnpkg.com/once/-/once-1.4.0.tgz#583b1aa775961d4b113ac17d9c50baef9dd76bd1\"\n  integrity sha1-WDsap3WWHUsROsF9nFC6753Xa9E=\n  dependencies:\n    wrappy \"1\"\n\noptimist@>=0.3.4:\n  version \"0.6.1\"\n  resolved \"https://registry.yarnpkg.com/optimist/-/optimist-0.6.1.tgz#da3ea74686fa21a19a111c326e90eb15a0196686\"\n  integrity sha1-2j6nRob6IaGaERwybpDrFaAZZoY=\n  dependencies:\n    minimist \"~0.0.1\"\n    wordwrap \"~0.0.2\"\n\nos-browserify@^0.3.0, os-browserify@~0.3.0:\n  version \"0.3.0\"\n  resolved \"https://registry.yarnpkg.com/os-browserify/-/os-browserify-0.3.0.tgz#854373c7f5c2315914fc9bfc6bd8238fdda1ec27\"\n  integrity sha1-hUNzx/XCMVkU/Jv8a9gjj92h7Cc=\n\noutpipe@^1.1.0:\n  version \"1.1.1\"\n  resolved \"https://registry.yarnpkg.com/outpipe/-/outpipe-1.1.1.tgz#50cf8616365e87e031e29a5ec9339a3da4725fa2\"\n  integrity sha1-UM+GFjZeh+Ax4ppeyTOaPaRyX6I=\n  dependencies:\n    shell-quote \"^1.4.2\"\n\np-cancelable@^1.0.0:\n  version \"1.1.0\"\n  resolved \"https://registry.yarnpkg.com/p-cancelable/-/p-cancelable-1.1.0.tgz#d078d15a3af409220c886f1d9a0ca2e441ab26cc\"\n  integrity sha512-s73XxOZ4zpt1edZYZzvhqFa6uvQc1vwUa0K0BdtIZgQMAJj9IbebH+JkgKZc9h+B05PKHLOTl4ajG1BmNrVZlw==\n\np-limit@^2.2.0:\n  version \"2.3.0\"\n  resolved \"https://registry.yarnpkg.com/p-limit/-/p-limit-2.3.0.tgz#3dd33c647a214fdfffd835933eb086da0dc21db1\"\n  integrity sha512-//88mFWSJx8lxCzwdAABTJL2MyWB12+eIY7MDL2SqLmAkeKU9qxRvWuSyTjm3FUmpBEMuFfckAIqEaVGUDxb6w==\n  dependencies:\n    p-try \"^2.0.0\"\n\np-locate@^4.1.0:\n  version \"4.1.0\"\n  resolved \"https://registry.yarnpkg.com/p-locate/-/p-locate-4.1.0.tgz#a3428bb7088b3a60292f66919278b7c297ad4f07\"\n  integrity sha512-R79ZZ/0wAxKGu3oYMlz8jy/kbhsNrS7SKZ7PxEHBgJ5+F2mtFW2fK2cOtBh1cHYkQsbzFV7I+EoRKe6Yt0oK7A==\n  dependencies:\n    p-limit \"^2.2.0\"\n\np-try@^2.0.0:\n  version \"2.2.0\"\n  resolved \"https://registry.yarnpkg.com/p-try/-/p-try-2.2.0.tgz#cb2868540e313d61de58fafbe35ce9004d5540e6\"\n  integrity sha512-R4nPAVTAU0B9D35/Gk3uJf/7XYbQcyohSKdvAxIRSNghFl4e71hVoGnBNQz9cWaXxO2I10KTC+3jMdvvoKw6dQ==\n\npackage-json@^6.3.0:\n  version \"6.5.0\"\n  resolved \"https://registry.yarnpkg.com/package-json/-/package-json-6.5.0.tgz#6feedaca35e75725876d0b0e64974697fed145b0\"\n  integrity sha512-k3bdm2n25tkyxcjSKzB5x8kfVxlMdgsbPr0GkZcwHsLpba6cBjqCt1KlcChKEvxHIcTB1FVMuwoijZ26xex5MQ==\n  dependencies:\n    got \"^9.6.0\"\n    registry-auth-token \"^4.0.0\"\n    registry-url \"^5.0.0\"\n    semver \"^6.2.0\"\n\npad-end@^1.0.2:\n  version \"1.0.2\"\n  resolved \"https://registry.yarnpkg.com/pad-end/-/pad-end-1.0.2.tgz#6b41a42fdb7effa55858bb77dade52eee388e6cc\"\n  integrity sha1-a0GkL9t+/6VYWLt32t5S7uOI5sw=\n\npad@^3.2.0:\n  version \"3.2.0\"\n  resolved \"https://registry.yarnpkg.com/pad/-/pad-3.2.0.tgz#be7a1d1cb6757049b4ad5b70e71977158fea95d1\"\n  integrity sha512-2u0TrjcGbOjBTJpyewEl4hBO3OeX5wWue7eIFPzQTg6wFSvoaHcBTTUY5m+n0hd04gmTCPuY0kCpVIVuw5etwg==\n  dependencies:\n    wcwidth \"^1.0.1\"\n\npako@~1.0.5:\n  version \"1.0.11\"\n  resolved \"https://registry.yarnpkg.com/pako/-/pako-1.0.11.tgz#6c9599d340d54dfd3946380252a35705a6b992bf\"\n  integrity sha512-4hLB8Py4zZce5s4yd9XzopqwVv/yGNhV1Bl8NTmCq1763HeK2+EwVTv+leGeL13Dnh2wfbqowVPXCIO0z4taYw==\n\nparents@^1.0.0, parents@^1.0.1:\n  version \"1.0.1\"\n  resolved \"https://registry.yarnpkg.com/parents/-/parents-1.0.1.tgz#fedd4d2bf193a77745fe71e371d73c3307d9c751\"\n  integrity sha1-/t1NK/GTp3dF/nHjcdc8MwfZx1E=\n  dependencies:\n    path-platform \"~0.11.15\"\n\nparse-asn1@^5.0.0:\n  version \"5.1.5\"\n  resolved \"https://registry.yarnpkg.com/parse-asn1/-/parse-asn1-5.1.5.tgz#003271343da58dc94cace494faef3d2147ecea0e\"\n  integrity sha512-jkMYn1dcJqF6d5CpU689bq7w/b5ALS9ROVSpQDPrZsqqesUJii9qutvoT5ltGedNXMO2e16YUWIghG9KxaViTQ==\n  dependencies:\n    asn1.js \"^4.0.0\"\n    browserify-aes \"^1.0.0\"\n    create-hash \"^1.1.0\"\n    evp_bytestokey \"^1.0.0\"\n    pbkdf2 \"^3.0.3\"\n    safe-buffer \"^5.1.1\"\n\nparse-asn1@^5.1.6:\n  version \"5.1.6\"\n  resolved \"https://registry.yarnpkg.com/parse-asn1/-/parse-asn1-5.1.6.tgz#385080a3ec13cb62a62d39409cb3e88844cdaed4\"\n  integrity sha512-RnZRo1EPU6JBnra2vGHj0yhp6ebyjBZpmUCLHWiFhxlzvBCCpAuZ7elsBp1PVAbQN0/04VD/19rfzlBSwLstMw==\n  dependencies:\n    asn1.js \"^5.2.0\"\n    browserify-aes \"^1.0.0\"\n    evp_bytestokey \"^1.0.0\"\n    pbkdf2 \"^3.0.3\"\n    safe-buffer \"^5.1.1\"\n\nparse-json@^4.0.0:\n  version \"4.0.0\"\n  resolved \"https://registry.yarnpkg.com/parse-json/-/parse-json-4.0.0.tgz#be35f5425be1f7f6c747184f98a788cb99477ee0\"\n  integrity sha1-vjX1Qlvh9/bHRxhPmKeIy5lHfuA=\n  dependencies:\n    error-ex \"^1.3.1\"\n    json-parse-better-errors \"^1.0.1\"\n\nparseurl@~1.3.3:\n  version \"1.3.3\"\n  resolved \"https://registry.yarnpkg.com/parseurl/-/parseurl-1.3.3.tgz#9da19e7bee8d12dff0513ed5b76957793bc2e8d4\"\n  integrity sha512-CiyeOxFT/JZyN5m0z9PfXw4SCBJ6Sygz1Dpl0wqjlhDEGGBP1GnsUVEL0p63hoG1fcj3fHynXi9NYO4nWOL+qQ==\n\npascalcase@^0.1.1:\n  version \"0.1.1\"\n  resolved \"https://registry.yarnpkg.com/pascalcase/-/pascalcase-0.1.1.tgz#b363e55e8006ca6fe21784d2db22bd15d7917f14\"\n  integrity sha1-s2PlXoAGym/iF4TS2yK9FdeRfxQ=\n\npath-browserify@^1.0.0:\n  version \"1.0.1\"\n  resolved \"https://registry.yarnpkg.com/path-browserify/-/path-browserify-1.0.1.tgz#d98454a9c3753d5790860f16f68867b9e46be1fd\"\n  integrity sha512-b7uo2UCUOYZcnF/3ID0lulOJi/bafxa1xPe7ZPsammBSpjSWQkjNxlt635YGS2MiR9GjvuXCtz2emr3jbsz98g==\n\npath-browserify@~0.0.0:\n  version \"0.0.1\"\n  resolved \"https://registry.yarnpkg.com/path-browserify/-/path-browserify-0.0.1.tgz#e6c4ddd7ed3aa27c68a20cc4e50e1a4ee83bbc4a\"\n  integrity sha512-BapA40NHICOS+USX9SN4tyhq+A2RrN/Ws5F0Z5aMHDp98Fl86lX8Oti8B7uN93L4Ifv4fHOEA+pQw87gmMO/lQ==\n\npath-dirname@^1.0.0:\n  version \"1.0.2\"\n  resolved \"https://registry.yarnpkg.com/path-dirname/-/path-dirname-1.0.2.tgz#cc33d24d525e099a5388c0336c6e32b9160609e0\"\n  integrity sha1-zDPSTVJeCZpTiMAzbG4yuRYGCeA=\n\npath-exists@^4.0.0:\n  version \"4.0.0\"\n  resolved \"https://registry.yarnpkg.com/path-exists/-/path-exists-4.0.0.tgz#513bdbe2d3b95d7762e8c1137efa195c6c61b5b3\"\n  integrity sha512-ak9Qy5Q7jYb2Wwcey5Fpvg2KoAc/ZIhLSLOSBmRmygPsGwkVVt0fZa0qrtMz+m6tJTAHfZQ8FnmB4MG4LWy7/w==\n\npath-is-absolute@^1.0.0, path-is-absolute@^1.0.1:\n  version \"1.0.1\"\n  resolved \"https://registry.yarnpkg.com/path-is-absolute/-/path-is-absolute-1.0.1.tgz#174b9268735534ffbc7ace6bf53a5a9e1b5c5f5f\"\n  integrity sha1-F0uSaHNVNP+8es5r9TpanhtcX18=\n\npath-key@^2.0.1:\n  version \"2.0.1\"\n  resolved \"https://registry.yarnpkg.com/path-key/-/path-key-2.0.1.tgz#411cadb574c5a140d3a4b1910d40d80cc9f40b40\"\n  integrity sha1-QRyttXTFoUDTpLGRDUDYDMn0C0A=\n\npath-parse@^1.0.6:\n  version \"1.0.7\"\n  resolved \"https://registry.yarnpkg.com/path-parse/-/path-parse-1.0.7.tgz#fbc114b60ca42b30d9daf5858e4bd68bbedb6735\"\n  integrity sha512-LDJzPVEEEPR+y48z93A0Ed0yXb8pAByGWo/k5YYdYgpY2/2EsOsksJrq7lOHxryrVOn1ejG6oAp8ahvOIQD8sw==\n\npath-platform@~0.11.15:\n  version \"0.11.15\"\n  resolved \"https://registry.yarnpkg.com/path-platform/-/path-platform-0.11.15.tgz#e864217f74c36850f0852b78dc7bf7d4a5721bf2\"\n  integrity sha1-6GQhf3TDaFDwhSt43Hv31KVyG/I=\n\npath-type@^3.0.0:\n  version \"3.0.0\"\n  resolved \"https://registry.yarnpkg.com/path-type/-/path-type-3.0.0.tgz#cef31dc8e0a1a3bb0d105c0cd97cf3bf47f4e36f\"\n  integrity sha512-T2ZUsdZFHgA3u4e5PfPbjd7HDDpxPnQb5jN0SrDsjNSuVXHJqtwTnWqG0B1jZrgmJ/7lj1EmVIByWt1gxGkWvg==\n  dependencies:\n    pify \"^3.0.0\"\n\npbkdf2@^3.0.3:\n  version \"3.1.1\"\n  resolved \"https://registry.yarnpkg.com/pbkdf2/-/pbkdf2-3.1.1.tgz#cb8724b0fada984596856d1a6ebafd3584654b94\"\n  integrity sha512-4Ejy1OPxi9f2tt1rRV7Go7zmfDQ+ZectEQz3VGUQhgq62HtIRPDyG/JtnwIxs6x3uNMwo2V7q1fMvKjb+Tnpqg==\n  dependencies:\n    create-hash \"^1.1.2\"\n    create-hmac \"^1.1.4\"\n    ripemd160 \"^2.0.1\"\n    safe-buffer \"^5.0.1\"\n    sha.js \"^2.4.8\"\n\npicomatch@^2.0.4, picomatch@^2.2.1, picomatch@^2.2.2:\n  version \"2.2.2\"\n  resolved \"https://registry.yarnpkg.com/picomatch/-/picomatch-2.2.2.tgz#21f333e9b6b8eaff02468f5146ea406d345f4dad\"\n  integrity sha512-q0M/9eZHzmr0AulXyPwNfZjtwZ/RBZlbN3K3CErVrk50T2ASYI7Bye0EvekFY3IP1Nt2DHu0re+V2ZHIpMkuWg==\n\npidtree@^0.3.0:\n  version \"0.3.1\"\n  resolved \"https://registry.yarnpkg.com/pidtree/-/pidtree-0.3.1.tgz#ef09ac2cc0533df1f3250ccf2c4d366b0d12114a\"\n  integrity sha512-qQbW94hLHEqCg7nhby4yRC7G2+jYHY4Rguc2bjw7Uug4GIJuu1tvf2uHaZv5Q8zdt+WKJ6qK1FOI6amaWUo5FA==\n\npify@^2.0.0:\n  version \"2.3.0\"\n  resolved \"https://registry.yarnpkg.com/pify/-/pify-2.3.0.tgz#ed141a6ac043a849ea588498e7dca8b15330e90c\"\n  integrity sha1-7RQaasBDqEnqWISY59yosVMw6Qw=\n\npify@^3.0.0:\n  version \"3.0.0\"\n  resolved \"https://registry.yarnpkg.com/pify/-/pify-3.0.0.tgz#e5a4acd2c101fdf3d9a4d07f0dbc4db49dd28176\"\n  integrity sha1-5aSs0sEB/fPZpNB/DbxNtJ3SgXY=\n\npinkie-promise@^2.0.0:\n  version \"2.0.1\"\n  resolved \"https://registry.yarnpkg.com/pinkie-promise/-/pinkie-promise-2.0.1.tgz#2135d6dfa7a358c069ac9b178776288228450ffa\"\n  integrity sha1-ITXW36ejWMBprJsXh3YogihFD/o=\n  dependencies:\n    pinkie \"^2.0.0\"\n\npinkie@^2.0.0:\n  version \"2.0.4\"\n  resolved \"https://registry.yarnpkg.com/pinkie/-/pinkie-2.0.4.tgz#72556b80cfa0d48a974e80e77248e80ed4f7f870\"\n  integrity sha1-clVrgM+g1IqXToDnckjoDtT3+HA=\n\npkg-dir@^4.1.0:\n  version \"4.2.0\"\n  resolved \"https://registry.yarnpkg.com/pkg-dir/-/pkg-dir-4.2.0.tgz#f099133df7ede422e81d1d8448270eeb3e4261f3\"\n  integrity sha512-HRDzbaKjC+AOWVXxAU/x54COGeIv9eb+6CkDSQoNTt4XyWoIJvuPsXizxu/Fr23EiekbtZwmh1IcIG/l/a10GQ==\n  dependencies:\n    find-up \"^4.0.0\"\n\nplur@^2.1.0:\n  version \"2.1.2\"\n  resolved \"https://registry.yarnpkg.com/plur/-/plur-2.1.2.tgz#7482452c1a0f508e3e344eaec312c91c29dc655a\"\n  integrity sha1-dIJFLBoPUI4+NE6uwxLJHCncZVo=\n  dependencies:\n    irregular-plurals \"^1.0.0\"\n\nposix-character-classes@^0.1.0:\n  version \"0.1.1\"\n  resolved \"https://registry.yarnpkg.com/posix-character-classes/-/posix-character-classes-0.1.1.tgz#01eac0fe3b5af71a2a6c02feabb8c1fef7e00eab\"\n  integrity sha1-AerA/jta9xoqbAL+q7jB/vfgDqs=\n\nprepend-http@^2.0.0:\n  version \"2.0.0\"\n  resolved \"https://registry.yarnpkg.com/prepend-http/-/prepend-http-2.0.0.tgz#e92434bfa5ea8c19f41cdfd401d741a3c819d897\"\n  integrity sha1-6SQ0v6XqjBn0HN/UAddBo8gZ2Jc=\n\nprettier@^1.19.1:\n  version \"1.19.1\"\n  resolved \"https://registry.yarnpkg.com/prettier/-/prettier-1.19.1.tgz#f7d7f5ff8a9cd872a7be4ca142095956a60797cb\"\n  integrity sha512-s7PoyDv/II1ObgQunCbB9PdLmUcBZcnWOcxDh7O0N/UwDEsHyqkW+Qh28jW+mVuCdx7gLB0BotYI1Y6uI9iyew==\n\nprocess-nextick-args@~2.0.0:\n  version \"2.0.1\"\n  resolved \"https://registry.yarnpkg.com/process-nextick-args/-/process-nextick-args-2.0.1.tgz#7820d9b16120cc55ca9ae7792680ae7dba6d7fe2\"\n  integrity sha512-3ouUOpQhtgrbOa17J7+uxOTpITYWaGP7/AhoR3+A+/1e9skrzelGi/dXzEYyvbxubEF6Wn2ypscTKiKJFFn1ag==\n\nprocess@^0.11.10, process@~0.11.0:\n  version \"0.11.10\"\n  resolved \"https://registry.yarnpkg.com/process/-/process-0.11.10.tgz#7332300e840161bda3e69a1d1d91a7d4bc16f182\"\n  integrity sha1-czIwDoQBYb2j5podHZGn1LwW8YI=\n\npstree.remy@^1.1.7:\n  version \"1.1.8\"\n  resolved \"https://registry.yarnpkg.com/pstree.remy/-/pstree.remy-1.1.8.tgz#c242224f4a67c21f686839bbdb4ac282b8373d3a\"\n  integrity sha512-77DZwxQmxKnu3aR542U+X8FypNzbfJ+C5XQDk3uWjWxn6151aIMGthWYRXTqT1E5oJvg+ljaa2OJi+VfvCOQ8w==\n\npublic-encrypt@^4.0.0:\n  version \"4.0.3\"\n  resolved \"https://registry.yarnpkg.com/public-encrypt/-/public-encrypt-4.0.3.tgz#4fcc9d77a07e48ba7527e7cbe0de33d0701331e0\"\n  integrity sha512-zVpa8oKZSz5bTMTFClc1fQOnyyEzpl5ozpi1B5YcvBrdohMjH2rfsBtyXcuNuwjsDIXmBYlF2N5FlJYhR29t8Q==\n  dependencies:\n    bn.js \"^4.1.0\"\n    browserify-rsa \"^4.0.0\"\n    create-hash \"^1.1.0\"\n    parse-asn1 \"^5.0.0\"\n    randombytes \"^2.0.1\"\n    safe-buffer \"^5.1.2\"\n\npump@^3.0.0:\n  version \"3.0.0\"\n  resolved \"https://registry.yarnpkg.com/pump/-/pump-3.0.0.tgz#b4a2116815bde2f4e1ea602354e8c75565107a64\"\n  integrity sha512-LwZy+p3SFs1Pytd/jYct4wpv49HiYCqd9Rlc5ZVdk0V+8Yzv6jR5Blk3TRmPL1ft69TxP0IMZGJ+WPFU2BFhww==\n  dependencies:\n    end-of-stream \"^1.1.0\"\n    once \"^1.3.1\"\n\npunycode@1.3.2:\n  version \"1.3.2\"\n  resolved \"https://registry.yarnpkg.com/punycode/-/punycode-1.3.2.tgz#9653a036fb7c1ee42342f2325cceefea3926c48d\"\n  integrity sha1-llOgNvt8HuQjQvIyXM7v6jkmxI0=\n\npunycode@^1.3.2:\n  version \"1.4.1\"\n  resolved \"https://registry.yarnpkg.com/punycode/-/punycode-1.4.1.tgz#c0d5a63b2718800ad8e1eb0fa5269c84dd41845e\"\n  integrity sha1-wNWmOycYgArY4esPpSachN1BhF4=\n\npunycode@^2.1.1:\n  version \"2.1.1\"\n  resolved \"https://registry.yarnpkg.com/punycode/-/punycode-2.1.1.tgz#b58b010ac40c22c5657616c8d2c2c02c7bf479ec\"\n  integrity sha512-XRsRjdf+j5ml+y/6GKHPZbrF/8p2Yga0JPtdqTIY2Xe5ohJPD9saDJJLPvp9+NSBprVvevdXZybnj2cv8OEd0A==\n\npupa@^2.0.1:\n  version \"2.0.1\"\n  resolved \"https://registry.yarnpkg.com/pupa/-/pupa-2.0.1.tgz#dbdc9ff48ffbea4a26a069b6f9f7abb051008726\"\n  integrity sha512-hEJH0s8PXLY/cdXh66tNEQGndDrIKNqNC5xmrysZy3i5C3oEoLna7YAOad+7u125+zH1HNXUmGEkrhb3c2VriA==\n  dependencies:\n    escape-goat \"^2.0.0\"\n\nqjobs@^1.2.0:\n  version \"1.2.0\"\n  resolved \"https://registry.yarnpkg.com/qjobs/-/qjobs-1.2.0.tgz#c45e9c61800bd087ef88d7e256423bdd49e5d071\"\n  integrity sha512-8YOJEHtxpySA3fFDyCRxA+UUV+fA+rTWnuWvylOK/NCjhY+b4ocCtmu8TtsWb+mYeU+GCHf/S66KZF/AsteKHg==\n\nqs@6.13.0:\n  version \"6.13.0\"\n  resolved \"https://registry.yarnpkg.com/qs/-/qs-6.13.0.tgz#6ca3bd58439f7e245655798997787b0d88a51906\"\n  integrity sha512-+38qI9SOr8tfZ4QmJNplMUxqjbe7LKvvZgWdExBOmd+egZTtjLB67Gu0HRX3u/XOq7UU2Nx6nsjvS16Z9uwfpg==\n  dependencies:\n    side-channel \"^1.0.6\"\n\nquerystring-es3@^0.2.1, querystring-es3@~0.2.0:\n  version \"0.2.1\"\n  resolved \"https://registry.yarnpkg.com/querystring-es3/-/querystring-es3-0.2.1.tgz#9ec61f79049875707d69414596fd907a4d711e73\"\n  integrity sha1-nsYfeQSYdXB9aUFFlv2Qek1xHnM=\n\nquerystring@0.2.0:\n  version \"0.2.0\"\n  resolved \"https://registry.yarnpkg.com/querystring/-/querystring-0.2.0.tgz#b209849203bb25df820da756e747005878521620\"\n  integrity sha1-sgmEkgO7Jd+CDadW50cAWHhSFiA=\n\nrandombytes@^2.0.0, randombytes@^2.0.1, randombytes@^2.0.5:\n  version \"2.1.0\"\n  resolved \"https://registry.yarnpkg.com/randombytes/-/randombytes-2.1.0.tgz#df6f84372f0270dc65cdf6291349ab7a473d4f2a\"\n  integrity sha512-vYl3iOX+4CKUWuxGi9Ukhie6fsqXqS9FE2Zaic4tNFD2N2QQaXOMFbuKK4QmDHC0JO6B1Zp41J0LpT0oR68amQ==\n  dependencies:\n    safe-buffer \"^5.1.0\"\n\nrandomfill@^1.0.3:\n  version \"1.0.4\"\n  resolved \"https://registry.yarnpkg.com/randomfill/-/randomfill-1.0.4.tgz#c92196fc86ab42be983f1bf31778224931d61458\"\n  integrity sha512-87lcbR8+MhcWcUiQ+9e+Rwx8MyR2P7qnt15ynUlbm3TU/fjbgz4GsvfSUDTemtCCtVCqb4ZcEFlyPNTh9bBTLw==\n  dependencies:\n    randombytes \"^2.0.5\"\n    safe-buffer \"^5.1.0\"\n\nrange-parser@^1.2.1:\n  version \"1.2.1\"\n  resolved \"https://registry.yarnpkg.com/range-parser/-/range-parser-1.2.1.tgz#3cf37023d199e1c24d1a55b84800c2f3e6468031\"\n  integrity sha512-Hrgsx+orqoygnmhFbKaHE6c296J+HTAQXoxEF6gNupROmmGJRoyzfG3ccAveqCBrwr/2yxQ5BVd/GTl5agOwSg==\n\nraw-body@2.5.2:\n  version \"2.5.2\"\n  resolved \"https://registry.yarnpkg.com/raw-body/-/raw-body-2.5.2.tgz#99febd83b90e08975087e8f1f9419a149366b68a\"\n  integrity sha512-8zGqypfENjCIqGhgXToC8aB2r7YrBX+AQAfIPs/Mlk+BtPTztOvTS01NRW/3Eh60J+a48lt8qsCzirQ6loCVfA==\n  dependencies:\n    bytes \"3.1.2\"\n    http-errors \"2.0.0\"\n    iconv-lite \"0.4.24\"\n    unpipe \"1.0.0\"\n\nrc@^1.2.8:\n  version \"1.2.8\"\n  resolved \"https://registry.yarnpkg.com/rc/-/rc-1.2.8.tgz#cd924bf5200a075b83c188cd6b9e211b7fc0d3ed\"\n  integrity sha512-y3bGgqKj3QBdxLbLkomlohkvsA8gdAiUQlSBJnBhfn+BPxg4bc62d8TcBW15wavDfgexCgccckhcZvywyQYPOw==\n  dependencies:\n    deep-extend \"^0.6.0\"\n    ini \"~1.3.0\"\n    minimist \"^1.2.0\"\n    strip-json-comments \"~2.0.1\"\n\nread-only-stream@^2.0.0:\n  version \"2.0.0\"\n  resolved \"https://registry.yarnpkg.com/read-only-stream/-/read-only-stream-2.0.0.tgz#2724fd6a8113d73764ac288d4386270c1dbf17f0\"\n  integrity sha1-JyT9aoET1zdkrCiNQ4YnDB2/F/A=\n  dependencies:\n    readable-stream \"^2.0.2\"\n\nread-pkg@^3.0.0:\n  version \"3.0.0\"\n  resolved \"https://registry.yarnpkg.com/read-pkg/-/read-pkg-3.0.0.tgz#9cbc686978fee65d16c00e2b19c237fcf6e38389\"\n  integrity sha1-nLxoaXj+5l0WwA4rGcI3/Pbjg4k=\n  dependencies:\n    load-json-file \"^4.0.0\"\n    normalize-package-data \"^2.3.2\"\n    path-type \"^3.0.0\"\n\nreadable-stream@1.1:\n  version \"1.1.13\"\n  resolved \"https://registry.yarnpkg.com/readable-stream/-/readable-stream-1.1.13.tgz#f6eef764f514c89e2b9e23146a75ba106756d23e\"\n  integrity sha1-9u73ZPUUyJ4rniMUanW6EGdW0j4=\n  dependencies:\n    core-util-is \"~1.0.0\"\n    inherits \"~2.0.1\"\n    isarray \"0.0.1\"\n    string_decoder \"~0.10.x\"\n\nreadable-stream@^2.0.2, readable-stream@^2.2.2, readable-stream@~2.3.6:\n  version \"2.3.7\"\n  resolved \"https://registry.yarnpkg.com/readable-stream/-/readable-stream-2.3.7.tgz#1eca1cf711aef814c04f62252a36a62f6cb23b57\"\n  integrity sha512-Ebho8K4jIbHAxnuxi7o42OrZgF/ZTNcsZj6nRKyUmkhLFq8CHItp/fy6hQZuZmP/n3yZ9VBUbp4zz/mX8hmYPw==\n  dependencies:\n    core-util-is \"~1.0.0\"\n    inherits \"~2.0.3\"\n    isarray \"~1.0.0\"\n    process-nextick-args \"~2.0.0\"\n    safe-buffer \"~5.1.1\"\n    string_decoder \"~1.1.1\"\n    util-deprecate \"~1.0.1\"\n\nreadable-stream@^3.1.1, readable-stream@^3.6.0:\n  version \"3.6.0\"\n  resolved \"https://registry.yarnpkg.com/readable-stream/-/readable-stream-3.6.0.tgz#337bbda3adc0706bd3e024426a286d4b4b2c9198\"\n  integrity sha512-BViHy7LKeTz4oNnkcLJ+lVSL6vpiFeX6/d3oSH8zCW7UxP2onchk+vTGB143xuFjHS3deTgkKoXXymXqymiIdA==\n  dependencies:\n    inherits \"^2.0.3\"\n    string_decoder \"^1.1.1\"\n    util-deprecate \"^1.0.1\"\n\nreadable-stream@^3.6.2:\n  version \"3.6.2\"\n  resolved \"https://registry.yarnpkg.com/readable-stream/-/readable-stream-3.6.2.tgz#56a9b36ea965c00c5a93ef31eb111a0f11056967\"\n  integrity sha512-9u/sniCrY3D5WdsERHzHE4G2YCXqoG5FTHUiCC4SIbr6XcLZBY05ya9EKjYek9O5xOAwjGq+1JdGBAS7Q9ScoA==\n  dependencies:\n    inherits \"^2.0.3\"\n    string_decoder \"^1.1.1\"\n    util-deprecate \"^1.0.1\"\n\nreaddirp@^2.2.1:\n  version \"2.2.1\"\n  resolved \"https://registry.yarnpkg.com/readdirp/-/readdirp-2.2.1.tgz#0e87622a3325aa33e892285caf8b4e846529a525\"\n  integrity sha512-1JU/8q+VgFZyxwrJ+SVIOsh+KywWGpds3NTqikiKpDMZWScmAYyKIgqkO+ARvNWJfXeXR1zxz7aHF4u4CyH6vQ==\n  dependencies:\n    graceful-fs \"^4.1.11\"\n    micromatch \"^3.1.10\"\n    readable-stream \"^2.0.2\"\n\nreaddirp@~3.6.0:\n  version \"3.6.0\"\n  resolved \"https://registry.yarnpkg.com/readdirp/-/readdirp-3.6.0.tgz#74a370bd857116e245b29cc97340cd431a02a6c7\"\n  integrity sha512-hOS089on8RduqdbhvQ5Z37A0ESjsqz6qnRcffsMU3495FuTdqSm+7bhJ29JvIOsBDEEnan5DPu9t3To9VRlMzA==\n  dependencies:\n    picomatch \"^2.2.1\"\n\nregex-not@^1.0.0, regex-not@^1.0.2:\n  version \"1.0.2\"\n  resolved \"https://registry.yarnpkg.com/regex-not/-/regex-not-1.0.2.tgz#1f4ece27e00b0b65e0247a6810e6a85d83a5752c\"\n  integrity sha512-J6SDjUgDxQj5NusnOtdFxDwN/+HWykR8GELwctJ7mdqhcyy1xEc4SRFHUXvxTp661YaVKAjfRLZ9cCqS6tn32A==\n  dependencies:\n    extend-shallow \"^3.0.2\"\n    safe-regex \"^1.1.0\"\n\nregistry-auth-token@^4.0.0:\n  version \"4.1.1\"\n  resolved \"https://registry.yarnpkg.com/registry-auth-token/-/registry-auth-token-4.1.1.tgz#40a33be1e82539460f94328b0f7f0f84c16d9479\"\n  integrity sha512-9bKS7nTl9+/A1s7tnPeGrUpRcVY+LUh7bfFgzpndALdPfXQBfQV77rQVtqgUV3ti4vc/Ik81Ex8UJDWDQ12zQA==\n  dependencies:\n    rc \"^1.2.8\"\n\nregistry-url@^5.0.0:\n  version \"5.1.0\"\n  resolved \"https://registry.yarnpkg.com/registry-url/-/registry-url-5.1.0.tgz#e98334b50d5434b81136b44ec638d9c2009c5009\"\n  integrity sha512-8acYXXTI0AkQv6RAOjE3vOaIXZkT9wo4LOFbBKYQEEnnMNBpKqdUrI6S4NT0KPIo/WVvJ5tE/X5LF/TQUf0ekw==\n  dependencies:\n    rc \"^1.2.8\"\n\nremove-trailing-separator@^1.0.1:\n  version \"1.1.0\"\n  resolved \"https://registry.yarnpkg.com/remove-trailing-separator/-/remove-trailing-separator-1.1.0.tgz#c24bce2a283adad5bc3f58e0d48249b92379d8ef\"\n  integrity sha1-wkvOKig62tW8P1jg1IJJuSN52O8=\n\nrepeat-element@^1.1.2:\n  version \"1.1.3\"\n  resolved \"https://registry.yarnpkg.com/repeat-element/-/repeat-element-1.1.3.tgz#782e0d825c0c5a3bb39731f84efee6b742e6b1ce\"\n  integrity sha512-ahGq0ZnV5m5XtZLMb+vP76kcAM5nkLqk0lpqAuojSKGgQtn4eRi4ZZGm2olo2zKFH+sMsWaqOCW1dqAnOru72g==\n\nrepeat-string@^1.6.1:\n  version \"1.6.1\"\n  resolved \"https://registry.yarnpkg.com/repeat-string/-/repeat-string-1.6.1.tgz#8dcae470e1c88abc2d600fff4a776286da75e637\"\n  integrity sha1-jcrkcOHIirwtYA//Sndihtp15jc=\n\nrequire-directory@^2.1.1:\n  version \"2.1.1\"\n  resolved \"https://registry.yarnpkg.com/require-directory/-/require-directory-2.1.1.tgz#8c64ad5fd30dab1c976e2344ffe7f792a6a6df42\"\n  integrity sha1-jGStX9MNqxyXbiNE/+f3kqam30I=\n\nrequires-port@^1.0.0:\n  version \"1.0.0\"\n  resolved \"https://registry.yarnpkg.com/requires-port/-/requires-port-1.0.0.tgz#925d2601d39ac485e091cf0da5c6e694dc3dcaff\"\n  integrity sha1-kl0mAdOaxIXgkc8NpcbmlNw9yv8=\n\nresolve-url@^0.2.1:\n  version \"0.2.1\"\n  resolved \"https://registry.yarnpkg.com/resolve-url/-/resolve-url-0.2.1.tgz#2c637fe77c893afd2a663fe21aa9080068e2052a\"\n  integrity sha1-LGN/53yJOv0qZj/iGqkIAGjiBSo=\n\nresolve@1.1.7:\n  version \"1.1.7\"\n  resolved \"https://registry.yarnpkg.com/resolve/-/resolve-1.1.7.tgz#203114d82ad2c5ed9e8e0411b3932875e889e97b\"\n  integrity sha1-IDEU2CrSxe2ejgQRs5ModeiJ6Xs=\n\nresolve@1.15.1:\n  version \"1.15.1\"\n  resolved \"https://registry.yarnpkg.com/resolve/-/resolve-1.15.1.tgz#27bdcdeffeaf2d6244b95bb0f9f4b4653451f3e8\"\n  integrity sha512-84oo6ZTtoTUpjgNEr5SJyzQhzL72gaRodsSfyxC/AXRvwu0Yse9H8eF9IpGo7b8YetZhlI6v7ZQ6bKBFV/6S7w==\n  dependencies:\n    path-parse \"^1.0.6\"\n\nresolve@^1.1.4, resolve@^1.10.0, resolve@^1.3.2, resolve@^1.4.0:\n  version \"1.17.0\"\n  resolved \"https://registry.yarnpkg.com/resolve/-/resolve-1.17.0.tgz#b25941b54968231cc2d1bb76a79cb7f2c0bf8444\"\n  integrity sha512-ic+7JYiV8Vi2yzQGFWOkiZD5Z9z7O2Zhm9XMaTxdJExKasieFCr+yXZ/WmXsckHiKl12ar0y6XiXDx3m4RHn1w==\n  dependencies:\n    path-parse \"^1.0.6\"\n\nresponselike@^1.0.2:\n  version \"1.0.2\"\n  resolved \"https://registry.yarnpkg.com/responselike/-/responselike-1.0.2.tgz#918720ef3b631c5642be068f15ade5a46f4ba1e7\"\n  integrity sha1-kYcg7ztjHFZCvgaPFa3lpG9Loec=\n  dependencies:\n    lowercase-keys \"^1.0.0\"\n\nret@~0.1.10:\n  version \"0.1.15\"\n  resolved \"https://registry.yarnpkg.com/ret/-/ret-0.1.15.tgz#b8a4825d5bdb1fc3f6f53c2bc33f81388681c7bc\"\n  integrity sha512-TTlYpa+OL+vMMNG24xSlQGEJ3B/RzEfUlLct7b5G/ytav+wPrplCpVMFuwzXbkecJrb6IYo1iFb0S9v37754mg==\n\nrfdc@^1.3.0:\n  version \"1.3.0\"\n  resolved \"https://registry.yarnpkg.com/rfdc/-/rfdc-1.3.0.tgz#d0b7c441ab2720d05dc4cf26e01c89631d9da08b\"\n  integrity sha512-V2hovdzFbOi77/WajaSMXk2OLm+xNIeQdMMuB7icj7bk6zi2F8GGAxigcnDFpJHbNyNcgyJDiP+8nOrY5cZGrA==\n\nrimraf@^2.6.3:\n  version \"2.7.1\"\n  resolved \"https://registry.yarnpkg.com/rimraf/-/rimraf-2.7.1.tgz#35797f13a7fdadc566142c29d4f07ccad483e3ec\"\n  integrity sha512-uWjbaKIK3T1OSVptzX7Nl6PvQ3qAGtKEtVRjRuazjfL3Bx5eI409VZSqgND+4UNnmzLVdPj9FqFJNPqBZFve4w==\n  dependencies:\n    glob \"^7.1.3\"\n\nrimraf@^3.0.0, rimraf@^3.0.2:\n  version \"3.0.2\"\n  resolved \"https://registry.yarnpkg.com/rimraf/-/rimraf-3.0.2.tgz#f1a5402ba6220ad52cc1282bac1ae3aa49fd061a\"\n  integrity sha512-JZkJMZkAGFFPP2YqXZXPbMlMBgsxzE8ILs4lMIX/2o0L9UBw9O/Y3o6wFw/i9YLapcUJWwqbi3kdxIPdC62TIA==\n  dependencies:\n    glob \"^7.1.3\"\n\nripemd160@^2.0.0, ripemd160@^2.0.1:\n  version \"2.0.2\"\n  resolved \"https://registry.yarnpkg.com/ripemd160/-/ripemd160-2.0.2.tgz#a1c1a6f624751577ba5d07914cbc92850585890c\"\n  integrity sha512-ii4iagi25WusVoiC4B4lq7pbXfAp3D9v5CwfkY33vffw2+pkDjY1D8GaN7spsxvCSx8dkPqOZCEZyfxcmJG2IA==\n  dependencies:\n    hash-base \"^3.0.0\"\n    inherits \"^2.0.1\"\n\nrollup-plugin-typescript2@^0.27.1:\n  version \"0.27.1\"\n  resolved \"https://registry.yarnpkg.com/rollup-plugin-typescript2/-/rollup-plugin-typescript2-0.27.1.tgz#4f27193408a8f040139eed3e3db7b0c7f3668200\"\n  integrity sha512-RJl77Bbj1EunAQDC3dK/O2HWuSUX3oJbRGzyLoS5o9W4Hs1Nix3Gavqj1Lzs5Y6Ff4H2xXfmZ1WWUQCYocSbzQ==\n  dependencies:\n    \"@rollup/pluginutils\" \"^3.0.8\"\n    find-cache-dir \"^3.3.1\"\n    fs-extra \"8.1.0\"\n    resolve \"1.15.1\"\n    tslib \"1.11.2\"\n\nrollup@^2.79.2:\n  version \"2.79.2\"\n  resolved \"https://registry.yarnpkg.com/rollup/-/rollup-2.79.2.tgz#f150e4a5db4b121a21a747d762f701e5e9f49090\"\n  integrity sha512-fS6iqSPZDs3dr/y7Od6y5nha8dW1YnbgtsyotCVvoFGKbERG++CVRFv1meyGDE1SNItQA8BrnCw7ScdAhRJ3XQ==\n  optionalDependencies:\n    fsevents \"~2.3.2\"\n\nrw@1:\n  version \"1.3.3\"\n  resolved \"https://registry.yarnpkg.com/rw/-/rw-1.3.3.tgz#3f862dfa91ab766b14885ef4d01124bfda074fb4\"\n  integrity sha1-P4Yt+pGrdmsUiF700BEkv9oHT7Q=\n\nsafe-buffer@^5.0.1, safe-buffer@^5.1.0, safe-buffer@^5.1.1, safe-buffer@^5.1.2, safe-buffer@^5.2.0, safe-buffer@^5.2.1, safe-buffer@~5.2.0:\n  version \"5.2.1\"\n  resolved \"https://registry.yarnpkg.com/safe-buffer/-/safe-buffer-5.2.1.tgz#1eaf9fa9bdb1fdd4ec75f58f9cdb4e6b7827eec6\"\n  integrity sha512-rp3So07KcdmmKbGvgaNxQSJr7bGVSVk5S9Eq1F+ppbRo70+YeaDxkw5Dd8NPN+GD6bjnYm2VuPuCXmpuYvmCXQ==\n\nsafe-buffer@~5.1.0, safe-buffer@~5.1.1:\n  version \"5.1.2\"\n  resolved \"https://registry.yarnpkg.com/safe-buffer/-/safe-buffer-5.1.2.tgz#991ec69d296e0313747d59bdfd2b745c35f8828d\"\n  integrity sha512-Gd2UZBJDkXlY7GbJxfsE8/nvKkUEU1G38c1siN6QP6a9PT9MmHB8GnpscSmMJSoF8LOIrt8ud/wPtojys4G6+g==\n\nsafe-regex@^1.1.0:\n  version \"1.1.0\"\n  resolved \"https://registry.yarnpkg.com/safe-regex/-/safe-regex-1.1.0.tgz#40a3669f3b077d1e943d44629e157dd48023bf2e\"\n  integrity sha1-QKNmnzsHfR6UPURinhV91IAjvy4=\n  dependencies:\n    ret \"~0.1.10\"\n\n\"safer-buffer@>= 2.1.2 < 3\", safer-buffer@^2.1.0:\n  version \"2.1.2\"\n  resolved \"https://registry.yarnpkg.com/safer-buffer/-/safer-buffer-2.1.2.tgz#44fa161b0187b9549dd84bb91802f9bd8385cd6a\"\n  integrity sha512-YZo3K82SD7Riyi0E1EQPojLz7kpepnSQI9IyPbHHg1XXXevb5dJI7tpyN2ADxGcQbHG7vcyRHk0cbwqcQriUtg==\n\nsass@^1.10.3:\n  version \"1.26.8\"\n  resolved \"https://registry.yarnpkg.com/sass/-/sass-1.26.8.tgz#312652530721f9568d4c4000b0db07ec6eb23325\"\n  integrity sha512-yvtzyrKLGiXQu7H12ekXqsfoGT/aTKeMDyVzCB675k1HYuaj0py63i8Uf4SI9CHXj6apDhpfwbUr3gGOjdpu2Q==\n  dependencies:\n    chokidar \">=2.0.0 <4.0.0\"\n\nsemver-diff@^3.1.1:\n  version \"3.1.1\"\n  resolved \"https://registry.yarnpkg.com/semver-diff/-/semver-diff-3.1.1.tgz#05f77ce59f325e00e2706afd67bb506ddb1ca32b\"\n  integrity sha512-GX0Ix/CJcHyB8c4ykpHGIAvLyOwOobtM/8d+TQkAd81/bEjgPHrfba41Vpesr7jX/t8Uh+R3EX9eAS5be+jQYg==\n  dependencies:\n    semver \"^6.3.0\"\n\n\"semver@2 || 3 || 4 || 5\", semver@^5.4.1, semver@^5.5.0, semver@^5.7.1:\n  version \"5.7.2\"\n  resolved \"https://registry.yarnpkg.com/semver/-/semver-5.7.2.tgz#48d55db737c3287cd4835e17fa13feace1c41ef8\"\n  integrity sha512-cBznnQ9KjJqU67B52RMC65CMarK2600WFnbkcaiwWq3xy/5haFJlshgnpjovMVJ+Hff49d8GEn0b87C5pDQ10g==\n\nsemver@^6.0.0, semver@^6.2.0, semver@^6.3.0:\n  version \"6.3.1\"\n  resolved \"https://registry.yarnpkg.com/semver/-/semver-6.3.1.tgz#556d2ef8689146e46dcea4bfdd095f3434dffcb4\"\n  integrity sha512-BR7VvDCVHO+q2xBEWskxS6DJE1qRnb7DxzUrogb71CWoSficBxYsiAGd+Kl0mmq/MprG9yArRkyrQxTO6XjMzA==\n\nset-function-length@^1.2.1:\n  version \"1.2.2\"\n  resolved \"https://registry.yarnpkg.com/set-function-length/-/set-function-length-1.2.2.tgz#aac72314198eaed975cf77b2c3b6b880695e5449\"\n  integrity sha512-pgRc4hJ4/sNjWCSS9AmnS40x3bNMDTknHgL5UaMBTMyJnU90EgWh1Rz+MC9eFu4BuN/UwZjKQuY/1v3rM7HMfg==\n  dependencies:\n    define-data-property \"^1.1.4\"\n    es-errors \"^1.3.0\"\n    function-bind \"^1.1.2\"\n    get-intrinsic \"^1.2.4\"\n    gopd \"^1.0.1\"\n    has-property-descriptors \"^1.0.2\"\n\nset-value@^2.0.0, set-value@^2.0.1:\n  version \"2.0.1\"\n  resolved \"https://registry.yarnpkg.com/set-value/-/set-value-2.0.1.tgz#a18d40530e6f07de4228c7defe4227af8cad005b\"\n  integrity sha512-JxHc1weCN68wRY0fhCoXpyK55m/XPHafOmK4UWD7m2CI14GMcFypt4w/0+NV5f/ZMby2F6S2wwA7fgynh9gWSw==\n  dependencies:\n    extend-shallow \"^2.0.1\"\n    is-extendable \"^0.1.1\"\n    is-plain-object \"^2.0.3\"\n    split-string \"^3.0.1\"\n\nsetimmediate@^1.0.4:\n  version \"1.0.5\"\n  resolved \"https://registry.yarnpkg.com/setimmediate/-/setimmediate-1.0.5.tgz#290cbb232e306942d7d7ea9b83732ab7856f8285\"\n  integrity sha1-KQy7Iy4waULX1+qbg3Mqt4VvgoU=\n\nsetprototypeof@1.2.0:\n  version \"1.2.0\"\n  resolved \"https://registry.yarnpkg.com/setprototypeof/-/setprototypeof-1.2.0.tgz#66c9a24a73f9fc28cbe66b09fed3d33dcaf1b424\"\n  integrity sha512-E5LDX7Wrp85Kil5bhZv46j8jOeboKq5JMmYM3gVGdGH8xFpPWXUMsNrlODCrkoxMEeNi/XZIwuRvY4XNwYMJpw==\n\nsha.js@^2.4.0, sha.js@^2.4.8, sha.js@~2.4.4:\n  version \"2.4.11\"\n  resolved \"https://registry.yarnpkg.com/sha.js/-/sha.js-2.4.11.tgz#37a5cf0b81ecbc6943de109ba2960d1b26584ae7\"\n  integrity sha512-QMEp5B7cftE7APOjk5Y6xgrbWu+WkLVQwk8JNjZ8nKRciZaByEW6MubieAiToS7+dwvrjGhH8jRXz3MVd0AYqQ==\n  dependencies:\n    inherits \"^2.0.1\"\n    safe-buffer \"^5.0.1\"\n\nshasum-object@^1.0.0:\n  version \"1.0.0\"\n  resolved \"https://registry.yarnpkg.com/shasum-object/-/shasum-object-1.0.0.tgz#0b7b74ff5b66ecf9035475522fa05090ac47e29e\"\n  integrity sha512-Iqo5rp/3xVi6M4YheapzZhhGPVs0yZwHj7wvwQ1B9z8H6zk+FEnI7y3Teq7qwnekfEhu8WmG2z0z4iWZaxLWVg==\n  dependencies:\n    fast-safe-stringify \"^2.0.7\"\n\nshasum@^1.0.0:\n  version \"1.0.2\"\n  resolved \"https://registry.yarnpkg.com/shasum/-/shasum-1.0.2.tgz#e7012310d8f417f4deb5712150e5678b87ae565f\"\n  integrity sha1-5wEjENj0F/TetXEhUOVni4euVl8=\n  dependencies:\n    json-stable-stringify \"~0.0.0\"\n    sha.js \"~2.4.4\"\n\nshebang-command@^1.2.0:\n  version \"1.2.0\"\n  resolved \"https://registry.yarnpkg.com/shebang-command/-/shebang-command-1.2.0.tgz#44aac65b695b03398968c39f363fee5deafdf1ea\"\n  integrity sha1-RKrGW2lbAzmJaMOfNj/uXer98eo=\n  dependencies:\n    shebang-regex \"^1.0.0\"\n\nshebang-regex@^1.0.0:\n  version \"1.0.0\"\n  resolved \"https://registry.yarnpkg.com/shebang-regex/-/shebang-regex-1.0.0.tgz#da42f49740c0b42db2ca9728571cb190c98efea3\"\n  integrity sha1-2kL0l0DAtC2yypcoVxyxkMmO/qM=\n\nshell-quote@^1.4.2, shell-quote@^1.6.1:\n  version \"1.7.3\"\n  resolved \"https://registry.yarnpkg.com/shell-quote/-/shell-quote-1.7.3.tgz#aa40edac170445b9a431e17bb62c0b881b9c4123\"\n  integrity sha512-Vpfqwm4EnqGdlsBFNmHhxhElJYrdfcxPThu+ryKS5J8L/fhAwLazFZtq+S+TWZ9ANj2piSQLGj6NQg+lKPmxrw==\n\nshelljs@0.3.x:\n  version \"0.3.0\"\n  resolved \"https://registry.yarnpkg.com/shelljs/-/shelljs-0.3.0.tgz#3596e6307a781544f591f37da618360f31db57b1\"\n  integrity sha1-NZbmMHp4FUT1kfN9phg2DzHbV7E=\n\nside-channel@^1.0.6:\n  version \"1.0.6\"\n  resolved \"https://registry.yarnpkg.com/side-channel/-/side-channel-1.0.6.tgz#abd25fb7cd24baf45466406b1096b7831c9215f2\"\n  integrity sha512-fDW/EZ6Q9RiO8eFG8Hj+7u/oW+XrPTIChwCOM2+th2A6OblDtYYIpve9m+KvI9Z4C9qSEXlaGR6bTEYHReuglA==\n  dependencies:\n    call-bind \"^1.0.7\"\n    es-errors \"^1.3.0\"\n    get-intrinsic \"^1.2.4\"\n    object-inspect \"^1.13.1\"\n\nsignal-exit@^3.0.2:\n  version \"3.0.3\"\n  resolved \"https://registry.yarnpkg.com/signal-exit/-/signal-exit-3.0.3.tgz#a1410c2edd8f077b08b4e253c8eacfcaf057461c\"\n  integrity sha512-VUJ49FC8U1OxwZLxIbTTrDvLnf/6TDgxZcK8wxR8zs13xpx7xbG60ndBlhNrFi2EMuFRoeDoJO7wthSLq42EjA==\n\nsimple-concat@^1.0.0:\n  version \"1.0.0\"\n  resolved \"https://registry.yarnpkg.com/simple-concat/-/simple-concat-1.0.0.tgz#7344cbb8b6e26fb27d66b2fc86f9f6d5997521c6\"\n  integrity sha1-c0TLuLbib7J9ZrL8hvn21Zl1IcY=\n\nsnapdragon-node@^2.0.1:\n  version \"2.1.1\"\n  resolved \"https://registry.yarnpkg.com/snapdragon-node/-/snapdragon-node-2.1.1.tgz#6c175f86ff14bdb0724563e8f3c1b021a286853b\"\n  integrity sha512-O27l4xaMYt/RSQ5TR3vpWCAB5Kb/czIcqUFOM/C4fYcLnbZUc1PkjTAMjof2pBWaSTwOUd6qUHcFGVGj7aIwnw==\n  dependencies:\n    define-property \"^1.0.0\"\n    isobject \"^3.0.0\"\n    snapdragon-util \"^3.0.1\"\n\nsnapdragon-util@^3.0.1:\n  version \"3.0.1\"\n  resolved \"https://registry.yarnpkg.com/snapdragon-util/-/snapdragon-util-3.0.1.tgz#f956479486f2acd79700693f6f7b805e45ab56e2\"\n  integrity sha512-mbKkMdQKsjX4BAL4bRYTj21edOf8cN7XHdYUJEe+Zn99hVEYcMvKPct1IqNe7+AZPirn8BCDOQBHQZknqmKlZQ==\n  dependencies:\n    kind-of \"^3.2.0\"\n\nsnapdragon@^0.8.1:\n  version \"0.8.2\"\n  resolved \"https://registry.yarnpkg.com/snapdragon/-/snapdragon-0.8.2.tgz#64922e7c565b0e14204ba1aa7d6964278d25182d\"\n  integrity sha512-FtyOnWN/wCHTVXOMwvSv26d+ko5vWlIDD6zoUJ7LW8vh+ZBC8QdljveRP+crNrtBwioEUWy/4dMtbBjA4ioNlg==\n  dependencies:\n    base \"^0.11.1\"\n    debug \"^2.2.0\"\n    define-property \"^0.2.5\"\n    extend-shallow \"^2.0.1\"\n    map-cache \"^0.2.2\"\n    source-map \"^0.5.6\"\n    source-map-resolve \"^0.5.0\"\n    use \"^3.1.0\"\n\nsocket.io-adapter@~2.5.2:\n  version \"2.5.5\"\n  resolved \"https://registry.yarnpkg.com/socket.io-adapter/-/socket.io-adapter-2.5.5.tgz#c7a1f9c703d7756844751b6ff9abfc1780664082\"\n  integrity sha512-eLDQas5dzPgOWCk9GuuJC2lBqItuhKI4uxGgo9aIV7MYbk2h9Q6uULEh8WBzThoI7l+qU9Ast9fVUmkqPP9wYg==\n  dependencies:\n    debug \"~4.3.4\"\n    ws \"~8.17.1\"\n\nsocket.io-parser@~4.2.4:\n  version \"4.2.4\"\n  resolved \"https://registry.yarnpkg.com/socket.io-parser/-/socket.io-parser-4.2.4.tgz#c806966cf7270601e47469ddeec30fbdfda44c83\"\n  integrity sha512-/GbIKmo8ioc+NIWIhwdecY0ge+qVBSMdgxGygevmdHj24bsfgtCmcUUcQ5ZzcylGFHsN3k4HB4Cgkl96KVnuew==\n  dependencies:\n    \"@socket.io/component-emitter\" \"~3.1.0\"\n    debug \"~4.3.1\"\n\nsocket.io@^4.2.0:\n  version \"4.7.5\"\n  resolved \"https://registry.yarnpkg.com/socket.io/-/socket.io-4.7.5.tgz#56eb2d976aef9d1445f373a62d781a41c7add8f8\"\n  integrity sha512-DmeAkF6cwM9jSfmp6Dr/5/mfMwb5Z5qRrSXLpo3Fq5SqyU8CMF15jIN4ZhfSwu35ksM1qmHZDQ/DK5XTccSTvA==\n  dependencies:\n    accepts \"~1.3.4\"\n    base64id \"~2.0.0\"\n    cors \"~2.8.5\"\n    debug \"~4.3.2\"\n    engine.io \"~6.5.2\"\n    socket.io-adapter \"~2.5.2\"\n    socket.io-parser \"~4.2.4\"\n\nsource-map-resolve@^0.5.0:\n  version \"0.5.3\"\n  resolved \"https://registry.yarnpkg.com/source-map-resolve/-/source-map-resolve-0.5.3.tgz#190866bece7553e1f8f267a2ee82c606b5509a1a\"\n  integrity sha512-Htz+RnsXWk5+P2slx5Jh3Q66vhQj1Cllm0zvnaY98+NFx+Dv2CF/f5O/t8x+KaNdrdIAsruNzoh/KpialbqAnw==\n  dependencies:\n    atob \"^2.1.2\"\n    decode-uri-component \"^0.2.0\"\n    resolve-url \"^0.2.1\"\n    source-map-url \"^0.4.0\"\n    urix \"^0.1.0\"\n\nsource-map-url@^0.4.0:\n  version \"0.4.0\"\n  resolved \"https://registry.yarnpkg.com/source-map-url/-/source-map-url-0.4.0.tgz#3e935d7ddd73631b97659956d55128e87b5084a3\"\n  integrity sha1-PpNdfd1zYxuXZZlW1VEo6HtQhKM=\n\nsource-map@^0.5.0, source-map@^0.5.6, source-map@~0.5.3:\n  version \"0.5.7\"\n  resolved \"https://registry.yarnpkg.com/source-map/-/source-map-0.5.7.tgz#8a039d2d1021d22d1ea14c80d8ea468ba2ef3fcc\"\n  integrity sha1-igOdLRAh0i0eoUyA2OpGi6LvP8w=\n\nsource-map@^0.6.1, source-map@~0.6.0:\n  version \"0.6.1\"\n  resolved \"https://registry.yarnpkg.com/source-map/-/source-map-0.6.1.tgz#74722af32e9614e9c287a8d0bbde48b5e2f1a263\"\n  integrity sha512-UjgapumWlbMhkBgzT7Ykc5YXUT46F0iKu8SGXq0bcwP5dz/h0Plj6enJqjz1Zbq2l5WaqYnrVbwWOWMyF3F47g==\n\nsource-map@^0.7.3:\n  version \"0.7.3\"\n  resolved \"https://registry.yarnpkg.com/source-map/-/source-map-0.7.3.tgz#5302f8169031735226544092e64981f751750383\"\n  integrity sha512-CkCj6giN3S+n9qrYiBTX5gystlENnRW5jZeNLHpe6aue+SrHcG5VYwujhW9s4dY31mEGsxBDrHR6oI69fTXsaQ==\n\nspdx-correct@^3.0.0:\n  version \"3.1.1\"\n  resolved \"https://registry.yarnpkg.com/spdx-correct/-/spdx-correct-3.1.1.tgz#dece81ac9c1e6713e5f7d1b6f17d468fa53d89a9\"\n  integrity sha512-cOYcUWwhCuHCXi49RhFRCyJEK3iPj1Ziz9DpViV3tbZOwXD49QzIN3MpOLJNxh2qwq2lJJZaKMVw9qNi4jTC0w==\n  dependencies:\n    spdx-expression-parse \"^3.0.0\"\n    spdx-license-ids \"^3.0.0\"\n\nspdx-exceptions@^2.1.0:\n  version \"2.3.0\"\n  resolved \"https://registry.yarnpkg.com/spdx-exceptions/-/spdx-exceptions-2.3.0.tgz#3f28ce1a77a00372683eade4a433183527a2163d\"\n  integrity sha512-/tTrYOC7PPI1nUAgx34hUpqXuyJG+DTHJTnIULG4rDygi4xu/tfgmq1e1cIRwRzwZgo4NLySi+ricLkZkw4i5A==\n\nspdx-expression-parse@^3.0.0:\n  version \"3.0.1\"\n  resolved \"https://registry.yarnpkg.com/spdx-expression-parse/-/spdx-expression-parse-3.0.1.tgz#cf70f50482eefdc98e3ce0a6833e4a53ceeba679\"\n  integrity sha512-cbqHunsQWnJNE6KhVSMsMeH5H/L9EpymbzqTQ3uLwNCLZ1Q481oWaofqH7nO6V07xlXwY6PhQdQ2IedWx/ZK4Q==\n  dependencies:\n    spdx-exceptions \"^2.1.0\"\n    spdx-license-ids \"^3.0.0\"\n\nspdx-license-ids@^3.0.0:\n  version \"3.0.5\"\n  resolved \"https://registry.yarnpkg.com/spdx-license-ids/-/spdx-license-ids-3.0.5.tgz#3694b5804567a458d3c8045842a6358632f62654\"\n  integrity sha512-J+FWzZoynJEXGphVIS+XEh3kFSjZX/1i9gFBaWQcB+/tmpe2qUsSBABpcxqxnAxFdiUFEgAX1bjYGQvIZmoz9Q==\n\nsplit-string@^3.0.1, split-string@^3.0.2:\n  version \"3.1.0\"\n  resolved \"https://registry.yarnpkg.com/split-string/-/split-string-3.1.0.tgz#7cb09dda3a86585705c64b39a6466038682e8fe2\"\n  integrity sha512-NzNVhJDYpwceVVii8/Hu6DKfD2G+NrQHlS/V/qgv763EYudVwEcMQNxd2lh+0VrUByXN/oJkl5grOhYWvQUYiw==\n  dependencies:\n    extend-shallow \"^3.0.0\"\n\nsprintf-js@~1.0.2:\n  version \"1.0.3\"\n  resolved \"https://registry.yarnpkg.com/sprintf-js/-/sprintf-js-1.0.3.tgz#04e6926f662895354f3dd015203633b857297e2c\"\n  integrity sha1-BOaSb2YolTVPPdAVIDYzuFcpfiw=\n\nstatic-extend@^0.1.1:\n  version \"0.1.2\"\n  resolved \"https://registry.yarnpkg.com/static-extend/-/static-extend-0.1.2.tgz#60809c39cbff55337226fd5e0b520f341f1fb5c6\"\n  integrity sha1-YICcOcv/VTNyJv1eC1IPNB8ftcY=\n  dependencies:\n    define-property \"^0.2.5\"\n    object-copy \"^0.1.0\"\n\nstatus-back@^1.1.0:\n  version \"1.1.1\"\n  resolved \"https://registry.yarnpkg.com/status-back/-/status-back-1.1.1.tgz#152e32ee2e930fcb7bdf751c34e906b7aa8db9b3\"\n  integrity sha512-ULT3jSY2tO3FaSsq/SIun2WyaLqp3E6Cegn/14HlPNBzTfnAh/YE/8MG3Jv12YJ9nnRWKGntIBs1ucQfEbfrrQ==\n  dependencies:\n    action-selector \"^1.0.1\"\n    chalk \"^4.0.0\"\n    minimisted \"^2.0.0\"\n    octokat \"^0.10.0\"\n    pad-end \"^1.0.2\"\n\nstatuses@2.0.1:\n  version \"2.0.1\"\n  resolved \"https://registry.yarnpkg.com/statuses/-/statuses-2.0.1.tgz#55cb000ccf1d48728bd23c685a063998cf1a1b63\"\n  integrity sha512-RwNA9Z/7PrK06rYLIzFMlaF+l73iwpzsqRIFgbMLbTcLD6cOao82TaWefPXQvB2fOC4AjuYSEndS7N/mTCbkdQ==\n\nstatuses@~1.5.0:\n  version \"1.5.0\"\n  resolved \"https://registry.yarnpkg.com/statuses/-/statuses-1.5.0.tgz#161c7dac177659fd9811f43771fa99381478628c\"\n  integrity sha1-Fhx9rBd2Wf2YEfQ3cfqZOBR4Yow=\n\nstream-browserify@^2.0.0, stream-browserify@^2.0.2:\n  version \"2.0.2\"\n  resolved \"https://registry.yarnpkg.com/stream-browserify/-/stream-browserify-2.0.2.tgz#87521d38a44aa7ee91ce1cd2a47df0cb49dd660b\"\n  integrity sha512-nX6hmklHs/gr2FuxYDltq8fJA1GDlxKQCz8O/IM4atRqBH8OORmBNgfvW5gG10GT/qQ9u0CzIvr2X5Pkt6ntqg==\n  dependencies:\n    inherits \"~2.0.1\"\n    readable-stream \"^2.0.2\"\n\nstream-combiner2@^1.1.1:\n  version \"1.1.1\"\n  resolved \"https://registry.yarnpkg.com/stream-combiner2/-/stream-combiner2-1.1.1.tgz#fb4d8a1420ea362764e21ad4780397bebcb41cbe\"\n  integrity sha1-+02KFCDqNidk4hrUeAOXvry0HL4=\n  dependencies:\n    duplexer2 \"~0.1.0\"\n    readable-stream \"^2.0.2\"\n\nstream-events@^1.0.5:\n  version \"1.0.5\"\n  resolved \"https://registry.yarnpkg.com/stream-events/-/stream-events-1.0.5.tgz#bbc898ec4df33a4902d892333d47da9bf1c406d5\"\n  integrity sha512-E1GUzBSgvct8Jsb3v2X15pjzN1tYebtbLaMg+eBOUOAxgbLoSbT2NS91ckc5lJD1KfLjId+jXJRgo0qnV5Nerg==\n  dependencies:\n    stubs \"^3.0.0\"\n\nstream-http@^3.0.0, stream-http@^3.1.0:\n  version \"3.1.1\"\n  resolved \"https://registry.yarnpkg.com/stream-http/-/stream-http-3.1.1.tgz#0370a8017cf8d050b9a8554afe608f043eaff564\"\n  integrity sha512-S7OqaYu0EkFpgeGFb/NPOoPLxFko7TPqtEeFg5DXPB4v/KETHG0Ln6fRFrNezoelpaDKmycEmmZ81cC9DAwgYg==\n  dependencies:\n    builtin-status-codes \"^3.0.0\"\n    inherits \"^2.0.4\"\n    readable-stream \"^3.6.0\"\n    xtend \"^4.0.2\"\n\nstream-splicer@^2.0.0:\n  version \"2.0.1\"\n  resolved \"https://registry.yarnpkg.com/stream-splicer/-/stream-splicer-2.0.1.tgz#0b13b7ee2b5ac7e0609a7463d83899589a363fcd\"\n  integrity sha512-Xizh4/NPuYSyAXyT7g8IvdJ9HJpxIGL9PjyhtywCZvvP0OPIdqyrr4dMikeuvY8xahpdKEBlBTySe583totajg==\n  dependencies:\n    inherits \"^2.0.1\"\n    readable-stream \"^2.0.2\"\n\nstreamroller@^3.0.2:\n  version \"3.0.2\"\n  resolved \"https://registry.yarnpkg.com/streamroller/-/streamroller-3.0.2.tgz#30418d0eee3d6c93ec897f892ed098e3a81e68b7\"\n  integrity sha512-ur6y5S5dopOaRXBuRIZ1u6GC5bcEXHRZKgfBjfCglMhmIf+roVCECjvkEYzNQOXIN2/JPnkMPW/8B3CZoKaEPA==\n  dependencies:\n    date-format \"^4.0.3\"\n    debug \"^4.1.1\"\n    fs-extra \"^10.0.0\"\n\nstring-length@^1.0.0:\n  version \"1.0.1\"\n  resolved \"https://registry.yarnpkg.com/string-length/-/string-length-1.0.1.tgz#56970fb1c38558e9e70b728bf3de269ac45adfac\"\n  integrity sha1-VpcPscOFWOnnC3KL894mmsRa36w=\n  dependencies:\n    strip-ansi \"^3.0.0\"\n\nstring-width@^3.0.0:\n  version \"3.1.0\"\n  resolved \"https://registry.yarnpkg.com/string-width/-/string-width-3.1.0.tgz#22767be21b62af1081574306f69ac51b62203961\"\n  integrity sha512-vafcv6KjVZKSgz06oM/H6GDBrAtz8vdhQakGjFIvNrHA6y3HCF1CInLy+QLq8dTJPQ1b+KDUqDFctkdRW44e1w==\n  dependencies:\n    emoji-regex \"^7.0.1\"\n    is-fullwidth-code-point \"^2.0.0\"\n    strip-ansi \"^5.1.0\"\n\nstring-width@^4.0.0, string-width@^4.1.0:\n  version \"4.2.0\"\n  resolved \"https://registry.yarnpkg.com/string-width/-/string-width-4.2.0.tgz#952182c46cc7b2c313d1596e623992bd163b72b5\"\n  integrity sha512-zUz5JD+tgqtuDjMhwIg5uFVV3dtqZ9yQJlZVfq4I01/K5Paj5UHj7VyrQOJvzawSVlKpObApbfD0Ed6yJc+1eg==\n  dependencies:\n    emoji-regex \"^8.0.0\"\n    is-fullwidth-code-point \"^3.0.0\"\n    strip-ansi \"^6.0.0\"\n\nstring-width@^4.2.0:\n  version \"4.2.3\"\n  resolved \"https://registry.yarnpkg.com/string-width/-/string-width-4.2.3.tgz#269c7117d27b05ad2e536830a8ec895ef9c6d010\"\n  integrity sha512-wKyQRQpjJ0sIp62ErSZdGsjMJWsap5oRNihHhu6G7JVO/9jIB6UyevL+tXuOqrng8j/cxKTWyWUwvSTriiZz/g==\n  dependencies:\n    emoji-regex \"^8.0.0\"\n    is-fullwidth-code-point \"^3.0.0\"\n    strip-ansi \"^6.0.1\"\n\nstring.prototype.padend@^3.0.0:\n  version \"3.1.0\"\n  resolved \"https://registry.yarnpkg.com/string.prototype.padend/-/string.prototype.padend-3.1.0.tgz#dc08f57a8010dc5c153550318f67e13adbb72ac3\"\n  integrity sha512-3aIv8Ffdp8EZj8iLwREGpQaUZiPyrWrpzMBHvkiSW/bK/EGve9np07Vwy7IJ5waydpGXzQZu/F8Oze2/IWkBaA==\n  dependencies:\n    define-properties \"^1.1.3\"\n    es-abstract \"^1.17.0-next.1\"\n\nstring.prototype.trimend@^1.0.1:\n  version \"1.0.1\"\n  resolved \"https://registry.yarnpkg.com/string.prototype.trimend/-/string.prototype.trimend-1.0.1.tgz#85812a6b847ac002270f5808146064c995fb6913\"\n  integrity sha512-LRPxFUaTtpqYsTeNKaFOw3R4bxIzWOnbQ837QfBylo8jIxtcbK/A/sMV7Q+OAV/vWo+7s25pOE10KYSjaSO06g==\n  dependencies:\n    define-properties \"^1.1.3\"\n    es-abstract \"^1.17.5\"\n\nstring.prototype.trimstart@^1.0.1:\n  version \"1.0.1\"\n  resolved \"https://registry.yarnpkg.com/string.prototype.trimstart/-/string.prototype.trimstart-1.0.1.tgz#14af6d9f34b053f7cfc89b72f8f2ee14b9039a54\"\n  integrity sha512-XxZn+QpvrBI1FOcg6dIpxUPgWCPuNXvMD72aaRaUQv1eD4e/Qy8i/hFTe0BUmD60p/QA6bh1avmuPTfNjqVWRw==\n  dependencies:\n    define-properties \"^1.1.3\"\n    es-abstract \"^1.17.5\"\n\nstring_decoder@^1.1.1, string_decoder@^1.3.0:\n  version \"1.3.0\"\n  resolved \"https://registry.yarnpkg.com/string_decoder/-/string_decoder-1.3.0.tgz#42f114594a46cf1a8e30b0a84f56c78c3edac21e\"\n  integrity sha512-hkRX8U1WjJFd8LsDJ2yQ/wWWxaopEsABU1XfkM8A+j0+85JAGppt16cr1Whg6KIbb4okU6Mql6BOj+uup/wKeA==\n  dependencies:\n    safe-buffer \"~5.2.0\"\n\nstring_decoder@~0.10.x:\n  version \"0.10.31\"\n  resolved \"https://registry.yarnpkg.com/string_decoder/-/string_decoder-0.10.31.tgz#62e203bc41766c6c28c9fc84301dab1c5310fa94\"\n  integrity sha1-YuIDvEF2bGwoyfyEMB2rHFMQ+pQ=\n\nstring_decoder@~1.1.1:\n  version \"1.1.1\"\n  resolved \"https://registry.yarnpkg.com/string_decoder/-/string_decoder-1.1.1.tgz#9cf1611ba62685d7030ae9e4ba34149c3af03fc8\"\n  integrity sha512-n/ShnvDi6FHbbVfviro+WojiFzv+s8MPMHBczVePfUpDJLwoLT0ht1l4YwBCbi8pJAveEEdnkHyPyTP/mzRfwg==\n  dependencies:\n    safe-buffer \"~5.1.0\"\n\nstrip-ansi@^3.0.0:\n  version \"3.0.1\"\n  resolved \"https://registry.yarnpkg.com/strip-ansi/-/strip-ansi-3.0.1.tgz#6a385fb8853d952d5ff05d0e8aaf94278dc63dcf\"\n  integrity sha1-ajhfuIU9lS1f8F0Oiq+UJ43GPc8=\n  dependencies:\n    ansi-regex \"^2.0.0\"\n\nstrip-ansi@^5.1.0:\n  version \"5.2.0\"\n  resolved \"https://registry.yarnpkg.com/strip-ansi/-/strip-ansi-5.2.0.tgz#8c9a536feb6afc962bdfa5b104a5091c1ad9c0ae\"\n  integrity sha512-DuRs1gKbBqsMKIZlrffwlug8MHkcnpjs5VPmL1PAh+mA30U0DTotfDZ0d2UUsXpPmPmMMJ6W773MaA3J+lbiWA==\n  dependencies:\n    ansi-regex \"^4.1.0\"\n\nstrip-ansi@^6.0.0:\n  version \"6.0.0\"\n  resolved \"https://registry.yarnpkg.com/strip-ansi/-/strip-ansi-6.0.0.tgz#0b1571dd7669ccd4f3e06e14ef1eed26225ae532\"\n  integrity sha512-AuvKTrTfQNYNIctbR1K/YGTR1756GycPsg7b9bdV9Duqur4gv6aKqHXah67Z8ImS7WEz5QVcOtlfW2rZEugt6w==\n  dependencies:\n    ansi-regex \"^5.0.0\"\n\nstrip-ansi@^6.0.1:\n  version \"6.0.1\"\n  resolved \"https://registry.yarnpkg.com/strip-ansi/-/strip-ansi-6.0.1.tgz#9e26c63d30f53443e9489495b2105d37b67a85d9\"\n  integrity sha512-Y38VPSHcqkFrCpFnQ9vuSXmquuv5oXOKpGeT6aGrr3o3Gc9AlVa6JBfUSOCnbxGGZF+/0ooI7KrPuUSztUdU5A==\n  dependencies:\n    ansi-regex \"^5.0.1\"\n\nstrip-bom@^3.0.0:\n  version \"3.0.0\"\n  resolved \"https://registry.yarnpkg.com/strip-bom/-/strip-bom-3.0.0.tgz#2334c18e9c759f7bdd56fdef7e9ae3d588e68ed3\"\n  integrity sha1-IzTBjpx1n3vdVv3vfprj1YjmjtM=\n\nstrip-json-comments@1.0.x:\n  version \"1.0.4\"\n  resolved \"https://registry.yarnpkg.com/strip-json-comments/-/strip-json-comments-1.0.4.tgz#1e15fbcac97d3ee99bf2d73b4c656b082bbafb91\"\n  integrity sha1-HhX7ysl9Pumb8tc7TGVrCCu6+5E=\n\nstrip-json-comments@~2.0.1:\n  version \"2.0.1\"\n  resolved \"https://registry.yarnpkg.com/strip-json-comments/-/strip-json-comments-2.0.1.tgz#3c531942e908c2697c0ec344858c286c7ca0a60a\"\n  integrity sha1-PFMZQukIwml8DsNEhYwobHygpgo=\n\nstrip-outer@^1.0.1:\n  version \"1.0.1\"\n  resolved \"https://registry.yarnpkg.com/strip-outer/-/strip-outer-1.0.1.tgz#b2fd2abf6604b9d1e6013057195df836b8a9d631\"\n  integrity sha512-k55yxKHwaXnpYGsOzg4Vl8+tDrWylxDEpknGjhTiZB8dFRU5rTo9CAzeycivxV3s+zlTKwrs6WxMxR95n26kwg==\n  dependencies:\n    escape-string-regexp \"^1.0.2\"\n\nstubs@^3.0.0:\n  version \"3.0.0\"\n  resolved \"https://registry.yarnpkg.com/stubs/-/stubs-3.0.0.tgz#e8d2ba1fa9c90570303c030b6900f7d5f89abe5b\"\n  integrity sha1-6NK6H6nJBXAwPAMLaQD31fiavls=\n\nsubarg@^1.0.0:\n  version \"1.0.0\"\n  resolved \"https://registry.yarnpkg.com/subarg/-/subarg-1.0.0.tgz#f62cf17581e996b48fc965699f54c06ae268b8d2\"\n  integrity sha1-9izxdYHplrSPyWVpn1TAauJouNI=\n  dependencies:\n    minimist \"^1.1.0\"\n\nsupports-color@^2.0.0:\n  version \"2.0.0\"\n  resolved \"https://registry.yarnpkg.com/supports-color/-/supports-color-2.0.0.tgz#535d045ce6b6363fa40117084629995e9df324c7\"\n  integrity sha1-U10EXOa2Nj+kARcIRimZXp3zJMc=\n\nsupports-color@^5.3.0, supports-color@^5.5.0:\n  version \"5.5.0\"\n  resolved \"https://registry.yarnpkg.com/supports-color/-/supports-color-5.5.0.tgz#e2e69a44ac8772f78a1ec0b35b689df6530efc8f\"\n  integrity sha512-QjVjwdXIt408MIiAqCX4oUKsgU2EqAGzs2Ppkm4aQYbjm+ZEWEcW4SfFNTr4uMNZma0ey4f5lgLrkB0aX0QMow==\n  dependencies:\n    has-flag \"^3.0.0\"\n\nsupports-color@^7.1.0:\n  version \"7.1.0\"\n  resolved \"https://registry.yarnpkg.com/supports-color/-/supports-color-7.1.0.tgz#68e32591df73e25ad1c4b49108a2ec507962bfd1\"\n  integrity sha512-oRSIpR8pxT1Wr2FquTNnGet79b3BWljqOuoW/h4oBhxJ/HUbX5nX6JSruTkvXDCFMwDPvsaTTbvMLKZWSy0R5g==\n  dependencies:\n    has-flag \"^4.0.0\"\n\nsyntax-error@^1.1.1:\n  version \"1.4.0\"\n  resolved \"https://registry.yarnpkg.com/syntax-error/-/syntax-error-1.4.0.tgz#2d9d4ff5c064acb711594a3e3b95054ad51d907c\"\n  integrity sha512-YPPlu67mdnHGTup2A8ff7BC2Pjq0e0Yp/IyTFN03zWO0RcK07uLcbi7C2KpGR2FvWbaB0+bfE27a+sBKebSo7w==\n  dependencies:\n    acorn-node \"^1.2.0\"\n\nteeny-request@6.0.1:\n  version \"6.0.1\"\n  resolved \"https://registry.yarnpkg.com/teeny-request/-/teeny-request-6.0.1.tgz#9b1f512cef152945827ba7e34f62523a4ce2c5b0\"\n  integrity sha512-TAK0c9a00ELOqLrZ49cFxvPVogMUFaWY8dUsQc/0CuQPGF+BOxOQzXfE413BAk2kLomwNplvdtMpeaeGWmoc2g==\n  dependencies:\n    http-proxy-agent \"^4.0.0\"\n    https-proxy-agent \"^4.0.0\"\n    node-fetch \"^2.2.0\"\n    stream-events \"^1.0.5\"\n    uuid \"^3.3.2\"\n\nterm-size@^2.1.0:\n  version \"2.2.0\"\n  resolved \"https://registry.yarnpkg.com/term-size/-/term-size-2.2.0.tgz#1f16adedfe9bdc18800e1776821734086fcc6753\"\n  integrity sha512-a6sumDlzyHVJWb8+YofY4TW112G6p2FCPEAFk+59gIYHv3XHRhm9ltVQ9kli4hNWeQBwSpe8cRN25x0ROunMOw==\n\ntext-table@^0.2.0:\n  version \"0.2.0\"\n  resolved \"https://registry.yarnpkg.com/text-table/-/text-table-0.2.0.tgz#7f5ee823ae805207c00af2df4a84ec3fcfa570b4\"\n  integrity sha1-f17oI66AUgfACvLfSoTsP8+lcLQ=\n\nthrough2@^2.0.0:\n  version \"2.0.5\"\n  resolved \"https://registry.yarnpkg.com/through2/-/through2-2.0.5.tgz#01c1e39eb31d07cb7d03a96a70823260b23132cd\"\n  integrity sha512-/mrRod8xqpA+IHSLyGCQ2s8SPHiCDEeQJSep1jqLYeEUClOFG2Qsh+4FU6G9VeqpZnGW/Su8LQGc4YKni5rYSQ==\n  dependencies:\n    readable-stream \"~2.3.6\"\n    xtend \"~4.0.1\"\n\n\"through@>=2.2.7 <3\":\n  version \"2.3.8\"\n  resolved \"https://registry.yarnpkg.com/through/-/through-2.3.8.tgz#0dd4c9ffaabc357960b1b724115d7e0e86a2e1f5\"\n  integrity sha1-DdTJ/6q8NXlgsbckEV1+Doai4fU=\n\ntimers-browserify@^1.0.1:\n  version \"1.4.2\"\n  resolved \"https://registry.yarnpkg.com/timers-browserify/-/timers-browserify-1.4.2.tgz#c9c58b575be8407375cb5e2462dacee74359f41d\"\n  integrity sha1-ycWLV1voQHN1y14kYtrO50NZ9B0=\n  dependencies:\n    process \"~0.11.0\"\n\ntimers-browserify@^2.0.11:\n  version \"2.0.11\"\n  resolved \"https://registry.yarnpkg.com/timers-browserify/-/timers-browserify-2.0.11.tgz#800b1f3eee272e5bc53ee465a04d0e804c31211f\"\n  integrity sha512-60aV6sgJ5YEbzUdn9c8kYGIqOubPoUdqQCul3SBAsRCZ40s6Y5cMcrW4dt3/k/EsbLVJNl9n6Vz3fTc+k2GeKQ==\n  dependencies:\n    setimmediate \"^1.0.4\"\n\ntmp@^0.1.0:\n  version \"0.1.0\"\n  resolved \"https://registry.yarnpkg.com/tmp/-/tmp-0.1.0.tgz#ee434a4e22543082e294ba6201dcc6eafefa2877\"\n  integrity sha512-J7Z2K08jbGcdA1kkQpJSqLF6T0tdQqpR2pnSUXsIchbPdTI9v3e85cLW0d6WDhwuAleOV71j2xWs8qMPfK7nKw==\n  dependencies:\n    rimraf \"^2.6.3\"\n\ntmp@^0.2.1:\n  version \"0.2.1\"\n  resolved \"https://registry.yarnpkg.com/tmp/-/tmp-0.2.1.tgz#8457fc3037dcf4719c251367a1af6500ee1ccf14\"\n  integrity sha512-76SUhtfqR2Ijn+xllcI5P1oyannHNHByD80W1q447gU3mp9G9PSpGdWmjUOHRDPiHYacIk66W7ubDTuPF3BEtQ==\n  dependencies:\n    rimraf \"^3.0.0\"\n\nto-fast-properties@^2.0.0:\n  version \"2.0.0\"\n  resolved \"https://registry.yarnpkg.com/to-fast-properties/-/to-fast-properties-2.0.0.tgz#dc5e698cbd079265bc73e0377681a4e4e83f616e\"\n  integrity sha1-3F5pjL0HkmW8c+A3doGk5Og/YW4=\n\nto-object-path@^0.3.0:\n  version \"0.3.0\"\n  resolved \"https://registry.yarnpkg.com/to-object-path/-/to-object-path-0.3.0.tgz#297588b7b0e7e0ac08e04e672f85c1f4999e17af\"\n  integrity sha1-KXWIt7Dn4KwI4E5nL4XB9JmeF68=\n  dependencies:\n    kind-of \"^3.0.2\"\n\nto-readable-stream@^1.0.0:\n  version \"1.0.0\"\n  resolved \"https://registry.yarnpkg.com/to-readable-stream/-/to-readable-stream-1.0.0.tgz#ce0aa0c2f3df6adf852efb404a783e77c0475771\"\n  integrity sha512-Iq25XBt6zD5npPhlLVXGFN3/gyR2/qODcKNNyTMd4vbm39HUaOiAM4PMq0eMVC/Tkxz+Zjdsc55g9yyz+Yq00Q==\n\nto-regex-range@^2.1.0:\n  version \"2.1.1\"\n  resolved \"https://registry.yarnpkg.com/to-regex-range/-/to-regex-range-2.1.1.tgz#7c80c17b9dfebe599e27367e0d4dd5590141db38\"\n  integrity sha1-fIDBe53+vlmeJzZ+DU3VWQFB2zg=\n  dependencies:\n    is-number \"^3.0.0\"\n    repeat-string \"^1.6.1\"\n\nto-regex-range@^5.0.1:\n  version \"5.0.1\"\n  resolved \"https://registry.yarnpkg.com/to-regex-range/-/to-regex-range-5.0.1.tgz#1648c44aae7c8d988a326018ed72f5b4dd0392e4\"\n  integrity sha512-65P7iz6X5yEr1cwcgvQxbbIw7Uk3gOy5dIdtZ4rDveLqhrdJP+Li/Hx6tyK0NEb+2GCyneCMJiGqrADCSNk8sQ==\n  dependencies:\n    is-number \"^7.0.0\"\n\nto-regex@^3.0.1, to-regex@^3.0.2:\n  version \"3.0.2\"\n  resolved \"https://registry.yarnpkg.com/to-regex/-/to-regex-3.0.2.tgz#13cfdd9b336552f30b51f33a8ae1b42a7a7599ce\"\n  integrity sha512-FWtleNAtZ/Ki2qtqej2CXTOayOH9bHDQF+Q48VpWyDXjbYxA4Yz8iDB31zXOBUlOHHKidDbqGVrTUvQMPmBGBw==\n  dependencies:\n    define-property \"^2.0.2\"\n    extend-shallow \"^3.0.2\"\n    regex-not \"^1.0.2\"\n    safe-regex \"^1.1.0\"\n\ntoidentifier@1.0.1:\n  version \"1.0.1\"\n  resolved \"https://registry.yarnpkg.com/toidentifier/-/toidentifier-1.0.1.tgz#3be34321a88a820ed1bd80dfaa33e479fbb8dd35\"\n  integrity sha512-o5sSPKEkg/DIQNmH43V0/uerLrpzVedkUh8tGNvaeXpfpuwjKenlSox/2O/BTlZUtEe+JG7s5YhEz608PlAHRA==\n\ntouch@^3.1.0:\n  version \"3.1.0\"\n  resolved \"https://registry.yarnpkg.com/touch/-/touch-3.1.0.tgz#fe365f5f75ec9ed4e56825e0bb76d24ab74af83b\"\n  integrity sha512-WBx8Uy5TLtOSRtIq+M03/sKDrXCLHxwDcquSP2c43Le03/9serjQBIztjRz6FkJez9D/hleyAXTBGLwwZUw9lA==\n  dependencies:\n    nopt \"~1.0.10\"\n\ntrim-repeated@^1.0.0:\n  version \"1.0.0\"\n  resolved \"https://registry.yarnpkg.com/trim-repeated/-/trim-repeated-1.0.0.tgz#e3646a2ea4e891312bf7eace6cfb05380bc01c21\"\n  integrity sha1-42RqLqTokTEr9+rObPsFOAvAHCE=\n  dependencies:\n    escape-string-regexp \"^1.0.2\"\n\ntslib@1.11.2:\n  version \"1.11.2\"\n  resolved \"https://registry.yarnpkg.com/tslib/-/tslib-1.11.2.tgz#9c79d83272c9a7aaf166f73915c9667ecdde3cc9\"\n  integrity sha512-tTSkux6IGPnUGUd1XAZHcpu85MOkIl5zX49pO+jfsie3eP0B6pyhOlLXm3cAC6T7s+euSDDUUV+Acop5WmtkVg==\n\ntty-browserify@0.0.1, tty-browserify@^0.0.1:\n  version \"0.0.1\"\n  resolved \"https://registry.yarnpkg.com/tty-browserify/-/tty-browserify-0.0.1.tgz#3f05251ee17904dfd0677546670db9651682b811\"\n  integrity sha512-C3TaO7K81YvjCgQH9Q1S3R3P3BtN3RIM8n+OvX4il1K1zgE8ZhI0op7kClgkxtutIE8hQrcrHBXvIheqKUUCxw==\n\ntype-fest@^0.8.1:\n  version \"0.8.1\"\n  resolved \"https://registry.yarnpkg.com/type-fest/-/type-fest-0.8.1.tgz#09e249ebde851d3b1e48d27c105444667f17b83d\"\n  integrity sha512-4dbzIzqvjtgiM5rw1k5rEHtBANKmdudhGyBEajN01fEyhaAIhsoKNy6y7+IN93IfpFtwY9iqi7kD+xwKhQsNJA==\n\ntype-is@~1.6.18:\n  version \"1.6.18\"\n  resolved \"https://registry.yarnpkg.com/type-is/-/type-is-1.6.18.tgz#4e552cd05df09467dcbc4ef739de89f2cf37c131\"\n  integrity sha512-TkRKr9sUTxEH8MdfuCSP7VizJyzRNMjj2J2do2Jr3Kym598JVdEksuzPQCnlFPW4ky9Q+iA+ma9BGm06XQBy8g==\n  dependencies:\n    media-typer \"0.3.0\"\n    mime-types \"~2.1.24\"\n\ntypedarray-to-buffer@^3.1.5:\n  version \"3.1.5\"\n  resolved \"https://registry.yarnpkg.com/typedarray-to-buffer/-/typedarray-to-buffer-3.1.5.tgz#a97ee7a9ff42691b9f783ff1bc5112fe3fca9080\"\n  integrity sha512-zdu8XMNEDepKKR+XYOXAVPtWui0ly0NtohUscw+UmaHiAWT8hrV1rr//H6V+0DvJ3OQ19S979M0laLfX8rm82Q==\n  dependencies:\n    is-typedarray \"^1.0.0\"\n\ntypedarray@^0.0.6:\n  version \"0.0.6\"\n  resolved \"https://registry.yarnpkg.com/typedarray/-/typedarray-0.0.6.tgz#867ac74e3864187b1d3d47d996a78ec5c8830777\"\n  integrity sha1-hnrHTjhkGHsdPUfZlqeOxciDB3c=\n\ntypescript@^3.9.5:\n  version \"3.9.5\"\n  resolved \"https://registry.yarnpkg.com/typescript/-/typescript-3.9.5.tgz#586f0dba300cde8be52dd1ac4f7e1009c1b13f36\"\n  integrity sha512-hSAifV3k+i6lEoCJ2k6R2Z/rp/H3+8sdmcn5NrS3/3kE7+RyZXm9aqvxWqjEXHAd8b0pShatpcdMTvEdvAJltQ==\n\nua-parser-js@^0.7.30:\n  version \"0.7.33\"\n  resolved \"https://registry.yarnpkg.com/ua-parser-js/-/ua-parser-js-0.7.33.tgz#1d04acb4ccef9293df6f70f2c3d22f3030d8b532\"\n  integrity sha512-s8ax/CeZdK9R/56Sui0WM6y9OFREJarMRHqLB2EwkovemBxNQ+Bqu8GAsUnVcXKgphb++ghr/B2BZx4mahujPw==\n\nuglify-js@^3.6.4:\n  version \"3.9.4\"\n  resolved \"https://registry.yarnpkg.com/uglify-js/-/uglify-js-3.9.4.tgz#867402377e043c1fc7b102253a22b64e5862401b\"\n  integrity sha512-8RZBJq5smLOa7KslsNsVcSH+KOXf1uDU8yqLeNuVKwmT0T3FA0ZoXlinQfRad7SDcbZZRZE4ov+2v71EnxNyCA==\n  dependencies:\n    commander \"~2.20.3\"\n\numd@^3.0.0:\n  version \"3.0.3\"\n  resolved \"https://registry.yarnpkg.com/umd/-/umd-3.0.3.tgz#aa9fe653c42b9097678489c01000acb69f0b26cf\"\n  integrity sha512-4IcGSufhFshvLNcMCV80UnQVlZ5pMOC8mvNPForqwA4+lzYQuetTESLDQkeLmihq8bRcnpbQa48Wb8Lh16/xow==\n\nundeclared-identifiers@^1.1.2:\n  version \"1.1.3\"\n  resolved \"https://registry.yarnpkg.com/undeclared-identifiers/-/undeclared-identifiers-1.1.3.tgz#9254c1d37bdac0ac2b52de4b6722792d2a91e30f\"\n  integrity sha512-pJOW4nxjlmfwKApE4zvxLScM/njmwj/DiUBv7EabwE4O8kRUy+HIwxQtZLBPll/jx1LJyBcqNfB3/cpv9EZwOw==\n  dependencies:\n    acorn-node \"^1.3.0\"\n    dash-ast \"^1.0.0\"\n    get-assigned-identifiers \"^1.2.0\"\n    simple-concat \"^1.0.0\"\n    xtend \"^4.0.1\"\n\nundefsafe@^2.0.2:\n  version \"2.0.3\"\n  resolved \"https://registry.yarnpkg.com/undefsafe/-/undefsafe-2.0.3.tgz#6b166e7094ad46313b2202da7ecc2cd7cc6e7aae\"\n  integrity sha512-nrXZwwXrD/T/JXeygJqdCO6NZZ1L66HrxM/Z7mIq2oPanoN0F1nLx3lwJMu6AwJY69hdixaFQOuoYsMjE5/C2A==\n  dependencies:\n    debug \"^2.2.0\"\n\nunion-value@^1.0.0:\n  version \"1.0.1\"\n  resolved \"https://registry.yarnpkg.com/union-value/-/union-value-1.0.1.tgz#0b6fe7b835aecda61c6ea4d4f02c14221e109847\"\n  integrity sha512-tJfXmxMeWYnczCVs7XAEvIV7ieppALdyepWMkHkwciRpZraG/xwT+s2JN8+pr1+8jCRf80FFzvr+MpQeeoF4Xg==\n  dependencies:\n    arr-union \"^3.1.0\"\n    get-value \"^2.0.6\"\n    is-extendable \"^0.1.1\"\n    set-value \"^2.0.1\"\n\nunique-string@^2.0.0:\n  version \"2.0.0\"\n  resolved \"https://registry.yarnpkg.com/unique-string/-/unique-string-2.0.0.tgz#39c6451f81afb2749de2b233e3f7c5e8843bd89d\"\n  integrity sha512-uNaeirEPvpZWSgzwsPGtU2zVSTrn/8L5q/IexZmH0eH6SA73CmAA5U4GwORTxQAZs95TAXLNqeLoPPNO5gZfWg==\n  dependencies:\n    crypto-random-string \"^2.0.0\"\n\nuniversalify@^0.1.0:\n  version \"0.1.2\"\n  resolved \"https://registry.yarnpkg.com/universalify/-/universalify-0.1.2.tgz#b646f69be3942dabcecc9d6639c80dc105efaa66\"\n  integrity sha512-rBJeI5CXAlmy1pV+617WB9J63U6XcazHHF2f2dbJix4XzpUF0RS3Zbj0FGIOCAva5P/d/GBOYaACQ1w+0azUkg==\n\nuniversalify@^2.0.0:\n  version \"2.0.0\"\n  resolved \"https://registry.yarnpkg.com/universalify/-/universalify-2.0.0.tgz#75a4984efedc4b08975c5aeb73f530d02df25717\"\n  integrity sha512-hAZsKq7Yy11Zu1DE0OzWjw7nnLZmJZYTDZZyEFHZdUhV8FkH5MCfoU1XMaxXovpyW5nq5scPqq0ZDP9Zyl04oQ==\n\nunpipe@1.0.0, unpipe@~1.0.0:\n  version \"1.0.0\"\n  resolved \"https://registry.yarnpkg.com/unpipe/-/unpipe-1.0.0.tgz#b2bf4ee8514aae6165b4817829d21b2ef49904ec\"\n  integrity sha1-sr9O6FFKrmFltIF4KdIbLvSZBOw=\n\nunset-value@^1.0.0:\n  version \"1.0.0\"\n  resolved \"https://registry.yarnpkg.com/unset-value/-/unset-value-1.0.0.tgz#8376873f7d2335179ffb1e6fc3a8ed0dfc8ab559\"\n  integrity sha1-g3aHP30jNRef+x5vw6jtDfyKtVk=\n  dependencies:\n    has-value \"^0.3.1\"\n    isobject \"^3.0.0\"\n\nupath@^1.1.1:\n  version \"1.2.0\"\n  resolved \"https://registry.yarnpkg.com/upath/-/upath-1.2.0.tgz#8f66dbcd55a883acdae4408af8b035a5044c1894\"\n  integrity sha512-aZwGpamFO61g3OlfT7OQCHqhGnW43ieH9WZeP7QxN/G/jS4jfqUkZxoryvJgVPEcrl5NL/ggHsSmLMHuH64Lhg==\n\nupdate-notifier@^4.0.0:\n  version \"4.1.0\"\n  resolved \"https://registry.yarnpkg.com/update-notifier/-/update-notifier-4.1.0.tgz#4866b98c3bc5b5473c020b1250583628f9a328f3\"\n  integrity sha512-w3doE1qtI0/ZmgeoDoARmI5fjDoT93IfKgEGqm26dGUOh8oNpaSTsGNdYRN/SjOuo10jcJGwkEL3mroKzktkew==\n  dependencies:\n    boxen \"^4.2.0\"\n    chalk \"^3.0.0\"\n    configstore \"^5.0.1\"\n    has-yarn \"^2.1.0\"\n    import-lazy \"^2.1.0\"\n    is-ci \"^2.0.0\"\n    is-installed-globally \"^0.3.1\"\n    is-npm \"^4.0.0\"\n    is-yarn-global \"^0.3.0\"\n    latest-version \"^5.0.0\"\n    pupa \"^2.0.1\"\n    semver-diff \"^3.1.1\"\n    xdg-basedir \"^4.0.0\"\n\nurix@^0.1.0:\n  version \"0.1.0\"\n  resolved \"https://registry.yarnpkg.com/urix/-/urix-0.1.0.tgz#da937f7a62e21fec1fd18d49b35c2935067a6c72\"\n  integrity sha1-2pN/emLiH+wf0Y1Js1wpNQZ6bHI=\n\nurl-parse-lax@^3.0.0:\n  version \"3.0.0\"\n  resolved \"https://registry.yarnpkg.com/url-parse-lax/-/url-parse-lax-3.0.0.tgz#16b5cafc07dbe3676c1b1999177823d6503acb0c\"\n  integrity sha1-FrXK/Afb42dsGxmZF3gj1lA6yww=\n  dependencies:\n    prepend-http \"^2.0.0\"\n\nurl@^0.11.0, url@~0.11.0:\n  version \"0.11.0\"\n  resolved \"https://registry.yarnpkg.com/url/-/url-0.11.0.tgz#3838e97cfc60521eb73c525a8e55bfdd9e2e28f1\"\n  integrity sha1-ODjpfPxgUh63PFJajlW/3Z4uKPE=\n  dependencies:\n    punycode \"1.3.2\"\n    querystring \"0.2.0\"\n\nurlgrey@0.4.4:\n  version \"0.4.4\"\n  resolved \"https://registry.yarnpkg.com/urlgrey/-/urlgrey-0.4.4.tgz#892fe95960805e85519f1cd4389f2cb4cbb7652f\"\n  integrity sha1-iS/pWWCAXoVRnxzUOJ8stMu3ZS8=\n\nuse@^3.1.0:\n  version \"3.1.1\"\n  resolved \"https://registry.yarnpkg.com/use/-/use-3.1.1.tgz#d50c8cac79a19fbc20f2911f56eb973f4e10070f\"\n  integrity sha512-cwESVXlO3url9YWlFW/TA9cshCEhtu7IKJ/p5soJ/gGpj7vbvFrAY/eIioQ6Dw23KjZhYgiIo8HOs1nQ2vr/oQ==\n\nutil-deprecate@^1.0.1, util-deprecate@~1.0.1:\n  version \"1.0.2\"\n  resolved \"https://registry.yarnpkg.com/util-deprecate/-/util-deprecate-1.0.2.tgz#450d4dc9fa70de732762fbd2d4a28981419a0ccf\"\n  integrity sha1-RQ1Nyfpw3nMnYvvS1KKJgUGaDM8=\n\nutil@0.10.3:\n  version \"0.10.3\"\n  resolved \"https://registry.yarnpkg.com/util/-/util-0.10.3.tgz#7afb1afe50805246489e3db7fe0ed379336ac0f9\"\n  integrity sha1-evsa/lCAUkZInj23/g7TeTNqwPk=\n  dependencies:\n    inherits \"2.0.1\"\n\nutil@^0.12.0, util@^0.12.1:\n  version \"0.12.3\"\n  resolved \"https://registry.yarnpkg.com/util/-/util-0.12.3.tgz#971bb0292d2cc0c892dab7c6a5d37c2bec707888\"\n  integrity sha512-I8XkoQwE+fPQEhy9v012V+TSdH2kp9ts29i20TaaDUXsg7x/onePbhFJUExBfv/2ay1ZOp/Vsm3nDlmnFGSAog==\n  dependencies:\n    inherits \"^2.0.3\"\n    is-arguments \"^1.0.4\"\n    is-generator-function \"^1.0.7\"\n    is-typed-array \"^1.1.3\"\n    safe-buffer \"^5.1.2\"\n    which-typed-array \"^1.1.2\"\n\nutil@~0.10.1:\n  version \"0.10.4\"\n  resolved \"https://registry.yarnpkg.com/util/-/util-0.10.4.tgz#3aa0125bfe668a4672de58857d3ace27ecb76901\"\n  integrity sha512-0Pm9hTQ3se5ll1XihRic3FDIku70C+iHUdT/W926rSgHV5QgXsYbKZN8MSC3tJtSkhuROzvsQjAaFENRXr+19A==\n  dependencies:\n    inherits \"2.0.3\"\n\nutils-merge@1.0.1:\n  version \"1.0.1\"\n  resolved \"https://registry.yarnpkg.com/utils-merge/-/utils-merge-1.0.1.tgz#9f95710f50a267947b2ccc124741c1028427e713\"\n  integrity sha1-n5VxD1CiZ5R7LMwSR0HBAoQn5xM=\n\nuuid@^3.3.2:\n  version \"3.4.0\"\n  resolved \"https://registry.yarnpkg.com/uuid/-/uuid-3.4.0.tgz#b23e4358afa8a202fe7a100af1f5f883f02007ee\"\n  integrity sha512-HjSDRw6gZE5JMggctHBcjVak08+KEVhSIiDzFnT9S9aegmp85S/bReBVTb4QTFaRNptJ9kuYaNhnbNEOkbKb/A==\n\nvalidate-npm-package-license@^3.0.1:\n  version \"3.0.4\"\n  resolved \"https://registry.yarnpkg.com/validate-npm-package-license/-/validate-npm-package-license-3.0.4.tgz#fc91f6b9c7ba15c857f4cb2c5defeec39d4f410a\"\n  integrity sha512-DpKm2Ui/xN7/HQKCtpZxoRWBhZ9Z0kqtygG8XCgNQ8ZlDnxuQmWhj566j8fN4Cu3/JmbhsDo7fcAJq4s9h27Ew==\n  dependencies:\n    spdx-correct \"^3.0.0\"\n    spdx-expression-parse \"^3.0.0\"\n\nvary@^1:\n  version \"1.1.2\"\n  resolved \"https://registry.yarnpkg.com/vary/-/vary-1.1.2.tgz#2299f02c6ded30d4a5961b0b9f74524a18f634fc\"\n  integrity sha1-IpnwLG3tMNSllhsLn3RSShj2NPw=\n\nvm-browserify@^1.0.0, vm-browserify@^1.1.2:\n  version \"1.1.2\"\n  resolved \"https://registry.yarnpkg.com/vm-browserify/-/vm-browserify-1.1.2.tgz#78641c488b8e6ca91a75f511e7a3b32a86e5dda0\"\n  integrity sha512-2ham8XPWTONajOR0ohOKOHXkm3+gaBmGut3SRuu75xLd/RRaY6vqgh8NBYYk7+RW3u5AtzPQZG8F10LHkl0lAQ==\n\nvoid-elements@^2.0.0:\n  version \"2.0.1\"\n  resolved \"https://registry.yarnpkg.com/void-elements/-/void-elements-2.0.1.tgz#c066afb582bb1cb4128d60ea92392e94d5e9dbec\"\n  integrity sha1-wGavtYK7HLQSjWDqkjkulNXp2+w=\n\nwatchify@^3.11.1:\n  version \"3.11.1\"\n  resolved \"https://registry.yarnpkg.com/watchify/-/watchify-3.11.1.tgz#8e4665871fff1ef64c0430d1a2c9d084d9721881\"\n  integrity sha512-WwnUClyFNRMB2NIiHgJU9RQPQNqVeFk7OmZaWf5dC5EnNa0Mgr7imBydbaJ7tGTuPM2hz1Cb4uiBvK9NVxMfog==\n  dependencies:\n    anymatch \"^2.0.0\"\n    browserify \"^16.1.0\"\n    chokidar \"^2.1.1\"\n    defined \"^1.0.0\"\n    outpipe \"^1.1.0\"\n    through2 \"^2.0.0\"\n    xtend \"^4.0.0\"\n\nwcwidth@^1.0.1:\n  version \"1.0.1\"\n  resolved \"https://registry.yarnpkg.com/wcwidth/-/wcwidth-1.0.1.tgz#f0b0dcf915bc5ff1528afadb2c0e17b532da2fe8\"\n  integrity sha1-8LDc+RW8X/FSivrbLA4XtTLaL+g=\n  dependencies:\n    defaults \"^1.0.3\"\n\nwhatwg-fetch@^2.0.3:\n  version \"2.0.4\"\n  resolved \"https://registry.yarnpkg.com/whatwg-fetch/-/whatwg-fetch-2.0.4.tgz#dde6a5df315f9d39991aa17621853d720b85566f\"\n  integrity sha512-dcQ1GWpOD/eEQ97k66aiEVpNnapVj90/+R+SXTPYGHpYBBypfKJEQjLrvMZ7YXbKm21gXd4NcuxUTjiv1YtLng==\n\nwhich-typed-array@^1.1.2:\n  version \"1.1.2\"\n  resolved \"https://registry.yarnpkg.com/which-typed-array/-/which-typed-array-1.1.2.tgz#e5f98e56bda93e3dac196b01d47c1156679c00b2\"\n  integrity sha512-KT6okrd1tE6JdZAy3o2VhMoYPh3+J6EMZLyrxBQsZflI1QCZIxMrIYLkosd8Twf+YfknVIHmYQPgJt238p8dnQ==\n  dependencies:\n    available-typed-arrays \"^1.0.2\"\n    es-abstract \"^1.17.5\"\n    foreach \"^2.0.5\"\n    function-bind \"^1.1.1\"\n    has-symbols \"^1.0.1\"\n    is-typed-array \"^1.1.3\"\n\nwhich@^1.2.1, which@^1.2.9:\n  version \"1.3.1\"\n  resolved \"https://registry.yarnpkg.com/which/-/which-1.3.1.tgz#a45043d54f5805316da8d62f9f50918d3da70b0a\"\n  integrity sha512-HxJdYWq1MTIQbJ3nw0cqssHoTNU267KlrDuGZ1WYlxDStUtKUhOaJmh112/TZmHxxUfuJqPXSOm7tDyas0OSIQ==\n  dependencies:\n    isexe \"^2.0.0\"\n\nwidest-line@^3.1.0:\n  version \"3.1.0\"\n  resolved \"https://registry.yarnpkg.com/widest-line/-/widest-line-3.1.0.tgz#8292333bbf66cb45ff0de1603b136b7ae1496eca\"\n  integrity sha512-NsmoXalsWVDMGupxZ5R08ka9flZjjiLvHVAWYOKtiKM8ujtZWr9cRffak+uSE48+Ob8ObalXpwyeUiyDD6QFgg==\n  dependencies:\n    string-width \"^4.0.0\"\n\nwordwrap@~0.0.2:\n  version \"0.0.3\"\n  resolved \"https://registry.yarnpkg.com/wordwrap/-/wordwrap-0.0.3.tgz#a3d5da6cd5c0bc0008d37234bbaf1bed63059107\"\n  integrity sha1-o9XabNXAvAAI03I0u68b7WMFkQc=\n\nwrap-ansi@^7.0.0:\n  version \"7.0.0\"\n  resolved \"https://registry.yarnpkg.com/wrap-ansi/-/wrap-ansi-7.0.0.tgz#67e145cff510a6a6984bdf1152911d69d2eb9e43\"\n  integrity sha512-YVGIj2kamLSTxw6NsZjoBxfSwsn0ycdesmc4p+Q21c5zPuZ1pl+NfxVdxPtdHvmNVOQ6XSYG4AUtyt/Fi7D16Q==\n  dependencies:\n    ansi-styles \"^4.0.0\"\n    string-width \"^4.1.0\"\n    strip-ansi \"^6.0.0\"\n\nwrappy@1:\n  version \"1.0.2\"\n  resolved \"https://registry.yarnpkg.com/wrappy/-/wrappy-1.0.2.tgz#b5243d8f3ec1aa35f1364605bc0d1036e30ab69f\"\n  integrity sha1-tSQ9jz7BqjXxNkYFvA0QNuMKtp8=\n\nwrite-file-atomic@^3.0.0:\n  version \"3.0.3\"\n  resolved \"https://registry.yarnpkg.com/write-file-atomic/-/write-file-atomic-3.0.3.tgz#56bd5c5a5c70481cd19c571bd39ab965a5de56e8\"\n  integrity sha512-AvHcyZ5JnSfq3ioSyjrBkH9yW4m7Ayk8/9My/DD9onKeu/94fwrMocemO2QAJFAlnnDN+ZDS+ZjAR5ua1/PV/Q==\n  dependencies:\n    imurmurhash \"^0.1.4\"\n    is-typedarray \"^1.0.0\"\n    signal-exit \"^3.0.2\"\n    typedarray-to-buffer \"^3.1.5\"\n\nws@~8.17.1:\n  version \"8.17.1\"\n  resolved \"https://registry.yarnpkg.com/ws/-/ws-8.17.1.tgz#9293da530bb548febc95371d90f9c878727d919b\"\n  integrity sha512-6XQFvXTkbfUOZOKKILFG1PDK2NDQs4azKQl26T0YS5CxqWLgXajbPZ+h4gZekJyRqFU8pvnbAbbs/3TgRPy+GQ==\n\nxdg-basedir@^4.0.0:\n  version \"4.0.0\"\n  resolved \"https://registry.yarnpkg.com/xdg-basedir/-/xdg-basedir-4.0.0.tgz#4bc8d9984403696225ef83a1573cbbcb4e79db13\"\n  integrity sha512-PSNhEJDejZYV7h50BohL09Er9VaIefr2LMAf3OEmpCkjOi34eYyQYAXUTjEQtZJTKcF0E2UKTh+osDLsgNim9Q==\n\nxtend@^4.0.0, xtend@^4.0.1, xtend@^4.0.2, xtend@~4.0.1:\n  version \"4.0.2\"\n  resolved \"https://registry.yarnpkg.com/xtend/-/xtend-4.0.2.tgz#bb72779f5fa465186b1f438f674fa347fdb5db54\"\n  integrity sha512-LKYU1iAXJXUgAXn9URjiu+MWhyUXHsvfp7mcuYm9dSUKK0/CjtrUwFAxD82/mCWbtLsGjFIad0wIsod4zrTAEQ==\n\ny18n@^5.0.5:\n  version \"5.0.8\"\n  resolved \"https://registry.yarnpkg.com/y18n/-/y18n-5.0.8.tgz#7f4934d0f7ca8c56f95314939ddcd2dd91ce1d55\"\n  integrity sha512-0pfFzegeDWJHJIAmTLRP2DwHjdF5s7jo9tuztdQxAhINCdvS+3nGINqPd00AphqJR/0LhANUS6/+7SCb98YOfA==\n\nyargs-parser@^20.2.2:\n  version \"20.2.9\"\n  resolved \"https://registry.yarnpkg.com/yargs-parser/-/yargs-parser-20.2.9.tgz#2eb7dc3b0289718fc295f362753845c41a0c94ee\"\n  integrity sha512-y11nGElTIV+CT3Zv9t7VKl+Q3hTQoT9a1Qzezhhl6Rp21gJ/IVTW7Z3y9EWXhuUBC2Shnf+DX0antecpAwSP8w==\n\nyargs@^16.1.1:\n  version \"16.2.0\"\n  resolved \"https://registry.yarnpkg.com/yargs/-/yargs-16.2.0.tgz#1c82bf0f6b6a66eafce7ef30e376f49a12477f66\"\n  integrity sha512-D1mvvtDG0L5ft/jGWkLpG1+m0eQxOfaBvTNELraWj22wSVUMWxZUvYgJYcKh6jGGIkJFhH4IZPQhR4TKpc8mBw==\n  dependencies:\n    cliui \"^7.0.2\"\n    escalade \"^3.1.1\"\n    get-caller-file \"^2.0.5\"\n    require-directory \"^2.1.1\"\n    string-width \"^4.2.0\"\n    y18n \"^5.0.5\"\n    yargs-parser \"^20.2.2\"\n"
        }
      ]
    }
  ]
}