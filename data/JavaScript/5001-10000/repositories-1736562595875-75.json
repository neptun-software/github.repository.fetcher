{
  "metadata": {
    "timestamp": 1736562595875,
    "page": 75,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjEyMA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "trazyn/ieaseMusic",
      "stars": 8774,
      "defaultBranch": "master",
      "files": [
        {
          "name": ".babelrc",
          "type": "blob",
          "size": 0.5400390625,
          "content": "// NOTE: These options are overriden by the babel-loader configuration\n// for webpack, which can be found in ~/build/webpack.config.\n//\n// Why? The react-transform-hmr plugin depends on HMR (and throws if\n// module.hot is disabled), so keeping it and related plugins contained\n// within webpack helps prevent unexpected errors.\n{\n  \"presets\": ['es2015', \"react\", \"stage-0\"],\n  \"plugins\": [\"babel-polyfill\", \"transform-decorators-legacy\", \"react-hot-loader/babel\"],\n  \"env\": {\n      \"production\": {\n          \"presets\": [\"react-optimize\"]\n      }\n  },\n}\n"
        },
        {
          "name": ".codeclimate.yml",
          "type": "blob",
          "size": 0.5830078125,
          "content": "version: \"2\"         # required to adjust maintainability checks\nchecks:\n  argument-count:\n    config:\n      threshold: 4\n  complex-logic:\n    config:\n      threshold: 4\n  file-lines:\n    config:\n        threshold: 1000\n  method-complexity:\n    config:\n      threshold: 6\n  method-count:\n    config:\n      threshold: 20\n  method-lines:\n    config:\n      threshold: 500\n  nested-control-flow:\n    config:\n      threshold: 4\n  return-statements:\n    config:\n      threshold: 4\n\nengines:\n  duplication:\n    enabled: false\n    config:\n      languages:\n        javascript:\n          mass_threshold: 65\n"
        },
        {
          "name": ".editorconfig",
          "type": "blob",
          "size": 0.2666015625,
          "content": "# EditorConfig is awesome: http://EditorConfig.org\n\n# top-most EditorConfig file\nroot = true\n\n# Unix-style newlines with a newline ending every file\n[*]\nend_of_line = lf\ninsert_final_newline = true\nindent_style = space\nindent_size = 4\ncharset = utf-8\nmax_line_length = 80\n\n"
        },
        {
          "name": ".eslintignore",
          "type": "blob",
          "size": 0.0830078125,
          "content": "\n__tests__/*\ndist/*\nnode_modules/*\nsrc/assets/*\nserver/api/*\nNeteaseCloudMusicApi/*\n\n"
        },
        {
          "name": ".eslintrc.json",
          "type": "blob",
          "size": 0.9638671875,
          "content": "{\n    \"parserOptions\": {\n        \"ecmaVersion\": 8,\n        \"sourceType\": \"module\",\n        \"ecmaFeatures\": {\n            \"impliedStrict\": true,\n            \"jsx\": true,\n            \"js\": true,\n            \"legacyDecorators\": true\n        }\n    },\n    \"env\": {\n        \"es6\": true,\n        \"node\": true\n    },\n    \"parser\": \"babel-eslint\",\n    \"plugins\": [\"react\"],\n    \"rules\": {\n        \"semi\": [2, \"always\"],\n        \"new-cap\": [0],\n        \"prefer-promise-reject-errors\": [1],\n        \"indent\": [2, 4, {\n            \"SwitchCase\": 1\n        }],\n        \"comma-dangle\": [2, \"only-multiline\"],\n        \"space-before-function-paren\": [2, \"never\"],\n        \"operator-linebreak\": [2, \"before\"],\n        \"no-floating-decimal\": [0],\n        \"react/jsx-indent\": [2, 4],\n        \"react/jsx-indent-props\": [2, 4],\n        \"react/jsx-boolean-value\": [2, \"always\"],\n        \"react/prop-types\": [0],\n        \"jsx-quotes\": [2, \"prefer-double\"]\n    },\n    \"extends\": [\"standard\", \"standard-react\"]\n}\n"
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.4638671875,
          "content": "# OSX\n#\n.DS_Store\n\n# Other\n#\ndist/\nrelease/\n*-lock.json\n\n# Xcode\n#\nbuild/\n*.pbxuser\n!default.pbxuser\n*.mode1v3\n!default.mode1v3\n*.mode2v3\n!default.mode2v3\n*.perspectivev3\n!default.perspectivev3\nxcuserdata\n*.xccheckout\n*.moved-aside\nDerivedData\n*.hmap\n*.ipa\n*.xcuserstate\nproject.xcworkspace\n\n# Android/IntelliJ\n#\nbuild/\n.idea\n.gradle\nlocal.properties\n*.iml\n\n# node.js\n#\n.vscode\nnode_modules/\nnpm-debug.log\n\n# BUCK\nbuck-out/\n\\.buckd/\nandroid/app/libs\n*.keystore\n/Requests.paw\n"
        },
        {
          "name": ".gitmodules",
          "type": "blob",
          "size": 0.115234375,
          "content": "[submodule \"NeteaseCloudMusicApi\"]\n\tpath = NeteaseCloudMusicApi\n\turl = https://github.com/trazyn/NeteaseCloudMusicApi\n"
        },
        {
          "name": ".travis.yml",
          "type": "blob",
          "size": 0.08984375,
          "content": "sudo: false\n\nlanguage: node_js\n\nnode_js:\n  - 9\n  - 8\n\nscript: npm run lint && npm run build\n"
        },
        {
          "name": "AUTHORS.md",
          "type": "blob",
          "size": 0.384765625,
          "content": "# Authors\n\n#### Ordered by first contribution.\n\n- trazyn (var.darling@gmail.com)\n- kenshinji (gundam0083ster@gmail.com)\n- nashaofu (diaocheng@outlook.com)\n- Gemer Cheung (gemercheung@gmail.com)\n- songjiayang (songjiayang@users.noreply.github.com)\n- SeptemberHX (tianjianshan@outlook.com)\n- unreal0 (unreal0@sina.cn)\n- Shi Liang (shilianggoo@gmail.com)\n\n#### Generated by bin/update-authors.sh.\n"
        },
        {
          "name": "LICENSE",
          "type": "blob",
          "size": 1.0625,
          "content": "The MIT License (MIT)\n\nCopyright (c) 2017 var.darling@gmail.com\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n"
        },
        {
          "name": "NeteaseCloudMusicApi",
          "type": "commit",
          "content": null
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 7.1796875,
          "content": "# ieaseMusic\n\n[![Current Release](https://img.shields.io/github/release/trazyn/ieaseMusic.svg?style=flat-square)](https://github.com/trazyn/ieaseMusic/releases)\n![License](https://img.shields.io/github/license/trazyn/ieaseMusic.svg?style=flat-square)\n[![Travis CI status](https://img.shields.io/travis/trazyn/ieaseMusic/dev.svg?style=flat-square)](https://travis-ci.org/trazyn/ieaseMusic/branches)\n[![Dependencies Status](https://david-dm.org/trazyn/ieaseMusic/status.svg?style=flat-square)](https://david-dm.org/trazyn/ieaseMusic)\n[![DevDependencies Status](https://david-dm.org/trazyn/ieaseMusic/dev-status.svg?style=flat-square)](https://david-dm.org/trazyn/ieaseMusic?type=dev)\n[![JS Standard Style](https://img.shields.io/badge/code%20style-standard-brightgreen.svg?style=flat-square)](http://standardjs.com)\n\n\n<img src=\"https://github.com/trazyn/ieaseMusic/blob/master/resource/128x128.png\" />\n\n> Elegant NeteaseMusic desktop app, Rock with NeteaseMusic :metal:\n\n> Built by Electron, React, MobX, JSS\n\n`API` ç”± [Binaryify/NeteaseCloudMusicApi](https://github.com/Binaryify/NeteaseCloudMusicApi) æä¾›ã€‚\n\n\n## Preview\n\n![PREVIEW](https://github.com/trazyn/ieaseMusic/blob/dev/screenshots/preview.gif?raw=true)\n\n## Feature\n- å¸…\n- å¾ˆå¸…\n- éå¸¸å¸…\n- JSS Theme support\n- OSX Friendly\n- Cross Platform\n- Keyboard support\n- Desktop notifications\n- Modern UI design\n- High quality music(FLAC)\n- Track your listen to Last.fm\n- Fix dead music link [#3](https://github.com/trazyn/ieaseMusic/issues/3)(QQ music, Xiami music, Kugou music, Kuwo music, MiGu music, Biadu music all in one)\n- Share music to Facebook, Twitter, Google+, WeChat\n- WeChat scan to log in\n- Download music ğŸ­\n\n  ![Downloader](https://raw.githubusercontent.com/trazyn/ieaseMusic/dev/screenshots/downloader.png)\n- Alfred 3 workflow([alfred-ieasemusic](https://github.com/trazyn/alfred-ieasemusic)), required [v1.2.6+](https://github.com/trazyn/ieaseMusic/releases/latest)\n\n  ![Alfred](https://github.com/trazyn/alfred-ieasemusic/raw/master/screenshots/menu.png?raw=true)\n\n## Install\n\nDownload the last version on the [website](https://github.com/trazyn/ieaseMusic/releases/latest) or below.\n\n#### Mac(10.9+)\n[Download](https://github.com/trazyn/ieaseMusic/releases/download/v1.3.4/ieaseMusic-1.3.4-mac.dmg) the `.dmg` file, Or use `homebrew`:\n```\nbrew cask install ieasemusic\n```\n\n#### Linux\n\n[Download](https://github.com/trazyn/ieaseMusic/releases/download/v1.3.4/ieaseMusic-1.3.4-linux-amd64.deb) the `.deb` file for 'Debian / Ubuntu':\n```\n$ sudo dpkg -i ieaseMusic-1.3.4-linux-amd64.deb\n```\n\n[Download](https://github.com/trazyn/ieaseMusic/releases/download/v1.3.4/ieaseMusic-1.3.4-linux-x86_64.rpm) the `.rpm` file for 'Centos/RHEL':\n```\n$ sudo yum localinstall ieaseMusic-1.3.4-linux-x86_64.rpm\n```\n\n[Download](https://github.com/trazyn/ieaseMusic/releases/download/v1.3.4/iease-music-1.3.4-x86_64.AppImage) the `.Appimage` file for other distribution:\n```\n$ chmod u+x iease-music-1.3.4-x86_64.AppImage\n$ ./iease-music-1.3.4-x86_64.AppImage\n```\n\nArchlinux `pacman` install:\n```\n$ pacman -S iease-music\n```\nor\n```\n$ pacman -S iease-music-git\n```\n\n## Screenshots\n\n![Home](https://github.com/trazyn/ieaseMusic/blob/dev/screenshots/home.png?raw=true)\n![FM](https://github.com/trazyn/ieaseMusic/blob/dev/screenshots/fm.png?raw=true)\n![PLAYER](https://github.com/trazyn/ieaseMusic/blob/dev/screenshots/player.png?raw=true)\n![PLAYER2](https://github.com/trazyn/ieaseMusic/blob/dev/screenshots/player-2.png?raw=true)\n![USER](https://github.com/trazyn/ieaseMusic/blob/dev/screenshots/user.png?raw=true)\n![ARTIST](https://github.com/trazyn/ieaseMusic/blob/dev/screenshots/artist.png?raw=true)\n![COMMENTS](https://github.com/trazyn/ieaseMusic/blob/dev/screenshots/comments.png?raw=true)\n![LYRICS](https://github.com/trazyn/ieaseMusic/blob/dev/screenshots/lyrics.png?raw=true)\n![COVER](https://github.com/trazyn/ieaseMusic/blob/dev/screenshots/cover.png?raw=true)\n![TOP](https://github.com/trazyn/ieaseMusic/blob/dev/screenshots/top.png?raw=true)\n![CMDP](https://github.com/trazyn/ieaseMusic/blob/dev/screenshots/cmd+p.png?raw=true)\n![MENU](https://github.com/trazyn/ieaseMusic/blob/dev/screenshots/menu.png?raw=true)\n![UPNEXT](https://github.com/trazyn/ieaseMusic/blob/dev/screenshots/upnext.png?raw=true)\n![PLAYLIST](https://github.com/trazyn/ieaseMusic/blob/dev/screenshots/playlist.png?raw=true)\n\n## Development\n```\ngit submodule init\ngit submodule update --remote --merge\n$ npm install\n$ npm run dev\n```\n\n## UNBLOCK\nä¿®æ”¹`/etc/hosts`æ·»åŠ \n```\n158.199.142.239 music.163.com\n163.171.98.219  p1.music.126.net\n163.171.98.219  p3.music.126.net\n163.171.98.219  p4.music.126.net\n202.122.146.83  m10.music.126.net\n```\n>ä¸Šé¢æ˜¯æ—¥æœ¬åä»£èŠ‚ç‚¹[fengjueming/unblock-NetEaseMusic](https://github.com/fengjueming/unblock-NetEaseMusic)\n>\n>æ–°åŠ å¡èŠ‚ç‚¹ï¼ˆæœ¬å±Œå¤ªç©·æœ‰éœ€è¦è¿˜æ˜¯å°½é‡ç”¨ä¸Šé¢çš„èŠ‚ç‚¹å§ï¼‰\n>```\n>52.221.201.48 music.163.com\n>```\n\nå…³äºä¼˜åŒ–`IP`åœ°å€ï¼Œpå¼€å¤´çš„æ˜¯å›¾ç‰‡CDNæœåŠ¡å™¨ï¼Œmå¼€å¤´çš„æ˜¯éŸ³ä¹èµ„æºCDNæœåŠ¡å™¨ã€‚å¯ä»¥é€šè¿‡\n```\nping ws.acgvideo.com\n```\næ¥å¯»æ‰¾æœ€ä¼˜çš„éŸ³ä¹èµ„æºCDNæœåŠ¡å™¨ã€‚é€šè¿‡\n```\nping cdnetworks.com\n```\næ¥å¯»æ‰¾æœ€ä¼˜çš„å›¾ç‰‡èµ„æºCDNæœåŠ¡å™¨ã€‚\n\n## Keyboard shortcuts\n\nDescription            | Keys\n-----------------------| -----------------------\næš‚åœ/æ’­æ”¾              | <kbd>Space</kbd>\nä¸Šä¸€æ›²                 | <kbd>Left</kbd>\nä¸‹ä¸€æ›²                 | <kbd>Right</kbd>\néŸ³é‡åŠ                  | <kbd>Up</kbd>\néŸ³é‡å‡                 | <kbd>Down</kbd>\nå–œæ¬¢æ­Œæ›²               | <kbd>Cmd</kbd> <kbd>L</kbd>\næ’­æ”¾å†å²è®°å½•           | <kbd>Cmd</kbd> <kbd>0</kbd> ... <kbd>9</kbd>\næœç´¢                   | <kbd>Cmd</kbd> <kbd>F</kbd>\næ˜¾ç¤ºä¸‹è½½æ­Œæ›²               | <kbd>Shift</kbd> <kbd>Cmd</kbd> <kbd>D</kbd>\nè·³è½¬é¦–é¡µ               | <kbd>Shift</kbd> <kbd>Cmd</kbd> <kbd>H</kbd>\næŸ¥çœ‹æ¦œå•               | <kbd>Shift</kbd> <kbd>Cmd</kbd> <kbd>T</kbd>\næ‰€æœ‰æ­Œå•               | <kbd>Shift</kbd> <kbd>Cmd</kbd> <kbd>P</kbd>\næˆ‘çš„ç”µå°               | <kbd>Shift</kbd> <kbd>Cmd</kbd> <kbd>F</kbd>\nèœå•                   | <kbd>Shift</kbd> <kbd>Cmd</kbd> <kbd>L</kbd>\næ’­æ”¾åˆ—è¡¨               | <kbd>Cmd</kbd> <kbd>P</kbd>\nåå¥½è®¾ç½®               | <kbd>Cmd</kbd> <kbd>,</kbd>\nåå¥½è®¾ç½®               | <kbd>é¼ æ ‡å³é”®</kbd>\n\n## TODO:\n- [x] Home\n- [x] Playlist\n- [x] Top\n- [x] My FM\n- [x] User\n- [x] Artist\n- [x] Album\n- [x] Search\n- [x] Login\n- [x] Pllylist subscribe\n- [x] Follow\n- [x] Flac high quality audio\n- [x] Fix dead music link([#3](https://github.com/trazyn/ieaseMusic/issues/3))\n- [x] Scrobble to Last.fm\n- [x] Commentï¼ˆRead onlyï¼‰\n- [x] Lyrics\n- [x] Auto update\n- [x] Alfred supports\n- [x] Download manager\n- [x] Wechat QR code login\n- [x] Weibo QR code login\n- [ ] Resize windowï¼ˆNew UIï¼‰\n\n## å‚è€ƒåˆ—è¡¨\n- UNBLOCK\n\n  [fengjueming/unblock-NetEaseMusic](https://github.com/fengjueming/unblock-NetEaseMusic)\n  \n   [acgotaku/NetEaseMusicWorld](https://github.com/acgotaku/NetEaseMusicWorld)\n- é«˜å“è´¨éŸ³ä¹\n  [YongHaoWu/NeteaseCloudMusicFlac](https://github.com/YongHaoWu/NeteaseCloudMusicFlac)\n- æ·»åŠ å…¶ä»–æ›²åº“ï¼Œè§£å†³æ­»é“¾é—®é¢˜\n  [ITJesse/UnblockNeteaseMusic](https://github.com/ITJesse/UnblockNeteaseMusic)\n\n## License\nè¿˜æ˜¯ MIT å§ï¼Œæ‡’å¾—æ”¹äº†\n\n![DONATE](https://github.com/trazyn/ieaseMusic/blob/dev/resource/donate.png?raw=true)\n"
        },
        {
          "name": "azure-pipelines.yml",
          "type": "blob",
          "size": 0.4619140625,
          "content": "# Node.js with webpack\n# Build a Node.js project using the webpack CLI.\n# Add steps that analyze code, save build artifacts, deploy, and more:\n# https://docs.microsoft.com/azure/devops/pipelines/languages/javascript\n\ntrigger:\n- master\n\npool:\n  vmImage: 'Ubuntu-16.04'\n\nsteps:\n- task: AppCenterTest@1\n  inputs:\n    versionSpec: '8.x'\n  displayName: 'Install Node.js'\n\n- script: |\n    npm install -g webpack webpack-cli --save-dev\n    npm i\n    npm run lint && npm run build\n"
        },
        {
          "name": "bin",
          "type": "tree",
          "content": null
        },
        {
          "name": "common",
          "type": "tree",
          "content": null
        },
        {
          "name": "config",
          "type": "tree",
          "content": null
        },
        {
          "name": "main.js",
          "type": "blob",
          "size": 17.279296875,
          "content": "\nimport path from 'path';\nimport { app, BrowserWindow, Menu, Tray, globalShortcut, ipcMain, shell, powerMonitor } from 'electron';\nimport windowStateKeeper from 'electron-window-state';\nimport storage from 'electron-json-storage';\nimport axios from 'axios';\nimport _debug from 'debug';\n\nimport pkg from './package.json';\nimport config from './config';\nimport api from './server/api';\nimport usocket from './server/usocket';\nimport { updater, downloader } from './submodules';\n\nconst _PLATFORM = process.platform;\n\nlet debug = _debug('dev:main');\nlet error = _debug('dev:main:error');\nlet apiServer;\nlet forceQuit = false;\nlet quitting = false;\nlet menu;\nlet tray;\nlet mainWindow;\nlet isOsx = _PLATFORM === 'darwin';\nlet isLinux = _PLATFORM === 'linux';\n\nlet showMenuBarOnLinux = false;\nlet revertTrayIcon = false;\n\n// Shared data to other applocation via a unix socket file\nlet shared = {\n    modes: [],\n    track: {},\n    playing: false,\n    playlist: []\n};\nlet mainMenu = [\n    {\n        label: 'ieaseMusic',\n        submenu: [\n            {\n                label: `About ieaseMusic`,\n                selector: 'orderFrontStandardAboutPanel:',\n            },\n            {\n                label: 'Preferences...',\n                accelerator: 'Cmd+,',\n                click() {\n                    mainWindow.webContents.send('show-preferences');\n                }\n            },\n            {\n                type: 'separator'\n            },\n            {\n                role: 'hide'\n            },\n            {\n                role: 'hideothers'\n            },\n            {\n                role: 'unhide'\n            },\n            {\n                type: 'separator'\n            },\n            {\n                label: 'Check for updates',\n                accelerator: 'Cmd+U',\n                click() {\n                    updater.checkForUpdates();\n                }\n            },\n            {\n                label: 'Quit',\n                accelerator: 'Command+Q',\n                selector: 'terminate:',\n                click() {\n                    goodbye();\n                }\n            }\n        ]\n    },\n    {\n        label: 'Controls',\n        submenu: [\n            {\n                label: 'Pause',\n                accelerator: 'Space',\n                click() {\n                    mainWindow.show();\n                    mainWindow.webContents.send('player-toggle');\n                }\n            },\n            {\n                label: 'Next',\n                accelerator: 'Right',\n                click() {\n                    mainWindow.show();\n                    mainWindow.webContents.send('player-next');\n                }\n            },\n            {\n                label: 'Previous',\n                accelerator: 'Left',\n                click() {\n                    mainWindow.show();\n                    mainWindow.webContents.send('player-previous');\n                }\n            },\n            {\n                label: 'Increase Volume',\n                accelerator: 'Up',\n                click() {\n                    mainWindow.show();\n                    mainWindow.webContents.send('player-volume-up');\n                }\n            },\n            {\n                label: 'Decrease Volume',\n                accelerator: 'Down',\n                click() {\n                    mainWindow.show();\n                    mainWindow.webContents.send('player-volume-down');\n                }\n            },\n            {\n                label: 'Like',\n                accelerator: 'Cmd+L',\n                click() {\n                    mainWindow.show();\n                    mainWindow.webContents.send('player-like');\n                }\n            },\n        ],\n    },\n    {\n        label: 'Recently Played',\n        submenu: [\n            {\n                label: 'Nothing...',\n            }\n        ],\n    },\n    {\n        label: 'Next Up',\n        submenu: [\n            {\n                label: 'Nothing...',\n            }\n        ],\n    },\n    {\n        label: 'Edit',\n        submenu: [\n            {\n                role: 'undo'\n            },\n            {\n                role: 'redo'\n            },\n            {\n                type: 'separator'\n            },\n            {\n                role: 'cut'\n            },\n            {\n                role: 'copy'\n            },\n            {\n                role: 'paste'\n            },\n            {\n                role: 'pasteandmatchstyle'\n            },\n            {\n                role: 'delete'\n            },\n            {\n                role: 'selectall'\n            }\n        ]\n    },\n    {\n        label: 'View',\n        submenu: [\n            {\n                label: 'Home',\n                accelerator: 'Cmd+Shift+H',\n                click() {\n                    mainWindow.webContents.send('show-home');\n                }\n            },\n            {\n                label: 'Search',\n                accelerator: 'Cmd+F',\n                click() {\n                    mainWindow.webContents.send('show-search');\n                }\n            },\n            {\n                label: 'Top podcasts',\n                accelerator: 'Cmd+Shift+T',\n                click() {\n                    mainWindow.webContents.send('show-top');\n                }\n            },\n            {\n                label: 'Playlist',\n                accelerator: 'Cmd+Shift+P',\n                click() {\n                    mainWindow.webContents.send('show-playlist');\n                }\n            },\n            {\n                label: 'Made For You',\n                accelerator: 'Cmd+Shift+F',\n                click() {\n                    mainWindow.webContents.send('show-fm');\n                }\n            },\n            {\n                label: 'Downloads',\n                accelerator: 'Cmd+Shift+D',\n                click() {\n                    downloader.showDownloader();\n                }\n            },\n            {\n                type: 'separator',\n            },\n            {\n                label: 'Menu',\n                accelerator: 'Cmd+Shift+L',\n                click() {\n                    mainWindow.webContents.send('show-menu');\n                }\n            },\n            {\n                label: 'Next Up',\n                accelerator: 'Cmd+P',\n                click() {\n                    mainWindow.webContents.send('show-playing');\n                }\n            },\n            {\n                type: 'separator'\n            },\n            {\n                role: 'toggledevtools'\n            },\n        ]\n    },\n    {\n        role: 'window',\n        submenu: [\n            {\n                role: 'minimize'\n            },\n            {\n                role: 'close'\n            }\n        ]\n    },\n    {\n        role: 'help',\n        submenu: [\n            {\n                label: 'Bug report ğŸ›',\n                click() {\n                    shell.openExternal('https://github.com/trazyn/ieaseMusic/issues');\n                }\n            },\n            {\n                label: 'Fork me on Github ğŸš€',\n                click() {\n                    shell.openExternal('https://github.com/trazyn/ieaseMusic');\n                }\n            },\n            {\n                type: 'separator'\n            },\n            {\n                label: 'ğŸ’• Follow me on Twitter ğŸ‘',\n                click() {\n                    shell.openExternal('https://twitter.com/var_darling');\n                }\n            }\n        ]\n    }\n];\nlet trayMenu = [\n    {\n        label: 'Pause',\n        click() {\n            mainWindow.webContents.send('player-toggle');\n        }\n    },\n    {\n        label: 'Next',\n        click() {\n            mainWindow.webContents.send('player-next');\n        }\n    },\n    {\n        label: 'Previous',\n        click() {\n            mainWindow.webContents.send('player-previous');\n        }\n    },\n    {\n        type: 'separator'\n    },\n    {\n        label: 'Preferences...',\n        accelerator: 'Cmd+,',\n        click() {\n            mainWindow.webContents.send('show-preferences');\n        }\n    },\n    {\n        type: 'separator'\n    },\n    {\n        label: 'Toggle main window',\n        click() {\n            let isVisible = mainWindow.isVisible();\n            isVisible ? mainWindow.hide() : mainWindow.show();\n        }\n    },\n    {\n        type: 'separator'\n    },\n    {\n        label: 'Check for updates',\n        accelerator: 'Cmd+U',\n        click() {\n            updater.checkForUpdates();\n        }\n    },\n    {\n        label: 'Fork me on Github',\n        click() {\n            shell.openExternal('https://github.com/trazyn/ieaseMusic');\n        }\n    },\n    {\n        type: 'separator'\n    },\n    {\n        label: 'Toggle DevTools',\n        accelerator: 'Alt+Command+I',\n        click() {\n            mainWindow.show();\n            mainWindow.toggleDevTools();\n        }\n    },\n    {\n        type: 'separator'\n    },\n    {\n        label: 'Quit',\n        accelerator: 'Command+Q',\n        selector: 'terminate:',\n        click() {\n            goodbye();\n        }\n    }\n];\nlet dockMenu = [\n    {\n        label: 'Toggle Player',\n        accelerator: 'Space',\n        click() {\n            mainWindow.show();\n            mainWindow.webContents.send('player-toggle');\n        }\n    },\n    {\n        label: 'Next',\n        accelerator: 'Right',\n        click() {\n            mainWindow.show();\n            mainWindow.webContents.send('player-next');\n        }\n    },\n    {\n        label: 'Previous',\n        accelerator: 'Left',\n        click() {\n            mainWindow.show();\n            mainWindow.webContents.send('player-previous');\n        }\n    },\n    {\n        label: 'Like',\n        accelerator: 'Cmd+L',\n        click() {\n            mainWindow.show();\n            mainWindow.webContents.send('player-like');\n        }\n    },\n];\n\nfunction updateMenu(playing) {\n    if (!isOsx && !showMenuBarOnLinux) {\n        return;\n    }\n\n    mainMenu[1]['submenu'][0]['label'] = playing ? 'Pause' : 'Play';\n    menu = Menu.buildFromTemplate(mainMenu);\n\n    Menu.setApplicationMenu(menu);\n}\n\nfunction updateTray(playing) {\n    // Update unread mesage count\n    trayMenu[0].label = playing ? 'Pause' : 'Play';\n\n    let contextmenu = Menu.buildFromTemplate(trayMenu);\n    let icon = playing\n        ? `${__dirname}/src/assets/playing.png`\n        : `${__dirname}/src/assets/notplaying.png`\n        ;\n\n    if (revertTrayIcon) {\n        icon = playing\n            ? `${__dirname}/src/assets/playing-dark-panel.png`\n            : `${__dirname}/src/assets/notplaying-dark-panel.png`\n        ;\n    }\n\n    if (!tray) {\n        // Init tray icon\n        tray = new Tray(icon);\n\n        tray.on('right-click', () => {\n            tray.popUpContextMenu();\n        });\n    }\n\n    tray.setImage(icon);\n    tray.setContextMenu(contextmenu);\n}\n\nfunction registerGlobalShortcut() {\n    // Play the next song\n    globalShortcut.register('MediaNextTrack', e => {\n        mainWindow.webContents.send('player-next');\n    });\n\n    // Play the previous song\n    globalShortcut.register('MediaPreviousTrack', e => {\n        mainWindow.webContents.send('player-previous');\n    });\n\n    // Toggle the player\n    globalShortcut.register('MediaPlayPause', e => {\n        mainWindow.webContents.send('player-toggle');\n    });\n}\n\nconst goodbye = () => {\n    forceQuit = true;\n    app.quit();\n};\n\nconst createMainWindow = () => {\n    var mainWindowState = windowStateKeeper({\n        defaultWidth: 800,\n        defaultHeight: 520,\n    });\n\n    mainWindow = new BrowserWindow({\n        x: mainWindowState.x,\n        y: mainWindowState.y,\n        show: false,\n        width: 800,\n        height: 520,\n        resizable: false,\n        maximizable: false,\n        fullscreenable: false,\n        backgroundColor: 'none',\n        titleBarStyle: 'hiddenInset',\n    });\n\n    if (isLinux) {\n        mainWindow.setIcon(\n            path.join(__dirname, 'src/assets/dock.png')\n        );\n        // Disable default menu bar\n        if (!showMenuBarOnLinux) {\n            mainWindow.setMenu(null);\n        }\n    }\n\n    mainWindowState.manage(mainWindow);\n    mainWindow.loadURL(`file://${__dirname}/src/index.html`);\n\n    mainWindow.webContents.on('did-finish-load', () => {\n        try {\n            mainWindow.show();\n            mainWindow.focus();\n        } catch (ex) { }\n    });\n\n    mainWindow.webContents.on('new-window', (event, url) => {\n        event.preventDefault();\n        shell.openExternal(url);\n    });\n\n    mainWindow.once('ready-to-show', () => {\n        mainWindow.show();\n    });\n\n    mainWindow.on('close', e => {\n        if (isLinux) {\n            app.quit();\n            return;\n        }\n\n        if (forceQuit) {\n            app.quit();\n        } else {\n            e.preventDefault();\n            mainWindow.hide();\n        }\n    });\n\n    // Update the history menu\n    ipcMain.on('update-history', (event, args) => {\n        var historyMenu = mainMenu.find(e => e.label === 'Recently Played');\n        var submenu = args.songs.map((e, index) => {\n            return {\n                label: e.name,\n                accelerator: `Cmd+${index}`,\n                click() {\n                    mainWindow.show();\n                    mainWindow.webContents.send('player-play', {\n                        id: e.id,\n                    });\n                }\n            };\n        });\n\n        historyMenu.submenu = submenu;\n        updateMenu();\n    });\n\n    // Update next up menu\n    ipcMain.on('update-playing', async(event, args) => {\n        var playingMenu = mainMenu.find(e => e.label === 'Next Up');\n        var submenu = args.songs.map((e, index) => {\n            return {\n                label: e.name,\n                click() {\n                    mainWindow.show();\n                    mainWindow.webContents.send('player-play', {\n                        id: e.id,\n                    });\n                }\n            };\n        });\n\n        shared.playlist = args.songs;\n        playingMenu.submenu = submenu;\n        updateMenu();\n    });\n\n    // Update menu icon image and controls menu\n    ipcMain.on('update-status', (event, args) => {\n        var { playing, song, modes } = args;\n\n        if (tray) {\n            updateTray(playing, song);\n        }\n\n        shared.modes = modes;\n        shared.track = song;\n        shared.playing = +playing;\n        updateMenu(playing);\n    });\n\n    // Show/Hide menu icon\n    ipcMain.on('update-preferences', (event, args = {}) => {\n        var proxyOptions = { proxyBypassRules: 'localhost' };\n        var proxy = args.proxy || '';\n\n        if (proxy.endsWith('.pac')) {\n            proxyOptions.pacScript = proxy;\n        } else {\n            proxyOptions.proxyRules = proxy;\n        }\n\n        mainWindow.setAlwaysOnTop(!!args.alwaysOnTop);\n        mainWindow.webContents.session.setProxy(\n            proxyOptions,\n            () => debug('Apply proxy: %s', args.proxy)\n        );\n\n        revertTrayIcon = args.revertTrayIcon;\n\n        if (!args.showTray) {\n            if (tray) {\n                tray.destroy();\n                tray = null;\n            }\n\n            return;\n        }\n\n        updateTray(args.playing);\n    });\n\n    // Show the main window\n    ipcMain.on('show', event => {\n        mainWindow.show();\n        mainWindow.focus();\n    });\n\n    // Minimize the window\n    ipcMain.on('minimize', event => {\n        mainWindow.minimize();\n    });\n\n    // Quit app\n    ipcMain.on('goodbye', () => goodbye());\n\n    // A javaScript error occured in the main process\n    process.on('uncaughtException', (ex) => {\n        error(ex);\n    });\n\n    // App has suspend\n    powerMonitor.on('suspend', () => {\n        mainWindow.webContents.send('player-pause');\n    });\n\n    if (isOsx) {\n        // App about\n        app.setAboutPanelOptions({\n            applicationName: 'ieaseMusic',\n            applicationVersion: pkg.version,\n            copyright: 'Made with ğŸ’– by trazyn. \\n https://github.com/trazyn/ieaseMusic',\n            credits: `With the invaluable help of: \\n github.com/Binaryify/NeteaseCloudMusicApi`,\n            version: pkg.version\n        });\n        app.dock.setMenu(Menu.buildFromTemplate(dockMenu));\n    }\n\n    mainWindow.goodbye = () => goodbye();\n\n    updateMenu();\n    registerGlobalShortcut();\n    usocket(shared, mainWindow);\n    updater.installAutoUpdater(() => goodbye());\n    downloader.createDownloader();\n    mainWindow.webContents.setUserAgent('Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/603.3.8 (KHTML, like Gecko) Version/10.1.2 Safari/603.3.8');\n\n    global.mainWindow = mainWindow;\n    debug('Create main process success ğŸ»');\n};\n\napp.setName('ieaseMusic');\n\napp.on('activate', e => {\n    if (!mainWindow.isVisible()) {\n        mainWindow.show();\n    }\n});\napp.on('before-quit', e => {\n    e.preventDefault();\n\n    if (quitting) {\n        return;\n    }\n\n    apiServer && apiServer.close();\n\n    // Fix issues #14\n    forceQuit = true;\n    quitting = true;\n    mainWindow = null;\n\n    app.exit(0);\n    process.exit(0);\n});\napp.on('ready', async() => {\n    storage.get('preferences', (err, preferences = {}) => {\n        if (err) {\n            throw err;\n        }\n\n        var port = config.api.port || preferences.port;\n\n        showMenuBarOnLinux = preferences.showMenuBarOnLinux;\n        revertTrayIcon = preferences.revertTrayIcon;\n\n        createMainWindow();\n        updater.checkForUpdates(preferences.autoupdate);\n\n        axios.defaults.baseURL = `http://localhost:${port}`;\n\n        apiServer = api(\n            port,\n            preferences.proxy,\n            err => {\n                if (err) throw err;\n                debug(`API server is running with port ${port} ğŸ‘Š`);\n            }\n        );\n    });\n});\n"
        },
        {
          "name": "package.json",
          "type": "blob",
          "size": 5.39453125,
          "content": "{\n  \"name\": \"iease-music\",\n  \"version\": \"1.3.4\",\n  \"description\": \"ç½‘æ˜“äº‘éŸ³ä¹ç¬¬ä¸‰æ–¹ âœ¨\",\n  \"main\": \"main.js\",\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\",\n    \"lint\": \"node node_modules/.bin/eslint .\",\n    \"build-main\": \"cross-env NODE_ENV=production node -r babel-register ./node_modules/webpack/bin/webpack --config ./config/webpack.config.electron.js --progress --profile --colors\",\n    \"build-renderer\": \"cross-env NODE_ENV=production node -r babel-register ./node_modules/webpack/bin/webpack --config ./config/webpack.config.production.js --progress --profile --colors\",\n    \"build\": \"rm -rf dist && npm run build-main && npm run build-renderer\",\n    \"api\": \"cross-env NODE_ENV=development APIONLY=1 DEBUG_COLORS=true DEBUG=dev:*,-not_this node -r babel-register server/api.js\",\n    \"hot-server\": \"cross-env NODE_ENV=development DEBUG_COLORS=true DEBUG=dev:*,-not_this node -r babel-register server/dev.js\",\n    \"start-hot\": \"cross-env HOT=1 NODE_ENV=development DEBUG_COLORS=true DEBUG=dev:*,-not_this ./node_modules/.bin/electron -r babel-register -r babel-polyfill ./main\",\n    \"package-mac\": \"npm run build && rm -rf release && build --mac --projectDir ./dist\",\n    \"package-linux\": \"npm run build && rm -rf release && build --linux --projectDir ./dist\",\n    \"package-win\": \"npm run build && rm -rf release && build --win --ia32 --projectDir ./dist\",\n    \"dev\": \"concurrently --kill-others \\\"npm run hot-server\\\" \\\"npm run start-hot\\\"\",\n    \"dd\": \"electron-builder --win --ia32 --projectDir ./dist\",\n    \"publish\": \"sh ./bin/publish.sh\"\n  },\n  \"author\": {\n    \"name\": \"trazyn\",\n    \"email\": \"var.darling@gmail.com\",\n    \"url\": \"https://twitter.com/var_darling\"\n  },\n  \"license\": \"MIT\",\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"https://github.com/trazyn/ieaseMusic.git\"\n  },\n  \"build\": {\n    \"productName\": \"ieaseMusic\",\n    \"appId\": \"gh.trazyn.ieaseMusic\",\n    \"compression\": \"maximum\",\n    \"artifactName\": \"${productName}-${version}-${os}-${arch}.${ext}\",\n    \"dmg\": {\n      \"contents\": [\n        {\n          \"x\": 130,\n          \"y\": 220\n        },\n        {\n          \"x\": 410,\n          \"y\": 220,\n          \"type\": \"link\",\n          \"path\": \"/Applications\"\n        }\n      ],\n      \"title\": \"ieaseMusic ${version}\"\n    },\n    \"mac\": {\n      \"icon\": \"../resource/dock.icns\"\n    },\n    \"linux\": {\n      \"target\": [\n        \"deb\",\n        \"rpm\",\n        \"AppImage\"\n      ],\n      \"icon\": \"../resource\",\n      \"category\": \"Music\",\n      \"executableName\": \"ieaseMusic\"\n    },\n    \"win\": {\n      \"target\": \"nsis\",\n      \"icon\": \"../resource/ieaseMusic.ico\"\n    },\n    \"nsis\": {\n      \"oneClick\": false,\n      \"perMachine\": true,\n      \"allowToChangeInstallationDirectory\": true\n    },\n    \"directories\": {\n      \"output\": \"../release\"\n    },\n    \"publish\": [\n      {\n        \"provider\": \"github\",\n        \"owner\": \"trazyn\",\n        \"repo\": \"ieaseMusic\"\n      }\n    ]\n  },\n  \"devDependencies\": {\n    \"@types/mkdirp\": \"^0.5.2\",\n    \"babel-core\": \"^6.26.0\",\n    \"babel-eslint\": \"^10.0.1\",\n    \"babel-loader\": \"^7.1.5\",\n    \"babel-plugin-add-module-exports\": \"^1.0.0\",\n    \"babel-plugin-transform-async-to-generator\": \"^6.24.1\",\n    \"babel-plugin-transform-decorators-legacy\": \"^1.3.4\",\n    \"babel-polyfill\": \"^6.26.0\",\n    \"babel-preset-es2015\": \"^6.24.1\",\n    \"babel-preset-react\": \"^6.24.1\",\n    \"babel-preset-react-optimize\": \"^1.0.1\",\n    \"babel-preset-stage-0\": \"^6.24.1\",\n    \"babel-register\": \"^6.26.0\",\n    \"concurrently\": \"^4.1.0\",\n    \"copy-webpack-plugin\": \"^4.6.0\",\n    \"cross-env\": \"^5.2.0\",\n    \"css-loader\": \"^2.1.0\",\n    \"electron\": \"^4.0.1\",\n    \"electron-builder\": \"^20.31.2\",\n    \"eslint\": \"^5.12.0\",\n    \"eslint-config-standard\": \"^12.0.0\",\n    \"eslint-config-standard-react\": \"^7.0.2\",\n    \"eslint-formatter-pretty\": \"^2.1.0\",\n    \"eslint-loader\": \"^2.1.0\",\n    \"eslint-plugin-import\": \"^2.12.0\",\n    \"eslint-plugin-node\": \"^8.0.1\",\n    \"eslint-plugin-promise\": \"^4.0.1\",\n    \"eslint-plugin-react\": \"^7.12.3\",\n    \"eslint-plugin-standard\": \"^4.0.0\",\n    \"express\": \"^4.15.4\",\n    \"html-loader\": \"^0.5.1\",\n    \"html-webpack-plugin\": \"^3.2.0\",\n    \"style-loader\": \"^0.23.0\",\n    \"svg-inline-loader\": \"^0.8.0\",\n    \"terser-webpack-plugin\": \"^1.2.1\",\n    \"url-loader\": \"^1.0.1\",\n    \"webpack\": \"^4.28.4\",\n    \"webpack-cli\": \"^3.2.1\",\n    \"webpack-dev-middleware\": \"^3.5.0\",\n    \"webpack-hot-middleware\": \"^2.22.3\",\n    \"webpack-sources\": \"^1.1.0\"\n  },\n  \"dependencies\": {\n    \"apicache\": \"^1.2.3\",\n    \"axios\": \"^0.18.0\",\n    \"body-parser\": \"^1.18.3\",\n    \"classname\": \"0.0.0\",\n    \"cookie-parser\": \"^1.4.3\",\n    \"cron\": \"^1.6.0\",\n    \"crypto\": \"^1.0.1\",\n    \"debug\": \"^4.1.1\",\n    \"delegate\": \"^3.2.0\",\n    \"electron-json-storage\": \"^4.1.6\",\n    \"electron-updater\": \"^4.0.6\",\n    \"electron-window-state\": \"^5.0.3\",\n    \"han\": \"0.0.7\",\n    \"ionicons201\": \"^1.0.0\",\n    \"libphonenumber-js\": \"^1.7.8\",\n    \"md5\": \"^2.2.1\",\n    \"mkdirp\": \"^0.5.1\",\n    \"mobx\": \"^5.8.0\",\n    \"mobx-react\": \"^5.4.3\",\n    \"moment\": \"^2.23.0\",\n    \"node-id3\": \"^0.1.7\",\n    \"pac-proxy-agent\": \"^3.0.0\",\n    \"perdido\": \"^2.0.1\",\n    \"prop-types\": \"^15.6.2\",\n    \"qrcode-js\": \"0.0.2\",\n    \"react\": \"^16.7.0\",\n    \"react-addons-css-transition-group\": \"^15.6.2\",\n    \"react-dom\": \"^16.7.0\",\n    \"react-hot-loader\": \"^4.6.3\",\n    \"react-jss\": \"^8.6.1\",\n    \"react-router-dom\": \"^4.3.1\",\n    \"request\": \"^2.88.0\",\n    \"request-progress\": \"^3.0.0\",\n    \"request-promise-native\": \"^1.0.5\",\n    \"set-cookie-parser\": \"^2.2.1\",\n    \"simple-lastfm\": \"^1.0.5\",\n    \"tmp-promise\": \"^1.0.5\"\n  }\n}\n"
        },
        {
          "name": "resource",
          "type": "tree",
          "content": null
        },
        {
          "name": "screenshots",
          "type": "tree",
          "content": null
        },
        {
          "name": "server",
          "type": "tree",
          "content": null
        },
        {
          "name": "src",
          "type": "tree",
          "content": null
        },
        {
          "name": "submodules",
          "type": "tree",
          "content": null
        }
      ]
    }
  ]
}