{
  "metadata": {
    "timestamp": 1736561819055,
    "page": 474,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjQ4MA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "bbc/Imager.js",
      "stars": 3837,
      "defaultBranch": "master",
      "files": [
        {
          "name": ".editorconfig",
          "type": "blob",
          "size": 0.404296875,
          "content": "# EditorConfig helps developers define and maintain consistent\n# coding styles between different editors and IDEs\n# editorconfig.org\n\nroot = true\n\n[*]\n\n# Change these settings to your own preference\nindent_style = space\nindent_size = 4\n\n# We recommend you to keep these unchanged\nend_of_line = lf\ncharset = utf-8\ntrim_trailing_whitespace = true\ninsert_final_newline = true\n\n[*.md]\ntrim_trailing_whitespace = false\n"
        },
        {
          "name": ".gitattributes",
          "type": "blob",
          "size": 0.0107421875,
          "content": "* text=auto"
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.0537109375,
          "content": "node_modules\n.tmp\n.sass-cache\n.jpg\n.png\n.gif\n.DS_Store\n"
        },
        {
          "name": ".jshintrc",
          "type": "blob",
          "size": 0.2607421875,
          "content": "{\n  \"curly\": true,\n  \"eqeqeq\": true,\n  \"immed\": true,\n  \"latedef\": true,\n  \"newcap\": true,\n  \"noarg\": true,\n  \"sub\": true,\n  \"undef\": true,\n  \"unused\": true,\n  \"boss\": true,\n  \"eqnull\": true,\n  \"browser\": true,\n  \"globalstrict\": true,\n  \"es3\": true,\n  \"globals\": {}\n}"
        },
        {
          "name": ".travis.yml",
          "type": "blob",
          "size": 0.841796875,
          "content": "language: node_js\nnode_js: v4\n\nsudo: false\n\nenv:\n  global:\n    - secure: REkbK7Qre238qK7lW4tokWUgUto3xevxNrsIlbubqyBQX8LZpjUvQFruW2F5t8Jb4LAj7jkT11+bRcy9tlz/H4xZeIr5LxSJVDlqBtsQd6gO2mqArM/ooQkNb8SMPzdFJwehtdttiVHrYFFmmb2+VgwlWz1lu7Huf/SqY/x1l0c=\n    - secure: DK26MDZlb7vSYF9SAfBQbcpZLh34jTnNLTU6nM9nD1lPdIounQ8I+xGYGKgb3lA1BdFQgiA1s5VaWxwO/B3B91WF2kIPsXq1hghRQrXdFEae17XfjyiGEFI6oKyO+yKZvu/y86jz54xxwP0XCwspS3ZJI4BvQ8gKfdBEPkWb9Rc=\n  matrix:\n    - BROWSER=BSIE8,BSIE9,BSIE9,BSIE10,BSIE11\n    - BROWSER=BSEDGE12\n    - BROWSER=BSOS4,BSOS5,BSOS6,BSOS7,BSOS8\n    - BROWSER=BSAndroid2,BSAndroid4\n    - BROWSER=BSSafari5,BSSafari6,BSSafari7,BSSafari8,BSSafari9\n    - BROWSER=BSFirefox,BSChrome,BSOpera\n\nmatrix:\n  allow_failures:\n    - env: BROWSER=BSIE7\n\nnotifications:\n  email:\n    on_success: never\n    on_failure: change\n\nscript: \"npm test -- --browsers $BROWSER\"\n"
        },
        {
          "name": "AUTHORS",
          "type": "blob",
          "size": 0.2451171875,
          "content": "Mark McDonnell <mark.mcdonnell@bbc.co.uk> (http://www.integralist.co.uk/)\nAddy Osmani <addyo@google.com> (http://addyosmani.com/)\nTom Maslen <tom.maslen@bbc.co.uk> (http://tmaslen.com/)\nThomas Parisot <thomas.parisot@bbc.co.uk> (https://oncletom.io/)\n"
        },
        {
          "name": "CHANGELOG.md",
          "type": "blob",
          "size": 4.9306640625,
          "content": "## Change Log\n\n### 0.5.0 (2015/01/09 19:30 +00:00)\n- [#140](https://github.com/BBC-News/Imager.js/pull/140) Respect alt attribute of placeholder img (@wildlyinaccurate)\n\n### 0.5.0 (2015/01/09 19:30 +00:00)\n- [#118](https://github.com/BBC-News/Imager.js/pull/118) Ability to add elements to Imager after initialisation (WebSeed)\n- [#113](https://github.com/BBC-News/Imager.js/pull/113) Add Imager.addEvent and Imager.debounce\n\n### 0.3.1 (2014/10/26 15:32 +00:00)\n- [#98](https://github.com/BBC-News/Imager.js/issues/98) Firefox 29 requests `undefined` URL in case of lazy loading (@tokkonopapa)\n- [#90](https://github.com/BBC-News/Imager.js/issues/90) Fix #89, images not loaded when revealed by resize (@paul-butcher)\n- [#89](https://github.com/BBC-News/Imager.js/issues/89) Lazy loading does not load images when revealed by a resize (@paul-butcher)\n- [#82](https://github.com/BBC-News/Imager.js/issues/82) JS error: Cannot call method 'replaceChild' of null --- Upon Scroll only (@hi-im-si)\n- [#71](https://github.com/BBC-News/Imager.js/issues/71) Issues with resizing of Lazyloaded images (@anthonybruno)\n- [#106](https://github.com/BBC-News/Imager.js/pull/106) Imager.ready(fn) (@oncletom)\n- [#105](https://github.com/BBC-News/Imager.js/pull/105) Imager.getNaturalWidth(image) (@oncletom)\n- [#104](https://github.com/BBC-News/Imager.js/pull/104) Lazyload updates only response images on resize (@oncletom)\n\n### 0.3.0-beta.1 (2014/03/20 12:55 +00:00)\n- [#85](https://github.com/BBC-News/Imager.js/pull/85) Fixed reference to js api docs (@omgmog)\n- [#83](https://github.com/BBC-News/Imager.js/pull/83) Image width is set as 0 sometimes (@oncletom)\n- [#86](https://github.com/BBC-News/Imager.js/pull/86) Containers above max image size load smallest image (@oncletom)\n\n### 0.2.0 (2014/02/24 17:41 +00:00)\n- [#51](https://github.com/BBC-News/Imager.js/pull/51) fix typos in README.md (@nikai3d)\n- [#50](https://github.com/BBC-News/Imager.js/pull/50) [READY] `imager` already taken in npm registry (@oncletom)\n- [#56](https://github.com/BBC-News/Imager.js/pull/56) Add missing </div> end tags (@gunnarbittersmann)\n- [#57](https://github.com/BBC-News/Imager.js/pull/57) Update Imager.js: Add support for alt attribute using data-alt (@longprao)\n- [#60](https://github.com/BBC-News/Imager.js/pull/60) add offsetTop of each of the element's offsetParents (@marcinwenger)\n- [df0acfa](https://github.com/BBC-News/Imager.js/commit/df0acfad0ef8badaeea4d198a339f0c29d940bd9) Merge branch 'fix-loop-order' of https://github.com/oncletom/Imager.js into oncletom-fix-loop-order (@oncletom)\n- [5575c4c](https://github.com/BBC-News/Imager.js/commit/5575c4c12ae20a5065ff4aa10af7e981b971b5bf) Merge branch 'fix-404' of https://github.com/oncletom/Imager.js into oncletom-fix-404 (@oncletom)\n- [fcdbcea](https://github.com/BBC-News/Imager.js/commit/fcdbcea7d88fc98bc2503505b512de0fe64666e1) Merge branch 'feature-availablePixelRatio' of https://github.com/oncletom/Imager.js into oncletom-feature-availablePixelRatio (@oncletom)\n- [#70](https://github.com/BBC-News/Imager.js/pull/70) Sauce Remote Testing (@oncletom)\n- [#72](https://github.com/BBC-News/Imager.js/pull/72) [READY] Gecko Compatibility (@oncletom)\n- [#74](https://github.com/BBC-News/Imager.js/pull/74) [READY] IE8 Compatible Unit Testing (@oncletom)\n- [#73](https://github.com/BBC-News/Imager.js/pull/73) [READY] Internet Explorer 8 Features Compatibility (@oncletom)\n- [#75](https://github.com/BBC-News/Imager.js/pull/75) [READY] Browsers compatibility (@oncletom)\n- [#76](https://github.com/BBC-News/Imager.js/pull/76) Running SauceLabs on branch, locally otherwise (@oncletom)\n- [#66](https://github.com/BBC-News/Imager.js/pull/66) [READY] README demo for defining availableWidths as a function does not work (@oncletom)\n- [#68](https://github.com/BBC-News/Imager.js/pull/68) [Fix #67] Add `widthInterpolator` option (@BPScott)\n- [e5ddade](https://github.com/BBC-News/Imager.js/commit/e5ddade65371f88bb53ef3d0a5a3fede5ab7c706) Merge remote-tracking branch 'upstream/browsers-compatibility' (@oncletom)\n- [#78](https://github.com/BBC-News/Imager.js/pull/78) [READY] Compression and mangle options for uglifyjs when building (@oncletom)\n\n### 0.1.0 (2013/12/08 16:03 +00:00)\n- [#49](https://github.com/BBC-News/Imager.js/pull/49) Imager 0.1.0 (@Integralist, @oncletom, @joewillnyc)\n\n### 0.0.2 (2013/11/18 22:28 +00:00)\n- [#2](https://github.com/BBC-News/Imager.js/pull/2) imager.js updated (@stephenplusplus)\n- [#5](https://github.com/BBC-News/Imager.js/pull/5) Removed all redundant files and created working Demo (@Integralist)\n- [#14](https://github.com/BBC-News/Imager.js/pull/14) Automate image generation using Grunt (@Integralist)\n- [#17](https://github.com/BBC-News/Imager.js/pull/17) Lazy Loading Images (@Integralist)\n- [#29](https://github.com/BBC-News/Imager.js/pull/29) Fixed README typo (@jonlow)\n- [#39](https://github.com/BBC-News/Imager.js/pull/39) add main field to package.json (@joewillnyc)\n- [#41](https://github.com/BBC-News/Imager.js/pull/41) add support for umd (@joewillnyc)\n"
        },
        {
          "name": "CONTRIBUTING.md",
          "type": "blob",
          "size": 0.916015625,
          "content": "# Contributing\n\nIf you want to add functionality to this project, pull requests are welcome.\n\n * Create a branch based off master and do all of your changes within it.\n * Make sure commits are as 'atomic' as possible (this way specific changes can be removed or cherry-picked more easily)\n * Do not make pull requests monolithic in nature as this makes reviewing difficult and chances are your pull request will be declined (depending on complexity).\n * If you have to pause to add an 'and' anywhere in the title, it should be two pull requests.\n * Make commits of logical units and describe them properly\n * Check for unnecessary whitespace with git diff --check before committing.\n * If possible, submit tests to your patch/new feature so it can be tested easily.\n * Assure nothing is broken by running all tests\n * Please ensure that it complies with coding standards.\n\n**Please raise any issues with this project as a GitHub issue.**\n"
        },
        {
          "name": "Imager.js",
          "type": "blob",
          "size": 15.765625,
          "content": ";(function (window, document) {\n    'use strict';\n\n    var addEvent = (function () {\n        if (document.addEventListener) {\n            return function addStandardEventListener(el, eventName, fn) {\n                return el.addEventListener(eventName, fn, false);\n            };\n        }\n        else {\n            return function addIEEventListener(el, eventName, fn) {\n                return el.attachEvent('on' + eventName, fn);\n            };\n        }\n    })();\n\n    var defaultWidths = [96, 130, 165, 200, 235, 270, 304, 340, 375, 410, 445, 485, 520, 555, 590, 625, 660, 695, 736];\n\n    var getKeys = typeof Object.keys === 'function' ? Object.keys : function (object) {\n        var keys = [],\n            key;\n\n        for (key in object) {\n            keys.push(key);\n        }\n\n        return keys;\n    };\n\n    var applyEach = function (collection, callbackEach) {\n        var i = 0,\n            length = collection.length,\n            new_collection = [];\n\n        for (; i < length; i++) {\n            new_collection[i] = callbackEach(collection[i], i);\n        }\n\n        return new_collection;\n    };\n\n    var returnFn = function (value) { return value; };\n    var noop = function () {};\n    var trueFn = function () { return true; };\n\n    var debounce = function (fn, wait) {\n        var timeout;\n        return function () {\n            var context = this, args = arguments;\n            var later = function () {\n                timeout = null;\n                fn.apply(context, args);\n            };\n            clearTimeout(timeout);\n            timeout = setTimeout(later, wait);\n        };\n    };\n\n\n    /*\n        Construct a new Imager instance, passing an optional configuration object.\n\n        Example usage:\n\n            {\n                // Available widths for your images\n                availableWidths: [Number],\n\n                // Selector to be used to locate your div placeholders\n                selector: '',\n\n                // Class name to give your resizable images\n                className: '',\n\n                // If set to true, Imager will update the src attribute of the relevant images\n                onResize: Boolean,\n\n                // Toggle the lazy load functionality on or off\n                lazyload: Boolean,\n\n                // Used alongside the lazyload feature (helps performance by setting a higher delay)\n                scrollDelay: Number\n            }\n\n        @param {object} configuration settings\n        @return {object} instance of Imager\n     */\n    var Imager = function (elements, opts) {\n        var self = this;\n        var doc  = document;\n\n        opts = opts || {};\n\n        if (elements !== undefined) {\n\n            // selector string (not elements)\n            if (typeof elements === 'string') {\n                opts.selector = elements;\n                elements = undefined;\n            }\n\n            // 'opts' object (not elements)\n            else if (typeof elements.length === 'undefined') {\n                opts = elements;\n                elements = undefined;\n            }\n        }\n\n        this.viewportHeight   = doc.documentElement.clientHeight;\n        this.selector         = !elements ? (opts.selector || '.delayed-image-load') : null;\n        this.className        = opts.className || 'image-replace';\n        this.gif              = doc.createElement('img');\n        this.gif.src          = 'data:image/gif;base64,R0lGODlhEAAJAIAAAP///wAAACH5BAEAAAAALAAAAAAQAAkAAAIKhI+py+0Po5yUFQA7';\n        this.gif.className    = this.className;\n        this.gif.alt          = '';\n        this.lazyloadOffset   = opts.lazyloadOffset || 0;\n        this.scrollDelay      = opts.scrollDelay || 250;\n        this.onResize         = opts.hasOwnProperty('onResize') ? opts.onResize : true;\n        this.lazyload         = opts.hasOwnProperty('lazyload') ? opts.lazyload : false;\n        this.scrolled         = false;\n        this.availablePixelRatios = opts.availablePixelRatios || [1, 2];\n        this.availableWidths  = opts.availableWidths || defaultWidths;\n        this.onImagesReplaced = opts.onImagesReplaced || noop;\n        this.widthsMap        = {};\n        this.refreshPixelRatio();\n        this.widthInterpolator = opts.widthInterpolator || returnFn;\n\n        // Needed as IE8 adds a default `width`/`height` attribute…\n        this.gif.removeAttribute('height');\n        this.gif.removeAttribute('width');\n\n        if (typeof this.availableWidths !== 'function') {\n          if (typeof this.availableWidths.length === 'number') {\n            this.widthsMap = Imager.createWidthsMap(this.availableWidths, this.widthInterpolator, this.devicePixelRatio);\n          }\n          else {\n            this.widthsMap = this.availableWidths;\n            this.availableWidths = getKeys(this.availableWidths);\n          }\n\n          this.availableWidths = this.availableWidths.sort(function (a, b) {\n            return a - b;\n          });\n        }\n\n        this.divs = [];\n        this.add(elements || this.selector);\n        this.ready(opts.onReady);\n\n        setTimeout(function () {\n            self.init();\n        }, 0);\n    };\n\n    Imager.prototype.add = function (elementsOrSelector) {\n\n        elementsOrSelector = elementsOrSelector || this.selector;\n        var elements = typeof elementsOrSelector === 'string' ?\n            document.querySelectorAll(elementsOrSelector) : // Selector\n            elementsOrSelector; // Elements (NodeList or array of Nodes)\n\n        if (elements && elements.length) {\n            var additional = applyEach(elements, returnFn);\n            this.changeDivsToEmptyImages(additional);\n            this.divs = this.divs.concat(additional);\n        }\n    };\n\n    Imager.prototype.scrollCheck = function () {\n        var self = this;\n        var offscreenImageCount = 0;\n        var elements = [];\n\n        if (this.scrolled) {\n            // collects a subset of not-yet-responsive images and not offscreen anymore\n            applyEach(this.divs, function (element) {\n                if (self.isPlaceholder(element)) {\n                    ++offscreenImageCount;\n\n                    if (self.isThisElementOnScreen(element)) {\n                        elements.push(element);\n                    }\n                }\n            });\n\n            if (offscreenImageCount === 0) {\n                window.clearInterval(self.interval);\n            }\n\n            this.changeDivsToEmptyImages(elements);\n            this.scrolled = false;\n        }\n    };\n\n    Imager.prototype.init = function () {\n        var self = this;\n\n        this.initialized = true;\n        var filterFn = trueFn;\n\n        if (this.lazyload) {\n            this.registerScrollEvent();\n\n            this.scrolled = true;\n            self.scrollCheck();\n\n            filterFn = function (element) {\n                return self.isPlaceholder(element) === false;\n            };\n        }\n        else {\n            this.checkImagesNeedReplacing(this.divs);\n        }\n\n        if (this.onResize) {\n            this.registerResizeEvent(filterFn);\n        }\n\n        this.onReady();\n    };\n\n    /**\n     * Executes a function when Imager is ready to work\n     * It acts as a convenient/shortcut for `new Imager({ onReady: fn })`\n     *\n     * @since 0.3.1\n     * @param {Function} fn\n     */\n    Imager.prototype.ready = function (fn) {\n        this.onReady = fn || noop;\n    };\n\n    Imager.prototype.createGif = function (element) {\n        // if the element is already a responsive image then we don't replace it again\n        if (element.className.match(new RegExp('(^| )' + this.className + '( |$)'))) {\n            return element;\n        }\n\n        var elementClassName = element.getAttribute('data-class');\n        var elementWidth = element.getAttribute('data-width');\n        var gif = this.gif.cloneNode(false);\n\n        if (elementWidth) {\n          gif.width = elementWidth;\n          gif.setAttribute('data-width', elementWidth);\n        }\n\n        gif.className = (elementClassName ? elementClassName + ' ' : '') + this.className;\n        gif.setAttribute('data-src', element.getAttribute('data-src'));\n        gif.setAttribute('alt', element.getAttribute('data-alt') || element.alt || this.gif.alt);\n\n        element.parentNode.replaceChild(gif, element);\n\n        return gif;\n    };\n\n    Imager.prototype.changeDivsToEmptyImages = function (elements) {\n        var self = this;\n\n        applyEach(elements, function (element, i) {\n            elements[i] = self.createGif(element);\n        });\n\n        if (this.initialized) {\n            this.checkImagesNeedReplacing(elements);\n        }\n    };\n\n    /**\n     * Indicates if an element is an Imager placeholder\n     *\n     * @since 1.3.1\n     * @param {HTMLImageElement} element\n     * @returns {boolean}\n     */\n    Imager.prototype.isPlaceholder = function (element) {\n        return element.src === this.gif.src;\n    };\n\n    /**\n     * Returns true if an element is located within a screen offset.\n     *\n     * @param {HTMLElement} element\n     * @returns {boolean}\n     */\n    Imager.prototype.isThisElementOnScreen = function (element) {\n        // document.body.scrollTop was working in Chrome but didn't work on Firefox, so had to resort to window.pageYOffset\n        // but can't fallback to document.body.scrollTop as that doesn't work in IE with a doctype (?) so have to use document.documentElement.scrollTop\n        var elementOffsetTop = 0;\n        var offset = Imager.getPageOffset() + this.lazyloadOffset;\n\n        if (element.offsetParent) {\n            do {\n                elementOffsetTop += element.offsetTop;\n            }\n            while (element = element.offsetParent);\n        }\n\n        return elementOffsetTop < (this.viewportHeight + offset);\n    };\n\n    Imager.prototype.checkImagesNeedReplacing = function (images, filterFn) {\n        var self = this;\n        filterFn = filterFn || trueFn;\n\n        if (!this.isResizing) {\n            this.isResizing = true;\n            this.refreshPixelRatio();\n\n            applyEach(images, function (image) {\n                if (filterFn(image)) {\n                    self.replaceImagesBasedOnScreenDimensions(image);\n                }\n            });\n\n            this.isResizing = false;\n            this.onImagesReplaced(images);\n        }\n    };\n\n    /**\n     * Upgrades an image from an empty placeholder to a fully sourced image element\n     *\n     * @param {HTMLImageElement} image\n     */\n    Imager.prototype.replaceImagesBasedOnScreenDimensions = function (image) {\n        var computedWidth, naturalWidth;\n\n\tnaturalWidth = Imager.getNaturalWidth(image);\n        computedWidth = typeof this.availableWidths === 'function' ? this.availableWidths(image)\n                                                                   : this.determineAppropriateResolution(image);\n\n        image.width = computedWidth;\n\n        if (!this.isPlaceholder(image) && computedWidth <= naturalWidth) {\n            return;\n        }\n\n        image.src = this.changeImageSrcToUseNewImageDimensions(image.getAttribute('data-src'), computedWidth);\n        image.removeAttribute('width');\n        image.removeAttribute('height');\n    };\n\n    Imager.prototype.determineAppropriateResolution = function (image) {\n      return Imager.getClosestValue(image.getAttribute('data-width') || image.parentNode.clientWidth, this.availableWidths);\n    };\n\n    /**\n     * Updates the device pixel ratio value used by Imager\n     *\n     * It is performed before each replacement loop, in case a user zoomed in/out\n     * and thus updated the `window.devicePixelRatio` value.\n     *\n     * @api\n     * @since 1.0.1\n     */\n    Imager.prototype.refreshPixelRatio = function refreshPixelRatio() {\n        this.devicePixelRatio = Imager.getClosestValue(Imager.getPixelRatio(), this.availablePixelRatios);\n    };\n\n    Imager.prototype.changeImageSrcToUseNewImageDimensions = function (src, selectedWidth) {\n        return src\n            .replace(/{width}/g, Imager.transforms.width(selectedWidth, this.widthsMap))\n            .replace(/{pixel_ratio}/g, Imager.transforms.pixelRatio(this.devicePixelRatio));\n    };\n\n    Imager.getPixelRatio = function getPixelRatio(context) {\n        return (context || window)['devicePixelRatio'] || 1;\n    };\n\n    Imager.createWidthsMap = function createWidthsMap (widths, interpolator, pixelRatio) {\n        var map = {},\n            i   = widths.length;\n\n        while (i--) {\n            map[widths[i]] = interpolator(widths[i], pixelRatio);\n        }\n\n        return map;\n    };\n\n    Imager.transforms = {\n        pixelRatio: function (value) {\n            return value === 1 ? '' : '-' + value + 'x';\n        },\n        width: function (width, map) {\n            return map[width] || width;\n        }\n    };\n\n    /**\n     * Returns the closest upper value.\n     *\n     * ```js\n     * var candidates = [1, 1.5, 2];\n     *\n     * Imager.getClosestValue(0.8, candidates); // -> 1\n     * Imager.getClosestValue(1, candidates); // -> 1\n     * Imager.getClosestValue(1.3, candidates); // -> 1.5\n     * Imager.getClosestValue(3, candidates); // -> 2\n     * ```\n     *\n     * @api\n     * @since 1.0.1\n     * @param {Number} baseValue\n     * @param {Array.<Number>} candidates\n     * @returns {Number}\n     */\n    Imager.getClosestValue = function getClosestValue(baseValue, candidates) {\n        var i             = candidates.length,\n            selectedWidth = candidates[i - 1];\n\n        baseValue = parseFloat(baseValue);\n\n        while (i--) {\n            if (baseValue <= candidates[i]) {\n                selectedWidth = candidates[i];\n            }\n        }\n\n        return selectedWidth;\n    };\n\n    Imager.prototype.registerResizeEvent = function (filterFn) {\n        var self = this;\n\n        addEvent(window, 'resize', debounce(function () {\n            self.checkImagesNeedReplacing(self.divs, filterFn);\n        }, 100));\n    };\n\n    Imager.prototype.registerScrollEvent = function () {\n        var self = this;\n\n        this.scrolled = false;\n\n        this.interval = window.setInterval(function () {\n            self.scrollCheck();\n        }, self.scrollDelay);\n\n        addEvent(window, 'scroll', function () {\n            self.scrolled = true;\n        });\n\n        addEvent(window, 'resize', function () {\n            self.viewportHeight = document.documentElement.clientHeight;\n            self.scrolled = true;\n        });\n    };\n\n    Imager.getPageOffsetGenerator = function getPageVerticalOffset(testCase) {\n        if (testCase) {\n            return function () { return window.pageYOffset; };\n        }\n        else {\n            return function () { return document.documentElement.scrollTop; };\n        }\n    };\n\n    /**\n     * Returns the naturalWidth of an image element.\n     *\n     * @since 1.3.1\n     * @param {HTMLImageElement} image\n     * @return {Number} Image width in pixels\n     */\n    Imager.getNaturalWidth = (function () {\n        if ('naturalWidth' in (new Image())) {\n            return function (image) {\n                return image.naturalWidth;\n            };\n        }\n        // non-HTML5 browsers workaround\n        return function (image) {\n            var imageCopy = document.createElement('img');\n            imageCopy.src = image.src;\n            return imageCopy.width;\n        };\n    })();\n\n    // This form is used because it seems impossible to stub `window.pageYOffset`\n    Imager.getPageOffset = Imager.getPageOffsetGenerator(Object.prototype.hasOwnProperty.call(window, 'pageYOffset'));\n\n    // Exporting for testing and convenience purpose\n    Imager.applyEach = applyEach;\n    Imager.addEvent = addEvent;\n    Imager.debounce = debounce;\n\n    /* jshint ignore:start */\n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        // CommonJS, just export\n        module.exports = exports = Imager;\n    } else if (typeof define === 'function' && define.amd) {\n        // AMD support\n        define(function () { return Imager; });\n    } else if (typeof window === 'object') {\n        // If no AMD and we are in the browser, attach to window\n        window.Imager = Imager;\n    }\n    /* jshint ignore:end */\n\n}(window, document));\n"
        },
        {
          "name": "LICENSE",
          "type": "blob",
          "size": 9.9345703125,
          "content": "                                 Apache License\n                           Version 2.0, January 2004\n                        http://www.apache.org/licenses/\n\n   TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION\n\n   1. Definitions.\n\n      \"License\" shall mean the terms and conditions for use, reproduction,\n      and distribution as defined by Sections 1 through 9 of this document.\n\n      \"Licensor\" shall mean the copyright owner or entity authorized by\n      the copyright owner that is granting the License.\n\n      \"Legal Entity\" shall mean the union of the acting entity and all\n      other entities that control, are controlled by, or are under common\n      control with that entity. For the purposes of this definition,\n      \"control\" means (i) the power, direct or indirect, to cause the\n      direction or management of such entity, whether by contract or\n      otherwise, or (ii) ownership of fifty percent (50%) or more of the\n      outstanding shares, or (iii) beneficial ownership of such entity.\n\n      \"You\" (or \"Your\") shall mean an individual or Legal Entity\n      exercising permissions granted by this License.\n\n      \"Source\" form shall mean the preferred form for making modifications,\n      including but not limited to software source code, documentation\n      source, and configuration files.\n\n      \"Object\" form shall mean any form resulting from mechanical\n      transformation or translation of a Source form, including but\n      not limited to compiled object code, generated documentation,\n      and conversions to other media types.\n\n      \"Work\" shall mean the work of authorship, whether in Source or\n      Object form, made available under the License, as indicated by a\n      copyright notice that is included in or attached to the work\n      (an example is provided in the Appendix below).\n\n      \"Derivative Works\" shall mean any work, whether in Source or Object\n      form, that is based on (or derived from) the Work and for which the\n      editorial revisions, annotations, elaborations, or other modifications\n      represent, as a whole, an original work of authorship. For the purposes\n      of this License, Derivative Works shall not include works that remain\n      separable from, or merely link (or bind by name) to the interfaces of,\n      the Work and Derivative Works thereof.\n\n      \"Contribution\" shall mean any work of authorship, including\n      the original version of the Work and any modifications or additions\n      to that Work or Derivative Works thereof, that is intentionally\n      submitted to Licensor for inclusion in the Work by the copyright owner\n      or by an individual or Legal Entity authorized to submit on behalf of\n      the copyright owner. For the purposes of this definition, \"submitted\"\n      means any form of electronic, verbal, or written communication sent\n      to the Licensor or its representatives, including but not limited to\n      communication on electronic mailing lists, source code control systems,\n      and issue tracking systems that are managed by, or on behalf of, the\n      Licensor for the purpose of discussing and improving the Work, but\n      excluding communication that is conspicuously marked or otherwise\n      designated in writing by the copyright owner as \"Not a Contribution.\"\n\n      \"Contributor\" shall mean Licensor and any individual or Legal Entity\n      on behalf of whom a Contribution has been received by Licensor and\n      subsequently incorporated within the Work.\n\n   2. Grant of Copyright License. Subject to the terms and conditions of\n      this License, each Contributor hereby grants to You a perpetual,\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n      copyright license to reproduce, prepare Derivative Works of,\n      publicly display, publicly perform, sublicense, and distribute the\n      Work and such Derivative Works in Source or Object form.\n\n   3. Grant of Patent License. Subject to the terms and conditions of\n      this License, each Contributor hereby grants to You a perpetual,\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n      (except as stated in this section) patent license to make, have made,\n      use, offer to sell, sell, import, and otherwise transfer the Work,\n      where such license applies only to those patent claims licensable\n      by such Contributor that are necessarily infringed by their\n      Contribution(s) alone or by combination of their Contribution(s)\n      with the Work to which such Contribution(s) was submitted. If You\n      institute patent litigation against any entity (including a\n      cross-claim or counterclaim in a lawsuit) alleging that the Work\n      or a Contribution incorporated within the Work constitutes direct\n      or contributory patent infringement, then any patent licenses\n      granted to You under this License for that Work shall terminate\n      as of the date such litigation is filed.\n\n   4. Redistribution. You may reproduce and distribute copies of the\n      Work or Derivative Works thereof in any medium, with or without\n      modifications, and in Source or Object form, provided that You\n      meet the following conditions:\n\n      (a) You must give any other recipients of the Work or\n          Derivative Works a copy of this License; and\n\n      (b) You must cause any modified files to carry prominent notices\n          stating that You changed the files; and\n\n      (c) You must retain, in the Source form of any Derivative Works\n          that You distribute, all copyright, patent, trademark, and\n          attribution notices from the Source form of the Work,\n          excluding those notices that do not pertain to any part of\n          the Derivative Works; and\n\n      (d) If the Work includes a \"NOTICE\" text file as part of its\n          distribution, then any Derivative Works that You distribute must\n          include a readable copy of the attribution notices contained\n          within such NOTICE file, excluding those notices that do not\n          pertain to any part of the Derivative Works, in at least one\n          of the following places: within a NOTICE text file distributed\n          as part of the Derivative Works; within the Source form or\n          documentation, if provided along with the Derivative Works; or,\n          within a display generated by the Derivative Works, if and\n          wherever such third-party notices normally appear. The contents\n          of the NOTICE file are for informational purposes only and\n          do not modify the License. You may add Your own attribution\n          notices within Derivative Works that You distribute, alongside\n          or as an addendum to the NOTICE text from the Work, provided\n          that such additional attribution notices cannot be construed\n          as modifying the License.\n\n      You may add Your own copyright statement to Your modifications and\n      may provide additional or different license terms and conditions\n      for use, reproduction, or distribution of Your modifications, or\n      for any such Derivative Works as a whole, provided Your use,\n      reproduction, and distribution of the Work otherwise complies with\n      the conditions stated in this License.\n\n   5. Submission of Contributions. Unless You explicitly state otherwise,\n      any Contribution intentionally submitted for inclusion in the Work\n      by You to the Licensor shall be under the terms and conditions of\n      this License, without any additional terms or conditions.\n      Notwithstanding the above, nothing herein shall supersede or modify\n      the terms of any separate license agreement you may have executed\n      with Licensor regarding such Contributions.\n\n   6. Trademarks. This License does not grant permission to use the trade\n      names, trademarks, service marks, or product names of the Licensor,\n      except as required for reasonable and customary use in describing the\n      origin of the Work and reproducing the content of the NOTICE file.\n\n   7. Disclaimer of Warranty. Unless required by applicable law or\n      agreed to in writing, Licensor provides the Work (and each\n      Contributor provides its Contributions) on an \"AS IS\" BASIS,\n      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or\n      implied, including, without limitation, any warranties or conditions\n      of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A\n      PARTICULAR PURPOSE. You are solely responsible for determining the\n      appropriateness of using or redistributing the Work and assume any\n      risks associated with Your exercise of permissions under this License.\n\n   8. Limitation of Liability. In no event and under no legal theory,\n      whether in tort (including negligence), contract, or otherwise,\n      unless required by applicable law (such as deliberate and grossly\n      negligent acts) or agreed to in writing, shall any Contributor be\n      liable to You for damages, including any direct, indirect, special,\n      incidental, or consequential damages of any character arising as a\n      result of this License or out of the use or inability to use the\n      Work (including but not limited to damages for loss of goodwill,\n      work stoppage, computer failure or malfunction, or any and all\n      other commercial damages or losses), even if such Contributor\n      has been advised of the possibility of such damages.\n\n   9. Accepting Warranty or Additional Liability. While redistributing\n      the Work or Derivative Works thereof, You may choose to offer,\n      and charge a fee for, acceptance of support, warranty, indemnity,\n      or other liability obligations and/or rights consistent with this\n      License. However, in accepting such obligations, You may act only\n      on Your own behalf and on Your sole responsibility, not on behalf\n      of any other Contributor, and only if You agree to indemnify,\n      defend, and hold each Contributor harmless for any liability\n      incurred by, or claims asserted against, such Contributor by reason\n      of your accepting any such warranty or additional liability.\n\n   END OF TERMS AND CONDITIONS\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 9.591796875,
          "content": "# Imager.js [![Build Status](https://secure.travis-ci.org/BBC-News/Imager.js.svg?branch=master)](http://travis-ci.org/BBC-News/Imager.js)\n\n> Imager.js is an alternative solution to the issue of how to handle responsive image loading, created by developers at [BBC News](http://responsivenews.co.uk/).\n\n\n## Why?\n\nThere are many responsive image solutions in the wild: `srcset`, `src-n`, `PictureFill` and so on. They are either\n**verbose** or **hard to debug** (and to maintain/integrate). Some of them don't deal well with *pixel density*\nand suffer from **double asset payload** (meaning you end up downloading assets unnecessarily).\n\nWe wanted something **simple**, which **works** and which is **fast** as well as network friendly (only download what you need, when you need it).\n\nImager implements the  [BBC Responsive News technique](http://responsivenews.co.uk/post/50092458307/images) which incorporates:\n\n- loading any image once\n- loading the most suitable sized image\n\n## How does it work?\n\nImager runs through the following workflow:\n\n1. lookup **placeholder elements**\n2. replace **placeholders** with transparent images\n3. update `src` attribute for each image and assign the best quality/size ratio URL\n\nFinally, it will lazy load images to speed up page load time even further.\n\n## Compatibility\n\nImager is tested against the following mobile and desktop browsers:\n\n- Chrome 33\n- Firefox 22\n- Opera 12.15\n- Edge 12\n- Internet Explorer 8, 9, 10 and 11\n- Safari 5, 6, 7, 8 and 9\n- Mobile Safari 4, 5, 6 and 7\n- Android 2, 3 and 4\n\n\n## Install\n\nnpm                            | bower                            | old school\n-------------------------------|----------------------------------|------------------------------------------------------------------------------\n`npm install --save imager.js` | `bower install --save imager.js` | [download zip file](https://github.com/BBC-News/Imager.js/archive/master.zip)\n\n\n## Using\n\n```html\n<div style=\"width: 240px\">\n    <div class=\"delayed-image-load\" data-src=\"http://placehold.it/{width}\" data-alt=\"alternative text\"></div>\n</div>\n\n<script>\n    new Imager({ availableWidths: [200, 260, 320, 600] });\n</script>\n```\n\nThis will result in the following HTML output:\n\n```html\n<div style=\"width: 240px\">\n    <img src=\"http://placehold.it/260\" data-src=\"http://placehold.it/{width}\" alt=\"alternative text\" class=\"image-replace\">\n</div>\n\n<script>\n    new Imager({ availableWidths: [200, 260, 320, 600] });\n</script>\n```\n\n`260` has been elected as the best available width (as it is the closest upper size relative to `240` pixels).\n\n### Pixel Ratio / HiDPI / Retina\n\nLet's say we have generated 4 sizes of images (`200`, `260`, `320` and `600`)\nin 3 different pixel ratio flavours (`1`, `1.3` and `2`):\n\n```html\n<div style=\"width: 240px\">\n    <div class=\"delayed-image-load\" data-src=\"http://example.com/assets/{width}/imgr{pixel_ratio}.png\" data-alt=\"alternative text\"></div>\n</div>\n\n<script>\n    new Imager({ availableWidths: [200, 260, 320, 600], availablePixelRatios: [1, 1.3, 2] });\n</script>\n```\n\nThe `img[src]` will be computed as following (according to the reported `window.devicePixelRatio` value by the device):\n\n- `http://example.com/assets/260/imgr.png` if no pixel ratio is detected, or advertised as `1`\n- `http://example.com/assets/260/imgr-2x.png` if pixel ratio is advertised as `2` (or any value greater than 2)\n- `http://example.com/assets/260/imgr-1.3x.png` if pixel ratio is advertised as `1.3`\n\nHead to this [device pixel density test](http://bjango.com/articles/min-device-pixel-ratio/) resource to learn more about the available pixel ratio for your device.\n\n### Interpolating `{width}` value\n\nImager has the ability to replace `{width}` with a non-numeric value if you\nprovide the `widthInterpolator` option, which is a function that returns the\nstring to be injected into the image URL for a given width. This feature allows you to use a human readable name or integrate with third-party image providers.\n\n```html\n<div style=\"width: 240px\">\n    <div class=\"delayed-image-load\" data-src=\"http://example.com/assets/imgr-{width}.png\" data-alt=\"alternative text\"></div>\n</div>\n\n<script>\n    new Imager({\n        availableWidths: [200, 260, 320, 600],\n        widthInterpolator: function(width, pixelRatio) {\n          return width + 'x' + (width / 2);\n        }\n    });\n</script>\n```\n\nThe `img[src]` will be computed as `http://example.com/assets/imgr-260x130.png` instead of `http://example.com/assets/imgr-260.png`.\n\nAlternatively you can define `availableWidths` as an `Object` where the key is the width, and the value is the string to be injected into the image URL.\n\n```html\n<div style=\"width: 240px\">\n    <div class=\"delayed-image-load\" data-src=\"http://example.com/assets/imgr-{width}.png\" data-alt=\"alternative text\"></div>\n</div>\n\n<script>\n    new Imager({\n        availableWidths: {\n            200: 'square',\n            260: 'small',\n            320: 'medium',\n            600: 'large'\n        }\n    });\n</script>\n```\n\nThe `img[src]` will be computed as `http://example.com/assets/imgr-small.png` instead of `http://example.com/assets/imgr-260.png`.\n\n### Mixing various configurations\n\nYou might want to generate HiDPI responsive images. But what if you also include images from another provider which\nserves a totally different set of sizes, without pixel ratio?\n\nHere is an example to serve your own images alongside [Flickr images](http://www.flickr.com/).\n\n```html\n<div style=\"width: 240px\">\n    <div class=\"delayed-image-load\"        data-src=\"http://placehold.it/{width}\" data-alt=\"alternative text 1\"></div>\n    <div class=\"delayed-flickr-image-load\" data-src=\"//farm5.staticflickr.com/4148/4990539658_a38ed4ec6e_{width}.jpg\" data-alt=\"alternative text 2\"></div>\n</div>\n\n<script>\n    var imgrPlaceholder = new Imager('.delayed-image-load', {\n        availableWidths: [200, 260, 320, 600]\n    });\n\n    var imgrFlickr = new Imager('.delayed-flickr-image-load', {\n        availableWidths: {\n            150: 't_d',\n            500: 'd',\n            640: 'z_d'\n        }\n    });\n</script>\n```\n\nThis will result in the following HTML output:\n\n```html\n<div style=\"width: 240px\">\n    <img src=\"http://placehold.it/260\" data-src=\"http://placehold.it/{width}\" alt=\"alternative text 1\" class=\"image-replace\">\n    <img src=\"//farm5.staticflickr.com/4148/4990539658_a38ed4ec6e_d.jpg\" data-src=\"//farm5.staticflickr.com/4148/4990539658_a38ed4ec6e_{width}.jpg\" alt=\"alternative text 2\" class=\"image-replace\">\n</div>\n```\n\n### Passing a collection of elements\n\nYou might want to pass a NodeList or an array of **placeholder elements** as the first argument rather than a class selector.\n\n```html\n<div style=\"width: 240px\">\n    <div class=\"delayed-image-load\" data-src=\"http://placehold.it/{width}\" data-alt=\"alternative text\"></div>\n</div>\n\n<script>\n    var placeholderElems = document.querySelectorAll('.delayed-image-load');\n    var imgrPlaceholder = new Imager(placeholderElems, {\n        availableWidths: [200, 260, 320, 600]\n    });\n</script>\n```\n\nThis will result in the following HTML output:\n\n```html\n<div style=\"width: 240px\">\n    <img src=\"http://placehold.it/260\" data-src=\"http://placehold.it/{width}\" alt=\"alternative text\" class=\"image-replace\">\n</div>\n```\n\n# Documentation\n\nBrowse Imager public APIs and options – versioned alongside the source code of the project:\n\n- [HTML options](docs/html-api.md)\n- [JavaScript options](docs/js-options.md)\n- [JavaScript API](docs/js-api.md)\n\n# Demos\n\nAdditional and fully working examples lie in the [`demos` folder](demos/).\n\n\n# They are using it\n\n- [BBC News](http://m.bbc.co.uk/news)\n- [BBC Sport](http://m.bbc.co.uk/sport)\n- [The Guardian](http://www.theguardian.com/)\n- [`x-imager` Web Component](https://github.com/addyosmani/x-imager)\n- [Imager.jsx React Component](https://www.npmjs.com/package/imager.jsx)\n\n# Background\n\nThis is an experiment in offering developers an interim solution to responsive images based on the [ImageEnhancer](https://gist.github.com/Integralist/6157139) concept researched and developed by the team at BBC News.\n\nAt present, support for `srcset` and `PictureFill` are not widespread and the polyfills for these solutions also come with a number of drawbacks.\n\n[Mark McDonnell (@integralist)](http://twitter.com/Integralist) documented the process and rewrote the original code so it could be evolved and improved with the help of the open-source community.\n\nThe goal of this project is to automate the process with the help of the [Grunt](http://gruntjs.com/) JavaScript task runner (potentially via `grunt-responsive-images` for image generation based on a source directory).\n\nMuch of this work can be repurposed to work with a more standards-based approach once support improves in modern browsers.\n\nFor the purposes of maintaining a distinguishment between the ImageEnhancer concept built by BBC News and this project, we're calling it **Imager.js**\n\n**[Read more on BBC Responsive News blog](http://responsivenews.co.uk/post/58244240772/imager-js)**.\n\n# Credits\n\n- [Mark McDonnell](http://twitter.com/integralist)\n- [Tom Maslen](http://twitter.com/tmaslen)\n- [Thomas Parisot](https://twitter.com/oncletom)\n- [Addy Osmani](http://twitter.com/addyosmani)\n\n\n# Licence\n\n> Copyright 2015 British Broadcasting Corporation\n>\n> Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at\n>\n> http://www.apache.org/licenses/LICENSE-2.0\n>\n> Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n"
        },
        {
          "name": "bower.json",
          "type": "blob",
          "size": 0.6416015625,
          "content": "{\n  \"name\": \"imager.js\",\n  \"main\": \"Imager.js\",\n  \"homepage\": \"https://github.com/BBC-News/Imager.js\",\n  \"authors\": [\n    \"Mark McDonnell\",\n    \"Addy Osmani\",\n    \"Tom Maslen\",\n    \"Thomas Parisot\"\n  ],\n  \"description\": \"Imager.js is an alternative solution to the issue of how to handle responsive image loading, created by developers at BBC News.\",\n  \"keywords\": [\n    \"responsive\",\n    \"srcset\",\n    \"picturefill\",\n    \"polyfill\",\n    \"shim\",\n    \"img\",\n    \"images\",\n    \"web\",\n    \"component\"\n  ],\n  \"license\": \"Apache-2.0\",\n  \"ignore\": [\n    \"**/.*\",\n    \"node_modules\",\n    \"bower_components\",\n    \"test\",\n    \"tests\",\n    \"Demo*\",\n    \"demos\"\n  ]\n}\n"
        },
        {
          "name": "demos",
          "type": "tree",
          "content": null
        },
        {
          "name": "dist",
          "type": "tree",
          "content": null
        },
        {
          "name": "docs",
          "type": "tree",
          "content": null
        },
        {
          "name": "karma.conf.js",
          "type": "blob",
          "size": 7.736328125,
          "content": "'use strict';\n\n/* jshint node:true */\n\nfunction filterBrowsers (browsers, re) {\n    return Object.keys(browsers).filter(function (key) {\n        return re.test(key);\n    });\n}\n\nmodule.exports = function (config) {\n    var isCI = (Boolean(process.env.CI) && Boolean(process.env.BROWSER_STACK_ACCESS_KEY)) === true;\n    var browsers = process.env.BROWSERS ? process.env.BROWSERS.split(',') : null;\n\n    config.set({\n\n        // base path, that will be used to resolve files and exclude\n        basePath:   '',\n\n\n        // frameworks to use\n\tframeworks: ['mocha', 'expect', 'sinon'],\n\n\n        // list of files / patterns to load in the browser\n        files:      [\n\t    'node_modules/jquery/dist/jquery.min.js',\n            'test/fixtures/jquery-noconflict.js',\n            'test/fixtures/*.html',\n            'Imager.js',\n            'test/*.js',\n            'test/unit/**/*.js',\n            { 'pattern': 'Demo - Grunt/Assets/Images/**/*.jpg', 'included': false, 'served': true },\n            { 'pattern': 'test/fixtures/**/*.jpg', 'included': false, 'served': true },\n            { 'pattern': 'test/fixtures/oldformat/*', 'included': false, 'served': true }\n        ],\n\n        preprocessors: {\n            '**/*.html': ['html2js']\n        },\n\n        // list of files to exclude\n        exclude:       [\n\n        ],\n\n\n        // test results reporter to use\n        // possible values: 'dots', 'progress', 'junit', 'growl', 'coverage'\n        reporters:     ['progress'],\n\n        // essential for non xhr2 browsers\n\ttransports:    ['polling'],\n\n        // web server port\n        port:          9876,\n\n\n        // enable / disable colors in the output (reporters and logs)\n        colors:        true,\n\n\n        // level of logging\n        // possible values: config.LOG_DISABLE || config.LOG_ERROR || config.LOG_WARN || config.LOG_INFO || config.LOG_DEBUG\n        logLevel:      config.LOG_INFO,\n\n\n        // enable / disable watching file and executing tests whenever any file changes\n        autoWatch:     false,\n\n        browserStack: {\n            project: 'BBC-News/Imager.js',\n            build:   process.env.CONTINUOUS_INTEGRATION ? null : ('Local testing - ' + Date.now())\n        },\n\n        customLaunchers: {\n            'PhantomJSCustom': {\n                base:    'PhantomJS',\n                options: {\n                    viewportSize: {\n                        width:  1024,\n                        height: 768\n                    }\n                }\n            },\n            // Browserstack\n//      BSIE6: {\n//        base: 'BrowserStack',\n//        browser: 'ie',\n//        browser_version: '6.0',\n//        os: 'Windows',\n//        os_version: 'XP'\n//      },\n            BSIE7:             {\n                base:            'BrowserStack',\n                browser:         'ie',\n                browser_version: '7.0',\n                os:              'Windows',\n                os_version:      'XP'\n            },\n            BSIE8:             {\n                base:            'BrowserStack',\n                browser:         'ie',\n                browser_version: '8.0',\n                os:              'Windows',\n                os_version:      '7'\n            },\n            BSIE9:             {\n                base:            'BrowserStack',\n                browser:         'ie',\n                browser_version: '9.0',\n                os:              'Windows',\n                os_version:      '7'\n            },\n            BSIE10:            {\n                base:            'BrowserStack',\n                browser:         'ie',\n                browser_version: '10.0',\n                os:              'Windows',\n                os_version:      '8'\n            },\n            BSIE11:            {\n                base:            'BrowserStack',\n                browser:         'ie',\n                browser_version: '11.0',\n                os:              'Windows',\n                os_version:      '8.1'\n            },\n\t\t  BSEDGE12:            {\n\t\tbase:            'BrowserStack',\n\t\tbrowser:         'edge',\n\t\tbrowser_version: '12.0',\n\t\tos:              'Windows',\n\t\tos_version:      '10'\n\t    },\n            BSOS4:             {\n                base:       'BrowserStack',\n                device:     'iPhone 4',\n                os:         'ios',\n                os_version: '4.0'\n            },\n            BSOS5:             {\n                base:       'BrowserStack',\n                device:     'iPhone 4S',\n                os:         'ios',\n                os_version: '5.1'\n            },\n            BSOS6:             {\n                base:       'BrowserStack',\n                device:     'iPhone 5',\n                os:         'ios',\n\t\tos_version: '6.0'\n            },\n            BSOS7:             {\n                base:       'BrowserStack',\n\t\tdevice:     'iPad 4th',\n                os:         'ios',\n                os_version: '7.0'\n            },\n\t    BSOS8:             {\n\t\tbase:       'BrowserStack',\n\t\tdevice:     'iPhone 6',\n\t\tos:         'ios',\n\t\tos_version: '8.3'\n\t    },\n            BSAndroid2:        {\n                base:       'BrowserStack',\n                device:     'Samsung Galaxy S II',\n                browser:    'android',\n                os:         'android',\n                os_version: '2.3'\n            },\n            BSAndroid4:        {\n                base:       'BrowserStack',\n                device:     'Samsung Galaxy Nexus',\n                browser:    'android',\n                os:         'android',\n                os_version: '4.0'\n            },\n\t    BSAndroid5:        {\n\t\tbase:       'BrowserStack',\n\t\tdevice:     'Google Nexus 5',\n\t\tbrowser:    'android',\n\t\tos:         'android',\n\t\tos_version: '5.0'\n\t    },\n            BSFirefox:         {\n                base:            'BrowserStack',\n                browser:         'firefox',\n                browser_version: '22.0',\n                os:              'Windows',\n                os_version:      '7'\n            },\n\t    BSChrome:         {\n\t\tbase:            'BrowserStack',\n\t\tbrowser:         'chrome',\n\t\tbrowser_version: '33',\n\t\tos:              'OS X',\n\t\tos_version:      'Yosemite'\n\t    },\n\t    BSOpera:         {\n\t\tbase:            'BrowserStack',\n\t\tbrowser:         'opera',\n\t\tbrowser_version: '12.15',\n\t\tos:              'OS X',\n\t\tos_version:      'Yosemite'\n\t    },\n            BSSafari5:         {\n                base:            'BrowserStack',\n                browser:         'safari',\n                browser_version: '5.1',\n                os:              'OS X',\n                os_version:      'Snow Leopard'\n            },\n            BSSafari6:         {\n                base:            'BrowserStack',\n                browser:         'safari',\n                browser_version: '6.1',\n                os:              'OS X',\n                os_version:      'Mountain Lion'\n            },\n            BSSafari7:         {\n                base:            'BrowserStack',\n                browser:         'safari',\n                browser_version: '7.0',\n                os:              'OS X',\n                os_version:      'Mavericks'\n\t    },\n\t    BSSafari8:         {\n\t\tbase:            'BrowserStack',\n\t\tbrowser:         'safari',\n\t\tbrowser_version: '8.0',\n\t\tos:              'OS X',\n\t\tos_version:      'Yosemite'\n\t    },\n\t    BSSafari9:         {\n\t\tbase:            'BrowserStack',\n\t\tbrowser:         'safari',\n\t\tbrowser_version: '9.0',\n\t\tos:              'OS X',\n\t\tos_version:      'El Capitan'\n            }\n        },\n\n        // Continuous Integration mode\n        // if true, it capture browsers, run tests and exit\n        singleRun:                  true,\n\n\tbrowserNoActivityTimeout:   45000,\n\n\tcaptureTimeout: isCI ? 120000 : 5000\n    });\n\n    config.set({\n        browsers: browsers || (isCI\n            ? filterBrowsers(config.customLaunchers, /^BS/)\n\t    : ['PhantomJSCustom'])\n    });\n};\n"
        },
        {
          "name": "package.json",
          "type": "blob",
          "size": 1.2275390625,
          "content": "{\n  \"name\": \"imager.js\",\n  \"version\": \"0.5.1\",\n  \"description\": \"Imager.js is an alternative solution to the issue of how to handle responsive image loading, created by developers at BBC News.\",\n  \"main\": \"./Imager.js\",\n  \"scripts\": {\n    \"test\": \"./node_modules/karma/bin/karma start\",\n    \"posttest\": \"jshint Imager.js\",\n    \"test:watch\": \"npm run test -- --auto-watch --no-single-run\",\n    \"build\": \"uglifyjs ./Imager.js -c -m -o ./Imager.min.js --source-map ./Imager.map.js && mv -f Imager.{map,min}.js ./dist\"\n  },\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"git://github.com/BBC-News/Imager.js.git\"\n  },\n  \"keywords\": [\n    \"responsive\",\n    \"srcset\",\n    \"images\",\n    \"resize\",\n    \"polyfill\",\n    \"shim\",\n    \"img\",\n    \"PictureFill\"\n  ],\n  \"license\": \"Apache-2.0\",\n  \"devDependencies\": {\n    \"expect.js\": \"^0.3.0\",\n    \"jquery\": \"^1.10.2\",\n    \"jshint\": \"^2.4.3\",\n    \"karma\": \"^0.13.0\",\n    \"karma-browserstack-launcher\": \"^0.1.1\",\n    \"karma-expect\": \"^1.0.0\",\n    \"karma-html2js-preprocessor\": \"^0.1.0\",\n    \"karma-ievms\": \"^0.1.0\",\n    \"karma-mocha\": \"^0.2.0\",\n    \"karma-phantomjs-launcher\": \"^0.2.0\",\n    \"karma-sinon\": \"^1.0.3\",\n    \"mocha\": \"^2.0.0\",\n    \"phantomjs\": \"^1.9.19\",\n    \"sinon\": \"^1.8.1\",\n    \"uglify-js\": \"^2.4.3\"\n  }\n}\n"
        },
        {
          "name": "test",
          "type": "tree",
          "content": null
        }
      ]
    }
  ]
}