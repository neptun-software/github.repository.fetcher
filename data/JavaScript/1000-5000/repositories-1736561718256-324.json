{
  "metadata": {
    "timestamp": 1736561718256,
    "page": 324,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjMzMA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "codeceptjs/CodeceptJS",
      "stars": 4124,
      "defaultBranch": "3.x",
      "files": [
        {
          "name": ".circleci",
          "type": "tree",
          "content": null
        },
        {
          "name": ".dockerignore",
          "type": "blob",
          "size": 0.01953125,
          "content": "**/node_modules\ntest"
        },
        {
          "name": ".editorconfig",
          "type": "blob",
          "size": 0.1669921875,
          "content": "root = true\n\n[*]\nindent_style = space\nindent_size = 2\ncharset = utf-8\ntrim_trailing_whitespace = true\ninsert_final_newline = true\n\n[*.md]\ntrim_trailing_whitespace = false\n"
        },
        {
          "name": ".gitattributes",
          "type": "blob",
          "size": 0.01171875,
          "content": "* text=auto\n"
        },
        {
          "name": ".github",
          "type": "tree",
          "content": null
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.3701171875,
          "content": "node_modules\ncoverage\n.vscode\ncoverage\nsite\ndocs/.vuepress/dist\ndocs/node_modules\ndocs/wiki\nwebsite\n.idea\ndocs/build\ntest/data/output\ntest/acceptance/output\ntest/bdd/output\nexamples/output\nexamples/selenoid-example/output\ntest/data/app/db\ntest/data/sandbox/steps.d.ts\ntestpullfilecache*\n.DS_Store\npackage-lock.json\nyarn.lock\n/.vs\ntypings/types.d.ts\ntypings/promiseBasedTypes.d.ts"
        },
        {
          "name": ".hound.yml",
          "type": "blob",
          "size": 0.05078125,
          "content": "eslint:\n  enabled: true\n  config_file: .eslintrc.js\n"
        },
        {
          "name": ".husky",
          "type": "tree",
          "content": null
        },
        {
          "name": ".markdownlint.json",
          "type": "blob",
          "size": 0.2470703125,
          "content": "{\n  \"MD007\": {\n    \"indent\": 4\n  },\n  \"MD013\": false,\n  \"MD026\": {\n    \"punctuation\": \".,;:!\"\n  },\n  \"MD029\": {\n    \"style\": \"ordered\"\n  },\n  \"MD030\": {\n    \"ul_multi\": 1,\n    \"ul_single\": 1,\n    \"ol_single\": 2,\n    \"ol_multi\": 2\n  },\n  \"MD036\": false\n}"
        },
        {
          "name": ".mocharc.js",
          "type": "blob",
          "size": 0.05859375,
          "content": "module.exports = {\n  \"require\": \"./test/support/setup.js\"\n}\n"
        },
        {
          "name": "CHANGELOG.md",
          "type": "blob",
          "size": 164.5810546875,
          "content": "## 3.6.10\n\n❤️ Thanks all to those who contributed to make this release! ❤️\n\n🐛 _Bug Fixes_\nfix(cli): missing failure counts when there is failedHooks (#4633) - by @kobenguyent\n\n## 3.6.9\n\n❤️ Thanks all to those who contributed to make this release! ❤️\n\n🐛 _Hot Fixes_\nfix: could not run tests due to missing `invisi-data` lib - by @kobenguyent\n\n## 3.6.8\n\n❤️ Thanks all to those who contributed to make this release! ❤️\n\n🛩️ _Features_\n\n- feat(cli): mask sensitive data in logs (#4630) - by @kobenguyent\n\n```\nexport const config: CodeceptJS.MainConfig = {\n  tests:  '**/*.e2e.test.ts',\n  retry: 4,\n  output: './output',\n  maskSensitiveData: true,\n  emptyOutputFolder: true,\n...\n\n    I login {\"username\":\"helloworld@test.com\",\"password\": \"****\"}\n      I send post request \"https://localhost:8000/login\", {\"username\":\"helloworld@test.com\",\"password\": \"****\"}\n      › [Request] {\"baseURL\":\"https://localhost:8000/login\",\"method\":\"POST\",\"data\":{\"username\":\"helloworld@test.com\",\"password\": \"****\"},\"headers\":{}}\n      › [Response] {\"access-token\": \"****\"}\n```\n\n- feat(REST): DELETE request supports payload (#4493) - by @schaudhary111\n\n```js\nI.sendDeleteRequestWithPayload('/api/users/1', { author: 'john' })\n```\n\n🐛 _Bug Fixes_\n\n- fix(playwright): Different behavior of see* and waitFor* when used in within (#4557) - by @kobenguyent\n- fix(cli): dry run returns no tests when using a regex grep (#4608) - by @kobenguyent\n\n```bash\n> codeceptjs dry-run --steps --grep \"(?=.*Checkout process)\"\n```\n\n- fix: Replace deprecated faker.name with faker.person (#4581) - by @thomashohn\n- fix(wdio): Remove dependency to devtools (#4563) - by @thomashohn\n- fix(typings): wrong defineParameterType (#4548) - by @kobenguyent\n- fix(typing): `Locator.build` complains the empty locator (#4543) - by @kobenguyent\n- fix: add hint to `I.seeEmailAttachment` treats parameter as regular expression (#4629) - by @ngraf\n\n```\nAdd hint to \"I.seeEmailAttachment\" that under the hood parameter is treated as RegExp.\nWhen you don't know it, it can cause a lot of pain, wondering why your test fails with I.seeEmailAttachment('Attachment(1).pdf') although it looks just fine, but actually I.seeEmailAttachment('Attachment\\\\(1\\\\).pdf is required to make the test green, in case the attachment is called \"Attachment(1).pdf\" with special character in it.\n```\n\n- fix(playwright): waitForText fails when text contains double quotes (#4528) - by @DavertMik\n- fix(mock-server-helper): move to stand-alone package: https://www.npmjs.com/package/@codeceptjs/mock-server-helper (#4536) - by @kobenguyent\n- fix(appium): issue with async on runOnIos and runOnAndroid (#4525) - by @kobenguyent\n- fix: push ws messages to array (#4513) - by @kobenguyent\n\n📖 _Documentation_\n\n- fix(docs): typo in ai.md (#4501) - by @tomaculum\n\n## 3.6.6\n\n❤️ Thanks all to those who contributed to make this release! ❤️\n\n🛩️ _Features_\n\n- feat(locator): add withAttrEndsWith, withAttrStartsWith, withAttrContains (#4334) - by @Maksym-Artemenko\n- feat: soft assert (#4473) - by @kobenguyent\n  - Soft assert\n\nZero-configuration when paired with other helpers like REST, Playwright:\n\n```js\n// inside codecept.conf.js\n{\n  helpers: {\n    Playwright: {...},\n    SoftExpectHelper: {},\n  }\n}\n```\n\n```js\n// in scenario\nI.softExpectEqual('a', 'b')\nI.flushSoftAssertions() // Throws an error if any soft assertions have failed. The error message contains all the accumulated failures.\n```\n\n- feat(cli): print failed hooks (#4476) - by @kobenguyent\n\n  - run command\n    ![Screenshot 2024-09-02 at 15 25 20](https://github.com/user-attachments/assets/625c6b54-03f6-41c6-9d0c-cd699582404a)\n\n  - run workers command\n    ![Screenshot 2024-09-02 at 15 24 53](https://github.com/user-attachments/assets/efff0312-1229-44b6-a94f-c9b9370b9a64)\n\n🐛 _Bug Fixes_\n\n- fix(AI): minor AI improvements - by @DavertMik\n- fix(AI): add missing await in AI.js (#4486) - by @tomaculum\n- fix(playwright): no async save video page (#4472) - by @kobenguyent\n- fix(rest): httpAgent condition (#4484) - by @kobenguyent\n- fix: DataCloneError error when `I.executeScript` command is used with `run-workers` (#4483) - by @code4muktesh\n- fix: no error thrown from rerun script (#4494) - by @lin-brian-l\n\n```js\n// fix the validation of httpAgent config. we could now pass ca, instead of key/cert.\n{\n  helpers: {\n    REST: {\n      endpoint: 'http://site.com/api',\n      prettyPrintJson: true,\n      httpAgent: {\n         ca: fs.readFileSync(__dirname + '/path/to/ca.pem'),\n         rejectUnauthorized: false,\n         keepAlive: true\n      }\n    }\n  }\n}\n```\n\n📖 _Documentation_\n\n- doc(AI): minor AI improvements - by @DavertMik\n\n## 3.6.5\n\n❤️ Thanks all to those who contributed to make this release! ❤️\n\n🛩️ _Features_\n\n- feat(helper): playwright > wait for disabled (#4412) - by @kobenguyent\n\n```\nit('should wait for input text field to be disabled', () =>\n      I.amOnPage('/form/wait_disabled').then(() => I.waitForDisabled('#text', 1)))\n\n    it('should wait for input text field to be enabled by xpath', () =>\n      I.amOnPage('/form/wait_disabled').then(() => I.waitForDisabled(\"//*[@name = 'test']\", 1)))\n\n    it('should wait for a button to be disabled', () =>\n      I.amOnPage('/form/wait_disabled').then(() => I.waitForDisabled('#text', 1)))\n\nWaits for element to become disabled (by default waits for 1sec).\nElement can be located by CSS or XPath.\n\n@param {CodeceptJS.LocatorOrString} locator element located by CSS|XPath|strict locator.\n@param {number} [sec=1] (optional) time in seconds to wait, 1 by default.\n@returns {void} automatically synchronized promise through #recorder\n```\n\n🐛 _Bug Fixes_\n\n- fix(AI): AI is not triggered (#4422) - by @kobenguyent\n- fix(plugin): stepByStep > report doesn't sync properly (#4413) - by @kobenguyent\n- fix: Locator > Unsupported pseudo selector 'has' (#4448) - by @anils92\n\n📖 _Documentation_\n\n- docs: setup azure open ai using bearer token (#4434) - by @kobenguyent\n\n## 3.6.4\n\n❤️ Thanks all to those who contributed to make this release! ❤️\n\n🛩️ _Features_\n\n- feat(rest): print curl (#4396) - by @kobenguyent\n\n```\nConfig:\n\n...\nREST: {\n ...\n printCurl: true,\n ...\n}\n...\n\n› [CURL Request] curl --location --request POST https://httpbin.org/post -H ...\n```\n\n- feat(AI): Generate PageObject, added types, shell improvement (#4319) - by @DavertMik\n  - added `askForPageObject` method to generate PageObjects on the fly\n  - improved AI types\n  - interactive shell improved to restore history\n\n![Screenshot from 2024-06-17 02-47-37](https://github.com/codeceptjs/CodeceptJS/assets/220264/12acd2c7-18d1-4105-a24b-84070ec4d393)\n\n🐛 _Bug Fixes_\n\n- fix(heal): wrong priority (#4394) - by @kobenguyent\n\n📖 _Documentation_\n\n- AI docs improvements by @DavertMik\n\n## 3.6.3\n\n❤️ Thanks all to those who contributed to make this release! ❤️\n\n🛩️ _Features_\n\n- feat(plugin): coverage with WebDriver - devtools (#4349) - by @KobeNguyent\n  ![Screenshot 2024-05-16 at 16 49 20](https://github.com/codeceptjs/CodeceptJS/assets/7845001/a02f0f99-ac78-4d3f-9774-2cb51c688025)\n\n🐛 _Bug Fixes_\n\n- fix(cli): stale process (#4367) - by @Horsty80 @kobenguyent\n- fix(runner): screenshot error in beforeSuite/AfterSuite (#4385) - by @kobenguyent\n- fix(cli): gherkin command init with TypeScript (#4366) - by @andonary\n- fix(webApi): error message of dontSeeCookie (#4357) - by @a-stankevich\n\n📖 _Documentation_\n\n- fix(doc): Expect helper is not described correctly (#4370) - by @kobenguyent\n- fix(docs): some strange characters (#4387) - by @kobenguyent\n- fix: Puppeteer helper doc typo (#4369) - by @yoannfleurydev\n\n## 3.6.2\n\n❤️ Thanks all to those who contributed to make this release! ❤️\n\n🛩️ _Features_\n\n- feat(REST): support httpAgent conf (#4328) - by @KobeNguyent\n\nSupport the httpAgent conf to create the TSL connection via REST helper\n\n```\n{\n  helpers: {\n    REST: {\n      endpoint: 'http://site.com/api',\n      prettyPrintJson: true,\n      httpAgent: {\n         key: fs.readFileSync(__dirname + '/path/to/keyfile.key'),\n         cert: fs.readFileSync(__dirname + '/path/to/certfile.cert'),\n         rejectUnauthorized: false,\n         keepAlive: true\n      }\n    }\n  }\n}\n```\n\n- feat(wd): screenshots for sessions (#4322) - by @KobeNguyent\n\nCurrently only screenshot of the active session is saved, this PR aims to save the screenshot of every session for easy debugging\n\n```\nScenario('should save screenshot for sessions @WebDriverIO @Puppeteer @Playwright', async ({ I }) => {\n  await I.amOnPage('/form/bug1467');\n  await I.saveScreenshot('original.png');\n  await I.amOnPage('/');\n  await I.saveScreenshot('main_session.png');\n  session('john', async () => {\n    await I.amOnPage('/form/bug1467');\n    event.dispatcher.emit(event.test.failed, this);\n  });\n\n  const fileName = clearString('should save screenshot for active session @WebDriverIO @Puppeteer @Playwright');\n  const [original, failed] = await I.getSHA256Digests([\n    `${output_dir}/original.png`,\n    `${output_dir}/john_${fileName}.failed.png`,\n  ]);\n\n  // Assert that screenshots of same page in same session are equal\n  await I.expectEqual(original, failed);\n\n  // Assert that screenshots of sessions are created\n  const [main_original, session_failed] = await I.getSHA256Digests([\n    `${output_dir}/main_session.png`,\n    `${output_dir}/john_${fileName}.failed.png`,\n  ]);\n  await I.expectNotEqual(main_original, session_failed);\n});\n```\n\n![Screenshot 2024-04-29 at 11 07 47](https://github.com/codeceptjs/CodeceptJS/assets/7845001/5dddf85a-ed77-474b-adfd-2f208d3c16a8)\n\n- feat: locate element with withClassAttr (#4321) - by @KobeNguyent\n\nFind an element with class attribute\n\n```js\n// find div with class contains 'form'\nlocate('div').withClassAttr('text')\n```\n\n- fix(playwright): set the record video resolution (#4311) - by @KobeNguyent\n  You could now set the recording video resolution\n\n```\n  url: siteUrl,\n  windowSize: '300x500',\n  show: false,\n  restart: true,\n  browser: 'chromium',\n  trace: true,\n  video: true,\n  recordVideo: {\n    size: {\n      width: 400,\n      height: 600,\n    },\n  },\n```\n\n🐛 _Bug Fixes_\n\n- fix: several issues of stepByStep report (#4331) - by @KobeNguyent\n\n📖 _Documentation_\n\n- fix: wrong format docs (#4330) - by @KobeNguyent\n- fix(docs): wrong method is mentioned (#4320) - by @KobeNguyent\n- fix: ChatGPT docs - by @davert\n\n## 3.6.1\n\n- Fixed regression in interactive pause.\n\n## 3.6.0\n\n🛩️ _Features_\n\n- Introduced [healers](./heal) to improve stability of failed tests. Write functions that can perform actions to fix a failing test:\n\n```js\nheal.addRecipe('reloadPageIfModalIsNotVisisble', {\n  steps: ['click'],\n  fn: async ({ error, step }) => {\n    // this function will be executed only if test failed with\n    // \"model is not visible\" message\n    if (error.message.include('modal is not visible')) return\n\n    // we return a function that will refresh a page\n    // and tries to perform last step again\n    return async ({ I }) => {\n      I.reloadPage()\n      I.wait(1)\n      await step.run()\n    }\n    // if a function succeeds, test continues without an error\n  },\n})\n```\n\n- **Breaking Change** **AI** features refactored. Read updated [AI guide](./ai):\n\n  - **removed dependency on `openai`**\n  - added support for **Azure OpenAI**, **Claude**, **Mistal**, or any AI via custom request function\n  - `--ai` option added to explicitly enable AI features\n  - heal plugin decoupled from AI to run custom heal recipes\n  - improved healing for async/await scenarios\n  - token limits added\n  - token calculation introduced\n  - `OpenAI` helper renamed to `AI`\n\n- feat(puppeteer): network traffic manipulation. See #4263 by @KobeNguyenT\n\n  - `startRecordingTraffic`\n  - `grabRecordedNetworkTraffics`\n  - `flushNetworkTraffics`\n  - `stopRecordingTraffic`\n  - `seeTraffic`\n  - `dontSeeTraffic`\n\n- feat(Puppeteer): recording WS messages. See #4264 by @KobeNguyenT\n\nRecording WS messages:\n\n```\n      I.startRecordingWebSocketMessages();\n      I.amOnPage('https://websocketstest.com/');\n      I.waitForText('Work for You!');\n      const wsMessages = I.grabWebSocketMessages();\n      expect(wsMessages.length).to.greaterThan(0);\n```\n\nflushing WS messages:\n\n```\n      I.startRecordingWebSocketMessages();\n      I.amOnPage('https://websocketstest.com/');\n      I.waitForText('Work for You!');\n      I.flushWebSocketMessages();\n      const wsMessages = I.grabWebSocketMessages();\n      expect(wsMessages.length).to.equal(0);\n```\n\nExamples:\n\n```js\n// recording traffics and verify the traffic\nI.startRecordingTraffic()\nI.amOnPage('https://codecept.io/')\nI.seeTraffic({ name: 'traffics', url: 'https://codecept.io/img/companies/BC_LogoScreen_C.jpg' })\n```\n\n```js\n// check the traffic with advanced params\nI.amOnPage('https://openai.com/blog/chatgpt')\nI.startRecordingTraffic()\nI.seeTraffic({\n  name: 'sentry event',\n  url: 'https://images.openai.com/blob/cf717bdb-0c8c-428a-b82b-3c3add87a600',\n  parameters: {\n    width: '1919',\n    height: '1138',\n  },\n})\n```\n\n- Introduce the playwright locator: `_react`, `_vue`, `data-testid` attribute. See #4255 by @KobeNguyenT\n\n```\nScenario('using playwright locator @Playwright', () => {\n  I.amOnPage('https://codecept.io/test-react-calculator/');\n  I.click('7');\n  I.click({ pw: '_react=t[name = \"=\"]' });\n  I.seeElement({ pw: '_react=t[value = \"7\"]' });\n  I.click({ pw: '_react=t[name = \"+\"]' });\n  I.click({ pw: '_react=t[name = \"3\"]' });\n  I.click({ pw: '_react=t[name = \"=\"]' });\n  I.seeElement({ pw: '_react=t[value = \"10\"]' });\n});\n```\n\n```\nScenario('using playwright data-testid attribute @Playwright', () => {\n    I.amOnPage('/');\n    const webElements = await I.grabWebElements({ pw: '[data-testid=\"welcome\"]' });\n    assert.equal(webElements[0]._selector, '[data-testid=\"welcome\"] >> nth=0');\n    assert.equal(webElements.length, 1);\n});\n```\n\n- feat(puppeteer): mockRoute support. See #4262 by @KobeNguyenT\n\nNetwork requests & responses can be mocked and modified. Use `mockRoute` which strictly follows [Puppeteer's setRequestInterception API](https://pptr.dev/next/api/puppeteer.page.setrequestinterception).\n\n```\nI.mockRoute('https://reqres.in/api/comments/1', request => {\n  request.respond({\n    status: 200,\n    headers: { 'Access-Control-Allow-Origin': '*' },\n    contentType: 'application/json',\n    body: '{\"name\": \"this was mocked\" }',\n  });\n})\n```\n\n```\nI.mockRoute('**/*.{png,jpg,jpeg}', route => route.abort());\n\n// To disable mocking for a route call `stopMockingRoute`\n// for previously mocked URL\nI.stopMockingRoute('**/*.{png,jpg,jpeg}');\n```\n\nTo master request intercepting [use HTTPRequest object](https://pptr.dev/next/api/puppeteer.httprequest) passed into mock request handler.\n\n🐛 _Bug Fixes_\n\n- Fixed double help message #4278 by @masiuchi\n- waitNumberOfVisibleElements always failed when passing num as 0. See #4274 by @KobeNguyenT\n\n## 3.5.15\n\n❤️ Thanks all to those who contributed to make this release! ❤️\n\n🛩️ _Features_\n\n- feat: improve code coverage plugin (#4252) - by @KobeNguyenT\n  We revamp the coverage plugin to make it easier to use\n\nOnce all the tests are completed, `codecept` will create and store coverage in `output/coverage` folder, as shown below.\n\n![](<(https://github.com/codeceptjs/CodeceptJS/assets/7845001/3b8b81a3-7c85-470c-992d-ecdc7d5b4a1e)>)\n\nOpen `index.html` in your browser to view the full interactive coverage report.\n\n![](https://github.com/codeceptjs/CodeceptJS/assets/7845001/f45607ed-dbe8-4ed4-9b21-01ce25288d22)\n\n![](https://github.com/codeceptjs/CodeceptJS/assets/7845001/c821ce45-6590-4ace-b7ae-2cafb3a4e532)\n\n🐛 _Bug Fixes_\n\n- fix: bump puppeteer to v22.x (#4249) - by @KobeNguyenT\n- fix: improve dry-run command (#4225) - by @KobeNguyenT\n\ndry-run command now supports test level grep.\n\n```\nTests from /Users/t/Desktop/projects/codeceptjs-rest-demo:@jaja\n\nGET tests -- /Users/t/Desktop/projects/codeceptjs-rest-demo/src/GET_test.ts -- 4 tests\n  ☐ Verify getting a single user @jaja\n  ☐ Verify getting list of users @jaja\nPUT tests -- /Users/t/Desktop/projects/codeceptjs-rest-demo/src/PUT_test.ts -- 4 tests\n  ☐ Verify creating new user @Jaja\n\n\n  Total: 2 suites | 3 tests\n\n--- DRY MODE: No tests were executed ---\n➜  codeceptjs-rest-demo git:(master) ✗ npx codeceptjs dry-run\nTests from /Users/t/Desktop/projects/codeceptjs-rest-demo:\n\nDELETE tests -- /Users/t/Desktop/projects/codeceptjs-rest-demo/src/DELETE_test.ts -- 4 tests\n  ☐ Verify deleting a user\nGET tests -- /Users/t/Desktop/projects/codeceptjs-rest-demo/src/GET_test.ts -- 4 tests\n  ☐ Verify a successful call\n  ☐ Verify a not found call\n  ☐ Verify getting a single user @jaja\n  ☐ Verify getting list of users @jaja\nPOST tests -- /Users/tDesktop/projects/codeceptjs-rest-demo/src/POST_test.ts -- 4 tests\n  ☐ Verify creating new user\n  ☐ Verify uploading a file\nPUT tests -- /Users/tDesktop/projects/codeceptjs-rest-demo/src/PUT_test.ts -- 4 tests\n  ☐ Verify creating new user @Jaja\n\n\n  Total: 4 suites | 8 tests\n\n--- DRY MODE: No tests were executed ---\n```\n\n- Several internal fixes and improvements for github workflows\n\n## 3.5.14\n\n❤️ Thanks all to those who contributed to make this release! ❤️\n\n🐛 _Bug Fixes_\n\n- **Hotfix** Fixed missing `joi` package - by @KobeNguyenT\n\n## 3.5.13\n\n❤️ Thanks all to those who contributed to make this release! ❤️\n\n🛩️ _Features_\n\n- feat: mock server helper (#4155) - by @KobeNguyenT\n  ![Screenshot 2024-01-25 at 13 47 59](https://github.com/codeceptjs/CodeceptJS/assets/7845001/8fe7aacf-f1c9-4d7e-89a6-3748b3ccb26c)\n- feat(webdriver): network traffics manipulation (#4166) - by @KobeNguyenT\n  [Webdriver] Added commands to check network traffics - supported only with devtoolsProtocol\n  - `startRecordingTraffic`\n  - `grabRecordedNetworkTraffics`\n  - `flushNetworkTraffics`\n  - `stopRecordingTraffic`\n  - `seeTraffic`\n  - `dontSeeTraffic`\n\nExamples:\n\n```js\n// recording traffics and verify the traffic\nI.startRecordingTraffic()\nI.amOnPage('https://codecept.io/')\nI.seeTraffic({ name: 'traffics', url: 'https://codecept.io/img/companies/BC_LogoScreen_C.jpg' })\n```\n\n```js\n// check the traffic with advanced params\nI.amOnPage('https://openai.com/blog/chatgpt')\nI.startRecordingTraffic()\nI.seeTraffic({\n  name: 'sentry event',\n  url: 'https://images.openai.com/blob/cf717bdb-0c8c-428a-b82b-3c3add87a600',\n  parameters: {\n    width: '1919',\n    height: '1138',\n  },\n})\n```\n\n- feat(webapi): add waitForCookie (#4169) - by @KobeNguyenT\n  Waits for the specified cookie in the cookies.\n\n```js\nI.waitForCookie('token')\n```\n\n🐛 _Bug Fixes_\n\n- fix(appium): update performSwipe with w3c protocol v2 (#4181) - by @MykaLev\n- fix(webapi): selectOption method (#4157) - by @dyaroman\n- fix: waitForText doesnt throw error when text doesnt exist (#4195) - by @KobeNguyenT\n- fix: use this.options instead of this.config (#4186) - by @KobeNguyenT\n- fix: config path without selenium (#4184) - by @KobeNguyenT\n- fix: bring to front condition in \\_setPage (#4173) - by @KobeNguyenT\n- fix: complicated locator (#4170) - by @KobeNguyenT\n  Adding of `':nth-child'` into the array\n\n`const limitation = [':nth-of-type', ':first-of-type', ':last-of-type', ':nth-last-child', ':nth-last-of-type', ':checked', ':disabled', ':enabled', ':required', ':lang'];` fixes the issue. Then an old conversion way over `css-to-xpath` is used.\n\n📖 _Documentation_\n\n- fix(docs): missing docs for codecept UI (#4175) - by @KobeNguyenT\n- fix(docs): Appium documentation sidebar menu links (#4188) - by @mirao\n\n🛩️ **Several bugfixes and improvements for Codecept-UI**\n\n- Several internal improvements\n- fix: title is not showing when visiting a test\n- fix: handle erros nicely\n\n## 3.5.12\n\n❤️ Thanks all to those who contributed to make this release! ❤️\n\n🛩️ _Features_\n\n- feat: upgrade wdio (#4123) - by @KobeNguyenT\n\n  🛩️ With the release of WebdriverIO version `v8.14.0`, and onwards, all driver management hassles are now a thing of the past 🙌. Read more [here](https://webdriver.io/blog/2023/07/31/driver-management/).\n  One of the significant advantages of this update is that you can now get rid of any driver services you previously had to manage, such as\n  `wdio-chromedriver-service`, `wdio-geckodriver-service`, `wdio-edgedriver-service`, `wdio-safaridriver-service`, and even `@wdio/selenium-standalone-service`.\n\nFor those who require custom driver options, fear not; WebDriver Helper allows you to pass in driver options through custom WebDriver configuration.\nIf you have a custom grid, use a cloud service, or prefer to run your own driver, there's no need to worry since WebDriver Helper will only start a driver when there are no other connection information settings like hostname or port specified.\n\nExample:\n\n```js\n{\n   helpers: {\n     WebDriver : {\n       smartWait: 5000,\n       browser: \"chrome\",\n       restart: false,\n       windowSize: \"maximize\",\n       timeouts: {\n         \"script\": 60000,\n         \"page load\": 10000\n       }\n     }\n   }\n}\n```\n\nTesting Chrome locally is now more convenient than ever. You can define a browser channel, and WebDriver Helper will take care of downloading the specified browser version for you.\nFor example:\n\n```js\n{\n   helpers: {\n     WebDriver : {\n       smartWait: 5000,\n       browser: \"chrome\",\n       browserVersion: '116.0.5793.0', // or 'stable', 'beta', 'dev' or 'canary'\n       restart: false,\n       windowSize: \"maximize\",\n       timeouts: {\n         \"script\": 60000,\n         \"page load\": 10000\n       }\n     }\n   }\n}\n```\n\n- feat: wdio with devtools protocol (#4105) - by @KobeNguyenT\n\nRunning with devtools protocol\n\n```js\n{\n   helpers: {\n     WebDriver : {\n       url: \"http://localhost\",\n       browser: \"chrome\",\n       devtoolsProtocol: true,\n       desiredCapabilities: {\n         chromeOptions: {\n           args: [ \"--headless\", \"--disable-gpu\", \"--no-sandbox\" ]\n         }\n       }\n     }\n   }\n}\n```\n\n- feat: add a locator builder method withTextEquals() (#4100) - by @mirao\n\nFind an element with exact text\n\n```js\nlocate('button').withTextEquals('Add')\n```\n\n- feat: waitForNumberOfTabs (#4124) - by @KobeNguyenT\n\nWaits for number of tabs.\n\n```js\nI.waitForNumberOfTabs(2)\n```\n\n- feat: I.say would be added to Test.steps array (#4145) - by @KobeNguyenT\n\nCurrently `I.say` is not added into the `Test.steps` array. This PR aims to add this to steps array so that we could use it to print steps in ReportPortal for instance.\n\n![Screenshot 2024-01-19 at 15 41 34](https://github.com/codeceptjs/CodeceptJS/assets/7845001/82af552a-aeb3-487e-ac10-b5bb7e42470f)\n\n🐛 _Bug Fixes_\n\n- fix: reduce the package size to 2MB (#4138) - by @KobeNguyenT\n- fix(webapi): see attributes on elements (#4147) - by @KobeNguyenT\n- fix: some assertion methods (#4144) - by @KobeNguyenT\n\nImprove the error message for `seeElement`, `dontSeeElement`, `seeElementInDOM`, `dontSeeElementInDOM`\n\nThe current error message doesn't really help when debugging issue also causes some problem described in #4140\n\nActual\n\n```\n      expected visible elements '[ELEMENT]' to be empty\n      + expected - actual\n\n      -[\n      -  \"ELEMENT\"\n      -]\n      +[]\n```\n\nUpdated\n\n```\n     Error: Element \"h1\" is still visible\n      at seeElementError (lib/helper/errors/ElementAssertion.js:9:9)\n      at Playwright.dontSeeElement (lib/helper/Playwright.js:1472:7)\n```\n\n- fix: css to xpath backward compatibility (#4141) - by @KobeNguyenT\n\n* [css-to-xpath](https://www.npmjs.com/package/css-to-xpath): old lib, which works perfectly unless you have hyphen in locator. (https://github.com/codeceptjs/CodeceptJS/issues/3563)\n* [csstoxpath](https://www.npmjs.com/package/csstoxpath): new lib, to solve the issue locator with hyphen but also have some [limitations](https://www.npmjs.com/package/csstoxpath#limitations)\n\n- fix: grabRecordedNetworkTraffics throws error when being called twice (#4143) - by @KobeNguyenT\n- fix: missing steps of test when running with workers (#4127) - by @KobeNguyenT\n\n```js\nScenario('Verify getting list of users', async () => {\n  let res = await I.getUserPerPage(2)\n  res.data = [] // this line causes the issue\n  await I.expectEqual(res.data.data[0].id, 7)\n})\n```\n\nat this time, res.data.data[0].id would throw undefined error and somehow the test is missing all its steps.\n\n- fix: process.env.profile when --profile isn't set in run-multiple mode (#4131) - by @mirao\n\n`process.env.profile` is the string \"undefined\" instead of type undefined when no --profile is specified in the mode \"run-multiple\"\n\n- fix: session doesn't respect the context options (#4111) - by @KobeNguyenT\n\n```js\nHelpers: Playwright\nPlugins: screenshotOnFail, tryTo, retryFailedStep, retryTo, eachElement\n\nRepro --\n[1]  Starting recording promises\nTimeouts:\n› [Session] Starting singleton browser session\nReproduce issue\nI am on page \"https://example.com\"\n› [Browser:Error] Failed to load resource: the server responded with a status of 404 ()\n› [New Context] {}\nuser1: I am on page \"https://example.com\"\nuser1: I execute script () => {\nreturn { width: window.screen.width, height: window.screen.height };\n}\nsessionScreen is {\"width\":375,\"height\":667}\n✔ OK in 1890ms\n\n\nOK  | 1 passed   // 4s\n```\n\n- fix(plugin): retryTo issue (#4117) - by @KobeNguyenT\n  ![Screenshot 2024-01-08 at 17 36 54](https://github.com/codeceptjs/CodeceptJS/assets/7845001/39c97073-e2e9-4c4c-86ee-62540bc95015)\n\n- fix(types): CustomLocator typing broken for custom strict locators (#4120) - by @KobeNguyenT\n- fix: wrong output for skipped tests - by @KobeNguyenT\n- fix: no retry failed step after tryto block (#4103) - by @KobeNguyenT\n- fix: deprecate some JSON Wire Protocol commands (#4104) - by @KobeNguyenT\n\ndeprecate some JSON Wire Protocol commands: `grabGeoLocation`, `setGeoLocation`\n\n- fix: cannot locate complicated locator (#4101) - by @KobeNguyenT\n\nLocator issue due to the lib changes\n\n```\nThe locator locate(\".ps-menu-button\").withText(\"Authoring\").inside(\".ps-submenu-root:nth-child(3)\") is translated to\n3.5.8: //*[contains(concat(' ', normalize-space(./@class), ' '), ' ps-menu-button ')][contains(., 'Authoring')][ancestor::*[(contains(concat(' ', normalize-space(./@class), ' '), ' ps-submenu-root ') and count(preceding-sibling::*) = 2)]] and works well\n3.5.11: //*[contains(@class, \"ps-menu-button\")][contains(., 'Authoring')][ancestor::*[3][contains(@class, \"ps-submenu-root\")]] and doesn't work (no clickable element found). Even if you test it in browser inspector, it doesn't work.\n```\n\n## 3.5.11\n\n❤️ Thanks all to those who contributed to make this release! ❤️\n\n🛩️ _Features_\n\n- feat: other locators from playwright (#4090) - by @KobeNguyenT\n  - CodeceptJS - Playwright now supports other locators like\n    - React (https://playwright.dev/docs/other-locators#react-locator),\n    - Vue (https://playwright.dev/docs/other-locators#vue-locator)\n      ![Vue Locators](https://github.com/codeceptjs/CodeceptJS/assets/7845001/841e9e54-847b-4326-b95f-f9406955a3ce)\n      ![Example](https://github.com/codeceptjs/CodeceptJS/assets/7845001/763e6788-143b-4a00-a249-d9ca5f0b2a09)\n\n🐛 _Bug Fixes_\n\n- fix: step object is broken when step arg is a function (#4092) - by @KobeNguyenT\n- fix: step object is broken when step arg contains joi object (#4084) - by @KobeNguyenT\n- fix(expect helper): custom error message as optional param (#4082) - by @KobeNguyenT\n- fix(puppeteer): hide deprecation info (#4075) - by @KobeNguyenT\n- fix: seeattributesonelements throws error when attribute doesn't exist (#4073) - by @KobeNguyenT\n- fix: typo in agrs (#4077) - by @KobeNguyenT\n- fix: retryFailedStep is disabled for non tryTo steps (#4069) - by @KobeNguyenT\n- fix(typings): scrollintoview complains scrollintoviewoptions (#4067) - by @KobeNguyenT\n\n📖 _Documentation_\n\n- fix(docs): some doc blocks are broken (#4076) - by @KobeNguyenT\n- fix(docs): expect docs (#4058) - by @KobeNguyenT\n\n## 3.5.10\n\n❤️ Thanks all to those who contributed to make this release! ❤️\n\n🛩️ _Features_\n\n- feat: expose WebElement (#4043) - by @KobeNguyenT\n\n```\nNow we expose the WebElements that are returned by the WebHelper and you could make the subsequence actions on them.\n\n// Playwright helper would return the Locator\n\nI.amOnPage('/form/focus_blur_elements');\nconst webElements = await I.grabWebElements('#button');\nwebElements[0].click();\n```\n\n- feat(playwright): support HAR replaying (#3990) - by @KobeNguyenT\n\n```\nReplaying from HAR\n\n // Replay API requests from HAR.\n // Either use a matching response from the HAR,\n // or abort the request if nothing matches.\n   I.replayFromHar('./output/har/something.har', { url: \"*/**/api/v1/fruits\" });\n   I.amOnPage('https://demo.playwright.dev/api-mocking');\n   I.see('CodeceptJS');\n[Parameters]\nharFilePath [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String) Path to recorded HAR file\nopts [object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)? [Options for replaying from HAR](https://playwright.dev/docs/api/class-page#page-route-from-har)\n```\n\n- feat(playwright): support HAR recording (#3986) - by @KobeNguyenT\n\n```\nA HAR file is an HTTP Archive file that contains a record of all the network requests that are made when a page is loaded.\nIt contains information about the request and response headers, cookies, content, timings, and more.\nYou can use HAR files to mock network requests in your tests. HAR will be saved to output/har.\nMore info could be found here https://playwright.dev/docs/api/class-browser#browser-new-context-option-record-har.\n\n...\nrecordHar: {\n    mode: 'minimal', // possible values: 'minimal'|'full'.\n    content: 'embed' // possible values:  \"omit\"|\"embed\"|\"attach\".\n}\n...\n```\n\n- improvement(playwright): support partial string for option (#4016) - by @KobeNguyenT\n\n```\nawait I.amOnPage('/form/select');\nawait I.selectOption('Select your age', '21-');\n```\n\n🐛 _Bug Fixes_\n\n- fix(playwright): proceedSee could not find the element (#4006) - by @hatufacci\n- fix(appium): remove the vendor prefix of 'bstack:options' (#4053) - by @mojtabaalavi\n- fix(workers): event improvements (#3953) - by @KobeNguyenT\n\n```\nEmit the new event: event.workers.result.\n\nCodeceptJS also exposes the env var `process.env.RUNS_WITH_WORKERS` when running tests with run-workers command so that you could handle the events better in your plugins/helpers.\n\nconst { event } = require('codeceptjs');\n\nmodule.exports = function() {\n    // this event would trigger the  `_publishResultsToTestrail` when running `run-workers` command\n  event.dispatcher.on(event.workers.result, async () => {\n    await _publishResultsToTestrail();\n  });\n\n  // this event would not trigger the  `_publishResultsToTestrail` multiple times when running `run-workers` command\n  event.dispatcher.on(event.all.result, async () => {\n      // when running `run` command, this env var is undefined\n    if (!process.env.RUNS_WITH_WORKERS) await _publishResultsToTestrail();\n  });\n}\n```\n\n- fix: ai html updates (#3962) - by @DavertMik\n\n```\nreplaced minify library with a modern and more secure fork. Fixes html-minifier@4.0.0 Regular Expression Denial of Service vulnerability #3829\nAI class is implemented as singleton\nrefactored heal.js plugin to work on edge cases\nadd configuration params on number of fixes performed by ay heal\nimproved recorder class to add more verbose log\nimproved recorder class to ignore some of errors\n```\n\n- fix(appium): closeApp supports both Android/iOS (#4046) - by @KobeNguyenT\n- fix: some security vulnerability of some packages (#4045) - by @KobeNguyenT\n- fix: seeAttributesOnElements check condition (#4029) - by @KobeNguyenT\n- fix: waitForText locator issue (#4039) - by @KobeNguyenT\n\n```\nFixed this error:\n\nlocator.isVisible: Unexpected token \"s\" while parsing selector \":has-text('Were you able to resolve the resident's issue?') >> nth=0\"\n      at Playwright.waitForText (node_modules\\codeceptjs\\lib\\helper\\Playwright.js:2584:79)\n```\n\n- fix: move to sha256 (#4038) - by @KobeNguyenT\n- fix: respect retries from retryfailedstep plugin in helpers (#4028) - by @KobeNguyenT\n\n```\nCurrently inside the _before() of helpers for example Playwright, the retries is set there, however, when retryFailedStep plugin is enabled, the retries of recorder is still using the value from _before() not the value from retryFailedStep plugin.\n\nFix:\n\n- introduce the process.env.FAILED_STEP_RETIRES which could be access everywhere as the helper won't know anything about the plugin.\n- set default retries of Playwright to 3 to be on the same page with Puppeteer.\n```\n\n- fix: examples in test title (#4030) - by @KobeNguyenT\n\n```\nWhen test title doesn't have the data in examples:\n\nFeature: Faker examples\n\n  Scenario Outline: Below are the users\n    Examples:\n      | user   | role |\n      | John  | admin |\n      | Tim   | client  |\n\nFaker examples --\n    [1]  Starting recording promises\n    Timeouts:\n  Below are the users {\"user\":\"John\",\"role\":\"admin\"}\n  ✔ OK in 4ms\n\n  Below are the users {\"user\":\"Tim\",\"role\":\"client\"}\n  ✔ OK in 1ms\n\nWhen test title includes the data in examples:\n\n\nFeature: Faker examples\n\n  Scenario Outline: Below are the users - <user> - <role>\n    Examples:\n      | user   | role |\n      | John  | admin |\n      | Tim   | client  |\n\n\nFaker examples --\n    [1]  Starting recording promises\n    Timeouts:\n  Below are the users - John - admin\n  ✔ OK in 4ms\n\n  Below are the users - Tim - client\n  ✔ OK in 1ms\n```\n\n- fix: disable retryFailedStep when using with tryTo (#4022) - by @KobeNguyenT\n- fix: locator builder returns error when class name contains hyphen (#4024) - by @KobeNguyenT\n- fix: seeCssPropertiesOnElements failed when font-weight is a number (#4026) - by @KobeNguyenT\n- fix(appium): missing await on some steps of runOnIOS and runOnAndroid (#4018) - by @KobeNguyenT\n- fix(cli): no error of failed tests when using retry with scenario only (#4020) - by @KobeNguyenT\n- fix: set getPageTimeout to 30s (#4031) - by @KobeNguyenT\n- fix(appium): expose switchToContext (#4015) - by @KobeNguyenT\n- fix: promise issue (#4013) - by @KobeNguyenT\n- fix: seeCssPropertiesOnElements issue with improper condition (#4057) - by @KobeNguyenT\n\n📖 _Documentation_\n\n- docs: Update clearCookie documentation for Playwright helper (#4005) - by @Hellosager\n- docs: improve the example code for autoLogin (#4019) - by @KobeNguyenT\n  ![Screenshot 2023-11-22 at 14 40 11](https://github.com/codeceptjs/CodeceptJS/assets/7845001/c05ac436-efd0-4bc0-a46c-386f915c0f17)\n\n## 3.5.8\n\nThanks all to those who contributed to make this release!\n\n🐛 _Bug Fixes_\nfix(appium): type of setNetworkConnection() (#3994) - by @mirao\nfix: improve the way to show deprecated appium v1 message (#3992) - by @KobeNguyenT\nfix: missing exit condition of some wait functions - by @KobeNguyenT\n\n## 3.5.7\n\nThanks all to those who contributed to make this release!\n\n🐛 _Bug Fixes_\n\n- Bump playwright to 1.39.0 - run `npx playwright install` to install the browsers as starting from 1.39.0 browsers are not installed automatically (#3924) - by @KobeNguyenT\n- fix(playwright): some wait functions draw error due to switchTo iframe (#3918) - by @KobeNguyenT\n- fix(appium): AppiumTestDistribution/appium-device-farm requires 'platformName' (#3950) - by @rock-tran\n- fix: autologin with empty fetch (#3947) - by @andonary\n- fix(cli): customLocator draws error in dry-mode (#3940) - by @KobeNguyenT\n- fix: ensure docs include @returns Promise<void> where appropriate (#3954) - by @fwouts\n- fix: long text in data table cuts off (#3936) - by @KobeNguyenT\n\n```\n#language: de\nFunktionalität: Faker examples\n\n   Szenariogrundriss: Atualizar senha do usuário\n        Angenommen que estou logado via REST com o usuário \"<customer>\"\n          | protocol             | https:               |\n          | hostname             | https://cucumber.io/docs/gherkin/languages/            |\n\n\nFaker examples --\n  Atualizar senha do usuário {\"product\":\"{{vehicle.vehicle}}\",\"customer\":\"Dr. {{name.findName}}\",\"price\":\"{{commerce.price}}\",\"cashier\":\"cashier 2\"}\n   On Angenommen: que estou logado via rest com o usuário \"dr. {{name.find name}}\"\n    protocol        | https:\n    hostname        | https://cucumber.io/docs/gherkin/languages/\n\nDr. {{name.findName}}\n  ✔ OK in 13ms\n\n```\n\n- fix(playwright): move to waitFor (#3933) - by @KobeNguyenT\n- fix: relax grabCookie type (#3919) - by @KobeNguyenT\n- fix: proceedSee error when being called inside within (#3939) - by @KobeNguyenT\n- fix: rename haveRequestHeaders of ppt and pw helpers (#3937) - by @KobeNguyenT\n\n```\nRenamed haveRequestHeaders of Puppeteer, Playwright helper so that it would not confuse the REST helper.\nPuppeteer: setPuppeteerRequestHeaders\nPlaywright: setPlaywrightRequestHeaders\n```\n\n- improvement: handle the way to load apifactory nicely (#3941) - by @KobeNguyenT\n\n```\nWith this fix, we could now use the following syntax:\n\nexport = new Factory()\n   .attr('name', () => faker.name.findName())\n   .attr('job', () => 'leader');\n\nexport default new Factory()\n   .attr('name', () => faker.name.findName())\n   .attr('job', () => 'leader');\n\nmodules.export = new Factory()\n   .attr('name', () => faker.name.findName())\n   .attr('job', () => 'leader');\n```\n\n📖 _Documentation_\n\n- docs(appium): update to v2 (#3932) - by @KobeNguyenT\n- docs: improve BDD Gherkin docs (#3938) - by @KobeNguyenT\n- Other docs improvements\n\n🛩️ _Features_\n\n- feat(puppeteer): support trace recording - by @KobeNguyenT\n\n```\n[Trace Recording Customization]\nTrace recording provides complete information on test execution and includes screenshots, and network requests logged during run. Traces will be saved to output/trace\n\ntrace: enables trace recording for failed tests; trace are saved into output/trace folder\nkeepTraceForPassedTests: - save trace for passed tests\n```\n\n- feat: expect helper (#3923) - by @KobeNguyenT\n\n````\n * This helper allows performing assertions based on Chai.\n *\n * ### Examples\n *\n * Zero-configuration when paired with other helpers like REST, Playwright:\n *\n * ```js\n * // inside codecept.conf.js\n *{\n *   helpers: {\n *     Playwright: {...},\n *     ExpectHelper: {},\n *   }\n\n  Expect Helper\n    #expectEqual\n    #expectNotEqual\n    #expectContain\n    #expectNotContain\n    #expectStartsWith\n    #expectNotStartsWith\n    #expectEndsWith\n    #expectNotEndsWith\n    #expectJsonSchema\n    #expectHasProperty\n    #expectHasAProperty\n    #expectToBeA\n    #expectToBeAn\n    #expectMatchRegex\n    #expectLengthOf\n    #expectTrue\n    #expectEmpty\n    #expectFalse\n    #expectAbove\n    #expectBelow\n    #expectLengthAboveThan\n    #expectLengthBelowThan\n    #expectLengthBelowThan\n    #expectDeepMembers\n    #expectDeepIncludeMembers\n    #expectDeepEqualExcluding\n    #expectLengthBelowThan\n````\n\n- feat: run-workers with multiple browsers output folders - by @KobeNguyenT\n\n* ![Screenshot 2023-11-04 at 10 49 56](https://github.com/codeceptjs/CodeceptJS/assets/7845001/8eaecc54-de14-4597-b148-1e087bec3c76)\n* ![Screenshot 2023-11-03 at 15 56 38](https://github.com/codeceptjs/CodeceptJS/assets/7845001/715aed17-3535-48df-80dd-84f7024f08e3)\n\n- feat: introduce new Playwright methods - by @hatufacci\n\n```\n- grabCheckedElementStatus\n- grabDisabledElementStatus\n```\n\n- feat: gherkin supports i18n (#3934) - by @KobeNguyenT\n\n```\n#language: de\nFunktionalität: Checkout-Prozess\n  Um Produkte zu kaufen\n  Als Kunde\n  Möchte ich in der Lage sein, mehrere Produkte zu kaufen\n\n  @i18n\n  Szenariogrundriss: Bestellrabatt\n    Angenommen ich habe ein Produkt mit einem Preis von <price>$ in meinem Warenkorb\n    Und der Rabatt für Bestellungen über $20 beträgt 10 %\n    Wenn ich zur Kasse gehe\n    Dann sollte ich den Gesamtpreis von \"<total>\" $ sehen\n\n    Beispiele:\n      | price | total |\n      | 10    | 10.0  |\n```\n\n- feat(autoLogin): improve the check method (#3935) - by @KobeNguyenT\n\n```\nInstead of asserting on page elements for the current user in check, you can use the session you saved in fetch\n\nautoLogin: {\n  enabled: true,\n  saveToFile: true,\n  inject: 'login',\n  users: {\n    admin: {\n      login: async (I) => {  // If you use async function in the autoLogin plugin\n         const phrase = await I.grabTextFrom('#phrase')\n         I.fillField('username', 'admin'),\n         I.fillField('password', 'password')\n         I.fillField('phrase', phrase)\n      },\n      check: (I, session) => {\n         // Throwing an error in `check` will make CodeceptJS perform the login step for the user\n         if (session.profile.email !== the.email.you.expect@some-mail.com) {\n              throw new Error ('Wrong user signed in');\n        }\n      },\n    }\n  }\n}\nScenario('login', async ( {I, login} ) => {\n  await login('admin') // you should use `await`\n})\n```\n\n## 3.5.6\n\nThanks all to those who contributed to make this release!\n\n🐛 _Bug Fixes_\n\n- fix: switchTo/within block doesn't switch to expected iframe (#3892) - by @KobeNguyenT\n- fix: highlight element doesn't work as expected (#3896) - by @KobeNguyenT\n\n```\n  verbose/ highlight\tTRUE\tTRUE -> highlight element\n  verbose/ highlight\tTRUE\tFALSE -> no highlight element\n  verbose/ highlight\tFALSE\tTRUE -> no highlight element\n  verbose/ highlight\tFALSE\tFALSE -> no highlight element\n```\n\n- fix: masked value issue in data table (#3885) - by @KobeNguyenT\n\n```\nconst accounts = new DataTable(['role', 'username', 'password']);\naccounts.add([\n  'ROLE_A',\n  process.env['FIRST_USERNAME'],\n  secret(process.env['FIRST_PASSWORD']),\n]);\naccounts.add([\n  'ROLE_B',\n  process.env['SECOND_USERNAME'],\n  secret(process.env['SECOND_PASSWORD']),\n]);\n\nData(accounts)\n  .Scenario(\n    'ScenarioTitle',\n    ({ I, pageObject, current }) => {\n      I.say(\"Given I'am logged in\");\n      I.amOnPage('/');\n      loginPage.**sendForm**(current.username, current.password);\n  )\n\n\n // output\n The test feature --\n  The scenario | {\"username\":\"Username\",\"password\": ***}\n      'The real password: theLoggedPasswordInCleartext'\n      I.fillField('somePasswordLocator', '****')\n  ✔ OK in 7ms\n\n  The scenario | {\"username\":\"theSecondUsername\",\"password\": ***}\n      'The real password: theLoggedPasswordInCleartext'\n      I.fillField('somePasswordLocator', '****')\n  ✔ OK in 1ms\n```\n\n- fix: debug info causes error (#3882) - by @KobeNguyenT\n\n📖 _Documentation_\n\n- fix: get rid of complaining when using session without await and returning nothing. (#3899) - by @KobeNguyenT\n- fix(FileSystem): a typo in writeToFile() (#3897) - by @mirao\n\n🛩️ _Features_\n\n- feat(translation): add more french keywords and fix deprecated waitForClickable (#3906) - by @andonary\n\n```\n- Add some french keywords for translation\n- I.waitForClickable has the same \"attends\" than I.wait. Using \"attends\" leads to use the deprecated waitForClickable. Fix it by using different words.\n```\n\n## 3.5.5\n\n🐛 Bug Fixes\n\n- fix(browserstack): issue with vendor prefix (#3845) - by @KobeNguyenT\n\n```\nexport const caps = {\n    androidCaps: {\n        appiumV2: true,\n        host: \"hub-cloud.browserstack.com\",\n        port: 4444,\n        user: process.env.BROWSERSTACK_USER,\n        key: process.env.BROWSERSTACK_KEY,\n        'app': `bs://c700ce60cf13ae8ed97705a55b8e022f1hjhkjh3c5827c`,\n        browser: '',\n        desiredCapabilities: {\n            'appPackage': data.packageName,\n            'deviceName': process.env.DEVICE || 'Google Pixel 3',\n            'platformName': process.env.PLATFORM || 'android',\n            'platformVersion': process.env.OS_VERSION || '10.0',\n            'automationName': process.env.ENGINE || 'UIAutomator2',\n            'newCommandTimeout': 300000,\n            'androidDeviceReadyTimeout': 300000,\n            'androidInstallTimeout': 90000,\n            'appWaitDuration': 300000,\n            'autoGrantPermissions': true,\n            'gpsEnabled': true,\n            'isHeadless': false,\n            'noReset': false,\n            'noSign': true,\n            'bstack:options' : {\n                \"appiumVersion\" : \"2.0.1\",\n            },\n        }\n    },\n}\n```\n\n- switchTo/within now supports strict locator (#3847) - by @KobeNguyenT\n\n```\nI.switchTo({ css: 'iframe[id^=number-frame]' }) // support the strict locator\n\nI.amOnPage('/iframe');\nwithin({\n  frame: { css: '#number-frame-1234' }, // support the strict locator\n}, () => {\n  I.fillField('user[login]', 'User');\n  I.fillField('user[email]', 'user@user.com');\n  I.fillField('user[password]', 'user@user.com');\n  I.click('button');\n});\n```\n\n- Improve the IntelliSense when using other languages (#3848) - by @andonary\n\n```\n  include: {\n    Je: './steps_file.js'\n  }\n```\n\n- bypassCSP support for Playwright helper (#3865) - by @sammeel\n\n```\n  helpers: {\n    Playwright: {\n      bypassCSP: true\n    }\n```\n\n- fix: missing requests when recording network (#3834) - by @KobeNguyenT\n\n🛩️ Features and Improvements\n\n- Show environment info in verbose mode (#3858) - by @KobeNguyenT\n\n```\nEnvironment information:-\n\ncodeceptVersion:  \"3.5.4\"\nnodeInfo:  18.16.0\nosInfo:  macOS 13.5\ncpuInfo:  (8) arm64 Apple M1 Pro\nchromeInfo:  116.0.5845.179\nedgeInfo:  116.0.1938.69\nfirefoxInfo:  Not Found\nsafariInfo:  16.6\nhelpers:  {\n\"Playwright\": {\n\"url\": \"https://github.com\",\n\"show\": false,\n\"browser\": \"chromium\",\n\"waitForNavigation\": \"load\",\n\"waitForTimeout\": 30000,\n\"trace\": false,\n\"keepTraceForPassedTests\": true\n},\n\"CDPHelper\": {\n\"require\": \"./helpers/CDPHelper.ts\"\n},\n\"OpenAI\": {\n\"chunkSize\": 8000\n},\n\"ExpectHelper\": {\n\"require\": \"codeceptjs-expect\"\n},\n\"REST\": {\n\"endpoint\": \"https://reqres.in\",\n\"timeout\": 20000\n},\n\"AllureHelper\": {\n\"require\": \"./helpers/AllureHelper.ts\"\n}\n}\nplugins:  {\n\"screenshotOnFail\": {\n\"enabled\": true\n},\n\"tryTo\": {\n\"enabled\": true\n},\n\"retryFailedStep\": {\n\"enabled\": true\n},\n\"retryTo\": {\n\"enabled\": true\n},\n\"eachElement\": {\n\"enabled\": true\n},\n\"pauseOnFail\": {}\n}\n***************************************\nIf you have questions ask them in our Slack: http://bit.ly/chat-codeceptjs\nOr ask them on our discussion board: https://codecept.discourse.group/\nPlease copy environment info when you report issues on GitHub: https://github.com/Codeception/CodeceptJS/issues\n***************************************\nCodeceptJS v3.5.4 #StandWithUkraine\n```\n\n- some typings improvements (#3855) - by @nikzupancic\n- support the puppeteer 21.1.1 (#3856) - by @KobeNguyenT\n- fix: support secret value for some methods (#3837) - by @KobeNguyenT\n\n```\nawait I.amOnPage('/form/field_values');\nawait I.dontSeeInField('checkbox[]', secret('not seen one'));\nawait I.seeInField('checkbox[]', secret('see test one'));\nawait I.dontSeeInField('checkbox[]', secret('not seen two'));\nawait I.seeInField('checkbox[]', secret('see test two'));\nawait I.dontSeeInField('checkbox[]', secret('not seen three'));\nawait I.seeInField('checkbox[]', secret('see test three'));\n```\n\n🛩️ **Several bugfixes and improvements for Codecept-UI**\n\n- Mask the secret value in UI\n- Improve UX/UI\n- PageObjects are now showing in UI\n\n## 3.5.4\n\n🐛 Bug Fixes:\n\n- [Playwright] When passing `userDataDir`, it throws error after test execution (#3814) - by @KobeNguyenT\n- [CodeceptJS-CLI] Improve command to generate types (#3788) - by @KobeNguyenT\n- Heal plugin fix (#3820) - by @davert\n- Fix for error in using `all` with `run-workers` (#3805) - by @KobeNguyenT\n\n```js\n  helpers: {\n    Playwright: {\n      url: 'https://github.com',\n      show: false,\n      browser: 'chromium',\n      waitForNavigation: 'load',\n      waitForTimeout: 30_000,\n      trace: true,\n      keepTraceForPassedTests: true\n    },\n  },\n  multiple: {\n    profile1: {\n      browsers: [\n        {\n          browser: \"chromium\",\n        }\n      ]\n    },\n  },\n```\n\n- Highlight elements issues (#3779) (#3778) - by @philkas\n- Support `&nbsp` symbol in `I.see` method (#3815) - by @KobeNguyenT\n\n```js\n// HTML code uses &nbsp; instead of space\n;<div class=\"dJHe_\" style=\"color: rgb(255, 255, 255);\">\n  My&nbsp;Text!\n</div>\n\nI.see('My Text!') // this test would work with both &nbsp; and space\n```\n\n📖 Documentation\n\n- Improve the configuration of electron testing when the app is build with electron-forge (#3802) - by @KobeNguyenT\n\n```js\nconst path = require('path')\n\nexports.config = {\n  helpers: {\n    Playwright: {\n      browser: 'electron',\n      electron: {\n        executablePath: require('electron'),\n        args: [path.join(__dirname, '.webpack/main/index.js')],\n      },\n    },\n  },\n  // rest of config\n}\n```\n\n🛩️ Features\n\n#### [Playwright] new features and improvements\n\n- Parse the response in recording network steps (#3771) - by @KobeNguyenT\n\n```js\nconst traffics = await I.grabRecordedNetworkTraffics()\nexpect(traffics[0].url).to.equal('https://reqres.in/api/comments/1')\nexpect(traffics[0].response.status).to.equal(200)\nexpect(traffics[0].response.body).to.contain({ name: 'this was mocked' })\n\nexpect(traffics[1].url).to.equal('https://reqres.in/api/comments/1')\nexpect(traffics[1].response.status).to.equal(200)\nexpect(traffics[1].response.body).to.contain({ name: 'this was another mocked' })\n```\n\n- Grab metrics (#3809) - by @KobeNguyenT\n\n```js\nconst metrics = await I.grabMetrics()\n\n// returned metrics\n\n;[\n  { name: 'Timestamp', value: 1584904.203473 },\n  { name: 'AudioHandlers', value: 0 },\n  { name: 'AudioWorkletProcessors', value: 0 },\n  { name: 'Documents', value: 22 },\n  { name: 'Frames', value: 10 },\n  { name: 'JSEventListeners', value: 366 },\n  { name: 'LayoutObjects', value: 1240 },\n  { name: 'MediaKeySessions', value: 0 },\n  { name: 'MediaKeys', value: 0 },\n  { name: 'Nodes', value: 4505 },\n  { name: 'Resources', value: 141 },\n  { name: 'ContextLifecycleStateObservers', value: 34 },\n  { name: 'V8PerContextDatas', value: 4 },\n  { name: 'WorkerGlobalScopes', value: 0 },\n  { name: 'UACSSResources', value: 0 },\n  { name: 'RTCPeerConnections', value: 0 },\n  { name: 'ResourceFetchers', value: 22 },\n  { name: 'AdSubframes', value: 0 },\n  { name: 'DetachedScriptStates', value: 2 },\n  { name: 'ArrayBufferContents', value: 1 },\n  { name: 'LayoutCount', value: 0 },\n  { name: 'RecalcStyleCount', value: 0 },\n  { name: 'LayoutDuration', value: 0 },\n  { name: 'RecalcStyleDuration', value: 0 },\n  { name: 'DevToolsCommandDuration', value: 0.000013 },\n  { name: 'ScriptDuration', value: 0 },\n  { name: 'V8CompileDuration', value: 0 },\n  { name: 'TaskDuration', value: 0.000014 },\n  { name: 'TaskOtherDuration', value: 0.000001 },\n  { name: 'ThreadTime', value: 0.000046 },\n  { name: 'ProcessTime', value: 0.616852 },\n  { name: 'JSHeapUsedSize', value: 19004908 },\n  { name: 'JSHeapTotalSize', value: 26820608 },\n  { name: 'FirstMeaningfulPaint', value: 0 },\n  { name: 'DomContentLoaded', value: 1584903.690491 },\n  { name: 'NavigationStart', value: 1584902.841845 },\n]\n```\n\n- Grab WebSocket (WS) messages (#3789) - by @KobeNguyenT\n  - `flushWebSocketMessages`\n  - `grabWebSocketMessages`\n  - `startRecordingWebSocketMessages`\n  - `stopRecordingWebSocketMessages`\n\n```js\nawait I.startRecordingWebSocketMessages()\nI.amOnPage('https://websocketstest.com/')\nI.waitForText('Work for You!')\nI.flushNetworkTraffics()\nconst wsMessages = I.grabWebSocketMessages()\nexpect(wsMessages.length).to.equal(0)\n```\n\n```js\nawait I.startRecordingWebSocketMessages()\nawait I.amOnPage('https://websocketstest.com/')\nI.waitForText('Work for You!')\nconst wsMessages = I.grabWebSocketMessages()\nexpect(wsMessages.length).to.greaterThan(0)\n```\n\n```js\nawait I.startRecordingWebSocketMessages()\nawait I.amOnPage('https://websocketstest.com/')\nI.waitForText('Work for You!')\nconst wsMessages = I.grabWebSocketMessages()\nawait I.stopRecordingWebSocketMessages()\nawait I.amOnPage('https://websocketstest.com/')\nI.waitForText('Work for You!')\nconst afterWsMessages = I.grabWebSocketMessages()\nexpect(wsMessages.length).to.equal(afterWsMessages.length)\n```\n\n- Move from `ElementHandle` to `Locator`. This change is quite major, but it happened under hood, so should not affect your code. (#3738) - by @KobeNguyenT\n\n## 3.5.3\n\n🛩️ Features\n\n- [Playwright] Added commands to check network traffic #3748 - by @ngraf @KobeNguyenT\n  - `startRecordingTraffic`\n  - `grabRecordedNetworkTraffics`\n  - `blockTraffic`\n  - `mockTraffic`\n  - `flushNetworkTraffics`\n  - `stopRecordingTraffic`\n  - `seeTraffic`\n  - `grabTrafficUrl`\n  - `dontSeeTraffic`\n\nExamples:\n\n```js\n// recording traffics and verify the traffic\nawait I.startRecordingTraffic()\nI.amOnPage('https://codecept.io/')\nawait I.seeTraffic({ name: 'traffics', url: 'https://codecept.io/img/companies/BC_LogoScreen_C.jpg' })\n```\n\n```js\n// block the traffic\nI.blockTraffic('https://reqres.in/api/comments/*')\nawait I.amOnPage('/form/fetch_call')\nawait I.startRecordingTraffic()\nawait I.click('GET COMMENTS')\nawait I.see('Can not load data!')\n```\n\n```js\n// check the traffic with advanced params\nI.amOnPage('https://openai.com/blog/chatgpt')\nawait I.startRecordingTraffic()\nawait I.seeTraffic({\n  name: 'sentry event',\n  url: 'https://images.openai.com/blob/cf717bdb-0c8c-428a-b82b-3c3add87a600',\n  parameters: {\n    width: '1919',\n    height: '1138',\n  },\n})\n```\n\n🐛 Bugfix\n\n- [retryStepPlugin] Fix retry step when using global retry #3768 - by @KobeNguyenT\n\n🗑 Deprecated\n\n- Nightmare and Protractor helpers have been deprecated\n\n## 3.5.2\n\n🐛 Bug Fixes\n\n- [Playwright] reverted `clearField` to previous implementation\n- [OpenAI] fixed running helper in pause mode. #3755 by @KobeNguyenT\n\n## 3.5.1\n\n🛩️ Features\n\n- [Puppeteer][WebDriver][TestCafe] Added methods by @KobeNguyenT in #3737\n  - `blur`\n  - `focus`\n- Improved BDD output to print steps without `I.` commands` by @davertmik #3739\n- Improved `codecept init` setup for Electron tests by @KobeNguyenT. See #3733\n\n🐛 Bug Fixes\n\n- Fixed serializing of custom errors making tests stuck. Fix #3739 by @davertmik.\n\n📖 Documentation\n\n- Fixed Playwright docs by @Horsty80\n- Fixed ai docs by @ngraf\n- Various fixes by @KobeNguyenT\n\n## 3.5.0\n\n🛩️ Features\n\n- **🪄 [AI Powered Test Automation](/ai)** - use OpenAI as a copilot for test automation. #3713 By @davertmik\n  ![](https://user-images.githubusercontent.com/220264/250418764-c382709a-3ccb-4eb5-b6bc-538f3b3b3d35.png)\n\n  - [AI guide](/ai) added\n  - added support for OpenAI in `pause()`\n  - added [`heal` plugin](/plugins#heal) for self-healing tests\n  - added [`OpenAI`](/helpers/openai) helper\n\n- [Playwright][Puppeteer][WebDriver] Highlight the interacting elements in debug mode or with `highlightElement` option set (#3672) - by @KobeNguyenT\n\n![](https://user-images.githubusercontent.com/220264/250415226-a7620418-56a4-4837-b790-b15e91e5d1f0.png)\n\n- [Playwright] Support for APIs in Playwright (#3665) - by Egor Bodnar\n\n  - `clearField` replaced to use new Playwright API\n  - `blur` added\n  - `focus` added\n\n- **[Added support for multiple browsers](/parallel#Parallel-Execution-by-Workers-on-Multiple-Browsers)** in `run-workers` (#3606) by @karanshah-browserstack :\n\nMultiple browsers configured as profiles:\n\n```js\nexports.config = {\n  helpers: {\n    WebDriver: {\n      url: 'http://localhost:3000',\n    }\n  },\n  multiple: {\n    profile1: {\n      browsers: [\n        {\n          browser: \"firefox\",\n        },\n        {\n          browser: \"chrome\",\n        }\n      ]\n    },\n```\n\nAnd executed via `run-workers` with `all` argument\n\n```\nnpx codeceptjs run-workers 2 all\n```\n\n- [Appium] Add Appium v2 support (#3622) - by @KobeNguyenT\n- Improve `gpo` command to create page objects as modules or as classes (#3625) - by @KobeNguyenT\n- Added `emptyOutputFolder` config to clean up output before running tests (#3604) - by @KobeNguyenT\n- Add `secret()` function support to `append()` and `type()` (#3615) - by @anils92\n- [Playwright] Add `bypassCSP` option to helper's config (#3641) - by @KobeNguyenT\n- Print number of tests for each suite in dryRun (#3620) - by @KobeNguyenT\n\n🐛 Bug Fixes\n\n- Support `--grep` in dry-run command (#3673) - by @KobeNguyenT\n- Fix typings improvements in playwright (#3650) - by @KobeNguyenT\n- Fixed global retry #3667 by @KobeNguyenT\n- Fixed creating JavaScript test using \"codeceptjs gt\" (#3611) - by Jaromir Obr\n\n## 3.4.1\n\n- Updated mocha to v 10.2. Fixes #3591\n- Fixes executing a faling Before hook. Resolves #3592\n\n## 3.4.0\n\n- **Updated to latest mocha and modern Cucumber**\n- **Allure plugin moved to [@codeceptjs/allure-legacy](https://github.com/codeceptjs/allure-legacy) package**. This happened because allure-commons package v1 was not updated and caused vulnarabilities. Fixes #3422. We don't plan to maintain allure v2 plugin so it's up to community to take this initiative. Current allure plugin will print a warning message without interfering the run, so it won't accidentally fail your builds.\n- Added ability to **[retry Before](https://codecept.io/basics/#retry-before), BeforeSuite, After, AfterSuite** hooks by @davertmik:\n\n```js\nFeature('flaky Before & BeforeSuite', { retryBefore: 2, retryBeforeSuite: 3 })\n```\n\n- **Flexible [retries configuration](https://codecept.io/basics/#retry-configuration) introduced** by @davertmik:\n\n```js\nretry: [\n  {\n    // enable this config only for flaky tests\n    grep: '@flaky',\n    Before: 3 // retry Before 3 times\n    Scenario: 3 // retry Scenario 3 times\n  },\n  {\n    // retry less when running slow tests\n    grep: '@slow'\n    Scenario: 1\n    Before: 1\n  }, {\n    // retry all BeforeSuite 3 times\n    BeforeSuite: 3\n  }\n]\n```\n\n- **Flexible [timeout configuration](https://codecept.io/advanced/#timeout-configuration)** introduced by @davertmik:\n\n```js\ntimeout: [\n  10, // default timeout is 10secs\n  {\n    // but increase timeout for slow tests\n    grep: '@slow',\n    Feature: 50,\n  },\n]\n```\n\n- JsDoc: Removed promise from `I.say`. See #3535 by @danielrentz\n- [Playwright] `handleDownloads` requires now a filename param. See #3511 by @PeterNgTr\n- [WebDriver] Added support for v8, removed support for webdriverio v5 and lower. See #3578 by @PeterNgTr\n\n## 3.3.7\n\n🛩️ Features\n\n- **Promise-based typings** for TypeScript definitions in #3465 by @nlespiaucq. If you use TypeScript or use linters [check how it may be useful to you](https://bit.ly/3XIMq6n).\n- **Translation** improved to use [custom vocabulary](https://codecept.io/translation/).\n- [Playwright] Added methods in #3398 by @mirao\n  - `restartBrowser` - to restart a browser (with different config)\n  - `_createContextPage` - to create a new browser context with a page from a helper\n- Added [Cucumber custom types](/bdd#custom-types) for BDD in #3435 by @Likstern\n- Propose using JSONResponse helper when initializing project for API testing. #3455 by @PeterNgTr\n- When translation enabled, generate tests using localized aliases. By @davertmik\n- [Appium] Added `checkIfAppIsInstalled` in #3507 by @PeterNgTr\n\n🐛 Bugfixes\n\n- Fixed #3462 `TypeError: Cannot read properties of undefined (reading 'setStatus')` by @dwentland24 in #3438\n- Fixed creating steps file for TypeScript setup #3459 by @PeterNgTr\n- Fixed issue of after all event in `run-rerun` command after complete execution #3464 by @jain-neeeraj\n- [Playwright][WebDriver][Appium] Do not change `waitForTimeout` value on validation. See #3478 by @pmajewski24. Fixes #2589\n- [Playwright][WebDriver][Protractor][Puppeteer][TestCafe] Fixes `Element \"{null: undefined}\" was not found` and `element ([object Object]) still not present` messages when using object locators. See #3501 and #3502 by @pmajewski24\n- [Playwright] Improved file names when downloading file in #3449 by @PeterNgTr. Fixes #3412 and #3409\n- Add default value to `profile` env variable. See #3443 by @dwentland24. Resolves #3339\n- [Playwright] Using system-native path separator when saving artifacts in #3460 by @PeterNgTr\n- [Playwright] Saving videos and traces from multiple sessions in #3505 by @davertmik\n- [Playwright] Fixed `amOnPage` to navigate to `about:blank` by @zaxoavoki in #3470 Fixes #2311\n- Various typing improvements by @AWolf81 @PeterNgTr @mirao\n\n📖 Documentation\n\n- Updated [Quickstart](https://codecept.io/quickstart/) with detailed explanation of questions in init\n- Added [Translation](/translation/) guide\n- Updated [TypeScript](https://bit.ly/3XIMq6n) guide for promise-based typings\n- Reordered guides list on a website\n\n## 3.3.6\n\n- [`run-rerun`](https://codecept.io/commands/#run-rerun) command was re-introduced by @dwentland24 in #3436. Use it to perform run multiple times and detect flaky tests\n- Enabled `retryFailedStep` by default in `@codeceptjs/configure` v 0.10. See https://github.com/codeceptjs/configure/pull/26\n- [Playwright] Fixed properties types \"waitForNavigation\" and \"firefox\" by @mirao in #3401\n- [REST] Changed \"endpoint\" to optional by @mirao in #3404\n- [REST] Use [`secret`](/secrets) for form encoded string by @PeterNgTr:\n\n```js\nconst secretData = secret('name=john&password=123456')\nconst response = await I.sendPostRequest('/user', secretData)\n```\n\n- [Playwright]Fixed docs related to fixed properties types \"waitForNavigation\" and \"firefox\" by @mirao in #3407\n- [Playwright]Fixed parameters of startActivity() by @mirao in #3408\n- Move semver to prod dependencies by @timja in #3413\n- check if browser is W3C instead of Android by @mikk150 in #3414\n- Pass service configs with options and caps as array for browsers… by @07souravkunda in #3418\n- fix for type of \"webdriver.port\" by @ngraf in #3421\n- fix for type of \"webdriver.smartWait\" by @pmajewski24 in #3426\n- fix(datatable): mask secret text by @PeterNgTr in #3432\n- fix(playwright) - video name and missing type by @PeterNgTr in #3430\n- fix for expected type of \"bootstrap\", \"teardown\", \"bootstrapAll\" and \"teardownAll\" by @ngraf in #3424\n- Improve generate pageobject `gpo` command to work with TypeScript by @PeterNgTr in #3411\n- Fixed dry-run to always return 0 code and exit\n- Added minimal version notice for NodeJS >= 12\n- fix(utils): remove . of test title to avoid confusion by @PeterNgTr in #3431\n\n## 3.3.5\n\n🛩️ Features\n\n- Added **TypeScript types for CodeceptJS config**.\n\nUpdate `codecept.conf.js` to get intellisense when writing config file:\n\n```js\n/**@type {CodeceptJS.MainConfig}**/\nexports.config = {\n  //...\n}\n```\n\n- Added TS types for helpers config:\n  - Playwright\n  - Puppeteer\n  - WebDriver\n  - REST\n- Added **[TypeScript option](/typescript)** for installation via `codeceptjs init` to initialize new projects in TS (by @PeterNgTr and @davertmik)\n- Includes `node-ts` automatically when using TypeScript setup.\n\n🐛 Bugfixes\n\n- [Puppeteer] Fixed support for Puppeteer > 14.4 by @PeterNgTr\n- Don't report files as existing when non-directory is in path by @jonathanperret. See #3374\n- Fixed TS type for `secret` function by @PeterNgTr\n- Fixed wrong order for async MetaSteps by @dwentland24. See #3393\n- Fixed same param substitution in BDD step. See #3385 by @snehabhandge\n\n📖 Documentation\n\n- Updated [configuration options](https://codecept.io/configuration/) to match TypeScript types\n- Updated [TypeScript documentation](https://codecept.io/typescript/) on simplifying TS installation\n- Added codecept-tesults plugin documentation by @ajeetd\n\n## 3.3.4\n\n- Added support for masking fields in objects via `secret` function:\n\n```js\nI.sendPostRequest('/auth', secret({ name: 'jon', password: '123456' }, 'password'))\n```\n\n- Added [a guide about using of `secret`](/secrets) function\n- [Appium] Use `touchClick` when interacting with elements in iOS. See #3317 by @mikk150\n- [Playwright] Added `cdpConnection` option to connect over CDP. See #3309 by @Hmihaly\n- [customLocator plugin] Allowed to specify multiple attributes for custom locator. Thanks to @aruiz-caritsqa\n\n```js\nplugins: {\n customLocator: {\n   enabled: true,\n   prefix: '$',\n   attribute: ['data-qa', 'data-test'],\n }\n}\n```\n\n- [retryTo plugin] Fixed #3147 using `pollInterval` option. See #3351 by @cyonkee\n- [Playwright] Fixed grabbing of browser console messages and window resize in new tab. Thanks to @mirao\n- [REST] Added `prettyPrintJson` option to print JSON in nice way by @PeterNgTr\n- [JSONResponse] Updated response validation to iterate over array items if response is array. Thanks to @PeterNgTr\n\n```js\n// response.data == [\n//   { user: { name: 'jon', email: 'jon@doe.com' } },\n//   { user: { name: 'matt', email: 'matt@doe.com' } },\n//]\n\nI.seeResponseContainsKeys(['user'])\nI.seeResponseContainsJson({ user: { email: 'jon@doe.com' } })\nI.seeResponseContainsJson({ user: { email: 'matt@doe.com' } })\nI.dontSeeResponseContainsJson({ user: 2 })\n```\n\n## 3.3.3\n\n- Fixed `DataCloneError: () => could not be cloned` when running data tests in run-workers\n- 🇺🇦 Added #StandWithUkraine notice to CLI\n\n## 3.3.2\n\n- [REST] Fixed override of headers/token in `haveRequestHeaders()` and `amBearerAuthenticated()`. See #3304 by @mirao\n- Reverted typings change introduced in #3245. [More details on this](https://twitter.com/CodeceptJS/status/1519725963856207873)\n\n## 3.3.1\n\n🛩️ Features:\n\n- Add option to avoid duplicate gherkin step definitions (#3257) - @raywiis\n- Added `step.*` for run-workers #3272. Thanks to @abhimanyupandian\n- Fixed loading tests for `codecept run` using glob patterns. By @jayudey-wf\n\n```\nnpx codeceptjs run test-dir/*\"\n```\n\n- [Playwright] **Possible breaking change.** By default `timeout` is changed to 5000ms. The value set in 3.3.0 was too low. Please set `timeout` explicitly to not depend on release values.\n- [Playwright] Added for color scheme option by @PeterNgTr\n\n```js\n helpers: {\n  Playwright : {\n    url: \"http://localhost\",\n    colorScheme: \"dark\",\n  }\n }\n```\n\n🐛 Bugfixes:\n\n- [Playwright] Fixed `Cannot read property 'video' of undefined`\n- Fixed haveRequestHeaders() and amBearerAuthenticated() of REST helper (#3260) - @mirao\n- Fixed: allure attachment fails if screenshot failed #3298 by @ruudvanderweijde\n- Fixed #3105 using autoLogin() plugin with TypeScript. Fix #3290 by @PeterNgTr\n- [Playwright] Added extra params for click and dragAndDrop to type definitions by @mirao\n\n📖 Documentation\n\n- Improving the typings in many places\n- Improving the return type of helpers for TS users (#3245) - @nlespiaucq\n\n## 3.3.0\n\n🛩️ Features:\n\n- [**API Testing introduced**](/api)\n  - Introduced [`JSONResponse`](/helpers/JSONResponse) helper which connects to REST, GraphQL or Playwright helper\n  - [REST] Added `amBearerAuthenticated` method\n  - [REST] Added `haveRequestHeaders` method\n  - Added dependency on `joi` and `chai`\n- [Playwright] Added `timeout` option to set [timeout](https://playwright.dev/docs/api/class-page#page-set-default-timeout) for all Playwright actions. If an action fails, Playwright keeps retrying it for a time set by timeout.\n- [Playwright] **Possible breaking change.** By default `timeout` is set to 1000ms. _Previous default was set by Playwright internally to 30s. This was causing contradiction to CodeceptJS retries, so triggered up to 3 retries for 30s of time. This timeout option was lowered so retryFailedStep plugin would not cause long delays._\n- [Playwright] Updated `restart` config option to include 3 restart strategies:\n  - 'context' or **false** - restarts [browser context](https://playwright.dev/docs/api/class-browsercontext) but keeps running browser. Recommended by Playwright team to keep tests isolated.\n  - 'browser' or **true** - closes browser and opens it again between tests.\n  - 'session' or 'keep' - keeps browser context and session, but cleans up cookies and localStorage between tests. The fastest option when running tests in windowed mode. Works with `keepCookies` and `keepBrowserState` options. This behavior was default prior CodeceptJS 3.1\n- [Playwright] Extended methods to provide more options from engine. These methods were updated so additional options can be be passed as the last argument:\n  - [`click`](/helpers/Playwright#click)\n  - [`dragAndDrop`](/helpers/Playwright#dragAndDrop)\n  - [`checkOption`](/helpers/Playwright#checkOption)\n  - [`uncheckOption`](/helpers/Playwright#uncheckOption)\n\n```js\n// use Playwright click options as 3rd argument\nI.click('canvas', '.model', { position: { x: 20, y: 40 } })\n// check option also has options\nI.checkOption('Agree', '.signup', { position: { x: 5, y: 5 } })\n```\n\n- `eachElement` plugin introduced. It allows you to iterate over elements and perform some action on them using direct engines API\n\n```js\nawait eachElement('click all links in .list', '.list a', (el) => {\n  await el.click();\n})\n```\n\n- [Playwright] Added support to `playwright-core` package if `playwright` is not installed. See #3190, fixes #2663.\n- [Playwright] Added `makeApiRequest` action to perform API requests. Requires Playwright >= 1.18\n- Added support to `codecept.config.js` for name consistency across other JS tools. See motivation at #3195 by @JiLiZART\n- [ApiDataFactory] Added options arg to `have` method. See #3197 by @JJlokidoki\n- Improved pt-br translations to include keywords: 'Funcionalidade', 'Cenário', 'Antes', 'Depois', 'AntesDaSuite', 'DepoisDaSuite'. See #3206 by @danilolutz\n- [allure plugin] Introduced `addStep` method to add comments and attachments. See #3104 by @EgorBodnar\n\n🐛 Bugfixes:\n\n- Fixed #3212: using Regex flags for Cucumber steps. See #3214 by @anils92\n\n📖 Documentation\n\n- Added [Testomat.io reporter](/reports#testomatio)\n- Added [api testing](/api) guides\n- Added [internal api](/internal-api) guides\n- [Appium] Fixed documentation for `performSwipe`\n- [Playwright] update docs for `usePlaywrightTo` method by @dbudzins\n\n## 3.2.3\n\n- Documentation improvements by @maojunxyz\n- Guard mocha cli reporter from registering step logger multiple times #3180 by @nikocanvacom\n- [Playwright] Fixed \"tracing.stop: tracing.stop: ENAMETOOLONG: name too long\" by @hatufacci\n- Fixed #2889: return always the same error contract from simplifyTest. See #3168 by @andremoah\n\n## 3.2.2\n\n- [Playwright] Reverted removal of retry on context errors. Fixes #3130\n- Timeout improvements by @nikocanvacom:\n  - Added priorites to timeouts\n  - Added `overrideStepLimits` to [stepTimeout plugin](https://codecept.io/plugins/#steptimeout) to override steps timeouts set by `limitTime`.\n  - Fixed step timeout not working due to override by NaN by test timeout #3126\n- [Appium] Fixed logging error when `manualStart` is true. See #3140 by @nikocanvacom\n\n## 3.2.1\n\n> ♻️ This release fixes hanging of tests by reducing timeouts for automatic retries on failures.\n\n- [retryFailedStep plugin] **New Defaults**: retries steps up to 3 times with factor of 1.5 (previously 5 with factor 2)\n- [Playwright] - disabled retry on failed context actions (not needed anymore)\n- [Puppeteer] - reduced retries on context failures to 3 times.\n- [Playwright] Handling `crash` event to automatically close crashed pages.\n\n## 3.2.0\n\n🛩️ Features:\n\n**[Timeouts](https://codecept.io/advanced/#timeout) implemented**\n\n- global timeouts (via `timeout` config option).\n  - _Breaking change:_ timeout option expects **timeout in seconds**, not in milliseconds as it was previously.\n- test timeouts (via `Scenario` and `Feature` options)\n  - _Breaking change:_ `Feature().timeout()` and `Scenario().timeout()` calls has no effect and are deprecated\n\n```js\n// set timeout for every test in suite to 10 secs\nFeature('tests with timeout', { timeout: 10 })\n\n// set timeout for this test to 20 secs\nScenario('a test with timeout', { timeout: 20 }, ({ I }) => {})\n```\n\n- step timeouts (See #3059 by @nikocanvacom)\n\n```js\n// set step timeout to 5 secs\nI.limitTime(5).click('Link')\n```\n\n- `stepTimeout` plugin introduced to automatically add timeouts for each step (#3059 by @nikocanvacom).\n\n[**retryTo**](/plugins/#retryto) plugin introduced to rerun a set of steps on failure:\n\n```js\n// editing in text in iframe\n// if iframe was not loaded - retry 5 times\nawait retryTo(() => {\n  I.switchTo('#editor frame')\n  I.fillField('textarea', 'value')\n}, 5)\n```\n\n- [Playwright] added `locale` configuration\n- [WebDriver] upgraded to webdriverio v7\n\n🐛 Bugfixes:\n\n- Fixed allure plugin \"Unexpected endStep()\" error in #3098 by @abhimanyupandian\n- [Puppeteer] always close remote browser on test end. See #3054 by @mattonem\n- stepbyStepReport Plugin: Disabled screenshots after test has failed. See #3119 by @ioannisChalkias\n\n## 3.1.3\n\n🛩️ Features:\n\n- BDD Improvement. Added `DataTableArgument` class to work with table data structures.\n\n```js\nconst { DataTableArgument } = require('codeceptjs');\n//...\nGiven('I have an employee card', (table) => {\n  const dataTableArgument = new DataTableArgument(table);\n  const hashes = dataTableArgument.hashes();\n  // hashes = [{ name: 'Harry', surname: 'Potter', position: 'Seeker' }];\n  const rows = dataTableArgument.rows();\n  // rows = [['Harry', 'Potter', Seeker]];\n  }\n```\n\nSee updated [BDD section](https://codecept.io/bdd/) for more API options. Thanks to @EgorBodnar\n\n- Support `cjs` file extensions for config file: `codecept.conf.cjs`. See #3052 by @kalvenschraut\n- API updates: Added `test.file` and `suite.file` properties to `test` and `suite` objects to use in helpers and plugins.\n\n🐛 Bugfixes:\n\n- [Playwright] Fixed resetting `test.artifacts` for failing tests. See #3033 by @jancorvus. Fixes #3032\n- [Playwright] Apply `basicAuth` credentials to all opened browser contexts. See #3036 by @nikocanvacom. Fixes #3035\n- [WebDriver] Updated `webdriverio` default version to `^6.12.1`. See #3043 by @sridhareaswaran\n- [Playwright] `I.haveRequestHeaders` affects all tabs. See #3049 by @jancorvus\n- BDD: Fixed unhandled empty feature files. Fix #3046 by @abhimanyupandian\n- Fixed `RangeError: Invalid string length` in `recorder.js` when running huge amount of tests.\n- [Appium] Fixed definitions for `touchPerform`, `hideDeviceKeyboard`, `removeApp` by @mirao\n\n📖 Documentation:\n\n- Added Testrail reporter [Reports Docs](https://codecept.io/reports/#testrail)\n\n## 3.1.2\n\n🛩️ Features:\n\n- Added `coverage` plugin to generate code coverage for Playwright & Puppeteer. By @anirudh-modi\n- Added `subtitle` plugin to generate subtitles for videos recorded with Playwright. By @anirudh-modi\n- Configuration: `config.tests` to accept array of file patterns. See #2994 by @monsteramba\n\n```js\nexports.config = {\n  tests: ['./*_test.js', './sampleTest.js'],\n  // ...\n}\n```\n\n- Notification is shown for test files without `Feature()`. See #3011 by @PeterNgTr\n\n🐛 Bugfixes:\n\n- [Playwright] Fixed #2986 error is thrown when deleting a missing video. Fix by @hatufacci\n- Fixed false positive result when invalid function is called in a helper. See #2997 by @abhimanyupandian\n- [Appium] Removed full page mode for `saveScreenshot`. See #3002 by @nlespiaucq\n- [Playwright] Fixed #3003 saving trace for a test with a long name. Fix by @hatufacci\n\n🎱 Other:\n\n- Deprecated `puppeteerCoverage` plugin in favor of `coverage` plugin.\n\n## 3.1.1\n\n- [Appium] Fixed #2759\n  `grabNumberOfVisibleElements`, `grabAttributeFrom`, `grabAttributeFromAll` to allow id locators.\n\n## 3.1.0\n\n- [Plawyright] Updated to Playwright 1.13\n- [Playwright] **Possible breaking change**: `BrowserContext` is initialized before each test and closed after. This behavior matches recommendation from Playwright team to use different contexts for tests.\n- [Puppeteer] Updated to Puppeteer 10.2.\n- [Protractor] Helper deprecated\n\n🛩️ Features:\n\n- [Playwright] Added recording of [video](https://codecept.io/playwright/#video) and [traces](https://codecept.io/playwright/#trace) by @davertmik\n- [Playwritght] [Mocking requests](https://codecept.io/playwright/#mocking-network-requests) implemented via `route` API of Playwright by @davertmik\n- [Playwright] Added **support for [React locators](https://codecept.io/react/#locators)** in #2912 by @AAAstorga\n\n🐛 Bugfixes:\n\n- [Puppeteer] Fixed #2244 `els[0]._clickablePoint is not a function` by @karunandrii.\n- [Puppeteer] Fixed `fillField` to check for invisible elements. See #2916 by @anne-open-xchange\n- [Playwright] Reset of dialog event listener before registration of new one. #2946 by @nikocanvacom\n- Fixed running Gherkin features with `run-multiple` using chunks. See #2900 by @andrenoberto\n- Fixed #2937 broken typings for subfolders on Windows by @jancorvus\n- Fixed issue where cucumberJsonReporter not working with fakerTransform plugin. See #2942 by @ilangv\n- Fixed #2952 finished job with status code 0 when playwright cannot connect to remote wss url. By @davertmik\n\n## 3.0.7\n\n📖 Documentation fixes:\n\n- Remove broken link from `Nightmare helper`. See #2860 by @Arhell\n- Fixed broken links in `playwright.md`. See #2848 by @johnhoodjr\n- Fix mocha-multi config example. See #2881 by @rimesc\n- Fix small errors in email documentation file. See #2884 by @mkrtchian\n- Improve documentation for `Sharing Data Between Workers` section. See #2891 by @ngraf\n\n🛩️ Features:\n\n- [WebDriver] Shadow DOM Support for `Webdriver`. See #2741 by @gkushang\n- [Release management] Introduce the versioning automatically, it follows the semantics versioning. See #2883 by @PeterNgTr\n- Adding opts into `Scenario.skip` that it would be useful for building reports. See #2867 by @AlexKo4\n- Added support for attaching screenshots to [cucumberJsonReporter](https://github.com/ktryniszewski-mdsol/codeceptjs-cucumber-json-reporter) See #2888 by @fijijavis\n- Supported config file for `codeceptjs shell` command. See #2895 by @PeterNgTr:\n\n```\nnpx codeceptjs shell -c foo.conf.js\n```\n\nBug fixes:\n\n- [GraphQL] Use a helper-specific instance of Axios to avoid contaminating global defaults. See #2868 by @vanvoljg\n- A default system color is used when passing non supported system color when using I.say(). See #2874 by @PeterNgTr\n- [Playwright] Avoid the timout due to calling the click on invisible elements. See #2875 by cbayer97\n\n## 3.0.6\n\n- [Playwright] Added `electron` as a browser to config. See #2834 by @cbayer97\n- [Playwright] Implemented `launchPersistentContext` to be able to launch persistent remote browsers. See #2817 by @brunoqueiros. Fixes #2376.\n- Fixed printing logs and stack traces for `run-workers`. See #2857 by @haveac1gar. Fixes #2621, #2852\n- Emit custom messages from worker to the main thread. See #2824 by @jccguimaraes\n- Improved workers processes output. See #2804 by @drfiresign\n- BDD. Added ability to use an array of feature files inside config in `gherkin.features`. See #2814 by @jbergeronjr\n\n```js\n\"features\": [\n  \"./features/*.feature\",\n  \"./features/api_features/*.feature\"\n],\n```\n\n- Added `getQueueId` to reporter to rerun a specific promise. See #2837 by @jonatask\n- **Added `fakerTransform` plugin** to use faker data in Gherkin scenarios. See #2854 by @adrielcodeco\n\n```feature\nScenario Outline: ...\n  Given ...\n  When ...\n  Then ...\n\n  Examples:\n  | productName          | customer              | email              | anythingMore |\n  | {{commerce.product}} | Dr. {{name.findName}} | {{internet.email}} | staticData   |\n```\n\n- [REST] Use class instance of axios, not the global instance, to avoid contaminating global configuration. #2846 by @vanvoljg\n- [Appium] Added `tunnelIdentifier` config option to provide tunnel for SauceLabs. See #2832 by @gurjeetbains\n\n## 3.0.5\n\nFeatures:\n\n- **[Official Docker image for CodeceptJS v3](https://hub.docker.com/r/codeceptjs/codeceptjs)**. New Docker image is based on official Playwright image and supports Playwright, Puppeteer, WebDriver engines. Thanks @VikentyShevyrin\n- Better support for Typescript `codecept.conf.ts` configuration files. See #2750 by @elaichenkov\n- Propagate more events for custom parallel script. See #2796 by @jccguimaraes\n- [mocha-junit-reporter] Now supports attachments, see documentation for details. See #2675 by @Shard\n- CustomLocators interface for TypeScript to extend from LocatorOrString. See #2798 by @danielrentz\n- [REST] Mask sensitive data from log messages.\n\n```js\nI.sendPatchRequest('/api/users.json', secret({ email: 'user@user.com' }))\n```\n\nSee #2786 by @PeterNgTr\n\nBug fixes:\n\n- Fixed reporting of nested steps with PageObjects and BDD scenarios. See #2800 by @davertmik. Fixes #2720 #2682\n- Fixed issue with `codeceptjs shell` which was broken since 3.0.0. See #2743 by @stedman\n- [Gherkin] Fixed issue suppressed or hidden errors in tests. See #2745 by @ktryniszewski-mdsol\n- [Playwright] fix grabCssPropertyFromAll serialization by using property names. See #2757 by @elaichenkov\n- [Allure] fix report for multi sessions. See #2771 by @cbayer97\n- [WebDriver] Fix locator object debug log messages in smart wait. See 2748 by @elaichenkov\n\nDocumentation fixes:\n\n- Fixed some broken examples. See #2756 by @danielrentz\n- Fixed Typescript typings. See #2747, #2758 and #2769 by @elaichenkov\n- Added missing type for xFeature. See #2754 by @PeterNgTr\n- Fixed code example in Page Object documentation. See #2793 by @mkrtchian\n\nLibrary updates:\n\n- Updated Axios to 0.21.1. See by @sseide\n- Updated @pollyjs/core @pollyjs/adapter-puppeteer. See #2760 by @Anikethana\n\n## 3.0.4\n\n- **Hotfix** Fixed `init` script by adding `cross-spawn` package. By @vipulgupta2048\n- Fixed handling error during initialization of `run-multiple`. See #2730 by @wagoid\n\n## 3.0.3\n\n- **Playwright 1.7 support**\n- [Playwright] Fixed handling null context in click. See #2667 by @matthewjf\n- [Playwright] Fixed `Cannot read property '$$' of null` when locating elements. See #2713 by @matthewjf\n- Command `npx codeceptjs init` improved\n  - auto-installing required packages\n  - better error messages\n  - fixed generating type definitions\n- Data Driven Tests improvements: instead of having one skipped test for data driven scenarios when using xData you get a skipped test for each entry in the data table. See #2698 by @Georgegriff\n- [Puppeteer] Fixed that `waitForFunction` was not working with number values. See #2703 by @MumblesNZ\n- Enabled autocompletion for custom helpers. #2695 by @PeterNgTr\n- Emit test.after on workers. Fix #2693 by @jccguimaraes\n- TypeScript: Allow .ts config files. See #2708 by @elukoyanov\n- Fixed definitions generation errors by @elukoyanov. See #2707 and #2718\n- Fixed handing error in \\_after function; for example, browser is closed during test and tests executions is stopped, but error was not logged. See #2715 by @elukoyanov\n- Emit hook.failed in workers. Fix #2723 by @jccguimaraes\n- [wdio plugin] Added `seleniumArgs` and `seleniumInstallArgs` config options for plugin. See #2687 by @andrerleao\n- [allure plugin] Added `addParameter` method in #2717 by @jancorvus. Fixes #2716\n- Added mocha-based `--reporter-options` and `--reporter <name>` commands to `run-workers` command by in #2691 @Ameterezu\n- Fixed infinite loop for junit reports. See #2691 @Ameterezu\n- Added status, start/end time, and match line for BDD steps. See #2678 by @ktryniszewski-mdsol\n- [stepByStepReport plugin] Fixed \"helper.saveScreenshot is not a function\". Fix #2688 by @andrerleao\n\n## 3.0.2\n\n- [Playwright] Fix connection close with remote browser. See #2629 by @dipiash\n- [REST] set maxUploadFileSize when performing api calls. See #2611 by @PeterNgTr\n- Duplicate Scenario names (combined with Feature name) are now detected via a warning message.\n  Duplicate test names can cause `codeceptjs run-workers` to not function. See #2656 by @Georgegriff\n- Documentation fixes\n\nBug Fixes:\n\n- --suites flag now should function correctly for `codeceptjs run-workers`. See #2655 by @Georgegriff\n- [autoLogin plugin] Login methods should now function as expected with `codeceptjs run-workers`. See #2658 by @Georgegriff, resolves #2620\n\n## 3.0.1\n\n♨️ Hot fix:\n\n- Lock the mocha version to avoid the errors. See #2624 by PeterNgTr\n\n🐛 Bug Fix:\n\n- Fixed error handling in Scenario.js. See #2607 by haveac1gar\n- Changing type definition in order to allow the use of functions with any number of any arguments. See #2616 by akoltun\n\n- Some updates/changes on documentations\n\n## 3.0.0\n\n> [ 👌 **LEARN HOW TO UPGRADE TO CODECEPTJS 3 ➡**](https://bit.ly/codecept3Up)\n\n- Playwright set to be a default engine.\n- **NodeJS 12+ required**\n- **BREAKING CHANGE:** Syntax for tests has changed.\n\n```js\n// Previous\nScenario('title', (I, loginPage) => {})\n\n// Current\nScenario('title', ({ I, loginPage }) => {})\n```\n\n- **BREAKING** Replaced bootstrap/teardown scripts to accept only functions or async functions. Async function with callback (with done parameter) should be replaced with async/await. [See our upgrade guide](https://bit.ly/codecept3Up).\n- **[TypeScript guide](/typescript)** and [boilerplate project](https://github.com/codeceptjs/typescript-boilerplate)\n- [tryTo](/plugins/#tryto) and [pauseOnFail](/plugins/#pauseOnFail) plugins installed by default\n- Introduced one-line installer:\n\n```\nnpx create-codeceptjs .\n```\n\nRead changelog to learn more about version 👇\n\n## 3.0.0-rc\n\n- Moved [Helper class into its own package](https://github.com/codeceptjs/helper) to simplify publishing standalone helpers.\n- Fixed typings for `I.say` and `I.retry` by @Vorobeyko\n- Updated documentation:\n  - [Quickstart](https://github.com/codeceptjs/CodeceptJS/blob/codeceptjs-v3.0/docs/quickstart.md#quickstart)\n  - [Best Practices](https://github.com/codeceptjs/CodeceptJS/blob/codeceptjs-v3.0/docs/best.md)\n  - [Custom Helpers](https://github.com/codeceptjs/CodeceptJS/blob/codeceptjs-v3.0/docs/custom-helpers.md)\n  - [TypeScript](https://github.com/codeceptjs/CodeceptJS/blob/codeceptjs-v3.0/docs/typescript.md)\n\n## 3.0.0-beta.4\n\n🐛 Bug Fix:\n\n- PageObject was broken when using \"this\" inside a simple object.\n- The typings for all WebDriver methods work correctly.\n- The typings for \"this.helper\" and helper constructor work correctly, too.\n\n🧤 Internal:\n\n- Our TS Typings will be tested now! We strarted using [dtslint](https://github.com/microsoft/dtslint) to check all typings and all rules for linter.\n  Example:\n\n```ts\nconst psp = wd.grabPageScrollPosition() // $ExpectType Promise<PageScrollPosition>\npsp.then((result) => {\n  result.x // $ExpectType number\n  result.y // $ExpectType number\n})\n```\n\n- And last: Reducing package size from 3.3Mb to 2.0Mb\n\n## 3.0.0-beta-3\n\n- **BREAKING** Replaced bootstrap/teardown scripts to accept only functions or async functions. Async function with callback (with done parameter) should be replaced with async/await. [See our upgrde guide](https://bit.ly/codecept3Up).\n- Test artifacts introduced. Each test object has `artifacts` property, to keep attachment files. For instance, a screenshot of a failed test is attached to a test as artifact.\n- Improved output for test execution\n  - Changed colors for steps output, simplified\n  - Added stack trace for test failures\n  - Removed `Event emitted` from log in `--verbose` mode\n  - List artifacts of a failed tests\n\n![](https://user-images.githubusercontent.com/220264/82160052-397bf800-989b-11ea-81c0-8e58b3d33525.png)\n\n- Steps & metasteps refactored by @Vorobeyko. Logs to arguments passed to page objects:\n\n```js\n// TEST:\nMyPage.hasFiles('first arg', 'second arg');\n\n// OUTPUT:\nMyPage: hasFile \"First arg\", \"Second arg\"\n  I see file \"codecept.js\"\n  I see file \"codecept.po.json\"\n```\n\n- Introduced official [TypeScript boilerplate](https://github.com/codeceptjs/typescript-boilerplate). Started by @Vorobeyko.\n\n## 3.0.0-beta\n\n- **NodeJS 12+ required**\n- **BREAKING CHANGE:** Syntax for tests has changed.\n\n```js\n// Previous\nScenario('title', (I, loginPage) => {})\n\n// Current\nScenario('title', ({ I, loginPage }) => {})\n```\n\n- **BREAKING CHANGE:** [WebDriver][Protractor][Puppeteer][Playwright][Nightmare] `grab*` functions unified:\n  - `grab*From` => **returns single value** from element or throws error when no matchng elements found\n  - `grab*FromAll` => returns array of values, or empty array when no matching elements\n- Public API for workers introduced by @koushikmohan1996. [Customize parallel execution](https://github.com/Codeception/CodeceptJS/blob/codeceptjs-v3.0/docs/parallel.md#custom-parallel-execution) with workers by building custom scripts.\n\n- [Playwright] Added `usePlaywrightTo` method to access Playwright API in tests directly:\n\n```js\nI.usePlaywrightTo('do something special', async ({ page }) => {\n  // use page or browser objects here\n})\n```\n\n- [Puppeteer] Introduced `usePuppeteerTo` method to access Puppeteer API:\n\n```js\nI.usePuppeteerTo('do something special', async ({ page, browser }) => {\n  // use page or browser objects here\n})\n```\n\n- [WebDriver] Introduced `useWebDriverTo` method to access webdriverio API:\n\n```js\nI.useWebDriverTo('do something special', async ({ browser }) => {\n  // use browser object here\n})\n```\n\n- [Protractor] Introduced `useProtractorTo` method to access protractor API\n- `tryTo` plugin introduced. Allows conditional action execution:\n\n```js\nconst isSeen = await tryTo(() => {\n  I.see('Some text')\n})\n// we are not sure if cookie bar is displayed, but if so - accept cookies\ntryTo(() => I.click('Accept', '.cookies'))\n```\n\n- **Possible breaking change** In semantic locators `[` char indicates CSS selector.\n\n## 2.6.11\n\n- [Playwright] Playwright 1.4 compatibility\n- [Playwright] Added `ignoreHTTPSErrors` config option (default: false). See #2566 by gurjeetbains\n- Added French translation by @vimar\n- [WebDriver] Updated `dragSlider` to work in WebDriver W3C protocol. Fixes #2557 by suniljaiswal01\n\n## 2.6.10\n\n- Fixed saving options for suite via `Feature('title', {key: value})` by @Diokuz. See #2553 and [Docs](https://codecept.io/advanced/#dynamic-configuration)\n\n## 2.6.9\n\n- [Puppeteer][Playwright] SessionStorage is now cleared in after hook. See #2524\n- When helper load failed the error stack is now logged by @SkReD. See #2541\n- Small documentation fixes.\n\n## 2.6.8\n\n- [WebDriver][Protractor][Playwright][Puppeteer][Nightmare] `saveElementScreenshot` method added to make screenshot of an element. By @suniljaiswal01\n- [Playwright][Puppeteer] Added `type` method to type a text using keyboard with an optional delay.\n- [WebDriver] Added optional `delay` argument to `type` method to slow down typing.\n- [Puppeteer] Fixed `amOnPage` freeze when `getPageTimeout` is 0\"; set 30 sec as default timeout by @Vorobeyko.\n- Fixed printing step with null argument in custom helper by @sjana-aj. See #2494\n- Fix missing screenshot on failure when REST helper is in use #2513 by @PeterNgTr\n- Improve error logging in the `screenshotOnFail` plugin #2512 by @pablopaul\n\n## 2.6.7\n\n- Add REST helper into `standardActingHelpers` array #2474 by @PeterNgTr\n- Add missing `--invert` option for `run-workers` command #2504 by @pablopaul\n- [WebDriver] Introduce `forceRightClick` method #2485 bylsuniljaiswal01\n- [Playwright] Fix `setCookie` method #2491 by @bmbarker90\n- [TypeScript] Update compilerOptions.target to es2017 #2483 by @shanplourde\n- [Mocha] Honor reporter configuration #2465 by @trinhpham\n\n## 2.6.6\n\n- Puppeteer 4.0 support. Important: MockRequest helper won't work with Puppeter > 3.3\n- Added `xFeature` and `Feature.skip` to skip all tests in a suite. By @Georgegriff\n- [Appium] Fixed #2428 Android native locator support by @idxn\n- [WebDriver] Fixed `waitNumberOfVisibleElements` to actually filter visible elements. By @ilangv\n- [Puppeteer] Fixed handling error which is not an Error object. Fixes `cannot read property indexOf of undefined` error. Fix #2436 by @Georgegriff\n- [Puppeteer] Print error on page crash by @Georgegriff\n\n## 2.6.5\n\n- Added `test.skipped` event to run-workers, fixing allure reports with skipped tests in workers #2391. Fix #2387 by @koushikmohan1996\n- [Playwright] Fixed calling `waitFor*` methods with custom locators #2314. Fix #2389 by @Georgegriff\n\n## 2.6.4\n\n- [Playwright] **Playwright 1.0 support** by @Georgegriff.\n\n## 2.6.3\n\n- [stepByStepReport plugin] Fixed when using plugin with BeforeSuite. Fixes #2337 by @mirao\n- [allure plugin] Fixed reporting of tests skipped by failure in before hook. Refer to #2349 & #2354. Fix by @koushikmohan1996\n\n## 2.6.2\n\n- [WebDriver][Puppeteer] Added `forceClick` method to emulate click event instead of using native events.\n- [Playwright] Updated to 0.14\n- [Puppeteer] Updated to Puppeteer v3.0\n- [wdio] Fixed undefined output directory for wdio plugns. Fix By @PeterNgTr\n- [Playwright] Introduced `handleDownloads` method to download file. Please note, this method has slightly different API than the same one in Puppeteer.\n- [allure] Fixed undefined output directory for allure plugin on using custom runner. Fix by @charliepradeep\n- [WebDriver] Fixed `waitForEnabled` fix for webdriver 6. Fix by @dsharapkou\n- Workers: Fixed negative failure result if use scenario with the same names. Fix by @Vorobeyko\n- [MockRequest] Updated documentation to match new helper version\n- Fixed: skipped tests are not reported if a suite failed in `before`. Refer #2349 & #2354. Fix by @koushikmohan1996\n\n## 2.6.1\n\n- [screenshotOnFail plugin] Fixed saving screenshot of active session.\n- [screenshotOnFail plugin] Fix issue #2301 when having the flag `uniqueScreenshotNames`=true results in `undefined` in screenshot file name by @PeterNgTr\n- [WebDriver] Fixed `waitForElement` not applying the optional second argument to override the default timeout in webdriverio 6. Fix by @Mooksc\n- [WebDriver] Updated `waitUntil` method which is used by all of the wait\\* functions. This updates the `waitForElement` by the same convention used to update `waitForVisible` and `waitInUrl` to be compatible with both WebDriverIO v5 & v6. See #2313 by @Mooksc\n\n## 2.6.0\n\n- **[Playwright] Updated to Playwright 0.12** by @Georgegriff.\n\nUpgrade playwright to ^0.12:\n\n```\nnpm i playwright@^0.12 --save\n```\n\n[Notable changes](https://github.com/microsoft/playwright/releases/tag/v0.12.0):\n\n- Fixed opening two browsers on start\n- `executeScript` - passed function now accepts only one argument. Pass in objects or arrays if you need multtple arguments:\n\n```js\n// Old style, does not work anymore:\nI.executeScript((x, y) => x + y, x, y)\n// New style, passing an object:\nI.executeScript(({ x, y }) => x + y, { x, y })\n```\n\n- `click` - automatically waits for element to become clickable (visible, not animated) and waits for navigation.\n- `clickLink` - deprecated\n- `waitForClickable` - deprecated\n- `forceClick` - added\n- Added support for custom locators. See #2277\n- Introduced [device emulation](/playwright/#device-emulation):\n  - globally via `emulate` config option\n  - per session\n\n**[WebDriver] Updated to webdriverio v6** by @PeterNgTr.\n\nRead [release notes](https://webdriver.io/blog/2020/03/26/webdriverio-v6-released.html), then\nupgrade webdriverio to ^6.0:\n\n```\nnpm i webdriverio@^6.0 --save\n```\n\n_(webdriverio v5 support is deprecated and will be removed in CodeceptJS 3.0)_\n\n[WebDriver] Introduced [Shadow DOM support](/shadow) by @gkushang\n\n```js\nI.click({ shadow: ['my-app', 'recipe-hello', 'button'] })\n```\n\n- **Fixed parallel execution of `run-workers` for Gherkin** scenarios by @koushikmohan1996\n- [MockRequest] Updated and **moved to [standalone package](https://github.com/codeceptjs/mock-request)**:\n  - full support for record/replay mode for Puppeteer\n  - added `mockServer` method to use flexible PollyJS API to define mocks\n  - fixed stale browser screen in record mode.\n- [Playwright] Added support on for `screenshotOnFail` plugin by @amonkc\n- Gherkin improvement: setting different tags per examples. See #2208 by @acuper\n- [TestCafe] Updated `click` to take first visible element. Fixes #2226 by @theTainted\n- [Puppeteer][WebDriver] Updated `waitForClickable` method to check for element overlapping. See #2261 by @PiQx\n- [Puppeteer] Dropped `puppeteer-firefox` support, as Puppeteer supports Firefox natively.\n- [REST] Rrespect Content-Type header. See #2262 by @pmarshall-legacy\n- [allure plugin] Fixes BeforeSuite failures in allure reports. See #2248 by @Georgegriff\n- [WebDriver][Puppeteer][Playwright] A screenshot of for an active session is saved in multi-session mode. See #2253 by @ChexWarrior\n- Fixed `--profile` option by @pablopaul. Profile value to be passed into `run-multiple` and `run-workers`:\n\n```\nnpx codecept run-workers 2 --profile firefox\n```\n\nValue is available at `process.env.profile` (previously `process.profile`). See #2302. Fixes #1968 #1315\n\n- [commentStep Plugin introduced](/plugins#commentstep). Allows to annotate logical parts of a test:\n\n```js\n__`Given`\nI.amOnPage('/profile')\n\n__`When`\nI.click('Logout')\n\n__`Then`\nI.see('You are logged out')\n```\n\n## 2.5.0\n\n- **Experimental: [Playwright](/playwright) helper introduced**.\n\n> [Playwright](https://github.com/microsoft/playwright/) is an alternative to Puppeteer which works very similarly to it but adds cross-browser support with Firefox and Webkit. Until v1.0 Playwright API is not stable but we introduce it to CodeceptJS so you could try it.\n\n- [Puppeteer] Fixed basic auth support when running in multiple sessions. See #2178 by @ian-bartholomew\n- [Puppeteer] Fixed `waitForText` when there is no `body` element on page (redirect). See #2181 by @Vorobeyko\n- [Selenoid plugin] Fixed overriding current capabilities by adding deepMerge. Fixes #2183 by @koushikmohan1996\n- Added types for `Scenario.todo` by @Vorobeyko\n- Added types for Mocha by @Vorobeyko. Fixed typing conflicts with Jest\n- [FileSystem] Added methods by @nitschSB\n  - `waitForFile`\n  - `seeFileContentsEqualReferenceFile`\n- Added `--colors` option to `run` and `run-multiple` so you force colored output in dockerized environment. See #2189 by @mirao\n- [WebDriver] Added `type` command to enter value without focusing on a field. See #2198 by @xMutaGenx\n- Fixed `codeceptjs gt` command to respect config pattern for tests. See #2200 and #2204 by @matheo\n\n## 2.4.3\n\n- Hotfix for interactive pause\n\n## 2.4.2\n\n- **Interactive pause improvements** by @koushikmohan1996\n  - allows using in page objects and variables: `pause({ loginPage, a })`\n  - enables custom commands inside pause with `=>` prefix: `=> loginPage.open()`\n- [Selenoid plugin](/plugins#selenoid) added by by @koushikmohan1996\n  - uses Selenoid to launch browsers inside Docker containers\n  - automatically **records videos** and attaches them to allure reports\n  - can delete videos for successful tests\n  - can automatically pull in and start Selenoid containers\n  - works with WebDriver helper\n- Avoid failiure report on successful retry in worker by @koushikmohan1996\n- Added translation ability to Scenario, Feature and other context methods by @koushikmohan1996\n  - 📢 Please help us translate context methods to your language! See [italian translation](https://github.com/codeceptjs/CodeceptJS/blob/master/translations/it-IT.js#L3) as an example and send [patches to vocabularies](https://github.com/codeceptjs/CodeceptJS/tree/master/translations).\n- allurePlugin: Added `say` comments to allure reports by @PeterNgTr.\n- Fixed no custom output folder created when executed with run-worker. Fix by @PeterNgTr\n- [Puppeteer] Fixed error description for context element not found. See #2065. Fix by @PeterNgTr\n- [WebDriver] Fixed `waitForClickable` to wait for exact number of seconds by @mirao. Resolves #2166\n- Fixed setting `compilerOptions` in `jsconfig.json` file on init by @PeterNgTr\n- [Filesystem] Added method by @nitschSB\n  - `seeFileContentsEqualReferenceFile`\n  - `waitForFile`\n\n## 2.4.1\n\n- [Hotfix] - Add missing lib that prevents codeceptjs from initializing.\n\n## 2.4.0\n\n- Improved setup wizard with `npx codecept init`:\n  - **enabled [retryFailedStep](/plugins/#retryfailedstep) plugin for new setups**.\n  - enabled [@codeceptjs/configure](/configuration/#common-configuration-patterns) to toggle headless/window mode via env variable\n  - creates a new test on init\n  - removed question on \"steps file\", create it by default.\n- Added [pauseOnFail plugin](/plugins/#pauseonfail). _Sponsored by Paul Vincent Beigang and his book \"[Practical End 2 End Testing with CodeceptJS](https://leanpub.com/codeceptjs/)\"_.\n- Added [`run-rerun` command](/commands/#run-rerun) to run tests multiple times to detect and fix flaky tests. By @Ilrilan and @Vorobeyko.\n- Added [`Scenario.todo()` to declare tests as pending](/basics#todotest). See #2100 by @Vorobeyko\n- Added support for absolute path for `output` dir. See #2049 by @elukoyanov\n- Fixed error in `npx codecept init` caused by calling `console.print`. See #2071 by @Atinux.\n- [Filesystem] Methods added by @aefluke:\n  - `seeFileNameMatching`\n  - `grabFileNames`\n- [Puppeteer] Fixed grabbing attributes with hyphen by @Holorium\n- [TestCafe] Fixed `grabAttributeFrom` method by @elukoyanov\n- [MockRequest] Added support for [Polly config options](https://netflix.github.io/pollyjs/#/configuration?id=configuration) by @ecrmnn\n- [TestCafe] Fixes exiting with zero code on failure. Fixed #2090 with #2106 by @koushikmohan1996\n- [WebDriver][Puppeteer] Added basicAuth support via config. Example: `basicAuth: {username: 'username', password: 'password'}`. See #1962 by @PeterNgTr\n- [WebDriver][Appium] Added `scrollIntoView` by @pablopaul\n- Fixed #2118: No error stack trace for syntax error by @senthillkumar\n- Added `parse()` method to data table inside Cucumber tests. Use it to obtain rows and hashes for test data. See #2082 by @Sraime\n\n## 2.3.6\n\n- Create better Typescript definition file through JSDoc. By @lemnis\n- `run-workers` now can use glob pattern. By @Ilrilan\n\n```js\n// Example:\nexports.config = {\n  tests: '{./workers/base_test.workers.js,./workers/test_grep.workers.js}',\n}\n```\n\n- Added new command `npx codeceptjs info` which print information about your environment and CodeceptJS configs. By @jamesgeorge007\n- Fixed some typos in documantation. By @pablopaul @atomicpages @EricTendian\n- Added PULL_REQUEST template.\n- [Puppeteer][WebDriver] Added `waitForClickable` for waiting clickable element on page.\n- [TestCafe] Added support for remote connection. By @jvdieten\n- [Puppeteer] Fixed `waitForText` XPath context now works correctly. By @Heavik\n- [TestCafe] Fixed `clearField` clear field now awaits TestCafe's promise. By @orihomie\n- [Puppeteer] Fixed fails when executing localStorage on services pages. See #2026\n- Fixed empty tags in test name. See #2038\n\n## 2.3.5\n\n- Set \"parse-function\" dependency to \"5.2.11\" to avoid further installation errors.\n\n## 2.3.4\n\n- Fixed installation error \"Cannot find module '@babel/runtime/helpers/interopRequireDefault'\". The issue came from `parse-function` package. Fixed by @pablopaul.\n- [Puppeteer] Fixed switching to iframe without an ID by @johnyb. See #1974\n- Added `--profile` option to `run-workers` by @orihomie\n- Added a tag definition to `FeatureConfig` and `ScenarioConfig` by @sseliverstov\n\n## 2.3.3\n\n- **[customLocator plugin](#customlocator) introduced**. Adds a locator strategy for special test attributes on elements.\n\n```js\n// when data-test-id is a special test attribute\n// enable and configure plugin to replace this\nI.click({ css: '[data-test-id=register_button]');\n// with this\nI.click('$register_button');\n```\n\n- [Puppeteer][WebDriver] `pressKey` improvements by @martomo:\n  Changed pressKey method to resolve issues and extend functionality.\n  - Did not properly recognize 'Meta' (or 'Command') as modifier key.\n  - Right modifier keys did not work in WebDriver using JsonWireProtocol.\n  - 'Shift' + 'key' combination would not reflect actual keyboard behavior.\n  - Respect sequence with multiple modifier keys passed to pressKey.\n  - Added support to automatic change operation modifier key based on operating system.\n- [Puppeteer][WebDriver] Added `pressKeyUp` and `pressKeyDown` to press and release modifier keys like `Control` or `Shift`. By @martomo.\n- [Puppeteer][WebDriver] Added `grabElementBoundingRect` by @PeterNgTr.\n- [Puppeteer] Fixed speed degradation introduced in #1306 with accessibility locators support. See #1953.\n- Added `Config.addHook` to add a function that will update configuration on load.\n- Started [`@codeceptjs/configure`](https://github.com/codeceptjs/configure) package with a collection of common configuration patterns.\n- [TestCafe] port's management removed (left on TestCafe itself) by @orihomie. Fixes #1934.\n- [REST] Headers are no more declared as singleton variable. Fixes #1959\n- Updated Docker image to include run tests in workers with `NUMBER_OF_WORKERS` env variable. By @PeterNgTr.\n\n## 2.3.2\n\n- [Puppeteer] Fixed Puppeteer 1.20 support by @davertmik\n- Fixed `run-workers` to run with complex configs. See #1887 by @nitschSB\n- Added `--suites` option to `run-workers` to split suites by workers (tests of the same suite goes to teh same worker). Thanks @nitschSB.\n- Added a guide on [Email Testing](https://codecept.io/email).\n- [retryFailedStepPlugin] Improved to ignore wait\\* steps and others. Also added option to ignore this plugin per test bases. See [updated documentation](https://codecept.io/plugins#retryfailedstep). By @davertmik\n- Fixed using PageObjects as classes by @Vorobeyko. See #1896\n- [WebDriver] Fixed opening more than one tab. See #1875 by @jplegoff. Fixes #1874\n- Fixed #1891 when `I.retry()` affected retries of next steps. By @davertmik\n\n## 2.3.1\n\n- [MockRequest] Polly helper was renamed to MockRequest.\n- [MockRequest][WebDriver] [Mocking requests](https://codecept.io/webdriver#mocking-requests) is now available in WebDriver. Thanks @radhey1851\n- [Puppeteer] Ensure configured user agent and/or window size is applied to all pages. See #1862 by @martomo\n- Improve handling of xpath locators with round brackets by @nitschSB. See #1870\n- Use WebDriver capabilities config in wdio plugin. #1869 by @quekshuy\n\n## 2.3.0\n\n- **[Parallel testing by workers](https://codecept.io/parallel#parallel-execution-by-workers) introduced** by @VikalpP and @davertmik. Use `run-workers` command as faster and simpler alternative to `run-multiple`. Requires NodeJS v12\n\n```\n# run all tests in parallel using 3 workers\nnpx codeceptjs run-workers 3\n```\n\n- [GraphQL][GraphQLDataFactory] **Helpers for data management over GraphQL** APIs added. By @radhey1851.\n  - Learn how to [use GraphQL helper](https://codecept.io/data#graphql) to access GarphQL API\n  - And how to combine it with [GraphQLDataFactory](https://codecept.io/data#graphql-data-factory) to generate and persist test data.\n- **Updated to use Mocha 6**. See #1802 by @elukoyanov\n- Added `dry-run` command to print steps of test scenarios without running them. Fails to execute scenarios with `grab*` methods or custom code. See #1825 for more details.\n\n```\nnpx codeceptjs dry-run\n```\n\n- [Appium] Optimization when clicking, searching for fields by accessibility id. See #1777 by @gagandeepsingh26\n- [TestCafe] Fixed `switchTo` by @KadoBOT\n- [WebDriver] Added geolocation actions by @PeterNgTr\n  - `grabGeoLocation()`\n  - `setGeoLocation()`\n- [Polly] Check typeof arguments for mock requests by @VikalpP. Fixes #1815\n- CLI improvements by @jamesgeorge007\n  - `codeceptjs` command prints list of all available commands\n  - added `codeceptjs -V` flag to print version information\n  - warns on unknown command\n- Added TypeScript files support to `run-multiple` by @z4o4z\n- Fixed element position bug in locator builder. See #1829 by @AnotherAnkor\n- Various TypeScript typings updates by @elukoyanov and @Vorobeyko\n- Added `event.step.comment` event for all comment steps like `I.say` or gherking steps.\n\n## 2.2.1\n\n- [WebDriver] A [dedicated guide](https://codecept.io/webdriver) written.\n- [TestCafe] A [dedicated guide](https://codecept.io/testcafe) written.\n- [Puppeteer] A [chapter on mocking](https://codecept.io/puppeteer#mocking-requests) written\n- [Puppeteer][Nightmare][TestCafe] Window mode is enabled by default on `codeceptjs init`.\n- [TestCafe] Actions implemented by @hubidu\n  - `grabPageScrollPosition`\n  - `scrollPageToTop`\n  - `scrollPageToBottom`\n  - `scrollTo`\n  - `switchTo`\n- Intellisense improvements. Renamed `tsconfig.json` to `jsconfig.json` on init. Fixed autocompletion for Visual Studio Code.\n- [Polly] Take configuration values from Puppeteer. Fix #1766 by @VikalpP\n- [Polly] Add preconditions to check for puppeteer page availability by @VikalpP. Fixes #1767\n- [WebDriver] Use filename for `uploadFile` by @VikalpP. See #1797\n- [Puppeteer] Configure speed of input with `pressKeyDelay` option. By @hubidu\n- Fixed recursive loading of support objects by @davertmik.\n- Fixed support object definitions in steps.d.ts by @johnyb. Fixes #1795\n- Fixed `Data().Scenario().injectDependencies()` is not a function by @andrerleao\n- Fixed crash when using xScenario & Scenario.skip with tag by @VikalpP. Fixes #1751\n- Dynamic configuration of helpers can be performed with async function. See #1786 by @cviejo\n- Added TS definitions for internal objects by @Vorobeyko\n- BDD improvements:\n  - Fix for snippets command with a .feature file that has special characters by @asselin\n  - Fix `--path` option on `gherkin:snippets` command by @asselin. See #1790\n  - Added `--feature` option to `gherkin:snippets` to enable creating snippets for a subset of .feature files. See #1803 by @asselin.\n- Fixed: dynamic configs not reset after test. Fixes #1776 by @cviejo.\n\n## 2.2.0\n\n- **EXPERIMENTAL** [**TestCafe** helper](https://codecept.io/helpers/TestCafe) introduced. TestCafe allows to run cross-browser tests it its own very fast engine. Supports all browsers including mobile. Thanks to @hubidu for implementation! Please test it and send us feedback.\n- [Puppeteer] Mocking requests enabled by introducing [Polly.js helper](https://codecept.io/helpers/Polly). Thanks @VikalpP\n\n```js\n// use Polly & Puppeteer helpers\nI.mockRequest('GET', '/api/users', 200)\nI.mockRequest('POST', '/users', { user: { name: 'fake' } })\n```\n\n- **EXPERIMENTAL** [Puppeteer] [Firefox support](https://codecept.io/helpers/Puppeteer-firefox) introduced by @ngadiyak, see #1740\n- [stepByStepReportPlugin] use md5 hash to generate reports into unique folder. Fix #1744 by @chimurai\n- Interactive pause improvements:\n  - print result of `grab` commands\n  - print message for successful assertions\n- `run-multiple` (parallel execution) improvements:\n  - `bootstrapAll` must be called before creating chunks. #1741 by @Vorobeyko\n  - Bugfix: If value in config has falsy value then multiple config does not overwrite original value. #1756 by @LukoyanovE\n- Fixed hooks broken in 2.1.5 by @Vorobeyko\n- Fix references to support objects when using Dependency Injection. Fix by @johnyb. See #1701\n- Fix dynamic config applied for multiple helpers by @VikalpP #1743\n\n## 2.1.5\n\n- **EXPERIMENTAL** [Wix Detox support](https://github.com/codeceptjs/detox-helper) introduced as standalone helper. Provides a faster alternative to Appium for mobile testing.\n- Saving successful commands inside interactive pause into `_output/cli-history` file. By @hubidu\n- Fixed hanging error handler inside scenario. See #1721 by @haily-lgc.\n- Fixed by @Vorobeyko: tests did not fail when an exception was raised in async bootstrap.\n- [WebDriver] Added window control methods by @emmonspired\n  - `grabAllWindowHandles` returns all window handles\n  - `grabCurrentWindowHandle` returns current window handle\n  - `switchToWindow` switched to window by its handle\n- [Appium] Fixed using `host` as configuration by @trinhpham\n- Fixed `run-multiple` command when `tests` config option is undefined (in Gherkin scenarios). By @gkushang.\n- German translation introduced by @hubidu\n\n## 2.1.4\n\n- [WebDriver][Puppeteer][Protractor][Nightmare] A11y locator support introduced by @Holorium. Clickable elements as well as fields can be located by following attributes:\n  - `aria-label`\n  - `title`\n  - `aria-labelledby`\n- [Puppeteer] Added support for React locators.\n  - New [React Guide](https://codecept.io/react) added.\n- [Puppeteer] Deprecated `downloadFile`\n- [Puppeteer] Introduced `handleDownloads` replacing `downloadFile`\n- [puppeteerCoverage plugin] Fixed path already exists error by @seta-tuha.\n- Fixed 'ERROR: ENAMETOOLONG' creating directory names in `run-multiple` with long config. By @artvinn\n- [REST] Fixed url autocompletion combining base and relative paths by @LukoyanovE\n- [Nightmare][Protractor] `uncheckOption` method introduced by @PeterNgTr\n- [autoLogin plugin] Enable to use without `await` by @tsuemura\n- [Puppeteer] Fixed `UnhandledPromiseRejectionWarning: \"Execution context was destroyed...` by @adrielcodeco\n- [WebDriver] Keep browser window dimensions when starting a new session by @spiroid\n- Replace Ghekrin plceholders with values in files that combine a scenerio outline and table by @medtoure18.\n- Added Documentation to [locate elements in React Native](https://codecept.io/mobile-react-native-locators) apps. By @DimGun.\n- Adding optional `path` parameter to `bdd:snippets` command to append snippets to a specific file. By @cthorsen31.\n- Added optional `output` parameter to `def` command by @LukoyanovE.\n- [Puppeteer] Added `grabDataFromPerformanceTiming` by @PeterNgTr.\n- axios updated to `0.19.0` by @SteveShaffer\n- TypeScript defitions updated by @LukoyanovE. Added `secret` and `inject` function.\n\n## 2.1.3\n\n- Fixed autoLogin plugin to inject `login` function\n- Fixed using `toString()` in DataTablewhen it is defined by @tsuemura\n\n## 2.1.2\n\n- Fixed `inject` to load objects recursively.\n- Fixed TypeScript definitions for locators by @LukoyanovE\n- **EXPERIMENTAL** [WebDriver] ReactJS locators support with webdriverio v5.8+:\n\n```js\n// locating React element by name, prop, state\nI.click({ react: 'component-name', props: {}, state: {} })\nI.seeElement({ react: 'component-name', props: {}, state: {} })\n```\n\n## 2.1.1\n\n- Do not retry `within` and `session` calls inside `retryFailedStep` plugin. Fix by @tsuemura\n\n## 2.1.0\n\n- Added global `inject()` function to require actor and page objects using dependency injection. Recommended to use in page objects, step definition files, support objects:\n\n```js\n// old way\nconst I = actor()\nconst myPage = require('../page/myPage')\n\n// new way\nconst { I, myPage } = inject()\n```\n\n- Added global `secret` function to fill in sensitive data. By @RohanHart:\n\n```js\nI.fillField('password', secret('123456'))\n```\n\n- [wdioPlugin](https://codecept.io/plugins/#wdio) Added a plugin to **support webdriverio services** including _selenium-standalone_, _sauce_, _browserstack_, etc. **Sponsored by @GSasu**\n- [Appium] Fixed `swipe*` methods by @PeterNgTr\n- BDD Gherkin Improvements:\n  - Implemented `run-multiple` for feature files. **Sponsored by @GSasu**\n  - Added `--features` and `--tests` options to `run-multiple`. **Sponsored by @GSasu**\n  - Implemented `Before` and `After` hooks in [step definitions](https://codecept.io/bdd#before)\n- Fixed running tests by absolute path. By @batalov.\n- Enabled the adding screenshot to failed test for moch-junit-reporter by @PeterNgTr.\n- [Puppeteer] Implemented `uncheckOption` and fixed behavior of `checkOption` by @aml2610\n- [WebDriver] Fixed `seeTextEquals` on empty strings by @PeterNgTr\n- [Puppeteer] Fixed launch with `browserWSEndpoint` config by @ngadiyak.\n- [Puppeteer] Fixed switching back to main window in multi-session mode by @davertmik.\n- [autoLoginPlugin] Fixed using async functions for auto login by @nitschSB\n\n> This release was partly sponsored by @GSasu. Thanks for the support!\n> Do you want to improve this project? [Learn more about sponsorin CodeceptJS\n\n## 2.0.8\n\n- [Puppeteer] Added `downloadFile` action by @PeterNgTr.\n\nUse it with `FileSystem` helper to test availability of a file:\n\n```js\nconst fileName = await I.downloadFile('a.file-link')\nI.amInPath('output')\nI.seeFile(fileName)\n```\n\n> Actions `amInPath` and `seeFile` are taken from [FileSystem](https://codecept.io/helpers/FileSystem) helper\n\n- [Puppeteer] Fixed `autoLogin` plugin with Puppeteer by @davertmik\n- [WebDriver] `seeInField` should throw error if element has no value attrubite. By @PeterNgTr\n- [WebDriver] Fixed `seeTextEquals` passes for any string if element is empty by @PeterNgTr.\n- [WebDriver] Internal refctoring to use `el.isDisplayed` to match latest webdriverio implementation. Thanks to @LukoyanovE\n- [allure plugin] Add ability enable [screenshotDiff plugin](https://github.com/allure-framework/allure2/blob/master/plugins/screen-diff-plugin/README.md) by @Vorobeyko\n- [Appium] Fixed `locator.stringify` call by @LukoyanovE\n\n## 2.0.7\n\n- [WebDriver][Protractor][Nightmare] `rightClick` method implemented (fixed) in a standard way. By @davertmik\n- [WebDriver] Updated WebDriver API calls in helper. By @PeterNgTr\n- [stepByStepReportPlugin] Added `screenshotsForAllureReport` config options to automatically attach screenshots to allure reports. By @PeterNgTr\n- [allurePlugin] Added `addLabel` method by @Vorobeyko\n- Locator Builder: fixed `withChild` and `withDescendant` to match deep nested siblings by @Vorobeyko.\n\n## 2.0.6\n\n- Introduced [Custom Locator Strategies](https://codecept.io/locators#custom-locators).\n- Added [Visual Testing Guide](https://codecept.io/visual) by @puneet0191 and @MitkoTschimev.\n- [Puppeteer] [`puppeteerCoverage`](https://codecept.io/plugins#puppeteercoverage) plugin added to collect code coverage in JS. By @dvillarama\n- Make override option in `run-multiple` to respect the generated overridden config by @kinyat\n- Fixed deep merge for `container.append()`. Introduced `lodash.merge()`. By @Vorobeyko\n- Fixed saving screenshot on Windows by\n- Fix errors on using interactive shell with Allure plugin by tsuemura\n- Fixed using dynamic injections with `Scenario().injectDependencies` by @tsemura\n- [WebDriver][Puppeteer][Nightmare][Protractor] Fixed url protocol detection for non-http urls by @LukoyanovE\n- [WebDriver] Enabled compatibility with `stepByStepReport` by @tsuemura\n- [WebDriver] Fixed `grabHTMLFrom` to return innerHTML value by @Holorium. Fixed compatibility with WebDriverIO.\n- [WebDriver] `grabHTMLFrom` to return one HTML vlaue for one element matched, array if multiple elements found by @davertmik.\n- [Nightmare] Added `grabHTMLFrom` by @davertmik\n- Fixed `bootstrapAll` and `teardownAll` launch with path as argument by @LukoyanovE\n- Fixed `bootstrapAll` and `teardownAll` calls from exported object by @LukoyanovE\n- [WebDriver] Added possibility to define conditional checks interval for `waitUntil` by @LukoyanovE\n- Fixed storing current data in data driven tests in a test object. By @Vorobeyko\n- [WebDriver] Fixed `hostname` config option overwrite when setting a cloud provider. By @LukoyanovE\n- [WebDriver] `dragSlider` method implemented by @DavertMik\n- [WebDrover] Fixed `scrollTo` to use new webdriverio API by @PeterNgTr\n- Added Japanese translation file by @tsemura\n- Added `Locator.withDescendant()` method to find an element which contains a descendant (child, grandchild) by @Vorobeyko\n- [WebDriver] Fixed configuring capabilities for Selenoid and IE by @Vorobeyko\n- [WebDriver] Restore original window size when taking full size screenshot by @tsuemura\n- Enabled `throws()`,` fails()`, `retry()`, `timeout()`, `config()` functions for data driven tests. By @jjm409\n\n## 2.0.5\n\n[Broken Release]\n\n## 2.0.4\n\n- [WebDriver][Protractor][Nightmare][Puppeteer] `grabAttributeFrom` returns an array when multiple elements matched. By @PeterNgTr\n- [autoLogin plugin] Fixed merging users config by @nealfennimore\n- [autoDelay plugin] Added WebDriver to list of supported helpers by @mattin4d\n- [Appium] Fixed using locators in `waitForElement`, `waitForVisible`, `waitForInvisible`. By @eduardofinotti\n- [allure plugin] Add tags to allure reports by @Vorobeyko\n- [allure plugin] Add skipped tests to allure reports by @Vorobeyko\n- Fixed `Logged Test name | [object Object]` when used Data().Scenario(). By @Vorobeyko\n- Fixed Data().only.Scenario() to run for all datasets. By @Vorobeyko\n- [WebDriver] `attachFile` to work with hidden elements. Fixed in #1460 by @tsuemura\n\n## 2.0.3\n\n- [**autoLogin plugin**](https://codecept.io/plugins#autologin) added. Allows to log in once and reuse browser session. When session expires - automatically logs in again. Can persist session between runs by saving cookies to file.\n- Fixed `Maximum stack trace` issue in `retryFailedStep` plugin.\n- Added `locate()` function into the interactive shell.\n- [WebDriver] Disabled smartWait for interactive shell.\n- [Appium] Updated methods to use for mobile locators\n  - `waitForElement`\n  - `waitForVisible`\n  - `waitForInvisible`\n- Helper and page object generators no longer update config automatically. Please add your page objects and helpers manually.\n\n## 2.0.2\n\n- [Puppeteer] Improved handling of connection with remote browser using Puppeteer by @martomo\n- [WebDriver] Updated to webdriverio 5.2.2 by @martomo\n- Interactive pause improvements by @davertmik\n  - Disable retryFailedStep plugin in in interactive mode\n  - Removes `Interface: parseInput` while in interactive pause\n- [ApiDataFactory] Improvements\n  - added `fetchId` config option to override id retrieval from payload\n  - added `onRequest` config option to update request in realtime\n  - added `returnId` config option to return ids of created items instead of items themvelves\n  - added `headers` config option to override default headers.\n  - added a new chapter into [DataManagement](https://codecept.io/data#api-requests-using-browser-session)\n- [REST] Added `onRequest` config option\n\n## 2.0.1\n\n- Fixed creating project with `codecept init`.\n- Fixed error while installing webdriverio@5.\n- Added code beautifier for generated configs.\n- [WebDriver] Updated to webdriverio 5.1.0\n\n## 2.0.0\n\n- [WebDriver] **Breaking Change.** Updated to webdriverio v5. New helper **WebDriver** helper introduced.\n\n  - **Upgrade plan**:\n\n    1. Install latest webdriverio\n\n    ```\n    npm install webdriverio@5 --save\n    ```\n\n    2. Replace `WebDriverIO` => `WebDriver` helper name in config.\n    3. Read [webdriverio changelog](https://github.com/webdriverio/webdriverio/blob/master/CHANGELOG.md). If you were using webdriver API in your helpers, upgrade accordingly.\n    4. We made WebDriver helper to be compatible with old API so no additional changes required.\n\n    > If you face issues using webdriverio v5 you can still use webdriverio 4.x and WebDriverIO helper. Make sure you have `webdriverio: ^4.0` installed.\n\n  - Known issues: `attachFile` doesn't work with proxy server.\n\n- [Appium] **Breaking Change.** Updated to use webdriverio v5 as well. See upgrade plan ↑\n- [REST] **Breaking Change.** Replaced `unirest` library with `axios`.\n\n  - **Upgrade plan**:\n\n    1. Refer to [axios API](https://github.com/axios/axios).\n    2. If you were using `unirest` requests/responses in your tests change them to axios format.\n\n- **Breaking Change.** Generators support in tests removed. Use `async/await` in your tests\n- **Using `codecept.conf.js` as default configuration format**\n- Fixed \"enametoolong\" error when saving screenshots for data driven tests by @PeterNgTr\n- Updated NodeJS to 10 in Docker image\n- [Pupeteer] Add support to use WSEndpoint. Allows to execute tests remotely. [See #1350] by @gabrielcaires (https://github.com/codeceptjs/CodeceptJS/pull/1350)\n- In interactive shell [Enter] goes to next step. Improvement by @PeterNgTr.\n- `I.say` accepts second parameter as color to print colorful comments. Improvement by @PeterNgTr.\n\n```js\nI.say('This is red', 'red') //red is used\nI.say('This is blue', 'blue') //blue is used\nI.say('This is by default') //cyan is used\n```\n\n- Fixed allure reports for multi session testing by @PeterNgTr\n- Fixed allure reports for hooks by @PeterNgTr\n\n## 1.4.6\n\n- [Puppeteer] `dragSlider` action added by @PeterNgTr\n- [Puppeteer] Fixed opening browser in shell mode by @allenhwkim\n- [Puppeteer] Fixed making screenshot on additional sessions by @PeterNgTr. Fixes #1266\n- Added `--invert` option to `run-multiple` command by @LukoyanovE\n- Fixed steps in Allure reports by @PeterNgTr\n- Add option `output` to customize output directory in [stepByStepReport plugin](https://codecept.io/plugins/#stepbystepreport). By @fpsthirty\n- Changed type definition of PageObjects to get auto completion by @rhicu\n- Fixed steps output for async/arrow functions in CLI by @LukoyanovE. See #1329\n\n## 1.4.5\n\n- Add **require** param to main config. Allows to require Node modules before executing tests. By @LukoyanovE. For example:\n  - Use `ts-node/register` to register TypeScript parser\n  - Use `should` to register should-style assertions\n\n```js\n\"require\": [\"ts-node/register\", \"should\"]\n```\n\n- [WebDriverIO] Fix timeouts definition to be compatible with W3C drivers. By @LukoyanovE\n- Fixed: exception in Before block w/ Mocha causes test not to report failure. See #1292 by @PeterNgTr\n- Command `run-parallel` now accepts `--override` flag. Thanks to @ClemCB\n- Fixed Allure report with Before/BeforeSuite/After/AfterSuite steps. By @PeterNgTr\n- Added `RUN_MULTIPLE` env variable to [Docker config](https://codecept.io/docker/). Allows to run tests in parallel inside a container. Thanks to @PeterNgTr\n- [Mochawesome] Fixed showing screenshot on failure. Fix by @PeterNgTr\n- Fixed running tests filtering by tag names defined via `Scenario.tag()`\n\n## 1.4.4\n\n- [autoDelay plugin](https://codecept.io/plugins/#autoDelay) added. Adds tiny delay before and after an action so the page could react to actions performed.\n- [Puppeteer] improvements by @luismanuel001\n  - `click` no longer waits for navigation\n  - `clickLink` method added. Performs a click and waits for navigation.\n- Bootstrap scripts to be started only for `run` command and ignored on `list`, `def`, etc. Fix by @LukoyanovE\n\n## 1.4.3\n\n- Groups renamed to Tags for compatibility with BDD layer\n- Test and suite objects to contain tags property which can be accessed from internal API\n- Fixed adding tags for Scenario Outline in BDD\n- Added `tag()` method to ScenarioConfig and FeatureConfig:\n\n```js\nScenario('update user profile', () => {\n  // test goes here\n}).tag('@slow')\n```\n\n- Fixed attaching Allure screenshot on exception. Fix by @DevinWatson\n- Improved type definitions for custom steps. By @Akxe\n- Fixed setting `multiple.parallel.chunks` as environment variable in config. See #1238 by @ngadiyak\n\n## 1.4.2\n\n- Fixed setting config for plugins (inclunding setting `outputDir` for allure) by @jplegoff\n\n## 1.4.1\n\n- Added `plugins` option to `run-multiple`\n- Minor output fixes\n- Added Type Definition for Helper class by @Akxe\n- Fixed extracing devault extension in generators by @Akxe\n\n## 1.4.0\n\n- [**Allure Reporter Integration**](https://codecept.io/reports/#allure). Full inegration with Allure Server. Get nicely looking UI for tests,including steps, nested steps, and screenshots. Thanks **Natarajan Krishnamurthy @krish** for sponsoring this feature.\n- [Plugins API introduced](https://codecept.io/hooks/#plugins). Create custom plugins for CodeceptJS by hooking into event dispatcher, and using promise recorder.\n- **Official [CodeceptJS plugins](https://codecept.io/plugins) added**:\n  - **`stepByStepReport` - creates nicely looking report to see test execution as a slideshow**. Use this plugin to debug tests in headless environment without recording a video.\n  - `allure` - Allure reporter added as plugin.\n  - `screenshotOnFail` - saves screenshot on fail. Replaces similar functionality from helpers.\n  - `retryFailedStep` - to rerun each failed step.\n- [Puppeteer] Fix `executeAsyncScript` unexpected token by @jonathanz\n- Added `override` option to `run-multiple` command by @svarlet\n\n## 1.3.3\n\n- Added `initGlobals()` function to API of [custom runner](https://codecept.io/hooks/#custom-runner).\n\n## 1.3.2\n\n- Interactve Shell improvements for `pause()`\n  - Added `next` command for **step-by-step debug** when using `pause()`.\n  - Use `After(pause);` in a to start interactive console after last step.\n- [Puppeteer] Updated to Puppeteer 1.6.0\n  - Added `waitForRequest` to wait for network request.\n  - Added `waitForResponse` to wait for network response.\n- Improved TypeScript definitions to support custom steps and page objects. By @xt1\n- Fixed XPath detection to accept XPath which starts with `./` by @BenoitZugmeyer\n\n## 1.3.1\n\n- BDD-Gherkin: Fixed running async steps.\n- [Puppeteer] Fixed process hanging for 30 seconds. Page loading timeout default via `getPageTimeout` set 0 seconds.\n- [Puppeteer] Improved displaying client-side console messages in debug mode.\n- [Puppeteer] Fixed closing sessions in `restart:false` mode for multi-session mode.\n- [Protractor] Fixed `grabPopupText` to not throw error popup is not opened.\n- [Protractor] Added info on using 'direct' Protractor driver to helper documentation by @xt1.\n- [WebDriverIO] Added a list of all special keys to WebDriverIO helper by @davertmik and @xt1.\n- Improved TypeScript definitions generator by @xt1\n\n## 1.3.0\n\n- **Cucumber-style BDD. Introduced [Gherkin support](https://codecept.io/bdd). Thanks to [David Vins](https://github.com/dvins) and [Omedym](https://www.omedym.com) for sponsoring this feature**.\n\nBasic feature file:\n\n```gherkin\nFeature: Business rules\n  In order to achieve my goals\n  As a persona\n  I want to be able to interact with a system\n\n  Scenario: do anything in my life\n    Given I need to open Google\n```\n\nStep definition:\n\n```js\nconst I = actor()\n\nGiven('I need to open Google', () => {\n  I.amOnPage('https://google.com')\n})\n```\n\nRun it with `--features --steps` flag:\n\n```\ncodeceptjs run --steps --features\n```\n\n---\n\n- **Brekaing Chnage** `run` command now uses relative path + test name to run exactly one test file.\n\nPrevious behavior (removed):\n\n```\ncodeceptjs run basic_test.js\n```\n\nCurrent behavior (relative path to config + a test name)\n\n```\ncodeceptjs run tests/basic_test.js\n```\n\nThis change allows using auto-completion when running a specific test.\n\n---\n\n- Nested steps output enabled for page objects.\n  - to see high-level steps only run tests with `--steps` flag.\n  - to see PageObjects implementation run tests with `--debug`.\n- PageObjects simplified to remove `_init()` extra method. Try updated generators and see [updated guide](https://codecept.io/pageobjects/#pageobject).\n- [Puppeteer] [Multiple sessions](https://codecept.io/acceptance/#multiple-sessions) enabled. Requires Puppeteer >= 1.5\n- [Puppeteer] Stability improvement. Waits for for `load` event on page load. This strategy can be changed in config:\n  - `waitForNavigation` config option introduced. Possible options: `load`, `domcontentloaded`, `networkidle0`, `networkidle2`. See [Puppeteer API](https://github.com/GoogleChrome/puppeteer/blob/master/docs/api.md#pagewaitfornavigationoptions)\n  - `getPageTimeout` config option to set maximum navigation time in milliseconds. Default is 30 seconds.\n  - `waitForNavigation` method added. Explicitly waits for navigation to be finished.\n- [WebDriverIO][Protractor][Puppeteer][Nightmare] **Possible BC** `grabTextFrom` unified. Return a text for single matched element and an array of texts for multiple elements.\n- [Puppeteer]Fixed `resizeWindow` by @sergejkaravajnij\n- [WebDriverIO][Protractor][Puppeteer][Nightmare] `waitForFunction` added. Waits for client-side JavaScript function to return true by @GREENpoint.\n- [Puppeteer] `waitUntil` deprecated in favor of `waitForFunction`.\n- Added `filter` function to DataTable.\n- Send non-nested array of files to custom parallel execution chunking by @mikecbrant.\n- Fixed invalid output directory path for run-multiple by @mikecbrant.\n- [WebDriverIO] `waitUntil` timeout accepts time in seconds (as all other wait\\* functions). Fix by @truesrc.\n- [Nightmare] Fixed `grabNumberOfVisibleElements` to work similarly to `seeElement`. Thx to @stefanschenk and Jinbo Jinboson.\n- [Protractor] Fixed alert handling error with message 'no such alert' by @truesrc.\n\n## 1.2.1\n\n- Fixed running `I.retry()` on multiple steps.\n- Fixed parallel execution wih chunks.\n- [Puppeteer] Fixed `grabNumberOfVisibleElements` to return `0` instead of throwing error if no elements are found.\n\n## 1.2.0\n\n- [WebDriverIO][Protractor][Multiple Sessions](https://codecept.io/acceptance/#multiple-sessions). Run several browser sessions in one test. Introduced `session` command, which opens additional browser window and closes it after a test.\n\n```js\nScenario('run in different browsers', (I) => {\n  I.amOnPage('/hello')\n  I.see('Hello!')\n  session('john', () => {\n    I.amOnPage('/bye')\n    I.dontSee('Hello')\n    I.see('Bye')\n  })\n  I.see('Hello')\n})\n```\n\n- [Parallel Execution](https://codecept.io/advanced/#parallel-execution) by @sveneisenschmidt. Run tests in parallel specifying number of chunks:\n\n```js\n\"multiple\": {\n  \"parallel\": {\n    // run in 2 processes\n    \"chunks\": 2,\n    // run all tests in chrome\n    \"browsers\": [\"chrome\"]\n  },\n}\n```\n\n- [Locator Builder](https://codecept.io/locators). Write complex locators with simplest API combining CSS and XPath:\n\n```js\n// select 'Edit' link inside 2nd row of a table\nlocate('//table').find('tr').at(2).find('a').withText('Edit')\n```\n\n- [Dynamic configuration](https://codecept.io/advanced/#dynamic-configuration) to update helpers config per test or per suite.\n- Added `event.test.finished` which fires synchronously for both failed and passed tests.\n- [WebDriverIO][Protractor][Nightmare][Puppeteer] Full page screenshots on failure disabled by default. See [issue#1600. You can enabled them with `fullPageScreenshots: true`, however they may work unstable in Selenium.\n- `within` blocks can return values. See [updated documentation](https://codecept.io/basics/#within).\n- Removed doublt call to `_init` in helpers. Fixes issue #1036\n- Added scenario and feature configuration via fluent API:\n\n```js\nFeature('checkout').timeout(3000).retry(2)\n\nScenario('user can order in firefox', (I) => {\n  // see dynamic configuration\n})\n  .config({ browser: 'firefox' })\n  .timeout(20000)\n\nScenario('this test should throw error', (I) => {\n  // I.amOnPage\n}).throws(new Error())\n```\n\n## 1.1.8\n\n- Fixed generating TypeScript definitions with `codeceptjs def`.\n- Added Chinese translation (\"zh-CN\" and \"zh-TW\") by @TechQuery.\n- Fixed running tests from a different folder specified by `-c` option.\n- [Puppeteer] Added support for hash handling in URL by @gavoja.\n- [Puppeteer] Fixed setting viewport size by @gavoja. See [Puppeteer issue](https://github.com/GoogleChrome/puppeteer/issues/1183)\n\n## 1.1.7\n\n- Docker Image updateed. [See updated reference](https://codecept.io/docker/):\n  - codeceptjs package is mounted as `/codecept` insde container\n  - tests directory is expected to be mounted as `/tests`\n  - `codeceptjs` global runner added (symlink to `/codecept/bin/codecept.js`)\n- [Protractor] Functions added by @reubenmiller:\n  - `_locateCheckable (only available from other helpers)`\n  - `_locateClickable (only available from other helpers)`\n  - `_locateFields (only available from other helpers)`\n  - `acceptPopup`\n  - `cancelPopup`\n  - `dragAndDrop`\n  - `grabBrowserLogs`\n  - `grabCssPropertyFrom`\n  - `grabHTMLFrom`\n  - `grabNumberOfVisibleElements`\n  - `grabPageScrollPosition (new)`\n  - `rightClick`\n  - `scrollPageToBottom`\n  - `scrollPageToTop`\n  - `scrollTo`\n  - `seeAttributesOnElements`\n  - `seeCssPropertiesOnElements`\n  - `seeInPopup`\n  - `seeNumberOfVisibleElements`\n  - `switchTo`\n  - `waitForEnabled`\n  - `waitForValue`\n  - `waitInUrl`\n  - `waitNumberOfVisibleElements`\n  - `waitToHide`\n  - `waitUntil`\n  - `waitUrlEquals`\n- [Nightmare] added:\n  - `grabPageScrollPosition` (new)\n  - `seeNumberOfVisibleElements`\n  - `waitToHide`\n- [Puppeteer] added:\n  - `grabPageScrollPosition` (new)\n- [WebDriverIO] added\"\n  - `grabPageScrollPosition` (new)\n- [Puppeteer] Fixed running wait\\* functions without setting `sec` parameter.\n- [Puppeteer][Protractor] Fixed bug with I.click when using an object selector with the xpath property. By @reubenmiller\n- [WebDriverIO][Protractor][Nightmare][Puppeteer] Fixed I.switchTo(0) and I.scrollTo(100, 100) api inconsistencies between helpers.\n- [Protractor] Fixing bug when `seeAttributesOnElements` and `seeCssPropertiesOnElement` were incorrectly passing when the attributes/properties did not match by @reubenmiller\n- [WebDriverIO] Use inbuilt dragAndDrop function (still doesn't work in Firefox). By @reubenmiller\n- Support for Nightmare 3.0\n- Enable glob patterns in `config.test` / `Codecept.loadTests` by @sveneisenschmidt\n- Enable overriding of `config.tests` for `run-multiple` by @sveneisenschmidt\n\n## 1.1.6\n\n- Added support for `async I =>` functions syntax in Scenario by @APshenkin\n- [WebDriverIO][Protractor][Puppeteer][Nightmare] `waitForInvisible` waits for element to hide or to be removed from page. By @reubenmiller\n- [Protractor][Puppeteer][Nightmare] Added `grabCurrentUrl` function. By @reubenmiller\n- [WebDriverIO] `grabBrowserUrl` deprecated in favor of `grabCurrentUrl` to unify the API.\n- [Nightmare] Improved element visibility detection by @reubenmiller\n- [Puppeteer] Fixing function calls when clearing the cookies and localstorage. By @reubenmiller\n- [Puppeteer] Added `waitForEnabled`, `waitForValue` and `waitNumberOfVisibleElements` methods by @reubenmiller\n- [WebDriverIO] Fixed `grabNumberOfVisibleElements` to return 0 when no visible elements are on page. By @michaltrunek\n- Helpers API improvements (by @reubenmiller)\n  - `_passed` hook runs after a test passed successfully\n  - `_failed` hook runs on a failed test\n- Hooks API. New events added by @reubenmiller:\n  - `event.all.before` - executed before all tests\n  - `event.all.after` - executed after all tests\n  - `event.multiple.before` - executed before all processes in run-multiple\n  - `event.multiple.after` - executed after all processes in run-multiple\n- Multiple execution\n- Allow `AfterSuite` and `After` test hooks to be defined after the first Scenario. By @reubenmiller\n- [Nightmare] Prevent `I.amOnpage` navigation if the browser is already at the given url\n- Multiple-Run: Added new `bootstrapAll` and `teardownAll` hooks to be executed before and after all processes\n- `codeceptjs def` command accepts `--config` option. By @reubenmiller\n\n## 1.1.5\n\n- [Puppeteer] Rerun steps failed due to \"Cannot find context with specified id\" Error.\n- Added syntax to retry a single step:\n\n```js\n// retry action once on failure\nI.retry().see('Hello')\n\n// retry action 3 times on failure\nI.retry(3).see('Hello')\n\n// retry action 3 times waiting for 0.1 second before next try\nI.retry({ retries: 3, minTimeout: 100 }).see('Hello')\n\n// retry action 3 times waiting no more than 3 seconds for last retry\nI.retry({ retries: 3, maxTimeout: 3000 }).see('Hello')\n\n// retry 2 times if error with message 'Node not visible' happens\nI.retry({\n  retries: 2,\n  when: (err) => err.message === 'Node not visible',\n}).seeElement('#user')\n```\n\n- `Scenario().injectDependencies` added to dynamically add objects into DI container by @Apshenkin. See [Dependency Injection section in PageObjects](https://codecept.io/pageobjects/#dependency-injection).\n- Fixed using async/await functions inside `within`\n- [WebDriverIO][Protractor][Puppeteer][Nightmare] **`waitUntilExists` deprecated** in favor of `waitForElement`\n- [WebDriverIO][Protractor] **`waitForStalenessOf` deprecated** in favor of `waitForDetached`\n- [WebDriverIO][Protractor][Puppeteer][Nightmare] `waitForDetached` added\n- [Nightmare] Added `I.seeNumberOfElements()` by @pmoncadaisla\n- [Nightmare] Load blank page when starting nightmare so that the .evaluate function will work if \\_failed/saveScreenshot is triggered by @reubenmiller\n- Fixed using plain arrays for data driven tests by @reubenmiller\n- [Puppeteer] Use default tab instead of opening a new tab when starting the browser by @reubenmiller\n- [Puppeteer] Added `grabNumberOfTabs` function by @reubenmiller\n- [Puppeteer] Add ability to set user-agent by @abidhahmed\n- [Puppeteer] Add keepCookies and keepBrowserState @abidhahmed\n- [Puppeteer] Clear value attribute instead of innerhtml for TEXTAREA by @reubenmiller\n- [REST] fixed sending string payload by @michaltrunek\n- Fixed unhandled rejection in async/await tests by @APshenkin\n\n## 1.1.4\n\n- Removed `yarn` call in package.json\n- Fixed `console.log` in Puppeteer by @othree\n- [Appium] `runOnAndroid` and `runOnIOS` can receive a function to check capabilities dynamically:\n\n```js\nI.runOnAndroid(\n  (caps) => caps.platformVersion >= 7,\n  () => {\n    // run code only on Android 7+\n  },\n)\n```\n\n## 1.1.3\n\n- [Puppeteer] +25 Functions added by @reubenmiller\n  - `_locateCheckable`\n  - `_locateClickable`\n  - `_locateFields`\n  - `closeOtherTabs`\n  - `dragAndDrop`\n  - `grabBrowserLogs`\n  - `grabCssPropertyFrom`\n  - `grabHTMLFrom`\n  - `grabNumberOfVisibleElements`\n  - `grabSource`\n  - `rightClick`\n  - `scrollPageToBottom`\n  - `scrollPageToTop`\n  - `scrollTo`\n  - `seeAttributesOnElements`\n  - `seeCssPropertiesOnElements`\n  - `seeInField`\n  - `seeNumberOfElements`\n  - `seeNumberOfVisibleElements`\n  - `seeTextEquals`\n  - `seeTitleEquals`\n  - `switchTo`\n  - `waitForInvisible`\n  - `waitInUrl`\n  - `waitUrlEquals`\n- [Protractor] +8 functions added by @reubenmiller\n  - `closeCurrentTab`\n  - `grabSource`\n  - `openNewTab`\n  - `seeNumberOfElements`\n  - `seeTextEquals`\n  - `seeTitleEquals`\n  - `switchToNextTab`\n  - `switchToPreviousTab`\n- [Nightmare] `waitForInvisible` added by @reubenmiller\n- [Puppeteer] Printing console.log information in debug mode.\n- [Nightmare] Integrated with `nightmare-har-plugin` by mingfang. Added `enableHAR` option. Added HAR functions:\n  - `grabHAR`\n  - `saveHAR`\n  - `resetHAR`\n- [WebDriverIO] Fixed execution stability for parallel requests with Chromedriver\n- [WebDriverIO] Fixed resizeWindow when resizing to 'maximize' by @reubenmiller\n- [WebDriverIO] Fixing resizing window to full screen when taking a screenshot by @reubenmiller\n\n## 1.1.2\n\n- [Puppeteer] Upgraded to Puppeteer 1.0\n- Added `grep` option to config to set default matching pattern for tests.\n- [Puppeteer] Added `acceptPopup`, `cancelPopup`, `seeInPopup` and `grabPopupText` functions by @reubenmiller\n- [Puppeteer] `within` iframe and nested iframe support added by @reubenmiller\n- [REST] Added support for JSON objects since payload (as a JSON) was automatically converted into \"URL query\" type of parameter by @Kalostrinho\n- [REST] Added `resetRequestHeaders` method by @Kalostrinho\n- [REST] Added `followRedirect` option and `amFollowingRequestRedirects`/`amNotFollowingRequestRedirects` methods by @Kalostrinho\n- [WebDriverIO] `uncheckOption` implemented by @brunobg\n- [WebDriverIO] Added `grabBrowserUrl` by @Kalostrinho\n- Add ability to require helpers from node_modules by @APshenkin\n- Added `--profile` option to `run-multiple` command by @jamie-beck\n- Custom output name for multiple browser run by @tfiwm\n- Fixed passing data to scenarios by @KennyRules\n\n## 1.1.1\n\n- [WebDriverIO] fixed `waitForInvisible` by @Kporal\n\n## 1.1.0\n\nMajor update to CodeceptJS. **NodeJS v 8.9.1** is now minimal Node version required.\nThis brings native async-await support to CodeceptJS. It is recommended to start using await for tests instead of generators:\n\n```js\n;async () => {\n  I.amOnPage('/page')\n  const url = await I.grabTextFrom('.nextPage')\n  I.amOnPage(url)\n}\n```\n\nThanks to [@Apshenkin](https://github.com/apshenkin) for implementation. Also, most helpers were refactored to use async-await. This made our code simpler. We hope that this encourages more users to send pull requests!\n\nWe also introduced strict ESLint policies for our codebase. Thanks to [@Galkin](https://github.com/galkin) for that.\n\n- **[Puppeteer] Helper introduced**. [Learn how to run tests headlessly with Google Chrome's Puppeteer](http://codecept.io/puppeteer/).\n- [SeleniumWebdriver] Helper is deprecated, it is recommended to use Protractor with config option `angular: false` instead.\n- [WebDriverIO] nested iframe support in the within block by @reubenmiller. Example:\n\n```js\nwithin({frame: ['#wrapperId', '[name=content]']}, () => {\n  I.click('Sign in!');\n  I.see('Email Address');\n});\nI.see('Nested Iframe test');\nI.dontSee('Email Address');\n});\n```\n\n- [WebDriverIO] Support for `~` locator to find elements by `aria-label`. This behavior is similar as it is in Appium and helps testing cross-platform React apps. Example:\n\n```html\n<Text accessibilityLabel=\"foobar\"> CodeceptJS is awesome </Text>\n```\n\n↑ This element can be located with `~foobar` in WebDriverIO and Appium helpers. Thanks to @flyskywhy\n\n- Allow providing arbitrary objects in config includes by @rlewan\n- [REST] Prevent from mutating default headers by @alexashley. See #789\n- [REST] Fixed sending empty helpers with `haveRequestHeaders` in `sendPostRequest`. By @petrisorionel\n- Fixed displaying undefined args in output by @APshenkin\n- Fixed NaN instead of seconds in output by @APshenkin\n- Add browser name to report file for `multiple-run` by @trollr\n- Mocha updated to 4.x\n\n## 1.0.3\n\n- [WebDriverIO][Protractor][Nightmare] method `waitUntilExists` implemented by @sabau\n- Absolute path can be set for `output` dir by @APshenkin. Fix #571\\* Data table rows can be ignored by using `xadd`. By @APhenkin\n- Added `Data(table).only.Scenario` to give ability to launch only Data tests. By @APhenkin\n- Implemented `ElementNotFound` error by @BorisOsipov.\n- Added TypeScript compiler / configs to check the JavaScript by @KennyRules\n- [Nightmare] fix executeScript return value by @jploskonka\n- [Nightmare] fixed: err.indexOf not a function when waitForText times out in nightmare by @joeypedicini92\n- Fixed: Retries not working when using .only. By @APhenkin\n\n## 1.0.2\n\n- Introduced generators support in scenario hooks for `BeforeSuite`/`Before`/`AfterSuite`/`After`\n- [ApiDataFactory] Fixed loading helper; `requireg` package included.\n- Fix #485`run-multiple`: the first browser-resolution combination was be used in all configurations\n- Fixed unique test names:\n  - Fixed #447 tests failed silently if they have the same name as other tests.\n  - Use uuid in screenshot names when `uniqueScreenshotNames: true`\n- [Protractor] Fixed testing non-angular application. `amOutsideAngularApp` is executed before each step. Fixes #458\\* Added output for steps in hooks when they fail\n\n## 1.0.1\n\n- Reporters improvements:\n  - Allows to execute [multiple reporters](http://codecept.io/advanced/#Multi-Reports)\n  - Added [Mochawesome](http://codecept.io/helpers/Mochawesome/) helper\n  - `addMochawesomeContext` method to add custom data to mochawesome reports\n  - Fixed Mochawesome context for failed screenshots.\n- [WebDriverIO] improved click on context to match clickable element with a text inside. Fixes #647\\* [Nightmare] Added `refresh` function by @awhanks\n- fixed `Unhandled promise rejection (rejection id: 1): Error: Unknown wait type: pageLoad`\n- support for tests with retries in html report\n- be sure that change window size and timeouts completes before test\n- [Nightmare] Fixed `[Wrapped Error] \"codeceptjs is not defined\"`; Reinjectiing client scripts to a webpage on changes.\n- [Nightmare] Added more detailed error messages for `Wait*` methods\n- [Nightmare] Fixed adding screenshots to Mochawesome\n- [Nightmare] Fix unique screenshots names in Nightmare\n- Fixed CodeceptJS work with hooks in helpers to finish codeceptJS correctly if errors appears in helpers hooks\n- Create a new session for next test If selenium grid error received\n- Create screenshots for failed hooks from a Feature file\n- Fixed `retries` option\n\n## 1.0\n\nCodeceptJS hits first stable release. CodeceptJS provides a unified API for [web testing for Webdriverio](http://codecept.io/acceptance/), [Protractor](http://codecept.io/angular/), and [NightmareJS](http://codecept.io/nightmare/). Since 1.0 you can also **test mobile applications** in the similar manner with Appium.\n\nSample test:\n\n```js\nI.seeAppIsInstalled(\"io.super.app\");\nI.click('~startUserRegistrationCD');\nI.fillField('~email of the customer', 'Nothing special'));\nI.see('davert@codecept.io', '~email of the customer'));\nI.clearField('~email of the customer'));\nI.dontSee('Nothing special', '~email of the customer'));\n```\n\n- Read [the Mobile Testing guide](http://codecept.io/mobile).\n- Discover [Appium Helper](http://codecept.io/helpers/Appium/)\n\n---\n\nWe also introduced two new **helpers for data management**.\nUsing them you can easily prepare and cleanup data for your tests using public REST API.\n\nSample test\n\n```js\n// create a user using data factories and REST API\nI.have('user', { name: 'davert', password: '123456' })\n// use it to login\nI.amOnPage('/login')\nI.fillField('login', 'davert')\nI.fillField('password', '123456')\nI.click('Login')\nI.see('Hello, davert')\n// user will be removed after the test\n```\n\n- Read [Data Management guide](http://codecept.io/data)\n- [REST Helper](http://codecept.io/helpers/REST)\n- [ApiDataFactory](http://codecept.io/helpers/ApiDataFactory/)\n\n---\n\nNext notable feature is **[SmartWait](http://codecept.io/acceptance/#smartwait)** for WebDriverIO, Protractor, SeleniumWebdriver. When `smartwait` option is set, script will wait for extra milliseconds to locate an element before failing. This feature uses implicit waits of Selenium but turns them on only in applicable pieces. For instance, implicit waits are enabled for `seeElement` but disabled for `dontSeeElement`\n\n- Read more about [SmartWait](http://codecept.io/acceptance/#smartwait)\n\n##### Changelog\n\n- Minimal NodeJS version is 6.11.1 LTS\n- Use `within` command with generators.\n- [Data Driven Tests](http://codecept.io/advanced/#data-driven-tests) introduced.\n- Print execution time per step in `--debug` mode. #591 by @APshenkin\n- [WebDriverIO][Protractor][Nightmare] Added `disableScreenshots` option to disable screenshots on fail by @Apshenkin\n- [WebDriverIO][Protractor][Nightmare] Added `uniqueScreenshotNames` option to generate unique names for screenshots on failure by @Apshenkin\n- [WebDriverIO][Nightmare] Fixed click on context; `click('text', '#el')` will throw exception if text is not found inside `#el`.\n- [WebDriverIO][Protractor][SeleniumWebdriver] [SmartWait introduced](http://codecept.io/acceptance/#smartwait).\n- [WebDriverIO][Protractor][Nightmare]Fixed `saveScreenshot` for PhantomJS, `fullPageScreenshots` option introduced by @HughZurname #549\n- [Appium] helper introduced by @APshenkin\n- [REST] helper introduced by @atrevino in #504\n- [WebDriverIO][SeleniumWebdriver] Fixed \"windowSize\": \"maximize\" for Chrome 59+ version #560 by @APshenkin\n- [Nightmare] Fixed restarting by @APshenkin #581\n- [WebDriverIO] Methods added by @APshenkin:\n  - [grabCssPropertyFrom](http://codecept.io/helpers/WebDriverIO/#grabcsspropertyfrom)\n  - [seeTitleEquals](http://codecept.io/helpers/WebDriverIO/#seetitleequals)\n  - [seeTextEquals](http://codecept.io/helpers/WebDriverIO/#seetextequals)\n  - [seeCssPropertiesOnElements](http://codecept.io/helpers/WebDriverIO/#seecsspropertiesonelements)\n  - [seeAttributesOnElements](http://codecept.io/helpers/WebDriverIO/#seeattributesonelements)\n  - [grabNumberOfVisibleElements](http://codecept.io/helpers/WebDriverIO/#grabnumberofvisibleelements)\n  - [waitInUrl](http://codecept.io/helpers/WebDriverIO/#waitinurl)\n  - [waitUrlEquals](http://codecept.io/helpers/WebDriverIO/#waiturlequals)\n  - [waitForValue](http://codecept.io/helpers/WebDriverIO/#waitforvalue)\n  - [waitNumberOfVisibleElements](http://codecept.io/helpers/WebDriverIO/#waitnumberofvisibleelements)\n  - [switchToNextTab](http://codecept.io/helpers/WebDriverIO/#switchtonexttab)\n  - [switchToPreviousTab](http://codecept.io/helpers/WebDriverIO/#switchtoprevioustab)\n  - [closeCurrentTab](http://codecept.io/helpers/WebDriverIO/#closecurrenttab)\n  - [openNewTab](http://codecept.io/helpers/WebDriverIO/#opennewtab)\n  - [refreshPage](http://codecept.io/helpers/WebDriverIO/#refreshpage)\n  - [scrollPageToBottom](http://codecept.io/helpers/WebDriverIO/#scrollpagetobottom)\n  - [scrollPageToTop](http://codecept.io/helpers/WebDriverIO/#scrollpagetotop)\n  - [grabBrowserLogs](http://codecept.io/helpers/WebDriverIO/#grabbrowserlogs)\n- Use mkdirp to create output directory. #592 by @vkramskikh\n- [WebDriverIO] Fixed `seeNumberOfVisibleElements` by @BorisOsipov #574\n- Lots of fixes for promise chain by @APshenkin #568\n  - Fix #543- After block not properly executed if Scenario fails\n  - Expected behavior in promise chains: `_beforeSuite` hooks from helpers -> `BeforeSuite` from test -> `_before` hooks from helpers -> `Before` from test - > Test steps -> `_failed` hooks from helpers (if test failed) -> `After` from test -> `_after` hooks from helpers -> `AfterSuite` from test -> `_afterSuite` hook from helpers.\n  - if during test we got errors from any hook (in test or in helper) - stop complete this suite and go to another\n  - if during test we got error from Selenium server - stop complete this suite and go to another\n  - [WebDriverIO][Protractor] if `restart` option is false - close all tabs expect one in `_after`.\n  - Complete `_after`, `_afterSuite` hooks even After/AfterSuite from test was failed\n  - Don't close browser between suites, when `restart` option is false. We should start browser only one time and close it only after all tests.\n  - Close tabs and clear local storage, if `keepCookies` flag is enabled\n- Fix TypeError when using babel-node or ts-node on node.js 7+ #586 by @vkramskikh\n- [Nightmare] fixed usage of `_locate`\n\nSpecial thanks to **Andrey Pshenkin** for his work on this release and the major improvements.\n\n## 0.6.3\n\n- Errors are printed in non-verbose mode. Shows \"Selenium not started\" and other important errors.\n- Allowed to set custom test options:\n\n```js\nScenario('My scenario', { build_id: 123, type: 'slow' }, function (I)\n```\n\nthose options can be accessed as `opts` property inside a `test` object. Can be used in custom listeners.\n\n- Added `docs` directory to a package.\n- [WebDriverIO][Protractor][SeleniumWebdriver] Bugfix: cleaning session when `restart: false` by @tfiwm #519\n- [WebDriverIO][Protractor][Nightmare] Added second parameter to `saveScreenshot` to allow a full page screenshot. By @HughZurname\n- Added suite object to `suite.before` and `suite.after` events by @implico. #496\n\n## 0.6.2\n\n- Added `config` object to [public API](http://codecept.io/hooks/#api)\n- Extended `index.js` to include `actor` and `helpers`, so they could be required:\n\n```js\nconst actor = require('codeceptjs').actor\n```\n\n- Added [example for creating custom runner](http://codecept.io/hooks/#custom-runner) with public API.\n- run command to create `output` directory if it doesn't exist\n- [Protractor] fixed loading globally installed Protractor\n- run-multiple command improvements:\n  - create output directories for each process\n  - print process ids in output\n\n## 0.6.1\n\n- Fixed loading hooks\n\n## 0.6.0\n\nMajor release with extension API and parallel execution.\n\n- **Breaking** Removed path argument from `run`. To specify path other than current directory use `--config` or `-c` option:\n\nInstead of: `codeceptjs run tests` use:\n\n```\n# load config and run from tests directory\ncodeceptjs run -c tests/\n\n# or load codecept.json from tests directory\ncodeceptjs run -c tests/codecept.json\n\n# run users_test.js inside tests directory\ncodeceptjs run users_test.js -c tests\n```\n\n- **Command `multiple-run` added**, to execute tests in several browsers in parallel by @APshenkin and @davertmik. [See documentation](http://codecept.io/advanced/#multiple-execution).\n- **Hooks API added to extend CodeceptJS** with custom listeners and plugins. [See documentation](http://codecept.io/hooks/#hooks_1).\n- [Nightmare][WebDriverIO] `within` can work with iframes by @imvetri. [See documentation](http://codecept.io/acceptance/#iframes).\n- [WebDriverIO][SeleniumWebdriver][Protractor] Default browser changed to `chrome`\n- [Nightmare] Fixed globally locating `nightmare-upload`.\n- [WebDriverIO] added `seeNumberOfVisibleElements` method by @elarouche.\n- Exit with non-zero code if init throws an error by @rincedd\n- New guides published:\n  - [Installation](http://codecept.io/installation/)\n  - [Hooks](http://codecept.io/hooks/)\n  - [Advanced Usage](http://codecept.io/advanced/)\n- Meta packages published:\n  - [codecept-webdriverio](https://www.npmjs.com/package/codecept-webdriverio)\n  - [codecept-protractor](https://www.npmjs.com/package/codecept-protractor)\n  - [codecept-nightmare](https://www.npmjs.com/package/codecept-nightmare)\n\n## 0.5.1\n\n- [Polish translation](http://codecept.io/translation/#polish) added by @limes.\n- Update process exit code so that mocha saves reports before exit by @romanovma.\n- [Nightmare] fixed `getAttributeFrom` for custom attributes by @robrkerr\n- [Nightmare] Fixed _UnhandledPromiseRejectionWarning error_ when selecting the dropdown using `selectOption` by @robrkerr. [Se PR.\n- [Protractor] fixed `pressKey` method by @romanovma\n\n## 0.5.0\n\n- Protractor ^5.0.0 support (while keeping ^4.0.9 compatibility)\n- Fix 'fullTitle() is not a function' in exit.js by @hubidu. See #388.\n- [Nightmare] Fix for `waitTimeout` by @HughZurname. See #391. Resolves #236\\* Dockerized CodeceptJS setup by @artiomnist. [See reference](https://github.com/codeceptjs/CodeceptJS/blob/master/docker/README.md)\n\n## 0.4.16\n\n- Fixed steps output synchronization (regression since 0.4.14).\n- [WebDriverIO][Protractor][SeleniumWebdriver][Nightmare] added `keepCookies` option to keep cookies between tests with `restart: false`.\n- [Protractor] added `waitForTimeout` config option to set default waiting time for all wait\\* functions.\n- Fixed `_test` hook for helpers by @cjhille.\n\n## 0.4.15\n\n- Fixed regression in recorder sessions: `oldpromise is not defined`.\n\n## 0.4.14\n\n- `_beforeStep` and `_afterStep` hooks in helpers are synchronized. Allows to perform additional actions between steps.\n\nExample: fail if JS error occur in custom helper using WebdriverIO:\n\n```js\n_before() {\n  this.err = null;\n  this.helpers['WebDriverIO'].browser.on('error', (e) => this.err = e);\n}\n\n_afterStep() {\n if (this.err) throw new Error('Browser JS error '+this.err);\n}\n```\n\nExample: fail if JS error occur in custom helper using Nightmare:\n\n```js\n_before() {\n  this.err = null;\n  this.helpers['Nightmare'].browser.on('page', (type, message, stack) => {\n    this.err = `${message} ${stack}`;\n  });\n}\n\n_afterStep() {\n if (this.err) throw new Error('Browser JS error '+this.err);\n}\n```\n\n- Fixed `codecept list` and `codecept def` commands.\n- Added `I.say` method to print arbitrary comments.\n\n```js\nI.say('I am going to publish post')\nI.say('I enter title and body')\nI.say('I expect post is visible on site')\n```\n\n- [Nightmare] `restart` option added. `restart: false` allows to run all tests in a single window, disabled by default. By @nairvijays99\n- [Nightmare] Fixed `resizeWindow` command.\n- [Protractor][SeleniumWebdriver] added `windowSize` config option to resize window on start.\n- Fixed \"Scenario.skip causes 'Cannot read property retries of undefined'\" by @MasterOfPoppets\n- Fixed providing absolute paths for tests in config by @lennym\n\n## 0.4.13\n\n- Added **retries** option `Feature` and `Scenario` to rerun fragile tests:\n\n```js\nFeature('Complex JS Stuff', { retries: 3 })\n\nScenario('Not that complex', { retries: 1 }, (I) => {\n  // test goes here\n})\n```\n\n- Added **timeout** option `Feature` and `Scenario` to specify timeout.\n\n```js\nFeature('Complex JS Stuff', { timeout: 5000 })\n\nScenario('Not that complex', { timeout: 1000 }, (I) => {\n  // test goes here\n})\n```\n\n- [WebDriverIO] Added `uniqueScreenshotNames` option to set unique screenshot names for failed tests. By @APshenkin. See #299\n- [WebDriverIO] `clearField` method improved to accept name/label locators and throw errors.\n- [Nightmare][SeleniumWebdriver][Protractor] `clearField` method added.\n- [Nightmare] Fixed `waitForElement`, and `waitForVisible` methods.\n- [Nightmare] Fixed `resizeWindow` by @norisk-it\n- Added italian [translation](http://codecept.io/translation/#italian).\n\n## 0.4.12\n\n- Bootstrap / Teardown improved with [Hooks](http://codecept.io/configuration/#hooks). Various options for setup/teardown provided.\n- Added `--override` or `-o` option for runner to dynamically override configs. Valid JSON should be passed:\n\n```\ncodeceptjs run -o '{ \"bootstrap\": \"bootstrap.js\"}'\ncodeceptjs run -o '{ \"helpers\": {\"WebDriverIO\": {\"browser\": \"chrome\"}}}'\n```\n\n- Added [regression tests](https://github.com/codeceptjs/CodeceptJS/tree/master/test/runner) for codeceptjs tests runner.\n\n## 0.4.11\n\n- Fixed regression in 0.4.10\n- Added `bootstrap`/`teardown` config options to accept functions as parameters by @pscanf. See updated [config reference](http://codecept.io/configuration/) #319\n\n## 0.4.10\n\n- [Protractor] Protrctor 4.0.12+ support.\n- Enabled async bootstrap file by @abachar. Use inside `bootstrap.js`:\n\n```js\nmodule.exports = function (done) {\n  // async instructions\n  // call done() to continue execution\n  // otherwise call done('error description')\n}\n```\n\n- Changed 'pending' to 'skipped' in reports by @timja-kainos. See #315\n\n## 0.4.9\n\n- [SeleniumWebdriver][Protractor][WebDriverIO][Nightmare] fixed `executeScript`, `executeAsyncScript` to work and return values.\n- [Protractor][SeleniumWebdriver][WebDriverIO] Added `waitForInvisible` and `waitForStalenessOf` methods by @Nighthawk14.\n- Added `--config` option to `codeceptjs run` to manually specify config file by @cnworks\n- [Protractor] Simplified behavior of `amOutsideAngularApp` by using `ignoreSynchronization`. Fixes #278\n- Set exit code to 1 when test fails at `Before`/`After` hooks. Fixes #279\n\n## 0.4.8\n\n- [Protractor][SeleniumWebdriver][Nightmare] added `moveCursorTo` method.\n- [Protractor][SeleniumWebdriver][WebDriverIO] Added `manualStart` option to start browser manually in the beginning of test. By @cnworks. [PR#250\n- Fixed `codeceptjs init` to work with nested directories and file masks.\n- Fixed `codeceptjs gt` to generate test with proper file name suffix. By @Zougi.\n- [Nightmare] Fixed: Error is thrown when clicking on element which can't be locate. By @davetmik\n- [WebDriverIO] Fixed `attachFile` for file upload. By @giuband and @davetmik\n- [WebDriverIO] Add support for timeouts in config and with `defineTimeouts` method. By @easternbloc #258 and #267 by @davetmik\n- Fixed hanging of CodeceptJS when error is thrown by event dispatcher. Fix by @Zougi and @davetmik\n\n## 0.4.7\n\n- Improved docs for `BeforeSuite`; fixed its usage with `restart: false` option by @APshenkin.\n- Added `Nightmare` to list of available helpers on `init`.\n- [Nightmare] Removed double `resizeWindow` implementation.\n\n## 0.4.6\n\n- Added `BeforeSuite` and `AfterSuite` hooks to scenario by @APshenkin. See [updated documentation](http://codecept.io/basics/#beforesuite)\n\n## 0.4.5\n\n- Fixed running `codecept def` command by @jankaspar\n- [Protractor][SeleniumWebdriver] Added support for special keys in `pressKey` method. Fixes #216\n\n## 0.4.4\n\n- Interactive shell fixed. Start it by running `codeceptjs shell`\n- Added `--profile` option to `shell` command to use dynamic configuration.\n- Added `--verbose` option to `shell` command for most complete output.\n\n## 0.4.3\n\n- [Protractor] Regression fixed to ^4.0.0 support\n- Translations included into package.\n- `teardown` option added to config (opposite to `bootstrap`), expects a JS file to be executed after tests stop.\n- [Configuration](http://codecept.io/configuration/) can be set via JavaScript file `codecept.conf.js` instead of `codecept.json`. It should export `config` object:\n\n```js\n// inside codecept.conf.js\nexports.config = {\n  // contents of codecept.js\n}\n```\n\n- Added `--profile` option to pass its value to `codecept.conf.js` as `process.profile` for [dynamic configuration](http://codecept.io/configuration#dynamic-configuration).\n- Documentation for [StepObjects, PageFragments](http://codecept.io/pageobjects#PageFragments) updated.\n- Documentation for [Configuration](http://codecept.io/configuration/) added.\n\n## 0.4.2\n\n- Added ability to localize tests with translation #189. Thanks to @abner\n  - [Translation] ru-RU translation added.\n  - [Translation] pt-BR translation added.\n- [Protractor] Protractor 4.0.4 compatibility.\n- [WebDriverIO][SeleniumWebdriver][Protractor] Fixed single browser session mode for `restart: false`\n- Fixed using of 3rd party reporters (xunit, mocha-junit-reporter, mochawesome). Added guide.\n- Documentation for [Translation](http://codecept.io/translation/) added.\n- Documentation for [Reports](http://codecept.io/reports/) added.\n\n## 0.4.1\n\n- Added custom steps to step definition list. See #174 by @jayS-de\n- [WebDriverIO] Fixed using `waitForTimeout` option by @stephane-ruhlmann. See #178\n\n## 0.4.0\n\n- **[Nightmare](http://codecept.io/nightmare) Helper** added for faster web testing.\n- [Protractor][SeleniumWebdriver][WebDriverIO] added `restart: false` option to reuse one browser between tests (improves speed).\n- **Protractor 4.0** compatibility. Please upgrade Protractor library.\n- Added `--verbose` option for `run` command to log and print global promise and events.\n- Fixed errors with shutting down and cleanup.\n- Fixed starting interactive shell with `codeceptjs shell`.\n- Fixed handling of failures inside within block\n\n## 0.3.5\n\n- Introduced IDE autocompletion support for Visual Studio Code and others. Added command for generating TypeScript definitions for `I` object. Use it as\n\n```\ncodeceptjs def\n```\n\nto generate steps definition file and include it into tests by reference. By @kaflan\n\n## 0.3.4\n\n- [Protractor] version 3.3.0 comptaibility, NPM 3 compatibility. Please update Protractor!\n- allows using absolute path for helpers, output, in config and in command line. By @denis-sokolov\n- Fixes 'Cannot read property '1' of null in generate.js:44' by @seethislight\n\n## 0.3.3\n\n**Fixed global installation**. CodeceptJS can now locate globally located modules.\nCodeceptJS is also recommended for local installation.\nDepending on installation type additional modules (webdriverio, protractor, ...) will be loaded either from local or from global path.\n\n## 0.3.2\n\n- Added `codeceptjs list` command which shows all available methods of `I` object.\n- [Protractor][SeleniumWebdriver] fixed closing browser instances\n- [Protractor][SeleniumWebdriver] `doubleClick` method added\n- [WebDriverIO][Protractor][SeleniumWebdriver] `doubleClick` method to locate clickable elements by text, `context` option added.\n- Fixed using assert in generator without yields #89\n\n## 0.3.1\n\n- Fixed `init` command\n\n## 0.3.0\n\n**Breaking Change**: webdriverio package removed from dependencies list. You will need to install it manually after the upgrade.\nStarting from 0.3.0 webdriverio is not the only backend for running selenium tests, so you are free to choose between Protractor, SeleniumWebdriver, and webdriverio and install them.\n\n- **[Protractor] helper added**. Now you can test AngularJS applications by using its official library within the unigied CodeceptJS API!\n- **[SeleniumWebdriver] helper added**. You can switch to official JS bindings for Selenium.\n- [WebDriverIO] **updated to webdriverio v 4.0**\n- [WebDriverIO] `clearField` method added by @fabioel\n- [WebDriverIO] added `dragAndDrop` by @fabioel\n- [WebDriverIO] fixed `scrollTo` method by @sensone\n- [WebDriverIO] fixed `windowSize: maximize` option in config\n- [WebDriverIO] `seeElement` and `dontSeeElement` check element for visibility by @fabioel and @davertmik\n- [WebDriverIO] `seeElementInDOM`, `dontSeeElementInDOM` added to check element exists on page.\n- [WebDriverIO] fixed saving screenshots on failure. Fixes #70\n- fixed `within` block doesn't end in output not #79\n\n## 0.2.8\n\n- [WebDriverIO] added `seeNumberOfElements` by @fabioel\n\n## 0.2.7\n\n- process ends with exit code 1 on error or failure #49\n- fixed registereing global Helper #57\n- fixed handling error in within block #50\n\n## 0.2.6\n\n- Fixed `done() was called multiple times`\n- [WebDriverIO] added `waitToHide` method by @fabioel\n- Added global `Helper` (alias `codecept_helper)`, object use for writing custom Helpers. Generator updated. Changes to #48\n\n## 0.2.5\n\n- Fixed issues with using yield inside a test #45 #47 #43\n- Fixed generating a custom helper. Helper class is now accessible with `codecept_helper` var. Fixes #48\n\n## 0.2.4\n\n- Fixed accessing helpers from custom helper by @pim.\n\n## 0.2.3\n\n- [WebDriverIO] fixed `seeInField` to work with single value elements like: input[type=text], textareas, and multiple: select, input[type=radio], input[type=checkbox]\n- [WebDriverIO] fixed `pressKey`, key modifeiers (Control, Command, Alt, Shift) are released after the action\n\n## 0.2.2\n\nFixed generation of custom steps file and page objects.\nPlease replace `require('codeceptjs/actor')` to `actor` in your `custom_steps.js`.\nWhenever you need to create `I` object (in page objects, custom steps, but not in tests) just call `actor()`;\n\n## 0.2.0\n\n- **within** context hook added\n- `--reporter` option supported\n- [WebDriverIO] added features and methods:\n  - elements: `seeElement`, ...\n  - popups: `acceptPopup`, `cancelPopup`, `seeInPopup`,...\n  - navigation: `moveCursorTo`, `scrollTo`\n  - saving screenshots on failure; `saveScreenshot`\n  - cookies: `setCookie`, `seeCookie`, ...\n  - source: `seeInSource`\n  - form: `seeCheckboxIsChecked`, `selectOption` to support multiple selects\n  - keyboard: `appendField`, `pressKey`\n  - mouse: `rightClick`\n- tests added\n- [WebDriverIO] proxy configuration added by @petehouston\n- [WebDriverIO] fixed `waitForText` method by @roadhump. Fixes #11\n- Fixed creating output dir when it already exists on init by @alfirin\n- Fixed loading of custom helpers\n"
        },
        {
          "name": "Dockerfile",
          "type": "blob",
          "size": 2.0205078125,
          "content": "# Download Playwright and its dependencies\nFROM mcr.microsoft.com/playwright:v1.48.1-noble\nENV PUPPETEER_SKIP_CHROMIUM_DOWNLOAD true\n\n# Installing the pre-required packages and libraries\nRUN apt-get update && \\\n      apt-get install -y libgtk2.0-0 \\\n      libxtst6 libxss1 libnss3 xvfb\n\n# Install latest chrome dev package and fonts to support major charsets (Chinese, Japanese, Arabic, Hebrew, Thai and a few others)\n# Note: this installs the necessary libs to make the bundled version of Chromium that Puppeteer\n# installs, work.\nRUN apt-get update && apt-get install -y gnupg wget && \\\n  wget --quiet --output-document=- https://dl-ssl.google.com/linux/linux_signing_key.pub | gpg --dearmor > /etc/apt/trusted.gpg.d/google-archive.gpg && \\\n  echo \"deb [arch=amd64] http://dl.google.com/linux/chrome/deb/ stable main\" > /etc/apt/sources.list.d/google-chrome.list && \\\n  apt-get update && \\\n  apt-get install -y google-chrome-stable --no-install-recommends && \\\n  rm -rf /var/lib/apt/lists/*\n\n\n# Add pptr user.\nRUN groupadd -r pptruser && useradd -r -g pptruser -G audio,video pptruser \\\n    && mkdir -p /home/pptruser/Downloads \\\n    && chown -R pptruser:pptruser /home/pptruser \\\n    && chown -R pptruser:pptruser /home/pptruser\n\n#RUN mkdir /home/codecept\n\nCOPY . /codecept\n\nRUN chown -R pptruser:pptruser /codecept\nRUN runuser -l pptruser -c 'npm i --loglevel=warn --prefix /codecept'\n\nRUN ln -s /codecept/bin/codecept.js /usr/local/bin/codeceptjs\nRUN mkdir /tests\nWORKDIR /tests\n# Install puppeteer so it's available in the container.\nRUN npm i puppeteer@$(npm view puppeteer version) && npx puppeteer browsers install chrome\nRUN google-chrome --version\n\n# Install playwright browsers\nRUN npx playwright install\n\n# Allow to pass argument to codecept run via env variable\nENV CODECEPT_ARGS=\"\"\nENV RUN_MULTIPLE=false\nENV NO_OF_WORKERS=\"\"\n\n# Set HOST ENV variable for Selenium Server\nENV HOST=selenium\n\n# Run user as non privileged.\n# USER pptruser\n\n# Set the entrypoint\nENTRYPOINT [\"/codecept/docker/entrypoint\"]\n\n# Run tests\nCMD [\"bash\", \"/codecept/docker/run.sh\"]\n"
        },
        {
          "name": "LICENSE",
          "type": "blob",
          "size": 1.09375,
          "content": "The MIT License (MIT)\n\nCopyright (c) 2015 DavertMik <davert@codegyre.com> (http://codegyre.com)\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 12.169921875,
          "content": "[![Stand With Ukraine](https://raw.githubusercontent.com/vshymanskyy/StandWithUkraine/main/banner-direct-single.svg)](https://stand-with-ukraine.pp.ua)\n\n[<img src=\"https://img.shields.io/badge/slack-@codeceptjs-purple.svg?logo=slack\">](https://join.slack.com/t/codeceptjs/shared_invite/enQtMzA5OTM4NDM2MzA4LWE4MThhN2NmYTgxNTU5MTc4YzAyYWMwY2JkMmZlYWI5MWQ2MDM5MmRmYzZmYmNiNmY5NTAzM2EwMGIwOTNhOGQ) [<img src=\"https://img.shields.io/badge/discourse-codeceptjs-purple\">](https://codecept.discourse.group) [![NPM version][npm-image]][npm-url] [<img src=\"https://img.shields.io/badge/dockerhub-images-blue.svg?logo=codeceptjs\">](https://hub.docker.com/r/codeceptjs/codeceptjs)\n[![AI features](https://img.shields.io/badge/AI-features?logo=openai&logoColor=white)](https://github.com/codeceptjs/CodeceptJS/edit/3.x/docs/ai.md) [![StandWithUkraine](https://raw.githubusercontent.com/vshymanskyy/StandWithUkraine/main/badges/StandWithUkraine.svg)](https://github.com/vshymanskyy/StandWithUkraine/blob/main/docs/README.md)\n\nBuild Status:\n\nAppium Helper:\n[![Appium V2 Tests - Android](https://github.com/codeceptjs/CodeceptJS/actions/workflows/appiumV2_Android.yml/badge.svg)](https://github.com/codeceptjs/CodeceptJS/actions/workflows/appiumV2_Android.yml)\n\nWeb Helper:\n[![Playwright Tests](https://github.com/codeceptjs/CodeceptJS/actions/workflows/playwright.yml/badge.svg)](https://github.com/codeceptjs/CodeceptJS/actions/workflows/playwright.yml)\n[![Puppeteer Tests](https://github.com/codeceptjs/CodeceptJS/actions/workflows/puppeteer.yml/badge.svg)](https://github.com/codeceptjs/CodeceptJS/actions/workflows/puppeteer.yml)\n[![WebDriver Tests](https://github.com/codeceptjs/CodeceptJS/actions/workflows/webdriver.yml/badge.svg)](https://github.com/codeceptjs/CodeceptJS/actions/workflows/webdriver.yml)\n[![TestCafe Tests](https://github.com/codeceptjs/CodeceptJS/actions/workflows/testcafe.yml/badge.svg)](https://github.com/codeceptjs/CodeceptJS/actions/workflows/testcafe.yml)\n\n# CodeceptJS [![Made in Ukraine](https://img.shields.io/badge/made_in-ukraine-ffd700.svg?labelColor=0057b7)](https://stand-with-ukraine.pp.ua)\n\nReference: [Helpers API](https://github.com/codeceptjs/CodeceptJS/tree/master/docs/helpers)\n\n## Supercharged E2E Testing\n\nCodeceptJS is a new testing framework for end-to-end testing with WebDriver (or others).\nIt abstracts browser interaction to simple steps that are written from a user's perspective.\nA simple test that verifies the \"Welcome\" text is present on a main page of a site will look like:\n\n```js\nFeature('CodeceptJS demo')\n\nScenario('check Welcome page on site', ({ I }) => {\n  I.amOnPage('/')\n  I.see('Welcome')\n})\n```\n\nCodeceptJS tests are:\n\n- **Synchronous**. You don't need to care about callbacks or promises or test scenarios which are linear. But, your tests should be linear.\n- Written from **user's perspective**. Every action is a method of `I`. That makes test easy to read, write and maintain even for non-tech persons.\n- Backend **API agnostic**. We don't know which WebDriver implementation is running this test.\n\nCodeceptJS uses **Helper** modules to provide actions to `I` object. Currently, CodeceptJS has these helpers:\n\n- [**Playwright**](https://github.com/codeceptjs/CodeceptJS/blob/master/docs/helpers/Playwright.md) - is a Node library to automate the Chromium, WebKit and Firefox browsers with a single API.\n- [**Puppeteer**](https://github.com/codeceptjs/CodeceptJS/blob/master/docs/helpers/Puppeteer.md) - uses Google Chrome's Puppeteer for fast headless testing.\n- [**WebDriver**](https://github.com/codeceptjs/CodeceptJS/blob/master/docs/helpers/WebDriver.md) - uses [webdriverio](http://webdriver.io/) to run tests via WebDriver or Devtools protocol.\n- [**TestCafe**](https://github.com/codeceptjs/CodeceptJS/blob/master/docs/helpers/TestCafe.md) - cheap and fast cross-browser test automation.\n- [**Appium**](https://github.com/codeceptjs/CodeceptJS/blob/master/docs/helpers/Appium.md) - for **mobile testing** with Appium\n- [**Detox**](https://github.com/codeceptjs/CodeceptJS/blob/master/docs/helpers/Detox.md) - This is a wrapper on top of Detox library, aimed to unify testing experience for CodeceptJS framework. Detox provides a grey box testing for mobile applications, playing especially well for React Native apps.\n\nAnd more to come...\n\n## Why CodeceptJS?\n\nCodeceptJS is a successor of [Codeception](http://codeception.com), a popular full-stack testing framework for PHP.\nWith CodeceptJS your scenario-driven functional and acceptance tests will be as simple and clean as they can be.\nYou don't need to worry about asynchronous nature of NodeJS or about various APIs of Playwright, Selenium, Puppeteer, TestCafe, etc. as CodeceptJS unifies them and makes them work as they are synchronous.\n\n## Features\n\n- 🪄 **AI-powered** with GPT features to assist and heal failing tests.\n- ☕ Based on [Mocha](https://mochajs.org/) testing framework.\n- 💼 Designed for scenario driven acceptance testing in BDD-style.\n- 💻 Uses ES6 natively without transpiler.\n- Also plays nice with TypeScript.\n- </> Smart locators: use names, labels, matching text, CSS or XPath to locate elements.\n- 🌐 Interactive debugging shell: pause test at any point and try different commands in a browser.\n- Easily create tests, pageobjects, stepobjects with CLI generators.\n\n## Installation\n\n```sh\nnpm i codeceptjs --save\n```\n\nMove to directory where you'd like to have your tests (and CodeceptJS config) stored, and execute:\n\n```sh\nnpx codeceptjs init\n```\n\nto create and configure test environment. It is recommended to select WebDriver from the list of helpers, if you need to write Selenium WebDriver tests.\n\nAfter that create your first test by executing:\n\n```sh\nnpx codeceptjs generate:test\n```\n\nNow test is created and can be executed with\n\n```sh\nnpx codeceptjs run\n```\n\nIf you want to write your tests using TypeScript just generate standard Type Definitions by executing:\n\n```sh\nnpx codeceptjs def .\n```\n\nLater you can even automagically update Type Definitions to include your own custom [helpers methods](docs/helpers.md).\n\nNote:\n\n- CodeceptJS requires Node.js version `12+` or later.\n\n## Usage\n\nLearn CodeceptJS by examples. Let's assume we have CodeceptJS installed and WebDriver helper enabled.\n\n### Basics\n\nLet's see how we can handle basic form testing:\n\n```js\nFeature('CodeceptJS Demonstration')\n\nScenario('test some forms', ({ I }) => {\n  I.amOnPage('http://simple-form-bootstrap.plataformatec.com.br/documentation')\n  I.fillField('Email', 'hello@world.com')\n  I.fillField('Password', secret('123456'))\n  I.checkOption('Active')\n  I.checkOption('Male')\n  I.click('Create User')\n  I.see('User is valid')\n  I.dontSeeInCurrentUrl('/documentation')\n})\n```\n\nAll actions are performed by `I` object; assertions functions start with `see` function.\nIn these examples all methods of `I` are taken from WebDriver helper, see [reference](https://github.com/codeceptjs/CodeceptJS/blob/master/docs/helpers/WebDriver.md) to learn how to use them.\n\nLet's execute this test with `run` command. Additional option `--steps` will show us the running process. We recommend use `--steps` or `--debug` during development.\n\n```sh\nnpx codeceptjs run --steps\n```\n\nThis will produce an output:\n\n```sh\nCodeceptJS Demonstration --\n test some forms\n • I am on page \"http://simple-form-bootstrap.plataformatec.com.br/documentation\"\n • I fill field \"Email\", \"hello@world.com\"\n • I fill field \"Password\", \"****\"\n • I check option \"Active\"\n • I check option \"Male\"\n • I click \"Create User\"\n • I see \"User is valid\"\n • I dont see in current url \"/documentation\"\n ✓ OK in 17752ms\n```\n\nCodeceptJS has an ultimate feature to help you develop and debug your test.\nYou can **pause execution of test in any place and use interactive shell** to try different actions and locators.\nJust add `pause()` call at any place in a test and run it.\n\nInteractive shell can be started outside test context by running:\n\n```sh\nnpx codeceptjs shell\n```\n\n### Actions\n\nWe filled form with `fillField` methods, which located form elements by their label.\nThe same way you can locate element by name, `CSS` or `XPath` locators in tests:\n\n```js\n// by name\nI.fillField('user_basic[email]', 'hello@world.com')\n// by CSS\nI.fillField('#user_basic_email', 'hello@world.com')\n// don't make us guess locator type, specify it\nI.fillField({ css: '#user_basic_email' }, 'hello@world.com')\n```\n\nOther methods like `checkOption`, and `click` work in a similar manner. They can take labels or CSS or XPath locators to find elements to interact.\n\n### Assertions\n\nAssertions start with `see` or `dontSee` prefix. In our case we are asserting that string 'User is valid' is somewhere in a webpage.\nHowever, we can narrow the search to particular element by providing a second parameter:\n\n```js\nI.see('User is valid')\n// better to specify context:\nI.see('User is valid', '.alert-success')\n```\n\nIn this case 'User is valid' string will be searched only inside elements located by CSS `.alert-success`.\n\n### Grabbers\n\nIn case you need to return a value from a webpage and use it directly in test, you should use methods with `grab` prefix.\nThey are expected to be used inside `async/await` functions, and their results will be available in test:\n\n```js\nFeature('CodeceptJS Demonstration')\n\nScenario('test page title', async ({ I }) => {\n  I.amOnPage('http://simple-form-bootstrap.plataformatec.com.br/documentation')\n  const title = await I.grabTitle()\n  I.expectEqual(title, 'Example application with SimpleForm and Twitter Bootstrap') // Avaiable with Expect helper. -> https://codecept.io/helpers/Expect/\n})\n```\n\nThe same way you can grab text, attributes, or form values and use them in next test steps.\n\n### Before/After\n\nCommon preparation steps like opening a web page, logging in a user, can be placed in `Before` or `Background`:\n\n```js\nconst { I } = inject()\n\nFeature('CodeceptJS Demonstration')\n\nBefore(() => {\n  // or Background\n  I.amOnPage('http://simple-form-bootstrap.plataformatec.com.br/documentation')\n})\n\nScenario('test some forms', () => {\n  I.click('Create User')\n  I.see('User is valid')\n  I.dontSeeInCurrentUrl('/documentation')\n})\n\nScenario('test title', () => {\n  I.seeInTitle('Example application')\n})\n```\n\n## PageObjects\n\nCodeceptJS provides the most simple way to create and use page objects in your test.\nYou can create one by running\n\n```sh\nnpx codeceptjs generate pageobject\n```\n\nIt will create a page object file for you and add it to the config.\nLet's assume we created one named `docsPage`:\n\n```js\nconst { I } = inject()\n\nmodule.exports = {\n  fields: {\n    email: '#user_basic_email',\n    password: '#user_basic_password',\n  },\n  submitButton: { css: '#new_user_basic input[type=submit]' },\n\n  sendForm(email, password) {\n    I.fillField(this.fields.email, email)\n    I.fillField(this.fields.password, password)\n    I.click(this.submitButton)\n  },\n}\n```\n\nYou can easily inject it to test by providing its name in test arguments:\n\n```js\nFeature('CodeceptJS Demonstration')\n\nBefore(({ I }) => {\n  // or Background\n  I.amOnPage('http://simple-form-bootstrap.plataformatec.com.br/documentation')\n})\n\nScenario('test some forms', ({ I, docsPage }) => {\n  docsPage.sendForm('hello@world.com', '123456')\n  I.see('User is valid')\n  I.dontSeeInCurrentUrl('/documentation')\n})\n```\n\nWhen using Typescript, replace `module.exports` with `export` for autocompletion.\n\n## Contributing\n\n- ### [Contributing Guide](https://github.com/codeceptjs/CodeceptJS/blob/master/.github/CONTRIBUTING.md)\n- ### [Code of conduct](https://github.com/codeceptjs/CodeceptJS/blob/master/.github/CODE_OF_CONDUCT.md)\n\n## Contributors\n\nThanks to our awesome contributors! 🎉\n<a href=\"https://github.com/codeceptjs/codeceptjs/graphs/contributors\">\n  <img src=\"https://contrib.rocks/image?repo=codeceptjs/codeceptjs\" />\n</a>\n\nMade with [contrib.rocks](https://contrib.rocks).\n\n## License\n\nMIT © [CodeceptJS Team](http://codecept.io)\n\n[npm-image]: https://badge.fury.io/js/codeceptjs.svg\n[npm-url]: https://npmjs.org/package/codeceptjs\n[travis-image]: https://travis-ci.org/Codeception/codeceptjs.svg?branch=master\n[travis-url]: https://travis-ci.org/Codeception/codeceptjs\n[daviddm-image]: https://david-dm.org/Codeception/codeceptjs.svg?theme=shields.io\n[daviddm-url]: https://david-dm.org/Codeception/codeceptjs\n[coveralls-image]: https://coveralls.io/repos/Codeception/codeceptjs/badge.svg\n[coveralls-url]: https://coveralls.io/r/Codeception/codeceptjs\n"
        },
        {
          "name": "bin",
          "type": "tree",
          "content": null
        },
        {
          "name": "docker",
          "type": "tree",
          "content": null
        },
        {
          "name": "docs",
          "type": "tree",
          "content": null
        },
        {
          "name": "eslint.config.mjs",
          "type": "blob",
          "size": 2.1142578125,
          "content": "import globals from 'globals'\nimport path from 'node:path'\nimport { fileURLToPath } from 'node:url'\nimport js from '@eslint/js'\nimport { FlatCompat } from '@eslint/eslintrc'\n\nconst __filename = fileURLToPath(import.meta.url)\nconst __dirname = path.dirname(__filename)\nconst compat = new FlatCompat({\n  baseDirectory: __dirname,\n  recommendedConfig: js.configs.recommended,\n  allConfig: js.configs.all,\n})\n\nexport default [\n  {\n    ignores: ['test/data/output', 'lib/css2xpath/*'],\n  },\n  {\n    languageOptions: {\n      globals: {\n        ...globals.node,\n      },\n\n      ecmaVersion: 2020,\n      sourceType: 'module',\n    },\n\n    rules: {\n      'func-names': 0,\n      'no-use-before-define': 0,\n      'no-unused-vars': 0,\n      'no-underscore-dangle': 0,\n      'no-undef': 0,\n      'prefer-destructuring': 0,\n      'no-param-reassign': 0,\n      'max-len': 0,\n      camelcase: 0,\n      'no-shadow': 0,\n      'consistent-return': 0,\n      'no-console': 0,\n      'global-require': 0,\n      'class-methods-use-this': 0,\n      'no-plusplus': 0,\n      'no-return-assign': 0,\n      'prefer-rest-params': 0,\n      'no-useless-escape': 0,\n      'no-restricted-syntax': 0,\n      'no-unused-expressions': 0,\n      'guard-for-in': 0,\n      'no-multi-assign': 0,\n      'require-yield': 0,\n      'prefer-spread': 0,\n      'import/no-dynamic-require': 0,\n      'no-continue': 0,\n      'no-mixed-operators': 0,\n      'default-case': 0,\n      'import/no-extraneous-dependencies': 0,\n      'no-cond-assign': 0,\n      'import/no-unresolved': 0,\n      'no-await-in-loop': 0,\n      'arrow-body-style': 0,\n      'no-loop-func': 0,\n      'arrow-parens': 0,\n      'default-param-last': 0,\n      semi: 0,\n      'operator-linebreak': 0,\n      'nonblock-statement-body-position': 0,\n      curly: 0,\n      'implicit-arrow-linebreak': 0,\n      indent: 0,\n      'object-curly-newline': 0,\n      'semi-style': 0,\n      'function-paren-newline': 0,\n      'prefer-template': 0,\n      'newline-per-chained-call': 0,\n      'prefer-arrow-callback': 0,\n      'no-bitwise': 0,\n      'prefer-const': 0,\n      'no-extra-semi': 0,\n      'max-classes-per-file': 0,\n      'no-return-await': 0,\n    },\n  },\n]\n"
        },
        {
          "name": "examples",
          "type": "tree",
          "content": null
        },
        {
          "name": "jsconfig.json",
          "type": "blob",
          "size": 0.0888671875,
          "content": "{\n    \"compilerOptions\": {\n        \"target\": \"es2019\",\n        \"module\": \"commonjs\"\n    }\n}"
        },
        {
          "name": "lib",
          "type": "tree",
          "content": null
        },
        {
          "name": "package.json",
          "type": "blob",
          "size": 5.8193359375,
          "content": "{\n  \"name\": \"codeceptjs\",\n  \"version\": \"3.6.10\",\n  \"description\": \"Supercharged End 2 End Testing Framework for NodeJS\",\n  \"keywords\": [\n    \"acceptance\",\n    \"end2end\",\n    \"end 2 end\",\n    \"puppeteer\",\n    \"webdriver\",\n    \"testcafe\",\n    \"playwright\",\n    \"bdd\",\n    \"tdd\",\n    \"testing\"\n  ],\n  \"homepage\": \"https://codecept.io\",\n  \"license\": \"MIT\",\n  \"author\": {\n    \"name\": \"DavertMik\",\n    \"email\": \"davert@codegyre.com\",\n    \"url\": \"http://codegyre.com\"\n  },\n  \"files\": [\n    \"bin\",\n    \"lib\",\n    \"translations\",\n    \"typings/**/*.d.ts\",\n    \"docs/webapi/**\"\n  ],\n  \"main\": \"lib/index.js\",\n  \"exports\": {\n    \".\": \"./lib/index.js\",\n    \"./els\": \"./lib/els.js\"\n  },\n  \"types\": \"typings/index.d.ts\",\n  \"bin\": {\n    \"codeceptjs\": \"./bin/codecept.js\"\n  },\n  \"repository\": \"Codeception/codeceptjs\",\n  \"scripts\": {\n    \"json-server\": \"json-server test/data/rest/db.json --host 0.0.0.0 -p 8010 --watch -m test/data/rest/headers.js\",\n    \"json-server:graphql\": \"node test/data/graphql/index.js\",\n    \"lint\": \"eslint bin/ examples/ lib/ test/ translations/ runok.js\",\n    \"lint-fix\": \"eslint bin/ examples/ lib/ test/ translations/ runok.js --fix\",\n    \"prettier\": \"prettier --config prettier.config.js --write bin/**/*.js lib/**/*.js test/**/*.js translations/**/*.js runok.js\",\n    \"docs\": \"./runok.js docs\",\n    \"test:unit\": \"mocha test/unit --recursive --timeout 10000\",\n    \"test:runner\": \"mocha test/runner --recursive --timeout 10000\",\n    \"test\": \"npm run test:unit && npm run test:runner\",\n    \"test:appium-quick\": \"mocha test/helper/AppiumV2_test.js --grep 'quick'\",\n    \"test:appium-other\": \"mocha test/helper/AppiumV2_test.js --grep 'second'\",\n    \"test:ios:appium-quick\": \"mocha test/helper/AppiumV2_ios_test.js --grep 'quick'\",\n    \"test:ios:appium-other\": \"mocha test/helper/AppiumV2_ios_test.js --grep 'second'\",\n    \"test-app:start\": \"php -S 127.0.0.1:8000 -t test/data/app\",\n    \"test-app:stop\": \"kill -9 $(lsof -t -i:8000)\",\n    \"test:unit:webbapi:playwright\": \"mocha test/helper/Playwright_test.js\",\n    \"test:unit:webbapi:puppeteer\": \"mocha test/helper/Puppeteer_test.js\",\n    \"test:unit:webbapi:webDriver\": \"mocha test/helper/WebDriver_test.js --timeout 10000\",\n    \"test:unit:webbapi:webDriver:noSeleniumServer\": \"mocha test/helper/WebDriver.noSeleniumServer_test.js --timeout 10000\",\n    \"test:unit:webbapi:testCafe\": \"mocha test/helper/TestCafe_test.js\",\n    \"test:unit:expect\": \"mocha test/helper/Expect_test.js\",\n    \"test:plugin\": \"mocha test/plugin/plugin_test.js\",\n    \"def\": \"./runok.js def\",\n    \"dev:graphql\": \"node test/data/graphql/index.js\",\n    \"publish:site\": \"./runok.js publish:site\",\n    \"update-contributor-faces\": \"./runok.js contributor:faces\",\n    \"types-fix\": \"node typings/fixDefFiles.js\",\n    \"dtslint\": \"npm run types-fix && tsd\",\n    \"prepare\": \"husky install\",\n    \"prepare-release\": \"./runok.js versioning && ./runok.js get:commit-log\",\n    \"publish-beta\": \"./runok.js publish:next-beta-version\"\n  },\n  \"dependencies\": {\n    \"@codeceptjs/configure\": \"1.0.1\",\n    \"@codeceptjs/helper\": \"2.0.4\",\n    \"@cucumber/cucumber-expressions\": \"18\",\n    \"@cucumber/gherkin\": \"30\",\n    \"@cucumber/messages\": \"27.0.2\",\n    \"@xmldom/xmldom\": \"0.9.6\",\n    \"acorn\": \"8.14.0\",\n    \"arrify\": \"3.0.0\",\n    \"axios\": \"1.7.9\",\n    \"chalk\": \"4.1.2\",\n    \"cheerio\": \"^1.0.0\",\n    \"commander\": \"11.1.0\",\n    \"cross-spawn\": \"7.0.6\",\n    \"css-to-xpath\": \"0.1.0\",\n    \"csstoxpath\": \"1.6.0\",\n    \"envinfo\": \"7.14.0\",\n    \"escape-string-regexp\": \"4.0.0\",\n    \"figures\": \"3.2.0\",\n    \"fn-args\": \"4.0.0\",\n    \"fs-extra\": \"11.2.0\",\n    \"glob\": \"^11.0.0\",\n    \"fuse.js\": \"^7.0.0\",\n    \"html-minifier-terser\": \"7.2.0\",\n    \"inquirer\": \"6.5.2\",\n    \"invisi-data\": \"^1.0.0\",\n    \"joi\": \"17.13.3\",\n    \"js-beautify\": \"1.15.1\",\n    \"lodash.clonedeep\": \"4.5.0\",\n    \"lodash.merge\": \"4.6.2\",\n    \"mkdirp\": \"3.0.1\",\n    \"mocha\": \"11.1.0\",\n    \"monocart-coverage-reports\": \"2.11.5\",\n    \"ms\": \"2.1.3\",\n    \"ora-classic\": \"5.4.2\",\n    \"parse-function\": \"5.6.10\",\n    \"parse5\": \"7.2.1\",\n    \"promise-retry\": \"1.1.1\",\n    \"resq\": \"1.11.0\",\n    \"sprintf-js\": \"1.1.3\",\n    \"uuid\": \"11.0.4\"\n  },\n  \"optionalDependencies\": {\n    \"@codeceptjs/detox-helper\": \"1.1.4\"\n  },\n  \"devDependencies\": {\n    \"@apollo/server\": \"^4\",\n    \"@codeceptjs/expect-helper\": \"^0.2.2\",\n    \"@codeceptjs/mock-request\": \"0.3.1\",\n    \"@eslint/eslintrc\": \"3.2.0\",\n    \"@eslint/js\": \"9.17.0\",\n    \"@faker-js/faker\": \"9.3.0\",\n    \"@pollyjs/adapter-puppeteer\": \"6.0.6\",\n    \"@pollyjs/core\": \"5.1.0\",\n    \"@types/chai\": \"4.3.19\",\n    \"@types/inquirer\": \"9.0.7\",\n    \"@types/node\": \"22.10.5\",\n    \"@wdio/sauce-service\": \"9.5.1\",\n    \"@wdio/selenium-standalone-service\": \"8.15.0\",\n    \"@wdio/utils\": \"9.5.0\",\n    \"@xmldom/xmldom\": \"0.9.6\",\n    \"chai\": \"^4.0.0\",\n    \"chai-as-promised\": \"7.1.2\",\n    \"chai-subset\": \"1.6.0\",\n    \"documentation\": \"14.0.3\",\n    \"electron\": \"33.2.1\",\n    \"eslint\": \"^9.17.0\",\n    \"eslint-plugin-import\": \"2.31.0\",\n    \"eslint-plugin-mocha\": \"10.5.0\",\n    \"expect\": \"29.7.0\",\n    \"express\": \"4.21.2\",\n    \"globals\": \"15.14.0\",\n    \"graphql\": \"16.10.0\",\n    \"graphql-tag\": \"^2.12.6\",\n    \"husky\": \"9.1.7\",\n    \"inquirer-test\": \"2.0.1\",\n    \"jsdoc\": \"^3.6.11\",\n    \"jsdoc-typeof-plugin\": \"1.0.0\",\n    \"json-server\": \"0.17.4\",\n    \"playwright\": \"1.49.1\",\n    \"prettier\": \"^3.3.2\",\n    \"puppeteer\": \"23.11.1\",\n    \"qrcode-terminal\": \"0.12.0\",\n    \"rosie\": \"2.1.1\",\n    \"runok\": \"0.9.3\",\n    \"semver\": \"7.6.3\",\n    \"sinon\": \"19.0.2\",\n    \"sinon-chai\": \"3.7.0\",\n    \"testcafe\": \"3.7.1\",\n    \"ts-morph\": \"25.0.0\",\n    \"ts-node\": \"10.9.2\",\n    \"tsd\": \"^0.31.0\",\n    \"tsd-jsdoc\": \"2.5.0\",\n    \"typedoc\": \"0.27.6\",\n    \"typedoc-plugin-markdown\": \"4.4.1\",\n    \"typescript\": \"5.7.2\",\n    \"wdio-docker-service\": \"1.5.0\",\n    \"webdriverio\": \"^9.5.1\",\n    \"xml2js\": \"0.6.2\",\n    \"xpath\": \"0.0.34\"\n  },\n  \"engines\": {\n    \"node\": \">=16.0\",\n    \"npm\": \">=5.6.0\"\n  },\n  \"es6\": true,\n  \"tsd\": {\n    \"directory\": \"typings\",\n    \"compilerOptions\": {\n      \"strict\": false\n    }\n  }\n}\n"
        },
        {
          "name": "prettier.config.js",
          "type": "blob",
          "size": 0.1787109375,
          "content": "module.exports = {\n  printWidth: 220,\n  tabWidth: 2,\n  useTabs: false,\n  semi: false,\n  singleQuote: true,\n  trailingComma: 'all',\n  bracketSameLine: false,\n  arrowParens: 'avoid',\n}\n"
        },
        {
          "name": "runok.js",
          "type": "blob",
          "size": 19.8486328125,
          "content": "#!/usr/bin/env node\nconst fs = require('fs')\nconst path = require('path')\nconst axios = require('axios')\n\nconst {\n  stopOnFail,\n  chdir,\n  tasks: { git, copy, exec, replaceInFile, npmRun, npx, writeToFile },\n  runok,\n} = require('runok')\nconst { execSync } = require('node:child_process')\nconst semver = require('semver')\n\nlet documentation\n\nimport('documentation').then(mod => (documentation = mod))\n\nconst helperMarkDownFile = function (name) {\n  return `docs/helpers/${name}.md`\n}\nconst documentjsCliArgs = '-f md --shallow --markdown-toc=false --sort-order=alpha'\n\nstopOnFail()\n\nmodule.exports = {\n  async docs() {\n    // generate all docs (runs all docs:* commands in parallel)\n    await Promise.all([this.docsHelpers(), this.docsPlugins(), this.docsExternalHelpers()])\n  },\n\n  async def() {\n    await Promise.all([this.buildLibWithDocs(true), this.docsPlugins(), this.docsExternalHelpers()])\n    await this.defTypings()\n  },\n\n  async defTypings() {\n    console.log('Generate TypeScript definition')\n    // Generate definitions for promised-based helper methods\n    await npx('jsdoc -c typings/jsdocPromiseBased.conf.js')\n    fs.renameSync('typings/types.d.ts', 'typings/promiseBasedTypes.d.ts')\n    // Generate all other regular definitions\n    await npx('jsdoc -c typings/jsdoc.conf.js')\n  },\n\n  async docsPlugins() {\n    // generate documentation for plugins\n    await npx(`documentation build lib/plugin/*.js -o docs/plugins.md ${documentjsCliArgs}`)\n    await replaceInFile('docs/plugins.md', cfg => {\n      cfg.replace(/^/, '---\\npermalink: plugins\\nsidebarDepth: \\nsidebar: auto\\ntitle: Plugins\\n---\\n\\n')\n    })\n  },\n\n  async docsCi() {\n    // generate docs for CI services\n    stopOnFail()\n\n    writeToFile('docs/docker.md', cfg => {\n      cfg.line('---')\n      cfg.line('permalink: /docker')\n      cfg.line('layout: Section')\n      cfg.line('sidebar: false')\n      cfg.line('title: Docker')\n      cfg.line('editLink: false')\n      cfg.line('---')\n      cfg.line('')\n      cfg.textFromFile('docker/README.md')\n    })\n\n    let body = `---\npermalink: /continuous-integration\ntitle: Continuous Integration\n---\n\n<!-- this file is auto generated from CI category https://codecept.discourse.group/c/CodeceptJS-issues-in-general/ci/9 -->\n\n# Continuous Integration\n\n> Help us improve this article. [Write how did you set up CodeceptJS for CI](https://codecept.discourse.group/c/CodeceptJS-issues-in-general/ci/9) and see your post listed here!\n\nContinuous Integration services allows you to delegate the control of running tests to external system.\nCodeceptJS plays well with all types of CI even when there is no documentation on this topic, it is still easy to set up with any kind of hosted or cloud CI.\nOur community prepared some valuable recipes for setting up CI systems with CodeceptJS.\n\n## Recipes\n\n`\n    const res = await axios.get('https://codecept.discourse.group/search.json?q=category%3A9')\n    for (const topic of res.data.topics) {\n      if (topic.slug === 'about-the-continuous-integration-category') continue\n      body += `* ### [${topic.title}](https://codecept.discourse.group/t/${topic.slug}/)\\n`\n    }\n    writeToFile('docs/continuous-integration.md', cfg => cfg.line(body))\n  },\n\n  async docsExternalHelpers() {\n    // generate documentation for helpers outside of main repo\n    console.log('Building @codecepjs/detox helper docs')\n    let helper = 'Detox'\n    replaceInFile(`node_modules/@codeceptjs/detox-helper/${helper}.js`, cfg => {\n      cfg.replace(/CodeceptJS.LocatorOrString/g, 'string | object')\n      cfg.replace(/LocatorOrString/g, 'string | object')\n    })\n    await npx(`documentation build node_modules/@codeceptjs/detox-helper/${helper}.js -o ${helperMarkDownFile(helper)} ${documentjsCliArgs}`)\n\n    await writeToFile(helperMarkDownFile(helper), cfg => {\n      cfg.line(`---\\npermalink: /helpers/${helper}\\nsidebar: auto\\ntitle: ${helper}\\n---\\n\\n# ${helper}\\n\\n`)\n      cfg.textFromFile(helperMarkDownFile(helper))\n    })\n\n    replaceInFile(`node_modules/@codeceptjs/detox-helper/${helper}.js`, cfg => {\n      cfg.replace(/string \\| object/g, 'CodeceptJS.LocatorOrString')\n      cfg.replace(/string \\| object/g, 'LocatorOrString')\n    })\n\n    console.log('Building @codeceptjs/mock-request')\n    helper = 'MockRequest'\n    replaceInFile('node_modules/@codeceptjs/mock-request/index.js', cfg => {\n      cfg.replace(/CodeceptJS.LocatorOrString/g, 'string | object')\n      cfg.replace(/LocatorOrString/g, 'string | object')\n    })\n    await npx(`documentation build node_modules/@codeceptjs/mock-request/index.js -o ${helperMarkDownFile(helper)} ${documentjsCliArgs}`)\n\n    await writeToFile(helperMarkDownFile(helper), cfg => {\n      cfg.line(`---\\npermalink: /helpers/${helper}\\nsidebar: auto\\ntitle: ${helper}\\n---\\n\\n# ${helper}\\n\\n`)\n      cfg.textFromFile(helperMarkDownFile(helper))\n    })\n\n    replaceInFile('node_modules/@codeceptjs/mock-request/index.js', cfg => {\n      cfg.replace(/string \\| object/g, 'CodeceptJS.LocatorOrString')\n      cfg.replace(/string \\| object/g, 'LocatorOrString')\n    })\n  },\n\n  async docsExternalPlugins() {\n    // generate documentation for helpers outside of main repo\n    console.log('Building Vue plugin docs')\n    const resp = await axios.get('https://raw.githubusercontent.com/codecept-js/vue-cli-plugin-codeceptjs-puppeteer/master/README.md')\n\n    writeToFile('docs/vue.md', cfg => {\n      cfg.line('---\\npermalink: /vue\\nlayout: Section\\nsidebar: false\\ntitle: Testing Vue Apps\\n---\\n\\n')\n      cfg.line(resp.data)\n    })\n\n    this.docsCi()\n  },\n\n  async buildLibWithDocs(forTypings = false) {\n    // generate documentation for helpers\n    const files = fs.readdirSync('lib/helper').filter(f => path.extname(f) === '.js')\n\n    const partials = fs.readdirSync('docs/webapi').filter(f => path.extname(f) === '.mustache')\n    const placeholders = partials.map(file => `{{> ${path.basename(file, '.mustache')} }}`)\n    const templates = partials\n      .map(file => fs.readFileSync(`docs/webapi/${file}`).toString())\n      .map(template =>\n        template\n          .replace(/^/gm, '   * ')\n          .replace(/^/, '\\n')\n          .replace(/\\s*\\* /, ''),\n      )\n\n    for (const file of files) {\n      const name = path.basename(file, '.js')\n      console.log(`Building helpers with docs for ${name}`)\n      copy(`lib/helper/${file}`, `docs/build/${file}`)\n      replaceInFile(`docs/build/${file}`, cfg => {\n        for (const i in placeholders) {\n          cfg.replace(placeholders[i], templates[i])\n        }\n        if (!forTypings) {\n          cfg.replace(/CodeceptJS.LocatorOrString\\?/g, '(string | object)?')\n          cfg.replace(/LocatorOrString\\?/g, '(string | object)?')\n          cfg.replace(/CodeceptJS.LocatorOrString/g, 'string | object')\n          cfg.replace(/LocatorOrString/g, 'string | object')\n          cfg.replace(/CodeceptJS.StringOrSecret/g, 'string | object')\n        }\n      })\n    }\n  },\n\n  async docsHelpers() {\n    // generate documentation for helpers\n    const files = fs.readdirSync('lib/helper').filter(f => path.extname(f) === '.js')\n\n    const ignoreList = ['Polly', 'MockRequest'] // WebDriverIO won't be documented and should be removed\n\n    const partials = fs.readdirSync('docs/webapi').filter(f => path.extname(f) === '.mustache')\n    const placeholders = partials.map(file => `{{> ${path.basename(file, '.mustache')} }}`)\n    const templates = partials\n      .map(file => fs.readFileSync(`docs/webapi/${file}`).toString())\n      .map(template =>\n        template\n          .replace(/^/gm, '   * ')\n          .replace(/^/, '\\n')\n          .replace(/\\s*\\* /, ''),\n      )\n\n    const sharedPartials = fs.readdirSync('docs/shared').filter(f => path.extname(f) === '.mustache')\n    const sharedPlaceholders = sharedPartials.map(file => `{{ ${path.basename(file, '.mustache')} }}`)\n    const sharedTemplates = sharedPartials.map(file => fs.readFileSync(`docs/shared/${file}`).toString()).map(template => `\\n\\n\\n${template}`)\n\n    for (const file of files) {\n      const name = path.basename(file, '.js')\n      if (ignoreList.indexOf(name) >= 0) continue\n      console.log(`Writing documentation for ${name}`)\n      copy(`lib/helper/${file}`, `docs/build/${file}`)\n      replaceInFile(`docs/build/${file}`, cfg => {\n        for (const i in placeholders) {\n          cfg.replace(placeholders[i], templates[i])\n        }\n        cfg.replace(/CodeceptJS.LocatorOrString\\?/g, '(string | object)?')\n        cfg.replace(/LocatorOrString\\?/g, '(string | object)?')\n        cfg.replace(/CodeceptJS.LocatorOrString/g, 'string | object')\n        cfg.replace(/LocatorOrString/g, 'string | object')\n        cfg.replace(/CodeceptJS.StringOrSecret/g, 'string | object')\n      })\n\n      await npx(`documentation build docs/build/${file} -o docs/helpers/${name}.md ${documentjsCliArgs}`)\n      replaceInFile(helperMarkDownFile(name), cfg => {\n        cfg.replace(/\\(optional, default.*?\\)/gm, '')\n        cfg.replace(/\\\\*/gm, '')\n      })\n\n      replaceInFile(helperMarkDownFile(name), cfg => {\n        for (const i in sharedPlaceholders) {\n          cfg.replace(sharedPlaceholders[i], sharedTemplates[i])\n        }\n      })\n\n      replaceInFile(helperMarkDownFile(name), cfg => {\n        const regex = /## config((.|\\n)*)\\[1\\]/m\n        const fullText = fs.readFileSync(helperMarkDownFile(name)).toString()\n        const text = fullText.match(regex)\n        if (!text) return\n\n        cfg.replace('<!-- configuration -->', text[1])\n        cfg.replace(regex, '[1]')\n      })\n\n      if (name === 'Appium') {\n        await this.docsAppium()\n      }\n\n      await writeToFile(helperMarkDownFile(name), cfg => {\n        cfg.append(`---\npermalink: /helpers/${name}\neditLink: false\nsidebar: auto\ntitle: ${name}\n---\n\n`)\n        cfg.textFromFile(helperMarkDownFile(name))\n      })\n    }\n  },\n\n  async wiki() {\n    // publish wiki pages to website\n    if (!fs.existsSync('docs/wiki/Home.md')) {\n      await git(fn => {\n        fn.clone('git@github.com:codeceptjs/CodeceptJS.wiki.git', 'docs/wiki')\n      })\n    }\n    await chdir('docs/wiki', () => git(cfg => cfg.pull('origin master')))\n\n    await writeToFile('docs/community-helpers.md', cfg => {\n      cfg.line('---')\n      cfg.line('permalink: /community-helpers')\n      cfg.line('title: Community Helpers')\n      cfg.line('editLink: false')\n      cfg.line('---')\n      cfg.line('')\n      cfg.line('# Community Helpers')\n      cfg.line('> Share your helpers at our [Wiki Page](https://github.com/codeceptjs/CodeceptJS/wiki/Community-Helpers)')\n      cfg.line('')\n      cfg.textFromFile('docs/wiki/Community-Helpers-&-Plugins.md')\n    })\n\n    writeToFile('docs/examples.md', cfg => {\n      cfg.line('---')\n      cfg.line('permalink: /examples')\n      cfg.line('layout: Section')\n      cfg.line('sidebar: false')\n      cfg.line('title: Examples')\n      cfg.line('editLink: false')\n      cfg.line('---')\n      cfg.line('')\n      cfg.line('# Examples')\n      cfg.line('> Add your own examples to our [Wiki Page](https://github.com/codeceptjs/CodeceptJS/wiki/Examples)')\n      cfg.textFromFile('docs/wiki/Examples.md')\n    })\n\n    writeToFile('docs/books.md', cfg => {\n      cfg.line('---')\n      cfg.line('permalink: /books')\n      cfg.line('layout: Section')\n      cfg.line('sidebar: false')\n      cfg.line('title: Books & Posts')\n      cfg.line('editLink: false')\n      cfg.line('---')\n      cfg.line('')\n      cfg.line('# Books & Posts')\n      cfg.line('> Add your own books or posts to our [Wiki Page](https://github.com/codeceptjs/CodeceptJS/wiki/Books-&-Posts)')\n      cfg.textFromFile('docs/wiki/Books-&-Posts.md')\n    })\n\n    writeToFile('docs/videos.md', cfg => {\n      cfg.line('---')\n      cfg.line('permalink: /videos')\n      cfg.line('layout: Section')\n      cfg.line('sidebar: false')\n      cfg.line('title: Videos')\n      cfg.line('editLink: false')\n      cfg.line('---')\n      cfg.line('')\n      cfg.line('> Add your own videos to our [Wiki Page](https://github.com/codeceptjs/CodeceptJS/wiki/Videos)')\n      cfg.textFromFile('docs/wiki/Videos.md')\n    })\n  },\n\n  async docsAppium() {\n    // generates docs for appium\n    const onlyWeb = [/Title/, /Popup/, /Cookie/, /Url/, /^press/, /^refreshPage/, /^resizeWindow/, /Script$/, /cursor/, /Css/, /Tab$/, /^wait/]\n    const webdriverDoc = await documentation.build(['docs/build/WebDriver.js'], {\n      shallow: true,\n      order: 'asc',\n    })\n    const doc = await documentation.build(['docs/build/Appium.js'], {\n      shallow: true,\n      order: 'asc',\n    })\n\n    // copy all public methods from webdriver\n    for (const method of webdriverDoc[0].members.instance) {\n      if (onlyWeb.filter(f => method.name.match(f)).length) continue\n      if (doc[0].members.instance.filter(m => m.name === method.name).length) continue\n      doc[0].members.instance.push(method)\n    }\n    const output = await documentation.formats.md(doc)\n    // output is a string of Markdown data\n    fs.writeFileSync('docs/helpers/Appium.md', output)\n  },\n\n  async publishSite() {\n    // updates codecept.io website\n    await processChangelog()\n    await this.wiki()\n\n    const dir = 'website'\n    if (fs.existsSync(dir)) {\n      await exec(`rm -rf ${dir}`)\n    }\n\n    await git(fn => fn.clone('git@github.com:codeceptjs/website.git', dir))\n    await copy('docs', 'website/docs')\n\n    await chdir(dir, async () => {\n      stopOnFail(false)\n      await git(fn => {\n        fn.add('-A')\n        fn.commit('-m \"synchronized with docs\"')\n        fn.pull()\n        fn.push()\n      })\n      stopOnFail(true)\n\n      await exec('./runok.js publish')\n    })\n  },\n\n  async server() {\n    // run test server. Warning! PHP required!\n    await Promise.all([exec('php -S 127.0.0.1:8000 -t test/data/app'), npmRun('json-server')])\n  },\n\n  async release(releaseType = null) {\n    const packageInfo = JSON.parse(fs.readFileSync('package.json'))\n    // Releases CodeceptJS. You can pass in argument \"patch\", \"minor\", \"major\" to update package.json\n    if (releaseType) {\n      packageInfo.version = semver.inc(packageInfo.version, releaseType)\n      fs.writeFileSync('package.json', JSON.stringify(packageInfo))\n      await git(cmd => {\n        cmd.add('package.json')\n        cmd.commit('-m \"version bump\"')\n      })\n    }\n    // publish a new release on npm. Update version in package.json!\n    const version = packageInfo.version\n    await this.docs()\n    await this.def()\n    await this.publishSite()\n    await git(cmd => {\n      cmd.pull()\n      cmd.tag(version)\n      cmd.push('origin 3.x --tags')\n    })\n    await exec('rm -rf docs/wiki/.git')\n    await exec('npm publish')\n    console.log('-- RELEASED --')\n  },\n\n  async versioning() {\n    const semver = require('semver')\n\n    if (fs.existsSync('./package.json')) {\n      const packageFile = require('./package.json')\n      const currentVersion = packageFile.version\n      let type = process.argv[3]\n      if (!['major', 'minor', 'patch'].includes(type)) {\n        type = 'patch'\n      }\n\n      const newVersion = semver.inc(packageFile.version, type)\n      packageFile.version = newVersion\n      fs.writeFileSync('./package.json', JSON.stringify(packageFile, null, 2).replace(/(^[ \\t]*\\n)/gm, ''))\n      console.log('Version updated', currentVersion, '=>', newVersion)\n\n      const file = 'CHANGELOG.md'\n      const changelog = fs.readFileSync(file).toString()\n\n      const _changelog = `## ${newVersion}\\n\n❤️ Thanks all to those who contributed to make this release! ❤️\n\n🛩️ *Features*\n\n🐛 *Bug Fixes*\n\n📖 *Documentation*\n\n${changelog}`\n\n      fs.writeFileSync(`./${file}`, _changelog)\n\n      console.log('Creating and switching to release branch...')\n      await exec(`git checkout -b release-${newVersion}`)\n    }\n  },\n\n  async getCommitLog() {\n    console.log('Gathering commits...')\n    const logs = await exec('git log --grep \"chore(deps\" --invert-grep --pretty=\\'format:* %s - by @%aN\\' $(git describe --abbrev=0 --tags)..HEAD | grep \"DOC: \" -v')\n    console.log(logs.data.stdout)\n  },\n\n  async contributorFaces() {\n    // update contributors list in readme\n    const owner = 'codeceptjs'\n    const repo = 'codeceptjs'\n    const token = process.env.GH_TOKEN\n\n    try {\n      const response = await axios.get(`https://api.github.com/repos/${owner}/${repo}/contributors`, {\n        headers: { Authorization: `token ${token}` },\n      })\n\n      // Filter out bot accounts\n      const excludeUsers = ['dependabot[bot]', 'actions-user']\n\n      const filteredContributors = response.data.filter(contributor => !excludeUsers.includes(contributor.login))\n\n      const contributors = filteredContributors.map(contributor => {\n        return `\n<td align=\"center\">\n  <a href=\"${contributor.html_url}\">\n    <img src=\"${contributor.avatar_url}\" width=\"100\" height=\"100\" alt=\"${contributor.login}\"/><br />\n    <sub><b>${contributor.login}</b></sub>\n  </a>\n</td>`\n      })\n\n      // Chunk contributors into rows of 4\n      const rows = []\n      const chunkSize = 4\n      for (let i = 0; i < contributors.length; i += chunkSize) {\n        rows.push(`<tr>${contributors.slice(i, i + chunkSize).join('')}</tr>`)\n      }\n\n      // Combine rows into a table\n      const contributorsTable = `\n<table>\n  ${rows.join('\\n')}\n</table>\n    `\n\n      const readmePath = path.join(__dirname, 'README.md')\n      let content = fs.readFileSync(readmePath, 'utf-8')\n\n      // Replace or add the contributors section in the README\n      const contributorsSectionRegex = /(## Contributors\\s*\\n)([\\s\\S]*?)(\\n##|$)/\n      const match = content.match(contributorsSectionRegex)\n\n      if (match) {\n        const updatedContent = content.replace(contributorsSectionRegex, `${match[1]}\\n${contributorsTable}\\n${match[3]}`)\n        fs.writeFileSync(readmePath, updatedContent, 'utf-8')\n      } else {\n        // If no contributors section exists, add one at the end\n        content += `\\n${contributorsTable}`\n        fs.writeFileSync(readmePath, content, 'utf-8')\n      }\n\n      console.log('Contributors section updated successfully!')\n    } catch (error) {\n      console.error('Error fetching contributors:', error.message)\n    }\n  },\n\n  getCurrentBetaVersion() {\n    try {\n      const output = execSync('npm view codeceptjs versions --json').toString()\n      const versions = JSON.parse(output)\n      const betaVersions = versions.filter(version => version.includes('beta'))\n      const latestBeta = betaVersions.length ? betaVersions[betaVersions.length - 1] : null\n      console.log(`Current beta version: ${latestBeta}`)\n      return latestBeta\n    } catch (error) {\n      console.error('Error fetching package versions:', error)\n      process.exit(1)\n    }\n  },\n\n  publishNextBetaVersion() {\n    const currentBetaVersion = this.getCurrentBetaVersion()\n    if (!currentBetaVersion) {\n      console.error('No beta version found.')\n      process.exit(1)\n    }\n\n    const nextBetaVersion = semver.inc(currentBetaVersion, 'prerelease', 'beta')\n    console.log(`Publishing version: ${nextBetaVersion}`)\n\n    try {\n      // Save original version\n      const packageJson = JSON.parse(fs.readFileSync('package.json', 'utf8'))\n      const originalVersion = packageJson.version\n      execSync(`npm version ${nextBetaVersion} --no-git-tag-version`)\n      execSync('npm publish --tag beta')\n      console.log(`Successfully published ${nextBetaVersion}`)\n\n      // Revert to original version\n      execSync(`npm version ${originalVersion} --no-git-tag-version`)\n      console.log(`Reverted back to original version: ${originalVersion}`)\n    } catch (error) {\n      console.error('Error publishing package:', error)\n      process.exit(1)\n    }\n  },\n}\n\nasync function processChangelog() {\n  const file = 'CHANGELOG.md'\n  let changelog = fs.readFileSync(file).toString()\n\n  // user\n  changelog = changelog.replace(/\\s@([\\w-]+)/gm, ' **[$1](https://github.com/$1)**')\n\n  // issue\n  changelog = changelog.replace(/#(\\d+)/gm, '[#$1](https://github.com/codeceptjs/CodeceptJS/issues/$1)')\n\n  // helper\n  changelog = changelog.replace(/\\s\\[(\\w+)\\]\\s/gm, ' **[$1]** ')\n\n  writeToFile('docs/changelog.md', cfg => {\n    cfg.line('---')\n    cfg.line('permalink: /changelog')\n    cfg.line('title: Releases')\n    cfg.line('sidebar: false')\n    cfg.line('layout: Section')\n    cfg.line('---')\n    cfg.line('')\n    cfg.line('# Releases')\n    cfg.line('')\n    cfg.line(changelog)\n  })\n}\n\nif (require.main === module) runok(module.exports)\n"
        },
        {
          "name": "test",
          "type": "tree",
          "content": null
        },
        {
          "name": "translations",
          "type": "tree",
          "content": null
        },
        {
          "name": "tsconfig.json",
          "type": "blob",
          "size": 0.537109375,
          "content": "{\n  \"ts-node\": {\n    \"files\": true\n  },\n  \"compilerOptions\": {\n    \"target\": \"es2018\",\n    \"lib\": [\"es2018\", \"DOM\"],\n    \"esModuleInterop\": true,\n    \"module\": \"commonjs\",\n    \"types\": [\"node\"],\n    \"declaration\": true,\n    \"skipLibCheck\": true,\n    \"allowJs\": true,\n    \"checkJs\": true,\n    \"noImplicitAny\": false,\n    \"noImplicitThis\": false,\n    \"noEmit\": true,\n    \"strictNullChecks\": true,\n    \"moduleDetection\": \"force\"\n  },\n  \"exclude\": [\"node_modules\", \"typings/tests\"],\n  \"compileOnSave\": true,\n  \"include\": [\n    \"lib\",\n    \"typings\"\n  ]\n}\n"
        },
        {
          "name": "typings",
          "type": "tree",
          "content": null
        }
      ]
    }
  ]
}