{
  "metadata": {
    "timestamp": 1736562089771,
    "page": 871,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjg4MA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "woniudiancang/bee",
      "stars": 3198,
      "defaultBranch": "master",
      "files": [
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.0458984375,
          "content": "dist/\npackage-lock.json\nnode_modules/\n.DS_Store"
        },
        {
          "name": "LICENSE",
          "type": "blob",
          "size": 9.4912109375,
          "content": "                     木兰宽松许可证, 第2版\r\n\r\n   木兰宽松许可证， 第2版 \r\n   2020年1月 http://license.coscl.org.cn/MulanPSL2\r\n\r\n\r\n   您对“软件”的复制、使用、修改及分发受木兰宽松许可证，第2版（“本许可证”）的如下条款的约束：\r\n\r\n   0. 定义\r\n\r\n      “软件”是指由“贡献”构成的许可在“本许可证”下的程序和相关文档的集合。\r\n\r\n      “贡献”是指由任一“贡献者”许可在“本许可证”下的受版权法保护的作品。\r\n\r\n      “贡献者”是指将受版权法保护的作品许可在“本许可证”下的自然人或“法人实体”。\r\n\r\n      “法人实体”是指提交贡献的机构及其“关联实体”。\r\n\r\n      “关联实体”是指，对“本许可证”下的行为方而言，控制、受控制或与其共同受控制的机构，此处的控制是指有受控方或共同受控方至少50%直接或间接的投票权、资金或其他有价证券。\r\n\r\n   1. 授予版权许可\r\n\r\n      每个“贡献者”根据“本许可证”授予您永久性的、全球性的、免费的、非独占的、不可撤销的版权许可，您可以复制、使用、修改、分发其“贡献”，不论修改与否。\r\n\r\n   2. 授予专利许可\r\n\r\n      每个“贡献者”根据“本许可证”授予您永久性的、全球性的、免费的、非独占的、不可撤销的（根据本条规定撤销除外）专利许可，供您制造、委托制造、使用、许诺销售、销售、进口其“贡献”或以其他方式转移其“贡献”。前述专利许可仅限于“贡献者”现在或将来拥有或控制的其“贡献”本身或其“贡献”与许可“贡献”时的“软件”结合而将必然会侵犯的专利权利要求，不包括对“贡献”的修改或包含“贡献”的其他结合。如果您或您的“关联实体”直接或间接地，就“软件”或其中的“贡献”对任何人发起专利侵权诉讼（包括反诉或交叉诉讼）或其他专利维权行动，指控其侵犯专利权，则“本许可证”授予您对“软件”的专利许可自您提起诉讼或发起维权行动之日终止。\r\n\r\n   3. 无商标许可\r\n\r\n      “本许可证”不提供对“贡献者”的商品名称、商标、服务标志或产品名称的商标许可，但您为满足第4条规定的声明义务而必须使用除外。\r\n\r\n   4. 分发限制\r\n\r\n      您可以在任何媒介中将“软件”以源程序形式或可执行形式重新分发，不论修改与否，但您必须向接收者提供“本许可证”的副本，并保留“软件”中的版权、商标、专利及免责声明。\r\n\r\n   5. 免责声明与责任限制\r\n\r\n      “软件”及其中的“贡献”在提供时不带任何明示或默示的担保。在任何情况下，“贡献者”或版权所有者不对任何人因使用“软件”或其中的“贡献”而引发的任何直接或间接损失承担责任，不论因何种原因导致或者基于何种法律理论，即使其曾被建议有此种损失的可能性。 \r\n\r\n   6. 语言\r\n      “本许可证”以中英文双语表述，中英文版本具有同等法律效力。如果中英文版本存在任何冲突不一致，以中文版为准。\r\n\r\n   条款结束 \r\n\r\n   如何将木兰宽松许可证，第2版，应用到您的软件\r\n   \r\n   如果您希望将木兰宽松许可证，第2版，应用到您的新软件，为了方便接收者查阅，建议您完成如下三步：\r\n\r\n      1， 请您补充如下声明中的空白，包括软件名、软件的首次发表年份以及您作为版权人的名字；\r\n\r\n      2， 请您在软件包的一级目录下创建以“LICENSE”为名的文件，将整个许可证文本放入该文件中；\r\n\r\n      3， 请将如下声明文本放入每个源文件的头部注释中。\r\n\r\n   Copyright (c) [Year] [name of copyright holder]\r\n   [Software Name] is licensed under Mulan PSL v2.\r\n   You can use this software according to the terms and conditions of the Mulan PSL v2. \r\n   You may obtain a copy of Mulan PSL v2 at:\r\n            http://license.coscl.org.cn/MulanPSL2 \r\n   THIS SOFTWARE IS PROVIDED ON AN \"AS IS\" BASIS, WITHOUT WARRANTIES OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT, MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.  \r\n   See the Mulan PSL v2 for more details.  \r\n\r\n\r\n                     Mulan Permissive Software License，Version 2\r\n\r\n   Mulan Permissive Software License，Version 2 (Mulan PSL v2)\r\n   January 2020 http://license.coscl.org.cn/MulanPSL2\r\n\r\n   Your reproduction, use, modification and distribution of the Software shall be subject to Mulan PSL v2 (this License) with the following terms and conditions: \r\n   \r\n   0. Definition\r\n   \r\n      Software means the program and related documents which are licensed under this License and comprise all Contribution(s). \r\n   \r\n      Contribution means the copyrightable work licensed by a particular Contributor under this License.\r\n   \r\n      Contributor means the Individual or Legal Entity who licenses its copyrightable work under this License.\r\n   \r\n      Legal Entity means the entity making a Contribution and all its Affiliates.\r\n   \r\n      Affiliates means entities that control, are controlled by, or are under common control with the acting entity under this License, ‘control’ means direct or indirect ownership of at least fifty percent (50%) of the voting power, capital or other securities of controlled or commonly controlled entity.\r\n\r\n   1. Grant of Copyright License\r\n\r\n      Subject to the terms and conditions of this License, each Contributor hereby grants to you a perpetual, worldwide, royalty-free, non-exclusive, irrevocable copyright license to reproduce, use, modify, or distribute its Contribution, with modification or not.\r\n\r\n   2. Grant of Patent License \r\n\r\n      Subject to the terms and conditions of this License, each Contributor hereby grants to you a perpetual, worldwide, royalty-free, non-exclusive, irrevocable (except for revocation under this Section) patent license to make, have made, use, offer for sale, sell, import or otherwise transfer its Contribution, where such patent license is only limited to the patent claims owned or controlled by such Contributor now or in future which will be necessarily infringed by its Contribution alone, or by combination of the Contribution with the Software to which the Contribution was contributed. The patent license shall not apply to any modification of the Contribution, and any other combination which includes the Contribution. If you or your Affiliates directly or indirectly institute patent litigation (including a cross claim or counterclaim in a litigation) or other patent enforcement activities against any individual or entity by alleging that the Software or any Contribution in it infringes patents, then any patent license granted to you under this License for the Software shall terminate as of the date such litigation or activity is filed or taken.\r\n\r\n   3. No Trademark License\r\n\r\n      No trademark license is granted to use the trade names, trademarks, service marks, or product names of Contributor, except as required to fulfill notice requirements in Section 4.\r\n\r\n   4. Distribution Restriction\r\n\r\n      You may distribute the Software in any medium with or without modification, whether in source or executable forms, provided that you provide recipients with a copy of this License and retain copyright, patent, trademark and disclaimer statements in the Software.\r\n\r\n   5. Disclaimer of Warranty and Limitation of Liability\r\n\r\n      THE SOFTWARE AND CONTRIBUTION IN IT ARE PROVIDED WITHOUT WARRANTIES OF ANY KIND, EITHER EXPRESS OR IMPLIED. IN NO EVENT SHALL ANY CONTRIBUTOR OR COPYRIGHT HOLDER BE LIABLE TO YOU FOR ANY DAMAGES, INCLUDING, BUT NOT LIMITED TO ANY DIRECT, OR INDIRECT, SPECIAL OR CONSEQUENTIAL DAMAGES ARISING FROM YOUR USE OR INABILITY TO USE THE SOFTWARE OR THE CONTRIBUTION IN IT, NO MATTER HOW IT’S CAUSED OR BASED ON WHICH LEGAL THEORY, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGES.\r\n\r\n   6. Language\r\n\r\n      THIS LICENSE IS WRITTEN IN BOTH CHINESE AND ENGLISH, AND THE CHINESE VERSION AND ENGLISH VERSION SHALL HAVE THE SAME LEGAL EFFECT. IN THE CASE OF DIVERGENCE BETWEEN THE CHINESE AND ENGLISH VERSIONS, THE CHINESE VERSION SHALL PREVAIL.\r\n\r\n   END OF THE TERMS AND CONDITIONS\r\n\r\n   How to Apply the Mulan Permissive Software License，Version 2 (Mulan PSL v2) to Your Software\r\n\r\n      To apply the Mulan PSL v2 to your work, for easy identification by recipients, you are suggested to complete following three steps:\r\n\r\n      i Fill in the blanks in following statement, including insert your software name, the year of the first publication of your software, and your name identified as the copyright owner; \r\n\r\n      ii Create a file named “LICENSE” which contains the whole context of this License in the first directory of your software package;\r\n\r\n      iii Attach the statement to the appropriate annotated syntax at the beginning of each source file.\r\n\r\n\r\n   Copyright (c) [Year] [name of copyright holder]\r\n   [Software Name] is licensed under Mulan PSL v2.\r\n   You can use this software according to the terms and conditions of the Mulan PSL v2. \r\n   You may obtain a copy of Mulan PSL v2 at:\r\n               http://license.coscl.org.cn/MulanPSL2 \r\n   THIS SOFTWARE IS PROVIDED ON AN \"AS IS\" BASIS, WITHOUT WARRANTIES OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT, MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.  \r\n   See the Mulan PSL v2 for more details.  \r\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 12.6572265625,
          "content": "# 微信小程序——餐饮点餐商城\n\n微信小程序——餐饮点餐商城，是针对餐饮行业推出的一套完整的餐饮解决方案，实现了用户在线点餐下单、外卖、叫号排队、支付、配送等功能，完美的使餐饮行业更高效便捷！\n\n大家如果在使用过程有什么问题，欢迎通过lssues与我们交流！\n\n如果本项目对您有所帮助或者启发，请给我们 Star 吧，您的鼓励是我们最大对动力～\n\n# 加微信联系我\n\n<img src=\"https://dcdn.it120.cc/2022/09/19/7b884d58-541a-404b-a805-457540d7f87f.jpeg\" width=\"200px\">\n\n\n# 自提/外卖 扫码体验\n\n<img src=\"https://dcdn.it120.cc/2021/01/19/b388b014-7ae0-4b3a-9d6f-30c8b3082fe6.jpg\" width=\"200px\">\n\n\n# 扫码点餐演示\n\n| 座号A1 | 座号A2 | 座号A3 | 座号A4 | 座号A5 |\n| :------: | :------: | :------: | :------: | :------: |\n| <img src=\"https://dcdn.it120.cc/cuser/27/2021/09/26/cbb91217-47b1-4af1-a0e5-55df0efd3566.png\" width=\"200px\"> | <img src=\"https://dcdn.it120.cc/cuser/27/2023/01/04/cbb30b43-15df-4564-87ef-3416f58ab0c8.png\" width=\"200px\"> | <img src=\"https://dcdn.it120.cc/cuser/27/2023/01/04/150cd47b-e769-49fc-bca6-be8c5fe84f49.png\" width=\"200px\"> | <img src=\"https://dcdn.it120.cc/cuser/27/2023/01/04/b5a44d1f-cea4-437f-802d-a36c728ff459.png\" width=\"200px\"> | <img src=\"https://dcdn.it120.cc/cuser/27/2023/01/04/99c47ba3-50ba-4431-93c6-e10f527a5e28.png\" width=\"200px\"> |\n\n\n| 座号A6 | 座号A7 | 座号A8 | 座号A9 | 座号A10 |\n| :------: | :------: | :------: | :------: | :------: |\n| <img src=\"https://dcdn.it120.cc/cuser/27/2023/01/04/aca7a7fd-72c9-4d89-a903-d82e6b8b8f83.png\" width=\"200px\"> | <img src=\"https://dcdn.it120.cc/cuser/27/2023/01/04/77f16752-656f-4218-99df-c82c5db1921a.png\" width=\"200px\"> | <img src=\"https://dcdn.it120.cc/cuser/27/2023/01/04/e3be04c4-9c0f-41c8-9482-b645699d1df4.png\" width=\"200px\"> | <img src=\"https://dcdn.it120.cc/cuser/27/2023/01/04/352c7e84-56ec-4961-9e7d-cc4e752cf154.png\" width=\"200px\"> | <img src=\"https://dcdn.it120.cc/cuser/27/2023/01/04/78adb196-231d-41b7-be8d-51febc022bac.png\" width=\"200px\"> |\n\n\n# QQ交流群\n\n| 交流群3（709136251）| 交流群4（276780260）|\n| :------: | :------: |\n| <img src=\"https://dcdn.it120.cc/2021/09/13/751cb675-265e-4be1-8f2e-f26935f693d7.png\" width=\"200px\">| <img src=\"https://dcdn.it120.cc/2022/12/20/5e4d6d5b-1361-476d-912f-ee740f036ec6.jpeg\" width=\"150px\">| \n\n| 交流群1（已满）（926321567） | 交流群2（已满）（671428068） |\n| :------: | :------: |\n| <img src=\"https://dcdn.it120.cc/2020/07/27/e3d09fd2-ace0-4cf4-9d71-e0454591ff54.png\" width=\"200px\">| <img src=\"https://dcdn.it120.cc/2020/12/27/b709cceb-befc-405b-8c5a-c8f9e90a1a5b.png\" width=\"150px\">|\n\n# 本项目使用了下面的组件，在此鸣谢\n\n- [vant-UI库](https://youzan.github.io/vant-weapp/)\n\n- [小程序在线接口-SDK](https://github.com/gooking/apifm-wxapi)\n\n- [api工厂](https://admin.it120.cc)\n\n- [FMUI-轻松活泼-icon](https://www.iconfont.cn/collections/detail?spm=a313x.7781069.0.da5a778a4&cid=17041)\n\n- [小程序HTML解析组件](https://github.com/jin-yufeng/Parser)\n\n- [生成条码和二维码](https://github.com/alsey/wxbarcode)\n\n# 其他优秀开源模板推荐\n- [天使童装](https://github.com/EastWorld/wechat-app-mall)   /  [码云镜像](https://gitee.com/javazj/wechat-app-mall)\n- [天使童装（uni-app版本）](https://github.com/gooking/uni-app-mall)  /   [码云镜像](https://gitee.com/javazj/uni-app-mall)\n- [简约精品商城（uni-app版本）](https://github.com/gooking/uni-app--mini-mall)  /   [码云镜像](https://gitee.com/javazj/uni-app--mini-mall)\n- [舔果果小铺（升级版）](https://github.com/gooking/TianguoguoXiaopu)\n- [面馆风格小程序](https://gitee.com/javazj/noodle_shop_procedures)\n- [AI名片](https://github.com/gooking/visitingCard)  /   [码云镜像](https://gitee.com/javazj/visitingCard)\n- [仿海底捞订座排队 (uni-app)](https://github.com/gooking/dingzuopaidui)  /   [码云镜像](https://gitee.com/javazj/dingzuopaidui)\n- [H5版本商城/餐饮](https://github.com/gooking/vueMinishop)  /  [码云镜像](https://gitee.com/javazj/vueMinishop)\n- [餐饮点餐](https://github.com/woniudiancang/bee)  / [码云镜像](https://gitee.com/woniudiancang/bee)\n- [企业微展](https://github.com/gooking/qiyeweizan)  / [码云镜像](https://gitee.com/javazj/qiyeweizan)\n- [无人棋牌室](https://github.com/gooking/wurenqipai)  / [码云镜像](https://gitee.com/javazj/wurenqipai)\n- [酒店客房服务小程序](https://github.com/gooking/hotelRoomService)  / [码云镜像](https://gitee.com/javazj/hotelRoomService)\n- [面包店风格小程序](https://github.com/gooking/bread)  / [码云镜像](https://gitee.com/javazj/bread)\n- [朋友圈发圈素材小程序](https://github.com/gooking/moments)  / [码云镜像](https://gitee.com/javazj/moments)\n\n# 使用教程\n\n## 注册开通小程序账号\nhttps://mp.weixin.qq.com/\n根据自己的实际情况选择 “企业”、“个体工商户”身份，注册小程序账号，商城类小程序不支持个人用户上线，所以一定要选择企业或者个体户，获得你自己小程序的 appid 和 secret 信息，保存好，下面会用到：\n- [如何查看小程序的AppID和AppSecret](https://jingyan.baidu.com/article/642c9d340305e3644a46f795.html)\n你需要设置小程序的合法域名，否则开发工具上运行正常，手机访问的时候将看不到数据\n- [设置合法服务器域名](https://www.yuque.com/apifm/doc/tvpou9)\n## 注册开通后台账号\nhttps://admin.it120.cc/\n免费注册开通新后台后登录，登录后的首页，请记下你的专属域名，后面会用到\n左侧菜单 “工厂设置” --> “数据克隆” --> “将别人的数据克隆给我”\n对方商户ID填写 27\n点击 “立即克隆”，克隆成功后，F5 刷新一下后台\n## 配置小程序APPID/SECRET\n左侧菜单，微信设置，填写配置上一步获得的 appid 和 secret\n这一步很重要！！！\n如果没有正确配置，下面步骤中打开小程序将无法连接你的后台\n## 配置微信支付\n左侧菜单，系统设置 -->  在线支付配置，填写您自己的微信支付的信息\n## 下载安装开发工具\nhttps://developers.weixin.qq.com/miniprogram/dev/devtools/download.html\n## 运行小程序看效果\n双击运行第一步安装的小程序开发工具，打开看效果：\n\n<img src=\"https://dcdn.it120.cc/yuque/0/2019/png/572726/1575349127431-00ff2059-dd5e-4e4b-99a7-e1d605db02c7.png?x-oss-process=image%2Fresize%2Cw_1500 \" width=\"200px\">\n\n导入项目这里，目录选择你 “第二步” 中下载并加压的小程序代码所在目录\n\nAPPID 务必要改成你自己的小程序的 APPID\nAPPID 务必要改成你自己的小程序的 APPID\nAPPID 务必要改成你自己的小程序的 APPID\n\n然后点击导入按钮\n\n- [如何查看小程序的AppID和AppSecret](https://jingyan.baidu.com/article/642c9d340305e3644a46f795.html)\n\n## 配置对接你自己的后台\n在开发工具中 config.js 中的subDomain 改成你自己专属域名， ctrl + s 保存\n\n<img src=\"https://dcdn.it120.cc/yuque/0/2020/png/572726/1581236703094-ce5c7f32-c60d-4e1b-bacb-21439e1d2721.png?x-oss-process=image%2Fresize%2Cw_1500 \" width=\"200px\">\n\n- [如何查看自己的subDomain](https://www.yuque.com/apifm/doc/qr6l4m)\n\n## 用户自提的订单如何扫码核销\n\n用户选择自提的订单，会在底部取餐菜单界面显示订单信息以及取餐码，商家可通过 “我的” --> “扫码核销” 菜单，点击以后调起手机相机，扫用户出示的取餐码完成核销\n\n但是默认情况下，是看不见  “我的” --> “扫码核销” 菜单的，需要在后台 “系统设置” --> “系统参数” ，添加文本类型的参数：\n\n- 参数名 order_hx_uids\n- 参数值，具有核销权限的用户的用户编号，多个用户编号，使用英文的逗号分隔\n\n重新进入小程序以后，就可以看见 “扫码核销” 的菜单了\n\n## 桌号管理\n\n    登录后台，左侧菜单 “桌号管理”，添加并管理你的桌号信息，添加以后在列表你将可以看到 ID 和 密钥，这两个数据用来生成桌子的二维码\n\n<img src=\"https://dcdn.it120.cc/2022/12/30/e76a0320-992a-4932-9d58-dec3fd6630b8.png\">\n\n## 生成桌子二维码\n\n    例如上面的ID为 308，密钥为 d3PiIY，那么现在去左侧菜单微信设置 -> 小程序设置 -> 获取小程序二维码（圆形码），即可获取小程序码：\n    填写信息如下：\n- 页面路径: pages/index/index\n- scene参数: shopId=12879,id=308,key=d3PiIY\n\n其中 shopId 为你对应的门店ID，其他参数默认就可以了\n\n<img src=\"https://dcdn.it120.cc/2022/12/30/6c807326-8db9-465a-912e-58847b28658c.png\">\n\n## 如何修改小程序首页标题\n\n登录后台，左侧菜单 “系统设置” --> “系统参数” ，添加一个文本类型的参数： mallName （注意大小写），小程序即可显示你后台填的名称\n\n## 根据选择的不同门店，区分显示商品（只显示当前门店的商品）\n\n登录后台，左侧菜单 “系统设置” --> “系统参数” ，添加一个开关类型的参数： shop_goods_split，开启为区分，关闭为不区分\n\n## 如何设置服务范围（多少公里）\n\n后台 “商场管理” --> “门店管理” ，编辑门店，服务距离处，填写你希望配送的距离即可\n\n## 如何显示销量\n\n商品列表接口、商品详情接口，都会返回商品的销量数据，分别是 numberOrders 和 numberSells 两个字段，你可以在界面上任何希望显示销量的地方，进行展示即可\n\n- numberOrders 订单数量\n- numberSells 商品数量\n\n假如说用户下了一个订单一次性购买10份这个商品，那么 numberOrders = 1 ，numberSells = 10\n\n## 如何区分门店显示商品\n\n后台左侧菜单“系统设置” -> “系统参数”，增加一个开关类型的参数: shop_goods_split\n\n开启则只会显示当前门店的商品，关闭则显示所有门店的商品\n\n## 在线订座如何配置\n\n1. 左侧菜单 “预约报名” --> “项目设置” ，添加一个项目，添加完以后会得到一个编号\n2. 左侧菜单 “系统设置” --> “系统参数”， 修改编号为 `zxdz` 的参数，将你的编号填进去即可\n\n## 配置达达配送\n\n1. [如何对接达达配送，先按这个教程完成配置](https://www.yuque.com/apifm/doc/gxk08t)\n2. 后台 “商城管理” --> “门店管理”， 编辑，门店编号填写你达达对应的门店编号，生鲜配送输入框填写 `dada`\n\n## 二次开发如何使用国际化实现多语言\n\n1. `js` 文件中，onload 方法中，加入： `getApp().initLanguage(this)` ;注意这里的路径要填正确，否则提示文件找不到;\n2. 页面中可以直接显示语言包中的内容: `{{ $t.test.name }}`;\n3. 语言内容，直接修改 `i18n` 文件夹中对应的语言的文件即可；\n\n# 常见问题\n\n## 无法登陆 / 无法获取 openid\n\n1. 请检查 config.js 文件中的 subDomain 是否已经修改成你自己的专属域名了\n    \n    [如何查看自己的subDomain](https://www.yuque.com/apifm/doc/qr6l4m)\n\n2. 确保下面3个地方的 appID 你填的是一样的\n\n    - 登录你的小程序商户后台（https://mp.weixin.qq.com）左侧菜单 “开发” --> “开发设置” 中的 appid\n    - 点击你的小程序开发工具 右上角 的“详情” --> “基本信息” 中的 appid\n    - 登录你的 api工厂 后台（https://admin.it120.cc），左侧菜单微信设置中的 appid\n\n## 获取手机号码失败，提示没权限\n\nhttps://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/getPhoneNumber.html\n\n官方文档有说明，获取手机号码的前提条件是：非个人开发者，且完成了认证的小程序开放（不包含海外主体）\n\n## wx.getLocation 改为 wx.getFuzzyLocation (getLocation的接口权限太难申请了)\n\n微信申请 getLocation 接口的审核比较严格，可能比较难申请到这个接口，可以用 wx.getFuzzyLocation 来代替： https://developers.weixin.qq.com/miniprogram/dev/api/location/wx.getFuzzyLocation.html\n\n\n开发工具，全局替换以下代码：\n\n需要替换3次\n\n`scope.userLocation` 替换为 `scope.userFuzzyLocation`\n\n如图：\n\n\n<img src=\"https://dcdn.it120.cc/yuque/0/2023/png/572726/1680937230066-f31f9661-7c15-4ffe-86b1-9d70ce5a6062.png\">\n\n\n再全局替换代码：\n\n`wx.getLocation` 替换为 `wx.getFuzzyLocation`\n\n再全局替换代码：\n\n`\"getLocation\"` 替换为 `\"getFuzzyLocation\"`\n\n## 小程序订单中心path 怎么填\n\n请填写 `pages/all-orders/index`\n\n## 微信支付MA授权(appid和mch_id不匹配)\n\n[微信支付MA授权(appid和mch_id不匹配)](https://www.yuque.com/apifm/doc/zrui8q)\n\n## 使用国际化多语言，切换语言后底部菜单显示不对\n\n`/i18n/index.js` 文件里面的菜单内容估计忘记修改了\n"
        },
        {
          "name": "app.js",
          "type": "blob",
          "size": 4.724609375,
          "content": "const WXAPI = require('apifm-wxapi')\nconst CONFIG = require('config.js')\nconst AUTH = require('utils/auth')\nconst i18n = require(\"i18n/index\")\nApp({\n  onLaunch: function() {\n    i18n.getLanguage()\n    this.setTabBarLanguage()\n    const $t = i18n.$t()\n    WXAPI.init(CONFIG.subDomain)\n    WXAPI.setMerchantId(CONFIG.merchantId)\n    const that = this;\n    // 检测新版本\n    const updateManager = wx.getUpdateManager()\n    updateManager.onUpdateReady(function () {\n      wx.showModal({\n        confirmText: $t.common.confirm,\n        cancelText: $t.common.cancel,\n        content: $t.common.upgrade,\n        success(res) {\n          if (res.confirm) {\n            // 新的版本已经下载好，调用 applyUpdate 应用新版本并重启\n            updateManager.applyUpdate()\n          }\n        }\n      })\n    })\n    /**\n     * 初次加载判断网络情况\n     * 无网络状态下根据实际情况进行调整\n     */\n    wx.getNetworkType({\n      success(res) {\n        const networkType = res.networkType\n        if (networkType === 'none') {\n          that.globalData.isConnected = false\n          wx.showToast({\n            title: $t.common.noNetwork,\n            icon: 'loading'\n          })\n        }\n      }\n    });\n    /**\n     * 监听网络状态变化\n     * 可根据业务需求进行调整\n     */\n    wx.onNetworkStatusChange(function(res) {\n      if (!res.isConnected) {\n        that.globalData.isConnected = false\n        wx.showToast({\n          title: $t.common.networkDown,\n          icon: 'loading'\n        })\n      } else {\n        that.globalData.isConnected = true\n        wx.hideToast()\n      }\n    })\n    WXAPI.queryConfigBatch('mallName,myBg,mapPos,order_hx_uids,subscribe_ids,share_profile,zxdz,admin_uids,shop_goods_split,QQ_MAP_KEY,shop_join_open,create_order_select_time,packaging_fee,customerServiceChatCorpId,customerServiceChatUrl,alipay').then(res => {\n      if (res.code == 0) {\n        res.data.forEach(config => {\n          wx.setStorageSync(config.key, config.value);\n        })\n        if (this.configLoadOK) {\n          this.configLoadOK()\n        }\n      }\n    })\n  },\n  onShow (e) {\n    if (e && e.query && e.query.scene) {\n      const scene = decodeURIComponent(e.query.scene) // 处理扫码进商品详情页面的逻辑\n      if (scene && scene.split(',').length == 3) {\n        // 扫码点餐\n      } else {\n        AUTH.checkHasLogined().then(isLogined => {\n          if (!isLogined) {\n            AUTH.authorize()\n          }\n        })\n      }\n    } else {\n      AUTH.checkHasLogined().then(isLogined => {\n        if (!isLogined) {\n          AUTH.authorize()\n        }\n      })\n    }\n    // 保存邀请人\n    if (e && e.query && e.query.inviter_id) {\n      wx.setStorageSync('referrer', e.query.inviter_id)\n      if (e.shareTicket) {\n        wx.getShareInfo({\n          shareTicket: e.shareTicket,\n          success: res => {\n            console.log(res)\n            console.log({\n              referrer: e.query.inviter_id,\n              encryptedData: res.encryptedData,\n              iv: res.iv\n            })\n            wx.login({\n              success(loginRes) {\n                if (loginRes.code) {\n                  WXAPI.shareGroupGetScore(\n                    loginRes.code,\n                    e.query.inviter_id,\n                    res.encryptedData,\n                    res.iv\n                  ).then(_res => {\n                    console.log(_res)\n                  }).catch(err => {\n                    console.error(err)\n                  })\n                } else {\n                  console.error(loginRes.errMsg)\n                }\n              }\n            })\n          }\n        })\n      }\n    }\n    this.refreshStorageShopInfo()\n  },\n  async refreshStorageShopInfo() {\n    // 刷新本地缓存的门店信息 https://www.yuque.com/apifm/nu0f75/cu4cfi\n    let shopInfo = wx.getStorageSync('shopInfo')\n    if (!shopInfo) {\n      return\n    }\n    const res = await WXAPI.shopSubdetail(shopInfo.id)\n    if (res.code == 0) {\n      const distance = shopInfo.distance\n      shopInfo = res.data.info\n      shopInfo.distance = distance\n      wx.setStorageSync('shopInfo',  shopInfo)\n    }\n  },\n  initLanguage(_this) {\n    _this.setData({\n      language: i18n.getLanguage(),\n      $t: i18n.$t(),\n    })\n  },\n  changeLang(_this) {\n    const langs = i18n.langs\n    const nameArray = []\n    langs.forEach(ele => nameArray.push(ele.name))\n    wx.showActionSheet({\n      itemList: nameArray,\n      success: (e) => {\n        const lang = langs[e.tapIndex]\n        wx.setStorageSync('Language', lang.code)\n        _this.setData({\n          language: i18n.getLanguage(),\n          $t: i18n.$t(),\n        })\n        this.setTabBarLanguage()\n      }\n    })\n  },\n  setTabBarLanguage() {\n    i18n.setTabBarLanguage()\n  },\n  globalData: {\n    isConnected: true\n  }\n})"
        },
        {
          "name": "app.json",
          "type": "blob",
          "size": 4.0029296875,
          "content": "{\r\n  \"pages\": [\r\n    \"pages/index/index\",\r\n    \"pages/all-orders/index\",\r\n    \"pages/my/index\",\r\n    \"pages/my/feedback\",\r\n    \"pages/my/user-code\",\r\n    \"pages/ad/index\",\r\n    \"pages/pay/index\",\r\n    \"pages/shop/select\",\r\n    \"pages/shop/detail\",\r\n    \"pages/shop/join-apply\",\r\n    \"pages/youhui-pay/index\",\r\n    \"pages/member-center/index\",\r\n    \"pages/order-details/index\",\r\n    \"pages/order-details/scan-result\",\r\n    \"pages/order-details/doing\",\r\n    \"pages/about/index\",\r\n    \"pages/coupons/index\",\r\n    \"pages/booking/index\",\r\n    \"pages/asset/index\",\r\n    \"pages/asset/recharge-log\",\r\n    \"pages/asset/cash-log\",\r\n    \"pages/sign/index\",\r\n    \"pages/score/logs\",\r\n    \"pages/notice/detail\",\r\n    \"pages/queue/index\",\r\n    \"pages/cart/index\",\r\n    \"pages/cart/order\",\r\n    \"pages/goods-details/index\",\r\n    \"pages/goods/list\"\r\n  ],\r\n  \"requiredPrivateInfos\": [\r\n    \"getLocation\",\r\n    \"chooseLocation\",\r\n    \"chooseAddress\"\r\n  ],\r\n  \"window\": {\r\n    \"backgroundTextStyle\": \"light\",\r\n    \"navigationBarBackgroundColor\": \"#fff\",\r\n    \"navigationBarTitleText\": \"WeChat\",\r\n    \"navigationBarTextStyle\": \"black\"\r\n  },\r\n  \"tabBar\": {\r\n    \"color\": \"#6e6d6b\",\r\n    \"selectedColor\": \"#e64340\",\r\n    \"backgroundColor\": \"#fff\",\r\n    \"list\": [\r\n      {\r\n        \"pagePath\": \"pages/index/index\",\r\n        \"iconPath\": \"images/nav/index-off.png\",\r\n        \"selectedIconPath\": \"images/nav/index-on.png\",\r\n        \"text\": \"点餐\"\r\n      },\r\n      {\r\n        \"pagePath\": \"pages/queue/index\",\r\n        \"iconPath\": \"images/nav/qh-off.png\",\r\n        \"selectedIconPath\": \"images/nav/qh-on.png\",\r\n        \"text\": \"取号\"\r\n      },\r\n      {\r\n        \"pagePath\": \"pages/order-details/doing\",\r\n        \"iconPath\": \"images/nav/qc-off.png\",\r\n        \"selectedIconPath\": \"images/nav/qc-on.png\",\r\n        \"text\": \"取餐\"\r\n      },\r\n      {\r\n        \"pagePath\": \"pages/my/index\",\r\n        \"iconPath\": \"images/nav/my-off.png\",\r\n        \"selectedIconPath\": \"images/nav/my-on.png\",\r\n        \"text\": \"我的\"\r\n      }\r\n    ]\r\n  },\r\n  \"permission\": {\r\n    \"scope.userLocation\": {\r\n      \"desc\": \"获取离你最近的门店\"\r\n    }\r\n  },\r\n  \"usingComponents\": {\r\n    \"parser\":\"/components/parser.20200731.min/parser\",\r\n    \"payment\": \"/components/payment/index\",\r\n    \"van-button\": \"@vant/weapp/button/index\",\r\n    \"van-sidebar\": \"@vant/weapp/sidebar/index\",\r\n    \"van-sidebar-item\": \"@vant/weapp/sidebar-item/index\",\r\n    \"van-swipe-cell\": \"@vant/weapp/swipe-cell/index\",\r\n    \"van-card\": \"@vant/weapp/card/index\",\r\n    \"van-submit-bar\": \"@vant/weapp/submit-bar/index\",\r\n    \"van-popup\": \"@vant/weapp/popup/index\",\r\n    \"van-stepper\": \"@vant/weapp/stepper/index\",\r\n    \"van-row\": \"@vant/weapp/row/index\",\r\n    \"van-col\": \"@vant/weapp/col/index\",\r\n    \"van-divider\": \"@vant/weapp/divider/index\",\r\n    \"van-icon\": \"@vant/weapp/icon/index\",\r\n    \"van-empty\": \"@vant/weapp/empty/index\",\r\n    \"van-field\": \"@vant/weapp/field/index\",\r\n    \"van-cell\": \"@vant/weapp/cell/index\",\r\n    \"van-cell-group\": \"@vant/weapp/cell-group/index\",\r\n    \"van-dialog\": \"@vant/weapp/dialog/index\",\r\n    \"van-overlay\": \"@vant/weapp/overlay/index\",\r\n    \"van-tab\": \"@vant/weapp/tab/index\",\r\n    \"van-tabs\": \"@vant/weapp/tabs/index\",\r\n    \"van-datetime-picker\": \"@vant/weapp/datetime-picker/index\",\r\n    \"van-calendar\": \"@vant/weapp/calendar/index\",\r\n    \"van-notice-bar\": \"@vant/weapp/notice-bar/index\",\r\n    \"van-tabbar\": \"@vant/weapp/tabbar/index\",\r\n    \"van-tabbar-item\": \"@vant/weapp/tabbar-item/index\",\r\n    \"van-tag\": \"@vant/weapp/tag/index\",\r\n    \"van-goods-action\": \"@vant/weapp/goods-action/index\",\r\n    \"van-goods-action-icon\": \"@vant/weapp/goods-action-icon/index\",\r\n    \"van-goods-action-button\": \"@vant/weapp/goods-action-button/index\",\r\n    \"van-uploader\": \"@vant/weapp/uploader/index\",\r\n    \"van-grid\": \"@vant/weapp/grid/index\",\r\n    \"van-grid-item\": \"@vant/weapp/grid-item/index\",\r\n    \"van-count-down\": \"@vant/weapp/count-down/index\",\r\n    \"van-progress\": \"@vant/weapp/progress/index\",\r\n    \"van-radio\": \"@vant/weapp/radio/index\",\r\n    \"van-radio-group\": \"@vant/weapp/radio-group/index\"\r\n  },\r\n  \"sitemapLocation\": \"sitemap.json\"\r\n}"
        },
        {
          "name": "app.wxss",
          "type": "blob",
          "size": 0.548828125,
          "content": "page {\n  font-family: -apple-system, BlinkMacSystemFont, 'Helvetica Neue', Helvetica,\n    Segoe UI, Arial, Roboto, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft Yahei',\n    sans-serif;\n}\npage,view,image,input {\n  display: block;\n  box-sizing: border-box;\n}\n.badge {\n  position: absolute;\n  top: 0;\n  right: 0;\n  box-sizing: border-box;\n  width: 38rpx;\n  height: 38rpx;\n  line-height: 38rpx;\n  color: #fff;\n  font-size: 20rpx;\n  text-align: center;\n  background-color: #e64340;\n  border: 1rpx solid #fff;\n  border-radius: 50%;\n}\n.block-btn {\n  padding: 0 32rpx;\n}"
        },
        {
          "name": "components",
          "type": "tree",
          "content": null
        },
        {
          "name": "config.js",
          "type": "blob",
          "size": 0.4404296875,
          "content": "module.exports = {\n  version: \"24.11.20\",\n  note: '支付宝生成付款二维码的接口更换',\n  subDomain: \"beeorder\", // 根据教程 https://www.it120.cc/help/qr6l4m.html 查看并设置你自己的 subDomain\n  merchantId: 27, // 商户ID，可在后台工厂设置-->商户信息查看\n  customerServiceType: 'QW' // 客服类型，QW为企业微信，需要在后台系统参数配置企业ID和客服URL，否则为小程序的默认客服\n}"
        },
        {
          "name": "i18n",
          "type": "tree",
          "content": null
        },
        {
          "name": "images",
          "type": "tree",
          "content": null
        },
        {
          "name": "miniprogram_npm",
          "type": "tree",
          "content": null
        },
        {
          "name": "package-lock.json",
          "type": "blob",
          "size": 1.1455078125,
          "content": "{\n  \"name\": \"beeorder\",\n  \"version\": \"1.0.0\",\n  \"lockfileVersion\": 1,\n  \"requires\": true,\n  \"dependencies\": {\n    \"@types/wechat-miniprogram\": {\n      \"version\": \"3.0.0\",\n      \"resolved\": \"https://registry.npmjs.org/@types/wechat-miniprogram/-/wechat-miniprogram-3.0.0.tgz\",\n      \"integrity\": \"sha512-T30UPtyzFXk3hqsUKNqe1exODND1+snpH7S0fDBHLXVDGAuJGKsH8nXp83OfLEOak82Rn7w0uctwUxraC9XjAQ==\"\n    },\n    \"@vant/weapp\": {\n      \"version\": \"1.5.2\",\n      \"resolved\": \"https://registry.npmjs.org/@vant/weapp/-/weapp-1.5.2.tgz\",\n      \"integrity\": \"sha512-jJFVszQXijyFN+D85Dmu3BGRwr5Ofh/MSByq1VPSoN1FeIisHNtcpfLycYzjJRkpPCfm9T1L9YlOUskWXnjJNQ==\",\n      \"requires\": {\n        \"@types/wechat-miniprogram\": \"^3.0.0\"\n      }\n    },\n    \"apifm-wxapi\": {\n      \"version\": \"3.18.0\",\n      \"resolved\": \"https://registry.npmjs.org/apifm-wxapi/-/apifm-wxapi-3.18.0.tgz\",\n      \"integrity\": \"sha512-VdKULHEhI0z+K6cT1xNenSw7dbUZa55roiykOVXIlcxBwgd6SVKMwA0kLSVrcdzAvkuC7FVdmKPh1sdaf46r5Q==\"\n    },\n    \"wxbarcode\": {\n      \"version\": \"1.0.2\",\n      \"resolved\": \"https://registry.npmjs.org/wxbarcode/-/wxbarcode-1.0.2.tgz\",\n      \"integrity\": \"sha1-zgLjSP8AYwHZIBd21sn1rZATFLU=\"\n    }\n  }\n}\n"
        },
        {
          "name": "package.json",
          "type": "blob",
          "size": 0.765625,
          "content": "{\n  \"name\": \"beeorder\",\n  \"version\": \"1.0.0\",\n  \"description\": \"微信小程序——餐饮点餐商城，是针对餐饮行业推出的一套完整的餐饮解决方案，实现了用户在线点餐下单、外卖、叫号排队、支付、配送等功能，完美的使餐饮行业更高效便捷！\",\n  \"main\": \"app.js\",\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\n  },\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"git+https://github.com/woniudiancang/bee.git\"\n  },\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"bugs\": {\n    \"url\": \"https://github.com/woniudiancang/bee/issues\"\n  },\n  \"homepage\": \"https://github.com/woniudiancang/bee#readme\",\n  \"dependencies\": {\n    \"@vant/weapp\": \"^1.6.9\",\n    \"apifm-wxapi\": \"^3.38.0\",\n    \"wxbarcode\": \"^1.0.2\"\n  }\n}\n"
        },
        {
          "name": "pages",
          "type": "tree",
          "content": null
        },
        {
          "name": "project.config.json",
          "type": "blob",
          "size": 1.62109375,
          "content": "{\n  \"description\": \"项目配置文件，详见文档：https://developers.weixin.qq.com/miniprogram/dev/devtools/projectconfig.html\",\n  \"setting\": {\n    \"urlCheck\": false,\n    \"es6\": true,\n    \"enhance\": true,\n    \"postcss\": true,\n    \"preloadBackgroundData\": false,\n    \"minified\": true,\n    \"newFeature\": true,\n    \"coverView\": true,\n    \"nodeModules\": true,\n    \"autoAudits\": false,\n    \"showShadowRootInWxmlPanel\": true,\n    \"scopeDataCheck\": false,\n    \"uglifyFileName\": false,\n    \"checkInvalidKey\": true,\n    \"checkSiteMap\": true,\n    \"uploadWithSourceMap\": true,\n    \"compileHotReLoad\": true,\n    \"useMultiFrameRuntime\": true,\n    \"babelSetting\": {\n      \"ignore\": [],\n      \"disablePlugins\": [],\n      \"outputPath\": \"\"\n    },\n    \"enableEngineNative\": false,\n    \"useIsolateContext\": false,\n    \"userConfirmedBundleSwitch\": false,\n    \"packNpmManually\": false,\n    \"packNpmRelationList\": [],\n    \"minifyWXSS\": true,\n    \"disableUseStrict\": false,\n    \"minifyWXML\": true,\n    \"showES6CompileOption\": false,\n    \"useCompilerPlugins\": false,\n    \"lazyloadPlaceholderEnable\": false,\n    \"useStaticServer\": true,\n    \"ignoreUploadUnusedFiles\": true,\n    \"condition\": false\n  },\n  \"compileType\": \"miniprogram\",\n  \"simulatorType\": \"wechat\",\n  \"simulatorPluginLibVersion\": {},\n  \"condition\": {\n    \"search\": {\n      \"list\": []\n    },\n    \"conversation\": {\n      \"list\": []\n    },\n    \"game\": {\n      \"currentL\": -1,\n      \"list\": []\n    },\n    \"miniprogram\": {\n      \"list\": []\n    }\n  },\n  \"editorSetting\": {\n    \"tabIndent\": \"insertSpaces\",\n    \"tabSize\": 2\n  },\n  \"appid\": \"wx47586bbed56a5001\",\n  \"packOptions\": {\n    \"ignore\": [],\n    \"include\": []\n  }\n}"
        },
        {
          "name": "project.private.config.json",
          "type": "blob",
          "size": 0.4296875,
          "content": "{\n  \"setting\": {\n    \"compileHotReLoad\": true,\n    \"urlCheck\": false\n  },\n  \"condition\": {},\n  \"projectname\": \"%E5%B0%8F%E8%9C%9C%E8%9C%82%E7%82%B9%E9%A4%90\",\n  \"description\": \"项目私有配置文件。此文件中的内容将覆盖 project.config.json 中的相同字段。项目的改动优先同步到此文件中。详见文档：https://developers.weixin.qq.com/miniprogram/dev/devtools/projectconfig.html\",\n  \"libVersion\": \"3.6.1\"\n}"
        },
        {
          "name": "sitemap.json",
          "type": "blob",
          "size": 0.1865234375,
          "content": "{\n  \"desc\": \"关于本文件的更多信息，请参考文档 https://developers.weixin.qq.com/miniprogram/dev/framework/sitemap.html\",\n  \"rules\": [{\n  \"action\": \"allow\",\n  \"page\": \"*\"\n  }]\n}"
        },
        {
          "name": "utils",
          "type": "tree",
          "content": null
        }
      ]
    }
  ]
}