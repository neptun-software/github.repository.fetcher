{
  "metadata": {
    "timestamp": 1736561938362,
    "page": 642,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjY1MA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "cnpm/cnpmjs.org",
      "stars": 3549,
      "defaultBranch": "master",
      "files": [
        {
          "name": ".dockerignore",
          "type": "blob",
          "size": 0.025390625,
          "content": "node_modules\nnpm-debug.log"
        },
        {
          "name": ".editorconfig",
          "type": "blob",
          "size": 0.240234375,
          "content": "# http://editorconfig.org\nroot = true\n\n[*]\nindent_style = space\nindent_size = 2\nend_of_line = lf\ncharset = utf-8\ntrim_trailing_whitespace = true\ninsert_final_newline = true\n\n[*.md]\ntrim_trailing_whitespace = false\n\n[Makefile]\nindent_style = tab\n\n"
        },
        {
          "name": ".github",
          "type": "tree",
          "content": null
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.3115234375,
          "content": "coverage.html\n*.seed\n*.log\n*.csv\n*.dat\n*.out\n*.pid\n*.gz\ndump.rdb\n.DS_Store\n\npids\nlogs\nresults\n\nnode_modules\nnpm-debug.log\npublic/dist/\n.dist\nconfig/config.js\nbackup/*.json\nbackup/*.gz\ndocs/web/history.md\ndocs/web/_readme.md\nview/web/_layout.html\nbin/mysql.js\nbin/test.sql\ncoverage/\nconfig/web_readme.md\n.tmp/\n*.sqlite\n\n"
        },
        {
          "name": ".jshintignore",
          "type": "blob",
          "size": 0.0556640625,
          "content": "node_modules/\ncoverage/\n.tmp/\n.git/\ntools/\npublic/\ntest/\n"
        },
        {
          "name": ".jshintrc",
          "type": "blob",
          "size": 6.033203125,
          "content": "{\n    // JSHint Default Configuration File (as on JSHint website)\n    // See http://jshint.com/docs/ for more details\n\n    \"maxerr\"        : 50,       // {int} Maximum error before stopping\n\n    // Enforcing\n    \"bitwise\"       : true,     // true: Prohibit bitwise operators (&, |, ^, etc.)\n    \"camelcase\"     : false,    // true: Identifiers must be in camelCase\n    \"curly\"         : true,     // true: Require {} for every new block or scope\n    \"eqeqeq\"        : true,     // true: Require triple equals (===) for comparison\n    \"forin\"         : false,    // true: Require filtering for..in loops with obj.hasOwnProperty()\n    \"immed\"         : false,    // true: Require immediate invocations to be wrapped in parens e.g. `(function () { } ());`\n    \"indent\"        : false,    // {int} Number of spaces to use for indentation\n    \"latedef\"       : false,    // true: Require variables/functions to be defined before being used\n    \"newcap\"        : false,    // true: Require capitalization of all constructor functions e.g. `new F()`\n    \"noarg\"         : true,     // true: Prohibit use of `arguments.caller` and `arguments.callee`\n    \"noempty\"       : true,     // true: Prohibit use of empty blocks\n    \"nonew\"         : false,    // true: Prohibit use of constructors for side-effects (without assignment)\n    \"plusplus\"      : false,    // true: Prohibit use of `++` & `--`\n    \"quotmark\"      : false,    // Quotation mark consistency:\n                                //   false    : do nothing (default)\n                                //   true     : ensure whatever is used is consistent\n                                //   \"single\" : require single quotes\n                                //   \"double\" : require double quotes\n    \"undef\"         : true,     // true: Require all non-global variables to be declared (prevents global leaks)\n    \"unused\"        : true,     // true: Require all defined variables be used\n    \"strict\"        : true,     // true: Requires all functions run in ES5 Strict Mode\n    \"trailing\"      : false,    // true: Prohibit trailing whitespaces\n    \"maxparams\"     : false,    // {int} Max number of formal params allowed per function\n    \"maxdepth\"      : false,    // {int} Max depth of nested blocks (within functions)\n    \"maxstatements\" : false,    // {int} Max number statements per function\n    \"maxcomplexity\" : false,    // {int} Max cyclomatic complexity per function\n    \"maxlen\"        : false,    // {int} Max number of characters per line\n\n    // Relaxing\n    \"asi\"           : false,     // true: Tolerate Automatic Semicolon Insertion (no semicolons)\n    \"boss\"          : true,      // true: Tolerate assignments where comparisons would be expected\n    \"debug\"         : false,     // true: Allow debugger statements e.g. browser breakpoints.\n    \"eqnull\"        : false,     // true: Tolerate use of `== null`\n    \"es5\"           : false,     // true: Allow ES5 syntax (ex: getters and setters)\n    \"esnext\"        : true,      // true: Allow ES.next (ES6) syntax (ex: `const`)\n    \"moz\"           : false,     // true: Allow Mozilla specific syntax (extends and overrides esnext features)\n                                 // (ex: `for each`, multiple try/catch, function expression…)\n    \"evil\"          : false,     // true: Tolerate use of `eval` and `new Function()`\n    \"expr\"          : true,      // true: Tolerate `ExpressionStatement` as Programs\n    \"funcscope\"     : false,     // true: Tolerate defining variables inside control statements\"\n    \"globalstrict\"  : false,     // true: Allow global \"use strict\" (also enables 'strict')\n    \"iterator\"      : false,     // true: Tolerate using the `__iterator__` property\n    \"lastsemic\"     : false,     // true: Tolerate omitting a semicolon for the last statement of a 1-line block\n    \"laxbreak\"      : true,      // true: Tolerate possibly unsafe line breakings\n    \"laxcomma\"      : false,     // true: Tolerate comma-first style coding\n    \"loopfunc\"      : false,     // true: Tolerate functions being defined in loops\n    \"multistr\"      : true,      // true: Tolerate multi-line strings\n    \"proto\"         : false,     // true: Tolerate using the `__proto__` property\n    \"scripturl\"     : false,     // true: Tolerate script-targeted URLs\n    \"smarttabs\"     : false,     // true: Tolerate mixed tabs/spaces when used for alignment\n    \"shadow\"        : true,      // true: Allows re-define variables later in code e.g. `var x=1; x=2;`\n    \"sub\"           : false,     // true: Tolerate using `[]` notation when it can still be expressed in dot notation\n    \"supernew\"      : false,     // true: Tolerate `new function () { ... };` and `new Object;`\n    \"validthis\"     : true,      // true: Tolerate using this in a non-constructor function\n\n    // Environments\n    \"browser\"       : true,     // Web Browser (window, document, etc)\n    \"couch\"         : false,    // CouchDB\n    \"devel\"         : true,     // Development/debugging (alert, confirm, etc)\n    \"dojo\"          : false,    // Dojo Toolkit\n    \"jquery\"        : false,    // jQuery\n    \"mootools\"      : false,    // MooTools\n    \"node\"          : true,     // Node.js\n    \"nonstandard\"   : false,    // Widely adopted globals (escape, unescape, etc)\n    \"prototypejs\"   : false,    // Prototype and Scriptaculous\n    \"rhino\"         : false,    // Rhino\n    \"worker\"        : false,    // Web Workers\n    \"wsh\"           : false,    // Windows Scripting Host\n    \"yui\"           : false,    // Yahoo User Interface\n    \"noyield\"       : true,     // allow generators without a yield\n\n    // Legacy\n    \"nomen\"         : false,    // true: Prohibit dangling `_` in variables\n    \"onevar\"        : false,    // true: Allow only one `var` statement per function\n    \"passfail\"      : false,    // true: Stop on first error\n    \"white\"         : false,    // true: Check against strict whitespace and indentation rules\n\n    // Custom Globals\n    \"globals\"       : {         // additional predefined global variables\n      // mocha\n      \"describe\": true,\n      \"it\": true,\n      \"before\": true,\n      \"afterEach\": true,\n      \"beforeEach\": true,\n      \"after\": true\n    }\n}\n"
        },
        {
          "name": ".node-dev.json",
          "type": "blob",
          "size": 0.021484375,
          "content": "{\n  \"notify\": false\n}\n"
        },
        {
          "name": ".npmignore",
          "type": "blob",
          "size": 0.3076171875,
          "content": "test/\ncoverage.html\nlib-cov/\nMakefile\n.travis.yml\nlogo.png\n.tmp/\npublic/dist/\nbackup/*.json\nbackup/*.gz\ndocs/web/history.md\ndocs/web/_readme.md\nview/web/_layout.html\nbin/mysql.js\nbin/test.sql\ncoverage/\n.jshintrc\n.jshintignore\n.DS_Store\nconfig/web_readme.md\n.dist/\nconfig/config.js\n*.sqlite\n.node-dev.json\nnohup.out\n"
        },
        {
          "name": "AUTHORS",
          "type": "blob",
          "size": 0.5654296875,
          "content": "# Ordered by date of first contribution.\n\nfengmk2 <fengmk2@gmail.com> (https://github.com/fengmk2)\ndead-horse <dead_horse@qq.com> (https://github.com/dead-horse)\nalsotang <alsotang@gmail.com> (https://github.com/alsotang)\n4simple <wondger@qq.com> (https://github.com/4simple)\nafc163 <afc163@gmail.com> (https://github.com/afc163)\nYuwei Ba <i@xiaoba.me> (https://github.com/ibigbug)\ndickeylth <dickeylth@gmail.com> (https://github.com/dickeylth)\nwenbing <wenbing@users.noreply.github.com> (https://github.com/wenbing)\n21paradox <1036339815@qq.com> (https://github.com/21paradox)\n\n"
        },
        {
          "name": "CONTRIBUTING.md",
          "type": "blob",
          "size": 1.48046875,
          "content": "# How to contribute\n\nThird-party patches are essential for keeping `cnpmjs.org` great.\nWe want to keep it as easy as possible to contribute changes that\nget things working in your environment. There are a few guidelines that we\nneed contributors to follow so that we can have a chance of keeping on\ntop of things.\n\n## Getting Started\n\n* Make sure you have a [GitHub account](https://github.com/signup/free)\n* Fork the repository on GitHub\n\n## Making Changes\n\n* Create a topic branch from where you want to base your work.\n  * This is usually the master branch.\n  * Only target release branches if you are certain your fix must be on that\n    branch.\n  * To quickly create a topic branch based on master.\n    Please avoid working directly on the `master` branch.\n* Make commits of logical units and including unit tests.\n* Check for unnecessary whitespace with `git diff --check` before committing.\n* Make sure your commit messages are in the proper format.\n* Make sure you have added the necessary tests for your changes.\n* Run _all_ the tests to assure nothing else was accidentally broken.\n* Follow [node style guide](https://github.com/felixge/node-style-guide)\n\n## Submitting Changes\n\n* Push your changes to a topic branch in your fork of the repository.\n* Submit a pull request.\n* Make sure travis-ci test pass.\n\n# Additional Resources\n\n* [General GitHub documentation](http://help.github.com/)\n* [GitHub pull request documentation](http://help.github.com/send-pull-requests/)\n* [cnpmjs.org](http://cnpmjs.org)\n"
        },
        {
          "name": "Dockerfile",
          "type": "blob",
          "size": 0.486328125,
          "content": "FROM node:12\nMAINTAINER Bono Lv <lvscar  {aT} gmail.com>\n\n# Working enviroment\nENV \\\n    CNPM_DIR=\"/var/app/cnpmjs.org\" \\\n    CNPM_DATA_DIR=\"/var/data/cnpm_data\" \n\nRUN mkdir  -p ${CNPM_DIR}\n\nWORKDIR ${CNPM_DIR}\n\nCOPY package.json ${CNPM_DIR}\n\nRUN npm set registry https://registry.npmmirror.com\n\nRUN npm install --production\n\nCOPY .  ${CNPM_DIR}\nCOPY docs/dockerize/config.js  ${CNPM_DIR}/config/\n\nEXPOSE 7001/tcp 7002/tcp\n\nVOLUME [\"/var/data/cnpm_data\"]\n\n# Entrypoint\nCMD [\"node\", \"dispatch.js\"]\n\n"
        },
        {
          "name": "History.md",
          "type": "blob",
          "size": 65.4619140625,
          "content": "\n3.0.0-rc.66 / 2023-03-25\n==================\n\n**features**\n  * [[`a289d7d`](http://github.com/cnpm/cnpmjs.org/commit/a289d7dd5ec4881e86c6f500c72cab134388782b)] - feat: ignore sync private pkg (#1747) (elrrrrrrr <<elrrrrrrr@gmail.com>>)\n  * [[`af9f5f7`](http://github.com/cnpm/cnpmjs.org/commit/af9f5f749979d1f389d61e98eab7dfbf639c995b)] - feat: add changes delay (#1739) (elrrrrrrr <<elrrrrrrr@gmail.com>>)\n\n**fixes**\n  * [[`6769a46`](http://github.com/cnpm/cnpmjs.org/commit/6769a46d71508a24f4e2d4dc14aa4aebd826bf38)] - fix: download row create error (#1749) (elrrrrrrr <<elrrrrrrr@gmail.com>>)\n\n3.0.0-rc.63 / 2022-08-31\n==================\n\n**features**\n  * [[`1964d66`](http://github.com/cnpm/cnpmjs.org/commit/1964d66abf3a78bc97022db2bfd1b88fa2c1fa37)] - feat: remove block version changes (#1737) (elrrrrrrr <<elrrrrrrr@gmail.com>>)\n\n3.0.0-rc.62 / 2022-07-28\n==================\n\n**features**\n  * [[`d8b5c9f`](http://github.com/cnpm/cnpmjs.org/commit/d8b5c9f7a9a4648460415936e492ee0bb9cba9b0)] - feat: add changes api (#1734) (elrrrrrrr <<elrrrrrrr@gmail.com>>)\n  * [[`f52e9c3`](http://github.com/cnpm/cnpmjs.org/commit/f52e9c3382ef3583a9cac9be5510e11a3ab17b8c)] - feat: support sync private package from define registry (#1701) (XXBeii <<36651530+XXBeii@users.noreply.github.com>>)\n  * [[`97d501c`](http://github.com/cnpm/cnpmjs.org/commit/97d501c088aee43af30e31aef279b3036a7cc5f7)] - feat: support bug-versions on server (#1684) (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`3c5bc9d`](http://github.com/cnpm/cnpmjs.org/commit/3c5bc9dc5ef46c567e718705d18edc1f57009b5e)] - feat: support package version block list (#1683) (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`abc1723`](http://github.com/cnpm/cnpmjs.org/commit/abc1723bef5eb12168d084cc16916998288e879b)] - feat: support dist.integrity (#1677) (fengmk2 <<fengmk2@gmail.com>>)\n\n**fixes**\n  * [[`4d534ca`](http://github.com/cnpm/cnpmjs.org/commit/4d534cad024f08923b7d4df57d87d14fa96a975a)] - fix: listModulesByUser map error (#1731) (Ke Wu <<gemwuu@163.com>>)\n  * [[`b7bbf84`](http://github.com/cnpm/cnpmjs.org/commit/b7bbf84ea31b5c15a48edd596bbb87a72f7de595)] - fix: add missing config property for bug-versions (#1685) (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`74d408d`](http://github.com/cnpm/cnpmjs.org/commit/74d408d006b1c7a08283b178e842ef98f850fcf2)] - fix: database dialect config detect error (#1503) (alsotang <<alsotang@gmail.com>>)\n  * [[`37ba629`](http://github.com/cnpm/cnpmjs.org/commit/37ba6290284f260230e6d4461311bb8739088191)] - fix: get count missing name (#1674) (Solais <<924615994@qq.com>>)\n\n**others**\n  * [[`f8bcca1`](http://github.com/cnpm/cnpmjs.org/commit/f8bcca1ea0c0ad952fffd0539b625de69b9099f0)] - 🐛 FIX: path url maybe encode (#1729) (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`8663e21`](http://github.com/cnpm/cnpmjs.org/commit/8663e215f038b812b74948e28a05b704d5d7780c)] - 🐛 FIX: Should show sync button on scoped package not exists (#1728) (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`8573c4a`](http://github.com/cnpm/cnpmjs.org/commit/8573c4a600077585681ac1eddcebc4b2abff4f8e)] - 📖 DOC: DEPRECATED, please use https://github.com/cnpm/cnpmcore instead (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`83497f2`](http://github.com/cnpm/cnpmjs.org/commit/83497f20521dd5016c119500aff0ccb64cf5a929)] - 👌 IMPROVE: Return libc field on abbreviated manifests (#1721) (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`1e0f7e0`](http://github.com/cnpm/cnpmjs.org/commit/1e0f7e06bb7df40f1dca309b7e8e533130293ab6)] - 📖 DOC: Modify comments (#1710) (AN <<455454007@qq.com>>)\n  * [[`e682e7a`](http://github.com/cnpm/cnpmjs.org/commit/e682e7a0a39f750c61d7a2a46de862d118e61e73)] - 📖 DOC: Update contributors (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`19e5c3d`](http://github.com/cnpm/cnpmjs.org/commit/19e5c3def257f4ceab3256a1c9d615d002c5fe49)] - chore: Add license scan report and status (#1708) (fossabot <<badges@fossa.io>>)\n  * [[`9f8dca4`](http://github.com/cnpm/cnpmjs.org/commit/9f8dca4ac0292ba87c59149972f0f635bd17ec37)] - refactor: Sync exists package from cnpmcore changes stream (#1707) (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`f2c4b9f`](http://github.com/cnpm/cnpmjs.org/commit/f2c4b9f1c8d0b97b0b1890ac3aec058a99f0b224)] - 📖 DOC: Use git-contributor instead (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`ac07b21`](http://github.com/cnpm/cnpmjs.org/commit/ac07b215a73f80aa11e9631d3e6c9be4c4db87a2)] - 🐛 FIX: Support new bson logId (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`559d5ba`](http://github.com/cnpm/cnpmjs.org/commit/559d5baccfc3f5fa582461856f7048927aac3f23)] - 📦 NEW: sync web support webDataRemoteRegistry (#1697) (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`e5c5179`](http://github.com/cnpm/cnpmjs.org/commit/e5c5179e9e12be054aa733a5b0befbb064f32a44)] - 📦 NEW: Support set registry to new cnpmcore registry (#1696) (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`ad622d5`](http://github.com/cnpm/cnpmjs.org/commit/ad622d55e384743b48e79bb6aec574a7f354ee9f)] - chore: update contributors (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`c6973a9`](http://github.com/cnpm/cnpmjs.org/commit/c6973a98cef8207b56219e1b813575f7efe13653)] - fix(db.sql): use utf8mb4 on description column (#1681) (hellojukay <<hellojukay@163.com>>)\n  * [[`f22a3e7`](http://github.com/cnpm/cnpmjs.org/commit/f22a3e7370792eef1c7b613188411af2354e59a6)] - refactor: dist tarbar url don't contains querystring (#1682) (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`a49deec`](http://github.com/cnpm/cnpmjs.org/commit/a49deec3b2e1e8483801dea757c727054df34b34)] - chore: remove unused config (#1495) (alsotang <<alsotang@gmail.com>>)\n  * [[`7f0aa2a`](http://github.com/cnpm/cnpmjs.org/commit/7f0aa2ad95dedef7ec50fbebeb6df92839b42621)] - chore: update contributors (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`39cf77a`](http://github.com/cnpm/cnpmjs.org/commit/39cf77ae0f676584d93ada77c6ea61c3d044b267)] - refactor: use remote abbreviated version data (#1675) (fengmk2 <<fengmk2@gmail.com>>)\n\n3.0.0-rc.50 / 2021-11-04\n==================\n\n**features**\n  * [[`e4c3cd1`](http://github.com/cnpm/cnpmjs.org/commit/e4c3cd125ebe771ecc31b4a207ab926c13817f16)] - feat: package view add download total count (#1673) (Solais <<924615994@qq.com>>)\n  * [[`283f149`](http://github.com/cnpm/cnpmjs.org/commit/283f14976dae8ce9144d387533d1637a79c6cf12)] - feat: add missing abbreviated meta attibutes (#1668) (fengmk2 <<fengmk2@gmail.com>>)\n\n**fixes**\n  * [[`62fdbd4`](http://github.com/cnpm/cnpmjs.org/commit/62fdbd400a2259983c6793173ac8d816a732452c)] - fix: should update etag after abbreviated meta change (#1670) (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`2e7354c`](http://github.com/cnpm/cnpmjs.org/commit/2e7354c647d78a41f033f2066c6eb60e270f2a6b)] - fix: allow download without scope filename (#1665) (killa <<killa123@126.com>>)\n\n3.0.0-rc.46 / 2021-09-10\n==================\n\n**fixes**\n  * [[`596bca9`](http://github.com/cnpm/cnpmjs.org/commit/596bca908ee87504dfeb3dbf463b4d9a551d9f27)] - fix: fs-cnpm on dockerize config (#1656) (wxhuang <<wxhuang1985@gmail.com>>)\n  * [[`bbae9d3`](http://github.com/cnpm/cnpmjs.org/commit/bbae9d3bc3a565a59c397a63c4301272ac4509e9)] - fix: new publish with token should add user to maintainers (#1662) (killa <<killa123@126.com>>)\n\n3.0.0-rc.45 / 2021-07-28\n==================\n\n**features**\n  * [[`d28af7f`](http://github.com/cnpm/cnpmjs.org/commit/d28af7fd7e1bf530ad2e5a73fa5a54d2caf5cf9b)] - feat: support custom tokenService (#1658) (killa <<killa123@126.com>>)\n\n**others**\n  * [[`e258241`](http://github.com/cnpm/cnpmjs.org/commit/e2582417fa06a82c2fbb4d08eaf764465683a00b)] - remove maintainers logic (#1654) (Solais <<924615994@qq.com>>)\n3.0.0-rc.44 / 2021-06-11\n==================\n\n**features**\n  * [[`a1e8a82`](https://github.com/cnpm/cnpmjs.org/commit/a1e8a8289276275b995d15b3c254fbdbace6dbae)] - feat: impl npm owner hooks (#1645) (killa <<killa123@126.com>>)\n\n3.0.0-rc.43 / 2021-05-36\n==================\n\n**features**\n  * [[`a21aed0`](https://github.com/cnpm/cnpmjs.org/commit/a21aed08c5fe1ea09f4fda157ac3c12bd609781d)] - feat: impl sync to/from backup files (#1612) (killa <<killa123@126.com>>)\n\n**fixes**\n  * [[`2245dc2`](https://github.com/cnpm/cnpmjs.org/commit/2245dc2967ec070b8bcc618ebfad0cd4cd297fb8)] - feat: impl accelerate request (#1637) (killa <<killa123@126.com>>)\n\n3.0.0-rc.42 / 2021-04-30\n==================\n\n**features**\n  * [[`a21aed0`](https://github.com/cnpm/cnpmjs.org/commit/a21aed08c5fe1ea09f4fda157ac3c12bd609781d)] - feat: impl sync to/from backup files (#1612) (killa <<killa123@126.com>>)\n\n3.0.0-rc.39 / 2021-01-14\n==================\n\n**features**\n  * [[`33dd355`](http://github.com/cnpm/cnpmjs.org/commit/33dd3554f5daf13de33f04128be6853ce120636f)] - feat: impl dist-tag hooks (#1612) (killa <<killa123@126.com>>)\n\n3.0.0-rc.38 / 2021-01-12\n==================\n\n**features**\n  * [[`c6040b`](http://github.com/cnpm/cnpmjs.org/commit/1c6040bc95610e23b4756baa09e8119cda2fe01e)] - performance: optimise query pkg latestModified  (#1611) (killa <<killa123@126.com>>)\n\n\n3.0.0-rc.37 / 2020-10-21\n==================\n\n**features**\n  * [[`39c3223`](http://github.com/cnpm/cnpmjs.org/commit/39c322332ffafc512bf56c1679d2904fece2ae07)] - feat: new registry api (#1597) (killa <<killa123@126.com>>)\n  * [[`45f2f8b`](http://github.com/cnpm/cnpmjs.org/commit/45f2f8b31f095eeadf0f47e234d6eb225e6b197f)] - feat: impl registry token api (#1590) (killa <<killa123@126.com>>)\n  * [[`e97835f`](http://github.com/cnpm/cnpmjs.org/commit/e97835f7020e945e59fa7a84b14ab58c580add1e)] - feat: support custom web middlewares (#1563) (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`3cb3fe0`](http://github.com/cnpm/cnpmjs.org/commit/3cb3fe02f01dd669ad4bd3aebca51c44eb9e5938)] - feat: list all package versions by date (#1557) (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`a8ff647`](http://github.com/cnpm/cnpmjs.org/commit/a8ff647aa0f73076f4625e395e5da8ced9f61680)] - feat: retry sync fail on cnpm registry (#1547) (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`2c511f2`](http://github.com/cnpm/cnpmjs.org/commit/2c511f2209329e95b0cbe7603fa98a7f93c66474)] - feat: add unpublishRemoveTarball mode (#1536) (Khaidi Chu <<i@2333.moe>>)\n  * [[`19563f5`](http://github.com/cnpm/cnpmjs.org/commit/19563f58517ffaebed8006630bd467f15b71d9ff)] - feat: allow to disable npm audits proxy (#1430) (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`8e2367e`](http://github.com/cnpm/cnpmjs.org/commit/8e2367ee1676bd36a4112cf0f6dce2c4f422806e)] - feat: dont check db data on tgz download request (#1477) (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`be05886`](http://github.com/cnpm/cnpmjs.org/commit/be05886452803d46f614bdde497ccdec8e9ed734)] - feat: add vary header on cdn (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`ea46399`](http://github.com/cnpm/cnpmjs.org/commit/ea46399265615c70ee33d9cab9ba5d5ce312fb67)] - feat: allow disable search page (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`581925d`](http://github.com/cnpm/cnpmjs.org/commit/581925db9733d295be02e75f0090db05fd6bae75)] - feat: support cache-control header on registry request (#1468) (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`7f0c141`](http://github.com/cnpm/cnpmjs.org/commit/7f0c141ac2f7679b5322aadd537c5ff1bef0b032)] - feat: allow config request protocol (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`807187e`](http://github.com/cnpm/cnpmjs.org/commit/807187ebeb0b266828a59724234e1a99c3238eb3)] - feat: add redis cache to import list all versions api perf (#1441) (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`99c4c3f`](http://github.com/cnpm/cnpmjs.org/commit/99c4c3fe35a9fde805751ef3d44413413f053f45)] - feat: support customized middlewares (#1436) (Khaidi Chu <<i@2333.moe>>)\n  * [[`4b57c11`](http://github.com/cnpm/cnpmjs.org/commit/4b57c118a0b044f41b1c98eaf92449221c984c15)] - feat: can override tgz download options (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`b395c66`](http://github.com/cnpm/cnpmjs.org/commit/b395c666be3ae6b237803239fae8678647f3b70b)] - feat: proxy npm audit request (#1419) (alsotang <<alsotang@gmail.com>>)\n  * [[`a4a25f9`](http://github.com/cnpm/cnpmjs.org/commit/a4a25f9e381aa20e1ef1e709f320aae41f3ae466)] - feat: use faster etag instead of koa-etag (#1409) (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`90580a7`](http://github.com/cnpm/cnpmjs.org/commit/90580a72e56c69f8f03bbdb64d79b4b1b139fbbf)] - feat: configurable view directory (#1400) (Khaidi Chu <<i@2333.moe>>)\n  * [[`ad2d341`](http://github.com/cnpm/cnpmjs.org/commit/ad2d341d2c9317b062a25363f4805aedfef3913b)] - feat: sync downloads total <= 10000 unpublish package (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`25a9030`](http://github.com/cnpm/cnpmjs.org/commit/25a90300473e6ac437e393de139cebde1e354e8c)] - feat: allow to close mysql trace (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`017af69`](http://github.com/cnpm/cnpmjs.org/commit/017af69cce23c870694d124f4a865864e5c061cd)] - feat: add badgeService define on config (#1387) (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`842c031`](http://github.com/cnpm/cnpmjs.org/commit/842c0316ede2b19b76d9c1ca790902de467c82e9)] - feat: show versions list on package page (#1386) (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`bd87907`](http://github.com/cnpm/cnpmjs.org/commit/bd87907b69d3e65aa544930b5c7f04e75bdbc773)] - feat: auto retry if download tgz error (#1363) (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`533c27f`](http://github.com/cnpm/cnpmjs.org/commit/533c27fa78323ee50fcd549115034915ea3017ef)] - feat: support nfs.url return multi urls (#1344) (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`e61c7fa`](http://github.com/cnpm/cnpmjs.org/commit/e61c7fa32bdc54ef4474a071da686c70e512b009)] - feat: support pass through querystring to tgz url (#1334) (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`34d3a1e`](http://github.com/cnpm/cnpmjs.org/commit/34d3a1eabe927dc5c8c87436e2b644c70a7abc2a)] - feat: auto sync delete packages which deleted in 24 hours (#1315) (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`4210b7b`](http://github.com/cnpm/cnpmjs.org/commit/4210b7bdf8bfe8dfa2578802fd1d14e7411d4ea6)] - feat: can config to not sync deleted versions (#1282) (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`56c9457`](http://github.com/cnpm/cnpmjs.org/commit/56c945740f545abe9ba55759f6b1502a3abc453d)] - feat: let opensearch host can be config (#1258) (fengmk2 <<fengmk2@gmail.com>>)\n\n**fixes**\n  * [[`b7089d3`](http://github.com/cnpm/cnpmjs.org/commit/b7089d33d400f9fd4fc398479d4dac5aab26b633)] - fix: set maintainer to current user if maintainer is undefined (#1592) (killa <<killa123@126.com>>)\n  * [[`2b74e00`](http://github.com/cnpm/cnpmjs.org/commit/2b74e00cb9ae20e9cf2f06c54ef8dbe6a36b4066)] - fix: release 3.0.0-rc.35 fix npm include functions dir (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`61549b4`](http://github.com/cnpm/cnpmjs.org/commit/61549b47a2f49c163bef6994f1e0f5f761317975)] - fix: avoid \"ENAMETOOLONG: name too long\" error (#1583) (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`e7bafb2`](http://github.com/cnpm/cnpmjs.org/commit/e7bafb2ee9d80ce3ef4087a6b69bc17517f85ec5)] - fix: audit proxy test cases (#1537) (Khaidi Chu <<i@2333.moe>>)\n  * [[`92b7216`](http://github.com/cnpm/cnpmjs.org/commit/92b72169a89cec333177d1ba65205a31e60ebbb2)] - fix: maintainer permission greater than scope (#1494) (Khaidi Chu <<i@2333.moe>>)\n  * [[`f084eba`](http://github.com/cnpm/cnpmjs.org/commit/f084ebae2106c8d4435dc0385e493fe18c6cec8a)] - fix: cpu usage 100% in node@6.x (#1470) (Yiman Liu <<413893093@qq.com>>)\n  * [[`8d57216`](http://github.com/cnpm/cnpmjs.org/commit/8d572169b7293a33035257d3525c66b0abb5b679)] - fix: add cache on total (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`585f55b`](http://github.com/cnpm/cnpmjs.org/commit/585f55bbcc0ce257bfab2f0f545dd8a89c66ca49)] - fix: download url pathname (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`da2f964`](http://github.com/cnpm/cnpmjs.org/commit/da2f9640b87f1b110210b7b8caaf26b4b854ede8)] - fix: dont override exists weburl (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`b094f56`](http://github.com/cnpm/cnpmjs.org/commit/b094f5692f83700f152dd6ea9eb65f67385f6b5f)] - fix: changes stream syncer without deps (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`65bca46`](http://github.com/cnpm/cnpmjs.org/commit/65bca46f3c275bac5dc7497eb266d84605f6f8f8)] - fix: don't cache npm_service.cnpmjs.org request (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`f9d4858`](http://github.com/cnpm/cnpmjs.org/commit/f9d4858862a4b70cb989c3c60478c2424ca2c139)] - fix: avoid toString as downloads count key (#1438) (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`8a2f744`](http://github.com/cnpm/cnpmjs.org/commit/8a2f744749fc9f1297ff298fafe14deacf67efea)] - fix: don't update __all__ downloads every times (#1417) (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`9bdb695`](http://github.com/cnpm/cnpmjs.org/commit/9bdb695375a800464636d70981f433b7a11dd82d)] - fix: proxy to source registry when package is public scoped with encoded path (#1415) (Albert Zhang <<label4king@163.com>>)\n  * [[`8bd0a2d`](http://github.com/cnpm/cnpmjs.org/commit/8bd0a2d49195734afa988cce69804d8540bbda19)] - fix: swap compress middleware and notFound position (#1413) (alsotang <<alsotang@gmail.com>>)\n  * [[`93d5def`](http://github.com/cnpm/cnpmjs.org/commit/93d5def8ac8882edbd526e5a7341e07c99463b25)] - fix: show package when non-semver version of semver tag (#1411) (Khaidi Chu <<i@2333.moe>>)\n  * [[`6a8434e`](http://github.com/cnpm/cnpmjs.org/commit/6a8434e0cae391981579af1a0b533aff0008904f)] - fix: Don't display sync info when the sync mode is none (#1410) (XingKai Zhang <<jack_zhxk@163.com>>)\n  * [[`4a3a851`](http://github.com/cnpm/cnpmjs.org/commit/4a3a851256483d438753b154d80d28c12c1d625c)] - fix: use <%- instead of <%= in user profile page (#1404) (Khaidi Chu <<i@2333.moe>>)\n  * [[`3497bae`](http://github.com/cnpm/cnpmjs.org/commit/3497bae2b94237664716911de965a4b27afc083a)] - fix: Obfuscate email address (#1391) (Ankur Kumar <<ankurk91@users.noreply.github.com>>)\n  * [[`9b8491b`](http://github.com/cnpm/cnpmjs.org/commit/9b8491b736ebcb98df02d26c41334cf7fce306dc)] - fix: use https://cdn.staticfile.org (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`fc79930`](http://github.com/cnpm/cnpmjs.org/commit/fc799304d8c6710e71364bdf1d1ed0961b9e8695)] - fix: should return `[done] Sync {name}` string when task finished (#1382) (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`3c20267`](http://github.com/cnpm/cnpmjs.org/commit/3c20267b22491cd2ac2d751ccc459cf1f4fb0f1f)] - fix: don't retry to save log when db error (#1381) (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`5149aa5`](http://github.com/cnpm/cnpmjs.org/commit/5149aa5a1eb01dfc17f8de1cb6c6abfecca0ed96)] - fix: proxy public package from source registry (#1375) (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`fc07a38`](http://github.com/cnpm/cnpmjs.org/commit/fc07a38bde81bd93ef9067f3aacb06ae8e76e12b)] - fix: make sure replicate pkg is the latest pkg (#1347) (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`17f8b66`](http://github.com/cnpm/cnpmjs.org/commit/17f8b6648b2cf8cb4cf17daef2a2477f74a671e8)] - fix: retry from registry when no_db_file error on replicate (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`d1fe6ce`](http://github.com/cnpm/cnpmjs.org/commit/d1fe6cede7b5a082eabfe9eb94225c9af9399e62)] - fix: add other_urls on download dist tarball (#1345) (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`8fbad39`](http://github.com/cnpm/cnpmjs.org/commit/8fbad397f3ab7177c6e6c9b458b4b0bf3d24fbd7)] - fix: use rimraf instead of fs.unlink (#1338) (Yiyu He <<dead_horse@qq.com>>)\n  * [[`0121de3`](http://github.com/cnpm/cnpmjs.org/commit/0121de31a3b7a8da38e31fca4e10d973c07d79e7)] - fix: no need to resync again (#1336) (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`84a3037`](http://github.com/cnpm/cnpmjs.org/commit/84a3037d90d4b3a316752eda7440ff5c73b0872f)] - fix: avoid query too frequently (#1329) (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`1f60a01`](http://github.com/cnpm/cnpmjs.org/commit/1f60a0136c5f2e4a33827d1f36b38c49e1e3dec6)] - fix: replicate request error, try to request from official registry (#1316) (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`6f656a0`](http://github.com/cnpm/cnpmjs.org/commit/6f656a0736c7d1d8b58288ff97590d7cb1317ecd)] - fix: save sync last time when successes > 1000 (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`1b30146`](http://github.com/cnpm/cnpmjs.org/commit/1b30146e94e7e72f9e762947b1ecdbd176d64532)] - fix: npm >= v5.5.0 login need not `email` (#1275) (#1304) (wmzy <<1256573276@qq.com>>)\n  * [[`820ae23`](http://github.com/cnpm/cnpmjs.org/commit/820ae23454f0f9755456681f3ced03e634cb3109)] - fix: control sync frequency (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`bfb29f8`](http://github.com/cnpm/cnpmjs.org/commit/bfb29f82c967cb68f4de3a314200d95a8c59baff)] - fix: use _npmUser reset the maintainers (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`95aa035`](http://github.com/cnpm/cnpmjs.org/commit/95aa035a275089b50dfc2590497e3bc7319f4f6b)] - fix: make sure maintainers exists on sync worker (liang feng <<anhulife@gmail.com>>)\n  * [[`6c69a38`](http://github.com/cnpm/cnpmjs.org/commit/6c69a38a508812f0320866d70b555de02e1fc204)] - fix: if replicate error, retry from official registry (#1230) (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`43ffa99`](http://github.com/cnpm/cnpmjs.org/commit/43ffa995cb8a724e8cd04224c2f137d407bfe014)] - fix: \"start\" should wait for \"stop\" to remove the pid file(using Promise) (#1220) (cloudstone <<baby31529@gmail.com>>)\n  * [[`6c019de`](http://github.com/cnpm/cnpmjs.org/commit/6c019de514c9f4a62db1a1814ca2359408609074)] - fix: changes_stream_syncer log url should not contain sync_upstream=true (fengmk2 <<fengmk2@gmail.com>>)\n\n**others**\n  * [[`522ad11`](http://github.com/cnpm/cnpmjs.org/commit/522ad11124f168788b28dd925417ae37eb9d3991)] - update readme for now situation (#1506) (alsotang <<alsotang@gmail.com>>)\n  * [[`0c59791`](http://github.com/cnpm/cnpmjs.org/commit/0c59791e50ef9d3080d5a2ab3e24b5899bd91446)] - Release Release 3.0.0-rc.19 (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`79fb163`](http://github.com/cnpm/cnpmjs.org/commit/79fb163a3b12f1b9c4c9eafad7f2041e7c4c4dbf)] - chore: README fix typo ( not to use plural for code ) (#1448) (Paul Verest <<enide.github@gmail.com>>)\n  * [[`be00b65`](http://github.com/cnpm/cnpmjs.org/commit/be00b6557359d328c851e538827d6c681c2c3416)] - refactor: add detail message to error and keep reason (#1445) (alsotang <<alsotang@gmail.com>>)\n  * [[`f7e9670`](http://github.com/cnpm/cnpmjs.org/commit/f7e9670025c6e7f09d8aa88c676938a2cf4849b5)] - Release Release 3.0.0-rc.14 (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`d0c3f1b`](http://github.com/cnpm/cnpmjs.org/commit/d0c3f1b19e46e73ce389e78413304a1542811b5f)] - test: shouldjs change from getter to function call (#1420) (alsotang <<alsotang@gmail.com>>)\n  * [[`d889eba`](http://github.com/cnpm/cnpmjs.org/commit/d889ebafbd6ff1bc15fbf277fd8e143a57e6cac6)] - deps: use agentkeepalive@4 (fengmk2 <<fengmk2@gmail.com>>)\n  * [[`938a14d`](http://github.com/cnpm/cnpmjs.org/commit/938a14d0a13b711c7b91d795151a7266b0a43c5a)] - chore: Hall of Fame integration on README (#1388) (Gwenael Pluchon <<gwenael.pluchon+github@gmail.com>>)\n  * [[`26d7147`](http://github.com/cnpm/cnpmjs.org/commit/26d7147562a1ae21db8bfec26983daf311353d96)] - refactor: normalize database structure (#1376) (Khaidi Chu <<i@2333.moe>>)\n  * [[`5334375`](http://github.com/cnpm/cnpmjs.org/commit/53343751f7c0a34ea0a346172bff0818d27864dd)] - chore: add latest-3 tag (fengmk2 <<fengmk2@gmail.com>>)\n\n3.0.0-alpha.8 / 2017-06-15\n==================\n\n  * fix: should remove unpublished version on ModuleAbbreviated too (#1192)\n  * docs: Dockerized cnpmjs.org configuration with installation guide (#1191)\n\n3.0.0-alpha.7 / 2017-06-01\n==================\n\n  * fix: add missing publish_time property on package list api (#1185)\n\n3.0.0-alpha.6 / 2017-05-18\n==================\n\n  * feat: add globalHook on config (#1177)\n  * fix: TypeError caused by invalid engines property (#1151)\n  * test: add new test for application/vnd.npm.install-v1+json request\n\n3.0.0-alpha.5 / 2017-04-14\n==================\n\n  * fix: should auto sync missing deprecated property (#1167)\n\n3.0.0-alpha.4 / 2017-04-12\n==================\n\n  * fix: add missing deprecated on abbreviated meta (#1165)\n\n3.0.0-alpha.2 / 2017-03-27\n==================\n\n  * fix: only get from package_readme table\n\n3.0.0-alpha.1 / 2017-03-27\n==================\n\n  * chore: start 3.x\n  * fix: ignore sync npm registry status 502\n  * feat: remove readme from package\n  * feat: [BREAKING_CHANGE] support abbreviated meta\n\n2.19.4 / 2017-03-26\n==================\n\n  * feat: need to sync sourceNpmRegistry also (#1153)\n  * docs: change user.json to utf8mb4\n\n2.19.3 / 2017-02-22\n==================\n\n  * fix: should get package from orginal registry when package is unpublished (#1130)\n\n2.19.2 / 2017-01-05\n==================\n\n  * fix: should auto sync un-deprecate message (#1105)\n\n2.19.1 / 2016-12-29\n==================\n\n  * fix: try to use the best repository url (#1102)\n\n2.19.0 / 2016-12-21\n==================\n\n  * feat: keyword search with limit to support keywords > 100 (#1097)\n\n2.18.0 / 2016-12-05\n==================\n\n  * fix: support downloads total on scope package (#1088)\n  * fix: try to sync from official replicate (#1076)\n  * feat: add change password script (#1070)\n  * test: skip always fail tests\n  * test: add node v7\n  * feat: show more sync info\n\n2.17.2 / 2016-11-13\n==================\n\n  * fix: ignore long package name on unpublished sync (#1067)\n\n2.17.1 / 2016-11-08\n==================\n\n  * fix: add publish_time for private packages (#1061)\n\n2.17.0 / 2016-11-03\n==================\n\n  * feat: make snyk.io url configable (#1058)\n\n2.16.2 / 2016-09-27\n==================\n\n  * fix: try to use config.registryHost first on setDownloadURL (#1044)\n\n2.16.1 / 2016-08-22\n==================\n\n  * refactor: refine publishable's code (#1022)\n\n2.16.0 / 2016-08-22\n==================\n\n  * feat: admin can do everything (#1021)\n\n2.15.0 / 2016-08-22\n==================\n\n  * feat: return dist-tag on package registry ([#1020](https://github.com/cnpm/cnpmjs.org/issues/1020))\n  * chore(package): update supertest to version 2.0.0 ([#1004](https://github.com/cnpm/cnpmjs.org/issues/1004))\n\n2.14.0 / 2016-08-04\n==================\n\n  * feat: password may contains \":\" ([#999](https://github.com/cnpm/cnpmjs.org/issues/999))\n  * fix: limit sync fails email notice ([#1006](https://github.com/cnpm/cnpmjs.org/issues/1006))\n\n2.13.0 / 2016-07-26\n==================\n\n  * feat: enable maxrequests middleware ([#1003](https://github.com/cnpm/cnpmjs.org/issues/1003))\n\n2.12.2 / 2016-07-11\n==================\n\n  * fix: getModuleByRange don't list all packages ([#990](https://github.com/cnpm/cnpmjs.org/issues/990))\n  * fix: should show new version package count ([#984](https://github.com/cnpm/cnpmjs.org/issues/984))\n\n2.12.1 / 2016-07-01\n==================\n\n  * fix: make sure chagnes stream destroy ([#982](https://github.com/cnpm/cnpmjs.org/issues/982))\n  * chore(package): update semver to version 5.2.0 ([#978](https://github.com/cnpm/cnpmjs.org/issues/978))\n  * deps: use ^ instead of ~ ([#976](https://github.com/cnpm/cnpmjs.org/issues/976))\n  * chore(package): update mini-logger to version 1.1.1 ([#973](https://github.com/cnpm/cnpmjs.org/issues/973))\n\n2.12.0 / 2016-06-26\n==================\n\n  * fix: logger seperator should be one EOL ([#972](https://github.com/cnpm/cnpmjs.org/issues/972))\n  * feat: add security check badge for public package ([#971](https://github.com/cnpm/cnpmjs.org/issues/971))\n\n2.11.0 / 2016-06-25\n==================\n\n  * feat: add changes stream syncer ([#970](https://github.com/cnpm/cnpmjs.org/issues/970))\n  * chore(package): update pg to version 5.1.0 ([#953](https://github.com/cnpm/cnpmjs.org/issues/953))\n\n2.10.1 / 2016-06-05\n==================\n\n  * fix: should sync missing public scoped package on install ([#946](https://github.com/cnpm/cnpmjs.org/issues/946))\n  * chore(package): update bytes to version 2.4.0 ([#943](https://github.com/cnpm/cnpmjs.org/issues/943))\n  * userService ([#926](https://github.com/cnpm/cnpmjs.org/issues/926))\n  * chore(package): update should to version 8.4.0 ([#928](https://github.com/cnpm/cnpmjs.org/issues/928))\n  * chore(package): update humanize-ms to version 1.2.0 ([#927](https://github.com/cnpm/cnpmjs.org/issues/927))\n  * chore(package): update kcors to version 1.2.1 ([#918](https://github.com/cnpm/cnpmjs.org/issues/918))\n  * chore(package): update urllib to version 2.9.0 ([#898](https://github.com/cnpm/cnpmjs.org/issues/898))\n\n2.10.0 / 2016-04-15\n==================\n\n  * feat: show tarball url on package page ([#894](https://github.com/cnpm/cnpmjs.org/issues/894))\n  * chore(package): update koa-mock to version 1.6.1 ([#891](https://github.com/cnpm/cnpmjs.org/issues/891))\n\n2.9.5 / 2016-04-12\n==================\n\n  * fix: change logo url to a better https source\n  * fix: http://cnpmjs.org/package/fms pre style ([#739](https://github.com/cnpm/cnpmjs.org/issues/739))\n\n2.9.4 / 2016-04-09\n==================\n\n  * fix: don't sync constructor package on exists mode ([#883](https://github.com/cnpm/cnpmjs.org/issues/883))\n  * Update utility to version 1.7.0 🚀\n  * chore: update sponsor link\n\n2.9.3 / 2016-04-05\n==================\n\n  * fix: use better diff time to check sync status\n  * Update sequelize to version 3.21.0 🚀\n  * chore(package): update agentkeepalive to version 2.1.0\n  * chore(package): update pg to version 4.5.2\n\n2.9.2 / 2016-03-29\n==================\n\n  * fix: override antd for ul & ol list number & icon.\n\n2.9.1 / 2016-03-29\n==================\n\n  * refactor: add more ua info on syncer\n\n2.9.0 / 2016-03-26\n==================\n\n  * feat: only admin can unpublish\n  * chore(package): update gravatar to version 1.5.0\n  * chore(package): update sequelize to version 3.20.0\n  * fix: fix save download count unqiue constraint error\n  * chore(package): update moment to version 2.12.0\n\n2.8.1 / 2016-03-07\n==================\n\n  * fix: only send warning email if no any sync data after 24h\n  * chore(package): update kcors to version 1.1.0\n  * chore(package): update koa to version 1.2.0\n  * chore(package): update urllib to version 2.8.0\n\n2.8.0 / 2016-02-23\n==================\n\n  * fix: convert `*` to latest tag\n  * deps: upgrade deps and remove node 2.0.0 support\n  * doc: update sponsors on readme\n  * fix: update copyright year\n  * doc: fix disturl typo\n  * deps: sequelize@3.19.0\n\n2.7.1 / 2016-02-01\n==================\n\n  * fix(semver): when have invalid version([#817](https://github.com/cnpm/cnpmjs.org/issues/817))\n\n2.7.0 / 2016-02-01\n==================\n\n  * test: fix all test cases\n  * test: fix unpublish\n  * test: add complex range test case\n  * feat: support semver([#816](https://github.com/cnpm/cnpmjs.org/issues/816))\n\n2.6.2 / 2016-01-19\n==================\n\n  * feat: list & show support jsonp\n  * chore(package): update urllib to version 2.7.0\n  * Delete install.md\n\n2.6.1 / 2016-01-12\n==================\n\n  * fix: source registry is not cnpm, ignore check status\n\n2.6.0 / 2016-01-12\n==================\n\n  * feat(sync): monitor sync status\n  * chore(package): update agentkeepalive to version 2.0.3\n  * fix SequelizeDatabaseError: ER_NO_SUCH_TABLE: Table 'qnpm.total' doesn't exist\\nreproduce this bug:\\nthe first startup of cnpmjs.org\n  * chore(package): update moment to version 2.11.0\n  * chore(package): update xss to version 0.2.10\n  * chore(package): update pg-hstore to version 2.3.2\n  * chore(package): update mini-logger to version 1.1.0\n  * chore(package): update urllib to version 2.6.0\n  * fix: row.package will json parse error\n  * remove bluebird\n  * chore(package): update utility to version 1.6.0\n\n2.5.1 / 2015-12-02\n==================\n\n * chore(package): update bluebird to version 3.0.6\n * fix: SequelizeDatabaseError\n * fix(dist_tag): disable delete latest tag\n * feat: count total private pkgs\n * fix: use isoweek. a week start from monday\n * chore(package): update xss to version 0.2.8\n * chore(package): update semver to version 5.1.0\n\n2.5.0 / 2015-11-17\n==================\n\n * test: add node v5\n * feat(sync): sync deleted user\n * Update show.js\n * chore(package): update bytes to version 2.2.0\n * do not sync inner username\n * gzip static file\n * chore(package): update bytes to version 2.1.0\n * chore(package): update is-type-of to version 1.0.0\n * Update static.js\n * chore(package): update cfork to version 1.4.0\n * chore(package): update bluebird to version 3.0.5\n\n2.4.1 / 2015-10-27\n==================\n\n * fix: improve registry index page performance with cache\n * Configable badge URL prefix.\n * chore(package): update koa-mock to version 1.5.0\n * chore(package): update urllib to version 2.5.0\n * chore(package): update co to version 4.6.0\n * chore(package): update semver to version 5.0.3\n\n2.4.0 / 2015-10-21\n==================\n\n * feat(registry): add package's dependents api\n * fix: show package's dependents\n * chore(package): update utility to version 1.5.0\n * chore(package): update bluebird to version 2.10.2\n\n2.3.1 / 2015-10-15\n==================\n\n * refactor: remove gnode\n * deps: upgrade giturl\n * Some fixes\n\n2.3.0 / 2015-10-15\n==================\n\n * Add dev dependencies.\n * Package page fix.\n * refactor: add more sync log\n * Add mock data.\n * refactor: add more sync log\n * Fix sidebar overflow.\n * Merge pull request [#680](https://github.com/cnpm/cnpmjs.org/issues/680) from ibigbug/ant-design\n * Clean code.\n * Indent.\n * chore(package): update debug to version 2.2.0\n * chore(package): update should to version 7.1.0\n * chore(package): update koa to version 1.1.0\n * Remove default adBanner.\n * Package pages.\n * Common styles.\n * search page.\n * Sync page.\n * Profile page antd style.\n * Unpublished pkg page style.\n * Add page title for unpubed pkg.\n * Index page style use antd.\n * chore(package): update pg to version 4.4.2\n * chore(package): update cfork to version 1.3.1\n * chore(package): update moment to version 2.10.6\n * feat(badge): Use qiniu cdn\n\n2.2.1 / 2015-09-30\n==================\n\n * test: use istanbul\n * pref: move out try/catch block\n * fix: support nfs.url is generator\n\n2.2.0 / 2015-09-29\n==================\n\n * feat: list packages by username\n * test: use codecov\n * feat(badge): support custom subject\n * fix(sync): add recover logic\n * feat(sync): add sync scripts\n\n2.1.5 / 2015-09-05\n==================\n\n * fix: only sync update packages\n\n2.1.4 / 2015-09-05\n==================\n\n * fix: support new array and old map format both\n * fix: /-/all/since had been redirect to /-/all/static/today.json\n * fix(list): let koa-etag to caculate the etag\n\n2.1.3 / 2015-08-18\n==================\n\n * fix: sync public scope package download url is wrong\n * fix: default registry change to taobao registry\n\n2.1.2 / 2015-08-09\n==================\n\n * fix(syncer): sync worker pkg null bug\n * feat(web): add downloads badge\n\n2.1.1 / 2015-07-27\n==================\n\n * fix: fix private scope package detect\n * fix: dont sync if upstream is npm registry\n * fix(sync): support sync public scope package\n * test: fix fails tests\n * fix: ignore 503 server error\n * fix: ignore sync 503 server error\n\n2.1.0 / 2015-07-08\n==================\n\n * feat(web): search support jsonp\n * fix function name\n\n2.0.0 / 2015-05-11\n==================\n\n * fix: real download as stream\n * add custom ad banner config\n * add sponsors: ucloud.cn\n * fix small typo\n * feat(urllib): support http_proxy\n * force using https links\n\n2.0.0-rc.15 / 2015-02-15\n==================\n\n * fix(markdown): filter xss after markdown render\n * feat(database): support PostgreSQL\n\n2.0.0-rc.14 / 2015-02-14\n==================\n\n * feat: support always-auth\n * fix mysql select args = [] bug\n * fix [#597](https://github.com/cnpm/cnpmjs.org/issues/597) sequelize raw query.\n * fix(markdown): hotfix markdown-it cpu problem\n * feat: upgrade to co4\n * use kcors fixes [#594](https://github.com/cnpm/cnpmjs.org/issues/594)\n\n2.0.0-rc.13 / 2015-02-04\n==================\n\n * docs: Deploy a private npm registry in 5 minutes\n * refactor(config): move application data to ~/.cnpmjs.org/\n * fix(sync): make get popular pakcage faster\n * feat(sync): web page also redirect to npm www\n * refactor(config): make syncModel to none by default\n * test: fix admin can not publish non-scoped package test cases\n * docs: add chinese mirror link\n * fix: admin can not publish non scoped package on \"none\" sync model\n * feat(sync): enable none syncModel proxy all public packages\n * fix: ignore username start with \" or '\n * fix(bin): fix stop not work on iojs\n\n2.0.0-rc.12 / 2015-02-01\n==================\n\n * feat(syncer): add hostname ua\n * fix(web): remove pkg.contributors logic\n\n2.0.0-rc.11 / 2015-02-01\n==================\n\n * fix xss tests\n * fix(markdown): revert marky-markdown\n\n2.0.0-rc.10 / 2015-01-31\n==================\n\n * feat(middleware): CORS headers for GET and HEAD requests\n * fix(readme): fix index page markdown\n * feat(markdown): use npm same markdown parser\n * feat(download): support download redirect to nfs\n * feat(syncer): request npm registry with gzip\n * change(sync): remove dist syncer\n * feat(registry): add dist tag api\n * refactor(common): remove redis store\n\n2.0.0-rc.9 / 2015-01-22 \n==================\n\n  * hotfix reame render error, pin xss\n  * fix registry user auth api\n\n2.0.0-rc.8 / 2015-01-10\n==================\n\n * fix(markdown): readme.md allow scripts\n * fix(style) flexbox compatibility for both chrome and firefox (@afc163)\n * feat(sync): default sync exist packages\n\n2.0.0-rc.7 / 2015-01-07\n==================\n\n * install sync dont check `enablePrivate`\n * fix(markdown): filter xss readme before markdown render\n\n2.0.0-rc.6 / 2015-01-05\n==================\n\n * fix(markdown): use markdown-it\n * add userService options on config\n * add upload to nfs sync info log\n\n2.0.0-rc.5 / 2015-01-03\n==================\n\n * fix(markdown): use marked instead of remarkable\n * fix(package): pkg.readme is not a string, dont remarkable it\n * feat(sync): sync user profile\n\n2.0.0-rc.4 / 2014-12-25\n==================\n\n * refactor(download): try to use nsf.url() first\n * use __all__ for full downloads\n * refactor(download_total): optimize download total\n * fix sqlite raw sql return datetime is string format\n * fix(download_total): change column date to DateTime\n * fix(services/download_total): fix download_total slow sql on `date >= $start and date <= $end`\n * fix(markdown): replace marked use remarkable\n\n2.0.0-rc.3 / 2014-12-14\n==================\n\n * fix(services): need to detect instance isDirty or not before save()\n\n2.0.0-rc.2 / 2014-12-11\n==================\n\n * add download API, closes [#529](https://github.com/cnpm/cnpmjs.org/issues/529)\n * fix missing home page title (@rockdai)\n * Fix typo in view/web/package.html (@LoicMahieu)\n\n2.0.0-rc.1 / 2014-12-09\n==================\n\n * fix xss on title\n * feat(badge): support badge image url with tag\n\n2.0.0-beta5 / 2014-12-05\n==================\n\n * hotfix package.html typo. Closes [#521](https://github.com/cnpm/cnpmjs.org/issues/521)\n * Add editorconfig\n * fix(web/package): package name to long cause style problem fix\n * fix(css): use github-markdown-css for markdown body\n * feat(mock): use koa-mock for front end dev\n\n2.0.0-beta4 / 2014-11-21\n==================\n\n * fix(registry): add missing /-/short api\n * zoom sync link\n * new design for package page\n * image max width, fixed [#505](https://github.com/cnpm/cnpmjs.org/issues/505)\n * feat(middleware): block Ruby user-agent\n\n2.0.0-beta3 / 2014-11-12\n==================\n\n * fix(sync): should not sync package when maintainers sort change\n * fix(package): detect package is private or not\n * fix(maintainer): fix missing maintainers\n\n2.0.0-beta2 / 2014-11-09\n==================\n\n * fix(sync): add missing syncUpstreamFirst argument\n\n2.0.0-beta1 / 2014-11-07\n==================\n\n * refactor(sync_worker): only sync request need to sync upstream first\n * fix(sync_worker): make sure end event will emit\n * fix: mv readme.md script to public/js/readme.js\n * fix(sync): hotfix co uncaughtException\n * feat(sync): sync python dist\n * pin autod@1\n * remove useless comment\n * refactor models/_module_maintainer_class_methods.js\n\n2.0.0-beta0 / 2014-11-02\n==================\n\n * ungrade koa-markdown to use remarkable, close [#482](https://github.com/cnpm/cnpmjs.org/issues/482)\n * fix(module_log): limit module sync log size to 1MB\n * refactor(config): remove adaptScope config key\n * chore(Makefile): $ make install-production\n * fix(sequelize): show warnning message when using old config.js\n * docs(readme): Migrating from 1.x to 2.x\n * feat(sync): add min sync interval time detect\n * refactor(dispatch): remove unused codes\n * use sequelize to connect database\n\n1.7.1 / 2014-10-15\n==================\n\n  * fix typo in sync popular, fix [#477](https://github.com/cnpm/cnpmjs.org/issues/477)\n\n1.7.0 / 2014-10-15\n==================\n\n  * Merge pull request [#475](https://github.com/cnpm/cnpmjs.org/issues/475) from KidkArolis/configurable-short-registry-url\n  * If sourceNpmRegistry is cnpm - use it in getShort\n  * Merge pull request [#472](https://github.com/cnpm/cnpmjs.org/issues/472) from cnpm/issue468-upon\n  * fix test label\n  * add sync popular modules, close [#468](https://github.com/cnpm/cnpmjs.org/issues/468)\n  * add sendmail test script\n\n1.6.1 / 2014-10-09\n==================\n\n * make test on travis faster\n * ensure not sync user also has his own package names\n * add [v1.6.x-upgrade.sql](https://github.com/cnpm/cnpmjs.org/blob/master/docs/update_sqls/v1.6.x-upgrade.sql)\n * save npm original package maintainers to npm_module_maintainer table. fixed [#464](https://github.com/cnpm/cnpmjs.org/issues/464)\n * use simple 404\n\n1.6.0 / 2014-10-08\n==================\n\n * list user all packages api. fixed [#462](https://github.com/cnpm/cnpmjs.org/issues/462)\n * add node-dev: $ make dev\n * always start sync worker\n * update node mailer\n * update autod\n\n1.5.5 / 2014-09-25\n==================\n\n * fix sync in web\n * sync upstream only the first package. make sync devDependencies optionsal, default is false\n * add some comment, default sourceNpmRegistryIsCNpm to true\n\n1.5.4 / 2014-09-24\n==================\n\n * format sync log\n\n1.5.3 / 2014-09-24\n==================\n\n * support sync upstream first. fixed [#451](https://github.com/cnpm/cnpmjs.org/issues/451)\n\n1.5.2 / 2014-09-24\n==================\n\n * support im url on user profile page; update bootstrap to 3.2.0\n\n1.5.1 / 2014-09-23\n==================\n\n  * search support case insensitive, close [#450](https://github.com/cnpm/cnpmjs.org/issues/450)\n  * add config._syncInWeb, close [#448](https://github.com/cnpm/cnpmjs.org/issues/448)\n  * show maintainers when publish 403. fixed [#430](https://github.com/cnpm/cnpmjs.org/issues/430)\n  * no attachment for html\n\n1.5.0 / 2014-09-15\n==================\n\n  * dist sync document too. fixed [#420](https://github.com/cnpm/cnpmjs.org/issues/420)\n\n1.4.4 / 2014-09-12\n==================\n\n  * badge version support 1.0.0-beta1. fixed [#440](https://github.com/cnpm/cnpmjs.org/issues/440)\n\n1.4.3 / 2014-09-09\n==================\n\n  * alias /:name/-/:file to /:name/download/:file. fixed [#439](https://github.com/cnpm/cnpmjs.org/issues/439)\n\n1.4.2 / 2014-09-03\n==================\n\n  * change default source registry to taobao's registry\n  * Merge pull request [#435](https://github.com/cnpm/cnpmjs.org/issues/435) from cnpm/bluebird\n  * add bluebird\n  * bump fs-cnpm\n  * Merge pull request [#434](https://github.com/cnpm/cnpmjs.org/issues/434) from cnpm/agent-stat\n  * show agent sockets stat. fixed [#433](https://github.com/cnpm/cnpmjs.org/issues/433)\n  * update readme\n  * remove pic in readme\n\n1.4.1 / 2014-08-20\n==================\n\n  * fix login error status\n\n1.4.0 / 2014-08-20\n==================\n\n * different version, different color badge, add version badge. fixed [#427](https://github.com/cnpm/cnpmjs.org/issues/427)\n * add download and node version badge\n\n1.3.2 / 2014-08-18\n==================\n\n  * remove unused eventproxy\n  * add custom config in tools/sync_not_exist.js\n\n1.3.1 / 2014-08-18\n==================\n\n  * add sync not exist tools, close [#424](https://github.com/cnpm/cnpmjs.org/issues/424)\n  * use gittip instand of alipay. close [#425](https://github.com/cnpm/cnpmjs.org/issues/425)\n  * update registry api doc\n\n1.3.0 / 2014-08-11\n==================\n\n  * ignore config/config.js\n  * Merge pull request [#421](https://github.com/cnpm/cnpmjs.org/issues/421) from cnpm/qn-cnpm\n  * fix test case\n  * use fs-cnpm\n  * fix test\n  * use qn-cnpm\n  * bump cfork\n\n1.2.2 / 2014-08-08\n==================\n\n  * bump koa\n\n1.2.1 / 2014-08-07\n==================\n\n * deprecated bug fix and support undeprecate\n\n1.2.0 / 2014-08-07\n==================\n\n * show deprecated message\n * Sync deprecated field if it missing\n * Support $ cnpm deprecate [pkgname]@[version] \"message\". fixed [#415](https://github.com/cnpm/cnpmjs.org/issues/415)\n\n1.1.0 / 2014-08-07\n==================\n\n * Add user to maintainers when publish. fixed [#395](https://github.com/cnpm/cnpmjs.org/issues/395)\n * List all npm registry api. close [#413](https://github.com/cnpm/cnpmjs.org/issues/413)\n * limit list since\n * change deps by \"~\"\n * use cfork to make sure worker fork and restart\n * handle master uncaughtException. fixed [#403](https://github.com/cnpm/cnpmjs.org/issues/403)\n\n1.0.6 / 2014-08-02\n==================\n\n * WTF moment@2.8.0 missing\n\n1.0.5 / 2014-08-02\n==================\n\n * unpublish pkg@version bug hotfix. fixed [#400](https://github.com/cnpm/cnpmjs.org/issues/400)\n\n1.0.4 / 2014-08-01\n==================\n\n * hotfix [#399](https://github.com/cnpm/cnpmjs.org/issues/399) use not exists\n\n1.0.3 / 2014-08-01\n==================\n\n * add maintaining packages in user page\n\n1.0.2 / 2014-08-01\n==================\n\n  * ~_~ fix auth error response message\n\n1.0.1 / 2014-08-01\n==================\n\n  * Merge pull request [#398](https://github.com/cnpm/cnpmjs.org/issues/398) from cnpm/fix-auth\n  * hot fix auth error\n\n1.0.0 / 2014-08-01\n==================\n\n * add private package list\n\n0.9.2 / 2014-07-30\n==================\n\n * hotfix save custom user bug\n\n0.9.1 / 2014-07-30\n==================\n\n * Handle user service auth throw custom error message\n * add test for config private packages\n * add config.privatePackages\n * add more comments in config/index.js\n\n0.9.0 / 2014-07-29\n==================\n\n * scopes init mv to services/user.js\n * show user more profile\n * registry show user support custom user service\n * support custom user service for user auth\n * remove session middleware\n * add DefaultUserService\n * check scopes in module.getAdapt\n * test public mode, fix some logic, close [#382](https://github.com/cnpm/cnpmjs.org/issues/382)\n * move scope.js into publishable.js, add forcePublishWithScope\n * config.scopes not exist, means do not support scope\n * add assert scope middleware\n\n0.8.7 / 2014-07-24\n==================\n\n * fix unpublished info missing maintainers cause TypeError\n\n0.8.6 / 2014-07-23\n==================\n\n * show unpublished info on web package page. fixes [#381](https://github.com/cnpm/cnpmjs.org/issues/381)\n\n0.8.5 / 2014-07-22\n==================\n\n * Only private package support default scoped. fixed [#378](https://github.com/cnpm/cnpmjs.org/issues/378)\n\n0.8.4 / 2014-07-22\n==================\n\n * adapt default scpoe in /@:scope/:name/:version\n\n0.8.3 / 2014-07-22\n==================\n\n * hot fix download\n\n0.8.2 / 2014-07-22\n==================\n\n * fix default scope detect\n\n0.8.1 / 2014-07-21\n==================\n\n * add more test cases\n * support default @org. close [#376](https://github.com/cnpm/cnpmjs.org/issues/376)\n * hotfix redis init error\n\n0.8.0 / 2014-07-21\n==================\n\n * support \"scoped\" packages. close [#352](https://github.com/cnpm/cnpmjs.org/issues/352)\n * use safe jsonp\n * Stop support old publish flow. fix [#368](https://github.com/cnpm/cnpmjs.org/issues/368)\n * update SQLs\n * use sync_info and sync_error categories\n * add categories to loggers. fix [#370](https://github.com/cnpm/cnpmjs.org/issues/370)\n * fix get latest tag always not exists bug\n * support `npm publish --tag beta`. fix [#366](https://github.com/cnpm/cnpmjs.org/issues/366)\n * use mini-logger and error-formater\n\n0.7.0 / 2014-07-07\n==================\n\n * use module_maintainers on GET /pakcage/:name page\n * use new module_maintainers on GET /:name\n * admin user should never publish to other user's packages. fix [#363](https://github.com/cnpm/cnpmjs.org/issues/363)\n * Add a new table for module-maintainers.\n * gravatar use https\n * support https\n\n0.6.1 / 2014-06-18\n==================\n\n * hot fix removeTagsByNames()\n * fix _rev not exists\n * sync unpublished on GET /sync/:name\n\n0.6.0 / 2014-06-16\n==================\n\n * sync unpublished info. close [#353](https://github.com/cnpm/cnpmjs.org/issues/353)\n * Delete not exists versions on sync worker. [#353](https://github.com/cnpm/cnpmjs.org/issues/353)\n\n0.5.3 / 2014-06-13\n==================\n\n  * fix sync response 204\n  * add links in History.md\n  * bump koa\n  * fix test-cov\n  * bump koa and should\n\n0.5.2 / 2014-06-04\n==================\n\n * sync hotfix\n * sync phantomjs downloads pkg. close [#348](https://github.com/cnpm/cnpmjs.org/issues/348)\n * add restart, fixed [#346](https://github.com/cnpm/cnpmjs.org/issues/346)\n\n0.5.1 / 2014-05-28\n==================\n\n * fix attack on /-/all/since?stale=update_after&startkey=2 close [#336](https://github.com/cnpm/cnpmjs.org/issues/336)\n * bump thunkify-wrap\n * bump koa-middlewares\n * remove outputError\n * bump dependencies\n * use svg badge\n * add package/notfound page\n * add dist mirror link to home page\n * fix sync listdiff and add more test cases\n\n0.5.0 / 2014-05-13\n==================\n\n * filter /nightlies/*\n * use koa setter instead of set()\n * add more info on error email\n * add sync dist to sync/index.js\n * show dist page\n * sync dist file and save it to database\n * disable gzip before [#335](https://github.com/cnpm/cnpmjs.org/issues/335) has fix\n\n0.4.3 / 2014-04-18\n==================\n\n  * Merge pull request [#334](https://github.com/cnpm/cnpmjs.org/issues/334) from cnpm/fix-permission\n  * add permission check to /:name/:tag\n  * Merge pull request [#333](https://github.com/cnpm/cnpmjs.org/issues/333) from cnpm/issue332-tag\n  * fix space\n  * add put /:name/:tag, close [#332](https://github.com/cnpm/cnpmjs.org/issues/332)\n\n0.4.2 / 2014-04-17\n==================\n\n * sync interval config\n * fix fav ico and show pkg size on pkg info page. fix [#318](https://github.com/cnpm/cnpmjs.org/issues/318)\n * sync work sync one done must wait for a defer.setImmediate. fix [#328](https://github.com/cnpm/cnpmjs.org/issues/328)\n * bump dep versions\n * if download tarball 404, throw err better than ignore it. fixed [#325](https://github.com/cnpm/cnpmjs.org/issues/325)\n * refator sync\n * hotfix, close [#321](https://github.com/cnpm/cnpmjs.org/issues/321)\n * hotfix, close [#319](https://github.com/cnpm/cnpmjs.org/issues/319)\n * support custom web home page\n * npm get short only can read from cnpm now\n * if using reverted proxy like nginx, only binding on local host\n * fix redis detect logic\n\n0.4.1 / 2014-04-10\n==================\n\n * fix sync status code error\n\n0.4.0 / 2014-04-09\n==================\n\n * fix test cases to run on local machine\n * add contribute guidelines\n * use local mysql for dev env. fix [#308](https://github.com/cnpm/cnpmjs.org/issues/308)\n * use copy to\n * use koa-compress and koa-conditional-get\n * maintainers is string, fix [#301](https://github.com/cnpm/cnpmjs.org/issues/301)\n\n0.3.13 / 2014-03-27\n==================\n\n * fix npm adduser update 409 bug\n * fix multiline coverage\n * show package engines. fixed [#280](https://github.com/cnpm/cnpmjs.org/issues/280)\n * dont sync local package field. fix [#295](https://github.com/cnpm/cnpmjs.org/issues/295)\n\n0.3.12 / 2014-03-26\n==================\n\n * fix result.successes not exist error\n * fix search list\n * add simple request for listall\n * only return package name in /-/all and /-/all/since, fixed [#291](https://github.com/cnpm/cnpmjs.org/issues/291)\n * refine docs foloder\n * use module gmt_modified as etag. fix [#288](https://github.com/cnpm/cnpmjs.org/issues/288)\n * fix typo, remove unused config in package.json\n * web page only list cnpm registry related info\n * use generator in qnfs\n\n0.3.11 / 2014-03-20\n==================\n\n  * use common.isMaintainer, fixed [#283](https://github.com/cnpm/cnpmjs.org/issues/283)\n  * update dependencies\n  * use co-mocha for test, fixed [#279](https://github.com/cnpm/cnpmjs.org/issues/279)\n  * update thunkify-wrap, breaking change in thunkify-wrap\n  * refactor SQLs by using multiline\n  * use multiline to refactor sqls\n  * ignore contributors\n\n0.3.10 / 2014-03-16\n==================\n\n  * Only /_session request send the authSession. fixed [#223](https://github.com/cnpm/cnpmjs.org/issues/223)\n  * sync npm user info when maintainers and contributors not exists. fixed [#82](https://github.com/cnpm/cnpmjs.org/issues/82)\n  * save npm user to mysql\n  * password salt always be randoms\n  * remove session access in /name and /name/version, fixed [#274](https://github.com/cnpm/cnpmjs.org/issues/274)\n  * fix update maintainer session error\n  * update koa-middlewares\n  * fix test, fix sync_by_install\n  * use defer session\n  * Support npm owner|author add [name] [pkg]. fixed [#271](https://github.com/cnpm/cnpmjs.org/issues/271)\n\n0.3.9 / 2014-03-14\n==================\n\n  * custom user-agent\n  * use co-urllib instead of thunkify urllib; fix mock http.request test cases\n  * request limit custom message\n  * add config.redis check\n  * add koa-limit, fixed [#267](https://github.com/cnpm/cnpmjs.org/issues/267)\n\n0.3.8 / 2014-03-11\n==================\n\n  * update middlewares, fixed missing charset bug [#264](https://github.com/cnpm/cnpmjs.org/issues/264)\n\n0.3.7 / 2014-03-11\n==================\n\n  * show worker die date time\n  * update to koa@0.5.1\n  * hotfix for star user\n  * fix yield gather, sync missing deps even no missing versions\n  * fix return versions\n  * fix makefile, remove eventproxy\n  * refactor sync_module_worker\n  * add make test-dev, fixed [#259](https://github.com/cnpm/cnpmjs.org/issues/259)\n  * change npm.js to generator\n  * update urllib, proxy/npm.js use generator\n  * sync_all and sync_exist to generator\n  * change function to generator\n  * need node >= v0.11.9\n\n0.3.6 / 2014-03-06\n==================\n\n  * install missing package should sync it from source npm. fixed [#252](https://github.com/cnpm/cnpmjs.org/issues/252)\n  * npm publish dont contains .jshint*\n  * npm test run jshint\n  * Add jshint check: $ make jshint\n  * use `yield next` instead of `yield next`\n  * replace dist.u.qiniudn.com with cnpmjs.org/dist\n\n0.3.5 / 2014-03-05\n==================\n\n  * redirect /dist/xxx.tgz => http://dist.u.qiniudn.com/xxx.tgz fixed [#249](https://github.com/cnpm/cnpmjs.org/issues/249)\n  * redirect /name to /package/name when /name is 404. fixed [#245](https://github.com/cnpm/cnpmjs.org/issues/245)\n  * Add missing properies and sync missing star users. fixed [#235](https://github.com/cnpm/cnpmjs.org/issues/235)\n\n0.3.4 / 2014-03-04\n==================\n\n  * add cov\n  * use istanbul run test coverage\n  * gzip support. fix [#241](https://github.com/cnpm/cnpmjs.org/issues/241)\n  * readme spelling patch (@stanzheng)\n  * default readme to null, fixed [#233](https://github.com/cnpm/cnpmjs.org/issues/233)\n  * remove readme in versions\n\n0.3.3 / 2014-02-28\n==================\n\n  * Merge pull request [#232](https://github.com/cnpm/cnpmjs.org/issues/232) from cnpm/host-hotfix\n  * get request host from request.headers\n  * Merge pull request [#231](https://github.com/cnpm/cnpmjs.org/issues/231) from cnpm/bug-fix\n  * fix deps display bug[#230](https://github.com/cnpm/cnpmjs.org/issues/230) and nsf.url TypeError[#229](https://github.com/cnpm/cnpmjs.org/issues/229)\n\n0.3.2 / 2014-02-28\n==================\n\n  * update koa-sess and koa-redis\n  * fix sync all test\n  * remove nfs.downloadStream first, fix tmppath error\n  * fix fengmk2/giturl[#1](https://github.com/cnpm/cnpmjs.org/issues/1) bug\n\n0.3.1 / 2014-02-27\n==================\n\n  * add etag fixed [#224](https://github.com/cnpm/cnpmjs.org/issues/224)\n  * travis ci install on source npm\n\n0.3.0 / 2014-02-27\n==================\n\n  * fix typo and dont sync not exists pkgs\n  * use koa-middlewares\n  * fix signed cookie not work on npm@1.3.25; node --harmony-generators\n  * fix opensearch test case\n  * update koa bodyparser\n  * logger.error(err) should send err stack email notice\n  * json body parse limit and bug fix.\n  * fix sync 404 reason not clear\n  * all controllers to koa\n  * controller/web/user.js to koa\n  * change web connect to koa\n  * use outputError\n  * use yield exports.addPackageAndDist.call(this, next);\n  * add end() when ws write end\n  * fix yield coWrite\n  * fix all the test of registry module.test.js\n  * convert registry/module.js to koa type\n  * fix auth middleware\n  * finish registry user controller koa and update mm to support thunkify. fixed [#196](https://github.com/cnpm/cnpmjs.org/issues/196)\n  * change controllers/user.js to koa\n  * thunkify all proxy\n  * convert all middlewares to koa type\n  * change regsitry sync to koa\n  * addd koa-jsonp, koa-bodyparser, fix / controller\n  * first koa run registry home page /\n  * Merge pull request [#212](https://github.com/cnpm/cnpmjs.org/issues/212) from cnpm/fix-sync-404\n  * return friendly 404 reason\n  * Merge pull request [#211](https://github.com/cnpm/cnpmjs.org/issues/211) from cnpm/bug-fix\n  * override json limit to default 10mb. fixed [#209](https://github.com/cnpm/cnpmjs.org/issues/209)\n  * fix [#210](https://github.com/cnpm/cnpmjs.org/issues/210) addPackageAndDist package version detect bug\n\n0.2.27 / 2014-02-19\n==================\n\n  * support json result in search, fixed [#189](https://github.com/cnpm/cnpmjs.org/issues/189)\n\n0.2.26 / 2014-02-19\n==================\n\n  * npm publish also need to add deps\n\n0.2.25 / 2014-02-19\n==================\n\n  * max handle number of package.json `dependencies` property\n  * Dependents support. fixed [#190](https://github.com/cnpm/cnpmjs.org/issues/190)\n\n0.2.24 / 2014-02-13\n==================\n\n  * fix if delete all the versions\n  * refactor remove module, fixed [#186](https://github.com/cnpm/cnpmjs.org/issues/186)\n\n0.2.23 / 2014-01-26\n==================\n\n  * system admin can add, publish, remove the packages. fixed [#176](https://github.com/cnpm/cnpmjs.org/issues/176)\n\n0.2.22 / 2014-01-26\n==================\n\n  * add keyword and search support keyword. [#181](https://github.com/cnpm/cnpmjs.org/issues/181)\n\n0.2.21 / 2014-01-24\n==================\n\n  * refactor code styles on package.html\n  * nav-tabs e.preventDefault\n  * Show registry server error response. fixed [#178](https://github.com/cnpm/cnpmjs.org/issues/178)\n  * nav-tabs for package.html (@4simple)\n\n0.2.20 / 2014-01-23\n==================\n\n  * hotfix sync missing dependencies and readmes\n  * fix sync readme error, fixed [#174](https://github.com/cnpm/cnpmjs.org/issues/174)\n  * add updateReadme in module\n\n0.2.19 / 2014-01-22\n==================\n\n  * npm install no need to check authorization header. fixed [#171](https://github.com/cnpm/cnpmjs.org/issues/171)\n\n0.2.18 / 2014-01-20\n==================\n\n  * Support gitlab git url to display and click. fixed [#160](https://github.com/cnpm/cnpmjs.org/issues/160)\n  * fix redis crash\n\n0.2.17 / 2014-01-17\n==================\n\n  * custom logo url\n  * hotfix layout bug\n\n0.2.16 / 2014-01-16\n==================\n\n  * fix publish-time bug\n\n0.2.15 / 2014-01-16\n==================\n\n  * add publish_time to debug\n\n0.2.14 / 2014-01-16\n==================\n\n  * add make autod\n  * update publish_time, fixed [#163](https://github.com/cnpm/cnpmjs.org/issues/163)\n\n0.2.13 / 2014-01-15\n==================\n\n  * markdown tmpl not support footer, need to wrap on app start\n\n0.2.12 / 2014-01-15\n==================\n\n  * add footer and npm client name customable\n\n0.2.11 / 2014-01-15\n==================\n\n  * package page contributor link to search, default is true\n\n0.2.10 / 2014-01-14\n==================\n\n  * fix [#155](https://github.com/cnpm/cnpmjs.org/issues/155) Content-Disposition wrong.\n\n0.2.9 / 2014-01-14\n==================\n\n  * support startkey=c and startkey=\"c\"\n  * support couch db search api. fixed [#153](https://github.com/cnpm/cnpmjs.org/issues/153)\n  * fix fork me image link\n  * support sync by query.name\n\n0.2.8 / 2014-01-14\n==================\n\n  * dont show err stack on test env\n  * add download link for package page\n\n0.2.7 / 2014-01-13\n==================\n\n  * add shasum when nfs.upload and hfs.uploadBuffer, fixed [#148](https://github.com/cnpm/cnpmjs.org/issues/148)\n\n0.2.6 / 2014-01-13\n==================\n\n  * support custom session store, fixed [#146](https://github.com/cnpm/cnpmjs.org/issues/146)\n\n0.2.5 / 2014-01-13\n==================\n\n  * add download timeout and unit test\n  * use downloadStream() first\n  * nfs download to a writeable stream.\n\n0.2.4 / 2014-01-10\n==================\n\n  * set main script to  index.js, fixed [#142](https://github.com/cnpm/cnpmjs.org/issues/142)\n\n0.2.3 / 2014-01-10\n==================\n\n  * Dont show sync button on private package\n  * Sync package as publish with no deps. fixed [#138](https://github.com/cnpm/cnpmjs.org/issues/138)\n\n0.2.2 / 2014-01-10\n==================\n\n  * keep compatibility\n  * qnfs upload only callback a url\n  * compat remove package\n  * set tarball url\n  * new npm publish in one request, add _publish_in_cnpm\n  * support unsure name ufs\n  * contributors maybe a object\n  * Object #<Object> has no method 'forEach' fixed [#134](https://github.com/cnpm/cnpmjs.org/issues/134)\n  * support custom config as a module, fixed issue [#132](https://github.com/cnpm/cnpmjs.org/issues/132)\n  * support npm new publish flow. fixed [#129](https://github.com/cnpm/cnpmjs.org/issues/129)\n  * add toString and constructor to test admin\n  * fix [#119](https://github.com/cnpm/cnpmjs.org/issues/119) hasOwnProperty check admin bug.\n\n0.2.0 / 2013-12-27\n==================\n\n  * remove to lower case\n  * fix [#127](https://github.com/cnpm/cnpmjs.org/issues/127) execSync and execsync.\n  * add contributors list on package page\n  * mv blanket to config\n  * sync typeerror fix #statusCode\n  * add disturl\n  * fix [#122](https://github.com/cnpm/cnpmjs.org/issues/122) admin security bug\n  * fixed [#121](https://github.com/cnpm/cnpmjs.org/issues/121), let pkg 404 as success\n  * fix sql insert error\n  * fix typos\n\n0.1.3 / 2013-12-20\n==================\n\n  * add favicon\n  * Fix auth middleware bug (@alsotang)\n  * make sure all packages name are lower case\n  * select ids from tag\n  * fix nodejsctl\n  * fix [#112](https://github.com/cnpm/cnpmjs.org/issues/112) missing versions and time no sync\n  * remove restart command\n  * fix sync missing packages error\n  * fix web/readme.md, add install\n  * fix [#109](https://github.com/cnpm/cnpmjs.org/issues/109) pkg no times and no versions bug.\n\n0.1.2 / 2013-12-19\n==================\n\n  * fix times not exists canot sync bug. fixed [#101](https://github.com/cnpm/cnpmjs.org/issues/101)\n  * support npm run command\n  * remove before_install and install in travis, fixed [#102](https://github.com/cnpm/cnpmjs.org/issues/102)\n  * split all sub queries, fixed [#104](https://github.com/cnpm/cnpmjs.org/issues/104)\n  * fix doc, fixed [#103](https://github.com/cnpm/cnpmjs.org/issues/103)\n  * fix search too slow.\n  * dont email sync log level info\n  * only sync missing packages at first time\n  * update dependencies\n  * sync all will sync all the missing packages, fixed [#97](https://github.com/cnpm/cnpmjs.org/issues/97)\n\n0.1.0 / 2013-12-12\n==================\n\n  * add sync title\n  * add favicon. fixed [#69](https://github.com/cnpm/cnpmjs.org/issues/69)\n  * refine sync page, fiexd [#70](https://github.com/cnpm/cnpmjs.org/issues/70)\n  * add app version\n  * add test for sync\n  * refine sync page\n  * registry and web all use controllers/sync.js\n  * sync from web, fixed [#58](https://github.com/cnpm/cnpmjs.org/issues/58)\n  * saving missing descriptions\n  * add package download info. fixed [#63](https://github.com/cnpm/cnpmjs.org/issues/63)\n  * add avatar\n  * use dependecies, fixed #issue62\n  * support open search, fixed [#60](https://github.com/cnpm/cnpmjs.org/issues/60)\n  * make sure publish_time and author is same to source npm registry. fixed [#56](https://github.com/cnpm/cnpmjs.org/issues/56)\n  * add test for search\n  * add a simple search by mysql like\n  * fix This version of MySQL doesn't yet support 'LIMIT & IN/ALL/ANY/SOME subquery. fixed [#54](https://github.com/cnpm/cnpmjs.org/issues/54)\n  * update install doc, use nodejsctl to start\n  * must add limit on list by author sql\n  * fix sql, change test to fit my local database, fixed [#46](https://github.com/cnpm/cnpmjs.org/issues/46)\n  * use registry.cnpmjs.org\n  * add install document and total package info on home page. fix [#42](https://github.com/cnpm/cnpmjs.org/issues/42)\n  * add module_id to tag table. [#46](https://github.com/cnpm/cnpmjs.org/issues/46)\n  * skip error version. fixed [#43](https://github.com/cnpm/cnpmjs.org/issues/43)\n  * sync may make a user do not exist in database, but have modules in registry\n  * add user page\n  * fix set license\n  * ignore 404 on sync. fixed [#39](https://github.com/cnpm/cnpmjs.org/issues/39)\n  * fix module page, add test\n  * update urllib to 0.5.5\n  * version and tag\n  * add module page\n  * fix download url\n  * first get tag, then try version\n  * support sync triggle by install, finish [#31](https://github.com/cnpm/cnpmjs.org/issues/31)\n  * addTag error return 500\n  * just one download field\n  * add download total info on home page\n  * add download count\n  * versions empty and also check missing tags\n  * remove tags on unpublish\n  * add module tag. fix [#6](https://github.com/cnpm/cnpmjs.org/issues/6)\n  * add [done] flag to check sync done on client\n  * get sync log [#29](https://github.com/cnpm/cnpmjs.org/issues/29)\n  * fix test in module\n  * rm tmp file on down request error\n  * add time for debug str\n  * fix pkg not exists null bug\n  * use sync module woker to handle sync process. fixed [#19](https://github.com/cnpm/cnpmjs.org/issues/19)\n  * if private mode enable, only admin can publish module\n  * add alias in readme\n  * fix sql, add sort by name\n  * fix sql\n  * add api to support npm search and auto completion\n  * add npm and cnpm image\n  * add registry total info on home page\n  * fix mods bug in module.removeAll, change module.update => module.removeWithVersions\n  * add test, fix bug. fixed [#18](https://github.com/cnpm/cnpmjs.org/issues/18)\n  * spoort unpublish\n  * add web page index readme\n  * switchable nfs [#21](https://github.com/cnpm/cnpmjs.org/issues/21)\n  * change file path to match npm file path\n  * use qn cdn to store tarball file fixed [#16](https://github.com/cnpm/cnpmjs.org/issues/16)\n  * add GET /:name/:version, fixed [#3](https://github.com/cnpm/cnpmjs.org/issues/3)\n  * add module controller test cases; fix next module not exists logic bug.\n  * publish module flow finish [#11](https://github.com/cnpm/cnpmjs.org/issues/11)\n  * add test for controllers/registry/user.js\n  * add test for middleware/auth\n  * add test for proxy/user\n  * remove index.js\n  * fix typo\n  * add redis as session store\n  * fix nodejsctl mod\n  * add start time\n  * add home page\n  * remove session controller\n  * adduser() finish fixed [#5](https://github.com/cnpm/cnpmjs.org/issues/5)\n  * rm app.js and routes.js\n  * Mock npm adduser server response, fixing [#5](https://github.com/cnpm/cnpmjs.org/issues/5)\n  * adjust project dir, separate registry and web server\n  * Init rest frame for cnpmjs.org\n  * init\n"
        },
        {
          "name": "LICENSE.txt",
          "type": "blob",
          "size": 1.08984375,
          "content": "This software is licensed under the MIT License.\n\nCopyright(c) cnpm and other contributors.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n"
        },
        {
          "name": "Makefile",
          "type": "blob",
          "size": 2.4111328125,
          "content": "TESTS = $(shell ls -S `find test -type f -name \"*.test.js\" -print`)\nREPORTER = spec\nTIMEOUT = 600000\nMOCHA_OPTS =\nDB = sqlite\n\njshint:\n\t@node_modules/.bin/jshint .\n\ninit-database:\n\t@NODE_ENV=test node test/init_db.js\n\ninit-mysql:\n\t@mysql -uroot -h 127.0.0.1 --port 3306 -e 'DROP DATABASE IF EXISTS cnpmjs_test;'\n\t@mysql -uroot -h 127.0.0.1 --port 3306 -e 'CREATE DATABASE cnpmjs_test;'\n\ninit-pg:\n\t@psql -c 'DROP DATABASE IF EXISTS cnpmjs_test;'\n\t@psql -c 'CREATE DATABASE cnpmjs_test;'\n\ntest: init-database\n\t@NODE_ENV=test DB=${DB} node_modules/.bin/mocha \\\n\t\t--reporter $(REPORTER) \\\n\t\t--timeout $(TIMEOUT) \\\n\t\t--require intelli-espower-loader \\\n\t\t--require should \\\n\t\t--require thunk-mocha \\\n\t\t--require ./test/init.js \\\n\t\t$(MOCHA_OPTS) \\\n\t\t$(TESTS)\n\ntest-sqlite:\n\t@$(MAKE) test DB=sqlite\n\ntest-mysql: init-mysql\n\t@$(MAKE) test DB=mysql\n\ntest-pg: init-pg\n\t@DB_PORT=5432 DB_USER=$(USER) $(MAKE) test DB=postgres\n\ntest-all: test-sqlite test-mysql\n\ntest-cov cov: init-database\n\t@NODE_ENV=test DB=${DB} node \\\n\t\tnode_modules/.bin/istanbul cover \\\n\t\tnode_modules/.bin/_mocha \\\n\t\t-- -u exports \\\n\t\t--reporter $(REPORTER) \\\n\t\t--timeout $(TIMEOUT) \\\n\t\t--require intelli-espower-loader \\\n\t\t--require should \\\n\t\t--require thunk-mocha \\\n\t\t--require ./test/init.js \\\n\t\t$(MOCHA_OPTS) \\\n\t\t$(TESTS)\n\ntest-cov-sqlite:\n\t@$(MAKE) test-cov DB=sqlite\n\ntest-cov-mysql: init-mysql\n\t@$(MAKE) test-cov DB=mysql\n\ntest-travis: init-database\n\t@NODE_ENV=test DB=${DB} \\\n\t\tnode \\\n\t\tnode_modules/.bin/istanbul cover \\\n\t\tnode_modules/.bin/_mocha \\\n\t\t-- -u exports \\\n\t\t--reporter dot \\\n\t\t--timeout $(TIMEOUT) \\\n\t\t--require intelli-espower-loader \\\n\t\t--require should \\\n\t\t--require thunk-mocha \\\n\t\t--require ./test/init.js \\\n\t\t$(MOCHA_OPTS) \\\n\t\t$(TESTS)\n\ntest-travis-sqlite:\n\t@$(MAKE) test-travis DB=sqlite\n\ntest-travis-mysql: init-mysql\n\t@$(MAKE) test-travis DB=mysql\n\ntest-travis-pg:\n\t@psql -c 'DROP DATABASE IF EXISTS cnpmjs_test;' -U postgres\n\t@psql -c 'CREATE DATABASE cnpmjs_test;' -U postgres\n\t@DB_PORT=5432 DB_USER=postgres $(MAKE) test-travis DB=postgres\n\ntest-travis-all: jshint test-travis-sqlite test-travis-mysql test-travis-pg\n\ndev:\n\t@NODE_ENV=development node node_modules/.bin/node-dev dispatch.js\n\ncontributors:\n\t@node_modules/.bin/contributors -f plain -o AUTHORS\n\nautod:\n\t@node_modules/.bin/autod -w \\\n\t\t--registry https://r.cnpmjs.org \\\n\t\t--prefix \"^\" \\\n\t\t--exclude public,view,docs,backup,coverage \\\n\t\t--dep mysql \\\n\t\t--keep should,supertest,chunkstream,mm,pedding\n\n.PHONY: test\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 11.8994140625,
          "content": "# ‼️ ‼️ ‼️ ‼️ DEPRECATED, please use https://github.com/cnpm/cnpmcore instead ‼️ ‼️ ‼️ ‼️\n# ‼️ ‼️ ‼️ ‼️ DEPRECATED, please use https://github.com/cnpm/cnpmcore instead ‼️ ‼️ ‼️ ‼️\n# ‼️ ‼️ ‼️ ‼️ DEPRECATED, please use https://github.com/cnpm/cnpmcore instead ‼️ ‼️ ‼️ ‼️\n\n------\n\ncnpmjs.org\n=======\n\n[![npm version][npm-image]][npm-url]\n[![Node.js CI](https://github.com/cnpm/cnpmjs.org/actions/workflows/nodejs.yml/badge.svg)](https://github.com/cnpm/cnpmjs.org/actions/workflows/nodejs.yml)\n[![Test coverage][codecov-image]][codecov-url]\n[![Known Vulnerabilities][snyk-image]][snyk-url]\n[![npm download][download-image]][download-url]\n[![FOSSA Status](https://app.fossa.com/api/projects/git%2Bgithub.com%2Fcnpm%2Fcnpmjs.org.svg?type=shield)](https://app.fossa.com/projects/git%2Bgithub.com%2Fcnpm%2Fcnpmjs.org?ref=badge_shield)\n\n[npm-image]: http://cnpmjs.org/badge/v/cnpmjs.org.svg?style=flat-square\n[npm-url]: http://cnpmjs.org/package/cnpmjs.org\n[codecov-image]: https://codecov.io/gh/cnpm/cnpmjs.org/branch/master/graph/badge.svg\n[codecov-url]: https://codecov.io/gh/cnpm/cnpmjs.org\n[snyk-image]: https://snyk.io/test/npm/cnpmjs.org/badge.svg?style=flat-square\n[snyk-url]: https://snyk.io/test/npm/cnpmjs.org\n[download-image]: https://img.shields.io/npm/dm/cnpmjs.org.svg?style=flat-square\n[download-url]: https://npmjs.org/package/cnpmjs.org\n\n![logo](https://raw.github.com/cnpm/cnpmjs.org/master/logo.png)\n\n## Description\n\nPrivate npm registry and web for Enterprise, base on [koa](http://koajs.com/),\nMySQL and [Simple Store Service](https://github.com/cnpm/cnpmjs.org/wiki/NFS-Guide).\n\nOur goal is to provide a low cost maintenance, easy to use, and easy to scale solution for private npm.\n\n## What can you do with `cnpmjs.org`?\n\n* Build a private npm for your own enterprise. ([alibaba](http://www.alibaba.com/) is using `cnpmjs.org` now)\n* Build a npm mirror. (we use it to build a mirror in China: [https://npmmirror.com/](https://npmmirror.com/))\n* Use the private npm service provided by Alibaba Cloud DevOps which build with cnpm. [https://packages.aliyun.com/](https://packages.aliyun.com/?channel=pd_cnpm_github)\n\n## Features\n\n* **Support \"scoped\" packages**: [npm/npm#5239](https://github.com/npm/npm/issues/5239)\n* **Support [CORS](http://en.wikipedia.org/wiki/Cross-origin_resource_sharing)**\n* **Simple to deploy**: only need `mysql` and a [simple store system](https://github.com/cnpm/cnpmjs.org/wiki/NFS-Guide).\n* **Low cost and easy maintenance**: `package.json` info can store in MySQL, MariaDB, SQLite or PostgreSQL.\ntarball(tgz file) can store in Amazon S3 or other object storage service.\n* **Automatic synchronization**: automatically sync from any registry specified. support two sync modes:\n  - Sync all modules from upstream\n  - Only sync the modules after first access.\n* **Manual synchronization**: automatic synchronization may has little delay. you can sync manually on web page.\n* **Customized client**: we provide a client [cnpm](https://github.com/cnpm/cnpm)\nto extend `npm` with more features(`sync` command, [gzip](https://github.com/npm/npm-registry-client/pull/40) support).\nAnd it is easy to wrap for your own registry which build with `cnpmjs.org`.\n* **Compatible with npm client**: you can use the official npm client with `cnpmjs.org`.\nyou only need to change the registry in client config.\n* **Support http_proxy**: if you're behind a firewall, you can provide a http proxy for cnpmjs.org.\n\n## Docs\n\n* [How to deploy](https://github.com/cnpm/cnpmjs.org/wiki/Deploy)\n* cnpm client: [cnpm](https://github.com/cnpm/cnpm), `npm install -g cnpm`\n* [Sync packages through `http_proxy`](https://github.com/cnpm/cnpmjs.org/wiki/Sync-packages-through-http_proxy)\n* [Migrating from 1.x to 2.x](https://github.com/cnpm/cnpmjs.org/wiki/Migrating-from-1.x-to-2.x)\n* [New features in 2.x](https://github.com/cnpm/cnpmjs.org/wiki/New-features-in-2.x).\n* [wiki](https://github.com/cnpm/cnpmjs.org/wiki)\n\n## Develop on your local machine\n\n### Dependencies\n\n* [node](http://nodejs.org) >= 8.0.0\n* Databases: only required one type\n  * [sqlite3](https://npmmirror.com/package/sqlite3) >= 3.0.2, we use `sqlite3` by default\n  * [MySQL](http://dev.mysql.com/downloads/) >= 5.6.16, include `mysqld` and `mysql cli`. I test on `mysql@5.6.16`.\n  * MariaDB\n  * PostgreSQL\n\n### Clone code and run test\n\n```bash\n# clone from git\n$ git clone https://github.com/cnpm/cnpmjs.org.git\n\n# install dependencies\n$ make install\n\n# test\n$ make test\n\n# coverage\n$ make test-cov\n\n# update dependencies\n$ make autod\n\n# start server with development mode\n$ make dev\n```\n\n### Dockerized cnpmjs.org Installation Guide\n\nCnpmjs.org shipped with a simple but pragmatic Docker Compose configuration.With the configuration, you can set up a MySQL backend cnpmjs.org instance by executing just one command on Docker installed environment.\n\n#### Preparation\n\n* [Install Docker](https://www.docker.com/community-edition)\n* [Install Docker Compose](https://docs.docker.com/compose/install/) (Docker for Mac, Docker for Windows include Docker Compose, so most Mac and Windows users do not need to install Docker Compose separately)\n* (Optional) Speed up Docker images downloading by setting up [Docker images download accelerator](https://yq.aliyun.com/articles/29941)\n\n\n#### Dockerized cnpmjs.org control command\n\nMake sure your current working directory is the root of this GitHub repository.\n\n##### Run dockerized cnpmjs.org\n\n```bash\n $docker-compose up\n ```\n\nThis command will build a Docker image using the current code of repository. Then set up a dockerized MySQL instance with data initialized. After Docker container running, you can access your cnpmjs.org web portal at http://127.0.0.1:7002 and npm register at http://127.0.0.1:7001.\n\n#### Run cnpmjs.org in the backend\n\n```bash\n$docker-compose up -d\n```\n\n#### Rebuild cnpmjs.org Docker image\n\n```bash\n$docker-compose build\n```\n\n#### Remove current dockerized cnpmjs.org instance\n\nThe current configuration set 2 named Docker Volume for your persistent data. If you haven't change the repository directory name, them will be \"cnpmjsorg_cnpm-files-volume\" & \"cnpmjsorg_cnpm-db-volume\".\n\nBe Careful, the following commands will remove them.\n\n```bash\n$docker-compose rm\n$docker volume rm cnpmjsorg_cnpm-files-volume\n$docker volume rm cnpmjsorg_cnpm-db-volume\n```\n\nYou can get more information about your data volumes using the below commands:\n\n```bash\n$docker volume ls  // list all of your Docker volume\n$docker volume inspect cnpmjsorg_cnpm-files-volume\n$docker volume inspect cnpmjsorg_cnpm-db-volume\n```\n\n## How to contribute\n\n* Clone the project\n* Checkout a new branch\n* Add new features or fix bugs in the new branch\n* Make a pull request and we will review it ASAP\n\nTips: make sure your code is following the [node-style-guide](https://github.com/felixge/node-style-guide).\n\n## Sponsors\n\n- [![阿里云](https://static.aliyun.com/images/www-summerwind/logo.gif)](http://click.aliyun.com/m/4288/) [![阿里云云效](https://img.alicdn.com/tfs/TB116yt3fb2gK0jSZK9XXaEgFXa-106-20.png)](https://devops.aliyun.com/?channel=pd_cnpm_github) (2016.2 - now)\n\n## License\n\n[MIT](LICENSE.txt)\n\n<!-- GITCONTRIBUTOR_START -->\n\n## Contributors\n\n|[<img src=\"https://avatars.githubusercontent.com/u/156269?v=4\" width=\"100px;\"/><br/><sub><b>fengmk2</b></sub>](https://github.com/fengmk2)<br/>|[<img src=\"https://avatars.githubusercontent.com/u/985607?v=4\" width=\"100px;\"/><br/><sub><b>dead-horse</b></sub>](https://github.com/dead-horse)<br/>|[<img src=\"https://avatars.githubusercontent.com/u/14790466?v=4\" width=\"100px;\"/><br/><sub><b>greenkeeperio-bot</b></sub>](https://github.com/greenkeeperio-bot)<br/>|[<img src=\"https://avatars.githubusercontent.com/u/543405?v=4\" width=\"100px;\"/><br/><sub><b>ibigbug</b></sub>](https://github.com/ibigbug)<br/>|[<img src=\"https://avatars.githubusercontent.com/u/6897780?v=4\" width=\"100px;\"/><br/><sub><b>killagu</b></sub>](https://github.com/killagu)<br/>|[<img src=\"https://avatars.githubusercontent.com/u/1147375?v=4\" width=\"100px;\"/><br/><sub><b>alsotang</b></sub>](https://github.com/alsotang)<br/>|\n| :---: | :---: | :---: | :---: | :---: | :---: |\n|[<img src=\"https://avatars.githubusercontent.com/u/2842176?v=4\" width=\"100px;\"/><br/><sub><b>XadillaX</b></sub>](https://github.com/XadillaX)<br/>|[<img src=\"https://avatars.githubusercontent.com/u/327019?v=4\" width=\"100px;\"/><br/><sub><b>JacksonTian</b></sub>](https://github.com/JacksonTian)<br/>|[<img src=\"https://avatars.githubusercontent.com/u/11251401?v=4\" width=\"100px;\"/><br/><sub><b>Solais</b></sub>](https://github.com/Solais)<br/>|[<img src=\"https://avatars.githubusercontent.com/u/1134761?v=4\" width=\"100px;\"/><br/><sub><b>4simple</b></sub>](https://github.com/4simple)<br/>|[<img src=\"https://avatars.githubusercontent.com/u/6622122?v=4\" width=\"100px;\"/><br/><sub><b>21paradox</b></sub>](https://github.com/21paradox)<br/>|[<img src=\"https://avatars.githubusercontent.com/u/26033663?v=4\" width=\"100px;\"/><br/><sub><b>Zian502</b></sub>](https://github.com/Zian502)<br/>|\n|[<img src=\"https://avatars.githubusercontent.com/u/1294440?v=4\" width=\"100px;\"/><br/><sub><b>albertZhang2013</b></sub>](https://github.com/albertZhang2013)<br/>|[<img src=\"https://avatars.githubusercontent.com/u/6111524?v=4\" width=\"100px;\"/><br/><sub><b>ankurk91</b></sub>](https://github.com/ankurk91)<br/>|[<img src=\"https://avatars.githubusercontent.com/u/1935436?v=4\" width=\"100px;\"/><br/><sub><b>huangbowen521</b></sub>](https://github.com/huangbowen521)<br/>|[<img src=\"https://avatars.githubusercontent.com/u/5365267?v=4\" width=\"100px;\"/><br/><sub><b>gwenaelp</b></sub>](https://github.com/gwenaelp)<br/>|[<img src=\"https://avatars.githubusercontent.com/u/324440?v=4\" width=\"100px;\"/><br/><sub><b>KidkArolis</b></sub>](https://github.com/KidkArolis)<br/>|[<img src=\"https://avatars.githubusercontent.com/u/922240?v=4\" width=\"100px;\"/><br/><sub><b>tq0fqeu</b></sub>](https://github.com/tq0fqeu)<br/>|\n|[<img src=\"https://avatars.githubusercontent.com/u/1587797?v=4\" width=\"100px;\"/><br/><sub><b>limianwang</b></sub>](https://github.com/limianwang)<br/>|[<img src=\"https://avatars.githubusercontent.com/u/900947?v=4\" width=\"100px;\"/><br/><sub><b>LoicMahieu</b></sub>](https://github.com/LoicMahieu)<br/>|[<img src=\"https://avatars.githubusercontent.com/u/1614482?v=4\" width=\"100px;\"/><br/><sub><b>paulvi</b></sub>](https://github.com/paulvi)<br/>|[<img src=\"https://avatars.githubusercontent.com/u/36651530?v=4\" width=\"100px;\"/><br/><sub><b>XXBeii</b></sub>](https://github.com/XXBeii)<br/>|[<img src=\"https://avatars.githubusercontent.com/u/1422472?v=4\" width=\"100px;\"/><br/><sub><b>jpuncle</b></sub>](https://github.com/jpuncle)<br/>|[<img src=\"https://avatars.githubusercontent.com/u/20092391?v=4\" width=\"100px;\"/><br/><sub><b>vincentmrlau</b></sub>](https://github.com/vincentmrlau)<br/>|\n[<img src=\"https://avatars.githubusercontent.com/u/4470552?v=4\" width=\"100px;\"/><br/><sub><b>stoneChen</b></sub>](https://github.com/stoneChen)<br/>|[<img src=\"https://avatars.githubusercontent.com/u/2196373?v=4\" width=\"100px;\"/><br/><sub><b>dickeylth</b></sub>](https://github.com/dickeylth)<br/>|[<img src=\"https://avatars.githubusercontent.com/u/29791463?v=4\" width=\"100px;\"/><br/><sub><b>fossabot</b></sub>](https://github.com/fossabot)<br/>|[<img src=\"https://avatars.githubusercontent.com/u/1941756?v=4\" width=\"100px;\"/><br/><sub><b>gniavaj</b></sub>](https://github.com/gniavaj)<br/>|[<img src=\"https://avatars.githubusercontent.com/u/10371891?v=4\" width=\"100px;\"/><br/><sub><b>hellojukay</b></sub>](https://github.com/hellojukay)<br/>|[<img src=\"https://avatars.githubusercontent.com/u/5040076?v=4\" width=\"100px;\"/><br/><sub><b>liyangready</b></sub>](https://github.com/liyangready)<br/>\n\nThis project follows the git-contributor [spec](https://github.com/xudafeng/git-contributor), auto updated at `Sun Mar 20 2022 09:50:54 GMT+0800`.\n\n<!-- GITCONTRIBUTOR_END -->\n\n[![FOSSA Status](https://app.fossa.com/api/projects/git%2Bgithub.com%2Fcnpm%2Fcnpmjs.org.svg?type=large)](https://app.fossa.com/projects/git%2Bgithub.com%2Fcnpm%2Fcnpmjs.org?ref=badge_large)\n"
        },
        {
          "name": "bin",
          "type": "tree",
          "content": null
        },
        {
          "name": "common",
          "type": "tree",
          "content": null
        },
        {
          "name": "config",
          "type": "tree",
          "content": null
        },
        {
          "name": "controllers",
          "type": "tree",
          "content": null
        },
        {
          "name": "dispatch.js",
          "type": "blob",
          "size": 2.595703125,
          "content": "'use strict';\n\nvar childProcess = require('child_process');\nvar path = require('path');\nvar util = require('util');\nvar cfork = require('cfork');\nvar config = require('./config');\nvar workerPath = path.join(__dirname, 'worker.js');\nvar syncPath = path.join(__dirname, 'sync');\nvar scopeSyncPath = path.join(__dirname, 'sync/sync_scope');\n\nconsole.log('Starting cnpmjs.org ...\\ncluster: %s\\nadmins: %j\\nscopes: %j\\nsourceNpmRegistry: %s\\nsyncModel: %s',\n  config.enableCluster, config.admins, config.scopes, config.sourceNpmRegistry, config.syncModel);\n\nif (config.enableCluster) {\n  forkWorker();\n  config.syncModel !== 'none' && forkSyncer();\n  // sync assign private scope package\n  config.syncScope && forkScopeSyncer();\n} else {\n  require(workerPath);\n  config.syncModel !== 'none' && require(syncPath);\n  // sync assign private scope package\n  config.syncScope && require(scopeSyncPath);\n}\n\nfunction forkWorker() {\n  cfork({\n    exec: workerPath,\n    count: config.numCPUs,\n  }).on('fork', function (worker) {\n    console.log('[%s] [worker:%d] new worker start', Date(), worker.process.pid);\n  }).on('disconnect', function (worker) {\n    console.error('[%s] [master:%s] wroker:%s disconnect, suicide: %s, state: %s.',\n      Date(), process.pid, worker.process.pid, worker.suicide, worker.state);\n  }).on('exit', function (worker, code, signal) {\n    var exitCode = worker.process.exitCode;\n    var err = new Error(util.format('worker %s died (code: %s, signal: %s, suicide: %s, state: %s)',\n      worker.process.pid, exitCode, signal, worker.suicide, worker.state));\n    err.name = 'WorkerDiedError';\n    console.error('[%s] [master:%s] wroker exit: %s', Date(), process.pid, err.stack);\n  });\n}\n\nfunction forkSyncer() {\n  var syncer = childProcess.fork(syncPath);\n  syncer.on('exit', function (code, signal) {\n    var err = new Error(util.format('syncer %s died (code: %s, signal: %s, stdout: %s, stderr: %s)',\n      syncer.pid, code, signal, syncer.stdout, syncer.stderr));\n    err.name = 'SyncerWorkerDiedError';\n    console.error('[%s] [master:%s] syncer exit: %s: %s',\n      Date(), process.pid, err.name, err.message);\n    setTimeout(forkSyncer, 1000);\n  });\n}\n\nfunction forkScopeSyncer() {\n  var syncer = childProcess.fork(scopeSyncPath);\n  syncer.on('exit', function (code, signal) {\n    var err = new Error(util.format('syncer %s died (code: %s, signal: %s, stdout: %s, stderr: %s)',\n      syncer.pid, code, signal, syncer.stdout, syncer.stderr));\n    err.name = 'SyncerWorkerDiedError';\n    console.error('[%s] [master:%s] syncer exit: %s: %s',\n      Date(), process.pid, err.name, err.message);\n    setTimeout(forkScopeSyncer, 1000);\n  });\n}\n"
        },
        {
          "name": "docker-compose.yml",
          "type": "blob",
          "size": 0.625,
          "content": "version: '3'\nservices:\n  web:\n    build:\n      context: .\n      dockerfile: Dockerfile\n    image: cnpmjs.org\n    depends_on:\n      - mysql-db\n    volumes:\n      - cnpm-files-volume:/var/data/cnpm_data\n    ports:\n      - \"7001:7001\"\n      - \"7002:7002\"\n\n  mysql-db:\n    image: mysql:5.6\n    restart: always\n    environment :\n      MYSQL_USER: root      \n      MYSQL_ALLOW_EMPTY_PASSWORD: \"yes\"      \n      MYSQL_DATABASE: cnpmjs_test\n      MYSQL_ROOT_HOST: \"%\"\n    volumes:\n      - ./docs/db.sql:/docker-entrypoint-initdb.d/cnpm-init.sql           \n      - cnpm-db-volume:/var/lib/mysql \n\nvolumes:\n  cnpm-files-volume:\n  cnpm-db-volume:    \n"
        },
        {
          "name": "docs",
          "type": "tree",
          "content": null
        },
        {
          "name": "index.js",
          "type": "blob",
          "size": 0.3232421875,
          "content": "'use strict';\n\nvar config = require('./config');\n\nexports.loadConfig = config.loadConfig;\nexports.config = config;\n\nexports.startWorker = function (customConfig) {\n  config.loadConfig(customConfig);\n  require('./worker');\n};\n\nexports.startSync = function (customConfig) {\n  config.loadConfig(customConfig);\n  require('./sync');\n};\n"
        },
        {
          "name": "lib",
          "type": "tree",
          "content": null
        },
        {
          "name": "logo.png",
          "type": "blob",
          "size": 21.314453125,
          "content": null
        },
        {
          "name": "middleware",
          "type": "tree",
          "content": null
        },
        {
          "name": "models",
          "type": "tree",
          "content": null
        },
        {
          "name": "package.json",
          "type": "blob",
          "size": 3.1630859375,
          "content": "{\n  \"name\": \"cnpmjs.org\",\n  \"version\": \"3.0.0-rc.66\",\n  \"description\": \"Private npm registry and web for Enterprise, base on MySQL and Simple Store Service\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"contributor\": \"git-contributor\",\n    \"dev\": \"DEBUG=cnpm* node dispatch.js\",\n    \"test\": \"make test\",\n    \"test-local\": \"make test\",\n    \"start\": \"./bin/nodejsctl start && cp History.md docs/web/history.md\",\n    \"status\": \"./bin/nodejsctl status\",\n    \"stop\": \"./bin/nodejsctl stop\",\n    \"ci\": \"make test-travis-mysql\"\n  },\n  \"bin\": {\n    \"cnpmjs.org\": \"bin/cli.js\"\n  },\n  \"dependencies\": {\n    \"agentkeepalive\": \"^4.0.0\",\n    \"await-event\": \"^2.1.0\",\n    \"bytes\": \"^2.5.0\",\n    \"cfork\": \"^1.6.1\",\n    \"changes-stream\": \"^1.1.0\",\n    \"co\": \"^4.6.0\",\n    \"co-defer\": \"^1.0.0\",\n    \"co-gather\": \"~0.0.1\",\n    \"co-sleep\": \"~0.0.1\",\n    \"commander\": \"^2.11.0\",\n    \"copy-to\": \"^2.0.1\",\n    \"debug\": \"^3.0.0\",\n    \"error-formater\": \"^1.0.3\",\n    \"fs-cnpm\": \"^2.1.0\",\n    \"giturl\": \"^1.0.0\",\n    \"graceful\": \"^1.0.1\",\n    \"gravatar\": \"^1.6.0\",\n    \"he\": \"^1.2.0\",\n    \"humanize-ms\": \"^1.2.1\",\n    \"humanize-number\": \"~0.0.2\",\n    \"ioredis\": \"^4.6.2\",\n    \"ip-regex\": \"^4.1.0\",\n    \"is-type-of\": \"^1.2.0\",\n    \"kcors\": \"^1.2.1\",\n    \"koa\": \"^1.2.0\",\n    \"koa-bodyparser\": \"^2.5.0\",\n    \"koa-conditional-get\": \"^1.0.4\",\n    \"koa-etag\": \"^2.1.2\",\n    \"koa-limit\": \"^1.0.2\",\n    \"koa-markdown\": \"^2.0.2\",\n    \"koa-maxrequests\": \"^1.0.0\",\n    \"koa-middlewares\": \"^2.1.0\",\n    \"koa-mock\": \"^1.6.2\",\n    \"koa-proxy\": \"^0.9.0\",\n    \"koa-rewrite\": \"^1.1.2\",\n    \"koa-rt\": \"^1.0.0\",\n    \"koa-safe-jsonp\": \"^0.3.1\",\n    \"lodash\": \"^4.17.21\",\n    \"markdown-it\": \"^8.3.2\",\n    \"mime\": \"^1.3.6\",\n    \"mini-logger\": \"^1.1.3\",\n    \"mkdirp\": \"^0.5.1\",\n    \"moment\": \"^2.18.1\",\n    \"mysql\": \"^2.14.1\",\n    \"mz\": \"^2.6.0\",\n    \"nodemailer\": \"^1.3.0\",\n    \"normalize-registry-metadata\": \"^1.1.2\",\n    \"rimraf\": \"^2.6.2\",\n    \"semver\": \"^5.4.1\",\n    \"sequelize\": \"^3.23.4\",\n    \"ssri\": \"^8.0.1\",\n    \"thunkify-wrap\": \"^1.0.4\",\n    \"treekill\": \"^1.0.0\",\n    \"tunnel-agent\": \"^0.6.0\",\n    \"urllib\": \"^2.24.0\",\n    \"utility\": \"^1.12.0\",\n    \"uuid\": \"^8.3.0\",\n    \"xss\": \"^0.3.3\"\n  },\n  \"devDependencies\": {\n    \"autod\": \"*\",\n    \"chunkstream\": \"*\",\n    \"git-contributor\": \"^1.0.10\",\n    \"intelli-espower-loader\": \"^1.0.1\",\n    \"istanbul\": \"*\",\n    \"jshint\": \"*\",\n    \"mm\": \"*\",\n    \"mocha\": \"3\",\n    \"node-dev\": \"*\",\n    \"pedding\": \"*\",\n    \"pg\": \"5\",\n    \"pg-hstore\": \"2\",\n    \"power-assert\": \"^1.4.2\",\n    \"should\": \"8\",\n    \"sqlite3\": \"*\",\n    \"supertest\": \"2\",\n    \"thunk-mocha\": \"1\"\n  },\n  \"homepage\": \"https://github.com/cnpm/cnpmjs.org\",\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"git://github.com/cnpm/cnpmjs.org.git\",\n    \"web\": \"https://github.com/cnpm/cnpmjs.org\"\n  },\n  \"bugs\": {\n    \"url\": \"https://github.com/cnpm/cnpmjs.org/issues\"\n  },\n  \"publishConfig\": {\n    \"tag\": \"latest-3\"\n  },\n  \"keywords\": [\n    \"cnpmjs.org\",\n    \"npm\",\n    \"npmjs\",\n    \"npmjs.org\",\n    \"registry\"\n  ],\n  \"engines\": {\n    \"node\": \">= 8.0.0\"\n  },\n  \"ci\": {\n    \"type\": \"github\",\n    \"os\": {\n      \"github\": \"linux, macos\"\n    },\n    \"npminstall\": true,\n    \"version\": \"10, 12\",\n    \"command\": {\n      \"github\": \"ci\"\n    },\n    \"services\": \"mysql\"\n  },\n  \"license\": \"MIT\"\n}\n"
        },
        {
          "name": "public",
          "type": "tree",
          "content": null
        },
        {
          "name": "routes",
          "type": "tree",
          "content": null
        },
        {
          "name": "servers",
          "type": "tree",
          "content": null
        },
        {
          "name": "services",
          "type": "tree",
          "content": null
        },
        {
          "name": "sync",
          "type": "tree",
          "content": null
        },
        {
          "name": "test",
          "type": "tree",
          "content": null
        },
        {
          "name": "tools",
          "type": "tree",
          "content": null
        },
        {
          "name": "view",
          "type": "tree",
          "content": null
        },
        {
          "name": "worker.js",
          "type": "blob",
          "size": 0.8466796875,
          "content": "'use strict';\n\nvar graceful = require('graceful');\nvar registry = require('./servers/registry');\nvar web = require('./servers/web');\nvar logger = require('./common/logger');\nvar config = require('./config');\n\nregistry.listen(config.registryPort, config.bindingHost);\nweb.listen(config.webPort, config.bindingHost);\n\nconsole.log('[%s] [worker:%d] Server started, registry server listen at %s:%d, web listen at %s:%d, cluster: %s',\n  new Date(), process.pid,\n  config.bindingHost, config.registryPort,\n  config.bindingHost, config.webPort,\n  config.enableCluster);\n\ngraceful({\n  server: [registry, web],\n  error: function (err, throwErrorCount) {\n    if (err.message) {\n      err.message += ' (uncaughtException throw ' + throwErrorCount + ' times on pid:' + process.pid + ')';\n    }\n    console.error(err);\n    console.error(err.stack);\n    logger.error(err);\n  }\n});\n"
        }
      ]
    }
  ]
}