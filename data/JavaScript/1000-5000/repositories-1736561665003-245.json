{
  "metadata": {
    "timestamp": 1736561665003,
    "page": 245,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjI1MA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "gavinkwoe/weapp-ide-crack",
      "stars": 4308,
      "defaultBranch": "master",
      "files": [
        {
          "name": "README.md",
          "type": "blob",
          "size": 4.095703125,
          "content": "# 微信应用号/小程序开发IDE\n\n<img src=\"https://cloud.githubusercontent.com/assets/876707/18773863/cca59fae-8185-11e6-9d7b-050ba646b456.png\" width = \"172\" height = \"150\" alt=\"LOGO\" align=center />\n\n官方已推出正式版本IDE，请前往下载：https://mp.weixin.qq.com/wiki\n\n## 下载声明\n\n* 相关代码纯属技术研究与爱好，请在学习使用后删除\n* 相关下载资源均来自于QQ群，与作者及贡献者本人无关\n* 当微信官方提供正式版本后，请支持微信官方，一起把应用号做的更好\n\n## 相关资源\n\n* 开发群：\n\t* 一群（452137839）（满）\n\t* 二群（160108745）（满）\n\t* 三群（588937445）\n\t* 四群（579701728）\n\n## 贡献者名单\n\n感谢大家的贡献！\n\n| 时间 | 贡献者 | 贡献内容 |\n|--------|------------|---------------|\n| 2016.09.23 | importcjj | 去除调用接口必须在mp后台配置的限制 |\n| 2016.09.23 | AlayshChen | 去除请求URL域名限制 |\n| 2016.09.23 | qdsang | 解决无法创建App问题 |\n| 2016.09.22 | loulin | 补充常见问题 |\n| 2016.09.22 | fakefish | 修复0.7下载链接 |\n| 2016.09.22 | QFish | 补充常见问题 |\n\n## 破解步骤\n\n***Mac测试可用，Windows测试可用***\n\n1. 下载开发工具，并安装（***注意：一定要安装0.9版本***）\n2. 打开『微信Web开发者工具』的程序目录\n  * Windows：使用资源管理器查看\n  * Mac：右键点击图标，选择『显示包内容』\n3. 进入程序目录后，替换以下文件（只需要替换0.9版本里的，0.7版本用来登陆）：\n  * Windows：\n    * \\package.nw\\app\\dist\\components\\create\\createstep.js\n    * \\package.nw\\app\\dist\\stroes\\projectStores.js 或 \\package.nw\\app\\dist\\stores\\projectStores.js （0.9.092300之后版本）\n    * \\package.nw\\app\\dist\\weapp\\appservice\\asdebug.js\n  * Mac：\n    * /Resources/app.nw/app/dist/components/create/createstep.js\n    * /Resources/app.nw/app/dist/stroes/projectStores.js 或 /Resources/app.nw/app/dist/stroes/projectStores.js （0.9.092300之后版本）\n    * /Resources/app.nw/app/dist/weapp/appservice/asdebug.js  \n\n  **[替换的文件点击这里下载](https://github.com/gavinkwoe/weapp-ide-crack/archive/master.zip)**\n\n4. Good luck\n\n## 项目创建\n\n1. 运行『微信Web开发者工具』\n2. 通过微信扫描二维码\n3. 创建项目\n  * AppID：选【无AppId】\n  * 项目名称：随便填\n  * 本地开发目录：选择一个目录\n4. 点击「添加项目」\n5. 打开项目\n6. 开始写代码\n7. Good luck\n\n## Demo运行\n\n* 创建项目\n* 打开项目所在目录\n* 下载「Demo源代码」并解压覆盖\n* 打开项目\n* Good luck\n\n## 常见问题（仅真对破解版）\n1. 找不到所要替换的文件\n  * 问题原因：开发工具版本不正确，老版本不支持\n  * 解决方案：确保下载的程序版本在0.9.092100以上\n2. Failed to load resource: net::ERR_NAME_NOT_RESOLVED http://1709827360.appservice.open.weixin.qq.com/appservice\n  * 问题原因：通常是由于系统设置了代理如Shadowsocks等。\n  * 解决方案：关闭代理，或者依次点击工具栏“动作”-\"设置\"，选择“不使用任何代理，勾选后直连网络”。\n3. 修复asdebug.js报错\n  * 问题原因：TypeError: Cannot read property 'MaxRequestConcurrent' of undefined\n  * 解决方案：替换 /Resources/app.nw/app/dist/weapp/appservice/asdebug.js  \n4. 扫码登录失败\n  * 问题原因：please bind your wechat account to the appid first\n  * 解决方案：先使用0.7版本的进行扫码登陆，登陆成功后，再用0.9的版本打开就直接进入了。\n    * 0.7版本地址：http://dldir1.qq.com/WechatWebDev/release/0.7.0/wechat_web_devtools_0.7.0.dmg\n5. mac版本升级到0.9.092300后，asdebug.js报错\n  * 问题原因：TypeError: Cannot read property 'MaxRequestConcurrent' of undefined\n  * 解决方案：替换 /Resources/app.nw/app/dist/weapp/appservice/asdebug.js  \n\n## 工具截图\n\n![IDE](https://cloud.githubusercontent.com/assets/876707/18745196/f4f0488e-80f3-11e6-844b-f45d7e52a23c.png)\n\n![IDE](https://cloud.githubusercontent.com/assets/876707/18745200/f7a74870-80f3-11e6-83cf-df00f7f87f56.png)\n\n## 相关链接\n\nhttp://www.geek-zoo.com\n"
        },
        {
          "name": "asdebug.js",
          "type": "blob",
          "size": 16.2705078125,
          "content": "\"use strict\";\n! function() {\n    function e(e) {\n        var o = JSON.parse(JSON.stringify(e));\n        o.to = \"backgroundjs\", o.comefrom = \"webframe\", o.command = \"COMMAND_FROM_ASJS\", o.appid = C, o.appname = R, o.apphash = W, o.webviewID = q, window.postMessage(o, \"*\")\n    }\n\n    function o(e) {\n        e.command = \"COMMAND_FROM_ASJS\", e.appid = C, e.appname = R, e.apphash = W, e.webviewID = q;\n        var o = \"____sdk____\" + JSON.stringify(e),\n            n = prompt(o);\n        n = JSON.parse(n), delete n.to, a(n)\n    }\n\n    function n(e) {\n        e.to = \"contentscript\", e.comefrom = \"webframe\", e.webviewID = q, window.postMessage(e, \"*\")\n    }\n\n    function t() {\n        var e = Math.random();\n        return L[e] ? initMappingID() : e\n    }\n\n    function r(n, r, a) {\n        var i = t();\n        L[i] = a;\n        var s = /Sync$/.test(n),\n            c = {\n                sdkName: n,\n                args: r,\n                callbackID: i\n            };\n        s ? o(c) : e(c)\n    }\n\n    function a(o) {\n        var n = o.command;\n        delete o.command;\n        var t = o.msg || {},\n            r = o.ext || {};\n        if (\"WINDOW_GET_WEBAPP_ERROR\" === n) {\n            var a = t.fileName,\n                i = t.errStr;\n            return console.group(\"%c加载 \" + a + \" 错误\", \"color: red; font-size: x-large\"), console.error(\"%c\" + i, \"color: red; font-size: x-large\"), void console.groupEnd()\n        }\n        if (\"MSG_FROM_WEBVIEW\" === n || \"GET_ASSDK_RES\" === n) {\n            var s = t.eventName || r.sdkName;\n            O && (console.group(new Date + \" GetMsg \" + s), console.debug(s, t, r), console.groupEnd()), B.push({\n                type: \"GetMsg\",\n                eventName: s,\n                data: [s, t, r],\n                timesmap: new Date\n            })\n        }\n        if (\"MSG_FROM_WEBVIEW\" === n) {\n            var c = t.eventName,\n                u = t.type,\n                p = t.data || {};\n            p.webviewId = t.webviewID, \"ON_APPLIFECYCLE_EVENT\" === u ? S(c, p) : \"ON_MUSIC_EVENT\" === u && A(c, p), WeixinJSBridge._subscribe[c] && WeixinJSBridge._subscribe[c](p, p.webviewId)\n        } else if (\"GET_ASSDK_RES\" === n) {\n            var d = r.callbackID;\n            L[d](t), delete L[d]\n        } else if (\"GET_APP_DATA\" === n) e({\n            appData: __wxAppData,\n            sdkName: \"send_app_data\"\n        });\n        else if (\"WRITE_APP_DATA\" === n)\n            for (var l in t) {\n                var g = t[l],\n                    f = g.__webviewId__;\n                WeixinJSBridge.publish(\"appDataChange\", {\n                    data: {\n                        data: g\n                    }\n                }, [f], !0)\n            }\n    }\n\n    function i(e, o) {\n        // 去除请求URL域名限制\n        return true\n        try {\n            for (var n = F.projectConfig, t = n.Network, r = \"webscoket\" === o ? t.WsRequestDomain : t.RequestDomain, a = 0; a < r.length; a++)\n                if (0 === e.indexOf(r[a])) return !0\n        } catch (i) {\n            return console.error(i), !1\n        }\n    }\n\n    function s(e, o, n) {\n        if (G++, G > I) return G--, n && n({\n            errMsg: \"request:fail;\"\n        }), void console.error(\"%c 最多同时发起 \" + I + \" 个 wx.request 请求\", \"color: red; font-size: x-large\");\n        var t = o.url,\n            r = o.header || {};\n        // if (!i(t)) return G--, n && n({\n        //     errMsg: \"request:fail;\"\n        // }), void console.error(\"%c URL 域名不合法，请在 mp 后台配置后重试\", \"color: red; font-size: x-large\");\n        var a, s = new XMLHttpRequest,\n            c = o.method || \"POST\",\n            u = (o.complete, F.networkTimeout && F.networkTimeout.request);\n        s.open(c, o.url, !0), s.onreadystatechange = function() {\n            if (3 == s.readyState, 4 == s.readyState) {\n                s.onreadystatechange = null;\n                var e = s.status;\n                0 == e ? n && n({\n                    errMsg: \"request:fail\"\n                }) : n && n({\n                    errMsg: \"request:ok\",\n                    data: s.responseText,\n                    statusCode: e\n                }), G--, a && clearTimeout(a)\n            }\n        };\n        var p = !1;\n        for (var d in r)\n            if (r.hasOwnProperty(d)) {\n                var l = d.toLowerCase();\n                p = \"content-type\" == l || p, \"cookie\" === l ? s.setRequestHeader(\"_Cookie\", r[d]) : s.setRequestHeader(d, r[d])\n            }\n            \"POST\" != c || p || s.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded; charset=UTF-8\"), s.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\"), \"number\" == typeof u && (a = setTimeout(function() {\n            s.abort(\"timeout\"), o.complete && o.complete(), o.complete = null, G--, n && n({\n                errMsg: \"request:fail\"\n            })\n        }, u));\n        var g = \"string\" == typeof o.data ? o.data : null;\n        try {\n            s.send(g)\n        } catch (f) {\n            G--, n && n({\n                errMsg: \"request:fail\"\n            })\n        }\n    }\n\n    function c(e, o) {\n        var n = K[e];\n        n && o && n.push(o)\n    }\n\n    function u(e, o) {\n        var n = K[e],\n            t = !0,\n            r = !1,\n            a = void 0;\n        try {\n            for (var i, s = n[Symbol.iterator](); !(t = (i = s.next()).done); t = !0) {\n                var c = i.value;\n                c(o)\n            }\n        } catch (u) {\n            r = !0, a = u\n        } finally {\n            try {\n                !t && s[\"return\"] && s[\"return\"]()\n            } finally {\n                if (r) throw a\n            }\n        }\n    }\n\n    function p(e, o, n) {\n        var t = o.url,\n            r = o.header;\n        if (!i(t, \"webscoket\")) return n && n({\n            errMsg: \"closeSocket:fail\"\n        }), void console.error(\"%c URL 域名不合法，请在 mp 后台配置后，重启项目继续测试\", \"color: red; font-size: x-large\");\n        j = new WebSocket(t);\n        for (var a in r) r.hasOwnProperty(a);\n        j.onopen = function() {\n            u(\"open\")\n        }, j.onmessage = function(e) {\n            u(\"message\", {\n                data: e.data\n            })\n        }, j.onclose = function(e) {\n            u(\"close\", e)\n        }, j.onerror = function(e) {\n            u(\"error\", e)\n        }, n && n({\n            errMsg: \"connectSocket:ok\"\n        })\n    }\n\n    function d(e, o, n) {\n        j ? (j.close(), j = null, n && n({\n            errMsg: \"closeSocket:ok\"\n        })) : n && n({\n            errMsg: \"closeSocket:fail\"\n        })\n    }\n\n    function l(e, o, n) {\n        var t = o.data;\n        if (j) try {\n            j.send(t), n && n({\n                errMsg: \"sendSocketMessage:ok\"\n            })\n        } catch (r) {\n            n && n({\n                errMsg: \"sendSocketMessage:fail,\" + r.message\n            })\n        } else n && n({\n            errMsg: \"sendSocketMessage:fail\"\n        })\n    }\n\n    function g(e, o) {\n        c(\"open\", o)\n    }\n\n    function f(e, o) {\n        c(\"message\", o)\n    }\n\n    function v(e, o) {\n        c(\"error\", o)\n    }\n\n    function w(e, o) {\n        c(\"close\", o)\n    }\n\n    function m(e, o) {\n        var n = U[e];\n        n && o && n.push(o)\n    }\n\n    function S(e, o) {\n        var n = U[e],\n            t = !0,\n            r = !1,\n            a = void 0;\n        try {\n            for (var i, s = n[Symbol.iterator](); !(t = (i = s.next()).done); t = !0) {\n                var c = i.value;\n                c(o)\n            }\n        } catch (u) {\n            r = !0, a = u\n        } finally {\n            try {\n                !t && s[\"return\"] && s[\"return\"]()\n            } finally {\n                if (r) throw a\n            }\n        }\n    }\n\n    function h(e, o) {\n        U.onAppLaunch || (o && o({}), U.onAppLaunch = !0)\n    }\n\n    function b(e, o) {\n        m(\"onAppTerminate\", o)\n    }\n\n    function _(e, o) {\n        m(\"onAppRoute\", o)\n    }\n\n    function y(e, o) {\n        m(\"onAppEnterBackground\", o)\n    }\n\n    function M(e, o) {\n        U.onAppShow || (o && o({}), U.onAppShow = !0), m(\"onAppEnterForeground\", o)\n    }\n\n    function k(e, o) {\n        var n = X[e];\n        n && o && n.push(o)\n    }\n\n    function A(e, o) {\n        var n = X[e],\n            t = !0,\n            r = !1,\n            a = void 0;\n        try {\n            for (var i, s = n[Symbol.iterator](); !(t = (i = s.next()).done); t = !0) {\n                var c = i.value;\n                c(o)\n            }\n        } catch (u) {\n            r = !0, a = u\n        } finally {\n            try {\n                !t && s[\"return\"] && s[\"return\"]()\n            } finally {\n                if (r) throw a\n            }\n        }\n    }\n\n    function D(e, o) {\n        k(\"onMusicPlay\", o)\n    }\n\n    function E(e, o) {\n        k(\"onMusicPause\", o)\n    }\n\n    function N(e, o) {\n        k(\"onMusicEnd\", o)\n    }\n\n    function x(e, o) {\n        k(\"onMusicError\", o)\n    }\n\n    function T(e, o, n) {\n        n && n({\n            errMsg: \"openAddress:ok\",\n            userName: \"张三\",\n            addressPostalCode: \"510000\",\n            provinceFirstStageName: \"广东省\",\n            addressCitySecondStageName: \"广州市\",\n            addressCountiesThirdStageName: \"天河区\",\n            addressDetailInfo: \"某巷某号\",\n            nationalCode: \"510630\"\n        })\n    }\n    window.MutationObserver = window.WebKitMutationObserver = window.File = void 0;\n    var I, W = __wxConfig.apphash,\n        C = __wxConfig.appid,\n        R = __wxConfig.appname,\n        O = !1,\n        B = [],\n        J = navigator.userAgent,\n        q = parseInt(J.match(/webview\\/(\\d*)/)[1]),\n        P = [],\n        L = {},\n        F = Object.assign({\n            domain: [\"rapheal.sinaapp.com\"],\n            networkTimeout: {\n                request: 3e4,\n                connectSocket: 3e4,\n                uploadFile: 3e4,\n                downloadFile: 3e4\n            }\n        }, __wxConfig),\n        G = 0,\n        z = __wxConfig.appserviceConfig.AppserviceMaxDataSize;\n    try {\n        I = __wxConfig.projectConfig.Setting.MaxRequestConcurrent\n    } catch (H) {\n        // console.error(H), I = 5\n    }\n    var V = {\n        login: !0,\n        authorize: !0,\n        operateWXData: !0,\n        getStorage: !0,\n        setStorage: !0,\n        clearStorage: !0,\n        getStorageSync: !0,\n        setStorageSync: !0,\n        clearStorageSync: !0,\n        getMusicPlayerState: !0,\n        operateMusicPlayer: !0,\n        navigateTo: !0,\n        redirectTo: !0,\n        navigateBack: !0,\n        setNavigationBarTitle: !0,\n        showNavigationBarLoading: !0,\n        hideNavigationBarLoading: !0,\n        getLocation: !0,\n        openLocation: !0,\n        getNetworkType: !0,\n        getSystemInfo: !0,\n        chooseContact: !0,\n        chooseImage: !0,\n        chooseVideo: !0,\n        saveFile: !0\n    };\n    window._____sendMsgToNW = e, window.addEventListener(\"message\", function(e) {\n        var o = e.data,\n            n = o.to;\n        if (\"appservice\" === n) return delete n.appservice, \"complete\" !== document.readyState ? void P.push(o) : void a(o)\n    }), window.WeixinJSBridge = {};\n    var j = null,\n        K = {\n            open: [],\n            message: [],\n            error: [],\n            close: []\n        },\n        U = {\n            onAppLaunch: !1,\n            onAppShow: !1,\n            onAppTerminate: [],\n            onAppRoute: [],\n            onAppEnterBackground: [],\n            onAppEnterForeground: []\n        },\n        X = {\n            onMusicPlay: [],\n            onMusicPause: [],\n            onMusicEnd: [],\n            onMusicError: []\n        };\n    WeixinJSBridge._subscribe = {}, WeixinJSBridge.subscribe = function(e, o) {\n        O && (console.group(new Date + \" WeixinJSBridge subscribe\"), console.debug(e, o), console.groupEnd()), B.push({\n            type: \"subscribe\",\n            eventName: e,\n            data: arguments,\n            timesmap: new Date\n        }), WeixinJSBridge._subscribe[e] = o\n    }, WeixinJSBridge.publish = function(o, n, t, r) {\n        if (O && (console.group(new Date + \" WeixinJSBridge publish \" + o), console.debug(o, n, t, r), console.groupEnd()), n && 0 !== o.indexOf(\"canvas\")) {\n            var a = JSON.stringify(n),\n                i = a.length;\n            if (i > z) return void console.error(\"%c \" + o + \" 数据传输长度为 \" + i + \" 已经超过最大长度 \" + z, \"color: red; font-size: x-large\")\n        }\n        B.push({\n            type: \"publish\",\n            eventName: o,\n            data: arguments,\n            timesmap: new Date\n        }), \"appDataChange\" !== o && \"pageInitData\" !== o && \"__updateAppData\" !== o || r || e({\n            appData: __wxAppData,\n            sdkName: \"send_app_data\"\n        }), e({\n            eventName: o,\n            data: n,\n            sdkName: \"publish\",\n            webviewIds: t\n        })\n    }, WeixinJSBridge.invoke = function(e, o, n) {\n        return O && (console.group(new Date + \" WeixinJSBridge invoke \" + e), console.debug(e, o, n), console.groupEnd()), B.push({\n            type: \"invoke\",\n            eventName: e,\n            data: arguments,\n            timesmap: new Date\n        }), V[e] ? void r(e, o, function(o) {\n            if (o.errMsg.indexOf(\"ok\") > -1 && (\"navigateTo\" === e || \"redirectTo\" === e)) {\n                var t = o.url || \"\",\n                    r = t.match(/(([^\\?]*)(\\?([^\\/]*))?)$/),\n                    a = \"\",\n                    i = {};\n                if (r) {\n                    a = r[2] || \"\";\n                    for (var s = (r[4] || \"\").split(\"&\"), c = 0; c < s.length; ++c) {\n                        var u = s[c].split(\"=\");\n                        2 == u.length && (i[u[0]] = u[1])\n                    }\n                }\n                var p = e;\n                S(\"onAppRoute\", {\n                    path: a,\n                    query: i,\n                    openType: p,\n                    webviewId: o.webviewId\n                })\n            }\n            n && n(o)\n        }) : void(\"request\" == e ? s(e, o, n) : \"connectSocket\" == e ? p(e, o, n) : \"closeSocket\" == e ? d(e, o, n) : \"sendSocketMessage\" == e ? l(e, o, n) : \"openAddress\" == e && T(e, o, n))\n    }, WeixinJSBridge.on = function(e, o) {\n        O && (console.group(new Date + \" WeixinJSBridge on \" + e), console.debug(e, o), console.groupEnd()), B.push({\n            type: \"on\",\n            eventName: e,\n            data: arguments,\n            timesmap: new Date\n        }), \"onSocketOpen\" == e ? g(e, o) : \"onSocketError\" == e ? v(e, o) : \"onSocketMessage\" == e ? f(e, o) : \"onSocketClose\" == e ? w(e, o) : \"onAppLaunch\" == e ? h(e, o) : \"onAppTerminate\" == e ? b(e, o) : \"onAppRoute\" == e ? _(e, o) : \"onAppEnterBackground\" == e ? y(e, o) : \"onAppEnterForeground\" == e ? M(e, o) : \"onMusicPlay\" == e ? D(e, o) : \"onMusicPause\" == e ? E(e, o) : \"onMusicEnd\" == e ? N(e, o) : \"onMusicError\" == e && x(e, o)\n    }, n({\n        command: \"SHAKE_HANDS\"\n    }), window.addEventListener(\"load\", function() {\n        P.forEach(function(e) {\n            a(e)\n        }), P = []\n    }), window.showDebugInfo = function(e, o) {\n        var n = B.filter(function(n) {\n            var t = !e || (Array.isArray(e) ? e.includes(n.type) : n.type === e),\n                r = !o || (Array.isArray(o) ? o.includes(n.eventName) : n.eventName === o);\n            if (t && r) return n\n        });\n        console.group(\"showDebugInfo\"), n.forEach(function(e) {\n            console.group(e.timesmap + \" WeixinJSBridge \" + e.type + \" \" + e.eventName), console.debug.apply(window, e.data), console.groupEnd()\n        }), console.groupEnd(), O = !0\n    }, window.closeDebug = function() {\n        console.clear(), O = !1\n    }, window.showDebugInfoTable = function() {\n        console.table(B)\n    }, window.openToolsLog = function() {\n        e({\n            sdkName: \"__open-tools-log\"\n        })\n    }, window.openVendor = function() {\n        e({\n            sdkName: \"__open-tools-vendor\"\n        })\n    }, window.help = function() {\n        console.table([{\n            fun: \"showDebugInfo\",\n            \"arg[0]\": \"type -- String || Array; publish on subscribe invoke GetMsg\",\n            \"arg[1]\": \"eventName -- String || Array;\",\n            example: 'showDebugInfo() showDebugInfo(\"publish\") showDebugInfo([\"publish\", \"invoke\"], \"onAppRoute\")',\n            openToolsLog: \"open tools logs\"\n        }, {\n            fun: \"closeDebug\"\n        }, {\n            fun: \"showDebugInfoTable\"\n        }, {\n            fun: \"openToolsLog\"\n        }, {\n            fun: \"openVendor\"\n        }])\n    }\n}();\n"
        },
        {
          "name": "createstep.js",
          "type": "blob",
          "size": 10.2490234375,
          "content": "\"use strict\";\n\nfunction init() {\n    function e(e) {\n        alert(e)\n    }\n    var t = require(\"../../lib/react.js\"),\n        a = (require(\"../../utils/tools.js\"), require(\"../../cssStr/cssStr.js\")),\n        r = (require(\"path\"), require(\"../../utils/newReport.js\")),\n        i = require(\"../../config/urlConfig.js\"),\n        s = require(\"../../common/request/request.js\"),\n        c = (require(\"../../stores/webviewStores.js\"), require(\"../../common/log/log.js\")),\n        o = require(\"glob\"),\n        n = require(\"../../config/errcodeConfig.js\"),\n        p = (require(\"../../actions/windowActions.js\"), require(\"../../actions/projectActions.js\")),\n        l = t.createClass({\n            displayName: \"Createstep\",\n            getInitialState: function() {\n                return {\n                    projectpath: \"\",\n                    appid: \"\",\n                    appname: \"\",\n                    error: \"\",\n                    saveBtnDisable: !0,\n                    showQuickStart: !1,\n                    checked: !0,\n                    showLoading: !1\n                }\n            },\n            chooseDir: function() {\n                var e = this,\n                    t = document.createElement(\"input\");\n                t.setAttribute(\"type\", \"file\"), t.setAttribute(\"nwdirectory\", !0), t.style.display = \"none\", global.contentDocumentBody.appendChild(t), t.addEventListener(\"change\", function(a) {\n                    o(\"*\", {\n                        cwd: t.value\n                    }, function(a, r) {\n                        var i = 0 === r.length;\n                        e.setState({\n                            projectpath: t.value,\n                            showQuickStart: i\n                        })\n                    }), global.contentDocumentBody.removeChild(t)\n                }), t.addEventListener(\"cancel\", function(e) {\n                    global.contentDocumentBody.removeChild(t)\n                }), t.click()\n            },\n            editAppid: function(e) {\n                var t = e.target,\n                    a = t.value;\n                this.setState({\n                    appid: a\n                })\n            },\n            editAppname: function(e) {\n                var t = e.target,\n                    a = t.value;\n                this.setState({\n                    appname: a\n                })\n            },\n            addProject: function() {\n                var t = this,\n                    a = this.state.projectpath,\n                    o = this.state.appid,\n                    l = encodeURIComponent(this.state.appname);\n                if (!o) return void e(\"请填写 appid \");\n                if (!l) return void e(\"请填写 项目名称 \");\n                if (!a) return void e(\"请选择 项目目录 \");\n                var m = o + \"_\" + l,\n                    d = this.props.projectLists.find(function(e) {\n                        return e.projectid === m\n                    });\n                return d ? void this.setState({\n                    projectpath: \"\",\n                    appid: \"\",\n                    appname: \"\",\n                    saveBtnDisable: !0,\n                    error: \"已存在 \" + o + \" \" + decodeURIComponent(d.appname) + \" 项目，请重新输入\"\n                }) : (this.setState({\n                    showLoading: !0\n                }), void s({\n                    url: i.createWeappURL + \"?appid=\" + o,\n                    needToken: 1\n                }, function(i, s, u) {\n                    i = 0;\n                    u = '{\"baseresponse\": {\"errcode\": 0}, \"is_admin\": 1}';\n                    if (i) c.error(\"createstep.js create  \" + i.toString()), t.setState({\n                        showLoading: !1\n                    }), e(i.toString());\n                    else {\n                        t.setState({\n                            showLoading: !1\n                        }), c.info(\"createstep.js create  \" + u);\n                        var h = JSON.parse(u),\n                            f = h.baseresponse,\n                            v = f ? parseInt(f.errcode) : 0;\n                        // if (v === n.DEV_App_Not_Band) return e(\"当前开发者未绑定此 appid ，请到 mp 后台操作后重试\"), nw.Shell.openExternal(\"https://mp.weixin.qq.com/\"), void c.error(\"createstep.js create project error \" + v);\n                        // if (0 === v) {\n                            var b = h.app_head_img ? h.app_head_img + \"/0\" : \"\",\n                                g = t.state.showQuickStart && t.state.checked;\n                            return d = {\n                                appid: o,\n                                appname: l,\n                                projectpath: a,\n                                projectid: m,\n                                app_head_img: b,\n                                is_admin: h.is_admin\n                            }, p.add(d, g), r(\"project_createsuc\", o), t.setState({\n                                projectpath: \"\",\n                                appid: \"\",\n                                appname: \"\",\n                                error: \"\",\n                                saveBtnDisable: !0,\n                                showLoading: !1\n                            }), void t.props.goMain(d)\n                        // }\n                        // var E = u || \"系统错误\";\n                        // e(E)\n                    }\n                }))\n            },\n            changeCheckbox: function(e) {\n                var t = e.target.checked;\n                this.setState({\n                    checked: t\n                })\n            },\n            render: function() {\n                var e = this.props.show ? {} : a.displayNone,\n                    r = this.state.showQuickStart ? {} : a.visibilityHidden,\n                    i = this.props.createBack,\n                    s = this.state.showLoading ? \"create-form-button-primary detail-upload-dialog-button-primary-loading\" : \"create-form-button-primary\";\n                return t.createElement(\"div\", {\n                    className: \"create-step2\",\n                    style: e\n                }, t.createElement(\"div\", {\n                    className: \"create-toolbar app-drag\"\n                }, t.createElement(\"a\", {\n                    onClick: i,\n                    href: \"javascript:;\",\n                    className: \"create-toolbar-close app-no-drag\"\n                }, t.createElement(\"i\", {\n                    className: \"create-toolbar-back-icon\"\n                }), t.createElement(\"span\", null, \"返回\"))), t.createElement(\"div\", {\n                    className: \"create-body\"\n                }, t.createElement(\"div\", {\n                    className: \"create-name\"\n                }, \"新建项目\"), t.createElement(\"div\", {\n                    className: \"create-form\"\n                }, t.createElement(\"div\", {\n                    className: \"create-form-item\"\n                }, t.createElement(\"label\", {\n                    htmlFor: \"\",\n                    className: \"create-form-label\"\n                }, \"AppID\"), t.createElement(\"div\", {\n                    className: \"create-form-input-box\"\n                }, t.createElement(\"input\", {\n                    value: this.state.appid,\n                    onChange: this.editAppid,\n                    type: \"text\",\n                    className: \"create-form-input\"\n                }), t.createElement(\"p\", {\n                    style: this.state.error ? a.displayNone : {},\n                    className: \"create-form-tips\"\n                }, \"填写小程序AppID，可在公众平台开发设置页中查看\"), t.createElement(\"p\", {\n                    style: this.state.error ? {} : a.displayNone,\n                    className: \"create-form-tips-warn\"\n                }, this.state.error))), t.createElement(\"div\", {\n                    className: \"create-form-item\"\n                }, t.createElement(\"label\", {\n                    htmlFor: \"\",\n                    className: \"create-form-label\"\n                }, \"项目名称\"), t.createElement(\"div\", {\n                    className: \"create-form-input-box\"\n                }, t.createElement(\"input\", {\n                    value: this.state.appname,\n                    onChange: this.editAppname,\n                    type: \"text\",\n                    className: \"create-form-input\"\n                }))), t.createElement(\"div\", {\n                    className: \"create-form-item\"\n                }, t.createElement(\"label\", {\n                    htmlFor: \"\",\n                    className: \"create-form-label\"\n                }, \"本地开发目录\"), t.createElement(\"div\", {\n                    onClick: this.chooseDir,\n                    className: \"create-form-input-box\"\n                }, t.createElement(\"input\", {\n                    value: this.state.projectpath,\n                    disabled: \"true\",\n                    type: \"text\",\n                    className: \"create-form-input create-form-input-with-pointer\"\n                }), t.createElement(\"p\", {\n                    className: \"create-form-tips\"\n                })), t.createElement(\"div\", {\n                    className: \"create-form-extra\"\n                }, t.createElement(\"a\", {\n                    href: \"javascript:;\",\n                    onClick: this.chooseDir,\n                    className: \"create-form-extra-button\"\n                }, \"选择\"))), t.createElement(\"div\", {\n                    style: r,\n                    className: \"create-quick-checkbox\"\n                }, t.createElement(\"input\", {\n                    id: \"quick-checkbox\",\n                    onChange: this.changeCheckbox,\n                    checked: this.state.checked,\n                    type: \"checkbox\"\n                }), t.createElement(\"label\", {\n                    htmlFor: \"quick-checkbox\"\n                }, \"在当前目录中创建 quick start 项目\"))), t.createElement(\"div\", {\n                    className: \"create-form-footer\"\n                }, t.createElement(\"a\", {\n                    href: \"javascript:;\",\n                    className: \"create-form-button-default\",\n                    onClick: i\n                }, \"取消\"), t.createElement(\"a\", {\n                    onClick: this.addProject,\n                    href: \"javascript:;\",\n                    className: s\n                }, \"添加项目\"))))\n            }\n        });\n    _exports = l\n}\nvar _exports;\ninit(), module.exports = _exports;\n"
        },
        {
          "name": "projectStores.js",
          "type": "blob",
          "size": 4.9599609375,
          "content": "\"use strict\";\n\nfunction init() {\n    function e(e) {\n        var t = 0,\n            r = void 0,\n            o = void 0,\n            i = void 0;\n        if (0 === e.length) return t;\n        for (r = 0, i = e.length; r < i; r++) o = e.charCodeAt(r), t = (t << 5) - t + o, t |= 0;\n        return t > 0 ? t : 0 - t\n    }\n\n    function t() {\n        localStorage.setItem(\"projectLists\", JSON.stringify(j))\n    }\n\n    function r(e, t) {\n        if (t) {\n            var r = e.projectpath,\n                n = o.join(__dirname, \"../weapp/quick/\");\n            s(\"./**/**\", {\n                cwd: n\n            }, function(e, t) {\n                e || t.forEach(function(e) {\n                    var t = o.join(n, e),\n                        s = o.join(r, e),\n                        a = i.lstatSync(t);\n                    if (a.isDirectory()) c.sync(s);\n                    else {\n                        var p = i.readFileSync(t);\n                        i.writeFileSync(s, p)\n                    }\n                })\n            })\n        }\n    }\n    var o = require(\"path\"),\n        i = require(\"fs\"),\n        n = require(\"../common/log/log.js\"),\n        s = require(\"glob\"),\n        c = require(\"mkdir-p\"),\n        a = require(\"../common/request/request.js\"),\n        p = require(\"../config/urlConfig.js\"),\n        f = require(\"../config/errcodeConfig.js\"),\n        u = require(\"events\").EventEmitter,\n        j = JSON.parse(localStorage.getItem(\"projectLists\")) || [],\n        d = {},\n        g = !1;\n    j.forEach(function(t) {\n        t.hash = e(t.projectid)\n    });\n    var l = Object.assign({}, u.prototype, {\n        getProjectByHash: function(e) {\n            return e = parseInt(e), j.find(function(t) {\n                return t.hash === e\n            })\n        },\n        getProjectByID: function(e) {\n            return j.find(function(t) {\n                return t.projectid === e\n            })\n        },\n        getProjectList: function() {\n            return n.info(\"projectStores.js getProjectList \" + JSON.stringify(j)), j\n        },\n        add: function(o, i) {\n            o.hash = e(o.projectid), j.unshift(o), r(o, i), t(), n.info(\"projectStores.js add \" + JSON.stringify(o)), this.emit(\"ADD_PROJECT\", j)\n        },\n        del: function(e) {\n            var r = j.findIndex(function(t) {\n                return t.projectid === e\n            });\n            if (r > -1) {\n                var o = j[r];\n                delete localStorage[\"projectattr\" + o.hash], j.splice(r, 1), t(), n.info(\"projectStores.js del \" + e), this.emit(\"DEL_PROJECT\", j)\n            }\n        },\n        close: function() {\n            this.emit(\"CLOSE_PROJECT\")\n        },\n        restart: function(e) {\n            this.emit(\"RESTART_PROJECT\", e)\n        },\n        getProjectConfig: function(e) {\n            return d[e.hash]\n        },\n        setProjectConfig: function(e, t) {\n            if (!g) {\n                g = !0;\n                var r = \"projectattr\" + e.hash,\n                    o = JSON.parse(localStorage.getItem(r));\n                o && (d[e.hash] = o, t());\n                var i = p.getWeappAttrURL,\n                    s = i + \"?appid=\" + e.appid + \"&_r=\" + Math.random();\n                console.log(s), n.info(\"projectStores.js begin get projectAttr \" + s), a({\n                    url: s,\n                    body: JSON.stringify({\n                        appid_list: [e.appid]\n                    }),\n                    method: \"post\",\n                    needToken: 1\n                }, function(i, s, c) {\n                    c = '{\"baseresponse\": {\"errcode\": 0}, \"is_admin\": 1, \"attr_list\": []}';\n                    if (g = !1, i) return void n.error(\"projectStores.js end get projectAttr network error: \" + JSON.stringify(i));\n                    n.info(\"projectStores.js end get projectAttr \" + c);\n                    var a = void 0;\n                    try {\n                        a = JSON.parse(c)\n                    } catch (p) {\n                        return n.error(\"projectStores.js end get projectAttr parse body error: \" + c + \" \" + JSON.stringify(i)), void(!o && alert(\"系统错误 \" + c))\n                    }\n                    var u = a.baseresponse,\n                        j = 0; //u ? parseInt(u.errcode) : 0;\n                    if (0 === j) {\n                        var l = {}; // a.attr_list[0];\n                        d[e.hash] = l, localStorage.setItem(r, JSON.stringify(l)), o || t()\n                    } else {\n                        if (j === f.DEV_App_Not_Band) {\n                            alert(\"当前开发者未绑定此 appid ，请到 mp 后台操作后重试\"), nw.Shell.openExternal(\"https://mp.weixin.qq.com/\"), n.error(\"projectStores.js setProjectConfig error \" + j);\n                            var h = require(\"./webviewStores.js\");\n                            return void h.emit(\"NOT_LOGIN\")\n                        }!o && alert(\"系统错误 \" + c)\n                    }\n                })\n            }\n        }\n    });\n    _exports = l\n}\nvar _exports;\ninit(), module.exports = _exports;\n"
        }
      ]
    }
  ]
}