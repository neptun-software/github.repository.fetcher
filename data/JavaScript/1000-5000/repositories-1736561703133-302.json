{
  "metadata": {
    "timestamp": 1736561703133,
    "page": 302,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjMxMA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "lazy-luo/smarGate",
      "stars": 4171,
      "defaultBranch": "master",
      "files": [
        {
          "name": ".github",
          "type": "tree",
          "content": null
        },
        {
          "name": "README_en.md",
          "type": "blob",
          "size": 37.326171875,
          "content": "# Quick Overview\n* **Platform Adaptation**: Supports Linux, Windows, macOS, Android, (Tob, small machines: HP-UX, Solaris, AIX)<br>\n* **CPU Architectures**: Supports x86, arm, mips, riscv (Tob: alpha, PowerPC, SPRAC)<br>\n* **Security Focus**: Intranet-to-intranet penetration, no need to map any ports to the external network, no changes to firewall configurations<br>\n* **Bandwidth Emphasis**: \"4G phone + v6 broadband\" accesses intranet services using P2P (based on TCP protocol, v4 supports NAT1-3 penetration)<br>\n* **Cost Savings Priority**: No need to buy VPS, no need for a public IP; old Android phones at home can be used as servers<br>\n* **Reliability Priority**: On-demand availability, can provide uninterrupted service 24/7, and unaffected by UDP protocol QoS issues<br>\n* **Control Emphasis**: Client configuration is straightforward, and service can be controlled to start/stop anytime, anywhere<br>\n* **Environmental Friendliness**: No installation required, compact size (around 1MB for the mini version), all-in-one, high performance with minimal resource usage<br>\n* **Portability Priority**: Whether working or on vacation, everything is in control as long as the phone has a network connection<br>\n* ... If this is what you want! Please continue reading patiently; if you have additional requirements, please raise an issue, and there's also interesting stuff in the [Update History].\n\n* **Free**, considering open source after stable testing.\n* Includes an Android client and a server that needs to be installed in the intranet.\n\n# APP Configuration (Required) --- Typical usage may be affected if not configured properly\n* Must configure \"Allow Background Running\" permission, otherwise, the connection will be severed by the system when switching to the background.\n* Must configure \"Keep Network Connection Always Active during Sleep,\" otherwise, the connection will be severed by the system once in sleep mode.\n* \"Allow Auto-Start\" permission can be configured, otherwise, Android server mode cannot start on boot (v0.30 and later versions).\n* \"Microphone\" permission can be configured, otherwise, the Android server cannot provide voice monitoring functionality (v0.30 and later versions).\n* Note: SG official proxy does not provide data forwarding to IPs in Hong Kong, Macau, Taiwan, and foreign countries.\n\n## What is smarGate?\n#### Officially named \"Mobile Gateway,\" it exposes the server network located in the intranet on demand through the mobile client. The core engine is implemented in C++.\n#### \"Mobile Gateway\" is a user's private gateway, and all shared access entry points are in the client, not like other penetration tools that promote public access entry points based on domain names. In other words, smarGate is like carrying a personal theft-proof door, while other penetration products place the theft-proof door in public places... Although they need a key, there's a profession called a locksmith.\n\n##### It has the following technical features:\n* **Security**\n  * The mobile client serves as the main access entry, opened on demand and closed promptly.\n  * Supports port mapping networking between servers (v0.31 and later versions).\n  * Computers can connect to the internal network through access to open ports on the phone in a hotspot or Wi-Fi environment (the client will display the phone's IP).\n  * The phone network is generally in a private network segment that others cannot access.\n  * User isolation.\n* **Scalability**\n  * Based on intranet segment proxy, it can work with numerous tools to achieve various network service capabilities (telnet, ssh, http services, intranet cameras, remote desktop, etc.).\n  * Geared towards geeks, can access custom intranet services (RPC).\n* **Convenience**\n  * Simple configuration with the mobile client.\n  * Dynamic addition and removal of service capabilities.\n* **High Performance**\n  * Starting from version 0.1.1, it uses a proprietary network engine with high performance. The client on a thousand-dollar phone can support over 1,000 concurrent shared accesses.\n  * High-performance design:\n    * Cross-platform implementation of socket multiplexing, supporting models such as poll, epoll, kqueue, port, select, IOCP, etc.\n    * Uses lock-free algorithms.\n    * Thread pool design.\n    * Socket connection pool.\n    * Multi-level task queue.\n    * ...\n\n<details>\n<summary>\n  <mark><font size=6 color=darkred>Attachment: Interaction Diagram</font></mark>\n</summary>\n<img src=\"https://github.com/lazy-luo/smarGate/blob/master/res/smarGateArch.png\" /><br>\n</details>\n\n## What are the main functions of smarGate?\n* **Supports Proxy Penetration**\n  * The official provides a free proxy server (shared bandwidth, slower when shared by multiple users, best practice is to use a self-owned proxy server).\n  * <I>If you have your own cloud server (with a public IP), you can customize your proxy server, and install proxy_server on the proxy server. All data transmission goes through the user-configured proxy server (the proxy server needs a certificate, which can be generated automatically or configured with an existing certificate).</I>\n\n```\n1、Configuration of the \"Proxy Server\" is as follows (the proxy server must allow any port \"inbound\" connections):\n```\n```\n<?xml version=\"1.0\" encoding=\"GBK\"?>\n<app-config code=\"PROXY\" name=\"proxy-server\">\n    <app-parameter>\n        <proxy-service-port value=\"9001\"/><!--Custom proxy port-->\n        <owner-id value=\"xxxx\" /><!-- xxxx is the user ID returned after successful registration -->\n        <access-token value=\"nnnnn\"/><!--Access token, must be a number [optional] -->\n        <ssl-create-certfile value=\"true\" /><!-- If the following options are not used to specify the certificate, it will be generated automatically [Must ensure that openssl is installed], default is false meaning no need to generate -->\n        <!-- If you have a certificate and private key, configure the following items. Start a secure SSL channel. The file names need to be configured correctly. If there is no certificate, no need to configure. Enable the above option to generate the certificate automatically.\n        <ssl-cacert-file value=\"xxx.crt\"/>\n        <ssl-privatekey-file value=\"xxx.key\"/>\n        -->\n    </app-parameter>\n    <module-parameter>\n        <log-level value=\"LOG_ERROR\"/>\n        <log-write-mode value=\"CONSOLE_ONLY\"/>\n    </module-parameter>\n</app-config>\n```\n```\n2. Add the following configuration to the \"Server\":\n```\n```\n......\n<app-parameter>\n    <ssl-create-certfile value=\"true\" />\n    <!-- If the proxy server starts a secure SSL channel, you must configure the certificate and private key here.\n    <ssl-cacert-file value=\"xxx.crt\"/>\n    <ssl-privatekey-file value=\"xxx.key\"/>\n    -->\n</app-parameter>\n<module-parameter>\n  ......\n</module-parameter>\n<!-- Configure the IP or domain name + port of the proxy server mentioned above. Note: the IP must be a public IP. The ssl option must be configured correctly. If the proxy server has a certificate (including automatically generated certificates) and is effective, configure it as true, otherwise, it is false -->\n<channel address=\"xxx.xxx.xxx.xxx:9001\" ssl=\"true\" token=\"nnnnn\" /><!--Access token, must match the proxy server, if not, no need to configure -->\n```\n* **Supports P2P Channel**\n  * Utilizes TCP protocol for P2P penetration, enhancing security.\n  * Not all networks support P2P, depending on the NAT types on both ends.\n  * From version v0.14 and above, directly supports IPv6 and provides firewall penetration.\n  * P2P Test Conclusion: Unable to establish a connection when one end is NAT4 and the other end is NAT3 or NAT4.\nNote: NAT1-〉Full Cone, NAT2-〉Restricted Cone, NAT3-〉Port Restricted Cone, NAT4-〉Symmetric\n\n  <table>\n    <th>Server NAT</th><th>Client NAT</th><th>P2P Success</th>\n    <tr><td>NAT1-3</td><td>NAT1-3</td><td>YES</td></tr>\n    <tr><td>NAT1-2</td><td>NAT4</td><td>YES</td></tr>\n    <tr><td>NAT4</td><td>NAT1-2</td><td>YES</td></tr>\n    <tr><td>NAT4</td><td>NAT3-4</td><td>NO</td></tr>\n    <tr><td>NAT3-4</td><td>NAT4</td><td>NO</td></tr>\n  </table>\n\n* **Supports External Network Publishing (Contrary to Security Design Principles, Opened in v0.31)**\n  * The main mode of other intranet penetration tools, directly mapping internal network services to external network ports.\n* **Supports P2P Port Mapping Between Servers (v0.31 and Later Versions)**\n  * Specific configuration mainly supported through ip@index.\n  * \n<details>\n<summary>\n  <mark><font size=6 color=darkred>Attachment: Brief Overview of Main Functions</font></mark>\n</summary>\n  \n1. Supports TCP-based P2P connection tunnels\n   - Secure and reliable, avoiding QoS issues\n  \n2. Supports all types of protocols based on TCP for \"transparent proxy\"\n   - Can proxy all internal TCP services (SSH, RDP, SMB, VNC, cameras, database services, etc.)\n     \n3. Supports HTTP, HTTPS to HTTP\n   - Supports HTTP-head rewrite, can proxy HTTPS services as HTTP\n     \n4. Supports UDP over TCP\n   - Can proxy services using the UDP protocol\n     \n5. Transparent mode (no need to focus on IPv6 addresses) supports IPv6 tunnel\n   - Automatically establishes a v6 tunnel, always using v4 address for access\n6. Supports custom proxy (requires public IP), taking over all data forwarding\n   - When P2P is not possible, automatically connects to a custom proxy for data forwarding\n7. Custom proxy supports token and whitelist configuration\n   - Supports security mechanisms\n8. Supports multi-level cascading proxy\n   - Supports chained proxies, supports multi-level acyclic proxies\n9. Supports mobile phones as the only access point — Secure + Mobile Convenience\n   - With the phone in hand, access is available on demand\n10. Dynamic configuration for port mapping, supports \"hot-plugging\" of mapping configurations\n    - Proxies are effective immediately when added or removed, no need to restart\n11. All features are \"one-point configuration\" on the app side\n    - Client configuration is a single point, no need for server configuration during runtime\n12. Supports automatic detection and connection of P2P tunnels and custom proxy tunnels\n    - No intervention required, the app automatically connects and retries\n13. Supports dynamic negotiation of ports, supports specifying negotiated ports\n    - Default dynamic port negotiation, supports negotiating ports in conjunction with firewall configurations\n14. Supports tunnel connection priority (P2P -> Custom Proxy -> Official Proxy)\n    - During data transmission, supports priority for tunnels\n15. Supports SSL encrypted tunnel\n    - Supports SSL encryption for both P2P and proxy tunnels, ensuring data transmission is secure\n16. Supports traffic limitation\n    - Supports network bandwidth limitation, default is unlimited\n17. Supports network switching (e.g., mobile <-> Wi-Fi) automatic identification + automatic connection\n    - Intelligent reconnection on the app side, ensuring service availability at all times\n18. Supports port mapping between different LAN hosts — If one end host has a public IP, it can be accessed directly from the external network (version > v0.31)\n    - Supports server-side networking mapping, traffic does not need to pass through the mobile app (traditional penetration mode)\n19. App supports server mode, can configure the phone as a server\n    - Android phones can be used as servers\n20. Supports remote file management functionality: browsing, uploading, downloading, deleting, supports resuming downloads (version >= v0.31.6)\n    - Activates file management functionality when there is P2P or custom proxy, basic operations on files on the phone and server-side computer are possible\n21. Supports built-in SOCKS5, HTTP proxies (version >= v0.32.1)\n    - Since there are third-party specialized tools such as ss5, squid, etc., SOCKS5 and HTTP proxies are optional features\n22. SOCKS5, HTTP proxies support domain and IP whitelists (version >= v0.32.1)\n    - Domain whitelist supports four matching modes (exact match, forward match, backward match, middle match), default configuration file name: .white_list\n    - IP whitelist supports CIDR format ip-range configuration, default configuration file name: .ipchecks\n      \n... To be continued\n\n</details>\n  \n## User Guide:\n\n### 1. Download the App and Register a New User\n* Download the Android app (app-release.apk includes both the client and server) supporting armv7 and arm64 CPU architectures.\n* Register a new user (Invitation code is required and can be any number. Note: If the required information is not filled in completely or contains Chinese characters, registration will fail).\n* After successful registration, remember to note the returned service ID (N). [Important]: After successful registration, be sure to complete the first login within 1 hour.\n\n<details>\n<summary>\n  <mark><font size=5 color=darkred>Expand for Illustrations</font></mark>\n</summary>\n\n![Login](https://github.com/lazy-luo/smarGate/blob/master/res/login.png)\n![Register](https://github.com/lazy-luo/smarGate/blob/master/res/register.png)\n![Register Success](https://github.com/lazy-luo/smarGate/blob/master/res/registerok.png)\n</details>\n\n### 2. Download Server and Configure\n\n* Download the server version suitable for the intranet server (currently supports linux-x86-32/64, windows, and linux-arm [Raspberry Pi, Synology], also: Android app comes with server mode).\n* Unzip the server compression package and modify the configuration file (conf-proxy.xml):\n\n<details>\n<summary>\n  <mark><font size=5 color=darkred>Configuration Example</font></mark>\n</summary>\n\n```xml\n  <?xml version=\"1.0\" encoding=\"GBK\"?>\n    <app-config code=\"PROXY\" name=\"proxy-server\">\n       <app-parameter>\n\t<!-- [ none | first | only ] , none is the default. Enable SSL encryption for P2P connections, only means only accept encrypted connections -->\n\t<ssl-tunnel-required value=\"first\" />\n\t<!-- If not specifying a certificate with the following options, it will generate a certificate [must ensure openssl is installed], default is false means no need to generate -->\n\t<ssl-create-certfile value=\"true\" /> \n <!-- The following options are only applicable to the mini version under dynamic, specify the actual files of the ssl library and crypto library, on Linux, you can obtain them with: ldd $(which openssl)|grep -E \"libssl|libcrypto\"|awk '{print $1}' -->\n\t<libssl value=\"libssl.so\" />\n\t<libcrypto value=\"libcrypto.so\" />\n       </app-parameter>\n       <moudle-parameter>\n        <log-level value=\"LOG_ERROR\"/>\n        <log-write-mode value=\"CONSOLE_ONLY\"/>\n        <app-name value=\"xxxxx [name of service points].\" /><!-- need to modify -->\n        <app-description value=\"yyyyy [description of service points]\" /><!-- need to modify -->\n\t<!-- user-audit needs to be modified (N is the service ID returned after successful registration, index is the custom server instance number, it is recommended to start from 1, cannot be repeated. For example: [12345:1]) -->\n        <user-audit value=\"N:index\"/>\n    </moudle-parameter>\n  </app-config>\n```\n</details>\n\n### 3. Run the Intranet Server (Command Parameters Explanation i: Max incoming connections, o: Max outgoing connections, w: Max threads)\n* Execute the command on Linux: `chmod +x proxy_server && nohup ./proxy_server -i1000 -o1000 -w8 >/dev/null &`\n* Execute the command on Windows: `proxy_server.exe -i1000 -o1000 -w8`\n* Android Phone/Device: Run the app -> In edit mode, configure server information -> Turn on the \"Server\" switch -> Restart the app\n* For OpenWrt MIPS devices installation, see: [【Correct Usage on MIPS Linux】](https://github.com/lazy-luo/smarGate/issues/65)\n\n### 4. Log in to the mobile app and configure port mapping\n* In the client, you can see the online server (\"access point\") and define port mapping rules on the client.\n\n<details>\n<summary>\n  <mark><font size=5 color=darkred>Expand for Illustrations</font></mark>\n</summary>\n\n![Operational](https://github.com/lazy-luo/smarGate/blob/master/res/oper2.png)\n<b>In the configuration, the \"Remote IP\" corresponds to the IP of a host in the intranet (\"access point\"). \"localhost\" or \"127.0.0.1\" represents the machine where the internal server-side is located.</b>\n![Operational](https://github.com/lazy-luo/smarGate/blob/master/res/oper3.png)\n\n</details>\n\n### 5. Computers or phones can directly access the services set in the mobile client (such as SSH, HTTP, etc.)\n\n## Additional Information:\n* All versions come with packaged dependencies and are ready to use.\n* The system will automatically clear \"zombie accounts\" that have not been used for more than 30 days.\n* Android client requires permissions:\n    1. Background execution permission (if not allowed, the connection will be disconnected when the app goes to the background).\n    2. Network access permission (basic permission).\n* Phone settings (Android):\n    1. Settings -> Wireless & networks -> WLAN -> Keep Wi-Fi on during sleep \"Allow\" (otherwise, the connection will be disconnected during system sleep).\n    2. Settings -> Wireless & networks -> Mobile network -> Advanced -> Keep mobile data always active \"Allow\".\n    \n* Q: How to download and install the Android app?\n  >> A: Open the link [https://github.com/lazy-luo/smarGate/raw/master/app-release.apk](https://github.com/lazy-luo/smarGate/raw/master/app-release.apk) in the browser of your Android phone, and then install it when prompted.\n  >> B: Pan.baidu.com download link for the latest test version: [https://pan.baidu.com/s/14Iq60kxHW711NVoCVKWySg](https://pan.baidu.com/s/14Iq60kxHW711NVoCVKWySg)\n  >> C: Gitee address (faster download speed, no issues with image display): [https://gitee.com/lazy-luo/smarGate](https://gitee.com/lazy-luo/smarGate)\n  >> D: If needed, add WeChat: ws_lzy008, specifying \"smarGate\". Depending on the situation, a technical discussion group may be formed.\n* Q: Do I need to install the server on every device at home to access multiple devices on the local network?\n  >> A: No, you only need to install the server on any one device.\n* Q: Why sometimes unable to connect?\n  >> A: The server will automatically disconnect after about 2-3 minutes of idle time and will reconnect after waiting for about 10 seconds.\n* Q: Why can't I establish a P2P connection over IPv6?\n  >> A: Please update both the client and server to the latest version; make sure your phone and the internal computer can obtain a global IPv6 address; ensure it is not blocked by the firewall (Windows); check if both IPv6 can be routed out; and check the hosts file to ensure the hostname resolves to the IPv6 address.\n* Q: Why does P2P connection over IPv4 and IPv6 not have UDP ports?\n  >> A: smarGate uses TCP protocol for P2P penetration, which provides better security and connection reliability.\n* Q: Why can't the phone NAS client log in?\n  >> A: Make sure the phone NAS client's IP is not blacklisted, and it does not include \"localhost\" (127.0.0.1).\n* Q: How to share machines in a remote company network with multiple teams in different locations?\n  >> A: Connect the phone to Wi-Fi, let team members' computers connect to the phone's IP: PORT, and access directly through the phone's proxy. Tested on phones with 2k resolution or higher, it can support sharing access for up to a hundred people.\n* Q: Why doesn't the Windows server have a console window?\n  >> A: To prevent accidental shutdown of the server, the new version of the Windows server runs in the background. If you need to close it, use \"Task Manager\".\n* Q: Do I still need to go through an intermediate proxy when using P2P?\n  >> A: No, connect directly point-to-point, and the network speed depends on the networks of your client and server.\n* Q: Does smarGate consume a lot of power when running in the background?\n  >> A: After long-term testing, for occasional use, the power consumption is similar to any system process, extremely low. In the case of frequent background use, the overall power consumption is equivalent to occasional use of WeChat. The power management prompt \"Frequent background refresh...\" can be ignored; it appears whenever there is background data transfer, and the key is to look at the power consumption ranking.\n* Q: What are the connection priority rules in smarGate?\n  >> A: Prefer P2P connection. If there is no P2P, use a custom proxy connection. If neither of the previous two connects, use the official proxy connection.\n* Q: Can the same user log in from multiple locations?\n  >> A: Multiple logins are allowed, but only one client can perform P2P at a time. Each server machine can only run one instance, and the configuration of each instance ensures that the serial number is not duplicated, otherwise it will not work properly.\n* Q: Can the server support Android phones?\n  >> A: The Android app version 0.27 has added support for \"server mode\".\n* Q: What does the different color represent in the client?\n  >> A: P2P identification under IPv4:\n    ![IPv4 P2P](https://github.com/lazy-luo/smarGate/blob/master/res/ipv4p2p.png)\n  >> A: P2P identification under IPv6:\n    ![IPv6 P2P](https://github.com/lazy-luo/smarGate/blob/master/res/ipv6p2p.png)\n  >> A: User-defined proxy identification:\n    ![User-defined proxy P2P](https://github.com/lazy-luo/smarGate/blob/master/res/userdefineproxyer.png)\n\n## Best Practices\n* The following are recommended best practices for reference:\n  1. Set the Android client to \"Auto Login\" to avoid the hassle of entering the username/password each time.\n  2. Let the Android client run in the background after setting it up. If it remains in the foreground, it will refresh regularly, consuming power due to the WebView component.\n  3. Keep the server running in the background at all times for security and peace of mind. Only you can access it.\n\n\n## Disclaimer\n* Please read the following disclaimer carefully. Your use of the smarGate tool software indicates your acceptance of the following:\n  1. It is strictly forbidden to use this software for computer hacking and any other activities that may harm computer information network security.\n  2. This software is a regular network access tool. Please use it reasonably and legally. Do not use it for activities that violate laws, morals, and affect the interests of others. If used for illegal purposes, the user is responsible for any consequences, and the developer of this software assumes no responsibility or loss.\n\n## Donation\nIf you find smarGate helpful, feel free to make a donation to support the long-term development of the project!\nNote: It is recommended to include your registered username with the donation.\n\n<details>\n<summary>\n\t<mark><font size=5 color=darkred>WeChat Donation</font></mark>\n</summary>\n<img src=\"https://github.com/lazy-luo/smarGate/blob/master/res/donation.png\"/>\n</details>\n\n## Appendix\n<details>\n<summary>\n\t<mark><font size=5 color=darkred>Update History</font></mark>\n</summary>\n  \n### 2023-11-28:<br>\n1. Safety protection for the elderly and children, supports GPS positioning for easy tracking of the latitude and longitude of the care recipient (manual authorization required).<br>\n   * This feature is only supported on the Android server.<br>\n   * If the coordinates are successfully obtained, the latitude and longitude will be automatically copied to the clipboard.<br>\n\n2. Other optimizations<br>\n\n### Update to v0.32.2 on 2023-11-17:<br>\n1. Support for username/password authentication in the SOCKS protocol.<br>\n2. Support for saving and playing recordings (VIP).<br>\n3. Version updated to v0.32.2.<br>\n\n### Update to v0.32.1 on 2023-10-25:<br>\n1. Bug fixes<br>\n2. Improved support for SOCKS protocol (IPv4 TCP only).<br>\n3. Improved support for HTTP proxy protocol.<br>\n4. App supports VIP function license.<br>\n5. Version updated to v0.32.1.<br>\n\n### Update to v0.31.12 on 2023-09-08:<br>\n1. Bug fixes<br>\n2. Experimental support for SOCKS protocol (IPv4 TCP only).<br>\n3. Added built-in support for HTTP proxy protocol.<br>\n4. Memory recycling (for devices with memory limitations).<br>\n5. Improved response speed with full asynchronous mode.<br>\n6. Version updated to v0.31.12.<br>\n\n### Update to v0.31.11 on 2023-08-29:<br>\n1. File management supports default sorting by time.<br>\n2. Added support for macOS M1/M2.<br>\n3. Version updated to v0.31.11.<br>\n\n### Update to v0.31.10 on 2023-06-03:<br>\n1. Network reliability optimization.<br>\n2. Improved network transmission efficiency.<br>\n3. Version updated to v0.31.10.<br>\n\n### Update to v0.31.9 on 2023-03-04:<br>\n1. App server mode adds \"Accessibility\" service, user manually opens it for automatic restart.<br>\n2. App-side operation optimization: Added automatic fill-in feature for click operations, making it easier to add configurations.<br>\n3. Fixed the BUG that custom proxy installation on MIPS routers could not provide services.<br>\n4. Provided server-side custom proxy domain timed IP refresh function (dynamic domain).<br>\n5. Other optimizations.<br>\n\n### Update to v0.31.8 on 2022-12-14:<br>\n1. App server mode supports configuring custom proxies and SSL encryption.<br>\n2. Custom proxy server supports SSL self-signed certificate distribution.<br>\n3. Other optimizations.<br>\n\n### Update to v0.31.7 on 2022-11-04:<br>\n1. Provided one-click version upgrade function, no manual update required.<br>\n   * This feature's version source points to GitHub. If unable to update, please confirm GitHub connectivity.<br>\n   * Generally, usability is restored in about 10-20 seconds after the update.<br>\n   * The server provides an automatic update option (checks once a day), which is off by default.<br>\n   ```xml\n   <auto-update value=\"true\" />\n   ```\n### Update to v0.31.6 on 2022-10-20:<br>\n1. File management adds file deletion functionality.<br>\n2. File management adds breakpoint resume functionality.<br>\n3. File management adds file timestamp.<br>\n4. File management on Windows adds disk switching operation.<br>\n   * This feature is only activated when there is P2P or custom proxy connection.<br>\n   * Upload and download through drag-and-drop mode.<br>\n   * Confirmation box for file deletion pops up with a double click.<br>\n\n### Update to v0.31.5 on 2022-10-14:<br>\n1. Fixed the bug where custom proxy couldn't connect under short interval reconnection.<br>\n2. Added simple file upload and download functionality for easy synchronization of documents in different locations.<br>\n   * This feature is only activated when there is P2P or custom proxy connection.<br>\n   * Upload and download through drag-and-drop mode.<br>\n3. Version updated to v0.31.5.<br>\n\n### Update on 2022-09-05:<br>\n1. Resolved the bug of abnormal disconnection in custom proxy connection.<br>\n2. Version remains unchanged.<br>\n\n### Update to v0.31.4 on 2022-08-30:<br>\n1. Reduced virtual memory usage during runtime.<br>\n2. Routine optimizations.<br>\n3. Version updated to v0.31.4.<br>\n\n### Update to v0.31.3 on 2022-08-14:<br>\n1. Fixed the bug where MIPS architecture systems couldn't connect to custom proxies.<br>\n2. Fixed the issue of long loading time for HTTP protocol.<br>\n3. Version updated to v0.31.3.<br>\n\n### Update to v0.31.2 on 2022-08-06:<br>\n1. Fixed occasional crashes on the Windows platform, enhanced stability.<br>\n2. Keep-alive operations for P2P connection and custom proxy to minimize reconnection time window, improving availability.<br>\n3. Other usability optimizations, reduced app consumption.<br>\n4. Version updated to v0.31.2.<br>\n\n### Update to v0.31.1 on 2022-07-28:<br>\n1. Fixed the bug where, under specific circumstances, network configurations did not take effect when the server restarted.<br>\n2. Fixed NAT1 server P2P negotiation bug.<br>\n3. Version updated to v0.31.1.<br>\n\n### Update to v0.31 on 2022-07-22:<br>\n1. Provided port mapping between servers, allowing direct access from the public network if the server has a public IP (only needs to be configured on the app).\n   * Configuration: In the original mapping configuration, \"Remote IP\" supports configuration in the form of ip@idx (idx is the sequence number of different \"access points\").\n   * The \"Local Port\" configured in this way is actually on the host where the current \"access point\" is located (Note: not on the phone where the app is located).\n   * If P2P between servers is successful (or custom proxy connection is successful), the configured mapping will take effect, otherwise, it will not.\n   * On the app, the proxy status between servers is refreshed only when there is a P2P connection.\n   * After successful configuration, it takes about 10 seconds to see the actual status on the app.\n2. Version upgraded to v0.31.<br>\n\n### Update on 2022-06-30:<br>\n1. Fixed the bug where the server could not proxy normally on 32-bit big-endian machines.<br>\n2. Version remains unchanged.<br>\n\n### Update on 2022-05-17:<br>\n1. Server supports automatically generating self-signed certificates (default file name is server.xxx).\n   * Configuration: ssl-create-certfile option<br>\n     ```\n     <app-parameter>\t\n       <ssl-create-certfile value=\"true\" />\n     ...\n     </app-parameter>\n     ```\n   * Make sure to install openssl.\n   * Do not specify certificate files (do not configure ssl-cacert-file and ssl-privatekey-file).\n   \n### Update on 2022-05-04:<br>\n1. Support for riscv32/64 architecture, linked with musl library during compilation like mips architecture.<br>\n2. Optimized network transmission layer.<br>\n3. Version remains unchanged.<br>\n\n### Update to v0.30.4 on 2022-02-07: <br>\n1. Provided support for mips64el.<br>\n2. Added system icon display on the app.<br>\n3. Other optimizations.<br>\n\n### Update to v0.30.3 on 2021-11-06: <br>\n1. Fixed the bug where app-side memory usage only displayed JVM without native.<br>\n2. Optimized network engine, improving stability and fairness under high concurrency.<br>\n\n### Update to v0.30.2 on 2021-10-17: <br>\n1. Custom proxy supports SSL verification.<br>\n2. In the case of P2P network, supports configuring SSL tunnel ( **requires server-side certificate configuration** )<br>\n```\n<app-parameter>\n     <ssl-tunnel-required value=\"first\" /><!-- Options: none, first, only -->\n     ...\n   </app-parameter>\n   ```\n3. Other optimizations.<br>\n  \n### Update to v0.30 on 2021-09-24: <br>\n1. Provided Android server-side automatic startup support (only in server mode, and manual authorization is required).<br>\n2. In the case of P2P network, Android server-side supports real-time audio (microphone permission needs manual authorization, must open the SG interface to record).<br>\n3. Other optimizations.<br>\n\n### Update to v0.29.2 on 2021-05-03: <br>\n1. Fixed the issue of not being able to exit on high versions of Android.<br>\n2. Optimized network: Fixed a BUG that may cause network latency, further improving network transmission speed.<br>\n3. Provided version number display for easier client and server version management.<br>\n4. Optimized app CPU usage, reduced power consumption.<br>\n\n### Update to v0.29 on 2021-03-05: <br>\n1. Fixed the issue of server-side core dump when switching between IPv6 and IPv4 networks.<br>\n2. Added IPv4-only network mode option on the client side, for scenarios where IPv6 is present but IPv4 is needed for P2P connections due to special requirements (forces the use of IPv4 for network penetration).<br>\n3. Some other bug fixes.<br>\n   Note: Due to fatal issues with core dump in specific scenarios, both the client and server need to be updated to version 0.29.\n\n### Update to v0.28 on 2020-12-13: <br>\n1. Custom proxy added token support to prevent unauthorized access. Also supports configuring an access permission list (access-token can only input numbers, access-restricting can input allowed SIDs, multiple SIDs separated by \":\"; access-restricting can be left unconfigured).<br>\n   A. Proxy server configuration:\n   ```\n   <app-parameter>\n    <proxy-service-port value=\"9001\"/>\n    <access-token value=\"nnnnn\"/>\n    <access-restricting value=\"xxxxx\"/>\n    …\n   </app-parameter>\n   ```\n  B、Server-side configuration (token must match the proxy server):\n ```\n <channel address=\"x.x.x.x:9001\" ssl=\"true\" token=\"nnnnn\" />\n```\n2.Optimized the tunnel timeout disconnect mechanism (only for P2P tunnels and user agent tunnels): As long as there is a connection and the connection is normal, the client will randomly delay sending heartbeats to prevent timeout disconnections.<br>\nScenario: When accessing SSH, if there is no input for a long time, it will maintain a heartbeat to prevent disconnection after 1 or 2 minutes of inactivity.<br>\n### Update to v0.27 on 2020-05-23: <br>\n1. Removed the root permission acquisition feature to maintain the minimum permission requirement. Currently not developing support for configuring ports below 1024.<br>\n2. Due to personal Raspberry Pi being damaged by a child, making use of the remaining value of old smartphones, Android app added \"Server Mode\" support, enabling it to be used as a server at home.<br>\n\n### Update to v0.26 on 2020-04-30: <br>\n1. Fixed the issue where configured HTTP services might be unavailable when IP is switched.<br>\n~~2. For rooted phones, attempted to acquire root permissions, supporting the configuration of reserved ports below 1024.~~ (This feature has been removed.)<br>\n3. Solved the problem of absolute path execution (mostly for startup scripts) and not specifying the -f parameter causing the inability to locate the default configuration file.<br>\n4. Server-side added HTTP-based content replacement option (affects efficiency, ignores compressed data). For some non-standard intranet web applications that return IP ports in JavaScript to the browser, content filtering is not applied by default.<br>\n```\n\t……\n\t<moudle-parameter>\n\t\t<http-content-type-filter value=\"application/javascript\" />\n\t\t……\n\t<moudle-parameter/>\n\t……\n```\n5. Server-side added an option to specify the P2P negotiation port, with the default being a random port.<br>\n```\n\t……\n\t<moudle-parameter>\n\t\t<negotiation-port value=\"xxxxx\" />\n\t\t……\n\t<moudle-parameter/>\n\t……\n```\n\n6. Added an \"Official Proxy\" switch, defaulting to open. When closed, data will not be forwarded through the official proxy under any circumstances.<br>\n### 2020-03-13：<br>\n1. Fixed a bug causing network latency due to the loss of writable-event under specific conditions with tcp-cork.<br>\n2. Improved the performance of the memory pool.<br>\n3. Added the `-f` command line parameter to specify the full path of the configuration file.<br>\n4. Other optimizations, version remains unchanged.<br>\n\n### 2020-01-18 updated to v0.25：<br>\n1. Fixed the issue of HTTP proxy failure.<br>\n2. The app now provides IPv6 address display.<br>\n3. Version updated to 0.25.<br>\n\n### 2019-11-30 updated to v0.24：<br>\n1. Peanut shell supports UDP now? Okay, support UDP port forwarding, friends who stream games can give it a try.<br>\n2. Support UDP over TCP mode.<br>\n3. Other minor optimizations.<br>\n\n### 2019-11-03：<br>\n1. Fixed memory leak bug.<br>\n2. Other minor optimizations, version remains unchanged.<br>\n3. Improved P2P reconnection reliability.<br>\n\n### 2019-09-30 updated to v0.23：<br>\n1. Fixed high CPU usage bug under weak network conditions on Windows server.<br>\n2. Overall improved network transmission speed.<br>\n\n### 2019-09-20 updated to v0.22：<br>\n1. Improved P2P detection reliability.<br>\n2. Fixed a bug on Windows that prevented P2P connection under certain conditions.<br>\n3. The client now provides manual P2P reconnection feature (automatic reconnection may fail under weak network conditions, in such cases, manual reconnection can be used).<br>\n\n### 2019-09-15：<br>\n1. Further reduced server CPU usage under low-speed conditions.<br>\n2. General optimizations, version remains unchanged.<br>\n\n### 2019-09-10 updated to v0.21：<br>\n1. Network performance optimization.<br>\n2. The client now supports displaying real-time network speed.<br>\n\n### 2019-09-05：<br>\n1. Fixed the bug of automatic login failure after changing the password on the client.<br>\n2. Provided automatic login timeout control.<br>\n\n### 2019-09-01 updated to v0.20：<br>\n1. Optimized connection checking performance (provided parallel asynchronous detection).<br>\n2. Supports proxying HTTPS to HTTP (client-side HTTP access, server-side HTTPS).<br>\n\n### 2019-08-18 updated to v0.19：<br>\n1. Performance optimization.<br>\n2. Fixed a bug where server connections could not be reliably disconnected under certain conditions (custom routing).<br>\n3. Static compilation, no longer dependent on the gcc dynamic library of the inux system, can run directly in alpine (requires creating a symbolic link).<br>\n4. Supports compiling as a mini version, no longer statically compiling OpenSSL; fully compatible with OpenSSL library from 0.9.8 to 1.1.1, binary package reduced to about 1M (already placed in the dynamic directory, SSL library needs to be configured).<br>\n\n### 2019-05-27 updated to v0.18：<br>\n1. Performance optimization.<br>\n2. Provided IPv6 P2P switch mechanism: `<ipv4-tunnel-first value=\"false\"/>` Set to \"true\" to close IPv6 P2P, the default value is \"false\".<br>\n3. Added client IPv6 flag and connection status display.<br>\n\n### 2019-05-21：<br>\n1. Fixed the bug that IPv6 could not be detected under Raspbian jessie.<br>\n\n### 2019-05-16 updated to v0.17：<br>\n1. Performance optimization.<br>\n2. Provided P2P disconnect and reconnect mechanism.<br>\n\n### 2019-05-04：<br>\n1. Fixed a bug where the server occasionally had high CPU usage when mounting private routes with a thread count < 4, version remains unchanged.<br>\n\n### 2019-04-23 updated to v0.16：<br>\n1. Fixed a bug where the server occasionally core dumped when mounting private routes.<br>\n\n### 2019-04-16 updated to v0.15：<br>\n1. Fixed the bug of IPV4/IPV6 network switching, unable to P2P.<br>\n\n### 2019-04-15 updated to v0.14：<br>\n1. Fixed the issue of network switching reconnection failure.<br>\n2. Engine performance optimization.<br>\n3. Added support for IPv6 firewall penetration (mobile end supports IPv6, and the internal network server supports IPv6).<br>\n   [Important Note] Version 0.14 is incompatible with previous versions, be sure to update!<br>\n\n### ....Initial version v0.13<br>\n\n</details>\n"
        },
        {
          "name": "app-release.apk",
          "type": "blob",
          "size": 3056.595703125,
          "content": null
        },
        {
          "name": "client",
          "type": "tree",
          "content": null
        },
        {
          "name": "dynamic",
          "type": "tree",
          "content": null
        },
        {
          "name": "linux_arm32v0.40.4.tar",
          "type": "blob",
          "size": 2208,
          "content": null
        },
        {
          "name": "linux_x86_64v0.40.4.tar",
          "type": "blob",
          "size": 2526,
          "content": null
        },
        {
          "name": "linux_x86v0.40.4.tar",
          "type": "blob",
          "size": 2550.5,
          "content": null
        },
        {
          "name": "readme.md",
          "type": "blob",
          "size": 35.8203125,
          "content": "# samrGate（SG） 中文 | [English](https://github.com/lazy-luo/smarGate/blob/master/README_en.md)\r\n\r\n## SG是什么？\r\n* 是个跨网段远程端口映射工具\r\n  * 支持内网到内网、内网到外网映射\r\n* 是个随身携带可灵活控制访问入口的工具\r\n  * 所有配置操作都在app客户端，一眼看全、高度安全可控\r\n  * 访问入口既可配置到app所在手机上，也能配置到任意SG服务端电脑上\r\n* 是个简单的远程文件管理工具\r\n  * 可对手机及服务端所在服务器进行文件管理操作\r\n* 是个简单的socks代理工具\r\n* 是个简单的http(s)代理工具\r\n* ......\r\n\r\n## SG有什么特点？\r\n* 所有映射都通过app客户端进行配置，服务端运行时免配置\r\n* 支持服务端到APP及服务端到服务端的端口映射\r\n  * 可以将服务端所在内网任意机器任意端口映射到app所在手机上，通过访问手机本地端口进行穿透访问\r\n  * 可以通过app客户端配置，将A服务端内网任意主机任意端口映射到B服务端所在主机上\r\n* 支持链式代理\r\n* 支持多用户隔离\r\n* 支持ipv4/6，基于TCP进行P2P穿透\r\n* 支持自建代理进行数据转发\r\n* 支持数据隧道加密（TLS）\r\n* 支持自动数据隧道选择\r\n  * 优先P2P，次选自定义代理，官方代理兜底\r\n* 支持自动版本升级及APP客户端上一键升级\r\n* socks及http(s)代理支持自定义ip白名单及域名白名单，支持CIDR格式IP段及域名统配符\r\n* 支持TCP协议服务，也支持UDP协议\r\n  * UDP采用UDP over TCP模式\r\n* ......\r\n\r\n## SG能解决什么问题？\r\n* 无视内外网，安全访问内网资源的场景\r\n* 需要P2P高带宽安全传输的场景\r\n* 有公网IP，需要将内网服务发布出去的场景\r\n* ......\r\n\r\n## SG怎么使用？\r\n* 下载APP并注册\r\n* 下载合适的服务端版本，根据用户ID进行配置并运行\r\n* 登录APP进行端口映射配置\r\n* 使用配置的映射进行访问\r\n\r\n## 有兴趣再细看\r\n\r\n<details>\r\n<summary>\r\n\t<mark><font size=3 color=darkred>查看详细</font></mark>\r\n</summary>\r\n\r\n# \r\n## 快速概览<a href=https://github.com/lazy-luo/smarGate/wiki/快速上手手册>【快速上手手册】</a> <a href=\"https://www.bilibili.com/video/BV1LM411k7Rf\">【三方视频教学- B站】</a><br>\r\n* 平台适配，支持linux、windows、macos、android（tob，小型机：hp-unix、solaris、AIX）<br>\r\n* cpu架构，支持x86、arm、mips、riscv、LoongArch64（tob：alpha、PowerPC、SPRAC）<br>\r\n* 注重安全，“内网”到“内网”的穿透，无需映射任何端口到外网，不更改任何防火墙配置<br>\r\n* 注重带宽，”4G手机+v6宽带“采用P2P方式访问内网服务（基于TCP协议，v4支持NAT1-3穿透）<br>\r\n* 注重节约，无需购买vps、无需公网IP；家中淘汰Android手机可做服务器<br>\r\n* 注重可靠，随用随有，可7*24不间断服务，且不受UDP协议Qos之苦<br>\r\n* 注重可控，客户端一点配置，且随时随地控制服务开启/关闭<br>\r\n* 注重环保，免安装，体量小巧（mini版1MB左右） allinone，高性能且资源占用最少<br>\r\n* 注重便携，无论工作或是度假，不管在任何地方，只要手机有网络，一切尽在掌控<br>\r\n* ......如果这都是你想要的！请耐心继续往下看；如果你还想要...请提issue，【更新历史】也有看头哦<br>\r\n* 免费，测试稳定后考虑开源. <br>\r\n* 包含一个android客户端和需内网安装的服务端.<br>\r\n\r\n## APP端配置（必须）--- 无法正常使用典型情况\r\n* 必须配置“允许后台运行”权限，否则切后台即被系统断连\r\n* 必须配置“休眠时始终保持网络连接”，否则一旦休眠则被系统断连\r\n* 可以配置“允许自启动”权限，否则Android服务端模式下无法开机启动（v0.30及后续版本）\r\n* 可以配置“麦克风”权限，否则Android服务端无法提供语音监听功能（v0.30及后续版本）\r\n* 注意：SG官方代理不提供到港澳台及国外IP的数据转发\r\n## smarGate是什么？<br>\r\n#### 官方命名为“移动网关”，通过手机客户端将位于内网的服务端网络进行按需暴露，核心引擎采用c++实现。<br>\r\n#### “移动网关”是用户私有网关，所有共享访问入口都在客户端，不是类似其它穿透工具主推的面向域名的公共访问入口。打个比方：smarGate是将防盗门随身携带，其它穿透产品是将防盗门放到公共场所，额...虽然需要钥匙，但有种职业叫开锁匠<br>\r\n\r\n##### 具备如下技术特点：<br>\r\n* 安全性 <br>\r\n  * 手机客户端作为主要的访问入口，按需开放，及时关闭。<br>\r\n  * 支持服务端间端口映射组网（v0.31及以后版本）。<br>\r\n  * 电脑可以接入手机热点或wifi环境下通过访问手机开放的端口穿透到内网进行访问（客户端会显示手机ip）。<br>\r\n  * 手机网络一般为私有网段别人无法访问。<br>\r\n  * 用户间隔离。<br>\r\n* 扩展性<br>\r\n  * 基于内网网段代理，可以配合众多工具实现各种网络服务能力（telnet、ssh、http服务、内网摄像头、远程桌面等）<br>\r\n  * 面向极客，可访问自定义的内网服务（rpc）<br>\r\n* 便利性<br>\r\n  * 手机客户端一点配置<br>\r\n  * 服务能力动态增减<br>\r\n* 高性能<br>\r\n  * 0.1.1版本开始采用自主网络引擎，性能高，千元手机客户端能支持1千以上的并发共享访问<br>\r\n  * 高性能设计：<br>\r\n  \t* 跨平台实现 socket 多路复用，支持：poll、epoll、kqueue、port、select、IOCP 等模型<br>\r\n\t* 采用 lock-free 算法<br>\r\n\t* 线程池设计<br>\r\n\t* socket 连接池<br>\r\n\t* 多级任务队列 <br>\r\n\t* ...<br>\r\n<details>\r\n<summary>\r\n\t<mark><font size=6 color=darkred>附：交互示意图</font></mark>\r\n</summary>\r\n<img src=\"https://github.com/lazy-luo/smarGate/blob/master/res/smarGateArch.png\" /><br>\r\n</details>\r\n\t\r\n## smarGate有什么主要功能？<br>\r\n* 支持代理穿透<br>\r\n  * 官方提供免费的代理服务器（共享带宽，多人共用时比较慢，最佳实践为启用自有代理服务器）<br>\r\n  * <I>如果自己有云服务器（具备公网ip），用户可自定义自己的代理服务器，且在代理服务器上安装proxy_server。所有数据传输走用户配置的代理服务器（代理服务器需要证书，可自动生成也可配置已有证书）</I> <br>\r\n\r\n```  \r\n  1、“代理服务器”配置如下（代理服务器必须允许任意端口“入站”连接）：\r\n```\r\n```\r\n  <?xml version=\"1.0\" encoding=\"GBK\"?>\r\n    <app-config code=\"PROXY\" name=\"proxy-server\">\r\n        <app-parameter>\r\n\t        <proxy-service-port value=\"9001\"/><!--自定义代理端口 -->\r\n\t\t<owner-id value=\"xxxx\" /><!-- xxxx 为注册成功返回的用户ID -->\r\n\t\t<access-token value=\"nnnnn\"/><!--访问token，必须为数字【可选配】 -->\r\n\t\t<ssl-create-certfile value=\"true\" /><!-- 如未用如下选项指定证书，则自动生成证书【必须确保安装openssl】，默认为 false 代表无需自动生成 -->\r\n          <!-- 如果自己有证书及私钥，则配置如下项，启动安全的SSL通道，其中文件名需要配置正确；没有证书则不需要配置，可启用上面自动生成证书选项\r\n\t        <ssl-cacert-file value=\"xxx.crt\"/>\r\n\t        <ssl-privatekey-file value=\"xxx.key\"/>\r\n          -->\r\n       </app-parameter>\r\n       <moudle-parameter>\r\n        <log-level value=\"LOG_ERROR\"/>\r\n        <log-write-mode value=\"CONSOLE_ONLY\"/>\r\n      </moudle-parameter>\r\n  </app-config>\r\n```\r\n```\r\n  2、\"服务端\"中增加如下配置：\r\n```\r\n```\r\n......\r\n    <app-parameter>\r\n       \t     <ssl-create-certfile value=\"true\" />\r\n       <!-- 如果代理服务器启动安全的SSL通道，这里必须配置证书及私钥\r\n\t     <ssl-cacert-file value=\"xxx.crt\"/>\r\n\t     <ssl-privatekey-file value=\"xxx.key\"/>\r\n       -->\r\n    </app-parameter>\r\n    <moudle-parameter>\r\n      ......\r\n    </moudle-parameter>\r\n    <!-- 配置上述代理服务器的ip或域名+端口，注意：ip必须为公网IP。ssl选项必须配置正确，如果代理服务器有证书（包括自动生成证书）且生效则配置为true否则为false -->\r\n    <channel address=\"xxx.xxx.xxx.xxx:9001\" ssl=\"true\" token=\"nnnnn\" /><!--访问token，必须与代理服务器一致，如果没有则不配 -->\r\n```\r\n* 支持p2p通道<br>\r\n  * 使用TCP协议进行p2p穿透，提升安全性<br>\r\n  * 不是所有的网络都支持p2p，取决于两端NAT类型\r\n  * v0.14以上版本，直接支持ipv6，且能提供防火墙穿透\r\n  * P2P测试结论：一端是NAT4，另一端是NAT3或NAT4时无法打通<br>\r\n注：NAT1-〉Full Cone ， NAT2-〉Restricted Cone ， NAT3-〉Port Restricted Cone ， NAT4-〉Symmetric<br>\r\n  <table>\r\n\t<th>服务端 NAT</th><th>客户端 NAT</th><th>P2P成功</th>\r\n\t<tr><td>NAT1-3</td><td>NAT1-3</td><td>YES</td></tr>\r\n\t<tr><td>NAT1-2</td><td>NAT4</td><td>YES</td></tr>\r\n\t<tr><td>NAT4</td><td>NAT1-2</td><td>YES</td></tr>\r\n\t<tr><td>NAT4</td><td>NAT3-4</td><td>NO</td></tr>\r\n\t<tr><td>NAT3-4</td><td>NAT4</td><td>NO</td></tr>\r\n  </table>\r\n  \r\n* 支持外网发布（有违安全设计理念，v0.31版本开放）<br>\r\n  * 其它内网穿透工具的主推模式，将内网服务直接映射到外网端口<br>\r\n* 支持服务端之间的P2P端口映射（v0.31及以后版本） <br>\r\n  * 具体配置主要通过 ip@index方式支持<br>\r\n  \r\n<details>\r\n<summary>\r\n\t<mark><font size=6 color=darkred>附：主要功能简述</font></mark>\r\n</summary>\r\n\t\r\n```\t\r\n1、支持基于tcp的P2P连接隧道\r\n\t。安全可靠，避免Qos\r\n2、支持所有基于tcp的各类协议”透明代理”\r\n\t。可代理所有内网tcp服务（ssh、rdp、smb、vnc、摄像头、数据库服务等）\r\n3、支持HTTP、HTTPS to HTTP\r\n\t。支持http-head rewrite，支持将https服务代理成http\r\n4、支持udp over tcp\r\n\t。支持udp协议的服务代理\r\n5、透明方式（无需关注ipv6地址）支持ipv6隧道\r\n\t。自动建立v6隧道，访问时始终使用v4地址\r\n6、支持自定义代理（需外网ip），接管所有数据转发\r\n\t。无法p2p时，自动连接自定义代理，实现数据转发\r\n7、自定义代理支持token及白名单配置\r\n\t。支持安全机制\r\n8、支持多级级联代理\r\n\t。支持链式代理，支持多级无环代理\r\n9、支持手机作为访问唯一入口 —— 安全 + 移动便捷\r\n\t。手机在手、随用随有\r\n10、端口映射全动态配置，支持映射配置“热拔插”\r\n\t。代理增、删及时生效，无需重启\r\n11、所有功能app端“一点配置”\r\n\t。客户端一点配置，服务端运行时免配\r\n12、支持P2P隧道及自定义代理隧道自动探测及连接\r\n\t。无需干预，app自动连接，自动重试\r\n13、支持动态协商端口,支持指定协商端口\r\n\t。默认动态端口协商，支持配合防火墙配置协商端口\r\n14、支持隧道连接优先级（P2P—>自定义代理-->官网代理）\r\n\t。数据传输时，支持优先级隧道\r\n15、支持ssl加密隧道\r\n\t。支持P2P及代理隧道ssl加密，确保数据传输不泄密\r\n16、支持流量限制\r\n\t。支持进行网络带宽限制，默认不限流\r\n17、支持网络切换（如：移动<—>wifi）自动识别+自动连接\r\n\t。app端智能重连，始终确保服务可用性\r\n18、支持不同局域网主机间端口映射 —— 如有一端主机有外网ip则可直接外网访问（version > v0.31）\r\n\t。支持服务端组网映射，流量无需通过手机app（传统穿透模式）\r\n19、app支持服务端模式，可以将手机配置成服务端\r\n\t。android手机可作为服务端\r\n20、支持远程文件管理功能：浏览、上传、下载、删除，支持断点续传（version >= v0.31.6）\r\n\t。在有p2p或自定义代理时，激活文件管理功能，可对手机和服务端电脑文件进行基本操作\r\n21、支持内置socks5、http代理（version >= v0.32.1）\r\n\t。毕竟有三方专业工具如ss5、squid等，因此socks5及http代理是可选的功能\r\n22、socks5、http代理支持域名和IP白名单（version >= v0.32.1）\r\n\t。域名白名单支持四种模式匹配(完全匹配、向前匹配、向后匹配、中间匹配)，默认配置文件名.white_list\r\n\t。IP白名单支持CIDR格式ip-range配置，默认配置文件名.ipchecks\r\n。。。待续\r\n\t\r\n```\r\n</details>\r\n\t\r\n## 使用指南:<br>\r\n<a href=\"https://www.bilibili.com/video/BV1LM411k7Rf\">三方视频教学- B站</a><br><br>\r\n<a href=\"https://www.baidu.com/s?wd=smargate%20内网穿透\">使用实践-度娘</a><br><br>\r\n<a href=\"https://www.google.com/search?q=smargate+内网穿透\">使用实践-google</a>\r\n### 1、下载app && 注册新用户\r\n* 下载android app（app-release.apk包含客户端和服务端）支持armv7及arm64 cpu架构<br>\r\n* 注册新用户（邀请码必填，为数字，可任意填。ps：如果必填信息未填完整,或包含中文字符，会注册失败）<br>\r\n* 注册成功后请务必记住返回的服务ID(N) 【重要】：注册成功后务必在1小时内完成首次登录<br>\r\n<details>\r\n<summary>\r\n\t<mark><font size=5 color=darkred>展开图示</font></mark>\r\n</summary>\r\n<img src=\"https://github.com/lazy-luo/smarGate/blob/master/res/login.png\" /><br>\r\n<img src=\"https://github.com/lazy-luo/smarGate/blob/master/res/reg.png\" /><br>\r\n</details>\r\n\r\n### 2、下载服务端 && 配置\r\n* 下载内网服务器适合的服务端版本（目前支持linux-x86-32/64，windows，及linux-arm【树莓派、群晖】,另：Android app自带服务端模式）<br>\r\n* 解压服务端压缩包，修改配置文件(conf-proxy.xml):<br>\r\n<details>\t\r\n<summary>\r\n\t<mark><font size=5 color=darkred>配置样例</font></mark>\r\n</summary>\r\n\t\r\n```\r\n  <?xml version=\"1.0\" encoding=\"GBK\"?>\r\n    <app-config code=\"PROXY\" name=\"proxy-server\">\r\n       <app-parameter>\r\n\t<!-- [ none | first | only ] ,none is default. 为P2P连接启用SSL加密，only代表只接受加密连接 -->\r\n\t<ssl-tunnel-required value=\"first\" />\r\n\t<!-- 如未用如下选项指定证书，则自动生成证书【必须确保安装openssl】，默认为 false 代表无需自动生成 -->\r\n\t<ssl-create-certfile value=\"true\" /> \r\n <!-- 以下选项仅适用dynamic下的mini版本，指定ssl库及crypto库实际文件，linux下可由：ldd $(which openssl)|grep -E \"libssl|libcrypto\"|awk '{print $1}' 获取\r\n\t<libssl value=\"libssl.so\" />\r\n\t<libcrypto value=\"libcrypto.so\" />\r\n -->\r\n       </app-parameter>\r\n       <moudle-parameter>\r\n        <log-level value=\"LOG_ERROR\"/>\r\n        <log-write-mode value=\"CONSOLE_ONLY\"/>\r\n        <app-name value=\"xxxxx [name of service points].\" /><!-- need modify -->\r\n        <app-description value=\"yyyyy [description of service points]\" /><!-- need modify -->\r\n\t<!-- user-audit need modify (N 为注册成功返回的服务ID，index为自定义的服务端实例序号，建议从1开始，不能重复. 例如:[12345:1])-->\r\n        <user-audit value=\"N:index\"/>\r\n    </moudle-parameter>\r\n  </app-config>\r\n```\r\n</details>\r\n\r\n### 3、运行内网服务端(命令参数说明 i:最大接入连接数,o:最大接出连接数,w:最大线程数)<br>\r\n* linux下执行命令：chmod +x proxy_server && nohup ./proxy_server -i1000 -o1000 -w8 >/dev/null & <br>\r\n* windows下执行命令：proxy_server.exe -i1000 -o1000 -w8 <br>\r\n* Android 手机/设备：运行app -〉编辑模式下，配置服务端信息 -〉打开“服务端”开关 -〉重启app <br>\r\n* OpenWrt mips设备安装请见：<a href=https://github.com/lazy-luo/smarGate/issues/65>【MIPS linux下正确使用方式】</a><br>\r\n### 4、登陆手机app && 配置端口映射 <a href=\"https://github.com/lazy-luo/smarGate/wiki/常用服务穿透配置\">【常用服务配置】</a><br>\r\n* 在客户端中可以看到上线的服务端（“访问点”），可以在客户端上定义端口映射规则<br>\r\n<details>\r\n<summary>\r\n\t<mark><font size=5 color=darkred>展开图示</font></mark>\r\n</summary>\r\n<img src=\"https://github.com/lazy-luo/smarGate/blob/master/res/proxy.png\" /><br>\r\n<b>服务端间端口映射配置需要在ip后加上服务端index序号，格式为：ip@idx</b>\r\n<img src=\"https://github.com/lazy-luo/smarGate/blob/master/res/server-proxy.png\" /><br>\r\n</details>\r\n\r\n### 5、电脑或手机可以直接访问手机客户端设置的服务（如ssh、http等）<br>\r\n\r\n</details>\r\n\r\n## 补充说明:<br>\r\n* 所有版本已经打包了依赖，开箱即用.<br>\r\n* 系统将自动清除30天以上未使用的“僵尸账号”.<br>\r\n* Android 客户端需要权限:<br>\r\n>> 1、后台执行权限（如果不允许，则app进入后台会断开连接）<br>\r\n>> 2、网络访问权限（基本权限）<br>\r\n* 手机设置 (Android):<br>\r\n>> 1、设置 -> 无线及网络 -> WLAN -> 系统休眠保持连接  \"允许\" （否则，系统休眠会被断连）<br>\r\n>> 2、设置 -> 无线及网络 -> 移动网络 -> 高级 ->始终保持数据连接 \"允许\"<br>\r\n\r\n<details>\r\n<summary>\r\n\t<mark><font size=5 color=darkred>常见问题答疑</font></mark>\r\n</summary>\r\n\t\r\n* Q：如何下载安装 android app？<br>\r\n  >> 1、用android手机浏览器打开 https://github.com/lazy-luo/smarGate/raw/master/app-release.apk <br>\r\n  >> 2、弹出框中下载安装 <br>\r\n  >> 网盘链接为最新测试版本，github上版本稍有滞后 <br>\r\n  >> 附网盘下载地址： https://pan.baidu.com/s/14Iq60kxHW711NVoCVKWySg <br>\r\n  >> gitee地址（速度快些，不会有图片无法显示问题）：https://gitee.com/lazy-luo/smarGate <br>\r\n  >> 如有需要请添加微信：ws_lzy008 注明：smarGate ，视情况组建技术讨论群<br>\r\n* Q：需要访问家中局域网多台设备，是否每台都需要安装服务端？<br>\r\n   >> A：不需要，只需选择任意一台设备安装服务端即可。<br>\r\n* Q：为何有时连接不上？<br>\r\n   >> A：服务端空闲约2-3分钟，会自动断开，须等待10秒左右重连。<br>\r\n* Q：ipv6为何无法P2P？<br>\r\n   >> A：请将客户端及服务端更新到最新版本；确保手机与内网电脑能获取到全局ipv6地址；确保没被防火墙拦截（windows）；排查两个ipv6是否能路由出去；查看hosts文件确保hostname能解析到ipv6地址。<br>\r\n* Q：IPv4及IPv6的P2P连接为何没有UDP端口？<br>\r\n   >> A：smarGate基于TCP协议进行P2P穿透，具备更好的安全性，及连接可靠性。<br>\r\n* Q：手机NAS客户端为何无法登录？<br>\r\n   >> A：确保手机NAS客户端ip黑名单中没有localhost（127.0.0.1）。<br>\r\n* Q：如何将异地公司内网机器共享给多地团队？<br>\r\n   >> A：手机连接wifi，让团队成员电脑连接手机IP：PORT，直接通过手机代理进行访问。实测，2k以上的手机，可以带上百人团队共享访问。<br>\r\n* Q：为何windows服务端没有控制台黑框？<br>\r\n   >> A：为了防止误操作关闭服务端，新版本windows服务端采用后台方式运行。如需关闭，请用“任务管理器”<br>\r\n* Q：P2P时流量是否还需要走中间代理？<br>\r\n   >> A：不需要，直接点对点连接，网速取决于你的客户端及服务端所在网络。<br>\r\n* Q：smarGate后台运行是否很耗电？<br>\r\n   >> A：经过长时间测试，按偶尔使用的频次，耗电量和任意一个系统进程相近，极低；频繁后台使用情况，长时间“后台”使用，整体耗电量等同于偶尔使用微信的耗电量。电源管理提示“后台频繁刷新。。。”，不用管它，后台传输数据都会有此提示，关键看耗电排名<br>\r\n* Q：smarGate连接优先级规则？<br>\r\n   >> A：首选P2P连接，无P2P时使用自定义代理连接，无前两者连接时使用官方代理连接。<br>\r\n* Q: 同一个用户能否多处登录 ？<br>\r\n   >> A: 可以多点登录，但同一时刻只能有一个客户端可以进行P2P；服务端单台机器只能启1个实例，服务端各实例配置确保序号不重复，否则将无法正常使用。<br>\r\n* Q: 服务端能否支持Android手机 ？<br>\r\n   >> A：v0.27版本Android app加入了“服务端模式”的支持。<br>\r\n* Q: 客户端不同颜色表示啥意思？<br>\r\n   >> A:ipv4下P2P标识为：<br>\r\n   ![ipv4 p2p](https://github.com/lazy-luo/smarGate/blob/master/res/ipv4p2p.png)<br>\r\n   >> A:ipv6下P2P标识为：<br>\r\n   ![ipv6 p2p](https://github.com/lazy-luo/smarGate/blob/master/res/ipv6p2p.png)<br>\r\n   >> A:自定义路由标识为：<br>\r\n   ![userdefineproxyer p2p](https://github.com/lazy-luo/smarGate/blob/master/res/userdefineproxyer.png)<br>\r\n\r\n</details>\r\n\r\n## 最佳实践<br>  \r\n* 以下为推荐使用的最佳实践，供参考：<br> \r\n  1、android客户端设置为“自动登录”，免除每次输入用户名/密码的麻烦;<br> \r\n  2、android客户端设置好后让其在后台运行，如果始终保持前台会定时刷新，webview控件空耗电，你懂的;<br>\r\n  3、服务端始终保持后台运行，安全放心，只有你自己才能访问；<br>\r\n  ...使用场景...<br>\r\n  <a href=\"https://cloud.tencent.com/developer/article/1926888\">【家用摄像头P2P直连】</a><br>\r\n## 免责申明<br>  \r\n* 请您仔细阅读以下申明，您在使用smarGate工具软件，表明您对以下内容的接受：<br> \r\n  1、严禁使用本软件从事计算机黑客以及其他任何危害计算机信息网络安全的行为;<br> \r\n  2、本软件属于正规网络接入软件，请合理，合法的使用；勿用于违反法律，道德及影响他人利益的活动；如果因用于非法用途，由此造成的不良后果，由用户自行负责，本软件开发者不承担任何责任及损失。<br>\r\n## 捐助\r\n如果您觉得 smarGate 对你有帮助，欢迎给予一定的捐助来维持项目的长期发展！<br>\r\nps：捐赠建议附上注册用户名<br>\r\n<details>\r\n<summary>\r\n\t<mark><font size=5 color=darkred>微信捐赠</font></mark>\r\n</summary>\r\n<img src=\"https://github.com/lazy-luo/smarGate/blob/master/res/donation.png\"/>\r\n</details>\r\n\r\n## 附录<br>  \r\n<details>\r\n<summary>\r\n\t<mark><font size=5 color=darkred>更新历史</font></mark>\r\n</summary>\r\n\r\n### 2024-10-12更新到v0.40.4：<br>\r\n1、新增PROXY协议，单端口同时支持socks5及http代理<br>\r\n2、新增http代理用户/密码认证<br>\r\n\r\n```\r\n<app-parameter>\r\n\t...\r\n\t<httpx-user value=\"user\" />\r\n\t<httpx-passwd value=\"pwd\" />\r\n\t<socks-user value=\"user\" />\r\n\t<socks-passwd value=\"pwd\" />\r\n\t...\r\n</app-parameter>\r\n```\r\n3、其它优化<br>\r\n\r\n### 2024-08-20<br>\r\n1、提升文件传输速度<br>\r\n2、其它优化<br>\r\n\r\n### 2024-08-17<br>\r\n1、修复网络出口变化时服务端长时间丢失的BUG<br>\r\n2、改进P2P连接机制，提升P2P连接成功率<br>\r\n\r\n### 2024-08-06更新到v0.40.3<br>\r\n1、修复windows下代理连接偶发断开的BUG<br>\r\n2、修复windows下低带宽时高CPU占用的BUG<br>\r\n3、服务端支持动态资源回收，适合内存限制设备<br>\r\n4、新增编译包，支持LoongArch64架构<br>\r\n5、版本更新到v0.40.3<br>\r\n\r\n### 2024-07-11<br>\r\n1、修复代理地址错误显示为localhost的BUG<br>\r\n2、修复windows下偶发coredump的BUG<br>\r\n\r\n### 2024-05-11<br>\r\n1、启用异步连接，防止慢连接阻塞正常连接<br>\r\n2、修复链式代理、Socks5、http代理在特定情况下无法释放连接的BUG<br>\r\n\r\n### 2024-04-27更新到v0.40.2：<br>\r\n1、改进P2P的连接成功率<br>\r\n2、修复部分已知BUG<br>\r\n3、版本更新到v0.40.2<br>\r\n  \r\n### 2024-04-18：<br>\r\n1、收藏夹BUG修复<br>\r\n2、新增服务备注功能，便于服务识别及打标<br>\r\n  \r\n### 2024-04-10：<br>\r\n1、VIP支持百度地图定位<br>\r\n* APP服务端支持GPS定位\r\n* 百度地图开放平台，自行申请“浏览器端”AK，然后将AK配置到SG客户端中，即可正常使用地图定位功能\r\n  \r\n2、版本更新到v0.40.1<br>\r\n\r\n### 2024-02-02：<br>\r\n1、APP易用性更新，后续版本将采用全新界面<br>\r\n2、修复特定情况无法创建ipv6隧道的BUG<br>\r\n3、APP增加收藏夹功能，常用连接一览无余<br>\r\n4、版本更新到v0.32.3<br>\r\n\r\n### 2023-11-28：<br>\r\n1、老幼安全防护，支持GPS定位，便于掌握关怀对象所在经纬度（自行手动授权）<br>\r\n* 此功能仅支持Android服务端<br>\r\n* 坐标获取成功，则经纬度坐标将会自动复制到剪贴板<br>\r\n\r\n2、其它优化<br>\r\n\r\n### 2023-11-17更新到v0.32.2：<br>\r\n1、socks协议支持用户名/密码验证<br>\r\n2、支持保存及播放录音（VIP）<br>\r\n3、版本更新到v0.32.2<br>\r\n\r\n### 2023-10-25更新到v0.32.1：<br>\r\n1、修复bug<br>\r\n2、完善支持socks协议(仅支持ipv4 tcp)<br>\r\n3、完善支持HTTP proxy协议<br>\r\n4、APP支持VIP功能许可<br>\r\n5、版本更新到v0.32.1<br>\r\n\r\n### 2023-09-08更新到v0.31.12：<br>\r\n1、修复bug<br>\r\n2、试验性支持socks协议(仅支持ipv4 tcp)<br>\r\n3、新增内置支持HTTP proxy协议<br>\r\n4、内存回收（适用于内存限制设备）<br>\r\n5、全异步方式提升响应速度 <br>\r\n6、版本更新到v0.31.12<br>\r\n\r\n### 2023-08-29更新到v0.31.11：<br>\r\n1、文件管理支持默认按时间排序<br>\r\n2、新增macos M1/M2支持<br>\r\n3、版本更新到v0.31.11<br>\r\n\r\n### 2023-06-03更新到v0.31.10：<br>\r\n1、网络可靠性优化<br>\r\n2、优化网络传输效率<br>\r\n3、版本更新到v0.31.10<br>\r\n\t\r\n### 2023-03-04更新到v0.31.9：<br>\r\n1、APP服务端模式新增“无障碍”服务，用户自行打开,实现自动重启<br>\r\n2、APP端操作优化：新增点击操作自动填充功能，便于新增配置<br>\r\n3、修复mips路由器下安装自定义代理无法提供服务的BUG<br>\r\n4、提供服务端自定义代理域名定时ip刷新功能（动态域名）<br>\r\n5、其它优化<br>\r\n\r\n### 2022-12-14更新到v0.31.8：<br>\r\n1、APP服务端模式支持配置自定义代理及SSL加密<br>\r\n2、自定义代理服务器支持SSL自签名证书下发<br>\r\n3、其它优化<br>\r\n\r\n### 2022-11-04更新到v0.31.7：<br>\r\n1、提供一键版本升级功能，无需手动更新<br>\r\n* 此功能版本源指向github，如无法更新，请确认github连通性<br>\r\n* 更新后一般10-20秒左右恢复可用<br>\r\n* 服务端提供自动更新选项（每天检测一次），默认关闭<br>\t\r\n```\r\n<auto-update value=\"true\" />\r\n```\r\n\r\n### 2022-10-20更新到v0.31.6：<br>\r\n1、文件管理增加删除文件功能<br>\r\n2、文件管理增加断点续传功能<br>\r\n3、文件管理增加文件时间<br>\r\n4、文件管理windows下增加切换磁盘操作<br>\r\n* 此功能仅在有P2P连接或自定义代理连接时激活<br>\r\n* 通过拖拽模式进行上传和下载<br>\t\r\n* 通过双击弹出文件删除确认框<br>\t\t\r\n\r\n### 2022-10-14更新到v0.31.5：<br>\r\n1、修复自定义代理短间隔重连情况下连不上的BUG<br>\r\n2、新增了简易文件上传下载功能，可方便同步异地文档<br>\r\n* 此功能仅在有P2P连接或自定义代理连接时激活<br>\r\n* 通过拖拽模式进行上传和下载<br>\t\r\n\t\r\n3、版本更新到v0.31.5<br>\r\n\t\r\n### 2022-09-05：<br>\r\n1、解决自定义代理连接异常断开BUG<br>\r\n2、版本保持不变<br>\r\n\r\n### 2022-08-30更新到v0.31.4：<br>\r\n1、降低运行时虚拟内存占用<br>\r\n2、常规性优化<br>\r\n3、版本更新到v0.31.4<br>\r\n\r\n### 2022-08-14更新到v0.31.3：<br>\r\n1、修复mips架构系统无法连接自定义代理的BUG<br>\r\n2、修复HTTP协议加载完成时间长的问题<br>\r\n3、版本更新到v0.31.3<br>\r\n\r\n### 2022-08-06更新到v0.31.2：<br>\r\n1、修复Windows平台偶发闪退BUG，增强稳定性<br>\r\n2、P2P连接及自定义代理进行keep-alive操作，尽可能避免重连时间窗口，提升可用性<br>\r\n3、其它可用性优化,降低app能耗<br>\r\n4、版本更新到v0.31.2<br>\r\n\r\n### 2022-07-28更新到v0.31.1：<br>\r\n1、修复特定情况下，服务端重启，组网配置不生效的BUG<br>\r\n2、修复NAT1服务器P2P协商BUG<br>\r\n3、版本更新到v0.31.1<br>\r\n\r\n### 2022-07-22更新到v0.31: <br>\r\n1、提供服务端之间端口映射，服务端如有公网ip则可直接从公网访问(仅需在app上配置)\r\n* 配置方式，在原有映射配置“远程ip”配置中支持：ip@idx方式进行配置(idx为不同“访问点”的序号)\r\n* 此种方式配置的“本地端口”实际是在当前“访问点”所在主机上（注意：不在APP所在手机上）\r\n* 服务端间如能P2P成功（或自定义代理连接成功）则配置的映射将生效，否则不生效\r\n* APP上只有在P2P连接时才会定时刷新服务端间代理状态\r\n* 配置成功后需要等待10秒左右才能在App上看到实际状态\r\n\r\n2、版本升级到v0.31<br>\r\n\r\n### 2022-06-30: <br>\r\n1、修复32位大端机器运行服务端，无法正常代理的BUG<br>\r\n2、版本暂保持不变<br>\r\n\r\n### 2022-05-17: <br>\r\n1、服务端支持自动生成自签名证书（默认文件名为server.xxx）<br>\r\n-->a、配置ssl-create-certfile选项 <br>\r\n```\r\n<app-parameter>\t\r\n  <ssl-create-certfile value=\"true\" />\r\n...\r\n</app-parameter>\r\n```\r\n-->b、确保安装openssl <br>\r\n-->c、不要指定证书文件（不配置 ssl-cacert-file 及 ssl-privatekey-file）<br>\r\n\t\r\n### 2022-05-04: <br>\r\n1、支持riscv32/64架构，编译时同mips架构使用musl库进行链接<br>\r\n2、优化网络传输层<br>\r\n3、版本暂保持不变<br>\r\n\t\r\n### 2022-02-07更新到v0.30.4: <br>\r\n1、提供mips64el支持<br>\r\n2、增加app端系统图标显示 <br>\r\n3、其它优化<br>\r\n\t\r\n### 2021-11-06更新到v0.30.3: <br>\r\n1、修复app端内存占用只显示jvm不包含native的BUG<br>\r\n2、优化网络引擎，提升高并发下的稳定性及公平性 <br>\r\n\t\r\n### 2021-10-17更新到v0.30.2: <br>\r\n1、自定义代理支持ssl验证<br>\r\n2、网络P2P情况下，支持配置成ssl隧道（ **要求服务端必须配置证书** ）<br>\r\n```\r\n<app-parameter>\r\n  <ssl-tunnel-required value=\"first\" /><!-- 取值有3个：none、first、only -->\r\n  ...\r\n</app-parameter>\r\n```\r\n3、其他优化<br>\r\n\t\r\n### 2021-09-24更新到v0.30: <br>\r\n1、提供了Android服务端开机自启动支持(仅服务端模式，且需要自行手动授权)<br>\r\n2、网络P2P情况下，Android服务端支持实时音频（麦克风权限需要自行手动授权，必须打开SG界面才能录音）<br>\r\n3、其他优化<br>\r\n\r\n### 2021-05-03更新到v0.29.2: <br>\r\n1、修复Android高版本无法退出问题<br>\r\n2、优化网络:修复了可能带来网络延迟的BUG，进一步提升网络传输速度<br>\r\n3、提供版本号展示，便于客户端及服务端版本管理<br>\r\n4、优化app cpu占用，降低能耗<br>\r\n\r\n### 2021-03-05更新到v0.29: <br>\r\n1、修复ipv6与ipv4网络切换存在的服务端core-dump问题<br>\r\n2、客户端新增ipv4-only网络模式选项，用于在ipv6网络环境下由于特殊需求需要使用ipv4进行p2p连接的场景（强制使用ipv4进行网络穿透）<br>\r\n3、其它一些bug修复<br>\r\n注意：特定场景下由于存在core-dump的致命问题，0.29版本需要同时更新客户端及服务端\r\n\t\r\n### 2020-12-13更新到v0.28: <br>\r\n1、自定义代理增加token支持，防止非法访问。同时支持配置访问许可列表(access-token只能输入数字,access-restricting可输入允许的SID，多个SID用“:”分隔,access-restricting可不配) <br>\r\n A、代理服务器配置：\r\n ```\r\n <app-parameter>\r\n  <proxy-service-port value=\"9001\"/>\r\n  <access-token value=\"nnnnn”\"/>\r\n  <access-restricting value=\"xxxxx\"/>\r\n  …\r\n </app-parameter>\r\n ```\r\n B、服务端配置(token必须与代理服务器一致):\r\n ```\r\n <channel address=\"x.x.x.x:9001\" ssl=\"true\" token=\"nnnnn\" />\r\n```\r\n2、对于隧道超时断开机制做了优化（仅针对P2P隧道及用户代理隧道）：只要有连接接入且连接正常情况下客户端会随机时延发送心跳，尽量防止超时断开。 <br>\r\n 场景：ssh访问时，较长时间不输入会保持心跳，不至于1两分钟空闲就断开了。\r\n\r\n### 2020-05-23更新到v0.27：<br>\r\n1、去掉root权限获取功能，保持最低权限要求。暂不开发支持配置1024以下端口的能力<br>\r\n2、由于自用树莓派被孩子摔坏了，只能压榨淘汰手机剩余价值，Android app端增加“服务端模式”支持，可以放在家中作为服务器<br>\r\n\r\n### 2020-04-30更新到v0.26：<br>\r\n1、修复IP切换时配置的HTTP服务可能不可用的问题<br>\r\n~~2、对已root手机，尝试获取root权限，支持配置1024以下的保留端口~~<br>\r\n3、解决绝对路径执行（多为开机启动脚本）且不指定-f参数时无法定位默认配置文件问题<br>\r\n4、服务端增加HTTP基于内容替换选项（影响效率，忽略压缩数据。对于部分js中将ip端口返回到浏览器的不规范内网web应用），默认不过滤内容<br>\r\n```\r\n\t……\r\n\t<moudle-parameter>\r\n\t\t<http-content-type-filter value=\"application/javascript\" />\r\n\t\t……\r\n\t<moudle-parameter/>\r\n\t……\r\n```\r\n5、服务端增加指定P2P协商端口选项，默认选择随机端口<br>\r\n```\r\n\t……\r\n\t<moudle-parameter>\r\n\t\t<negotiation-port value=\"xxxxx\" />\r\n\t\t……\r\n\t<moudle-parameter/>\r\n\t……\r\n```\r\n6、增加“官方代理”开关，默认打开。关闭时在任何情况下都不会走官方代理转发数据<br>\r\n### 2020-03-13：<br>\r\n1、修复tcp-cork特定条件下丢失writable-event造成网络延迟的BUG<br>\r\n2、提升内存池运行性能<br>\r\n3、增加 -f 命令行参数，可指定配置文件全路径<br>\r\n4、其它优化，版本保持不变<br>\r\n### 2020-01-18更新到v0.25：<br>\r\n1、修复 http代理失效 BUG<br>\r\n2、app端提供ipv6地址显示<br>\r\n3、版本更新到0.25<br>\r\n### 2019-11-30更新到v0.24：<br>\r\n1、花生壳支持UDP了？好吧，支持一下UDP端口转发，游戏串流的朋友可以试用一下<br>\r\n2、支持 UDP over TCP 模式<br>\r\n3、其它小的优化<br>\r\n### 2019-11-03：<br>\r\n1、修复 memory leak BUG<br>\r\n2、其它小优化，版本保持不变<br>\r\n3、提升P2P重连可靠性<br>\r\n### 2019-09-30更新到v0.23：<br>\r\n1、修复弱网络环境下windows服务端高CPU占用BUG<br>\r\n2、整体提升网络传输速度<br>\r\n### 2019-09-20更新到v0.22：<br>\r\n1、提升P2P检测可靠性<br>\r\n2、修复windows下特定情况无法进行P2P连接的BUG<br>\r\n3、客户端提供了手动p2p重连功能（弱网络环境下自动重连可能失败，此时可以手动重连）\r\n### 2019-09-15：<br>\r\n1、进一步降低在低速率下服务端cpu占用率<br>\r\n2、常规优化，版本保持不变<br>\r\n### 2019-09-10更新到v0.21：<br>\r\n1、优化网络性能<br>\r\n2、客户端支持显示实时网速<br>\r\n### 2019-09-05：<br>\r\n1、解决客户端修改密码后自动登录失败的BUG<br>\r\n2、提供自动登录超时控制<br>\r\n### 2019-09-01更新到v0.20：<br>\r\n1、优化连接检查性能（提供并行异步检测）<br>\r\n2、支持将HTTPS代理到HTTP（客户端http访问，服务端为https）<br>\r\n### 2019-08-18更新到v0.19：<br>\r\n1、性能优化<br>\r\n2、解决特定条件下(自定义路由)无法可靠断开服务端连接的BUG<br>\r\n3、进行静态编译，不再依赖inux系统gcc动态库，可直接在alpine中运行（需要创建软连接）<br>\r\n4、支持编译为mini版本，不再静态编译openssl；对openssl库从0.9.8~1.1.1的全系动态兼容，二进制包缩小为1M左右（已放入dynamic目录，需配置ssl库）<br>\r\n### 2019-05-27更新到v0.18：<br>\r\n1、性能优化<br>\r\n2、提供ipv6 P2P开关机制：&lt;ipv4-tunnel-first value=\"false\"/&gt; 如需关闭ipv6点对点则设置为“true”，默认值为“false”<br>\r\n3、增加客户端ipv6标志及连接状态提示<br>\r\n### 2019-05-21：<br>\r\n1、修复Raspbian jessie下无法检测IPv6的BUG<br>\r\n### 2019-05-16更新到v0.17：<br>\r\n1、性能优化<br>\r\n2、提供P2P断开重连机制<br>\r\n### 2019-05-04：<br>\r\n1、修复服务端在挂载私有路由时当线程数量<4时偶发CPU高占用的BUG，版本保持不变<br>\r\n### 2019-04-23更新到v0.16：<br>\r\n1、修复服务端在挂载私有路由时偶发core dump的BUG<br>\r\n### 2019-04-16更新到v0.15：<br>\r\n1、修复IPV4/IPV6网络切换，无法P2P的BUG<br>\r\n### 2019-04-15更新到v0.14：<br>\r\n1、解决网络切换重连失败问题<br>\r\n2、引擎性能优化<br>\r\n3、新增对IPv6防火墙穿透支持（移动端支持ipv6，且内网服务端支持ipv6）<br>\r\n【重要提示】v0.14版本将于之前版本不兼容，请务必更新版本！！！<br>\r\n### ....初始版本v0.13<br>\r\n</details>\r\n"
        },
        {
          "name": "res",
          "type": "tree",
          "content": null
        },
        {
          "name": "server",
          "type": "tree",
          "content": null
        },
        {
          "name": "windows_x86v0.40.4.tar",
          "type": "blob",
          "size": 3235,
          "content": null
        }
      ]
    }
  ]
}