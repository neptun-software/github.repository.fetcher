{
  "metadata": {
    "timestamp": 1736561496192,
    "page": 8,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjEw",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "deployd/deployd",
      "stars": 4975,
      "defaultBranch": "master",
      "files": [
        {
          "name": ".github",
          "type": "tree",
          "content": null
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.34765625,
          "content": "lib-cov\n*.seed\n*.log\n*.csv\n*.dat\n*.out\n*.pid\n*.gz\n*.tgz\n\npids\nlogs\nresults\n.DS_Store\n/node_modules\nnpm-debug.log\ntest/support/keys.json\ntest/support/proj\ntest-app/data\nbin/mongo\nbin/node\nexamples/test/data\n.latestversion\n\n!bin/createtemplate/**\ntest-app/node_modules\n!test-app/node_modules/hello.js\n!test-app/node_modules/proxy\n\npackage-lock.json\nyarn.lock"
        },
        {
          "name": ".gitmodules",
          "type": "blob",
          "size": 0,
          "content": ""
        },
        {
          "name": ".jshintignore",
          "type": "blob",
          "size": 0.1787109375,
          "content": "node_modules/**\ntest-app/**\nclib/*.min.js\nclib/socket.io.js\nlib/resources/collection/dashboard/js/lib/**\nlib/resources/dashboard/js/lib/**\nlib/resources/dashboard/bootstrap/**\ntest/**"
        },
        {
          "name": ".jshintrc",
          "type": "blob",
          "size": 0.1865234375,
          "content": "{\n\n  \"node\": true,\n  \"laxcomma\": true,\n  \"expr\": true,\n  \"proto\": true,\n  \"lastsemic\": true,\n  \"laxbreak\": true,\n  \"globals\": {\n    \"Promise\": true\n  },\n  \"unused\": \"vars\",\n  \"undef\": true\n}\n"
        },
        {
          "name": ".npmignore",
          "type": "blob",
          "size": 0.2470703125,
          "content": "lib-cov\n*.seed\n*.log\n*.csv\n*.dat\n*.out\n*.pid\n*.gz\n*.tgz\n\npids\nlogs\nresults\n.DS_Store\n/node_modules\nnpm-debug.log\ntest/support/keys.json\ntest/support/proj\ntest-app/data\nbin/mongo\nbin/node\nexamples/test/data\n.latestversion\n\n!bin/createtemplate/**\n\n.github"
        },
        {
          "name": ".travis.yml",
          "type": "blob",
          "size": 0.16015625,
          "content": "language: node_js\ncache:\n  directories:\n    - node_modules\nsudo: false\nservices: mongodb\nnode_js:\n  - \"11\"\n  - \"10\"\n  - \"9\"\n  - \"8\"\n  - \"7\"\n  - \"6\"\n  - \"5\"\n  - \"4\"\n"
        },
        {
          "name": "CHANGELOG.md",
          "type": "blob",
          "size": 21.8837890625,
          "content": "# Change Log\n\nAll notable changes to this project will be documented in this file. See [standard-version](https://github.com/conventional-changelog/standard-version) for commit guidelines.\n\n<a name=\"1.2.0\"></a>\n# [1.2.0](https://github.com/deployd/deployd/compare/v1.1.2...v1.2.0) (2019-04-08)\n\n\n### Features\n\n* Allow custom express handler after deployd middleware ([#869](https://github.com/deployd/deployd/issues/869)) ([81b84b1](https://github.com/deployd/deployd/commit/81b84b1))\n\n\n\n<a name=\"1.1.3\"></a>\n## [1.1.3](https://github.com/deployd/deployd/compare/v1.1.2...v1.1.3) (2019-03-12)\n\n### Bug Fixes\n\n* Fix big numbers being parsed into integers when it wasn't safe to do so ([#873](https://github.com/deployd/deployd/issues/873))\n\n  Documents could have a generated id that is only composed of numbers. Deployd automatically tries to convert parameters that look like numbers to JS numbers with `parseInt`. For big numbers this isn't safe and could result in the numbers being changed.\n\n  This fixes this problem by leaving the numbers strings when they are too big to be safe numbers.\n\n### Chore:\n\n* Dependency updates\n\n### Breaking Changes ⚠️\n\n* Node.js below version 4.0.0 not officially supported any longer\n\n<a name=\"1.1.2\"></a>\n## [1.1.2](https://github.com/deployd/deployd/compare/v1.1.1...v1.1.2) (2017-12-19)\n\n\n### Bug Fixes\n\n* don't overwrite http headers with defaults ([#851](https://github.com/deployd/deployd/issues/851)) ([c6d8fdb](https://github.com/deployd/deployd/commit/c6d8fdb))\n\n\n\n<a name=\"1.1.1\"></a>\n## [1.1.1](https://github.com/deployd/deployd/compare/v1.1.0...v1.1.1) (2017-11-07)\n\n\n### Bug Fixes\n\n* **internal-resources:** namespaced resources could not be moved/renamed into other namespaces ([fa4cc64](https://github.com/deployd/deployd/commit/fa4cc64))\n\n\n<a name=\"1.1.0\"></a>\n## [1.1.0](https://github.com/deployd/deployd/compare/v1.0.0...v1.1.0)  (2017-11-04)\n\n**Notes:** [dpd-dashboard](https://www.npmjs.com/package/dpd-dashboard) and [dpd-clientlib](https://www.npmjs.com/package/dpd-clientlib) now follow semver too. Please update their semver ranges in your project to `^1.0.0`\n\n### Bug Fixes\n\n- **tests:**\n  - run tests on random mongo port and update for new mocha/npm (#831)\n  ([4331b3c2](https://github.com/deployd/deployd/commit/4331b3c26c30cc19e636aaef1e409d1ac84ba107))\n\n### Features\n\n- Allow specifying resources in subdirectories/namespaces. (eg. namespace/hello) (#832)\n  ([4d22465b](https://github.com/deployd/deployd/commit/4d22465b6e526f1bff832cb12e4f8137e372677a))\n\n  #### Details:\n\n   What this does is allow structuring resources in subdirectories. (eg clientapi/users, clientapi/photos, clientapi/v2/followers, etc)\n\n  This greatly improves the structure of projects, allowing easier separation of functions into their own separate concerns. \n\n  Each can have its own separate event code and deployd will handle the routing. This should work for any resource type.\n\n### Documentation\n\n- Update readme with some best practices (#833)\n  ([/aafd3fc5](https://github.com/deployd/deployd/commit/aafd3fc5349ee66a27e558c7662321a40d48ba0e))\n\n\n<a name=\"v1.0.0\"></a>\n## v1.0.0 (2017-09-19)\n\n\n### Bug Fixes\n\n- **collection:** protect and hide should not modify `this` (#782)\n  ([a9fdc4cf](https://github.com/deployd/deployd/commit/a9fdc4cf4211765097cdf5e7aad19f682a62148c))\n- **internal-client:** add req.resume() (#785)\n  ([5e2c7813](https://github.com/deployd/deployd/commit/5e2c781333fd7d41a101e8aa5a2e9793b0f8d803))\n- add socketIo check (#802)\n  ([ce04ddee](https://github.com/deployd/deployd/commit/ce04ddeeedd2c5267d556a6b6ff9938dce7c1db4))\n- fix: server.attach() did not enable socket clustering (#777)\n  ([04bb24a2](https://github.com/deployd/deployd/commit/04bb24a23e4ab0f10651f51367142bd8c18fbf30))\n\n### Breaking Changes ⚠️\n\n  - refactor: remove dpd cli from deployd core module (#776)\n    ([626d4ad6](https://github.com/deployd/deployd/commit/626d4ad69cf32c7c92a91083ff8626ee95313c1a))\n  - refactor(*): remove dashboard and clientlib from deployd core module (#783)\n    ([c9d0a91d](https://github.com/deployd/deployd/commit/c9d0a91d201888cb13f7c2c5b1e3f3d7d8fd31fb))\n\n    ℹ️ A migration guide is available in the [readme](README.md#migration-guide-to-v1.0.0)\n\n<a name=\"v0.8.10\"></a>\n## v0.8.10 (2017-09-19)\n\n\n### Bug Fixes\n\n- **Dependencies:** Fix: Force mime version v1.4.0\n  ([1514b8decc4](https://github.com/deployd/deployd/commit/1514b8decc4db06ffdea2928f746e21b638c14a5))\n\n\n<a name=\"v0.8.9\"></a>\n## v0.8.9 (2016-08-29)\n\n\n### Bug Fixes\n\n- **db:** convert skip/limit arg to integer\n  ([86e6f5f6](https://github.com/deployd/deployd/commit/86e6f5f6a06d1c338974735d237fc9d8f33c8ec9))\n- **package:**\n  - pin mongodb to 2.1.18 (upstream bug) (#740)\n  ([79ed7b77](https://github.com/deployd/deployd/commit/79ed7b779be53ec2b45c8b62a972e8e74eb064af))\n  - pin mongodb to 2.1.x (#739)\n  ([d07f3ca4](https://github.com/deployd/deployd/commit/d07f3ca49640b90401b30ae7383870c50b9b44be))\n- **user-collection:** ensure password is a string\n  ([e81c6c7b](https://github.com/deployd/deployd/commit/e81c6c7bc3b28c1c2fddee8c85014724356ca8bb),\n   [#735](https://github.com/deployd/deployd/issues/735))\n\n\n<a name=\"v0.8.8\"></a>\n## v0.8.8 (2016-01-18)\n\n### Refactor\n\n- **session:** use socket.io rooms for emitToUsers ([ff5f840c95](https://github.com/deployd/deployd/commit/ff5f840c9514679f9161af146266d83f3a4f16af))\n\n### Bug Fixes\n\n- **dpd.js:** use encodeURIComponent\n  ([8d58a12e](https://github.com/deployd/deployd/commit/8d58a12e9e0031da73970d6079c4dd2d525b3838))\n- **repl:** update outdated property name\n  ([05f731c8](https://github.com/deployd/deployd/commit/05f731c88cd6bbbfedf79b2fb2b4d17c9860ed21),\n   [#680](https://github.com/deployd/deployd/issues/680))\n- **session:**\n  - memory leak\n  ([a5e572a2](https://github.com/deployd/deployd/commit/a5e572a2504bc7f8230565be574d2107883fe1b1))\n  - use update for updating sessions, not remove and insert\n  ([3965ed3b](https://github.com/deployd/deployd/commit/3965ed3b59ffb05130a2c7f986e3296a6df22a83))\n- **test:** allow some time for sessions to be cleaned up\n  ([ca0ca85e](https://github.com/deployd/deployd/commit/ca0ca85eed723436ebcfc2674e420c79d1fe1d96))\n\n\n### Performance Improvements\n\n- **script:** memoize dynamic function\n  ([ff6a4dce](https://github.com/deployd/deployd/commit/ff6a4dceee02401d67d4ba1348648cc55ebc13fb))\n\n\n<a name=\"v0.8.7\"></a>\n## v0.8.7 (2015-10-30)\n\n\n### Bug Fixes\n\n- **dpd:**: dpd CLI was crashing (shelljs global missing)\n  ([e1729f2d88](https://github.com/deployd/deployd/commit/e1729f2d887ed28d1bf7cdde123471a2b200e91f))\n\n\n<a name=\"v0.8.6\"></a>\n# v0.8.6 (2015-10-29)\n\n\n### Bug Fixes\n\n- **User-collection:**\n  - prevent crash on invalid user for session (thx @nicholasareed)\n  ([4183b7c9](https://github.com/deployd/deployd/commit/4183b7c904889b70b703ac7324f40bb1cc457ca0))\n  - Server crashes if password is number (thx @docnoe)\n  ([52212427](https://github.com/deployd/deployd/commit/52212427bb80a46ac1a1afdf46316308c9ca9a4c))\n- **collection:** can't rename or delete new, empty collection (thx @docnoe)\n  ([49f769600](https://github.com/deployd/deployd/commit/49f7696006461c2f4c07ec8bd6b04c277b405669))\n- **Dashboard:** Property types in dashboard are sortable (thx @docnoe)\n  ([ab7cec630](https://github.com/deployd/deployd/commit/ab7cec6302a901c6f73612b610ac6b559ad1081f))\n\n### Chore\n\n  - **Dependency Update:**\n    - qs to version 5.2.0\n    - shelljs to version 0.5.3\n    - grunt-contrib-jshint to version 0.11.3\n    - sinon to version 1.17.1\n    - request to version 2.65.0\n  - **Cleanup**: request to version 2.65.0\n  ([0adf309a5](https://github.com/deployd/deployd/commit/0adf309a5325949144a1f617f2fd5673ab4b7060))\n  - **Build**: Our tests now run on NodeJS 4.2\n  ([a5687dc352](https://github.com/deployd/deployd/commit/a5687dc352819a6278d01364bbf97ed003d7cecf))\n\n\n\n<a name=\"v0.8.5\"></a>\n## v0.8.5 (2015-08-05)\n\n\n### Bug Fixes\n\n- **bin/dpd:** prevent process quit when latestversion is not writable\n  ([d8a507d5](https://github.com/deployd/deployd/commit/d8a507d560d0c013ee32f501d3137579b682498d))\n- **collection:** object queries on booleans would be converted to false\n  ([84a1d039](https://github.com/deployd/deployd/commit/84a1d039833a023e22b98d5f4707f131d2f4f8d9))\n- **internal-client:** add null check for ctx\n  ([d3ccf38f](https://github.com/deployd/deployd/commit/d3ccf38ffd3c79afc8d6cb5c4a100ee0a2ba4472))\n- **session:** improve how socket.io connection to finds session\n  ([bb05ce4a](https://github.com/deployd/deployd/commit/bb05ce4a9f076d0c2b3c23c2438a8a70ee2dab56))\n- **user-collection:** null check to prevent crash\n  ([36c4ec2d](https://github.com/deployd/deployd/commit/36c4ec2df705278cdb7de16c774bd3b938b35a1d))\n\n\n### Features\n\n- **collection:**\n  - add BeforeRequest event\n  ([4960d07f](https://github.com/deployd/deployd/commit/4960d07fbade755470ee6d7ff29b9ccc7645c941))\n  - Add Collection.extendDomain()\n  ([450b8ada](https://github.com/deployd/deployd/commit/450b8adae23770ff7899fe8dceef971cdcb539c9))\n  - Add `previous` to AfterCommit event\n  ([fd8c9750](https://github.com/deployd/deployd/commit/fd8c9750922ebfeb35ab9b9c31ba9056c3687bf5))\n- **http:**\n  - option to allow dpd-ssh-key via CORS\n  ([2f795565](https://github.com/deployd/deployd/commit/2f795565036a20b731bfd0d0d3bdaa8fea3f5140))\n  - cache OPTIONS request for 5 minutes\n  ([89cd1f02](https://github.com/deployd/deployd/commit/89cd1f023fddee118162d4efc055d8409fd9e899))\n- **internal-client:**\n  - allow access to underlying resource from dpd internal client\n  ([d478b348](https://github.com/deployd/deployd/commit/d478b348d62be16fa2801aaff5f40d376fb9f193))\n  - pass through headers and connection from caller\n  ([9a1cefc0](https://github.com/deployd/deployd/commit/9a1cefc0865412fedc14bf158b07ea595ca4a3e4))\n- **script:**\n  - improve cancel()\n  ([ea2bb011](https://github.com/deployd/deployd/commit/ea2bb0110a2aa55e9127a5547d943577eb79fb22))\n  - $addCallback $finishCallback\n  ([d8dbf3b0](https://github.com/deployd/deployd/commit/d8dbf3b0f3b0dfc6d0e0b18913c67f84814cafc1))\n\n\n<a name=\"v0.8.4\"></a>\n## v0.8.4 (2015-05-26)\n\n- **chore:** update mongo and socket.io\n\n\n<a name=\"v0.8.3\"></a>\n## v0.8.3 (2015-05-26)\n\n\n### Bug Fixes\n\n- **UserCollection:** `onGet` event can break session handling\n  ([74f23631](https://github.com/deployd/deployd/commit/74f2363141defd66b969a8ad84e2a0932f5c57ff))\n- **db:** Properly report database connection issues\n  ([25308f89](https://github.com/deployd/deployd/commit/25308f8941bd63b91d0174015d0d58a3fa3dddeb))\n- **http:**\n  - allow X-Session-* headers through CORS response\n  ([e8aa28b3](https://github.com/deployd/deployd/commit/e8aa28b34ba801d77347d1f5967e705957d83aad))\n  - Allow CORS authorization header (for non-cookie auth)\n  ([f6c13c96](https://github.com/deployd/deployd/commit/f6c13c964c021840a15936c2bca1d1933e273cf3))\n- **internal-resource:** handle errors in type events\n  ([7cec886c](https://github.com/deployd/deployd/commit/7cec886c7adde990b332f1c004d1b761e14d9274))\n- **session:** socket disconnection after login\n  ([56fe4d83](https://github.com/deployd/deployd/commit/56fe4d835d20026c1a46ae12a0a8f7e4f5562700))\n- **store:** add error handling in callbacks\n  ([0bbce4e7](https://github.com/deployd/deployd/commit/0bbce4e7940b84e96050a7cccbe304fc80656e02))\n- **user-collection:** do not allow empty passwords on PUT/POST\n  ([fa076553](https://github.com/deployd/deployd/commit/fa07655318f89e1793a0d12772f1e165421cada9))\n\n  **NB:** There's a breaking change for an undocumented feature: due to the CORS improvements, all unknown origins will be rejected for CORS requests.\nFor more info, please refer to [this message](https://github.com/deployd/deployd/pull/572#issuecomment-103904502)\n\n### Features\n\n- **collection:** add AfterCommit event\n  ([1d6bec51](https://github.com/deployd/deployd/commit/1d6bec51e791b894c6dfa8286401045be709c93f))\n- **dashboard:** height of code editor should fill window\n  ([7ed76106](https://github.com/deployd/deployd/commit/7ed761069596bef0e7572b977be8196b1d54f15a))\n- **session:** allow multiple sockets per sessions And add options.origins\n  ([f67ee1ec](https://github.com/deployd/deployd/commit/f67ee1ecc59fd8825059793462fab40fc89d2faf))\n\n## 0.8.2 (2015-04-23)\n\n### Bug Fixes\n\n- **collection:** should not crash on deleting non existent id\n  ([1b85c2127c](https://github.com/deployd/deployd/commit/1b85c2127c0badda706e34e10522e20dbd7bd879))\n\n## 0.8.1 (2015-04-22)\n\n### Bug Fixes\n\n- **UserCollection:** res.cookies not available from internal client\n  ([5717c4d1](https://github.com/deployd/deployd/commit/5717c4d124060bcb41a794ceeec1a84ed4ca1597))\n- **cli:**\n  - dpd keygen fails when .dpd folder doesn't exist\n  ([b5a6fd5b](https://github.com/deployd/deployd/commit/b5a6fd5b5eebdbc755153cc58234459aeabef908))\n  - bug515 correct wrong error message when deployd crashes\n  ([59af175c](https://github.com/deployd/deployd/commit/59af175c5c40e210828a2aa6ea71cad459d0f8c2))\n- **dashboard:** use ejs delimiter instead of open and close tag\n  ([776e17cf](https://github.com/deployd/deployd/commit/776e17cfa8b1263373ddf9ef6c1336d8af37315c))\n- **delete:** call Delete event for every record matched\n  ([462c6766](https://github.com/deployd/deployd/commit/462c6766351a1bbac86d730d58f272ca98869527))\n- **dpd.js:** dpd.socket null\n  ([5331ac39](https://github.com/deployd/deployd/commit/5331ac397400e0c6c11a6caee3ea1d1d3cefa58b))\n- **script:** memory leak and performance improvement\n  ([578bd28d](https://github.com/deployd/deployd/commit/578bd28d0feee81caa1bcb7045c259b8e0d44797))\n- **server:** allow request.rawBody for middlewares\n  ([59fbdbab](https://github.com/deployd/deployd/commit/59fbdbab1760bafe043a4f4e4dfef851ac02c7c8),\n   [#519](https://github.com/deployd/deployd/issues/519))\n- **user-collection:** crash when password is not specified in login\n  ([65f4170b](https://github.com/deployd/deployd/commit/65f4170b7881ebb01ba50c4ee47fae22f3fe001e))\n\n## 0.8.0\n\n### Bug Fixes\n- **typeload:** load custom resources from package.json if exists\n  ([f1f0738](https://github.com/deployd/deployd/commit/f1f0738942941b16075fde42ef62dfde6f77bc51))\n- **attach.js:** mkdir resourcesPath if not exists\n  ([55cf4b36](https://github.com/deployd/deployd/commit/55cf4b366ce951512dac0f06b8fbbcc297c6486a))\n- **collection:**\n  - $push should work with arrays when inserting new records\n  ([077c2b97](https://github.com/deployd/deployd/commit/077c2b97cffee6c14f4f10391c3f78b7055aae8d))\n  - allow changed() function to work properly with collection properties of type object.\n  ([46f518dc](https://github.com/deployd/deployd/commit/46f518dc876e723c6c87c70a87b6ef7278b6dab4))\n- **config-loader:** improve the 'resources' dir reading\n  ([67218018](https://github.com/deployd/deployd/commit/672180182306eb305df09e7242af691cdc62235c))\n- **db:**\n  - update/delete should return count of records affected\n  ([6a8caad8](https://github.com/deployd/deployd/commit/6a8caad83e571bf82fdaab3c7bff58cab6d25d42))\n  - Should not crash process when an invalid $fields query is passed.\n  ([ca68e153](https://github.com/deployd/deployd/commit/ca68e1531e5f692e29b9f67f35540faeb7b60a45))\n- **internal-client:** exec resource.path is missing\n  ([c1acee8e](https://github.com/deployd/deployd/commit/c1acee8e6ff8de4b5ad1da3bf2dd1f726db0e68c))\n- **script:** null values in domain were changed to {}\n  ([26311eea](https://github.com/deployd/deployd/commit/26311eea7b0d47bec66f113fca1b1f13bd89ae86))\n- **session:** correct usages of an emit queue.\n  ([53b226ad](https://github.com/deployd/deployd/commit/53b226ad09b56006ff15edb783a6b5bf5b3f6301))\n- **session.js:** Refactor session creation code to use promises in order to fix a possible race condition while inserting a session to the database.\n  ([3080de2f](https://github.com/deployd/deployd/commit/3080de2faaeee6dc2d22e6e8f201b60cbf26bff2))\n- **tests:** call done() properly from async function\n  ([061f16de](https://github.com/deployd/deployd/commit/061f16de29e1ad81e35b817ce72ff604e61d3a77))\n- correctly delete cookies, update cookies-dependency\n\n\n### Features\n\n- **collection:** $addUnique for MongoDB $addToSet support (from yoneal PR #252)\n  ([730e980e](https://github.com/deployd/deployd/commit/730e980ec4c1ccaa9b9fc894fba6ee98c2bbcc27))\n- **config-loader server:** customize server and public dirs through options\n  ([f17d296d](https://github.com/deployd/deployd/commit/f17d296dd879c99222756610fe5604490289d5df))\n- **core:** wait for promises in events\n  ([964ec452](https://github.com/deployd/deployd/commit/964ec452619e7da7a7f5ce0f87fb6d334dbc21cd))\n- **dashboard:** sort sidebar resources in alphabetical order\n  ([4cf89a63](https://github.com/deployd/deployd/commit/4cf89a63436179fe26d5af5d9b6e204b43cda606))\n- **events:** Expose ctx object to the event scripts\n  ([c0b39d3a](https://github.com/deployd/deployd/commit/c0b39d3ae6247a4631647bdf865534931981bf1f))\n- **server:** add deployd.attach to extend http/expressjs/connect server and provide a middleware\n  ([29cf94b4](https://github.com/deployd/deployd/commit/29cf94b48bd01ec805ab156f7a33ac426ca598a0))\n- **session:** get session by uid\n  ([ffb33bf5](https://github.com/deployd/deployd/commit/ffb33bf58ba60378de6e30104a4fd54351285175))\n- **dpd.js** add promises to client library\n\n## 0.7.0\n\n - Add ability to query by subproperty within GET event\n - Add X-Requested-With header for AngularJS support\n - Add auto https support to dpd.js client lib\n - Removed Forever Monitor support from CLI\n - Fix bug with repl causing typed characters to be printed twice and not executed correctly\n - Fix bug where dashboard would not load if a config had not yet been created\n - Fix issue where number query params for string type properties were not being converted to strings on server\n - Fix MongoDB startup and settings\n - Add check for $inc operands to ensure numbers before attempting to increment\n - Add more core tests, and features to make mocking\n easier within tests\n\n\n\n## 0.6.11\n\n - Fixed bug where missing content-type header when updating a user threw an error.\n\n## 0.6.10\n\n - Fixed bug where query strings were not properly parsed.\n - Fixed certain errors returned as HTML rather than JSON.\n - Fixed bug where changing a property type from \"number\" to \"string\" made existing properties uneditable.\n - Fixed bug where `changed()` was returning true for values that had not changed.\n - Fixed certain error's returned as HTML rather than JSON.\n - Data editor\n   - Fixed bug where data editor would expand as the page scrolls\n   - Fixed bug where the cursor would randomly move around while editing text\n   - Removed overlay for inline editing\n\n## 0.6.9\n\n - Fixed bug where `internal-client` was not accessible from modules\n - Fixed restarts caused by 404s of unexpected http verbs\n\n## 0.6.8\n\n - Fixed CORS incorrectly requiring a referer header\n - Added `dpd.once(name, fn)` function to execute a realtime handler exactly once\n - Added `dpd.off(name, [fn])` function to remove a realtime handler\n - Added `dpd.socketReady(fn)` function to listen for the built-in `connect` event\n - Added `dpd.socket` property to provide direct access to socket.io.\n - Fixed bug where username and password could be updated by an unauthenticated put.\n  - Usernames and passwords can be updated only by that user's session, a root session, or an internal request.\n - Made `data` folder smaller by default in `development` environment\n - Added `cancelIf()`, `cancelUnless()`, `errorIf()`, and `errorUnless()` functions to event API for more declarative events\n - Added `hasErrors()` function to event API\n - Added `isMe()` function to event API\n - Fixed external prototype bug causing custom external prototypes to fail\n - Removed docs from repository. They are now available at http://docs.deployd.com or https://github.com/deployd/docs.\n\n\n## 0.6.7\n\n - Added new data editor\n - Fixed major bug where calling error() would not always cancel the request\n - Fixed bug where PUT would fail without an error if you provided a query\n - Changed root behavior - no longer ignores cancel() in events\n - Fixed bugs preventing events from being `emit()`ed to users in certain connection states\n - Fixed bug where boolean query values (?bool=true) were not treated as booleans\n - Fixed unnecessary error when parsing JSON body\n - Added more intelligent body parsing\n - Added `changed()` method in collection events\n - Added `previous` object in collection events\n - Fixed `dpd showkey` prompt for missing keys.json\n\n## 0.6.6\n\n - Added CORS support\n - Exposed the server object to modules as `process.server`\n - Fixed a rare bug where the first request after a login would not be authenticated\n - Fixed minor bug when loading only node modules\n\n## 0.6.5\n\n - Fixed `process.send` bug\n - Remote DB Authentication\n\n## 0.6.4\n\n - Fixed incorrect Content-Length response header.\n\n## 0.6.3\n\n - Removed dependency on jQuery for dpd.js\n - JSON-formatted \"bad credentials\" login error\n - Improved error reporting on CLI when port is in use\n - If in development mode, and no port has been specifically requested, CLI will retry with up to 5 different ports\n - Fixed \"no open connections\" bug on startup\n - Renamed `Db.connect()` to `Db.create()`\n - Db connections are now lazy and only occur once a request is made\n - Added 500 and 404 error pages\n - Added module domain error handling for better module errors\n - Added automatic reloading on error\n - Dropped support for node 0.6\n\n## 0.6.2\n\n - Fixed rare but annoying bug where server would crash for no good reason (\"Cannot set headers\") on a request\n\n## 0.6.1\n\n - Bumped the default recursion limit to 2 levels\n - Fixed rare case where a resource's dashboard would not load\n - Fixed user events\n - Fixed several validation bugs\n - In a UserCollection /users/me will return 204 instead of 401\n\n## 0.6.0\n\n### Breaking Changes\n - Restructured Deployd app folder structure. Let us know if you need to migrate any 0.5 apps.\n - Changed the \"email\" property of a UserCollection to \"username\", in order to be less opinionated about user logic.\n\n### New Features\n - Rebuilt the dashboard\n  - You can now manage resources from any page on the dashboard. Navigation has also been improved\n  - You can now reorder properties in a collection\n - Added custom resource API. You can now write your own resources and include them in your app. See the [docs] for examples and reference.\n\n### Major Bugfixes\n - Fixed bug where your session could get elevated to root after using the Dashboard (causing cancel() in events to be ignored)\n"
        },
        {
          "name": "CONTRIBUTING.md",
          "type": "blob",
          "size": 7.0625,
          "content": "# Contributing to Deployd\n\nWe'd love to have your contribution to deployd. There are several ways to contribute:\n\n * Build an external module for deployd\n * Open bugs and feature requests for deployd core itself\n * Submit Pull Requests to deployd core\n * Help users on the [chat](https://gitter.im/deployd/deployd)\n\n## Questions or Issues?\n\n* [chat on Gitter](https://gitter.im/deployd/deployd): Best chance to find someone to help you\n* [Discussion on Google groups](https://groups.google.com/forum/?fromgroups#!forum/deployd-users)\n* [Q&A on stackoverflow](http://stackoverflow.com/questions/tagged/deployd)\n* [Submit a bug on github](https://github.com/deployd/deployd/issues/new): only report if it's a bug from deployd Code.\n\n### External Deployd Modules\n\nThe goal of the deployd core is to be as lightweight\nas possible, with simple APIs to build different\ntypes of extensions.\nIn order to make deployd extensions discoverable in\n[npm](http://npmjs.org), we recommend the\nfollowing naming conventions:\n\n * `dpd-module-xxx`, where `xxx` is the specific function\n    of this module. \"Module\" is the generic term for\n    anything that extends the functionality of deployd core.\n * `dpd-resource-email`, where `email` is a unique\n    resource name.\n    In deployd, resources are any kind of data or\n    functionality that is intended to be made available\n    to client applications.\n * `dpd-store-mongodb`, (Core API Pending) where\n    `mongodb` is a particular type of data store with\n    which to build deployd apps.\n * `dpd-deploy-computeengine`, (Core API Pending)\n    where `computeengine` is a deployment target\n    for this deployd app\n\nThe deployd documentation and dashboard will\nlikely implement features for discovering modules,\nwhich will rely heavily on these established\nnaming conventions.\n\n### Bugs\n\nHelping to identify and report bugs is one\nof the most helpful things folks can do to\ncontribute to deployd.\n\nSee [Submitting Issues](#submitting-issues) below\nfor instructions on filing helpful bug reports.\n\n### Feature Requests\n\nSubmitting feature requests is a helpful\nway to let the core team and the rest of\nthe deployd community know how others are\nusing deployd, and how to make it better.\n\nFeature requests should be submitted as\nissues or Pull Requests to the\n[Github repository](https://github.com/deployd/deployd).\n\n## Submission Guidelines\n\n### Submitting Issues\n\nTo help keep the issue count as low as it can be,\nit's important to first review closed issues and forum\npostings to make sure the issue is unreported and\nvalid.\n\nThe best place to report bugs or issues with deployd\nis on the [Github repository](https://github.com/deployd/deployd).\n\nWhen reporting a bug, it's important to include as\nsimple of an example as possible to help reproduce\nthe bug. Here are some helpful characteristics of a\nbug report:\n\n * A simple description of the expected behavior\n    and actual behavior\n * A failing unit test demonstrating the behavior\n * A small code example (such as a resource\n    configuration file) to show the failure\n * Which version of deployd-core, and versions of\n    third-party modules being used.\n\n### Submitting Pull Requests\n\nThese are the guidelines for submitting\npull requests for new features or bugs:\n\n * Verify that the PR is not a duplicate\n    to another PR\n * Make all changes in a new git branch\n * Follow the established\n    [Code Submission Standards](#code-submission-standards)\n * Follow the established\n    [Git Commit Guidelines](#git-commit-guidelines)\n * See [Submitting Your Changes](#submitting-your-changes)\n    for details on finally submitting a PR\n\n## Code Submission Standards\n\nTo ensure consistency in code style, keep these standards\nin mind as you work on code to submit to deployd:\n\n * All features or bug fixes must be tested by\n    one or more specs in the `test` directory\n * All public APIs must be documented in our\n    [docs](https://github.com/deployd/docs)\n * JSHint should be run against all changes\n    without warnings\n\n## Git Commit Guidelines\n\nWe have very precise rules over how our git commit messages can be formatted.\nThis leads to more readable messages that are easy to follow when looking through the project history.\nBut also, we use the git commit messages to generate the AngularJS change log.\n\n### Commit Message Format\n\nEach commit message consists of a **header**, a **body** and a **footer**.  The header has a special\nformat that includes a **type**, a **scope** and a **subject**:\n\n```\n<type>(<scope>): <subject>\n<BLANK LINE>\n<body>\n<BLANK LINE>\n<footer>\n```\n\nAny line of the commit message cannot be longer 100 characters! This allows the message to be easier\nto read on github as well as in various git tools.\n\n### Type\n\nMust be one of the following:\n\n* **feat**: A new feature\n* **fix**: A bug fix\n* **docs**: Documentation only changes\n* **style**: Changes that do not affect the meaning of the code (white-space, formatting, missing\n  semi-colons, etc)\n* **refactor**: A code change that neither fixes a bug or adds a feature\n* **test**: Adding missing tests\n* **chore**: Changes to the build process or auxiliary tools and libraries such as documentation\n  generation\n\n### Scope\n\nThe scope could be anything specifying place of the commit change. For example\n`server`, `router`, `user`, `collection`, `store`, etc...\n\n### Subject\n\nThe subject contains succinct description of the change:\n\n* use the imperative, present tense: \"change\" not \"changed\" nor \"changes\"\n* don't capitalize first letter\n* no dot (.) at the end\n\n###Body\n\nThe first line of the body should start with the text **BREAKING CHANGES:** if any are introduced\n\nJust as in the **subject**, use the imperative, present tense: \"change\" not \"changed\" nor \"changes\"\nThe body should include the motivation for the change and contrast this with previous behavior.\n\n###Footer\n\nReference GitHub issues that this commit **Closes**.\n\n## Submitting Your Changes\n\n1. Create and checkout a new branch off the master branch for your changes:\n\n   ```shell\n   git checkout -b my-fix-branch master\n   ```\n\n2. Create your patch, including appropriate test cases.\n\n3. Commit your changes in logical commits and create a descriptive commit message (the commit message is used to\n   generate release notes, please check out our [commit message conventions](#commit-message-format)):\n\n   ```shell\n   git commit -a\n   ```\n\n4. Push your branch to Github:\n\n   ```shell\n   git push origin my-fix-branch\n   ```\n\n5. In Github, send a pull request to `deployd:master`.\n\nThat's it! Thank you for your contribution!\n\nWhen the patch is reviewed and merged, you can safely delete your branch and pull the changes\nfrom the main (upstream) repository:\n\n```shell\n# Delete the remote branch on Github:\ngit push origin :my-fix-branch\n\n# Check out the master branch:\ngit checkout master\n\n# Delete the local branch:\ngit branch -D my-fix-branch\n\n# Update your master with the latest upstream version:\ngit pull --ff upstream master\n```\n\n## Maintainers Rebase Guide\n\nTo keep a flat and readable code history and revert easier, we rebase pull requests instead of merging them. Please use the github button \"Squash and merge\".\n![http://i.stack.imgur.com/cyHZY.png](http://i.stack.imgur.com/cyHZY.png)"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 7.7021484375,
          "content": "# deployd\n\n> the simplest way to build an api.\n\n⚠️  Deployd is not actively maintained anymore. Important bug fixes PRs will be merged (if properly tested and documented) but the existing maintainers don't have time and motivation to build new features.\n\n[![Gitter](https://badges.gitter.im/Join%20Chat.svg)](https://gitter.im/deployd/deployd)  [![Current Version](https://img.shields.io/npm/v/deployd.svg?style=flat-square)](https://www.npmjs.org/package/deployd) [![Build Status](https://img.shields.io/travis/deployd/deployd.svg?style=flat-square)](http://travis-ci.org/deployd/deployd)\n\n## overview\n\nDeployd is the simplest way to build realtime APIs for web and mobile apps. Ready-made, configurable Resources add common functionality to a Deployd backend, which can be further customized with JavaScript Events.\n\n## features\n\n - secure access to database APIs directly from untrusted clients (browser js, mobile apps, etc)\n - notify clients in realtime of events occurring within the database\n - user and session management\n - all APIs exposed over REST / HTTP\n - bundled browser JavaScript client\n - web socket authentication and session management\n - can be hosted by modern cloud platforms\n - support extension through node modules and npm\n\n[Read more about deployd](http://deployd.com)\n\n⚠️ Deployd v1.0.0 has been released. [Read the migration guide](#migration-guide-to-v1.0.0) below.\n\n## Requirements\n\nDeployd is built using node and published using npm.  \nTo install and use it, you need to install **[Node.JS](https://nodejs.org/en/download/)**.\n\n## quick start\n\n\t$ npm install deployd-cli -g\n\t$ dpd create hello\n\t$ cd hello\n\t$ dpd -d\n\n## Best Practices\n\n 1. Once you start writing anything serious, you should start your project using a node script instead of the `dpd` command. [Read more here](http://docs.deployd.com/docs/server/run-script.html). `Dpd` is only meant to be used as a quick prototyping tool.\n 2. You are encouraged to structure your resources in a hierarchy based on what they belong to. Since deployd 1.1.0 you can name your resources like the following example:\n\n    1. Assume your user collection is named `users`\n    2. Their associated photos could be in a collection named `users/photos`.\n    3. A potential [dpd-event](https://www.npmjs.org/package/dpd-event) script associated to photos could go in `users/photos/resize`.\n\n 3. Once your project grows, you may find yourself writing code in one place that you need elsewhere. Take a look at [dpd-codemodule](https://www.npmjs.org/package/dpd-codemodule) for this purpose.\n 4. Keep in mind that `deployd` comes with **absolutely no built-in access control checking**. Anyone can delete, read, or update any information from any collection unless you close this down. We recommend plugging in your permission checks in `On BeforeRequest` events, and/or other appropriate places.\n 5. The [dpd-clientlib](https://www.npmjs.org/package/dpd-clientlib) package is provided mostly as a convenience and should probably not be used directly in production. Once your project outgrows it, feel free to replace it with something else. You may use any HTTP library and/or [socket.io](https://www.npmjs.org/package/socket.io) client implementation to interact with deployd. Please see the documentation for more information.\n 6. You will find plugins for various sorts of tasks on [npm](https://www.npmjs.org/) if you search for `dpd`. Deployd plugins start with dpd-*name*\n 7. You can use `deployd` in a cluster configuration. In order for the socket.io adapter to be able to emit to clients on other cluster nodes, you will need to use Redis as a pub/sub server. See [here](https://github.com/deployd/deployd/pull/698) for more information.\n 8. Try not to run `dpd.somecollection.get()` type queries inside `On GET` handlers. \n    1. These can have severe performance implications especially when running queries that return multiple results, because each subquery will execute at least once for every document returned. \n    2. Instead you should put your logic in [dpd-event](https://www.npmjs.org/package/dpd-event) scripts that run as fewer queries as possible, and which concatenate the results using code. [lodash](https://www.npmjs.org/package/lodash) can be a good library to help with merging results.\n \n ## Other notes:\n \n - *emit to users* type calls that return multiple results (eg: `emit(dpd.users, {active: true}, 'postModified', this);`) are inefficient and should be avoided. Instead you should join sessions to rooms and emit to rooms instead. See PR [698](https://github.com/deployd/deployd/pull/698) for more info.\n - if you do not use [dpd-clientlib](https://www.npmjs.org/package/dpd-clientlib), keep in mind that you will need to associate the connected websocket with the session id after authenticating. You can do this by emitting a `server:setsession` message on the socket, with a payload of `{sid: 'sessionid'}`. You can get the session id by calling the `login` method of the user collection resource. See the documentation for more information.\n\n## Helpful Resources\n\n - [Docs](http://docs.deployd.com/)\n - [Getting Started Guide](http://docs.deployd.com/docs/getting-started/what-is-deployd.html)\n - [Hello World Tutorial](http://docs.deployd.com/docs/getting-started/your-first-api.html)\n - [API Docs](http://docs.deployd.com/api)\n - [Community Discussion Page](https://groups.google.com/forum/?fromgroups#!forum/deployd-users)\n - [Gitter Chat Page](https://gitter.im/deployd/deployd)\n - [Example Apps](http://docs.deployd.com/examples/)\n\n\n## Migration guide to v1.0.0\n\nv1.0.0 contains a big refactoring: the CLI, dashboard and client-lib has been extracted from the core to allow easier contributions and maintainability.  \nHere's a guide to help you migrate to v.1.0.0.\n\nIf you start your application [using a node script (recommended)](http://docs.deployd.com/docs/server/run-script.html), you just need to update the `deployd` dependency and add the missing ones (client-lib and dashboard).\n\n```bash\n$ npm install deployd@latest --save\n$ npm install dpd-dashboard dpd-clientlib --save-dev\n```\n\nIf you use the CLI to start your app (using `dpd` inside your app folder), you will need to uninstall the old global version of `deployd` and install `deployd-cli`.\n`npm uninstall deployd -g && npm install deployd-cli -g`\n\nIf you have trouble making it work, feel free to ask for help on [the chat](https://gitter.im/deployd/deployd).\n\n## install from npm\n\nOnce Node.JS is installed, open your terminal and type the following command:\n\n```bash\nnpm install deployd-cli -g\n```\n\nthe `dpd` command should be available. Type `dpd -V` and the current version should appear.\n\n## install on windows\n\nThe windows installer is deprecated. The recommended way is now npm (`npm install deployd-cli -g`) and [install mongodb](https://docs.mongodb.com/manual/tutorial/install-mongodb-on-windows/) separately.\n\n## install on macosx\n\nThe macosx installer is deprecated. The recommended way is now npm (`npm install deployd-cli -g`) and [install mongodb](http://docs.mongodb.org/manual/tutorial/install-mongodb-on-os-x/) separately.\n\n## install from source\n\n\tgit clone https://github.com/deployd/deployd.git\n\tnpm install\n\n## unit & integration tests\n\n\tcd deployd\n\tmongod &\n\tnpm test\n\n## license\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n        http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n    Copyright 2017 deployd llc\n"
        },
        {
          "name": "index.js",
          "type": "blob",
          "size": 0.3134765625,
          "content": "var Server = require('./lib/server')\n  , upgrade = require('doh').upgrade;\n\n/**\n * export a simple function that constructs a dpd server based on a config\n */\n\nmodule.exports = function (config) {\n  var server = new Server(config);\n  upgrade(server);\n  return server;\n};\n\nmodule.exports.attach = require('./lib/attach');\n"
        },
        {
          "name": "lib",
          "type": "tree",
          "content": null
        },
        {
          "name": "package.json",
          "type": "blob",
          "size": 1.240234375,
          "content": "{\n  \"name\": \"deployd\",\n  \"version\": \"1.2.0\",\n  \"author\": \"Ritchie Martori\",\n  \"license\": \"Apache-2.0\",\n  \"description\": \"the simplest way to build realtime APIs for web and mobile apps\",\n  \"repository\": {\n    \"url\": \"git://github.com/deployd/deployd.git\"\n  },\n  \"engines\": {\n    \"node\": \">= 4.0.0\"\n  },\n  \"main\": \"index\",\n  \"files\": [\n    \"lib\",\n    \"index.js\",\n    \"CHANGELOG.md\",\n    \"README.md\"\n  ],\n  \"dependencies\": {\n    \"async\": \"^2.6.2\",\n    \"bluebird\": \"^3.5.3\",\n    \"cookies\": \"^0.7.3\",\n    \"corser\": \"^2.0.1\",\n    \"debug\": \"^2.2.0\",\n    \"doh\": \"^0.0.4\",\n    \"mongodb\": \"^2.2.7\",\n    \"qs\": \"^6.2.1\",\n    \"request\": \"2.88.0\",\n    \"scrubber\": \"0.0.0\",\n    \"send\": \"^0.16.2\",\n    \"shelljs\": \"^0.8.3\",\n    \"socket.io\": \"^1.7.4\",\n    \"underscore\": \"^1.9.1\",\n    \"validation\": \"0.0.1\"\n  },\n  \"devDependencies\": {\n    \"chai\": \"^4.2.0\",\n    \"deployd-cli\": \"^2.0.0\",\n    \"less\": \"^3.9.0\",\n    \"mocha\": \"^5.2.0\",\n    \"mocha-jshint\": \"2.3.1\",\n    \"mocha-phantomjs\": \"^4.1.0\",\n    \"rewire\": \"~3.0.2\",\n    \"sinon\": \"^7.2.7\",\n    \"standard-version\": \"^4.4.0\"\n  },\n  \"scripts\": {\n    \"pretest\": \"npm link && cd test-app && npm install && npm link deployd\",\n    \"test\": \"mocha --timeout 5000 --exit && cd test-app && node runtests.js\",\n    \"release\": \"standard-version\"\n  }\n}\n"
        },
        {
          "name": "test-app",
          "type": "tree",
          "content": null
        },
        {
          "name": "test",
          "type": "tree",
          "content": null
        }
      ]
    }
  ]
}