{
  "metadata": {
    "timestamp": 1736563138390,
    "page": 62,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjcw",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "songquanpeng/one-api",
      "stars": 20740,
      "defaultBranch": "main",
      "files": [
        {
          "name": ".env.example",
          "type": "blob",
          "size": 0.0537109375,
          "content": "PORT=3000\nDEBUG=false\nHTTPS_PROXY=http://localhost:7890"
        },
        {
          "name": ".github",
          "type": "tree",
          "content": null
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.09765625,
          "content": ".idea\n.vscode\nupload\n*.exe\n*.db\nbuild\n*.db-journal\nlogs\ndata\n/web/node_modules\ncmd.md\n.env\n/one-api\n"
        },
        {
          "name": "Dockerfile",
          "type": "blob",
          "size": 1.0244140625,
          "content": "FROM --platform=$BUILDPLATFORM node:16 AS builder\n\nWORKDIR /web\nCOPY ./VERSION .\nCOPY ./web .\n\nWORKDIR /web/default\nRUN npm install\nRUN DISABLE_ESLINT_PLUGIN='true' REACT_APP_VERSION=$(cat VERSION) npm run build\n\nWORKDIR /web/berry\nRUN npm install\nRUN DISABLE_ESLINT_PLUGIN='true' REACT_APP_VERSION=$(cat VERSION) npm run build\n\nWORKDIR /web/air\nRUN npm install\nRUN DISABLE_ESLINT_PLUGIN='true' REACT_APP_VERSION=$(cat VERSION) npm run build\n\nFROM golang:alpine AS builder2\n\nRUN apk add --no-cache g++\n\nENV GO111MODULE=on \\\n    CGO_ENABLED=1 \\\n    GOOS=linux\n\nWORKDIR /build\nADD go.mod go.sum ./\nRUN go mod download\nCOPY . .\nCOPY --from=builder /web/build ./web/build\nRUN go build -trimpath -ldflags \"-s -w -X 'github.com/songquanpeng/one-api/common.Version=$(cat VERSION)' -extldflags '-static'\" -o one-api\n\nFROM alpine\n\nRUN apk update \\\n    && apk upgrade \\\n    && apk add --no-cache ca-certificates tzdata \\\n    && update-ca-certificates 2>/dev/null || true\n\nCOPY --from=builder2 /build/one-api /\nEXPOSE 3000\nWORKDIR /data\nENTRYPOINT [\"/one-api\"]"
        },
        {
          "name": "LICENSE",
          "type": "blob",
          "size": 1.0400390625,
          "content": "MIT License\n\nCopyright (c) 2023 JustSong\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n"
        },
        {
          "name": "README.en.md",
          "type": "blob",
          "size": 18.9833984375,
          "content": "<p align=\"right\">\n    <a href=\"./README.md\">ä¸­æ–‡</a> | <strong>English</strong> | <a href=\"./README.ja.md\">æ—¥æœ¬èª</a>\n</p>\n\n<p align=\"center\">\n  <a href=\"https://github.com/songquanpeng/one-api\"><img src=\"https://raw.githubusercontent.com/songquanpeng/one-api/main/web/default/public/logo.png\" width=\"150\" height=\"150\" alt=\"one-api logo\"></a>\n</p>\n\n<div align=\"center\">\n\n# One API\n\n_âœ¨ Access all LLM through the standard OpenAI API format, easy to deploy & use âœ¨_\n\n</div>\n\n<p align=\"center\">\n  <a href=\"https://raw.githubusercontent.com/songquanpeng/one-api/main/LICENSE\">\n    <img src=\"https://img.shields.io/github/license/songquanpeng/one-api?color=brightgreen\" alt=\"license\">\n  </a>\n  <a href=\"https://github.com/songquanpeng/one-api/releases/latest\">\n    <img src=\"https://img.shields.io/github/v/release/songquanpeng/one-api?color=brightgreen&include_prereleases\" alt=\"release\">\n  </a>\n  <a href=\"https://hub.docker.com/repository/docker/justsong/one-api\">\n    <img src=\"https://img.shields.io/docker/pulls/justsong/one-api?color=brightgreen\" alt=\"docker pull\">\n  </a>\n  <a href=\"https://github.com/songquanpeng/one-api/releases/latest\">\n    <img src=\"https://img.shields.io/github/downloads/songquanpeng/one-api/total?color=brightgreen&include_prereleases\" alt=\"release\">\n  </a>\n  <a href=\"https://goreportcard.com/report/github.com/songquanpeng/one-api\">\n    <img src=\"https://goreportcard.com/badge/github.com/songquanpeng/one-api\" alt=\"GoReportCard\">\n  </a>\n</p>\n\n<p align=\"center\">\n  <a href=\"#deployment\">Deployment Tutorial</a>\n  Â·\n  <a href=\"#usage\">Usage</a>\n  Â·\n  <a href=\"https://github.com/songquanpeng/one-api/issues\">Feedback</a>\n  Â·\n  <a href=\"#screenshots\">Screenshots</a>\n  Â·\n  <a href=\"https://openai.justsong.cn/\">Live Demo</a>\n  Â·\n  <a href=\"#faq\">FAQ</a>\n  Â·\n  <a href=\"#related-projects\">Related Projects</a>\n  Â·\n  <a href=\"https://iamazing.cn/page/reward\">Donate</a>\n</p>\n\n> **Warning**: This README is translated by ChatGPT. Please feel free to submit a PR if you find any translation errors.\n\n> **Warning**: The Docker image for English version is `justsong/one-api-en`.\n\n> **Note**: The latest image pulled from Docker may be an `alpha` release. Specify the version manually if you require stability.\n\n## Features\n1. Support for multiple large models:\n   + [x] [OpenAI ChatGPT Series Models](https://platform.openai.com/docs/guides/gpt/chat-completions-api) (Supports [Azure OpenAI API](https://learn.microsoft.com/en-us/azure/ai-services/openai/reference))\n   + [x] [Anthropic Claude Series Models](https://anthropic.com)\n   + [x] [Google PaLM2 and Gemini Series Models](https://developers.generativeai.google)\n   + [x] [Baidu Wenxin Yiyuan Series Models](https://cloud.baidu.com/doc/WENXINWORKSHOP/index.html)\n   + [x] [Alibaba Tongyi Qianwen Series Models](https://help.aliyun.com/document_detail/2400395.html)\n   + [x] [Zhipu ChatGLM Series Models](https://bigmodel.cn)\n2. Supports access to multiple channels through **load balancing**.\n3. Supports **stream mode** that enables typewriter-like effect through stream transmission.\n4. Supports **multi-machine deployment**. [See here](#multi-machine-deployment) for more details.\n5. Supports **token management** that allows setting token expiration time and usage count.\n6. Supports **voucher management** that enables batch generation and export of vouchers. Vouchers can be used for account balance replenishment.\n7. Supports **channel management** that allows bulk creation of channels.\n8. Supports **user grouping** and **channel grouping** for setting different rates for different groups.\n9. Supports channel **model list configuration**.\n10. Supports **quota details checking**.\n11. Supports **user invite rewards**.\n12. Allows display of balance in USD.\n13. Supports announcement publishing, recharge link setting, and initial balance setting for new users.\n14. Offers rich **customization** options:\n    1. Supports customization of system name, logo, and footer.\n    2. Supports customization of homepage and about page using HTML & Markdown code, or embedding a standalone webpage through iframe.\n15. Supports management API access through system access tokens.\n16. Supports Cloudflare Turnstile user verification.\n17. Supports user management and multiple user login/registration methods:\n    + Email login/registration and password reset via email.\n    + [GitHub OAuth](https://github.com/settings/applications/new).\n    + WeChat Official Account authorization (requires additional deployment of [WeChat Server](https://github.com/songquanpeng/wechat-server)).\n18. Immediate support and encapsulation of other major model APIs as they become available.\n\n## Deployment\n### Docker Deployment\nDeployment command: `docker run --name one-api -d --restart always -p 3000:3000 -e TZ=Asia/Shanghai -v /home/ubuntu/data/one-api:/data justsong/one-api-en`\n\nUpdate command: `docker run --rm -v /var/run/docker.sock:/var/run/docker.sock containrrr/watchtower -cR`\n\nThe first `3000` in `-p 3000:3000` is the port of the host, which can be modified as needed.\n\nData will be saved in the `/home/ubuntu/data/one-api` directory on the host. Ensure that the directory exists and has write permissions, or change it to a suitable directory.\n\nNginx reference configuration:\n```\nserver{\n   server_name openai.justsong.cn;  # Modify your domain name accordingly\n\n   location / {\n          client_max_body_size  64m;\n          proxy_http_version 1.1;\n          proxy_pass http://localhost:3000;  # Modify your port accordingly\n          proxy_set_header Host $host;\n          proxy_set_header X-Forwarded-For $remote_addr;\n          proxy_cache_bypass $http_upgrade;\n          proxy_set_header Accept-Encoding gzip;\n   }\n}\n```\n\nNext, configure HTTPS with Let's Encrypt certbot:\n```bash\n# Install certbot on Ubuntu:\nsudo snap install --classic certbot\nsudo ln -s /snap/bin/certbot /usr/bin/certbot\n# Generate certificates & modify Nginx configuration\nsudo certbot --nginx\n# Follow the prompts\n# Restart Nginx\nsudo service nginx restart\n```\n\nThe initial account username is `root` and password is `123456`.\n\n### Manual Deployment\n1. Download the executable file from [GitHub Releases](https://github.com/songquanpeng/one-api/releases/latest) or compile from source:\n   ```shell\n   git clone https://github.com/songquanpeng/one-api.git\n\n   # Build the frontend\n   cd one-api/web/default\n   npm install\n   npm run build\n\n   # Build the backend\n   cd ../..\n   go mod download\n   go build -ldflags \"-s -w\" -o one-api\n   ```\n2. Run:\n   ```shell\n   chmod u+x one-api\n   ./one-api --port 3000 --log-dir ./logs\n   ```\n3. Access [http://localhost:3000/](http://localhost:3000/) and log in. The initial account username is `root` and password is `123456`.\n\nFor more detailed deployment tutorials, please refer to [this page](https://iamazing.cn/page/how-to-deploy-a-website).\n\n### Multi-machine Deployment\n1. Set the same `SESSION_SECRET` for all servers.\n2. Set `SQL_DSN` and use MySQL instead of SQLite. All servers should connect to the same database.\n3. Set the `NODE_TYPE` for all non-master nodes to `slave`.\n4. Set `SYNC_FREQUENCY` for servers to periodically sync configurations from the database.\n5. Non-master nodes can optionally set `FRONTEND_BASE_URL` to redirect page requests to the master server.\n6. Install Redis separately on non-master nodes, and configure `REDIS_CONN_STRING` so that the database can be accessed with zero latency when the cache has not expired.\n7. If the main server also has high latency accessing the database, Redis must be enabled and `SYNC_FREQUENCY` must be set to periodically sync configurations from the database.\n\nPlease refer to the [environment variables](#environment-variables) section for details on using environment variables.\n\n### Deployment on Control Panels (e.g., Baota)\nRefer to [#175](https://github.com/songquanpeng/one-api/issues/175) for detailed instructions.\n\nIf you encounter a blank page after deployment, refer to [#97](https://github.com/songquanpeng/one-api/issues/97) for possible solutions.\n\n### Deployment on Third-Party Platforms\n<details>\n<summary><strong>Deploy on Sealos</strong></summary>\n<div>\n\n> Sealos supports high concurrency, dynamic scaling, and stable operations for millions of users.\n\n> Click the button below to deploy with one click.ğŸ‘‡\n\n[![](https://raw.githubusercontent.com/labring-actions/templates/main/Deploy-on-Sealos.svg)](https://cloud.sealos.io/?openapp=system-fastdeploy?templateName=one-api)\n\n\n</div>\n</details>\n\n<details>\n<summary><strong>Deployment on Zeabur</strong></summary>\n<div>\n\n> Zeabur's servers are located overseas, automatically solving network issues, and the free quota is sufficient for personal usage.\n\n[![Deploy on Zeabur](https://zeabur.com/button.svg)](https://zeabur.com/templates/7Q0KO3)\n\n1. First, fork the code.\n2. Go to [Zeabur](https://zeabur.com?referralCode=songquanpeng), log in, and enter the console.\n3. Create a new project. In Service -> Add Service, select Marketplace, and choose MySQL. Note down the connection parameters (username, password, address, and port).\n4. Copy the connection parameters and run ```create database `one-api` ``` to create the database.\n5. Then, in Service -> Add Service, select Git (authorization is required for the first use) and choose your forked repository.\n6. Automatic deployment will start, but please cancel it for now. Go to the Variable tab, add a `PORT` with a value of `3000`, and then add a `SQL_DSN` with a value of `<username>:<password>@tcp(<addr>:<port>)/one-api`. Save the changes. Please note that if `SQL_DSN` is not set, data will not be persisted, and the data will be lost after redeployment.\n7. Select Redeploy.\n8. In the Domains tab, select a suitable domain name prefix, such as \"my-one-api\". The final domain name will be \"my-one-api.zeabur.app\". You can also CNAME your own domain name.\n9. Wait for the deployment to complete, and click on the generated domain name to access One API.\n\n</div>\n</details>\n\n## Configuration\nThe system is ready to use out of the box.\n\nYou can configure it by setting environment variables or command line parameters.\n\nAfter the system starts, log in as the `root` user to further configure the system.\n\n## Usage\nAdd your API Key on the `Channels` page, and then add an access token on the `Tokens` page.\n\nYou can then use your access token to access One API. The usage is consistent with the [OpenAI API](https://platform.openai.com/docs/api-reference/introduction).\n\nIn places where the OpenAI API is used, remember to set the API Base to your One API deployment address, for example: `https://openai.justsong.cn`. The API Key should be the token generated in One API.\n\nNote that the specific API Base format depends on the client you are using.\n\n```mermaid\ngraph LR\n    A(User)\n    A --->|Request| B(One API)\n    B -->|Relay Request| C(OpenAI)\n    B -->|Relay Request| D(Azure)\n    B -->|Relay Request| E(Other downstream channels)\n```\n\nTo specify which channel to use for the current request, you can add the channel ID after the token, for example: `Authorization: Bearer ONE_API_KEY-CHANNEL_ID`.\nNote that the token needs to be created by an administrator to specify the channel ID.\n\nIf the channel ID is not provided, load balancing will be used to distribute the requests to multiple channels.\n\n### Environment Variables\n1. `REDIS_CONN_STRING`: When set, Redis will be used as the storage for request rate limiting instead of memory.\n    + Example: `REDIS_CONN_STRING=redis://default:redispw@localhost:49153`\n2. `SESSION_SECRET`: When set, a fixed session key will be used to ensure that cookies of logged-in users are still valid after the system restarts.\n    + Example: `SESSION_SECRET=random_string`\n3. `SQL_DSN`: When set, the specified database will be used instead of SQLite. Please use MySQL version 8.0.\n    + Example: `SQL_DSN=root:123456@tcp(localhost:3306)/oneapi`\n4. `LOG_SQL_DSN`: When set, a separate database will be used for the `logs` table; please use MySQL or PostgreSQL.\n    + Example: `LOG_SQL_DSN=root:123456@tcp(localhost:3306)/oneapi-logs`\n5. `FRONTEND_BASE_URL`: When set, the specified frontend address will be used instead of the backend address.\n    + Example: `FRONTEND_BASE_URL=https://openai.justsong.cn`\n6. 'MEMORY_CACHE_ENABLED': Enabling memory caching can cause a certain delay in updating user quotas, with optional values of 'true' and 'false'. If not set, it defaults to 'false'.\n7. `SYNC_FREQUENCY`: When set, the system will periodically sync configurations from the database, with the unit in seconds. If not set, no sync will happen.\n    + Example: `SYNC_FREQUENCY=60`\n8. `NODE_TYPE`: When set, specifies the node type. Valid values are `master` and `slave`. If not set, it defaults to `master`.\n    + Example: `NODE_TYPE=slave`\n9. `CHANNEL_UPDATE_FREQUENCY`: When set, it periodically updates the channel balances, with the unit in minutes. If not set, no update will happen.\n    + Example: `CHANNEL_UPDATE_FREQUENCY=1440`\n10. `CHANNEL_TEST_FREQUENCY`: When set, it periodically tests the channels, with the unit in minutes. If not set, no test will happen.\n    + Example: `CHANNEL_TEST_FREQUENCY=1440`\n11. `POLLING_INTERVAL`: The time interval (in seconds) between requests when updating channel balances and testing channel availability. Default is no interval.\n    + Example: `POLLING_INTERVAL=5`\n12. `BATCH_UPDATE_ENABLED`: Enabling batch database update aggregation can cause a certain delay in updating user quotas. The optional values are 'true' and 'false', but if not set, it defaults to 'false'.\n    +Example: ` BATCH_UPDATE_ENABLED=true`\n    +If you encounter an issue with too many database connections, you can try enabling this option.\n13. `BATCH_UPDATE_INTERVAL=5`: The time interval for batch updating aggregates, measured in seconds, defaults to '5'.\n    +Example: ` BATCH_UPDATE_INTERVAL=5`\n14. Request frequency limit:\n    + `GLOBAL_API_RATE_LIMIT`: Global API rate limit (excluding relay requests), the maximum number of requests within three minutes per IP, default to 180.\n    + `GLOBAL_WEL_RATE_LIMIT`: Global web speed limit, the maximum number of requests within three minutes per IP, default to 60.\n15. Encoder cache settings:\n    +`TIKTOKEN_CACHE_DIR`: By default, when the program starts, it will download the encoding of some common word elements online, such as' gpt-3.5 turbo '. In some unstable network environments or offline situations, it may cause startup problems. This directory can be configured to cache data and can be migrated to an offline environment.\n    +`DATA_GYM_CACHE_DIR`: Currently, this configuration has the same function as' TIKTOKEN-CACHE-DIR ', but its priority is not as high as it.\n16. `RELAY_TIMEOUT`: Relay timeout setting, measured in seconds, with no default timeout time set.\n17. `RELAY_PROXY`: After setting up, use this proxy to request APIs.\n18. `USER_CONTENT_REQUEST_TIMEOUT`: The timeout period for users to upload and download content, measured in seconds.\n19. `USER_CONTENT_REQUEST_PROXY`: After setting up, use this agent to request content uploaded by users, such as images.\n20. `SQLITE_BUSY_TIMEOUT`: SQLite lock wait timeout setting, measured in milliseconds, default to '3000'.\n21. `GEMINI_SAFETY_SETTING`: Gemini's security settings are set to 'BLOCK-NONE' by default.\n22. `GEMINI_VERSION`: The Gemini version used by the One API, which defaults to 'v1'.\n23. `THE`: The system's theme setting, default to 'default', specific optional values refer to [here] (./web/README. md).\n24. `ENABLE_METRIC`: Whether to disable channels based on request success rate, default not enabled, optional values are 'true' and 'false'.\n25. `METRIC_QUEUE_SIZE`: Request success rate statistics queue size, default to '10'.\n26. `METRIC_SUCCESS_RATE_THRESHOLD`: Request success rate threshold, default to '0.8'.\n27. `INITIAL_ROOT_TOKEN`: If this value is set, a root user token with the value of the environment variable will be automatically created when the system starts for the first time.\n28. `INITIAL_ROOT_ACCESS_TOKEN`: If this value is set, a system management token will be automatically created for the root user with a value of the environment variable when the system starts for the first time.\n\n### Command Line Parameters\n1. `--port <port_number>`: Specifies the port number on which the server listens. Defaults to `3000`.\n    + Example: `--port 3000`\n2. `--log-dir <log_dir>`: Specifies the log directory. If not set, the logs will not be saved.\n    + Example: `--log-dir ./logs`\n3. `--version`: Prints the system version number and exits.\n4. `--help`: Displays the command usage help and parameter descriptions.\n\n## Screenshots\n![channel](https://user-images.githubusercontent.com/39998050/233837954-ae6683aa-5c4f-429f-a949-6645a83c9490.png)\n![token](https://user-images.githubusercontent.com/39998050/233837971-dab488b7-6d96-43af-b640-a168e8d1c9bf.png)\n\n## FAQ\n1. What is quota? How is it calculated? Does One API have quota calculation issues?\n    + Quota = Group multiplier * Model multiplier * (number of prompt tokens + number of completion tokens * completion multiplier)\n    + The completion multiplier is fixed at 1.33 for GPT3.5 and 2 for GPT4, consistent with the official definition.\n    + If it is not a stream mode, the official API will return the total number of tokens consumed. However, please note that the consumption multipliers for prompts and completions are different.\n2. Why does it prompt \"insufficient quota\" even though my account balance is sufficient?\n    + Please check if your token quota is sufficient. It is separate from the account balance.\n    + The token quota is used to set the maximum usage and can be freely set by the user.\n3. It says \"No available channels\" when trying to use a channel. What should I do?\n    + Please check the user and channel group settings.\n    + Also check the channel model settings.\n4. Channel testing reports an error: \"invalid character '<' looking for beginning of value\"\n    + This error occurs when the returned value is not valid JSON but an HTML page.\n    + Most likely, the IP of your deployment site or the node of the proxy has been blocked by CloudFlare.\n5. ChatGPT Next Web reports an error: \"Failed to fetch\"\n    + Do not set `BASE_URL` during deployment.\n    + Double-check that your interface address and API Key are correct.\n\n## Related Projects\n* [FastGPT](https://github.com/labring/FastGPT): Knowledge question answering system based on the LLM\n* [VChart](https://github.com/VisActor/VChart):  More than just a cross-platform charting library, but also an expressive data storyteller.\n* [VMind](https://github.com/VisActor/VMind):  Not just automatic, but also fantastic. Open-source solution for intelligent visualization.\n\n## Note\nThis project is an open-source project. Please use it in compliance with OpenAI's [Terms of Use](https://openai.com/policies/terms-of-use) and **applicable laws and regulations**. It must not be used for illegal purposes.\n\nThis project is released under the MIT license. Based on this, attribution and a link to this project must be included at the bottom of the page.\n\nThe same applies to derivative projects based on this project.\n\nIf you do not wish to include attribution, prior authorization must be obtained.\n\nAccording to the MIT license, users should bear the risk and responsibility of using this project, and the developer of this open-source project is not responsible for this.\n"
        },
        {
          "name": "README.ja.md",
          "type": "blob",
          "size": 19.4248046875,
          "content": "<p align=\"right\">\n    <a href=\"./README.md\">ä¸­æ–‡</a> | <a href=\"./README.en.md\">English</a> | <strong>æ—¥æœ¬èª</strong>\n</p>\n\n<p align=\"center\">\n  <a href=\"https://github.com/songquanpeng/one-api\"><img src=\"https://raw.githubusercontent.com/songquanpeng/one-api/main/web/default/public/logo.png\" width=\"150\" height=\"150\" alt=\"one-api logo\"></a>\n</p>\n\n<div align=\"center\">\n\n# One API\n\n_âœ¨ æ¨™æº–çš„ãª OpenAI API ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’é€šã˜ã¦ã™ã¹ã¦ã® LLM ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã€å°å…¥ã¨åˆ©ç”¨ãŒå®¹æ˜“ã§ã™ âœ¨_\n\n</div>\n\n<p align=\"center\">\n  <a href=\"https://raw.githubusercontent.com/songquanpeng/one-api/main/LICENSE\">\n    <img src=\"https://img.shields.io/github/license/songquanpeng/one-api?color=brightgreen\" alt=\"license\">\n  </a>\n  <a href=\"https://github.com/songquanpeng/one-api/releases/latest\">\n    <img src=\"https://img.shields.io/github/v/release/songquanpeng/one-api?color=brightgreen&include_prereleases\" alt=\"release\">\n  </a>\n  <a href=\"https://hub.docker.com/repository/docker/justsong/one-api\">\n    <img src=\"https://img.shields.io/docker/pulls/justsong/one-api?color=brightgreen\" alt=\"docker pull\">\n  </a>\n  <a href=\"https://github.com/songquanpeng/one-api/releases/latest\">\n    <img src=\"https://img.shields.io/github/downloads/songquanpeng/one-api/total?color=brightgreen&include_prereleases\" alt=\"release\">\n  </a>\n  <a href=\"https://goreportcard.com/report/github.com/songquanpeng/one-api\">\n    <img src=\"https://goreportcard.com/badge/github.com/songquanpeng/one-api\" alt=\"GoReportCard\">\n  </a>\n</p>\n\n<p align=\"center\">\n  <a href=\"#deployment\">ãƒ‡ãƒ—ãƒ­ã‚¤ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«</a>\n  Â·\n  <a href=\"#usage\">ä½¿ç”¨æ–¹æ³•</a>\n  Â·\n  <a href=\"https://github.com/songquanpeng/one-api/issues\">ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯</a>\n  Â·\n  <a href=\"#screenshots\">ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ</a>\n  Â·\n  <a href=\"https://openai.justsong.cn/\">ãƒ©ã‚¤ãƒ–ãƒ‡ãƒ¢</a>\n  Â·\n  <a href=\"#faq\">FAQ</a>\n  Â·\n  <a href=\"#related-projects\">é–¢é€£ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ</a>\n  Â·\n  <a href=\"https://iamazing.cn/page/reward\">å¯„ä»˜</a>\n</p>\n\n> **è­¦å‘Š**: ã“ã® README ã¯ ChatGPT ã«ã‚ˆã£ã¦ç¿»è¨³ã•ã‚Œã¦ã„ã¾ã™ã€‚ç¿»è¨³ãƒŸã‚¹ã‚’ç™ºè¦‹ã—ãŸå ´åˆã¯é æ…®ãªã PR ã‚’æŠ•ç¨¿ã—ã¦ãã ã•ã„ã€‚\n\n> **è­¦å‘Š**ï¼š è‹±èªç‰ˆã® Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ã¯ `justsong/one-api-en` ã§ã™ã€‚\n\n> **æ³¨**: Docker ã‹ã‚‰ãƒ—ãƒ«ã•ã‚ŒãŸæœ€æ–°ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã¯ã€`alpha` ãƒªãƒªãƒ¼ã‚¹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚å®‰å®šæ€§ãŒå¿…è¦ãªå ´åˆã¯ã€æ‰‹å‹•ã§ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚\n\n## ç‰¹å¾´\n1. è¤‡æ•°ã®å¤§å‹ãƒ¢ãƒ‡ãƒ«ã‚’ã‚µãƒãƒ¼ãƒˆ:\n   + [x] [OpenAI ChatGPT ã‚·ãƒªãƒ¼ã‚ºãƒ¢ãƒ‡ãƒ«](https://platform.openai.com/docs/guides/gpt/chat-completions-api) ([Azure OpenAI API](https://learn.microsoft.com/en-us/azure/ai-services/openai/reference) ã‚’ã‚µãƒãƒ¼ãƒˆ)\n   + [x] [Anthropic Claude ã‚·ãƒªãƒ¼ã‚ºãƒ¢ãƒ‡ãƒ«](https://anthropic.com)\n   + [x] [Google PaLM2/Gemini ã‚·ãƒªãƒ¼ã‚ºãƒ¢ãƒ‡ãƒ«](https://developers.generativeai.google)\n   + [x] [Baidu Wenxin Yiyuan ã‚·ãƒªãƒ¼ã‚ºãƒ¢ãƒ‡ãƒ«](https://cloud.baidu.com/doc/WENXINWORKSHOP/index.html)\n   + [x] [Alibaba Tongyi Qianwen ã‚·ãƒªãƒ¼ã‚ºãƒ¢ãƒ‡ãƒ«](https://help.aliyun.com/document_detail/2400395.html)\n   + [x] [Zhipu ChatGLM ã‚·ãƒªãƒ¼ã‚ºãƒ¢ãƒ‡ãƒ«](https://bigmodel.cn)\n2. **ãƒ­ãƒ¼ãƒ‰ãƒãƒ©ãƒ³ã‚·ãƒ³ã‚°**ã«ã‚ˆã‚‹è¤‡æ•°ãƒãƒ£ãƒ³ãƒãƒ«ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’ã‚µãƒãƒ¼ãƒˆã€‚\n3. ã‚¹ãƒˆãƒªãƒ¼ãƒ ä¼é€ã«ã‚ˆã‚‹ã‚¿ã‚¤ãƒ—ãƒ©ã‚¤ã‚¿ãƒ¼çš„åŠ¹æœã‚’å¯èƒ½ã«ã™ã‚‹**ã‚¹ãƒˆãƒªãƒ¼ãƒ ãƒ¢ãƒ¼ãƒ‰**ã«å¯¾å¿œã€‚\n4. **ãƒãƒ«ãƒãƒã‚·ãƒ³ãƒ‡ãƒ—ãƒ­ã‚¤**ã«å¯¾å¿œã€‚[è©³ç´°ã¯ã“ã¡ã‚‰](#multi-machine-deployment)ã‚’å‚ç…§ã€‚\n5. ãƒˆãƒ¼ã‚¯ãƒ³ã®æœ‰åŠ¹æœŸé™ã‚„ä½¿ç”¨å›æ•°ã‚’è¨­å®šã§ãã‚‹**ãƒˆãƒ¼ã‚¯ãƒ³ç®¡ç†**ã«å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚\n6. **ãƒã‚¦ãƒãƒ£ãƒ¼ç®¡ç†**ã«å¯¾å¿œã—ã¦ãŠã‚Šã€ãƒã‚¦ãƒãƒ£ãƒ¼ã®ä¸€æ‹¬ç”Ÿæˆã‚„ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãŒå¯èƒ½ã§ã™ã€‚ãƒã‚¦ãƒãƒ£ãƒ¼ã¯å£åº§æ®‹é«˜ã®è£œå……ã«åˆ©ç”¨ã§ãã¾ã™ã€‚\n7. **ãƒãƒ£ãƒ³ãƒãƒ«ç®¡ç†**ã«å¯¾å¿œã—ã€ãƒãƒ£ãƒ³ãƒãƒ«ã®ä¸€æ‹¬ä½œæˆãŒå¯èƒ½ã€‚\n8. ã‚°ãƒ«ãƒ¼ãƒ—ã”ã¨ã«ç•°ãªã‚‹ãƒ¬ãƒ¼ãƒˆã‚’è¨­å®šã™ã‚‹ãŸã‚ã®**ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚°ãƒ«ãƒ¼ãƒ—**ã¨**ãƒãƒ£ãƒ³ãƒãƒ«ã‚°ãƒ«ãƒ¼ãƒ—**ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚\n9. ãƒãƒ£ãƒ³ãƒãƒ«**ãƒ¢ãƒ‡ãƒ«ãƒªã‚¹ãƒˆè¨­å®š**ã«å¯¾å¿œã€‚\n10. **ã‚¯ã‚©ãƒ¼ã‚¿è©³ç´°ãƒã‚§ãƒƒã‚¯**ã‚’ã‚µãƒãƒ¼ãƒˆã€‚\n11. **ãƒ¦ãƒ¼ã‚¶ãƒ¼æ‹›å¾…å ±é…¬**ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚\n12. ç±³ãƒ‰ãƒ«ã§ã®æ®‹é«˜è¡¨ç¤ºãŒå¯èƒ½ã€‚\n13. æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ã®ãŠçŸ¥ã‚‰ã›å…¬é–‹ã€ãƒªãƒãƒ£ãƒ¼ã‚¸ãƒªãƒ³ã‚¯è¨­å®šã€åˆæœŸæ®‹é«˜è¨­å®šã«å¯¾å¿œã€‚\n14. è±Šå¯Œãª**ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º**ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æä¾›ã—ã¾ã™:\n    1. ã‚·ã‚¹ãƒ†ãƒ åã€ãƒ­ã‚´ã€ãƒ•ãƒƒã‚¿ãƒ¼ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºãŒå¯èƒ½ã€‚\n    2. HTML ã¨ Markdown ã‚³ãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã—ãŸãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã¨ã‚¢ãƒã‚¦ãƒˆãƒšãƒ¼ã‚¸ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã€ã¾ãŸã¯ iframe ã‚’ä»‹ã—ãŸã‚¹ã‚¿ãƒ³ãƒ‰ã‚¢ãƒ­ãƒ³ã‚¦ã‚§ãƒ–ãƒšãƒ¼ã‚¸ã®åŸ‹ã‚è¾¼ã¿ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚\n15. ã‚·ã‚¹ãƒ†ãƒ ãƒ»ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ã«ã‚ˆã‚‹ç®¡ç† API ã‚¢ã‚¯ã‚»ã‚¹ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ã€‚\n16. Cloudflare Turnstile ã«ã‚ˆã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ã«å¯¾å¿œã€‚\n17. ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ã¨è¤‡æ•°ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ­ã‚°ã‚¤ãƒ³/ç™»éŒ²æ–¹æ³•ã‚’ã‚µãƒãƒ¼ãƒˆ:\n    + é›»å­ãƒ¡ãƒ¼ãƒ«ã«ã‚ˆã‚‹ãƒ­ã‚°ã‚¤ãƒ³/ç™»éŒ²ã¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒªã‚»ãƒƒãƒˆã€‚\n    + [GitHub OAuth](https://github.com/settings/applications/new)ã€‚\n    + WeChat å…¬å¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®èªè¨¼ï¼ˆ[WeChat Server](https://github.com/songquanpeng/wechat-server)ã®è¿½åŠ å°å…¥ãŒå¿…è¦ï¼‰ã€‚\n18. ä»–ã®ä¸»è¦ãªãƒ¢ãƒ‡ãƒ« API ãŒåˆ©ç”¨å¯èƒ½ã«ãªã£ãŸå ´åˆã€å³åº§ã«ã‚µãƒãƒ¼ãƒˆã—ã€ã‚«ãƒ—ã‚»ãƒ«åŒ–ã™ã‚‹ã€‚\n\n## ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ\n### Docker ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ\nãƒ‡ãƒ—ãƒ­ã‚¤ã‚³ãƒãƒ³ãƒ‰: `docker run --name one-api -d --restart always -p 3000:3000 -e TZ=Asia/Shanghai -v /home/ubuntu/data/one-api:/data justsong/one-api-en`ã€‚\n\nã‚³ãƒãƒ³ãƒ‰ã‚’æ›´æ–°ã™ã‚‹: `docker run --rm -v /var/run/docker.sock:/var/run/docker.sock containrr/watchtower -cR`ã€‚\n\n`-p 3000:3000` ã®æœ€åˆã® `3000` ã¯ãƒ›ã‚¹ãƒˆã®ãƒãƒ¼ãƒˆã§ã€å¿…è¦ã«å¿œã˜ã¦å¤‰æ›´ã§ãã¾ã™ã€‚\n\nãƒ‡ãƒ¼ã‚¿ã¯ãƒ›ã‚¹ãƒˆã® `/home/ubuntu/data/one-api` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ä¿å­˜ã•ã‚Œã‚‹ã€‚ã“ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒå­˜åœ¨ã—ã€æ›¸ãè¾¼ã¿æ¨©é™ãŒã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€ã‚‚ã—ãã¯é©åˆ‡ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«å¤‰æ›´ã—ã¦ãã ã•ã„ã€‚\n\nNginxãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹è¨­å®š:\n```\nserver{\n   server_name openai.justsong.cn;  # ãƒ‰ãƒ¡ã‚¤ãƒ³åã¯é©å®œå¤‰æ›´\n\n   location / {\n          client_max_body_size  64m;\n          proxy_http_version 1.1;\n          proxy_pass http://localhost:3000;  # ãã‚Œã«å¿œã˜ã¦ãƒãƒ¼ãƒˆã‚’å¤‰æ›´\n          proxy_set_header Host $host;\n          proxy_set_header X-Forwarded-For $remote_addr;\n          proxy_cache_bypass $http_upgrade;\n          proxy_set_header Accept-Encoding gzip;\n          proxy_read_timeout 300s;  # GPT-4 ã¯ã‚ˆã‚Šé•·ã„ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆãŒå¿…è¦\n   }\n}\n```\n\næ¬¡ã«ã€Let's Encrypt certbot ã‚’ä½¿ã£ã¦ HTTPS ã‚’è¨­å®šã—ã¾ã™:\n```bash\n# Ubuntu ã« certbot ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«:\nsudo snap install --classic certbot\nsudo ln -s /snap/bin/certbot /usr/bin/certbot\n# è¨¼æ˜æ›¸ã®ç”Ÿæˆã¨ Nginx è¨­å®šã®å¤‰æ›´\nsudo certbot --nginx\n# ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«å¾“ã†\n# Nginx ã‚’å†èµ·å‹•\nsudo service nginx restart\n```\n\nåˆæœŸã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ãƒ¦ãƒ¼ã‚¶ãƒ¼åã¯ `root` ã§ã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯ `123456` ã§ã™ã€‚\n\n### ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ãƒ‡ãƒ—ãƒ­ã‚¤\n1. [GitHub Releases](https://github.com/songquanpeng/one-api/releases/latest) ã‹ã‚‰å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã€ã‚‚ã—ãã¯ã‚½ãƒ¼ã‚¹ã‹ã‚‰ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹:\n   ```shell\n   git clone https://github.com/songquanpeng/one-api.git\n\n   # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ãƒ“ãƒ«ãƒ‰\n   cd one-api/web/default\n   npm install\n   npm run build\n\n   # ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ãƒ“ãƒ«ãƒ‰\n   cd ../..\n   go mod download\n   go build -ldflags \"-s -w\" -o one-api\n   ```\n2. å®Ÿè¡Œ:\n   ```shell\n   chmod u+x one-api\n   ./one-api --port 3000 --log-dir ./logs\n   ```\n3. [http://localhost:3000/](http://localhost:3000/) ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã€ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹ã€‚åˆæœŸã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ãƒ¦ãƒ¼ã‚¶ãƒ¼åã¯ `root`ã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯ `123456` ã§ã‚ã‚‹ã€‚\n\nã‚ˆã‚Šè©³ç´°ãªãƒ‡ãƒ—ãƒ­ã‚¤ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã«ã¤ã„ã¦ã¯ã€[ã“ã®ãƒšãƒ¼ã‚¸](https://iamazing.cn/page/how-to-deploy-a-website) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\n\n### ãƒãƒ«ãƒãƒã‚·ãƒ³ãƒ‡ãƒ—ãƒ­ã‚¤\n1. ã™ã¹ã¦ã®ã‚µãƒ¼ãƒã«åŒã˜ `SESSION_SECRET` ã‚’è¨­å®šã™ã‚‹ã€‚\n2. `SQL_DSN` ã‚’è¨­å®šã—ã€SQLite ã®ä»£ã‚ã‚Šã« MySQL ã‚’ä½¿ç”¨ã™ã‚‹ã€‚ã™ã¹ã¦ã®ã‚µãƒ¼ãƒã¯åŒã˜ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«æ¥ç¶šã™ã‚‹ã€‚\n3. ãƒã‚¹ã‚¿ãƒ¼ãƒãƒ¼ãƒ‰ä»¥å¤–ã®ãƒãƒ¼ãƒ‰ã® `NODE_TYPE` ã‚’ `slave` ã«è¨­å®šã™ã‚‹ã€‚\n4. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‹ã‚‰å®šæœŸçš„ã«è¨­å®šã‚’åŒæœŸã™ã‚‹ã‚µãƒ¼ãƒãƒ¼ã«ã¯ `SYNC_FREQUENCY` ã‚’è¨­å®šã™ã‚‹ã€‚\n5. ãƒã‚¹ã‚¿ãƒ¼ä»¥å¤–ã®ãƒãƒ¼ãƒ‰ã§ã¯ã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ `FRONTEND_BASE_URL` ã‚’è¨­å®šã—ã¦ã€ãƒšãƒ¼ã‚¸è¦æ±‚ã‚’ãƒã‚¹ã‚¿ãƒ¼ã‚µãƒ¼ãƒãƒ¼ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\n6. ãƒã‚¹ã‚¿ãƒ¼ä»¥å¤–ã®ãƒãƒ¼ãƒ‰ã«ã¯ Redis ã‚’å€‹åˆ¥ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã€`REDIS_CONN_STRING` ã‚’è¨­å®šã—ã¦ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®æœ‰åŠ¹æœŸé™ãŒåˆ‡ã‚Œã¦ã„ãªã„ã¨ãã«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ã‚¼ãƒ­ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ãƒ¼ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚\n7. ãƒ¡ã‚¤ãƒ³ã‚µãƒ¼ãƒãƒ¼ã§ã‚‚ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ãŒé«˜ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ã«ãªã‚‹å ´åˆã¯ã€Redis ã‚’æœ‰åŠ¹ã«ã—ã€`SYNC_FREQUENCY` ã‚’è¨­å®šã—ã¦ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‹ã‚‰å®šæœŸçš„ã«è¨­å®šã‚’åŒæœŸã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚\n\nPlease refer to the [environment variables](#environment-variables) section for details on using environment variables.\n\n### ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ‘ãƒãƒ«ï¼ˆä¾‹: Baotaï¼‰ã¸ã®å±•é–‹\nè©³ã—ã„æ‰‹é †ã¯ [#175](https://github.com/songquanpeng/one-api/issues/175) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\n\né…ç½®å¾Œã«ç©ºç™½ã®ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹å ´åˆã¯ã€[#97](https://github.com/songquanpeng/one-api/issues/97) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\n\n### ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤\n<details>\n<summary><strong>Sealos ã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤</strong></summary>\n<div>\n\n> Sealos ã¯ã€é«˜ã„åŒæ™‚å®Ÿè¡Œæ€§ã€ãƒ€ã‚¤ãƒŠãƒŸãƒƒã‚¯ãªã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã€æ•°ç™¾ä¸‡äººã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å¯¾ã™ã‚‹å®‰å®šã—ãŸé‹ç”¨ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚\n\n> ä¸‹ã®ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§å±•é–‹ã§ãã¾ã™ã€‚ğŸ‘‡\n\n[![](https://raw.githubusercontent.com/labring-actions/templates/main/Deploy-on-Sealos.svg)](https://cloud.sealos.io/?openapp=system-fastdeploy?templateName=one-api)\n\n\n</div>\n</details>\n\n<details>\n<summary><strong>Zeabur ã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤</strong></summary>\n<div>\n\n> Zeabur ã®ã‚µãƒ¼ãƒãƒ¼ã¯æµ·å¤–ã«ã‚ã‚‹ãŸã‚ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®å•é¡Œã¯è‡ªå‹•çš„ã«è§£æ±ºã•ã‚Œã¾ã™ã€‚\n\n[![Deploy on Zeabur](https://zeabur.com/button.svg)](https://zeabur.com/templates/7Q0KO3)\n\n1. ã¾ãšã€ã‚³ãƒ¼ãƒ‰ã‚’ãƒ•ã‚©ãƒ¼ã‚¯ã™ã‚‹ã€‚\n2. [Zeabur](https://zeabur.com?referralCode=songquanpeng) ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ãƒ­ã‚°ã‚¤ãƒ³ã—ã€ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«å…¥ã‚‹ã€‚\n3. æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚Service -> Add Serviceã§Marketplace ã‚’é¸æŠã—ã€MySQL ã‚’é¸æŠã™ã‚‹ã€‚æ¥ç¶šãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼åã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã€ã‚¢ãƒ‰ãƒ¬ã‚¹ã€ãƒãƒ¼ãƒˆï¼‰ã‚’ãƒ¡ãƒ¢ã—ã¾ã™ã€‚\n4. æ¥ç¶šãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ã‚³ãƒ”ãƒ¼ã—ã€```create database `one-api` ``` ã‚’å®Ÿè¡Œã—ã¦ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ä½œæˆã™ã‚‹ã€‚\n5. ãã®å¾Œã€Service -> Add Service ã§ Git ã‚’é¸æŠã—ï¼ˆæœ€åˆã®ä½¿ç”¨ã«ã¯èªè¨¼ãŒå¿…è¦ã§ã™ï¼‰ã€ãƒ•ã‚©ãƒ¼ã‚¯ã—ãŸãƒªãƒã‚¸ãƒˆãƒªã‚’é¸æŠã—ã¾ã™ã€‚\n6. è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ãŒé–‹å§‹ã•ã‚Œã¾ã™ãŒã€ä¸€æ—¦ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã—ã¦ãã ã•ã„ã€‚Variable ã‚¿ãƒ–ã§ `PORT` ã« `3000` ã‚’è¿½åŠ ã—ã€`SQL_DSN` ã« `<username>:<password>@tcp(<addr>:<port>)/one-api` ã‚’è¿½åŠ ã—ã¾ã™ã€‚å¤‰æ›´ã‚’ä¿å­˜ã™ã‚‹ã€‚SQL_DSN` ãŒè¨­å®šã•ã‚Œã¦ã„ãªã„ã¨ã€ãƒ‡ãƒ¼ã‚¿ãŒæ°¸ç¶šåŒ–ã•ã‚Œãšã€å†ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œã«ãƒ‡ãƒ¼ã‚¿ãŒå¤±ã‚ã‚Œã‚‹ã®ã§æ³¨æ„ã™ã‚‹ã“ã¨ã€‚\n7. å†ãƒ‡ãƒ—ãƒ­ã‚¤ã‚’é¸æŠã—ã¾ã™ã€‚\n8. Domains ã‚¿ãƒ–ã§ã€\"my-one-api\" ã®ã‚ˆã†ãªé©åˆ‡ãªãƒ‰ãƒ¡ã‚¤ãƒ³åã®æ¥é ­è¾ã‚’é¸æŠã™ã‚‹ã€‚æœ€çµ‚çš„ãªãƒ‰ãƒ¡ã‚¤ãƒ³åã¯ \"my-one-api.zeabur.app\" ã¨ãªã‚Šã¾ã™ã€‚ç‹¬è‡ªã®ãƒ‰ãƒ¡ã‚¤ãƒ³åã‚’ CNAME ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚\n9. ãƒ‡ãƒ—ãƒ­ã‚¤ãŒå®Œäº†ã™ã‚‹ã®ã‚’å¾…ã¡ã€ç”Ÿæˆã•ã‚ŒãŸãƒ‰ãƒ¡ã‚¤ãƒ³åã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ One API ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™ã€‚\n\n</div>\n</details>\n\n## ã‚³ãƒ³ãƒ•ã‚£ã‚°\nã‚·ã‚¹ãƒ†ãƒ ã¯ç®±ã‹ã‚‰å‡ºã—ã¦ã™ãã«ä½¿ãˆã¾ã™ã€‚\n\nç’°å¢ƒå¤‰æ•°ã‚„ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’è¨­å®šã™ã‚‹ã“ã¨ã§ã€ã‚·ã‚¹ãƒ†ãƒ ã‚’æ§‹æˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\n\nã‚·ã‚¹ãƒ†ãƒ èµ·å‹•å¾Œã€`root` ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ã—ã¦ãƒ­ã‚°ã‚¤ãƒ³ã—ã€ã•ã‚‰ã«ã‚·ã‚¹ãƒ†ãƒ ã‚’è¨­å®šã—ã¾ã™ã€‚\n\n## ä½¿ç”¨æ–¹æ³•\n`Channels` ãƒšãƒ¼ã‚¸ã§ API Key ã‚’è¿½åŠ ã—ã€`Tokens` ãƒšãƒ¼ã‚¸ã§ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ã‚’è¿½åŠ ã™ã‚‹ã€‚\n\nã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ä½¿ã£ã¦ One API ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚ä½¿ã„æ–¹ã¯ [OpenAI API](https://platform.openai.com/docs/api-reference/introduction) ã¨åŒã˜ã§ã™ã€‚\n\nOpenAI API ãŒä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹å ´æ‰€ã§ã¯ã€API Base ã« One API ã®ãƒ‡ãƒ—ãƒ­ã‚¤ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’è¨­å®šã™ã‚‹ã“ã¨ã‚’å¿˜ã‚Œãªã„ã§ãã ã•ã„ï¼ˆä¾‹: `https://openai.justsong.cn`ï¼‰ã€‚API Key ã¯ One API ã§ç”Ÿæˆã•ã‚ŒãŸãƒˆãƒ¼ã‚¯ãƒ³ã§ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚\n\nå…·ä½“çš„ãª API Base ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã¯ã€ä½¿ç”¨ã—ã¦ã„ã‚‹ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«ä¾å­˜ã™ã‚‹ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚\n\n```mermaid\ngraph LR\n    A(ãƒ¦ãƒ¼ã‚¶)\n    A --->|ãƒªã‚¯ã‚¨ã‚¹ãƒˆ| B(One API)\n    B -->|ä¸­ç¶™ãƒªã‚¯ã‚¨ã‚¹ãƒˆ| C(OpenAI)\n    B -->|ä¸­ç¶™ãƒªã‚¯ã‚¨ã‚¹ãƒˆ| D(Azure)\n    B -->|ä¸­ç¶™ãƒªã‚¯ã‚¨ã‚¹ãƒˆ| E(ãã®ä»–ã®ãƒ€ã‚¦ãƒ³ã‚¹ãƒˆãƒªãƒ¼ãƒ ãƒãƒ£ãƒ³ãƒãƒ«)\n```\n\nç¾åœ¨ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«ã©ã®ãƒãƒ£ãƒãƒ«ã‚’ä½¿ã†ã‹ã‚’æŒ‡å®šã™ã‚‹ã«ã¯ã€ãƒˆãƒ¼ã‚¯ãƒ³ã®å¾Œã« ãƒãƒ£ãƒãƒ« ID ã‚’è¿½åŠ ã—ã¾ã™ï¼š ä¾‹ãˆã°ã€`Authorization: Bearer ONE_API_KEY-CHANNEL_ID` ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚\nãƒãƒ£ãƒ³ãƒãƒ« ID ã‚’æŒ‡å®šã™ã‚‹ãŸã‚ã«ã¯ã€ãƒˆãƒ¼ã‚¯ãƒ³ã¯ç®¡ç†è€…ã«ã‚ˆã£ã¦ä½œæˆã•ã‚Œã‚‹å¿…è¦ãŒã‚ã‚‹ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚\n\nã‚‚ã—ãƒãƒ£ãƒãƒ« ID ãŒæŒ‡å®šã•ã‚Œãªã„å ´åˆã€ãƒ­ãƒ¼ãƒ‰ãƒãƒ©ãƒ³ã‚·ãƒ³ã‚°ã«ã‚ˆã£ã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒè¤‡æ•°ã®ãƒãƒ£ãƒãƒ«ã«æŒ¯ã‚Šåˆ†ã‘ã‚‰ã‚Œã¾ã™ã€‚\n\n### ç’°å¢ƒå¤‰æ•°\n1. `REDIS_CONN_STRING`: è¨­å®šã™ã‚‹ã¨ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ¬ãƒ¼ãƒˆåˆ¶é™ã®ãŸã‚ã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã¨ã—ã¦ã€ãƒ¡ãƒ¢ãƒªã®ä»£ã‚ã‚Šã« Redis ãŒä½¿ã‚ã‚Œã‚‹ã€‚\n    + ä¾‹: `REDIS_CONN_STRING=redis://default:redispw@localhost:49153`\n2. `SESSION_SECRET`: è¨­å®šã™ã‚‹ã¨ã€å›ºå®šã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚­ãƒ¼ãŒä½¿ç”¨ã•ã‚Œã€ã‚·ã‚¹ãƒ†ãƒ ã®å†èµ·å‹•å¾Œã‚‚ãƒ­ã‚°ã‚¤ãƒ³ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚¯ãƒƒã‚­ãƒ¼ãŒæœ‰åŠ¹ã§ã‚ã‚‹ã“ã¨ãŒä¿è¨¼ã•ã‚Œã¾ã™ã€‚\n    + ä¾‹: `SESSION_SECRET=random_string`\n3. `SQL_DSN`: è¨­å®šã™ã‚‹ã¨ã€SQLite ã®ä»£ã‚ã‚Šã«æŒ‡å®šã—ãŸãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãŒä½¿ç”¨ã•ã‚Œã¾ã™ã€‚MySQL ãƒãƒ¼ã‚¸ãƒ§ãƒ³ 8.0 ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚\n    + ä¾‹: `SQL_DSN=root:123456@tcp(localhost:3306)/oneapi`\n4. `LOG_SQL_DSN`: ã‚’è¨­å®šã™ã‚‹ã¨ã€`logs`ãƒ†ãƒ¼ãƒ–ãƒ«ã«ã¯ç‹¬ç«‹ã—ãŸãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãŒä½¿ç”¨ã•ã‚Œã¾ã™ã€‚MySQLã¾ãŸã¯PostgreSQLã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚\n5. `FRONTEND_BASE_URL`: è¨­å®šã•ã‚Œã‚‹ã¨ã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚¢ãƒ‰ãƒ¬ã‚¹ã§ã¯ãªãã€æŒ‡å®šã•ã‚ŒãŸãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒä½¿ã‚ã‚Œã‚‹ã€‚\n    + ä¾‹: `FRONTEND_BASE_URL=https://openai.justsong.cn`\n6. `SYNC_FREQUENCY`: è¨­å®šã•ã‚ŒãŸå ´åˆã€ã‚·ã‚¹ãƒ†ãƒ ã¯å®šæœŸçš„ã«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‹ã‚‰ã‚³ãƒ³ãƒ•ã‚£ã‚°ã‚’ç§’å˜ä½ã§åŒæœŸã™ã‚‹ã€‚è¨­å®šã•ã‚Œã¦ã„ãªã„å ´åˆã€åŒæœŸã¯è¡Œã‚ã‚Œã¾ã›ã‚“ã€‚\n    + ä¾‹: `SYNC_FREQUENCY=60`\n7. `NODE_TYPE`: è¨­å®šã™ã‚‹ã¨ã€ãƒãƒ¼ãƒ‰ã®ã‚¿ã‚¤ãƒ—ã‚’æŒ‡å®šã™ã‚‹ã€‚æœ‰åŠ¹ãªå€¤ã¯ `master` ã¨ `slave` ã§ã‚ã‚‹ã€‚è¨­å®šã•ã‚Œã¦ã„ãªã„å ´åˆã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ `master`ã€‚\n    + ä¾‹: `NODE_TYPE=slave`\n8. `CHANNEL_UPDATE_FREQUENCY`: è¨­å®šã™ã‚‹ã¨ã€ãƒãƒ£ãƒ³ãƒãƒ«æ®‹é«˜ã‚’åˆ†å˜ä½ã§å®šæœŸçš„ã«æ›´æ–°ã™ã‚‹ã€‚è¨­å®šã•ã‚Œã¦ã„ãªã„å ´åˆã€æ›´æ–°ã¯è¡Œã‚ã‚Œã¾ã›ã‚“ã€‚\n    + ä¾‹: `CHANNEL_UPDATE_FREQUENCY=1440`\n9. `CHANNEL_TEST_FREQUENCY`: è¨­å®šã™ã‚‹ã¨ã€ãƒãƒ£ãƒ³ãƒãƒ«ã‚’å®šæœŸçš„ã«ãƒ†ã‚¹ãƒˆã™ã‚‹ã€‚è¨­å®šã•ã‚Œã¦ã„ãªã„å ´åˆã€ãƒ†ã‚¹ãƒˆã¯è¡Œã‚ã‚Œã¾ã›ã‚“ã€‚\n    + ä¾‹: `CHANNEL_TEST_FREQUENCY=1440`\n10. `POLLING_INTERVAL`: ãƒãƒ£ãƒãƒ«æ®‹é«˜ã®æ›´æ–°ã¨ãƒãƒ£ãƒãƒ«ã®å¯ç”¨æ€§ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã¨ãã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆé–“ã®æ™‚é–“é–“éš” (ç§’)ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯é–“éš”ãªã—ã€‚\n    + ä¾‹: `POLLING_INTERVAL=5`\n\n### ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿\n1. `--port <port_number>`: ã‚µãƒ¼ãƒãŒãƒªãƒƒã‚¹ãƒ³ã™ã‚‹ãƒãƒ¼ãƒˆç•ªå·ã‚’æŒ‡å®šã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ `3000` ã§ã™ã€‚\n    + ä¾‹: `--port 3000`\n2. `--log-dir <log_dir>`: ãƒ­ã‚°ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’æŒ‡å®šã€‚è¨­å®šã—ãªã„å ´åˆã€ãƒ­ã‚°ã¯ä¿å­˜ã•ã‚Œã¾ã›ã‚“ã€‚\n    + ä¾‹: `--log-dir ./logs`\n3. `--version`: ã‚·ã‚¹ãƒ†ãƒ ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå·ã‚’è¡¨ç¤ºã—ã¦çµ‚äº†ã™ã‚‹ã€‚\n4. `--help`: ã‚³ãƒãƒ³ãƒ‰ã®ä½¿ç”¨æ³•ãƒ˜ãƒ«ãƒ—ã¨ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®èª¬æ˜ã‚’è¡¨ç¤ºã€‚\n\n## ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ\n![channel](https://user-images.githubusercontent.com/39998050/233837954-ae6683aa-5c4f-429f-a949-6645a83c9490.png)\n![token](https://user-images.githubusercontent.com/39998050/233837971-dab488b7-6d96-43af-b640-a168e8d1c9bf.png)\n\n## FAQ\n1. ãƒãƒ«ãƒã¨ã¯ä½•ã‹ï¼Ÿã©ã®ã‚ˆã†ã«è¨ˆç®—ã•ã‚Œã¾ã™ã‹ï¼ŸOne API ã«ã¯ãƒãƒ«ãƒè¨ˆç®—ã®å•é¡Œã¯ã‚ã‚Šã¾ã™ã‹ï¼Ÿ\n    + ãƒãƒ«ãƒ = ã‚°ãƒ«ãƒ¼ãƒ—å€ç‡ * ãƒ¢ãƒ‡ãƒ«å€ç‡ * (ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒˆãƒ¼ã‚¯ãƒ³ã®æ•° + å®Œäº†ãƒˆãƒ¼ã‚¯ãƒ³ã®æ•° * å®Œäº†å€ç‡)\n    + å®Œäº†å€ç‡ã¯ã€å…¬å¼ã®å®šç¾©ã¨ä¸€è‡´ã™ã‚‹ã‚ˆã†ã«ã€GPT3.5 ã§ã¯ 1.33ã€GPT4 ã§ã¯ 2 ã«å›ºå®šã•ã‚Œã¦ã„ã¾ã™ã€‚\n    + ã‚¹ãƒˆãƒªãƒ¼ãƒ ãƒ¢ãƒ¼ãƒ‰ã§ãªã„å ´åˆã€å…¬å¼ API ã¯æ¶ˆè²»ã—ãŸãƒˆãƒ¼ã‚¯ãƒ³ã®ç·æ•°ã‚’è¿”ã™ã€‚ãŸã ã—ã€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã¨ã‚³ãƒ³ãƒ—ãƒªãƒ¼ãƒˆã®æ¶ˆè²»å€ç‡ã¯ç•°ãªã‚‹ã®ã§æ³¨æ„ã—ã¦ãã ã•ã„ã€‚\n2. ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæ®‹é«˜ã¯ååˆ†ãªã®ã«ã€\"insufficient quota\" ã¨è¡¨ç¤ºã•ã‚Œã‚‹ã®ã¯ãªãœã§ã™ã‹ï¼Ÿ\n    + ãƒˆãƒ¼ã‚¯ãƒ³ã®ã‚¯ã‚©ãƒ¼ã‚¿ãŒååˆ†ã‹ã©ã†ã‹ã”ç¢ºèªãã ã•ã„ã€‚ãƒˆãƒ¼ã‚¯ãƒ³ã‚¯ã‚©ãƒ¼ã‚¿ã¯ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæ®‹é«˜ã¨ã¯åˆ¥ã®ã‚‚ã®ã§ã™ã€‚\n    + ãƒˆãƒ¼ã‚¯ãƒ³ã‚¯ã‚©ãƒ¼ã‚¿ã¯æœ€å¤§ä½¿ç”¨é‡ã‚’è¨­å®šã™ã‚‹ãŸã‚ã®ã‚‚ã®ã§ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè‡ªç”±ã«è¨­å®šã§ãã¾ã™ã€‚\n3. ãƒãƒ£ãƒ³ãƒãƒ«ã‚’ä½¿ãŠã†ã¨ã™ã‚‹ã¨ \"No available channels\" ã¨è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ã©ã†ã™ã‚Œã°ã„ã„ã§ã™ã‹ï¼Ÿ\n    + ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ãƒãƒ£ãƒ³ãƒãƒ«ã‚°ãƒ«ãƒ¼ãƒ—ã®è¨­å®šã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚\n    + ãƒãƒ£ãƒ³ãƒãƒ«ãƒ¢ãƒ‡ãƒ«ã®è¨­å®šã‚‚ç¢ºèªã—ã¦ãã ã•ã„ã€‚\n4. ãƒãƒ£ãƒ³ãƒãƒ«ãƒ†ã‚¹ãƒˆãŒã‚¨ãƒ©ãƒ¼ã‚’å ±å‘Šã™ã‚‹: \"invalid character '<' looking for beginning of value\"\n    + ã“ã®ã‚¨ãƒ©ãƒ¼ã¯ã€è¿”ã•ã‚ŒãŸå€¤ãŒæœ‰åŠ¹ãª JSON ã§ã¯ãªãã€HTML ãƒšãƒ¼ã‚¸ã§ã‚ã‚‹å ´åˆã«ç™ºç”Ÿã™ã‚‹ã€‚\n    + ã»ã¨ã‚“ã©ã®å ´åˆã€ãƒ‡ãƒ—ãƒ­ã‚¤ã‚µã‚¤ãƒˆã®IPã‹ãƒ—ãƒ­ã‚­ã‚·ã®ãƒãƒ¼ãƒ‰ãŒ CloudFlare ã«ã‚ˆã£ã¦ãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã¦ã„ã¾ã™ã€‚\n5. ChatGPT Next Web ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: \"Failed to fetch\"\n    + ãƒ‡ãƒ—ãƒ­ã‚¤æ™‚ã« `BASE_URL` ã‚’è¨­å®šã—ãªã„ã§ãã ã•ã„ã€‚\n    + ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã‚¢ãƒ‰ãƒ¬ã‚¹ã¨ API Key ãŒæ­£ã—ã„ã‹å†ç¢ºèªã—ã¦ãã ã•ã„ã€‚\n\n## é–¢é€£ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ\n[FastGPT](https://github.com/labring/FastGPT): LLM ã«åŸºã¥ãçŸ¥è­˜è³ªå•å¿œç­”ã‚·ã‚¹ãƒ†ãƒ \n\n## æ³¨\næœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã™ã€‚OpenAI ã®[åˆ©ç”¨è¦ç´„](https://openai.com/policies/terms-of-use)ãŠã‚ˆã³**é©ç”¨ã•ã‚Œã‚‹æ³•ä»¤**ã‚’éµå®ˆã—ã¦ã”åˆ©ç”¨ãã ã•ã„ã€‚é•æ³•ãªç›®çš„ã§ã®åˆ©ç”¨ã¯ã”é æ…®ãã ã•ã„ã€‚\n\nã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ MIT ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚ã“ã‚Œã«åŸºã¥ãã€ãƒšãƒ¼ã‚¸ã®æœ€ä¸‹éƒ¨ã«å¸°å±è¡¨ç¤ºã¨æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¸ã®ãƒªãƒ³ã‚¯ã‚’å«ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\n\nã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’åŸºã«ã—ãŸæ´¾ç”Ÿãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¤ã„ã¦ã‚‚åŒæ§˜ã§ã™ã€‚\n\nå¸°å±è¡¨ç¤ºã‚’å«ã‚ãŸããªã„å ´åˆã¯ã€äº‹å‰ã«è¨±å¯ã‚’å¾—ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚\n\nMIT ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã«ã‚ˆã‚‹ã¨ã€ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’åˆ©ç”¨ã™ã‚‹ãƒªã‚¹ã‚¯ã¨è²¬ä»»ã¯åˆ©ç”¨è€…ãŒè² ã†ã¹ãã§ã‚ã‚Šã€ã“ã®ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é–‹ç™ºè€…ã¯è²¬ä»»ã‚’è² ã„ã¾ã›ã‚“ã€‚\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 26.2998046875,
          "content": "<p align=\"right\">\n   <strong>ä¸­æ–‡</strong> | <a href=\"./README.en.md\">English</a> | <a href=\"./README.ja.md\">æ—¥æœ¬èª</a>\n</p>\n\n\n<p align=\"center\">\n  <a href=\"https://github.com/songquanpeng/one-api\"><img src=\"https://raw.githubusercontent.com/songquanpeng/one-api/main/web/default/public/logo.png\" width=\"150\" height=\"150\" alt=\"one-api logo\"></a>\n</p>\n\n<div align=\"center\">\n\n# One API\n\n_âœ¨ é€šè¿‡æ ‡å‡†çš„ OpenAI API æ ¼å¼è®¿é—®æ‰€æœ‰çš„å¤§æ¨¡å‹ï¼Œå¼€ç®±å³ç”¨ âœ¨_\n\n</div>\n\n<p align=\"center\">\n  <a href=\"https://raw.githubusercontent.com/songquanpeng/one-api/main/LICENSE\">\n    <img src=\"https://img.shields.io/github/license/songquanpeng/one-api?color=brightgreen\" alt=\"license\">\n  </a>\n  <a href=\"https://github.com/songquanpeng/one-api/releases/latest\">\n    <img src=\"https://img.shields.io/github/v/release/songquanpeng/one-api?color=brightgreen&include_prereleases\" alt=\"release\">\n  </a>\n  <a href=\"https://hub.docker.com/repository/docker/justsong/one-api\">\n    <img src=\"https://img.shields.io/docker/pulls/justsong/one-api?color=brightgreen\" alt=\"docker pull\">\n  </a>\n  <a href=\"https://github.com/songquanpeng/one-api/releases/latest\">\n    <img src=\"https://img.shields.io/github/downloads/songquanpeng/one-api/total?color=brightgreen&include_prereleases\" alt=\"release\">\n  </a>\n  <a href=\"https://goreportcard.com/report/github.com/songquanpeng/one-api\">\n    <img src=\"https://goreportcard.com/badge/github.com/songquanpeng/one-api\" alt=\"GoReportCard\">\n  </a>\n</p>\n\n<p align=\"center\">\n  <a href=\"https://github.com/songquanpeng/one-api#éƒ¨ç½²\">éƒ¨ç½²æ•™ç¨‹</a>\n  Â·\n  <a href=\"https://github.com/songquanpeng/one-api#ä½¿ç”¨æ–¹æ³•\">ä½¿ç”¨æ–¹æ³•</a>\n  Â·\n  <a href=\"https://github.com/songquanpeng/one-api/issues\">æ„è§åé¦ˆ</a>\n  Â·\n  <a href=\"https://github.com/songquanpeng/one-api#æˆªå›¾å±•ç¤º\">æˆªå›¾å±•ç¤º</a>\n  Â·\n  <a href=\"https://openai.justsong.cn/\">åœ¨çº¿æ¼”ç¤º</a>\n  Â·\n  <a href=\"https://github.com/songquanpeng/one-api#å¸¸è§é—®é¢˜\">å¸¸è§é—®é¢˜</a>\n  Â·\n  <a href=\"https://github.com/songquanpeng/one-api#ç›¸å…³é¡¹ç›®\">ç›¸å…³é¡¹ç›®</a>\n  Â·\n  <a href=\"https://iamazing.cn/page/reward\">èµèµæ”¯æŒ</a>\n</p>\n\n> [!NOTE]\n> æœ¬é¡¹ç›®ä¸ºå¼€æºé¡¹ç›®ï¼Œä½¿ç”¨è€…å¿…é¡»åœ¨éµå¾ª OpenAI çš„[ä½¿ç”¨æ¡æ¬¾](https://openai.com/policies/terms-of-use)ä»¥åŠ**æ³•å¾‹æ³•è§„**çš„æƒ…å†µä¸‹ä½¿ç”¨ï¼Œä¸å¾—ç”¨äºéæ³•ç”¨é€”ã€‚\n>\n> æ ¹æ®[ã€Šç”Ÿæˆå¼äººå·¥æ™ºèƒ½æœåŠ¡ç®¡ç†æš‚è¡ŒåŠæ³•ã€‹](http://www.cac.gov.cn/2023-07/13/c_1690898327029107.htm)çš„è¦æ±‚ï¼Œè¯·å‹¿å¯¹ä¸­å›½åœ°åŒºå…¬ä¼—æä¾›ä¸€åˆ‡æœªç»å¤‡æ¡ˆçš„ç”Ÿæˆå¼äººå·¥æ™ºèƒ½æœåŠ¡ã€‚\n\n> [!WARNING]\n> ä½¿ç”¨ Docker æ‹‰å–çš„æœ€æ–°é•œåƒå¯èƒ½æ˜¯ `alpha` ç‰ˆæœ¬ï¼Œå¦‚æœè¿½æ±‚ç¨³å®šæ€§è¯·æ‰‹åŠ¨æŒ‡å®šç‰ˆæœ¬ã€‚\n\n> [!WARNING]\n> ä½¿ç”¨ root ç”¨æˆ·åˆæ¬¡ç™»å½•ç³»ç»Ÿåï¼ŒåŠ¡å¿…ä¿®æ”¹é»˜è®¤å¯†ç  `123456`ï¼\n\n## åŠŸèƒ½\n1. æ”¯æŒå¤šç§å¤§æ¨¡å‹ï¼š\n   + [x] [OpenAI ChatGPT ç³»åˆ—æ¨¡å‹](https://platform.openai.com/docs/guides/gpt/chat-completions-api)ï¼ˆæ”¯æŒ [Azure OpenAI API](https://learn.microsoft.com/en-us/azure/ai-services/openai/reference)ï¼‰\n   + [x] [Anthropic Claude ç³»åˆ—æ¨¡å‹](https://anthropic.com) (æ”¯æŒ AWS Claude)\n   + [x] [Google PaLM2/Gemini ç³»åˆ—æ¨¡å‹](https://developers.generativeai.google)\n   + [x] [Mistral ç³»åˆ—æ¨¡å‹](https://mistral.ai/)\n   + [x] [å­—èŠ‚è·³åŠ¨è±†åŒ…å¤§æ¨¡å‹](https://console.volcengine.com/ark/region:ark+cn-beijing/model)\n   + [x] [ç™¾åº¦æ–‡å¿ƒä¸€è¨€ç³»åˆ—æ¨¡å‹](https://cloud.baidu.com/doc/WENXINWORKSHOP/index.html)\n   + [x] [é˜¿é‡Œé€šä¹‰åƒé—®ç³»åˆ—æ¨¡å‹](https://help.aliyun.com/document_detail/2400395.html)\n   + [x] [è®¯é£æ˜Ÿç«è®¤çŸ¥å¤§æ¨¡å‹](https://www.xfyun.cn/doc/spark/Web.html)\n   + [x] [æ™ºè°± ChatGLM ç³»åˆ—æ¨¡å‹](https://bigmodel.cn)\n   + [x] [360 æ™ºè„‘](https://ai.360.cn)\n   + [x] [è…¾è®¯æ··å…ƒå¤§æ¨¡å‹](https://cloud.tencent.com/document/product/1729)\n   + [x] [Moonshot AI](https://platform.moonshot.cn/)\n   + [x] [ç™¾å·å¤§æ¨¡å‹](https://platform.baichuan-ai.com)\n   + [x] [MINIMAX](https://api.minimax.chat/)\n   + [x] [Groq](https://wow.groq.com/)\n   + [x] [Ollama](https://github.com/ollama/ollama)\n   + [x] [é›¶ä¸€ä¸‡ç‰©](https://platform.lingyiwanwu.com/)\n   + [x] [é˜¶è·ƒæ˜Ÿè¾°](https://platform.stepfun.com/)\n   + [x] [Coze](https://www.coze.com/)\n   + [x] [Cohere](https://cohere.com/)\n   + [x] [DeepSeek](https://www.deepseek.com/)\n   + [x] [Cloudflare Workers AI](https://developers.cloudflare.com/workers-ai/)\n   + [x] [DeepL](https://www.deepl.com/)\n   + [x] [together.ai](https://www.together.ai/)\n   + [x] [novita.ai](https://www.novita.ai/)\n   + [x] [ç¡…åŸºæµåŠ¨ SiliconCloud](https://siliconflow.cn/siliconcloud)\n   + [x] [xAI](https://x.ai/)\n2. æ”¯æŒé…ç½®é•œåƒä»¥åŠä¼—å¤š[ç¬¬ä¸‰æ–¹ä»£ç†æœåŠ¡](https://iamazing.cn/page/openai-api-third-party-services)ã€‚\n3. æ”¯æŒé€šè¿‡**è´Ÿè½½å‡è¡¡**çš„æ–¹å¼è®¿é—®å¤šä¸ªæ¸ é“ã€‚\n4. æ”¯æŒ **stream æ¨¡å¼**ï¼Œå¯ä»¥é€šè¿‡æµå¼ä¼ è¾“å®ç°æ‰“å­—æœºæ•ˆæœã€‚\n5. æ”¯æŒ**å¤šæœºéƒ¨ç½²**ï¼Œ[è¯¦è§æ­¤å¤„](#å¤šæœºéƒ¨ç½²)ã€‚\n6. æ”¯æŒ**ä»¤ç‰Œç®¡ç†**ï¼Œè®¾ç½®ä»¤ç‰Œçš„è¿‡æœŸæ—¶é—´ã€é¢åº¦ã€å…è®¸çš„ IP èŒƒå›´ä»¥åŠå…è®¸çš„æ¨¡å‹è®¿é—®ã€‚\n7. æ”¯æŒ**å…‘æ¢ç ç®¡ç†**ï¼Œæ”¯æŒæ‰¹é‡ç”Ÿæˆå’Œå¯¼å‡ºå…‘æ¢ç ï¼Œå¯ä½¿ç”¨å…‘æ¢ç ä¸ºè´¦æˆ·è¿›è¡Œå……å€¼ã€‚\n8. æ”¯æŒ**æ¸ é“ç®¡ç†**ï¼Œæ‰¹é‡åˆ›å»ºæ¸ é“ã€‚\n9. æ”¯æŒ**ç”¨æˆ·åˆ†ç»„**ä»¥åŠ**æ¸ é“åˆ†ç»„**ï¼Œæ”¯æŒä¸ºä¸åŒåˆ†ç»„è®¾ç½®ä¸åŒçš„å€ç‡ã€‚\n10. æ”¯æŒæ¸ é“**è®¾ç½®æ¨¡å‹åˆ—è¡¨**ã€‚\n11. æ”¯æŒ**æŸ¥çœ‹é¢åº¦æ˜ç»†**ã€‚\n12. æ”¯æŒ**ç”¨æˆ·é‚€è¯·å¥–åŠ±**ã€‚\n13. æ”¯æŒä»¥ç¾å…ƒä¸ºå•ä½æ˜¾ç¤ºé¢åº¦ã€‚\n14. æ”¯æŒå‘å¸ƒå…¬å‘Šï¼Œè®¾ç½®å……å€¼é“¾æ¥ï¼Œè®¾ç½®æ–°ç”¨æˆ·åˆå§‹é¢åº¦ã€‚\n15. æ”¯æŒæ¨¡å‹æ˜ å°„ï¼Œé‡å®šå‘ç”¨æˆ·çš„è¯·æ±‚æ¨¡å‹ï¼Œå¦‚æ— å¿…è¦è¯·ä¸è¦è®¾ç½®ï¼Œè®¾ç½®ä¹‹åä¼šå¯¼è‡´è¯·æ±‚ä½“è¢«é‡æ–°æ„é€ è€Œéç›´æ¥é€ä¼ ï¼Œä¼šå¯¼è‡´éƒ¨åˆ†è¿˜æœªæ­£å¼æ”¯æŒçš„å­—æ®µæ— æ³•ä¼ é€’æˆåŠŸã€‚\n16. æ”¯æŒå¤±è´¥è‡ªåŠ¨é‡è¯•ã€‚\n17. æ”¯æŒç»˜å›¾æ¥å£ã€‚\n18. æ”¯æŒ [Cloudflare AI Gateway](https://developers.cloudflare.com/ai-gateway/providers/openai/)ï¼Œæ¸ é“è®¾ç½®çš„ä»£ç†éƒ¨åˆ†å¡«å†™ `https://gateway.ai.cloudflare.com/v1/ACCOUNT_TAG/GATEWAY/openai` å³å¯ã€‚\n19. æ”¯æŒä¸°å¯Œçš„**è‡ªå®šä¹‰**è®¾ç½®ï¼Œ\n    1. æ”¯æŒè‡ªå®šä¹‰ç³»ç»Ÿåç§°ï¼Œlogo ä»¥åŠé¡µè„šã€‚\n    2. æ”¯æŒè‡ªå®šä¹‰é¦–é¡µå’Œå…³äºé¡µé¢ï¼Œå¯ä»¥é€‰æ‹©ä½¿ç”¨ HTML & Markdown ä»£ç è¿›è¡Œè‡ªå®šä¹‰ï¼Œæˆ–è€…ä½¿ç”¨ä¸€ä¸ªå•ç‹¬çš„ç½‘é¡µé€šè¿‡ iframe åµŒå…¥ã€‚\n20. æ”¯æŒé€šè¿‡ç³»ç»Ÿè®¿é—®ä»¤ç‰Œè°ƒç”¨ç®¡ç† APIï¼Œè¿›è€Œ**åœ¨æ— éœ€äºŒå¼€çš„æƒ…å†µä¸‹æ‰©å±•å’Œè‡ªå®šä¹‰** One API çš„åŠŸèƒ½ï¼Œè¯¦æƒ…è¯·å‚è€ƒæ­¤å¤„ [API æ–‡æ¡£](./docs/API.md)ã€‚ã€‚\n21. æ”¯æŒ Cloudflare Turnstile ç”¨æˆ·æ ¡éªŒã€‚\n22. æ”¯æŒç”¨æˆ·ç®¡ç†ï¼Œæ”¯æŒ**å¤šç§ç”¨æˆ·ç™»å½•æ³¨å†Œæ–¹å¼**ï¼š\n    + é‚®ç®±ç™»å½•æ³¨å†Œï¼ˆæ”¯æŒæ³¨å†Œé‚®ç®±ç™½åå•ï¼‰ä»¥åŠé€šè¿‡é‚®ç®±è¿›è¡Œå¯†ç é‡ç½®ã€‚\n    + æ”¯æŒ[é£ä¹¦æˆæƒç™»å½•](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/authen-v1/authorize/get)ï¼ˆ[è¿™é‡Œæœ‰ One API çš„å®ç°ç»†èŠ‚é˜è¿°ä¾›å‚è€ƒ](https://iamazing.cn/page/feishu-oauth-login)ï¼‰ã€‚\n    + æ”¯æŒ [GitHub æˆæƒç™»å½•](https://github.com/settings/applications/new)ã€‚\n    + å¾®ä¿¡å…¬ä¼—å·æˆæƒï¼ˆéœ€è¦é¢å¤–éƒ¨ç½² [WeChat Server](https://github.com/songquanpeng/wechat-server)ï¼‰ã€‚\n23. æ”¯æŒä¸»é¢˜åˆ‡æ¢ï¼Œè®¾ç½®ç¯å¢ƒå˜é‡ `THEME` å³å¯ï¼Œé»˜è®¤ä¸º `default`ï¼Œæ¬¢è¿ PR æ›´å¤šä¸»é¢˜ï¼Œå…·ä½“å‚è€ƒ[æ­¤å¤„](./web/README.md)ã€‚\n24. é…åˆ [Message Pusher](https://github.com/songquanpeng/message-pusher) å¯å°†æŠ¥è­¦ä¿¡æ¯æ¨é€åˆ°å¤šç§ App ä¸Šã€‚\n\n## éƒ¨ç½²\n### åŸºäº Docker è¿›è¡Œéƒ¨ç½²\n```shell\n# ä½¿ç”¨ SQLite çš„éƒ¨ç½²å‘½ä»¤ï¼š\ndocker run --name one-api -d --restart always -p 3000:3000 -e TZ=Asia/Shanghai -v /home/ubuntu/data/one-api:/data justsong/one-api\n# ä½¿ç”¨ MySQL çš„éƒ¨ç½²å‘½ä»¤ï¼Œåœ¨ä¸Šé¢çš„åŸºç¡€ä¸Šæ·»åŠ  `-e SQL_DSN=\"root:123456@tcp(localhost:3306)/oneapi\"`ï¼Œè¯·è‡ªè¡Œä¿®æ”¹æ•°æ®åº“è¿æ¥å‚æ•°ï¼Œä¸æ¸…æ¥šå¦‚ä½•ä¿®æ”¹è¯·å‚è§ä¸‹é¢ç¯å¢ƒå˜é‡ä¸€èŠ‚ã€‚\n# ä¾‹å¦‚ï¼š\ndocker run --name one-api -d --restart always -p 3000:3000 -e SQL_DSN=\"root:123456@tcp(localhost:3306)/oneapi\" -e TZ=Asia/Shanghai -v /home/ubuntu/data/one-api:/data justsong/one-api\n```\n\nå…¶ä¸­ï¼Œ`-p 3000:3000` ä¸­çš„ç¬¬ä¸€ä¸ª `3000` æ˜¯å®¿ä¸»æœºçš„ç«¯å£ï¼Œå¯ä»¥æ ¹æ®éœ€è¦è¿›è¡Œä¿®æ”¹ã€‚\n\næ•°æ®å’Œæ—¥å¿—å°†ä¼šä¿å­˜åœ¨å®¿ä¸»æœºçš„ `/home/ubuntu/data/one-api` ç›®å½•ï¼Œè¯·ç¡®ä¿è¯¥ç›®å½•å­˜åœ¨ä¸”å…·æœ‰å†™å…¥æƒé™ï¼Œæˆ–è€…æ›´æ”¹ä¸ºåˆé€‚çš„ç›®å½•ã€‚\n\nå¦‚æœå¯åŠ¨å¤±è´¥ï¼Œè¯·æ·»åŠ  `--privileged=true`ï¼Œå…·ä½“å‚è€ƒ https://github.com/songquanpeng/one-api/issues/482 ã€‚\n\nå¦‚æœä¸Šé¢çš„é•œåƒæ— æ³•æ‹‰å–ï¼Œå¯ä»¥å°è¯•ä½¿ç”¨ GitHub çš„ Docker é•œåƒï¼Œå°†ä¸Šé¢çš„ `justsong/one-api` æ›¿æ¢ä¸º `ghcr.io/songquanpeng/one-api` å³å¯ã€‚\n\nå¦‚æœä½ çš„å¹¶å‘é‡è¾ƒå¤§ï¼Œ**åŠ¡å¿…**è®¾ç½® `SQL_DSN`ï¼Œè¯¦è§ä¸‹é¢[ç¯å¢ƒå˜é‡](#ç¯å¢ƒå˜é‡)ä¸€èŠ‚ã€‚\n\næ›´æ–°å‘½ä»¤ï¼š`docker run --rm -v /var/run/docker.sock:/var/run/docker.sock containrrr/watchtower -cR`\n\nNginx çš„å‚è€ƒé…ç½®ï¼š\n```\nserver{\n   server_name openai.justsong.cn;  # è¯·æ ¹æ®å®é™…æƒ…å†µä¿®æ”¹ä½ çš„åŸŸå\n\n   location / {\n          client_max_body_size  64m;\n          proxy_http_version 1.1;\n          proxy_pass http://localhost:3000;  # è¯·æ ¹æ®å®é™…æƒ…å†µä¿®æ”¹ä½ çš„ç«¯å£\n          proxy_set_header Host $host;\n          proxy_set_header X-Forwarded-For $remote_addr;\n          proxy_cache_bypass $http_upgrade;\n          proxy_set_header Accept-Encoding gzip;\n          proxy_read_timeout 300s;  # GPT-4 éœ€è¦è¾ƒé•¿çš„è¶…æ—¶æ—¶é—´ï¼Œè¯·è‡ªè¡Œè°ƒæ•´\n   }\n}\n```\n\nä¹‹åä½¿ç”¨ Let's Encrypt çš„ certbot é…ç½® HTTPSï¼š\n```bash\n# Ubuntu å®‰è£… certbotï¼š\nsudo snap install --classic certbot\nsudo ln -s /snap/bin/certbot /usr/bin/certbot\n# ç”Ÿæˆè¯ä¹¦ & ä¿®æ”¹ Nginx é…ç½®\nsudo certbot --nginx\n# æ ¹æ®æŒ‡ç¤ºè¿›è¡Œæ“ä½œ\n# é‡å¯ Nginx\nsudo service nginx restart\n```\n\nåˆå§‹è´¦å·ç”¨æˆ·åä¸º `root`ï¼Œå¯†ç ä¸º `123456`ã€‚\n\n### é€šè¿‡å®å¡”é¢æ¿è¿›è¡Œä¸€é”®éƒ¨ç½²\n1. å®‰è£…å®å¡”é¢æ¿9.2.0åŠä»¥ä¸Šç‰ˆæœ¬ï¼Œå‰å¾€ [å®å¡”é¢æ¿](https://www.bt.cn/new/download.html?r=dk_oneapi) å®˜ç½‘ï¼Œé€‰æ‹©æ­£å¼ç‰ˆçš„è„šæœ¬ä¸‹è½½å®‰è£…ï¼›\n2. å®‰è£…åç™»å½•å®å¡”é¢æ¿ï¼Œåœ¨å·¦ä¾§èœå•æ ä¸­ç‚¹å‡» `Docker`ï¼Œé¦–æ¬¡è¿›å…¥ä¼šæç¤ºå®‰è£… `Docker` æœåŠ¡ï¼Œç‚¹å‡»ç«‹å³å®‰è£…ï¼ŒæŒ‰æç¤ºå®Œæˆå®‰è£…ï¼›\n3. å®‰è£…å®Œæˆååœ¨åº”ç”¨å•†åº—ä¸­æœç´¢ `One-API`ï¼Œç‚¹å‡»å®‰è£…ï¼Œé…ç½®åŸŸåç­‰åŸºæœ¬ä¿¡æ¯å³å¯å®Œæˆå®‰è£…ï¼›\n\n### åŸºäº Docker Compose è¿›è¡Œéƒ¨ç½²\n\n> ä»…å¯åŠ¨æ–¹å¼ä¸åŒï¼Œå‚æ•°è®¾ç½®ä¸å˜ï¼Œè¯·å‚è€ƒåŸºäº Docker éƒ¨ç½²éƒ¨åˆ†\n\n```shell\n# ç›®å‰æ”¯æŒ MySQL å¯åŠ¨ï¼Œæ•°æ®å­˜å‚¨åœ¨ ./data/mysql æ–‡ä»¶å¤¹å†…\ndocker-compose up -d\n\n# æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€\ndocker-compose ps\n```\n\n### æ‰‹åŠ¨éƒ¨ç½²\n1. ä» [GitHub Releases](https://github.com/songquanpeng/one-api/releases/latest) ä¸‹è½½å¯æ‰§è¡Œæ–‡ä»¶æˆ–è€…ä»æºç ç¼–è¯‘ï¼š\n   ```shell\n   git clone https://github.com/songquanpeng/one-api.git\n\n   # æ„å»ºå‰ç«¯\n   cd one-api/web/default\n   npm install\n   npm run build\n\n   # æ„å»ºåç«¯\n   cd ../..\n   go mod download\n   go build -ldflags \"-s -w\" -o one-api\n   ````\n2. è¿è¡Œï¼š\n   ```shell\n   chmod u+x one-api\n   ./one-api --port 3000 --log-dir ./logs\n   ```\n3. è®¿é—® [http://localhost:3000/](http://localhost:3000/) å¹¶ç™»å½•ã€‚åˆå§‹è´¦å·ç”¨æˆ·åä¸º `root`ï¼Œå¯†ç ä¸º `123456`ã€‚\n\næ›´åŠ è¯¦ç»†çš„éƒ¨ç½²æ•™ç¨‹[å‚è§æ­¤å¤„](https://iamazing.cn/page/how-to-deploy-a-website)ã€‚\n\n### å¤šæœºéƒ¨ç½²\n1. æ‰€æœ‰æœåŠ¡å™¨ `SESSION_SECRET` è®¾ç½®ä¸€æ ·çš„å€¼ã€‚\n2. å¿…é¡»è®¾ç½® `SQL_DSN`ï¼Œä½¿ç”¨ MySQL æ•°æ®åº“è€Œé SQLiteï¼Œæ‰€æœ‰æœåŠ¡å™¨è¿æ¥åŒä¸€ä¸ªæ•°æ®åº“ã€‚\n3. æ‰€æœ‰ä»æœåŠ¡å™¨å¿…é¡»è®¾ç½® `NODE_TYPE` ä¸º `slave`ï¼Œä¸è®¾ç½®åˆ™é»˜è®¤ä¸ºä¸»æœåŠ¡å™¨ã€‚\n4. è®¾ç½® `SYNC_FREQUENCY` åæœåŠ¡å™¨å°†å®šæœŸä»æ•°æ®åº“åŒæ­¥é…ç½®ï¼Œåœ¨ä½¿ç”¨è¿œç¨‹æ•°æ®åº“çš„æƒ…å†µä¸‹ï¼Œæ¨èè®¾ç½®è¯¥é¡¹å¹¶å¯ç”¨ Redisï¼Œæ— è®ºä¸»ä»ã€‚\n5. ä»æœåŠ¡å™¨å¯ä»¥é€‰æ‹©è®¾ç½® `FRONTEND_BASE_URL`ï¼Œä»¥é‡å®šå‘é¡µé¢è¯·æ±‚åˆ°ä¸»æœåŠ¡å™¨ã€‚\n6. ä»æœåŠ¡å™¨ä¸Š**åˆ†åˆ«**è£…å¥½ Redisï¼Œè®¾ç½®å¥½ `REDIS_CONN_STRING`ï¼Œè¿™æ ·å¯ä»¥åšåˆ°åœ¨ç¼“å­˜æœªè¿‡æœŸçš„æƒ…å†µä¸‹æ•°æ®åº“é›¶è®¿é—®ï¼Œå¯ä»¥å‡å°‘å»¶è¿Ÿï¼ˆRedis é›†ç¾¤æˆ–è€…å“¨å…µæ¨¡å¼çš„æ”¯æŒè¯·å‚è€ƒç¯å¢ƒå˜é‡è¯´æ˜ï¼‰ã€‚\n7. å¦‚æœä¸»æœåŠ¡å™¨è®¿é—®æ•°æ®åº“å»¶è¿Ÿä¹Ÿæ¯”è¾ƒé«˜ï¼Œåˆ™ä¹Ÿéœ€è¦å¯ç”¨ Redisï¼Œå¹¶è®¾ç½® `SYNC_FREQUENCY`ï¼Œä»¥å®šæœŸä»æ•°æ®åº“åŒæ­¥é…ç½®ã€‚\n\nç¯å¢ƒå˜é‡çš„å…·ä½“ä½¿ç”¨æ–¹æ³•è¯¦è§[æ­¤å¤„](#ç¯å¢ƒå˜é‡)ã€‚\n\n### å®å¡”éƒ¨ç½²æ•™ç¨‹\n\nè¯¦è§ [#175](https://github.com/songquanpeng/one-api/issues/175)ã€‚\n\nå¦‚æœéƒ¨ç½²åè®¿é—®å‡ºç°ç©ºç™½é¡µé¢ï¼Œè¯¦è§ [#97](https://github.com/songquanpeng/one-api/issues/97)ã€‚\n\n### éƒ¨ç½²ç¬¬ä¸‰æ–¹æœåŠ¡é…åˆ One API ä½¿ç”¨\n> æ¬¢è¿ PR æ·»åŠ æ›´å¤šç¤ºä¾‹ã€‚\n\n#### ChatGPT Next Web\né¡¹ç›®ä¸»é¡µï¼šhttps://github.com/Yidadaa/ChatGPT-Next-Web\n\n```bash\ndocker run --name chat-next-web -d -p 3001:3000 yidadaa/chatgpt-next-web\n```\n\næ³¨æ„ä¿®æ”¹ç«¯å£å·ï¼Œä¹‹ååœ¨é¡µé¢ä¸Šè®¾ç½®æ¥å£åœ°å€ï¼ˆä¾‹å¦‚ï¼šhttps://openai.justsong.cn/ ï¼‰å’Œ API Key å³å¯ã€‚\n\n#### ChatGPT Web\né¡¹ç›®ä¸»é¡µï¼šhttps://github.com/Chanzhaoyu/chatgpt-web\n\n```bash\ndocker run --name chatgpt-web -d -p 3002:3002 -e OPENAI_API_BASE_URL=https://openai.justsong.cn -e OPENAI_API_KEY=sk-xxx chenzhaoyu94/chatgpt-web\n```\n\næ³¨æ„ä¿®æ”¹ç«¯å£å·ã€`OPENAI_API_BASE_URL` å’Œ `OPENAI_API_KEY`ã€‚\n\n#### QChatGPT - QQæœºå™¨äºº\né¡¹ç›®ä¸»é¡µï¼šhttps://github.com/RockChinQ/QChatGPT\n\næ ¹æ®[æ–‡æ¡£](https://qchatgpt.rockchin.top)å®Œæˆéƒ¨ç½²åï¼Œåœ¨ `data/provider.json`è®¾ç½®`requester.openai-chat-completions.base-url`ä¸º One API å®ä¾‹åœ°å€ï¼Œå¹¶å¡«å†™ API Key åˆ° `keys.openai` ç»„ä¸­ï¼Œè®¾ç½® `model` ä¸ºè¦ä½¿ç”¨çš„æ¨¡å‹åç§°ã€‚\n\nè¿è¡ŒæœŸé—´å¯ä»¥é€šè¿‡`!model`å‘½ä»¤æŸ¥çœ‹ã€åˆ‡æ¢å¯ç”¨æ¨¡å‹ã€‚\n\n### éƒ¨ç½²åˆ°ç¬¬ä¸‰æ–¹å¹³å°\n<details>\n<summary><strong>éƒ¨ç½²åˆ° Sealos </strong></summary>\n<div>\n\n> Sealos çš„æœåŠ¡å™¨åœ¨å›½å¤–ï¼Œä¸éœ€è¦é¢å¤–å¤„ç†ç½‘ç»œé—®é¢˜ï¼Œæ”¯æŒé«˜å¹¶å‘ & åŠ¨æ€ä¼¸ç¼©ã€‚\n\nç‚¹å‡»ä»¥ä¸‹æŒ‰é’®ä¸€é”®éƒ¨ç½²ï¼ˆéƒ¨ç½²åè®¿é—®å‡ºç° 404 è¯·ç­‰å¾… 3~5 åˆ†é’Ÿï¼‰ï¼š\n\n[![Deploy-on-Sealos.svg](https://raw.githubusercontent.com/labring-actions/templates/main/Deploy-on-Sealos.svg)](https://cloud.sealos.io/?openapp=system-fastdeploy?templateName=one-api)\n\n</div>\n</details>\n\n<details>\n<summary><strong>éƒ¨ç½²åˆ° Zeabur</strong></summary>\n<div>\n\n> Zeabur çš„æœåŠ¡å™¨åœ¨å›½å¤–ï¼Œè‡ªåŠ¨è§£å†³äº†ç½‘ç»œçš„é—®é¢˜ï¼ŒåŒæ—¶å…è´¹çš„é¢åº¦ä¹Ÿè¶³å¤Ÿä¸ªäººä½¿ç”¨\n\n[![Deploy on Zeabur](https://zeabur.com/button.svg)](https://zeabur.com/templates/7Q0KO3)\n\n1. é¦–å…ˆ fork ä¸€ä»½ä»£ç ã€‚\n2. è¿›å…¥ [Zeabur](https://zeabur.com?referralCode=songquanpeng)ï¼Œç™»å½•ï¼Œè¿›å…¥æ§åˆ¶å°ã€‚\n3. æ–°å»ºä¸€ä¸ª Projectï¼Œåœ¨ Service -> Add Service é€‰æ‹© Marketplaceï¼Œé€‰æ‹© MySQLï¼Œå¹¶è®°ä¸‹è¿æ¥å‚æ•°ï¼ˆç”¨æˆ·åã€å¯†ç ã€åœ°å€ã€ç«¯å£ï¼‰ã€‚\n4. å¤åˆ¶é“¾æ¥å‚æ•°ï¼Œè¿è¡Œ ```create database `one-api` ``` åˆ›å»ºæ•°æ®åº“ã€‚\n5. ç„¶ååœ¨ Service -> Add Serviceï¼Œé€‰æ‹© Gitï¼ˆç¬¬ä¸€æ¬¡ä½¿ç”¨éœ€è¦å…ˆæˆæƒï¼‰ï¼Œé€‰æ‹©ä½  fork çš„ä»“åº“ã€‚\n6. Deploy ä¼šè‡ªåŠ¨å¼€å§‹ï¼Œå…ˆå–æ¶ˆã€‚è¿›å…¥ä¸‹æ–¹ Variableï¼Œæ·»åŠ ä¸€ä¸ª `PORT`ï¼Œå€¼ä¸º `3000`ï¼Œå†æ·»åŠ ä¸€ä¸ª `SQL_DSN`ï¼Œå€¼ä¸º `<username>:<password>@tcp(<addr>:<port>)/one-api` ï¼Œç„¶åä¿å­˜ã€‚ æ³¨æ„å¦‚æœä¸å¡«å†™ `SQL_DSN`ï¼Œæ•°æ®å°†æ— æ³•æŒä¹…åŒ–ï¼Œé‡æ–°éƒ¨ç½²åæ•°æ®ä¼šä¸¢å¤±ã€‚\n7. é€‰æ‹© Redeployã€‚\n8. è¿›å…¥ä¸‹æ–¹ Domainsï¼Œé€‰æ‹©ä¸€ä¸ªåˆé€‚çš„åŸŸåå‰ç¼€ï¼Œå¦‚ \"my-one-api\"ï¼Œæœ€ç»ˆåŸŸåä¸º \"my-one-api.zeabur.app\"ï¼Œä¹Ÿå¯ä»¥ CNAME è‡ªå·±çš„åŸŸåã€‚\n9. ç­‰å¾…éƒ¨ç½²å®Œæˆï¼Œç‚¹å‡»ç”Ÿæˆçš„åŸŸåè¿›å…¥ One APIã€‚\n\n</div>\n</details>\n\n<details>\n<summary><strong>éƒ¨ç½²åˆ° Render</strong></summary>\n<div>\n\n> Render æä¾›å…è´¹é¢åº¦ï¼Œç»‘å¡åå¯ä»¥è¿›ä¸€æ­¥æå‡é¢åº¦\n\nRender å¯ä»¥ç›´æ¥éƒ¨ç½² docker é•œåƒï¼Œä¸éœ€è¦ fork ä»“åº“ï¼šhttps://dashboard.render.com\n\n</div>\n</details>\n\n## é…ç½®\nç³»ç»Ÿæœ¬èº«å¼€ç®±å³ç”¨ã€‚\n\nä½ å¯ä»¥é€šè¿‡è®¾ç½®ç¯å¢ƒå˜é‡æˆ–è€…å‘½ä»¤è¡Œå‚æ•°è¿›è¡Œé…ç½®ã€‚\n\nç­‰åˆ°ç³»ç»Ÿå¯åŠ¨åï¼Œä½¿ç”¨ `root` ç”¨æˆ·ç™»å½•ç³»ç»Ÿå¹¶åšè¿›ä¸€æ­¥çš„é…ç½®ã€‚\n\n**Note**ï¼šå¦‚æœä½ ä¸çŸ¥é“æŸä¸ªé…ç½®é¡¹çš„å«ä¹‰ï¼Œå¯ä»¥ä¸´æ—¶åˆ æ‰å€¼ä»¥çœ‹åˆ°è¿›ä¸€æ­¥çš„æç¤ºæ–‡å­—ã€‚\n\n## ä½¿ç”¨æ–¹æ³•\nåœ¨`æ¸ é“`é¡µé¢ä¸­æ·»åŠ ä½ çš„ API Keyï¼Œä¹‹ååœ¨`ä»¤ç‰Œ`é¡µé¢ä¸­æ–°å¢è®¿é—®ä»¤ç‰Œã€‚\n\nä¹‹åå°±å¯ä»¥ä½¿ç”¨ä½ çš„ä»¤ç‰Œè®¿é—® One API äº†ï¼Œä½¿ç”¨æ–¹å¼ä¸ [OpenAI API](https://platform.openai.com/docs/api-reference/introduction) ä¸€è‡´ã€‚\n\nä½ éœ€è¦åœ¨å„ç§ç”¨åˆ° OpenAI API çš„åœ°æ–¹è®¾ç½® API Base ä¸ºä½ çš„ One API çš„éƒ¨ç½²åœ°å€ï¼Œä¾‹å¦‚ï¼š`https://openai.justsong.cn`ï¼ŒAPI Key åˆ™ä¸ºä½ åœ¨ One API ä¸­ç”Ÿæˆçš„ä»¤ç‰Œã€‚\n\næ³¨æ„ï¼Œå…·ä½“çš„ API Base çš„æ ¼å¼å–å†³äºä½ æ‰€ä½¿ç”¨çš„å®¢æˆ·ç«¯ã€‚\n\nä¾‹å¦‚å¯¹äº OpenAI çš„å®˜æ–¹åº“ï¼š\n```bash\nOPENAI_API_KEY=\"sk-xxxxxx\"\nOPENAI_API_BASE=\"https://<HOST>:<PORT>/v1\"\n```\n\n```mermaid\ngraph LR\n    A(ç”¨æˆ·)\n    A --->|ä½¿ç”¨ One API åˆ†å‘çš„ key è¿›è¡Œè¯·æ±‚| B(One API)\n    B -->|ä¸­ç»§è¯·æ±‚| C(OpenAI)\n    B -->|ä¸­ç»§è¯·æ±‚| D(Azure)\n    B -->|ä¸­ç»§è¯·æ±‚| E(å…¶ä»– OpenAI API æ ¼å¼ä¸‹æ¸¸æ¸ é“)\n    B -->|ä¸­ç»§å¹¶ä¿®æ”¹è¯·æ±‚ä½“å’Œè¿”å›ä½“| F(é OpenAI API æ ¼å¼ä¸‹æ¸¸æ¸ é“)\n```\n\nå¯ä»¥é€šè¿‡åœ¨ä»¤ç‰Œåé¢æ·»åŠ æ¸ é“ ID çš„æ–¹å¼æŒ‡å®šä½¿ç”¨å“ªä¸€ä¸ªæ¸ é“å¤„ç†æœ¬æ¬¡è¯·æ±‚ï¼Œä¾‹å¦‚ï¼š`Authorization: Bearer ONE_API_KEY-CHANNEL_ID`ã€‚\næ³¨æ„ï¼Œéœ€è¦æ˜¯ç®¡ç†å‘˜ç”¨æˆ·åˆ›å»ºçš„ä»¤ç‰Œæ‰èƒ½æŒ‡å®šæ¸ é“ IDã€‚\n\nä¸åŠ çš„è¯å°†ä¼šä½¿ç”¨è´Ÿè½½å‡è¡¡çš„æ–¹å¼ä½¿ç”¨å¤šä¸ªæ¸ é“ã€‚\n\n### ç¯å¢ƒå˜é‡\n> One API æ”¯æŒä» `.env` æ–‡ä»¶ä¸­è¯»å–ç¯å¢ƒå˜é‡ï¼Œè¯·å‚ç…§ `.env.example` æ–‡ä»¶ï¼Œä½¿ç”¨æ—¶è¯·å°†å…¶é‡å‘½åä¸º `.env`ã€‚\n1. `REDIS_CONN_STRING`ï¼šè®¾ç½®ä¹‹åå°†ä½¿ç”¨ Redis ä½œä¸ºç¼“å­˜ä½¿ç”¨ã€‚\n   + ä¾‹å­ï¼š`REDIS_CONN_STRING=redis://default:redispw@localhost:49153`\n   + å¦‚æœæ•°æ®åº“è®¿é—®å»¶è¿Ÿå¾ˆä½ï¼Œæ²¡æœ‰å¿…è¦å¯ç”¨ Redisï¼Œå¯ç”¨ååè€Œä¼šå‡ºç°æ•°æ®æ»åçš„é—®é¢˜ã€‚\n   + å¦‚æœéœ€è¦ä½¿ç”¨å“¨å…µæˆ–è€…é›†ç¾¤æ¨¡å¼ï¼š\n     + åˆ™éœ€è¦æŠŠè¯¥ç¯å¢ƒå˜é‡è®¾ç½®ä¸ºèŠ‚ç‚¹åˆ—è¡¨ï¼Œä¾‹å¦‚ï¼š`localhost:49153,localhost:49154,localhost:49155`ã€‚\n     + é™¤æ­¤ä¹‹å¤–è¿˜éœ€è¦è®¾ç½®ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š\n       + `REDIS_PASSWORD`ï¼šRedis é›†ç¾¤æˆ–è€…å“¨å…µæ¨¡å¼ä¸‹çš„å¯†ç è®¾ç½®ã€‚\n       + `REDIS_MASTER_NAME`ï¼šRedis å“¨å…µæ¨¡å¼ä¸‹ä¸»èŠ‚ç‚¹çš„åç§°ã€‚\n2. `SESSION_SECRET`ï¼šè®¾ç½®ä¹‹åå°†ä½¿ç”¨å›ºå®šçš„ä¼šè¯å¯†é’¥ï¼Œè¿™æ ·ç³»ç»Ÿé‡æ–°å¯åŠ¨åå·²ç™»å½•ç”¨æˆ·çš„ cookie å°†ä¾æ—§æœ‰æ•ˆã€‚\n   + ä¾‹å­ï¼š`SESSION_SECRET=random_string`\n3. `SQL_DSN`ï¼šè®¾ç½®ä¹‹åå°†ä½¿ç”¨æŒ‡å®šæ•°æ®åº“è€Œé SQLiteï¼Œè¯·ä½¿ç”¨ MySQL æˆ– PostgreSQLã€‚\n   + ä¾‹å­ï¼š\n     + MySQLï¼š`SQL_DSN=root:123456@tcp(localhost:3306)/oneapi`\n     + PostgreSQLï¼š`SQL_DSN=postgres://postgres:123456@localhost:5432/oneapi`ï¼ˆé€‚é…ä¸­ï¼Œæ¬¢è¿åé¦ˆï¼‰\n   + æ³¨æ„éœ€è¦æå‰å»ºç«‹æ•°æ®åº“ `oneapi`ï¼Œæ— éœ€æ‰‹åŠ¨å»ºè¡¨ï¼Œç¨‹åºå°†è‡ªåŠ¨å»ºè¡¨ã€‚\n   + å¦‚æœä½¿ç”¨æœ¬åœ°æ•°æ®åº“ï¼šéƒ¨ç½²å‘½ä»¤å¯æ·»åŠ  `--network=\"host\"` ä»¥ä½¿å¾—å®¹å™¨å†…çš„ç¨‹åºå¯ä»¥è®¿é—®åˆ°å®¿ä¸»æœºä¸Šçš„ MySQLã€‚\n   + å¦‚æœä½¿ç”¨äº‘æ•°æ®åº“ï¼šå¦‚æœäº‘æœåŠ¡å™¨éœ€è¦éªŒè¯èº«ä»½ï¼Œéœ€è¦åœ¨è¿æ¥å‚æ•°ä¸­æ·»åŠ  `?tls=skip-verify`ã€‚\n   + è¯·æ ¹æ®ä½ çš„æ•°æ®åº“é…ç½®ä¿®æ”¹ä¸‹åˆ—å‚æ•°ï¼ˆæˆ–è€…ä¿æŒé»˜è®¤å€¼ï¼‰ï¼š\n     + `SQL_MAX_IDLE_CONNS`ï¼šæœ€å¤§ç©ºé—²è¿æ¥æ•°ï¼Œé»˜è®¤ä¸º `100`ã€‚\n     + `SQL_MAX_OPEN_CONNS`ï¼šæœ€å¤§æ‰“å¼€è¿æ¥æ•°ï¼Œé»˜è®¤ä¸º `1000`ã€‚\n       + å¦‚æœæŠ¥é”™ `Error 1040: Too many connections`ï¼Œè¯·é€‚å½“å‡å°è¯¥å€¼ã€‚\n     + `SQL_CONN_MAX_LIFETIME`ï¼šè¿æ¥çš„æœ€å¤§ç”Ÿå‘½å‘¨æœŸï¼Œé»˜è®¤ä¸º `60`ï¼Œå•ä½åˆ†é’Ÿã€‚\n4. `LOG_SQL_DSN`ï¼šè®¾ç½®ä¹‹åå°†ä¸º `logs` è¡¨ä½¿ç”¨ç‹¬ç«‹çš„æ•°æ®åº“ï¼Œè¯·ä½¿ç”¨ MySQL æˆ– PostgreSQLã€‚\n5. `FRONTEND_BASE_URL`ï¼šè®¾ç½®ä¹‹åå°†é‡å®šå‘é¡µé¢è¯·æ±‚åˆ°æŒ‡å®šçš„åœ°å€ï¼Œä»…é™ä»æœåŠ¡å™¨è®¾ç½®ã€‚\n   + ä¾‹å­ï¼š`FRONTEND_BASE_URL=https://openai.justsong.cn`\n6. `MEMORY_CACHE_ENABLED`ï¼šå¯ç”¨å†…å­˜ç¼“å­˜ï¼Œä¼šå¯¼è‡´ç”¨æˆ·é¢åº¦çš„æ›´æ–°å­˜åœ¨ä¸€å®šçš„å»¶è¿Ÿï¼Œå¯é€‰å€¼ä¸º `true` å’Œ `false`ï¼Œæœªè®¾ç½®åˆ™é»˜è®¤ä¸º `false`ã€‚\n   + ä¾‹å­ï¼š`MEMORY_CACHE_ENABLED=true`\n7. `SYNC_FREQUENCY`ï¼šåœ¨å¯ç”¨ç¼“å­˜çš„æƒ…å†µä¸‹ä¸æ•°æ®åº“åŒæ­¥é…ç½®çš„é¢‘ç‡ï¼Œå•ä½ä¸ºç§’ï¼Œé»˜è®¤ä¸º `600` ç§’ã€‚\n   + ä¾‹å­ï¼š`SYNC_FREQUENCY=60`\n8. `NODE_TYPE`ï¼šè®¾ç½®ä¹‹åå°†æŒ‡å®šèŠ‚ç‚¹ç±»å‹ï¼Œå¯é€‰å€¼ä¸º `master` å’Œ `slave`ï¼Œæœªè®¾ç½®åˆ™é»˜è®¤ä¸º `master`ã€‚\n   + ä¾‹å­ï¼š`NODE_TYPE=slave`\n9. `CHANNEL_UPDATE_FREQUENCY`ï¼šè®¾ç½®ä¹‹åå°†å®šæœŸæ›´æ–°æ¸ é“ä½™é¢ï¼Œå•ä½ä¸ºåˆ†é’Ÿï¼Œæœªè®¾ç½®åˆ™ä¸è¿›è¡Œæ›´æ–°ã€‚\n   + ä¾‹å­ï¼š`CHANNEL_UPDATE_FREQUENCY=1440`\n10. `CHANNEL_TEST_FREQUENCY`ï¼šè®¾ç½®ä¹‹åå°†å®šæœŸæ£€æŸ¥æ¸ é“ï¼Œå•ä½ä¸ºåˆ†é’Ÿï¼Œæœªè®¾ç½®åˆ™ä¸è¿›è¡Œæ£€æŸ¥ã€‚ \n   +ä¾‹å­ï¼š`CHANNEL_TEST_FREQUENCY=1440`\n11. `POLLING_INTERVAL`ï¼šæ‰¹é‡æ›´æ–°æ¸ é“ä½™é¢ä»¥åŠæµ‹è¯•å¯ç”¨æ€§æ—¶çš„è¯·æ±‚é—´éš”ï¼Œå•ä½ä¸ºç§’ï¼Œé»˜è®¤æ— é—´éš”ã€‚\n    + ä¾‹å­ï¼š`POLLING_INTERVAL=5`\n12. `BATCH_UPDATE_ENABLED`ï¼šå¯ç”¨æ•°æ®åº“æ‰¹é‡æ›´æ–°èšåˆï¼Œä¼šå¯¼è‡´ç”¨æˆ·é¢åº¦çš„æ›´æ–°å­˜åœ¨ä¸€å®šçš„å»¶è¿Ÿå¯é€‰å€¼ä¸º `true` å’Œ `false`ï¼Œæœªè®¾ç½®åˆ™é»˜è®¤ä¸º `false`ã€‚\n    + ä¾‹å­ï¼š`BATCH_UPDATE_ENABLED=true`\n    + å¦‚æœä½ é‡åˆ°äº†æ•°æ®åº“è¿æ¥æ•°è¿‡å¤šçš„é—®é¢˜ï¼Œå¯ä»¥å°è¯•å¯ç”¨è¯¥é€‰é¡¹ã€‚\n13. `BATCH_UPDATE_INTERVAL=5`ï¼šæ‰¹é‡æ›´æ–°èšåˆçš„æ—¶é—´é—´éš”ï¼Œå•ä½ä¸ºç§’ï¼Œé»˜è®¤ä¸º `5`ã€‚\n    + ä¾‹å­ï¼š`BATCH_UPDATE_INTERVAL=5`\n14. è¯·æ±‚é¢‘ç‡é™åˆ¶ï¼š\n    + `GLOBAL_API_RATE_LIMIT`ï¼šå…¨å±€ API é€Ÿç‡é™åˆ¶ï¼ˆé™¤ä¸­ç»§è¯·æ±‚å¤–ï¼‰ï¼Œå• ip ä¸‰åˆ†é’Ÿå†…çš„æœ€å¤§è¯·æ±‚æ•°ï¼Œé»˜è®¤ä¸º `180`ã€‚\n    + `GLOBAL_WEB_RATE_LIMIT`ï¼šå…¨å±€ Web é€Ÿç‡é™åˆ¶ï¼Œå• ip ä¸‰åˆ†é’Ÿå†…çš„æœ€å¤§è¯·æ±‚æ•°ï¼Œé»˜è®¤ä¸º `60`ã€‚\n15. ç¼–ç å™¨ç¼“å­˜è®¾ç½®ï¼š\n    + `TIKTOKEN_CACHE_DIR`ï¼šé»˜è®¤ç¨‹åºå¯åŠ¨æ—¶ä¼šè”ç½‘ä¸‹è½½ä¸€äº›é€šç”¨çš„è¯å…ƒçš„ç¼–ç ï¼Œå¦‚ï¼š`gpt-3.5-turbo`ï¼Œåœ¨ä¸€äº›ç½‘ç»œç¯å¢ƒä¸ç¨³å®šï¼Œæˆ–è€…ç¦»çº¿æƒ…å†µï¼Œå¯èƒ½ä¼šå¯¼è‡´å¯åŠ¨æœ‰é—®é¢˜ï¼Œå¯ä»¥é…ç½®æ­¤ç›®å½•ç¼“å­˜æ•°æ®ï¼Œå¯è¿ç§»åˆ°ç¦»çº¿ç¯å¢ƒã€‚\n    + `DATA_GYM_CACHE_DIR`ï¼šç›®å‰è¯¥é…ç½®ä½œç”¨ä¸ `TIKTOKEN_CACHE_DIR` ä¸€è‡´ï¼Œä½†æ˜¯ä¼˜å…ˆçº§æ²¡æœ‰å®ƒé«˜ã€‚\n16. `RELAY_TIMEOUT`ï¼šä¸­ç»§è¶…æ—¶è®¾ç½®ï¼Œå•ä½ä¸ºç§’ï¼Œé»˜è®¤ä¸è®¾ç½®è¶…æ—¶æ—¶é—´ã€‚\n17. `RELAY_PROXY`ï¼šè®¾ç½®åä½¿ç”¨è¯¥ä»£ç†æ¥è¯·æ±‚ APIã€‚\n18. `USER_CONTENT_REQUEST_TIMEOUT`ï¼šç”¨æˆ·ä¸Šä¼ å†…å®¹ä¸‹è½½è¶…æ—¶æ—¶é—´ï¼Œå•ä½ä¸ºç§’ã€‚\n19. `USER_CONTENT_REQUEST_PROXY`ï¼šè®¾ç½®åä½¿ç”¨è¯¥ä»£ç†æ¥è¯·æ±‚ç”¨æˆ·ä¸Šä¼ çš„å†…å®¹ï¼Œä¾‹å¦‚å›¾ç‰‡ã€‚\n20. `SQLITE_BUSY_TIMEOUT`ï¼šSQLite é”ç­‰å¾…è¶…æ—¶è®¾ç½®ï¼Œå•ä½ä¸ºæ¯«ç§’ï¼Œé»˜è®¤ `3000`ã€‚\n21. `GEMINI_SAFETY_SETTING`ï¼šGemini çš„å®‰å…¨è®¾ç½®ï¼Œé»˜è®¤ `BLOCK_NONE`ã€‚\n22. `GEMINI_VERSION`ï¼šOne API æ‰€ä½¿ç”¨çš„ Gemini ç‰ˆæœ¬ï¼Œé»˜è®¤ä¸º `v1`ã€‚\n23. `THEME`ï¼šç³»ç»Ÿçš„ä¸»é¢˜è®¾ç½®ï¼Œé»˜è®¤ä¸º `default`ï¼Œå…·ä½“å¯é€‰å€¼å‚è€ƒ[æ­¤å¤„](./web/README.md)ã€‚\n24. `ENABLE_METRIC`ï¼šæ˜¯å¦æ ¹æ®è¯·æ±‚æˆåŠŸç‡ç¦ç”¨æ¸ é“ï¼Œé»˜è®¤ä¸å¼€å¯ï¼Œå¯é€‰å€¼ä¸º `true` å’Œ `false`ã€‚\n25. `METRIC_QUEUE_SIZE`ï¼šè¯·æ±‚æˆåŠŸç‡ç»Ÿè®¡é˜Ÿåˆ—å¤§å°ï¼Œé»˜è®¤ä¸º `10`ã€‚\n26. `METRIC_SUCCESS_RATE_THRESHOLD`ï¼šè¯·æ±‚æˆåŠŸç‡é˜ˆå€¼ï¼Œé»˜è®¤ä¸º `0.8`ã€‚\n27. `INITIAL_ROOT_TOKEN`ï¼šå¦‚æœè®¾ç½®äº†è¯¥å€¼ï¼Œåˆ™åœ¨ç³»ç»Ÿé¦–æ¬¡å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªå€¼ä¸ºè¯¥ç¯å¢ƒå˜é‡å€¼çš„ root ç”¨æˆ·ä»¤ç‰Œã€‚\n28. `INITIAL_ROOT_ACCESS_TOKEN`ï¼šå¦‚æœè®¾ç½®äº†è¯¥å€¼ï¼Œåˆ™åœ¨ç³»ç»Ÿé¦–æ¬¡å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªå€¼ä¸ºè¯¥ç¯å¢ƒå˜é‡çš„ root ç”¨æˆ·åˆ›å»ºç³»ç»Ÿç®¡ç†ä»¤ç‰Œã€‚\n29. `ENFORCE_INCLUDE_USAGE`ï¼šæ˜¯å¦å¼ºåˆ¶åœ¨ stream æ¨¡å‹ä¸‹è¿”å› usageï¼Œé»˜è®¤ä¸å¼€å¯ï¼Œå¯é€‰å€¼ä¸º `true` å’Œ `false`ã€‚\n\n### å‘½ä»¤è¡Œå‚æ•°\n1. `--port <port_number>`: æŒ‡å®šæœåŠ¡å™¨ç›‘å¬çš„ç«¯å£å·ï¼Œé»˜è®¤ä¸º `3000`ã€‚\n   + ä¾‹å­ï¼š`--port 3000`\n2. `--log-dir <log_dir>`: æŒ‡å®šæ—¥å¿—æ–‡ä»¶å¤¹ï¼Œå¦‚æœæ²¡æœ‰è®¾ç½®ï¼Œé»˜è®¤ä¿å­˜è‡³å·¥ä½œç›®å½•çš„ `logs` æ–‡ä»¶å¤¹ä¸‹ã€‚\n   + ä¾‹å­ï¼š`--log-dir ./logs`\n3. `--version`: æ‰“å°ç³»ç»Ÿç‰ˆæœ¬å·å¹¶é€€å‡ºã€‚\n4. `--help`: æŸ¥çœ‹å‘½ä»¤çš„ä½¿ç”¨å¸®åŠ©å’Œå‚æ•°è¯´æ˜ã€‚\n\n## æ¼”ç¤º\n### åœ¨çº¿æ¼”ç¤º\næ³¨æ„ï¼Œè¯¥æ¼”ç¤ºç«™ä¸æä¾›å¯¹å¤–æœåŠ¡ï¼š\nhttps://openai.justsong.cn\n\n### æˆªå›¾å±•ç¤º\n![channel](https://user-images.githubusercontent.com/39998050/233837954-ae6683aa-5c4f-429f-a949-6645a83c9490.png)\n![token](https://user-images.githubusercontent.com/39998050/233837971-dab488b7-6d96-43af-b640-a168e8d1c9bf.png)\n\n## å¸¸è§é—®é¢˜\n1. é¢åº¦æ˜¯ä»€ä¹ˆï¼Ÿæ€ä¹ˆè®¡ç®—çš„ï¼ŸOne API çš„é¢åº¦è®¡ç®—æœ‰é—®é¢˜ï¼Ÿ\n   + é¢åº¦ = åˆ†ç»„å€ç‡ * æ¨¡å‹å€ç‡ * ï¼ˆæç¤º token æ•° + è¡¥å…¨ token æ•° * è¡¥å…¨å€ç‡ï¼‰\n   + å…¶ä¸­è¡¥å…¨å€ç‡å¯¹äº GPT3.5 å›ºå®šä¸º 1.33ï¼ŒGPT4 ä¸º 2ï¼Œä¸å®˜æ–¹ä¿æŒä¸€è‡´ã€‚\n   + å¦‚æœæ˜¯éæµæ¨¡å¼ï¼Œå®˜æ–¹æ¥å£ä¼šè¿”å›æ¶ˆè€—çš„æ€» tokenï¼Œä½†æ˜¯ä½ è¦æ³¨æ„æç¤ºå’Œè¡¥å…¨çš„æ¶ˆè€—å€ç‡ä¸ä¸€æ ·ã€‚\n   + æ³¨æ„ï¼ŒOne API çš„é»˜è®¤å€ç‡å°±æ˜¯å®˜æ–¹å€ç‡ï¼Œæ˜¯å·²ç»è°ƒæ•´è¿‡çš„ã€‚\n2. è´¦æˆ·é¢åº¦è¶³å¤Ÿä¸ºä»€ä¹ˆæç¤ºé¢åº¦ä¸è¶³ï¼Ÿ\n   + è¯·æ£€æŸ¥ä½ çš„ä»¤ç‰Œé¢åº¦æ˜¯å¦è¶³å¤Ÿï¼Œè¿™ä¸ªå’Œè´¦æˆ·é¢åº¦æ˜¯åˆ†å¼€çš„ã€‚\n   + ä»¤ç‰Œé¢åº¦ä»…ä¾›ç”¨æˆ·è®¾ç½®æœ€å¤§ä½¿ç”¨é‡ï¼Œç”¨æˆ·å¯è‡ªç”±è®¾ç½®ã€‚\n3. æç¤ºæ— å¯ç”¨æ¸ é“ï¼Ÿ\n   + è¯·æ£€æŸ¥çš„ç”¨æˆ·åˆ†ç»„å’Œæ¸ é“åˆ†ç»„è®¾ç½®ã€‚\n   + ä»¥åŠæ¸ é“çš„æ¨¡å‹è®¾ç½®ã€‚\n4. æ¸ é“æµ‹è¯•æŠ¥é”™ï¼š`invalid character '<' looking for beginning of value`\n   + è¿™æ˜¯å› ä¸ºè¿”å›å€¼ä¸æ˜¯åˆæ³•çš„ JSONï¼Œè€Œæ˜¯ä¸€ä¸ª HTML é¡µé¢ã€‚\n   + å¤§æ¦‚ç‡æ˜¯ä½ çš„éƒ¨ç½²ç«™çš„ IP æˆ–ä»£ç†çš„èŠ‚ç‚¹è¢« CloudFlare å°ç¦äº†ã€‚\n5. ChatGPT Next Web æŠ¥é”™ï¼š`Failed to fetch`\n   + éƒ¨ç½²çš„æ—¶å€™ä¸è¦è®¾ç½® `BASE_URL`ã€‚\n   + æ£€æŸ¥ä½ çš„æ¥å£åœ°å€å’Œ API Key æœ‰æ²¡æœ‰å¡«å¯¹ã€‚\n   + æ£€æŸ¥æ˜¯å¦å¯ç”¨äº† HTTPSï¼Œæµè§ˆå™¨ä¼šæ‹¦æˆª HTTPS åŸŸåä¸‹çš„ HTTP è¯·æ±‚ã€‚\n6. æŠ¥é”™ï¼š`å½“å‰åˆ†ç»„è´Ÿè½½å·²é¥±å’Œï¼Œè¯·ç¨åå†è¯•`\n   + ä¸Šæ¸¸æ¸ é“ 429 äº†ã€‚\n7. å‡çº§ä¹‹åæˆ‘çš„æ•°æ®ä¼šä¸¢å¤±å—ï¼Ÿ\n   + å¦‚æœä½¿ç”¨ MySQLï¼Œä¸ä¼šã€‚\n   + å¦‚æœä½¿ç”¨ SQLiteï¼Œéœ€è¦æŒ‰ç…§æˆ‘æ‰€ç»™çš„éƒ¨ç½²å‘½ä»¤æŒ‚è½½ volume æŒä¹…åŒ– one-api.db æ•°æ®åº“æ–‡ä»¶ï¼Œå¦åˆ™å®¹å™¨é‡å¯åæ•°æ®ä¼šä¸¢å¤±ã€‚\n8. å‡çº§ä¹‹å‰æ•°æ®åº“éœ€è¦åšå˜æ›´å—ï¼Ÿ\n   + ä¸€èˆ¬æƒ…å†µä¸‹ä¸éœ€è¦ï¼Œç³»ç»Ÿå°†åœ¨åˆå§‹åŒ–çš„æ—¶å€™è‡ªåŠ¨è°ƒæ•´ã€‚\n   + å¦‚æœéœ€è¦çš„è¯ï¼Œæˆ‘ä¼šåœ¨æ›´æ–°æ—¥å¿—ä¸­è¯´æ˜ï¼Œå¹¶ç»™å‡ºè„šæœ¬ã€‚\n9. æ‰‹åŠ¨ä¿®æ”¹æ•°æ®åº“åæŠ¥é”™ï¼š`æ•°æ®åº“ä¸€è‡´æ€§å·²è¢«ç ´åï¼Œè¯·è”ç³»ç®¡ç†å‘˜`ï¼Ÿ\n   + è¿™æ˜¯æ£€æµ‹åˆ° ability è¡¨é‡Œæœ‰äº›è®°å½•çš„æ¸ é“ id æ˜¯ä¸å­˜åœ¨çš„ï¼Œè¿™å¤§æ¦‚ç‡æ˜¯å› ä¸ºä½ åˆ äº† channel è¡¨é‡Œçš„è®°å½•ä½†æ˜¯æ²¡æœ‰åŒæ­¥åœ¨ ability è¡¨é‡Œæ¸…ç†æ— æ•ˆçš„æ¸ é“ã€‚\n   + å¯¹äºæ¯ä¸€ä¸ªæ¸ é“ï¼Œå…¶æ‰€æ”¯æŒçš„æ¨¡å‹éƒ½éœ€è¦æœ‰ä¸€ä¸ªä¸“é—¨çš„ ability è¡¨çš„è®°å½•ï¼Œè¡¨ç¤ºè¯¥æ¸ é“æ”¯æŒè¯¥æ¨¡å‹ã€‚\n\n## ç›¸å…³é¡¹ç›®\n* [FastGPT](https://github.com/labring/FastGPT): åŸºäº LLM å¤§è¯­è¨€æ¨¡å‹çš„çŸ¥è¯†åº“é—®ç­”ç³»ç»Ÿ\n* [ChatGPT Next Web](https://github.com/Yidadaa/ChatGPT-Next-Web):  ä¸€é”®æ‹¥æœ‰ä½ è‡ªå·±çš„è·¨å¹³å° ChatGPT åº”ç”¨\n* [VChart](https://github.com/VisActor/VChart):  ä¸åªæ˜¯å¼€ç®±å³ç”¨çš„å¤šç«¯å›¾è¡¨åº“ï¼Œæ›´æ˜¯ç”ŸåŠ¨çµæ´»çš„æ•°æ®æ•…äº‹è®²è¿°è€…ã€‚\n* [VMind](https://github.com/VisActor/VMind):  ä¸ä»…è‡ªåŠ¨ï¼Œè¿˜å¾ˆæ™ºèƒ½ã€‚å¼€æºæ™ºèƒ½å¯è§†åŒ–è§£å†³æ–¹æ¡ˆã€‚\n\n## æ³¨æ„\n\næœ¬é¡¹ç›®ä½¿ç”¨ MIT åè®®è¿›è¡Œå¼€æºï¼Œ**åœ¨æ­¤åŸºç¡€ä¸Š**ï¼Œå¿…é¡»åœ¨é¡µé¢åº•éƒ¨ä¿ç•™ç½²åä»¥åŠæŒ‡å‘æœ¬é¡¹ç›®çš„é“¾æ¥ã€‚å¦‚æœä¸æƒ³ä¿ç•™ç½²åï¼Œå¿…é¡»é¦–å…ˆè·å¾—æˆæƒã€‚\n\nåŒæ ·é€‚ç”¨äºåŸºäºæœ¬é¡¹ç›®çš„äºŒå¼€é¡¹ç›®ã€‚\n\nä¾æ® MIT åè®®ï¼Œä½¿ç”¨è€…éœ€è‡ªè¡Œæ‰¿æ‹…ä½¿ç”¨æœ¬é¡¹ç›®çš„é£é™©ä¸è´£ä»»ï¼Œæœ¬å¼€æºé¡¹ç›®å¼€å‘è€…ä¸æ­¤æ— å…³ã€‚\n"
        },
        {
          "name": "VERSION",
          "type": "blob",
          "size": 0,
          "content": ""
        },
        {
          "name": "bin",
          "type": "tree",
          "content": null
        },
        {
          "name": "common",
          "type": "tree",
          "content": null
        },
        {
          "name": "controller",
          "type": "tree",
          "content": null
        },
        {
          "name": "docker-compose.yml",
          "type": "blob",
          "size": 1.6201171875,
          "content": "version: '3.4'\n\nservices:\n  one-api:\n    image: \"${REGISTRY:-docker.io}/justsong/one-api:latest\"\n    container_name: one-api\n    restart: always\n    command: --log-dir /app/logs\n    ports:\n      - \"3000:3000\"\n    volumes:\n      - ./data/oneapi:/data\n      - ./logs:/app/logs\n    environment:\n      - SQL_DSN=oneapi:123456@tcp(db:3306)/one-api  # ä¿®æ”¹æ­¤è¡Œï¼Œæˆ–æ³¨é‡Šæ‰ä»¥ä½¿ç”¨ SQLite ä½œä¸ºæ•°æ®åº“\n      - REDIS_CONN_STRING=redis://redis\n      - SESSION_SECRET=random_string  # ä¿®æ”¹ä¸ºéšæœºå­—ç¬¦ä¸²\n      - TZ=Asia/Shanghai\n#      - NODE_TYPE=slave  # å¤šæœºéƒ¨ç½²æ—¶ä»èŠ‚ç‚¹å–æ¶ˆæ³¨é‡Šè¯¥è¡Œ\n#      - SYNC_FREQUENCY=60  # éœ€è¦å®šæœŸä»æ•°æ®åº“åŠ è½½æ•°æ®æ—¶å–æ¶ˆæ³¨é‡Šè¯¥è¡Œ\n#      - FRONTEND_BASE_URL=https://openai.justsong.cn  # å¤šæœºéƒ¨ç½²æ—¶ä»èŠ‚ç‚¹å–æ¶ˆæ³¨é‡Šè¯¥è¡Œ\n    depends_on:\n      - redis\n      - db\n    healthcheck:\n      test: [ \"CMD-SHELL\", \"wget -q -O - http://localhost:3000/api/status | grep -o '\\\"success\\\":\\\\s*true' | awk -F: '{print $2}'\" ]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n\n  redis:\n    image: \"${REGISTRY:-docker.io}/redis:latest\"\n    container_name: redis\n    restart: always\n\n  db:\n    image: \"${REGISTRY:-docker.io}/mysql:8.2.0\"\n    restart: always\n    container_name: mysql\n    volumes:\n      - ./data/mysql:/var/lib/mysql  # æŒ‚è½½ç›®å½•ï¼ŒæŒä¹…åŒ–å­˜å‚¨\n    ports:\n      - '3306:3306'\n    environment:\n      TZ: Asia/Shanghai   # è®¾ç½®æ—¶åŒº\n      MYSQL_ROOT_PASSWORD: 'OneAPI@justsong' # è®¾ç½® root ç”¨æˆ·çš„å¯†ç \n      MYSQL_USER: oneapi   # åˆ›å»ºä¸“ç”¨ç”¨æˆ·\n      MYSQL_PASSWORD: '123456'    # è®¾ç½®ä¸“ç”¨ç”¨æˆ·å¯†ç \n      MYSQL_DATABASE: one-api   # è‡ªåŠ¨åˆ›å»ºæ•°æ®åº“"
        },
        {
          "name": "docs",
          "type": "tree",
          "content": null
        },
        {
          "name": "go.mod",
          "type": "blob",
          "size": 4.8876953125,
          "content": "module github.com/songquanpeng/one-api\n\n// +heroku goVersion go1.18\ngo 1.20\n\nrequire (\n\tcloud.google.com/go/iam v1.1.10\n\tgithub.com/aws/aws-sdk-go-v2 v1.27.0\n\tgithub.com/aws/aws-sdk-go-v2/credentials v1.17.15\n\tgithub.com/aws/aws-sdk-go-v2/service/bedrockruntime v1.8.3\n\tgithub.com/gin-contrib/cors v1.7.2\n\tgithub.com/gin-contrib/gzip v1.0.1\n\tgithub.com/gin-contrib/sessions v1.0.1\n\tgithub.com/gin-contrib/static v1.1.2\n\tgithub.com/gin-gonic/gin v1.10.0\n\tgithub.com/go-playground/validator/v10 v10.20.0\n\tgithub.com/go-redis/redis/v8 v8.11.5\n\tgithub.com/golang-jwt/jwt v3.2.2+incompatible\n\tgithub.com/google/uuid v1.6.0\n\tgithub.com/gorilla/websocket v1.5.1\n\tgithub.com/jinzhu/copier v0.4.0\n\tgithub.com/joho/godotenv v1.5.1\n\tgithub.com/patrickmn/go-cache v2.1.0+incompatible\n\tgithub.com/pkg/errors v0.9.1\n\tgithub.com/pkoukk/tiktoken-go v0.1.7\n\tgithub.com/smartystreets/goconvey v1.8.1\n\tgithub.com/stretchr/testify v1.9.0\n\tgolang.org/x/crypto v0.31.0\n\tgolang.org/x/image v0.18.0\n\tgoogle.golang.org/api v0.187.0\n\tgorm.io/driver/mysql v1.5.6\n\tgorm.io/driver/postgres v1.5.7\n\tgorm.io/driver/sqlite v1.5.5\n\tgorm.io/gorm v1.25.10\n)\n\nrequire (\n\tcloud.google.com/go/auth v0.6.1 // indirect\n\tcloud.google.com/go/auth/oauth2adapt v0.2.2 // indirect\n\tcloud.google.com/go/compute/metadata v0.3.0 // indirect\n\tfilippo.io/edwards25519 v1.1.0 // indirect\n\tgithub.com/aws/aws-sdk-go-v2/aws/protocol/eventstream v1.6.2 // indirect\n\tgithub.com/aws/aws-sdk-go-v2/internal/configsources v1.3.7 // indirect\n\tgithub.com/aws/aws-sdk-go-v2/internal/endpoints/v2 v2.6.7 // indirect\n\tgithub.com/aws/smithy-go v1.20.2 // indirect\n\tgithub.com/bytedance/sonic v1.11.6 // indirect\n\tgithub.com/bytedance/sonic/loader v0.1.1 // indirect\n\tgithub.com/cespare/xxhash/v2 v2.3.0 // indirect\n\tgithub.com/cloudwego/base64x v0.1.4 // indirect\n\tgithub.com/cloudwego/iasm v0.2.0 // indirect\n\tgithub.com/davecgh/go-spew v1.1.1 // indirect\n\tgithub.com/dgryski/go-rendezvous v0.0.0-20200823014737-9f7001d12a5f // indirect\n\tgithub.com/dlclark/regexp2 v1.11.0 // indirect\n\tgithub.com/felixge/httpsnoop v1.0.4 // indirect\n\tgithub.com/fsnotify/fsnotify v1.7.0 // indirect\n\tgithub.com/gabriel-vasile/mimetype v1.4.3 // indirect\n\tgithub.com/gin-contrib/sse v0.1.0 // indirect\n\tgithub.com/go-logr/logr v1.4.1 // indirect\n\tgithub.com/go-logr/stdr v1.2.2 // indirect\n\tgithub.com/go-playground/locales v0.14.1 // indirect\n\tgithub.com/go-playground/universal-translator v0.18.1 // indirect\n\tgithub.com/go-sql-driver/mysql v1.8.1 // indirect\n\tgithub.com/goccy/go-json v0.10.3 // indirect\n\tgithub.com/golang/groupcache v0.0.0-20210331224755-41bb18bfe9da // indirect\n\tgithub.com/golang/protobuf v1.5.4 // indirect\n\tgithub.com/google/s2a-go v0.1.7 // indirect\n\tgithub.com/googleapis/enterprise-certificate-proxy v0.3.2 // indirect\n\tgithub.com/googleapis/gax-go/v2 v2.12.5 // indirect\n\tgithub.com/gopherjs/gopherjs v1.17.2 // indirect\n\tgithub.com/gorilla/context v1.1.2 // indirect\n\tgithub.com/gorilla/securecookie v1.1.2 // indirect\n\tgithub.com/gorilla/sessions v1.2.2 // indirect\n\tgithub.com/jackc/pgpassfile v1.0.0 // indirect\n\tgithub.com/jackc/pgservicefile v0.0.0-20231201235250-de7065d80cb9 // indirect\n\tgithub.com/jackc/pgx/v5 v5.5.5 // indirect\n\tgithub.com/jackc/puddle/v2 v2.2.1 // indirect\n\tgithub.com/jinzhu/inflection v1.0.0 // indirect\n\tgithub.com/jinzhu/now v1.1.5 // indirect\n\tgithub.com/json-iterator/go v1.1.12 // indirect\n\tgithub.com/jtolds/gls v4.20.0+incompatible // indirect\n\tgithub.com/klauspost/cpuid/v2 v2.2.7 // indirect\n\tgithub.com/kr/text v0.2.0 // indirect\n\tgithub.com/leodido/go-urn v1.4.0 // indirect\n\tgithub.com/mattn/go-isatty v0.0.20 // indirect\n\tgithub.com/mattn/go-sqlite3 v1.14.22 // indirect\n\tgithub.com/modern-go/concurrent v0.0.0-20180306012644-bacd9c7ef1dd // indirect\n\tgithub.com/modern-go/reflect2 v1.0.2 // indirect\n\tgithub.com/pelletier/go-toml/v2 v2.2.2 // indirect\n\tgithub.com/pmezard/go-difflib v1.0.0 // indirect\n\tgithub.com/smarty/assertions v1.15.0 // indirect\n\tgithub.com/twitchyliquid64/golang-asm v0.15.1 // indirect\n\tgithub.com/ugorji/go/codec v1.2.12 // indirect\n\tgo.opencensus.io v0.24.0 // indirect\n\tgo.opentelemetry.io/contrib/instrumentation/google.golang.org/grpc/otelgrpc v0.49.0 // indirect\n\tgo.opentelemetry.io/contrib/instrumentation/net/http/otelhttp v0.49.0 // indirect\n\tgo.opentelemetry.io/otel v1.24.0 // indirect\n\tgo.opentelemetry.io/otel/metric v1.24.0 // indirect\n\tgo.opentelemetry.io/otel/trace v1.24.0 // indirect\n\tgolang.org/x/arch v0.8.0 // indirect\n\tgolang.org/x/net v0.26.0 // indirect\n\tgolang.org/x/oauth2 v0.21.0 // indirect\n\tgolang.org/x/sync v0.10.0 // indirect\n\tgolang.org/x/sys v0.28.0 // indirect\n\tgolang.org/x/text v0.21.0 // indirect\n\tgolang.org/x/time v0.5.0 // indirect\n\tgoogle.golang.org/genproto/googleapis/api v0.0.0-20240617180043-68d350f18fd4 // indirect\n\tgoogle.golang.org/genproto/googleapis/rpc v0.0.0-20240624140628-dc46fd24d27d // indirect\n\tgoogle.golang.org/grpc v1.64.1 // indirect\n\tgoogle.golang.org/protobuf v1.34.2 // indirect\n\tgopkg.in/yaml.v3 v3.0.1 // indirect\n)\n"
        },
        {
          "name": "go.sum",
          "type": "blob",
          "size": 28.791015625,
          "content": "cloud.google.com/go v0.26.0/go.mod h1:aQUYkXzVsufM+DwF1aE+0xfcU+56JwCaLick0ClmMTw=\ncloud.google.com/go/auth v0.6.1 h1:T0Zw1XM5c1GlpN2HYr2s+m3vr1p2wy+8VN+Z1FKxW38=\ncloud.google.com/go/auth v0.6.1/go.mod h1:eFHG7zDzbXHKmjJddFG/rBlcGp6t25SwRUiEQSlO4x4=\ncloud.google.com/go/auth/oauth2adapt v0.2.2 h1:+TTV8aXpjeChS9M+aTtN/TjdQnzJvmzKFt//oWu7HX4=\ncloud.google.com/go/auth/oauth2adapt v0.2.2/go.mod h1:wcYjgpZI9+Yu7LyYBg4pqSiaRkfEK3GQcpb7C/uyF1Q=\ncloud.google.com/go/compute/metadata v0.3.0 h1:Tz+eQXMEqDIKRsmY3cHTL6FVaynIjX2QxYC4trgAKZc=\ncloud.google.com/go/compute/metadata v0.3.0/go.mod h1:zFmK7XCadkQkj6TtorcaGlCW1hT1fIilQDwofLpJ20k=\ncloud.google.com/go/iam v1.1.10 h1:ZSAr64oEhQSClwBL670MsJAW5/RLiC6kfw3Bqmd5ZDI=\ncloud.google.com/go/iam v1.1.10/go.mod h1:iEgMq62sg8zx446GCaijmA2Miwg5o3UbO+nI47WHJps=\nfilippo.io/edwards25519 v1.1.0 h1:FNf4tywRC1HmFuKW5xopWpigGjJKiJSV0Cqo0cJWDaA=\nfilippo.io/edwards25519 v1.1.0/go.mod h1:BxyFTGdWcka3PhytdK4V28tE5sGfRvvvRV7EaN4VDT4=\ngithub.com/BurntSushi/toml v0.3.1/go.mod h1:xHWCNGjB5oqiDr8zfno3MHue2Ht5sIBksp03qcyfWMU=\ngithub.com/aws/aws-sdk-go-v2 v1.27.0 h1:7bZWKoXhzI+mMR/HjdMx8ZCC5+6fY0lS5tr0bbgiLlo=\ngithub.com/aws/aws-sdk-go-v2 v1.27.0/go.mod h1:ffIFB97e2yNsv4aTSGkqtHnppsIJzw7G7BReUZ3jCXM=\ngithub.com/aws/aws-sdk-go-v2/aws/protocol/eventstream v1.6.2 h1:x6xsQXGSmW6frevwDA+vi/wqhp1ct18mVXYN08/93to=\ngithub.com/aws/aws-sdk-go-v2/aws/protocol/eventstream v1.6.2/go.mod h1:lPprDr1e6cJdyYeGXnRaJoP4Md+cDBvi2eOj00BlGmg=\ngithub.com/aws/aws-sdk-go-v2/credentials v1.17.15 h1:YDexlvDRCA8ems2T5IP1xkMtOZ1uLJOCJdTr0igs5zo=\ngithub.com/aws/aws-sdk-go-v2/credentials v1.17.15/go.mod h1:vxHggqW6hFNaeNC0WyXS3VdyjcV0a4KMUY4dKJ96buU=\ngithub.com/aws/aws-sdk-go-v2/internal/configsources v1.3.7 h1:lf/8VTF2cM+N4SLzaYJERKEWAXq8MOMpZfU6wEPWsPk=\ngithub.com/aws/aws-sdk-go-v2/internal/configsources v1.3.7/go.mod h1:4SjkU7QiqK2M9oozyMzfZ/23LmUY+h3oFqhdeP5OMiI=\ngithub.com/aws/aws-sdk-go-v2/internal/endpoints/v2 v2.6.7 h1:4OYVp0705xu8yjdyoWix0r9wPIRXnIzzOoUpQVHIJ/g=\ngithub.com/aws/aws-sdk-go-v2/internal/endpoints/v2 v2.6.7/go.mod h1:vd7ESTEvI76T2Na050gODNmNU7+OyKrIKroYTu4ABiI=\ngithub.com/aws/aws-sdk-go-v2/service/bedrockruntime v1.8.3 h1:Fihjyd6DeNjcawBEGLH9dkIEUi6AdhucDKPE9nJ4QiY=\ngithub.com/aws/aws-sdk-go-v2/service/bedrockruntime v1.8.3/go.mod h1:opvUj3ismqSCxYc+m4WIjPL0ewZGtvp0ess7cKvBPOQ=\ngithub.com/aws/smithy-go v1.20.2 h1:tbp628ireGtzcHDDmLT/6ADHidqnwgF57XOXZe6tp4Q=\ngithub.com/aws/smithy-go v1.20.2/go.mod h1:krry+ya/rV9RDcV/Q16kpu6ypI4K2czasz0NC3qS14E=\ngithub.com/bytedance/sonic v1.11.6 h1:oUp34TzMlL+OY1OUWxHqsdkgC/Zfc85zGqw9siXjrc0=\ngithub.com/bytedance/sonic v1.11.6/go.mod h1:LysEHSvpvDySVdC2f87zGWf6CIKJcAvqab1ZaiQtds4=\ngithub.com/bytedance/sonic/loader v0.1.1 h1:c+e5Pt1k/cy5wMveRDyk2X4B9hF4g7an8N3zCYjJFNM=\ngithub.com/bytedance/sonic/loader v0.1.1/go.mod h1:ncP89zfokxS5LZrJxl5z0UJcsk4M4yY2JpfqGeCtNLU=\ngithub.com/census-instrumentation/opencensus-proto v0.2.1/go.mod h1:f6KPmirojxKA12rnyqOA5BBL4O983OfeGPqjHWSTneU=\ngithub.com/cespare/xxhash/v2 v2.3.0 h1:UL815xU9SqsFlibzuggzjXhog7bL6oX9BbNZnL2UFvs=\ngithub.com/cespare/xxhash/v2 v2.3.0/go.mod h1:VGX0DQ3Q6kWi7AoAeZDth3/j3BFtOZR5XLFGgcrjCOs=\ngithub.com/client9/misspell v0.3.4/go.mod h1:qj6jICC3Q7zFZvVWo7KLAzC3yx5G7kyvSDkc90ppPyw=\ngithub.com/cloudwego/base64x v0.1.4 h1:jwCgWpFanWmN8xoIUHa2rtzmkd5J2plF/dnLS6Xd/0Y=\ngithub.com/cloudwego/base64x v0.1.4/go.mod h1:0zlkT4Wn5C6NdauXdJRhSKRlJvmclQ1hhJgA0rcu/8w=\ngithub.com/cloudwego/iasm v0.2.0 h1:1KNIy1I1H9hNNFEEH3DVnI4UujN+1zjpuk6gwHLTssg=\ngithub.com/cloudwego/iasm v0.2.0/go.mod h1:8rXZaNYT2n95jn+zTI1sDr+IgcD2GVs0nlbbQPiEFhY=\ngithub.com/cncf/udpa/go v0.0.0-20191209042840-269d4d468f6f/go.mod h1:M8M6+tZqaGXZJjfX53e64911xZQV5JYwmTeXPW+k8Sc=\ngithub.com/creack/pty v1.1.9/go.mod h1:oKZEueFk5CKHvIhNR5MUki03XCEU+Q6VDXinZuGJ33E=\ngithub.com/davecgh/go-spew v1.1.0/go.mod h1:J7Y8YcW2NihsgmVo/mv3lAwl/skON4iLHjSsI+c5H38=\ngithub.com/davecgh/go-spew v1.1.1 h1:vj9j/u1bqnvCEfJOwUhtlOARqs3+rkHYY13jYWTU97c=\ngithub.com/davecgh/go-spew v1.1.1/go.mod h1:J7Y8YcW2NihsgmVo/mv3lAwl/skON4iLHjSsI+c5H38=\ngithub.com/dgryski/go-rendezvous v0.0.0-20200823014737-9f7001d12a5f h1:lO4WD4F/rVNCu3HqELle0jiPLLBs70cWOduZpkS1E78=\ngithub.com/dgryski/go-rendezvous v0.0.0-20200823014737-9f7001d12a5f/go.mod h1:cuUVRXasLTGF7a8hSLbxyZXjz+1KgoB3wDUb6vlszIc=\ngithub.com/dlclark/regexp2 v1.11.0 h1:G/nrcoOa7ZXlpoa/91N3X7mM3r8eIlMBBJZvsz/mxKI=\ngithub.com/dlclark/regexp2 v1.11.0/go.mod h1:DHkYz0B9wPfa6wondMfaivmHpzrQ3v9q8cnmRbL6yW8=\ngithub.com/envoyproxy/go-control-plane v0.9.0/go.mod h1:YTl/9mNaCwkRvm6d1a2C3ymFceY/DCBVvsKhRF0iEA4=\ngithub.com/envoyproxy/go-control-plane v0.9.1-0.20191026205805-5f8ba28d4473/go.mod h1:YTl/9mNaCwkRvm6d1a2C3ymFceY/DCBVvsKhRF0iEA4=\ngithub.com/envoyproxy/go-control-plane v0.9.4/go.mod h1:6rpuAdCZL397s3pYoYcLgu1mIlRU8Am5FuJP05cCM98=\ngithub.com/envoyproxy/protoc-gen-validate v0.1.0/go.mod h1:iSmxcyjqTsJpI2R4NaDN7+kN2VEUnK/pcBlmesArF7c=\ngithub.com/felixge/httpsnoop v1.0.4 h1:NFTV2Zj1bL4mc9sqWACXbQFVBBg2W3GPvqp8/ESS2Wg=\ngithub.com/felixge/httpsnoop v1.0.4/go.mod h1:m8KPJKqk1gH5J9DgRY2ASl2lWCfGKXixSwevea8zH2U=\ngithub.com/fsnotify/fsnotify v1.7.0 h1:8JEhPFa5W2WU7YfeZzPNqzMP6Lwt7L2715Ggo0nosvA=\ngithub.com/fsnotify/fsnotify v1.7.0/go.mod h1:40Bi/Hjc2AVfZrqy+aj+yEI+/bRxZnMJyTJwOpGvigM=\ngithub.com/gabriel-vasile/mimetype v1.4.3 h1:in2uUcidCuFcDKtdcBxlR0rJ1+fsokWf+uqxgUFjbI0=\ngithub.com/gabriel-vasile/mimetype v1.4.3/go.mod h1:d8uq/6HKRL6CGdk+aubisF/M5GcPfT7nKyLpA0lbSSk=\ngithub.com/gin-contrib/cors v1.7.2 h1:oLDHxdg8W/XDoN/8zamqk/Drgt4oVZDvaV0YmvVICQw=\ngithub.com/gin-contrib/cors v1.7.2/go.mod h1:SUJVARKgQ40dmrzgXEVxj2m7Ig1v1qIboQkPDTQ9t2E=\ngithub.com/gin-contrib/gzip v1.0.1 h1:HQ8ENHODeLY7a4g1Au/46Z92bdGFl74OhxcZble9WJE=\ngithub.com/gin-contrib/gzip v1.0.1/go.mod h1:njt428fdUNRvjuJf16tZMYZ2Yl+WQB53X5wmhDwXvC4=\ngithub.com/gin-contrib/sessions v1.0.1 h1:3hsJyNs7v7N8OtelFmYXFrulAf6zSR7nW/putcPEHxI=\ngithub.com/gin-contrib/sessions v1.0.1/go.mod h1:ouxSFM24/OgIud5MJYQJLpy6AwxQ5EYO9yLhbtObGkM=\ngithub.com/gin-contrib/sse v0.1.0 h1:Y/yl/+YNO8GZSjAhjMsSuLt29uWRFHdHYUb5lYOV9qE=\ngithub.com/gin-contrib/sse v0.1.0/go.mod h1:RHrZQHXnP2xjPF+u1gW/2HnVO7nvIa9PG3Gm+fLHvGI=\ngithub.com/gin-contrib/static v1.1.2 h1:c3kT4bFkUJn2aoRU3s6XnMjJT8J6nNWJkR0NglqmlZ4=\ngithub.com/gin-contrib/static v1.1.2/go.mod h1:Fw90ozjHCmZBWbgrsqrDvO28YbhKEKzKp8GixhR4yLw=\ngithub.com/gin-gonic/gin v1.10.0 h1:nTuyha1TYqgedzytsKYqna+DfLos46nTv2ygFy86HFU=\ngithub.com/gin-gonic/gin v1.10.0/go.mod h1:4PMNQiOhvDRa013RKVbsiNwoyezlm2rm0uX/T7kzp5Y=\ngithub.com/go-logr/logr v1.2.2/go.mod h1:jdQByPbusPIv2/zmleS9BjJVeZ6kBagPoEUsqbVz/1A=\ngithub.com/go-logr/logr v1.4.1 h1:pKouT5E8xu9zeFC39JXRDukb6JFQPXM5p5I91188VAQ=\ngithub.com/go-logr/logr v1.4.1/go.mod h1:9T104GzyrTigFIr8wt5mBrctHMim0Nb2HLGrmQ40KvY=\ngithub.com/go-logr/stdr v1.2.2 h1:hSWxHoqTgW2S2qGc0LTAI563KZ5YKYRhT3MFKZMbjag=\ngithub.com/go-logr/stdr v1.2.2/go.mod h1:mMo/vtBO5dYbehREoey6XUKy/eSumjCCveDpRre4VKE=\ngithub.com/go-playground/assert/v2 v2.2.0 h1:JvknZsQTYeFEAhQwI4qEt9cyV5ONwRHC+lYKSsYSR8s=\ngithub.com/go-playground/locales v0.14.1 h1:EWaQ/wswjilfKLTECiXz7Rh+3BjFhfDFKv/oXslEjJA=\ngithub.com/go-playground/locales v0.14.1/go.mod h1:hxrqLVvrK65+Rwrd5Fc6F2O76J/NuW9t0sjnWqG1slY=\ngithub.com/go-playground/universal-translator v0.18.1 h1:Bcnm0ZwsGyWbCzImXv+pAJnYK9S473LQFuzCbDbfSFY=\ngithub.com/go-playground/universal-translator v0.18.1/go.mod h1:xekY+UJKNuX9WP91TpwSH2VMlDf28Uj24BCp08ZFTUY=\ngithub.com/go-playground/validator/v10 v10.20.0 h1:K9ISHbSaI0lyB2eWMPJo+kOS/FBExVwjEviJTixqxL8=\ngithub.com/go-playground/validator/v10 v10.20.0/go.mod h1:dbuPbCMFw/DrkbEynArYaCwl3amGuJotoKCe95atGMM=\ngithub.com/go-redis/redis/v8 v8.11.5 h1:AcZZR7igkdvfVmQTPnu9WE37LRrO/YrBH5zWyjDC0oI=\ngithub.com/go-redis/redis/v8 v8.11.5/go.mod h1:gREzHqY1hg6oD9ngVRbLStwAWKhA0FEgq8Jd4h5lpwo=\ngithub.com/go-sql-driver/mysql v1.7.0/go.mod h1:OXbVy3sEdcQ2Doequ6Z5BW6fXNQTmx+9S1MCJN5yJMI=\ngithub.com/go-sql-driver/mysql v1.8.1 h1:LedoTUt/eveggdHS9qUFC1EFSa8bU2+1pZjSRpvNJ1Y=\ngithub.com/go-sql-driver/mysql v1.8.1/go.mod h1:wEBSXgmK//2ZFJyE+qWnIsVGmvmEKlqwuVSjsCm7DZg=\ngithub.com/goccy/go-json v0.10.3 h1:KZ5WoDbxAIgm2HNbYckL0se1fHD6rz5j4ywS6ebzDqA=\ngithub.com/goccy/go-json v0.10.3/go.mod h1:oq7eo15ShAhp70Anwd5lgX2pLfOS3QCiwU/PULtXL6M=\ngithub.com/golang-jwt/jwt v3.2.2+incompatible h1:IfV12K8xAKAnZqdXVzCZ+TOjboZ2keLg81eXfW3O+oY=\ngithub.com/golang-jwt/jwt v3.2.2+incompatible/go.mod h1:8pz2t5EyA70fFQQSrl6XZXzqecmYZeUEB8OUGHkxJ+I=\ngithub.com/golang/glog v0.0.0-20160126235308-23def4e6c14b/go.mod h1:SBH7ygxi8pfUlaOkMMuAQtPIUF8ecWP5IEl/CR7VP2Q=\ngithub.com/golang/groupcache v0.0.0-20200121045136-8c9f03a8e57e/go.mod h1:cIg4eruTrX1D+g88fzRXU5OdNfaM+9IcxsU14FzY7Hc=\ngithub.com/golang/groupcache v0.0.0-20210331224755-41bb18bfe9da h1:oI5xCqsCo564l8iNU+DwB5epxmsaqB+rhGL0m5jtYqE=\ngithub.com/golang/groupcache v0.0.0-20210331224755-41bb18bfe9da/go.mod h1:cIg4eruTrX1D+g88fzRXU5OdNfaM+9IcxsU14FzY7Hc=\ngithub.com/golang/mock v1.1.1/go.mod h1:oTYuIxOrZwtPieC+H1uAHpcLFnEyAGVDL/k47Jfbm0A=\ngithub.com/golang/protobuf v1.2.0/go.mod h1:6lQm79b+lXiMfvg/cZm0SGofjICqVBUtrP5yJMmIC1U=\ngithub.com/golang/protobuf v1.3.2/go.mod h1:6lQm79b+lXiMfvg/cZm0SGofjICqVBUtrP5yJMmIC1U=\ngithub.com/golang/protobuf v1.4.0-rc.1/go.mod h1:ceaxUfeHdC40wWswd/P6IGgMaK3YpKi5j83Wpe3EHw8=\ngithub.com/golang/protobuf v1.4.0-rc.1.0.20200221234624-67d41d38c208/go.mod h1:xKAWHe0F5eneWXFV3EuXVDTCmh+JuBKY0li0aMyXATA=\ngithub.com/golang/protobuf v1.4.0-rc.2/go.mod h1:LlEzMj4AhA7rCAGe4KMBDvJI+AwstrUpVNzEA03Pprs=\ngithub.com/golang/protobuf v1.4.0-rc.4.0.20200313231945-b860323f09d0/go.mod h1:WU3c8KckQ9AFe+yFwt9sWVRKCVIyN9cPHBJSNnbL67w=\ngithub.com/golang/protobuf v1.4.0/go.mod h1:jodUvKwWbYaEsadDk5Fwe5c77LiNKVO9IDvqG2KuDX0=\ngithub.com/golang/protobuf v1.4.1/go.mod h1:U8fpvMrcmy5pZrNK1lt4xCsGvpyWQ/VVv6QDs8UjoX8=\ngithub.com/golang/protobuf v1.4.3/go.mod h1:oDoupMAO8OvCJWAcko0GGGIgR6R6ocIYbsSw735rRwI=\ngithub.com/golang/protobuf v1.5.4 h1:i7eJL8qZTpSEXOPTxNKhASYpMn+8e5Q6AdndVa1dWek=\ngithub.com/golang/protobuf v1.5.4/go.mod h1:lnTiLA8Wa4RWRcIUkrtSVa5nRhsEGBg48fD6rSs7xps=\ngithub.com/google/go-cmp v0.2.0/go.mod h1:oXzfMopK8JAjlY9xF4vHSVASa0yLyX7SntLO5aqRK0M=\ngithub.com/google/go-cmp v0.3.0/go.mod h1:8QqcDgzrUqlUb/G2PQTWiueGozuR1884gddMywk6iLU=\ngithub.com/google/go-cmp v0.3.1/go.mod h1:8QqcDgzrUqlUb/G2PQTWiueGozuR1884gddMywk6iLU=\ngithub.com/google/go-cmp v0.4.0/go.mod h1:v8dTdLbMG2kIc/vJvl+f65V22dbkXbowE6jgT/gNBxE=\ngithub.com/google/go-cmp v0.5.0/go.mod h1:v8dTdLbMG2kIc/vJvl+f65V22dbkXbowE6jgT/gNBxE=\ngithub.com/google/go-cmp v0.5.3/go.mod h1:v8dTdLbMG2kIc/vJvl+f65V22dbkXbowE6jgT/gNBxE=\ngithub.com/google/go-cmp v0.6.0 h1:ofyhxvXcZhMsU5ulbFiLKl/XBFqE1GSq7atu8tAmTRI=\ngithub.com/google/gofuzz v1.0.0/go.mod h1:dBl0BpW6vV/+mYPU4Po3pmUjxk6FQPldtuIdl/M65Eg=\ngithub.com/google/gofuzz v1.2.0 h1:xRy4A+RhZaiKjJ1bPfwQ8sedCA+YS2YcCHW6ec7JMi0=\ngithub.com/google/s2a-go v0.1.7 h1:60BLSyTrOV4/haCDW4zb1guZItoSq8foHCXrAnjBo/o=\ngithub.com/google/s2a-go v0.1.7/go.mod h1:50CgR4k1jNlWBu4UfS4AcfhVe1r6pdZPygJ3R8F0Qdw=\ngithub.com/google/uuid v1.1.2/go.mod h1:TIyPZe4MgqvfeYDBFedMoGGpEw/LqOeaOT+nhxU+yHo=\ngithub.com/google/uuid v1.6.0 h1:NIvaJDMOsjHA8n1jAhLSgzrAzy1Hgr+hNrb57e+94F0=\ngithub.com/google/uuid v1.6.0/go.mod h1:TIyPZe4MgqvfeYDBFedMoGGpEw/LqOeaOT+nhxU+yHo=\ngithub.com/googleapis/enterprise-certificate-proxy v0.3.2 h1:Vie5ybvEvT75RniqhfFxPRy3Bf7vr3h0cechB90XaQs=\ngithub.com/googleapis/enterprise-certificate-proxy v0.3.2/go.mod h1:VLSiSSBs/ksPL8kq3OBOQ6WRI2QnaFynd1DCjZ62+V0=\ngithub.com/googleapis/gax-go/v2 v2.12.5 h1:8gw9KZK8TiVKB6q3zHY3SBzLnrGp6HQjyfYBYGmXdxA=\ngithub.com/googleapis/gax-go/v2 v2.12.5/go.mod h1:BUDKcWo+RaKq5SC9vVYL0wLADa3VcfswbOMMRmB9H3E=\ngithub.com/gopherjs/gopherjs v1.17.2 h1:fQnZVsXk8uxXIStYb0N4bGk7jeyTalG/wsZjQ25dO0g=\ngithub.com/gopherjs/gopherjs v1.17.2/go.mod h1:pRRIvn/QzFLrKfvEz3qUuEhtE/zLCWfreZ6J5gM2i+k=\ngithub.com/gorilla/context v1.1.2 h1:WRkNAv2uoa03QNIc1A6u4O7DAGMUVoopZhkiXWA2V1o=\ngithub.com/gorilla/context v1.1.2/go.mod h1:KDPwT9i/MeWHiLl90fuTgrt4/wPcv75vFAZLaOOcbxM=\ngithub.com/gorilla/securecookie v1.1.2 h1:YCIWL56dvtr73r6715mJs5ZvhtnY73hBvEF8kXD8ePA=\ngithub.com/gorilla/securecookie v1.1.2/go.mod h1:NfCASbcHqRSY+3a8tlWJwsQap2VX5pwzwo4h3eOamfo=\ngithub.com/gorilla/sessions v1.2.2 h1:lqzMYz6bOfvn2WriPUjNByzeXIlVzURcPmgMczkmTjY=\ngithub.com/gorilla/sessions v1.2.2/go.mod h1:ePLdVu+jbEgHH+KWw8I1z2wqd0BAdAQh/8LRvBeoNcQ=\ngithub.com/gorilla/websocket v1.5.1 h1:gmztn0JnHVt9JZquRuzLw3g4wouNVzKL15iLr/zn/QY=\ngithub.com/gorilla/websocket v1.5.1/go.mod h1:x3kM2JMyaluk02fnUJpQuwD2dCS5NDG2ZHL0uE0tcaY=\ngithub.com/jackc/pgpassfile v1.0.0 h1:/6Hmqy13Ss2zCq62VdNG8tM1wchn8zjSGOBJ6icpsIM=\ngithub.com/jackc/pgpassfile v1.0.0/go.mod h1:CEx0iS5ambNFdcRtxPj5JhEz+xB6uRky5eyVu/W2HEg=\ngithub.com/jackc/pgservicefile v0.0.0-20231201235250-de7065d80cb9 h1:L0QtFUgDarD7Fpv9jeVMgy/+Ec0mtnmYuImjTz6dtDA=\ngithub.com/jackc/pgservicefile v0.0.0-20231201235250-de7065d80cb9/go.mod h1:5TJZWKEWniPve33vlWYSoGYefn3gLQRzjfDlhSJ9ZKM=\ngithub.com/jackc/pgx/v5 v5.5.5 h1:amBjrZVmksIdNjxGW/IiIMzxMKZFelXbUoPNb+8sjQw=\ngithub.com/jackc/pgx/v5 v5.5.5/go.mod h1:ez9gk+OAat140fv9ErkZDYFWmXLfV+++K0uAOiwgm1A=\ngithub.com/jackc/puddle/v2 v2.2.1 h1:RhxXJtFG022u4ibrCSMSiu5aOq1i77R3OHKNJj77OAk=\ngithub.com/jackc/puddle/v2 v2.2.1/go.mod h1:vriiEXHvEE654aYKXXjOvZM39qJ0q+azkZFrfEOc3H4=\ngithub.com/jinzhu/copier v0.4.0 h1:w3ciUoD19shMCRargcpm0cm91ytaBhDvuRpz1ODO/U8=\ngithub.com/jinzhu/copier v0.4.0/go.mod h1:DfbEm0FYsaqBcKcFuvmOZb218JkPGtvSHsKg8S8hyyg=\ngithub.com/jinzhu/inflection v1.0.0 h1:K317FqzuhWc8YvSVlFMCCUb36O/S9MCKRDI7QkRKD/E=\ngithub.com/jinzhu/inflection v1.0.0/go.mod h1:h+uFLlag+Qp1Va5pdKtLDYj+kHp5pxUVkryuEj+Srlc=\ngithub.com/jinzhu/now v1.1.5 h1:/o9tlHleP7gOFmsnYNz3RGnqzefHA47wQpKrrdTIwXQ=\ngithub.com/jinzhu/now v1.1.5/go.mod h1:d3SSVoowX0Lcu0IBviAWJpolVfI5UJVZZ7cO71lE/z8=\ngithub.com/joho/godotenv v1.5.1 h1:7eLL/+HRGLY0ldzfGMeQkb7vMd0as4CfYvUVzLqw0N0=\ngithub.com/joho/godotenv v1.5.1/go.mod h1:f4LDr5Voq0i2e/R5DDNOoa2zzDfwtkZa6DnEwAbqwq4=\ngithub.com/json-iterator/go v1.1.12 h1:PV8peI4a0ysnczrg+LtxykD8LfKY9ML6u2jnxaEnrnM=\ngithub.com/json-iterator/go v1.1.12/go.mod h1:e30LSqwooZae/UwlEbR2852Gd8hjQvJoHmT4TnhNGBo=\ngithub.com/jtolds/gls v4.20.0+incompatible h1:xdiiI2gbIgH/gLH7ADydsJ1uDOEzR8yvV7C0MuV77Wo=\ngithub.com/jtolds/gls v4.20.0+incompatible/go.mod h1:QJZ7F/aHp+rZTRtaJ1ow/lLfFfVYBRgL+9YlvaHOwJU=\ngithub.com/klauspost/cpuid/v2 v2.0.9/go.mod h1:FInQzS24/EEf25PyTYn52gqo7WaD8xa0213Md/qVLRg=\ngithub.com/klauspost/cpuid/v2 v2.2.7 h1:ZWSB3igEs+d0qvnxR/ZBzXVmxkgt8DdzP6m9pfuVLDM=\ngithub.com/klauspost/cpuid/v2 v2.2.7/go.mod h1:Lcz8mBdAVJIBVzewtcLocK12l3Y+JytZYpaMropDUws=\ngithub.com/knz/go-libedit v1.10.1/go.mod h1:MZTVkCWyz0oBc7JOWP3wNAzd002ZbM/5hgShxwh4x8M=\ngithub.com/kr/pretty v0.3.0 h1:WgNl7dwNpEZ6jJ9k1snq4pZsg7DOEN8hP9Xw0Tsjwk0=\ngithub.com/kr/text v0.2.0 h1:5Nx0Ya0ZqY2ygV366QzturHI13Jq95ApcVaJBhpS+AY=\ngithub.com/kr/text v0.2.0/go.mod h1:eLer722TekiGuMkidMxC/pM04lWEeraHUUmBw8l2grE=\ngithub.com/leodido/go-urn v1.4.0 h1:WT9HwE9SGECu3lg4d/dIA+jxlljEa1/ffXKmRjqdmIQ=\ngithub.com/leodido/go-urn v1.4.0/go.mod h1:bvxc+MVxLKB4z00jd1z+Dvzr47oO32F/QSNjSBOlFxI=\ngithub.com/mattn/go-isatty v0.0.20 h1:xfD0iDuEKnDkl03q4limB+vH+GxLEtL/jb4xVJSWWEY=\ngithub.com/mattn/go-isatty v0.0.20/go.mod h1:W+V8PltTTMOvKvAeJH7IuucS94S2C6jfK/D7dTCTo3Y=\ngithub.com/mattn/go-sqlite3 v1.14.22 h1:2gZY6PC6kBnID23Tichd1K+Z0oS6nE/XwU+Vz/5o4kU=\ngithub.com/mattn/go-sqlite3 v1.14.22/go.mod h1:Uh1q+B4BYcTPb+yiD3kU8Ct7aC0hY9fxUwlHK0RXw+Y=\ngithub.com/modern-go/concurrent v0.0.0-20180228061459-e0a39a4cb421/go.mod h1:6dJC0mAP4ikYIbvyc7fijjWJddQyLn8Ig3JB5CqoB9Q=\ngithub.com/modern-go/concurrent v0.0.0-20180306012644-bacd9c7ef1dd h1:TRLaZ9cD/w8PVh93nsPXa1VrQ6jlwL5oN8l14QlcNfg=\ngithub.com/modern-go/concurrent v0.0.0-20180306012644-bacd9c7ef1dd/go.mod h1:6dJC0mAP4ikYIbvyc7fijjWJddQyLn8Ig3JB5CqoB9Q=\ngithub.com/modern-go/reflect2 v1.0.2 h1:xBagoLtFs94CBntxluKeaWgTMpvLxC4ur3nMaC9Gz0M=\ngithub.com/modern-go/reflect2 v1.0.2/go.mod h1:yWuevngMOJpCy52FWWMvUC8ws7m/LJsjYzDa0/r8luk=\ngithub.com/nxadm/tail v1.4.8 h1:nPr65rt6Y5JFSKQO7qToXr7pePgD6Gwiw05lkbyAQTE=\ngithub.com/onsi/ginkgo v1.16.5 h1:8xi0RTUf59SOSfEtZMvwTvXYMzG4gV23XVHOZiXNtnE=\ngithub.com/onsi/gomega v1.18.1 h1:M1GfJqGRrBrrGGsbxzV5dqM2U2ApXefZCQpkukxYRLE=\ngithub.com/patrickmn/go-cache v2.1.0+incompatible h1:HRMgzkcYKYpi3C8ajMPV8OFXaaRUnok+kx1WdO15EQc=\ngithub.com/patrickmn/go-cache v2.1.0+incompatible/go.mod h1:3Qf8kWWT7OJRJbdiICTKqZju1ZixQ/KpMGzzAfe6+WQ=\ngithub.com/pelletier/go-toml/v2 v2.2.2 h1:aYUidT7k73Pcl9nb2gScu7NSrKCSHIDE89b3+6Wq+LM=\ngithub.com/pelletier/go-toml/v2 v2.2.2/go.mod h1:1t835xjRzz80PqgE6HHgN2JOsmgYu/h4qDAS4n929Rs=\ngithub.com/pkg/errors v0.9.1 h1:FEBLx1zS214owpjy7qsBeixbURkuhQAwrK5UwLGTwt4=\ngithub.com/pkg/errors v0.9.1/go.mod h1:bwawxfHBFNV+L2hUp1rHADufV3IMtnDRdf1r5NINEl0=\ngithub.com/pkoukk/tiktoken-go v0.1.7 h1:qOBHXX4PHtvIvmOtyg1EeKlwFRiMKAcoMp4Q+bLQDmw=\ngithub.com/pkoukk/tiktoken-go v0.1.7/go.mod h1:9NiV+i9mJKGj1rYOT+njbv+ZwA/zJxYdewGl6qVatpg=\ngithub.com/pmezard/go-difflib v1.0.0 h1:4DBwDE0NGyQoBHbLQYPwSUPoCMWR5BEzIk/f1lZbAQM=\ngithub.com/pmezard/go-difflib v1.0.0/go.mod h1:iKH77koFhYxTK1pcRnkKkqfTogsbg7gZNVY4sRDYZ/4=\ngithub.com/prometheus/client_model v0.0.0-20190812154241-14fe0d1b01d4/go.mod h1:xMI15A0UPsDsEKsMN9yxemIoYk6Tm2C1GtYGdfGttqA=\ngithub.com/rogpeppe/go-internal v1.8.0 h1:FCbCCtXNOY3UtUuHUYaghJg4y7Fd14rXifAYUAtL9R8=\ngithub.com/smarty/assertions v1.15.0 h1:cR//PqUBUiQRakZWqBiFFQ9wb8emQGDb0HeGdqGByCY=\ngithub.com/smarty/assertions v1.15.0/go.mod h1:yABtdzeQs6l1brC900WlRNwj6ZR55d7B+E8C6HtKdec=\ngithub.com/smartystreets/goconvey v1.8.1 h1:qGjIddxOk4grTu9JPOU31tVfq3cNdBlNa5sSznIX1xY=\ngithub.com/smartystreets/goconvey v1.8.1/go.mod h1:+/u4qLyY6x1jReYOp7GOM2FSt8aP9CzCZL03bI28W60=\ngithub.com/stretchr/objx v0.1.0/go.mod h1:HFkY916IF+rwdDfMAkV7OtwuqBVzrE8GR6GFx+wExME=\ngithub.com/stretchr/objx v0.4.0/go.mod h1:YvHI0jy2hoMjB+UWwv71VJQ9isScKT/TqJzVSSt89Yw=\ngithub.com/stretchr/objx v0.5.0/go.mod h1:Yh+to48EsGEfYuaHDzXPcE3xhTkx73EhmCGUpEOglKo=\ngithub.com/stretchr/objx v0.5.2/go.mod h1:FRsXN1f5AsAjCGJKqEizvkpNtU+EGNCLh3NxZ/8L+MA=\ngithub.com/stretchr/testify v1.3.0/go.mod h1:M5WIy9Dh21IEIfnGCwXGc5bZfKNJtfHm1UVUgZn+9EI=\ngithub.com/stretchr/testify v1.7.0/go.mod h1:6Fq8oRcR53rry900zMqJjRRixrwX3KX962/h/Wwjteg=\ngithub.com/stretchr/testify v1.7.1/go.mod h1:6Fq8oRcR53rry900zMqJjRRixrwX3KX962/h/Wwjteg=\ngithub.com/stretchr/testify v1.8.0/go.mod h1:yNjHg4UonilssWZ8iaSj1OCr/vHnekPRkoO+kdMU+MU=\ngithub.com/stretchr/testify v1.8.1/go.mod h1:w2LPCIKwWwSfY2zedu0+kehJoqGctiVI29o6fzry7u4=\ngithub.com/stretchr/testify v1.8.4/go.mod h1:sz/lmYIOXD/1dqDmKjjqLyZ2RngseejIcXlSw2iwfAo=\ngithub.com/stretchr/testify v1.9.0 h1:HtqpIVDClZ4nwg75+f6Lvsy/wHu+3BoSGCbBAcpTsTg=\ngithub.com/stretchr/testify v1.9.0/go.mod h1:r2ic/lqez/lEtzL7wO/rwa5dbSLXVDPFyf8C91i36aY=\ngithub.com/twitchyliquid64/golang-asm v0.15.1 h1:SU5vSMR7hnwNxj24w34ZyCi/FmDZTkS4MhqMhdFk5YI=\ngithub.com/twitchyliquid64/golang-asm v0.15.1/go.mod h1:a1lVb/DtPvCB8fslRZhAngC2+aY1QWCk3Cedj/Gdt08=\ngithub.com/ugorji/go/codec v1.2.12 h1:9LC83zGrHhuUA9l16C9AHXAqEV/2wBQ4nkvumAE65EE=\ngithub.com/ugorji/go/codec v1.2.12/go.mod h1:UNopzCgEMSXjBc6AOMqYvWC1ktqTAfzJZUZgYf6w6lg=\ngo.opencensus.io v0.24.0 h1:y73uSU6J157QMP2kn2r30vwW1A2W2WFwSCGnAVxeaD0=\ngo.opencensus.io v0.24.0/go.mod h1:vNK8G9p7aAivkbmorf4v+7Hgx+Zs0yY+0fOtgBfjQKo=\ngo.opentelemetry.io/contrib/instrumentation/google.golang.org/grpc/otelgrpc v0.49.0 h1:4Pp6oUg3+e/6M4C0A/3kJ2VYa++dsWVTtGgLVj5xtHg=\ngo.opentelemetry.io/contrib/instrumentation/google.golang.org/grpc/otelgrpc v0.49.0/go.mod h1:Mjt1i1INqiaoZOMGR1RIUJN+i3ChKoFRqzrRQhlkbs0=\ngo.opentelemetry.io/contrib/instrumentation/net/http/otelhttp v0.49.0 h1:jq9TW8u3so/bN+JPT166wjOI6/vQPF6Xe7nMNIltagk=\ngo.opentelemetry.io/contrib/instrumentation/net/http/otelhttp v0.49.0/go.mod h1:p8pYQP+m5XfbZm9fxtSKAbM6oIllS7s2AfxrChvc7iw=\ngo.opentelemetry.io/otel v1.24.0 h1:0LAOdjNmQeSTzGBzduGe/rU4tZhMwL5rWgtp9Ku5Jfo=\ngo.opentelemetry.io/otel v1.24.0/go.mod h1:W7b9Ozg4nkF5tWI5zsXkaKKDjdVjpD4oAt9Qi/MArHo=\ngo.opentelemetry.io/otel/metric v1.24.0 h1:6EhoGWWK28x1fbpA4tYTOWBkPefTDQnb8WSGXlc88kI=\ngo.opentelemetry.io/otel/metric v1.24.0/go.mod h1:VYhLe1rFfxuTXLgj4CBiyz+9WYBA8pNGJgDcSFRKBco=\ngo.opentelemetry.io/otel/trace v1.24.0 h1:CsKnnL4dUAr/0llH9FKuc698G04IrpWV0MQA/Y1YELI=\ngo.opentelemetry.io/otel/trace v1.24.0/go.mod h1:HPc3Xr/cOApsBI154IU0OI0HJexz+aw5uPdbs3UCjNU=\ngolang.org/x/arch v0.0.0-20210923205945-b76863e36670/go.mod h1:5om86z9Hs0C8fWVUuoMHwpExlXzs5Tkyp9hOrfG7pp8=\ngolang.org/x/arch v0.8.0 h1:3wRIsP3pM4yUptoR96otTUOXI367OS0+c9eeRi9doIc=\ngolang.org/x/arch v0.8.0/go.mod h1:FEVrYAQjsQXMVJ1nsMoVVXPZg6p2JE2mx8psSWTDQys=\ngolang.org/x/crypto v0.0.0-20190308221718-c2843e01d9a2/go.mod h1:djNgcEr1/C05ACkg1iLfiJU5Ep61QUkGW8qpdssI0+w=\ngolang.org/x/crypto v0.0.0-20200622213623-75b288015ac9/go.mod h1:LzIPMQfyMNhhGPhUkYOs5KpL4U8rLKemX1yGLhDgUto=\ngolang.org/x/crypto v0.31.0 h1:ihbySMvVjLAeSH1IbfcRTkD/iNscyz8rGzjF/E5hV6U=\ngolang.org/x/crypto v0.31.0/go.mod h1:kDsLvtWBEx7MV9tJOj9bnXsPbxwJQ6csT/x4KIN4Ssk=\ngolang.org/x/exp v0.0.0-20190121172915-509febef88a4/go.mod h1:CJ0aWSM057203Lf6IL+f9T1iT9GByDxfZKAQTCR3kQA=\ngolang.org/x/image v0.18.0 h1:jGzIakQa/ZXI1I0Fxvaa9W7yP25TqT6cHIHn+6CqvSQ=\ngolang.org/x/image v0.18.0/go.mod h1:4yyo5vMFQjVjUcVk4jEQcU9MGy/rulF5WvUILseCM2E=\ngolang.org/x/lint v0.0.0-20181026193005-c67002cb31c3/go.mod h1:UVdnD1Gm6xHRNCYTkRU2/jEulfH38KcIWyp/GAMgvoE=\ngolang.org/x/lint v0.0.0-20190227174305-5b3e6a55c961/go.mod h1:wehouNa3lNwaWXcvxsM5YxQ5yQlVC4a0KAMCusXpPoU=\ngolang.org/x/lint v0.0.0-20190313153728-d0100b6bd8b3/go.mod h1:6SW0HCj/g11FgYtHlgUYUwCkIfeOF89ocIRzGO/8vkc=\ngolang.org/x/net v0.0.0-20180724234803-3673e40ba225/go.mod h1:mL1N/T3taQHkDXs73rZJwtUhF3w3ftmwwsq0BUmARs4=\ngolang.org/x/net v0.0.0-20180826012351-8a410e7b638d/go.mod h1:mL1N/T3taQHkDXs73rZJwtUhF3w3ftmwwsq0BUmARs4=\ngolang.org/x/net v0.0.0-20190213061140-3a22650c66bd/go.mod h1:mL1N/T3taQHkDXs73rZJwtUhF3w3ftmwwsq0BUmARs4=\ngolang.org/x/net v0.0.0-20190311183353-d8887717615a/go.mod h1:t9HGtf8HONx5eT2rtn7q6eTqICYqUVnKs3thJo3Qplg=\ngolang.org/x/net v0.0.0-20190404232315-eb5bcb51f2a3/go.mod h1:t9HGtf8HONx5eT2rtn7q6eTqICYqUVnKs3thJo3Qplg=\ngolang.org/x/net v0.0.0-20201110031124-69a78807bb2b/go.mod h1:sp8m0HH+o8qH0wwXwYZr8TS3Oi6o0r6Gce1SSxlDquU=\ngolang.org/x/net v0.26.0 h1:soB7SVo0PWrY4vPW/+ay0jKDNScG2X9wFeYlXIvJsOQ=\ngolang.org/x/net v0.26.0/go.mod h1:5YKkiSynbBIh3p6iOc/vibscux0x38BZDkn8sCUPxHE=\ngolang.org/x/oauth2 v0.0.0-20180821212333-d2e6202438be/go.mod h1:N/0e6XlmueqKjAGxoOufVs8QHGRruUQn6yWY3a++T0U=\ngolang.org/x/oauth2 v0.21.0 h1:tsimM75w1tF/uws5rbeHzIWxEqElMehnc+iW793zsZs=\ngolang.org/x/oauth2 v0.21.0/go.mod h1:XYTD2NtWslqkgxebSiOHnXEap4TF09sJSc7H1sXbhtI=\ngolang.org/x/sync v0.0.0-20180314180146-1d60e4601c6f/go.mod h1:RxMgew5VJxzue5/jJTE5uejpjVlOe/izrB70Jof72aM=\ngolang.org/x/sync v0.0.0-20181108010431-42b317875d0f/go.mod h1:RxMgew5VJxzue5/jJTE5uejpjVlOe/izrB70Jof72aM=\ngolang.org/x/sync v0.0.0-20190423024810-112230192c58/go.mod h1:RxMgew5VJxzue5/jJTE5uejpjVlOe/izrB70Jof72aM=\ngolang.org/x/sync v0.10.0 h1:3NQrjDixjgGwUOCaF8w2+VYHv0Ve/vGYSbdkTa98gmQ=\ngolang.org/x/sync v0.10.0/go.mod h1:Czt+wKu1gCyEFDUtn0jG5QVvpJ6rzVqr5aXyt9drQfk=\ngolang.org/x/sys v0.0.0-20180830151530-49385e6e1522/go.mod h1:STP8DvDyc/dI5b8T5hshtkjS+E42TnysNCUPdjciGhY=\ngolang.org/x/sys v0.0.0-20190215142949-d0b11bdaac8a/go.mod h1:STP8DvDyc/dI5b8T5hshtkjS+E42TnysNCUPdjciGhY=\ngolang.org/x/sys v0.0.0-20190412213103-97732733099d/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=\ngolang.org/x/sys v0.0.0-20200930185726-fdedc70b468f/go.mod h1:h1NjWce9XRLGQEsW7wpKNCjG9DtNlClVuFLEZdDNbEs=\ngolang.org/x/sys v0.5.0/go.mod h1:oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg=\ngolang.org/x/sys v0.6.0/go.mod h1:oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg=\ngolang.org/x/sys v0.28.0 h1:Fksou7UEQUWlKvIdsqzJmUmCX3cZuD2+P3XyyzwMhlA=\ngolang.org/x/sys v0.28.0/go.mod h1:/VUhepiaJMQUp4+oa/7Zr1D23ma6VTLIYjOOTFZPUcA=\ngolang.org/x/text v0.3.0/go.mod h1:NqM8EUOU14njkJ3fqMW+pc6Ldnwhi/IjpwHt7yyuwOQ=\ngolang.org/x/text v0.3.3/go.mod h1:5Zoc/QRtKVWzQhOtBMvqHzDpF6irO9z98xDceosuGiQ=\ngolang.org/x/text v0.21.0 h1:zyQAAkrwaneQ066sspRyJaG9VNi/YJ1NfzcGB3hZ/qo=\ngolang.org/x/text v0.21.0/go.mod h1:4IBbMaMmOPCJ8SecivzSH54+73PCFmPWxNTLm+vZkEQ=\ngolang.org/x/time v0.5.0 h1:o7cqy6amK/52YcAKIPlM3a+Fpj35zvRj2TP+e1xFSfk=\ngolang.org/x/time v0.5.0/go.mod h1:3BpzKBy/shNhVucY/MWOyx10tF3SFh9QdLuxbVysPQM=\ngolang.org/x/tools v0.0.0-20180917221912-90fa682c2a6e/go.mod h1:n7NCudcB/nEzxVGmLbDWY5pfWTLqBcC2KZ6jyYvM4mQ=\ngolang.org/x/tools v0.0.0-20190114222345-bf090417da8b/go.mod h1:n7NCudcB/nEzxVGmLbDWY5pfWTLqBcC2KZ6jyYvM4mQ=\ngolang.org/x/tools v0.0.0-20190226205152-f727befe758c/go.mod h1:9Yl7xja0Znq3iFh3HoIrodX9oNMXvdceNzlUR8zjMvY=\ngolang.org/x/tools v0.0.0-20190311212946-11955173bddd/go.mod h1:LCzVGOaR6xXOjkQ3onu1FJEFr0SW1gC7cKk1uF8kGRs=\ngolang.org/x/tools v0.0.0-20190524140312-2c0ae7006135/go.mod h1:RgjU9mgBXZiqYHBnxXauZ1Gv1EHHAz9KjViQ78xBX0Q=\ngolang.org/x/xerrors v0.0.0-20191204190536-9bdfabe68543/go.mod h1:I/5z698sn9Ka8TeJc9MKroUUfqBBauWjQqLJ2OPfmY0=\ngoogle.golang.org/api v0.187.0 h1:Mxs7VATVC2v7CY+7Xwm4ndkX71hpElcvx0D1Ji/p1eo=\ngoogle.golang.org/api v0.187.0/go.mod h1:KIHlTc4x7N7gKKuVsdmfBXN13yEEWXWFURWY6SBp2gk=\ngoogle.golang.org/appengine v1.1.0/go.mod h1:EbEs0AVv82hx2wNQdGPgUI5lhzA/G0D9YwlJXL52JkM=\ngoogle.golang.org/appengine v1.4.0/go.mod h1:xpcJRLb0r/rnEns0DIKYYv+WjYCduHsrkT7/EB5XEv4=\ngoogle.golang.org/genproto v0.0.0-20180817151627-c66870c02cf8/go.mod h1:JiN7NxoALGmiZfu7CAH4rXhgtRTLTxftemlI0sWmxmc=\ngoogle.golang.org/genproto v0.0.0-20190819201941-24fa4b261c55/go.mod h1:DMBHOl98Agz4BDEuKkezgsaosCRResVns1a3J2ZsMNc=\ngoogle.golang.org/genproto v0.0.0-20200526211855-cb27e3aa2013/go.mod h1:NbSheEEYHJ7i3ixzK3sjbqSGDJWnxyFXZblF3eUsNvo=\ngoogle.golang.org/genproto/googleapis/api v0.0.0-20240617180043-68d350f18fd4 h1:MuYw1wJzT+ZkybKfaOXKp5hJiZDn2iHaXRw0mRYdHSc=\ngoogle.golang.org/genproto/googleapis/api v0.0.0-20240617180043-68d350f18fd4/go.mod h1:px9SlOOZBg1wM1zdnr8jEL4CNGUBZ+ZKYtNPApNQc4c=\ngoogle.golang.org/genproto/googleapis/rpc v0.0.0-20240624140628-dc46fd24d27d h1:k3zyW3BYYR30e8v3x0bTDdE9vpYFjZHK+HcyqkrppWk=\ngoogle.golang.org/genproto/googleapis/rpc v0.0.0-20240624140628-dc46fd24d27d/go.mod h1:Ue6ibwXGpU+dqIcODieyLOcgj7z8+IcskoNIgZxtrFY=\ngoogle.golang.org/grpc v1.19.0/go.mod h1:mqu4LbDTu4XGKhr4mRzUsmM4RtVoemTSY81AxZiDr8c=\ngoogle.golang.org/grpc v1.23.0/go.mod h1:Y5yQAOtifL1yxbo5wqy6BxZv8vAUGQwXBOALyacEbxg=\ngoogle.golang.org/grpc v1.25.1/go.mod h1:c3i+UQWmh7LiEpx4sFZnkU36qjEYZ0imhYfXVyQciAY=\ngoogle.golang.org/grpc v1.27.0/go.mod h1:qbnxyOmOxrQa7FizSgH+ReBfzJrCY1pSN7KXBS8abTk=\ngoogle.golang.org/grpc v1.33.2/go.mod h1:JMHMWHQWaTccqQQlmk3MJZS+GWXOdAesneDmEnv2fbc=\ngoogle.golang.org/grpc v1.64.1 h1:LKtvyfbX3UGVPFcGqJ9ItpVWW6oN/2XqTxfAnwRRXiA=\ngoogle.golang.org/grpc v1.64.1/go.mod h1:hiQF4LFZelK2WKaP6W0L92zGHtiQdZxk8CrSdvyjeP0=\ngoogle.golang.org/protobuf v0.0.0-20200109180630-ec00e32a8dfd/go.mod h1:DFci5gLYBciE7Vtevhsrf46CRTquxDuWsQurQQe4oz8=\ngoogle.golang.org/protobuf v0.0.0-20200221191635-4d8936d0db64/go.mod h1:kwYJMbMJ01Woi6D6+Kah6886xMZcty6N08ah7+eCXa0=\ngoogle.golang.org/protobuf v0.0.0-20200228230310-ab0ca4ff8a60/go.mod h1:cfTl7dwQJ+fmap5saPgwCLgHXTUD7jkjRqWcaiX5VyM=\ngoogle.golang.org/protobuf v1.20.1-0.20200309200217-e05f789c0967/go.mod h1:A+miEFZTKqfCUM6K7xSMQL9OKL/b6hQv+e19PK+JZNE=\ngoogle.golang.org/protobuf v1.21.0/go.mod h1:47Nbq4nVaFHyn7ilMalzfO3qCViNmqZ2kzikPIcrTAo=\ngoogle.golang.org/protobuf v1.22.0/go.mod h1:EGpADcykh3NcUnDUJcl1+ZksZNG86OlYog2l/sGQquU=\ngoogle.golang.org/protobuf v1.23.0/go.mod h1:EGpADcykh3NcUnDUJcl1+ZksZNG86OlYog2l/sGQquU=\ngoogle.golang.org/protobuf v1.23.1-0.20200526195155-81db48ad09cc/go.mod h1:EGpADcykh3NcUnDUJcl1+ZksZNG86OlYog2l/sGQquU=\ngoogle.golang.org/protobuf v1.25.0/go.mod h1:9JNX74DMeImyA3h4bdi1ymwjUzf21/xIlbajtzgsN7c=\ngoogle.golang.org/protobuf v1.34.2 h1:6xV6lTsCfpGD21XK49h7MhtcApnLqkfYgPcdHftf6hg=\ngoogle.golang.org/protobuf v1.34.2/go.mod h1:qYOHts0dSfpeUzUFpOMr/WGzszTmLH+DiWniOlNbLDw=\ngopkg.in/check.v1 v0.0.0-20161208181325-20d25e280405/go.mod h1:Co6ibVJAznAaIkqp8huTwlJQCZ016jof/cbN4VW5Yz0=\ngopkg.in/check.v1 v1.0.0-20201130134442-10cb98267c6c h1:Hei/4ADfdWqJk1ZMxUNpqntNwaWcugrBjAiHlqqRiVk=\ngopkg.in/tomb.v1 v1.0.0-20141024135613-dd632973f1e7 h1:uRGJdciOHaEIrze2W8Q3AKkepLTh2hOroT7a+7czfdQ=\ngopkg.in/yaml.v2 v2.4.0 h1:D8xgwECY7CYvx+Y2n4sBz93Jn9JRvxdiyyo8CTfuKaY=\ngopkg.in/yaml.v3 v3.0.0-20200313102051-9f266ea9e77c/go.mod h1:K4uyk7z7BCEPqu6E+C64Yfv1cQ7kz7rIZviUmN+EgEM=\ngopkg.in/yaml.v3 v3.0.1 h1:fxVm/GzAzEWqLHuvctI91KS9hhNmmWOoWu0XTYJS7CA=\ngopkg.in/yaml.v3 v3.0.1/go.mod h1:K4uyk7z7BCEPqu6E+C64Yfv1cQ7kz7rIZviUmN+EgEM=\ngorm.io/driver/mysql v1.5.6 h1:Ld4mkIickM+EliaQZQx3uOJDJHtrd70MxAUqWqlx3Y8=\ngorm.io/driver/mysql v1.5.6/go.mod h1:sEtPWMiqiN1N1cMXoXmBbd8C6/l+TESwriotuRRpkDM=\ngorm.io/driver/postgres v1.5.7 h1:8ptbNJTDbEmhdr62uReG5BGkdQyeasu/FZHxI0IMGnM=\ngorm.io/driver/postgres v1.5.7/go.mod h1:3e019WlBaYI5o5LIdNV+LyxCMNtLOQETBXL2h4chKpA=\ngorm.io/driver/sqlite v1.5.5 h1:7MDMtUZhV065SilG62E0MquljeArQZNfJnjd9i9gx3E=\ngorm.io/driver/sqlite v1.5.5/go.mod h1:6NgQ7sQWAIFsPrJJl1lSNSu2TABh0ZZ/zm5fosATavE=\ngorm.io/gorm v1.25.7/go.mod h1:hbnx/Oo0ChWMn1BIhpy1oYozzpM15i4YPuHDmfYtwg8=\ngorm.io/gorm v1.25.10 h1:dQpO+33KalOA+aFYGlK+EfxcI5MbO7EP2yYygwh9h+s=\ngorm.io/gorm v1.25.10/go.mod h1:hbnx/Oo0ChWMn1BIhpy1oYozzpM15i4YPuHDmfYtwg8=\nhonnef.co/go/tools v0.0.0-20190102054323-c2f93a96b099/go.mod h1:rf3lG4BRIbNafJWhAfAdb/ePZxsR/4RtNHQocxwk9r4=\nhonnef.co/go/tools v0.0.0-20190523083050-ea95bdfd59fc/go.mod h1:rf3lG4BRIbNafJWhAfAdb/ePZxsR/4RtNHQocxwk9r4=\nnullprogram.com/x/optparse v1.0.0/go.mod h1:KdyPE+Igbe0jQUrVfMqDMeJQIJZEuyV7pjYmp6pbG50=\nrsc.io/pdf v0.1.1/go.mod h1:n8OzWcQ6Sp37PL01nO98y4iUCRdTGarVfzxY20ICaU4=\n"
        },
        {
          "name": "i18n",
          "type": "tree",
          "content": null
        },
        {
          "name": "main.go",
          "type": "blob",
          "size": 3.154296875,
          "content": "package main\n\nimport (\n\t\"embed\"\n\t\"fmt\"\n\t\"github.com/gin-contrib/sessions\"\n\t\"github.com/gin-contrib/sessions/cookie\"\n\t\"github.com/gin-gonic/gin\"\n\t_ \"github.com/joho/godotenv/autoload\"\n\t\"github.com/songquanpeng/one-api/common\"\n\t\"github.com/songquanpeng/one-api/common/client\"\n\t\"github.com/songquanpeng/one-api/common/config\"\n\t\"github.com/songquanpeng/one-api/common/logger\"\n\t\"github.com/songquanpeng/one-api/controller\"\n\t\"github.com/songquanpeng/one-api/middleware\"\n\t\"github.com/songquanpeng/one-api/model\"\n\t\"github.com/songquanpeng/one-api/relay/adaptor/openai\"\n\t\"github.com/songquanpeng/one-api/router\"\n\t\"os\"\n\t\"strconv\"\n)\n\n//go:embed web/build/*\nvar buildFS embed.FS\n\nfunc main() {\n\tcommon.Init()\n\tlogger.SetupLogger()\n\tlogger.SysLogf(\"One API %s started\", common.Version)\n\n\tif os.Getenv(\"GIN_MODE\") != gin.DebugMode {\n\t\tgin.SetMode(gin.ReleaseMode)\n\t}\n\tif config.DebugEnabled {\n\t\tlogger.SysLog(\"running in debug mode\")\n\t}\n\n\t// Initialize SQL Database\n\tmodel.InitDB()\n\tmodel.InitLogDB()\n\n\tvar err error\n\terr = model.CreateRootAccountIfNeed()\n\tif err != nil {\n\t\tlogger.FatalLog(\"database init error: \" + err.Error())\n\t}\n\tdefer func() {\n\t\terr := model.CloseDB()\n\t\tif err != nil {\n\t\t\tlogger.FatalLog(\"failed to close database: \" + err.Error())\n\t\t}\n\t}()\n\n\t// Initialize Redis\n\terr = common.InitRedisClient()\n\tif err != nil {\n\t\tlogger.FatalLog(\"failed to initialize Redis: \" + err.Error())\n\t}\n\n\t// Initialize options\n\tmodel.InitOptionMap()\n\tlogger.SysLog(fmt.Sprintf(\"using theme %s\", config.Theme))\n\tif common.RedisEnabled {\n\t\t// for compatibility with old versions\n\t\tconfig.MemoryCacheEnabled = true\n\t}\n\tif config.MemoryCacheEnabled {\n\t\tlogger.SysLog(\"memory cache enabled\")\n\t\tlogger.SysLog(fmt.Sprintf(\"sync frequency: %d seconds\", config.SyncFrequency))\n\t\tmodel.InitChannelCache()\n\t}\n\tif config.MemoryCacheEnabled {\n\t\tgo model.SyncOptions(config.SyncFrequency)\n\t\tgo model.SyncChannelCache(config.SyncFrequency)\n\t}\n\tif os.Getenv(\"CHANNEL_TEST_FREQUENCY\") != \"\" {\n\t\tfrequency, err := strconv.Atoi(os.Getenv(\"CHANNEL_TEST_FREQUENCY\"))\n\t\tif err != nil {\n\t\t\tlogger.FatalLog(\"failed to parse CHANNEL_TEST_FREQUENCY: \" + err.Error())\n\t\t}\n\t\tgo controller.AutomaticallyTestChannels(frequency)\n\t}\n\tif os.Getenv(\"BATCH_UPDATE_ENABLED\") == \"true\" {\n\t\tconfig.BatchUpdateEnabled = true\n\t\tlogger.SysLog(\"batch update enabled with interval \" + strconv.Itoa(config.BatchUpdateInterval) + \"s\")\n\t\tmodel.InitBatchUpdater()\n\t}\n\tif config.EnableMetric {\n\t\tlogger.SysLog(\"metric enabled, will disable channel if too much request failed\")\n\t}\n\topenai.InitTokenEncoders()\n\tclient.Init()\n\n\t// Initialize HTTP server\n\tserver := gin.New()\n\tserver.Use(gin.Recovery())\n\t// This will cause SSE not to work!!!\n\t//server.Use(gzip.Gzip(gzip.DefaultCompression))\n\tserver.Use(middleware.RequestId())\n\tmiddleware.SetUpLogger(server)\n\t// Initialize session store\n\tstore := cookie.NewStore([]byte(config.SessionSecret))\n\tserver.Use(sessions.Sessions(\"session\", store))\n\n\trouter.SetRouter(server, buildFS)\n\tvar port = os.Getenv(\"PORT\")\n\tif port == \"\" {\n\t\tport = strconv.Itoa(*common.Port)\n\t}\n\tlogger.SysLogf(\"server started on http://localhost:%s\", port)\n\terr = server.Run(\":\" + port)\n\tif err != nil {\n\t\tlogger.FatalLog(\"failed to start HTTP server: \" + err.Error())\n\t}\n}\n"
        },
        {
          "name": "middleware",
          "type": "tree",
          "content": null
        },
        {
          "name": "model",
          "type": "tree",
          "content": null
        },
        {
          "name": "monitor",
          "type": "tree",
          "content": null
        },
        {
          "name": "one-api.service",
          "type": "blob",
          "size": 0.501953125,
          "content": "# File path: /etc/systemd/system/one-api.service\n# sudo systemctl daemon-reload\n# sudo systemctl start one-api\n# sudo systemctl enable one-api\n# sudo systemctl status one-api\n[Unit]\nDescription=One API Service\nAfter=network.target\n\n[Service]\nUser=ubuntu  # æ³¨æ„ä¿®æ”¹ç”¨æˆ·å\nWorkingDirectory=/path/to/one-api  # æ³¨æ„ä¿®æ”¹è·¯å¾„\nExecStart=/path/to/one-api/one-api --port 3000 --log-dir /path/to/one-api/logs  # æ³¨æ„ä¿®æ”¹è·¯å¾„å’Œç«¯å£å·\nRestart=always\nRestartSec=5\n\n[Install]\nWantedBy=multi-user.target\n"
        },
        {
          "name": "pull_request_template.md",
          "type": "blob",
          "size": 0.529296875,
          "content": "[//]: # (è¯·æŒ‰ç…§ä»¥ä¸‹æ ¼å¼å…³è” issue)\n[//]: # (è¯·åœ¨æäº¤ PR å‰ç¡®è®¤æ‰€æäº¤çš„åŠŸèƒ½å¯ç”¨ï¼Œéœ€è¦é™„ä¸Šæˆªå›¾ï¼Œè°¢è°¢)\n[//]: # (é¡¹ç›®ç»´æŠ¤è€…ä¸€èˆ¬ä»…åœ¨å‘¨æœ«å¤„ç† PRï¼Œå› æ­¤å¦‚è‹¥æœªèƒ½åŠæ—¶å›å¤å¸Œæœ›èƒ½ç†è§£)\n[//]: # (å¼€å‘è€…äº¤æµç¾¤ï¼š910657413)\n[//]: # (è¯·åœ¨æäº¤ PR ä¹‹å‰åˆ é™¤ä¸Šé¢çš„æ³¨é‡Š)\n\nclose #issue_number\n\næˆ‘å·²ç¡®è®¤è¯¥ PR å·²è‡ªæµ‹é€šè¿‡ï¼Œç›¸å…³æˆªå›¾å¦‚ä¸‹ï¼š\nï¼ˆæ­¤å¤„æ”¾ä¸Šæµ‹è¯•é€šè¿‡çš„æˆªå›¾ï¼Œå¦‚æœä¸æ¶‰åŠå‰ç«¯æ”¹åŠ¨æˆ–ä» UI ä¸Šæ— æ³•çœ‹å‡ºï¼Œè¯·æ”¾ç»ˆç«¯å¯åŠ¨æˆåŠŸçš„æˆªå›¾ï¼‰\n"
        },
        {
          "name": "relay",
          "type": "tree",
          "content": null
        },
        {
          "name": "router",
          "type": "tree",
          "content": null
        },
        {
          "name": "web",
          "type": "tree",
          "content": null
        }
      ]
    }
  ]
}