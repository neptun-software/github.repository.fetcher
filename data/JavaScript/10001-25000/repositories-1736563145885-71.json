{
  "metadata": {
    "timestamp": 1736563145885,
    "page": 71,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjgw",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "node-red/node-red",
      "stars": 20200,
      "defaultBranch": "master",
      "files": [
        {
          "name": ".gitattributes",
          "type": "blob",
          "size": 0.0498046875,
          "content": "/packages/node_modules/** linguist-generated=false\n"
        },
        {
          "name": ".github",
          "type": "tree",
          "content": null
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.43359375,
          "content": ".DS_store\n.config.json\n.dist\n.jshintignore\n.npm\n.project\n.sessions.json\n.settings\n.tern-project\n.i18n-editor-metadata\n*.backup\n*.bak\n*_cred*\ncoverage\ncredentials.json\nflows*.json\nnodes/node-red-nodes/\nnode_modules\npublic\nlocales/zz-ZZ\nnodes/core/locales/zz-ZZ\n!packages/node_modules\npackages/node_modules/@node-red/editor-client/public\n!test/**/node_modules\ndocs\n!packages/node_modules/**/docs\n.vscode\n.nyc_output\nsync.ffs_db\npackage-lock.json\n"
        },
        {
          "name": ".jshintrc",
          "type": "blob",
          "size": 1.048828125,
          "content": "{\n    \"asi\": true,        // allow missing semicolons\n    \"curly\": true,      // require braces\n    \"eqnull\": true,     // ignore ==null\n    //\"eqeqeq\": true,   // enforce ===\n    \"freeze\": true,     // don't allow override\n    \"indent\": 4,        // default indent of 4\n    \"forin\": true,      // require property filtering in \"for in\" loops\n    \"immed\": true,      // require immediate functions to be wrapped in ( )\n    \"nonbsp\": true,     // warn on unexpected whitespace breaking chars\n    //\"strict\": true,   // commented out for now as it causes 100s of warnings, but want to get there eventually\n    //\"unused\": true,   // Check for unused functions and variables\n    \"loopfunc\": true,   // allow functions to be defined in loops\n    //\"expr\": true,     // allow ternery operator syntax...\n    \"shadow\": true,     // allow variable shadowing (re-use of names...)\n    \"sub\": true,        // don't warn that foo['bar'] should be written as foo.bar\n    \"proto\": true,      // allow setting of __proto__ in node < v0.12,\n    \"esversion\": 11      // allow es11(ES2020)\n}\n"
        },
        {
          "name": ".nodemonignore",
          "type": "blob",
          "size": 0.0400390625,
          "content": "/Gruntfile.js\n/.git/*\n*.backup\n/public/*\n"
        },
        {
          "name": "API.md",
          "type": "blob",
          "size": 1.115234375,
          "content": "Node-RED consists of 6 node modules under the `@node-red` scope, which are pulled together\nby the top-level `node-red` module. The typical scenario is where you are embedding Node-RED into your\nown application, in which case you would use the `node-red` module rather than any of the\ninternal modules directly.\n\n```javascript\nlet RED = require(\"node-red\");\n```\n\n\nModule | Description\n-------|-------\n[node-red](node-red.html) | the main module that pulls together all of the internal modules and provides the executable version of Node-RED\n[@node-red/editor-api](@node-red_editor-api.html) | an Express application that serves the Node-RED editor and provides the Admin HTTP API\n[@node-red/runtime](@node-red_runtime.html) | the core runtime of Node-RED\n[@node-red/util](@node-red_util.html) | common utilities for the Node-RED runtime and editor modules\n[@node-red/registry](@node-red_registry.html) | the internal node registry\n@node-red/nodes | the default set of core nodes. This module only contains the Node-RED nodes - it does not expose any APIs.\n@node-red/editor-client | the client-side resources of the Node-RED editor application\n"
        },
        {
          "name": "CHANGELOG.md",
          "type": "blob",
          "size": 11.3837890625,
          "content": "#### 4.0.7: Maintenance Release\n\nEditor\n\n - Fix config node sort order when importing (#5000) @knolleary\n\n#### 4.0.7: Maintenance Release\n\nEditor\n\n - Fix def can be undefined if the type is missing (#4997) @GogoVega\n - Fix the user list of nested config node (#4995) @GogoVega\n - Support custom login message and button (#4993) @knolleary\n\n#### 4.0.6: Maintenance Release\n\nEditor\n\n - Roll up various fixes on config node change history (#4975) @knolleary\n - Add quotes when installing local tgz to fix spacing in the file path (#4949) @AGhorab-upland\n - Validate json dropped into editor to avoid unhelpful error messages (#4964) @knolleary\n - Fix junction insert position via context menu (#4974) @knolleary\n - Apply zoom scale when calculating annotation positions (#4981) @knolleary\n - Handle the import of an incomplete Subflow (#4811) @GogoVega\n - Fix updating the Subflow name during a copy (#4809) @GogoVega\n - Rename variable to avoid confusion in view.js (#4963) @knolleary\n - Change groups.length to groups.size (#4959) @hungtcs\n - Remove disabled node types from QuickAddDialog list (#4946) @GogoVega\n - Fix `setModulePendingUpdated` with plugins (#4939) @GogoVega\n - Missing getSubscriptions in the docs while its implemented (#4934) @ersinpw\n - Apply `envVarExcludes` setting to `util.getSetting` into the function node (#4925) @GogoVega\n - Fix `envVar` editable list should be sortable (#4932) @GogoVega\n - Improve the node name auto-generated with the first available number (#4912) @GogoVega\n\nRuntime\n\n - Get the env config node from the parent subflow (#4960) @GogoVega\n - Update dependencies (#4987) @knolleary\n\nNodes\n\n - Performance : make reading single buffer / string file faster by not re-allocating and handling huge buffers (#4980) @Fadoli\n - Make delay node rate limit reset consistent - not send on reset. (#4940) @dceejay\n - Fix trigger node date handling for latest time type input (#4915) @dceejay\n - Fix delay node not dropping when nodeMessageBufferMaxLength is set (#4973)\n - Ensure node.sep is honoured when generating CSV (#4982) @knolleary\n\n#### 4.0.5: Maintenance Release\n\nEditor\n\n - Refix link call node can call out of a subflow (#4908) @GogoVega\n\n#### 4.0.4: Maintenance Release\n\nEditor\n\n - Fix `link call` node can call out of a subflow (#4892) @GogoVega\n - Fix wrong unlock state when event is triggered after deployment (#4889) @GogoVega\n - i18n(App) update with latest language file changes (#4903) @joebordes\n - fix typo: depreciated (#4895) @dxdc\n\nRuntime\n\n - Update dev dependencies (#4893) @knolleary\n\nNodes\n \n - MQTT: Allow msg.userProperties to have number values (#4900) @hardillb\n\n#### 4.0.3: Maintenance Release\n\nEditor\n\n - Refresh page title after changing tab name (#4850) @kazuhitoyokoi\n - Add Japanese translations for v4.0.2 (again) (#4853) @kazuhitoyokoi\n - Stay in quick-add mode following context menu insert (#4883) @knolleary\n - Do not include Junction type in quick-add for virtual links (#4879) @knolleary\n - Multiplayer cursor tracking (#4845) @knolleary\n - Hide add-flow options when disabled via editorTheme (#4869) @knolleary\n - Fix env-var config select when multiple defined (#4872) @knolleary\n - Fix subflow outbound-link filter (#4857) @GogoVega\n - Add French translations for v4.0.2 (#4856) @GogoVega\n - Fix moving link wires (#4851) @knolleary\n - Adjust type search dialog position to prevent x-overflow (#4844) @Steve-Mcl\n - fix: modulesInUse might be undefined (#4838) @lorenz-maurer\n - Add Japanese translations for v4.0.2 (#4849) @kazuhitoyokoi\n - Fix menu to enable/disable selection when it's a group (#4828) @GogoVega\n\nRuntime\n\n - Update dependencies (#4874) @knolleary\n - GitHub: Add citation file to enable \"Cite this repository\" feature (#4861) @lobis\n - Remove use of util.log (#4875) @knolleary\n\nNodes\n\n - Fix invalid property error in range node example (#4855)\n - Fix typo in flow example name (#4854) @kazuhitoyokoi\n - Move SNI, ALPN and Verify Server cert out of check (#4882) @hardillb\n - Set status of mqtt nodes to \"disconnected\" when deregistered from broker (#4878) @Steve-Mcl\n - MQTT: Ensure will payload is a string (#4873) @knolleary\n - Let batch node terminate \"early\" if msg.parts set to end of sequence (#4829) @dceejay\n - Fix unintentional Capitalisation in Split node name (#4835) @dceejay\n\n#### 4.0.2: Maintenance Release\n\nEditor\n\n - Use a more subtle border on the header (#4818) @bonanitech\n - Improve the editor's French translations (#4824) @GogoVega\n - Clean up orphaned editors (#4821) @Steve-Mcl\n - Fix node validation if the property is not required (#4812) @GogoVega\n - Ensure mermaid.min.js is cached properly between loads of the editor (#4817) @knolleary\n\nRuntime\n\n - Allow auth cookie name to be customised (#4815) @knolleary\n - Guard against undefined sessions in multiplayer (#4816) @knolleary\n\n#### 4.0.1: Maintenance Release\n\nEditor\n\n - Ensure subflow instance credential property values are extracted (#4802) @knolleary\n - Use `_ADD_` value for both `add new...` and `none` options (#4800) @GogoVega\n - Fix the config node select value assignment (#4788) @GogoVega\n - Add tooltip for number of subflow instance on info tab (#4786) @kazuhitoyokoi\n - Add Japanese translations for v4.0.0 (#4785) @kazuhitoyokoi\n\nRuntime\n\n - Ensure group nodes are properly exported in /flow api (#4803) @knolleary\n\n Nodes\n\n - Joins: make using msg.parts optional in join node (#4796) @dceejay\n - HTTP Request: UI proxy should setup agents for both http_proxy and https_proxy (#4794) @Steve-Mcl\n - HTTP Request: Remove default user agent (#4791) @Steve-Mcl\n\n#### 4.0.0: Milestone Release\n\nThis marks the next major release of Node-RED. The following changes represent\nthose added since the last beta. Check the beta release details below for the complete\nlist.\n\nBreaking Changes\n\n - Node-RED now requires Node 18.x or later. At the time of release, we recommend\n   using Node 20.\n\nEditor\n\n - Add `httpStaticCors` (#4761) @knolleary\n - Update dependencies (#4763) @knolleary\n - Sync master to dev (#4756) @knolleary\n - Add tooltip and message validation to `typedInput` (#4747) @GogoVega\n - Replace bcrypt with @node-rs/bcrypt (#4744) @knolleary\n - Export Nodes dialog refinement (#4746) @Steve-Mcl\n\n#### 4.0.0-beta.4: Beta Release\n\nEditor\n\n - Fix the Sidebar Config is not refreshed after a deploy (#4734) @GogoVega\n - Fix checkboxes are not updated when calling `typedInput(\"value\", \"\")` (#4729) @GogoVega\n - Fix panning with middle mouse button on windows 10/11 (#4716) @corentin-sodebo-voile\n - Add Japanese translation for sidebar tooltip (#4727) @kazuhitoyokoi\n - Translate the number of items selected in the options list (#4730) @GogoVega\n - Fix a checkbox should return a Boolean value and not the string `on` (#4715) @GogoVega\n - Deleting a grouped node should update the group (#4714) @GogoVega\n - Change the Config Node cursor to `pointer` (#4711) @GogoVega\n - Add missing tooltips to Sidebar (#4713) @GogoVega\n - Allow nodes to return additional history entries in onEditSave (#4710) @knolleary\n - Update to Monaco 0.49.0 (#4725) @Steve-Mcl\n - Add Japanese translations for 4.0.0-beta.3 (#4726) @kazuhitoyokoi\n - Show lock on deploy if user is read-only (#4706) @knolleary\n\nRuntime\n\n - Ensure all CSS variables are in the output file (#3743) @bonanitech\n - Add httpAdminCookieOptions (#4718) @knolleary\n - chore: migrate deprecated `util.isArray` (#4724) @Rotzbua\n - Add --version cli args (#4707) @knolleary\n - feat(grunt): fail if files are missing (#4739) @Rotzbua\n - fix(node-red-pi): node-red not started by path (#4736) @Rotzbua\n - fix(editor): remove trailing slash (#4735) @Rotzbua\n - fix: remove deprecated mqtt.js (#4733) @Rotzbua \n\nNodes\n\n - Perform Proxy logic more like cURL (#4616) @Steve-Mcl\n\n#### 4.0.0-beta.3: Beta Release\n\nEditor\n\n - Improve background-deploy notification handling (#4692) @knolleary\n - Hide workspace tab on middle mouse click (#4657) @Steve-Mcl\n - multiplayer: Add user presence indicators (#4666) @knolleary\n - Enable updating dependency node of package.json in project feature (#4676) @kazuhitoyokoi\n - Add French translations for 4.0.0-beta.2 (#4681) @GogoVega\n - Add Japanese translations for 4.0.0-beta.2 (#4674) @kazuhitoyokoi\n - Fix saving of conf-type properties in module packaged subflows (#4658) @knolleary\n - Add npm install timeout notification (#4662) @hardillb\n - Fix undo of subflow env property edits (#4667) @knolleary\n - Fix three error typos in monaco.js (#4660) @JoshuaCWebDeveloper\n - docs: Add closing paragraph tag (#4664) @ZJvandeWeg\n - Avoid login loops when autoLogin enabled but login fails (#4684) @knolleary\n\nRuntime\n\n - Allow blank strings to be used for env var property substitutions (#4672) @knolleary\n - Use rfdc for cloning pure JSON values (#4679) @knolleary\n - fix: remove outdated Node 11+ check (#4314) @Rotzbua\n - feat(ci): add new nodejs v22 (#4694) @Rotzbua\n - fix(node): increase required node >=18.5 (#4690) @Rotzbua\n - fix(dns): remove outdated node check (#4689) @Rotzbua\n - fix(polyfill): remove import module polyfill (#4688) @Rotzbua\n - Fix typo (#4686) @Rotzbua\n\nNodes\n\n - Pass full error object in Function node and copy over cause property (#4685) @knolleary\n - Replacing vm.createScript in favour of vm.Script (#4534) @patlux\n\n#### 4.0.0-beta.2: Beta Release\n\nEditor\n\n - Introduce multiplayer feature (#4629) @knolleary\n - Separate the \"add new config-node\" option into a new (+) button (#4627) @GogoVega\n - Retain Palette categories collapsed and filter to localStorage (#4634) @knolleary\n - Ensure palette filter reapplies and clear up unknown categories (#4637) @knolleary\n - Add support for plugin (only) modules to the palette manager (#4620) @knolleary\n - Update monaco to latest and node types to 18 LTS (#4615) @Steve-Mcl\n\nRuntime\n\n - Fix handling of subflow config-node select type in sf module (#4643) @knolleary\n - Comms API updates (#4628) @knolleary\n - Add French translations for 4.0.0-beta.1 (#4621) @GogoVega\n - Add Japanese translations for 4.0.0-beta.1 (#4612) @kazuhitoyokoi\n\nNodes\n - Fix change node handling of replacing with boolean (#4639) @knolleary\n\n#### 4.0.0-beta.1: Beta Release\n\nEditor\n\n - Click on id in debug panel highlights node or flow (#4439) @ralphwetzel\n - Support config selection in a subflow env var (#4587) @Steve-Mcl\n - Add timestamp formatting options to TypedInput (#4468) @knolleary\n - Allow RED.view.select to select links (#4553) @lgrkvst\n - Add auto-complete to flow/global/env typedInput types (#4480) @knolleary\n - Improve the appearance of the Node-RED primary header (#4598) @joepavitt\n\nRuntime\n\n - let settings.httpNodeAuth accept single middleware or array of middlewares (#4572) @kevinGodell\n - Upgrade to JSONata 2.x (#4590) @knolleary\n - Bump minimum version to node 18 (#4571) @knolleary\n - npm: Remove production flag on npm invocation (#4347) @ZJvandeWeg\n - Timer testing fix (#4367) @hlovdal\n - Bump to 4.0.0-dev (#4322) @knolleary\n\nNodes\n\n - TCP node - when resetting, if no payload, stay disconnected @dceejay\n - HTML node: add option for collecting attributes and content (#4513) @gorenje\n - let split node specify property to split on, and join auto join correctly (#4386) @dceejay\n - Add RFC4180 compliant mode to CSV node (#4540) @Steve-Mcl\n - Fix change node to return boolean if asked (#4525) @dceejay\n - Let msg.reset reset Tcp request node connection when in stay connected mode (#4406) @dceejay\n - Let debug node status msg length be settable via settings (#4402) @dceejay\n - Feat: Add ability to set headers for WebSocket client (#4436) @marcus-j-davies\n\n#### Older Releases\n\nChange logs for older releases are available on GitHub: https://github.com/node-red/node-red/releases\n"
        },
        {
          "name": "CITATION.cff",
          "type": "blob",
          "size": 0.201171875,
          "content": "cff-version: 1.2.0\nmessage: \"If you use this software, please cite it as below.\"\ntitle: \"Node-RED\"\nauthors:\n  - family-names: \"OpenJS Foundation\"\n  - family-names: \"Contributors\"\nurl: \"https://nodered.org\"\n"
        },
        {
          "name": "CODE_OF_CONDUCT.md",
          "type": "blob",
          "size": 3.1484375,
          "content": "# Contributor Covenant Code of Conduct\n\n## Our Pledge\n\nIn the interest of fostering an open and welcoming environment, we as\ncontributors and maintainers pledge to making participation in our project and\nour community a harassment-free experience for everyone, regardless of age, body\nsize, disability, ethnicity, gender identity and expression, level of experience,\nnationality, personal appearance, race, religion, or sexual identity and\norientation.\n\n## Our Standards\n\nExamples of behavior that contributes to creating a positive environment\ninclude:\n\n* Using welcoming and inclusive language\n* Being respectful of differing viewpoints and experiences\n* Gracefully accepting constructive criticism\n* Focusing on what is best for the community\n* Showing empathy towards other community members\n\nExamples of unacceptable behavior by participants include:\n\n* The use of sexualized language or imagery and unwelcome sexual attention or\nadvances\n* Trolling, insulting/derogatory comments, and personal or political attacks\n* Public or private harassment\n* Publishing others' private information, such as a physical or electronic\n  address, without explicit permission\n* Other conduct which could reasonably be considered inappropriate in a\n  professional setting\n\n## Our Responsibilities\n\nProject maintainers are responsible for clarifying the standards of acceptable\nbehavior and are expected to take appropriate and fair corrective action in\nresponse to any instances of unacceptable behavior.\n\nProject maintainers have the right and responsibility to remove, edit, or\nreject comments, commits, code, wiki edits, issues, and other contributions\nthat are not aligned to this Code of Conduct, or to ban temporarily or\npermanently any contributor for other behaviors that they deem inappropriate,\nthreatening, offensive, or harmful.\n\n## Scope\n\nThis Code of Conduct applies both within project spaces and in public spaces\nwhen an individual is representing the project or its community. Examples of\nrepresenting a project or community include using an official project e-mail\naddress, posting via an official social media account, or acting as an appointed\nrepresentative at an online or offline event. Representation of a project may be\nfurther defined and clarified by project maintainers.\n\n## Enforcement\n\nInstances of abusive, harassing, or otherwise unacceptable behavior may be\nreported by contacting the project team at team@nodered.org. All\ncomplaints will be reviewed and investigated and will result in a response that\nis deemed necessary and appropriate to the circumstances. The project team is\nobligated to maintain confidentiality with regard to the reporter of an incident.\nFurther details of specific enforcement policies may be posted separately.\n\nProject maintainers who do not follow or enforce the Code of Conduct in good\nfaith may face temporary or permanent repercussions as determined by other\nmembers of the project's leadership.\n\n## Attribution\n\nThis Code of Conduct is adapted from the [Contributor Covenant][homepage], version 1.4,\navailable at [http://contributor-covenant.org/version/1/4][version]\n\n[homepage]: http://contributor-covenant.org\n[version]: http://contributor-covenant.org/version/1/4/\n"
        },
        {
          "name": "CONTRIBUTING.md",
          "type": "blob",
          "size": 3.076171875,
          "content": "# Contributing to Node-RED\n\nWe welcome contributions, but request you follow these guidelines.\n\n - [Raising issues](#raising-issues)\n - [Feature requests](#feature-requests)\n - [Pull-Requests](#pull-requests)\n   - [Contributor License Agreement](#contributor-license-agreement)\n\nThis project adheres to the [Contributor Covenant 1.4](http://contributor-covenant.org/version/1/4/).\nBy participating, you are expected to uphold this code. Please report unacceptable\nbehavior to the project's core team at team@nodered.org.\n\n## Raising issues\n\nPlease raise any bug reports on the relevant project's issue tracker. Be sure to\nsearch the list to see if your issue has already been raised.\n\nIf your issue is more of a question on how to do something with Node-RED, please\nconsider using the [community forum](https://discourse.nodered.org/).\n\nA good bug report is one that make it easy for us to understand what you were\ntrying to do and what went wrong.\n\nProvide as much context as possible so we can try to recreate the issue.\nIf possible, include the relevant part of your flow. To do this, select the\nrelevant nodes, press Ctrl-E and copy the flow data from the Export dialog.\n\nAt a minimum, please include:\n\n - Version of Node-RED - either release number if you downloaded a zip, or the first few lines of `git log` if you are cloning the repository directly.\n - Version of Node.js - what does `node -v` say?\n\n## Feature requests\n\nFor feature requests, please raise them on the [forum](https://discourse.nodered.org).\n\n## Pull-Requests\n\nIf you want to raise a pull-request with a new feature, or a refactoring\nof existing code, please come and discuss it with us first. We prefer to\ndo it that way to make sure your time and effort is well spent on something\nthat fits with our goals.\n\nIf you've got a bug-fix or similar for us, then you are most welcome to\nget it raised - just make sure you link back to the issue it's fixing and\ntry to include some tests!\n\nAll contributors need to sign the OpenJS Foundation's Contributor License Agreement.\nIt is an online process and quick to do. If you raise a pull-request without\nhaving signed the CLA, you will be prompted to do so automatically.\n\n### Code Branches\n\nWhen raising a PR for a fix or a new feature, it is important to target the right branch.\n\n - `master` - this is the main branch for the latest stable release of Node-RED. All bug fixes for that release should target this branch.\n - `v1.x` - this is the maintenance branch for the 1.x stream. If a fix *only* applies to 1.x, then it should target this branch. If it applies to the current stable release as well, target `master` first. We will then decide if it needs to be back ported to the 1.x stream.\n - `dev` - this is the branch for new feature development targeting the next milestone release.\n\n### Coding standards\n\nPlease ensure you follow the coding standards used through-out the existing\ncode base. Some basic rules include:\n\n - all files must have the Apache license in the header.\n - indent with 4-spaces, no tabs. No arguments.\n - opening brace on same line as `if`/`for`/`function` and so on, closing brace\n on its own line.\n"
        },
        {
          "name": "Gruntfile.js",
          "type": "blob",
          "size": 33.859375,
          "content": "/**\n * Copyright JS Foundation and other contributors, http://js.foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n **/\n\nvar path = require(\"path\");\nvar fs = require(\"fs-extra\");\nvar sass = require(\"sass\");\n\nmodule.exports = function(grunt) {\n\n    var nodemonArgs = [\"-V\"];\n    var flowFile = grunt.option('flowFile');\n    if (flowFile) {\n        nodemonArgs.push(flowFile);\n        process.env.NODE_RED_ENABLE_PROJECTS=false;\n    }\n    var userDir = grunt.option('userDir');\n    if (userDir) {\n        nodemonArgs.push(\"-u\");\n        nodemonArgs.push(userDir);\n    }\n\n    var browserstack = grunt.option('browserstack');\n    if (browserstack) {\n        process.env.BROWSERSTACK = true;\n    }\n    var nonHeadless = grunt.option('non-headless');\n    if (nonHeadless) {\n        process.env.NODE_RED_NON_HEADLESS = true;\n    }\n    const pkg = grunt.file.readJSON('package.json');\n    process.env.NODE_RED_PACKAGE_VERSION = pkg.version;\n    grunt.initConfig({\n        pkg: pkg,\n        paths: {\n            dist: \".dist\"\n        },\n        simplemocha: {\n            options: {\n                globals: ['expect'],\n                timeout: 3000,\n                ignoreLeaks: false,\n                ui: 'bdd',\n                reporter: 'spec'\n            },\n            all: { src: [\"test/unit/_spec.js\",\"test/unit/**/*_spec.js\",\"test/nodes/**/*_spec.js\"] },\n            core: { src: [\"test/unit/_spec.js\",\"test/unit/**/*_spec.js\"]},\n            nodes: { src: [\"test/nodes/**/*_spec.js\"]}\n        },\n        webdriver: {\n            all: {\n                configFile: 'test/editor/wdio.conf.js'\n            }\n        },\n        nyc: {\n            options: {\n                cwd: '.',\n                include: ['packages/node_modules/**'],\n                excludeNodeModules: false,\n                exclude: ['packages/node_modules/@node-red/editor-client/**'],\n                reporter: ['lcov', 'html','text-summary'],\n                reportDir: 'coverage',\n                all: true\n            },\n            all:   { cmd: false, args: ['grunt', 'simplemocha:all'] },\n            core:  { options: { exclude:['packages/node_modules/@node-red/editor-client/**', 'packages/node_modules/@node-red/nodes/**']},cmd: false, args: ['grunt', 'simplemocha:core'] },\n            nodes: { cmd: false, args: ['grunt', 'simplemocha:nodes'] }\n        },\n        jshint: {\n            options: {\n                jshintrc:true\n                // http://www.jshint.com/docs/options/\n                //\"asi\": true,      // allow missing semicolons\n                //\"curly\": true,    // require braces\n                //\"eqnull\": true,   // ignore ==null\n                //\"forin\": true,    // require property filtering in \"for in\" loops\n                //\"immed\": true,    // require immediate functions to be wrapped in ( )\n                //\"nonbsp\": true,   // warn on unexpected whitespace breaking chars\n                ////\"strict\": true, // commented out for now as it causes 100s of warnings, but want to get there eventually\n                //\"loopfunc\": true, // allow functions to be defined in loops\n                //\"sub\": true       // don't warn that foo['bar'] should be written as foo.bar\n            },\n            // all: [\n            //     'Gruntfile.js',\n            //     'red.js',\n            //     'packages/**/*.js'\n            // ],\n            // core: {\n            //     files: {\n            //         src: [\n            //             'Gruntfile.js',\n            //             'red.js',\n            //             'packages/**/*.js',\n            //         ]\n            //     }\n            // },\n            nodes: {\n                files: {\n                    src: [ 'nodes/core/*/*.js' ]\n                }\n            },\n            editor: {\n                files: {\n                    src: [ 'packages/node_modules/@node-red/editor-client/src/js/**/*.js' ]\n                }\n            },\n            tests: {\n                files: {\n                    src: ['test/**/*.js']\n                },\n                options: {\n                    \"expr\": true\n                }\n            }\n        },\n        concat: {\n            options: {\n                separator: \";\",\n            },\n            build: {\n                src: [\n                    // Ensure editor source files are concatenated in\n                    // the right order\n                    \"packages/node_modules/@node-red/editor-client/src/js/polyfills.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/jquery-addons.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/red.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/events.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/hooks.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/i18n.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/settings.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/user.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/comms.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/runtime.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/multiplayer.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/text/bidi.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/text/format.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/state.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/plugins.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/nodes.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/font-awesome.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/history.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/validators.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/utils.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/common/editableList.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/common/treeList.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/common/checkboxSet.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/common/menu.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/common/panels.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/common/popover.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/common/searchBox.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/common/tabs.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/common/stack.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/common/typedInput.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/common/toggleButton.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/common/autoComplete.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/actions.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/deploy.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/diagnostics.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/diff.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/keyboard.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/env-var.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/workspaces.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/statusBar.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/view.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/view-annotations.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/view-navigator.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/view-tools.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/sidebar.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/palette.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/tab-info.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/tab-info-outliner.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/tab-help.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/tab-config.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/tab-context.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/palette-editor.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/editor.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/editors/panes/*.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/editors/*.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/editors/code-editors/*.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/event-log.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/tray.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/clipboard.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/library.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/notifications.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/search.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/contextMenu.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/actionList.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/typeSearch.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/subflow.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/group.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/userSettings.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/projects/projects.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/projects/projectSettings.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/projects/projectUserSettings.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/projects/tab-versionControl.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/touch/radialMenu.js\",\n                    \"packages/node_modules/@node-red/editor-client/src/js/ui/tour/*.js\"\n                ],\n                nonull: true,\n                dest: \"packages/node_modules/@node-red/editor-client/public/red/red.js\"\n            },\n            vendor: {\n                files: [\n                    {\n                        src: [\n                            \"packages/node_modules/@node-red/editor-client/src/vendor/jquery/js/jquery-3.5.1.min.js\",\n                            \"packages/node_modules/@node-red/editor-client/src/vendor/jquery/js/jquery-migrate-3.3.0.min.js\",\n                            \"packages/node_modules/@node-red/editor-client/src/vendor/jquery/js/jquery-ui.min.js\",\n                            \"packages/node_modules/@node-red/editor-client/src/vendor/jquery/js/jquery.ui.touch-punch.min.js\",\n                            \"node_modules/marked/marked.min.js\",\n                            \"node_modules/dompurify/dist/purify.min.js\",\n                            \"packages/node_modules/@node-red/editor-client/src/vendor/d3/d3.v3.min.js\",\n                            \"node_modules/i18next/i18next.min.js\",\n                            \"node_modules/i18next-http-backend/i18nextHttpBackend.min.js\",\n                            \"node_modules/jquery-i18next/jquery-i18next.min.js\",\n                            \"node_modules/jsonata/jsonata-es5.min.js\",\n                            \"packages/node_modules/@node-red/editor-client/src/vendor/jsonata/formatter.js\",\n                            \"packages/node_modules/@node-red/editor-client/src/vendor/ace/ace.js\",\n                            \"packages/node_modules/@node-red/editor-client/src/vendor/ace/ext-language_tools.js\"\n                        ],\n                        nonull: true,\n                        dest: \"packages/node_modules/@node-red/editor-client/public/vendor/vendor.js\"\n                    },\n                    // {\n                    //     src: [\n                    //         // TODO: resolve relative resource paths in\n                    //         //       bootstrap/FA/jquery\n                    //     ],\n                    //     dest: \"packages/node_modules/@node-red/editor-client/public/vendor/vendor.css\"\n                    // },\n                    {\n                        src: [\n                            \"node_modules/jsonata/jsonata-es5.min.js\",\n                            \"packages/node_modules/@node-red/editor-client/src/vendor/jsonata/worker-jsonata.js\"\n                        ],\n                        nonull: true,\n                        dest: \"packages/node_modules/@node-red/editor-client/public/vendor/ace/worker-jsonata.js\",\n                    },\n                    {\n                        src: \"node_modules/mermaid/dist/mermaid.min.js\",\n                        nonull: true,\n                        dest: \"packages/node_modules/@node-red/editor-client/public/vendor/mermaid/mermaid.min.js\",\n                    },\n                ]\n            }\n        },\n        uglify: {\n            build: {\n                files: {\n                    'packages/node_modules/@node-red/editor-client/public/red/red.min.js': 'packages/node_modules/@node-red/editor-client/public/red/red.js',\n                    'packages/node_modules/@node-red/editor-client/public/red/main.min.js': 'packages/node_modules/@node-red/editor-client/public/red/main.js',\n                    'packages/node_modules/@node-red/editor-client/public/vendor/ace/mode-jsonata.js': 'packages/node_modules/@node-red/editor-client/src/vendor/jsonata/mode-jsonata.js',\n                    'packages/node_modules/@node-red/editor-client/public/vendor/ace/snippets/jsonata.js': 'packages/node_modules/@node-red/editor-client/src/vendor/jsonata/snippets-jsonata.js'\n                }\n            }\n        },\n        sass: {\n            build: {\n                options: {\n                    implementation: sass,\n                    outputStyle: 'compressed'\n                },\n                files: [{\n                    dest: 'packages/node_modules/@node-red/editor-client/public/red/style.min.css',\n                    src: 'packages/node_modules/@node-red/editor-client/src/sass/style.scss'\n                }]\n            }\n        },\n        jsonlint: {\n            messages: {\n                src: [\n                    'packages/node_modules/@node-red/nodes/locales/**/*.json',\n                    'packages/node_modules/@node-red/editor-client/locales/**/*.json',\n                    'packages/node_modules/@node-red/runtime/locales/**/*.json'\n                ]\n            },\n            keymaps: {\n                src: [\n                    'packages/node_modules/@node-red/editor-client/src/js/keymap.json'\n                ]\n            }\n        },\n        attachCopyright: {\n            js: {\n                src: [\n                    'packages/node_modules/@node-red/editor-client/public/red/red.min.js',\n                    'packages/node_modules/@node-red/editor-client/public/red/main.min.js'\n                ]\n            },\n            css: {\n                src: [\n                    'packages/node_modules/@node-red/editor-client/public/red/style.min.css'\n                ]\n            }\n        },\n        clean: {\n            build: {\n                src: [\n                    \"packages/node_modules/@node-red/editor-client/public/red\",\n                    \"packages/node_modules/@node-red/editor-client/public/index.html\",\n                    \"packages/node_modules/@node-red/editor-client/public/favicon.ico\",\n                    \"packages/node_modules/@node-red/editor-client/public/icons\",\n                    \"packages/node_modules/@node-red/editor-client/public/vendor\",\n                    \"packages/node_modules/@node-red/editor-client/public/types/node\",\n                    \"packages/node_modules/@node-red/editor-client/public/types/node-red\",\n                ]\n            },\n            release: {\n                src: [\n                    '<%= paths.dist %>'\n                ]\n            }\n        },\n        watch: {\n            js: {\n                files: [\n                    'packages/node_modules/@node-red/editor-client/src/js/**/*.js'\n                ],\n                tasks: ['copy:build','concat',/*'uglify',*/ 'attachCopyright:js']\n            },\n            sass: {\n                files: [\n                    'packages/node_modules/@node-red/editor-client/src/sass/**/*.scss'\n                ],\n                tasks: ['sass','attachCopyright:css']\n            },\n            json: {\n                files: [\n                    'packages/node_modules/@node-red/nodes/locales/**/*.json',\n                    'packages/node_modules/@node-red/editor-client/locales/**/*.json',\n                    'packages/node_modules/@node-red/runtime/locales/**/*.json'\n                ],\n                tasks: ['jsonlint:messages']\n            },\n            keymaps: {\n                files: [\n                    'packages/node_modules/@node-red/editor-client/src/js/keymap.json'\n                ],\n                tasks: ['jsonlint:keymaps','copy:build']\n            },\n            tours: {\n                files: [\n                    'packages/node_modules/@node-red/editor-client/src/tours/**/*.js'\n                ],\n                tasks: ['copy:build']\n            },\n            misc: {\n                files: [\n                    'CHANGELOG.md'\n                ],\n                tasks: ['copy:build']\n            }\n        },\n\n        nodemon: {\n            /* uses .nodemonignore */\n            dev: {\n                script: 'packages/node_modules/node-red/red.js',\n                options: {\n                    args: nodemonArgs,\n                    ext: 'js,html,json',\n                    watch: [\n                        'packages/node_modules',\n                        '!packages/node_modules/@node-red/editor-client'\n                    ]\n                }\n            }\n        },\n\n        concurrent: {\n            dev: {\n                tasks: ['nodemon', 'watch'],\n                options: {\n                    logConcurrentOutput: true\n                }\n            }\n        },\n\n        copy: {\n            build: {\n                files:[\n                    {\n                        src: 'packages/node_modules/@node-red/editor-client/src/js/main.js',\n                        dest: 'packages/node_modules/@node-red/editor-client/public/red/main.js'\n                    },\n                    {\n                        src: 'packages/node_modules/@node-red/editor-client/src/js/keymap.json',\n                        dest: 'packages/node_modules/@node-red/editor-client/public/red/keymap.json'\n                    },\n                    {\n                        cwd: 'packages/node_modules/@node-red/editor-client/src/images',\n                        src: '**',\n                        expand: true,\n                        dest: 'packages/node_modules/@node-red/editor-client/public/red/images/'\n                    },\n                    {\n                        cwd: 'packages/node_modules/@node-red/editor-client/src/vendor',\n                        src: [\n                            'ace/**',\n                            'jquery/css/base/**',\n                            'font-awesome/**',\n                            'monaco/dist/**',\n                            'monaco/types/extraLibs.js',\n                            'monaco/style.css',\n                            'monaco/monaco-bootstrap.js'\n                        ],\n                        expand: true,\n                        dest: 'packages/node_modules/@node-red/editor-client/public/vendor/'\n                    },\n                    {\n                        cwd: 'packages/node_modules/@node-red/editor-client/src',\n                        src: [\n                            'types/node/**/*.ts',\n                            'types/node-red/*.ts',\n                        ],\n                        expand: true,\n                        dest: 'packages/node_modules/@node-red/editor-client/public/'\n                    },\n                    {\n                        cwd: 'packages/node_modules/@node-red/editor-client/src/icons',\n                        src: '**',\n                        expand: true,\n                        dest: 'packages/node_modules/@node-red/editor-client/public/icons/'\n                    },\n                    {\n                        expand: true,\n                        src: ['packages/node_modules/@node-red/editor-client/src/index.html','packages/node_modules/@node-red/editor-client/src/favicon.ico'],\n                        dest: 'packages/node_modules/@node-red/editor-client/public/',\n                        flatten: true\n                    },\n                    {\n                        src: 'CHANGELOG.md',\n                        dest: 'packages/node_modules/@node-red/editor-client/public/red/about'\n                    },\n                    {\n                        src: 'CHANGELOG.md',\n                        dest: 'packages/node_modules/node-red/'\n                    },\n                    {\n                        cwd: 'packages/node_modules/@node-red/editor-client/src/ace/bin/',\n                        src: '**',\n                        expand: true,\n                        dest: 'packages/node_modules/@node-red/editor-client/public/vendor/ace/'\n                    },\n                    {\n                        cwd: 'packages/node_modules/@node-red/editor-client/src/tours',\n                        src: '**',\n                        expand: true,\n                        dest: 'packages/node_modules/@node-red/editor-client/public/red/tours/'\n                    }\n                ]\n            }\n        },\n        chmod: {\n            options: {\n                mode: '755'\n            },\n            release: {\n                src: [\n                    \"packages/node_modules/@node-red/nodes/core/hardware/nrgpio\",\n                    \"packages/node_modules/@node-red/runtime/lib/storage/localfilesystem/projects/git/node-red-*sh\"\n                ]\n            }\n        },\n        'npm-command': {\n            options: {\n                cmd: \"pack\",\n                cwd: \"<%= paths.dist %>/modules\"\n            },\n            'node-red': { options: { args: [__dirname+'/packages/node_modules/node-red'] } },\n            '@node-red/editor-api': { options: { args: [__dirname+'/packages/node_modules/@node-red/editor-api'] } },\n            '@node-red/editor-client': { options: { args: [__dirname+'/packages/node_modules/@node-red/editor-client'] } },\n            '@node-red/nodes': { options: { args: [__dirname+'/packages/node_modules/@node-red/nodes'] } },\n            '@node-red/registry': { options: { args: [__dirname+'/packages/node_modules/@node-red/registry'] } },\n            '@node-red/runtime': { options: { args: [__dirname+'/packages/node_modules/@node-red/runtime'] } },\n            '@node-red/util': { options: { args: [__dirname+'/packages/node_modules/@node-red/util'] } }\n\n\n        },\n        mkdir: {\n            release: {\n                options: {\n                    create: ['<%= paths.dist %>/modules']\n                },\n            },\n        },\n        compress: {\n            release: {\n                options: {\n                    archive: '<%= paths.dist %>/node-red-<%= pkg.version %>.zip'\n                },\n                expand: true,\n                cwd: 'packages/node_modules/',\n                src: [\n                    '**',\n                    '!@node-red/editor-client/src/**'\n                ]\n            }\n        },\n        jsdoc : {\n            modules: {\n                src: [\n                    'API.md',\n                    'packages/node_modules/node-red/lib/red.js',\n                    'packages/node_modules/@node-red/runtime/lib/index.js',\n                    'packages/node_modules/@node-red/runtime/lib/api/*.js',\n                    'packages/node_modules/@node-red/runtime/lib/events.js',\n                    'packages/node_modules/@node-red/runtime/lib/hooks.js',\n                    'packages/node_modules/@node-red/util/**/*.js',\n                    'packages/node_modules/@node-red/editor-api/lib/index.js',\n                    'packages/node_modules/@node-red/editor-api/lib/auth/index.js',\n                    'packages/node_modules/@node-red/registry/lib/index.js'\n                ],\n                options: {\n                    destination: 'docs',\n                    configure: './jsdoc.json',\n                    fred: \"hi there\"\n                }\n            },\n            _editor: {\n                src: [\n                    'packages/node_modules/@node-red/editor-client/src/js'\n                    ],\n                options: {\n                    destination: 'packages/node_modules/@node-red/editor-client/docs',\n                    configure: './jsdoc.json'\n                }\n            }\n\n        },\n        jsdoc2md: {\n            runtimeAPI: {\n                options: {\n                    separators: true\n                },\n                src: [\n                    'packages/node_modules/@node-red/runtime/lib/index.js',\n                    'packages/node_modules/@node-red/runtime/lib/api/*.js',\n                    'packages/node_modules/@node-red/runtime/lib/events.js'\n                ],\n                dest: 'packages/node_modules/@node-red/runtime/docs/api.md'\n            },\n            nodeREDUtil: {\n                options: {\n                    separators: true\n                },\n                src: 'packages/node_modules/@node-red/util/**/*.js',\n                dest: 'packages/node_modules/@node-red/util/docs/api.md'\n            }\n        }\n    });\n\n    grunt.loadNpmTasks('grunt-simple-mocha');\n    grunt.loadNpmTasks('grunt-contrib-jshint');\n    grunt.loadNpmTasks('grunt-contrib-concat');\n    grunt.loadNpmTasks('grunt-contrib-uglify');\n    grunt.loadNpmTasks('grunt-contrib-clean');\n    grunt.loadNpmTasks('grunt-contrib-watch');\n    grunt.loadNpmTasks('grunt-concurrent');\n    grunt.loadNpmTasks('grunt-sass');\n    grunt.loadNpmTasks('grunt-contrib-compress');\n    grunt.loadNpmTasks('grunt-contrib-copy');\n    grunt.loadNpmTasks('grunt-chmod');\n    grunt.loadNpmTasks('grunt-jsonlint');\n    if (fs.existsSync(path.join(\"node_modules\", \"grunt-webdriver\"))) {\n        grunt.loadNpmTasks('grunt-webdriver');\n    }\n    grunt.loadNpmTasks('grunt-jsdoc');\n    grunt.loadNpmTasks('grunt-jsdoc-to-markdown');\n    grunt.loadNpmTasks('grunt-npm-command');\n    grunt.loadNpmTasks('grunt-mkdir');\n    grunt.loadNpmTasks('grunt-simple-nyc');\n\n    grunt.registerMultiTask('nodemon', 'Runs a nodemon monitor of your node.js server.', function () {\n        const nodemon = require('nodemon');\n        this.async();\n        const options = this.options();\n        options.script = this.data.script;\n        let callback;\n        if (options.callback) {\n            callback = options.callback;\n            delete options.callback;\n        } else {\n            callback = function(nodemonApp) {\n                nodemonApp.on('log', function (event) {\n                    console.log(event.colour);\n                });\n            };\n        }\n        callback(nodemon(options));\n    });\n\n    grunt.registerMultiTask('attachCopyright', function() {\n        var files = this.data.src;\n        var copyright = \"/**\\n\"+\n            \" * Copyright OpenJS Foundation and other contributors, https://openjsf.org/\\n\"+\n            \" *\\n\"+\n            \" * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n\"+\n            \" * you may not use this file except in compliance with the License.\\n\"+\n            \" * You may obtain a copy of the License at\\n\"+\n            \" *\\n\"+\n            \" * http://www.apache.org/licenses/LICENSE-2.0\\n\"+\n            \" *\\n\"+\n            \" * Unless required by applicable law or agreed to in writing, software\\n\"+\n            \" * distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\n\"+\n            \" * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n\"+\n            \" * See the License for the specific language governing permissions and\\n\"+\n            \" * limitations under the License.\\n\"+\n            \" **/\\n\";\n\n        if (files) {\n            for (var i=0; i<files.length; i++) {\n                var file = files[i];\n                if (!grunt.file.exists(file)) {\n                    grunt.log.warn('File '+ file + ' not found');\n                    return false;\n                } else {\n                    var content = grunt.file.read(file);\n                    if (content.indexOf(copyright) == -1) {\n                        content = copyright+content;\n                        if (!grunt.file.write(file, content)) {\n                            return false;\n                        }\n                        grunt.log.writeln(\"Attached copyright to \"+file);\n                    } else {\n                        grunt.log.writeln(\"Copyright already on \"+file);\n                    }\n                }\n            }\n        }\n    });\n\n    grunt.registerTask('verifyPackageDependencies', function() {\n        var done = this.async();\n        var verifyDependencies = require(\"./scripts/verify-package-dependencies.js\");\n        verifyDependencies().then(function(failures) {\n            if (failures.length > 0) {\n                failures.forEach(f => grunt.log.error(f));\n                grunt.fail.fatal(\"Failed to verify package dependencies\");\n            }\n            done();\n        });\n    });\n\n    grunt.registerTask('verifyUiTestDependencies', function() {\n        if (!fs.existsSync(path.join(\"node_modules\", \"grunt-webdriver\"))) {\n            grunt.fail.fatal('You need to install the UI test dependencies first.\\nUse the script in \"scripts/install-ui-test-dependencies.sh\"');\n            return false;\n        }\n    });\n    grunt.registerTask('generatePublishScript',\n        'Generates a script to publish build output to npm',\n            function () {\n                const done = this.async();\n                const generatePublishScript = require(\"./scripts/generate-publish-script.js\");\n                generatePublishScript().then(function(output) {\n                    grunt.log.writeln(output);\n\n                    const filePath = path.join(grunt.config.get('paths.dist'),\"modules\",\"publish.sh\");\n                    grunt.file.write(filePath,output);\n\n                    done();\n                });\n            });\n    grunt.registerTask('setDevEnv',\n        'Sets NODE_ENV=development so non-minified assets are used',\n            function () {\n                process.env.NODE_ENV = 'development';\n            });\n\n    grunt.registerTask('default',\n        'Builds editor content then runs code style checks and unit tests on all components',\n        ['build','verifyPackageDependencies','jshint:editor','nyc:all']);\n\n    grunt.registerTask('no-coverage',\n        'Builds editor content then runs code style checks and unit tests on all components without code coverage',\n        ['build','verifyPackageDependencies','jshint:editor','simplemocha:all']);\n\n\n    grunt.registerTask('test-core',\n        'Runs code style check and unit tests on core runtime code',\n        ['build','nyc:core']);\n\n    grunt.registerTask('test-editor',\n        'Runs code style check on editor code',\n        ['jshint:editor']);\n\n    if (!fs.existsSync(path.join(\"node_modules\", \"grunt-webdriver\"))) {\n        grunt.registerTask('test-ui',\n            'Builds editor content then runs unit tests on editor ui',\n            ['verifyUiTestDependencies']);\n    } else {\n        grunt.registerTask('test-ui',\n            'Builds editor content then runs unit tests on editor ui',\n            ['verifyUiTestDependencies','build','jshint:editor','webdriver:all']);\n    }\n\n    grunt.registerTask('test-nodes',\n        'Runs unit tests on core nodes',\n        ['build','nyc:nodes']);\n\n    grunt.registerTask('build',\n        'Builds editor content',\n        ['clean:build','jsonlint','concat:build','concat:vendor','copy:build','uglify:build','sass:build','attachCopyright']);\n\n    grunt.registerTask('build-dev',\n        'Developer mode: build dev version',\n        ['clean:build','concat:build','concat:vendor','copy:build','sass:build','setDevEnv']);\n\n    grunt.registerTask('dev',\n        'Developer mode: run node-red, watch for source changes and build/restart',\n        ['build','setDevEnv','concurrent:dev']);\n\n    grunt.registerTask('release',\n        'Create distribution zip file',\n        ['build','verifyPackageDependencies','clean:release','mkdir:release','chmod:release','compress:release','pack-modules','generatePublishScript']);\n\n    grunt.registerTask('pack-modules',\n        'Create module pack files for release',\n        ['mkdir:release','npm-command']);\n\n\n    grunt.registerTask('coverage',\n        'Run Istanbul code test coverage task',\n        ['build','nyc:all']);\n\n    grunt.registerTask('docs',\n        'Generates API documentation',\n        ['jsdoc']);\n};\n"
        },
        {
          "name": "LICENSE",
          "type": "blob",
          "size": 10.0068359375,
          "content": "Copyright OpenJS Foundation and other contributors, https://openjsf.org/\n\n                                 Apache License\n                           Version 2.0, January 2004\n                        http://www.apache.org/licenses/\n\n   TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION\n\n   1. Definitions.\n\n      \"License\" shall mean the terms and conditions for use, reproduction,\n      and distribution as defined by Sections 1 through 9 of this document.\n\n      \"Licensor\" shall mean the copyright owner or entity authorized by\n      the copyright owner that is granting the License.\n\n      \"Legal Entity\" shall mean the union of the acting entity and all\n      other entities that control, are controlled by, or are under common\n      control with that entity. For the purposes of this definition,\n      \"control\" means (i) the power, direct or indirect, to cause the\n      direction or management of such entity, whether by contract or\n      otherwise, or (ii) ownership of fifty percent (50%) or more of the\n      outstanding shares, or (iii) beneficial ownership of such entity.\n\n      \"You\" (or \"Your\") shall mean an individual or Legal Entity\n      exercising permissions granted by this License.\n\n      \"Source\" form shall mean the preferred form for making modifications,\n      including but not limited to software source code, documentation\n      source, and configuration files.\n\n      \"Object\" form shall mean any form resulting from mechanical\n      transformation or translation of a Source form, including but\n      not limited to compiled object code, generated documentation,\n      and conversions to other media types.\n\n      \"Work\" shall mean the work of authorship, whether in Source or\n      Object form, made available under the License, as indicated by a\n      copyright notice that is included in or attached to the work\n      (an example is provided in the Appendix below).\n\n      \"Derivative Works\" shall mean any work, whether in Source or Object\n      form, that is based on (or derived from) the Work and for which the\n      editorial revisions, annotations, elaborations, or other modifications\n      represent, as a whole, an original work of authorship. For the purposes\n      of this License, Derivative Works shall not include works that remain\n      separable from, or merely link (or bind by name) to the interfaces of,\n      the Work and Derivative Works thereof.\n\n      \"Contribution\" shall mean any work of authorship, including\n      the original version of the Work and any modifications or additions\n      to that Work or Derivative Works thereof, that is intentionally\n      submitted to Licensor for inclusion in the Work by the copyright owner\n      or by an individual or Legal Entity authorized to submit on behalf of\n      the copyright owner. For the purposes of this definition, \"submitted\"\n      means any form of electronic, verbal, or written communication sent\n      to the Licensor or its representatives, including but not limited to\n      communication on electronic mailing lists, source code control systems,\n      and issue tracking systems that are managed by, or on behalf of, the\n      Licensor for the purpose of discussing and improving the Work, but\n      excluding communication that is conspicuously marked or otherwise\n      designated in writing by the copyright owner as \"Not a Contribution.\"\n\n      \"Contributor\" shall mean Licensor and any individual or Legal Entity\n      on behalf of whom a Contribution has been received by Licensor and\n      subsequently incorporated within the Work.\n\n   2. Grant of Copyright License. Subject to the terms and conditions of\n      this License, each Contributor hereby grants to You a perpetual,\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n      copyright license to reproduce, prepare Derivative Works of,\n      publicly display, publicly perform, sublicense, and distribute the\n      Work and such Derivative Works in Source or Object form.\n\n   3. Grant of Patent License. Subject to the terms and conditions of\n      this License, each Contributor hereby grants to You a perpetual,\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n      (except as stated in this section) patent license to make, have made,\n      use, offer to sell, sell, import, and otherwise transfer the Work,\n      where such license applies only to those patent claims licensable\n      by such Contributor that are necessarily infringed by their\n      Contribution(s) alone or by combination of their Contribution(s)\n      with the Work to which such Contribution(s) was submitted. If You\n      institute patent litigation against any entity (including a\n      cross-claim or counterclaim in a lawsuit) alleging that the Work\n      or a Contribution incorporated within the Work constitutes direct\n      or contributory patent infringement, then any patent licenses\n      granted to You under this License for that Work shall terminate\n      as of the date such litigation is filed.\n\n   4. Redistribution. You may reproduce and distribute copies of the\n      Work or Derivative Works thereof in any medium, with or without\n      modifications, and in Source or Object form, provided that You\n      meet the following conditions:\n\n      (a) You must give any other recipients of the Work or\n          Derivative Works a copy of this License; and\n\n      (b) You must cause any modified files to carry prominent notices\n          stating that You changed the files; and\n\n      (c) You must retain, in the Source form of any Derivative Works\n          that You distribute, all copyright, patent, trademark, and\n          attribution notices from the Source form of the Work,\n          excluding those notices that do not pertain to any part of\n          the Derivative Works; and\n\n      (d) If the Work includes a \"NOTICE\" text file as part of its\n          distribution, then any Derivative Works that You distribute must\n          include a readable copy of the attribution notices contained\n          within such NOTICE file, excluding those notices that do not\n          pertain to any part of the Derivative Works, in at least one\n          of the following places: within a NOTICE text file distributed\n          as part of the Derivative Works; within the Source form or\n          documentation, if provided along with the Derivative Works; or,\n          within a display generated by the Derivative Works, if and\n          wherever such third-party notices normally appear. The contents\n          of the NOTICE file are for informational purposes only and\n          do not modify the License. You may add Your own attribution\n          notices within Derivative Works that You distribute, alongside\n          or as an addendum to the NOTICE text from the Work, provided\n          that such additional attribution notices cannot be construed\n          as modifying the License.\n\n      You may add Your own copyright statement to Your modifications and\n      may provide additional or different license terms and conditions\n      for use, reproduction, or distribution of Your modifications, or\n      for any such Derivative Works as a whole, provided Your use,\n      reproduction, and distribution of the Work otherwise complies with\n      the conditions stated in this License.\n\n   5. Submission of Contributions. Unless You explicitly state otherwise,\n      any Contribution intentionally submitted for inclusion in the Work\n      by You to the Licensor shall be under the terms and conditions of\n      this License, without any additional terms or conditions.\n      Notwithstanding the above, nothing herein shall supersede or modify\n      the terms of any separate license agreement you may have executed\n      with Licensor regarding such Contributions.\n\n   6. Trademarks. This License does not grant permission to use the trade\n      names, trademarks, service marks, or product names of the Licensor,\n      except as required for reasonable and customary use in describing the\n      origin of the Work and reproducing the content of the NOTICE file.\n\n   7. Disclaimer of Warranty. Unless required by applicable law or\n      agreed to in writing, Licensor provides the Work (and each\n      Contributor provides its Contributions) on an \"AS IS\" BASIS,\n      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or\n      implied, including, without limitation, any warranties or conditions\n      of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A\n      PARTICULAR PURPOSE. You are solely responsible for determining the\n      appropriateness of using or redistributing the Work and assume any\n      risks associated with Your exercise of permissions under this License.\n\n   8. Limitation of Liability. In no event and under no legal theory,\n      whether in tort (including negligence), contract, or otherwise,\n      unless required by applicable law (such as deliberate and grossly\n      negligent acts) or agreed to in writing, shall any Contributor be\n      liable to You for damages, including any direct, indirect, special,\n      incidental, or consequential damages of any character arising as a\n      result of this License or out of the use or inability to use the\n      Work (including but not limited to damages for loss of goodwill,\n      work stoppage, computer failure or malfunction, or any and all\n      other commercial damages or losses), even if such Contributor\n      has been advised of the possibility of such damages.\n\n   9. Accepting Warranty or Additional Liability. While redistributing\n      the Work or Derivative Works thereof, You may choose to offer,\n      and charge a fee for, acceptance of support, warranty, indemnity,\n      or other liability obligations and/or rights consistent with this\n      License. However, in accepting such obligations, You may act only\n      on Your own behalf and on Your sole responsibility, not on behalf\n      of any other Contributor, and only if You agree to indemnify,\n      defend, and hold each Contributor harmless for any liability\n      incurred by, or claims asserted against, such Contributor by reason\n      of your accepting any such warranty or additional liability.\n\n   END OF TERMS AND CONDITIONS\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 1.8798828125,
          "content": "# Node-RED\n\nhttps://nodered.org\n\n[![Build Status](https://github.com/node-red/node-red/actions/workflows/tests.yml/badge.svg?branch=master)](https://github.com/node-red/node-red/actions?query=branch%3Amaster)\n\nLow-code programming for event-driven applications.\n\n![Node-RED: Low-code programming for event-driven applications](https://nodered.org/images/node-red-screenshot.png)\n\n## Quick Start\n\nCheck out https://nodered.org/docs/getting-started/ for full instructions on getting\nstarted.\n\n1. `sudo npm install -g --unsafe-perm node-red`\n2. `node-red`\n3. Open <http://localhost:1880>\n\n## Getting Help\n\nMore documentation can be found [here](https://nodered.org/docs).\n\nFor further help, or general discussion, please use the [Node-RED Forum](https://discourse.nodered.org) or [slack team](https://nodered.org/slack).\n\n## Developers\n\nIf you want to run the latest code from git, here's how to get started:\n\n1. Clone the code:\n\n        git clone https://github.com/node-red/node-red.git\n        cd node-red\n\n2. Install the node-red dependencies\n\n        npm install\n\n3. Build the code\n\n        npm run build\n\n4. Run\n\n        npm start\n\n## Contributing\n\nBefore raising a pull-request, please read our\n[contributing guide](https://github.com/node-red/node-red/blob/master/CONTRIBUTING.md).\n\nThis project adheres to the [Contributor Covenant 1.4](http://contributor-covenant.org/version/1/4/).\n By participating, you are expected to uphold this code. Please report unacceptable\n behavior to any of the project's core team at team@nodered.org.\n\n## Authors\n\nNode-RED is a project of the [OpenJS Foundation](http://openjsf.org).\n\nIt is maintained by:\n\n * Nick O'Leary [@knolleary](http://twitter.com/knolleary)\n * Dave Conway-Jones [@ceejay](http://twitter.com/ceejay)\n * And many others...\n\n\n## Copyright and license\n\nCopyright OpenJS Foundation and other contributors, https://openjsf.org under [the Apache 2.0 license](LICENSE).\n"
        },
        {
          "name": "SECURITY.md",
          "type": "blob",
          "size": 0.1806640625,
          "content": "# Security Policy\n\n## Reporting a Vulnerability\n\nPlease report any potential security issues to `team@nodered.org`. This will notify the core project team who will respond accordingly.\n"
        },
        {
          "name": "jsdoc.json",
          "type": "blob",
          "size": 0.595703125,
          "content": "{\n    \"opts\": {\n        \"template\": \"./node_modules/jsdoc-nr-template\",\n        \"destination\": \"./docs\",\n        \"recurse\": true\n    },\n    \"tags\": {\n        \"allowUnknownTags\": false,\n        \"dictionaries\": [\"jsdoc\"]\n    },\n    \"source\": {\n        \"_include\": [\n            \"./packages/node_modules/@node-red/runtime/lib/api\"\n        ]\n    },\n    \"templates\": {\n        \"systemName\": \"Node-RED Runtime API\",\n        \"footer\": \"\",\n        \"copyright\": \"Released under the Apache License v2.0\",\n        \"default\": {\n            \"outputSourceFiles\": false\n        }\n    },\n    \"plugins\": [\"plugins/markdown\"]\n}\n"
        },
        {
          "name": "package.json",
          "type": "blob",
          "size": 3.708984375,
          "content": "{\n    \"name\": \"node-red\",\n    \"version\": \"4.0.8\",\n    \"description\": \"Low-code programming for event-driven applications\",\n    \"homepage\": \"https://nodered.org\",\n    \"license\": \"Apache-2.0\",\n    \"repository\": {\n        \"type\": \"git\",\n        \"url\": \"https://github.com/node-red/node-red.git\"\n    },\n    \"private\": \"true\",\n    \"scripts\": {\n        \"start\": \"node packages/node_modules/node-red/red.js\",\n        \"test\": \"grunt\",\n        \"build\": \"grunt build\",\n        \"dev\": \"grunt dev\",\n        \"build-dev\": \"grunt build-dev\",\n        \"docs\": \"grunt docs\"\n    },\n    \"contributors\": [\n        {\n            \"name\": \"Nick O'Leary\"\n        },\n        {\n            \"name\": \"Dave Conway-Jones\"\n        }\n    ],\n    \"dependencies\": {\n        \"acorn\": \"8.12.1\",\n        \"acorn-walk\": \"8.3.4\",\n        \"ajv\": \"8.17.1\",\n        \"async-mutex\": \"0.5.0\",\n        \"basic-auth\": \"2.0.1\",\n        \"bcryptjs\": \"2.4.3\",\n        \"body-parser\": \"1.20.3\",\n        \"cheerio\": \"1.0.0-rc.10\",\n        \"clone\": \"2.1.2\",\n        \"content-type\": \"1.0.5\",\n        \"cookie\": \"0.7.2\",\n        \"cookie-parser\": \"1.4.7\",\n        \"cors\": \"2.8.5\",\n        \"cronosjs\": \"1.7.1\",\n        \"denque\": \"2.1.0\",\n        \"express\": \"4.21.2\",\n        \"express-session\": \"1.18.1\",\n        \"form-data\": \"4.0.0\",\n        \"fs-extra\": \"11.2.0\",\n        \"got\": \"12.6.1\",\n        \"hash-sum\": \"2.0.0\",\n        \"hpagent\": \"1.2.0\",\n        \"https-proxy-agent\": \"5.0.1\",\n        \"i18next\": \"21.10.0\",\n        \"iconv-lite\": \"0.6.3\",\n        \"is-utf8\": \"0.2.1\",\n        \"js-yaml\": \"4.1.0\",\n        \"json-stringify-safe\": \"5.0.1\",\n        \"jsonata\": \"2.0.5\",\n        \"lodash.clonedeep\": \"^4.5.0\",\n        \"media-typer\": \"1.1.0\",\n        \"memorystore\": \"1.6.7\",\n        \"mime\": \"3.0.0\",\n        \"moment\": \"2.30.1\",\n        \"moment-timezone\": \"0.5.46\",\n        \"mqtt\": \"5.7.0\",\n        \"multer\": \"1.4.5-lts.1\",\n        \"mustache\": \"4.2.0\",\n        \"node-red-admin\": \"^4.0.1\",\n        \"node-watch\": \"0.7.4\",\n        \"nopt\": \"5.0.0\",\n        \"oauth2orize\": \"1.12.0\",\n        \"on-headers\": \"1.0.2\",\n        \"passport\": \"0.7.0\",\n        \"passport-http-bearer\": \"1.0.1\",\n        \"passport-oauth2-client-password\": \"0.1.2\",\n        \"raw-body\": \"3.0.0\",\n        \"rfdc\": \"^1.3.1\",\n        \"semver\": \"7.6.3\",\n        \"tar\": \"7.4.3\",\n        \"tough-cookie\": \"^5.0.0\",\n        \"uglify-js\": \"3.17.4\",\n        \"uuid\": \"9.0.1\",\n        \"ws\": \"7.5.10\",\n        \"xml2js\": \"0.6.2\"\n    },\n    \"optionalDependencies\": {\n        \"@node-rs/bcrypt\": \"1.10.4\"\n    },\n    \"devDependencies\": {\n        \"dompurify\": \"2.5.7\",\n        \"grunt\": \"1.6.1\",\n        \"grunt-chmod\": \"~1.1.1\",\n        \"grunt-cli\": \"~1.5.0\",\n        \"grunt-concurrent\": \"3.0.0\",\n        \"grunt-contrib-clean\": \"2.0.1\",\n        \"grunt-contrib-compress\": \"2.0.0\",\n        \"grunt-contrib-concat\": \"2.1.0\",\n        \"grunt-contrib-copy\": \"1.0.0\",\n        \"grunt-contrib-jshint\": \"3.2.0\",\n        \"grunt-contrib-uglify\": \"5.2.2\",\n        \"grunt-contrib-watch\": \"1.1.0\",\n        \"grunt-jsdoc\": \"2.4.1\",\n        \"grunt-jsdoc-to-markdown\": \"6.0.0\",\n        \"grunt-jsonlint\": \"3.0.0\",\n        \"grunt-mkdir\": \"~1.1.0\",\n        \"grunt-npm-command\": \"~0.1.2\",\n        \"grunt-sass\": \"~3.1.0\",\n        \"grunt-simple-mocha\": \"~0.4.1\",\n        \"grunt-simple-nyc\": \"^3.0.1\",\n        \"i18next-http-backend\": \"1.4.1\",\n        \"jquery-i18next\": \"1.2.1\",\n        \"jsdoc-nr-template\": \"github:node-red/jsdoc-nr-template\",\n        \"marked\": \"4.3.0\",\n        \"mermaid\": \"11.3.0\",\n        \"minami\": \"1.2.3\",\n        \"mocha\": \"9.2.2\",\n        \"node-red-node-test-helper\": \"^0.3.3\",\n        \"nodemon\": \"3.1.7\",\n        \"proxy\": \"^1.0.2\",\n        \"sass\": \"1.62.1\",\n        \"should\": \"13.2.3\",\n        \"sinon\": \"11.1.2\",\n        \"stoppable\": \"^1.1.0\",\n        \"supertest\": \"6.3.3\"\n    },\n    \"engines\": {\n        \"node\": \">=18.5\"\n    }\n}\n"
        },
        {
          "name": "packages",
          "type": "tree",
          "content": null
        },
        {
          "name": "scripts",
          "type": "tree",
          "content": null
        },
        {
          "name": "test",
          "type": "tree",
          "content": null
        }
      ]
    }
  ]
}