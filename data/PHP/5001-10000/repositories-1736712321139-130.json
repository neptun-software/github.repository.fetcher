{
  "metadata": {
    "timestamp": 1736712321139,
    "page": 130,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjEzMA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "Dolibarr/dolibarr",
      "stars": 5622,
      "defaultBranch": "develop",
      "files": [
        {
          "name": ".codeclimate.yml",
          "type": "blob",
          "size": 0.228515625,
          "content": "# Save as .codeclimate.yml (note leading .) in project root directory\nlanguages:\n  Ruby: false\n  JavaScript: true\n  PHP: true\nengines:\n  phpcodesniffer: true\nexclude_paths:\n  - 'dev/*'\n  - 'doc/*'\n  - 'test/*'\n  - 'htdocs/includes/*'\n"
        },
        {
          "name": ".editorconfig",
          "type": "blob",
          "size": 0.5771484375,
          "content": "# EditorConfig is awesome: https://editorconfig.org\n\n# top-most EditorConfig file\nroot = true\n\n# Unix-style newlines with a newline ending every file\n[*]\ncharset = utf-8\nend_of_line = lf\ninsert_final_newline = true\n\n[*.php]\nindent_style = tab\nindent_size = 4\ntrim_trailing_whitespace = true\ninsert_final_newline = true\n[*.js]\nindent_style = tab\n[*.css]\nindent_style = tab\n[*.xml]\nindent_style = tab\n[*.md]\ntrim_trailing_whitespace = false\n[*.sql]\nindent_style = tab\ntrim_trailing_whitespace = true\nindent_size = 4\n[*.yml]\nindent_style = space\nindent_size = 2\ntrim_trailing_whitespace = true\n"
        },
        {
          "name": ".gitattributes",
          "type": "blob",
          "size": 1.4072265625,
          "content": "# Set default behaviour, in case users don't have core.autocrlf set.\n# More info: https://help.github.com/articles/dealing-with-line-endings\n* text=auto\n\n\n# Explicitly declare text files we want to always be normalized and converted\n# to native line endings on checkout.\n*.php text eol=lf\n*.pl text eol=lf\n*.sql text eol=lf\n*.htm text eol=lf\n*.html text eol=lf\n*.js text eol=lf\n*.json text eol=lf\n*.css text eol=lf\n*.lang text eol=lf\n*.txt text eol=lf\n*.md text eol=lf\n*.pp text eol=lf\n*.sh text eol=lf\n*.yml text eol=lf\n*.yaml text eol=lf\n*.conf text eol=lf\n*.neon text eol=lf\n\n.bash_aliases text eol=lf\n\n# Denote all files that are truly binary and should not be modified.\n*.bmp binary\n*.frm binary\n*.ico binary\n*.jpeg binary\n*.jpg binary\n*.MYD binary\n*.MYI binary\n*.odf binary\n*.odt binary\n*.png binary\n\n\n# Export ignores to generate clean production tarballs\n/build              export-ignore\n/dev                export-ignore\n/doc                export-ignore\n/test               export-ignore\n.buildpath          export-ignore\n/build.xml          export-ignore\n.codeclimate.yml    export-ignore\nDockerfile          export-ignore\n.dockerignore       export-ignore\n.editorconfig       export-ignore\n.gitattributes      export-ignore\n.gitignore          export-ignore\n.mailmap            export-ignore\n.scrutinizer.yml    export-ignore\n.settings           export-ignore\n.travis.yml         export-ignore\n.tx                 export-ignore\n"
        },
        {
          "name": ".github",
          "type": "tree",
          "content": null
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 1.544921875,
          "content": "htdocs/conf/conf.php\nhtdocs/conf/conf.php.old\nhtdocs/conf/conf.php.sav\nhtdocs/conf/conf.php.back\ndocuments/\ncustom2/\ntest/report/\nnbproject\ndefault.properties\n.settings/\n.buildpath\n.gitmodules\n/.project\n/.pydevproject\n/.vscode\n.DS_Store\n*.iml\n*.orig\nThumbs.db\n/dolibarr_genesis.mp4\n.phpunit.result.cache\n# Log files\ndolibarr_install.log\nupgrade.log\ndoxygen_warnings.log\n# Vagrant generated files\n.vagrant\n# Composer installed repositories\n/htdocs/includes/**/.git\n# Composer autoloader and unwanted files\ncomposer.phar\nhtdocs/includes/autoload.php\nhtdocs/includes/bin/\nhtdocs/includes/composer/\nhtdocs/includes/doctrine/\nhtdocs/includes/jakub-onderka/\nhtdocs/includes/phpdocumentor/\nhtdocs/includes/phpspec/\nhtdocs/includes/phpunit/\nhtdocs/includes/php-parallel-lint/\nhtdocs/includes/sebastian/\nhtdocs/includes/squizlabs/\nhtdocs/includes/webmozart/\nhtdocs/install/install.forced.php\nhtdocs/.well-known/apple-developer-merchantid-domain-association\n/factory/\n/output/\n\n# Node Modules\ndev/build/yarn-error.log\ndev/build/node_modules/\nnode_modules/\n\nvendor/\ntmp/\n\n#yarn\nyarn.lock\n\n#package-lock\npackage-lock.json\n\ndoc/install.lock\n/.asciidoctorconfig.adoc\n\n.idea\n/composer.json\n/composer.lock\n\n# Local script, executed during pre-commit\n/local.sh\n\n# Local phpstan configuration\n/phpstan.neon\n/phpstan-baseline.neon\n\n# Logs\n/*.log\n\n# Vim swap files\n*.sw?\n\n# Generated by PHPUNIT.BAT\n/INI_PHPUNIT\n\n# ignore cache builds\n/dev/build/phpstan/phpstan\n/dev/build/phpstan/bootstrap_custom.php\nphpstan_custom.neon\n/.php-cs-fixer.cache\n/.php_cs.cache\n/.cache\n\n# ignore .htaccess files\n.htaccess\n"
        },
        {
          "name": ".gitmessage",
          "type": "blob",
          "size": 0.2451171875,
          "content": "\n# ^=[ Subject: One line short summary ]=========^|\n# ~ Subject template: [KEYWORD] [ISSUENUM] DESC ~|\n\n# ^=[ Blank: Follow the Subject with a blank line, do NOT remove ]====^|\n\n# ^=[ Details: Describe what changed and explain why it changed ]=====^|\n"
        },
        {
          "name": ".mailmap",
          "type": "blob",
          "size": 6.619140625,
          "content": "# This is mapping list between real user name/email and entry into sources files\n# If you don't want to have your real email appears here, just send a Pull Request to\n# replace the second field between <> with <secret>\nLaurent Destailleur <eldy@destailleur.fr> Laurent Destailleur <eldy@users.sourceforge.net>\nLaurent Destailleur <eldy@destailleur.fr> eldy <eldy@destailleur.fr>\nLaurent Destailleur <eldy@destailleur.fr> Laurent Destailleur <ldestailleur@teclib.com>\nLaurent Destailleur <eldy@destailleur.fr> eldy10 <eldy10@master8.(none)>\nLaurent Destailleur <eldy@destailleur.fr> Laurent Destailleur <eldy@destailleur.fr>\nRegis Houssin <regis.houssin@inodbox.com> Regis Houssin <regis@dolibarr.fr>\nRegis Houssin <regis.houssin@inodbox.com> Régis Houssin <regishoussin@device5.home>\nJuanjo Menent <jmenent@2byte.es> simnandez <jmenent@2byte.es>\nJuanjo Menent <jmenent@2byte.es> Juanjo Menent <simnandez@gmail.com>\nJuanjo Menent <jmenent@2byte.es> Simnandez <jmenent@2byte.es>\nJuanjo Menent <jmenent@2byte.es> juanjo <juanjo@samsung>\nJuanjo Menent <jmenent@2byte.es> juanjo <juanjo@alienware>\nMarcos García de La Fuente <marcosgdf@gmail.com> Marcos García <marcosgdf@gmail.com>\nMarcos García de La Fuente <marcosgdf@gmail.com> Marcos García <marcosgdf@gmail.com>\nFlorian Henry <florian.henry@open-concept.pro> fhenry <florian.henry@open-concept.pro>\nFlorian Henry <florian.henry@open-concept.pro> Florian HENRY <florian.henry@open-concept.pro>\nFlorian Henry <florian.henry@open-concept.pro> FHenry <florian.henry.mail@gmail.com>\nFlorian Henry <florian.henry@open-concept.pro> Florian HENRY <florian.henry@open-conept.pro>\nFlorian Henry <florian.henry@open-concept.pro> FHenry <florian.henry@open-concept.pro>\nFlorian Henry <florian.henry@open-concept.pro> HENRY Florian <florian.henry@open-concept.pro>\nAlexandre Spangaro <aspangaro@open-dsi.fr> aspangaro <aspangaro@open-dsi.fr>\nAlexandre Spangaro <aspangaro@open-dsi.fr> Spangaro Alexandre <aspangaro@open-dsi.fr>\nAlexandre Spangaro <aspangaro@open-dsi.fr> Alexandre SPANGARO <aspangaro@open-dsi.fr>\nRaphaël Doursenaud <rdoursenaud@gpcsolutions.fr> Raphaël Doursenaud <rdoursenaud@free.fr>\nPhilippe Grand <philippe.grand@atoo-net.com> Grand Philippe <contact@atoo-net.com>\nPhilippe Grand <philippe.grand@atoo-net.com> Philippe GRAND <philippe.grand@atoo-net.com>\nPhilippe Grand <philippe.grand@atoo-net.com> philippe grand <philippe.grand@atoo-net.com>\nPhilippe Grand <philippe.grand@atoo-net.com> philippe <philippe.grand@atoo-net.com>\nPhilippe Grand <philippe.grand@atoo-net.com> unknown <Philippe@grandoc.(none)>\nPhilippe Grand <philippe.grand@atoo-net.com> philippe <philippe@PC-de-philippe>\nPhilippe Grand <philippe.grand@atoo-net.com> Philippe Grand <contact@atoo-net.com>\nJean-François Ferry <jfefe@aternatik.fr> jfefe <jfefe@aternatik.fr>\nJean-François Ferry <jfefe@aternatik.fr> jfefe <jf.ferry@aternatik.fr>\nJean-François Ferry <jfefe@aternatik.fr> JF FERRY <jfefe@aternatik.fr>\nJean-François Ferry <jfefe@aternatik.fr> JF FERRY <meos@devmachine.(none)>\nCharles Benke <charles.fr@benke.fr> BENKE Charles <charles.fr@benke.fr>\nCharles Benke <charles.fr@benke.fr> BENKE Charlie <charles.fr@benke.fr>\nCharles Benke <charles.fr@benke.fr> defrance69 <charles.fr@benke.fr>\nMaxime Kohlhaas <mko@atm-consulting.fr> MAxime Kohlhaas <maxime@atm-consulting.fr>\nFrédéric France <frederic.france@free.fr> Frédéric FRANCE <frederic.france@free.fr>\nFrédéric France <frederic.france@free.fr> frederic34 <frederic.france@free.fr>\nFrédéric France <frederic.france@free.fr> FRANCE Frédéric <frederic.france@free.fr>\nFrédéric France <frederic.france@free.fr> frederic34 <fred@ubuntuserver.(none)>\nCyrille de Lambert <cyrille.delambert@auguria.net> cdelambert <cdelambert>\nCédric Gross <c.gross@kreiz-it.fr> KreizIT <KreizIT@users.noreply.github.com>\nCédric Gross <c.gross@kreiz-it.fr> Cedric <c.gross@kreiz-it.fr>\nCédric Gross <c.gross@kreiz-it.fr> Cedric GROSS <c.gross@kreiz-it.fr>\nJean Heimburger <jean@tiaris.info> jean <jean@tiaris.info>\nJean Heimburger <jean@tiaris.info> tiaris <tiaris>\nBenoit Mortier <benoit.mortier@opensides.be> opensides <opensides>\nEric Seigne <contact@ryxeo.com> erics <erics>\nJean-Louis Bergamo <jl@bergamo.fr> jlb <jlb>\nRemco Gerbrands <remco@artoge.nl> r2gnl <r2gnl>\nPhf <phf@atm-consulting.fr> phf <phf@atm-consulting.fr>\nYannick Warnier <ywarnier@beeznest.org> ywarnier <ywarnier>\nJerome Warnier <jwarnier@beeznest.org> jwarnier <jwarnier>\nFranky Van Liedekerke <liedekef@telenet.be> liedekef <liedekef>\nLalaina Rasamoelina <lalaina.rasamoelina@biblibre.com> lalaina rasamoelina <lalaina.rasamoelina@biblibre.com>\nMarc Ocebo <marc_ocebo> marc_ocebo <marc_ocebo>\nUnknown <secret> box7890 <box7890>\nUnknown <secret> beedauchon <beedauchon>\nLoic <secret> loic <loic>\nChristophe Combelle <ccomb>\nUnknown <secret> activdev <activdev>\nUnknown <secret> bouba <bouba>\nUnknown <secret> bcroq <bcroq>\nUnknown <secret> dutoit <dutoit>\nUnknown <secret> bureau2crea <bureau2crea>\nUnknown <secret> unknown <mne02@.modula71.local>\nSimon Tosser <secret> simontosser <simontosser>\nUnknown <secret> tipaul <tipaul>\nRaphaël Bertrand <secret> raphael_bertrand <raphael_bertrand>\nClaudio Aschieri <c.aschieri@19.coop> cla <c.aschieri@19.coop>\nTommaso Basilici <t.basilici@19.coop> kaos <t.basilici@19.coop>\nTommaso Basilici <t.basilici@19.coop> Tommaso Basilici <t.basilici@19.coop>\nFaust <faust@19.coop> faust <faust@19.coop>\nFerran Marcet <secret> fmarcet <fmarcet@imedia>\nGeoffrey Girard <geoffre.girard@atm-consulting.fr> geoffrey.girard <geoffre.girard@atm-consulting.fr>\nBernard Paquier <eshop.bpaquier@gmail.com> BadPixxel <eshop.bpaquier@gmail.com>\nPatrick Delcroix <delcroip@gmail.com> delcroix Patrick <delcroip@gmail.com>\nDamien Clochard <damien@dalibo.com> damien clochard <damien@dalibo.info>\nDamien Clochard <damien@dalibo.com> damien clochard <damien@dalibo.com>\nGrégory David <groolot@groolot.net> Grégory DAVID <groolot@groolot.net>\nGrégory David <groolot@groolot.net> Gregory DAVID <groolot@groolot.net>\nBaffir Abbes <bafbes@users.noreply.github.com> bafbes <bafbes@users.noreply.github.com>\nKevin Guerrier <guerrier.k@gmail.com> GUERRIER Kevin <guerrier.k@gmail.com>\nRemy Younes <ryounes@gmail.com> remy <ryounes@gmail.com>\nEstephe Loridan <github@estephe.me> Estephe L. <github@estephe.me>\nAnthony Berton <anthony.berton@bb2a.fr> Anthony Berton <anthony.berton@bb2a.fr>\nAnthony Berton <anthony.berton@bb2a.fr> Berton Anthony <anthony.berton@bb2a.fr>\nAnthony Berton <anthony.berton@bb2a.fr> BB2A-Anthony <anthony.berton@bb2a.fr>\nAnthony Berton <anthony.berton@bb2a.fr> Anthony Berton <bertonanthony@gmail.com>\nAnthony Berton <anthony.berton@bb2a.fr> Berton Anthony <bertonanthony@gmail.com>\nAnthony Berton <anthony.berton@bb2a.fr> BB2A-Anthony <bertonanthony@gmail.com>\n"
        },
        {
          "name": ".phan",
          "type": "tree",
          "content": null
        },
        {
          "name": ".pre-commit-config.yaml",
          "type": "blob",
          "size": 9.515625,
          "content": "---\nexclude: (?x)^( htdocs/includes/ckeditor/.*|(\\.(?!github/workflows)[^/]*/.*))$\nrepos:\n  # Several miscellaneous checks and fix (on yaml files, end of files fix)\n  - repo: https://github.com/pre-commit/pre-commit-hooks\n    rev: v4.6.0\n    hooks:\n      # This hook tests the name of the branch and return an error if the name is\n      #  'develop' or an official version 'x.y'\n      # So you can't commit if your branch name is not a custom branch name.\n      # Using a custom branch name is good practice that makes it easier to manage PRs.\n      # You can skip this:\n      #  - Permanently:\n      #      export SKIP=no-commit-to-branch   # In your .bashrc or session.\n      #  - Only this for one commit:\n      #      SKIP=no-commit-to-branch git commit -a -m \"My message\"\n      #  - Skipping all checks for a commit:\n      #      git commit -a -m \"My message\" --no-verify\n      #      (Recommendation: run git commit -a .. once, then with `--no-verify`)\n      - id: no-commit-to-branch\n        args: [--branch, develop, --pattern, \\d+.0$]\n      # This checks that xml files are correct\n      - id: check-xml\n        exclude: |\n          (?x)^(htdocs/includes/.*)$\n      # This checks that yaml files are correct\n      - id: check-yaml\n        args: [--unsafe]\n      # This checks that json files are correct\n      - id: check-json\n      # Fixes Fix files that have DOS end of line endings\n      - id: mixed-line-ending\n        # alternative for dev/tools/fixdosfiles.sh\n        exclude: |\n          (?x)^(htdocs/includes/tecnickcom/tcpdf/fonts/.*\n               |.*/CRLF.*.php  # Files in swiftmailer\n               )$\n        args: [--fix=lf]\n      # Remove trailing whitespace\n      - id: trailing-whitespace\n        exclude_types: [markdown]\n      # Fix the end of file\n      - id: end-of-file-fixer\n      # Check that there are no completely merged file conflicts\n      - id: check-merge-conflict\n        stages: [pre-rebase, pre-commit, pre-merge-commit]\n      # Check that files with shebangs have the executable bit set (in git)\n      - id: check-executables-have-shebangs\n      # Check that shell files are executables\n      - id: check-shebang-scripts-are-executable\n        exclude:\n          (?x)^( dev/tools/dolibarr-postgres2mysql.php |test/other/test_serialize.php\n          |test/phpunit/textutf8.txt |test/phpunit/textiso.txt |htdocs/includes/.*\n          |htdocs/modulebuilder/template/.* |dev/build/debian/dolibarr.postrm |dev/build/debian/dolibarr.postinst\n          |dev/build/debian/dolibarr.config )$\n      # Fix the first UTF8 byte\n      - id: fix-byte-order-marker\n      # Check that there are no files that have are the same when uppercased (conflict on windows)\n      - id: check-case-conflict\n\n  # Gitleaks is a SAST tool for detecting and preventing hardcoded secrets like passwords, api keys, and tokens in git repos\n  - repo: https://github.com/gitleaks/gitleaks.git\n    rev: v8.16.1\n    hooks:\n      - id: gitleaks\n\n  # Check github actions\n  - repo: https://github.com/rhysd/actionlint\n    rev: v1.7.3\n    hooks:\n      - id: actionlint\n\n  # Beautify shell scripts\n  - repo: https://github.com/lovesegfault/beautysh.git\n    rev: v6.2.1\n    hooks:\n      - id: beautysh\n        exclude: |\n          (?x)^(dev/setup/git/hooks/pre-commit\n               )$\n        args: [--tab]\n\n  # Run local script\n  #\n  # For example, to update the license in edited files, you could add to local.sh:\n  #\n  #   ```shell\n  #   #!/bin/bash\n  #   MYDIR=$(dirname \"$0\")\n  #   git diff HEAD --name-only | grep -v includes | \\\n  #       xargs \"$MYDIR/dev/tools/updatelicense.php\"\n  #   ```\n  - repo: local\n    hooks:\n      - name: Find missing/unused/duplicate language keys\n        id: check-translations\n        files: (?x)^(htdocs/langs/en_US/.*\\.lang)\n        language: script\n        entry: ./dev/translation/sanity_check_trans_missing_unused.sh\n        pass_filenames: false\n        args: [list]\n      - id: local-precommit-script\n        name: Run local script before commit if it exists\n        language: system\n        entry: bash -c '[ ! -x local.sh ] || ./local.sh'\n        pass_filenames: false\n      - id: duplicate-lang-lines\n        stages: [manual]\n        name: Find duplicate language lines\n        files: (?x)^(htdocs/langs/en_US/.*\\.lang)\n        language: script\n        entry: ./dev/tools/fixduplicatelanglines.sh\n        pass_filenames: false\n        args: [list]\n      - id: duplicate-lang-keys\n        stages: [manual]\n        name: Find duplicate language keys\n        files: (?x)^(htdocs/langs/en_US/.*\\.lang)\n        language: script\n        entry: ./dev/tools/fixduplicatelangkey.sh\n        pass_filenames: false\n        args: [list]\n      - id: fix-alt-languages\n        stages: [manual]\n        name: Fix alt languages\n        # Selection: see fixaltlanguages.sh script\n        files: (?x)^(htdocs/langs/(e[lnstu]|k[akmno]|s[lqrv]|b[nrs]|c[asy]|n[bel]|[ip]t|a[mr]|d[ae]|f[ar]|h[ei]|m[sy]|t[ag]|u[kr]|gl|ja|lo|ru|vi|zh)_[^/]*/.*\\.lang)\n        language: script\n        entry: ./dev/tools/fixaltlanguages_pre-commit.sh\n        pass_filenames: true\n\n  # Check PHP syntax\n  - repo: https://github.com/mdeweerd/pre-commit-php\n    rev: v1.6.8\n    hooks:\n      - id: php-cbf\n        files: \\.(php)$\n        args: [--standard=dev/setup/codesniffer/ruleset.xml]\n      - id: php-cs\n        files: \\.(php)$\n        args:\n          [\n            --standard=dev/setup/codesniffer/ruleset.xml,\n            --report=emacs,\n            --severity=5,\n            --no-colors,\n          ]\n      - alias: php-cs-with-cache\n        id: php-cs\n        # Configuration for ci - run on all files with cache\n        stages: [manual]\n        args:\n          [\n            --standard=dev/setup/codesniffer/ruleset.xml,\n            --report=emacs,\n            --severity=5,\n            --no-colors,\n            --cache=.cache/pre-commit/dolibarr-php-cs.cache,\n            .,\n          ]\n        pass_filenames: false # Run on all files\n      - id: php-lint\n        exclude:\n          (?x)^(htdocs/includes/symfony/var-dumper/Tests/.*)$\n      - id: php-stan\n        stages: [manual]\n        files: \\.(php)$\n\n  # Prettier (format code, only for non common files)\n  - repo: https://github.com/pre-commit/mirrors-prettier\n    rev: v3.0.3\n    hooks:\n      - id: prettier\n        stages: [manual]\n        exclude:\n          (?x)^( .*\\.(phar |min\\.css |lock) |htdocs/(includes|theme/common)/.*\n          )$\n        exclude_types:\n          - php\n          - executable\n          - binary\n          - shell\n          - javascript\n          - markdown\n          - html\n          - less\n          - plain-text\n          - scss\n          - css\n          - yaml\n\n  # Check format of yaml files\n  - repo: https://github.com/adrienverge/yamllint.git\n    rev: v1.35.1\n    hooks:\n      - id: yamllint\n        args:\n          - --no-warnings\n          - -d\n          - \"{extends: relaxed, rules: {line-length: {max: 120}}}\"\n\n  # Execute codespell to fix typo errors (setup of codespell into dev/tools/codespell/)\n  - repo: https://github.com/codespell-project/codespell\n    rev: v2.3.0\n    hooks:\n      - id: codespell\n        # Due to a current limitation of configuration files,\n        # we can specify two dicts only on the CLI.\n        # You can update the contents of the exclude-file codespell-lines-ignore with the script\n        # dev/tools/codespell/addCodespellIgnores.sh\n        args:\n          - -D\n          - \"-\"\n          - -D\n          - dev/tools/codespell/codespell-dict.txt\n          - -I\n          - dev/tools/codespell/codespell-ignore.txt\n          - -x\n          - dev/tools/codespell/codespell-lines-ignore.txt\n        exclude_types: [image]\n        exclude: (?x)^(.phan/stubs/.*|phpstan\\.neon.*)$\n        additional_dependencies: [tomli]\n      - alias: codespell-lang-en_US\n        # Only for translations with specialised exceptions\n        # -D contains predefined conversion dictionaries\n        # -L is to ignore some words\n        id: codespell\n        files: ^htdocs/langs/en_US/.*$\n        args:\n          - -D\n          - \"-\"\n          - -D\n          - dev/tools/codespell/codespell-dict.txt\n          - -L\n          - informations,medias,uptodate,reenable,crypted,developpers\n          - -L\n          - creat,unitl,alltime,datas,referers\n          - -I\n          - dev/tools/codespell/codespell-ignore.txt\n          - -x\n          - dev/tools/codespell/codespell-lines-ignore.txt\n          - --uri-ignore-words-list\n          - ned\n\n  # Check some shell scripts\n  - repo: https://github.com/shellcheck-py/shellcheck-py\n    rev: v0.10.0.1\n    hooks:\n      - id: shellcheck\n        args: [-W, \"100\"]\n\n  # Check sql file syntax\n  - repo: https://github.com/sqlfluff/sqlfluff\n    rev: 3.1.0\n    hooks:\n      - id: sqlfluff-lint\n        stages: [pre-commit, manual]  # manual needed for ci\n        exclude: (?x)^\n          (dev/initdemo/mysqldump_.*\\.sql\n          |htdocs/core/menus/init_menu_auguria\\.sql\n          |htdocs/includes/.*\n          |htdocs/install/doctemplates/websites/.*_template\n          |htdocs/install/doctemplates/websites/website_template.*\\.sql\n          |htdocs/install/mysql/data/llx_20_c_departements\\.sql\n          |htdocs/install/mysql/data/llx_accounting_account_.*\\.sql\n          |htdocs/install/mysql/migration/3\\..*\\.sql\n          |htdocs/install/mysql/migration/(1[0-5]|[456789])\\.0\\.0-.*\\.sql\n          |htdocs/install/mysql/migration/repair\\.sql\n          |htdocs/install/mysql/tables/llx_bookcal_availabilities-bookcal\\.sql\n          |htdocs/install/mysql/tables/llx_categorie.*\\.key\\.sql\n          |htdocs/install/mysql/tables/llx_rights_def\\.key\\.sql\n          |htdocs/install/pgsql/functions/functions.*\\.sql\n          |htdocs/modulebuilder/template/sql/.*\\.sql\n          )$\n"
        },
        {
          "name": ".travis.yml",
          "type": "blob",
          "size": 28.85546875,
          "content": "# This script is used by Travis CI to run automatically Continuous test integration\n# from Dolibarr GitHub repository.\n# For syntax, see https://docs.travis-ci.com/user/languages/php/\n\n# We use dist: focal = 20.04\nos: linux\ndist: focal\n\nlanguage: generic\n\n#scan_logs: false\n\ngit:\n  depth: 1\n\n# Start on every boot\nservices:\n- memcached\n#- mysql\n- postgresql\n\n\naddons:\n  mariadb: '10.5'\n\n\nenv:\n  global:\n  # Set to true for very verbose output\n  - DEBUG=true\n\ncache:\n  directories:\n    - ~/.cache\n\n\njobs:\n  fast_finish: true\n  allow_failures:\n  - php: '8.4'\n  include:\n    - stage: PHP min and max\n      if: type = push\n      php: '7.1'\n      env:\n      - DB=postgresql\n      - TRAVIS_PHP_VERSION=7.1\n    - stage: PHP min and max\n      if: type = pull_request OR type = push\n      php: '8.3'\n      env:\n      - DB=mysql\n      - TRAVIS_PHP_VERSION=8.3\n    - stage: PHP 8.4\n      if: type = push AND branch = develop\n      php: '8.4'\n      env:\n      - DB=mysql\n      - TRAVIS_PHP_VERSION=8.4\n\nnotifications:\n  email:\n    on_success: never # [always|never|change] default: change\n    on_failure: never # [always|never|change] default: always\n  irc:\n    channels:\n    - \"chat.freenode.net#dolibarr\"\n    on_success: change\n    on_failure: always\n    use_notice: true\n\n\nbefore_install:\n- |\n  echo \"Remove awful phpenv and install packages\"\n  sudo rm -fr ~/.phpenv\n  sudo rm -fr /root/.phpenv\n  sudo add-apt-repository -y ppa:ondrej/php\n  sudo apt-get update\n  echo TRAVIS_PHP_VERSION=$TRAVIS_PHP_VERSION\n\n- |\n  echo Install packages for PHP\n  sudo apt-get install -y pgloader memcached\n  if [ \"$TRAVIS_PHP_VERSION\" = '7.1' ]; then\n  \tsudo apt install unzip apache2 php7.1 php7.1-cli php7.1-curl php7.1-mysql php7.1-pgsql php7.1-gd php7.1-imap php7.1-intl php7.1-ldap php7.1-xml php7.1-mbstring php7.1-xml php7.1-zip libapache2-mod-php7.1\n  fi\n  if [ \"$TRAVIS_PHP_VERSION\" = '8.1' ]; then\n  \tsudo apt install unzip apache2 php8.1 php8.1-cli php8.1-curl php8.1-mysql php8.1-pgsql php8.1-gd php8.1-imap php8.1-intl php8.1-ldap php8.1-xml php8.1-mbstring php8.1-xml php8.1-zip libapache2-mod-php8.1\n  fi\n  if [ \"$TRAVIS_PHP_VERSION\" = '8.2' ]; then\n  \tsudo apt install unzip apache2 php8.2 php8.2-cli php8.2-curl php8.2-mysql php8.2-pgsql php8.2-gd php8.2-imap php8.2-intl php8.2-ldap php8.2-xml php8.2-mbstring php8.2-xml php8.2-zip libapache2-mod-php8.2\n  fi\n  if [ \"$TRAVIS_PHP_VERSION\" = '8.3' ]; then\n  \tsudo apt install unzip apache2 php8.3 php8.3-cli php8.3-curl php8.3-mysql php8.3-pgsql php8.3-gd php8.3-imap php8.3-intl php8.3-ldap php8.3-xml php8.3-mbstring php8.3-xml php8.3-zip libapache2-mod-php8.3\n  fi\n  if [ \"$TRAVIS_PHP_VERSION\" = '8.4' ]; then\n    sudo apt install unzip apache2 php8.4 php8.4-cli php8.4-curl php8.4-mysql php8.4-pgsql php8.4-gd php8.4-imap php8.4-intl php8.4-ldap php8.4-xml php8.4-mbstring php8.4-xml php8.4-zip libapache2-mod-php8.4\n  fi\n\n- |\n  echo Install pgsql if run is for pgsql\n  if [ \"$DB\" = 'postgresql' ]; then\n    echo \"Check pgloader version\"\n    pgloader --version\n    #ps fauxww | grep postgres\n    ls /etc/postgresql/13/main/\n\n    sudo sed -i -e '/local.*peer/s/postgres/all/' -e 's/peer\\|md5/trust/g' /etc/postgresql/13/main/pg_hba.conf\n    sudo cat /etc/postgresql/13/main/pg_hba.conf\n\n    sudo service postgresql restart\n\n    psql postgresql://postgres:postgres@127.0.0.1:5432 -l -A\n\n    psql postgresql://postgres:postgres@127.0.0.1:5432 -c 'create database travis;'\n    psql postgresql://postgres:postgres@127.0.0.1:5432 -c \"CREATE USER travis WITH ENCRYPTED PASSWORD 'travis';\"\n    psql postgresql://postgres:postgres@127.0.0.1:5432 -c 'GRANT ALL PRIVILEGES ON DATABASE travis TO travis;'\n\n    psql postgresql://postgres:postgres@127.0.0.1:5432 -l -A\n  fi\n\ninstall:\n- |\n  if [ \"$TRAVIS_PHP_VERSION\" = '7.1' ]; then\n    sudo update-alternatives --set php /usr/bin/php7.1\n  fi\n  if [ \"$TRAVIS_PHP_VERSION\" = '8.1' ]; then\n    sudo update-alternatives --set php /usr/bin/php8.1\n  fi\n  if [ \"$TRAVIS_PHP_VERSION\" = '8.2' ]; then\n    sudo update-alternatives --set php /usr/bin/php8.2\n  fi\n  php -i | head -\n\n- |\n  echo \"Updating Composer config\"\n  curl -sS https://getcomposer.org/installer -o /tmp/composer-setup.php\n  HASH=`curl -sS https://composer.github.io/installer.sig`\n  echo $HASH\n  php -r \"if (hash_file('SHA384', '/tmp/composer-setup.php') === '$HASH') { echo 'Installer verified'; } else { echo 'Installer corrupt'; unlink('composer-setup.php'); } echo PHP_EOL;\"\n  sudo php /tmp/composer-setup.php --install-dir=/usr/local/bin --filename=composer\n  sudo chmod -R a+rwx /usr/local/bin/composer\n\n  #sudo apt install composer\n  composer -V\n  composer -n config -g vendor-dir htdocs/includes\n  echo\n\n- |\n  echo \"Update Composer version and Install tools - PHP Unit, Parallel Lint, PHP CodeSniffer, PHP Vardump check - for $TRAVIS_PHP_VERSION\"\n  echo \"(composer version 2.5 is bugged and generate phpunit error Exception: Serialization of 'Closure' is not allowed)\"\n  if [ \"$TRAVIS_PHP_VERSION\" = '7.1' ] || [ \"$TRAVIS_PHP_VERSION\" = '7.2' ]; then\n    sudo composer self-update 2.2.18\n    composer -n require phpunit/phpunit ^7.5 \\\n                        php-parallel-lint/php-parallel-lint ^1 \\\n                        php-parallel-lint/php-console-highlighter ^0 \\\n                        php-parallel-lint/php-var-dump-check ~0.4 \\\n                        squizlabs/php_codesniffer ^3\n  fi\n  if [ \"$TRAVIS_PHP_VERSION\" = '7.3' ] || [ \"$TRAVIS_PHP_VERSION\" = '7.4' ]; then\n    sudo composer self-update 2.2.18\n    composer -n require phpunit/phpunit ^7.5 \\\n                        php-parallel-lint/php-parallel-lint ^1.2 \\\n                        php-parallel-lint/php-console-highlighter ^0 \\\n                        php-parallel-lint/php-var-dump-check ~0.4 \\\n                        squizlabs/php_codesniffer ^3\n  fi\n  # phpunit 9 is required for php 8\n  if [ \"$TRAVIS_PHP_VERSION\" = '8.0' ] || [ \"$TRAVIS_PHP_VERSION\" = '8.1' ] || [ \"$TRAVIS_PHP_VERSION\" = '8.2' ] || [ \"$TRAVIS_PHP_VERSION\" = '8.3' ] || [ \"$TRAVIS_PHP_VERSION\" = '8.4' ] || [ \"$TRAVIS_PHP_VERSION\" = 'nightly' ]; then\n      sudo composer self-update 2.4.4\n      composer -n require --ignore-platform-reqs phpunit/phpunit ^8 \\\n                                                 php-parallel-lint/php-parallel-lint ^1.2 \\\n                                                 php-parallel-lint/php-console-highlighter ^0 \\\n                                                 php-parallel-lint/php-var-dump-check ~0.4 \\\n                                                 squizlabs/php_codesniffer ^3\n  fi\n\n  # Remove non expected files\n  rm -fr /home/travis/build/Dolibarr/dolibarr/htdocs/includes/phpunit/php-code-coverage/src/Report/Html/Renderer/Template/js\n  echo\n\n- |\n  echo \"Adding path of binaries tools installed by composer to the PATH\"\n  export PATH=\"$TRAVIS_BUILD_DIR/htdocs/includes/bin:$PATH\"\n  echo $PATH\n  ls $TRAVIS_BUILD_DIR/htdocs/includes\n  ls $TRAVIS_BUILD_DIR/htdocs/includes/bin\n  echo\n\n\n\nbefore_script:\n  - |\n    echo Start before_script\n    echo Current dir is `pwd`\n    echo Home dir is `echo ~`\n    echo TRAVIS_BUILD_DIR is $TRAVIS_BUILD_DIR\n\n  - |\n    echo \"Versions information\"\n    echo\n    # Check PHP\n    echo \"PHP version\"\n    php -i | head -\n    # Check Parallel-lint version\n    echo \"Parallel-lint version\"\n    which parallel-lint\n    parallel-lint -V\n    # Check PHP CodeSniffer version\n    echo \"PHPCS version\"\n    which phpcs\n    phpcs --version | head -\n    phpcs -i | head -\n    # Check PHP Vardump check version\n    echo \"PHP Vardump check version\"\n    which var_dump_check\n    var_dump_check --version\n    # Check PHPUnit version\n    echo \"PHPUnit version\"\n    which phpunit\n    phpunit --version | head -\n    # Check Apache version\n    echo \"Apache version\"\n    apache2 -v | head -\n    # Check Database\n    echo \"Database version\"\n    mysql --version | head -\n    psql --version\n\n  - |\n    echo \"Setting up database\"\n    if [ \"$DB\" = 'mysql' ] || [ \"$DB\" = 'mariadb' ] || [ \"$DB\" = 'postgresql' ]; then\n      echo \"MySQL stop\"\n      sudo systemctl stop mariadb.service\n      echo \"MySQL restart without pass\"\n      #sudo mysqld_safe --skip-grant-tables --socket=/tmp/aaa\n      sudo mysqld_safe --skip-grant-tables --socket=/tmp/aaa &\n      sleep 3\n      sudo ps fauxww\n      echo \"MySQL set root password\"\n      sudo mysql -u root -h 127.0.0.1 -e \"FLUSH PRIVILEGES; CREATE DATABASE IF NOT EXISTS travis CHARACTER SET = 'utf8'; ALTER USER 'root'@'localhost' IDENTIFIED BY 'password'; CREATE USER 'root'@'127.0.0.1' IDENTIFIED BY 'password'; CREATE USER 'travis'@'127.0.0.1' IDENTIFIED BY 'password'; GRANT ALL PRIVILEGES ON travis.* TO root@127.0.0.1; GRANT ALL PRIVILEGES ON travis.* TO travis@127.0.0.1; FLUSH PRIVILEGES;\"\n      echo \"MySQL grant\"\n      sudo mysql -u root -h 127.0.0.1 -ppassword -e 'FLUSH PRIVILEGES; GRANT ALL PRIVILEGES ON travis.* TO travis@127.0.0.1; FLUSH PRIVILEGES;'\n      echo \"MySQL list current users\"\n      sudo mysql -u root -h 127.0.0.1 -ppassword -e 'use mysql; select * from user;'\n      echo \"List pid file\"\n      sudo mysql -u root -h 127.0.0.1 -ppassword -e \"show variables like '%pid%';\"\n\n      #sudo kill `cat /var/lib/mysqld/mysqld.pid`\n      #sudo systemctl start mariadb\n\n      echo \"MySQL grant\"\n      sudo mysql -u root -h 127.0.0.1 -ppassword -e 'GRANT ALL PRIVILEGES ON travis.* TO travis@127.0.0.1;'\n      echo \"MySQL flush\"\n      sudo mysql -u root -h 127.0.0.1 -ppassword -e 'FLUSH PRIVILEGES;'\n\n      echo \"MySQL load sql\"\n      sudo mysql -u root -h 127.0.0.1 -ppassword -D travis < dev/initdemo/mysqldump_dolibarr_3.5.0.sql\n    fi\n    if [ \"$DB\" = 'postgresql' ]; then\n      echo \"PGSQL\"\n      sudo mkdir -p /tmp/pgloader\n      sudo chmod -R a+rwx /tmp/pgloader/\n      sudo pgloader 'mysql://root:password@127.0.0.1/travis' 'postgresql://postgres:postgres@127.0.0.1:5432/travis'\n      echo 'ALTER SEQUENCE llx_accountingaccount_rowid_seq RENAME TO llx_accounting_account_rowid_seq' | psql 'postgresql://postgres:postgres@127.0.0.1:5432/travis'\n      echo 'ALTER SEQUENCE llx_accounting_account_rowid_seq RESTART WITH 1000001;' | psql 'postgresql://postgres:postgres@127.0.0.1:5432/travis'\n\n      #echo '\\d llx_adherent' | psql 'postgresql://postgres:postgres@127.0.0.1:5432/travis'\n      #echo '\\d llx_c_country' | psql 'postgresql://postgres:postgres@127.0.0.1:5432/travis'\n\n      # Create pgsql compatibility functions\n      psql 'postgresql://postgres:postgres@127.0.0.1:5432/travis' < htdocs/install/pgsql/functions/functions.sql\n    fi\n    echo\n\n  - |\n    export CONF_FILE=htdocs/conf/conf.php\n    echo \"Setting up Dolibarr '$CONF_FILE'\"\n    echo '<?php' > $CONF_FILE\n    echo 'error_reporting(E_ALL);' >> $CONF_FILE\n    echo '$'dolibarr_main_url_root=\\'http://127.0.0.1\\'';' >> $CONF_FILE\n    echo '$'dolibarr_main_document_root=\\'$TRAVIS_BUILD_DIR/htdocs\\'';' >> $CONF_FILE\n    echo '$'dolibarr_main_data_root=\\'$TRAVIS_BUILD_DIR/documents\\'';' >> $CONF_FILE\n    echo '$'dolibarr_main_db_host=\\'127.0.0.1\\'';' >> $CONF_FILE\n    echo '$'dolibarr_main_db_name=\\'travis\\'';' >> $CONF_FILE\n    echo '$'dolibarr_main_instance_unique_id=\\'travis1234567890\\'';' >> $CONF_FILE\n    if [ \"$DB\" = 'mysql' ] || [ \"$DB\" = 'mariadb' ]; then\n      echo '$'dolibarr_main_db_type=\\'mysqli\\'';' >> $CONF_FILE\n      echo '$'dolibarr_main_db_port=3306';' >> $CONF_FILE\n      echo '$'dolibarr_main_db_user=\\'root\\'';' >> $CONF_FILE\n      echo '$'dolibarr_main_db_pass=\\'password\\'';' >> $CONF_FILE\n    fi\n    if [ \"$DB\" = 'postgresql' ]; then\n      echo '$'dolibarr_main_db_type=\\'pgsql\\'';' >> $CONF_FILE\n      echo '$'dolibarr_main_db_port=5432';' >> $CONF_FILE\n      echo '$'dolibarr_main_db_user=\\'postgres\\'';' >> $CONF_FILE\n      echo '$'dolibarr_main_db_pass=\\'postgres\\'';' >> $CONF_FILE\n    fi\n    echo '$'dolibarr_main_authentication=\\'dolibarr\\'';' >> $CONF_FILE\n    cat $CONF_FILE\n    echo\n\n  - |\n    echo \"Create documents directory and set permissions\"\n    # Add admin/temp subdirectory needed for unit tests\n    mkdir -p $TRAVIS_BUILD_DIR/documents/admin/temp\n    sudo chmod -R a+rwx $TRAVIS_BUILD_DIR/documents\n    echo \"***** First line of dolibarr.log\" > $TRAVIS_BUILD_DIR/documents/dolibarr.log\n    echo\n\n\n  - |\n    echo \"Setting up Apache\"\n    sudo sed -i -e \"s,www-data,travis,g\" /etc/apache2/envvars\n    sudo cp -f dev/build/travis-ci/apache.conf /etc/apache2/sites-available/000-default.conf\n    sudo sed -e \"s?%TRAVIS_BUILD_DIR%?$(pwd)?g\" --in-place /etc/apache2/sites-available/000-default.conf\n    sudo cat /etc/apache2/sites-available/000-default.conf\n    sudo service apache2 restart\n\n\nscript:\n  - |\n    echo \"Checking webserver availability by a wget -O - --debug http://127.0.0.1\"\n    # Ensure we stop on error with set -e\n    set +e\n    # The wget should return a page with line '<meta name=\"generator\" content=\"Dolibarr installer\">\n    wget -O - --debug http://127.0.0.1 > test.html\n    head -n 200 test.html\n    sudo cat /var/log/apache2/travis_error_log\n    set +e\n    echo\n\n  - |\n    echo \"Checking PHP syntax errors (only 1 version to not overload travis and avoid duplicate tests)\"\n    # Ensure we catch errors\n    set -e\n    # Exclusions are defined in the ruleset.xml file\n    if [ \"$TRAVIS_PHP_VERSION\" = \"8.1\" ]; then\n      parallel-lint -e php --exclude dev/tools/test/namespacemig --exclude htdocs/includes/composer --exclude htdocs/includes/myclabs --exclude htdocs/includes/phpspec --exclude dev/initdata/dbf/includes \\\n        --exclude htdocs/includes/sabre --exclude htdocs/includes/phpoffice/PhpSpreadsheet --exclude htdocs/includes/sebastian \\\n        --exclude htdocs/includes/squizlabs/php_codesniffer --exclude htdocs/includes/jakub-onderka --exclude htdocs/includes/php-parallel-lint --exclude htdocs/includes/symfony \\\n        --exclude htdocs/includes/mike42/escpos-php/example --exclude htdocs/includes/maximebf \\\n        --exclude htdocs/includes/phpunit/ --exclude htdocs/includes/tecnickcom/tcpdf/include/barcodes --exclude htdocs/includes/webmozart --exclude htdocs/includes/webklex --blame .\n    fi\n    if [ \"$TRAVIS_PHP_VERSION\" = \"8.2\" ]; then\n      parallel-lint -e php --exclude dev/tools/test/namespacemig --exclude htdocs/includes/composer --exclude htdocs/includes/myclabs --exclude htdocs/includes/phpspec --exclude dev/initdata/dbf/includes \\\n        --exclude htdocs/includes/sabre --exclude htdocs/includes/phpoffice/PhpSpreadsheet --exclude htdocs/includes/sebastian \\\n        --exclude htdocs/includes/squizlabs/php_codesniffer --exclude htdocs/includes/jakub-onderka --exclude htdocs/includes/php-parallel-lint --exclude htdocs/includes/symfony \\\n        --exclude htdocs/includes/mike42/escpos-php/example --exclude htdocs/includes/maximebf \\\n        --exclude htdocs/includes/phpunit/ --exclude htdocs/includes/tecnickcom/tcpdf/include/barcodes --exclude htdocs/includes/webmozart --exclude htdocs/includes/webklex --blame .\n    fi\n    if [ \"$TRAVIS_PHP_VERSION\" = \"8.3\" ]; then\n      parallel-lint -e php --exclude dev/tools/test/namespacemig --exclude htdocs/includes/composer --exclude htdocs/includes/myclabs --exclude htdocs/includes/phpspec --exclude dev/initdata/dbf/includes \\\n        --exclude htdocs/includes/sabre --exclude htdocs/includes/phpoffice/PhpSpreadsheet --exclude htdocs/includes/sebastian \\\n        --exclude htdocs/includes/squizlabs/php_codesniffer --exclude htdocs/includes/jakub-onderka --exclude htdocs/includes/php-parallel-lint --exclude htdocs/includes/symfony \\\n        --exclude htdocs/includes/mike42/escpos-php/example --exclude htdocs/includes/maximebf \\\n        --exclude htdocs/includes/phpunit/ --exclude htdocs/includes/tecnickcom/tcpdf/include/barcodes --exclude htdocs/includes/webmozart --exclude htdocs/includes/webklex --blame .\n    fi\n    if [ \"$TRAVIS_PHP_VERSION\" = \"8.4\" ]; then\n      parallel-lint -e php --exclude dev/tools/test/namespacemig --exclude htdocs/includes/composer --exclude htdocs/includes/myclabs --exclude htdocs/includes/phpspec --exclude dev/initdata/dbf/includes \\\n        --exclude htdocs/includes/sabre --exclude htdocs/includes/phpoffice/PhpSpreadsheet --exclude htdocs/includes/sebastian \\\n        --exclude htdocs/includes/squizlabs/php_codesniffer --exclude htdocs/includes/jakub-onderka --exclude htdocs/includes/php-parallel-lint --exclude htdocs/includes/symfony \\\n        --exclude htdocs/includes/mike42/escpos-php/example --exclude htdocs/includes/maximebf \\\n        --exclude htdocs/includes/phpunit/ --exclude htdocs/includes/tecnickcom/tcpdf/include/barcodes --exclude htdocs/includes/webmozart --exclude htdocs/includes/webklex --blame .\n    fi\n    set +e\n    echo\n\n  - |\n    echo \"Checking coding style (only for 1 version to not overload travis and avoid duplicate tests)\"\n    # Ensure we catch errors\n    set -e\n    CACHE_OPT=\"--cache=${HOME}/.cache/dolibarr-phpcs-${TRAVIS_PHP_VERSION}.cache\"\n    # Exclusions are defined in the ruleset.xml file\n    #if [ \"$TRAVIS_PULL_REQUEST\" = \"false\" ] && [ \"$TRAVIS_PHP_VERSION\" = \"8.1\" ]; then\n    if [ \"$TRAVIS_PHP_VERSION\" = \"8.1\" ]; then\n      phpcs -s -p -d memory_limit=-1 --extensions=php --colors --tab-width=4 --standard=dev/setup/codesniffer/ruleset.xml --encoding=utf-8 --severity=1 ${CACHE_OPT} --runtime-set ignore_warnings_on_exit true .;\n    fi\n    if [ \"$TRAVIS_PHP_VERSION\" = \"8.2\" ]; then\n      phpcs -s -p -d memory_limit=-1 --extensions=php --colors --tab-width=4 --standard=dev/setup/codesniffer/ruleset.xml --encoding=utf-8 --severity=1 ${CACHE_OPT} --runtime-set ignore_warnings_on_exit true .;\n    fi\n    if [ \"$TRAVIS_PHP_VERSION\" = \"8.3\" ]; then\n      phpcs -s -p -d memory_limit=-1 --extensions=php --colors --tab-width=4 --standard=dev/setup/codesniffer/ruleset.xml --encoding=utf-8 --severity=1 ${CACHE_OPT} --runtime-set ignore_warnings_on_exit true .;\n    fi\n    if [ \"$TRAVIS_PHP_VERSION\" = \"8.4\" ]; then\n      phpcs -s -p -d memory_limit=-1 --extensions=php --colors --tab-width=4 --standard=dev/setup/codesniffer/ruleset.xml --encoding=utf-8 --severity=1 ${CACHE_OPT} --runtime-set ignore_warnings_on_exit true .;\n    fi\n    set +e\n    echo\n\n  - |\n    echo \"Checking missing debug (only for 1 version to not overload travis and avoid duplicate tests)\"\n    # Ensure we catch errors\n    set -e\n    # Exclusions are defined in the ruleset.xml file\n    #if [ \"$TRAVIS_PULL_REQUEST\" = \"false\" ] && [ \"$TRAVIS_PHP_VERSION\" = \"8.1\" ]; then\n    if [ \"$TRAVIS_PHP_VERSION\" = \"8.1\" ]; then\n       var-dump-check --extensions php --tracy --exclude htdocs/includes --exclude test/ --exclude htdocs/public/test/ --exclude htdocs/core/lib/functions.lib.php .\n    fi\n    if [ \"$TRAVIS_PHP_VERSION\" = \"8.2\" ]; then\n       var-dump-check --extensions php --tracy --exclude htdocs/includes --exclude test/ --exclude htdocs/public/test/ --exclude htdocs/core/lib/functions.lib.php .\n    fi\n    if [ \"$TRAVIS_PHP_VERSION\" = \"8.3\" ]; then\n       var-dump-check --extensions php --tracy --exclude htdocs/includes --exclude test/ --exclude htdocs/public/test/ --exclude htdocs/core/lib/functions.lib.php .\n    fi\n    if [ \"$TRAVIS_PHP_VERSION\" = \"8.4\" ]; then\n       var-dump-check --extensions php --tracy --exclude htdocs/includes --exclude test/ --exclude htdocs/public/test/ --exclude htdocs/core/lib/functions.lib.php .\n    fi\n    set +e\n    echo\n\n  - |\n    export INSTALL_FORCED_FILE=htdocs/install/install.forced.php\n    echo \"Setting up Dolibarr $INSTALL_FORCED_FILE to test installation\"\n    # Ensure we catch errors\n    set +e\n    echo '<?php ' > $INSTALL_FORCED_FILE\n    echo 'error_reporting(E_ALL);' >> $INSTALL_FORCED_FILE\n    echo '$'force_install_noedit=2';' >> $INSTALL_FORCED_FILE\n    if [ \"$DB\" = 'mysql' ] || [ \"$DB\" = 'mariadb' ]; then\n      echo '$'force_install_type=\\'mysqli\\'';' >> $INSTALL_FORCED_FILE\n      echo '$'force_install_port=3306';' >> $INSTALL_FORCED_FILE\n    fi\n    if [ \"$DB\" = 'postgresql' ]; then\n      echo '$'force_install_type=\\'pgsql\\'';' >> $INSTALL_FORCED_FILE\n      echo '$'force_install_port=5432';' >> $INSTALL_FORCED_FILE\n    fi\n    echo '$'force_install_dbserver=\\'127.0.0.1\\'';' >> $INSTALL_FORCED_FILE\n    echo '$'force_install_database=\\'travis\\'';' >> $INSTALL_FORCED_FILE\n    echo '$'force_install_databaselogin=\\'travis\\'';' >> $INSTALL_FORCED_FILE\n    echo '$'force_install_databasepass=\\'\\'';' >> $INSTALL_FORCED_FILE\n    echo '$'force_install_prefix=\\'llx_\\'';' >> $INSTALL_FORCED_FILE\n    echo '$'force_install_createdatabase=false';' >> $INSTALL_FORCED_FILE\n    echo '$'force_install_createuser=false';' >> $INSTALL_FORCED_FILE\n    echo '$'force_install_mainforcehttps=false';' >> $INSTALL_FORCED_FILE\n    echo '$'force_install_main_data_root=\\'$TRAVIS_BUILD_DIR/htdocs\\'';' >> $INSTALL_FORCED_FILE\n    #cat $INSTALL_FORCED_FILE\n    echo\n\n  - |\n    echo \"Upgrading Dolibarr\"\n    # Ensure we catch errors with -e. Set this to +e if you want to go to the end to see log files.\n    # Note: We keep +e because with pgsql, one of upgrade process fails even if migration seems ok, so\n    # I disable stop on error to be able to continue.\n    set +e\n    cd htdocs/install\n    php upgrade.php 3.5.0 3.6.0 ignoredbversion > $TRAVIS_BUILD_DIR/upgrade350360.log\n    php upgrade2.php 3.5.0 3.6.0 > $TRAVIS_BUILD_DIR/upgrade350360-2.log\n    php step5.php 3.5.0 3.6.0 > $TRAVIS_BUILD_DIR/upgrade350360-3.log\n    php upgrade.php 3.6.0 3.7.0 ignoredbversion > $TRAVIS_BUILD_DIR/upgrade360370.log\n    php upgrade2.php 3.6.0 3.7.0 > $TRAVIS_BUILD_DIR/upgrade360370-2.log\n    php step5.php 3.6.0 3.7.0 > $TRAVIS_BUILD_DIR/upgrade360370-3.log\n    php upgrade.php 3.7.0 3.8.0 ignoredbversion > $TRAVIS_BUILD_DIR/upgrade370380.log\n    php upgrade2.php 3.7.0 3.8.0 > $TRAVIS_BUILD_DIR/upgrade370380-2.log\n    php step5.php 3.7.0 3.8.0 > $TRAVIS_BUILD_DIR/upgrade370380-3.log\n    php upgrade.php 3.8.0 3.9.0 ignoredbversion > $TRAVIS_BUILD_DIR/upgrade380390.log\n    php upgrade2.php 3.8.0 3.9.0 > $TRAVIS_BUILD_DIR/upgrade380390-2.log\n    php step5.php 3.8.0 3.9.0 > $TRAVIS_BUILD_DIR/upgrade380390-3.log\n    php upgrade.php 3.9.0 4.0.0 ignoredbversion > $TRAVIS_BUILD_DIR/upgrade390400.log\n    php upgrade2.php 3.9.0 4.0.0 > $TRAVIS_BUILD_DIR/upgrade390400-2.log\n    php step5.php 3.9.0 4.0.0 > $TRAVIS_BUILD_DIR/upgrade390400-3.log\n    php upgrade.php 4.0.0 5.0.0 ignoredbversion > $TRAVIS_BUILD_DIR/upgrade400500.log\n    php upgrade2.php 4.0.0 5.0.0 > $TRAVIS_BUILD_DIR/upgrade400500-2.log\n    php step5.php 4.0.0 5.0.0 > $TRAVIS_BUILD_DIR/upgrade400500-3.log\n    php upgrade.php 5.0.0 6.0.0 ignoredbversion > $TRAVIS_BUILD_DIR/upgrade500600.log\n    php upgrade2.php 5.0.0 6.0.0 > $TRAVIS_BUILD_DIR/upgrade500600-2.log\n    php step5.php 5.0.0 6.0.0 > $TRAVIS_BUILD_DIR/upgrade500600-3.log\n    php upgrade.php 6.0.0 7.0.0 ignoredbversion > $TRAVIS_BUILD_DIR/upgrade600700.log\n    php upgrade2.php 6.0.0 7.0.0 > $TRAVIS_BUILD_DIR/upgrade600700-2.log\n    php step5.php 6.0.0 7.0.0 > $TRAVIS_BUILD_DIR/upgrade600700-3.log\n    php upgrade.php 7.0.0 8.0.0 ignoredbversion > $TRAVIS_BUILD_DIR/upgrade700800.log\n    php upgrade2.php 7.0.0 8.0.0 > $TRAVIS_BUILD_DIR/upgrade700800-2.log\n    php step5.php 7.0.0 8.0.0 > $TRAVIS_BUILD_DIR/upgrade700800-3.log\n    php upgrade.php 8.0.0 9.0.0 ignoredbversion > $TRAVIS_BUILD_DIR/upgrade800900.log\n    php upgrade2.php 8.0.0 9.0.0 > $TRAVIS_BUILD_DIR/upgrade800900-2.log\n    php step5.php 8.0.0 9.0.0 > $TRAVIS_BUILD_DIR/upgrade800900-3.log\n    php upgrade.php 9.0.0 10.0.0 ignoredbversion > $TRAVIS_BUILD_DIR/upgrade9001000.log\n    php upgrade2.php 9.0.0 10.0.0 > $TRAVIS_BUILD_DIR/upgrade9001000-2.log\n    php step5.php 9.0.0 10.0.0 > $TRAVIS_BUILD_DIR/upgrade9001000-3.log\n    php upgrade.php 10.0.0 11.0.0 ignoredbversion > $TRAVIS_BUILD_DIR/upgrade10001100.log\n    php upgrade2.php 10.0.0 11.0.0 > $TRAVIS_BUILD_DIR/upgrade10001100-2.log\n    php step5.php 10.0.0 11.0.0 > $TRAVIS_BUILD_DIR/upgrade10001100-3.log\n    php upgrade.php 11.0.0 12.0.0 ignoredbversion > $TRAVIS_BUILD_DIR/upgrade11001200.log\n    php upgrade2.php 11.0.0 12.0.0 > $TRAVIS_BUILD_DIR/upgrade11001200-2.log\n    php step5.php 11.0.0 12.0.0 > $TRAVIS_BUILD_DIR/upgrade11001200-3.log\n    php upgrade.php 12.0.0 13.0.0 ignoredbversion > $TRAVIS_BUILD_DIR/upgrade12001300.log\n    php upgrade2.php 12.0.0 13.0.0 > $TRAVIS_BUILD_DIR/upgrade12001300-2.log\n    php step5.php 12.0.0 13.0.0 > $TRAVIS_BUILD_DIR/upgrade12001300-3.log\n    php upgrade.php 13.0.0 14.0.0 ignoredbversion > $TRAVIS_BUILD_DIR/upgrade13001400.log\n    php upgrade2.php 13.0.0 14.0.0 > $TRAVIS_BUILD_DIR/upgrade13001400-2.log\n    php step5.php 13.0.0 14.0.0 > $TRAVIS_BUILD_DIR/upgrade13001400-3.log\n    php upgrade.php 14.0.0 15.0.0 ignoredbversion > $TRAVIS_BUILD_DIR/upgrade14001500.log\n    php upgrade2.php 14.0.0 15.0.0 > $TRAVIS_BUILD_DIR/upgrade14001500-2.log\n    php step5.php 14.0.0 15.0.0 > $TRAVIS_BUILD_DIR/upgrade14001500-3.log\n    php upgrade.php 15.0.0 16.0.0 ignoredbversion > $TRAVIS_BUILD_DIR/upgrade15001600.log\n    php upgrade2.php 15.0.0 16.0.0 > $TRAVIS_BUILD_DIR/upgrade15001600-2.log\n    php step5.php 15.0.0 16.0.0 > $TRAVIS_BUILD_DIR/upgrade15001600-3.log\n    php upgrade.php 16.0.0 17.0.0 ignoredbversion > $TRAVIS_BUILD_DIR/upgrade16001700.log\n    php upgrade2.php 16.0.0 17.0.0 > $TRAVIS_BUILD_DIR/upgrade16001700-2.log\n    php step5.php 16.0.0 17.0.0 > $TRAVIS_BUILD_DIR/upgrade16001700-3.log\n    php upgrade.php 17.0.0 18.0.0 ignoredbversion > $TRAVIS_BUILD_DIR/upgrade17001800.log\n    php upgrade2.php 17.0.0 18.0.0 > $TRAVIS_BUILD_DIR/upgrade17001800-2.log\n    php step5.php 17.0.0 18.0.0 > $TRAVIS_BUILD_DIR/upgrade17001800-3.log\n    php upgrade.php 18.0.0 19.0.0 ignoredbversion > $TRAVIS_BUILD_DIR/upgrade18001900.log || cat $TRAVIS_BUILD_DIR/upgrade18001900.log\n    php upgrade2.php 18.0.0 19.0.0 > $TRAVIS_BUILD_DIR/upgrade18001900-2.log || cat $TRAVIS_BUILD_DIR/upgrade18001900-2.log\n    php step5.php 18.0.0 19.0.0 > $TRAVIS_BUILD_DIR/upgrade18001900-3.log || cat $TRAVIS_BUILD_DIR/upgrade18001900-3.log\n    php upgrade.php 19.0.0 20.0.0 ignoredbversion > $TRAVIS_BUILD_DIR/upgrade19002000.log || cat $TRAVIS_BUILD_DIR/upgrade19002000.log\n    php upgrade2.php 19.0.0 20.0.0 > $TRAVIS_BUILD_DIR/upgrade19002000-2.log || cat $TRAVIS_BUILD_DIR/upgrade19002000-2.log\n    php step5.php 19.0.0 20.0.0 > $TRAVIS_BUILD_DIR/upgrade19002000-3.log || cat $TRAVIS_BUILD_DIR/upgrade19002000-3.log\n    php upgrade.php 20.0.0 21.0.0 ignoredbversion > $TRAVIS_BUILD_DIR/upgrade20002100.log || cat $TRAVIS_BUILD_DIR/upgrade20002100.log\n    php upgrade2.php 20.0.0 21.0.0 > $TRAVIS_BUILD_DIR/upgrade20002100-2.log || cat $TRAVIS_BUILD_DIR/upgrade20002100-2.log\n    php step5.php 20.0.0 21.0.0 > $TRAVIS_BUILD_DIR/upgrade20002100-3.log || cat $TRAVIS_BUILD_DIR/upgrade20002100-3.log\n    set +e\n    echo\n\n  - |\n    echo Show some debug info like table content or log\n    #echo '\\d llx_adherent' | psql 'postgresql://postgres:postgres@127.0.0.1:5432/travis'\n    cat $TRAVIS_BUILD_DIR/upgrade18001900.log\n    cat $TRAVIS_BUILD_DIR/upgrade19002000.log\n    echo\n\n  - |\n    echo Result of migration scripts\n    ls -alrt $TRAVIS_BUILD_DIR/\n\n    echo Show content of last file\n    cat $TRAVIS_BUILD_DIR/\"$(ls -rt $TRAVIS_BUILD_DIR/ | tail -n1)\"\n\n  - |\n    echo \"Enabling new modules\"\n    # Enable modules not enabled into original dump\n    set -e\n    php upgrade2.php 0.0.0 0.0.0 MAIN_MODULE_API,MAIN_MODULE_ProductBatch,MAIN_MODULE_SupplierProposal,MAIN_MODULE_STRIPE,MAIN_MODULE_ExpenseReport > $TRAVIS_BUILD_DIR/enablemodule.log\n    php upgrade2.php 0.0.0 0.0.0 MAIN_MODULE_WEBSITE,MAIN_MODULE_TICKET,MAIN_MODULE_ACCOUNTING,MAIN_MODULE_MRP >> $TRAVIS_BUILD_DIR/enablemodule.log\n    php upgrade2.php 0.0.0 0.0.0 MAIN_MODULE_RECEPTION,MAIN_MODULE_RECRUITMENT >> $TRAVIS_BUILD_DIR/enablemodule.log\n    php upgrade2.php 0.0.0 0.0.0 MAIN_MODULE_KnowledgeManagement,MAIN_MODULE_EventOrganization,MAIN_MODULE_PARTNERSHIP >> $TRAVIS_BUILD_DIR/enablemodule.log\n    php upgrade2.php 0.0.0 0.0.0 MAIN_MODULE_EmailCollector >> $TRAVIS_BUILD_DIR/enablemodule.log\n    echo $?\n    cd -\n    set +e\n    echo\n    #cat /tmp/dolibarr_install.log\n    cat $TRAVIS_BUILD_DIR/enablemodule.log\n    echo\n\n  - |\n    echo \"Unit testing\"\n    # Ensure we catch errors with -e. Set this to +e instead of -e if you want to go to the end to see dolibarr.log file.\n    set -e\n    phpunit -d memory_limit=-1 -c test/phpunit/phpunittest.xml test/phpunit/AllTests.php\n    phpunitresult=$?\n    echo \"Phpunit return code = $phpunitresult\"\n    set +e\n    echo\n\nafter_script:\n  - |\n    echo \"After script - Output last lines of dolibarr.log\"\n    ls $TRAVIS_BUILD_DIR/documents\n    #cat $TRAVIS_BUILD_DIR/documents/dolibarr.log\n    sudo tail -n 50 $TRAVIS_BUILD_DIR/documents/dolibarr.log\n    echo \"After script - Output last lines of apache error.log\"\n    sudo ls /var/log/apache2\n    sudo tail -n 200 /var/log/apache2/travis_error_log\n\nafter_success:\n  - |\n    echo Success\n\nafter_failure:\n  - |\n    echo Failure detected, so we show samples of log to help diagnose\n    # This part of code is executed only if the command that fails are enclosed with set +e\n    # Show upgrade log files\n    #for ficlog in `ls $TRAVIS_BUILD_DIR/*.log`\n    #do\n      #echo \"Debugging information for file $ficlog\"\n      #cat $ficlog\n    #done\n    # Show Apache log file\n    echo \"Debugging information for file apache error.log\"\n    sudo tail -n 200 /var/log/apache2/travis_error_log\n    if [ \"$DEBUG\" = true ]; then\n      # Dolibarr log file\n      echo \"Debugging information for file dolibarr.log (latest 50 lines)\"\n      tail -n 200 $TRAVIS_BUILD_DIR/documents/dolibarr.log\n      # Database log file\n      echo \"Debugging information for file mysql error.log\"\n      sudo tail -n 200 /var/log/mysql/error.log\n      # TODO: PostgreSQL log file\n      echo\n    fi\n"
        },
        {
          "name": ".tx",
          "type": "tree",
          "content": null
        },
        {
          "name": "COPYING",
          "type": "blob",
          "size": 34.3271484375,
          "content": "                    GNU GENERAL PUBLIC LICENSE\n                       Version 3, 29 June 2007\n\n Copyright (C) 2007 Free Software Foundation, Inc. <https://fsf.org/>\n Everyone is permitted to copy and distribute verbatim copies\n of this license document, but changing it is not allowed.\n\n                            Preamble\n\n  The GNU General Public License is a free, copyleft license for\nsoftware and other kinds of works.\n\n  The licenses for most software and other practical works are designed\nto take away your freedom to share and change the works.  By contrast,\nthe GNU General Public License is intended to guarantee your freedom to\nshare and change all versions of a program--to make sure it remains free\nsoftware for all its users.  We, the Free Software Foundation, use the\nGNU General Public License for most of our software; it applies also to\nany other work released this way by its authors.  You can apply it to\nyour programs, too.\n\n  When we speak of free software, we are referring to freedom, not\nprice.  Our General Public Licenses are designed to make sure that you\nhave the freedom to distribute copies of free software (and charge for\nthem if you wish), that you receive source code or can get it if you\nwant it, that you can change the software or use pieces of it in new\nfree programs, and that you know you can do these things.\n\n  To protect your rights, we need to prevent others from denying you\nthese rights or asking you to surrender the rights.  Therefore, you have\ncertain responsibilities if you distribute copies of the software, or if\nyou modify it: responsibilities to respect the freedom of others.\n\n  For example, if you distribute copies of such a program, whether\ngratis or for a fee, you must pass on to the recipients the same\nfreedoms that you received.  You must make sure that they, too, receive\nor can get the source code.  And you must show them these terms so they\nknow their rights.\n\n  Developers that use the GNU GPL protect your rights with two steps:\n(1) assert copyright on the software, and (2) offer you this License\ngiving you legal permission to copy, distribute and/or modify it.\n\n  For the developers' and authors' protection, the GPL clearly explains\nthat there is no warranty for this free software.  For both users' and\nauthors' sake, the GPL requires that modified versions be marked as\nchanged, so that their problems will not be attributed erroneously to\nauthors of previous versions.\n\n  Some devices are designed to deny users access to install or run\nmodified versions of the software inside them, although the manufacturer\ncan do so.  This is fundamentally incompatible with the aim of\nprotecting users' freedom to change the software.  The systematic\npattern of such abuse occurs in the area of products for individuals to\nuse, which is precisely where it is most unacceptable.  Therefore, we\nhave designed this version of the GPL to prohibit the practice for those\nproducts.  If such problems arise substantially in other domains, we\nstand ready to extend this provision to those domains in future versions\nof the GPL, as needed to protect the freedom of users.\n\n  Finally, every program is threatened constantly by software patents.\nStates should not allow patents to restrict development and use of\nsoftware on general-purpose computers, but in those that do, we wish to\navoid the special danger that patents applied to a free program could\nmake it effectively proprietary.  To prevent this, the GPL assures that\npatents cannot be used to render the program non-free.\n\n  The precise terms and conditions for copying, distribution and\nmodification follow.\n\n                       TERMS AND CONDITIONS\n\n  0. Definitions.\n\n  \"This License\" refers to version 3 of the GNU General Public License.\n\n  \"Copyright\" also means copyright-like laws that apply to other kinds of\nworks, such as semiconductor masks.\n\n  \"The Program\" refers to any copyrightable work licensed under this\nLicense.  Each licensee is addressed as \"you\".  \"Licensees\" and\n\"recipients\" may be individuals or organizations.\n\n  To \"modify\" a work means to copy from or adapt all or part of the work\nin a fashion requiring copyright permission, other than the making of an\nexact copy.  The resulting work is called a \"modified version\" of the\nearlier work or a work \"based on\" the earlier work.\n\n  A \"covered work\" means either the unmodified Program or a work based\non the Program.\n\n  To \"propagate\" a work means to do anything with it that, without\npermission, would make you directly or secondarily liable for\ninfringement under applicable copyright law, except executing it on a\ncomputer or modifying a private copy.  Propagation includes copying,\ndistribution (with or without modification), making available to the\npublic, and in some countries other activities as well.\n\n  To \"convey\" a work means any kind of propagation that enables other\nparties to make or receive copies.  Mere interaction with a user through\na computer network, with no transfer of a copy, is not conveying.\n\n  An interactive user interface displays \"Appropriate Legal Notices\"\nto the extent that it includes a convenient and prominently visible\nfeature that (1) displays an appropriate copyright notice, and (2)\ntells the user that there is no warranty for the work (except to the\nextent that warranties are provided), that licensees may convey the\nwork under this License, and how to view a copy of this License.  If\nthe interface presents a list of user commands or options, such as a\nmenu, a prominent item in the list meets this criterion.\n\n  1. Source Code.\n\n  The \"source code\" for a work means the preferred form of the work\nfor making modifications to it.  \"Object code\" means any non-source\nform of a work.\n\n  A \"Standard Interface\" means an interface that either is an official\nstandard defined by a recognized standards body, or, in the case of\ninterfaces specified for a particular programming language, one that\nis widely used among developers working in that language.\n\n  The \"System Libraries\" of an executable work include anything, other\nthan the work as a whole, that (a) is included in the normal form of\npackaging a Major Component, but which is not part of that Major\nComponent, and (b) serves only to enable use of the work with that\nMajor Component, or to implement a Standard Interface for which an\nimplementation is available to the public in source code form.  A\n\"Major Component\", in this context, means a major essential component\n(kernel, window system, and so on) of the specific operating system\n(if any) on which the executable work runs, or a compiler used to\nproduce the work, or an object code interpreter used to run it.\n\n  The \"Corresponding Source\" for a work in object code form means all\nthe source code needed to generate, install, and (for an executable\nwork) run the object code and to modify the work, including scripts to\ncontrol those activities.  However, it does not include the work's\nSystem Libraries, or general-purpose tools or generally available free\nprograms which are used unmodified in performing those activities but\nwhich are not part of the work.  For example, Corresponding Source\nincludes interface definition files associated with source files for\nthe work, and the source code for shared libraries and dynamically\nlinked subprograms that the work is specifically designed to require,\nsuch as by intimate data communication or control flow between those\nsubprograms and other parts of the work.\n\n  The Corresponding Source need not include anything that users\ncan regenerate automatically from other parts of the Corresponding\nSource.\n\n  The Corresponding Source for a work in source code form is that\nsame work.\n\n  2. Basic Permissions.\n\n  All rights granted under this License are granted for the term of\ncopyright on the Program, and are irrevocable provided the stated\nconditions are met.  This License explicitly affirms your unlimited\npermission to run the unmodified Program.  The output from running a\ncovered work is covered by this License only if the output, given its\ncontent, constitutes a covered work.  This License acknowledges your\nrights of fair use or other equivalent, as provided by copyright law.\n\n  You may make, run and propagate covered works that you do not\nconvey, without conditions so long as your license otherwise remains\nin force.  You may convey covered works to others for the sole purpose\nof having them make modifications exclusively for you, or provide you\nwith facilities for running those works, provided that you comply with\nthe terms of this License in conveying all material for which you do\nnot control copyright.  Those thus making or running the covered works\nfor you must do so exclusively on your behalf, under your direction\nand control, on terms that prohibit them from making any copies of\nyour copyrighted material outside their relationship with you.\n\n  Conveying under any other circumstances is permitted solely under\nthe conditions stated below.  Sublicensing is not allowed; section 10\nmakes it unnecessary.\n\n  3. Protecting Users' Legal Rights From Anti-Circumvention Law.\n\n  No covered work shall be deemed part of an effective technological\nmeasure under any applicable law fulfilling obligations under article\n11 of the WIPO copyright treaty adopted on 20 December 1996, or\nsimilar laws prohibiting or restricting circumvention of such\nmeasures.\n\n  When you convey a covered work, you waive any legal power to forbid\ncircumvention of technological measures to the extent such circumvention\nis effected by exercising rights under this License with respect to\nthe covered work, and you disclaim any intention to limit operation or\nmodification of the work as a means of enforcing, against the work's\nusers, your or third parties' legal rights to forbid circumvention of\ntechnological measures.\n\n  4. Conveying Verbatim Copies.\n\n  You may convey verbatim copies of the Program's source code as you\nreceive it, in any medium, provided that you conspicuously and\nappropriately publish on each copy an appropriate copyright notice;\nkeep intact all notices stating that this License and any\nnon-permissive terms added in accord with section 7 apply to the code;\nkeep intact all notices of the absence of any warranty; and give all\nrecipients a copy of this License along with the Program.\n\n  You may charge any price or no price for each copy that you convey,\nand you may offer support or warranty protection for a fee.\n\n  5. Conveying Modified Source Versions.\n\n  You may convey a work based on the Program, or the modifications to\nproduce it from the Program, in the form of source code under the\nterms of section 4, provided that you also meet all of these conditions:\n\n    a) The work must carry prominent notices stating that you modified\n    it, and giving a relevant date.\n\n    b) The work must carry prominent notices stating that it is\n    released under this License and any conditions added under section\n    7.  This requirement modifies the requirement in section 4 to\n    \"keep intact all notices\".\n\n    c) You must license the entire work, as a whole, under this\n    License to anyone who comes into possession of a copy.  This\n    License will therefore apply, along with any applicable section 7\n    additional terms, to the whole of the work, and all its parts,\n    regardless of how they are packaged.  This License gives no\n    permission to license the work in any other way, but it does not\n    invalidate such permission if you have separately received it.\n\n    d) If the work has interactive user interfaces, each must display\n    Appropriate Legal Notices; however, if the Program has interactive\n    interfaces that do not display Appropriate Legal Notices, your\n    work need not make them do so.\n\n  A compilation of a covered work with other separate and independent\nworks, which are not by their nature extensions of the covered work,\nand which are not combined with it such as to form a larger program,\nin or on a volume of a storage or distribution medium, is called an\n\"aggregate\" if the compilation and its resulting copyright are not\nused to limit the access or legal rights of the compilation's users\nbeyond what the individual works permit.  Inclusion of a covered work\nin an aggregate does not cause this License to apply to the other\nparts of the aggregate.\n\n  6. Conveying Non-Source Forms.\n\n  You may convey a covered work in object code form under the terms\nof sections 4 and 5, provided that you also convey the\nmachine-readable Corresponding Source under the terms of this License,\nin one of these ways:\n\n    a) Convey the object code in, or embodied in, a physical product\n    (including a physical distribution medium), accompanied by the\n    Corresponding Source fixed on a durable physical medium\n    customarily used for software interchange.\n\n    b) Convey the object code in, or embodied in, a physical product\n    (including a physical distribution medium), accompanied by a\n    written offer, valid for at least three years and valid for as\n    long as you offer spare parts or customer support for that product\n    model, to give anyone who possesses the object code either (1) a\n    copy of the Corresponding Source for all the software in the\n    product that is covered by this License, on a durable physical\n    medium customarily used for software interchange, for a price no\n    more than your reasonable cost of physically performing this\n    conveying of source, or (2) access to copy the\n    Corresponding Source from a network server at no charge.\n\n    c) Convey individual copies of the object code with a copy of the\n    written offer to provide the Corresponding Source.  This\n    alternative is allowed only occasionally and noncommercially, and\n    only if you received the object code with such an offer, in accord\n    with subsection 6b.\n\n    d) Convey the object code by offering access from a designated\n    place (gratis or for a charge), and offer equivalent access to the\n    Corresponding Source in the same way through the same place at no\n    further charge.  You need not require recipients to copy the\n    Corresponding Source along with the object code.  If the place to\n    copy the object code is a network server, the Corresponding Source\n    may be on a different server (operated by you or a third party)\n    that supports equivalent copying facilities, provided you maintain\n    clear directions next to the object code saying where to find the\n    Corresponding Source.  Regardless of what server hosts the\n    Corresponding Source, you remain obligated to ensure that it is\n    available for as long as needed to satisfy these requirements.\n\n    e) Convey the object code using peer-to-peer transmission, provided\n    you inform other peers where the object code and Corresponding\n    Source of the work are being offered to the general public at no\n    charge under subsection 6d.\n\n  A separable portion of the object code, whose source code is excluded\nfrom the Corresponding Source as a System Library, need not be\nincluded in conveying the object code work.\n\n  A \"User Product\" is either (1) a \"consumer product\", which means any\ntangible personal property which is normally used for personal, family,\nor household purposes, or (2) anything designed or sold for incorporation\ninto a dwelling.  In determining whether a product is a consumer product,\ndoubtful cases shall be resolved in favor of coverage.  For a particular\nproduct received by a particular user, \"normally used\" refers to a\ntypical or common use of that class of product, regardless of the status\nof the particular user or of the way in which the particular user\nactually uses, or expects or is expected to use, the product.  A product\nis a consumer product regardless of whether the product has substantial\ncommercial, industrial or non-consumer uses, unless such uses represent\nthe only significant mode of use of the product.\n\n  \"Installation Information\" for a User Product means any methods,\nprocedures, authorization keys, or other information required to install\nand execute modified versions of a covered work in that User Product from\na modified version of its Corresponding Source.  The information must\nsuffice to ensure that the continued functioning of the modified object\ncode is in no case prevented or interfered with solely because\nmodification has been made.\n\n  If you convey an object code work under this section in, or with, or\nspecifically for use in, a User Product, and the conveying occurs as\npart of a transaction in which the right of possession and use of the\nUser Product is transferred to the recipient in perpetuity or for a\nfixed term (regardless of how the transaction is characterized), the\nCorresponding Source conveyed under this section must be accompanied\nby the Installation Information.  But this requirement does not apply\nif neither you nor any third party retains the ability to install\nmodified object code on the User Product (for example, the work has\nbeen installed in ROM).\n\n  The requirement to provide Installation Information does not include a\nrequirement to continue to provide support service, warranty, or updates\nfor a work that has been modified or installed by the recipient, or for\nthe User Product in which it has been modified or installed.  Access to a\nnetwork may be denied when the modification itself materially and\nadversely affects the operation of the network or violates the rules and\nprotocols for communication across the network.\n\n  Corresponding Source conveyed, and Installation Information provided,\nin accord with this section must be in a format that is publicly\ndocumented (and with an implementation available to the public in\nsource code form), and must require no special password or key for\nunpacking, reading or copying.\n\n  7. Additional Terms.\n\n  \"Additional permissions\" are terms that supplement the terms of this\nLicense by making exceptions from one or more of its conditions.\nAdditional permissions that are applicable to the entire Program shall\nbe treated as though they were included in this License, to the extent\nthat they are valid under applicable law.  If additional permissions\napply only to part of the Program, that part may be used separately\nunder those permissions, but the entire Program remains governed by\nthis License without regard to the additional permissions.\n\n  When you convey a copy of a covered work, you may at your option\nremove any additional permissions from that copy, or from any part of\nit.  (Additional permissions may be written to require their own\nremoval in certain cases when you modify the work.)  You may place\nadditional permissions on material, added by you to a covered work,\nfor which you have or can give appropriate copyright permission.\n\n  Notwithstanding any other provision of this License, for material you\nadd to a covered work, you may (if authorized by the copyright holders of\nthat material) supplement the terms of this License with terms:\n\n    a) Disclaiming warranty or limiting liability differently from the\n    terms of sections 15 and 16 of this License; or\n\n    b) Requiring preservation of specified reasonable legal notices or\n    author attributions in that material or in the Appropriate Legal\n    Notices displayed by works containing it; or\n\n    c) Prohibiting misrepresentation of the origin of that material, or\n    requiring that modified versions of such material be marked in\n    reasonable ways as different from the original version; or\n\n    d) Limiting the use for publicity purposes of names of licensors or\n    authors of the material; or\n\n    e) Declining to grant rights under trademark law for use of some\n    trade names, trademarks, or service marks; or\n\n    f) Requiring indemnification of licensors and authors of that\n    material by anyone who conveys the material (or modified versions of\n    it) with contractual assumptions of liability to the recipient, for\n    any liability that these contractual assumptions directly impose on\n    those licensors and authors.\n\n  All other non-permissive additional terms are considered \"further\nrestrictions\" within the meaning of section 10.  If the Program as you\nreceived it, or any part of it, contains a notice stating that it is\ngoverned by this License along with a term that is a further\nrestriction, you may remove that term.  If a license document contains\na further restriction but permits relicensing or conveying under this\nLicense, you may add to a covered work material governed by the terms\nof that license document, provided that the further restriction does\nnot survive such relicensing or conveying.\n\n  If you add terms to a covered work in accord with this section, you\nmust place, in the relevant source files, a statement of the\nadditional terms that apply to those files, or a notice indicating\nwhere to find the applicable terms.\n\n  Additional terms, permissive or non-permissive, may be stated in the\nform of a separately written license, or stated as exceptions;\nthe above requirements apply either way.\n\n  8. Termination.\n\n  You may not propagate or modify a covered work except as expressly\nprovided under this License.  Any attempt otherwise to propagate or\nmodify it is void, and will automatically terminate your rights under\nthis License (including any patent licenses granted under the third\nparagraph of section 11).\n\n  However, if you cease all violation of this License, then your\nlicense from a particular copyright holder is reinstated (a)\nprovisionally, unless and until the copyright holder explicitly and\nfinally terminates your license, and (b) permanently, if the copyright\nholder fails to notify you of the violation by some reasonable means\nprior to 60 days after the cessation.\n\n  Moreover, your license from a particular copyright holder is\nreinstated permanently if the copyright holder notifies you of the\nviolation by some reasonable means, this is the first time you have\nreceived notice of violation of this License (for any work) from that\ncopyright holder, and you cure the violation prior to 30 days after\nyour receipt of the notice.\n\n  Termination of your rights under this section does not terminate the\nlicenses of parties who have received copies or rights from you under\nthis License.  If your rights have been terminated and not permanently\nreinstated, you do not qualify to receive new licenses for the same\nmaterial under section 10.\n\n  9. Acceptance Not Required for Having Copies.\n\n  You are not required to accept this License in order to receive or\nrun a copy of the Program.  Ancillary propagation of a covered work\noccurring solely as a consequence of using peer-to-peer transmission\nto receive a copy likewise does not require acceptance.  However,\nnothing other than this License grants you permission to propagate or\nmodify any covered work.  These actions infringe copyright if you do\nnot accept this License.  Therefore, by modifying or propagating a\ncovered work, you indicate your acceptance of this License to do so.\n\n  10. Automatic Licensing of Downstream Recipients.\n\n  Each time you convey a covered work, the recipient automatically\nreceives a license from the original licensors, to run, modify and\npropagate that work, subject to this License.  You are not responsible\nfor enforcing compliance by third parties with this License.\n\n  An \"entity transaction\" is a transaction transferring control of an\norganization, or substantially all assets of one, or subdividing an\norganization, or merging organizations.  If propagation of a covered\nwork results from an entity transaction, each party to that\ntransaction who receives a copy of the work also receives whatever\nlicenses to the work the party's predecessor in interest had or could\ngive under the previous paragraph, plus a right to possession of the\nCorresponding Source of the work from the predecessor in interest, if\nthe predecessor has it or can get it with reasonable efforts.\n\n  You may not impose any further restrictions on the exercise of the\nrights granted or affirmed under this License.  For example, you may\nnot impose a license fee, royalty, or other charge for exercise of\nrights granted under this License, and you may not initiate litigation\n(including a cross-claim or counterclaim in a lawsuit) alleging that\nany patent claim is infringed by making, using, selling, offering for\nsale, or importing the Program or any portion of it.\n\n  11. Patents.\n\n  A \"contributor\" is a copyright holder who authorizes use under this\nLicense of the Program or a work on which the Program is based.  The\nwork thus licensed is called the contributor's \"contributor version\".\n\n  A contributor's \"essential patent claims\" are all patent claims\nowned or controlled by the contributor, whether already acquired or\nhereafter acquired, that would be infringed by some manner, permitted\nby this License, of making, using, or selling its contributor version,\nbut do not include claims that would be infringed only as a\nconsequence of further modification of the contributor version.  For\npurposes of this definition, \"control\" includes the right to grant\npatent sublicenses in a manner consistent with the requirements of\nthis License.\n\n  Each contributor grants you a non-exclusive, worldwide, royalty-free\npatent license under the contributor's essential patent claims, to\nmake, use, sell, offer for sale, import and otherwise run, modify and\npropagate the contents of its contributor version.\n\n  In the following three paragraphs, a \"patent license\" is any express\nagreement or commitment, however denominated, not to enforce a patent\n(such as an express permission to practice a patent or covenant not to\nsue for patent infringement).  To \"grant\" such a patent license to a\nparty means to make such an agreement or commitment not to enforce a\npatent against the party.\n\n  If you convey a covered work, knowingly relying on a patent license,\nand the Corresponding Source of the work is not available for anyone\nto copy, free of charge and under the terms of this License, through a\npublicly available network server or other readily accessible means,\nthen you must either (1) cause the Corresponding Source to be so\navailable, or (2) arrange to deprive yourself of the benefit of the\npatent license for this particular work, or (3) arrange, in a manner\nconsistent with the requirements of this License, to extend the patent\nlicense to downstream recipients.  \"Knowingly relying\" means you have\nactual knowledge that, but for the patent license, your conveying the\ncovered work in a country, or your recipient's use of the covered work\nin a country, would infringe one or more identifiable patents in that\ncountry that you have reason to believe are valid.\n\n  If, pursuant to or in connection with a single transaction or\narrangement, you convey, or propagate by procuring conveyance of, a\ncovered work, and grant a patent license to some of the parties\nreceiving the covered work authorizing them to use, propagate, modify\nor convey a specific copy of the covered work, then the patent license\nyou grant is automatically extended to all recipients of the covered\nwork and works based on it.\n\n  A patent license is \"discriminatory\" if it does not include within\nthe scope of its coverage, prohibits the exercise of, or is\nconditioned on the non-exercise of one or more of the rights that are\nspecifically granted under this License.  You may not convey a covered\nwork if you are a party to an arrangement with a third party that is\nin the business of distributing software, under which you make payment\nto the third party based on the extent of your activity of conveying\nthe work, and under which the third party grants, to any of the\nparties who would receive the covered work from you, a discriminatory\npatent license (a) in connection with copies of the covered work\nconveyed by you (or copies made from those copies), or (b) primarily\nfor and in connection with specific products or compilations that\ncontain the covered work, unless you entered into that arrangement,\nor that patent license was granted, prior to 28 March 2007.\n\n  Nothing in this License shall be construed as excluding or limiting\nany implied license or other defenses to infringement that may\notherwise be available to you under applicable patent law.\n\n  12. No Surrender of Others' Freedom.\n\n  If conditions are imposed on you (whether by court order, agreement or\notherwise) that contradict the conditions of this License, they do not\nexcuse you from the conditions of this License.  If you cannot convey a\ncovered work so as to satisfy simultaneously your obligations under this\nLicense and any other pertinent obligations, then as a consequence you may\nnot convey it at all.  For example, if you agree to terms that obligate you\nto collect a royalty for further conveying from those to whom you convey\nthe Program, the only way you could satisfy both those terms and this\nLicense would be to refrain entirely from conveying the Program.\n\n  13. Use with the GNU Affero General Public License.\n\n  Notwithstanding any other provision of this License, you have\npermission to link or combine any covered work with a work licensed\nunder version 3 of the GNU Affero General Public License into a single\ncombined work, and to convey the resulting work.  The terms of this\nLicense will continue to apply to the part which is the covered work,\nbut the special requirements of the GNU Affero General Public License,\nsection 13, concerning interaction through a network will apply to the\ncombination as such.\n\n  14. Revised Versions of this License.\n\n  The Free Software Foundation may publish revised and/or new versions of\nthe GNU General Public License from time to time.  Such new versions will\nbe similar in spirit to the present version, but may differ in detail to\naddress new problems or concerns.\n\n  Each version is given a distinguishing version number.  If the\nProgram specifies that a certain numbered version of the GNU General\nPublic License \"or any later version\" applies to it, you have the\noption of following the terms and conditions either of that numbered\nversion or of any later version published by the Free Software\nFoundation.  If the Program does not specify a version number of the\nGNU General Public License, you may choose any version ever published\nby the Free Software Foundation.\n\n  If the Program specifies that a proxy can decide which future\nversions of the GNU General Public License can be used, that proxy's\npublic statement of acceptance of a version permanently authorizes you\nto choose that version for the Program.\n\n  Later license versions may give you additional or different\npermissions.  However, no additional obligations are imposed on any\nauthor or copyright holder as a result of your choosing to follow a\nlater version.\n\n  15. Disclaimer of Warranty.\n\n  THERE IS NO WARRANTY FOR THE PROGRAM, TO THE EXTENT PERMITTED BY\nAPPLICABLE LAW.  EXCEPT WHEN OTHERWISE STATED IN WRITING THE COPYRIGHT\nHOLDERS AND/OR OTHER PARTIES PROVIDE THE PROGRAM \"AS IS\" WITHOUT WARRANTY\nOF ANY KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO,\nTHE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\nPURPOSE.  THE ENTIRE RISK AS TO THE QUALITY AND PERFORMANCE OF THE PROGRAM\nIS WITH YOU.  SHOULD THE PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF\nALL NECESSARY SERVICING, REPAIR OR CORRECTION.\n\n  16. Limitation of Liability.\n\n  IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING\nWILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MODIFIES AND/OR CONVEYS\nTHE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES, INCLUDING ANY\nGENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING OUT OF THE\nUSE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED TO LOSS OF\nDATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY YOU OR THIRD\nPARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER PROGRAMS),\nEVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF\nSUCH DAMAGES.\n\n  17. Interpretation of Sections 15 and 16.\n\n  If the disclaimer of warranty and limitation of liability provided\nabove cannot be given local legal effect according to their terms,\nreviewing courts shall apply local law that most closely approximates\nan absolute waiver of all civil liability in connection with the\nProgram, unless a warranty or assumption of liability accompanies a\ncopy of the Program in return for a fee.\n\n                     END OF TERMS AND CONDITIONS\n\n            How to Apply These Terms to Your New Programs\n\n  If you develop a new program, and you want it to be of the greatest\npossible use to the public, the best way to achieve this is to make it\nfree software which everyone can redistribute and change under these terms.\n\n  To do so, attach the following notices to the program.  It is safest\nto attach them to the start of each source file to most effectively\nstate the exclusion of warranty; and each file should have at least\nthe \"copyright\" line and a pointer to where the full notice is found.\n\n    <one line to give the program's name and a brief idea of what it does.>\n    Copyright (C) <year>  <name of author>\n\n    This program is free software: you can redistribute it and/or modify\n    it under the terms of the GNU General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    This program is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU General Public License for more details.\n\n    You should have received a copy of the GNU General Public License\n    along with this program.  If not, see <https://www.gnu.org/licenses/>.\n\nAlso add information on how to contact you by electronic and paper mail.\n\n  If the program does terminal interaction, make it output a short\nnotice like this when it starts in an interactive mode:\n\n    <program>  Copyright (C) <year>  <name of author>\n    This program comes with ABSOLUTELY NO WARRANTY; for details type `show w'.\n    This is free software, and you are welcome to redistribute it\n    under certain conditions; type `show c' for details.\n\nThe hypothetical commands `show w' and `show c' should show the appropriate\nparts of the General Public License.  Of course, your program's commands\nmight be different; for a GUI interface, you would use an \"about box\".\n\n  You should also get your employer (if you work as a programmer) or school,\nif any, to sign a \"copyright disclaimer\" for the program, if necessary.\nFor more information on this, and how to apply and follow the GNU GPL, see\n<https://www.gnu.org/licenses/>.\n\n  The GNU General Public License does not permit incorporating your program\ninto proprietary programs.  If your program is a subroutine library, you\nmay consider it more useful to permit linking proprietary applications with\nthe library.  If this is what you want to do, use the GNU Lesser General\nPublic License instead of this License.  But first, please read\n<https://www.gnu.org/philosophy/why-not-lgpl.html>.\n"
        },
        {
          "name": "COPYRIGHT",
          "type": "blob",
          "size": 7.134765625,
          "content": "\nCopyright and license\n----------------------\n\nThe Dolibarr software as a whole is distributed under the GNU General Public License as published by the Free Software Foundation;\neither version 3 of the License, or (at your option) any later version (GPL-3+). More information: https://www.gnu.org/licenses/gpl-3.0.txt.\nA copy of this license is available in the COPYING file.\nDolibarr depends on third-party components and code snippets released under their own license (obviously, all compatible with the one of Dolibarr).\nThese dependencies are listed in the bottom of this file.\n\n\nThe Dolibarr images resources (available in the doc directory) is distributed under the Creative Commons Attribution 4.0 International license (CC BY 4.0).\n\n\nThe name Dolibarr is a trademark initially registered by Laurent Destailleur and ceased to the Dolibarr foundation. You can use the name Dolibarr\nfor your own need as long as you follow the rules defined on the page https://wiki.dolibarr.org/index.php/Rules_to_use_the_brand_name_%22Dolibarr%22\nThe use of the name DoliStore is also restricted to the same rules defined on https://wiki.dolibarr.org/index.php/Rules_to_use_the_brand_name_%22Dolibarr%22\n\n\n\nLicence of dependencies of third-party components used by Dolibarr (all compatible with the Licence of Dolibarr):\n\nComponent              Version       License                     GPL Compatible  Usage\n-------------------------------------------------------------------------------------\nPHP libraries:\nEvalMath               1.0           BSD                         Yes             Safe math expressions evaluation. Used by dynamic price only. TODO Replace with dol_eval ?\nEscpos-php             3.0           MIT License                 Yes             Thermal receipt printer library, for use with ESC/POS compatible printers\nGeoIP2                 0.2.0         Apache License 2.0          Yes             Lib to make geoip convert\nGeoPHP                 1.2           Modified BSD License        Yes             Lib to make geo convert\nMathPHP                2.8.1         MIT License                 Yes             Modern math library for PHP (only few files)\nMobiledetect           2.8.41        MIT License                 Yes             Detect mobile devices browsers\nNuSoap                 0.9.16        LGPL 2.1+                   Yes             Library to develop SOAP Web services. From https://github.com/f00b4r/nusoap/tree/v0.9.16\nPEAR Mail_MIME         1.8.9         BSD                         Yes             NuSoap dependency\nParseDown              1.7.4         MIT License                 Yes             Markdown parser\nPCLZip                 2.8.4         LGPL-3+                     Yes             Library to zip/unzip files\nPHPDebugBar            1.18.2        MIT License                 Yes             Used only by the module \"debugbar\" for developers\nPHPSpreadSheet         1.12.0        LGPL-2.1+                   Yes             Read/Write XLS files, read ODS files\nPHP-Iban               4.1.1         LGPL-3+                     Yes             Parse and validate IBAN (and IIBAN) bank account information in PHP\nPHP-Imap               2.7.2         MIT License                 Yes             Library to use IMAP with OAuth\nPHPoAuthLib            0.8.2         MIT License                 Yes             Library to provide oauth1 and oauth2 to different service\nPHPPrintIPP            1.3           GPL-2+                      Yes             Library to send print IPP requests\nPrestaShop-WS-Lib      94feb5f       OSL-3.0                     No              Library providing API client for Prestashop.\nPSR/Logs               1.0           MIT License                 Yes             Library for logs (used by DebugBar)\nPSR/simple-cache       ?             MIT License                 Yes             Library for cache (used by PHPSpreadSheet)\nRestler                3.1.1         LGPL-3+                     Yes             Library to develop REST Web services (+ swagger-ui js lib into dir explorer)\nSabre                  4.6.0         BSD                         Yes             DAV support\nSwift Mailer           5.4.2-DEV     MIT License                 Yes             Comprehensive mailing tools for PHP\nSymfony/var-dumper     ??? \t\t\t MIT License                 Yes             Library to make var dump (used by DebugBar)\nStripe                 10.7.0        MIT Licence                 Yes             Library for Stripe module\nTCPDF                  6.7.5         LGPL-3+                     Yes             PDF generation\nTCPDI                  1.0.0         LGPL-3+ / Apache 2.0        Yes             FPDI replacement\n\nbacon, dasprid, swiss-qr-bill, kmukku, symfony/validator\n\nJS libraries:\nAce                    1.4.14        BSD                         Yes             JS library to get code syntaxique coloration in a textarea.\nChartJS                3.7.1         MIT License                 Yes             JS library for graph\nCKEditor               4.22.1        LGPL-2.1+                   Yes             Editor WYSIWYG\njQuery                 3.6.4         MIT License                 Yes             JS library\njQuery UI              1.13.2        GPL and MIT License         Yes             JS library plugin UI\njQuery select2         4.0.13        GPL and Apache License      Yes             JS library plugin for sexier multiselect. Warning: 4.0.6+ create troubles without patching css\njQuery blockUI         2.70.0        GPL and MIT License         Yes             JS library plugin blockUI (to use ajax popups)\njQuery Colorpicker     1.1           MIT License                 Yes             JS library for color picker for a defined list of colors\njQuery JCrop           0.9.8         GPL and MIT License         Yes             JS library plugin Crop (to crop images)\njQuery Jeditable       1.7.1         GPL and MIT License         Yes             JS library plugin jeditable (to edit in place)\njQuery jNotify         1.1.00        Apache License 2.0          Yes             JS library plugin jNotify (to use ajax popups)\njQuery jPicker         1.1.6         GPL and MIT License         Yes             JS library for color picker with not defined list of colors\njQuery jqueryFileTree  1.0.1         GPL and MIT License         Yes             JS library for filetree\njQuery jquerytreeview  1.4.1         MIT License                 Yes             JS library for filetree\njQuery TableDnD        0.6           GPL and MIT License         Yes             JS library plugin TableDnD (to reorder table rows)\njQuery Timepicker      1.1.0         GPL and MIT License         Yes             JS library Timepicker addon for Datepicker\njsGanttImproved        2.8.10        BSD License                 Yes             JS library (to build Gantt reports)\nSwaggerUI              2.2.10        GPL-2+                      Yes             JS library to offer the REST API explorer\n\nImage libraries:\nOcticons               8.1           MIT                         Yes\n\nFont libraries:\nFontawesome            5.13          Font Awesome Free Licence   Yes\n\n\nFor more licenses compatibility information: https://www.gnu.org/licenses/licenses.en.html\n\n\nAuthors\n-------------------\n\nSee page https://github.com/Dolibarr/dolibarr/graphs/contributors\n"
        },
        {
          "name": "ChangeLog",
          "type": "blob",
          "size": 627.2197265625,
          "content": "--------------------------------------------------------------\nEnglish Dolibarr ChangeLog\n--------------------------------------------------------------\n\n\n***** ChangeLog for 22.0.0 compared to 21.0 *****\n\nFor users:\n----------\n\n\nFor developers:\n----------\n\n\nWARNING:\n--------\n\nThe following changes may create regressions for some external modules, but were necessary to make Dolibarr better:\n* The directory /build has been moved into /dev/build.\n\n\n\n***** ChangeLog for 21.0.0 compared to 20.0 *****\n\nFor users:\n----------\nNEW: NEW Module - help to setup OpenID Connect (#30317)\nNEW: Module AI moved from experimental to stable\nNEW: Add hidden option CONTRACT_HIDE_MYCOMPANY_SIGNATURE_SECTION_PDF\nNEW: Add a tab on recurring invoice card to see the list of invoices generated from this recurring invoice (customer and supplier invoices) (#31463)\nNEW: #28871 signed_status to commande (#30359)\nNEW: #30269 linked project in column of last record tables (#30344)\nNEW: Accountancy - Add general account on thirdparty\nNEW: Accountancy - Add partial reconcile on subledger (#30027)\nNEW: Accountancy - Option to select the label of operation (#31200)\nNEW: Accountancy - Allow grouping taxes with primary line price (#26732)\nNEW: Activate PHPUnit with tests on permission on $action ==...\nNEW: Add advice for max size on list for better performance\nNEW: Add an advanced permission to validate knowledge (#30855)\nNEW: Add a test mode into the setup of AI module to test the AI prompts.\nNEW: Add a tool to decrypt data encrypted in database.\nNEW: Add auto generate document when reception is created (#30688)\nNEW: Add badge for generate invoice client tab (#31559)\nNEW: Add caldav on fichinter (#30582)\nNEW: Add column agenda_id to implement the link between files and event\nNEW: Add column \"comment\" in list of payment\nNEW: Add constant to hide version (#30865)\nNEW: Add country in search of project\nNEW: add duration extrafields (#31595)\nNEW: Add export for thirdparty bank accounts (#30807)\nNEW: Add export profile to export MO and lines of consumption/production\nNEW: Add option to store the text content of uploaded files into database (with conversion with pdftotext)\nNEW: Add Filter Assistance for Filling Filters Field (#31646)\nNEW: add last stock movement and product nature to StocksWithBatch export (#30578)\nNEW: Add member title to the labels (#31710)\nNEW: Add mode Customer price + level price (#31091)\nNEW: add option to add external billing contact on the supplier_proposal pdf (#30298)\nNEW: Add option to clone its default BOM when cloning a product (#30088)\nNEW: Add option to enable PDF frame rounded corners\nNEW: Add option to round weight and volume on shipment PDF\nNEW: add pdf regeneration to mass action for shipments (#29970)\nNEW: Add picto on list of notification email templates\nNEW: add recurring supplier invoice on supplier tab #30945 #30949\nNEW: Add sort by ref warehouse/product or ref product/warehouse on inventory product list (#31639)\nNEW: Add some improvement for ODT Contracts (#31715)\nNEW: Add terms of sale on documents (#24846)\nNEW: Add thirdparty state in substitution array (#31549)\nNEW: Add tooltip on closing accounting setup\nNEW: add trigger for linking and unlinking invoices (#30182)\nNEW: Add Unit price on supplier order stat product (#31055)\nNEW: add warehouseId parameters in select_produit to limit result to existing product in select (#30477)\nNEW: allow link feature to task (#30235)\nNEW: Authorize modification of a partially shipped order (#31423)\nNEW: autogenerate project reference in API (#30638)\nNEW: automatically change status on answering a ticket (#30556)\nNEW: Browser notifications use now jnotify (fix browser compatibility)\nNEW: can add extrafields with dol_move (#30574)\nNEW: Can change the type of a social contribution if no payment\nNEW: can delete a category translation (#31396)\nNEW: Can link an object to another using the ref. Close #31001\nNEW: Can set a class on the tr lines of form setup lines\nNEW: Can set border radius of list and tables\nNEW: Can set date of transmission in 1 click when validating SEPA\nNEW: Can set parameters with setup type yesno.\nNEW: Can set the contact type for the autoassigned user that creates a project (#30444)\nNEW: Can show raw value of oauth token\nNEW: Can use a specific profile to send email for password forgotten\nNEW: option to care grandchild (#31314)\nNEW: Look and feel - checkbox to choose thirdparty nature (#30192)\nNEW: Color line total and sub total (#26172)\nNEW: Constant to hide user login times (#29815)\nNEW: Const ASSET_ROUND_INTEGER_NUMBER_UPWARDS for ASSET Module. Compatibility to migrate from other accounting solutions. (#31615)\nNEW: Content of tab \"attached files\" is more compact.\nNEW: Contract signed status update (#30779)\nNEW: Create thirdparty notification by action code (#30541)\nNEW: Customer price and level price together\nNEW: default configuration for event reminder (#31407)\nNEW: determine multi-currency price on object line create tpl (#28021)\nNEW: Display for socialnetworks admin\nNEW: display mark rates in objectLineCreate (#30872)\nNEW: due date in accounting bookkeeping list and card (#30061)\nNEW: enhance the OAUTH2 token manager. Can refresh a token from page.\nNEW: EPC QR CODE - Use bank owner account name instead of company (#31735)\nNEW: fichinter list disable details option (#30884)\nNEW: filter on invoice dates in product margin tab (#29997) and thirdparty margin tab (#29998)\nNEW: FIX: Display invoice widgets by amount instead of number (#30215)\nNEW: Add the Clone of company (#29755)\nNEW: function for Preview In CKeditor products\nNEW: FY Changed Period handle in Module Asset (#31618)\nNEW: hidden option MAIN_TE_PRIVATE_FIRST_AND_LASTNAME_TO_UPPER (#31143)\nNEW: Hide completed items in Link to (#31329)\nNEW: Iban is saved encrypted\nNEW: if a user is associated with the expense report, then that user will get an associated credit line ($tabtp) generated.\nNEW: Implementing Billable tasks on projects using new attribute \"billable\" (#30092)\nNEW: Include a protection into check update of module to detect malware\nNEW: intervention signed status update (#30629)\nNEW: INTRA VAT ID field optionally mandatory and/or invoice mandatory in thirdparty module setup (#31663)\nNEW: Invoice - Generate payment information - Structured communication (#31376)\nNEW: Invoice line import - fk_product can be a ref (#30795)\nNEW: Look and feel v21 - Can have rounded border on tables\nNEW: Look and feel v21 - Toolbar for WYSIWYG editor is short on smartphone\nNEW: Management of extrafields on customer prices, level prices and default prices (#31313)\nNEW: manage several type of dangerous goods for a same parcel (#30238)\nNEW: Member - Can upload a file with drag and drop (#30265)\nNEW: Move the picto in the first tab label always visible\nNEW: ODTSubsitution for date_start_real / Contracts\nNEW: Look and feel - Opacity for finished lines (#30219)\nNEW: option: assign default roles to \"individual\" third-party contacts (#30499)\nNEW: option to allow freezing qty in BOM service's line (#29990)\nNEW: Add a page to list the lines of orderse (#31521)\nNEW: pagination in product margin tab\nNEW: payment term and mode on creating supplier (#31166) and third-party (#31067)\nNEW: PDF Add Customer accountancy code (#31544)\nNEW: PDF Add discount total if line discount exists (#31483)\nNEW: PDF Add option to print rounded corner frames (#31172)\nNEW: PDF Add shipping address in sales orders (#31293)\nNEW: PDF Add total discount if line discount exists\nNEW: PDF frame rounded corners\nNEW: Prelevement - Use structured payment data for Belgium (#31383)\nNEW: Preview product list when we choose model email layout Commerce (#30185)\nNEW: Can upload a file with drag and drop: Thirdparty (#30263) - Product/Service (#30250) - Project (#30276) - Propale (#30315)\nNEW: Public and private note options in thirdparty list (#31062)\nNEW: redirect to expedition card if global search has unique result (#30108)\nNEW: replenishment if the warehouse is set to the default selected user (#31229)\nNEW: retrieve Thirdparty by account (#31283)\nNEW: Share msg \"not found\" for widgets and add a button to add new record when none exists (#31309)\nNEW: shipment signed status update (#30928)\nNEW: Show detail of each multicurrency amount in popup of price\nNEW: show holidays at bottom of activity/permonth.php page (#31550)\nNEW: Show tooltip on number of qualified records\nNEW: Signature or proposal from the Web portal (#30062)\nNEW: Star Field Type for Extra Fields (#31348) and for for Module Builder (#31216)\nNEW: Support option PDF_ADD_POSITION on shipment espadon template\nNEW: Auto-suspend facture rec when nb gen max is reached (#31623)\nNEW: The margin section can now be shown/hidden\nNEW: Deal change in fiscal year period adjustments to shortened or extended periods (e.g., fiscal years of 9 or 15 months)\nNEW: (ticket, admin): More options entries (#30548)\nNEW: Update warehouse product list to add another sorting option (#30971)\nNEW: Can set blacklist of words into answer of AI (#30385)\nNEW: user list country filter (#30770)\nNEW: vat rate with department in dict (#31628) (#31627)\nNEW: When we export data of unlaterable log, we add an unalterable line in logs\nNEW Add option THEME_STICKY_TOPMENU = 'scrollleftmenu_after_mainpage' (or 'disabled')\nNEW value for FICHINTER_DISABLE_DETAILS. If FICHINTER_DISABLE_DETAILS is set to '2' details are disabled only on intervention list.\n\nPERF: Reduce nb of requests into num_public_holiday\nPERF: Reduce size for VCF files and virtualcard qrcode\nPERF: Reduce time to show the page of unalterable logs with high data\n\nFor developers:\n---------------\nNEW: translation with action triggers API (#30595)\nNEW: more complete stock product API call (#30567)\nNEW: Projet - Add hook formconfirm (#31408)\nNEW: Can choose the zip handler to build ODT.\nNEW: Can force ip into log file name using a define('SYSLOG_FILE_ADDIP')\nNEW: Can force log file name using a define('SYSLOG_FILE_ADDSUFFIX')\nNEW: Can define the text on tooltip on a yesno check.\nNEW: Introduce value 'password' for mode of sanitization in GETPOST.\nNEW: Add getImageFromHtmlContent() method\nNEW: Add gitleaks into pre-commit\nNEW: Add hook after the line is processed in the sell journal page (#31439)\nNEW: add hook dolibarrDelConst (#30672)\nNEW: Add hook getLoginPageExtraContent, getPasswordResetPageExtraContent\nNEW: add hook in dolibarr_set_const admin.lib.php (#30605)\nNEW: Add hook on sell journal page for overwrite the processed journal data after the SQL request (#31033)\nNEW: force_install_noedit : add value 3 to block all technical parameters excepted main_url (#30080)\nNEW: Add a new hook on order list (#31315)\nNEW: Add ID of the line in the trigger context for addLine(), updateLine() and deleteLine() on contract (#30343)\nNEW: Add more log information\nNEW: Add pagination data to some api routes (#29895)\nNEW: Add test to forbidden NOW() SQL function.\nNEW: API call to re-generate a users password. (#30590)\nNEW: API close proposal now supports both private and public note (#30659)\nNEW: API_LOGINS_ALLOWED_FOR_GET_EXTRAFIELD (#30562)\nNEW: API /setup endpoint for getting action triggers (#30538)\nNEW: HOOK FORMCONFIRM IN TICKET (#31321)\nNEW: hook on expensereport added (#31380)\nQUAL line classes for various business object classes have been moved to individual files.\nQUAL: #30122 (#30131)\nQUAL: AccountancySystem: maintenance work to uniformize and clean up (#31391)\nQUAL: All $conf->global->module->enabled are replaced with isModEnabled()\nQUAL: bankline category table name (#30419)\nQUAL: Clean code\nQUAL: conformity PR for data structure of #29964 (#30014)\nQUAL: Edition of currency is shared in a common tpl file\nQUAL: Ergo btn and fix  (#30947)\nQUAL: Move function csvClean into functions2.lib.php\nQUAL: Move the public css file into the public directory\nQUAL: Removed inclusion of the file json.lib.php\nQUAL: simplifying readability of sql\nQUAL: Standardize name of user cookies\nQUAL: Suffix table name to have them created on module install\nQUAL: The property ->domiciliation and ->propio on bank accounts has been\nQUAL: Update inc.php (#29822)\nQUAL: Use archiveOrBackupFile for MAIN_MAIL_DEBUG_LOG_WITH_DATE\nQUAL: Use table_element in sql queries (#31355)\nQUAL: rename const WORKFLOW_EXPEDITION_CLASSIFY_NEWD_INVOICE to WORKFLOW_RECEPTION_CLASSIFY_NEWD_INVOICE\nQUAL: This configuration change in phan will report NEW: array types in phpdoc\n\n\nWARNING:\n--------\n\nThe following changes may create regressions for some external modules, but were necessary to make Dolibarr better:\n* Prepare your module for deprecation of triggers code XXX_INSERT to support also XXX_CREATE.\n* More class properties (with old name in french) are now deprecated in favor of the property name in english.\n* The json emulator dol_json_encode/decode() is removed. The native json PHP module must be enabled/available (this is the case by default with most PHP installation).\n* The deprecated GET parameter \"&sall=\" has been removed, use now the \"&search_all=\".\n* The experimental and deprecated module WebserviceClient is completely removed (was never released and use deprecated architecture). May be replaced with the stable module Webhook.\n* The dynamic properties ->no_button_delete, ->no_button_edit, ->no_button_copy for $object Product that could be set by an external module must no more\n  be set (not allowed by PHP 8.2). A module can already return an array with key 'no_button_delete', 'no_button_edit', 'no_button_copy' for same purpose.\n* The old function dol_bc($var, $moreclass = '') has been removed. If you called it, just stop to call it.\n* The trigger code CATEGORY_LINK and CATEGORY_UNLINK has been replaced with code CATEGORY_MODIFY. You can read ->context['linkto'] or ->context['unlinkoff' to detect if we want to make a link or unlink.\n* The property ->domiciliation and ->propio on bank accounts has been deprecated and replaced with property ->address and ->owner_name everywhere.\n* If you were using the substitution key __MEMBER_CIVILITY__, you must now use __MEMBER_TITLE__\n\n\n***** ChangeLog for 20.0.3 compared to 20.0.2 *****\nFIX: 17.0 - missing error handling for FactureRec::fetch in card-rec.php\nFIX: 17.0 - warnings due to uninitialized variables + delete code that doesn't apply to recurring invoices (AFAIK, there is no recurring credit note feature)\nFIX: #31159 - TVA Account by country is not used (#31984)\nFIX: #31724 (#31885)\nFIX: #31890 store empty line extrafields (#32152)\nFIX: #31997\nFIX: #32007 missing parameter on function multiSelectArrayWithCheckbox (#32008)\nFIX: #32021\nFIX: #32171 (#32172)\nFIX: #32178: repair.php: fix missing 'as' with Postgres (#32179)\nFIX: #32259\nFIX: #32317 Error with report by month sales tax\nFIX: #32391\nFIX: #32402 Social Contribution - Update - Drop the attached employee\nFIX: #32408 Dict - module Event organisation is stable now\nFIX: #32467\nFIX: Accounting Closure Duplicates, Subledger accounts, Account Labels and more... Update bookkeeping.class.php\nFIX: add a line in expensereport refused\nFIX: All contacts were loaded even if no thirdparty was selected (#31877)\nFIX: asset: missing ref_ext field used in CommonObject::isExistingObject() (#31870)\nFIX: assets: division by zero when trying to calculate depreciation on assets that don't have it (#31858)\nFIX: avoid php8 warnings\nFIX: broken feature, check if module is enabled\nFIX: broken feature, entity can not be empty !\nFIX: broken feature, wrong GETPOSTINT parameter\nFIX: BUG #32454 (Third party creating vendor)\nFIX: calculate start date of cloned task from cloned project (#31799)\nFIX: can not convert to reduc if draft status\nFIX: comparing strings with numbers can be touchy\nFIX: Debug option not working replaced by the one that works.\nFIX: default user in stat page\nFIX: Ensure extraparams cannot be selected by the user (#32132)\nFIX: GETPOST \"$check\" parameter can't be empty\nFIX: Hidden dropdown download link in project\nFIX: stop doing a full closure without duplicate lines generated by an unclean database\nFIX: in projet/element.php total_time is always back to 0\nFIX: (invoice): mutlicurrency_tx correct value\nFIX: invoice: revenue stamp wrongly converted to int (#31840)\nFIX: issue #28222 Edit date extrafield displayed on all on lines (#31914)\nFIX: \"location_incoterms\" is a string\nFIX: missing hook parameters\nFIX: missing saving MAIN_SECURITY_MAX_NUMBER_FAILED_AUTH\nFIX: old copy not needed in supplier order create method (#31733)\nFIX: send mail to BCC when email formatted as Fullname <email> (#31983)\nFIX: set birthday alert (#32133)\nFIX: Status not correct in Public ticket list (#31922)\nFIX: swiftmailer: correctly set errors-to header (#31826)\nFIX: TakePos barcode rule (#31857)\nFIX: Takepos: set the country of the default customer (#31915)\nFIX: Update Accounting closure with missing too many A-Nouveau #30039)\nFIX: Update on a sold line of bank entry set the type to empty, now it's fixed #22539 (#31888)\nFIX: update status on create supplier order for trigger (#31642)\nFIX: use tax with code on supplier order line give tax code missing in supplier invoice (#32018)\nFIX: warning in agenda when user have no color and AGENDA_NO_TRANSPARENT_ON_NOT_BUSY=1\nFIX: when create intervention from propal (or other object), element link is missing after creation (#32035)\nFIX: with no perm on supplier, must not see  supplier of the best price\nFIX: wrong check\nFIX: wrong trigger name (MODIFY instead UPDATE)\n\n***** ChangeLog for 20.0.2 compared to 20.0.1 *****\nFIX: fatal when updating recurring supplier invoice line with php8 ($remise_percent is '' instead of 0) (#31713)\nFIX: supplier invoice template card: buyer and seller swapped in VAT-related function calls (probably a copy-paste from customer invoice templates) (#31446)\nFIX: #25853 Thirdparty Massaction (#25868)\nFIX: #28505 Blank page from third party to projects (#31637)\nFIX: #30432 make thirdparty code_client and code_compta modifiable via API (#31668)\nFIX: #31015\nFIX: #31360 delete contact when using pgsql.\nFIX: #31365 Bank - Card - Ref haven't max length in edit mode (#31533)\nFIX: #31452 Predefined supplier invoice - Language key & link to supplier card (#31514)\nFIX: #31538 Addition to EPC-QR values <200b><200b>to correct remittance information (#31557)\nFIX: Accountancy - Loan - Error on transfer (#31546)\nFIX: a dictionary CANNOT have zero value in entity field (#31625)\nFIX: Avoid fatal error when mysqli not available\nFIX: Bad balance of td into setup page of shipments\nFIX: bad test on permission makes agenda event creation on object not\nFIX: can validate shipment without stock movement (#31780)\nFIX: Clear of option THEME_ELDY_USEBORDERONTABLE\nFIX: column position on PDF of payments\nFIX: const WORKFLOW_RECEPTION_CLASSIFY_NEWD_INVOICE (#31601)\nFIX: convert amount into text when using numberwords\nFIX: Corrected typo preventing data from being saved (#31716)\nFIX: CSS\nFIX: access to media files\nFIX: default visibility\nFIX: dol_openinpopup for virtual card\nFIX: duplicate answers in list when using global search on proposals\nFIX: Edit a link\nFIX: email templates for expense report not visible\nFIX: Error management on cheque deposit.\nFIX: error message in xls import when stream zip is not available.\nFIX: Extrafield following between rec invoice and classic invoice (#31445)\nFIX: Filter on month of the balance of leaves.\nFIX: Fix bug select columns and access to the public ticket list from the public ticket card (case when we have connected to another client before, the track id stocked in session overwrite the new track id from the public ticket card) (#31000)\nFIX: for #31237 #31524\nFIX: Get number of bank deposit wa not using the date.\nFIX: If you have no stock of your product, an error is displayed when you delete the reception. (#31504)\nFIX: issue on action set condition in particular when you set a deposi… (#31518)\nFIX: open redirection\nFIX: pagebreak when option PDF_ADD_POSITION is set\nFIX: PHP-warning-multiprice-in-liste-product-if-level-is-not-defined-on-product (#31507)\nFIX: Picto menu not visible\nFIX: Salary - Payment card - Missing date (#31512)\nFIX: Search on batch code\nFIX: select variant by attribute. (#31759)\nFIX: show preview pdf list expensereport (#31694)\nFIX: Show twice the technical ID\nFIX: space used by linked elements in PDF notes (#31459)\nFIX: substitutions THIRDPARTY_XXX are not available for actioncomm reminders (#31385)\nFIX: Support for PDF_ADD_POSITION was not complete\nFIX: the autofix corrupted vat value must be triggered only if we are\nFIX: the autofix must also fix the multicurrency value.\nFIX: this constant break the dictionary admin without Multicompany (#31638)\nFIX: uniformize and check delete contact action (#31384)\nFIX: Vat code is lost when updating lines in POS\nFIX: uniformize and check delete contact action (#31384)\nFIX: Vat code is lost when updating lines in POS\nFIX: When PDF_ADD_POSITION is on, the number was doing pagebreak before\n\n***** ChangeLog for 20.0.1 compared to 20.0.0 *****\nFIX: #30960 show and search extrafields (#31026)\nFIX: #31076 Bad position of hooks\nFIX: #31152\nFIX: #31237 (#31239)\nFIX: #31241 (#31245)\nFIX: accounting transfer when nb of lines is not zero but amount is zero\nFIX: Add same security test when nuploading files from API than from GUI (#31114)\nFIX: allow \"class\" into search string in website module\nFIX: autoselect the fiscal period by default\nFIX: avoid odt errors (#31126)\nFIX: Backport fix fatal error on price with some truncating setup\nFIX: better compatibility with some old extrafield syntax filter\nFIX: box_actions.php still uses fk_user_done which no longer exists (#31190)\nFIX: Browser Notification ko with firefox\nFIX: custom CSS for WebPortal (#31022)\nFIX: Debug calculation of the delay of purchase order\nFIX: Debug option WORKFLOW_TICKET_LINK_CONTRACT. Bad id stored. Bad\nFIX: dolFICalculatePaymentReference for Finland in functions_fi.lib.php (#31281)\nFIX: Duplicate trigger printFieldPreListTitle\nFIX: edit contract of intervention broken by CSRF protection\nFIX: error return missing in mo creation when qty to consume is <= 0 (#31134)\nFIX: Extrafields does not appear on form\nFIX: FATAL ERROR abusively triggered due to incomplete regex (#31052)\nFIX: if you call fetchLines several times, your $object->lines contains duplicates (#31167)\nFIX: late order search option (v18+) (#30692)\nFIX: late propal search option (v18+) (#30687)\nFIX: Maxi debug edit/delete accounting transaction\nFIX: member must be found to search the linked partnership (WebPortal) (#30977)\nFIX: Missing picto on user link\nFIX: mysql error during dump for enable sandbox M999999 (#31116)\nFIX: OAuth generation of token for Microsoft, Stripe and Generic\nFIX: param id in website account list from third-party card (#30975)\nFIX: Position of box for shipping address in PDF\nFIX: Protection to avoid an extrafield to be mandatory if computed\nFIX: removed unreachable code (#31141)\nFIX: Remove wrong button\nFIX: retrieving user specific constant\nFIX: Revert storing of ticket files into event dir, too many troubles.\nFIX: Selection of country - state in resource\nFIX: State dropdown is not working on User card #31198 (#31205)\nFIX: Tool to convert into utf8 or utf8mb4\nFIX: use price() to display qty on a product's stats tab to avoid showing too many decimals when rounding errors are possible (#31165)\nFIX: Warning visible when it should not\nFIX: webhook must send POST in body. Add WEBHOOK_POST_SEND_DATA_IN_BODY\nFIX: when qty is not an integer, apply price() (#31138)\nFIX: Wrong price for BOM with workstation (#31142)\nFIX: determine multi-currency price on object line create tpl (#28021)\n\n***** ChangeLog for 20.0.0 compared to 19.0 *****\n\nFor users:\n----------\nNEW: Compatibility with PHP 8.2 (with no need to disable warnings)\nNEW: Font param Look and Feel THEME_FONT_FAMILY (#29302)\nNEW: Param to show main menu logo in color (#29305)\nNEW: #27048 add form to globally set \"VARIANT_ALLOW_STOCK_MOVEMENT_ON_VARIANT_PARENT\" variable (#27049)\nNEW: #29274 Add possibility to have different mail for autocopy for holiday (#29275)\nNEW: Module WebPortal experimental\nNEW: Module Bookcal is now experimental (TimeZone not yet supported)\nNEW: #24031 add option MAIN_GRANDTOTAL_LIST_SHOW to always show grand total to lists (#27247)\nNEW: #28070 Adding mobile phone to thirdparty\nNEW: Accept the __NOW__ and __USER_ID__key into filters\nNEW: Accountancy - Add possibility for specific format FEC to sort with the FEC name (#29722)\nNEW: Accountancy - Expense report - Add an option to use end period for transfer (#26706)\nNEW: Accountancy - Show accounting result on balance\nNEW: Accountancy - Show import key if exist (#29265)\nNEW: Accountancy - Auto-determine piece number in FEC import (#29672)\nNEW: Accountancy - Option to transfer only reconciled lines from bank (#29408)\nNEW: Accountancy - Separation of accounting default account for salary and expense report\nNEW: Various payment - Use list of accounting account when edit (#27992)\nNEW: Add option to change all service dates at once\nNEW: Add a default limit in nb to agenda export\nNEW: Add a Feedback-ID into email headers\nNEW: Add a link \"Fill with layout\"\nNEW: Add a link to add a website category in edit page properties\nNEW: Add ALT+s to save a website page in edit mode\nNEW: Add a protection in inventory when a product has stock of lot and is\nNEW: Add a warning if invoice payment is Credit Transfer on newpayment.php (#29685)\nNEW: Add Categorie filter for ActionComm (#28041)\nNEW: Add code+label of payment mode and term in purchase invoice export\nNEW: Add column data payment on VAT list\nNEW: add column for barcode in ticket\nNEW: add column to store a label for a supplier price (#27238)\nNEW: add constant TAKEPOS_ALTERNATIVE_PAYMENT_SCREEN\nNEW: add constant TICKETS_NO_COMPANY_ON_FORM\nNEW: add constant VATUPDATE_NO_TRANSACTION\nNEW: add const PROJECT_HIDE_OPEN_PROJECTS_LIST_ON_PROJECT_AREA to have the ability to hide the potentially very long list of open projects in any case\nNEW: add data type 'project' to blockedlog\nNEW: Add default User roles for Thirdparties (#29242)\nNEW: Added a configuration in workflows (#26959)\nNEW: added address, zip & town to resource object\nNEW: add field Reply to in emailing\nNEW: Add Filter on product referring object status(Order and Order Supplier) (#28275)\nNEW: add geometrics extrafield (#28239)\nNEW: Add global PRODUCT_STOCK_LIST_SHOW_WITH_COMPILED_PHYSICAL_STOCK for this is based on compiled physical stock, not the sum of product stocks on existing links. (#28171)\nNEW: Add id of last page accessed in website\nNEW: Add import ID in list of products\nNEW: Adding a recipient on emails sent, change status to sent partially.\nNEW: Add invoice subtype (some countries need this like greece)\nNEW: Add link to export ICS file of an event.\nNEW: Add maintenance tool to switch utf8 -> utf8mb4\nNEW: Add option MAIN_USE_FULL_TEXT_INDEXATION\nNEW: Add option PDF_ADD_POSITION\nNEW: Add option position['find'] to DolEditor (#29546)\nNEW: Add option THIRDPARTY_MIN_NB_PROF_ID and THIRDPARTY_MAX_NB_PROF_ID\nNEW: Add option TICKET_INCLUDE_SUSPENDED_STATUS (Suspended status no more\nNEW: Add option to open files in new tab (#29604)\nNEW: Add picto favicon\nNEW: add position column in category table  (#27425)\nNEW: add position field into category add view\nNEW: add relation type on element_element (#29329)\nNEW: Add shipments and reception stats on product stat tab (#29395)\nNEW: Add SMTP AUTH method PLAIN\nNEW: add some bank info on odt\nNEW: Adds payment terms and percent discount to the creation of an invoice from time entries in projects (#29694)\nNEW: add state province filter field\nNEW: Add support of [IF] tag other than in the core content (ex: headers who is in stylesXml) (#29357)\nNEW: add table to store product relation with thirdparty\nNEW: Allow smileys into emailing html content\nNEW: Allow to set a default project for POS sales (#27042)\nNEW: animation for display spinner when waiting response\nNEW: Asset Module - make asset model creation in a single step (#26982)\nNEW: auto fill infos in template email\nNEW: Automatically fill matching extra fields of object on line creation. (#27240)\nNEW: Can add documents on a payment (#29660)\nNEW: Can create new membership type from the create member form\nNEW: Can export security events.\nNEW: Can force language of a page in website module with xx/pagename\nNEW: Can force position of signature on PDF using a setup constant (#29676)\nNEW: Can generate the email selector file\nNEW: Can setup phone mobile for the main company (#28410)\nNEW: Can show legal form of company into the list\nNEW: Can show the legal form in address of recipient in PDF\nNEW: Can show the list of projects having at least one contact that is a contact of the third party\nNEW: Complete the thirdparty index page with last modified contacts\nNEW: constant MAIN_DISCARD_NEWD_PROJECTS_IN_SELECT\nNEW: Constant to select if typent helps define whether the thirdparty is a company\nNEW: contact type on auto add contributor (#26077)\nNEW: contenteditable is supported on table,header,footer and menu tags\nNEW: cronjob: deny to launch a method from a deactivated module\nNEW: determine multi-currency price on object line create tpl (#28021)\nNEW: dev: Add tool to update license with developer info\nNEW: Dev documentation about setting up pre-commit locally\nNEW: Develop new quick edit opportunity status (#27892)\nNEW: display product and qty in stock_movement table in project overview (#29296)\nNEW: dol_copy added to forbidden functions\nNEW: Dolibarr can now re-open ticket upon customer reply on the same ticket via email#28303  (#28451)\nNEW: Edit ticket (#29497)\nNEW: Expense Report: Add conf to block line creation if line date is out of range (#29427)\nNEW: Expense Report: new line add conf to Block if line date out of range\nNEW: export invoice source id (backport v17)\nNEW: export order client code\nNEW: Export RSS of event can be filter on action type and code (useful for smartphone notification with feeder)\nNEW: feature to merge 2 tasks (#29214)\nNEW: fetch object by element for website account card\nNEW: filter on sale representative in contact list\nNEW: Filter shipments by selecting multiple shipping methods (#28376)\nNEW: Font param Look and Feel (#29302)\nNEW: functionality for stock configuration prompt in AI module (#28030)\nNEW: functionality to delete contact of company list\nNEW: functionality to display codebar on pdf files  (#29623)\nNEW: functionality to list event for user\nNEW: functionality for salaries massaction (bank-transfer)\nNEW: function for removing company contacts\nNEW: get html template example for each model\nNEW: hide external and non employee users in combobox\nNEW: hide external user in combobox\nNEW: Implement EPC QR Code on Invoices (#29445)\nNEW: in project overview, stock movement section, we only stock movement ref, but not the product and not the quantity\nNEW: input in emailForm to put AI instructions\nNEW: input reason label in customer proposal and order export (#29540)\nNEW: intervention list date filter\nNEW: Invoice Creditor Reference and banking barcode (FI) (#29328)\nNEW: Invoice PDF If bank account is empty, not print \"Bank\" and \"Account\"\nNEW: Label on Price fix:#28544\nNEW: layout and prompt AI on create emailing\nNEW: Look and feel v20 - add picto to full list on summaries tables.\nNEW: Look and field: The operator 'or' on category filter visible only\nNEW: make \"sell\" or \"eat by\" mandatory in product lot\nNEW: Management of the In-Reply-To and References for ticket answers.\nNEW: module user rights enhancement (#29150)\nNEW: Module Website: Can link/unlink translation between web pages\nNEW: Move dir of cache for widgets\nNEW: multiselect with checkbox in categories/tags search for thirdparty list (#28335)\nNEW: new consts to redirect from massaction createbills (#29436)\nNEW: new global string to preselect yes for one bill per third party in orderlist massaction (#29359)\nNEW: notification action triggers for cancelling orders and invoices\nNEW: now button when editing an event\nNEW: online signature of shipments (#29559)\nNEW: On OAuth Google login, no prompt at all if already logged in Google\nNEW: Param to show main menu logo in color look and feel (#29305)\nNEW: Payment page received from donations\nNEW: possibility to define a completely inactive module (#29289)\nNEW: preview example page in website when create page\nNEW: propal canceled status\nNEW: receptions in dolibarr search box (#29700)\nNEW: redirect link in the config module in the event of an error client\nNEW: remove auto selected user for taxes-charges by default\nNEW: resource address, phone, email & maxusers (#28185)\nNEW: Script for fast identification of missing/unused/duplicate translations\nNEW: search member by date\nNEW: See the documents of my subordinates  (#28318)\nNEW: Show error on ical parse\nNEW: Show the profit per attendee on events\nNEW: signed status CRUD to contract and fichinter\nNEW: Simplify the verification of context in hook (#27105)\nNEW: Sort variants list by product ref on combinations page (#27969)\nNEW: Statistic page donation (#28463)\nNEW: Supplier Invoice - List - Selector with choice on ECC country\nNEW: supplier order submit method message (#27855)\nNEW: Supplier Proposal API extended with DELETE, POST and PUT possibilities\nNEW: Support $moreinheader with SwiftMailer\nNEW: Support a date selector with type 'html'\nNEW: Support Reply-To tracking in emails sending (tickets only for the\nNEW: Take image from content for RSS\nNEW: TakePOS - add buttons to allow keyboard usage for discounts (#24819)\nNEW: TakePOS - add constant to show line subprices\nNEW: TAKEPOS - Clear search results\nNEW: TAkePOS - don't allow payment if no thirdparty selected\nNEW: TakePOS - Option TAKEPOS_NO_GENERIC_THIRDPARTY to disallow payment if no specific thirdparty selected (generic not allowed)\nNEW: Test send triggercode to url (#29675)\nNEW: Trigger for Knowledge (#29645)\nNEW: Add branches into apstats security report (cti.dolibarr.org)\nNEW: updated resource list for new fields (#28705)\nNEW: Update expense report card.php to allow pdf preview even without thumbnail (#29491)\nNEW: update price with auto to use const for rounding prices (#29350)\nNEW: Use a nicer combo list to select the export accounting format\nNEW: users can set their own length for short lists\nNEW: warning message when cloning a product whose status is not to sell (#28374)\nPERF: Performance enhancement on Invoice/Paiement area page\nPERF: Use cache for loaded users/contact on project list\nSEC: add some dolibarr functions to dol_eval forbidden functions (#29459)\nSEC: #28168 Correct protocol limitations (PHP7.4/Win) (#28172)\nSEC: Add a protection against installation of external module bypassing\nSEC: A user with export permission can export module data without\nSEC: Reduce nb of var without WAF used when using the website module\n\n\nFor developers or integrators:\n------------------------------\nNEW: Situation invoice - Add new official progressive mode - (constant INVOICE_USE_SITUATION = 2)\nNEW: $noescapetags param of dol_escape_html works if attributes\nNEW: Add createInvoiceFromContract to API invoice (#27277)\nNEW: add debugging info to api/status if non-production\nNEW: Add functions to manipulate emojisNEW: add hook addMoreCategoryList to list category from external module\nNEW: add hook AFTER_VAT_UPDATE\nNEW: Add hook on printsheet barcode page\nNEW: adding online_payment_url to invoices API (#28107)\nNEW: Add method getPublicImageOfObject() for website module\nNEW: Add sql stddev_pop db function.\nNEW: Show the process ID and user ID into log files\nNEW: Add trigger on modify of user bank account\nNEW: Add Windows ci workflow\nNEW: All apis has a hook context of \"api\" initialized\nNEW: All fetchAll() method now support the USF syntax.\nNEW: allow [] in dol_eval (#27290)\nNEW: API Add some api endpoints (#25126)\nNEW: API can create, get and update extrafields #29249 (#29270)\nNEW: Api can force invoice ref (#28547)\nNEW: API can Post extrafields #29249 v2\nNEW: API delete extrafields from name and elementtype\nNEW: API GET projects by REF and by email_msgid\nNEW: Api parameters are sanitized by the WAF, same code than GET/POST\nNEW: API setup delete extrafields from name and elementtype v2 (#29269)\nNEW: API setup update extrafields from name, elementtype and json\nNEW: API setup update extrafields from name, elementtype and json (#29273)\nNEW: api_thirdparties add and delete representatives (#27943)\nNEW: Extend of module options Setup\nNEW: Factoring and Fix external module elementType (#28666)\nNEW: class ai for generate content with api\nNEW: consider document lines in element properties\nNEW: DolDeprecationHandler for deprecations\nNEW: Execute the doAction hook on other ticket pages (#29701)\nNEW: FormSetupItem: show picto in front of confs applied across all entities (#28024)\nNEW: Global constant for deprecated module mapping (#28348)\nNEW: Hook after total Table on PDF (#28092)\nNEW: Hooks tab in debugbar (#24992)\nNEW: Init of a module with a website template copy also the preview\nNEW: llxHeader body css for asset, for command see #26856, for donation\nNEW: ModuleBuilder : add type genericpassword entry types\nNEW: Makes it possible to update html text fields besides integer and alpha fields for a custom build module.\nNEW: method to help declare dictionaries more easily\nNEW: Upgrade jsChantImproved to 2.8.10\nNEW: Upgrade Sabre lib to 4.6.0\nQUAL: Add sqlfluff (SQL code and style check) (#29097)\nQUAL: Check lang files does not contains 'notranslate'\nQUAL: Clean code around dol_eval use\nQUAL: clean deprecated code\nQUAL: Deprecated \"domiciliation\". Replaced with \"address\"\nQUAL: DiscountAbsolute: inherit CommonObject to implement errorsToString\nQUAL: Enhance API description - BOM, Documents (#27492), Setup\nQUAL: extend api/status\nQUAL: feature parity between vendor and customer template invoice (#26588)\nQUAL: FichinterTest: add errorsToString()\nQUAL: Force subclass MINVERSION (#26314)\nQUAL: Make the same condition only once.\nQUAL: phpstan github action\nQUAL: professional identifiers - remove TODO by adding profid.lib.php\nQUAL: Properties ->date_update and ->date_modification were merged\nQUAL: removed duplicate language file\nQUAL: Remove the external js library jstimezonedetect\nQUAL: Rename all input fields \"tel\" into \"phone\"\nQUAL: Rename column fk_origin_line on shipment lines into fk_elementdet to match a generic use. (#28989)\nQUAL: replace $conf->global with getDolGlobalString()\nQUAL: Send API response data before completing post-processing tasks\nQUAL: Sending API response data to clients before completing post-processing tasks.\nQUAL: Start to rewrite the export of accountancy. Misconception generates\nQUAL: the config_extended of phpstan will be kept on apstats only for the\nQUAL: The signature for all ->delete() method has been modified to match\nQUAL: Use phan to help detect new issues (#27706)\nQUAL: use real time when creating action from list\nQUAL: replace hard-coded dictionary IDs with constants (#29501)\n\nWARNING:\n--------\n\nThe following changes may create regressions for some external modules, but were necessary to make Dolibarr better:\n* If a filter is defined into an extrafield, this filter MUST use the Universai Search Filter syntax (field:=:value) instead of th eunsecured SQL code field=value.\n  See https://wiki.dolibarr.org/index.php?title=Universal_Search_Filter_Syntax\n* The parameter $filter of methods fetchAll() does not accept array of SQL commands but must be a string of an Universal Search Filter syntax.\n  See https://wiki.dolibarr.org/index.php?title=Universal_Search_Filter_Syntax\n* The use of 'customurl' into $filter has been removed. Must use the USF syntax.\n* Some API HTTP return code were moved from 401 to 403 to better follow REST specification.\n* More class properties (with old name in french) are now deprecated in favor of the property name in english.\n* dolibarrtriggers class VERSION_XXX constants have been deprecated. Please use array dictionary VERSIONS['XXX'].\n* Properties ->date_update and ->date_modification were merged into date_modification.\n* All CLI tools (into /scripts) return a positive value to the shell if error (0 remains success) for a better\n  cross platform compatibility. On linux the exit(-1) was caught as 255, it may be now exit(1) so will be caught as 1.\n* Ldap class methods connect_bind() & dump_content() have been renamed\n* Use of dol_eval with parameter $returnvalue=0 is deprecated.\n* The signature for all ->delete() method has been modified to match the modulebuilder template (so first param is now always $user), except\n  the delete for thirdparty (still accept the id of thirdparty to delete as first parameter). Will probably be modified into another version.\n* Route for API /thirdparties/gateways has been renamed into /thirdparties/accounts to better match the api object name.\n* The AGENDA_ENABLE_DONEBY hidden option has been removed. So $userdoneid in actioncomm class is deprecated. Please use $userownerid instead. Also,\n  the deprecated field $fk_user_done in actioncomm table is removed. Please use $fk_user_action instead.\n* The table commande_fournisseur_dispatch has been renamed into receptiondet_batch to better match its goal and the field fk_commande\n  and fk_commandefourndet were renamed into fk_element and fk_elementdet\n* Removed trigger BILLREC_CREATEBILL. This trigger was not a CRUD event. If you used it, you can already use the trigger BILL_CREATE and\n  test that ($object->fac_rec > 0) to know if creation trigger is from a recurring invoice or not. Also this old trigger was never enabled\n  into table llx_c_action_trigger.\n* Renaming into expedition line table and class: fk_origin_line is now fk_elementdet in table and class.\n* The signature of method fetch() of class CompanyBankAccount has been modified to match the signature of method Account->fetch()\n\n\n***** ChangeLog for 19.0.4 compared to 19.0.3 *****\nFIX: fatal when updating recurring supplier invoice line with php8 ($remise_percent is '' instead of 0) (#31713)\nFIX: supplier invoice template card: buyer and seller swapped in VAT-related function calls (probably a copy-paste from customer invoice templates) (#31446)\nFIX: #25853 Thirdparty Massaction (#25868)\nFIX: #28505 Blank page from thirdparty to projects (#31637)\nFIX: #30757\nFIX: #30762\nFIX: #30768 allocate the correct invoice_line_id to the element timespent (#30769)\nFIX: #30772 Accountancy document export - The project filter on expenses report don't work (#30824)\nFIX: #30836\nFIX: #30960 show and search extrafields (#31026)\nFIX: Add same security test when uploading files from API than from GUI (#31114)\nFIX: ajaxik URL in ExpenseReport to load coef calculation (#30918)\nFIX: attached file on first page load (#30694)\nFIX: autoselect the fiscal period by default\nFIX: avoid from re-initializing array result on nested hook getEntity (#30626)\nFIX: avoid odt errors (#31126)\nFIX: avoid pgsql error (#30678)\nFIX: avoid the return \"AND (())\" (#30829)\nFIX: Backport fix fatal error on price with some truncating setup\nFIX: box_actions.php still uses fk_user_done which no longer exists (#31190)\nFIX: can validate shipment without stock movement (#31780)\nFIX: column position on PDF of payments\nFIX: const  WORKFLOW_RECEPTION_CLASSIFY_NEWD_INVOICE (#31601)\nFIX: Debug extrafields for bank lines\nFIX: email templates for expense report not visible\nFIX: Error message overwrote when a error occurs during update of product multilangs (#30841)\nFIX: error return missing in mo creation when qty to consume is <= 0 (#31134)\nFIX: Extrafield following between rec invoice and classic invoice (#31445)\nFIX: Fatal error on create loan schedule (#30656)\nFIX: Fix bug select columns and access to the public ticket list from the public ticket card (case when we have connected to another client before, the track id stocked in session overwrite the new track id from the public ticket card) (#31000)\nFIX: fixed search filter for projects resetting when set to empty (#30902)\nFIX: if you call fetchLines several times, your $object->lines contains duplicates (#31167)\nFIX: If you have no stock of your product, an error is displayed when you delete the reception. (#31504)\nFIX: Invoice unpaid widget - SQL error on group by with constant MAIN_COMPANY_PERENTITY_SHARED (#30866)\nFIX: issue on action set condition in particular when you set a deposi… (#31518)\nFIX: late order search option (v18+) (#30692)\nFIX: late propal search option (v18+) (#30687)\nFIX: missing fk_parent_line parameter (#30806)\nFIX: mysql error during dump for enable sandbox M999999 (#31116)\nFIX: PHP-warning-multiprice-in-liste-product-if-level-is-not-defined-on-product (#31507)\nFIX: Protection to avoid an extrafield to be mandatory if computed\nFIX: purge files cron: php warnings when rest module enabled (#30919)\nFIX: removed unreachable code (#31141)\nFIX: show preview pdf list expensereport (#31694)\nFIX: Substitution error in ticket emails in the subject (#30778)\nFIX: substitutions THIRDPARTY_XXX are not available for actioncomm reminders (#31385)\nFIX: use price() to display qty on a product's stats tab to avoid showing too many decimals when rounding errors are possible (#31165)\nFIX: Vat code is lost when updating lines in POS\nFIX: when qty is not an integer, apply price() (#31138)\nFIX: Wrong default PDF model when creating the second situation invoice (#30843)\nFIX: wrong subprice if price base type is TTC (#30887)\n\n***** ChangeLog for 19.0.3 compared to 19.0.2 *****\nFIX: #29403 HRM - Unable to delete a skill in a job Profile (#29779)\nFIX: #29439 incomplete API return (#29796)\nFIX: #29756 Sql error on comment search (#29761)\nFIX: #29780 Restore filtes when using \"back to list\"\nFIX: #30010 : Use conf TICKET_MESSAGE_MAIL_INTRO instead of translation key (#30081)\nFIX: #30274 : Add the include before executing dolibarr_set_const (#30320)\nFIX: #30467\nFIX: #30576 - Salary payment - Date of the payment is not displayed (#30592)\nFIX: Accountancy - Avoid space on FEC name file (#29716)\nFIX: Accountancy - Generate entries of expense report with localtax (#30411)\nFIX: ASSET: annual depreciation starting year (Again ;-)) #26084 (#30040)\nFIX: Backport page inventory.php from v18 to fix pagination bugs causing data loss (#29688)\nFIX: back to page on error in contact card (#29627)\nFIX: Bad calculation of $nbtotalofrecord (#30183)\nFIX: Bad count of total of supplie rinvoice into the list\nFIX: Better compatibility when objectdesc is not valid, and warnings\nFIX: broken pdf preview when multicompany sharing (#30188)\nFIX: compatibility with MULTICOMPANY_TRANSVERSE_MODE (#30599)\nFIX: Conflict with autoload (#30399)\nFIX: Display the real_PMP on inventory when its value is equal to 0 (#22291)\nFIX: Error mesg show untranslated extrafield name (#30227)\nFIX: executeHooks $object default value (#29647)\nFIX: expedition PDF models using units labels (#30358)\nFIX: Extrafield intshowzero in list (#29789)\nFIX: Extrafields always been delete and re insert for categories (#29781)\nFIX: extrafields on Organized events was broken\nFIX: fatal error on loading pictures in attached documents of an event (#30553)\nFIX: for country type (#29745)\nFIX: group by qty in product margin tab (#29853)\nFIX: init total amounts in margin module (#29854)\nFIX: issue to get the right files exported in Quadratrus export.php (#30004)\nFIX: lang output for sales representative on PDF (#30469)\nFIX: langs in common docgenerator (#29774)\nFIX: langs overwrite (#29630)\nFIX: lettering (auto) for invoice deposit with company discount (#29633)\nFIX: missing $object and $action for hook parameters (#30484)\nFIX: Missing $param in hook call for list\nFIX: Missing expense report picto in list (#29917)\nFIX: Missing expense report picto in menu (#29908)\nFIX: Missing the description in tooltip when option show in tooltip on\nFIX: mo cloning (#29686)\nFIX: modification date from label in accounting bookkeeping list (#30038)\nFIX: move porpale ref pdf cornas (#29989)\nFIX: Not qualified lines for reception (#29473)\nFIX: on change ref for bank account attachment are lost (#30529)\nFIX: orders to bill menu (#30179)\nFIX: Page expands when ticket messages are too long (#29785)\nFIX: parameter name (#29666)\nFIX: PHP8 warning if $conf->reception is checked the old fashion way (#29697)\nFIX: PHP 8 warning on output of successful cronjob (#29922)\nFIX: PHP exception on getSpecialCode (#29646)\nFIX: php warning if cookie doesn’t exist (#29723)\nFIX: pos: invoice date incorrectly set because of timezome mismatches (reverts #36e91da) (#30184)\nFIX: public project form return an error if SOCIETE_EMAIL_UNIQUE (#29942)\nFIX: REPLENISH MANY FOURN WHEN ORDER ALREADY CREATE (#29710)\nFIX: Supplier Order search on date valid (#30448)\nFIX: Ternary operator condition is always true/false (#29649)\nFIX: to avoid error during upgrade with pgsql (#30443)\nFIX: transfer in accountancy for expense reports.\nFIX: uninitialised var (#29728)\nFIX: - Unknown Character on HTML (#30257)\nFIX: Unsigned propal having signing date (#29825)\nFIX: Update asset.class.php\nFIX: update date_echeance of supplier invoices when we update invoice date in the past (#29886)\nFIX: User List - Function is show in wrong column when module HRM enabled (#30186)\nFIX: var name error and remove useless code (#30601)\nFIX: Warning: Undefined property: PropaleLigne::$situation_percent in /home/httpd/vhosts/aflac.fr/domains/dol190.aflac.fr/httpdocs/core/lib/pdf.lib.php on line 2442 (#30033)\nFIX: wrong value for duration unit (#30261)\nFIX: The ZAR currency must show the R before the amount\n\n***** ChangeLog for 19.0.2 compared to 19.0.1 *****\nFIX: $object->oldcopy may be a stdClass and not original object\nFIX: 16.0 - parent company gets emptied when updating a third party from the card in edit mode (#28269)\nFIX: 16.0 - the e-mail templates configured in the notification module are not used if the recipient is a fixed e-mail address (#29407)\nFIX: 17.0 - $num doesn't take trigger-modified newref into account, leading to inconsistencies if BILL_SUPPLIER_VALIDATE changes the invoice's ref (#28684)\nFIX: #22948\nFIX: #24265 regression cannot see all product on takepos (#28753)\nFIX: #26015\nFIX: #28205\nFIX: #28251 Fixing subpermission name on api_multicurrencies.class.php (#28252)\nFIX: #28347 FIX: occurred#28962 FIX: #29224  FIX: #29035  (#29303)\nFIX: #28369\nFIX: #28429\nFIX: #28491 (#28522)\nFIX: #28518 (#28520)\nFIX: #28533 Mo::deleteLine removes the \"main\" MoLine if consumed line is delete (#28535)\nFIX: #28564\nFIX: #28978 FIX: #28976\nFIX: #29029 Impossible to delete an order line\nFIX: #29114 Missing contact term in intervention\nFIX: #29114 Translate contact term in intervention\nFIX: #29225\nFIX: #29229\nFIX: #29333 supplier order extrafields of link type displays error (#29334)\nFIX: #29496 - filtering a record should not hide its child not filtered\nFIX: #29531\nFIX: Accolad\nFIX: Accountancy export with file or not\nFIX: Accountancy - Not trunc id_import\nFIX: accounting FEC import (Issue #28306) (#29414)\nFIX: Adding the dependencies list feature for extrafields \"select\" (#28549)\nFIX: Add new hidden conf \"DISABLE_QTY_OVERWRITTEN\" (#28523)\nFIX: Amount of localtaxes in foreign currency was wrong on screen and PDF\nFIX: an error in a complex else condition\nFIX: an error occurred when doing a mass vat change de 0% on supplier invoice (#29417)\nFIX: avoid error \"Column 'entity' in where clause is ambiguous\" (#28270)\nFIX: avoid php warnings (#29247)\nFIX: avoid to delete \"lock\" and \"unlock\" files\nFIX: avoid Unknown column 'pfp.ref_fourn' (#28145)\nFIX: avoid warning \"error parsing attribute name in Entity\" (#28543)\nFIX: background color for enabled modules (#29378)\nFIX: Bad column for total in bom list\nFIX: Bad condition on button back to draft on recruitment job.\nFIX: Bad CRLF when sending text only content. Fix dol_htmlwithnojs()\nFIX: Bad management on error creation of bookkeeping\nFIX: Bad picto on list of permission of a user when user not admin\nFIX: bad search on _ char in like when Debugbar is on\nFIX: bad timezone for the start/end date of an event\nFIX: Better test on validity of compute field syntax with parenthesis\nFIX: Blank list when contract was checked in list of tickets (#29528)\nFIX: Button for disabled modules must not appear.\nFIX: categories protection limit\nFIX: close #28279\nFIX: Condition on newDateLimReglement\nFIX: Conflict with autoload\nFIX: contact/address title is always \"New Contact/Address\" even if the contact/address already exists (#29581)\nFIX: Count of virtual stock at Services and MoLine with disabled stock change (#28580)\nFIX: css of background of modules that was black\nFIX: default workstation on BOM\nFIX: disabled pito of menu must be greyed.\nFIX: Display the date according to user language on substitutions (#29510)\nFIX: Don't display column when it's out of date (#28271)\nFIX: duplicate error check (#29433)\nFIX: duplicate with lines: 414-416 (#28358)\nFIX: edit bank suggested for credit transfer payment in invoice setup\nFIX: empty array with php8.2\nFIX: Ergonomic fail  part02 (#29373)\nFIX: Error When cloning fourn price no default value for tva_tx (#28368)\nFIX: Error when updating user (#29304)\nFIX: fatal error Unsupported operand types when recording load payment\nFIX: Fix create shipping with product who have negative stocks on warehouse but the negative stock transfer is allowed (#26217)\nFIX: Fix save directory for invoice ODT and multientities\nFIX: hasRight function\nFIX: Hide number beside select contract & added langs to translate c… (#29529)\nFIX: Hierarchy Employee view do not filter on employee = 1 (#29496)\nFIX: incorrect page numbering in PDF #29458 (#29476)\nFIX: Inline edition not implemented\nFIX: inventoryDeletePermission id define twice\nFIX: Issue with special characters in French\nFIX: link type extrafield on warehouse not working (#29339)\nFIX: logo and escape in RSS\nFIX: logo of paypal payment on payment page\nFIX: made invalid code shape error more user friendly (#29498)\nFIX: Manual deletion of a bookkeeping line\nFIX: Merge of thirdparties must also move uploaded files\nFIX: migration missing 2 columns in llx_resource and 1 in llx_user\nFIX: missing comma in query (#29435)\nFIX: Missing declaration of type export FEC/FEC2 for export with file source\nFIX: missing entity parameter for ajax_constantonoff\nFIX: missing hide \"new\" button where \"product\" or \"service\" module are disable\nFIX: missing trans\nFIX: Move the trigger for delete order line before the SQL request\nFIX: MRP divide product not working\nFIX: multiple problems with multicompany\nFIX: navigation after filter in subaccount\nFIX: notification: error 500 in fixed emails due to a bad copy/paste (#29580)\nFIX: notification module: for supplier orders (any of the 3 triggers), user can choose an e-mail template in conf, but the conf is not used when sending the notification (#28216)\nFIX: not redirtect when error occurs on updating card (#29388)\nFIX: Not trancate the multicurrency rate shown on cards (even if the global MAIN_MAX_DECIMALS_SHOWN is set to 0) (#28211)\nFIX: Oauth login\nFIX: Option MAIN_DOC_USE_TIMING can be a string with date format\nFIX: Payment on customer invoice - Remove accountid in url if empty for apply default value (#28156)\nFIX: Pb in redirect of a website page in USEDOLIBARRSERVER mode\nFIX: PDF Fatal error : Backport fix from  #23972\nFIX: PDF Translations Extrafields\nFIX: permission on payment file of a tax\nFIX: peut pas faire mieux !\nFIX: php8: Fatal when empty $tmpvat is an empty string (no silent conversion to '0' when used in arithmetic operations) (#29451)\nFIX: php warning global conf (#29478)\nFIX: PHP Warning: Undefined array key \"totalam\" on line 1890 (#29489 #29578 #29487)\nFIX: PHP Warning: Undefined properties\nFIX: PHP Warning: Undefined variable $lib (#28342)\nFIX: PHP Warning: Undefined variable $mode (#28697)\nFIX: PHP Warning: Undefined variable $socid on line 55 (#29490)\nFIX: PHP Warning: Undefined variable $tva_npr in /fourn/facture/card.php on line 1695 (#29593)\nFIX: Picto for mime in top menu\nFIX: position of field in list of field in shipment list\nFIX: postgresql error (#28542)\nFIX: PUT /thirdparties/{id} and PUT /contacts/{id} should throw exception if update returns < 0 (#29596)\nFIX: quote in sql request\nFIX: Regression #29340\nFIX: Repair the replenishment list (#29336)\nFIX: Responsive on admin project\nFIX: round capital societe (#29211)\nFIX: Row size of role contact in thirdparty (#29456)\nFIX: Scale for the \"second\" unit (#29327)\nFIX: search and add extrafields to tasks when conf disabled (#29542)\nFIX: Shipment closing action has wrong value (#28174)\nFIX: skip adding tab if user doesn't have permission (#28698)\nFIX: sometimes a string type instead integer is return, why ?\nFIX: some tooltips has disappeared on invoice action button\nFIX: Special code is now transmitted by args only in order supplier (#28546 #28619)\nFIX: SQL syntax error in DDLUpdateField\nFIX: StockTransfer class has no table_element_line\nFIX: subscription must be editable when accounting isn't reconciled (#28469)\nFIX: supplier price duplicate entry on update supplier product ref (#29290)\nFIX: Support of lot serial not working on TakePOS\nFIX: syntax error (but same result) :-)\nFIX: TakePOS | Add product / Delete line of existing invoice\nFIX: TASK_CREATE Trigger (#29483)\nFIX: The filter ! was broken in emailcollector\nFIX: The localtax must be exported only if activated\nFIX: Ticket new message notification sent twice\nFIX: trackid and temp dir on payment confirmation of event registration\nFIX: Translation for select  (#28677)\nFIX: Undefined array key default on fields (#29243)\nFIX: upload odt files should not start/end with space\nFIX: use $conf->browser->os instead\nFIX: used hasRight function\nFIX: Value of field int = 0 from modulebuilder must not be set to null\nFIX: We should be able to add a workstation on bom lines (#29361 #29360)\nfix: when invoice is created by WORKFLOW_ORDER_AUTOCREATE_INVOICE on ORDER_NEW, the invoice must have the default bank account of the thirdparty is it's empty on order\nFIX: wrong array key (#29317)\nFIX: Wrong currency shown in TakePOS payment page\nFIX: wrong shortcut key for macintosh\nFIX: wrong sql request with product category filter\nFIX: wrong stock permission number\nNEW: Constant to select if typent helps define whether the thirdparty is a company\nNEW: Support Reply-To tracking in emails sending (tickets only for the\nSEC: #yogosha21416\nSEC: Add a protection against installation of external module bypassing\nSEC: A user with export permission can export module data without permissions on module.\n\n***** ChangeLog for 19.0.1 compared to 19.0.0 *****\n\nFIX: 16.0 - parent company gets emptied when updating a third party from the card in edit mode (#28269)\nFIX: 17.0: $num doesn't take trigger-modified newref into account, leading to inconsistencies if BILL_SUPPLIER_VALIDATE changes the invoice's ref (#28684)\nFIX: #22948\nFIX: #24265 regression cannot see all product on takepos (#28753)\nFIX: #28205\nFIX: #28251 Fixing subpermission name on api_multicurrencies.class.php (#28252)\nFIX: #28369\nFIX: #28429\nFIX: #28491 (#28522)\nFIX: #28518 (#28520)\nFIX: #28533 Mo::deleteLine removes the \"main\" MoLine if consumed line is delete (#28535)\nFIX: #28564\nFIX: Adding the dependencies list feature for extrafields \"select\" (#28549)\nFIX: Add new hidden conf \"DISABLE_QTY_OVERWRITTEN\" (#28523)\nFIX: Amount of localtaxes in foreign currency was wrong on screen and PDF\nFIX: an error in a complex else condition\nFIX: avoid error \"Column 'entity' in where clause is ambiguous\" (#28270)\nFIX: avoid Unknown column 'pfp.ref_fourn' (#28145)\nFIX: avoid warning \"error parsing attribute name in Entity\" (#28543)\nFIX: Bad column for total in bom list\nFIX: Bad condition on button back to draft on recruitment job.\nFIX: Bad CRLF when sending text only content. Fix dol_htmlwithnojs()\nFIX: Bad picto on list of permission of a user when user not admin\nFIX: bad timezone for the start/end date of an event\nFIX: Better test on validity of compute field syntax with parenthesis\nFIX: close #28279\nFIX: Count of virtual stock at Services and MoLine with disabled stock change (#28580)\nFIX: disabled picto of menu must be greyed.\nFIX: Don't display column when it's out of date (#28271)\nFIX: duplicate with lines: 414-416 (#28358)\nFIX: edit bank suggested for credit transfer payment in invoice setup\nFIX: Error When cloning fourn price no default value for tva_tx (#28368)\nFIX: fatal error Unsupported operand types when recording load payment\nFIX: Fix create shipping with product who have negative stocks on warehouse but the negative stock transfer is allowed (#26217)\nFIX: migration missing 2 columns in llx_resource and 1 in llx_user\nFIX: missing trans\nFIX: notification module: for supplier orders (any of the 3 triggers), user can choose an e-mail template in conf, but the conf is not used when sending the notification (#28216)\nFIX: Not trancate the multicurrency rate shown on cards (even if the global MAIN_MAX_DECIMALS_SHOWN is set to 0) (#28211)\nFIX: Option MAIN_DOC_USE_TIMING can be a string with date format\nFIX: Payment on customer invoice - Remove accountid in url if empty for apply default value (#28156)\nFIX: Pb in redirect of a website page in USEDOLIBARRSERVER mode\nFIX: permission on payment file of a tax\nFIX: PHP Warning: Undefined variable $lib (#28342)\nFIX: PHP Warning: Undefined variable $mode (#28697)\nFIX: Picto for mime\nFIX: Picto in top menu\nFIX: position of field in list of field in shipment list\nFIX: postgresql error (#28542)\nFIX: quote in sql request\nFIX: Responsive on admin project\nFIX: Shipment closing action has wrong value (#28174)\nFIX: skip adding tab if user doesn't have permission (#28698)\nFIX: some tooltips has disappeared on invoice action button\nFIX: Special code is now transmitted by args only in order supplier (#28546)\nFIX: Special code is now transmitted by args only in order supplier (#28619)\nFIX: subscription must be editable when accounting isn't reconciled (#28469)\nFIX: Translation for select  (#28677)\nFIX: upload odt files should not start/end with space\nFIX: Value of field int = 0 from modulebuilder must not be set to null\nFIX: Wrong currency shown in TakePOS payment page\nFIX: #yogosha21416\n\n\n***** ChangeLog for 19.0.0 compared to 18.0.0 *****\n\nFor users:\n----------\nNEW: Compatibility with PHP 8.2 (warning must be disabled)\nNEW: Module Workstation (used to enhance the module BOM and Manufacturing Order) is now stable\nNEW: Add a CLI tool to regenerate all documents\nNEW: Add a confirmation popup when deleting extrafields\nNEW: Add type 'icon' type for extrafields\nNEW: #20930 Use ajax for state loading after country change\nNEW: #23331 Add support for parent projects (#24856)\nNEW: #22531 Expense report - Add two fields into export : Qty & Unit price (excl.) (#26309)\nNEW: #22626 date filter thirdparties contracts projects (#22707)\nNEW: #24085 Add the Project filter\nNEW: #25312 Support extrafields in selectForForms\nNEW: #26312 Manage intermediate BIC - SQL Part (#26325)\nNEW: Accountancy: Add quick navigation with keyboard shortcut on ledger (#26221)\nNEW: Accountancy: FEC/FEC2 format export with attachments (#26192)\nNEW: Accountancy: Option to choose length of lettering code\nNEW: Accountancy: Chart of accounts ES PCG08-PYME-CAT in catalan language\nNEW: added a button to create a product or a service from an order or an invoice (#26173)\nNEW: added a button to re-encrypt data of a dolcrypt extrafield password\nNEW: added a goto url from smartphone search page\nNEW: added all id prof checker on thirdparty for code compta customer and supplier\nNEW: added protection on purgeFiles\nNEW: added a constant to check if qty shipped not greater than qty ordered\nNEW: added context for the movement stock (role toconsume/toproduce) on mrp\nNEW: added contract link on ticket\nNEW: added column 'Technical ID' in list of details lines of an order (#26164)\nNEW: added custom compute for exports\nNEW: added custom text on footer total (#26334)\nNEW: added different picto for each type of extrafields (date, string, ...)\nNEW: added a popup on validation instead of a database field to know if the user wants to include subwarehouse\nNEW: added the field \"include_sub_warehouse\" in the table \"llx_inventory\"\nNEW: added VAT free & VAT amounts on payment input\nNEW: added ext payment system ID in the payment page with link to Stripe\nNEW: added field Technical ID in list of users\nNEW: added filter on status of line of a dictionary\nNEW: added get_substitutionarray_other() on shipping odt (#25080)\nNEW: added IdProfCheck on thirdparty for BE (xxxx.xxx.xxx)\nNEW: added index on prelevement_demande\nNEW: added invoice subtype in customer invoice (#26543) and template invoice (SQL part) (#26535)\nNEW: added a label to price level when changing price (#26240)\nNEW: added modifications of template invoices into agenda\nNEW: added more company information (ProfId7 to 10) (#25266)\nNEW: added more information to holiday mailings (#25461)\nNEW: added more param on fetch() to prepare perf optimization\nNEW: added more tables activated by module activation only\nNEW: added new field into $fields array + Creation of the function getChildWarehouse()\nNEW: added option for cancel consumed and produced lines (delete lines and rollback stocks) when delete or cancel an manufacturing order (#26254)\nNEW: added option in PDF for purchase order and quotation to hide prices\nNEW: added order supplier submit notif\nNEW: added parent product column on list\nNEW: added picto in product/service list in object lines (#25511)\nNEW: added possibility to choose separator #21426\nNEW: added preselected update keys attribute to import class and select it by default if filled\nNEW: added recurring behaviour\nNEW: added recursive deletion option for child MOs (#26102)\nNEW: added refactoring user permission (#26162)\nNEW: added sorting of product price list by customer (#26483)\nNEW: added tab Events/Agenda on recurring invoices\nNEW: added the formEditObjectLine hook on commande card and invoice card\nNEW: added the picto phone of thirdparty on the kanban view of projects\nNEW: added the status of partnership to select partnership for emailing\nNEW: added Ticket tab on contract\nNEW: Agenda: agenda per user use quarter hour split instead of half hour split\nNEW: Allow generation of delivery note through REST-API (#26226)\nNEW: Allow sync of currency rates with currency layer by default.\nNEW: Allow to have products not managed in stocks - SQL Part (#26190)\nNEW: Assign contact to a ticket message (#24735)\nNEW: Better protection against reserved words\nNEW: billing on shipment+reception. Can be done before or after delivery.\nNEW: can edit bomline workstation\nNEW: Can include product variants in list of products\nNEW: Can manage ODT documents for groups of users.\nNEW: Can restore product in stock when deleting the supplier invoice\nNEW: Can see the favicon file into setup of properties of a website\nNEW: Can switch product batch management to no management. (#21691)\nNEW: Can upload/delete ODT template for project and tasks\nNEW: clone skill object (#26526)\nNEW: column in  table prelevement_lignes for fk_user (#26196)\nNEW: CONF allow modify ticket classification even if closed\nNEW: conf to display date entry stock exped and sort in date order (#22625)\nNEW: Contract: Merge the \"Create ...\" buttons on contract into one.\nNEW: create a product from a free line in a document (#22324)\nNEW: customize position in complete_head_from_modules (#26406)\nNEW: Date d'entree en stock sur les exped au moment de la création -> Stock date on exped at time of creation\nNEW: Date field for shipment export (#25574)\nNEW: Date format dayhoursec is using year on 2 char on smartphones\nNEW: do not add default value in list\nNEW: Donations: Generic doc template for donations (#26338)\nNEW: drop down for action button show a simple button if only 1 action\nNEW: Enhance github_commits_perversion to get more stats on git commits\nNEW: Enhance IPN to support payment_intent.succeeded for both card/ban\nNEW: Exports: added product barcode on stock exports\nNEW: extrafields password accepts 'dolcrypt' algorithm (reversible algo)\nNEW: Factorize a lot of code for numbering modules\nNEW: filter on from/to period rather than month/year (#26378)\nNEW: FontAwesome - added possibility to select another version\nNEW: Get list evaluation with skills details in user fiche (#26510)\nNEW: hidden conf to disable use of dns_get_record (which can become unresponsive) (#26339)\nNEW: HR: PDF Generation for each Human Resource Evaluations\nNEW: improved resource data structure\nNEW: Interventions: close notification for interventions\nNEW: Inventory: include sub warehouse in inventory\nNEW: Inventory: inventory without virtual products (kits)\nNEW: Invoices: subtypes for customers and vendors (#26233)\nNEW: Invoices: start and end date for due date filter on invoice list\nNEW: Invoice time from task, make task note better display in invoice line\nNEW: lazy load to substitute project variables (#26451)\nNEW: LDAP: Active Directory UserAccountControl (#25507)\nNEW: Library including math and financial functions (#25035)\nNEW: Loan: can upload a file with drag and drop\nNEW: Manage rate indirect. (#26449)\nNEW: Manufacturing Order: add edit line on MO (#26122)\nNEW: memorize model name for PDF hooks\nNEW: Menu editor is responsive\nNEW: ModuleBuilder: Can modify the picto into ModuleBuilder\nNEW: ModuleBuilder: Form for add object's property on ModuleBuilder\nNEW: More accurate tooltip on what admin permissions are\nNEW: (#24834) new option for hide the footer (#25464)\nNEW: (#25044) new option for choose project visibility\nNEW: new option for hide the footer of tickets on the public interface\nNEW: no need to create invoice supplier object on supplier card for standalone credit note\nNEW: Open-Surveys: Add a public page to list all open surveys\nNEW: Option to show label, ref+label or only ref of product in TakePOS\nNEW: payment full amount detail tooltip\nNEW: Payments: Can edit both the Test and Live stripe customer account on payment\nNEW: possibility to deselect line when create a recurring invoice + missing to use fk_parent_line\nNEW: Projects: List - use select2 multiselect for status\nNEW: Projects: massactions to delete projects\nNEW: Propagate invoice extrafields into template invoice (#26529)\nNEW: remove include_subwarehouse form llx_inventory database table\nNEW: resource improvements - data structure (#26285)\nNEW: Retrieve VAT details from the Greek Ministry of Finance GSIS SOAP web service and autocomplete third party fields\nNEW: Right for stats orders (#24607)\nNEW: rights and check access to create portal accounts\nNEW: Row in list higher height (#26177)\nNEW: Salaries: Can generate SEPA files for salaries (#26541)\nNEW: Save date of RUM creation when creating a Stripe SEPA mandate\nNEW: Shipments: can include service (for information and invoicing) (#26407)\nNEW: Show id of module on the tooltip module help page\nNEW: show VAT free amount on payment input close #26208 (#26209)\nNEW: Sub total in list (#26165)\nNEW: Support html content for combo list of email recipient\nNEW: TakePOS: add constant to check qty asked is available (#24820)\nNEW: TakePOS: add constant to choose contact instead of customer (#24807)\nNEW: TakePOS: amount label with or without tax in free product (#24829)\nNEW: TakePOS: compatibility with lots and serials (#26426)\nNEW: TakePOS: use default customer, category and product when enable TakePOS (#25031)\nNEW: TakePOS: added option TAKEPOS_HIDE_PRODUCT_PRICES to hide prices in TakePOS\nNEW: Tickets: add and list external contributors on ticket public interface\nNEW: Third-Parties: add total line to third-parties list (#26148)\nNEW: Tooltips are using ajax by default\nNEW: Website: Support of js into the Dolibarr server preview\nNEW: Top menu support picto of modules that are font awesome picto.\nNEW: updating by adding massactions for delete projects in societe tab\nNEW: updating by adding tooltip for api section in Modulebuilder\nNEW: updating by adjust request SQL for Salary invoice (#26279)\nNEW: updating for display Help title when try to delete Don (issue  #25314)\nNEW: Upgrade in module builder in menu section\nNEW: use account address in sepa mandate (#23642)\nNEW: VAT rate - Add entity\nNEW: Website: Support of js into the Dolibarr server preview\nNEW: When an user unset the batch management of products, transformation of each batch stock movement in global stock movement\n\n\nFor developers or integrators:\n------------------------------\n\nQUAL Reduce very seriously the technical debt (using PHPStan, Psalm and Rector)\nNEW Tool in dev/tools/rector to autofix code using style coding practice rules\n\nSECURITY\nSEC: #25512 applicative anti bruteforce - security on too many login attempts (#25520)\nSEC: added action confirm_... as sensitive to need a CSRF token\nSEC: Disable not used PHP streams\nSEC: added option MAIN_RESTRICTHTML_ONLY_VALID_HTML_TIDY\n\nPERFORMANCE\nPERF: Removed a useless fetch_thirdparty\nPERF: Perf avoid 2 useless fetch into the triggers of agenda.\nPERF: performance & code quality enhancements template sections\n\nQUALITY\nQUAL: Remove hardcoded code for OVH sms. Generic method is ok now.\nQUAL: Code fix using rector\nQUAL: Force subclass MINVERSION (#26314)\nQUAL: group all flag images into 1 sprite file. (#26459)\nQUAL: Move conf->global into getDolGlobal...\nQUAL: Refactor merging companies and fix #26272 with Reception objects (#26320)\nQUAL: Removed deprecated field remise, remise_percent, remise_absolute\nQUAL: Standardize code and look and feel for dictionaries\nQUAL: Standardize code. Renamed ID of user properties into ->user_xxx_id\nQUAL: Use dol_clone with parameter 2 for ->oldcopy\nQUAL: use switch case instead of if elseif statements for actions\nQUAL: Better respect of REST API RFC.\n\nHooks:\nNEW: [Add hook in user bank page]\nNEW: #19501 Add two hooks in dolreceiptprinter.php (#26439)\nNEW: Accountancy - Add hooks on PrintFieldList for expensereportsjournal, purchasesjournal, sellsjournal\nNEW: add hook on selectLotDataList() function (#25368)\nNEW: add Hooks and prepare extrafields management for product invoices consumptions (#26280)\nNEW: add hooks on import, step 5 - 6 (#24915)\nNEW: add hook tabContentCreateSupplierOrder (#26418)\nNEW: add hook tabContentViewSupplierInvoice (#26431)\nNEW: add new hook AfterImportInsert\nNEW: add new hook OrderCard (#26380)\nNEW: add new hook tabContentCreateOrder (#26408)\n\nTriggers:\nNEW: Trigger: add trigger COMPANY_RIB_XXX already present in companybankaccount.class.php\nNEW: Trigger: add trigger on import success\nNEW: Trigger: add trigger when deleting a bank account line\nNEW: Trigger: subproduct triggers in product class (#25142)\n\nModuleBuilder:\nNEW: ModuleBuilder: add section changeLog to Doc in MB\nNEW: ModuleBuilder: Add api url to documentation in ModuleBuilder\nNEW: ModuleBuilder: Checkin comments begin and end before each actions\nNEW: ModuleBuilder: edit properties in description tab for ModuleBuilder\nNEW: ModuleBuilder: remove dictionary in ModuleBuilder\nNEW: ModuleBuilder: add page for create dictionary\nNEW: ModuleBuilder: add badge for each tabs\nNEW: ModuleBuilder: for edit name of dictionary and delete it in MB\n\nNEW: add a $notrigger param to Product::updatePrice() method (#26404)\nNEW: add a rule to fix empty($conf->global->...) into !getDolGlobal...\nNEW: add column extraparams on societe_rib\nNEW: add phpunit for REST API of contacts\nNEW: add barcode function to check if EAN13 is valid\n\n\nWARNING:\n--------\n\nThe following changes may create regressions for some external modules, but were necessary to make Dolibarr better:\n* Recheck the setup of your module Workflow to see if you need to enable the new setting to have shipment set to billed automatically when\n  an invoice from a shipment is validated (and if your process is to make invoice on shipment and not on order), because this setup has changed.\n* The hook changeHelpURL is replaced by llxHeader\n* The property ->brouillon has been removed from all classes. It was not reliable and was a duplicate of ->status == self::STATUS_DRAFT.\n* The duplicated and deprecated property ->date_livraison that was renamed into ->delivery_date has been completely removed.\n* The property ->user_close to store ID of closing user has been renamed into ->user_closing_id.\n* The property ->user_validation to store ID of user validating has been renamed into ->user_validation_id.\n* The property ->user_creation to store ID of user of creation has been renamed into ->user_creation_id.\n* The property ->user_modification to store ID of user of modification has been renamed into ->user_modification_id.\n* The private array ->status_short, ->statuts and ->status_long are now array ->labelStatusShort and ->labelStatus everywhere.\n* The duplicate property ->user_creat, ->date_creat, ->date_valid have been removed (use instead user_creation, date_creation, date_validation).\n* The method get_substitutionarray_shipment_lines() has been removed. Use the generic get_substitutionarray_lines() instead.\n* The method ProductcustomerPrice->fetch_all_log() has been renamed into camel case ->fetchAllLog()\n* It was possible to use a variable $soc or $right inside a PHP code condition of some extrafields properties, this is no more true (this 2 variables are no more global variables).\n* New hook files of modules actions_mymodule.class.php should now \"extends CommonHookActions\"\n* Endpoint for API /partnershipapi and /recruitment has been renamed into /partnerships and /recruitments to follow name conventions.\n* Hidden option ACCOUNTANCY_AUTOFIX_MISSING_LINK_TO_USER_ON_SALARY_BANK_PAYMENT has been renamed into ACCOUNTANCY_AUTOFIX_MISSING_LINK_TO_USER_ON_SALARY_BANK_PAYMENT\n* The delete() method of AdherentType, Contact, Delivery, MultiCurrency, CurrencyRate now need $user as first parameter.\n* A very high number of class properties (with old name in french) are now deprecated in favor of the property name in english.\n* The load of hook context productdao has been removed before calling loadvirtualstock. Modules must use the context of main parent page or 'all' for all cases.\n\n\n***** ChangeLog for 18.0.6 compared to 18.0.5 *****\nFIX: 16.0 - parent company gets emptied when updating a third party from the card in edit mode (#28269)\nFIX: 16.0 - the e-mail templates configured in the notification module are not used if the recipient is a fixed e-mail address (#29407)\nFIX: 17.0: $num doesn't take trigger-modified newref into account, leading to inconsistencies if BILL_SUPPLIER_VALIDATE changes the invoice's ref (#28684)\nFIX: 17.0: fatal when updating recurring supplier invoice line with php8 ($remise_percent is '' instead of 0) (#31713)\nFIX: 17.0: supplier invoice template card: buyer and seller swapped in VAT-related function calls (probably a copy-paste from customer invoice templates) (#31446)\nFIX: #24265 regression cannot see all product on takepos (#28753)\nFIX: #25853 Thirdparty Massaction (#25868)\nFIX: #28205\nFIX: #28251 Fixing subpermission name on api_multicurrencies.class.php (#28252)\nFIX: #28369\nFIX: #28518 (#28520)\nFIX: #28978 FIX: #28976\nFIX: #29029 Impossible to delete an order line\nFIX: #29114 Missing contact term in intervention\nFIX: #29114 Translate contact term in intervention\nFIX: #29439 incomplete API return (#29796)\nFIX: #29496 filtering a record should not hide its child not filtered\nFIX: #30010 Use conf TICKET_MESSAGE_MAIL_INTRO instead of translation key (#30081)\nFIX: #30274 Add the include before executing dolibarr_set_const (#30320)\nFIX: #30467\nFIX: #30768 allocate the correct invoice_line_id to the element timespent (#30769)\nFIX: Accountancy export with file or not\nFIX: Accountancy - Generate entries of expense report with localtax (#30411)\nFIX: Accountancy - Not trunc id_import\nFIX: accounting FEC import (Issue #28306) (#29414)\nFIX: Add new hidden conf \"DISABLE_QTY_OVERWRITTEN\" (#28523)\nFIX: Add same security test when uploading files from API than from GUI (#31114)\nFIX: Amount of localtaxes in foreign currency was wrong on screen and PDF\nFIX: an error in a complex else condition\nFIX: ASSET: annual depreciation starting year (Again ;-)) #26084 (#30040)\nFIX: avoid error \"Column 'entity' in where clause is ambiguous\" (#28270)\nFIX: avoid from re-initializing array result on nested hook getEntity (#30626)\nFIX: avoid php warnings (#29247)\nFIX: avoid to delete \"lock\" and \"unlock\" files\nFIX: avoid Unknown column 'pfp.ref_fourn' (#28145)\nFIX: background color for enabled modules (#29378)\nFIX: Backport fix fatal error on price with some truncating setup\nFIX: Backport page inventory.php from v18 to fix pagination bugs causing data loss (#29688)\nFIX: back to page on error in contact card (#29627)\nFIX: Bad calculation of $nbtotalofrecord (#30183)\nFIX: box_actions.php still uses fk_user_done which no longer exists (#31190)\nFIX: can validate shipment without stock movement (#31780)\nFIX: Condition on newDateLimReglement\nFIX: Conflict with autoload (#30399)\nFIX: const  WORKFLOW_RECEPTION_CLASSIFY_NEWD_INVOICE (#31601)\nFIX: contact/address title is always \"New Contact/Address\" even if the contact/address already exists (#29581)\nFIX: Display the date according to user language on substitutions (#29510)\nFIX: Display the real_PMP on inventory when its value is equal to 0 (#22291)\nFIX: Don't display column when it's out of date (#28271)\nFIX: email templates for expense report not visible\nFIX: Error mesg show untranslated extrafield name (#30227)\nFIX: Error message overwrote when a error occurs during update of product multilangs (#30841)\nFIX: Error When cloning fourn price no default value for tva_tx (#28368)\nFIX: executeHooks $object default value (#29647)\nFIX: expedition PDF models using units labels (#30358)\nFIX: Extrafield following between rec invoice and classic invoice (#31445)\nFIX: fatal error on loading pictures in attached documents of an event (#30553)\nFIX: fatal error Unsupported operand types when recording load payment\nFIX: Fix bug select columns and access to the public ticket list from the public ticket card (case when we have connected to another client before, the track id stocked in session overwrite the new track id from the public ticket card) (#31000)\nFIX: Fix create shipping with product who have negative stocks on warehouse but the negative stock transfer is allowed (#26217)\nFIX: Fix save directory for invoice ODT and multientities\nFIX: group by qty in product margin tab (#29853)\nFIX: Hierarchy Employee view do not filter on employee = 1 (#29496)\nFIX: if you call fetchLines several times, your $object->lines contains duplicates (#31167)\nFIX: If you have no stock of your product, an error is displayed when you delete the reception. (#31504)\nFIX: incorrect page numbering in PDF #29458 (#29476)\nFIX: inventoryDeletePermission id define twice\nFIX: issue on action set condition in particular when you set a deposi… (#31518)\nFIX: issue to get the right files exported in Quadratrus export.php (#30004)\nFIX: lang output for sales representative on PDF (#30469)\nFIX: late order search option (#30692) and propal (#30687)\nFIX: lettering (auto) for invoice deposit with company discount (#29633)\nFIX: made invalid code shape error more user friendly (#29498)\nFIX: Merge of thirdparties must also move uploaded files\nFIX: missing entity parameter for ajax_constantonoff\nFIX: missing hide \"new\" button where \"product\" or \"service\" module are disable\nFIX: mo cloning (#29686)\nFIX: modification date from label in accounting bookkeeping list (#30038)\nFIX: Move the trigger for delete order line before the SQL request\nFIX: multiple problems with multicompany\nFIX: mysql error during dump for enable sandbox M999999 (#31116)\nFIX: notification: error 500 in fixed emails due to a bad copy/paste (#29580)\nFIX: notification module: for supplier orders (any of the 3 triggers), user can choose an e-mail template in conf, but the conf is not used when sending the notification (#28216)\nFIX: Not qualified lines for reception (#29473)\nFIX: not redirect when error occurs on updating card (#29388)\nFIX: Not trancate the multicurrency rate shown on cards (even if the global MAIN_MAX_DECIMALS_SHOWN is set to 0) (#28211)\nFIX: on change ref for bank account attachment are lost (#30529)\nFIX: Option MAIN_DOC_USE_TIMING can be a string with date format\nFIX: orders to bill menu (#30179)\nFIX: Payment on customer invoice - Remove accountid in url if empty for apply default value (#28156)\nFIX: PDF Fatal error : Backport fix from  #23972\nFIX: PDF Translations Extrafields\nFIX: permission on payment file of a tax\nFIX: php8: Fatal when empty $tmpvat is an empty string (no silent conversion to '0' when used in arithmetic operations) (#29451)\nFIX: PHP 8 warning on output of successful cronjob (#29922)\nFIX: PHP exception on getSpecialCode (#29646)\nFIX: php warning global conf (#29478)\nFIX: pos: invoice date incorrectly set because of timezome mismatches (reverts #36e91da) (#30184)\nFIX: public project form return an error if SOCIETE_EMAIL_UNIQUE (#29942)\nFIX: purge files cron: php warnings when rest module enabled (#30919)\nFIX: PUT /thirdparties/{id} and PUT /contacts/{id} should throw exception if update returns < 0 (#29596)\nFIX: Regression #29340\nFIX: Repair the replenishment list (#29336)\nFIX: REPLENISH MANY FOURN WHEN ORDER ALREADY CREATE (#29710)\nFIX: round capital societe (#29211)\nFIX: search and add extrafields to tasks when conf disabled (#29542)\nFIX: show preview pdf list expensereport (#31694)\nFIX: sometimes a string type instead integer is return, why ?\nFIX: Special code is now transmitted by args only in order supplier (#28546) (#28619)\nFIX: SQL syntax error in DDLUpdateField\nFIX: subscription must be editable when accounting isn't reconciled (#28469)\nFIX: substitutions THIRDPARTY_XXX are not available for actioncomm reminders (#31385)\nFIX: Supplier Order search on date valid (#30448)\nFIX: supplier price duplicate entry on update supplier product ref (#29290)\nFIX: syntax error\nFIX: TakePOS | Add product / Delete line of existing invoice\nFIX: Ticket new message notification sent twice\nFIX: transfer in accountancy for expense reports.\nFIX: Unsigned propal having signing date (#29825)\nFIX: Update asset.class.php\nFIX: update date_echeance of supplier invoices when we update invoice date in the past (#29886)\nFIX: use $conf->browser->os instead\nFIX: use price() to display qty on a product's stats tab to avoid showing too many decimals when rounding errors are possible (#31165)\nFIX: User List - Function is show in wrong column when module HRM enabled (#30186)\nfix: when invoice is created by WORKFLOW_ORDER_AUTOCREATE_INVOICE on ORDER_NEW, the invoice must have the default bank account of the thirdparty is it's empty on order (#29462)\nFIX: when qty is not an integer, apply price() (#31138)\nFIX: Wrong currency shown in TakePOS payment page\nFIX: wrong shortcut key for macintosh\nFIX: wrong sql request with product category filter\nFIX: wrong stock permission number\n\n***** ChangeLog for 18.0.5 compared to 18.0.4 *****\nFIX: 17.0: deprecated field should only be a fallback\nFIX: 17.0 - php8 warnings: test for $field existence before checking if it is null or empty\nFIX: #24185: v18: display of the merged pdf lists\nFIX: #26416 BOM_SUB_BOM blank page\nFIX: #27166\nFIX: #27262 Recurrent invoice - user to string conversion\nFIX: #27970 #26283 #27970\nFIX: Accountancy - Level 3 of binding not working on supplier side (#27462)\nFIX: Accounting files export - Use th instead of td on all title columns (#28003)\nFIX: add action update_extras to don card\nFIX: Adding hooks init\nFIX: Adding the $encode parameter to recursive _replaceHtmlWithOdtTag() utilisation\nFIX: add new hook context for mo production card (#28037)\nFIX: avoid from re-initializing result on nested hook getEntity (#27799)\nFIX: avoid sql error (issue #26342)\nFIX: bad accountancy code autoselection for supplier ventilation\nFIX: Bad visible status of proposal after reopen\nFIX: Barcode header cell not well displayed\nFIX: BarCode Header not well displayed\nFIX: Bar code verification should be done by entity because generation does (#28087)\nFIX: can edit reminders on past events\nFIX: check parameter socid before cloning a customer proposal (#28085)\nFIX: crabe PDF is generating in conf->entity instead of object->entity\nFIX: CVE-2024-23817 (#28089)\nFIX: disable pointer events on jQuery-UI tooltips to prevent a glitch (fast-blinking tooltip)\nFIX: Error on emailreminder not reported\nFIX: Fatal error converting object of class User to string (php8)\nFIX: filter by entity on contact is missing\nFIX: Fix supplier invoice security check\nFIX: format of color in manifest is wrong when using a custom color\nFIX: #GHSA-7947-48q7-cp5m\nFIX: HTML injection vulnerability in Dolibarr Application Home Page\nFIX: invoice add line save devise\nFIX: Keep a link to enable a 'always_enabled' module to solve pb.\nFIX: label\nFIX: line special_code never saved (#28051)\nFIX: link to print when there is a search on multiselect fields\nFIX: Menu Create of project no working on smartphone with no top menu.\nFIX: missing $search_sale var (backport from v19)\nFIX: Missing begin transaction when updating supplier recurring invoice\nFIX: missing entity filter for check if period exists\nFIX: more correctly parse the select part to be replaced in sql queries\nFIX: MouvementStock::origin is not an object\nFIX: notification information on intervention validated confirmation message (v17+)\nFIX: not load all contacts by default when creating an event\nFIX: port in Docker MailDev\nFIX: propal use devise changes\nFIX: public user photo not visible if $dolibarr_main_instance_unique_id\nFIX: remove DISTINCT (backport from v19)\nFIX: remove specific name from v19\nFIX: Retours PR\nFIX: Return a better error message when token is not valid\nFIX: search by ref & rowid in don list\nFIX: search by thirdparty in don list\nFIX: several names for one const THIRDPARTY_CAN_HAVE_CUSTOMER_CATEGORY_EVEN_IF_NOT_CUSTOMER_PROSPECT\nFIX: SQL concatenation error\nFIX: [TAKEPOS] display prices with or without taxes depending on setup (TAKEPOS_CHANGE_PRICE_HT)\nFIX: Ternary operator condition is always true/false\nFIX: too long output\nFIX: Undefined property: Task::$fk_parent\nFIX: uniformization to use \"intervention\"\nFIX: Update loan.class.php (#27971)\nFIX: update price extrafield on propal card\nFIX: user filter in per user view of event list (#28049)\nFIX: use the currency for propal signature page\n\n\n***** ChangeLog for 18.0.4 compared to 18.0.3 *****\nFIX: $this->newref already exists and could have been modified by trigger but we still use a local variable for the filesystem-based renaming\nFIX: 16.0 only, backport fix for SQL error on global search product\nFIX: #25399 (#26694)\nFIX: #25458 intervention localizations (backport v17) (#26757)\nFIX: #26518\nFIX: #26536 Accountancy - Balance - Not divided lines by label & account, only by account (#26547)\nFIX: #26553 Supplier invoice - Do not display the delete button for reconciled payment (#26554)\nFIX: #26735\nFIX: #26994\nFIX: Accountancy - Possibility to write in bookkeeping expense report operation with some line not bound (#26545)\nFIX: add display of an error when attempting to delete a committed transaction (#26573)\nFIX: avoid warning : Cannot use a scalar value as an array (#26437)\nFIX: backport SQL error on global search product\nFIX: # Bug Estimated Stock at date value in V14 (#26479)\nFIX: commande context (#26497)\nFIX: delivery note disappear after generation\nFIX: double hook and paging search param in product list (#26767)\nFIX: Email reminder template must not be visible when option is off\nFIX: escape HTML tags in return value of getFullName() (#26735)\nFIX: Fix set private note (#26610)\nFIX: Fix when options FAC_FORCE_DATE_VALIDATION and INVOICE_CHECK_POSTERIOR_DATE enabled. The date is forced after the test and not before\nFIX: menu auguria\nFIX: pagination parameters on save and cancel buttons (#26605)\nFIX: pdf cornas page head multicell width (backport v17)\nFIX: php8 fatal on edit supplier order when multicurrency is activated (#26758)\nFIX: possible inconsistency between llx_ecm_files and file system when BILL_SUPPLIER_VALIDATES changes ref\nFIX: regression on planned bank entries (#26556)\nFIX: Social contribution - Payment list - Wrong information in type column (#26561)\nFIX: special_code update line keep old value. (#26819)\nFIX: substitute project variables in invoice documents (#26445)\nFIX: Test on permission for holiday tooltips\nFIX: v17: Param $notrigger in $societe->create() causes method to return true regardless of actual result of database functions (#26499)\nFIX: v18 SQL error in llx_c_forme_juridique.sql when installing\nFIX: Warehouse Global Amounts not displayed (#26478)\nFIX: warning param $lineID getSpecialCode is negatif (#26826)\nFIX: warning php8.2 undefined_array_key (#26830)\n\n***** ChangeLog for 18.0.3 compared to 18.0.2 *****\nFIX: #25793 Cannot add time spent (#26405)\nFIX: #26100 Ticket - On edit, list of closed project must be excluded (#26223)\nFIX: #26170\nFIX: #26195 Various payment - List of project excluded those assigned to third parties (#26222)\nFIX: #26349 add_customer_ref_on_linked_shipment\nFIX: avoid warning + CSRF\nFIX: avoid warning if module not activated\nFIX: Bad name for trigger in HRM module\nFIX: check tva_tx before comparing price_min_ttc (#25220)\nFIX: Compare the result of the send mail file function\nFIX: dol_eval with function starting with !\nFIX: Error handling for computed values on import (#24897)\nFIX: Error not returned on sales with takepos and batch module enabled\nFIX: error of webhook not returned\nFIX: firstname and lastname were not saved in attendee subscription\nFIX: HTML in ODT templates (#26181)\nFIX: Link to list of movement from the inventory code\nFIX: Mass import of stock from a file must accept empty source\nFIX: Max version of PHP (#26327)\nFIX: missing load group members for ldap synchro (#26167)\nFIX: missing project entity filter (Issue #26243) (#26247)\nFIX: modification of complementary attributes in invoices (#26180)\nFIX: On object validation, ecm index are not updated for uploaded files\nFIX: Propal's negative quantities\nFIX: public subscription page should not display acceptation for public register when it is not enabled (#26354)\nFIX: regression on rounding stocks fields on product list\nFIX: removed a non expected hidden input field in stockatdate page\nFIX: src_object_id and ttype not filed when uploading a file with API.\nFIX: suggested end for membership can be before subscription start (#26351)\nFIX: Supplier card - VAT Reserve Charge - Undefined function isInEEC() (#26379)\nFIX: syntax error\nFIX: template invoice list extrafield filters (backport v17) (#26227)\nFIX: Tooltip for search syntax must not appear on date fields\nFIX: upload of files src_object_type\nFIX: use event.key instead event.which to avoid keyboard difference\nFIX: Use of line->insert instead of line->create\nFIX: user creation when LDAP is configured (#26332)\nFIX: Wrong backtopage given for the stocktransfer button from the stocktransfer list (#26271)\n\n***** ChangeLog for 18.0.2 compared to 18.0.1 *****\nFIX: 17.0 PHP8: supplier invoice class\nFIX: #24908 #25824\nFIX: #25780 Various payment - List - Fatal error on PHP8.x\nFIX: #25884\nFIX: #25919\nFIX: #25934 #25929\nFIX: Accountancy - Update Quadra export format\nFIX: add field \"entity\" only in $tabfieldinsert\nFIX: add warning in the changelog\nFIX: Avoid duplicate popup when popup setup to work as ajax\nFIX: avoid excess line breaks\nFIX: removed some php8 warning\nFIX: avoid wrong backtopage url\nFIX: bad check return for sendfile\nFIX: Bad choice of filter on product/service\nFIX: bad from and to\nFIX: Bad length for value\nFIX: Bad value of accounting account shown in list. Edit fails.\nFIX: batch to update non valid backlink check\nFIX: better sql request for all cases\nFIX: Can't access to rec supplier invoice card\nFIX: Can't delete a fourn commande row if a commande ligne is linked\nFIX: could not delete a fourn commande row if a commande ligne is linked\nFIX: create intervention from time spend\nFIX: customer code search filter on invoice list\nFIX: #CVE-2023-4197\nFIX: date comparison for user expiration on user list\nFIX: Debug the dispatch page to work on corrupted data\nFIX: delete useless condition in massaction_pre\nFIX: Edition of line on the list of timespent for all projects\nFIX: Edition of shipment detail with lot not updating correctly tables\nFIX: emailcollector to search existing thirdparty when extract not found\nFIX: Error message\nFIX: Expense report is created on the wrong entity\nFIX: export FEC\nFIX: Filter on partnership status\nFIX: fix the wrong position of the hook 'printFieldListTitle' and 'printFieldListValue' in the stock at date page\nFIX: If PHPIMAP is active, emailcollector \"recordjoinpiece\" operation will not work\nFIX: include\nFIX: Kanban view\nFIX: link to create purchase order from sale order\nFIX: Look and feel search v18\nFIX: message order in ticket public view is not coherent with tickets events tab\nFIX: missing contact_id for the trigger\nFIX: missing entity filter to customize ticket dictionaries by entity\nFIX: Missing error message on CommandeFourn creation\nFIX: missing fk_account situation invoice\nFIX: missing group \"members\" + multiple broken features for Multicompany\nFIX: missing 'overwrite_trans' for $addzero (Multicompany)\nFIX: modification of complementary attributes in commercial proposals\nFIX: multicompany compatibility\nFIX: multiple broken features for Multicompany !!!!\nFIX: Navigation to/from a project from page of projects of a thirdparty\nFIX: payment : language is not propagated to following pages\nFIX: Prices visible on TakePOS KO with multiprices support\nFIX: product list accounting length\nFIX: Quick search Intervention redirect to wrong page\nFIX: Return right content type\nFIX: right access on salary card and tabs\nFIX: rights paymentsc paiementcharge\nFIX: same broken feature as v18 (Multicompany)\nFIX: Save user modif id when changing a contact status\nFIX: Social Contrib - List - Fatal error on kanban view PHP8.x & Missing colspan\nFIX: thirdparty object in proposal card is not loaded\nFIX: Total of holidays is doubled\nFIX: translation button\nFIX: trigger for email sent from partnership\nFIX: uniformize getEntity sql request\nFIX: use urlencode for origin and originid\nFIX: Various payment - List - Fatal error on php8.1\nFIX: warning when Workboard Responses display non numeric strings\nFIX: wrong place of trigger delete\nFIX: wrong test + is_int is better for negative integer\n\n\n***** ChangeLog for 18.0.1 compared to 18.0.0 *****\nFIX: Adding a product in recurring invoice does not use the correct VAT\nFIX: API /product/getAttributes\nFIX: avoid php8 warnings\nFIX: bad balance of TR tag in multicurrency price view\nFIX: Bad calculation of localtax when price_base_type not defined.\nFIX: Bad link into message\nFIX: Bad message on menu to go to setup of accounting custom groups\nFIX: Bank receipt was empty\nFIX: Billing massaction should be possible on Processed Reception.\nFIX: clone when cloning object with ->lines containing not object\nFIX: Condition to show column POSModule and POSTerminal in invoice list\nFIX: CSS\nFIX: date survey : button to add dates would not work. Session would store cells numbers which would stay to 10 for next surveys created.\nFIX: dir output path for ODT models on reception card\nFIX: Duplicate tooltip on ref of an agenda event\nFIX: encrypt sensitive data must not be done for const MAIN_AGENDA_ACTIONAUTO\nFIX: Export when old file export_csv.modules.php is still present\nFIX: fatal error with bad definition of dictionaries\nFIX: fatal error with some parameters\nFIX: hook formBuilddocOptions was broken when used by 2 modules\nFIX: Line for revenuestamp in accountancy transfer must appear only if it exists\nFIX: Navigation between bank receipts\nFIX: payment card: misleading message when delete button disabled\nFIX: reception odt dir output path\nFIX: SQL request parenthesis\nFIX: Suppliers addlines never have VAT if buyprice for this supplier not set\nFIX: TakePOS receipt preview in admin #25648\nFIX: technical error on conciliation of lines\nFIX: the account in chart of account to use for revenue stamp is on dict\nFIX: url to check keyword not saved on partnership from public form\nFIX: when adding new times on a survey, all hours would be erased.\n\n\n***** ChangeLog for 18.0.0 compared to 17.0 *****\n\nFor users:\n----------\n\nNEW: PHP 8.2 compatibility (not yet complete).\nNEW: Module Workstations Management upgraded to stable status.\nNEW: Module Webhook upgraded to stable status\nNEW: #23436 Group social networks fields\nNEW: Accountancy - Add specific page to export accounting data rather than the journals page\nNEW: Accountancy - Add sub-account balance FPC22\nNEW: Accountancy - Manage customer retained warranty FPC21+\nNEW: Accountancy - Manage intra-community VAT on supplier invoices - FPC22\nNEW: Accountancy - iSuiteExpert export model\nNEW: Accountancy - Quadratus export with attachments in accountancy export\nNEW: Accountancy - Can filter on a custom group of accounts. Perf or ledger list.\nNEW: Accountancy - Can select the export format during export of journals\nNEW: Accountancy - sort of column of custom group of account\nNEW: Can upload a file with drag and drop on purchase invoice, vats, salaries and social contributions\nNEW: Authentication: #22740 add OpenID Connect impl\nNEW: Authentication: add experimental support for Google OAuth2 connection\nNEW: Authentication: can now edit service name for OAuth token\nNEW: add bookmarks in selectable landing pages for users\nNEW: Add column ext_payment_site into societe_rib to allow multiple payment mode\nNEW: add conversion of images to webp for a single image in website media editor\nNEW: Add CRC for currency symbol before amount\nNEW: Add filter on nb of generation done in list of recurring invoices\nNEW: Add filters and sort on product unit column\nNEW: Add link to edit VAT list from error message of missing VAT\nNEW: add margins in paiement/card.php\nNEW: Add mass action delete on VAT\nNEW: Add possibility to choose format #21426\nNEW: An external module can modify the quick search fields\nNEW: Bank:  Bank name no more mandatory on creation. Can be generated if empty.\nNEW: Bank:  Add fields zip, town, country for owner of a bank account\nNEW: batch referential objects\nNEW: Can add the add now link on date into addfieldvalue()\nNEW: Can add an array of several links in date selector\nNEW: Can bin accounting line for a given month\nNEW: Can edit inline the VAT number from supplier tab\nNEW: Can go back to draft on shipment when stock change not on validate\nNEW: Can modify bank account of sepa payment (if file not sent yet)\nNEW: Can set a checkbox in formconfirm by clicking on the label\nNEW: Can set the page \"List of opportunities\" as landing page\nNEW: Can show the SQL request used on emailing selection\nNEW: can stay on edit field when errors occurs\nNEW: comment in api_mymodule for separate methods\nNEW: create email substitution variable for intervention signature URL\nNEW: Contacts: presend mass action in contact list\nNEW: Contacts: hook printFieldListFrom in contact list\nNEW: Customers: add date due and labels into customer comm card\nNEW: Debug the custom CSS feature to avoid a directory search/scan at\nNEW: dev name\nNEW: Disable bad reputation product price\nNEW: Email: autofill email form with the email template with status \"Default\" on\nNEW: Email: don't have closed contact proposed as receiver for the mails\nNEW: Email: can set flag default value on email templates\nNEW: Email-Collector: add field reply-to in email collector as possible filter\nNEW: Email-Collector: substitute date now in email collector\nNEW: Email-Collector: operation type in email collector to load or create contact\nNEW: Email-Collector: easier setup - can also use ! for negative search\nNEW: Email-Templates: show module into list of email templates\nNEW: Events: can add any contact on events if global MAIN_ACTIONCOM_CAN_ADD_ANY_CONTACT is set at 1\nNEW: Events: list with color\nNEW: Events: remove default percentage for event creation url\nNEW: formconfirm can support field with format datetime\nNEW: GeoIP: Can test a geoip conversion from the geoip setup page\nNEW: GUI: add a CSS editor into the admin GUI\nNEW: GUI: add dropdown button actions (example on Create button on project)\nNEW: GUI: color for start date and owner\nNEW: GUI: new tab for reception and shipment\nNEW: GUI: better design for the page of discounts of a thirdparty\nNEW: GUI: can set background style with MAIN_LOGIN_BACKGROUND_STYLE\nNEW: Help: Tooltip to explain how to add a photo on a product\nNEW: Help: Possibility to link to German pages in help\nNEW: helper functions for dates + small demo case\nNEW: HR - Salary: can fill date of salary payment with date of start of salary\nNEW: HR - Salary: can modify the date of payment of a salary (if not reconciled)\nNEW: HR - Salary: date for salary payment includes the hour/min\nNEW: HR - Salary: adding button Send Email on the salary file\nNEW: Import: filter on entity in import\nNEW: Import: map table to element for get entity in import\nNEW: inc.php: handle parameters from argv\nNEW: Installation: Auto activate some modules on install (Export/Import/Wysiwyg editor)\nNEW: Invoice: show category of operations\nNEW: Invoice: add customer code to invoices listing\nNEW: Keep a link between user created from recruitment and application\nNEW: Mass Actions: Better responsive for mass actions\nNEW: Members: add numbering modules for members\nNEW: Members: add widget box_members_by_tags.php\nNEW: Members: Captcha for public member's subscription form\nNEW: migration script + delete old table + rename fields and indexes\nNEW: MRP MO: Dynamic choice of warehouse and batch in MO production.\nNEW: Multicurrency REST API to create, update, delete, update rate...\nNEW: Multiselect for filter on prospection status\nNEW: [Bulk delete Project tasks]\nNEW: No overwrite of optionals during put() contact\nNEW: Notifications: add Customer Order delivered (ORDER_NEW) in module Notification\nNEW: Notifications: for Sign or Refused Propal from Online Page\nNEW: Now we can edit amount on VAT and salaries clone action\nNEW: only get open contact from liste_contact function, to not have access to closed contact as mail receiver\nNEW: Option: MAIN_SECURITY_MAXFILESIZE_DOWNLOADED #yogosha10660\nNEW: Option to manage deposit slips for more payment modes (not only\nNEW: Option to show column for field and line selection on the left\nNEW: Orders: add sub total in order list det\nNEW: Orders: list product in orders\nNEW: Orders export: allow to export field 'shipment method'\nNEW: payment default values when supplier order created from reception\nNEW: Payment: manage contracts\nNEW: Payment: sepaStripe now creates the payment mode with type pm_ using new API\nNEW: Payment: add partial payment reason \"withholding tax\"\nNEW: Payment: Can edit account on miscellaneous payment (if not transferred)\nNEW: Print PDF: category of operation for crabe PDF model\nNEW: Print PDF: Name and date to print on PDF Sign\nNEW: Print PDF: Use the more recent PDF templates for documents by default on a fresh install\nNEW: Print PDF: Option PDF_SHOW_PHONE_AFTER_USER_CONTACT to show phone after specific assigned contact on PDF\nNEW: Print PDF: Option PDF_SHOW_EMAIL_AFTER_USER_CONTACT to show email after specific assigned contact on PDF\nNEW: product images on popup are cached\nNEW: Products: Add origin info when create a product batch when created from a movement stock\nNEW: Products: Add statistics by amount on statistics of products.\nNEW: Products: Add SQL constraint on product_stock table to allow only existing product and warehouse #23543\nNEW: Proposals: filter for Signed+Billed in proposals\nNEW: Proposals: can modify margin rates in offers like VAT rates\nNEW: Proposals: option filter for NoSalesRepresentativeAffected in proposals list\nNEW: Proposals: constant PROPALE_ADDON_NOTE_PUBLIC_DEFAULT\nNEW: Reception: can receive more than qty ordered on reception\nNEW: referential objects of batch\nNEW: remove keys whose table element is the same as element in map list\nNEW: repair script skip views\nNEW: search on time spent duration range\nNEW: Security: Save date to invalidate other session into user table\nNEW: Security: Invalidate all sessions of a user when password is modified.\nNEW: Service Contracts: Filter on amount and qty on list of service's contracts\nNEW: set today start time at beginning\nNEW: Show main currency in company info user tooltip\nNEW: Show supplier invoice ref of direct debit transfer tab invoices\nNEW: Social Networks: expend/collapse list of social networks\nNEW: Stock limit for alert and desired optimal stock by product and warehouse import\nNEW: Stock: Add warehouse create and modify triggers.\nNEW: Stock: Can select several warehouses into the view stock at date in past\nNEW: Stripe: add STRIPE_DEBUG, a way to log Stripe IPN\nNEW: Supplier Invoices: add ability of ODT support to supplier invoices\nNEW: Supplier Order:  show supplier name in getNomUrl of supplier order\nNEW: Supplier Order:  set payment default values when supplier order created from reception\nNEW: Supplier Price:  Add a status on supplier price ref (WIP to close a supplier ref)\nNEW: Support different bank account for several direct debit payments\nNEW: Support multiselect in the warehouse selection combo box\nNEW: Survey: Comment on survey is possible only after vote.\nNEW: TakePOS: adapt category and product pictures sizes on TakePOS\nNEW: TakePOS: limit load products in TakePOS\nNEW: The batch for remind on due date can be setup for using validation date\nNEW: The refresh link for IMAP collector is always visible\nNEW: Third-Party: use an ajax component to switch prospection status on thirdparty list\nNEW: Tickets: Send a notification email when ticket assigned\nNEW: Tickets: set ticket status to answered if the client has answered from the public interface\nNEW: Tickets: added an option to display the progress of tickets on the public interface\nNEW: Tickets: add link to thirdparty tickets history\nNEW: Tickets: notify also the contributor affected to a ticket if a new message public is post (add global TICKET_PUBLIC_NOTIFICATION_NEW_MESSAGE_ALSO_CONTRIBUTOR)\nNEW: Upgrades: The upgrade process can be done by creating a file upgrade.unlock\nNEW: Use a cache file for external RSS in calendar\nNEW: Use by default the domain $dolibarr_main_url_root for SMTP HELO\nNEW: Users: add a public virtual card page for each user\nNEW: VAT can be modified during add of line\nNEW: Website Module: Increment website counter on each page access in website module\nNEW: Website Module: Show counter of access of website in website list\nNEW: Widgets: Show picto into the combobox of widgets\nNEW: Widgets: Implement MAIN_ACTIVATE_FILECACHE on birthday widget\nNEW: Widgets: Add widget \"The next upcoming events\"\nNEW: Widgets: Add widget of open opportunities\n\n\n\nFor developers or integrators:\n------------------------------\n\nNEW: Make it possible to select hours and minutes in form_confirm\nNEW: add triggers on mailing\nNEW: Add a trigger when create a shipping line batch and fix propagate missing errors\nNEW: add function for listing objects from directory\nNEW: add helplist property to describe fields of objects\nNEW: API: Support contact in post() document API\nNEW: API: more APIs (update currency rate, upload of supplier documents, ...)\nNEW: Hooks: printFieldListFrom in contact list\nNEW: Hooks: add hook in loadLotStock() in html.formproduct.class.php file\nNEW: Hooks: add hook 'llxFooter'\nNEW: Hooks: add hook online sign\nNEW: Hooks: add sent info in the parameters provided to the hook sendMailAfter\nNEW: Libraries: Update libs parsedownto 1.7.4, phpspreadsheet lib to v1.12, ESCPOS v3.0, jquery, Stripe.\nNEW: ModuleBuilder: updating in modulbuilder on tab Menu when adding object\nNEW: ModuleBuilder: add/edit permissions\nNEW: ModuleBuilder: better generated documentation\nNEW: add setAsSelectUser into factory for generic setup page\nNEW: add option keepspace into dol_string_nospecialchar()\nNEW: dol_sort_array can sort on alphabetical order even if val is num\nNEW: dolExplodeIntoArray can accept regex\nNEW: element time integration code + SQL\nNEW: tables: llx_element_time to store time spent on several elements (mo, ticket...)\nNEW: Provide the oldcopy value when calling setValueFrom() function with a trigger key\nNEW: getCommonSubstitutionArray to have more substitute keys\nNEW: write all fields and their properties in asciidoc format\n\n\nWARNING:\n\nFollowing changes may create regressions for some external modules, but were necessary to make Dolibarr better:\n* Minimal PHP version is now PHP 7.1 instead of PHP 7.0\n* Sensitive data like keys in setup pages, that need encryption (for example the API keys of users, the CRON security key, the keys into the Stripe module, or\n  external modules setup pages that store sensitive keys or password), are using the $dolibarr_main_instance_unique_id as part of the key for encryption. So,\n  if you restore or duplicate the data from another instance dump, you must also update this parameter in the conf.php file to allow decryption in the new instance, or\n  better, you must reenter the sensitive data into the setup pages of the new instance to resave them correctly.\n  Note that to find all the parameters that are encrypted into the setup database, you can do a \"SELECT * FROM llx_const WHERE value LIKE '%dolcrypt%';\"\n* The deprecated method \"escapeunderscore()\" of database handlers has been removed. You must use \"escapeforlike()\" instead.\n* The method \"nb_expedition()\" has been renamed into \"countNbOfShipments()\"\n* Revert default type of hooks. Default is now 'addreplace' hooks (and exception become 'output' hooks, that become deprecated).\n* Deprecated property libelle removed from entrepot class.\n* The type 'text' in ->fields property does not accept html content anymore. Use the type 'html' for that.\n* The module for WebService SOAP API have been deprecated. Use instead the Webservice REST API module.\n* The method htmlPrintOnlinePaymentFooter() used for public footer pages has been renamed into htmlPrintOnlineFooter() and moved into company.lib.php\n* The method getCheckOption() and deleteCPUser() of class Holiday has been removed (it was not used)\n\n\n***** ChangeLog for 17.0.4 compared to 17.0.3 *****\nFIX: $this->newref already exists and could have been modified by trigger but we still use a local variable for the filesystem-based renaming\nFIX: 16.0 only, backport fix for SQL error on global search product\nFIX: 17.0: deprecated field should only be a fallback\nFIX: 17.0 PHP8: supplier invoice class:\nFIX: 17.0 - php8 warnings: test for $field existence before checking is_null\nFIX: #25399 (#26694)\nFIX: #25458 intervention localizations (backport v17) (#26757)\nFIX: #25580 install/step1.php - wrong command line argument used for $main_dir (#25581)\nFIX: #25919\nFIX: #25934 #25929\nFIX: #26100 - Ticket - On edit, list of closed project must be excluded (#26223)\nFIX: #26195 - Various payment - List of project excluded those assigned to third parties (#26222)\nFIX: #26735 FIX: #26994\nFIX: #27262 Recurrent invoice - user to string conversion\nFIX: Accountancy - Possibility to write in bookkeeping expense report operation with some line not bound (#26545)\nFIX: Accountancy - Update Quadra export format\nFIX: add action update_extras to don card\nFIX: add_customer_ref_on_linked_shipment (#26349)\nFIX: add display of an error when attempting to delete a committed transaction (#26573)\nFIX: Adding the $encode parameter to recursive _replaceHtmlWithOdtTag() utilisation\nFIX: add warning in the changelog\nFIX: avoid php8 warnings (#25596)\nFIX: avoid warning : Cannot use a scalar value as an array (#26437)\nFIX: Backport memory fix for fatal error when +100000 products\nFIX: backport SQL error on global search product\nFIX: bad accountancy code autoselection for supplier ventilation\nFIX: Bad calculation of localtax when price_base_type not defined.\nFIX: bad check return for sendfile\nFIX: bad from and to\nFIX: Bad value of accounting account shown in list. Edit fails.\nFIX: Barcode header cell not well displayed\nFIX: Bar code verification should be done by entity because generation does (#28087)\nFIX: # Bug Estimated Stock at date value in V14 (#26479)\nFIX: Can't access to rec supplier invoice card\nFIX: Can't delete a fourn commande row if a commande ligne is linked\nFIX: check tva_tx before comparing price_min_ttc (#25220)\nFIX: commande context (#26497)\nFIX: compare the result of the send mail file function\nFIX: could not delete a fourn commande row if a commande ligne is linked\nFIX: count cronjob list differs of lines shown nb\nFIX: crabe PDF is generating in conf->entity instead of object->entity\nFIX: creation of invoice from contract with discount lines\nFIX: CVE-2024-23817 (#28089)\nFIX: dir output path for ODT models on reception card\nFIX: disable pointer events on jQuery-UI tooltips to prevent a glitch (fast-blinking tooltip)\nFIX: Error handling for computed values on import (#24897)\nFIX: escape HTML tags in return value of getFullName() (#26735)\nFIX: export FEC\nFIX: Fatal error converting object of class User to string (php8)\nFIX: fatal error with bad definition of dictionaries\nFIX: filter by entity on contact is missing\nFIX: Fix supplier invoice security check\nFIX: HTML in ODT templates (#26181)\nFIX: include\nFIX: label\nFIX: line special_code never saved (#28051)\nFIX: link to create purchase order from sale order\nFIX: menu auguria\nFIX: message order in ticket public view is not coherent with tickets events tab\nFIX: Missing begin transaction when updating supplier recurring invoice\nFIX: missing contact_id for the trigger\nFIX: Missing error message on CommandeFourn creation\nFIX: missing fk_account situation invoice\nFIX: missing project entity filter (Issue #26243) (#26247)\nFIX: modification of complementary attributes in commercial proposals\nFIX: modification of complementary attributes in invoices (#26180)\nFIX: more correctly parse the select part to be replaced in sql queries\nFIX: not create/update extrafields for visibility 0,2 and 5\nFIX: notification information on intervention validated confirmation message (v17+)\nFIX: payment card: misleading message when delete button disabled\nFIX: payment : language is not propagated to following pages\nFIX: pdf cornas page head multicell width (backport v17)\nFIX: possible inconsistency between llx_ecm_files and file system when BILL_SUPPLIER_VALIDATES changes ref\nFIX: Prices visible on TakePOS KO with multiprices support\nFIX: product list accounting length\nFIX: propal list : warning if product module is not enabled (#25583)\nFIX: Propal's negative quantities\nFIX: Quick search Intervention redirect to wrong page\nFIX: reception odt dir output path\nFIX: regression on rounding stocks fields on product list\nFIX_reload_linked_objects_on_propal_closeas\nFIX: Return right content type\nFIX: right access on salary card and tabs\nFIX: rights paymentsc paiementcharge\nFIX: same broken feature as v18 (Multicompany)\nFIX: Save user modif id when changing a contact status\nFIX: search by ref & rowid in don list\nFIX: search by thirdparty in don list\nFIX: special_code update line keep old value. (#26819)\nFIX: SQL concatenation error\nFIX: SQL request parenthesis\nFIX: substitute project variables in invoice documents (#26445)\nFIX: Suppliers addlines never have VAT if buyprice for this supplier\nFIX: [TAKEPOS] display prices with or without taxes depending on setup (TAKEPOS_CHANGE_PRICE_HT)\nFIX: TakePOS receipt preview in admin #25648\nFIX: template invoice list extrafield filters (backport v17) (#26227)\nFIX: thirdparty object in proposal card is not loaded\nFIX: too long output\nFIX: translation button\nFIX: use event.key instead event.which to avoid keyboard difference\nFIX: Use of line->insert instead of line->create\nFIX: user creation when LDAP is configured (#26332)\nFIX: Use the wrong logo size on PDF\nFIX: v17: Param $notrigger in $societe->create() causes method to return true regardless of actual result of database functions (#26499)\nFIX: warning param $lineID getSpecialCode is negatif (#26826)\nFIX: warning php8.2 undefined_array_key (#26830)\nFIX: warning when Workboard Responses display non numeric strings\nFIX: Wrong backtopage given for the stocktransfer button from the stocktransfer list (#26271)\nFIX: wrong place of trigger delete\n\n***** ChangeLog for 17.0.3 compared to 17.0.2 *****\nFIX: #20304 propaldates update\nFIX: #24508 Label not reported when creating a supplier invoice template (#25340)\nFIX: #24569 filters on stockadate page\nFIX: #24631 Filter on categories of warehouses faulty\nFIX: #24695\nFIX: #24756 Total sum on annual report bank\nFIX: #24918\nFIX: #24985 Societe - Function thirdparty merging not working with module whose tables are not deployed by default\nFIX: #24991\nFIX: #24997 Update slovakia vat rate\nFIX: #25223\nFIX: ability to disable forcing focus on select2 to avoid side effects\nFIX: Add hidden conf to add extrafields in canelle template : INVOICE_ADD_EXTRAFIELD_IN_NOTE\nFIX: Add/Update required modules for thirdparties (by categ) & partnership\nFIX: ajax on off setup type\nFIX: avoid php8 warning\nFIX: Bad management of localtax on TakePOS due to typo error in var name\nFIX: can define empty qty by default when create object line\nFIX: can not remove the last selected value with checkbox\nFIX: case special char for password in email admin page\nFIX: Change $key into $tmpkey\nFIX: CommonObject::getRights()\nFIX: commonobject: getRights() did not find rights correctly for objects built using modulebuilder\nFIX: CVE reported by BELABED Skander (Akerva)\nFIX: CVE XSS on company name reported by Belabed Skander from Akerva\nFIX: decimal values were not possible on shipment quantities (introduced by #24882)\nFIX: default value for condition of payment on proposal\nFIX: default values were not set for specimen objects\nFIX: Delete of bank of a thirdparty must need the edit thirdparty perm\nFIX: display project tasks list columns (#24557)\nFIX: dol_print_error parameters on ticket fetch method (#25318)\nFIX: dol_trunc may not have the desired behaviour for truncating a cryptographic initialiszation vector, for instance when MAIN_DISABLE_TRUNC is used\nFIX: Donation - Missing Language key\nFIX: error expedition qty 0\nFIX: extrafield quick edit not working on products\nFIX: fatal error on Stripe setup page and security when terminal not used\nFIX: Fatal Error PHP 8 : division by 0 (#25384)\nFIX|Fix  Change strpos for expedition and receipt in files.lib.php $haystack and $needle inversion\nFIX: Fix main and left menu info for the root menu of the list of accountancy journal\nFIX: Homogenise handling of null extrafield value in create/update\nFIX: Langs was not loaded for extrafields error\nFIX: Missing localtaxes on receipt in TakePOS\nFIX: no change on thirdparties.modules.php required modules\nFIX: OAUth2 module for Google with scopes for people and calendar\nFIX: php8.1 warning on lists with total due to unset array key (#25460)\nFIX: quickedit code missing on product card\nFIX: Selection of customer on second or more parallel sell in TakePOS\nFIX: Showing bank account on list for direct debit\nFIX: SQL migration file\nFIX: String was compared to an integer\nFIX: to avoid wrong path of file (#25320)\nFIX: Total sum on annual report bank\nFIX: translation extrafield mass action #24080\nFIX: Try to fix the date of invoice on TakePOS on eastern timezone\nFIX: TVA calc option must be the same on update line as on create line\nFIX: Update mouvementstock.class.php (#25396)\nFIX: update product on translation update\nFIX: use dol_substr instead of dol_trunc for truncating openssl initialization vector\nFIX: We should always be able to filter on action type no matter if we can't read actions of others (#24462)\nFIX: wrong var name\n\n***** ChangeLog for 17.0.2 compared to 17.0.1 *****\nFIX: Change strpos for expedition and receipt in files.lib $haystack and $needle inversion\nFIX: Add hidden conf to add extrafields in canelle template : INVOICE_ADD_EXTRAFIELD_IN_NOTE\nFIX: #24414\nFIX: #24798 Deleting member subscription is not possible\nFIX: add a test for updating date on task update in tab time consumed pro…\nFIX: add charchesociales in security.lib.php\nFIX: Add Missing rights check on holiday calendar\nFIX: Add the possibility to events owner to check their events from the list when the perm \"Read the actions (events or tasks) of others\" is not active\nFIX: Authorize '0' subprice in supplier proposal line\nFIX: avoid error when computed property of extrafields is used\nFIX: avoid warnings php8\nFIX: Back to cancel on reception creation\nFIX: Bad deletion of email when there is several emails processed\nFIX: bank account not visible on credit transfer\nFIX: Better support for option MAIN_NO_INPUT_PRICE_WITH_TAX\nFIX: broken feature : send private message by email\nFIX: categorie compatibility with actioncomm\nFIX: Click on \"NEW\" in simple POS was broken\nFIX: Compress in xz for better debian old version compatibility\nFIX: Correct Evaluation for extrafields\nFIX: Count only attendee draft of validated.\nFIX: Creation of thumbs when images.lib.php was already included\nFIX: delete of warehouse\nFIX: deletion of a line of time spent (backport e3aa438d2a582313dfd5178b8cc5975e0c912c25)\nFIX: Deployment of external module failed with copy dir error.\nFIX: edit field value of url\nFIX: error management on emoji and utf8 validity by emailcollector\nFIX: expense report autofill ttc input if force ttc conf is enabled\nFIX: filter missing id on consumption contact card\nFIX: Filter on member status\nFIX: Filter status orders in list no invoiced if validated + in progress + delivered\nFIX: Fiscal year list ref display\nFIX: for empty shipping\nFIX: INVOICE_SHOW_SHIPPING_ADDRESS\nFIX: jump to direct record on member search was broken\nFIX: label of columns must be short into invoice PDF table\nFIX: making search in takepos broken when TAKEPOS_PRODUCT_IN_STOCK is set\nFIX: Margin calculation for credit notes on margin reports\nFIX: message MAIN_MESSAGE_INSTALL_MODULES_DISABLED_CONTACT_US\nFIX: missing checking if file is uploaded\nFIX: missing constant and avoid submit button conflict\nFIX: missing entity field in unique index (since v16)\nFIX: Missing error message display on insertExtrafields()\nFIX: missing mrp module dependency\nFIX: More complete fix for #24411\nFIX: No error message because  $price_ht_devise is equal to '0' if not filled because of price2num\nFIX: No usage of the function updateProduction in the update function\nFIX: On company change, we must reuse the company parameters\nFIX: Operator to search category Knowledge\nFIX: Pb in install when password start with some special char like !\nFIX: pb in sending email when mail contains data src image.\nFIX: PDF Font for turkish language\nFIX: product notes rights\nFIX: Propagate correct origin/origin_id when creating order from proposal\nFIX: Propagate extrafields from supplier order to reception\nFIX: reassortlot search categorie + add inithooks\nFIX: Reception process loose some lines on first error.\nFIX: redesign of the function : updateProduction\nFIX: ref_client on Project Overview for propale\nFIX: reference id in getnomurl function.\nFIX: regression Undefined $datepaid\nFIX: remove NOTOKENRENOWAL (backport commit v17 7c316229db8060781ee50f4465b1133b5aeef156)\nFIX: Remove warning on lettering - Impossible to write in ledger v16 v17 v18\nFIX: Report of date of task suggested only if there is tasks\nFIX: Rounding on total margin on invoice list\nFIX: Search List Select Extrafields with condition\nFIX: Search when criteria start with !\nFIX: Sending email from attendee list\nFIX: Shipping address same third party\nFIX: special chars in generated file name from build doc mass action\nFIX: supplier invoice status on bank transfer line\nFIX: supplier link on bank transfer line\nFIX: Task events not displayed\nFIX: token errors on public interface\nFIX: Transfer between accounts with different currencies was broken\nFIX: Update hour of intervention line\nFIX: Upload of files on public ticket interface\nFIX: Use max parameters of widget graph product distribution\nFIX: Warehouse total line\nFIX: When salary module is not enabled, bad permission check on user list\nFIX: wrong colspan for tasks list\n\n***** ChangeLog for 17.0.1 compared to 17.0.0 *****\n\nFIX: 17.0 PHP Warning invalid argument supplied for foreach\nFIX: #[23799] - External users are not able to create events - correction\nFIX: #23966 Error \"Param dbt_keyfield is required but not defined\nFIX: #24138 Fix box_birthdays SQL for postgres\nFIX: #24201 Upload of external module fails to copy from incorrectly generated temp source dir\nFIX: #24240 Dolibarr V17.0.0 PHP8 fatal error\nFIX: accountancy lettering: better error management\nFIX: accountancy lettering: correctly calculated number of lettering operations done\nFIX: accountancy lettering: error management and prevention\nFIX: accountancy lettering: prevent null results when fetching link with payments\nFIX: action delete card fac rec\nFIX: Add bookmark with search fields that are arrays (backport 4157263cb898f1847cfcfc22dee6007c01b13a4d)\nFIX: Add missing hook on LibStatut\nFIX: Add more context for selectForFormsListWhere Hook\nFIX: Autofill / clear qty in inventory page\nFIX: avoid php8 warnings\nFIX: avoid phpunit error\nFIX: can not show all csv fields (a reason for that ?)\nFIX: change date on select date input when prefix is used\nFIX: dol_textishtml() function\nFIX: expense report accountancy: sql syntax error when performing automatic linking\nFIX: Extrafields in Notes to unify with orders or invoices.\nFIX: fatal error when margin enable (missing check on element), fix User::hasRight() when checking a margin right\nFIX: feedbacks\nFIX: FILTER_VALIDATE_EMAIL param is not a string\nFIX: #24298 No error or 0.00 instead of NULL in database anymore when emptying an extrafield of type price on a propal card\nFIX: full group by handle\nFIX: holiday counter massaction: ErrorBadValueForParamNotAString and PHP 8 warning when no approval user right\nFIX: installation superadmin creation: PHP 8 warning\nFIX: invoices order on sells journal\nFIX: it was not possible to update extrafields of expedition lines with batch without editing batch value\nFIX: limit after order in get objects in category\nFIX: method dolGetGlobalString not defined with saphir\nFIX: missing column default workstation\nFIX: missing drop foreign key before modify field\nFIX: missing \"multidir_output\" for project sharing (Multicompany)\nFIX: missing protection on ajax public ticket page for valid email\nFIX: ODT management inverted between purchase invoice and order\nFIX: PDF Espadon => display extrafields\nFIX: PDF Espadon Expedition : notes and tracking number\nFIX: Phpunit Rename WebsiteTest.class.php to WebsiteTest.php\nFIX: project referent elements list: conf to hide tasks was flipped\nFIX: Protection on agenda view for a thirdparty id that does not exist\nFIX: search_project_user\nFIX: societe list: regression to redirection to customer card when single result of search filters\nFIX: SQL error \"unknown column p.fk_soc\" because ANSI-92 joins take precedence over ANSI-89 joins\nFIX: task have the same entity of project\nFIX: token error when closing ticket from public interface\nFIX: Warning on purchase order + Property fk_commande not defined\n\n\n\n***** ChangeLog for 17.0.0 compared to 16.0.0 *****\n\nFor users:\n---------------\n\nNEW: Minimal PHP version is now PHP 7.0 instead of PHP 5.6\nNEW: #21780 Add pid field to Cronjob class and store PID on job execution\nNEW: #20650 can move the checkbox column on left (experimental option MAIN_CHECKBOX_LEFT_COLUMN)\nNEW: #21000 Added columns 'alias_name' on project, supplier invoice, supplier order, supplier proposals and task list\nNEW: #21395 Added option for dark theme mode in display - color and theme\nNEW: #21397 added option to auto define barcode numbers for third-parties in barcode module setup\nNEW: #21399\nNEW: #21442 Enhancement of module builder init\nNEW: #21654 add bank account number used on invoices for debit\nNEW: #22048 Added notes to productlot module\nNEW: #22298 Bank - Add salaries & vat in the tab of planned entries of a bank account\nNEW: #22328\nNEW: #22424\nNEW: #22500 member module set up made easier\nNEW: #22527 projects and thirdparties can be viewed as conversation (\"Message\" view), like events/agenda.\nNEW: #22546 can now set user supervisors using mass action in htdocs/user\nNEW: #22594 can chose if VAT ID is unique or not for third parties\nNEW: #22622 all partnerships displayed on tab partnership of a thirdparty and member\nNEW: #22676 massaction for updating product prices\nNEW: #22735 Massaction to assign users on projects\nNEW: #4482 adding js to hide/show advanced option on the export data page\nNEW: Accountancy - Add a graphic option to enable lettering function - FPC21\nNEW: Accountancy - Add a way to clean some words when you generate thirdparty accounting account\nNEW: Accountancy - Added an option during export to export or not the lettering FPC21\nNEW: Accountancy - Manage supplier deposit with specific account\nNEW: Accountancy - Model Digitaria - Add a way to clean some words when you generate thirdparty accounting account FPC22\nNEW: Add a button \"Test collect\" in email collector\nNEW: Add a constant to disallow modification of the product reference.\nNEW: Add a method doAutoRenewContracts that can be used as a cron task.\nNEW: Add \" as enclosure by default for CSV export. Keep removing CR/LF.\nNEW: add attached file in presend email form of thirdparty card\nNEW: Add a way to enter LICENSE file content in property of website\nNEW: Add badge in admin extrafields setup\nNEW: add constant PROPAL_BYPASS_VALIDATED_STATUS\nNEW: Add date event (!= date project) and location on event organization\nNEW: Add employment anniversary in birthday box\nNEW: Add extrafield type \"IP\" to store IP addresses\nNEW: Add fail2ban rules examples to limit access to /public pages\nNEW: Add filter \"Product subject to lot/Serial\" in stock per lot/serial\nNEW: Add hidden option MAIN_EMAIL_SUPPORT_ACK to restore Email ack checkbox (feature abandoned by mailers)\nNEW: Add IMAP port setting on email collector module\nNEW: Adding JAPAN Chart-of-Account and regions/departments\nNEW: Adding NIF verification for Algeria\nNEW: Add link to create an element from the category page\nNEW: add margin infos to takepos invoice lines\nNEW: Add max size send for \"backup and link to mail\" option\nNEW: Add method httponly_accessforbidden()\nNEW: Add more advice into the Setup security page\nNEW: Add new global variable for keeping the previous signature information on proposal (case of reopening a proposal)\nNEW: Add objectLink on shipment\nNEW: Add option --force on CLI cron_run_jobs.php\nNEW: Add option \"Show price on the generated documents for receptions\"\nNEW: Add performance index (name for company and contact) and llx_bank_url(url_id)\nNEW: Add picto property on sub-module for password generation\nNEW: add redirect on action confirm addconsumedline and addproduceline\nNEW: Add a new advanced permission \"read price\"\nNEW: Add substitution key __SENDEREMAIL_SIGNATURE__\nNEW: Add the referrer-policy to \"same-origin\" by default on all public pages.\nNEW: Add the SMTP header References on ticket email created by email\nNEW: Add the thirdparty column to the time list (projet/tasks/time.php)\nNEW: Add trigger to record the event of sending an email from a project #20912\nNEW: Allow download link option in module configuration (propal,invoice,supplier proposal, order)\nNEW: Bulk action to remove a category in list/search website pages\nNEW: Can copy/paste images into emails sent.\nNEW: Can edit label of an emailing even once sent\nNEW: Can edit property css, cssview, csslist on extrafields\nNEW: Can enter the unit price including the vat when adding new product lines on invoices, orders, proposals, ...\nNEW: Can invoice task time per different services\nNEW: Can join several files by default on email form\nNEW: Can send an email on scheduled job error\nNEW: Can set a commercial discount by entering amount including VAT\nNEW: Can set a monthly frequency (or multiple) in cron tasks.\nNEW: Can set start and end dates and comment on button \"Activate all services\"\nNEW: Can sort on preselected best supplier price\nNEW: Can use products categories to make inventory\nNEW: Change filter type on tickets list into a multiselect combo\nNEW: conf TIMESPENT_ALWAYS_UPDATE_THM, when it's on we always check current thm of user to update it in task time line\nNEW: constant PROPAL_NEW_AS_SIGNED\nNEW: show date delivery planned on orders linked to company and product\nNEW: Default doc template of contracts is not mandatory\nNEW: Default values in extrafields are no more limited to 255 char.\nNEW: display currency in takepos menu\nNEW: Enable online signature for interventions\nNEW: extrafield price with currency\nNEW: filter on reception dates (from / to) in cheque paiement card\nNEW: Members: default_lang for members\nNEW: Members: Table of membership types\nNEW: Members: add free membership amounts at the membership type level\nNEW: TakePOS: Header Scroll in TakePOS\nNEW: TakePOS: add price to product box in TakePOS\nNEW: TakePOS: add setup parameters, can setup terminal name\nNEW: TakePOS: support of Stripe Terminal with TakePOS\nNEW: TakePOS: Receipt preview in TakePOS setup\nNEW: TakePOS: different product list on smartphone\nNEW: Website: can delete a whole website if disabled\nNEW: Website: can remove a website template\nNEW: Website: can set header \"Strict-Transport-Security\" in web sites.\nNEW: Website: can switch status of website and page from the website toolbar\nNEW: Website: Templates of websites are now directories and not zip into core repo\nNEW: Website: add 4 other templates in website module\nNEW: Website: Add counters for public access of pages on a website\nNEW: If we select another view list mode, we keep it\nNEW: Init module bookcal\nNEW: Encrypt all sensitive constants in llx_const using dolEncrypt/dolDecrypt\nNEW: Invoice - Add french mention on pdf when vat debit option is on\nNEW: invoice export : add accounting affectation\nNEW: label on products categories filter\nNEW: The link \"add to bookmark\" is always on top in the bookmark popup\nNEW: MAIN_SEARCH_CATEGORY_PRODUCT_ON_LISTS const to show category customer filter\nNEW: Make module WebservicesClient deprecated. Use module WebHook instead.\nNEW: manage no email with thirdparties (better for GDPR)\nNEW: Manage Position (Rank) on Contract Lines\nNEW: Manage VAT on all lines on purchases cycle\nNEW: Page to show virtual stock at a future date\nNEW: On a bank reconciled line, we can modify the bank receipt\nNEW: On a form to send an email, we show all emails of all contacts of object\nNEW: Option PRODUCTBATCH_SHOW_WAREHOUSE_ON_SHIPMENT showing wh on PDF\nNEW: Option PRODUIT_DESC_IN_FORM accept (desktop only or +smartphone)\nNEW: Page for mass stock transfer can be used with no source stock\nNEW: parent company column and filter in invoice and order list\nNEW: Add \"Show Sales rep\" option for PDF\nNEW: Picto for shared link is clickable\nNEW: possibility to select scopes with checkbox for Oauth tokens\nNEW: private and public note on user, thirdparty and contact list\nNEW: product categories filter on inventory list\nNEW: Product supplier price: autofill default supplier VAT\nNEW: Project - author field become an available column on lists\nNEW: Reception - Add a from/to on search on date field\nNEW: Start a simple support of recurrent events on agenda\nNEW: Resize parent company column in order list\nNEW: Saved token of OAUTH module are now encrypted into llx_oauth_token\nNEW: Save one click to select on delivery ack, on emails.\nNEW: scheduled job to send unpaid invoice reminder can now use the cc and bcc from email template\nNEW: set thirdparty type with company modify trigger\nNEW: Show also scheduled task never finished in scheduled task widget\nNEW: show badge with number of extrafields in setup\nNEW: show category tree in sellist and chkbxlst for common object\nNEW: Show picto and color into combo for selection of tags\nNEW: show product label on inventory\nNEW: show sell-by and eat-by dates only if not empty\nNEW: show SellBy/EatBy dates for each batch product in shipment card\nNEW: Can skip accept/refuse steps for proposals (option PROPAL_SKIP_ACCEPT_REFUSE)\nNEW: experimental SMTP using PhpImap allowing OAuth2 authentication (need to add option MAIN_IMAP_USE_PHPIMAP)\nNEW: can substitute project title in mail template\nNEW: Supplier order list - Add column private and public note\nNEW: The purge of files can purge only if older than a number of seconds\nNEW: Update ActionComm type_code on email message ticket\nNEW: VAT - Admin - Add information on deadline day for submission of VAT declaration\nNEW: expand/collapse permissions on user permission page\nNEW: Show delivery mode on PDF for proposals\nNEW: Add the target to select attendees of event for emailings\nNEW: Can set background style with MAIN_LOGIN_BACKGROUND_STYLE\n\n Modules\nNEW: Experimental module Asset\n\nFor developers or integrators:\n------------------------------\n\nNEW: ModuleBuilder can generate code for a class from an existing SQL table\nNEW: #22370 Modulebuilder supports 'alwayseditable' (like extrafields)\nNEW: #20912 Add trigger to record the event of sending an email from a project\nNEW: #21750 Added \"Get lines and Post lines from BOM\" at the REST Service\nNEW: Removed completely the need for the library adodbtime\nNEW: hook on agenda pages\nNEW: hook to complete payment in TakePOS\nNEW: hook \"changeHelpURL\" to modify target of the help button\nNEW: hook formConfirm on action comm card\nNEW: hook to modify supplier product html select\nNEW: Add new hook for show virtual stock details on product stock card\nNEW: Add new hooks for actioncomm\nNEW: conf->global->SYSLOG_FILE_ONEPERSESSION accept a string\nNEW: translation for contact type API, setup/ticket API, shipping method API\nNEW: All ajax pages have now a header build with top_httphead()\nNEW: support multilang in Civilities API\nNEW: Add API for the partnership module\nNEW: Add \"Get lines and Post lines from BOM\" in the API\nNEW: Replace property fk_categories_product with categories_product in inventory class\nNEW: Rewrite of SQL request. Removed the join on category table (for filter on category), replaced with a EXISTS/NOT\nNEW: Add oldcopy to Ticket so triggers intercepting TICKET_MODIFY have access to old values of the updated properties\nNEW: #19680 Add option PRODUCT_ALLOW_EXTERNAL_DOWNLOAD to automatically have uploaded files shared publicly by a link\nNEW: Add option FICHINTER_ALLOW_EXTERNAL_DOWNLOAD\n\n\nWARNING:\n\nFollowing changes may create regressions for some external modules, but were necessary to make Dolibarr better:\n* Minimal PHP version is now PHP 7.0 instead of PHP 5.6\n* Core has introduced a Universal Filter Syntax for search criteria. Example: ((((field1:=:value1) OR (field2:in:1,2,3)) AND ...). In rare case, some filters\n  could be provided by URL parameters. For such cases (societe/ajax/company.php), use of Universal Filter Syntax become mandatory.\n* The signature of method getNomUrl() of class ProductFournisseur has been modified to match the signature of method Product->getNomUrl()\n* Trigger ORDER_SUPPLIER_DISPATCH is removed, use ORDER_SUPPLIER_RECEIVE and/or LINEORDER_SUPPLIER_DISPATCH instead.\n* All functions fetch_all() have been set to deprecated for naming consistency, use fetchAll() instead.\n* Code standardization: '$user->rights->propale' is now '$user->rights->propal' everywhere.\n* Deprecated method set_billed() on shipment and reception class has been removed. Use setBilled() instead.\n* Tables llx_prelevement_facture and llx_prelevement_facture_demande have been renamed into llx_prelevement and llx_prelevement_demande.\n* Renamed MAIN_LIST_ALLOW_NOTES into MAIN_LIST_HIDE_NOTES and renamed MAIN_LIST_ALLOW_PRIVATE_NOTES into MAIN_LIST_HIDE_PRIVATE_NOTES\n* Renamed the substitution for \"project label\" instead of \"project title\" in substitution variables\n* You must use \"$objectoffield\" to manipulate the current object inside the form of computed custom extrafields instead of $obj/$object.\n* Making a global search is sending the parameter using always the name search_all (instead of sometimes sall and search_all)\n* The property $url_last_version must be public if defined into module descriptor files;\n\n\n***** ChangeLog for 16.0.5 compared to 16.0.4 *****\n\nFIX: 16.0 propalestats Unknown column 'p.fk_soc' in 'on clause'\nFIX: #23804\nFIX: #23860\nFIX: #23966 Error \"Param dbt_keyfield is required but not defined\"\nFIX: accountancy lettering: better error management\nFIX: accountancy lettering: correctly calculated number of lettering operations done\nFIX: accountancy lettering: error management and prevention\nFIX: accountancy lettering: prevent null results when fetching link with payments\nFIX: Add missing hook on LibStatut\nFIX: Add more context for selectForFormsListWhere Hook\nFIX: attach file and send by mail in ticket\nFIX: bad check on if in get_all_ways\nFIX: Cannot import find type_fees with cgenericdic.class because it has id and not rowid\nFIX: clicktodial backtopage\nFIX: discount wasn't taken into account when adding a line in BOM\nFIX: expense reports: error when selecting mileage fees expense type if MAIN_USE_EXPENSE_IK disabled\nFIX: expense reports: JS error when selecting mileage fees expense type if MAIN_USE_EXPENSE_IK disabled\nFIX: Extrafields in Notes to unify with orders or invoices.\nFIX: fatal error on clicktodial backtopage\nFIX: filter sql accounting account\nFIX: Get data back on product update\nFIX: Get data back when error on command create\nFIX: label dictionary is used by barcode and member module\nFIX: mandatory date for service didn't work for invoice\nFIX: missing \"authorid\" for getNomUrl link right access\nFIX: missing getEntity filter\nFIX: vulnerability: missing protection on ajax public ticket page for valid email.\nFIX: Missing right to edit service note when module product is disabled\nFIX: multicompany compatibility\nFIX: object $user is not defined\nFIX: Object of class LDAP\\Connection could not be converted to string\nFIX: parse error and NAN\nFIX: product ref fourn same size in supplier order/invoice as in product price fourn\nFIX: Profit calculation on project preview tab.\nFIX: Remove orphelan $this->db->rollback() in the function insertExtrafields()\nFIX: request new password with \"mc\" and \"twofactor\" authentication\nFIX: Resolve error message due to missing arguments\nFIX: select for task in event card\nFIX: several email sent to the same recipient when adding message from ticket\nFIX: shipping list for external user\nFIX: SQL error \"unknown column p.fk_soc\" because ANSI-92 joins take precedence over ANSI-89 joins\nFIX: strato pdf\nFIX: typos in getAttchments() $arrayobject\nFIX: whitespaces\nFIX: wrong url param name action\n\n\n***** ChangeLog for 16.0.4 compared to 16.0.3 *****\n\nFIX: Amount of localtax1 and 2 not correctly save on purchase order (the rate was saved instead)\nFIX: #20415\nFIX: #21280\nFIX: #22271\nFIX: #22524\nFIX: #22837\nFIX: #22964\nFIX: #23008\nFIX: #23012\nFIX: #23019 Impossible to add task times to an existing draft invoice\nFIX: #23072\nFIX: #23075\nFIX: #23087\nFIX: #23115\nFIX: #23116\nFIX: #23117\nFIX: #23281\nFIX: #23420 : wrong check on $search_categ value causing FATAL ERROR\nFIX: Accountancy - Quadra export\nFIX: add border left on image product when conf activated\nFIX: Add missing token when deleting template inn order_supplier admin menu\nFIX: API access for deactivated users\nFIX: bad selection of barcode numbering module\nFIX: Can't see all time spent by all user\nFIX: CI\nFIX: CommonObject - showOptionals - Display blank td when MAIN_VIEW_LINE_NUMBER is enabled and action is confirm_valid\nFIX: Documents API inconsistency\nFIX: Empty FormSetup emailTemplate type IF empty fieldvalue\nFIX: Errors Handling for CreateFrom Hooks\nFIX: error with dol_banner_tab, ref is needed\nFIX: ExpenseReport card was not reloaded after addline\nFIX: get multicurrency infos of propal when create order from propal with \"WORKFLOW_PROPAL_AUTOCREATE_ORDER\" conf\nFIX: Give predictable order to inventory lines\nFIX: include class multicurrency\nFIX: methods declaration (backport fix 67b9a7dc07d708231d12b5e58800334d4a01ef98)\nFIX: multicurrency_tx and not currency_tx\nFIX: on public ticket list, only the page 1 was accessible. Other pages were 404 error.\nFIX: PGSQL Integer type does not have a free length\nFIX: Product list in setup.php in new Module\nFIX: propal and order stats broken on Tag+User(restricted customer list)\nFIX: saving of numbering module for jobs\nFIX: Stickler\nFIX: travis\nFIX: wrong check on $search_categ value causing fatal error\nFIX: wrong stock list with multicompany and without stock sharing\n\n***** ChangeLog for 16.0.3 compared to 16.0.2 *****\n\nFIX: $sign is useless\nFIX: #18304 Member subscription confirmation email sent even if mandatory fields are missing\nFIX: #19828\nFIX: #19877\nFIX: #22509 default value on integer fields don't retrieve by setSaveQuery\nFIX: #22786\nFIX: #22813\nFIX: #22824 Accountancy - Journal - Search on subledger when list of subledger is disabled\nFIX: Backup using the low memory mode\nFIX: Bankaccounts API fetch with 'id' and 'socid'\nFIX: base64_decode should be forbidden in dol_eval\nFIX: Broken Permissions check, $object is null.\nFIX: compute next value when year is on one digit for reset counter\nFIX: copy same behaviour in other accountancy files\nFIX: Fix the position of the verification condition of the test field in case of multi entities\nFIX: for #22882\nFIX: for #22952\nFIX: merge errors on mailing card\nFIX: PaymentBankTransfer Type page management with Select and Input on create.php\nFIX: remove not initialized variable\nFIX: SQL request parenthesis\nFIX: Use the Hook addMoreActionsButtons resPrint\nFIX: Wrong Extrafields Element For Assets\n\n***** ChangeLog for 16.0.2 compared to 16.0.1 *****\n\nFIX: 16.0 - computed extrafields are not displayed if the object has no other extrafields\nFIX: #22538\nFIX: Accountancy - Review of Winfic - eWinfic - Winsis compta export format\nFIX: add loadRoleMode on getlinearray\nFIX: Autosearch on takepos was broken\nFIX: avoid access forbidden with numeric ref\nFIX: avoid error, check of product fetch is already check before\nFIX: avoid error, fetch of product is mandatory (by id or by ref)\nFIX: avoid unnecessary multiple calculation (#22637)\nFIX: bug on selected value for select_bom() function\nFIX: can not set prospect status \"Do not contact\"\nFIX: change in the communication status of the prospect\nFIX: check $id, already checked before\nFIX: closed warehouse for shipping\nFIX: extrafields_add tpl for stock movement\nFIX: the request SQL for transversal user, the join on usergroup table must be with getEntity('usergroup')\nFIX: Import of contact when there is duplicate thirdparties\nFIX: Import of socialnetwork field\nFIX: input selector is wrong with PRODUCT_LOAD_EXTRAFIELD_INTO_OBJECTLINES usage\nFIX: install wizard error management\nFIX: just add integer\nFIX: Missing $object for online signature link build\nFIX: missing quote\nFIX: only modify hidden checkbox/multislected extrafields on update if they are provided in request\nFIX: php doc\nFIX: private message ticket become public if edit action\nFIX: remove > 0 and -1\nFIX: remove db object to avoid error with postgresql\nFIX: Search ambiguous field on MO list\nFIX: Search on social networks\nFIX: Subscription must be stopped when max of attendees reached.\nFIX: supplier price update: missing error reporting\nFIX: travis & stickler feedbacks\nFIX: we must be able to select only bom of a specific product + several fixes on select_bom() function\nFIX: wrong perm check\nFIX: wrong typo, remove quote\nFIX: wrong var typo\n\n\n***** ChangeLog for 16.0.1 compared to 16.0.0 *****\n\nFIX: #16476 on massaction the pdf generation is not using the t…\nFIX: #21416 Filter tag no-categorie in members\nFIX: #21543\nFIX: #21799 inactive companies shall not be selectable for new proposals, orders and invoices\nFIX: #21859 Don't show html balise on list for private/public note\nFIX: #22164\nFIX: #22241\nFIX: #22263 Accountancy - Account number expected in place of a rowid on parent account on export\nFIX: #22264 Accountancy - Translation on chart of accounts export\nFIX: #22265 Accountancy - Account number expected in place of a rowid on export\nFIX: #22334\nFIX: #22360\nFIX: #22379 creating events on supplier order\nFIX: #22382 Error on length of supplier reference\nFIX: #22386 IBAN not mandatory for International Export Countries\nFIX: #22440 Lang Key \"UserAccountNotDefined\" is missing\nFIX: #22482\nFIX: #22507\nFIX: Accountancy - Some manuals operations are displayed in subledger\nFIX: API reception return error 500\nFIX: avoid override initial message ($this instead $object)\nFIX: avoid some warnings (php8+)\nFIX: Bad backtopage and CSRF on link for ticket message\nFIX: bad closing select\nFIX: broken feature, wrong fk_parent_line after cloning object\nFIX: Column label\nFIX: compatibility if javascript not activated\nFIX: compatibility with Mysql <= 5.7\nFIX: contact deletion: execute trigger before really deleting\nFIX: CronJob sendBackup\nFIX: CSRF + lost value of constant after use save button\nFIX: CSS\nFIX: data integrity for llx_delivery table\nFIX: default value for partnership status\nFIX: deletion of the MO_CHILD link\nFIX: Dictionary - Display error on cache_vatrates\nFIX: Dolibarr#16476 version 2a\nFIX: Duplicate creation of invoice when closing shipment linked to order\nFIX: Duplicate in list when filtering on categories\nFIX: extrafields with value '0' was ''\nFIX: filters lost when sorting on productMargin and customerMargins\nFIX: fk_expedition in $line can be useful for triggers\nFIX: Import in upgrade when using a socialnetwork field.\nFIX: input hidden with fk_product of line on mo production can be useful\nFIX: inventory code must be different at each transaction\nFIX: inventory total columns\nFIX: Issue #16476 on massaction the pdf generation is not using the thirdparty language settings\nFIX: Linked object agenda card\nFIX: missing check if category module is enabled\nFIX: missing check if incoice as a payment (wrong status)\nFIX: missing class \"societe\" when create another object with workflow\nFIX: missing error message if image size too large\nFIX: Missing reposition\nFIX: missing the management of a constant in the Ticket config\nFIX: Missing token in different URLs links\nFIX: @ must be allowed into dol_eval to allow rules including external module string 'abc@def'\nFIX: - php V8 get number doc saphir\nFIX: - php V8 propal index last draft\nFIX: Preview button position on documents list (case when the file is too long)\nFIX: Project - on global view, missing display of ref customer\nFIX: Protection against bad value into accuracy setup\nFIX: reading of trackid in emailcollector (when on recipient suffix)\nFIX: recruitment linked files\nFIX: Remove use of code we should not have\nFIX: Restore the option MAIN_OPTIMIZEFORTEXTBROWSER\nFIX: Rich text is not displayed\nFIX: same thing in deleteline\nFIX: Supplier Reference is lost when page breaks\nFIX: support of array parameters in \"add to bookmark\" feature.\nFIX: Test that web dir is correct in install\nFIX: the shipment PDF was using the full size logo instead of small\nFIX: Token Error : delete stock transfer\nFIX: ToOfferALinkForOnlinePayment not translated\nFIX: tooltip of technical tables added of a module\nFIX: wrong result check when update expensereport line\n\n\n***** ChangeLog for 16.0.0 compared to 15.0.0 *****\n\nFor users:\n---------------\n\nNEW: PHP 8.0 and 8.1 compatibility:\n     Warning!! Application works correctly with PHP 8.0 and 8.1 but you will experience a lot of PHP warnings into the PHP server\n     log files (depending on your PHP setup). Removal of all PHP warnings on server side is planned for v17.\nNEW: Support for recurring purchase invoices.\nNEW: #20292 Include German public holidays\nNEW: Can show ZATCA QR-Code on PDFs\nNEW: Can show Swiss QR-Code on PDFs\nNEW: #17123 added ExtraFields for Stock Movement\nNEW: #20609 new massaction to assign a sale representatives on a selection of thirdparties\nNEW: #20653 edit discount pourcentage for all lines in one shot\nNEW: Accept 'auto' for ref of object on import of purchase order/proposal\nNEW: Accountancy - Add more filters and info on page to bind accounting accounts\nNEW: Accountancy - Add subledger account when generate a transaction with a deposit invoice\nNEW: Accountancy - Add a massaction to preselect an account (customer and supplier list)\nNEW: Accountancy - Add hidden feature for accounting reconciliation\nNEW: ACE Editor is restored at same cursor position after a save.\nNEW: Add \"addMoreActionsButtons\" hook to subscription form\nNEW: Add an option in GUI to show a Quick add button into top menu bar\nNEW: Add a workflow to auto link contract on a ticket\nNEW: Add column template invoice in invoice list\nNEW: Add column \"Total HT\" to products array on document creation card\nNEW: Add configuration for text color of button action\nNEW: Show the event block on recurring invoices #20870\nNEW: Add firstname, lastname and max number of attendees for module \"Event Organization\"\nNEW: Add margin info in proposal and order list\nNEW: Add more fields to detect duplicate during import of thirdparties\nNEW: Add option to foce delivery on email for purchase order receipt to yes\nNEW: Add possibility to create contract from invoice\nNEW: Add possibility with constant MAIN_LOGIN_BADCHARUNAUTHORIZED to define bad character unauthorized into login name\nNEW: Add private and public notes on tax files\nNEW: Add substitutions \"user numbers\"\nNEW: allow cut&paste as real numeric value to excel\nNEW: A public form to send a message and create a lead is available\nNEW: automatically set totally received status in reception\nNEW: Auto set invoice paid when adding credit not and remain to pay is 0\nNEW: Backup tool has an \"lowmemory\" option for mysqldump on large database\nNEW: Can enter price with tax for predefined products on purchase objects\nNEW: Can removed doc templates from setup page of thirdparty\nNEW: Can use ! to make a search that exclude a string\nNEW: clean values and amount in FEC import\nNEW: const MAIL_MASS_ACTION_ADD_LAST_IF_MAIN_DOC_NOT_FOUND for mailing mass action\nNEW: Contact filter project list\nNEW: Create contract from invoice\nNEW: Database: Can store the session into database (instead of being managed by PHP)\nNEW: Database: Some core tables are created only at module activation\nNEW: Default value for MAIN_SECURITY_CSRF_WITH_TOKEN is now 2 (GET are also\nprotected against CSRF attacks)\nNEW: deposit payment terms: add field into dictionary admin page to define default percentage of deposit.\nNEW: Dictionaries - add possibility to manage countries in EEC\nNEW: Dictionaries - Availability dictionary has a new column unit and number\nNEW: Display errors in a message box after generating documents\nNEW: Enhance the import. Can use 'auto' for the ref (import of orders)\nNEW: Events on Proposal to Return to Draft\nNEW: Exports - add entity filter in exports\nNEW: Page to list expense report payments\nNEW: JS inventory autocalc input\nNEW: language support for more emailing target selectors\nNEW: leave requests: add field into type dictionary to block request if balance is negative\nNEW: Mass action \"Close shipments\"\nNEW: Module BOM - add tabs for nets BOM\nNEW: Module BOM - add the possibility to add sub-BOMs to BOM\nNEW: Module Recruitment - Add a public page with list of all open job positions.\nNEW: Module Recruitment - Add a tab with list of application on the jobposition file.\nNEW: Add option to move checkbox column as first column on Thirdparty list (only few screens)\nNEW: payment conditions enabling semi-automatic deposit creation (Issue #18439)\nNEW: possibility to consume multiple batch\nNEW: Reverse movement product consumption\nNEW: Send email to the supplier order contact\nNEW: add permission to report time on timesheet\nNEW: Knowledge Management - add status \"Obsolete\" to KM articles\nNEW: MRP - split consumption line on MO\nNEW: MRP - display physical and virtual stock of the products when creating OF from a BOM\nNEW: MRP - display product ref in \"Object link\" product tab for BOM\nNEW: Orders - support user_modif in order\nNEW: Products - add massaction \"Edit Extrafield\" for Product\nNEW: Products - List - add thumbnail field in product list\nNEW: Products - Statistics - can filter on a thirdparty\nNEW: Projects - add filter \"opportunity status\" on statistics of projects.\nNEW: Proposals - option update prices on proposal cloning\nNEW: Proposals - List - add column date of Signature on proposal list\nNEW: SEPA XML - option to place payment Type Info at Credit transfer Transaction level\nNEW: Stocks - stock filter in reassort lists\nNEW: Stocks - stock limit in stock export CSV\nNEW: Stocks - Inventory - can change value of AWP during the inventory\nNEW: Supplier order - Show ref supplier of reception in linked object block\nNEW: Surveys - Show number of votes into the label of tab \"Results\" of a survey\nNEW: TakePOS - barcode rule to insert product in TakePOS\nNEW: TakePOS - pagination on search results\nNEW: TakePOS - show product reference\nNEW: TakePOS - add constant to hide categories\nNEW: TakePOS - add constant to show category description\nNEW: TakePOS - add constant to show only the products in stock\nNEW: Themes - add param color button action\nNEW: Themes - Change in theme colors does not need to use the refresh button\nNEW: Themes - more modes for THEME_TOPMENU_DISABLE_IMAGE (2, 3, ...)\nNEW: Themes - MD - add param border table for md theme\nNEW: Third-Parties - add rules \"customer accountancy code\" is mandatory to validate invoice\nNEW: Third-Parties - can set the parent company during the creation of thirdparty (action=add of societe/card.php)\nNEW: Tickets - allow a Ticket to be automatically marked as read when created from backend\nNEW: Tickets - create Third-party with contact if not found on public ticket\nNEW: Tickets - option to default check \"notify tier at creation\"\nNEW: Tickets - Trigger: allow to automatically send messages on new tickets\nNEW: Tickets - optional display warning icons on ticket list\nNEW: Websites Module - supports now the multicompany module\nNEW: Websites Module - on redirect of page in website module, GET parameters are kept.\nNEW: The 'reposition' class works on ajax constantonoff that make redirects\nNEW: total mark rate in list\nNEW: uncheck \"send message\" by default on a ticket when private messages has been checked\nNEW: VAT Report by month - Show detail by rate and also by code\nNEW: Added MMK currency (Myanmar Kyat)\nNEW: On a form to send an email, we show all emails of contacts of object\n\n Modules state\nNEW: Module Partnership Management - stable\nNEW: Module Event Organization Management - stable\n\n\nFor developers or integrators:\n------------------------------\nNEW: dol_uncompress() supports more extensions (.gz, .bz2, .zstd). Only .zip was supported before.\nNEW: Implement a generic method for Kaban views\nNEW: Upgrade chartjs library to 3.7.1\nNEW: stripe element with more gateways\nNEW: solde() function evolution to be able to get solde until a chosen date\nNEW: Suggest a way to run upgrade per entities.\nNEW: Support html content for multiselect component.\nNEW: ModuleBuilder - Add tabs view in module builder\nNEW: ModuleBuilder - More feature that can be modified after module generation\nNEW: Identification of tr is possible with by attribute data-id on some pages\nNEW: Import with select boxes V2\nNEW: Can use current entity filter on 'chkbxlst'\nNEW: Creation of the function select_bom() used to display bom select list\nNEW: Add trigger and event on completely received status change\nNEW: Add utility function send backup by mail\nNEW: add WordPress OAuth to save a token (not SSO)\nNEW: A module can embed a SQL script run at each Dolibarr upgrade\nNEW: Add param to keep the robot=index meta tag on public pages\nNEW: Add method hintindex() in database handlers.\nNEW: add modifications for new function \"$db->prefix()\"\nNEW: addMoreActionsButtonsList hook for button in list\nNEW: Standardize a lot of code.\nNEW: Add a protection into PHPunit to avoid to forget a var_dump\n\n\nAPI:\nNEW: API Proposals - Add POST lines\nNEW: API REST filter states by country\nNEW: Add API to get a template invoice\nNEW: Add datem and type parameters to API to create movements\nNEW: #19294 implement detailed timespent in task of project API\nNEW: #20736 Allow extrafields SQL filters on REST API product lookup\nNEW: Can update rank of invoice, proposal and order lines with API update\nNEW: update rank line is possible on API for customer invoices, sales orders and supplier invoice\nNEW: Add option MAIN_API_DEBUG to save API logs into a file\n\nHooks:\nNEW: Hook getNomUrl available everywhere in tooltip of ref links\nNEW: Add hooks: selectContactListWhere hook, selectThirdpartyListWhere hook\nNEW: Add hook before the public ticket list\nNEW: Add hook for Notif\nNEW: Add hook for more buttons\nNEW: add hook printFieldListWhere in product ressort card\nNEW: Add hook printFieldListWhere in \"show_contacts\" function\nNEW: Add hook printFieldWhere in load_state_board function\nNEW: Add hooks contact tab badge and hooks parameter for avoid conflicts\nNEW: Add hook selectProductsListWhere in select_produits_list function\nNEW: Add hooks in commercial index\nNEW: Add hooks in customers and products boxes\nNEW: Add hooks in thirdparty index page\nNEW: Add hooks on project task time page\nNEW: Add hooks on salaries and sociales card\nNEW: Add hooks select product list and select thirdparty list function\nNEW: Add hook to getSellPrice function\nNEW: TakePos - add hooks complete product display\nNEW: TakePos - add hooks for cart display\nNEW: TakePos - add hooks to complete ajax return array\nNEW: TakePOS - add hook doaction in TakePOS invoice\n\nConfig Options:\nNEW: Add hidden option on contract PDF line to hide qty and price\nNEW: Option  MAIL_MASS_ACTION_ADD_LAST_IF_MAIN_DOC_NOT_FOUND  to send last document in mass mailing action\nNEW: Option  MAIN_API_DEBUG  to save API logs into a file\nNEW: Option  MAIN_MAIL_AUTOCOPY_TO  can accept several email and special keys\nNEW: Option  MAIN_SEARCH_CAT_OR_BY_DEFAULT  const for search by category\nNEW: Option  INVOICEREC_SET_AUTOFILL_DATE_START/END\n\nWARNING:\n\nFollowing changes may create regressions for some external modules, but were necessary to make Dolibarr better:\n* There is a new specific permission to be allowed to enter timesheets. If you use timesheet, don't forget to give the new permission (disable and\n  enable the module project if it is not visible).\n* The default value for MAIN_SECURITY_CSRF_WITH_TOKEN has been set to 2. It means any POST and any GET request that contains the \"action\" or \"massaction\"\n  with a value of a sensitive action must also a valid token parameter (With previous value 1, only POST was concerned). Note: With value 3, any URL\n  with parameter \"action\" or \"massaction\" need the token, whatever is the value of the action.\n* verifCond('stringtoevaluate') now return false when string contains a bad syntax content instead of true.\n* The deprecated method thirdparty_doc_create() has been removed. You can use the generateDocument() instead.\n* All triggers with a name XXX_UPDATE have been renamed with name XXX_MODIFY for code consistency purpose.\n* Rename build_path_from_id_categ() into buildPathFromId() and set method to private.\n* Move massaction 'confirm_createbills' from actions_massactions.inc.php to commande/list.php\n* Method fetch_all_resources(), fetch_all_used(), fetch_all_available() of DolResource has been removed (they were not used by core code).\n* Method fetch_all of DolResource has been renamed into fetchAll() to match naming conventions.\n* The hook 'upgrade' and 'doUpgrade2\" has been renamed 'doUpgradeBefore' and 'doUpgradeAfterDB'. A new trigger 'doUpgradeAfterFiles' has been introduced.\n* The context hook 'suppliercard' when on the supplier tab of a thirdparty has been renamed into 'thirdpartysupplier'\n* Because the module Resources highly linked to the Agenda module, the menu for Resources module has been moved into top menu Agenda.\n\n\n***** ChangeLog for 15.0.3 compared to 15.0.2 *****\n\nFIX: 15.0: modules cannot declare more than 1 cron job using the same method with different parameters\nFIX: 15 fix graph ficheinter status\nFIX: #18704\nFIX: #20444\nFIX: #20448 missing preg_replace for vat rate when adding a free line\nFIX: #20476 migration postgresql 13.0.x to 14.0.x packaging type\nFIX: #20487 missing letter D in constant THIRDPARTIES_DISABLE_RELATED_OBJECT_TAB\nFIX: #20527 Accountancy - Unbalanced entry proposed when an employee are declared on a social contribution\nFIX: #20621 signature online with proposal with n page.\nFIX: #20696\nFIX: #20828\nFIX: #20886 : manage durations in list_print_total.tpl.php\nFIX: #20902\nFIX: #21051\nFIX: #21093\nFIX: #21138\nFIX: #21140\nFIX: #21174\nFIX: #21323\nFIX: #21472 On the bank transfer lists, a change of page switches to the lists of the direct debit module\nFIX: #21495\nFIX: #21518\nFIX: Accountancy - Label of VAT account is empty\nFIX: Accountancy - Model account list - Problem of CSRF\nFIX: Accountancy - Partitioning of the entity on an automatic binding\nFIX: add missing thead, th and id on table\nFIX: backport commit 5b3fcc5e43979b1b0789bf81fb8f1b2b59c93056, chkbxlst cannot be emptied\nFIX: Bank account not set when creating invoice from order\nFIX: Bank transfer - Link on code supplier invoice was bad\nFIX: Can convert a partially closed down payment when close for\nFIX: class center linkedObjectblock order date\nFIX: count elements in invoice list (Issue #21444)\nFIX: Customer price non numeric warning when 0 vat.\nFIX: errors in getLinesArray()\nFIX: False alert of WAF when there is \"set\" into some URL action=update.\nFIX: Intervention graph by status on ficheinter Index page\nFIX: Intervention url link into Commerce index\nFIX: Fix get origin from other than supplier proposal when add a new supplier proposal\nFIX: Fix show errors in card\nFIX: fourn/commande/card.php Added \"$object\" parameter to $formfile->showdocuments call\nFIX: french traductions for payment methods\nFIX: hook for dol_format_address\nFIX: Index page for \"Sales\" give wrong URL link to Intervention\nFIX: issue Dolibarr #21495 for v15\nFIX: label and get_substitutionarray_each_var_object on ODT generation\nFIX: load product stock in inventory lines\nFIX: missing morecss for multiselectarray\nFIX: missins time spent list menu\nFIX: new member subscription: bank account and payment mode might be hidden\nFIX: ODT generation of BOM document\nFIX: ODT tags for subobjects {object_subobject_yyy} was not working.\nFIX: qty received label in Squille PDF model\nFIX: rank duplicate on mass action invoice from multiple orders\nFIX: regression + add $forceentity parameter\nFIX: regression PR #20713\nFIX: security breach if we have same ref number in multiple entities\nFIX: selection of type of invoice\nFIX: Send remind to pay invoice only on validated invoices\nFIX: Show sellist type of extrafield when none category selected\nFIX: signature online with proposal with n page.\nFIX: sql error when PRODUCT_USE_SUPPLIER_PACKAGING enabled.\nFIX: sql order\nFIX: trash icon on crontask list to do not work\nFIX: v15 linked object block center order date\nFIX: Warning on attribute\nFIX: We must remove empty values of $features array in fetchByProductCombination2ValuePairs() because some products can use only several attributes in their variations and not necessarily all. In this case, fetch doesn't work without my correction\nFIX: with callback function\nFIX: xml file for company with special chars in name\nFIX: Zatca QR code must use company name/vat\n\n\n***** ChangeLog for 15.0.2 compared to 15.0.1 *****\n\nFIX: #19777 #20281\nFIX: #20140 #20301\nFIX: #20279 Accountancy - PostGreSQL - Error on mass update lines already binded\nFIX: #20476 migration postgresql 14.0.x to 15.0.x packaging type\nFIX: #20733 Inventory: Do not use batch qty even if present if batch module is disabled.\nFIX: action comm list: holiday last day not included + handle duration with halfdays\nFIX: Add missing entity on salary's payment\nFIX: Add 'recruitment' into check array\nFIX: add tools to fix bad bank amount in accounting with multicurrency\nFIX: assign member category to a member\nFIX: backport\nFIX: bad bank amount in accounting with multicurrency\nFIX: Bad condition on remx\nFIX: Bad filter on date on salary list\nFIX: bad link to add a customer price (token duplicated)\nFIX: bad status of member on widget by type and status\nFIX: better error management at product selling price update\nFIX: Can't edit bank record\nFIX: check mandatory thirdparty fields for mass action\nFIX: check thirdparty object loaded and properties exist\nFIX: comment\nFIX: compatibility for ticket number sharing\nFIX: compatibility with multicompany sharings\nFIX: contact card: single extrafield update failed\nFIX: country not visible into list of states\nFIX: Delete an extrafield where type is double\nFIX: deprecated module are not more viewed as external modules\nFIX: Disable customer type by default if type prospect/customer is disabled\nFIX: each time we create a supplier order, we need to give it a ref_supplier\nFIX: Error management\nFIX: fatal error for $db  usage in tpl\nFIX: filter into the list of product lots\nFIX: Filter on Object Referent page give CRSF page\nFIX: Fix default options ($hidedetails, $hidedesc, $hideref) with globales when generate PDF in mass actions\nFIX: Fix search by filters\nFIX: Fix the adding of lines in the create invoice functions\nFIX: forgotten form confirm before various payment delete\nFIX: holiday/leave requests: write status change emails in HTML\nFIX: include discount price for PMP after a reception (Issue #20029)\nFIX: incrementation\nFIX: in salary stats and payment list, we must check right perms as well as salary list\nFIX: intervention entity missing\nFIX: label tax cat trad\nFIX: Mass action ship orders\nFIX: missing advanced perms\nFIX: missing call to executeHooks()\nFIX: Missing entity on adding new VAT\nFIX: missing hook for row ordering\nFIX: missing hook parameter ($possiblelinks)\nFIX: missing parenthesis\nFIX: missing picto in combo of mass actions of thirdparties.\nFIX: missing signature library when ODT model is used\nFIX: Missing unset fields after updateline expensereport\nFIX: ModuileBuilder - Fix getLinesArray() error reporting\nFIX: Move delete task time trigger position\nFIX: Navigation between invoices\nFIX: No empty line inserted into accounting_bookkeeping\nFIX: Numbering of sepa files\nFIX: object cloning: set unique extrafield values to null to prevent duplicates\nFIX: on update with action reminder in future there is user key error\nFIX: originproductline array td identification data-id\nFIX: out of memory when more than 100 000 invoices.\nFIX: permit access to medias when logged in a different entity\nFIX: phpcs\nFIX: project creation prevented if PROJECTLEADER contact role renamed, de-activated or deleted\nFIX: project timesheet by week: cleanup unused code\nFIX: project timesheet: public holidays offset by 1 day\nFIX: project timesheets: assume Saturday and Sunday as default weekend days when working days conf is empty or badly formed\nFIX: propal list: bad error management when setting \"not signed\" mass action\nFIX: propal list mass action translations and error management (v14 edition)\nFIX: propal list: missing not signed massaction translation keys for transifex\nFIX: PR returns\nFIX: ref_client doesn't exists on supplier invoice, then ref_fourn needs to have a default value when we want to bill several supplier orders\nFIX: replenish and manage product stock by warhouse\nFIX: sending email on payment of registration of event\nFIX: SEPA ICS is not mandatory for bank transfer\nFIX: Set datec when add time spent on a project task\nFIX: status filter on supplierOrder stats doesn't work\nFIX: stickler-ci\nFIX: still prevent project creation if PROJECTLEADER role unavailable, but with a specific error message\nFIX: Supplier order stats\nFIX: Tabulation must be allowed for HTML content\nFIX: tool to fix bank account not in main currency for vendor invoice\nFIX: translations\nFIX: Travis + Update dev\nFIX: truncate Customer Reference too long on PDF header (PR #20718)\nFIX: uniformize code\nFIX: Update of sale price (log not correctly updated)\nFIX: user actions rights when mulit-company transverse mode is enabled\nFIX: user employee tab: offset in open days messes up holiday length calculation\nFIX: We need to have a different default_ref_supplier for each new fourn invoice\nFIX: \"WHERE\" clause missing on resource export\nFIX: #yogosha9754\n\n\n***** ChangeLog for 15.0.1 compared to 15.0.0 *****\nFIX: #19777 #20281\nFIX: bad position of extrafields for interventions\nFIX: Blocking situation when a payment was deleted in bank.\nFIX: creation of the shipment if order contains services\nFIX: Drag and drop line of files on join files tab\nFIX: Error management on mass action \"Approve holiday\"\nFIX: error with php8\nFIX: in case of VAT refund, negative amount must be allowed\nFIX: invoice pdf: lines originating from deposits were not detailed anymore\nFIX: Invoice - When you create an invoice for a given thirdparty, fk_account is not retrieved from company card\nFIX: list of visible type of event was not correctly filtered\nFIX: Missing or bad permissions\nFIX: Missing the field date start/end in export supplier invoice/order\nFIX: On large proposal or invoice, fix n(n+1) sql into a n sql.\nFIX: options should not exists on invoices\nFIX: payment not completed when using Paypal.\nFIX: permission to download files of expense report with readall.\nFIX- Preview icon in documents list PDF in the admin page third-party\nFIX: shipping list, e.shipping_method_id should be e.fk_shipping_method.\nFIX: Show product photo on Supplier order Cornas model.\nFIX: User name in ManufacturingOrder\nFIX: viewimage.php blocks requests with multicompany from other enties\nFIX: #yogosha9048\nFIX: #yogosha9054\nFIX: #yogosha9095\n\n\n***** ChangeLog for 15.0.0 compared to 14.0.0 *****\n\nFor users:\n---------------\n\nNEW: Online proposal signature\nNEW: Can define some max limit on expense report (per period, per type or expense, ...)\nNEW: Provide a special pages for bookmarks and multicompany for a better use of some mobile applications (like DoliDroid)\nNEW: Allow the use of __NEWREF__ to get for example the new reference a draft order will get after validation.\nNEW: Add option to disable globally some notifications emails.\nNEW: #18401 Add __NEWREF__ substitute to get new object reference.\nNEW: #18403 Add __URL_SHIPMENT__ substitute to get the URL of a shipment\nNEW: #18689 REST API module: add api key generate / modify permission.\nNEW: #18663 Make \"L'Annuaire des Entreprises\" the default provider for SIREN verification for French thirdparties.\nNEW: #18046 Add tags on ticket/categories\nNEW: #18326 Workflow: Close order on shipment closing.\nNEW: #18770 Can enter the buying price (for Weighted Average Price update) on lines during the reception step\nNEW: #18814 Add legal form for Sweden\nNEW: #18820 Accountancy - Add product account in import/export of thirdparty (level 3)\nNEW: Accountancy - Format FEC/FEC2 - Add column NumFacture\nNEW: Add $dolibarr_main_db_readonly in conf.php for readonly access.\nNEW: add auto creation of agenda event on supplier_order cancellation\nNEW: Add a PDF document template for Manufacturing Orders\nNEW: Add budget field into task #18986\nNEW: add cancel button to `classify reception` form on supplier_orders\nNEW: Added address field into contacts list\nNEW: Added documents page and send mail possibility in payments\nNEW: Add edit option in propal\nNEW: Added linked files page and send mail possibility in payments\nNEW: Add field date from/to in customer and supplier payment list\nNEW: Add filter from date to date into action/evt list\nNEW: Add import / export of MO and BOMLines - Close #18499\nNEW: Adding accounting export model for iSuite Expert\nNEW: add link to an element by ref\nNEW: add missing printFieldListFrom hook call on several lists\nNEW: add MRP into Object Linked Box\nNEW: Add option to hide customer code on PDF documents\nNEW: Add param $nolog to avoid logging into dol_delete_recursive_dir()\nNEW: Add sale representative in order and invoice list\nNEW: add a setting to create PDF in PDF/A - 1b format #18990\nNEW: Add `SOCIETE_SHOW_VAT_IN_LIST` to display VAT number in combo list of thirdparties\nNEW: Add sortorder on units list\nNEW: Adds PDF_HIDE_PRODUCT_LABEL_IN_SUPPLIER_LINES to hide product label in supplier order lines\nNEW: Add STOCK_MOVEMENT_LIST_HIDE_UNIT_PRICE to hide unit price on some pages\nNEW: add support for zstd compression\nNEW: Allow drag and drop on kits\nNEW: Allow exporting supplier order validation date + validation user\nNEW: Allows product ref generation after the form is validated with PRODUCT_GENERATE_REF_AFTER_FORM\nNEW: autocomplete account group when editing an account card\nNEW: Auto create invoice for payment done on an order with online payment link of order\nNEW: Can edit fields of proposal when proposal is not yet signed\nNEW: Can edit the translation key of an overwrote translation key.\nNEW: can enable/disable external calendar by default\nNEW: Can hide sender name on PDF documents\nNEW: Can select lot from a combo list of existing batch numbers (in MRP consumption)\nNEW: Can set the default BOM on a product\nNEW: Can set/unset the usual working day of the week (friday, saturday, sunday)\nNEW: Can show progression of task into combo list of tasks\nNEW: can upload the odt file for the product doc template\nNEW: Contract - Add From/to input on search date\nNEW: Customer Display with TakePOS\nNEW: Split Sale in TakePOS\nNEW: Customer invoice template list - Add input date from/to\nNEW: date filter on project list and task list From->To\nNEW: display shipping method and tracking url on shipment list\nNEW: expense reports: conf to force amounts to be entered only including taxes\nNEW: expense reports: conf to pre-fill start/end dates with bounds of current month\nNEW: expense reports: show link to already existing overlapping expense report\nNEW: expense reports: can make project field mandatory on lines\nNEW: Expose bank account holder, label and number\nNEW: feature #18986\nNEW: field and behavior in product object\nNEW: generate intervention from time spent\nNEW: holiday: handle monthly balance updates with cronjob\nNEW: HRM integration, source code\nNEW: HRM admin - Add tabs\nNEW: HRM - Include more options to manage/custom dashboard\nNEW: Increase size of params of actions for emailcollector\nNEW: Invoice list - Use complete country select field with EEC or not\nNEW: mass action delete, no more break if at least one object has child\nNEW: mass action paid on customer invoice list\nNEW: mass action validate on supplier orders list\nNEW: mass action send email to all attendees of an event\nNEW: mass action to switch status on sale / on purchase of a product\nNEW: expense reports: conf to pre-fill start/end dates with bounds of current month\nNEW: Option \"Add a link on the PDF to make the online payment\"\nNEW: More options to generate PDF (show Frame option, width of picture option)\nNEW: Preview of pdf files of expense report lines\nNEW: print without details\nNEW: project time spent: conf to prevent recording time after X months\nNEW: rewrite bind accountancy code finding on customer and sales invoice\nNEW: Societe - Add perentity functionality on customer/supplier accountancy auxiliary account\nNEW: Survey - Add a clickable link in email send\nNEW: Social Contributions - Add from/to filter on list\nNEW: Supplier order and proposal - Add From/to input on search date\nNEW: Task - Add From/to input on search date\nNEW: Add theme option THEME_ELDY_USEBORDERONTABLE\nNEW: The Anti-CSRF protection MAIN_SECURITY_CSRF_WITH_TOKEN is on to value 1 by default\nNEW: Update SQL : install and migration\nNEW: Use an ajax call for the clicktodial feature instead of href link.\nNEW: when multiple order linked to facture, show list into note.\nNEW: when we delete several objects with massaction, if some object has a child we must see which objects are concerned and nevertheless delete objects which can be deleted\nNEW: Editing a page in website module keep old page with name .back\nNEW: External backups can be downloaded from the \"About info page\".\n\n\n\n Modules\nNEW: Stable module Knowledge Management\nNEW: Experimental module Event Organization Management\nNEW: Experimental module Workstations Management\nNEW: Development of module Partnership Management\nOLD: module SimplePOS has been completely removed -> use TakePOS\n\n\nFor developers:\n---------------\n\nAPI:\nNEW: #18319 REST API - Shipment: Add 'close' action / endpoint / POST method.\nNEW: add API /approve and /makeOrder for purchase orders\nNEW: API for knowledgemanagement\nNEW: API get list of legal form of business\nNEW: API list of staff units\nNEW: Hidden option API_DISABLE_COMPRESSION is now visible in API setup page.\n\nHook:\nNEW: add hook 'beforeBodyClose'\nNEW: add hook 'hookGetEntity'\nNEW: add hook 'menuLeftMenuItems' to filter the leftmenu items\nNEW: add hook 'printUnderHeaderPDFline' on invoice PDF templates (can be used for example to add a barcode or more information on header of invoices).\nNEW: add hookmanager on note pages\nNEW: hook after rank update\nNEW: 'printFieldListFrom' hook call on several lists\n\nModuleBuilder:\nNEW: add the property \"copytoclipboard\" in modulebuilder\nNEW: Use lang selector when using a field key 'lang' in modulebuilder\n\nOptions:\nNEW: add options MAIN_IBAN_IS_NEVER_MANDATORY, MAIN_IBAN_NOT_MANDATORY, PROPAL_NOT_BILLABLE, PROPAL_REOPEN_UNSIGNED_ONLY, PROPOSAL_ARE_NOT_BILLABLE, TICKETS_MESSAGE_FORCE_MAIL\n\nTrigger:\nNEW: add action trigger for member excluded\n\n\nNEW: Introduce method hasRight\nNEW: Can use textarea field into a confirm popup.\nNEW: Can use the result_mode of mysqli driver. Save memory for list count\nNEW: add code codebar column on serial/lot structure\nNEW: add date_valid and date_approve columns in the list of supplier orders\nNEW: we need to be able to put more filters on deleteByParentField() function\nNEW: make it easier to set the `keyword`, `keywords` and `description` attributes of an ecm file object\nNEW: Experimental feature to manage user sessions in database\n\n\nWARNING:\n\nFollowing changes may create regressions for some external modules, but were necessary to make Dolibarr better:\n* ALL EXTERNAL MODULES THAT WERE NOT CORRECTLY DEVELOPED WILL NOT WORK ON V15 (All modules that forgot to manage the security token field\n  into forms will be broken. The security token field is expected since Dolibarr v9 but a lot of external modules did not implement it).\n* Update hook 'printOriginObjectLine', removed check on product type and special code. Need now reshook.\n* Old deprecated module \"SimplePOS\" has been completely removed. Use module \"TakePOS\" is you need a Point Of Sale.\n* The method static ActionComm::getActions($db, ...) is no more static. Use $actioncomm->getActions(...) instead (without $db param).\n* The 'action=delete&file=...' has been replaced with 'action=deletefile&file=...' to avoid confusion with deletion of object lines.\n* Method getDictvalue has been renamed into getDictionaryValue to match camel case rule.\n* To execute shell or command line command, your code must never use method like exec, shell_exec, popen, .. but must use the built-in\n  method executeCLI() available into core/class/utils.class.php\n* Class file expeditionbatch.class.php renamed to expeditionlinebatch.class.php\n* ExpeditionLineBatch::fetchAll is not static anymore and first parameter $db is removed\n* ExtraFields->showOutputField parameter 4 'extrafieldsobjectkey' is now required\n* CommonObject method add_object_linked now sets targettype to 'mymodule_myobject' instead of 'myobject',\n  you can use hook 'setLinkedObjectSourceTargetType' to set your usual targettype\n\n\n***** ChangeLog for 14.0.5 compared to 14.0.4 *****\n\nFIX: 13.0: printFieldListWhere called twice on same query\nFIX: 14.0.4 fatal error on cron list.\nFIX: #19476\nFIX: #19564\nFIX: #19651\nFIX: Accountancy - SQL error on subledger account search in journal\nFIX: apply eldy's suggestion to not overwrite existing extrafields of $line\nFIX: Can't close a down payment if paid with credit notes.\nFIX: better compatibility with multicompany\nFIX: contact card: bad colspan value for separator extrafield in creation/modification form\nFIX: discounts are applied both when fetching the best supplier price and when displaying it\nFIX: double display for contact categorie on societe create card\nFIX: fatal error on cron list.\nFIX: holiday list: only mass delete if leave request is not in draft, canceled or refused, like in card\nFIX: holiday mass deletion: correct return of record deleted\nFIX: Holiday month report\nFIX: info tab on customer invoice record not found\nFIX: line extrafields are inoperative in dispatch cards even when they exist\nFIX: list of categories in stats of supplier invoices\nFIX: missing default value for more comprehensive\nFIX: multicurrency: fields in discount uninitialized when creating deposit\nFIX: Navigation on bank transaction list\nFIX: Can't edit a bank transaction due to bad permission check.\nFIX: Option MAIN_DIRECT_STATUS_UPDATE broken. Ajax on/off not saving value in DB after updating to version >=12\nFIX: postgresql compatibility, \"\" as is not authorized\nFIX: printFieldListWhere called twice (at different locations) for the same SQL query, can result in syntax errors\nFIX: select too large into addrights (pb of missing parenthesis)\nFIX: set optional from post, we can't untick boolean field on product card\nFIX: Take into consideration work leave over several months\nFIX: test if method exist on wrong object\nFIX: title for nature of third party in company list\nFIX: Urgent onglet contact inaccessible depuis une facture\nFIX: wrong syntax of sql request\n\n***** ChangeLog for 14.0.4 compared to 14.0.3 *****\n\nFIX: $totalarray is overwritten, totals were lost\nFIX: 13.0 - due to a typo in the 'mode' parameter, the \"first name\" column of the list of members displays the full name\nFIX: 13.0: end date required to edit a ticket message\nFIX: 13.0 feedback of PR #18993: make ticket messages punctual events with attr percentage = -1\nFIX: 13.0 PR #18993: add comment on modified part\nFIX: 13.0: sometimes firstname was mistyped as fistname\nFIX: 14.0 - civility field of private third party creation form has inadequate width\nFIX: 14.0 - civility field width inadequate due to select2 calculating the width while the field has no width (display: none)\nFIX: 14.0 - due to a typo in the 'mode' parameter, the \"first name\" co…\nFIX: #18634 : Problem of virtual stock with reception module enabled\nFIX: #18695 Added ref_ext to supplier invoice\nFIX: #18698 Supplier invoice list - \"alert\" checkbox not working\nFIX: #18735\nFIX: #18767 : Adherent delete\nFIX: #18797\nFIX: #18854\nFIX: #18875 in v14\nFIX: #18910\nFIX: #18910 : MRP List SQL query syntax error with more than one extrafileds.\nFIX: #18912 Accountancy - SQL error when custom group is added without country defined\nFIX: #18934 on-registration in the extrafieldsline database for deliveries\nFIX: #18968\nFIX: #19008\nFIX: #19014 - the properties of some fields are not updated when you submit the form\nFIX: #19210\nFIX: #19214 : PostgreSQL error on admin/limits.php\nFIX: #19241 Project - Fix display salary in overview\nFIX: #19305\nFIX: 2 columns for total labels\nFIX: Accountancy - Format Quadra export - Missing line type C to create automatically a subledger account with label\nFIX: Accountancy - If deposit invoice is used, force binding in deposit accounting account to solve transaction\nFIX: Accountancy - Missing specific filename for export on format FEC2, Ciel & repare it\nFIX: Accountancy - Option of export popup are inverted\nFIX: Accountancy - PHP8\nFIX: Accountancy - Product admin - SQL error when we affect accounting account with product_perentity activated\nFIX: Accountancy simplified - Salaries are not present in report\nFIX: Accountancy - Some correction on export name\nFIX: Accountancy - Trunc code_journal to 2 in format XIMPORT (Ciel, Sage50)\nFIX: add warehouse in projects' overview count\nFIX: also on customer index for automatic binding\nFIX: Attachment of pdf into shipment when sending email\nFIX: autocalculation of the supplier price in main currency.\nFIX: avoid warning if $categories is an id\nFIX: bad sign of amount stored for multicurrency columns on credit notes\nFIX: Bad use of a forced contact of another company on PDF/ODT documents\nFIX: Bad use of dol_concatdesc()\nFIX: Button text on proposal card for create a invoice\nFIX: calculateCosts of BOM must not be included into fetch\nFIX: calculation of balance in conciliation page on desc sorting.\nFIX: card.php\nFIX: Change date format of the inventorycode to be equal as mass stock transfer\nFIX: check if greater 0\nFIX: close cash with some terminals in TakePOS\nFIX: compatibility with Multicompany\nFIX: consistent UX when calling a tab from the invoice card with empty ref/id\nFIX: default language defined for IN country\nFIX: Expense report - In edit mode, field qty doesn't accept decimal unlike the create mode\nFIX: fetch of product with modulebuilder load too much data\nFIX: filter for export of accounting documents\nFIX: Filter on categories\nFIX: generate documents with PDF options\nFIX: indentation\nFIX: init hookmanager after loading $conf values\nFIX: invoice: impossible to create an invoice because of very bad check + warnings when trying to print tabs for invoice with no ID\nFIX: legal issue on expense report pdf (must also show price without tax)\nFIX: list of categories in stats of supplier invoices\nFIX: load translate array after setting lang\nFIX: lost superadmin grade after edit user card\nFIX: missing filter status=1 on rss feeds\nFIX: missing permission check reported by me@lainwir3d.net on product api\nFIX: missing return status\nFIX: missing sql filter by entity\nFIX: move fetch_optionnal into $ac_static->fetch()\nFIX: only a superadmin can modify entity\nFIX: only ones value is return for dictionaries\nFIX: optional visibility on create card\nFIX: payment style and html5 tags\nFIX: payment using wrong type in takepos when too many payment mode\nFIX: PR#18931 Remove useless explicit call to dol_shutdown\nFIX: Product accountancy affectation with product_perentity activated (PR #18620)\nFIX: products/services card: hidden extrafields were overridden\nFIX: project task list: extrafields could not be displayed\nFIX: Propal list - Problem of pagination on date\nFIX: reload user lang\nFIX: Remove not complete order from the virtual stock\nFIX: Replenish: SQL error when no warehouse has been created + Warning when there are no warehouses\nFIX: resource list : Use standard code to handle list filters\nFIX: restrictedArea for payment delete\nFIX: Ret PR\nFIX: second approval back in stable feature as is the setting for minimum amount (last part from PR#14286)\nFIX: selected lines on supplier invoice create\nFIX: Selection of type \"people\" for membership must hide the company\nFIX: select list of orders not complete when field type of company is on\nFIX: show end hours in events linked to objects\nFIX: support of localtax on expense report\nFIX: task time: can't filter by user with pgsql + show error message\nFIX: task time: keep on using natural_search\nFIX: tcpdf vulnerability to roman numeral bomb, cf. tecnickom/TCPDF issue #315\nFIX: Test when date of invoie is in future (pb with TZ and offset)\nFIX: Ticket - Card - Wrong font awesome library\nFIX: Ticket - Duplicate field project when we create ticket from project\nFIX: translation into email for member at membership validation.\nFIX: Travis Sanitize SQL\nFIX: unprivileged user can see task associated with a not allowed project\nFIX: URGENT: impossible to create an invoice\nFIX: Use of accent into filename of GED\nFIX: user date timezone offset\nFIX: User salary card - translation problem\nFIX: user without permission can set ticket subject\nFIX: We need a default price base type in variant creation case with multiprices when parent has been created with only one level price\nFIX: wrong array key value\nFIX: wrong check\nFIX: wrong position of error message\nSync transifex.\n\n***** ChangeLog for 14.0.3 compared to 14.0.2 *****\n\nFIX: #18698 Supplier invoice list - \"alert\" checkbox not working\nFIX: #18735\nFIX: #18767 : Member delete\nFIX: #18854\nFIX: #18910 : MRP List SQL query syntax error with more than one extrafileds.\nFIX: Accountancy - Format Quadra export - Missing line type C to create automatically a subledger account with label\nFIX: Accountancy - Missing specific filename for export on format FEC2, Ciel & repare it\nFIX: Accountancy - Option of export popup are inverted\nFIX: Accountancy - Some correction on export name\nFIX: Accountancy - Trunc code_journal to 2 in format XIMPORT (Ciel, Sage50)\nFIX: add warehouse in projects' overview count\nFIX: autocalculation of the supplier price in main currency.\nFIX: avoid warning if $categories is an id\nFIX: Bad use of a forced contact of another company on PDF/ODT documents\nFIX: Button text on proposal card to create a invoice\nFIX: calculateCosts of BOM must not be included into fetch\nFIX: check if greater 0\nFIX: default language defined for IN country\nFIX: fetch of product with modulebuilder load too much data\nFIX: Filter on categories\nFIX: indentation\nFIX: init hookmanager after loading $conf values\nFIX: legal issue on expense report pdf (must also show price without tax)\nFIX: missing filter status=1 on rss feeds\nFIX: move fetch_optionnal into $ac_static->fetch()\nFIX: payment using wrong type in takepos when too many payment mode\nFIX: Product accountancy affectation with product_perentity activated (PR #18620)\nFIX: products/services card: hidden extrafields were overridden\nFIX: Propal list - Problem of pagination on date\nFIX: selected lines on supplier invoice create\nFIX: Selection of type \"people\" for membership must hide the company\nFIX: select list of orders not complete when field type of company is on\nFIX: support of localtax on expense report\nFIX: task time: can't filter by user with pgsql + show error message\nFIX: task time: keep on using natural_search\nFIX: Test when date of invoie is in future (pb with TZ and offset)\nFIX: translation into email for member at membership validation.\nFIX: unprivileged user can see task associated with a not allowed project\nFIX: user without permission can set ticket subject\n\n***** ChangeLog for 14.0.2 compared to 14.0.1 *****\n\nFIX: #18353 Invoice list translation issue\nFIX: #18375 SQL Error on tasks statistics\nFIX: #18465\nFIX: #18484\nFIX: #18531\nFIX: #18542 REST API: set global $user variable to DolibarrApiAccess::user.\nFIX: #18544 Shipment REST API: load thirdparty object into the shipment before validating.\nFIX: #18544 Shipment rest api: load thirdparty object when validating\nFIX: #18565\nFIX: #18589 #18617\nFIX: #18591 : Remove double quotes of SQL Queries for postgresql compatibility\nFIX: #18666 Order / Shipment list: Don't SQL JOIN category table when not necessary.\nFIX: Accountancy - Some problems of length with general & subledger account\nFIX: add DISTINCT\nFIX: Add option $noescapecommand in executeCLI for better compatibility\nFIX: Add token to remove error when removing widget\nFIX: Add token when remove the last widget on home page\nFIX: an approved holiday can be canceled by an admin.\nFIX: better sql request\nFIX: change LOG_DEBUG with LOG_WARNING in syslog and remove sql error in syslog (already done)\nFIX: Collapsing of extrafields has disappeared.\nFIX: Date of payment of subscription must not be set to 1970-01-01.\nFIX: Export of website generates a package that contains a sql error\nFIX: Field already present in SQL request\nFIX: increase maxlength of password input\nFIX: invoice fetch not found syslog debug level instead of error\nFIX: Invoice list - Wrong name for column total_tva\nFIX: invoice validation: when checking if any vat rate has a negative amount, prevent false positives with -1E-14 amounts\nFIX: Manage credit note on situation invoice for calculate margin\nFIX: Menu List of project was not visible.\nFIX: migration script\nFIX: multicompany transverse mode compatibility\nFIX: option \"Default value for field 'Refuse bulk emailings'\"\nFIX: Recommended session.cookie_samesite must be 'Lax' not 'Strict'.\nFIX: Relative discount with high nb of decimals\nFIX: salary extrafields don't work and table is not well named\nFIX: Supplier invoice list - Wrong language key used\nFIX: wrong table_element_line\nFIX: wrong users count in multicompany transverse mode\nFIX: #yogosha6944 Protection against traversal path.\n\n\n***** ChangeLog for 14.0.1 compared to 14.0.0 *****\n\nFIX: $conf->task used but it does not exist, use $conf->projet instead\nFIX: #18181\nFIX: #18212 : Add url field\nFIX: #18267\nFIX: #18289 #18294\nFIX: #18341 lang not loaded\nFIX: #18389 Accountancy - Bug on LDcompta10 export for supplier invoice\nFIX: #18399 Fix shipment validation email template override.\nFIX: Accountancy - Debug Export Sage50 / CIEL Compta / CIEL Compta Evo (Format XIMPORT)\nFIX: Accountancy - Rules to delete & modify transaction not applied in ledger & subledger\nFIX: Accountancy - Search date on journal\nFIX: Accountancy - SQL error on select journal on journal\nFIX: Accountancy - SQL error when insert a manual transaction\nFIX: add include missing file '/core/actions_dellink.inc.php' in project card\nFIX: avoid to have link to create bookmark on page to create bookmark\nFIX: bad approver shown on holiday once approved\nFIX: bad closing div on error message\nFIX: cannot add time spentd when column ref is not displayed\nFIX: Can't remove a permission of a group\nFIX: Can't set cost price when product is not on purchase\nFIX: compatibility postgresql\nFIX: filter on status Draft in modulebuilder\nFIX: holiday card: hooks uninitialized\nFIX: Invoice - Missing button to reopen an abandoned situation invoice\nFIX: Link of download main doc on vat list\nFIX: look and field v14\nFIX: Missing column Date validation in ledger & subledger\nFIX: on admin/pdf.php (with javascript enabled) if you set some boolean confs then click on \"save\", all boolean values are reset\nFIX: on supplier order, JOIN with product fourn price table must be done with fk_soc too to avoid display several times a same line (because of same supplier product ref)\nFIX: postgresql filter select search extrafield\nFIX: shipping validation workflow: 'ORDER_NEW' trigger called from wrong object\nFIX: show info of company into user dropdown\nFIX: totalDayAll hours in tasks\nFIX: update product lot\nFIX: using Tulip, deposit mask was not saved\nFIX: #yogosha6907\n\n\n***** ChangeLog for 14.0.0 compared to 13.0.0 *****\n\nFor users:\n----------\nNEW: Module Recruitment to follow application to job positions is now stable.\nNEW: Feature to make Stock Inventories\nNEW: Several security issues after a second private bug hunting campaign.\nNEW: A lot of fix into english text after a small proofreading campaign (still not perfect, but really better)\nNEW: All main menu entries are using the picto of the module\nNEW: Add a copy to clipboard button on some fields\nNEW: Add an example of scheduled job to send email reminder for unpaid invoices\nNEW: Add some color and picto for the direction of movement\nNEW: add the column \"Channel\" into the list of orders\nNEW: Add the column \"alias\" of company in the list of proposal, order, invoice\nNEW: Add the column \"Office phone\" and  \"User mobile\" in user list\nNEW: Add the column \"Price level\" in thirdparty list\nNEW: Add some company information in the dropdown login menu\nNEW: Add edit/delete action icons on categories list pages\nNEW: Add hidden option to auto load input line extrafield into new lines\nNEW: Add import profile to import BOM\nNEW: Add link picto to the stock movement on the detail of production\nNEW: Add mass action \"Set tag\" for product/service, user, thirdparty, warehouse, project, bank account, members\nNEW: Add bulk action Validate and Set to billed on order list.\nNEW: Add possibility to exports userGroups fields on user exports\nNEW: Can search on lots or serials into the quick search bar\nNEW: Add support for Friday as a non working day\nNEW: auto notification with module Notification can use templated emails\nNEW: Can clone a cron job\nNEW: Can create a lot from the list view (Look and feel standardization).\nNEW: Can filter on extrafields date on lists\nNEW: Can filter on rowid in list of blocked logs\nNEW: Can hide columns \"time consumed\" on timesheet per week\nNEW: Can set an employee on each social contribution\nNEW: Can set order of execution of hooks\nNEW: Can toggle FCKeditor on public/private notes\nNEW: Check update availability for externals modules using a button on module page\nNEW: Choose lines to use while creating intervention card from origin\nNEW: Columns shipment method, payment mode, payment term in proposal and order list\nNEW: Conf for default actioncomm status\nNEW: Dictionary for availability - Add a column position\nNEW: Can set a user related to a social contribution\nNEW: ICS Direct debit can be set with a different value for each bank account\nNEW: LDAP: usergroup search can be filtered\nNEW: Make public bookmarks editable by admin users only\nNEW: If main logo not defined, can use the squarred logo on login page\nNEW: The manifest file can use the squared image if available\nNEW: Enhance the multicurrency rate editor\nNEW: Normalise Type company field with ajax combobox\nNEW: preload product description on selection for customer propal/order/invoice\nNEW: Search usergroups & resources\nNEW: Setup Page for module creation with module builder enhancement #FoundationFunding\nNEW: Show picto of module into the list of dictionaries\nNEW: Show the total of payment on the payment confirmation page\nNEW: The global setup for Mandatory fields can now be done on combo list too.\nNEW: translate in \"en_US\" to complete PR 16980\nNEW: Update the list of taxes available by default for France\nNEW: Salary payment request and Salary payment are 2 different steps in workflow on Salary payment recording\nNEW: VAT payment request and VAT payment are now 2 different steps in workflow on VAT payment recording\nNEW: VAT report - Optimisation & collapse by rate\nNEW: When a doc file is shared, link is visible from the main page of doc.\nNEW: #16378 more E-Mail Contact substitution Values for better salutation\nNEW: option to keep the \"Automatically create the payment\" checkbox empty on the tax creation page\n\n Accountancy\nNEW: Add FEC import\nNEW: Add a confirmation form with options on export (for notified export and validate operations)\nNEW: Add select date from/to in already bind customer and supplier list\nNEW: FEC / FEC2 export - Add new field DateLimitReglmt\nNEW: In ledger & journals, show link on bank transaction\nNEW: Possibility to filter on journals in balance\nNEW: Add a page to list subledger accounts\nNEW: Multiselect journal code filter on journal / balance / ledger\nNEW: Add first step to close fiscal year\n\n Agenda\nNEW: add support for Friday as a non working day\nNEW: can show the leave dates/holidays on the agenda view\nNEW: Support color for types of event\n\n Bank\nNEW: Bank Entries : display user linked to a salary or a taxes\nNEW: Add bulk actions for Bank Transfer\n\n ECM/GED\nNEW: add DB fields note_public and note_private for ECM module\nNEW: can filter files in ECM/GED on status Shared / Not shared\n\n Invoices\nNEW: add a check to avoid an invoice date in the future\nNEW: add the total of margin in invoice list\nNEW: can set a percentage when creating an invoice from another object\nNEW: Support down payment on supplier invoice (& some adjustments)\n\n Margin\nNEW: add the total of margin in invoice list\nNEW: add the total of margin in page by user\n\n Members\nNEW: #17292 default subscription amount by adherent type\nNEW: option to automatically create a login/user when a new subscription of a member is done online\nNEW: option to select membership type on the online payment page for membership subscription or renewal\n\n Products\nNEW: Add price min and price min including tax into product export\nNEW: Add a ref in product customer price\nNEW: customer ref for product customer prices\nNEW: Set status of all variants when changing status of parent\n\n Projects/Tasks\nNEW: option to automatically close an open project when all its tasks are done (=progress 100%)\nNEW: can show the project ref into PDF documents\nNEW: when we add contacts/users to a project, ask to also affect them on tasks\nNEW: Can hide columns \"time consumed\" on timesheet per week\n\n Proposals\nNEW: add bulk action to set a commercial proposal to status \"Refused\"\nNEW: can set a warehouse in a proposal\nNEW: date and user signature on proposal (Issue 16062) #16980\n\n Shipment\nNEW: add option in Workflow module to set a shipment as closed\n\n TakePOS\nNEW: delayed payment in TakePOS  #14456?\nNEW: display date range if exist in TakePOS\nNEW: display resiliate status in TakePOS for member\nNEW: edit sales lines rights in TakePOS\nNEW: option for TakePOS to show the total price without tax\nNEW: more permissions in TakePOS (can edit added line, can modify once order sent to kitchen)\n\n Third Party / Contacts\nNEW: add contact tag and bulk email status on the thirdparty + contact create form\nNEW: can set a warehouse on a thirdparty\n\n Tickets\nNEW: can use captcha on public page to create a ticket  #16347\nNEW: can set if a ticket group is visible on public interface or not\n\n Warehouse/Stock\nNEW: Feature to make Stock Inventories\nNEW: can make massive stock transfers from a CSV file\nNEW: Stock movement list - add more complete date field\nNEW: can set a warehouse in a proposal\nNEW: can set a warehouse on a thirdparty\n\n Website Module\nNEW: #17113 Can upload a favicon in website module\nNEW: add a new permission \"Export website\"\nNEW: add last date of modification for website pages in the list of pages\nNEW: Save old page with .old extension on disk when editing a website page\n\n Workflows\nNEW: add option in Workflow module to set a shipment as closed\n\n\n for Admins\nNEW: Add a security center page with all information and advice related to the security of your instance\nNEW: Add a performance center page with all information and advice related to the performance of your instance\n\n Modules\nNEW: Module Recruitment is now stable\nNEW: start new experimental module Event Organization Management\nNEW: start new experimental module Partnership Management\nNEW: start new experimental module Knowledge Management\nNEW: start new experimental module Workstations Management\nNEW: Check update availability for externals modules using a button on module page\nModule SimplePOS is deprecated - TakePOS is recommended for the future\n\n new Options\nNEW: add option  CONTRACT_ALLOW_EXTERNAL_DOWNLOAD                   to make generated doc automatically shared\nNEW: add option  SUPPLIER_PROPOSAL_ALLOW_EXTERNAL_DOWNLOAD          to make generated doc automatically shared\nNEW: add option  MAIN_SECURITY_ANTI_SSRF_SERVER_IP                  to define list of IPs that are local IPs\nNEW: add option  SOCIETE_DISABLE_WORKFORCE                          to hide staff field\nNEW: add constant  MAIN_BUGTRACK_URL                                to set a custom url to redirect to when clicking on link \"declare a bug\"\nNEW: add constant  ACCOUNTANCY_USE_PRODUCT_ACCOUNT_ON_THIRDPARTY    to manage binding with accountancy account declared on thirdparty card\nNEW: add constant  MAIN_PRODUCT_PERENTITY_SHARED                    to manage some information (Accounting account) when product is shared on several entities\nNEW: add constant  MAIN_COMPANY_PERENTITY_SHARED                    to manage some information (Accounting account) when company is shared on several entities\n\n\nFor developers:\n---------------\nNEW: Can edit an object property in module builder\nNEW: Add data-eec=1 for EEC countries on select for js interaction\nNEW: Add experimental repair script to switch to dynamic row format and utf8mb4 encoding\nNEW: Add function showValueWithClipboardCPButton() to add a copy/paste\nNEW: Upgrade Stripe PHP lib to 7.67.0\nNEW: Support sepa_debit in stripe paymentmethods list\nNEW: Update doleditor.class.php for easily activate SCAYT\nNEW: Add triggers in the function add_object_linked(), updateObjectLinked() and deleteObjectLinked()\nNEW: Add triggers OBJECT_LINK_INSERT, OBJECT_LINK_UPDATE et OBJECT_LINK_DELETE in the function add_object_linked(), updateObjectLinked() and deleteObjectLinked()\nNEW: can set a target image in dolcropresize function\nNEW: can set a label as placeholder for combo lists\nNEW: Add pagination on Get Products response API\nNEW: Add the DefaultValues CRUD class\nNEW: Extrafields of documents lines are inside the lines, not any more on separate TR\nNEW: unit selection on object edit line\n\n APIs\nNEW: API add option $includeifobjectisused to get a product\nNEW: API get the list of product ids only\nNEW: add link to OpenAPI specifications XML file in REST API module setup: swagger.json file can be included into external tools like redoc\nNEW: add native compression in REST APIs\nNEW: Product Variants API, add variant stock to response by parameter\nNEW: Product API route added to get product stock and product with or without variants #13739 #17390\n\n Hooks\nNEW: hook printFieldListTitle for cabyprodserv.php\nNEW: hook to allow external modules to add their own shortlist of recent objects\nNEW: SQL-altering hooks in the turnover by product report\nNEW: add form confirm hook on company card\nNEW: add hook addSectionECMAuto method to add custom directory into ECM auto files\n\n\nWARNING:\n\nFollowing changes may create regressions for some external modules, but were necessary to make Dolibarr better:\n* Module SimplePOS is deprecated. If you need a POS module, please use the module TakePOS.\n* The ICS value for direct debit or credit transfer is now stored on each bank account instead of into the global setup.\n* API /setup/shipment_methods has been replaced with API /setup/shipping_methods\n* Field \"total\" renamed into \"total_ht\"  for table llx_facture, llx_facture_rec for better field name consistency\n* Field \"tva\"   renamed into \"total_tva\" for llx_facture, table llx_propal, llx_supplier_proposal, llx_commande, llx_commande_fournisseur for better field name consistency\n* Field \"total\" renamed into \"total_ttc\" for table llx_propal, llx_supplier_proposal for better field name consistency\n* If your database is PostgreSQL, you must use version 9.1.0 or more (Dolibarr need the SQL function CONCAT)\n* If your database is MySQL or MariaDB, you need at least version 5.1\n* Function set_price_level() has been renamed into setPriceLevel() to follow camelcase rules\n* Removed deprecated substitution key  __REFCLIENT__  (replaced with __REF_CLIENT__)\n* Removed constant MAIN_COUNTRIES_IN_EEC. You can now set if country is in Europe or not from the dictionary of countries.\n* v14 seems to work correctly on PHP v8 but it generates a lot of verbose warnings. Currently, v14 i snot yet officially supported with PHP 8.\n* To execute shell or command line command, your code must never use method like exec, shell_exec, popen, .. but must use the built-in\n  method executeCLI() available into core/class/utils.class.php\n* the trigger \"*_DELETE_CONTACT\" inside \"delete_contact()\" function from commonobject.class.php is call before delete the object element\n  and a $object->context['contact_id'] is now available for this trigger\n\n\n***** ChangeLog for 13.0.5 compared to 13.0.4 *****\n\nFIX: 13.0: class CommandeFournisseurDispatch provides trigger for UPDATE but not for CREATE / DELETE\nFIX: #18389 Accountancy - Bug on LDcompta10 export for supplier invoice\nFIX: #18591 : Remove double quotes of SQL Queries for postgresql compatibility\nFIX: Accountancy - Debug Export Sage50 / CIEL Compta / CIEL Compta Evo (Format XIMPORT)\nFIX: Accountancy - Some problems of length with general & subledger account\nFIX: add DISTINCT\nFIX: an approved holiday can be canceled by an admin.\nFIX: autocalculation of the supplier price in main currency.\nFIX: better sql request\nFIX: cannot add time spend when column ref is not displayed\nFIX: compatibility postgre sql\nFIX: holiday card: hooks uninitialized\nFIX: Invoice - Missing button to reopen an abandoned situation invoice\nFIX: invoice validation: when checking if any VAT rate has a negative amount, prevent false positives with -1.0E-14 amounts\nFIX: list of categories in stats of supplier invoices\nFIX: Manage credit note on situation invoice for calculate margin\nFIX: method_exists needs object at first param\nFIX: move fetch_optionnal into $ac_static->fetch()\nFIX: multicompany transverse mode compatibility\nFIX: on supplier order, JOIN with product fourn price table must be done with fk_soc too to avoid display several times a same line (because of same supplier product ref)\nFIX: postgre filter select search extrafield\nFIX: products/services card: hidden extrafields were overridden\nFIX: shipping validation workflow: 'ORDER_NEW' trigger called from wrong object\nFIX: task time: can't filter by user with pgsql + show error message\nFIX: task time: keep on using natural_search\nFIX: wrong users count in multicompany transverse mode\n\n\n***** ChangeLog for 13.0.4 compared to 13.0.3 *****\n\nFIX: Allow disabling of a module (not a dangerous action) even if there is problem with token (due to bugged modules).\nFIX: 13.0 - fatal - missing inclusion of ajax.lib.php for calling 'ajax_autocompleter()'\nFIX: #17919 pictures in docs\nFIX: #18006\nFIX: Accountancy - if we define a date start, automatic binding try to continue to solve old binding\nFIX: Accountancy - Limit date payment not registered on purchases operations\nFIX: Can't edit replacement invoice\nFIX: deposit can create credit note in payment conf\nFIX: division by zero on create\nFIX: holiday: balances not updated correctly with pgsql because of case sensitivity field\nFIX: holiday: status filter parameter has been renamed but not in links it was used\nFIX: List and Create Companies Left Menus\nFIX: method exists\nFIX: need to add payment sum to getlibstatus function in object linked block\nFIX: permission to close a proposal when using advanced permissions\nFIX: Problem of z-index with popup and top menu\nFIX: same thing on supplier orders\nFIX: Status of invoice when making a replacement invoice\nFIX: update contact birthday alert\n\n\n***** ChangeLog for 13.0.3 compared to 13.0.2 *****\n\nFIX: 13.0 warning - missing quotes around 'label'\nFIX: #16143 Old PG requires \"()\" on DROP FUNCTION\nFIX: #16843\nFIX: #17060\nFIX: #17192 - With tz < 0, event is show in bad day on calendar views\nFIX: #17363\nFIX: #17476 releve.php: Fix SQL statement\nFIX: #17967\nFix: #17906 : fix access denied\nFIX: Accountancy - Import in general ledger\nFIX: Accountancy - Quadra export - wrong data on credit\nFIX: Accountancy - Warning on the pages of the preparatory statements of accounting entries\nFIX: Add function price2num for rounding values in productAlertStock box\nFIX: Add parameter to function price2num()\nFIX: Cannot delete a batch material from item receipts\nFIX: cast int\nFIX: Change parameters MF to MS for price2num() function\nFIX: create event from contact card preselect contact correctly\nFIX: create sociales : keep values error form\nFIX: dol_print_date for %a and %b with some timezone\nFIX: email is not case sensitive\nFIX: error for duplicate thirdparty found correctly returned by ws\nFIX: Espadon PDF shippment model with long public note now working\nFIX: esupplier order: error 500 when using packaging with product where it is not defined\nFIX: Filter on debit/credit\nFIX: Filter on supplier payment list\nFIX: fix checkbox displayed according to module project setup parameters - work in progress\nFIX: inconsistency in margin recording with option \"Force to sale price\"\nFIX: invoice PDF generation after payment\nFIX: mask selector fournisseur if module not activate\nFIX: merge third party also works for bank URL entry\nFIX: Missing extrafields into export of agenda record\nFIX: missing parameter in select for POP\nFIX: missing return edit if update error\nFIX: missing token on dolGetButtonAction for action delete\nFIX: payment creation: re-generate invoice PDF with correct display options\nFIX: payment validation: invoices PDF were no re-generated, make it with correct display options\nFIX: Periodicity by default on fiscal year, according to the now date, we have plus 1 year added\nFIX: pgsql: prevent 'WHERE 1'\nFIX: PHP version requirement in composer.json\nFIX: project visibility field with two option\nFIX: saving template email\nFIX: search accented words in product description (consumption page)\nFIX: Search on date in accountancy\nFIX: selection of project for reception must use\nFIX: shhhhhh ! There is nothing here...\nFIX: Show input field checkbox selection\nFIX: Show Ref.Supplier in LinkToObjectBlock\nFIX: SQL Error show_contacts : socialnetworks\nFIX: Start hour on ACCOUNTING_DATE_START_BINDING\nFIX: supplier order: error 500 when using packaging with product where it is not defined\nFIX: test must be === and not ==\nFIX: test on link type\nFIX: type link extrafield case for advanced target emailing\nFIX: Write right on document\n\n\n***** ChangeLog for 13.0.2 compared to 13.0.1 *****\n\nFIX: 11.0 - $this->socid injected in query without checking for empty value\nFIX: #16096 #16085 Any call of ajax pages must provide the token\nFIX: #16296\nFIX: #16325\nFIX: #16341 : Fetch the Product ExtraFields in Shippment lines\nFIX: #16366\nFIX: #16393 Do not sanitize <!DOCTYPE html>\nFIX: #16420 #16423 #16488 #16477\nFIX: #16431\nFIX: #16465\nFIX: #16480\nFIX: #16485\nFIX: #16487\nFIX: #16503\nFIX: #16530\nFIX: #16533\nFIX: #16629\nFIX: #16671 Can not generate zip file of documents in backup tool\nFIX: Add \"Now\" link on social charges creation card\nFIX: avoid undefined URL and missing token\nFIX: Bad project filter in ticket list\nFIX: Buttons to disable bindings not working\nFIX: class not found when creating recurring invoice from invoice+discount\nFIX: File attachment on lots/batches\nFIX: handling $heightforinfotot when he's superior to a page height on Supplier Invoice\nFIX: hourglass and hide button to pay\nFIX: massaction validate invoice do not regenerate PDF\nFIX: #16627 fix missing mp4 video mime\nFIX: picto on shipment to reset qty to 0. Some quantities were not reset.\nFIX: Protection to avoid #16504\nFIX: rounding amount on card updating\nFIX: rounding amount on social charges card updating\nFIX: select list dependencies now work for ModuleBuilder sellist field\nFIX: status in popup of member in widget\nFIX: status on tooltip on widgets\nFIX: Timezone management for datetime on list of events\nFIX: Timezone management for datetime with modulebuilder and extrafields\nFIX: Total_ht not show in contract link element\nFIX: use post instead get\nFIX: use var \"saved_url\" instead global var \"$url\"\nFIX: Various payment - Missing fields for check transmitter & bank name\nFIX: warning if setup of chart of account is not yet done.\nFIX: wrong extension\n\n\n***** ChangeLog for 13.0.1 compared to 13.0.0 *****\n\nFIX: 10.0 before crediting a withdrawal receipt, check whether it has been credited already.\nFIX: 11.0 when a mandatory extrafield of type sellist contains '0' it should be considered empty and trigger an error message upon insertion\nFIX: 11.0 when a new intervention is created from an object, a new $extrafields object is instantiated but not initialized\nFIX: create MO, Column 'tms' cannot be null\nFIX: #14290 #15900\nFIX: #16076  patch user/list.php for extrafields\nFIX: #16077  patch wrong timezone\nFIX: #16079  error of service date at duplicated invoice\nFIX: #16080  mailing list title\nFIX: #16084  DB error at projects\nFIX: #16107\nFIX: #16118  Timezone problem on some fields\nFIX: #16131\nFIX: #16135\nFIX: #16143\nFIX: #16156\nFIX: #16160\nFIX: #16165  Create customer discount without VAT\nFIX: #16185\nFIX: #16189  fix download/see check deposit PDF\nFIX: #16215\nFIX: Accountancy - label_operation is used instead of label_compte\nFIX: Add critical price patch\nFIX: Assignment of actors on tasks\nFIX: Bad dates on info tabs\nFIX: cash fence for takepos with multientity\nFIX: CSRF errors on margin forms\nFIX: encoding status in graph of vendor proposals\nFIX: Fix detect dispatched product and set to received completely when the supplier order have services (support STOCK_SUPPORTS_SERVICES)\nFIX: hide/unhide external ICS calendars\nFIX: link to create event when task is in a project with a thirdparty\nFIX: Localtax must be converted with price2num\nFIX: manage price min for PRODUIT_CUSTOMER_PRICES\nFIX: Missing language ico\nFIX: Must not be able to edit vat of all lines if not draft\nFIX: Bad \"htdocs\" found into a path\nFIX: removed no more used proc update_modified_column_date_m on pgsql (its presence triggered errors)\nFIX: Vulnerability report by Ricardo Matias\nFIX: select default mail template\nFIX: Select transport mode function when creating a supplier invoice and add unique key to the table llx_c_transport_mode in migrate sql\nFIX: Merge of thirdparties : \"unknown column fk_soc\" + \"Delivery\" label\nFIX: SQL Error in group by with postgres or mysql strict mode\nFIX: TakePOS : load date function\nFIX: Timeout during import\nFIX: Trigger on expense report was not fired\nFIX: User creation of expense report not visible\nFIX: warning when adding a line if $remise_percent is an empty string\nFIX: status late on purchase orders\nFIX: ODT generation very slow\nFIX: amount in summary of report\nFIX: VAT value when code contains number\nFIX: payment term label on PDF\nFIX: date selector when using reduced year (like on smartphone)\n\n\n***** ChangeLog for 13.0.0 compared to 12.0.0 *****\n\nFor users:\n----------\nNEW: Module \"Credit transfer SEPA\" to manage payment of vendors using bank credit transfer SEPA files.\nNEW: Module Intracomm report\nNEW: Module Reception (for a more accurate management of your receptions) moved from experimental to stable.\nNEW: Module Recruitment to manage Job position and applications.\nNEW: Several security issues after a private bug bounty campaign.\nNEW: Accountancy - add chart of sub accounts\nNEW: Accountancy - add options to disable binding on sales, purchases & expense reports independently of the modules\nNEW: Accountancy balance - add a menu entry to show subtotal by group\nNEW: Accountancy - change menu disposition\nNEW: Accountancy - on transfers, select the periodicity by default\nNEW: Accountancy - add export for Gestinum (v3 & v5) #15180\nNEW: new currency rate editor\nNEW: Solve blocking feature. Can increase stock of a Kit without changing subproduct stock.\nNEW: add a widget to show the customers with outstanding limits reached\nNEW: add 2 rules for emailcollector: Message send/not sent from Dolibarr\nNEW: add a counter of number of words for pages in website module\nNEW: add a page to list Stock at a given date in the past\nNEW: add a start date to begin binding in accountancy\nNEW: add a statistics page to list popularity of products on invoices\nNEW: add calendar selection for agenda view\nNEW: Support documents generation for ticket edition (PDF or ODT)\nNEW: add column payment term into list of supplier invoices\nNEW: add column quantity in product margin page\nNEW: add column vat rate in page to define accounting account on product/service\nNEW: add costprice in fields of products list\nNEW: add an import profile for CUSTOMER ORDER, PO, PROPOSAL MODULE, SUPPLIER INVOICE\nNEW: add employee link in expense report binding page\nNEW: add EORI No. as ProfID5  #15382\nNEW: add export for various payments\nNEW: add Extrafields labels and values in mail on create ticket\nNEW: add Extrafields support on ECM module\nNEW: add filter rules \"is answer\" and \"is not answer\" in email collector\nNEW: add focus when editing on product/stock/product.php  -> close #14548\nNEW: add free text on each terminal of cash desk\nNEW: add global search for customer payments and vendor payments\nNEW: add global search for miscellaneous payments\nNEW: add helper function for table headers with numbers\nNEW: add link to edit property from the search result of website pages\nNEW: add link to reset qty on supplier dispatch page\nNEW: add MAIN_EMAILCOLLECTOR_MAIL_WITHOUT_HEADER const to remove header stored by email collector\nNEW: add Manufacturing Orders attached files into the automatic ECM view\nNEW: add margin info in invoice list\nNEW: add mass action to set category on a list of website pages\nNEW: add mass deletion for events\nNEW: add mass deletion for draft invoices\nNEW: add more filters on monthly statement list\nNEW: add option TAKEPOS_CAN_FORCE_BANK_ACCOUNT_DURING_PAYMENT\nNEW: add option to define a default warehouse at user level\nNEW: add option to include products without alert in replenish\nNEW: add order by lastname and firstname by default in get sales representatives\nNEW: add PDF document templates for warehouses (list of stock)\nNEW: add a prospect status for the contact with management of custom icon\nNEW: add public note on products ; this also partially fix the #14342\nNEW: add quick dropdown menu in top right menu (experimental with MAIN_USE_TOP_MENU_QUICKADD_DROPDOWN)\nNEW: add region in export companies and contacts\nNEW: add rights on margin info on invoice list\nNEW: add search param for close date on order list\nNEW: add show preview for mail attachment on form mail\nNEW: add State/Province origin for products\nNEW: add the workflow interaction close intervention on closing ticket\nNEW: add tracking number in list and search_all items\nNEW: add vcard for adherent and user\nNEW: add week number for month view in agenda\nNEW: Algeria data (VAT and forme_juridique)\nNEW: allow click on all header numbers on commerce area\nNEW: allow to reopen interventions (green button)\nNEW: allow zero quantity on supplier/vendor order line\nNEW: better currency rate editor\nNEW: can build vendor invoice from vendor orders\nNEW: can change a product in lines of a recurring invoice or contract\nNEW: can set the size of the logo on PDF documents\nNEW: can change VAT rate of all lines of a draft object in one step\nNEW: can define date range of validity of a login during creation\nNEW: can disable, from edit page, the whole web site\nNEW: can edit and set sales representatives directly on thirdparty card\nNEW: can edit the list of sending email profiles\nNEW: can enable/disable users in bulk actions\nNEW: can filter on accounting system ref in export of chart of account\nNEW: can filter on container type, language and tags in the list of web pages\nNEW: can hide eatby, sellby dates with option PRODUCT_DISABLE_EATBY and PRODUCT_DISABLE_SELLBY\nNEW: can import proposals, sales orders, supplier invoices\nNEW: can set a dedicated SMTP config for sending email from public ticket interface\nNEW: can set tags/categories to website pages\nNEW: can set type of price without tax per default for new sale price creation\nNEW: can use desired stock of a given warehouse for replenishment\nNEW: common behavior for monthly leave list view\nNEW: convert all subscription in datetime\nNEW: date shipment from order accepts hours\nNEW: price level compatibility for variant\nNEW: display stat for BOM on \"object referent\"/linked Object product tab\nNEW: Email configuration - allow auto signed certificate when smtp ssl activated\nNEW: enable free emails input with select2\nNEW: Events in agenda for contact\nNEW: filter on progress column in task list\nNEW: filter product list by country and/or state/province\nNEW: format tickets sent by mail in public interface\nNEW: form to add customer/supplier into categories\nNEW: Framework is ready for CSRF token protection on explicit GET URLs\nNEW: helper functions for export with phpspreadsheet\nNEW: hide closed contract lines\nNEW: hide label in PDF for variants\nNEW: if specific help page is available, we change color of icon\nNEW: include the tag editor of page as a popup into website editor\nNEW: introduce constant FACTUREFOURN_REUSE_NOTES_ON_CREATE_FROM\nNEW: introducing new modal boxes in TakePOS\nNEW: keep TakePOS terminal when login/logout\nNEW: link on balance to the ledger\nNEW: manage errors on update extra fields in ticket card\nNEW: mass-actions for the event list view\nNEW: more filter for \"View change logs\"\nNEW: multiselect type and date to date filter\nNEW: new line template: hidden conf to fill service dates from the last service line\nNEW: PDF model storm for delivery\nNEW: possibility to group payments by mode and show their subtotal\nNEW: Priority and transparency from external calendar events\nNEW: Products - Nature of product is now a dictionary   #13287\nNEW: Products Import/Export 'default warehouse' and 'use batch number' fields\nNEW: Purchase price table: added filterable table columns\nNEW: rate editor for multicurrency\nNEW: ref_ext field for Commande lines, order lines, Attributes and Combinations, Invoice lines, payments, order lines\nNEW: remove new lines in mail on add ticket message\nNEW: Rule \"email to\" accept wildcard *\nNEW: save filter of the project homepage\nNEW: select-able columns on customer and supplier invoice paymnet list\nNEW: select-able columns on miscellaneous payments + more data columns\nNEW: select-able columns on social taxes list\nNEW: send context and remove new lines on create ticket\nNEW: show category filter on lists only when user have rights to read categories\nNEW: show header number and make it clickable in warehouse area, payment area, shipment area\nNEW: show image of user in the combo select of users\nNEW: show label on batch card\nNEW: show links for select and multi-select in category extra field\nNEW: show module and permission ids on user/group rights (only admin)\nNEW: show place from events on import calendar\nNEW: show references in contract form on interventions\nNEW: show tags and status in search list of website pages\nNEW: show user on external calendar events (when found)\nNEW: subject title with company name instead of application title in ticket message\nNEW: Support for Samba4 AD\nNEW: TakePOS appearance tab with more visual parameters\nNEW: TakePOS add alert before changing thirdparty\nNEW: TakePOS add third order printer\nNEW: TakePOS can change thirdparty with barcode scan\nNEW: TakePOS can create a thirdparty customer from TakePOS frontend\nNEW: TakePOS connector compatibility with RECEIPT PRINTERS module\nNEW: TakePOS add delayed payment\nNEW: TakePOS display date range if exist\nNEW: TakePOS display resiliate status for members\nNEW: TakePOS Gift Receipt\nNEW: TakePOS multicurrency compatibility\nNEW: TakePOS multicurrency total\nNEW: TakePOS print payment method and change\nNEW: TakePOS restrict thirdparty to customer\nNEW: TakePOS show available stock\nNEW: TakePOS Weighing Scale compatibility with TakePOS connector #14725\nNEW: Thirdparty Import new fields: mother company,outstanding debt limit,bank account,incoterms\nNEW: Thirdparty module : box on customer/supplier tab for invoice outsantding amount late\nNEW: Ticket classification on create from email collector\nNEW: Ticket message notifications when edited from public interface\nNEW: Ticket translate classification labels in ticket\nNEW: VAT rate for Angola #15606\nNEW: VAT and juridical status for Algeria\nNEW: VAT report - Invert constant to show by default zero VAT in reports\nNEW: website page fields selection\nNEW: website - global header of a website can also have dynamic content\nNEW: when creating a user from a member linked to a thirdparty, you can choose to create it as external or internal user\nNEW: add clone button on miscellaneous payment\nNEW: add option to put the product label in bold in the PDF templates if configured #15065\nNEW: add option \"If the feature to manage kits of module Stock is used, show details of subproducts of a kit on PDF.\"\n\n\nFor developers:\n---------------\nNEW: add __MEMBER_TYPE__ and __TYPE__ substitution key\nNEW: add function dolButtonToOpenUrlInDialogPopup() to be able to open page into a popup\nNEW: show line number on intervention card (via MAIN_VIEW_LINE_NUMBER)\nNEW: add some fields to link website page to an other object\nNEW: fill ECM src object fields in dol_add_file_process\nNEW: conf to allow to show the full tree in warehouse popup\nNEW: can use parameter ?THEME_DARKMODEENABLED=2 for a preview of theme in dark mode\nNEW: can force the antivirus from conf file or autoprepend ini setup\nNEW: can add event to log into blockedlog module with a constant\nNEW: add property cssview when declaring fields of an object\nNEW: can use dynamic code into the 'enabled' property of DAO fields\nNEW: field ref_ext in llx_commandedet\nNEW: fields ref_ext for Attributes and Combinations\nNEW: OAuth SCOPE for Admin SDK\nNEW: standardizes API thirdparties by email like other object\nNEW: Triggers Attributes and Attributes values\nNEW: add incoterms data into the substitution array\nNEW: add send context for ticket\nNEW: add a message in error_log after detection of SQL or script injection\nNEW: add validation of MX domain for emails\nNEW: calculate the virtual stock in transverse mode ( not on getEntity('commande'), ... but on getEntity('stock') )\nNEW: Graphics can be horizontal bars\nNEW: add param to not show links when output tags\n\nAPIs\nNEW: API get contacts list of a given order\nNEW: API endpoint getContacts and clean results\nNEW: API can update a payment\nNEW: API get member by thirdparty\nNEW: API get thirdparty by barcode\nNEW: API get users by email / login\nNEW: fetch contact by email with REST API\nNEW: get state dictionary by REST API\nNEW: improve Product API for variant products\nNEW: retrieve discount from invoice from API\nNEW: Thirdparty REST API: endpoint to set price level\nNEW: use new category API for project list view\n\nHOOKs\nNEW: add hook on propal card\nNEW: add hooks on newpayment page to allow external payment modules\nNEW: add hooks on stats pages\nNEW: add formConfirm hook on product page\nNEW: add two hooks printFieldListFrom and printFieldSearchParam\nNEW: add hook \"loginCheckSecurityAccess\"\n\nWARNING:\n\nFollowing changes may create regressions for some external modules, but were necessary to make Dolibarr better:\n* The object \"livraison\" has been renamed into \"delivery\" (directory, class, keys, methods with livraison in name ...).\n* All properties ->contactid have been renamed into ->contact_id\n* All properties ->titre have been renamed into ->title\n* Property $paiementid in API 'api_supplier_invoices.php' has been renamed into into $payment_mode_id\n* Property 'num_paiement' has been renamed 'num_payment' everywhere for better code consistency.\n* The deprecated substitution key __SIGNATURE__ has been removed. Replace it with __USER_SIGNATURE__ if you used the old syntax in your email templates.\n* The hidden option HOLIDAY_MORE_PUBLIC_HOLIDAYS has been removed. Use instead the dictionary table if you need to define custom days of holiday.\n* If you build a class that implement CommonObject to use the incoterm properties or methods (->fk_incoterm, ->label_incoterm, ->location_incoterm),\n  you must now also include declaration of the Trait 'CommonIncoterm' in your class. All incoterm functions were moved into this Trait.\n* The GETPOST(..., 'alpha') has now the same behaviour than GETPOST(..., 'alphanohtml') so no html will be allowed. Use GETPOST(..., 'restricthtml') to accept HTML.\n* If you have links in your code with '&action=add', '&action=update', '&action=delete' as a parameter, you must also add '&token='.newToken() as another parameter to avoid CSRF protection errors.\n* The API addPayment for api_invoice has evolved to accept amount into a foreign currency. You must provide array(amount=>X,mutlicurrency_ammount=>Y) instead of simple amount.\n* The method select_thirdparty(), deprecated since 3.8, into html.form.class.php has been removed.\n* Depreciate all methods with name ->valid(). Use instead methods ->validate().\n* Function showStripePaymentUrl, getStripePaymentUrl, showPaypalPaymentUrl and getPaypalPaymentUrl has been removed. The generic one showOnlinePaymentUrl and getOnlinePaymentUrl are always used.\n* Context for hook showSocinfoOnPrint has been moved from \"showsocinfoonprint\" to \"main\"\n* Library htdocs/includes/phpoffice/phpexcel as been removed (replaced with htdocs/includes/phpoffice/PhpSpreadsheet)\n* Database transaction in your triggers must be correctly balanced (one close for one open). If not, an error will be returned by the trigger, even if trigger did return error code.\n* Dolibarr v13 is still compatible with any PHP version between 5.6.0 and 7.4.*; Unit tests are OK with PHP 8.0 but some warnings or troubles may appears with PHP 8.0.\n* All your Ajax services must contains such a line at begin of file:  if (!defined('NOTOKENRENEWAL')) define('NOTOKENRENEWAL', '1'); // Disables token renewal\n\n\n\n***** ChangeLog for 12.0.5 compared to 12.0.4 *****\nFIX: before crediting a withdrawal receipt, check whether it has been credited already\nFIX: mandatory extrafields of type sellist\nFIX: when a mandatory extrafield of type sellist contains '0' it should be considered empty and trigger an error message upon insertion\nFIX: when a new intervention is created from an object, a new $extrafields object is instantiated but not initialized\nFIX: \"openall\" filter on ticket list does not include read tickets\nFIX: ticket - extrafields of type 'date' are not saved\nFIX: ticket - the \"openall\" filter on the ticket list does not include tickets with status READ\nFIX: #14290 #15900\nFIX: #15388 #15891\nFIX: #15465 External user sees last 5 shipments to other customers in the dashboard\nFIX: #15629\nFIX: #15751 Miscellaneous payment type change to 0 after updating subledger account\nFIX: #15946\nFIX: #15966 #15967\nFIX: Accountancy - Fix some problems on CEGID export\nFIX: Accountancy - label_operation is used instead of label_compte\nFIX: Accountancy - Retire entire opening balance feature\nFIX: add autofix of count of email target when data is corrupted\nFIX: add categories params  on llxHeader filter\nFIX: Add critical price patch from 12 to 11.\nFIX: Bad cleaning of VAT rate when numbers are into code\nFIX: Bad dates filtering in the ticket list causes sql error\nFIX: balance starting and ending fiscal month #14197\nFIX: bom line unit display #13831\nFIX: cash fence for takepos with multientity\nFIX: Check of customer/vendor code fails in some cases\nFIX: create ticket : thirdparty/contact notification #15629\nFIX: Creation of thirdparty when setup is empty\nFIX: Dates of sales start in TakePOS\nFIX: dupliacete customer or supplier code must be error dipslayed with new code proposed\nFIX: Export FEC - Force Carriage Return Line Feed\nFIX: Facture Situation Out : status condition\nFIX: Filter on date of next generation on template invoices\nFIX: Fix detect dispatched product and set to received completely when the supplier order have services (support STOCK_SUPPORTS_SERVICES)\nFIX: Invoice Situation Out : status condition\nFIX: issue 15659 : Missing test if supplier conf is enabled\nFIX: link to create event when task is in a project with a thirdparty\nFIX: Localtax must be converted with price2num\nFIX: manage price min for PRODUIT_CUSTOMER_PRICES\nFIX: missing GETPOST parameters on card_presend.tpl.php\nFIX: missing socid into link to create event from project agenda tab\nFIX: Must delete extrafields before main table on product deletion.\nFIX: (path) htdocs removed\nFIX: php alert sms.php\nFIX: right to show VAT rate in product list\nFIX: select default mail template\nFIX: Timeout during import\nFIX: update order by api\nFIX: useless tracking number displayed on pdf if empty issue #14501\nFIX: Visible date of payment\nFIX: warning when adding a line if $remise_percent is an empty string\nFIX: When creating a new POS sell, the creation date must be modified.\nFIX: wrong name for search status param issue #15516\n\n***** ChangeLog for 12.0.4 compared to 12.0.3 *****\nFIX: make formConfirm an addreplace-type hook\nFIX: regex to remove 'action' parameter: taking feedback from PR#15213 into account\nFIX: remove 'action' parameter from redirect URL when reordering lines on a document\nFIX: error when displaying lines on order after adding a line if both MAIN_MULTILANGS and MAIN_DISABLE_PDF_AUTOUPDATE are activated\nFIX: on survey creation, entity is always set to 1 ⇒ set it to $conf->entity\nFIX: set entity to $conf->entity (instead of 1 by default) when creating a survey; otherwise the survey cannot be listed from the entity it was created on unless it is the main entity\nFIX: the stringent XSS protection provided by 'alphanohtml' causes problems with some clients who used basic tags (bold, italic, underline) in product labels. Using 'restricthtml' instead could be a good compromise.\nFIX: third party of object is not always fetched when initiating the e-mail presend action (e.g. from an order)\nFIX: when the cronjob 'params' field is empty, the cron method is called with one empty string param instead of no params at all\nFIX: XSS protection too stringent -> replace 'alphanohtml' with 'restricthtml'\nFIX: #13067 including opening balance in calculation of displayed balance\nFIX: #14326\nFIX: #14649\nFIX: #14901\nFIX: #14927 Change ContratLigne property type to product_type\nFIX: #14979\nFIX: #15074\nFIX: #15111 Fix special characters output in PDF\nFIX: #15161 MO translation conflict\nFIX: #15163\nFIX: #15199\nFIX: #15208\nFIX: #15303\nFIX: #15365 export of extrafields for user and resources\nFIX: #15374 : \"New\" doesn't clear total amounts\nFIX: #15501\nFIX: #15572\nFIX: #15590\nFIX: #15618\nFIX: supplier proposals as linked objects of events are not correctly fetched\nFIX: when users create an event from a supplier proposal, the \"linked objects\" section says \"Deleted\"\nFIX: Accountancy - Some adjustments on length of the account (general & auxiliary)\nFIX: admin conf selected\nFIX: also check if there is a method $object->fetch_thirdparty() before calling it\nFIX: autofocus on first setup\nFIX: Bad rights to send contract\nFIX: Better error message with IMAP when connection fails\nFIX: Can create user but not update user with activedirectory\nFIX: Can receipt of a product that required lot after disabling stock and\nFIX: Can't create shipment for virtual product. Add\nFIX: can't empty action comm desc\nFIX: CA report by product/service : subcategory filter\nFIX: Clean orphan records in llx_ecm_files into repair script.\nFIX: default accountancy values and posted values\nFIX: Deletion of expensereport + other generated object not complete.\nFIX: disabled users must not be available in sales representative list on societe edit mode\nFIX: Dol print error : conf usage thirdparty propagate extrafields to\nFIX: Don't display inactive users in birthday box and company card\nFIX: empty value is needed on filter list\nFIX: enable HTML in product labels depending on conf MAIN_SECURITY_ALLOW_UNSECURED_LABELS_WITH_HTML\nFIX: error 500 on cash closure\nFIX: excess comma\nFIX: Export FEC - Remove line at zero\nFIX: extrafield required error after submit\nFIX: filter on project list\nFIX: force payment mode to withdraw\nFIX: formatting of prices with foreign languages\nFIX: handling $heightforinfotot when he's superior to a page height\nFIX: if no PDF default model in admin for expense report, do not create a PDF\nFIX: invoice payment terms edition: error management\nFIX: list of fields in list of recurring invoices was empty\nFIX: load default linked options for linked sellist extra fields\nFIX: Loan - Return on list when you cancel create form or delete a loan\nFIX: Missing lang trans\nFIX: no empty value in required extrafield\nFIX: Param joinfiles not sanitized\nFIX: Payment by BankTransfer\nFIX: pdf_getlinetotalwithtax must show total incl tax\nFIX: Problem on supplier payment card\nFIX: product auto volume calculation\nFIX: product customer prices: missing triggers in CRUD class\nFIX: Request on purchase orders in timeout even on very small databases\nFIX: set paid on total discount of a product in cash desk\nFIX: several warning with the barcode use in ODT templates\nFIX: SHIP MODE install v12 bug insert\nFIX: stripe for connect mode\nFIX: subcat filter\nFIX: supplier invoice: automatically calculate payment term when modifying payment condition\nFIX: SUPPLIER PROPOSAL v12 bug add\nFIX: table making extrafield input too small on advance target mailing\nFIX: table making extrafield too small advtagertmailing\nFIX: Unable to edit extrafields in expense report\nFIX: update margins rates on object line edit\nFIX: uses price2numjs\nFIX: various payments: bad data handling for subledger account + useless db commit/rollback\nFIX: virtual products: displayed value is by unit\nFIX: virtual products: supplier discount was not applied in component list\nFIX: warning for purchase order delivery late.\nFIX: Warning on late purchase order delivery\nFIX: WORKFLOW_ORDER_CLASSIFY_SHIPPED_SHIPPING must not consider services while STOCK_SUPPORTS_SERVICES is empty\nFIX: wrong tab\nFIX: Yogosha report 4425 (backport)\nFIX: Yogosha report 4434 (backport)\n\n***** ChangeLog for 12.0.3 compared to 12.0.2 *****\nFIX: 10.0 - when the mime file name is different from the filesystem name, the attachment name should be the mime filename\nFIX: 11.0 - expenses lines overlapping the total amounts frame\nFIX: 12.0 - round value of virtual stock on product stock reassort list\nFIX: #14469\nFIX: #14474 Error when deleting\nFIX: #14530\nFIX: #14703\nFIX: - Accountancy balance Error SQL on entity\nFIX: Bad number of subscription (forgotten when member was resiliated)\nFIX: bad route url to delete subproduct with API\nFIX: Category for supplements not saved\nFIX: Compatibility with modules without document generation\nFIX: Cron load lang\nFIX: CSS\nFIX: Error management. Do no try to approve PO if validation fails.\nFIX: expenses lines overlapping the frame for total amounts.\nFIX: Filter in \"billed\" of orders was not saved\nFIX: infinite fetch object linked loop\nFIX: Intervention lose html tags when updating\nFIX: JS CRASH - bad usage of moreparam\nFIX: lang fr retained warranty\nFIX: Look and feel v12: First tab must be name of object\nFIX: missing entity check\nFIX: missing param for hook\nFIX: Missing transaction on PO actions\nFIX: MySQL Strict mode\nFIX: param entity in html form file\nFIX: Problems on FEC format\nFIX: round stock value on product list\nFIX: - Send mail from contact : select mail model\nFIX: set sales representatives on create company card\nFIX: Setup of stock increase/decrease\nFIX: sign of amount with credit note and multicurrencies\nFIX: Static property called as non static\nFIX: task leftmenu\nFIX: title button attribute id empty\nFIX: unit price divided by quantity when accepting supplier price proposal\nFIX: Update extrafields on line only if it is supported\nFIX: Update line of BOM\nFIX: using decimal on stock correction\nFIX: Visualization rights correction on last modified contacts box\nFIX: Wrong redirection\nFIX: Yogosha report 4425 (backport)\n\n\n***** ChangeLog for 12.0.2 compared to 12.0.1 *****\nFIX: computation of the bottom margin of <body> returns NaN because body is not loaded yet\nFIX: DebugBar hides content at page bottom\nFIX: allow more harmless html tags\nFIX: Bad back to link\nFIX: Bad param\nFIX: Can go on page even when module is disabled\nFIX: Change position of line in BOM\nFIX: Checkbox \"drop table\" was not checked when using php method to generate backup dump\nFIX: ClickToDial tab of users has disappeared\nFIX: CSS\nFIX: date in supplier price log tooltip.\nFIX: Debug module direct debit order. Solve conflict with credit transfer\nFIX: Debug setup of receipt printer module\nFIX: dolGetElementUrl and agenda page for external modules\nFIX: DO not erase variable $key and $label during output of extrafields\nFIX: duration fields size with firefox\nFIX: Edit extrafield of type long text loose carriage returns\nFIX: Fails to retraive accounting code of social contribution sometimes\nFIX: Filter too large for extrafields with type text or html\nFIX: If using a rounding step, localtax1+2 not included in total\nFIX: input field of extrafields must keep data if form submit fails.\nFIX: Label of opportunities in graph with special chars badly encoded\nFIX: locataxes lost on lines when cloning a vendor invoice\nFIX: Look and feel v12\nFIX: Missing PRODUIT_TEXTS_IN_THIRDPARTY_LANGUAGE conf support in supplier order\nFIX: Navigation in object fails to find the next ref in some cases\nFIX: null required\nFIX: order by amount ht uses wrong column\nFIX: Order by amount in product propal stats must be done on d.total_ht and not p.total\nFIX: page for confirmation of payments is empty\nFIX: Param of fetch_name_optionals_label must be object->table_element\nFIX: Picto of HRM module\nFIX: product label and desc were never updated when modifying translation\nFIX: redirect on contact card from main search\nFIX: Reposition and nav\nFIX: search warehouse list\nFIX: Setup of clicktodial hang on smartphone\nFIX: Setup of currency limit and accuracy\nFIX: shipping creation: checks not done on weight and sizes\nFIX: Should not be able to edit qty on shipment when no stock available\nFIX: Size of image on the help popup of modules\nFIX: Sql error on stat by referring entries of a product\nFIX: Warning if no bank account defined\nFIX: We need to see unit line on PDF even though it's an option\nFIX: wrong element var for fetch_name_optionals_label function with expeditions\nFIX: wrong link to third invoice templates\nFIX: Disable svg as supported image by default (can contains javascript). Set MAIN_ALLOW_SVG_FILES_AS_IMAGES to 1 to have svg accepted\nFIX: #14076\nFIX: #14146\nFIX: #14209\nFIX: #14222\nFIX: #14236\nFIX: #14241 Mysql 8 compatibility\nFIX: #14253\nFIX: #14256\nFIX: #14259\nFIX: #14279\nFIX: #14291\nFIX: #14292\nFIX: #14336\n\n***** ChangeLog for 12.0.1 compared to 12.0.0 *****\nFIX: reposition was broken if url end with #anchor\nFIX: $_POST must be GETPOST\nFIX: 10.0 - fatal with postgreSQL\nFIX: #14109\nFIX: #14112\nFIX: #14142\nFIX: all extrafields cleared after update of one of them\nFIX: Avoid warning when creating a module with already existing files\nFIX: change selected fields on company card\nFIX: Correct ModuleBuilder left menu\nFIX: create a deposit with amount using comma didn't work\nFIX: CSS\nFIX: Entry from stripe intent were reported into SEPA payments\nFIX: Filter on status, closing opening status\nFIX: html lost on html extrafield\nFIX: Label of popup on thirdparty\nFIX: missing possibility to change entity when propal cloning\nFIX: missing setup of extrafields for MO\nFIX: Missing the tooltip when creating bank account\nFIX: Missing token\nFIX: non numeric value on comm/card.php\nFIX: SQL Problem in customer invoice list\nFIX: SQL Problem in social contribution list\nFIX: SQL Problem in supplier invoice list\nFIX: SQL syntax error when editing extrafields\nFIX: SQL type\nFIX: TakePOS 12 hook\nFIX: Update form erased extrafields that were hidden\nFIX: Update of extrafields date\nFIX: Update of extrafiels on draft object\nFIX: upload documents into manual ECM was reported a permission error\nFIX: Use of office365 TLS with SMTPs method.\nFIX: wrong origin\nFIX: Permission error during import\n\n***** ChangeLog for 12.0.0 compared to 11.0.0 *****\nFor users:\n\nNEW: Module MO (Manufacturing Order) is available as stable module.\nNEW: Receipt printer module moved from 'development' to 'experimental'\nNEW: add option MAIN_VIEW_LINE_NUMBER_IN_LIST for some lists\nNEW: add numbering module for TakePOS module\nNEW: 2 new options when creating an invoice from time spent on a project : by period or by task\nNEW: Accountancy add column thirdparty on binding page\nNEW: Accountancy - Add Export for Fiducial Winfic eWinfic WinSis Compta\nNEW: Accountancy - Add Export LD compta version 10\nNEW: Accountancy - Add mode intra & export for product or service bought\nNEW: Accountancy - Add possibility to manage a short alternative label for account - Use to simplify accountancy\nNEW: Accountancy - General ledger - Add an option to search not reconciled lines\nNEW: Add accountancy code of thirdparty in contact and supplier export\nNEW: support webp image format\nNEW: add checkbox \"overwrite if exists\" into ECM/DMS module\nNEW: add a link to notes in members list\nNEW: add a parameter to group same products in TakePOS\nNEW: add a parameter to sort product by label in TakePOS\nNEW: add a profil to import contact categories\nNEW: add company extrafields into order export\nNEW: add const CASHDESK_FORCE_DECREASE_STOCK to force batch decrementation\nNEW: add const TAKEPOS_NUMPAD_USE_PAYMENT_ICON to use icons on payment buttons\nNEW: add csv separator setup in module admin\nNEW: add dedicated substitutions keys for extrafields of type date and datetime\nNEW: add default warehouse for dispatch\nNEW: add due date in feature \"Export accounting documents\"\nNEW: add duration information for fichinter\nNEW: Start support of Dark theme into ELDY theme\nNEW: Add field author public alias for blog post on website module\nNEW: Add \"finished\" field on product list\nNEW: Add French association chart of accounts 2018\nNEW: Add French farm chart of accounts 2014\nNEW: Add French foundation chart of accounts 2018\nNEW: add global reduction in cash desk\nNEW: Add graph type 'piesemicircle'\nNEW: Add hook getInputIdProf. Better solution for #13228\nNEW: Add hook on margin list page\nNEW: add icon on payment buttons in cash desk\nNEW: Add include various payments and loans in accounting report with simplfified accountancy\nNEW: Add invoice stat graph and categ search\nNEW: Addition of delivery times in substitution variables\nNEW: add member to validate on dashboard\nNEW: Add method to add social network sharing buttons on blog posts\nNEW: add multicurrency columns to document lists\nNEW: add numbering module for cash desk\nNEW: add Opening Balance column to balance.php\nNEW: add opportunity status in project stats\nNEW: Add option PDF_USE_ALSO_LANGUAGE_CODE to generate PDF in 2 languages\nNEW: Add option to hide all inactive users into combo list of users.\nNEW: add PDF certificate if present on document folder\nNEW: add product if only one found\nNEW: Add product on key \"Enter\" in search bar\nNEW: add professional ID 1 in sepamandate document\nNEW: Add Project Ref Column on list of social/fiscal contributions\nNEW: add Project Ref in events export\nNEW: add public and private notes in propal list\nNEW: Add social networks of the company\nNEW: Add sorting for contacts of ... pages\nNEW: Add substitution variables for url of document in backoffice\nNEW: Add tel and fax in warehouse card\nNEW: add total of value in product stat\nNEW: add total weighted amount in project list\nNEW: add units in product list\nNEW: add VAT ID in sepamandate document\nNEW: add VAT rates in free zone for product/service in TakePOS\nNEW: add weighted amount on project/opportunity\nNEW: add width and height measures in product list\nNEW: add WYSiWYG on member type's description\nNEW: [Allow constants values to be overridden by environment variables]\nNEW: Allow custom module class origine type in Mouvementstock\nNEW: allow display extrafields on pdf\nNEW: Allow extrafields on pdf : extend to line desc\nNEW: allow time consumed to be linked to another task\nNEW: Another way to navigate between pages for some lists\nNEW: Add author column in the client/supplier invoice lists and into order list\nNEW: bank account tags for invoice ODT template\nNEW: Bar Restaurant tab and Auto order\nNEW: better filter on shipment list as other list\nNEW: Better php module view admin\nNEW: Bookkeeping - Add link to document & pdf\nNEW: Bookmarks are now in top menu bar\nNEW: Can check all events in one click in setup of audited events\nNEW: Can create an deposit from order using a percentage of qty.\nNEW: Can edit option PDF_USE_ALSO_LANGUAGE_CODE from PDF setup page\nNEW: Can enter and edit stripe credit card using the Stripe card ID\nNEW: Can filter on donation status in list\nNEW: Can replace a string into all pages in website module\nNEW: Can select several fields to personalize list before submit.\nNEW: Can select which element to export in export accounting documents.\nNEW: can update contact in import model\nNEW: Cash Fence in TakePOS\nNEW: Categories and subcategories sorted by label in TakePOS\nNEW: Categories for actioncomm\nNEW: Category filter for bank and warehouse list\nNEW: Chart of accounts to Ecuador\nNEW: class tool for converting units\nNEW: Close #13011 Add button create thirdparty when creating intervention\nNEW: Colorful theme for TakePOS\nNEW: columns units in product list\nNEW: compatibility of translabel with more dictionaries\nNEW: Confirm file delete on invoice card\nNEW: \"contact_civility\" for ODT templates\nNEW: CUPS printing compatibility for TakePOS\nNEW: Customer command list - Add date start & date end\nNEW: display weight in shipment list\nNEW: Documentation about PHP support in Dolibarr\nNEW: Donation - Update FR CERFA to 11580*04\nNEW: Easier way to setup the different types of tax. Better visibility.\nNEW: Expedition list - Add date start & date end\nNEW: Experiment supplier packaging with option PRODUCT_USE_SUPPLIER_PACKAGING: Using price according to the minimum quantity\nNEW: Export module, add extrafields for Contract and Contract line\nNEW: Extend retained warranty to be  available for all invoices\nNEW: French new regions\nNEW: hook and data id\nNEW: hook on ics generation to add more events in eventarray\nNEW: hook on product load stats\nNEW: If $dolibarr_main_force_https is set, the flag 'secure' on session\nNEW: ignore dir for apple pay with stripe\nNEW: Invoice list - Add date start & date end\nNEW: invoice list: enable multicurrency columns\nNEW: labels on reduction buttons in cash desk\nNEW: Minimum sell prices taking into account in TakePOS\nNEW: monthly view to enter time\nNEW: Multiple sales in TakePOS\nNEW: multiselect categorie client stats facturation\nNEW: no confirm discard ticket if paid\nNEW: not show linked table on add message action\nNEW: only auto print paid ticket in cash desk\nNEW: only show units columns in product list (not in service list)\nNEW: order list: enable multicurrency columns\nNEW: Overwrite tpl with module_part['tpl'] is deprecated. USe hooks\nNEW: possibility to defined rounding rules by currency\nNEW: possibility to show society info when print page\nNEW: Povide a RSS Feed for blogposts\nNEW: PRODUCT_SHOW_ORIGIN_IN_COMBO\nNEW: Project task list, add column selector and extrafields\nNEW: Propal list - Add date start & date end\nNEW: propal list: enable multicurrency columns\nNEW: RECEIPT_PRINTER_NB_CHARACT_BY_LINE and FIX: product label\nNEW: Restore version of application on main screen (for screenshots)\nNEW: Salaries list - Add date start & date end\nNEW: search on key code \"enter\" if defined in TakePOS\nNEW: set payment method on paid ticket in TakePOS\nNEW: Show active widget state of a RSS feed\nNEW: Show count of each category elements in category card\nNEW: Show creator, last update user of category/tag in the information tab\nNEW: Show list of users in the user category card\nNEW: show messages on ticket card\nNEW: show \"New category\" button in top of sub categories list\nNEW: show project label in project index\nNEW: Show units of products in stocks and hide total units if content is of diffents units\nNEW: sorting elements on project overview\nNEW: special option MAIN_CREATEFROM_KEEP_LINE_ORIGIN_INFORMATION to store in document line created form other documents lines the id of original lines and origin class line rather than origin object id and origin object type\nNEW: stats invoice graph with 3 bars (3 years instead of 2)\nNEW: supplier invoice list: enable multicurrency columns\nNEW: supplier order list: enable multicurrency columns\nNEW: supplier proposal list: enable multicurrency columns\nNEW: Support of tag {line_pos} for line numbers for tables in ODT templates\nNEW: Support some HTML contents into ODT documents\nNEW: Parameters for Bar Restaurant are grouped in same tab\nNEW: Takepos : Sort products by reference\nNEW: Takepos supplements are supported.\nNEW: The info_admin() can show text after click on other text\nNEW: The module selection uses a KanBan view by default.\nNEW: tooltip for Unit_type and scale in \"Dictionary setup - Measuring Units\"\nNEW: tooltip notes with first public note and then private note\nNEW: Tree view for sub-categories\nNEW: Truncate columns names when too long and show full title as popup\nNEW: upload odt models for invoices, order, proposal, thirdparties and shipments.\nNEW: Use native --convert-to feature to convert to pdf\nNEW: Add user on order list\nNEW: Various payment list - Add search date start & date end & subledger account\nNEW: visu FROM day TO day in permonth view\nNEW: Website logs are now into a separated log file.\nNEW: X-Axis on graph are shown vertically when there is a lot of values.\nNEW: Can force ref of a variant product\n\nFor developers or integrators:\n\nNEW: Add a method $form->widgetForTranslation to allow any field of a form to be entered into different languages.\nNEW: Add API to get types of expense reports\nNEW: API filter bankaccounts by category\nNEW: API filter contacts by category\nNEW: API filter members by category\nNEW: API filter projects by category\nNEW: API filter thirdparty by category\nNEW: API filter user by category\nNEW: API filter warehouses by categorie\nNEW: api for  get user's documents\nNEW: api invoice get by ref\nNEW: API to update purchase price.\nNEW: Move engine to build charts from jflot to chart.js\nNEW: Upgrade ace to 1.4.8 - Upgrade select2 to 4.0.13\nNEW: Upgrade Stripe library to 6.43.1\nNEW: Bookkeeping by account - Add selectfields & hook\nNEW: Can force position of legend of graph on right (instead of top)\nNEW: Can change destination of \"Back to list\" using a \"backtolist\" parameter\nNEW: add more category types from hook\nNEW: enable put for agendaevents api\nNEW: filter by product on supplier order API\nNEW: get documents for categories with RESP API\nNEW: get proposal by ref with API\nNEW: Hidden option MAIN_TEMP_DIR\n\nWARNING:\n\nFollowing changes may create regressions for some external modules, but were necessary to make Dolibarr better:\n* PHP 5.5 is no more supported. Minimum PHP is now 5.6+.\n* Default mode for GETPOST function is now 'alphanohtml' instead of 'none'. So check when you make POST or GET requests with\n  HTML content that you make a GETPOST('myparam', 'restricthtml') or GETPOST('myparam', 'none') if you really need posted content without sanitizing\n  the HTML code of content (in such a case, sanitize data later)\n* Removed hidden constant MAIN_EXTRAFIELDS_IN_ONE_TD that was useless.\n* Reference of object including a \"/\" are no more allowed. It is never used by default but to support setup that introduced it, the \"/\" will be replaced\n  by a \"_\" automatically when a reference (with a custom numbering mask that use it) is generated.\n* Library jflot (replace with chartjs) was removed.\n* Library geoip (replaced with geoip2) was removed.\n* Hidden constant COMMANDE_VALID_AFTER_CLOSE_PROPAL was renamed into ORDER_VALID_AFTER_CLOSE_PROPAL.\n* Object field ref_int is deprecated and set to 'not used', method to fetch object by only ref_int is not supported anymore.\n* UserGroup class has been refactored with new architecture. Triggers of class UserGroup are now USERGROUP_CREATE, USERGROUP_MODIFY, USERGROUP_DELETE\n* A new way to navigate between pages in list is available. To use it (not mandatory), you must:\n  - replace line $page = GETPOST('page', 'int') with $page = GETPOSTISSET('pageplusone') ? (GETPOST('pageplusone') - 1) : GETPOST(\"page\", 'int');\n  - remove input field in form '<input type=\"hidden\" name=\"page\" value=\"'.$page.'\">';'\n  - add parameter $pagenavastextinput to value 1 when calling print_barre_liste()\n\nWARNING FOR DOLIWAMP USERS ONLY:\n\nOnly people that installed Dolibarr using the all-in-one auto-installer for Windows called \"DoliWAMP\" are concerned by the following warnings:\n\n* DoliWAMP auto-installer for Windows is no more available on 32 bits systems. Use standard package if you need to use such architecture.\n* It is not possible to migrate from an installation done with the old DoliWAMP auto-installer for Windows by using this new one.\n  You must make a backup of your database, make a fresh installation using the new installer and reload your backup.\n  Don't forget that DoliWAMP is a good solution to make a quick test of Dolibarr on your local computer but is not recommended as a production\n  solution on a local desktop since a local desktop computer has often no backup and security policy, or not as good as on a server (when there is one).\n  DoliWAMP remains a solution for fast test or demo purposes. Prefer using standard packages for production.\n\n\n***** ChangeLog for 11.0.5 compared to 11.0.4 *****\nFIX: $arraydefaultmessage is an object, as well as in /htdocs/core/class/html.formmail.class.php\nFIX: 10.0 - pagination in prelevement/bons.php\nFIX: 10.0 - undefined $langs if template file copy fails during activation of modContrat\nFIX: 11.0 - fatal with postgres on contact/agenda.php\nFIX: 11.0 - multicurrency amount not fetched when fetching payments from llx_paiement or llx_paiementfourn\nFIX: 11.0 - when using pdftk as per hidden conf USE_PDFTK_FOR_PDF_CONCAT, check that the file exists before displaying a success message\nFIX: #13841\nFIX: #13877 - Can validate invoice if there is a credit note with VAT 0% on an invoice with other lines with a VAT non 0%\nFIX: #13968\nFIX: #14001\nFIX: #14002\nFIX: 9.0 - delete unused mandatory argument from migrate_clean_association: argument count mismatch causes a fatal error since php7\nFIX: 9.0 - fatal during migration from 3.1 using PHP 7\nFIX: Accountancy - Binding index - Add a filter on sql request for module Subtotal & Jalon\nFIX: avoid error \"Call to undefined function measuringUnitString()\"\nFIX: BlindBoolean SQL injection reported by Christian Weiler\nFIX: Can create a credit note on situation invoice if previous is also\nFIX: can install module even if (x) was appended during download.\nFIX: copy value date of VariousPayment onto the new AccountLine\nFIX: count of open day when date and start are not open should be 0\nFIX: Default bank account was not loaded for document generation.\nFIX: Do not show stats panel if the user does not have permissions\nFIX: Fix link of the button to create a credit note and fix the awareness of a error that happen when wo create a credit note\nFIX: force rounding 2 on export ld compta\nFIX: free text on cash desk\nFIX: links into emails of notifications\nFIX: missing file manifest.json.php\nFIX: missing GetNomURL Hook in warehouse class\nFIX: missing hook init + table class + $page not set\nFIX: missing rollbacks on trigger bad return\nFIX: missing translation value for key \"NoMorePredefinedProductToDispatch\"\nFIX: percent must be displayed on one line\nFIX: php error if multicompany disabled\nFIX: Privilege escalation reported by wizlynx WLX-2020-011\nFIX: replace filter parameter \"none\" by \"restricthtml\"\nFIX: Rounding Total TVA in \"crabe\" model pdf\nFIX: Show ref_customer, amount on contract link object\nFIX: Site ec.europa.eu has moved to https://\nFIX: Tickets mail models doesn't work\nFIX: vulnerability reported by wizlynx WLX-2020-012\nFIX: We must only rename current bank receipt\nFIX: when creating a VariousPayment, the value date is not copied onto the AccountLine that gets created at the same time, so the bank transaction's value date will be the payment date instead of the payment's value date\nFIX: wrong url param\nFIX: XSS using the renaming of .noexe files - reported by Nolan.\n\n***** ChangeLog for 11.0.4 compared to 11.0.3 *****\nFIX: #13749\nFIX: #7594 Expense report multi pagebreak\nFIX: Access to undeclared static property: Contact::$table_element\nFIX: actions on supplier proposal not saved (bad trigger name)\nFIX: Add function \"completeTabsHead\" to \"addreplace\" type hook.\nFIX: All forms must use newToken()\nFIX: Another \"Access to undeclared static property: Contact::$table_element\" && \"Societe::$table_element\"\nFIX: author search supplier proposal list\nFIX: A variable was erased by a temporary variable\nFIX: Avoid infinite loop when a fetch is inside a compute field.\nFIX: Backto link\nFIX: Bad position of total in column\nFIX: bad value in currency into discount created from down payment\nFIX: buyprice extrafield langfile and tooltip\nFIX: Buyprice was updated only if min price for this qty had same qty\nFIX: Can switch from double to price type for extrafields\nFIX: Can use decimal value in virtual products\nFIX: child categories only with good entity rights\nFIX: cloning of emailing when no content selected\nFIX: closing tags\nFIX: Combo list of available users to filter on the list of leaves.\nFIX: Compatibility with multicompany, bad numerotation of task.\nFIX: consistency of price w/wo vat wrong when price entered with tax\nFIX: default value of selectMasssAction broken\nFIX: draftordered replenish virtual stock\nFIX: Error update SQL into stock reception\nFIX: expensereport status in generated pdf\nFIX: extra date field incorrect check\nFIX: Extrafields of type price must be '' and not '0' if not defined\nFIX: Foreign currency lost when splitting a discount\nFIX: get remain to pay with rounding decimals\nFIX: gzip and bzip2 must use option -f\nFIX: IHM, unexpected quote\nFIX: keep viewstatut for doli 3.5\nFIX: Link missing into email of some notification\nFIX: Look and feel v11\nFIX: md stylesheet to be included by external modules like eldy\nFIX: missing array option\nFIX: missing default accountancy product buy code\nFIX: missing fk_bank during export of suppliers invoices\nFIX: missing member entity\nFIX: missing selectedlines on supplier order but checkbox are displayed\nFIX: Missing token and take into account max date when it can.\nFIX: model export list must be sorted by label\nFIX: multicurrency manage on hidden conf SUPPLIER_PROPOSAL_UPDATE_PRICE_ON_SUPPlIER_PROPOSAL\nFIX: Must escape shell\nFIX: Must exclude logs and some dirs for compressed backup\nFIX: ordered stock already in $stock\nFIX: picture migration script from doli 9.0\nFIX: print pictures on shipment docs\nFIX: product get purchase prices\nFIX: product purchase prices\nFIX: Protection when database has a corrupted product id\nFIX: remove unused var, $usercancreate can be change by Multicompany\nFIX: replenish stock to buy\nFIX: Sanitizing menu parameter\nFIX: Send email from bulk action of list of thirdparties\nFIX: setup of suggested payment mode on proposals and orders\nFIX: Several pb in export of documents\nFIX: Situation invoice take into account the credit notes.\nFIX: some others modules (like subtotal) use other product_type than 0 or 1 AND must not be considered in this report\nFIX: sort by default role makes no sense\nFIX: sort on company on member list\nFIX: TakePOS buying price\nFIX: text version of html emailing (removed the body style)\nFIX: The \"test smtp connectivity\" failed on page to setup mass emailing\nFIX: Error logs an Orderline::delete error, but this is an Orderline::insert error\nFIX: Translation of tooltips of extrafields\nFIX: Use getNomURL instead of hard coded link. Fix limit.\nFIX: Use of image into free text for PDF if DOL_DATA_DIR is outside of\nFIX: viewstatut to search status\nFIX: we must export company mail address on contact vcard only if contact email address is empty\nFIX: when we filter a list on a view status, we want this filter to be on bookmark that we create\nFIX: Wrong Sql on getListOfTowns api method\nFIX: wrong user right's name to top menu \"commercial\"\nFIX: XSS Vulnerability reported by Mehmet Kelepçe / Gais Cyber Security\n\n***** ChangeLog for 11.0.3 compared to 11.0.2 *****\nFIX: unit price for selected supplier products not set. NaN was used.\nFIX: use bad var to check if total is positive for each VAT rate when validating an invoice\nFIX: status missing from last customer invoices box when using MAIN_STATUS_USES_CSS\nFIX: translations for \"orders\" not loaded in the homepage box\nFIX: #13194\nFIX: #13274 cannot add or update 0 value for an int or double extrafield\nFIX: #13285 SQL error during migration with pgsql\nFIX: #13294\nFIX: #13313\nFIX: Clone Fourn Command, add line's extrafields\nFIX: cols parameter not propagated to tpl\nFIX: CSRF error when creating an intervention\nFIX: date order was -1D and desc with label repetition\nFIX: empty of series in graph of product distribution\nFIX: fk_type subscription list via api REST\nFIX: link when using anchor on \"/\" in website module\nFIX: menu export document was not visible when using \"simple accounting\"\nFIX: missing class declaration\nFIX: missing global $conf\nFIX: Missing token in some forms (avoid unset POST errors)\nFIX: params of setEventMessage($langs->trans('ErrorProductClone')...\nFIX: Remove unexisting link\nFIX: mass action on stock movements\nFIX: substitute lines dates values on doc generator (ODT, ...)\nFIX: Ticket - Load Cache Messages Ticket, wrong message's status\nFIX: Ticket Public  - Private messages are displayed\nFIX: wrong include - replace extrafields_create.tpl.php to extrafields_add.tpl.php\n\n***** ChangeLog for 11.0.2 compared to 11.0.1 *****\nFIX: #10309\nFIX: #13110\nFIX: #13118\nFIX: #13124\nFIX: #13131\nFIX: #13135\nFIX: #13146\nFIX: #13198\nFIX: #13175\nFIX: #13182\nFIX: #13183\nFIX: #13184\nFIX: #13263\nFIX: #13267\nFIX: an external user can not approve\nFIX: API Get list of documents for supplier_invoice\nFIX: API to push an expense report\nFIX: API upload/download doc for expensereport\nFIX: Avoid to download the export if we just press enter to refresh form\nFIX: Bad link to template invoices\nFIX: Bad sort link in accounting report\nFIX: Bad translation for productlot EatBy and SellBy\nFIX: better method to check user rights AND usergroup rights !\nFIX: CA by product list filter\nFIX: CSS\nFIX: Disable js if no javascript\nFIX: duplicate class name into some log lines\nFIX: etrafield with visibility=5 were not in read only.\nFIX: excess paid from situation invoices not counted when calculating remain to pay.\nFIX: Force FEC export to txt format.\nFIX: Free input for email no more visible.\nFIX: Keep assigned users in session when loading projects and tasks\nFIX: List of viewed projects too large in task widget.\nFIX: Menu truncated. Add tooltip to have all content.\nFIX: Missing field \"billed\" in export.\nFIX: missing \"statut\" for getNomUrl() function\nFIX: modFournisseur is required by modSupplierProposal\nFIX: Multicompany compatibility\nFIX: must be == and not =\nFIX: option for topbar search and bookmarks\nFIX: option MAIN_OPTIMIZEFORTEXTBROWSER\nFIX: some responsive troubles\nFIX: round MT in accountancy books\nFIX: search with '0'\nFIX: sort link\nFIX: SQL Overload in default contact trigger.\nFIX: SQl syntax error.\nFIX: Submit of documents for supplier invoices.\nFIX: timezone must be tzserver and not tzuser as on contract card\nFIX: token in barcode tools page missing\nFIX: Bad name of trigger PROPAL_SUPPLIER_TRIGGER, should be PROPOSAL_SUPPLIER_TRIGGER\nFIX: Type of contact for event does not exists and not supported\nFIX: Type of contact not saved when creating a contact\nFIX: typo on check method\nFIX: undefined function measuringUnitString in product list\nFIX: Usage of project not available in export.\nFIX: wrong test\nFIX: z-index for moretabsList with constant MAIN_MAXTABS_IN_CARD\nFIX: Use GETPOST instead of POST\nFIX: HTML Injection\nFIX: Visualization rights correction on last modified contacts box.\nFIX: Vulnerability in module from modulebuilder.\nFIX: Vulnerability reported by code16\n\n***** ChangeLog for 11.0.1 compared to 11.0.0 *****\nFIX: advanced target emailing sql and ergonomy.\nFIX: After import of a website template, home page was not set.\nFIX: Avoid deletion of bank record if in accounting\nFIX: compatibility with multicompany (avoid duplicate data)\nFIX: Confusion between 'bank reconciled' and 'accounted'. Show both data.\nFIX: Count of Stripe payment mode must take test/live into account\nFIX: Creation of Stripe card from backoffice must return a clean message\nFIX: CVE-2019–17223\nFIX: CVE-2019–17223\nFIX: CVE-2020-7994\nFIX: CVE Need permission to be able to develop modules\nFIX: #13053\nFIX: Disable ticket status change if ticket closed\nFIX: doc of dictionary API\nFIX: expedition create line new parameter is not required.\nFIX: export ledger\nFIX: FEC export have specific name\nFIX: Filenames must not contains non ascii char or we will get non ascii\nFIX: Filter on list of events were lost after \"Back to list\"\nFIX: hasDelay for retained warranty\nFIX: If we can change vendor status, we must be able to change vendor code\nFIX: links in products/services index\nFIX: Log of authentication ok or ko + CVE-2020-7996\nFIX: Look and feel v11\nFIX: Mail smtps truncated if content has a line with single .\nFIX: missing hook parameter\nFIX: Missing include\nFIX: need weight short label in shipping doc\nFIX: Picture of contact not visible in tooltip\nFIX: Problem with column label in subscription list\nFIX: ref_client not visible in tooltip.\nFIX: search filter on extrafields were not restored after \"Back to list\"\nFIX: situation invoice: allow excess paid to be converted to discount\nFIX: situation invoice: bad amount for previous payments because of local variable overwriting a more global one\nFIX: situation invoice: can't convert excess received to discount & bad previous payment amount\nFIX: SQL request and phpunit\nFIX: Update export_files.php\nFIX: Use ref into label of ticket message\nFIX: use \"usergroup\" instead of \"user\"\nFIX: Warning on admin/export_files\nFIX: #10203\nFIX: default filtering for 'select' extrafields should use \"=\", not \"LIKE\"\nFIX: #11975 When a product is split between multiple pages in a document, prices/quantity/etc appear on the last relevant page\nFIX: #12760 #12763 #12755 #12765 #12751\nFIX: #12874\nFIX: #12892\nFIX: #12908 User login with credentials from self-subscription form fails\nFIX: #12932\nFIX: #12966\nFIX: #12973\nFIX: #12974\nFIX: #12975\nFIX: #12978\nFIX: #12986\nFIX: #12991\nFIX: #12992\nFIX: #12995\nFIX: #13018 Extrafields Supplier invoice\nFIX: #13019\nFIX: #13022\nFIX: #13028\nFIX: #13038 ExpenseReport PDF - custom category description is not correct\nFIX: #13046 More complete\nFIX: #13048\nFIX: #13050\nFIX: #13077 Replace left join with inner join (left join was useless)\nFIX: #13085\nFIX: #13094\nFIX: #13096\nFIX: #13100\n\n\n***** ChangeLog for 11.0.0 compared to 10.0.0 *****\nFor Users:\n\nNEW: Module BOM is now stable.\nNEW: Module MO (Manufacturing Order) is available with experimental status.\nNEW: Can set the Address/Contact by default on third parties.\nNEW: Add a dictionary to edit list of Social networks.\nNEW: A nicer dashboard for open elements on Home page.\nNEW: Add task widget and add task progress bar\nNEW: Support of deployment of metapackages\nNEW: Menu \"Export accounting document\" to generate a zip with all documents requested by a bookkeeper is now stable.\nNEW: Add button \"Save and Stay\" in website editor of pages.\nNEW: Accountancy - Can add specific widget in this accountancy area.\nNEW: Accountancy - Add export model LDCompta V9 & higher\nNEW: Accountancy - Add permission on export, delete operations in ledger\nNEW: Can defined alternative profiles (email and signatures) for users.\nNEW: add ability to edit price without tax before adding a line of a predefined product.\nNEW: Add a tab to setup \"Opening hours\" of company (information only).\nNEW: Add attendee to ical export + cleanup.\nNEW: Add bank data of users into the expense report exports.\nNEW: add clone customers prices in clone product or service.\nNEW: Add column of module source and POS terminal in the invoice list.\nNEW: Add column last modification date into the table of targets for emailing.\nNEW: Add column VAT rate in product list\nNEW: add constant DISPATCH_FORCE_QTY_INPUT\nNEW: Add constant MAIN_DISABLE_GLOBAL_WORKBOARD to disable workboard in home page\nNEW: add country code in import product model\nNEW: Add 'Direct Cash Payment' button in TakePOS\nNEW: Add odt support to supplier orders\nNEW: Add feature to search a string into website containers\nNEW: Add GET and POST /supplierinvoices/payments REST API endpoints.\nNEW: Show progress bar for declared progression of tasks.\nNEW: Add last change date in page \"Other setup\". Can sort page on name/date.\nNEW: Add link to export targets of an emailings into a CSV file.\nNEW: Add link to the public interface on the ticket card.\nNEW: Add location into event tooltip. Use full day for fullday events\nNEW: add MAIN_LANGUAGES_ALLOWED constant to limit languages displayed.\nNEW: add MAIN_SHOW_COMPANY_NAME_IN_BANNER_ADDRESS constant.\nNEW: add mass actions in shipment list.\nNEW: add minimum stock filter in load warehoues for product form.\nNEW: add name_alias in fields used for quick search.\nNEW: add new rule fetchidfromcodeandlabel for categories import.\nNEW: add office phone for salespresentatives\nNEW: add office phone & job on user tooltips\nNEW: Add option MAIN_PDF_FORCE_FONT_SIZE\nNEW: Add option MEMBER_CAN_CONVERT_CUSTOMERS_TO_MEMBERS\nNEW: Add option WORKFLOW_CAN_CREATE_PURCHASE_ORDER_FROM_PROPOSAL\nNEW: Add pagination on list of object of a category\nNEW: add parent category id or label in import category module\nNEW: add parent id or ref column in warehouse import\nNEW: Add search into template\nNEW: Add shipment widget\nNEW: Add statistics on product into contracts\nNEW: Add status of warehouse in the tooltip of a warehouse.\nNEW: add supplier's product list\nNEW: add units fields in buying price tab of product card\nNEW: Add units in select products lines\nNEW: Add upload document on account statement\nNEW: Add widgets for BOMs and MOs.\nNEW: Amount invoiced column in proposal list\nNEW: Ask the new label and new dates in confirm popup when cloning tax\nNEW: auto set closing date and user on invoice\nNEW: Avoid wrap between picto and text on getNomUrl\nNEW: Balance Stripe connect account for supplier\nNEW: Bank Add an option for colorize background color of debit or credit movement\nNEW: Beautify the select box of warehouses\nNEW: Add birthday widget for members\nNEW: Widgets uses fiscal year.\nNEW: Can change supplier when cloning a Purchase Order.\nNEW: can choose lines to keep while creating order from origin\nNEW: Can crop/resize image attached on a bank record\nNEW: Can edit date or RUM mandate.\nNEW: Can edit link to the translation page in website module\nNEW: Can edit the price of predefined product during adding in documents\nNEW: Can enter price tax incl on vendor proposal and purchase orders\nNEW: Can filter on description on bank account transaction lists.\nNEW: Can filter on label on invoice in accounting vendor binding pages\nNEW: Can load multilang translation in same step than fetch_lines\nNEW: Can restrict access using DAV module to some host IPs only\nNEW: Can restrict API usage to some IP only\nNEW: Can select website templates from available default templates with a preview.\nNEW: Can set a squarred icon on your company setup\nNEW: can specify hour start end for selectDate and step for minutes\nNEW: Categories/Tags are also available on warehouses\nNEW: Check if a resource is in use in an event\nNEW: Compute column value from others columns in import module\nNEW: Copy linked categories on product clone process.\nNEW: Default mode for Stripe is STRIPE_USE_INTENT_WITH_AUTOMATIC_CONFIRMATION\nNEW: Digitaria model for numbering accountancy thirdparty\nNEW: Display membership in takepos if member linked to the thirdparty\nNEW: Display supplier in objectline if defined\nNEW: Add default duration of subscriptions on members type\nNEW: Email template for Takepos (to send invoice)\nNEW: Expense request and holiday validator fields\nNEW: Export ledger table in Charlemagne format\nNEW: Extend option ORDER_ADD_ORDERS_WITH_PARENT_PROD_IF_INCDEC for all virtual product stats (renamed into PRODUCT_STATS_WITH_PARENT_PROD_IF_INCDEC)\nNEW: Value \"None\" to unbind an invoice line and its accounting account is more visible\nNEW: FCKeditor setup for tickets\nNEW: The default theme of TakePOS work better on smartphones.\nNEW: GeoIP v2 support is natively provided -> So IPv6 is supported\nNEW: List by closing date on order list and proposal list\nNEW: Look and feel v11: Some setup pages are by default directly in edit mode.\nNEW: Management of retained warranty on situation invoices\nNEW: Mass email action on invoice list use billing contact if exists\nNEW: more living colors for charts and option for \"color bind\" people\nNEW: Supports multiple payments in a TakePOS sale\nNEW: multiselect with checkbox in categories/tags search for product list\nNEW: Option to allow to create members from third-party\nNEW: Platform compliance with Stripe Connect\nNEW: print / send email form in TakePOS\nNEW: Public holidays are now in a dictionary table (no more hard coded per country)\nNEW: Better performance by reducing the $companystatic calls on some pages.\nNEW: Replace the \"info\" tab on contract with the more complete \"agenda\" tab.\nNEW: Save user of last modification in donation record.\nNEW: Show html combo list instead input text for extrafields typed as list.\nNEW: Show POS application and the terminal used on invoice card.\nNEW: Add categories/tags for stocks.\nNEW: Support Net Measure in product's card.php\nNEW: Extrafields separator can be collapsed or not\nNEW: Extrafields support on Leave requests.\nNEW: Extrafields support on Salaries.\nNEW: Extrafields support in Product supplier prices.\nNEW: Add extrafields for warehouses\nNEW: Add extrafields in export of expense report (and holiday)\nNEW: The integrity checker now show also the expected size of files.\nNEW: The order method in purchase order is now mandatory when recording an order.\nNEW: update / delete stripe account for supplier\nNEW: Use the gender of member for picto in member lists.\nNEW: Use the squarre logo as favicon of pages\nNEW: VAT list - Add date start & date end in filters\nNEW: widget box for supplier orders awaiting reception\nNEW: Update translations\nNEW: #4301\n\nFor Developers or integrators:\n\nNEW: Compatible with PHP 7.4\nNEW: Code for extrafields uses the new array $extrafields->attributes\nNEW: Can set a filter on object linked in modulebuilder.\nNEW: Can defined a position of numbering submodules for thirdparties\nNEW: Add option multiselect for developers on the selector of language.\nNEW: Add a manifest.json.php file for web app.\nNEW: Support of deployment of metapackages\nNEW: Removed deprecated code that create linked object from ->origin\nNEW: experimental zapier for dolibarr\nNEW: Accountancy - Add hook bookkeepinglist on general ledger\nNEW: Can update product type with the update method.\nNEW: add API shipment mode dictionary\nNEW: Add API to get Country by code and iso\nNEW: Add API to get objects by ref, ref_ext, ...\nNEW: Add anonymous telemetry\nNEW: Add a category to a contact in API\nNEW: Add fk projet on stock movement\nNEW: Add hidden option to set fields for the quick search on products.\nNEW: add hook on commongeneratedocument\nNEW: Add hook on fileupload.class.php to enable modules to override…\nNEW: Add hooks on index pages\nNEW: adding 'formObjectOptions' hooks loading at card.php of adherents module\nNEW: Add method getStructuredData for website\nNEW: Add payments GET and POST REST API endpoints for supplierinvoices.\nNEW: Add POST /bankaccounts/transfer REST API endpoint.\nNEW: add \"printBucktrackInfo\" hook, an external module can add info\nNEW: Add trigger DIRECT_DEBIT_ORDER_CREATE on widthdraw is missing\nNEW: API to post documents for \"product\" and Delete document\nNEW: add new function \"setEntity()\" and better compatibility with Multicompany\nNEW: Can add a button \"Create\" after combo of object with modulebuilder.\nNEW: contacts type dictionary in api_setup.class.php\nNEW: Look and feel v11: Introduce CSS \"trforbreak\"\nNEW: list of measuring units API\nNEW: get social networks  dictionary by API\nNEW: Get thirdparty's salesrepresentatives by API\nNEW: get user connected information in REST API\nNEW: mode for list thirdparty API (add easy filter for supplier only)\nNEW: purchase_prices API\nNEW: Provides more complete demo data\nNEW: Module builder can generate CSS of JS file.\nNEW: Use a dedicated css for the pencil to edit a field.\nNEW: multilangs in fetch_lines\nNEW: Add more complete info for triggers actioncom\nNEW: add multicurrency rate at currency list API\nNEW: Add 2 hidden options to set the default sorting (sort and order) on document page.\nNEW: Add hidden option to update supplier buying price during receptions.\nNEW: Add hidden option PROPOSAL_SHOW_INVOICED_AMOUNT (not reliable if one invoice is done on several order or several proposal)\nNEW: Add hidden option SUPPLIER_ORDER_CAN_UPDATE_BUYINGPRICE_DURING_RECEIPT for add possibility to update supplier buying price in the reception on a supplier order\nNEW: Add hidden option THIRDPARTY_PROPAGATE_EXTRAFIELDS_TO_ORDER to copy extrafields from third party to order.\nNEW: Add hidden options to send by email even for object with draft status.\nNEW: Update jquery library to 3.4.1\nNEW: Upgrade ACE editor to v1.4.6\n\nWARNING:\n\nFollowing changes may create regressions for some external modules, but were necessary to make Dolibarr better:\n* Properties ->libelle_incoterms were renamed into ->label_incoterms\n* Removed the method liste_array() of project class. It was not used by core code.\n* The function show_theme() hase been renamed into showSkins()\n* Rename 'module_part' parameter into 'modulepart' into document APIs, for consistency.\n* The deprecated method get_OutstandingBill has been removed. You can use getOutstandingBills() instead.\n* The hook \"moreFamily\" must return payment into var \"totalpayment\" and no more \"paiement\" (english replace french).\n* Removed deprecated method actioncomm->add(), use create() instead\n* If you have developed your own emailing target selector and used parent::add_to_target(...), you must now use parent::addToTargets(...)\n* Removed function dol_micro_time. Use native PHP microtime instead.\n* The trigger BON_PRELEVEMENT_CREATE has been renamed into DIRECT_DEBIT_ORDER_CREATE.\n* The constant INVOICE_SHOW_POS_IN_EXPORT has been renamed into INVOICE_SHOW_POS.\n* If your logo is no more visible on the menu bar, you must upload a new logo into 'Home-Setup-Company/Organization' to have it visible again.\n* All properties 'libstatut', 'labelstatut', 'labelstatus' were renamed into 'labelStatus'.\n* All properties 'labelstatusshort' and 'labelstatut_short' were renamed into 'labelStatusShort'.\n* All properties 'type_libelle' were renamed into 'type_label'.\n* Renamed property of thirdparty \"statut_commercial\" into \"status_prospect_label\"\n* The jquery plugin/dependency multiselect has been removed. It was not used by Dolibarr core.\n\n\n***** ChangeLog for 10.0.7 compared to 10.0.6 *****\nFIX: 10.0 - missing translations for \"orders\" homepage \"orders\" box\nFIX: 10.0 - status missing from last customer invoices box when using MAIN_STATUS_USES_CSS\nFIX: 10.0 - translations for \"orders\" not loaded in the homepage box\nFIX: #10309\nFIX: #12875\nFIX: #12932\nFIX: #12966\nFIX: #12973\nFIX: #13304\nFIX: advanced target emailing sql and ergonomy\nFIX: an external user can not approved\nFIX: Bad translation for productlot EatBy and SellBy\nFIX: better check\nFIX: better method to check user rights AND usergroup rights !\nFIX: CA by prod list filter\nFIX: can be a string or integer\nFIX: Check on unicity on prof id was not triggered sometimes\nFIX: clone of purchase order\nFIX: compatibility with multicompany (avoid duplicate data)\nFIX: complex export model loading\nFIX: date filter not used if no operator\nFIX: date order was -1D and desc with label repetition\nFIX: default lang selection when filter\nFIX: dom and missing param\nFIX: drafts are now implemented for stats\nFIX: Error in log for email sending with smtps was not complete\nFIX: Extrafield position in export field list must respect \"pos\" field\nFIX: FEC export format\nFIX: FEC export have specific name\nFIX: fetching account on current entity\nFIX: Filenames must not contains non ascii char or we will get non ascii\nFIX: fk_type subscription list via api REST\nFIX: Force FEC export to txt format\nFIX: get remain to pay with rounding decimals\nFIX: Invert isSellerInEEC and isBuyerInEEC\nFIX: keep assigned users in session when loading projects and tasks\nFIX: length, width and height units coherence in product table\nFIX: links in products/services index\nFIX: Mail smtps truncated if content has a line with single .\nFIX: missing array option\nFIX: missing global $conf\nFIX: missing hook parameter\nFIX: Missing Linked objects Fichinter Ref. in PDF formats\nFIX: missing \"statut\" for getNomUrl() function\nFIX: multicompany for discount\nFIX: must be == and not =\nFIX: Problem with column label in subscription list\nFIX: regex for include or exclude categories in full arbo\nFIX: Remove unexisting link\nFIX: remove unused var, $usercancreate can be change by Multicompany\nFIX: require category class in extrafield\nFIX: round MT in accountancy books\nFIX: search with '0'\nFIX: send expense report mail in HTML format\nFIX: SQL request and phpunit\nFIX: substitute lines dates values on doc generator (ODT, ...)\nFIX: test on 0 better than isset\nFIX: The \"automatic bind\" was linked EEC to export accountancy code\nFIX: thirdparty alias name desappeared if we change country with THIRDPARTY_SUGGEST_ALSO_ADDRESS_CREATION conf\nFIX: timezone must be tzserver and not tzuser as well as on contract card\nFIX: typo on check method\nFIX: use \"usergroup\" instead \"user\"\nFIX: Visualization rights correction on last modified contacts box\nFIX: Warning on admin/export_files\nFIX: We want to be able to import data for extrafields of entity 0 too\nFIX: when we filter a list on a view status, we want this filter to be on bookmark that we create\nFIX: wrong test\nFIX: XSS vulnerability in description of list of audit events.\nFIX: z-index for moretabsList with constant MAIN_MAXTABS_IN_CARD\n\n***** ChangeLog for 10.0.6 compared to 10.0.5 *****\nFIX Regression of 10.0.5 to create/edit proposals and orders.\nFIX: #12760 #12763 #12755 #12765 #12751\nFIX: add product qty in shipment already sent (fix for option STOCK_CALCULATE_ON_SHIPMENT_NEW)\nFIX: an issue that shows all entities stock\nFIX: class Facture undefined in displaying margin information\nFIX: error 500 when getting margin info for objects other than invoices\nFIX: Loan card - Wrong language key used\nFIX: Missing language key for MAIN_MAXTABS_IN_CARD\nFIX: product with empty stock were not visible\nFIX: remove backward compatibility projectid and uses object id instead\nFIX: Some issues on salary payment\nFIX: Some problems on conciliation with others modules\nFIX: typo on language key\nFIX: url new for task time spent in project element tab\nFIX: uses GETPOSTISSET instead of GETPOST for projectfield\nFIX: var transkey not defined in input hidden\nFIX: wrong var name and avoid warning\n\n***** ChangeLog for 10.0.5 compared to 10.0.4 *****\nFIX: 10.0: add URL param \"restore_last_search_values=1\" to all backlinks pointing to lists\nFIX: 10.0: do not display single-letter values (indicating duration unit without value) in product list\nFIX: #12473\nFIX: #12481 : fix ticket creation from thirdparty, mission $socid var\nFIX: #12482\nFIX: #12644\nFIX: #12665 Mass invoice validation with stock management\nFIX: #12688\nFIX: #12745\nFIX: add and modify category translate form with posted values on errors\nFIX: add URL param \"restore_last_search_values=1\" to all backlinks that point to a list\nFIX: CommandeFournisseurLigne update function must not be able to return other value than 1 if success\nFIX: contact card state address selected after filling address\nFIX: dol_string_nohtmltag when there is html with windows EOL \"<br>\\r\\n\"\nFIX: filter language is an array\nFIX: first col at wrong position in Export 2007 (new)\nFIX: getrights() request\nFIX: Invoice Situation integration into Margin\nFIX: missing nl2br conversion\nFIX: not fee in payout list\nFIX: product_fourn_price_id was assigned too late for logPrice() function\nFIX: Reduce number of request for list of products\nFIX: set due date in object in create invoice\nFIX: units traductions for selectUnits() function\nFIX: when we need to bill several orders, order lines unit is not on bill lines\nNEW: 9.0: allow users to use the mysqldump '--quick' option\n\n***** ChangeLog for 10.0.4 compared to 10.0.3 *****\nFIX: The pdf templates were using the large logo making PDF too large (and edition of proposal, order, invoice VERY slow)\nFIX: #12258\nFIX: #12319 Restore feature ACCOUNTANCY_AUTOFILL_ACCOUNT_WITH_GENERIC.\nFIX: #12356\nFIX: #12372\nFIX: #12385\nFIX: Advisory ID: usd20190053\nFIX: Advisory ID: usd20190067\nFIX: Avoid fatal error when creating thumb from PDF\nFIX: compatibility with Multicompany\nFIX: display job of contact list\nFIX: Extrafields missing in export of expense report\nFIX: Hook getAccessForbiddenMessage was missing parameters\nFIX: limit 20 prevent to see all products/services\nFIX: Search on leave request ref\nFIX: security check. A user can see holiday with link without permissions\nFIX: Set unpaid of expense report\nFIX: shipping extrafields line\nFIX: the SELECT examine more than MAX_JOIN_SIZE rows #12305\nFIX: triggers: directories read with opendir() never closed\nFIX: we need to be able to recalculate tva only if invoice not in accountancy\nFIX: wrong invoice id for fetchObjetctLinked\n\n***** ChangeLog for 10.0.3 compared to 10.0.2 *****\nIMPORTANT : This version fixes a serious bug in saving the units of weight, size, surface and volume on product card.\nThe unit were not saved correctly in database making calculation on shipments wrong.\nUpdate to this version must be done if you use them and have installed version 10.0.0, 10.0.1 or 10.0.2 and set some products after installing or upgrading to one of this version.\nOnce update is done you must then edit (manually) the product that has bad unit to set the correct unit to have features restored.\n\nFIX: #11702\nFIX: #11861 No consistent code to manage measuring units\nFIX: #11942\nFIX: #12026\nFIX: #12040\nFIX: #12041\nFIX: #12054\nFIX: #12083\nFIX: #12088\nFIX: CVE-2019-17578 CVE-2019-17577 CVE-2019-17576\nFIX: Clean the + of categories on the product view only in POS module\nFIX: access to public interface when origin email has an alias.\nFIX: Alias name is not into the email recipient label.\nFIX: allow standalone credit note even if no invoice\nFIX: an admin can not access his own permissions after enabling advanced permissions\nFIX: Attachment of linked files on ticket when sending a message\nFIX: avoid non numeric warning\nFIX: Bad currency var used in stripe for connect\nFIX: Bad list of ticket on public interface for ticket emailcollector\nFIX: Can't modify vendor invoice if transferred into accountancy\nFIX: change product type must be allowed if we activate hidden conf\nFIX: colspan on VAT quadri report\nFIX: CSS\nFIX: Debug feature orderstoinvoice for suppliers\nFIX: do not output return code on screen after a select of bank account\nFIX: Edit of ticket module parameters erased others\nFIX: empty cache when we want to load specific warehouses in select\nFIX: escape email alias\nFIX:  expedition.class.php\nFIX: Export of leave request show the number of open days\nFIX: Filtering the HTTP Header \"Accept-Language\".\nFIX: Filter on project on ticket list\nFIX: Filter \"Open all\" of ticket was ko.\nFIX: Force download of file with .noexe as octet-stream mime type\nFIX: form not closed.\nFIX: hidden conf to prevent from changing product_type\nFIX: If product account not suggested during bind, it is not preselected\nFIX: If we share invoice, we need to see discount created from a deposit on each entity\nFIX: Import of product using units\nFIX: label of thirdparty is wrong on open project list\nFIX: Look and feel v10\nFIX: missing begin()\nFIX: missing \"$this->id\" in \"fetch\" function\nFIX: navigation on ticket tab of projects\nFIX: new invoice with generic thirdparty in takepos\nFIX: Pb in units of shipments\nFIX: regression with option to hide picto on top menu\nFIX: selection of project i am contact of.\nFIX: Send email from expense report card.\nFIX: shipping card: missing user error messages when classifying closed or billed\nFIX: SQL injection on qty\nFIX: stripe payment when there is a quote into address\nFIX: Substitution of __PROJECT_XXX__ not done\nFIX: TakePOS no invoice validation control and good payment translate\nFIX: the access of the bank account of one user\nFIX: top menu right padding\nFIX: Update of leave request when CSRF with token is on\nFIX: Var not enough sanitized\nFIX: wrong test\nFIX: XSS\nFIX: Payment from POS ware not recorded.\nFIX: Can validate invoice with amount including tax of zero for the case of having a final invoice with\n     VAT that includes a deposit without vat.\n\n***** ChangeLog for 10.0.2 compared to 10.0.1 *****\nFIX: #10460 compatibility with MariaDB 10.4\nFIX: #11401 Adherent unknown language key\nFIX: #11422 Can't edit his own events with standard rights\nFIX: #11427 require product class (fixes POST /supplierinvoices REST API endpoint)\nFIX: #11570\nFIX: #11591 FIX: #11592\nFIX: #11671 CVE-2019-15062\nFIX: #11672\nFIX: #11685\nFIX: #11702\nFIX: #11711\nFIX: #11720\nFIX: #11746 Unable to modify amount of insurance of a loan\nFIX: #11752\nFIX: #11789 FIX: #11790\nFIX: #11804 list of tickets from a customer card display ALL tickets\nFIX: #11834\nFIX: add char $ and ; in sanitizing of filenames\nFIX: add comment before protected functions\nFIX: add log and type of content in dolWebsiteOutput and\nFIX: add repair.php option 'restore' to restore user picture after v10\nFIX: amount opened on thirdparty card don't care of credit note not converted\nFIX: API of documents work with value 'thirdparty'\nFIX: author in message / ticket API\nFIX: avoid SQL error if fk_project is empty during update\nFIX: avoid Warning: A non-numeric value encountered\nFIX: bad consistency in list of invoice for direct debit order\nFIX: bad error management in zip compress and web site export\nFIX: bad substitution for extrafields type checkbox\nFIX: better help message with multicompany\nFIX: calculation of $products_dispatched\nFIX: Can't add a new chart of account\nFIX: Can't delete a draft leave even if it should\nFIX: Can't save setup of mailman module\nFIX: column jabberid missing\nFIX: Confirmation of deletion\nFIX: Consistency in direct debit order lists\nFIX: Content send before header warning\nFIX: credit note can be split\nFIX: credit note used on list\nFIX: CSS was saved on wrong website\nFIX: delivery extrafields\nFIX: Disabling a website does not put it offline\nFIX: display only stripe sources for customer\nFIX: display payment intent in stripe's charge list\nFIX: document list for products in API\nFIX: dol_thirdparty_id for stripe PI\nFIX: Do not show tooltip if tooltip is empty\nFIX: duplicate css tag, decrease padding-bottom for boxes in eldy theme\nFIX: duration when creating service\nFIX: EDB-ID:47370\nFIX: Enable web site\nFIX: error management when adding a property with type real\nFIX: Fatal situation if payment removed on expense report. Action\nFIX: filepath of generated documents doesn't handle products with special characters\nFIX: for MAIN_MAXTABS_IN_CARD = $i card\nFIX: gzip and bzip2 must use option -f\nFIX: it was possible to create cashfence without entering data\nFIX: javascript error when using dol_use_jmobile=1\nFIX: logout redirect to takepos.php\nFIX: Look and feel v10\nFIX: Make protected all pfd models functions\nFIX: management of extrafields in modulebuilder\nFIX: missing div for buttons in tax, loan, various payment modules\nFIX: missing include (dol_convert_file not found)\nFIX: Missing some replacements in website module\nFIX: missing test on permission on button to delete ledger record\nFIX: Missing the filter fields in export of expense report and leaves\nFIX: Missing ticket icon on md theme\nFIX: Missing transaction\nFIX: Mode smartphone was not triggered when there is too loo menu\nFIX: Must escape shell\nFIX: Must exclude logs and some dirs for compressed backup\nFIX: name and position of hook FIX: #11710\nFIX: Not showing MAIN_INVERT_SENDER_RECIPIENT when edit field\nFIX: Nowrap missing on amount in boxes\nFIX: Option to use ZipArchive instead of PclZip bugged with large files.\nFIX: order or proposals billed if both workflow conf activated\nFIX: permission check on API intervention\nFIX: phpcs\nFIX: placement function\nFIX: qty in invoice list on product's stats\nFIX: remove disabled product type from product list\nFIX: Return code of pdf_einstein.modules.php and proformat\nFIX: round for application fee in stripe\nFIX: Sens of the balance (Debit - Credit in accountancy not contrary)\nFIX: Several pb in export of documents\nFIX: SQL syntax error and CSRF check on VAT reports\nFIX: takepos layout clear or focus search\nFIX: too many record in sql request. When a criteria is a filter, we must\nFIX: Translation of month\nFIX: USEDOLIBARREDITOR not always set\nFIX: VAT number for Monaco (it uses FR)\nFIX: vulnerability in uploading file found by 美创科技安全实验室\nFIX: wrong display (and hidden input) for already dispatched quantity\nFIX: wrong parameters (same error in branch 9, 10, develop)\nFIX: Wrong variable. Must be PROJECT_HIDE_UNSELECTABLES\n\n***** ChangeLog for 10.0.1 compared to 10.0.0 *****\nFIX: #10930\nFIX: #10984\nFIX: reposition on \"Build backup\" button\nFIX: #11400\nFIX: #11412\nFIX: #11460\nFIX: #11463\nFIX: #11466\nFIX: #11492\nFIX: #11498\nFIX: #11505\nFIX: #11506\nFIX: #11507\nFIX: #11509\nFIX: #11537\nFIX: #11543\nFIX: #11553\nFIX: #11576\nFIX: #11584\nFIX: #11590\nFIX: accounting mode must be taken from global conf, because there's no way to choose a mode with interface\nFIX: Add message from public interface\nFIX: add missing hook calls\nFIX: Add warning when setup is strange\nFIX: ajax call for line positioning when CSRFCHECK_WITH_TOKEN is on\nFIX: API return 404 sometimes even if API exists\nFIX: Attachment was lost when we validate an expense report\nFIX: avoid conflict with \"$classname\" in card.php\nFIX: Bad sql request\nFIX: better compatibility with multicompany transverse mode\nFIX: Better PHP compatibility\nFIX: Block to link with tickets\nFIX: Can't submit a ticket from public interface\nFIX: categories import: prevent mismatch between category type and object type\nFIX: Closing ticket from public interface\nFIX: Column 'paid' missing in expense report\nFIX: compatibility mysql 8. rank is reserved\nFIX: Computed field were not calculated into lists.\nFIX: Content of email for subscription\nFIX: correct error in files with multiple spaces\nFIX: CVE-2019-11199\nFIX: delete of links between objects\nFIX: div not balanced\nFIX: do not return formatted prices in json string\nFIX: duplicate on the check (TODO field $onetrtd not used ?)\nFIX: element name in update_price\nFIX: empty product_use_units in product configuration\nFIX: expedition card: infinite loop for printObjectLine hook if return > 0\nFIX: extrafield loading bug due to assumption that an object is a third party while it may be a contact if MAIN_USE_COMPANY_NAME_OF_CONTACT is set.\nFIX: Fatal error on dol_htmloutput_mesg with corrupted array\nFIX: Fatal situation if payment removed on expense report. Action\nFIX: FEC Format - Missing date_creation in general ledger when you add a new transaction\nFIX: FEC Format - Save translation of the journal label in database & nowrap on amount\nFIX: floating point precision errors in the triggers of the workflow module\nFIX: for #11232\nFIX: format of field with type timestamp\nFIX: fournrprice log for insert\nFIX: help text\nFIX: import filter error\nFIX: __INFOS__ tag not exists\nFIX: issue #9300: install error with PostgreSQL when using custom table prefix\nFIX: Language key\nFIX: Limit of uploaded files (max_post_size was not used)\nFIX: list of balance of leaves\nFIX: minor spelling issues\nFIX: missing \"dropdown-icon\" replacement\nFIX: Missing field \"Conciliated\" into bank transaction export\nFIX: missing filter by current contact\nFIX: missing token\nFIX: Missing where on entity\nFIX: move sql request in INNER JOIN\nFIX: name was able to be in field but went back to new line\nFIX: Nowrap on amount\nFIX: Online payment\nFIX: on shipment delete confirm dialog, a new checkbox allows the user to choose if they want their stock re-incremented after the deletion.\nFIX: option EXPORT_LABEL_FOR_SELECT to restore compatibility in export\nFIX: Option THIRDPARTY_SUGGEST_ALSO_ADDRESS_CREATION\nFIX: outdated phpdoc\nFIX: Permission for BOM menu\nFIX: permission to delete a draft purchase order\nFIX: phpcs\nFIX: Position was lost when we edit the line of template invoice\nFIX: product_use_units was set to 0 each time a conf in block other was set\nFIX: propal createFrom hook: undefined parameter attached\nFIX: Responsive of public interface of ticket\nFIX: search by phone pro\nFIX: Setup of TakePos was not possible after a clean install\nFIX: Show list of events on tickets\nFIX: socpeople assigned list in action com list\nFIX: SQL problem on donation & nowrap on amount\nFIX: stock increase on shipment deletion if STOCK_CALCULATE_ON_SHIPMENT_NEW: is set\nFIX: stripe webhook ID constant set\nFIX: summary of time spent in preview tab of projects\nFIX: the feature to bill time spent was not enabled.\nFIX: The new feature to attach document on lines was not correctly\nFIX: The proposed new supplier code does not work\nFIX: this function can not be private\nFIX: tk9877 - PDF rouget requires product.lib.php (otherwise measuring_units_string() is not defined)\nFIX: Update the file index table when we validate/rename a ref.\nFIX: use rounding to compare the amounts\nFIX: We must save code instead of value in database for template invoice modelpdf\nFIX: we need to be able to add freeline with qty between 0 & 1 in supplierorder line\nFIX: We should remove property comments only for project and task api.\nFIX: When saving an action it didn't save the label based on the type of event if the label is empty and the type is customized\nFIX: when STOCK_CALCULATE_ON_SHIPMENT_NEW: is set, deleting a \"closed\" shipment now increases stock as expected\nFIX: wrong path sociales/index.php doesn't exist anymore\n\n\n***** ChangeLog for 10.0.1 compared to 10.0.0 *****\nFIX: #10930\nFIX: #10984\nFIX: reposition on \"Build backup\" button\nFIX: #11400\nFIX: #11412\nFIX: #11460\nFIX: #11463\nFIX: #11466\nFIX: #11492\nFIX: #11498\nFIX: #11505\nFIX: #11506\nFIX: #11507\nFIX: #11509\nFIX: #11537\nFIX: #11543\nFIX: #11553\nFIX: #11576\nFIX: #11584\nFIX: #11590\nFIX: accounting mode must be taken from global conf, because there's no way to choose a mode with interface\nFIX: Add message from public interface\nFIX: add missing hook calls\nFIX: Add warning when setup is strange\nFIX: ajax call for line positioning when CSRFCHECK_WITH_TOKEN is on\nFIX: API return 404 sometimes even if API exists\nFIX: Attachment was lost when we validate an expense report\nFIX: avoid conflict with \"$classname\" in card.php\nFIX: Bad sql request\nFIX: better compatibility with multicompany transverse mode\nFIX: Better PHP compatibility\nFIX: Block to link with tickets\nFIX: Can't submit a ticket from public interface\nFIX: categories import: prevent mismatch between category type and object type\nFIX: Closing ticket from public interface\nFIX: Column 'paid' missing in expense report\nFIX: compatibility mysql 8. rank is reserved\nFIX: Computed field were not calculated into lists.\nFIX: Content of email for subscription\nFIX: correct error in files with multiple spaces\nFIX: CVE-2019-11199\nFIX: delete of links between objects\nFIX: div not balanced\nFIX: do not return formatted prices in json string\nFIX: duplicate on the check (TODO field $onetrtd not used ?)\nFIX: element name in update_price\nFIX: empty product_use_units in product configuration\nFIX: expedition card: infinite loop for printObjectLine hook if return > 0\nFIX: extrafield loading bug due to assumption that an object is a third party while it may be a contact if MAIN_USE_COMPANY_NAME_OF_CONTACT is set.\nFIX: Fatal error on dol_htmloutput_mesg with corrupted array\nFIX: Fatal situation if payment removed on expense report. Action\nFIX: FEC Format - Missing date_creation in general ledger when you add a new transaction\nFIX: FEC Format - Save translation of the journal label in database & nowrap on amount\nFIX: floating point precision errors in the triggers of the workflow module\nFIX: for #11232\nFIX: format of field with type timestamp\nFIX: fournrprice log for insert\nFIX: help text\nFIX: import filter error\nFIX: __INFOS__ tag not exists\nFIX: issue #9300: install error with PostgreSQL when using custom table prefix\nFIX: Language key\nFIX: Limit of uploaded files (max_post_size was not used)\nFIX: list of balance of leaves\nFIX: minor spelling issues\nFIX: missing \"dropdown-icon\" replacement\nFIX: Missing field \"Conciliated\" into bank transaction export\nFIX: missing filter by current contact\nFIX: missing token\nFIX: Missing where on entity\nFIX: move sql request in INNER JOIN\nFIX: name was able to be in field but went back to new line\nFIX: Nowrap on amount\nFIX: Online payment\nFIX: on shipment delete confirm dialog, a new checkbox allows the user to choose if they want their stock re-incremented after the deletion.\nFIX: option EXPORT_LABEL_FOR_SELECT to restore compatibility in export\nFIX: Option THIRDPARTY_SUGGEST_ALSO_ADDRESS_CREATION\nFIX: outdated phpdoc\nFIX: Permission for BOM menu\nFIX: permission to delete a draft purchase order\nFIX: phpcs\nFIX: Position was lost when we edit the line of template invoice\nFIX: product_use_units was set to 0 each time a conf in block other was set\nFIX: propal createFrom hook: undefined parameter attached\nFIX: Responsive of public interface of ticket\nFIX: search by phone pro\nFIX: Setup of TakePos was not possible after a clean install\nFIX: Show list of events on tickets\nFIX: socpeople assigned list in action com list\nFIX: SQL problem on donation & nowrap on amount\nFIX: stock increase on shipment deletion if STOCK_CALCULATE_ON_SHIPMENT_NEW: is set\nFIX: stripe webhook ID constant set\nFIX: summary of time spent in preview tab of projects\nFIX: the feature to bill time spent was not enabled.\nFIX: The new feature to attach document on lines was not correctly\nFIX: The proposed new supplier code does not work\nFIX: this function can not be private\nFIX: tk9877 - PDF rouget requires product.lib.php (otherwise measuring_units_string() is not defined)\nFIX: Update the file index table when we validate/rename a ref.\nFIX: use rounding to compare the amounts\nFIX: We must save code instead of value in database for template invoice modelpdf\nFIX: we need to be able to add freeline with qty between 0 & 1 in supplierorder line\nFIX: We should remove property comments only for project and task api.\nFIX: When saving an action it didn't save the label based on the type of event if the label is empty and the type is customized\nFIX: when STOCK_CALCULATE_ON_SHIPMENT_NEW: is set, deleting a \"closed\" shipment now increases stock as expected\nFIX: wrong path sociales/index.php doesn't exist anymore\n\n***** ChangeLog for 10.0.0 compared to 9.0.0 *****\nFor Users:\nNEW: Module \"Ticket\" is available as a stable module.\nNEW: Module \"Email Collector\" is available as a stable module.\nNEW: Module \"TakePOS\" is available as a stable module.\nNEW: Experimental module \"Vendor receptions\".\nNEW: Experimental module \"BOM\".\nNEW: Accounting - Add default accounting account for member subscriptions.\nNEW: Accounting - More comprehensive menu.\nNEW: Agenda/event - add description column available in list (hidden by default).\nNEW: Add accounting account for result.\nNEW: Add accounting code for EEC sales and export sales on products.\nNEW: Add a security permission to edit php dynamic content on the WebSite module.\nNEW: Attached document on bank account are now visible in automatic ECM.\nNEW: Add Autofill Remainder Amount picto on the Expense Report Payment Page.\nNEW: Add contact status in category export\nNEW: Add Default Warehouse to user record (if module stock is on)\nNEW: Add employee/user to subledger account list\nNEW: Add gender in member card\nNEW: Add getFormatedCustomerRef and getFormatedSupplierRef methods\nNEW: Add history to view and print previous sales on TakePos.\nNEW: Add import of accounting account for intra/export selling on product card\nNEW: Adding code to show update date of supplier price shown\nNEW: Add line total on list of payments\nNEW: Add LinkedIn field in social network module\nNEW: Add more complete error messages in log on stripe payments\nNEW: Add no_email field in contact list\nNEW: Add notes are show in tooltips\nNEW: Add option DONATION_USE_THIRDPARTIES in admin of membership module\nNEW: Add option STOCK_SHOW_VIRTUAL_STOCK_IN_PRODUCTS_COMBO\nNEW: add page to setup opening hours of the company\nNEW: add payments table to pdf of expense report\nNEW: add payment terms to invoices list\nNEW: Add picto of deletion on mass action combo lists\nNEW: add product extrafields available into shipping export\nNEW: add ref supplier on supplier invoice\nNEW: Add stats on entries & movements by fiscal year\nNEW: Add subledger in various payment module\nNEW: Add tag for ODT generation for localtax rates\nNEW: Add the now link when creating expense report\nNEW: Ask date of invoice when using the Clone feature.\nNEW: auto event msg\nNEW: Automatically binding for intra/export accountancy code in customer list\nNEW: automatic / manual selector form\nNEW: Better explanation for setup of WebDav module\nNEW: Can add more lines on situation invoices at end of project when there is extra to add.\nNEW: Can change the customer account of an instance\nNEW: Can choose the root category to show products for TakePOS module\nNEW: Can edit supplier on draft order supplier\nNEW: Can enter price with or without tax when entering expense repor line\nNEW: Can filter on the date of period for social contributions\nNEW: Can generate invoices from the timespent entered on a project\nNEW: Can update product supplier price ref\nNEW: Can upload files from the edit page of expense report\nNEW: Color for hover and for checked line is on by default\nNEW: Column of p...aren't company is available in list of third parties\nNEW: conditional add member button by statut\nNEW: constant KEEP_DISCOUNT_LINES_FROM_ORIGIN\nNEW: Contact related items tab\nNEW: Can create of supplier invoice from a reception\nNEW: Ensure External RSS Links Open in New Window\nNEW: Export available for reception module\nNEW: Extend import option to Order's card and Propal's card\nNEW: filter by thirdparty on report CA by prod/serv\nNEW: Save space by moving the meteo on the title line\nNEW: Get the list of groups of a user with the REST API.\nNEW: Hidden option MAIN_CAN_EDIT_SUPPLIER_ON_SUPPLIER_ORDER to edit supplier on draft supplier order\nNEW: Improve Displaying Shortcut Access Keys in Navigation.\nNEW: Improve Expensereport, Inverse Receiver.\nNEW: Improve pdf description item visibitity.\nNEW: Introduce a config parameter $dolibarr_main_instance_unique_id\nNEW: Introduce css \"nobottomiftotal\"\nNEW: Introduce PhpSpreadsheet for export (need php5.6+)\nNEW: Invoice creation from the timesheet\nNEW: Can list remote stripe's payout in a dedicated page.\nNEW: Manage account sell_intra & sell_export in page accoutancy admin default product\nNEW: Manage loan schedule.\nNEW: Manage status of member types.\nNEW: Mass action \"create bills\" for validated reception\nNEW: Measuring unit are now defined into an editable dictionary. Add product size/unit into product import.\nNEW: Template pdf 'canelle_reception' displays linked reception lines.\nNEW: Moral/physic status can be defined at member type level\nNEW: Pagination into list of time spent.\nNEW: Performance enhancement (Replace dirname(__FILE__) with __DIR__)\nNEW: POS support in order (ex: online cart).\nNEW: Preview of images into the filemanager component.\nNEW: Resource module can be used in products/services (in a dedicated tab)\nNEW: Retrieve invoice infos from order when billing shipment\nNEW: Save and display type of membership in subscription table for more explicit historic\nNEW: Setup default thirdparty type (customer or prospect/customer)\nNEW: Add shipping \"set draft\" button and can update lines.\nNEW: show in blod, the invoice amount where we came from, when making payment\nNEW: Show product dimensions in product tooltips.\nNEW: Show the latest date of subscription in member statistics reports.\nNEW: Sort list of templates alphabetically\nNEW: Stripe Payment Intent (need option to use this new Stripe api method)\nNEW: Can support barcode on supplier price references.\nNEW: Support tag {ccc} on payment ref\nNEW: The preview of PDF files generates only 1 png file, even if several pages.\nNEW: Can select a Thirdparty object in donation module if option ON.\nNEW: Tooltip with VAT amount and price incl tax on lines of objects.\nNEW: Unsubscribed emails are now stored in a dedicated table.\nNEW: Update working chkbxlst filter for lists.\nNEW: Use ajax switch into setup of donation.php and multi-currency module.\nNEW: use recipient language when generating the fullname for emails.\nNEW: When you create product or service, sell accountancy account by default is suggested.\nNEW: Widget birthdays of the month.\nNEW: Option in workflow module to set a reception billed on validate supplier bill.\nNEW: Autocompletion on lists should be available on mobile applications.\nNEW: Add mass action to close several members.\nNEW: Add hidden option ADD_UNSPLASH_LOGIN_BACKGROUND for random background\nNEW: Add hidden option to be ready for BREXIT\n\nFor Developers:\nNEW: Module \"DebugBar\" is available as a stable module.\nNEW: Add API REST for donations\nNEW: Add a script 'purge-data.php' to purge data older than a defined creation date\nNEW: Add constant XFRAMEOPTIONS_ALLOWALL\nNEW: Add function isValidVATID() to heck syntax of a VAT ID/number.\nNEW: Add document's product support in APIs\nNEW: Add REST API: get the list of objects in a category.\nNEW: Update Stripe library to 6.35\nNEW: Upgrade jquery lib to 3.3.1\nNEW: Add hook 'addHtmlHeader()'\nNEW: Add hook 'createRecurringInvoices()'\nNEW: Add hook 'afterSelectContactOptions'\nNEW: Add hook 'getAccessForbiddenMessage'\nNEW: Add hook support in accountancy index\nNEW: Add hook support in list of template invoices\nNEW: Add parameter 'replaceambiguouschars' on getRandomPassword function\nNEW: Add property 'noteditable' in modulebuilder\nNEW: Add the current modulepart into the Conf class object\nNEW: Add trigger FICHINTER_UNVALIDATE\nNEW: Add visibility with value 4 in framework to define fields to show\nNEW: More option to tune initialization of a new module with modulebuilder.\nNEW: Add REST API to list currencies\nNEW: REST API Proposal, Orders, Invoices: Add contact details\nNEW: hidden option to change concat order of description/product label.\nNEW: Enhance management of webhooks\nNEW: Generation of doc by modulebuilder can include README and CHANGELOG\nNEW: massfilesarea feature is possible for external modules\nNEW: Show list of enabled modules in dol_print_error().\nNEW: Simplification of CSS styles of default themes.\nNEW: Clean code of a lot of deprecated code.\nNEW: Add hidden option to set a search entry to the top\nNEW: add hidden option DISPLAY_DISCOUNTED_SUPPLIER_PRICE\nNEW: add hidden option MAIN_DEFAULT_LANGUAGE_FILTER\nNEW: add hidden option NO_CONCAT_DESCRIPTION\nNEW: Add hidden option ACCOUNTANCY_COMBO_FOR_AUX\nNEW: Add Hidden option OVERRIDE_VAT_FOR_EXPENSE_REPORT\nNEW: add hidden option MAIN_DOC_UPLOAD_NOT_RENAME_BY_DEFAULT\nNEW: Hidden conf to improve pdf desc item visibitity\nNEW: Look and feel v10 - Add CSS 'tabBarNoTop'\n\n\nWARNING:\n\nFollowing changes may create regressions for some external modules, but were necessary to make Dolibarr better:\n* PHP 5.4 is no more supported. Minimum PHP is now 5.5+.\n* The PHP extension php-intl is not mandatory and must be installed to have new features working correctly.\n* Method GetUrlTrackingStatus were renamed into getUrlTrackingStatus for consistency with naming rules.\n* API getListOfCivility has been renamed into getListOfCivilities for consistency with naming rules.\n* Deprecated function img_phone as been removed. You can use img_picto(..., 'call|call_out') instead.;\n* Files for variables of themes were renamed from graph-color.php into theme_vars.inc.php to match naming\n  convention of extension .inc.php for files to be included.\n* All methods set_draft() were renamed into setDraft().\n* Signatures of methods createFromClone() has been standardized. All methods requires the object User as first parameter.\n* Removed deprecated function function test_sql_and_script_inject that was replaced with testSqlAndScriptInject.\n* Method load_measuring_units were renamed into selectMeasuringUnits and select_measuring_units was deprecated.\n* Hidden option CHANGE_ORDER_CONCAT_DESCRIPTION were renamed into MAIN_CHANGE_ORDER_CONCAT_DESCRIPTION.\n* Method dolEscapeXML was moved from functions.lib.php into function2.lib.php (not used enough to be loaded by default).\n* Removed deprecated use of string in dol_print_date(). Only date allowed.\n* Deprecated property ->fk_departement is now ->state_id everywhere.\n* Removed the method 4 of GETPOST (to get $_COOKIE). It was not used and not recommended to use in Dolibarr.\n* Column llx_facture.facnumber change to llx_facture.ref\n* Variable $dolibarr_main_cookie_cryptkey is no more created at install (it was not used by Dolibarr). A new variable\n  called $dolibarr_main_instance_unique_id is now generated at each installation. It will be used by some future features.\n\n\n***** ChangeLog for 9.0.4 compared to 9.0.3 *****\nFIX: #5249\nFIX: #11025\nFIX: #11032\nFIX: #11097\nFIX: #11169\nFIX: #11202\nFIX: #11244\nFIX: #11296\nFIX: #11316\nFIX: #11335\nFIX: Add missing end date of subscription in export\nFIX: A user may read holiday and expense report without permissions\nFIX: better syntax\nFIX: condition\nFIX: confirmation of mass email sending + option MAILING_NO_USING_PHPMAIL\nFIX: crabe pdf: bad detailed VAT for situation invoices, in situations S2 and above\nFIX: default value for duration of validity can be set from generic\nFIX: do not include tpl from disabled modules\nFIX: Error management when MAILING_NO_USING_PHPMAIL is set\nFIX: Even with permission, can't validate leave once validator defined.\nFIX: extrafield list search: SQL error when field is multiselect\nFIX: if last char of customercode is accent making the truncate of first\nFIX: Import of chart of account\nFIX: in edit mode, dictionary inputs do not escape the string inside the 'value' attribute, causing errors if there are any double quotes\nFIX: invalid link on user.fk_user\nFIX: invoice class: bad SQL request if product type not set\nFIX: javascript error when ckeditor module not enabled\nFIX: mail presend: can overwrite a file previously uploaded (Issue #11056)\nFIX: mass send mail\nFIX: missing compatibility with multicompany transverse mode\nFIX: missing llx_const encrypt\nFIX: modulebuilder: hardcoded llx_\nFIX: Not showing Contract and Project columns on ficheinter list\nFIX: only profid1 to 4 were editable for pdf option to show. Not 5 and 6.\nFIX: productaccount buylist with pages\nFIX: remove isolated transaction commit\nFIX: security (a user can read leave or holiday of other without perm.\nFIX: situation invoices: bad detailed VAT in situations following the first one\nFIX: situation invoices: block progress percentage change for discount lines\nFIX: syntax error\nFIX: the id was not loaded in fetch of accounting system\nFIX: try to use WHERE EXISTS instead of DISTINCT\nFIX: use dol_sanitizeFileName() function to remove double spaces in filenames, as well as done on document.php when we want to download pdf\nFIX: Use of cron with multicompany\nFIX: var name\nFIX: we need to fetch fourn invoice with ref in current entity\nFIX: Wrong stock movement on supplier credit notes\nFIX: Import of record in ledger\n\n***** ChangeLog for 9.0.3 compared to 9.0.2 *****\nFIX: #11013\nFIX: #11041\nFIX: actioncomm: sort events by date after external calendars and hook (into 7.0)\nFIX: better test\nFIX: Combo list was limited to 20 in stock correction\nFIX: Confusion between expired and late\nFIX: Cursor pointer in payment screen for autofill\nFIX: CVE-2019-11199\nFIX: CVE-2019-11200\nFIX: CVE-2019-11201\nFIX: Default value on form to send email\nFIX: error messages not displayed\nFIX: Massive debug in lettering function\nFIX: missing compatibility with multicompany\nFIX: missing global $user\nFIX: missing situation invoice in list\nFIX: MultiEntity in lettering functionality\nFIX: Product accountancey sell intra code must be visible if main feature level 1\nFIX: ref for table without ref manager are set to NULL.\nFIX: Sending email to mass actions send same email on same customer\nFIX: Several fixes on import of services/products\nFIX: shipping default warehouse if only one warehouse\nFIX: sortfield on lettering function\nFIX: Status of opportunity should never be -1\nFIX: test to display create invoice button on supplier_order card\nFIX: The autocopy feature was ko for suppliers\nFIX: Total per day in timespent per week\nFIX: Total per day shows 00:00 if the total time spent is equal to 12:00\nFIX: Update/delete currency on same languages\nFIX: Wrong variable name make contact of supplier order not used on PDF.\nFIX: Add hidden option MAIN_PDF_HIDE_SITUATION to hide situation (quick hack to fix output pb).\nFIX: attached files list with link file was broken\n\n***** ChangeLog for 9.0.2 compared to 9.0.1 *****\nFIX: #10822\nFIX: Accountancy - Format EBP import\nFIX: A page of a site replaced with another when switching in edit mode\nFIX: Autodetect buy price for invoices autogenerated with templates.\nFIX: Avoid error 500 when extension php-intl not loaded\nFIX: bad check on type of expense report (mandatory status not working)\nFIX: Bad label of status for members (must be short version in list)\nFIX: Can not create contract with numbering module without autogen rule\nFIX: Can't set default value of extrafield of type varchar\nFIX: check only if invoice module is enabled (bank is check after)\nFIX: counter of permissions in badge was wrong\nFIX: default value of language of thirdparty\nFIX: Don't show accountingjournal:getNomUrl without data\nFIX: Duplicate executeHook function\nFIX: Edit of personalized groups\nFIX: Error with various & salary payment on project\nFIX: extrafields always visible on view mode\nFIX: function not found\nFIX: If we build one invoice for several orders, we must put the ref of\n     orders on lines.\nFIX: expensereport must be in $check array\nFIX: missing entity filter and wrong var name\nFIX: Missing field \"In sale\" in list\nFIX: missing hook completeTabsHead in margins module\nFIX: missing hook in agenda export\nFIX: missing vat_src_code when inserting an expense report line\nFIX: More complete auto setup of barcode module\nFIX: need to round with 2 decimals to avoid movements not correctly balanced\nFIX: no need to test anything to display documents tabs on expense report\nFIX: old export models was not visible\nFIX: Param keepn must be 1 when dol_escape_htmltag used for textarea\nFIX: possibility to set up payment mode when invoice module is disabled\nFIX: problem with sign of various payment in project preview\nFIX: Rename of project\nFIX: setup of module export\nFIX: several hooks in shipping/delivery cards\nFIX: supplier discount was not retrieved when choosing a product\nFIX: The minimum amount filter does not work in the VAT report per customer\nFIX: Tooltip on click was ko on smartphone\nFIX: translation\nFIX: useless join\nFIX: Vat src code lost after editing expense report line\nFIX: we need to keep originline special_code\nFIX: Can't insert if there is extrafields mandatory on another entity.\nFIX: error in create object when 2 extra fields are mandatory in 2 different entities\nFIX: when we create deposit with multi tva, we mustn't add line if amount = 0 (example when we have a 100% reduc on one of origin invoice line)\nFIX: wrong redirect link on holiday refuse\nNEW: Add more complete error messages in log on stripe payments\n\n***** ChangeLog for 9.0.1 compared to 9.0.0 *****\nFIX: #10381\nFIX: #10460 compatibility with MariaDB 10.4\nFIX: #10485\nFIX: #10638\nFIX: Accountancy - Adding transaction with multicompany uses all the time 1st entity\nFIX: actioncomm export: ORDER BY clause is in wrong export property + event type filter does not work\nFIX: add fk_unit on addline action\nFIX: adding css by page if url is externam\nFIX: Bad link in menu manager\nFIX: better test on fetch\nFIX: can't add lines on invoices\nFIX: Check for old picture name if the new one was not found\nFIX: could not create several superadmin in transversal mode\nFIX: creation of menu entry with parent id not int\nFIX: creation of new left menu entry\nFIX: Default language of company is not set\nFIX: error on setup of password if pass generators have a .old file.\nFIX: error report not returned\nFIX: expedition: reset status on rollback + replace hardcoded status with const\nFIX: fetch module / pos source\nFIX: fk_default_warehouse missing in group by\nFIX: function sendEmailsReminder isn't completely developed, then MAIN_FEATURES_LEVEL must be 2 to \"use\" it\nFIX: if empty error message, we just see \"error\" displayed\nFIX: label of bank account\nFIX: line edit template: keep fk_parent_line\nFIX: Mark credit note as available for credit note in other currency\nFIX: missing access security checking with multicompany\nFIX: missing entity filter in function \"build_filterField()\" (export module)\nFIX: missing $ismultientitymanaged for previous/next ref\nFIX: Missing province in export of invoice\nFIX: must fetch member in current entity\nFIX: positive values creating diff on addline rounding\nFIX: positive values IN supplier credit notes creating diff on addline rounding\nFIX: Price in combo list of service does not use the correct price level\nFIX: project_title for display of getNomUrl()\nFIX: same thing here\nFIX: Show button POS Ticket only if invoice was generated by POS\nFIX: supplier invoice payment total doesn't care about deposit or credit\nFIX: supplier invoice product stats total ht is line total not invoice total\nFIX: The notes was also copied on invoice\nFIX: Transaction on leave approval and decrease ko if setup not complete\nFIX: Translation not loaded by scheduled jobs\nFIX: [URGENT] broken feature, \"$usercancreate\" is for Dolibarr 9\nFIX: we want to be able to reopen fourn credit note\nFIX: wrong feature2 when user rights \"group_advance\" is used\nFIX: wrong merged conflict\nFIX: wrong tests on fetch\nNEW: Add protection to avoid packaging if files non indexed exists\n\n***** ChangeLog for 9.0.0 compared to 8.0.0 *****\nFor Users:\nNEW: Stable module: DAV (WebDAV only for the moment)\nNEW: Stable module \"Skype\" has been replaced with module \"Social Networks\" to support more services.\nNEW: Stable module \"Module Builder\"\nNEW: Stable module: Website\nNEW: Experimental module \"TakePos\"\nNEW: Experimental module \"Ticket\"\nNEW: Experimental module \"Data Privacy\"\nNEW: Experimental module \"Email Collector\"\nNEW: Dolibarr can provide information in page title when multicompany is enabled of not, making\n     Android application like DoliDroid able to provide native features for multicompany module.\nNEW: Compatibility with PHP 7.3 =>\nNEW: Add admin page for modulebuilder\nNEW: Add civility in list of members. Close #9251\nNEW: Add configuration to disable \"customer/prospect\" thirdparty type\nNEW: Add CONTRACT_ALLOW_TO_LINK_FROM_OTHER_COMPANY and CONTRACT_HIDE_UNSELECTABLES by SELECT_HIDE_UNSELECTABLES\nNEW: Add __DAY_TEXT__ and __MONTH_TEXT__ substitutions vars\nNEW: Add due date column in payment lists\nNEW: Add email in event history, for reminder email of expired subscription\nNEW: Add event tab on resource record\nNEW: Add FEC Export in accountancy\nNEW: Add filter on staff range in list of thirdparties\nNEW: Add a first complete template of website\nNEW: Add format code into exported filename of ledger\nNEW: Add hidden option EXPENSEREPORT_DEFAULT_VALIDATOR_UNCHANGEABLE\nNEW: Add hidden option MAIN_DOCUMENTS_DESCRIPTION_FIRST\nNEW: Add link to inventory code\nNEW: Add more common social networks fields for business\nNEW: Add option PDF_DISABLE_MYCOMPANY_LOGO to disable logo on PDF\nNEW: add option PROPOSAL_AUTO_ADD_AUTHOR_AS_CONTACT\nNEW: Add option to display thirdparty address in combolist\nNEW: Add option to swap sender/recipient address on PDF\nNEW: Add option to display thirdparty address in combolist\nNEW: Add project on payment of salaries\nNEW: Add SHIPPING_PDF_HIDE_WEIGHT_AND_VOLUME and\nNEW: Add some hooks in bank planned entries\nNEW: Add supplier ref in item reception page\nNEW: Advanced permission to ignore price min\nNEW: Allow to enter a timespent with a numeric value\nNEW: Automatic position of scroll when creating an extrafield\nNEW: Can add autorefresh=X in any URLs to refresh page after X seconds\nNEW: can add project's task to agenda on create event form\nNEW: Can delete a website in experimental website module\nNEW: Can disable meteo on smartphone only\nNEW: Can export/import a website template\nNEW: Can filter on EEC, not EEC, etc... in binding step of accountancy\nNEW: Can mix offset before and after with rules for due date of invoices\nNEW: Can record the supplier product description\nNEW: Can select several prospect level in thirdparty filter.\nNEW: Can set 2 url in url field of thirdparty\nNEW: Can set if a field is mandatory on form level.\nNEW: Can set the default focus of each page.\nNEW: Add category filter on user list\nNEW: Change forgotten password link in general parameters\nNEW: Child label of variants change if parent label changes\nNEW: Compatibility with new Paybox HMAC requirement\nNEW: Each user can set its preferred default calendar page\nNEW: Enhancement in process to make manual bank conciliation\nNEW: Enhancement in the generic file manager\nNEW: Extrafield totalizable\nNEW: Hidden conf INVOICE_USE_DEFAULT_DOCUMENT\nNEW: hidden conf to search product by supplier ref\nNEW: hidden constant to be able to use a thirdparty for donation\nNEW: hidden option to define an invoice template for each invoice type\nNEW: Highlight lines on lists when they are checked\nNEW: Notification module support expense report+holiday validation and approval\nNEW: On customer/supplier card, add simple tooltip to amount boxes\nNEW: Page to check if the operations/items created between two dates have attached item(s) and possibility to download all attachments\nNEW: possibility to add all rights of all modules in one time\nNEW: redirect if only one result on global search on card\nNEW: Permission to ignore price min\nNEW: Can build an archive of full documents directory from backup page\nNEW: tag odt line_product_ref_fourn for supplier doc lines\nNEW: The binding step in accountancy has a country filter with autocompletion\nNEW: Top menu is always on screen with MD theme.\nNEW: Withdraw request massaction can include already partially paid invoices\nNEW: Option \"Simplify interface for blind persons\"\nNEW: Generic cash fence feature (compatible with several POS modules)\n\nFor developers:\nNEW: Add lib for multiselect with checkboxes\nNEW: Add function isValidMXRecord\nNEW: Add hook changeRoundingMode in update_price\nNEW: Add hook formconfirm to contractcard\nNEW: Add hook for virtual stock\nNEW: ADD url to see the last version of a external module\nNEW: Can enable a module, even external module, from command line\nNEW: Can set a tooltip help text on extrafields\nNEW: Add product search from barcode via REST api\nNEW: can add documents on agenda events using API REST\nNEW: Can set the datestart and dateend of cron job into module descriptor\nNEW: Close #9296 Add field ref_ext into llx_categorie\nNEW: move ticket dictionary in API /setup\nNEW: PHPUnitTest on Loan class #3163\nNEW: Code changes to be more compatible with PSR2\nNEW: Removed trigger USER_LOGOUT, USER_LOGIN, USER_LOGIN_FAILED (Some hooks are already dedicated for that)\nNEW: Add agenda documents in API REST\nNEW: Add \"checked\" field for new list engine compatibility\nNEW: REST API improvements\nNEW: Save external payment IDs into table of payment\nNEW: triggers add commercial and del commercial\nNEW: #9236 Allow to import shipment lines via API\nNEW: ADD civility list in API\nNEW: support selllist in the  module builder\nNEW: optional param to show a specific extrafield\nNEW: hook formConfirm always called if hooked\nNEW: hook on dispatch order fourn\n\nWARNING:\n\nFollowing changes may create regressions for some external modules, but were necessary to make Dolibarr better:\n* If you use some links like viewimages.php?modulepart=mycompany&file=... in your external modules, you must\n  replace them with links like viewimages.php?modulepart=mycompany&file=logos/... (note that link change only for\n  modulepart=mycompany that now works like others).\n* Hidden option MAIN_PDF_SHIPPING_DISPLAY_AMOUNT_HT has been renamed into SHIPPING_PDF_DISPLAY_AMOUNT_HT\n* Remove the no more used and deprecated dol_print_graph function\n\n\n***** ChangeLog for 8.0.6 compared to 8.0.5 *****\nFIX: #11244\nFIX: #11316\nFIX: Add missing end date of subscription in export\nFIX: A user may read holiday and expense report without permissions\nFIX: better syntax\nFIX: condition\nFIX: confirmation of mass email sending + option MAILING_NO_USING_PHPMAIL\nFIX: crabe pdf: bad detailed VAT for situation invoices, in situations S2 and above\nFIX: default value for duration of validity can be set from generic\nFIX: do not include tpl from disabled modules\nFIX: Error management when MAILING_NO_USING_PHPMAIL is set\nFIX: Even with permission, can't validate leave once validator defined.\nFIX: extrafield list search: SQL error when field is multiselect\nFIX: if last char of customercode is accent making the truncate of first\nFIX: in edit mode, dictionary inputs do not escape the string inside the 'value' attribute, causing errors if there are any double quotes\nFIX: invalid link on user.fk_user\nFIX: invoice class: bad SQL request if product type not set\nFIX: mail presend: can overwrite a file previously uploaded\nFIX: mail presend: can overwrite a file previously uploaded (Issue #11056)\nFIX: mass send mail\nFIX: missing compatibility with multicompany transverse mode\nFIX: modulebuilder: hardcoded llx_\nFIX: Not showing Contract and Project columns on ficheinter list\nFIX: remove isolated transaction commit\nFIX: security (a user can read leave or holiday of other without perm.\nFIX: situation invoices: bad detailed VAT in situations following the first one\nFIX: situation invoices: block progress percentage change for discount lines\nFIX: syntax error\nFIX: try to use WHERE EXISTS instead DISTINCT\nFIX: use dol_sanitizeFileName() function to remove double spaces in filenames, as well as done on document.php when we want to download pdf\nFIX: var name\nFIX: we need to fetch fourn invoice with ref in current entity\nFIX: Wrong stock movement on supplier credit notes\n\n***** ChangeLog for 8.0.5 compared to 8.0.4 *****\nFIX: #10381\nFIX: #10460 compatibility with MariaDB 10.4\nFIX: #11025\nFIX: Accountancy - Add transaction with multicompany use all the time 1st entity\nFIX: Accountancy - Format EBP import\nFIX: actioncomm export: ORDER BY clause is in wrong export property + event type filter does not work\nFIX: actioncomm: sort events by date after external calendars and hook\nFIX: action list: add printFieldListSelect and printFieldListWhere hooks\nFIX: add fk_unit on addline action\nFIX: avoid php warning\nFIX: bad sql request\nFIX: better method\nFIX: better test\nFIX: better test on fetch\nFIX: broken external authentication module feature and avoid warning\nFIX: Can not create contract with numbering module without autogen rule\nFIX: can't add lines on invoices\nFIX: Can't generate invoice pdf\nFIX: Can't insert if there is extrafields mandatory on another entity.\nFIX: Can't insert if there is extrafields mandatory on another entity. FIX: Can't set default value of extrafield of type varchar\nFIX: Check for old picture name if the new one was not found\nFIX: Civility not saved when creating a member.\nFIX: $conf->fournisseur->commande->enabled doesn't exist, we must use $conf->fournisseur->enabled\nFIX: could not create several superadmin in transversal mode\nFIX: credit note can have negative value\nFIX: Default value on sales representative on third party creation\nFIX: Don't show journal:getNomUrl without data\nFIX: Erreur dans le Total\nFIX: error messages not displayed\nFIX: expedition: reset status on rollback + replace hardcoded status with const\nFIX: Fix PHP warning \"count(): Parameter must be an array...\"\nFIX: fk_default_warehouse missing in group by\nFIX: function sendEmailsReminder isn't completely developed, then MAIN_FEATURES_LEVEL must be 2 to \"use\" it\nFIX: holidays get natural_search if search params are set only\nFIX: if empty error message, we just see \"error\" displayed\nFIX: if(!method_exists(dol_loginfunction))\nFIX: If we build one invoice for several orders, we must put the ref of order on the line to not lose information.\nFIX: in fact expensereport must be in $check array\nFIX: Interface regression for bind people. Fix option MAIN_OPTIMIZEFORTEXTBROWSER\nFIX: line edit template: keep fk_parent_line\nFIX: Loan impossible to account\nFIX: Mark credit note as available for credit note in other currency\nFIX: missing access security checking with multicompany\nFIX: missing entity filter and wrong var name\nFIX: missing entity filter in function \"build_filterField()\" (export)\nFIX: Missing field in import/export of users\nFIX: missing hook completeTabsHead in margins module\nFIX: missing $ismultientitymanaged for previous/next ref\nFIX: Missing province in export of invoice\nFIX: multicompany compatibility\nFIX: must fetch member in current entity\nFIX: need an order by in case we found other invoice with same number but not same date\nFIX: need to round with 2 decimals to avoid movements not correctly balanced\nFIX: no need to test anything to display documents tabs on expense report\nFIX: positive values creating diff on addline rounding\nFIX: problem with multicompany transverse mode\nFIX: Product accountancey sell intra code must be visible if main feature level 1\nFIX: project_title for display of getNomUrl()\nFIX: quick search for supplier orders\nFIX: Rename of project\nFIX: same thing here\nFIX: Selection of email recipient with option MAIN_OPTIMIZEFORTEXTBROWSER\nFIX: several hooks in shipping/delivery cards\nFIX: shipping default warehouse if only one warehouse\nFIX: SQL injection on rowid of dict.php\nFIX: 'statut' is ignored when updating a user with the REST API.\nFIX: supplier invoice payment total don't care about deposit or credit\nFIX: supplier invoice product stats total ht is line total not invoice total\nFIX: The minimum amount filter does not work in the VAT report per customer\nFIX: Total per day shows 00:00 if the total time spent is equal to 12:00\nFIX: Update/delete currency on same languages\nFIX: [URGENT] broken feature, \"$usercancreate\" is for Dolibarr 9\nFIX: useless join\nFIX: we need to keep originline special_code\nFIX: we want to be able to reopen fourn credit note\nFIX: when 2 extra fields are mandatory in 2 different entities\nFIX: when we add a payment on an invoice which already has payments with credit note or deposit amount, and then we get an excess received, discount amount must be $total_paiements + $total_creditnote_and_deposit - $object->total_ttc;\nFIX: when we create deposit with multi tva, we mustn't add line if amount = 0 (example when we have a 100% reduc on one of origin invoice line)\nFIX: wrong redirect link on holiday refuse\nFIX: wrong test enabled\nFIX: Wrong variable name\nFIX: XSS\n\n***** ChangeLog for 8.0.4 compared to 8.0.3 *****\nFIX: #10030 better german chart\nFIX: #10036\nFIX: #10080 Supplier translations are in english\nFIX: #10183 using backport of fix done in 9.0\nFIX: #10218 Bad redirection after deleting a user or group\nFIX: #3234\nFIX: #6580\nFIX: #8741\nFIX: #9629 #9625\nFIX: #9971\nFIX: avoid Class 'AdherentType' not found\nFIX: Can relaunch install on v8\nFIX: Can't create a thirdparty from member if customer code is mandatory.\nFIX: Can't delete a line of minimal stock per warehouse\nFIX: check if \"entity\" is already defined in \"$param\"\nFIX: contact/address tab issue when changing company\nFIX: contact/address tab: when changing company ajax combo, the first contact change is not taken into account\nFIX: CVE-2018-19799\nFIX: CVE-2018-19992\nFIX: CVE-2018-19993\nFIX: CVE-2018-19994\nFIX: CVE-2018-19995 and CVE-2018-19998\nFIX: Error reported when creation of thirdparty from member fails\nFIX: export only prices of the current entity !\nFIX: Extrafields on shipment module\nFIX: filter on product category doesn't work\nFIX: form actions: select_type_actions could be too small + bad $db init\nFIX: form actions: select_type_actions could be too small + bad  init\nFIX: fourn payment modes mustn't be available on customer docs\nFIX: Function updatePrice with wrong parameters\nFIX: hidden extrafield\nFIX: if qty is 0\nFIX: If we change customer/supplier rule we can't edit old thirdparty.\nFIX: lang not loaded\nFIX: Lines are not inserted correctly if VAT have code\nFIX: merge sign\nFIX: Method setValid not found\nFIX: Migration do not create not used table\nFIX: missing action \"edit\" for the hook\nFIX: missing field \"visible\"\nFIX: Missing last month on vat report per month\nFIX: mode is only customer in stats fichinter\nFIX: OppStatusShort doesn't exists\nFIX: Remote ip detection was wrong with proxy (example: cloudflare)\nFIX: Removed not use table\nFIX: Replenishment with option STOCK_ALLOW_ADD_LIMIT_STOCK_BY_WAREHOUSE\nFIX: responsive\nFIX: Same on customer card\nFIX: same on lines\nFIX: screen size fall\nFIX: Select first mail model by default\nFIX: slow SQL query on creating a new supplier invoice\nFIX: sql query performance on list_qualified_avoir_supplier_invoices.\nFIX: supplier order list keep socid\nFIX: Same on customer card\nFIX: same on lines\nFIX: screen size fall\nFIX: Select first mail model by default\nFIX: slow SQL query on creating a new supplier invoice\nFIX: sql query performance on list_qualified_avoir_supplier_invoices.\nFIX: supplier order list keep socid\nFIX: Vendor translations are in english\nFIX: Warning: count()\nFIX: We want to be able to send PDF of paid invoices\n\n***** ChangeLog for 8.0.3 compared to 8.0.2 *****\nFIX: #9161\nFIX: #9432\nFIX: #9432 Assign yourself as a commercial when you don't have permission to see all thirds\nFIX: #9510\nFIX: #9567\nFIX: According to french law, if seller is in France and buyer isn't in UE and isn't a company, TVA used = TVA product\nFIX: Amount when using mutlicurrency on PDF\nFIX: Backup of database without mysqladmin available from cron.\nFIX: Bad label on delete button\nFIX: bad link in notification\nFIX: Bad position of hook formattachOptions call\nFIX: Can't create shipping if have shipping line's extrafields\nFIX: check !empty exclude select element\nFIX: content lost when editing a label with \"\nFIX: correct migration of old postgresql unique key\nFIX: credit note progression\nFIX: default accounting accounts on loan creation #9643\nFIX: Delete of draft invoice\nFIX: deletion on draft is allowed if we are allowed to create\nFIX: Do not show check box if not applicable\nFIX: exclude element of the select\nFIX: extrafields of tasks not visible in creation\nFIX: filter on employee\nFIX: invoice stats: situation invoices were not counted\nFIX: keep external module element when adding resource\nFIX: langs fr\nFIX: Link template invoice to contract\nFIX: Look and feel v8. Missing button \"Create category\"\nFIX: Menu to show/edit Users categories was missing\nFIX: missing name alias field in societe import/export #9091\nFIX: missing symbol for indian rupies\nFIX: Missing transaction around action\nFIX: modify parenting before task deletion\nFIX: nb of session in title\nFIX: need to filter on current entity on replenish\nFIX: number mailing for a contact with multicompany\nFIX: Option for prof id mandatory not working with custom type of company\nFIX: Option MAIN_DISABLE_NOTES_TAB #9611\nFIX: Pagination stats\nFIX: pdf typhon: order reference duplicate\nFIX: position 0 for emails templates\nFIX: previous situation invoice selection\nFIX: Product merge tabs on product card\nFIX: Product margin tab and credit note\nFIX: propal pdf: missing parenthesis for customs code\nFIX: properties on proposal must not be modified if error\nFIX: qty not visible for a lot when making shipment on a dedicated stock\nFIX: Quick hack to solve pb of bad definition of public holidays\nFIX: remain to pay for credit note was wrong on invoice list\nFIX: replenish wasn't caring about supplier price min quantity #9561\nFIX: Required extrafield value numeric should accept '0'\nFIX: resource list with extrafields\nFIX: restore last search criteria\nFIX: Selection of addmaindocfile is lost on error\nFIX: Sending of reminder for expired subscriptions\nFIX: shared link ko on proposals\nFIX: showOptionals: column mismatches\nFIX: situation invoice total with credit note\nFIX: situation invoice prev percent\nFIX: special code on create supplier invoice from supplier order\nFIX: Symbol of currency in substitution variables\nFIX: The max size for upload file was not correctly shown\nFIX: the member e-mail on resign and validation.\nFIX: thirdparty property of object not loaded when only one record\nFIX: title\nFIX: Title problem on admin RSS module\nFIX: Tooltip on invoice widget\nFIX: Total of timespent\nFIX: trackid into email sent from member module.\nFIX: translation in select unit form\nFIX: use discount with multicurrency\nFIX: Variable name\nFIX: When we delete a product, llx_product_association rows are not deleted\nFIX: when we're just admin and not super admin, if we create new user with transverse mode, we don't see it then we can't add him in usergroup\nFIX: wrong function name\nFIX: wrong occurrence number of contract on contact card, we must only count externals\nFIX: wrong value for module part and return access denied\nFIX: Wrong variable name\nFIX: XSS vulnerability reported by Mary Princy E\n\n***** ChangeLog for 8.0.2 compared to 8.0.1 *****\nFIX: #8452\nFIX: #9043\nFIX: #9316 Error when listing invoices\nFIX: #9317\nFIX: #9353 Bug: html error - div inside span on graphs\nFIX: #9355\nFIX: #9393 inconsistency behaviour. option FACTURE_ENABLE_NEGATIVE_LINES\nFIX: #9394\nFIX: #9396\nFIX: #9403\nFIX: #9412\nFIX: #9497\nFIX: Add paypal error message in alert email when online payment fails.\nFIX: better compatibility with multicompany\nFIX: capital must be empty and not 0 if undefined\nFIX: character making error on bill list\nFIX: Entering negative price on order.\nFIX: Expedition not showing extrafields on creation.\nFIX: Homepage links were using wrong topmenus\nFIX: inconsistency behaviour on option FACTURE_ENABLE_NEGATIVE_LINES\nFIX: invert mime type and name.\nFIX: invoice popup hide localtax2 and 3 if not defined.\nFIX: Lose filter on payment type or category after a sort on invoice list.\nFIX: Maxi debug to allow to load chart of account with multicompany.\nFIX: Missing translation in predefined email to membership renewal.\nFIX: Mixing tickets of different thirdparties.\nFIX: \"Other ...\" link so the \"Back to\" link works.\nFIX: PDF address: handle when contact thirdparty is different from thirdparty of document\nFIX: Problems with permissions of module to record payment of salaries\nFIX: remove debug\nFIX: Several fixes on the management of minimal amount for orders\nFIX: wrong var name\n\n***** ChangeLog for 8.0.1 compared to 8.0.0 *****\nFIX: #9258\nFIX: #9328\nFIX: #9337\nFIX: adding GROUP BY for PostgreSQL\nFIX: API template for list pages in module builder\nFIX: API template for record page to delete a record\nFIX: a removed option was still in setup\nFIX: badge on time spent on project and tasks\nFIX: Delete file on smartphone\nFIX: Fetch function will fetch comments\nFIX: Fetch task will now fetch comments\nFIX: $fk_account is always empty, must be $soc->fk_account\nFIX: Force stripe api version to avoid trouble if we update stripe api\nFIX: get_product_vat_for_country functions.lib.php\nFIX: Get templates in a forced language\nFIX: hook on dispatch order fourn\nFIX: Language selection lost if error during creation of email template\nFIX: Look and feel v8\nFIX: propal.class.php\nFIX: Add calls to fetchComments function\nFIX: Remove fetchComments from project and task fetch function\nFIX: remove internal property isextrafieldmanaged from API returns\nFIX: sql error\nFIX: table llx_chargessociales doesn't exists\nFIX: trans on null object\nFIX: vat rate code not returned by get_product_vat_for_country\nFIX: warning for late template invoices to remove when suspended\nFIX: Add hidden option MAIN_xxx_IN_SOURCE_ADDRESS to solve legal issues on PDF\nFIX: Table llx_facture_rec_extrafields missing after migration\n\n\n***** ChangeLog for 8.0.0 compared to 7.0.0 *****\nFor Users:\nNEW: Experimental module: Ticket\nNEW: Experimental module: WebDAV\nNEW: Accept anonymous events (no user assigned)\nNEW: Accountancy - Add import on general ledger\nNEW: Accountancy - Show journal name on journal page and hide button draft export (Add an option in admin)\nNEW: Can create event from record card of a company and/or member\nNEW: Add a button to create Stripe customer from the customer Payment mode tab\nNEW: Add accounting account number on product tooltip\nNEW: Add any predefined mail content\nNEW: Add arrows to navigate into containers in experimental website module\nNEW: Add a tab to specify accountant/auditor of the company\nNEW: Add Date delivery and Availability on Propals List\nNEW: Add date in goods reception supplier order table\nNEW: Add delivery_time_days of suppliers in export profile\nNEW: Add Documents'tab to expedition module\nNEW: Use dol_print_phone in thirdparty list page to format phone\nNEW: Add entry for the GDPR contact\nNEW: Add extrafield type \"html\"\nNEW: Add file number in accountant card and update export filename\nNEW: Add files management on products lot\nNEW: add filter on project task list\nNEW: Add hidden option COMPANY_AQUARIUM_CLEAN_REGEX to clean generated\nNEW: add internal stripe payment page for invoice\nNEW: Add key __USER_REMOTE_IP__ into available substitution variables\nNEW: Add link between credit note invoice and origin\nNEW: Add linked file tab to vat\nNEW: add link to stripe's info in bank menu\nNEW: Add margin filters\nNEW: Add mass action enable/disable on cron job list\nNEW: Add mass action on project's list to close projects\nNEW: Add method to register distributed payments on invoices\nNEW: Add multicurrency support for product buy price for supplier propales, orders and invoices\nNEW: Add name of day in the timesheet input page per day.\nNEW: add new parameters for tcpf encryption\nNEW: add optional esign field in pdf propal\nNEW: Add option BANK_ACCOUNT_ALLOW_EXTERNAL_DOWNLOAD\nNEW: Add option CONTRACT_SYNC_PLANNED_DATE_OF_SERVICES\nNEW: Add param $dolibarr_main_restrict_ip in config file to limit ips\nNEW: add pdf function to check if pdf file is protected/encrypted\nNEW: Add pdf template for stock/warehouse module\nNEW: Add phone format for a lot of countries\nNEW: Add product and product categories filters on customer margins\nNEW: Add product categories filter on product margin\nNEW: Add romanian chart of accounts\nNEW: Add stats in salaries module\nNEW: add stripe transaction\nNEW: Add tab contact on supplier proposals\nNEW: Add total of time spent in timespent page at top of page too.\nNEW: Add trigger CONTRACT_MODIFY\nNEW: Add triggers on ECM object and add fill src_object_type/id fields\nNEW: Add type of website container/page into dictionary\nNEW: advance target filtering can be used everywhere with tpl and fk_element\nNEW: Allow negative quantity for dispatch (supplier order)\nNEW: bank reconcile: checkbox to select all bank operations\nNEW: Better performance with openldap\nNEW: Can add filter actiontype and notactiontype on event ical export\nNEW: Can add product in supplier order/invoice even w/o predefined price\nNEW: cancel orders on massaction\nNEW: Can crop image files attached in \"document\" tabs of a member\nNEW: Can delete dir content in media and ECM module recursively\nNEW: Can dispatch if more than ordered (if hidden option set)\nNEW: Can edit the text color for title line of tables\nNEW: Can enter time spent from the list of time spent of project\nNEW: Can export leave requests\nNEW: Can filter on account range in general ledger grouped by account\nNEW: Can filter on country and taxid into the binding page\nNEW: Can filter on progression in timesheet\nNEW: Can fix the bank account of a payment if payment not conciliated\nNEW: Can force usage of shared link for photo of products\nNEW: Can get template of email from its label\nNEW: Can see Unit Purchase Value of product in stock movement\nNEW: Can select from the user list into send form email (For field to and CC)\nNEW: Can select sample to use when creating a new page\nNEW: can send mail from project card\nNEW: Can set position of images in module tickets\nNEW: Can set the reply-to into email sent\nNEW: Can set the start/end date of service line in invoice templates\nNEW: Can share any file from the \"Document\" tab.\nNEW: Can sort on priority in task scheduler list\nNEW: Can sort order of files in attach tab for leave and expensereport\nNEW: Can use setValueFrom without user modification field\nNEW: Cat set the encryption algorithm for extrafields of type password\nNEW: check idprof1 for country pt\nNEW: default add action: new param $backurlforcard to redirect to card\nNEW: default warehouse field for products + prefill warehouses when dispatching supplier orders\nNEW: Display price HT on all commercial area boards\nNEW: display total on contract service list\nNEW: display weight volume in proposal\nNEW: Edit of extrafields position page on the edit form\nNEW: Experimental DAV module provides a public and private directory\nNEW: export filter models can be share or not by user\nNEW: Externalsite module can accept iframe content.\nNEW: Filter export model is now by user\nNEW: Finish implementation of option PRODUIT_CUSTOMER_PRICES_BY_QTY_MULTIPRICES\nNEW: generalize use of button to create new element from list\nNEW: hidden conf AGENDA_NB_WEEKS_IN_VIEW_PER_USER to set nb weeks to show into per user view\nNEW: hidden conf to assign category to thirdparty that are neither customer nor prospect or supplier\nNEW: hidden conf to set nb weeks to show into user view\nNEW: hidden option MAIN_DISABLE_FREE_LINES\nNEW: improve way of adding users/sales representative to thirdparty\nNEW: Introduce option THIRDPARTY_QUICKSEARCH_ON_FIELDS to personalize fields use to search on quick search.\nNEW: Introduce permission \"approve\" for \"leave request\" like for \"expense report\"\nNEW: Load product data optional fields to the line -> enables to use \"line_options_{extrafield}\"\nNEW: Look and feel v8 - Show Picto \"+\" on all links \"Add record\"\nNEW: Look and feel v8: Use a different picto for delete and unlink\nNEW: mail templates for projects\nNEW: Module variant supported on services\nNEW: monthly VAT report show \"Claimed for the period\" + \"Paid during this\nNEW: Mutualize code for action=\"update_extras\"\nNEW: On invoice card, show accounting account linked\nNEW: Online payment of invoice and subscription record the payment\nNEW: OnSearchAndListGoOnCustomerOrSupplierCard conf\nNEW: Optimize load of hooks classes (save 1-5Kb of memory)\nNEW: Option MAIN_SHOW_REGION_IN_STATE renamed into MAIN_SHOW_REGION_IN_STATE_SELECT are more complete\nNEW: Option to force all emails recipient\nNEW: Hidden option to send to salaries into emails forms\nNEW: order minimum amount\nNEW: add price in burger menu on movement list\nNEW: Report a list of leave requests for a month\nNEW: Section of files generated by mass action not visible if empty\nNEW: send mails from project card\nNEW: Show also size in bytes in tooltip if visible unit is not bytes\nNEW: Show keyboard shortcut of nav arrow into tooltip\nNEW: Show last result code of cron jobs in error in red\nNEW: Show region in company info & Global option to show state code MAIN_SHOW_STATE_CODE\nNEW: Show total number of records by category\nNEW: Show total of time consumed in week in time spent entry page\nNEW: Stripe online payments reuse the same stripe customer account\nNEW: Suggest link to pay online for customer orders\nNEW: supplier credit notes is now supported like for customer credit notes\nNEW: supplier order/order lines export: add supplier product ref\nNEW: supplier relative discounts\nNEW: Support alternative aliases of page name in website\nNEW: syslog file autoclean\nNEW: thirdparty categ filter on lists\nNEW: Use a css style for weekend in time spent\nNEW: Use common substitution rule for language to get translation in ODT\nNEW: Variable __ONLINE_PAYMENT_URL__ available in email templates\n\nFor developers:\nNEW: class reposition can also work on POST (not only GET)\nNEW: add a hook in dol_print_phone\nNEW: The field \"visible\" on extrafield can accept expression as condition\nNEW: Upgrade of Stripe lib to 6.4.1\nNEW: work on CommonObject 'array' field typeNew common object array\nNEW: method Form::selectArrayFilter() + use in left menu search\nNEW: [REST API] Add the possibility to remove a category from a thirdparty\nNEW: doActions on categorycard\nNEW: add \"moreHtmlRef\" hook\nNEW: add hook for more permissions control\nNEW: add hook moreHtmlStatus to complete to status on banners\nNEW: Add hook printEmail\nNEW: Add hook setContentSecurityPolicy\nNEW: Add password_hash as a hash algorithm\nNEW: Add dol_is_link function\nNEW: Adds a contact to an invoice with REST API\nNEW: Adds a payment for the list of invoices given as parameter\nNEW: adds billing contacts ids to REST API returns\nNEW: Add showempty parameter in country selection\nNEW: add printUserListWhere hook\nNEW: add \"printUserPasswordField\" hooks\nNEW: Call to trigger on payment social contribution creation\nNEW: Call to trigger on social contribution creation\nNEW: hook getnomurltooltip is replaced with hook getNomUrl more powerful\n\nWARNING:\n\nFollowing changes may create regressions for some external modules, but were necessary to make Dolibarr better:\n* Remove old deprecated hook 'insertExtraFields'. Triggers must be used for action on CRUD events.\n* Hook 'maildao' was renamed into 'mail' into the method sendfile that send emails, and method was renamed from\n  'doaction' into 'sendMail'.\n* Rename trigger CONTRACT_SERVICE_ACTIVATE into LINECONTRACT_ACTIVATE and\n  CONTRACT_SERVICE_CLOSE into LINECONTRACT_CLOSE\n* Remove triggers *_CLONE. The trigger CREATE with context 'createfromclone' is already called so this is\n  a duplicated feature. Cloning is not a business event, the business event is CREATE, so no trigger required.\n* PHP 5.3 is no more supported. Minimum PHP is now 5.4+\n* Remove the old deprecated code of doActions and getInstanceDao in canvas. The doActions of standard hooks are\n  already available and are better.\n* Removed method fetch_prods() and get_each_prod() not used, keep only get_arbo_each_prod() that is better.\n* The hook contaxt commcard has been renamed thirdpartycomm\n* The hook contaxt thirdpartycard has been renamed thirdpartycontact\n* Remove method Categorie:get_nb_categories() that was not used.\n* Hook getnomurltooltip provide a duplicate feature compared to hook getNomUrl so all hooks getnomurltooltip\n  are now replaced with hook getNomUrl.\n* The substitution key __CONTACTCIVNAME__ is no longer present, it has been replaced by __CONTACT_NAME_{TYPE}__\n  where {TYPE} is contact type code (BILLING, SHIPPING, CUSTOMER, ... see contact type dictionary).\n\n\n***** ChangeLog for 7.0.5 compared to 7.0.4 *****\nFIX: #3234\nFIX: #6580\nFIX: #8741\nFIX: #9934\nFIX: avoid Class 'AdherentType' not found\nFIX: Can't create a thirdparty from member if customer code is mandatory.\nFIX: Can't generate invoice pdf\nFIX: contact/address tab: when changing company ajax combo, the first contact change is not taken into account\nFIX: Error generating ODT when option to use contact on doc on\nFIX: Error reported when creation of thirdparty from member fails\nFIX: filter on product category doesn't work\nFIX: form actions: select_type_actions could be too small + bad  init\nFIX: fourn payment modes mustn't be available on customer docs\nFIX: Function updatePrice with wrong parameters\nFIX: If we change customer/supplier rule we can't edit old thirdparty.\nFIX: Interface regression for bind people. Fix option MAIN_OPTIMIZEFORTEXTBROWSER\nFIX: Lines are not inserted correctly if VAT have code\nFIX: OppStatusShort doesn't exists\nFIX: pdf typhon: order reference duplicate\nFIX: propal pdf: missing parenthesis for customs code\nFIX: Same on customer card\nFIX: same on lines\nFIX: Select first mail model by default\nFIX: sql query performance on list_qualified_avoir_supplier_invoices.\nFIX: task time screen: last fix was overkill\nFIX: task time screen: prevent users with access to all project from assigning to tasks they're not allowed to do\nFIX: use discount with multicurrency\nFIX: Variable name\nFIX: We want to be able to send PDF of paid invoices\nFIX: When delete a product, llx_product_association rows are not deleted\nFIX: wrong occurrence number of contract on contact card, we must only count externals\n\n***** ChangeLog for 7.0.4 compared to 7.0.3 *****\nFIX: #8984 button create expense report\nFIX: #9032\nFIX: #9161\nFIX: #9328\nFIX: According to french law, if seller is in France and buyer isn't in UE and isn't a company, TVA used = TVA product\nFIX: Add calls to fetchComments function\nFIX: better compatibility with multicompany\nFIX: case when we valid form with keyboard\nFIX: character making error on bill list\nFIX: check !empty exclude select element\nFIX: combo into popup become crazy with IE10\nFIX: combo of stock in popup are crazy in IE\nFIX: Deletion of files in migration\nFIX: exclude element of the select\nFIX: extrafieldkey\nFIX: Fetch function will fetch comments\nFIX: Fetch task will now fetch comments\nFIX: filter supplier invoice list by societe name.\nFIX: $fk_account is always empty, must be $soc->fk_account\nFIX: Force stripe api version to avoid trouble if we update stripe api\nFIX: getEntity project and not projet\nFIX: Get templates in a forced language\nFIX: global $mysoc missing (to avoid php notice on lines 279, 280 & 281)\nFIX: Injection\nFIX: invoice stats: situation invoices were not counted\nFIX: keep context filter on contact list on change column displayed\nFIX: Keep same project when creating shipping from order\nFIX: langs fr\nFIX: Lose filter on payment type or category after a sort on invoice list\nFIX: Missing behavior\nFIX: missing hook to edit sql\nFIX: multicompany compatibility !\nFIX: need to filter on current entity on replenish\nFIX: Option MAIN_DISABLE_NOTES_TAB #9611\nFIX: page must always be 0 when we search (to avoid case : when we're on page 3 and we're looking for a precise thirdparty, we stay on page 3 and nothing's displaied)\nFIX: Pagination on related item pages\nFIX: Pagination on withdraw request list\nFIX: PDF address: handle when contact thirdparty different from document thirdparty\nFIX: PHP warning, undefined index notnull\nFIX: Product merge tabs on product card\nFIX: Product margin tab and credit note\nFIX: propal: correctly preset project when creating with origin/originid\nFIX: remain to pay for credit note was wrong on invoice list\nFIX: remove debug\nFIX: Remove fetchComments from project and task fetch function\nFIX: remove rowid for multicompany compatibility\nFIX: Search on Ref project on order list\nFIX: search on ref project on propal list\nFIX: showOptionals: column mismatches\nFIX: SQL Injections reported by mu shcor (ADLab of Venustech)\nFIX: stock replenish with multientity\nFIX: table llx_chargessociales doesn't exists\nFIX: we must see number of all shared projects\nFIX: when stock is empty for current entity but > 0 in other entity, until this commit product wasn't displaied on replenishment, it must depends on multientity stock sharing\nFIX: when we're just admin and not super admin, if we create new user with transverse mode, we don't see it then we can't add him in usergroup\nFIX: wrong function name\nFIX: Wrong position of firstname lastname\nFIX: wrong value for module part and return access denied\nFIX: Wrong variable and trigger name\n\n***** ChangeLog for 7.0.3 compared to 7.0.2 *****\nFIX: 7.0 task contact card without withproject parameters\nFIX: #8722\nFIX: #8762\nFIX: #8813\nFIX: #8858 #8860 Backport better compatibility fix\nFIX: #8893 to get formatted price as substitution vars\nFIX: Avoid converting into reduction twice and draft invoice\nFIX: bad result on fetch ProductStockEntrepot\nFIX: Bad substitution key used for default send proposal email\nFIX: button to pay still visible when amount null used\nFIX: clause must not be there\nFIX: Contact tab not visible when using canvas\nFIX: dol_delete_file must work in a context without db handler loaded\nFIX: entity test must be on product_fourn_price table and not product table\nFIX: Fetch shipping will now fetch project id\nFIX: If we enable 3 steps for supplier order approbation, we must not delete all fourn rights def.\nFIX: intervention: extrafield error when calling insertExtrafields\nFIX: It's not possible to remove a contact which is assigned to an event #8852\nFIX: javascript showempty error\nFIX: Keep supplier proposal price for supplier order\nFIX: link for projects not linked to a thirdparties\nFIX: Missing extrafields in export of stock or products\nFIX: missing filters during ordering\nFIX: missing filters during reordering\nFIX: missing parenthesis\nFIX: need to filter on aa.entity for same accounting accounts available in several entities\nFIX: picto for type in product link in accountany list is wrong\nFIX: Problems in accountancy module when using multicompany module.\nFIX: proposal: missing contact type translation key\nFIX: pu_ht_devise was not converted to numeric so decimals were lost when calculating total_ht_devise\nFIX: Select user on add time spent form\nFIX: shipment: fk_proje(c)t not handled in fetch() and update() methods\nFIX: sometimes amounts are identical but php find them different.\nFIX: supplier order: product supplier ref not saved on addline\nFIX: test is_erasable() must be done before call function delete() too to avoid delete invoice with &action=delete in url\nFIX: wrong var name $search_month_lim\n\n***** ChangeLog for 7.0.2 compared to 7.0.1 *****\nFIX: #8023\nFIX: #8259 can't update contact birthday with REST API\nFIX: #8359\nFIX: #8389\nFIX: #8478 !empty instead of count to avoid warning\nFIX: #8488\nFIX: #8559 Bug to generate cheque receipt\nFIX: #8571\nFIX: #8574\nFIX: #8580\nFIX: #8650\nFIX: actioncomm export: type filtering not working\nFIX: Add a test to avoid to reset binding by error.\nFIX: addline on invoice supplier manage rank on its own if not provided\nFIX: Add warning when expense report line not into range\nFIX: avoid Error: Call to undefined method mysqli::get_charset()\nFIX: avoid focus problem when select2 is in a modal dialog window\nFIX: Binding pages must start on fiscal month not calendar month\nFIX: button \"Classify bill\" on supplier order was not visible\nFIX: Button receive products not visible\nFIX: can bypass the CSRF protection with url with domain inside\nFIX: Can't edit option PROJECT_ALLOW_TO_LINK_FROM_OTHER_COMPANY\nFIX: commonobject: don't require notnull field if default set\nFIX: CommonObject: don't require 'notnull' field if 'default' set\nFIX: cron script disabled if module disabled\nFIX: CVE-2018-10092\nFIX: CVE-2018-10094\nFIX: CVE-2018-10095\nFIX: CVE-2018-9019\nFIX: CWE-89\nFIX: Data on income/expense report was always 0\nFIX: default addupdatedelete actions: uniformize add/update value checks\nFIX: default currency not set on supplier order creation from commercial menu #8459\nFIX: delete all product variants of a parent product\nFIX: Detail per account not visible when total < 0\nFIX: DOL_AUTOSET_COOKIE was not correctly setting value of cookie\nFIX: don't print empty date in CommonObject::showOutputField\nFIX: don't print empty date in CommonObject::showOutputField\nFIX: Draft invoice must be excluded from report\nFIX: environment shown on cron card\nFIX: Error in ContractLigne not return to Contract\nFIX: extrafields price and double were lost during a failed post.\nFIX: File name not visible in email preview\nFIX: filter/sorting on extrafield on contact list from contact tab\nFIX: Initial month on report income/expense per predefined group\nFIX: issue #8037\nFIX: Issue #8455\nFIX: issue #8470\nFIX: label in getnomurl projectlist\nFIX: limit access of email template page to internal users\nFIX: look and feel v7 \"back to\" for bookkeeping record\nFIX: Max nb of generation of recurring invoice should not show warning\nFIX: missing english name for object\nFIX: Missing include\nFIX: missing User object with API REST\nFIX: modulebuilder: could not create html fields\nFIX: modulebuilder: handle 'price' fieldtype\nFIX: multiple creation of same event\nFIX: Name of user not visible on journalizing expense report payments\nFIX: Not approved holidays must not be visible into timesheet\nFIX: Only approved expense report must be journalized\nFIX: payment term doc-specific label was not used\nFIX: payment term doc-specific label was not used (issue #8414)\nFIX: project category is type 6 not 5\nFIX: Projet is not prefilled when created from overview page\nFIX: Related contact printed in societe agenda\nFIX: Removed error when no error on accounting setup page\nFIX: remove var_dump\nFIX: sanitize setup params\nFIX: selectForFormsList: entity checked even is object not multi-entity managed\nFIX: service creation, right is tested regarding the product type\nFIX: some localtaxes errors\nFIX: Some report have data when several chart of accounts exists\nFIX: sql error using no category\nFIX: SQL Injection CWE-89\nFIX: Support or multicompany for scheduled jobs\nFIX: Test on mandatory status when closing proposal failed\nFIX: to allow IRPF not null even if main VAT is null.\nFIX: update wrong datetime extrafield\nFIX: Use priority to define order of scheduled jobs\nFIX: various modulebuilder-related issues\nFIX: view of balance before field\nFIX: weird password autocompletion in Goocle Chrome (issue #8479)\nFIX: weird password autocompletion in Google Chrome (issue #8479)\nFIX: When clearing filter, we must not save tmp criteria in session\nFIX: With x extrafields, request for multicompany label was done x times\nFIX: several XSS\nFIX: zip not filtered\n\n***** ChangeLog for 7.0.1 compared to 7.0.0 *****\nFIX: #8139 User search does not work if MAIN_USE_OLD_SEARCH_FORM, missing list.php\nFIX: #8200\nFIX: #8219\nFIX: #8232\nFIX: #8269\nFIX: #8277\nFIX: #8285 Extrafields now reported by /api/index.php/agendaevents/{id}\nFIX: #8289 add a configuration for stock calculation\nFIX: Activate all also if there are inactive services\nFIX: add planned delivery to order exports\nFIX: approval date was not visible if leave was canceled after\nFIX: avoid \"Array\" on screen\nFIX: Avoid empty value to fk_multicurrency attribute\nFIX: Bad var for substitution of free text\nFIX: Can't activate tasks on projects configuration\nFIX: Can use odx templates that does not include lines tags\nFIX: check shipping on delete order\nFIX: check verif exped on delete order\nFIX: comment on tasks\nFIX: country must not be mandatory for accounting report groups\nFIX: css\nFIX: Delete tasks on project delete will now trigger TASK_DELETE\nFIX: Do not lose filter when editing comment of a time spent in task view\nFIX: duplicate confirm message. Missing reposition class\nFIX: Duplicate product_type asignement on order addline\nFIX: email use the validate user instead of approver in holiday approval\nFIX: Error management in leave request\nFIX: for nondisplay of  fk_element 's id in  REST API response\nFIX: Generic substitution of constant disabled for sensitive constant\nFIX: if we make a mistake with situation_percent, now we can correct it. before situation_final was always set to 1 and no way to go back\nFIX: Import process must stop after ending line nb to import\nFIX: Infinite loop on deletion of temp file when there is symbolic links\nFIX: Input of holiday for subordinates was ko\nFIX: invoice creation fails when next date not defined\nFIX: Label of event show twice\nFIX: letter for month March\nFIX: Look and feel v7\nFIX: Make a redirect after the remove_file action to avoid deletion done\nFIX: migration script for product photo\nFIX: missing email of customer in stripe info payments\nFIX: missing object entity in fetch\nFIX: Missing restore_lastsearch_values\nFIX: multicompany compatibility and fix reports\nFIX: natural search double quote\nFIX: navigation and filters on holiday list\nFIX: Parameter must be an array or an object that implements Countable\nFIX: Payment mode not correctly set in donation and document\nFIX: Permission in list of holiday\nFIX: Properties updated if update successful.\nFIX: reverse field to have object loaded in doaction\nFIX: Saving wrong localtax on order addline\nFIX: Search criteria on vat\nFIX: security report by DIGITEMIS CYBERSECURITY & PRIVACY\nFIX: show status on societe banner\nFIX: solve column mismatch in user card with multicompany transverse mode + code cleanup\nFIX: Subscription events not recorded into agenda\nFIX: Subscription not correctly log in blockedlog\nFIX: Temporary dir for mail files must be cleaned at beginning of form\nFIX: Trad and creation date in subscription create\nFIX: translation of holiday types\nFIX: Unknown column 'pl.amount_requested' in compta/prelevement/factures.php\nFIX: Useless clean of tree\nFIX: Use of undefined constant _ROWS_2\nFIX: warning when adding ECM files using old photo path\n\n\n***** ChangeLog for 7.0.0 compared to 6.0.7 *****\nFor users:\nNEW: Add a preview icon after files that can be previewed (pdf + images)\nNEW: When payment is registered, PDF of invoices are also regenerated so payments\n     appears with no need to click on regenerate.\nNEW: #5711 Add shipment line deleting and editing for draft shipments.\nNEW: Accept substitution key __(ABC)__ replaced with value of translation of key ABC\nNEW: Accept substitution key __[ABC]__ replaced with value of const ABC\nNEW: Accountancy Add fields for sale accounting account for intracommunity sales & export sales\nNEW: Add a button \"Activate all services\" on contracts\nNEW: Add a confirmation for all mass action 'delete'\nNEW: Add a group task line for tasks on same level on gantt diagram\nNEW: Add and edit country for chart of accounts systems\nNEW: add a new notification for the signed closed event of a proposal.\nNEW: Add a parameter to specify char used as separator for variant product label\nNEW: Add a profile to import product translations\nNEW: Add a protection so we can't journalize non balanced transactions\nNEW: Add a status enabled/disabled on recurring invoices\nNEW: add burger menu to list action comm\nNEW: Add button cancel on shipment creation\nNEW: Add chart of account for england\nNEW: Add Chile accounting plan\nNEW: Add class in societe/card.php\nNEW: add company alias name when create company from member\nNEW: Add date of birth on user card.\nNEW: Add date_valid and date_pointoftax on supplier invoices.\nNEW: Added Region name to state/province form field\nNEW: Added regions to third party/societe lists, can be filtered\nNEW: Add error message\nNEW: Add expense report rules and ik\nNEW: Add filter on event code on automatic filling setup page\nNEW: Add filters on month/year on the accountancy binding tools\nNEW: add fk_unit field into product/service import/export\nNEW: add 'formObjectOptions' hook to the form setting the product selling price\nNEW: Add hidden option PROJECT_DISABLE_UNLINK_FROM_OVERVIEW\nNEW: add image object_phoning_mobile.png\nNEW: Adding Field \"First date of expire\" + filter on contract list\nNEW: add ldap_rename for avoid password if ldap key changed\nNEW: Add mass action \"validate\" on supplier invoices.\nNEW: add members types ldap group management\nNEW: Add new property visible dy default on lists on extrafields\nNEW: Add Next/Previous button on operation date of bank line\nNEW: Add option EXPENSEREPORT_ALLOW_OVERLAPPING_PERIODS\nNEW: Add option PROPOSAL/ORDER/INVOICE_ALLOW_EXTERNAL_DOWNLOAD\nNEW: Add product unit fields for ODT substitution\nNEW: Add project on a various payment\nNEW: Add project related fields to ODT\nNEW: Add protection to avoid to send to much emails using builk actions\nNEW: Add search field for date on supplier payment page\nNEW: Add search on date and accounting account in various payment list\nNEW: add specific translation for title of documents (Invoice, Order, Proposal)\nNEW: Adds the payment reference to the return of the function getListOfPayements\nNEW: Add supplier proposals into stats of product page.\nNEW: Add tab \"Expense report\" on user card\nNEW: add the ability to regenerate a pdf for the order module\nNEW: Add The accountancy Switzerland chart of accounts\nNEW: Add The developed French chart of accounts 2014\nNEW: Add The Luxembourg chart of accounts\nNEW: Add The Moroccan chart of accounts\nNEW: Add The Switzerland chart of accounts\nNEW: Add The SYSCOHADA chart of accounts\nNEW: Add the total in the perday view of the time spent form.\nNEW: Add The Tunisia chart of accounts\nNEW: Add toolkit for StockLimit and DesiredStock\nNEW: add translation and possibility to change month and year\nNEW: Add view of status of template invoice\nNEW: All search boxes are available on smartphone\nNEW: All setup of accountancy can be done from menu \"Accountancy-Setup\"\nNEW: Attaching doc automatically in email is now a parameter of template.\nNEW: automatic activation of external module on country set\nNEW: Better autoselect customer or supplier fields to save clicks\nNEW: Better behaviour when using a text browser\nNEW: Break lines per project on the new timesheet page\nNEW: Bulk action validate on customer invoices\nNEW: Bulk delete actions available on leave requests\nNEW: burger menu and hooks on list action\nNEW: Can add html content on right of tabs\nNEW: Can add link to other element on a donation\nNEW: Can create intervention from a proposal\nNEW: Can create thirdparty from card proposal, order or invoice\nNEW: Can download PDF document from the payment page\nNEW: Can edit the language into the email templates editor.\nNEW: Can edit with delete/insert a forced translation\nNEW: Can export list of stock movements\nNEW: Can filter on date on the page showing existing bindings\nNEW: Can filter on document name in ECM module for automatic tree\nNEW: can filter on status of template invoices\nNEW: Can filter on the \"other\" column on emailing target list\nNEW: Can filter on type of email template\nNEW: Can filter on user on unalterable log\nNEW: Can import local tax rates in prices\nNEW: Can include extrafields into member card templates\nNEW: Can include tag {uuu} into some numbering masks to replace with user\nNEW: Can make a specific setup for SMTP sending for emailing module\nNEW: Can rename (so reorder) bank receipts\nNEW: Can send email from contract card\nNEW: Can send email from the member card using email templates.\nNEW: Can set a dedicated message on payment forms\nNEW: Can set email of thirdparty as unique and/or mandatory\nNEW: Can setup csv accounting export from admin config\nNEW: Can show currency in list of bank accounts\nNEW: Can show stock in alert even if alter is set to 0\nNEW: Can sort joined files on thirdparty and user card.\nNEW: Can transfer from bank account to bank account with different currencies\nNEW: Can use an url like $conf->global>-MYPARAM for menu urls\nNEW: change description on click\nNEW: Chart of account is loaded when selected into accounting setup\nNEW: Classify the order as invoiced in the REST API\nNEW: comments system on task\nNEW: comment system working with all objects\nNEW: Compatibility with PHP 7.2\nNEW: confirm form style to accept or reject proposal\nNEW: Create an invoice using an existing order\nNEW: Create an order using an existing proposal\nNEW: customizable meteo in value or percentage\nNEW: Days where user is on vacation use different colors in timesheet.\nNEW: Deduct an available credit to an existing invoice\nNEW: Default filter and sort order can use partial list of query\nNEW: Deposit invoice more explicit in invoice line description\nNEW: deposits can be converted even if unpaid\nNEW: detection of edge browser\nNEW: Each user can edit its own email template (menu tools)\nNEW: Enabled sending email in bulk actions for supplier orders\nNEW: Enhance the anti XSS filter\nNEW: extrafield on facture_rec\nNEW: Extrafields \"link to object\" now use a combo selection and getNomUrl\nNEW: filter date for blockedlog\nNEW: filter on extrafield on product list (as in company list)\nNEW: General ledger : Add field date_creation and selected field\nNEW: generate also document when invoice is build from recurring template\nNEW: Generated files are now indexed in database\nNEW: generate invoice PDF on disount application or payment\nNEW: Get a list of payments terms\nNEW: hrm details output on user\nNEW: If max nb of generation is reached, date for next gen is striked\nNEW: improvements of invoices, orders and proposals in the REST API\nNEW: Include a color syntaxed HTML editor for emailing edition.\nNEW: Introduce code syntax coloration with mode 'ace' for DolEditor.\nNEW: Introduce experimental feature to search dolistore from application\nNEW: jquery date selector become default date selector\nNEW: langs\nNEW: link project from other company conf\nNEW: manageme extrafields with multientity\nNEW: Mass PDF Merging is available on contracts\nNEW: merge categories while merging thirdparties\nNEW: Merge resource/add.php to resource/card.php\nNEW: Module \"Product variants\" is moved as stable.\nNEW: More picto for phone\nNEW: Move accountancy features into a dedicated menu\nNEW: Move contacts of a thirdparty on tab Contacts/Addresses\nNEW: Move the upload input on top right in ECM module\nNEW: new columns into extrafields table to get update create information\nNEW: new param on load_board() function in ActionComm class to avoid duplicate code\nNEW: On bulk email from a list, can uncheck \"Join main document\".\nNEW: On reconciliation, show balance including all reconciliated fields\nNEW: Option \"one email per recipient\" when using bulk actions emails.\nNEW: Option STOCK_SUPPORTS_SERVICES become visible.\nNEW: option to avoid countries to disable there blockedlog\nNEW: option to fix top menu with eldy theme (hidden conf)\nNEW: Popup for preview of image add a button \"Original size\"\nNEW: post lines of an invoice using the REST API\nNEW: preload comments in task\nNEW: Provide a way to download a file from a public URL for files in ECM\nNEW: Reduce size of HTML page by removing duplicate tooltips\nNEW: Remove background on agenda view when event is a not busy event.\nNEW: Retrieves available discounts and payments details from a specific invoice\nNEW: Revenue stamp can be a percent\nNEW: Search filters in lists are restored when using \"back to list\"\nNEW: Send by email available in bulk for expense report\nNEW: Set a proposal to draft\nNEW: Show badge with nbr of shipment on shimpen tab of order\nNEW: Show country and vat number into company tooltip\nNEW: Show direct preview link on contract\nNEW: Show expected worked hours on the timesheet form.\nNEW: Show line \"other filtered task\" when using filter on timesheet.\nNEW: Show list of tracked events into the module config page.\nNEW: Show the supplier ref into supplier cards\nNEW: Show user id of web process in system info - web server\nNEW: Summary of last events on a card are sorted on decreasing date.\nNEW: Support Italian addresses format. Fixes #7785\nNEW: Support visibility on extrafields\nNEW: Template invoices are visible on the customer tab\nNEW: template invoices support substitution key\nNEW: The bank account is visible on payment of taxes\nNEW: The comment when closing a proposal is added to commercial proposal\nNEW: The gantt diagram is now sensitive to hours\nNEW: The lot of a product uses the link and picto when shown into list.\nNEW: The \"Show detail by account\" accepts 3 values: yes, no, if non zero\nNEW: The unalterable log can be browse by any user with he permission\nNEW: Tooltip for substitutions variables on tooltips on admin pages\nNEW: unexistant function load_state_board() on several objects\nNEW: Update availability\nNEW: Update bank account when updating an invoice\nNEW: Update bank account when updating an order\nNEW: Use autocompletion on selection of chart of account\nNEW: view company name if different of fullname in dol_banner\nNEW: warning on module blocked log reset if country code is FR\n\nFor developers:\nNEW: Add 2 new automatic classification in workflow module\nNEW: Add API for contracts\nNEW: Add API to activate/unactivate a contract\nNEW: Add api validate and close on contracts\nNEW: add doActions hook in admin ihm\nNEW: add doActions hook in company admin\nNEW: Added functionality to get order customer contact as contact_xx tags\nNEW: Add hook addAdminLdapOptions and doAction in ldap admin page\nNEW: Add method executeCLI and a phpunit\nNEW: add '$moreatt' parameter in picto_from_langcode function\nNEW: Add non intrusive js library to make syntaxic coloring of textarea\nNEW: Add payment line to a specific invoice using the REST API\nNEW: add possibility to disabled the LDAP trigger\nNEW: add possibility to hide LDAP tab for non admin\nNEW: Add possibility to propose last num releve in conciliation\nNEW: add possibility to remove address field\nNEW: Add REST API for supplier proposals\nNEW: Add REST API to add payment line to a specific invoice\nNEW: Add the attribute accept to the input form for file upload\nNEW: add translation column for extrafields list\nNEW: Add performances indexes on calendar events\nNEW: A module can change order of element in the quick search combo\nNEW: Can test signature of a version from API\nNEW: complete_head_from_modules() in ldap_prepare_head()\nNEW: Consolidates REST dictionary APIs into a single tree and a single file\nNEW: Delete a line of invoice using the REST API\nNEW: documents REST API return list of documents by element\nNEW: Download a document using the REST API\nNEW: Enhance framework so we can use html/icons into SELECT options.\nNEW: External module can interact with the customer summary page\nNEW: Generates the document before downloading using REST API\nNEW: get and post lines of an invoice using the REST API\nNEW: Get a payment list of a given invoice using the REST API\nNEW: Get available assets of an invoice using the REST API\nNEW: Get credit notes or deposits of a thirdparty\nNEW: GET lines of an invoice in the REST API\nNEW: get payment types using the REST API + consolidates REST dictionary APIs\nNEW: Get the list of payments terms.\nNEW: hook formObjectOptions in the form setting product selling price\nNEW: hook to enrich homepage open elements dashboard\nNEW: Insert a discount in a specific invoice using the REST API\nNEW: Remove js library fileupload that was not used by core code.\nNEW: Remove tooltip tipTip library replaced with standard jquery tooltip\nNEW: Set invoices as draft using the REST API\nNEW: Sets an invoice as paid using the REST API\nNEW: Tag the order as validated (opened) in the REST API\nNEW: Update end of validity date of proposal using the API\nNEW: Update in the order REST API\nNEW: Upgrade jquery select2 to 4.0.4\n\n\nWARNING:\n\nIf you enabled (for test) the experimental BlockedLog module before 7.0, you must purge the table llx_blockedlog because\nway to save data for final version has changed.\n\nFollowing changes may create regressions for some external modules, but were necessary to make Dolibarr better:\n* The method \"cloture\" on contract were renamed into \"closeAll\".\n* The method \"is_erasable\" of invoice return a value <= 0 if not erasable (value is meaning) instead of always 0.\n* The substitution key for reference of objects is now __REF__ whatever is the object (it replaces __ORDERREF__,\n  __PROPALREF__, ...)\n* The substitution key __SIGNATURE__ was renamed into __USER_SIGNATURE__ to follow naming conventions.\n* Substitution keys with syntax %XXX% were renamed into __XXX__ to match others.\n* Removed old deprecated REST API (APIs found into '/root' section of the REST API explorer in Dolibarr v6).\n* Some REST API to access setup features, like dictionaries (country, town, extrafields, ...) were moved into a\n  common API \"/setup\".\n* The REST API /documents were renamed into /documents/download and /documents/upload.\n* Page bank/index.php, bank/bankentries.php and comm/actions/listactions.php were renamed into\n  bank/list.php, bank/bankentries_list.php and comm/actions/list.php to follow page naming\n  conventions (so default filter/sort order features can also work for this pages).\n* The trigger ORDER_SUPPLIER_STATUS_ONPROCESS was renamed into ORDER_SUPPLIER_STATUS_ORDERED.\n* The trigger ORDER_SUPPLIER_STATUS_RECEIVED_ALL was renamed into ORDER_SUPPLIER_STATUS_RECEIVED_COMPLETELY.\n* The parameter note into method cloture() is added at end of private note (previously in v6, it replaced).\n* The parameter $user is now mandatory for method createFromOrder and createFromPropal.\n* Removed js library 'fileupload' that was not used by core code.\n* Jquery plugin tableDnd updated. You now need to use decodeURI on the return value of tableDnDSerialize()\n  and add 'td.' to the beginning of the dragHandle match string.\n* IE8 and earlier and Firefox 12 and earlier (< 2012) are no more supported.\n* The module ExpenseReport use numbering rules that you can setup (like other modules do). If you need to\n  keep the hard coded numbering rule of expenses report used in 6.0, just add constant\n  EXPENSEREPORT_USE_OLD_NUMBERING_RULE to 1.\n* If you use the external module \"multicompany\", you must also upgrade the module. Multicompany module for\n  Dolibarr v7 is required because with Dolibarr v7, payment modes and payment conditions are management as data\n  that are dedicated to each company. If you keep your old version of multicompany module, mode and\n  condition of payments will appears empty in all companies that are not the first one. By upgrading the\n  multicompany module to a version that support Dolibarr v7, everything should work as expected.\n\n\n***** ChangeLog for 6.0.8 compared to 6.0.7 *****\nFIX: #8762\nFIX: #9032\nFIX: case when we valid form with keyboard\nFIX: clause must not be there\nFIX: dol_delete_file must work in a context without db handler loaded\nFIX: entity test must be on product_fourn_price table and not product table\nFIX: Fetch shipping will now fetch project id\nFIX: $fk_account is always empty, must be $soc->fk_account\nFIX: getEntity project and not projet\nFIX: If we enable 3 steps for supplier order approbation, we must not delete all fourn rights def.\nFIX: Keep supplier proposal price for supplier order\nFIX: langs fr\nFIX: missing filters during reordering\nFIX: need to filter on aa.entity for same accounting accounts available in several entities\nFIX: page must always be 0 when we search (to avoid case : when we're on page 3 and we're looking for a precise thirdparty, we stay on page 3 and nothing's displaied)\nFIX: PDF address: handle when contact thirdparty different from document thirdparty\nFIX: propal: correctly preset project when creating with origin/originid\nFIX: pu_ht_devise was not converted to numeric so decimals were lost when calculating total_ht_devise\nFIX: remain to pay for credit note was wrong on invoice list\nFIX: shipment: fk_proje(c)t not handled in fetch() and update() methods\nFIX: showOptionals: column mismatches\nFIX: sometimes amounts are identical but php find them different.\nFIX: test is_erasable() must be done before call function delete() too to avoid delete invoice with &action=delete in url\nFIX: we must see number of all shared projects\nFIX: wrong var name\n\n***** ChangeLog for 6.0.7 compared to 6.0.6 *****\nFIX: #8023\nFIX: #8259 can't update contact birthday with REST API\nFIX: #8478 !empty instead of count to avoid warning\nFIX: #8488\nFIX: actioncomm export: type filtering not working\nFIX: addline on invoice supplier manage rank on its own if not provided\nFIX: issue #8037\nFIX: label in getnomurl projectlist\nFIX: payment term doc-specific label was not used\nFIX: payment term doc-specific label was not used (issue #8414)\nFIX: project category is type 6 not 5 !!\nFIX: some localtaxes errors\nFIX: weird password autocompletion in Google Chrome (issue #8479)\n\n***** ChangeLog for 6.0.6 compared to 6.0.5 *****\nFIX: #7974 Contract - Invalid reference on the document\nFIX: #8139\nFIX: #8139 User search does not work if MAIN_USE_OLD_SEARCH_FORM, missing list.php\nFIX: #8151\nFIX: #8200\nFIX: add planned delivery to order exports\nFIX: a discount is a percent, not an amount, so we use vatrate not price\nFIX: Avoid empty value to fk_multicurrency attribute\nFIX: Bad localtaxes assignment in cashdesk\nFIX: check shipping on delete order\nFIX: check verif exped on delete order\nFIX: creer into lire\nFIX: Delete tasks on project delete will now trigger TASK_DELETE\nFIX: Global on $user parameter reset the variable\nFIX: if we make a mistake with situation_percent, now we can correct…\nFIX: if we make a mistake with situation_percent, now we can correct it. before situation_final was always set to 1 and no way to go back\nFIX: Import process must stop after ending line nb to import\nFIX: migration script for product photo\nFIX: natural search double quote\nFIX: reverse field to have object loaded in doaction\nFIX: Saving wrong localtax on order addline\nFIX: show status on societe banner\nFIX: solve column mismatch in user card's usergroup list + code cleanup\nFIX: solve column mismatch in user card with multicompany transverse mode + code cleanup\nFIX: unset categorie\nFIX: update_extras on fourn card\nFIX: warning when adding ECM files using old photo path\nFIX: Withdrawals lines not filter by company name and not respect dropdown limit lines by page\nNEW: Add sale representative einstein_pdf_modules\nNEW_einstein_pdf_modules\nNEW: field commerciaux and categ export CustomersInvoicesAndPayments\n\n\n***** ChangeLog for 6.0.5 compared to 6.0.4 *****\nFIX: security vulnerability reported by ADLab of Venustech\n     CVE-2017-17897, CVE-2017-17898, CVE-2017-17899, CVE-2017-17900\nFIX: #7379: Compatibility with PRODUCT_USE_OLD_PATH_FOR_PHOTO variable\nFIX: #7903\nFIX: #7933\nFIX: #8029 Unable to make leave request in holyday module\nFIX: #8093\nFIX: Bad name alias showing in name of third column\nFIX: Cashdesk should not sell to inactive third parties\nFIX: Edit accountancy account and warning message on loan\nFIX: $accounts[$bid] is a label !\nFIX: $oldvatrateclean & $newvatrateclean must be set if preg_match === false\nFIX: product best price on product list\nFIX: search on contact list\nFIX: stats trad for customerinvoice\nFIX: translate unactivate on contractline\nFIX: email sent was not in HTML\nFIX: missing hook invoice index\nFIX: subject mail sepa\n\n\n***** ChangeLog for 6.0.4 compared to 6.0.3 *****\nFIX: #7737\nFIX: #7751\nFIX: #7756 Add better error message\nFIX: #7786\nFIX: #7806\nFIX: #7824\nFIX: add line bad price and ref\nFIX: A lot of several fix on local taxes and NPR tax\nFIX: createfromorder\nFIX: CSS for IE10\nFIX: external user cannot be set as internal\nFIX: Filter type on actioncomm with multiselect doesn't work\nFIX: list of donation not filtered on multicompany\nFIX: list of module not complete when module mb_strlen not available\nFIX: Locatax were not propagated when cloning order or proposal\nFIX: Searching translation should not be case sensitive\nFIX: Search into language is ok for file into external modules two.\nFIX: test for filter fk_status\nFIX: too much users on holiday list\nFIX: Wrong alias sql\n\n\n***** ChangeLog for 6.0.3 compared to 6.0.2 *****\nFIX: #7211 Update qty dispatched on qty change\nFIX: #7458\nFIX: #7593\nFIX: #7616\nFIX: #7619\nFIX: #7626\nFIX: #7648\nFIX: #7675\nFIX: Agenda events are not exported in the ICAL, VCAL if begin exactly with the same $datestart\nFIX: API to get object does not return data of linked objects\nFIX: Bad localtax apply\nFIX: Bad resource list in popup in gantt view\nFIX: bankentries search conciliated if val 0\nFIX: hook formObjectOptions() must use $expe and not $object\nFIX: make of link to other object during creation\nFIX: Missing function getLinesArray\nFIX: old batch not shown in multi shipping\nFIX: paid supplier invoices are shown as abandoned\nFIX: selection of thirdparty was lost on stats page of invoices\nFIX: sql syntax error because of old field accountancy_journal\nFIX: Stats on invoices show nothing\nFIX: substitution in ODT of thirdparties documents\nFIX: wrong key in selectarray\nFIX: wrong personal project time spent\n\n***** ChangeLog for 6.0.2 compared to 6.0.1 *****\nFIX: #7148\nFIX: #7288\nFIX: #7366 renaming table with pgsql\nFIX: #7435 Can't add payment term\nFIX: #7461\nFIX: #7464\nFIX: #7471\nFIX: #7473 Mass update of vat rates and other bugs on localtax\nFIX: #7475\nFIX: #7486 Empty value for multicurrency rate must be forbidden\nFIX: #7490\nFIX: #7505\nFIX: #7510 Bug: extrafield content disappear when generate pdf within intervention\nFIX: #7514\nFIX: #7531 #7537\nFIX: #7541\nFIX: #7546\nFIX: #7550\nFIX: #7554\nFIX: #7567\nFIX: Accountancy export model for Agiris Isacompta\nFIX: Allow create shipping if STOCK_SUPPORTS_SERVICES option is enabled\nFIX: Bad preview on scroping when special file names\nFIX: Generation of invoice from bulk action \"Bill Orders\"\nFIX: Implementation of a Luracast recommendation for the REST api server (#7370)\nFIX: Missing space in request\nFIX: Only modified values must be modified\nFIX: replenish if line test GETPOST on line 0\nFIX: Stripe not working on live mode\nFIX: wrong basePath in the swagger view\nFIX: Implementation of a Luracast recommendation for the REST api server\n\n***** ChangeLog for 6.0.1 compared to 6.0.* *****\nFIX: #7000 Dashboard link for late pending payment supplier invoices do not work\nFIX: #7325 Default VAT rate when editing template invoices is 0%\nFIX: #7330\nFIX: #7359\nFIX: #7367\nFIX: #7368\nFIX: #7391\nFIX: #7420\nFIX: Add some missing attributes in Adherent:makeSubstitution (type, phone…\nFIX: Bad const name\nFIX: Bad link to unpayed suppliers invoices\nFIX: Better protection to no send email when we change limit\nFIX: Calculation in the activity box\nFIX: Clean bad parameters when inserting line of template invoice\nFIX: dateSelector was not taken into account\nFIX: hidden option MAIN_PROPAGATE_CONTACTS_FROM_ORIGIN\nFIX: journalization for bank journal should not rely on a label.\nFIX: menu entry when url is external link\nFIX: missing supplier qty and supplier discount in available fields for product export.\nFIX: multicompany better accuracy in rounding and with revenue stamp.\nFIX: Must use pdf format page as default for merging PDF.\nFIX: PDF output was sharing 2 different currencies in same total\nFIX: Position of signature on strato template\nFIX: Protection to avoid to apply credit note discount > remain to pay\nFIX: Remove warning when using log into syslog\nFIX: Responsive\nFIX: Security fixes (filter onload js, less verbose error message in\nFIX: SEPA recording payment must save one payment in bank per customer\nFIX: Several problem with the last event box on project/tasks\nFIX: Sign of amount in origin currency on credit note created from lines\nFIX: Some page of admin were not responsive\nFIX: SQL injection\nFIX: time.php crashed without project id in param\nFIX: transfer of line extrafields from order to invoice\nFIX: Upgrade missing on field\nFIX: View of timespent for another user\nFIX: ODT generation\nFIX: CVE-2017-9840, CVE-2017-14238, CVE-2017-14239, CVE-2017-14240, CVE-2017-14241,\n     CVE-2017-14242\n\n***** ChangeLog for 6.0.0 compared to 5.0.* *****\nNEW: Add experimental BlockeLog module (to log business events in a non reversible log file).\nNEW: Add a payment module for Stripe.\nNEW: Add module \"Product variant\" (like red, blue for the product shoes)\nNEW: Accountancy - Activate multi-journal & Add journal_label to database (FEC)\nNEW: Add a tracking id into mass emailing.\nNEW: Tax system more compatible with the new tax rollout in India (IGST / CGST / SGST).\nNEW: Add calculation function for Loan schedule\nNEW: Add \"depends on\" and \"required by\" into module information\nNEW: Add hidden option THIRDPARTY_INCLUDE_PARENT_IN_LINKTO\nNEW: Add key __USERID__ and __ENTITYID__ as key for dynamic filters.\nNEW: Add last activation author and ip of modules\nNEW: Add mass actions (pdf merge and delete) for interventions\nNEW: Add module resources import/export\nNEW: Add option PROJECT_THIRDPARTY_REQUIRED\nNEW: Add page statistics for project tasks\nNEW: add property to show warnings when activating modules\nNEW: add rapport file for supplier paiement\nNEW: Add statistics on supplier tab.\nNEW: Add tooltip help on shipment weight and volume calculation\nNEW: An external module can hook and add mass actions.\nNEW: Better responsive design\nNEW: Bookmarks are into a combo list.\nNEW: Bulk actions available on supplier orders\nNEW: Can add a background image on login page\nNEW: Can change customer from POS\nNEW: Can clone expense report on another user\nNEW: Can control constants values into file integrity checker\nNEW: Can define default values for create forms.\nNEW: Can define default filters for list pages.\nNEW: Can define default sort order for list pages.\nNEW: Can deploy an external module from the module setup area.\nNEW: Can disable all overwrote translations in one click.\nNEW: Can edit background color for odd and even lines in tables\nNEW: Can filter on code in dictionaries\nNEW: Can filter on year and product tags on the product statistic page\nNEW: Can import users\nNEW: Can read time spent of others (hierarchy only or all if granted)\nNEW: Can send an email to a user from its card.\nNEW: Can send email to multiple destinaries from the mailform combo list.\nNEW: Can set margins of PDFs\nNEW: Can set number of dump to keep with job \"local database backup\"\nNEW: Can sort customer balance summary on date.\nNEW: Can sort thumbs visible on product card.\nNEW: Can use a credit note into a \"down payment/deposit\".\nNEW: Can use dol_fiche_end without showing bottom border.\nNEW: Can use translations into all substitutions (watermark, freetext...)\nNEW: Change to allow a specific numbering rule for invoice with POS module.\nNEW: convert exceiss received to reduc\nNEW: custom dir is enabled dy default on first install.\nNEW: Description of feature of a module visible into a dedicated popup.\nNEW: Direct open of card after a search if one record only found.\nNEW: download button\nNEW: Enable bulk actions delete on supplier invoices.\nNEW: Extrafields support formulas to be computed using PHP expressions.\nNEW: Feature to crop/resize images available on user and expense reports.\nNEW: Filechecker can include custom dir and report added files.\nNEW: fix listview class and add a demo for product list\nNEW: [FP17] Accountancy - Add select field in list of accounts\nNEW: get amount base on hourly rate for ficheinter\nNEW: hidden Easter egg to display commitstrip strip on login page\nNEW: Include an hourglass icon when we click on online payment button\nNEW: Index upload files into database.\nNEW: Introduce mass action on product list ('delete' for the moment)\nNEW: Introduce mass actions on contacts\nNEW: Introduce option MAIN_HTTP_CONTENT_SECURITY_POLICY\nNEW: It's easier to switch between sandbox and live for paypal\nNEW: Mass action delete available on project and tasks\nNEW: Move login information on home page into a widget\nNEW: new demo entry page\nNEW: No external check of version without explicit click in about page.\nNEW: ODT docs for USER USERGROUP CONTRACT and PRODUCT class\nNEW: odt usergroup\nNEW: On invoices generated by template, we save if invoice come from a source template.\nNEW: option to copy into attachment files of events, files send by mail (with auto event creation)\nNEW: PDF with numbertoword\nNEW: Permit multiple file upload in linked documents\nNEW: PHP 7.1 compatibility\nNEW: Reduce memory usage by removing deprecated constant loading.\nNEW: Report page and menu for suppliers paiements\nNEW: Show by default README.md file found into root dir of ext module.\nNEW: Show company into combo list of projects\nNEW: show files in the bank statement + download\nNEW: Show local taxes in facture list\nNEW: Show local taxes in supplier facture list\nNEW: Small PDF template for products\nNEW: Option SUPPLIER_ORDER_EDIT_BUYINGPRICE_DURING_RECEIPT\nNEW: The substitution keys available for emailing edition are now visible into a popup.\nNEW: Uniformize behaviour: Action to make order is an action button.\nNEW: Use autocompletion on the \"Add widget list\".\nNEW: Use html5 type \"number\" on select field for year and duration.\nNEW: Can use pdktk to concat mass pdf because tcpdf generate avoid to split large file into multiple smaller file (all have same size) encounter issue with mailer provider virtual delivery service\nNEW: Default theme of v6 is cleaner.\nNEW: When down payment is entered, discount to reuse into final invoice is automatically created. This save one click into invoice workflow.\nNEW: Add UI to configure MEMBER_NEWFORM_FORCETYPE\nNEW: #2763 Go to document block after clicking in Generate document button\nNEW: #6280: Generate PDF after creating an invoice from a customer order\nNEW: #6915 Simplest change.\nNEW: Uniformize the look and feel with v6 new look.\n\nFor developers:\nNEW: Add a lot of API REST: dictionaryevents, memberstypes, ...\nNEW: Big refactorization of multicompany transverse mode.\nNEW: getEntity function use true $shared value by default.\nNEW: Add font-awesome css.\nNEW: Add function ajax_autoselect\nNEW: Add function dolMd2Html\nNEW: Add hook doUpgrade2\nNEW: Add hook \"formatNotificationMessage\"\nNEW: Add index and constraints keys on supplier proposal detail table\nNEW: Add phpunit to check the engine is defined into sql create files.\nNEW: Add project and Hook to Loan\nNEW: Add REST API to push a file.\nNEW: Allow extrafields list select to be dependent on other standard list and not only other extrafields list\nNEW: Architecture to manage search criteria persistence (using save_lastsearch_values=1 on exit links and restore_lastsearch_values=1 in entry links)\nNEW: data files are now also parsed by phpunit for sql syntax\nNEW: Hook to allow inserting custom product head #6001\nNEW: Introduce fields that can be computed during export in export profiles.\nNEW: Introduce function dol_compress_dir\nNEW: Removed commande_pdf_create, contract_pdf_create,expedition_pdf_create, facture_pdf_create, delivery_order_pdf_create, task_pdf_create, project_pdf_create, propale_pdf_create, supplier_invoice_pdf_create, supplier_order_pdf_create, supplier_proposal_pdf_create deprecated functions\nNEW: tooltip can be on hover or on click with textwithpicto function.\nNEW: Upgrade jquery to 3.3.1 and jquery-ui to 1.12\n\nWARNING:\n\nFollowing changes may create regression for some external modules, but were necessary to make Dolibarr better:\n* The hook getNodeList has been replaced by a normalized 'addreplace' hook getDirList.\n* The trigger USER_SETINGROUP and USER_REMOVEFROMGROUP has been replaced with trigger USER_MODIFY.\n* The page societe/soc.php was renamed into societe/card.php to match page naming conventions.\n* The page compta/facture.php was renamed into compta/facture/card.php to match page naming conventions.\n* The signature of method ->delete() of class Product and PriceExpression was changed from\n  ->delete(id, notrigger) to ->delete(User, notrigger) to match standard dev rules.\n* The signature of method ->delete() of class Adherent was changed from\n  ->delete(id) to ->delete(id, User, notrigger) to match standard dev rules.\n* Removed CommonObject::displayMarginInfos (was deprecated in 3.8). Use same method into\n  html.formmargin.class.php\n* Removed Societe::set_commnucation_level (was deprecated in 4.0). Was not used.\n* Removed the trigger file of PAYPAL module that stored data that was not used by Dolibarr. The trigger event still\n  exists, but if an external module need action on it, it must provides itself its trigger file.\n* Use $conf->global->MULTICOMPANY_TRANSVERSE_MODE instead $conf->multicompany->transverse_mode. So, if you set var\n  $multicompany_transverse_mode to 1 into your conf file, you must remove this line and a new key into\n  the Home - setup - other admin page.\n* If you use Multicompany transverse mode, it will be necessary to check the activation of the modules in the children\n  entities and to review completely the rights of the groups and the users.\n* Use getEntity('xxx') instead getEntity('xxx', 1) and use getEntity('xxx', 0) instead getEntity('xxx')\n* Some other change were done in the way we read permission of a user when module multicompany is enabled. You can\n  retrieve the old behavior by adding constant MULTICOMPANY_BACKWARD_COMPATIBILITY to 1.\n* The hook formObjectOptions was not implemented correctly in previous version. Sometimes, you had to return output\ncontent by doing a print into function, sometimes by returning content into \"resprint\". This has been fixed to follow\nhook specifications so you must return output into \"resprint\".\n\n\n***** ChangeLog for 5.0.7 compared to 5.0.6 *****\nFIX: #7000 Dashboard link for late pending payment supplier invoices do not work\nFIX: #7148\nFIX: #7325 Default VAT rate when editing template invoices is 0%\nFIX: #7366 renaming table with pgsql\nFIX: #7391\nFIX: #7510 Bug: extrafield content disappear when generate pdf within intervention\nFIX: Agenda events are not exported in the ICAL, VCAL if begin exactly with the same $datestart\nFIX: Bad link to unpayed suppliers invoices\nFIX: bankentries search conciliated if val 0\nFIX: multicompany better accuracy in rounding and with revenue stamp.\nFIX: PDF output was sharing 2 different currencies in same total\nFIX: Upgrade missing on field\nFIX: wrong key in selectarray\nFIX: wrong personal project time spent\n\n***** ChangeLog for 5.0.6 compared to 5.0.5 *****\nFIX: Removed a bad symbolic link into custom directory.\nFIX: Renaming a resource ref rename also the directory of attached files.\n\n***** ChangeLog for 5.0.5 compared to 5.0.4 *****\nFIX: #7075 : bad path for document\nFIX: #7156\nFIX: #7173\nFIX: #7224\nFIX: #7226\nFIX: #7239\nFIX: add supplierproposaldet without price (new product)\nFIX: amount overlap other amount when a pagebreak is done due to an image at the bottom of page.\nFIX: Bad tax calculation with expense report\nFIX: Best buy price calculation\nFIX: Buying prices must always be in positive value.\nFIX: calculate correct remain to pay for planned bank transactions\nFIX: delete linked element on facture rec\nFIX: edit sociale was emptying label\nFIX: Error when updating thirdparty not returned\nFIX: holidays with postgresql like on rowid integer\nFIX: id of user not saved when making a payment of expense report\nFIX: invoice page list\nFIX: invoice situation VAT total rounding into PDF crabe\nFIX: PgSQL compatibility.\nFIX: remove order rights on invoice page\nFIX: status were wrong on product referent list\nFIX: supplier id was not passed to hooks\nFIX: Support of vat code when using price per customer\nFIX: User id correction on holiday request\nFIX: value of user id filled to 0 in llx_bank_url when recording an expense report.\nFIX: we have to check if contact doesn't already exist on add_contact() function\nFIX: We should be able to insert data with value '0' into const\nFIX: install process with DoliWamp\n\n***** ChangeLog for 5.0.4 compared to 5.0.3 *****\nFIX: #5640 Prices of a predefined product/service were incorrect under certain circumstances\nFIX: #6541 since 4.0.4 to 5.0.0 autofill zip/town not working\nFIX: #6880 #6925\nFIX: #6885\nFIX: #6926\nFIX: #7003\nFIX: #7012\nFIX: #7040\nFIX: #7048 #6075\nFIX: Can set supplier invoice to billed.\nFIX: Can't create invoice if PO disapproved\nFIX: contratligne update\nFIX: CVE-2017-7886\nFIX: default param\nFIX: Line of invoices not inserted when using POS module and VAT NPR.\nFIX: origin & originid on supplierproposal\nFIX: Redirect to payment page from member subscription page failed if a unique security key was defined.\nFIX: REST api to get project when user has permission to read all.\nFIX: situation_progress param default value must be 100 and not 0\nFIX: SQL injection on user/index.php parameter search_statut.\nFIX: vat code not saved during product creation.\nFIX: Warnings\n\n***** ChangeLog for 5.0.3 compared to 5.0.2 *****\nFIX: #6677 Expired contracts dashboard box does not show the name of the thirdparty\nFIX: #6813\nFIX: 6863\nFIX: #6877\nFIX: #6881\nFIX: Better sanitizing of search all parameter.\nFIX: Correction with author and validator user on orders\nFIX: dialog window with md theme must not be hidden by left menu part.\nFIX: doactions hook missing in invoice model page\nFIX: Fullname when member is a moral entity with no name.\nFIX: Link to files on bank account tab broken with multicompany FIX: Link to preview on thirdparty broken with multicompany\nFIX: New vat code not correctly implemented if \"1 price per customer\".\nFIX: Pagination of invoices\nFIX: pagination on resources\nFIX: REST API not possible to add agendaevents\nFIX: situation invoice broken due to the all percent application form inside addline form\nFIX: SQL injection on user/index.php parameter search_statut.\nFIX: XSS\n\n***** ChangeLog for 5.0.2 compared to 5.0.1 *****\nFIX: #6468 + Fix missing translation\nFIX: #6517 #6525 Autocompletion of thirdparty after n chars not implemented\nFIX: #6613 Default subject for Supplier proposal emails is filled with a non-existing key\nFIX: #6614\nFIX: #6619 Template invoices list do not respect restricted thirdparty user rights\nFIX: #6621 Documents tab shows greyed out upload form even if the option to show actions not available is disabled\nFIX: #6623 User card shows \"Return to list\" link even if the user has no rights to list users\nFIX: #6636 Complete fix\nFIX: #6669 User with no permission to edit customer invoices can see a edit button in project entry\nFIX: #6671 Cannot remove thirdparty type with \"#\" in its name\nFIX: #6673 Missing \"nature\" table header in thirdparty list\nFIX: #6675 Restricted user with no agenda permissions can see a button to create appointment in thirdparty contact list\nFIX: #6679 User with restricted supplier invoice permissions can edit project, payment conditions, payment mode\nFIX: #6680 User with restricted supplier invoice permissions sees \"reopen\" button even if he has no permission to do it\nFIX: #6718 Bug: Discount amount is not locally formatted in CommonObject View\nFIX: #6767 serious critical error, no login possible with postgresql and ipv6.\nFIX: #6795 #6796\nFIX: Add option MAIN_MAIL_USE_MULTI_PART to include text content into HTML email and add option MAIN_MAIL_ADD_INLINE_IMAGES_IF_IN_MEDIAS to restore the inline images feature.\nFIX: ajax autocomplete on clone\nFIX: A non admin user can not download files attached to user.\nFIX: Can't download delivery receipts (function dol_check_secure_access_document)\nFIX: complete hourly rate when not defined into table of time spent\nFIX: don't get empty \"Incoterms : - \" string if no incoterm\nFIX: don't lose supplier ref if no supplier price in database\nFIX: Enter a direct bank transaction\nFIX: extrafield css for boolean type\nFIX: forgotten parameter for right multicompany use\nFIX: Found duplicate line when it is not.\nFIX: global $dateSelector isn't the good one, then date selector on objectline_create tpl was hidden\nFIX: Journal code of bank must be visible of accountaing module on.\nFIX: length_accounta return variable name\nFIX: limit+1 doesn't show Total line\nFIX: No filter on company when showing the link to elements.\nFIX: overwrapping of weight/volume on rouget template\nFIX: Several bugs in accounting module.\nFIX: shared bank account with multicompany not visible in invoice setup\nFIX: spaces not allowed into vat code\nFIX: supplier default condition not retrieved on create\nFIX: supplier order line were always created with rang = 0\n\n***** ChangeLog for 5.0.1 compared to 5.0.0 *****\nFIX: #6503: SQL error in \"Last pending payment invoices\"\nFIX: #6505 Project elements page shows greyed-out links even if the option to show actions not available is disabled\nFIX: #6507: Statistics counter show wrong total Contract numbers when the user does not have full access\nFIX: #6533 #6590\nFIX: #6535\nFIX: bank account not visible on payment card\nFIX: colspan\nFIX: Data lost during merge of thirdparties\nFIX: Detection of color brightness\nFIX: Filter on date lost after submit on time spent page\nFIX: forgottent fk_unit field on llx_supplier_propaldet\nFIX: list of projects\nFIX: LOG_ERROR does not exists. Use LOG_ERR.\nFIX: Missing total on project overview.\nFIX: multicurrency management on supplier order/invoice\nFIX: Notification sending was broken.\nFIX: origin & origin id on supplier order line\nFIX: param php doc\nFIX: Picto of project on dol_banner and box\nFIX: Some errors when downloading files.\n\n***** ChangeLog for 5.0.0 compared to 4.0.* *****\nFor users:\nNEW: Add module mulicurrency.\nNEW: Add module accoutancy expert (double party accountancy).\nNEW: Better responsive design, above all on smartphone.\nNEW: #5801 More complete change to allow to disable supplier invoice document generation.\nNEW: #5830 Can choose a generic email or use remail in the mail from field.\nNEW: #5896 More complete data on event sent by email (name in title, emails list in details)\nNEW: Add a better icon to show when \"run\" in cron jobs is disabled.\nNEW: Add account statement into fields of bank account transaction list.\nNEW: Add a direct debit mandate PDF template.\nNEW: add clone contract feature.\nNEW: Add color regarding stock even on ajax autocompleter product selector.\nNEW: Add date into list of print jobs for Google Print.\nNEW: add field and filters on turnover by third party report.\nNEW: Add last activation date as info in module list.\nNEW: add option to limit stock product by warehouse.\nNEW: Add missing unique key on table llx_links.\nNEW: Add option \"Hide images in Top menu\".\nNEW: Add option PROJECT_LINES_PERWEEK_SHOW_THIRDPARTY to show thirdparty on page to submit time.\nNEW: Add option \"Stock can be negative\". Off by default.\nNEW: Add option SUPPLIER_ORDER_3_STEPS_TO_BE_APPROVED.\nNEW: Add hidden option to include parent products too in stats of orders (not supported in rest of app yet).\nNEW: Add Panama data.\nNEW: Add resource extrafields.\nNEW: add restrictions on standard exports (agenda, order, deplacement, facture, fournisseur, societe, propal, expedition)\nNEW: Add substitution keys __SHIPPINGTRACKNUM__, __SHIPPINGTRACKNUMURL__ into shipping email template.\nNEW: Add status Done on interventions.\nNEW: Add system tool \"Files integrity checker\" to detect modified files for packaged versions.\nNEW: Add tooltip in payment term edition in dictionary.\nNEW: Add type \"url\" as possible extrafield.\nNEW: Add workflow to calculated supplier order status on stock dispatch.\nNEW: Add workflow to classified propal bill on invoice validation.\nNEW: allow to save a parent warehouse.\nNEW: Better filtering of automatic/manually inserted events.\nNEW: Bill orders from order list.\nNEW: Can add event from the card listing events.\nNEW: Can change thirdparty when cloning a project.\nNEW: Can create expense report for someone else (advanced permission).\nNEW: Can clone an expense report.\nNEW: Can edit a label for each price segment when using several segment prices for products.\nNEW: Can filter on fields on admin translation page.\nNEW: Can filter on project/task ref/label on the \"new time consumed\" page.\nNEW: Can filter on status on objects on the \"statistics\" pages.\nNEW: Can filter on type of leave requests in list.\nNEW: Can generate SEPA mandate for each bank account of your customers.\nNEW: Can see/make bank conciliation from bank transaction list.\nNEW: Can edit RUM number of a customer bank account.\nNEW: Can link template invoice to other objects. Generated invoices will be linked to same objects (example: contracts).\nNEW: Can renamed attached files on some documents tabs (like products and expense reports).\nNEW: Can see/edit the customer ref of a shipment.\nNEW: Can select fields/extrafields on contract list + Mass delete action.\nNEW: Can select fields on expense report list. Can make mass delete.\nNEW: Can select fields to show on list of bank transaction.\nNEW: Can set to paid automatically social or fiscal taxes after a payment was recorded.\nNEW: Can sort on status of recurring invoice in list of template invoices.\nNEW: Can use native php and dolibarr object on pages of module website.\nNEW: Checkbox 'close order to \"Everything received\" automatically if all products are received' is visible on supplier orders.\nNEW: conf to allow payments on different thirdparties bills but same parent company.\nNEW: Consumption view on thirdparty total line and total HT by element.\nNEW: Display bookkeeping by accounting account - Bookkeeping ordered by accounting account - Link with customers and suppliers invoices - Sub Total by accounting account - Ability to display more than 25 lines and filter by customer/supplier, invoice and accounting account\nNEW: Each user can select its landing page (on tab \"user display setup\").\nNEW: Editing translation GUI become easier with tool to search existing translation.\nNEW: Error code of each email sent is visible in list of email targets\nNEW: Export thirdparty with payment terms and mode.\nNEW: filter actiontype on thirdparty tab.\nNEW: filter by supplier and fk_warehouse on replenishment page.\nNEW: Filters can accept generic search key like __DAY__, __MONTH__, __YEAR__ replaced with current day, month year before making the search.\nNEW: Function \"crop\" images available on project, product and holiday attachment tab.\nNEW: function to display full path to current warehouse.\nNEW: Generation of document is available on member card.\nNEW: Introduce mass action \"delete\" on sales orders.\nNEW: Introduce option MAIN_DEFAULT_PAYMENT_TERM_ID to set default payment term on company level.\nNEW: introduce option PROJECT_DISABLE_PRIVATE_PROJECT and PROJECT_DISABLE_PUBLIC_PROJECT.\nNEW: Link between objects can be done on both side and on all objects.\nNEW: More filter on bank transaction list.\nNEW: Mutualize mass action. So \"Send by email\" is also available on orders.\nNEW: New set of icon for status easier to understand.\nNEW: option \"Current/Next\" for limit payment date (in payment term dictionary setup) to use a specific day of current month or jump to same day of next month.\nNEW: Option DOC_SHOW_FIRST_SALES_REP shows name of \"user buyer or saler\" on PDF.\nNEW: Option MAIN_INFO_SOCIETE_MAIL_ALIASES to be able to use several identities into the \"email from\".\nNEW: Pagination available on list of users.\nNEW: Phone formatting for Canada. Add dol_print_phone into phpunit tests.\nNEW: Reduce nb of picto visible after reference of an object into lists, merging preview and download.\nNEW: Reduce space lost on EDM module.\nNEW: Reopen a paid bill is a user advanced permission.\nNEW: can set a default bank account on thirdparty card.\nNEW: Show photo of contacts on thirdparty card.\nNEW: Show subtotal into list of linked elements.\nNEW: Show total line (planned workload and time spent) on list of tasks.\nNEW: Start to introduce search filters on dictionaries for vat list.\nNEW: Support extrafields for expense reports.\nNEW: Support extrafields on product lot.\nNEW: Support free bottom text and watermark on expense report template.\nNEW: Support mass actions for proposals\nNEW: Table with list of lots/serial can be viewed (module product batch).\nNEW: The autofill zip/town table option is on by default.\nNEW: the count of linked files on card includes external links.\nNEW: Usage of vat code seems ok everywhere.\nNEW: User date of employment added.\nNEW: Use small photo of user on all user links.\nNEW: Use new archi to select fields into list of time spent.\nNEW: Available substitution key (__INVOICE_MONTH__, __INVOICE_PREVIOUS_MONTH__, ...) to use into note text of recurring invoices.\n\nFor developers:\nNEW: Add ORDER_MODIFY trigger on each order modification.\nNEW: Trigger on delete stock\nNEW: The getURLContent return more information on success and error.\nNEW: Uniformize code and correct deal with triggers\nNEW: REST API explorer. Can create invoice and orders with lines.\nNEW: Add a lot of API REST: expense reports, orders, commercial proposals, projects, agenda events, users, invoices, ...\nNEW: Default collation for mysql is now utf8_unicode_ci\nNEW: Can use any filter on all REST API to list.\nNEW: ckeditor accept a parameter to disable all html filtering.\nNEW: Complete table llx_ecm_files with field generated_or_uploaded\nNEW: Enhance function setValueFrom so we can use it for \"edit in form\" feature.\nNEW: getNomUrl displays full path to warehouse\nNEW: Hook formObjectOptions\nNEW: hook in element overview\nNEW: Hook on stock product card\nNEW: param socid find_min_price_product_fournisseur() function\nNEW: More phpunit tests\n\nWARNING:\n\nFollowing changes may create regression for some external modules, but were necessary to make\nDolibarr better:\n- Function delete of class Facture (invoice) need the object $user as first parameter. Also you must\n  check you make a fetch on object before calling the delete.\n- The old driver of \"mysql\" has been removed. Dolibarr use the new one (mysqli) by default.\n- Remove not used function calculate_byte(). Use dol_print_size() instead.\n- Function pdf_getTotalQty is now deprecated. Not used by Dolibarr core.\n- Method commande->deleteline($lineid) has been replaced with commande->deleteline($user, $lineid).\n- Method expensereport->delete(id, user) has been replaced with ->delete(user)\n  Method warehouse->delete(id) has been replace with ->delete(user)\n  This is to follow good practice to make a fetch on object before deleting it.\n- The form to add a product to a draft proposal/order/invoice, from the product card, is hidden by default.\n  It was not commonly used and usage generates some problems (cost price for margin calculation not entered, vat setting).\n  Set constant PRODUCT_ADD_FORM_ADD_TO to retrieve it.\n- The javascript \"datatables\" library was previously provided into Dolibarr sources, but it was not used by application.\n  So there is no reason to maintain its compatibility with other dolibarr components. If an external module need this\n  library, this external module must embed the library in his own sources/packages.\n- Trigger name SUPPLIER_PROPOSAL_CREATE has been renamed into PROPOSAL_SUPPLIER_CREATE.\n- A new parameter sqlfilters was introduced to allow filter on any fields int the REST API. Few old parameters,\n  no more required, were also removed. Use this new one if you were using one of them.\n- The trigger that activate or close a contract line is run on a contract line, not on contract.\n- Method commande->set_availability(user, availability_id) removed from commande class, use method commande->availability(availability_id, notrigger).\n\nDolibarr 5.0 was frozen before PHP 7.1 was released. Unit tests are successful on PHP 7.1 but we don't have enough\nfeedback to confirm whole application is compatible. Current officiel supported PHP versions are PHP 5.3 to 7.0.\n\n\n***** ChangeLog for 4.0.6 to 4.0.5 *****\nFIX: #6613 Default subject for Supplier proposal emails is filled with a non-existing key\nFIX: #6623 User card shows \"Return to list\" link even if the user has no rights to list users\nFIX: #6636 Complete fix\nFIX: #6669 User with no permission to edit customer invoices can see a edit button in project entry\nFIX: #6671 Cannot remove thirdparty type with \"#\" in its name\nFIX: #6673 Missing \"nature\" table header in thirdparty list\nFIX: #6675 Restricted user with no agenda permissions can see a button to create appointment in thirdparty contact list\nFIX: #6677 Expired contracts dashboard box does not show the name of the thirdparty\nFIX: #6679 User with restricted supplier invoice permissions can edit project, payment conditions, payment mode\nFIX: #6680 User with restricted supplier invoice permissions sees \"reopen\" button even if he has no permission to do it\nFIX: #6813\nFIX: Correction with author and validator user on orders\nFIX: doactions hook missing in invoice model page\nFIX: don't get empty \"Incoterms : - \" string if no incoterm\nFIX: don't lose supplier ref if no supplier price in database\nFIX: forgotten parameter for right multicompany use\nFIX: global $dateSelector isn't the good one, then date selector on objectline_create tpl was hidden\nFIX: limit+1 doesn't show Total line\nFIX: supplier order line were always created with rang = 0\n\n\n***** ChangeLog for 4.0.5 to 4.0.4 *****\nFIX: #6234\nFIX: #6259\nFIX: #6330\nFIX: #6360\nFIX: #6411\nFIX: #6443\nFIX: #6444\nFIX: #6453\nFIX: #6503: SQL error in \"Last pending payment invoices\"\nFIX: #6505 Project elements page shows greyed-out links even if the option to show actions not available is disabled\nFIX: #6507: Statistics counter show wrong total Contract numbers when the user does not have full access\nFIX: #6533 #6590\nFIX: #6619 Template invoices list do not respect restricted thirdparty user rights\nFIX: #6621 Documents tab shows greyed out upload form even if the option to show actions not available is disabled\nFIX: add entity param to document link\nFIX: Can use quote into supplier ref on order line add\nFIX: Change the customer code only if error on duplicate\nFIX: Creation of credit note on invoice with deposit stole the discount.\nFIX: delete bank class lines when we delete bank_categ\nFIX: deletion of bank tag\nFIX: detail of deposit and credit not was not visible into final invoice\nFIX: Error management during bank account creation\nFIX: error management in bank account deletion.\nFIX: event status is not modified when assign an user\nFIX: forgotten fk_facture_fourn attribute on supplierinvoice line object\nFIX: If bank module on, field must be required to register payment of expense report.\nFIX: load multicurrency information on supplier order and bill lines fetch\nFIX: Missing total on project overview.\nFIX: multicurrency_subprice\nFIX: param billed when we change page\nFIX: protection against infinite loop on hierarchy\nFIX: Supplier Order list filter by project\nFIX: the dolCopyDir fails if target dir does not exists.\nFIX: use param for http links\n\n***** ChangeLog for 4.0.4 to 4.0.3 *****\nFIX: #6227 Document models table header \"Unit\" is shown in 2 lines in Spanish\nFIX: #6230\nFIX: #6237\nFIX: #6245 Thirdparty link in supplier invoices list, links to \"comm/card\" instead of \"fourn/card\" page\nFIX: #6253 Supplier invoice list filter does not respect \"thirdparty\" filter\nFIX: #6277\nFIX: project list and ajax completion return wrong list.\nFIX: bug margin calculation by user with multicompany\nFIX: Can make a stock transfer on product not on sale/purchase.\nFIX: extrafield input for varchar was not working with special char within (ie double quotes)\nFIX: javascript error\nFIX: link for not found photo when using gravatar. Must use external url.\nFIX: Protection so even if link is output for external user, links is disabled.\nFIX: repair tool was ko to restore extrafields with type select.\nFIX: Security access problem with external users on projects/tasks\nFIX: We must not drop extrafield column if there is still record on other entities.\nFIX: regression with sedning email when introducing security options to restrict nb of email sending.\nt\n***** ChangeLog for 4.0.3 to 4.0.2 *****\nFIX: #5853 $conf->global->$calc==0 || $conf->global->$calc==1\nFIX: #5958 no discount on supplier command made by replenishment\nFIX: #5966 Bug: getNomUrl tooltips show Proposal info even if user has no rights to read them\nFIX: #5972 #5734\nFIX: #6007\nFIX: #6010\nFIX: #6029\nFIX: #6043 - Payment mode not visible on supplier invoice list\nFIX: #6051\nFIX: #6062\nFIX: #6088\nFIX: A draft can be deleted by a user with create permission.\nFIX: bad permission to see contract on home page\nFIX: bad permission to see contract statistics\nFIX: Bcc must not appears to recipient when using SMTPs lib\nFIX: Consistent description for add or edit product\nFIX: delete contract extrafields on contract deletion\nFIX: Deposits and credit notes weren't added in the received and pending columns\nFIX: export extrafields must not include separate type\nFIX: Export of opportunity status must be code, not id.\nFIX: False positive on services not activated\nFIX: Filter was wrong or lost during navigation\nFIX: HT and TTC price should always be displayed together\nFIX: if a supplier price reference is changed after creating an order, we can't clone order.\nFIX: in export. Error when using a separate extrafields.\nFIX: Introduce hidden option MAIL_PREFIX_FOR_EMAIL_ID to solve pb of tracking email.\nFIX: javascript error when using on mobile/smartphone\nFIX: javascript xss injection and a translation\nFIX: Label of project is in field title not label.\nFIX: List of people able to validate an expense report was not complete.\nFIX: Missing field\nFIX: Module gravatar was not triggered on thirdparty and contact card\nFIX: Must use external link into a forged email content.\nFIX: Pb in management of date end of projects\nFIX: Regression when deleting product\nFIX: rendering of output of estimated amount on project overview page.\nFIX: Sanitize title of ajax_dialog\nFIX: Security to restrict email sending was not efficient\nFIX: Setting supplier as client when accept a supplier proposal\nFIX: Some statistics not compatible with multicompany module.\nFIX: the time spent on project was not visible in its overview\nFIX: Update intervention lline crash with PgSQL\nFIX: wrong test on dict.php\nFIX: wrong var name\n\n***** ChangeLog for 4.0.2 compared to 4.0.1 *****\nFIX: #5340\nFIX: #5779\nFIX: #5849\nFIX: #5866\nFIX: #5907\nFIX: Addline if $txlocaltax1 is empty\nFIX: Avoid error 500 if phpexcel is disabled\nFIX: Avoid errors on debian\nFIX: Can edit the customer ref even if order is not draft.\nFIX: Documents not moved in new directory if we change reference of the task.\nFIX: Error when CATEGORIE_RECURSIV_ADD is enabled and new category is child of an already linked to object\nFIX: Extra fields of task not copied on project cloning\nFIX: Hidden option PRODUCT_MAX_VISIBLE_PHOTO\nFIX: Link on supplier invoice in widget was not clickable\nFIX: margin tab on customer card must filter on current entity invoices\nFIX: missing column into SQL on thirdparty list\nFIX: Nber of attached files were not reported in event report of email sent\nFIX: only show projects of related third if external user\nFIX: Search provider by price\nFIX: Solve backup when using mysqldump that return warning\nFIX: Sql error in widget of product for stock alerts\nFIX: updateligne if $txlocaltax1 is null\n\n***** ChangeLog for 4.0.1 compared to 4.0.0 *****\nFIX: #2853\nFIX: #2991\nFIX: #3128\nFIX: #5699\nFIX: #5734\nFIX: #5742 error on project list if an extra field separator is added.\nFIX: #5746 chrome php Try a fix. Not sure it solved all problems reported\nFIX: #5748 Bug: Error updating to 4.0.1 with Postgresql. Field must be varchar.\nFIX: #5750 Bug: CmailFile::server_parse enters an infinite loop if $server_response is false\nFIX: #5752 Bug VAT NPR not propagated during proposal cloning\nFIX: #5763 Bug: Cannot Create Supplier Price Request\nFIX: #5770 Dolibarr doesn't modify correctly the hour of a task\nFIX: #5776\nFIX: #5802 Incoterms not set\nFIX: #5813 Bug: Incoterms not being read correctly\nFIX: #5818\nFIX: alignment of intervention status\nFIX: Clean of search fields\nFIX: Creation of donation should go back on card after creation\nFIX: Date visible on project overview\nFIX: Execute a dedicated job from its id may results of launching other jobs too.\nFIX: Failed to export contact categories with contact extra fields\nFIX: inversion customer/supplier price\nFIX: link \"back to list\" was not visible.\nFIX: Lost filter on opportunities\nFIX: Mandatory field payment term was not css highlighted.\nFIX: Menu users not visible on dolidroid.\nFIX: SEC for HTB23302\nFIX: The email test sender in email setup was broken\nFIX: Translation of \"Name\" is not a good choice for floow-up.\nFIX: Update of maxnbrun on job list failed.\nFIX: Value of payment term and project are not set on correct default value when invoice generated from template.\nFIX: vat dictionary should allow enter and edit multiple values for localtaxes, separated by: (ex -19:-15)\nFIX: Vat not visible in dictionary\n\n***** ChangeLog for 4.0.0 compared to 3.9.* *****\nFor users:\nNEW: Add recurring invoice feature and automatic generation of invoices.\nNEW: Add module \"Loan\" as stable.\nNEW: Add module \"Supplier commercial proposal\" (price request) with stable status.\nNEW: Can select dynamically number of lines to show on page on product, shipment, contact, orders, thirdparties.\nNEW: Can select fields to show on list also for list of customer orders, supplier orders, shipments, proposals and invoices.\nNEW: Show into badge on tab head, the number of dedicated contacts for all objects.\nNEW: Add a checkbox to select/unselect all lines on page that support mass actions (like invoice list page)\nNEW: Add a new method for margin calculation. Added margin on \"cost price\" in addition to margin on WAP price and margin on \"best supplier price\".\nNEW: Add an explanation message on shipment page to explain you can't make shipment if order is not validated\nNEW: Add date_rum into table of thirdparty bank account.\nNEW: The probability of lead/opportunity can be defined per lead.\nNEW: Added Malta VAT into migration script\nNEW: Add Expense report into accountancy report\nNEW: Add Expense report to approve into workboard\nNEW: Selection of boxes is moved on top of home page\nNEW: Add filter on a keyword, status and nature into list of modules.\nNEW: Add hidden option BANK_DISABLE_CHECK_DEPOSIT to disable check deposit feature.\nNEW: Add hidden option MAIN_PUBLIC_NOTE_IN_ADDRESS\nNEW: Add index on invoice status\nNEW: Add constant MAIN_LOGTOHTML to 0 into setup by default to save time when we need to make debug on hosted instance.\nNEW: Add list of billed\nNEW: Add minimum stock and desired stock into import/export profiles.\nNEW: Add state into thirdparty export fields.\nNEW: Add more trackable events (create, submit and receive supplier order).\nNEW: Add hidden option MAIN_PROPAGATE_CONTACTS_FROM_ORIGIN\nNEW: Add picto on module list to show warning and if module is an external module.\nNEW: Add product type filter on turnover report\nNEW: Add state into list of fields available for personalized fields of thirdparties\nNEW: Add statistics for interventions module\nNEW: Add statistics on number of projects on home page\nNEW: Add statistics and late records into dashboard for supplier proposals.\nNEW: Add the admin info on combo of type of contact\nNEW: Add the event BILL_PAYED to the list of supported events for module notification.\nNEW: Add total weight and volume on PDF.\nNEW: Add hidden option to hide column qty ordered on shipments.\nNEW: Add view of virtual stock into product list (when appropriate)\nNEW: Add warning on tasks when they are late (add also the warning tolerance parameter)\nNEW: Add weight/volume for one product into shipment export\nNEW: Add width and height on product table\nNEW: allow a document to be linked to project from another customer on config\nNEW: allow project to be shared across entities (for multicompany module)\nNEW: All variant of ckeditor config can be tested into the setup page of module.\nNEW: Can change dynamically number of records visible into lists.\nNEW: Can change type of extrafields (for some combinations only).\nNEW: Can define number of first and last line to import into import wizard.\nNEW: Can edit next execution date of a cron job.\nNEW: Can edit value date of a vat payment after recording it.\nNEW: Can filter modules on publisher.\nNEW: Can filter on employee status when building emailing from users.\nNEW: Can reopen an closed shipment.\nNEW: Can search on shipments into the quick search box.\nNEW: Can select language from a combo list on page to overwrite a translation.\nNEW: Can select number of lines on page list for projects and tasks.\nNEW: Can use ^ and $ (to say start with or end with like regex syntax) into search fields when search field is text. Bonus: ^$ can filter all lines with field not defined.\nNEW: Clean and enhance code for cron engine\nNEW: Can decrease stock on shipment closing/classifying (only if module lot is not enabled for the moment)\nNEW: Disabled users are striked.\nNEW: Enhance navigation of project module\nNEW: fichinter lines ordered by rang AND DATE\nNEW: hidden conf to use input file multiple from mail form\nNEW: hidden feature: SUPPLIER_ORDER_WITH_NOPRICEDEFINED allow supplier order even if no supplier price defined\nNEW: Hidden option MAIN_LANDING_PAGE to choose the first page to show after login works as a \"global\" option (llx_const) and as a \"per user\" option (llx_user_param).\nNEW: Holiday is a now a RH module. All RH module provides by default visilibity on users of its hierarchy.\nNEW: If error is reported during migration process, you can ignore it to avoid to be locked.\nNEW: if nb total of lines provided in print barre_liste, display in title\nNEW: If option to see non stable modules is on, add a filter into module list to filter on level (deprecated, experimental, development)\nNEW: Include number of linked files into badge counter of \"Linked files\" tab.\nNEW: Include sales representative into export of thirdparties\nNEW: Indicator on workboard are red/green if late or not.\nNEW: Into GED module, filename is truncated only if there is not enough space into table\nNEW: Introduce a predefined job to run database backup\nNEW: Introduce option MAIN_WEIGHT_DEFAULT_UNIT and MAIN_VOLUME_DEFAULT_UNIT to force output unit for weight and volume.\nNEW: Introduce position of records into dictionary of type of contacts\nNEW: Link on a user in leave page reach to leave tab of user.\nNEW: List of user in agenda view per user show photo thumb.\nNEW: Margins module - Check/update buying price on invoice lines\nNEW: Merge all admin tools (system and module admin tools) into same entry \"Admin tools\", so now things are clear: All features restricted to an admin user is inside \"setup\" (for setup) or \"admin tools\" (for action tools) instead of 3 different entries.\nNEW: Merge all boxes \"related objects\" into one. This save a lot of room on most card and avoid often horizontal scroll.\nNEW: Moved code that deals with bank categories to BankCateg. Created BankCateg::fetchAll function\nNEW: Move HRM dictionary from module to core dictionaries.\nNEW: Mutualize code to manage email substitution variables. Show available variables into page to edit email templates.\nNEW: Mutualize code: Use one call of function \"addThumbs\", when possible, to generate thumbs files instead of several call of \"vignette\" function.\nNEW: On translation admin page, admin can overwrite a translation value.\nNEW: Option MAIN_LIST_FILTER_ON_DAY is supported on proposal list.\nNEW: Add reputation field for price supplier.\nNEW: Selection of fields is available on member list.\nNEW: Show a badge with number of withdraw requests done on the withdraw tab of invoice.\nNEW: Add option to show detail per warehouse into reassort.\nNEW: Show total number of modules into the module list.\nNEW: Survey system has now a status like other objects. You can close or reopen a survey.\nNEW: The note on time spent can be entered when using the \"view per day\".\nNEW: Use ellipsis truncation on too large left menu text.\nNEW: When a new field to show into lists is selected, the form is automatically submitted and field added.\nNEW: When creating a template invoice from a draft invoice, if there is link to contract on draft invoice, link is kept on template invoice.\nNEW: When emailing is not sent completely, show progression.\nNEW: Experimental module Accountancy Expert.\nNEW: Experimental module Multicurency\n\nFor developers:\nNEW: Add entity field in llx_societe_remise_except and llx_societe_remise.\nNEW: Rest API token is no more reset at each call. We can reset it with param reset=1 on login call.\nNEW: Add html id/class to locate value in the DOM html\nNEW: Add a css class style called 'reposition', so when clicking on a link with this class will move scrollbarr to be placed at same page location.\nNEW: TimeZone can be supplied to mktime\nNEW: hook in shipment card\nNEW: Deprecated Societe::set_prospect_level, Societe::set_commnucation_level, Societe::set_OutstandingBill functions\nNEW: A module can add, into its import profiles, a sql request to execute at end of import. This allow to update dernormalized data after import.\nNEW: Add hook pdf_build_address\nNEW: Add a parameter on graph function to show a generic graph when no data are available.\nNEW: Add $object in parameter of pdf_build_address so we could include hook into the function.\nNEW: Add a tool for developers to purge database with no loose of setup\nNEW: Can disable a module by renaming dir of module into module.disabled (this save time for maintenance when working with FTP).\nNEW: Created AccountLine::insert function and started using it for transaction creation\nNEW: Created Account::__toString, Account::getFieldsToShow and Account::getAccountNumberOrder to refactor the way account number was shown\nNEW: Created FormBank::getIBANLabel function to get the label of \"IBAN\" depending on bank account country\nNEW: prepare for additional warehouse statuses\nNEW: project sharing in select_projetcs_list function\nNEW: Removed deprecated CommonObject::client property. Please use CommonObject::thirdparty instead\nNEW: Removed unused FormOrder::selectSourcesCommande function\nNEW: Renamed ActionComm::add function to ActionComm::create\nNEW: Rename Form::select_date to Form::selectDate and Form::form_date to Form::formDate\nNEW: Rename path for generic media files\nNEW: More phpunit tests. Include some REST API into automatic tests.\nNEW: Move Expense report menu from module to menu files.\n\n\nWARNING:\n\nDolibarr 4.0 should be compatible with PHP 7 but more feedbacks are still expected to confirm that.\n\nFollowing changes may create regression for some external modules, but were necessary to make\nDolibarr better:\n- Function log() of class CommandeFournisseur has been removed. Using it is no more required.\n- Class Resource was renamed into DolResource to avoid conflict with a reserved PHP word.\n- Method commonobject->add_thumb() has been renamed into commonobject->addThumbs().\n- Method select_type_comptes_financiers() has been renamed into selectTypeOfBankAccount()\n- Property ->client that was deprecated 6 years ago, is replaced in all core code with ->thirdparty.\n- File '/core/tpl/document_actions_pre_headers.tpl.php' were renamed into '/core/actions_linkedfiles.inc.php'.\nSo if you included it into your module, change your code like this to be compatible with all version:\n  $res=@include_once DOL_DOCUMENT_ROOT . '/core/actions_linkedfiles.inc.php';\n  if (! $res) include_once DOL_DOCUMENT_ROOT . '/core/tpl/document_actions_pre_headers.tpl.php';\n\n\n\n***** ChangeLog for 3.9.4 compared to 3.9.3 *****\nFIX: #2853\nFIX: #3128\nFIX: #4447\nFIX: #5128 if create method return duplicated code error not use GETPOST in order to get a new code\nFIX: #5340\nFIX: #5473\nFIX: #5474 Country_id of \"Don\" object is still empty\nFIX: #5534\nFIX: #5535 bad dependency.\nFIX: #5537 AJAX project search does not work properly\nFIX: #5540 getFormMail is not registered as addReplace hook\nFIX: #5544 Disabled Contact still appear in lists to send emails\nFIX: #5549 getNomUrl tooltips show Order info even if user has no rights to read them\nFIX: #5568\nFIX: #5594\nFIX: #5629 PgSQL Integer string stylish error\nFIX: #5651\nFIX: #5660\nFIX: #5853 $conf->global->$calc==0 || $conf->global->$calc==1\nFIX: #5907\nFIX: #5966 Bug: getNomUrl tooltips show Proposal info even if user has no rights to read them\nFIX: #6051\nFIX: #6088\nFIX: Can correct stock of lot using eatby or sell by date\nFIX: Can make a movement on \"out of sell\" products\nFIX: cannot update bank account on invoice if module order not activated\nFIX: Can't create withdrawal document\nFIX: delete contract extrafields on contract deletion\nFIX: Direction of movement lost if an error occurs\nFIX: Error when CATEGORIE_RECURSIV_ADD is enabled and new category is daughter of an already linked to object\nFIX: export extrafields must not include separate type\nFIX: External user must not be able to edit its discounts\nFIX: Failed to export contact categories with contact extra fields\nFIX: header title in commercial area\nFIX: HT and TTC price should always be displayed together\nFIX: incoterms\nFIX: incoterms do not output into crabe invoice PDF\nFIX: in PgSQL no quote \"word style\" is permitted around column name\nFIX: Introduce hidden option MAIL_PREFIX_FOR_EMAIL_ID to solve pb of tracking email.\nFIX: margin tab on customer card must filter on current entity invoices\nFIX: missing column into SQL on thirdparty list\nFIX: only show projects of related third if external user\nFIX: PgSQL Module Resource list crash #5637\nFIX: php Strict\nFIX: Regression when deleting product\nFIX: Security to restrict email sending was not efficient\nFIX: tag for date rfc in odt substitution\nFIX: Update intervention lline crash with PgSQL\nFIX: update limit stock on product stock\nFIX: vat dictionary should allow enter and edit multiple values for localtaxes, separated by: (ex -19:-15)\nFIX: wrong test on dict.php\n\n\n***** ChangeLog for 3.9.4 compared to 3.9.3 *****\nFIX: #2853\nFIX: #3128\nFIX: #4447\nFIX: #5128 if create method return duplicated code error not use GETPOST in order to get a new code\nFIX: #5340\nFIX: #5473\nFIX: #5474 Country_id of \"Don\" object is still empty\nFIX: #5534\nFIX: #5535 bad dependency.\nFIX: #5537 AJAX project search does not work properly\nFIX: #5540 getFormMail is not registered as addReplace hook\nFIX: #5544 Disabled Contact still appear in lists to send emails\nFIX: #5549 getNomUrl tooltips show Order info even if user has no rights to read them\nFIX: #5568\nFIX: #5594\nFIX: #5629 PgSQL Integer string stylish error\nFIX: #5651\nFIX: #5660\nFIX: #5853 $conf->global->$calc==0 || $conf->global->$calc==1\nFIX: #5907\nFIX: #5966 Bug: getNomUrl tooltips show Proposal info even if user has no rights to read them\nFIX: #6051\nFIX: #6088\nFIX: Can correct stock of lot using eatby or sell by date\nFIX: Can make a movement on \"out of sell\" products\nFIX: cannot update bank account on invoice if module order not activated\nFIX: Can't create withdrawal document\nFIX: delete contract extrafields on contract deletion\nFIX: Direction of movement lost if an error occurs\nFIX: Error when CATEGORIE_RECURSIV_ADD is enabled and new category is daughter of an already linked to object\nFIX: export extrafields must not include separate type\nFIX: External user must not be able to edit its discounts\nFIX: Failed to export contact categories with contact extra fields\nFIX: header title in commercial area\nFIX: HT and TTC price should always be displayed together\nFIX: incoterms\nFIX: incoterms do not output into crabe invoice PDF\nFIX: in PgSQL no quote \"word style\" is permitted around column name\nFIX: Introduce hidden option MAIL_PREFIX_FOR_EMAIL_ID to solve pb of tracking email.\nFIX: margin tab on customer card must filter on current entity invoices\nFIX: missing column into SQL on thirdparty list\nFIX: only show projects of related third if external user\nFIX: PgSQL Module Resource list crash #5637\nFIX: php Strict\nFIX: Regression when deleting product\nFIX: Security to restrict email sending was not efficient\nFIX: tag for date rfc in odt substitution\nFIX: Update intervention lline crash with PgSQL\nFIX: update limit stock on product stock\nFIX: vat dictionary should allow enter and edit multiple values for localtaxes, separated by: (ex -19:-15)\nFIX: wrong test on dict.php\n\n\n***** ChangeLog for 3.9.3 compared to 3.9.2 *****\nFIX: #4383 $userid not defined\nFIX: #4448 $filebonprev is not used, $this->filename now\nFIX: #4455\nFIX: #4749\nFIX: #4756\nFIX: #4828\nFIX: #4926\nFIX: #4964 buyprice in customer from shipping buyprice wasn't load in expedition::fetch_lines\nFIX: #5004\nFIX: #5068\nFIX: #5170 tva sign with INVOICE_POSITIVE_CREDIT_NOTE option\nFIX: #5338 use of not initialized var $aphour, $apmin, etc\nFIX: #5343\nFIX: #5380\nFIX: #5383 bad object id on don delete\nFIX: #5414\nFIX: #5470 User of expense report in bank transactions page is not correct\nFIX: a case of corrupted ODT by Word that insert <text:s> when it should not.\nFIX: Can't create thirdparty or validate invoice if profid is mandatory and profid does not exists for other countries\nFIX: dashboard wrong for late invoice\nFIX: duplicate jquery.js files\nFIX: extrafield cloned on project clone\nFIX: Failed to open file\nFIX: Filter on opportunity amount and budget\nFIX: form_confirm to delete payment on supplier invoice\nFIX: javascript error with german-switzerland language\nFIX: large expense note\nFIX: Missing original .js file (license violation if sources are not provided)\nFIX: Option strict mode compatibility\nFIX: product stats all block module without enabled test\nFIX: receiving link never works\nFIX: task ODT company object not correctly retrieved\nFIX: Translate group perms as it is done into user perms\nFIX: We must take the last recent defined price when using price level\n\n***** ChangeLog for 3.9.2 compared to 3.9.1 *****\nFIX: #4813 Won translation for the key OppStatusWON instead OppStatusWIN\nFIX: #5008 SQL error when editing the reference of a supplier invoice that already exists\nFIX: #5236 Cron module activated but \"Modules tools\" does not appear in the left menu.\nFIX: Accountancy - 3.9 - Chart of accounts are limited on only one country\nFIX: bug on email template\nFIX: Can't create a stock transfer from product card\nFIX: can't fetch by siret or siren because of first \"if\"\nFIX: Check stock of product by warehouse if $entrepot_id defined on shippings\nFIX: Compatible with multicompany\nFIX: Creation of the second resource type fails.\nFIX: end of select when no fournprice\nFIX: Filter on assigned to was preselected on current user on list \"All events\" (instead of no filtering)\nFIX: Filter on category tag for suppliers\nFIX: hook on group card called but not initialized\nFIX: Infinite loop on menu tree output for edition\nFIX: Can show tree of entries added by external modules using fk_mainmenu and fk_leftmenu instead of fk_menu.\nFIX: init var at wrong place report incorrect \"shippable\" flag on draft order.\nFIX: It doesn't check if there is enough stock to update the lines of orders/invoices\nFIX: Menu statistics was not visible if module proposal was not enabled\nFIX: Merge manually PR #5161 - Bad translation key\nFIX: missing column when module was installed before standard integration\nFIX: Missing number total of modules\nFIX: Not filtering correctly when coming from dashboard\nFIX: PROPAL_MERGE_PDF with PRODUCT_USE_OLD_PATH\nFIX: Remove PHP Warning: Creating default object from empty value.\nFIX: same page added several times on mergepropal option\nFIX: search on date into supplier invoice list don't work because of status -1\nFIX: Search supplier ref on contract\nFIX: Split of credit note into discount page generates records not correctly recognised as credit note.\nFIX: SQL error function on getAvailableDiscounts function, on bill create mode if socid is empty\nFIX: #5087\nFIX: #5108\nFIX: #5163\nFIX: #5195\nFIX: #5203\nFIX: #5207\nFIX: #5209\nFIX: #5230\n\n***** ChangeLog for 3.9.1 compared to 3.9.* *****\nFIX: #3815 Call to undefined function local_by_date()\nFIX: #4424 Missing email of user popup in supplier orders area\nFIX: #4442 Missing translation in Banks menu\nFIX: #4737 Bank transaction type selector translation is cropped\nFIX: #4742 Able to delete a supplier invoice with a registered payment\nFIX: #4743 UI glitch in project summary page\nFIX: #4747 Missing UI background when registering a supplier invoice payment\nFIX: #4748 Supplier invoice payment confirmation amount is not translated\nFIX: #4766 VAT not shown in supplier invoice popup\nFIX: #4784\nFIX: #4809 Duplicate functions with different content\nFIX: #4812\nFIX: #4839\nFIX: #4851 Project selector in supplier invoices shows the project label twice\nFIX: #4870\nFIX: #4874 SQL error when listing users\nFIX: #4880\nFIX: #4961\nFIX: #4989\nFIX: If oauth has never been activated two tables are missing and printing is not working\nFIX: A not enabled field for list must not into fields to add\nFIX: Bad color of message password changed\nFIX: Bad error and style message when changing its own login\nFIX: Bad function name call on delete\nFIX: Bad include and param for project numbering module call\nFIX: bad translation language loaded FIX: When changing thirdparty on event card, the showempty option of contact was lost. FIX: Bad placeholder shown on combo to select a thirdparty.\nFIX: Bad vat definition when using POS module\nFIX: Box disabled because bugged\nFIX: Can not select a commercial on the creation of a third\nFIX: Check of EAN13 barcode when mask was set to use 13 digits instead of 12\nFIX: correct display of minimum buying price\nFIX: Creation of thumb image for size \"small\" was not done.\nFIX: Damn, where was the project ref ?\nFIX: Default vat is not set correctly when an error occurred and we use VAT identified by a code.\nFIX: don't retrieve new buying price on margin display\nFIX: Duplicate records into export\nFIX: Each time we edit a line, we loose the unit price.\nFIX: Email templates not compatible with Multicompany\nFIX: Export must use a left join to not loose lines\nFIX: fetchAllEMailTemplate\nFIX: Filter/search on extrafields on lists\nFIX: finished parameters not used\nFIX: Generated thumbs must always use the png format so using thumbs can work.\nFIX: Hook resprint  be printed\nFIX: image extension must be in lower case\nFIX: Missing clean of criteria\nFIX: Missing database escaping on supplier price insert/update\nFIX: Missing function\nFIX: Multiprice generator didn't recalculate prices if only the price_base_type property changes\nFIX: Not removing code into vatrate.\nFIX: Not showing sellprice properly on product list\nFIX: Parsing of amount to pay vat\nFIX: PHPCS\nFIX: PMP is deprecated at warehouse level\nFIX: real min buying price\nFIX: Same term to create than other objects\nFIX: Some records were lost into margin per product report\nFIX: systematic rounding causes prices to be updated without reason\nFIX: Template email must take care of positino column\nFIX: VAT rate can be negative. Example spain selling to morocco.\nFIX: When cloning an order the order result from clone must be now\nFIX: When using option Price per level, when adding a predefined product, the vat for customer was not correctly set.\n\n***** ChangeLog for 3.9.0 compared to 3.8.* *****\nFor users:\nNEW: A new and more modern look for \"eldy\" theme.\nNEW: Introduce a new theme called \"Material Design\".\nNEW: #3767 Allow changing multiple prices of a product at once\nNEW: Add a button to purge criteria in user list\nNEW: Add a filter field to restrict list of member when doing a LDAP list request. Use also this filter into ldap command line script making sync from ldap to dolibarr.\nNEW: Add all assigned users and all extrafields data in new event when we createFromClone\nNEW: Add hidden option to use standard position address in crabe model For electronic sending solutions\nNEW: Add a refresh button on page list of direct print jobs.\nNEW: Add a tab \"document\" in donation card\nNEW: Add cancel button on thirdparty create page\nNEW: Add chart of product statistics\nNEW: Add color on categories\nNEW: Add date value filter on account records list\nNEW: Add __PROJECT_NAME__ tag for customer invoice emails\nNEW: Add option PDF_ALLOW_HTML_FOR_FREE_TEXT to be able to enter pdf footer text with wysiwyg editor.\nNEW: Add fields into llx_cronjobs to be able to use job table to queue one shot jobs.\nNEW: Add filter on status on invoice list\nNEW: Add filter on status on shipments\nNEW: Add gender property managed on user card FIX: Better error messages when uploading photo of user when permission to write are not granted\nNEW: Add help tooltips on fields of dictionary edit pages.\nNEW: Add hidden option MAIN_MAILFORM_DISABLE_ENTERKEY to disable the key enter into the form to send email.\nNEW: Add $ID$ into extrafields management to allow use of current object id on filter for select list from table and checkbox list from table\nNEW: Add info page on product card\nNEW: Add into about page, a sample text to use to promote new version release (visible only if version is last stable)\nNEW: Add none/all selection into list of files for FTP browser module\nNEW: Add opportunity amount on project card.\nNEW: Add link \"date of invoice\" to select date of invoice when creating a payment in one click.\nNEW: Add planned workload and declared progress on project summary list on project home page (data aggregated from tasks of project)\nNEW: Add ref and label of project into export\nNEW: Add status into filters of graph\nNEW: Add tab document on salaries payment\nNEW: Add thumb of users into stats box on home page\nNEW: A link to the bugtracker report tool can be enabled in the GUI\nNEW: Better look for POS. More responsive design.\nNEW: Can add project search on left menu search area\nNEW: Can assign a task to yourself to have it appear on timesheet.\nNEW: Can close a project that has draft status with no need to switch it to validate status before.\nNEW: Can edit Background color for Top menu and Background color for table title line.\nNEW: Can edit email templates using WYSIWYG editor.\nNEW: Can edit list of prospect status for customers/prospects. Add a new entry\ninto dictionary table to manage list for status.\nNEW: Can filter on contact status in prospect list. Removed deprecated menu entry.\nNEW: Can filter proposal on a tag of a product.\nNEW: Can filter proposal, orders or invoices with criteria \"contain at least one product with following tag\"\nNEW: Can choose fields to show on project list.\nNEW: Can choose fields to show in product list. Extrafields are also supported.\nNEW: Can choose fields to show into the contact list. Extrafields are also supported.\nNEW: Can choose fields to show into list of users. Extrafields are also supported.\nNEW: Can set default value of event type when creating an event (if option \"manage type of event\" is used).\nNEW: Can upload files on leave requests. Use more standard permissions.\nNEW: Can use a \"|\" to make a OR search on several different criteria into search text filters of tables.\nNEW: Can use the * as a joker characters into search boxes of lists.\nNEW: Clean code into salary module, debug and add indexes\nNEW: Can filter on user list and salary payments on user with naural search.\nNEW: Can clone agenda events.\nNEW: Color category is visible onto the thumb of tags on thirdparty, or products cards.\nNEW: Conf to use next product/service ref when we clone a product/service\nNEW: Contract module can be used to follow both sold and bought contracts/recurring subscriptions.\nNEW: Can change amount when creating withdraws requests.\nNEW: FEATURE PROPOSAL: on proposal, order or invoice creation from scratch, reload page after customer selection so its information can be loaded\nNEW: Filter \"active\" by default on user list. Fix label of permission of project module.\nNEW: Forms are using the \"tab look\", even in creation mode.\nNEW: Free text for cheque deposit receipt can be HTML content.\nNEW: Hidden option THEME_ELDY_USE_HOVER is stable enough to become officially visible into setup.\nNEW: If module salaries is on, you can set a hourly value for time consumed by users. When a user enter its time consumed on a project, a calculation is done to provide the cost for human services. This value appears into the \"Overview\" of project.\nNEW: Add import profile to import sales representatives of third parties.\nNEW: Increase length of bank code to 128 char #3704\nNEW: Into the overview of projects, the name of thirdparty appears into combo lists of elements to link to project.\nNEW: Introduce a \"code\" into table of vats to describe VAT. This will allow to suggest different vat lines with same value with ability to differentiate them.\nNEW: Introduce cost price on products.\nNEW: Introduce hidden option MAIN_LANDING_PAGE to decide the home page visible just after login.\nNEW: Introduce hidden option MAIN_REPLACE_TRANS_xx_XX to allow simple replacement of translated string on the fly. Prefer to use next method.\nNEW: Introduce table llx_overwrite_trans to be able to overwrite translations by simple database edition.\nNEW: Introduce use of cache for thumbs images of users to save bandwidth.\nNEW: Experimental level multiprice generator based on per cent variations over base price.\nNEW: List of projects of a thirdparty are visible on a project tab for the thirdparty.\nNEW: Merge all left menu search boxes into one.\nNEW: Merge all search fields of an area page into one search box.\nNEW: Next ref on clone doesn't need conf, it's used if mask exists.\nNEW: Only arrow of current sorted field is visible into table views. This save a lot of space. You can click on the column title to sort. This make clickable area larger and click to sort is easier.\nNEW: On page to see/edit contact of an object, the status of contact is visible (for both external and internal users).\nNEW: Option \"encrypt password\" into database is set to on by default on first install.\nNEW: Print event type on third party card tab agenda list (only if AGENDA_USE_EVENT_TYPE = 1)\nNEW: Provide an easier way to understand if an order can be shipped.\nNEW: Quick search filter works also on invoice, proposal, order, intervention, contract and expense reports.\nNEW: Replace category edition page on members with new select2 component.\nNEW: Show photo of logged user into login top right block.\nNEW: If no photo is available for user, we show a generic photo depending on gender.\nNEW: Show photo of user into user list.\nNEW: Show which fields were used for search when doing a \"generic search\" from the \"quick search\" form on left menu.\nNEW: Statistic graphs on products offer a filter on product type (product / service or both)\nNEW: Syslog displays configuration errors\nNEW: The clicktodial module is now able to provide link \"tel:\" on phone numbers. So it is also possible to use clicktodial with a client solution like the \"xivo\" local client.\nNEW: The conditional IF into ODT templates works also on not defined var so we can show data only if defined. Close #3819\nNEW: The free text in PDF footers can now be a HTML content. So the WYSIWYG editor is on by default to edit it into module setup.\nNEW: The thirdparties tabs, the contacts tabs and the members tabs are now presented using a new \"top banner\", saving space and using a same way to show address, status and navigation arrows.\nNEW: Thumbs for statistics on main page are fully clickable (not only link inside the thumb)\nNEW: Translate extrafield's labels.\nNEW: Use new select2 component for juridical status, country and state selection.\nNEW: When creating order, proposal or invoice from thirdparty card, the project is asked during creation. A link to create project if it does not exists is also available.\nNEW: Uniformize form creation of proposal to add public and private notes during creation like for order and invoice.\nNEW: More robust antiXSS engine.\nNEW: Compatibility with Mysql 5.7+\n\nFor developers:\nNEW: The search box and the bookmarks are now rendered by the menu manager.\nNEW: Add a new widget $form->selectArrayAjax() to use combo list with content coming from an Ajax URL.\nNEW: Add doActions hook method call in contract card\nNEW: Added doActions hooks to user cards\nNEW: Add a new component to select categories/tags from the main edit page of product. The dedicated tab is also removed.\nNEW: upgrade jQuery Component Datable (and extras) to 1.10.7\nNEW: script to build API class from existing class\nNEW: Prepare database to store information per files (for example to define if an image can be used as a cover or not)\nNEW: log hooks loading\nNEW: Introduce property module_position so a module can decide where it appears into list of modules.\nNEW: Introduce function dolGetFirstLineOfText\nNEW: Introduce a method getDefaultCreateValueForField for developers to get a default value to use for a form in create mode. Implement it for public and private notes.\nNEW: A module can add its entries into cron module.\nNEW: Framework feature. To have a page being loaded at same scrollbar level after a click on a href link, just add the class \"reposition\" on this link.\nNEW: Add example of setup for multitail to render dolibarr log files\nNEW: Add restler framework. First step to build REST API into Dolibarr.\nNEW: Add css class and ids on column of detail lines to allow module to easily manipulate fields.\nNEW: Add hook in send mail\nNEW: Add hooks on list of members to allow an external module to add more fields into list view.\nNEW: Add hooks to allow an external module to complete list of events into calendar views.\nNEW: Add \"productpricecard\" hook and uniformize code\nNEW: Enhance also the prototype test_arrays to include select form before table.\nNEW: Enhance prototype, project list and proposal list with new hooks to have an external module able to add more fields.\nNEW: Enhance style engine. Add option to set color of links.\nNEW: ODT generators can now also set meta properties of ODT file.\nNEW: Add missing columns into llx_expedition to match other tables.\nNEW: A new function getImageFileNameForSize was also introduced to choose image best size according to usage to save bandwidth.\nNEW: Support logging to a Sentry server\nNEW: Prepare database to have agenda able to store more detailed emails events.\n\nWARNING:\n\nDolibarr 3.9 is not yet fully compatible with PHP 7 even if most features seems to work.\n\nMysql minimum version is now 5.0.3\n\nFollowing changes may create regression for some external modules, but were necessary to make\nDolibarr better:\n- Deprecated Product::setPriceExpression. Use Product::update instead\n- Deprecated hidden option MAIN_USE_CUSTOM_TRANSLATION has been removed. Use table llx_overwrite_trans instead.\n- Trigger LINECONTRACT_INSERT has been renamed into LINECONTRACT_CREATE to match common denomination.\n- A lot hooks used into PDF generation were not correctly implemented. We had to fix this. The result si that\nthe following hook were set as hook of type \"replace\". This means if your module implement such hooks, it must\nreturn 0 to execute standard code or 1 to replace standard code (value to output should be set into resPrints instead).\nThis is list of hooks modified:\n'pdf_getlinenum', 'pdf_getlineref', 'pdf_getlineref_supplier', 'pdf_getlinevatrate', 'pdf_getlineupexcltax',\n'pdf_getlineupwithtax', 'pdf_getlineqty', 'pdf_getlineqty_asked', 'pdf_getlineqty_shipped', 'pdf_getlineqty_keeptoship',\n'pdf_getlineunit', 'pdf_getlineremisepercent', 'pdf_getlineprogress', 'pdf_getlinetotalexcltax', 'pdf_getlinetotalwithtax'\n- Renamed Product::isservice and Product::isproduct to match PSR-2\n- Remove deprecated Product::hidden property\n\n\n\n***** ChangeLog for 3.8.5 compared to 3.8.4 *****\nFIX: #3815 Call to undefined function local_by_date().\nFIX: #4424 Missing email of user popup in supplier orders area\nFIX: #4442 Missing translation in Banks menu\nFIX: #4448 $filebonprev is not used, $this->filename now\nFIX: #4455\nFIX: #4737 Bank transaction type selector translation is cropped\nFIX: #4742 Able to delete a supplier invoice with a registered payment\nFIX: #4743 UI glitch in project summary page\nFIX: #4747 Missing UI background when registering a supplier invoice payment\nFIX: #4748 Supplier invoice payment confirmation amount is not translated\nFIX: #4749\nFIX: #4756\nFIX: #4766 VAT not shown in supplier invoice popup\nFIX: #4809 - Duplicate functions with different content\nFIX: #4851 Project selector in supplier invoices shows the project label twice\nFIX: #4870\nFIX: #5008 SQL error when editing the reference of a supplier invoice that already exists\nFIX: #5048 Product supplier list display only one produc\nFIX: #5170 tva sign with INVOICE_POSITIVE_CREDIT_NOTE option\nFIX: #5203\nFIX: #5207\nFIX: #5338 use of not initialized var $aphour, $apmin, etc\nFIX: #5380\nFIX: #5383 bad object id on don delete\nFIX: #5474 Country_id of \"Don\" object is still empty\nFIX: Accountancy - 3.8 - Chart of accounts are limited on only one country\nFIX: Bad include and param for project numbering module call\nFIX: Box disabled because bugged\nFIX: bug on email template\nFIX: Can correct stock of lot using eatby or sell by date\nFIX: Can make a movement on \"out of sell\" products\nFIX: Can't create thirdparty or validate invoice if profid is mandatory and profid does not exists for other countries\nFIX: can't fetch by siret or siren because of first \"if\"\nFIX: Check stock of product by warehouse if $entrepot_id defined on shippings\nFIX: correct display of minimum buying price\nFIX: Creation of thumb image for size \"small\" was not done.\nFIX: Direction of movement lost if an error occurs\nFIX: don't retrieve new buying price on margin display\nFIX: Duplicate records into export\nFIX: Email templates not compatible with Multicompany\nFIX: end of select when no fournprice\nFIX: finished parameters not used\nFIX: hook on group card called but not initialized\nFIX: It doesn't check if there is enough stock to update the lines of orders/invoices\nFIX: large expense note\nFIX: missing column when module was installed before standard integration\nFIX: Missing database escaping on supplier price insert/update\nFIX: Not filtering correctly when come from dashboard\nFIX: PROPAL_MERGE_PDF with PRODUCT_USE_OLD_PATH\nFIX: real min buying price\nFIX: receiving link never works\nFIX: same page added several times on mergepropal option\nFIX: search on date into supplier invoice list don't work because of status -1\nFIX: Search supplier ref on contract\nFIX: SQL error function on getAvailableDiscounts function, on bill create mode if socid is empty\nFIX: systematic rounding causes prices to be updated without reason\nFIX: task ODT company object not correctly retrieved\nFIX: Template email must take care of positino column\nFIX: VAT rate can be negative. Example spain selling to morocco.\n\n***** ChangeLog for 3.8.4 compared to 3.8.3 *****\nFIX: #3694\nFIX: #3798 #2519 Cron jobs would never be executed\nFIX: #4155 Search Categories error\nFIX: #4239\nFIX: #4272 Error when trying to print the page \"Linked objects\" of a Thirdparty\nFIX: #4291 Correctly filter bank card GETPOSTs\nFIX: #4291 Correctly filter external calendar GETPOSTs\nFIX: #4341\nFIX: #4394 Untranslated label in list of expense reports\nFIX: #4414 Supplier invoices use FAC_FORCE_DATE_VALIDATION client invoices property\nFIX: #4418\nFIX: #4425 Missing \"VAT\" translation in supplier order popup\nFIX: #4434 Weird behaviour when enabling multiprices\nFIX: #4440 Wrong price is filled by Product::fetch into multiprices arrays\nFIX: #4453 SEPA Direct Debit generated XML shows a trailing comma in RmtInf field\nFIX: #4528\nFIX: #4556 desiredstock and seuil_stock_alerte cleared on modify product card\nFIX: #4580\nFIX: #4583 Incorrect call of Categories::containing throws a DoliDB error\nFIX: #4649 Wrong parameters order\nFIX: #4768\nFIX: #4785\nFIX: Add a test to show bugged module with a bad declaration of dictionaries to avoid clean modules to be broken.\nFIX: add Croatia into list of country in EEC\nFIX: add missing global def for ttc column\nFIX: ajax error with multicompany module\nFIX: Avoid errors when batch stock is negative\nFIX: bad field in select\nFIX: bad path\nFIX: bad transaction level due to code of situation invoices\nFIX: best sql request\nFIX: bookmark's user change after update if the user hasn't superadmin right\nFIX: call trigger LINEBILL_SUPPLIER_CREATE\nFIX: Can not disabled an opened service line in a contract\nFIX: can't clone event\nFIX: can't send mail to thirdparty contact if no mail defined on thirdparty card\nFIX: Check stock of batch on shippment\nFIX: code corrupting database\nFIX: compatibility with multicompany transversal mode\nFIX: compatibility with multicompany transversal mode and more security issue\nFIX: Contrat card don't consider user permissions to show active/unactive service button\nFIX: CVE CVE-2015-8685\nFIX: Deadlock situation. Can't edit anymore contract. FIX: List of automatic events was not visible.\nFIX: disable main.inc.php hooks\nFIX: do not show warning if account defined\nFIX: don't see the sales representative of another entities\nFIX: duration format\nFIX: Correct problem of rights between tax and salaries module\nFIX: Email templates not compatible with Multicompany\nFIX: $fileparams is not defined\nFIX: filter by socid if from customer card\nFIX: for avoid conflict with \"global $m\" in memory.lib.php\nFIX: for avoid division by 0\nFIX: hover css\nFIX: If option to hide automatic ECM is on, don't show menu.\nFIX: if we don't use SUPPLIER_ORDER_USE_HOUR_FOR_DELIVERY_DATE the hour is displayed on pdf\nFIX: Introduce hidden option to disable feature than hangs when too much data\nFIX: ISSUE #4506 : make working the PROPAL_CLONE_ON_CREATE_PAGE hidden constant\nFIX: issue when bank module is disabled FIX: missing entity filter for lines of payment\nFIX: list of leave request was not showing label correctly.\nFIX: MAIN_THIRDPARTY_CREATION_INDIVIDUAL syntax error in name\nFIX: markRate can be 100\nFIX: minor css error (pixel size must have \"px\"). Compatibility with old behaviour.\nFIX: missing field \"label\"\nFIX: missing signature and uniformize code between card and script\nFIX: missing traduction\nFIX: missing translation\nFIX: missing translation key\nFIX: nblignes not calculated after hook and hook can't modify this value. Useful for modules\nFIX: no database structure change is allowed into minor versions\nFIX: no transaction in this place\nFIX: Noway to validate a leave request for some uer even if they have permission for.\nFIX: Option to disable meteo was not set correctly in edit mode\nFIX: $outputlangs is not defined (dolibarr 3.7, 3.8, 3.9)\nFIX: path to copyrighted files\nFIX: php unit to work both with old and new setup\nFIX: Purge of temp files was broken\nFIX: Relative discount decimals are not saved\nFIX: Removed a bugged list. Fixed another one to not count data of previous year.\nFIX: retrieve correct pu_ttc (set by printObjectLine function) like in 3.7\nFIX: search product in customer product prices doesn't work\nFIX: Some filters are lost when paging\nFIX: sql injection #4341\nFIX: sql injection even when code is on several lines\nFIX: sql request and total for time spen for current month\nFIX: Sql syntax error in doc_generic_task_odt\nFIX: Status filter don't work\nFIX: Strict Standards: Only variables should be passed by reference\nFIX: The part added with hidden option MAIN_DOC_USE_TIMING was included with a . instead of -. This make os think it is part of extension instead of file name.\nFIX: The third dashboard don't consider user permissions\nFIX: the view my task must show only task you are assigned to\nFIX: to allow phpunit of migration process for 3.4 to 3.5\nFIX: to allow phpunit of migration process for 3.5 to 3.6\nFIX: userlocaltax\nFIX: view of product image when using old path\nFIX: size of image uploaded on user.\nFIX: We must ue the \"small\" size of imge to show on card pages.\nFIX: When we make a direct assignment on a task to a user, we must check he is also assigned to project (and if not assign it)\nFIX: wrong fk_parent_line in credit note with invoiceAvoirWithLines option\nFIX: wrong modelpdf var name\nFIX: wrong object name\n\n***** ChangeLog for 3.8.3 compared to 3.8.2 *****\nFIX: #3805\nFIX: #3231 [Members] Public subscription page displays GeoIP error\nFIX: #3240\nFIX: #3293 Login page form icons not shown\nFIX: #3508 Useless tooltip in 3.8 boxes\nFIX: #3661 Margin is not selected correctly when adding a product\nFIX: #3679 Error when deleting a Localtax2 special payment\nFIX: #3707 Thirdparty bank account page table has a glitch\nFIX: #3726 When upload file, don't test if PRODUCT_USE_OLD_PATH_FOR_PHOTO variable is empty or not\nFIX: #3734 Do not show empty links of deleted source objects in stock movement list\nFIX: #3836 Unable to upload a document to an invoice under some circumstances\nFIX: #3878 Storing and deleting files on emailing was done at wrong place\nFIX: #3880\nFIX: #3882\nFIX: #3890 Expected transactions bank account page, shows negative numbers\nFIX: #3912\nFIX: #3928 Creating a Customer order and a Customer invoice from a project, does not inherit payment conditions and method of payment of customer card\nFIX: #3953 Don't round supplier price\nFIX: #3953 rounding of buying price\nFIX: #3980 Search field in \"product by supplier\" list sends empty result 3.8 and 3.7\nFIX: #3987 Undefined variable $newref in CommandeFournisseur::approve\nFIX: #3988 Undefined variable $conf and $error in CommandeFournisseur::addline\nFIX: #3989 Undefined variable $conf in CommandeFournisseur::getNomUrl\nFIX: #3990\nFIX: #3992 CommandeFournisseur::ref is marked as deprecated and it shouldn't be\nFIX: #3996 Dictionary hooks are not working in 3.8\nFIX: #3997 Wrong permission key used for Margins > Read all\nFIX: #4016 User link is not correctly formed in emailing receivers\nFIX: #4018 SQL error if trying to access the mailing/card.php page without an ID defined\nFIX: #4036 Direct printing module without any driver configured, shows an unformatted error message\nFIX: #4043 Incorrect translation in error message in menu creation admin page\nFIX: #4049 PHP warning when trying to access a non-existing product/service\nFIX: #4055 SQL error when trying to access a non-existing expedition\nFIX: #4081 Added missing translation\nFIX: #4097 Public holiday calculation\nFIX: #4182 SQL error when deleting an unexisting bank entry\nFIX: #4242 Allow disabling dashes in documents\nFIX: #4243 sql injection\nFIX: #4281\nFIX: #4282 Defined shipping time were not shown in Customer order's PDF documents\nFIX: #4285 SQL query shown when accessing an unexisting invoice\nFIX: #4287 SQL error when accessing an unexisting proposal\nFIX: #4302 Undefined variable $conf in Commande::LibStatut\nFIX: Allow to search on alias name into select\nFIX: Add a protection to not make release if ChangeLog was not generated.\nFIX: autofocus on input search product\nFIX: bad calculation for stock value\nFIX: Better compatibility for users that used the not supported option MAIN_USE_JQUERY_MULTISELECT set to 1.\nFIX: Bug: $this is not accessible in static context in Mailing::libStatutDest #4050\nFIX: can not have access to the new ids or propal lines on PROPAL_CLONE\nFIX: Can't update line's duration\nFIX: Can use formatted float number on old expense report module.\nFIX: change object statut on close shipping and remove erratic db commit\nFIX: change order date on clone (as everywhere else)\nFIX: event's data lost on user assign update\nFIX: export propal and order with extrafields\nFIX: export with category contact extrafields\nFIX: jquery select of project generate js error on change event\nFIX: label of line is set in description field if empty\nFIX: loss data also if update was cancel by error of ended state with no end date, try a generic patch\nFIX: mail isn't display in title on event in mode view\nFIX: Missing to set context into workflow actions, so triggers can't know we are creating an invoice from order or an order from a proposal.\nFIX: NB task and percent progress in box project\nFIX: Not delete a product when have customer price\nFIX: Not deleting contrats on element_element table\nFIX: Not use localtaxes when invoice some orders\nFIX: only active customer should be available into select list thirdparty on invoice creation\nFIX: only active customer should be return into new invoice creation select list\nFIX: AWP calculation\nFIX: product link in project box\nFIX: Remove  column creation for table llx_product_fournisseur_price, the\ncolumn use un class is fk_supplier_price_expression, and fk_price_expression\ndoes not exist into llx_product_fournisseur_price sql file declaration\nFIX: Show category selector if we have permission to view products or services\nFIX: showrefnav htmlspecialchar instead of < >\nFIX: The label hidden was not supported when using jmobile\nFIX: Too many information were hidden. A lot of users still need bank account on PDF.\nFIX: Use \"WHERE true\" instead of \"WHERE 1\" #4132\n\n***** ChangeLog for 3.8.2 compared to 3.8.1 *****\nFIX: Add a protection to not make release if ChangeLog was not generated.\nFIX: 1/ update_extra() function must not be in  \"if(!empty(MAIN_DISABLE_CONTACTS_TAB)\" test. 2/ Reindented code\nFIX: #3240\nFIX: #3541 Bypass authentication when user was created using LDAP\nFIX: #3605 deleting a shipping\nFIX: #3661 Margin is not selected correctly when adding a product\nFIX: #3689 Bug on workflow module\nFIX: #3724 Bug: Blank page after cloning proposal if we changed client\nFIX: #3726 Better support for PRODUCT_USE_OLD_PATH_FOR_PHOTO\nFIX: #3726 Not showing images on product card\nFIX: #3757 Can't set amount in a social contribution with some languages\nFIX: #3786 Translation of select box.\nFIX: #3841 creation of a task completed has not status set to finished by default\nFIX: #3878 Storing and deleting files on emailing was done at wrong place\nFIX: #3880\nFIX: #3882\nFIX: action not appear before an update because of a lack of line in action resource\nFIX: add tag myuser_job into ODT replacement\nFIX: Avoid changing the state to a thirdparty who shouldn't be contacted anymore\nFIX: bad calculation for stock value\nFIX: Bad parameters\nFIX: Bad picto for expense report\nFIX: bad property so after creating an event from calendar, filter were lost.\nFIX: bad stock valorisation\nFIX: better fix to generate a PROV ref after clone\nFIX: bug invoice classified in propale next update commonobject class in 3.8\nFIX: Can export a field into task time table with export project profile\nFIX: change order date on clone (as everywhere else)\nFIX: clone customer order create new order with validate ref and not with PROV\nFIX: Contacts are not added to the list with the status \"no contact\"\nFIX: Default thirdparty when cloning invoice was not set.\nFIX: double db escape add too quote\nFIX: event's data lost on user assign update\nFIX: Filter in customer price per product of a thirdparty returned error\nFIX: filters on supplier invoices list are not used, search_status instead\nFIX: fix HTML into formconfirm box\nFIX: IF autocomplete was set on thirdparty list, it was not possible to open list of extrafields.\nFIX: If no end date is set on survey, we should be able to vote.\nFIX: loss data also if update was cancel by error of ended state with no end date, try a generic patch\nFIX: no need to remove file into mail form, the temp dir will be deleted after any sending\nFIX: pmp calculation\nFIX: Preview pages was not using correct style for ref\nFIX: project was not retrieved on invoice creation form\nFIX: Revert option WORKFLOW_PROPAL_CAN_CLASSIFIED_BILLED_WITHOUT_INVOICES into option WORKFLOW_PROPAL_NEED_INVOICE_TO_BE_CLASSIFIED_BILLED for better compatibility with old versions\nFIX: Search status not saved into list\nFIX: search_status not used in mergefusiontool\nFIX: Show category selector if we have permission to view products or services\nFIX: Show product image on getNomUrl()\nFIX: skeleton class must use db->order rather than ORDER BY into fetchAll\nFIX: Societe::set_parent() function needs societe object to be fetched to update parent\nFIX: supplier rights for orderToInvoice\nFIX: tag object_total_vat_x need x to be a string with unknown decimal length. Now use for x the real vat real with no more decimal (x = 20 or x = 8.5 or x = 5.99, ...)\nFIX: The preview of PDF was never refreshed if PDF document was changed\nFIX: The thumb of user into top menu was using the image in full size. This make a large download at each page call. We must use the mini thumbs.\nFIX: Total in summary was not same than into detail on the referrer page.\n\n***** ChangeLog for 3.8.1 compared to 3.8.0 *****\nFIX: #3521 postgresql migration error\nFIX: #3524\nFIX: #3529\nFIX: #3530\nFIX: #3533\nFIX: #3533 Load categories language\nFIX: #3534\nFIX: #3572 Impossible to attach project in order\nFIX: #3599 Not saving legal form\nFIX: #3606\nFIX: #3607 Better categories setting and unsetting\nFIX: #3628\nFIX: #3630 - Wrong balance report when module salaries and donation disabled\nFIX: Add a test to save life when ref of object (invoice ref, order ref, ...) was empty. The was no way to go back to a clean situation, even after validating again the object.\nFIX: Admin fiche inter page do not take good action\nFIX: Always use type send in parameters in showCategories method\nFIX: avoid SQL error in getValueFrom common object when all params are not send\nFIX: avoid SQL error when no sortfield send to method\nFIX: bad link into project box\nFIX: Bad title line in project view when using jmobile\nFIX: Bad translation key for project \"Overview\"\nFIX: Can create Proposal on close thirdparty #3526\nFIX: Can't change state on a contact\nFIX: Can't change the admin with default setup\nFIX: Can't delete thirdparty if there is some discounts\nFIX: Can't reopen a canceled invoice.\nFIX: Creation of tables or keys must not be done with a random order.\nFIX: debian install when module mysqli is not installed.\nFIX: Description of tags was mandatory in edit mode but not in create mode. Should not be mandatory.\nFIX: display error on extrafields on ficheinter\nFIX: Email selector contact must not include inactive contact\nFIX: error in SQL due to a previous fix\nFIX: Error retrieving customer prices\nFIX: Event from ical stream should not be movable into calendar view\nFIX: facturestat bad sql when customer view is limited\nFIX: Filter on status of thirdparty list and bad encoding of url\nFIX: icon into export profile may be not correctly output\nFIX: Init into bad var\nFIX: Link of project must be cickable if user has permission to read all projects FIX: Missing information into the alt of project picto\nFIX: List of project for user that are restrited as sale repreentative to some thirdparties.\nFIX: Mass Mailing activity don't display all status\nFIX: Missing contracts into list in page of Referring objects of a thirdparty.\nFIX: Missing menu entry for list of thirdparties when using auguria menu manager\nFIX: Missing validate button if permission are not valid.\nFIX: New adherent from, always redirect on entity\nFIX: not closing CSS.\nFIX: not responsive part for project page\nFIX: Only are showing one object linked\nFIX: order ref must not be translated\nFIX: Payment form for paypal and paybox was not centered.\nFIX: Pb into pagination scroll widget FIX: Style of previous-next card when using dolidroid\nFIX: Regression on bad use of fk_account showing the bad bank account on PDF.\nFIX: Removed warnings\nFIX: remove twice same test\nFIX: select of project using ajax autocomplete option\nFIX: sortder field was missing so manually added values were moved to begin.\nFIX: Syntax error in Debian Apache configuration\nFIX: The admin flag is missing.\nFIX: The filter on thirdparty prices should be visible if there is at least one thirdparty price.\nFIX: Thirdparty is missing on card\nFIX: update2.php test res befre assign it\nFIX: When delete actioncomm also delete actioncomm_resources\nFIX: when editing time spent, date of line suggested was a rubbish value\nFIX: When filter with empty status, by default get canceled status (-1)\nFIX: When update a member login for a member linked to a user, the login of user was not sync (not updated).\nFIX: Wizard for restore does not show import command\n\n\n***** ChangeLog for 3.8 compared to 3.7.* *****\nFor users:\nFIX: #2519\nFIX: #2758 Product::update sets product note to \"null\" when $prod->note is null\nFIX: #2832: Fixed a problem with special characters in expense report PDF model\nFIX: #2856 : Wrong table design\nFIX: #2901\nFIX: #2957 : missing $langs object for trigger\nFIX: #2983 Load gravatar avatar images securely over HTTPS\nFIX: #2987: removed dead function moneyMeter()\nFIX: #3009: Better filtering to prevent SQL injection\nFIX: #3009: Better filtering to prevent SQL injection\nFIX: #3091 TotalHT amount in supplier order is bold unlike the rest of Dolibarr\nFIX: #3138 - Too much visible thing when access is denied on public pages\nFIX: #3173 Overlapping of shipment ref\nFIX: Adding 5 more choice link into survey module was not working with chrome\nFIX: bad calculation for stock value\nFIX: Bad link to login page into email for password renewal.\nFIX: Bad logo for status \"Do not contact\" of thirdparty.\nFIX: Bad variable usage\nFIX: Better management error into the color conversion functions\nFIX: [bug #1883] missing field in SQL installation\nFIX: Bug on order and supplier invoice numeration mask when use supplier code\nFIX: Bug on order and supplier invoice numeration mask when use supplier code\nFIX: button create payment hide if tax amount is less than 1\nFIX: can receive new batch product on supplier order\nFIX: can show print page after product save\nFIX: Close #2835 Customer prices of a product shows incorrect history order\nFIX: Close #2837 Product list table column header does not match column body\nFIX: Close bug #2855 Wrong translation key in localtax report page\nFIX: Close bug #2861 Undefined variable $res when migrating from 3.6.2 to 3.7.0\nFIX: Close bug #2891 Category hooks do not work\nFIX: Close bug #2900 Courtesy title is not stored in create thirdparty form\nFIX: Close bug #2976: \"Report\" tab is the current tab but it is not marked as selected by the UI\nFIX: Correct migration script\nFIX: create contact with extrafiel is null when it is require\nFIX: Description of contract line was not visible.\nFIX: Correct path of loan class\nFIX: Correct problem field with note - Add note_private & use wysiwyg editor\nFIX: Edit in place of \"Outstanding Limit\"\nFIX: Module Expense Report - Correct init\nFIX: Update licence to GPLv3\nFIX: End log must use same level then start log.\nFIX: event for restricted user was restricted if company null\nFIX: event not linked to contact on creation\nFIX: Export of tags for contact and member\nFIX: extrafields required on thirdparty\nFIX: Force ref\nFIX: Function expects an int, not a boolean\nFIX: Function was expecting a boolean not a string\nFIX: hide category if it's not enable\nFIX: If supplier invoice block linked element is display after other block total HT amount is not reset to 0 and sum other block (like customer orders values)\nFIX: jdate returning -62169955200 on x64 machine\nFIX: Let ability to use IDPROF verifications even if new entry is \"private\"\nFIX: migration error\nFIX: moved built-in bug report system to GitHub Issues\nFIX: Moved code to where the variable is defined\nFIX: No check warehouse is provided if module stock is not enabled.\nFIX: Paid invoices are showed as canceled FIX: Bad date filter on customer order\nFIX: Ref/label of product on contract line was not visible, nor into page, nor into PDF.\nFIX: Removed concatenation on undeclared variable\nFIX: Remove deprecated property 'libelle' on product object\nFIX: Replaced some deprecated call\nFIX: Replaced some deprecated property\nFIX: Save of filters into export profiles failed.\nFIX: \"script\" balise with wrong syntax\nFIX: send mail, copy sendto don't read the list of contact\nFIX: top links menu have target attribute with wrong value\nFIX: total amount in tpl linked object are not reset\nFIX; Unknown field 'sc.fk_soc' in field list\nFIX: update usergroup name\nFIX: Variable declared boolean\nFIX: Variable might not be traversable\nFIX: We did a test on a permission to export contract when permission did not exists.\nFIX: when mailing is deleted, the targets list was kept in database\nFIX: when multicompany was enabled, this function didn't check just on the good entity (problem when both company use same mask)\nFIX: When we automatically creta an order from a proposal with workflow module, if some extrafields of propal don't exist in order object, insertExtraFields() function tries to insert extrafields in unexistant column of commande_extrafields table.\nFIX: When we clone a propal, if it has a project which is not assigned to a third, it was not on new propal because fk_project was always set to empty string if new propal is for another third.\nFIX: when we create an agenda event with \"Not applicable\" status, it is automatically saved with \"To do\" status\nFIX: width multiselect\nFIX: Wrong type hinting\nFIX: XSS security using the onerror and missing escapement on type of member page.\nFIX: Missing visibility of static property\nNEW: Add a button to purge criteria in user list\nNEW: add all assigned users and all extrafields data in new event when we createFromClone\nNEW: Add a new component to select categories/tags from the main edit page of product. The dedicated tab is also removed.\nNEW: Add a search field and report on hrm area\nNEW: Add a tab document in donation card\nNEW: Add bank account owner in invoice/proposal/orders footer\nNEW: Add button to purge search criteria into list\nNEW: Add close date and user for projects.\nNEW: Add company information into  category contact export\nNEW: Add current salary on list of payment\nNEW: add date value filter on account records list\nNEW: Add example of setup for multitail to render dolibarr log files\nNEW: Add filter on status on invoice list\nNEW: Add filter on task ref and task label into list of tasks\nNEW: Add filter on user contact or user task into task list\nNEW: Add gender property managed on user card FIX: Better error messages when uploading photo of user when permission to write are not granted\nNEW: Add help tooltips on fields of dictionary edit pages. Fix: visible list of tasks are for opened project only.\nNEW: Add hidden option MAIN_MAILFORM_DISABLE_ENTERKEY to disable the key enter into the form to send email.\nNEW: add hook in send mail\nNEW: Add hooks on list of members to allow an external module to add more fields into list view.\nNEW: Add hooks to allow an external module to complete list of events into calendar views.\nNEW: Add opportunity amount on project card.\nNEW: Add option THEME_TOPMENU_DISABLE_IMAGE to disable images into menu eldy.\nNEW: add PDF icon on linked element into project\nNEW: add \"productpricecard\" hook and uniformize code\nNEW: Add ref and label of project into export\nNEW: Add search box for supplier order search.\nNEW: Add status into filters of graph\nNEW: Add tab document on salaries payment\nNEW: A link to the bugtracker can be enabled in the GUI\nNEW: A module can add its entries into cron module.\nNEW: autofocus on product selection dropdown list or search field\nNEW: Backup and restore tool is easier to use\nNEW: Can add all user of a project as user of a task, in one step.\nNEW: Can add project search on left menu search area\nNEW: Can assign a task to yourself to have it appear on timesheet\nNEW: Can close a project that has draft status with no need to switch it to validate status before.\nNEW: Can edit Background color for Top menu and Background color for table title line (works only with theme menu eldy).\nNEW: Can edit email template using WYSIWYG editor\nNEW: Can edit internal label of invoice even when closed (this is a private information)\nNEW: Can edit list of prospect status for customers/prospects. Add a new entry\ninto dictionary table to manage list for status. Removed deprecated files.\nNEW: Can filter on contact status in prospect list. Removed deprecated menu entry.\nNEW: Can filter proposal on a tag of a product Enhance also the prototype test_arrays to include select form before table.\nNEW: Can filter proposal, orders or invoices with criteria \"contain at least one product with following tag\"\nNEW: Can install an external module from admin pages, if web server has permission for and if setup is ok for.\nNEW: Can search on customer order amount into customer order list.\nNEW: Can upload files on leave requests. Use more standard permissions.\nNEW: Can use a \"|\" to make a OR search on several different criteria into text filters of tables.\nNEW: Clean code into salary module, debug and add indexes NEW: Can filter on user list and salary payments on user with naural search.\nNEW: clone action on agenda events\nNEW: dev feature : replace conf filename with \"conf\" parameter on url by GET\nNEW: display linked object in edit mode when we create an event from an order, propal...\nNEW: Enhancement of module 'Notification by Email'. Show nb of notifications set. Can set several emails. Can set a threshold on amount for notifications. Add notification on supplier order validation.\nNEW: Enhance prototype, project list and proposal list with new hook to have an external module able to add more fields.\nNEW: Enhance the natural_search function so we can use it to search numeric fields with criteria with operator <>= inside (< 100, >= 1000)\nNEW: Enter amount for withdraws requests\nNEW: Feature request: A page to merge two thirdparties into one #2613\nNEW: Feature to build a merged pdf with all unpaid invoice can work for paid invoices.\nNEW: Filter \"active\" by default on user list. Fix label of permission of project module\nNEW: For a contract line, price is no more mandatory.\nNEW: Forms are using the tab look, even in creation mode.\nNEW: Hidden option THEME_ELDY_USE_HOVER is stable enough to become officially visible into setup.\nNEW: If module salaries is on, you can set a hourly value for tome consumed by users. Each time a user enter its time consumed on a project, a calculation is done to provide the cost for human services. This value appears into the \"Transversal view\" of project.\nNEW: Implement option SUPPLIER_ORDER_USE_DISPATCH_STATUS to add a status into each dispatching line of supplier order to \"verify\" a reception is ok. Status of order can be set to \"total/done\" only if line is verified.\nNEW: Into the overview of projects, the name of thirdparty appears into combo lists of elements to link to project.\nNEW: Introduce option SUPPLIER_ORDER_DOUBLE_APPROVAL to allow 2 approvals to make a supplier order approved. Activating this option introduce a new permission to the second level approval.\nNEW: Introduce TCPDI as replacement of FPDI.\nNEW: List of recent modified supplier product prices in Supplier card\nNEW: Module notification should details of emails into confirm box, not only number.\nNEW: On page to see/edit contact of an object, the status of contact is visible (for both external and internal users).\nNEW: Product stock and subproduct stock are independent\nNEW: Propal merge product card PDF into azur\nNEW: Rename install etape to step\nNEW: Replace category edition page on members with new select2 component.\nNEW: Show difference between timespent by everybody and time spent by user making timesheet into timesheet pages. NEW: Can enter start hours of task when creating timesheet\nNEW: Show last official stable version into system - update page.\nNEW: Show photo of logged user into login top right block. NEW: If no photo is available for user, we show a generic photo depending on gender\nNEW: [T1758] Merge bank "
        },
        {
          "name": "DCO",
          "type": "blob",
          "size": 1.333984375,
          "content": "Developer Certificate of Origin\nVersion 1.1\n\nCopyright (C) 2002 - Today, The Dolibarr team and its contributors.\n\nEveryone is permitted to copy and distribute verbatim copies of this\nlicense document, but changing it is not allowed.\n\n\nDeveloper's Certificate of Origin 1.1\n\nBy making a contribution to this project, I certify that:\n\n(a) The contribution was created in whole or in part by me and I\n    have the right to submit it under the open source license\n    indicated in the file; or\n\n(b) The contribution is based upon previous work that, to the best\n    of my knowledge, is covered under an appropriate open source\n    license and I have the right under that license to submit that\n    work with modifications, whether created in whole or in part\n    by me, under the same open source license (unless I am\n    permitted to submit under a different license), as indicated\n    in the file; or\n\n(c) The contribution was provided directly to me by some other\n    person who certified (a), (b) or (c) and I have not modified\n    it.\n\n(d) I understand and agree that this project and the contribution\n    are public and that a record of the contribution (including all\n    personal information I submit with it, including my sign-off) is\n    maintained indefinitely and may be redistributed consistent with\n    this project or the open source license(s) involved.\n"
        },
        {
          "name": "README-FR.md",
          "type": "blob",
          "size": 8.216796875,
          "content": "# DOLIBARR ERP & CRM\n\n![Downloads per day](https://img.shields.io/sourceforge/dw/dolibarr.svg)\n![Docker hub pulls](https://img.shields.io/docker/pulls/dolibarr/dolibarr.svg)\n[![Minimum PHP Version](https://img.shields.io/badge/php-%3E%3D%207.1-8892BF.svg?style=flat-square)](https://php.net/)\n[![GitHub release](https://img.shields.io/github/v/release/Dolibarr/dolibarr)](https://github.com/Dolibarr/dolibarr)\n[![CII Best Practices](https://bestpractices.coreinfrastructure.org/projects/5521/badge)](https://bestpractices.coreinfrastructure.org/projects/5521)\n\nDolibarr ERP & CRM est un logiciel moderne pour gérer votre activité (société, association, auto-entrepreneurs, artisans).\nIl est simple d'utilisation et modulaire, vous permettant de n'activez que les fonctions dont vous avez besoin (contacts, fournisseurs, factures, commandes, stocks, agenda, ...).\n\n![ScreenShot](https://www.dolibarr.org/medias/dolibarr_screenshot1_1920x1080.jpg)\n\n\n## LICENCE\n\nDolibarr est distribué sous les termes de la licence GNU General Public License v3+ ou supérieure.\n\n\n## INSTALLER DOLIBARR\n\n### Installation simple\n\nSi vous avez peu de compétences techniques et que vous souhaitez installer Dolibarr ERP/CRM en quelques clics, vous pouvez utiliser l'une des versions pré-packagées avec les prérequis:\n\n- DoliWamp pour Windows\n- DoliDeb pour Debian ou Ubuntu\n- DoliRpm pour Redhat, Fedora, OpenSuse, Mandriva ou Mageia\n\nLes packages peuvent être téléchargés à partir de [site web officiel](https://www.dolibarr.org/).\n\n### Installation recommandée/avancée\n\nVous pouvez aussi utiliser un serveur Web et une base de données prise en charge (MariaDB, MySQL ou PostgreSQL) pour installer la version standard.\n\n- Décompressez l'archive .zip téléchargée pour copier le répertoire \"dolibarr/htdocs\" et tous ses fichiers à la racine du serveur Web ou récupérez-les directement à partir de GitHub (recommandé si vous connaissez git):\n\n  `git clone https://github.com/dolibarr/dolibarr -b x.y`   (où x.y est la version principale comme 3.6, 9.0, ...)\n\n- Configurez votre serveur Web pour qu'il utilise \"*dolibarr/htdocs*\" en tant que racine si votre serveur Web ne possède pas déjà de répertoire défini vers lequel pointer.\n\n- Créez un fichier `htdocs/conf/conf.php` vide et définissez les autorisations d'*écrire* pour l'utilisateur de votre serveur Web (l'autorisation *écrire* sera supprimée une fois l'installation terminée)\n\n- Depuis votre navigateur, allez à la page \"install/\" de dolibarr\n\n  L’URL dépendra de la façon dont votre configuration Web a été configurée pour pointer vers votre installation de dolibarr. Cela peut ressembler à:\n\n  `http://localhost/dolibarr/htdocs/install/`\n\n  ou\n\n  `http://localhost/dolibarr/install/`\n\n  ou\n\n  `http://yourdolibarrvirtualhost/install/`\n\n- Suivez les instructions de l'installateur\n\n\n## METTRE A JOUR DOLIBARR\n\nPour mettre à jour Dolibarr depuis une vieille version vers celle ci:\n\n- Faites une sauvegarde de votre instance [voir ce tutorial](https://wiki.dolibarr.org/index.php/Installation_-_Upgrade#Upgrade_Dolibarr)\n\n- Vérifiez que la nouvelle version est compatible avec la version PHP de votre serveur [voir PHP support](https://wiki.dolibarr.org/index.php/Releases).\n\n- Ecrasez les vieux fichiers dans le vieux répertoire 'dolibarr' par les fichiers\n  fournis dans ce nouveau package.\n\n- Au prochain accès, Dolibarr proposera la page de \"mise à jour\" des données (si nécessaire).\n  Si un fichier install.lock existe pour verrouiller le processus de mise à jour, il sera demandé de le supprimer manuellement (vous devriez trouver le fichier install.lock dans le répertoire utilisé pour stocker les documents générés ou transférés sur le serveur. Dans la plupart des cas, c'est le répertoire appelé \"documents\")\n\nNote: *Le processus de migration peut être lancé manuellement et plusieurs fois, sans risque, en appelant la page /install/*\n\n\n## CE QUI EST NOUVEAU\n\nVoir le fichier [ChangeLog](https://github.com/Dolibarr/dolibarr/blob/develop/ChangeLog).\n\n\n## CE QUE DOLIBARR PEUT FAIRE\n\n### Modules principaux (tous optionnels)\n\n- Annuaires des prospects et/ou client et/ou fournisseurs\n- Gestion de catalogue de produits et services\n- Gestion des devis, propositions commerciales\n- Gestion des commandes\n- Gestion des factures clients/fournisseurs et paiements\n- Gestion des virements bancaires SEPA\n- Gestion des comptes bancaires\n- Calendrier/Agenda partagé (avec export ical, vcal)\n- Suivi des opportunités et/ou projets (suivi de rentabilité incluant les factures, notes de frais, temps consommé valorisé, ...)\n- Gestion de contrats de services\n- Gestion de stock et inventaires\n- Gestion des expéditions\n- Gestion des demandes de congés\n- Gestion des notes de frais\n- Gestion de recrutement\n- GED (Gestion Electronique de Documents)\n- E-Mailings de masse\n- Réalisation de sondages\n- Gestion d'adhérents\n- Point de vente/Caisse enregistreuse\n- … (près de 100 modules disponibles en standard, près de 1000 autre sur la place de marché d'extensions)\n\n### Autres modules\n\n- Gestion de marque-pages\n- Gestion des promesses de dons\n- Rapports\n- Imports/Exports des données\n- Support des codes barres\n- Calcul des marges\n- Connectivité LDAP\n- Intégration de ClickToDial\n- Intégration RSS\n- Intégration Skype\n- Intégration de système de paiements (PayPal, Stripe, Paybox...)\n- …\n\n### Divers\n\n- Multi-langue.\n- Multi-utilisateurs avec différents niveaux de permissions par module.\n- Multidevise.\n- Peux être multi-société par ajout du module externe multi-société.\n- Plusieurs thèmes visuels.\n- Application simple à utiliser.\n- Requiert PHP et MariaDb, Mysql ou Postgresql (Voir versions exactes sur [https://wiki.dolibarr.org/index.php/Prérequis](https://wiki.dolibarr.org/index.php/Prérequis)).\n- Compatible avec toutes les offres Cloud du marché respectant les prérequis de base de données et PHP.\n- APIs.\n- Génération PDF et ODT des éléments (factures, propositions commerciales, commandes, bons expéditions, etc...)\n- Code simple et facilement personnalisable (pas de framework lourd; mécanisme de hook et triggers).\n- Support natif de nombreuses fonctions spécifiques aux pays comme:\n  - La taxe espagnole TE et ISPF\n  - Gestion de la TVA NPR (non perçue récupérable - pour les utilisateurs français des DOM-TOM)\n  - La loi française Finance 2016 et logiciels de caisse\n  - La double taxe canadienne\n  - Le timbre fiscal tunisien\n  - Numérotation de facture de l'argentines (avec type A,B,C...)\n  - Compatible avec vos processus RGPD\n  - ...\n- …\n\n### Extension\n\nDolibarr peut aussi être étendu à volonté avec l'ajout de modules/applications externes développées par des développeurs tiers, disponible sur [DoliStore](https://www.dolistore.com).\n\n\n## CE QUE DOLIBARR NE PEUT PAS (ENCORE) FAIRE\n\nVoici un liste de fonctionnalités pas encore gérées par Dolibarr:\n\n- Dolibarr ne contient pas de module de génération de feuille de paie.\n- Les tâches du module de gestion de projets n'ont pas de dépendances entre elle.\n- Dolibarr n'embarque pas de Webmail intégré nativement.\n- Dolibarr ne fait pas le café (pas encore).\n\n\n## DOCUMENTATION\n\nLa documentation utilisateur, développeur et traducteur est disponible sous forme de ressources de la communauté via le site [Wiki](https://wiki.dolibarr.org).\n\n\n## CONTRIBUER\n\nCe projet existe grâce à ses nombreux contributeurs [[Contribuer](https://github.com/Dolibarr/dolibarr/blob/develop/.github/CONTRIBUTING.md)].\n\n[![Dolibarr](https://opencollective.com/dolibarr/contributors.svg?width=890&button=false)](https://github.com/Dolibarr/dolibarr/graphs/contributors)\n\n\n## CREDITS\n\nDolibarr est le résultat du travail de nombreux contributeurs depuis des années et utilise des librairies d'autres contributeurs.\n\nVoir le fichier [COPYRIGHT](https://github.com/Dolibarr/dolibarr/blob/develop/COPYRIGHT)\n\n\n## ACTUALITES ET RESEAUX SOCIAUX\n\nSuivez le projet Dolibarr sur les réseaux francophones\n\n- [Facebook](https://www.facebook.com/dolibarr.fr)\n- [X](https://www.twitter.com/dolibarr_france)\n\nou sur les réseaux anglophones\n\n- [Facebook](https://www.facebook.com/dolibarr)\n- [X](https://www.twitter.com/dolibarr)\n- [LinkedIn](https://www.linkedin.com/company/association-dolibarr)\n- [YouTube](https://www.youtube.com/user/DolibarrERPCRM)\n- [GitHub](https://github.com/Dolibarr/dolibarr)\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 10.7177734375,
          "content": "# DOLIBARR ERP & CRM\n\n![Downloads per day](https://img.shields.io/sourceforge/dw/dolibarr.svg)\n![Docker hub pulls](https://img.shields.io/docker/pulls/dolibarr/dolibarr.svg)\n[![Minimum PHP Version](https://img.shields.io/badge/php-%3E%3D%207.1-8892BF.svg?style=flat-square)](https://php.net/)\n[![GitHub release](https://img.shields.io/github/v/release/Dolibarr/dolibarr)](https://github.com/Dolibarr/dolibarr)\n[![CII Best Practices](https://bestpractices.coreinfrastructure.org/projects/5521/badge)](https://bestpractices.coreinfrastructure.org/projects/5521)\n\nDolibarr ERP & CRM is a modern software package that helps manage your organization's activities (contacts, quotes, invoices, orders, stocks, agenda, human resources, ecm, manufacturing…).\n\nIt's an Open-Source Software suite (written in PHP with JavaScript enhancements) designed for small, medium or large companies, foundations and freelancers.\n\nYou can freely use, study, modify or distribute it according to its license.\n\nYou can use it as a standalone application or as a web application to access it from the Internet or from a LAN.\n\nDolibarr has a large community ready to help you, free forums and [preferred partners ready to offer commercial support should you need it](https://partners.dolibarr.org)\n\n![ScreenShot](https://www.dolibarr.org/medias/dolibarr_screenshot1_1920x1080.jpg)\n\n\n## LICENSE\n\nDolibarr is released under the terms of the GNU General Public License as published by the Free Software Foundation; either Version 3 of the License, or (at your option) any later version (GPL-3+).\n\nSee the [COPYING](https://github.com/Dolibarr/dolibarr/blob/develop/COPYING) file for a full copy of the license.\n\nOther licenses apply for some included dependencies. See [COPYRIGHT](https://github.com/Dolibarr/dolibarr/blob/develop/COPYRIGHT) for a full list.\n\n\n## INSTALLING\n\nThere is a lot of different solutions to install Dolibarr.\n\n### Using packages \n\nIf you have low technical skills and you're looking to install Dolibarr ERP/CRM with just a few clicks, you can use one of the packaged versions:\n\n- [DoliWamp for Windows](https://wiki.dolibarr.org/index.php/Dolibarr_for_Windows_(DoliWamp))\n- [DoliDeb for Debian](https://wiki.dolibarr.org/index.php/Dolibarr_for_Ubuntu_or_Debian)\n- DoliRpm for Red Hat, Fedora, OpenSuse, Mandriva or Mageia\n- The Docker image (see next chapter)\n\nReleases can be downloaded from [official website](https://www.dolibarr.org/).\n\n### Using the generic step by step setup (recommended for IT users)\n\nYou can use any web server supporting PHP (Apache, Nginx, ...) and a supported database (MariaDB, MySQL or PostgreSQL) to install the standard version:\n\n- Verify that your installed PHP version is supported [see PHP support](https://wiki.dolibarr.org/index.php/Releases).\n\n- Uncompress the downloaded .zip archive to copy the `dolibarr/htdocs` directory and all its files inside your web server root or get the files directly from GitHub (recommended if you know git as it makes it easier if you want to upgrade later):\n\n  `git clone https://github.com/dolibarr/dolibarr -b x.y`     (where x.y is the main version like 9.0, 19.0, ...)\n\n- Set up your web server to use `dolibarr/htdocs` as root if your web server does not already define a directory to point to.\n\n- Create an empty `htdocs/conf/conf.php` file and set *write* permissions for your web server user (*write* permission will be removed once install is finished)\n\n- From your browser, go to the dolibarr \"install/\" page\n\n  The URL will depend on how your web configuration directs to your dolibarr installation. It may look like:\n\n  `http://localhost/dolibarr/htdocs/install/`\n\n  or\n\n  `http://localhost/dolibarr/install/`\n\n  or\n\n  `http://yourdolibarrvirtualhost/install/`\n\n- Follow the installer instructions\n\n### Using Docker images\n\nDolibarr is also available as a [Docker image](https://hub.docker.com/r/dolibarr/dolibarr). Installation instructions are available [here](https://github.com/Dolibarr/dolibarr-docker).\n\n### Using ready to use SaaS/Cloud offers\n\nIf you lack the time to install it yourself, consider exploring commercial 'ready-to-use' Cloud offerings (refer to https://saas.dolibarr.org). Keep in mind that this third option comes with associated costs.\n\n\n## UPGRADING\n\nDolibarr supports upgrading, usually without the need for any (commercial) support (depending on if you use any commercial extensions). It supports upgrading all the way from any version after 2.8 without breakage. This is unique in the ERP ecosystem and a benefit our users highly appreciate!\n\nFollow these step-by-step instructions to seamlessly upgrade Dolibarr to the latest version:\n\n- At first make a backup of your Dolibarr files & then [see](https://wiki.dolibarr.org/index.php/Installation_-_Upgrade#Upgrade_Dolibarr)\n- Verify that your installed PHP version is supported by the new version [see PHP support](https://wiki.dolibarr.org/index.php/Releases).\n- Overwrite all old files from the 'dolibarr' directory with files provided in the new version's package.\n- At your next access, Dolibarr will redirect you to the \"install/\" page to follow the upgrade process.\n  If an `install.lock` file exists to lock any other upgrade process, the application will ask you to remove the file manually (you should find the `install.lock` file in the directory used to store generated and uploaded documents, in most cases, it is the directory called \"*documents*\").\n\n\n## WHAT'S NEW\n\nSee the [ChangeLog](https://github.com/Dolibarr/dolibarr/blob/develop/ChangeLog) file.\n\n\n## FEATURES\n\n### Main application/modules (all optional)\n\n- Third-Parties Management: Customers, Prospects (Leads) and/or Suppliers + Contacts\n- Members/Membership/Foundation management\n\n Product Management\n\n- Products and/or Services catalogue\n- Stock / Warehouse management + Inventory\n- Barcodes\n- Batches / Lots / Serials\n- Product Variants\n- Bill of Materials (BOM)\n- Manufacturing Orders (MO)\n\n Customer/Sales Management\n\n- Customers/Prospects + Contacts management\n- Opportunities or Leads management\n- Commercial proposals management (online signing)\n- Customer Orders management\n- Contracts/Subscription management\n- Interventions management\n- Ticket System (+ Knowledge management)\n- Partnership management\n- Shipping management\n- Customer Invoices/Credit notes and payment management\n- Point of Sale (POS)\n\n Supplier/Purchase Management\n\n- Suppliers/Vendors + Contacts\n- Supplier (pricing) requests\n- Purchase Orders management\n- Delivery/Reception\n- Supplier Invoices/Credit notes and payment management\n- INCOTERMS\n\n Finance/Accounting\n\n- Invoices/Payments\n- Bank accounts management\n- Direct debit and Credit transfer management (European SEPA)\n- Accounting management\n- Donations management\n- Loan management\n- Margins\n- Reports\n\n Collaboration\n\n- Shared calendar/agenda (with `ical` and `vcal` import/export for third-party tools integration)\n- Projects & Tasks management\n- Event organization\n- Ticket System\n- Surveys\n\n HR - Human Resources Management\n\n- Employee leave management\n- Expense reports\n- Recruitment management\n- Employee/staff management\n- Timesheets\n\n### Other application/modules\n\n- Electronic Document Management (EDM)\n- Bookmarks\n- Reporting\n- Data export/import\n- Barcodes\n- LDAP connectivity\n- ClickToDial integration\n- Mass emailing\n- RSS integration\n- Social platforms linking\n- Payment platforms integration (PayPal, Stripe, Paybox...)\n- Email-Collector\n\n(around 100 modules available by default, 1000+ addons at the official marketplace Dolistore.com)\n\n### Other general features\n\n- Multi-Language Support (Localization in most major languages)\n- Multi-users and groups with finely-grained rights\n- Multi-Currency\n- Multi-Company (by adding an external module)\n- Very user-friendly and easy to use\n- Customizable dashboards\n- Highly customizable: enable only the modules you need, add user personalized fields, choose your skin, several menu managers (can be used by internal users as a back-office with a particular menu, or by external users as a front-office with another one)\n- APIs (REST, SOAP)\n- Code that is easy to understand, maintain and develop (PHP with no heavy framework; trigger and hook architecture)\n- Support a lot of country-specific features:\n  - Spanish Tax RE and IRPF\n  - French NPR VAT rate (VAT called \"Non Perçue Récupérable\" for DOM-TOM)\n  - Canadian double taxes (federal/province) and other countries using cumulative VAT\n  - Tunisian tax stamp\n  - Argentina invoice numbering using A,B,C...\n  - Greece fetch customer vat details from AADE, all invoice types, MyData(external free module)\n  - ZATCA e-invoicing QR-Code\n  - Compatible with [European directives](https://europa.eu/legislation_summaries/taxation/l31057_en.htm) (2006/112/CE ... 2010/45/UE)\n  - Compatible with data privacy rules (Europe's GDPR, ...)\n  - ...\n- Flexible PDF & ODT generation for invoices, proposals, orders...\n- ...\n\n### System Environment / Requirements\n\n- PHP\n- MariaDB, MySQL or PostgreSQL\n- Compatible with all Cloud solutions that match PHP & MySQL or PostgreSQL prerequisites.\n\nSee exact requirements on the [Wiki](https://wiki.dolibarr.org/index.php/Prerequisite)\n\n### Extending\n\nDolibarr can be extended with a lot of other external applications or modules from third-party developers available at the [DoliStore](https://www.dolistore.com).\n\n\n## WHAT DOLIBARR CAN'T DO YET\n\nThese are features that Dolibarr does **not** yet fully support:\n\n- Tasks dependencies in projects\n- Payroll module\n- Native embedded Webmail, but you can send email to contacts in Dolibarr with e.g. offers, invoices, etc.\n- Dolibarr can't do coffee (yet)\n\n\n## DOCUMENTATION\n\nAdministrator, user, developer and translator's documentation are available along with other community resources in the [Wiki](https://wiki.dolibarr.org).\n\n\n## CONTRIBUTING\n\nThis project exists thanks to all the people who contribute.\nPlease read the instructions on how to contribute (report a bug/error, a feature request, send code, ...)  [[Contributing](https://github.com/Dolibarr/dolibarr/blob/develop/.github/CONTRIBUTING.md)]\n\nA View on Contributors:\n\n[![Dolibarr](https://opencollective.com/dolibarr/contributors.svg?width=890&button=false)](https://github.com/Dolibarr/dolibarr/graphs/contributors)\n\n\n## CREDITS\n\nDolibarr is the work of many contributors over the years and uses some fine PHP libraries.\n\nSee [COPYRIGHT](https://github.com/Dolibarr/dolibarr/blob/develop/COPYRIGHT) file.\n\n\n## NEWS AND SOCIAL NETWORKS\n\nFollow Dolibarr project on:\n\n- [Facebook](https://www.facebook.com/dolibarr)\n- [X](https://x.com/dolibarr)\n- [LinkedIn](https://www.linkedin.com/company/association-dolibarr)\n- [Reddit](https://www.reddit.com/r/Dolibarr_ERP_CRM/)\n- [YouTube](https://www.youtube.com/user/DolibarrERPCRM)\n- [GitHub](https://github.com/Dolibarr/dolibarr)\n\n\n## Sponsors\n\nSupport this project by becoming a sponsor. Your logo will show up here. 🙏 [[Become a sponsor/backer](https://opencollective.com/dolibarr#backer)]\n"
        },
        {
          "name": "SECURITY.md",
          "type": "blob",
          "size": 8.3173828125,
          "content": "# Security Policy\n\nThis file contains some policies about the security reports on Dolibarr ERP CRM project, a popular Open Source ERP and CRM used by millions of users.\n\n\n## Supported Versions for security reports\n\nSecurity report are valid only on current stable version (see https://dolibarr.org web site to get current stable version) or on development version (branch \"develop\" on https://github.com/Dolibarr/dolibarr).\n\n\n## Reporting a Vulnerability\n\nTo report a vulnerability, for a private report, you can:\n\n- Send your report on Vulnerability Disclosure Program (VDP): Link will be updated soon (recommended for everybody)\n<!--\n- Send your report on Vulnerability Disclosure Program (VDP) [https://app.yogosha.com/cvd/dolibarr/10VxeNx6Ui3rSEhAgX63US](https://app.yogosha.com/cvd/dolibarr/10VxeNx6Ui3rSEhAgX63US) (recommended for everybody)\n- Or if you have permissions, use GitHub security advisory at [https://github.com/Dolibarr/dolibarr/security/advisories/new](https://github.com/Dolibarr/dolibarr/security/advisories/new)\n-->\n- Or send an email to security@dolibarr.org with clear textual description of the report along with steps to reproduce the issue, include attachments such as screenshots or proof of concept code as necessary.\n\n\n## Hunting vulnerabilities on Dolibarr\n\nWe believe that the future of software is online SaaS. This means software are more and more critical and no technology is perfect. Working with skilled security researchers is crucial in identifying weaknesses in our technology.\n\nIf you believe you've found a security bug in our service, we are happy to work with you to resolve the issue promptly and ensure you are fairly rewarded for your discovery.\n\nAny type of denial-of-service attack is strictly forbidden, as well as any interference with network equipment and Dolibarr infrastructure.\n\nWe recommend to install Dolibarr ERP CRM on your own server (as most Open Source software, download and use is free: [https://www.dolibarr.org/download](https://www.dolibarr.org/download)) to get access on every side of application.\n\n### User Agent\n\nIf you try to find bug on Dolibarr, we recommend to append to your user-agent header the following value: '-securitytest-for-dolibarr'.\n\n### Account access\n\nYou can install the web application yourself on your own platform/server so you get full access to application and sources. Download the zip of the files to put in your own web server virtual host from [https://www.dolibarr.org/download](https://www.dolibarr.org/download)\n\n\n## Eligibility and Responsible Disclosure\n\nWe are happy to thank everyone who submits valid reports which help us improve the security of Dolibarr, however only those that meet the following eligibility requirements will be \"validated reports\" (if not, we may close the report without any answer):\n\nYou must be the first reporter of the vulnerability (duplicate reports are closed).\n\nYou must avoid tests that could cause degradation or interruption of our service (refrain from using automated tools, and limit yourself about requests per second), that's why we recommend to install software on your own platform.\n\nYou must not leak, manipulate, or destroy any user data of third parties to find your vulnerability.\n\nReports are processed around once a month.\n\n\n## Scope for qualified vulnerabilities\n\nONLY vulnerabilities discovered, when the following setup on test platform is used, are \"valid\":\n\n* The version to analyze must be the last version available in the \"develop\" branch. Reports on vulnerabilities already fixed (so already reported) in the develop branch will not be validated.   \n* $dolibarr_main_prod must be set to 1 in conf.php\n* $dolibarr_nocsrfcheck must be kept to the value 0 in conf.php (this is the default value)\n* $dolibarr_main_force_https must be set to something else than 0.\n* Some constant must be set in the backoffice menu Home - Setup - Other\n  - MAIN_SECURITY_CSRF_WITH_TOKEN must be set to 3 \n  - MAIN_RESTRICTHTML_ONLY_VALID_HTML = 1\n  - MAIN_RESTRICTHTML_ONLY_VALID_HTML_TIDY = 1\n  - MAIN_RESTRICTHTML_REMOVE_ALSO_BAD_ATTRIBUTES = 1 \n  - MAIN_DISALLOW_URL_INTO_DESCRIPTIONS = 1 (only relative links are allowed in descriptions/notes), or 2 (no links are allowed in descriptions/notes)\n  CSRF attacks and HTML injections are accepted but double check this setup that is experimental setup that already fix a lot of case and soon enabled by default.\n* ONLY security reports on modules provided by default and with the \"stable\" status are valid (troubles in \"experimental\", \"development\" or external modules are not valid vulnerabilities).\n* The root of web server must link to htdocs and the documents directory must be outside of the web server root (this is the default when using the default installer but may differs with external installer).\n* The web server setup must be done so that only the documents directory is in write mode and directory listing is not allowed. The directory path htdocs/ must be read-only.\n* The modules DebugBar and ModuleBuilder must NOT be enabled. (by default, these modules are not enabled. They are developer tools)\n* Fail2ban rules for rate limit on the login page, forgotten password page, API calls and all public pages (/public/*) must be installed as recommended in the section \"About - Admin tools - Section Access limits and mitigation\".\n\nScope is the web application (backoffice) and the APIs.\n\n\n## Examples of vulnerabilities that are Qualified for reporting.\n\n* Remote code execution (RCE)\n* Local files access and manipulation (LFI, RFI, XXE, SSRF, XSPA)\n* Code injections (JS, SQL, PHP). HTML are covered only for fields that are not description, notes or comments fields (where rich content is allowed on purpose).\n* Cross-Site Scripting (XSS), except from setup page of module \"External web site\" (allowing any content here, editable by admin user only, is accepted on purpose) and except \n  in the module \"Web site\" when permission to edit website content is allowed (injecting any data in this case is allowed too).\n* Cross-Site Requests Forgery (CSRF) with real security impact (when using GET URLs, CSRF are qualified only for creating, updating or deleting data from pages restricted to admin users)\n* Open redirect\n* Broken authentication & session management\n* Insecure direct object references (IDOR)\n* Cross-Origin Resource Sharing (CORS) with real security impact\n* Horizontal and vertical privilege escalation\n* \"HTTP Host Header\" XSS\n* Software version disclosure (for non-admin users only)\n* Stack traces or path disclosure (for non-admin users only)\n* Ability for a high-level user to edit web site pages in the CMS by including HTML or JavaScript is an expected feature. Vulnerabilities in the website module are validated only \n  if HTML or JavaScript injection can be done by a non-allowed user.\n\n\n## Examples of vulnerabilities that are Non-qualified for reporting.\n\n* Any vulnerabilities due to a configuration different than the one defined in chapter \"Scope for qualified vulnerabilities\".\n* Directory Listing (this is a bad setup of the web server, not a problem into the application)\n* \"Self\" XSS\n* Clickjacking/UI redressing\n* Presence of autocomplete attribute on web forms\n* Logout and other instances of low-severity Cross-Site Request Forgery\n* Reports from automated web vulnerability scanners (Acunetix, Vega, etc.) that have not been validated\n* Reports on features on modules flagged as \"deprecated\", \"experimental\" or \"development\" if the module needs to be enabled for that (this is not the case on production).\n* Software or libraries versions, private IP disclosure, Stack traces or path disclosure when logged-in user is admin.\n* Vulnerabilities affecting outdated browsers or platforms, or vulnerabilities inside browsers themself.\n* Brute force attacks on login page, password forgotten page or any public pages (/public/*) are not qualified if the recommended fail2ban rules were not installed.  \n* SSL/TLS best practices\n* Invalid or missing SPF (Sender Policy Framework) records (Incomplete or missing SPF/DKIM/DMARC)\n* Physical or social engineering attempts or issues that require physical access to a victim’s computer/device\n* Vulnerabilities of type XSS exploited by using javascript into a website page (with permission to edit website pages) or by using php code into a website page\n  using the permission to edit php code are not qualified, except if this allow to get higher privileges (being able to set javascript or php code is the expected behaviour).\n"
        },
        {
          "name": "composer.json.disabled",
          "type": "blob",
          "size": 1.4873046875,
          "content": "{\n\t\"name\" : \"dolibarr/dolibarr\",\n\t\"type\" : \"project\",\n\t\"description\" : \"Dolibarr ERP & CRM is a modern and easy to use web software to manage your business\",\n\t\"keywords\" : [\n\t\t\"erp\",\n\t\t\"crm\",\n\t\t\"invoice\",\n\t\t\"sme\",\n\t\t\"proposal\",\n\t\t\"order\",\n\t\t\"stock\",\n\t\t\"agenda\"\n\t],\n\t\"homepage\" : \"https://www.dolibarr.org\",\n\t\"license\" : \"GPL-3.0-or-later\",\n\t\"support\" : {\n\t\t\"issues\" : \"https://github.com/Dolibarr/dolibarr/issues\",\n\t\t\"forum\" : \"https://www.dolibarr.org/forum\",\n\t\t\"wiki\" : \"https://wiki.dolibarr.org\",\n\t\t\"source\" : \"https://github.com/Dolibarr/dolibarr\"\n\t},\n\t\"config\" : {\n\t\t\"vendor-dir\" : \"htdocs/includes\"\n\t},\n\t\"require\" : {\n\t\t\"php\" : \">=7.1.0\",\n\t\t\"ckeditor/ckeditor\" : \"4.12.1\",\n\t\t\"mike42/escpos-php\" : \"3.0\",\n\t\t\"mobiledetect/mobiledetectlib\" : \"2.8.41\",\n\t\t\"phpoffice/phpspreadsheet\" : \">=1.12\",\n\t\t\"restler/framework\" : \"3.0.0-RC6\",\n\t\t\"tecnickcom/tcpdf\" : \"6.3.2\",\n\t\t\"nnnick/chartjs\" : \"^3.7.1\",\n\t\t\"stripe/stripe-php\" : \"10.7.0\",\n\t\t\"maximebf/debugbar\" : \"1.18.2\"\n\t},\n\t\"require-dev\" : {\n\t},\n\t\"suggest\" : {\n\t\t\"ext-mysqlnd\" : \"To use with MySQL or MariaDB\",\n\t\t\"ext-mysqli\" : \"To use with MySQL or MariaDB\",\n\t\t\"ext-pgsql\" : \"To use with PostgreSQL\",\n\t\t\"ext-gd\" : \"Image manipulation (Required but maybe built-in PHP)\",\n\t\t\"ext-imagick\" : \"Generation of thumbs from PDF\",\n\t\t\"ext-intl\" : \"Intl\",\n\t\t\"ext-openssl\" : \"Secure connections (Emails, SOAP\\u2026)\",\n\t\t\"ext-mbstring\" : \"Handle non UTF-8 characters\",\n\t\t\"ext-soap\" : \"Native SOAP\",\n\t\t\"ext-zip\" : \"ODT, Excel and file compression support\",\n\t\t\"ext-xml\" : \"Excel support\"\n\t}\n}\n"
        },
        {
          "name": "dev",
          "type": "tree",
          "content": null
        },
        {
          "name": "doc",
          "type": "tree",
          "content": null
        },
        {
          "name": "htdocs",
          "type": "tree",
          "content": null
        },
        {
          "name": "phpstan.neon.dist",
          "type": "blob",
          "size": 3.1552734375,
          "content": "includes:\n\t- dev/build/phpstan/phpstan-baseline.neon\nparameters:\n\ttmpDir: ./.github/tmp\n\tparallel:\n\t\t# Commented some of the settings, reminding the defaults:\n\t\t#   should adapt better to target machines\n\t\t# jobSize: 8  # default is 20\n\t\tprocessTimeout: 600.0\n\t\t# maximumNumberOfProcesses: 20  # default is 32\n\t\t# minimumNumberOfJobsPerProcess: 2  # default is 2\n\t\t# buffer: 134217728 # 128 MB  # Not documented\n\tcustomRulesetUsed: true\n\tlevel: 10\n\tfileExtensions:\n\t\t- php\n\tpaths:\n\t\t- htdocs\n\t\t- scripts\n\texcludePaths:\n\t\tanalyseAndScan:\n\t\t- htdocs/custom/*\n\t\t- htdocs/documents/*\n\t\t- htdocs/install/doctemplates/*\n\t\t- htdocs/langs/*\n\t\t- htdocs/modulebuilder/template/test/*\n\t\t- htdocs/support/*\n\t\tanalyse:\n\t\t- htdocs/includes/geoPHP/*\n\t\t- htdocs/includes/markrogoyski/*\n\t\t- htdocs/includes/maximebf/*\n\t\t- htdocs/includes/mike42/*\n\t\t- htdocs/includes/mobiledetect/*\n\t\t- htdocs/includes/nusoap/*\n\t\t- htdocs/includes/OAuth/*\n\t\t- htdocs/includes/odtphp/zip/*\n\t\t- htdocs/includes/parsedown/*\n\t\t- htdocs/includes/php-iban/*\n\t\t- htdocs/includes/phpoffice/*\n\t\t- htdocs/includes/printipp/*\n\t\t- htdocs/includes/Psr/*\n\t\t- htdocs/includes/restler/*\n\t\t- htdocs/includes/sabre/*\n\t\t- htdocs/includes/stripe/*\n\t\t- htdocs/includes/swiftmailer/*\n\t\t- htdocs/includes/symfony/*\n\t\t- htdocs/includes/tcpdi/*\n\t\t- htdocs/includes/tecnickcom/*\n\t\t- htdocs/includes/webklex/*\n\t\t- htdocs/core/class/lessc.class.php\n\t# checkAlwaysTrueCheckTypeFunctionCall: false\n\t# checkAlwaysTrueInstanceof: false\n\t# checkAlwaysTrueStrictComparison: false\n\tcheckClassCaseSensitivity: true\n\tcheckFunctionArgumentTypes: true\n\tcheckFunctionNameCase: true\n\tcheckArgumentsPassedByReference: true\n\tcheckMaybeUndefinedVariables: true\n\tcheckNullables: false\n\tcheckThisOnly: true\n\tcheckUnionTypes: false\n\tcheckExplicitMixedMissingReturn: true\n\treportMaybes: false\n\treportMaybesInMethodSignatures: false\n\treportStaticMethodSignatures: false\n\tpolluteScopeWithLoopInitialAssignments: true\n\tpolluteScopeWithAlwaysIterableForeach: true\n\treportMagicMethods: false\n\treportMagicProperties: false\n\ttreatPhpDocTypesAsCertain: false\n\t# if you want to exclude something, generate the baseline to do that, adding here give the opportunity to add new errors\n\tignoreErrors:\n\t\t- '#.*phan-var#'\n\t\t- '#^Expression \"''…\" on a separate line does not do anything\\.$#'\n\tinternalErrorsCountLimit: 50\n\tcache:\n\t\t# nodesByFileCountMax: 512\n\t\tnodesByStringCountMax: 512\n\treportUnmatchedIgnoredErrors: false\n\tuniversalObjectCratesClasses:\n\t\t- stdClass\n\t\t- SimpleXMLElement\n\tearlyTerminatingMethodCalls: []\n\tdynamicConstantNames:\n\t\t- ICONV_IMPL\n\t\t- PHP_VERSION\n\t\t- PHP_MAJOR_VERSION\n\t\t- PHP_MINOR_VERSION\n\t\t- PHP_RELEASE_VERSION\n\t\t- PHP_VERSION_ID\n\t\t- PHP_EXTRA_VERSION\n\t\t- PHP_ZTS\n\t\t- PHP_DEBUG\n\t\t- PHP_MAXPATHLEN\n\t\t- PHP_OS\n\t\t- PHP_OS_FAMILY\n\t\t- PHP_SAPI\n\t\t- PHP_EOL\n\t\t- PHP_INT_MAX\n\t\t- PHP_INT_MIN\n\t\t- PHP_INT_SIZE\n\t\t- PHP_FLOAT_DIG\n\t\t- PHP_FLOAT_EPSILON\n\t\t- PHP_FLOAT_MIN\n\t\t- PHP_FLOAT_MAX\n\t\t- DEFAULT_INCLUDE_PATH\n\t\t- PEAR_INSTALL_DIR\n\t\t- PEAR_EXTENSION_DIR\n\t\t- PHP_EXTENSION_DIR\n\t\t- PHP_PREFIX\n\t\t- PHP_BINDIR\n\t\t- PHP_BINARY\n\t\t- PHP_MANDIR\n\t\t- PHP_LIBDIR\n\t\t- PHP_DATADIR\n\t\t- PHP_SYSCONFDIR\n\t\t- PHP_LOCALSTATEDIR\n\t\t- PHP_CONFIG_FILE_PATH\n\t\t- PHP_CONFIG_FILE_SCAN_DIR\n\t\t- PHP_SHLIB_SUFFIX\n\t\t- PHP_FD_SETSIZE\n"
        },
        {
          "name": "pyproject.toml",
          "type": "blob",
          "size": 2.5634765625,
          "content": "[build-system]\nrequires = [\"setuptools>=61.2\"]\nbuild-backend = \"setuptools.build_meta\"\n\n[tool.codespell]\n# The configuration must be kept here to ensure that\n# `codespell` can be run as a standalone program from the CLI\n# with the appropriate default options.\n\nskip = \"*/.*/*,*/langs/*,*/dev/build/exe/*,**.log,*.pdf,*.PDF,*dev/resources/*,*.phar,*.z,*.gz,*.sql,*.svg,*htdocs/includes/*,*/textiso.txt,*.js,*README-*,*build/rpm/*spec,*build/pad/*ml,*htdocs/includes/phpoffice/*,*htdocs/includes/tecnickcom/*,*dev/initdemo/removeconfdemo.sh,*dev/tools/codespell/*,*dev/trans*/ignore_translation_keys.lst,*pyproject.toml,*build/exe/*,*fontawe*,*htdocs/theme/*/flags-sprite.inc.php,*dev/setup/codetemplates/codetemplates.xml,*/php.ini,*/html_cerfafr.*,*/lessc.class.php,*.asciidoc,*.xml,*opensurvey/css/style.css,*dev/tools/phan/stubs/*,*/documents,phpstan.*\"\n\ncheck-hidden = true\nquiet-level=2\nignore-regex = '\\\\[fnrstv]'\nbuiltin = \"clear,rare,informal,usage,code,names\"\n\nignore-words = \"dev/tools/codespell/codespell-ignore.txt\"\nexclude-file = \"dev/tools/codespell/codespell-lines-ignore.txt\"\nuri-ignore-words-list=\"ned\"\n\n# For future reference: it is not currently possible to specify\n# the standard dictionnary and the custom dictionnary in the configuration\n# file\n#  D = \"-\"\n#  dictionary = \"dev/tools/codespell/codespell-dict.txt\"\n\n\n[tool.setuptools]\ninclude-package-data = false\n\n# pyproject.toml\n\n[tool.yamlfix]\n# allow_duplicate_keys = true\nline_length = 80\n# none_representation = \"null\"\n# comments_min_spaces_from_content = 2\n# comments_require_starting_space = true\n# whitelines = 0\n# comment_whitelines = 0\n# section_whitelines = 0\n# explicit_start = true\n# sequence_style = keep_style   # flow_style, block_style, keep_style\n# indent_mapping = 2\n# indent_offset = 2\n# indent_sequence = 4\n# none_representation = \"\"\n# quote_basic_values = false\n# YAMLFIX_quote_keys_and_basic_values = false\n# uote_representation = false\n# preserve_quotes = false\n\n[tool.sqlfluff.core]\n# Documentation: https://docs.sqlfluff.com/en/stable/configuration.html#default-configuration\n# (Note: the examples given are for a .ini file and need slight adaptions for pyproject.toml\n\nignore_comment_lines = true\nsql_file_exts = \".sql\"\nencoding = \"utf-8\"\nprocesses = -1\n#verbose = 1\n#exclude_rules = \"LT01,CP01,RF04\"\n# RF04 | Keywords should not be used as identifiers. (rowid, login, position, ...)\nexclude_rules = \"LT01,LT02,LT05,LT12,LT13,CP01,CP02,CP04,CP05,RF04\"\ndialect = \"mysql\"\n# Default byte limit is 20000, must set limit - some files are too big.\nlarge_file_skip_byte_limit = 100000\n\n[tool.sqlfluff.indentation]\nindent_unit = \"tab\"\n"
        },
        {
          "name": "robots.txt",
          "type": "blob",
          "size": 0.0927734375,
          "content": "User-agent: *\nDisallow: /build\nDisallow: /dev\nDisallow: /doc\nDisallow: /scripts\nDisallow: /test"
        },
        {
          "name": "scripts",
          "type": "tree",
          "content": null
        },
        {
          "name": "test",
          "type": "tree",
          "content": null
        }
      ]
    }
  ]
}