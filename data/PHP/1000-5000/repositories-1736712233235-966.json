{
  "metadata": {
    "timestamp": 1736712233235,
    "page": 966,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjk3MA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "Zizaco/confide",
      "stars": 1189,
      "defaultBranch": "master",
      "files": [
        {
          "name": ".coveralls.yml",
          "type": "blob",
          "size": 0.19140625,
          "content": "# .coveralls.yml example configuration\n\n# service name\nservice_name: travis-ci\n\n# for php-coveralls\nsrc_dir: src\ncoverage_clover: build/logs/clover.xml\njson_path: build/logs/coveralls-upload.json\n"
        },
        {
          "name": ".gitattributes",
          "type": "blob",
          "size": 0.2255859375,
          "content": "* text=auto\n\n/tests export-ignore\n/.coveralls.yml export-ignore\n/.gitattributes export-ignore\n/.gitignore export-ignore\n/.travis.yml export-ignore\n/phpunit.xml export-ignore\n/phpunit.xml.dist export-ignore\n/README.md export-ignore\n"
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.0205078125,
          "content": "/vendor\ncomposer.lock"
        },
        {
          "name": ".travis.yml",
          "type": "blob",
          "size": 0.3056640625,
          "content": "language: php\n\nphp:\n  - 5.4\n  - 5.5\n  - 5.6\n  - hhvm\n\nbefore_script:\n  - travis_retry composer self-update\n  - travis_retry composer install --no-interaction --prefer-source --dev\n\nscript:\n  - mkdir -p build/logs\n  - vendor/bin/phpunit -c phpunit.xml.dist --verbose\n\nafter_script:\n  - php vendor/bin/coveralls -v\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 17.8251953125,
          "content": "# Confide _(A Laravel4 Package)_\n\n![Confide Poster](https://dl.dropbox.com/u/12506137/libs_bundles/confide.png)\n\n[![Build Status](https://api.travis-ci.org/Zizaco/confide.png)](https://travis-ci.org/Zizaco/confide)\n[![Coverage Status](https://coveralls.io/repos/Zizaco/confide/badge.png?branch=master)](https://coveralls.io/r/Zizaco/confide?branch=master)\n[![Scrutinizer Code Quality](https://scrutinizer-ci.com/g/Zizaco/confide/badges/quality-score.png)](https://scrutinizer-ci.com/g/Zizaco/confide/)\n[![ProjectStatus](http://stillmaintained.com/Zizaco/confide.png)](http://stillmaintained.com/Zizaco/confide)\n[![Latest Stable Version](https://poser.pugx.org/zizaco/confide/v/stable.png)](https://packagist.org/packages/zizaco/confide)\n[![Total Downloads](https://poser.pugx.org/zizaco/confide/downloads.png)](https://packagist.org/packages/zizaco/confide)\n[![License](https://poser.pugx.org/zizaco/confide/license.png)](http://opensource.org/licenses/MIT)\n\n[![SensioLabsInsight](https://insight.sensiolabs.com/projects/ec420846-0af4-4df4-b424-be90d9c3f98e/small.png)](https://insight.sensiolabs.com/projects/ec420846-0af4-4df4-b424-be90d9c3f98e)\n\nConfide is an authentication solution for **Laravel** made to cut repetitive work involving the management of users. A [DRY](http://en.wikipedia.org/wiki/Don't_repeat_yourself) approach on features like account creation, login, logout, confirmation by e-mail, password reset, etc.\n\nConfide aims to be simple to use, quick to configure and flexible.\n\n> Note: If you are using MongoDB check [Confide Mongo](https://github.com/Zizaco/confide-mongo).\n\n## Features\n\n**Current:**\n- Account confirmation (through confirmation link).\n- Password reset (sending email with a change password link).\n- Easily render forms for login, signup and password reset.\n- Generate routes for login, signup, password reset, confirmation, etc.\n- Generate a customizable controller that handles the basic user account actions.\n- Contains a set of methods to help with basic user features.\n- Integrated with the Laravel _Auth_ and _Reminders_ component/configs.\n- User validation.\n- Login throttling.\n- Redirecting to previous route after authentication.\n- Checks for unique email and username in signup\n\nIf you are looking for user roles and permissions see [Entrust](https://github.com/Zizaco/entrust)\n\nFor MongoDB support see [Confide Mongo](https://github.com/Zizaco/confide-mongo)\n\n**Warning:** _By default a confirmation email is sent and users are required to confirm the email address.\nIt is easy to change this in the confide config file.\nChange `signup_email` and `signup_confirm` to false if you do not want to send them an email and they do not need\nto be confirmed to be able to login to the website._\n\n## Quick start\n\n### Required setup\n\nIn the `require` key of `composer.json` file add the following\n\n```json\n\"zizaco/confide\": \"~4.3@dev\"\n```\n\nRun the Composer update comand\n\n```bash\n$ composer update\n```\n\nIn your `config/app.php` add `'Zizaco\\Confide\\ServiceProvider'` to the end of the `providers` array\n\n```php\n'providers' => array(\n\n    'Illuminate\\Foundation\\Providers\\ArtisanServiceProvider',\n    'Illuminate\\Auth\\AuthServiceProvider',\n    ...\n    'Zizaco\\Confide\\ServiceProvider',\n\n),\n```\n\nAt the end of `config/app.php` add `'Confide' => 'Zizaco\\Confide\\Facade'` to the `aliases` array\n\n```php\n'aliases' => array(\n\n    'App'        => 'Illuminate\\Support\\Facades\\App',\n    'Artisan'    => 'Illuminate\\Support\\Facades\\Artisan',\n    ...\n    'Confide'    => 'Zizaco\\Confide\\Facade',\n\n),\n```\n\n### Configuration\n\nSet the properly values to the `config/auth.php`. This values will be used by confide to generate the database migration and to generate controllers and routes.\n\nSet the `address` and `name` from the `from` array in `config/mail.php`. Those will be used to send account confirmation and password reset emails to the users.\n\n<a name=\"user-model\"></a>\n### User model\n\nNow generate the Confide migration and the reminder password table migration:\n\n```bash\n$ php artisan confide:migration\n```\n\nIt will generate the `<timestamp>_confide_setup_users_table.php` migration. You may now run it with the artisan migrate command:\n\n```bash\n$ php artisan migrate\n```\n\nIt will setup a table containing `email`, `password`, `remember_token`, `confirmation_code` and `confirmed` columns, which are the default fields needed for Confide use. Feel free to add more columns to the table later.\n\nChange your User model in `app/models/User.php` to:\n\n```php\n<?php\n\nuse Zizaco\\Confide\\ConfideUser;\nuse Zizaco\\Confide\\ConfideUserInterface;\n\nclass User extends Eloquent implements ConfideUserInterface\n{\n    use ConfideUser;\n}\n```\n\n`ConfideUser` trait will take care of some behaviors of the user model.\n\n### Dump the default accessors\n\nLastly, you can dump a default controller, repository and the default routes for Confide.\n\n```bash\n$ php artisan confide:controller\n$ php artisan confide:routes\n```\n\nDon't forget to dump composer autoload\n\n```bash\n$ composer dump-autoload\n```\n\n**And you are ready to go.** Access `http://yourapp/users/create` to create your first user. Check the `app/routes.php` to see the available routes. **You may need to confirm a newly created user** _(by \"reaching\" its `confirm()` method)_, otherwise you can disable the confirmation as a requirement to login in in the config file _(see bellow)_.\n\n\n## Usage in detail\n\n**Basic setup:**\n\n1. Database connection in `config/database.php` running properly.\n2. Correct model and table names in `config/auth.php`. They will be used by Confide all the time _(specially when generating migrations and controllers)_.\n3. `from` configuration in `config/mail.php`.\n\n**Configuration:**\n\n1. `'Zizaco\\Confide\\ServiceProvider'` and `'Confide' => 'Zizaco\\Confide\\Facade'` entry in `config/app.php` `'providers'` and `'aliases'` respectively.\n2. User model (with the same name as in `config/auth.php`) should implement `Zizaco\\Confide\\ConfideUserInterface` interface. This will cause to methods like `forgotPassword()` and `confirm()` to be available.\n\n**Optional steps:**\n\n1. Optionally you can use the trait `Zizaco\\Confide\\ConfideUser` in your user model. This will save a lot of time and will use \"confide's default\" implementation for the user. If you wish more customization you can write your own code.\n2. Use `Confide` facade to dump login and signup forms easly with `makeLoginForm()` and `makeSignupForm()`. You can render the forms within your views by doing `{{ Confide::makeLoginForm()->render() }}`.\n3. Generate a **controller** and a **repository** with the template contained in Confide throught the artisan command `$ php artisan confide:controller`. If a controller with the same name exists it will **NOT** be overwritten.\n4. Generate routes matching the controller template throught the artisan command `$ php artisan confide:routes`. Don't worry, your `routes.php` will **NOT** be overwritten.\n\n### Advanced\n\n#### The `UserRepository` class\n\nYou may have noticed that when generating the controller a `UserRepository` class has also been created. This class contains some code that doesn't belong to the \"controller\" purpose and will make your users controller a cleaner and more testable class. If you still have no idea why that class exists I recommend you to google _\"Creating flexible Controllers in Laravel 4 using Repositories\"_. _(wink)_\n\n#### Using custom class, table or model name\n\nYou can change the model name that will be considered the user in the `config/auth.php` file.\nConfide uses the values present in that configuration file.\n\nTo change the controller name when dumping the default controller template you can use the --name option.\n\n```bash\n$ php artisan confide:controller --name=Employee\n```\n\nWill result in `EmployeeController`\n\nThen, when dumping the routes, you should use the --controller option to match the existing controller.\n\n```bash\n$ php artisan confide:routes --controller=Employee\n```\n\nYou can also generate controllers with namespace\n\n```bash\n$ php artisan confide:controller --name=MyProject\\\\Auth\\\\User\n```\n\n**Warning:** In bash, you will need to use double '\\\\\\\\' backslashes. This will result in `MyProject\\Auth\\UserController`. Also the generated file will be inside a directory equivalent to the namespace. _(wink)_\n\n#### Using custom form or emails\n\nFirst, publish the config files:\n\n```bash\n$ php artisan config:publish zizaco/confide\n```\n\nThen edit the view names in `app/config/packages/zizaco/confide/config.php`.\n\n#### Seeding\n\nTo seed your users table you should fill also the `password_confirmation` and `confirmation_code` fields. For example:\n\n```php\nclass UsersTableSeeder extends Seeder {\n\n    public function run()\n    {\n        $user = new User;\n        $user->email = 'johndoe@site.dev';\n        $user->password = 'foo_bar_1234';\n        $user->password_confirmation = 'foo_bar_1234';\n        $user->confirmation_code = md5(uniqid(mt_rand(), true));\n        $user->confirmed = 1;\n\n        if(! $user->save()) {\n            Log::info('Unable to create user '.$user->email, (array)$user->errors());\n        } else {\n            Log::info('Created user '.$user->email);\n        }\n    }\n}\n```\n\n#### Custom user validation\n\nYou can implement your own validator by creating a class that implements the `UserValidatorInterface` and registering that class as *\"confide.user_validator\"*.\n\nFor example, create your custom validator class:\n\n```php\n// app/models/MyOwnValidator.php\nclass MyOwnValidator implements UserValidatorInterface\n{\n\n    public function validate(ConfideUserInterface $user)\n    {\n        unset($user->password_confirmation);\n        return true; // If the user valid\n    }\n}\n```\n\nThen register it in IoC container as *\"confide.user_validator\"*\n\n```php\n// app/start/global.php\n//...\nApp::bind('confide.user_validator', 'MyOwnValidator');\n```\n\nAlso, don't forget that your validator should unset the 'password_confirmation' attribute of the user before saving it.\n\n#### Passing additional information to the \"make\" methods\n\nIf you want to pass additional parameters to the forms being rendered, you can use an alternate syntax to achieve this.\n\nInstead of using the make method:\n\n```php\nConfide::makeResetPasswordForm($token):\n```\n\nYou would use:\n\n```php\nView::make(Config::get('confide::reset_password_form'))\n    ->with('token', $token);\n```\n\nIt produces the same output, but you would be able to add more inputs using 'with' just like any other view.\n\n#### RESTful controller\n\nIf you want to generate a [RESTful controller](https://github.com/laravel/docs/blob/master/controllers.md#restful-controllers) you can use the aditional `--restful` or `-r` option.\n\n```bash\n$ php artisan confide:controller --restful\n```\n\nWill result in a [RESTful controller](https://github.com/laravel/docs/blob/master/controllers.md#restful-controllers)\n\nThen, when dumping the routes, you should use the --restful option to match the existing controller.\n\n```bash\n$ php artisan confide:routes --restful\n```\n\n#### User roles and permissions\n\nIn order not to bloat Confide with not related features, the role and permission was developed as another package: [Entrust](https://github.com/Zizaco/entrust). Enstrust couples very well with Confide.\n\nSee [Entrust](https://github.com/Zizaco/entrust)\n\n#### Redirecting to previous route after login\n\nWhen defining your filter you should use the Redirect::guest('users/login') within your auth filter. For example:\n\n```php\n// filters.php\n\nRoute::filter('auth', function () {\n    // If the user is not logged in\n    if (Auth::guest()) {\n        return Redirect::guest('users/login');\n    }\n});\n\n// Only authenticated users will be able to access routes that begins with\n// 'admin'. Ex: 'admin/posts', 'admin/categories'.\nRoute::when('admin*', 'auth');\n```\n\nor, if you are using [Entrust](https://github.com/Zizaco/entrust) ;)\n\n```php\n// filters.php\n\nEntrust::routeNeedsRole('admin*', 'Admin', function () {\n    return Redirect::guest('users/login');\n});\n```\n\nFinally, it'll auto redirect if your controller's users/login function uses Redirect:intended('a/default/url/here') after a successful login.\nThe [generated controller](https://github.com/Zizaco/confide/blob/master/src/views/generators/controller.blade.php) does exactly this.\n\n## Troubleshooting\n\n__[2014-07-18 01:13:15] production.ERROR: exception 'Illuminate\\Database\\QueryException' with message 'SQLSTATE[42S22]: Column not found: 1054 Unknown column 'password_confirmation' in 'field list' (SQL: insert into \\`users\\` ...__\n\nThe `password_confirmation` attribute should be removed from the object before being sent to the database. Make sure your user model implement the `ConfideUserInterface` and that it use the `ConfideUser` trait [as described above](#user-model). Otherwise if you are using a custom validator, you will have to unset `password_confirmation` before saving the user.\n\n__I need my users to have an *\"username\"*__\n\nUse the `--username` option when generating the confide migration and the controller.\n\n    $ php artisan confide:migration --username\n    ...\n    $ php artisan confide:controller --username\n\nIf you want to make the username a required field you will have to [extend the `UserValidator`](#custom-user-validation) and overwrite the `$rules` attribute making the _\"username\"_ `required`.\n\n__I receive a \"Your account may not be confirmed\" when trying to login__\n\nYou need to confirm a newly created user _(by \"reaching\" its `confirm()` method)_, otherwise you can disable the confirmation as a requirement to login in in the config file _(see bellow)_. You can easly confirm an user manually using Laravel's `artisan tinker` tool.\n\n__I'm not able to generate a controller with namespaces__\n\nIn bash, you will need to use double '\\\\\\\\' backslashes. Also the generated file will be inside a directory equivalent to the namespace:\n\n    $ php artisan confide:controller --name=MyProject\\\\Auth\\\\User\n\n__Users are able to login without confirming account__\n\nIf you want only confirmed users to login, in your `UserController`, instead of simply calling `logAttempt( $input )`, call `logAttempt( $input, true )`. The second parameter stands for _\"confirmed_only\"_.\n\n__My application is crashing since I ran composer update__\n\n*Confide 4.0.0* was a huge update where all the codebase has been rewritten. Some classes changed, the generators has been improved in order to match some better practices (like repositories and separated validator classes). See the _Release Notes_ bellow.\n\nIf you have a legacy project that uses an older version of Confide, don't worry. You will be always able to specify a previous version in your `composer.json` file.\n\nFor example: `\"zizaco/confide\": \"~3.2\"` will avoid composer download version 4.0 but will be able to download bugfixes of version 3.2.\n\n## Release Notes\n\n### Version 4.3.0 Beta 1\n* **Username is now an optional field.** Use `--username` when generating the migrations and the controllers.\n* General Bugfixes.\n\n### Version 4.2.0\n* General Bugfixes.\n* Improved README.md.\n* Improved existing translations and added new ones.\n\n### Version 4.0.0 RC\n* General Bugfixes.\n* Improved README.md.\n* Confide can use queues for sending email.\n* Account confirmation tokens are not time-based anymore.\n\n### [Version 4.0.0 Beta 3](https://github.com/Zizaco/confide/pull/209)\n* Now you can customize how long will take for a password reset request to expire (default to 7 hours).\n* Reordered validations\n* Now all validations are called even if one of them fails. So all validation messages are sent at once.\n* `validateIsUnique` method now sends key to attachErrorMsg and also check for errors on each `$identity` field at once\n\n### Version 4.0.0 Beta 2\n* UserValidator now adds errors to an existing MessageBag instead of replacing it.\n* Password reset token will expire after 7 days.\n* Added support for custom connections using the $connection attribute of the model.\n* Password reset requests are deleted after being used.\n\n### Version 4.0.0 Beta 1\n* Dropped Ardent dependency.\n* Updated to support Laravel 4.2\n* Dropped support for PHP 5.3\n* ConfideUser is going to be a trait+interface from now on.\n* Controller generation now also generates an UserRepository class.\n* Removed deprecated variables, functions and classes.\n* All the codebase has been rewritten.\n\n__Upgrade note:__ A partial update from previous versions is not recommended. In order to upgrade from v3.* to v4.0.0 the best approach is to update the class names in the providers and aliases array, re-generate the user table with the new migration, re-write the \"user\" class and finally re-generate the controllers. It's very likely any customization made in your codebase will be affected.\n\n### Version 3.0.0\nUpdated to support Laravel 4.1\n\n### Version 2.0.0 Beta 4\nRemoved deprecated variable and functions.\n* $updateRules\n* amend()\n* generateUuid\n* getUpdateRules\n* prepareRules\n* getRules\n* setUpdateRules\n* getUserFromCredsIdentity\n* checkUserExists\n* isConfirmed\n\nAdds two config values\n* login_cache_field (#161)\n* throttle_time_period (#162)\n\n### Version 2.0.0 Beta 3\nReadme Update\n\n### Version 2.0.0 Beta 2\nPulls in a few pull requests and also locks to Ardent 2.1.x\n* Properly handles validation messaging (#124)\n* Properly validates in real_save (#110)\n* Auth redirect is handled using Redirect::guest instead of a custom session variable (#145)\n* Bruteforce vulnerability is addressed. (#151)\n\n### Version 2.0.0 Beta 2\nLocked to Ardent 1.1.x\n\n### Version 1.1.0\n\n## Contributing\n\nFeel free to fork this project on [GitHub](https://github.com/Zizaco/confide)\n\n### Coding Standards\nWhen contibuting code to confide, you must follow its coding standards. Confide follows the standard defined in the [PSR-2](http://www.php-fig.org/psr/psr-2/) document.\n\n### Documentation\n* Add PHPDoc blocks for all classes, methods, and functions\n* Omit the `@return` tag if the method does not return anything\n* Add a blank line before `@param`, `@return` and `@throws`\n\n## License\n\nConfide is free software distributed under the terms of the MIT license\n\n## Aditional information\n\nAny questions, feel free to contact me or ask [here](http://forums.laravel.io/viewtopic.php?id=4658)\n\nAny issues, please [report here](https://github.com/Zizaco/confide/issues)\n"
        },
        {
          "name": "composer.json",
          "type": "blob",
          "size": 1.11328125,
          "content": "{\n    \"name\": \"zizaco/confide\",\n    \"description\": \"Confide is an authentication solution for Laravel 4\",\n    \"keywords\": [\"laravel\",\"illuminate\",\"auth\"],\n    \"license\": \"MIT\",\n    \"authors\": [\n        {\n            \"name\": \"Zizaco Zizuini\",\n            \"homepage\": \"http://www.zizaco.net\"\n        },\n        {\n            \"name\": \"Andrew Elkins\",\n            \"homepage\": \"http://www.andrewelkins.com\"\n        }\n    ],\n    \"require\": {\n        \"php\": \">=5.4.0\",\n        \"illuminate/support\": \"~4.2|~5.0\"\n    },\n    \"require-dev\": {\n        \"phpunit/phpunit\": \"~4.0\",\n        \"mockery/mockery\": \"~0.9\",\n        \"illuminate/auth\": \"~4.2\",\n        \"illuminate/console\": \"~4.2\",\n        \"illuminate/database\": \"~4.2\",\n        \"satooshi/php-coveralls\": \"~0.6\"\n    },\n    \"suggest\": {\n        \"zizaco/entrust\":\"add Role-based Permissions to Laravel 4\"\n    },\n    \"autoload\": {\n        \"classmap\": [\n            \"src/migrations\",\n            \"src/commands\"\n        ],\n        \"psr-4\": {\n            \"Zizaco\\\\Confide\\\\\": \"src/Confide/\"\n        }\n    },\n    \"extra\": {\n        \"branch-alias\": {\n            \"dev-master\": \"4.3-dev\"\n        }\n    }\n}\n"
        },
        {
          "name": "phpunit.xml",
          "type": "blob",
          "size": 0.7744140625,
          "content": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<phpunit backupGlobals=\"false\"\n         backupStaticAttributes=\"false\"\n         bootstrap=\"vendor/autoload.php\"\n         colors=\"true\"\n         convertErrorsToExceptions=\"true\"\n         convertNoticesToExceptions=\"true\"\n         convertWarningsToExceptions=\"true\"\n         processIsolation=\"false\"\n         stopOnFailure=\"false\"\n         syntaxCheck=\"false\"\n>\n    <filter>\n        <whitelist processUncoveredFilesFromWhitelist=\"true\">\n            <directory suffix=\".php\">./src/Confide</directory>\n            <directory suffix=\".php\">./src/commands</directory>\n        </whitelist>\n    </filter>\n    <testsuites>\n        <testsuite name=\"Package Test Suite\">\n            <directory>./tests/</directory>\n        </testsuite>\n    </testsuites>\n</phpunit>\n"
        },
        {
          "name": "phpunit.xml.dist",
          "type": "blob",
          "size": 0.8701171875,
          "content": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<phpunit backupGlobals=\"false\"\n         backupStaticAttributes=\"false\"\n         bootstrap=\"vendor/autoload.php\"\n         colors=\"true\"\n         convertErrorsToExceptions=\"true\"\n         convertNoticesToExceptions=\"true\"\n         convertWarningsToExceptions=\"true\"\n         processIsolation=\"false\"\n         stopOnFailure=\"false\"\n         syntaxCheck=\"false\"\n>\n    <filter>\n        <whitelist processUncoveredFilesFromWhitelist=\"true\">\n            <directory suffix=\".php\">./src/Confide</directory>\n            <directory suffix=\".php\">./src/commands</directory>\n        </whitelist>\n    </filter>\n    <testsuites>\n        <testsuite name=\"Package Test Suite\">\n            <directory>./tests/</directory>\n        </testsuite>\n    </testsuites>\n    <logging>\n        <log type=\"coverage-clover\" target=\"build/logs/clover.xml\"/>\n    </logging>\n</phpunit>\n"
        },
        {
          "name": "src",
          "type": "tree",
          "content": null
        },
        {
          "name": "tests",
          "type": "tree",
          "content": null
        }
      ]
    }
  ]
}