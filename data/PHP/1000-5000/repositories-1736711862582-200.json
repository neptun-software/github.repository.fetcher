{
  "metadata": {
    "timestamp": 1736711862582,
    "page": 200,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjIwMA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "spatie/laravel-analytics",
      "stars": 3123,
      "defaultBranch": "main",
      "files": [
        {
          "name": ".editorconfig",
          "type": "blob",
          "size": 0.3037109375,
          "content": "; This file is for unifying the coding style for different editors and IDEs.\n; More information at http://editorconfig.org\n\nroot = true\n\n[*]\ncharset = utf-8\nindent_size = 4\nindent_style = space\nend_of_line = lf\ninsert_final_newline = true\ntrim_trailing_whitespace = true\n\n[*.md]\ntrim_trailing_whitespace = false"
        },
        {
          "name": ".gitattributes",
          "type": "blob",
          "size": 0.3525390625,
          "content": "# Path-based git attributes\n# https://www.kernel.org/pub/software/scm/git/docs/gitattributes.html\n\n# Ignore all test and documentation with \"export-ignore\".\n/.gitattributes     export-ignore\n/.gitignore         export-ignore\n/.travis.yml        export-ignore\n/phpunit.xml.dist   export-ignore\n/tests              export-ignore\n/.editorconfig      export-ignore\n"
        },
        {
          "name": ".github",
          "type": "tree",
          "content": null
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.060546875,
          "content": "build\ncomposer.lock\ndocs\nvendor\n.phpunit.result.cache\n/.idea/\n"
        },
        {
          "name": ".phpunit.cache",
          "type": "tree",
          "content": null
        },
        {
          "name": "CHANGELOG.md",
          "type": "blob",
          "size": 9.8193359375,
          "content": "# Changelog\n\nAll notable changes to Laravel-Analytics will be documented in this file\n\n## 5.5.0 - 2024-12-11\n\n### What's Changed\n\n* Ability to run realtime reports from GA4 by @jaroslavstefanec in https://github.com/spatie/laravel-analytics/pull/528\n\n### New Contributors\n\n* @jaroslavstefanec made their first contribution in https://github.com/spatie/laravel-analytics/pull/528\n\n**Full Changelog**: https://github.com/spatie/laravel-analytics/compare/5.4.0...5.5.0\n\n## 5.4.0 - 2024-07-22\n\n### What's Changed\n\n* Bump aglipanci/laravel-pint-action from 2.3.1 to 2.4 by @dependabot in https://github.com/spatie/laravel-analytics/pull/521\n* feat: add new param 'metricFilter' in signature method 'get' by @laudefe in https://github.com/spatie/laravel-analytics/pull/523\n* Bump dependabot/fetch-metadata from 1.6.0 to 2.2.0 by @dependabot in https://github.com/spatie/laravel-analytics/pull/525\n\n### New Contributors\n\n* @laudefe made their first contribution in https://github.com/spatie/laravel-analytics/pull/523\n\n**Full Changelog**: https://github.com/spatie/laravel-analytics/compare/5.3.0...5.4.0\n\n## 5.3.0 - 2024-03-12\n\n### What's Changed\n\n* Allow carbon 3 by @oriceon in https://github.com/spatie/laravel-analytics/pull/516\n\n### New Contributors\n\n* @oriceon made their first contribution in https://github.com/spatie/laravel-analytics/pull/516\n\n**Full Changelog**: https://github.com/spatie/laravel-analytics/compare/5.2.1...5.3.0\n\n## 5.2.1 - 2024-02-12\n\n### What's Changed\n\n* Bump aglipanci/laravel-pint-action from 2.3.0 to 2.3.1 by @dependabot in https://github.com/spatie/laravel-analytics/pull/513\n* Add support for laravel 11 by @shuvroroy in https://github.com/spatie/laravel-analytics/pull/514\n\n**Full Changelog**: https://github.com/spatie/laravel-analytics/compare/5.2.0...5.2.1\n\n## 5.2.0 - 2024-01-03\n\n### What's Changed\n\n* feat: period macroable by @Muetze42 in https://github.com/spatie/laravel-analytics/pull/511\n* Bump stefanzweifel/git-auto-commit-action from 4 to 5 by @dependabot in https://github.com/spatie/laravel-analytics/pull/504\n* Bump actions/checkout from 3 to 4 by @dependabot in https://github.com/spatie/laravel-analytics/pull/502\n\n### New Contributors\n\n* @Muetze42 made their first contribution in https://github.com/spatie/laravel-analytics/pull/511\n\n**Full Changelog**: https://github.com/spatie/laravel-analytics/compare/5.1.0...5.2.0\n\n## 5.1.0 - 2023-10-25\n\n### What's Changed\n\n- Updated example env value key in README.md by @khsuzan in https://github.com/spatie/laravel-analytics/pull/503\n- Added method to fetch the top countries & top operating systems by @stijnvanouplines in https://github.com/spatie/laravel-analytics/pull/506\n\n### New Contributors\n\n- @khsuzan made their first contribution in https://github.com/spatie/laravel-analytics/pull/503\n- @stijnvanouplines made their first contribution in https://github.com/spatie/laravel-analytics/pull/506\n\n**Full Changelog**: https://github.com/spatie/laravel-analytics/compare/5.0.3...5.1.0\n\n## 5.0.3 - 2023-07-10\n\n### What's Changed\n\n- Bump dependabot/fetch-metadata from 1.5.1 to 1.6.0 by @dependabot in https://github.com/spatie/laravel-analytics/pull/497\n- Adds a $keepEmptyRows parameter to get the empty rows too. by @golchha21 in https://github.com/spatie/laravel-analytics/pull/494\n\n### New Contributors\n\n- @golchha21 made their first contribution in https://github.com/spatie/laravel-analytics/pull/494\n\n**Full Changelog**: https://github.com/spatie/laravel-analytics/compare/5.0.2...5.0.3\n\n## 5.0.2 - 2023-05-30\n\n### What's Changed\n\n- Bump aglipanci/laravel-pint-action from 0.1.0 to 2.2.0 by @dependabot in https://github.com/spatie/laravel-analytics/pull/477\n- Bump dependabot/fetch-metadata from 1.4.0 to 1.5.0 by @dependabot in https://github.com/spatie/laravel-analytics/pull/488\n- Bump dependabot/fetch-metadata from 1.5.0 to 1.5.1 by @dependabot in https://github.com/spatie/laravel-analytics/pull/489\n- Bump aglipanci/laravel-pint-action from 2.2.0 to 2.3.0 by @dependabot in https://github.com/spatie/laravel-analytics/pull/490\n- Extend Analytics::get with dimensionFilter parameter by @gmbenedek in https://github.com/spatie/laravel-analytics/pull/487\n\n### New Contributors\n\n- @gmbenedek made their first contribution in https://github.com/spatie/laravel-analytics/pull/487\n\n**Full Changelog**: https://github.com/spatie/laravel-analytics/compare/5.0.1...5.0.2\n\n## 5.0.1 - 2023-05-17\n\n- Adds an `$offset` paramter to the get method and all methods that already accepted a `$limit` paramter.\n\n## 5.0.0 - 2023-04-06\n\n### What's Changed\n\n- Analytics API v4 by @timvandijck in https://github.com/spatie/laravel-analytics/pull/475\n\n### New Contributors\n\n- @timvandijck made their first contribution in https://github.com/spatie/laravel-analytics/pull/475\n\n**Full Changelog**: https://github.com/spatie/laravel-analytics/compare/4.1.1...5.0.0\n\n## 4.1.1 - 2023-02-01\n\n### What's Changed\n\n- Updated instructions by @CaddyDz in https://github.com/spatie/laravel-analytics/pull/446\n- Feature: Convert PHPUnit tests to PestPHP by @mansoorkhan96 in https://github.com/spatie/laravel-analytics/pull/456\n- Feature: Betterify Tests by @mansoorkhan96 in https://github.com/spatie/laravel-analytics/pull/457\n- Add PHP 8.2 Tests Support by @patinthehat in https://github.com/spatie/laravel-analytics/pull/465\n- Enable Dependabot Automation by @patinthehat in https://github.com/spatie/laravel-analytics/pull/464\n- Bump dependabot/fetch-metadata from 1.3.5 to 1.3.6 by @dependabot in https://github.com/spatie/laravel-analytics/pull/471\n- Bump actions/checkout from 2 to 3 by @dependabot in https://github.com/spatie/laravel-analytics/pull/468\n- Laravel 10.x Compatibility by @laravel-shift in https://github.com/spatie/laravel-analytics/pull/472\n\n### New Contributors\n\n- @dependabot made their first contribution in https://github.com/spatie/laravel-analytics/pull/471\n\n**Full Changelog**: https://github.com/spatie/laravel-analytics/compare/4.1.0...4.1.1\n\n## 4.1.0 - 2022-01-12\n\nAllow Laravel 9\n\n## 4.0.1 - 2021-06-10\n\n- allow \"Google_Service_Analytics_GaData\" return type for performQuery methods (#402)\n\n## 4.0.0 - 2021-03-26\n\n- support PHP 8+\n- drop support for PHP 7.x\n- use PHP 8 syntax where possible\n\n## 3.11.0 - 2021-03-04\n\n- widened DateTime to DateTimeInterface to allow immutables usage (#390)\n\n## 3.10.2 - 2020-11-28\n\n- add support for PHP 8\n\n## 3.10.1 - 2020-09-09\n\n- Add support for Laravel 8\n\n## 3.10.0 - 2020-06-26\n\n- Create getter for $viewId in Analytics Class\n\n## 3.9.0 - 2020-03-03\n\n- add support for Laravel 7\n\n## 3.8.1 - 2019-11-23\n\n- allow symfony 5 components\n\n## 3.8.0 - 2019-09-04\n\n- add support for Laravel 6\n- use Symfony's PSR-16 cache adapter\n\n## 3.7.1 - 2019-03-05\n\n- fix cache lifetime\n\n## 3.7.0 - 2019-02-27\n\n- drop support for Laravel 5.7 and lower\n- drop support for PHP 7.1 and lower\n\n## 3.6.3 - 2019-02-27\n\n- add support for Laravel 5.8\n\n## 3.6.2 - 2018-08-24\n\n- add support for Laravel 5.7\n\n## 3.6.1 - 2018-05-04\n\n- fix infinite loop\n\n## 3.6.0 - 2018-04-30\n\n- add pagination to `performQuery`\n\n## 3.5.0 - 2018-03-17\n\n- `service_account_credentials_json` now also accepts an array\n\n## 3.4.1 - 2018-02-08\n\n- add compatibility with Laravel 5.6\n\n## 3.4.0 - 2018-01-08\n\n- allow dynamic modification of config\n\n## 3.3.0 - 2017-11-03\n\n- add `months` and `years` methods to `Period`\n\n## 3.2.0 - 2017-10-30\n\n- add `fetchUserTypes`\n\n## 3.1.0 - 2017-08-31\n\n- add compatibility with Laravel 5.5\n\n## 3.0.1 - 2017-06-16\n\n- make publishing the config file optional\n\n## 3.0.0 - 2016-08-23\n\n- add support for `v2` of the Google API\n- renamed config file from `laravel-analytics.php` to `analytics.php`\n- dropped support for anything lower than Laravel 5.4\n\n## 2.4.0 - 2017-01-23\n\n- add support for Laravel 5.4\n- dropped support for anything lower than Laravel 5.3\n\n## 2.3.1 - 2016-10-14\n\n- improve exception message\n\n## 2.3.0 - 2016-10-20\n\n- added `fetchTotalVisitorsAndPageViews`\n\n## 2.2.2 - 2016-08-23\n\n- added L5.3 compatibility\n\n## 2.2.1 - 2016-08-02\n\n- added a fallback for the cache path setting\n\n## 2.2.0 - 2016-07-23\n\n- added config setting to specify cache path\n\n## 2.1.0 - 2016-06-22\n\n- added `pageTitle` to `fetchVisitorsAndPageViews` and `fetchMostVisitedPages`\n- fixed `credentialsJsonDoesNotExist` exception\n\n## 2.0.0 - 2016-06-20\n\n- refactored all methods\n- introduced `Spatie\\Analytics\\Period` to specify date ranges\n- the package now uses json credentials instead of .p12 file\n- the `Spatie\\Analytics\\Analtyics` class is much easier to extend\n\n## 1.4.1 - 2016-05-12\n\n- fixes a bug introduced in 1.4.0 where the check whether a p12 certificate is present was broken\n\n## 1.4.0 - 2016-05-11\n\n**This version does not work, please upgrade to 1.4.0**\n\n- removing the use of facades\n\n## 1.3.1\n\n- make `calculateNumberOfDays`-function protected\n\n## 1.3.0\n\n- Added method getSiteId()\n\n## 1.2.3\n\n- Fix PHP 5.4 compatibility\n\n## 1.2.2\n\n- An injected `Spatie\\LaravelAnalytics\\LaravelAnalytics`-object will now be properly configured\n\n## 1.2.1\n\n- Removed a var_dump-call that was not supposed to be there\n\n## 1.2.0\n\n###Do not use this version as it contains a var_dump that will mess up your output\n\n- Added a method to set the siteId at runtime\n\n## 1.1.5\n\n- Store Google Api's cache in Laravel's storage directory\n\n## 1.1.4\n\n- Handled a breaking change caused by Laravel 5.1\n\n## 1.1.3\n\n- Moved the repo\n\n## 1.1.2\n\n- Corrected a bug that caused an error when using the realtime-cache\n\n## 1.1.1\n\n- Corrected a bug that caused the realtime-cache to be stored for too long\n\n## 1.1.0\n\n- Added support for the [Real Time Reporting API](https://developers.google.com/analytics/devguides/reporting/realtime/v3/)\n\n## 1.0.4\n\n- Lowered minimum required Carbon version from 1.17 to ~1.0\n\n## 1.0.3\n\n- Fix the breaking error in the Api Helper.\n\n## 1.0.2 (do not use this version)\n\n- Lowered minimum required PHP version to 5.4\n- This version is not working due to a bug in the Api Helper.\n\n## 1.0.1\n\n- Use Laraval 5 contracts to typehint cache\n- Add DateTime type hints\n\n## 1.0.0\n\n- Stable first release\n\n## 0.0.1\n\n- Experimental initial release\n"
        },
        {
          "name": "LICENSE.md",
          "type": "blob",
          "size": 1.064453125,
          "content": "The MIT License (MIT)\n\nCopyright (c) Spatie bvba <info@spatie.be>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 12.666015625,
          "content": "<p align=\"center\"><img src=\"/art/socialcard.png\" alt=\"Social Card of Laravel Analytics\"></p>\n\n#  Retrieve data from Google Analytics\n\n[![Latest Version](https://img.shields.io/github/release/spatie/laravel-analytics.svg?style=flat-square)](https://github.com/spatie/laravel-analytics/releases)\n[![MIT Licensed](https://img.shields.io/badge/license-MIT-brightgreen.svg?style=flat-square)](LICENSE.md)\n![Check & fix styling](https://github.com/spatie/laravel-analytics/workflows/Check%20&%20fix%20styling/badge.svg)\n[![Total Downloads](https://img.shields.io/packagist/dt/spatie/laravel-analytics.svg?style=flat-square)](https://packagist.org/packages/spatie/laravel-analytics)\n\nUsing this package you can easily retrieve data from Google Analytics.\n\nHere are a few examples of the provided methods:\n\n```php\nuse Spatie\\Analytics\\Facades\\Analytics;\nuse Spatie\\Analytics\\Period;\n\n//fetch the most visited pages for today and the past week\nAnalytics::fetchMostVisitedPages(Period::days(7));\n\n//fetch visitors and page views for the past week\nAnalytics::fetchVisitorsAndPageViews(Period::days(7));\n```\n\nMost methods will return an `\\Illuminate\\Support\\Collection` object containing the results.\n\n## Support us\n\n[<img src=\"https://github-ads.s3.eu-central-1.amazonaws.com/laravel-analytics.jpg?t=1\" width=\"419px\" />](https://spatie.be/github-ad-click/laravel-analytics)\n\nWe invest a lot of resources into creating [best in class open source packages](https://spatie.be/open-source). You can support us by [buying one of our paid products](https://spatie.be/open-source/support-us).\n\nWe highly appreciate you sending us a postcard from your hometown, mentioning which of our package(s) you are using. You'll find our address on [our contact page](https://spatie.be/about-us). We publish all received postcards on [our virtual postcard wall](https://spatie.be/open-source/postcards).\n\n## Installation\n\nThis package can be installed through Composer.\n\n``` bash\ncomposer require spatie/laravel-analytics\n```\n\nOptionally, you can publish the config file of this package with this command:\n\n``` bash\nphp artisan vendor:publish --tag=\"analytics-config\"\n```\n\nThe following config file will be published in `config/analytics.php`\n\n```php\nreturn [\n\n    /*\n     * The property id of which you want to display data.\n     */\n    'property_id' => env('ANALYTICS_PROPERTY_ID'),\n\n    /*\n     * Path to the client secret json file. Take a look at the README of this package\n     * to learn how to get this file. You can also pass the credentials as an array\n     * instead of a file path.\n     */\n    'service_account_credentials_json' => storage_path('app/analytics/service-account-credentials.json'),\n\n    /*\n     * The amount of minutes the Google API responses will be cached.\n     * If you set this to zero, the responses won't be cached at all.\n     */\n    'cache_lifetime_in_minutes' => 60 * 24,\n\n    /*\n     * Here you may configure the \"store\" that the underlying Google_Client will\n     * use to store it's data.  You may also add extra parameters that will\n     * be passed on setCacheConfig (see docs for google-api-php-client).\n     *\n     * Optional parameters: \"lifetime\", \"prefix\"\n     */\n    'cache' => [\n        'store' => 'file',\n    ],\n];\n```\n\n## How to obtain the credentials to communicate with Google Analytics\n\n### Getting credentials\n\nThe first thing you’ll need to do is to get some credentials to use Google API’s. I’m assuming that you’ve already created a Google account and are signed in. Head over to [Google API’s site](https://console.developers.google.com/apis) and select or create a project.\n\n![1](https://spatie.github.io/laravel-analytics/v5/1.png)\n\nNext up we must specify which API’s the project may consume. Go to the API Library and search for \"Google Analytics Data API\".\n\n![2](https://spatie.github.io/laravel-analytics/v5/2.png)\n![3](https://spatie.github.io/laravel-analytics/v5/3.png)\n\nChoose enable to enable the API.\n![4](https://spatie.github.io/laravel-analytics/v5/4.png)\n\nNow that you’ve created a project that has access to the Analytics API it’s time to download a file with these credentials. Click \"Credentials\" in the sidebar. You’ll want to create a \"Service account key\".\n![5](https://spatie.github.io/laravel-analytics/v5/5.png)\n\nOn the next screen you can give the service account a name. You can name it anything you’d like. In the service account id you’ll see an email address. We’ll use this email address later on in this guide.\n\n![6](https://spatie.github.io/laravel-analytics/v5/6.png)\n\nGo to the details screen of your created service account and select \"keys\", from the \"Add key\" dropdown select \"Create new key\". \n\n![7](https://spatie.github.io/laravel-analytics/v5/7.png)\n\nSelect \"JSON\" as the key type and click \"Create\" to download the JSON file.\n\n![8](https://spatie.github.io/laravel-analytics/v5/8.png)\n\nSave the json inside your Laravel project at the location specified in the `service_account_credentials_json` key of the config file of this package. Because the json file contains potentially sensitive information I don't recommend committing it to your git repository.\n\n### Granting permissions to your Analytics property\n\nI'm assuming that you've already created a Analytics account on the [Analytics site](https://analytics.google.com/analytics) and are using the new GA4 properties.\n\nFirst you will need to know your property ID. In Analytics, go to Settings > Property Settings. Here you will be able to copy your property ID. Use this value for the `ANALYTICS_PROPERTY_ID` key in your .env file.\n\n![a1](https://spatie.github.io/laravel-analytics/v5/a1.png)\n\nNow we will need to give access to the service account you created. Go to \"Property Access Management\" in the Admin-section of the property.\nClick the plus sign in the top right corner to add a new user.\n\nOn this screen you can grant access to the email address found in the `client_email` key from the json file you download in the previous step. Analyst role is enough.\n\n![a2](https://spatie.github.io/laravel-analytics/v5/a2.png)\n\n## Usage\n\nWhen the installation is done you can easily retrieve Analytics data. Nearly all methods will return an `Illuminate\\Support\\Collection`-instance.\n\n\nHere are a few examples using periods\n\n```php\nuse Spatie\\Analytics\\Facades\\Analytics;\n\n//retrieve visitors and page view data for the current day and the last seven days\n$analyticsData = Analytics::fetchVisitorsAndPageViews(Period::days(7));\n\n//retrieve visitors and page views since the 6 months ago\n$analyticsData = Analytics::fetchVisitorsAndPageViews(Period::months(6));\n```\n\n`$analyticsData` is a `Collection` in which each item is an array that holds keys `date`, `visitors` and `pageViews`\n\nIf you want to have more control over the period you want to fetch data for, you can pass a `startDate` and an `endDate` to the period object.\n\n```php\n$startDate = Carbon::now()->subYear();\n$endDate = Carbon::now();\n\nPeriod::create($startDate, $endDate);\n```\n\n## Provided methods\n\n### Visitors and page views\n\n```php\npublic function fetchVisitorsAndPageViews(Period $period): Collection\n```\n\nThe function returns a `Collection` in which each item is an array that holds keys `activeUsers`, `screenPageViews` and `pageTitle`.\n\n### Visitors and page views by date\n\n```php\npublic function fetchVisitorsAndPageViewsByDate(Period $period): Collection\n```\n\nThe function returns a `Collection` in which each item is an array that holds keys `date`, `activeUsers`, `screenPageViews` and `pageTitle`.\n\n### Total visitors and pageviews\n\n```php\npublic function fetchTotalVisitorsAndPageViews(Period $period): Collection\n```\n\nThe function returns a `Collection` in which each item is an array that holds keys `date`, `date`, `visitors`, and `pageViews`.\n\n### Most visited pages\n\n```php\npublic function fetchMostVisitedPages(Period $period, int $maxResults = 20): Collection\n```\n\nThe function returns a `Collection` in which each item is an array that holds keys `fullPageUrl`, `pageTitle` and `screenPageViews`.\n\n### Top referrers\n\n```php\npublic function fetchTopReferrers(Period $period, int $maxResults = 20): Collection\n```\n\nThe function returns a `Collection` in which each item is an array that holds keys `screenPageViews` and `pageReferrer`.\n\n### User Types\n\n```php\npublic function fetchUserTypes(Period $period): Collection\n```\n\nThe function returns a `Collection` in which each item is an array that holds keys `activeUsers` and `newVsReturning` which can equal to `new` or `returning`.\n\n### Top browsers\n\n```php\npublic function fetchTopBrowsers(Period $period, int $maxResults = 10): Collection\n```\n\nThe function returns a `Collection` in which each item is an array that holds keys `screenPageViews` and `browser`.\n\n### Top countries\n\n```php\npublic function fetchTopCountries(Period $period, int $maxResults = 10): Collection\n```\n\nThe function returns a `Collection` in which each item is an array that holds keys `screenPageViews` and `country`.\n\n### Top operating systems\n\n```php\npublic function fetchTopOperatingSystems(Period $period, int $maxResults = 10): Collection\n```\n\nThe function returns a `Collection` in which each item is an array that holds keys `screenPageViews` and `operatingSystem`.\n\n### All other Google Analytics queries\n\nFor all other queries you can use the `get` function.\n\n```php\npublic function get(Period $period, array $metrics, array $dimensions = [], int $limit = 10, array $orderBy = [], FilterExpression $dimensionFilter = null, FilterExpression $metricFilter = null): Collection\n```\n\nHere's some extra info on the arguments you can pass:\n\n`Period $period`: a Spatie\\Analytics\\Period object to indicate that start and end date for your query.\n\n`array $metrics`: an array of metrics to retrieve. You can find a list of all metrics [here](https://developers.google.com/analytics/devguides/reporting/data/v1/api-schema#metrics).\n\n`array $dimensions`: an array of dimensions to group the results by. You can find a list of all dimensions [here](https://developers.google.com/analytics/devguides/reporting/data/v1/api-schema#dimensions).\n\n`int $limit`: the maximum number of results to return.\n\n`array $orderBy`: of OrderBy objects to sort the results by. \n\n`array $offset`: Defaults to 0, you can use this in combination with the $limit param to have pagination.\n\n`bool $keepEmptyRows`: If false or unspecified, each row with all metrics equal to 0 will not be returned. If true, these rows will be returned if they are not separately removed by a filter.\n\nFor example:\n```php\n$orderBy = [\n    OrderBy::dimension('date', true),\n    OrderBy::metric('pageViews', false),\n];\n```\n\n`FilterExpression $dimensionFilter`: filter the result to include only specific dimension values. You can find more details [here](https://cloud.google.com/php/docs/reference/analytics-data/latest/V1beta.RunReportRequest).\n\nFor example:\n```php\nuse Google\\Analytics\\Data\\V1beta\\Filter;\nuse Google\\Analytics\\Data\\V1beta\\FilterExpression;\nuse Google\\Analytics\\Data\\V1beta\\Filter\\StringFilter;\nuse Google\\Analytics\\Data\\V1beta\\Filter\\StringFilter\\MatchType;\n\n$dimensionFilter = new FilterExpression([\n    'filter' => new Filter([\n        'field_name' => 'eventName',\n        'string_filter' => new StringFilter([\n            'match_type' => MatchType::EXACT,\n            'value' => 'click',\n        ]),\n    ]),    \n]);\n```\n\n`FilterExpression $metricFilter`: filter applied after aggregating the report's rows, similar to SQL having-clause. Dimensions cannot be used in this filter. You can find more details [here](https://cloud.google.com/php/docs/reference/analytics-data/latest/V1beta.RunReportRequest).\n\nFor example:\n```php\nuse Google\\Analytics\\Data\\V1beta\\Filter;\nuse Google\\Analytics\\Data\\V1beta\\FilterExpression;\nuse Google\\Analytics\\Data\\V1beta\\Filter\\NumericFilter;\nuse Google\\Analytics\\Data\\V1beta\\NumericValue;\nuse Google\\Analytics\\Data\\V1beta\\Filter\\NumericFilter\\Operation;\n\n$metricFilter = new FilterExpression([\n    'filter' => new Filter([\n        'field_name' => 'eventCount',\n        'numeric_filter' => new NumericFilter([\n            'operation' => Operation::GREATER_THAN,\n            'value' => new NumericValue([\n                'int64_value' => 3,\n            ]),\n        ]),\n    ]),    \n]);\n\n## Testing\n\nRun the tests with:\n\n``` bash\nvendor/bin/pest\n```\n\n## Changelog\n\nPlease see [CHANGELOG](CHANGELOG.md) for more information what has changed recently.\n\n## Contributing\n\nPlease see [CONTRIBUTING](https://github.com/spatie/.github/blob/main/CONTRIBUTING.md) for details.\n\n## Security\n\nIf you've found a bug regarding security please mail [security@spatie.be](mailto:security@spatie.be) instead of using the issue tracker.\n\n## Credits\n\n- [Freek Van der Herten](https://github.com/freekmurze)\n- [All Contributors](../../contributors)\n\nAnd a special thanks to [Caneco](https://twitter.com/caneco) for the logo ✨\n\n## License\n\nThe MIT License (MIT). Please see [License File](LICENSE.md) for more information.\n"
        },
        {
          "name": "UPGRADE.md",
          "type": "blob",
          "size": 1.1767578125,
          "content": "# Upgrading to v5\n\nFrom version 5 laravel-analytics will leverage the new Google Analytics 4 Data API.\nBecause of this rewrite a number of breaking changes were made. This guide will help you upgrade to the latest version.\n\n## Installation\n\nAs mentioned v5 uses a different API so you will need to enable it on https://console.developers.google.com/apis. If you want to know more about this you can consult the installation instructions in the README.\n\n## Method changes\n\n### `fetchVisitorsAndPageViews`\nwill now return `activeUsers`, `screenPageViews` and `pageTitle`. The `date` property has been removed.\nIf you want to have the results grouped by day you can use the `fetchVisitorsAndPageViewsByDate` function.\n\n### `fetchTotalVisitorsAndPageViews`\nwill now return `date`, `activeUsers` and `screenPageViews`.\n\n### `fetchMostVisitedPages`\nwill now return `fullPageUrl`, `pageTitle` and `screenPageViews`.\n\n### `fetchTopReferrers`\nwill now return `screenPageViews` and `pageReferrer`.\n\n### `fetchTopBrowsers`\nwill now return `screenPageViews` and `browser`.\n\n### `fetchUserTypes`\nwill return a collection with items that have `activeUsers` and `newVsReturning` which can equal to `new` or `returning`.\n"
        },
        {
          "name": "art",
          "type": "tree",
          "content": null
        },
        {
          "name": "composer.json",
          "type": "blob",
          "size": 1.6337890625,
          "content": "{\n    \"name\": \"spatie/laravel-analytics\",\n    \"description\": \"A Laravel package to retrieve Google Analytics data.\",\n    \"keywords\": [\n        \"spatie\",\n        \"google\",\n        \"analytics\",\n        \"retrieve\",\n        \"reports\",\n        \"laravel\"\n    ],\n    \"homepage\": \"https://github.com/spatie/laravel-analytics\",\n    \"license\": \"MIT\",\n    \"authors\": [\n        {\n            \"name\": \"Freek Van der Herten\",\n            \"email\": \"freek@spatie.be\",\n            \"homepage\": \"https://spatie.be\",\n            \"role\": \"Developer\"\n        }\n    ],\n    \"require\": {\n        \"php\": \"^8.1\",\n        \"google/analytics-data\": \"^0.9.4\",\n        \"laravel/framework\": \"^10.0|^11.0\",\n        \"nesbot/carbon\": \"^2.66|^3.1.0\",\n        \"spatie/laravel-package-tools\": \"^1.13.7\",\n        \"symfony/cache\": \"^6.0|^7.0\"\n    },\n    \"require-dev\": {\n        \"league/flysystem\": \"^3.0\",\n        \"mockery/mockery\": \"^1.5\",\n        \"orchestra/testbench\": \"^8.0|^9.0\",\n        \"pestphp/pest\": \"^2.0\",\n        \"spatie/ray\": \"^1.37\"\n    },\n    \"autoload\": {\n        \"psr-4\": {\n            \"Spatie\\\\Analytics\\\\\": \"src\"\n        }\n    },\n    \"extra\": {\n        \"laravel\": {\n            \"providers\": [\n                \"Spatie\\\\Analytics\\\\AnalyticsServiceProvider\"\n            ],\n            \"aliases\": {\n                \"Analytics\": \"Spatie\\\\Analytics\\\\Facades\\\\Analytics\"\n            }\n        }\n    },\n    \"autoload-dev\": {\n        \"psr-4\": {\n            \"Spatie\\\\Analytics\\\\Tests\\\\\": \"tests\"\n        }\n    },\n    \"config\": {\n        \"sort-packages\": true,\n        \"allow-plugins\": {\n            \"pestphp/pest-plugin\": true\n        }\n    },\n    \"minimum-stability\": \"dev\",\n    \"prefer-stable\": true\n}\n"
        },
        {
          "name": "config",
          "type": "tree",
          "content": null
        },
        {
          "name": "phpunit.xml.dist",
          "type": "blob",
          "size": 0.5771484375,
          "content": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<phpunit xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" bootstrap=\"vendor/autoload.php\" backupGlobals=\"false\" colors=\"true\" processIsolation=\"false\" stopOnFailure=\"false\" xsi:noNamespaceSchemaLocation=\"https://schema.phpunit.de/10.5/phpunit.xsd\" cacheDirectory=\".phpunit.cache\" backupStaticProperties=\"false\">\n  <testsuites>\n    <testsuite name=\"Spatie Test Suite\">\n      <directory>tests</directory>\n    </testsuite>\n  </testsuites>\n  <source>\n    <include>\n      <directory suffix=\".php\">src/</directory>\n    </include>\n  </source>\n</phpunit>\n"
        },
        {
          "name": "src",
          "type": "tree",
          "content": null
        },
        {
          "name": "tests",
          "type": "tree",
          "content": null
        }
      ]
    }
  ]
}