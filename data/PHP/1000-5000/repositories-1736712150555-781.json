{
  "metadata": {
    "timestamp": 1736712150555,
    "page": 781,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjc5MA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "icecoder/ICEcoder",
      "stars": 1419,
      "defaultBranch": "master",
      "files": [
        {
          "name": ".github",
          "type": "tree",
          "content": null
        },
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.078125,
          "content": ".idea/*\ndata/*\n!data/.gitkeep\nplugins/*\n!plugins/index.php\ntmp/*\n!tmp/index.php\n"
        },
        {
          "name": ".htaccess",
          "type": "blob",
          "size": 0.0341796875,
          "content": "RewriteEngine Off\nRewriteEngine On\n"
        },
        {
          "name": "LICENSE.md",
          "type": "blob",
          "size": 1.3857421875,
          "content": "Copyright: Â© 2020 ICEcoder Ltd\n\nWebsite:   icecoder.net\n\nEmail:     info@icecoder.net\n\nTwitter:   @icecoder\n\n# ICEcoder License\n\n## Standard Open Source Initiative MIT License\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n\n```\nPlease note that this LICENSE file covers the ICEcoder shell IDE only and 3rd\nparty code, in subfolders such as CodeMirror and plugins, may contain their\nown LICENSE files, and may not also be an MIT licence.\n```\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 2.744140625,
          "content": "# ICEcoder is for sale! Please contact info@icecoder.net. Serious offers only.\r\n\r\n---\r\n\r\n# ICEcoder\r\n\r\n## Code editor awesomeness ...in your browser\r\n\r\nICEcoder is a browser based code editor, which provides a modern approach to building websites. By allowing you to code directly within the web browser, online or offline, it means you only need one program (your browser) to develop sites, plus can test on actual web servers. After development, you can also maintain the website easily, all of which make for speedy and smart development.\r\n\r\n<img src=\"https://assets.icecoder.net/images/icecoder-8-1-browser-code-editor.png\" alt=\"ICEcoder code editor\">\r\n\r\n### Requirements\r\n\r\nYou can run ICEcoder either online or locally, on Linux, Windows or Mac based platforms. The only requirement is to have PHP 7 available (7.4 recommended). You can have this either as a vanilla installation or via a program such as WAMP or XAMPP (for Windows) or MAMP (for Mac).\r\n\r\n### Installation\r\n\r\n#### Step 1: Get ICEcoder\r\n\r\nEither download the zip or clone from Github into your wwwroot (document root) dir for your website (this is typically `/var/www/html/`) via:\r\n\r\n```\r\n$ git clone git@github.com:icecoder/icecoder /var/www/html/icecoder\r\n```\r\n\r\n#### Step 2: Set permissions on dirs & files\r\n\r\nYou'll need to ensure both the ICEcoder dir and the wwwroot dir have permissions to read, write and execute. This can be done by changing permissions (using `chmod`), but it it safer and so better, to use `chown`:\r\n\r\n`chown -R www-data.www-data /var/www/html`\r\n\r\nThis will recursively set the `www-data` user as both the owner and group users for files on the `/var/www/html` dir (which ICEcoder dir is of course inside of, at say `/var/www/html/ICEcoder`).\r\n\r\n#### Step 3: Start coding\r\n\r\nNow you can visit `yoursite.com/ICEcoder` to view ICEcoder, sign in and start coding!\r\n\r\n#### Tip: If using ICEcoder locally, you can use:\r\n\r\n`php -S localhost:8080`\r\n\r\n...to get PHP to start a simple web server. You can then visit `localhost:8080/ICEcoder`\r\n\r\n#### Want to setup in other environments?\r\n\r\nIt's now possible to setup ICEcoder in a Docker container, via Composer, as an executable and more. Checkout https://icecoder.net/downloads for info on these setups!\r\n\r\n#### It's free & open source for everyone!\r\n\r\nSuitable for commercial & non-commercial projects, just let us know if it's useful to you and any cool customizations you make to it. We take no responsibility for anything, all usage is all down to you.\r\n\r\nIt's fully open source and MIT licensed. So we're happy for you to take it, make it your own and customize to your hearts content and/or contribute to this main repo! :)\r\n\r\nPlenty of comments included in the code to assist with understanding, customizing etc.\r\n\r\nComments, improvements & feedback welcomed!\r\n"
        },
        {
          "name": "SECURITY.md",
          "type": "blob",
          "size": 0.0986328125,
          "content": "# Security Policy\n\n## Reporting a Vulnerability\n\nPlease report security issues to `info@icecoder.net`"
        },
        {
          "name": "assets",
          "type": "tree",
          "content": null
        },
        {
          "name": "classes",
          "type": "tree",
          "content": null
        },
        {
          "name": "composer.json",
          "type": "blob",
          "size": 0.2568359375,
          "content": "{\n  \"name\": \"icecoder/icecoder\",\n  \"description\": \"Browser based code editor allowing you to code from anywhere\",\n  \"keywords\": [\"code\", \"editor\", \"browser\", \"ide\"],\n  \"homepage\": \"https://icecoder.net\",\n  \"license\": \"MIT\",\n  \"require\": {\n    \"php\": \"^7.0\"\n  }\n}\n"
        },
        {
          "name": "data",
          "type": "tree",
          "content": null
        },
        {
          "name": "editor.php",
          "type": "blob",
          "size": 17.3193359375,
          "content": "<?php\ninclude \"lib/headers.php\";\ninclude \"lib/settings.php\";\n$t = $text['editor'];\n?>\n<!DOCTYPE html>\n\n<html style=\"margin: 0\" onmousedown=\"parent.ICEcoder.mouseDown = true; parent.ICEcoder.resetAutoLogoutTimer()\" onmouseup=\"parent.ICEcoder.mouseDown = false; parent.ICEcoder.mouseDownInCM = false; parent.ICEcoder.resetAutoLogoutTimer(); if (!parent.ICEcoder.overCloseLink) {parent.ICEcoder.tabDragEnd()}\" onmousemove=\"if (parent.ICEcoder) {parent.ICEcoder.getMouseXY(event, 'editor'); parent.ICEcoder.functionArgsTooltip(event, 'editor'); parent.ICEcoder.resetAutoLogoutTimer(); parent.ICEcoder.canResizeFilesW()}\" ondrop=\"if (parent.ICEcoder) {parent.ICEcoder.getMouseXY(event, 'editor')}\">\n<head>\n<title>ICEcoder <?php echo $ICEcoder[\"versionNo\"];?> editor</title>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n<meta name=\"robots\" content=\"noindex, nofollow\">\n<link rel=\"stylesheet\" href=\"<?php echo $settingsClass->assetsRoot;?>/css/codemirror.css?microtime=<?php echo microtime(true);?>\">\n<link rel=\"stylesheet\" href=\"<?php echo $settingsClass->assetsRoot;?>/css/show-hint.css?microtime=<?php echo microtime(true);?>\">\n<link rel=\"stylesheet\" href=\"<?php echo $settingsClass->assetsRoot;?>/css/lint.css?microtime=<?php echo microtime(true);?>\">\n<!--\ncodemirror-compressed.js\n- incls: codemirror\n- modes: clike, coffeescript, css, erlang, go, htmlmixed, javascript, julia, lua, markdown, perl, php, python, ruby, sass, sql, xml, yaml\n- addon: brace-fold, closebrackets, closetag, css-hint, foldcode, foldgutter, html-hint, javascript-hint, javascript-lint, lint, match-highlighter, matchbrackets, runmode, searchcursor, show-hint, simplescrollbars, sql-hint, trailingspace, xml-fold, xml-hint\n//-->\n<script src=\"<?php echo $settingsClass->assetsRoot;?>/js/codemirror-compressed.js?microtime=<?php echo microtime(true);?>\"></script>\n<?php\n$pluginFiles = [\n\t\"jshint/jshint-2.5.6.min.js\",\n\t\"emmet/emmet.min.js\",\n\t\"pesticide/pesticide.js\",\n\t\"stats.js/stats.min.js\",\n\t\"responsive-helper/responsive-helper.js\"\n];\n\nfor ($i = 0; $i < count($pluginFiles); $i++) {\n\tif (true === file_exists(dirname(__FILE__) . \"/plugins/\" . $pluginFiles[$i])) {\n\t\techo '<script src=\"plugins/' . $pluginFiles[$i] . '?microtime=' . microtime(true) . '\"></script>' . PHP_EOL;\n\t}\n}\n?>\n<link rel=\"stylesheet\" href=\"<?php\necho $settingsClass->assetsRoot . '/css/theme/';\necho \"default\" === $ICEcoder[\"theme\"] ? 'icecoder.css' : $ICEcoder[\"theme\"] . '.css';\necho \"?microtime=\" . microtime(true);\n// Light themes\nif (false !== array_search($ICEcoder[\"theme\"], [\"base16-light\", \"chrome-devtools\", \"duotone-light\", \"eclipse\", \"eiffel\", \"elegant\", \"mdn-like\", \"idle\", \"iplastic\", \"ir_white\", \"johnny\", \"juicy\", \"neat\", \"neo\", \"solarized\", \"ttcn\", \"xq-light\"])) {\n\t$activeLineBG = \"#ccc\";\n\t$activeLineNum = \"#222\";\n// Dark themes\n} elseif (false !== array_search($ICEcoder[\"theme\"], [\"3024-night\", \"all-hallow-eve\", \"black-pearl-ii\", \"blackboard\", \"colorforth\", \"django\", \"emacs-strict\", \"fade-to-grey\", \"fake\", \"glitterbomb\", \"isotope\", \"ir_black\", \"liquibyte\", \"monokai-fannonedition\", \"oceanic\", \"night\", \"spectacular\", \"sunburst\", \"the-matrix\", \"tomorrow-night-blue\", \"tomorrow-night-bright\", \"tomorrow-night-eighties\", \"vibrant-ink\", \"xq-dark\", \"zenburn\"])) {\n\t$activeLineBG = \"#222\";\n\t$activeLineNum = \"#ccc\";\n// Other themes\n} else {\n\t$activeLineBG = \"#000\";\n\t$activeLineNum = \"#ccc\";\n}\n?>\">\n<script src=\"<?php echo $settingsClass->assetsRoot;?>/js/mmd.js?microtime=<?php echo microtime(true);?>\"></script>\n<link rel=\"stylesheet\" href=\"<?php echo $settingsClass->assetsRoot;?>/css/foldgutter.css?microtime=<?php echo microtime(true);?>\">\n<link rel=\"stylesheet\" href=\"<?php echo $settingsClass->assetsRoot;?>/css/simplescrollbars.css?microtime=<?php echo microtime(true);?>\">\n\n<style type=\"text/css\">\n/* Make sure this next one remains the 1st item, updated with JS */\n.CodeMirror {position: absolute; top: 0; width: 100%; font-size: <?php echo $ICEcoder[\"fontSize\"];?>; transition: font-size 0.25s ease; line-height: 1.3; z-index: 1}\n.CodeMirror-scroll {} /* was: height: auto; overflow: visible */\n/* Make sure this next one remains the 3rd item, updated with JS */\n.cm-s-activeLine {background: <?php echo $activeLineBG;?> !important}\n.cm-matchhighlight, .CodeMirror-focused .cm-matchhighlight {color: #fff !important; background: #06c !important}\n/* Make sure this next one remains the 5th item, updated with JS */\n.cm-tab {border-left-width: <?php echo $ICEcoder[\"visibleTabs\"] ? \"1px\" : \"0\";?>; margin-left: <?php echo $ICEcoder[\"visibleTabs\"] ? \"-1px\" : \"0\";?>; border-left-style: solid; border-left-color: rgba(255,255,255,0.15)}\n/* Make sure this next one remains the 6th item, updated with JS */\n.cm-s-activeLine + .CodeMirror-gutter-wrapper > .CodeMirror-linenumber {color: <?php echo $activeLineNum;?> !important}\n.cm-trailingspace {\n        background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAACCAYAAAB/qH1jAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QUXCToH00Y1UgAAACFJREFUCNdjPMDBUc/AwNDAAAFMTAwMDA0OP34wQgX/AQBYgwYEx4f9lQAAAABJRU5ErkJggg==);\n        background-position: bottom left;\n        background-repeat: repeat-x;\n      }\n.code-zoomed-out {font-size: 2px}\n.CodeMirror-foldmarker {font-family: arial; line-height: 0.3; color: #b00; cursor: pointer;\n\ttext-shadow: #fff 1px 1px 2px, #fff -1px -1px 2px, #fff 1px -1px 2px, #fff -1px 1px 2px;\n}\n.CodeMirror-foldgutter {display: inline-block; width: 13px}\n.CodeMirror-foldgutter-open, .CodeMirror-foldgutter-folded {position: absolute; display: inline-block; width: 13px; height: 13px; font-size: 14px; text-align: center; cursor: pointer}\n.CodeMirror-foldgutter-open {background: rgba(255,255,255,0.04); color: #666}\n.CodeMirror-foldgutter-open:after {position: relative; top: -4px}\n.CodeMirror-foldgutter-folded {background: #800; color: #ddd}\n.CodeMirror-foldgutter-folded:after {position: relative; top: -4px}\nh2 {color: rgba(0,198,255,0.7)}\n.cm-s-diff {left: 50%}\n</style>\n<link rel=\"stylesheet\" href=\"<?php echo $settingsClass->assetsRoot;?>/css/editor.css?microtime=<?php echo microtime(true);?>\">\n<link rel=\"stylesheet\" href=\"<?php echo $settingsClass->assetsRoot;?>/css/file-types.css?microtime=<?php echo microtime(true);?>\">\n<link rel=\"stylesheet\" href=\"<?php echo $settingsClass->assetsRoot;?>/css/file-type-icons.css?microtime=<?php echo microtime(true);?>\">\n</head>\n\n<body style=\"color: #fff; margin: 0\" onkeydown=\"return parent.ICEcoder.interceptKeys('content', event);\" onkeyup=\"parent.ICEcoder.resetKeys(event);\" onblur=\"parent.ICEcoder.resetKeys(event);\" oncontextmenu=\"return false\">\n\n<div class=\"dataMessage\" id=\"dataMessage\"></div>\n\n<div class=\"dataItemsContainer\">\n\t<div class=\"dataItems\" style=\"width: 300px; margin-right: 50px\">\n\t\t<h2><?php echo $t['server'];?></h2>\n\t\t<span class=\"heading\"><?php echo $t['Server name, OS...'];?></span><br>\n\t\t<?php\n        $serverAddr = $_SERVER['SERVER_ADDR'] ?? \"1\";\n        if (\"1\" == $serverAddr || \"::1\" == $serverAddr) {\n            $serverAddr = \"127.0.0.1\";\n        }\n        echo\n            $_SERVER['SERVER_NAME'] . \" &nbsp;&nbsp \" .\n            $serverType . \" &nbsp;&nbsp \" .\n            $serverAddr . \":\" . $_SERVER['SERVER_PORT'] . \"<br>\" .\n            \"(\" . $_SERVER['SERVER_SOFTWARE'] . \")\";?><br><br>\n\t\t<span class=\"heading\"><?php echo $t['Root'];?></span><br>\n\t\t<?php echo $docRoot;?><br><br>\n\t\t<span class=\"heading\"><?php echo $t['ICEcoder root'];?></span><br>\n\t\t<div id=\"iceRootDisplay\"><?php echo \"\" !== $iceRoot ? $iceRoot : \"[Default]\";?></div><br><br>\n\t\t<span class=\"heading\"><?php echo $t['PHP version'];?></span><br>\n\t\t<?php echo phpversion();?><br><br>\n\t\t<span class=\"heading\"><?php echo $t['Date & time'];?></span><br>\n\t\t<span id=\"serverDT\"></span><br><br>\n\t\t<h2><?php echo $t['your device'];?></h2>\n\t\t<span class=\"heading\"><?php echo $t['Browser'];?></span><br>\n\t\t<?php echo xssClean($_SERVER['HTTP_USER_AGENT'], \"html\");?><br><br>\n\t\t<span class=\"heading\"><?php echo $t['Your IP'];?></span><br>\n\t\t<?php echo getUserIP();?><br><br>\n\t</div>\n\n\t<div class=\"dataItems\">\n\t\t<h2><?php echo $t['files'];?></h2>\n\t\t<span class=\"heading\"><?php echo $t['Last 10 files...'];?></span><br>\n\t\t<ul class=\"fileManager\" id=\"last10Files\" style=\"margin-top: 5px; margin-left: 0; line-height: 21px\"><?php\n            if (empty($ICEcoder[\"last10Files\"])) {\n                echo '<div style=\"display: inline-block; margin-left: -39px; margin-top: -4px\">' . $t['none'] . '</div><br>';\n            } else {\n                for ($i = count($ICEcoder[\"last10Files\"]) - 1; $i >= 0; $i--) {\n                    $fileFolderName = str_replace(\"\\\\\", \"/\", $ICEcoder[\"last10Files\"][$i]);\n                    // Get extension (prefix 'ext-' to prevent invalid classes from extensions that begin with numbers)\n                    $ext = \"ext-\" . pathinfo($docRoot . $iceRoot . $fileFolderName, PATHINFO_EXTENSION);\n                    echo '<li class=\"pft-file ' . strtolower($ext) . '\" style=\"margin-left: -21px\">';\n                    echo '<a style=\"position: relative; top: -2px; left: 5px; cursor: pointer\" onclick=\"parent.ICEcoder.openFile(\\'' . str_replace($docRoot, \"\", str_replace(\"|\", \"/\", $ICEcoder[\"last10Files\"][$i])) . '\\')\">';\n                    echo preg_replace(\"/^\\//\", \"\", str_replace($docRoot, \"\", str_replace(\"|\", \"/\", $ICEcoder[\"last10Files\"][$i])));\n                    echo '</a></li>';\n                    if ($i > 0) {\n                        echo PHP_EOL;\n                    };\n                }\n\t\t\t}\n\t\t;?></ul>\n        <?php\n        if (\"\" !== $_SESSION['username']) {\n            ?>\n            <h2><?php echo $t['multi-user']; ?></h2>\n            <span class=\"heading\"><?php echo $t['Username']; ?></span><br>\n            <?php echo xssClean($_SESSION['username'], \"html\");?><br><br>\n            <?php\n        }\n        ?>\n\t\t<h2>ICEcoder</h2>\n\t\t<span class=\"heading\"><?php echo $t['version'];?></span><br>\n\t\t<?php\n\t\t// If we have a .git dir, get the Git short commit hash to display as a link\n\t\t$gitCommitTextLink = \"\";\n\t\tif (true === $systemClass->functionEnabled(\"shell_exec\") && is_dir(dirname(__FILE__) . \"/.git\")) {\n\t\t\t$gitCommit = trim(shell_exec('git log --pretty=\"%h\" -n1 HEAD'));\n\t\t\t$gitCommitTextLink = ' (Git commit: <a href=\"https://github.com/icecoder/ICEcoder/commit/' . $gitCommit . '\" style=\"color: #eee; text-decoration: none\" target=\"_blank\">' . $gitCommit . '</a>)';\n\t\t}\n\t\techo $ICEcoder[\"versionNo\"] . $gitCommitTextLink;\n\t\t?><br><br>\n\t\t<span class=\"heading\"><?php echo $t['codemirror version'];?></span><br>\n\t\t<script>\n\t\tdocument.write(CodeMirror.version);\n\t\t</script>\n\t\t<br><br>\n\t</div>\n\n\t<div style=\"clear: both\"></div>\n\t<script>\n\tlet nDT = <?php echo time() * 1000;?>;\n\tsetInterval(function(){\n\t\tlet s = (new Date(nDT += 1e3) + '').split(' '),\n\t\td = s[2] * 1,\n\t\tt = s[4].split(':'),\n\t\tp = t[0] > 11 ? 'pm' : 'am',\n\t\te = d % 20 === 1 | d > 30 ? 'st' : d % 20 === 2 ? 'nd' : d % 20 === 3 ? 'rd' : 'th';\n\t\tt[0] = --t[0] % 12 + 1;\n\t\tif (document.getElementById('serverDT')) {\n\t\t\tdocument.getElementById('serverDT').innerHTML = [s[0], d + e, s[1], s[3], t.join(':') + p].join(' ');\n\t\t}\n\t}, 1000);\n\t</script>\n</div>\n\n<script>\nCodeMirror.keyMap.ICEcoder = {\n\t\"Tab\": function(cm) {\n\t\treturn cm.somethingSelected()\n\t\t? (parent.ICEcoder.indentAuto\n\t\t\t? cm.execCommand(\"indentAuto\") // Honor our own setting indentAuto\n\t\t\t: cm.indentSelection(\"add\") // Add indent (this is default handler in CodeMirror)\n\t\t  )\n\t\t: CodeMirror.Pass // Falls through to default or Emmet plugin\n\t},\n\t\"Shift-Tab\": \"indentLess\",\n\t\"Ctrl-Space\": \"autocomplete\",\n\t\"Ctrl-Up\" : false,\n\t\"Ctrl-Down\" : false,\n\t\"Ctrl-Backspace\" : false,\n\t\"Esc\" : false,\n\tfallthrough: [\"default\"]\n};\n\n// CodeMirror does not honor indentWithTabs = false properly when handling Tab key\n// It does this by design, so we need to make a workaround of our own\n(function(){\n\t// let's back up original insertTab function which actually puts\n\tvar originalInsertTabFunction = CodeMirror.commands.insertTab;\n\t// and replace it with our own, which branches on whether our ICEcoder.indentType value is \"tabs\"\n\tCodeMirror.commands.insertTab = function(cm){\n\t\tif (\"tabs\" === parent.ICEcoder.indentType){\n\t\t\t// if it is true, then we should still put there, let's use original function\n\t\t\treturn originalInsertTabFunction(cm);\n\t\t} else {\n\t\t\t// otherwise - let's call another handler, insertSoftTab which will do the job\n\t\t\treturn cm.execCommand(\"insertSoftTab\");\n\t\t}\n\t}\n}());\n\nfunction createNewCMInstance(num) {\n\t// Establish the filename for the tab\n\tvar fileName = parent.ICEcoder.openFiles[parent.ICEcoder.selectedTab - 1];\n\n\tvar indentWithTabs = \"tabs\" === parent.ICEcoder.indentType;\n\n\t// Define our CodeMirror options\n\tvar cMOptions = {\n\t\tmode: \"application/x-httpd-php\",\n\t\tlineNumbers: parent.ICEcoder.lineNumbers,\n\t\tgutters: [\"CodeMirror-foldgutter\", \"CodeMirror-lint-markers\", \"CodeMirror-linenumbers\"],\n\t\tfoldGutter: {gutter: \"CodeMirror-foldgutter\"},\n\t\tfoldOptions: {minFoldSize: 1},\n\t\tlineWrapping: parent.ICEcoder.lineWrapping,\n\t\tindentWithTabs: indentWithTabs,\n\t\tindentUnit: parent.ICEcoder.indentSize,\n\t\ttabSize: parent.ICEcoder.indentSize,\n\t\tmatchBrackets: parent.ICEcoder.matchBrackets,\n\t\telectricChars: false,\n\t\tautoCloseTags: parent.ICEcoder.autoCloseTags,\n\t\tautoCloseBrackets: parent.ICEcoder.autoCloseBrackets,\n\t\thighlightSelectionMatches: true,\n\t\tscrollbarStyle: parent.ICEcoder.scrollbarStyle,\n\t\tshowTrailingSpace: parent.ICEcoder.showTrailingSpace,\n\t\tlint: false,\n\t\tkeyMap: \"ICEcoder\"\n\t};\n\n\t// Start editor instances, main and diff\n\twindow['cM' + num] = CodeMirror(document.body, cMOptions);\n\twindow['cM' + num + 'diff'] = CodeMirror(document.body, cMOptions);\n\n\t// Define actions for those...\n    createNewCMInstanceEvents(num, '');\n    createNewCMInstanceEvents(num, 'diff');\n\n\t// Now create the active lines for them\n\tparent.ICEcoder['cMActiveLinecM' + num] = window['cM' + num].addLineClass(0, \"background\", \"cm-s-activeLine\");\n\tparent.ICEcoder['cMActiveLinecM' + num + 'diff'] = window['cM' + num + 'diff'].addLineClass(0, \"background\", \"cm-s-activeLine\");\n};\n\nfunction createNewCMInstanceEvents(num, pane) {\n    window['cM' + num + pane].on(\"focus\", function(thisCM) {parent.ICEcoder.cMonFocus(thisCM, 'cM' + num + pane)});\n    window['cM' + num + pane].on(\"blur\", function(thisCM) {parent.ICEcoder.cMonBlur(thisCM, 'cM' + num + pane)});\n    window['cM' + num + pane].on(\"keyup\", function(thisCM, evt) {parent.ICEcoder.cMonKeyUp(thisCM, 'cM' + num + pane, evt)});\n    window['cM' + num + pane].on(\"cursorActivity\", function(thisCM) {parent.ICEcoder.cMonCursorActivity(thisCM, 'cM' + num + pane)});\n    window['cM' + num + pane].on(\"beforeSelectionChange\", function(thisCM, changeObj) {parent.ICEcoder . prevLine = thisCM.getCursor().line;});\n    window['cM' + num + pane].on(\"change\", function(thisCM, changeObj) {parent.ICEcoder.cMonChange(thisCM, 'cM' + num + pane, changeObj, CodeMirror)});\n    window['cM' + num + pane].on(\"beforeChange\", function(thisCM, changeObj) {parent.ICEcoder.cMonBeforeChange(thisCM, 'cM' + num + pane, changeObj, CodeMirror)});\n    window['cM' + num + pane].on(\"scroll\", function(thisCM) {parent.ICEcoder.cMonScroll(thisCM, 'cM' + num + pane)});\n    window['cM' + num + pane].on(\"update\", function(thisCM) {parent.ICEcoder.cMonUpdate(thisCM, 'cM' + num + pane)});\n    window['cM' + num + pane].on(\"inputRead\", function(thisCM) {parent.ICEcoder.cMonInputRead(thisCM, 'cM' + num + pane)});\n    window['cM' + num + pane].on(\"gutterClick\", function(thisCM, line, gutter, evt) {parent.ICEcoder.cMonGutterClick(thisCM, line, gutter, evt, 'cM' + num + pane)});\n    window['cM' + num + pane].on(\"mousedown\", function(thisCM, evt) {parent.ICEcoder.cMonMouseDown(thisCM, 'cM' + num + pane, evt)});\n    window['cM' + num + pane].on(\"paste\", function(thisCM, evt) {parent.ICEcoder.cMonPaste(thisCM, 'cM' + num + pane, evt, (evt.clipboardData || window.clipboardData))});\n    window['cM' + num + pane].on(\"contextmenu\", function(thisCM, evt) {parent.ICEcoder.cMonContextMenu(thisCM, 'cM' + num + pane, evt)});\n    window['cM' + num + pane].on(\"dragover\", function(thisCM) {parent.ICEcoder.cMonDragOver(thisCM, event, 'cM' + num + pane)});\n    window['cM' + num + pane].on(\"renderLine\", function(thisCM, line, element) {parent.ICEcoder.cMonRenderLine(thisCM, 'cM' + num + pane, line, element)});\n}\n</script>\n\n<div class=\"resultsBar\" id=\"resultsBar\"></div>\n\n<script>\nCodeMirror.commands.autocomplete = function(cM) {\n    let langType = parent.ICEcoder.caretLocType;\n    if (-1 < [\"JavaScript\", \"CoffeeScript\", \"TypeScript\", \"SQL\", \"CSS\", \"HTML\", \"XML\", \"Content\"].indexOf(langType)) {\n        if (\"XML\" === langType || \"Content\" === langType) {\n            langType = \"HTML\";\n        }\n        CodeMirror.showHint(cM, CodeMirror.hint[langType.toLowerCase()]);\n    }\n}\n\n// Switch the CodeMirror mode on demand\nparent.ICEcoder.switchMode = function(mode) {\n    let cM, cMdiff, fileName, fileExt;\n\n    cM = parent.ICEcoder.getcMInstance();\n    cMdiff = parent.ICEcoder.getcMdiffInstance();\n    fileName = parent.ICEcoder.openFiles[parent.ICEcoder.selectedTab - 1];\n\n    if (cM && mode) {\n        if (mode != cM.getOption(\"mode\")) {\n            cM.setOption(\"mode\", mode);\n            cMdiff.setOption(\"mode\", mode);\n        }\n    } else if (cM && fileName) {\n\t\t<?php include(dirname(__FILE__) . \"/assets/js/language-modes-partial.js\");?>\n        if (mode != cM.getOption(\"mode\")) {\n            cM.setOption(\"mode\", mode);\n            cM.setOption(\"lint\", (\"js\" === fileExt || \"json\" === fileExt) && parent.ICEcoder.codeAssist ? true : false);\n            cMdiff.setOption(\"mode\", mode);\n            cMdiff.setOption(\"lint\", (\"js\" === fileExt || \"json\" === fileExt) && parent.ICEcoder.codeAssist ? true : false);\n        }\n    }\n}\n</script>\n\n</body>\n\n</html>\n"
        },
        {
          "name": "files.php",
          "type": "blob",
          "size": 5.080078125,
          "content": "<?php\ninclude \"lib/headers.php\";\ninclude \"lib/settings.php\";\n$t = $text['files'];\n?>\n<!DOCTYPE html>\n\n<html onmousedown=\"parent.ICEcoder.mouseDown = true; parent.ICEcoder.resetAutoLogoutTimer(); parent.ICEcoder.boxSelect(event, 'down')\" onmouseup=\"parent.ICEcoder.mouseDown = false; parent.ICEcoder.resetAutoLogoutTimer(); parent.ICEcoder.mouseDownInCM = false; parent.ICEcoder.boxSelect(event, 'up'); if (!parent.ICEcoder.overCloseLink) {parent.ICEcoder.tabDragEnd()}\" onmousemove=\"if (parent.ICEcoder) {parent.ICEcoder.getMouseXY(event, 'files'); parent.ICEcoder.resetAutoLogoutTimer(); parent.ICEcoder.canResizeFilesW(); parent.ICEcoder.boxSelect(event, 'drag')}\" ondrop=\"if (parent.ICEcoder) {parent.ICEcoder.getMouseXY(event, 'files')}\" oncontextmenu=\"parent.ICEcoder.selectFileFolder(event); return parent.ICEcoder.showMenu(event)\" onclick=\"if (!parent.ICEcoder.fmDraggedBox) {parent.ICEcoder.selectFileFolder(event)} else {parent.ICEcoder.fmDraggedBox = false}\" ondragstart=\"parent.ICEcoder.selectFileFolder(event);\" ondragover=\"event.preventDefault(); event.stopPropagation()\">\n<head>\n    <title>ICEcoder <?php echo $ICEcoder[\"versionNo\"];?> file manager</title>\n    <meta name=\"robots\" content=\"noindex, nofollow\">\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"<?php echo $settingsClass->assetsRoot;?>/css/resets.css?microtime=<?php echo microtime(true);?>\">\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"<?php echo $settingsClass->assetsRoot;?>/css/files.css?microtime=<?php echo microtime(true);?>\">\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"<?php echo $settingsClass->assetsRoot;?>/css/file-types.css?microtime=<?php echo microtime(true);?>\">\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"<?php echo $settingsClass->assetsRoot;?>/css/file-type-icons.css?microtime=<?php echo microtime(true);?>\">\n    <!--Updated via settings so must remain 5th stylesheet//-->\n    <style>\n        ul.fileManager li a span { font-size:  <?php echo $ICEcoder[\"fontSize\"];?>; }\n    </style>\n</head>\n\n<body onfocus=\"parent.ICEcoder.files.style.background = '#444'\" onblur=\"parent.ICEcoder.files.style.background = '#383838'\" ondblclick=\"if ('file' === parent.ICEcoder.thisFileFolderType) {parent.ICEcoder.openFile()}\" onkeydown=\"return parent.ICEcoder.interceptKeys('files', event);\" onkeyup=\"parent.ICEcoder.resetKeys(event);\" onblur=\"parent.ICEcoder.resetKeys(event);\">\n\n<div title=\"<?php echo $t['Lock'];?>\" onclick=\"parent.ICEcoder.lockUnlockNav()\" class=\"lock\"><div id=\"fmLockClosed\" style=\"display: <?php echo true === $ICEcoder[\"lockedNav\"] ? \"inline-block\" : \"none\";?>\"><?php echo file_get_contents(dirname(__FILE__) . \"/assets/images/icons/lock.svg\");?></div><div id=\"fmLockOpen\" style=\"display: <?php echo true === $ICEcoder[\"lockedNav\"] ? \"none\" : \"inline-block\";?>\"><?php echo file_get_contents(dirname(__FILE__) . \"/assets/images/icons/lock-open.svg\");?></div></div>\n<div title=\"<?php echo $t['Refresh'];?>\" onclick=\"parent.ICEcoder.refreshFileManager()\" class=\"refresh\"><?php echo file_get_contents(dirname(__FILE__) . \"/assets/images/icons/rotate-clockwise.svg\");?></div>\n<div title=\"<?php echo $t['Plugins'];?>\" onclick=\"parent.ICEcoder.showHidePlugins('55px' !== parent.document.getElementById('plugins').style.width  ? 'show' : 'hide')\" class=\"plugins\"><?php echo file_get_contents(dirname(__FILE__) . \"/assets/images/icons/plug.svg\");?></div>\n\n\n<ul class=\"fileManager\">\n    <?php\n    $displayRoot = $iceRoot == \"\" ? $t['ROOT'] : trim($iceRoot, \"/\");\n    if (false === is_dir($docRoot . $iceRoot)) {\n        echo '<li class=\"pft-directory dir\"><a nohref title=\"' . $displayRoot . ' : can\\'t access dir\" onclick=\"parent.ICEcoder.settingsScreen(false, \\'general\\')\" style=\"position: relative; left:-22px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style=\"background: #b00\">/ ';\n        echo $displayRoot;\n        echo '</span></a></li></ul>';\n    } else {\n    ?><li class=\"pft-directory dirOpen\"><a nohref title=\"/\" ondragover=\"parent.ICEcoder.overFileFolder('folder', '|'); parent.ICEcoder.highlightFileFolder('|', true);\" ondragleave=\"parent.ICEcoder.overFileFolder('folder', ''); parent.ICEcoder.highlightFileFolder('|', false);\" onmouseover=\"parent.ICEcoder.overFileFolder('folder', '|')\" onmouseout=\"parent.ICEcoder.overFileFolder('folder', '')\" onclick=\"parent.ICEcoder.openCloseDir(this)\" style=\"position: relative; left:-22px\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span id=\"|\">/ <?php\n        echo $displayRoot;\n        $thisPermVal = \"Windows\" !== $serverType ? substr(sprintf('%o', fileperms($docRoot . $iceRoot)), -3) : \"\";\n        $permColors = 777 == $thisPermVal ? 'background: #800; color: #eee' : 'color: #888';\n        ?></span> <span style=\"<?php echo $permColors;?>; font-size: 8px\" id=\"|_perms\"><?php echo $thisPermVal;?></span></a></li><?php\n        // tree file items generated by the iFrame 'fileControl' below which loads in the items at location=| (ie, the root)\n    ?>\n</ul>\n\n<iframe name=\"fileControl\" src=\"lib/get-branch.php?location=|&csrf=<?php echo $_SESSION['csrf'];?>\" style=\"display: none\"></iframe>\n<?php\n}\n?>\n<iframe name=\"pingActive\" style=\"display: none\"></iframe>\n\n<div class=\"fmDragBox\" id=\"fmDragBox\"></div>\n\n</body>\n\n</html>\n"
        },
        {
          "name": "index.php",
          "type": "blob",
          "size": 27.91796875,
          "content": "<?php\nuse ICEcoder\\ExtraProcesses;\n\ninclude \"lib/headers.php\";\ninclude \"lib/settings.php\";\n$t = $text['index'];\n\n$updateMsg = '';\n// Check for updates\nif (true === $ICEcoder[\"checkUpdates\"]) {\n\t$icvURL = \"https://icecoder.net/latest-version?thisVersion=\" . $ICEcoder[\"versionNo\"];\n\t$icvData = getData($icvURL, 'curl', false, 5);\n\tif (\"\" == $icvData) {\n\t\t$icvData = \"1.0\\nICEcoder version placeholder\";\n\t}\n\t$icvInfo = str_replace(\"\\n\", \"\", $icvData);\n\t$icv = preg_match(\"/^[0-9.]+/\", $icvInfo, $matches);\n\t$icv = $matches[0];\n\t$icvInfo = [\n\t\t0 => $icv,\n\t\t1 => substr($icvInfo, strlen($matches[0]))\n\t];\n\t$icvI = str_replace('\"', '\\\\\\'', $icvInfo[1]);\n\t$thisV = $ICEcoder[\"versionNo\"];\n\tif (-1 < strpos($thisV, \"beta\") && false === strpos($icv, \"beta\") && str_replace(\" beta\", \"\", $thisV) === $icv) {\n\t    $thisV-=0.1;\n\t};\n\tif ($thisV < $icv) {\n\t\t$updateMsg =\n            \";ICEcoder.dataMessage('<b>\" . $t['UPDATE INFO'] .\n            \":</b> ICEcoder \" . explode(\"\\n\", $icvData)[0] .\" \" . $t['now available'] . \". (\" . $t['Your version is'] . \" \" . $ICEcoder[\"versionNo\"] .\n            \").<br><br><a href=\\\\'https://icecoder.net\\\\' target=\\\\'_blank\\\\' style=\\\\'color:#fff; background: #b00; padding: 5px; text-decoration: none; cursor: pointer\\\\'>\" .\n            $t['Update now'] . \"</a><br><br>\" . $icvI .\"');\";\n\t}\n}\n\n$isMac = false !== strpos($_SERVER['HTTP_USER_AGENT'], \"Macintosh\") ? true : false;\n?>\n<!DOCTYPE html>\n<html onmousedown=\"ICEcoder.mouseDown = true; ICEcoder.resetAutoLogoutTimer();\" onmouseup=\"ICEcoder.mouseDown = false; ICEcoder.resetAutoLogoutTimer(); ICEcoder.mouseDownInCM = false; if (!ICEcoder.overCloseLink) {ICEcoder.tabDragEnd()}\" onmousemove=\"if ('undefined' !== typeof ICEcoder) {ICEcoder.getMouseXY(event, 'top'); ICEcoder.resetAutoLogoutTimer(); ICEcoder.canResizeFilesW()}\" onmousewheel=\"ICEcoder.resetAutoLogoutTimer(); if (ICEcoder.getcMInstance() && !ICEcoder.getcMInstance().hasFocus() && !ICEcoder.getcMdiffInstance().hasFocus()) {event.wheelDelta > 0 ? ICEcoder.nextTab() : ICEcoder.previousTab();}\">\n<head>\n<title>ICEcoder <?php echo $ICEcoder[\"versionNo\"];?></title>\n<!--Updated via settings so must remain 1st stylesheet//-->\n<style>\n\t#tabsBar.tabsBar .tab { font-size: <?php echo $ICEcoder[\"fontSize\"];?>; }\n</style>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n<meta name=\"robots\" content=\"noindex, nofollow\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=0.5, user-scalable=no\">\n<link rel=\"stylesheet\" type=\"text/css\" href=\"<?php echo $settingsClass->assetsRoot;?>/css/resets.css?microtime=<?php echo microtime(true);?>\">\n<link rel=\"stylesheet\" type=\"text/css\" href=\"<?php echo $settingsClass->assetsRoot;?>/css/icecoder.css?microtime=<?php echo microtime(true);?>\">\n<link rel=\"stylesheet\" type=\"text/css\" href=\"<?php echo $settingsClass->assetsRoot;?>/css/file-type-icons.css?microtime=<?php echo microtime(true);?>\">\n<link rel=\"stylesheet\" href=\"<?php\necho $settingsClass->assetsRoot . \"/css/theme/\";\necho \"default\" === $ICEcoder[\"theme\"] ? 'icecoder.css' : $ICEcoder[\"theme\"] . '.css';\necho \"?microtime=\" . microtime(true);\n?>\">\n<link rel=\"icon\" type=\"image/png\" href=\"<?php echo $settingsClass->assetsRoot;?>/images/favicon.png\">\n<script>\ndocRoot = \"<?php echo $ICEcoder['docRoot']; ?>\";\niceRoot = \"<?php echo $ICEcoder['root']; ?>\";\n\nwindow.onbeforeunload = function() {\n\tif (ICEcoder.autoLogoutTimer < ICEcoder.autoLogoutMins * 60) {\n\t\tfor (var i = 1; i <= ICEcoder.savedPoints.length; i++) {\n\t\t\tif (ICEcoder.savedPoints[i - 1] != ICEcoder.getcMInstance(i).changeGeneration()) {\n\t\t\t\treturn \"<?php echo $t['You have some...'];?>.\";\n\t\t\t}\n\t\t}\n\t\treturn \"<?php echo $t['Are you sure...'];?>\";\n\t}\n}\n\nt = {\n<?php\n// Load the lang array for what's in the JS file\n$t = $text['icecoder'];\n$tOutput = \"\";\nforeach ($t as $key => $value) {\n\t$tOutput .= '\"' . $key . '\" : \"' . $value . '\",' . PHP_EOL;\n}\necho rtrim($tOutput, \",\" . PHP_EOL) . PHP_EOL;\n\n// Back to the lang array for index\n$t = $text['index'];\n?>\n}\n</script>\n<script language=\"JavaScript\" src=\"<?php echo $settingsClass->assetsRoot;?>/js/icecoder.js?microtime=<?php echo microtime(true);?>\" id=\"icecoderJSFile\" data-assets-root=\"<?php echo $settingsClass->assetsRoot;?>\"></script>\n<?php\n$havePrettier = false;\nforeach ($ICEcoder['plugins'] as $plugin) {\n    if (\"Prettier\" === $plugin[0]) {\n        $havePrettier = true;\n    }\n}\nif (true === $havePrettier && true === file_exists(dirname(__FILE__) . \"/plugins/prettier/standalone.js\")) {\n?>\n<script language=\"JavaScript\" src=\"<?php echo $iceURLPath;?>/plugins/prettier/standalone.js?microtime=<?php echo microtime(true);?>\"></script>\n<script language=\"JavaScript\" src=\"<?php echo $iceURLPath;?>/plugins/prettier/parser-babel.js?microtime=<?php echo microtime(true);?>\"></script>\n<script language=\"JavaScript\" src=\"<?php echo $iceURLPath;?>/plugins/prettier/parser-postcss.js?microtime=<?php echo microtime(true);?>\"></script>\n<script language=\"JavaScript\" src=\"<?php echo $iceURLPath;?>/plugins/prettier/parser-typescript.js?microtime=<?php echo microtime(true);?>\"></script>\n<script language=\"JavaScript\" src=\"<?php echo $iceURLPath;?>/plugins/prettier/parser-html.js?microtime=<?php echo microtime(true);?>\"></script>\n<script language=\"JavaScript\" src=\"<?php echo $iceURLPath;?>/plugins/prettier/parser-markdown.js?microtime=<?php echo microtime(true);?>\"></script>\n<script language=\"JavaScript\" src=\"<?php echo $iceURLPath;?>/plugins/prettier/parser-yaml.js?microtime=<?php echo microtime(true);?>\"></script>\n<script language=\"JavaScript\" src=\"<?php echo $iceURLPath;?>/plugins/prettier/parser-php.js?microtime=<?php echo microtime(true);?>\"></script>\n<?php\n}\n?>\n<script src=\"<?php echo $settingsClass->assetsRoot;?>/js/mmd.js?microtime=<?php echo microtime(true);?>\"></script>\n<script src=\"<?php echo $settingsClass->assetsRoot;?>/js/farbtastic.js?microtime=<?php echo microtime(true);?>\"></script>\n<script src=\"<?php echo $settingsClass->assetsRoot;?>/js/difflib.js?microtime=<?php echo microtime(true);?>\"></script>\n<link rel=\"stylesheet\" href=\"<?php echo $settingsClass->assetsRoot;?>/css/farbtastic.css?microtime=<?php echo microtime(true);?>\" type=\"text/css\">\n</head>\n\n<body onload=\"<?php\n\techo \"ICEcoder.versionNo = '\" . $ICEcoder[\"versionNo\"] . \"';\".\n\t\t'ICEcoder.previousFiles = [';\n\t\tif (false === empty($ICEcoder[\"previousFiles\"])) {\n\t\t\techo \"'\" . implode(\"','\", $ICEcoder[\"previousFiles\"]) . \"'\";\n\t\t}\n\techo \"];\";\n\techo \"ICEcoder.theme = '\" . (\"default\" === $ICEcoder[\"theme\"] ? 'icecoder' : $ICEcoder[\"theme\"]) . \"';\" .\n\t\t\"ICEcoder.autoLogoutMins = \" . $ICEcoder[\"autoLogoutMins\"] . \";\" .\n\t\t\"ICEcoder.fontSize = '\" . $ICEcoder[\"fontSize\"] . \"';\" .\n\t\t\"ICEcoder.openLastFiles = \" . ($ICEcoder[\"openLastFiles\"] ? 'true' : 'false') . \";\" .\n\t\t\"ICEcoder.updateDiffOnSave = \" . ($ICEcoder[\"updateDiffOnSave\"] ? 'true' : 'false') . \";\" .\n\t\t\"ICEcoder.languageUser = '\".$ICEcoder[\"languageUser\"] . \"';\" .\n\t\t\"ICEcoder.codeAssist = \" . ($ICEcoder[\"codeAssist\"] ? 'true' : 'false') . \";\" .\n\t\t\"ICEcoder.lockedNav = \" . ($ICEcoder[\"lockedNav\"] ? 'true' : 'false') . \";\" .\n\t\t\"ICEcoder.lineWrapping = \" . ($ICEcoder[\"lineWrapping\"] ? 'true' : 'false') . \";\" .\n\t\t\"ICEcoder.lineNumbers = \" . ($ICEcoder[\"lineNumbers\"] ? 'true' : 'false') . \";\" .\n\t\t\"ICEcoder.showTrailingSpace = \" . ($ICEcoder[\"showTrailingSpace\"] ? 'true' : 'false') . \";\" .\n\t\t\"ICEcoder.matchBrackets = \" . ($ICEcoder[\"matchBrackets\"] ? 'true' : 'false') . \";\" .\n\t\t\"ICEcoder.autoCloseTags = \" . ($ICEcoder[\"autoCloseTags\"] ? 'true' : 'false') . \";\" .\n\t\t\"ICEcoder.autoCloseBrackets = \" . ($ICEcoder[\"autoCloseBrackets\"] ? 'true' : 'false') . \";\" .\n\t\t\"ICEcoder.indentType = '\" . $ICEcoder[\"indentType\"] . \"';\" .\n\t\t\"ICEcoder.indentAuto = \" . ($ICEcoder[\"indentAuto\"] ? 'true' : 'false') . \";\" .\n\t\t\"ICEcoder.indentSize = \" . $ICEcoder[\"indentSize\"] . \";\" .\n\t\t\"ICEcoder.scrollbarStyle = '\" . $ICEcoder[\"scrollbarStyle\"] . \"';\" .\n\t\t\"ICEcoder.demoMode = \" . ($ICEcoder[\"demoMode\"] ? 'true' : 'false') . \";\" .\n\t\t\"ICEcoder.tagWrapperCommand = '\" . $ICEcoder[\"tagWrapperCommand\"] . \"';\" .\n\t\t\"ICEcoder.autoComplete = '\" . $ICEcoder[\"autoComplete\"] . \"';\" .\n\t\t\"ICEcoder.selectNextOnFindInput = \" . ($ICEcoder[\"selectNextOnFindInput\"] ? 'true' : 'false') . \";\" .\n\t\t\"ICEcoder.goToLineScrollSpeed = '\" . $ICEcoder[\"goToLineScrollSpeed\"] . \"';\" .\n\t\t\"ICEcoder.bugFilePaths = ['\" . implode(\"','\",$ICEcoder[\"bugFilePaths\"]) . \"'];\" .\n\t\t\"ICEcoder.bugFileCheckTimer = \".$ICEcoder[\"bugFileCheckTimer\"] . \";\" .\n\t\t\"ICEcoder.bugFileMaxLines = \" . $ICEcoder[\"bugFileMaxLines\"] . \";\" .\n\t\t\"ICEcoder.fileDirResOutput = '\" . $ICEcoder[\"fileDirResOutput\"] . \"';\" .\n\t\t\"ICEcoder.newDirPerms = \" . $ICEcoder[\"newDirPerms\"] . \";\" .\n\t\t\"ICEcoder.newFilePerms = \" . $ICEcoder[\"newFilePerms\"] . \";\";\n\t\techo \"ICEcoder.csrf = '\" . $_SESSION[\"csrf\"] . \"';\";\n        if (true === $ICEcoder[\"tutorialOnLogin\"]) {\n            echo \"ICEcoder.viewTutorial(false, 700);\";\n        }\n    $extraProcessesClass = new ExtraProcesses();\n    $onLoad = $extraProcessesClass->onLoad();\n?>ICEcoder.init()<?php echo $updateMsg . $onLoadExtras;?>;ICEcoder.content.style.visibility = 'visible';<?php echo $onLoad;?><?php if (true === isset($_GET[\"display\"]) && \"updated\" === $_GET[\"display\"]) {echo \"ICEcoder.updated();\";};?>\" onresize=\"ICEcoder.setLayout()\" onkeydown=\"return ICEcoder.interceptKeys('coder', event);\" onkeyup=\"if ('visible' === get('blackMask').style.visibility) {ICEcoder.handleModalKeyUp(event, 'modalGeneralCatch')}; ICEcoder.resetKeys(event);\" onblur=\"ICEcoder.resetKeys(event);\">\n\n<div id=\"blackMask\" class=\"blackMask\" onclick=\"if (!ICEcoder.overPopup) {ICEcoder.showHide('hide', this)}\" oncontextmenu=\"return false\">\n\t<div class=\"popupVCenter\">\n\t\t<div class=\"popup\" id=\"mediaContainer\"></div>\n\t</div>\n\t<div class=\"floatingContainer\" id=\"floatingContainer\"></div>\n</div>\n\n<div id=\"loadingMask\" class=\"blackMask\" style=\"visibility: visible\" oncontextmenu=\"return false\">\n\t<div class=\"popupVCenter\">\n\t\t<div class=\"popup\">\n\t\t\t<div class=\"spinner\"></div>\n\t\t\t<?php echo $t['working'];?>...\n\t\t</div>\n\t</div>\n</div>\n\n<div id=\"infoBlackMask\" class=\"infoBlackMask\" oncontextmenu=\"return false\"></div>\n<div id=\"infoMessageContainer\" class=\"infoMessageContainer\" oncontextmenu=\"return false\">\n    <div id=\"infoMessage\" class=\"infoMessage\"></div>\n</div>\n\n<div id=\"plugins\" class=\"plugins\" style=\"<?php echo $ICEcoder[\"pluginPanelAligned\"];?>: 0\" onmouseover=\"ICEcoder.showHidePlugins('show')\" onmouseout=\"ICEcoder.showHidePlugins('hide')\" onclick=\"ICEcoder.showHidePlugins('hide')\">\n\t<div style=\"padding: 15px\">\n\t\t<a nohref onclick=\"ICEcoder.showColorPicker(document.getElementById('color') ? document.getElementById('color').value : '#123456')\" title=\"Farbtastic\n<?php echo $t['Color picker'];?>\"><img src=\"<?php echo $settingsClass->assetsRoot;?>/images/color-picker.png\" style=\"cursor: pointer\" alt=\"Color Picker\"></a><br><br>\n\t\t<div id=\"pluginsOptional\"><?php echo $pluginsDisplay; ?></div>\n\t\t<a nohref onclick=\"ICEcoder.pluginsManager()\" title=\"<?php echo $t['Plugins Manager'];?>\" style=\"color: #ddd; margin-left: 2px; cursor: pointer\"><?php echo file_get_contents(dirname(__FILE__) . \"/assets/images/icons/plus.svg\");?></a>\n\t</div>\n</div>\n\n<div id=\"fileMenu\" class=\"fileMenu\" onmouseover=\"ICEcoder.changeFilesW('expand')\" onmouseout=\"ICEcoder.changeFilesW('contract'); ICEcoder.hideFileMenu()\" style=\"opacity: 0\" oncontextmenu=\"return false\">\n\t<span id=\"folderMenuItems\">\n\t\t<a href=\"javascript:ICEcoder.newFile()\" onmouseover=\"ICEcoder.showFileMenu()\"><?php echo $t['New File'];?></a>\n\t\t<a href=\"javascript:ICEcoder.newFolder()\" onmouseover=\"ICEcoder.showFileMenu()\"><?php echo $t['New Folder'];?></a>\n\t\t<div onmouseover=\"ICEcoder.showFileMenu()\" style=\"padding: 2px 0\"><hr></div>\n\t\t<a href=\"javascript:ICEcoder.uploadFilesSelect(ICEcoder.selectedFiles[ICEcoder.selectedFiles.length - 1])\" onmouseover=\"ICEcoder.showFileMenu()\"><?php echo $t['Upload File(s)'];?></a>\n\t\t<div style=\"display: none\">\n\t\t\t<form enctype=\"multipart/form-data\" id=\"uploadFilesForm\" action=\"<?php echo $iceURLPath;?>/lib/file-control.php?action=upload&file=/uploaded\" method=\"POST\" target=\"fileControl\">\n\t\t\t\t<input type=\"hidden\" name=\"folder\" id=\"uploadDir\" value=\"/\">\n\t\t\t\t<input type=\"file\" name=\"filesInput[]\" id=\"fileInput\" onchange=\"ICEcoder.uploadFilesSubmit(this)\" multiple>\n\t\t\t\t<input type=\"submit\" value=\"Upload File\">\n\t\t\t\t<input type=\"hidden\" name=\"csrf\" value=\"<?php echo $_SESSION[\"csrf\"]; ?>\">\n\t\t\t</form>\n\t\t</div>\n\t\t<a href=\"javascript:ICEcoder.pasteFiles(ICEcoder.selectedFiles[ICEcoder.selectedFiles.length - 1])\" onmouseover=\"ICEcoder.showFileMenu()\" id=\"fmMenuPasteOption\" style=\"display: none\"><?php echo $t['Paste'];?></a>\n\t\t<div onmouseover=\"ICEcoder.showFileMenu()\" style=\"padding: 2px 0\"><hr></div>\n\t</span>\n\t<a href=\"javascript:ICEcoder.openFilesFromList(ICEcoder.selectedFiles)\" onmouseover=\"ICEcoder.showFileMenu()\"><?php echo $t['Open'];?></a>\n\t<a href=\"javascript:ICEcoder.copyFiles(ICEcoder.selectedFiles)\" onmouseover=\"ICEcoder.showFileMenu()\"><?php echo $t['Copy'];?></a>\n\t<a href=\"javascript:ICEcoder.duplicateFiles(ICEcoder.selectedFiles)\" onmouseover=\"ICEcoder.showFileMenu()\"><?php echo $t['Duplicate'];?></a>\n\t<a href=\"javascript:ICEcoder.deleteFiles(ICEcoder.selectedFiles)\" onmouseover=\"ICEcoder.showFileMenu()\"><?php echo $t['Delete'];?></a>\n\t<span id=\"singleFileMenuItems\">\n\t\t<a href=\"javascript:ICEcoder.renameFile(ICEcoder.selectedFiles[ICEcoder.selectedFiles.length - 1])\" onmouseover=\"ICEcoder.showFileMenu()\"><?php echo $t['Rename'];?></a>\n\t\t<div onmouseover=\"ICEcoder.showFileMenu()\" style=\"padding: 2px 0\"><hr></div>\n\t\t<a nohref onClick=\"window.open('//<?php echo $_SERVER['HTTP_HOST'];?>' + iceRoot + ICEcoder.selectedFiles[ICEcoder.selectedFiles.length - 1].replace(/\\|/g, '/'))\" onmouseover=\"ICEcoder.showFileMenu()\" style=\"cursor: pointer\"><?php echo $t['View Webpage'];?></a>\n\t</span>\n\t<div onmouseover=\"ICEcoder.showFileMenu()\" style=\"padding: 2px 0\"><hr></div>\n\t<?php\n\tif (true === file_exists(dirname(__FILE__) . \"/plugins/zip-it/index.php\")) {\n\t\techo '<a href=\"javascript:ICEcoder.zipIt(ICEcoder.selectedFiles[ICEcoder.selectedFiles.length - 1])\" onmouseover=\"ICEcoder.showFileMenu()\">Zip It!</a>' . PHP_EOL;\n\t};\n\t?>\n\t<a href=\"javascript:ICEcoder.downloadFile(ICEcoder.selectedFiles[ICEcoder.selectedFiles.length - 1])\" onmouseover=\"ICEcoder.showFileMenu()\"><?php echo $t['Download'];?></a>\n\t<div onmouseover=\"ICEcoder.showFileMenu()\" style=\"padding: 2px 0\"><hr></div>\n\t<a href=\"javascript:ICEcoder.propertiesScreen(ICEcoder.selectedFiles[ICEcoder.selectedFiles.length - 1])\" onmouseover=\"ICEcoder.showFileMenu()\"><?php echo $t['Properties'];?></a>\n</div>\n\n<div id=\"header\" class=\"header\" oncontextmenu=\"return false\"></div>\n\n<div id=\"files\" class=\"files\" onmouseover=\"ICEcoder.changeFilesW('expand')\" onmouseout=\"ICEcoder.changeFilesW('contract'); ICEcoder.hideFileMenu();\" oncontextmenu=\"return false\">\n\t<div id=\"fileNav\" class=\"fileNav\">\n\t\t<ul>\n\t\t\t<li><a nohref onclick=\"ICEcoder.canShowFMNav = true; ICEcoder.showHideFileNav('show', 'optionsFile')\" onmouseover=\"if (ICEcoder.canShowFMNav) {ICEcoder.showHideFileNav('show', 'optionsFile')}\" id=\"optionsFileNav\"><?php echo $t['File'];?></a></li>\n\t\t\t<li><a nohref onclick=\"ICEcoder.canShowFMNav = true; ICEcoder.showHideFileNav('show', 'optionsEdit')\" onmouseover=\"if (ICEcoder.canShowFMNav) {ICEcoder.showHideFileNav('show', 'optionsEdit')}\" id=\"optionsEditNav\"><?php echo $t['Edit'];?></a></li>\n            <li><a nohref onclick=\"ICEcoder.canShowFMNav = true; ICEcoder.showHideFileNav('show', 'optionsSettings')\" onmouseover=\"if (ICEcoder.canShowFMNav) {ICEcoder.showHideFileNav('show', 'optionsSettings')}\" id=\"optionsSettingsNav\"><?php echo $t['Settings'];?></a></li>\n\t\t\t<li><a nohref onclick=\"ICEcoder.canShowFMNav = true; ICEcoder.showHideFileNav('show', 'optionsHelp')\" onmouseover=\"if (ICEcoder.canShowFMNav) {ICEcoder.showHideFileNav('show', 'optionsHelp')}\" id=\"optionsHelpNav\"><?php echo $t['Help'];?></a></li>\n        </ul>\n\t</div>\n\t<div class=\"options\" id=\"fileOptions\">\n\t\t<div id=\"optionsFile\" class=\"optionsList\" onmouseover=\"ICEcoder.showHideFileNav('show', this.id)\" onmouseout=\"ICEcoder.showHideFileNav('hide', this.id); ICEcoder.canShowFMNav = false\">\n\t\t\t<ul>\n\t\t\t\t<li><a nohref onClick=\"ICEcoder.newFile()\"><?php echo $t['New File'];?>...</a></li>\n\t\t\t\t<li><a nohref onClick=\"ICEcoder.newFolder()\"><?php echo $t['New Folder'];?>...</a></li>\n\t\t\t\t<li><a nohref onClick=\"ICEcoder.openPrompt()\"><?php echo $t['Open'];?>...</a></li>\n\t\t\t\t<li><a nohref onClick=\"ICEcoder.saveFile(false, false)\"><?php echo $t['Save'];?></a></li>\n\t\t\t\t<li><a nohref onclick=\"ICEcoder.saveFile(true, false)\"><?php echo $t['Save As'];?>...</a></li>\n\t\t\t\t<li><a nohref onclick=\"ICEcoder.openPreviewWindow()\"><?php echo $t['Live Preview'];?></a></li>\n\t\t\t\t<li><a nohref onclick=\"ICEcoder.downloadFile(ICEcoder.selectedFiles[ICEcoder.selectedFiles.length - 1])\"><?php echo $t['Download'];?></a></li>\n\t\t\t\t<li><a nohref onclick=\"ICEcoder.copyFiles(ICEcoder.selectedFiles)\"><?php echo $t['Copy'];?></a></li>\n\t\t\t\t<li><a nohref onclick=\"ICEcoder.pasteFiles(ICEcoder.selectedFiles[ICEcoder.selectedFiles.length - 1])\"><?php echo $t['Paste'];?></a></li>\n\t\t\t\t<li><a nohref onclick=\"ICEcoder.deleteFiles(ICEcoder.selectedFiles)\"><?php echo $t['Delete'];?></a></li>\n\t\t\t\t<li><a nohref onclick=\"ICEcoder.duplicateFiles(ICEcoder.selectedFiles)\"><?php echo $t['Duplicate'];?></a></li>\n\t\t\t\t<li><a nohref onclick=\"ICEcoder.renameFile(ICEcoder.selectedFiles[ICEcoder.selectedFiles.length - 1])\"><?php echo $t['Rename'];?></a></li>\n\t\t\t\t<li><a nohref onclick=\"ICEcoder.uploadFilesSelect(ICEcoder.selectedFiles[ICEcoder.selectedFiles.length - 1])\"><?php echo $t['Upload'];?>...</a></li>\n\t\t\t\t<li><a nohref onclick=\"ICEcoder.zipIt(ICEcoder.selectedFiles[ICEcoder.selectedFiles.length - 1])\"><?php echo $t['Zip'];?></a></li>\n\t\t\t\t<li><a nohref onclick=\"ICEcoder.propertiesScreen(ICEcoder.selectedFiles[ICEcoder.selectedFiles.length - 1])\"><?php echo $t['Properties'];?>...</a></li>\n\t\t\t\t<li><a nohref onClick=\"ICEcoder.printCode()\"><?php echo $t['Print'];?>...</a></li>\n\t\t\t\t<li><a nohref onClick=\"ICEcoder.fullScreenSwitcher()\"><?php echo $t['Fullscreen toggle'];?></a></li>\n\t\t\t\t<?php if (true === $ICEcoder['loginRequired']) {?>\n\t\t\t\t<li><a nohref onClick=\"ICEcoder.logout()\"><?php echo $t['Logout'];?></a></li>\n\t\t\t\t<?php ;}; ?>\n\t\t\t</ul>\n\t\t</div>\n\t\t<div id=\"optionsEdit\" class=\"optionsList\" onmouseover=\"ICEcoder.showHideFileNav('show', this.id)\" onmouseout=\"ICEcoder.showHideFileNav('hide', this.id); ICEcoder.canShowFMNav = false\">\n\t\t\t<ul>\n\t\t\t\t<li><a nohref onclick=\"ICEcoder.undo()\"><?php echo $t['Undo'];?></a></li>\n\t\t\t\t<li><a nohref onclick=\"ICEcoder.redo()\"><?php echo $t['Redo'];?></a></li>\n\t\t\t\t<li><a nohref onclick=\"ICEcoder.indent('more')\"><?php echo $t['Indent more'];?></a></li>\n\t\t\t\t<li><a nohref onclick=\"ICEcoder.indent('less')\"><?php echo $t['Indent less'];?></a></li>\n\t\t\t\t<li><a nohref onclick=\"ICEcoder.autocomplete()\"><?php echo $t['Autocomplete'];?></a></li>\n\t\t\t\t<li><a nohref onclick=\"ICEcoder.lineCommentToggle()\"><?php echo $t['Comment/Uncomment'];?></a></li>\n\t\t\t\t<li><a nohref onclick=\"ICEcoder.jumpToDefinition()\"><?php echo $t['Jump to Definition'];?></a></li>\n\t\t\t</ul>\n\t\t</div>\n        <div id=\"optionsSettings\" class=\"optionsList\" onmouseover=\"ICEcoder.showHideFileNav('show', this.id)\" onmouseout=\"ICEcoder.showHideFileNav('hide', this.id);ICEcoder.canShowFMNav = false\">\n            <ul>\n                <li><a nohref onclick=\"ICEcoder.settingsScreen(false, 'general')\">General</a></li>\n                <li><a nohref onclick=\"ICEcoder.settingsScreen(false, 'style')\">Style</a></li>\n                <li><a nohref onclick=\"ICEcoder.settingsScreen(false, 'accounts')\">Accounts</a></li>\n                <li><a nohref onclick=\"ICEcoder.settingsScreen(false, 'security')\">Security</a></li>\n                <li><a nohref onclick=\"ICEcoder.pluginsManager()\">Plugins</a></li>\n            </ul>\n        </div>\n\t\t<div id=\"optionsHelp\" class=\"optionsList\" onmouseover=\"ICEcoder.showHideFileNav('show', this.id)\" onmouseout=\"ICEcoder.showHideFileNav('hide', this.id);ICEcoder.canShowFMNav = false\">\n\t\t\t<ul>\n\t\t\t\t<li><a nohref onclick=\"ICEcoder.viewTutorial(false, 500)\">Tutorial</a></li>\n\t\t\t\t<li><a href=\"https://icecoder.net/usage\" target=\"_blank\">Usage</a></li>\n\t\t\t\t<li><a href=\"https://icecoder.net/tips-tricks\" target=\"_blank\">Tips &amp; Tricks</a></li>\n\t\t\t\t<li><a nohref onclick=\"ICEcoder.showManual('<?php echo $ICEcoder[\"versionNo\"];?>')\"><?php echo $t['Manual'];?></a></li>\n\t\t\t\t<li><a nohref onClick=\"ICEcoder.helpScreen()\"><?php echo $t['Shortcuts'];?></a></li>\n\t\t\t\t<li><a nohref onclick=\"ICEcoder.searchForSelected()\"><?php echo $t['Search for selected'];?></a></li>\n\t\t\t\t<li><a href=\"https://icecoder.net\" target=\"_blank\">ICEcoder <?php echo $t['website'];?></a></li>\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n\t<iframe id=\"filesFrame\" class=\"frame\" name=\"ff\" src=\"<?php echo $iceURLPath;?>/files.php\" style=\"opacity: 0\" onLoad=\"this.style.opacity = '1'; this.contentWindow.onscroll = function(){ICEcoder.mouseDown = false; ICEcoder.mouseDownInCM = false}\"></iframe>\n\n    <div class=\"tools\" id=\"tools\">\n        <div onclick=\"ICEcoder.toolShowHideToggle('terminal')\" id=\"toolLinkTerminal\" title=\"Terminal\"><?php echo file_get_contents(dirname(__FILE__) . \"/assets/images/icons/terminal-2.svg\");?></div>\n        <div onclick=\"ICEcoder.toolShowHideToggle('output'); this.className = ''\" id=\"toolLinkOutput\" title=\"Output\"><?php echo file_get_contents(dirname(__FILE__) . \"/assets/images/icons/layout-list.svg\");?></div>\n        <div onclick=\"ICEcoder.toolShowHideToggle('database')\" id=\"toolLinkDatabase\" title=\"Database\"><?php echo file_get_contents(dirname(__FILE__) . \"/assets/images/icons/database.svg\");?></div>\n        <div onclick=\"ICEcoder.toolShowHideToggle('git')\" id=\"toolLinkGit\" title=\"Git\"><?php echo file_get_contents(dirname(__FILE__) . \"/assets/images/icons/git-compare.svg\");?></div>\n    </div>\n</div>\n\n<div id=\"editor\" class=\"editor\">\n\t<div id=\"tabsBar\" class=\"tabsBar\" oncontextmenu=\"return false\">\n\t\t<a nohref onClick=\"ICEcoder.closeAllTabs()\"><img src=\"<?php echo $settingsClass->assetsRoot;?>/images/nav-close-all.gif\" class=\"closeAllTabs\" title=\"<?php echo $t['Close all tabs'];?>\"></a>\n\t\t<a nohref onClick=\"ICEcoder.alphaTabs()\"><img src=\"<?php echo $settingsClass->assetsRoot;?>/images/nav-alpha.png\" class=\"alphaTabs\" title=\"<?php echo $t['Alphabetize tabs'];?>\"></a>\n\t\t<?php\n\t\tfor ($i = 1; $i <= 100; $i++) {\n\t\t\techo '<div id=\"tab' . $i . '\" class=\"tab\" onmousedown=\"if (false === ICEcoder.overCloseLink) {ICEcoder.switchTab(parseInt(this.id.slice(3), 10)); ICEcoder.tabDragStart(parseInt(this.id.slice(3), 10))}; if (1 === event.button) {ICEcoder.closeTab(parseInt(this.id.slice(3), 10)); return false}; thisColor = ICEcoder.colorSelectedText;\" onmouseover=\"thisColor = this.style.color; this.style.color = ICEcoder.colorSelectedText\" onmouseout=\"this.style.color = thisColor\" ondblclick=\"ICEcoder.focusUnfocusTab()\"></div>';\n\t\t}\n\t\t?><div class=\"newTab\" onClick=\"ICEcoder.newTab(false)\" id=\"newTab\">+</div>\n\t</div>\n\t<div id=\"findBar\" class=\"findBar\" oncontextmenu=\"return false\">\n\t\t<form name=\"findAndReplace\" onsubmit=\"ICEcoder.findReplace(get('find').value, false, false, false); ICEcoder.getcMInstance().focus(); return false\">\n\t\t\t<div class=\"findReplace\">\n\t\t\t\t<div class=\"findRegexToggle\" id=\"findRegexToggle\" onclick=\"ICEcoder.findRegexToggle()\" title=\"RegEx\">^$</div><div class=\"findText\"><?php echo $t['Find'];?></div>\n\t\t\t\t<input type=\"text\" name=\"find\" value=\"\" id=\"find\" class=\"textbox find\" oninput=\"ICEcoder.findOnInput()\">\n\n\t\t\t\t<div class=\"selectWrapper\" style=\"width: 41px\">\n\t\t\t\t\t<select name=\"connector\" onChange=\"ICEcoder.findReplaceOptions()\" style=\"width: 40px; margin-top: 4px\">\n                        <option><?php echo $t['in'];?></option>\n                        <option><?php echo $t['and'];?></option>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"replaceText\" id=\"rText\" style=\"display: none\">\n\t\t\t\t\t<div class=\"selectWrapper\" style=\"width: 75px; overflow: visible\">\n\t\t\t\t\t\t<select name=\"replaceAction\" style=\"width: 72px; margin-top: -2px\">\n\t\t\t\t\t\t\t<option><?php echo $t['replace'];?></option>\n\t\t\t\t\t\t\t<option><?php echo $t['replace all'];?></option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t\t <div class=\"withText\">with</div>\n\t\t\t\t</div>\n\t\t\t\t<input type=\"text\" name=\"replace\" value=\"\" id=\"replace\" class=\"textbox replace\" style=\"display: none\">\n\t\t\t\t<div class=\"targetText\" id=\"rTarget\" style=\"display: none\">in</div>\n\t\t\t\t\t<div class=\"selectWrapper\" style=\"width: 104px\">\n\t\t\t\t\t\t<select name=\"target\" onChange=\"ICEcoder.updateResultsDisplay('this document' === this.value ? 'show' : 'hide')\" style=\"width: 101px; margin-top: 4px; margin-left: 2px\">\n\t\t\t\t\t\t\t<option><?php echo $t['this document'];?></option>\n\t\t\t\t\t\t\t<option><?php echo $t['open documents'];?></option>\n\t\t\t\t\t\t\t<option><?php echo $t['all files'];?></option>\n\t\t\t\t\t\t\t<option><?php echo $t['all filenames'];?></option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t<input type=\"button\" name=\"prev\" value=\"&lt;&lt;\" class=\"button\" onclick=\"ICEcoder.findReplace(get('find').value, true, true, true);\">\n\t\t\t\t<input type=\"button\" name=\"next\" value=\"&gt;&gt;\" class=\"button\" onclick=\"ICEcoder.findReplace(get('find').value, true, true, false);\">\n\t\t\t\t<input type=\"submit\" name=\"sub\" value=\"sub\" style=\"display: none\">\n\t\t\t\t<div class=\"results\" id=\"results\"></div>\n\t\t\t</div>\n\t\t\t<input type=\"hidden\" name=\"csrf\" value=\"<?php echo $_SESSION[\"csrf\"]; ?>\">\n\t\t</form>\n\t\t<form onSubmit=\"return ICEcoder.goToLine(get('goToLineNo').value, 0, false)\">\n\t\t\t<div class=\"goLine\"><?php echo $t['Go to Line'];?> <input type=\"text\" name=\"goToLine\" value=\"\" maxlength=\"5\" id=\"goToLineNo\" onkeyup=\"ICEcoder.goToLine(this.value, 0, true)\" class=\"textbox goToLine\"></div>\n\t\t\t<div class=\"view\" title=\"<?php echo $t['View'];?>\" onClick=\"ICEcoder.openPreviewWindow()\" id=\"fMView\"><?php echo file_get_contents(dirname(__FILE__) . \"/assets/images/icons/browser.svg\");?></div>\n\t\t\t<div class=\"bug\" title=\"<?php echo $t['Bug reporting not active'];?>\" onClick=\"ICEcoder.openBugReport()\" id=\"bugIcon\"><?php echo file_get_contents(dirname(__FILE__) . \"/assets/images/icons/bug.svg\");?></div>\n\t\t\t<input type=\"hidden\" name=\"csrf\" value=\"<?php echo $_SESSION[\"csrf\"]; ?>\">\n\t\t</form>\n\t</div>\n\t<iframe name=\"terminalFrame\" id=\"terminal\" src=\"<?php echo $iceURLPath;?>/terminal.php\" class=\"terminal\"></iframe>\n\t<pre id=\"output\" class=\"output\" style=\"font-family: monospace\"><b>Output</b><br>via ICEcoder.output(message);<br><br></pre>\n\t<iframe name=\"databaseFrame\" id=\"database\" src=\"<?php echo $iceURLPath;?>/lib/database.php\" class=\"database\"></iframe>\n\t<div id=\"git\" class=\"git\" style=\"font-family: monospace\"><?php\n\tif (file_exists($docRoot . $ICEcoderDir . \"/data/git-diff.php\")) {\n\t\techo \"Looking for git status...\";\n\t} else {\n\t\techo \"To provide git diff data to ICEcoder, please run...<br><br>sudo nohup php server/run-tasks.php > data/nohup.log 2>&1 &<br><br>...to run as a background process\";\n\t};?></div>\n\t<iframe name=\"contentFrame\" id=\"content\" src=\"<?php echo $iceURLPath;?>/editor.php\" class=\"code\" scrolling=\"no\"></iframe>\n</div>\n\n<div class=\"footer\" id=\"footer\" oncontextmenu=\"return false\">\n\t<div class=\"versionsDisplay\" id=\"versionsDisplay\" onclick=\"ICEcoder.versionsScreen(ICEcoder.openFiles[ICEcoder.selectedTab - 1].replace(/\\//g, '|'))\"></div>\n    <div class=\"serverMessage\" id=\"serverMessage\"></div>\n\t<div class=\"splitPaneControls\" id=\"splitPaneControls\"><div class=\"off\" id=\"splitPaneControlsOff\" title=\"<?php echo $t['Single pane'];?>\" onclick=\"ICEcoder.setSplitPane('off')\" style=\"opacity: 0.8\"><?php echo file_get_contents(dirname(__FILE__) . \"/assets/images/icons/square.svg\");?></div><div class=\"on\" id=\"splitPaneControlsOn\" title=\"<?php echo $t['Diff pane also'];?>\" onclick=\"ICEcoder.setSplitPane('on')\" style=\"opacity: 0.2\"><?php echo file_get_contents(dirname(__FILE__) . \"/assets/images/icons/layout-columns.svg\");?></div></div>\n\t<div class=\"splitPaneNames\" id=\"splitPaneNamesMain\">Main Pane</div>\n\t<div class=\"splitPaneNames\" id=\"splitPaneNamesDiff\">Diff Pane</div>\n\t<div class=\"byteDisplay\" id=\"byteDisplay\" style=\"display: none\" onClick=\"ICEcoder.showDisplay('char')\"></div>\n\t<div class=\"charDisplay\" id=\"charDisplay\" style=\"display: inline-block\" onClick=\"ICEcoder.showDisplay('byte')\"></div>\n</div>\n\n<div id=\"tooltip\" class=\"tooltip\" style=\"display: none\"></div>\n\n<div class=\"closeIcon\" style=\"display: none\" id=\"closeIcon\"><?php echo file_get_contents(dirname(__FILE__) . \"/assets/images/icons/x.svg\");?></div>\n\n<?php\necho $systemClass->getDemoModeIndicator(false);\n?>\n\n<script>\nICEcoder.initAliases();\nICEcoder.setLayout(false);\n</script>\n\n</body>\n\n</html>\n"
        },
        {
          "name": "lang",
          "type": "tree",
          "content": null
        },
        {
          "name": "lib",
          "type": "tree",
          "content": null
        },
        {
          "name": "plugins",
          "type": "tree",
          "content": null
        },
        {
          "name": "server",
          "type": "tree",
          "content": null
        },
        {
          "name": "terminal.php",
          "type": "blob",
          "size": 5.1953125,
          "content": "<?php\ninclude \"lib/headers.php\";\ninclude \"lib/settings.php\";\n?>\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n<title>ICEcoder <?php echo $ICEcoder[\"versionNo\"];?> Terminal</title>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n<meta name=\"robots\" content=\"noindex, nofollow\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=0.5, user-scalable=no\">\n<link rel=\"stylesheet\" type=\"text/css\" href=\"<?php echo $settingsClass->assetsRoot;?>/css/terminal.css?microtime=<?php echo microtime(true);?>\" />\n<script type=\"text/javascript\" language=\"JavaScript\">\ncommandHistory = [];\ncurrentLine = 0;\n\n// Handle command history as user cycles with up/down arrow keys or types other keys\nkey = function(e) {\n\tif (!e) {\n\t\tvar e = window.event;\n\t}\n\n\t// Up\n\tif (38 === e.keyCode) {\n\t\t// If blank, set a blank line as current\n\t\tif (\"\" == document.getElementById('command').value) {\n\t\t\tcurrentCommand = \"\";\n\t\t}\n\t\t// If we have history and the last command in history isn't this one\n\t\tif (commandHistory[commandHistory.length - 1] && commandHistory[commandHistory.length - 1].replace(\"[[ICEcoder]]:\", \"\") !== currentCommand) {\n\t\t\t// Push or append as last item in array with string to indicate temp nature\n\t\t\tif (0 !== commandHistory[commandHistory.length - 1].indexOf(\"[[ICEcoder]]:\")) {\n\t\t\t\tcommandHistory.push(\"[[ICEcoder]]:\" + currentCommand);\n\t\t\t} else {\n\t\t\t\tcommandHistory[commandHistory.length - 1] = \"[[ICEcoder]]:\" + currentCommand;\n\t\t\t}\n\t\t}\n\t\t// If we have at least some items in history, step back a level and display the previous command\n\t\tif (0 < currentLine) {\n\t\t\tcurrentLine--;\n\t\t\tdocument.getElementById('command').value = commandHistory[currentLine].replace(\"[[ICEcoder]]:\", \"\");\n\t\t}\n\t// Down\n\t// If the current line isn't the last in the array, take a step forward and display the command\n\t} else if(40 === e.keyCode && currentLine < commandHistory.length - 1) {\n\t\tcurrentLine++;\n\t\tdocument.getElementById('command').value = commandHistory[currentLine].replace(\"[[ICEcoder]]:\", \"\");\n\t// Set the current command value to that of the user input\n\t} else {\n\t\tcurrentCommand = document.getElementById('command').value;\n\t}\n}\n\nsendCmd = function(command) {\n\t// Send command over XHR for response and display\n\txhr = parent.ICEcoder.xhrObj();\n\txhr.onreadystatechange = function() {\n\t\tif (4 === xhr.readyState) {\n\t\t\t// OK reponse?\n\t\t\tif (200 === xhr.status) {\n\t\t\t\t// Set the output to also include our response and scroll down to bottom\n\t\t\t\tvar newOutput = document.createElement(\"DIV\");\n\t\t\t\tresponseText = xhr.responseText;\n\t\t\t\tresponseJSON = JSON.parse(responseText);\n\t\t\t\tnewOutput.innerHTML = responseJSON.output;\n\t\t\t\tdocument.getElementById(\"user\").innerHTML = \"&nbsp;&nbsp\" + responseJSON.user + \"&nbsp;\";\n\t\t\t\tdocument.getElementById(\"cwd\").innerHTML = \"&nbsp;\" + responseJSON.cwd + \"&nbsp;\";\n\t\t\t\tvar cmdElem = document.getElementById(\"commandLine\");\n\t\t\t\tcmdElem.parentNode.insertBefore(newOutput, cmdElem);\n\t\t\t\tparent.document.getElementById(\"terminal\").contentWindow.document.documentElement.scrollTop = document.getElementById('output').scrollHeight;\n\n\t\t\t\t// Add command onto end of history array or set as last item in array\n\t\t\t\tif (0 === currentLine || 0 !== commandHistory[commandHistory.length - 1].indexOf(\"[[ICEcoder]]:\")) {\n\t\t\t\t\tcommandHistory.push(document.getElementById('command').value);\n\t\t\t\t} else {\n\t\t\t\t\tcommandHistory[commandHistory.length - 1] = document.getElementById('command').value;\n\t\t\t\t}\n\n\t\t\t\t// Set the current line to be the length of the array and clear the command\n\t\t\t\tcurrentLine = commandHistory.length;\n\t\t\t\tdocument.getElementById('command').value = \"\";\n\t\t\t}\n\t\t}\n\t};\n\n\t// Send the XHR request\n\txhr.open(\"POST\", parent.ICEcoder.iceLoc + \"/lib/terminal-xhr.php?csrf=\" + parent.ICEcoder.csrf, true);\n\txhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n\txhr.send('command=' + encodeURIComponent(command));\n}\n</script>\n</head>\n\n<body onclick=\"document.getElementById('command').focus()\">\n<?php\n// If we have no cwd set in session, set it now\nif (false === isset($_SESSION['cwd'])) {\n\t$_SESSION['cwd'] = $docRoot . $iceRoot;\n}\n\n// Change to cwd\nchdir($_SESSION['cwd']);\n\nif (true === $systemClass->functionEnabled(\"shell_exec\")) {\n\t// Get current user and cwd\n\t$user = str_replace(\"\\n\", \"\", shell_exec(\"whoami\"));\n\t$cwd = str_replace(\"\\n\", \"\", shell_exec(\"pwd\"));\n?>\n\n<form name=\"shell\" onsubmit=\"sendCmd(document.getElementById('command').value); return false\" method=\"POST\">\n\t<pre class=\"output\" id=\"output\"><span style=\"color: #0a0\">ICEcoder <?php echo $ICEcoder[\"versionNo\"];?> terminal</span>\nThis is a full powered terminal, but will have the permissions of the '<?php echo $user;?>' user.\nThe more access rights you give that user, the more this terminal has.\n\n<div class=\"commandLine\" id=\"commandLine\"><div class=\"user\" id=\"user\">&nbsp;&nbsp;<?php echo $user;?>&nbsp;</div><div class=\"cwd\" id=\"cwd\">&nbsp;<?php echo $cwd;?>&nbsp;</div> : <?php echo date(\"H:m:s\");?><br><div class=\"promptVLine\"></div><div class=\"promptHLine\">â<div class=\"promptArrow\">â¶</div></div> <input type=\"text\" class=\"command\" id=\"command\" onkeyup=\"key(event)\" tabindex=\"1\" autocomplete=\"off\"></div></pre>\n</form>\n<?php\n} else {\n?>\n<pre class=\"output\" id=\"output\">shell_exec not available on the server, unable to use terminal.</pre>\n<?php } ?>\n\n</body>\n</html>\n"
        },
        {
          "name": "tmp",
          "type": "tree",
          "content": null
        }
      ]
    }
  ]
}