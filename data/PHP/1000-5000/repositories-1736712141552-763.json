{
  "metadata": {
    "timestamp": 1736712141552,
    "page": 763,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjc3MA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "youzan/zanphp",
      "stars": 1436,
      "defaultBranch": "master",
      "files": [
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.380859375,
          "content": "!t/\n*.seed\n*.log\n*.csv\n*.dat\n*.out\n*.pid\n*.gz\npids\nlogs\nnode_modules\n*.sqlite\n.DS_Store\n.DS_Store?\n._*\n.Spotlight-V100\n.Trashes\nehthumbs.db\nThumbs.db\n.idea/\niron.iml\n*.sublime-workspace\n*.sublime-project\n/nbproject/\n.tm_properties\n.tags\n.tags_sorted_by_file\n.buildpath\n.project\n.settings/\n.externalToolBuilders/\n.sass-cache\n/xhprof*\n.vagrant\ncomposer.lock\n/vendor\n*.iml\n!test/bootstrap.php\n"
        },
        {
          "name": ".phpstorm.meta.php",
          "type": "blob",
          "size": 0.40625,
          "content": "<?php\nnamespace PHPSTORM_META\n{\n    $STATIC_METHOD_TYPES = [\n        \\Zan\\Framework\\Foundation\\Container\\Di::make('') => [\n            '' == '@',\n        ],\n\n//        new \\ZanPHP\\Contracts\\Container\\Container => [\n//            '' == '@',\n//        ],\n//        \\ZanPHP\\Contracts\\Container\\Container::make => [\n//            '' == '@',\n//        ],\n//        \\make => [\n//            '' == '@',\n//        ]\n    ];\n}"
        },
        {
          "name": ".travis.yml",
          "type": "blob",
          "size": 0.1591796875,
          "content": "language: php\n\nphp:\n  - '5.6'\n  - '7.0'\n  - '7.1'\n\nenv:\n  - REPORT_EXIT_STATUS=1 NO_INTERACTION=1\n\ninstall:\n  - composer install\n\nscript:\n    - sh toolkit/lint.sh\n"
        },
        {
          "name": ".zan-ide-helper.php",
          "type": "blob",
          "size": 4.6806640625,
          "content": "<?php\nclass UnitTest extends \\Zan\\Framework\\Testing\\UnitTest {}\nclass TcpServer extends \\Zan\\Framework\\Network\\Tcp\\Server {}\n\nif (!function_exists(\"nova_encode\")) {\n    /**\n     * @param string $service_name\n     * @param string $method_name\n     * @param int $ip\n     * @param int $port\n     * @param int $seq_no\n     * @param string $attach_data\n     * @param string $in_data\n     * @param string $out_buffer\n     * @return bool\n     */\n    function nova_encode($service_name, $method_name, $ip, $port, $seq_no, $attach_data, $in_data, &$out_buffer) {\n        return false;\n    }\n}\nif (function_exists(\"nova_decode\")) {\n    /**\n     * @param string $in_buffer\n     * @param string $service_name\n     * @param string $method_name\n     * @param int $ip\n     * @param int $port\n     * @param int $seq_no\n     * @param string $attach_data\n     * @param string $out_data\n     * @return bool\n     */\n    function nova_decode($in_buffer, &$service_name, &$method_name, &$ip, &$port, &$seq_no, &$attach_data, &$out_data) {\n        return false;\n    }\n}\n\n\nclass swoole_connpool\n{\n    /**\n     * 连接正常\n     */\n    const SWOOLE_CONNNECT_OK = 1;\n\n    /**\n     * 连接异常\n     */\n    const SWOOLE_CONNNECT_ERR = 2;\n\n    /**\n     * TCP 连接池\n     */\n    const SWOOLE_CONNPOOL_TCP = 1;\n\n    /**\n     * redis 连接池\n     */\n    const SWOOLE_CONNPOOL_REDIS = 2;\n\n    /**\n     * mysql 连接池\n     */\n    const SWOOLE_CONNPOOL_MYSQL = 3;\n\n    /**\n     * http 连接池\n     */\n    const SWOOLE_CONNPOOL_HTTP = 4;\n\n    /**\n     * \\swoole_connpool constructor.\n     * @param int $connPoolType\n     */\n    public function __construct(int $connPoolType) { }\n\n    /**\n     * createConnPool\n     * 创建连接池，接口内部对所有已经设置的参数进行校验\n     *\n     * @param int $minPoolnum 连接池最小对象个数\n     * @param int $maxPoolnum 连接池最大对象个数\n     * @return bool\n     */\n    public function createConnPool(int $minPoolnum, int $maxPoolnum){ }\n\n    /**\n     * setCfg 连接配置，支持重置\n     * @param array $cfg\n     * @param array $cfg 连接池连接配置信息, 参见mysql／redis 连接信息，createConnpool 会对该参数进行校验\n     * @return bool\n     *\n     * hbTimeout\n     * connectTimeout\n     * hbIntervalTime 默认500\n     *\n     * 心跳需要同时配置：\n     * hbIntervalTime\n     * on hbConstruct\n     * on hbCheck\n     */\n    public function setConfig(array $cfg){ }\n\n    /**\n     *  on 回调设置\n     *\n     * @param string $hbCbName 回调名称\n     * ```\n     * [\n     * \"hbConstruct\" #string     心跳消息构造\n     * \"hbCheck\"  #string     心跳回复校验\n     * ]\n     * ```\n     * @param callable $hbCallback 回调函数，参见hbConstruct／hbCheck，\n     * @return bool\n     */\n    public function on(string $hbCbName, callable $hbCallback){ }\n\n    /**\n     * get 获取连接对象\n     *\n     * @param callable $objCall 对象回调，参见@objectCallback\n     * @param int $timeout 超时时间\n     * @return int 请求ID，false：接口调用失败\n     */\n    public function get(int $timeout, callable $objCall){ }\n\n    /**\n     * release\n     * 释放连接对象，会对用户参数进行校验\n     *\n     * @param \\swoole_client|\\swoole_redis|\\swoole_mysql|\\swoole_http_client $connObj\n     * @param int $conStatus [option] 连接状态，可选，默认为SWOOLE_CONNOBJ_CONNECTED\n     * @return bool\n     */\n    public function release($connObj, int $conStatus = self::SWOOLE_CONNNECT_OK){}\n\n    /**\n     * destroy 释放连接池对象，调用此接口前，需要将连接对象全部释放\n     */\n    public function destroy() { }\n\n    /**\n     * @return  array\n     * [\n     *  \"all_conn_obj\" => 0,\n     *  \"idle_conn_obj\" => 0,\n     * ]\n     */\n    public function getStatInfo() { }\n}\n\n/**\n * hbConstruct\n * 心跳信息构造\n *\n * @return array 发送心跳参数\n */\nfunction hbConstruct() {\n    return [\n//        \"method\" => \"query\",\n//        \"args\" => [$sql],\n    ];\n}\n\n/**\n * hbCheck\n * 心跳回复内容检测\n *\n * @param \\swoole_connpool $pool 连接池对象\n * @param |swoole_client|swoole_http_client|swoole_mysql|swoole_redis $conn 连接对象\n * @param mixed $data 心跳回复内容\n * @return true ：连接正常，false：连接异常\n */\nfunction hbCheck(\\swoole_connpool $pool, $conn, $data) { }\n\n/**\n * objectCallback\n * 异步获取对象回调接口\n *\n * @param \\swoole_connpool $pool 连接池对象\n * @param |swoole_client|swoole_http_client|swoole_mysql|swoole_redis|null $conn 连接对象\n *  获取对象失败时，返回空\n */\nfunction objectCallback(\\swoole_connpool $pool, $conn) {\n    // 说明： 使用$connObj前需判断$connObj是否为空\n    if (empty($conn))  {\n        return;\n    }\n    // to do something\n}\n\n"
        },
        {
          "name": "CHANGELOG.md",
          "type": "blob",
          "size": 11.939453125,
          "content": "## Change Log\n\n### 20170501 \n\n1. 加入swoole内部连接池兼容代码\n2. 加入websocket支持\n3. 移除对旧版本swoole两个旧版驱动的支持\n4. 移除所有aerospike相关代码\n5. FIX worker重启时候获取nova连接失败问题，加入重试逻辑\n6. FIX 连接池在dns解析回调初始化导致worker启动时获取不懂连接的问题，加入重试逻辑\n\n\n### 20170511 修复请求filter流程定时器没有清除BUG\n\n\n### 20170320 Redis调用加入超时，默认2000ms，可在连接中配置 (影响Store + Cache) \n\n```php\n<?php \nreturn [\n    'codis' => [\n        'engine'=> 'redis',\n        'host' => '127.0.0.1',\n        'port' => 6602,\n        'pool'  => [],\n        'timeout' => 1000, // ms\n    ],\n];\n```\n------------------------------------------------------------------------------------------\n\n\n### 20170315 添加可选配置文件 config/env/apiconf.php, 配置优先于ApiConfig \n\n------------------------------------------------------------------------------------------\n\n### 20170314 HTTP Server 自定义异常处理注册\n\nresource\\middleware目录下增加exceptionHandler.php配置,示例如下:\n\n```php\n<?php\n\nreturn [\n     'match' => [\n         [\n            \"index/index/index\",  \"all\",\n         ],\n//         [\n//             \".*\", \"all\"\n//         ]\n     ],\n     'group' => [\n         \"all\" => [\n             TestExceptionHandler::class,\n         ],\n     ],\n];\n \n```\n\n```php\n<?php\nclass TestExceptionHandler implements ExceptionHandler\n{\n    public function handle(\\Exception $e)\n    {\n        // 针对异常自行判断决定是否\n        return new Response(\"网络错误\");\n        // or \n        return null; // 不做处理\n    }\n}\n\n```\n\n------------------------------------------------------------------------------------------\n### TCP Server 自定义异常处理注册\nresource\\middleware目录下增加exceptionHandler.php配置,示例如下:\n```php\n<?php\nuse Zan\\Framework\\Network\\Tcp\\Exception\\Handler\\GenericExceptionHandler;\n\nreturn [\n    'match' => [\n        [\n            \"/com/youzan/nova/framework/generic/service/GenericService/invoke\", \"genericExceptionHandlerGroup\",\n        ],\n        [\n            \"/Com/Youzan/Nova/Framework/Generic/Php/Service/GenericTestService/ThrowException\", \"genericExceptionHandlerGroup\",\n        ],\n        [\n            \".*\", \"all\"\n        ]\n    ],\n    'group' => [\n        \"genericExceptionHandlerGroup\" => [\n            GenericExceptionHandler::class\n        ],\n        \"all\" => [\n            GenericExceptionHandler::class\n        ],\n    ],\n];\n```\n\nmatch下添加serviceName和对应的handler group,框架自动根据serviceName匹配,成功后执行对应group下的handler,\nhandler class示例为:\n```php\n<?php\nclass GenericExceptionHandler implements ExceptionHandler\n{\n    public function handle(\\Exception $e)\n    {\n        sys_error(\"GenericExceptionHandler handle: \".$e->getMessage());\n        throw new \\Exception(\"网络错误\", 0);\n    }\n}\n```\n转换成自定义异常抛出即可。\n\n------------------------------------------------------------------------------------------\n\n### 2017-02-27 Feature \n\n#### haunt.php 添加可选配置项 \"app_configs\"\n\n```php\nreturn [\n     // 拉取需要的服务列表，此处填写注册到注册中心的的app name，如果无需拉去任何服务，app_names为空array即可\n    'app_names' => [\n        'scrm-api',\n        'pf-api',\n    ],\n\n    // 拉取app配置 \n    'app_configs' => [\n        // 从 com.youzan.service 域拉取scrm-api 服务\n        'scrm-api' => [\n            'protocol' => 'nova',\n            'namespace' => 'com.youzan.service',\n        ],\n        // 从 com.youzan.test 域拉取pf-api 服务\n        'pf-api' => [\n            'protocol' => 'nova',\n            'namespace' => 'com.youzan.test',\n        ],\n    ],\n];\n```\n\n#### nova.php \"novaApi\" 配置项支持发布多个thrift package\n\n\n```php\n// 兼容旧的配置方式\nreturn [\n    'novaApi' => [\n        'path'  => 'vendor/nova-service/pf/gen-php',\n        'namespace' => 'Com\\\\Youzan\\\\Pf\\\\',\n    ],\n];\n```\n\n```php\n// 多组 package 配置方式\n// 注意: 多package 需要 'namespace' 相同\n// 注意: haunt agent 对 同ip+port发布多个虚拟应用做了限制, 不可用\nreturn [\n    'novaApi' => [\n        [\n            'path'  => 'vendor/nova-service/scrm-base/gen-php',\n            'namespace' => 'Com\\\\Youzan\\\\Scrm\\\\',\n            'domain' => 'com.youzan.service', // 可选, 默认 com.youzan.service, 配置服务发布到 具体的域\n            'appName'   => 'scrm', // 可选, 默认Application::getName(), 配置服务发布的 应用名\n            'protocol'   => 'nova', // 可选, 目前恒等于 nova\n        ],\n        [\n            'path'  => 'vendor/nova-service/scrm-core/gen-php',\n            'namespace' => 'Com\\\\Youzan\\\\Scrm\\\\',\n            'domain' => 'com.youzan.service', // 可选, 默认 com.youzan.service, 配置服务发布到 具体的域\n            'appName'   => 'scrm', // 可选, 默认Application::getName(), 配置服务发布的 应用名\n            'protocol'   => 'nova', // 可选, 目前恒等于 nova\n        ],\n    ],\n];\n```\n\n#### 服务注册一些说明:\n\n1. 服务注册时会将 Protocol + Namespace + SrvName + IP + Port 做为 etcdKey;\n2. srvList 中etcdKey同名, 后面的一组服务会覆盖前面注册的服务;\n3. srvList 是用来注册多组 不同namespace, 或者不同SrvName的 的服务\n4. zan中protocol === nova\n5. zan中namespace 可在 novaApi 中配置, 默认 com.youzan.service\n6. zan中SrvName 可在 novaApi 中配置, 默认 Application::getName()\n7. 多个thrift package 按etcdKey分组注册, 每组追加泛化调用方法\n\n#### 服务拉取的说明:\n\n1. 从etcd服务拉取是以app为维度的, 返回app实例的n个节点\n\n#### thrift 与 app\n\n1. thrift 文件中 namespace nova com.youzan.a.b.c 中 a 与 appName 没有必然联系, 可以不相同\n\n\n------------------------------------------------------------------------------------------\n\n### 2017-02-20 Feature 支持多App配置\n\n添加 root/resource/config_{{appName}} 配置路径, 注意: appName \"-\"替换为\"_\"\n\nroot/resource/config_{{appName}}/ 配置优先于 root/resource/config\n\n------------------------------------------------------------------------------------------\n\n### 2017-02-04 Feature\n\nmysql 添加异步事务支持\n\n------------------------------------------------------------------------------------------\n### 2017-01-17 Fix\n\nUrl::site添加https作为默认scheme\n\n------------------------------------------------------------------------------------------\n\n### 2017-01-16 Feature\n\n1. 支持动态权重变更、软负载\n2. 框架错误记录到log\n3. hawk SDK重构，更全的监控信息上报\n\n------------------------------------------------------------------------------------------\n\n### 2017-01-02 Fix\n\n修复async_mysql回调内与swoole代码不匹配造成的Notice错误与异常信息缺失;\n\n------------------------------------------------------------------------------------------\n\n### 2016-12-28 Fix\n\n修复调度器在发生异常情况下调度Async任务的bug;\n\n------------------------------------------------------------------------------------------\n\n### 2016-12-23 Feature\n\nTcp连接与Redis增加对Unix Socket支持; 添加 path 配置项;\n\n配置:\n\n```\n<?php\n\nreturn [\n    'kv_redis' => [\n        'engine'=> 'redis',\n\t    'path' => \"/var/run/yz-tether/redis2aerospike.sock\",\n        'pool'  => [ ... ],\n    ],\n];\n```\n\n------------------------------------------------------------------------------------------\n\n### 2016-12-23\n\n网络错误添加code用以与iron区分, 格式: 网络错误(code)\n\n------------------------------------------------------------------------------------------\n\n### 2016-12-22 Feature\n\n#### set Cookie时, 如果没有指定Domain, 根据Request Host自动匹配; 规则:\n\n#### a. 内置Host列表,\n\n```\n[\n    '.koudaitong.com',\n    '.youzan.com',\n    '.qima-inc.com',\n    '.kdt.im',\n]\n```\n\n#### b. 可以通过cookie.php配置文件添加该列表\n\n```php\n<?php\nreturn [\n    'domain' => 'foo.youzan.com',\n    // or\n    'domain' => [\"127.0.0.1\", 'foo.youzan.com'],\n    // ... 其他配置\n];\n````\n\n#### c. 优先匹配子域\n\n当request host为 bar.foo.youzan.com, domainList 中同时有 ['.youzan.com', 'foo.youzan.com', ...] \n\n优先匹配 foo.youzan.com;\n\n------------------------------------------------------------------------------------------\n\n### 2016-12-16 Feature\n\nStore 添加 `del`, `hDel`, `incr`, `incrBy`, `hIncrBy` 5个接口\n\nKV::incr 需要使用 Store::hIncrBy($configKey, $fmtArgs, Store::DEFAULT_BIN_NAME, $value) 进行兼容替换\n\n------------------------------------------------------------------------------------------\n\n### 2016-12-14 Fix\n\n修复ParallelException被Throw到父Task的BUG;\n\n------------------------------------------------------------------------------------------\n\n### 2016-12-14 Feature\n\n添加 getRpcContext(k) setRpcContext(k, v) 系统调用, 通过nova协议上下文透传消息;\n\n------------------------------------------------------------------------------------------\n\n### 2016-12-13 Feature\n\n#### 添加Store类, 通过Redis协议访问KV , 解决KV连接池与coredump问题\n\n1. 使用KV接口存储的字符串, 可以使用Store接口取出;\n2. 使用KV接口存储的非字符串类型, 必须做数据迁移;\n3. 使用Store接口存储的值，使用KV接口无法取出;\n\n#### 配置\n```\n<?php\n// connection/kvstore.php\n\nreturn [\n    'kv_redis' => [\n        'engine'=> 'redis',\n        'host' => 'xx.xx.xx.xx',\n        'port' => 6666,\n        'pool'  => [\n            'maximum-connection-count' => 50,\n            'minimum-connection-count' => 10,\n            'init-connection'=> 10,\n        ],\n    ],\n]\n```\n\n#### 兼容修改\n\n为避免数据迁移, 修改接口兼容数据:\n\n1. KV::set  替换为 Store::hSet;\n2. KV::hSet  替换为 Store::hSet;\n3. KV::set  使用 Store::hGet 获取数据;\n4. KV::hSet  使用 Store::hGet 获取数据;\n\n\n```\n<?php\n\nyield KV::set(\"scrm_kv.customer\", $fmt, $value);\n// 替换为\nyield Store::hSet(\"scrm_kv2.customer\", $fmt, Store::DEFAULT_BIN_NAME, $value);\n// 获取数据\nyield Store::hGet(\"scrm_kv2.customer\", $fmt, Store::DEFAULT_BIN_NAME);\n\n//////////////////////////////////////////////////\n\nyield KV::hSet(\"scrm_kv.customer\", $fmt, $bin, $randStr);\n// 替换为\nyield Store::hSet(\"scrm_kv2.customer\", $fmt, $bin, $value);\n// 获取数据\nyield Store::hGet(\"scrm_kv2.customer\", $fmt, $bin);\n```\n\n\n#### 备注\n\nAS与REDIS协议映射关系参考 :\n\nAS                  | REDIS\n--------------------|------------\nnamespace:set:{key} | hash key\nbin                 | hash field\n{value}             | hash value\n\nset ns:set:key def_bin value\nget ns:set:key def_bin\n\nhset ns:set:key bin value\nhget ns:set:key bin \n\n------------------------------------------------------------------------------------------\n\n### 2016-12-13 Fix\n\n1. 修复nova协议编码bug\n    1. encode过程抛出异常, 重新encode异常时buffer没有清除, 导致序列化二进制数据错误;\n    2. 影响zan与iron, 已同时修复nova同步与异步版本\n\n------------------------------------------------------------------------------------------\n\n### 2016-12-12 Feature\n\n1. MysqliQueryTimeoutException上下文加入超时sql与超时时间\n2. 添加异步DnsClient, $ip = (yield DnsClient::lookup(\"www.youzan.com\"));\n\n------------------------------------------------------------------------------------------\n\n### 2016-12-12 Fix\n\n1. LZ4 大于1024bytes 解压失败\n2. 强制关闭swoole worker自动重启(未考虑请求处理完), 使用zan框架重启机制\n3. HttpClient dns查询加入超时机制(1s)\n\n------------------------------------------------------------------------------------------\n\n### 2016-12-05 Feature \n\nnova服务支持追加参数,向后兼容\n\n```\nservice ArgTestService {\n    string func(1:i32 arg1);\n}\n```\n\nthrift定义修改,命名空间与方法名不变,追加参数;\n\n```\nstruct ObjArg {\n    1:optional i32 intArg\n}\n\nservice ArgTestService {\n    string func(1:i32 arg1, 2:ObjArg objArg);\n}\n```\n\n服务提供者func服务实现方法需配置`参数默认值`, 即可支持旧SDK调用;\n\n```\npublic function func1($arg1, ObjArg $objArg = null);\n```"
        },
        {
          "name": "LICENSE",
          "type": "blob",
          "size": 1.0537109375,
          "content": "The MIT License (MIT)\n\nCopyright 2012-2016 Youzan, Inc.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE."
        },
        {
          "name": "Makefile",
          "type": "blob",
          "size": 0.189453125,
          "content": "usage = \"\\\nUsage:                make <option> \\n\\n\\\nauthors               更新贡献者\"\n\ndefault:\n\t@echo $(usage)\n\n# Update Authors\nauthors:\n\tgit log --format='%aN <%aE>' | sort -u > AUTHORS"
        },
        {
          "name": "README-Eng.md",
          "type": "blob",
          "size": 0.4267578125,
          "content": "# Zan PHP Framework\n\n<img src=\"https://github.com/youzan/zanphp.io/blob/master/src/img/zan-logo-small@2x.png?raw=true\" alt=\"zanphp logo\" srcset=\"https://github.com/youzan/zanphp.io/blob/master/src/img/zan-logo-small.png?raw=true 1x, https://github.com/youzan/zanphp.io/blob/master/src/img/zan-logo-small@2x.png?raw=true 2x, https://github.com/youzan/zanphp.io/blob/master/src/img/zan-logo-small.png?raw=true\" width=\"210\" height=\"210\">  \n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 3.423828125,
          "content": "<p>\n<a href=\"https://github.com/youzan/\"><img alt=\"有赞logo\" width=\"36px\" src=\"https://img.yzcdn.cn/public_files/2017/02/09/e84aa8cbbf7852688c86218c1f3bbf17.png\" alt=\"youzan\">\n</a>\n</p>\n<p align=\"center\">\n    <img src=\"https://github.com/youzan/zanphp.io/blob/master/src/img/zan-logo-small@2x.png?raw=true\" alt=\"zanphp logo\" srcset=\"https://github.com/youzan/zanphp.io/blob/master/src/img/zan-logo-small.png?raw=true 1x, https://github.com/youzan/zanphp.io/blob/master/src/img/zan-logo-small@2x.png?raw=true 2x, https://github.com/youzan/zanphp.io/blob/master/src/img/zan-logo-small.png?raw=true\" width=\"210\" height=\"210\">\n</p>\n\n<p align=\"center\">基于 PHP 协程的网络服务框架，提供最简单的方式开发面向 C10K+ 的高并发SOA服务和RPC服务。</p>\n<p align=\"center\">每天为2,000+个服务提供300,000,000+次访问量支持，广泛应用于有赞各项业务。</p>\n\n[![License](https://img.shields.io/badge/license-mit-blue.svg)](LICENSE)\n[![Build Status](https://travis-ci.org/youzan/zanphp.svg?branch=master)](https://travis-ci.org/youzan/zanphp)\n\n## 核心特性\n1. 基于 `yield` 实现了独立堆栈的协程\n2. 类似于 Golang 的并发编程模型实现\n3. 基于 [zan](https://github.com/youzan/zan) 提供异步非阻塞I/O服务\n4. 连接池支持（内置 MySQL、Redis、syslog 等多种组件）\n5. 类似 Golang 的 defer 机制解决由于异常导致的资源未释放、锁未释放的问题\n6. 可继承的View布局及组件化支持，方便完成 bigPipe/bigRender/首屏加载优化等不同的渲染方式\n7. 基于模型驱动的 SQLMap，实现了 SQL 的快速定位及方便的 sharding、cache 支持\n8. 提供类似于 [Laravel](https://github.com/laravel/laravel) 的 middleware(Filters & Terminators) 机制\n9. Di及单元测试的良好支持\n10. 完整的RPC远程服务调用方案\n\n## 框架定位\nZanPHP 的定位是高并发 Web 服务或业务中间件。\n\nZanPHP既可以满足创业公司或者个人建站的需求，也可以满足服务化架构下的框架需求。\n\nZanPHP 参考了很多 Golang 特性，不过目的绝不是为了替换掉 Golang。\n\nPHP 在业务系统开发上的优势明显，而 Golang 相信会是将来系统编程的霸主。\n\nZanPHP 和 Golang 的边界是：ZanPHP做业务系统；Golang\n做平台系统（中间件或基础服务组件）。\n\n而 ZanPHP 和 Golang 编程模型的驱近，是希望能给PHP程序员一个更好的桥梁到Golang。\n\n理想的技术栈是：ZanPHP + Go + 少量的C/C++。\n\n当然对于致力于终身coding的码农来说：Java依然是很难跨过去的坎。\n\n\n## 官方文档\n\nZan PHP 的文档仓库地址：[zanphp-doc](https://github.com/youzan/zanphp-doc)。\n\n在线查看文档 [http://zanphpdoc.zanphp.io/ ✈](http://zanphpdoc.zanphp.io/)\n\n\n## 常用链接\n- [zan-doc](https://github.com/youzan/zanphp-doc) - Zan PHP 开发者文档\n- [zan-installer](https://github.com/youzan/zan-installer) - Zan PHP 脚手架工具\n- [zanhttp](https://github.com/youzan/zanhttpdemo) - Zan PHP HTTP demo\n- [zantcp](https://github.com/youzan/zantcpdemo) - Zan PHP TCP demo\n- [PHP异步编程: 手把手教你实现co与Koa](https://github.com/youzan/php-co-koa) \n\n\n## 官方交流渠道\n- 官网：[点我进入](http://zanphp.io)\n- 官方交流QQ群：115728122\n\n## 捐赠我们\n请点击 -> [捐赠通道](http://zanphp.io/donate)\n\n## License\n\n[Zan PHP 框架](https://github.com/youzan/zan)基于 [MIT license](https://opensource.org/licenses/MIT) 进行开源。\n"
        },
        {
          "name": "VERSION",
          "type": "blob",
          "size": 0.005859375,
          "content": "2.1.0\n"
        },
        {
          "name": "composer.json",
          "type": "blob",
          "size": 0.8515625,
          "content": "{\n    \"name\": \"zanphp/zan\",\n    \"repositories\": {\n        \"packagist\": {\n            \"type\": \"composer\",\n            \"url\": \"https://packagist.phpcomposer.com\"\n        }\n    },\n    \"require\": {\n        \"zanphp/tcp-server\": \"dev-master\",\n        \"zanphp/http-server\": \"dev-master\",\n        \"zanphp/mq-server\": \"dev-master\",\n        \"zanphp/ws-server\": \"dev-master\"\n    },\n    \"autoload\": {\n        \"psr-4\": {\n        },\n        \"classmap\": [\n        ]\n    },\n    \"autoload-dev\": {\n        \"psr-4\": {\n            \"Zan\\\\Framework\\\\Test\\\\\": \"test/\"\n        },\n        \"classmap\": [\n            \"test/TestCase.php\"\n        ]\n    },\n    \"config\": {\n        \"preferred-install\": \"dist\",\n        \"secure-http\": false\n    },\n    \"extra\": {\n        \"branch-alias\": {\n            \"dev-master\": \"1.0.x-dev\"\n        }\n    },\n    \"minimum-stability\": \"dev\",\n    \"prefer-stable\": true\n}\n"
        },
        {
          "name": "doc",
          "type": "tree",
          "content": null
        },
        {
          "name": "phpunit.xml",
          "type": "blob",
          "size": 0.8779296875,
          "content": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<phpunit backupGlobals=\"false\"\n         backupStaticAttributes=\"false\"\n         bootstrap=\"test/bootstrap.php\"\n         colors=\"true\"\n         convertNoticesToExceptions=\"true\"\n         convertWarningsToExceptions=\"true\"\n         stopOnError=\"true\"\n         stopOnFailure=\"true\"\n         stopOnIncomplete=\"true\"\n         stopOnSkipped=\"true\">\n>\n    <testsuites>\n        <testsuite name=\"Zan Test Suite\">\n            <directory suffix=\"Test.php\">./test/Network</directory>\n            <directory suffix=\"Test.php\">./test/Sdk</directory>\n            <directory suffix=\"Test.php\">./test/Store</directory>\n            <directory suffix=\"Test.php\">./test/Testing</directory>\n            <directory suffix=\"Test.php\">./test/Utilities</directory>\n            <directory suffix=\"Test.php\">./test/Foundation</directory>\n        </testsuite>\n    </testsuites>\n</phpunit>"
        },
        {
          "name": "test",
          "type": "tree",
          "content": null
        },
        {
          "name": "toolkit",
          "type": "tree",
          "content": null
        }
      ]
    }
  ]
}