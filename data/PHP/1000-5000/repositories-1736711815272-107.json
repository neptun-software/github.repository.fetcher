{
  "metadata": {
    "timestamp": 1736711815272,
    "page": 107,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjExMA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "Crinsane/LaravelShoppingcart",
      "stars": 3685,
      "defaultBranch": "master",
      "files": [
        {
          "name": ".gitignore",
          "type": "blob",
          "size": 0.0439453125,
          "content": "/vendor\ncomposer.phar\ncomposer.lock\n.DS_Store"
        },
        {
          "name": ".travis.yml",
          "type": "blob",
          "size": 0.1640625,
          "content": "language: php\r\n\r\nphp:\r\n  - 5.6\r\n  - 7.0\r\n\r\nbefore_script:\r\n  - composer self-update\r\n  - composer install --prefer-source --no-interaction\r\n\r\nscript: vendor/bin/phpunit"
        },
        {
          "name": "LICENSE",
          "type": "blob",
          "size": 1.078125,
          "content": "The MIT License (MIT)\n\nCopyright (c) 2016 Rob Gloudemans <info@robgloudemans.nl>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE."
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 16.2392578125,
          "content": "## LaravelShoppingcart\n[![Build Status](https://travis-ci.org/Crinsane/LaravelShoppingcart.png?branch=master)](https://travis-ci.org/Crinsane/LaravelShoppingcart)\n[![Total Downloads](https://poser.pugx.org/gloudemans/shoppingcart/downloads.png)](https://packagist.org/packages/gloudemans/shoppingcart)\n[![Latest Stable Version](https://poser.pugx.org/gloudemans/shoppingcart/v/stable)](https://packagist.org/packages/gloudemans/shoppingcart)\n[![Latest Unstable Version](https://poser.pugx.org/gloudemans/shoppingcart/v/unstable)](https://packagist.org/packages/gloudemans/shoppingcart)\n[![License](https://poser.pugx.org/gloudemans/shoppingcart/license)](https://packagist.org/packages/gloudemans/shoppingcart)\n\nA simple shoppingcart implementation for Laravel.\n\n## Installation\n\nInstall the package through [Composer](http://getcomposer.org/). \n\nRun the Composer require command from the Terminal:\n\n    composer require gloudemans/shoppingcart\n    \nIf you're using Laravel 5.5, this is all there is to do. \n\nShould you still be on version 5.4 of Laravel, the final steps for you are to add the service provider of the package and alias the package. To do this open your `config/app.php` file.\n\nAdd a new line to the `providers` array:\n\n\tGloudemans\\Shoppingcart\\ShoppingcartServiceProvider::class\n\nAnd optionally add a new line to the `aliases` array:\n\n\t'Cart' => Gloudemans\\Shoppingcart\\Facades\\Cart::class,\n\nNow you're ready to start using the shoppingcart in your application.\n\n**As of version 2 of this package it's possibly to use dependency injection to inject an instance of the Cart class into your controller or other class**\n\n## Overview\nLook at one of the following topics to learn more about LaravelShoppingcart\n\n* [Usage](#usage)\n* [Collections](#collections)\n* [Instances](#instances)\n* [Models](#models)\n* [Database](#database)\n* [Exceptions](#exceptions)\n* [Events](#events)\n* [Example](#example)\n\n## Usage\n\nThe shoppingcart gives you the following methods to use:\n\n### Cart::add()\n\nAdding an item to the cart is really simple, you just use the `add()` method, which accepts a variety of parameters.\n\nIn its most basic form you can specify the id, name, quantity, price of the product you'd like to add to the cart.\n\n```php\nCart::add('293ad', 'Product 1', 1, 9.99);\n```\n\nAs an optional fifth parameter you can pass it options, so you can add multiple items with the same id, but with (for instance) a different size.\n\n```php\nCart::add('293ad', 'Product 1', 1, 9.99, ['size' => 'large']);\n```\n\n**The `add()` method will return an CartItem instance of the item you just added to the cart.**\n\nMaybe you prefer to add the item using an array? As long as the array contains the required keys, you can pass it to the method. The options key is optional.\n\n```php\nCart::add(['id' => '293ad', 'name' => 'Product 1', 'qty' => 1, 'price' => 9.99, 'options' => ['size' => 'large']]);\n```\n\nNew in version 2 of the package is the possibility to work with the `Buyable` interface. The way this works is that you have a model implement the `Buyable` interface, which will make you implement a few methods so the package knows how to get the id, name and price from your model. \nThis way you can just pass the `add()` method a model and the quantity and it will automatically add it to the cart. \n\n**As an added bonus it will automatically associate the model with the CartItem**\n\n```php\nCart::add($product, 1, ['size' => 'large']);\n```\nAs an optional third parameter you can add options.\n```php\nCart::add($product, 1, ['size' => 'large']);\n```\n\nFinally, you can also add multipe items to the cart at once.\nYou can just pass the `add()` method an array of arrays, or an array of Buyables and they will be added to the cart. \n\n**When adding multiple items to the cart, the `add()` method will return an array of CartItems.**\n\n```php\nCart::add([\n  ['id' => '293ad', 'name' => 'Product 1', 'qty' => 1, 'price' => 10.00],\n  ['id' => '4832k', 'name' => 'Product 2', 'qty' => 1, 'price' => 10.00, 'options' => ['size' => 'large']]\n]);\n\nCart::add([$product1, $product2]);\n\n```\n\n### Cart::update()\n\nTo update an item in the cart, you'll first need the rowId of the item.\nNext you can use the `update()` method to update it.\n\nIf you simply want to update the quantity, you'll pass the update method the rowId and the new quantity:\n\n```php\n$rowId = 'da39a3ee5e6b4b0d3255bfef95601890afd80709';\n\nCart::update($rowId, 2); // Will update the quantity\n```\n\nIf you want to update more attributes of the item, you can either pass the update method an array or a `Buyable` as the second parameter. This way you can update all information of the item with the given rowId.\n\n```php\nCart::update($rowId, ['name' => 'Product 1']); // Will update the name\n\nCart::update($rowId, $product); // Will update the id, name and price\n\n```\n\n### Cart::remove()\n\nTo remove an item for the cart, you'll again need the rowId. This rowId you simply pass to the `remove()` method and it will remove the item from the cart.\n\n```php\n$rowId = 'da39a3ee5e6b4b0d3255bfef95601890afd80709';\n\nCart::remove($rowId);\n```\n\n### Cart::get()\n\nIf you want to get an item from the cart using its rowId, you can simply call the `get()` method on the cart and pass it the rowId.\n\n```php\n$rowId = 'da39a3ee5e6b4b0d3255bfef95601890afd80709';\n\nCart::get($rowId);\n```\n\n### Cart::content()\n\nOf course you also want to get the carts content. This is where you'll use the `content` method. This method will return a Collection of CartItems which you can iterate over and show the content to your customers.\n\n```php\nCart::content();\n```\n\nThis method will return the content of the current cart instance, if you want the content of another instance, simply chain the calls.\n\n```php\nCart::instance('wishlist')->content();\n```\n\n### Cart::destroy()\n\nIf you want to completely remove the content of a cart, you can call the destroy method on the cart. This will remove all CartItems from the cart for the current cart instance.\n\n```php\nCart::destroy();\n```\n\n### Cart::total()\n\nThe `total()` method can be used to get the calculated total of all items in the cart, given there price and quantity.\n\n```php\nCart::total();\n```\n\nThe method will automatically format the result, which you can tweak using the three optional parameters\n\n```php\nCart::total($decimals, $decimalSeperator, $thousandSeperator);\n```\n\nYou can set the default number format in the config file.\n\n**If you're not using the Facade, but use dependency injection in your (for instance) Controller, you can also simply get the total property `$cart->total`**\n\n### Cart::tax()\n\nThe `tax()` method can be used to get the calculated amount of tax for all items in the cart, given there price and quantity.\n\n```php\nCart::tax();\n```\n\nThe method will automatically format the result, which you can tweak using the three optional parameters\n\n```php\nCart::tax($decimals, $decimalSeperator, $thousandSeperator);\n```\n\nYou can set the default number format in the config file.\n\n**If you're not using the Facade, but use dependency injection in your (for instance) Controller, you can also simply get the tax property `$cart->tax`**\n\n### Cart::subtotal()\n\nThe `subtotal()` method can be used to get the total of all items in the cart, minus the total amount of tax. \n\n```php\nCart::subtotal();\n```\n\nThe method will automatically format the result, which you can tweak using the three optional parameters\n\n```php\nCart::subtotal($decimals, $decimalSeperator, $thousandSeperator);\n```\n\nYou can set the default number format in the config file.\n\n**If you're not using the Facade, but use dependency injection in your (for instance) Controller, you can also simply get the subtotal property `$cart->subtotal`**\n\n### Cart::count()\n\nIf you want to know how many items there are in your cart, you can use the `count()` method. This method will return the total number of items in the cart. So if you've added 2 books and 1 shirt, it will return 3 items.\n\n```php\nCart::count();\n```\n\n### Cart::search()\n\nTo find an item in the cart, you can use the `search()` method.\n\n**This method was changed on version 2**\n\nBehind the scenes, the method simply uses the filter method of the Laravel Collection class. This means you must pass it a Closure in which you'll specify you search terms.\n\nIf you for instance want to find all items with an id of 1:\n\n```php\n$cart->search(function ($cartItem, $rowId) {\n\treturn $cartItem->id === 1;\n});\n```\n\nAs you can see the Closure will receive two parameters. The first is the CartItem to perform the check against. The second parameter is the rowId of this CartItem.\n\n**The method will return a Collection containing all CartItems that where found**\n\nThis way of searching gives you total control over the search process and gives you the ability to create very precise and specific searches.\n\n## Collections\n\nOn multiple instances the Cart will return to you a Collection. This is just a simple Laravel Collection, so all methods you can call on a Laravel Collection are also available on the result.\n\nAs an example, you can quicky get the number of unique products in a cart:\n\n```php\nCart::content()->count();\n```\n\nOr you can group the content by the id of the products:\n\n```php\nCart::content()->groupBy('id');\n```\n\n## Instances\n\nThe packages supports multiple instances of the cart. The way this works is like this:\n\nYou can set the current instance of the cart by calling `Cart::instance('newInstance')`. From this moment, the active instance of the cart will be `newInstance`, so when you add, remove or get the content of the cart, you're work with the `newInstance` instance of the cart.\nIf you want to switch instances, you just call `Cart::instance('otherInstance')` again, and you're working with the `otherInstance` again.\n\nSo a little example:\n\n```php\nCart::instance('shopping')->add('192ao12', 'Product 1', 1, 9.99);\n\n// Get the content of the 'shopping' cart\nCart::content();\n\nCart::instance('wishlist')->add('sdjk922', 'Product 2', 1, 19.95, ['size' => 'medium']);\n\n// Get the content of the 'wishlist' cart\nCart::content();\n\n// If you want to get the content of the 'shopping' cart again\nCart::instance('shopping')->content();\n\n// And the count of the 'wishlist' cart again\nCart::instance('wishlist')->count();\n```\n\n**N.B. Keep in mind that the cart stays in the last set instance for as long as you don't set a different one during script execution.**\n\n**N.B.2 The default cart instance is called `default`, so when you're not using instances,`Cart::content();` is the same as `Cart::instance('default')->content()`.**\n\n## Models\n\nBecause it can be very convenient to be able to directly access a model from a CartItem is it possible to associate a model with the items in the cart. Let's say you have a `Product` model in your application. With the `associate()` method, you can tell the cart that an item in the cart, is associated to the `Product` model. \n\nThat way you can access your model right from the `CartItem`!\n\nThe model can be accessed via the `model` property on the CartItem.\n\n**If your model implements the `Buyable` interface and you used your model to add the item to the cart, it will associate automatically.**\n\nHere is an example:\n\n```php\n\n// First we'll add the item to the cart.\n$cartItem = Cart::add('293ad', 'Product 1', 1, 9.99, ['size' => 'large']);\n\n// Next we associate a model with the item.\nCart::associate($cartItem->rowId, 'Product');\n\n// Or even easier, call the associate method on the CartItem!\n$cartItem->associate('Product');\n\n// You can even make it a one-liner\nCart::add('293ad', 'Product 1', 1, 9.99, ['size' => 'large'])->associate('Product');\n\n// Now, when iterating over the content of the cart, you can access the model.\nforeach(Cart::content() as $row) {\n\techo 'You have ' . $row->qty . ' items of ' . $row->model->name . ' with description: \"' . $row->model->description . '\" in your cart.';\n}\n```\n## Database\n\n- [Config](#configuration)\n- [Storing the cart](#save-cart-to-database)\n- [Restoring the cart](#retrieve-cart-from-database)\n\n### Configuration\nTo save cart into the database so you can retrieve it later, the package needs to know which database connection to use and what the name of the table is.\nBy default the package will use the default database connection and use a table named `shoppingcart`.\nIf you want to change these options, you'll have to publish the `config` file.\n\n    php artisan vendor:publish --provider=\"Gloudemans\\Shoppingcart\\ShoppingcartServiceProvider\" --tag=\"config\"\n\nThis will give you a `cart.php` config file in which you can make the changes.\n\nTo make your life easy, the package also includes a ready to use `migration` which you can publish by running:\n\n    php artisan vendor:publish --provider=\"Gloudemans\\Shoppingcart\\ShoppingcartServiceProvider\" --tag=\"migrations\"\n    \nThis will place a `shoppingcart` table's migration file into `database/migrations` directory. Now all you have to do is run `php artisan migrate` to migrate your database.\n\n### Storing the cart    \nTo store your cart instance into the database, you have to call the `store($identifier) ` method. Where `$identifier` is a random key, for instance the id or username of the user.\n\n    Cart::store('username');\n    \n    // To store a cart instance named 'wishlist'\n    Cart::instance('wishlist')->store('username');\n\n### Restoring the cart\nIf you want to retrieve the cart from the database and restore it, all you have to do is call the  `restore($identifier)` where `$identifier` is the key you specified for the `store` method.\n \n    Cart::restore('username');\n    \n    // To restore a cart instance named 'wishlist'\n    Cart::instance('wishlist')->restore('username');\n\n## Exceptions\n\nThe Cart package will throw exceptions if something goes wrong. This way it's easier to debug your code using the Cart package or to handle the error based on the type of exceptions. The Cart packages can throw the following exceptions:\n\n| Exception                    | Reason                                                                             |\n| ---------------------------- | ---------------------------------------------------------------------------------- |\n| *CartAlreadyStoredException* | When trying to store a cart that was already stored using the specified identifier |\n| *InvalidRowIDException*      | When the rowId that got passed doesn't exists in the current cart instance         |\n| *UnknownModelException*      | When you try to associate an none existing model to a CartItem.                    |\n\n## Events\n\nThe cart also has events build in. There are five events available for you to listen for.\n\n| Event         | Fired                                    | Parameter                        |\n| ------------- | ---------------------------------------- | -------------------------------- |\n| cart.added    | When an item was added to the cart.      | The `CartItem` that was added.   |\n| cart.updated  | When an item in the cart was updated.    | The `CartItem` that was updated. |\n| cart.removed  | When an item is removed from the cart.   | The `CartItem` that was removed. |\n| cart.stored   | When the content of a cart was stored.   | -                                |\n| cart.restored | When the content of a cart was restored. | -                                |\n\n## Example\n\nBelow is a little example of how to list the cart content in a table:\n\n```php\n\n// Add some items in your Controller.\nCart::add('192ao12', 'Product 1', 1, 9.99);\nCart::add('1239ad0', 'Product 2', 2, 5.95, ['size' => 'large']);\n\n// Display the content in a View.\n<table>\n   \t<thead>\n       \t<tr>\n           \t<th>Product</th>\n           \t<th>Qty</th>\n           \t<th>Price</th>\n           \t<th>Subtotal</th>\n       \t</tr>\n   \t</thead>\n\n   \t<tbody>\n\n   \t\t<?php foreach(Cart::content() as $row) :?>\n\n       \t\t<tr>\n           \t\t<td>\n               \t\t<p><strong><?php echo $row->name; ?></strong></p>\n               \t\t<p><?php echo ($row->options->has('size') ? $row->options->size : ''); ?></p>\n           \t\t</td>\n           \t\t<td><input type=\"text\" value=\"<?php echo $row->qty; ?>\"></td>\n           \t\t<td>$<?php echo $row->price; ?></td>\n           \t\t<td>$<?php echo $row->total; ?></td>\n       \t\t</tr>\n\n\t   \t<?php endforeach;?>\n\n   \t</tbody>\n   \t\n   \t<tfoot>\n   \t\t<tr>\n   \t\t\t<td colspan=\"2\">&nbsp;</td>\n   \t\t\t<td>Subtotal</td>\n   \t\t\t<td><?php echo Cart::subtotal(); ?></td>\n   \t\t</tr>\n   \t\t<tr>\n   \t\t\t<td colspan=\"2\">&nbsp;</td>\n   \t\t\t<td>Tax</td>\n   \t\t\t<td><?php echo Cart::tax(); ?></td>\n   \t\t</tr>\n   \t\t<tr>\n   \t\t\t<td colspan=\"2\">&nbsp;</td>\n   \t\t\t<td>Total</td>\n   \t\t\t<td><?php echo Cart::total(); ?></td>\n   \t\t</tr>\n   \t</tfoot>\n</table>\n```\n"
        },
        {
          "name": "composer.json",
          "type": "blob",
          "size": 1.3193359375,
          "content": "{\n    \"name\": \"gloudemans/shoppingcart\",\n    \"description\": \"Laravel Shoppingcart\",\n    \"keywords\": [\"laravel\", \"shoppingcart\"],\n    \"license\": \"MIT\",\n    \"authors\": [\n        {\n            \"name\": \"Rob Gloudemans\",\n            \"email\": \"info@robgloudemans.nl\"\n        }\n    ],\n    \"require\": {\n        \"illuminate/support\": \"5.1.* || 5.2.* || 5.3.* || 5.4.* || 5.5.*|| 5.6.* || 5.7.*\",\n        \"illuminate/session\": \"5.1.* || 5.2.* || 5.3.* || 5.4.* || 5.5.*|| 5.6.* || 5.7.*\",\n        \"illuminate/events\": \"5.1.* || 5.2.* || 5.3.* || 5.4.* || 5.5.*|| 5.6.* || 5.7.*\"\n    },\n    \"require-dev\": {\n        \"phpunit/phpunit\": \"~5.0 || ~6.0 || ~7.0\",\n        \"mockery/mockery\": \"~0.9.0\",\n        \"orchestra/testbench\": \"~3.1\"\n    },\n    \"autoload\": {\n        \"psr-4\": {\n            \"Gloudemans\\\\Shoppingcart\\\\\": \"src/\"\n        }\n    },\n    \"autoload-dev\": {\n        \"psr-4\": {\n            \"Gloudemans\\\\Tests\\\\Shoppingcart\\\\\": \"tests/\"\n        }\n    },\n    \"suggest\": {\n        \"gloudemans/notify\": \"Simple flash notifications for Laravel\"\n    },\n    \"minimum-stability\": \"stable\",\n    \"extra\": {\n        \"laravel\": {\n            \"providers\": [\n                \"Gloudemans\\\\Shoppingcart\\\\ShoppingcartServiceProvider\"\n            ],\n            \"aliases\": {\n                \"Cart\": \"Gloudemans\\\\Shoppingcart\\\\Facades\\\\Cart\"\n            }\n        }\n    }\n}\n"
        },
        {
          "name": "config",
          "type": "tree",
          "content": null
        },
        {
          "name": "database",
          "type": "tree",
          "content": null
        },
        {
          "name": "phpunit.xml",
          "type": "blob",
          "size": 0.5546875,
          "content": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<phpunit backupGlobals=\"false\"\n         backupStaticAttributes=\"false\"\n         bootstrap=\"vendor/autoload.php\"\n         colors=\"true\"\n         convertErrorsToExceptions=\"true\"\n         convertNoticesToExceptions=\"true\"\n         convertWarningsToExceptions=\"true\"\n         processIsolation=\"false\"\n         stopOnFailure=\"false\"\n         syntaxCheck=\"false\">\n    <testsuites>\n        <testsuite name=\"Package Test Suite\">\n            <directory suffix=\".php\">./tests/</directory>\n        </testsuite>\n    </testsuites>\n</phpunit>"
        },
        {
          "name": "src",
          "type": "tree",
          "content": null
        },
        {
          "name": "tests",
          "type": "tree",
          "content": null
        }
      ]
    }
  ]
}