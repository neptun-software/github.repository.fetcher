{
  "metadata": {
    "timestamp": 1736712024637,
    "page": 540,
    "hasNextPage": true,
    "endCursor": "Y3Vyc29yOjU0MA==",
    "completionStatus": "IN_PROGRESS"
  },
  "repositories": [
    {
      "nameWithOwner": "codehub666/94list",
      "stars": 1838,
      "defaultBranch": "main",
      "files": [
        {
          "name": "LICENSE",
          "type": "blob",
          "size": 1.0380859375,
          "content": "MIT License\n\nCopyright (c) 2023 烙印\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n"
        },
        {
          "name": "README.md",
          "type": "blob",
          "size": 1.5478515625,
          "content": "# 开源声明\n本程序是免费开源项目，核心代码均未加密，其要旨是为了方便文件分享与下载，重点是GET被没落的PHP语法学习。开源项目所涉及的接口均为官方开放接口，需使用正版SVIP会员账号进行代理提取高速链接，无破坏官方接口行为，本身不存违法。仅供自己参考学习使用。诺违规使用官方会限制或封禁你的账号，包括你的IP，如无官方授权进行商业用途会对你造成更严重后果。源码仅供学习，如无视声明使用产生正负面结果(限速，被封等)与都作者无关。  \n\n# 图片一阅\n![image](https://github.com/codehub666/94list/assets/81606392/c961f3e4-5cc5-448b-94bf-4b9a1f225ccb)\n![image](https://github.com/codehub666/94list/assets/81606392/077a488a-67fd-4a7d-807b-b4da6294a6ae)\n![image](https://github.com/codehub666/94list/assets/81606392/7e854299-08f9-4983-b721-0a16f7cd9e0b)\n\n# 安装方法\n建议环境需求:  \nPHP>7.4  \nPHP Curl 扩展  \nPHP Mysqli扩展  \nMysql>5.6  \n直接把程序丢进这环境下进行访问，会显示可视化安装步骤，跟着步骤进行数据库连接就可以了。\n![image](https://github.com/codehub666/94list/assets/81606392/641d6050-e69d-4237-9d6b-0e97affc3bde)\n\n# 原作者邮箱\na94author@outlook.com\n# 原作者官网\nhttps://api.94speed.com/\n# 演示地址\n窝：https://www.uy5.net/discuss/19115.html  \nB群管理RIO：https://58.87.88.194/\n# 其他\n基于laravel开发 : https://github.com/huankong233/94list-laravel  \nyuantuo666同学 :  https://github.com/yuantuo666/baiduwp-php\n"
        },
        {
          "name": "admin",
          "type": "tree",
          "content": null
        },
        {
          "name": "api.php",
          "type": "blob",
          "size": 1.6708984375,
          "content": "<?php\n/**\n * 全局接口\n * 开源仓库地址：https://github.com/codehub666/94list.git\n * 作者官网:https://api.94speed.com/\n * 作者邮箱:a94author@outlook.com\n * 声明:本程序是免费开源项目，核心代码均未加密，其要旨是为了方便文件分享与下载，重点是GET被没落的PHP语法学习。开源项目所涉及的接口均为官方开放接口，需使用正版SVIP会员账号进行代理提取高速链接，无破坏官方接口行为，本身不存违法。仅供自己参考学习使用，禁止商用。诺违规使用官方会限制或封禁你的账号，包括你的IP，如无官方授权进行商业用途会对你造成更严重后果。源码仅供学习，如无视声明使用产生正负面结果(限速，被封等)与都作者无关。\n */\nrequire_once(__DIR__ . \"/function.php\");\n\ntry {\n  $post = json_decode(file_get_contents(\"php://input\"), true);\n  $_POST = array_merge($_POST,$post);\n} catch (Exception $th) {\n}\n\n$type = $_POST['type'];\n$adminActions = [\n    'get_account_list' => 'get_account_list',\n    'delete_bd_user' => 'delete_bd_user',\n    'get_bd_info' => 'get_bd_info',\n    'add' => 'add',\n    'revise_info' => 'revise_info',\n    'switch_bd_user' => 'switch_bd_user',\n];\n$commonActions = [\n    'createDatabase' => 'createDatabase',\n    'login' => 'login',\n    'get_list' => 'get_list',\n    'get_sign' => 'get_sign',\n    'down_file' => 'down_file'\n];\nif (file_exists(__DIR__ . \"/config.php\")) {\n    if (if_login() && isset($adminActions[$type])) {\n        $data = call_user_func($adminActions[$type]);\n        echo $data;\n    }\n}\nif (isset($commonActions[$type])) {\n    $data = call_user_func($commonActions[$type]);\n    echo $data;\n}\n\n?>\n"
        },
        {
          "name": "assets",
          "type": "tree",
          "content": null
        },
        {
          "name": "function.php",
          "type": "blob",
          "size": 16.0166015625,
          "content": "<?php\n/**\n * 函数库\n * 开源仓库地址：https://github.com/codehub666/94list.git\n * 作者官网:https://api.94speed.com/\n * 作者邮箱:a94author@outlook.com\n * 声明:本程序是免费开源项目，核心代码均未加密，其要旨是为了方便文件分享与下载，重点是GET被没落的PHP语法学习。开源项目所涉及的接口均为官方开放接口，需使用正版SVIP会员账号进行代理提取高速链接，无破坏官方接口行为，本身不存违法。仅供自己参考学习使用，禁止商用。诺违规使用官方会限制或封禁你的账号，包括你的IP，如无官方授权进行商业用途会对你造成更严重后果。源码仅供学习，如无视声明使用产生正负面结果(限速，被封等)与都作者无关。\n */\n\nsession_start();\n$v=\"0.0.1\";\nif (file_exists(__DIR__ . \"/config.php\")) {\n    require_once(__DIR__ . \"/config.php\");\n    if_login() && error_reporting(E_ALL) && ini_set('display_errors', 1);\n}\n\n\nfunction get_config() {\n    $sql = \"SELECT * FROM `config`\"; \n    $connectDatabase = connectDatabase();\n    $result = $connectDatabase->query($sql);\n    $response = array();\n    $row = $result->fetch_assoc();\n    $connectDatabase->close();\n    return $row;\n}\n\nfunction gethead($url, $header) {\n    $ch = curl_init($url);\n    setCurl($ch, $header);\n    curl_setopt_array($ch, [\n        CURLOPT_HEADER => true,\n        CURLOPT_NOBODY => true,\n        CURLOPT_FOLLOWLOCATION => false,\n    ]);\n    $response = curl_exec($ch);\n    $headerSize = curl_getinfo($ch, CURLINFO_HEADER_SIZE);\n    curl_close($ch);\n    return substr($response, 0, $headerSize);\n}\n\nfunction UseCookie(){\n   $sql = \"SELECT * FROM `bd_user` WHERE (`state` = 0 OR `state` = -2) AND `switch` = 0 ORDER BY RAND() LIMIT 1;\";\n    $connectDatabase = connectDatabase();\n    $result = $connectDatabase->query($sql);\n    $response = array();\n    $row = $result->fetch_assoc();\n    $connectDatabase->close();\n    return $row;\n}\n\nfunction connectDatabase() {\n    global $hostname, $username, $password, $database;\n    $connection = mysqli_connect($hostname, $username, $password, $database);\n    if (!$connection) {\n        $response[\"success\"] = false;\n        $response[\"message\"] = \"连接数据库失败：\" . mysqli_connect_error();\n        return json_encode($response);\n    } else {\n        return $connection;\n    }\n}\n\nfunction if_login() {\n    if (isset($_SESSION['user'])) {\n        $user = $_SESSION['user'];\n        $connectDatabase = connectDatabase();\n        $sql = \"SELECT * FROM `admin` WHERE `user` LIKE '$user'\";\n        $result = $connectDatabase->query($sql);\n        if ($result->num_rows == 1) {\n                return true;\n        }\n        $connectDatabase->close();\n    }\n    return false;\n}\n\nfunction login() {\n    $user = $_POST['user'];\n    $pass = $_POST['pass'];\n    $sql = \"SELECT * FROM `admin` WHERE `user` = '$user'\";\n    \n    $connectDatabase = connectDatabase();\n    $result = $connectDatabase->query($sql);\nif($result){\n    if ($result->num_rows == 1) {\n        $row = $result->fetch_assoc();\n        if ($pass == $row['pass']) {\n            $_SESSION['user'] = $user;\n            $response[\"success\"] = true;\n            $response[\"message\"] = \"登录成功，感谢使用\";\n        } else {\n            $response[\"success\"] = false;\n            $response[\"message\"] = \"密码错误\";\n        }\n    } else {\n        $response[\"success\"] = false;\n        $response[\"message\"] = \"账号不存在\";\n    }\n}else{\n     $response[\"success\"] = false;\n        $response[\"message\"] = \"查询失败，可能是数据库出现问题\";\n}\n  \n    $connectDatabase->close();\n    return json_encode($response);\n}\n\nfunction importSQLFile($connection) {\n    $sqlFile = './install/install.sql';\n    $sql = file_get_contents($sqlFile);\n    $sqlStatements = explode(';', $sql);\n    \n    foreach ($sqlStatements as $sqlStatement) {\n        $sqlStatement = trim($sqlStatement);\n        if (!empty($sqlStatement)) {\n            if ($connection->query($sqlStatement) !== TRUE) {\n                return false;\n            }\n        }\n    }\n    \n    return true;\n}\n\nfunction delete_bd_user() {\n    $id=$_POST['id'];\n    $connectDatabase = connectDatabase();\n    $sql = \"DELETE FROM bd_user WHERE `bd_user`.`id` = $id\";\n    $result = $connectDatabase->query($sql);\n\n    if ($result === true) {\n    $response[\"success\"] = true;\n    $response[\"message\"] =\"账号数据删除成功\";\n    } else {\n    $response[\"success\"] = false;\n    $response[\"message\"] =\"删除失败，\".$connectDatabase->error.\"\";\n    }\n\n    $connectDatabase->close();\n    return json_encode($response);\n}\n\nfunction get_account_list(){//输出账号列表\n$connectDatabase = connectDatabase();\n    // 执行查询\n$sql = \"SELECT * FROM `bd_user` ORDER BY `bd_user`.`id` DESC\";\n$result = $connectDatabase->query($sql);\n\nif ($result) {\n    $data = array();\n\n    while ($row = $result->fetch_assoc()) {\n        $data[] = $row;\n    }\n    $response[\"success\"] = true;\n    $response[\"message\"] =\"列表渲染数据获取成功\";\n    $response[\"list\"] = $data;\n} else {\n      $response[\"success\"] = false;\n      $response[\"message\"] = \"查询列表失败，\".$connectDatabase->error.\"\";\n}\n\n$connectDatabase->close();\nreturn json_encode($response);\n}\n\nfunction createDatabase() {\n    if (!file_exists(\"./config.php\")) {\n        $response = array();\n        $hostname = $_POST[\"hostname\"];\n        $username = $_POST[\"username\"];\n        $password = $_POST[\"password\"];\n        $database = $_POST[\"database\"];\n\n        $connection = mysqli_connect($hostname, $username, $password, $database);\n        \n        if ($connection) {\n            $configContent = \"<?php\\n\";\n            $configContent .= \"\\$hostname = \\\"$hostname\\\";\\n\";\n            $configContent .= \"\\$username = \\\"$username\\\";\\n\";\n            $configContent .= \"\\$password = \\\"$password\\\";\\n\";\n            $configContent .= \"\\$database = \\\"$database\\\";\\n\";\n            $configContent .= \"?>\";\n            \n            if (file_put_contents(\"./config.php\", $configContent)) {\n                if (importSQLFile($connection)) {\n                    $response[\"success\"] = true;\n                    $response[\"message\"] = \"数据库连接并配置成功\";\n                } else {\n                    $response[\"success\"] = true;\n                    $response[\"message\"] = \"导入基础数据库失败,可能你这个数据库中已经有基础数据了，可无视这个报错\";\n                }\n            } else {\n                $response[\"success\"] = false;\n                $response[\"message\"] = \"无权限配置数据库信息\";\n            }\n            \n            $connection->close();\n        } else {\n            $response[\"success\"] = false;\n            $response[\"message\"] = \"连接失败，请检查数据库信息\";\n        }\n    } else {\n        $response[\"success\"] = false;\n        $response[\"message\"] = \"已经配置过数据库连接信息\";\n    }\n    \n    return json_encode($response);\n}\n\n\n\n\nfunction setCurl($ch, array $header) {\n    $options = array(\n        CURLOPT_SSL_VERIFYPEER => false,\n        CURLOPT_SSL_VERIFYHOST => 0,\n        CURLOPT_RETURNTRANSFER => true,\n        CURLOPT_HTTPHEADER => $header,\n        CURLOPT_TIMEOUT => 8, \n    );\n\n    curl_setopt_array($ch, $options);\n}\n\nfunction get(string $url, array $header) {\n    $ch = curl_init($url);\n    setCurl($ch, $header);\n    $result = curl_exec($ch);\n    curl_close($ch);\n    return $result;\n}\n\nfunction post(string $url, $data, array $header) {\n    $ch = curl_init($url);\n    setCurl($ch, $header);\n    \n    curl_setopt($ch, CURLOPT_POST, true);\n    curl_setopt($ch, CURLOPT_POSTFIELDS, $data);\n\n    $result = curl_exec($ch);\n    curl_close($ch);\n\n    return $result;\n}\n\nfunction get_bd_info() {//获取用户信息\n    $cookie = $_POST['cookie'];\n    $header = array(\n        'Cookie: ' . $cookie\n    ); \n    $result = get('https://pan.baidu.com/rest/2.0/xpan/nas?method=uinfo', $header);\n\n    if ($result === false) {\n        $response[\"success\"] = false;\n        $response[\"message\"] = \"后端通讯错误\";\n    } else {\n        $decodedResult = json_decode($result, true); \n        if ($decodedResult !== null) {\n            $response[\"success\"] = true;\n            $response[\"data\"] = $decodedResult; \n        } else {\n            $response[\"success\"] = false;\n            $response[\"message\"] = \"JSON 解码错误\";\n        }\n    }\n    \n    return json_encode($response);\n}\n\nfunction revise_info(){\n    $connectDatabase = connectDatabase();\n    $title = $_POST['title'];\n    $AnnounceSwitch = $_POST['AnnounceSwitch'];\n    $AnnounceSwitch = ($AnnounceSwitch == \"true\") ? 1 : 0;\n    $Announce = $_POST['Announce'];\n    $user_agent = $_POST['user_agent'];\n    $cookie = $_POST['cookie'];\n    $sql = \"UPDATE `config` SET `title` = '$title', `user_agent` = '$user_agent', `cookie` = '$cookie', `AnnounceSwitch` = '$AnnounceSwitch', `Announce` = '$Announce' WHERE `config`.`id` = 1;\";\n    $result = $connectDatabase->query($sql);\n    if ($result === true) {\n        $response[\"success\"] = true;\n        $response[\"message\"] = '修改基础信息成功';\n    } else {\n        $response[\"success\"] = false;\n        $response[\"message\"] = '修改基础信息失败';\n    }\n$connectDatabase->close();\nreturn json_encode($response);\n}\nfunction switch_bd_user(){\n$id=$_POST['id'];\n$switch=$_POST['switch'];\n$switch = ($switch === '-1') ? '0' : (($switch === '0') ? '-1' : $switch);\n$sql=\"UPDATE `bd_user` SET `switch` = '$switch' WHERE `bd_user`.`id` = $id;\";\n$connectDatabase = connectDatabase();\n$result = $connectDatabase->query($sql);\n   if ($result === true) {\n    $response[\"success\"] = true;\n    $response[\"message\"] =\"更改状态成功\";\n    $response[\"switch\"]=$switch;\n    } else {\n    $response[\"success\"] = false;\n    $response[\"message\"] =\"更改状态失败，\".$connectDatabase->error.\"\";\n    }\n$connectDatabase->close();\nreturn json_encode($response);\n}\n\nfunction add() {\n    $cookie = $_POST['cookie'];\n    $name = $_POST['name'];\n    $vip_type = $_POST['vip_type'];\n    $currentDateTime = date('Y-m-d H:i:s'); \n    $sql = \"INSERT INTO `bd_user` (`id`, `name`, `cookie`, `add_time`, `use`, `state`, `switch`, `vip_type`) \n            VALUES (NULL, '$name', '$cookie', '$currentDateTime', '$currentDateTime', '-2', '0', '$vip_type');\";\n\n    $connectDatabase = connectDatabase();\n    $result = $connectDatabase->query($sql);\n\n    $response = [\n        \"success\" => false,\n        \"message\" => \"代理账号插入失败：\" . $connectDatabase->error\n    ];\n\n    if ($result) {\n        $response[\"success\"] = true;\n        $response[\"message\"] = \"代理账号插入成功\";\n    }\n\n    return json_encode($response);\n}\n\nfunction get_sign() {\n    $shareid = $_POST['shareid'];\n    $uk = $_POST['uk'];\n    $get_config = get_config();\n    $header = [\n        'Cookie: ' . $get_config['cookie']\n    ];\n    \n    $result = get('https://pan.baidu.com/share/tplconfig?shareid=' . $shareid . '&uk=' . $uk . '&fields=sign,timestamp&channel=chunlei&web=1&app_id=250528&clienttype=0', $header);\n    $decodedResult = json_decode($result, true);\n    $errno = $decodedResult[\"errno\"];\n    \n    $response = [\n        \"success\" => false,\n        \"message\" => \"未知错误代码：\" . $errno\n    ];\n\n    switch ($errno) {\n        case '0':\n            $response[\"success\"] = true;\n            $response[\"message\"] = \"取链信息值已经获取到位\";\n            $response[\"data\"] = $decodedResult;\n            break;\n        case '9019':\n            $response[\"message\"] = \"错误代码：\" . $errno . \"，获取信息的代理账号有问题\";\n            break;\n    }\n\n    return json_encode($response);\n}\n\n\nfunction BanCookie($id){//cookie失效，封禁一下\n$sql=\"UPDATE `bd_user` SET `state` = '-1' WHERE `bd_user`.`id` = $id;\";\n$connectDatabase = connectDatabase();\n$connectDatabase->query($sql);\n$connectDatabase->close();\n}\n\nfunction UpdateCookieTime($id){\n$currentDateTime = date('Y-m-d H:i:s'); \n$sql=\"UPDATE `bd_user` SET `use` = '$currentDateTime', `state` = '0' WHERE `bd_user`.`id` = $id;\";\n$connectDatabase = connectDatabase();\n$connectDatabase->query($sql);\n$connectDatabase->close();\n}\n\nfunction extractStr($str, $left, $right) {\n    $start = strpos($str, $left);\n    \n    if ($start !== false) {\n        $end = strpos($str, $right, $start);\n        \n        if ($end !== false) {\n            $start += strlen($left);\n            $result = substr($str, $start, $end - $start);\n            \n            if ($left === \"Location\") {\n                $result = substr($result, 10);\n            }\n            \n            return $result;\n        }\n    }\n    \n    return '';\n}\n\nfunction down_file(){\n$fs_id=$_POST['fs_id'];\n$time=$_POST['time'];\n$uk=$_POST['uk'];\n$sign=$_POST['sign'];\n$randsk=$_POST['randsk'];\n$share_id=$_POST['share_id'];\n$get_config=get_config();\n$UseCookie=UseCookie();\n$cookie = isset($UseCookie['cookie']) ? $UseCookie['cookie'] : null;\nif($cookie==null){\n$response[\"success\"] = false;\n$response[\"message\"] = \"仓库已经没有可用的代理账号提供服务。\";\nreturn json_encode($response);\n}\n$user_agent=$get_config['user_agent'];\n$url = 'https://pan.baidu.com/api/sharedownload?channel=chunlei&clienttype=12&sign=' . $sign . '&timestamp=' . $time . '&web=1';\n$data = \"encrypt=0\" . \"&extra=\" . urlencode('{\"sekey\":\"' . urldecode($randsk) . '\"}') . \"&fid_list=[$fs_id]\" . \"&primaryid=$share_id\" . \"&uk=$uk\" . \"&product=share&type=nolimit\";\n$header = array(\n\t\t\"User-Agent:$user_agent\",\n\t\t\"Cookie:$cookie\",\n\t\t\"Referer: https://pan.baidu.com/disk/home\",\n\t\t\"Host: pan.baidu.com\",\n\t);\n\t$result=post($url, $data, $header);\n\t$decodedResult = json_decode($result, true);\n\t$errno=$decodedResult[\"errno\"];\n\tswitch ($errno) {\ncase '0':\nUpdateCookieTime($UseCookie['id']);\n$headerArray = array( 'User-Agent:'.$user_agent.'', 'Cookie:'.$cookie.'' );\n$gethead=gethead($decodedResult[\"list\"][0]['dlink'],$headerArray);\n$realLink = extractStr($gethead, \"http://\", \"\\r\\n\");\nif($realLink==\"\"){\n$response[\"success\"] = false;\n$response[\"message\"] = \"获取跳转链接出错\";\n}else{\n$response[\"success\"] = true;\n$response[\"message\"] = \"下载数据获取成功\";\n$response[\"data\"][\"user_agent\"]=$user_agent;\n$response['data']['dlink']=\"https://$realLink\";\n$response[\"data\"][\"fs_id\"]=$decodedResult[\"list\"][0]['fs_id'];\n$response[\"data\"][\"md5\"]=$decodedResult[\"list\"][0]['md5'];\n}\n\n\nbreak;\ncase '9019':\ncase '8001':\nBanCookie($UseCookie['id']);\n$response[\"success\"] = false;\n$response[\"message\"] = \"错误代码\".$errno.\",代理账号失效或者IP被封禁。\";\nbreak;\ncase '110':\n$response[\"success\"] = false;\n$response[\"message\"] = \"当前代理ip已被BAN，请通知一下管理。\";\nbreak;\ndefault:\n$response[\"success\"] = false;\n$response[\"message\"] = \"未知错误代码：\".$errno.\"\";\nbreak;\n\t}\nreturn json_encode($response);\n}\n\n\nfunction get_list() {\n    $shorturl = $_POST['shorturl'];\n    $dir = $_POST['dir'];\n    $root = ($dir == '') ? 1 : 0;\n    $pwd = $_POST['pwd'];\n    $page = $_POST['page'];\n    $num = $_POST['num'];\n    $order = \"time\";\n\n    $data = 'shorturl=' . $shorturl . '&dir=' . $dir . '&root=' . $root . '=&pwd=' . $pwd . '&page=1&num=1000&order=time';\n    $get_config = get_config();\n    $header = array(\n        'Cookie: ' . $get_config['cookie']\n    );\n    $result = post(\"https://pan.baidu.com/share/wxlist?channel=weixin&version=2.2.2&clienttype=25&web=1&qq-pf-to=pcqq.c2c\", $data, $header);\n\n    $decodedResult = json_decode($result, true);\n    $errno = $decodedResult[\"errno\"];\n\n    $response = [\n        \"success\" => false,\n        \"message\" => \"未知错误代码：\" . $errno\n    ];\n\n    switch ($errno) {\n        case '0':\n            $response[\"success\"] = true;\n            $response[\"message\"] = \"列表数据获取成功\";\n            $response[\"list\"] = $decodedResult[\"data\"][\"list\"];\n            $response[\"data\"][\"uk\"] = $decodedResult[\"data\"][\"uk\"];\n            $response[\"data\"][\"shareid\"] = $decodedResult[\"data\"][\"shareid\"];\n            $response[\"data\"][\"randsk\"] = $decodedResult[\"data\"][\"seckey\"];\n            break;\n        case '9019':\n            $response[\"message\"] = \"通知一下管理员获取列表的代理账号出现问题\";\n            break;\n        case '-130':\n            $response[\"message\"] = \"错误 \" . $errno . \"，可能你这个链接已经失效或者无法访问\";\n            break;\n    }\n\n    return json_encode($response);\n}\n\n?>"
        },
        {
          "name": "header.php",
          "type": "blob",
          "size": 0.8203125,
          "content": "<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width,initial-scale=1.0\" />\n<!--<script src=\"/assets/js/axios.min.js\"></script>\n<script src=\"/assets/js/vue.global.js\"></script>\n<link rel=\"stylesheet\" href=\"/assets/css/index.css\">\n<script src=\"https://unpkg.com/element-plus\"></script>\n<script src=\"//unpkg.com/@element-plus/icons-vue\"></script>-->\n\n<script src=\"https://cdn.bootcdn.net/ajax/libs/axios/1.5.0/axios.min.js\"></script>\n<script src=\"https://cdn.bootcdn.net/ajax/libs/vue/3.3.4/vue.global.min.js\"></script>\n<link href=\"https://cdn.bootcdn.net/ajax/libs/element-plus/2.3.12/index.min.css\" rel=\"stylesheet\">\n<script src=\"https://cdn.bootcdn.net/ajax/libs/element-plus/2.3.12/index.full.min.js\"></script>\n<script src=\"https://cdn.bootcdn.net/ajax/libs/element-plus-icons-vue/2.1.0/global.iife.min.js\"></script>\n"
        },
        {
          "name": "index.php",
          "type": "blob",
          "size": 3.3173828125,
          "content": "<?php\nrequire_once(__DIR__ . \"/function.php\");\n!file_exists(\"./config.php\")? header('Location: ./install/'):\n\n$get_config=get_config();?>\n<!DOCTYPE html>\n<html>\n<head>\n<?php require_once(__DIR__ . \"/header.php\"); ?>\n<title><?php echo $get_config['title'] ?> 用户操作演示面板</title>\n</head>\n<body>\n\n<div id=\"app\">\n <el-dialog\n    v-model=\"AnnounceSwitch\"\n    title=\"公告\"\n    width=\"90%\"\n  >\n<span>{{Announce}}</span>\n  </el-dialog>\n  <el-dialog v-model=\"DownDialog\" title=\"解析任务列表\" width=\"80%\" >\n      <el-space wrap> 当前的UA : <el-link type=\"danger\" @click=\"copy(user_agent,'已复制UA')\">{{ user_agent }}</el-link></el-space><br><br>\n    <el-table :data=\"rw_list\" show-overflow-tooltip>\n      <el-table-column property=\"name\" label=\"文件名\" width=\"180\"  fixed></el-table-column>\n      <el-table-column  label=\"下载链接\" width=\"480\" >\n    <template #default=\"scope\">\n    {{ scope.row.dlink }}\n  </template>\n      </el-table-column>\n      <el-table-column label=\"操作\" width=\"280\">\n      <template #default=\"scope\"  >\n          \n          <template v-if=\"scope.row.DownState=='0'\">\n         <el-button @click=\"copy(scope.row.dlink,'已将链接复制到粘贴板内')\" type=\"text\" size=\"small\">复制链接</el-button>\n        <el-button type=\"text\" size=\"small\" @click=\"senddown(scope.row.dlink,scope.row.name,'6800')\">发送Aria2</el-button>\n        <el-button type=\"text\" size=\"small\" @click=\"senddown(scope.row.dlink,scope.row.name,'16800')\">发送Motrix</el-button>\n        </template>\n         <template v-if=\"scope.row.DownState=='1'\">\n         \n        </template>\n      </template>\n    </el-table-column>\n    </el-table>\n  </el-dialog>\n    \n<el-card class=\"card\">\n<el-input\n  type=\"textarea\"\n  :rows=\"2\"\n  placeholder=\"需要处理的链接\"\n  v-model=\"taskurl\">\n</el-input><br><br>\n<el-input v-model=\"pass\" placeholder=\"链接对应的密码\"></el-input><br><br>\n<el-row :gutter=\"5\">\n<el-button  type=\"primary\" @click=\"analyze()\" :loading=\"taskstate\">解析链接</el-button>\n<el-button  type=\"primary\" @click=\"pl_down()\" :loading=\"taskstate\">批量下载</el-button>\n</el-row>\n</el-card><br><br>\n<el-card>\n<el-table\n    :data=\"list\"\n    stripe\n    style=\"width: 100%\"\n    @row-click=\"clickfile\"\n    v-loading=\"taskstate\"\n     @selection-change=\"SelectedRows\"\n    >\n        <el-table-column\n      type=\"selection\"\n      width=\"55\">\n    </el-table-column>\n    <el-table-column\n      label=\"文件名\"\n      width=\"280\">\n   <template #default=\"scope\">\n    <el-space wrap>\n  <img\n    :src=\"scope.row.isdir == '1' ? '/assets/images/file.png' : '/assets/images/unknownfile.png'\"\n    style=\"width: 20px; height: 20px;\"\n  />\n  {{ scope.row.server_filename }}\n</el-space>\n    </template>\n    </el-table-column>\n    <el-table-column\n      label=\"修改时间\"\n      width=\"180\">\n  <template #default=\"scope\">\n    {{ formatTimestamp(scope.row.server_mtime) }}\n  </template>\n    </el-table-column>\n    <el-table-column\n      label=\"大小\">\n      <template #default=\"scope\">\n    {{ formatBytes(scope.row.size) }}\n  </template>\n    </el-table-column>\n  </el-table>\n  </el-card>\n</div>\n<script>\n  const user_agent = \"<?php echo $get_config['user_agent']; ?>\";\n  const AnnounceSwitch = <?php echo $get_config['AnnounceSwitch'] ? 'true' : 'false'; ?>;\n  const Announce = \"<?php echo $get_config['Announce']; ?>\";\n</script>\n<script src=\"/assets/js/index.js\"></script>"
        },
        {
          "name": "install",
          "type": "tree",
          "content": null
        }
      ]
    }
  ]
}